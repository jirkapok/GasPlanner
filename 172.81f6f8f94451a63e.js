(self.webpackChunkplanner=self.webpackChunkplanner||[]).push([[172],{749:(Se,ce,Ht)=>{"use strict";Ht.d(ce,{e:()=>ct});var nt=Ht(990),f=Ht.n(nt),vt=Ht(103);class ct{static toTanks(_){const b=[];return _.forEach(y=>{const F=new vt.VQ(y.size,y.startPressure,0);F.id=y.id,F.gas.fO2=y.gas.fO2,F.gas.fHe=y.gas.fHe,b.push(F)}),vt.bz.renumberIds(b),b}static fromTanks(_){const b=[];return _.forEach(y=>{const F=y.tank,P={id:F.id,size:F.size,workPressure:y.workingPressureBars,startPressure:F.startPressure,gas:ct.fromGas(F.gas)};b.push(P)}),b}static toConsumed(_){const b=[];for(let y=0;y<_.length;y++){const F=_[y];b.push({id:F.id,consumed:F.consumed,reserve:F.reserve})}return b}static toSegments(_,b){const y=[];for(let F=0;F<_.length;F++){const P=_[F],at=ct.toGas(P.gas),tt=new vt.XX(P.startDepth,P.endDepth,at,P.duration);P.tankId>0&&P.tankId<=b.length&&(tt.tank=b[P.tankId-1]),y.push(tt)}return y}static fromSegments(_){const b=[];return _.forEach(y=>{const P={startDepth:y.startDepth,endDepth:y.endDepth,duration:y.duration,tankId:y.tank?y.tank.id:0,gas:ct.fromGas(y.gas)};b.push(P)}),b}static toProfile(_,b){const y=ct.toSegments(_.segments,b);if(_.errors.length>0){const P=ct.toEvents(_.errors);return vt.Z1.fromErrors(y,P.items)}const F=ct.toTissues(_.tissues);return vt.Z1.fromProfile(y,_.ceilings,F)}static fromProfile(_){return{segments:ct.fromSegments(_.segments),ceilings:_.ceilings,tissues:ct.fromTissues(_.tissues),errors:ct.fromEvents(_.errors)}}static toTissues(_){return f()(_).map(b=>({pN2:b.pN2,pHe:b.pHe,a:b.a,b:b.b})).value()}static fromTissues(_){return f()(_).map(b=>({pN2:b.pN2,pHe:b.pHe,a:b.a,b:b.b})).value()}static toEvents(_){const b=new vt.zW;return _.forEach(y=>{const F=vt.ju.create(y.type,y.timeStamp,y.depth);F.message=y.message,y.gas&&(F.gas=ct.toGas(y.gas)),b.add(F)}),b}static fromEvents(_){const b=[];return _.forEach(y=>{const F={timeStamp:y.timeStamp,depth:y.depth,type:y.type,message:y.message};y.gas&&(F.gas=ct.fromGas(y.gas)),b.push(F)}),b}static fromDiver(_){return{rmv:_.rmv}}static toDiver(_){return new vt.rr(_.rmv)}static fromOptions(_){return{gfLow:_.gfLow,gfHigh:_.gfHigh,maxPpO2:_.maxPpO2,maxDecoPpO2:_.maxDecoPpO2,salinity:_.salinity,altitude:_.altitude,roundStopsToMinutes:_.roundStopsToMinutes,gasSwitchDuration:_.gasSwitchDuration,safetyStop:_.safetyStop,lastStopDepth:_.lastStopDepth,decoStopDistance:_.decoStopDistance,minimumAutoStopDepth:_.minimumAutoStopDepth,maxEND:_.maxEND,oxygenNarcotic:_.oxygenNarcotic,ascentSpeed6m:_.ascentSpeed6m,ascentSpeed50percTo6m:_.ascentSpeed50percTo6m,ascentSpeed50perc:_.ascentSpeed50perc,descentSpeed:_.descentSpeed,problemSolvingDuration:_.problemSolvingDuration}}static toOptions(_){const b=new vt.Ei(_.gfLow,_.gfHigh,_.maxPpO2,_.maxDecoPpO2,_.salinity);return b.altitude=_.altitude,b.roundStopsToMinutes=_.roundStopsToMinutes,b.gasSwitchDuration=_.gasSwitchDuration,b.safetyStop=_.safetyStop,b.lastStopDepth=_.lastStopDepth,b.decoStopDistance=_.decoStopDistance,b.minimumAutoStopDepth=_.minimumAutoStopDepth,b.maxEND=_.maxEND,b.oxygenNarcotic=_.oxygenNarcotic,b.ascentSpeed6m=_.ascentSpeed6m,b.ascentSpeed50percTo6m=_.ascentSpeed50percTo6m,b.ascentSpeed50perc=_.ascentSpeed50perc,b.descentSpeed=_.descentSpeed,b.problemSolvingDuration=_.problemSolvingDuration,b}static fromDensity(_){return{gas:ct.fromGas(_.gas),depth:_.depth,density:_.density}}static toDensity(_){const b=ct.toGas(_.gas);return new vt.kf(b,_.depth,_.density)}static toGas(_){return new vt.RP(_.fO2,_.fHe)}static fromGas(_){return{fO2:_.fO2,fHe:_.fHe}}}},172:(Se,ce,Ht)=>{"use strict";Ht.d(ce,{P:()=>vt});var nt=Ht(103),f=Ht(749);class vt{static calculateDecompression(X){const _=this.profileParametersFromTask(X),y=(new nt.dD).decompression(_),F=f.e.fromProfile(y),at=nt.uv.fromProfile({maxDensity:X.eventOptions.maxDensity,startAscentIndex:_.segments.startAscentIndex,profile:y.segments,ceilings:y.ceilings,profileOptions:_.options}),tt=f.e.fromEvents(at.items);return{diveId:X.diveId,profile:F,events:tt}}static diveInfo(X){const _=this.profileParametersFromTask(X),y=(new nt.dD).noDecoLimit(_),F=new nt.FQ(X.options).create(),P=_.segments.items,at=new nt.Uz(F).calculateForProfile(P),tt=new nt.rQ(F).calculateForProfile(P),wt=new nt.E1(F).forProfile(P);return{diveId:X.diveId,noDeco:y,otu:at,cns:tt,density:f.e.fromDensity(wt)}}static calculateConsumption(X){const _=new nt.FQ(X.options).create(),b=new nt.Cb(_),y=f.e.toTanks(X.tanks),F=f.e.toSegments(X.profile,y),P=f.e.toSegments(X.plan,y),at=nt.wC.fromCollection(P),tt=new nt.rr(X.diver.rmv),wt=f.e.toOptions(X.options),M=b.calculateMaxBottomTime(at,y,tt,wt),he=b.emergencyAscent(F,wt,y);let pt=nt.wC.duration(he);return pt=nt.qp.toMinutes(pt),b.consumeFromTanks2(F,he,wt,y,tt),{diveId:X.diveId,maxTime:M,timeToSurface:pt,tanks:f.e.toConsumed(y)}}static profileParametersFromTask(X){const _=f.e.toTanks(X.tanks),b=nt.Vw.fromTanks(_),y=f.e.toSegments(X.plan,_),F=nt.wC.fromCollection(y),P=f.e.toOptions(X.options),at=f.e.toTissues(X.tissues),tt=new nt._0(at,X.surfaceInterval);return nt.Dc.forMultilevelDive(F,b,P,tt)}}},990:function(Se,ce,Ht){var nt;Se=Ht.nmd(Se),function(){var f,_="Expected a function",y="__lodash_hash_undefined__",P="__lodash_placeholder__",U=1/0,Et=9007199254740991,st=4294967295,Zr=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Qe="[object Arguments]",je="[object Array]",Ne="[object Boolean]",He="[object Date]",pe="[object Error]",Fe="[object Function]",We="[object GeneratorFunction]",bt="[object Map]",jt="[object Number]",de="[object Object]",tr="[object Promise]",tn="[object RegExp]",Kt="[object Set]",pn="[object String]",ft="[object Symbol]",te="[object WeakMap]",en="[object ArrayBuffer]",we="[object DataView]",er="[object Float32Array]",In="[object Float64Array]",bn="[object Int8Array]",nr="[object Int16Array]",Ln="[object Int32Array]",Rn="[object Uint8Array]",Mn="[object Uint8ClampedArray]",nn="[object Uint16Array]",Bn="[object Uint32Array]",as=/\b__p \+= '';/g,os=/\b(__p \+=) '' \+/g,Ft=/(__e\(.*?\)|\b__t\)) \+\n'';/g,qr=/&(?:amp|lt|gt|quot|#39);/g,w=/[&<>"']/g,r=RegExp(qr.source),i=RegExp(w.source),u=/<%-([\s\S]+?)%>/g,h=/<%([\s\S]+?)%>/g,m=/<%=([\s\S]+?)%>/g,A=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,T=/^\w*$/,I=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,L=/[\\^$.*+?()[\]{}|]/g,V=RegExp(L.source),xt=/^\s+/,St=/\s/,De=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Xr=/\{\n\/\* \[wrapped with (.+)\] \*/,Na=/,? & /,Ha=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Fa=/[()=,{}\[\]\/\s]/,Wa=/\\(\\)?/g,Ga=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,cs=/\w*$/,Ua=/^[-+]0x[0-9a-f]+$/i,ka=/^0b[01]+$/i,za=/^\[object .+?Constructor\]$/,Ka=/^0o[0-7]+$/i,$a=/^(?:0|[1-9]\d*)$/,Za=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rr=/($^)/,Ya=/['\n\r\u2028\u2029\\]/g,ir="\\ud800-\\udfff",hs="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",fs="\\u2700-\\u27bf",ls="a-z\\xdf-\\xf6\\xf8-\\xff",ps="A-Z\\xc0-\\xd6\\xd8-\\xde",ds="\\ufe0e\\ufe0f",gs="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",eo="["+ir+"]",ms="["+gs+"]",sr="["+hs+"]",vs="\\d+",no="["+fs+"]",_s="["+ls+"]",Ss="[^"+ir+gs+vs+fs+ls+ps+"]",Qr="\\ud83c[\\udffb-\\udfff]",ws="[^"+ir+"]",jr="(?:\\ud83c[\\udde6-\\uddff]){2}",ti="[\\ud800-\\udbff][\\udc00-\\udfff]",gn="["+ps+"]",xs="(?:"+_s+"|"+Ss+")",io="(?:"+gn+"|"+Ss+")",As="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Cs="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",ys="(?:"+sr+"|"+Qr+")?",Ps="["+ds+"]?",Ts=Ps+ys+"(?:\\u200d(?:"+[ws,jr,ti].join("|")+")"+Ps+ys+")*",oo="(?:"+[no,jr,ti].join("|")+")"+Ts,co="(?:"+[ws+sr+"?",sr,jr,ti,eo].join("|")+")",ho=RegExp("['\u2019]","g"),fo=RegExp(sr,"g"),ei=RegExp(Qr+"(?="+Qr+")|"+co+Ts,"g"),lo=RegExp([gn+"?"+_s+"+"+As+"(?="+[ms,gn,"$"].join("|")+")",io+"+"+Cs+"(?="+[ms,gn+xs,"$"].join("|")+")",gn+"?"+xs+"+"+As,gn+"+"+Cs,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",vs,oo].join("|"),"g"),po=RegExp("[\\u200d"+ir+hs+ds+"]"),go=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,mo=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],vo=-1,ut={};ut[er]=ut[In]=ut[bn]=ut[nr]=ut[Ln]=ut[Rn]=ut[Mn]=ut[nn]=ut[Bn]=!0,ut[Qe]=ut[je]=ut[en]=ut[Ne]=ut[we]=ut[He]=ut[pe]=ut[Fe]=ut[bt]=ut[jt]=ut[de]=ut[tn]=ut[Kt]=ut[pn]=ut[te]=!1;var it={};it[Qe]=it[je]=it[en]=it[we]=it[Ne]=it[He]=it[er]=it[In]=it[bn]=it[nr]=it[Ln]=it[bt]=it[jt]=it[de]=it[tn]=it[Kt]=it[pn]=it[ft]=it[Rn]=it[Mn]=it[nn]=it[Bn]=!0,it[pe]=it[Fe]=it[te]=!1;var Do={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},xo=parseFloat,Ao=parseInt,Es="object"==typeof global&&global&&global.Object===Object&&global,Co="object"==typeof self&&self&&self.Object===Object&&self,Ot=Es||Co||Function("return this")(),Os=ce&&!ce.nodeType&&ce,Nn=Os&&Se&&!Se.nodeType&&Se,Is=Nn&&Nn.exports===Os,ni=Is&&Es.process,ee=function(){try{return Nn&&Nn.require&&Nn.require("util").types||ni&&ni.binding&&ni.binding("util")}catch{}}(),bs=ee&&ee.isArrayBuffer,Ls=ee&&ee.isDate,Rs=ee&&ee.isMap,Ms=ee&&ee.isRegExp,Bs=ee&&ee.isSet,Ns=ee&&ee.isTypedArray;function $t(d,S,v){switch(v.length){case 0:return d.call(S);case 1:return d.call(S,v[0]);case 2:return d.call(S,v[0],v[1]);case 3:return d.call(S,v[0],v[1],v[2])}return d.apply(S,v)}function yo(d,S,v,O){for(var W=-1,J=null==d?0:d.length;++W<J;){var At=d[W];S(O,At,v(At),d)}return O}function ne(d,S){for(var v=-1,O=null==d?0:d.length;++v<O&&!1!==S(d[v],v,d););return d}function Po(d,S){for(var v=null==d?0:d.length;v--&&!1!==S(d[v],v,d););return d}function Hs(d,S){for(var v=-1,O=null==d?0:d.length;++v<O;)if(!S(d[v],v,d))return!1;return!0}function Ue(d,S){for(var v=-1,O=null==d?0:d.length,W=0,J=[];++v<O;){var At=d[v];S(At,v,d)&&(J[W++]=At)}return J}function ur(d,S){return!(null==d||!d.length)&&mn(d,S,0)>-1}function ri(d,S,v){for(var O=-1,W=null==d?0:d.length;++O<W;)if(v(S,d[O]))return!0;return!1}function ot(d,S){for(var v=-1,O=null==d?0:d.length,W=Array(O);++v<O;)W[v]=S(d[v],v,d);return W}function ke(d,S){for(var v=-1,O=S.length,W=d.length;++v<O;)d[W+v]=S[v];return d}function ii(d,S,v,O){var W=-1,J=null==d?0:d.length;for(O&&J&&(v=d[++W]);++W<J;)v=S(v,d[W],W,d);return v}function To(d,S,v,O){var W=null==d?0:d.length;for(O&&W&&(v=d[--W]);W--;)v=S(v,d[W],W,d);return v}function si(d,S){for(var v=-1,O=null==d?0:d.length;++v<O;)if(S(d[v],v,d))return!0;return!1}var Eo=ui("length");function Fs(d,S,v){var O;return v(d,function(W,J,At){if(S(W,J,At))return O=J,!1}),O}function ar(d,S,v,O){for(var W=d.length,J=v+(O?1:-1);O?J--:++J<W;)if(S(d[J],J,d))return J;return-1}function mn(d,S,v){return S==S?function ko(d,S,v){for(var O=v-1,W=d.length;++O<W;)if(d[O]===S)return O;return-1}(d,S,v):ar(d,Ws,v)}function bo(d,S,v,O){for(var W=v-1,J=d.length;++W<J;)if(O(d[W],S))return W;return-1}function Ws(d){return d!=d}function Gs(d,S){var v=null==d?0:d.length;return v?oi(d,S)/v:NaN}function ui(d){return function(S){return null==S?f:S[d]}}function ai(d){return function(S){return null==d?f:d[S]}}function Us(d,S,v,O,W){return W(d,function(J,At,et){v=O?(O=!1,J):S(v,J,At,et)}),v}function oi(d,S){for(var v,O=-1,W=d.length;++O<W;){var J=S(d[O]);J!==f&&(v=v===f?J:v+J)}return v}function ci(d,S){for(var v=-1,O=Array(d);++v<d;)O[v]=S(v);return O}function ks(d){return d&&d.slice(0,Zs(d)+1).replace(xt,"")}function Zt(d){return function(S){return d(S)}}function hi(d,S){return ot(S,function(v){return d[v]})}function Hn(d,S){return d.has(S)}function zs(d,S){for(var v=-1,O=d.length;++v<O&&mn(S,d[v],0)>-1;);return v}function Ks(d,S){for(var v=d.length;v--&&mn(S,d[v],0)>-1;);return v}var Bo=ai({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),No=ai({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ho(d){return"\\"+Do[d]}function vn(d){return po.test(d)}function fi(d){var S=-1,v=Array(d.size);return d.forEach(function(O,W){v[++S]=[W,O]}),v}function $s(d,S){return function(v){return d(S(v))}}function ze(d,S){for(var v=-1,O=d.length,W=0,J=[];++v<O;){var At=d[v];(At===S||At===P)&&(d[v]=P,J[W++]=v)}return J}function or(d){var S=-1,v=Array(d.size);return d.forEach(function(O){v[++S]=O}),v}function _n(d){return vn(d)?function $o(d){for(var S=ei.lastIndex=0;ei.test(d);)++S;return S}(d):Eo(d)}function ge(d){return vn(d)?function Zo(d){return d.match(ei)||[]}(d):function Oo(d){return d.split("")}(d)}function Zs(d){for(var S=d.length;S--&&St.test(d.charAt(S)););return S}var Ko=ai({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),cr=function d(S){var t,v=(S=null==S?Ot:cr.defaults(Ot.Object(),S,cr.pick(Ot,mo))).Array,O=S.Date,W=S.Error,J=S.Function,At=S.Math,et=S.Object,li=S.RegExp,qo=S.String,re=S.TypeError,hr=v.prototype,Sn=et.prototype,fr=S["__core-js_shared__"],lr=J.prototype.toString,j=Sn.hasOwnProperty,Jo=0,Ys=(t=/[^.]+$/.exec(fr&&fr.keys&&fr.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"",pr=Sn.toString,Qo=lr.call(et),jo=Ot._,tc=li("^"+lr.call(j).replace(L,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dr=Is?S.Buffer:f,Ke=S.Symbol,gr=S.Uint8Array,Vs=dr?dr.allocUnsafe:f,mr=$s(et.getPrototypeOf,et),qs=et.create,Xs=Sn.propertyIsEnumerable,vr=hr.splice,Js=Ke?Ke.isConcatSpreadable:f,Fn=Ke?Ke.iterator:f,rn=Ke?Ke.toStringTag:f,_r=function(){try{var t=cn(et,"defineProperty");return t({},"",{}),t}catch{}}(),ec=S.clearTimeout!==Ot.clearTimeout&&S.clearTimeout,nc=O&&O.now!==Ot.Date.now&&O.now,rc=S.setTimeout!==Ot.setTimeout&&S.setTimeout,Sr=At.ceil,wr=At.floor,pi=et.getOwnPropertySymbols,ic=dr?dr.isBuffer:f,Qs=S.isFinite,sc=hr.join,uc=$s(et.keys,et),Ct=At.max,Lt=At.min,ac=O.now,oc=S.parseInt,js=At.random,cc=hr.reverse,di=cn(S,"DataView"),Wn=cn(S,"Map"),gi=cn(S,"Promise"),wn=cn(S,"Set"),Gn=cn(S,"WeakMap"),Un=cn(et,"create"),Dr=Gn&&new Gn,Dn={},hc=hn(di),fc=hn(Wn),lc=hn(gi),pc=hn(wn),dc=hn(Gn),xr=Ke?Ke.prototype:f,kn=xr?xr.valueOf:f,tu=xr?xr.toString:f;function o(t){if(lt(t)&&!G(t)&&!(t instanceof Y)){if(t instanceof ie)return t;if(j.call(t,"__wrapped__"))return ea(t)}return new ie(t)}var xn=function(){function t(){}return function(e){if(!ht(e))return{};if(qs)return qs(e);t.prototype=e;var n=new t;return t.prototype=f,n}}();function Ar(){}function ie(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=f}function Y(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=st,this.__views__=[]}function sn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}function Pe(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}function Te(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}function un(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Te;++e<n;)this.add(t[e])}function me(t){var e=this.__data__=new Pe(t);this.size=e.size}function eu(t,e){var n=G(t),s=!n&&fn(t),a=!n&&!s&&qe(t),c=!n&&!s&&!a&&Pn(t),l=n||s||a||c,p=l?ci(t.length,qo):[],g=p.length;for(var D in t)(e||j.call(t,D))&&(!l||!("length"==D||a&&("offset"==D||"parent"==D)||c&&("buffer"==D||"byteLength"==D||"byteOffset"==D)||be(D,g)))&&p.push(D);return p}function nu(t){var e=t.length;return e?t[Pi(0,e-1)]:f}function Gc(t,e){return Hr(Wt(t),an(e,0,t.length))}function Uc(t){return Hr(Wt(t))}function mi(t,e,n){(n!==f&&!ve(t[e],n)||n===f&&!(e in t))&&Ee(t,e,n)}function zn(t,e,n){var s=t[e];(!j.call(t,e)||!ve(s,n)||n===f&&!(e in t))&&Ee(t,e,n)}function Cr(t,e){for(var n=t.length;n--;)if(ve(t[n][0],e))return n;return-1}function kc(t,e,n,s){return $e(t,function(a,c,l){e(s,a,n(a),l)}),s}function ru(t,e){return t&&Ae(e,Pt(e),t)}function Ee(t,e,n){"__proto__"==e&&_r?_r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function vi(t,e){for(var n=-1,s=e.length,a=v(s),c=null==t;++n<s;)a[n]=c?f:Ji(t,e[n]);return a}function an(t,e,n){return t==t&&(n!==f&&(t=t<=n?t:n),e!==f&&(t=t>=e?t:e)),t}function se(t,e,n,s,a,c){var l,p=1&e,g=2&e,D=4&e;if(n&&(l=a?n(t,s,a,c):n(t)),l!==f)return l;if(!ht(t))return t;var x=G(t);if(x){if(l=function bh(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&j.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!p)return Wt(t,l)}else{var C=Rt(t),E=C==Fe||C==We;if(qe(t))return Tu(t,p);if(C==de||C==Qe||E&&!a){if(l=g||E?{}:Zu(t),!p)return g?function wh(t,e){return Ae(t,Ku(t),e)}(t,function zc(t,e){return t&&Ae(e,Ut(e),t)}(l,t)):function Sh(t,e){return Ae(t,Gi(t),e)}(t,ru(l,t))}else{if(!it[C])return a?t:{};l=function Lh(t,e,n){var s=t.constructor;switch(e){case en:return Ri(t);case Ne:case He:return new s(+t);case we:return function gh(t,e){var n=e?Ri(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case er:case In:case bn:case nr:case Ln:case Rn:case Mn:case nn:case Bn:return Eu(t,n);case bt:return new s;case jt:case pn:return new s(t);case tn:return function mh(t){var e=new t.constructor(t.source,cs.exec(t));return e.lastIndex=t.lastIndex,e}(t);case Kt:return new s;case ft:return function vh(t){return kn?et(kn.call(t)):{}}(t)}}(t,C,p)}}c||(c=new me);var R=c.get(t);if(R)return R;c.set(t,l),Da(t)?t.forEach(function(H){l.add(se(H,e,n,H,t,c))}):Sa(t)&&t.forEach(function(H,Z){l.set(Z,se(H,e,n,Z,t,c))});var z=x?f:(D?g?Hi:Ni:g?Ut:Pt)(t);return ne(z||t,function(H,Z){z&&(H=t[Z=H]),zn(l,Z,se(H,e,n,Z,t,c))}),l}function iu(t,e,n){var s=n.length;if(null==t)return!s;for(t=et(t);s--;){var a=n[s],l=t[a];if(l===f&&!(a in t)||!(0,e[a])(l))return!1}return!0}function su(t,e,n){if("function"!=typeof t)throw new re(_);return Xn(function(){t.apply(f,n)},e)}function Kn(t,e,n,s){var a=-1,c=ur,l=!0,p=t.length,g=[],D=e.length;if(!p)return g;n&&(e=ot(e,Zt(n))),s?(c=ri,l=!1):e.length>=200&&(c=Hn,l=!1,e=new un(e));t:for(;++a<p;){var x=t[a],C=null==n?x:n(x);if(x=s||0!==x?x:0,l&&C==C){for(var E=D;E--;)if(e[E]===C)continue t;g.push(x)}else c(e,C,s)||g.push(x)}return g}o.templateSettings={escape:u,evaluate:h,interpolate:m,variable:"",imports:{_:o}},(o.prototype=Ar.prototype).constructor=o,(ie.prototype=xn(Ar.prototype)).constructor=ie,(Y.prototype=xn(Ar.prototype)).constructor=Y,sn.prototype.clear=function _c(){this.__data__=Un?Un(null):{},this.size=0},sn.prototype.delete=function Sc(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},sn.prototype.get=function wc(t){var e=this.__data__;if(Un){var n=e[t];return n===y?f:n}return j.call(e,t)?e[t]:f},sn.prototype.has=function Dc(t){var e=this.__data__;return Un?e[t]!==f:j.call(e,t)},sn.prototype.set=function xc(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Un&&e===f?y:e,this},Pe.prototype.clear=function Ac(){this.__data__=[],this.size=0},Pe.prototype.delete=function Cc(t){var e=this.__data__,n=Cr(e,t);return!(n<0||(n==e.length-1?e.pop():vr.call(e,n,1),--this.size,0))},Pe.prototype.get=function yc(t){var e=this.__data__,n=Cr(e,t);return n<0?f:e[n][1]},Pe.prototype.has=function Pc(t){return Cr(this.__data__,t)>-1},Pe.prototype.set=function Tc(t,e){var n=this.__data__,s=Cr(n,t);return s<0?(++this.size,n.push([t,e])):n[s][1]=e,this},Te.prototype.clear=function Ec(){this.size=0,this.__data__={hash:new sn,map:new(Wn||Pe),string:new sn}},Te.prototype.delete=function Oc(t){var e=Nr(this,t).delete(t);return this.size-=e?1:0,e},Te.prototype.get=function Ic(t){return Nr(this,t).get(t)},Te.prototype.has=function bc(t){return Nr(this,t).has(t)},Te.prototype.set=function Lc(t,e){var n=Nr(this,t),s=n.size;return n.set(t,e),this.size+=n.size==s?0:1,this},un.prototype.add=un.prototype.push=function Rc(t){return this.__data__.set(t,y),this},un.prototype.has=function Mc(t){return this.__data__.has(t)},me.prototype.clear=function Bc(){this.__data__=new Pe,this.size=0},me.prototype.delete=function Nc(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},me.prototype.get=function Hc(t){return this.__data__.get(t)},me.prototype.has=function Fc(t){return this.__data__.has(t)},me.prototype.set=function Wc(t,e){var n=this.__data__;if(n instanceof Pe){var s=n.__data__;if(!Wn||s.length<199)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new Te(s)}return n.set(t,e),this.size=n.size,this};var $e=Lu(xe),uu=Lu(Si,!0);function $c(t,e){var n=!0;return $e(t,function(s,a,c){return n=!!e(s,a,c)}),n}function yr(t,e,n){for(var s=-1,a=t.length;++s<a;){var c=t[s],l=e(c);if(null!=l&&(p===f?l==l&&!Vt(l):n(l,p)))var p=l,g=c}return g}function au(t,e){var n=[];return $e(t,function(s,a,c){e(s,a,c)&&n.push(s)}),n}function It(t,e,n,s,a){var c=-1,l=t.length;for(n||(n=Mh),a||(a=[]);++c<l;){var p=t[c];e>0&&n(p)?e>1?It(p,e-1,n,s,a):ke(a,p):s||(a[a.length]=p)}return a}var _i=Ru(),ou=Ru(!0);function xe(t,e){return t&&_i(t,e,Pt)}function Si(t,e){return t&&ou(t,e,Pt)}function Pr(t,e){return Ue(e,function(n){return Le(t[n])})}function on(t,e){for(var n=0,s=(e=Ye(e,t)).length;null!=t&&n<s;)t=t[Ce(e[n++])];return n&&n==s?t:f}function cu(t,e,n){var s=e(t);return G(t)?s:ke(s,n(t))}function Mt(t){return null==t?t===f?"[object Undefined]":"[object Null]":rn&&rn in et(t)?function Eh(t){var e=j.call(t,rn),n=t[rn];try{t[rn]=f;var s=!0}catch{}var a=pr.call(t);return s&&(e?t[rn]=n:delete t[rn]),a}(t):function Uh(t){return pr.call(t)}(t)}function wi(t,e){return t>e}function Yc(t,e){return null!=t&&j.call(t,e)}function Vc(t,e){return null!=t&&e in et(t)}function Di(t,e,n){for(var s=n?ri:ur,a=t[0].length,c=t.length,l=c,p=v(c),g=1/0,D=[];l--;){var x=t[l];l&&e&&(x=ot(x,Zt(e))),g=Lt(x.length,g),p[l]=!n&&(e||a>=120&&x.length>=120)?new un(l&&x):f}x=t[0];var C=-1,E=p[0];t:for(;++C<a&&D.length<g;){var R=x[C],N=e?e(R):R;if(R=n||0!==R?R:0,!(E?Hn(E,N):s(D,N,n))){for(l=c;--l;){var z=p[l];if(!(z?Hn(z,N):s(t[l],N,n)))continue t}E&&E.push(N),D.push(R)}}return D}function $n(t,e,n){var s=null==(t=Xu(t,e=Ye(e,t)))?t:t[Ce(ae(e))];return null==s?f:$t(s,t,n)}function hu(t){return lt(t)&&Mt(t)==Qe}function Zn(t,e,n,s,a){return t===e||(null==t||null==e||!lt(t)&&!lt(e)?t!=t&&e!=e:function jc(t,e,n,s,a,c){var l=G(t),p=G(e),g=l?je:Rt(t),D=p?je:Rt(e),x=(g=g==Qe?de:g)==de,C=(D=D==Qe?de:D)==de,E=g==D;if(E&&qe(t)){if(!qe(e))return!1;l=!0,x=!1}if(E&&!x)return c||(c=new me),l||Pn(t)?zu(t,e,n,s,a,c):function Ph(t,e,n,s,a,c,l){switch(n){case we:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case en:return!(t.byteLength!=e.byteLength||!c(new gr(t),new gr(e)));case Ne:case He:case jt:return ve(+t,+e);case pe:return t.name==e.name&&t.message==e.message;case tn:case pn:return t==e+"";case bt:var p=fi;case Kt:if(p||(p=or),t.size!=e.size&&!(1&s))return!1;var D=l.get(t);if(D)return D==e;s|=2,l.set(t,e);var x=zu(p(t),p(e),s,a,c,l);return l.delete(t),x;case ft:if(kn)return kn.call(t)==kn.call(e)}return!1}(t,e,g,n,s,a,c);if(!(1&n)){var R=x&&j.call(t,"__wrapped__"),N=C&&j.call(e,"__wrapped__");if(R||N){var z=R?t.value():t,H=N?e.value():e;return c||(c=new me),a(z,H,n,s,c)}}return!!E&&(c||(c=new me),function Th(t,e,n,s,a,c){var l=1&n,p=Ni(t),g=p.length;if(g!=Ni(e).length&&!l)return!1;for(var C=g;C--;){var E=p[C];if(!(l?E in e:j.call(e,E)))return!1}var R=c.get(t),N=c.get(e);if(R&&N)return R==e&&N==t;var z=!0;c.set(t,e),c.set(e,t);for(var H=l;++C<g;){var Z=t[E=p[C]],q=e[E];if(s)var qt=l?s(q,Z,E,e,t,c):s(Z,q,E,t,e,c);if(!(qt===f?Z===q||a(Z,q,n,s,c):qt)){z=!1;break}H||(H="constructor"==E)}if(z&&!H){var Nt=t.constructor,Xt=e.constructor;Nt!=Xt&&"constructor"in t&&"constructor"in e&&!("function"==typeof Nt&&Nt instanceof Nt&&"function"==typeof Xt&&Xt instanceof Xt)&&(z=!1)}return c.delete(t),c.delete(e),z}(t,e,n,s,a,c))}(t,e,n,s,Zn,a))}function xi(t,e,n,s){var a=n.length,c=a,l=!s;if(null==t)return!c;for(t=et(t);a--;){var p=n[a];if(l&&p[2]?p[1]!==t[p[0]]:!(p[0]in t))return!1}for(;++a<c;){var g=(p=n[a])[0],D=t[g],x=p[1];if(l&&p[2]){if(D===f&&!(g in t))return!1}else{var C=new me;if(s)var E=s(D,x,g,t,e,C);if(!(E===f?Zn(x,D,3,s,C):E))return!1}}return!0}function fu(t){return!(!ht(t)||function Nh(t){return!!Ys&&Ys in t}(t))&&(Le(t)?tc:za).test(hn(t))}function lu(t){return"function"==typeof t?t:null==t?kt:"object"==typeof t?G(t)?gu(t[0],t[1]):du(t):Ma(t)}function Ai(t){if(!qn(t))return uc(t);var e=[];for(var n in et(t))j.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Ci(t,e){return t<e}function pu(t,e){var n=-1,s=Gt(t)?v(t.length):[];return $e(t,function(a,c,l){s[++n]=e(a,c,l)}),s}function du(t){var e=Wi(t);return 1==e.length&&e[0][2]?Vu(e[0][0],e[0][1]):function(n){return n===t||xi(n,t,e)}}function gu(t,e){return Ui(t)&&Yu(e)?Vu(Ce(t),e):function(n){var s=Ji(n,t);return s===f&&s===e?Qi(n,t):Zn(e,s,3)}}function Tr(t,e,n,s,a){t!==e&&_i(e,function(c,l){if(a||(a=new me),ht(c))!function sh(t,e,n,s,a,c,l){var p=zi(t,n),g=zi(e,n),D=l.get(g);if(D)mi(t,n,D);else{var x=c?c(p,g,n+"",t,e,l):f,C=x===f;if(C){var E=G(g),R=!E&&qe(g),N=!E&&!R&&Pn(g);x=g,E||R||N?G(p)?x=p:gt(p)?x=Wt(p):R?(C=!1,x=Tu(g,!0)):N?(C=!1,x=Eu(g,!0)):x=[]:Jn(g)||fn(g)?(x=p,fn(p)?x=Ca(p):(!ht(p)||Le(p))&&(x=Zu(g))):C=!1}C&&(l.set(g,x),a(x,g,s,c,l),l.delete(g)),mi(t,n,x)}}(t,e,l,n,Tr,s,a);else{var p=s?s(zi(t,l),c,l+"",t,e,a):f;p===f&&(p=c),mi(t,l,p)}},Ut)}function mu(t,e){var n=t.length;if(n)return be(e+=e<0?n:0,n)?t[e]:f}function vu(t,e,n){e=e.length?ot(e,function(c){return G(c)?function(l){return on(l,1===c.length?c[0]:c)}:c}):[kt];var s=-1;return e=ot(e,Zt(B())),function Lo(d,S){var v=d.length;for(d.sort(S);v--;)d[v]=d[v].value;return d}(pu(t,function(c,l,p){return{criteria:ot(e,function(D){return D(c)}),index:++s,value:c}}),function(c,l){return function _h(t,e,n){for(var s=-1,a=t.criteria,c=e.criteria,l=a.length,p=n.length;++s<l;){var g=Ou(a[s],c[s]);if(g)return s>=p?g:g*("desc"==n[s]?-1:1)}return t.index-e.index}(c,l,n)})}function _u(t,e,n){for(var s=-1,a=e.length,c={};++s<a;){var l=e[s],p=on(t,l);n(p,l)&&Yn(c,Ye(l,t),p)}return c}function yi(t,e,n,s){var a=s?bo:mn,c=-1,l=e.length,p=t;for(t===e&&(e=Wt(e)),n&&(p=ot(t,Zt(n)));++c<l;)for(var g=0,D=e[c],x=n?n(D):D;(g=a(p,x,g,s))>-1;)p!==t&&vr.call(p,g,1),vr.call(t,g,1);return t}function Su(t,e){for(var n=t?e.length:0,s=n-1;n--;){var a=e[n];if(n==s||a!==c){var c=a;be(a)?vr.call(t,a,1):Oi(t,a)}}return t}function Pi(t,e){return t+wr(js()*(e-t+1))}function Ti(t,e){var n="";if(!t||e<1||e>Et)return n;do{e%2&&(n+=t),(e=wr(e/2))&&(t+=t)}while(e);return n}function $(t,e){return Ki(qu(t,e,kt),t+"")}function ch(t){return nu(Tn(t))}function hh(t,e){var n=Tn(t);return Hr(n,an(e,0,n.length))}function Yn(t,e,n,s){if(!ht(t))return t;for(var a=-1,c=(e=Ye(e,t)).length,l=c-1,p=t;null!=p&&++a<c;){var g=Ce(e[a]),D=n;if("__proto__"===g||"constructor"===g||"prototype"===g)return t;if(a!=l){var x=p[g];(D=s?s(x,g,p):f)===f&&(D=ht(x)?x:be(e[a+1])?[]:{})}zn(p,g,D),p=p[g]}return t}var wu=Dr?function(t,e){return Dr.set(t,e),t}:kt,fh=_r?function(t,e){return _r(t,"toString",{configurable:!0,enumerable:!1,value:ts(e),writable:!0})}:kt;function lh(t){return Hr(Tn(t))}function ue(t,e,n){var s=-1,a=t.length;e<0&&(e=-e>a?0:a+e),(n=n>a?a:n)<0&&(n+=a),a=e>n?0:n-e>>>0,e>>>=0;for(var c=v(a);++s<a;)c[s]=t[s+e];return c}function ph(t,e){var n;return $e(t,function(s,a,c){return!(n=e(s,a,c))}),!!n}function Er(t,e,n){var s=0,a=null==t?s:t.length;if("number"==typeof e&&e==e&&a<=2147483647){for(;s<a;){var c=s+a>>>1,l=t[c];null!==l&&!Vt(l)&&(n?l<=e:l<e)?s=c+1:a=c}return a}return Ei(t,e,kt,n)}function Ei(t,e,n,s){var a=0,c=null==t?0:t.length;if(0===c)return 0;for(var l=(e=n(e))!=e,p=null===e,g=Vt(e),D=e===f;a<c;){var x=wr((a+c)/2),C=n(t[x]),E=C!==f,R=null===C,N=C==C,z=Vt(C);if(l)var H=s||N;else H=D?N&&(s||E):p?N&&E&&(s||!R):g?N&&E&&!R&&(s||!z):!R&&!z&&(s?C<=e:C<e);H?a=x+1:c=x}return Lt(c,4294967294)}function Du(t,e){for(var n=-1,s=t.length,a=0,c=[];++n<s;){var l=t[n],p=e?e(l):l;if(!n||!ve(p,g)){var g=p;c[a++]=0===l?0:l}}return c}function xu(t){return"number"==typeof t?t:Vt(t)?NaN:+t}function Yt(t){if("string"==typeof t)return t;if(G(t))return ot(t,Yt)+"";if(Vt(t))return tu?tu.call(t):"";var e=t+"";return"0"==e&&1/t==-U?"-0":e}function Ze(t,e,n){var s=-1,a=ur,c=t.length,l=!0,p=[],g=p;if(n)l=!1,a=ri;else if(c>=200){var D=e?null:Ch(t);if(D)return or(D);l=!1,a=Hn,g=new un}else g=e?[]:p;t:for(;++s<c;){var x=t[s],C=e?e(x):x;if(x=n||0!==x?x:0,l&&C==C){for(var E=g.length;E--;)if(g[E]===C)continue t;e&&g.push(C),p.push(x)}else a(g,C,n)||(g!==p&&g.push(C),p.push(x))}return p}function Oi(t,e){return null==(t=Xu(t,e=Ye(e,t)))||delete t[Ce(ae(e))]}function Au(t,e,n,s){return Yn(t,e,n(on(t,e)),s)}function Or(t,e,n,s){for(var a=t.length,c=s?a:-1;(s?c--:++c<a)&&e(t[c],c,t););return n?ue(t,s?0:c,s?c+1:a):ue(t,s?c+1:0,s?a:c)}function Cu(t,e){var n=t;return n instanceof Y&&(n=n.value()),ii(e,function(s,a){return a.func.apply(a.thisArg,ke([s],a.args))},n)}function Ii(t,e,n){var s=t.length;if(s<2)return s?Ze(t[0]):[];for(var a=-1,c=v(s);++a<s;)for(var l=t[a],p=-1;++p<s;)p!=a&&(c[a]=Kn(c[a]||l,t[p],e,n));return Ze(It(c,1),e,n)}function yu(t,e,n){for(var s=-1,a=t.length,c=e.length,l={};++s<a;)n(l,t[s],s<c?e[s]:f);return l}function bi(t){return gt(t)?t:[]}function Li(t){return"function"==typeof t?t:kt}function Ye(t,e){return G(t)?t:Ui(t,e)?[t]:ta(Q(t))}var dh=$;function Ve(t,e,n){var s=t.length;return n=n===f?s:n,!e&&n>=s?t:ue(t,e,n)}var Pu=ec||function(t){return Ot.clearTimeout(t)};function Tu(t,e){if(e)return t.slice();var n=t.length,s=Vs?Vs(n):new t.constructor(n);return t.copy(s),s}function Ri(t){var e=new t.constructor(t.byteLength);return new gr(e).set(new gr(t)),e}function Eu(t,e){var n=e?Ri(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ou(t,e){if(t!==e){var n=t!==f,s=null===t,a=t==t,c=Vt(t),l=e!==f,p=null===e,g=e==e,D=Vt(e);if(!p&&!D&&!c&&t>e||c&&l&&g&&!p&&!D||s&&l&&g||!n&&g||!a)return 1;if(!s&&!c&&!D&&t<e||D&&n&&a&&!s&&!c||p&&n&&a||!l&&a||!g)return-1}return 0}function Iu(t,e,n,s){for(var a=-1,c=t.length,l=n.length,p=-1,g=e.length,D=Ct(c-l,0),x=v(g+D),C=!s;++p<g;)x[p]=e[p];for(;++a<l;)(C||a<c)&&(x[n[a]]=t[a]);for(;D--;)x[p++]=t[a++];return x}function bu(t,e,n,s){for(var a=-1,c=t.length,l=-1,p=n.length,g=-1,D=e.length,x=Ct(c-p,0),C=v(x+D),E=!s;++a<x;)C[a]=t[a];for(var R=a;++g<D;)C[R+g]=e[g];for(;++l<p;)(E||a<c)&&(C[R+n[l]]=t[a++]);return C}function Wt(t,e){var n=-1,s=t.length;for(e||(e=v(s));++n<s;)e[n]=t[n];return e}function Ae(t,e,n,s){var a=!n;n||(n={});for(var c=-1,l=e.length;++c<l;){var p=e[c],g=s?s(n[p],t[p],p,n,t):f;g===f&&(g=t[p]),a?Ee(n,p,g):zn(n,p,g)}return n}function Ir(t,e){return function(n,s){var a=G(n)?yo:kc,c=e?e():{};return a(n,t,B(s,2),c)}}function An(t){return $(function(e,n){var s=-1,a=n.length,c=a>1?n[a-1]:f,l=a>2?n[2]:f;for(c=t.length>3&&"function"==typeof c?(a--,c):f,l&&Bt(n[0],n[1],l)&&(c=a<3?f:c,a=1),e=et(e);++s<a;){var p=n[s];p&&t(e,p,s,c)}return e})}function Lu(t,e){return function(n,s){if(null==n)return n;if(!Gt(n))return t(n,s);for(var a=n.length,c=e?a:-1,l=et(n);(e?c--:++c<a)&&!1!==s(l[c],c,l););return n}}function Ru(t){return function(e,n,s){for(var a=-1,c=et(e),l=s(e),p=l.length;p--;){var g=l[t?p:++a];if(!1===n(c[g],g,c))break}return e}}function Mu(t){return function(e){var n=vn(e=Q(e))?ge(e):f,s=n?n[0]:e.charAt(0),a=n?Ve(n,1).join(""):e.slice(1);return s[t]()+a}}function Cn(t){return function(e){return ii(La(ba(e).replace(ho,"")),t,"")}}function Vn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=xn(t.prototype),s=t.apply(n,e);return ht(s)?s:n}}function Bu(t){return function(e,n,s){var a=et(e);if(!Gt(e)){var c=B(n,3);e=Pt(e),n=function(p){return c(a[p],p,a)}}var l=t(e,n,s);return l>-1?a[c?e[l]:l]:f}}function Nu(t){return Ie(function(e){var n=e.length,s=n,a=ie.prototype.thru;for(t&&e.reverse();s--;){var c=e[s];if("function"!=typeof c)throw new re(_);if(a&&!l&&"wrapper"==Br(c))var l=new ie([],!0)}for(s=l?s:n;++s<n;){var p=Br(c=e[s]),g="wrapper"==p?Fi(c):f;l=g&&ki(g[0])&&424==g[1]&&!g[4].length&&1==g[9]?l[Br(g[0])].apply(l,g[3]):1==c.length&&ki(c)?l[p]():l.thru(c)}return function(){var D=arguments,x=D[0];if(l&&1==D.length&&G(x))return l.plant(x).value();for(var C=0,E=n?e[C].apply(this,D):x;++C<n;)E=e[C].call(this,E);return E}})}function br(t,e,n,s,a,c,l,p,g,D){var x=128&e,C=1&e,E=2&e,R=24&e,N=512&e,z=E?f:Vn(t);return function H(){for(var Z=arguments.length,q=v(Z),qt=Z;qt--;)q[qt]=arguments[qt];if(R)var Nt=yn(H),Xt=function Mo(d,S){for(var v=d.length,O=0;v--;)d[v]===S&&++O;return O}(q,Nt);if(s&&(q=Iu(q,s,a,R)),c&&(q=bu(q,c,l,R)),Z-=Xt,R&&Z<D){var mt=ze(q,Nt);return Wu(t,e,br,H.placeholder,n,q,mt,p,g,D-Z)}var _e=C?n:this,Me=E?_e[t]:t;return Z=q.length,p?q=function kh(t,e){for(var n=t.length,s=Lt(e.length,n),a=Wt(t);s--;){var c=e[s];t[s]=be(c,n)?a[c]:f}return t}(q,p):N&&Z>1&&q.reverse(),x&&g<Z&&(q.length=g),this&&this!==Ot&&this instanceof H&&(Me=z||Vn(Me)),Me.apply(_e,q)}}function Hu(t,e){return function(n,s){return function Xc(t,e,n,s){return xe(t,function(a,c,l){e(s,n(a),c,l)}),s}(n,t,e(s),{})}}function Lr(t,e){return function(n,s){var a;if(n===f&&s===f)return e;if(n!==f&&(a=n),s!==f){if(a===f)return s;"string"==typeof n||"string"==typeof s?(n=Yt(n),s=Yt(s)):(n=xu(n),s=xu(s)),a=t(n,s)}return a}}function Mi(t){return Ie(function(e){return e=ot(e,Zt(B())),$(function(n){var s=this;return t(e,function(a){return $t(a,s,n)})})})}function Rr(t,e){var n=(e=e===f?" ":Yt(e)).length;if(n<2)return n?Ti(e,t):e;var s=Ti(e,Sr(t/_n(e)));return vn(e)?Ve(ge(s),0,t).join(""):s.slice(0,t)}function Fu(t){return function(e,n,s){return s&&"number"!=typeof s&&Bt(e,n,s)&&(n=s=f),e=Re(e),n===f?(n=e,e=0):n=Re(n),function oh(t,e,n,s){for(var a=-1,c=Ct(Sr((e-t)/(n||1)),0),l=v(c);c--;)l[s?c:++a]=t,t+=n;return l}(e,n,s=s===f?e<n?1:-1:Re(s),t)}}function Mr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=oe(e),n=oe(n)),t(e,n)}}function Wu(t,e,n,s,a,c,l,p,g,D){var x=8&e;e|=x?32:64,4&(e&=~(x?64:32))||(e&=-4);var z=[t,e,a,x?c:f,x?l:f,x?f:c,x?f:l,p,g,D],H=n.apply(f,z);return ki(t)&&Ju(H,z),H.placeholder=s,Qu(H,t,e)}function Bi(t){var e=At[t];return function(n,s){if(n=oe(n),(s=null==s?0:Lt(k(s),292))&&Qs(n)){var a=(Q(n)+"e").split("e");return+((a=(Q(e(a[0]+"e"+(+a[1]+s)))+"e").split("e"))[0]+"e"+(+a[1]-s))}return e(n)}}var Ch=wn&&1/or(new wn([,-0]))[1]==U?function(t){return new wn(t)}:rs;function Gu(t){return function(e){var n=Rt(e);return n==bt?fi(e):n==Kt?function Uo(d){var S=-1,v=Array(d.size);return d.forEach(function(O){v[++S]=[O,O]}),v}(e):function Ro(d,S){return ot(S,function(v){return[v,d[v]]})}(e,t(e))}}function Oe(t,e,n,s,a,c,l,p){var g=2&e;if(!g&&"function"!=typeof t)throw new re(_);var D=s?s.length:0;if(D||(e&=-97,s=a=f),l=l===f?l:Ct(k(l),0),p=p===f?p:k(p),D-=a?a.length:0,64&e){var x=s,C=a;s=a=f}var E=g?f:Fi(t),R=[t,e,n,s,a,x,C,c,l,p];if(E&&function Wh(t,e){var n=t[1],s=e[1],a=n|s;if(!(a<131)&&!(128==s&&8==n||128==s&&256==n&&t[7].length<=e[8]||384==s&&e[7].length<=e[8]&&8==n))return t;1&s&&(t[2]=e[2],a|=1&n?0:4);var p=e[3];if(p){var g=t[3];t[3]=g?Iu(g,p,e[4]):p,t[4]=g?ze(t[3],P):e[4]}(p=e[5])&&(t[5]=(g=t[5])?bu(g,p,e[6]):p,t[6]=g?ze(t[5],P):e[6]),(p=e[7])&&(t[7]=p),128&s&&(t[8]=null==t[8]?e[8]:Lt(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=a}(R,E),t=R[0],e=R[1],n=R[2],s=R[3],a=R[4],!(p=R[9]=R[9]===f?g?0:t.length:Ct(R[9]-D,0))&&24&e&&(e&=-25),e&&1!=e)N=8==e||16==e?function xh(t,e,n){var s=Vn(t);return function a(){for(var c=arguments.length,l=v(c),p=c,g=yn(a);p--;)l[p]=arguments[p];var D=c<3&&l[0]!==g&&l[c-1]!==g?[]:ze(l,g);return(c-=D.length)<n?Wu(t,e,br,a.placeholder,f,l,D,f,f,n-c):$t(this&&this!==Ot&&this instanceof a?s:t,this,l)}}(t,e,p):32!=e&&33!=e||a.length?br.apply(f,R):function Ah(t,e,n,s){var a=1&e,c=Vn(t);return function l(){for(var p=-1,g=arguments.length,D=-1,x=s.length,C=v(x+g),E=this&&this!==Ot&&this instanceof l?c:t;++D<x;)C[D]=s[D];for(;g--;)C[D++]=arguments[++p];return $t(E,a?n:this,C)}}(t,e,n,s);else var N=function Dh(t,e,n){var s=1&e,a=Vn(t);return function c(){return(this&&this!==Ot&&this instanceof c?a:t).apply(s?n:this,arguments)}}(t,e,n);return Qu((E?wu:Ju)(N,R),t,e)}function Uu(t,e,n,s){return t===f||ve(t,Sn[n])&&!j.call(s,n)?e:t}function ku(t,e,n,s,a,c){return ht(t)&&ht(e)&&(c.set(e,t),Tr(t,e,f,ku,c),c.delete(e)),t}function yh(t){return Jn(t)?f:t}function zu(t,e,n,s,a,c){var l=1&n,p=t.length,g=e.length;if(p!=g&&!(l&&g>p))return!1;var D=c.get(t),x=c.get(e);if(D&&x)return D==e&&x==t;var C=-1,E=!0,R=2&n?new un:f;for(c.set(t,e),c.set(e,t);++C<p;){var N=t[C],z=e[C];if(s)var H=l?s(z,N,C,e,t,c):s(N,z,C,t,e,c);if(H!==f){if(H)continue;E=!1;break}if(R){if(!si(e,function(Z,q){if(!Hn(R,q)&&(N===Z||a(N,Z,n,s,c)))return R.push(q)})){E=!1;break}}else if(N!==z&&!a(N,z,n,s,c)){E=!1;break}}return c.delete(t),c.delete(e),E}function Ie(t){return Ki(qu(t,f,ia),t+"")}function Ni(t){return cu(t,Pt,Gi)}function Hi(t){return cu(t,Ut,Ku)}var Fi=Dr?function(t){return Dr.get(t)}:rs;function Br(t){for(var e=t.name+"",n=Dn[e],s=j.call(Dn,e)?n.length:0;s--;){var a=n[s],c=a.func;if(null==c||c==t)return a.name}return e}function yn(t){return(j.call(o,"placeholder")?o:t).placeholder}function B(){var t=o.iteratee||es;return t=t===es?lu:t,arguments.length?t(arguments[0],arguments[1]):t}function Nr(t,e){var n=t.__data__;return function Bh(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Wi(t){for(var e=Pt(t),n=e.length;n--;){var s=e[n],a=t[s];e[n]=[s,a,Yu(a)]}return e}function cn(t,e){var n=function Fo(d,S){return null==d?f:d[S]}(t,e);return fu(n)?n:f}var Gi=pi?function(t){return null==t?[]:(t=et(t),Ue(pi(t),function(e){return Xs.call(t,e)}))}:is,Ku=pi?function(t){for(var e=[];t;)ke(e,Gi(t)),t=mr(t);return e}:is,Rt=Mt;function $u(t,e,n){for(var s=-1,a=(e=Ye(e,t)).length,c=!1;++s<a;){var l=Ce(e[s]);if(!(c=null!=t&&n(t,l)))break;t=t[l]}return c||++s!=a?c:!!(a=null==t?0:t.length)&&zr(a)&&be(l,a)&&(G(t)||fn(t))}function Zu(t){return"function"!=typeof t.constructor||qn(t)?{}:xn(mr(t))}function Mh(t){return G(t)||fn(t)||!!(Js&&t&&t[Js])}function be(t,e){var n=typeof t;return!!(e=e??Et)&&("number"==n||"symbol"!=n&&$a.test(t))&&t>-1&&t%1==0&&t<e}function Bt(t,e,n){if(!ht(n))return!1;var s=typeof e;return!!("number"==s?Gt(n)&&be(e,n.length):"string"==s&&e in n)&&ve(n[e],t)}function Ui(t,e){if(G(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Vt(t))||T.test(t)||!A.test(t)||null!=e&&t in et(e)}function ki(t){var e=Br(t),n=o[e];if("function"!=typeof n||!(e in Y.prototype))return!1;if(t===n)return!0;var s=Fi(n);return!!s&&t===s[0]}(di&&Rt(new di(new ArrayBuffer(1)))!=we||Wn&&Rt(new Wn)!=bt||gi&&Rt(gi.resolve())!=tr||wn&&Rt(new wn)!=Kt||Gn&&Rt(new Gn)!=te)&&(Rt=function(t){var e=Mt(t),n=e==de?t.constructor:f,s=n?hn(n):"";if(s)switch(s){case hc:return we;case fc:return bt;case lc:return tr;case pc:return Kt;case dc:return te}return e});var Hh=fr?Le:ss;function qn(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Sn)}function Yu(t){return t==t&&!ht(t)}function Vu(t,e){return function(n){return null!=n&&n[t]===e&&(e!==f||t in et(n))}}function qu(t,e,n){return e=Ct(e===f?t.length-1:e,0),function(){for(var s=arguments,a=-1,c=Ct(s.length-e,0),l=v(c);++a<c;)l[a]=s[e+a];a=-1;for(var p=v(e+1);++a<e;)p[a]=s[a];return p[e]=n(l),$t(t,this,p)}}function Xu(t,e){return e.length<2?t:on(t,ue(e,0,-1))}function zi(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Ju=ju(wu),Xn=rc||function(t,e){return Ot.setTimeout(t,e)},Ki=ju(fh);function Qu(t,e,n){var s=e+"";return Ki(t,function Rh(t,e){var n=e.length;if(!n)return t;var s=n-1;return e[s]=(n>1?"& ":"")+e[s],e=e.join(n>2?", ":" "),t.replace(De,"{\n/* [wrapped with "+e+"] */\n")}(s,function zh(t,e){return ne(Zr,function(n){var s="_."+n[0];e&n[1]&&!ur(t,s)&&t.push(s)}),t.sort()}(function Ih(t){var e=t.match(Xr);return e?e[1].split(Na):[]}(s),n)))}function ju(t){var e=0,n=0;return function(){var s=ac(),a=16-(s-n);if(n=s,a>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(f,arguments)}}function Hr(t,e){var n=-1,s=t.length,a=s-1;for(e=e===f?s:e;++n<e;){var c=Pi(n,a),l=t[c];t[c]=t[n],t[n]=l}return t.length=e,t}var ta=function Fh(t){var e=Ur(t,function(s){return 500===n.size&&n.clear(),s}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(I,function(n,s,a,c){e.push(a?c.replace(Wa,"$1"):s||n)}),e});function Ce(t){if("string"==typeof t||Vt(t))return t;var e=t+"";return"0"==e&&1/t==-U?"-0":e}function hn(t){if(null!=t){try{return lr.call(t)}catch{}try{return t+""}catch{}}return""}function ea(t){if(t instanceof Y)return t.clone();var e=new ie(t.__wrapped__,t.__chain__);return e.__actions__=Wt(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Yh=$(function(t,e){return gt(t)?Kn(t,It(e,1,gt,!0)):[]}),Vh=$(function(t,e){var n=ae(e);return gt(n)&&(n=f),gt(t)?Kn(t,It(e,1,gt,!0),B(n,2)):[]}),qh=$(function(t,e){var n=ae(e);return gt(n)&&(n=f),gt(t)?Kn(t,It(e,1,gt,!0),f,n):[]});function na(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var a=null==n?0:k(n);return a<0&&(a=Ct(s+a,0)),ar(t,B(e,3),a)}function ra(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var a=s-1;return n!==f&&(a=k(n),a=n<0?Ct(s+a,0):Lt(a,s-1)),ar(t,B(e,3),a,!0)}function ia(t){return null!=t&&t.length?It(t,1):[]}function sa(t){return t&&t.length?t[0]:f}var af=$(function(t){var e=ot(t,bi);return e.length&&e[0]===t[0]?Di(e):[]}),of=$(function(t){var e=ae(t),n=ot(t,bi);return e===ae(n)?e=f:n.pop(),n.length&&n[0]===t[0]?Di(n,B(e,2)):[]}),cf=$(function(t){var e=ae(t),n=ot(t,bi);return(e="function"==typeof e?e:f)&&n.pop(),n.length&&n[0]===t[0]?Di(n,f,e):[]});function ae(t){var e=null==t?0:t.length;return e?t[e-1]:f}var pf=$(ua);function ua(t,e){return t&&t.length&&e&&e.length?yi(t,e):t}var mf=Ie(function(t,e){var n=null==t?0:t.length,s=vi(t,e);return Su(t,ot(e,function(a){return be(a,n)?+a:a}).sort(Ou)),s});function $i(t){return null==t?t:cc.call(t)}var Lf=$(function(t){return Ze(It(t,1,gt,!0))}),Rf=$(function(t){var e=ae(t);return gt(e)&&(e=f),Ze(It(t,1,gt,!0),B(e,2))}),Mf=$(function(t){var e=ae(t);return e="function"==typeof e?e:f,Ze(It(t,1,gt,!0),f,e)});function Zi(t){if(!t||!t.length)return[];var e=0;return t=Ue(t,function(n){if(gt(n))return e=Ct(n.length,e),!0}),ci(e,function(n){return ot(t,ui(n))})}function aa(t,e){if(!t||!t.length)return[];var n=Zi(t);return null==e?n:ot(n,function(s){return $t(e,f,s)})}var Ff=$(function(t,e){return gt(t)?Kn(t,e):[]}),Wf=$(function(t){return Ii(Ue(t,gt))}),Gf=$(function(t){var e=ae(t);return gt(e)&&(e=f),Ii(Ue(t,gt),B(e,2))}),Uf=$(function(t){var e=ae(t);return e="function"==typeof e?e:f,Ii(Ue(t,gt),f,e)}),kf=$(Zi),$f=$(function(t){var e=t.length,n=e>1?t[e-1]:f;return n="function"==typeof n?(t.pop(),n):f,aa(t,n)});function oa(t){var e=o(t);return e.__chain__=!0,e}function Fr(t,e){return e(t)}var Yf=Ie(function(t){var e=t.length,n=e?t[0]:0,s=this.__wrapped__,a=function(c){return vi(c,t)};return!(e>1||this.__actions__.length)&&s instanceof Y&&be(n)?((s=s.slice(n,+n+(e?1:0))).__actions__.push({func:Fr,args:[a],thisArg:f}),new ie(s,this.__chain__).thru(function(c){return e&&!c.length&&c.push(f),c})):this.thru(a)}),el=Ir(function(t,e,n){j.call(t,n)?++t[n]:Ee(t,n,1)}),il=Bu(na),sl=Bu(ra);function ca(t,e){return(G(t)?ne:$e)(t,B(e,3))}function ha(t,e){return(G(t)?Po:uu)(t,B(e,3))}var cl=Ir(function(t,e,n){j.call(t,n)?t[n].push(e):Ee(t,n,[e])}),fl=$(function(t,e,n){var s=-1,a="function"==typeof e,c=Gt(t)?v(t.length):[];return $e(t,function(l){c[++s]=a?$t(e,l,n):$n(l,e,n)}),c}),ll=Ir(function(t,e,n){Ee(t,n,e)});function Wr(t,e){return(G(t)?ot:pu)(t,B(e,3))}var dl=Ir(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),Al=$(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Bt(t,e[0],e[1])?e=[]:n>2&&Bt(e[0],e[1],e[2])&&(e=[e[0]]),vu(t,It(e,1),[])}),Gr=nc||function(){return Ot.Date.now()};function fa(t,e,n){return e=n?f:e,Oe(t,128,f,f,f,f,e=t&&null==e?t.length:e)}function la(t,e){var n;if("function"!=typeof e)throw new re(_);return t=k(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=f),n}}var Yi=$(function(t,e,n){var s=1;if(n.length){var a=ze(n,yn(Yi));s|=32}return Oe(t,s,e,n,a)}),pa=$(function(t,e,n){var s=3;if(n.length){var a=ze(n,yn(pa));s|=32}return Oe(e,s,t,n,a)});function ma(t,e,n){var s,a,c,l,p,g,D=0,x=!1,C=!1,E=!0;if("function"!=typeof t)throw new re(_);function R(mt){var _e=s,Me=a;return s=a=f,D=mt,l=t.apply(Me,_e)}function H(mt){var _e=mt-g;return g===f||_e>=e||_e<0||C&&mt-D>=c}function Z(){var mt=Gr();if(H(mt))return q(mt);p=Xn(Z,function z(mt){var Ba=e-(mt-g);return C?Lt(Ba,c-(mt-D)):Ba}(mt))}function q(mt){return p=f,E&&s?R(mt):(s=a=f,l)}function Xt(){var mt=Gr(),_e=H(mt);if(s=arguments,a=this,g=mt,_e){if(p===f)return function N(mt){return D=mt,p=Xn(Z,e),x?R(mt):l}(g);if(C)return Pu(p),p=Xn(Z,e),R(g)}return p===f&&(p=Xn(Z,e)),l}return e=oe(e)||0,ht(n)&&(x=!!n.leading,c=(C="maxWait"in n)?Ct(oe(n.maxWait)||0,e):c,E="trailing"in n?!!n.trailing:E),Xt.cancel=function qt(){p!==f&&Pu(p),D=0,s=g=a=p=f},Xt.flush=function Nt(){return p===f?l:q(Gr())},Xt}var yl=$(function(t,e){return su(t,1,e)}),Pl=$(function(t,e,n){return su(t,oe(e)||0,n)});function Ur(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new re(_);var n=function(){var s=arguments,a=e?e.apply(this,s):s[0],c=n.cache;if(c.has(a))return c.get(a);var l=t.apply(this,s);return n.cache=c.set(a,l)||c,l};return n.cache=new(Ur.Cache||Te),n}function kr(t){if("function"!=typeof t)throw new re(_);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ur.Cache=Te;var Ol=dh(function(t,e){var n=(e=1==e.length&&G(e[0])?ot(e[0],Zt(B())):ot(It(e,1),Zt(B()))).length;return $(function(s){for(var a=-1,c=Lt(s.length,n);++a<c;)s[a]=e[a].call(this,s[a]);return $t(t,this,s)})}),Vi=$(function(t,e){var n=ze(e,yn(Vi));return Oe(t,32,f,e,n)}),va=$(function(t,e){var n=ze(e,yn(va));return Oe(t,64,f,e,n)}),Il=Ie(function(t,e){return Oe(t,256,f,f,f,e)});function ve(t,e){return t===e||t!=t&&e!=e}var kl=Mr(wi),zl=Mr(function(t,e){return t>=e}),fn=hu(function(){return arguments}())?hu:function(t){return lt(t)&&j.call(t,"callee")&&!Xs.call(t,"callee")},G=v.isArray,Kl=bs?Zt(bs):function Jc(t){return lt(t)&&Mt(t)==en};function Gt(t){return null!=t&&zr(t.length)&&!Le(t)}function gt(t){return lt(t)&&Gt(t)}var qe=ic||ss,Zl=Ls?Zt(Ls):function Qc(t){return lt(t)&&Mt(t)==He};function qi(t){if(!lt(t))return!1;var e=Mt(t);return e==pe||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Jn(t)}function Le(t){if(!ht(t))return!1;var e=Mt(t);return e==Fe||e==We||"[object AsyncFunction]"==e||"[object Proxy]"==e}function _a(t){return"number"==typeof t&&t==k(t)}function zr(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Et}function ht(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function lt(t){return null!=t&&"object"==typeof t}var Sa=Rs?Zt(Rs):function th(t){return lt(t)&&Rt(t)==bt};function wa(t){return"number"==typeof t||lt(t)&&Mt(t)==jt}function Jn(t){if(!lt(t)||Mt(t)!=de)return!1;var e=mr(t);if(null===e)return!0;var n=j.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&lr.call(n)==Qo}var Xi=Ms?Zt(Ms):function eh(t){return lt(t)&&Mt(t)==tn},Da=Bs?Zt(Bs):function nh(t){return lt(t)&&Rt(t)==Kt};function Kr(t){return"string"==typeof t||!G(t)&&lt(t)&&Mt(t)==pn}function Vt(t){return"symbol"==typeof t||lt(t)&&Mt(t)==ft}var Pn=Ns?Zt(Ns):function rh(t){return lt(t)&&zr(t.length)&&!!ut[Mt(t)]},op=Mr(Ci),cp=Mr(function(t,e){return t<=e});function xa(t){if(!t)return[];if(Gt(t))return Kr(t)?ge(t):Wt(t);if(Fn&&t[Fn])return function Go(d){for(var S,v=[];!(S=d.next()).done;)v.push(S.value);return v}(t[Fn]());var e=Rt(t);return(e==bt?fi:e==Kt?or:Tn)(t)}function Re(t){return t?(t=oe(t))===U||t===-U?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function k(t){var e=Re(t),n=e%1;return e==e?n?e-n:e:0}function Aa(t){return t?an(k(t),0,st):0}function oe(t){if("number"==typeof t)return t;if(Vt(t))return NaN;if(ht(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ht(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=ks(t);var n=ka.test(t);return n||Ka.test(t)?Ao(t.slice(2),n?2:8):Ua.test(t)?NaN:+t}function Ca(t){return Ae(t,Ut(t))}function Q(t){return null==t?"":Yt(t)}var fp=An(function(t,e){if(qn(e)||Gt(e))Ae(e,Pt(e),t);else for(var n in e)j.call(e,n)&&zn(t,n,e[n])}),ya=An(function(t,e){Ae(e,Ut(e),t)}),$r=An(function(t,e,n,s){Ae(e,Ut(e),t,s)}),lp=An(function(t,e,n,s){Ae(e,Pt(e),t,s)}),pp=Ie(vi),gp=$(function(t,e){t=et(t);var n=-1,s=e.length,a=s>2?e[2]:f;for(a&&Bt(e[0],e[1],a)&&(s=1);++n<s;)for(var c=e[n],l=Ut(c),p=-1,g=l.length;++p<g;){var D=l[p],x=t[D];(x===f||ve(x,Sn[D])&&!j.call(t,D))&&(t[D]=c[D])}return t}),mp=$(function(t){return t.push(f,ku),$t(Pa,f,t)});function Ji(t,e,n){var s=null==t?f:on(t,e);return s===f?n:s}function Qi(t,e){return null!=t&&$u(t,e,Vc)}var Pp=Hu(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=pr.call(e)),t[e]=n},ts(kt)),Tp=Hu(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=pr.call(e)),j.call(t,e)?t[e].push(n):t[e]=[n]},B),Ep=$($n);function Pt(t){return Gt(t)?eu(t):Ai(t)}function Ut(t){return Gt(t)?eu(t,!0):function ih(t){if(!ht(t))return function Gh(t){var e=[];if(null!=t)for(var n in et(t))e.push(n);return e}(t);var e=qn(t),n=[];for(var s in t)"constructor"==s&&(e||!j.call(t,s))||n.push(s);return n}(t)}var bp=An(function(t,e,n){Tr(t,e,n)}),Pa=An(function(t,e,n,s){Tr(t,e,n,s)}),Lp=Ie(function(t,e){var n={};if(null==t)return n;var s=!1;e=ot(e,function(c){return c=Ye(c,t),s||(s=c.length>1),c}),Ae(t,Hi(t),n),s&&(n=se(n,7,yh));for(var a=e.length;a--;)Oi(n,e[a]);return n}),Mp=Ie(function(t,e){return null==t?{}:function uh(t,e){return _u(t,e,function(n,s){return Qi(t,s)})}(t,e)});function Ta(t,e){if(null==t)return{};var n=ot(Hi(t),function(s){return[s]});return e=B(e),_u(t,n,function(s,a){return e(s,a[0])})}var Ea=Gu(Pt),Oa=Gu(Ut);function Tn(t){return null==t?[]:hi(t,Pt(t))}var Zp=Cn(function(t,e,n){return e=e.toLowerCase(),t+(n?Ia(e):e)});function Ia(t){return ji(Q(t).toLowerCase())}function ba(t){return(t=Q(t))&&t.replace(Za,Bo).replace(fo,"")}var Xp=Cn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Jp=Cn(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Qp=Mu("toLowerCase"),sd=Cn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),ad=Cn(function(t,e,n){return t+(n?" ":"")+ji(e)}),vd=Cn(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),ji=Mu("toUpperCase");function La(t,e,n){return t=Q(t),(e=n?f:e)===f?function Wo(d){return go.test(d)}(t)?function Yo(d){return d.match(lo)||[]}(t):function Io(d){return d.match(Ha)||[]}(t):t.match(e)||[]}var Ra=$(function(t,e){try{return $t(t,f,e)}catch(n){return qi(n)?n:new W(n)}}),_d=Ie(function(t,e){return ne(e,function(n){n=Ce(n),Ee(t,n,Yi(t[n],t))}),t});function ts(t){return function(){return t}}var xd=Nu(),Ad=Nu(!0);function kt(t){return t}function es(t){return lu("function"==typeof t?t:se(t,1))}var Pd=$(function(t,e){return function(n){return $n(n,t,e)}}),Td=$(function(t,e){return function(n){return $n(t,n,e)}});function ns(t,e,n){var s=Pt(e),a=Pr(e,s);null==n&&(!ht(e)||!a.length&&s.length)&&(n=e,e=t,t=this,a=Pr(e,Pt(e)));var c=!(ht(n)&&"chain"in n&&!n.chain),l=Le(t);return ne(a,function(p){var g=e[p];t[p]=g,l&&(t.prototype[p]=function(){var D=this.__chain__;if(c||D){var x=t(this.__wrapped__);return(x.__actions__=Wt(this.__actions__)).push({func:g,args:arguments,thisArg:t}),x.__chain__=D,x}return g.apply(t,ke([this.value()],arguments))})}),t}function rs(){}var Id=Mi(ot),bd=Mi(Hs),Ld=Mi(si);function Ma(t){return Ui(t)?ui(Ce(t)):function ah(t){return function(e){return on(e,t)}}(t)}var Md=Fu(),Bd=Fu(!0);function is(){return[]}function ss(){return!1}var kd=Lr(function(t,e){return t+e},0),zd=Bi("ceil"),Kd=Lr(function(t,e){return t/e},1),$d=Bi("floor"),Qd=Lr(function(t,e){return t*e},1),jd=Bi("round"),tg=Lr(function(t,e){return t-e},0);return o.after=function Cl(t,e){if("function"!=typeof e)throw new re(_);return t=k(t),function(){if(--t<1)return e.apply(this,arguments)}},o.ary=fa,o.assign=fp,o.assignIn=ya,o.assignInWith=$r,o.assignWith=lp,o.at=pp,o.before=la,o.bind=Yi,o.bindAll=_d,o.bindKey=pa,o.castArray=function Nl(){if(!arguments.length)return[];var t=arguments[0];return G(t)?t:[t]},o.chain=oa,o.chunk=function Kh(t,e,n){e=(n?Bt(t,e,n):e===f)?1:Ct(k(e),0);var s=null==t?0:t.length;if(!s||e<1)return[];for(var a=0,c=0,l=v(Sr(s/e));a<s;)l[c++]=ue(t,a,a+=e);return l},o.compact=function $h(t){for(var e=-1,n=null==t?0:t.length,s=0,a=[];++e<n;){var c=t[e];c&&(a[s++]=c)}return a},o.concat=function Zh(){var t=arguments.length;if(!t)return[];for(var e=v(t-1),n=arguments[0],s=t;s--;)e[s-1]=arguments[s];return ke(G(n)?Wt(n):[n],It(e,1))},o.cond=function Sd(t){var e=null==t?0:t.length,n=B();return t=e?ot(t,function(s){if("function"!=typeof s[1])throw new re(_);return[n(s[0]),s[1]]}):[],$(function(s){for(var a=-1;++a<e;){var c=t[a];if($t(c[0],this,s))return $t(c[1],this,s)}})},o.conforms=function wd(t){return function Kc(t){var e=Pt(t);return function(n){return iu(n,t,e)}}(se(t,1))},o.constant=ts,o.countBy=el,o.create=function dp(t,e){var n=xn(t);return null==e?n:ru(n,e)},o.curry=function da(t,e,n){var s=Oe(t,8,f,f,f,f,f,e=n?f:e);return s.placeholder=da.placeholder,s},o.curryRight=function ga(t,e,n){var s=Oe(t,16,f,f,f,f,f,e=n?f:e);return s.placeholder=ga.placeholder,s},o.debounce=ma,o.defaults=gp,o.defaultsDeep=mp,o.defer=yl,o.delay=Pl,o.difference=Yh,o.differenceBy=Vh,o.differenceWith=qh,o.drop=function Xh(t,e,n){var s=null==t?0:t.length;return s?ue(t,(e=n||e===f?1:k(e))<0?0:e,s):[]},o.dropRight=function Jh(t,e,n){var s=null==t?0:t.length;return s?ue(t,0,(e=s-(e=n||e===f?1:k(e)))<0?0:e):[]},o.dropRightWhile=function Qh(t,e){return t&&t.length?Or(t,B(e,3),!0,!0):[]},o.dropWhile=function jh(t,e){return t&&t.length?Or(t,B(e,3),!0):[]},o.fill=function tf(t,e,n,s){var a=null==t?0:t.length;return a?(n&&"number"!=typeof n&&Bt(t,e,n)&&(n=0,s=a),function Zc(t,e,n,s){var a=t.length;for((n=k(n))<0&&(n=-n>a?0:a+n),(s=s===f||s>a?a:k(s))<0&&(s+=a),s=n>s?0:Aa(s);n<s;)t[n++]=e;return t}(t,e,n,s)):[]},o.filter=function rl(t,e){return(G(t)?Ue:au)(t,B(e,3))},o.flatMap=function ul(t,e){return It(Wr(t,e),1)},o.flatMapDeep=function al(t,e){return It(Wr(t,e),U)},o.flatMapDepth=function ol(t,e,n){return n=n===f?1:k(n),It(Wr(t,e),n)},o.flatten=ia,o.flattenDeep=function ef(t){return null!=t&&t.length?It(t,U):[]},o.flattenDepth=function nf(t,e){return null!=t&&t.length?It(t,e=e===f?1:k(e)):[]},o.flip=function Tl(t){return Oe(t,512)},o.flow=xd,o.flowRight=Ad,o.fromPairs=function rf(t){for(var e=-1,n=null==t?0:t.length,s={};++e<n;){var a=t[e];s[a[0]]=a[1]}return s},o.functions=function Ap(t){return null==t?[]:Pr(t,Pt(t))},o.functionsIn=function Cp(t){return null==t?[]:Pr(t,Ut(t))},o.groupBy=cl,o.initial=function uf(t){return null!=t&&t.length?ue(t,0,-1):[]},o.intersection=af,o.intersectionBy=of,o.intersectionWith=cf,o.invert=Pp,o.invertBy=Tp,o.invokeMap=fl,o.iteratee=es,o.keyBy=ll,o.keys=Pt,o.keysIn=Ut,o.map=Wr,o.mapKeys=function Op(t,e){var n={};return e=B(e,3),xe(t,function(s,a,c){Ee(n,e(s,a,c),s)}),n},o.mapValues=function Ip(t,e){var n={};return e=B(e,3),xe(t,function(s,a,c){Ee(n,a,e(s,a,c))}),n},o.matches=function Cd(t){return du(se(t,1))},o.matchesProperty=function yd(t,e){return gu(t,se(e,1))},o.memoize=Ur,o.merge=bp,o.mergeWith=Pa,o.method=Pd,o.methodOf=Td,o.mixin=ns,o.negate=kr,o.nthArg=function Od(t){return t=k(t),$(function(e){return mu(e,t)})},o.omit=Lp,o.omitBy=function Rp(t,e){return Ta(t,kr(B(e)))},o.once=function El(t){return la(2,t)},o.orderBy=function pl(t,e,n,s){return null==t?[]:(G(e)||(e=null==e?[]:[e]),G(n=s?f:n)||(n=null==n?[]:[n]),vu(t,e,n))},o.over=Id,o.overArgs=Ol,o.overEvery=bd,o.overSome=Ld,o.partial=Vi,o.partialRight=va,o.partition=dl,o.pick=Mp,o.pickBy=Ta,o.property=Ma,o.propertyOf=function Rd(t){return function(e){return null==t?f:on(t,e)}},o.pull=pf,o.pullAll=ua,o.pullAllBy=function df(t,e,n){return t&&t.length&&e&&e.length?yi(t,e,B(n,2)):t},o.pullAllWith=function gf(t,e,n){return t&&t.length&&e&&e.length?yi(t,e,f,n):t},o.pullAt=mf,o.range=Md,o.rangeRight=Bd,o.rearg=Il,o.reject=function vl(t,e){return(G(t)?Ue:au)(t,kr(B(e,3)))},o.remove=function vf(t,e){var n=[];if(!t||!t.length)return n;var s=-1,a=[],c=t.length;for(e=B(e,3);++s<c;){var l=t[s];e(l,s,t)&&(n.push(l),a.push(s))}return Su(t,a),n},o.rest=function bl(t,e){if("function"!=typeof t)throw new re(_);return $(t,e=e===f?e:k(e))},o.reverse=$i,o.sampleSize=function Sl(t,e,n){return e=(n?Bt(t,e,n):e===f)?1:k(e),(G(t)?Gc:hh)(t,e)},o.set=function Np(t,e,n){return null==t?t:Yn(t,e,n)},o.setWith=function Hp(t,e,n,s){return s="function"==typeof s?s:f,null==t?t:Yn(t,e,n,s)},o.shuffle=function wl(t){return(G(t)?Uc:lh)(t)},o.slice=function _f(t,e,n){var s=null==t?0:t.length;return s?(n&&"number"!=typeof n&&Bt(t,e,n)?(e=0,n=s):(e=null==e?0:k(e),n=n===f?s:k(n)),ue(t,e,n)):[]},o.sortBy=Al,o.sortedUniq=function yf(t){return t&&t.length?Du(t):[]},o.sortedUniqBy=function Pf(t,e){return t&&t.length?Du(t,B(e,2)):[]},o.split=function ud(t,e,n){return n&&"number"!=typeof n&&Bt(t,e,n)&&(e=n=f),(n=n===f?st:n>>>0)?(t=Q(t))&&("string"==typeof e||null!=e&&!Xi(e))&&!(e=Yt(e))&&vn(t)?Ve(ge(t),0,n):t.split(e,n):[]},o.spread=function Ll(t,e){if("function"!=typeof t)throw new re(_);return e=null==e?0:Ct(k(e),0),$(function(n){var s=n[e],a=Ve(n,0,e);return s&&ke(a,s),$t(t,this,a)})},o.tail=function Tf(t){var e=null==t?0:t.length;return e?ue(t,1,e):[]},o.take=function Ef(t,e,n){return t&&t.length?ue(t,0,(e=n||e===f?1:k(e))<0?0:e):[]},o.takeRight=function Of(t,e,n){var s=null==t?0:t.length;return s?ue(t,(e=s-(e=n||e===f?1:k(e)))<0?0:e,s):[]},o.takeRightWhile=function If(t,e){return t&&t.length?Or(t,B(e,3),!1,!0):[]},o.takeWhile=function bf(t,e){return t&&t.length?Or(t,B(e,3)):[]},o.tap=function Zf(t,e){return e(t),t},o.throttle=function Rl(t,e,n){var s=!0,a=!0;if("function"!=typeof t)throw new re(_);return ht(n)&&(s="leading"in n?!!n.leading:s,a="trailing"in n?!!n.trailing:a),ma(t,e,{leading:s,maxWait:e,trailing:a})},o.thru=Fr,o.toArray=xa,o.toPairs=Ea,o.toPairsIn=Oa,o.toPath=function Gd(t){return G(t)?ot(t,Ce):Vt(t)?[t]:Wt(ta(Q(t)))},o.toPlainObject=Ca,o.transform=function Fp(t,e,n){var s=G(t),a=s||qe(t)||Pn(t);if(e=B(e,4),null==n){var c=t&&t.constructor;n=a?s?new c:[]:ht(t)&&Le(c)?xn(mr(t)):{}}return(a?ne:xe)(t,function(l,p,g){return e(n,l,p,g)}),n},o.unary=function Ml(t){return fa(t,1)},o.union=Lf,o.unionBy=Rf,o.unionWith=Mf,o.uniq=function Bf(t){return t&&t.length?Ze(t):[]},o.uniqBy=function Nf(t,e){return t&&t.length?Ze(t,B(e,2)):[]},o.uniqWith=function Hf(t,e){return e="function"==typeof e?e:f,t&&t.length?Ze(t,f,e):[]},o.unset=function Wp(t,e){return null==t||Oi(t,e)},o.unzip=Zi,o.unzipWith=aa,o.update=function Gp(t,e,n){return null==t?t:Au(t,e,Li(n))},o.updateWith=function Up(t,e,n,s){return s="function"==typeof s?s:f,null==t?t:Au(t,e,Li(n),s)},o.values=Tn,o.valuesIn=function kp(t){return null==t?[]:hi(t,Ut(t))},o.without=Ff,o.words=La,o.wrap=function Bl(t,e){return Vi(Li(e),t)},o.xor=Wf,o.xorBy=Gf,o.xorWith=Uf,o.zip=kf,o.zipObject=function zf(t,e){return yu(t||[],e||[],zn)},o.zipObjectDeep=function Kf(t,e){return yu(t||[],e||[],Yn)},o.zipWith=$f,o.entries=Ea,o.entriesIn=Oa,o.extend=ya,o.extendWith=$r,ns(o,o),o.add=kd,o.attempt=Ra,o.camelCase=Zp,o.capitalize=Ia,o.ceil=zd,o.clamp=function zp(t,e,n){return n===f&&(n=e,e=f),n!==f&&(n=(n=oe(n))==n?n:0),e!==f&&(e=(e=oe(e))==e?e:0),an(oe(t),e,n)},o.clone=function Hl(t){return se(t,4)},o.cloneDeep=function Wl(t){return se(t,5)},o.cloneDeepWith=function Gl(t,e){return se(t,5,e="function"==typeof e?e:f)},o.cloneWith=function Fl(t,e){return se(t,4,e="function"==typeof e?e:f)},o.conformsTo=function Ul(t,e){return null==e||iu(t,e,Pt(e))},o.deburr=ba,o.defaultTo=function Dd(t,e){return null==t||t!=t?e:t},o.divide=Kd,o.endsWith=function Yp(t,e,n){t=Q(t),e=Yt(e);var s=t.length,a=n=n===f?s:an(k(n),0,s);return(n-=e.length)>=0&&t.slice(n,a)==e},o.eq=ve,o.escape=function Vp(t){return(t=Q(t))&&i.test(t)?t.replace(w,No):t},o.escapeRegExp=function qp(t){return(t=Q(t))&&V.test(t)?t.replace(L,"\\$&"):t},o.every=function nl(t,e,n){var s=G(t)?Hs:$c;return n&&Bt(t,e,n)&&(e=f),s(t,B(e,3))},o.find=il,o.findIndex=na,o.findKey=function vp(t,e){return Fs(t,B(e,3),xe)},o.findLast=sl,o.findLastIndex=ra,o.findLastKey=function _p(t,e){return Fs(t,B(e,3),Si)},o.floor=$d,o.forEach=ca,o.forEachRight=ha,o.forIn=function Sp(t,e){return null==t?t:_i(t,B(e,3),Ut)},o.forInRight=function wp(t,e){return null==t?t:ou(t,B(e,3),Ut)},o.forOwn=function Dp(t,e){return t&&xe(t,B(e,3))},o.forOwnRight=function xp(t,e){return t&&Si(t,B(e,3))},o.get=Ji,o.gt=kl,o.gte=zl,o.has=function yp(t,e){return null!=t&&$u(t,e,Yc)},o.hasIn=Qi,o.head=sa,o.identity=kt,o.includes=function hl(t,e,n,s){t=Gt(t)?t:Tn(t),n=n&&!s?k(n):0;var a=t.length;return n<0&&(n=Ct(a+n,0)),Kr(t)?n<=a&&t.indexOf(e,n)>-1:!!a&&mn(t,e,n)>-1},o.indexOf=function sf(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var a=null==n?0:k(n);return a<0&&(a=Ct(s+a,0)),mn(t,e,a)},o.inRange=function Kp(t,e,n){return e=Re(e),n===f?(n=e,e=0):n=Re(n),function qc(t,e,n){return t>=Lt(e,n)&&t<Ct(e,n)}(t=oe(t),e,n)},o.invoke=Ep,o.isArguments=fn,o.isArray=G,o.isArrayBuffer=Kl,o.isArrayLike=Gt,o.isArrayLikeObject=gt,o.isBoolean=function $l(t){return!0===t||!1===t||lt(t)&&Mt(t)==Ne},o.isBuffer=qe,o.isDate=Zl,o.isElement=function Yl(t){return lt(t)&&1===t.nodeType&&!Jn(t)},o.isEmpty=function Vl(t){if(null==t)return!0;if(Gt(t)&&(G(t)||"string"==typeof t||"function"==typeof t.splice||qe(t)||Pn(t)||fn(t)))return!t.length;var e=Rt(t);if(e==bt||e==Kt)return!t.size;if(qn(t))return!Ai(t).length;for(var n in t)if(j.call(t,n))return!1;return!0},o.isEqual=function ql(t,e){return Zn(t,e)},o.isEqualWith=function Xl(t,e,n){var s=(n="function"==typeof n?n:f)?n(t,e):f;return s===f?Zn(t,e,f,n):!!s},o.isError=qi,o.isFinite=function Jl(t){return"number"==typeof t&&Qs(t)},o.isFunction=Le,o.isInteger=_a,o.isLength=zr,o.isMap=Sa,o.isMatch=function Ql(t,e){return t===e||xi(t,e,Wi(e))},o.isMatchWith=function jl(t,e,n){return n="function"==typeof n?n:f,xi(t,e,Wi(e),n)},o.isNaN=function tp(t){return wa(t)&&t!=+t},o.isNative=function ep(t){if(Hh(t))throw new W("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return fu(t)},o.isNil=function rp(t){return null==t},o.isNull=function np(t){return null===t},o.isNumber=wa,o.isObject=ht,o.isObjectLike=lt,o.isPlainObject=Jn,o.isRegExp=Xi,o.isSafeInteger=function ip(t){return _a(t)&&t>=-Et&&t<=Et},o.isSet=Da,o.isString=Kr,o.isSymbol=Vt,o.isTypedArray=Pn,o.isUndefined=function sp(t){return t===f},o.isWeakMap=function up(t){return lt(t)&&Rt(t)==te},o.isWeakSet=function ap(t){return lt(t)&&"[object WeakSet]"==Mt(t)},o.join=function hf(t,e){return null==t?"":sc.call(t,e)},o.kebabCase=Xp,o.last=ae,o.lastIndexOf=function ff(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var a=s;return n!==f&&(a=(a=k(n))<0?Ct(s+a,0):Lt(a,s-1)),e==e?function zo(d,S,v){for(var O=v+1;O--;)if(d[O]===S)return O;return O}(t,e,a):ar(t,Ws,a,!0)},o.lowerCase=Jp,o.lowerFirst=Qp,o.lt=op,o.lte=cp,o.max=function Zd(t){return t&&t.length?yr(t,kt,wi):f},o.maxBy=function Yd(t,e){return t&&t.length?yr(t,B(e,2),wi):f},o.mean=function Vd(t){return Gs(t,kt)},o.meanBy=function qd(t,e){return Gs(t,B(e,2))},o.min=function Xd(t){return t&&t.length?yr(t,kt,Ci):f},o.minBy=function Jd(t,e){return t&&t.length?yr(t,B(e,2),Ci):f},o.stubArray=is,o.stubFalse=ss,o.stubObject=function Nd(){return{}},o.stubString=function Hd(){return""},o.stubTrue=function Fd(){return!0},o.multiply=Qd,o.nth=function lf(t,e){return t&&t.length?mu(t,k(e)):f},o.noConflict=function Ed(){return Ot._===this&&(Ot._=jo),this},o.noop=rs,o.now=Gr,o.pad=function jp(t,e,n){t=Q(t);var s=(e=k(e))?_n(t):0;if(!e||s>=e)return t;var a=(e-s)/2;return Rr(wr(a),n)+t+Rr(Sr(a),n)},o.padEnd=function td(t,e,n){t=Q(t);var s=(e=k(e))?_n(t):0;return e&&s<e?t+Rr(e-s,n):t},o.padStart=function ed(t,e,n){t=Q(t);var s=(e=k(e))?_n(t):0;return e&&s<e?Rr(e-s,n)+t:t},o.parseInt=function nd(t,e,n){return n||null==e?e=0:e&&(e=+e),oc(Q(t).replace(xt,""),e||0)},o.random=function $p(t,e,n){if(n&&"boolean"!=typeof n&&Bt(t,e,n)&&(e=n=f),n===f&&("boolean"==typeof e?(n=e,e=f):"boolean"==typeof t&&(n=t,t=f)),t===f&&e===f?(t=0,e=1):(t=Re(t),e===f?(e=t,t=0):e=Re(e)),t>e){var s=t;t=e,e=s}if(n||t%1||e%1){var a=js();return Lt(t+a*(e-t+xo("1e-"+((a+"").length-1))),e)}return Pi(t,e)},o.reduce=function gl(t,e,n){var s=G(t)?ii:Us,a=arguments.length<3;return s(t,B(e,4),n,a,$e)},o.reduceRight=function ml(t,e,n){var s=G(t)?To:Us,a=arguments.length<3;return s(t,B(e,4),n,a,uu)},o.repeat=function rd(t,e,n){return e=(n?Bt(t,e,n):e===f)?1:k(e),Ti(Q(t),e)},o.replace=function id(){var t=arguments,e=Q(t[0]);return t.length<3?e:e.replace(t[1],t[2])},o.result=function Bp(t,e,n){var s=-1,a=(e=Ye(e,t)).length;for(a||(a=1,t=f);++s<a;){var c=null==t?f:t[Ce(e[s])];c===f&&(s=a,c=n),t=Le(c)?c.call(t):c}return t},o.round=jd,o.runInContext=d,o.sample=function _l(t){return(G(t)?nu:ch)(t)},o.size=function Dl(t){if(null==t)return 0;if(Gt(t))return Kr(t)?_n(t):t.length;var e=Rt(t);return e==bt||e==Kt?t.size:Ai(t).length},o.snakeCase=sd,o.some=function xl(t,e,n){var s=G(t)?si:ph;return n&&Bt(t,e,n)&&(e=f),s(t,B(e,3))},o.sortedIndex=function Sf(t,e){return Er(t,e)},o.sortedIndexBy=function wf(t,e,n){return Ei(t,e,B(n,2))},o.sortedIndexOf=function Df(t,e){var n=null==t?0:t.length;if(n){var s=Er(t,e);if(s<n&&ve(t[s],e))return s}return-1},o.sortedLastIndex=function xf(t,e){return Er(t,e,!0)},o.sortedLastIndexBy=function Af(t,e,n){return Ei(t,e,B(n,2),!0)},o.sortedLastIndexOf=function Cf(t,e){if(null!=t&&t.length){var s=Er(t,e,!0)-1;if(ve(t[s],e))return s}return-1},o.startCase=ad,o.startsWith=function od(t,e,n){return t=Q(t),n=null==n?0:an(k(n),0,t.length),e=Yt(e),t.slice(n,n+e.length)==e},o.subtract=tg,o.sum=function eg(t){return t&&t.length?oi(t,kt):0},o.sumBy=function ng(t,e){return t&&t.length?oi(t,B(e,2)):0},o.template=function cd(t,e,n){var s=o.templateSettings;n&&Bt(t,e,n)&&(e=f),t=Q(t),e=$r({},e,s,Uu);var p,g,a=$r({},e.imports,s.imports,Uu),c=Pt(a),l=hi(a,c),D=0,x=e.interpolate||rr,C="__p += '",E=li((e.escape||rr).source+"|"+x.source+"|"+(x===m?Ga:rr).source+"|"+(e.evaluate||rr).source+"|$","g"),R="//# sourceURL="+(j.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++vo+"]")+"\n";t.replace(E,function(H,Z,q,qt,Nt,Xt){return q||(q=qt),C+=t.slice(D,Xt).replace(Ya,Ho),Z&&(p=!0,C+="' +\n__e("+Z+") +\n'"),Nt&&(g=!0,C+="';\n"+Nt+";\n__p += '"),q&&(C+="' +\n((__t = ("+q+")) == null ? '' : __t) +\n'"),D=Xt+H.length,H}),C+="';\n";var N=j.call(e,"variable")&&e.variable;if(N){if(Fa.test(N))throw new W("Invalid `variable` option passed into `_.template`")}else C="with (obj) {\n"+C+"\n}\n";C=(g?C.replace(as,""):C).replace(os,"$1").replace(Ft,"$1;"),C="function("+(N||"obj")+") {\n"+(N?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(p?", __e = _.escape":"")+(g?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+C+"return __p\n}";var z=Ra(function(){return J(c,R+"return "+C).apply(f,l)});if(z.source=C,qi(z))throw z;return z},o.times=function Wd(t,e){if((t=k(t))<1||t>Et)return[];var n=st,s=Lt(t,st);e=B(e),t-=st;for(var a=ci(s,e);++n<t;)e(n);return a},o.toFinite=Re,o.toInteger=k,o.toLength=Aa,o.toLower=function hd(t){return Q(t).toLowerCase()},o.toNumber=oe,o.toSafeInteger=function hp(t){return t?an(k(t),-Et,Et):0===t?t:0},o.toString=Q,o.toUpper=function fd(t){return Q(t).toUpperCase()},o.trim=function ld(t,e,n){if((t=Q(t))&&(n||e===f))return ks(t);if(!t||!(e=Yt(e)))return t;var s=ge(t),a=ge(e);return Ve(s,zs(s,a),Ks(s,a)+1).join("")},o.trimEnd=function pd(t,e,n){if((t=Q(t))&&(n||e===f))return t.slice(0,Zs(t)+1);if(!t||!(e=Yt(e)))return t;var s=ge(t);return Ve(s,0,Ks(s,ge(e))+1).join("")},o.trimStart=function dd(t,e,n){if((t=Q(t))&&(n||e===f))return t.replace(xt,"");if(!t||!(e=Yt(e)))return t;var s=ge(t);return Ve(s,zs(s,ge(e))).join("")},o.truncate=function gd(t,e){var n=30,s="...";if(ht(e)){var a="separator"in e?e.separator:a;n="length"in e?k(e.length):n,s="omission"in e?Yt(e.omission):s}var c=(t=Q(t)).length;if(vn(t)){var l=ge(t);c=l.length}if(n>=c)return t;var p=n-_n(s);if(p<1)return s;var g=l?Ve(l,0,p).join(""):t.slice(0,p);if(a===f)return g+s;if(l&&(p+=g.length-p),Xi(a)){if(t.slice(p).search(a)){var D,x=g;for(a.global||(a=li(a.source,Q(cs.exec(a))+"g")),a.lastIndex=0;D=a.exec(x);)var C=D.index;g=g.slice(0,C===f?p:C)}}else if(t.indexOf(Yt(a),p)!=p){var E=g.lastIndexOf(a);E>-1&&(g=g.slice(0,E))}return g+s},o.unescape=function md(t){return(t=Q(t))&&r.test(t)?t.replace(qr,Ko):t},o.uniqueId=function Ud(t){var e=++Jo;return Q(t)+e},o.upperCase=vd,o.upperFirst=ji,o.each=ca,o.eachRight=ha,o.first=sa,ns(o,function(){var t={};return xe(o,function(e,n){j.call(o.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),o.VERSION="4.17.21",ne(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){o[t].placeholder=o}),ne(["drop","take"],function(t,e){Y.prototype[t]=function(n){n=n===f?1:Ct(k(n),0);var s=this.__filtered__&&!e?new Y(this):this.clone();return s.__filtered__?s.__takeCount__=Lt(n,s.__takeCount__):s.__views__.push({size:Lt(n,st),type:t+(s.__dir__<0?"Right":"")}),s},Y.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}}),ne(["filter","map","takeWhile"],function(t,e){var n=e+1,s=1==n||3==n;Y.prototype[t]=function(a){var c=this.clone();return c.__iteratees__.push({iteratee:B(a,3),type:n}),c.__filtered__=c.__filtered__||s,c}}),ne(["head","last"],function(t,e){var n="take"+(e?"Right":"");Y.prototype[t]=function(){return this[n](1).value()[0]}}),ne(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");Y.prototype[t]=function(){return this.__filtered__?new Y(this):this[n](1)}}),Y.prototype.compact=function(){return this.filter(kt)},Y.prototype.find=function(t){return this.filter(t).head()},Y.prototype.findLast=function(t){return this.reverse().find(t)},Y.prototype.invokeMap=$(function(t,e){return"function"==typeof t?new Y(this):this.map(function(n){return $n(n,t,e)})}),Y.prototype.reject=function(t){return this.filter(kr(B(t)))},Y.prototype.slice=function(t,e){t=k(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Y(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==f&&(n=(e=k(e))<0?n.dropRight(-e):n.take(e-t)),n)},Y.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Y.prototype.toArray=function(){return this.take(st)},xe(Y.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),s=/^(?:head|last)$/.test(e),a=o[s?"take"+("last"==e?"Right":""):e],c=s||/^find/.test(e);a&&(o.prototype[e]=function(){var l=this.__wrapped__,p=s?[1]:arguments,g=l instanceof Y,D=p[0],x=g||G(l),C=function(Z){var q=a.apply(o,ke([Z],p));return s&&E?q[0]:q};x&&n&&"function"==typeof D&&1!=D.length&&(g=x=!1);var E=this.__chain__,N=c&&!E,z=g&&!this.__actions__.length;if(!c&&x){l=z?l:new Y(this);var H=t.apply(l,p);return H.__actions__.push({func:Fr,args:[C],thisArg:f}),new ie(H,E)}return N&&z?t.apply(this,p):(H=this.thru(C),N?s?H.value()[0]:H.value():H)})}),ne(["pop","push","shift","sort","splice","unshift"],function(t){var e=hr[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",s=/^(?:pop|shift)$/.test(t);o.prototype[t]=function(){var a=arguments;if(s&&!this.__chain__){var c=this.value();return e.apply(G(c)?c:[],a)}return this[n](function(l){return e.apply(G(l)?l:[],a)})}}),xe(Y.prototype,function(t,e){var n=o[e];if(n){var s=n.name+"";j.call(Dn,s)||(Dn[s]=[]),Dn[s].push({name:e,func:n})}}),Dn[br(f,2).name]=[{name:"wrapper",func:f}],Y.prototype.clone=function gc(){var t=new Y(this.__wrapped__);return t.__actions__=Wt(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Wt(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Wt(this.__views__),t},Y.prototype.reverse=function mc(){if(this.__filtered__){var t=new Y(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Y.prototype.value=function vc(){var t=this.__wrapped__.value(),e=this.__dir__,n=G(t),s=e<0,a=n?t.length:0,c=function Oh(t,e,n){for(var s=-1,a=n.length;++s<a;){var c=n[s],l=c.size;switch(c.type){case"drop":t+=l;break;case"dropRight":e-=l;break;case"take":e=Lt(e,t+l);break;case"takeRight":t=Ct(t,e-l)}}return{start:t,end:e}}(0,a,this.__views__),l=c.start,p=c.end,g=p-l,D=s?p:l-1,x=this.__iteratees__,C=x.length,E=0,R=Lt(g,this.__takeCount__);if(!n||!s&&a==g&&R==g)return Cu(t,this.__actions__);var N=[];t:for(;g--&&E<R;){for(var z=-1,H=t[D+=e];++z<C;){var Z=x[z],qt=Z.type,Nt=(0,Z.iteratee)(H);if(2==qt)H=Nt;else if(!Nt){if(1==qt)continue t;break t}}N[E++]=H}return N},o.prototype.at=Yf,o.prototype.chain=function Vf(){return oa(this)},o.prototype.commit=function qf(){return new ie(this.value(),this.__chain__)},o.prototype.next=function Xf(){this.__values__===f&&(this.__values__=xa(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?f:this.__values__[this.__index__++]}},o.prototype.plant=function Qf(t){for(var e,n=this;n instanceof Ar;){var s=ea(n);s.__index__=0,s.__values__=f,e?a.__wrapped__=s:e=s;var a=s;n=n.__wrapped__}return a.__wrapped__=t,e},o.prototype.reverse=function jf(){var t=this.__wrapped__;if(t instanceof Y){var e=t;return this.__actions__.length&&(e=new Y(this)),(e=e.reverse()).__actions__.push({func:Fr,args:[$i],thisArg:f}),new ie(e,this.__chain__)}return this.thru($i)},o.prototype.toJSON=o.prototype.valueOf=o.prototype.value=function tl(){return Cu(this.__wrapped__,this.__actions__)},o.prototype.first=o.prototype.head,Fn&&(o.prototype[Fn]=function Jf(){return this}),o}();Ot._=cr,(nt=function(){return cr}.call(ce,Ht,ce,Se))!==f&&(Se.exports=nt)}.call(this)},103:(Se,ce,Ht)=>{"use strict";Ht.d(ce,{Cb:()=>de,Dc:()=>pe,E1:()=>we,Ei:()=>he,FQ:()=>at,RP:()=>_t,Uz:()=>Ln,VQ:()=>bt,Vw:()=>le,XX:()=>yt,Z1:()=>zt,_0:()=>He,bz:()=>We,dD:()=>Fe,ju:()=>Dt,kf:()=>dn,qp:()=>U,rQ:()=>tr,rr:()=>Vr,uv:()=>nn,wC:()=>st,zW:()=>ye});var nt=Ht(990),f=function(w){return w[w.fresh=1]="fresh",w[w.brackish=2]="brackish",w[w.salt=3]="salt",w}(f||{});let vt=(()=>{class w{static#t=this.fresh=1e3;static#e=this.brackish=1020;static#n=this.salt=1030}return w})(),ct=(()=>{class w{static#t=this.standard=9.80665}return w})(),X=(()=>{class w{static#t=this.coefficient=1e5;static pascalToBar(i){return i/w.coefficient}static barToPascal(i){return i*w.coefficient}}return w})();class _{static#t=this.standard=1.01325;static#e=this.standardPascals=X.barToPascal(_.standard);static#n=this.gasConstant=8.31432;static#r=this.temperature=288.15;static#i=this.lapsRate=-.0065;static#s=this.molarMass=.0289644;static#u=this.exponent=ct.standard*_.molarMass/(_.gasConstant*_.lapsRate);static#a=this.invertedExponent=1/_.exponent;static pressure(r){return _.standardPascals*Math.pow(_.temperature/(_.temperature+_.lapsRate*r),_.exponent)}static altitude(r){if(r>=_.standardPascals)return 0;const u=Math.pow(r/_.standardPascals,_.invertedExponent);return(_.temperature/u-_.temperature)/_.lapsRate}}class y{constructor(r,i,u,h,m,A){this._n2HalfTime=r,this._n2A=i,this._n2B=u,this._heHalfTime=h,this._heA=m,this._heB=A}get n2HalfTime(){return this._n2HalfTime}get n2A(){return this._n2A}get n2B(){return this._n2B}get heHalfTime(){return this._heHalfTime}get heA(){return this._heA}get heB(){return this._heB}}class F{static#t=this.buhlmannZHL16C=[new y(5,1.1696,.5578,1.88,1.6189,.477),new y(8,1,.6514,3.02,1.383,.5747),new y(12.5,.8618,.7222,4.72,1.1919,.6527),new y(18.5,.7562,.7826,6.99,1.0458,.7223),new y(27,.62,.8125,10.21,.922,.7582),new y(38.3,.5043,.8434,14.48,.8205,.7957),new y(54.3,.441,.8693,20.53,.7305,.8279),new y(77,.4,.891,29.11,.6502,.8553),new y(109,.375,.9092,41.2,.595,.8757),new y(146,.35,.9222,55.19,.5545,.8903),new y(187,.3295,.9319,70.69,.5333,.8997),new y(239,.3065,.9403,90.34,.5189,.9073),new y(305,.2835,.9477,115.29,.5181,.9122),new y(390,.261,.9544,147.42,.5176,.9171),new y(498,.248,.9602,188.24,.5172,.9217),new y(635,.2327,.9653,240.03,.5119,.9267)]}class P{static fix(r){return Number(r.toFixed(10))}static roundTwoDecimals(r){return P.round(r,2)}static round(r,i=0){return P.adapt(Math.round,r,i)}static floorTwoDecimals(r){return P.floor(r,2)}static floor(r,i=0){return P.adapt(Math.floor,r,i)}static ceilTwoDecimals(r){return P.ceil(r,2)}static ceil(r,i=0){return P.adapt(Math.ceil,r,i)}static ceilDistance(r,i){return P.adaptDistance(Math.ceil,r,i)}static roundDistance(r,i){return P.adaptDistance(Math.round,r,i)}static floorDistance(r,i){return P.adaptDistance(Math.floor,r,i)}static adapt(r,i,u){const h=Math.pow(10,u);return r(i*h)/h}static adaptDistance(r,i,u){return r(i/u)*u}}class at{constructor(r){this.options=r}create(){switch(this.options.salinity){case f.salt:return tt.forSaltWater(this.options.altitude);case f.brackish:return tt.forBrackishWater(this.options.altitude);default:return tt.forFreshWater(this.options.altitude)}}}class tt{constructor(r,i){this.density=r,this._gravity=ct.standard;const u=_.pressure(i);this._surfacePressure=X.pascalToBar(u)}get surfacePressure(){return this._surfacePressure}static forSaltWater(r=0){return new tt(vt.salt,r)}static forBrackishWater(r=0){return new tt(vt.brackish,r)}static forFreshWater(r=0){return new tt(vt.fresh,r)}static simple(){const r=new tt(vt.fresh,0);return r._surfacePressure=1,r._gravity=10,r}toBar(r){return X.pascalToBar(r*(this.density*this._gravity))+this._surfacePressure}fromBar(r){if(r<this._surfacePressure)throw new Error("Lower pressure than altitude isn`t convertible to depth.");const i=this.density*this._gravity;return X.barToPascal(r-this._surfacePressure)/i}}var wt=function(w){return w[w.never=1]="never",w[w.auto=2]="auto",w[w.always=3]="always",w}(wt||{});class M{static#t=this.altitude=0;static#e=this.saltWater=f.salt;static#n=this.roundStopsToMinutes=!1;static#r=this.gasSwitchDuration=2;static#i=this.problemSolvingDuration=1;static#s=this.lastStopDepth=3;static#u=this.lastStopDepthRecre=5;static#a=this.safetyStopRecre=wt.auto;static#o=this.decoStopDistance=3;static#c=this.minimumAutoStopDepth=10;static#h=this.addSafetyStop=!0;static#f=this.maxEND=30;static#l=this.oxygenNarcotic=!0;static#p=this.ascentSpeed6m=3;static#d=this.ascentSpeed50percTo6m=6;static#g=this.ascentSpeed50perc=9;static#m=this.descentSpeed=18;static#v=this.gfLow=.4;static#_=this.gfHigh=.85;static#S=this.maxPpO2=1.4;static#w=this.maxDecoPpO2=1.6;static setMediumConservatism(r){r.gfLow=M.gfLow,r.gfHigh=M.gfHigh}static useGeneralRecommended(r){r.safetyStop=M.safetyStopRecre,r.roundStopsToMinutes=M.roundStopsToMinutes,r.gasSwitchDuration=M.gasSwitchDuration,r.oxygenNarcotic=M.oxygenNarcotic}}class he{constructor(r=M.gfLow,i=M.gfHigh,u=M.maxPpO2,h=M.maxDecoPpO2,m=M.saltWater){this.gfLow=r,this.gfHigh=i,this.maxPpO2=u,this.maxDecoPpO2=h,this.salinity=m,this.altitude=M.altitude,this.roundStopsToMinutes=M.roundStopsToMinutes,this.gasSwitchDuration=M.gasSwitchDuration,this.safetyStop=M.safetyStopRecre,this.lastStopDepth=M.lastStopDepth,this.decoStopDistance=M.decoStopDistance,this.minimumAutoStopDepth=M.minimumAutoStopDepth,this.maxEND=M.maxEND,this.oxygenNarcotic=!0,this.ascentSpeed6m=M.ascentSpeed6m,this.ascentSpeed50percTo6m=M.ascentSpeed50percTo6m,this.ascentSpeed50perc=M.ascentSpeed50perc,this.descentSpeed=M.descentSpeed,this.problemSolvingDuration=M.problemSolvingDuration,this.gfLow=r||M.gfLow,this.gfHigh=i||M.gfHigh,this.maxPpO2=u||M.maxPpO2,this.maxDecoPpO2=h||M.maxDecoPpO2,this.salinity=m||M.saltWater}loadFrom(r){this.gfLow=r.gfLow||this.gfLow,this.gfHigh=r.gfHigh||this.gfHigh,this.maxPpO2=r.maxPpO2||this.maxPpO2,this.maxDecoPpO2=r.maxDecoPpO2||this.maxDecoPpO2,this.oxygenNarcotic=!!r.oxygenNarcotic,this.salinity=r.salinity||this.salinity,this.altitude=r.altitude||0===r.altitude?r.altitude:this.altitude,this.roundStopsToMinutes=!!r.roundStopsToMinutes,this.gasSwitchDuration=r.gasSwitchDuration||this.gasSwitchDuration,this.problemSolvingDuration=r.problemSolvingDuration||this.problemSolvingDuration,this.lastStopDepth=r.lastStopDepth||this.lastStopDepth,this.decoStopDistance=r.decoStopDistance||this.decoStopDistance,this.minimumAutoStopDepth=r.minimumAutoStopDepth||this.minimumAutoStopDepth,this.safetyStop=r.safetyStop||this.safetyStop,this.maxEND=r.maxEND||this.maxEND,this.ascentSpeed6m=r.ascentSpeed6m||this.ascentSpeed6m,this.ascentSpeed50percTo6m=r.ascentSpeed50percTo6m||this.ascentSpeed50percTo6m,this.ascentSpeed50perc=r.ascentSpeed50perc||this.ascentSpeed50perc,this.descentSpeed=r.descentSpeed||this.descentSpeed}}class pt{constructor(r,i){this.depthConverter=r,this.options=i}toDecoStop(r){const i=this.depthConverter.fromBar(r);return P.roundDistance(i,this.options.decoStopDistance)}nextStop(r){if(r<=this.options.lastStopDepth)return 0;const i=P.floorDistance(r,this.options.decoStopDistance);if(i!==r)return i;const u=r-this.options.decoStopDistance;return u<=this.options.lastStopDepth?this.options.lastStopDepth:u}addSafetyStop(r,i){return(this.options.safetyStop===wt.always||this.options.safetyStop===wt.auto&&i>this.options.minimumAutoStopDepth)&&r===this.options.lastStopDepth}}var dt=function(w){return w[w.noAction=0]="noAction",w[w.error=1]="error",w[w.gasSwitch=2]="gasSwitch",w[w.noDecoEnd=3]="noDecoEnd",w[w.lowPpO2=4]="lowPpO2",w[w.highPpO2=5]="highPpO2",w[w.highAscentSpeed=6]="highAscentSpeed",w[w.highDescentSpeed=7]="highDescentSpeed",w[w.brokenCeiling=8]="brokenCeiling",w[w.maxEndExceeded=9]="maxEndExceeded",w[w.switchToHigherN2=10]="switchToHigherN2",w[w.highGasDensity=11]="highGasDensity",w[w.safetyStop=12]="safetyStop",w}(dt||{});class Dt{constructor(r,i,u,h,m){this.timeStamp=r,this.depth=i,this.type=u,this.message=h,this.gas=m}static create(r,i,u,h){return new Dt(i,u,r,"",h)}static createError(r){return new Dt(0,0,dt.error,r)}}class rt{static createError(r){return Dt.createError(r)}static createSafetyStopStart(r,i){return Dt.create(dt.safetyStop,r,i)}static createNoDecoEnd(r,i){return Dt.create(dt.noDecoEnd,r,i)}static createGasSwitch(r,i,u){return Dt.create(dt.gasSwitch,r,i,u)}static createLowPpO2(r,i){return Dt.create(dt.lowPpO2,r,i)}static createHighPpO2(r,i){return Dt.create(dt.highPpO2,r,i)}static createHighAscentSpeed(r,i){return Dt.create(dt.highAscentSpeed,r,i)}static createHighDescentSpeed(r,i){return Dt.create(dt.highDescentSpeed,r,i)}static createBrokenCeiling(r,i){return Dt.create(dt.brokenCeiling,r,i)}static createMaxEndExceeded(r,i,u){return Dt.create(dt.maxEndExceeded,r,i,u)}static createSwitchToHigherN2(r,i,u){return Dt.create(dt.switchToHigherN2,r,i,u)}static createHighDensity(r,i,u){return Dt.create(dt.highGasDensity,r,i,u)}}class ye{constructor(){this.items=[]}add(r){this.items.push(r)}}class Jt{constructor(r,i){this.time=r,this.depth=i}get notAtSurface(){return this.depth>0}static isDecoDive(r){for(const i of r)if(i.notAtSurface)return!0;return!1}}class zt{constructor(r,i,u,h){this.seg=r,this.ceil=i,this.tiss=u,this.err=h}get segments(){return this.seg}get ceilings(){return this.ceil}get tissues(){return this.tiss}get errors(){return this.err}static fromErrors(r,i){return new zt(r,[],[],i)}static fromProfile(r,i,u){return new zt(r,i,u,[])}}class fe{static validate(r){const i=[];if(!r.hasBottomGas){const u=rt.createError("At least one bottom gas has to be defined.");return i.push(u),i}return i}}class Xe{constructor(r,i){this.gases=r,this.depthConverter=tt.simple(),this.depthLevels=new pt(this.depthConverter,i)}bestGas(r){const i=this.depthConverter.toBar(r.currentDepth),u=this.depthConverter.toBar(r.maxEnd);let h=r.currentGas;return this.gases.all.forEach(m=>{const A=m.mod(r.maxDecoPpO2),T=this.depthLevels.toDecoStop(A),I=m.end(i,r.oxygenNarcotic);r.currentDepth<=T&&I<=u&&(!h||h.fO2<m.fO2)&&(h=m)}),h}}class le{constructor(){this.bottomGases=[]}get all(){return this.bottomGases.slice()}get hasBottomGas(){return this.bottomGases.length>=1}static fromTanks(r){const i=new le;return r.forEach(u=>{i.add(u.gas)}),i}add(r){this.bottomGases.push(r)}isRegistered(r){return this.bottomGases.includes(r)}}class Tt{static partialPressure(r,i){return r*i}static mod(r,i){return r/i}static bestMix(r,i,u){const m=r/u.toBar(i);return m>1?1:m}static ead(r,i,u=K.o2InAir){const m=1-u;return Tt.end(i,1-r)/m}static end(r,i,u=0){return r*this.narcoticIndex(u,i)}static mnd(r,i,u=0){return r/this.narcoticIndex(u,i)}static ceiling(r,i){const m=.18/r*i;return m<i?i:m}static narcoticIndex(r,i=0){return i+r}}class _t{constructor(r,i){if(this._fO2=r,this._fHe=i,this.contentExceeds100percent())throw new Error("O2 + He can't exceed 100 %")}get fN2(){return 1-this._fO2-this._fHe}get fO2(){return this._fO2}get fHe(){return this._fHe}get name(){return K.nameFor(this.fO2,this.fHe)}set fO2(r){this._fO2=r>1?1:r,this.contentExceeds100percent()&&(this._fHe=this.countRemaining(this._fO2))}set fHe(r){this._fHe=r>.99?.99:r,this.contentExceeds100percent()&&(this._fO2=this.countRemaining(this._fHe))}copy(){return new _t(this._fO2,this._fHe)}mod(r){return Tt.mod(r,this._fO2)}end(r,i){return Tt.end(r,this.fN2,i?this._fO2:0)}mnd(r,i){return Tt.mnd(r,this.fN2,i?this._fO2:0)}ceiling(r){return Tt.ceiling(this._fO2,r)}compositionEquals(r){return!!r&&this._fO2===r._fO2&&this._fHe===r._fHe}contentCode(){return P.round(1e4*this._fO2*1e4)+P.round(1e4*this._fHe)}assignStandardGas(r){const i=K.byName(r);i&&(this.fO2=i.fO2,this.fHe=i.fHe)}contentExceeds100percent(){return this._fO2+this._fHe>1}countRemaining(r){return P.round(1-r,5)}}class K{static#t=this.o2InAir=.209;static#e=this.nitroxInAir=1-K.o2InAir;static#n=this.oxygen=new _t(1,0);static#r=this.ean50=new _t(.5,0);static#i=this.ean38=new _t(.38,0);static#s=this.ean36=new _t(.36,0);static#u=this.ean32=new _t(.32,0);static#a=this.trimix3525=new _t(.35,.25);static#o=this.trimix2525=new _t(.25,.25);static#c=this.air=new _t(K.o2InAir,0);static#h=this.trimix2135=new _t(.21,.35);static#f=this.trimix1845=new _t(.18,.45);static#l=this.trimix1555=new _t(.15,.55);static#p=this.trimix1260=new _t(.12,.6);static#d=this.trimix1070=new _t(.1,.7);static#g=this.airName="Air";static#m=this.oxygenName="Oxygen";static#v=this.namesRegEx=/[EAN](?<fO2>\d{2})|(?<fO2b>\d{2})\/(?<fHe>\d{2})/i;static#_=this.map=new Map([[K.airName,K.air],["EAN32",K.ean32],["EAN36",K.ean36],["EAN38",K.ean38],["EAN50",K.ean50],[K.oxygenName,K.oxygen],["Helitrox 35/25",K.trimix3525],["Helitrox 25/25",K.trimix2525],["Helitrox 21/35",K.trimix2135],["Trimix 18/45",K.trimix1845],["Trimix 15/55",K.trimix1555],["Trimix 12/60",K.trimix1260],["Trimix 10/70",K.trimix1070]]);static nitroxNames(){return K.allNames().slice(0,6)}static allNames(){return Array.from(K.map.keys())}static nameFor(r,i=0){const h=P.round(100*r),m=P.round(100*i);return h<=0?"":m<=0?h>=100?K.oxygenName:21===h?K.airName:"EAN"+h.toString():`${h>=21?"Helitrox":"Trimix"} ${h.toString()}/${m.toString()}`}static byName(r){if(K.map.has(r))return K.map.get(r)??null;const i=K.namesRegEx.exec(r);if(i){if(i[1]){const u=Number(i[1])/100;if(u>0)return new _t(u,0)}if(i[2]&&i[3]){const u=Number(i[2])/100,h=Number(i[3])/100;if(u>0&&h>0)return new _t(u,h)}}return null}}class Be extends y{constructor(r,i){super(r.n2HalfTime,r.n2A,r.n2B,r.heHalfTime,r.heA,r.heB),this._pN2=0,this._pHe=0,this._pTotal=0,this._a=0,this._b=0;const u=this.pressureInLungs(i);this._pN2=Tt.partialPressure(u,K.nitroxInAir),this._pHe=0,this.updateTotal()}get pN2(){return this._pN2}get pHe(){return this._pHe}get pTotal(){return this._pTotal}get a(){return this._a}get b(){return this._b}static fromCurrent(r,i){const u=new Be(i,1);return u._pN2=r.pN2,u._pHe=r.pHe,u._a=r.a,u._b=r.b,u.updateTotal(),u}copy(){return Be.fromCurrent(this,this)}ceiling(r){return(this.pTotal-this.a*r)/(r/this.b+1-r)}load(r,i){this._pN2=this.loadGas(r,i.fN2,this.pN2,this.n2HalfTime),this._pHe=this.loadGas(r,i.fHe,this.pHe,this.heHalfTime);const u=this.pTotal;return this.updateTotal(),this._a=(this.n2A*this.pN2+this.heA*this.pHe)/this.pTotal,this._b=(this.n2B*this.pN2+this.heB*this.pHe)/this.pTotal,this.pTotal-u}loadGas(r,i,u,h){const m=r.speed*i,A=this.pressureInLungs(r.startPressure)*i;return this.schreinerEquation(u,A,r.duration,h,m)}pressureInLungs(r){return r-.0627}schreinerEquation(r,i,u,h,m){const T=.01155245301/h;return i+m*(u-1/T)-(i-r-m/T)*Math.exp(-T*u)}updateTotal(){this._pTotal=this.pN2+this.pHe}}class Qt{constructor(r){this._compartments=r}get compartments(){return this._compartments}static createLoaded(r){if(r.length!==F.buhlmannZHL16C.length)throw new Error("Provided incompatible count of tissues");const i=nt(r).map((u,h)=>Be.fromCurrent(u,F.buhlmannZHL16C[h])).value();return new Qt(i)}static create(r){const i=[];for(let u=0;u<F.buhlmannZHL16C.length;u++){const m=new Be(F.buhlmannZHL16C[u],r);i.push(m)}return new Qt(i)}static createLoadedAt(r){const i=_.pressure(r),u=X.pascalToBar(i);return Qt.create(u).finalState()}static copy(r){const i=[];for(let u=0;u<r.length;u++){const h=r[u].copy();i.push(h)}return i}restoreFrom(r){this._compartments=Qt.copy(r)}finalState(){return Qt.copy(this._compartments)}ceiling(r){let i=0;for(let u=0;u<this._compartments.length;u++){const h=this._compartments[u].ceiling(r);h>i&&(i=h)}return i}load(r,i){let u=0;for(let h=0;h<this._compartments.length;h++)u+=this._compartments[h].load(r,i);return u}}class Je{static validTissue(r){return r.pN2>0&&r.pHe>=0&&r.a>=0&&r.b>=0}static validCount(r){return!!r&&r.length===F.buhlmannZHL16C.length}static valid(r){return!!Je.validCount(r)&&nt(r).every(u=>Je.validTissue(u))}}class U{static#t=this.oneSecond=1;static#e=this.oneMinute=60;static#n=this.oneHour=60*U.oneMinute;static#r=this.oneDay=24*U.oneHour;static#i=this.safetyStopDuration=3*U.oneMinute;static toSeconds(r){return r*U.oneMinute}static toMinutes(r){return r/U.oneMinute}static toHours(r){return r/U.oneHour}}class Et{static speed(r,i){return Et.speedByXChange(i.start,i.end,r.end-r.start)}static speedByXChange(r,i,u){return(i-r)/u}static yValueAt(r,i,u){return r+i*u}static xValueAtAbsolute(r,i,u){const h=this.speed(r,i);return r.start+Et.xValueAt(i.start,h,u)}static xValueAt(r,i,u){return 0===i?0:(u-r)/i}}class En{static validate(r,i){const u=[];if(!r.any()){const h=rt.createError("There needs to be at least one segment at depth.");u.push(h)}return r.withAll(h=>{En.validateRegisteredGas(u,i,h)}),u}static validateRegisteredGas(r,i,u){if(!i.isRegistered(u.gas)){const m=rt.createError(`Segment ${u.startDepth}-${u.endDepth} has gas not registered in gases.`);r.push(m)}}}class yt{constructor(r,i,u,h){this.startDepth=r,this.endDepth=i,this._gas=u,this.duration=h}get gas(){return this._gas}get tank(){return this._tank}get speed(){return yt.speed(this.startDepth,this.endDepth,this.duration)}get averageDepth(){return(this.startDepth+this.endDepth)/2}set tank(r){this._tank=r,r&&(this._gas=r.gas)}static from(r){const i=new yt(r.startDepth,r.endDepth,r._gas,r.duration);return i.tank=r.tank,i}static speed(r,i,u){return Et.speedByXChange(r,i,u)}static depthAt(r,i,u){return Et.yValueAt(r,i,u)}static timeAt(r,i,u){return Et.xValueAt(r,i,u)}contentEquals(r){return this.speed===r.speed&&this._gas===r._gas}depthAt(r){return yt.depthAt(this.startDepth,this.speed,r)}mergeFrom(r){this.duration+=r.duration,this.endDepth=r.endDepth}}class st{constructor(){this.segments=[],this._maxDepth=0}get startAscentIndex(){return this.deepestPart().length}get startAscentTime(){const r=this.deepestPart();return st.duration(r)}get length(){return this.segments.length}get items(){return this.segments.slice()}get maxDepth(){return this._maxDepth}get currentDepth(){return this.any()?this.last().endDepth:0}get duration(){return st.duration(this.segments)}static from(r){return st.fromCollection(r.segments)}static fromCollection(r){const i=new st;return r.forEach(u=>{const h=yt.from(u);i.segments.push(h),i.updateMaxDepth(h)}),i}static duration(r){let i=0;for(const u of r)i+=u.duration;return i}static averageDepth(r){if(r.length<=0)return 0;let i=0,u=0;return r.forEach(h=>{if(h.duration>0){const m=h.averageDepth*h.duration+u*i;u+=h.duration,i=m/u}}),i}add(r,i,u,h){const m=new yt(r,i,u,h);return this.segments.push(m),this.updateMaxDepth(m),m}addFlat(r,i,u){return this.add(r,r,i,u)}addChangeTo(r,i,u){return this.add(this.currentDepth,r,i,u)}mergeFlat(r=0){if(r<0)return this.items;const i=[];for(let u=this.segments.length-1;u>r;u--){const h=this.segments[u-1],m=this.segments[u];h.contentEquals(m)&&(h.mergeFrom(m),i.push(m))}return this.segments=this.segments.filter(u=>!i.includes(u)),this.items}remove(r){this.segments=this.segments.filter(i=>i!==r),this.fixStartDepths()}cutDown(r){this.segments=this.segments.slice(0,this.segments.length-r),this.fixStartDepths()}withAll(r){for(let i=0;i<this.segments.length;i++)r(this.segments[i])}any(){return 0!==this.segments.length}last(){return this.segments[this.segments.length-1]}copy(){return st.from(this)}fixStartDepths(){this.any()&&(this.segments[0].startDepth=0);for(let r=0;r<this.segments.length-1;r++){const u=this.segments[r+1];u.startDepth=this.segments[r].endDepth,this.updateMaxDepth(u)}}deepestPart(){for(let r=this.segments.length-1;r>=0;r--)if(this.segments[r].endDepth===this.maxDepth)return this.items.slice(0,r+1);return[]}updateMaxDepth(r){r.endDepth>this._maxDepth&&(this._maxDepth=r.endDepth)}}let jn=(()=>{class w{static#t=this.minimalStep=1;constructor(){}search(i){if(i.maxValue<i.initialValue)throw Error("Max value cant be smaller than initial value");if(i.estimationStep>i.maxValue-i.initialValue)throw Error("Step cant be larger than range");const u=this.findInitialLimit(i);return this.searchInsideInterval(i,u)}searchInsideInterval(i,u){for(;u.right-u.left>w.minimalStep;){let h=u.left+(u.right-u.left)/2;h=Math.round(h),i.doWork(h),i.meetsCondition()?u.left=h:u.right=h}return u.left}findInitialLimit(i){let u=i.initialValue;for(i.doWork(u);i.meetsCondition()&&u<=i.maxValue;)u+=i.estimationStep,i.doWork(u);let h=u-i.estimationStep;return h=h<i.initialValue?i.initialValue:h,{left:h,right:u>i.maxValue?i.maxValue:u}}}return w})();class Zr{constructor(r,i,u){this.depthConverter=r,this.options=i,this.tissues=u,this.lowestCeiling=0,this.lowestCeiling=this.depthConverter.surfacePressure+1}ceiling(){let r=this.tolerated();return r<this.depthConverter.surfacePressure&&(r=this.depthConverter.surfacePressure),this.depthConverter.fromBar(r)}toleratedTissues(r,i,u,h){const m=this.tissues.compartments;let A=0;for(let T=0;T<m.length;T++){const I=m[T];let L=A;(r/I.b+I.a-r)*u+r<(i/I.b+I.a-i)*h+i&&(L=(-I.a*I.b*(u*i-h*r)-(1-I.b)*(u-h)*i*r+I.b*(i-r)*I.pTotal)/(-I.a*I.b*(u-h)+(1-I.b)*(h*i-u*r)+I.b*(i-r))),L>=A&&(A=L)}return A}tolerated(){const r=this.options.gfLow,i=this.options.gfHigh,u=this.depthConverter.surfacePressure,h=this.tissues.ceiling(r);return h>this.lowestCeiling&&(this.lowestCeiling=h),this.toleratedTissues(u,this.lowestCeiling,i,r)}}let je=(()=>{class w{static#t=this.sixMeters=6;constructor(i){this.options=i,this.averageDepth=0}markAverageDepth(i){const u=i.deepestPart();this.averageDepth=st.averageDepth(u)}ascent(i){return i>w.sixMeters?i>this.averageDepth/2?this.options.ascentSpeed50perc:this.options.ascentSpeed50percTo6m:this.options.ascentSpeed6m}}return w})();class On{constructor(r,i,u,h,m){this.gases=r,this.segments=i,this.options=u,this.depthConverter=h,this.ceilings=[],this.runTime=0,this.tissues=Qt.createLoaded(m),this.gradients=new Zr(h,u,this.tissues);const A=i.last();this.currentGas=A.gas,this.bestGasOptions={currentDepth:this.currentDepth,maxDecoPpO2:this.options.maxDecoPpO2,oxygenNarcotic:this.options.oxygenNarcotic,maxEnd:this.options.maxEND,currentGas:this.currentGas},this.speeds=new je(this.options),this.levels=new pt(h,u),this.gasSource=new Xe(r,u)}get ascentSpeed(){return this.speeds.ascent(this.currentDepth)}get currentDepth(){return this.segments.currentDepth}get ambientPressure(){return this.depthConverter.toBar(this.currentDepth)}get addSafetyStop(){return this.levels.addSafetyStop(this.currentDepth,this.segments.maxDepth)}get decoStopDuration(){return this.options.roundStopsToMinutes?U.oneMinute:U.oneSecond}get isAtSurface(){return 0===this.segments.last().endDepth}markAverageDepth(){this.speeds.markAverageDepth(this.segments)}addCeiling(){const r=this.ceiling(),i=new Jt(this.runTime,r);this.ceilings.push(i)}ceiling(){return this.gradients.ceiling()}bestDecoGas(){return this.bestGasOptions.currentDepth=this.currentDepth,this.bestGasOptions.currentGas=this.currentGas,this.gasSource.bestGas(this.bestGasOptions)}createMemento(){return{runTime:this.runTime,tissues:Qt.copy(this.tissues.compartments),ceilings:this.ceilings.length,segments:this.segments.length,lowestCeiling:this.gradients.lowestCeiling}}restore(r){this.tissues.restoreFrom(r.tissues),this.gradients.lowestCeiling=r.lowestCeiling,this.runTime=r.runTime,this.ceilings=this.ceilings.slice(0,r.ceilings),this.segments.cutDown(this.segments.length-r.segments)}nextStop(r){return this.levels.nextStop(r)}shouldSwitchTo(r){return r&&!this.currentGas.compositionEquals(r)}addGasSwitchSegment(){return this.addStopSegment(this.options.gasSwitchDuration*U.oneMinute)}addDecoStopSegment(){return this.addStopSegment(0)}addSafetyStopSegment(){return this.addStopSegment(U.safetyStopDuration)}addAscentSegment(r,i){return this.segments.add(this.currentDepth,r,this.currentGas,i)}addStopSegment(r){return this.segments.add(this.currentDepth,this.currentDepth,this.currentGas,r)}}const Ne=(w,r)=>w/U.toMinutes(r);class He{constructor(r,i){this.current=r,this.surfaceInterval=i}}class Yr{constructor(r,i,u){this.previousTissues=r,this.altitude=i,this.surfaceInterval=u}}class pe{constructor(r,i,u,h){this._segments=r,this._gases=i,this._options=u,this._surface=this.resolveSurfaceParameters(h)}get segments(){return this._segments}get gases(){return this._gases}get options(){return this._options}get surfaceInterval(){return new Yr(this._surface.current,this.options.altitude,this._surface.surfaceInterval)}static forSimpleDive(r,i,u,h){const m=new le;m.add(i);const A=new st,T=Ne(r,u.descentSpeed);return A.add(0,r,i,T),new pe(A,m,u,h)}static forMultilevelDive(r,i,u,h){return new pe(r,i,u,h)}resolveSurfaceParameters(r){if(r&&Je.validCount(r?.current))return r;const i=Qt.createLoadedAt(this.options.altitude);return new He(i,Number.POSITIVE_INFINITY)}}class Fe{noDecoLimit({segments:r,gases:i,options:u,surfaceInterval:h}){const m=new at(u).create(),A=this.applySurfaceInterval(h),T=new On(i,r,u,m,A);return this.swimNoDecoLimit(r,i,T)}decompression({segments:r,gases:i,options:u,surfaceInterval:h}){const m=new at(u).create(),A=r.copy(),T=this.validate(r,i);if(T.length>0){const St=A.mergeFlat(r.length);return zt.fromErrors(St,T)}const I=this.applySurfaceInterval(h),L=new On(i,A,u,m,I);this.swimPlan(L),L.markAverageDepth();let V=L.nextStop(L.currentDepth);for(;V>=0&&!L.isAtSurface;)this.tryGasSwitch(L),this.stayAtDecoStop(L,V),this.stayAtSafetyStop(L),this.ascentToNextStop(L,V),V=L.nextStop(V);const xt=L.segments.mergeFlat(r.length);return zt.fromProfile(xt,L.ceilings,L.tissues.finalState())}applySurfaceInterval({previousTissues:r,altitude:i,surfaceInterval:u}){if(!Je.valid(r))throw Error("Provided tissues collection isn`t valid. It needs have valid items of 16 compartments ordered by halftime.");if(i<0)throw Error("Altitude needs to be positive number or 0.");if(u<0)throw Error("Surface interval needs to be positive number or 0.");if(u===Number.POSITIVE_INFINITY)return Qt.createLoadedAt(i);const h=new st,m=h.addFlat(0,K.air,u),A=new le;A.add(K.air);const T=new he(1,1,1.6,1.6,f.salt);T.altitude=i;const I=new at(T).create(),L=new On(A,h,T,I,r);return this.swim(L,m),L.tissues.finalState()}tryGasSwitch(r){const i=r.bestDecoGas();if(r.shouldSwitchTo(i)){r.currentGas=i;const u=r.addGasSwitchSegment();this.swim(r,u)}}stayAtDecoStop(r,i){if(this.needsDecoStop(r,i)){const u=r.createMemento(),h={estimationStep:20*U.oneMinute,initialValue:0,maxValue:U.oneDay,doWork:I=>this.swimDecoStop(r,u,I),meetsCondition:()=>this.needsDecoStop(r,i)},A=(new jn).search(h)+U.oneSecond,T=P.ceilDistance(A,r.decoStopDuration);this.swimDecoStop(r,u,T)}}swimDecoStop(r,i,u){r.restore(i);const h=r.addDecoStopSegment();h.duration=u,this.swim(r,h)}needsDecoStop(r,i){if(i>=r.ceiling())return!1;const u=r.createMemento();this.ascentToNextStop(r,i);const h=i<r.ceiling();return r.restore(u),h}stayAtSafetyStop(r){if(r.addSafetyStop){const i=r.addSafetyStopSegment();this.swim(r,i)}}ascentToNextStop(r,i){const h=Ne(r.currentDepth-i,r.ascentSpeed),m=r.addAscentSegment(i,h);this.swim(r,m)}validate(r,i){const u=En.validate(r,i);if(u.length>0)return u;const h=fe.validate(i);return h.length>0?h:[]}swimPlan(r){r.addCeiling(),r.segments.withAll(i=>{this.swim(r,i)})}swim(r,i){let u=i.startDepth;const h=U.oneSecond;for(let m=0;m<i.duration;m+=h){const A=yt.depthAt(u,i.speed,h),T=new yt(u,A,i.gas,h);this.swimPart(r,T),u=T.endDepth}}swimPart(r,i){const u=this.toLoadSegment(r.depthConverter,i);r.tissues.load(u,i.gas),r.runTime+=i.duration,r.addCeiling()}swimNoDecoLimit(r,i,u){if(this.validate(r,i).length>0)return 0;this.swimPlan(u);const m=this.currentNdl(u.ceilings);return m!==Number.POSITIVE_INFINITY?m:this.predictNoDecoLimit(r,u)}predictNoDecoLimit(r,i){const u=r.last(),h=u.endDepth,m=new yt(h,h,u.gas,U.oneMinute),A=this.toLoadSegment(i.depthConverter,m);let T=1;for(;i.ceiling()<=0&&T>0;)T=i.tissues.load(A,u.gas),i.runTime+=U.oneMinute;return 0===T||0===h?Number.POSITIVE_INFINITY:this.floorNdl(i.runTime)}floorNdl(r){let i=U.toMinutes(r);return i=P.floor(i),i-1}currentNdl(r){for(let i=0;i<r.length;i+=U.oneMinute){const u=r[i];if(u.notAtSurface)return this.floorNdl(u.time)}return Number.POSITIVE_INFINITY}toLoadSegment(r,i){const u=r.toBar(i.speed)-r.surfacePressure;return{startPressure:r.toBar(i.startDepth),duration:i.duration,speed:u}}}class We{static haveReserve(r){for(let i=0;i<r.length;i++)if(!r[i].hasReserve)return!1;return!0}static resetConsumption(r){r.forEach(i=>{i.consumed=0,i.reserve=0})}static removeTank(r,i){const u=r.filter(h=>h!==i);return We.renumberIds(u),u}static renumberIds(r){for(let i=0;i<r.length;i++)r[i].id=i+1}}class bt{constructor(r,i,u){this.size=r,this.startPressure=i,this.id=0,this.consumed=0,this.reserve=0,this._gas=K.air.copy(),this.o2=u}get gas(){return this._gas}get o2(){return jt.getO2(this.gas.fO2,this.gas.fHe)}get he(){return P.roundTwoDecimals(100*this.gas.fHe)}get n2(){return P.roundTwoDecimals(100-this.o2-this.he)}get volume(){return this.size*this.startPressure}get name(){return this._gas.name}get endPressure(){const r=this.startPressure-this.consumed;return r>0?r:0}get percentsRemaining(){return this.endPressure/this.startPressure*100}get percentsReserve(){const r=this.reserve/this.startPressure*100;return r>100?100:r}get hasReserve(){return this.endPressure>=this.reserve}set o2(r){this._gas.fO2=jt.setO2(r,this.gas.fHe)}set he(r){this.gas.fHe=r/100}static createDefault(){return new bt(15,200,100*K.o2InAir)}assignStandardGas(r){this.gas.assignStandardGas(r)}loadFrom(r){this.size=r.size,this.startPressure=r.startPressure,this.consumed=r.consumed,this.reserve=r.reserve,this.gas.fO2=r._gas.fO2,this.gas.fHe=r._gas.fHe}}class jt{static#t=this.pinnedO2=21;static#e=this.o2InAirPercent=100*K.o2InAir;static getO2(r,i){const u=100*r;return this.isInAirRange(u,i)?jt.pinnedO2:P.roundTwoDecimals(u)}static setO2(r,i){return this.isInAirRange(r,i)?K.o2InAir:r/100}static isInAirRange(r,i){return jt.o2InAirPercent<=r&&r<=jt.pinnedO2&&0===i}}class ln{constructor(r,i,u,h){this.duration=r,this.startTime=0,this.endTime=0,this.averageDepth=0,this._startDepth=0,this._endDepth=0,this.endTime=P.roundTwoDecimals(r),this._endDepth=i,this._startDepth=u,this.averageDepth=h}get startDepth(){return this._startDepth}get endDepth(){return this._endDepth}static fromSegment(r){return new ln(r.duration,r.endDepth,r.startDepth,r.averageDepth)}}let de=(()=>{class w{static#t=this.minimumRockBottom=30;constructor(i){this.depthConverter=i}static calculateDecompression(i,u,h){const m=le.fromTanks(u),A=new Fe,T=i.copy(),I=pe.forMultilevelDive(T,m,h);return A.decompression(I)}consumeFromTanks(i,u,h,m){if(i.length<2)throw new Error("Profile needs to contain at least 2 segments.");const A=this.emergencyAscent(i,u,h);this.consumeFromTanks2(i,A,u,h,m)}consumeFromTanks2(i,u,h,m,A){if(i.length<2)throw new Error("Profile needs to contain at least 2 segments.");We.resetConsumption(m);const T=this.consumeByTanks(i,A.rmv);this.consumeByGases(i,m,A.rmv,T),this.updateReserve(u,m,A.stressRmv)}emergencyAscent(i,u,h){const A=st.fromCollection(i).deepestPart(),T=st.fromCollection(A),I=le.fromTanks(h),L=new Fe,V=pe.forMultilevelDive(T,I,u),St=L.decompression(V).segments,De=St.slice(A.length,St.length);return this.addSolvingSegment(De,u.problemSolvingDuration),De}calculateMaxBottomTime(i,u,h,m){const A=this.createTestProfile(i),T=A.last(),I={estimationStep:40*U.oneMinute,initialValue:0,maxValue:U.oneDay,doWork:St=>{T.duration=St,this.consumeFromProfile(A,u,h,m)},meetsCondition:()=>We.haveReserve(u)},V=(new jn).search(I);if(0===V)return 0;const xt=U.toMinutes(i.duration+V);return P.floor(xt)}consumeFromProfile(i,u,h,m){const A=w.calculateDecompression(i,u,m);this.consumeFromTanks(A.segments,m,u,h)}createTestProfile(i){const u=i.copy(),h=i.last();return u.addFlat(h.endDepth,h.gas,0),u}updateReserve(i,u,h){const m=this.toBeConsumed(i,h,()=>!0);for(let A=0;A<=u.length-1;A++){const T=u[A],I=T.gas.contentCode();let L=m.get(I)||0;L=this.addReserveToTank(T,L),m.set(I,L)}u[0].reserve<w.minimumRockBottom&&(u[0].reserve=w.minimumRockBottom)}addReserveToTank(i,u){const h=P.ceil(u/i.size),m=h+i.reserve>i.startPressure?i.startPressure-i.reserve:h;return i.reserve+=m,this.extractRemaining(u,m,i.size)}addSolvingSegment(i,u){if(0===i.length)return;const m=i[0].startDepth,A=new yt(m,m,i[0].gas,u*U.oneMinute);i.unshift(A)}consumeByGases(i,u,h,m){const A=this.toBeConsumedYet(i,h,m,T=>!T.tank);for(let T=u.length-1;T>=0;T--){const I=u[T],L=I.gas.contentCode();let V=A.get(L)||0;V=this.consumeFromTank(I,V),A.set(L,V)}}consumeByTanks(i,u){const h=new Map,m=U.toMinutes(u);return i.forEach(A=>{if(A.tank){const T=A.tank,I=A.gas.contentCode(),L=ln.fromSegment(A),V=this.consumedBySegment(L,m),xt=this.consumeFromTank(T,V);let St=h.get(I)||0;St+=xt,h.set(I,St)}}),h}consumeFromTank(i,u){const h=P.ceil(u/i.size),m=h>i.endPressure?i.endPressure:h;return i.consumed+=m,this.extractRemaining(u,m,i.size)}extractRemaining(i,u,h){return(i-=u*h)<0?0:i}toBeConsumed(i,u,h){return this.toBeConsumedYet(i,u,new Map,h)}toBeConsumedYet(i,u,h,m){const A=U.toMinutes(u);for(let T=0;T<i.length;T++){const I=i[T];if(m(I)){const V=I.gas.contentCode(),xt=ln.fromSegment(I),St=this.consumedBySegment(xt,A);let De=h.get(V)||0;De+=St,h.set(V,De)}}return h}consumedBySegment(i,u){const h=this.depthConverter.toBar(i.averageDepth);return i.duration*h*u}}return w})();class tr{constructor(r){this.depthConverter=r,this.minimumPpO2=.5}calculateForProfile(r){let i=0;return r.forEach(u=>{const m=this.calculate(u.gas.fO2,u.startDepth,u.endDepth,u.duration);i+=m}),i}calculate(r,i,u,h){const T=r*this.depthConverter.toBar((i+u)/2);if(T<=this.minimumPpO2)return 0;const I=this.exponentByPpO2(T);return h*Math.exp(I)*100}exponentByPpO2(r){return r<=1.5?1.93873*r-11.7853:9.80829*r-23.6349}}let Ge=(()=>{class w{static#t=this.imperialTankSize=124.1;static#e=this.imperialTankWorkPressure=3442;static#n=this.imperialStageSize=80.1;static#r=this.imperialStageWorkPressure=3e3;static#i=this.mertricTankSize=15;static#s=this.metricStageSize=11.1}return w})();class tn{get available(){return[this.primary,this.stage,{name:"2xLP85",size:165,workingPressure:2640},{name:"S40",size:41.3,workingPressure:3e3},{name:"LP85",size:82.5,workingPressure:2640},{name:"HP80",size:84.4,workingPressure:3442},{name:"HP100",size:106.7,workingPressure:3442}]}get primary(){return{name:"HP117",size:Ge.imperialTankSize,workingPressure:Ge.imperialTankWorkPressure}}get stage(){return{name:"S80",size:Ge.imperialStageSize,workingPressure:Ge.imperialStageWorkPressure}}}class ft{static#t=this.lastStopDepth=15;static#e=this.depthDistance=10;static#n=this.descentSpeed=6*ft.depthDistance;static#r=this.recreSpeed=3*ft.depthDistance;static#i=this.maxEnd=10*ft.depthDistance;get tanks(){return new tn}get lastSpeedLevel(){return 20}get autoStopLevel(){return 33}get stopsDistance(){return ft.depthDistance}get recreationalOptions(){return{ascentSpeed50perc:ft.recreSpeed,ascentSpeed50percTo6m:ft.recreSpeed,ascentSpeed6m:ft.recreSpeed,descentSpeed:ft.descentSpeed,lastStopDepth:ft.lastStopDepth,maxEND:ft.maxEnd}}get recommendedOptions(){return{ascentSpeed50perc:ft.recreSpeed,ascentSpeed50percTo6m:2*ft.depthDistance,ascentSpeed6m:ft.depthDistance,descentSpeed:ft.descentSpeed,lastStopDepth:ft.depthDistance,maxEND:ft.maxEnd}}}let Vr=(()=>{class w{static#t=this.defaultSac=20;constructor(i=w.defaultSac){this.rmv=i}get stressRmv(){return 3*this.rmv}static gasSac(i,u){return i/u}gasSac(i){return w.gasSac(this.rmv,i.size)}loadFrom(i){this.rmv=i.rmv}}return w})();class dn{constructor(r,i,u){this.gas=r,this.depth=i,this.density=u}static createDefault(){return new dn(K.air,0,0)}applyHigher(r,i,u){u>this.density&&(this.gas=r,this.density=u,this.depth=i)}}let en=(()=>{class w{constructor(){this.helium=.179,this.nitrogen=1.251,this.oxygen=1.428}static#t=this.recommendedMaximum=5.7;forGas(i){return this.forContent(i.fO2,i.fHe)}forContent(i,u){return this.nitrogen*(1-i-u)+this.oxygen*i+this.helium*u}}return w})();class we{constructor(r){this.depthConverter=r,this.density=new en}forProfile(r){const i=dn.createDefault();return r.forEach(u=>{const h=u.gas,m=this.density.forGas(h);this.applyHigher(i,h,u.startDepth,m),this.applyHigher(i,h,u.endDepth,m)}),i}atDepth(r,i){const u=this.density.forGas(r);return this.fromAtaDensity(u,i)}applyHigher(r,i,u,h){const m=this.fromAtaDensity(h,u);r.applyHigher(i,u,m)}fromAtaDensity(r,i){return r*this.depthConverter.toBar(i)}}let Ln=(()=>{class w{static#t=this.dailyLimit=300;constructor(i){this.depthConverter=i,this.minPressure=.5}calculateForProfile(i){let u=0;return i.forEach(h=>{const A=this.calculate(h.duration,h.gas.fO2,h.startDepth,h.endDepth);u+=A}),u}calculate(i,u,h,m){let A=U.toMinutes(i),L=this.depthConverter.toBar(h)*u,V=this.depthConverter.toBar(m)*u;if(L<=this.minPressure&&V<=this.minPressure)return 0;L<=this.minPressure?(A=A*(V-this.minPressure)/(V-L),L=.501):V<=this.minPressure&&(A=A*(L-this.minPressure)/(L-V),V=.501);const xt=L+V-1;return Math.pow(xt,5/6)*(1-5*Math.pow(V-L,2)/216/Math.pow(xt,2))*A}}return w})();class Rn{constructor(r,i,u){this.startDepth=r,this.endDepth=i,this.duration=u}get minDepth(){return Math.min(this.startDepth,this.endDepth)}get maxDepth(){return Math.max(this.startDepth,this.endDepth)}get isDescent(){return this.startDepth<this.endDepth}get isFlat(){return this.startDepth===this.endDepth}get isAscent(){return this.startDepth>this.endDepth}timeAt(r){const i=yt.speed(this.startDepth,this.endDepth,this.duration),u=yt.timeAt(this.startDepth,i,r);return P.round(u)}}class Mn{constructor(r){this.simpleDepths=tt.simple(),this.events=new ye,this.elapsed=0,this.index=0,this.fixedMnd=!0,this.profile=r.profile,this.options=r.profileOptions,this.startAscentIndex=r.startAscentIndex,this.maxDensity=r.maxDensity,this.exactDepths=new at(this.options).create(),this.levels=new pt(this.exactDepths,this.options),this.densityAtDepth=new we(this.exactDepths),this.speeds=new je(this.options);const i=st.fromCollection(this.profile);this.speeds.markAverageDepth(i),this.maxDepth=i.maxDepth,this._mndBars=this.simpleDepths.toBar(this.options.maxEND)}get previous(){return this.index>0?this.profile[this.index-1]:null}get isBeforeDecoAscent(){return this.index<this.startAscentIndex}get maxPpo(){return this.isBeforeDecoAscent?this.options.maxPpO2:this.options.maxDecoPpO2}get current(){return this.profile[this.index]}get switchingGas(){return!!this.previous&&!this.current.gas.compositionEquals(this.previous.gas)}get switchingTank(){return!!this.previous&&!!this.previous.tank&&!!this.current.tank&&this.previous.tank!==this.current.tank}get maxMnd(){return this._mndBars}get currentEndTime(){return this.elapsed+this.current.duration}get atSafetyStop(){return this.index===this.profile.length-2&&this.levels.addSafetyStop(this.current.startDepth,this.maxDepth)}gasEnd(r){return this.current.gas.end(r,this.options.oxygenNarcotic)}addElapsed(){this.elapsed=this.currentEndTime}}class nn{static fromProfile(r){const i=new Mn(r),u=new Bn(i.events,i.current);for(i.index=0;i.index<r.profile.length;i.index++){const h=this.toPressureSegment(i.current,i.simpleDepths);this.addHighPpO2(i,h),this.addLowPpO2(i,h),this.addGasSwitch(i),this.addUserTankSwitch(i),this.addHighDescentSpeed(i),this.addHighAscentSpeed(i),this.addSwitchHighN2(i),this.addMndExceeded(i,h),this.addDensityExceeded(i),this.addSafetyStop(i),u.assignSegment(i.current),nn.addBrokenCeiling(u,r.ceilings),i.addElapsed()}return i.events}static addHighAscentSpeed(r){const i=r.current;let u=U.toSeconds(i.speed);if(u=P.roundTwoDecimals(u),-u>r.speeds.ascent(i.startDepth)){const h=rt.createHighAscentSpeed(r.elapsed,i.startDepth);r.events.add(h)}}static addHighDescentSpeed(r){const i=r.current;if(U.toSeconds(i.speed)>r.options.descentSpeed){const h=rt.createHighDescentSpeed(r.elapsed,i.startDepth);r.events.add(h)}}static addGasSwitch(r){if(r.switchingGas){const i=r.current,u=rt.createGasSwitch(r.elapsed,i.startDepth,i.gas);r.events.add(u)}}static addUserTankSwitch(r){if(r.switchingTank){const i=r.current,u=rt.createGasSwitch(r.elapsed,i.startDepth,i.gas);r.events.add(u)}}static toPressureSegment(r,i){const u=i.toBar(r.startDepth),h=i.toBar(r.endDepth);return new Rn(u,h,r.duration)}static addHighPpO2(r,i){if(i.isDescent||r.isBeforeDecoAscent&&r.switchingGas){const u=r.current.gas.mod(r.maxPpo);if(i.maxDepth>u){let h=i.startDepth,m=r.elapsed;i.startDepth<u&&(h=u,m+=i.timeAt(h));const A=r.simpleDepths.fromBar(h),T=rt.createHighPpO2(m,A);r.events.add(T)}}}static addLowPpO2(r,i){const u=r.current,h=u.gas.ceiling(r.simpleDepths.surfacePressure);if(i.minDepth<h&&r.switchingGas||i.startDepth>h&&h>i.endDepth&&i.isAscent||0===u.startDepth&&i.startDepth<h&&i.isDescent){let A=i.startDepth,T=r.elapsed;i.startDepth>h&&(A=h,T+=i.timeAt(A));const I=r.simpleDepths.fromBar(A),L=rt.createLowPpO2(T,I);r.events.add(L)}}static addBrokenCeiling(r,i){for(;r.lastCeilingIndex<r.currentSegmentEndTime&&r.lastCeilingIndex<i.length-1;){const u=i[r.lastCeilingIndex];r.lastCeilingIndex++,this.addNdlEnd(r,u);const h=r.belowCeiling(u);if(!h&&r.fixedBrokenCeiling){const m=rt.createBrokenCeiling(u.time,u.depth);r.events.add(m),r.fixedBrokenCeiling=!1;break}if(h&&!r.fixedBrokenCeiling&&(r.fixedBrokenCeiling=!0),u.time>r.currentSegmentEndTime)break}}static addNdlEnd(r,i){if(!r.ndlCeilingMarked&&i.depth>0){r.ndlCeilingMarked=!0;const h=r.current.depthAt(i.time-r.currentSegmentStartTime),m=rt.createNoDecoEnd(i.time,h);r.events.add(m)}}static addSwitchHighN2(r){const i=r.current,u=r.previous;if(r.switchingGas&&u&&u.gas.fHe>0&&5*(i.gas.fN2-u.gas.fN2)>-(i.gas.fHe-u.gas.fHe)){const A=rt.createSwitchToHigherN2(r.elapsed,i.startDepth,i.gas);r.events.add(A)}}static addMndExceeded(r,i){const u=r.current,h=r.gasEnd(i.startDepth),m=r.gasEnd(i.endDepth);if(r.maxMnd<h&&r.fixedMnd||r.maxMnd<m&&r.fixedMnd){const I=Et.xValueAtAbsolute({start:r.elapsed,end:r.elapsed+u.duration},{start:h,end:m},r.maxMnd),L=u.depthAt(I);this.addMndEvent(r,I,L)}r.fixedMnd=m<=r.maxMnd}static addMndEvent(r,i,u){const m=rt.createMaxEndExceeded(i,u,r.current.gas);r.events.add(m),r.fixedMnd=!0}static addDensityExceeded(r){const i=r.current,u=i.gas,m=i.endDepth,A=i.endDepth>i.startDepth,T=r.switchingGas,I=r.densityAtDepth.atDepth(u,i.startDepth),L=r.densityAtDepth.atDepth(u,m);if(T&&I>r.maxDensity||A&&L>r.maxDensity){const St=Et.xValueAtAbsolute({start:r.elapsed,end:r.elapsed+i.duration},{start:I,end:L},r.maxDensity),De=i.depthAt(St),Xr=rt.createHighDensity(St,De,i.gas);r.events.add(Xr)}}static addSafetyStop(r){const i=r.current;if(r.atSafetyStop&&i.duration>=U.safetyStopDuration){const h=rt.createSafetyStopStart(r.elapsed+i.duration-U.safetyStopDuration,i.endDepth);r.events.add(h)}}}class Bn{constructor(r,i){this.events=r,this.lastCeilingIndex=0,this.currentSegmentStartTime=0,this.currentSegmentEndTime=0,this.fixedBrokenCeiling=!0,this.ndlCeilingMarked=!1,this._current=i}get current(){return this._current}assignSegment(r){this.currentSegmentStartTime=this.currentSegmentEndTime,this.currentSegmentEndTime=this.currentSegmentStartTime+r.duration,this._current=r}belowCeiling(r){return this._current.depthAt(r.time-this.currentSegmentStartTime)>=r.depth}}class Ft{static#t=this.psiRate=14.503773773022;static#e=this.cftRate=28.316846592;static#n=this.lbRate=2.20462262185;static#r=this.footRate=.3048;static#i=this.poundRate=.00220462262;static#s=this.lbPerCuftRate=Ft.poundRate*Ft.cftRate;get name(){return"Imperial"}get lengthShortcut(){return"ft"}get pressureShortcut(){return"psi"}get volumeShortcut(){return"cuft"}get weightShortcut(){return"lb"}get altitudeShortcut(){return"ft.a.s.l"}get densityShortcut(){return"lb/cuft"}toMeters(r){return r*Ft.footRate}fromMeters(r){return r/Ft.footRate}toBar(r){return r/Ft.psiRate}fromBar(r){return r*Ft.psiRate}toLiter(r){return r*Ft.cftRate}fromLiter(r){return r/Ft.cftRate}fromTankLiters(r,i){return this.fromLiter(r)*i}toTankLiters(r,i){return this.toLiter(r)/i}fromGramPerLiter(r){return r*Ft.lbPerCuftRate}fromKilogram(r){return r*Ft.lbRate}toKilogram(r){return r/Ft.lbRate}}}}]);