(self.webpackChunkplanner=self.webpackChunkplanner||[]).push([[540],{124:(we,he,Wt)=>{"use strict";Wt.d(he,{G:()=>ht});var tt=Wt(940),f=Wt.n(tt),wt=Wt(944);class ht{static toTanks(_){const R=[];return _.forEach(T=>{const F=new wt.e_(T.size,T.startPressure,0);F.id=T.id,F.gas.fO2=T.gas.fO2,F.gas.fHe=T.gas.fHe,R.push(F)}),wt.If.renumberIds(R),R}static fromTanks(_){const R=[];return _.forEach(T=>{const F=T.tank,C={id:F.id,size:F.size,workPressure:T.workingPressureBars,startPressure:F.startPressure,gas:ht.fromGas(F.gas)};R.push(C)}),R}static toConsumed(_){const R=[];for(let T=0;T<_.length;T++){const F=_[T];R.push({id:F.id,consumed:F.consumed,reserve:F.reserve})}return R}static toSegments(_,R){const T=[];for(let F=0;F<_.length;F++){const C=_[F],at=ht.toGas(C.gas),et=new wt.GC(C.startDepth,C.endDepth,at,C.duration);C.tankId>0&&C.tankId<=R.length&&(et.tank=R[C.tankId-1]),T.push(et)}return T}static fromSegments(_){const R=[];return _.forEach(T=>{const C={startDepth:T.startDepth,endDepth:T.endDepth,duration:T.duration,tankId:T.tank?T.tank.id:0,gas:ht.fromGas(T.gas)};R.push(C)}),R}static toProfile(_,R){const T=ht.toSegments(_.segments,R);if(_.errors.length>0){const C=ht.toEvents(_.errors);return wt.gh.fromErrors(T,C.items)}const F=ht.toTissues(_.tissues);return wt.gh.fromProfile(T,_.ceilings,F)}static fromProfile(_){return{segments:ht.fromSegments(_.segments),ceilings:_.ceilings,tissues:ht.fromTissues(_.tissues),errors:ht.fromEvents(_.errors)}}static toTissues(_){return f()(_).map(R=>({pN2:R.pN2,pHe:R.pHe,a:R.a,b:R.b})).value()}static fromTissues(_){return f()(_).map(R=>({pN2:R.pN2,pHe:R.pHe,a:R.a,b:R.b})).value()}static toEvents(_){const R=new wt.YF;return _.forEach(T=>{const F=wt.im.create(T.type,T.timeStamp,T.depth);F.message=T.message,T.gas&&(F.gas=ht.toGas(T.gas)),R.add(F)}),R}static fromEvents(_){const R=[];return _.forEach(T=>{const F={timeStamp:T.timeStamp,depth:T.depth,type:T.type,message:T.message};T.gas&&(F.gas=ht.fromGas(T.gas)),R.push(F)}),R}static fromDiver(_){return{rmv:_.rmv}}static toDiver(_){return new wt.GN(_.rmv)}static fromOptions(_){return{gfLow:_.gfLow,gfHigh:_.gfHigh,maxPpO2:_.maxPpO2,maxDecoPpO2:_.maxDecoPpO2,salinity:_.salinity,altitude:_.altitude,roundStopsToMinutes:_.roundStopsToMinutes,gasSwitchDuration:_.gasSwitchDuration,safetyStop:_.safetyStop,lastStopDepth:_.lastStopDepth,decoStopDistance:_.decoStopDistance,minimumAutoStopDepth:_.minimumAutoStopDepth,maxEND:_.maxEND,oxygenNarcotic:_.oxygenNarcotic,ascentSpeed6m:_.ascentSpeed6m,ascentSpeed50percTo6m:_.ascentSpeed50percTo6m,ascentSpeed50perc:_.ascentSpeed50perc,descentSpeed:_.descentSpeed,problemSolvingDuration:_.problemSolvingDuration}}static toOptions(_){const R=new wt.Zq(_.gfLow,_.gfHigh,_.maxPpO2,_.maxDecoPpO2,_.salinity);return R.altitude=_.altitude,R.roundStopsToMinutes=_.roundStopsToMinutes,R.gasSwitchDuration=_.gasSwitchDuration,R.safetyStop=_.safetyStop,R.lastStopDepth=_.lastStopDepth,R.decoStopDistance=_.decoStopDistance,R.minimumAutoStopDepth=_.minimumAutoStopDepth,R.maxEND=_.maxEND,R.oxygenNarcotic=_.oxygenNarcotic,R.ascentSpeed6m=_.ascentSpeed6m,R.ascentSpeed50percTo6m=_.ascentSpeed50percTo6m,R.ascentSpeed50perc=_.ascentSpeed50perc,R.descentSpeed=_.descentSpeed,R.problemSolvingDuration=_.problemSolvingDuration,R}static fromDensity(_){return{gas:ht.fromGas(_.gas),depth:_.depth,density:_.density}}static toDensity(_){const R=ht.toGas(_.gas);return new wt.O0(R,_.depth,_.density)}static toGas(_){return new wt.WM(_.fO2,_.fHe)}static fromGas(_){return{fO2:_.fO2,fHe:_.fHe}}}},540:(we,he,Wt)=>{"use strict";Wt.d(he,{o:()=>wt});var tt=Wt(944),f=Wt(124);class wt{static calculateDecompression(q){const _=this.profileParametersFromTask(q),T=(new tt.Gi).decompression(_),F=f.G.fromProfile(T),at=tt.oN.fromProfile({maxDensity:q.eventOptions.maxDensity,startAscentIndex:_.segments.startAscentIndex,profile:T.segments,ceilings:T.ceilings,profileOptions:_.options}),et=f.G.fromEvents(at.items);return{diveId:q.diveId,profile:F,events:et}}static diveInfo(q){const _=this.profileParametersFromTask(q),T=(new tt.Gi).noDecoLimit(_),F=new tt.M5(q.options).create(),C=_.segments.items,at=new tt.WU(F).calculateForProfile(C),et=new tt.uY(F).calculateForProfile(C),xt=new tt.YR(F).forProfile(C);return{diveId:q.diveId,noDeco:T,otu:at,cns:et,density:f.G.fromDensity(xt)}}static calculateConsumption(q){const _=new tt.M5(q.options).create(),R=new tt.W(_),T=f.G.toTanks(q.tanks),F=f.G.toSegments(q.profile,T),C=f.G.toSegments(q.plan,T),at=tt._O.fromCollection(C),et=new tt.GN(q.diver.rmv),xt=f.G.toOptions(q.options),M=R.calculateMaxBottomTime(at,T,et,xt),fe=R.emergencyAscent(F,xt,T);let mt=tt._O.duration(fe);return mt=tt.Ef.toMinutes(mt),R.consumeFromTanks2(F,fe,xt,T,et),{diveId:q.diveId,maxTime:M,timeToSurface:mt,tanks:f.G.toConsumed(T)}}static profileParametersFromTask(q){const _=f.G.toTanks(q.tanks),R=tt.aE.fromTanks(_),T=f.G.toSegments(q.plan,_),F=tt._O.fromCollection(T),C=f.G.toOptions(q.options),at=f.G.toTissues(q.tissues),et=new tt.KK(at,q.surfaceInterval);return tt.oF.forMultilevelDive(F,R,C,et)}}},940:function(we,he,Wt){var tt;we=Wt.nmd(we),function(){var f,_="Expected a function",T="__lodash_hash_undefined__",C="__lodash_placeholder__",U=1/0,It=9007199254740991,st=4294967295,Zr=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],je="[object Arguments]",tn="[object Array]",He="[object Boolean]",Fe="[object Date]",de="[object Error]",We="[object Function]",Ge="[object GeneratorFunction]",lt="[object Map]",ee="[object Number]",ge="[object Object]",er="[object Promise]",en="[object RegExp]",Yt="[object Set]",dn="[object String]",pt="[object Symbol]",dt="[object WeakMap]",nn="[object ArrayBuffer]",De="[object DataView]",nr="[object Float32Array]",Rn="[object Float64Array]",bn="[object Int8Array]",rr="[object Int16Array]",Ln="[object Int32Array]",Mn="[object Uint8Array]",Nn="[object Uint8ClampedArray]",rn="[object Uint16Array]",Bn="[object Uint32Array]",as=/\b__p \+= '';/g,os=/\b(__p \+=) '' \+/g,Gt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,qr=/&(?:amp|lt|gt|quot|#39);/g,w=/[&<>"']/g,r=RegExp(qr.source),i=RegExp(w.source),u=/<%-([\s\S]+?)%>/g,h=/<%([\s\S]+?)%>/g,m=/<%=([\s\S]+?)%>/g,D=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,P=/^\w*$/,I=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,b=/[\\^$.*+?()[\]{}|]/g,V=RegExp(b.source),yt=/^\s+/,ot=/\s/,Nt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Te=/\{\n\/\* \[wrapped with (.+)\] \*/,Ba=/,? & /,Ha=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Fa=/[()=,{}\[\]\/\s]/,Wa=/\\(\\)?/g,Ga=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,cs=/\w*$/,Ua=/^[-+]0x[0-9a-f]+$/i,ka=/^0b[01]+$/i,za=/^\[object .+?Constructor\]$/,Ka=/^0o[0-7]+$/i,$a=/^(?:0|[1-9]\d*)$/,Ya=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ir=/($^)/,Za=/['\n\r\u2028\u2029\\]/g,sr="\\ud800-\\udfff",hs="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",fs="\\u2700-\\u27bf",ls="a-z\\xdf-\\xf6\\xf8-\\xff",ps="A-Z\\xc0-\\xd6\\xd8-\\xde",ds="\\ufe0e\\ufe0f",gs="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",eo="["+sr+"]",ms="["+gs+"]",ur="["+hs+"]",vs="\\d+",no="["+fs+"]",_s="["+ls+"]",Ss="[^"+sr+gs+vs+fs+ls+ps+"]",Qr="\\ud83c[\\udffb-\\udfff]",ws="[^"+sr+"]",jr="(?:\\ud83c[\\udde6-\\uddff]){2}",ti="[\\ud800-\\udbff][\\udc00-\\udfff]",mn="["+ps+"]",xs="(?:"+_s+"|"+Ss+")",io="(?:"+mn+"|"+Ss+")",As="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",ys="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Cs="(?:"+ur+"|"+Qr+")?",Ts="["+ds+"]?",Ps=Ts+Cs+"(?:\\u200d(?:"+[ws,jr,ti].join("|")+")"+Ts+Cs+")*",oo="(?:"+[no,jr,ti].join("|")+")"+Ps,co="(?:"+[ws+ur+"?",ur,jr,ti,eo].join("|")+")",ho=RegExp("['\u2019]","g"),fo=RegExp(ur,"g"),ei=RegExp(Qr+"(?="+Qr+")|"+co+Ps,"g"),lo=RegExp([mn+"?"+_s+"+"+As+"(?="+[ms,mn,"$"].join("|")+")",io+"+"+ys+"(?="+[ms,mn+xs,"$"].join("|")+")",mn+"?"+xs+"+"+As,mn+"+"+ys,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",vs,oo].join("|"),"g"),po=RegExp("[\\u200d"+sr+hs+ds+"]"),go=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,mo=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],vo=-1,ut={};ut[nr]=ut[Rn]=ut[bn]=ut[rr]=ut[Ln]=ut[Mn]=ut[Nn]=ut[rn]=ut[Bn]=!0,ut[je]=ut[tn]=ut[nn]=ut[He]=ut[De]=ut[Fe]=ut[de]=ut[We]=ut[lt]=ut[ee]=ut[ge]=ut[en]=ut[Yt]=ut[dn]=ut[dt]=!1;var it={};it[je]=it[tn]=it[nn]=it[De]=it[He]=it[Fe]=it[nr]=it[Rn]=it[bn]=it[rr]=it[Ln]=it[lt]=it[ee]=it[ge]=it[en]=it[Yt]=it[dn]=it[pt]=it[Mn]=it[Nn]=it[rn]=it[Bn]=!0,it[de]=it[We]=it[dt]=!1;var Do={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},xo=parseFloat,Ao=parseInt,Es="object"==typeof global&&global&&global.Object===Object&&global,yo="object"==typeof self&&self&&self.Object===Object&&self,Rt=Es||yo||Function("return this")(),Os=he&&!he.nodeType&&he,Hn=Os&&we&&!we.nodeType&&we,Is=Hn&&Hn.exports===Os,ni=Is&&Es.process,ne=function(){try{return Hn&&Hn.require&&Hn.require("util").types||ni&&ni.binding&&ni.binding("util")}catch{}}(),Rs=ne&&ne.isArrayBuffer,bs=ne&&ne.isDate,Ls=ne&&ne.isMap,Ms=ne&&ne.isRegExp,Ns=ne&&ne.isSet,Bs=ne&&ne.isTypedArray;function Zt(d,S,v){switch(v.length){case 0:return d.call(S);case 1:return d.call(S,v[0]);case 2:return d.call(S,v[0],v[1]);case 3:return d.call(S,v[0],v[1],v[2])}return d.apply(S,v)}function Co(d,S,v,O){for(var W=-1,J=null==d?0:d.length;++W<J;){var Ct=d[W];S(O,Ct,v(Ct),d)}return O}function re(d,S){for(var v=-1,O=null==d?0:d.length;++v<O&&!1!==S(d[v],v,d););return d}function To(d,S){for(var v=null==d?0:d.length;v--&&!1!==S(d[v],v,d););return d}function Hs(d,S){for(var v=-1,O=null==d?0:d.length;++v<O;)if(!S(d[v],v,d))return!1;return!0}function ke(d,S){for(var v=-1,O=null==d?0:d.length,W=0,J=[];++v<O;){var Ct=d[v];S(Ct,v,d)&&(J[W++]=Ct)}return J}function ar(d,S){return!(null==d||!d.length)&&vn(d,S,0)>-1}function ri(d,S,v){for(var O=-1,W=null==d?0:d.length;++O<W;)if(v(S,d[O]))return!0;return!1}function ct(d,S){for(var v=-1,O=null==d?0:d.length,W=Array(O);++v<O;)W[v]=S(d[v],v,d);return W}function ze(d,S){for(var v=-1,O=S.length,W=d.length;++v<O;)d[W+v]=S[v];return d}function ii(d,S,v,O){var W=-1,J=null==d?0:d.length;for(O&&J&&(v=d[++W]);++W<J;)v=S(v,d[W],W,d);return v}function Po(d,S,v,O){var W=null==d?0:d.length;for(O&&W&&(v=d[--W]);W--;)v=S(v,d[W],W,d);return v}function si(d,S){for(var v=-1,O=null==d?0:d.length;++v<O;)if(S(d[v],v,d))return!0;return!1}var Eo=ui("length");function Fs(d,S,v){var O;return v(d,function(W,J,Ct){if(S(W,J,Ct))return O=J,!1}),O}function or(d,S,v,O){for(var W=d.length,J=v+(O?1:-1);O?J--:++J<W;)if(S(d[J],J,d))return J;return-1}function vn(d,S,v){return S==S?function ko(d,S,v){for(var O=v-1,W=d.length;++O<W;)if(d[O]===S)return O;return-1}(d,S,v):or(d,Ws,v)}function Ro(d,S,v,O){for(var W=v-1,J=d.length;++W<J;)if(O(d[W],S))return W;return-1}function Ws(d){return d!=d}function Gs(d,S){var v=null==d?0:d.length;return v?oi(d,S)/v:NaN}function ui(d){return function(S){return null==S?f:S[d]}}function ai(d){return function(S){return null==d?f:d[S]}}function Us(d,S,v,O,W){return W(d,function(J,Ct,nt){v=O?(O=!1,J):S(v,J,Ct,nt)}),v}function oi(d,S){for(var v,O=-1,W=d.length;++O<W;){var J=S(d[O]);J!==f&&(v=v===f?J:v+J)}return v}function ci(d,S){for(var v=-1,O=Array(d);++v<d;)O[v]=S(v);return O}function ks(d){return d&&d.slice(0,Ys(d)+1).replace(yt,"")}function Vt(d){return function(S){return d(S)}}function hi(d,S){return ct(S,function(v){return d[v]})}function Fn(d,S){return d.has(S)}function zs(d,S){for(var v=-1,O=d.length;++v<O&&vn(S,d[v],0)>-1;);return v}function Ks(d,S){for(var v=d.length;v--&&vn(S,d[v],0)>-1;);return v}var No=ai({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Bo=ai({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ho(d){return"\\"+Do[d]}function _n(d){return po.test(d)}function fi(d){var S=-1,v=Array(d.size);return d.forEach(function(O,W){v[++S]=[W,O]}),v}function $s(d,S){return function(v){return d(S(v))}}function Ke(d,S){for(var v=-1,O=d.length,W=0,J=[];++v<O;){var Ct=d[v];(Ct===S||Ct===C)&&(d[v]=C,J[W++]=v)}return J}function cr(d){var S=-1,v=Array(d.size);return d.forEach(function(O){v[++S]=O}),v}function Sn(d){return _n(d)?function $o(d){for(var S=ei.lastIndex=0;ei.test(d);)++S;return S}(d):Eo(d)}function me(d){return _n(d)?function Yo(d){return d.match(ei)||[]}(d):function Oo(d){return d.split("")}(d)}function Ys(d){for(var S=d.length;S--&&ot.test(d.charAt(S)););return S}var Ko=ai({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),hr=function d(S){var t,v=(S=null==S?Rt:hr.defaults(Rt.Object(),S,hr.pick(Rt,mo))).Array,O=S.Date,W=S.Error,J=S.Function,Ct=S.Math,nt=S.Object,li=S.RegExp,Xo=S.String,ie=S.TypeError,fr=v.prototype,wn=nt.prototype,lr=S["__core-js_shared__"],pr=J.prototype.toString,j=wn.hasOwnProperty,Jo=0,Zs=(t=/[^.]+$/.exec(lr&&lr.keys&&lr.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"",dr=wn.toString,Qo=pr.call(nt),jo=Rt._,tc=li("^"+pr.call(j).replace(b,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gr=Is?S.Buffer:f,$e=S.Symbol,mr=S.Uint8Array,Vs=gr?gr.allocUnsafe:f,vr=$s(nt.getPrototypeOf,nt),Xs=nt.create,qs=wn.propertyIsEnumerable,_r=fr.splice,Js=$e?$e.isConcatSpreadable:f,Wn=$e?$e.iterator:f,sn=$e?$e.toStringTag:f,Sr=function(){try{var t=hn(nt,"defineProperty");return t({},"",{}),t}catch{}}(),ec=S.clearTimeout!==Rt.clearTimeout&&S.clearTimeout,nc=O&&O.now!==Rt.Date.now&&O.now,rc=S.setTimeout!==Rt.setTimeout&&S.setTimeout,wr=Ct.ceil,Dr=Ct.floor,pi=nt.getOwnPropertySymbols,ic=gr?gr.isBuffer:f,Qs=S.isFinite,sc=fr.join,uc=$s(nt.keys,nt),Tt=Ct.max,Lt=Ct.min,ac=O.now,oc=S.parseInt,js=Ct.random,cc=fr.reverse,di=hn(S,"DataView"),Gn=hn(S,"Map"),gi=hn(S,"Promise"),Dn=hn(S,"Set"),Un=hn(S,"WeakMap"),kn=hn(nt,"create"),xr=Un&&new Un,xn={},hc=fn(di),fc=fn(Gn),lc=fn(gi),pc=fn(Dn),dc=fn(Un),Ar=$e?$e.prototype:f,zn=Ar?Ar.valueOf:f,tu=Ar?Ar.toString:f;function o(t){if(gt(t)&&!G(t)&&!(t instanceof Z)){if(t instanceof se)return t;if(j.call(t,"__wrapped__"))return ea(t)}return new se(t)}var An=function(){function t(){}return function(e){if(!ft(e))return{};if(Xs)return Xs(e);t.prototype=e;var n=new t;return t.prototype=f,n}}();function yr(){}function se(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=f}function Z(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=st,this.__views__=[]}function un(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}function Pe(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}function Ee(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}function an(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Ee;++e<n;)this.add(t[e])}function ve(t){var e=this.__data__=new Pe(t);this.size=e.size}function eu(t,e){var n=G(t),s=!n&&ln(t),a=!n&&!s&&qe(t),c=!n&&!s&&!a&&Pn(t),l=n||s||a||c,p=l?ci(t.length,Xo):[],g=p.length;for(var x in t)(e||j.call(t,x))&&(!l||!("length"==x||a&&("offset"==x||"parent"==x)||c&&("buffer"==x||"byteLength"==x||"byteOffset"==x)||be(x,g)))&&p.push(x);return p}function nu(t){var e=t.length;return e?t[Ti(0,e-1)]:f}function Gc(t,e){return Fr(Ut(t),on(e,0,t.length))}function Uc(t){return Fr(Ut(t))}function mi(t,e,n){(n!==f&&!_e(t[e],n)||n===f&&!(e in t))&&Oe(t,e,n)}function Kn(t,e,n){var s=t[e];(!j.call(t,e)||!_e(s,n)||n===f&&!(e in t))&&Oe(t,e,n)}function Cr(t,e){for(var n=t.length;n--;)if(_e(t[n][0],e))return n;return-1}function kc(t,e,n,s){return Ye(t,function(a,c,l){e(s,a,n(a),l)}),s}function ru(t,e){return t&&Ae(e,Et(e),t)}function Oe(t,e,n){"__proto__"==e&&Sr?Sr(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function vi(t,e){for(var n=-1,s=e.length,a=v(s),c=null==t;++n<s;)a[n]=c?f:Ji(t,e[n]);return a}function on(t,e,n){return t==t&&(n!==f&&(t=t<=n?t:n),e!==f&&(t=t>=e?t:e)),t}function ue(t,e,n,s,a,c){var l,p=1&e,g=2&e,x=4&e;if(n&&(l=a?n(t,s,a,c):n(t)),l!==f)return l;if(!ft(t))return t;var A=G(t);if(A){if(l=function Rh(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&j.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!p)return Ut(t,l)}else{var y=Mt(t),E=y==We||y==Ge;if(qe(t))return Pu(t,p);if(y==ge||y==je||E&&!a){if(l=g||E?{}:Yu(t),!p)return g?function wh(t,e){return Ae(t,Ku(t),e)}(t,function zc(t,e){return t&&Ae(e,zt(e),t)}(l,t)):function Sh(t,e){return Ae(t,Gi(t),e)}(t,ru(l,t))}else{if(!it[y])return a?t:{};l=function bh(t,e,n){var s=t.constructor;switch(e){case nn:return Li(t);case He:case Fe:return new s(+t);case De:return function gh(t,e){var n=e?Li(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case nr:case Rn:case bn:case rr:case Ln:case Mn:case Nn:case rn:case Bn:return Eu(t,n);case lt:return new s;case ee:case dn:return new s(t);case en:return function mh(t){var e=new t.constructor(t.source,cs.exec(t));return e.lastIndex=t.lastIndex,e}(t);case Yt:return new s;case pt:return function vh(t){return zn?nt(zn.call(t)):{}}(t)}}(t,y,p)}}c||(c=new ve);var L=c.get(t);if(L)return L;c.set(t,l),Da(t)?t.forEach(function(H){l.add(ue(H,e,n,H,t,c))}):Sa(t)&&t.forEach(function(H,Y){l.set(Y,ue(H,e,n,Y,t,c))});var z=A?f:(x?g?Hi:Bi:g?zt:Et)(t);return re(z||t,function(H,Y){z&&(H=t[Y=H]),Kn(l,Y,ue(H,e,n,Y,t,c))}),l}function iu(t,e,n){var s=n.length;if(null==t)return!s;for(t=nt(t);s--;){var a=n[s],l=t[a];if(l===f&&!(a in t)||!(0,e[a])(l))return!1}return!0}function su(t,e,n){if("function"!=typeof t)throw new ie(_);return Jn(function(){t.apply(f,n)},e)}function $n(t,e,n,s){var a=-1,c=ar,l=!0,p=t.length,g=[],x=e.length;if(!p)return g;n&&(e=ct(e,Vt(n))),s?(c=ri,l=!1):e.length>=200&&(c=Fn,l=!1,e=new an(e));t:for(;++a<p;){var A=t[a],y=null==n?A:n(A);if(A=s||0!==A?A:0,l&&y==y){for(var E=x;E--;)if(e[E]===y)continue t;g.push(A)}else c(e,y,s)||g.push(A)}return g}o.templateSettings={escape:u,evaluate:h,interpolate:m,variable:"",imports:{_:o}},(o.prototype=yr.prototype).constructor=o,(se.prototype=An(yr.prototype)).constructor=se,(Z.prototype=An(yr.prototype)).constructor=Z,un.prototype.clear=function _c(){this.__data__=kn?kn(null):{},this.size=0},un.prototype.delete=function Sc(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},un.prototype.get=function wc(t){var e=this.__data__;if(kn){var n=e[t];return n===T?f:n}return j.call(e,t)?e[t]:f},un.prototype.has=function Dc(t){var e=this.__data__;return kn?e[t]!==f:j.call(e,t)},un.prototype.set=function xc(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=kn&&e===f?T:e,this},Pe.prototype.clear=function Ac(){this.__data__=[],this.size=0},Pe.prototype.delete=function yc(t){var e=this.__data__,n=Cr(e,t);return!(n<0||(n==e.length-1?e.pop():_r.call(e,n,1),--this.size,0))},Pe.prototype.get=function Cc(t){var e=this.__data__,n=Cr(e,t);return n<0?f:e[n][1]},Pe.prototype.has=function Tc(t){return Cr(this.__data__,t)>-1},Pe.prototype.set=function Pc(t,e){var n=this.__data__,s=Cr(n,t);return s<0?(++this.size,n.push([t,e])):n[s][1]=e,this},Ee.prototype.clear=function Ec(){this.size=0,this.__data__={hash:new un,map:new(Gn||Pe),string:new un}},Ee.prototype.delete=function Oc(t){var e=Hr(this,t).delete(t);return this.size-=e?1:0,e},Ee.prototype.get=function Ic(t){return Hr(this,t).get(t)},Ee.prototype.has=function Rc(t){return Hr(this,t).has(t)},Ee.prototype.set=function bc(t,e){var n=Hr(this,t),s=n.size;return n.set(t,e),this.size+=n.size==s?0:1,this},an.prototype.add=an.prototype.push=function Lc(t){return this.__data__.set(t,T),this},an.prototype.has=function Mc(t){return this.__data__.has(t)},ve.prototype.clear=function Nc(){this.__data__=new Pe,this.size=0},ve.prototype.delete=function Bc(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},ve.prototype.get=function Hc(t){return this.__data__.get(t)},ve.prototype.has=function Fc(t){return this.__data__.has(t)},ve.prototype.set=function Wc(t,e){var n=this.__data__;if(n instanceof Pe){var s=n.__data__;if(!Gn||s.length<199)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new Ee(s)}return n.set(t,e),this.size=n.size,this};var Ye=bu(xe),uu=bu(Si,!0);function $c(t,e){var n=!0;return Ye(t,function(s,a,c){return n=!!e(s,a,c)}),n}function Tr(t,e,n){for(var s=-1,a=t.length;++s<a;){var c=t[s],l=e(c);if(null!=l&&(p===f?l==l&&!qt(l):n(l,p)))var p=l,g=c}return g}function au(t,e){var n=[];return Ye(t,function(s,a,c){e(s,a,c)&&n.push(s)}),n}function bt(t,e,n,s,a){var c=-1,l=t.length;for(n||(n=Mh),a||(a=[]);++c<l;){var p=t[c];e>0&&n(p)?e>1?bt(p,e-1,n,s,a):ze(a,p):s||(a[a.length]=p)}return a}var _i=Lu(),ou=Lu(!0);function xe(t,e){return t&&_i(t,e,Et)}function Si(t,e){return t&&ou(t,e,Et)}function Pr(t,e){return ke(e,function(n){return Le(t[n])})}function cn(t,e){for(var n=0,s=(e=Ve(e,t)).length;null!=t&&n<s;)t=t[ye(e[n++])];return n&&n==s?t:f}function cu(t,e,n){var s=e(t);return G(t)?s:ze(s,n(t))}function Bt(t){return null==t?t===f?"[object Undefined]":"[object Null]":sn&&sn in nt(t)?function Eh(t){var e=j.call(t,sn),n=t[sn];try{t[sn]=f;var s=!0}catch{}var a=dr.call(t);return s&&(e?t[sn]=n:delete t[sn]),a}(t):function Uh(t){return dr.call(t)}(t)}function wi(t,e){return t>e}function Zc(t,e){return null!=t&&j.call(t,e)}function Vc(t,e){return null!=t&&e in nt(t)}function Di(t,e,n){for(var s=n?ri:ar,a=t[0].length,c=t.length,l=c,p=v(c),g=1/0,x=[];l--;){var A=t[l];l&&e&&(A=ct(A,Vt(e))),g=Lt(A.length,g),p[l]=!n&&(e||a>=120&&A.length>=120)?new an(l&&A):f}A=t[0];var y=-1,E=p[0];t:for(;++y<a&&x.length<g;){var L=A[y],B=e?e(L):L;if(L=n||0!==L?L:0,!(E?Fn(E,B):s(x,B,n))){for(l=c;--l;){var z=p[l];if(!(z?Fn(z,B):s(t[l],B,n)))continue t}E&&E.push(B),x.push(L)}}return x}function Yn(t,e,n){var s=null==(t=qu(t,e=Ve(e,t)))?t:t[ye(oe(e))];return null==s?f:Zt(s,t,n)}function hu(t){return gt(t)&&Bt(t)==je}function Zn(t,e,n,s,a){return t===e||(null==t||null==e||!gt(t)&&!gt(e)?t!=t&&e!=e:function jc(t,e,n,s,a,c){var l=G(t),p=G(e),g=l?tn:Mt(t),x=p?tn:Mt(e),A=(g=g==je?ge:g)==ge,y=(x=x==je?ge:x)==ge,E=g==x;if(E&&qe(t)){if(!qe(e))return!1;l=!0,A=!1}if(E&&!A)return c||(c=new ve),l||Pn(t)?zu(t,e,n,s,a,c):function Th(t,e,n,s,a,c,l){switch(n){case De:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case nn:return!(t.byteLength!=e.byteLength||!c(new mr(t),new mr(e)));case He:case Fe:case ee:return _e(+t,+e);case de:return t.name==e.name&&t.message==e.message;case en:case dn:return t==e+"";case lt:var p=fi;case Yt:if(p||(p=cr),t.size!=e.size&&!(1&s))return!1;var x=l.get(t);if(x)return x==e;s|=2,l.set(t,e);var A=zu(p(t),p(e),s,a,c,l);return l.delete(t),A;case pt:if(zn)return zn.call(t)==zn.call(e)}return!1}(t,e,g,n,s,a,c);if(!(1&n)){var L=A&&j.call(t,"__wrapped__"),B=y&&j.call(e,"__wrapped__");if(L||B){var z=L?t.value():t,H=B?e.value():e;return c||(c=new ve),a(z,H,n,s,c)}}return!!E&&(c||(c=new ve),function Ph(t,e,n,s,a,c){var l=1&n,p=Bi(t),g=p.length;if(g!=Bi(e).length&&!l)return!1;for(var y=g;y--;){var E=p[y];if(!(l?E in e:j.call(e,E)))return!1}var L=c.get(t),B=c.get(e);if(L&&B)return L==e&&B==t;var z=!0;c.set(t,e),c.set(e,t);for(var H=l;++y<g;){var Y=t[E=p[y]],X=e[E];if(s)var Jt=l?s(X,Y,E,e,t,c):s(Y,X,E,t,e,c);if(!(Jt===f?Y===X||a(Y,X,n,s,c):Jt)){z=!1;break}H||(H="constructor"==E)}if(z&&!H){var Ft=t.constructor,Qt=e.constructor;Ft!=Qt&&"constructor"in t&&"constructor"in e&&!("function"==typeof Ft&&Ft instanceof Ft&&"function"==typeof Qt&&Qt instanceof Qt)&&(z=!1)}return c.delete(t),c.delete(e),z}(t,e,n,s,a,c))}(t,e,n,s,Zn,a))}function xi(t,e,n,s){var a=n.length,c=a,l=!s;if(null==t)return!c;for(t=nt(t);a--;){var p=n[a];if(l&&p[2]?p[1]!==t[p[0]]:!(p[0]in t))return!1}for(;++a<c;){var g=(p=n[a])[0],x=t[g],A=p[1];if(l&&p[2]){if(x===f&&!(g in t))return!1}else{var y=new ve;if(s)var E=s(x,A,g,t,e,y);if(!(E===f?Zn(A,x,3,s,y):E))return!1}}return!0}function fu(t){return!(!ft(t)||function Bh(t){return!!Zs&&Zs in t}(t))&&(Le(t)?tc:za).test(fn(t))}function lu(t){return"function"==typeof t?t:null==t?Kt:"object"==typeof t?G(t)?gu(t[0],t[1]):du(t):Ma(t)}function Ai(t){if(!qn(t))return uc(t);var e=[];for(var n in nt(t))j.call(t,n)&&"constructor"!=n&&e.push(n);return e}function yi(t,e){return t<e}function pu(t,e){var n=-1,s=kt(t)?v(t.length):[];return Ye(t,function(a,c,l){s[++n]=e(a,c,l)}),s}function du(t){var e=Wi(t);return 1==e.length&&e[0][2]?Vu(e[0][0],e[0][1]):function(n){return n===t||xi(n,t,e)}}function gu(t,e){return Ui(t)&&Zu(e)?Vu(ye(t),e):function(n){var s=Ji(n,t);return s===f&&s===e?Qi(n,t):Zn(e,s,3)}}function Er(t,e,n,s,a){t!==e&&_i(e,function(c,l){if(a||(a=new ve),ft(c))!function sh(t,e,n,s,a,c,l){var p=zi(t,n),g=zi(e,n),x=l.get(g);if(x)mi(t,n,x);else{var A=c?c(p,g,n+"",t,e,l):f,y=A===f;if(y){var E=G(g),L=!E&&qe(g),B=!E&&!L&&Pn(g);A=g,E||L||B?G(p)?A=p:_t(p)?A=Ut(p):L?(y=!1,A=Pu(g,!0)):B?(y=!1,A=Eu(g,!0)):A=[]:Qn(g)||ln(g)?(A=p,ln(p)?A=ya(p):(!ft(p)||Le(p))&&(A=Yu(g))):y=!1}y&&(l.set(g,A),a(A,g,s,c,l),l.delete(g)),mi(t,n,A)}}(t,e,l,n,Er,s,a);else{var p=s?s(zi(t,l),c,l+"",t,e,a):f;p===f&&(p=c),mi(t,l,p)}},zt)}function mu(t,e){var n=t.length;if(n)return be(e+=e<0?n:0,n)?t[e]:f}function vu(t,e,n){e=e.length?ct(e,function(c){return G(c)?function(l){return cn(l,1===c.length?c[0]:c)}:c}):[Kt];var s=-1;return e=ct(e,Vt(N())),function bo(d,S){var v=d.length;for(d.sort(S);v--;)d[v]=d[v].value;return d}(pu(t,function(c,l,p){return{criteria:ct(e,function(x){return x(c)}),index:++s,value:c}}),function(c,l){return function _h(t,e,n){for(var s=-1,a=t.criteria,c=e.criteria,l=a.length,p=n.length;++s<l;){var g=Ou(a[s],c[s]);if(g)return s>=p?g:g*("desc"==n[s]?-1:1)}return t.index-e.index}(c,l,n)})}function _u(t,e,n){for(var s=-1,a=e.length,c={};++s<a;){var l=e[s],p=cn(t,l);n(p,l)&&Vn(c,Ve(l,t),p)}return c}function Ci(t,e,n,s){var a=s?Ro:vn,c=-1,l=e.length,p=t;for(t===e&&(e=Ut(e)),n&&(p=ct(t,Vt(n)));++c<l;)for(var g=0,x=e[c],A=n?n(x):x;(g=a(p,A,g,s))>-1;)p!==t&&_r.call(p,g,1),_r.call(t,g,1);return t}function Su(t,e){for(var n=t?e.length:0,s=n-1;n--;){var a=e[n];if(n==s||a!==c){var c=a;be(a)?_r.call(t,a,1):Oi(t,a)}}return t}function Ti(t,e){return t+Dr(js()*(e-t+1))}function Pi(t,e){var n="";if(!t||e<1||e>It)return n;do{e%2&&(n+=t),(e=Dr(e/2))&&(t+=t)}while(e);return n}function $(t,e){return Ki(Xu(t,e,Kt),t+"")}function ch(t){return nu(En(t))}function hh(t,e){var n=En(t);return Fr(n,on(e,0,n.length))}function Vn(t,e,n,s){if(!ft(t))return t;for(var a=-1,c=(e=Ve(e,t)).length,l=c-1,p=t;null!=p&&++a<c;){var g=ye(e[a]),x=n;if("__proto__"===g||"constructor"===g||"prototype"===g)return t;if(a!=l){var A=p[g];(x=s?s(A,g,p):f)===f&&(x=ft(A)?A:be(e[a+1])?[]:{})}Kn(p,g,x),p=p[g]}return t}var wu=xr?function(t,e){return xr.set(t,e),t}:Kt,fh=Sr?function(t,e){return Sr(t,"toString",{configurable:!0,enumerable:!1,value:ts(e),writable:!0})}:Kt;function lh(t){return Fr(En(t))}function ae(t,e,n){var s=-1,a=t.length;e<0&&(e=-e>a?0:a+e),(n=n>a?a:n)<0&&(n+=a),a=e>n?0:n-e>>>0,e>>>=0;for(var c=v(a);++s<a;)c[s]=t[s+e];return c}function ph(t,e){var n;return Ye(t,function(s,a,c){return!(n=e(s,a,c))}),!!n}function Or(t,e,n){var s=0,a=null==t?s:t.length;if("number"==typeof e&&e==e&&a<=2147483647){for(;s<a;){var c=s+a>>>1,l=t[c];null!==l&&!qt(l)&&(n?l<=e:l<e)?s=c+1:a=c}return a}return Ei(t,e,Kt,n)}function Ei(t,e,n,s){var a=0,c=null==t?0:t.length;if(0===c)return 0;for(var l=(e=n(e))!=e,p=null===e,g=qt(e),x=e===f;a<c;){var A=Dr((a+c)/2),y=n(t[A]),E=y!==f,L=null===y,B=y==y,z=qt(y);if(l)var H=s||B;else H=x?B&&(s||E):p?B&&E&&(s||!L):g?B&&E&&!L&&(s||!z):!L&&!z&&(s?y<=e:y<e);H?a=A+1:c=A}return Lt(c,4294967294)}function Du(t,e){for(var n=-1,s=t.length,a=0,c=[];++n<s;){var l=t[n],p=e?e(l):l;if(!n||!_e(p,g)){var g=p;c[a++]=0===l?0:l}}return c}function xu(t){return"number"==typeof t?t:qt(t)?NaN:+t}function Xt(t){if("string"==typeof t)return t;if(G(t))return ct(t,Xt)+"";if(qt(t))return tu?tu.call(t):"";var e=t+"";return"0"==e&&1/t==-U?"-0":e}function Ze(t,e,n){var s=-1,a=ar,c=t.length,l=!0,p=[],g=p;if(n)l=!1,a=ri;else if(c>=200){var x=e?null:yh(t);if(x)return cr(x);l=!1,a=Fn,g=new an}else g=e?[]:p;t:for(;++s<c;){var A=t[s],y=e?e(A):A;if(A=n||0!==A?A:0,l&&y==y){for(var E=g.length;E--;)if(g[E]===y)continue t;e&&g.push(y),p.push(A)}else a(g,y,n)||(g!==p&&g.push(y),p.push(A))}return p}function Oi(t,e){return null==(t=qu(t,e=Ve(e,t)))||delete t[ye(oe(e))]}function Au(t,e,n,s){return Vn(t,e,n(cn(t,e)),s)}function Ir(t,e,n,s){for(var a=t.length,c=s?a:-1;(s?c--:++c<a)&&e(t[c],c,t););return n?ae(t,s?0:c,s?c+1:a):ae(t,s?c+1:0,s?a:c)}function yu(t,e){var n=t;return n instanceof Z&&(n=n.value()),ii(e,function(s,a){return a.func.apply(a.thisArg,ze([s],a.args))},n)}function Ii(t,e,n){var s=t.length;if(s<2)return s?Ze(t[0]):[];for(var a=-1,c=v(s);++a<s;)for(var l=t[a],p=-1;++p<s;)p!=a&&(c[a]=$n(c[a]||l,t[p],e,n));return Ze(bt(c,1),e,n)}function Cu(t,e,n){for(var s=-1,a=t.length,c=e.length,l={};++s<a;)n(l,t[s],s<c?e[s]:f);return l}function Ri(t){return _t(t)?t:[]}function bi(t){return"function"==typeof t?t:Kt}function Ve(t,e){return G(t)?t:Ui(t,e)?[t]:ta(Q(t))}var dh=$;function Xe(t,e,n){var s=t.length;return n=n===f?s:n,!e&&n>=s?t:ae(t,e,n)}var Tu=ec||function(t){return Rt.clearTimeout(t)};function Pu(t,e){if(e)return t.slice();var n=t.length,s=Vs?Vs(n):new t.constructor(n);return t.copy(s),s}function Li(t){var e=new t.constructor(t.byteLength);return new mr(e).set(new mr(t)),e}function Eu(t,e){var n=e?Li(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ou(t,e){if(t!==e){var n=t!==f,s=null===t,a=t==t,c=qt(t),l=e!==f,p=null===e,g=e==e,x=qt(e);if(!p&&!x&&!c&&t>e||c&&l&&g&&!p&&!x||s&&l&&g||!n&&g||!a)return 1;if(!s&&!c&&!x&&t<e||x&&n&&a&&!s&&!c||p&&n&&a||!l&&a||!g)return-1}return 0}function Iu(t,e,n,s){for(var a=-1,c=t.length,l=n.length,p=-1,g=e.length,x=Tt(c-l,0),A=v(g+x),y=!s;++p<g;)A[p]=e[p];for(;++a<l;)(y||a<c)&&(A[n[a]]=t[a]);for(;x--;)A[p++]=t[a++];return A}function Ru(t,e,n,s){for(var a=-1,c=t.length,l=-1,p=n.length,g=-1,x=e.length,A=Tt(c-p,0),y=v(A+x),E=!s;++a<A;)y[a]=t[a];for(var L=a;++g<x;)y[L+g]=e[g];for(;++l<p;)(E||a<c)&&(y[L+n[l]]=t[a++]);return y}function Ut(t,e){var n=-1,s=t.length;for(e||(e=v(s));++n<s;)e[n]=t[n];return e}function Ae(t,e,n,s){var a=!n;n||(n={});for(var c=-1,l=e.length;++c<l;){var p=e[c],g=s?s(n[p],t[p],p,n,t):f;g===f&&(g=t[p]),a?Oe(n,p,g):Kn(n,p,g)}return n}function Rr(t,e){return function(n,s){var a=G(n)?Co:kc,c=e?e():{};return a(n,t,N(s,2),c)}}function yn(t){return $(function(e,n){var s=-1,a=n.length,c=a>1?n[a-1]:f,l=a>2?n[2]:f;for(c=t.length>3&&"function"==typeof c?(a--,c):f,l&&Ht(n[0],n[1],l)&&(c=a<3?f:c,a=1),e=nt(e);++s<a;){var p=n[s];p&&t(e,p,s,c)}return e})}function bu(t,e){return function(n,s){if(null==n)return n;if(!kt(n))return t(n,s);for(var a=n.length,c=e?a:-1,l=nt(n);(e?c--:++c<a)&&!1!==s(l[c],c,l););return n}}function Lu(t){return function(e,n,s){for(var a=-1,c=nt(e),l=s(e),p=l.length;p--;){var g=l[t?p:++a];if(!1===n(c[g],g,c))break}return e}}function Mu(t){return function(e){var n=_n(e=Q(e))?me(e):f,s=n?n[0]:e.charAt(0),a=n?Xe(n,1).join(""):e.slice(1);return s[t]()+a}}function Cn(t){return function(e){return ii(ba(Ra(e).replace(ho,"")),t,"")}}function Xn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=An(t.prototype),s=t.apply(n,e);return ft(s)?s:n}}function Nu(t){return function(e,n,s){var a=nt(e);if(!kt(e)){var c=N(n,3);e=Et(e),n=function(p){return c(a[p],p,a)}}var l=t(e,n,s);return l>-1?a[c?e[l]:l]:f}}function Bu(t){return Re(function(e){var n=e.length,s=n,a=se.prototype.thru;for(t&&e.reverse();s--;){var c=e[s];if("function"!=typeof c)throw new ie(_);if(a&&!l&&"wrapper"==Br(c))var l=new se([],!0)}for(s=l?s:n;++s<n;){var p=Br(c=e[s]),g="wrapper"==p?Fi(c):f;l=g&&ki(g[0])&&424==g[1]&&!g[4].length&&1==g[9]?l[Br(g[0])].apply(l,g[3]):1==c.length&&ki(c)?l[p]():l.thru(c)}return function(){var x=arguments,A=x[0];if(l&&1==x.length&&G(A))return l.plant(A).value();for(var y=0,E=n?e[y].apply(this,x):A;++y<n;)E=e[y].call(this,E);return E}})}function br(t,e,n,s,a,c,l,p,g,x){var A=128&e,y=1&e,E=2&e,L=24&e,B=512&e,z=E?f:Xn(t);return function H(){for(var Y=arguments.length,X=v(Y),Jt=Y;Jt--;)X[Jt]=arguments[Jt];if(L)var Ft=Tn(H),Qt=function Mo(d,S){for(var v=d.length,O=0;v--;)d[v]===S&&++O;return O}(X,Ft);if(s&&(X=Iu(X,s,a,L)),c&&(X=Ru(X,c,l,L)),Y-=Qt,L&&Y<x){var St=Ke(X,Ft);return Wu(t,e,br,H.placeholder,n,X,St,p,g,x-Y)}var Se=y?n:this,Ne=E?Se[t]:t;return Y=X.length,p?X=function kh(t,e){for(var n=t.length,s=Lt(e.length,n),a=Ut(t);s--;){var c=e[s];t[s]=be(c,n)?a[c]:f}return t}(X,p):B&&Y>1&&X.reverse(),A&&g<Y&&(X.length=g),this&&this!==Rt&&this instanceof H&&(Ne=z||Xn(Ne)),Ne.apply(Se,X)}}function Hu(t,e){return function(n,s){return function qc(t,e,n,s){return xe(t,function(a,c,l){e(s,n(a),c,l)}),s}(n,t,e(s),{})}}function Lr(t,e){return function(n,s){var a;if(n===f&&s===f)return e;if(n!==f&&(a=n),s!==f){if(a===f)return s;"string"==typeof n||"string"==typeof s?(n=Xt(n),s=Xt(s)):(n=xu(n),s=xu(s)),a=t(n,s)}return a}}function Mi(t){return Re(function(e){return e=ct(e,Vt(N())),$(function(n){var s=this;return t(e,function(a){return Zt(a,s,n)})})})}function Mr(t,e){var n=(e=e===f?" ":Xt(e)).length;if(n<2)return n?Pi(e,t):e;var s=Pi(e,wr(t/Sn(e)));return _n(e)?Xe(me(s),0,t).join(""):s.slice(0,t)}function Fu(t){return function(e,n,s){return s&&"number"!=typeof s&&Ht(e,n,s)&&(n=s=f),e=Me(e),n===f?(n=e,e=0):n=Me(n),function oh(t,e,n,s){for(var a=-1,c=Tt(wr((e-t)/(n||1)),0),l=v(c);c--;)l[s?c:++a]=t,t+=n;return l}(e,n,s=s===f?e<n?1:-1:Me(s),t)}}function Nr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ce(e),n=ce(n)),t(e,n)}}function Wu(t,e,n,s,a,c,l,p,g,x){var A=8&e;e|=A?32:64,4&(e&=~(A?64:32))||(e&=-4);var z=[t,e,a,A?c:f,A?l:f,A?f:c,A?f:l,p,g,x],H=n.apply(f,z);return ki(t)&&Ju(H,z),H.placeholder=s,Qu(H,t,e)}function Ni(t){var e=Ct[t];return function(n,s){if(n=ce(n),(s=null==s?0:Lt(k(s),292))&&Qs(n)){var a=(Q(n)+"e").split("e");return+((a=(Q(e(a[0]+"e"+(+a[1]+s)))+"e").split("e"))[0]+"e"+(+a[1]-s))}return e(n)}}var yh=Dn&&1/cr(new Dn([,-0]))[1]==U?function(t){return new Dn(t)}:rs;function Gu(t){return function(e){var n=Mt(e);return n==lt?fi(e):n==Yt?function Uo(d){var S=-1,v=Array(d.size);return d.forEach(function(O){v[++S]=[O,O]}),v}(e):function Lo(d,S){return ct(S,function(v){return[v,d[v]]})}(e,t(e))}}function Ie(t,e,n,s,a,c,l,p){var g=2&e;if(!g&&"function"!=typeof t)throw new ie(_);var x=s?s.length:0;if(x||(e&=-97,s=a=f),l=l===f?l:Tt(k(l),0),p=p===f?p:k(p),x-=a?a.length:0,64&e){var A=s,y=a;s=a=f}var E=g?f:Fi(t),L=[t,e,n,s,a,A,y,c,l,p];if(E&&function Wh(t,e){var n=t[1],s=e[1],a=n|s;if(!(a<131)&&!(128==s&&8==n||128==s&&256==n&&t[7].length<=e[8]||384==s&&e[7].length<=e[8]&&8==n))return t;1&s&&(t[2]=e[2],a|=1&n?0:4);var p=e[3];if(p){var g=t[3];t[3]=g?Iu(g,p,e[4]):p,t[4]=g?Ke(t[3],C):e[4]}(p=e[5])&&(t[5]=(g=t[5])?Ru(g,p,e[6]):p,t[6]=g?Ke(t[5],C):e[6]),(p=e[7])&&(t[7]=p),128&s&&(t[8]=null==t[8]?e[8]:Lt(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=a}(L,E),t=L[0],e=L[1],n=L[2],s=L[3],a=L[4],!(p=L[9]=L[9]===f?g?0:t.length:Tt(L[9]-x,0))&&24&e&&(e&=-25),e&&1!=e)B=8==e||16==e?function xh(t,e,n){var s=Xn(t);return function a(){for(var c=arguments.length,l=v(c),p=c,g=Tn(a);p--;)l[p]=arguments[p];var x=c<3&&l[0]!==g&&l[c-1]!==g?[]:Ke(l,g);return(c-=x.length)<n?Wu(t,e,br,a.placeholder,f,l,x,f,f,n-c):Zt(this&&this!==Rt&&this instanceof a?s:t,this,l)}}(t,e,p):32!=e&&33!=e||a.length?br.apply(f,L):function Ah(t,e,n,s){var a=1&e,c=Xn(t);return function l(){for(var p=-1,g=arguments.length,x=-1,A=s.length,y=v(A+g),E=this&&this!==Rt&&this instanceof l?c:t;++x<A;)y[x]=s[x];for(;g--;)y[x++]=arguments[++p];return Zt(E,a?n:this,y)}}(t,e,n,s);else var B=function Dh(t,e,n){var s=1&e,a=Xn(t);return function c(){return(this&&this!==Rt&&this instanceof c?a:t).apply(s?n:this,arguments)}}(t,e,n);return Qu((E?wu:Ju)(B,L),t,e)}function Uu(t,e,n,s){return t===f||_e(t,wn[n])&&!j.call(s,n)?e:t}function ku(t,e,n,s,a,c){return ft(t)&&ft(e)&&(c.set(e,t),Er(t,e,f,ku,c),c.delete(e)),t}function Ch(t){return Qn(t)?f:t}function zu(t,e,n,s,a,c){var l=1&n,p=t.length,g=e.length;if(p!=g&&!(l&&g>p))return!1;var x=c.get(t),A=c.get(e);if(x&&A)return x==e&&A==t;var y=-1,E=!0,L=2&n?new an:f;for(c.set(t,e),c.set(e,t);++y<p;){var B=t[y],z=e[y];if(s)var H=l?s(z,B,y,e,t,c):s(B,z,y,t,e,c);if(H!==f){if(H)continue;E=!1;break}if(L){if(!si(e,function(Y,X){if(!Fn(L,X)&&(B===Y||a(B,Y,n,s,c)))return L.push(X)})){E=!1;break}}else if(B!==z&&!a(B,z,n,s,c)){E=!1;break}}return c.delete(t),c.delete(e),E}function Re(t){return Ki(Xu(t,f,ia),t+"")}function Bi(t){return cu(t,Et,Gi)}function Hi(t){return cu(t,zt,Ku)}var Fi=xr?function(t){return xr.get(t)}:rs;function Br(t){for(var e=t.name+"",n=xn[e],s=j.call(xn,e)?n.length:0;s--;){var a=n[s],c=a.func;if(null==c||c==t)return a.name}return e}function Tn(t){return(j.call(o,"placeholder")?o:t).placeholder}function N(){var t=o.iteratee||es;return t=t===es?lu:t,arguments.length?t(arguments[0],arguments[1]):t}function Hr(t,e){var n=t.__data__;return function Nh(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Wi(t){for(var e=Et(t),n=e.length;n--;){var s=e[n],a=t[s];e[n]=[s,a,Zu(a)]}return e}function hn(t,e){var n=function Fo(d,S){return null==d?f:d[S]}(t,e);return fu(n)?n:f}var Gi=pi?function(t){return null==t?[]:(t=nt(t),ke(pi(t),function(e){return qs.call(t,e)}))}:is,Ku=pi?function(t){for(var e=[];t;)ze(e,Gi(t)),t=vr(t);return e}:is,Mt=Bt;function $u(t,e,n){for(var s=-1,a=(e=Ve(e,t)).length,c=!1;++s<a;){var l=ye(e[s]);if(!(c=null!=t&&n(t,l)))break;t=t[l]}return c||++s!=a?c:!!(a=null==t?0:t.length)&&Kr(a)&&be(l,a)&&(G(t)||ln(t))}function Yu(t){return"function"!=typeof t.constructor||qn(t)?{}:An(vr(t))}function Mh(t){return G(t)||ln(t)||!!(Js&&t&&t[Js])}function be(t,e){var n=typeof t;return!!(e=e??It)&&("number"==n||"symbol"!=n&&$a.test(t))&&t>-1&&t%1==0&&t<e}function Ht(t,e,n){if(!ft(n))return!1;var s=typeof e;return!!("number"==s?kt(n)&&be(e,n.length):"string"==s&&e in n)&&_e(n[e],t)}function Ui(t,e){if(G(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!qt(t))||P.test(t)||!D.test(t)||null!=e&&t in nt(e)}function ki(t){var e=Br(t),n=o[e];if("function"!=typeof n||!(e in Z.prototype))return!1;if(t===n)return!0;var s=Fi(n);return!!s&&t===s[0]}(di&&Mt(new di(new ArrayBuffer(1)))!=De||Gn&&Mt(new Gn)!=lt||gi&&Mt(gi.resolve())!=er||Dn&&Mt(new Dn)!=Yt||Un&&Mt(new Un)!=dt)&&(Mt=function(t){var e=Bt(t),n=e==ge?t.constructor:f,s=n?fn(n):"";if(s)switch(s){case hc:return De;case fc:return lt;case lc:return er;case pc:return Yt;case dc:return dt}return e});var Hh=lr?Le:ss;function qn(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||wn)}function Zu(t){return t==t&&!ft(t)}function Vu(t,e){return function(n){return null!=n&&n[t]===e&&(e!==f||t in nt(n))}}function Xu(t,e,n){return e=Tt(e===f?t.length-1:e,0),function(){for(var s=arguments,a=-1,c=Tt(s.length-e,0),l=v(c);++a<c;)l[a]=s[e+a];a=-1;for(var p=v(e+1);++a<e;)p[a]=s[a];return p[e]=n(l),Zt(t,this,p)}}function qu(t,e){return e.length<2?t:cn(t,ae(e,0,-1))}function zi(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Ju=ju(wu),Jn=rc||function(t,e){return Rt.setTimeout(t,e)},Ki=ju(fh);function Qu(t,e,n){var s=e+"";return Ki(t,function Lh(t,e){var n=e.length;if(!n)return t;var s=n-1;return e[s]=(n>1?"& ":"")+e[s],e=e.join(n>2?", ":" "),t.replace(Nt,"{\n/* [wrapped with "+e+"] */\n")}(s,function zh(t,e){return re(Zr,function(n){var s="_."+n[0];e&n[1]&&!ar(t,s)&&t.push(s)}),t.sort()}(function Ih(t){var e=t.match(Te);return e?e[1].split(Ba):[]}(s),n)))}function ju(t){var e=0,n=0;return function(){var s=ac(),a=16-(s-n);if(n=s,a>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(f,arguments)}}function Fr(t,e){var n=-1,s=t.length,a=s-1;for(e=e===f?s:e;++n<e;){var c=Ti(n,a),l=t[c];t[c]=t[n],t[n]=l}return t.length=e,t}var ta=function Fh(t){var e=kr(t,function(s){return 500===n.size&&n.clear(),s}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(I,function(n,s,a,c){e.push(a?c.replace(Wa,"$1"):s||n)}),e});function ye(t){if("string"==typeof t||qt(t))return t;var e=t+"";return"0"==e&&1/t==-U?"-0":e}function fn(t){if(null!=t){try{return pr.call(t)}catch{}try{return t+""}catch{}}return""}function ea(t){if(t instanceof Z)return t.clone();var e=new se(t.__wrapped__,t.__chain__);return e.__actions__=Ut(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Zh=$(function(t,e){return _t(t)?$n(t,bt(e,1,_t,!0)):[]}),Vh=$(function(t,e){var n=oe(e);return _t(n)&&(n=f),_t(t)?$n(t,bt(e,1,_t,!0),N(n,2)):[]}),Xh=$(function(t,e){var n=oe(e);return _t(n)&&(n=f),_t(t)?$n(t,bt(e,1,_t,!0),f,n):[]});function na(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var a=null==n?0:k(n);return a<0&&(a=Tt(s+a,0)),or(t,N(e,3),a)}function ra(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var a=s-1;return n!==f&&(a=k(n),a=n<0?Tt(s+a,0):Lt(a,s-1)),or(t,N(e,3),a,!0)}function ia(t){return null!=t&&t.length?bt(t,1):[]}function sa(t){return t&&t.length?t[0]:f}var af=$(function(t){var e=ct(t,Ri);return e.length&&e[0]===t[0]?Di(e):[]}),of=$(function(t){var e=oe(t),n=ct(t,Ri);return e===oe(n)?e=f:n.pop(),n.length&&n[0]===t[0]?Di(n,N(e,2)):[]}),cf=$(function(t){var e=oe(t),n=ct(t,Ri);return(e="function"==typeof e?e:f)&&n.pop(),n.length&&n[0]===t[0]?Di(n,f,e):[]});function oe(t){var e=null==t?0:t.length;return e?t[e-1]:f}var pf=$(ua);function ua(t,e){return t&&t.length&&e&&e.length?Ci(t,e):t}var mf=Re(function(t,e){var n=null==t?0:t.length,s=vi(t,e);return Su(t,ct(e,function(a){return be(a,n)?+a:a}).sort(Ou)),s});function $i(t){return null==t?t:cc.call(t)}var bf=$(function(t){return Ze(bt(t,1,_t,!0))}),Lf=$(function(t){var e=oe(t);return _t(e)&&(e=f),Ze(bt(t,1,_t,!0),N(e,2))}),Mf=$(function(t){var e=oe(t);return e="function"==typeof e?e:f,Ze(bt(t,1,_t,!0),f,e)});function Yi(t){if(!t||!t.length)return[];var e=0;return t=ke(t,function(n){if(_t(n))return e=Tt(n.length,e),!0}),ci(e,function(n){return ct(t,ui(n))})}function aa(t,e){if(!t||!t.length)return[];var n=Yi(t);return null==e?n:ct(n,function(s){return Zt(e,f,s)})}var Ff=$(function(t,e){return _t(t)?$n(t,e):[]}),Wf=$(function(t){return Ii(ke(t,_t))}),Gf=$(function(t){var e=oe(t);return _t(e)&&(e=f),Ii(ke(t,_t),N(e,2))}),Uf=$(function(t){var e=oe(t);return e="function"==typeof e?e:f,Ii(ke(t,_t),f,e)}),kf=$(Yi),$f=$(function(t){var e=t.length,n=e>1?t[e-1]:f;return n="function"==typeof n?(t.pop(),n):f,aa(t,n)});function oa(t){var e=o(t);return e.__chain__=!0,e}function Wr(t,e){return e(t)}var Zf=Re(function(t){var e=t.length,n=e?t[0]:0,s=this.__wrapped__,a=function(c){return vi(c,t)};return!(e>1||this.__actions__.length)&&s instanceof Z&&be(n)?((s=s.slice(n,+n+(e?1:0))).__actions__.push({func:Wr,args:[a],thisArg:f}),new se(s,this.__chain__).thru(function(c){return e&&!c.length&&c.push(f),c})):this.thru(a)}),el=Rr(function(t,e,n){j.call(t,n)?++t[n]:Oe(t,n,1)}),il=Nu(na),sl=Nu(ra);function ca(t,e){return(G(t)?re:Ye)(t,N(e,3))}function ha(t,e){return(G(t)?To:uu)(t,N(e,3))}var cl=Rr(function(t,e,n){j.call(t,n)?t[n].push(e):Oe(t,n,[e])}),fl=$(function(t,e,n){var s=-1,a="function"==typeof e,c=kt(t)?v(t.length):[];return Ye(t,function(l){c[++s]=a?Zt(e,l,n):Yn(l,e,n)}),c}),ll=Rr(function(t,e,n){Oe(t,n,e)});function Gr(t,e){return(G(t)?ct:pu)(t,N(e,3))}var dl=Rr(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),Al=$(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Ht(t,e[0],e[1])?e=[]:n>2&&Ht(e[0],e[1],e[2])&&(e=[e[0]]),vu(t,bt(e,1),[])}),Ur=nc||function(){return Rt.Date.now()};function fa(t,e,n){return e=n?f:e,Ie(t,128,f,f,f,f,e=t&&null==e?t.length:e)}function la(t,e){var n;if("function"!=typeof e)throw new ie(_);return t=k(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=f),n}}var Zi=$(function(t,e,n){var s=1;if(n.length){var a=Ke(n,Tn(Zi));s|=32}return Ie(t,s,e,n,a)}),pa=$(function(t,e,n){var s=3;if(n.length){var a=Ke(n,Tn(pa));s|=32}return Ie(e,s,t,n,a)});function ma(t,e,n){var s,a,c,l,p,g,x=0,A=!1,y=!1,E=!0;if("function"!=typeof t)throw new ie(_);function L(St){var Se=s,Ne=a;return s=a=f,x=St,l=t.apply(Ne,Se)}function H(St){var Se=St-g;return g===f||Se>=e||Se<0||y&&St-x>=c}function Y(){var St=Ur();if(H(St))return X(St);p=Jn(Y,function z(St){var Na=e-(St-g);return y?Lt(Na,c-(St-x)):Na}(St))}function X(St){return p=f,E&&s?L(St):(s=a=f,l)}function Qt(){var St=Ur(),Se=H(St);if(s=arguments,a=this,g=St,Se){if(p===f)return function B(St){return x=St,p=Jn(Y,e),A?L(St):l}(g);if(y)return Tu(p),p=Jn(Y,e),L(g)}return p===f&&(p=Jn(Y,e)),l}return e=ce(e)||0,ft(n)&&(A=!!n.leading,c=(y="maxWait"in n)?Tt(ce(n.maxWait)||0,e):c,E="trailing"in n?!!n.trailing:E),Qt.cancel=function Jt(){p!==f&&Tu(p),x=0,s=g=a=p=f},Qt.flush=function Ft(){return p===f?l:X(Ur())},Qt}var Cl=$(function(t,e){return su(t,1,e)}),Tl=$(function(t,e,n){return su(t,ce(e)||0,n)});function kr(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new ie(_);var n=function(){var s=arguments,a=e?e.apply(this,s):s[0],c=n.cache;if(c.has(a))return c.get(a);var l=t.apply(this,s);return n.cache=c.set(a,l)||c,l};return n.cache=new(kr.Cache||Ee),n}function zr(t){if("function"!=typeof t)throw new ie(_);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}kr.Cache=Ee;var Ol=dh(function(t,e){var n=(e=1==e.length&&G(e[0])?ct(e[0],Vt(N())):ct(bt(e,1),Vt(N()))).length;return $(function(s){for(var a=-1,c=Lt(s.length,n);++a<c;)s[a]=e[a].call(this,s[a]);return Zt(t,this,s)})}),Vi=$(function(t,e){var n=Ke(e,Tn(Vi));return Ie(t,32,f,e,n)}),va=$(function(t,e){var n=Ke(e,Tn(va));return Ie(t,64,f,e,n)}),Il=Re(function(t,e){return Ie(t,256,f,f,f,e)});function _e(t,e){return t===e||t!=t&&e!=e}var kl=Nr(wi),zl=Nr(function(t,e){return t>=e}),ln=hu(function(){return arguments}())?hu:function(t){return gt(t)&&j.call(t,"callee")&&!qs.call(t,"callee")},G=v.isArray,Kl=Rs?Vt(Rs):function Jc(t){return gt(t)&&Bt(t)==nn};function kt(t){return null!=t&&Kr(t.length)&&!Le(t)}function _t(t){return gt(t)&&kt(t)}var qe=ic||ss,Yl=bs?Vt(bs):function Qc(t){return gt(t)&&Bt(t)==Fe};function Xi(t){if(!gt(t))return!1;var e=Bt(t);return e==de||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Qn(t)}function Le(t){if(!ft(t))return!1;var e=Bt(t);return e==We||e==Ge||"[object AsyncFunction]"==e||"[object Proxy]"==e}function _a(t){return"number"==typeof t&&t==k(t)}function Kr(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=It}function ft(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function gt(t){return null!=t&&"object"==typeof t}var Sa=Ls?Vt(Ls):function th(t){return gt(t)&&Mt(t)==lt};function wa(t){return"number"==typeof t||gt(t)&&Bt(t)==ee}function Qn(t){if(!gt(t)||Bt(t)!=ge)return!1;var e=vr(t);if(null===e)return!0;var n=j.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&pr.call(n)==Qo}var qi=Ms?Vt(Ms):function eh(t){return gt(t)&&Bt(t)==en},Da=Ns?Vt(Ns):function nh(t){return gt(t)&&Mt(t)==Yt};function $r(t){return"string"==typeof t||!G(t)&&gt(t)&&Bt(t)==dn}function qt(t){return"symbol"==typeof t||gt(t)&&Bt(t)==pt}var Pn=Bs?Vt(Bs):function rh(t){return gt(t)&&Kr(t.length)&&!!ut[Bt(t)]},op=Nr(yi),cp=Nr(function(t,e){return t<=e});function xa(t){if(!t)return[];if(kt(t))return $r(t)?me(t):Ut(t);if(Wn&&t[Wn])return function Go(d){for(var S,v=[];!(S=d.next()).done;)v.push(S.value);return v}(t[Wn]());var e=Mt(t);return(e==lt?fi:e==Yt?cr:En)(t)}function Me(t){return t?(t=ce(t))===U||t===-U?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function k(t){var e=Me(t),n=e%1;return e==e?n?e-n:e:0}function Aa(t){return t?on(k(t),0,st):0}function ce(t){if("number"==typeof t)return t;if(qt(t))return NaN;if(ft(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ft(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=ks(t);var n=ka.test(t);return n||Ka.test(t)?Ao(t.slice(2),n?2:8):Ua.test(t)?NaN:+t}function ya(t){return Ae(t,zt(t))}function Q(t){return null==t?"":Xt(t)}var fp=yn(function(t,e){if(qn(e)||kt(e))Ae(e,Et(e),t);else for(var n in e)j.call(e,n)&&Kn(t,n,e[n])}),Ca=yn(function(t,e){Ae(e,zt(e),t)}),Yr=yn(function(t,e,n,s){Ae(e,zt(e),t,s)}),lp=yn(function(t,e,n,s){Ae(e,Et(e),t,s)}),pp=Re(vi),gp=$(function(t,e){t=nt(t);var n=-1,s=e.length,a=s>2?e[2]:f;for(a&&Ht(e[0],e[1],a)&&(s=1);++n<s;)for(var c=e[n],l=zt(c),p=-1,g=l.length;++p<g;){var x=l[p],A=t[x];(A===f||_e(A,wn[x])&&!j.call(t,x))&&(t[x]=c[x])}return t}),mp=$(function(t){return t.push(f,ku),Zt(Ta,f,t)});function Ji(t,e,n){var s=null==t?f:cn(t,e);return s===f?n:s}function Qi(t,e){return null!=t&&$u(t,e,Vc)}var Tp=Hu(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=dr.call(e)),t[e]=n},ts(Kt)),Pp=Hu(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=dr.call(e)),j.call(t,e)?t[e].push(n):t[e]=[n]},N),Ep=$(Yn);function Et(t){return kt(t)?eu(t):Ai(t)}function zt(t){return kt(t)?eu(t,!0):function ih(t){if(!ft(t))return function Gh(t){var e=[];if(null!=t)for(var n in nt(t))e.push(n);return e}(t);var e=qn(t),n=[];for(var s in t)"constructor"==s&&(e||!j.call(t,s))||n.push(s);return n}(t)}var Rp=yn(function(t,e,n){Er(t,e,n)}),Ta=yn(function(t,e,n,s){Er(t,e,n,s)}),bp=Re(function(t,e){var n={};if(null==t)return n;var s=!1;e=ct(e,function(c){return c=Ve(c,t),s||(s=c.length>1),c}),Ae(t,Hi(t),n),s&&(n=ue(n,7,Ch));for(var a=e.length;a--;)Oi(n,e[a]);return n}),Mp=Re(function(t,e){return null==t?{}:function uh(t,e){return _u(t,e,function(n,s){return Qi(t,s)})}(t,e)});function Pa(t,e){if(null==t)return{};var n=ct(Hi(t),function(s){return[s]});return e=N(e),_u(t,n,function(s,a){return e(s,a[0])})}var Ea=Gu(Et),Oa=Gu(zt);function En(t){return null==t?[]:hi(t,Et(t))}var Yp=Cn(function(t,e,n){return e=e.toLowerCase(),t+(n?Ia(e):e)});function Ia(t){return ji(Q(t).toLowerCase())}function Ra(t){return(t=Q(t))&&t.replace(Ya,No).replace(fo,"")}var qp=Cn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Jp=Cn(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Qp=Mu("toLowerCase"),sd=Cn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),ad=Cn(function(t,e,n){return t+(n?" ":"")+ji(e)}),vd=Cn(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),ji=Mu("toUpperCase");function ba(t,e,n){return t=Q(t),(e=n?f:e)===f?function Wo(d){return go.test(d)}(t)?function Zo(d){return d.match(lo)||[]}(t):function Io(d){return d.match(Ha)||[]}(t):t.match(e)||[]}var La=$(function(t,e){try{return Zt(t,f,e)}catch(n){return Xi(n)?n:new W(n)}}),_d=Re(function(t,e){return re(e,function(n){n=ye(n),Oe(t,n,Zi(t[n],t))}),t});function ts(t){return function(){return t}}var xd=Bu(),Ad=Bu(!0);function Kt(t){return t}function es(t){return lu("function"==typeof t?t:ue(t,1))}var Td=$(function(t,e){return function(n){return Yn(n,t,e)}}),Pd=$(function(t,e){return function(n){return Yn(t,n,e)}});function ns(t,e,n){var s=Et(e),a=Pr(e,s);null==n&&(!ft(e)||!a.length&&s.length)&&(n=e,e=t,t=this,a=Pr(e,Et(e)));var c=!(ft(n)&&"chain"in n&&!n.chain),l=Le(t);return re(a,function(p){var g=e[p];t[p]=g,l&&(t.prototype[p]=function(){var x=this.__chain__;if(c||x){var A=t(this.__wrapped__);return(A.__actions__=Ut(this.__actions__)).push({func:g,args:arguments,thisArg:t}),A.__chain__=x,A}return g.apply(t,ze([this.value()],arguments))})}),t}function rs(){}var Id=Mi(ct),Rd=Mi(Hs),bd=Mi(si);function Ma(t){return Ui(t)?ui(ye(t)):function ah(t){return function(e){return cn(e,t)}}(t)}var Md=Fu(),Nd=Fu(!0);function is(){return[]}function ss(){return!1}var kd=Lr(function(t,e){return t+e},0),zd=Ni("ceil"),Kd=Lr(function(t,e){return t/e},1),$d=Ni("floor"),Qd=Lr(function(t,e){return t*e},1),jd=Ni("round"),tg=Lr(function(t,e){return t-e},0);return o.after=function yl(t,e){if("function"!=typeof e)throw new ie(_);return t=k(t),function(){if(--t<1)return e.apply(this,arguments)}},o.ary=fa,o.assign=fp,o.assignIn=Ca,o.assignInWith=Yr,o.assignWith=lp,o.at=pp,o.before=la,o.bind=Zi,o.bindAll=_d,o.bindKey=pa,o.castArray=function Bl(){if(!arguments.length)return[];var t=arguments[0];return G(t)?t:[t]},o.chain=oa,o.chunk=function Kh(t,e,n){e=(n?Ht(t,e,n):e===f)?1:Tt(k(e),0);var s=null==t?0:t.length;if(!s||e<1)return[];for(var a=0,c=0,l=v(wr(s/e));a<s;)l[c++]=ae(t,a,a+=e);return l},o.compact=function $h(t){for(var e=-1,n=null==t?0:t.length,s=0,a=[];++e<n;){var c=t[e];c&&(a[s++]=c)}return a},o.concat=function Yh(){var t=arguments.length;if(!t)return[];for(var e=v(t-1),n=arguments[0],s=t;s--;)e[s-1]=arguments[s];return ze(G(n)?Ut(n):[n],bt(e,1))},o.cond=function Sd(t){var e=null==t?0:t.length,n=N();return t=e?ct(t,function(s){if("function"!=typeof s[1])throw new ie(_);return[n(s[0]),s[1]]}):[],$(function(s){for(var a=-1;++a<e;){var c=t[a];if(Zt(c[0],this,s))return Zt(c[1],this,s)}})},o.conforms=function wd(t){return function Kc(t){var e=Et(t);return function(n){return iu(n,t,e)}}(ue(t,1))},o.constant=ts,o.countBy=el,o.create=function dp(t,e){var n=An(t);return null==e?n:ru(n,e)},o.curry=function da(t,e,n){var s=Ie(t,8,f,f,f,f,f,e=n?f:e);return s.placeholder=da.placeholder,s},o.curryRight=function ga(t,e,n){var s=Ie(t,16,f,f,f,f,f,e=n?f:e);return s.placeholder=ga.placeholder,s},o.debounce=ma,o.defaults=gp,o.defaultsDeep=mp,o.defer=Cl,o.delay=Tl,o.difference=Zh,o.differenceBy=Vh,o.differenceWith=Xh,o.drop=function qh(t,e,n){var s=null==t?0:t.length;return s?ae(t,(e=n||e===f?1:k(e))<0?0:e,s):[]},o.dropRight=function Jh(t,e,n){var s=null==t?0:t.length;return s?ae(t,0,(e=s-(e=n||e===f?1:k(e)))<0?0:e):[]},o.dropRightWhile=function Qh(t,e){return t&&t.length?Ir(t,N(e,3),!0,!0):[]},o.dropWhile=function jh(t,e){return t&&t.length?Ir(t,N(e,3),!0):[]},o.fill=function tf(t,e,n,s){var a=null==t?0:t.length;return a?(n&&"number"!=typeof n&&Ht(t,e,n)&&(n=0,s=a),function Yc(t,e,n,s){var a=t.length;for((n=k(n))<0&&(n=-n>a?0:a+n),(s=s===f||s>a?a:k(s))<0&&(s+=a),s=n>s?0:Aa(s);n<s;)t[n++]=e;return t}(t,e,n,s)):[]},o.filter=function rl(t,e){return(G(t)?ke:au)(t,N(e,3))},o.flatMap=function ul(t,e){return bt(Gr(t,e),1)},o.flatMapDeep=function al(t,e){return bt(Gr(t,e),U)},o.flatMapDepth=function ol(t,e,n){return n=n===f?1:k(n),bt(Gr(t,e),n)},o.flatten=ia,o.flattenDeep=function ef(t){return null!=t&&t.length?bt(t,U):[]},o.flattenDepth=function nf(t,e){return null!=t&&t.length?bt(t,e=e===f?1:k(e)):[]},o.flip=function Pl(t){return Ie(t,512)},o.flow=xd,o.flowRight=Ad,o.fromPairs=function rf(t){for(var e=-1,n=null==t?0:t.length,s={};++e<n;){var a=t[e];s[a[0]]=a[1]}return s},o.functions=function Ap(t){return null==t?[]:Pr(t,Et(t))},o.functionsIn=function yp(t){return null==t?[]:Pr(t,zt(t))},o.groupBy=cl,o.initial=function uf(t){return null!=t&&t.length?ae(t,0,-1):[]},o.intersection=af,o.intersectionBy=of,o.intersectionWith=cf,o.invert=Tp,o.invertBy=Pp,o.invokeMap=fl,o.iteratee=es,o.keyBy=ll,o.keys=Et,o.keysIn=zt,o.map=Gr,o.mapKeys=function Op(t,e){var n={};return e=N(e,3),xe(t,function(s,a,c){Oe(n,e(s,a,c),s)}),n},o.mapValues=function Ip(t,e){var n={};return e=N(e,3),xe(t,function(s,a,c){Oe(n,a,e(s,a,c))}),n},o.matches=function yd(t){return du(ue(t,1))},o.matchesProperty=function Cd(t,e){return gu(t,ue(e,1))},o.memoize=kr,o.merge=Rp,o.mergeWith=Ta,o.method=Td,o.methodOf=Pd,o.mixin=ns,o.negate=zr,o.nthArg=function Od(t){return t=k(t),$(function(e){return mu(e,t)})},o.omit=bp,o.omitBy=function Lp(t,e){return Pa(t,zr(N(e)))},o.once=function El(t){return la(2,t)},o.orderBy=function pl(t,e,n,s){return null==t?[]:(G(e)||(e=null==e?[]:[e]),G(n=s?f:n)||(n=null==n?[]:[n]),vu(t,e,n))},o.over=Id,o.overArgs=Ol,o.overEvery=Rd,o.overSome=bd,o.partial=Vi,o.partialRight=va,o.partition=dl,o.pick=Mp,o.pickBy=Pa,o.property=Ma,o.propertyOf=function Ld(t){return function(e){return null==t?f:cn(t,e)}},o.pull=pf,o.pullAll=ua,o.pullAllBy=function df(t,e,n){return t&&t.length&&e&&e.length?Ci(t,e,N(n,2)):t},o.pullAllWith=function gf(t,e,n){return t&&t.length&&e&&e.length?Ci(t,e,f,n):t},o.pullAt=mf,o.range=Md,o.rangeRight=Nd,o.rearg=Il,o.reject=function vl(t,e){return(G(t)?ke:au)(t,zr(N(e,3)))},o.remove=function vf(t,e){var n=[];if(!t||!t.length)return n;var s=-1,a=[],c=t.length;for(e=N(e,3);++s<c;){var l=t[s];e(l,s,t)&&(n.push(l),a.push(s))}return Su(t,a),n},o.rest=function Rl(t,e){if("function"!=typeof t)throw new ie(_);return $(t,e=e===f?e:k(e))},o.reverse=$i,o.sampleSize=function Sl(t,e,n){return e=(n?Ht(t,e,n):e===f)?1:k(e),(G(t)?Gc:hh)(t,e)},o.set=function Bp(t,e,n){return null==t?t:Vn(t,e,n)},o.setWith=function Hp(t,e,n,s){return s="function"==typeof s?s:f,null==t?t:Vn(t,e,n,s)},o.shuffle=function wl(t){return(G(t)?Uc:lh)(t)},o.slice=function _f(t,e,n){var s=null==t?0:t.length;return s?(n&&"number"!=typeof n&&Ht(t,e,n)?(e=0,n=s):(e=null==e?0:k(e),n=n===f?s:k(n)),ae(t,e,n)):[]},o.sortBy=Al,o.sortedUniq=function Cf(t){return t&&t.length?Du(t):[]},o.sortedUniqBy=function Tf(t,e){return t&&t.length?Du(t,N(e,2)):[]},o.split=function ud(t,e,n){return n&&"number"!=typeof n&&Ht(t,e,n)&&(e=n=f),(n=n===f?st:n>>>0)?(t=Q(t))&&("string"==typeof e||null!=e&&!qi(e))&&!(e=Xt(e))&&_n(t)?Xe(me(t),0,n):t.split(e,n):[]},o.spread=function bl(t,e){if("function"!=typeof t)throw new ie(_);return e=null==e?0:Tt(k(e),0),$(function(n){var s=n[e],a=Xe(n,0,e);return s&&ze(a,s),Zt(t,this,a)})},o.tail=function Pf(t){var e=null==t?0:t.length;return e?ae(t,1,e):[]},o.take=function Ef(t,e,n){return t&&t.length?ae(t,0,(e=n||e===f?1:k(e))<0?0:e):[]},o.takeRight=function Of(t,e,n){var s=null==t?0:t.length;return s?ae(t,(e=s-(e=n||e===f?1:k(e)))<0?0:e,s):[]},o.takeRightWhile=function If(t,e){return t&&t.length?Ir(t,N(e,3),!1,!0):[]},o.takeWhile=function Rf(t,e){return t&&t.length?Ir(t,N(e,3)):[]},o.tap=function Yf(t,e){return e(t),t},o.throttle=function Ll(t,e,n){var s=!0,a=!0;if("function"!=typeof t)throw new ie(_);return ft(n)&&(s="leading"in n?!!n.leading:s,a="trailing"in n?!!n.trailing:a),ma(t,e,{leading:s,maxWait:e,trailing:a})},o.thru=Wr,o.toArray=xa,o.toPairs=Ea,o.toPairsIn=Oa,o.toPath=function Gd(t){return G(t)?ct(t,ye):qt(t)?[t]:Ut(ta(Q(t)))},o.toPlainObject=ya,o.transform=function Fp(t,e,n){var s=G(t),a=s||qe(t)||Pn(t);if(e=N(e,4),null==n){var c=t&&t.constructor;n=a?s?new c:[]:ft(t)&&Le(c)?An(vr(t)):{}}return(a?re:xe)(t,function(l,p,g){return e(n,l,p,g)}),n},o.unary=function Ml(t){return fa(t,1)},o.union=bf,o.unionBy=Lf,o.unionWith=Mf,o.uniq=function Nf(t){return t&&t.length?Ze(t):[]},o.uniqBy=function Bf(t,e){return t&&t.length?Ze(t,N(e,2)):[]},o.uniqWith=function Hf(t,e){return e="function"==typeof e?e:f,t&&t.length?Ze(t,f,e):[]},o.unset=function Wp(t,e){return null==t||Oi(t,e)},o.unzip=Yi,o.unzipWith=aa,o.update=function Gp(t,e,n){return null==t?t:Au(t,e,bi(n))},o.updateWith=function Up(t,e,n,s){return s="function"==typeof s?s:f,null==t?t:Au(t,e,bi(n),s)},o.values=En,o.valuesIn=function kp(t){return null==t?[]:hi(t,zt(t))},o.without=Ff,o.words=ba,o.wrap=function Nl(t,e){return Vi(bi(e),t)},o.xor=Wf,o.xorBy=Gf,o.xorWith=Uf,o.zip=kf,o.zipObject=function zf(t,e){return Cu(t||[],e||[],Kn)},o.zipObjectDeep=function Kf(t,e){return Cu(t||[],e||[],Vn)},o.zipWith=$f,o.entries=Ea,o.entriesIn=Oa,o.extend=Ca,o.extendWith=Yr,ns(o,o),o.add=kd,o.attempt=La,o.camelCase=Yp,o.capitalize=Ia,o.ceil=zd,o.clamp=function zp(t,e,n){return n===f&&(n=e,e=f),n!==f&&(n=(n=ce(n))==n?n:0),e!==f&&(e=(e=ce(e))==e?e:0),on(ce(t),e,n)},o.clone=function Hl(t){return ue(t,4)},o.cloneDeep=function Wl(t){return ue(t,5)},o.cloneDeepWith=function Gl(t,e){return ue(t,5,e="function"==typeof e?e:f)},o.cloneWith=function Fl(t,e){return ue(t,4,e="function"==typeof e?e:f)},o.conformsTo=function Ul(t,e){return null==e||iu(t,e,Et(e))},o.deburr=Ra,o.defaultTo=function Dd(t,e){return null==t||t!=t?e:t},o.divide=Kd,o.endsWith=function Zp(t,e,n){t=Q(t),e=Xt(e);var s=t.length,a=n=n===f?s:on(k(n),0,s);return(n-=e.length)>=0&&t.slice(n,a)==e},o.eq=_e,o.escape=function Vp(t){return(t=Q(t))&&i.test(t)?t.replace(w,Bo):t},o.escapeRegExp=function Xp(t){return(t=Q(t))&&V.test(t)?t.replace(b,"\\$&"):t},o.every=function nl(t,e,n){var s=G(t)?Hs:$c;return n&&Ht(t,e,n)&&(e=f),s(t,N(e,3))},o.find=il,o.findIndex=na,o.findKey=function vp(t,e){return Fs(t,N(e,3),xe)},o.findLast=sl,o.findLastIndex=ra,o.findLastKey=function _p(t,e){return Fs(t,N(e,3),Si)},o.floor=$d,o.forEach=ca,o.forEachRight=ha,o.forIn=function Sp(t,e){return null==t?t:_i(t,N(e,3),zt)},o.forInRight=function wp(t,e){return null==t?t:ou(t,N(e,3),zt)},o.forOwn=function Dp(t,e){return t&&xe(t,N(e,3))},o.forOwnRight=function xp(t,e){return t&&Si(t,N(e,3))},o.get=Ji,o.gt=kl,o.gte=zl,o.has=function Cp(t,e){return null!=t&&$u(t,e,Zc)},o.hasIn=Qi,o.head=sa,o.identity=Kt,o.includes=function hl(t,e,n,s){t=kt(t)?t:En(t),n=n&&!s?k(n):0;var a=t.length;return n<0&&(n=Tt(a+n,0)),$r(t)?n<=a&&t.indexOf(e,n)>-1:!!a&&vn(t,e,n)>-1},o.indexOf=function sf(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var a=null==n?0:k(n);return a<0&&(a=Tt(s+a,0)),vn(t,e,a)},o.inRange=function Kp(t,e,n){return e=Me(e),n===f?(n=e,e=0):n=Me(n),function Xc(t,e,n){return t>=Lt(e,n)&&t<Tt(e,n)}(t=ce(t),e,n)},o.invoke=Ep,o.isArguments=ln,o.isArray=G,o.isArrayBuffer=Kl,o.isArrayLike=kt,o.isArrayLikeObject=_t,o.isBoolean=function $l(t){return!0===t||!1===t||gt(t)&&Bt(t)==He},o.isBuffer=qe,o.isDate=Yl,o.isElement=function Zl(t){return gt(t)&&1===t.nodeType&&!Qn(t)},o.isEmpty=function Vl(t){if(null==t)return!0;if(kt(t)&&(G(t)||"string"==typeof t||"function"==typeof t.splice||qe(t)||Pn(t)||ln(t)))return!t.length;var e=Mt(t);if(e==lt||e==Yt)return!t.size;if(qn(t))return!Ai(t).length;for(var n in t)if(j.call(t,n))return!1;return!0},o.isEqual=function Xl(t,e){return Zn(t,e)},o.isEqualWith=function ql(t,e,n){var s=(n="function"==typeof n?n:f)?n(t,e):f;return s===f?Zn(t,e,f,n):!!s},o.isError=Xi,o.isFinite=function Jl(t){return"number"==typeof t&&Qs(t)},o.isFunction=Le,o.isInteger=_a,o.isLength=Kr,o.isMap=Sa,o.isMatch=function Ql(t,e){return t===e||xi(t,e,Wi(e))},o.isMatchWith=function jl(t,e,n){return n="function"==typeof n?n:f,xi(t,e,Wi(e),n)},o.isNaN=function tp(t){return wa(t)&&t!=+t},o.isNative=function ep(t){if(Hh(t))throw new W("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return fu(t)},o.isNil=function rp(t){return null==t},o.isNull=function np(t){return null===t},o.isNumber=wa,o.isObject=ft,o.isObjectLike=gt,o.isPlainObject=Qn,o.isRegExp=qi,o.isSafeInteger=function ip(t){return _a(t)&&t>=-It&&t<=It},o.isSet=Da,o.isString=$r,o.isSymbol=qt,o.isTypedArray=Pn,o.isUndefined=function sp(t){return t===f},o.isWeakMap=function up(t){return gt(t)&&Mt(t)==dt},o.isWeakSet=function ap(t){return gt(t)&&"[object WeakSet]"==Bt(t)},o.join=function hf(t,e){return null==t?"":sc.call(t,e)},o.kebabCase=qp,o.last=oe,o.lastIndexOf=function ff(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var a=s;return n!==f&&(a=(a=k(n))<0?Tt(s+a,0):Lt(a,s-1)),e==e?function zo(d,S,v){for(var O=v+1;O--;)if(d[O]===S)return O;return O}(t,e,a):or(t,Ws,a,!0)},o.lowerCase=Jp,o.lowerFirst=Qp,o.lt=op,o.lte=cp,o.max=function Yd(t){return t&&t.length?Tr(t,Kt,wi):f},o.maxBy=function Zd(t,e){return t&&t.length?Tr(t,N(e,2),wi):f},o.mean=function Vd(t){return Gs(t,Kt)},o.meanBy=function Xd(t,e){return Gs(t,N(e,2))},o.min=function qd(t){return t&&t.length?Tr(t,Kt,yi):f},o.minBy=function Jd(t,e){return t&&t.length?Tr(t,N(e,2),yi):f},o.stubArray=is,o.stubFalse=ss,o.stubObject=function Bd(){return{}},o.stubString=function Hd(){return""},o.stubTrue=function Fd(){return!0},o.multiply=Qd,o.nth=function lf(t,e){return t&&t.length?mu(t,k(e)):f},o.noConflict=function Ed(){return Rt._===this&&(Rt._=jo),this},o.noop=rs,o.now=Ur,o.pad=function jp(t,e,n){t=Q(t);var s=(e=k(e))?Sn(t):0;if(!e||s>=e)return t;var a=(e-s)/2;return Mr(Dr(a),n)+t+Mr(wr(a),n)},o.padEnd=function td(t,e,n){t=Q(t);var s=(e=k(e))?Sn(t):0;return e&&s<e?t+Mr(e-s,n):t},o.padStart=function ed(t,e,n){t=Q(t);var s=(e=k(e))?Sn(t):0;return e&&s<e?Mr(e-s,n)+t:t},o.parseInt=function nd(t,e,n){return n||null==e?e=0:e&&(e=+e),oc(Q(t).replace(yt,""),e||0)},o.random=function $p(t,e,n){if(n&&"boolean"!=typeof n&&Ht(t,e,n)&&(e=n=f),n===f&&("boolean"==typeof e?(n=e,e=f):"boolean"==typeof t&&(n=t,t=f)),t===f&&e===f?(t=0,e=1):(t=Me(t),e===f?(e=t,t=0):e=Me(e)),t>e){var s=t;t=e,e=s}if(n||t%1||e%1){var a=js();return Lt(t+a*(e-t+xo("1e-"+((a+"").length-1))),e)}return Ti(t,e)},o.reduce=function gl(t,e,n){var s=G(t)?ii:Us,a=arguments.length<3;return s(t,N(e,4),n,a,Ye)},o.reduceRight=function ml(t,e,n){var s=G(t)?Po:Us,a=arguments.length<3;return s(t,N(e,4),n,a,uu)},o.repeat=function rd(t,e,n){return e=(n?Ht(t,e,n):e===f)?1:k(e),Pi(Q(t),e)},o.replace=function id(){var t=arguments,e=Q(t[0]);return t.length<3?e:e.replace(t[1],t[2])},o.result=function Np(t,e,n){var s=-1,a=(e=Ve(e,t)).length;for(a||(a=1,t=f);++s<a;){var c=null==t?f:t[ye(e[s])];c===f&&(s=a,c=n),t=Le(c)?c.call(t):c}return t},o.round=jd,o.runInContext=d,o.sample=function _l(t){return(G(t)?nu:ch)(t)},o.size=function Dl(t){if(null==t)return 0;if(kt(t))return $r(t)?Sn(t):t.length;var e=Mt(t);return e==lt||e==Yt?t.size:Ai(t).length},o.snakeCase=sd,o.some=function xl(t,e,n){var s=G(t)?si:ph;return n&&Ht(t,e,n)&&(e=f),s(t,N(e,3))},o.sortedIndex=function Sf(t,e){return Or(t,e)},o.sortedIndexBy=function wf(t,e,n){return Ei(t,e,N(n,2))},o.sortedIndexOf=function Df(t,e){var n=null==t?0:t.length;if(n){var s=Or(t,e);if(s<n&&_e(t[s],e))return s}return-1},o.sortedLastIndex=function xf(t,e){return Or(t,e,!0)},o.sortedLastIndexBy=function Af(t,e,n){return Ei(t,e,N(n,2),!0)},o.sortedLastIndexOf=function yf(t,e){if(null!=t&&t.length){var s=Or(t,e,!0)-1;if(_e(t[s],e))return s}return-1},o.startCase=ad,o.startsWith=function od(t,e,n){return t=Q(t),n=null==n?0:on(k(n),0,t.length),e=Xt(e),t.slice(n,n+e.length)==e},o.subtract=tg,o.sum=function eg(t){return t&&t.length?oi(t,Kt):0},o.sumBy=function ng(t,e){return t&&t.length?oi(t,N(e,2)):0},o.template=function cd(t,e,n){var s=o.templateSettings;n&&Ht(t,e,n)&&(e=f),t=Q(t),e=Yr({},e,s,Uu);var p,g,a=Yr({},e.imports,s.imports,Uu),c=Et(a),l=hi(a,c),x=0,A=e.interpolate||ir,y="__p += '",E=li((e.escape||ir).source+"|"+A.source+"|"+(A===m?Ga:ir).source+"|"+(e.evaluate||ir).source+"|$","g"),L="//# sourceURL="+(j.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++vo+"]")+"\n";t.replace(E,function(H,Y,X,Jt,Ft,Qt){return X||(X=Jt),y+=t.slice(x,Qt).replace(Za,Ho),Y&&(p=!0,y+="' +\n__e("+Y+") +\n'"),Ft&&(g=!0,y+="';\n"+Ft+";\n__p += '"),X&&(y+="' +\n((__t = ("+X+")) == null ? '' : __t) +\n'"),x=Qt+H.length,H}),y+="';\n";var B=j.call(e,"variable")&&e.variable;if(B){if(Fa.test(B))throw new W("Invalid `variable` option passed into `_.template`")}else y="with (obj) {\n"+y+"\n}\n";y=(g?y.replace(as,""):y).replace(os,"$1").replace(Gt,"$1;"),y="function("+(B||"obj")+") {\n"+(B?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(p?", __e = _.escape":"")+(g?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+y+"return __p\n}";var z=La(function(){return J(c,L+"return "+y).apply(f,l)});if(z.source=y,Xi(z))throw z;return z},o.times=function Wd(t,e){if((t=k(t))<1||t>It)return[];var n=st,s=Lt(t,st);e=N(e),t-=st;for(var a=ci(s,e);++n<t;)e(n);return a},o.toFinite=Me,o.toInteger=k,o.toLength=Aa,o.toLower=function hd(t){return Q(t).toLowerCase()},o.toNumber=ce,o.toSafeInteger=function hp(t){return t?on(k(t),-It,It):0===t?t:0},o.toString=Q,o.toUpper=function fd(t){return Q(t).toUpperCase()},o.trim=function ld(t,e,n){if((t=Q(t))&&(n||e===f))return ks(t);if(!t||!(e=Xt(e)))return t;var s=me(t),a=me(e);return Xe(s,zs(s,a),Ks(s,a)+1).join("")},o.trimEnd=function pd(t,e,n){if((t=Q(t))&&(n||e===f))return t.slice(0,Ys(t)+1);if(!t||!(e=Xt(e)))return t;var s=me(t);return Xe(s,0,Ks(s,me(e))+1).join("")},o.trimStart=function dd(t,e,n){if((t=Q(t))&&(n||e===f))return t.replace(yt,"");if(!t||!(e=Xt(e)))return t;var s=me(t);return Xe(s,zs(s,me(e))).join("")},o.truncate=function gd(t,e){var n=30,s="...";if(ft(e)){var a="separator"in e?e.separator:a;n="length"in e?k(e.length):n,s="omission"in e?Xt(e.omission):s}var c=(t=Q(t)).length;if(_n(t)){var l=me(t);c=l.length}if(n>=c)return t;var p=n-Sn(s);if(p<1)return s;var g=l?Xe(l,0,p).join(""):t.slice(0,p);if(a===f)return g+s;if(l&&(p+=g.length-p),qi(a)){if(t.slice(p).search(a)){var x,A=g;for(a.global||(a=li(a.source,Q(cs.exec(a))+"g")),a.lastIndex=0;x=a.exec(A);)var y=x.index;g=g.slice(0,y===f?p:y)}}else if(t.indexOf(Xt(a),p)!=p){var E=g.lastIndexOf(a);E>-1&&(g=g.slice(0,E))}return g+s},o.unescape=function md(t){return(t=Q(t))&&r.test(t)?t.replace(qr,Ko):t},o.uniqueId=function Ud(t){var e=++Jo;return Q(t)+e},o.upperCase=vd,o.upperFirst=ji,o.each=ca,o.eachRight=ha,o.first=sa,ns(o,function(){var t={};return xe(o,function(e,n){j.call(o.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),o.VERSION="4.17.21",re(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){o[t].placeholder=o}),re(["drop","take"],function(t,e){Z.prototype[t]=function(n){n=n===f?1:Tt(k(n),0);var s=this.__filtered__&&!e?new Z(this):this.clone();return s.__filtered__?s.__takeCount__=Lt(n,s.__takeCount__):s.__views__.push({size:Lt(n,st),type:t+(s.__dir__<0?"Right":"")}),s},Z.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}}),re(["filter","map","takeWhile"],function(t,e){var n=e+1,s=1==n||3==n;Z.prototype[t]=function(a){var c=this.clone();return c.__iteratees__.push({iteratee:N(a,3),type:n}),c.__filtered__=c.__filtered__||s,c}}),re(["head","last"],function(t,e){var n="take"+(e?"Right":"");Z.prototype[t]=function(){return this[n](1).value()[0]}}),re(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");Z.prototype[t]=function(){return this.__filtered__?new Z(this):this[n](1)}}),Z.prototype.compact=function(){return this.filter(Kt)},Z.prototype.find=function(t){return this.filter(t).head()},Z.prototype.findLast=function(t){return this.reverse().find(t)},Z.prototype.invokeMap=$(function(t,e){return"function"==typeof t?new Z(this):this.map(function(n){return Yn(n,t,e)})}),Z.prototype.reject=function(t){return this.filter(zr(N(t)))},Z.prototype.slice=function(t,e){t=k(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Z(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==f&&(n=(e=k(e))<0?n.dropRight(-e):n.take(e-t)),n)},Z.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Z.prototype.toArray=function(){return this.take(st)},xe(Z.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),s=/^(?:head|last)$/.test(e),a=o[s?"take"+("last"==e?"Right":""):e],c=s||/^find/.test(e);a&&(o.prototype[e]=function(){var l=this.__wrapped__,p=s?[1]:arguments,g=l instanceof Z,x=p[0],A=g||G(l),y=function(Y){var X=a.apply(o,ze([Y],p));return s&&E?X[0]:X};A&&n&&"function"==typeof x&&1!=x.length&&(g=A=!1);var E=this.__chain__,B=c&&!E,z=g&&!this.__actions__.length;if(!c&&A){l=z?l:new Z(this);var H=t.apply(l,p);return H.__actions__.push({func:Wr,args:[y],thisArg:f}),new se(H,E)}return B&&z?t.apply(this,p):(H=this.thru(y),B?s?H.value()[0]:H.value():H)})}),re(["pop","push","shift","sort","splice","unshift"],function(t){var e=fr[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",s=/^(?:pop|shift)$/.test(t);o.prototype[t]=function(){var a=arguments;if(s&&!this.__chain__){var c=this.value();return e.apply(G(c)?c:[],a)}return this[n](function(l){return e.apply(G(l)?l:[],a)})}}),xe(Z.prototype,function(t,e){var n=o[e];if(n){var s=n.name+"";j.call(xn,s)||(xn[s]=[]),xn[s].push({name:e,func:n})}}),xn[br(f,2).name]=[{name:"wrapper",func:f}],Z.prototype.clone=function gc(){var t=new Z(this.__wrapped__);return t.__actions__=Ut(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ut(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ut(this.__views__),t},Z.prototype.reverse=function mc(){if(this.__filtered__){var t=new Z(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Z.prototype.value=function vc(){var t=this.__wrapped__.value(),e=this.__dir__,n=G(t),s=e<0,a=n?t.length:0,c=function Oh(t,e,n){for(var s=-1,a=n.length;++s<a;){var c=n[s],l=c.size;switch(c.type){case"drop":t+=l;break;case"dropRight":e-=l;break;case"take":e=Lt(e,t+l);break;case"takeRight":t=Tt(t,e-l)}}return{start:t,end:e}}(0,a,this.__views__),l=c.start,p=c.end,g=p-l,x=s?p:l-1,A=this.__iteratees__,y=A.length,E=0,L=Lt(g,this.__takeCount__);if(!n||!s&&a==g&&L==g)return yu(t,this.__actions__);var B=[];t:for(;g--&&E<L;){for(var z=-1,H=t[x+=e];++z<y;){var Y=A[z],Jt=Y.type,Ft=(0,Y.iteratee)(H);if(2==Jt)H=Ft;else if(!Ft){if(1==Jt)continue t;break t}}B[E++]=H}return B},o.prototype.at=Zf,o.prototype.chain=function Vf(){return oa(this)},o.prototype.commit=function Xf(){return new se(this.value(),this.__chain__)},o.prototype.next=function qf(){this.__values__===f&&(this.__values__=xa(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?f:this.__values__[this.__index__++]}},o.prototype.plant=function Qf(t){for(var e,n=this;n instanceof yr;){var s=ea(n);s.__index__=0,s.__values__=f,e?a.__wrapped__=s:e=s;var a=s;n=n.__wrapped__}return a.__wrapped__=t,e},o.prototype.reverse=function jf(){var t=this.__wrapped__;if(t instanceof Z){var e=t;return this.__actions__.length&&(e=new Z(this)),(e=e.reverse()).__actions__.push({func:Wr,args:[$i],thisArg:f}),new se(e,this.__chain__)}return this.thru($i)},o.prototype.toJSON=o.prototype.valueOf=o.prototype.value=function tl(){return yu(this.__wrapped__,this.__actions__)},o.prototype.first=o.prototype.head,Wn&&(o.prototype[Wn]=function Jf(){return this}),o}();Rt._=hr,(tt=function(){return hr}.call(he,Wt,he,we))!==f&&(we.exports=tt)}.call(this)},944:(we,he,Wt)=>{"use strict";Wt.d(he,{Ef:()=>U,GC:()=>Pt,GN:()=>Xr,Gi:()=>We,If:()=>Ge,KK:()=>Fe,M5:()=>at,O0:()=>gn,W:()=>ge,WM:()=>Dt,WU:()=>Ln,YF:()=>Ce,YR:()=>De,Zq:()=>fe,_O:()=>st,aE:()=>pe,e_:()=>lt,gh:()=>$t,im:()=>At,oF:()=>de,oN:()=>rn,uY:()=>er});var tt=Wt(940),f=function(w){return w[w.fresh=1]="fresh",w[w.brackish=2]="brackish",w[w.salt=3]="salt",w}(f||{});let wt=(()=>{class w{static#t=this.fresh=1e3;static#e=this.brackish=1020;static#n=this.salt=1030}return w})(),ht=(()=>{class w{static#t=this.standard=9.80665}return w})(),q=(()=>{class w{static#t=this.coefficient=1e5;static pascalToBar(i){return i/w.coefficient}static barToPascal(i){return i*w.coefficient}}return w})();class _{static#t=this.standard=1.01325;static#e=this.standardPascals=q.barToPascal(_.standard);static#n=this.gasConstant=8.31432;static#r=this.temperature=288.15;static#i=this.lapsRate=-.0065;static#s=this.molarMass=.0289644;static#u=this.exponent=ht.standard*_.molarMass/(_.gasConstant*_.lapsRate);static#a=this.invertedExponent=1/_.exponent;static pressure(r){return _.standardPascals*Math.pow(_.temperature/(_.temperature+_.lapsRate*r),_.exponent)}static altitude(r){if(r>=_.standardPascals)return 0;const u=Math.pow(r/_.standardPascals,_.invertedExponent);return(_.temperature/u-_.temperature)/_.lapsRate}}class T{constructor(r,i,u,h,m,D){this._n2HalfTime=r,this._n2A=i,this._n2B=u,this._heHalfTime=h,this._heA=m,this._heB=D}get n2HalfTime(){return this._n2HalfTime}get n2A(){return this._n2A}get n2B(){return this._n2B}get heHalfTime(){return this._heHalfTime}get heA(){return this._heA}get heB(){return this._heB}}class F{static#t=this.buhlmannZHL16C=[new T(5,1.1696,.5578,1.88,1.6189,.477),new T(8,1,.6514,3.02,1.383,.5747),new T(12.5,.8618,.7222,4.72,1.1919,.6527),new T(18.5,.7562,.7826,6.99,1.0458,.7223),new T(27,.62,.8125,10.21,.922,.7582),new T(38.3,.5043,.8434,14.48,.8205,.7957),new T(54.3,.441,.8693,20.53,.7305,.8279),new T(77,.4,.891,29.11,.6502,.8553),new T(109,.375,.9092,41.2,.595,.8757),new T(146,.35,.9222,55.19,.5545,.8903),new T(187,.3295,.9319,70.69,.5333,.8997),new T(239,.3065,.9403,90.34,.5189,.9073),new T(305,.2835,.9477,115.29,.5181,.9122),new T(390,.261,.9544,147.42,.5176,.9171),new T(498,.248,.9602,188.24,.5172,.9217),new T(635,.2327,.9653,240.03,.5119,.9267)]}class C{static fix(r){return Number(r.toFixed(10))}static roundTwoDecimals(r){return C.round(r,2)}static round(r,i=0){return C.adapt(Math.round,r,i)}static floorTwoDecimals(r){return C.floor(r,2)}static floor(r,i=0){return C.adapt(Math.floor,r,i)}static ceilTwoDecimals(r){return C.ceil(r,2)}static ceil(r,i=0){return C.adapt(Math.ceil,r,i)}static ceilDistance(r,i){return C.adaptDistance(Math.ceil,r,i)}static roundDistance(r,i){return C.adaptDistance(Math.round,r,i)}static floorDistance(r,i){return C.adaptDistance(Math.floor,r,i)}static adapt(r,i,u){const h=Math.pow(10,u);return r(i*h)/h}static adaptDistance(r,i,u){return r(i/u)*u}}class at{constructor(r){this.options=r}create(){switch(this.options.salinity){case f.salt:return et.forSaltWater(this.options.altitude);case f.brackish:return et.forBrackishWater(this.options.altitude);default:return et.forFreshWater(this.options.altitude)}}}class et{constructor(r,i){this.density=r,this._gravity=ht.standard;const u=_.pressure(i);this._surfacePressure=q.pascalToBar(u)}get surfacePressure(){return this._surfacePressure}static forSaltWater(r=0){return new et(wt.salt,r)}static forBrackishWater(r=0){return new et(wt.brackish,r)}static forFreshWater(r=0){return new et(wt.fresh,r)}static simple(){const r=new et(wt.fresh,0);return r._surfacePressure=1,r._gravity=10,r}toBar(r){return q.pascalToBar(r*(this.density*this._gravity))+this._surfacePressure}fromBar(r){if(r<this._surfacePressure)throw new Error("Lower pressure than altitude isn`t convertible to depth.");const i=this.density*this._gravity;return q.barToPascal(r-this._surfacePressure)/i}}var xt=function(w){return w[w.never=1]="never",w[w.auto=2]="auto",w[w.always=3]="always",w}(xt||{});class M{static#t=this.altitude=0;static#e=this.saltWater=f.salt;static#n=this.roundStopsToMinutes=!1;static#r=this.gasSwitchDuration=2;static#i=this.problemSolvingDuration=1;static#s=this.lastStopDepth=3;static#u=this.lastStopDepthRecre=5;static#a=this.safetyStopRecre=xt.auto;static#o=this.decoStopDistance=3;static#c=this.minimumAutoStopDepth=10;static#h=this.addSafetyStop=!0;static#f=this.maxEND=30;static#l=this.oxygenNarcotic=!0;static#p=this.ascentSpeed6m=3;static#d=this.ascentSpeed50percTo6m=6;static#g=this.ascentSpeed50perc=9;static#m=this.descentSpeed=18;static#v=this.gfLow=.4;static#_=this.gfHigh=.85;static#S=this.maxPpO2=1.4;static#w=this.maxDecoPpO2=1.6;static setMediumConservatism(r){r.gfLow=M.gfLow,r.gfHigh=M.gfHigh}static useGeneralRecommended(r){r.safetyStop=M.safetyStopRecre,r.roundStopsToMinutes=M.roundStopsToMinutes,r.gasSwitchDuration=M.gasSwitchDuration,r.oxygenNarcotic=M.oxygenNarcotic}}class fe{constructor(r=M.gfLow,i=M.gfHigh,u=M.maxPpO2,h=M.maxDecoPpO2,m=M.saltWater){this.gfLow=r,this.gfHigh=i,this.maxPpO2=u,this.maxDecoPpO2=h,this.salinity=m,this.altitude=M.altitude,this.roundStopsToMinutes=M.roundStopsToMinutes,this.gasSwitchDuration=M.gasSwitchDuration,this.safetyStop=M.safetyStopRecre,this.lastStopDepth=M.lastStopDepth,this.decoStopDistance=M.decoStopDistance,this.minimumAutoStopDepth=M.minimumAutoStopDepth,this.maxEND=M.maxEND,this.oxygenNarcotic=!0,this.ascentSpeed6m=M.ascentSpeed6m,this.ascentSpeed50percTo6m=M.ascentSpeed50percTo6m,this.ascentSpeed50perc=M.ascentSpeed50perc,this.descentSpeed=M.descentSpeed,this.problemSolvingDuration=M.problemSolvingDuration,this.gfLow=r||M.gfLow,this.gfHigh=i||M.gfHigh,this.maxPpO2=u||M.maxPpO2,this.maxDecoPpO2=h||M.maxDecoPpO2,this.salinity=m||M.saltWater}loadFrom(r){this.gfLow=r.gfLow||this.gfLow,this.gfHigh=r.gfHigh||this.gfHigh,this.maxPpO2=r.maxPpO2||this.maxPpO2,this.maxDecoPpO2=r.maxDecoPpO2||this.maxDecoPpO2,this.oxygenNarcotic=!!r.oxygenNarcotic,this.salinity=r.salinity||this.salinity,this.altitude=r.altitude||0===r.altitude?r.altitude:this.altitude,this.roundStopsToMinutes=!!r.roundStopsToMinutes,this.gasSwitchDuration=r.gasSwitchDuration||this.gasSwitchDuration,this.problemSolvingDuration=r.problemSolvingDuration||this.problemSolvingDuration,this.lastStopDepth=r.lastStopDepth||this.lastStopDepth,this.decoStopDistance=r.decoStopDistance||this.decoStopDistance,this.minimumAutoStopDepth=r.minimumAutoStopDepth||this.minimumAutoStopDepth,this.safetyStop=r.safetyStop||this.safetyStop,this.maxEND=r.maxEND||this.maxEND,this.ascentSpeed6m=r.ascentSpeed6m||this.ascentSpeed6m,this.ascentSpeed50percTo6m=r.ascentSpeed50percTo6m||this.ascentSpeed50percTo6m,this.ascentSpeed50perc=r.ascentSpeed50perc||this.ascentSpeed50perc,this.descentSpeed=r.descentSpeed||this.descentSpeed}}class mt{constructor(r,i){this.depthConverter=r,this.options=i}toDecoStop(r){const i=this.depthConverter.fromBar(r);return C.roundDistance(i,this.options.decoStopDistance)}nextStop(r){if(r<=this.options.lastStopDepth)return 0;const i=C.floorDistance(r,this.options.decoStopDistance);if(i!==r)return i;const u=r-this.options.decoStopDistance;return u<=this.options.lastStopDepth?this.options.lastStopDepth:u}addSafetyStop(r,i){return(this.options.safetyStop===xt.always||this.options.safetyStop===xt.auto&&i>this.options.minimumAutoStopDepth)&&r===this.options.lastStopDepth}}var vt=function(w){return w[w.noAction=0]="noAction",w[w.error=1]="error",w[w.gasSwitch=2]="gasSwitch",w[w.noDecoEnd=3]="noDecoEnd",w[w.lowPpO2=4]="lowPpO2",w[w.highPpO2=5]="highPpO2",w[w.highAscentSpeed=6]="highAscentSpeed",w[w.highDescentSpeed=7]="highDescentSpeed",w[w.brokenCeiling=8]="brokenCeiling",w[w.maxEndExceeded=9]="maxEndExceeded",w[w.switchToHigherN2=10]="switchToHigherN2",w[w.highGasDensity=11]="highGasDensity",w[w.safetyStop=12]="safetyStop",w}(vt||{});class At{constructor(r,i,u,h,m){this.timeStamp=r,this.depth=i,this.type=u,this.message=h,this.gas=m}static create(r,i,u,h){return new At(i,u,r,"",h)}static createError(r){return new At(0,0,vt.error,r)}}class rt{static createError(r){return At.createError(r)}static createSafetyStopStart(r,i){return At.create(vt.safetyStop,r,i)}static createNoDecoEnd(r,i){return At.create(vt.noDecoEnd,r,i)}static createGasSwitch(r,i,u){return At.create(vt.gasSwitch,r,i,u)}static createLowPpO2(r,i){return At.create(vt.lowPpO2,r,i)}static createHighPpO2(r,i){return At.create(vt.highPpO2,r,i)}static createHighAscentSpeed(r,i){return At.create(vt.highAscentSpeed,r,i)}static createHighDescentSpeed(r,i){return At.create(vt.highDescentSpeed,r,i)}static createBrokenCeiling(r,i){return At.create(vt.brokenCeiling,r,i)}static createMaxEndExceeded(r,i,u){return At.create(vt.maxEndExceeded,r,i,u)}static createSwitchToHigherN2(r,i,u){return At.create(vt.switchToHigherN2,r,i,u)}static createHighDensity(r,i,u){return At.create(vt.highGasDensity,r,i,u)}}class Ce{constructor(){this.items=[]}add(r){this.items.push(r)}}class jt{constructor(r,i){this.time=r,this.depth=i}get notAtSurface(){return this.depth>0}static isDecoDive(r){for(const i of r)if(i.notAtSurface)return!0;return!1}}class $t{constructor(r,i,u,h){this.seg=r,this.ceil=i,this.tiss=u,this.err=h}get segments(){return this.seg}get ceilings(){return this.ceil}get tissues(){return this.tiss}get errors(){return this.err}static fromErrors(r,i){return new $t(r,[],[],i)}static fromProfile(r,i,u){return new $t(r,i,u,[])}}class le{static validate(r){const i=[];if(!r.hasBottomGas){const u=rt.createError("At least one bottom gas has to be defined.");return i.push(u),i}return i}}class Je{constructor(r,i){this.gases=r,this.depthConverter=et.simple(),this.depthLevels=new mt(this.depthConverter,i)}bestGas(r){const i=this.depthConverter.toBar(r.currentDepth),u=this.depthConverter.toBar(r.maxEnd);let h=r.currentGas;return this.gases.all.forEach(m=>{const D=m.mod(r.maxDecoPpO2),P=this.depthLevels.toDecoStop(D),I=m.end(i,r.oxygenNarcotic);r.currentDepth<=P&&I<=u&&(!h||h.fO2<m.fO2)&&(h=m)}),h}}class pe{constructor(){this.bottomGases=[]}get all(){return this.bottomGases.slice()}get hasBottomGas(){return this.bottomGases.length>=1}static fromTanks(r){const i=new pe;return r.forEach(u=>{i.add(u.gas)}),i}add(r){this.bottomGases.push(r)}isRegistered(r){return this.bottomGases.includes(r)}}class Dt{constructor(r,i){if(this._fO2=r,this._fHe=i,this.contentExceeds100percent())throw new Error("O2 + He can't exceed 100 %")}get fN2(){return 1-this._fO2-this._fHe}get fO2(){return this._fO2}get fHe(){return this._fHe}get name(){return K.nameFor(this.fO2,this.fHe)}set fO2(r){this._fO2=r>1?1:r,this.contentExceeds100percent()&&(this._fHe=this.countRemaining(this._fO2))}set fHe(r){this._fHe=r>.99?.99:r,this.contentExceeds100percent()&&(this._fO2=this.countRemaining(this._fHe))}copy(){return new Dt(this._fO2,this._fHe)}mod(r){return Ot.mod(r,this._fO2)}end(r,i){return Ot.end(r,this.fN2,i?this._fO2:0)}mnd(r,i){return Ot.mnd(r,this.fN2,i?this._fO2:0)}ceiling(r){return Ot.ceiling(this._fO2,r)}compositionEquals(r){return!!r&&this._fO2===r._fO2&&this._fHe===r._fHe}contentCode(){return C.round(1e4*this._fO2*1e4)+C.round(1e4*this._fHe)}assignStandardGas(r){const i=K.byName(r);i&&(this.fO2=i.fO2,this.fHe=i.fHe)}contentExceeds100percent(){return this._fO2+this._fHe>1}countRemaining(r){return C.round(1-r,5)}}class K{static#t=this.o2InAir=.209;static#e=this.nitroxInAir=1-K.o2InAir;static#n=this.oxygen=new Dt(1,0);static#r=this.ean50=new Dt(.5,0);static#i=this.ean38=new Dt(.38,0);static#s=this.ean36=new Dt(.36,0);static#u=this.ean32=new Dt(.32,0);static#a=this.trimix3525=new Dt(.35,.25);static#o=this.trimix2525=new Dt(.25,.25);static#c=this.air=new Dt(K.o2InAir,0);static#h=this.trimix2135=new Dt(.21,.35);static#f=this.trimix1845=new Dt(.18,.45);static#l=this.trimix1555=new Dt(.15,.55);static#p=this.trimix1260=new Dt(.12,.6);static#d=this.trimix1070=new Dt(.1,.7);static#g=this.airName="Air";static#m=this.oxygenName="Oxygen";static#v=this.namesRegEx=/[EAN](?<fO2>\d{2})|(?<fO2b>\d{2})\/(?<fHe>\d{2})/i;static#_=this.map=new Map([[K.airName,K.air],["EAN32",K.ean32],["EAN36",K.ean36],["EAN38",K.ean38],["EAN50",K.ean50],[K.oxygenName,K.oxygen],["Helitrox 35/25",K.trimix3525],["Helitrox 25/25",K.trimix2525],["Helitrox 21/35",K.trimix2135],["Trimix 18/45",K.trimix1845],["Trimix 15/55",K.trimix1555],["Trimix 12/60",K.trimix1260],["Trimix 10/70",K.trimix1070]]);static nitroxNames(){return K.allNames().slice(0,6)}static allNames(){return Array.from(K.map.keys())}static nameFor(r,i=0){const h=C.round(100*r),m=C.round(100*i);return h<=0?"":m<=0?h>=100?K.oxygenName:21===h?K.airName:"EAN"+h.toString():`${h>=21?"Helitrox":"Trimix"} ${h.toString()}/${m.toString()}`}static byName(r){const i=[...K.map.keys()],u=tt(i).filter(m=>m.toLowerCase()===r.toLowerCase()).first();if(u)return K.map.get(u)??null;const h=K.namesRegEx.exec(r);if(h){if(h[1]){const m=Number(h[1])/100;if(m>0)return new Dt(m,0)}if(h[2]&&h[3]){const m=Number(h[2])/100,D=Number(h[3])/100;if(m>0&&D>0)return new Dt(m,D)}}return null}}class Ot{static partialPressure(r,i){return r*i}static mod(r,i){return r/i}static bestMix(r,i,u){const m=r/u.toBar(i);return m>1?1:m}static ead(r,i,u=K.o2InAir){const m=1-u;return Ot.end(i,1-r)/m}static end(r,i,u=0){return r*this.narcoticIndex(u,i)}static mnd(r,i,u=0){return r/this.narcoticIndex(u,i)}static ceiling(r,i){const m=.18/r*i;return m<i?i:m}static narcoticIndex(r,i=0){return i+r}}class Be extends T{constructor(r,i){super(r.n2HalfTime,r.n2A,r.n2B,r.heHalfTime,r.heA,r.heB),this._pN2=0,this._pHe=0,this._pTotal=0,this._a=0,this._b=0;const u=this.pressureInLungs(i);this._pN2=Ot.partialPressure(u,K.nitroxInAir),this._pHe=0,this.updateTotal()}get pN2(){return this._pN2}get pHe(){return this._pHe}get pTotal(){return this._pTotal}get a(){return this._a}get b(){return this._b}static fromCurrent(r,i){const u=new Be(i,1);return u._pN2=r.pN2,u._pHe=r.pHe,u._a=r.a,u._b=r.b,u.updateTotal(),u}copy(){return Be.fromCurrent(this,this)}ceiling(r){return(this.pTotal-this.a*r)/(r/this.b+1-r)}load(r,i){this._pN2=this.loadGas(r,i.fN2,this.pN2,this.n2HalfTime),this._pHe=this.loadGas(r,i.fHe,this.pHe,this.heHalfTime);const u=this.pTotal;return this.updateTotal(),this._a=(this.n2A*this.pN2+this.heA*this.pHe)/this.pTotal,this._b=(this.n2B*this.pN2+this.heB*this.pHe)/this.pTotal,this.pTotal-u}loadGas(r,i,u,h){const m=r.speed*i,D=this.pressureInLungs(r.startPressure)*i;return this.schreinerEquation(u,D,r.duration,h,m)}pressureInLungs(r){return r-.0627}schreinerEquation(r,i,u,h,m){const P=.01155245301/h;return i+m*(u-1/P)-(i-r-m/P)*Math.exp(-P*u)}updateTotal(){this._pTotal=this.pN2+this.pHe}}class te{constructor(r){this._compartments=r}get compartments(){return this._compartments}static createLoaded(r){if(r.length!==F.buhlmannZHL16C.length)throw new Error("Provided incompatible count of tissues");const i=tt(r).map((u,h)=>Be.fromCurrent(u,F.buhlmannZHL16C[h])).value();return new te(i)}static create(r){const i=[];for(let u=0;u<F.buhlmannZHL16C.length;u++){const m=new Be(F.buhlmannZHL16C[u],r);i.push(m)}return new te(i)}static createLoadedAt(r){const i=_.pressure(r),u=q.pascalToBar(i);return te.create(u).finalState()}static copy(r){const i=[];for(let u=0;u<r.length;u++){const h=r[u].copy();i.push(h)}return i}restoreFrom(r){this._compartments=te.copy(r)}finalState(){return te.copy(this._compartments)}ceiling(r){let i=0;for(let u=0;u<this._compartments.length;u++){const h=this._compartments[u].ceiling(r);h>i&&(i=h)}return i}load(r,i){let u=0;for(let h=0;h<this._compartments.length;h++)u+=this._compartments[h].load(r,i);return u}}class Qe{static validTissue(r){return r.pN2>0&&r.pHe>=0&&r.a>=0&&r.b>=0}static validCount(r){return!!r&&r.length===F.buhlmannZHL16C.length}static valid(r){return!!Qe.validCount(r)&&tt(r).every(u=>Qe.validTissue(u))}}class U{static#t=this.oneSecond=1;static#e=this.oneMinute=60;static#n=this.oneHour=60*U.oneMinute;static#r=this.oneDay=24*U.oneHour;static#i=this.safetyStopDuration=3*U.oneMinute;static toSeconds(r){return r*U.oneMinute}static toMinutes(r){return r/U.oneMinute}static toHours(r){return r/U.oneHour}}class It{static speed(r,i){return It.speedByXChange(i.start,i.end,r.end-r.start)}static speedByXChange(r,i,u){return(i-r)/u}static yValueAt(r,i,u){return r+i*u}static xValueAtAbsolute(r,i,u){const h=this.speed(r,i);return r.start+It.xValueAt(i.start,h,u)}static xValueAt(r,i,u){return 0===i?0:(u-r)/i}}class On{static validate(r,i){const u=[];if(!r.any()){const h=rt.createError("There needs to be at least one segment at depth.");u.push(h)}return r.withAll(h=>{On.validateRegisteredGas(u,i,h)}),u}static validateRegisteredGas(r,i,u){if(!i.isRegistered(u.gas)){const m=rt.createError(`Segment ${u.startDepth}-${u.endDepth} has gas not registered in gases.`);r.push(m)}}}class Pt{constructor(r,i,u,h){this.startDepth=r,this.endDepth=i,this._gas=u,this.duration=h}get gas(){return this._gas}get tank(){return this._tank}get speed(){return Pt.speed(this.startDepth,this.endDepth,this.duration)}get averageDepth(){return(this.startDepth+this.endDepth)/2}set tank(r){this._tank=r,r&&(this._gas=r.gas)}static from(r){const i=new Pt(r.startDepth,r.endDepth,r._gas,r.duration);return i.tank=r.tank,i}static speed(r,i,u){return It.speedByXChange(r,i,u)}static depthAt(r,i,u){return It.yValueAt(r,i,u)}static timeAt(r,i,u){return It.xValueAt(r,i,u)}contentEquals(r){return this.speed===r.speed&&this._gas===r._gas}depthAt(r){return Pt.depthAt(this.startDepth,this.speed,r)}mergeFrom(r){this.duration+=r.duration,this.endDepth=r.endDepth}}class st{constructor(){this.segments=[],this._maxDepth=0}get startAscentIndex(){return this.deepestPart().length}get startAscentTime(){const r=this.deepestPart();return st.duration(r)}get length(){return this.segments.length}get items(){return this.segments.slice()}get maxDepth(){return this._maxDepth}get currentDepth(){return this.any()?this.last().endDepth:0}get duration(){return st.duration(this.segments)}static from(r){return st.fromCollection(r.segments)}static fromCollection(r){const i=new st;return r.forEach(u=>{const h=Pt.from(u);i.segments.push(h),i.updateMaxDepth(h)}),i}static duration(r){let i=0;for(const u of r)i+=u.duration;return i}static averageDepth(r){if(r.length<=0)return 0;let i=0,u=0;return r.forEach(h=>{if(h.duration>0){const m=h.averageDepth*h.duration+u*i;u+=h.duration,i=m/u}}),i}add(r,i,u,h){const m=new Pt(r,i,u,h);return this.segments.push(m),this.updateMaxDepth(m),m}addFlat(r,i,u){return this.add(r,r,i,u)}addChangeTo(r,i,u){return this.add(this.currentDepth,r,i,u)}mergeFlat(r=0){if(r<0)return this.items;const i=[];for(let u=this.segments.length-1;u>r;u--){const h=this.segments[u-1],m=this.segments[u];h.contentEquals(m)&&(h.mergeFrom(m),i.push(m))}return this.segments=this.segments.filter(u=>!i.includes(u)),this.items}remove(r){this.segments=this.segments.filter(i=>i!==r),this.fixStartDepths()}cutDown(r){this.segments=this.segments.slice(0,this.segments.length-r),this.fixStartDepths()}withAll(r){for(let i=0;i<this.segments.length;i++)r(this.segments[i])}any(){return 0!==this.segments.length}last(){return this.segments[this.segments.length-1]}copy(){return st.from(this)}fixStartDepths(){this.any()&&(this.segments[0].startDepth=0);for(let r=0;r<this.segments.length-1;r++){const u=this.segments[r+1];u.startDepth=this.segments[r].endDepth,this.updateMaxDepth(u)}}deepestPart(){for(let r=this.segments.length-1;r>=0;r--)if(this.segments[r].endDepth===this.maxDepth)return this.items.slice(0,r+1);return[]}updateMaxDepth(r){r.endDepth>this._maxDepth&&(this._maxDepth=r.endDepth)}}let tr=(()=>{class w{static#t=this.minimalStep=1;constructor(){}search(i){if(i.maxValue<i.initialValue)throw Error("Max value cant be smaller than initial value");if(i.estimationStep>i.maxValue-i.initialValue)throw Error("Step cant be larger than range");const u=this.findInitialLimit(i);return this.searchInsideInterval(i,u)}searchInsideInterval(i,u){for(;u.right-u.left>w.minimalStep;){let h=u.left+(u.right-u.left)/2;h=Math.round(h),i.doWork(h),i.meetsCondition()?u.left=h:u.right=h}return u.left}findInitialLimit(i){let u=i.initialValue;for(i.doWork(u);i.meetsCondition()&&u<=i.maxValue;)u+=i.estimationStep,i.doWork(u);let h=u-i.estimationStep;return h=h<i.initialValue?i.initialValue:h,{left:h,right:u>i.maxValue?i.maxValue:u}}}return w})();class Zr{constructor(r,i,u){this.depthConverter=r,this.options=i,this.tissues=u,this.lowestCeiling=0,this.lowestCeiling=this.depthConverter.surfacePressure+1}ceiling(){let r=this.tolerated();return r<this.depthConverter.surfacePressure&&(r=this.depthConverter.surfacePressure),this.depthConverter.fromBar(r)}toleratedTissues(r,i,u,h){const m=this.tissues.compartments;let D=0;for(let P=0;P<m.length;P++){const I=m[P];let b=D;(r/I.b+I.a-r)*u+r<(i/I.b+I.a-i)*h+i&&(b=(-I.a*I.b*(u*i-h*r)-(1-I.b)*(u-h)*i*r+I.b*(i-r)*I.pTotal)/(-I.a*I.b*(u-h)+(1-I.b)*(h*i-u*r)+I.b*(i-r))),b>=D&&(D=b)}return D}tolerated(){const r=this.options.gfLow,i=this.options.gfHigh,u=this.depthConverter.surfacePressure,h=this.tissues.ceiling(r);return h>this.lowestCeiling&&(this.lowestCeiling=h),this.toleratedTissues(u,this.lowestCeiling,i,r)}}let tn=(()=>{class w{static#t=this.sixMeters=6;constructor(i){this.options=i,this.averageDepth=0}markAverageDepth(i){const u=i.deepestPart();this.averageDepth=st.averageDepth(u)}ascent(i){return i>w.sixMeters?i>this.averageDepth/2?this.options.ascentSpeed50perc:this.options.ascentSpeed50percTo6m:this.options.ascentSpeed6m}}return w})();class In{constructor(r,i,u,h,m){this.gases=r,this.segments=i,this.options=u,this.depthConverter=h,this.ceilings=[],this.runTime=0,this.tissues=te.createLoaded(m),this.gradients=new Zr(h,u,this.tissues);const D=i.last();this.currentGas=D.gas,this.bestGasOptions={currentDepth:this.currentDepth,maxDecoPpO2:this.options.maxDecoPpO2,oxygenNarcotic:this.options.oxygenNarcotic,maxEnd:this.options.maxEND,currentGas:this.currentGas},this.speeds=new tn(this.options),this.levels=new mt(h,u),this.gasSource=new Je(r,u)}get ascentSpeed(){return this.speeds.ascent(this.currentDepth)}get currentDepth(){return this.segments.currentDepth}get ambientPressure(){return this.depthConverter.toBar(this.currentDepth)}get addSafetyStop(){return this.levels.addSafetyStop(this.currentDepth,this.segments.maxDepth)}get decoStopDuration(){return this.options.roundStopsToMinutes?U.oneMinute:U.oneSecond}get isAtSurface(){return 0===this.segments.last().endDepth}markAverageDepth(){this.speeds.markAverageDepth(this.segments)}addCeiling(){const r=this.ceiling(),i=new jt(this.runTime,r);this.ceilings.push(i)}ceiling(){return this.gradients.ceiling()}bestDecoGas(){return this.bestGasOptions.currentDepth=this.currentDepth,this.bestGasOptions.currentGas=this.currentGas,this.gasSource.bestGas(this.bestGasOptions)}createMemento(){return{runTime:this.runTime,tissues:te.copy(this.tissues.compartments),ceilings:this.ceilings.length,segments:this.segments.length,lowestCeiling:this.gradients.lowestCeiling}}restore(r){this.tissues.restoreFrom(r.tissues),this.gradients.lowestCeiling=r.lowestCeiling,this.runTime=r.runTime,this.ceilings=this.ceilings.slice(0,r.ceilings),this.segments.cutDown(this.segments.length-r.segments)}nextStop(r){return this.levels.nextStop(r)}shouldSwitchTo(r){return r&&!this.currentGas.compositionEquals(r)}addGasSwitchSegment(){return this.addStopSegment(this.options.gasSwitchDuration*U.oneMinute)}addDecoStopSegment(){return this.addStopSegment(0)}addSafetyStopSegment(){return this.addStopSegment(U.safetyStopDuration)}addAscentSegment(r,i){return this.segments.add(this.currentDepth,r,this.currentGas,i)}addStopSegment(r){return this.segments.add(this.currentDepth,this.currentDepth,this.currentGas,r)}}const He=(w,r)=>w/U.toMinutes(r);class Fe{constructor(r,i){this.current=r,this.surfaceInterval=i}}class Vr{constructor(r,i,u){this.previousTissues=r,this.altitude=i,this.surfaceInterval=u}}class de{constructor(r,i,u,h){this._segments=r,this._gases=i,this._options=u,this._surface=this.resolveSurfaceParameters(h)}get segments(){return this._segments}get gases(){return this._gases}get options(){return this._options}get surfaceInterval(){return new Vr(this._surface.current,this.options.altitude,this._surface.surfaceInterval)}static forSimpleDive(r,i,u,h){const m=new pe;m.add(i);const D=new st,P=He(r,u.descentSpeed);return D.add(0,r,i,P),new de(D,m,u,h)}static forMultilevelDive(r,i,u,h){return new de(r,i,u,h)}resolveSurfaceParameters(r){if(r&&Qe.validCount(r?.current))return r;const i=te.createLoadedAt(this.options.altitude);return new Fe(i,Number.POSITIVE_INFINITY)}}class We{noDecoLimit({segments:r,gases:i,options:u,surfaceInterval:h}){const m=new at(u).create(),D=this.applySurfaceInterval(h),P=new In(i,r,u,m,D);return this.swimNoDecoLimit(r,i,P)}decompression({segments:r,gases:i,options:u,surfaceInterval:h}){const m=new at(u).create(),D=r.copy(),P=this.validate(r,i);if(P.length>0){const ot=D.mergeFlat(r.length);return $t.fromErrors(ot,P)}const I=this.applySurfaceInterval(h),b=new In(i,D,u,m,I);this.swimPlan(b),b.markAverageDepth();let V=b.nextStop(b.currentDepth);for(;V>=0&&!b.isAtSurface;)this.tryGasSwitch(b),this.stayAtDecoStop(b,V),this.stayAtSafetyStop(b),this.ascentToNextStop(b,V),V=b.nextStop(V);const yt=b.segments.mergeFlat(r.length);return $t.fromProfile(yt,b.ceilings,b.tissues.finalState())}applySurfaceInterval({previousTissues:r,altitude:i,surfaceInterval:u}){if(!Qe.valid(r))throw Error("Provided tissues collection isn`t valid. It needs have valid items of 16 compartments ordered by halftime.");if(i<0)throw Error("Altitude needs to be positive number or 0.");if(u<0)throw Error("Surface interval needs to be positive number or 0.");if(u===Number.POSITIVE_INFINITY)return te.createLoadedAt(i);const h=new st,m=h.addFlat(0,K.air,u),D=new pe;D.add(K.air);const P=new fe(1,1,1.6,1.6,f.salt);P.altitude=i;const I=new at(P).create(),b=new In(D,h,P,I,r);return this.swim(b,m),b.tissues.finalState()}tryGasSwitch(r){const i=r.bestDecoGas();if(r.shouldSwitchTo(i)){r.currentGas=i;const u=r.addGasSwitchSegment();this.swim(r,u)}}stayAtDecoStop(r,i){if(this.needsDecoStop(r,i)){const u=r.createMemento(),h={estimationStep:20*U.oneMinute,initialValue:0,maxValue:U.oneDay,doWork:I=>this.swimDecoStop(r,u,I),meetsCondition:()=>this.needsDecoStop(r,i)},D=(new tr).search(h)+U.oneSecond,P=C.ceilDistance(D,r.decoStopDuration);this.swimDecoStop(r,u,P)}}swimDecoStop(r,i,u){r.restore(i);const h=r.addDecoStopSegment();h.duration=u,this.swim(r,h)}needsDecoStop(r,i){if(i>=r.ceiling())return!1;const u=r.createMemento();this.ascentToNextStop(r,i);const h=i<r.ceiling();return r.restore(u),h}stayAtSafetyStop(r){if(r.addSafetyStop){const i=r.addSafetyStopSegment();this.swim(r,i)}}ascentToNextStop(r,i){const h=He(r.currentDepth-i,r.ascentSpeed),m=r.addAscentSegment(i,h);this.swim(r,m)}validate(r,i){const u=On.validate(r,i);if(u.length>0)return u;const h=le.validate(i);return h.length>0?h:[]}swimPlan(r){r.addCeiling(),r.segments.withAll(i=>{this.swim(r,i)})}swim(r,i){let u=i.startDepth;const h=U.oneSecond;for(let m=0;m<i.duration;m+=h){const D=Pt.depthAt(u,i.speed,h),P=new Pt(u,D,i.gas,h);this.swimPart(r,P),u=P.endDepth}}swimPart(r,i){const u=this.toLoadSegment(r.depthConverter,i);r.tissues.load(u,i.gas),r.runTime+=i.duration,r.addCeiling()}swimNoDecoLimit(r,i,u){if(this.validate(r,i).length>0)return 0;this.swimPlan(u);const m=this.currentNdl(u.ceilings);return m!==Number.POSITIVE_INFINITY?m:this.predictNoDecoLimit(r,u)}predictNoDecoLimit(r,i){const u=r.last(),h=u.endDepth,m=new Pt(h,h,u.gas,U.oneMinute),D=this.toLoadSegment(i.depthConverter,m);let P=1;for(;i.ceiling()<=0&&P>0;)P=i.tissues.load(D,u.gas),i.runTime+=U.oneMinute;return 0===P||0===h?Number.POSITIVE_INFINITY:this.floorNdl(i.runTime)}floorNdl(r){let i=U.toMinutes(r);return i=C.floor(i),i-1}currentNdl(r){for(let i=0;i<r.length;i+=U.oneMinute){const u=r[i];if(u.notAtSurface)return this.floorNdl(u.time)}return Number.POSITIVE_INFINITY}toLoadSegment(r,i){const u=r.toBar(i.speed)-r.surfacePressure;return{startPressure:r.toBar(i.startDepth),duration:i.duration,speed:u}}}class Ge{static haveReserve(r){for(let i=0;i<r.length;i++)if(!r[i].hasReserve)return!1;return!0}static resetConsumption(r){r.forEach(i=>{i.consumed=0,i.reserve=0})}static removeTank(r,i){const u=r.filter(h=>h!==i);return Ge.renumberIds(u),u}static renumberIds(r){for(let i=0;i<r.length;i++)r[i].id=i+1}}class lt{constructor(r,i,u){this.size=r,this.startPressure=i,this.id=0,this.consumed=0,this.reserve=0,this._gas=K.air.copy(),this.o2=u}get gas(){return this._gas}get o2(){return ee.getO2(this.gas.fO2,this.gas.fHe)}get he(){return C.roundTwoDecimals(100*this.gas.fHe)}get n2(){return C.roundTwoDecimals(100-this.o2-this.he)}get volume(){return lt.volume(this)}get reserveVolume(){return lt.volume2(this.size,this.reserve)}get consumedVolume(){return lt.volume2(this.size,this.consumed)}get name(){return this._gas.name}get endPressure(){const r=this.startPressure-this.consumed;return r>0?r:0}get percentsRemaining(){return this.endPressure/this.startPressure*100}get percentsReserve(){const r=this.reserve/this.startPressure*100;return r>100?100:r}get hasReserve(){return this.endPressure>=this.reserve}set o2(r){this._gas.fO2=ee.setO2(r,this.gas.fHe)}set he(r){this.gas.fHe=r/100}static createDefault(){return new lt(15,200,100*K.o2InAir)}static volume(r){return lt.volume2(r.size,r.startPressure)}static volume2(r,i){return r*i}assignStandardGas(r){this.gas.assignStandardGas(r)}loadFrom(r){this.size=r.size,this.startPressure=r.startPressure,this.consumed=r.consumed,this.reserve=r.reserve,this.gas.fO2=r._gas.fO2,this.gas.fHe=r._gas.fHe}}class ee{static#t=this.pinnedO2=21;static#e=this.o2InAirPercent=100*K.o2InAir;static getO2(r,i){const u=100*r;return this.isInAirRange(u,i)?ee.pinnedO2:C.roundTwoDecimals(u)}static setO2(r,i){return this.isInAirRange(r,i)?K.o2InAir:r/100}static isInAirRange(r,i){return ee.o2InAirPercent<=r&&r<=ee.pinnedO2&&0===i}}class pn{constructor(r,i,u,h){this.duration=r,this.startTime=0,this.endTime=0,this.averageDepth=0,this._startDepth=0,this._endDepth=0,this.endTime=C.roundTwoDecimals(r),this._endDepth=i,this._startDepth=u,this.averageDepth=h}get startDepth(){return this._startDepth}get endDepth(){return this._endDepth}static fromSegment(r){return new pn(r.duration,r.endDepth,r.startDepth,r.averageDepth)}}let ge=(()=>{class w{static#t=this.minimumRockBottom=30;constructor(i){this.depthConverter=i}static calculateDecompression(i,u,h){const m=pe.fromTanks(u),D=new We,P=i.copy(),I=de.forMultilevelDive(P,m,h);return D.decompression(I)}consumeFromTanks(i,u,h,m){if(i.length<2)throw new Error("Profile needs to contain at least 2 segments.");const D=this.emergencyAscent(i,u,h);this.consumeFromTanks2(i,D,u,h,m)}consumeFromTanks2(i,u,h,m,D){if(i.length<2)throw new Error("Profile needs to contain at least 2 segments.");Ge.resetConsumption(m);const P=this.consumeByTanks(i,D.rmv);this.consumeByGases(i,m,D.rmv,P),this.updateReserve(u,m,D.stressRmv)}emergencyAscent(i,u,h){const D=st.fromCollection(i).deepestPart(),P=st.fromCollection(D),I=pe.fromTanks(h),b=new We,V=de.forMultilevelDive(P,I,u),ot=b.decompression(V).segments,Nt=ot.slice(D.length,ot.length);return this.addSolvingSegment(Nt,u.problemSolvingDuration),Nt}calculateMaxBottomTime(i,u,h,m){const D=this.createTestProfile(i),P=D.last(),I={estimationStep:40*U.oneMinute,initialValue:0,maxValue:U.oneDay,doWork:ot=>{P.duration=ot,this.consumeFromProfile(D,u,h,m)},meetsCondition:()=>Ge.haveReserve(u)},V=(new tr).search(I);if(0===V)return 0;const yt=U.toMinutes(i.duration+V);return C.floor(yt)}consumeFromProfile(i,u,h,m){const D=w.calculateDecompression(i,u,m);this.consumeFromTanks(D.segments,m,u,h)}createTestProfile(i){const u=i.copy(),h=i.last();return u.addFlat(h.endDepth,h.gas,0),u}updateReserve(i,u,h){const m=this.toBeConsumed(i,h,()=>!0);for(let D=0;D<=u.length-1;D++){const P=u[D],I=P.gas.contentCode();let b=m.get(I)||0;b=this.addReserveToTank(P,b),m.set(I,b)}u[0].reserve<w.minimumRockBottom&&(u[0].reserve=w.minimumRockBottom)}addReserveToTank(i,u){const h=C.ceil(u/i.size),m=h+i.reserve>i.startPressure?i.startPressure-i.reserve:h;return i.reserve+=m,this.extractRemaining(u,m,i.size)}addSolvingSegment(i,u){if(0===i.length)return;const m=i[0].startDepth,D=new Pt(m,m,i[0].gas,u*U.oneMinute);i.unshift(D)}consumeByGases(i,u,h,m){const D=this.toBeConsumedYet(i,h,m,P=>!P.tank);for(let P=u.length-1;P>=0;P--){const I=u[P],b=I.gas.contentCode();let V=D.get(b)||0;V=this.consumeFromTank(I,V),D.set(b,V)}}consumeByTanks(i,u){const h=new Map,m=U.toMinutes(u);return i.forEach(D=>{if(D.tank){const P=D.tank,I=D.gas.contentCode(),b=pn.fromSegment(D),V=this.consumedBySegment(b,m),yt=this.consumeFromTank(P,V);let ot=h.get(I)||0;ot+=yt,h.set(I,ot)}}),h}consumeFromTank(i,u){const h=C.ceil(u/i.size),m=h>i.endPressure?i.endPressure:h;return i.consumed+=m,this.extractRemaining(u,m,i.size)}extractRemaining(i,u,h){return(i-=u*h)<0?0:i}toBeConsumed(i,u,h){return this.toBeConsumedYet(i,u,new Map,h)}toBeConsumedYet(i,u,h,m){const D=U.toMinutes(u);for(let P=0;P<i.length;P++){const I=i[P];if(m(I)){const V=I.gas.contentCode(),yt=pn.fromSegment(I),ot=this.consumedBySegment(yt,D);let Nt=h.get(V)||0;Nt+=ot,h.set(V,Nt)}}return h}consumedBySegment(i,u){const h=this.depthConverter.toBar(i.averageDepth);return i.duration*h*u}}return w})();class er{constructor(r){this.depthConverter=r,this.minimumPpO2=.5}calculateForProfile(r){let i=0;return r.forEach(u=>{const m=this.calculate(u.gas.fO2,u.startDepth,u.endDepth,u.duration);i+=m}),i}calculate(r,i,u,h){const P=r*this.depthConverter.toBar((i+u)/2);if(P<=this.minimumPpO2)return 0;const I=this.exponentByPpO2(P);return h*Math.exp(I)*100}exponentByPpO2(r){return r<=1.5?1.93873*r-11.7853:9.80829*r-23.6349}}let Ue=(()=>{class w{static#t=this.imperialTankSize=124.1;static#e=this.imperialTankWorkPressure=3442;static#n=this.imperialStageSize=80.1;static#r=this.imperialStageWorkPressure=3e3;static#i=this.mertricTankSize=15;static#s=this.metricStageSize=11.1}return w})();class en{get available(){return[this.primary,this.stage,{name:"2xLP85",size:165,workingPressure:2640},{name:"S40",size:41.3,workingPressure:3e3},{name:"LP85",size:82.5,workingPressure:2640},{name:"HP80",size:84.4,workingPressure:3442},{name:"HP100",size:106.7,workingPressure:3442}]}get primary(){return{name:"HP117",size:Ue.imperialTankSize,workingPressure:Ue.imperialTankWorkPressure}}get stage(){return{name:"S80",size:Ue.imperialStageSize,workingPressure:Ue.imperialStageWorkPressure}}}class pt{static#t=this.lastStopDepth=15;static#e=this.depthDistance=10;static#n=this.descentSpeed=6*pt.depthDistance;static#r=this.recreSpeed=3*pt.depthDistance;static#i=this.maxEnd=10*pt.depthDistance;get tanks(){return new en}get lastSpeedLevel(){return 20}get autoStopLevel(){return 33}get stopsDistance(){return pt.depthDistance}get recreationalOptions(){return{ascentSpeed50perc:pt.recreSpeed,ascentSpeed50percTo6m:pt.recreSpeed,ascentSpeed6m:pt.recreSpeed,descentSpeed:pt.descentSpeed,lastStopDepth:pt.lastStopDepth,maxEND:pt.maxEnd}}get recommendedOptions(){return{ascentSpeed50perc:pt.recreSpeed,ascentSpeed50percTo6m:2*pt.depthDistance,ascentSpeed6m:pt.depthDistance,descentSpeed:pt.descentSpeed,lastStopDepth:pt.depthDistance,maxEND:pt.maxEnd}}}let Xr=(()=>{class w{static#t=this.defaultSac=20;constructor(i=w.defaultSac){this.rmv=i}get stressRmv(){return 3*this.rmv}static gasSac(i,u){return i/u}gasSac(i){return w.gasSac(this.rmv,i.size)}loadFrom(i){this.rmv=i.rmv}}return w})();class gn{constructor(r,i,u){this.gas=r,this.depth=i,this.density=u}static createDefault(){return new gn(K.air,0,0)}applyHigher(r,i,u){u>this.density&&(this.gas=r,this.density=u,this.depth=i)}}let nn=(()=>{class w{constructor(){this.helium=.179,this.nitrogen=1.251,this.oxygen=1.428}static#t=this.recommendedMaximum=5.7;forGas(i){return this.forContent(i.fO2,i.fHe)}forContent(i,u){return this.nitrogen*(1-i-u)+this.oxygen*i+this.helium*u}}return w})();class De{constructor(r){this.depthConverter=r,this.density=new nn}forProfile(r){const i=gn.createDefault();return r.forEach(u=>{const h=u.gas,m=this.density.forGas(h);this.applyHigher(i,h,u.startDepth,m),this.applyHigher(i,h,u.endDepth,m)}),i}atDepth(r,i){const u=this.density.forGas(r);return this.fromAtaDensity(u,i)}applyHigher(r,i,u,h){const m=this.fromAtaDensity(h,u);r.applyHigher(i,u,m)}fromAtaDensity(r,i){return r*this.depthConverter.toBar(i)}}let Ln=(()=>{class w{static#t=this.dailyLimit=300;constructor(i){this.depthConverter=i,this.minPressure=.5}calculateForProfile(i){let u=0;return i.forEach(h=>{const D=this.calculate(h.duration,h.gas.fO2,h.startDepth,h.endDepth);u+=D}),u}calculate(i,u,h,m){let D=U.toMinutes(i),b=this.depthConverter.toBar(h)*u,V=this.depthConverter.toBar(m)*u;if(b<=this.minPressure&&V<=this.minPressure)return 0;b<=this.minPressure?(D=D*(V-this.minPressure)/(V-b),b=.501):V<=this.minPressure&&(D=D*(b-this.minPressure)/(b-V),V=.501);const yt=b+V-1;return Math.pow(yt,5/6)*(1-5*Math.pow(V-b,2)/216/Math.pow(yt,2))*D}}return w})();class Mn{constructor(r,i,u){this.startDepth=r,this.endDepth=i,this.duration=u}get minDepth(){return Math.min(this.startDepth,this.endDepth)}get maxDepth(){return Math.max(this.startDepth,this.endDepth)}get isDescent(){return this.startDepth<this.endDepth}get isFlat(){return this.startDepth===this.endDepth}get isAscent(){return this.startDepth>this.endDepth}timeAt(r){const i=Pt.speed(this.startDepth,this.endDepth,this.duration),u=Pt.timeAt(this.startDepth,i,r);return C.round(u)}}class Nn{constructor(r){this.simpleDepths=et.simple(),this.events=new Ce,this.elapsed=0,this.index=0,this.fixedMnd=!0,this.profile=r.profile,this.options=r.profileOptions,this.startAscentIndex=r.startAscentIndex,this.maxDensity=r.maxDensity,this.exactDepths=new at(this.options).create(),this.levels=new mt(this.exactDepths,this.options),this.densityAtDepth=new De(this.exactDepths),this.speeds=new tn(this.options);const i=st.fromCollection(this.profile);this.speeds.markAverageDepth(i),this.maxDepth=i.maxDepth,this._mndBars=this.simpleDepths.toBar(this.options.maxEND)}get previous(){return this.index>0?this.profile[this.index-1]:null}get isBeforeDecoAscent(){return this.index<this.startAscentIndex}get maxPpo(){return this.isBeforeDecoAscent?this.options.maxPpO2:this.options.maxDecoPpO2}get current(){return this.profile[this.index]}get switchingGas(){return!!this.previous&&!this.current.gas.compositionEquals(this.previous.gas)}get switchingTank(){return!!this.previous&&!!this.previous.tank&&!!this.current.tank&&this.previous.tank!==this.current.tank}get maxMnd(){return this._mndBars}get currentEndTime(){return this.elapsed+this.current.duration}get atSafetyStop(){return this.index===this.profile.length-2&&this.levels.addSafetyStop(this.current.startDepth,this.maxDepth)}gasEnd(r){return this.current.gas.end(r,this.options.oxygenNarcotic)}addElapsed(){this.elapsed=this.currentEndTime}}class rn{static fromProfile(r){const i=new Nn(r),u=new Bn(i.events,i.current);for(i.index=0;i.index<r.profile.length;i.index++){const h=this.toPressureSegment(i.current,i.simpleDepths);this.addHighPpO2(i,h),this.addLowPpO2(i,h),this.addGasSwitch(i),this.addUserTankSwitch(i),this.addHighDescentSpeed(i),this.addHighAscentSpeed(i),this.addSwitchHighN2(i),this.addMndExceeded(i,h),this.addDensityExceeded(i),this.addSafetyStop(i),u.assignSegment(i.current),rn.addBrokenCeiling(u,r.ceilings),i.addElapsed()}return i.events}static addHighAscentSpeed(r){const i=r.current;let u=U.toSeconds(i.speed);if(u=C.roundTwoDecimals(u),-u>r.speeds.ascent(i.startDepth)){const h=rt.createHighAscentSpeed(r.elapsed,i.startDepth);r.events.add(h)}}static addHighDescentSpeed(r){const i=r.current;if(U.toSeconds(i.speed)>r.options.descentSpeed){const h=rt.createHighDescentSpeed(r.elapsed,i.startDepth);r.events.add(h)}}static addGasSwitch(r){if(r.switchingGas){const i=r.current,u=rt.createGasSwitch(r.elapsed,i.startDepth,i.gas);r.events.add(u)}}static addUserTankSwitch(r){if(r.switchingTank){const i=r.current,u=rt.createGasSwitch(r.elapsed,i.startDepth,i.gas);r.events.add(u)}}static toPressureSegment(r,i){const u=i.toBar(r.startDepth),h=i.toBar(r.endDepth);return new Mn(u,h,r.duration)}static addHighPpO2(r,i){if(i.isDescent||r.isBeforeDecoAscent&&r.switchingGas){const u=r.current.gas.mod(r.maxPpo);if(i.maxDepth>u){let h=i.startDepth,m=r.elapsed;i.startDepth<u&&(h=u,m+=i.timeAt(h));const D=r.simpleDepths.fromBar(h),P=rt.createHighPpO2(m,D);r.events.add(P)}}}static addLowPpO2(r,i){const u=r.current,h=u.gas.ceiling(r.simpleDepths.surfacePressure);if(i.minDepth<h&&r.switchingGas||i.startDepth>h&&h>i.endDepth&&i.isAscent||0===u.startDepth&&i.startDepth<h&&i.isDescent){let D=i.startDepth,P=r.elapsed;i.startDepth>h&&(D=h,P+=i.timeAt(D));const I=r.simpleDepths.fromBar(D),b=rt.createLowPpO2(P,I);r.events.add(b)}}static addBrokenCeiling(r,i){for(;r.lastCeilingIndex<r.currentSegmentEndTime&&r.lastCeilingIndex<i.length-1;){const u=i[r.lastCeilingIndex];r.lastCeilingIndex++,this.addNdlEnd(r,u);const h=r.belowCeiling(u);if(!h&&r.fixedBrokenCeiling){const m=rt.createBrokenCeiling(u.time,u.depth);r.events.add(m),r.fixedBrokenCeiling=!1;break}if(h&&!r.fixedBrokenCeiling&&(r.fixedBrokenCeiling=!0),u.time>r.currentSegmentEndTime)break}}static addNdlEnd(r,i){if(!r.ndlCeilingMarked&&i.depth>0){r.ndlCeilingMarked=!0;const h=r.current.depthAt(i.time-r.currentSegmentStartTime),m=rt.createNoDecoEnd(i.time,h);r.events.add(m)}}static addSwitchHighN2(r){const i=r.current,u=r.previous;if(r.switchingGas&&u&&u.gas.fHe>0&&5*(i.gas.fN2-u.gas.fN2)>-(i.gas.fHe-u.gas.fHe)){const D=rt.createSwitchToHigherN2(r.elapsed,i.startDepth,i.gas);r.events.add(D)}}static addMndExceeded(r,i){const u=r.current,h=r.gasEnd(i.startDepth),m=r.gasEnd(i.endDepth);if(r.maxMnd<h&&r.fixedMnd||r.maxMnd<m&&r.fixedMnd){const I=It.xValueAtAbsolute({start:r.elapsed,end:r.elapsed+u.duration},{start:h,end:m},r.maxMnd),b=u.depthAt(I);this.addMndEvent(r,I,b)}r.fixedMnd=m<=r.maxMnd}static addMndEvent(r,i,u){const m=rt.createMaxEndExceeded(i,u,r.current.gas);r.events.add(m),r.fixedMnd=!0}static addDensityExceeded(r){const i=r.current,u=i.gas,m=i.endDepth,D=i.endDepth>i.startDepth,P=r.switchingGas,I=r.densityAtDepth.atDepth(u,i.startDepth),b=r.densityAtDepth.atDepth(u,m);if(P&&I>r.maxDensity||D&&b>r.maxDensity){const ot=It.xValueAtAbsolute({start:r.elapsed,end:r.elapsed+i.duration},{start:I,end:b},r.maxDensity),Nt=i.depthAt(ot),Te=rt.createHighDensity(ot,Nt,i.gas);r.events.add(Te)}}static addSafetyStop(r){const i=r.current;if(r.atSafetyStop&&i.duration>=U.safetyStopDuration){const h=rt.createSafetyStopStart(r.elapsed+i.duration-U.safetyStopDuration,i.endDepth);r.events.add(h)}}}class Bn{constructor(r,i){this.events=r,this.lastCeilingIndex=0,this.currentSegmentStartTime=0,this.currentSegmentEndTime=0,this.fixedBrokenCeiling=!0,this.ndlCeilingMarked=!1,this._current=i}get current(){return this._current}assignSegment(r){this.currentSegmentStartTime=this.currentSegmentEndTime,this.currentSegmentEndTime=this.currentSegmentStartTime+r.duration,this._current=r}belowCeiling(r){return this._current.depthAt(r.time-this.currentSegmentStartTime)>=r.depth}}class Gt{static#t=this.psiRate=14.503773773022;static#e=this.cftRate=28.316846592;static#n=this.lbRate=2.20462262185;static#r=this.footRate=.3048;static#i=this.poundRate=.00220462262;static#s=this.lbPerCuftRate=Gt.poundRate*Gt.cftRate;get name(){return"Imperial"}get lengthShortcut(){return"ft"}get pressureShortcut(){return"psi"}get volumeShortcut(){return"cuft"}get weightShortcut(){return"lb"}get altitudeShortcut(){return"ft.a.s.l"}get densityShortcut(){return"lb/cuft"}toMeters(r){return r*Gt.footRate}fromMeters(r){return r/Gt.footRate}toBar(r){return r/Gt.psiRate}fromBar(r){return r*Gt.psiRate}toLiter(r){return r*Gt.cftRate}fromLiter(r){return r/Gt.cftRate}fromTankLiters(r,i){return this.fromLiter(r)*i}toTankLiters(r,i){return this.toLiter(r)/i}fromGramPerLiter(r){return r*Gt.lbPerCuftRate}fromKilogram(r){return r*Gt.lbRate}toKilogram(r){return r/Gt.lbRate}}}}]);