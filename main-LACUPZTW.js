var _O=Object.create;var Hm=Object.defineProperty,SO=Object.defineProperties,LO=Object.getOwnPropertyDescriptor,DO=Object.getOwnPropertyDescriptors,TO=Object.getOwnPropertyNames,Ud=Object.getOwnPropertySymbols,AO=Object.getPrototypeOf,Um=Object.prototype.hasOwnProperty,UM=Object.prototype.propertyIsEnumerable;var HM=(t,n,e)=>n in t?Hm(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,rn=(t,n)=>{for(var e in n||={})Um.call(n,e)&&HM(t,e,n[e]);if(Ud)for(var e of Ud(n))UM.call(n,e)&&HM(t,e,n[e]);return t},pr=(t,n)=>SO(t,DO(n));var jM=(t,n)=>{var e={};for(var r in t)Um.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&Ud)for(var r of Ud(t))n.indexOf(r)<0&&UM.call(t,r)&&(e[r]=t[r]);return e};var GM=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var zO=(t,n,e,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of TO(n))!Um.call(t,i)&&i!==e&&Hm(t,i,{get:()=>n[i],enumerable:!(r=LO(n,i))||r.enumerable});return t};var G1=(t,n,e)=>(e=t!=null?_O(AO(t)):{},zO(n||!t||!t.__esModule?Hm(e,"default",{value:t,enumerable:!0}):e,t));var J6=(t,n,e)=>new Promise((r,i)=>{var s=c=>{try{o(e.next(c))}catch(l){i(l)}},a=c=>{try{o(e.throw(c))}catch(l){i(l)}},o=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,a);o((e=e.apply(t,n)).next())});var n2=GM((q4,Lf)=>{"use strict";(function(){var t,n="4.17.21",e=200,r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",s="Invalid `variable` option passed into `_.template`",a="__lodash_hash_undefined__",o=500,c="__lodash_placeholder__",l=1,u=2,f=4,h=1,p=2,m=1,d=2,y=4,x=8,w=16,L=32,_=64,D=128,C=256,z=512,b=30,S="...",M=800,I=16,T=1,B=2,H=3,Z=1/0,$=9007199254740991,N=17976931348623157e292,j=NaN,O=4294967295,X=O-1,ie=O>>>1,oe=[["ary",D],["bind",m],["bindKey",d],["curry",x],["curryRight",w],["flip",z],["partial",L],["partialRight",_],["rearg",C]],V="[object Arguments]",W="[object Array]",Y="[object AsyncFunction]",Q="[object Boolean]",re="[object Date]",te="[object DOMException]",le="[object Error]",be="[object Function]",Se="[object GeneratorFunction]",ze="[object Map]",Te="[object Number]",ye="[object Null]",he="[object Object]",P="[object Promise]",U="[object Proxy]",ee="[object RegExp]",G="[object Set]",E="[object String]",K="[object Symbol]",R="[object Undefined]",ne="[object WeakMap]",pe="[object WeakSet]",xe="[object ArrayBuffer]",we="[object DataView]",Ee="[object Float32Array]",Oe="[object Float64Array]",Ke="[object Int8Array]",Je="[object Int16Array]",rt="[object Int32Array]",Me="[object Uint8Array]",ke="[object Uint8ClampedArray]",Le="[object Uint16Array]",He="[object Uint32Array]",Ve=/\b__p \+= '';/g,qe=/\b(__p \+=) '' \+/g,vt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,At=/&(?:amp|lt|gt|quot|#39);/g,Dt=/[&<>"']/g,bt=RegExp(At.source),xt=RegExp(Dt.source),Et=/<%-([\s\S]+?)%>/g,pt=/<%([\s\S]+?)%>/g,Rt=/<%=([\s\S]+?)%>/g,Wt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vt=/^\w*$/,Yt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,ct=RegExp(et.source),gt=/^\s+/,_e=/\s/,Be=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ve=/\{\n\/\* \[wrapped with (.+)\] \*/,ge=/,? & /,Re=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Fe=/[()=,{}\[\]\/\s]/,Ue=/\\(\\)?/g,We=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,St=/\w*$/,Mt=/^[-+]0x[0-9a-f]+$/i,ot=/^0b[01]+$/i,Xe=/^\[object .+?Constructor\]$/,_t=/^0o[0-7]+$/i,Xt=/^(?:0|[1-9]\d*)$/,sn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,pn=/($^)/,An=/['\n\r\u2028\u2029\\]/g,zn="\\ud800-\\udfff",Jt="\\u0300-\\u036f",Cn="\\ufe20-\\ufe2f",yn="\\u20d0-\\u20ff",xn=Jt+Cn+yn,Pn="\\u2700-\\u27bf",Ln="a-z\\xdf-\\xf6\\xf8-\\xff",on="\\xac\\xb1\\xd7\\xf7",_n="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",gn="\\u2000-\\u206f",Un=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",qn="A-Z\\xc0-\\xd6\\xd8-\\xde",Jn="\\ufe0e\\ufe0f",bn=on+_n+gn+Un,Qn="['\u2019]",Vn="["+zn+"]",hn="["+bn+"]",me="["+xn+"]",ce="\\d+",it="["+Pn+"]",tt="["+Ln+"]",Ze="[^"+zn+bn+ce+Pn+Ln+qn+"]",Ye="\\ud83c[\\udffb-\\udfff]",Qe="(?:"+me+"|"+Ye+")",mt="[^"+zn+"]",st="(?:\\ud83c[\\udde6-\\uddff]){2}",yt="[\\ud800-\\udbff][\\udc00-\\udfff]",Ct="["+qn+"]",wt="\\u200d",Ot="(?:"+tt+"|"+Ze+")",en="(?:"+Ct+"|"+Ze+")",Tt="(?:"+Qn+"(?:d|ll|m|re|s|t|ve))?",fn="(?:"+Qn+"(?:D|LL|M|RE|S|T|VE))?",Zt=Qe+"?",an="["+Jn+"]?",ln="(?:"+wt+"(?:"+[mt,st,yt].join("|")+")"+an+Zt+")*",En="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Gn="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",sr=an+Zt+ln,Yn="(?:"+[it,st,yt].join("|")+")"+sr,Xr="(?:"+[mt+me+"?",me,st,yt,Vn].join("|")+")",Mr=RegExp(Qn,"g"),Ur=RegExp(me,"g"),ta=RegExp(Ye+"(?="+Ye+")|"+Xr+sr,"g"),Va=RegExp([Ct+"?"+tt+"+"+Tt+"(?="+[hn,Ct,"$"].join("|")+")",en+"+"+fn+"(?="+[hn,Ct+Ot,"$"].join("|")+")",Ct+"?"+Ot+"+"+Tt,Ct+"+"+fn,Gn,En,ce,Yn].join("|"),"g"),ei=RegExp("["+wt+zn+xn+Jn+"]"),Fi=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_i=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],lr=-1,br={};br[Ee]=br[Oe]=br[Ke]=br[Je]=br[rt]=br[Me]=br[ke]=br[Le]=br[He]=!0,br[V]=br[W]=br[xe]=br[Q]=br[we]=br[re]=br[le]=br[be]=br[ze]=br[Te]=br[he]=br[ee]=br[G]=br[E]=br[ne]=!1;var cr={};cr[V]=cr[W]=cr[xe]=cr[we]=cr[Q]=cr[re]=cr[Ee]=cr[Oe]=cr[Ke]=cr[Je]=cr[rt]=cr[ze]=cr[Te]=cr[he]=cr[ee]=cr[G]=cr[E]=cr[K]=cr[Me]=cr[ke]=cr[Le]=cr[He]=!0,cr[le]=cr[be]=cr[ne]=!1;var vr={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Zr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},gr={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Dr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ti=parseFloat,Zi=parseInt,Ii=typeof global=="object"&&global&&global.Object===Object&&global,ki=typeof self=="object"&&self&&self.Object===Object&&self,ti=Ii||ki||Function("return this")(),Ai=typeof q4=="object"&&q4&&!q4.nodeType&&q4,Ni=Ai&&typeof Lf=="object"&&Lf&&!Lf.nodeType&&Lf,Pa=Ni&&Ni.exports===Ai,ni=Pa&&Ii.process,Ki=function(){try{var Kt=Ni&&Ni.require&&Ni.require("util").types;return Kt||ni&&ni.binding&&ni.binding("util")}catch{}}(),Ja=Ki&&Ki.isArrayBuffer,bs=Ki&&Ki.isDate,Is=Ki&&Ki.isMap,qa=Ki&&Ki.isRegExp,wa=Ki&&Ki.isSet,ao=Ki&&Ki.isTypedArray;function oa(Kt,mn,dn){switch(dn.length){case 0:return Kt.call(mn);case 1:return Kt.call(mn,dn[0]);case 2:return Kt.call(mn,dn[0],dn[1]);case 3:return Kt.call(mn,dn[0],dn[1],dn[2])}return Kt.apply(mn,dn)}function ga(Kt,mn,dn,or){for(var Gr=-1,$i=Kt==null?0:Kt.length;++Gr<$i;){var ja=Kt[Gr];mn(or,ja,dn(ja),Kt)}return or}function ha(Kt,mn){for(var dn=-1,or=Kt==null?0:Kt.length;++dn<or&&mn(Kt[dn],dn,Kt)!==!1;);return Kt}function Vi(Kt,mn){for(var dn=Kt==null?0:Kt.length;dn--&&mn(Kt[dn],dn,Kt)!==!1;);return Kt}function Qi(Kt,mn){for(var dn=-1,or=Kt==null?0:Kt.length;++dn<or;)if(!mn(Kt[dn],dn,Kt))return!1;return!0}function wr(Kt,mn){for(var dn=-1,or=Kt==null?0:Kt.length,Gr=0,$i=[];++dn<or;){var ja=Kt[dn];mn(ja,dn,Kt)&&($i[Gr++]=ja)}return $i}function Pi(Kt,mn){var dn=Kt==null?0:Kt.length;return!!dn&&f2(Kt,mn,0)>-1}function Xs(Kt,mn,dn){for(var or=-1,Gr=Kt==null?0:Kt.length;++or<Gr;)if(dn(mn,Kt[or]))return!0;return!1}function Hi(Kt,mn){for(var dn=-1,or=Kt==null?0:Kt.length,Gr=Array(or);++dn<or;)Gr[dn]=mn(Kt[dn],dn,Kt);return Gr}function $s(Kt,mn){for(var dn=-1,or=mn.length,Gr=Kt.length;++dn<or;)Kt[Gr+dn]=mn[dn];return Kt}function j2(Kt,mn,dn,or){var Gr=-1,$i=Kt==null?0:Kt.length;for(or&&$i&&(dn=Kt[++Gr]);++Gr<$i;)dn=mn(dn,Kt[Gr],Gr,Kt);return dn}function u1(Kt,mn,dn,or){var Gr=Kt==null?0:Kt.length;for(or&&Gr&&(dn=Kt[--Gr]);Gr--;)dn=mn(dn,Kt[Gr],Gr,Kt);return dn}function B1(Kt,mn){for(var dn=-1,or=Kt==null?0:Kt.length;++dn<or;)if(mn(Kt[dn],dn,Kt))return!0;return!1}var V0=M6("length");function G2(Kt){return Kt.split("")}function u2(Kt){return Kt.match(Re)||[]}function V1(Kt,mn,dn){var or;return dn(Kt,function(Gr,$i,ja){if(mn(Gr,$i,ja))return or=$i,!1}),or}function Il(Kt,mn,dn,or){for(var Gr=Kt.length,$i=dn+(or?1:-1);or?$i--:++$i<Gr;)if(mn(Kt[$i],$i,Kt))return $i;return-1}function f2(Kt,mn,dn){return mn===mn?Hp(Kt,mn,dn):Il(Kt,kl,dn)}function Np(Kt,mn,dn,or){for(var Gr=dn-1,$i=Kt.length;++Gr<$i;)if(or(Kt[Gr],mn))return Gr;return-1}function kl(Kt){return Kt!==Kt}function Yf(Kt,mn){var dn=Kt==null?0:Kt.length;return dn?S6(Kt,mn)/dn:j}function M6(Kt){return function(mn){return mn==null?t:mn[Kt]}}function w6(Kt){return function(mn){return Kt==null?t:Kt[mn]}}function _6(Kt,mn,dn,or,Gr){return Gr(Kt,function($i,ja,la){dn=or?(or=!1,$i):mn(dn,$i,ja,la)}),dn}function Nl(Kt,mn){var dn=Kt.length;for(Kt.sort(mn);dn--;)Kt[dn]=Kt[dn].value;return Kt}function S6(Kt,mn){for(var dn,or=-1,Gr=Kt.length;++or<Gr;){var $i=mn(Kt[or]);$i!==t&&(dn=dn===t?$i:dn+$i)}return dn}function Pl(Kt,mn){for(var dn=-1,or=Array(Kt);++dn<Kt;)or[dn]=mn(dn);return or}function Zf(Kt,mn){return Hi(mn,function(dn){return[dn,Kt[dn]]})}function f1(Kt){return Kt&&Kt.slice(0,Jf(Kt)+1).replace(gt,"")}function Ks(Kt){return function(mn){return Kt(mn)}}function Rl(Kt,mn){return Hi(mn,function(dn){return Kt[dn]})}function $2(Kt,mn){return Kt.has(mn)}function d2(Kt,mn){for(var dn=-1,or=Kt.length;++dn<or&&f2(mn,Kt[dn],0)>-1;);return dn}function Ol(Kt,mn){for(var dn=Kt.length;dn--&&f2(mn,Kt[dn],0)>-1;);return dn}function Xf(Kt,mn){for(var dn=Kt.length,or=0;dn--;)Kt[dn]===mn&&++or;return or}var Pp=w6(vr),Rp=w6(Zr);function Op(Kt){return"\\"+Dr[Kt]}function Kf(Kt,mn){return Kt==null?t:Kt[mn]}function W2(Kt){return ei.test(Kt)}function Fp(Kt){return Fi.test(Kt)}function Bp(Kt){for(var mn,dn=[];!(mn=Kt.next()).done;)dn.push(mn.value);return dn}function L6(Kt){var mn=-1,dn=Array(Kt.size);return Kt.forEach(function(or,Gr){dn[++mn]=[Gr,or]}),dn}function Qf(Kt,mn){return function(dn){return Kt(mn(dn))}}function h2(Kt,mn){for(var dn=-1,or=Kt.length,Gr=0,$i=[];++dn<or;){var ja=Kt[dn];(ja===mn||ja===c)&&(Kt[dn]=c,$i[Gr++]=dn)}return $i}function l3(Kt){var mn=-1,dn=Array(Kt.size);return Kt.forEach(function(or){dn[++mn]=or}),dn}function Vp(Kt){var mn=-1,dn=Array(Kt.size);return Kt.forEach(function(or){dn[++mn]=[or,or]}),dn}function Hp(Kt,mn,dn){for(var or=dn-1,Gr=Kt.length;++or<Gr;)if(Kt[or]===mn)return or;return-1}function Up(Kt,mn,dn){for(var or=dn+1;or--;)if(Kt[or]===mn)return or;return or}function H0(Kt){return W2(Kt)?qf(Kt):V0(Kt)}function Fo(Kt){return W2(Kt)?ed(Kt):G2(Kt)}function Jf(Kt){for(var mn=Kt.length;mn--&&_e.test(Kt.charAt(mn)););return mn}var jp=w6(gr);function qf(Kt){for(var mn=ta.lastIndex=0;ta.test(Kt);)++mn;return mn}function ed(Kt){return Kt.match(ta)||[]}function td(Kt){return Kt.match(Va)||[]}var nd=function Kt(mn){mn=mn==null?ti:p2.defaults(ti.Object(),mn,p2.pick(ti,_i));var dn=mn.Array,or=mn.Date,Gr=mn.Error,$i=mn.Function,ja=mn.Math,la=mn.Object,D6=mn.RegExp,Gp=mn.String,so=mn.TypeError,c3=dn.prototype,$p=$i.prototype,U0=la.prototype,u3=mn["__core-js_shared__"],f3=$p.toString,Xi=U0.hasOwnProperty,Wp=0,rd=function(){var v=/[^.]+$/.exec(u3&&u3.keys&&u3.keys.IE_PROTO||"");return v?"Symbol(src)_1."+v:""}(),d3=U0.toString,Fl=f3.call(la),Bl=ti._,d1=D6("^"+f3.call(Xi).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),h3=Pa?mn.Buffer:t,m2=mn.Symbol,p3=mn.Uint8Array,id=h3?h3.allocUnsafe:t,Vl=Qf(la.getPrototypeOf,la),ad=la.create,sd=U0.propertyIsEnumerable,m3=c3.splice,od=m2?m2.isConcatSpreadable:t,Hl=m2?m2.iterator:t,H1=m2?m2.toStringTag:t,j0=function(){try{var v=Jl(la,"defineProperty");return v({},"",{}),v}catch{}}(),Yp=mn.clearTimeout!==ti.clearTimeout&&mn.clearTimeout,Zp=or&&or.now!==ti.Date.now&&or.now,Xp=mn.setTimeout!==ti.setTimeout&&mn.setTimeout,v3=ja.ceil,Ul=ja.floor,T6=la.getOwnPropertySymbols,Kp=h3?h3.isBuffer:t,g3=mn.isFinite,ld=c3.join,cd=Qf(la.keys,la),Ga=ja.max,ks=ja.min,Qp=or.now,ud=mn.parseInt,A6=ja.random,fd=c3.reverse,jl=Jl(mn,"DataView"),Y2=Jl(mn,"Map"),z6=Jl(mn,"Promise"),G0=Jl(mn,"Set"),Gl=Jl(mn,"WeakMap"),$l=Jl(la,"create"),y3=Gl&&new Gl,Z2={},dd=ql(jl),E6=ql(Y2),hd=ql(z6),x3=ql(G0),b3=ql(Gl),C3=m2?m2.prototype:t,X2=C3?C3.valueOf:t,I6=C3?C3.toString:t;function nt(v){if($a(v)&&!ri(v)&&!(v instanceof Si)){if(v instanceof oo)return v;if(Xi.call(v,"__wrapped__"))return sM(v)}return new oo(v)}var $0=function(){function v(){}return function(A){if(!Ha(A))return{};if(ad)return ad(A);v.prototype=A;var J=new v;return v.prototype=t,J}}();function Wl(){}function oo(v,A){this.__wrapped__=v,this.__actions__=[],this.__chain__=!!A,this.__index__=0,this.__values__=t}nt.templateSettings={escape:Et,evaluate:pt,interpolate:Rt,variable:"",imports:{_:nt}},nt.prototype=Wl.prototype,nt.prototype.constructor=nt,oo.prototype=$0(Wl.prototype),oo.prototype.constructor=oo;function Si(v){this.__wrapped__=v,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=O,this.__views__=[]}function k6(){var v=new Si(this.__wrapped__);return v.__actions__=xa(this.__actions__),v.__dir__=this.__dir__,v.__filtered__=this.__filtered__,v.__iteratees__=xa(this.__iteratees__),v.__takeCount__=this.__takeCount__,v.__views__=xa(this.__views__),v}function N6(){if(this.__filtered__){var v=new Si(this);v.__dir__=-1,v.__filtered__=!0}else v=this.clone(),v.__dir__*=-1;return v}function Jp(){var v=this.__wrapped__.value(),A=this.__dir__,J=ri(v),De=A<0,je=J?v.length:0,ut=QI(0,je,this.__views__),zt=ut.start,Gt=ut.end,qt=Gt-zt,wn=De?Gt:zt-1,Sn=this.__iteratees__,On=Sn.length,tr=0,hr=ks(qt,this.__takeCount__);if(!J||!De&&je==qt&&hr==qt)return Rn(v,this.__actions__);var Ar=[];e:for(;qt--&&tr<hr;){wn+=A;for(var bi=-1,zr=v[wn];++bi<On;){var Ri=Sn[bi],Bi=Ri.iteratee,Uo=Ri.type,uo=Bi(zr);if(Uo==B)zr=uo;else if(!uo){if(Uo==T)continue e;break e}}Ar[tr++]=zr}return Ar}Si.prototype=$0(Wl.prototype),Si.prototype.constructor=Si;function v2(v){var A=-1,J=v==null?0:v.length;for(this.clear();++A<J;){var De=v[A];this.set(De[0],De[1])}}function RC(){this.__data__=$l?$l(null):{},this.size=0}function pd(v){var A=this.has(v)&&delete this.__data__[v];return this.size-=A?1:0,A}function qp(v){var A=this.__data__;if($l){var J=A[v];return J===a?t:J}return Xi.call(A,v)?A[v]:t}function md(v){var A=this.__data__;return $l?A[v]!==t:Xi.call(A,v)}function M3(v,A){var J=this.__data__;return this.size+=this.has(v)?0:1,J[v]=$l&&A===t?a:A,this}v2.prototype.clear=RC,v2.prototype.delete=pd,v2.prototype.get=qp,v2.prototype.has=md,v2.prototype.set=M3;function h1(v){var A=-1,J=v==null?0:v.length;for(this.clear();++A<J;){var De=v[A];this.set(De[0],De[1])}}function em(){this.__data__=[],this.size=0}function tm(v){var A=this.__data__,J=L3(A,v);if(J<0)return!1;var De=A.length-1;return J==De?A.pop():m3.call(A,J,1),--this.size,!0}function nm(v){var A=this.__data__,J=L3(A,v);return J<0?t:A[J][1]}function rm(v){return L3(this.__data__,v)>-1}function vd(v,A){var J=this.__data__,De=L3(J,v);return De<0?(++this.size,J.push([v,A])):J[De][1]=A,this}h1.prototype.clear=em,h1.prototype.delete=tm,h1.prototype.get=nm,h1.prototype.has=rm,h1.prototype.set=vd;function p1(v){var A=-1,J=v==null?0:v.length;for(this.clear();++A<J;){var De=v[A];this.set(De[0],De[1])}}function gd(){this.size=0,this.__data__={hash:new v2,map:new(Y2||h1),string:new v2}}function yd(v){var A=Id(this,v).delete(v);return this.size-=A?1:0,A}function im(v){return Id(this,v).get(v)}function w3(v){return Id(this,v).has(v)}function am(v,A){var J=Id(this,v),De=J.size;return J.set(v,A),this.size+=J.size==De?0:1,this}p1.prototype.clear=gd,p1.prototype.delete=yd,p1.prototype.get=im,p1.prototype.has=w3,p1.prototype.set=am;function K2(v){var A=-1,J=v==null?0:v.length;for(this.__data__=new p1;++A<J;)this.add(v[A])}function xd(v){return this.__data__.set(v,a),this}function bd(v){return this.__data__.has(v)}K2.prototype.add=K2.prototype.push=xd,K2.prototype.has=bd;function Bo(v){var A=this.__data__=new h1(v);this.size=A.size}function _3(){this.__data__=new h1,this.size=0}function S3(v){var A=this.__data__,J=A.delete(v);return this.size=A.size,J}function Cd(v){return this.__data__.get(v)}function Md(v){return this.__data__.has(v)}function P6(v,A){var J=this.__data__;if(J instanceof h1){var De=J.__data__;if(!Y2||De.length<e-1)return De.push([v,A]),this.size=++J.size,this;J=this.__data__=new p1(De)}return J.set(v,A),this.size=J.size,this}Bo.prototype.clear=_3,Bo.prototype.delete=S3,Bo.prototype.get=Cd,Bo.prototype.has=Md,Bo.prototype.set=P6;function xo(v,A){var J=ri(v),De=!J&&ec(v),je=!J&&!De&&Y0(v),ut=!J&&!De&&!je&&B3(v),zt=J||De||je||ut,Gt=zt?Pl(v.length,Gp):[],qt=Gt.length;for(var wn in v)(A||Xi.call(v,wn))&&!(zt&&(wn=="length"||je&&(wn=="offset"||wn=="parent")||ut&&(wn=="buffer"||wn=="byteLength"||wn=="byteOffset")||o0(wn,qt)))&&Gt.push(wn);return Gt}function R6(v){var A=v.length;return A?v[dt(0,A-1)]:t}function sm(v,A){return kd(xa(v),Q2(A,0,v.length))}function O6(v){return kd(xa(v))}function Yl(v,A,J){(J!==t&&!U1(v[A],J)||J===t&&!(A in v))&&m1(v,A,J)}function Zl(v,A,J){var De=v[A];(!(Xi.call(v,A)&&U1(De,J))||J===t&&!(A in v))&&m1(v,A,J)}function L3(v,A){for(var J=v.length;J--;)if(U1(v[J][0],A))return J;return-1}function om(v,A,J,De){return v1(v,function(je,ut,zt){A(De,je,J(je),zt)}),De}function Xl(v,A){return v&&Ws(A,Os(A),v)}function F6(v,A){return v&&Ws(A,So(A),v)}function m1(v,A,J){A=="__proto__"&&j0?j0(v,A,{configurable:!0,enumerable:!0,value:J,writable:!0}):v[A]=J}function B6(v,A){for(var J=-1,De=A.length,je=dn(De),ut=v==null;++J<De;)je[J]=ut?t:Im(v,A[J]);return je}function Q2(v,A,J){return v===v&&(J!==t&&(v=v<=J?v:J),A!==t&&(v=v>=A?v:A)),v}function bo(v,A,J,De,je,ut){var zt,Gt=A&l,qt=A&u,wn=A&f;if(J&&(zt=je?J(v,De,je,ut):J(v)),zt!==t)return zt;if(!Ha(v))return v;var Sn=ri(v);if(Sn){if(zt=qI(v),!Gt)return xa(v,zt)}else{var On=Js(v),tr=On==be||On==Se;if(Y0(v))return Cs(v,Gt);if(On==he||On==V||tr&&!je){if(zt=qt||tr?{}:QC(v),!Gt)return qt?g2(v,F6(zt,v)):n0(v,Xl(zt,v))}else{if(!cr[On])return je?v:{};zt=ek(v,On,Gt)}}ut||(ut=new Bo);var hr=ut.get(v);if(hr)return hr;ut.set(v,zt),LM(v)?v.forEach(function(zr){zt.add(bo(zr,A,J,zr,v,ut))}):_M(v)&&v.forEach(function(zr,Ri){zt.set(Ri,bo(zr,A,J,Ri,v,ut))});var Ar=wn?qt?ym:gm:qt?So:Os,bi=Sn?t:Ar(v);return ha(bi||v,function(zr,Ri){bi&&(Ri=zr,zr=v[Ri]),Zl(zt,Ri,bo(zr,A,J,Ri,v,ut))}),zt}function Co(v){var A=Os(v);return function(J){return V6(J,v,A)}}function V6(v,A,J){var De=J.length;if(v==null)return!De;for(v=la(v);De--;){var je=J[De],ut=A[je],zt=v[je];if(zt===t&&!(je in v)||!ut(zt))return!1}return!0}function H6(v,A,J){if(typeof v!="function")throw new so(i);return K6(function(){v.apply(t,J)},A)}function Mo(v,A,J,De){var je=-1,ut=Pi,zt=!0,Gt=v.length,qt=[],wn=A.length;if(!Gt)return qt;J&&(A=Hi(A,Ks(J))),De?(ut=Xs,zt=!1):A.length>=e&&(ut=$2,zt=!1,A=new K2(A));e:for(;++je<Gt;){var Sn=v[je],On=J==null?Sn:J(Sn);if(Sn=De||Sn!==0?Sn:0,zt&&On===On){for(var tr=wn;tr--;)if(A[tr]===On)continue e;qt.push(Sn)}else ut(A,On,De)||qt.push(Sn)}return qt}var v1=OC(g1),D3=OC(z3,!0);function lm(v,A){var J=!0;return v1(v,function(De,je,ut){return J=!!A(De,je,ut),J}),J}function T3(v,A,J){for(var De=-1,je=v.length;++De<je;){var ut=v[De],zt=A(ut);if(zt!=null&&(Gt===t?zt===zt&&!Ho(zt):J(zt,Gt)))var Gt=zt,qt=ut}return qt}function cm(v,A,J,De){var je=v.length;for(J=pi(J),J<0&&(J=-J>je?0:je+J),De=De===t||De>je?je:pi(De),De<0&&(De+=je),De=J>De?0:TM(De);J<De;)v[J++]=A;return v}function U6(v,A){var J=[];return v1(v,function(De,je,ut){A(De,je,ut)&&J.push(De)}),J}function ds(v,A,J,De,je){var ut=-1,zt=v.length;for(J||(J=nk),je||(je=[]);++ut<zt;){var Gt=v[ut];A>0&&J(Gt)?A>1?ds(Gt,A-1,J,De,je):$s(je,Gt):De||(je[je.length]=Gt)}return je}var A3=FC(),j6=FC(!0);function g1(v,A){return v&&A3(v,A,Os)}function z3(v,A){return v&&j6(v,A,Os)}function E3(v,A){return wr(A,function(J){return l0(v[J])})}function J2(v,A){A=na(A,v);for(var J=0,De=A.length;v!=null&&J<De;)v=v[y2(A[J++])];return J&&J==De?v:t}function wd(v,A,J){var De=A(v);return ri(v)?De:$s(De,J(v))}function Ns(v){return v==null?v===t?R:ye:H1&&H1 in la(v)?KI(v):ck(v)}function I3(v,A){return v>A}function k3(v,A){return v!=null&&Xi.call(v,A)}function _d(v,A){return v!=null&&A in la(v)}function N3(v,A,J){return v>=ks(A,J)&&v<Ga(A,J)}function P3(v,A,J){for(var De=J?Xs:Pi,je=v[0].length,ut=v.length,zt=ut,Gt=dn(ut),qt=1/0,wn=[];zt--;){var Sn=v[zt];zt&&A&&(Sn=Hi(Sn,Ks(A))),qt=ks(Sn.length,qt),Gt[zt]=!J&&(A||je>=120&&Sn.length>=120)?new K2(zt&&Sn):t}Sn=v[0];var On=-1,tr=Gt[0];e:for(;++On<je&&wn.length<qt;){var hr=Sn[On],Ar=A?A(hr):hr;if(hr=J||hr!==0?hr:0,!(tr?$2(tr,Ar):De(wn,Ar,J))){for(zt=ut;--zt;){var bi=Gt[zt];if(!(bi?$2(bi,Ar):De(v[zt],Ar,J)))continue e}tr&&tr.push(Ar),wn.push(hr)}}return wn}function Kl(v,A,J,De){return g1(v,function(je,ut,zt){A(De,J(je),ut,zt)}),De}function ya(v,A,J){A=na(A,v),v=tM(v,A);var De=v==null?v:v[y2(y1(A))];return De==null?t:oa(De,v,J)}function G6(v){return $a(v)&&Ns(v)==V}function q2(v){return $a(v)&&Ns(v)==xe}function R3(v){return $a(v)&&Ns(v)==re}function e0(v,A,J,De,je){return v===A?!0:v==null||A==null||!$a(v)&&!$a(A)?v!==v&&A!==A:um(v,A,J,De,e0,je)}function um(v,A,J,De,je,ut){var zt=ri(v),Gt=ri(A),qt=zt?W:Js(v),wn=Gt?W:Js(A);qt=qt==V?he:qt,wn=wn==V?he:wn;var Sn=qt==he,On=wn==he,tr=qt==wn;if(tr&&Y0(v)){if(!Y0(A))return!1;zt=!0,Sn=!1}if(tr&&!Sn)return ut||(ut=new Bo),zt||B3(v)?ZC(v,A,J,De,je,ut):ZI(v,A,qt,J,De,je,ut);if(!(J&h)){var hr=Sn&&Xi.call(v,"__wrapped__"),Ar=On&&Xi.call(A,"__wrapped__");if(hr||Ar){var bi=hr?v.value():v,zr=Ar?A.value():A;return ut||(ut=new Bo),je(bi,zr,J,De,ut)}}return tr?(ut||(ut=new Bo),XI(v,A,J,De,je,ut)):!1}function $6(v){return $a(v)&&Js(v)==ze}function W0(v,A,J,De){var je=J.length,ut=je,zt=!De;if(v==null)return!ut;for(v=la(v);je--;){var Gt=J[je];if(zt&&Gt[2]?Gt[1]!==v[Gt[0]]:!(Gt[0]in v))return!1}for(;++je<ut;){Gt=J[je];var qt=Gt[0],wn=v[qt],Sn=Gt[1];if(zt&&Gt[2]){if(wn===t&&!(qt in v))return!1}else{var On=new Bo;if(De)var tr=De(wn,Sn,qt,v,A,On);if(!(tr===t?e0(Sn,wn,h|p,De,On):tr))return!1}}return!0}function W6(v){if(!Ha(v)||ik(v))return!1;var A=l0(v)?d1:Xe;return A.test(ql(v))}function fm(v){return $a(v)&&Ns(v)==ee}function dm(v){return $a(v)&&Js(v)==G}function hm(v){return $a(v)&&Bd(v.length)&&!!br[Ns(v)]}function Sd(v){return typeof v=="function"?v:v==null?Lo:typeof v=="object"?ri(v)?F(v[0],v[1]):k(v):BM(v)}function Ql(v){if(!X6(v))return cd(v);var A=[];for(var J in la(v))Xi.call(v,J)&&J!="constructor"&&A.push(J);return A}function pm(v){if(!Ha(v))return lk(v);var A=X6(v),J=[];for(var De in v)De=="constructor"&&(A||!Xi.call(v,De))||J.push(De);return J}function Y6(v,A){return v<A}function g(v,A){var J=-1,De=_o(v)?dn(v.length):[];return v1(v,function(je,ut,zt){De[++J]=A(je,ut,zt)}),De}function k(v){var A=bm(v);return A.length==1&&A[0][2]?qC(A[0][0],A[0][1]):function(J){return J===v||W0(J,v,A)}}function F(v,A){return Mm(v)&&JC(A)?qC(y2(v),A):function(J){var De=Im(J,v);return De===t&&De===A?km(J,v):e0(A,De,h|p)}}function q(v,A,J,De,je){v!==A&&A3(A,function(ut,zt){if(je||(je=new Bo),Ha(ut))ae(v,A,zt,J,q,De,je);else{var Gt=De?De(_m(v,zt),ut,zt+"",v,A,je):t;Gt===t&&(Gt=ut),Yl(v,zt,Gt)}},So)}function ae(v,A,J,De,je,ut,zt){var Gt=_m(v,J),qt=_m(A,J),wn=zt.get(qt);if(wn){Yl(v,J,wn);return}var Sn=ut?ut(Gt,qt,J+"",v,A,zt):t,On=Sn===t;if(On){var tr=ri(qt),hr=!tr&&Y0(qt),Ar=!tr&&!hr&&B3(qt);Sn=qt,tr||hr||Ar?ri(Gt)?Sn=Gt:es(Gt)?Sn=xa(Gt):hr?(On=!1,Sn=Cs(qt,!0)):Ar?(On=!1,Sn=Ld(qt,!0)):Sn=[]:Q6(qt)||ec(qt)?(Sn=Gt,ec(Gt)?Sn=AM(Gt):(!Ha(Gt)||l0(Gt))&&(Sn=QC(qt))):On=!1}On&&(zt.set(qt,Sn),je(Sn,qt,De,ut,zt),zt.delete(qt)),Yl(v,J,Sn)}function ue(v,A){var J=v.length;if(J)return A+=A<0?J:0,o0(A,J)?v[A]:t}function Ae(v,A,J){A.length?A=Hi(A,function(ut){return ri(ut)?function(zt){return J2(zt,ut.length===1?ut[0]:ut)}:ut}):A=[Lo];var De=-1;A=Hi(A,Ks(Tr()));var je=g(v,function(ut,zt,Gt){var qt=Hi(A,function(wn){return wn(ut)});return{criteria:qt,index:++De,value:ut}});return Nl(je,function(ut,zt){return ps(ut,zt,J)})}function Ce(v,A){return Pe(v,A,function(J,De){return km(v,De)})}function Pe(v,A,J){for(var De=-1,je=A.length,ut={};++De<je;){var zt=A[De],Gt=J2(v,zt);J(Gt,zt)&&Ht(ut,na(zt,v),Gt)}return ut}function Ge(v){return function(A){return J2(A,v)}}function $e(v,A,J,De){var je=De?Np:f2,ut=-1,zt=A.length,Gt=v;for(v===A&&(A=xa(A)),J&&(Gt=Hi(v,Ks(J)));++ut<zt;)for(var qt=0,wn=A[ut],Sn=J?J(wn):wn;(qt=je(Gt,Sn,qt,De))>-1;)Gt!==v&&m3.call(Gt,qt,1),m3.call(v,qt,1);return v}function ft(v,A){for(var J=v?A.length:0,De=J-1;J--;){var je=A[J];if(J==De||je!==ut){var ut=je;o0(je)?m3.call(v,je,1):di(v,je)}}return v}function dt(v,A){return v+Ul(A6()*(A-v+1))}function Pt(v,A,J,De){for(var je=-1,ut=Ga(v3((A-v)/(J||1)),0),zt=dn(ut);ut--;)zt[De?ut:++je]=v,v+=J;return zt}function Ut(v,A){var J="";if(!v||A<1||A>$)return J;do A%2&&(J+=v),A=Ul(A/2),A&&(v+=v);while(A);return J}function at(v,A){return Sm(eM(v,A,Lo),v+"")}function Lt(v){return R6(V3(v))}function It(v,A){var J=V3(v);return kd(J,Q2(A,0,J.length))}function Ht(v,A,J,De){if(!Ha(v))return v;A=na(A,v);for(var je=-1,ut=A.length,zt=ut-1,Gt=v;Gt!=null&&++je<ut;){var qt=y2(A[je]),wn=J;if(qt==="__proto__"||qt==="constructor"||qt==="prototype")return v;if(je!=zt){var Sn=Gt[qt];wn=De?De(Sn,qt,Gt):t,wn===t&&(wn=Ha(Sn)?Sn:o0(A[je+1])?[]:{})}Zl(Gt,qt,wn),Gt=Gt[qt]}return v}var jt=y3?function(v,A){return y3.set(v,A),v}:Lo,kt=j0?function(v,A){return j0(v,"toString",{configurable:!0,enumerable:!1,value:Pm(A),writable:!0})}:Lo;function vn(v){return kd(V3(v))}function In(v,A,J){var De=-1,je=v.length;A<0&&(A=-A>je?0:je+A),J=J>je?je:J,J<0&&(J+=je),je=A>J?0:J-A>>>0,A>>>=0;for(var ut=dn(je);++De<je;)ut[De]=v[De+A];return ut}function $n(v,A){var J;return v1(v,function(De,je,ut){return J=A(De,je,ut),!J}),!!J}function Bn(v,A,J){var De=0,je=v==null?De:v.length;if(typeof A=="number"&&A===A&&je<=ie){for(;De<je;){var ut=De+je>>>1,zt=v[ut];zt!==null&&!Ho(zt)&&(J?zt<=A:zt<A)?De=ut+1:je=ut}return je}return Zn(v,A,Lo,J)}function Zn(v,A,J,De){var je=0,ut=v==null?0:v.length;if(ut===0)return 0;A=J(A);for(var zt=A!==A,Gt=A===null,qt=Ho(A),wn=A===t;je<ut;){var Sn=Ul((je+ut)/2),On=J(v[Sn]),tr=On!==t,hr=On===null,Ar=On===On,bi=Ho(On);if(zt)var zr=De||Ar;else wn?zr=Ar&&(De||tr):Gt?zr=Ar&&tr&&(De||!hr):qt?zr=Ar&&tr&&!hr&&(De||!bi):hr||bi?zr=!1:zr=De?On<=A:On<A;zr?je=Sn+1:ut=Sn}return ks(ut,X)}function Xn(v,A){for(var J=-1,De=v.length,je=0,ut=[];++J<De;){var zt=v[J],Gt=A?A(zt):zt;if(!J||!U1(Gt,qt)){var qt=Gt;ut[je++]=zt===0?0:zt}}return ut}function Cr(v){return typeof v=="number"?v:Ho(v)?j:+v}function Wn(v){if(typeof v=="string")return v;if(ri(v))return Hi(v,Wn)+"";if(Ho(v))return I6?I6.call(v):"";var A=v+"";return A=="0"&&1/v==-Z?"-0":A}function ur(v,A,J){var De=-1,je=Pi,ut=v.length,zt=!0,Gt=[],qt=Gt;if(J)zt=!1,je=Xs;else if(ut>=e){var wn=A?null:WI(v);if(wn)return l3(wn);zt=!1,je=$2,qt=new K2}else qt=A?[]:Gt;e:for(;++De<ut;){var Sn=v[De],On=A?A(Sn):Sn;if(Sn=J||Sn!==0?Sn:0,zt&&On===On){for(var tr=qt.length;tr--;)if(qt[tr]===On)continue e;A&&qt.push(On),Gt.push(Sn)}else je(qt,On,J)||(qt!==Gt&&qt.push(On),Gt.push(Sn))}return Gt}function di(v,A){return A=na(A,v),v=tM(v,A),v==null||delete v[y2(y1(A))]}function _a(v,A,J,De){return Ht(v,A,J(J2(v,A)),De)}function Li(v,A,J,De){for(var je=v.length,ut=De?je:-1;(De?ut--:++ut<je)&&A(v[ut],ut,v););return J?In(v,De?0:ut,De?ut+1:je):In(v,De?ut+1:0,De?je:ut)}function Rn(v,A){var J=v;return J instanceof Si&&(J=J.value()),j2(A,function(De,je){return je.func.apply(je.thisArg,$s([De],je.args))},J)}function yr(v,A,J){var De=v.length;if(De<2)return De?ur(v[0]):[];for(var je=-1,ut=dn(De);++je<De;)for(var zt=v[je],Gt=-1;++Gt<De;)Gt!=je&&(ut[je]=Mo(ut[je]||zt,v[Gt],A,J));return ur(ds(ut,1),A,J)}function Sr(v,A,J){for(var De=-1,je=v.length,ut=A.length,zt={};++De<je;){var Gt=De<ut?A[De]:t;J(zt,v[De],Gt)}return zt}function hi(v){return es(v)?v:[]}function ca(v){return typeof v=="function"?v:Lo}function na(v,A){return ri(v)?v:Mm(v,A)?[v]:aM(ra(v))}var hs=at;function Aa(v,A,J){var De=v.length;return J=J===t?De:J,!A&&J>=De?v:In(v,A,J)}var Ps=Yp||function(v){return ti.clearTimeout(v)};function Cs(v,A){if(A)return v.slice();var J=v.length,De=id?id(J):new v.constructor(J);return v.copy(De),De}function Rs(v){var A=new v.constructor(v.byteLength);return new p3(A).set(new p3(v)),A}function Ms(v,A){var J=A?Rs(v.buffer):v.buffer;return new v.constructor(J,v.byteOffset,v.byteLength)}function Qs(v){var A=new v.constructor(v.source,St.exec(v));return A.lastIndex=v.lastIndex,A}function t0(v){return X2?la(X2.call(v)):{}}function Ld(v,A){var J=A?Rs(v.buffer):v.buffer;return new v.constructor(J,v.byteOffset,v.length)}function wo(v,A){if(v!==A){var J=v!==t,De=v===null,je=v===v,ut=Ho(v),zt=A!==t,Gt=A===null,qt=A===A,wn=Ho(A);if(!Gt&&!wn&&!ut&&v>A||ut&&zt&&qt&&!Gt&&!wn||De&&zt&&qt||!J&&qt||!je)return 1;if(!De&&!ut&&!wn&&v<A||wn&&J&&je&&!De&&!ut||Gt&&J&&je||!zt&&je||!qt)return-1}return 0}function ps(v,A,J){for(var De=-1,je=v.criteria,ut=A.criteria,zt=je.length,Gt=J.length;++De<zt;){var qt=wo(je[De],ut[De]);if(qt){if(De>=Gt)return qt;var wn=J[De];return qt*(wn=="desc"?-1:1)}}return v.index-A.index}function lo(v,A,J,De){for(var je=-1,ut=v.length,zt=J.length,Gt=-1,qt=A.length,wn=Ga(ut-zt,0),Sn=dn(qt+wn),On=!De;++Gt<qt;)Sn[Gt]=A[Gt];for(;++je<zt;)(On||je<ut)&&(Sn[J[je]]=v[je]);for(;wn--;)Sn[Gt++]=v[je++];return Sn}function Vo(v,A,J,De){for(var je=-1,ut=v.length,zt=-1,Gt=J.length,qt=-1,wn=A.length,Sn=Ga(ut-Gt,0),On=dn(Sn+wn),tr=!De;++je<Sn;)On[je]=v[je];for(var hr=je;++qt<wn;)On[hr+qt]=A[qt];for(;++zt<Gt;)(tr||je<ut)&&(On[hr+J[zt]]=v[je++]);return On}function xa(v,A){var J=-1,De=v.length;for(A||(A=dn(De));++J<De;)A[J]=v[J];return A}function Ws(v,A,J,De){var je=!J;J||(J={});for(var ut=-1,zt=A.length;++ut<zt;){var Gt=A[ut],qt=De?De(J[Gt],v[Gt],Gt,J,v):t;qt===t&&(qt=v[Gt]),je?m1(J,Gt,qt):Zl(J,Gt,qt)}return J}function n0(v,A){return Ws(v,Cm(v),A)}function g2(v,A){return Ws(v,XC(v),A)}function r0(v,A){return function(J,De){var je=ri(J)?ga:om,ut=A?A():{};return je(J,v,Tr(De,2),ut)}}function i0(v){return at(function(A,J){var De=-1,je=J.length,ut=je>1?J[je-1]:t,zt=je>2?J[2]:t;for(ut=v.length>3&&typeof ut=="function"?(je--,ut):t,zt&&co(J[0],J[1],zt)&&(ut=je<3?t:ut,je=1),A=la(A);++De<je;){var Gt=J[De];Gt&&v(A,Gt,De,ut)}return A})}function OC(v,A){return function(J,De){if(J==null)return J;if(!_o(J))return v(J,De);for(var je=J.length,ut=A?je:-1,zt=la(J);(A?ut--:++ut<je)&&De(zt[ut],ut,zt)!==!1;);return J}}function FC(v){return function(A,J,De){for(var je=-1,ut=la(A),zt=De(A),Gt=zt.length;Gt--;){var qt=zt[v?Gt:++je];if(J(ut[qt],qt,ut)===!1)break}return A}}function jI(v,A,J){var De=A&m,je=Z6(v);function ut(){var zt=this&&this!==ti&&this instanceof ut?je:v;return zt.apply(De?J:this,arguments)}return ut}function BC(v){return function(A){A=ra(A);var J=W2(A)?Fo(A):t,De=J?J[0]:A.charAt(0),je=J?Aa(J,1).join(""):A.slice(1);return De[v]()+je}}function O3(v){return function(A){return j2(OM(RM(A).replace(Mr,"")),v,"")}}function Z6(v){return function(){var A=arguments;switch(A.length){case 0:return new v;case 1:return new v(A[0]);case 2:return new v(A[0],A[1]);case 3:return new v(A[0],A[1],A[2]);case 4:return new v(A[0],A[1],A[2],A[3]);case 5:return new v(A[0],A[1],A[2],A[3],A[4]);case 6:return new v(A[0],A[1],A[2],A[3],A[4],A[5]);case 7:return new v(A[0],A[1],A[2],A[3],A[4],A[5],A[6])}var J=$0(v.prototype),De=v.apply(J,A);return Ha(De)?De:J}}function GI(v,A,J){var De=Z6(v);function je(){for(var ut=arguments.length,zt=dn(ut),Gt=ut,qt=F3(je);Gt--;)zt[Gt]=arguments[Gt];var wn=ut<3&&zt[0]!==qt&&zt[ut-1]!==qt?[]:h2(zt,qt);if(ut-=wn.length,ut<J)return GC(v,A,Dd,je.placeholder,t,zt,wn,t,t,J-ut);var Sn=this&&this!==ti&&this instanceof je?De:v;return oa(Sn,this,zt)}return je}function VC(v){return function(A,J,De){var je=la(A);if(!_o(A)){var ut=Tr(J,3);A=Os(A),J=function(Gt){return ut(je[Gt],Gt,je)}}var zt=v(A,J,De);return zt>-1?je[ut?A[zt]:zt]:t}}function HC(v){return s0(function(A){var J=A.length,De=J,je=oo.prototype.thru;for(v&&A.reverse();De--;){var ut=A[De];if(typeof ut!="function")throw new so(i);if(je&&!zt&&Ed(ut)=="wrapper")var zt=new oo([],!0)}for(De=zt?De:J;++De<J;){ut=A[De];var Gt=Ed(ut),qt=Gt=="wrapper"?xm(ut):t;qt&&wm(qt[0])&&qt[1]==(D|x|L|C)&&!qt[4].length&&qt[9]==1?zt=zt[Ed(qt[0])].apply(zt,qt[3]):zt=ut.length==1&&wm(ut)?zt[Gt]():zt.thru(ut)}return function(){var wn=arguments,Sn=wn[0];if(zt&&wn.length==1&&ri(Sn))return zt.plant(Sn).value();for(var On=0,tr=J?A[On].apply(this,wn):Sn;++On<J;)tr=A[On].call(this,tr);return tr}})}function Dd(v,A,J,De,je,ut,zt,Gt,qt,wn){var Sn=A&D,On=A&m,tr=A&d,hr=A&(x|w),Ar=A&z,bi=tr?t:Z6(v);function zr(){for(var Ri=arguments.length,Bi=dn(Ri),Uo=Ri;Uo--;)Bi[Uo]=arguments[Uo];if(hr)var uo=F3(zr),jo=Xf(Bi,uo);if(De&&(Bi=lo(Bi,De,je,hr)),ut&&(Bi=Vo(Bi,ut,zt,hr)),Ri-=jo,hr&&Ri<wn){var ts=h2(Bi,uo);return GC(v,A,Dd,zr.placeholder,J,Bi,ts,Gt,qt,wn-Ri)}var j1=On?J:this,u0=tr?j1[v]:v;return Ri=Bi.length,Gt?Bi=uk(Bi,Gt):Ar&&Ri>1&&Bi.reverse(),Sn&&qt<Ri&&(Bi.length=qt),this&&this!==ti&&this instanceof zr&&(u0=bi||Z6(u0)),u0.apply(j1,Bi)}return zr}function UC(v,A){return function(J,De){return Kl(J,v,A(De),{})}}function Td(v,A){return function(J,De){var je;if(J===t&&De===t)return A;if(J!==t&&(je=J),De!==t){if(je===t)return De;typeof J=="string"||typeof De=="string"?(J=Wn(J),De=Wn(De)):(J=Cr(J),De=Cr(De)),je=v(J,De)}return je}}function mm(v){return s0(function(A){return A=Hi(A,Ks(Tr())),at(function(J){var De=this;return v(A,function(je){return oa(je,De,J)})})})}function Ad(v,A){A=A===t?" ":Wn(A);var J=A.length;if(J<2)return J?Ut(A,v):A;var De=Ut(A,v3(v/H0(A)));return W2(A)?Aa(Fo(De),0,v).join(""):De.slice(0,v)}function $I(v,A,J,De){var je=A&m,ut=Z6(v);function zt(){for(var Gt=-1,qt=arguments.length,wn=-1,Sn=De.length,On=dn(Sn+qt),tr=this&&this!==ti&&this instanceof zt?ut:v;++wn<Sn;)On[wn]=De[wn];for(;qt--;)On[wn++]=arguments[++Gt];return oa(tr,je?J:this,On)}return zt}function jC(v){return function(A,J,De){return De&&typeof De!="number"&&co(A,J,De)&&(J=De=t),A=c0(A),J===t?(J=A,A=0):J=c0(J),De=De===t?A<J?1:-1:c0(De),Pt(A,J,De,v)}}function zd(v){return function(A,J){return typeof A=="string"&&typeof J=="string"||(A=x1(A),J=x1(J)),v(A,J)}}function GC(v,A,J,De,je,ut,zt,Gt,qt,wn){var Sn=A&x,On=Sn?zt:t,tr=Sn?t:zt,hr=Sn?ut:t,Ar=Sn?t:ut;A|=Sn?L:_,A&=~(Sn?_:L),A&y||(A&=~(m|d));var bi=[v,A,je,hr,On,Ar,tr,Gt,qt,wn],zr=J.apply(t,bi);return wm(v)&&nM(zr,bi),zr.placeholder=De,rM(zr,v,A)}function vm(v){var A=ja[v];return function(J,De){if(J=x1(J),De=De==null?0:ks(pi(De),292),De&&g3(J)){var je=(ra(J)+"e").split("e"),ut=A(je[0]+"e"+(+je[1]+De));return je=(ra(ut)+"e").split("e"),+(je[0]+"e"+(+je[1]-De))}return A(J)}}var WI=G0&&1/l3(new G0([,-0]))[1]==Z?function(v){return new G0(v)}:Fm;function $C(v){return function(A){var J=Js(A);return J==ze?L6(A):J==G?Vp(A):Zf(A,v(A))}}function a0(v,A,J,De,je,ut,zt,Gt){var qt=A&d;if(!qt&&typeof v!="function")throw new so(i);var wn=De?De.length:0;if(wn||(A&=~(L|_),De=je=t),zt=zt===t?zt:Ga(pi(zt),0),Gt=Gt===t?Gt:pi(Gt),wn-=je?je.length:0,A&_){var Sn=De,On=je;De=je=t}var tr=qt?t:xm(v),hr=[v,A,J,De,je,Sn,On,ut,zt,Gt];if(tr&&ok(hr,tr),v=hr[0],A=hr[1],J=hr[2],De=hr[3],je=hr[4],Gt=hr[9]=hr[9]===t?qt?0:v.length:Ga(hr[9]-wn,0),!Gt&&A&(x|w)&&(A&=~(x|w)),!A||A==m)var Ar=jI(v,A,J);else A==x||A==w?Ar=GI(v,A,Gt):(A==L||A==(m|L))&&!je.length?Ar=$I(v,A,J,De):Ar=Dd.apply(t,hr);var bi=tr?jt:nM;return rM(bi(Ar,hr),v,A)}function WC(v,A,J,De){return v===t||U1(v,U0[J])&&!Xi.call(De,J)?A:v}function YC(v,A,J,De,je,ut){return Ha(v)&&Ha(A)&&(ut.set(A,v),q(v,A,t,YC,ut),ut.delete(A)),v}function YI(v){return Q6(v)?t:v}function ZC(v,A,J,De,je,ut){var zt=J&h,Gt=v.length,qt=A.length;if(Gt!=qt&&!(zt&&qt>Gt))return!1;var wn=ut.get(v),Sn=ut.get(A);if(wn&&Sn)return wn==A&&Sn==v;var On=-1,tr=!0,hr=J&p?new K2:t;for(ut.set(v,A),ut.set(A,v);++On<Gt;){var Ar=v[On],bi=A[On];if(De)var zr=zt?De(bi,Ar,On,A,v,ut):De(Ar,bi,On,v,A,ut);if(zr!==t){if(zr)continue;tr=!1;break}if(hr){if(!B1(A,function(Ri,Bi){if(!$2(hr,Bi)&&(Ar===Ri||je(Ar,Ri,J,De,ut)))return hr.push(Bi)})){tr=!1;break}}else if(!(Ar===bi||je(Ar,bi,J,De,ut))){tr=!1;break}}return ut.delete(v),ut.delete(A),tr}function ZI(v,A,J,De,je,ut,zt){switch(J){case we:if(v.byteLength!=A.byteLength||v.byteOffset!=A.byteOffset)return!1;v=v.buffer,A=A.buffer;case xe:return!(v.byteLength!=A.byteLength||!ut(new p3(v),new p3(A)));case Q:case re:case Te:return U1(+v,+A);case le:return v.name==A.name&&v.message==A.message;case ee:case E:return v==A+"";case ze:var Gt=L6;case G:var qt=De&h;if(Gt||(Gt=l3),v.size!=A.size&&!qt)return!1;var wn=zt.get(v);if(wn)return wn==A;De|=p,zt.set(v,A);var Sn=ZC(Gt(v),Gt(A),De,je,ut,zt);return zt.delete(v),Sn;case K:if(X2)return X2.call(v)==X2.call(A)}return!1}function XI(v,A,J,De,je,ut){var zt=J&h,Gt=gm(v),qt=Gt.length,wn=gm(A),Sn=wn.length;if(qt!=Sn&&!zt)return!1;for(var On=qt;On--;){var tr=Gt[On];if(!(zt?tr in A:Xi.call(A,tr)))return!1}var hr=ut.get(v),Ar=ut.get(A);if(hr&&Ar)return hr==A&&Ar==v;var bi=!0;ut.set(v,A),ut.set(A,v);for(var zr=zt;++On<qt;){tr=Gt[On];var Ri=v[tr],Bi=A[tr];if(De)var Uo=zt?De(Bi,Ri,tr,A,v,ut):De(Ri,Bi,tr,v,A,ut);if(!(Uo===t?Ri===Bi||je(Ri,Bi,J,De,ut):Uo)){bi=!1;break}zr||(zr=tr=="constructor")}if(bi&&!zr){var uo=v.constructor,jo=A.constructor;uo!=jo&&"constructor"in v&&"constructor"in A&&!(typeof uo=="function"&&uo instanceof uo&&typeof jo=="function"&&jo instanceof jo)&&(bi=!1)}return ut.delete(v),ut.delete(A),bi}function s0(v){return Sm(eM(v,t,cM),v+"")}function gm(v){return wd(v,Os,Cm)}function ym(v){return wd(v,So,XC)}var xm=y3?function(v){return y3.get(v)}:Fm;function Ed(v){for(var A=v.name+"",J=Z2[A],De=Xi.call(Z2,A)?J.length:0;De--;){var je=J[De],ut=je.func;if(ut==null||ut==v)return je.name}return A}function F3(v){var A=Xi.call(nt,"placeholder")?nt:v;return A.placeholder}function Tr(){var v=nt.iteratee||Rm;return v=v===Rm?Sd:v,arguments.length?v(arguments[0],arguments[1]):v}function Id(v,A){var J=v.__data__;return rk(A)?J[typeof A=="string"?"string":"hash"]:J.map}function bm(v){for(var A=Os(v),J=A.length;J--;){var De=A[J],je=v[De];A[J]=[De,je,JC(je)]}return A}function Jl(v,A){var J=Kf(v,A);return W6(J)?J:t}function KI(v){var A=Xi.call(v,H1),J=v[H1];try{v[H1]=t;var De=!0}catch{}var je=d3.call(v);return De&&(A?v[H1]=J:delete v[H1]),je}var Cm=T6?function(v){return v==null?[]:(v=la(v),wr(T6(v),function(A){return sd.call(v,A)}))}:Bm,XC=T6?function(v){for(var A=[];v;)$s(A,Cm(v)),v=Vl(v);return A}:Bm,Js=Ns;(jl&&Js(new jl(new ArrayBuffer(1)))!=we||Y2&&Js(new Y2)!=ze||z6&&Js(z6.resolve())!=P||G0&&Js(new G0)!=G||Gl&&Js(new Gl)!=ne)&&(Js=function(v){var A=Ns(v),J=A==he?v.constructor:t,De=J?ql(J):"";if(De)switch(De){case dd:return we;case E6:return ze;case hd:return P;case x3:return G;case b3:return ne}return A});function QI(v,A,J){for(var De=-1,je=J.length;++De<je;){var ut=J[De],zt=ut.size;switch(ut.type){case"drop":v+=zt;break;case"dropRight":A-=zt;break;case"take":A=ks(A,v+zt);break;case"takeRight":v=Ga(v,A-zt);break}}return{start:v,end:A}}function JI(v){var A=v.match(ve);return A?A[1].split(ge):[]}function KC(v,A,J){A=na(A,v);for(var De=-1,je=A.length,ut=!1;++De<je;){var zt=y2(A[De]);if(!(ut=v!=null&&J(v,zt)))break;v=v[zt]}return ut||++De!=je?ut:(je=v==null?0:v.length,!!je&&Bd(je)&&o0(zt,je)&&(ri(v)||ec(v)))}function qI(v){var A=v.length,J=new v.constructor(A);return A&&typeof v[0]=="string"&&Xi.call(v,"index")&&(J.index=v.index,J.input=v.input),J}function QC(v){return typeof v.constructor=="function"&&!X6(v)?$0(Vl(v)):{}}function ek(v,A,J){var De=v.constructor;switch(A){case xe:return Rs(v);case Q:case re:return new De(+v);case we:return Ms(v,J);case Ee:case Oe:case Ke:case Je:case rt:case Me:case ke:case Le:case He:return Ld(v,J);case ze:return new De;case Te:case E:return new De(v);case ee:return Qs(v);case G:return new De;case K:return t0(v)}}function tk(v,A){var J=A.length;if(!J)return v;var De=J-1;return A[De]=(J>1?"& ":"")+A[De],A=A.join(J>2?", ":" "),v.replace(Be,`{
/* [wrapped with `+A+`] */
`)}function nk(v){return ri(v)||ec(v)||!!(od&&v&&v[od])}function o0(v,A){var J=typeof v;return A=A??$,!!A&&(J=="number"||J!="symbol"&&Xt.test(v))&&v>-1&&v%1==0&&v<A}function co(v,A,J){if(!Ha(J))return!1;var De=typeof A;return(De=="number"?_o(J)&&o0(A,J.length):De=="string"&&A in J)?U1(J[A],v):!1}function Mm(v,A){if(ri(v))return!1;var J=typeof v;return J=="number"||J=="symbol"||J=="boolean"||v==null||Ho(v)?!0:Vt.test(v)||!Wt.test(v)||A!=null&&v in la(A)}function rk(v){var A=typeof v;return A=="string"||A=="number"||A=="symbol"||A=="boolean"?v!=="__proto__":v===null}function wm(v){var A=Ed(v),J=nt[A];if(typeof J!="function"||!(A in Si.prototype))return!1;if(v===J)return!0;var De=xm(J);return!!De&&v===De[0]}function ik(v){return!!rd&&rd in v}var ak=u3?l0:Vm;function X6(v){var A=v&&v.constructor,J=typeof A=="function"&&A.prototype||U0;return v===J}function JC(v){return v===v&&!Ha(v)}function qC(v,A){return function(J){return J==null?!1:J[v]===A&&(A!==t||v in la(J))}}function sk(v){var A=Od(v,function(De){return J.size===o&&J.clear(),De}),J=A.cache;return A}function ok(v,A){var J=v[1],De=A[1],je=J|De,ut=je<(m|d|D),zt=De==D&&J==x||De==D&&J==C&&v[7].length<=A[8]||De==(D|C)&&A[7].length<=A[8]&&J==x;if(!(ut||zt))return v;De&m&&(v[2]=A[2],je|=J&m?0:y);var Gt=A[3];if(Gt){var qt=v[3];v[3]=qt?lo(qt,Gt,A[4]):Gt,v[4]=qt?h2(v[3],c):A[4]}return Gt=A[5],Gt&&(qt=v[5],v[5]=qt?Vo(qt,Gt,A[6]):Gt,v[6]=qt?h2(v[5],c):A[6]),Gt=A[7],Gt&&(v[7]=Gt),De&D&&(v[8]=v[8]==null?A[8]:ks(v[8],A[8])),v[9]==null&&(v[9]=A[9]),v[0]=A[0],v[1]=je,v}function lk(v){var A=[];if(v!=null)for(var J in la(v))A.push(J);return A}function ck(v){return d3.call(v)}function eM(v,A,J){return A=Ga(A===t?v.length-1:A,0),function(){for(var De=arguments,je=-1,ut=Ga(De.length-A,0),zt=dn(ut);++je<ut;)zt[je]=De[A+je];je=-1;for(var Gt=dn(A+1);++je<A;)Gt[je]=De[je];return Gt[A]=J(zt),oa(v,this,Gt)}}function tM(v,A){return A.length<2?v:J2(v,In(A,0,-1))}function uk(v,A){for(var J=v.length,De=ks(A.length,J),je=xa(v);De--;){var ut=A[De];v[De]=o0(ut,J)?je[ut]:t}return v}function _m(v,A){if(!(A==="constructor"&&typeof v[A]=="function")&&A!="__proto__")return v[A]}var nM=iM(jt),K6=Xp||function(v,A){return ti.setTimeout(v,A)},Sm=iM(kt);function rM(v,A,J){var De=A+"";return Sm(v,tk(De,fk(JI(De),J)))}function iM(v){var A=0,J=0;return function(){var De=Qp(),je=I-(De-J);if(J=De,je>0){if(++A>=M)return arguments[0]}else A=0;return v.apply(t,arguments)}}function kd(v,A){var J=-1,De=v.length,je=De-1;for(A=A===t?De:A;++J<A;){var ut=dt(J,je),zt=v[ut];v[ut]=v[J],v[J]=zt}return v.length=A,v}var aM=sk(function(v){var A=[];return v.charCodeAt(0)===46&&A.push(""),v.replace(Yt,function(J,De,je,ut){A.push(je?ut.replace(Ue,"$1"):De||J)}),A});function y2(v){if(typeof v=="string"||Ho(v))return v;var A=v+"";return A=="0"&&1/v==-Z?"-0":A}function ql(v){if(v!=null){try{return f3.call(v)}catch{}try{return v+""}catch{}}return""}function fk(v,A){return ha(oe,function(J){var De="_."+J[0];A&J[1]&&!Pi(v,De)&&v.push(De)}),v.sort()}function sM(v){if(v instanceof Si)return v.clone();var A=new oo(v.__wrapped__,v.__chain__);return A.__actions__=xa(v.__actions__),A.__index__=v.__index__,A.__values__=v.__values__,A}function dk(v,A,J){(J?co(v,A,J):A===t)?A=1:A=Ga(pi(A),0);var De=v==null?0:v.length;if(!De||A<1)return[];for(var je=0,ut=0,zt=dn(v3(De/A));je<De;)zt[ut++]=In(v,je,je+=A);return zt}function hk(v){for(var A=-1,J=v==null?0:v.length,De=0,je=[];++A<J;){var ut=v[A];ut&&(je[De++]=ut)}return je}function pk(){var v=arguments.length;if(!v)return[];for(var A=dn(v-1),J=arguments[0],De=v;De--;)A[De-1]=arguments[De];return $s(ri(J)?xa(J):[J],ds(A,1))}var mk=at(function(v,A){return es(v)?Mo(v,ds(A,1,es,!0)):[]}),vk=at(function(v,A){var J=y1(A);return es(J)&&(J=t),es(v)?Mo(v,ds(A,1,es,!0),Tr(J,2)):[]}),gk=at(function(v,A){var J=y1(A);return es(J)&&(J=t),es(v)?Mo(v,ds(A,1,es,!0),t,J):[]});function yk(v,A,J){var De=v==null?0:v.length;return De?(A=J||A===t?1:pi(A),In(v,A<0?0:A,De)):[]}function xk(v,A,J){var De=v==null?0:v.length;return De?(A=J||A===t?1:pi(A),A=De-A,In(v,0,A<0?0:A)):[]}function bk(v,A){return v&&v.length?Li(v,Tr(A,3),!0,!0):[]}function Ck(v,A){return v&&v.length?Li(v,Tr(A,3),!0):[]}function Mk(v,A,J,De){var je=v==null?0:v.length;return je?(J&&typeof J!="number"&&co(v,A,J)&&(J=0,De=je),cm(v,A,J,De)):[]}function oM(v,A,J){var De=v==null?0:v.length;if(!De)return-1;var je=J==null?0:pi(J);return je<0&&(je=Ga(De+je,0)),Il(v,Tr(A,3),je)}function lM(v,A,J){var De=v==null?0:v.length;if(!De)return-1;var je=De-1;return J!==t&&(je=pi(J),je=J<0?Ga(De+je,0):ks(je,De-1)),Il(v,Tr(A,3),je,!0)}function cM(v){var A=v==null?0:v.length;return A?ds(v,1):[]}function wk(v){var A=v==null?0:v.length;return A?ds(v,Z):[]}function _k(v,A){var J=v==null?0:v.length;return J?(A=A===t?1:pi(A),ds(v,A)):[]}function Sk(v){for(var A=-1,J=v==null?0:v.length,De={};++A<J;){var je=v[A];De[je[0]]=je[1]}return De}function uM(v){return v&&v.length?v[0]:t}function Lk(v,A,J){var De=v==null?0:v.length;if(!De)return-1;var je=J==null?0:pi(J);return je<0&&(je=Ga(De+je,0)),f2(v,A,je)}function Dk(v){var A=v==null?0:v.length;return A?In(v,0,-1):[]}var Tk=at(function(v){var A=Hi(v,hi);return A.length&&A[0]===v[0]?P3(A):[]}),Ak=at(function(v){var A=y1(v),J=Hi(v,hi);return A===y1(J)?A=t:J.pop(),J.length&&J[0]===v[0]?P3(J,Tr(A,2)):[]}),zk=at(function(v){var A=y1(v),J=Hi(v,hi);return A=typeof A=="function"?A:t,A&&J.pop(),J.length&&J[0]===v[0]?P3(J,t,A):[]});function Ek(v,A){return v==null?"":ld.call(v,A)}function y1(v){var A=v==null?0:v.length;return A?v[A-1]:t}function Ik(v,A,J){var De=v==null?0:v.length;if(!De)return-1;var je=De;return J!==t&&(je=pi(J),je=je<0?Ga(De+je,0):ks(je,De-1)),A===A?Up(v,A,je):Il(v,kl,je,!0)}function kk(v,A){return v&&v.length?ue(v,pi(A)):t}var Nk=at(fM);function fM(v,A){return v&&v.length&&A&&A.length?$e(v,A):v}function Pk(v,A,J){return v&&v.length&&A&&A.length?$e(v,A,Tr(J,2)):v}function Rk(v,A,J){return v&&v.length&&A&&A.length?$e(v,A,t,J):v}var Ok=s0(function(v,A){var J=v==null?0:v.length,De=B6(v,A);return ft(v,Hi(A,function(je){return o0(je,J)?+je:je}).sort(wo)),De});function Fk(v,A){var J=[];if(!(v&&v.length))return J;var De=-1,je=[],ut=v.length;for(A=Tr(A,3);++De<ut;){var zt=v[De];A(zt,De,v)&&(J.push(zt),je.push(De))}return ft(v,je),J}function Lm(v){return v==null?v:fd.call(v)}function Bk(v,A,J){var De=v==null?0:v.length;return De?(J&&typeof J!="number"&&co(v,A,J)?(A=0,J=De):(A=A==null?0:pi(A),J=J===t?De:pi(J)),In(v,A,J)):[]}function Vk(v,A){return Bn(v,A)}function Hk(v,A,J){return Zn(v,A,Tr(J,2))}function Uk(v,A){var J=v==null?0:v.length;if(J){var De=Bn(v,A);if(De<J&&U1(v[De],A))return De}return-1}function jk(v,A){return Bn(v,A,!0)}function Gk(v,A,J){return Zn(v,A,Tr(J,2),!0)}function $k(v,A){var J=v==null?0:v.length;if(J){var De=Bn(v,A,!0)-1;if(U1(v[De],A))return De}return-1}function Wk(v){return v&&v.length?Xn(v):[]}function Yk(v,A){return v&&v.length?Xn(v,Tr(A,2)):[]}function Zk(v){var A=v==null?0:v.length;return A?In(v,1,A):[]}function Xk(v,A,J){return v&&v.length?(A=J||A===t?1:pi(A),In(v,0,A<0?0:A)):[]}function Kk(v,A,J){var De=v==null?0:v.length;return De?(A=J||A===t?1:pi(A),A=De-A,In(v,A<0?0:A,De)):[]}function Qk(v,A){return v&&v.length?Li(v,Tr(A,3),!1,!0):[]}function Jk(v,A){return v&&v.length?Li(v,Tr(A,3)):[]}var qk=at(function(v){return ur(ds(v,1,es,!0))}),eN=at(function(v){var A=y1(v);return es(A)&&(A=t),ur(ds(v,1,es,!0),Tr(A,2))}),tN=at(function(v){var A=y1(v);return A=typeof A=="function"?A:t,ur(ds(v,1,es,!0),t,A)});function nN(v){return v&&v.length?ur(v):[]}function rN(v,A){return v&&v.length?ur(v,Tr(A,2)):[]}function iN(v,A){return A=typeof A=="function"?A:t,v&&v.length?ur(v,t,A):[]}function Dm(v){if(!(v&&v.length))return[];var A=0;return v=wr(v,function(J){if(es(J))return A=Ga(J.length,A),!0}),Pl(A,function(J){return Hi(v,M6(J))})}function dM(v,A){if(!(v&&v.length))return[];var J=Dm(v);return A==null?J:Hi(J,function(De){return oa(A,t,De)})}var aN=at(function(v,A){return es(v)?Mo(v,A):[]}),sN=at(function(v){return yr(wr(v,es))}),oN=at(function(v){var A=y1(v);return es(A)&&(A=t),yr(wr(v,es),Tr(A,2))}),lN=at(function(v){var A=y1(v);return A=typeof A=="function"?A:t,yr(wr(v,es),t,A)}),cN=at(Dm);function uN(v,A){return Sr(v||[],A||[],Zl)}function fN(v,A){return Sr(v||[],A||[],Ht)}var dN=at(function(v){var A=v.length,J=A>1?v[A-1]:t;return J=typeof J=="function"?(v.pop(),J):t,dM(v,J)});function hM(v){var A=nt(v);return A.__chain__=!0,A}function hN(v,A){return A(v),v}function Nd(v,A){return A(v)}var pN=s0(function(v){var A=v.length,J=A?v[0]:0,De=this.__wrapped__,je=function(ut){return B6(ut,v)};return A>1||this.__actions__.length||!(De instanceof Si)||!o0(J)?this.thru(je):(De=De.slice(J,+J+(A?1:0)),De.__actions__.push({func:Nd,args:[je],thisArg:t}),new oo(De,this.__chain__).thru(function(ut){return A&&!ut.length&&ut.push(t),ut}))});function mN(){return hM(this)}function vN(){return new oo(this.value(),this.__chain__)}function gN(){this.__values__===t&&(this.__values__=DM(this.value()));var v=this.__index__>=this.__values__.length,A=v?t:this.__values__[this.__index__++];return{done:v,value:A}}function yN(){return this}function xN(v){for(var A,J=this;J instanceof Wl;){var De=sM(J);De.__index__=0,De.__values__=t,A?je.__wrapped__=De:A=De;var je=De;J=J.__wrapped__}return je.__wrapped__=v,A}function bN(){var v=this.__wrapped__;if(v instanceof Si){var A=v;return this.__actions__.length&&(A=new Si(this)),A=A.reverse(),A.__actions__.push({func:Nd,args:[Lm],thisArg:t}),new oo(A,this.__chain__)}return this.thru(Lm)}function CN(){return Rn(this.__wrapped__,this.__actions__)}var MN=r0(function(v,A,J){Xi.call(v,J)?++v[J]:m1(v,J,1)});function wN(v,A,J){var De=ri(v)?Qi:lm;return J&&co(v,A,J)&&(A=t),De(v,Tr(A,3))}function _N(v,A){var J=ri(v)?wr:U6;return J(v,Tr(A,3))}var SN=VC(oM),LN=VC(lM);function DN(v,A){return ds(Pd(v,A),1)}function TN(v,A){return ds(Pd(v,A),Z)}function AN(v,A,J){return J=J===t?1:pi(J),ds(Pd(v,A),J)}function pM(v,A){var J=ri(v)?ha:v1;return J(v,Tr(A,3))}function mM(v,A){var J=ri(v)?Vi:D3;return J(v,Tr(A,3))}var zN=r0(function(v,A,J){Xi.call(v,J)?v[J].push(A):m1(v,J,[A])});function EN(v,A,J,De){v=_o(v)?v:V3(v),J=J&&!De?pi(J):0;var je=v.length;return J<0&&(J=Ga(je+J,0)),Vd(v)?J<=je&&v.indexOf(A,J)>-1:!!je&&f2(v,A,J)>-1}var IN=at(function(v,A,J){var De=-1,je=typeof A=="function",ut=_o(v)?dn(v.length):[];return v1(v,function(zt){ut[++De]=je?oa(A,zt,J):ya(zt,A,J)}),ut}),kN=r0(function(v,A,J){m1(v,J,A)});function Pd(v,A){var J=ri(v)?Hi:g;return J(v,Tr(A,3))}function NN(v,A,J,De){return v==null?[]:(ri(A)||(A=A==null?[]:[A]),J=De?t:J,ri(J)||(J=J==null?[]:[J]),Ae(v,A,J))}var PN=r0(function(v,A,J){v[J?0:1].push(A)},function(){return[[],[]]});function RN(v,A,J){var De=ri(v)?j2:_6,je=arguments.length<3;return De(v,Tr(A,4),J,je,v1)}function ON(v,A,J){var De=ri(v)?u1:_6,je=arguments.length<3;return De(v,Tr(A,4),J,je,D3)}function FN(v,A){var J=ri(v)?wr:U6;return J(v,Fd(Tr(A,3)))}function BN(v){var A=ri(v)?R6:Lt;return A(v)}function VN(v,A,J){(J?co(v,A,J):A===t)?A=1:A=pi(A);var De=ri(v)?sm:It;return De(v,A)}function HN(v){var A=ri(v)?O6:vn;return A(v)}function UN(v){if(v==null)return 0;if(_o(v))return Vd(v)?H0(v):v.length;var A=Js(v);return A==ze||A==G?v.size:Ql(v).length}function jN(v,A,J){var De=ri(v)?B1:$n;return J&&co(v,A,J)&&(A=t),De(v,Tr(A,3))}var GN=at(function(v,A){if(v==null)return[];var J=A.length;return J>1&&co(v,A[0],A[1])?A=[]:J>2&&co(A[0],A[1],A[2])&&(A=[A[0]]),Ae(v,ds(A,1),[])}),Rd=Zp||function(){return ti.Date.now()};function $N(v,A){if(typeof A!="function")throw new so(i);return v=pi(v),function(){if(--v<1)return A.apply(this,arguments)}}function vM(v,A,J){return A=J?t:A,A=v&&A==null?v.length:A,a0(v,D,t,t,t,t,A)}function gM(v,A){var J;if(typeof A!="function")throw new so(i);return v=pi(v),function(){return--v>0&&(J=A.apply(this,arguments)),v<=1&&(A=t),J}}var Tm=at(function(v,A,J){var De=m;if(J.length){var je=h2(J,F3(Tm));De|=L}return a0(v,De,A,J,je)}),yM=at(function(v,A,J){var De=m|d;if(J.length){var je=h2(J,F3(yM));De|=L}return a0(A,De,v,J,je)});function xM(v,A,J){A=J?t:A;var De=a0(v,x,t,t,t,t,t,A);return De.placeholder=xM.placeholder,De}function bM(v,A,J){A=J?t:A;var De=a0(v,w,t,t,t,t,t,A);return De.placeholder=bM.placeholder,De}function CM(v,A,J){var De,je,ut,zt,Gt,qt,wn=0,Sn=!1,On=!1,tr=!0;if(typeof v!="function")throw new so(i);A=x1(A)||0,Ha(J)&&(Sn=!!J.leading,On="maxWait"in J,ut=On?Ga(x1(J.maxWait)||0,A):ut,tr="trailing"in J?!!J.trailing:tr);function hr(ts){var j1=De,u0=je;return De=je=t,wn=ts,zt=v.apply(u0,j1),zt}function Ar(ts){return wn=ts,Gt=K6(Ri,A),Sn?hr(ts):zt}function bi(ts){var j1=ts-qt,u0=ts-wn,VM=A-j1;return On?ks(VM,ut-u0):VM}function zr(ts){var j1=ts-qt,u0=ts-wn;return qt===t||j1>=A||j1<0||On&&u0>=ut}function Ri(){var ts=Rd();if(zr(ts))return Bi(ts);Gt=K6(Ri,bi(ts))}function Bi(ts){return Gt=t,tr&&De?hr(ts):(De=je=t,zt)}function Uo(){Gt!==t&&Ps(Gt),wn=0,De=qt=je=Gt=t}function uo(){return Gt===t?zt:Bi(Rd())}function jo(){var ts=Rd(),j1=zr(ts);if(De=arguments,je=this,qt=ts,j1){if(Gt===t)return Ar(qt);if(On)return Ps(Gt),Gt=K6(Ri,A),hr(qt)}return Gt===t&&(Gt=K6(Ri,A)),zt}return jo.cancel=Uo,jo.flush=uo,jo}var WN=at(function(v,A){return H6(v,1,A)}),YN=at(function(v,A,J){return H6(v,x1(A)||0,J)});function ZN(v){return a0(v,z)}function Od(v,A){if(typeof v!="function"||A!=null&&typeof A!="function")throw new so(i);var J=function(){var De=arguments,je=A?A.apply(this,De):De[0],ut=J.cache;if(ut.has(je))return ut.get(je);var zt=v.apply(this,De);return J.cache=ut.set(je,zt)||ut,zt};return J.cache=new(Od.Cache||p1),J}Od.Cache=p1;function Fd(v){if(typeof v!="function")throw new so(i);return function(){var A=arguments;switch(A.length){case 0:return!v.call(this);case 1:return!v.call(this,A[0]);case 2:return!v.call(this,A[0],A[1]);case 3:return!v.call(this,A[0],A[1],A[2])}return!v.apply(this,A)}}function XN(v){return gM(2,v)}var KN=hs(function(v,A){A=A.length==1&&ri(A[0])?Hi(A[0],Ks(Tr())):Hi(ds(A,1),Ks(Tr()));var J=A.length;return at(function(De){for(var je=-1,ut=ks(De.length,J);++je<ut;)De[je]=A[je].call(this,De[je]);return oa(v,this,De)})}),Am=at(function(v,A){var J=h2(A,F3(Am));return a0(v,L,t,A,J)}),MM=at(function(v,A){var J=h2(A,F3(MM));return a0(v,_,t,A,J)}),QN=s0(function(v,A){return a0(v,C,t,t,t,A)});function JN(v,A){if(typeof v!="function")throw new so(i);return A=A===t?A:pi(A),at(v,A)}function qN(v,A){if(typeof v!="function")throw new so(i);return A=A==null?0:Ga(pi(A),0),at(function(J){var De=J[A],je=Aa(J,0,A);return De&&$s(je,De),oa(v,this,je)})}function eP(v,A,J){var De=!0,je=!0;if(typeof v!="function")throw new so(i);return Ha(J)&&(De="leading"in J?!!J.leading:De,je="trailing"in J?!!J.trailing:je),CM(v,A,{leading:De,maxWait:A,trailing:je})}function tP(v){return vM(v,1)}function nP(v,A){return Am(ca(A),v)}function rP(){if(!arguments.length)return[];var v=arguments[0];return ri(v)?v:[v]}function iP(v){return bo(v,f)}function aP(v,A){return A=typeof A=="function"?A:t,bo(v,f,A)}function sP(v){return bo(v,l|f)}function oP(v,A){return A=typeof A=="function"?A:t,bo(v,l|f,A)}function lP(v,A){return A==null||V6(v,A,Os(A))}function U1(v,A){return v===A||v!==v&&A!==A}var cP=zd(I3),uP=zd(function(v,A){return v>=A}),ec=G6(function(){return arguments}())?G6:function(v){return $a(v)&&Xi.call(v,"callee")&&!sd.call(v,"callee")},ri=dn.isArray,fP=Ja?Ks(Ja):q2;function _o(v){return v!=null&&Bd(v.length)&&!l0(v)}function es(v){return $a(v)&&_o(v)}function dP(v){return v===!0||v===!1||$a(v)&&Ns(v)==Q}var Y0=Kp||Vm,hP=bs?Ks(bs):R3;function pP(v){return $a(v)&&v.nodeType===1&&!Q6(v)}function mP(v){if(v==null)return!0;if(_o(v)&&(ri(v)||typeof v=="string"||typeof v.splice=="function"||Y0(v)||B3(v)||ec(v)))return!v.length;var A=Js(v);if(A==ze||A==G)return!v.size;if(X6(v))return!Ql(v).length;for(var J in v)if(Xi.call(v,J))return!1;return!0}function vP(v,A){return e0(v,A)}function gP(v,A,J){J=typeof J=="function"?J:t;var De=J?J(v,A):t;return De===t?e0(v,A,t,J):!!De}function zm(v){if(!$a(v))return!1;var A=Ns(v);return A==le||A==te||typeof v.message=="string"&&typeof v.name=="string"&&!Q6(v)}function yP(v){return typeof v=="number"&&g3(v)}function l0(v){if(!Ha(v))return!1;var A=Ns(v);return A==be||A==Se||A==Y||A==U}function wM(v){return typeof v=="number"&&v==pi(v)}function Bd(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=$}function Ha(v){var A=typeof v;return v!=null&&(A=="object"||A=="function")}function $a(v){return v!=null&&typeof v=="object"}var _M=Is?Ks(Is):$6;function xP(v,A){return v===A||W0(v,A,bm(A))}function bP(v,A,J){return J=typeof J=="function"?J:t,W0(v,A,bm(A),J)}function CP(v){return SM(v)&&v!=+v}function MP(v){if(ak(v))throw new Gr(r);return W6(v)}function wP(v){return v===null}function _P(v){return v==null}function SM(v){return typeof v=="number"||$a(v)&&Ns(v)==Te}function Q6(v){if(!$a(v)||Ns(v)!=he)return!1;var A=Vl(v);if(A===null)return!0;var J=Xi.call(A,"constructor")&&A.constructor;return typeof J=="function"&&J instanceof J&&f3.call(J)==Fl}var Em=qa?Ks(qa):fm;function SP(v){return wM(v)&&v>=-$&&v<=$}var LM=wa?Ks(wa):dm;function Vd(v){return typeof v=="string"||!ri(v)&&$a(v)&&Ns(v)==E}function Ho(v){return typeof v=="symbol"||$a(v)&&Ns(v)==K}var B3=ao?Ks(ao):hm;function LP(v){return v===t}function DP(v){return $a(v)&&Js(v)==ne}function TP(v){return $a(v)&&Ns(v)==pe}var AP=zd(Y6),zP=zd(function(v,A){return v<=A});function DM(v){if(!v)return[];if(_o(v))return Vd(v)?Fo(v):xa(v);if(Hl&&v[Hl])return Bp(v[Hl]());var A=Js(v),J=A==ze?L6:A==G?l3:V3;return J(v)}function c0(v){if(!v)return v===0?v:0;if(v=x1(v),v===Z||v===-Z){var A=v<0?-1:1;return A*N}return v===v?v:0}function pi(v){var A=c0(v),J=A%1;return A===A?J?A-J:A:0}function TM(v){return v?Q2(pi(v),0,O):0}function x1(v){if(typeof v=="number")return v;if(Ho(v))return j;if(Ha(v)){var A=typeof v.valueOf=="function"?v.valueOf():v;v=Ha(A)?A+"":A}if(typeof v!="string")return v===0?v:+v;v=f1(v);var J=ot.test(v);return J||_t.test(v)?Zi(v.slice(2),J?2:8):Mt.test(v)?j:+v}function AM(v){return Ws(v,So(v))}function EP(v){return v?Q2(pi(v),-$,$):v===0?v:0}function ra(v){return v==null?"":Wn(v)}var IP=i0(function(v,A){if(X6(A)||_o(A)){Ws(A,Os(A),v);return}for(var J in A)Xi.call(A,J)&&Zl(v,J,A[J])}),zM=i0(function(v,A){Ws(A,So(A),v)}),Hd=i0(function(v,A,J,De){Ws(A,So(A),v,De)}),kP=i0(function(v,A,J,De){Ws(A,Os(A),v,De)}),NP=s0(B6);function PP(v,A){var J=$0(v);return A==null?J:Xl(J,A)}var RP=at(function(v,A){v=la(v);var J=-1,De=A.length,je=De>2?A[2]:t;for(je&&co(A[0],A[1],je)&&(De=1);++J<De;)for(var ut=A[J],zt=So(ut),Gt=-1,qt=zt.length;++Gt<qt;){var wn=zt[Gt],Sn=v[wn];(Sn===t||U1(Sn,U0[wn])&&!Xi.call(v,wn))&&(v[wn]=ut[wn])}return v}),OP=at(function(v){return v.push(t,YC),oa(EM,t,v)});function FP(v,A){return V1(v,Tr(A,3),g1)}function BP(v,A){return V1(v,Tr(A,3),z3)}function VP(v,A){return v==null?v:A3(v,Tr(A,3),So)}function HP(v,A){return v==null?v:j6(v,Tr(A,3),So)}function UP(v,A){return v&&g1(v,Tr(A,3))}function jP(v,A){return v&&z3(v,Tr(A,3))}function GP(v){return v==null?[]:E3(v,Os(v))}function $P(v){return v==null?[]:E3(v,So(v))}function Im(v,A,J){var De=v==null?t:J2(v,A);return De===t?J:De}function WP(v,A){return v!=null&&KC(v,A,k3)}function km(v,A){return v!=null&&KC(v,A,_d)}var YP=UC(function(v,A,J){A!=null&&typeof A.toString!="function"&&(A=d3.call(A)),v[A]=J},Pm(Lo)),ZP=UC(function(v,A,J){A!=null&&typeof A.toString!="function"&&(A=d3.call(A)),Xi.call(v,A)?v[A].push(J):v[A]=[J]},Tr),XP=at(ya);function Os(v){return _o(v)?xo(v):Ql(v)}function So(v){return _o(v)?xo(v,!0):pm(v)}function KP(v,A){var J={};return A=Tr(A,3),g1(v,function(De,je,ut){m1(J,A(De,je,ut),De)}),J}function QP(v,A){var J={};return A=Tr(A,3),g1(v,function(De,je,ut){m1(J,je,A(De,je,ut))}),J}var JP=i0(function(v,A,J){q(v,A,J)}),EM=i0(function(v,A,J,De){q(v,A,J,De)}),qP=s0(function(v,A){var J={};if(v==null)return J;var De=!1;A=Hi(A,function(ut){return ut=na(ut,v),De||(De=ut.length>1),ut}),Ws(v,ym(v),J),De&&(J=bo(J,l|u|f,YI));for(var je=A.length;je--;)di(J,A[je]);return J});function eR(v,A){return IM(v,Fd(Tr(A)))}var tR=s0(function(v,A){return v==null?{}:Ce(v,A)});function IM(v,A){if(v==null)return{};var J=Hi(ym(v),function(De){return[De]});return A=Tr(A),Pe(v,J,function(De,je){return A(De,je[0])})}function nR(v,A,J){A=na(A,v);var De=-1,je=A.length;for(je||(je=1,v=t);++De<je;){var ut=v==null?t:v[y2(A[De])];ut===t&&(De=je,ut=J),v=l0(ut)?ut.call(v):ut}return v}function rR(v,A,J){return v==null?v:Ht(v,A,J)}function iR(v,A,J,De){return De=typeof De=="function"?De:t,v==null?v:Ht(v,A,J,De)}var kM=$C(Os),NM=$C(So);function aR(v,A,J){var De=ri(v),je=De||Y0(v)||B3(v);if(A=Tr(A,4),J==null){var ut=v&&v.constructor;je?J=De?new ut:[]:Ha(v)?J=l0(ut)?$0(Vl(v)):{}:J={}}return(je?ha:g1)(v,function(zt,Gt,qt){return A(J,zt,Gt,qt)}),J}function sR(v,A){return v==null?!0:di(v,A)}function oR(v,A,J){return v==null?v:_a(v,A,ca(J))}function lR(v,A,J,De){return De=typeof De=="function"?De:t,v==null?v:_a(v,A,ca(J),De)}function V3(v){return v==null?[]:Rl(v,Os(v))}function cR(v){return v==null?[]:Rl(v,So(v))}function uR(v,A,J){return J===t&&(J=A,A=t),J!==t&&(J=x1(J),J=J===J?J:0),A!==t&&(A=x1(A),A=A===A?A:0),Q2(x1(v),A,J)}function fR(v,A,J){return A=c0(A),J===t?(J=A,A=0):J=c0(J),v=x1(v),N3(v,A,J)}function dR(v,A,J){if(J&&typeof J!="boolean"&&co(v,A,J)&&(A=J=t),J===t&&(typeof A=="boolean"?(J=A,A=t):typeof v=="boolean"&&(J=v,v=t)),v===t&&A===t?(v=0,A=1):(v=c0(v),A===t?(A=v,v=0):A=c0(A)),v>A){var De=v;v=A,A=De}if(J||v%1||A%1){var je=A6();return ks(v+je*(A-v+Ti("1e-"+((je+"").length-1))),A)}return dt(v,A)}var hR=O3(function(v,A,J){return A=A.toLowerCase(),v+(J?PM(A):A)});function PM(v){return Nm(ra(v).toLowerCase())}function RM(v){return v=ra(v),v&&v.replace(sn,Pp).replace(Ur,"")}function pR(v,A,J){v=ra(v),A=Wn(A);var De=v.length;J=J===t?De:Q2(pi(J),0,De);var je=J;return J-=A.length,J>=0&&v.slice(J,je)==A}function mR(v){return v=ra(v),v&&xt.test(v)?v.replace(Dt,Rp):v}function vR(v){return v=ra(v),v&&ct.test(v)?v.replace(et,"\\$&"):v}var gR=O3(function(v,A,J){return v+(J?"-":"")+A.toLowerCase()}),yR=O3(function(v,A,J){return v+(J?" ":"")+A.toLowerCase()}),xR=BC("toLowerCase");function bR(v,A,J){v=ra(v),A=pi(A);var De=A?H0(v):0;if(!A||De>=A)return v;var je=(A-De)/2;return Ad(Ul(je),J)+v+Ad(v3(je),J)}function CR(v,A,J){v=ra(v),A=pi(A);var De=A?H0(v):0;return A&&De<A?v+Ad(A-De,J):v}function MR(v,A,J){v=ra(v),A=pi(A);var De=A?H0(v):0;return A&&De<A?Ad(A-De,J)+v:v}function wR(v,A,J){return J||A==null?A=0:A&&(A=+A),ud(ra(v).replace(gt,""),A||0)}function _R(v,A,J){return(J?co(v,A,J):A===t)?A=1:A=pi(A),Ut(ra(v),A)}function SR(){var v=arguments,A=ra(v[0]);return v.length<3?A:A.replace(v[1],v[2])}var LR=O3(function(v,A,J){return v+(J?"_":"")+A.toLowerCase()});function DR(v,A,J){return J&&typeof J!="number"&&co(v,A,J)&&(A=J=t),J=J===t?O:J>>>0,J?(v=ra(v),v&&(typeof A=="string"||A!=null&&!Em(A))&&(A=Wn(A),!A&&W2(v))?Aa(Fo(v),0,J):v.split(A,J)):[]}var TR=O3(function(v,A,J){return v+(J?" ":"")+Nm(A)});function AR(v,A,J){return v=ra(v),J=J==null?0:Q2(pi(J),0,v.length),A=Wn(A),v.slice(J,J+A.length)==A}function zR(v,A,J){var De=nt.templateSettings;J&&co(v,A,J)&&(A=t),v=ra(v),A=Hd({},A,De,WC);var je=Hd({},A.imports,De.imports,WC),ut=Os(je),zt=Rl(je,ut),Gt,qt,wn=0,Sn=A.interpolate||pn,On="__p += '",tr=D6((A.escape||pn).source+"|"+Sn.source+"|"+(Sn===Rt?We:pn).source+"|"+(A.evaluate||pn).source+"|$","g"),hr="//# sourceURL="+(Xi.call(A,"sourceURL")?(A.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++lr+"]")+`
`;v.replace(tr,function(zr,Ri,Bi,Uo,uo,jo){return Bi||(Bi=Uo),On+=v.slice(wn,jo).replace(An,Op),Ri&&(Gt=!0,On+=`' +
__e(`+Ri+`) +
'`),uo&&(qt=!0,On+=`';
`+uo+`;
__p += '`),Bi&&(On+=`' +
((__t = (`+Bi+`)) == null ? '' : __t) +
'`),wn=jo+zr.length,zr}),On+=`';
`;var Ar=Xi.call(A,"variable")&&A.variable;if(!Ar)On=`with (obj) {
`+On+`
}
`;else if(Fe.test(Ar))throw new Gr(s);On=(qt?On.replace(Ve,""):On).replace(qe,"$1").replace(vt,"$1;"),On="function("+(Ar||"obj")+`) {
`+(Ar?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Gt?", __e = _.escape":"")+(qt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+On+`return __p
}`;var bi=FM(function(){return $i(ut,hr+"return "+On).apply(t,zt)});if(bi.source=On,zm(bi))throw bi;return bi}function ER(v){return ra(v).toLowerCase()}function IR(v){return ra(v).toUpperCase()}function kR(v,A,J){if(v=ra(v),v&&(J||A===t))return f1(v);if(!v||!(A=Wn(A)))return v;var De=Fo(v),je=Fo(A),ut=d2(De,je),zt=Ol(De,je)+1;return Aa(De,ut,zt).join("")}function NR(v,A,J){if(v=ra(v),v&&(J||A===t))return v.slice(0,Jf(v)+1);if(!v||!(A=Wn(A)))return v;var De=Fo(v),je=Ol(De,Fo(A))+1;return Aa(De,0,je).join("")}function PR(v,A,J){if(v=ra(v),v&&(J||A===t))return v.replace(gt,"");if(!v||!(A=Wn(A)))return v;var De=Fo(v),je=d2(De,Fo(A));return Aa(De,je).join("")}function RR(v,A){var J=b,De=S;if(Ha(A)){var je="separator"in A?A.separator:je;J="length"in A?pi(A.length):J,De="omission"in A?Wn(A.omission):De}v=ra(v);var ut=v.length;if(W2(v)){var zt=Fo(v);ut=zt.length}if(J>=ut)return v;var Gt=J-H0(De);if(Gt<1)return De;var qt=zt?Aa(zt,0,Gt).join(""):v.slice(0,Gt);if(je===t)return qt+De;if(zt&&(Gt+=qt.length-Gt),Em(je)){if(v.slice(Gt).search(je)){var wn,Sn=qt;for(je.global||(je=D6(je.source,ra(St.exec(je))+"g")),je.lastIndex=0;wn=je.exec(Sn);)var On=wn.index;qt=qt.slice(0,On===t?Gt:On)}}else if(v.indexOf(Wn(je),Gt)!=Gt){var tr=qt.lastIndexOf(je);tr>-1&&(qt=qt.slice(0,tr))}return qt+De}function OR(v){return v=ra(v),v&&bt.test(v)?v.replace(At,jp):v}var FR=O3(function(v,A,J){return v+(J?" ":"")+A.toUpperCase()}),Nm=BC("toUpperCase");function OM(v,A,J){return v=ra(v),A=J?t:A,A===t?Fp(v)?td(v):u2(v):v.match(A)||[]}var FM=at(function(v,A){try{return oa(v,t,A)}catch(J){return zm(J)?J:new Gr(J)}}),BR=s0(function(v,A){return ha(A,function(J){J=y2(J),m1(v,J,Tm(v[J],v))}),v});function VR(v){var A=v==null?0:v.length,J=Tr();return v=A?Hi(v,function(De){if(typeof De[1]!="function")throw new so(i);return[J(De[0]),De[1]]}):[],at(function(De){for(var je=-1;++je<A;){var ut=v[je];if(oa(ut[0],this,De))return oa(ut[1],this,De)}})}function HR(v){return Co(bo(v,l))}function Pm(v){return function(){return v}}function UR(v,A){return v==null||v!==v?A:v}var jR=HC(),GR=HC(!0);function Lo(v){return v}function Rm(v){return Sd(typeof v=="function"?v:bo(v,l))}function $R(v){return k(bo(v,l))}function WR(v,A){return F(v,bo(A,l))}var YR=at(function(v,A){return function(J){return ya(J,v,A)}}),ZR=at(function(v,A){return function(J){return ya(v,J,A)}});function Om(v,A,J){var De=Os(A),je=E3(A,De);J==null&&!(Ha(A)&&(je.length||!De.length))&&(J=A,A=v,v=this,je=E3(A,Os(A)));var ut=!(Ha(J)&&"chain"in J)||!!J.chain,zt=l0(v);return ha(je,function(Gt){var qt=A[Gt];v[Gt]=qt,zt&&(v.prototype[Gt]=function(){var wn=this.__chain__;if(ut||wn){var Sn=v(this.__wrapped__),On=Sn.__actions__=xa(this.__actions__);return On.push({func:qt,args:arguments,thisArg:v}),Sn.__chain__=wn,Sn}return qt.apply(v,$s([this.value()],arguments))})}),v}function XR(){return ti._===this&&(ti._=Bl),this}function Fm(){}function KR(v){return v=pi(v),at(function(A){return ue(A,v)})}var QR=mm(Hi),JR=mm(Qi),qR=mm(B1);function BM(v){return Mm(v)?M6(y2(v)):Ge(v)}function eO(v){return function(A){return v==null?t:J2(v,A)}}var tO=jC(),nO=jC(!0);function Bm(){return[]}function Vm(){return!1}function rO(){return{}}function iO(){return""}function aO(){return!0}function sO(v,A){if(v=pi(v),v<1||v>$)return[];var J=O,De=ks(v,O);A=Tr(A),v-=O;for(var je=Pl(De,A);++J<v;)A(J);return je}function oO(v){return ri(v)?Hi(v,y2):Ho(v)?[v]:xa(aM(ra(v)))}function lO(v){var A=++Wp;return ra(v)+A}var cO=Td(function(v,A){return v+A},0),uO=vm("ceil"),fO=Td(function(v,A){return v/A},1),dO=vm("floor");function hO(v){return v&&v.length?T3(v,Lo,I3):t}function pO(v,A){return v&&v.length?T3(v,Tr(A,2),I3):t}function mO(v){return Yf(v,Lo)}function vO(v,A){return Yf(v,Tr(A,2))}function gO(v){return v&&v.length?T3(v,Lo,Y6):t}function yO(v,A){return v&&v.length?T3(v,Tr(A,2),Y6):t}var xO=Td(function(v,A){return v*A},1),bO=vm("round"),CO=Td(function(v,A){return v-A},0);function MO(v){return v&&v.length?S6(v,Lo):0}function wO(v,A){return v&&v.length?S6(v,Tr(A,2)):0}return nt.after=$N,nt.ary=vM,nt.assign=IP,nt.assignIn=zM,nt.assignInWith=Hd,nt.assignWith=kP,nt.at=NP,nt.before=gM,nt.bind=Tm,nt.bindAll=BR,nt.bindKey=yM,nt.castArray=rP,nt.chain=hM,nt.chunk=dk,nt.compact=hk,nt.concat=pk,nt.cond=VR,nt.conforms=HR,nt.constant=Pm,nt.countBy=MN,nt.create=PP,nt.curry=xM,nt.curryRight=bM,nt.debounce=CM,nt.defaults=RP,nt.defaultsDeep=OP,nt.defer=WN,nt.delay=YN,nt.difference=mk,nt.differenceBy=vk,nt.differenceWith=gk,nt.drop=yk,nt.dropRight=xk,nt.dropRightWhile=bk,nt.dropWhile=Ck,nt.fill=Mk,nt.filter=_N,nt.flatMap=DN,nt.flatMapDeep=TN,nt.flatMapDepth=AN,nt.flatten=cM,nt.flattenDeep=wk,nt.flattenDepth=_k,nt.flip=ZN,nt.flow=jR,nt.flowRight=GR,nt.fromPairs=Sk,nt.functions=GP,nt.functionsIn=$P,nt.groupBy=zN,nt.initial=Dk,nt.intersection=Tk,nt.intersectionBy=Ak,nt.intersectionWith=zk,nt.invert=YP,nt.invertBy=ZP,nt.invokeMap=IN,nt.iteratee=Rm,nt.keyBy=kN,nt.keys=Os,nt.keysIn=So,nt.map=Pd,nt.mapKeys=KP,nt.mapValues=QP,nt.matches=$R,nt.matchesProperty=WR,nt.memoize=Od,nt.merge=JP,nt.mergeWith=EM,nt.method=YR,nt.methodOf=ZR,nt.mixin=Om,nt.negate=Fd,nt.nthArg=KR,nt.omit=qP,nt.omitBy=eR,nt.once=XN,nt.orderBy=NN,nt.over=QR,nt.overArgs=KN,nt.overEvery=JR,nt.overSome=qR,nt.partial=Am,nt.partialRight=MM,nt.partition=PN,nt.pick=tR,nt.pickBy=IM,nt.property=BM,nt.propertyOf=eO,nt.pull=Nk,nt.pullAll=fM,nt.pullAllBy=Pk,nt.pullAllWith=Rk,nt.pullAt=Ok,nt.range=tO,nt.rangeRight=nO,nt.rearg=QN,nt.reject=FN,nt.remove=Fk,nt.rest=JN,nt.reverse=Lm,nt.sampleSize=VN,nt.set=rR,nt.setWith=iR,nt.shuffle=HN,nt.slice=Bk,nt.sortBy=GN,nt.sortedUniq=Wk,nt.sortedUniqBy=Yk,nt.split=DR,nt.spread=qN,nt.tail=Zk,nt.take=Xk,nt.takeRight=Kk,nt.takeRightWhile=Qk,nt.takeWhile=Jk,nt.tap=hN,nt.throttle=eP,nt.thru=Nd,nt.toArray=DM,nt.toPairs=kM,nt.toPairsIn=NM,nt.toPath=oO,nt.toPlainObject=AM,nt.transform=aR,nt.unary=tP,nt.union=qk,nt.unionBy=eN,nt.unionWith=tN,nt.uniq=nN,nt.uniqBy=rN,nt.uniqWith=iN,nt.unset=sR,nt.unzip=Dm,nt.unzipWith=dM,nt.update=oR,nt.updateWith=lR,nt.values=V3,nt.valuesIn=cR,nt.without=aN,nt.words=OM,nt.wrap=nP,nt.xor=sN,nt.xorBy=oN,nt.xorWith=lN,nt.zip=cN,nt.zipObject=uN,nt.zipObjectDeep=fN,nt.zipWith=dN,nt.entries=kM,nt.entriesIn=NM,nt.extend=zM,nt.extendWith=Hd,Om(nt,nt),nt.add=cO,nt.attempt=FM,nt.camelCase=hR,nt.capitalize=PM,nt.ceil=uO,nt.clamp=uR,nt.clone=iP,nt.cloneDeep=sP,nt.cloneDeepWith=oP,nt.cloneWith=aP,nt.conformsTo=lP,nt.deburr=RM,nt.defaultTo=UR,nt.divide=fO,nt.endsWith=pR,nt.eq=U1,nt.escape=mR,nt.escapeRegExp=vR,nt.every=wN,nt.find=SN,nt.findIndex=oM,nt.findKey=FP,nt.findLast=LN,nt.findLastIndex=lM,nt.findLastKey=BP,nt.floor=dO,nt.forEach=pM,nt.forEachRight=mM,nt.forIn=VP,nt.forInRight=HP,nt.forOwn=UP,nt.forOwnRight=jP,nt.get=Im,nt.gt=cP,nt.gte=uP,nt.has=WP,nt.hasIn=km,nt.head=uM,nt.identity=Lo,nt.includes=EN,nt.indexOf=Lk,nt.inRange=fR,nt.invoke=XP,nt.isArguments=ec,nt.isArray=ri,nt.isArrayBuffer=fP,nt.isArrayLike=_o,nt.isArrayLikeObject=es,nt.isBoolean=dP,nt.isBuffer=Y0,nt.isDate=hP,nt.isElement=pP,nt.isEmpty=mP,nt.isEqual=vP,nt.isEqualWith=gP,nt.isError=zm,nt.isFinite=yP,nt.isFunction=l0,nt.isInteger=wM,nt.isLength=Bd,nt.isMap=_M,nt.isMatch=xP,nt.isMatchWith=bP,nt.isNaN=CP,nt.isNative=MP,nt.isNil=_P,nt.isNull=wP,nt.isNumber=SM,nt.isObject=Ha,nt.isObjectLike=$a,nt.isPlainObject=Q6,nt.isRegExp=Em,nt.isSafeInteger=SP,nt.isSet=LM,nt.isString=Vd,nt.isSymbol=Ho,nt.isTypedArray=B3,nt.isUndefined=LP,nt.isWeakMap=DP,nt.isWeakSet=TP,nt.join=Ek,nt.kebabCase=gR,nt.last=y1,nt.lastIndexOf=Ik,nt.lowerCase=yR,nt.lowerFirst=xR,nt.lt=AP,nt.lte=zP,nt.max=hO,nt.maxBy=pO,nt.mean=mO,nt.meanBy=vO,nt.min=gO,nt.minBy=yO,nt.stubArray=Bm,nt.stubFalse=Vm,nt.stubObject=rO,nt.stubString=iO,nt.stubTrue=aO,nt.multiply=xO,nt.nth=kk,nt.noConflict=XR,nt.noop=Fm,nt.now=Rd,nt.pad=bR,nt.padEnd=CR,nt.padStart=MR,nt.parseInt=wR,nt.random=dR,nt.reduce=RN,nt.reduceRight=ON,nt.repeat=_R,nt.replace=SR,nt.result=nR,nt.round=bO,nt.runInContext=Kt,nt.sample=BN,nt.size=UN,nt.snakeCase=LR,nt.some=jN,nt.sortedIndex=Vk,nt.sortedIndexBy=Hk,nt.sortedIndexOf=Uk,nt.sortedLastIndex=jk,nt.sortedLastIndexBy=Gk,nt.sortedLastIndexOf=$k,nt.startCase=TR,nt.startsWith=AR,nt.subtract=CO,nt.sum=MO,nt.sumBy=wO,nt.template=zR,nt.times=sO,nt.toFinite=c0,nt.toInteger=pi,nt.toLength=TM,nt.toLower=ER,nt.toNumber=x1,nt.toSafeInteger=EP,nt.toString=ra,nt.toUpper=IR,nt.trim=kR,nt.trimEnd=NR,nt.trimStart=PR,nt.truncate=RR,nt.unescape=OR,nt.uniqueId=lO,nt.upperCase=FR,nt.upperFirst=Nm,nt.each=pM,nt.eachRight=mM,nt.first=uM,Om(nt,function(){var v={};return g1(nt,function(A,J){Xi.call(nt.prototype,J)||(v[J]=A)}),v}(),{chain:!1}),nt.VERSION=n,ha(["bind","bindKey","curry","curryRight","partial","partialRight"],function(v){nt[v].placeholder=nt}),ha(["drop","take"],function(v,A){Si.prototype[v]=function(J){J=J===t?1:Ga(pi(J),0);var De=this.__filtered__&&!A?new Si(this):this.clone();return De.__filtered__?De.__takeCount__=ks(J,De.__takeCount__):De.__views__.push({size:ks(J,O),type:v+(De.__dir__<0?"Right":"")}),De},Si.prototype[v+"Right"]=function(J){return this.reverse()[v](J).reverse()}}),ha(["filter","map","takeWhile"],function(v,A){var J=A+1,De=J==T||J==H;Si.prototype[v]=function(je){var ut=this.clone();return ut.__iteratees__.push({iteratee:Tr(je,3),type:J}),ut.__filtered__=ut.__filtered__||De,ut}}),ha(["head","last"],function(v,A){var J="take"+(A?"Right":"");Si.prototype[v]=function(){return this[J](1).value()[0]}}),ha(["initial","tail"],function(v,A){var J="drop"+(A?"":"Right");Si.prototype[v]=function(){return this.__filtered__?new Si(this):this[J](1)}}),Si.prototype.compact=function(){return this.filter(Lo)},Si.prototype.find=function(v){return this.filter(v).head()},Si.prototype.findLast=function(v){return this.reverse().find(v)},Si.prototype.invokeMap=at(function(v,A){return typeof v=="function"?new Si(this):this.map(function(J){return ya(J,v,A)})}),Si.prototype.reject=function(v){return this.filter(Fd(Tr(v)))},Si.prototype.slice=function(v,A){v=pi(v);var J=this;return J.__filtered__&&(v>0||A<0)?new Si(J):(v<0?J=J.takeRight(-v):v&&(J=J.drop(v)),A!==t&&(A=pi(A),J=A<0?J.dropRight(-A):J.take(A-v)),J)},Si.prototype.takeRightWhile=function(v){return this.reverse().takeWhile(v).reverse()},Si.prototype.toArray=function(){return this.take(O)},g1(Si.prototype,function(v,A){var J=/^(?:filter|find|map|reject)|While$/.test(A),De=/^(?:head|last)$/.test(A),je=nt[De?"take"+(A=="last"?"Right":""):A],ut=De||/^find/.test(A);je&&(nt.prototype[A]=function(){var zt=this.__wrapped__,Gt=De?[1]:arguments,qt=zt instanceof Si,wn=Gt[0],Sn=qt||ri(zt),On=function(Ri){var Bi=je.apply(nt,$s([Ri],Gt));return De&&tr?Bi[0]:Bi};Sn&&J&&typeof wn=="function"&&wn.length!=1&&(qt=Sn=!1);var tr=this.__chain__,hr=!!this.__actions__.length,Ar=ut&&!tr,bi=qt&&!hr;if(!ut&&Sn){zt=bi?zt:new Si(this);var zr=v.apply(zt,Gt);return zr.__actions__.push({func:Nd,args:[On],thisArg:t}),new oo(zr,tr)}return Ar&&bi?v.apply(this,Gt):(zr=this.thru(On),Ar?De?zr.value()[0]:zr.value():zr)})}),ha(["pop","push","shift","sort","splice","unshift"],function(v){var A=c3[v],J=/^(?:push|sort|unshift)$/.test(v)?"tap":"thru",De=/^(?:pop|shift)$/.test(v);nt.prototype[v]=function(){var je=arguments;if(De&&!this.__chain__){var ut=this.value();return A.apply(ri(ut)?ut:[],je)}return this[J](function(zt){return A.apply(ri(zt)?zt:[],je)})}}),g1(Si.prototype,function(v,A){var J=nt[A];if(J){var De=J.name+"";Xi.call(Z2,De)||(Z2[De]=[]),Z2[De].push({name:A,func:J})}}),Z2[Dd(t,d).name]=[{name:"wrapper",func:t}],Si.prototype.clone=k6,Si.prototype.reverse=N6,Si.prototype.value=Jp,nt.prototype.at=pN,nt.prototype.chain=mN,nt.prototype.commit=vN,nt.prototype.next=gN,nt.prototype.plant=xN,nt.prototype.reverse=bN,nt.prototype.toJSON=nt.prototype.valueOf=nt.prototype.value=CN,nt.prototype.first=nt.prototype.head,Hl&&(nt.prototype[Hl]=yN),nt},p2=nd();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(ti._=p2,define(function(){return p2})):Ni?((Ni.exports=p2)._=p2,Ai._=p2):ti._=p2}).call(q4)});var DI=GM((mp,oC)=>{"use strict";(function(n,e){typeof mp=="object"&&typeof oC=="object"?oC.exports=e():typeof define=="function"&&define.amd?define([],e):typeof mp=="object"?mp.Plotly=e():n.Plotly=e()})(self,function(){return function(){var t={6713:function(i,s,a){"use strict";var o=a(4809),c={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var l in c){var u=l.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");o.addStyleRule(u,c[l])}},4187:function(i,s,a){"use strict";i.exports=a(7908)},273:function(i,s,a){"use strict";i.exports=a(8218)},8847:function(i,s,a){"use strict";i.exports=a(7317)},7549:function(i,s,a){"use strict";i.exports=a(7430)},6200:function(i,s,a){"use strict";i.exports=a(2849)},3430:function(i,s,a){"use strict";i.exports=a(453)},5611:function(i,s,a){"use strict";var o=a(7549);o.register([a(273),a(8170),a(4187),a(6200),a(3430),a(590),a(8847)]),i.exports=o},8170:function(i,s,a){"use strict";i.exports=a(9913)},590:function(i,s,a){"use strict";i.exports=a(9855)},1645:function(i){"use strict";i.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},222:function(i,s,a){"use strict";var o=a(1645),c=a(337),l=a(4826),u=a(8032).templatedArray,f=a(5081);function h(m){return["In order for absolute positioning of the arrow to work, *a"+m+"ref* must be exactly the same as *"+m+"ref*, otherwise *a"+m+"ref* will revert to *pixel* (explained next).","For relative positioning, *a"+m+"ref* can be set to *pixel*,","in which case the *a"+m+"* value is specified in pixels","relative to *"+m+"*.","Absolute positioning is useful","for trendline annotations which should continue to indicate","the correct trend when zoomed. Relative positioning is useful","for specifying the text offset for an annotated point."].join(" ")}function p(m,d,y){return["Sets the",m,"component of the arrow tail about the arrow head.","If `a"+m+"ref` is `pixel`, a positive (negative)","component corresponds to an arrow pointing","from",y,"to",d,"("+d,"to",y+").","If `a"+m+"ref` is not `pixel` and is exactly the same as `"+m+"ref`,","this is an absolute value on that axis,","like `"+m+"`, specified in the same coordinates as `"+m+"ref`."].join(" ")}i.exports=u("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:c({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:o.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:o.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",l.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",l.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",l.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",l.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:c({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},317:function(i,s,a){"use strict";var o=a(4809),c=a(9714),l=a(3377).draw;i.exports=function(p){var m=p._fullLayout,d=o.filterVisible(m.annotations);if(d.length&&p._fullData.length)return o.syncOrAsync([l,u],p)};function u(h){var p=h._fullLayout;o.filterVisible(p.annotations).forEach(function(m){var d=c.getFromId(h,m.xref),y=c.getFromId(h,m.yref),x=c.getRefType(m.xref),w=c.getRefType(m.yref);m._extremes={},x==="range"&&f(m,d),w==="range"&&f(m,y)})}function f(h,p){var m=p._id,d=m.charAt(0),y=h[d],x=h["a"+d],w=h[d+"ref"],L=h["a"+d+"ref"],_=h["_"+d+"padplus"],D=h["_"+d+"padminus"],C={x:1,y:-1}[d]*h[d+"shift"],z=3*h.arrowsize*h.arrowwidth||0,b=z+C,S=z-C,M=3*h.startarrowsize*h.arrowwidth||0,I=M+C,T=M-C,B;if(L===w){var H=c.findExtremes(p,[p.r2c(y)],{ppadplus:b,ppadminus:S}),Z=c.findExtremes(p,[p.r2c(x)],{ppadplus:Math.max(_,I),ppadminus:Math.max(D,T)});B={min:[H.min[0],Z.min[0]],max:[H.max[0],Z.max[0]]}}else I=x?I+x:I,T=x?T-x:T,B=c.findExtremes(p,[p.r2c(y)],{ppadplus:Math.max(_,b,I),ppadminus:Math.max(D,S,T)});h._extremes[m]=B}},6035:function(i,s,a){"use strict";var o=a(4809),c=a(3626),l=a(8032).arrayEditor;i.exports={hasClickToShow:u,onClick:f};function u(m,d){var y=h(m,d);return y.on.length>0||y.explicitOff.length>0}function f(m,d){var y=h(m,d),x=y.on,w=y.off.concat(y.explicitOff),L={},_=m._fullLayout.annotations,D,C;if(x.length||w.length){for(D=0;D<x.length;D++)C=l(m.layout,"annotations",_[x[D]]),C.modifyItem("visible",!0),o.extendFlat(L,C.getUpdateObj());for(D=0;D<w.length;D++)C=l(m.layout,"annotations",_[w[D]]),C.modifyItem("visible",!1),o.extendFlat(L,C.getUpdateObj());return c.call("update",m,{},L)}}function h(m,d){var y=m._fullLayout.annotations,x=[],w=[],L=[],_=(d||[]).length,D,C,z,b,S,M,I,T;for(D=0;D<y.length;D++)if(z=y[D],b=z.clicktoshow,b){for(C=0;C<_;C++)if(S=d[C],M=S.xaxis,I=S.yaxis,M._id===z.xref&&I._id===z.yref&&M.d2r(S.x)===p(z._xclick,M)&&I.d2r(S.y)===p(z._yclick,I)){z.visible?b==="onout"?T=w:T=L:T=x,T.push(D);break}C===_&&z.visible&&b==="onout"&&w.push(D)}return{on:x,off:w,explicitOff:L}}function p(m,d){return d.type==="log"?d.l2r(m):d.d2r(m)}},3271:function(i,s,a){"use strict";var o=a(4809),c=a(8766);i.exports=function(u,f,h,p){p("opacity");var m=p("bgcolor"),d=p("bordercolor"),y=c.opacity(d);p("borderpad");var x=p("borderwidth"),w=p("showarrow");p("text",w?" ":h._dfltTitle.annotation),p("textangle"),o.coerceFont(p,"font",h.font),p("width"),p("align");var L=p("height");if(L&&p("valign"),w){var _=p("arrowside"),D,C;_.indexOf("end")!==-1&&(D=p("arrowhead"),C=p("arrowsize")),_.indexOf("start")!==-1&&(p("startarrowhead",D),p("startarrowsize",C)),p("arrowcolor",y?f.bordercolor:c.defaultLine),p("arrowwidth",(y&&x||1)*2),p("standoff"),p("startstandoff")}var z=p("hovertext"),b=h.hoverlabel||{};if(z){var S=p("hoverlabel.bgcolor",b.bgcolor||(c.opacity(m)?c.rgb(m):c.defaultLine)),M=p("hoverlabel.bordercolor",b.bordercolor||c.contrast(S)),I=o.extendFlat({},b.font);I.color||(I.color=M),o.coerceFont(p,"hoverlabel.font",I)}p("captureevents",!!z)}},9741:function(i,s,a){"use strict";var o=a(721),c=a(8083);i.exports=function(u,f,h,p){f=f||{};var m=h==="log"&&f.type==="linear",d=h==="linear"&&f.type==="log";if(!(m||d))return;var y=u._fullLayout.annotations,x=f._id.charAt(0),w,L;function _(C){var z=w[C],b=null;m?b=c(z,f.range):b=Math.pow(10,z),o(b)||(b=null),p(L+C,b)}for(var D=0;D<y.length;D++)w=y[D],L="annotations["+D+"].",w[x+"ref"]===f._id&&_(x),w["a"+x+"ref"]===f._id&&_("a"+x)}},6118:function(i,s,a){"use strict";var o=a(4809),c=a(9714),l=a(9008),u=a(3271),f=a(222);i.exports=function(m,d){l(m,d,{name:"annotations",handleItemDefaults:h})};function h(p,m,d){function y($,N){return o.coerce(p,m,f,$,N)}var x=y("visible"),w=y("clicktoshow");if(x||w){u(p,m,d,y);for(var L=m.showarrow,_=["x","y"],D=[-10,-30],C={_fullLayout:d},z=0;z<2;z++){var b=_[z],S=c.coerceRef(p,m,C,b,"","paper");if(S!=="paper"){var M=c.getFromId(C,S);M._annIndices.push(m._index)}if(c.coercePosition(m,C,y,S,b,.5),L){var I="a"+b,T=c.coerceRef(p,m,C,I,"pixel",["pixel","paper"]);T!=="pixel"&&T!==S&&(T=m[I]="pixel");var B=T==="pixel"?D[z]:.4;c.coercePosition(m,C,y,T,I,B)}y(b+"anchor"),y(b+"shift")}if(o.noneOrAll(p,m,["x","y"]),L&&o.noneOrAll(p,m,["ax","ay"]),w){var H=y("xclick"),Z=y("yclick");m._xclick=H===void 0?m.x:c.cleanPosition(H,C,m.xref),m._yclick=Z===void 0?m.y:c.cleanPosition(Z,C,m.yref)}}}},3377:function(i,s,a){"use strict";var o=a(5568),c=a(3626),l=a(4122),u=a(4809),f=u.strTranslate,h=a(9714),p=a(8766),m=a(2203),d=a(2141),y=a(635),x=a(7983),w=a(4751),L=a(8032).arrayEditor,_=a(3768);i.exports={draw:D,drawOne:C,drawRaw:b};function D(S){var M=S._fullLayout;M._infolayer.selectAll(".annotation").remove();for(var I=0;I<M.annotations.length;I++)M.annotations[I].visible&&C(S,I);return l.previousPromises(S)}function C(S,M){var I=S._fullLayout,T=I.annotations[M]||{},B=h.getFromId(S,T.xref),H=h.getFromId(S,T.yref);B&&B.setScale(),H&&H.setScale(),b(S,T,M,!1,B,H)}function z(S,M,I,T,B){var H=B[I],Z=B[I+"ref"],$=I.indexOf("y")!==-1,N=h.getRefType(Z)==="domain",j=$?T.h:T.w;return S?N?H+($?-M:M)/S._length:S.p2r(S.r2p(H)+M):H+($?-M:M)/j}function b(S,M,I,T,B,H){var Z=S._fullLayout,$=S._fullLayout._size,N=S._context.edits,j,O;T?(j="annotation-"+T,O=T+".annotations"):(j="annotation",O="annotations");var X=L(S.layout,O,M),ie=X.modifyBase,oe=X.modifyItem,V=X.getUpdateObj;Z._infolayer.selectAll("."+j+'[data-index="'+I+'"]').remove();var W="clip"+Z._uid+"_ann"+I;if(!M._input||M.visible===!1){o.selectAll("#"+W).remove();return}var Y={x:{},y:{}},Q=+M.textangle||0,re=Z._infolayer.append("g").classed(j,!0).attr("data-index",String(I)).style("opacity",M.opacity),te=re.append("g").classed("annotation-text-g",!0),le=N[M.showarrow?"annotationTail":"annotationPosition"],be=M.captureevents||N.annotationText||le;function Se(pe){var xe={index:I,annotation:M._input,fullAnnotation:M,event:pe};return T&&(xe.subplotId=T),xe}var ze=te.append("g").style("pointer-events",be?"all":null).call(x,"pointer").on("click",function(){S._dragging=!1,S.emit("plotly_clickannotation",Se(o.event))});M.hovertext&&ze.on("mouseover",function(){var pe=M.hoverlabel,xe=pe.font,we=this.getBoundingClientRect(),Ee=S.getBoundingClientRect();d.loneHover({x0:we.left-Ee.left,x1:we.right-Ee.left,y:(we.top+we.bottom)/2-Ee.top,text:M.hovertext,color:pe.bgcolor,borderColor:pe.bordercolor,fontFamily:xe.family,fontSize:xe.size,fontColor:xe.color,fontWeight:xe.weight,fontStyle:xe.style,fontVariant:xe.variant,fontShadow:xe.fontShadow,fontLineposition:xe.fontLineposition,fontTextcase:xe.fontTextcase},{container:Z._hoverlayer.node(),outerContainer:Z._paper.node(),gd:S})}).on("mouseout",function(){d.loneUnhover(Z._hoverlayer.node())});var Te=M.borderwidth,ye=M.borderpad,he=Te+ye,P=ze.append("rect").attr("class","bg").style("stroke-width",Te+"px").call(p.stroke,M.bordercolor).call(p.fill,M.bgcolor),U=M.width||M.height,ee=Z._topclips.selectAll("#"+W).data(U?[0]:[]);ee.enter().append("clipPath").classed("annclip",!0).attr("id",W).append("rect"),ee.exit().remove();var G=M.font,E=Z._meta?u.templateString(M.text,Z._meta):M.text,K=ze.append("text").classed("annotation-text",!0).text(E);function R(pe){return pe.call(m.font,G).attr({"text-anchor":{left:"start",right:"end"}[M.align]||"middle"}),y.convertToTspans(pe,S,ne),pe}function ne(){var pe=K.selectAll("a");if(pe.size()===1&&pe.text()===K.text()){var xe=ze.insert("a",":first-child").attr({"xlink:xlink:href":pe.attr("xlink:href"),"xlink:xlink:show":pe.attr("xlink:show")}).style({cursor:"pointer"});xe.node().appendChild(P.node())}var we=ze.select(".annotation-text-math-group"),Ee=!we.empty(),Oe=m.bBox((Ee?we:K).node()),Ke=Oe.width,Je=Oe.height,rt=M.width||Ke,Me=M.height||Je,ke=Math.round(rt+2*he),Le=Math.round(Me+2*he);function He(zn,Jt){return Jt==="auto"&&(zn<.3333333333333333?Jt="left":zn>.6666666666666666?Jt="right":Jt="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[Jt]}for(var Ve=!1,qe=["x","y"],vt=0;vt<qe.length;vt++){var At=qe[vt],Dt=M[At+"ref"]||At,bt=M["a"+At+"ref"],xt={x:B,y:H}[At],Et=(Q+(At==="x"?0:-90))*Math.PI/180,pt=ke*Math.cos(Et),Rt=Le*Math.sin(Et),Wt=Math.abs(pt)+Math.abs(Rt),Vt=M[At+"anchor"],Yt=M[At+"shift"]*(At==="x"?1:-1),et=Y[At],ct,gt,_e,Be,ve,ge=h.getRefType(Dt);if(xt&&ge!=="domain"){var Re=xt.r2fraction(M[At]);(Re<0||Re>1)&&(bt===Dt?(Re=xt.r2fraction(M["a"+At]),(Re<0||Re>1)&&(Ve=!0)):Ve=!0),ct=xt._offset+xt.r2p(M[At]),Be=.5}else{var Fe=ge==="domain";At==="x"?(_e=M[At],ct=Fe?xt._offset+xt._length*_e:ct=$.l+$.w*_e):(_e=1-M[At],ct=Fe?xt._offset+xt._length*_e:ct=$.t+$.h*_e),Be=M.showarrow?.5:_e}if(M.showarrow){et.head=ct;var Ue=M["a"+At];if(ve=pt*He(.5,M.xanchor)-Rt*He(.5,M.yanchor),bt===Dt){var We=h.getRefType(bt);We==="domain"?(At==="y"&&(Ue=1-Ue),et.tail=xt._offset+xt._length*Ue):We==="paper"?At==="y"?(Ue=1-Ue,et.tail=$.t+$.h*Ue):et.tail=$.l+$.w*Ue:et.tail=xt._offset+xt.r2p(Ue),gt=ve}else et.tail=ct+Ue,gt=ve+Ue;et.text=et.tail+ve;var St=Z[At==="x"?"width":"height"];if(Dt==="paper"&&(et.head=u.constrain(et.head,1,St-1)),bt==="pixel"){var Mt=-Math.max(et.tail-3,et.text),ot=Math.min(et.tail+3,et.text)-St;Mt>0?(et.tail+=Mt,et.text+=Mt):ot>0&&(et.tail-=ot,et.text-=ot)}et.tail+=Yt,et.head+=Yt}else ve=Wt*He(Be,Vt),gt=ve,et.text=ct+ve;et.text+=Yt,ve+=Yt,gt+=Yt,M["_"+At+"padplus"]=Wt/2+gt,M["_"+At+"padminus"]=Wt/2-gt,M["_"+At+"size"]=Wt,M["_"+At+"shift"]=ve}if(Ve){ze.remove();return}var Xe=0,_t=0;if(M.align!=="left"&&(Xe=(rt-Ke)*(M.align==="center"?.5:1)),M.valign!=="top"&&(_t=(Me-Je)*(M.valign==="middle"?.5:1)),Ee)we.select("svg").attr({x:he+Xe-1,y:he+_t}).call(m.setClipUrl,U?W:null,S);else{var Xt=he+_t-Oe.top,sn=he+Xe-Oe.left;K.call(y.positionText,sn,Xt).call(m.setClipUrl,U?W:null,S)}ee.select("rect").call(m.setRect,he,he,rt,Me),P.call(m.setRect,Te/2,Te/2,ke-Te,Le-Te),ze.call(m.setTranslate,Math.round(Y.x.text-ke/2),Math.round(Y.y.text-Le/2)),te.attr({transform:"rotate("+Q+","+Y.x.text+","+Y.y.text+")"});var pn=function(zn,Jt){re.selectAll(".annotation-arrow-g").remove();var Cn=Y.x.head,yn=Y.y.head,xn=Y.x.tail+zn,Pn=Y.y.tail+Jt,Ln=Y.x.text+zn,on=Y.y.text+Jt,_n=u.rotationXYMatrix(Q,Ln,on),gn=u.apply2DTransform(_n),Un=u.apply2DTransform2(_n),qn=+P.attr("width"),Jn=+P.attr("height"),bn=Ln-.5*qn,Qn=bn+qn,Vn=on-.5*Jn,hn=Vn+Jn,me=[[bn,Vn,bn,hn],[bn,hn,Qn,hn],[Qn,hn,Qn,Vn],[Qn,Vn,bn,Vn]].map(Un);if(!me.reduce(function(Ot,en){return Ot^!!u.segmentsIntersect(Cn,yn,Cn+1e6,yn+1e6,en[0],en[1],en[2],en[3])},!1)){me.forEach(function(Ot){var en=u.segmentsIntersect(xn,Pn,Cn,yn,Ot[0],Ot[1],Ot[2],Ot[3]);en&&(xn=en.x,Pn=en.y)});var ce=M.arrowwidth,it=M.arrowcolor,tt=M.arrowside,Ze=re.append("g").style({opacity:p.opacity(it)}).classed("annotation-arrow-g",!0),Ye=Ze.append("path").attr("d","M"+xn+","+Pn+"L"+Cn+","+yn).style("stroke-width",ce+"px").call(p.stroke,p.rgb(it));if(_(Ye,tt,M),N.annotationPosition&&Ye.node().parentNode&&!T){var Qe=Cn,mt=yn;if(M.standoff){var st=Math.sqrt(Math.pow(Cn-xn,2)+Math.pow(yn-Pn,2));Qe+=M.standoff*(xn-Cn)/st,mt+=M.standoff*(Pn-yn)/st}var yt=Ze.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(xn-Qe)+","+(Pn-mt),transform:f(Qe,mt)}).style("stroke-width",ce+6+"px").call(p.stroke,"rgba(0,0,0,0)").call(p.fill,"rgba(0,0,0,0)"),Ct,wt;w.init({element:yt.node(),gd:S,prepFn:function(){var Ot=m.getTranslate(ze);Ct=Ot.x,wt=Ot.y,B&&B.autorange&&ie(B._name+".autorange",!0),H&&H.autorange&&ie(H._name+".autorange",!0)},moveFn:function(Ot,en){var Tt=gn(Ct,wt),fn=Tt[0]+Ot,Zt=Tt[1]+en;ze.call(m.setTranslate,fn,Zt),oe("x",z(B,Ot,"x",$,M)),oe("y",z(H,en,"y",$,M)),M.axref===M.xref&&oe("ax",z(B,Ot,"ax",$,M)),M.ayref===M.yref&&oe("ay",z(H,en,"ay",$,M)),Ze.attr("transform",f(Ot,en)),te.attr({transform:"rotate("+Q+","+fn+","+Zt+")"})},doneFn:function(){c.call("_guiRelayout",S,V());var Ot=document.querySelector(".js-notes-box-panel");Ot&&Ot.redraw(Ot.selectedObj)}})}}};if(M.showarrow&&pn(0,0),le){var An;w.init({element:ze.node(),gd:S,prepFn:function(){An=te.attr("transform")},moveFn:function(zn,Jt){var Cn="pointer";if(M.showarrow)M.axref===M.xref?oe("ax",z(B,zn,"ax",$,M)):oe("ax",M.ax+zn),M.ayref===M.yref?oe("ay",z(H,Jt,"ay",$.w,M)):oe("ay",M.ay+Jt),pn(zn,Jt);else{if(T)return;var yn,xn;if(B)yn=z(B,zn,"x",$,M);else{var Pn=M._xsize/$.w,Ln=M.x+(M._xshift-M.xshift)/$.w-Pn/2;yn=w.align(Ln+zn/$.w,Pn,0,1,M.xanchor)}if(H)xn=z(H,Jt,"y",$,M);else{var on=M._ysize/$.h,_n=M.y-(M._yshift+M.yshift)/$.h-on/2;xn=w.align(_n-Jt/$.h,on,0,1,M.yanchor)}oe("x",yn),oe("y",xn),(!B||!H)&&(Cn=w.getCursor(B?.5:yn,H?.5:xn,M.xanchor,M.yanchor))}te.attr({transform:f(zn,Jt)+An}),x(ze,Cn)},clickFn:function(zn,Jt){M.captureevents&&S.emit("plotly_clickannotation",Se(Jt))},doneFn:function(){x(ze),c.call("_guiRelayout",S,V());var zn=document.querySelector(".js-notes-box-panel");zn&&zn.redraw(zn.selectedObj)}})}}N.annotationText?K.call(y.makeEditable,{delegate:ze,gd:S}).call(R).on("edit",function(pe){M.text=pe,this.call(R),oe("text",pe),B&&B.autorange&&ie(B._name+".autorange",!0),H&&H.autorange&&ie(H._name+".autorange",!0),c.call("_guiRelayout",S,V())}):K.call(R)}},3768:function(i,s,a){"use strict";var o=a(5568),c=a(8766),l=a(1645),u=a(4809),f=u.strScale,h=u.strRotate,p=u.strTranslate;i.exports=function(d,y,x){var w=d.node(),L=l[x.arrowhead||0],_=l[x.startarrowhead||0],D=(x.arrowwidth||1)*(x.arrowsize||1),C=(x.arrowwidth||1)*(x.startarrowsize||1),z=y.indexOf("start")>=0,b=y.indexOf("end")>=0,S=L.backoff*D+x.standoff,M=_.backoff*C+x.startstandoff,I,T,B,H;if(w.nodeName==="line"){I={x:+d.attr("x1"),y:+d.attr("y1")},T={x:+d.attr("x2"),y:+d.attr("y2")};var Z=I.x-T.x,$=I.y-T.y;if(B=Math.atan2($,Z),H=B+Math.PI,S&&M&&S+M>Math.sqrt(Z*Z+$*$)){te();return}if(S){if(S*S>Z*Z+$*$){te();return}var N=S*Math.cos(B),j=S*Math.sin(B);T.x+=N,T.y+=j,d.attr({x2:T.x,y2:T.y})}if(M){if(M*M>Z*Z+$*$){te();return}var O=M*Math.cos(B),X=M*Math.sin(B);I.x-=O,I.y-=X,d.attr({x1:I.x,y1:I.y})}}else if(w.nodeName==="path"){var ie=w.getTotalLength(),oe="";if(ie<S+M){te();return}var V=w.getPointAtLength(0),W=w.getPointAtLength(.1);B=Math.atan2(V.y-W.y,V.x-W.x),I=w.getPointAtLength(Math.min(M,ie)),oe="0px,"+M+"px,";var Y=w.getPointAtLength(ie),Q=w.getPointAtLength(ie-.1);H=Math.atan2(Y.y-Q.y,Y.x-Q.x),T=w.getPointAtLength(Math.max(0,ie-S));var re=oe?M+S:S;oe+=ie-re+"px,"+ie+"px",d.style("stroke-dasharray",oe)}function te(){d.style("stroke-dasharray","0px,100px")}function le(be,Se,ze,Te){be.path&&(be.noRotate&&(ze=0),o.select(w.parentNode).append("path").attr({class:d.attr("class"),d:be.path,transform:p(Se.x,Se.y)+h(ze*180/Math.PI)+f(Te)}).style({fill:c.rgb(x.arrowcolor),"stroke-width":0}))}z&&le(_,I,B,C),b&&le(L,T,H,D)}},3599:function(i,s,a){"use strict";var o=a(3377),c=a(6035);i.exports={moduleType:"component",name:"annotations",layoutAttributes:a(222),supplyLayoutDefaults:a(6118),includeBasePlot:a(706)("annotations"),calcAutorange:a(317),draw:o.draw,drawOne:o.drawOne,drawRaw:o.drawRaw,hasClickToShow:c.hasClickToShow,onClick:c.onClick,convertCoords:a(9741)}},8239:function(i,s,a){"use strict";var o=a(222),c=a(3582).overrideAll,l=a(8032).templatedArray;i.exports=c(l("annotation",{visible:o.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:o.xanchor,xshift:o.xshift,yanchor:o.yanchor,yshift:o.yshift,text:o.text,textangle:o.textangle,font:o.font,width:o.width,height:o.height,opacity:o.opacity,align:o.align,valign:o.valign,bgcolor:o.bgcolor,bordercolor:o.bordercolor,borderpad:o.borderpad,borderwidth:o.borderwidth,showarrow:o.showarrow,arrowcolor:o.arrowcolor,arrowhead:o.arrowhead,startarrowhead:o.startarrowhead,arrowside:o.arrowside,arrowsize:o.arrowsize,startarrowsize:o.startarrowsize,arrowwidth:o.arrowwidth,standoff:o.standoff,startstandoff:o.startstandoff,hovertext:o.hovertext,hoverlabel:o.hoverlabel,captureevents:o.captureevents}),"calc","from-root")},7979:function(i,s,a){"use strict";var o=a(4809),c=a(9714);i.exports=function(f){for(var h=f.fullSceneLayout,p=h.annotations,m=0;m<p.length;m++)l(p[m],f);f.fullLayout._infolayer.selectAll(".annotation-"+f.id).remove()};function l(u,f){var h=f.fullSceneLayout,p=h.domain,m=f.fullLayout._size,d={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};u._xa={},o.extendFlat(u._xa,d),c.setConvert(u._xa),u._xa._offset=m.l+p.x[0]*m.w,u._xa.l2p=function(){return .5*(1+u._pdata[0]/u._pdata[3])*m.w*(p.x[1]-p.x[0])},u._ya={},o.extendFlat(u._ya,d),c.setConvert(u._ya),u._ya._offset=m.t+(1-p.y[1])*m.h,u._ya.l2p=function(){return .5*(1-u._pdata[1]/u._pdata[3])*m.h*(p.y[1]-p.y[0])}}},4232:function(i,s,a){"use strict";var o=a(4809),c=a(9714),l=a(9008),u=a(3271),f=a(8239);i.exports=function(m,d,y){l(m,d,{name:"annotations",handleItemDefaults:h,fullLayout:y.fullLayout})};function h(p,m,d,y){function x(_,D){return o.coerce(p,m,f,_,D)}function w(_){var D=_+"axis",C={_fullLayout:{}};return C._fullLayout[D]=d[D],c.coercePosition(m,C,x,_,_,.5)}var L=x("visible");L&&(u(p,m,y.fullLayout,x),w("x"),w("y"),w("z"),o.noneOrAll(p,m,["x","y","z"]),m.xref="x",m.yref="y",m.zref="z",x("xanchor"),x("yanchor"),x("xshift"),x("yshift"),m.showarrow&&(m.axref="pixel",m.ayref="pixel",x("ax",-10),x("ay",-30),o.noneOrAll(p,m,["ax","ay"])))}},9756:function(i,s,a){"use strict";var o=a(3377).drawRaw,c=a(5802),l=["x","y","z"];i.exports=function(f){for(var h=f.fullSceneLayout,p=f.dataScale,m=h.annotations,d=0;d<m.length;d++){for(var y=m[d],x=!1,w=0;w<3;w++){var L=l[w],_=y[L],D=h[L+"axis"],C=D.r2fraction(_);if(C<0||C>1){x=!0;break}}x?f.fullLayout._infolayer.select(".annotation-"+f.id+'[data-index="'+d+'"]').remove():(y._pdata=c(f.glplot.cameraParams,[h.xaxis.r2l(y.x)*p[0],h.yaxis.r2l(y.y)*p[1],h.zaxis.r2l(y.z)*p[2]]),o(f.graphDiv,y,d,f.id,y._xa,y._ya))}}},3348:function(i,s,a){"use strict";var o=a(3626),c=a(4809);i.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:a(8239)}}},layoutAttributes:a(8239),handleDefaults:a(4232),includeBasePlot:l,convert:a(7979),draw:a(9756)};function l(u,f){var h=o.subplotsRegistry.gl3d;if(h)for(var p=h.attrRegex,m=Object.keys(u),d=0;d<m.length;d++){var y=m[d];p.test(y)&&(u[y].annotations||[]).length&&(c.pushUnique(f._basePlotModules,h),c.pushUnique(f._subplots.gl3d,y))}}},7177:function(i,s,a){"use strict";i.exports=a(6834),a(3428),a(1401),a(2210),a(8569),a(1133),a(8295),a(5512),a(2645),a(2324),a(1662),a(6445),a(506),a(4756),a(1858),a(7985)},7317:function(i,s,a){"use strict";var o=a(7177),c=a(4809),l=a(3821),u=l.EPOCHJD,f=l.ONEDAY,h={valType:"enumerated",values:c.sortObjectKeys(o.calendars),editType:"calc",dflt:"gregorian"},p=function(B,H,Z,$){var N={};return N[Z]=h,c.coerce(B,H,N,Z,$)},m=function(B,H,Z,$){for(var N=0;N<Z.length;N++)p(B,H,Z[N]+"calendar",$.calendar)},d={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},y={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},x={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},w="##",L={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:w,w,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function _(B,H,Z){for(var $=Math.floor((H+.05)/f)+u,N=C(Z).fromJD($),j=0,O,X,ie,oe,V;(j=B.indexOf("%",j))!==-1;)O=B.charAt(j+1),O==="0"||O==="-"||O==="_"?(ie=3,X=B.charAt(j+2),O==="_"&&(O="-")):(X=O,O="0",ie=2),oe=L[X],oe?(oe===w?V=w:V=N.formatDate(oe[O]),B=B.substr(0,j)+V+B.substr(j+ie),j+=V.length):j+=ie;return B}var D={};function C(B){var H=D[B];return H||(H=D[B]=o.instance(B),H)}function z(B){return c.extendFlat({},h,{description:B})}function b(B){return"Sets the calendar system to use with `"+B+"` date data."}var S={xcalendar:z(b("x"))},M=c.extendFlat({},S,{ycalendar:z(b("y"))}),I=c.extendFlat({},M,{zcalendar:z(b("z"))}),T=z(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));i.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:M,bar:M,box:M,heatmap:M,contour:M,histogram:M,histogram2d:M,histogram2dcontour:M,scatter3d:I,surface:I,mesh3d:I,scattergl:M,ohlc:S,candlestick:S},layout:{calendar:z(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:T},yaxis:{calendar:T},scene:{xaxis:{calendar:T},yaxis:{calendar:T},zaxis:{calendar:T}},polar:{radialaxis:{calendar:T}}},transforms:{filter:{valuecalendar:z(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:z(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:h,handleDefaults:p,handleTraceDefaults:m,CANONICAL_SUNDAY:y,CANONICAL_TICK:d,DFLTRANGE:x,getCal:C,worldCalFmt:_}},229:function(i,s){"use strict";s.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],s.defaultLine="#444",s.lightLine="#eee",s.background="#fff",s.borderLine="#BEC8D9",s.lightFraction=90.9090909090909},8766:function(i,s,a){"use strict";var o=a(5657),c=a(721),l=a(7800).isTypedArray,u=i.exports={},f=a(229);u.defaults=f.defaults;var h=u.defaultLine=f.defaultLine;u.lightLine=f.lightLine;var p=u.background=f.background;u.tinyRGB=function(d){var y=d.toRgb();return"rgb("+Math.round(y.r)+", "+Math.round(y.g)+", "+Math.round(y.b)+")"},u.rgb=function(d){return u.tinyRGB(o(d))},u.opacity=function(d){return d?o(d).getAlpha():0},u.addOpacity=function(d,y){var x=o(d).toRgb();return"rgba("+Math.round(x.r)+", "+Math.round(x.g)+", "+Math.round(x.b)+", "+y+")"},u.combine=function(d,y){var x=o(d).toRgb();if(x.a===1)return o(d).toRgbString();var w=o(y||p).toRgb(),L=w.a===1?w:{r:255*(1-w.a)+w.r*w.a,g:255*(1-w.a)+w.g*w.a,b:255*(1-w.a)+w.b*w.a},_={r:L.r*(1-x.a)+x.r*x.a,g:L.g*(1-x.a)+x.g*x.a,b:L.b*(1-x.a)+x.b*x.a};return o(_).toRgbString()},u.interpolate=function(d,y,x){var w=o(d).toRgb(),L=o(y).toRgb(),_={r:x*w.r+(1-x)*L.r,g:x*w.g+(1-x)*L.g,b:x*w.b+(1-x)*L.b};return o(_).toRgbString()},u.contrast=function(d,y,x){var w=o(d);w.getAlpha()!==1&&(w=o(u.combine(d,p)));var L=w.isDark()?y?w.lighten(y):p:x?w.darken(x):h;return L.toString()},u.stroke=function(d,y){var x=o(y);d.style({stroke:u.tinyRGB(x),"stroke-opacity":x.getAlpha()})},u.fill=function(d,y){var x=o(y);d.style({fill:u.tinyRGB(x),"fill-opacity":x.getAlpha()})},u.clean=function(d){if(!(!d||typeof d!="object")){var y=Object.keys(d),x,w,L,_;for(x=0;x<y.length;x++)if(L=y[x],_=d[L],L.substr(L.length-5)==="color")if(Array.isArray(_))for(w=0;w<_.length;w++)_[w]=m(_[w]);else d[L]=m(_);else if(L.substr(L.length-10)==="colorscale"&&Array.isArray(_))for(w=0;w<_.length;w++)Array.isArray(_[w])&&(_[w][1]=m(_[w][1]));else if(Array.isArray(_)){var D=_[0];if(!Array.isArray(D)&&D&&typeof D=="object")for(w=0;w<_.length;w++)u.clean(_[w])}else _&&typeof _=="object"&&!l(_)&&u.clean(_)}};function m(d){if(c(d)||typeof d!="string")return d;var y=d.trim();if(y.substr(0,3)!=="rgb")return d;var x=y.match(/^rgba?\s*\(([^()]*)\)$/);if(!x)return d;var w=x[1].trim().split(/\s*[\s,]\s*/),L=y.charAt(3)==="a"&&w.length===4;if(!L&&w.length!==3)return d;for(var _=0;_<w.length;_++){if(!w[_].length||(w[_]=Number(w[_]),!(w[_]>=0)))return d;if(_===3)w[_]>1&&(w[_]=1);else if(w[_]>=1)return d}var D=Math.round(w[0]*255)+", "+Math.round(w[1]*255)+", "+Math.round(w[2]*255);return L?"rgba("+D+", "+w[3]+")":"rgb("+D+")"}},5158:function(i,s,a){"use strict";var o=a(5829),c=a(337),l=a(3049).extendFlat,u=a(3582).overrideAll;i.exports=u({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:o.linecolor,outlinewidth:o.linewidth,bordercolor:o.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:o.minor.tickmode,nticks:o.nticks,tick0:o.tick0,dtick:o.dtick,tickvals:o.tickvals,ticktext:o.ticktext,ticks:l({},o.ticks,{dflt:""}),ticklabeloverflow:l({},o.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:o.ticklen,tickwidth:o.tickwidth,tickcolor:o.tickcolor,ticklabelstep:o.ticklabelstep,showticklabels:o.showticklabels,labelalias:o.labelalias,tickfont:c({}),tickangle:o.tickangle,tickformat:o.tickformat,tickformatstops:o.tickformatstops,tickprefix:o.tickprefix,showtickprefix:o.showtickprefix,ticksuffix:o.ticksuffix,showticksuffix:o.showticksuffix,separatethousands:o.separatethousands,exponentformat:o.exponentformat,minexponent:o.minexponent,showexponent:o.showexponent,title:{text:{valType:"string"},font:c({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:c({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},4554:function(i){"use strict";i.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},2097:function(i,s,a){"use strict";var o=a(4809),c=a(8032),l=a(2777),u=a(7433),f=a(2036),h=a(4616),p=a(5158);i.exports=function(d,y,x){var w=c.newContainer(y,"colorbar"),L=d.colorbar||{};function _(Y,Q){return o.coerce(L,w,p,Y,Q)}var D=x.margin||{t:0,b:0,l:0,r:0},C=x.width-D.l-D.r,z=x.height-D.t-D.b,b=_("orientation"),S=b==="v",M=_("thicknessmode");_("thickness",M==="fraction"?30/(S?C:z):30);var I=_("lenmode");_("len",I==="fraction"?1:S?z:C);var T=_("yref"),B=_("xref"),H=T==="paper",Z=B==="paper",$,N,j,O="left";S?(j="middle",O=Z?"left":"right",$=Z?1.02:1,N=.5):(j=H?"bottom":"top",O="center",$=.5,N=H?1.02:1),o.coerce(L,w,{x:{valType:"number",min:Z?-2:0,max:Z?3:1,dflt:$}},"x"),o.coerce(L,w,{y:{valType:"number",min:H?-2:0,max:H?3:1,dflt:N}},"y"),_("xanchor",O),_("xpad"),_("yanchor",j),_("ypad"),o.noneOrAll(L,w,["x","y"]),_("outlinecolor"),_("outlinewidth"),_("bordercolor"),_("borderwidth"),_("bgcolor");var X=o.coerce(L,w,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:S?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");_("ticklabeloverflow",X.indexOf("inside")!==-1?"hide past domain":"hide past div"),l(L,w,_,"linear");var ie=x.font,oe={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,outerTicks:!1,font:ie};X.indexOf("inside")!==-1&&(oe.bgColor="black"),h(L,w,_,"linear",oe),f(L,w,_,"linear",oe),u(L,w,_,"linear",oe),_("title.text",x._dfltTitle.colorbar);var V=w.showticklabels?w.tickfont:ie,W=o.extendFlat({},ie,{family:V.family,size:o.bigFont(V.size)});o.coerceFont(_,"title.font",W),_("title.side",S?"top":"right")}},5881:function(i,s,a){"use strict";var o=a(5568),c=a(5657),l=a(4122),u=a(3626),f=a(9714),h=a(4751),p=a(4809),m=p.strTranslate,d=a(3049).extendFlat,y=a(7983),x=a(2203),w=a(8766),L=a(7240),_=a(635),D=a(5477).flipScale,C=a(7655),z=a(957),b=a(5829),S=a(4530),M=S.LINE_SPACING,I=S.FROM_TL,T=S.FROM_BR,B=a(4554).cn;function H(X){var ie=X._fullLayout,oe=ie._infolayer.selectAll("g."+B.colorbar).data(Z(X),function(V){return V._id});oe.enter().append("g").attr("class",function(V){return V._id}).classed(B.colorbar,!0),oe.each(function(V){var W=o.select(this);p.ensureSingle(W,"rect",B.cbbg),p.ensureSingle(W,"g",B.cbfills),p.ensureSingle(W,"g",B.cblines),p.ensureSingle(W,"g",B.cbaxis,function(Q){Q.classed(B.crisp,!0)}),p.ensureSingle(W,"g",B.cbtitleunshift,function(Q){Q.append("g").classed(B.cbtitle,!0)}),p.ensureSingle(W,"rect",B.cboutline);var Y=$(W,V,X);Y&&Y.then&&(X._promises||[]).push(Y),X._context.edits.colorbarPosition&&N(W,V,X)}),oe.exit().each(function(V){l.autoMargin(X,V._id)}).remove(),oe.order()}function Z(X){var ie=X._fullLayout,oe=X.calcdata,V=[],W,Y,Q,re;function te(G){return d(G,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function le(){typeof re.calc=="function"?re.calc(X,Q,W):(W._fillgradient=Y.reversescale?D(Y.colorscale):Y.colorscale,W._zrange=[Y[re.min],Y[re.max]])}for(var be=0;be<oe.length;be++){var Se=oe[be];if(Q=Se[0].trace,!!Q._module){var ze=Q._module.colorbar;if(Q.visible===!0&&ze)for(var Te=Array.isArray(ze),ye=Te?ze:[ze],he=0;he<ye.length;he++){re=ye[he];var P=re.container;Y=P?Q[P]:Q,Y&&Y.showscale&&(W=te(Y.colorbar),W._id="cb"+Q.uid+(Te&&P?"-"+P:""),W._traceIndex=Q.index,W._propPrefix=(P?P+".":"")+"colorbar.",W._meta=Q._meta,le(),V.push(W))}}}for(var U in ie._colorAxes)if(Y=ie[U],Y.showscale){var ee=ie._colorAxes[U];W=te(Y.colorbar),W._id="cb"+U,W._propPrefix=U+".colorbar.",W._meta=ie._meta,re={min:"cmin",max:"cmax"},ee[0]!=="heatmap"&&(Q=ee[1],re.calc=Q._module.colorbar.calc),le(),V.push(W)}return V}function $(X,ie,oe){var V=ie.orientation==="v",W=ie.len,Y=ie.lenmode,Q=ie.thickness,re=ie.thicknessmode,te=ie.outlinewidth,le=ie.borderwidth,be=ie.bgcolor,Se=ie.xanchor,ze=ie.yanchor,Te=ie.xpad,ye=ie.ypad,he=ie.x,P=V?ie.y:1-ie.y,U=ie.yref==="paper",ee=ie.xref==="paper",G=oe._fullLayout,E=G._size,K=ie._fillcolor,R=ie._line,ne=ie.title,pe=ne.side,xe=ie._zrange||o.extent((typeof K=="function"?K:R.color).domain()),we=typeof R.color=="function"?R.color:function(){return R.color},Ee=typeof K=="function"?K:function(){return K},Oe=ie._levels,Ke=j(oe,ie,xe),Je=Ke.fill,rt=Ke.line,Me=Math.round(Q*(re==="fraction"?V?E.w:E.h:1)),ke=Me/(V?E.w:E.h),Le=Math.round(W*(Y==="fraction"?V?E.h:E.w:1)),He=Le/(V?E.h:E.w),Ve=ee?E.w:oe._fullLayout.width,qe=U?E.h:oe._fullLayout.height,vt=Math.round(V?he*Ve+Te:P*qe+ye),At={center:.5,right:1}[Se]||0,Dt={top:1,middle:.5}[ze]||0,bt=V?he-At*ke:P-Dt*ke,xt=V?P-Dt*He:he-At*He,Et=Math.round(V?qe*(1-xt):Ve*xt);ie._lenFrac=He,ie._thickFrac=ke,ie._uFrac=bt,ie._vFrac=xt;var pt=ie._axis=O(oe,ie,xe);pt.position=ke+(V?he+Te/E.w:P+ye/E.h);var Rt=["top","bottom"].indexOf(pe)!==-1;if(V&&Rt&&(pt.title.side=pe,pt.titlex=he+Te/E.w,pt.titley=xt+(ne.side==="top"?He-ye/E.h:ye/E.h)),!V&&!Rt&&(pt.title.side=pe,pt.titley=P+ye/E.h,pt.titlex=xt+Te/E.w),R.color&&ie.tickmode==="auto"){pt.tickmode="linear",pt.tick0=Oe.start;var Wt=Oe.size,Vt=p.constrain(Le/50,4,15)+1,Yt=(xe[1]-xe[0])/((ie.nticks||Vt)*Wt);if(Yt>1){var et=Math.pow(10,Math.floor(Math.log(Yt)/Math.LN10));Wt*=et*p.roundUp(Yt/et,[2,5,10]),(Math.abs(Oe.start)/Oe.size+1e-6)%1<2e-6&&(pt.tick0=0)}pt.dtick=Wt}pt.domain=V?[xt+ye/E.h,xt+He-ye/E.h]:[xt+Te/E.w,xt+He-Te/E.w],pt.setScale(),X.attr("transform",m(Math.round(E.l),Math.round(E.t)));var ct=X.select("."+B.cbtitleunshift).attr("transform",m(-Math.round(E.l),-Math.round(E.t))),gt=pt.ticklabelposition,_e=pt.title.font.size,Be=X.select("."+B.cbaxis),ve,ge=0,Re=0;function Fe(ot,Xe){var _t={propContainer:pt,propName:ie._propPrefix+"title",traceIndex:ie._traceIndex,_meta:ie._meta,placeholder:G._dfltTitle.colorbar,containerGroup:X.select("."+B.cbtitle)},Xt=ot.charAt(0)==="h"?ot.substr(1):"h"+ot;X.selectAll("."+Xt+",."+Xt+"-math-group").remove(),L.draw(oe,ot,d(_t,Xe||{}))}function Ue(){if(V&&Rt||!V&&!Rt){var ot,Xe;pe==="top"&&(ot=Te+E.l+Ve*he,Xe=ye+E.t+qe*(1-xt-He)+3+_e*.75),pe==="bottom"&&(ot=Te+E.l+Ve*he,Xe=ye+E.t+qe*(1-xt)-3-_e*.25),pe==="right"&&(Xe=ye+E.t+qe*P+3+_e*.75,ot=Te+E.l+Ve*xt),Fe(pt._id+"title",{attributes:{x:ot,y:Xe,"text-anchor":V?"start":"middle"}})}}function We(){if(V&&!Rt||!V&&Rt){var ot=pt.position||0,Xe=pt._offset+pt._length/2,_t,Xt;if(pe==="right")Xt=Xe,_t=E.l+Ve*ot+10+_e*(pt.showticklabels?1:.5);else if(_t=Xe,pe==="bottom"&&(Xt=E.t+qe*ot+10+(gt.indexOf("inside")===-1?pt.tickfont.size:0)+(pt.ticks!=="intside"&&ie.ticklen||0)),pe==="top"){var sn=ne.text.split("<br>").length;Xt=E.t+qe*ot+10-Me-M*_e*sn}Fe((V?"h":"v")+pt._id+"title",{avoid:{selection:o.select(oe).selectAll("g."+pt._id+"tick"),side:pe,offsetTop:V?0:E.t,offsetLeft:V?E.l:0,maxShift:V?G.width:G.height},attributes:{x:_t,y:Xt,"text-anchor":"middle"},transform:{rotate:V?-90:0,offset:0}})}}function St(){if(!V&&!Rt||V&&Rt){var ot=X.select("."+B.cbtitle),Xe=ot.select("text"),_t=[-te/2,te/2],Xt=ot.select(".h"+pt._id+"title-math-group").node(),sn=15.6;Xe.node()&&(sn=parseInt(Xe.node().style.fontSize,10)*M);var pn;if(Xt?(pn=x.bBox(Xt),Re=pn.width,ge=pn.height,ge>sn&&(_t[1]-=(ge-sn)/2)):Xe.node()&&!Xe.classed(B.jsPlaceholder)&&(pn=x.bBox(Xe.node()),Re=pn.width,ge=pn.height),V){if(ge){if(ge+=5,pe==="top")pt.domain[1]-=ge/E.h,_t[1]*=-1;else{pt.domain[0]+=ge/E.h;var An=_.lineCount(Xe);_t[1]+=(1-An)*sn}ot.attr("transform",m(_t[0],_t[1])),pt.setScale()}}else Re&&(pe==="right"&&(pt.domain[0]+=(Re+_e/2)/E.w),ot.attr("transform",m(_t[0],_t[1])),pt.setScale())}X.selectAll("."+B.cbfills+",."+B.cblines).attr("transform",V?m(0,Math.round(E.h*(1-pt.domain[1]))):m(Math.round(E.w*pt.domain[0]),0)),Be.attr("transform",V?m(0,Math.round(-E.t)):m(Math.round(-E.l),0));var zn=X.select("."+B.cbfills).selectAll("rect."+B.cbfill).attr("style","").data(Je);zn.enter().append("rect").classed(B.cbfill,!0).attr("style",""),zn.exit().remove();var Jt=xe.map(pt.c2p).map(Math.round).sort(function(Ln,on){return Ln-on});zn.each(function(Ln,on){var _n=[on===0?xe[0]:(Je[on]+Je[on-1])/2,on===Je.length-1?xe[1]:(Je[on]+Je[on+1])/2].map(pt.c2p).map(Math.round);V&&(_n[1]=p.constrain(_n[1]+(_n[1]>_n[0])?1:-1,Jt[0],Jt[1]));var gn=o.select(this).attr(V?"x":"y",vt).attr(V?"y":"x",o.min(_n)).attr(V?"width":"height",Math.max(Me,2)).attr(V?"height":"width",Math.max(o.max(_n)-o.min(_n),2));if(ie._fillgradient)x.gradient(gn,oe,ie._id,V?"vertical":"horizontalreversed",ie._fillgradient,"fill");else{var Un=Ee(Ln).replace("e-","");gn.attr("fill",c(Un).toHexString())}});var Cn=X.select("."+B.cblines).selectAll("path."+B.cbline).data(R.color&&R.width?rt:[]);Cn.enter().append("path").classed(B.cbline,!0),Cn.exit().remove(),Cn.each(function(Ln){var on=vt,_n=Math.round(pt.c2p(Ln))+R.width/2%1;o.select(this).attr("d","M"+(V?on+","+_n:_n+","+on)+(V?"h":"v")+Me).call(x.lineGroupStyle,R.width,we(Ln),R.dash)}),Be.selectAll("g."+pt._id+"tick,path").remove();var yn=vt+Me+(te||0)/2-(ie.ticks==="outside"?1:0),xn=f.calcTicks(pt),Pn=f.getTickSigns(pt)[2];return f.drawTicks(oe,pt,{vals:pt.ticks==="inside"?f.clipEnds(pt,xn):xn,layer:Be,path:f.makeTickPath(pt,yn,Pn),transFn:f.makeTransTickFn(pt)}),f.drawLabels(oe,pt,{vals:xn,layer:Be,transFn:f.makeTransTickLabelFn(pt),labelFns:f.makeLabelFns(pt,yn)})}function Mt(){var ot,Xe=Me+te/2;gt.indexOf("inside")===-1&&(ot=x.bBox(Be.node()),Xe+=V?ot.width:ot.height),ve=ct.select("text");var _t=0,Xt=V&&pe==="top",sn=!V&&pe==="right",pn=0;if(ve.node()&&!ve.classed(B.jsPlaceholder)){var An,zn=ct.select(".h"+pt._id+"title-math-group").node();zn&&(V&&Rt||!V&&!Rt)?(ot=x.bBox(zn),_t=ot.width,An=ot.height):(ot=x.bBox(ct.node()),_t=ot.right-E.l-(V?vt:Et),An=ot.bottom-E.t-(V?Et:vt),!V&&pe==="top"&&(Xe+=ot.height,pn=ot.height)),sn&&(ve.attr("transform",m(_t/2+_e/2,0)),_t*=2),Xe=Math.max(Xe,V?_t:An)}var Jt=(V?Te:ye)*2+Xe+le+te/2,Cn=0;!V&&ne.text&&ze==="bottom"&&P<=0&&(Cn=Jt/2,Jt+=Cn,pn+=Cn),G._hColorbarMoveTitle=Cn,G._hColorbarMoveCBTitle=pn;var yn=le+te,xn=(V?vt:Et)-yn/2-(V?Te:0),Pn=(V?Et:vt)-(V?Le:ye+pn-Cn);X.select("."+B.cbbg).attr("x",xn).attr("y",Pn).attr(V?"width":"height",Math.max(Jt-Cn,2)).attr(V?"height":"width",Math.max(Le+yn,2)).call(w.fill,be).call(w.stroke,ie.bordercolor).style("stroke-width",le);var Ln=sn?Math.max(_t-10,0):0;X.selectAll("."+B.cboutline).attr("x",(V?vt:Et+Te)+Ln).attr("y",(V?Et+ye-Le:vt)+(Xt?ge:0)).attr(V?"width":"height",Math.max(Me,2)).attr(V?"height":"width",Math.max(Le-(V?2*ye+ge:2*Te+Ln),2)).call(w.stroke,ie.outlinecolor).style({fill:"none","stroke-width":te});var on=V?At*Jt:0,_n=V?0:(1-Dt)*Jt-pn;if(on=ee?E.l-on:-on,_n=U?E.t-_n:-_n,X.attr("transform",m(on,_n)),!V&&(le||c(be).getAlpha()&&!c.equals(G.paper_bgcolor,be))){var gn=Be.selectAll("text"),Un=gn[0].length,qn=X.select("."+B.cbbg).node(),Jn=x.bBox(qn),bn=x.getTranslate(X),Qn=2;gn.each(function(mt,st){var yt=0,Ct=Un-1;if(st===yt||st===Ct){var wt=x.bBox(this),Ot=x.getTranslate(this),en;if(st===Ct){var Tt=wt.right+Ot.x,fn=Jn.right+bn.x+Et-le-Qn+he;en=fn-Tt,en>0&&(en=0)}else if(st===yt){var Zt=wt.left+Ot.x,an=Jn.left+bn.x+Et+le+Qn;en=an-Zt,en<0&&(en=0)}en&&(Un<3?this.setAttribute("transform","translate("+en+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Vn={},hn=I[Se],me=T[Se],ce=I[ze],it=T[ze],tt=Jt-Me;V?(Y==="pixels"?(Vn.y=P,Vn.t=Le*ce,Vn.b=Le*it):(Vn.t=Vn.b=0,Vn.yt=P+W*ce,Vn.yb=P-W*it),re==="pixels"?(Vn.x=he,Vn.l=Jt*hn,Vn.r=Jt*me):(Vn.l=tt*hn,Vn.r=tt*me,Vn.xl=he-Q*hn,Vn.xr=he+Q*me)):(Y==="pixels"?(Vn.x=he,Vn.l=Le*hn,Vn.r=Le*me):(Vn.l=Vn.r=0,Vn.xl=he+W*hn,Vn.xr=he-W*me),re==="pixels"?(Vn.y=1-P,Vn.t=Jt*ce,Vn.b=Jt*it):(Vn.t=tt*ce,Vn.b=tt*it,Vn.yt=P-Q*ce,Vn.yb=P+Q*it));var Ze=ie.y<.5?"b":"t",Ye=ie.x<.5?"l":"r";oe._fullLayout._reservedMargin[ie._id]={};var Qe={r:G.width-xn-on,l:xn+Vn.r,b:G.height-Pn-_n,t:Pn+Vn.b};ee&&U?l.autoMargin(oe,ie._id,Vn):ee?oe._fullLayout._reservedMargin[ie._id][Ze]=Qe[Ze]:U||V?oe._fullLayout._reservedMargin[ie._id][Ye]=Qe[Ye]:oe._fullLayout._reservedMargin[ie._id][Ze]=Qe[Ze]}return p.syncOrAsync([l.previousPromises,Ue,St,We,l.previousPromises,Mt],oe)}function N(X,ie,oe){var V=ie.orientation==="v",W=oe._fullLayout,Y=W._size,Q,re,te;h.init({element:X.node(),gd:oe,prepFn:function(){Q=X.attr("transform"),y(X)},moveFn:function(le,be){X.attr("transform",Q+m(le,be)),re=h.align((V?ie._uFrac:ie._vFrac)+le/Y.w,V?ie._thickFrac:ie._lenFrac,0,1,ie.xanchor),te=h.align((V?ie._vFrac:1-ie._uFrac)-be/Y.h,V?ie._lenFrac:ie._thickFrac,0,1,ie.yanchor);var Se=h.getCursor(re,te,ie.xanchor,ie.yanchor);y(X,Se)},doneFn:function(){if(y(X),re!==void 0&&te!==void 0){var le={};le[ie._propPrefix+"x"]=re,le[ie._propPrefix+"y"]=te,ie._traceIndex!==void 0?u.call("_guiRestyle",oe,le,ie._traceIndex):u.call("_guiRelayout",oe,le)}}})}function j(X,ie,oe){var V=ie._levels,W=[],Y=[],Q,re,te=V.end+V.size/100,le=V.size,be=1.001*oe[0]-.001*oe[1],Se=1.001*oe[1]-.001*oe[0];for(re=0;re<1e5&&(Q=V.start+re*le,!(le>0?Q>=te:Q<=te));re++)Q>be&&Q<Se&&W.push(Q);if(ie._fillgradient)Y=[0];else if(typeof ie._fillcolor=="function"){var ze=ie._filllevels;if(ze)for(te=ze.end+ze.size/100,le=ze.size,re=0;re<1e5&&(Q=ze.start+re*le,!(le>0?Q>=te:Q<=te));re++)Q>oe[0]&&Q<oe[1]&&Y.push(Q);else Y=W.map(function(Te){return Te-V.size/2}),Y.push(Y[Y.length-1]+V.size)}else ie._fillcolor&&typeof ie._fillcolor=="string"&&(Y=[0]);return V.size<0&&(W.reverse(),Y.reverse()),{line:W,fill:Y}}function O(X,ie,oe){var V=X._fullLayout,W=ie.orientation==="v",Y={type:"linear",range:oe,tickmode:ie.tickmode,nticks:ie.nticks,tick0:ie.tick0,dtick:ie.dtick,tickvals:ie.tickvals,ticktext:ie.ticktext,ticks:ie.ticks,ticklen:ie.ticklen,tickwidth:ie.tickwidth,tickcolor:ie.tickcolor,showticklabels:ie.showticklabels,labelalias:ie.labelalias,ticklabelposition:ie.ticklabelposition,ticklabeloverflow:ie.ticklabeloverflow,ticklabelstep:ie.ticklabelstep,tickfont:ie.tickfont,tickangle:ie.tickangle,tickformat:ie.tickformat,exponentformat:ie.exponentformat,minexponent:ie.minexponent,separatethousands:ie.separatethousands,showexponent:ie.showexponent,showtickprefix:ie.showtickprefix,tickprefix:ie.tickprefix,showticksuffix:ie.showticksuffix,ticksuffix:ie.ticksuffix,title:ie.title,showline:!0,anchor:"free",side:W?"right":"bottom",position:1},Q=W?"y":"x",re={type:"linear",_id:Q+ie._id},te={letter:Q,font:V.font,noAutotickangles:Q==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:V.calendar};function le(be,Se){return p.coerce(Y,re,b,be,Se)}return C(Y,re,le,te,V),z(Y,re,le,te),re}i.exports={draw:H}},1362:function(i,s,a){"use strict";var o=a(4809);i.exports=function(l){return o.isPlainObject(l.colorbar)}},6919:function(i,s,a){"use strict";i.exports={moduleType:"component",name:"colorbar",attributes:a(5158),supplyDefaults:a(2097),draw:a(5881).draw,hasColorbar:a(1362)}},7163:function(i,s,a){"use strict";var o=a(5158),c=a(694).counter,l=a(2994),u=a(9017).scales,f=l(u);function h(p){return"`"+p+"`"}i.exports=function(m,d){m=m||"",d=d||{};var y=d.cLetter||"c",x="onlyIfNumerical"in d?d.onlyIfNumerical:!!m,w="noScale"in d?d.noScale:m==="marker.line",L="showScaleDflt"in d?d.showScaleDflt:y==="z",_=typeof d.colorscaleDflt=="string"?u[d.colorscaleDflt]:null,D=d.editTypeOverride||"",C=m?m+".":"",z,b;"colorAttr"in d?(z=d.colorAttr,b=d.colorAttr):(z={z:"z",c:"color"}[y],b="in "+h(C+z));var S=x?" Has an effect only if "+b+" is set to a numerical array.":"",M=y+"auto",I=y+"min",T=y+"max",B=y+"mid",H=h(C+M),Z=h(C+I),$=h(C+T),N=Z+" and "+$,j={};j[I]=j[T]=void 0;var O={};O[M]=!1;var X={};return z==="color"&&(X.color={valType:"color",arrayOk:!0,editType:D||"style"},d.anim&&(X.color.anim=!0)),X[M]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:j},X[I]={valType:"number",dflt:null,editType:D||"plot",impliedEdits:O},X[T]={valType:"number",dflt:null,editType:D||"plot",impliedEdits:O},X[B]={valType:"number",dflt:null,editType:"calc",impliedEdits:j},X.colorscale={valType:"colorscale",editType:"calc",dflt:_,impliedEdits:{autocolorscale:!1}},X.autocolorscale={valType:"boolean",dflt:d.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},X.reversescale={valType:"boolean",dflt:!1,editType:"plot"},w||(X.showscale={valType:"boolean",dflt:L,editType:"calc"},X.colorbar=o),d.noColorAxis||(X.coloraxis={valType:"subplotid",regex:c("coloraxis"),dflt:null,editType:"calc"}),X}},8379:function(i,s,a){"use strict";var o=a(721),c=a(4809),l=a(5477).extractOpts;i.exports=function(f,h,p){var m=f._fullLayout,d=p.vals,y=p.containerStr,x=y?c.nestedProperty(h,y).get():h,w=l(x),L=w.auto!==!1,_=w.min,D=w.max,C=w.mid,z=function(){return c.aggNums(Math.min,null,d)},b=function(){return c.aggNums(Math.max,null,d)};if(_===void 0?_=z():L&&(x._colorAx&&o(_)?_=Math.min(_,z()):_=z()),D===void 0?D=b():L&&(x._colorAx&&o(D)?D=Math.max(D,b()):D=b()),L&&C!==void 0&&(D-C>C-_?_=C-(D-C):D-C<C-_&&(D=C+(C-_))),_===D&&(_-=.5,D+=.5),w._sync("min",_),w._sync("max",D),w.autocolorscale){var S;_*D<0?S=m.colorscale.diverging:_>=0?S=m.colorscale.sequential:S=m.colorscale.sequentialminus,w._sync("colorscale",S)}}},7623:function(i,s,a){"use strict";var o=a(4809),c=a(5477).hasColorscale,l=a(5477).extractOpts;i.exports=function(f,h){function p(_,D){var C=_["_"+D];C!==void 0&&(_[D]=C)}function m(_,D){var C=D.container?o.nestedProperty(_,D.container).get():_;if(C)if(C.coloraxis)C._colorAx=h[C.coloraxis];else{var z=l(C),b=z.auto;(b||z.min===void 0)&&p(C,D.min),(b||z.max===void 0)&&p(C,D.max),z.autocolorscale&&p(C,"colorscale")}}for(var d=0;d<f.length;d++){var y=f[d],x=y._module.colorbar;if(x)if(Array.isArray(x))for(var w=0;w<x.length;w++)m(y,x[w]);else m(y,x);c(y,"marker.line")&&m(y,{container:"marker.line",min:"cmin",max:"cmax"})}for(var L in h._colorAxes)m(h[L],{min:"cmin",max:"cmax"})}},9356:function(i,s,a){"use strict";var o=a(721),c=a(4809),l=a(1362),u=a(2097),f=a(9017).isValid,h=a(3626).traceIs;function p(m,d){var y=d.slice(0,d.length-1);return d?c.nestedProperty(m,y).get()||{}:m}i.exports=function m(d,y,x,w,L){var _=L.prefix,D=L.cLetter,C="_module"in y,z=p(d,_),b=p(y,_),S=p(y._template||{},_)||{},M=function(){return delete d.coloraxis,delete y.coloraxis,m(d,y,x,w,L)};if(C){var I=x._colorAxes||{},T=w(_+"coloraxis");if(T){var B=h(y,"contour")&&c.nestedProperty(y,"contours.coloring").get()||"heatmap",H=I[T];H?(H[2].push(M),H[0]!==B&&(H[0]=!1,c.warn(["Ignoring coloraxis:",T,"setting","as it is linked to incompatible colorscales."].join(" ")))):I[T]=[B,y,[M]];return}}var Z=z[D+"min"],$=z[D+"max"],N=o(Z)&&o($)&&Z<$,j=w(_+D+"auto",!N);j?w(_+D+"mid"):(w(_+D+"min"),w(_+D+"max"));var O=z.colorscale,X=S.colorscale,ie;if(O!==void 0&&(ie=!f(O)),X!==void 0&&(ie=!f(X)),w(_+"autocolorscale",ie),w(_+"colorscale"),w(_+"reversescale"),_!=="marker.line."){var oe;_&&C&&(oe=l(z));var V=w(_+"showscale",oe);V&&(_&&S&&(b._template=S),u(z,b,x))}}},5477:function(i,s,a){"use strict";var o=a(5568),c=a(5657),l=a(721),u=a(4809),f=a(8766),h=a(9017).isValid;function p(C,z,b){var S=z?u.nestedProperty(C,z).get()||{}:C,M=S[b||"color"];M&&M._inputArray&&(M=M._inputArray);var I=!1;if(u.isArrayOrTypedArray(M)){for(var T=0;T<M.length;T++)if(l(M[T])){I=!0;break}}return u.isPlainObject(S)&&(I||S.showscale===!0||l(S.cmin)&&l(S.cmax)||h(S.colorscale)||u.isPlainObject(S.colorbar))}var m=["showscale","autocolorscale","colorscale","reversescale","colorbar"],d=["min","max","mid","auto"];function y(C){var z=C._colorAx,b=z||C,S={},M,I,T;for(I=0;I<m.length;I++)T=m[I],S[T]=b[T];if(z)for(M="c",I=0;I<d.length;I++)T=d[I],S[T]=b["c"+T];else{var B;for(I=0;I<d.length;I++){if(T=d[I],B="c"+T,B in b){S[T]=b[B];continue}B="z"+T,B in b&&(S[T]=b[B])}M=B.charAt(0)}return S._sync=function(H,Z){var $=d.indexOf(H)!==-1?M+H:H;b[$]=b["_"+$]=Z},S}function x(C){for(var z=y(C),b=z.min,S=z.max,M=z.reversescale?w(z.colorscale):z.colorscale,I=M.length,T=new Array(I),B=new Array(I),H=0;H<I;H++){var Z=M[H];T[H]=b+Z[0]*(S-b),B[H]=Z[1]}return{domain:T,range:B}}function w(C){for(var z=C.length,b=new Array(z),S=z-1,M=0;S>=0;S--,M++){var I=C[S];b[M]=[1-I[0],I[1]]}return b}function L(C,z){z=z||{};for(var b=C.domain,S=C.range,M=S.length,I=new Array(M),T=0;T<M;T++){var B=c(S[T]).toRgb();I[T]=[B.r,B.g,B.b,B.a]}var H=o.scale.linear().domain(b).range(I).clamp(!0),Z=z.noNumericCheck,$=z.returnArray,N;return Z&&$?N=H:Z?N=function(j){return D(H(j))}:$?N=function(j){return l(j)?H(j):c(j).isValid()?j:f.defaultLine}:N=function(j){return l(j)?D(H(j)):c(j).isValid()?j:f.defaultLine},N.domain=H.domain,N.range=function(){return S},N}function _(C,z){return L(x(C),z)}function D(C){var z={r:C[0],g:C[1],b:C[2],a:C[3]};return c(z).toRgbString()}i.exports={hasColorscale:p,extractOpts:y,extractScale:x,flipScale:w,makeColorScaleFunc:L,makeColorScaleFuncFromTrace:_}},8856:function(i,s,a){"use strict";var o=a(9017),c=a(5477);i.exports={moduleType:"component",name:"colorscale",attributes:a(7163),layoutAttributes:a(6978),supplyLayoutDefaults:a(4613),handleDefaults:a(9356),crossTraceDefaults:a(7623),calc:a(8379),scales:o.scales,defaultScale:o.defaultScale,getScale:o.get,isValidScale:o.isValid,hasColorscale:c.hasColorscale,extractOpts:c.extractOpts,extractScale:c.extractScale,flipScale:c.flipScale,makeColorScaleFunc:c.makeColorScaleFunc,makeColorScaleFuncFromTrace:c.makeColorScaleFuncFromTrace}},6978:function(i,s,a){"use strict";var o=a(3049).extendFlat,c=a(7163),l=a(9017).scales,u="Note that `autocolorscale` must be true for this attribute to work.";i.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:l.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:l.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:l.RdBu,editType:"calc"}},coloraxis:o({_isSubplotObj:!0,editType:"calc"},c("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},4613:function(i,s,a){"use strict";var o=a(4809),c=a(8032),l=a(6978),u=a(9356);i.exports=function(h,p){function m(C,z){return o.coerce(h,p,l,C,z)}m("colorscale.sequential"),m("colorscale.sequentialminus"),m("colorscale.diverging");var d=p._colorAxes,y,x;function w(C,z){return o.coerce(y,x,l.coloraxis,C,z)}for(var L in d){var _=d[L];if(_[0])y=h[L]||{},x=c.newContainer(p,L,"coloraxis"),x._name=L,u(y,x,p,w,{prefix:"",cLetter:"c"});else{for(var D=0;D<_[2].length;D++)_[2][D]();delete p._colorAxes[L]}}}},9017:function(i,s,a){"use strict";var o=a(5657),c={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},l=c.RdBu;function u(p,m){if(m||(m=l),!p)return m;function d(){try{p=c[p]||JSON.parse(p)}catch{p=m}}return typeof p=="string"&&(d(),typeof p=="string"&&d()),f(p)?p:m}function f(p){var m=0;if(!Array.isArray(p)||p.length<2||!p[0]||!p[p.length-1]||+p[0][0]!=0||+p[p.length-1][0]!=1)return!1;for(var d=0;d<p.length;d++){var y=p[d];if(y.length!==2||+y[0]<m||!o(y[1]).isValid())return!1;m=+y[0]}return!0}function h(p){return c[p]!==void 0?!0:f(p)}i.exports={scales:c,defaultScale:l,get:u,isValid:h}},3770:function(i){"use strict";i.exports=function(a,o,c,l,u){var f=(a-c)/(l-c),h=f+o/(l-c),p=(f+h)/2;return u==="left"||u==="bottom"?f:u==="center"||u==="middle"?p:u==="right"||u==="top"?h:f<.6666666666666666-p?f:h>1.3333333333333333-p?h:p}},4001:function(i,s,a){"use strict";var o=a(4809),c=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];i.exports=function(u,f,h,p){return h==="left"?u=0:h==="center"?u=1:h==="right"?u=2:u=o.constrain(Math.floor(u*3),0,2),p==="bottom"?f=0:p==="middle"?f=1:p==="top"?f=2:f=o.constrain(Math.floor(f*3),0,2),c[f][u]}},414:function(i,s){"use strict";s.selectMode=function(a){return a==="lasso"||a==="select"},s.drawMode=function(a){return a==="drawclosedpath"||a==="drawopenpath"||a==="drawline"||a==="drawrect"||a==="drawcircle"},s.openMode=function(a){return a==="drawline"||a==="drawopenpath"},s.rectMode=function(a){return a==="select"||a==="drawline"||a==="drawrect"||a==="drawcircle"},s.freeMode=function(a){return a==="lasso"||a==="drawclosedpath"||a==="drawopenpath"},s.selectingOrDrawing=function(a){return s.freeMode(a)||s.rectMode(a)}},4751:function(i,s,a){"use strict";var o=a(4039),c=a(9784),l=a(4043),u=a(4809).removeElement,f=a(4826),h=i.exports={};h.align=a(3770),h.getCursor=a(4001);var p=a(148);h.unhover=p.wrapped,h.unhoverRaw=p.raw,h.init=function(x){var w=x.gd,L=1,_=w._context.doubleClickDelay,D=x.element,C,z,b,S,M,I,T,B;w._mouseDownTime||(w._mouseDownTime=0),D.style.pointerEvents="all",D.onmousedown=$,l?(D._ontouchstart&&D.removeEventListener("touchstart",D._ontouchstart),D._ontouchstart=$,D.addEventListener("touchstart",$,{passive:!1})):D.ontouchstart=$;function H(O,X,ie){return Math.abs(O)<ie&&(O=0),Math.abs(X)<ie&&(X=0),[O,X]}var Z=x.clampFn||H;function $(O){w._dragged=!1,w._dragging=!0;var X=d(O);C=X[0],z=X[1],T=O.target,I=O,B=O.buttons===2||O.ctrlKey,typeof O.clientX>"u"&&typeof O.clientY>"u"&&(O.clientX=C,O.clientY=z),b=new Date().getTime(),b-w._mouseDownTime<_?L+=1:(L=1,w._mouseDownTime=b),x.prepFn&&x.prepFn(O,C,z),c&&!B?(M=m(),M.style.cursor=window.getComputedStyle(D).cursor):c||(M=document,S=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(D).cursor),document.addEventListener("mouseup",j),document.addEventListener("touchend",j),x.dragmode!==!1&&(O.preventDefault(),document.addEventListener("mousemove",N),document.addEventListener("touchmove",N,{passive:!1}))}function N(O){O.preventDefault();var X=d(O),ie=x.minDrag||f.MINDRAG,oe=Z(X[0]-C,X[1]-z,ie),V=oe[0],W=oe[1];(V||W)&&(w._dragged=!0,h.unhover(w,O)),w._dragged&&x.moveFn&&!B&&(w._dragdata={element:D,dx:V,dy:W},x.moveFn(V,W))}function j(O){if(delete w._dragdata,x.dragmode!==!1&&(O.preventDefault(),document.removeEventListener("mousemove",N),document.removeEventListener("touchmove",N)),document.removeEventListener("mouseup",j),document.removeEventListener("touchend",j),c?u(M):S&&(M.documentElement.style.cursor=S,S=null),!w._dragging){w._dragged=!1;return}if(w._dragging=!1,new Date().getTime()-w._mouseDownTime>_&&(L=Math.max(L-1,1)),w._dragged)x.doneFn&&x.doneFn();else if(x.clickFn&&x.clickFn(L,I),!B){var X;try{X=new MouseEvent("click",O)}catch{var ie=d(O);X=document.createEvent("MouseEvents"),X.initMouseEvent("click",O.bubbles,O.cancelable,O.view,O.detail,O.screenX,O.screenY,ie[0],ie[1],O.ctrlKey,O.altKey,O.shiftKey,O.metaKey,O.button,O.relatedTarget)}T.dispatchEvent(X)}w._dragging=!1,w._dragged=!1}};function m(){var y=document.createElement("div");y.className="dragcover";var x=y.style;return x.position="fixed",x.left=0,x.right=0,x.top=0,x.bottom=0,x.zIndex=999999999,x.background="none",document.body.appendChild(y),y}h.coverSlip=m;function d(y){return o(y.changedTouches?y.changedTouches[0]:y,document.body)}},148:function(i,s,a){"use strict";var o=a(8596),c=a(4025),l=a(5425).getGraphDiv,u=a(5988),f=i.exports={};f.wrapped=function(h,p,m){h=l(h),h._fullLayout&&c.clear(h._fullLayout._uid+u.HOVERID),f.raw(h,p,m)},f.raw=function(p,m){var d=p._fullLayout,y=p._hoverdata;m||(m={}),!(m.target&&!p._dragged&&o.triggerHandler(p,"plotly_beforehover",m)===!1)&&(d._hoverlayer.selectAll("g").remove(),d._hoverlayer.selectAll("line").remove(),d._hoverlayer.selectAll("circle").remove(),p._hoverdata=void 0,m.target&&y&&p.emit("plotly_unhover",{event:m,points:y}))}},4850:function(i,s){"use strict";s.T={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},s.k={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},2203:function(i,s,a){"use strict";var o=a(5568),c=a(4809),l=c.numberFormat,u=a(721),f=a(5657),h=a(3626),p=a(8766),m=a(8856),d=c.strTranslate,y=a(635),x=a(2972),w=a(4530),L=w.LINE_SPACING,_=a(438).DESELECTDIM,D=a(4726),C=a(2527),z=a(6040).appendArrayPointValue,b=i.exports={};b.font=function(Me,ke){var Le=ke.variant,He=ke.style,Ve=ke.weight,qe=ke.color,vt=ke.size,At=ke.family,Dt=ke.shadow,bt=ke.lineposition,xt=ke.textcase;At&&Me.style("font-family",At),vt+1&&Me.style("font-size",vt+"px"),qe&&Me.call(p.fill,qe),Ve&&Me.style("font-weight",Ve),He&&Me.style("font-style",He),Le&&Me.style("font-variant",Le),xt&&Me.style("text-transform",S(I(xt))),Dt&&Me.style("text-shadow",Dt==="auto"?y.makeTextShadow(p.contrast(qe)):S(Dt)),bt&&Me.style("text-decoration-line",S(T(bt)))};function S(Me){return Me==="none"?void 0:Me}var M={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function I(Me){return M[Me]}function T(Me){return Me.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}b.setPosition=function(Me,ke,Le){Me.attr("x",ke).attr("y",Le)},b.setSize=function(Me,ke,Le){Me.attr("width",ke).attr("height",Le)},b.setRect=function(Me,ke,Le,He,Ve){Me.call(b.setPosition,ke,Le).call(b.setSize,He,Ve)},b.translatePoint=function(Me,ke,Le,He){var Ve=Le.c2p(Me.x),qe=He.c2p(Me.y);if(u(Ve)&&u(qe)&&ke.node())ke.node().nodeName==="text"?ke.attr("x",Ve).attr("y",qe):ke.attr("transform",d(Ve,qe));else return!1;return!0},b.translatePoints=function(Me,ke,Le){Me.each(function(He){var Ve=o.select(this);b.translatePoint(He,Ve,ke,Le)})},b.hideOutsideRangePoint=function(Me,ke,Le,He,Ve,qe){ke.attr("display",Le.isPtWithinRange(Me,Ve)&&He.isPtWithinRange(Me,qe)?null:"none")},b.hideOutsideRangePoints=function(Me,ke){if(ke._hasClipOnAxisFalse){var Le=ke.xaxis,He=ke.yaxis;Me.each(function(Ve){var qe=Ve[0].trace,vt=qe.xcalendar,At=qe.ycalendar,Dt=h.traceIs(qe,"bar-like")?".bartext":".point,.textpoint";Me.selectAll(Dt).each(function(bt){b.hideOutsideRangePoint(bt,o.select(this),Le,He,vt,At)})})}},b.crispRound=function(Me,ke,Le){return!ke||!u(ke)?Le||0:Me._context.staticPlot?ke:ke<1?1:Math.round(ke)},b.singleLineStyle=function(Me,ke,Le,He,Ve){ke.style("fill","none");var qe=(((Me||[])[0]||{}).trace||{}).line||{},vt=Le||qe.width||0,At=Ve||qe.dash||"";p.stroke(ke,He||qe.color),b.dashLine(ke,At,vt)},b.lineGroupStyle=function(Me,ke,Le,He){Me.style("fill","none").each(function(Ve){var qe=(((Ve||[])[0]||{}).trace||{}).line||{},vt=ke||qe.width||0,At=He||qe.dash||"";o.select(this).call(p.stroke,Le||qe.color).call(b.dashLine,At,vt)})},b.dashLine=function(Me,ke,Le){Le=+Le||0,ke=b.dashStyle(ke,Le),Me.style({"stroke-dasharray":ke,"stroke-width":Le+"px"})},b.dashStyle=function(Me,ke){ke=+ke||1;var Le=Math.max(ke,3);return Me==="solid"?Me="":Me==="dot"?Me=Le+"px,"+Le+"px":Me==="dash"?Me=3*Le+"px,"+3*Le+"px":Me==="longdash"?Me=5*Le+"px,"+5*Le+"px":Me==="dashdot"?Me=3*Le+"px,"+Le+"px,"+Le+"px,"+Le+"px":Me==="longdashdot"&&(Me=5*Le+"px,"+2*Le+"px,"+Le+"px,"+2*Le+"px"),Me};function B(Me,ke,Le,He){var Ve=ke.fillpattern,qe=ke.fillgradient,vt=Ve&&b.getPatternAttr(Ve.shape,0,"");if(vt){var At=b.getPatternAttr(Ve.bgcolor,0,null),Dt=b.getPatternAttr(Ve.fgcolor,0,null),bt=Ve.fgopacity,xt=b.getPatternAttr(Ve.size,0,8),Et=b.getPatternAttr(Ve.solidity,0,.3),pt=ke.uid;b.pattern(Me,"point",Le,pt,vt,xt,Et,void 0,Ve.fillmode,At,Dt,bt)}else if(qe&&qe.type!=="none"){var Rt=qe.type,Wt="scatterfill-"+ke.uid;if(He&&(Wt="legendfill-"+ke.uid),!He&&(qe.start!==void 0||qe.stop!==void 0)){var Vt,Yt;Rt==="horizontal"?(Vt={x:qe.start,y:0},Yt={x:qe.stop,y:0}):Rt==="vertical"&&(Vt={x:0,y:qe.start},Yt={x:0,y:qe.stop}),Vt.x=ke._xA.c2p(Vt.x===void 0?ke._extremes.x.min[0].val:Vt.x,!0),Vt.y=ke._yA.c2p(Vt.y===void 0?ke._extremes.y.min[0].val:Vt.y,!0),Yt.x=ke._xA.c2p(Yt.x===void 0?ke._extremes.x.max[0].val:Yt.x,!0),Yt.y=ke._yA.c2p(Yt.y===void 0?ke._extremes.y.max[0].val:Yt.y,!0),Me.call(X,Le,Wt,"linear",qe.colorscale,"fill",Vt,Yt,!0,!1)}else Rt==="horizontal"&&(Rt=Rt+"reversed"),Me.call(b.gradient,Le,Wt,Rt,qe.colorscale,"fill")}else ke.fillcolor&&Me.call(p.fill,ke.fillcolor)}b.singleFillStyle=function(Me,ke){var Le=o.select(Me.node()),He=Le.data(),Ve=((He[0]||[])[0]||{}).trace||{};B(Me,Ve,ke,!1)},b.fillGroupStyle=function(Me,ke,Le){Me.style("stroke-width",0).each(function(He){var Ve=o.select(this);He[0].trace&&B(Ve,He[0].trace,ke,Le)})};var H=a(8882);b.symbolNames=[],b.symbolFuncs=[],b.symbolBackOffs=[],b.symbolNeedLines={},b.symbolNoDot={},b.symbolNoFill={},b.symbolList=[],Object.keys(H).forEach(function(Me){var ke=H[Me],Le=ke.n;b.symbolList.push(Le,String(Le),Me,Le+100,String(Le+100),Me+"-open"),b.symbolNames[Le]=Me,b.symbolFuncs[Le]=ke.f,b.symbolBackOffs[Le]=ke.backoff||0,ke.needLine&&(b.symbolNeedLines[Le]=!0),ke.noDot?b.symbolNoDot[Le]=!0:b.symbolList.push(Le+200,String(Le+200),Me+"-dot",Le+300,String(Le+300),Me+"-open-dot"),ke.noFill&&(b.symbolNoFill[Le]=!0)});var Z=b.symbolNames.length,$="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";b.symbolNumber=function(Me){if(u(Me))Me=+Me;else if(typeof Me=="string"){var ke=0;Me.indexOf("-open")>0&&(ke=100,Me=Me.replace("-open","")),Me.indexOf("-dot")>0&&(ke+=200,Me=Me.replace("-dot","")),Me=b.symbolNames.indexOf(Me),Me>=0&&(Me+=ke)}return Me%100>=Z||Me>=400?0:Math.floor(Math.max(Me,0))};function N(Me,ke,Le,He){var Ve=Me%100;return b.symbolFuncs[Ve](ke,Le,He)+(Me>=200?$:"")}var j=l("~f"),O={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};b.gradient=function(Me,ke,Le,He,Ve,qe){var vt=O[He];return X(Me,ke,Le,vt.type,Ve,qe,vt.start,vt.stop,!1,vt.reversed)};function X(Me,ke,Le,He,Ve,qe,vt,At,Dt,bt){var xt=Ve.length,Et;He==="linear"?Et={node:"linearGradient",attrs:{x1:vt.x,y1:vt.y,x2:At.x,y2:At.y,gradientUnits:Dt?"userSpaceOnUse":"objectBoundingBox"},reversed:bt}:He==="radial"&&(Et={node:"radialGradient",reversed:bt});for(var pt=new Array(xt),Rt=0;Rt<xt;Rt++)Et.reversed?pt[xt-1-Rt]=[j((1-Ve[Rt][0])*100),Ve[Rt][1]]:pt[Rt]=[j(Ve[Rt][0]*100),Ve[Rt][1]];var Wt=ke._fullLayout,Vt="g"+Wt._uid+"-"+Le,Yt=Wt._defs.select(".gradients").selectAll("#"+Vt).data([He+pt.join(";")],c.identity);Yt.exit().remove(),Yt.enter().append(Et.node).each(function(){var et=o.select(this);Et.attrs&&et.attr(Et.attrs),et.attr("id",Vt);var ct=et.selectAll("stop").data(pt);ct.exit().remove(),ct.enter().append("stop"),ct.each(function(gt){var _e=f(gt[1]);o.select(this).attr({offset:gt[0]+"%","stop-color":p.tinyRGB(_e),"stop-opacity":_e.getAlpha()})})}),Me.style(qe,U(Vt,ke)).style(qe+"-opacity",null),Me.classed("gradient_filled",!0)}b.pattern=function(Me,ke,Le,He,Ve,qe,vt,At,Dt,bt,xt,Et){var pt=ke==="legend";At&&(Dt==="overlay"?(bt=At,xt=p.contrast(bt)):(bt=void 0,xt=At));var Rt=Le._fullLayout,Wt="p"+Rt._uid+"-"+He,Vt,Yt,et=function(Mt,ot,Xe,_t,Xt){return _t+(Xt-_t)*(Mt-ot)/(Xe-ot)},ct,gt,_e,Be,ve={},ge=f(xt),Re=p.tinyRGB(ge),Fe=ge.getAlpha(),Ue=Et*Fe;switch(Ve){case"/":Vt=qe*Math.sqrt(2),Yt=qe*Math.sqrt(2),ct="M-"+Vt/4+","+Yt/4+"l"+Vt/2+",-"+Yt/2+"M0,"+Yt+"L"+Vt+",0M"+Vt/4*3+","+Yt/4*5+"l"+Vt/2+",-"+Yt/2,gt=vt*qe,Be="path",ve={d:ct,opacity:Ue,stroke:Re,"stroke-width":gt+"px"};break;case"\\":Vt=qe*Math.sqrt(2),Yt=qe*Math.sqrt(2),ct="M"+Vt/4*3+",-"+Yt/4+"l"+Vt/2+","+Yt/2+"M0,0L"+Vt+","+Yt+"M-"+Vt/4+","+Yt/4*3+"l"+Vt/2+","+Yt/2,gt=vt*qe,Be="path",ve={d:ct,opacity:Ue,stroke:Re,"stroke-width":gt+"px"};break;case"x":Vt=qe*Math.sqrt(2),Yt=qe*Math.sqrt(2),ct="M-"+Vt/4+","+Yt/4+"l"+Vt/2+",-"+Yt/2+"M0,"+Yt+"L"+Vt+",0M"+Vt/4*3+","+Yt/4*5+"l"+Vt/2+",-"+Yt/2+"M"+Vt/4*3+",-"+Yt/4+"l"+Vt/2+","+Yt/2+"M0,0L"+Vt+","+Yt+"M-"+Vt/4+","+Yt/4*3+"l"+Vt/2+","+Yt/2,gt=qe-qe*Math.sqrt(1-vt),Be="path",ve={d:ct,opacity:Ue,stroke:Re,"stroke-width":gt+"px"};break;case"|":Vt=qe,Yt=qe,Be="path",ct="M"+Vt/2+",0L"+Vt/2+","+Yt,gt=vt*qe,Be="path",ve={d:ct,opacity:Ue,stroke:Re,"stroke-width":gt+"px"};break;case"-":Vt=qe,Yt=qe,Be="path",ct="M0,"+Yt/2+"L"+Vt+","+Yt/2,gt=vt*qe,Be="path",ve={d:ct,opacity:Ue,stroke:Re,"stroke-width":gt+"px"};break;case"+":Vt=qe,Yt=qe,Be="path",ct="M"+Vt/2+",0L"+Vt/2+","+Yt+"M0,"+Yt/2+"L"+Vt+","+Yt/2,gt=qe-qe*Math.sqrt(1-vt),Be="path",ve={d:ct,opacity:Ue,stroke:Re,"stroke-width":gt+"px"};break;case".":Vt=qe,Yt=qe,vt<Math.PI/4?_e=Math.sqrt(vt*qe*qe/Math.PI):_e=et(vt,Math.PI/4,1,qe/2,qe/Math.sqrt(2)),Be="circle",ve={cx:Vt/2,cy:Yt/2,r:_e,opacity:Ue,fill:Re};break}var We=[Ve||"noSh",bt||"noBg",xt||"noFg",qe,vt].join(";"),St=Rt._defs.select(".patterns").selectAll("#"+Wt).data([We],c.identity);St.exit().remove(),St.enter().append("pattern").each(function(){var Mt=o.select(this);if(Mt.attr({id:Wt,width:Vt+"px",height:Yt+"px",patternUnits:"userSpaceOnUse",patternTransform:pt?"scale(0.8)":""}),bt){var ot=f(bt),Xe=p.tinyRGB(ot),_t=ot.getAlpha(),Xt=Mt.selectAll("rect").data([0]);Xt.exit().remove(),Xt.enter().append("rect").attr({width:Vt+"px",height:Yt+"px",fill:Xe,"fill-opacity":_t})}var sn=Mt.selectAll(Be).data([0]);sn.exit().remove(),sn.enter().append(Be).attr(ve)}),Me.style("fill",U(Wt,Le)).style("fill-opacity",null),Me.classed("pattern_filled",!0)},b.initGradients=function(Me){var ke=Me._fullLayout,Le=c.ensureSingle(ke._defs,"g","gradients");Le.selectAll("linearGradient,radialGradient").remove(),o.select(Me).selectAll(".gradient_filled").classed("gradient_filled",!1)},b.initPatterns=function(Me){var ke=Me._fullLayout,Le=c.ensureSingle(ke._defs,"g","patterns");Le.selectAll("pattern").remove(),o.select(Me).selectAll(".pattern_filled").classed("pattern_filled",!1)},b.getPatternAttr=function(Me,ke,Le){return Me&&c.isArrayOrTypedArray(Me)?ke<Me.length?Me[ke]:Le:Me},b.pointStyle=function(Me,ke,Le,He){if(Me.size()){var Ve=b.makePointStyleFns(ke);Me.each(function(qe){b.singlePointStyle(qe,o.select(this),ke,Ve,Le,He)})}},b.singlePointStyle=function(Me,ke,Le,He,Ve,qe){var vt=Le.marker,At=vt.line;if(qe&&qe.i>=0&&Me.i===void 0&&(Me.i=qe.i),ke.style("opacity",He.selectedOpacityFn?He.selectedOpacityFn(Me):Me.mo===void 0?vt.opacity:Me.mo),He.ms2mrc){var Dt;Me.ms==="various"||vt.size==="various"?Dt=3:Dt=He.ms2mrc(Me.ms),Me.mrc=Dt,He.selectedSizeFn&&(Dt=Me.mrc=He.selectedSizeFn(Me));var bt=b.symbolNumber(Me.mx||vt.symbol)||0;Me.om=bt%200>=100;var xt=rt(Me,Le),Et=E(Me,Le);ke.attr("d",N(bt,Dt,xt,Et))}var pt=!1,Rt,Wt,Vt;if(Me.so)Vt=At.outlierwidth,Wt=At.outliercolor,Rt=vt.outliercolor;else{var Yt=(At||{}).width;Vt=(Me.mlw+1||Yt+1||(Me.trace?(Me.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in Me?Wt=Me.mlcc=He.lineScale(Me.mlc):c.isArrayOrTypedArray(At.color)?Wt=p.defaultLine:Wt=At.color,c.isArrayOrTypedArray(vt.color)&&(Rt=p.defaultLine,pt=!0),"mc"in Me?Rt=Me.mcc=He.markerScale(Me.mc):Rt=vt.color||vt.colors||"rgba(0,0,0,0)",He.selectedColorFn&&(Rt=He.selectedColorFn(Me))}if(Me.om)ke.call(p.stroke,Rt).style({"stroke-width":(Vt||1)+"px",fill:"none"});else{ke.style("stroke-width",(Me.isBlank?0:Vt)+"px");var et=vt.gradient,ct=Me.mgt;ct?pt=!0:ct=et&&et.type,c.isArrayOrTypedArray(ct)&&(ct=ct[0],O[ct]||(ct=0));var gt=vt.pattern,_e=gt&&b.getPatternAttr(gt.shape,Me.i,"");if(ct&&ct!=="none"){var Be=Me.mgc;Be?pt=!0:Be=et.color;var ve=Le.uid;pt&&(ve+="-"+Me.i),b.gradient(ke,Ve,ve,ct,[[0,Be],[1,Rt]],"fill")}else if(_e){var ge=!1,Re=gt.fgcolor;!Re&&qe&&qe.color&&(Re=qe.color,ge=!0);var Fe=b.getPatternAttr(Re,Me.i,qe&&qe.color||null),Ue=b.getPatternAttr(gt.bgcolor,Me.i,null),We=gt.fgopacity,St=b.getPatternAttr(gt.size,Me.i,8),Mt=b.getPatternAttr(gt.solidity,Me.i,.3);ge=ge||Me.mcc||c.isArrayOrTypedArray(gt.shape)||c.isArrayOrTypedArray(gt.bgcolor)||c.isArrayOrTypedArray(gt.fgcolor)||c.isArrayOrTypedArray(gt.size)||c.isArrayOrTypedArray(gt.solidity);var ot=Le.uid;ge&&(ot+="-"+Me.i),b.pattern(ke,"point",Ve,ot,_e,St,Mt,Me.mcc,gt.fillmode,Ue,Fe,We)}else c.isArrayOrTypedArray(Rt)?p.fill(ke,Rt[Me.i]):p.fill(ke,Rt);Vt&&p.stroke(ke,Wt)}},b.makePointStyleFns=function(Me){var ke={},Le=Me.marker;return ke.markerScale=b.tryColorscale(Le,""),ke.lineScale=b.tryColorscale(Le,"line"),h.traceIs(Me,"symbols")&&(ke.ms2mrc=D.isBubble(Me)?C(Me):function(){return(Le.size||6)/2}),Me.selectedpoints&&c.extendFlat(ke,b.makeSelectedPointStyleFns(Me)),ke},b.makeSelectedPointStyleFns=function(Me){var ke={},Le=Me.selected||{},He=Me.unselected||{},Ve=Me.marker||{},qe=Le.marker||{},vt=He.marker||{},At=Ve.opacity,Dt=qe.opacity,bt=vt.opacity,xt=Dt!==void 0,Et=bt!==void 0;(c.isArrayOrTypedArray(At)||xt||Et)&&(ke.selectedOpacityFn=function(_e){var Be=_e.mo===void 0?Ve.opacity:_e.mo;return _e.selected?xt?Dt:Be:Et?bt:_*Be});var pt=Ve.color,Rt=qe.color,Wt=vt.color;(Rt||Wt)&&(ke.selectedColorFn=function(_e){var Be=_e.mcc||pt;return _e.selected?Rt||Be:Wt||Be});var Vt=Ve.size,Yt=qe.size,et=vt.size,ct=Yt!==void 0,gt=et!==void 0;return h.traceIs(Me,"symbols")&&(ct||gt)&&(ke.selectedSizeFn=function(_e){var Be=_e.mrc||Vt/2;return _e.selected?ct?Yt/2:Be:gt?et/2:Be}),ke},b.makeSelectedTextStyleFns=function(Me){var ke={},Le=Me.selected||{},He=Me.unselected||{},Ve=Me.textfont||{},qe=Le.textfont||{},vt=He.textfont||{},At=Ve.color,Dt=qe.color,bt=vt.color;return ke.selectedTextColorFn=function(xt){var Et=xt.tc||At;return xt.selected?Dt||Et:bt||(Dt?Et:p.addOpacity(Et,_))},ke},b.selectedPointStyle=function(Me,ke){if(!(!Me.size()||!ke.selectedpoints)){var Le=b.makeSelectedPointStyleFns(ke),He=ke.marker||{},Ve=[];Le.selectedOpacityFn&&Ve.push(function(qe,vt){qe.style("opacity",Le.selectedOpacityFn(vt))}),Le.selectedColorFn&&Ve.push(function(qe,vt){p.fill(qe,Le.selectedColorFn(vt))}),Le.selectedSizeFn&&Ve.push(function(qe,vt){var At=vt.mx||He.symbol||0,Dt=Le.selectedSizeFn(vt);qe.attr("d",N(b.symbolNumber(At),Dt,rt(vt,ke),E(vt,ke))),vt.mrc2=Dt}),Ve.length&&Me.each(function(qe){for(var vt=o.select(this),At=0;At<Ve.length;At++)Ve[At](vt,qe)})}},b.tryColorscale=function(Me,ke){var Le=ke?c.nestedProperty(Me,ke).get():Me;if(Le){var He=Le.color;if((Le.colorscale||Le._colorAx)&&c.isArrayOrTypedArray(He))return m.makeColorScaleFuncFromTrace(Le)}return c.identity};var ie={start:1,end:-1,middle:0,bottom:1,top:-1};function oe(Me,ke,Le,He,Ve){var qe=o.select(Me.node().parentNode),vt=ke.indexOf("top")!==-1?"top":ke.indexOf("bottom")!==-1?"bottom":"middle",At=ke.indexOf("left")!==-1?"end":ke.indexOf("right")!==-1?"start":"middle",Dt=He?He/.8+1:0,bt=(y.lineCount(Me)-1)*L+1,xt=ie[At]*Dt,Et=Le*.75+ie[vt]*Dt+(ie[vt]-1)*bt*Le/2;Me.attr("text-anchor",At),Ve||qe.attr("transform",d(xt,Et))}function V(Me,ke){var Le=Me.ts||ke.textfont.size;return u(Le)&&Le>0?Le:0}b.textPointStyle=function(Me,ke,Le){if(Me.size()){var He;if(ke.selectedpoints){var Ve=b.makeSelectedTextStyleFns(ke);He=Ve.selectedTextColorFn}var qe=ke.texttemplate,vt=Le._fullLayout;Me.each(function(At){var Dt=o.select(this),bt=qe?c.extractOption(At,ke,"txt","texttemplate"):c.extractOption(At,ke,"tx","text");if(!bt&&bt!==0){Dt.remove();return}if(qe){var xt=ke._module.formatLabels,Et=xt?xt(At,ke,vt):{},pt={};z(pt,ke,At.i);var Rt=ke._meta||{};bt=c.texttemplateString(bt,Et,vt._d3locale,pt,At,Rt)}var Wt=At.tp||ke.textposition,Vt=V(At,ke),Yt=He?He(At):At.tc||ke.textfont.color;Dt.call(b.font,{family:At.tf||ke.textfont.family,weight:At.tw||ke.textfont.weight,style:At.ty||ke.textfont.style,variant:At.tv||ke.textfont.variant,textcase:At.tC||ke.textfont.textcase,lineposition:At.tE||ke.textfont.lineposition,shadow:At.tS||ke.textfont.shadow,size:Vt,color:Yt}).text(bt).call(y.convertToTspans,Le).call(oe,Wt,Vt,At.mrc)})}},b.selectedTextStyle=function(Me,ke){if(!(!Me.size()||!ke.selectedpoints)){var Le=b.makeSelectedTextStyleFns(ke);Me.each(function(He){var Ve=o.select(this),qe=Le.selectedTextColorFn(He),vt=He.tp||ke.textposition,At=V(He,ke);p.fill(Ve,qe);var Dt=h.traceIs(ke,"bar-like");oe(Ve,vt,At,He.mrc2||He.mrc,Dt)})}};var W=.5;b.smoothopen=function(Me,ke){if(Me.length<3)return"M"+Me.join("L");var Le="M"+Me[0],He=[],Ve;for(Ve=1;Ve<Me.length-1;Ve++)He.push(be(Me[Ve-1],Me[Ve],Me[Ve+1],ke));for(Le+="Q"+He[0][0]+" "+Me[1],Ve=2;Ve<Me.length-1;Ve++)Le+="C"+He[Ve-2][1]+" "+He[Ve-1][0]+" "+Me[Ve];return Le+="Q"+He[Me.length-3][1]+" "+Me[Me.length-1],Le},b.smoothclosed=function(Me,ke){if(Me.length<3)return"M"+Me.join("L")+"Z";var Le="M"+Me[0],He=Me.length-1,Ve=[be(Me[He],Me[0],Me[1],ke)],qe;for(qe=1;qe<He;qe++)Ve.push(be(Me[qe-1],Me[qe],Me[qe+1],ke));for(Ve.push(be(Me[He-1],Me[He],Me[0],ke)),qe=1;qe<=He;qe++)Le+="C"+Ve[qe-1][1]+" "+Ve[qe][0]+" "+Me[qe];return Le+="C"+Ve[He][1]+" "+Ve[0][0]+" "+Me[0]+"Z",Le};var Y,Q;function re(Me,ke,Le){return Le&&(Me=Te(Me)),ke?le(Me[1]):te(Me[0])}function te(Me){var ke=o.round(Me,2);return Y=ke,ke}function le(Me){var ke=o.round(Me,2);return Q=ke,ke}function be(Me,ke,Le,He){var Ve=Me[0]-ke[0],qe=Me[1]-ke[1],vt=Le[0]-ke[0],At=Le[1]-ke[1],Dt=Math.pow(Ve*Ve+qe*qe,W/2),bt=Math.pow(vt*vt+At*At,W/2),xt=(bt*bt*Ve-Dt*Dt*vt)*He,Et=(bt*bt*qe-Dt*Dt*At)*He,pt=3*bt*(Dt+bt),Rt=3*Dt*(Dt+bt);return[[te(ke[0]+(pt&&xt/pt)),le(ke[1]+(pt&&Et/pt))],[te(ke[0]-(Rt&&xt/Rt)),le(ke[1]-(Rt&&Et/Rt))]]}var Se={hv:function(Me,ke,Le){return"H"+te(ke[0])+"V"+re(ke,1,Le)},vh:function(Me,ke,Le){return"V"+le(ke[1])+"H"+re(ke,0,Le)},hvh:function(Me,ke,Le){return"H"+te((Me[0]+ke[0])/2)+"V"+le(ke[1])+"H"+re(ke,0,Le)},vhv:function(Me,ke,Le){return"V"+le((Me[1]+ke[1])/2)+"H"+te(ke[0])+"V"+re(ke,1,Le)}},ze=function(Me,ke,Le){return"L"+re(ke,0,Le)+","+re(ke,1,Le)};b.steps=function(Me){var ke=Se[Me]||ze;return function(Le){for(var He="M"+te(Le[0][0])+","+le(Le[0][1]),Ve=Le.length,qe=1;qe<Ve;qe++)He+=ke(Le[qe-1],Le[qe],qe===Ve-1);return He}};function Te(Me,ke){var Le=Me.backoff,He=Me.trace,Ve=Me.d,qe=Me.i;if(Le&&He&&He.marker&&He.marker.angle%360===0&&He.line&&He.line.shape!=="spline"){var vt=c.isArrayOrTypedArray(Le),At=Me,Dt=ke?ke[0]:Y||0,bt=ke?ke[1]:Q||0,xt=At[0],Et=At[1],pt=xt-Dt,Rt=Et-bt,Wt=Math.atan2(Rt,pt),Vt=vt?Le[qe]:Le;if(Vt==="auto"){var Yt=At.i;He.type==="scatter"&&Yt--;var et=At.marker,ct=et.symbol;c.isArrayOrTypedArray(ct)&&(ct=ct[Yt]);var gt=et.size;c.isArrayOrTypedArray(gt)&&(gt=gt[Yt]),Vt=et?b.symbolBackOffs[b.symbolNumber(ct)]*gt:0,Vt+=b.getMarkerStandoff(Ve[Yt],He)||0}var _e=xt-Vt*Math.cos(Wt),Be=Et-Vt*Math.sin(Wt);(_e<=xt&&_e>=Dt||_e>=xt&&_e<=Dt)&&(Be<=Et&&Be>=bt||Be>=Et&&Be<=bt)&&(Me=[_e,Be])}return Me}b.applyBackoff=Te,b.makeTester=function(){var Me=c.ensureSingleById(o.select("body"),"svg","js-plotly-tester",function(Le){Le.attr(x.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),ke=c.ensureSingle(Me,"path","js-reference-point",function(Le){Le.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});b.tester=Me,b.testref=ke},b.savedBBoxes={};var ye=0,he=1e4;b.bBox=function(Me,ke,Le){Le||(Le=P(Me));var He;if(Le){if(He=b.savedBBoxes[Le],He)return c.extendFlat({},He)}else if(Me.childNodes.length===1){var Ve=Me.childNodes[0];if(Le=P(Ve),Le){var qe=+Ve.getAttribute("x")||0,vt=+Ve.getAttribute("y")||0,At=Ve.getAttribute("transform");if(!At){var Dt=b.bBox(Ve,!1,Le);return qe&&(Dt.left+=qe,Dt.right+=qe),vt&&(Dt.top+=vt,Dt.bottom+=vt),Dt}if(Le+="~"+qe+"~"+vt+"~"+At,He=b.savedBBoxes[Le],He)return c.extendFlat({},He)}}var bt,xt;ke?bt=Me:(xt=b.tester.node(),bt=Me.cloneNode(!0),xt.appendChild(bt)),o.select(bt).attr("transform",null).call(y.positionText,0,0);var Et=bt.getBoundingClientRect(),pt=b.testref.node().getBoundingClientRect();ke||xt.removeChild(bt);var Rt={height:Et.height,width:Et.width,left:Et.left-pt.left,top:Et.top-pt.top,right:Et.right-pt.left,bottom:Et.bottom-pt.top};return ye>=he&&(b.savedBBoxes={},ye=0),Le&&(b.savedBBoxes[Le]=Rt),ye++,c.extendFlat({},Rt)};function P(Me){var ke=Me.getAttribute("data-unformatted");if(ke!==null)return ke+Me.getAttribute("data-math")+Me.getAttribute("text-anchor")+Me.getAttribute("style")}b.setClipUrl=function(Me,ke,Le){Me.attr("clip-path",U(ke,Le))};function U(Me,ke){if(!Me)return null;var Le=ke._context,He=Le._exportedPlot?"":Le._baseUrl||"";return He?"url('"+He+"#"+Me+"')":"url(#"+Me+")"}b.getTranslate=function(Me){var ke=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,Le=Me.attr?"attr":"getAttribute",He=Me[Le]("transform")||"",Ve=He.replace(ke,function(qe,vt,At){return[vt,At].join(" ")}).split(" ");return{x:+Ve[0]||0,y:+Ve[1]||0}},b.setTranslate=function(Me,ke,Le){var He=/(\btranslate\(.*?\);?)/,Ve=Me.attr?"attr":"getAttribute",qe=Me.attr?"attr":"setAttribute",vt=Me[Ve]("transform")||"";return ke=ke||0,Le=Le||0,vt=vt.replace(He,"").trim(),vt+=d(ke,Le),vt=vt.trim(),Me[qe]("transform",vt),vt},b.getScale=function(Me){var ke=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,Le=Me.attr?"attr":"getAttribute",He=Me[Le]("transform")||"",Ve=He.replace(ke,function(qe,vt,At){return[vt,At].join(" ")}).split(" ");return{x:+Ve[0]||1,y:+Ve[1]||1}},b.setScale=function(Me,ke,Le){var He=/(\bscale\(.*?\);?)/,Ve=Me.attr?"attr":"getAttribute",qe=Me.attr?"attr":"setAttribute",vt=Me[Ve]("transform")||"";return ke=ke||1,Le=Le||1,vt=vt.replace(He,"").trim(),vt+="scale("+ke+","+Le+")",vt=vt.trim(),Me[qe]("transform",vt),vt};var ee=/\s*sc.*/;b.setPointGroupScale=function(Me,ke,Le){if(ke=ke||1,Le=Le||1,!!Me){var He=ke===1&&Le===1?"":"scale("+ke+","+Le+")";Me.each(function(){var Ve=(this.getAttribute("transform")||"").replace(ee,"");Ve+=He,Ve=Ve.trim(),this.setAttribute("transform",Ve)})}};var G=/translate\([^)]*\)\s*$/;b.setTextPointsScale=function(Me,ke,Le){Me&&Me.each(function(){var He,Ve=o.select(this),qe=Ve.select("text");if(qe.node()){var vt=parseFloat(qe.attr("x")||0),At=parseFloat(qe.attr("y")||0),Dt=(Ve.attr("transform")||"").match(G);ke===1&&Le===1?He=[]:He=[d(vt,At),"scale("+ke+","+Le+")",d(-vt,-At)],Dt&&He.push(Dt),Ve.attr("transform",He.join(""))}})};function E(Me,ke){var Le;return Me&&(Le=Me.mf),Le===void 0&&(Le=ke.marker&&ke.marker.standoff||0),!ke._geo&&!ke._xA?-Le:Le}b.getMarkerStandoff=E;var K=Math.atan2,R=Math.cos,ne=Math.sin;function pe(Me,ke){var Le=ke[0],He=ke[1];return[Le*R(Me)-He*ne(Me),Le*ne(Me)+He*R(Me)]}var xe,we,Ee,Oe,Ke,Je;function rt(Me,ke){var Le=Me.ma;Le===void 0&&(Le=ke.marker.angle,(!Le||c.isArrayOrTypedArray(Le))&&(Le=0));var He,Ve,qe=ke.marker.angleref;if(qe==="previous"||qe==="north"){if(ke._geo){var vt=ke._geo.project(Me.lonlat);He=vt[0],Ve=vt[1]}else{var At=ke._xA,Dt=ke._yA;if(At&&Dt)He=At.c2p(Me.x),Ve=Dt.c2p(Me.y);else return 90}if(ke._geo){var bt=Me.lonlat[0],xt=Me.lonlat[1],Et=ke._geo.project([bt,xt+1e-5]),pt=ke._geo.project([bt+1e-5,xt]),Rt=K(pt[1]-Ve,pt[0]-He),Wt=K(Et[1]-Ve,Et[0]-He),Vt;if(qe==="north")Vt=Le/180*Math.PI;else if(qe==="previous"){var Yt=bt/180*Math.PI,et=xt/180*Math.PI,ct=xe/180*Math.PI,gt=we/180*Math.PI,_e=ct-Yt,Be=R(gt)*ne(_e),ve=ne(gt)*R(et)-R(gt)*ne(et)*R(_e);Vt=-K(Be,ve)-Math.PI,xe=bt,we=xt}var ge=pe(Rt,[R(Vt),0]),Re=pe(Wt,[ne(Vt),0]);Le=K(ge[1]+Re[1],ge[0]+Re[0])/Math.PI*180,qe==="previous"&&!(Je===ke.uid&&Me.i===Ke+1)&&(Le=null)}if(qe==="previous"&&!ke._geo)if(Je===ke.uid&&Me.i===Ke+1&&u(He)&&u(Ve)){var Fe=He-Ee,Ue=Ve-Oe,We=ke.line&&ke.line.shape||"",St=We.slice(We.length-1);St==="h"&&(Ue=0),St==="v"&&(Fe=0),Le+=K(Ue,Fe)/Math.PI*180+90}else Le=null}return Ee=He,Oe=Ve,Ke=Me.i,Je=ke.uid,Le}b.getMarkerAngle=rt},8882:function(i,s,a){"use strict";var o=a(6953),c=a(5568).round,l="M0,0Z",u=Math.sqrt(2),f=Math.sqrt(3),h=Math.PI,p=Math.cos,m=Math.sin;i.exports={circle:{n:0,f:function(D,C,z){if(d(C))return l;var b=c(D,2),S="M"+b+",0A"+b+","+b+" 0 1,1 0,-"+b+"A"+b+","+b+" 0 0,1 "+b+",0Z";return z?_(C,z,S):S}},square:{n:1,f:function(D,C,z){if(d(C))return l;var b=c(D,2);return _(C,z,"M"+b+","+b+"H-"+b+"V-"+b+"H"+b+"Z")}},diamond:{n:2,f:function(D,C,z){if(d(C))return l;var b=c(D*1.3,2);return _(C,z,"M"+b+",0L0,"+b+"L-"+b+",0L0,-"+b+"Z")}},cross:{n:3,f:function(D,C,z){if(d(C))return l;var b=c(D*.4,2),S=c(D*1.2,2);return _(C,z,"M"+S+","+b+"H"+b+"V"+S+"H-"+b+"V"+b+"H-"+S+"V-"+b+"H-"+b+"V-"+S+"H"+b+"V-"+b+"H"+S+"Z")}},x:{n:4,f:function(D,C,z){if(d(C))return l;var b=c(D*.8/u,2),S="l"+b+","+b,M="l"+b+",-"+b,I="l-"+b+",-"+b,T="l-"+b+","+b;return _(C,z,"M0,"+b+S+M+I+M+I+T+I+T+S+T+S+"Z")}},"triangle-up":{n:5,f:function(D,C,z){if(d(C))return l;var b=c(D*2/f,2),S=c(D/2,2),M=c(D,2);return _(C,z,"M-"+b+","+S+"H"+b+"L0,-"+M+"Z")}},"triangle-down":{n:6,f:function(D,C,z){if(d(C))return l;var b=c(D*2/f,2),S=c(D/2,2),M=c(D,2);return _(C,z,"M-"+b+",-"+S+"H"+b+"L0,"+M+"Z")}},"triangle-left":{n:7,f:function(D,C,z){if(d(C))return l;var b=c(D*2/f,2),S=c(D/2,2),M=c(D,2);return _(C,z,"M"+S+",-"+b+"V"+b+"L-"+M+",0Z")}},"triangle-right":{n:8,f:function(D,C,z){if(d(C))return l;var b=c(D*2/f,2),S=c(D/2,2),M=c(D,2);return _(C,z,"M-"+S+",-"+b+"V"+b+"L"+M+",0Z")}},"triangle-ne":{n:9,f:function(D,C,z){if(d(C))return l;var b=c(D*.6,2),S=c(D*1.2,2);return _(C,z,"M-"+S+",-"+b+"H"+b+"V"+S+"Z")}},"triangle-se":{n:10,f:function(D,C,z){if(d(C))return l;var b=c(D*.6,2),S=c(D*1.2,2);return _(C,z,"M"+b+",-"+S+"V"+b+"H-"+S+"Z")}},"triangle-sw":{n:11,f:function(D,C,z){if(d(C))return l;var b=c(D*.6,2),S=c(D*1.2,2);return _(C,z,"M"+S+","+b+"H-"+b+"V-"+S+"Z")}},"triangle-nw":{n:12,f:function(D,C,z){if(d(C))return l;var b=c(D*.6,2),S=c(D*1.2,2);return _(C,z,"M-"+b+","+S+"V-"+b+"H"+S+"Z")}},pentagon:{n:13,f:function(D,C,z){if(d(C))return l;var b=c(D*.951,2),S=c(D*.588,2),M=c(-D,2),I=c(D*-.309,2),T=c(D*.809,2);return _(C,z,"M"+b+","+I+"L"+S+","+T+"H-"+S+"L-"+b+","+I+"L0,"+M+"Z")}},hexagon:{n:14,f:function(D,C,z){if(d(C))return l;var b=c(D,2),S=c(D/2,2),M=c(D*f/2,2);return _(C,z,"M"+M+",-"+S+"V"+S+"L0,"+b+"L-"+M+","+S+"V-"+S+"L0,-"+b+"Z")}},hexagon2:{n:15,f:function(D,C,z){if(d(C))return l;var b=c(D,2),S=c(D/2,2),M=c(D*f/2,2);return _(C,z,"M-"+S+","+M+"H"+S+"L"+b+",0L"+S+",-"+M+"H-"+S+"L-"+b+",0Z")}},octagon:{n:16,f:function(D,C,z){if(d(C))return l;var b=c(D*.924,2),S=c(D*.383,2);return _(C,z,"M-"+S+",-"+b+"H"+S+"L"+b+",-"+S+"V"+S+"L"+S+","+b+"H-"+S+"L-"+b+","+S+"V-"+S+"Z")}},star:{n:17,f:function(D,C,z){if(d(C))return l;var b=D*1.4,S=c(b*.225,2),M=c(b*.951,2),I=c(b*.363,2),T=c(b*.588,2),B=c(-b,2),H=c(b*-.309,2),Z=c(b*.118,2),$=c(b*.809,2),N=c(b*.382,2);return _(C,z,"M"+S+","+H+"H"+M+"L"+I+","+Z+"L"+T+","+$+"L0,"+N+"L-"+T+","+$+"L-"+I+","+Z+"L-"+M+","+H+"H-"+S+"L0,"+B+"Z")}},hexagram:{n:18,f:function(D,C,z){if(d(C))return l;var b=c(D*.66,2),S=c(D*.38,2),M=c(D*.76,2);return _(C,z,"M-"+M+",0l-"+S+",-"+b+"h"+M+"l"+S+",-"+b+"l"+S+","+b+"h"+M+"l-"+S+","+b+"l"+S+","+b+"h-"+M+"l-"+S+","+b+"l-"+S+",-"+b+"h-"+M+"Z")}},"star-triangle-up":{n:19,f:function(D,C,z){if(d(C))return l;var b=c(D*f*.8,2),S=c(D*.8,2),M=c(D*1.6,2),I=c(D*4,2),T="A "+I+","+I+" 0 0 1 ";return _(C,z,"M-"+b+","+S+T+b+","+S+T+"0,-"+M+T+"-"+b+","+S+"Z")}},"star-triangle-down":{n:20,f:function(D,C,z){if(d(C))return l;var b=c(D*f*.8,2),S=c(D*.8,2),M=c(D*1.6,2),I=c(D*4,2),T="A "+I+","+I+" 0 0 1 ";return _(C,z,"M"+b+",-"+S+T+"-"+b+",-"+S+T+"0,"+M+T+b+",-"+S+"Z")}},"star-square":{n:21,f:function(D,C,z){if(d(C))return l;var b=c(D*1.1,2),S=c(D*2,2),M="A "+S+","+S+" 0 0 1 ";return _(C,z,"M-"+b+",-"+b+M+"-"+b+","+b+M+b+","+b+M+b+",-"+b+M+"-"+b+",-"+b+"Z")}},"star-diamond":{n:22,f:function(D,C,z){if(d(C))return l;var b=c(D*1.4,2),S=c(D*1.9,2),M="A "+S+","+S+" 0 0 1 ";return _(C,z,"M-"+b+",0"+M+"0,"+b+M+b+",0"+M+"0,-"+b+M+"-"+b+",0Z")}},"diamond-tall":{n:23,f:function(D,C,z){if(d(C))return l;var b=c(D*.7,2),S=c(D*1.4,2);return _(C,z,"M0,"+S+"L"+b+",0L0,-"+S+"L-"+b+",0Z")}},"diamond-wide":{n:24,f:function(D,C,z){if(d(C))return l;var b=c(D*1.4,2),S=c(D*.7,2);return _(C,z,"M0,"+S+"L"+b+",0L0,-"+S+"L-"+b+",0Z")}},hourglass:{n:25,f:function(D,C,z){if(d(C))return l;var b=c(D,2);return _(C,z,"M"+b+","+b+"H-"+b+"L"+b+",-"+b+"H-"+b+"Z")},noDot:!0},bowtie:{n:26,f:function(D,C,z){if(d(C))return l;var b=c(D,2);return _(C,z,"M"+b+","+b+"V-"+b+"L-"+b+","+b+"V-"+b+"Z")},noDot:!0},"circle-cross":{n:27,f:function(D,C,z){if(d(C))return l;var b=c(D,2);return _(C,z,"M0,"+b+"V-"+b+"M"+b+",0H-"+b+"M"+b+",0A"+b+","+b+" 0 1,1 0,-"+b+"A"+b+","+b+" 0 0,1 "+b+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(D,C,z){if(d(C))return l;var b=c(D,2),S=c(D/u,2);return _(C,z,"M"+S+","+S+"L-"+S+",-"+S+"M"+S+",-"+S+"L-"+S+","+S+"M"+b+",0A"+b+","+b+" 0 1,1 0,-"+b+"A"+b+","+b+" 0 0,1 "+b+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(D,C,z){if(d(C))return l;var b=c(D,2);return _(C,z,"M0,"+b+"V-"+b+"M"+b+",0H-"+b+"M"+b+","+b+"H-"+b+"V-"+b+"H"+b+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(D,C,z){if(d(C))return l;var b=c(D,2);return _(C,z,"M"+b+","+b+"L-"+b+",-"+b+"M"+b+",-"+b+"L-"+b+","+b+"M"+b+","+b+"H-"+b+"V-"+b+"H"+b+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(D,C,z){if(d(C))return l;var b=c(D*1.3,2);return _(C,z,"M"+b+",0L0,"+b+"L-"+b+",0L0,-"+b+"ZM0,-"+b+"V"+b+"M-"+b+",0H"+b)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(D,C,z){if(d(C))return l;var b=c(D*1.3,2),S=c(D*.65,2);return _(C,z,"M"+b+",0L0,"+b+"L-"+b+",0L0,-"+b+"ZM-"+S+",-"+S+"L"+S+","+S+"M-"+S+","+S+"L"+S+",-"+S)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(D,C,z){if(d(C))return l;var b=c(D*1.4,2);return _(C,z,"M0,"+b+"V-"+b+"M"+b+",0H-"+b)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(D,C,z){if(d(C))return l;var b=c(D,2);return _(C,z,"M"+b+","+b+"L-"+b+",-"+b+"M"+b+",-"+b+"L-"+b+","+b)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(D,C,z){if(d(C))return l;var b=c(D*1.2,2),S=c(D*.85,2);return _(C,z,"M0,"+b+"V-"+b+"M"+b+",0H-"+b+"M"+S+","+S+"L-"+S+",-"+S+"M"+S+",-"+S+"L-"+S+","+S)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(D,C,z){if(d(C))return l;var b=c(D/2,2),S=c(D,2);return _(C,z,"M"+b+","+S+"V-"+S+"M"+(b-S)+",-"+S+"V"+S+"M"+S+","+b+"H-"+S+"M-"+S+","+(b-S)+"H"+S)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(D,C,z){if(d(C))return l;var b=c(D*1.2,2),S=c(D*1.6,2),M=c(D*.8,2);return _(C,z,"M-"+b+","+M+"L0,0M"+b+","+M+"L0,0M0,-"+S+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(D,C,z){if(d(C))return l;var b=c(D*1.2,2),S=c(D*1.6,2),M=c(D*.8,2);return _(C,z,"M-"+b+",-"+M+"L0,0M"+b+",-"+M+"L0,0M0,"+S+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(D,C,z){if(d(C))return l;var b=c(D*1.2,2),S=c(D*1.6,2),M=c(D*.8,2);return _(C,z,"M"+M+","+b+"L0,0M"+M+",-"+b+"L0,0M-"+S+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(D,C,z){if(d(C))return l;var b=c(D*1.2,2),S=c(D*1.6,2),M=c(D*.8,2);return _(C,z,"M-"+M+","+b+"L0,0M-"+M+",-"+b+"L0,0M"+S+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(D,C,z){if(d(C))return l;var b=c(D*1.4,2);return _(C,z,"M"+b+",0H-"+b)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(D,C,z){if(d(C))return l;var b=c(D*1.4,2);return _(C,z,"M0,"+b+"V-"+b)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(D,C,z){if(d(C))return l;var b=c(D,2);return _(C,z,"M"+b+",-"+b+"L-"+b+","+b)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(D,C,z){if(d(C))return l;var b=c(D,2);return _(C,z,"M"+b+","+b+"L-"+b+",-"+b)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(D,C,z){if(d(C))return l;var b=c(D,2),S=c(D*2,2);return _(C,z,"M0,0L-"+b+","+S+"H"+b+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(D,C,z){if(d(C))return l;var b=c(D,2),S=c(D*2,2);return _(C,z,"M0,0L-"+b+",-"+S+"H"+b+"Z")},noDot:!0},"arrow-left":{n:47,f:function(D,C,z){if(d(C))return l;var b=c(D*2,2),S=c(D,2);return _(C,z,"M0,0L"+b+",-"+S+"V"+S+"Z")},noDot:!0},"arrow-right":{n:48,f:function(D,C,z){if(d(C))return l;var b=c(D*2,2),S=c(D,2);return _(C,z,"M0,0L-"+b+",-"+S+"V"+S+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(D,C,z){if(d(C))return l;var b=c(D,2),S=c(D*2,2);return _(C,z,"M-"+b+",0H"+b+"M0,0L-"+b+","+S+"H"+b+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(D,C,z){if(d(C))return l;var b=c(D,2),S=c(D*2,2);return _(C,z,"M-"+b+",0H"+b+"M0,0L-"+b+",-"+S+"H"+b+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(D,C,z){if(d(C))return l;var b=c(D*2,2),S=c(D,2);return _(C,z,"M0,-"+S+"V"+S+"M0,0L"+b+",-"+S+"V"+S+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(D,C,z){if(d(C))return l;var b=c(D*2,2),S=c(D,2);return _(C,z,"M0,-"+S+"V"+S+"M0,0L-"+b+",-"+S+"V"+S+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(D,C,z){if(d(C))return l;var b=h/2.5,S=2*D*p(b),M=2*D*m(b);return _(C,z,"M0,0L"+-S+","+M+"L"+S+","+M+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(D,C,z){if(d(C))return l;var b=h/4,S=2*D*p(b),M=2*D*m(b);return _(C,z,"M0,0L"+-S+","+M+"A "+2*D+","+2*D+" 0 0 1 "+S+","+M+"Z")},backoff:.4,noDot:!0}};function d(D){return D===null}var y,x,w,L;function _(D,C,z){if((!D||D%360===0)&&!C)return z;if(w===D&&L===C&&y===z)return x;w=D,L=C,y=z;function b(ie,oe){var V=p(ie),W=m(ie),Y=oe[0],Q=oe[1]+(C||0);return[Y*V-Q*W,Y*W+Q*V]}for(var S=D/180*h,M=0,I=0,T=o(z),B="",H=0;H<T.length;H++){var Z=T[H],$=Z[0],N=M,j=I;if($==="M"||$==="L")M=+Z[1],I=+Z[2];else if($==="m"||$==="l")M+=+Z[1],I+=+Z[2];else if($==="H")M=+Z[1];else if($==="h")M+=+Z[1];else if($==="V")I=+Z[1];else if($==="v")I+=+Z[1];else if($==="A"){M=+Z[1],I=+Z[2];var O=b(S,[+Z[6],+Z[7]]);Z[6]=O[0],Z[7]=O[1],Z[3]=+Z[3]+D}($==="H"||$==="V")&&($="L"),($==="h"||$==="v")&&($="l"),($==="m"||$==="l")&&(M-=N,I-=j);var X=b(S,[M,I]);($==="H"||$==="V")&&($="L"),($==="M"||$==="L"||$==="m"||$==="l")&&(Z[1]=X[0],Z[2]=X[1]),Z[0]=$,B+=Z[0]+Z.slice(1).join(",")}return x=B,B}},3187:function(i){"use strict";i.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},352:function(i,s,a){"use strict";var o=a(721),c=a(3626),l=a(9714),u=a(4809),f=a(5589);i.exports=function(m){for(var d=m.calcdata,y=0;y<d.length;y++){var x=d[y],w=x[0].trace;if(w.visible===!0&&c.traceIs(w,"errorBarsOK")){var L=l.getFromId(m,w.xaxis),_=l.getFromId(m,w.yaxis);h(x,w,L,"x"),h(x,w,_,"y")}}};function h(p,m,d,y){var x=m["error_"+y]||{},w=x.visible&&["linear","log"].indexOf(d.type)!==-1,L=[];if(w){for(var _=f(x),D=0;D<p.length;D++){var C=p[D],z=C.i;if(z===void 0)z=D;else if(z===null)continue;var b=C[y];if(o(d.c2l(b))){var S=_(b,z);if(o(S[0])&&o(S[1])){var M=C[y+"s"]=b-S[0],I=C[y+"h"]=b+S[1];L.push(M,I)}}}var T=d._id,B=m._extremes[T],H=l.findExtremes(d,L,u.extendFlat({tozero:B.opts.tozero},{padded:!0}));B.min=B.min.concat(H.min),B.max=B.max.concat(H.max)}}},5589:function(i){"use strict";i.exports=function(o){var c=o.type,l=o.symmetric;if(c==="data"){var u=o.array||[];if(l)return function(d,y){var x=+u[y];return[x,x]};var f=o.arrayminus||[];return function(d,y){var x=+u[y],w=+f[y];return!isNaN(x)||!isNaN(w)?[w||0,x||0]:[NaN,NaN]}}else{var h=s(c,o.value),p=s(c,o.valueminus);return l||o.valueminus===void 0?function(d){var y=h(d);return[y,y]}:function(d){return[p(d),h(d)]}}};function s(a,o){if(a==="percent")return function(c){return Math.abs(c*o/100)};if(a==="constant")return function(){return Math.abs(o)};if(a==="sqrt")return function(c){return Math.sqrt(Math.abs(c))}}},5543:function(i,s,a){"use strict";var o=a(721),c=a(3626),l=a(4809),u=a(8032),f=a(3187);i.exports=function(h,p,m,d){var y="error_"+d.axis,x=u.newContainer(p,y),w=h[y]||{};function L(M,I){return l.coerce(w,x,f,M,I)}var _=w.array!==void 0||w.value!==void 0||w.type==="sqrt",D=L("visible",_);if(D!==!1){var C=L("type","array"in w?"data":"percent"),z=!0;C!=="sqrt"&&(z=L("symmetric",!((C==="data"?"arrayminus":"valueminus")in w))),C==="data"?(L("array"),L("traceref"),z||(L("arrayminus"),L("tracerefminus"))):(C==="percent"||C==="constant")&&(L("value"),z||L("valueminus"));var b="copy_"+d.inherit+"style";if(d.inherit){var S=p["error_"+d.inherit];(S||{}).visible&&L(b,!(w.color||o(w.thickness)||o(w.width)))}(!d.inherit||!x[b])&&(L("color",m),L("thickness"),L("width",c.traceIs(p,"gl3d")?0:4))}}},7901:function(i,s,a){"use strict";var o=a(4809),c=a(3582).overrideAll,l=a(3187),u={error_x:o.extendFlat({},l),error_y:o.extendFlat({},l)};delete u.error_x.copy_zstyle,delete u.error_y.copy_zstyle,delete u.error_y.copy_ystyle;var f={error_x:o.extendFlat({},l),error_y:o.extendFlat({},l),error_z:o.extendFlat({},l)};delete f.error_x.copy_ystyle,delete f.error_y.copy_ystyle,delete f.error_z.copy_ystyle,delete f.error_z.copy_zstyle,i.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:u,bar:u,histogram:u,scatter3d:c(f,"calc","nested"),scattergl:c(u,"calc","nested")}},supplyDefaults:a(5543),calc:a(352),makeComputeError:a(5589),plot:a(2130),style:a(2800),hoverInfo:h};function h(p,m,d){(m.error_y||{}).visible&&(d.yerr=p.yh-p.y,m.error_y.symmetric||(d.yerrneg=p.y-p.ys)),(m.error_x||{}).visible&&(d.xerr=p.xh-p.x,m.error_x.symmetric||(d.xerrneg=p.x-p.xs))}},2130:function(i,s,a){"use strict";var o=a(5568),c=a(721),l=a(2203),u=a(4726);i.exports=function(p,m,d,y){var x,w=d.xaxis,L=d.yaxis,_=y&&y.duration>0,D=p._context.staticPlot;m.each(function(C){var z=C[0].trace,b=z.error_x||{},S=z.error_y||{},M;z.ids&&(M=function(H){return H.id});var I=u.hasMarkers(z)&&z.marker.maxdisplayed>0;!S.visible&&!b.visible&&(C=[]);var T=o.select(this).selectAll("g.errorbar").data(C,M);if(T.exit().remove(),!!C.length){b.visible||T.selectAll("path.xerror").remove(),S.visible||T.selectAll("path.yerror").remove(),T.style("opacity",1);var B=T.enter().append("g").classed("errorbar",!0);_&&B.style("opacity",0).transition().duration(y.duration).style("opacity",1),l.setClipUrl(T,d.layerClipId,p),T.each(function(H){var Z=o.select(this),$=f(H,w,L);if(!(I&&!H.vis)){var N,j=Z.select("path.yerror");if(S.visible&&c($.x)&&c($.yh)&&c($.ys)){var O=S.width;N="M"+($.x-O)+","+$.yh+"h"+2*O+"m-"+O+",0V"+$.ys,$.noYS||(N+="m-"+O+",0h"+2*O),x=!j.size(),x?j=Z.append("path").style("vector-effect",D?"none":"non-scaling-stroke").classed("yerror",!0):_&&(j=j.transition().duration(y.duration).ease(y.easing)),j.attr("d",N)}else j.remove();var X=Z.select("path.xerror");if(b.visible&&c($.y)&&c($.xh)&&c($.xs)){var ie=(b.copy_ystyle?S:b).width;N="M"+$.xh+","+($.y-ie)+"v"+2*ie+"m0,-"+ie+"H"+$.xs,$.noXS||(N+="m0,-"+ie+"v"+2*ie),x=!X.size(),x?X=Z.append("path").style("vector-effect",D?"none":"non-scaling-stroke").classed("xerror",!0):_&&(X=X.transition().duration(y.duration).ease(y.easing)),X.attr("d",N)}else X.remove()}})}})};function f(h,p,m){var d={x:p.c2p(h.x),y:m.c2p(h.y)};return h.yh!==void 0&&(d.yh=m.c2p(h.yh),d.ys=m.c2p(h.ys),c(d.ys)||(d.noYS=!0,d.ys=m.c2p(h.ys,!0))),h.xh!==void 0&&(d.xh=p.c2p(h.xh),d.xs=p.c2p(h.xs),c(d.xs)||(d.noXS=!0,d.xs=p.c2p(h.xs,!0))),d}},2800:function(i,s,a){"use strict";var o=a(5568),c=a(8766);i.exports=function(u){u.each(function(f){var h=f[0].trace,p=h.error_y||{},m=h.error_x||{},d=o.select(this);d.selectAll("path.yerror").style("stroke-width",p.thickness+"px").call(c.stroke,p.color),m.copy_ystyle&&(m=p),d.selectAll("path.xerror").style("stroke-width",m.thickness+"px").call(c.stroke,m.color)})}},192:function(i,s,a){"use strict";var o=a(337),c=a(6811).hoverlabel,l=a(3049).extendFlat;i.exports={hoverlabel:{bgcolor:l({},c.bgcolor,{arrayOk:!0}),bordercolor:l({},c.bordercolor,{arrayOk:!0}),font:o({arrayOk:!0,editType:"none"}),align:l({},c.align,{arrayOk:!0}),namelength:l({},c.namelength,{arrayOk:!0}),editType:"none"}}},3552:function(i,s,a){"use strict";var o=a(4809),c=a(3626);i.exports=function(f){var h=f.calcdata,p=f._fullLayout;function m(L){return function(_){return o.coerceHoverinfo({hoverinfo:_},{_module:L._module},p)}}for(var d=0;d<h.length;d++){var y=h[d],x=y[0].trace;if(!c.traceIs(x,"pie-like")){var w=c.traceIs(x,"2dMap")?l:o.fillArray;w(x.hoverinfo,y,"hi",m(x)),x.hovertemplate&&w(x.hovertemplate,y,"ht"),x.hoverlabel&&(w(x.hoverlabel.bgcolor,y,"hbg"),w(x.hoverlabel.bordercolor,y,"hbc"),w(x.hoverlabel.font.size,y,"hts"),w(x.hoverlabel.font.color,y,"htc"),w(x.hoverlabel.font.family,y,"htf"),w(x.hoverlabel.font.weight,y,"htw"),w(x.hoverlabel.font.style,y,"hty"),w(x.hoverlabel.font.variant,y,"htv"),w(x.hoverlabel.namelength,y,"hnl"),w(x.hoverlabel.align,y,"hta"))}}};function l(u,f,h,p){p=p||o.identity,Array.isArray(u)&&(f[0][h]=p(u))}},4225:function(i,s,a){"use strict";var o=a(3626),c=a(8103).hover;i.exports=function(u,f,h){var p=o.getComponentMethod("annotations","onClick")(u,u._hoverdata);h!==void 0&&c(u,f,h,!0);function m(){u.emit("plotly_click",{points:u._hoverdata,event:f})}u._hoverdata&&f&&f.target&&(p&&p.then?p.then(m):m(),f.stopImmediatePropagation&&f.stopImmediatePropagation())}},5988:function(i){"use strict";i.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},3239:function(i,s,a){"use strict";var o=a(4809),c=a(192),l=a(6430);i.exports=function(f,h,p,m){function d(x,w){return o.coerce(f,h,c,x,w)}var y=o.extendFlat({},m.hoverlabel);h.hovertemplate&&(y.namelength=-1),l(f,h,d,y)}},6040:function(i,s,a){"use strict";var o=a(4809);s.getSubplot=function(p){return p.subplot||p.xaxis+p.yaxis||p.geo},s.isTraceInSubplots=function(p,m){if(p.type==="splom"){for(var d=p.xaxes||[],y=p.yaxes||[],x=0;x<d.length;x++)for(var w=0;w<y.length;w++)if(m.indexOf(d[x]+y[w])!==-1)return!0;return!1}return m.indexOf(s.getSubplot(p))!==-1},s.flat=function(p,m){for(var d=new Array(p.length),y=0;y<p.length;y++)d[y]=m;return d},s.p2c=function(p,m){for(var d=new Array(p.length),y=0;y<p.length;y++)d[y]=p[y].p2c(m);return d},s.getDistanceFunction=function(p,m,d,y){return p==="closest"?y||s.quadrature(m,d):p.charAt(0)==="x"?m:d},s.getClosest=function(p,m,d){if(d.index!==!1)d.index>=0&&d.index<p.length?d.distance=0:d.index=!1;else for(var y=0;y<p.length;y++){var x=m(p[y]);x<=d.distance&&(d.index=y,d.distance=x)}return d},s.inbox=function(p,m,d){return p*m<0||p===0?d:1/0},s.quadrature=function(p,m){return function(d){var y=p(d),x=m(d);return Math.sqrt(y*y+x*x)}},s.makeEventData=function(p,m,d){var y="index"in p?p.index:p.pointNumber,x={data:m._input,fullData:m,curveNumber:m.index,pointNumber:y};if(m._indexToPoints){var w=m._indexToPoints[y];w.length===1?x.pointIndex=w[0]:x.pointIndices=w}else x.pointIndex=y;return m._module.eventData?x=m._module.eventData(x,p,m,d,y):("xVal"in p?x.x=p.xVal:"x"in p&&(x.x=p.x),"yVal"in p?x.y=p.yVal:"y"in p&&(x.y=p.y),p.xa&&(x.xaxis=p.xa),p.ya&&(x.yaxis=p.ya),p.zLabelVal!==void 0&&(x.z=p.zLabelVal)),s.appendArrayPointValue(x,m,y),x},s.appendArrayPointValue=function(p,m,d){var y=m._arrayAttrs;if(y)for(var x=0;x<y.length;x++){var w=y[x],L=l(w);if(p[L]===void 0){var _=o.nestedProperty(m,w).get(),D=u(_,d);D!==void 0&&(p[L]=D)}}},s.appendArrayMultiPointValues=function(p,m,d){var y=m._arrayAttrs;if(y)for(var x=0;x<y.length;x++){var w=y[x],L=l(w);if(p[L]===void 0){for(var _=o.nestedProperty(m,w).get(),D=new Array(d.length),C=0;C<d.length;C++)D[C]=u(_,d[C]);p[L]=D}}};var c={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function l(p){return c[p]||p}function u(p,m){if(Array.isArray(m)){if(Array.isArray(p)&&Array.isArray(p[m[0]]))return p[m[0]][m[1]]}else return p[m]}var f={x:!0,y:!0},h={"x unified":!0,"y unified":!0};s.isUnifiedHover=function(p){return typeof p!="string"?!1:!!h[p]},s.isXYhover=function(p){return typeof p!="string"?!1:!!f[p]}},8103:function(i,s,a){"use strict";var o=a(5568),c=a(721),l=a(5657),u=a(4809),f=u.pushUnique,h=u.strTranslate,p=u.strRotate,m=a(8596),d=a(635),y=a(3134),x=a(2203),w=a(8766),L=a(4751),_=a(9714),D=a(4826).zindexSeparator,C=a(3626),z=a(6040),b=a(5988),S=a(3970),M=a(6134),I=b.YANGLE,T=Math.PI*I/180,B=1/Math.sin(T),H=Math.cos(T),Z=Math.sin(T),$=b.HOVERARROWSIZE,N=b.HOVERTEXTPAD,j={box:!0,ohlc:!0,violin:!0,candlestick:!0},O={scatter:!0,scattergl:!0,splom:!0};function X(E,K){return E.distance-K.distance}s.hover=function(K,R,ne,pe){K=u.getGraphDiv(K);var xe=R.target;u.throttle(K._fullLayout._uid+b.HOVERID,b.HOVERMINTIME,function(){ie(K,R,ne,pe,xe)})},s.loneHover=function(K,R){var ne=!0;Array.isArray(K)||(ne=!1,K=[K]);var pe=R.gd,xe=U(pe),we=ee(pe),Ee=K.map(function(Ve){var qe=Ve._x0||Ve.x0||Ve.x||0,vt=Ve._x1||Ve.x1||Ve.x||0,At=Ve._y0||Ve.y0||Ve.y||0,Dt=Ve._y1||Ve.y1||Ve.y||0,bt=Ve.eventData;if(bt){var xt=Math.min(qe,vt),Et=Math.max(qe,vt),pt=Math.min(At,Dt),Rt=Math.max(At,Dt),Wt=Ve.trace;if(C.traceIs(Wt,"gl3d")){var Vt=pe._fullLayout[Wt.scene]._scene.container,Yt=Vt.offsetLeft,et=Vt.offsetTop;xt+=Yt,Et+=Yt,pt+=et,Rt+=et}bt.bbox={x0:xt+we,x1:Et+we,y0:pt+xe,y1:Rt+xe},R.inOut_bbox&&R.inOut_bbox.push(bt.bbox)}else bt=!1;return{color:Ve.color||w.defaultLine,x0:Ve.x0||Ve.x||0,x1:Ve.x1||Ve.x||0,y0:Ve.y0||Ve.y||0,y1:Ve.y1||Ve.y||0,xLabel:Ve.xLabel,yLabel:Ve.yLabel,zLabel:Ve.zLabel,text:Ve.text,name:Ve.name,idealAlign:Ve.idealAlign,borderColor:Ve.borderColor,fontFamily:Ve.fontFamily,fontSize:Ve.fontSize,fontColor:Ve.fontColor,fontWeight:Ve.fontWeight,fontStyle:Ve.fontStyle,fontVariant:Ve.fontVariant,nameLength:Ve.nameLength,textAlign:Ve.textAlign,trace:Ve.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Ve.hovertemplate||!1,hovertemplateLabels:Ve.hovertemplateLabels||!1,eventData:bt}}),Oe=!1,Ke=W(Ee,{gd:pe,hovermode:"closest",rotateLabels:Oe,bgColor:R.bgColor||w.background,container:o.select(R.container),outerContainer:R.outerContainer||R.container}),Je=Ke.hoverLabels,rt=5,Me=0,ke=0;Je.sort(function(Ve,qe){return Ve.y0-qe.y0}).each(function(Ve,qe){var vt=Ve.y0-Ve.by/2;vt-rt<Me?Ve.offset=Me-vt+rt:Ve.offset=0,Me=vt+Ve.by+Ve.offset,qe===R.anchorIndex&&(ke=Ve.offset)}).each(function(Ve){Ve.offset-=ke});var Le=pe._fullLayout._invScaleX,He=pe._fullLayout._invScaleY;return le(Je,Oe,Le,He),ne?Je:Je.node()};function ie(E,K,R,ne,pe){R||(R="xy"),typeof R=="string"&&(R=R.split(D)[0]);var xe=Array.isArray(R)?R:[R],we,Ee=E._fullLayout,Oe=Ee.hoversubplots,Ke=Ee._plots||[],Je=Ke[R],rt=Ee._has("cartesian"),Me=K.hovermode||Ee.hovermode,ke=(Me||"").charAt(0)==="x",Le=(Me||"").charAt(0)==="y",He,Ve;if(rt&&(ke||Le)&&Oe==="axis"){for(var qe=xe.length,vt=0;vt<qe;vt++)if(we=xe[vt],Ke[we]){He=_.getFromId(E,we,"x"),Ve=_.getFromId(E,we,"y");var At=(ke?He:Ve)._subplotsWith;if(At&&At.length)for(var Dt=0;Dt<At.length;Dt++)f(xe,At[Dt])}}if(Je&&Oe!=="single"){var bt=Je.overlays.map(function(lr){return lr.id});xe=xe.concat(bt)}for(var xt=xe.length,Et=new Array(xt),pt=new Array(xt),Rt=!1,Wt=0;Wt<xt;Wt++)if(we=xe[Wt],Ke[we])Rt=!0,Et[Wt]=Ke[we].xaxis,pt[Wt]=Ke[we].yaxis;else if(Ee[we]&&Ee[we]._subplot){var Vt=Ee[we]._subplot;Et[Wt]=Vt.xaxis,pt[Wt]=Vt.yaxis}else{u.warn("Unrecognized subplot: "+we);return}if(Me&&!Rt&&(Me="closest"),["x","y","closest","x unified","y unified"].indexOf(Me)===-1||!E.calcdata||E.querySelector(".zoombox")||E._dragging)return L.unhoverRaw(E,K);var Yt=Ee.hoverdistance;Yt===-1&&(Yt=1/0);var et=Ee.spikedistance;et===-1&&(et=1/0);var ct=[],gt=[],_e,Be,ve,ge,Re,Fe,Ue,We,St,Mt,ot,Xe,_t,Xt={hLinePoint:null,vLinePoint:null},sn=!1;if(Array.isArray(K))for(Me="array",ve=0;ve<K.length;ve++)Re=E.calcdata[K[ve].curveNumber||0],Re&&(Fe=Re[0].trace,Re[0].trace.hoverinfo!=="skip"&&(gt.push(Re),Fe.orientation==="h"&&(sn=!0)));else{var pn=E.calcdata.slice();for(pn.sort(function(lr,br){var cr=lr[0].trace.zorder||0,vr=br[0].trace.zorder||0;return cr-vr}),ge=0;ge<pn.length;ge++)Re=pn[ge],Fe=Re[0].trace,Fe.hoverinfo!=="skip"&&z.isTraceInSubplots(Fe,xe)&&(gt.push(Re),Fe.orientation==="h"&&(sn=!0));var An=!pe,zn,Jt;if(An)"xpx"in K?zn=K.xpx:zn=Et[0]._length/2,"ypx"in K?Jt=K.ypx:Jt=pt[0]._length/2;else{if(m.triggerHandler(E,"plotly_beforehover",K)===!1)return;var Cn=pe.getBoundingClientRect();zn=K.clientX-Cn.left,Jt=K.clientY-Cn.top,Ee._calcInverseTransform(E);var yn=u.apply3DTransform(Ee._invTransform)(zn,Jt);if(zn=yn[0],Jt=yn[1],zn<0||zn>Et[0]._length||Jt<0||Jt>pt[0]._length)return L.unhoverRaw(E,K)}if(K.pointerX=zn+Et[0]._offset,K.pointerY=Jt+pt[0]._offset,"xval"in K?_e=z.flat(xe,K.xval):_e=z.p2c(Et,zn),"yval"in K?Be=z.flat(xe,K.yval):Be=z.p2c(pt,Jt),!c(_e[0])||!c(Be[0]))return u.warn("Fx.hover failed",K,E),L.unhoverRaw(E,K)}var xn=1/0;function Pn(lr,br){for(ge=0;ge<gt.length;ge++)if(Re=gt[ge],!(!Re||!Re[0]||!Re[0].trace)&&(Fe=Re[0].trace,!(Fe.visible!==!0||Fe._length===0)&&["carpet","contourcarpet"].indexOf(Fe._module.name)===-1)){if(St=Me,z.isUnifiedHover(St)&&(St=St.charAt(0)),Fe.type==="splom"?(We=0,Ue=xe[We]):(Ue=z.getSubplot(Fe),We=xe.indexOf(Ue)),Xe={cd:Re,trace:Fe,xa:Et[We],ya:pt[We],maxHoverDistance:Yt,maxSpikeDistance:et,index:!1,distance:Math.min(xn,Yt),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:w.defaultLine,name:Fe.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},Ee[Ue]&&(Xe.subplot=Ee[Ue]._subplot),Ee._splomScenes&&Ee._splomScenes[Fe.uid]&&(Xe.scene=Ee._splomScenes[Fe.uid]),St==="array"){var cr=K[ge];"pointNumber"in cr?(Xe.index=cr.pointNumber,St="closest"):(St="","xval"in cr&&(Mt=cr.xval,St="x"),"yval"in cr&&(ot=cr.yval,St=St?"closest":"y"))}else lr!==void 0&&br!==void 0?(Mt=lr,ot=br):(Mt=_e[We],ot=Be[We]);if(_t=ct.length,Yt!==0)if(Fe._module&&Fe._module.hoverPoints){var vr=Fe._module.hoverPoints(Xe,Mt,ot,St,{finiteRange:!0,hoverLayer:Ee._hoverlayer,hoversubplots:Oe,gd:E});if(vr)for(var Zr,gr=0;gr<vr.length;gr++)Zr=vr[gr],c(Zr.x0)&&c(Zr.y0)&&ct.push(be(Zr,Me))}else u.log("Unrecognized trace type in hover:",Fe);if(Me==="closest"&&ct.length>_t&&(ct.splice(0,_t),xn=ct[0].distance),rt&&et!==0&&ct.length===0){Xe.distance=et,Xe.index=!1;var Dr=Fe._module.hoverPoints(Xe,Mt,ot,"closest",{hoverLayer:Ee._hoverlayer});if(Dr&&(Dr=Dr.filter(function(Ai){return Ai.spikeDistance<=et})),Dr&&Dr.length){var Ti,Zi=Dr.filter(function(Ai){return Ai.xa.showspikes&&Ai.xa.spikesnap!=="hovered data"});if(Zi.length){var Ii=Zi[0];c(Ii.x0)&&c(Ii.y0)&&(Ti=on(Ii),(!Xt.vLinePoint||Xt.vLinePoint.spikeDistance>Ti.spikeDistance)&&(Xt.vLinePoint=Ti))}var ki=Dr.filter(function(Ai){return Ai.ya.showspikes&&Ai.ya.spikesnap!=="hovered data"});if(ki.length){var ti=ki[0];c(ti.x0)&&c(ti.y0)&&(Ti=on(ti),(!Xt.hLinePoint||Xt.hLinePoint.spikeDistance>Ti.spikeDistance)&&(Xt.hLinePoint=Ti))}}}}}Pn();function Ln(lr,br,cr){for(var vr=null,Zr=1/0,gr,Dr=0;Dr<lr.length;Dr++)He&&He._id!==lr[Dr].xa._id||Ve&&Ve._id!==lr[Dr].ya._id||(gr=lr[Dr].spikeDistance,cr&&Dr===0&&(gr=-1/0),gr<=Zr&&gr<=br&&(vr=lr[Dr],Zr=gr));return vr}function on(lr){return lr?{xa:lr.xa,ya:lr.ya,x:lr.xSpike!==void 0?lr.xSpike:(lr.x0+lr.x1)/2,y:lr.ySpike!==void 0?lr.ySpike:(lr.y0+lr.y1)/2,distance:lr.distance,spikeDistance:lr.spikeDistance,curveNumber:lr.trace.index,color:lr.color,pointNumber:lr.index}:null}var _n={fullLayout:Ee,container:Ee._hoverlayer,event:K},gn=E._spikepoints,Un={vLinePoint:Xt.vLinePoint,hLinePoint:Xt.hLinePoint};E._spikepoints=Un;var qn=function(){var lr=ct.filter(function(cr){return He&&He._id===cr.xa._id&&Ve&&Ve._id===cr.ya._id}),br=ct.filter(function(cr){return!(He&&He._id===cr.xa._id&&Ve&&Ve._id===cr.ya._id)});lr.sort(X),br.sort(X),ct=lr.concat(br),ct=he(ct,Me)};qn();var Jn=Me.charAt(0),bn=(Jn==="x"||Jn==="y")&&ct[0]&&O[ct[0].trace.type];if(rt&&et!==0&&ct.length!==0){var Qn=ct.filter(function(lr){return lr.ya.showspikes}),Vn=Ln(Qn,et,bn);Xt.hLinePoint=on(Vn);var hn=ct.filter(function(lr){return lr.xa.showspikes}),me=Ln(hn,et,bn);Xt.vLinePoint=on(me)}if(ct.length===0){var ce=L.unhoverRaw(E,K);return rt&&(Xt.hLinePoint!==null||Xt.vLinePoint!==null)&&Te(gn)&&Se(E,Xt,_n),ce}if(rt&&Te(gn)&&Se(E,Xt,_n),z.isXYhover(St)&&ct[0].length!==0&&ct[0].trace.type!=="splom"){var it=ct[0];j[it.trace.type]?ct=ct.filter(function(lr){return lr.trace.index===it.trace.index}):ct=[it];var tt=ct.length,Ze=P("x",it,Ee),Ye=P("y",it,Ee);Pn(Ze,Ye);var Qe=[],mt={},st=0,yt=function(lr){var br=j[lr.trace.type]?oe(lr):lr.trace.index;if(!mt[br])st++,mt[br]=st,Qe.push(lr);else{var cr=mt[br]-1,vr=Qe[cr];cr>0&&Math.abs(lr.distance)<Math.abs(vr.distance)&&(Qe[cr]=lr)}},Ct;for(Ct=0;Ct<tt;Ct++)yt(ct[Ct]);for(Ct=ct.length-1;Ct>tt-1;Ct--)yt(ct[Ct]);ct=Qe,qn()}var wt=E._hoverdata,Ot=[],en=U(E),Tt=ee(E);for(ve=0;ve<ct.length;ve++){var fn=ct[ve],Zt=z.makeEventData(fn,fn.trace,fn.cd);if(fn.hovertemplate!==!1){var an=!1;fn.cd[fn.index]&&fn.cd[fn.index].ht&&(an=fn.cd[fn.index].ht),fn.hovertemplate=an||fn.trace.hovertemplate||!1}if(fn.xa&&fn.ya){var ln=fn.x0+fn.xa._offset,En=fn.x1+fn.xa._offset,Gn=fn.y0+fn.ya._offset,sr=fn.y1+fn.ya._offset,Yn=Math.min(ln,En),Xr=Math.max(ln,En),Mr=Math.min(Gn,sr),Ur=Math.max(Gn,sr);Zt.bbox={x0:Yn+Tt,x1:Xr+Tt,y0:Mr+en,y1:Ur+en}}fn.eventData=[Zt],Ot.push(Zt)}E._hoverdata=Ot;var ta=Me==="y"&&(gt.length>1||ct.length>1)||Me==="closest"&&sn&&ct.length>1,Va=w.combine(Ee.plot_bgcolor||w.background,Ee.paper_bgcolor),ei=W(ct,{gd:E,hovermode:Me,rotateLabels:ta,bgColor:Va,container:Ee._hoverlayer,outerContainer:Ee._paper.node(),commonLabelOpts:Ee.hoverlabel,hoverdistance:Ee.hoverdistance}),Fi=ei.hoverLabels;if(z.isUnifiedHover(Me)||(Q(Fi,ta,Ee,ei.commonLabelBoundingBox),le(Fi,ta,Ee._invScaleX,Ee._invScaleY)),pe&&pe.tagName){var _i=C.getComponentMethod("annotations","hasClickToShow")(E,Ot);y(o.select(pe),_i?"pointer":"")}!pe||ne||!ze(E,K,wt)||(wt&&E.emit("plotly_unhover",{event:K,points:wt}),E.emit("plotly_hover",{event:K,points:E._hoverdata,xaxes:Et,yaxes:pt,xvals:_e,yvals:Be}))}function oe(E){return[E.trace.index,E.index,E.x0,E.y0,E.name,E.attr,E.xa?E.xa._id:"",E.ya?E.ya._id:""].join(",")}var V=/<extra>([\s\S]*)<\/extra>/;function W(E,K){var R=K.gd,ne=R._fullLayout,pe=K.hovermode,xe=K.rotateLabels,we=K.bgColor,Ee=K.container,Oe=K.outerContainer,Ke=K.commonLabelOpts||{};if(E.length===0)return[[]];var Je=K.fontFamily||b.HOVERFONT,rt=K.fontSize||b.HOVERFONTSIZE,Me=K.fontWeight||ne.font.weight,ke=K.fontStyle||ne.font.style,Le=K.fontVariant||ne.font.variant,He=K.fontTextcase||ne.font.textcase,Ve=K.fontLineposition||ne.font.lineposition,qe=K.fontShadow||ne.font.shadow,vt=E[0],At=vt.xa,Dt=vt.ya,bt=pe.charAt(0),xt=bt+"Label",Et=vt[xt];if(Et===void 0&&At.type==="multicategory")for(var pt=0;pt<E.length&&(Et=E[pt][xt],Et===void 0);pt++);var Rt=G(R,Oe),Wt=Rt.top,Vt=Rt.width,Yt=Rt.height,et=Et!==void 0&&vt.distance<=K.hoverdistance&&(pe==="x"||pe==="y");if(et){var ct=!0,gt,_e;for(gt=0;gt<E.length;gt++)if(ct&&E[gt].zLabel===void 0&&(ct=!1),_e=E[gt].hoverinfo||E[gt].trace.hoverinfo,_e){var Be=Array.isArray(_e)?_e:_e.split("+");if(Be.indexOf("all")===-1&&Be.indexOf(pe)===-1){et=!1;break}}ct&&(et=!1)}var ve=Ee.selectAll("g.axistext").data(et?[0]:[]);ve.enter().append("g").classed("axistext",!0),ve.exit().remove();var ge={minX:0,maxX:0,minY:0,maxY:0};if(ve.each(function(){var hn=o.select(this),me=u.ensureSingle(hn,"path","",function(Yn){Yn.style({"stroke-width":"1px"})}),ce=u.ensureSingle(hn,"text","",function(Yn){Yn.attr("data-notex",1)}),it=Ke.bgcolor||w.defaultLine,tt=Ke.bordercolor||w.contrast(it),Ze=w.contrast(it),Ye=Ke.font,Qe={weight:Ye.weight||Me,style:Ye.style||ke,variant:Ye.variant||Le,textcase:Ye.textcase||He,lineposition:Ye.lineposition||Ve,shadow:Ye.shadow||qe,family:Ye.family||Je,size:Ye.size||rt,color:Ye.color||Ze};me.style({fill:it,stroke:tt}),ce.text(Et).call(x.font,Qe).call(d.positionText,0,0).call(d.convertToTspans,R),hn.attr("transform","");var mt=G(R,ce.node()),st,yt;if(pe==="x"){var Ct=At.side==="top"?"-":"";ce.attr("text-anchor","middle").call(d.positionText,0,At.side==="top"?Wt-mt.bottom-$-N:Wt-mt.top+$+N),st=At._offset+(vt.x0+vt.x1)/2,yt=Dt._offset+(At.side==="top"?0:Dt._length);var wt=mt.width/2+N,Ot=st;st<wt?Ot=wt:st>ne.width-wt&&(Ot=ne.width-wt),me.attr("d","M"+(st-Ot)+",0L"+(st-Ot+$)+","+Ct+$+"H"+wt+"v"+Ct+(N*2+mt.height)+"H"+-wt+"V"+Ct+$+"H"+(st-Ot-$)+"Z"),st=Ot,ge.minX=st-wt,ge.maxX=st+wt,At.side==="top"?(ge.minY=yt-(N*2+mt.height),ge.maxY=yt-N):(ge.minY=yt+N,ge.maxY=yt+(N*2+mt.height))}else{var en,Tt,fn;Dt.side==="right"?(en="start",Tt=1,fn="",st=At._offset+At._length):(en="end",Tt=-1,fn="-",st=At._offset),yt=Dt._offset+(vt.y0+vt.y1)/2,ce.attr("text-anchor",en),me.attr("d","M0,0L"+fn+$+","+$+"V"+(N+mt.height/2)+"h"+fn+(N*2+mt.width)+"V-"+(N+mt.height/2)+"H"+fn+$+"V-"+$+"Z"),ge.minY=yt-(N+mt.height/2),ge.maxY=yt+(N+mt.height/2),Dt.side==="right"?(ge.minX=st+$,ge.maxX=st+$+(N*2+mt.width)):(ge.minX=st-$-(N*2+mt.width),ge.maxX=st-$);var Zt=mt.height/2,an=Wt-mt.top-Zt,ln="clip"+ne._uid+"commonlabel"+Dt._id,En;if(st<mt.width+2*N+$){En="M-"+($+N)+"-"+Zt+"h-"+(mt.width-N)+"V"+Zt+"h"+(mt.width-N)+"Z";var Gn=mt.width-st+N;d.positionText(ce,Gn,an),en==="end"&&ce.selectAll("tspan").each(function(){var Yn=o.select(this),Xr=x.tester.append("text").text(Yn.text()).call(x.font,Qe),Mr=G(R,Xr.node());Math.round(Mr.width)<Math.round(mt.width)&&Yn.attr("x",Gn-Mr.width),Xr.remove()})}else d.positionText(ce,Tt*(N+$),an),En=null;var sr=ne._topclips.selectAll("#"+ln).data(En?[0]:[]);sr.enter().append("clipPath").attr("id",ln).append("path"),sr.exit().remove(),sr.select("path").attr("d",En),x.setClipUrl(ce,En?ln:null,R)}hn.attr("transform",h(st,yt))}),z.isUnifiedHover(pe)){Ee.selectAll("g.hovertext").remove();var Re=E.filter(function(hn){return hn.hoverinfo!=="none"});if(Re.length===0)return[];var Fe=ne.hoverlabel,Ue=Fe.font,We={showlegend:!0,legend:{title:{text:Et,font:Ue},font:Ue,bgcolor:Fe.bgcolor,bordercolor:Fe.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:ne.legend?ne.legend.traceorder:void 0,orientation:"v"}},St={font:Ue};S(We,St,R._fullData);var Mt=St.legend;Mt.entries=[];for(var ot=0;ot<Re.length;ot++){var Xe=Re[ot];if(Xe.hoverinfo!=="none"){var _t=Y(Xe,!0,pe,ne,Et),Xt=_t[0],sn=_t[1];Xe.name=sn,sn!==""?Xe.text=sn+" : "+Xt:Xe.text=Xt;var pn=Xe.cd[Xe.index];pn&&(pn.mc&&(Xe.mc=pn.mc),pn.mcc&&(Xe.mc=pn.mcc),pn.mlc&&(Xe.mlc=pn.mlc),pn.mlcc&&(Xe.mlc=pn.mlcc),pn.mlw&&(Xe.mlw=pn.mlw),pn.mrc&&(Xe.mrc=pn.mrc),pn.dir&&(Xe.dir=pn.dir)),Xe._distinct=!0,Mt.entries.push([Xe])}}Mt.entries.sort(function(hn,me){return hn[0].trace.index-me[0].trace.index}),Mt.layer=Ee,Mt._inHover=!0,Mt._groupTitleFont=Fe.grouptitlefont,M(R,Mt);var An=Ee.select("g.legend"),zn=G(R,An.node()),Jt=zn.width+2*N,Cn=zn.height+2*N,yn=Re[0],xn=(yn.x0+yn.x1)/2,Pn=(yn.y0+yn.y1)/2,Ln=!(C.traceIs(yn.trace,"bar-like")||C.traceIs(yn.trace,"box-violin")),on,_n;bt==="y"?Ln?(_n=Pn-N,on=Pn+N):(_n=Math.min.apply(null,Re.map(function(hn){return Math.min(hn.y0,hn.y1)})),on=Math.max.apply(null,Re.map(function(hn){return Math.max(hn.y0,hn.y1)}))):_n=on=u.mean(Re.map(function(hn){return(hn.y0+hn.y1)/2}))-Cn/2;var gn,Un;bt==="x"?Ln?(gn=xn+N,Un=xn-N):(gn=Math.max.apply(null,Re.map(function(hn){return Math.max(hn.x0,hn.x1)})),Un=Math.min.apply(null,Re.map(function(hn){return Math.min(hn.x0,hn.x1)}))):gn=Un=u.mean(Re.map(function(hn){return(hn.x0+hn.x1)/2}))-Jt/2;var qn=At._offset,Jn=Dt._offset;on+=Jn,gn+=qn,Un+=qn-Jt,_n+=Jn-Cn;var bn,Qn;return gn+Jt<Vt&&gn>=0?bn=gn:Un+Jt<Vt&&Un>=0?bn=Un:qn+Jt<Vt?bn=qn:gn-xn<xn-Un+Jt?bn=Vt-Jt:bn=0,bn+=N,on+Cn<Yt&&on>=0?Qn=on:_n+Cn<Yt&&_n>=0?Qn=_n:Jn+Cn<Yt?Qn=Jn:on-Pn<Pn-_n+Cn?Qn=Yt-Cn:Qn=0,Qn+=N,An.attr("transform",h(bn-1,Qn-1)),An}var Vn=Ee.selectAll("g.hovertext").data(E,function(hn){return oe(hn)});return Vn.enter().append("g").classed("hovertext",!0).each(function(){var hn=o.select(this);hn.append("rect").call(w.fill,w.addOpacity(we,.8)),hn.append("text").classed("name",!0),hn.append("path").style("stroke-width","1px"),hn.append("text").classed("nums",!0).call(x.font,{weight:Me,style:ke,variant:Le,textcase:He,lineposition:Ve,shadow:qe,family:Je,size:rt})}),Vn.exit().remove(),Vn.each(function(hn){var me=o.select(this).attr("transform",""),ce=hn.color;Array.isArray(ce)&&(ce=ce[hn.eventData[0].pointNumber]);var it=hn.bgcolor||ce,tt=w.combine(w.opacity(it)?it:w.defaultLine,we),Ze=w.combine(w.opacity(ce)?ce:w.defaultLine,we),Ye=hn.borderColor||w.contrast(tt),Qe=Y(hn,et,pe,ne,Et,me),mt=Qe[0],st=Qe[1],yt=me.select("text.nums").call(x.font,{family:hn.fontFamily||Je,size:hn.fontSize||rt,color:hn.fontColor||Ye,weight:hn.fontWeight||Me,style:hn.fontStyle||ke,variant:hn.fontVariant||Le,textcase:hn.fontTextcase||He,lineposition:hn.fontLineposition||Ve,shadow:hn.fontShadow||qe}).text(mt).attr("data-notex",1).call(d.positionText,0,0).call(d.convertToTspans,R),Ct=me.select("text.name"),wt=0,Ot=0;if(st&&st!==mt){Ct.call(x.font,{family:hn.fontFamily||Je,size:hn.fontSize||rt,color:Ze,weight:hn.fontWeight||Me,style:hn.fontStyle||ke,variant:hn.fontVariant||Le,textcase:hn.fontTextcase||He,lineposition:hn.fontLineposition||Ve,shadow:hn.fontShadow||qe}).text(st).attr("data-notex",1).call(d.positionText,0,0).call(d.convertToTspans,R);var en=G(R,Ct.node());wt=en.width+2*N,Ot=en.height+2*N}else Ct.remove(),me.select("rect").remove();me.select("path").style({fill:tt,stroke:Ye});var Tt=hn.xa._offset+(hn.x0+hn.x1)/2,fn=hn.ya._offset+(hn.y0+hn.y1)/2,Zt=Math.abs(hn.x1-hn.x0),an=Math.abs(hn.y1-hn.y0),ln=G(R,yt.node()),En=ln.width/ne._invScaleX,Gn=ln.height/ne._invScaleY;hn.ty0=(Wt-ln.top)/ne._invScaleY,hn.bx=En+2*N,hn.by=Math.max(Gn+2*N,Ot),hn.anchor="start",hn.txwidth=En,hn.tx2width=wt,hn.offset=0;var sr=(En+$+N+wt)*ne._invScaleX,Yn,Xr;if(xe)hn.pos=Tt,Yn=fn+an/2+sr<=Yt,Xr=fn-an/2-sr>=0,(hn.idealAlign==="top"||!Yn)&&Xr?(fn-=an/2,hn.anchor="end"):Yn?(fn+=an/2,hn.anchor="start"):hn.anchor="middle",hn.crossPos=fn;else{if(hn.pos=fn,Yn=Tt+Zt/2+sr<=Vt,Xr=Tt-Zt/2-sr>=0,(hn.idealAlign==="left"||!Yn)&&Xr)Tt-=Zt/2,hn.anchor="end";else if(Yn)Tt+=Zt/2,hn.anchor="start";else{hn.anchor="middle";var Mr=sr/2,Ur=Tt+Mr-Vt,ta=Tt-Mr;Ur>0&&(Tt-=Ur),ta<0&&(Tt+=-ta)}hn.crossPos=Tt}yt.attr("text-anchor",hn.anchor),wt&&Ct.attr("text-anchor",hn.anchor),me.attr("transform",h(Tt,fn)+(xe?p(I):""))}),{hoverLabels:Vn,commonLabelBoundingBox:ge}}function Y(E,K,R,ne,pe,xe){var we="",Ee="";E.nameOverride!==void 0&&(E.name=E.nameOverride),E.name&&(E.trace._meta&&(E.name=u.templateString(E.name,E.trace._meta)),we=ye(E.name,E.nameLength));var Oe=R.charAt(0),Ke=Oe==="x"?"y":"x";E.zLabel!==void 0?(E.xLabel!==void 0&&(Ee+="x: "+E.xLabel+"<br>"),E.yLabel!==void 0&&(Ee+="y: "+E.yLabel+"<br>"),E.trace.type!=="choropleth"&&E.trace.type!=="choroplethmapbox"&&E.trace.type!=="choroplethmap"&&(Ee+=(Ee?"z: ":"")+E.zLabel)):K&&E[Oe+"Label"]===pe?Ee=E[Ke+"Label"]||"":E.xLabel===void 0?E.yLabel!==void 0&&E.trace.type!=="scattercarpet"&&(Ee=E.yLabel):E.yLabel===void 0?Ee=E.xLabel:Ee="("+E.xLabel+", "+E.yLabel+")",(E.text||E.text===0)&&!Array.isArray(E.text)&&(Ee+=(Ee?"<br>":"")+E.text),E.extraText!==void 0&&(Ee+=(Ee?"<br>":"")+E.extraText),xe&&Ee===""&&!E.hovertemplate&&(we===""&&xe.remove(),Ee=we);var Je=E.hovertemplate||!1;if(Je){var rt=E.hovertemplateLabels||E;E[Oe+"Label"]!==pe&&(rt[Oe+"other"]=rt[Oe+"Val"],rt[Oe+"otherLabel"]=rt[Oe+"Label"]),Ee=u.hovertemplateString(Je,rt,ne._d3locale,E.eventData[0]||{},E.trace._meta),Ee=Ee.replace(V,function(Me,ke){return we=ye(ke,E.nameLength),""})}return[Ee,we]}function Q(E,K,R,ne){var pe=K?"xa":"ya",xe=K?"ya":"xa",we=0,Ee=1,Oe=E.size(),Ke=new Array(Oe),Je=0,rt=ne.minX,Me=ne.maxX,ke=ne.minY,Le=ne.maxY,He=function(_e){return _e*R._invScaleX},Ve=function(_e){return _e*R._invScaleY};E.each(function(_e){var Be=_e[pe],ve=_e[xe],ge=Be._id.charAt(0)==="x",Re=Be.range;Je===0&&Re&&Re[0]>Re[1]!==ge&&(Ee=-1);var Fe=0,Ue=ge?R.width:R.height;if(R.hovermode==="x"||R.hovermode==="y"){var We=re(_e,K),St=_e.anchor,Mt=St==="end"?-1:1,ot,Xe;if(St==="middle")ot=_e.crossPos+(ge?Ve(We.y-_e.by/2):He(_e.bx/2+_e.tx2width/2)),Xe=ot+(ge?Ve(_e.by):He(_e.bx));else if(ge)ot=_e.crossPos+Ve($+We.y)-Ve(_e.by/2-$),Xe=ot+Ve(_e.by);else{var _t=He(Mt*$+We.x),Xt=_t+He(Mt*_e.bx);ot=_e.crossPos+Math.min(_t,Xt),Xe=_e.crossPos+Math.max(_t,Xt)}ge?ke!==void 0&&Le!==void 0&&Math.min(Xe,Le)-Math.max(ot,ke)>1&&(ve.side==="left"?(Fe=ve._mainLinePosition,Ue=R.width):Ue=ve._mainLinePosition):rt!==void 0&&Me!==void 0&&Math.min(Xe,Me)-Math.max(ot,rt)>1&&(ve.side==="top"?(Fe=ve._mainLinePosition,Ue=R.height):Ue=ve._mainLinePosition)}Ke[Je++]=[{datum:_e,traceIndex:_e.trace.index,dp:0,pos:_e.pos,posref:_e.posref,size:_e.by*(ge?B:1)/2,pmin:Fe,pmax:Ue}]}),Ke.sort(function(_e,Be){return _e[0].posref-Be[0].posref||Ee*(Be[0].traceIndex-_e[0].traceIndex)});var qe,vt,At,Dt,bt,xt,Et;function pt(_e){var Be=_e[0],ve=_e[_e.length-1];if(vt=Be.pmin-Be.pos-Be.dp+Be.size,At=ve.pos+ve.dp+ve.size-Be.pmax,vt>.01){for(bt=_e.length-1;bt>=0;bt--)_e[bt].dp+=vt;qe=!1}if(!(At<.01)){if(vt<-.01){for(bt=_e.length-1;bt>=0;bt--)_e[bt].dp-=At;qe=!1}if(qe){var ge=0;for(Dt=0;Dt<_e.length;Dt++)xt=_e[Dt],xt.pos+xt.dp+xt.size>Be.pmax&&ge++;for(Dt=_e.length-1;Dt>=0&&!(ge<=0);Dt--)xt=_e[Dt],xt.pos>Be.pmax-1&&(xt.del=!0,ge--);for(Dt=0;Dt<_e.length&&!(ge<=0);Dt++)if(xt=_e[Dt],xt.pos<Be.pmin+1)for(xt.del=!0,ge--,At=xt.size*2,bt=_e.length-1;bt>=0;bt--)_e[bt].dp-=At;for(Dt=_e.length-1;Dt>=0&&!(ge<=0);Dt--)xt=_e[Dt],xt.pos+xt.dp+xt.size>Be.pmax&&(xt.del=!0,ge--)}}}for(;!qe&&we<=Oe;){for(we++,qe=!0,Dt=0;Dt<Ke.length-1;){var Rt=Ke[Dt],Wt=Ke[Dt+1],Vt=Rt[Rt.length-1],Yt=Wt[0];if(vt=Vt.pos+Vt.dp+Vt.size-Yt.pos-Yt.dp+Yt.size,vt>.01){for(bt=Wt.length-1;bt>=0;bt--)Wt[bt].dp+=vt;for(Rt.push.apply(Rt,Wt),Ke.splice(Dt+1,1),Et=0,bt=Rt.length-1;bt>=0;bt--)Et+=Rt[bt].dp;for(At=Et/Rt.length,bt=Rt.length-1;bt>=0;bt--)Rt[bt].dp-=At;qe=!1}else Dt++}Ke.forEach(pt)}for(Dt=Ke.length-1;Dt>=0;Dt--){var et=Ke[Dt];for(bt=et.length-1;bt>=0;bt--){var ct=et[bt],gt=ct.datum;gt.offset=ct.dp,gt.del=ct.del}}}function re(E,K){var R=0,ne=E.offset;return K&&(ne*=-Z,R=E.offset*H),{x:R,y:ne}}function te(E){var K={start:1,end:-1,middle:0}[E.anchor],R=K*($+N),ne=R+K*(E.txwidth+N),pe=E.anchor==="middle";return pe&&(R-=E.tx2width/2,ne+=E.txwidth/2+N),{alignShift:K,textShiftX:R,text2ShiftX:ne}}function le(E,K,R,ne){var pe=function(we){return we*R},xe=function(we){return we*ne};E.each(function(we){var Ee=o.select(this);if(we.del)return Ee.remove();var Oe=Ee.select("text.nums"),Ke=we.anchor,Je=Ke==="end"?-1:1,rt=te(we),Me=re(we,K),ke=Me.x,Le=Me.y,He=Ke==="middle";Ee.select("path").attr("d",He?"M-"+pe(we.bx/2+we.tx2width/2)+","+xe(Le-we.by/2)+"h"+pe(we.bx)+"v"+xe(we.by)+"h-"+pe(we.bx)+"Z":"M0,0L"+pe(Je*$+ke)+","+xe($+Le)+"v"+xe(we.by/2-$)+"h"+pe(Je*we.bx)+"v-"+xe(we.by)+"H"+pe(Je*$+ke)+"V"+xe(Le-$)+"Z");var Ve=ke+rt.textShiftX,qe=Le+we.ty0-we.by/2+N,vt=we.textAlign||"auto";vt!=="auto"&&(vt==="left"&&Ke!=="start"?(Oe.attr("text-anchor","start"),Ve=He?-we.bx/2-we.tx2width/2+N:-we.bx-N):vt==="right"&&Ke!=="end"&&(Oe.attr("text-anchor","end"),Ve=He?we.bx/2-we.tx2width/2-N:we.bx+N)),Oe.call(d.positionText,pe(Ve),xe(qe)),we.tx2width&&(Ee.select("text.name").call(d.positionText,pe(rt.text2ShiftX+rt.alignShift*N+ke),xe(Le+we.ty0-we.by/2+N)),Ee.select("rect").call(x.setRect,pe(rt.text2ShiftX+(rt.alignShift-1)*we.tx2width/2+ke),xe(Le-we.by/2-1),pe(we.tx2width),xe(we.by+2)))})}function be(E,K){var R=E.index,ne=E.trace||{},pe=E.cd[0],xe=E.cd[R]||{};function we(Me){return Me||c(Me)&&Me===0}var Ee=Array.isArray(R)?function(Me,ke){var Le=u.castOption(pe,R,Me);return we(Le)?Le:u.extractOption({},ne,"",ke)}:function(Me,ke){return u.extractOption(xe,ne,Me,ke)};function Oe(Me,ke,Le){var He=Ee(ke,Le);we(He)&&(E[Me]=He)}if(Oe("hoverinfo","hi","hoverinfo"),Oe("bgcolor","hbg","hoverlabel.bgcolor"),Oe("borderColor","hbc","hoverlabel.bordercolor"),Oe("fontFamily","htf","hoverlabel.font.family"),Oe("fontSize","hts","hoverlabel.font.size"),Oe("fontColor","htc","hoverlabel.font.color"),Oe("fontWeight","htw","hoverlabel.font.weight"),Oe("fontStyle","hty","hoverlabel.font.style"),Oe("fontVariant","htv","hoverlabel.font.variant"),Oe("nameLength","hnl","hoverlabel.namelength"),Oe("textAlign","hta","hoverlabel.align"),E.posref=K==="y"||K==="closest"&&ne.orientation==="h"?E.xa._offset+(E.x0+E.x1)/2:E.ya._offset+(E.y0+E.y1)/2,E.x0=u.constrain(E.x0,0,E.xa._length),E.x1=u.constrain(E.x1,0,E.xa._length),E.y0=u.constrain(E.y0,0,E.ya._length),E.y1=u.constrain(E.y1,0,E.ya._length),E.xLabelVal!==void 0&&(E.xLabel="xLabel"in E?E.xLabel:_.hoverLabelText(E.xa,E.xLabelVal,ne.xhoverformat),E.xVal=E.xa.c2d(E.xLabelVal)),E.yLabelVal!==void 0&&(E.yLabel="yLabel"in E?E.yLabel:_.hoverLabelText(E.ya,E.yLabelVal,ne.yhoverformat),E.yVal=E.ya.c2d(E.yLabelVal)),E.zLabelVal!==void 0&&E.zLabel===void 0&&(E.zLabel=String(E.zLabelVal)),!isNaN(E.xerr)&&!(E.xa.type==="log"&&E.xerr<=0)){var Ke=_.tickText(E.xa,E.xa.c2l(E.xerr),"hover").text;E.xerrneg!==void 0?E.xLabel+=" +"+Ke+" / -"+_.tickText(E.xa,E.xa.c2l(E.xerrneg),"hover").text:E.xLabel+=" \xB1 "+Ke,K==="x"&&(E.distance+=1)}if(!isNaN(E.yerr)&&!(E.ya.type==="log"&&E.yerr<=0)){var Je=_.tickText(E.ya,E.ya.c2l(E.yerr),"hover").text;E.yerrneg!==void 0?E.yLabel+=" +"+Je+" / -"+_.tickText(E.ya,E.ya.c2l(E.yerrneg),"hover").text:E.yLabel+=" \xB1 "+Je,K==="y"&&(E.distance+=1)}var rt=E.hoverinfo||E.trace.hoverinfo;return rt&&rt!=="all"&&(rt=Array.isArray(rt)?rt:rt.split("+"),rt.indexOf("x")===-1&&(E.xLabel=void 0),rt.indexOf("y")===-1&&(E.yLabel=void 0),rt.indexOf("z")===-1&&(E.zLabel=void 0),rt.indexOf("text")===-1&&(E.text=void 0),rt.indexOf("name")===-1&&(E.name=void 0)),E}function Se(E,K,R){var ne=R.container,pe=R.fullLayout,xe=pe._size,we=R.event,Ee=!!K.hLinePoint,Oe=!!K.vLinePoint,Ke,Je;if(ne.selectAll(".spikeline").remove(),!!(Oe||Ee)){var rt=w.combine(pe.plot_bgcolor,pe.paper_bgcolor);if(Ee){var Me=K.hLinePoint,ke,Le;Ke=Me&&Me.xa,Je=Me&&Me.ya;var He=Je.spikesnap;He==="cursor"?(ke=we.pointerX,Le=we.pointerY):(ke=Ke._offset+Me.x,Le=Je._offset+Me.y);var Ve=l.readability(Me.color,rt)<1.5?w.contrast(rt):Me.color,qe=Je.spikemode,vt=Je.spikethickness,At=Je.spikecolor||Ve,Dt=_.getPxPosition(E,Je),bt,xt;if(qe.indexOf("toaxis")!==-1||qe.indexOf("across")!==-1){if(qe.indexOf("toaxis")!==-1&&(bt=Dt,xt=ke),qe.indexOf("across")!==-1){var Et=Je._counterDomainMin,pt=Je._counterDomainMax;Je.anchor==="free"&&(Et=Math.min(Et,Je.position),pt=Math.max(pt,Je.position)),bt=xe.l+Et*xe.w,xt=xe.l+pt*xe.w}ne.insert("line",":first-child").attr({x1:bt,x2:xt,y1:Le,y2:Le,"stroke-width":vt,stroke:At,"stroke-dasharray":x.dashStyle(Je.spikedash,vt)}).classed("spikeline",!0).classed("crisp",!0),ne.insert("line",":first-child").attr({x1:bt,x2:xt,y1:Le,y2:Le,"stroke-width":vt+2,stroke:rt}).classed("spikeline",!0).classed("crisp",!0)}qe.indexOf("marker")!==-1&&ne.insert("circle",":first-child").attr({cx:Dt+(Je.side!=="right"?vt:-vt),cy:Le,r:vt,fill:At}).classed("spikeline",!0)}if(Oe){var Rt=K.vLinePoint,Wt,Vt;Ke=Rt&&Rt.xa,Je=Rt&&Rt.ya;var Yt=Ke.spikesnap;Yt==="cursor"?(Wt=we.pointerX,Vt=we.pointerY):(Wt=Ke._offset+Rt.x,Vt=Je._offset+Rt.y);var et=l.readability(Rt.color,rt)<1.5?w.contrast(rt):Rt.color,ct=Ke.spikemode,gt=Ke.spikethickness,_e=Ke.spikecolor||et,Be=_.getPxPosition(E,Ke),ve,ge;if(ct.indexOf("toaxis")!==-1||ct.indexOf("across")!==-1){if(ct.indexOf("toaxis")!==-1&&(ve=Be,ge=Vt),ct.indexOf("across")!==-1){var Re=Ke._counterDomainMin,Fe=Ke._counterDomainMax;Ke.anchor==="free"&&(Re=Math.min(Re,Ke.position),Fe=Math.max(Fe,Ke.position)),ve=xe.t+(1-Fe)*xe.h,ge=xe.t+(1-Re)*xe.h}ne.insert("line",":first-child").attr({x1:Wt,x2:Wt,y1:ve,y2:ge,"stroke-width":gt,stroke:_e,"stroke-dasharray":x.dashStyle(Ke.spikedash,gt)}).classed("spikeline",!0).classed("crisp",!0),ne.insert("line",":first-child").attr({x1:Wt,x2:Wt,y1:ve,y2:ge,"stroke-width":gt+2,stroke:rt}).classed("spikeline",!0).classed("crisp",!0)}ct.indexOf("marker")!==-1&&ne.insert("circle",":first-child").attr({cx:Wt,cy:Be-(Ke.side!=="top"?gt:-gt),r:gt,fill:_e}).classed("spikeline",!0)}}}function ze(E,K,R){if(!R||R.length!==E._hoverdata.length)return!0;for(var ne=R.length-1;ne>=0;ne--){var pe=R[ne],xe=E._hoverdata[ne];if(pe.curveNumber!==xe.curveNumber||String(pe.pointNumber)!==String(xe.pointNumber)||String(pe.pointNumbers)!==String(xe.pointNumbers))return!0}return!1}function Te(E,K){return!K||K.vLinePoint!==E._spikepoints.vLinePoint||K.hLinePoint!==E._spikepoints.hLinePoint}function ye(E,K){return d.plainText(E||"",{len:K,allowedTags:["br","sub","sup","b","i","em","s","u"]})}function he(E,K){for(var R=K.charAt(0),ne=[],pe=[],xe=[],we=0;we<E.length;we++){var Ee=E[we];C.traceIs(Ee.trace,"bar-like")||C.traceIs(Ee.trace,"box-violin")?xe.push(Ee):Ee.trace[R+"period"]?pe.push(Ee):ne.push(Ee)}return ne.concat(pe).concat(xe)}function P(E,K,R){var ne=K[E+"a"],pe=K[E+"Val"],xe=K.cd[0];if(ne.type==="category"||ne.type==="multicategory")pe=ne._categoriesMap[pe];else if(ne.type==="date"){var we=K.trace[E+"periodalignment"];if(we){var Ee=K.cd[K.index],Oe=Ee[E+"Start"];Oe===void 0&&(Oe=Ee[E]);var Ke=Ee[E+"End"];Ke===void 0&&(Ke=Ee[E]);var Je=Ke-Oe;we==="end"?pe+=Je:we==="middle"&&(pe+=Je/2)}pe=ne.d2c(pe)}return xe&&xe.t&&xe.t.posLetter===ne._id&&(R.boxmode==="group"||R.violinmode==="group")&&(pe+=xe.t.dPos),pe}function U(E){return E.offsetTop+E.clientTop}function ee(E){return E.offsetLeft+E.clientLeft}function G(E,K){var R=E._fullLayout,ne=K.getBoundingClientRect(),pe=ne.left,xe=ne.top,we=pe+ne.width,Ee=xe+ne.height,Oe=u.apply3DTransform(R._invTransform)(pe,xe),Ke=u.apply3DTransform(R._invTransform)(we,Ee),Je=Oe[0],rt=Oe[1],Me=Ke[0],ke=Ke[1];return{x:Je,y:rt,width:Me-Je,height:ke-rt,top:Math.min(rt,ke),left:Math.min(Je,Me),right:Math.max(Je,Me),bottom:Math.max(rt,ke)}}},6430:function(i,s,a){"use strict";var o=a(4809),c=a(8766),l=a(6040).isUnifiedHover;i.exports=function(f,h,p,m){m=m||{};var d=h.legend;function y(x){m.font[x]||(m.font[x]=d?h.legend.font[x]:h.font[x])}h&&l(h.hovermode)&&(m.font||(m.font={}),y("size"),y("family"),y("color"),y("weight"),y("style"),y("variant"),d?(m.bgcolor||(m.bgcolor=c.combine(h.legend.bgcolor,h.paper_bgcolor)),m.bordercolor||(m.bordercolor=h.legend.bordercolor)):m.bgcolor||(m.bgcolor=h.paper_bgcolor)),p("hoverlabel.bgcolor",m.bgcolor),p("hoverlabel.bordercolor",m.bordercolor),p("hoverlabel.namelength",m.namelength),o.coerceFont(p,"hoverlabel.font",m.font),p("hoverlabel.align",m.align)}},5265:function(i,s,a){"use strict";var o=a(4809),c=a(6811);i.exports=function(u,f){function h(p,m){return f[p]!==void 0?f[p]:o.coerce(u,f,c,p,m)}return h("clickmode"),h("hoversubplots"),h("hovermode")}},2141:function(i,s,a){"use strict";var o=a(5568),c=a(4809),l=a(4751),u=a(6040),f=a(6811),h=a(8103);i.exports={moduleType:"component",name:"fx",constants:a(5988),schema:{layout:f},attributes:a(192),layoutAttributes:f,supplyLayoutGlobalDefaults:a(5358),supplyDefaults:a(3239),supplyLayoutDefaults:a(8412),calc:a(3552),getDistanceFunction:u.getDistanceFunction,getClosest:u.getClosest,inbox:u.inbox,quadrature:u.quadrature,appendArrayPointValue:u.appendArrayPointValue,castHoverOption:m,castHoverinfo:d,hover:h.hover,unhover:l.unhover,loneHover:h.loneHover,loneUnhover:p,click:a(4225)};function p(y){var x=c.isD3Selection(y)?y:o.select(y);x.selectAll("g.hovertext").remove(),x.selectAll(".spikeline").remove()}function m(y,x,w){return c.castOption(y,x,"hoverlabel."+w)}function d(y,x,w){function L(_){return c.coerceHoverinfo({hoverinfo:_},{_module:y._module},x)}return c.castOption(y,w,"hoverinfo",L)}},6811:function(i,s,a){"use strict";var o=a(5988),c=a(337),l=c({editType:"none"});l.family.dflt=o.HOVERFONT,l.size.dflt=o.HOVERFONTSIZE,i.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:l,grouptitlefont:c({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},8412:function(i,s,a){"use strict";var o=a(4809),c=a(6811),l=a(5265),u=a(6430);i.exports=function(h,p){function m(D,C){return o.coerce(h,p,c,D,C)}var d=l(h,p);d&&(m("hoverdistance"),m("spikedistance"));var y=m("dragmode");y==="select"&&m("selectdirection");var x=p._has("mapbox"),w=p._has("map"),L=p._has("geo"),_=p._basePlotModules.length;p.dragmode==="zoom"&&((x||w||L)&&_===1||(x||w)&&L&&_===2)&&(p.dragmode="pan"),u(h,p,m),o.coerceFont(m,"hoverlabel.grouptitlefont",p.hoverlabel.font)}},5358:function(i,s,a){"use strict";var o=a(4809),c=a(6430),l=a(6811);i.exports=function(f,h){function p(m,d){return o.coerce(f,h,l,m,d)}c(f,h,p)}},3595:function(i,s,a){"use strict";var o=a(4809),c=a(694).counter,l=a(3792).u,u=a(4826).idRegex,f=a(8032),h={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[c("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[u.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[u.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:l({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function p(w,L,_){var D=L[_+"axes"],C=Object.keys((w._splomAxes||{})[_]||{});if(Array.isArray(D))return D;if(C.length)return C}function m(w,L){var _=w.grid||{},D=p(L,_,"x"),C=p(L,_,"y");if(!w.grid&&!D&&!C)return;var z=Array.isArray(_.subplots)&&Array.isArray(_.subplots[0]),b=Array.isArray(D),S=Array.isArray(C),M=b&&D!==_.xaxes&&S&&C!==_.yaxes,I,T;z?(I=_.subplots.length,T=_.subplots[0].length):(S&&(I=C.length),b&&(T=D.length));var B=f.newContainer(L,"grid");function H(W,Y){return o.coerce(_,B,h,W,Y)}var Z=H("rows",I),$=H("columns",T);if(!(Z*$>1)){delete L.grid;return}if(!z&&!b&&!S){var N=H("pattern")==="independent";N&&(z=!0)}B._hasSubplotGrid=z;var j=H("roworder"),O=j==="top to bottom",X=z?.2:.1,ie=z?.3:.1,oe,V;M&&L._splomGridDflt&&(oe=L._splomGridDflt.xside,V=L._splomGridDflt.yside),B._domains={x:d("x",H,X,oe,$),y:d("y",H,ie,V,Z,O)}}function d(w,L,_,D,C,z){var b=L(w+"gap",_),S=L("domain."+w);L(w+"side",D);for(var M=new Array(C),I=S[0],T=(S[1]-I)/(C-b),B=T*(1-b),H=0;H<C;H++){var Z=I+T*H;M[z?C-1-H:H]=[Z,Z+B]}return M}function y(w,L){var _=L.grid;if(!(!_||!_._domains)){var D=w.grid||{},C=L._subplots,z=_._hasSubplotGrid,b=_.rows,S=_.columns,M=_.pattern==="independent",I,T,B,H,Z,$,N,j=_._axisMap={};if(z){var O=D.subplots||[];$=_.subplots=new Array(b);var X=1;for(I=0;I<b;I++){var ie=$[I]=new Array(S),oe=O[I]||[];for(T=0;T<S;T++)if(M?(Z=X===1?"xy":"x"+X+"y"+X,X++):Z=oe[T],ie[T]="",C.cartesian.indexOf(Z)!==-1){if(N=Z.indexOf("y"),B=Z.slice(0,N),H=Z.slice(N),j[B]!==void 0&&j[B]!==T||j[H]!==void 0&&j[H]!==I)continue;ie[T]=Z,j[B]=T,j[H]=I}}}else{var V=p(L,D,"x"),W=p(L,D,"y");_.xaxes=x(V,C.xaxis,S,j,"x"),_.yaxes=x(W,C.yaxis,b,j,"y")}var Y=_._anchors={},Q=_.roworder==="top to bottom";for(var re in j){var te=re.charAt(0),le=_[te+"side"],be,Se,ze;if(le.length<8)Y[re]="free";else if(te==="x"){if(le.charAt(0)==="t"===Q?(be=0,Se=1,ze=b):(be=b-1,Se=-1,ze=-1),z){var Te=j[re];for(I=be;I!==ze;I+=Se)if(Z=$[I][Te],!!Z&&(N=Z.indexOf("y"),Z.slice(0,N)===re)){Y[re]=Z.slice(N);break}}else for(I=be;I!==ze;I+=Se)if(H=_.yaxes[I],C.cartesian.indexOf(re+H)!==-1){Y[re]=H;break}}else if(le.charAt(0)==="l"?(be=0,Se=1,ze=S):(be=S-1,Se=-1,ze=-1),z){var ye=j[re];for(I=be;I!==ze;I+=Se)if(Z=$[ye][I],!!Z&&(N=Z.indexOf("y"),Z.slice(N)===re)){Y[re]=Z.slice(0,N);break}}else for(I=be;I!==ze;I+=Se)if(B=_.xaxes[I],C.cartesian.indexOf(B+re)!==-1){Y[re]=B;break}}}}function x(w,L,_,D,C){var z=new Array(_),b;function S(M,I){L.indexOf(I)!==-1&&D[I]===void 0?(z[M]=I,D[I]=M):z[M]=""}if(Array.isArray(w))for(b=0;b<_;b++)S(b,w[b]);else for(S(0,C),b=1;b<_;b++)S(b,C+(b+1));return z}i.exports={moduleType:"component",name:"grid",schema:{layout:{grid:h}},layoutAttributes:h,sizeDefaults:m,contentDefaults:y}},7260:function(i,s,a){"use strict";var o=a(4826),c=a(8032).templatedArray,l=a(5081);i.exports=c("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",o.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",o.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},9443:function(i,s,a){"use strict";var o=a(721),c=a(8083);i.exports=function(u,f,h,p){f=f||{};var m=h==="log"&&f.type==="linear",d=h==="linear"&&f.type==="log";if(m||d){for(var y=u._fullLayout.images,x=f._id.charAt(0),w,L,_=0;_<y.length;_++)if(w=y[_],L="images["+_+"].",w[x+"ref"]===f._id){var D=w[x],C=w["size"+x],z=null,b=null;if(m){z=c(D,f.range);var S=C/Math.pow(10,z)/2;b=2*Math.log(S+Math.sqrt(1+S*S))/Math.LN10}else z=Math.pow(10,D),b=z*(Math.pow(10,C/2)-Math.pow(10,-C/2));o(z)?o(b)||(b=null):(z=null,b=null),p(L+x,z),p(L+"size"+x,b)}}}},507:function(i,s,a){"use strict";var o=a(4809),c=a(9714),l=a(9008),u=a(7260),f="images";i.exports=function(m,d){var y={name:f,handleItemDefaults:h};l(m,d,y)};function h(p,m,d){function y(S,M){return o.coerce(p,m,u,S,M)}var x=y("source"),w=y("visible",!!x);if(!w)return m;y("layer"),y("xanchor"),y("yanchor"),y("sizex"),y("sizey"),y("sizing"),y("opacity");for(var L={_fullLayout:d},_=["x","y"],D=0;D<2;D++){var C=_[D],z=c.coerceRef(p,m,L,C,"paper",void 0);if(z!=="paper"){var b=c.getFromId(L,z);b._imgIndices.push(m._index)}c.coercePosition(m,L,y,z,C,0)}return m}},2211:function(i,s,a){"use strict";var o=a(5568),c=a(2203),l=a(9714),u=a(5975),f=a(2972);i.exports=function(p){var m=p._fullLayout,d=[],y={},x=[],w,L;for(L=0;L<m.images.length;L++){var _=m.images[L];if(_.visible)if(_.layer==="below"&&_.xref!=="paper"&&_.yref!=="paper"){w=u.ref2id(_.xref)+u.ref2id(_.yref);var D=m._plots[w];if(!D){x.push(_);continue}D.mainplot&&(w=D.mainplot.id),y[w]||(y[w]=[]),y[w].push(_)}else _.layer==="above"?d.push(_):x.push(_)}var C={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function z(H){var Z=o.select(this);if(this._imgSrc!==H.source)if(Z.attr("xmlns",f.svg),H.source&&H.source.slice(0,5)==="data:")Z.attr("xlink:href",H.source),this._imgSrc=H.source;else{var $=new Promise(function(N){var j=new Image;this.img=j,j.setAttribute("crossOrigin","anonymous"),j.onerror=O,j.onload=function(){var X=document.createElement("canvas");X.width=this.width,X.height=this.height;var ie=X.getContext("2d",{willReadFrequently:!0});ie.drawImage(this,0,0);var oe=X.toDataURL("image/png");Z.attr("xlink:href",oe),N()},Z.on("error",O),j.src=H.source,this._imgSrc=H.source;function O(){Z.remove(),N()}}.bind(this));p._promises.push($)}}function b(H){var Z=o.select(this),$=l.getFromId(p,H.xref),N=l.getFromId(p,H.yref),j=l.getRefType(H.xref)==="domain",O=l.getRefType(H.yref)==="domain",X=m._size,ie,oe;$!==void 0?ie=typeof H.xref=="string"&&j?$._length*H.sizex:Math.abs($.l2p(H.sizex)-$.l2p(0)):ie=H.sizex*X.w,N!==void 0?oe=typeof H.yref=="string"&&O?N._length*H.sizey:Math.abs(N.l2p(H.sizey)-N.l2p(0)):oe=H.sizey*X.h;var V=ie*C.x[H.xanchor].offset,W=oe*C.y[H.yanchor].offset,Y=C.x[H.xanchor].sizing+C.y[H.yanchor].sizing,Q,re;switch($!==void 0?Q=typeof H.xref=="string"&&j?$._length*H.x+$._offset:$.r2p(H.x)+$._offset:Q=H.x*X.w+X.l,Q+=V,N!==void 0?re=typeof H.yref=="string"&&O?N._length*(1-H.y)+N._offset:N.r2p(H.y)+N._offset:re=X.h-H.y*X.h+X.t,re+=W,H.sizing){case"fill":Y+=" slice";break;case"stretch":Y="none";break}Z.attr({x:Q,y:re,width:ie,height:oe,preserveAspectRatio:Y,opacity:H.opacity});var te=$&&l.getRefType(H.xref)!=="domain"?$._id:"",le=N&&l.getRefType(H.yref)!=="domain"?N._id:"",be=te+le;c.setClipUrl(Z,be?"clip"+m._uid+be:null,p)}var S=m._imageLowerLayer.selectAll("image").data(x),M=m._imageUpperLayer.selectAll("image").data(d);S.enter().append("image"),M.enter().append("image"),S.exit().remove(),M.exit().remove(),S.each(function(H){z.bind(this)(H),b.bind(this)(H)}),M.each(function(H){z.bind(this)(H),b.bind(this)(H)});var I=Object.keys(m._plots);for(L=0;L<I.length;L++){w=I[L];var T=m._plots[w];if(T.imagelayer){var B=T.imagelayer.selectAll("image").data(y[w]||[]);B.enter().append("image"),B.exit().remove(),B.each(function(H){z.bind(this)(H),b.bind(this)(H)})}}}},5553:function(i,s,a){"use strict";i.exports={moduleType:"component",name:"images",layoutAttributes:a(7260),supplyLayoutDefaults:a(507),includeBasePlot:a(706)("images"),draw:a(2211),convertCoords:a(9443)}},6405:function(i,s,a){"use strict";var o=a(337),c=a(229);i.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:c.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:o({editType:"legend"}),grouptitlefont:o({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:o({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},2783:function(i){"use strict";i.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},3970:function(i,s,a){"use strict";var o=a(3626),c=a(4809),l=a(8032),u=a(9829),f=a(6405),h=a(6704),p=a(7599);function m(d,y,x,w){var L=y[d]||{},_=l.newContainer(x,d);function D(ze,Te){return c.coerce(L,_,f,ze,Te)}var C=c.coerceFont(D,"font",x.font);D("bgcolor",x.paper_bgcolor),D("bordercolor");var z=D("visible");if(z){for(var b,S=function(ze,Te){var ye=b._input,he=b;return c.coerce(ye,he,u,ze,Te)},M=x.font||{},I=c.coerceFont(D,"grouptitlefont",M,{overrideDflt:{size:Math.round(M.size*1.1)}}),T=0,B=!1,H="normal",Z=(x.shapes||[]).filter(function(ze){return ze.showlegend}),$=w.concat(Z).filter(function(ze){return d===(ze.legend||"legend")}),N=0;N<$.length;N++)if(b=$[N],!!b.visible){var j=b._isShape;(b.showlegend||b._dfltShowLegend&&!(b._module&&b._module.attributes&&b._module.attributes.showlegend&&b._module.attributes.showlegend.dflt===!1))&&(T++,b.showlegend&&(B=!0,(!j&&o.traceIs(b,"pie-like")||b._input.showlegend===!0)&&T++),c.coerceFont(S,"legendgrouptitle.font",I)),(!j&&o.traceIs(b,"bar")&&x.barmode==="stack"||["tonextx","tonexty"].indexOf(b.fill)!==-1)&&(H=p.isGrouped({traceorder:H})?"grouped+reversed":"reversed"),b.legendgroup!==void 0&&b.legendgroup!==""&&(H=p.isReversed({traceorder:H})?"reversed+grouped":"grouped")}var O=c.coerce(y,x,h,"showlegend",B&&T>(d==="legend"?1:0));if(O===!1&&(x[d]=void 0),!(O===!1&&!L.uirevision)&&(D("uirevision",x.uirevision),O!==!1)){D("borderwidth");var X=D("orientation"),ie=D("yref"),oe=D("xref"),V=X==="h",W=ie==="paper",Y=oe==="paper",Q,re,te,le="left";V?(Q=0,o.getComponentMethod("rangeslider","isVisible")(y.xaxis)?W?(re=1.1,te="bottom"):(re=1,te="top"):W?(re=-.1,te="top"):(re=0,te="bottom")):(re=1,te="auto",Y?Q=1.02:(Q=1,le="right")),c.coerce(L,_,{x:{valType:"number",editType:"legend",min:Y?-2:0,max:Y?3:1,dflt:Q}},"x"),c.coerce(L,_,{y:{valType:"number",editType:"legend",min:W?-2:0,max:W?3:1,dflt:re}},"y"),D("traceorder",H),p.isGrouped(x[d])&&D("tracegroupgap"),D("entrywidth"),D("entrywidthmode"),D("indentation"),D("itemsizing"),D("itemwidth"),D("itemclick"),D("itemdoubleclick"),D("groupclick"),D("xanchor",le),D("yanchor",te),D("valign"),c.noneOrAll(L,_,["x","y"]);var be=D("title.text");if(be){D("title.side",V?"left":"top");var Se=c.extendFlat({},C,{size:c.bigFont(C.size)});c.coerceFont(D,"title.font",Se)}}}}i.exports=function(y,x,w){var L,_=w.slice(),D=x.shapes;if(D)for(L=0;L<D.length;L++){var C=D[L];if(C.showlegend){var z={_input:C._input,visible:C.visible,showlegend:C.showlegend,legend:C.legend};_.push(z)}}var b=["legend"];for(L=0;L<_.length;L++)c.pushUnique(b,_[L].legend);for(x._legends=[],L=0;L<b.length;L++){var S=b[L];m(S,y,x,_),x[S]&&x[S].visible&&(x[S]._id=S),x._legends.push(S)}}},6134:function(i,s,a){"use strict";var o=a(5568),c=a(4809),l=a(4122),u=a(3626),f=a(8596),h=a(4751),p=a(2203),m=a(8766),d=a(635),y=a(2165),x=a(2783),w=a(4530),L=w.LINE_SPACING,_=w.FROM_TL,D=w.FROM_BR,C=a(851),z=a(4375),b=a(7599),S=1,M=/^legend[0-9]*$/;i.exports=function(re,te){if(te)T(re,te);else{var le=re._fullLayout,be=le._legends,Se=le._infolayer.selectAll('[class^="legend"]');Se.each(function(){var he=o.select(this),P=he.attr("class"),U=P.split(" ")[0];U.match(M)&&be.indexOf(U)===-1&&he.remove()});for(var ze=0;ze<be.length;ze++){var Te=be[ze],ye=re._fullLayout[Te];T(re,ye)}}};function I(Q,re,te){if(!(re.title.side!=="top center"&&re.title.side!=="top right")){var le=re.title.font,be=le.size*L,Se=0,ze=Q.node(),Te=p.bBox(ze).width;re.title.side==="top center"?Se=.5*(re._width-2*te-2*x.titlePad-Te):re.title.side==="top right"&&(Se=re._width-2*te-2*x.titlePad-Te),d.positionText(Q,te+x.titlePad+Se,te+be)}}function T(Q,re){var te=re||{},le=Q._fullLayout,be=Y(te),Se,ze,Te=te._inHover;if(Te?(ze=te.layer,Se="hover"):(ze=le._infolayer,Se=be),!!ze){Se+=le._uid,Q._legendMouseDownTime||(Q._legendMouseDownTime=0);var ye;if(Te){if(!te.entries)return;ye=C(te.entries,te)}else{for(var he=(Q.calcdata||[]).slice(),P=le.shapes,U=0;U<P.length;U++){var ee=P[U];if(ee.showlegend){var G={_isShape:!0,_fullInput:ee,index:ee._index,name:ee.name||ee.label.text||"shape "+ee._index,legend:ee.legend,legendgroup:ee.legendgroup,legendgrouptitle:ee.legendgrouptitle,legendrank:ee.legendrank,legendwidth:ee.legendwidth,showlegend:ee.showlegend,visible:ee.visible,opacity:ee.opacity,mode:ee.type==="line"?"lines":"markers",line:ee.line,marker:{line:ee.line,color:ee.fillcolor,size:12,symbol:ee.type==="rect"?"square":ee.type==="circle"?"circle":"hexagon2"}};he.push([{trace:G}])}}ye=le.showlegend&&C(he,te,le._legends.length>1)}var E=le.hiddenlabels||[];if(!Te&&(!le.showlegend||!ye.length))return ze.selectAll("."+be).remove(),le._topdefs.select("#"+Se).remove(),l.autoMargin(Q,be);var K=c.ensureSingle(ze,"g",be,function(Je){Te||Je.attr("pointer-events","all")}),R=c.ensureSingleById(le._topdefs,"clipPath",Se,function(Je){Je.append("rect")}),ne=c.ensureSingle(K,"rect","bg",function(Je){Je.attr("shape-rendering","crispEdges")});ne.call(m.stroke,te.bordercolor).call(m.fill,te.bgcolor).style("stroke-width",te.borderwidth+"px");var pe=c.ensureSingle(K,"g","scrollbox"),xe=te.title;te._titleWidth=0,te._titleHeight=0;var we;xe.text?(we=c.ensureSingle(pe,"text",be+"titletext"),we.attr("text-anchor","start").call(p.font,xe.font).text(xe.text),j(we,pe,Q,te,S)):pe.selectAll("."+be+"titletext").remove();var Ee=c.ensureSingle(K,"rect","scrollbar",function(Je){Je.attr(x.scrollBarEnterAttrs).call(m.fill,x.scrollBarColor)}),Oe=pe.selectAll("g.groups").data(ye);Oe.enter().append("g").attr("class","groups"),Oe.exit().remove();var Ke=Oe.selectAll("g.traces").data(c.identity);Ke.enter().append("g").attr("class","traces"),Ke.exit().remove(),Ke.style("opacity",function(Je){var rt=Je[0].trace;return u.traceIs(rt,"pie-like")?E.indexOf(Je[0].label)!==-1?.5:1:rt.visible==="legendonly"?.5:1}).each(function(){o.select(this).call(Z,Q,te)}).call(z,Q,te).each(function(){Te||o.select(this).call(N,Q,be)}),c.syncOrAsync([l.previousPromises,function(){return ie(Q,Oe,Ke,te)},function(){var Je=le._size,rt=te.borderwidth,Me=te.xref==="paper",ke=te.yref==="paper";if(xe.text&&I(we,te,rt),!Te){var Le,He;Me?Le=Je.l+Je.w*te.x-_[V(te)]*te._width:Le=le.width*te.x-_[V(te)]*te._width,ke?He=Je.t+Je.h*(1-te.y)-_[W(te)]*te._effHeight:He=le.height*(1-te.y)-_[W(te)]*te._effHeight;var Ve=oe(Q,be,Le,He);if(Ve)return;if(le.margin.autoexpand){var qe=Le,vt=He;Le=Me?c.constrain(Le,0,le.width-te._width):qe,He=ke?c.constrain(He,0,le.height-te._effHeight):vt,Le!==qe&&c.log("Constrain "+be+".x to make legend fit inside graph"),He!==vt&&c.log("Constrain "+be+".y to make legend fit inside graph")}p.setTranslate(K,Le,He)}if(Ee.on(".drag",null),K.on("wheel",null),Te||te._height<=te._maxHeight||Q._context.staticPlot){var At=te._effHeight;Te&&(At=te._height),ne.attr({width:te._width-rt,height:At-rt,x:rt/2,y:rt/2}),p.setTranslate(pe,0,0),R.select("rect").attr({width:te._width-2*rt,height:At-2*rt,x:rt,y:rt}),p.setClipUrl(pe,Se,Q),p.setRect(Ee,0,0,0,0),delete te._scrollY}else{var Dt=Math.max(x.scrollBarMinHeight,te._effHeight*te._effHeight/te._height),bt=te._effHeight-Dt-2*x.scrollBarMargin,xt=te._height-te._effHeight,Et=bt/xt,pt=Math.min(te._scrollY||0,xt);ne.attr({width:te._width-2*rt+x.scrollBarWidth+x.scrollBarMargin,height:te._effHeight-rt,x:rt/2,y:rt/2}),R.select("rect").attr({width:te._width-2*rt+x.scrollBarWidth+x.scrollBarMargin,height:te._effHeight-2*rt,x:rt,y:rt+pt}),p.setClipUrl(pe,Se,Q),_e(pt,Dt,Et),K.on("wheel",function(){pt=c.constrain(te._scrollY+o.event.deltaY/bt*xt,0,xt),_e(pt,Dt,Et),pt!==0&&pt!==xt&&o.event.preventDefault()});var Rt,Wt,Vt,Yt=function(Fe,Ue,We){var St=(We-Ue)/Et+Fe;return c.constrain(St,0,xt)},et=function(Fe,Ue,We){var St=(Ue-We)/Et+Fe;return c.constrain(St,0,xt)},ct=o.behavior.drag().on("dragstart",function(){var Fe=o.event.sourceEvent;Fe.type==="touchstart"?Rt=Fe.changedTouches[0].clientY:Rt=Fe.clientY,Vt=pt}).on("drag",function(){var Fe=o.event.sourceEvent;Fe.buttons===2||Fe.ctrlKey||(Fe.type==="touchmove"?Wt=Fe.changedTouches[0].clientY:Wt=Fe.clientY,pt=Yt(Vt,Rt,Wt),_e(pt,Dt,Et))});Ee.call(ct);var gt=o.behavior.drag().on("dragstart",function(){var Fe=o.event.sourceEvent;Fe.type==="touchstart"&&(Rt=Fe.changedTouches[0].clientY,Vt=pt)}).on("drag",function(){var Fe=o.event.sourceEvent;Fe.type==="touchmove"&&(Wt=Fe.changedTouches[0].clientY,pt=et(Vt,Rt,Wt),_e(pt,Dt,Et))});pe.call(gt)}function _e(Fe,Ue,We){te._scrollY=Q._fullLayout[be]._scrollY=Fe,p.setTranslate(pe,0,-Fe),p.setRect(Ee,te._width,x.scrollBarMargin+Fe*We,x.scrollBarWidth,Ue),R.select("rect").attr("y",rt+Fe)}if(Q._context.edits.legendPosition){var Be,ve,ge,Re;K.classed("cursor-move",!0),h.init({element:K.node(),gd:Q,prepFn:function(Fe){if(Fe.target!==Ee.node()){var Ue=p.getTranslate(K);ge=Ue.x,Re=Ue.y}},moveFn:function(Fe,Ue){if(ge!==void 0&&Re!==void 0){var We=ge+Fe,St=Re+Ue;p.setTranslate(K,We,St),Be=h.align(We,te._width,Je.l,Je.l+Je.w,te.xanchor),ve=h.align(St+te._height,-te._height,Je.t+Je.h,Je.t,te.yanchor)}},doneFn:function(){if(Be!==void 0&&ve!==void 0){var Fe={};Fe[be+".x"]=Be,Fe[be+".y"]=ve,u.call("_guiRelayout",Q,Fe)}},clickFn:function(Fe,Ue){var We=ze.selectAll("g.traces").filter(function(){var St=this.getBoundingClientRect();return Ue.clientX>=St.left&&Ue.clientX<=St.right&&Ue.clientY>=St.top&&Ue.clientY<=St.bottom});We.size()>0&&H(Q,K,We,Fe,Ue)}})}}],Q)}}function B(Q,re,te){var le=Q[0],be=le.width,Se=re.entrywidthmode,ze=le.trace.legendwidth||re.entrywidth;return Se==="fraction"?re._maxWidth*ze:te+(ze||be)}function H(Q,re,te,le,be){var Se=te.data()[0][0].trace,ze={event:be,node:te.node(),curveNumber:Se.index,expandedIndex:Se._expandedIndex,data:Q.data,layout:Q.layout,frames:Q._transitionData._frames,config:Q._context,fullData:Q._fullData,fullLayout:Q._fullLayout};Se._group&&(ze.group=Se._group),u.traceIs(Se,"pie-like")&&(ze.label=te.datum()[0].label);var Te=f.triggerHandler(Q,"plotly_legendclick",ze);if(le===1){if(Te===!1)return;re._clickTimeout=setTimeout(function(){Q._fullLayout&&y(te,Q,le)},Q._context.doubleClickDelay)}else if(le===2){re._clickTimeout&&clearTimeout(re._clickTimeout),Q._legendMouseDownTime=0;var ye=f.triggerHandler(Q,"plotly_legenddoubleclick",ze);ye!==!1&&Te!==!1&&y(te,Q,le)}}function Z(Q,re,te){var le=Y(te),be=Q.data()[0][0],Se=be.trace,ze=u.traceIs(Se,"pie-like"),Te=!te._inHover&&re._context.edits.legendText&&!ze,ye=te._maxNameLength,he,P;be.groupTitle?(he=be.groupTitle.text,P=be.groupTitle.font):(P=te.font,te.entries?he=be.text:(he=ze?be.label:Se.name,Se._meta&&(he=c.templateString(he,Se._meta))));var U=c.ensureSingle(Q,"text",le+"text");U.attr("text-anchor","start").call(p.font,P).text(Te?$(he,ye):he);var ee=te.indentation+te.itemwidth+x.itemGap*2;d.positionText(U,ee,0),Te?U.call(d.makeEditable,{gd:re,text:he}).call(j,Q,re,te).on("edit",function(G){this.text($(G,ye)).call(j,Q,re,te);var E=be.trace._fullInput||{},K={};if(u.hasTransform(E,"groupby")){var R=u.getTransformIndices(E,"groupby"),ne=R[R.length-1],pe=c.keyedContainer(E,"transforms["+ne+"].styles","target","value.name");pe.set(be.trace._group,G),K=pe.constructUpdate()}else K.name=G;return E._isShape?u.call("_guiRelayout",re,"shapes["+Se.index+"].name",K.name):u.call("_guiRestyle",re,K,Se.index)}):j(U,Q,re,te)}function $(Q,re){var te=Math.max(4,re);if(Q&&Q.trim().length>=te/2)return Q;Q=Q||"";for(var le=te-Q.length;le>0;le--)Q+=" ";return Q}function N(Q,re,te){var le=re._context.doubleClickDelay,be,Se=1,ze=c.ensureSingle(Q,"rect",te+"toggle",function(Te){re._context.staticPlot||Te.style("cursor","pointer").attr("pointer-events","all"),Te.call(m.fill,"rgba(0,0,0,0)")});re._context.staticPlot||(ze.on("mousedown",function(){be=new Date().getTime(),be-re._legendMouseDownTime<le?Se+=1:(Se=1,re._legendMouseDownTime=be)}),ze.on("mouseup",function(){if(!(re._dragged||re._editing)){var Te=re._fullLayout[te];new Date().getTime()-re._legendMouseDownTime>le&&(Se=Math.max(Se-1,1)),H(re,Te,Q,Se,o.event)}}))}function j(Q,re,te,le,be){le._inHover&&Q.attr("data-notex",!0),d.convertToTspans(Q,te,function(){O(re,te,le,be)})}function O(Q,re,te,le){var be=Q.data()[0][0];if(!te._inHover&&be&&!be.trace.showlegend){Q.remove();return}var Se=Q.select("g[class*=math-group]"),ze=Se.node(),Te=Y(te);te||(te=re._fullLayout[Te]);var ye=te.borderwidth,he;le===S?he=te.title.font:be.groupTitle?he=be.groupTitle.font:he=te.font;var P=he.size*L,U,ee;if(ze){var G=p.bBox(ze);U=G.height,ee=G.width,le===S?p.setTranslate(Se,ye,ye+U*.75):p.setTranslate(Se,0,U*.25)}else{var E="."+Te+(le===S?"title":"")+"text",K=Q.select(E),R=d.lineCount(K),ne=K.node();if(U=P*R,ee=ne?p.bBox(ne).width:0,le===S)te.title.side==="left"&&(ee+=x.itemGap*2),d.positionText(K,ye+x.titlePad,ye+P);else{var pe=x.itemGap*2+te.indentation+te.itemwidth;be.groupTitle&&(pe=x.itemGap,ee-=te.indentation+te.itemwidth),d.positionText(K,pe,-P*((R-1)/2-.3))}}le===S?(te._titleWidth=ee,te._titleHeight=U):(be.lineHeight=P,be.height=Math.max(U,16)+3,be.width=ee)}function X(Q){var re=0,te=0,le=Q.title.side;return le&&(le.indexOf("left")!==-1&&(re=Q._titleWidth),le.indexOf("top")!==-1&&(te=Q._titleHeight)),[re,te]}function ie(Q,re,te,le){var be=Q._fullLayout,Se=Y(le);le||(le=be[Se]);var ze=be._size,Te=b.isVertical(le),ye=b.isGrouped(le),he=le.entrywidthmode==="fraction",P=le.borderwidth,U=2*P,ee=x.itemGap,G=le.indentation+le.itemwidth+ee*2,E=2*(P+ee),K=W(le),R=le.y<0||le.y===0&&K==="top",ne=le.y>1||le.y===1&&K==="bottom",pe=le.tracegroupgap,xe={};le._maxHeight=Math.max(R||ne?be.height/2:ze.h,30);var we=0;le._width=0,le._height=0;var Ee=X(le);if(Te)te.each(function(Vt){var Yt=Vt[0].height;p.setTranslate(this,P+Ee[0],P+Ee[1]+le._height+Yt/2+ee),le._height+=Yt,le._width=Math.max(le._width,Vt[0].width)}),we=G+le._width,le._width+=ee+G+U,le._height+=E,ye&&(re.each(function(Vt,Yt){p.setTranslate(this,0,Yt*le.tracegroupgap)}),le._height+=(le._lgroupsLength-1)*le.tracegroupgap);else{var Oe=V(le),Ke=le.x<0||le.x===0&&Oe==="right",Je=le.x>1||le.x===1&&Oe==="left",rt=ne||R,Me=be.width/2;le._maxWidth=Math.max(Ke?rt&&Oe==="left"?ze.l+ze.w:Me:Je?rt&&Oe==="right"?ze.r+ze.w:Me:ze.w,2*G);var ke=0,Le=0;te.each(function(Vt){var Yt=B(Vt,le,G);ke=Math.max(ke,Yt),Le+=Yt}),we=null;var He=0;if(ye){var Ve=0,qe=0,vt=0;re.each(function(){var Vt=0,Yt=0;o.select(this).selectAll("g.traces").each(function(ct){var gt=B(ct,le,G),_e=ct[0].height;p.setTranslate(this,Ee[0],Ee[1]+P+ee+_e/2+Yt),Yt+=_e,Vt=Math.max(Vt,gt),xe[ct[0].trace.legendgroup]=Vt});var et=Vt+ee;qe>0&&et+P+qe>le._maxWidth?(He=Math.max(He,qe),qe=0,vt+=Ve+pe,Ve=Yt):Ve=Math.max(Ve,Yt),p.setTranslate(this,qe,vt),qe+=et}),le._width=Math.max(He,qe)+P,le._height=vt+Ve+E}else{var At=te.size(),Dt=Le+U+(At-1)*ee<le._maxWidth,bt=0,xt=0,Et=0,pt=0;te.each(function(Vt){var Yt=Vt[0].height,et=B(Vt,le,G,ye),ct=Dt?et:ke;he||(ct+=ee),ct+P+xt-ee>=le._maxWidth&&(He=Math.max(He,pt),xt=0,Et+=bt,le._height+=bt,bt=0),p.setTranslate(this,Ee[0]+P+xt,Ee[1]+P+Et+Yt/2+ee),pt=xt+et+ee,xt+=ct,bt=Math.max(bt,Yt)}),Dt?(le._width=xt+U,le._height=bt+E):(le._width=Math.max(He,pt)+U,le._height+=bt+E)}}le._width=Math.ceil(Math.max(le._width+Ee[0],le._titleWidth+2*(P+x.titlePad))),le._height=Math.ceil(Math.max(le._height+Ee[1],le._titleHeight+2*(P+x.itemGap))),le._effHeight=Math.min(le._height,le._maxHeight);var Rt=Q._context.edits,Wt=Rt.legendText||Rt.legendPosition;te.each(function(Vt){var Yt=o.select(this).select("."+Se+"toggle"),et=Vt[0].height,ct=Vt[0].trace.legendgroup,gt=B(Vt,le,G);ye&&ct!==""&&(gt=xe[ct]);var _e=Wt?G:we||gt;!Te&&!he&&(_e+=ee/2),p.setRect(Yt,0,-et/2,_e,et)})}function oe(Q,re,te,le){var be=Q._fullLayout,Se=be[re],ze=V(Se),Te=W(Se),ye=Se.xref==="paper",he=Se.yref==="paper";Q._fullLayout._reservedMargin[re]={};var P=Se.y<.5?"b":"t",U=Se.x<.5?"l":"r",ee={r:be.width-te,l:te+Se._width,b:be.height-le,t:le+Se._effHeight};if(ye&&he)return l.autoMargin(Q,re,{x:Se.x,y:Se.y,l:Se._width*_[ze],r:Se._width*D[ze],b:Se._effHeight*D[Te],t:Se._effHeight*_[Te]});ye?Q._fullLayout._reservedMargin[re][P]=ee[P]:he||Se.orientation==="v"?Q._fullLayout._reservedMargin[re][U]=ee[U]:Q._fullLayout._reservedMargin[re][P]=ee[P]}function V(Q){return c.isRightAnchor(Q)?"right":c.isCenterAnchor(Q)?"center":"left"}function W(Q){return c.isBottomAnchor(Q)?"bottom":c.isMiddleAnchor(Q)?"middle":"top"}function Y(Q){return Q._id||"legend"}},851:function(i,s,a){"use strict";var o=a(3626),c=a(7599);i.exports=function(u,f,h){var p=f._inHover,m=c.isGrouped(f),d=c.isReversed(f),y={},x=[],w=!1,L={},_=0,D=0,C,z;function b(Q,re,te){if(f.visible!==!1&&!(h&&Q!==f._id))if(re===""||!c.isGrouped(f)){var le="~~i"+_;x.push(le),y[le]=[te],_++}else x.indexOf(re)===-1?(x.push(re),w=!0,y[re]=[te]):y[re].push(te)}for(C=0;C<u.length;C++){var S=u[C],M=S[0],I=M.trace,T=I.legend,B=I.legendgroup;if(!(!p&&(!I.visible||!I.showlegend)))if(o.traceIs(I,"pie-like"))for(L[B]||(L[B]={}),z=0;z<S.length;z++){var H=S[z].label;L[B][H]||(b(T,B,{label:H,color:S[z].color,i:S[z].i,trace:I,pts:S[z].pts}),L[B][H]=!0,D=Math.max(D,(H||"").length))}else b(T,B,M),D=Math.max(D,(I.name||"").length)}if(!x.length)return[];var Z=!w||!m,$=[];for(C=0;C<x.length;C++){var N=y[x[C]];Z?$.push(N[0]):$.push(N)}for(Z&&($=[$]),C=0;C<$.length;C++){var j=1/0;for(z=0;z<$[C].length;z++){var O=$[C][z].trace.legendrank;j>O&&(j=O)}$[C][0]._groupMinRank=j,$[C][0]._preGroupSort=C}var X=function(Q,re){return Q[0]._groupMinRank-re[0]._groupMinRank||Q[0]._preGroupSort-re[0]._preGroupSort},ie=function(Q,re){return Q.trace.legendrank-re.trace.legendrank||Q._preSort-re._preSort};for($.forEach(function(Q,re){Q[0]._preGroupSort=re}),$.sort(X),C=0;C<$.length;C++){$[C].forEach(function(Q,re){Q._preSort=re}),$[C].sort(ie);var oe=$[C][0].trace,V=null;for(z=0;z<$[C].length;z++){var W=$[C][z].trace.legendgrouptitle;if(W&&W.text){V=W,p&&(W.font=f._groupTitleFont);break}}if(d&&$[C].reverse(),V){var Y=!1;for(z=0;z<$[C].length;z++)if(o.traceIs($[C][z].trace,"pie-like")){Y=!0;break}$[C].unshift({i:-1,groupTitle:V,noClick:Y,trace:{showlegend:oe.showlegend,legendgroup:oe.legendgroup,visible:f.groupclick==="toggleitem"?!0:oe.visible}})}for(z=0;z<$[C].length;z++)$[C][z]=[$[C][z]]}return f._lgroupsLength=$.length,f._maxNameLength=D,$}},2165:function(i,s,a){"use strict";var o=a(3626),c=a(4809),l=c.pushUnique,u=!0;i.exports=function(h,p,m){var d=p._fullLayout;if(p._dragged||p._editing)return;var y=d.legend.itemclick,x=d.legend.itemdoubleclick,w=d.legend.groupclick;m===1&&y==="toggle"&&x==="toggleothers"&&u&&p.data&&p._context.showTips&&c.notifier(c._(p,"Double-click on legend to isolate one trace"),"long"),u=!1;var L;if(m===1?L=y:m===2&&(L=x),!L)return;var _=w==="togglegroup",D=d.hiddenlabels?d.hiddenlabels.slice():[],C=h.data()[0][0];if(C.groupTitle&&C.noClick)return;var z=p._fullData,b=(d.shapes||[]).filter(function(Me){return Me.showlegend}),S=z.concat(b),M=C.trace;M._isShape&&(M=M._fullInput);var I=M.legendgroup,T,B,H,Z,$,N,j={},O=[],X=[],ie=[];function oe(Me,ke){var Le=O.indexOf(Me),He=j.visible;return He||(He=j.visible=[]),O.indexOf(Me)===-1&&(O.push(Me),Le=O.length-1),He[Le]=ke,Le}var V=(d.shapes||[]).map(function(Me){return Me._input}),W=!1;function Y(Me,ke){V[Me].visible=ke,W=!0}function Q(Me,ke){if(!(C.groupTitle&&!_)){var Le=Me._fullInput||Me,He=Le._isShape,Ve=Le.index;if(Ve===void 0&&(Ve=Le._index),o.hasTransform(Le,"groupby")){var qe=X[Ve];if(!qe){var vt=o.getTransformIndices(Le,"groupby"),At=vt[vt.length-1];qe=c.keyedContainer(Le,"transforms["+At+"].styles","target","value.visible"),X[Ve]=qe}var Dt=qe.get(Me._group);Dt===void 0&&(Dt=!0),Dt!==!1&&qe.set(Me._group,ke),ie[Ve]=oe(Ve,Le.visible!==!1)}else{var bt=Le.visible===!1?!1:ke;He?Y(Ve,bt):oe(Ve,bt)}}}var re=M.legend,te=M._fullInput,le=te&&te._isShape;if(!le&&o.traceIs(M,"pie-like")){var be=C.label,Se=D.indexOf(be);if(L==="toggle")Se===-1?D.push(be):D.splice(Se,1);else if(L==="toggleothers"){var ze=Se!==-1,Te=[];for(T=0;T<p.calcdata.length;T++){var ye=p.calcdata[T];for(B=0;B<ye.length;B++){var he=ye[B],P=he.label;re===ye[0].trace.legend&&be!==P&&(D.indexOf(P)===-1&&(ze=!0),l(D,P),Te.push(P))}}if(!ze)for(var U=0;U<Te.length;U++){var ee=D.indexOf(Te[U]);ee!==-1&&D.splice(ee,1)}}o.call("_guiRelayout",p,"hiddenlabels",D)}else{var G=I&&I.length,E=[],K;if(G)for(T=0;T<S.length;T++)K=S[T],K.visible&&K.legendgroup===I&&E.push(T);if(L==="toggle"){var R;switch(M.visible){case!0:R="legendonly";break;case!1:R=!1;break;case"legendonly":R=!0;break}if(G)if(_)for(T=0;T<S.length;T++){var ne=S[T];ne.visible!==!1&&ne.legendgroup===I&&Q(ne,R)}else Q(M,R);else Q(M,R)}else if(L==="toggleothers"){var pe,xe,we,Ee,Oe,Ke=!0;for(T=0;T<S.length;T++)if(Oe=S[T],pe=Oe===M,we=Oe.showlegend!==!0,!(pe||we)&&(xe=G&&Oe.legendgroup===I,!xe&&Oe.legend===re&&Oe.visible===!0&&!o.traceIs(Oe,"notLegendIsolatable"))){Ke=!1;break}for(T=0;T<S.length;T++)if(Oe=S[T],!(Oe.visible===!1||Oe.legend!==re)&&!o.traceIs(Oe,"notLegendIsolatable"))switch(M.visible){case"legendonly":Q(Oe,!0);break;case!0:Ee=Ke?!0:"legendonly",pe=Oe===M,we=Oe.showlegend!==!0&&!Oe.legendgroup,xe=pe||G&&Oe.legendgroup===I,Q(Oe,xe||we?!0:Ee);break}}for(T=0;T<X.length;T++)if(H=X[T],!!H){var Je=H.constructUpdate(),rt=Object.keys(Je);for(B=0;B<rt.length;B++)Z=rt[B],N=j[Z]=j[Z]||[],N[ie[T]]=Je[Z]}for($=Object.keys(j),T=0;T<$.length;T++)for(Z=$[T],B=0;B<O.length;B++)j[Z].hasOwnProperty(B)||(j[Z][B]=void 0);W?o.call("_guiUpdate",p,j,{shapes:V},O):o.call("_guiRestyle",p,j,O)}}},7599:function(i,s){"use strict";s.isGrouped=function(o){return(o.traceorder||"").indexOf("grouped")!==-1},s.isVertical=function(o){return o.orientation!=="h"},s.isReversed=function(o){return(o.traceorder||"").indexOf("reversed")!==-1}},2494:function(i,s,a){"use strict";i.exports={moduleType:"component",name:"legend",layoutAttributes:a(6405),supplyLayoutDefaults:a(3970),draw:a(6134),style:a(4375)}},4375:function(i,s,a){"use strict";var o=a(5568),c=a(3626),l=a(4809),u=l.strTranslate,f=a(2203),h=a(8766),p=a(5477).extractOpts,m=a(4726),d=a(2891),y=a(7252).castOption,x=a(2783),w=12,L=5,_=2,D=10,C=5;i.exports=function(I,T,B){var H=T._fullLayout;B||(B=H.legend);var Z=B.itemsizing==="constant",$=B.itemwidth,N=($+x.itemGap*2)/2,j=u(N,0),O=function(Te,ye,he,P){var U;if(Te+1)U=Te;else if(ye&&ye.width>0)U=ye.width;else return 0;return Z?P:Math.min(U,he)};I.each(function(Te){var ye=o.select(this),he=l.ensureSingle(ye,"g","layers");he.style("opacity",Te[0].trace.opacity);var P=B.indentation,U=B.valign,ee=Te[0].lineHeight,G=Te[0].height;if(U==="middle"&&P===0||!ee||!G)he.attr("transform",null);else{var E={top:1,bottom:-1}[U],K=E*(.5*(ee-G+3))||0,R=B.indentation;he.attr("transform",u(R,K))}var ne=he.selectAll("g.legendfill").data([Te]);ne.enter().append("g").classed("legendfill",!0);var pe=he.selectAll("g.legendlines").data([Te]);pe.enter().append("g").classed("legendlines",!0);var xe=he.selectAll("g.legendsymbols").data([Te]);xe.enter().append("g").classed("legendsymbols",!0),xe.selectAll("g.legendpoints").data([Te]).enter().append("g").classed("legendpoints",!0)}).each(ze).each(oe).each(W).each(V).each(Q).each(be).each(le).each(X).each(ie).each(re).each(te);function X(Te){var ye=b(Te),he=ye.showFill,P=ye.showLine,U=ye.showGradientLine,ee=ye.showGradientFill,G=ye.anyFill,E=ye.anyLine,K=Te[0],R=K.trace,ne,pe,xe=p(R),we=xe.colorscale,Ee=xe.reversescale,Oe=function(He){if(He.size())if(he)f.fillGroupStyle(He,T,!0);else{var Ve="legendfill-"+R.uid;f.gradient(He,T,Ve,z(Ee),we,"fill")}},Ke=function(He){if(He.size()){var Ve="legendline-"+R.uid;f.lineGroupStyle(He),f.gradient(He,T,Ve,z(Ee),we,"stroke")}},Je=m.hasMarkers(R)||!G?"M5,0":E?"M5,-2":"M5,-3",rt=o.select(this),Me=rt.select(".legendfill").selectAll("path").data(he||ee?[Te]:[]);if(Me.enter().append("path").classed("js-fill",!0),Me.exit().remove(),Me.attr("d",Je+"h"+$+"v6h-"+$+"z").call(Oe),P||U){var ke=O(void 0,R.line,D,L);pe=l.minExtend(R,{line:{width:ke}}),ne=[l.minExtend(K,{trace:pe})]}var Le=rt.select(".legendlines").selectAll("path").data(P||U?[ne]:[]);Le.enter().append("path").classed("js-line",!0),Le.exit().remove(),Le.attr("d",Je+(U?"l"+$+",0.0001":"h"+$)).call(P?f.lineGroupStyle:Ke)}function ie(Te){var ye=b(Te),he=ye.anyFill,P=ye.anyLine,U=ye.showLine,ee=ye.showMarker,G=Te[0],E=G.trace,K=!ee&&!P&&!he&&m.hasText(E),R,ne;function pe(Me,ke,Le,He){var Ve=l.nestedProperty(E,Me).get(),qe=l.isArrayOrTypedArray(Ve)&&ke?ke(Ve):Ve;if(Z&&qe&&He!==void 0&&(qe=He),Le){if(qe<Le[0])return Le[0];if(qe>Le[1])return Le[1]}return qe}function xe(Me){return G._distinct&&G.index&&Me[G.index]?Me[G.index]:Me[0]}if(ee||K||U){var we={},Ee={};if(ee){we.mc=pe("marker.color",xe),we.mx=pe("marker.symbol",xe),we.mo=pe("marker.opacity",l.mean,[.2,1]),we.mlc=pe("marker.line.color",xe),we.mlw=pe("marker.line.width",l.mean,[0,5],_),Ee.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Oe=pe("marker.size",l.mean,[2,16],w);we.ms=Oe,Ee.marker.size=Oe}U&&(Ee.line={width:pe("line.width",xe,[0,10],L)}),K&&(we.tx="Aa",we.tp=pe("textposition",xe),we.ts=10,we.tc=pe("textfont.color",xe),we.tf=pe("textfont.family",xe),we.tw=pe("textfont.weight",xe),we.ty=pe("textfont.style",xe),we.tv=pe("textfont.variant",xe),we.tC=pe("textfont.textcase",xe),we.tE=pe("textfont.lineposition",xe),we.tS=pe("textfont.shadow",xe)),R=[l.minExtend(G,we)],ne=l.minExtend(E,Ee),ne.selectedpoints=null,ne.texttemplate=null}var Ke=o.select(this).select("g.legendpoints"),Je=Ke.selectAll("path.scatterpts").data(ee?R:[]);Je.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",j),Je.exit().remove(),Je.call(f.pointStyle,ne,T),ee&&(R[0].mrc=3);var rt=Ke.selectAll("g.pointtext").data(K?R:[]);rt.enter().append("g").classed("pointtext",!0).append("text").attr("transform",j),rt.exit().remove(),rt.selectAll("text").call(f.textPointStyle,ne,T)}function oe(Te){var ye=Te[0].trace,he=ye.type==="waterfall";if(Te[0]._distinct&&he){var P=Te[0].trace[Te[0].dir].marker;return Te[0].mc=P.color,Te[0].mlw=P.line.width,Te[0].mlc=P.line.color,Y(Te,this,"waterfall")}var U=[];ye.visible&&he&&(U=Te[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var ee=o.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(U);ee.enter().append("path").classed("legendwaterfall",!0).attr("transform",j).style("stroke-miterlimit",1),ee.exit().remove(),ee.each(function(G){var E=o.select(this),K=ye[G[0]].marker,R=O(void 0,K.line,C,_);E.attr("d",G[1]).style("stroke-width",R+"px").call(h.fill,K.color),R&&E.call(h.stroke,K.line.color)})}function V(Te){Y(Te,this)}function W(Te){Y(Te,this,"funnel")}function Y(Te,ye,he){var P=Te[0].trace,U=P.marker||{},ee=U.line||{},G=U.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",E=he?P.visible&&P.type===he:c.traceIs(P,"bar"),K=o.select(ye).select("g.legendpoints").selectAll("path.legend"+he).data(E?[Te]:[]);K.enter().append("path").classed("legend"+he,!0).attr("d",G).attr("transform",j),K.exit().remove(),K.each(function(R){var ne=o.select(this),pe=R[0],xe=O(pe.mlw,U.line,C,_);ne.style("stroke-width",xe+"px");var we=pe.mcc;if(!B._inHover&&"mc"in pe){var Ee=p(U),Oe=Ee.mid;Oe===void 0&&(Oe=(Ee.max+Ee.min)/2),we=f.tryColorscale(U,"")(Oe)}var Ke=we||pe.mc||U.color,Je=U.pattern,rt=Je&&f.getPatternAttr(Je.shape,0,"");if(rt){var Me=f.getPatternAttr(Je.bgcolor,0,null),ke=f.getPatternAttr(Je.fgcolor,0,null),Le=Je.fgopacity,He=S(Je.size,8,10),Ve=S(Je.solidity,.5,1),qe="legend-"+P.uid;ne.call(f.pattern,"legend",T,qe,rt,He,Ve,we,Je.fillmode,Me,ke,Le)}else ne.call(h.fill,Ke);xe&&h.stroke(ne,pe.mlc||ee.color)})}function Q(Te){var ye=Te[0].trace,he=o.select(this).select("g.legendpoints").selectAll("path.legendbox").data(ye.visible&&c.traceIs(ye,"box-violin")?[Te]:[]);he.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",j),he.exit().remove(),he.each(function(){var P=o.select(this);if((ye.boxpoints==="all"||ye.points==="all")&&h.opacity(ye.fillcolor)===0&&h.opacity((ye.line||{}).color)===0){var U=l.minExtend(ye,{marker:{size:Z?w:l.constrain(ye.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});he.call(f.pointStyle,U,T)}else{var ee=O(void 0,ye.line,C,_);P.style("stroke-width",ee+"px").call(h.fill,ye.fillcolor),ee&&h.stroke(P,ye.line.color)}})}function re(Te){var ye=Te[0].trace,he=o.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(ye.visible&&ye.type==="candlestick"?[Te,Te]:[]);he.enter().append("path").classed("legendcandle",!0).attr("d",function(P,U){return U?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",j).style("stroke-miterlimit",1),he.exit().remove(),he.each(function(P,U){var ee=o.select(this),G=ye[U?"increasing":"decreasing"],E=O(void 0,G.line,C,_);ee.style("stroke-width",E+"px").call(h.fill,G.fillcolor),E&&h.stroke(ee,G.line.color)})}function te(Te){var ye=Te[0].trace,he=o.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(ye.visible&&ye.type==="ohlc"?[Te,Te]:[]);he.enter().append("path").classed("legendohlc",!0).attr("d",function(P,U){return U?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",j).style("stroke-miterlimit",1),he.exit().remove(),he.each(function(P,U){var ee=o.select(this),G=ye[U?"increasing":"decreasing"],E=O(void 0,G.line,C,_);ee.style("fill","none").call(f.dashLine,G.line.dash,E),E&&h.stroke(ee,G.line.color)})}function le(Te){Se(Te,this,"pie")}function be(Te){Se(Te,this,"funnelarea")}function Se(Te,ye,he){var P=Te[0],U=P.trace,ee=he?U.visible&&U.type===he:c.traceIs(U,he),G=o.select(ye).select("g.legendpoints").selectAll("path.legend"+he).data(ee?[Te]:[]);if(G.enter().append("path").classed("legend"+he,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",j),G.exit().remove(),G.size()){var E=U.marker||{},K=O(y(E.line.width,P.pts),E.line,C,_),R="pieLike",ne=l.minExtend(U,{marker:{line:{width:K}}},R),pe=l.minExtend(P,{trace:ne},R);d(G,pe,ne,T)}}function ze(Te){var ye=Te[0].trace,he,P=[];if(ye.visible)switch(ye.type){case"histogram2d":case"heatmap":P=[["M-15,-2V4H15V-2Z"]],he=!0;break;case"choropleth":case"choroplethmapbox":case"choroplethmap":P=[["M-6,-6V6H6V-6Z"]],he=!0;break;case"densitymapbox":case"densitymap":P=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],he="radial";break;case"cone":P=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],he=!1;break;case"streamtube":P=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],he=!1;break;case"surface":P=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],he=!0;break;case"mesh3d":P=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],he=!1;break;case"volume":P=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],he=!0;break;case"isosurface":P=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],he=!1;break}var U=o.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(P);U.enter().append("path").classed("legend3dandfriends",!0).attr("transform",j).style("stroke-miterlimit",1),U.exit().remove(),U.each(function(ee,G){var E=o.select(this),K=p(ye),R=K.colorscale,ne=K.reversescale,pe=function(Oe){if(Oe.size()){var Ke="legendfill-"+ye.uid;f.gradient(Oe,T,Ke,z(ne,he==="radial"),R,"fill")}},xe;if(R){if(!he){var Ee=R.length;xe=G===0?R[ne?Ee-1:0][1]:G===1?R[ne?0:Ee-1][1]:R[Math.floor((Ee-1)/2)][1]}}else{var we=ye.vertexcolor||ye.facecolor||ye.color;xe=l.isArrayOrTypedArray(we)?we[G]||we[0]:we}E.attr("d",ee[0]),xe?E.call(h.fill,xe):E.call(pe)})}};function z(M,I){var T=I?"radial":"horizontal";return T+(M?"":"reversed")}function b(M){var I=M[0].trace,T=I.contours,B=m.hasLines(I),H=m.hasMarkers(I),Z=I.visible&&I.fill&&I.fill!=="none",$=!1,N=!1;if(T){var j=T.coloring;j==="lines"?$=!0:B=j==="none"||j==="heatmap"||T.showlines,T.type==="constraint"?Z=T._operation!=="=":(j==="fill"||j==="heatmap")&&(N=!0)}return{showMarker:H,showLine:B,showFill:Z,showGradientLine:$,showGradientFill:N,anyLine:B||$,anyFill:Z||N}}function S(M,I,T){return M&&l.isArrayOrTypedArray(M)?I:M>T?T:M}},308:function(i,s,a){"use strict";var o=a(7632);i.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},5832:function(i,s,a){"use strict";var o=a(3626),c=a(4122),l=a(5975),u=a(5188),f=a(8231).eraseActiveShape,h=a(4809),p=h._,m=i.exports={};m.toImage={name:"toImage",title:function(T){var B=T._context.toImageButtonOptions||{},H=B.format||"png";return H==="png"?p(T,"Download plot as a png"):p(T,"Download plot")},icon:u.camera,click:function(T){var B=T._context.toImageButtonOptions,H={format:B.format||"png"};h.notifier(p(T,"Taking snapshot - this may take a few seconds"),"long"),H.format!=="svg"&&h.isIE()&&(h.notifier(p(T,"IE only supports svg.  Changing format to svg."),"long"),H.format="svg"),["filename","width","height","scale"].forEach(function(Z){Z in B&&(H[Z]=B[Z])}),o.call("downloadImage",T,H).then(function(Z){h.notifier(p(T,"Snapshot succeeded")+" - "+Z,"long")}).catch(function(){h.notifier(p(T,"Sorry, there was a problem downloading your snapshot!"),"long")})}},m.sendDataToCloud={name:"sendDataToCloud",title:function(T){return p(T,"Edit in Chart Studio")},icon:u.disk,click:function(T){c.sendDataToCloud(T)}},m.editInChartStudio={name:"editInChartStudio",title:function(T){return p(T,"Edit in Chart Studio")},icon:u.pencil,click:function(T){c.sendDataToCloud(T)}},m.zoom2d={name:"zoom2d",_cat:"zoom",title:function(T){return p(T,"Zoom")},attr:"dragmode",val:"zoom",icon:u.zoombox,click:d},m.pan2d={name:"pan2d",_cat:"pan",title:function(T){return p(T,"Pan")},attr:"dragmode",val:"pan",icon:u.pan,click:d},m.select2d={name:"select2d",_cat:"select",title:function(T){return p(T,"Box Select")},attr:"dragmode",val:"select",icon:u.selectbox,click:d},m.lasso2d={name:"lasso2d",_cat:"lasso",title:function(T){return p(T,"Lasso Select")},attr:"dragmode",val:"lasso",icon:u.lasso,click:d},m.drawclosedpath={name:"drawclosedpath",title:function(T){return p(T,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:u.drawclosedpath,click:d},m.drawopenpath={name:"drawopenpath",title:function(T){return p(T,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:u.drawopenpath,click:d},m.drawline={name:"drawline",title:function(T){return p(T,"Draw line")},attr:"dragmode",val:"drawline",icon:u.drawline,click:d},m.drawrect={name:"drawrect",title:function(T){return p(T,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:u.drawrect,click:d},m.drawcircle={name:"drawcircle",title:function(T){return p(T,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:u.drawcircle,click:d},m.eraseshape={name:"eraseshape",title:function(T){return p(T,"Erase active shape")},icon:u.eraseshape,click:f},m.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(T){return p(T,"Zoom in")},attr:"zoom",val:"in",icon:u.zoom_plus,click:d},m.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(T){return p(T,"Zoom out")},attr:"zoom",val:"out",icon:u.zoom_minus,click:d},m.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(T){return p(T,"Autoscale")},attr:"zoom",val:"auto",icon:u.autoscale,click:d},m.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(T){return p(T,"Reset axes")},attr:"zoom",val:"reset",icon:u.home,click:d},m.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(T){return p(T,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:u.tooltip_basic,gravity:"ne",click:d},m.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(T){return p(T,"Compare data on hover")},attr:"hovermode",val:function(T){return T._fullLayout._isHoriz?"y":"x"},icon:u.tooltip_compare,gravity:"ne",click:d};function d(T,B){var H=B.currentTarget,Z=H.getAttribute("data-attr"),$=H.getAttribute("data-val")||!0,N=T._fullLayout,j={},O=l.list(T,null,!0),X=N._cartesianSpikesEnabled,ie,oe;if(Z==="zoom"){var V=$==="in"?.5:2,W=(1+V)/2,Y=(1-V)/2,Q;for(oe=0;oe<O.length;oe++)if(ie=O[oe],!ie.fixedrange)if(Q=ie._name,$==="auto")j[Q+".autorange"]=!0;else if($==="reset")ie._rangeInitial0===void 0&&ie._rangeInitial1===void 0?j[Q+".autorange"]=!0:ie._rangeInitial0===void 0?(j[Q+".autorange"]=ie._autorangeInitial,j[Q+".range"]=[null,ie._rangeInitial1]):ie._rangeInitial1===void 0?(j[Q+".range"]=[ie._rangeInitial0,null],j[Q+".autorange"]=ie._autorangeInitial):j[Q+".range"]=[ie._rangeInitial0,ie._rangeInitial1],ie._showSpikeInitial!==void 0&&(j[Q+".showspikes"]=ie._showSpikeInitial,X==="on"&&!ie._showSpikeInitial&&(X="off"));else{var re=[ie.r2l(ie.range[0]),ie.r2l(ie.range[1])],te=[W*re[0]+Y*re[1],W*re[1]+Y*re[0]];j[Q+".range[0]"]=ie.l2r(te[0]),j[Q+".range[1]"]=ie.l2r(te[1])}}else Z==="hovermode"&&($==="x"||$==="y")&&($=N._isHoriz?"y":"x",H.setAttribute("data-val",$)),j[Z]=$;N._cartesianSpikesEnabled=X,o.call("_guiRelayout",T,j)}m.zoom3d={name:"zoom3d",_cat:"zoom",title:function(T){return p(T,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:u.zoombox,click:y},m.pan3d={name:"pan3d",_cat:"pan",title:function(T){return p(T,"Pan")},attr:"scene.dragmode",val:"pan",icon:u.pan,click:y},m.orbitRotation={name:"orbitRotation",title:function(T){return p(T,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:u["3d_rotate"],click:y},m.tableRotation={name:"tableRotation",title:function(T){return p(T,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:u["z-axis"],click:y};function y(T,B){for(var H=B.currentTarget,Z=H.getAttribute("data-attr"),$=H.getAttribute("data-val")||!0,N=T._fullLayout._subplots.gl3d||[],j={},O=Z.split("."),X=0;X<N.length;X++)j[N[X]+"."+O[1]]=$;var ie=$==="pan"?$:"zoom";j.dragmode=ie,o.call("_guiRelayout",T,j)}m.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(T){return p(T,"Reset camera to default")},attr:"resetDefault",icon:u.home,click:x},m.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(T){return p(T,"Reset camera to last save")},attr:"resetLastSave",icon:u.movie,click:x};function x(T,B){for(var H=B.currentTarget,Z=H.getAttribute("data-attr"),$=Z==="resetLastSave",N=Z==="resetDefault",j=T._fullLayout,O=j._subplots.gl3d||[],X={},ie=0;ie<O.length;ie++){var oe=O[ie],V=oe+".camera",W=oe+".aspectratio",Y=oe+".aspectmode",Q=j[oe]._scene,re;$?(X[V+".up"]=Q.viewInitial.up,X[V+".eye"]=Q.viewInitial.eye,X[V+".center"]=Q.viewInitial.center,re=!0):N&&(X[V+".up"]=null,X[V+".eye"]=null,X[V+".center"]=null,re=!0),re&&(X[W+".x"]=Q.viewInitial.aspectratio.x,X[W+".y"]=Q.viewInitial.aspectratio.y,X[W+".z"]=Q.viewInitial.aspectratio.z,X[Y]=Q.viewInitial.aspectmode)}o.call("_guiRelayout",T,X)}m.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(T){return p(T,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:u.tooltip_basic,gravity:"ne",click:L};function w(T,B){var H=B.currentTarget,Z=H._previousVal,$=T._fullLayout,N=$._subplots.gl3d||[],j=["xaxis","yaxis","zaxis"],O={},X={};if(Z)X=Z,H._previousVal=null;else{for(var ie=0;ie<N.length;ie++){var oe=N[ie],V=$[oe],W=oe+".hovermode";O[W]=V.hovermode,X[W]=!1;for(var Y=0;Y<3;Y++){var Q=j[Y],re=oe+"."+Q+".showspikes";X[re]=!1,O[re]=V[Q].showspikes}}H._previousVal=O}return X}function L(T,B){var H=w(T,B);o.call("_guiRelayout",T,H)}m.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(T){return p(T,"Zoom in")},attr:"zoom",val:"in",icon:u.zoom_plus,click:_},m.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(T){return p(T,"Zoom out")},attr:"zoom",val:"out",icon:u.zoom_minus,click:_},m.resetGeo={name:"resetGeo",_cat:"reset",title:function(T){return p(T,"Reset")},attr:"reset",val:null,icon:u.autoscale,click:_},m.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(T){return p(T,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:u.tooltip_basic,gravity:"ne",click:C};function _(T,B){for(var H=B.currentTarget,Z=H.getAttribute("data-attr"),$=H.getAttribute("data-val")||!0,N=T._fullLayout,j=N._subplots.geo||[],O=0;O<j.length;O++){var X=j[O],ie=N[X];if(Z==="zoom"){var oe=ie.projection.scale,V=$==="in"?2*oe:.5*oe;o.call("_guiRelayout",T,X+".projection.scale",V)}}Z==="reset"&&I(T,"geo")}m.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(T){return p(T,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:u.tooltip_basic,gravity:"ne",click:C},m.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(T){return p(T,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:u.tooltip_basic,gravity:"ne",click:C};function D(T){var B=T._fullLayout;return B.hovermode?!1:B._has("cartesian")?B._isHoriz?"y":"x":"closest"}function C(T){var B=D(T);o.call("_guiRelayout",T,"hovermode",B)}m.resetViewSankey={name:"resetSankeyGroup",title:function(T){return p(T,"Reset view")},icon:u.home,click:function(T){for(var B={"node.groups":[],"node.x":[],"node.y":[]},H=0;H<T._fullData.length;H++){var Z=T._fullData[H]._viewInitial;B["node.groups"].push(Z.node.groups.slice()),B["node.x"].push(Z.node.x.slice()),B["node.y"].push(Z.node.y.slice())}o.call("restyle",T,B)}},m.toggleHover={name:"toggleHover",title:function(T){return p(T,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:u.tooltip_basic,gravity:"ne",click:function(T,B){var H=w(T,B);H.hovermode=D(T),o.call("_guiRelayout",T,H)}},m.resetViews={name:"resetViews",title:function(T){return p(T,"Reset views")},icon:u.home,click:function(T,B){var H=B.currentTarget;H.setAttribute("data-attr","zoom"),H.setAttribute("data-val","reset"),d(T,B),H.setAttribute("data-attr","resetLastSave"),x(T,B),I(T,"geo"),I(T,"mapbox"),I(T,"map")}},m.toggleSpikelines={name:"toggleSpikelines",title:function(T){return p(T,"Toggle Spike Lines")},icon:u.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(T){var B=T._fullLayout,H=B._cartesianSpikesEnabled;B._cartesianSpikesEnabled=H==="on"?"off":"on",o.call("_guiRelayout",T,z(T))}};function z(T){for(var B=T._fullLayout,H=B._cartesianSpikesEnabled==="on",Z=l.list(T,null,!0),$={},N=0;N<Z.length;N++){var j=Z[N];$[j._name+".showspikes"]=H?!0:j._showSpikeInitial}return $}m.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(T){return p(T,"Reset view")},attr:"reset",icon:u.home,click:function(T){I(T,"mapbox")}},m.resetViewMap={name:"resetViewMap",_cat:"resetView",title:function(T){return p(T,"Reset view")},attr:"reset",icon:u.home,click:function(T){I(T,"map")}},m.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(T){return p(T,"Zoom in")},attr:"zoom",val:"in",icon:u.zoom_plus,click:b},m.zoomInMap={name:"zoomInMap",_cat:"zoomin",title:function(T){return p(T,"Zoom in")},attr:"zoom",val:"in",icon:u.zoom_plus,click:S},m.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(T){return p(T,"Zoom out")},attr:"zoom",val:"out",icon:u.zoom_minus,click:b},m.zoomOutMap={name:"zoomOutMap",_cat:"zoomout",title:function(T){return p(T,"Zoom out")},attr:"zoom",val:"out",icon:u.zoom_minus,click:S};function b(T,B){M(T,B,"mapbox")}function S(T,B){M(T,B,"map")}function M(T,B,H){for(var Z=B.currentTarget,$=Z.getAttribute("data-val"),N=T._fullLayout,j=N._subplots[H]||[],O=1.05,X={},ie=0;ie<j.length;ie++){var oe=j[ie],V=N[oe].zoom,W=$==="in"?O*V:V/O;X[oe+".zoom"]=W}o.call("_guiRelayout",T,X)}function I(T,B){for(var H=T._fullLayout,Z=H._subplots[B]||[],$={},N=0;N<Z.length;N++)for(var j=Z[N],O=H[j]._subplot,X=O.viewInitial,ie=Object.keys(X),oe=0;oe<ie.length;oe++){var V=ie[oe];$[j+"."+V]=X[V]}o.call("_guiRelayout",T,$)}},7632:function(i,s,a){"use strict";var o=a(5832),c=Object.keys(o),l=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],u=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(l),f=[],h=function(p){if(u.indexOf(p._cat||p.name)===-1){var m=p.name,d=(p._cat||p.name).toLowerCase();f.indexOf(m)===-1&&f.push(m),f.indexOf(d)===-1&&f.push(d)}};c.forEach(function(p){h(o[p])}),f.sort(),i.exports={DRAW_MODES:l,backButtons:u,foreButtons:f}},64:function(i,s,a){"use strict";var o=a(4809),c=a(8766),l=a(8032),u=a(308);i.exports=function(h,p){var m=h.modebar||{},d=l.newContainer(p,"modebar");function y(w,L){return o.coerce(m,d,u,w,L)}y("orientation"),y("bgcolor",c.addOpacity(p.paper_bgcolor,.5));var x=c.contrast(c.rgb(p.modebar.bgcolor));y("color",c.addOpacity(x,.3)),y("activecolor",c.addOpacity(x,.7)),y("uirevision",p.uirevision),y("add"),y("remove")}},5433:function(i,s,a){"use strict";i.exports={moduleType:"component",name:"modebar",layoutAttributes:a(308),supplyLayoutDefaults:a(64),manage:a(5442)}},5442:function(i,s,a){"use strict";var o=a(5975),c=a(4726),l=a(3626),u=a(6040).isUnifiedHover,f=a(5393),h=a(5832),p=a(7632).DRAW_MODES,m=a(4809).extendDeep;i.exports=function(C){var z=C._fullLayout,b=C._context,S=z._modeBar;if(!b.displayModeBar&&!b.watermark){S&&(S.destroy(),delete z._modeBar);return}if(!Array.isArray(b.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(b.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var M=b.modeBarButtons,I;Array.isArray(M)&&M.length?I=_(M):!b.displayModeBar&&b.watermark?I=[]:I=d(C),S?S.update(C,I):z._modeBar=f(C,I)};function d(D){var C=D._fullLayout,z=D._fullData,b=D._context;function S(E,K){if(typeof K=="string"){if(K.toLowerCase()===E.toLowerCase())return!0}else{var R=K.name,ne=K._cat||K.name;if(R===E||ne===E.toLowerCase())return!0}return!1}var M=C.modebar.add;typeof M=="string"&&(M=[M]);var I=C.modebar.remove;typeof I=="string"&&(I=[I]);var T=b.modeBarButtonsToAdd.concat(M.filter(function(E){for(var K=0;K<b.modeBarButtonsToRemove.length;K++)if(S(E,b.modeBarButtonsToRemove[K]))return!1;return!0})),B=b.modeBarButtonsToRemove.concat(I.filter(function(E){for(var K=0;K<b.modeBarButtonsToAdd.length;K++)if(S(E,b.modeBarButtonsToAdd[K]))return!1;return!0})),H=C._has("cartesian"),Z=C._has("gl3d"),$=C._has("geo"),N=C._has("pie"),j=C._has("funnelarea"),O=C._has("gl2d"),X=C._has("ternary"),ie=C._has("mapbox"),oe=C._has("map"),V=C._has("polar"),W=C._has("smith"),Y=C._has("sankey"),Q=y(C),re=u(C.hovermode),te=[];function le(E){if(E.length){for(var K=[],R=0;R<E.length;R++){for(var ne=E[R],pe=h[ne],xe=pe.name.toLowerCase(),we=(pe._cat||pe.name).toLowerCase(),Ee=!1,Oe=0;Oe<B.length;Oe++){var Ke=B[Oe].toLowerCase();if(Ke===xe||Ke===we){Ee=!0;break}}Ee||K.push(h[ne])}te.push(K)}}var be=["toImage"];b.showEditInChartStudio?be.push("editInChartStudio"):b.showSendToCloud&&be.push("sendDataToCloud"),le(be);var Se=[],ze=[],Te=[],ye=[];(H||O||N||j||X)+$+Z+ie+oe+V+W>1?(ze=["toggleHover"],Te=["resetViews"]):$?(Se=["zoomInGeo","zoomOutGeo"],ze=["hoverClosestGeo"],Te=["resetGeo"]):Z?(ze=["hoverClosest3d"],Te=["resetCameraDefault3d","resetCameraLastSave3d"]):ie?(Se=["zoomInMapbox","zoomOutMapbox"],ze=["toggleHover"],Te=["resetViewMapbox"]):oe?(Se=["zoomInMap","zoomOutMap"],ze=["toggleHover"],Te=["resetViewMap"]):O?ze=["hoverClosestGl2d"]:N?ze=["hoverClosestPie"]:Y?(ze=["hoverClosestCartesian","hoverCompareCartesian"],Te=["resetViewSankey"]):ze=["toggleHover"],H&&ze.push("toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"),(w(z)||re)&&(ze=[]),(H||O)&&!Q&&(Se=["zoomIn2d","zoomOut2d","autoScale2d"],Te[0]!=="resetViews"&&(Te=["resetScale2d"])),Z?ye=["zoom3d","pan3d","orbitRotation","tableRotation"]:(H||O)&&!Q||X?ye=["zoom2d","pan2d"]:ie||oe||$?ye=["pan2d"]:V&&(ye=["zoom2d"]),x(z)&&ye.push("select2d","lasso2d");var he=[],P=function(E){he.indexOf(E)===-1&&ze.indexOf(E)!==-1&&he.push(E)};if(Array.isArray(T)){for(var U=[],ee=0;ee<T.length;ee++){var G=T[ee];typeof G=="string"?(G=G.toLowerCase(),p.indexOf(G)!==-1?(C._has("mapbox")||C._has("map")||C._has("cartesian"))&&ye.push(G):G==="togglespikelines"?P("toggleSpikelines"):G==="togglehover"?P("toggleHover"):G==="hovercompare"?P("hoverCompareCartesian"):G==="hoverclosest"?(P("hoverClosestCartesian"),P("hoverClosestGeo"),P("hoverClosest3d"),P("hoverClosestGl2d"),P("hoverClosestPie")):G==="v1hovermode"&&(P("hoverClosestCartesian"),P("hoverCompareCartesian"),P("hoverClosestGeo"),P("hoverClosest3d"),P("hoverClosestGl2d"),P("hoverClosestPie"))):U.push(G)}T=U}return le(ye),le(Se.concat(Te)),le(he),L(te,T)}function y(D){for(var C=o.list({_fullLayout:D},null,!0),z=0;z<C.length;z++)if(!C[z].fixedrange)return!1;return!0}function x(D){for(var C=!1,z=0;z<D.length&&!C;z++){var b=D[z];!b._module||!b._module.selectPoints||(l.traceIs(b,"scatter-like")?(c.hasMarkers(b)||c.hasText(b))&&(C=!0):l.traceIs(b,"box-violin")?(b.boxpoints==="all"||b.points==="all")&&(C=!0):C=!0)}return C}function w(D){for(var C=0;C<D.length;C++)if(!l.traceIs(D[C],"noHover"))return!1;return!0}function L(D,C){if(C.length)if(Array.isArray(C[0]))for(var z=0;z<C.length;z++)D.push(C[z]);else D.push(C);return D}function _(D){for(var C=m([],D),z=0;z<C.length;z++)for(var b=C[z],S=0;S<b.length;S++){var M=b[S];if(typeof M=="string")if(h[M]!==void 0)C[z][S]=h[M];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return C}},5393:function(i,s,a){"use strict";var o=a(5568),c=a(721),l=a(4809),u=a(5188),f=a(9697).version,h=new DOMParser;function p(x){this.container=x.container,this.element=document.createElement("div"),this.update(x.graphInfo,x.buttons),this.container.appendChild(this.element)}var m=p.prototype;m.update=function(x,w){this.graphInfo=x;var L=this.graphInfo._context,_=this.graphInfo._fullLayout,D="modebar-"+_._uid;this.element.setAttribute("id",D),this._uid=D,this.element.className="modebar",L.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),_.modebar.orientation==="v"&&(this.element.className+=" vertical",w=w.reverse());var C=_.modebar,z=L.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";l.deleteRelatedStyleRule(D),l.addRelatedStyleRule(D,z+"#"+D+" .modebar-group","background-color: "+C.bgcolor),l.addRelatedStyleRule(D,"#"+D+" .modebar-btn .icon path","fill: "+C.color),l.addRelatedStyleRule(D,"#"+D+" .modebar-btn:hover .icon path","fill: "+C.activecolor),l.addRelatedStyleRule(D,"#"+D+" .modebar-btn.active .icon path","fill: "+C.activecolor);var b=!this.hasButtons(w),S=this.hasLogo!==L.displaylogo,M=this.locale!==L.locale;if(this.locale=L.locale,(b||S||M)&&(this.removeAllButtons(),this.updateButtons(w),L.watermark||L.displaylogo)){var I=this.getLogo();L.watermark&&(I.className=I.className+" watermark"),_.modebar.orientation==="v"?this.element.insertBefore(I,this.element.childNodes[0]):this.element.appendChild(I),this.hasLogo=!0}this.updateActiveButton()},m.updateButtons=function(x){var w=this;this.buttons=x,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(L){var _=w.createGroup();L.forEach(function(D){var C=D.name;if(!C)throw new Error("must provide button 'name' in button config");if(w.buttonsNames.indexOf(C)!==-1)throw new Error("button name '"+C+"' is taken");w.buttonsNames.push(C);var z=w.createButton(D);w.buttonElements.push(z),_.appendChild(z)}),w.element.appendChild(_)})},m.createGroup=function(){var x=document.createElement("div");return x.className="modebar-group",x},m.createButton=function(x){var w=this,L=document.createElement("a");L.setAttribute("rel","tooltip"),L.className="modebar-btn";var _=x.title;_===void 0?_=x.name:typeof _=="function"&&(_=_(this.graphInfo)),(_||_===0)&&L.setAttribute("data-title",_),x.attr!==void 0&&L.setAttribute("data-attr",x.attr);var D=x.val;D!==void 0&&(typeof D=="function"&&(D=D(this.graphInfo)),L.setAttribute("data-val",D));var C=x.click;if(typeof C!="function")throw new Error("must provide button 'click' function in button config");L.addEventListener("click",function(b){x.click(w.graphInfo,b),w.updateActiveButton(b.currentTarget)}),L.setAttribute("data-toggle",x.toggle||!1),x.toggle&&o.select(L).classed("active",!0);var z=x.icon;return typeof z=="function"?L.appendChild(z()):L.appendChild(this.createIcon(z||u.question)),L.setAttribute("data-gravity",x.gravity||"n"),L},m.createIcon=function(x){var w=c(x.height)?Number(x.height):x.ascent-x.descent,L="http://www.w3.org/2000/svg",_;if(x.path){_=document.createElementNS(L,"svg"),_.setAttribute("viewBox",[0,0,x.width,w].join(" ")),_.setAttribute("class","icon");var D=document.createElementNS(L,"path");D.setAttribute("d",x.path),x.transform?D.setAttribute("transform",x.transform):x.ascent!==void 0&&D.setAttribute("transform","matrix(1 0 0 -1 0 "+x.ascent+")"),_.appendChild(D)}if(x.svg){var C=h.parseFromString(x.svg,"application/xml");_=C.childNodes[0]}return _.setAttribute("height","1em"),_.setAttribute("width","1em"),_},m.updateActiveButton=function(x){var w=this.graphInfo._fullLayout,L=x!==void 0?x.getAttribute("data-attr"):null;this.buttonElements.forEach(function(_){var D=_.getAttribute("data-val")||!0,C=_.getAttribute("data-attr"),z=_.getAttribute("data-toggle")==="true",b=o.select(_);if(z)C===L&&b.classed("active",!b.classed("active"));else{var S=C===null?C:l.nestedProperty(w,C).get();b.classed("active",S===D)}})},m.hasButtons=function(x){var w=this.buttons;if(!w||x.length!==w.length)return!1;for(var L=0;L<x.length;++L){if(x[L].length!==w[L].length)return!1;for(var _=0;_<x[L].length;_++)if(x[L][_].name!==w[L][_].name)return!1}return!0};function d(x){return x+" (v"+f+")"}m.getLogo=function(){var x=this.createGroup(),w=document.createElement("a");return w.href="https://plotly.com/",w.target="_blank",w.setAttribute("data-title",d(l._(this.graphInfo,"Produced with Plotly.js"))),w.className="modebar-btn plotlyjsicon modebar-btn--logo",w.appendChild(this.createIcon(u.newplotlylogo)),x.appendChild(w),x},m.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},m.destroy=function(){l.removeElement(this.container.querySelector(".modebar")),l.deleteRelatedStyleRule(this._uid)};function y(x,w){var L=x._fullLayout,_=new p({graphInfo:x,container:L._modebardiv.node(),buttons:w});return L._privateplot&&o.select(_.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),_}i.exports=y},1032:function(i,s,a){"use strict";var o=a(337),c=a(229),l=a(8032).templatedArray,u=l("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});i.exports={visible:{valType:"boolean",editType:"plot"},buttons:u,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:o({editType:"plot"}),bgcolor:{valType:"color",dflt:c.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:c.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},8508:function(i){"use strict";i.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},6255:function(i,s,a){"use strict";var o=a(4809),c=a(8766),l=a(8032),u=a(9008),f=a(1032),h=a(8508);i.exports=function(y,x,w,L,_){var D=y.rangeselector||{},C=l.newContainer(x,"rangeselector");function z(T,B){return o.coerce(D,C,f,T,B)}var b=u(D,C,{name:"buttons",handleItemDefaults:p,calendar:_}),S=z("visible",b.length>0);if(S){var M=m(x,w,L);z("x",M[0]),z("y",M[1]),o.noneOrAll(y,x,["x","y"]),z("xanchor"),z("yanchor"),o.coerceFont(z,"font",w.font);var I=z("bgcolor");z("activecolor",c.contrast(I,h.lightAmount,h.darkAmount)),z("bordercolor"),z("borderwidth")}};function p(d,y,x,w){var L=w.calendar;function _(z,b){return o.coerce(d,y,f.buttons,z,b)}var D=_("visible");if(D){var C=_("step");C!=="all"&&(L&&L!=="gregorian"&&(C==="month"||C==="year")?y.stepmode="backward":_("stepmode"),_("count")),_("label")}}function m(d,y,x){for(var w=x.filter(function(C){return y[C].anchor===d._id}),L=0,_=0;_<w.length;_++){var D=y[w[_]].domain;D&&(L=Math.max(D[1],L))}return[d.domain[0],L+h.yPad]}},5431:function(i,s,a){"use strict";var o=a(5568),c=a(3626),l=a(4122),u=a(8766),f=a(2203),h=a(4809),p=h.strTranslate,m=a(635),d=a(5975),y=a(4530),x=y.LINE_SPACING,w=y.FROM_TL,L=y.FROM_BR,_=a(8508),D=a(6383);i.exports=function(Z){var $=Z._fullLayout,N=$._infolayer.selectAll(".rangeselector").data(C(Z),z);N.enter().append("g").classed("rangeselector",!0),N.exit().remove(),N.style({cursor:"pointer","pointer-events":"all"}),N.each(function(j){var O=o.select(this),X=j,ie=X.rangeselector,oe=O.selectAll("g.button").data(h.filterVisible(ie.buttons));oe.enter().append("g").classed("button",!0),oe.exit().remove(),oe.each(function(V){var W=o.select(this),Y=D(X,V);V._isActive=b(X,V,Y),W.call(S,ie,V),W.call(I,ie,V,Z),W.on("click",function(){Z._dragged||c.call("_guiRelayout",Z,Y)}),W.on("mouseover",function(){V._isHovered=!0,W.call(S,ie,V)}),W.on("mouseout",function(){V._isHovered=!1,W.call(S,ie,V)})}),B(Z,oe,ie,X._name,O)})};function C(H){for(var Z=d.list(H,"x",!0),$=[],N=0;N<Z.length;N++){var j=Z[N];j.rangeselector&&j.rangeselector.visible&&$.push(j)}return $}function z(H){return H._id}function b(H,Z,$){if(Z.step==="all")return H.autorange===!0;var N=Object.keys($);return H.range[0]===$[N[0]]&&H.range[1]===$[N[1]]}function S(H,Z,$){var N=h.ensureSingle(H,"rect","selector-rect",function(j){j.attr("shape-rendering","crispEdges")});N.attr({rx:_.rx,ry:_.ry}),N.call(u.stroke,Z.bordercolor).call(u.fill,M(Z,$)).style("stroke-width",Z.borderwidth+"px")}function M(H,Z){return Z._isActive||Z._isHovered?H.activecolor:H.bgcolor}function I(H,Z,$,N){function j(X){m.convertToTspans(X,N)}var O=h.ensureSingle(H,"text","selector-text",function(X){X.attr("text-anchor","middle")});O.call(f.font,Z.font).text(T($,N._fullLayout._meta)).call(j)}function T(H,Z){return H.label?Z?h.templateString(H.label,Z):H.label:H.step==="all"?"all":H.count+H.step.charAt(0)}function B(H,Z,$,N,j){var O=0,X=0,ie=$.borderwidth;Z.each(function(){var re=o.select(this),te=re.select(".selector-text"),le=$.font.size*x,be=Math.max(le*m.lineCount(te),16)+3;X=Math.max(X,be)}),Z.each(function(){var re=o.select(this),te=re.select(".selector-rect"),le=re.select(".selector-text"),be=le.node()&&f.bBox(le.node()).width,Se=$.font.size*x,ze=m.lineCount(le),Te=Math.max(be+10,_.minButtonWidth);re.attr("transform",p(ie+O,ie)),te.attr({x:0,y:0,width:Te,height:X}),m.positionText(le,Te/2,X/2-(ze-1)*Se/2+3),O+=Te+5});var oe=H._fullLayout._size,V=oe.l+oe.w*$.x,W=oe.t+oe.h*(1-$.y),Y="left";h.isRightAnchor($)&&(V-=O,Y="right"),h.isCenterAnchor($)&&(V-=O/2,Y="center");var Q="top";h.isBottomAnchor($)&&(W-=X,Q="bottom"),h.isMiddleAnchor($)&&(W-=X/2,Q="middle"),O=Math.ceil(O),X=Math.ceil(X),V=Math.round(V),W=Math.round(W),l.autoMargin(H,N+"-range-selector",{x:$.x,y:$.y,l:O*w[Y],r:O*L[Y],b:X*L[Q],t:X*w[Q]}),j.attr("transform",p(V,W))}},6383:function(i,s,a){"use strict";var o=a(936),c=a(4809).titleCase;i.exports=function(f,h){var p=f._name,m={};if(h.step==="all")m[p+".autorange"]=!0;else{var d=l(f,h);m[p+".range[0]"]=d[0],m[p+".range[1]"]=d[1]}return m};function l(u,f){var h=u.range,p=new Date(u.r2l(h[1])),m=f.step,d=o["utc"+c(m)],y=f.count,x;switch(f.stepmode){case"backward":x=u.l2r(+d.offset(p,-y));break;case"todate":var w=d.offset(p,-y);x=u.l2r(+d.ceil(w));break}var L=h[1];return[x,L]}},4453:function(i,s,a){"use strict";i.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:a(1032)}}},layoutAttributes:a(1032),handleDefaults:a(6255),draw:a(5431)}},3608:function(i,s,a){"use strict";var o=a(229);i.exports={bgcolor:{valType:"color",dflt:o.background,editType:"plot"},bordercolor:{valType:"color",dflt:o.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},6223:function(i,s,a){"use strict";var o=a(5975).list,c=a(2919).getAutoRange,l=a(604);i.exports=function(f){for(var h=o(f,"x",!0),p=0;p<h.length;p++){var m=h[p],d=m[l.name];d&&d.visible&&d.autorange&&(d._input.autorange=!0,d._input.range=d.range=c(f,m))}}},604:function(i){"use strict";i.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},1295:function(i,s,a){"use strict";var o=a(4809),c=a(8032),l=a(5975),u=a(3608),f=a(6249);i.exports=function(p,m,d){var y=p[d],x=m[d];if(!(y.rangeslider||m._requestRangeslider[x._id]))return;o.isPlainObject(y.rangeslider)||(y.rangeslider={});var w=y.rangeslider,L=c.newContainer(x,"rangeslider");function _(N,j){return o.coerce(w,L,u,N,j)}var D,C;function z(N,j){return o.coerce(D,C,f,N,j)}var b=_("visible");if(b){_("bgcolor",m.plot_bgcolor),_("bordercolor"),_("borderwidth"),_("thickness"),_("autorange",!x.isValidRange(w.range)),_("range");var S=m._subplots;if(S)for(var M=S.cartesian.filter(function(N){return N.substr(0,N.indexOf("y"))===l.name2id(d)}).map(function(N){return N.substr(N.indexOf("y"),N.length)}),I=o.simpleMap(M,l.id2name),T=0;T<I.length;T++){var B=I[T];D=w[B]||{},C=c.newContainer(L,B,"yaxis");var H=m[B],Z;D.range&&H.isValidRange(D.range)&&(Z="fixed");var $=z("rangemode",Z);$!=="match"&&z("range",H.range.slice())}L._input=w}}},8887:function(i,s,a){"use strict";var o=a(5568),c=a(3626),l=a(4122),u=a(4809),f=u.strTranslate,h=a(2203),p=a(8766),m=a(7240),d=a(84),y=a(5975),x=a(4751),w=a(7983),L=a(604);i.exports=function(Z){for(var $=Z._fullLayout,N=$._rangeSliderData,j=0;j<N.length;j++){var O=N[j][L.name];O._clipId=O._id+"-"+$._uid}function X(oe){return oe._name}var ie=$._infolayer.selectAll("g."+L.containerClassName).data(N,X);ie.exit().each(function(oe){var V=oe[L.name];$._topdefs.select("#"+V._clipId).remove()}).remove(),N.length!==0&&(ie.enter().append("g").classed(L.containerClassName,!0).attr("pointer-events","all"),ie.each(function(oe){var V=o.select(this),W=oe[L.name],Y=$[y.id2name(oe.anchor)],Q=W[y.id2name(oe.anchor)];if(W.range){var re=u.simpleMap(W.range,oe.r2l),te=u.simpleMap(oe.range,oe.r2l),le;te[0]<te[1]?le=[Math.min(re[0],te[0]),Math.max(re[1],te[1])]:le=[Math.max(re[0],te[0]),Math.min(re[1],te[1])],W.range=W._input.range=u.simpleMap(le,oe.l2r)}oe.cleanRange("rangeslider.range");var be=$._size,Se=oe.domain;W._width=be.w*(Se[1]-Se[0]);var ze=Math.round(be.l+be.w*Se[0]),Te=Math.round(be.t+be.h*(1-oe._counterDomainMin)+(oe.side==="bottom"?oe._depth:0)+W._offsetShift+L.extraPad);V.attr("transform",f(ze,Te)),W._rl=u.simpleMap(W.range,oe.r2l);var ye=W._rl[0],he=W._rl[1],P=he-ye;if(W.p2d=function(we){return we/W._width*P+ye},W.d2p=function(we){return(we-ye)/P*W._width},oe.rangebreaks){var U=oe.locateBreaks(ye,he);if(U.length){var ee,G,E=0;for(ee=0;ee<U.length;ee++)G=U[ee],E+=G.max-G.min;var K=W._width/(he-ye-E),R=[-K*ye];for(ee=0;ee<U.length;ee++)G=U[ee],R.push(R[R.length-1]-K*(G.max-G.min));for(W.d2p=function(we){for(var Ee=R[0],Oe=0;Oe<U.length;Oe++){var Ke=U[Oe];if(we>=Ke.max)Ee=R[Oe+1];else if(we<Ke.min)break}return Ee+K*we},ee=0;ee<U.length;ee++)G=U[ee],G.pmin=W.d2p(G.min),G.pmax=W.d2p(G.max);W.p2d=function(we){for(var Ee=R[0],Oe=0;Oe<U.length;Oe++){var Ke=U[Oe];if(we>=Ke.pmax)Ee=R[Oe+1];else if(we<Ke.pmin)break}return(we-Ee)/K}}}if(Q.rangemode!=="match"){var ne=Y.r2l(Q.range[0]),pe=Y.r2l(Q.range[1]),xe=pe-ne;W.d2pOppAxis=function(we){return(we-ne)/xe*W._height}}V.call(b,Z,oe,W).call(S,Z,oe,W).call(M,Z,oe,W).call(T,Z,oe,W,Q).call(B,Z,oe,W).call(H,Z,oe,W),D(V,Z,oe,W),z(V,Z,oe,W,Y,Q),oe.side==="bottom"&&m.draw(Z,oe._id+"title",{propContainer:oe,propName:oe._name+".title",placeholder:$._dfltTitle.x,attributes:{x:oe._offset+oe._length/2,y:Te+W._height+W._offsetShift+10+1.5*oe.title.font.size,"text-anchor":"middle"}})}))};function _(Z){return typeof Z.clientX=="number"?Z.clientX:Z.touches&&Z.touches.length>0?Z.touches[0].clientX:0}function D(Z,$,N,j){if($._context.staticPlot)return;var O=Z.select("rect."+L.slideBoxClassName).node(),X=Z.select("rect."+L.grabAreaMinClassName).node(),ie=Z.select("rect."+L.grabAreaMaxClassName).node();function oe(){var V=o.event,W=V.target,Y=_(V),Q=Y-Z.node().getBoundingClientRect().left,re=j.d2p(N._rl[0]),te=j.d2p(N._rl[1]),le=x.coverSlip();this.addEventListener("touchmove",be),this.addEventListener("touchend",Se),le.addEventListener("mousemove",be),le.addEventListener("mouseup",Se);function be(ze){var Te=_(ze),ye=+Te-Y,he,P,U;switch(W){case O:if(U="ew-resize",re+ye>N._length||te+ye<0)return;he=re+ye,P=te+ye;break;case X:if(U="col-resize",re+ye>N._length)return;he=re+ye,P=te;break;case ie:if(U="col-resize",te+ye<0)return;he=re,P=te+ye;break;default:U="ew-resize",he=Q,P=Q+ye;break}if(P<he){var ee=P;P=he,he=ee}j._pixelMin=he,j._pixelMax=P,w(o.select(le),U),C(Z,$,N,j)}function Se(){le.removeEventListener("mousemove",be),le.removeEventListener("mouseup",Se),this.removeEventListener("touchmove",be),this.removeEventListener("touchend",Se),u.removeElement(le)}}Z.on("mousedown",oe),Z.on("touchstart",oe)}function C(Z,$,N,j){function O(oe){return N.l2r(u.constrain(oe,j._rl[0],j._rl[1]))}var X=O(j.p2d(j._pixelMin)),ie=O(j.p2d(j._pixelMax));window.requestAnimationFrame(function(){c.call("_guiRelayout",$,N._name+".range",[X,ie])})}function z(Z,$,N,j,O,X){var ie=L.handleWidth/2;function oe(ze){return u.constrain(ze,0,j._width)}function V(ze){return u.constrain(ze,0,j._height)}function W(ze){return u.constrain(ze,-ie,j._width+ie)}var Y=oe(j.d2p(N._rl[0])),Q=oe(j.d2p(N._rl[1]));if(Z.select("rect."+L.slideBoxClassName).attr("x",Y).attr("width",Q-Y),Z.select("rect."+L.maskMinClassName).attr("width",Y),Z.select("rect."+L.maskMaxClassName).attr("x",Q).attr("width",j._width-Q),X.rangemode!=="match"){var re=j._height-V(j.d2pOppAxis(O._rl[1])),te=j._height-V(j.d2pOppAxis(O._rl[0]));Z.select("rect."+L.maskMinOppAxisClassName).attr("x",Y).attr("height",re).attr("width",Q-Y),Z.select("rect."+L.maskMaxOppAxisClassName).attr("x",Y).attr("y",te).attr("height",j._height-te).attr("width",Q-Y),Z.select("rect."+L.slideBoxClassName).attr("y",re).attr("height",te-re)}var le=.5,be=Math.round(W(Y-ie))-le,Se=Math.round(W(Q-ie))+le;Z.select("g."+L.grabberMinClassName).attr("transform",f(be,le)),Z.select("g."+L.grabberMaxClassName).attr("transform",f(Se,le))}function b(Z,$,N,j){var O=u.ensureSingle(Z,"rect",L.bgClassName,function(V){V.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),X=j.borderwidth%2===0?j.borderwidth:j.borderwidth-1,ie=-j._offsetShift,oe=h.crispRound($,j.borderwidth);O.attr({width:j._width+X,height:j._height+X,transform:f(ie,ie),"stroke-width":oe}).call(p.stroke,j.bordercolor).call(p.fill,j.bgcolor)}function S(Z,$,N,j){var O=$._fullLayout,X=u.ensureSingleById(O._topdefs,"clipPath",j._clipId,function(ie){ie.append("rect").attr({x:0,y:0})});X.select("rect").attr({width:j._width,height:j._height})}function M(Z,$,N,j){var O=$.calcdata,X=Z.selectAll("g."+L.rangePlotClassName).data(N._subplotsWith,u.identity);X.enter().append("g").attr("class",function(oe){return L.rangePlotClassName+" "+oe}).call(h.setClipUrl,j._clipId,$),X.order(),X.exit().remove();var ie;X.each(function(oe,V){var W=o.select(this),Y=V===0,Q=y.getFromId($,oe,"y"),re=Q._name,te=j[re],le={data:[],layout:{xaxis:{type:N.type,domain:[0,1],range:j.range.slice(),calendar:N.calendar},width:j._width,height:j._height,margin:{t:0,b:0,l:0,r:0}},_context:$._context};N.rangebreaks&&(le.layout.xaxis.rangebreaks=N.rangebreaks),le.layout[re]={type:Q.type,domain:[0,1],range:te.rangemode!=="match"?te.range.slice():Q.range.slice(),calendar:Q.calendar},Q.rangebreaks&&(le.layout[re].rangebreaks=Q.rangebreaks),l.supplyDefaults(le);var be=le._fullLayout.xaxis,Se=le._fullLayout[re];be.clearCalc(),be.setScale(),Se.clearCalc(),Se.setScale();var ze={id:oe,plotgroup:W,xaxis:be,yaxis:Se,isRangePlot:!0};Y?ie=ze:(ze.mainplot="xy",ze.mainplotinfo=ie),d.rangePlot($,ze,I(O,oe))})}function I(Z,$){for(var N=[],j=0;j<Z.length;j++){var O=Z[j],X=O[0].trace;X.xaxis+X.yaxis===$&&N.push(O)}return N}function T(Z,$,N,j,O){var X=u.ensureSingle(Z,"rect",L.maskMinClassName,function(W){W.attr({x:0,y:0,"shape-rendering":"crispEdges"})});X.attr("height",j._height).call(p.fill,L.maskColor);var ie=u.ensureSingle(Z,"rect",L.maskMaxClassName,function(W){W.attr({y:0,"shape-rendering":"crispEdges"})});if(ie.attr("height",j._height).call(p.fill,L.maskColor),O.rangemode!=="match"){var oe=u.ensureSingle(Z,"rect",L.maskMinOppAxisClassName,function(W){W.attr({y:0,"shape-rendering":"crispEdges"})});oe.attr("width",j._width).call(p.fill,L.maskOppAxisColor);var V=u.ensureSingle(Z,"rect",L.maskMaxOppAxisClassName,function(W){W.attr({y:0,"shape-rendering":"crispEdges"})});V.attr("width",j._width).style("border-top",L.maskOppBorder).call(p.fill,L.maskOppAxisColor)}}function B(Z,$,N,j){if(!$._context.staticPlot){var O=u.ensureSingle(Z,"rect",L.slideBoxClassName,function(X){X.attr({y:0,cursor:L.slideBoxCursor,"shape-rendering":"crispEdges"})});O.attr({height:j._height,fill:L.slideBoxFill})}}function H(Z,$,N,j){var O=u.ensureSingle(Z,"g",L.grabberMinClassName),X=u.ensureSingle(Z,"g",L.grabberMaxClassName),ie={x:0,width:L.handleWidth,rx:L.handleRadius,fill:p.background,stroke:p.defaultLine,"stroke-width":L.handleStrokeWidth,"shape-rendering":"crispEdges"},oe={y:Math.round(j._height/4),height:Math.round(j._height/2)},V=u.ensureSingle(O,"rect",L.handleMinClassName,function(te){te.attr(ie)});V.attr(oe);var W=u.ensureSingle(X,"rect",L.handleMaxClassName,function(te){te.attr(ie)});W.attr(oe);var Y={width:L.grabAreaWidth,x:0,y:0,fill:L.grabAreaFill,cursor:$._context.staticPlot?void 0:L.grabAreaCursor},Q=u.ensureSingle(O,"rect",L.grabAreaMinClassName,function(te){te.attr(Y)});Q.attr("height",j._height);var re=u.ensureSingle(X,"rect",L.grabAreaMaxClassName,function(te){te.attr(Y)});re.attr("height",j._height)}},400:function(i,s,a){"use strict";var o=a(5975),c=a(635),l=a(604),u=a(4530).LINE_SPACING,f=l.name;function h(p){var m=p&&p[f];return m&&m.visible}s.isVisible=h,s.makeData=function(p){var m=o.list({_fullLayout:p},"x",!0),d=p.margin,y=[];if(!p._has("gl2d"))for(var x=0;x<m.length;x++){var w=m[x];if(h(w)){y.push(w);var L=w[f];L._id=f+w._id,L._height=(p.height-d.b-d.t)*L.thickness,L._offsetShift=Math.floor(L.borderwidth/2)}}p._rangeSliderData=y},s.autoMarginOpts=function(p,m){var d=p._fullLayout,y=m[f],x=m._id.charAt(0),w=0,L=0;if(m.side==="bottom"&&(w=m._depth,m.title.text!==d._dfltTitle[x])){L=1.5*m.title.font.size+10+y._offsetShift;var _=(m.title.text.match(c.BR_TAG_ALL)||[]).length;L+=_*m.title.font.size*u}return{x:0,y:m._counterDomainMin,l:0,r:0,t:0,b:y._height+w+Math.max(d.margin.b,L),pad:l.extraPad+y._offsetShift*2}}},5429:function(i,s,a){"use strict";var o=a(4809),c=a(3608),l=a(6249),u=a(400);i.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:o.extendFlat({},c,{yaxis:l})}}},layoutAttributes:a(3608),handleDefaults:a(1295),calcAutorange:a(6223),draw:a(8887),isVisible:u.isVisible,makeData:u.makeData,autoMarginOpts:u.autoMarginOpts}},6249:function(i){"use strict";i.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},4327:function(i,s,a){"use strict";var o=a(222),c=a(6640).line,l=a(4850).T,u=a(3049).extendFlat,f=a(3582).overrideAll,h=a(8032).templatedArray,p=a(5081);i.exports=f(h("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:u({},o.xref,{}),yref:u({},o.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:c.color,width:u({},c.width,{min:1,dflt:1}),dash:u({},l,{dflt:"dot"})}}),"arraydraw","from-root")},8865:function(i){"use strict";i.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},2272:function(i,s,a){"use strict";var o=a(4809),c=a(9714),l=a(9008),u=a(4327),f=a(9728);i.exports=function(m,d){l(m,d,{name:"selections",handleItemDefaults:h});for(var y=d.selections,x=0;x<y.length;x++){var w=y[x];w&&w.path===void 0&&(w.x0===void 0||w.x1===void 0||w.y0===void 0||w.y1===void 0)&&(d.selections[x]=null)}};function h(p,m,d){function y(O,X){return o.coerce(p,m,u,O,X)}var x=y("path"),w=x?"path":"rect",L=y("type",w),_=L!=="path";_&&delete m.path,y("opacity"),y("line.color"),y("line.width"),y("line.dash");for(var D=["x","y"],C=0;C<2;C++){var z=D[C],b={_fullLayout:d},S,M,I,T=c.coerceRef(p,m,b,z);if(S=c.getFromId(b,T),S._selectionIndices.push(m._index),I=f.rangeToShapePosition(S),M=f.shapePositionToRange(S),_){var B=z+"0",H=z+"1",Z=p[B],$=p[H];p[B]=M(p[B],!0),p[H]=M(p[H],!0),c.coercePosition(m,b,y,T,B),c.coercePosition(m,b,y,T,H);var N=m[B],j=m[H];N!==void 0&&j!==void 0&&(m[B]=I(N),m[H]=I(j),p[B]=Z,p[H]=$)}}_&&o.noneOrAll(p,m,["x0","x1","y0","y1"])}},7028:function(i,s,a){"use strict";var o=a(1055).readPaths,c=a(561),l=a(8534).clearOutlineControllers,u=a(8766),f=a(2203),h=a(8032).arrayEditor,p=a(9728),m=p.getPathString;i.exports={draw:d,drawOne:x,activateLastSelection:_};function d(C){var z=C._fullLayout;l(C),z._selectionLayer.selectAll("path").remove();for(var b in z._plots){var S=z._plots[b].selectionLayer;S&&S.selectAll("path").remove()}for(var M=0;M<z.selections.length;M++)x(C,M)}function y(C){return C._context.editSelection}function x(C,z){C._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+z+'"]').remove();var b=p.makeSelectionsOptionsAndPlotinfo(C,z),S=b.options,M=b.plotinfo;if(!S._input)return;I(C._fullLayout._selectionLayer);function I(T){var B=m(C,S),H={"data-index":z,"fill-rule":"evenodd",d:B},Z=S.opacity,$="rgba(0,0,0,0)",N=S.line.color||u.contrast(C._fullLayout.plot_bgcolor),j=S.line.width,O=S.line.dash;j||(j=5,O="solid");var X=y(C)&&C._fullLayout._activeSelectionIndex===z;X&&($=C._fullLayout.activeselection.fillcolor,Z=C._fullLayout.activeselection.opacity);for(var ie=[],oe=1;oe>=0;oe--){var V=T.append("path").attr(H).style("opacity",oe?.1:Z).call(u.stroke,N).call(u.fill,$).call(f.dashLine,oe?"solid":O,oe?4+j:j);if(w(V,C,S),X){var W=h(C.layout,"selections",S);V.style({cursor:"move"});var Y={element:V.node(),plotinfo:M,gd:C,editHelpers:W,isActiveSelection:!0},Q=o(B,C);c(Q,V,Y)}else V.style("pointer-events",oe?"all":"none");ie[oe]=V}var re=ie[0],te=ie[1];te.node().addEventListener("click",function(){return L(C,re)})}}function w(C,z,b){var S=b.xref+b.yref;f.setClipUrl(C,"clip"+z._fullLayout._uid+S,z)}function L(C,z){if(y(C)){var b=z.node(),S=+b.getAttribute("data-index");if(S>=0){if(S===C._fullLayout._activeSelectionIndex){D(C);return}C._fullLayout._activeSelectionIndex=S,C._fullLayout._deactivateSelection=D,d(C)}}}function _(C){if(y(C)){var z=C._fullLayout.selections.length-1;C._fullLayout._activeSelectionIndex=z,C._fullLayout._deactivateSelection=D,d(C)}}function D(C){if(y(C)){var z=C._fullLayout._activeSelectionIndex;z>=0&&(l(C),delete C._fullLayout._activeSelectionIndex,d(C))}}},2307:function(i,s,a){"use strict";var o=a(4850).T,c=a(3049).extendFlat;i.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:c({},o,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},3028:function(i){"use strict";i.exports=function(a,o,c){c("newselection.mode");var l=c("newselection.line.width");l&&(c("newselection.line.color"),c("newselection.line.dash")),c("activeselection.fillcolor"),c("activeselection.opacity")}},4198:function(i,s,a){"use strict";var o=a(414),c=o.selectMode,l=a(8534),u=l.clearOutline,f=a(1055),h=f.readPaths,p=f.writePaths,m=f.fixDatesForPaths;i.exports=function(y,x){if(y.length){var w=y[0][0];if(w){var L=w.getAttribute("d"),_=x.gd,D=_._fullLayout.newselection,C=x.plotinfo,z=C.xaxis,b=C.yaxis,S=x.isActiveSelection,M=x.dragmode,I=(_.layout||{}).selections||[];if(!c(M)&&S!==void 0){var T=_._fullLayout._activeSelectionIndex;if(T<I.length)switch(_._fullLayout.selections[T].type){case"rect":M="select";break;case"path":M="lasso";break}}var B=h(L,_,C,S),H={xref:z._id,yref:b._id,opacity:D.opacity,line:{color:D.line.color,width:D.line.width,dash:D.line.dash}},Z;B.length===1&&(Z=B[0]),Z&&Z.length===5&&M==="select"?(H.type="rect",H.x0=Z[0][1],H.y0=Z[0][2],H.x1=Z[2][1],H.y1=Z[2][2]):(H.type="path",z&&b&&m(B,z,b),H.path=p(B),Z=null),u(_);for(var $=x.editHelpers,N=($||{}).modifyItem,j=[],O=0;O<I.length;O++){var X=_._fullLayout.selections[O];if(!X){j[O]=X;continue}if(j[O]=X._input,S!==void 0&&O===_._fullLayout._activeSelectionIndex){var ie=H;switch(X.type){case"rect":N("x0",ie.x0),N("x1",ie.x1),N("y0",ie.y0),N("y1",ie.y1);break;case"path":N("path",ie.path);break}}}return S===void 0?(j.push(H),j):$?$.getUpdateObj():{}}}}},9801:function(i,s,a){"use strict";var o=a(4809).strTranslate;function c(h,p){switch(h.type){case"log":return h.p2d(p);case"date":return h.p2r(p,0,h.calendar);default:return h.p2r(p)}}function l(h,p){switch(h.type){case"log":return h.d2p(p);case"date":return h.r2p(p,0,h.calendar);default:return h.r2p(p)}}function u(h){var p=h._id.charAt(0)==="y"?1:0;return function(m){return c(h,m[p])}}function f(h){return o(h.xaxis._offset,h.yaxis._offset)}i.exports={p2r:c,r2p:l,axValue:u,getTransform:f}},4844:function(i,s,a){"use strict";var o=a(7028),c=a(8666);i.exports={moduleType:"component",name:"selections",layoutAttributes:a(4327),supplyLayoutDefaults:a(2272),supplyDrawNewSelectionDefaults:a(3028),includeBasePlot:a(706)("selections"),draw:o.draw,drawOne:o.drawOne,reselect:c.reselect,prepSelect:c.prepSelect,clearOutline:c.clearOutline,clearSelectionsCache:c.clearSelectionsCache,selectOnClick:c.selectOnClick}},8666:function(i,s,a){"use strict";var o=a(1516),c=a(2773),l=a(3626),u=a(2203).dashStyle,f=a(8766),h=a(2141),p=a(6040).makeEventData,m=a(414),d=m.freeMode,y=m.rectMode,x=m.drawMode,w=m.openMode,L=m.selectMode,_=a(9728),D=a(2956),C=a(561),z=a(8534).clearOutline,b=a(1055),S=b.handleEllipse,M=b.readPaths,I=a(7562).newShapes,T=a(4198),B=a(7028).activateLastSelection,H=a(4809),Z=H.sorterAsc,$=a(899),N=a(4025),j=a(5975).getFromId,O=a(4823),X=a(1817).redrawReglTraces,ie=a(8865),oe=ie.MINSELECT,V=$.filter,W=$.tester,Y=a(9801),Q=Y.p2r,re=Y.axValue,te=Y.getTransform;function le(et){return et.subplot!==void 0}function be(et,ct,gt,_e,Be){var ve=!le(_e),ge=d(Be),Re=y(Be),Fe=w(Be),Ue=x(Be),We=L(Be),St=Be==="drawline",Mt=Be==="drawcircle",ot=St||Mt,Xe=_e.gd,_t=Xe._fullLayout,Xt=We&&_t.newselection.mode==="immediate"&&ve,sn=_t._zoomlayer,pn=_e.element.getBoundingClientRect(),An=_e.plotinfo,zn=te(An),Jt=ct-pn.left,Cn=gt-pn.top;_t._calcInverseTransform(Xe);var yn=H.apply3DTransform(_t._invTransform)(Jt,Cn);Jt=yn[0],Cn=yn[1];var xn=_t._invScaleX,Pn=_t._invScaleY,Ln=Jt,on=Cn,_n="M"+Jt+","+Cn,gn=_e.xaxes[0],Un=_e.yaxes[0],qn=gn._length,Jn=Un._length,bn=et.altKey&&!(x(Be)&&Fe),Qn,Vn,hn,me,ce,it,tt;P(et,Xe,_e),ge&&(Qn=V([[Jt,Cn]],ie.BENDPX));var Ze=sn.selectAll("path.select-outline-"+An.id).data([1]),Ye=Ue?_t.newshape:_t.newselection;Ue&&(_e.hasText=Ye.label.text||Ye.label.texttemplate);var Qe=Ue&&!Fe?Ye.fillcolor:"rgba(0,0,0,0)",mt=Ye.line.color||(ve?f.contrast(Xe._fullLayout.plot_bgcolor):"#7f7f7f");Ze.enter().append("path").attr("class","select-outline select-outline-"+An.id).style({opacity:Ue?Ye.opacity/2:1,"stroke-dasharray":u(Ye.line.dash,Ye.line.width),"stroke-width":Ye.line.width+"px","shape-rendering":"crispEdges"}).call(f.stroke,mt).call(f.fill,Qe).attr("fill-rule","evenodd").classed("cursor-move",!!Ue).attr("transform",zn).attr("d",_n+"Z");var st=sn.append("path").attr("class","zoombox-corners").style({fill:f.background,stroke:f.defaultLine,"stroke-width":1}).attr("transform",zn).attr("d","M0,0Z");if(Ue&&_e.hasText){var yt=sn.select(".label-temp");yt.empty()&&(yt=sn.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Ct=_t._uid+ie.SELECTID,wt=[],Ot=K(Xe,_e.xaxes,_e.yaxes,_e.subplot);Xt&&!et.shiftKey&&(_e._clearSubplotSelections=function(){if(ve){var Tt=gn._id,fn=Un._id;qe(Xe,Tt,fn,Ot);for(var Zt=(Xe.layout||{}).selections||[],an=[],ln=!1,En=0;En<Zt.length;En++){var Gn=_t.selections[En];Gn.xref!==Tt||Gn.yref!==fn?an.push(Zt[En]):ln=!0}ln&&(Xe._fullLayout._noEmitSelectedAtStart=!0,l.call("_guiRelayout",Xe,{selections:an}))}});var en=Rt(_e);_e.moveFn=function(Tt,fn){_e._clearSubplotSelections&&(_e._clearSubplotSelections(),_e._clearSubplotSelections=void 0),Ln=Math.max(0,Math.min(qn,xn*Tt+Jt)),on=Math.max(0,Math.min(Jn,Pn*fn+Cn));var Zt=Math.abs(Ln-Jt),an=Math.abs(on-Cn);if(Re){var ln,En,Gn;if(We){var sr=_t.selectdirection;switch(sr==="any"?an<Math.min(Zt*.6,oe)?ln="h":Zt<Math.min(an*.6,oe)?ln="v":ln="d":ln=sr,ln){case"h":En=Mt?Jn/2:0,Gn=Jn;break;case"v":En=Mt?qn/2:0,Gn=qn;break}}if(Ue)switch(_t.newshape.drawdirection){case"vertical":ln="h",En=Mt?Jn/2:0,Gn=Jn;break;case"horizontal":ln="v",En=Mt?qn/2:0,Gn=qn;break;case"ortho":Zt<an?(ln="h",En=Cn,Gn=on):(ln="v",En=Jt,Gn=Ln);break;default:ln="d"}ln==="h"?(me=ot?S(Mt,[Ln,En],[Ln,Gn]):[[Jt,En],[Jt,Gn],[Ln,Gn],[Ln,En]],me.xmin=ot?Ln:Math.min(Jt,Ln),me.xmax=ot?Ln:Math.max(Jt,Ln),me.ymin=Math.min(En,Gn),me.ymax=Math.max(En,Gn),st.attr("d","M"+me.xmin+","+(Cn-oe)+"h-4v"+2*oe+"h4ZM"+(me.xmax-1)+","+(Cn-oe)+"h4v"+2*oe+"h-4Z")):ln==="v"?(me=ot?S(Mt,[En,on],[Gn,on]):[[En,Cn],[En,on],[Gn,on],[Gn,Cn]],me.xmin=Math.min(En,Gn),me.xmax=Math.max(En,Gn),me.ymin=ot?on:Math.min(Cn,on),me.ymax=ot?on:Math.max(Cn,on),st.attr("d","M"+(Jt-oe)+","+me.ymin+"v-4h"+2*oe+"v4ZM"+(Jt-oe)+","+(me.ymax-1)+"v4h"+2*oe+"v-4Z")):ln==="d"&&(me=ot?S(Mt,[Jt,Cn],[Ln,on]):[[Jt,Cn],[Jt,on],[Ln,on],[Ln,Cn]],me.xmin=Math.min(Jt,Ln),me.xmax=Math.max(Jt,Ln),me.ymin=Math.min(Cn,on),me.ymax=Math.max(Cn,on),st.attr("d","M0,0Z"))}else ge&&(Qn.addPt([Ln,on]),me=Qn.filtered);if(_e.selectionDefs&&_e.selectionDefs.length?(hn=Je(_e.mergedPolygons,me,bn),me.subtract=bn,Vn=he(_e.selectionDefs.concat([me]))):(hn=[me],Vn=W(me)),C(Me(hn,Fe),Ze,_e),We){var Yn=Le(Xe,!1),Xr=Yn.eventData?Yn.eventData.points.slice():[];Yn=Le(Xe,!1,Vn,Ot,_e),Vn=Yn.selectionTesters,tt=Yn.eventData;var Mr;Qn?Mr=Qn.filtered:Mr=xt(hn),N.throttle(Ct,ie.SELECTDELAY,function(){wt=ke(Vn,Ot);for(var Ur=wt.slice(),ta=0;ta<Xr.length;ta++){for(var Va=Xr[ta],ei=!1,Fi=0;Fi<Ur.length;Fi++)if(Ur[Fi].curveNumber===Va.curveNumber&&Ur[Fi].pointNumber===Va.pointNumber){ei=!0;break}ei||Ur.push(Va)}Ur.length&&(tt||(tt={}),tt.points=Ur),en(tt,Mr),Wt(Xe,tt)})}},_e.clickFn=function(Tt,fn){if(st.remove(),Xe._fullLayout._activeShapeIndex>=0){Xe._fullLayout._deactivateShape(Xe);return}if(!Ue){var Zt=_t.clickmode;N.done(Ct).then(function(){if(N.clear(Ct),Tt===2){for(Ze.remove(),ce=0;ce<Ot.length;ce++)it=Ot[ce],it._module.selectPoints(it,!1);if(Oe(Xe,Ot),G(_e),Yt(Xe),Ot.length){var an=Ot[0].xaxis,ln=Ot[0].yaxis;if(an&&ln){for(var En=[],Gn=Xe._fullLayout.selections,sr=0;sr<Gn.length;sr++){var Yn=Gn[sr];Yn&&(Yn.xref!==an._id||Yn.yref!==ln._id)&&En.push(Yn)}En.length<Gn.length&&(Xe._fullLayout._noEmitSelectedAtStart=!0,l.call("_guiRelayout",Xe,{selections:En}))}}}else Zt.indexOf("select")>-1&&Se(fn,Xe,_e.xaxes,_e.yaxes,_e.subplot,_e,Ze),Zt==="event"&&Vt(Xe,void 0);h.click(Xe,fn,An.id)}).catch(H.error)}},_e.doneFn=function(){st.remove(),N.done(Ct).then(function(){N.clear(Ct),!Xt&&me&&_e.selectionDefs&&(me.subtract=bn,_e.selectionDefs.push(me),_e.mergedPolygons.length=0,[].push.apply(_e.mergedPolygons,hn)),(Xt||Ue)&&G(_e,Xt),_e.doneFnCompleted&&_e.doneFnCompleted(wt),We&&Vt(Xe,tt)}).catch(H.error)}}function Se(et,ct,gt,_e,Be,ve,ge){var Re=ct._hoverdata,Fe=ct._fullLayout,Ue=Fe.clickmode,We=Ue.indexOf("event")>-1,St=[],Mt,ot,Xe,_t,Xt,sn,pn,An,zn,Jt;if(ne(Re)){P(et,ct,ve),Mt=K(ct,gt,_e,Be);var Cn=pe(Re,Mt),yn=Cn.pointNumbers.length>0;if(yn?we(Mt,Cn):Ee(Mt)&&(pn=xe(Cn))){for(ge&&ge.remove(),Jt=0;Jt<Mt.length;Jt++)ot=Mt[Jt],ot._module.selectPoints(ot,!1);Oe(ct,Mt),G(ve),We&&Yt(ct)}else{An=et.shiftKey&&(pn!==void 0?pn:xe(Cn)),Xe=ze(Cn.pointNumber,Cn.searchInfo,An);var xn=ve.selectionDefs.concat([Xe]);for(_t=he(xn,_t),Jt=0;Jt<Mt.length;Jt++)if(Xt=Mt[Jt]._module.selectPoints(Mt[Jt],_t),sn=rt(Xt,Mt[Jt]),St.length)for(var Pn=0;Pn<sn.length;Pn++)St.push(sn[Pn]);else St=sn;if(zn={points:St},Oe(ct,Mt,zn),Xe&&ve&&ve.selectionDefs.push(Xe),ge){var Ln=ve.mergedPolygons,on=w(ve.dragmode);C(Me(Ln,on),ge,ve)}We&&Vt(ct,zn)}}}function ze(et,ct,gt){return{pointNumber:et,searchInfo:ct,subtract:!!gt}}function Te(et){return"pointNumber"in et&&"searchInfo"in et}function ye(et){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(ct,gt,_e,Be){var ve=et.searchInfo.cd[0].trace._expandedIndex,ge=Be.cd[0].trace._expandedIndex;return ge===ve&&_e===et.pointNumber},isRect:!1,degenerate:!1,subtract:!!et.subtract}}function he(et){if(!et.length)return;for(var ct=[],gt=Te(et[0])?0:et[0][0][0],_e=gt,Be=Te(et[0])?0:et[0][0][1],ve=Be,ge=0;ge<et.length;ge++)if(Te(et[ge]))ct.push(ye(et[ge]));else{var Re=W(et[ge]);Re.subtract=!!et[ge].subtract,ct.push(Re),gt=Math.min(gt,Re.xmin),_e=Math.max(_e,Re.xmax),Be=Math.min(Be,Re.ymin),ve=Math.max(ve,Re.ymax)}function Fe(Ue,We,St,Mt){for(var ot=!1,Xe=0;Xe<ct.length;Xe++)ct[Xe].contains(Ue,We,St,Mt)&&(ot=!ct[Xe].subtract);return ot}return{xmin:gt,xmax:_e,ymin:Be,ymax:ve,pts:[],contains:Fe,isRect:!1,degenerate:!1}}function P(et,ct,gt){var _e=ct._fullLayout,Be=gt.plotinfo,ve=gt.dragmode,ge=_e._lastSelectedSubplot&&_e._lastSelectedSubplot===Be.id,Re=(et.shiftKey||et.altKey)&&!(x(ve)&&w(ve));ge&&Re&&Be.selection&&Be.selection.selectionDefs&&!gt.selectionDefs?(gt.selectionDefs=Be.selection.selectionDefs,gt.mergedPolygons=Be.selection.mergedPolygons):(!Re||!Be.selection)&&G(gt),ge||(z(ct),_e._lastSelectedSubplot=Be.id)}function U(et){return et._fullLayout._activeShapeIndex>=0}function ee(et){return et._fullLayout._activeSelectionIndex>=0}function G(et,ct){var gt=et.dragmode,_e=et.plotinfo,Be=et.gd;U(Be)&&Be._fullLayout._deactivateShape(Be),ee(Be)&&Be._fullLayout._deactivateSelection(Be);var ve=Be._fullLayout,ge=ve._zoomlayer,Re=x(gt),Fe=L(gt);if(Re||Fe){var Ue=ge.selectAll(".select-outline-"+_e.id);if(Ue&&Be._fullLayout._outlining){var We;Re&&(We=I(Ue,et)),We&&l.call("_guiRelayout",Be,{shapes:We});var St;Fe&&!le(et)&&(St=T(Ue,et)),St&&(Be._fullLayout._noEmitSelectedAtStart=!0,l.call("_guiRelayout",Be,{selections:St}).then(function(){ct&&B(Be)})),Be._fullLayout._outlining=!1}}_e.selection={},_e.selection.selectionDefs=et.selectionDefs=[],_e.selection.mergedPolygons=et.mergedPolygons=[]}function E(et){return et._id}function K(et,ct,gt,_e){if(!et.calcdata)return[];var Be=[],ve=ct.map(E),ge=gt.map(E),Re,Fe,Ue;for(Ue=0;Ue<et.calcdata.length;Ue++)if(Re=et.calcdata[Ue],Fe=Re[0].trace,!(Fe.visible!==!0||!Fe._module||!Fe._module.selectPoints))if(le({subplot:_e})&&(Fe.subplot===_e||Fe.geo===_e))Be.push(R(Fe._module,Re,ct[0],gt[0]));else if(Fe.type==="splom"){if(Fe._xaxes[ve[0]]&&Fe._yaxes[ge[0]]){var We=R(Fe._module,Re,ct[0],gt[0]);We.scene=et._fullLayout._splomScenes[Fe.uid],Be.push(We)}}else if(Fe.type==="sankey"){var St=R(Fe._module,Re,ct[0],gt[0]);Be.push(St)}else{if(ve.indexOf(Fe.xaxis)===-1&&(!Fe._xA||!Fe._xA.overlaying)||ge.indexOf(Fe.yaxis)===-1&&(!Fe._yA||!Fe._yA.overlaying))continue;Be.push(R(Fe._module,Re,j(et,Fe.xaxis),j(et,Fe.yaxis)))}return Be}function R(et,ct,gt,_e){return{_module:et,cd:ct,xaxis:gt,yaxis:_e}}function ne(et){return et&&Array.isArray(et)&&et[0].hoverOnBox!==!0}function pe(et,ct){var gt=et[0],_e=-1,Be=[],ve,ge;for(ge=0;ge<ct.length;ge++)if(ve=ct[ge],gt.fullData._expandedIndex===ve.cd[0].trace._expandedIndex){if(gt.hoverOnBox===!0)break;gt.pointNumber!==void 0?_e=gt.pointNumber:gt.binNumber!==void 0&&(_e=gt.binNumber,Be=gt.pointNumbers);break}return{pointNumber:_e,pointNumbers:Be,searchInfo:ve}}function xe(et){var ct=et.searchInfo.cd[0].trace,gt=et.pointNumber,_e=et.pointNumbers,Be=_e.length>0,ve=Be?_e[0]:gt;return ct.selectedpoints?ct.selectedpoints.indexOf(ve)>-1:!1}function we(et,ct){var gt=[],_e,Be,ve,ge;for(ge=0;ge<et.length;ge++)_e=et[ge],_e.cd[0].trace.selectedpoints&&_e.cd[0].trace.selectedpoints.length>0&&gt.push(_e);if(gt.length===1&&(ve=gt[0]===ct.searchInfo,ve&&(Be=ct.searchInfo.cd[0].trace,Be.selectedpoints.length===ct.pointNumbers.length))){for(ge=0;ge<ct.pointNumbers.length;ge++)if(Be.selectedpoints.indexOf(ct.pointNumbers[ge])<0)return!1;return!0}return!1}function Ee(et){var ct=0,gt,_e,Be;for(Be=0;Be<et.length;Be++)if(gt=et[Be],_e=gt.cd[0].trace,_e.selectedpoints&&(_e.selectedpoints.length>1||(ct+=_e.selectedpoints.length,ct>1)))return!1;return ct===1}function Oe(et,ct,gt){var _e;for(_e=0;_e<ct.length;_e++){var Be=ct[_e].cd[0].trace._fullInput,ve=et._fullLayout._tracePreGUI[Be.uid]||{};ve.selectedpoints===void 0&&(ve.selectedpoints=Be._input.selectedpoints||null)}var ge;if(gt){var Re=gt.points||[];for(_e=0;_e<ct.length;_e++)ge=ct[_e].cd[0].trace,ge._input.selectedpoints=ge._fullInput.selectedpoints=[],ge._fullInput!==ge&&(ge.selectedpoints=[]);for(var Fe=0;Fe<Re.length;Fe++){var Ue=Re[Fe],We=Ue.data,St=Ue.fullData,Mt=Ue.pointIndex,ot=Ue.pointIndices;ot?([].push.apply(We.selectedpoints,ot),ge._fullInput!==ge&&[].push.apply(St.selectedpoints,ot)):(We.selectedpoints.push(Mt),ge._fullInput!==ge&&St.selectedpoints.push(Mt))}}else for(_e=0;_e<ct.length;_e++)ge=ct[_e].cd[0].trace,delete ge.selectedpoints,delete ge._input.selectedpoints,ge._fullInput!==ge&&delete ge._fullInput.selectedpoints;Ke(et,ct)}function Ke(et,ct){for(var gt=!1,_e=0;_e<ct.length;_e++){var Be=ct[_e],ve=Be.cd;l.traceIs(ve[0].trace,"regl")&&(gt=!0);var ge=Be._module,Re=ge.styleOnSelect||ge.style;Re&&(Re(et,ve,ve[0].node3),ve[0].nodeRangePlot3&&Re(et,ve,ve[0].nodeRangePlot3))}gt&&(O(et),X(et))}function Je(et,ct,gt){for(var _e=gt?o.difference:o.union,Be=_e({regions:et},{regions:[ct]}),ve=Be.regions.reverse(),ge=0;ge<ve.length;ge++){var Re=ve[ge];Re.subtract=Dt(Re,ve.slice(0,ge))}return ve}function rt(et,ct){if(Array.isArray(et))for(var gt=ct.cd,_e=ct.cd[0].trace,Be=0;Be<et.length;Be++)et[Be]=p(et[Be],_e,gt);return et}function Me(et,ct){for(var gt=[],_e=0;_e<et.length;_e++){gt[_e]=[];for(var Be=0;Be<et[_e].length;Be++){gt[_e][Be]=[],gt[_e][Be][0]=Be?"L":"M";for(var ve=0;ve<et[_e][Be].length;ve++)gt[_e][Be].push(et[_e][Be][ve])}ct||gt[_e].push(["Z",gt[_e][0][1],gt[_e][0][2]])}return gt}function ke(et,ct){for(var gt=[],_e,Be=[],ve,ge=0;ge<ct.length;ge++){var Re=ct[ge];ve=Re._module.selectPoints(Re,et),Be.push(ve),_e=rt(ve,Re),gt=gt.concat(_e)}return gt}function Le(et,ct,gt,_e,Be){var ve=!!_e,ge,Re,Fe;Be&&(ge=Be.plotinfo,Re=Be.xaxes[0]._id,Fe=Be.yaxes[0]._id);var Ue=[],We=[],St=At(et),Mt=et._fullLayout;if(ge){var ot=Mt._zoomlayer,Xe=Mt.dragmode,_t=x(Xe),Xt=L(Xe);if(_t||Xt){var sn=j(et,Re,"x"),pn=j(et,Fe,"y");if(sn&&pn){var An=ot.selectAll(".select-outline-"+ge.id);if(An&&et._fullLayout._outlining&&An.length){for(var zn=An[0][0],Jt=zn.getAttribute("d"),Cn=M(Jt,et,ge),yn=[],xn=0;xn<Cn.length;xn++){for(var Pn=Cn[xn],Ln=[],on=0;on<Pn.length;on++)Ln.push([bt(sn,Pn[on][1]),bt(pn,Pn[on][2])]);Ln.xref=Re,Ln.yref=Fe,Ln.subtract=Dt(Ln,yn),yn.push(Ln)}St=St.concat(yn)}}}}var _n=Re&&Fe?[Re+Fe]:Mt._subplots.cartesian;He(et);for(var gn={},Un=0;Un<_n.length;Un++){var qn=_n[Un],Jn=qn.indexOf("y"),bn=qn.slice(0,Jn),Qn=qn.slice(Jn),Vn=Re&&Fe?gt:void 0;if(Vn=vt(St,bn,Qn,Vn),Vn){var hn=_e;if(!ve){var me=j(et,bn,"x"),ce=j(et,Qn,"y");hn=K(et,[me],[ce],qn);for(var it=0;it<hn.length;it++){var tt=hn[it],Ze=tt.cd[0],Ye=Ze.trace;if(tt._module.name==="scattergl"&&!Ze.t.xpx){var Qe=Ye.x,mt=Ye.y,st=Ye._length;Ze.t.xpx=[],Ze.t.ypx=[];for(var yt=0;yt<st;yt++)Ze.t.xpx[yt]=me.c2p(Qe[yt]),Ze.t.ypx[yt]=ce.c2p(mt[yt])}tt._module.name==="splom"&&(gn[Ye.uid]||(gn[Ye.uid]=!0))}}var Ct=ke(Vn,hn);Ue=Ue.concat(Ct),We=We.concat(hn)}}var wt={points:Ue};Oe(et,We,wt);var Ot=Mt.clickmode,en=Ot.indexOf("event")>-1&&ct;if(!ge&&ct){var Tt=At(et,!0);if(Tt.length){var fn=Tt[0].xref,Zt=Tt[0].yref;if(fn&&Zt){var an=xt(Tt),ln=pt([j(et,fn,"x"),j(et,Zt,"y")]);ln(wt,an)}}et._fullLayout._noEmitSelectedAtStart?et._fullLayout._noEmitSelectedAtStart=!1:en&&Vt(et,wt),Mt._reselect=!1}if(!ge&&Mt._deselect){var En=Mt._deselect;Re=En.xref,Fe=En.yref,Ve(Re,Fe,We)||qe(et,Re,Fe,_e),en&&(wt.points.length?Vt(et,wt):Yt(et)),Mt._deselect=!1}return{eventData:wt,selectionTesters:gt}}function He(et){var ct=et.calcdata;if(ct)for(var gt=0;gt<ct.length;gt++){var _e=ct[gt][0],Be=_e.trace,ve=et._fullLayout._splomScenes;if(ve){var ge=ve[Be.uid];ge&&(ge.selectBatch=[])}}}function Ve(et,ct,gt){for(var _e=0;_e<gt.length;_e++){var Be=gt[_e];if(Be.xaxis&&Be.xaxis._id===et&&Be.yaxis&&Be.yaxis._id===ct)return!0}return!1}function qe(et,ct,gt,_e){_e=K(et,[j(et,ct,"x")],[j(et,gt,"y")],ct+gt);for(var Be=0;Be<_e.length;Be++){var ve=_e[Be];ve._module.selectPoints(ve,!1)}Oe(et,_e)}function vt(et,ct,gt,_e){for(var Be,ve=0;ve<et.length;ve++){var ge=et[ve];if(!(ct!==ge.xref||gt!==ge.yref))if(Be){var Re=!!ge.subtract;Be=Je(Be,ge,Re),_e=he(Be)}else Be=[ge],_e=W(ge)}return _e}function At(et,ct){for(var gt=[],_e=et._fullLayout,Be=_e.selections,ve=Be.length,ge=0;ge<ve;ge++)if(!(ct&&ge!==_e._activeSelectionIndex)){var Re=Be[ge];if(Re){var Fe=Re.xref,Ue=Re.yref,We=j(et,Fe,"x"),St=j(et,Ue,"y"),Mt,ot,Xe,_t,Xt;if(Re.type==="rect"){Xt=[];var sn=bt(We,Re.x0),pn=bt(We,Re.x1),An=bt(St,Re.y0),zn=bt(St,Re.y1);Xt=[[sn,An],[sn,zn],[pn,zn],[pn,An]],Mt=Math.min(sn,pn),ot=Math.max(sn,pn),Xe=Math.min(An,zn),_t=Math.max(An,zn),Xt.xmin=Mt,Xt.xmax=ot,Xt.ymin=Xe,Xt.ymax=_t,Xt.xref=Fe,Xt.yref=Ue,Xt.subtract=!1,Xt.isRect=!0,gt.push(Xt)}else if(Re.type==="path")for(var Jt=Re.path.split("Z"),Cn=[],yn=0;yn<Jt.length;yn++){var xn=Jt[yn];if(xn){xn+="Z";var Pn=_.extractPathCoords(xn,D.paramIsX,"raw"),Ln=_.extractPathCoords(xn,D.paramIsY,"raw");Mt=1/0,ot=-1/0,Xe=1/0,_t=-1/0,Xt=[];for(var on=0;on<Pn.length;on++){var _n=bt(We,Pn[on]),gn=bt(St,Ln[on]);Xt.push([_n,gn]),Mt=Math.min(_n,Mt),ot=Math.max(_n,ot),Xe=Math.min(gn,Xe),_t=Math.max(gn,_t)}Xt.xmin=Mt,Xt.xmax=ot,Xt.ymin=Xe,Xt.ymax=_t,Xt.xref=Fe,Xt.yref=Ue,Xt.subtract=Dt(Xt,Cn),Cn.push(Xt),gt.push(Xt)}}}}return gt}function Dt(et,ct){for(var gt=!1,_e=0;_e<ct.length;_e++)for(var Be=ct[_e],ve=0;ve<et.length;ve++)if(c(et[ve],Be)){gt=!gt;break}return gt}function bt(et,ct){return et.type==="date"&&(ct=ct.replace("_"," ")),et.type==="log"?et.c2p(ct):et.r2p(ct,null,et.calendar)}function xt(et){for(var ct=et.length,gt=[],_e=0;_e<ct;_e++){var Be=et[_e];gt=gt.concat(Be),gt=gt.concat([Be[0]])}return Et(gt)}function Et(et){return et.isRect=et.length===5&&et[0][0]===et[4][0]&&et[0][1]===et[4][1]&&et[0][0]===et[1][0]&&et[2][0]===et[3][0]&&et[0][1]===et[3][1]&&et[1][1]===et[2][1]||et[0][1]===et[1][1]&&et[2][1]===et[3][1]&&et[0][0]===et[3][0]&&et[1][0]===et[2][0],et.isRect&&(et.xmin=Math.min(et[0][0],et[2][0]),et.xmax=Math.max(et[0][0],et[2][0]),et.ymin=Math.min(et[0][1],et[2][1]),et.ymax=Math.max(et[0][1],et[2][1])),et}function pt(et){return function(ct,gt){for(var _e,Be,ve=0;ve<et.length;ve++){var ge=et[ve],Re=ge._id,Fe=Re.charAt(0);if(gt.isRect){_e||(_e={});var Ue=gt[Fe+"min"],We=gt[Fe+"max"];Ue!==void 0&&We!==void 0&&(_e[Re]=[Q(ge,Ue),Q(ge,We)].sort(Z))}else Be||(Be={}),Be[Re]=gt.map(re(ge))}_e&&(ct.range=_e),Be&&(ct.lassoPoints=Be)}}function Rt(et){var ct=et.plotinfo;return ct.fillRangeItems||pt(et.xaxes.concat(et.yaxes))}function Wt(et,ct){et.emit("plotly_selecting",ct)}function Vt(et,ct){ct&&(ct.selections=(et.layout||{}).selections||[]),et.emit("plotly_selected",ct)}function Yt(et){et.emit("plotly_deselect",null)}i.exports={reselect:Le,prepSelect:be,clearOutline:z,clearSelectionsCache:G,selectOnClick:Se}},3144:function(i,s,a){"use strict";var o=a(222),c=a(337),l=a(6640).line,u=a(4850).T,f=a(3049).extendFlat,h=a(8032).templatedArray,p=a(5081),m=a(9829),d=a(3208).LF,y=a(1235);i.exports=h("shape",{visible:f({},m.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:f({},m.legend,{editType:"calc+arraydraw"}),legendgroup:f({},m.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:f({},m.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:c({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:f({},m.legendrank,{editType:"calc+arraydraw"}),legendwidth:f({},m.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:f({},o.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},x0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},x1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},yref:f({},o.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},y0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},y1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:f({},l.color,{editType:"arraydraw"}),width:f({},l.width,{editType:"calc+arraydraw"}),dash:f({},u,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:d({},{keys:Object.keys(y)}),font:c({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},4959:function(i,s,a){"use strict";var o=a(4809),c=a(9714),l=a(2956),u=a(9728);i.exports=function(y){var x=y._fullLayout,w=o.filterVisible(x.shapes);if(!(!w.length||!y._fullData.length))for(var L=0;L<w.length;L++){var _=w[L];_._extremes={};var D,C,z=c.getRefType(_.xref),b=c.getRefType(_.yref);_.xref!=="paper"&&z!=="domain"&&(D=c.getFromId(y,_.xref),C=m(D,_,l.paramIsX),C&&(_._extremes[D._id]=c.findExtremes(D,C,f(_)))),_.yref!=="paper"&&b!=="domain"&&(D=c.getFromId(y,_.yref),C=m(D,_,l.paramIsY),C&&(_._extremes[D._id]=c.findExtremes(D,C,h(_))))}};function f(d){return p(d.line.width,d.xsizemode,d.x0,d.x1,d.path,!1)}function h(d){return p(d.line.width,d.ysizemode,d.y0,d.y1,d.path,!0)}function p(d,y,x,w,L,_){var D=d/2,C=_;if(y==="pixel"){var z=L?u.extractPathCoords(L,_?l.paramIsY:l.paramIsX):[x,w],b=o.aggNums(Math.max,null,z),S=o.aggNums(Math.min,null,z),M=S<0?Math.abs(S)+D:D,I=b>0?b+D:D;return{ppad:D,ppadplus:C?M:I,ppadminus:C?I:M}}else return{ppad:D}}function m(d,y,x){var w=d._id.charAt(0)==="x"?"x":"y",L=d.type==="category"||d.type==="multicategory",_,D,C=0,z=0,b=L?d.r2c:d.d2c,S=y[w+"sizemode"]==="scaled";if(S?(_=y[w+"0"],D=y[w+"1"],L&&(C=y[w+"0shift"],z=y[w+"1shift"])):(_=y[w+"anchor"],D=y[w+"anchor"]),_!==void 0)return[b(_)+C,b(D)+z];if(y.path){var M=1/0,I=-1/0,T=y.path.match(l.segmentRE),B,H,Z,$,N;for(d.type==="date"&&(b=u.decodeDate(b)),B=0;B<T.length;B++)H=T[B],Z=x[H.charAt(0)].drawn,Z!==void 0&&($=T[B].substr(1).match(l.paramRE),!(!$||$.length<Z)&&(N=b($[Z]),N<M&&(M=N),N>I&&(I=N)));if(I>=M)return[M,I]}}},2956:function(i){"use strict";i.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},4367:function(i,s,a){"use strict";var o=a(4809),c=a(9714),l=a(9008),u=a(3144),f=a(9728);i.exports=function(d,y){l(d,y,{name:"shapes",handleItemDefaults:p})};function h(m,d){return m?"bottom":d.indexOf("top")!==-1?"top":d.indexOf("bottom")!==-1?"bottom":"middle"}function p(m,d,y){function x(Te,ye){return o.coerce(m,d,u,Te,ye)}d._isShape=!0;var w=x("visible");if(w){var L=x("showlegend");L&&(x("legend"),x("legendwidth"),x("legendgroup"),x("legendgrouptitle.text"),o.coerceFont(x,"legendgrouptitle.font"),x("legendrank"));var _=x("path"),D=_?"path":"rect",C=x("type",D),z=C!=="path";z&&delete d.path,x("editable"),x("layer"),x("opacity"),x("fillcolor"),x("fillrule");var b=x("line.width");b&&(x("line.color"),x("line.dash"));for(var S=x("xsizemode"),M=x("ysizemode"),I=["x","y"],T=0;T<2;T++){var B=I[T],H=B+"anchor",Z=B==="x"?S:M,$={_fullLayout:y},N,j,O,X=c.coerceRef(m,d,$,B,void 0,"paper"),ie=c.getRefType(X);if(ie==="range"?(N=c.getFromId($,X),N._shapeIndices.push(d._index),O=f.rangeToShapePosition(N),j=f.shapePositionToRange(N),(N.type==="category"||N.type==="multicategory")&&(x(B+"0shift"),x(B+"1shift"))):j=O=o.identity,z){var oe=.25,V=.75,W=B+"0",Y=B+"1",Q=m[W],re=m[Y];m[W]=j(m[W],!0),m[Y]=j(m[Y],!0),Z==="pixel"?(x(W,0),x(Y,10)):(c.coercePosition(d,$,x,X,W,oe),c.coercePosition(d,$,x,X,Y,V)),d[W]=O(d[W]),d[Y]=O(d[Y]),m[W]=Q,m[Y]=re}if(Z==="pixel"){var te=m[H];m[H]=j(m[H],!0),c.coercePosition(d,$,x,X,H,.25),d[H]=O(d[H]),m[H]=te}}z&&o.noneOrAll(m,d,["x0","x1","y0","y1"]);var le=C==="line",be,Se;if(z&&(be=x("label.texttemplate")),be||(Se=x("label.text")),Se||be){x("label.textangle");var ze=x("label.textposition",le?"middle":"middle center");x("label.xanchor"),x("label.yanchor",h(le,ze)),x("label.padding"),o.coerceFont(x,"label.font",y.font)}}}},4433:function(i,s,a){"use strict";var o=a(4809),c=a(9714),l=a(635),u=a(2203),f=a(1055).readPaths,h=a(9728),p=h.getPathString,m=a(1235),d=a(4530).FROM_TL;i.exports=function(L,_,D,C){if(C.selectAll(".shape-label").remove(),!!(D.label.text||D.label.texttemplate)){var z;if(D.label.texttemplate){var b={};if(D.type!=="path"){var S=c.getFromId(L,D.xref),M=c.getFromId(L,D.yref);for(var I in m){var T=m[I](D,S,M);T!==void 0&&(b[I]=T)}}z=o.texttemplateStringForShapes(D.label.texttemplate,{},L._fullLayout._d3locale,b)}else z=D.label.text;var B={"data-index":_},H=D.label.font,Z={"data-notex":1},$=C.append("g").attr(B).classed("shape-label",!0),N=$.append("text").attr(Z).classed("shape-label-text",!0).text(z),j,O,X,ie;if(D.path){var oe=p(L,D),V=f(oe,L);j=1/0,X=1/0,O=-1/0,ie=-1/0;for(var W=0;W<V.length;W++)for(var Y=0;Y<V[W].length;Y++)for(var Q=V[W][Y],re=1;re<Q.length;re+=2){var te=Q[re],le=Q[re+1];j=Math.min(j,te),O=Math.max(O,te),X=Math.min(X,le),ie=Math.max(ie,le)}}else{var be=c.getFromId(L,D.xref),Se=D.x0shift,ze=D.x1shift,Te=c.getRefType(D.xref),ye=c.getFromId(L,D.yref),he=D.y0shift,P=D.y1shift,U=c.getRefType(D.yref),ee=function(we,Ee){var Oe=h.getDataToPixel(L,be,Ee,!1,Te);return Oe(we)},G=function(we,Ee){var Oe=h.getDataToPixel(L,ye,Ee,!0,U);return Oe(we)};j=ee(D.x0,Se),O=ee(D.x1,ze),X=G(D.y0,he),ie=G(D.y1,P)}var E=D.label.textangle;E==="auto"&&(D.type==="line"?E=y(j,X,O,ie):E=0),N.call(function(we){return we.call(u.font,H).attr({}),l.convertToTspans(we,L),we});var K=u.bBox(N.node()),R=x(j,X,O,ie,D,E,K),ne=R.textx,pe=R.texty,xe=R.xanchor;N.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[xe],y:pe,x:ne,transform:"rotate("+E+","+ne+","+pe+")"}).call(l.positionText,ne,pe)}};function y(w,L,_,D){var C,z;return z=Math.abs(_-w),_>=w?C=L-D:C=D-L,-180/Math.PI*Math.atan2(C,z)}function x(w,L,_,D,C,z,b){var S=C.label.textposition,M=C.label.textangle,I=C.label.padding,T=C.type,B=Math.PI/180*z,H=Math.sin(B),Z=Math.cos(B),$=C.label.xanchor,N=C.label.yanchor,j,O,X,ie;if(T==="line"){S==="start"?(j=w,O=L):S==="end"?(j=_,O=D):(j=(w+_)/2,O=(L+D)/2),$==="auto"&&(S==="start"?M==="auto"?_>w?$="left":_<w?$="right":$="center":_>w?$="right":_<w?$="left":$="center":S==="end"?M==="auto"?_>w?$="right":_<w?$="left":$="center":_>w?$="left":_<w?$="right":$="center":$="center");var oe={left:1,center:0,right:-1},V={bottom:-1,middle:0,top:1};if(M==="auto"){var W=V[N];X=-I*H*W,ie=I*Z*W}else{var Y=oe[$],Q=V[N];X=I*Y,ie=I*Q}j=j+X,O=O+ie}else X=I+3,S.indexOf("right")!==-1?(j=Math.max(w,_)-X,$==="auto"&&($="right")):S.indexOf("left")!==-1?(j=Math.min(w,_)+X,$==="auto"&&($="left")):(j=(w+_)/2,$==="auto"&&($="center")),S.indexOf("top")!==-1?O=Math.min(L,D):S.indexOf("bottom")!==-1?O=Math.max(L,D):O=(L+D)/2,ie=I,N==="bottom"?O=O-ie:N==="top"&&(O=O+ie);var re=d[N],te=C.label.font.size,le=b.height,be=(le*re-te)*H,Se=-(le*re-te)*Z;return{textx:j+be,texty:O+Se,xanchor:$}}},561:function(i,s,a){"use strict";var o=a(4809),c=o.strTranslate,l=a(4751),u=a(414),f=u.drawMode,h=u.selectMode,p=a(3626),m=a(8766),d=a(3391),y=d.i000,x=d.i090,w=d.i180,L=d.i270,_=a(8534),D=_.clearOutlineControllers,C=a(1055),z=C.pointsOnRectangle,b=C.pointsOnEllipse,S=C.writePaths,M=a(7562).newShapes,I=a(7562).createShapeObj,T=a(4198),B=a(4433);i.exports=function N(j,O,X,ie){ie||(ie=0);var oe=X.gd;function V(){N(j,O,X,ie++),(b(j[0])||X.hasText)&&W({redrawing:!0})}function W(Je){var rt={};X.isActiveShape!==void 0&&(X.isActiveShape=!1,rt=M(O,X)),X.isActiveSelection!==void 0&&(X.isActiveSelection=!1,rt=T(O,X),oe._fullLayout._reselect=!0),Object.keys(rt).length&&p.call((Je||{}).redrawing?"relayout":"_guiRelayout",oe,rt)}var Y=oe._fullLayout,Q=Y._zoomlayer,re=X.dragmode,te=f(re),le=h(re);(te||le)&&(oe._fullLayout._outlining=!0),D(oe),O.attr("d",S(j));var be,Se,ze,Te,ye;if(!ie&&(X.isActiveShape||X.isActiveSelection)){ye=H([],j);var he=Q.append("g").attr("class","outline-controllers");ne(he),Ke()}if(te&&X.hasText){var P=Q.select(".label-temp"),U=I(O,X,X.dragmode);B(oe,"label-temp",U,P)}function ee(Je){ze=+Je.srcElement.getAttribute("data-i"),Te=+Je.srcElement.getAttribute("data-j"),be[ze][Te].moveFn=G}function G(Je,rt){if(j.length){var Me=ye[ze][Te][1],ke=ye[ze][Te][2],Le=j[ze],He=Le.length;if(z(Le)){var Ve=Je,qe=rt;if(X.isActiveSelection){var vt=Z(Le,Te);vt[1]===Le[Te][1]?qe=0:Ve=0}for(var At=0;At<He;At++)if(At!==Te){var Dt=Le[At];Dt[1]===Le[Te][1]&&(Dt[1]=Me+Ve),Dt[2]===Le[Te][2]&&(Dt[2]=ke+qe)}if(Le[Te][1]=Me+Ve,Le[Te][2]=ke+qe,!z(Le))for(var bt=0;bt<He;bt++)for(var xt=0;xt<Le[bt].length;xt++)Le[bt][xt]=ye[ze][bt][xt]}else Le[Te][1]=Me+Je,Le[Te][2]=ke+rt;V()}}function E(){W()}function K(){if(j.length&&j[ze]&&j[ze].length){for(var Je=[],rt=0;rt<j[ze].length;rt++)rt!==Te&&Je.push(j[ze][rt]);Je.length>1&&!(Je.length===2&&Je[1][0]==="Z")&&(Te===0&&(Je[0][0]="M"),j[ze]=Je,V(),W())}}function R(Je,rt){if(Je===2){ze=+rt.srcElement.getAttribute("data-i"),Te=+rt.srcElement.getAttribute("data-j");var Me=j[ze];!z(Me)&&!b(Me)&&K()}}function ne(Je){be=[];for(var rt=0;rt<j.length;rt++){var Me=j[rt],ke=z(Me),Le=!ke&&b(Me);be[rt]=[];for(var He=Me.length,Ve=0;Ve<He;Ve++)if(Me[Ve][0]!=="Z"&&!(Le&&Ve!==y&&Ve!==x&&Ve!==w&&Ve!==L)){var qe=ke&&X.isActiveSelection,vt;qe&&(vt=Z(Me,Ve));var At=Me[Ve][1],Dt=Me[Ve][2],bt=Je.append(qe?"rect":"circle").attr("data-i",rt).attr("data-j",Ve).style({fill:m.background,stroke:m.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(qe){var xt=vt[1]-At,Et=vt[2]-Dt,pt=Et?5:Math.max(Math.min(25,Math.abs(xt)-5),5),Rt=xt?5:Math.max(Math.min(25,Math.abs(Et)-5),5);bt.classed(Et?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",pt).attr("height",Rt).attr("x",At-pt/2).attr("y",Dt-Rt/2).attr("transform",c(xt/2,Et/2))}else bt.classed("cursor-grab",!0).attr("r",5).attr("cx",At).attr("cy",Dt);be[rt][Ve]={element:bt.node(),gd:oe,prepFn:ee,doneFn:E,clickFn:R},l.init(be[rt][Ve])}}}function pe(Je,rt){if(j.length)for(var Me=0;Me<j.length;Me++)for(var ke=0;ke<j[Me].length;ke++)for(var Le=0;Le+2<j[Me][ke].length;Le+=2)j[Me][ke][Le+1]=ye[Me][ke][Le+1]+Je,j[Me][ke][Le+2]=ye[Me][ke][Le+2]+rt}function xe(Je,rt){pe(Je,rt),V()}function we(Je){ze=+Je.srcElement.getAttribute("data-i"),ze||(ze=0),Se[ze].moveFn=xe}function Ee(){W()}function Oe(Je){Je===2&&$(oe)}function Ke(){if(Se=[],!!j.length){var Je=0;Se[Je]={element:O[0][0],gd:oe,prepFn:we,doneFn:Ee,clickFn:Oe},l.init(Se[Je])}}};function H(N,j){for(var O=0;O<j.length;O++){var X=j[O];N[O]=[];for(var ie=0;ie<X.length;ie++){N[O][ie]=[];for(var oe=0;oe<X[ie].length;oe++)N[O][ie][oe]=X[ie][oe]}}return N}function Z(N,j){var O=N[j][1],X=N[j][2],ie=N.length,oe,V,W;return oe=(j+1)%ie,V=N[oe][1],W=N[oe][2],V===O&&W===X&&(oe=(j+2)%ie,V=N[oe][1],W=N[oe][2]),[oe,V,W]}function $(N){if(h(N._fullLayout.dragmode)){D(N);var j=N._fullLayout._activeSelectionIndex,O=(N.layout||{}).selections||[];if(j<O.length){for(var X=[],ie=0;ie<O.length;ie++)ie!==j&&X.push(O[ie]);delete N._fullLayout._activeSelectionIndex;var oe=N._fullLayout.selections[j];N._fullLayout._deselect={xref:oe.xref,yref:oe.yref},p.call("_guiRelayout",N,{selections:X})}}}},8231:function(i,s,a){"use strict";var o=a(5568),c=a(3626),l=a(4809),u=a(9714),f=a(1055).readPaths,h=a(561),p=a(4433),m=a(8534).clearOutlineControllers,d=a(8766),y=a(2203),x=a(8032).arrayEditor,w=a(4751),L=a(7983),_=a(2956),D=a(9728),C=D.getPathString;i.exports={draw:z,drawOne:M,eraseActiveShape:$,drawLabel:p};function z(N){var j=N._fullLayout;j._shapeUpperLayer.selectAll("path").remove(),j._shapeLowerLayer.selectAll("path").remove(),j._shapeUpperLayer.selectAll("text").remove(),j._shapeLowerLayer.selectAll("text").remove();for(var O in j._plots){var X=j._plots[O].shapelayer;X&&(X.selectAll("path").remove(),X.selectAll("text").remove())}for(var ie=0;ie<j.shapes.length;ie++)j.shapes[ie].visible===!0&&M(N,ie)}function b(N){return!!N._fullLayout._outlining}function S(N){return!N._context.edits.shapePosition}function M(N,j){N._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+j+'"]').remove();var O=D.makeShapesOptionsAndPlotinfo(N,j),X=O.options,ie=O.plotinfo;if(!X._input||X.visible!==!0)return;if(X.layer==="above")V(N._fullLayout._shapeUpperLayer);else if(X.xref==="paper"||X.yref==="paper")V(N._fullLayout._shapeLowerLayer);else if(X.layer==="between")V(ie.shapelayerBetween);else if(ie._hadPlotinfo){var oe=ie.mainplotinfo||ie;V(oe.shapelayer)}else V(N._fullLayout._shapeLowerLayer);function V(W){var Y=C(N,X),Q={"data-index":j,"fill-rule":X.fillrule,d:Y},re=X.opacity,te=X.fillcolor,le=X.line.width?X.line.color:"rgba(0,0,0,0)",be=X.line.width,Se=X.line.dash;!be&&X.editable===!0&&(be=5,Se="solid");var ze=Y[Y.length-1]!=="Z",Te=S(N)&&X.editable&&N._fullLayout._activeShapeIndex===j;Te&&(te=ze?"rgba(0,0,0,0)":N._fullLayout.activeshape.fillcolor,re=N._fullLayout.activeshape.opacity);var ye=W.append("g").classed("shape-group",!0).attr({"data-index":j}),he=ye.append("path").attr(Q).style("opacity",re).call(d.stroke,le).call(d.fill,te).call(y.dashLine,Se,be);I(ye,N,X),p(N,j,X,ye);var P;if((Te||N._context.edits.shapePosition)&&(P=x(N.layout,"shapes",X)),Te){he.style({cursor:"move"});var U={element:he.node(),plotinfo:ie,gd:N,editHelpers:P,hasText:X.label.text||X.label.texttemplate,isActiveShape:!0},ee=f(Y,N);h(ee,he,U)}else N._context.edits.shapePosition?T(N,he,X,j,W,P):X.editable===!0&&he.style("pointer-events",ze||d.opacity(te)*re<=.5?"stroke":"all");he.node().addEventListener("click",function(){return H(N,he)})}}function I(N,j,O){var X=(O.xref+O.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");y.setClipUrl(N,X?"clip"+j._fullLayout._uid+X:null,j)}function T(N,j,O,X,ie,oe){var V=10,W=10,Y=O.xsizemode==="pixel",Q=O.ysizemode==="pixel",re=O.type==="line",te=O.type==="path",le=oe.modifyItem,be,Se,ze,Te,ye,he,P,U,ee,G,E,K,R,ne,pe,xe=o.select(j.node().parentNode),we=u.getFromId(N,O.xref),Ee=u.getRefType(O.xref),Oe=u.getFromId(N,O.yref),Ke=u.getRefType(O.yref),Je=O.x0shift,rt=O.x1shift,Me=O.y0shift,ke=O.y1shift,Le=function(_e,Be){var ve=D.getDataToPixel(N,we,Be,!1,Ee);return ve(_e)},He=function(_e,Be){var ve=D.getDataToPixel(N,Oe,Be,!0,Ke);return ve(_e)},Ve=D.getPixelToData(N,we,!1,Ee),qe=D.getPixelToData(N,Oe,!0,Ke),vt=bt(),At={element:vt.node(),gd:N,prepFn:pt,doneFn:Rt,clickFn:Wt},Dt;w.init(At),vt.node().onmousemove=Et;function bt(){return re?xt():j}function xt(){var _e=10,Be=Math.max(O.line.width,_e),ve=ie.append("g").attr("data-index",X).attr("drag-helper",!0);ve.append("path").attr("d",j.attr("d")).style({cursor:"move","stroke-width":Be,"stroke-opacity":"0"});var ge={"fill-opacity":"0"},Re=Math.max(Be/2,_e);return ve.append("circle").attr({"data-line-point":"start-point",cx:Y?Le(O.xanchor)+O.x0:Le(O.x0,Je),cy:Q?He(O.yanchor)-O.y0:He(O.y0,Me),r:Re}).style(ge).classed("cursor-grab",!0),ve.append("circle").attr({"data-line-point":"end-point",cx:Y?Le(O.xanchor)+O.x1:Le(O.x1,rt),cy:Q?He(O.yanchor)-O.y1:He(O.y1,ke),r:Re}).style(ge).classed("cursor-grab",!0),ve}function Et(_e){if(b(N)){Dt=null;return}if(re)_e.target.tagName==="path"?Dt="move":Dt=_e.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Be=At.element.getBoundingClientRect(),ve=Be.right-Be.left,ge=Be.bottom-Be.top,Re=_e.clientX-Be.left,Fe=_e.clientY-Be.top,Ue=!te&&ve>V&&ge>W&&!_e.shiftKey?w.getCursor(Re/ve,1-Fe/ge):"move";L(j,Ue),Dt=Ue.split("-")[0]}}function pt(_e){b(N)||(Y&&(ye=Le(O.xanchor)),Q&&(he=He(O.yanchor)),O.type==="path"?pe=O.path:(be=Y?O.x0:Le(O.x0),Se=Q?O.y0:He(O.y0),ze=Y?O.x1:Le(O.x1),Te=Q?O.y1:He(O.y1)),be<ze?(ee=be,R="x0",G=ze,ne="x1"):(ee=ze,R="x1",G=be,ne="x0"),!Q&&Se<Te||Q&&Se>Te?(P=Se,E="y0",U=Te,K="y1"):(P=Te,E="y1",U=Se,K="y0"),Et(_e),et(ie,O),gt(j,O,N),At.moveFn=Dt==="move"?Vt:Yt,At.altKey=_e.altKey)}function Rt(){b(N)||(L(j),ct(ie),I(j,N,O),c.call("_guiRelayout",N,oe.getUpdateObj()))}function Wt(){b(N)||ct(ie)}function Vt(_e,Be){if(O.type==="path"){var ve=function(Fe){return Fe},ge=ve,Re=ve;Y?le("xanchor",O.xanchor=Ve(ye+_e)):(ge=function(Ue){return Ve(Le(Ue)+_e)},we&&we.type==="date"&&(ge=D.encodeDate(ge))),Q?le("yanchor",O.yanchor=qe(he+Be)):(Re=function(Ue){return qe(He(Ue)+Be)},Oe&&Oe.type==="date"&&(Re=D.encodeDate(Re))),le("path",O.path=B(pe,ge,Re))}else Y?le("xanchor",O.xanchor=Ve(ye+_e)):(le("x0",O.x0=Ve(be+_e)),le("x1",O.x1=Ve(ze+_e))),Q?le("yanchor",O.yanchor=qe(he+Be)):(le("y0",O.y0=qe(Se+Be)),le("y1",O.y1=qe(Te+Be)));j.attr("d",C(N,O)),et(ie,O),p(N,X,O,xe)}function Yt(_e,Be){if(te){var ve=function(Jt){return Jt},ge=ve,Re=ve;Y?le("xanchor",O.xanchor=Ve(ye+_e)):(ge=function(Cn){return Ve(Le(Cn)+_e)},we&&we.type==="date"&&(ge=D.encodeDate(ge))),Q?le("yanchor",O.yanchor=qe(he+Be)):(Re=function(Cn){return qe(He(Cn)+Be)},Oe&&Oe.type==="date"&&(Re=D.encodeDate(Re))),le("path",O.path=B(pe,ge,Re))}else if(re){if(Dt==="resize-over-start-point"){var Fe=be+_e,Ue=Q?Se-Be:Se+Be;le("x0",O.x0=Y?Fe:Ve(Fe)),le("y0",O.y0=Q?Ue:qe(Ue))}else if(Dt==="resize-over-end-point"){var We=ze+_e,St=Q?Te-Be:Te+Be;le("x1",O.x1=Y?We:Ve(We)),le("y1",O.y1=Q?St:qe(St))}}else{var Mt=function(Jt){return Dt.indexOf(Jt)!==-1},ot=Mt("n"),Xe=Mt("s"),_t=Mt("w"),Xt=Mt("e"),sn=ot?P+Be:P,pn=Xe?U+Be:U,An=_t?ee+_e:ee,zn=Xt?G+_e:G;Q&&(ot&&(sn=P-Be),Xe&&(pn=U-Be)),(!Q&&pn-sn>W||Q&&sn-pn>W)&&(le(E,O[E]=Q?sn:qe(sn)),le(K,O[K]=Q?pn:qe(pn))),zn-An>V&&(le(R,O[R]=Y?An:Ve(An)),le(ne,O[ne]=Y?zn:Ve(zn)))}j.attr("d",C(N,O)),et(ie,O),p(N,X,O,xe)}function et(_e,Be){(Y||Q)&&ve();function ve(){var ge=Be.type!=="path",Re=_e.selectAll(".visual-cue").data([0]),Fe=1;Re.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Fe}).classed("visual-cue",!0);var Ue=Le(Y?Be.xanchor:l.midRange(ge?[Be.x0,Be.x1]:D.extractPathCoords(Be.path,_.paramIsX))),We=He(Q?Be.yanchor:l.midRange(ge?[Be.y0,Be.y1]:D.extractPathCoords(Be.path,_.paramIsY)));if(Ue=D.roundPositionForSharpStrokeRendering(Ue,Fe),We=D.roundPositionForSharpStrokeRendering(We,Fe),Y&&Q){var St="M"+(Ue-1-Fe)+","+(We-1-Fe)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";Re.attr("d",St)}else if(Y){var Mt="M"+(Ue-1-Fe)+","+(We-9-Fe)+"v18 h2 v-18 Z";Re.attr("d",Mt)}else{var ot="M"+(Ue-9-Fe)+","+(We-1-Fe)+"h18 v2 h-18 Z";Re.attr("d",ot)}}}function ct(_e){_e.selectAll(".visual-cue").remove()}function gt(_e,Be,ve){var ge=Be.xref,Re=Be.yref,Fe=u.getFromId(ve,ge),Ue=u.getFromId(ve,Re),We="";ge!=="paper"&&!Fe.autorange&&(We+=ge),Re!=="paper"&&!Ue.autorange&&(We+=Re),y.setClipUrl(_e,We?"clip"+ve._fullLayout._uid+We:null,ve)}}function B(N,j,O){return N.replace(_.segmentRE,function(X){var ie=0,oe=X.charAt(0),V=_.paramIsX[oe],W=_.paramIsY[oe],Y=_.numParams[oe],Q=X.substr(1).replace(_.paramRE,function(re){return ie>=Y||(V[ie]?re=j(re):W[ie]&&(re=O(re)),ie++),re});return oe+Q})}function H(N,j){if(S(N)){var O=j.node(),X=+O.getAttribute("data-index");if(X>=0){if(X===N._fullLayout._activeShapeIndex){Z(N);return}N._fullLayout._activeShapeIndex=X,N._fullLayout._deactivateShape=Z,z(N)}}}function Z(N){if(S(N)){var j=N._fullLayout._activeShapeIndex;j>=0&&(m(N),delete N._fullLayout._activeShapeIndex,z(N))}}function $(N){if(S(N)){m(N);var j=N._fullLayout._activeShapeIndex,O=(N.layout||{}).shapes||[];if(j<O.length){for(var X=[],ie=0;ie<O.length;ie++)ie!==j&&X.push(O[ie]);return delete N._fullLayout._activeShapeIndex,c.call("_guiRelayout",N,{shapes:X})}}}},4101:function(i,s,a){"use strict";var o=a(3582).overrideAll,c=a(9829),l=a(337),u=a(4850).T,f=a(3049).extendFlat,h=a(3208).LF,p=a(1235);i.exports=o({newshape:{visible:f({},c.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:f({},c.legend,{}),legendgroup:f({},c.legendgroup,{}),legendgrouptitle:{text:f({},c.legendgrouptitle.text,{}),font:l({})},legendrank:f({},c.legendrank,{}),legendwidth:f({},c.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:f({},u,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:f({},c.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:h({newshape:!0},{keys:Object.keys(p)}),font:l({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},3391:function(i){"use strict";var s=32;i.exports={CIRCLE_SIDES:s,i000:0,i090:s/4,i180:s/2,i270:s/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},5522:function(i,s,a){"use strict";var o=a(8766),c=a(4809);function l(u,f){return u?"bottom":f.indexOf("top")!==-1?"top":f.indexOf("bottom")!==-1?"bottom":"middle"}i.exports=function(f,h,p){p("newshape.visible"),p("newshape.name"),p("newshape.showlegend"),p("newshape.legend"),p("newshape.legendwidth"),p("newshape.legendgroup"),p("newshape.legendgrouptitle.text"),c.coerceFont(p,"newshape.legendgrouptitle.font"),p("newshape.legendrank"),p("newshape.drawdirection"),p("newshape.layer"),p("newshape.fillcolor"),p("newshape.fillrule"),p("newshape.opacity");var m=p("newshape.line.width");if(m){var d=(f||{}).plot_bgcolor||"#FFF";p("newshape.line.color",o.contrast(d)),p("newshape.line.dash")}var y=f.dragmode==="drawline",x=p("newshape.label.text"),w=p("newshape.label.texttemplate");if(x||w){p("newshape.label.textangle");var L=p("newshape.label.textposition",y?"middle":"middle center");p("newshape.label.xanchor"),p("newshape.label.yanchor",l(y,L)),p("newshape.label.padding"),c.coerceFont(p,"newshape.label.font",h.font)}p("activeshape.fillcolor"),p("activeshape.opacity")}},1055:function(i,s,a){"use strict";var o=a(6953),c=a(3391),l=c.CIRCLE_SIDES,u=c.SQRT2,f=a(9801),h=f.p2r,p=f.r2p,m=[0,3,4,5,6,1,2],d=[0,3,4,1,2];s.writePaths=function(w){var L=w.length;if(!L)return"M0,0Z";for(var _="",D=0;D<L;D++)for(var C=w[D].length,z=0;z<C;z++){var b=w[D][z][0];if(b==="Z")_+="Z";else for(var S=w[D][z].length,M=0;M<S;M++){var I=M;b==="Q"||b==="S"?I=d[M]:b==="C"&&(I=m[M]),_+=w[D][z][I],M>0&&M<S-1&&(_+=",")}}return _},s.readPaths=function(w,L,_,D){var C=o(w),z=[],b=-1,S=function(){b++,z[b]=[]},M,I=0,T=0,B,H,Z=function(){B=I,H=T};Z();for(var $=0;$<C.length;$++){var N=[],j,O,X,ie,oe=C[$][0],V=oe;switch(oe){case"M":S(),I=+C[$][1],T=+C[$][2],N.push([V,I,T]),Z();break;case"Q":case"S":j=+C[$][1],X=+C[$][2],I=+C[$][3],T=+C[$][4],N.push([V,I,T,j,X]);break;case"C":j=+C[$][1],X=+C[$][2],O=+C[$][3],ie=+C[$][4],I=+C[$][5],T=+C[$][6],N.push([V,I,T,j,X,O,ie]);break;case"T":case"L":I=+C[$][1],T=+C[$][2],N.push([V,I,T]);break;case"H":V="L",I=+C[$][1],N.push([V,I,T]);break;case"V":V="L",T=+C[$][1],N.push([V,I,T]);break;case"A":V="L";var W=+C[$][1],Y=+C[$][2];+C[$][4]||(W=-W,Y=-Y);var Q=I-W,re=T;for(M=1;M<=l/2;M++){var te=2*Math.PI*M/l;N.push([V,Q+W*Math.cos(te),re+Y*Math.sin(te)])}break;case"Z":(I!==B||T!==H)&&(I=B,T=H,N.push([V,I,T]));break}for(var le=(_||{}).domain,be=L._fullLayout._size,Se=_&&_.xsizemode==="pixel",ze=_&&_.ysizemode==="pixel",Te=D===!1,ye=0;ye<N.length;ye++){for(M=0;M+2<7;M+=2){var he=N[ye][M+1],P=N[ye][M+2];he===void 0||P===void 0||(I=he,T=P,_&&(_.xaxis&&_.xaxis.p2r?(Te&&(he-=_.xaxis._offset),Se?he=p(_.xaxis,_.xanchor)+he:he=h(_.xaxis,he)):(Te&&(he-=be.l),le?he=le.x[0]+he/be.w:he=he/be.w),_.yaxis&&_.yaxis.p2r?(Te&&(P-=_.yaxis._offset),ze?P=p(_.yaxis,_.yanchor)-P:P=h(_.yaxis,P)):(Te&&(P-=be.t),le?P=le.y[1]-P/be.h:P=1-P/be.h)),N[ye][M+1]=he,N[ye][M+2]=P)}z[b].push(N[ye].slice())}}return z};function y(w,L){return Math.abs(w-L)<=1e-6}function x(w,L){var _=L[1]-w[1],D=L[2]-w[2];return Math.sqrt(_*_+D*D)}s.pointsOnRectangle=function(w){var L=w.length;if(L!==5)return!1;for(var _=1;_<3;_++){var D=w[0][_]-w[1][_],C=w[3][_]-w[2][_];if(!y(D,C))return!1;var z=w[0][_]-w[3][_],b=w[1][_]-w[2][_];if(!y(z,b))return!1}return!y(w[0][1],w[1][1])&&!y(w[0][1],w[3][1])?!1:!!(x(w[0],w[1])*x(w[0],w[3]))},s.pointsOnEllipse=function(w){var L=w.length;if(L!==l+1)return!1;L=l;for(var _=0;_<L;_++){var D=(L*2-_)%L,C=(L/2+D)%L,z=(L/2+_)%L;if(!y(x(w[_],w[z]),x(w[D],w[C])))return!1}return!0},s.handleEllipse=function(w,L,_){if(!w)return[L,_];var D=s.ellipseOver({x0:L[0],y0:L[1],x1:_[0],y1:_[1]}),C=(D.x1+D.x0)/2,z=(D.y1+D.y0)/2,b=(D.x1-D.x0)/2,S=(D.y1-D.y0)/2;b||(b=S=S/u),S||(S=b=b/u);for(var M=[],I=0;I<l;I++){var T=I*2*Math.PI/l;M.push([C+b*Math.cos(T),z+S*Math.sin(T)])}return M},s.ellipseOver=function(w){var L=w.x0,_=w.y0,D=w.x1,C=w.y1,z=D-L,b=C-_;L-=z,_-=b;var S=(L+D)/2,M=(_+C)/2,I=u;return z*=I,b*=I,{x0:S-z,y0:M-b,x1:S+z,y1:M+b}},s.fixDatesForPaths=function(w,L,_){var D=L.type==="date",C=_.type==="date";if(!D&&!C)return w;for(var z=0;z<w.length;z++)for(var b=0;b<w[z].length;b++)for(var S=0;S+2<w[z][b].length;S+=2)D&&(w[z][b][S+1]=w[z][b][S+1].replace(" ","_")),C&&(w[z][b][S+2]=w[z][b][S+2].replace(" ","_"));return w}},7562:function(i,s,a){"use strict";var o=a(414),c=o.drawMode,l=o.openMode,u=a(3391),f=u.i000,h=u.i090,p=u.i180,m=u.i270,d=u.cos45,y=u.sin45,x=a(9801),w=x.p2r,L=x.r2p,_=a(8534),D=_.clearOutline,C=a(1055),z=C.readPaths,b=C.writePaths,S=C.ellipseOver,M=C.fixDatesForPaths;function I(B,H){if(B.length){var Z=B[0][0];if(Z){var $=H.gd,N=H.isActiveShape,j=H.dragmode,O=($.layout||{}).shapes||[];if(!c(j)&&N!==void 0){var X=$._fullLayout._activeShapeIndex;if(X<O.length)switch($._fullLayout.shapes[X].type){case"rect":j="drawrect";break;case"circle":j="drawcircle";break;case"line":j="drawline";break;case"path":var ie=O[X].path||"";ie[ie.length-1]==="Z"?j="drawclosedpath":j="drawopenpath";break}}var oe=T(B,H,j);D($);for(var V=H.editHelpers,W=(V||{}).modifyItem,Y=[],Q=0;Q<O.length;Q++){var re=$._fullLayout.shapes[Q];if(Y[Q]=re._input,N!==void 0&&Q===$._fullLayout._activeShapeIndex){var te=oe;switch(re.type){case"line":case"rect":case"circle":W("x0",te.x0-(re.x0shift||0)),W("x1",te.x1-(re.x1shift||0)),W("y0",te.y0-(re.y0shift||0)),W("y1",te.y1-(re.y1shift||0));break;case"path":W("path",te.path);break}}}return N===void 0?(Y.push(oe),Y):V?V.getUpdateObj():{}}}}function T(B,H,Z){var $=B[0][0],N=H.gd,j=$.getAttribute("d"),O=N._fullLayout.newshape,X=H.plotinfo,ie=H.isActiveShape,oe=X.xaxis,V=X.yaxis,W=!!X.domain||!X.xaxis,Y=!!X.domain||!X.yaxis,Q=l(Z),re=z(j,N,X,ie),te={editable:!0,visible:O.visible,name:O.name,showlegend:O.showlegend,legend:O.legend,legendwidth:O.legendwidth,legendgroup:O.legendgroup,legendgrouptitle:{text:O.legendgrouptitle.text,font:O.legendgrouptitle.font},legendrank:O.legendrank,label:O.label,xref:W?"paper":oe._id,yref:Y?"paper":V._id,layer:O.layer,opacity:O.opacity,line:{color:O.line.color,width:O.line.width,dash:O.line.dash}};Q||(te.fillcolor=O.fillcolor,te.fillrule=O.fillrule);var le;if(re.length===1&&(le=re[0]),le&&le.length===5&&Z==="drawrect")te.type="rect",te.x0=le[0][1],te.y0=le[0][2],te.x1=le[2][1],te.y1=le[2][2];else if(le&&Z==="drawline")te.type="line",te.x0=le[0][1],te.y0=le[0][2],te.x1=le[1][1],te.y1=le[1][2];else if(le&&Z==="drawcircle"){te.type="circle";var be=le[f][1],Se=le[h][1],ze=le[p][1],Te=le[m][1],ye=le[f][2],he=le[h][2],P=le[p][2],U=le[m][2],ee=X.xaxis&&(X.xaxis.type==="date"||X.xaxis.type==="log"),G=X.yaxis&&(X.yaxis.type==="date"||X.yaxis.type==="log");ee&&(be=L(X.xaxis,be),Se=L(X.xaxis,Se),ze=L(X.xaxis,ze),Te=L(X.xaxis,Te)),G&&(ye=L(X.yaxis,ye),he=L(X.yaxis,he),P=L(X.yaxis,P),U=L(X.yaxis,U));var E=(Se+Te)/2,K=(ye+P)/2,R=(Te-Se+ze-be)/2,ne=(U-he+P-ye)/2,pe=S({x0:E,y0:K,x1:E+R*d,y1:K+ne*y});ee&&(pe.x0=w(X.xaxis,pe.x0),pe.x1=w(X.xaxis,pe.x1)),G&&(pe.y0=w(X.yaxis,pe.y0),pe.y1=w(X.yaxis,pe.y1)),te.x0=pe.x0,te.y0=pe.y0,te.x1=pe.x1,te.y1=pe.y1}else te.type="path",oe&&V&&M(re,oe,V),te.path=b(re),le=null;return te}i.exports={newShapes:I,createShapeObj:T}},8534:function(i){"use strict";function s(o){var c=o._fullLayout._zoomlayer;c&&c.selectAll(".outline-controllers").remove()}function a(o){var c=o._fullLayout._zoomlayer;c&&c.selectAll(".select-outline").remove(),o._fullLayout._outlining=!1}i.exports={clearOutlineControllers:s,clearOutline:a}},9728:function(i,s,a){"use strict";var o=a(2956),c=a(4809),l=a(9714);s.rangeToShapePosition=function(h){return h.type==="log"?h.r2d:function(p){return p}},s.shapePositionToRange=function(h){return h.type==="log"?h.d2r:function(p){return p}},s.decodeDate=function(h){return function(p){return p.replace&&(p=p.replace("_"," ")),h(p)}},s.encodeDate=function(h){return function(p){return h(p).replace(" ","_")}},s.extractPathCoords=function(h,p,m){var d=[],y=h.match(o.segmentRE);return y.forEach(function(x){var w=p[x.charAt(0)].drawn;if(w!==void 0){var L=x.substr(1).match(o.paramRE);if(!(!L||L.length<w)){var _=L[w],D=m?_:c.cleanNumber(_);d.push(D)}}}),d},s.getDataToPixel=function(h,p,m,d,y){var x=h._fullLayout._size,w;if(p)if(y==="domain")w=function(_){return p._length*(d?1-_:_)+p._offset};else{var L=s.shapePositionToRange(p);w=function(_){var D=f(p,m);return p._offset+p.r2p(L(_,!0))+D},p.type==="date"&&(w=s.decodeDate(w))}else d?w=function(_){return x.t+x.h*(1-_)}:w=function(_){return x.l+x.w*_};return w},s.getPixelToData=function(h,p,m,d){var y=h._fullLayout._size,x;if(p)if(d==="domain")x=function(L){var _=(L-p._offset)/p._length;return m?1-_:_};else{var w=s.rangeToShapePosition(p);x=function(L){return w(p.p2r(L-p._offset))}}else m?x=function(L){return 1-(L-y.t)/y.h}:x=function(L){return(L-y.l)/y.w};return x},s.roundPositionForSharpStrokeRendering=function(h,p){var m=Math.round(p%2)===1,d=Math.round(h);return m?d+.5:d},s.makeShapesOptionsAndPlotinfo=function(h,p){var m=h._fullLayout.shapes[p]||{},d=h._fullLayout._plots[m.xref+m.yref],y=!!d;return y?d._hadPlotinfo=!0:(d={},m.xref&&m.xref!=="paper"&&(d.xaxis=h._fullLayout[m.xref+"axis"]),m.yref&&m.yref!=="paper"&&(d.yaxis=h._fullLayout[m.yref+"axis"])),d.xsizemode=m.xsizemode,d.ysizemode=m.ysizemode,d.xanchor=m.xanchor,d.yanchor=m.yanchor,{options:m,plotinfo:d}},s.makeSelectionsOptionsAndPlotinfo=function(h,p){var m=h._fullLayout.selections[p]||{},d=h._fullLayout._plots[m.xref+m.yref],y=!!d;return y?d._hadPlotinfo=!0:(d={},m.xref&&(d.xaxis=h._fullLayout[m.xref+"axis"]),m.yref&&(d.yaxis=h._fullLayout[m.yref+"axis"])),{options:m,plotinfo:d}},s.getPathString=function(h,p){var m=p.type,d=l.getRefType(p.xref),y=l.getRefType(p.yref),x=l.getFromId(h,p.xref),w=l.getFromId(h,p.yref),L=h._fullLayout._size,_,D,C,z,b=f(x,p.x0shift),S=f(x,p.x1shift),M=f(w,p.y0shift),I=f(w,p.y1shift),T,B,H,Z;if(x?d==="domain"?D=function(Y){return x._offset+x._length*Y}:(_=s.shapePositionToRange(x),D=function(Y){return x._offset+x.r2p(_(Y,!0))}):D=function(Y){return L.l+L.w*Y},w?y==="domain"?z=function(Y){return w._offset+w._length*(1-Y)}:(C=s.shapePositionToRange(w),z=function(Y){return w._offset+w.r2p(C(Y,!0))}):z=function(Y){return L.t+L.h*(1-Y)},m==="path")return x&&x.type==="date"&&(D=s.decodeDate(D)),w&&w.type==="date"&&(z=s.decodeDate(z)),u(p,D,z);if(p.xsizemode==="pixel"){var $=D(p.xanchor);T=$+p.x0+b,B=$+p.x1+S}else T=D(p.x0)+b,B=D(p.x1)+S;if(p.ysizemode==="pixel"){var N=z(p.yanchor);H=N-p.y0+M,Z=N-p.y1+I}else H=z(p.y0)+M,Z=z(p.y1)+I;if(m==="line")return"M"+T+","+H+"L"+B+","+Z;if(m==="rect")return"M"+T+","+H+"H"+B+"V"+Z+"H"+T+"Z";var j=(T+B)/2,O=(H+Z)/2,X=Math.abs(j-T),ie=Math.abs(O-H),oe="A"+X+","+ie,V=j+X+","+O,W=j+","+(O-ie);return"M"+V+oe+" 0 1,1 "+W+oe+" 0 0,1 "+V+"Z"};function u(h,p,m){var d=h.path,y=h.xsizemode,x=h.ysizemode,w=h.xanchor,L=h.yanchor;return d.replace(o.segmentRE,function(_){var D=0,C=_.charAt(0),z=o.paramIsX[C],b=o.paramIsY[C],S=o.numParams[C],M=_.substr(1).replace(o.paramRE,function(I){return z[D]?y==="pixel"?I=p(w)+Number(I):I=p(I):b[D]&&(x==="pixel"?I=m(L)-Number(I):I=m(I)),D++,D>S&&(I="X"),I});return D>S&&(M=M.replace(/[\s,]*X.*/,""),c.log("Ignoring extra params in segment "+_)),C+M})}function f(h,p){p=p||0;var m=0;return p&&h&&(h.type==="category"||h.type==="multicategory")&&(m=(h.r2p(1)-h.r2p(0))*p),m}},3701:function(i,s,a){"use strict";var o=a(8231);i.exports={moduleType:"component",name:"shapes",layoutAttributes:a(3144),supplyLayoutDefaults:a(4367),supplyDrawNewShapeDefaults:a(5522),includeBasePlot:a(706)("shapes"),calcAutorange:a(4959),draw:o.draw,drawOne:o.drawOne}},1235:function(i){"use strict";function s(z,b){return b?b.d2l(z):z}function a(z,b){return b?b.l2d(z):z}function o(z){return z.x0}function c(z){return z.x1}function l(z){return z.y0}function u(z){return z.y1}function f(z){return z.x0shift||0}function h(z){return z.x1shift||0}function p(z){return z.y0shift||0}function m(z){return z.y1shift||0}function d(z,b){return s(z.x1,b)+h(z)-s(z.x0,b)-f(z)}function y(z,b,S){return s(z.y1,S)+m(z)-s(z.y0,S)-p(z)}function x(z,b){return Math.abs(d(z,b))}function w(z,b,S){return Math.abs(y(z,b,S))}function L(z,b,S){return z.type!=="line"?void 0:Math.sqrt(Math.pow(d(z,b),2)+Math.pow(y(z,b,S),2))}function _(z,b){return a((s(z.x1,b)+h(z)+s(z.x0,b)+f(z))/2,b)}function D(z,b,S){return a((s(z.y1,S)+m(z)+s(z.y0,S)+p(z))/2,S)}function C(z,b,S){return z.type!=="line"?void 0:y(z,b,S)/d(z,b)}i.exports={x0:o,x1:c,y0:l,y1:u,slope:C,dx:d,dy:y,width:x,height:w,length:L,xcenter:_,ycenter:D}},8606:function(i,s,a){"use strict";var o=a(337),c=a(7891),l=a(3049).extendDeepAll,u=a(3582).overrideAll,f=a(9722),h=a(8032).templatedArray,p=a(4194),m=h("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});i.exports=u(h("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:m,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:l(c({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:f.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:o({})},font:o({}),activebgcolor:{valType:"color",dflt:p.gripBgActiveColor},bgcolor:{valType:"color",dflt:p.railBgColor},bordercolor:{valType:"color",dflt:p.railBorderColor},borderwidth:{valType:"number",min:0,dflt:p.railBorderWidth},ticklen:{valType:"number",min:0,dflt:p.tickLength},tickcolor:{valType:"color",dflt:p.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:p.minorTickLength}}),"arraydraw","from-root")},4194:function(i){"use strict";i.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},4537:function(i,s,a){"use strict";var o=a(4809),c=a(9008),l=a(8606),u=a(4194),f=u.name,h=l.steps;i.exports=function(y,x){c(y,x,{name:f,handleItemDefaults:p})};function p(d,y,x){function w(M,I){return o.coerce(d,y,l,M,I)}for(var L=c(d,y,{name:"steps",handleItemDefaults:m}),_=0,D=0;D<L.length;D++)L[D].visible&&_++;var C;if(_<2?C=y.visible=!1:C=w("visible"),!!C){y._stepCount=_;var z=y._visibleSteps=o.filterVisible(L),b=w("active");(L[b]||{}).visible||(y.active=z[0]._index),w("x"),w("y"),o.noneOrAll(d,y,["x","y"]),w("xanchor"),w("yanchor"),w("len"),w("lenmode"),w("pad.t"),w("pad.r"),w("pad.b"),w("pad.l"),o.coerceFont(w,"font",x.font);var S=w("currentvalue.visible");S&&(w("currentvalue.xanchor"),w("currentvalue.prefix"),w("currentvalue.suffix"),w("currentvalue.offset"),o.coerceFont(w,"currentvalue.font",y.font)),w("transition.duration"),w("transition.easing"),w("bgcolor"),w("activebgcolor"),w("bordercolor"),w("borderwidth"),w("ticklen"),w("tickwidth"),w("tickcolor"),w("minorticklen")}}function m(d,y){function x(_,D){return o.coerce(d,y,h,_,D)}var w;if(d.method!=="skip"&&!Array.isArray(d.args)?w=y.visible=!1:w=x("visible"),w){x("method"),x("args");var L=x("label","step-"+y._index);x("value",L),x("execute")}}},4097:function(i,s,a){"use strict";var o=a(5568),c=a(4122),l=a(8766),u=a(2203),f=a(4809),h=f.strTranslate,p=a(635),m=a(8032).arrayEditor,d=a(4194),y=a(4530),x=y.LINE_SPACING,w=y.FROM_TL,L=y.FROM_BR;i.exports=function(W){var Y=W._context.staticPlot,Q=W._fullLayout,re=D(Q,W),te=Q._infolayer.selectAll("g."+d.containerClassName).data(re.length>0?[0]:[]);te.enter().append("g").classed(d.containerClassName,!0).style("cursor",Y?null:"ew-resize");function le(Te){Te._commandObserver&&(Te._commandObserver.remove(),delete Te._commandObserver),c.autoMargin(W,_(Te))}if(te.exit().each(function(){o.select(this).selectAll("g."+d.groupClassName).each(le)}).remove(),re.length!==0){var be=te.selectAll("g."+d.groupClassName).data(re,C);be.enter().append("g").classed(d.groupClassName,!0),be.exit().each(le).remove();for(var Se=0;Se<re.length;Se++){var ze=re[Se];z(W,ze)}be.each(function(Te){var ye=o.select(this);N(Te),c.manageCommandObserver(W,Te,Te._visibleSteps,function(he){var P=ye.data()[0];P.active!==he.index&&(P._dragging||H(W,ye,P,he.index,!1,!0))}),b(W,o.select(this),Te)})}};function _(V){return d.autoMarginIdRoot+V._index}function D(V,W){for(var Y=V[d.name],Q=[],re=0;re<Y.length;re++){var te=Y[re];te.visible&&(te._gd=W,Q.push(te))}return Q}function C(V){return V._index}function z(V,W){var Y=u.tester.selectAll("g."+d.labelGroupClass).data(W._visibleSteps);Y.enter().append("g").classed(d.labelGroupClass,!0);var Q=0,re=0;Y.each(function(U){var ee=o.select(this),G=I(ee,{step:U},W),E=G.node();if(E){var K=u.bBox(E);re=Math.max(re,K.height),Q=Math.max(Q,K.width)}}),Y.remove();var te=W._dims={};te.inputAreaWidth=Math.max(d.railWidth,d.gripHeight);var le=V._fullLayout._size;te.lx=le.l+le.w*W.x,te.ly=le.t+le.h*(1-W.y),W.lenmode==="fraction"?te.outerLength=Math.round(le.w*W.len):te.outerLength=W.len,te.inputAreaStart=0,te.inputAreaLength=Math.round(te.outerLength-W.pad.l-W.pad.r);var be=te.inputAreaLength-2*d.stepInset,Se=be/(W._stepCount-1),ze=Q+d.labelPadding;if(te.labelStride=Math.max(1,Math.ceil(ze/Se)),te.labelHeight=re,te.currentValueMaxWidth=0,te.currentValueHeight=0,te.currentValueTotalHeight=0,te.currentValueMaxLines=1,W.currentvalue.visible){var Te=u.tester.append("g");Y.each(function(U){var ee=S(Te,W,U.label),G=ee.node()&&u.bBox(ee.node())||{width:0,height:0},E=p.lineCount(ee);te.currentValueMaxWidth=Math.max(te.currentValueMaxWidth,Math.ceil(G.width)),te.currentValueHeight=Math.max(te.currentValueHeight,Math.ceil(G.height)),te.currentValueMaxLines=Math.max(te.currentValueMaxLines,E)}),te.currentValueTotalHeight=te.currentValueHeight+W.currentvalue.offset,Te.remove()}te.height=te.currentValueTotalHeight+d.tickOffset+W.ticklen+d.labelOffset+te.labelHeight+W.pad.t+W.pad.b;var ye="left";f.isRightAnchor(W)&&(te.lx-=te.outerLength,ye="right"),f.isCenterAnchor(W)&&(te.lx-=te.outerLength/2,ye="center");var he="top";f.isBottomAnchor(W)&&(te.ly-=te.height,he="bottom"),f.isMiddleAnchor(W)&&(te.ly-=te.height/2,he="middle"),te.outerLength=Math.ceil(te.outerLength),te.height=Math.ceil(te.height),te.lx=Math.round(te.lx),te.ly=Math.round(te.ly);var P={y:W.y,b:te.height*L[he],t:te.height*w[he]};W.lenmode==="fraction"?(P.l=0,P.xl=W.x-W.len*w[ye],P.r=0,P.xr=W.x+W.len*L[ye]):(P.x=W.x,P.l=te.outerLength*w[ye],P.r=te.outerLength*L[ye]),c.autoMargin(V,_(W),P)}function b(V,W,Y){(Y.steps[Y.active]||{}).visible||(Y.active=Y._visibleSteps[0]._index),W.call(S,Y).call(oe,Y).call(T,Y).call($,Y).call(ie,V,Y).call(M,V,Y);var Q=Y._dims;u.setTranslate(W,Q.lx+Y.pad.l,Q.ly+Y.pad.t),W.call(j,Y,!1),W.call(S,Y)}function S(V,W,Y){if(W.currentvalue.visible){var Q=W._dims,re,te;switch(W.currentvalue.xanchor){case"right":re=Q.inputAreaLength-d.currentValueInset-Q.currentValueMaxWidth,te="left";break;case"center":re=Q.inputAreaLength*.5,te="middle";break;default:re=d.currentValueInset,te="left"}var le=f.ensureSingle(V,"text",d.labelClass,function(he){he.attr({"text-anchor":te,"data-notex":1})}),be=W.currentvalue.prefix?W.currentvalue.prefix:"";if(typeof Y=="string")be+=Y;else{var Se=W.steps[W.active].label,ze=W._gd._fullLayout._meta;ze&&(Se=f.templateString(Se,ze)),be+=Se}W.currentvalue.suffix&&(be+=W.currentvalue.suffix),le.call(u.font,W.currentvalue.font).text(be).call(p.convertToTspans,W._gd);var Te=p.lineCount(le),ye=(Q.currentValueMaxLines+1-Te)*W.currentvalue.font.size*x;return p.positionText(le,re,ye),le}}function M(V,W,Y){var Q=f.ensureSingle(V,"rect",d.gripRectClass,function(re){re.call(Z,W,V,Y).style("pointer-events","all")});Q.attr({width:d.gripWidth,height:d.gripHeight,rx:d.gripRadius,ry:d.gripRadius}).call(l.stroke,Y.bordercolor).call(l.fill,Y.bgcolor).style("stroke-width",Y.borderwidth+"px")}function I(V,W,Y){var Q=f.ensureSingle(V,"text",d.labelClass,function(le){le.attr({"text-anchor":"middle","data-notex":1})}),re=W.step.label,te=Y._gd._fullLayout._meta;return te&&(re=f.templateString(re,te)),Q.call(u.font,Y.font).text(re).call(p.convertToTspans,Y._gd),Q}function T(V,W){var Y=f.ensureSingle(V,"g",d.labelsClass),Q=W._dims,re=Y.selectAll("g."+d.labelGroupClass).data(Q.labelSteps);re.enter().append("g").classed(d.labelGroupClass,!0),re.exit().remove(),re.each(function(te){var le=o.select(this);le.call(I,te,W),u.setTranslate(le,O(W,te.fraction),d.tickOffset+W.ticklen+W.font.size*x+d.labelOffset+Q.currentValueTotalHeight)})}function B(V,W,Y,Q,re){var te=Math.round(Q*(Y._stepCount-1)),le=Y._visibleSteps[te]._index;le!==Y.active&&H(V,W,Y,le,!0,re)}function H(V,W,Y,Q,re,te){var le=Y.active;Y.active=Q,m(V.layout,d.name,Y).applyUpdate("active",Q);var be=Y.steps[Y.active];W.call(j,Y,te),W.call(S,Y),V.emit("plotly_sliderchange",{slider:Y,step:Y.steps[Y.active],interaction:re,previousActive:le}),be&&be.method&&re&&(W._nextMethod?(W._nextMethod.step=be,W._nextMethod.doCallback=re,W._nextMethod.doTransition=te):(W._nextMethod={step:be,doCallback:re,doTransition:te},W._nextMethodRaf=window.requestAnimationFrame(function(){var Se=W._nextMethod.step;Se.method&&(Se.execute&&c.executeAPICommand(V,Se.method,Se.args),W._nextMethod=null,W._nextMethodRaf=null)})))}function Z(V,W,Y){if(W._context.staticPlot)return;var Q=Y.node(),re=o.select(W);function te(){return Y.data()[0]}function le(){var be=te();W.emit("plotly_sliderstart",{slider:be});var Se=Y.select("."+d.gripRectClass);o.event.stopPropagation(),o.event.preventDefault(),Se.call(l.fill,be.activebgcolor);var ze=X(be,o.mouse(Q)[0]);B(W,Y,be,ze,!0),be._dragging=!0;function Te(){var he=te(),P=X(he,o.mouse(Q)[0]);B(W,Y,he,P,!1)}re.on("mousemove",Te),re.on("touchmove",Te);function ye(){var he=te();he._dragging=!1,Se.call(l.fill,he.bgcolor),re.on("mouseup",null),re.on("mousemove",null),re.on("touchend",null),re.on("touchmove",null),W.emit("plotly_sliderend",{slider:he,step:he.steps[he.active]})}re.on("mouseup",ye),re.on("touchend",ye)}V.on("mousedown",le),V.on("touchstart",le)}function $(V,W){var Y=V.selectAll("rect."+d.tickRectClass).data(W._visibleSteps),Q=W._dims;Y.enter().append("rect").classed(d.tickRectClass,!0),Y.exit().remove(),Y.attr({width:W.tickwidth+"px","shape-rendering":"crispEdges"}),Y.each(function(re,te){var le=te%Q.labelStride===0,be=o.select(this);be.attr({height:le?W.ticklen:W.minorticklen}).call(l.fill,W.tickcolor),u.setTranslate(be,O(W,te/(W._stepCount-1))-.5*W.tickwidth,(le?d.tickOffset:d.minorTickOffset)+Q.currentValueTotalHeight)})}function N(V){var W=V._dims;W.labelSteps=[];for(var Y=V._stepCount,Q=0;Q<Y;Q+=W.labelStride)W.labelSteps.push({fraction:Q/(Y-1),step:V._visibleSteps[Q]})}function j(V,W,Y){for(var Q=V.select("rect."+d.gripRectClass),re=0,te=0;te<W._stepCount;te++)if(W._visibleSteps[te]._index===W.active){re=te;break}var le=O(W,re/(W._stepCount-1));if(!W._invokingCommand){var be=Q;Y&&W.transition.duration>0&&(be=be.transition().duration(W.transition.duration).ease(W.transition.easing)),be.attr("transform",h(le-d.gripWidth*.5,W._dims.currentValueTotalHeight))}}function O(V,W){var Y=V._dims;return Y.inputAreaStart+d.stepInset+(Y.inputAreaLength-2*d.stepInset)*Math.min(1,Math.max(0,W))}function X(V,W){var Y=V._dims;return Math.min(1,Math.max(0,(W-d.stepInset-Y.inputAreaStart)/(Y.inputAreaLength-2*d.stepInset-2*Y.inputAreaStart)))}function ie(V,W,Y){var Q=Y._dims,re=f.ensureSingle(V,"rect",d.railTouchRectClass,function(te){te.call(Z,W,V,Y).style("pointer-events","all")});re.attr({width:Q.inputAreaLength,height:Math.max(Q.inputAreaWidth,d.tickOffset+Y.ticklen+Q.labelHeight)}).call(l.fill,Y.bgcolor).attr("opacity",0),u.setTranslate(re,0,Q.currentValueTotalHeight)}function oe(V,W){var Y=W._dims,Q=Y.inputAreaLength-d.railInset*2,re=f.ensureSingle(V,"rect",d.railRectClass);re.attr({width:Q,height:d.railWidth,rx:d.railRadius,ry:d.railRadius,"shape-rendering":"crispEdges"}).call(l.stroke,W.bordercolor).call(l.fill,W.bgcolor).style("stroke-width",W.borderwidth+"px"),u.setTranslate(re,d.railInset,(Y.inputAreaWidth-d.railWidth)*.5+Y.currentValueTotalHeight)}},5359:function(i,s,a){"use strict";var o=a(4194);i.exports={moduleType:"component",name:o.name,layoutAttributes:a(8606),supplyLayoutDefaults:a(4537),draw:a(4097)}},7240:function(i,s,a){"use strict";var o=a(5568),c=a(721),l=a(4122),u=a(3626),f=a(4809),h=f.strTranslate,p=a(2203),m=a(8766),d=a(635),y=a(438),x=a(4530).OPPOSITE_SIDE,w=/ [XY][0-9]* /,L=1.6,_=1.6;function D(C,z,b){var S=C._fullLayout,M=b.propContainer,I=b.propName,T=b.placeholder,B=b.traceIndex,H=b.avoid||{},Z=b.attributes,$=b.transform,N=b.containerGroup,j=1,O=M.title,X=(O&&O.text?O.text:"").trim(),ie=!1,oe=O&&O.font?O.font:{},V=oe.family,W=oe.size,Y=oe.color,Q=oe.weight,re=oe.style,te=oe.variant,le=oe.textcase,be=oe.lineposition,Se=oe.shadow,ze=b.subtitlePropName,Te=!!ze,ye=b.subtitlePlaceholder,he=(M.title||{}).subtitle||{text:"",font:{}},P=he.text.trim(),U=!1,ee=1,G=he.font,E=G.family,K=G.size,R=G.color,ne=G.weight,pe=G.style,xe=G.variant,we=G.textcase,Ee=G.lineposition,Oe=G.shadow,Ke;I==="title.text"?Ke="titleText":I.indexOf("axis")!==-1?Ke="axisTitleText":I.indexOf("colorbar"!==-1)&&(Ke="colorbarTitleText");var Je=C._context.edits[Ke];function rt(pt,Rt){return pt===void 0||Rt===void 0?!1:pt.replace(w," % ")===Rt.replace(w," % ")}X===""?j=0:rt(X,T)&&(Je||(X=""),j=.2,ie=!0),Te&&(P===""?ee=0:rt(P,ye)&&(Je||(P=""),ee=.2,U=!0)),b._meta?X=f.templateString(X,b._meta):S._meta&&(X=f.templateString(X,S._meta));var Me=X||P||Je,ke;N||(N=f.ensureSingle(S._infolayer,"g","g-"+z),ke=S._hColorbarMoveTitle);var Le=N.selectAll("text."+z).data(Me?[0]:[]);Le.enter().append("text"),Le.text(X).attr("class",z),Le.exit().remove();var He=null,Ve=z+"-subtitle",qe=P||Je;if(Te&&qe&&(He=N.selectAll("text."+Ve).data(qe?[0]:[]),He.enter().append("text"),He.text(P).attr("class",Ve),He.exit().remove()),!Me)return N;function vt(pt,Rt){f.syncOrAsync([At,Dt],{title:pt,subtitle:Rt})}function At(pt){var Rt=pt.title,Wt=pt.subtitle,Vt;!$&&ke&&($={}),$?(Vt="",$.rotate&&(Vt+="rotate("+[$.rotate,Z.x,Z.y]+")"),($.offset||ke)&&(Vt+=h(0,($.offset||0)-(ke||0)))):Vt=null,Rt.attr("transform",Vt);function Yt(ve){if(ve){var ge=o.select(ve.node().parentNode).select("."+Ve);if(!ge.empty()){var Re=ve.node().getBBox();if(Re.height){var Fe=Re.y+Re.height+L*K;ge.attr("y",Fe)}}}}if(Rt.style("opacity",j*m.opacity(Y)).call(p.font,{color:m.rgb(Y),size:o.round(W,2),family:V,weight:Q,style:re,variant:te,textcase:le,shadow:Se,lineposition:be}).attr(Z).call(d.convertToTspans,C,Yt),Wt){var et=N.select("."+z+"-math-group"),ct=Rt.node().getBBox(),gt=et.node()?et.node().getBBox():void 0,_e=gt?gt.y+gt.height+L*K:ct.y+ct.height+_*K,Be=f.extendFlat({},Z,{y:_e});Wt.attr("transform",Vt),Wt.style("opacity",ee*m.opacity(R)).call(p.font,{color:m.rgb(R),size:o.round(K,2),family:E,weight:ne,style:pe,variant:xe,textcase:we,shadow:Oe,lineposition:Ee}).attr(Be).call(d.convertToTspans,C)}return l.previousPromises(C)}function Dt(pt){var Rt=pt.title,Wt=o.select(Rt.node().parentNode);if(H&&H.selection&&H.side&&X){Wt.attr("transform",null);var Vt=x[H.side],Yt=H.side==="left"||H.side==="top"?-1:1,et=c(H.pad)?H.pad:2,ct=p.bBox(Wt.node()),gt={t:0,b:0,l:0,r:0},_e=C._fullLayout._reservedMargin;for(var Be in _e)for(var ve in _e[Be]){var ge=_e[Be][ve];gt[ve]=Math.max(gt[ve],ge)}var Re={left:gt.l,top:gt.t,right:S.width-gt.r,bottom:S.height-gt.b},Fe=H.maxShift||Yt*(Re[H.side]-ct[H.side]),Ue=0;if(Fe<0)Ue=Fe;else{var We=H.offsetLeft||0,St=H.offsetTop||0;ct.left-=We,ct.right-=We,ct.top-=St,ct.bottom-=St,H.selection.each(function(){var ot=p.bBox(this);f.bBoxIntersect(ct,ot,et)&&(Ue=Math.max(Ue,Yt*(ot[H.side]-ct[Vt])+et))}),Ue=Math.min(Fe,Ue),M._titleScoot=Math.abs(Ue)}if(Ue>0||Fe<0){var Mt={left:[-Ue,0],right:[Ue,0],top:[0,-Ue],bottom:[0,Ue]}[H.side];Wt.attr("transform",h(Mt[0],Mt[1]))}}}Le.call(vt,He);function bt(pt,Rt){pt.text(Rt).on("mouseover.opacity",function(){o.select(this).transition().duration(y.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){o.select(this).transition().duration(y.HIDE_PLACEHOLDER).style("opacity",0)})}if(Je&&(X?Le.on(".opacity",null):(bt(Le,T),ie=!0),Le.call(d.makeEditable,{gd:C}).on("edit",function(pt){B!==void 0?u.call("_guiRestyle",C,I,pt,B):u.call("_guiRelayout",C,I,pt)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(vt)}).on("input",function(pt){this.text(pt||" ").call(d.positionText,Z.x,Z.y)}),Te)){if(Te&&!X){var xt=Le.node().getBBox(),Et=xt.y+xt.height+_*K;He.attr("y",Et)}P?He.on(".opacity",null):(bt(He,ye),U=!0),He.call(d.makeEditable,{gd:C}).on("edit",function(pt){u.call("_guiRelayout",C,"title.subtitle.text",pt)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(vt)}).on("input",function(pt){this.text(pt||" ").call(d.positionText,He.attr("x"),He.attr("y"))})}return Le.classed("js-placeholder",ie),He&&He.classed("js-placeholder",U),N}i.exports={draw:D,SUBTITLE_PADDING_EM:_,SUBTITLE_PADDING_MATHJAX_EM:L}},5389:function(i,s,a){"use strict";var o=a(337),c=a(229),l=a(3049).extendFlat,u=a(3582).overrideAll,f=a(7891),h=a(8032).templatedArray,p=h("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});i.exports=u(h("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:p,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:l(f({editType:"arraydraw"}),{}),font:o({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:c.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},1559:function(i){"use strict";i.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25C4",right:"\u25BA",up:"\u25B2",down:"\u25BC"}}},2746:function(i,s,a){"use strict";var o=a(4809),c=a(9008),l=a(5389),u=a(1559),f=u.name,h=l.buttons;i.exports=function(y,x){var w={name:f,handleItemDefaults:p};c(y,x,w)};function p(d,y,x){function w(D,C){return o.coerce(d,y,l,D,C)}var L=c(d,y,{name:"buttons",handleItemDefaults:m}),_=w("visible",L.length>0);_&&(w("active"),w("direction"),w("type"),w("showactive"),w("x"),w("y"),o.noneOrAll(d,y,["x","y"]),w("xanchor"),w("yanchor"),w("pad.t"),w("pad.r"),w("pad.b"),w("pad.l"),o.coerceFont(w,"font",x.font),w("bgcolor",x.paper_bgcolor),w("bordercolor"),w("borderwidth"))}function m(d,y){function x(L,_){return o.coerce(d,y,h,L,_)}var w=x("visible",d.method==="skip"||Array.isArray(d.args));w&&(x("method"),x("args"),x("args2"),x("label"),x("execute"))}},974:function(i,s,a){"use strict";var o=a(5568),c=a(4122),l=a(8766),u=a(2203),f=a(4809),h=a(635),p=a(8032).arrayEditor,m=a(4530).LINE_SPACING,d=a(1559),y=a(1736);i.exports=function(X){var ie=X._fullLayout,oe=f.filterVisible(ie[d.name]);function V(Se){c.autoMargin(X,$(Se))}var W=ie._menulayer.selectAll("g."+d.containerClassName).data(oe.length>0?[0]:[]);if(W.enter().append("g").classed(d.containerClassName,!0).style("cursor","pointer"),W.exit().each(function(){o.select(this).selectAll("g."+d.headerGroupClassName).each(V)}).remove(),oe.length!==0){var Y=W.selectAll("g."+d.headerGroupClassName).data(oe,x);Y.enter().append("g").classed(d.headerGroupClassName,!0);for(var Q=f.ensureSingle(W,"g",d.dropdownButtonGroupClassName,function(Se){Se.style("pointer-events","all")}),re=0;re<oe.length;re++){var te=oe[re];Z(X,te)}var le="updatemenus"+ie._uid,be=new y(X,Q,le);Y.enter().size()&&(Q.node().parentNode.appendChild(Q.node()),Q.call(j)),Y.exit().each(function(Se){Q.call(j),V(Se)}).remove(),Y.each(function(Se){var ze=o.select(this),Te=Se.type==="dropdown"?Q:null;c.manageCommandObserver(X,Se,Se.buttons,function(ye){_(X,Se,Se.buttons[ye.index],ze,Te,be,ye.index,!0)}),Se.type==="dropdown"?(D(X,ze,Q,be,Se),L(Q,Se)&&C(X,ze,Q,be,Se)):C(X,ze,null,null,Se)})}};function x(O){return O._index}function w(O){return+O.attr(d.menuIndexAttrName)==-1}function L(O,X){return+O.attr(d.menuIndexAttrName)===X._index}function _(O,X,ie,oe,V,W,Y,Q){X.active=Y,p(O.layout,d.name,X).applyUpdate("active",Y),X.type==="buttons"?C(O,oe,null,null,X):X.type==="dropdown"&&(V.attr(d.menuIndexAttrName,"-1"),D(O,oe,V,W,X),Q||C(O,oe,V,W,X))}function D(O,X,ie,oe,V){var W=f.ensureSingle(X,"g",d.headerClassName,function(Se){Se.style("pointer-events","all")}),Y=V._dims,Q=V.active,re=V.buttons[Q]||d.blankHeaderOpts,te={y:V.pad.t,yPad:0,x:V.pad.l,xPad:0,index:0},le={width:Y.headerWidth,height:Y.headerHeight};W.call(S,V,re,O).call(N,V,te,le);var be=f.ensureSingle(X,"text",d.headerArrowClassName,function(Se){Se.attr("text-anchor","end").call(u.font,V.font).text(d.arrowSymbol[V.direction])});be.attr({x:Y.headerWidth-d.arrowOffsetX+V.pad.l,y:Y.headerHeight/2+d.textOffsetY+V.pad.t}),W.on("click",function(){ie.call(j,String(L(ie,V)?-1:V._index)),C(O,X,ie,oe,V)}),W.on("mouseover",function(){W.call(B)}),W.on("mouseout",function(){W.call(H,V)}),u.setTranslate(X,Y.lx,Y.ly)}function C(O,X,ie,oe,V){ie||(ie=X,ie.attr("pointer-events","all"));var W=!w(ie)||V.type==="buttons"?V.buttons:[],Y=V.type==="dropdown"?d.dropdownButtonClassName:d.buttonClassName,Q=ie.selectAll("g."+Y).data(f.filterVisible(W)),re=Q.enter().append("g").classed(Y,!0),te=Q.exit();V.type==="dropdown"?(re.attr("opacity","0").transition().attr("opacity","1"),te.transition().attr("opacity","0").remove()):te.remove();var le=0,be=0,Se=V._dims,ze=["up","down"].indexOf(V.direction)!==-1;V.type==="dropdown"&&(ze?be=Se.headerHeight+d.gapButtonHeader:le=Se.headerWidth+d.gapButtonHeader),V.type==="dropdown"&&V.direction==="up"&&(be=-d.gapButtonHeader+d.gapButton-Se.openHeight),V.type==="dropdown"&&V.direction==="left"&&(le=-d.gapButtonHeader+d.gapButton-Se.openWidth);var Te={x:Se.lx+le+V.pad.l,y:Se.ly+be+V.pad.t,yPad:d.gapButton,xPad:d.gapButton,index:0},ye={l:Te.x+V.borderwidth,t:Te.y+V.borderwidth};Q.each(function(he,P){var U=o.select(this);U.call(S,V,he,O).call(N,V,Te),U.on("click",function(){o.event.defaultPrevented||(he.execute&&(he.args2&&V.active===P?(_(O,V,he,X,ie,oe,-1),c.executeAPICommand(O,he.method,he.args2)):(_(O,V,he,X,ie,oe,P),c.executeAPICommand(O,he.method,he.args))),O.emit("plotly_buttonclicked",{menu:V,button:he,active:V.active}))}),U.on("mouseover",function(){U.call(B)}),U.on("mouseout",function(){U.call(H,V),Q.call(T,V)})}),Q.call(T,V),ze?(ye.w=Math.max(Se.openWidth,Se.headerWidth),ye.h=Te.y-ye.t):(ye.w=Te.x-ye.l,ye.h=Math.max(Se.openHeight,Se.headerHeight)),ye.direction=V.direction,oe&&(Q.size()?z(O,X,ie,oe,V,ye):b(oe))}function z(O,X,ie,oe,V,W){var Y=V.direction,Q=Y==="up"||Y==="down",re=V._dims,te=V.active,le,be,Se;if(Q)for(be=0,Se=0;Se<te;Se++)be+=re.heights[Se]+d.gapButton;else for(le=0,Se=0;Se<te;Se++)le+=re.widths[Se]+d.gapButton;oe.enable(W,le,be),oe.hbar&&oe.hbar.attr("opacity","0").transition().attr("opacity","1"),oe.vbar&&oe.vbar.attr("opacity","0").transition().attr("opacity","1")}function b(O){var X=!!O.hbar,ie=!!O.vbar;X&&O.hbar.transition().attr("opacity","0").each("end",function(){X=!1,ie||O.disable()}),ie&&O.vbar.transition().attr("opacity","0").each("end",function(){ie=!1,X||O.disable()})}function S(O,X,ie,oe){O.call(M,X).call(I,X,ie,oe)}function M(O,X){var ie=f.ensureSingle(O,"rect",d.itemRectClassName,function(oe){oe.attr({rx:d.rx,ry:d.ry,"shape-rendering":"crispEdges"})});ie.call(l.stroke,X.bordercolor).call(l.fill,X.bgcolor).style("stroke-width",X.borderwidth+"px")}function I(O,X,ie,oe){var V=f.ensureSingle(O,"text",d.itemTextClassName,function(Q){Q.attr({"text-anchor":"start","data-notex":1})}),W=ie.label,Y=oe._fullLayout._meta;Y&&(W=f.templateString(W,Y)),V.call(u.font,X.font).text(W).call(h.convertToTspans,oe)}function T(O,X){var ie=X.active;O.each(function(oe,V){var W=o.select(this);V===ie&&X.showactive&&W.select("rect."+d.itemRectClassName).call(l.fill,d.activeColor)})}function B(O){O.select("rect."+d.itemRectClassName).call(l.fill,d.hoverColor)}function H(O,X){O.select("rect."+d.itemRectClassName).call(l.fill,X.bgcolor)}function Z(O,X){var ie=X._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},oe=u.tester.selectAll("g."+d.dropdownButtonClassName).data(f.filterVisible(X.buttons));oe.enter().append("g").classed(d.dropdownButtonClassName,!0);var V=["up","down"].indexOf(X.direction)!==-1;oe.each(function(le,be){var Se=o.select(this);Se.call(S,X,le,O);var ze=Se.select("."+d.itemTextClassName),Te=ze.node()&&u.bBox(ze.node()).width,ye=Math.max(Te+d.textPadX,d.minWidth),he=X.font.size*m,P=h.lineCount(ze),U=Math.max(he*P,d.minHeight)+d.textOffsetY;U=Math.ceil(U),ye=Math.ceil(ye),ie.widths[be]=ye,ie.heights[be]=U,ie.height1=Math.max(ie.height1,U),ie.width1=Math.max(ie.width1,ye),V?(ie.totalWidth=Math.max(ie.totalWidth,ye),ie.openWidth=ie.totalWidth,ie.totalHeight+=U+d.gapButton,ie.openHeight+=U+d.gapButton):(ie.totalWidth+=ye+d.gapButton,ie.openWidth+=ye+d.gapButton,ie.totalHeight=Math.max(ie.totalHeight,U),ie.openHeight=ie.totalHeight)}),V?ie.totalHeight-=d.gapButton:ie.totalWidth-=d.gapButton,ie.headerWidth=ie.width1+d.arrowPadX,ie.headerHeight=ie.height1,X.type==="dropdown"&&(V?(ie.width1+=d.arrowPadX,ie.totalHeight=ie.height1):ie.totalWidth=ie.width1,ie.totalWidth+=d.arrowPadX),oe.remove();var W=ie.totalWidth+X.pad.l+X.pad.r,Y=ie.totalHeight+X.pad.t+X.pad.b,Q=O._fullLayout._size;ie.lx=Q.l+Q.w*X.x,ie.ly=Q.t+Q.h*(1-X.y);var re="left";f.isRightAnchor(X)&&(ie.lx-=W,re="right"),f.isCenterAnchor(X)&&(ie.lx-=W/2,re="center");var te="top";f.isBottomAnchor(X)&&(ie.ly-=Y,te="bottom"),f.isMiddleAnchor(X)&&(ie.ly-=Y/2,te="middle"),ie.totalWidth=Math.ceil(ie.totalWidth),ie.totalHeight=Math.ceil(ie.totalHeight),ie.lx=Math.round(ie.lx),ie.ly=Math.round(ie.ly),c.autoMargin(O,$(X),{x:X.x,y:X.y,l:W*({right:1,center:.5}[re]||0),r:W*({left:1,center:.5}[re]||0),b:Y*({top:1,middle:.5}[te]||0),t:Y*({bottom:1,middle:.5}[te]||0)})}function $(O){return d.autoMarginIdRoot+O._index}function N(O,X,ie,oe){oe=oe||{};var V=O.select("."+d.itemRectClassName),W=O.select("."+d.itemTextClassName),Y=X.borderwidth,Q=ie.index,re=X._dims;u.setTranslate(O,Y+ie.x,Y+ie.y);var te=["up","down"].indexOf(X.direction)!==-1,le=oe.height||(te?re.heights[Q]:re.height1);V.attr({x:0,y:0,width:oe.width||(te?re.width1:re.widths[Q]),height:le});var be=X.font.size*m,Se=h.lineCount(W),ze=(Se-1)*be/2;h.positionText(W,d.textOffsetX,le/2-ze+d.textOffsetY),te?ie.y+=re.heights[Q]+ie.yPad:ie.x+=re.widths[Q]+ie.xPad,ie.index++}function j(O,X){O.attr(d.menuIndexAttrName,X||"-1").selectAll("g."+d.dropdownButtonClassName).remove()}},6230:function(i,s,a){"use strict";var o=a(1559);i.exports={moduleType:"component",name:o.name,layoutAttributes:a(5389),supplyLayoutDefaults:a(2746),draw:a(974)}},1736:function(i,s,a){"use strict";i.exports=f;var o=a(5568),c=a(8766),l=a(2203),u=a(4809);function f(h,p,m){this.gd=h,this.container=p,this.id=m,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}f.barWidth=2,f.barLength=20,f.barRadius=2,f.barPad=1,f.barColor="#808BA4",f.prototype.enable=function(p,m,d){var y=this.gd._fullLayout,x=y.width,w=y.height;this.position=p;var L=this.position.l,_=this.position.w,D=this.position.t,C=this.position.h,z=this.position.direction,b=z==="down",S=z==="left",M=z==="right",I=z==="up",T=_,B=C,H,Z,$,N;!b&&!S&&!M&&!I&&(this.position.direction="down",b=!0);var j=b||I;j?(H=L,Z=H+T,b?($=D,N=Math.min($+B,w),B=N-$):(N=D+B,$=Math.max(N-B,0),B=N-$)):($=D,N=$+B,S?(Z=L+T,H=Math.max(Z-T,0),T=Z-H):(H=L,Z=Math.min(H+T,x),T=Z-H)),this._box={l:H,t:$,w:T,h:B};var O=_>T,X=f.barLength+2*f.barPad,ie=f.barWidth+2*f.barPad,oe=L,V=D+C;V+ie>w&&(V=w-ie);var W=this.container.selectAll("rect.scrollbar-horizontal").data(O?[0]:[]);W.exit().on(".drag",null).remove(),W.enter().append("rect").classed("scrollbar-horizontal",!0).call(c.fill,f.barColor),O?(this.hbar=W.attr({rx:f.barRadius,ry:f.barRadius,x:oe,y:V,width:X,height:ie}),this._hbarXMin=oe+X/2,this._hbarTranslateMax=T-X):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var Y=C>B,Q=f.barWidth+2*f.barPad,re=f.barLength+2*f.barPad,te=L+_,le=D;te+Q>x&&(te=x-Q);var be=this.container.selectAll("rect.scrollbar-vertical").data(Y?[0]:[]);be.exit().on(".drag",null).remove(),be.enter().append("rect").classed("scrollbar-vertical",!0).call(c.fill,f.barColor),Y?(this.vbar=be.attr({rx:f.barRadius,ry:f.barRadius,x:te,y:le,width:Q,height:re}),this._vbarYMin=le+re/2,this._vbarTranslateMax=B-re):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var Se=this.id,ze=H-.5,Te=Y?Z+Q+.5:Z+.5,ye=$-.5,he=O?N+ie+.5:N+.5,P=y._topdefs.selectAll("#"+Se).data(O||Y?[0]:[]);if(P.exit().remove(),P.enter().append("clipPath").attr("id",Se).append("rect"),O||Y?(this._clipRect=P.select("rect").attr({x:Math.floor(ze),y:Math.floor(ye),width:Math.ceil(Te)-Math.floor(ze),height:Math.ceil(he)-Math.floor(ye)}),this.container.call(l.setClipUrl,Se,this.gd),this.bg.attr({x:L,y:D,width:_,height:C})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(l.setClipUrl,null),delete this._clipRect),O||Y){var U=o.behavior.drag().on("dragstart",function(){o.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(U);var ee=o.behavior.drag().on("dragstart",function(){o.event.sourceEvent.preventDefault(),o.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));O&&this.hbar.on(".drag",null).call(ee),Y&&this.vbar.on(".drag",null).call(ee)}this.setTranslate(m,d)},f.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(l.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},f.prototype._onBoxDrag=function(){var p=this.translateX,m=this.translateY;this.hbar&&(p-=o.event.dx),this.vbar&&(m-=o.event.dy),this.setTranslate(p,m)},f.prototype._onBoxWheel=function(){var p=this.translateX,m=this.translateY;this.hbar&&(p+=o.event.deltaY),this.vbar&&(m+=o.event.deltaY),this.setTranslate(p,m)},f.prototype._onBarDrag=function(){var p=this.translateX,m=this.translateY;if(this.hbar){var d=p+this._hbarXMin,y=d+this._hbarTranslateMax,x=u.constrain(o.event.x,d,y),w=(x-d)/(y-d),L=this.position.w-this._box.w;p=w*L}if(this.vbar){var _=m+this._vbarYMin,D=_+this._vbarTranslateMax,C=u.constrain(o.event.y,_,D),z=(C-_)/(D-_),b=this.position.h-this._box.h;m=z*b}this.setTranslate(p,m)},f.prototype.setTranslate=function(p,m){var d=this.position.w-this._box.w,y=this.position.h-this._box.h;if(p=u.constrain(p||0,0,d),m=u.constrain(m||0,0,y),this.translateX=p,this.translateY=m,this.container.call(l.setTranslate,this._box.l-this.position.l-p,this._box.t-this.position.t-m),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+p-.5),y:Math.floor(this.position.t+m-.5)}),this.hbar){var x=p/d;this.hbar.call(l.setTranslate,p+x*this._hbarTranslateMax,m)}if(this.vbar){var w=m/y;this.vbar.call(l.setTranslate,p,m+w*this._vbarTranslateMax)}}},4530:function(i){"use strict";i.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},5081:function(i){"use strict";i.exports={axisRefDescription:function(s,a,o){return["If set to a",s,"axis id (e.g. *"+s+"* or","*"+s+"2*), the `"+s+"` position refers to a",s,"coordinate. If set to *paper*, the `"+s+"`","position refers to the distance from the",a,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",a,"("+o+"). If set to a",s,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",a,"of the domain of that axis: e.g.,","*"+s+"2 domain* refers to the domain of the second",s," axis and a",s,"position of 0.5 refers to the","point between the",a,"and the",o,"of the domain of the","second",s,"axis."].join(" ")}}},7296:function(i){"use strict";i.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},726:function(i){"use strict";i.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},438:function(i){"use strict";i.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},3821:function(i){"use strict";i.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,ONEMILLI:1,ONEMICROSEC:.001,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},2972:function(i,s){"use strict";s.xmlns="http://www.w3.org/2000/xmlns/",s.svg="http://www.w3.org/2000/svg",s.xlink="http://www.w3.org/1999/xlink",s.svgAttrs={xmlns:s.svg,"xmlns:xlink":s.xlink}},7430:function(i,s,a){"use strict";s.version=a(9697).version,a(1116),a(6713);for(var o=a(3626),c=s.register=o.register,l=a(742),u=Object.keys(l),f=0;f<u.length;f++){var h=u[f];h.charAt(0)!=="_"&&(s[h]=l[h]),c({moduleType:"apiMethod",name:h,fn:l[h]})}c(a(9693)),c([a(3599),a(3348),a(4844),a(3701),a(5553),a(6230),a(5359),a(5429),a(4453),a(3595),a(7901),a(8856),a(6919),a(2494),a(2141),a(5433)]),c([a(227),a(4611)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(c(window.PlotlyLocales),delete window.PlotlyLocales),s.Icons=a(5188);var p=a(2141),m=a(4122);s.Plots={resize:m.resize,graphJson:m.graphJson,sendDataToCloud:m.sendDataToCloud},s.Fx={hover:p.hover,unhover:p.unhover,loneHover:p.loneHover,loneUnhover:p.loneUnhover},s.Snapshot=a(6170),s.PlotSchema=a(7297)},5188:function(i){"use strict";i.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},2546:function(i,s){"use strict";s.isLeftAnchor=function(o){return o.xanchor==="left"||o.xanchor==="auto"&&o.x<=.3333333333333333},s.isCenterAnchor=function(o){return o.xanchor==="center"||o.xanchor==="auto"&&o.x>.3333333333333333&&o.x<.6666666666666666},s.isRightAnchor=function(o){return o.xanchor==="right"||o.xanchor==="auto"&&o.x>=.6666666666666666},s.isTopAnchor=function(o){return o.yanchor==="top"||o.yanchor==="auto"&&o.y>=.6666666666666666},s.isMiddleAnchor=function(o){return o.yanchor==="middle"||o.yanchor==="auto"&&o.y>.3333333333333333&&o.y<.6666666666666666},s.isBottomAnchor=function(o){return o.yanchor==="bottom"||o.yanchor==="auto"&&o.y<=.3333333333333333}},4313:function(i,s,a){"use strict";var o=a(8953),c=o.mod,l=o.modHalf,u=Math.PI,f=2*u;function h(z){return z/180*u}function p(z){return z/u*180}function m(z){return Math.abs(z[1]-z[0])>f-1e-14}function d(z,b){return l(b-z,f)}function y(z,b){return Math.abs(d(z,b))}function x(z,b){if(m(b))return!0;var S,M;b[0]<b[1]?(S=b[0],M=b[1]):(S=b[1],M=b[0]),S=c(S,f),M=c(M,f),S>M&&(M+=f);var I=c(z,f),T=I+f;return I>=S&&I<=M||T>=S&&T<=M}function w(z,b,S,M){if(!x(b,M))return!1;var I,T;return S[0]<S[1]?(I=S[0],T=S[1]):(I=S[1],T=S[0]),z>=I&&z<=T}function L(z,b,S,M,I,T,B){I=I||0,T=T||0;var H=m([S,M]),Z,$,N,j,O;H?(Z=0,$=u,N=f):S<M?(Z=S,N=M):(Z=M,N=S),z<b?(j=z,O=b):(j=b,O=z);function X(W,Y){return[W*Math.cos(Y)+I,T-W*Math.sin(Y)]}var ie=Math.abs(N-Z)<=u?0:1;function oe(W,Y,Q){return"A"+[W,W]+" "+[0,ie,Q]+" "+X(W,Y)}var V;return H?j===null?V="M"+X(O,Z)+oe(O,$,0)+oe(O,N,0)+"Z":V="M"+X(j,Z)+oe(j,$,0)+oe(j,N,0)+"ZM"+X(O,Z)+oe(O,$,1)+oe(O,N,1)+"Z":j===null?(V="M"+X(O,Z)+oe(O,N,0),B&&(V+="L0,0Z")):V="M"+X(j,Z)+"L"+X(O,Z)+oe(O,N,0)+"L"+X(j,N)+oe(j,Z,1)+"Z",V}function _(z,b,S,M,I){return L(null,z,b,S,M,I,0)}function D(z,b,S,M,I){return L(null,z,b,S,M,I,1)}function C(z,b,S,M,I,T){return L(z,b,S,M,I,T,1)}i.exports={deg2rad:h,rad2deg:p,angleDelta:d,angleDist:y,isFullCircle:m,isAngleInsideSector:x,isPtInsideSector:w,pathArc:_,pathSector:D,pathAnnulus:C}},7800:function(i,s,a){"use strict";var o=a(3229).decode,c=a(6174),l=Array.isArray,u=ArrayBuffer,f=DataView;function h(L){return u.isView(L)&&!(L instanceof f)}s.isTypedArray=h;function p(L){return l(L)||h(L)}s.isArrayOrTypedArray=p;function m(L){return!p(L[0])}s.isArray1D=m,s.ensureArray=function(L,_){return l(L)||(L=[]),L.length=_,L};var d={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};d.uint8c=d.u1c,d.uint8=d.u1,d.int8=d.i1,d.uint16=d.u2,d.int16=d.i2,d.uint32=d.u4,d.int32=d.i4,d.float32=d.f4,d.float64=d.f8;function y(L){return L.constructor===ArrayBuffer}s.isArrayBuffer=y,s.decodeTypedArraySpec=function(L){var _=[],D=x(L),C=D.dtype,z=d[C];if(!z)throw new Error('Error in dtype: "'+C+'"');var b=z.BYTES_PER_ELEMENT,S=D.bdata;y(S)||(S=o(S));var M=D.shape===void 0?[S.byteLength/b]:(""+D.shape).split(",");M.reverse();var I=M.length,T,B,H=+M[0],Z=b*H,$=0;if(I===1)_=new z(S);else if(I===2)for(T=+M[1],B=0;B<T;B++)_[B]=new z(S,$,H),$+=Z;else if(I===3){T=+M[1];for(var N=+M[2],j=0;j<N;j++)for(_[j]=[],B=0;B<T;B++)_[j][B]=new z(S,$,H),$+=Z}else throw new Error("ndim: "+I+'is not supported with the shape:"'+D.shape+'"');return _.bdata=D.bdata,_.dtype=D.dtype,_.shape=M.reverse().join(","),L._inputArray=_,_},s.isTypedArraySpec=function(L){return c(L)&&L.hasOwnProperty("dtype")&&typeof L.dtype=="string"&&L.hasOwnProperty("bdata")&&(typeof L.bdata=="string"||y(L.bdata))&&(L.shape===void 0||L.hasOwnProperty("shape")&&(typeof L.shape=="string"||typeof L.shape=="number"))};function x(L){return{bdata:L.bdata,dtype:L.dtype,shape:L.shape}}s.concat=function(){var L=[],_=!0,D=0,C,z,b,S,M,I,T,B;for(b=0;b<arguments.length;b++)S=arguments[b],I=S.length,I&&(z?L.push(S):(z=S,M=I),l(S)?C=!1:(_=!1,D?C!==S.constructor&&(C=!1):C=S.constructor),D+=I);if(!D)return[];if(!L.length)return z;if(_)return z.concat.apply(z,L);if(C){for(T=new C(D),T.set(z),b=0;b<L.length;b++)S=L[b],T.set(S,M),M+=S.length;return T}for(T=new Array(D),B=0;B<z.length;B++)T[B]=z[B];for(b=0;b<L.length;b++){for(S=L[b],B=0;B<S.length;B++)T[M+B]=S[B];M+=B}return T},s.maxRowLength=function(L){return w(L,Math.max,0)},s.minRowLength=function(L){return w(L,Math.min,1/0)};function w(L,_,D){if(p(L))if(p(L[0])){for(var C=D,z=0;z<L.length;z++)C=_(C,L[z].length);return C}else return L.length;return 0}},4498:function(i,s,a){"use strict";var o=a(721),c=a(3821).BADNUM,l=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;i.exports=function(f){return typeof f=="string"&&(f=f.replace(l,"")),o(f)?Number(f):c}},4823:function(i){"use strict";i.exports=function(a){var o=a._fullLayout;o._glcanvas&&o._glcanvas.size()&&o._glcanvas.each(function(c){c.regl&&c.regl.clear({color:!0,depth:!0})})}},3493:function(i){"use strict";i.exports=function(a){a._responsiveChartHandler&&(window.removeEventListener("resize",a._responsiveChartHandler),delete a._responsiveChartHandler)}},4220:function(i,s,a){"use strict";var o=a(721),c=a(5657),l=a(3049).extendFlat,u=a(9829),f=a(9017),h=a(8766),p=a(438).DESELECTDIM,m=a(5632),d=a(694).counter,y=a(8953).modHalf,x=a(7800).isArrayOrTypedArray,w=a(7800).isTypedArraySpec,L=a(7800).decodeTypedArraySpec;s.valObjectMeta={data_array:{coerceFunction:function(D,C,z){C.set(x(D)?D:w(D)?L(D):z)}},enumerated:{coerceFunction:function(D,C,z,b){b.coerceNumber&&(D=+D),b.values.indexOf(D)===-1?C.set(z):C.set(D)},validateFunction:function(D,C){C.coerceNumber&&(D=+D);for(var z=C.values,b=0;b<z.length;b++){var S=String(z[b]);if(S.charAt(0)==="/"&&S.charAt(S.length-1)==="/"){var M=new RegExp(S.substr(1,S.length-2));if(M.test(D))return!0}else if(D===z[b])return!0}return!1}},boolean:{coerceFunction:function(D,C,z){D===!0||D===!1?C.set(D):C.set(z)}},number:{coerceFunction:function(D,C,z,b){w(D)&&(D=L(D)),!o(D)||b.min!==void 0&&D<b.min||b.max!==void 0&&D>b.max?C.set(z):C.set(+D)}},integer:{coerceFunction:function(D,C,z,b){if((b.extras||[]).indexOf(D)!==-1){C.set(D);return}w(D)&&(D=L(D)),D%1||!o(D)||b.min!==void 0&&D<b.min||b.max!==void 0&&D>b.max?C.set(z):C.set(+D)}},string:{coerceFunction:function(D,C,z,b){if(typeof D!="string"){var S=typeof D=="number";b.strict===!0||!S?C.set(z):C.set(String(D))}else b.noBlank&&!D?C.set(z):C.set(D)}},color:{coerceFunction:function(D,C,z){w(D)&&(D=L(D)),c(D).isValid()?C.set(D):C.set(z)}},colorlist:{coerceFunction:function(D,C,z){function b(S){return c(S).isValid()}!Array.isArray(D)||!D.length?C.set(z):D.every(b)?C.set(D):C.set(z)}},colorscale:{coerceFunction:function(D,C,z){C.set(f.get(D,z))}},angle:{coerceFunction:function(D,C,z){w(D)&&(D=L(D)),D==="auto"?C.set("auto"):o(D)?C.set(y(+D,360)):C.set(z)}},subplotid:{coerceFunction:function(D,C,z,b){var S=b.regex||d(z);if(typeof D=="string"&&S.test(D)){C.set(D);return}C.set(z)},validateFunction:function(D,C){var z=C.dflt;return D===z?!0:typeof D!="string"?!1:!!d(z).test(D)}},flaglist:{coerceFunction:function(D,C,z,b){if((b.extras||[]).indexOf(D)!==-1){C.set(D);return}if(typeof D!="string"){C.set(z);return}for(var S=D.split("+"),M=0;M<S.length;){var I=S[M];b.flags.indexOf(I)===-1||S.indexOf(I)<M?S.splice(M,1):M++}S.length?C.set(S.join("+")):C.set(z)}},any:{coerceFunction:function(D,C,z){D===void 0?C.set(z):C.set(w(D)?L(D):D)}},info_array:{coerceFunction:function(D,C,z,b){function S(V,W,Y){var Q,re={set:function(te){Q=te}};return Y===void 0&&(Y=W.dflt),s.valObjectMeta[W.valType].coerceFunction(V,re,Y,W),Q}if(w(D)&&(D=L(D)),!x(D)){C.set(z);return}var M=b.dimensions===2||b.dimensions==="1-2"&&Array.isArray(D)&&x(D[0]),I=b.items,T=[],B=Array.isArray(I),H=B&&M&&x(I[0]),Z=M&&B&&!H,$=B&&!Z?I.length:D.length,N,j,O,X,ie,oe;if(z=Array.isArray(z)?z:[],M)for(N=0;N<$;N++)for(T[N]=[],O=x(D[N])?D[N]:[],Z?ie=I.length:B?ie=I[N].length:ie=O.length,j=0;j<ie;j++)Z?X=I[j]:B?X=I[N][j]:X=I,oe=S(O[j],X,(z[N]||[])[j]),oe!==void 0&&(T[N][j]=oe);else for(N=0;N<$;N++)oe=S(D[N],B?I[N]:I,z[N]),oe!==void 0&&(T[N]=oe);C.set(T)},validateFunction:function(D,C){if(!x(D))return!1;var z=C.items,b=Array.isArray(z),S=C.dimensions===2;if(!C.freeLength&&D.length!==z.length)return!1;for(var M=0;M<D.length;M++)if(S){if(!x(D[M])||!C.freeLength&&D[M].length!==z[M].length)return!1;for(var I=0;I<D[M].length;I++)if(!_(D[M][I],b?z[M][I]:z))return!1}else if(!_(D[M],b?z[M]:z))return!1;return!0}}},s.coerce=function(D,C,z,b,S){var M=m(z,b).get(),I=m(D,b),T=m(C,b),B=I.get(),H=C._template;if(B===void 0&&H&&(B=m(H,b).get(),H=0),S===void 0&&(S=M.dflt),M.arrayOk){if(x(B))return T.set(B),B;if(w(B))return B=L(B),T.set(B),B}var Z=s.valObjectMeta[M.valType].coerceFunction;Z(B,T,S,M);var $=T.get();return H&&$===S&&!_(B,M)&&(B=m(H,b).get(),Z(B,T,S,M),$=T.get()),$},s.coerce2=function(D,C,z,b,S){var M=m(D,b),I=s.coerce(D,C,z,b,S),T=M.get();return T!=null?I:!1},s.coerceFont=function(D,C,z,b){b||(b={}),z=l({},z),z=l(z,b.overrideDflt||{});var S={family:D(C+".family",z.family),size:D(C+".size",z.size),color:D(C+".color",z.color),weight:D(C+".weight",z.weight),style:D(C+".style",z.style)};if(b.noFontVariant||(S.variant=D(C+".variant",z.variant)),b.noFontLineposition||(S.lineposition=D(C+".lineposition",z.lineposition)),b.noFontTextcase||(S.textcase=D(C+".textcase",z.textcase)),!b.noFontShadow){var M=z.shadow;M==="none"&&b.autoShadowDflt&&(M="auto"),S.shadow=D(C+".shadow",M)}return S},s.coercePattern=function(D,C,z,b){var S=D(C+".shape");if(S){D(C+".solidity"),D(C+".size");var M=D(C+".fillmode"),I=M==="overlay";if(!b){var T=D(C+".bgcolor",I?z:void 0);D(C+".fgcolor",I?h.contrast(T):z)}D(C+".fgopacity",I?.5:1)}},s.coerceHoverinfo=function(D,C,z){var b=C._module.attributes,S=b.hoverinfo?b:u,M=S.hoverinfo,I;if(z._dataLength===1){var T=M.dflt==="all"?M.flags.slice():M.dflt.split("+");T.splice(T.indexOf("name"),1),I=T.join("+")}return s.coerce(D,C,S,"hoverinfo",I)},s.coerceSelectionMarkerOpacity=function(D,C){if(D.marker){var z=D.marker.opacity;if(z!==void 0){var b,S;!x(z)&&!D.selected&&!D.unselected&&(b=z,S=p*z),C("selected.marker.opacity",b),C("unselected.marker.opacity",S)}}};function _(D,C){var z=s.valObjectMeta[C.valType];if(C.arrayOk&&x(D))return!0;if(z.validateFunction)return z.validateFunction(D,C);var b={},S=b,M={set:function(I){S=I}};return z.coerceFunction(D,M,b,C),S!==b}s.validate=_},2596:function(i,s,a){"use strict";var o=a(2696).DC,c=a(721),l=a(8636),u=a(8953).mod,f=a(3821),h=f.BADNUM,p=f.ONEDAY,m=f.ONEHOUR,d=f.ONEMIN,y=f.ONESEC,x=f.EPOCHJD,w=a(3626),L=a(2696).aL,_=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,D=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,C=new Date().getFullYear()-70;function z(V){return V&&w.componentsRegistry.calendars&&typeof V=="string"&&V!=="gregorian"}s.dateTick0=function(V,W){var Y=b(V,!!W);if(W<2)return Y;var Q=s.dateTime2ms(Y,V);return Q+=p*(W-1),s.ms2DateTime(Q,0,V)};function b(V,W){return z(V)?W?w.getComponentMethod("calendars","CANONICAL_SUNDAY")[V]:w.getComponentMethod("calendars","CANONICAL_TICK")[V]:W?"2000-01-02":"2000-01-01"}s.dfltRange=function(V){return z(V)?w.getComponentMethod("calendars","DFLTRANGE")[V]:["2000-01-01","2001-01-01"]},s.isJSDate=function(V){return typeof V=="object"&&V!==null&&typeof V.getTime=="function"};var S,M;s.dateTime2ms=function(V,W){if(s.isJSDate(V)){var Y=V.getTimezoneOffset()*d,Q=(V.getUTCMinutes()-V.getMinutes())*d+(V.getUTCSeconds()-V.getSeconds())*y+(V.getUTCMilliseconds()-V.getMilliseconds());if(Q){var re=3*d;Y=Y-re/2+u(Q-Y+re/2,re)}return V=Number(V)-Y,V>=S&&V<=M?V:h}if(typeof V!="string"&&typeof V!="number")return h;V=String(V);var te=z(W),le=V.charAt(0);te&&(le==="G"||le==="g")&&(V=V.substr(1),W="");var be=te&&W.substr(0,7)==="chinese",Se=V.match(be?D:_);if(!Se)return h;var ze=Se[1],Te=Se[3]||"1",ye=Number(Se[5]||1),he=Number(Se[7]||0),P=Number(Se[9]||0),U=Number(Se[11]||0);if(te){if(ze.length===2)return h;ze=Number(ze);var ee;try{var G=w.getComponentMethod("calendars","getCal")(W);if(be){var E=Te.charAt(Te.length-1)==="i";Te=parseInt(Te,10),ee=G.newDate(ze,G.toMonthIndex(ze,Te,E),ye)}else ee=G.newDate(ze,Number(Te),ye)}catch{return h}return ee?(ee.toJD()-x)*p+he*m+P*d+U*y:h}ze.length===2?ze=(Number(ze)+2e3-C)%100+C:ze=Number(ze),Te-=1;var K=new Date(Date.UTC(2e3,Te,ye,he,P));return K.setUTCFullYear(ze),K.getUTCMonth()!==Te||K.getUTCDate()!==ye?h:K.getTime()+U*y},S=s.MIN_MS=s.dateTime2ms("-9999"),M=s.MAX_MS=s.dateTime2ms("9999-12-31 23:59:59.9999"),s.isDateTime=function(V,W){return s.dateTime2ms(V,W)!==h};function I(V,W){return String(V+Math.pow(10,W)).substr(1)}var T=90*p,B=3*m,H=5*d;s.ms2DateTime=function(V,W,Y){if(typeof V!="number"||!(V>=S&&V<=M))return h;W||(W=0);var Q=Math.floor(u(V+.05,1)*10),re=Math.round(V-Q/10),te,le,be,Se,ze,Te;if(z(Y)){var ye=Math.floor(re/p)+x,he=Math.floor(u(V,p));try{te=w.getComponentMethod("calendars","getCal")(Y).fromJD(ye).formatDate("yyyy-mm-dd")}catch{te=L("G%Y-%m-%d")(new Date(re))}if(te.charAt(0)==="-")for(;te.length<11;)te="-0"+te.substr(1);else for(;te.length<10;)te="0"+te;le=W<T?Math.floor(he/m):0,be=W<T?Math.floor(he%m/d):0,Se=W<B?Math.floor(he%d/y):0,ze=W<H?he%y*10+Q:0}else Te=new Date(re),te=L("%Y-%m-%d")(Te),le=W<T?Te.getUTCHours():0,be=W<T?Te.getUTCMinutes():0,Se=W<B?Te.getUTCSeconds():0,ze=W<H?Te.getUTCMilliseconds()*10+Q:0;return Z(te,le,be,Se,ze)},s.ms2DateTimeLocal=function(V){if(!(V>=S+p&&V<=M-p))return h;var W=Math.floor(u(V+.05,1)*10),Y=new Date(Math.round(V-W/10)),Q=o("%Y-%m-%d")(Y),re=Y.getHours(),te=Y.getMinutes(),le=Y.getSeconds(),be=Y.getUTCMilliseconds()*10+W;return Z(Q,re,te,le,be)};function Z(V,W,Y,Q,re){if((W||Y||Q||re)&&(V+=" "+I(W,2)+":"+I(Y,2),(Q||re)&&(V+=":"+I(Q,2),re))){for(var te=4;re%10===0;)te-=1,re/=10;V+="."+I(re,te)}return V}s.cleanDate=function(V,W,Y){if(V===h)return W;if(s.isJSDate(V)||typeof V=="number"&&isFinite(V)){if(z(Y))return l.error("JS Dates and milliseconds are incompatible with world calendars",V),W;if(V=s.ms2DateTimeLocal(+V),!V&&W!==void 0)return W}else if(!s.isDateTime(V,Y))return l.error("unrecognized date",V),W;return V};var $=/%\d?f/g,N=/%h/g,j={1:"1",2:"1",3:"2",4:"2"};function O(V,W,Y,Q){V=V.replace($,function(te){var le=Math.min(+te.charAt(1)||6,6),be=(W/1e3%1+2).toFixed(le).substr(2).replace(/0+$/,"")||"0";return be});var re=new Date(Math.floor(W+.05));if(V=V.replace(N,function(){return j[Y("%q")(re)]}),z(Q))try{V=w.getComponentMethod("calendars","worldCalFmt")(V,W,Q)}catch{return"Invalid"}return Y(V)(re)}var X=[59,59.9,59.99,59.999,59.9999];function ie(V,W){var Y=u(V+.05,p),Q=I(Math.floor(Y/m),2)+":"+I(u(Math.floor(Y/d),60),2);if(W!=="M"){c(W)||(W=0);var re=Math.min(u(V/y,60),X[W]),te=(100+re).toFixed(W).substr(1);W>0&&(te=te.replace(/0+$/,"").replace(/[\.]$/,"")),Q+=":"+te}return Q}s.formatDate=function(V,W,Y,Q,re,te){if(re=z(re)&&re,!W)if(Y==="y")W=te.year;else if(Y==="m")W=te.month;else if(Y==="d")W=te.dayMonth+`
`+te.year;else return ie(V,Y)+`
`+O(te.dayMonthYear,V,Q,re);return O(W,V,Q,re)};var oe=3*p;s.incrementMonth=function(V,W,Y){Y=z(Y)&&Y;var Q=u(V,p);if(V=Math.round(V-Q),Y)try{var re=Math.round(V/p)+x,te=w.getComponentMethod("calendars","getCal")(Y),le=te.fromJD(re);return W%12?te.add(le,W,"m"):te.add(le,W/12,"y"),(le.toJD()-x)*p+Q}catch{l.error("invalid ms "+V+" in calendar "+Y)}var be=new Date(V+oe);return be.setUTCMonth(be.getUTCMonth()+W)+Q-oe},s.findExactDates=function(V,W){for(var Y=0,Q=0,re=0,te=0,le,be,Se=z(W)&&w.getComponentMethod("calendars","getCal")(W),ze=0;ze<V.length;ze++){if(be=V[ze],!c(be)){te++;continue}if(!(be%p))if(Se)try{le=Se.fromJD(be/p+x),le.day()===1?le.month()===1?Y++:Q++:re++}catch{}else le=new Date(be),le.getUTCDate()===1?le.getUTCMonth()===0?Y++:Q++:re++}Q+=Y,re+=Q;var Te=V.length-te;return{exactYears:Y/Te,exactMonths:Q/Te,exactDays:re/Te}}},5425:function(i,s,a){"use strict";var o=a(5568),c=a(8636),l=a(5236),u=a(1191);function f(C){var z;if(typeof C=="string"){if(z=document.getElementById(C),z===null)throw new Error("No DOM element with id '"+C+"' exists on the page.");return z}else if(C==null)throw new Error("DOM element provided is null or undefined");return C}function h(C){var z=o.select(C);return z.node()instanceof HTMLElement&&z.size()&&z.classed("js-plotly-plot")}function p(C){var z=C&&C.parentNode;z&&z.removeChild(C)}function m(C,z){d("global",C,z)}function d(C,z,b){var S="plotly.js-style-"+C,M=document.getElementById(S);M||(M=document.createElement("style"),M.setAttribute("id",S),M.appendChild(document.createTextNode("")),document.head.appendChild(M));var I=M.sheet;I.insertRule?I.insertRule(z+"{"+b+"}",0):I.addRule?I.addRule(z,b,0):c.warn("addStyleRule failed")}function y(C){var z="plotly.js-style-"+C,b=document.getElementById(z);b&&p(b)}function x(C){var z=L(C),b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return z.forEach(function(S){var M=w(S);if(M){var I=l.convertCssMatrix(M);b=u.multiply(b,b,I)}}),b}function w(C){var z=window.getComputedStyle(C,null),b=z.getPropertyValue("-webkit-transform")||z.getPropertyValue("-moz-transform")||z.getPropertyValue("-ms-transform")||z.getPropertyValue("-o-transform")||z.getPropertyValue("transform");return b==="none"?null:b.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(S){return+S})}function L(C){for(var z=[];_(C);)z.push(C),C=C.parentNode,typeof ShadowRoot=="function"&&C instanceof ShadowRoot&&(C=C.host);return z}function _(C){return C&&(C instanceof Element||C instanceof HTMLElement)}function D(C,z){return C&&z&&C.top===z.top&&C.left===z.left&&C.right===z.right&&C.bottom===z.bottom}i.exports={getGraphDiv:f,isPlotDiv:h,removeElement:p,addStyleRule:m,addRelatedStyleRule:d,deleteRelatedStyleRule:y,getFullTransformMatrix:x,getElementTransformMatrix:w,getElementAndAncestors:L,equalDomRects:D}},8596:function(i,s,a){"use strict";var o=a(7683).EventEmitter,c={init:function(l){if(l._ev instanceof o)return l;var u=new o,f=new o;return l._ev=u,l._internalEv=f,l.on=u.on.bind(u),l.once=u.once.bind(u),l.removeListener=u.removeListener.bind(u),l.removeAllListeners=u.removeAllListeners.bind(u),l._internalOn=f.on.bind(f),l._internalOnce=f.once.bind(f),l._removeInternalListener=f.removeListener.bind(f),l._removeAllInternalListeners=f.removeAllListeners.bind(f),l.emit=function(h,p){typeof jQuery<"u"&&jQuery(l).trigger(h,p),u.emit(h,p),f.emit(h,p)},l},triggerHandler:function(l,u,f){var h,p;typeof jQuery<"u"&&(h=jQuery(l).triggerHandler(u,f));var m=l._ev;if(!m)return h;var d=m._events[u];if(!d)return h;function y(w){if(w.listener){if(m.removeListener(u,w.listener),!w.fired)return w.fired=!0,w.listener.apply(m,[f])}else return w.apply(m,[f])}d=Array.isArray(d)?d:[d];var x;for(x=0;x<d.length-1;x++)y(d[x]);return p=y(d[x]),h!==void 0?h:p},purge:function(l){return delete l._ev,delete l.on,delete l.once,delete l.removeListener,delete l.removeAllListeners,delete l.emit,delete l._ev,delete l._internalEv,delete l._internalOn,delete l._internalOnce,delete l._removeInternalListener,delete l._removeAllInternalListeners,l}};i.exports=c},3049:function(i,s,a){"use strict";var o=a(6174),c=Array.isArray;function l(f,h){var p,m;for(p=0;p<f.length;p++){if(m=f[p],m!==null&&typeof m=="object")return!1;m!==void 0&&(h[p]=m)}return!0}s.extendFlat=function(){return u(arguments,!1,!1,!1)},s.extendDeep=function(){return u(arguments,!0,!1,!1)},s.extendDeepAll=function(){return u(arguments,!0,!0,!1)},s.extendDeepNoArrays=function(){return u(arguments,!0,!1,!0)};function u(f,h,p,m){var d=f[0],y=f.length,x,w,L,_,D,C,z;if(y===2&&c(d)&&c(f[1])&&d.length===0){if(z=l(f[1],d),z)return d;d.splice(0,d.length)}for(var b=1;b<y;b++){x=f[b];for(w in x)L=d[w],_=x[w],m&&c(_)?d[w]=_:h&&_&&(o(_)||(D=c(_)))?(D?(D=!1,C=L&&c(L)?L:[]):C=L&&o(L)?L:{},d[w]=u([C,_],h,p,m)):(typeof _<"u"||p)&&(d[w]=_)}return d}},8965:function(i){"use strict";i.exports=function(a){for(var o={},c=[],l=0,u=0;u<a.length;u++){var f=a[u];o[f]!==1&&(o[f]=1,c[l++]=f)}return c}},8926:function(i){"use strict";i.exports=function(l){for(var u=o(l)?a:s,f=[],h=0;h<l.length;h++){var p=l[h];u(p)&&f.push(p)}return f};function s(c){return c.visible===!0}function a(c){var l=c[0].trace;return l.visible===!0&&l._length!==0}function o(c){return Array.isArray(c)&&Array.isArray(c[0])&&c[0][0]&&c[0][0].trace}},3447:function(i,s,a){"use strict";var o=a(8953).mod;s.segmentsIntersect=c;function c(p,m,d,y,x,w,L,_){var D=d-p,C=x-p,z=L-x,b=y-m,S=w-m,M=_-w,I=D*M-z*b;if(I===0)return null;var T=(C*M-z*S)/I,B=(C*b-D*S)/I;return B<0||B>1||T<0||T>1?null:{x:p+D*T,y:m+b*T}}s.segmentDistance=function(m,d,y,x,w,L,_,D){if(c(m,d,y,x,w,L,_,D))return 0;var C=y-m,z=x-d,b=_-w,S=D-L,M=C*C+z*z,I=b*b+S*S,T=Math.min(l(C,z,M,w-m,L-d),l(C,z,M,_-m,D-d),l(b,S,I,m-w,d-L),l(b,S,I,y-w,x-L));return Math.sqrt(T)};function l(p,m,d,y,x){var w=y*p+x*m;if(w<0)return y*y+x*x;if(w>d){var L=y-p,_=x-m;return L*L+_*_}else{var D=y*m-x*p;return D*D/d}}var u,f,h;s.getTextLocation=function(m,d,y,x){if((m!==f||x!==h)&&(u={},f=m,h=x),u[y])return u[y];var w=m.getPointAtLength(o(y-x/2,d)),L=m.getPointAtLength(o(y+x/2,d)),_=Math.atan((L.y-w.y)/(L.x-w.x)),D=m.getPointAtLength(o(y,d)),C=(D.x*4+w.x+L.x)/6,z=(D.y*4+w.y+L.y)/6,b={x:C,y:z,theta:_};return u[y]=b,b},s.clearLocationCache=function(){f=null},s.getVisibleSegment=function(m,d,y){var x=d.left,w=d.right,L=d.top,_=d.bottom,D=0,C=m.getTotalLength(),z=C,b,S;function M(T){var B=m.getPointAtLength(T);T===0?b=B:T===C&&(S=B);var H=B.x<x?x-B.x:B.x>w?B.x-w:0,Z=B.y<L?L-B.y:B.y>_?B.y-_:0;return Math.sqrt(H*H+Z*Z)}for(var I=M(D);I;){if(D+=I+y,D>z)return;I=M(D)}for(I=M(z);I;){if(z-=I+y,D>z)return;I=M(z)}return{min:D,max:z,len:z-D,total:C,isClosed:D===0&&z===C&&Math.abs(b.x-S.x)<.1&&Math.abs(b.y-S.y)<.1}},s.findPointOnPath=function(m,d,y,x){x=x||{};for(var w=x.pathLength||m.getTotalLength(),L=x.tolerance||.001,_=x.iterationLimit||30,D=m.getPointAtLength(0)[y]>m.getPointAtLength(w)[y]?-1:1,C=0,z=0,b=w,S,M,I;C<_;){if(S=(z+b)/2,M=m.getPointAtLength(S),I=M[y]-d,Math.abs(I)<L)return M;D*I>0?b=S:z=S,C++}return M}},9527:function(i){"use strict";i.exports=function(a){return a}},688:function(i){"use strict";i.exports=function(a,o){if(!o)return a;var c=1/Math.abs(o),l=c>1?(c*a+c*o)/c:a+o,u=String(l).length;if(u>16){var f=String(o).length,h=String(a).length;if(u>=h+f){var p=parseFloat(l).toPrecision(12);p.indexOf("e+")===-1&&(l=+p)}}return l}},4809:function(i,s,a){"use strict";var o=a(5568),c=a(2696).aL,l=a(6464).GP,u=a(721),f=a(3821),h=f.FP_SAFE,p=-h,m=f.BADNUM,d=i.exports={};d.adjustFormat=function(ee){return!ee||/^\d[.]\df/.test(ee)||/[.]\d%/.test(ee)?ee:ee==="0.f"?"~f":/^\d%/.test(ee)?"~%":/^\ds/.test(ee)?"~s":!/^[~,.0$]/.test(ee)&&/[&fps]/.test(ee)?"~"+ee:ee};var y={};d.warnBadFormat=function(U){var ee=String(U);y[ee]||(y[ee]=1,d.warn('encountered bad format: "'+ee+'"'))},d.noFormat=function(U){return String(U)},d.numberFormat=function(U){var ee;try{ee=l(d.adjustFormat(U))}catch{return d.warnBadFormat(U),d.noFormat}return ee},d.nestedProperty=a(5632),d.keyedContainer=a(4967),d.relativeAttr=a(2047),d.isPlainObject=a(6174),d.toLogRange=a(8083),d.relinkPrivateKeys=a(428);var x=a(7800);d.isArrayBuffer=x.isArrayBuffer,d.isTypedArray=x.isTypedArray,d.isArrayOrTypedArray=x.isArrayOrTypedArray,d.isArray1D=x.isArray1D,d.ensureArray=x.ensureArray,d.concat=x.concat,d.maxRowLength=x.maxRowLength,d.minRowLength=x.minRowLength;var w=a(8953);d.mod=w.mod,d.modHalf=w.modHalf;var L=a(4220);d.valObjectMeta=L.valObjectMeta,d.coerce=L.coerce,d.coerce2=L.coerce2,d.coerceFont=L.coerceFont,d.coercePattern=L.coercePattern,d.coerceHoverinfo=L.coerceHoverinfo,d.coerceSelectionMarkerOpacity=L.coerceSelectionMarkerOpacity,d.validate=L.validate;var _=a(2596);d.dateTime2ms=_.dateTime2ms,d.isDateTime=_.isDateTime,d.ms2DateTime=_.ms2DateTime,d.ms2DateTimeLocal=_.ms2DateTimeLocal,d.cleanDate=_.cleanDate,d.isJSDate=_.isJSDate,d.formatDate=_.formatDate,d.incrementMonth=_.incrementMonth,d.dateTick0=_.dateTick0,d.dfltRange=_.dfltRange,d.findExactDates=_.findExactDates,d.MIN_MS=_.MIN_MS,d.MAX_MS=_.MAX_MS;var D=a(8813);d.findBin=D.findBin,d.sorterAsc=D.sorterAsc,d.sorterDes=D.sorterDes,d.distinctVals=D.distinctVals,d.roundUp=D.roundUp,d.sort=D.sort,d.findIndexOfMin=D.findIndexOfMin,d.sortObjectKeys=a(2994);var C=a(9258);d.aggNums=C.aggNums,d.len=C.len,d.mean=C.mean,d.geometricMean=C.geometricMean,d.median=C.median,d.midRange=C.midRange,d.variance=C.variance,d.stdev=C.stdev,d.interp=C.interp;var z=a(5236);d.init2dArray=z.init2dArray,d.transposeRagged=z.transposeRagged,d.dot=z.dot,d.translationMatrix=z.translationMatrix,d.rotationMatrix=z.rotationMatrix,d.rotationXYMatrix=z.rotationXYMatrix,d.apply3DTransform=z.apply3DTransform,d.apply2DTransform=z.apply2DTransform,d.apply2DTransform2=z.apply2DTransform2,d.convertCssMatrix=z.convertCssMatrix,d.inverseTransformMatrix=z.inverseTransformMatrix;var b=a(4313);d.deg2rad=b.deg2rad,d.rad2deg=b.rad2deg,d.angleDelta=b.angleDelta,d.angleDist=b.angleDist,d.isFullCircle=b.isFullCircle,d.isAngleInsideSector=b.isAngleInsideSector,d.isPtInsideSector=b.isPtInsideSector,d.pathArc=b.pathArc,d.pathSector=b.pathSector,d.pathAnnulus=b.pathAnnulus;var S=a(2546);d.isLeftAnchor=S.isLeftAnchor,d.isCenterAnchor=S.isCenterAnchor,d.isRightAnchor=S.isRightAnchor,d.isTopAnchor=S.isTopAnchor,d.isMiddleAnchor=S.isMiddleAnchor,d.isBottomAnchor=S.isBottomAnchor;var M=a(3447);d.segmentsIntersect=M.segmentsIntersect,d.segmentDistance=M.segmentDistance,d.getTextLocation=M.getTextLocation,d.clearLocationCache=M.clearLocationCache,d.getVisibleSegment=M.getVisibleSegment,d.findPointOnPath=M.findPointOnPath;var I=a(3049);d.extendFlat=I.extendFlat,d.extendDeep=I.extendDeep,d.extendDeepAll=I.extendDeepAll,d.extendDeepNoArrays=I.extendDeepNoArrays;var T=a(8636);d.log=T.log,d.warn=T.warn,d.error=T.error;var B=a(694);d.counterRegex=B.counter;var H=a(4025);d.throttle=H.throttle,d.throttleDone=H.done,d.clearThrottle=H.clear;var Z=a(5425);d.getGraphDiv=Z.getGraphDiv,d.isPlotDiv=Z.isPlotDiv,d.removeElement=Z.removeElement,d.addStyleRule=Z.addStyleRule,d.addRelatedStyleRule=Z.addRelatedStyleRule,d.deleteRelatedStyleRule=Z.deleteRelatedStyleRule,d.getFullTransformMatrix=Z.getFullTransformMatrix,d.getElementTransformMatrix=Z.getElementTransformMatrix,d.getElementAndAncestors=Z.getElementAndAncestors,d.equalDomRects=Z.equalDomRects,d.clearResponsive=a(3493),d.preserveDrawingBuffer=a(2521),d.makeTraceGroups=a(5944),d._=a(8514),d.notifier=a(7355),d.filterUnique=a(8965),d.filterVisible=a(8926),d.pushUnique=a(6539),d.increment=a(688),d.cleanNumber=a(4498),d.ensureNumber=function(ee){return u(ee)?(ee=Number(ee),ee>h||ee<p?m:ee):m},d.isIndex=function(U,ee){return ee!==void 0&&U>=ee?!1:u(U)&&U>=0&&U%1===0},d.noop=a(4969),d.identity=a(9527),d.repeat=function(U,ee){for(var G=new Array(ee),E=0;E<ee;E++)G[E]=U;return G},d.swapAttrs=function(U,ee,G,E){G||(G="x"),E||(E="y");for(var K=0;K<ee.length;K++){var R=ee[K],ne=d.nestedProperty(U,R.replace("?",G)),pe=d.nestedProperty(U,R.replace("?",E)),xe=ne.get();ne.set(pe.get()),pe.set(xe)}},d.raiseToTop=function(ee){ee.parentNode.appendChild(ee)},d.cancelTransition=function(U){return U.transition().duration(0)},d.constrain=function(U,ee,G){return ee>G?Math.max(G,Math.min(ee,U)):Math.max(ee,Math.min(G,U))},d.bBoxIntersect=function(U,ee,G){return G=G||0,U.left<=ee.right+G&&ee.left<=U.right+G&&U.top<=ee.bottom+G&&ee.top<=U.bottom+G},d.simpleMap=function(U,ee,G,E,K){for(var R=U.length,ne=new Array(R),pe=0;pe<R;pe++)ne[pe]=ee(U[pe],G,E,K);return ne},d.randstr=function U(ee,G,E,K){if(E||(E=16),G===void 0&&(G=24),G<=0)return"0";var R=Math.log(Math.pow(2,G))/Math.log(E),ne="",pe,xe,we;for(pe=2;R===1/0;pe*=2)R=Math.log(Math.pow(2,G/pe))/Math.log(E)*pe;var Ee=R-Math.floor(R);for(pe=0;pe<Math.floor(R);pe++)we=Math.floor(Math.random()*E).toString(E),ne=we+ne;Ee&&(xe=Math.pow(E,Ee),we=Math.floor(Math.random()*xe).toString(E),ne=we+ne);var Oe=parseInt(ne,E);return ee&&ee[ne]||Oe!==1/0&&Oe>=Math.pow(2,G)?K>10?(d.warn("randstr failed uniqueness"),ne):U(ee,G,E,(K||0)+1):ne},d.OptionControl=function(U,ee){U||(U={}),ee||(ee="opt");var G={};return G.optionList=[],G._newoption=function(E){E[ee]=U,G[E.name]=E,G.optionList.push(E)},G["_"+ee]=U,G},d.smooth=function(U,ee){if(ee=Math.round(ee)||0,ee<2)return U;var G=U.length,E=2*G,K=2*ee-1,R=new Array(K),ne=new Array(G),pe,xe,we,Ee;for(pe=0;pe<K;pe++)R[pe]=(1-Math.cos(Math.PI*(pe+1)/ee))/(2*ee);for(pe=0;pe<G;pe++){for(Ee=0,xe=0;xe<K;xe++)we=pe+xe+1-ee,we<-G?we-=E*Math.round(we/E):we>=E&&(we-=E*Math.floor(we/E)),we<0?we=-1-we:we>=G&&(we=E-1-we),Ee+=U[we]*R[xe];ne[pe]=Ee}return ne},d.syncOrAsync=function(U,ee,G){var E,K;function R(){return d.syncOrAsync(U,ee,G)}for(;U.length;)if(K=U.splice(0,1)[0],E=K(ee),E&&E.then)return E.then(R);return G&&G(ee)},d.stripTrailingSlash=function(U){return U.substr(-1)==="/"?U.substr(0,U.length-1):U},d.noneOrAll=function(U,ee,G){if(U){var E=!1,K=!0,R,ne;for(R=0;R<G.length;R++)ne=U[G[R]],ne!=null?E=!0:K=!1;if(E&&!K)for(R=0;R<G.length;R++)U[G[R]]=ee[G[R]]}},d.mergeArray=function(U,ee,G,E){var K=typeof E=="function";if(d.isArrayOrTypedArray(U))for(var R=Math.min(U.length,ee.length),ne=0;ne<R;ne++){var pe=U[ne];ee[ne][G]=K?E(pe):pe}},d.mergeArrayCastPositive=function(U,ee,G){return d.mergeArray(U,ee,G,function(E){var K=+E;return isFinite(K)&&K>0?K:0})},d.fillArray=function(U,ee,G,E){if(E=E||d.identity,d.isArrayOrTypedArray(U))for(var K=0;K<ee.length;K++)ee[K][G]=E(U[K])},d.castOption=function(U,ee,G,E){E=E||d.identity;var K=d.nestedProperty(U,G).get();return d.isArrayOrTypedArray(K)?Array.isArray(ee)&&d.isArrayOrTypedArray(K[ee[0]])?E(K[ee[0]][ee[1]]):E(K[ee]):K},d.extractOption=function(U,ee,G,E){if(G in U)return U[G];var K=d.nestedProperty(ee,E).get();if(!Array.isArray(K))return K};function $(U){var ee={};for(var G in U)for(var E=U[G],K=0;K<E.length;K++)ee[E[K]]=+G;return ee}d.tagSelected=function(U,ee,G){var E=ee.selectedpoints,K=ee._indexToPoints,R;K&&(R=$(K));function ne(Oe){return Oe!==void 0&&Oe<U.length}for(var pe=0;pe<E.length;pe++){var xe=E[pe];if(d.isIndex(xe)||d.isArrayOrTypedArray(xe)&&d.isIndex(xe[0])&&d.isIndex(xe[1])){var we=R?R[xe]:xe,Ee=G?G[we]:we;ne(Ee)&&(U[Ee].selected=1)}}},d.selIndices2selPoints=function(U){var ee=U.selectedpoints,G=U._indexToPoints;if(G){for(var E=$(G),K=[],R=0;R<ee.length;R++){var ne=ee[R];if(d.isIndex(ne)){var pe=E[ne];d.isIndex(pe)&&K.push(pe)}}return K}else return ee},d.getTargetArray=function(U,ee){var G=ee.target;if(typeof G=="string"&&G){var E=d.nestedProperty(U,G).get();return d.isArrayOrTypedArray(E)?E:!1}else if(d.isArrayOrTypedArray(G))return G;return!1};function N(U,ee,G){var E={};typeof ee!="object"&&(ee={});var K=G==="pieLike"?-1:3,R=Object.keys(U),ne,pe,xe;for(ne=0;ne<R.length;ne++)pe=R[ne],xe=U[pe],!(pe.charAt(0)==="_"||typeof xe=="function")&&(pe==="module"?E[pe]=xe:Array.isArray(xe)?pe==="colorscale"||K===-1?E[pe]=xe.slice():E[pe]=xe.slice(0,K):d.isTypedArray(xe)?K===-1?E[pe]=xe.subarray():E[pe]=xe.subarray(0,K):xe&&typeof xe=="object"?E[pe]=N(U[pe],ee[pe],G):E[pe]=xe);for(R=Object.keys(ee),ne=0;ne<R.length;ne++)pe=R[ne],xe=ee[pe],(typeof xe!="object"||!(pe in E)||typeof E[pe]!="object")&&(E[pe]=xe);return E}d.minExtend=N,d.titleCase=function(U){return U.charAt(0).toUpperCase()+U.substr(1)},d.containsAny=function(U,ee){for(var G=0;G<ee.length;G++)if(U.indexOf(ee[G])!==-1)return!0;return!1},d.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var j=/Version\/[\d\.]+.*Safari/;d.isSafari=function(){return j.test(window.navigator.userAgent)};var O=/iPad|iPhone|iPod/;d.isIOS=function(){return O.test(window.navigator.userAgent)};var X=/Firefox\/(\d+)\.\d+/;d.getFirefoxVersion=function(){var U=X.exec(window.navigator.userAgent);if(U&&U.length===2){var ee=parseInt(U[1]);if(!isNaN(ee))return ee}return null},d.isD3Selection=function(U){return U instanceof o.selection},d.ensureSingle=function(U,ee,G,E){var K=U.select(ee+(G?"."+G:""));if(K.size())return K;var R=U.append(ee);return G&&R.classed(G,!0),E&&R.call(E),R},d.ensureSingleById=function(U,ee,G,E){var K=U.select(ee+"#"+G);if(K.size())return K;var R=U.append(ee).attr("id",G);return E&&R.call(E),R},d.objectFromPath=function(U,ee){for(var G=U.split("."),E,K=E={},R=0;R<G.length;R++){var ne=G[R],pe=null,xe=G[R].match(/(.*)\[([0-9]+)\]/);xe?(ne=xe[1],pe=xe[2],E=E[ne]=[],R===G.length-1?E[pe]=ee:E[pe]={},E=E[pe]):(R===G.length-1?E[ne]=ee:E[ne]={},E=E[ne])}return K};var ie=/^([^\[\.]+)\.(.+)?/,oe=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function V(U){return U.slice(0,2)==="__"}d.expandObjectPaths=function(U){var ee,G,E,K,R,ne,pe;if(typeof U=="object"&&!Array.isArray(U)){for(G in U)if(U.hasOwnProperty(G))if(ee=G.match(ie)){if(K=U[G],E=ee[1],V(E))continue;delete U[G],U[E]=d.extendDeepNoArrays(U[E]||{},d.objectFromPath(G,d.expandObjectPaths(K))[E])}else if(ee=G.match(oe)){if(K=U[G],E=ee[1],V(E))continue;if(R=parseInt(ee[2]),delete U[G],U[E]=U[E]||[],ee[3]===".")pe=ee[4],ne=U[E][R]=U[E][R]||{},d.extendDeepNoArrays(ne,d.objectFromPath(pe,d.expandObjectPaths(K)));else{if(V(E))continue;U[E][R]=d.expandObjectPaths(K)}}else{if(V(G))continue;U[G]=d.expandObjectPaths(U[G])}}return U},d.numSeparate=function(U,ee,G){if(G||(G=!1),typeof ee!="string"||ee.length===0)throw new Error("Separator string required for formatting!");typeof U=="number"&&(U=String(U));var E=/(\d+)(\d{3})/,K=ee.charAt(0),R=ee.charAt(1),ne=U.split("."),pe=ne[0],xe=ne.length>1?K+ne[1]:"";if(R&&(ne.length>1||pe.length>4||G))for(;E.test(pe);)pe=pe.replace(E,"$1"+R+"$2");return pe+xe},d.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var W=/^\w*$/;d.templateString=function(U,ee){var G={};return U.replace(d.TEMPLATE_STRING_REGEX,function(E,K){var R;return W.test(K)?R=ee[K]:(G[K]=G[K]||d.nestedProperty(ee,K).get,R=G[K]()),d.isValidTextValue(R)?R:""})};var Y={max:10,count:0,name:"hovertemplate"};d.hovertemplateString=function(){return Se.apply(Y,arguments)};var Q={max:10,count:0,name:"texttemplate"};d.texttemplateString=function(){return Se.apply(Q,arguments)};var re=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function te(U){var ee=U.match(re);return ee?{key:ee[1],op:ee[2],number:Number(ee[3])}:{key:U,op:null,number:null}}var le={max:10,count:0,name:"texttemplate",parseMultDiv:!0};d.texttemplateStringForShapes=function(){return Se.apply(le,arguments)};var be=/^[:|\|]/;function Se(U,ee,G){var E=this,K=arguments;ee||(ee={});var R={};return U.replace(d.TEMPLATE_STRING_REGEX,function(ne,pe,xe){var we=pe==="xother"||pe==="yother",Ee=pe==="_xother"||pe==="_yother",Oe=pe==="_xother_"||pe==="_yother_",Ke=pe==="xother_"||pe==="yother_",Je=we||Ee||Ke||Oe,rt=pe;(Ee||Oe)&&(rt=rt.substring(1)),(Ke||Oe)&&(rt=rt.substring(0,rt.length-1));var Me=null,ke=null;if(E.parseMultDiv){var Le=te(rt);rt=Le.key,Me=Le.op,ke=Le.number}var He;if(Je){if(He=ee[rt],He===void 0)return""}else{var Ve,qe;for(qe=3;qe<K.length;qe++)if(Ve=K[qe],!!Ve){if(Ve.hasOwnProperty(rt)){He=Ve[rt];break}if(W.test(rt)||(He=d.nestedProperty(Ve,rt).get(),He=R[rt]||d.nestedProperty(Ve,rt).get(),He&&(R[rt]=He)),He!==void 0)break}}if(He!==void 0&&(Me==="*"&&(He*=ke),Me==="/"&&(He/=ke)),He===void 0&&E)return E.count<E.max&&(d.warn("Variable '"+rt+"' in "+E.name+" could not be found!"),He=ne),E.count===E.max&&d.warn("Too many "+E.name+" warnings - additional warnings will be suppressed"),E.count++,ne;if(xe){var vt;if(xe[0]===":"&&(vt=G?G.numberFormat:d.numberFormat,He!==""&&(He=vt(xe.replace(be,""))(He))),xe[0]==="|"){vt=G?G.timeFormat:c;var At=d.dateTime2ms(He);He=d.formatDate(At,xe.replace(be,""),!1,vt)}}else{var Dt=rt+"Label";ee.hasOwnProperty(Dt)&&(He=ee[Dt])}return Je&&(He="("+He+")",(Ee||Oe)&&(He=" "+He),(Ke||Oe)&&(He=He+" ")),He})}var ze=48,Te=57;d.subplotSort=function(U,ee){for(var G=Math.min(U.length,ee.length)+1,E=0,K=0,R=0;R<G;R++){var ne=U.charCodeAt(R)||0,pe=ee.charCodeAt(R)||0,xe=ne>=ze&&ne<=Te,we=pe>=ze&&pe<=Te;if(xe&&(E=10*E+ne-ze),we&&(K=10*K+pe-ze),!xe||!we){if(E!==K)return E-K;if(ne!==pe)return ne-pe}}return K-E};var ye=2e9;d.seedPseudoRandom=function(){ye=2e9},d.pseudoRandom=function(){var U=ye;return ye=(69069*ye+1)%4294967296,Math.abs(ye-U)<429496729?d.pseudoRandom():ye/4294967296},d.fillText=function(U,ee,G){var E=Array.isArray(G)?function(ne){G.push(ne)}:function(ne){G.text=ne},K=d.extractOption(U,ee,"htx","hovertext");if(d.isValidTextValue(K))return E(K);var R=d.extractOption(U,ee,"tx","text");if(d.isValidTextValue(R))return E(R)},d.isValidTextValue=function(U){return U||U===0},d.formatPercent=function(U,ee){ee=ee||0;for(var G=(Math.round(100*U*Math.pow(10,ee))*Math.pow(.1,ee)).toFixed(ee)+"%",E=0;E<ee;E++)G.indexOf(".")!==-1&&(G=G.replace("0%","%"),G=G.replace(".%","%"));return G},d.isHidden=function(U){var ee=window.getComputedStyle(U).display;return!ee||ee==="none"},d.strTranslate=function(U,ee){return U||ee?"translate("+U+","+ee+")":""},d.strRotate=function(U){return U?"rotate("+U+")":""},d.strScale=function(U){return U!==1?"scale("+U+")":""},d.getTextTransform=function(U){var ee=U.noCenter,G=U.textX,E=U.textY,K=U.targetX,R=U.targetY,ne=U.anchorX||0,pe=U.anchorY||0,xe=U.rotate,we=U.scale;return we?we>1&&(we=1):we=0,d.strTranslate(K-we*(G+ne),R-we*(E+pe))+d.strScale(we)+(xe?"rotate("+xe+(ee?"":" "+G+" "+E)+")":"")},d.setTransormAndDisplay=function(U,ee){U.attr("transform",d.getTextTransform(ee)),U.style("display",ee.scale?null:"none")},d.ensureUniformFontSize=function(U,ee){var G=d.extendFlat({},ee);return G.size=Math.max(ee.size,U._fullLayout.uniformtext.minsize||0),G},d.join2=function(U,ee,G){var E=U.length;return E>1?U.slice(0,-1).join(ee)+G+U[E-1]:U.join(ee)},d.bigFont=function(U){return Math.round(1.2*U)};var he=d.getFirefoxVersion(),P=he!==null&&he<86;d.getPositionFromD3Event=function(){return P?[o.event.layerX,o.event.layerY]:[o.event.offsetX,o.event.offsetY]}},6174:function(i){"use strict";i.exports=function(a){return window&&window.process&&window.process.versions?Object.prototype.toString.call(a)==="[object Object]":Object.prototype.toString.call(a)==="[object Object]"&&Object.getPrototypeOf(a).hasOwnProperty("hasOwnProperty")}},4967:function(i,s,a){"use strict";var o=a(5632),c=/^\w*$/,l=0,u=1,f=2,h=3,p=4;i.exports=function(d,y,x,w){x=x||"name",w=w||"value";var L,_,D,C={};y&&y.length?(D=o(d,y),_=D.get()):_=d,y=y||"";var z={};if(_)for(L=0;L<_.length;L++)z[_[L][x]]=L;var b=c.test(w),S={set:function(M,I){var T=I===null?p:l;if(!_){if(!D||T===p)return;_=[],D.set(_)}var B=z[M];if(B===void 0){if(T===p)return;T=T|h,B=_.length,z[M]=B}else I!==(b?_[B][w]:o(_[B],w).get())&&(T=T|f);var H=_[B]=_[B]||{};return H[x]=M,b?H[w]=I:o(H,w).set(I),I!==null&&(T=T&~p),C[B]=C[B]|T,S},get:function(M){if(_){var I=z[M];if(I!==void 0)return b?_[I][w]:o(_[I],w).get()}},rename:function(M,I){var T=z[M];return T===void 0||(C[T]=C[T]|u,z[I]=T,delete z[M],_[T][x]=I),S},remove:function(M){var I=z[M];if(I===void 0)return S;var T=_[I];if(Object.keys(T).length>2)return C[I]=C[I]|f,S.set(M,null);if(b){for(L=I;L<_.length;L++)C[L]=C[L]|h;for(L=I;L<_.length;L++)z[_[L][x]]--;_.splice(I,1),delete z[M]}else o(T,w).set(null),C[I]=C[I]|f|p;return S},constructUpdate:function(){for(var M,I,T={},B=Object.keys(C),H=0;H<B.length;H++)I=B[H],M=y+"["+I+"]",_[I]?(C[I]&u&&(T[M+"."+x]=_[I][x]),C[I]&f&&(b?T[M+"."+w]=C[I]&p?null:_[I][w]:T[M+"."+w]=C[I]&p?null:o(_[I],w).get())):T[M]=null;return T}};return S}},8514:function(i,s,a){"use strict";var o=a(3626);i.exports=function(l,u){for(var f=l._context.locale,h=0;h<2;h++){for(var p=l._context.locales,m=0;m<2;m++){var d=(p[f]||{}).dictionary;if(d){var y=d[u];if(y)return y}p=o.localeRegistry}var x=f.split("-")[0];if(x===f)break;f=x}return u}},8636:function(i,s,a){"use strict";var o=a(4452).dfltConfig,c=a(7355),l=i.exports={};l.log=function(){var u;if(o.logging>1){var f=["LOG:"];for(u=0;u<arguments.length;u++)f.push(arguments[u]);console.trace.apply(console,f)}if(o.notifyOnLogging>1){var h=[];for(u=0;u<arguments.length;u++)h.push(arguments[u]);c(h.join("<br>"),"long")}},l.warn=function(){var u;if(o.logging>0){var f=["WARN:"];for(u=0;u<arguments.length;u++)f.push(arguments[u]);console.trace.apply(console,f)}if(o.notifyOnLogging>0){var h=[];for(u=0;u<arguments.length;u++)h.push(arguments[u]);c(h.join("<br>"),"stick")}},l.error=function(){var u;if(o.logging>0){var f=["ERROR:"];for(u=0;u<arguments.length;u++)f.push(arguments[u]);console.error.apply(console,f)}if(o.notifyOnLogging>0){var h=[];for(u=0;u<arguments.length;u++)h.push(arguments[u]);c(h.join("<br>"),"stick")}}},5944:function(i,s,a){"use strict";var o=a(5568);i.exports=function(l,u,f){var h=l.selectAll("g."+f.replace(/\s/g,".")).data(u,function(m){return m[0].trace.uid});h.exit().remove(),h.enter().append("g").attr("class",f),h.order();var p=l.classed("rangeplot")?"nodeRangePlot3":"node3";return h.each(function(m){m[0][p]=o.select(this)}),h}},5236:function(i,s,a){"use strict";var o=a(1191);s.init2dArray=function(c,l){for(var u=new Array(c),f=0;f<c;f++)u[f]=new Array(l);return u},s.transposeRagged=function(c){var l=0,u=c.length,f,h;for(f=0;f<u;f++)l=Math.max(l,c[f].length);var p=new Array(l);for(f=0;f<l;f++)for(p[f]=new Array(u),h=0;h<u;h++)p[f][h]=c[h][f];return p},s.dot=function(c,l){if(!(c.length&&l.length)||c.length!==l.length)return null;var u=c.length,f,h;if(c[0].length)for(f=new Array(u),h=0;h<u;h++)f[h]=s.dot(c[h],l);else if(l[0].length){var p=s.transposeRagged(l);for(f=new Array(p.length),h=0;h<p.length;h++)f[h]=s.dot(c,p[h])}else for(f=0,h=0;h<u;h++)f+=c[h]*l[h];return f},s.translationMatrix=function(c,l){return[[1,0,c],[0,1,l],[0,0,1]]},s.rotationMatrix=function(c){var l=c*Math.PI/180;return[[Math.cos(l),-Math.sin(l),0],[Math.sin(l),Math.cos(l),0],[0,0,1]]},s.rotationXYMatrix=function(c,l,u){return s.dot(s.dot(s.translationMatrix(l,u),s.rotationMatrix(c)),s.translationMatrix(-l,-u))},s.apply3DTransform=function(c){return function(){var l=arguments,u=arguments.length===1?l[0]:[l[0],l[1],l[2]||0];return s.dot(c,[u[0],u[1],u[2],1]).slice(0,3)}},s.apply2DTransform=function(c){return function(){var l=arguments;l.length===3&&(l=l[0]);var u=arguments.length===1?l[0]:[l[0],l[1]];return s.dot(c,[u[0],u[1],1]).slice(0,2)}},s.apply2DTransform2=function(c){var l=s.apply2DTransform(c);return function(u){return l(u.slice(0,2)).concat(l(u.slice(2,4)))}},s.convertCssMatrix=function(c){if(c){var l=c.length;if(l===16)return c;if(l===6)return[c[0],c[1],0,0,c[2],c[3],0,0,0,0,1,0,c[4],c[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},s.inverseTransformMatrix=function(c){var l=[];return o.invert(l,c),[[l[0],l[1],l[2],l[3]],[l[4],l[5],l[6],l[7]],[l[8],l[9],l[10],l[11]],[l[12],l[13],l[14],l[15]]]}},8953:function(i){"use strict";function s(o,c){var l=o%c;return l<0?l+c:l}function a(o,c){return Math.abs(o)>c/2?o-Math.round(o/c)*c:o}i.exports={mod:s,modHalf:a}},5632:function(i,s,a){"use strict";var o=a(721),c=a(7800).isArrayOrTypedArray;i.exports=function(w,L){if(o(L))L=String(L);else if(typeof L!="string"||L.substr(L.length-4)==="[-1]")throw"bad property string";var _=L.split("."),D,C,z,b;for(b=0;b<_.length;b++)if(String(_[b]).slice(0,2)==="__")throw"bad property string";for(b=0;b<_.length;){if(D=String(_[b]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),D){if(D[1])_[b]=D[1];else if(b===0)_.splice(0,1);else throw"bad property string";for(C=D[2].substr(1,D[2].length-2).split("]["),z=0;z<C.length;z++)b++,_.splice(b,0,Number(C[z]))}b++}return typeof w!="object"?y(w,L,_):{set:h(w,_,L),get:l(w,_),astr:L,parts:_,obj:w}};function l(x,w){return function(){var L=x,_,D,C,z,b;for(z=0;z<w.length-1;z++){if(_=w[z],_===-1){for(D=!0,C=[],b=0;b<L.length;b++)C[b]=l(L[b],w.slice(z+1))(),C[b]!==C[0]&&(D=!1);return D?C[0]:C}if(typeof _=="number"&&!c(L)||(L=L[_],typeof L!="object"||L===null))return}if(!(typeof L!="object"||L===null)&&(C=L[w[z]],C!==null))return C}}var u=/(^|\.)args\[/;function f(x,w){return x===void 0||x===null&&!w.match(u)}function h(x,w,L){return function(_){var D=x,C="",z=[[x,C]],b=f(_,L),S,M;for(M=0;M<w.length-1;M++){if(S=w[M],typeof S=="number"&&!c(D))throw"array index but container is not an array";if(S===-1){if(b=!m(D,w.slice(M+1),_,L),b)break;return}if(!d(D,S,w[M+1],b))break;if(D=D[S],typeof D!="object"||D===null)throw"container is not an object";C=p(C,S),z.push([D,C])}if(b){if(M===w.length-1&&(delete D[w[M]],Array.isArray(D)&&+w[M]===D.length-1))for(;D.length&&D[D.length-1]===void 0;)D.pop()}else D[w[M]]=_}}function p(x,w){var L=w;return o(w)?L="["+w+"]":x&&(L="."+w),x+L}function m(x,w,L,_){var D=c(L),C=!0,z=L,b=_.replace("-1",0),S=D?!1:f(L,b),M=w[0],I;for(I=0;I<x.length;I++)b=_.replace("-1",I),D&&(z=L[I%L.length],S=f(z,b)),S&&(C=!1),d(x,I,M,S)&&h(x[I],w,_.replace("-1",I))(z);return C}function d(x,w,L,_){if(x[w]===void 0){if(_)return!1;typeof L=="number"?x[w]=[]:x[w]={}}return!0}function y(x,w,L){return{set:function(){throw"bad container"},get:function(){},astr:w,parts:L,obj:x}}},4969:function(i){"use strict";i.exports=function(){}},7355:function(i,s,a){"use strict";var o=a(5568),c=a(721),l=[];i.exports=function(u,f){if(l.indexOf(u)!==-1)return;l.push(u);var h=1e3;c(f)?h=f:f==="long"&&(h=3e3);var p=o.select("body").selectAll(".plotly-notifier").data([0]);p.enter().append("div").classed("plotly-notifier",!0);var m=p.selectAll(".notifier-note").data(l);function d(y){y.duration(700).style("opacity",0).each("end",function(x){var w=l.indexOf(x);w!==-1&&l.splice(w,1),o.select(this).remove()})}m.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(y){var x=o.select(this);x.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){x.transition().call(d)});for(var w=x.append("p"),L=y.split(/<br\s*\/?>/g),_=0;_<L.length;_++)_&&w.append("br"),w.append("span").text(L[_]);f==="stick"?x.transition().duration(350).style("opacity",1):x.transition().duration(700).style("opacity",1).transition().delay(h).call(d)})}},3134:function(i,s,a){"use strict";var o=a(7983),c="data-savedcursor",l="!!";i.exports=function(f,h){var p=f.attr(c);if(h){if(!p){for(var m=(f.attr("class")||"").split(" "),d=0;d<m.length;d++){var y=m[d];y.indexOf("cursor-")===0&&f.attr(c,y.substr(7)).classed(y,!1)}f.attr(c)||f.attr(c,l)}o(f,h)}else p&&(f.attr(c,null),p===l?o(f):o(f,p))}},899:function(i,s,a){"use strict";var o=a(5236).dot,c=a(3821).BADNUM,l=i.exports={};l.tester=function(f){var h=f.slice(),p=h[0][0],m=p,d=h[0][1],y=d,x;for((h[h.length-1][0]!==h[0][0]||h[h.length-1][1]!==h[0][1])&&h.push(h[0]),x=1;x<h.length;x++)p=Math.min(p,h[x][0]),m=Math.max(m,h[x][0]),d=Math.min(d,h[x][1]),y=Math.max(y,h[x][1]);var w=!1,L;h.length===5&&(h[0][0]===h[1][0]?h[2][0]===h[3][0]&&h[0][1]===h[3][1]&&h[1][1]===h[2][1]&&(w=!0,L=function(b){return b[0]===h[0][0]}):h[0][1]===h[1][1]&&h[2][1]===h[3][1]&&h[0][0]===h[3][0]&&h[1][0]===h[2][0]&&(w=!0,L=function(b){return b[1]===h[0][1]}));function _(b,S){var M=b[0],I=b[1];return!(M===c||M<p||M>m||I===c||I<d||I>y||S&&L(b))}function D(b,S){var M=b[0],I=b[1];if(M===c||M<p||M>m||I===c||I<d||I>y)return!1;var T=h.length,B=h[0][0],H=h[0][1],Z=0,$,N,j,O,X;for($=1;$<T;$++)if(N=B,j=H,B=h[$][0],H=h[$][1],O=Math.min(N,B),!(M<O||M>Math.max(N,B)||I>Math.max(j,H)))if(I<Math.min(j,H))M!==O&&Z++;else{if(B===N?X=I:X=j+(M-N)*(H-j)/(B-N),I===X)return!($===1&&S);I<=X&&M!==O&&Z++}return Z%2===1}var C=!0,z=h[0];for(x=1;x<h.length;x++)if(z[0]!==h[x][0]||z[1]!==h[x][1]){C=!1;break}return{xmin:p,xmax:m,ymin:d,ymax:y,pts:h,contains:w?_:D,isRect:w,degenerate:C}},l.isSegmentBent=function(f,h,p,m){var d=f[h],y=[f[p][0]-d[0],f[p][1]-d[1]],x=o(y,y),w=Math.sqrt(x),L=[-y[1]/w,y[0]/w],_,D,C;for(_=h+1;_<p;_++)if(D=[f[_][0]-d[0],f[_][1]-d[1]],C=o(D,y),C<0||C>x||Math.abs(o(D,L))>m)return!0;return!1},l.filter=function(f,h){var p=[f[0]],m=0,d=0;function y(w){f.push(w);var L=p.length,_=m;p.splice(d+1);for(var D=_+1;D<f.length;D++)(D===f.length-1||l.isSegmentBent(f,_,D+1,h))&&(p.push(f[D]),p.length<L-2&&(m=D,d=p.length-1),_=D)}if(f.length>1){var x=f.pop();y(x)}return{addPt:y,raw:f,filtered:p}}},2521:function(i,s,a){"use strict";var o=a(721),c=a(3087);i.exports=function(f){var h;if(f&&f.hasOwnProperty("userAgent")?h=f.userAgent:h=l(),typeof h!="string")return!0;var p=c({ua:{headers:{"user-agent":h}},tablet:!0,featureDetect:!1});if(!p)for(var m=h.split(" "),d=1;d<m.length;d++){var y=m[d];if(y.indexOf("Safari")!==-1)for(var x=d-1;x>-1;x--){var w=m[x];if(w.substr(0,8)==="Version/"){var L=w.substr(8).split(".")[0];if(o(L)&&(L=+L),L>=13)return!0}}}return p};function l(){var u;return typeof navigator<"u"&&(u=navigator.userAgent),u&&u.headers&&typeof u.headers["user-agent"]=="string"&&(u=u.headers["user-agent"]),u}},6539:function(i){"use strict";i.exports=function(a,o){if(o instanceof RegExp){for(var c=o.toString(),l=0;l<a.length;l++)if(a[l]instanceof RegExp&&a[l].toString()===c)return a;a.push(o)}else(o||o===0)&&a.indexOf(o)===-1&&a.push(o);return a}},486:function(i,s,a){"use strict";var o=a(4809),c=a(4452).dfltConfig;function l(f,h){for(var p=[],m,d=0;d<h.length;d++)m=h[d],m===f?p[d]=m:typeof m=="object"?p[d]=Array.isArray(m)?o.extendDeep([],m):o.extendDeepAll({},m):p[d]=m;return p}var u={};u.add=function(f,h,p,m,d){var y,x;if(f.undoQueue=f.undoQueue||{index:0,queue:[],sequence:!1},x=f.undoQueue.index,f.autoplay){f.undoQueue.inSequence||(f.autoplay=!1);return}!f.undoQueue.sequence||f.undoQueue.beginSequence?(y={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},f.undoQueue.queue.splice(x,f.undoQueue.queue.length-x,y),f.undoQueue.index+=1):y=f.undoQueue.queue[x-1],f.undoQueue.beginSequence=!1,y&&(y.undo.calls.unshift(h),y.undo.args.unshift(p),y.redo.calls.push(m),y.redo.args.push(d)),f.undoQueue.queue.length>c.queueLength&&(f.undoQueue.queue.shift(),f.undoQueue.index--)},u.startSequence=function(f){f.undoQueue=f.undoQueue||{index:0,queue:[],sequence:!1},f.undoQueue.sequence=!0,f.undoQueue.beginSequence=!0},u.stopSequence=function(f){f.undoQueue=f.undoQueue||{index:0,queue:[],sequence:!1},f.undoQueue.sequence=!1,f.undoQueue.beginSequence=!1},u.undo=function(h){var p,m;if(!(h.undoQueue===void 0||isNaN(h.undoQueue.index)||h.undoQueue.index<=0)){for(h.undoQueue.index--,p=h.undoQueue.queue[h.undoQueue.index],h.undoQueue.inSequence=!0,m=0;m<p.undo.calls.length;m++)u.plotDo(h,p.undo.calls[m],p.undo.args[m]);h.undoQueue.inSequence=!1,h.autoplay=!1}},u.redo=function(h){var p,m;if(!(h.undoQueue===void 0||isNaN(h.undoQueue.index)||h.undoQueue.index>=h.undoQueue.queue.length)){for(p=h.undoQueue.queue[h.undoQueue.index],h.undoQueue.inSequence=!0,m=0;m<p.redo.calls.length;m++)u.plotDo(h,p.redo.calls[m],p.redo.args[m]);h.undoQueue.inSequence=!1,h.autoplay=!1,h.undoQueue.index++}},u.plotDo=function(f,h,p){f.autoplay=!0,p=l(f,p),h.apply(null,p)},i.exports=u},694:function(i,s){"use strict";s.counter=function(a,o,c,l){var u=(o||"")+(c?"":"$"),f=l===!1?"":"^";return a==="xy"?new RegExp(f+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+u):new RegExp(f+a+"([2-9]|[1-9][0-9]+)?"+u)}},2047:function(i){"use strict";var s=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,a=/^[^\.\[\]]+$/;i.exports=function(o,c){for(;c;){var l=o.match(s);if(l)o=l[1];else if(o.match(a))o="";else throw new Error("bad relativeAttr call:"+[o,c]);if(c.charAt(0)==="^")c=c.slice(1);else break}return o&&c.charAt(0)!=="["?o+"."+c:o+c}},428:function(i,s,a){"use strict";var o=a(7800).isArrayOrTypedArray,c=a(6174);i.exports=function l(u,f){for(var h in f){var p=f[h],m=u[h];if(m!==p)if(h.charAt(0)==="_"||typeof p=="function"){if(h in u)continue;u[h]=p}else if(o(p)&&o(m)&&c(p[0])){if(h==="customdata"||h==="ids")continue;for(var d=Math.min(p.length,m.length),y=0;y<d;y++)m[y]!==p[y]&&c(p[y])&&c(m[y])&&l(m[y],p[y])}else c(p)&&c(m)&&(l(m,p),Object.keys(m).length||delete u[h])}}},8813:function(i,s,a){"use strict";var o=a(721),c=a(8636),l=a(9527),u=a(3821).BADNUM,f=1e-9;s.findBin=function(y,x,w){if(o(x.start))return w?Math.ceil((y-x.start)/x.size-f)-1:Math.floor((y-x.start)/x.size+f);var L=0,_=x.length,D=0,C=_>1?(x[_-1]-x[0])/(_-1):1,z,b;for(C>=0?b=w?h:p:b=w?d:m,y+=C*f*(w?-1:1)*(C>=0?1:-1);L<_&&D++<100;)z=Math.floor((L+_)/2),b(x[z],y)?L=z+1:_=z;return D>90&&c.log("Long binary search..."),L-1};function h(y,x){return y<x}function p(y,x){return y<=x}function m(y,x){return y>x}function d(y,x){return y>=x}s.sorterAsc=function(y,x){return y-x},s.sorterDes=function(y,x){return x-y},s.distinctVals=function(y){var x=y.slice();x.sort(s.sorterAsc);var w;for(w=x.length-1;w>-1&&x[w]===u;w--);for(var L=x[w]-x[0]||1,_=L/(w||1)/1e4,D=[],C,z=0;z<=w;z++){var b=x[z],S=b-C;C===void 0?(D.push(b),C=b):S>_&&(L=Math.min(L,S),D.push(b),C=b)}return{vals:D,minDiff:L}},s.roundUp=function(y,x,w){for(var L=0,_=x.length-1,D,C=0,z=w?0:1,b=w?1:0,S=w?Math.ceil:Math.floor;L<_&&C++<100;)D=S((L+_)/2),x[D]<=y?L=D+z:_=D-b;return x[L]},s.sort=function(y,x){for(var w=0,L=0,_=1;_<y.length;_++){var D=x(y[_],y[_-1]);if(D<0?w=1:D>0&&(L=1),w&&L)return y.sort(x)}return L?y:y.reverse()},s.findIndexOfMin=function(y,x){x=x||l;for(var w=1/0,L,_=0;_<y.length;_++){var D=x(y[_]);D<w&&(w=D,L=_)}return L}},7983:function(i){"use strict";i.exports=function(a,o){(a.attr("class")||"").split(" ").forEach(function(c){c.indexOf("cursor-")===0&&a.classed(c,!1)}),o&&a.classed("cursor-"+o,!0)}},2994:function(i){"use strict";i.exports=function(a){return Object.keys(a).sort()}},9258:function(i,s,a){"use strict";var o=a(721),c=a(7800).isArrayOrTypedArray;s.aggNums=function(l,u,f,h){var p,m;if((!h||h>f.length)&&(h=f.length),o(u)||(u=!1),c(f[0])){for(m=new Array(h),p=0;p<h;p++)m[p]=s.aggNums(l,u,f[p]);f=m}for(p=0;p<h;p++)o(u)?o(f[p])&&(u=l(+u,+f[p])):u=f[p];return u},s.len=function(l){return s.aggNums(function(u){return u+1},0,l)},s.mean=function(l,u){return u||(u=s.len(l)),s.aggNums(function(f,h){return f+h},0,l)/u},s.geometricMean=function(l,u){return u||(u=s.len(l)),Math.pow(s.aggNums(function(f,h){return f*h},1,l),1/u)},s.midRange=function(l){if(!(l===void 0||l.length===0))return(s.aggNums(Math.max,null,l)+s.aggNums(Math.min,null,l))/2},s.variance=function(l,u,f){return u||(u=s.len(l)),o(f)||(f=s.mean(l,u)),s.aggNums(function(h,p){return h+Math.pow(p-f,2)},0,l)/u},s.stdev=function(l,u,f){return Math.sqrt(s.variance(l,u,f))},s.median=function(l){var u=l.slice().sort();return s.interp(u,.5)},s.interp=function(l,u){if(!o(u))throw"n should be a finite number";if(u=u*l.length-.5,u<0)return l[0];if(u>l.length-1)return l[l.length-1];var f=u%1;return f*l[Math.ceil(u)]+(1-f)*l[Math.floor(u)]}},635:function(i,s,a){"use strict";var o=a(5568),c=a(4809),l=c.strTranslate,u=a(2972),f=a(4530).LINE_SPACING,h=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;s.convertToTspans=function(Y,Q,re){var te=Y.text(),le=!Y.attr("data-notex")&&Q&&Q._context.typesetMath&&typeof MathJax<"u"&&te.match(h),be=o.select(Y.node().parentNode);if(be.empty())return;var Se=Y.attr("class")?Y.attr("class").split(" ")[0]:"text";Se+="-math",be.selectAll("svg."+Se).remove(),be.selectAll("g."+Se+"-group").remove(),Y.style("display",null).attr({"data-unformatted":te,"data-math":"N"});function ze(){be.empty()||(Se=Y.attr("class")+"-math",be.select("svg."+Se).remove()),Y.text("").style("white-space","pre");var Te=ie(Y.node(),te);Te&&Y.style("pointer-events","all"),s.positionText(Y),re&&re.call(Y)}return le?(Q&&Q._promises||[]).push(new Promise(function(Te){Y.style("display","none");var ye=parseInt(Y.node().style.fontSize,10),he={fontSize:ye};x(le[2],he,function(P,U,ee){be.selectAll("svg."+Se).remove(),be.selectAll("g."+Se+"-group").remove();var G=P&&P.select("svg");if(!G||!G.node()){ze(),Te();return}var E=be.append("g").classed(Se+"-group",!0).attr({"pointer-events":"none","data-unformatted":te,"data-math":"Y"});E.node().appendChild(G.node()),U&&U.node()&&G.node().insertBefore(U.node().cloneNode(!0),G.node().firstChild);var K=ee.width,R=ee.height;G.attr({class:Se,height:R,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var ne=Y.node().style.fill||"black",pe=G.select("g");pe.attr({fill:ne,stroke:ne});var xe=pe.node().getBoundingClientRect(),we=xe.width,Ee=xe.height;(we>K||Ee>R)&&(G.style("overflow","hidden"),xe=G.node().getBoundingClientRect(),we=xe.width,Ee=xe.height);var Oe=+Y.attr("x"),Ke=+Y.attr("y"),Je=ye||Y.node().getBoundingClientRect().height,rt=-Je/4;if(Se[0]==="y")E.attr({transform:"rotate("+[-90,Oe,Ke]+")"+l(-we/2,rt-Ee/2)});else if(Se[0]==="l")Ke=rt-Ee/2;else if(Se[0]==="a"&&Se.indexOf("atitle")!==0)Oe=0,Ke=rt;else{var Me=Y.attr("text-anchor");Oe=Oe-we*(Me==="middle"?.5:Me==="end"?1:0),Ke=Ke+rt-Ee/2}G.attr({x:Oe,y:Ke}),re&&re.call(Y,E),Te(E)})})):ze(),Y};var p=/(<|&lt;|&#60;)/g,m=/(>|&gt;|&#62;)/g;function d(Y){return Y.replace(p,"\\lt ").replace(m,"\\gt ")}var y=[["$","$"],["\\(","\\)"]];function x(Y,Q,re){var te=parseInt((MathJax.version||"").split(".")[0]);if(te!==2&&te!==3){c.warn("No MathJax version:",MathJax.version);return}var le,be,Se,ze,Te=function(){return be=c.extendDeepAll({},MathJax.Hub.config),Se=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:y},displayAlign:"left"})},ye=function(){be=c.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=y},he=function(){if(le=MathJax.Hub.config.menuSettings.renderer,le!=="SVG")return MathJax.Hub.setRenderer("SVG")},P=function(){le=MathJax.config.startup.output,le!=="svg"&&(MathJax.config.startup.output="svg")},U=function(){var ne="math-output-"+c.randstr({},64);ze=o.select("body").append("div").attr({id:ne}).style({visibility:"hidden",position:"absolute","font-size":Q.fontSize+"px"}).text(d(Y));var pe=ze.node();return te===2?MathJax.Hub.Typeset(pe):MathJax.typeset([pe])},ee=function(){var ne=ze.select(te===2?".MathJax_SVG":".MathJax"),pe=!ne.empty()&&ze.select("svg").node();if(!pe)c.log("There was an error in the tex syntax.",Y),re();else{var xe=pe.getBoundingClientRect(),we;te===2?we=o.select("body").select("#MathJax_SVG_glyphs"):we=ne.select("defs"),re(ne,we,xe)}ze.remove()},G=function(){if(le!=="SVG")return MathJax.Hub.setRenderer(le)},E=function(){le!=="svg"&&(MathJax.config.startup.output=le)},K=function(){return Se!==void 0&&(MathJax.Hub.processSectionDelay=Se),MathJax.Hub.Config(be)},R=function(){MathJax.config=be};te===2?MathJax.Hub.Queue(Te,he,U,ee,G,K):te===3&&(ye(),P(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){U(),ee(),E(),R()}))}var w={sup:"font-size:70%",sub:"font-size:70%",s:"text-decoration:line-through",u:"text-decoration:underline",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},L={sub:"0.3em",sup:"-0.6em"},_={sub:"-0.21em",sup:"0.42em"},D="\u200B",C=["http:","https:","mailto:","",void 0,":"],z=s.NEWLINES=/(\r\n?|\n)/g,b=/(<[^<>]*>)/,S=/<(\/?)([^ >]*)(\s+(.*))?>/i,M=/<br(\s+.*)?>/i;s.BR_TAG_ALL=/<br(\s+.*)?>/gi;var I=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,T=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,B=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,H=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function Z(Y,Q){if(!Y)return null;var re=Y.match(Q),te=re&&(re[3]||re[4]);return te&&O(te)}var $=/(^|;)\s*color:/;s.plainText=function(Y,Q){Q=Q||{};for(var re=Q.len!==void 0&&Q.len!==-1?Q.len:1/0,te=Q.allowedTags!==void 0?Q.allowedTags:["br"],le="...",be=le.length,Se=Y.split(b),ze=[],Te="",ye=0,he=0;he<Se.length;he++){var P=Se[he],U=P.match(S),ee=U&&U[2].toLowerCase();if(ee)te.indexOf(ee)!==-1&&(ze.push(P),Te=ee);else{var G=P.length;if(ye+G<re)ze.push(P),ye+=G;else if(ye<re){var E=re-ye;Te&&(Te!=="br"||E<=be||G<=be)&&ze.pop(),re>be?ze.push(P.substr(0,E-be)+le):ze.push(P.substr(0,E));break}Te=""}}return ze.join("")};var N={mu:"\u03BC",amp:"&",lt:"<",gt:">",nbsp:"\xA0",times:"\xD7",plusmn:"\xB1",deg:"\xB0"},j=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function O(Y){return Y.replace(j,function(Q,re){var te;return re.charAt(0)==="#"?te=X(re.charAt(1)==="x"?parseInt(re.substr(2),16):parseInt(re.substr(1),10)):te=N[re],te||Q})}s.convertEntities=O;function X(Y){if(!(Y>1114111)){var Q=String.fromCodePoint;if(Q)return Q(Y);var re=String.fromCharCode;return Y<=65535?re(Y):re((Y>>10)+55232,Y%1024+56320)}}function ie(Y,Q){Q=Q.replace(z," ");var re=!1,te=[],le,be=-1;function Se(){be++;var Ee=document.createElementNS(u.svg,"tspan");o.select(Ee).attr({class:"line",dy:be*f+"em"}),Y.appendChild(Ee),le=Ee;var Oe=te;if(te=[{node:Ee}],Oe.length>1)for(var Ke=1;Ke<Oe.length;Ke++)ze(Oe[Ke])}function ze(Ee){var Oe=Ee.type,Ke={},Je;if(Oe==="a"){Je="a";var rt=Ee.target,Me=Ee.href,ke=Ee.popup;Me&&(Ke={"xlink:xlink:show":rt==="_blank"||rt.charAt(0)!=="_"?"new":"replace",target:rt,"xlink:xlink:href":Me},ke&&(Ke.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+ke+'");return false;'))}else Je="tspan";Ee.style&&(Ke.style=Ee.style);var Le=document.createElementNS(u.svg,Je);if(Oe==="sup"||Oe==="sub"){Te(le,D),le.appendChild(Le);var He=document.createElementNS(u.svg,"tspan");Te(He,D),o.select(He).attr("dy",_[Oe]),Ke.dy=L[Oe],le.appendChild(Le),le.appendChild(He)}else le.appendChild(Le);o.select(Le).attr(Ke),le=Ee.node=Le,te.push(Ee)}function Te(Ee,Oe){Ee.appendChild(document.createTextNode(Oe))}function ye(Ee){if(te.length===1){c.log("Ignoring unexpected end tag </"+Ee+">.",Q);return}var Oe=te.pop();Ee!==Oe.type&&c.log("Start tag <"+Oe.type+"> doesnt match end tag <"+Ee+">. Pretending it did match.",Q),le=te[te.length-1].node}var he=M.test(Q);he?Se():(le=Y,te=[{node:Y}]);for(var P=Q.split(b),U=0;U<P.length;U++){var ee=P[U],G=ee.match(S),E=G&&G[2].toLowerCase(),K=w[E];if(E==="br")Se();else if(K===void 0)Te(le,O(ee));else if(G[1])ye(E);else{var R=G[4],ne={type:E},pe=Z(R,I);if(pe?(pe=pe.replace($,"$1 fill:"),K&&(pe+=";"+K)):K&&(pe=K),pe&&(ne.style=pe),E==="a"){re=!0;var xe=Z(R,T);if(xe){var we=oe(xe);we&&(ne.href=we,ne.target=Z(R,B)||"_blank",ne.popup=Z(R,H))}}ze(ne)}}return re}function oe(Y){var Q=encodeURI(decodeURI(Y)),re=document.createElement("a"),te=document.createElement("a");re.href=Y,te.href=Q;var le=re.protocol,be=te.protocol;return C.indexOf(le)!==-1&&C.indexOf(be)!==-1?Q:""}s.sanitizeHTML=function(Q){Q=Q.replace(z," ");for(var re=document.createElement("p"),te=re,le=[],be=Q.split(b),Se=0;Se<be.length;Se++){var ze=be[Se],Te=ze.match(S),ye=Te&&Te[2].toLowerCase();if(ye in w)if(Te[1])le.length&&(te=le.pop());else{var he=Te[4],P=Z(he,I),U=P?{style:P}:{};if(ye==="a"){var ee=Z(he,T);if(ee){var G=oe(ee);if(G){U.href=G;var E=Z(he,B);E&&(U.target=E)}}}var K=document.createElement(ye);te.appendChild(K),o.select(K).attr(U),te=K,le.push(K)}else te.appendChild(document.createTextNode(O(ze)))}var R="innerHTML";return re[R]},s.lineCount=function(Q){return Q.selectAll("tspan.line").size()||1},s.positionText=function(Q,re,te){return Q.each(function(){var le=o.select(this);function be(Te,ye){return ye===void 0?(ye=le.attr(Te),ye===null&&(le.attr(Te,0),ye=0)):le.attr(Te,ye),ye}var Se=be("x",re),ze=be("y",te);this.nodeName==="text"&&le.selectAll("tspan.line").attr({x:Se,y:ze})})};function V(Y,Q,re){var te=re.horizontalAlign,le=re.verticalAlign||"top",be=Y.node().getBoundingClientRect(),Se=Q.node().getBoundingClientRect(),ze,Te,ye;return le==="bottom"?Te=function(){return be.bottom-ze.height}:le==="middle"?Te=function(){return be.top+(be.height-ze.height)/2}:Te=function(){return be.top},te==="right"?ye=function(){return be.right-ze.width}:te==="center"?ye=function(){return be.left+(be.width-ze.width)/2}:ye=function(){return be.left},function(){ze=this.node().getBoundingClientRect();var he=ye()-Se.left,P=Te()-Se.top,U=re.gd||{};if(re.gd){U._fullLayout._calcInverseTransform(U);var ee=c.apply3DTransform(U._fullLayout._invTransform)(he,P);he=ee[0],P=ee[1]}return this.style({top:P+"px",left:he+"px","z-index":1e3}),this}}var W="1px ";s.makeTextShadow=function(Y){var Q=W,re=W,te=W;return Q+re+te+Y+", -"+Q+"-"+re+te+Y+", "+Q+"-"+re+te+Y+", -"+Q+re+te+Y},s.makeEditable=function(Y,Q){var re=Q.gd,te=Q.delegate,le=o.dispatch("edit","input","cancel"),be=te||Y;if(Y.style({"pointer-events":te?"none":"all"}),Y.size()!==1)throw new Error("boo");function Se(){Te(),Y.style({opacity:0});var ye=be.attr("class"),he;ye?he="."+ye.split(" ")[0]+"-math-group":he="[class*=-math-group]",he&&o.select(Y.node().parentNode).select(he).style({opacity:0})}function ze(ye){var he=ye.node(),P=document.createRange();P.selectNodeContents(he);var U=window.getSelection();U.removeAllRanges(),U.addRange(P),he.focus()}function Te(){var ye=o.select(re),he=ye.select(".svg-container"),P=he.append("div"),U=Y.node().style,ee=parseFloat(U.fontSize||12),G=Q.text;G===void 0&&(G=Y.attr("data-unformatted")),P.classed("plugin-editable editable",!0).style({position:"absolute","font-family":U.fontFamily||"Arial","font-size":ee,color:Q.fill||U.fill||"black",opacity:1,"background-color":Q.background||"transparent",outline:"#ffffff33 1px solid",margin:[-ee/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(G).call(V(Y,he,Q)).on("blur",function(){re._editing=!1,Y.text(this.textContent).style({opacity:1});var E=o.select(this).attr("class"),K;E?K="."+E.split(" ")[0]+"-math-group":K="[class*=-math-group]",K&&o.select(Y.node().parentNode).select(K).style({opacity:0});var R=this.textContent;o.select(this).transition().duration(0).remove(),o.select(document).on("mouseup",null),le.edit.call(Y,R)}).on("focus",function(){var E=this;re._editing=!0,o.select(document).on("mouseup",function(){if(o.event.target===E)return!1;document.activeElement===P.node()&&P.node().blur()})}).on("keyup",function(){o.event.which===27?(re._editing=!1,Y.style({opacity:1}),o.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),le.cancel.call(Y,this.textContent)):(le.input.call(Y,this.textContent),o.select(this).call(V(Y,he,Q)))}).on("keydown",function(){o.event.which===13&&this.blur()}).call(ze)}return Q.immediate?Se():be.on("click",Se),o.rebind(Y,le,"on")}},4025:function(i,s){"use strict";var a={};s.throttle=function(l,u,f){var h=a[l],p=Date.now();if(!h){for(var m in a)a[m].ts<p-6e4&&delete a[m];h=a[l]={ts:0,timer:null}}o(h);function d(){f(),h.ts=Date.now(),h.onDone&&(h.onDone(),h.onDone=null)}if(p>h.ts+u){d();return}h.timer=setTimeout(function(){d(),h.timer=null},u)},s.done=function(c){var l=a[c];return!l||!l.timer?Promise.resolve():new Promise(function(u){var f=l.onDone;l.onDone=function(){f&&f(),u(),l.onDone=null}})},s.clear=function(c){if(c)o(a[c]),delete a[c];else for(var l in a)s.clear(l)};function o(c){c&&c.timer!==null&&(clearTimeout(c.timer),c.timer=null)}},8083:function(i,s,a){"use strict";var o=a(721);i.exports=function(l,u){if(l>0)return Math.log(l)/Math.LN10;var f=Math.log(Math.min(u[0],u[1]))/Math.LN10;return o(f)||(f=Math.log(Math.max(u[0],u[1]))/Math.LN10-6),f}},4611:function(i){"use strict";i.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},227:function(i){"use strict";i.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},6037:function(i,s,a){"use strict";var o=a(3626);i.exports=function(l){for(var u=o.layoutArrayContainers,f=o.layoutArrayRegexes,h=l.split("[")[0],p,m,d=0;d<f.length;d++)if(m=l.match(f[d]),m&&m.index===0){p=m[0];break}if(p||(p=u[u.indexOf(h)]),!p)return!1;var y=l.substr(p.length);return y?(m=y.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),m?{array:p,index:Number(m[1]),property:m[3]||""}:!1):{array:p,index:"",property:""}}},3582:function(i,s,a){"use strict";var o=a(3049).extendFlat,c=a(6174),l={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},u={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},f=l.flags.slice().concat(["fullReplot"]),h=u.flags.slice().concat("layoutReplot");i.exports={traces:l,layout:u,traceFlags:function(){return p(f)},layoutFlags:function(){return p(h)},update:function(y,x){var w=x.editType;if(w&&w!=="none")for(var L=w.split("+"),_=0;_<L.length;_++)y[L[_]]=!0},overrideAll:m};function p(y){for(var x={},w=0;w<y.length;w++)x[y[w]]=!1;return x}function m(y,x,w){var L=o({},y);for(var _ in L){var D=L[_];c(D)&&(L[_]=d(D,x,w,_))}return w==="from-root"&&(L.editType=x),L}function d(y,x,w,L){if(y.valType){var _=o({},y);if(_.editType=x,Array.isArray(y.items)){_.items=new Array(y.items.length);for(var D=0;D<y.items.length;D++)_.items[D]=d(y.items[D],x,"from-root")}return _}else return m(y,x,L.charAt(0)==="_"?"nested":"from-root")}},887:function(i,s,a){"use strict";var o=a(721),c=a(6472),l=a(3626),u=a(4809),f=a(4122),h=a(5975),p=a(8766),m=h.cleanId,d=h.getFromTrace,y=l.traceIs;s.clearPromiseQueue=function(M){Array.isArray(M._promises)&&M._promises.length>0&&u.log("Clearing previous rejected promises from queue."),M._promises=[]},s.cleanLayout=function(M){var I,T;M||(M={}),M.xaxis1&&(M.xaxis||(M.xaxis=M.xaxis1),delete M.xaxis1),M.yaxis1&&(M.yaxis||(M.yaxis=M.yaxis1),delete M.yaxis1),M.scene1&&(M.scene||(M.scene=M.scene1),delete M.scene1);var B=(f.subplotsRegistry.cartesian||{}).attrRegex,H=(f.subplotsRegistry.polar||{}).attrRegex,Z=(f.subplotsRegistry.ternary||{}).attrRegex,$=(f.subplotsRegistry.gl3d||{}).attrRegex,N=Object.keys(M);for(I=0;I<N.length;I++){var j=N[I];if(B&&B.test(j)){var O=M[j];O.anchor&&O.anchor!=="free"&&(O.anchor=m(O.anchor)),O.overlaying&&(O.overlaying=m(O.overlaying)),O.type||(O.isdate?O.type="date":O.islog?O.type="log":O.isdate===!1&&O.islog===!1&&(O.type="linear")),(O.autorange==="withzero"||O.autorange==="tozero")&&(O.autorange=!0,O.rangemode="tozero"),O.insiderange&&delete O.range,delete O.islog,delete O.isdate,delete O.categories,C(O,"domain")&&delete O.domain,O.autotick!==void 0&&(O.tickmode===void 0&&(O.tickmode=O.autotick?"auto":"linear"),delete O.autotick),w(O)}else if(H&&H.test(j)){var X=M[j];w(X.radialaxis)}else if(Z&&Z.test(j)){var ie=M[j];w(ie.aaxis),w(ie.baxis),w(ie.caxis)}else if($&&$.test(j)){var oe=M[j],V=oe.cameraposition;if(Array.isArray(V)&&V[0].length===4){var W=V[0],Y=V[1],Q=V[2],re=c([],W),te=[];for(T=0;T<3;++T)te[T]=Y[T]+Q*re[2+4*T];oe.camera={eye:{x:te[0],y:te[1],z:te[2]},center:{x:Y[0],y:Y[1],z:Y[2]},up:{x:0,y:0,z:1}},delete oe.cameraposition}w(oe.xaxis),w(oe.yaxis),w(oe.zaxis)}}var le=Array.isArray(M.annotations)?M.annotations.length:0;for(I=0;I<le;I++){var be=M.annotations[I];u.isPlainObject(be)&&(be.ref&&(be.ref==="paper"?(be.xref="paper",be.yref="paper"):be.ref==="data"&&(be.xref="x",be.yref="y"),delete be.ref),x(be,"xref"),x(be,"yref"))}var Se=Array.isArray(M.shapes)?M.shapes.length:0;for(I=0;I<Se;I++){var ze=M.shapes[I];u.isPlainObject(ze)&&(x(ze,"xref"),x(ze,"yref"))}var Te=Array.isArray(M.images)?M.images.length:0;for(I=0;I<Te;I++){var ye=M.images[I];u.isPlainObject(ye)&&(x(ye,"xref"),x(ye,"yref"))}var he=M.legend;return he&&(he.x>3?(he.x=1.02,he.xanchor="left"):he.x<-2&&(he.x=-.02,he.xanchor="right"),he.y>3?(he.y=1.02,he.yanchor="bottom"):he.y<-2&&(he.y=-.02,he.yanchor="top")),w(M),M.dragmode==="rotate"&&(M.dragmode="orbit"),p.clean(M),M.template&&M.template.layout&&s.cleanLayout(M.template.layout),M};function x(M,I){var T=M[I],B=I.charAt(0);T&&T!=="paper"&&(M[I]=m(T,B,!0))}function w(M){M&&((typeof M.title=="string"||typeof M.title=="number")&&(M.title={text:M.title}),I("titlefont","font"),I("titleposition","position"),I("titleside","side"),I("titleoffset","offset"));function I(T,B){var H=M[T],Z=M.title&&M.title[B];H&&!Z&&(M.title||(M.title={}),M.title[B]=M[T],delete M[T])}}s.cleanData=function(M){for(var I=0;I<M.length;I++){var T=M[I],B;if(T.type==="histogramy"&&"xbins"in T&&!("ybins"in T)&&(T.ybins=T.xbins,delete T.xbins),T.error_y&&"opacity"in T.error_y){var H=p.defaults,Z=T.error_y.color||(y(T,"bar")?p.defaultLine:H[I%H.length]);T.error_y.color=p.addOpacity(p.rgb(Z),p.opacity(Z)*T.error_y.opacity),delete T.error_y.opacity}if("bardir"in T&&(T.bardir==="h"&&(y(T,"bar")||T.type.substr(0,9)==="histogram")&&(T.orientation="h",s.swapXYData(T)),delete T.bardir),T.type==="histogramy"&&s.swapXYData(T),(T.type==="histogramx"||T.type==="histogramy")&&(T.type="histogram"),"scl"in T&&!("colorscale"in T)&&(T.colorscale=T.scl,delete T.scl),"reversescl"in T&&!("reversescale"in T)&&(T.reversescale=T.reversescl,delete T.reversescl),T.xaxis&&(T.xaxis=m(T.xaxis,"x")),T.yaxis&&(T.yaxis=m(T.yaxis,"y")),y(T,"gl3d")&&T.scene&&(T.scene=f.subplotsRegistry.gl3d.cleanId(T.scene)),!y(T,"pie-like")&&!y(T,"bar-like"))if(Array.isArray(T.textposition))for(B=0;B<T.textposition.length;B++)T.textposition[B]=D(T.textposition[B]);else T.textposition&&(T.textposition=D(T.textposition));var $=l.getModule(T);if($&&$.colorbar){var N=$.colorbar.container,j=N?T[N]:T;j&&j.colorscale&&(j.colorscale==="YIGnBu"&&(j.colorscale="YlGnBu"),j.colorscale==="YIOrRd"&&(j.colorscale="YlOrRd"))}if(T.type==="surface"&&u.isPlainObject(T.contours)){var O=["x","y","z"];for(B=0;B<O.length;B++){var X=T.contours[O[B]];u.isPlainObject(X)&&(X.highlightColor&&(X.highlightcolor=X.highlightColor,delete X.highlightColor),X.highlightWidth&&(X.highlightwidth=X.highlightWidth,delete X.highlightWidth))}}if(T.type==="candlestick"||T.type==="ohlc"){var ie=(T.increasing||{}).showlegend!==!1,oe=(T.decreasing||{}).showlegend!==!1,V=L(T.increasing),W=L(T.decreasing);if(V!==!1&&W!==!1){var Y=_(V,W,ie,oe);Y&&(T.name=Y)}else(V||W)&&!T.name&&(T.name=V||W)}if(Array.isArray(T.transforms)){var Q=T.transforms;for(B=0;B<Q.length;B++){var re=Q[B];if(u.isPlainObject(re))switch(re.type){case"filter":re.filtersrc&&(re.target=re.filtersrc,delete re.filtersrc),re.calendar&&(re.valuecalendar||(re.valuecalendar=re.calendar),delete re.calendar);break;case"groupby":if(re.styles=re.styles||re.style,re.styles&&!Array.isArray(re.styles)){var te=re.styles,le=Object.keys(te);re.styles=[];for(var be=0;be<le.length;be++)re.styles.push({target:le[be],value:te[le[be]]})}break}}}C(T,"line")&&delete T.line,"marker"in T&&(C(T.marker,"line")&&delete T.marker.line,C(T,"marker")&&delete T.marker),p.clean(T),T.autobinx&&(delete T.autobinx,delete T.xbins),T.autobiny&&(delete T.autobiny,delete T.ybins),w(T),T.colorbar&&w(T.colorbar),T.marker&&T.marker.colorbar&&w(T.marker.colorbar),T.line&&T.line.colorbar&&w(T.line.colorbar),T.aaxis&&w(T.aaxis),T.baxis&&w(T.baxis)}};function L(M){if(!u.isPlainObject(M))return!1;var I=M.name;return delete M.name,delete M.showlegend,(typeof I=="string"||typeof I=="number")&&String(I)}function _(M,I,T,B){if(T&&!B)return M;if(B&&!T||!M.trim())return I;if(!I.trim())return M;var H=Math.min(M.length,I.length),Z;for(Z=0;Z<H&&M.charAt(Z)===I.charAt(Z);Z++);var $=M.substr(0,Z);return $.trim()}function D(M){var I="middle",T="center";return typeof M=="string"&&(M.indexOf("top")!==-1?I="top":M.indexOf("bottom")!==-1&&(I="bottom"),M.indexOf("left")!==-1?T="left":M.indexOf("right")!==-1&&(T="right")),I+" "+T}function C(M,I){return I in M&&typeof M[I]=="object"&&Object.keys(M[I]).length===0}s.swapXYData=function(M){var I;if(u.swapAttrs(M,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(M.z)&&Array.isArray(M.z[0])&&(M.transpose?delete M.transpose:M.transpose=!0),M.error_x&&M.error_y){var T=M.error_y,B="copy_ystyle"in T?T.copy_ystyle:!(T.color||T.thickness||T.width);u.swapAttrs(M,["error_?.copy_ystyle"]),B&&u.swapAttrs(M,["error_?.color","error_?.thickness","error_?.width"])}if(typeof M.hoverinfo=="string"){var H=M.hoverinfo.split("+");for(I=0;I<H.length;I++)H[I]==="x"?H[I]="y":H[I]==="y"&&(H[I]="x");M.hoverinfo=H.join("+")}},s.coerceTraceIndices=function(M,I){if(o(I))return[I];if(!Array.isArray(I)||!I.length)return M.data.map(function(H,Z){return Z});if(Array.isArray(I)){for(var T=[],B=0;B<I.length;B++)u.isIndex(I[B],M.data.length)?T.push(I[B]):u.warn("trace index (",I[B],") is not a number or is out of bounds");return T}return I},s.manageArrayContainers=function(M,I,T){var B=M.obj,H=M.parts,Z=H.length,$=H[Z-1],N=o($);if(N&&I===null){var j=H.slice(0,Z-1).join("."),O=u.nestedProperty(B,j).get();O.splice($,1)}else N&&M.get()===void 0&&M.get()===void 0&&(T[M.astr]=null),M.set(I)};var z=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function b(M){var I=M.search(z);if(I>0)return M.substr(0,I)}s.hasParent=function(M,I){for(var T=b(I);T;){if(T in M)return!0;T=b(T)}return!1};var S=["x","y","z"];s.clearAxisTypes=function(M,I,T){for(var B=0;B<I.length;B++)for(var H=M._fullData[B],Z=0;Z<3;Z++){var $=d(M,H,S[Z]);if($&&$.type!=="log"){var N=$._name,j=$._id.substr(1);if(j.substr(0,5)==="scene"){if(T[j]!==void 0)continue;N=j+"."+N}var O=N+".type";T[N]===void 0&&T[O]===void 0&&u.nestedProperty(M.layout,O).set(null)}}}},742:function(i,s,a){"use strict";var o=a(1420);s._doPlot=o._doPlot,s.newPlot=o.newPlot,s.restyle=o.restyle,s.relayout=o.relayout,s.redraw=o.redraw,s.update=o.update,s._guiRestyle=o._guiRestyle,s._guiRelayout=o._guiRelayout,s._guiUpdate=o._guiUpdate,s._storeDirectGUIEdit=o._storeDirectGUIEdit,s.react=o.react,s.extendTraces=o.extendTraces,s.prependTraces=o.prependTraces,s.addTraces=o.addTraces,s.deleteTraces=o.deleteTraces,s.moveTraces=o.moveTraces,s.purge=o.purge,s.addFrames=o.addFrames,s.deleteFrames=o.deleteFrames,s.animate=o.animate,s.setPlotConfig=o.setPlotConfig;var c=a(5425).getGraphDiv,l=a(8231).eraseActiveShape;s.deleteActiveShape=function(f){return l(c(f))},s.toImage=a(491),s.validate=a(2466),s.downloadImage=a(6452);var u=a(3853);s.makeTemplate=u.makeTemplate,s.validateTemplate=u.validateTemplate},5844:function(i,s,a){"use strict";var o=a(6174),c=a(4969),l=a(8636),u=a(8813).sorterAsc,f=a(3626);s.containerArrayMatch=a(6037);var h=s.isAddVal=function(d){return d==="add"||o(d)},p=s.isRemoveVal=function(d){return d===null||d==="remove"};s.applyContainerArrayChanges=function(d,y,x,w,L){var _=y.astr,D=f.getComponentMethod(_,"supplyLayoutDefaults"),C=f.getComponentMethod(_,"draw"),z=f.getComponentMethod(_,"drawOne"),b=w.replot||w.recalc||D===c||C===c,S=d.layout,M=d._fullLayout;if(x[""]){Object.keys(x).length>1&&l.warn("Full array edits are incompatible with other edits",_);var I=x[""][""];if(p(I))y.set(null);else if(Array.isArray(I))y.set(I);else return l.warn("Unrecognized full array edit value",_,I),!0;return b?!1:(D(S,M),C(d),!0)}var T=Object.keys(x).map(Number).sort(u),B=y.get(),H=B||[],Z=L(M,_).get(),$=[],N=-1,j=H.length,O,X,ie,oe,V,W,Y,Q;for(O=0;O<T.length;O++){if(ie=T[O],oe=x[ie],V=Object.keys(oe),W=oe[""],Y=h(W),ie<0||ie>H.length-(Y?0:1)){l.warn("index out of range",_,ie);continue}if(W!==void 0)V.length>1&&l.warn("Insertion & removal are incompatible with edits to the same index.",_,ie),p(W)?$.push(ie):Y?(W==="add"&&(W={}),H.splice(ie,0,W),Z&&Z.splice(ie,0,{})):l.warn("Unrecognized full object edit value",_,ie,W),N===-1&&(N=ie);else for(X=0;X<V.length;X++)Q=_+"["+ie+"].",L(H[ie],V[X],Q).set(oe[V[X]])}for(O=$.length-1;O>=0;O--)H.splice($[O],1),Z&&Z.splice($[O],1);if(H.length?B||y.set(H):y.set(null),b)return!1;if(D(S,M),z!==c){var re;if(N===-1)re=T;else{for(j=Math.max(H.length,j),re=[],O=0;O<T.length&&(ie=T[O],!(ie>=N));O++)re.push(ie);for(O=N;O<j;O++)re.push(O)}for(O=0;O<re.length;O++)z(d,re[O])}else C(d);return!0}},1420:function(i,s,a){"use strict";var o=a(5568),c=a(721),l=a(9784),u=a(4809),f=u.nestedProperty,h=a(8596),p=a(486),m=a(3626),d=a(7297),y=a(4122),x=a(9714),w=a(259),L=a(5829),_=a(2203),D=a(8766),C=a(5284).initInteractions,z=a(2972),b=a(4844).clearOutline,S=a(4452).dfltConfig,M=a(5844),I=a(887),T=a(1817),B=a(3582),H=a(4826).AX_NAME_PATTERN,Z=0,$=5;function N(ve,ge,Re,Fe){var Ue;if(ve=u.getGraphDiv(ve),h.init(ve),u.isPlainObject(ge)){var We=ge;ge=We.data,Re=We.layout,Fe=We.config,Ue=We.frames}var St=h.triggerHandler(ve,"plotly_beforeplot",[ge,Re,Fe]);if(St===!1)return Promise.reject();!ge&&!Re&&!u.isPlotDiv(ve)&&u.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",ve);function Mt(){if(Ue)return s.addFrames(ve,Ue)}oe(ve,Fe),Re||(Re={}),o.select(ve).classed("js-plotly-plot",!0),_.makeTester(),Array.isArray(ve._promises)||(ve._promises=[]);var ot=(ve.data||[]).length===0&&Array.isArray(ge);Array.isArray(ge)&&(I.cleanData(ge),ot?ve.data=ge:ve.data.push.apply(ve.data,ge),ve.empty=!1),(!ve.layout||ot)&&(ve.layout=I.cleanLayout(Re)),y.supplyDefaults(ve);var Xe=ve._fullLayout,_t=Xe._has("cartesian");Xe._replotting=!0,(ot||Xe._shouldCreateBgLayer)&&(Be(ve),Xe._shouldCreateBgLayer&&delete Xe._shouldCreateBgLayer),_.initGradients(ve),_.initPatterns(ve),ot&&x.saveShowSpikeInitial(ve);var Xt=!ve.calcdata||ve.calcdata.length!==(ve._fullData||[]).length;Xt&&y.doCalcdata(ve);for(var sn=0;sn<ve.calcdata.length;sn++)ve.calcdata[sn][0].trace=ve._fullData[sn];ve._context.responsive?ve._responsiveChartHandler||(ve._responsiveChartHandler=function(){u.isHidden(ve)||y.resize(ve)},window.addEventListener("resize",ve._responsiveChartHandler)):u.clearResponsive(ve);var pn=u.extendFlat({},Xe._size),An=0;function zn(){for(var _n=Xe._basePlotModules,gn=0;gn<_n.length;gn++)_n[gn].drawFramework&&_n[gn].drawFramework(ve);!Xe._glcanvas&&Xe._has("gl")&&(Xe._glcanvas=Xe._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(bn){return bn.key}),Xe._glcanvas.enter().append("canvas").attr("class",function(bn){return"gl-canvas gl-canvas-"+bn.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Un=ve._context.plotGlPixelRatio;if(Xe._glcanvas){Xe._glcanvas.attr("width",Xe.width*Un).attr("height",Xe.height*Un).style("width",Xe.width+"px").style("height",Xe.height+"px");var qn=Xe._glcanvas.data()[0].regl;if(qn&&(Math.floor(Xe.width*Un)!==qn._gl.drawingBufferWidth||Math.floor(Xe.height*Un)!==qn._gl.drawingBufferHeight)){var Jn="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(An)u.error(Jn);else return u.log(Jn+" Clearing graph and plotting again."),y.cleanPlot([],{},ve._fullData,Xe),y.supplyDefaults(ve),Xe=ve._fullLayout,y.doCalcdata(ve),An++,zn()}}return Xe.modebar.orientation==="h"?Xe._modebardiv.style("height",null).style("width","100%"):Xe._modebardiv.style("width",null).style("height",Xe.height+"px"),y.previousPromises(ve)}function Jt(){if(y.clearAutoMarginIds(ve),T.drawMarginPushers(ve),x.allowAutoMargin(ve),ve._fullLayout.title.text&&ve._fullLayout.title.automargin&&y.allowAutoMargin(ve,"title.automargin"),Xe._has("pie"))for(var _n=ve._fullData,gn=0;gn<_n.length;gn++){var Un=_n[gn];Un.type==="pie"&&Un.automargin&&y.allowAutoMargin(ve,"pie."+Un.uid+".automargin")}return y.doAutoMargin(ve),y.previousPromises(ve)}function Cn(){if(y.didMarginChange(pn,Xe._size))return u.syncOrAsync([Jt,T.layoutStyles],ve)}function yn(){if(!Xt){xn();return}return u.syncOrAsync([m.getComponentMethod("shapes","calcAutorange"),m.getComponentMethod("annotations","calcAutorange"),xn],ve)}function xn(){ve._transitioning||(T.doAutoRangeAndConstraints(ve),ot&&x.saveRangeInitial(ve),m.getComponentMethod("rangeslider","calcAutorange")(ve))}function Pn(){return x.draw(ve,ot?"":"redraw")}var Ln=[y.previousPromises,Mt,zn,Jt,Cn];_t&&Ln.push(yn),Ln.push(T.layoutStyles),_t&&Ln.push(Pn,function(gn){var Un=gn._fullLayout._insideTickLabelsUpdaterange;if(Un)return gn._fullLayout._insideTickLabelsUpdaterange=void 0,xe(gn,Un).then(function(){x.saveRangeInitial(gn,!0)})}),Ln.push(T.drawData,T.finalDraw,C,y.addLinks,y.rehover,y.redrag,y.reselect,y.doAutoMargin,y.previousPromises);var on=u.syncOrAsync(Ln,ve);return(!on||!on.then)&&(on=Promise.resolve()),on.then(function(){return j(ve),ve})}function j(ve){var ge=ve._fullLayout;ge._redrawFromAutoMarginCount?ge._redrawFromAutoMarginCount--:ve.emit("plotly_afterplot")}function O(ve){return u.extendFlat(S,ve)}function X(ve,ge){try{ve._fullLayout._paper.style("background",ge)}catch(Re){u.error(Re)}}function ie(ve,ge){var Re=D.combine(ge,"white");X(ve,Re)}function oe(ve,ge){if(!ve._context){ve._context=u.extendDeep({},S);var Re=o.select("base");ve._context._baseUrl=Re.size()&&Re.attr("href")?window.location.href.split("#")[0]:""}var Fe=ve._context,Ue,We,St;if(ge){for(We=Object.keys(ge),Ue=0;Ue<We.length;Ue++)St=We[Ue],!(St==="editable"||St==="edits")&&St in Fe&&(St==="setBackground"&&ge[St]==="opaque"?Fe[St]=ie:Fe[St]=ge[St]);ge.plot3dPixelRatio&&!Fe.plotGlPixelRatio&&(Fe.plotGlPixelRatio=Fe.plot3dPixelRatio);var Mt=ge.editable;if(Mt!==void 0)for(Fe.editable=Mt,We=Object.keys(Fe.edits),Ue=0;Ue<We.length;Ue++)Fe.edits[We[Ue]]=Mt;if(ge.edits)for(We=Object.keys(ge.edits),Ue=0;Ue<We.length;Ue++)St=We[Ue],St in Fe.edits&&(Fe.edits[St]=ge.edits[St]);Fe._exportedPlot=ge._exportedPlot}Fe.staticPlot&&(Fe.editable=!1,Fe.edits={},Fe.autosizable=!1,Fe.scrollZoom=!1,Fe.doubleClick=!1,Fe.showTips=!1,Fe.showLink=!1,Fe.displayModeBar=!1),Fe.displayModeBar==="hover"&&!l&&(Fe.displayModeBar=!0),(Fe.setBackground==="transparent"||typeof Fe.setBackground!="function")&&(Fe.setBackground=X),Fe._hasZeroHeight=Fe._hasZeroHeight||ve.clientHeight===0,Fe._hasZeroWidth=Fe._hasZeroWidth||ve.clientWidth===0;var ot=Fe.scrollZoom,Xe=Fe._scrollZoom={};if(ot===!0)Xe.cartesian=1,Xe.gl3d=1,Xe.geo=1,Xe.mapbox=1,Xe.map=1;else if(typeof ot=="string"){var _t=ot.split("+");for(Ue=0;Ue<_t.length;Ue++)Xe[_t[Ue]]=1}else ot!==!1&&(Xe.gl3d=1,Xe.geo=1,Xe.mapbox=1,Xe.map=1)}function V(ve){if(ve=u.getGraphDiv(ve),!u.isPlotDiv(ve))throw new Error("This element is not a Plotly plot: "+ve);return I.cleanData(ve.data),I.cleanLayout(ve.layout),ve.calcdata=void 0,s._doPlot(ve).then(function(){return ve.emit("plotly_redraw"),ve})}function W(ve,ge,Re,Fe){return ve=u.getGraphDiv(ve),y.cleanPlot([],{},ve._fullData||[],ve._fullLayout||{}),y.purge(ve),s._doPlot(ve,ge,Re,Fe)}function Y(ve,ge){var Re=ge+1,Fe=[],Ue,We;for(Ue=0;Ue<ve.length;Ue++)We=ve[Ue],We<0?Fe.push(Re+We):Fe.push(We);return Fe}function Q(ve,ge,Re){var Fe,Ue;for(Fe=0;Fe<ge.length;Fe++){if(Ue=ge[Fe],Ue!==parseInt(Ue,10))throw new Error("all values in "+Re+" must be integers");if(Ue>=ve.data.length||Ue<-ve.data.length)throw new Error(Re+" must be valid indices for gd.data.");if(ge.indexOf(Ue,Fe+1)>-1||Ue>=0&&ge.indexOf(-ve.data.length+Ue)>-1||Ue<0&&ge.indexOf(ve.data.length+Ue)>-1)throw new Error("each index in "+Re+" must be unique.")}}function re(ve,ge,Re){if(!Array.isArray(ve.data))throw new Error("gd.data must be an array.");if(typeof ge>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(ge)||(ge=[ge]),Q(ve,ge,"currentIndices"),typeof Re<"u"&&!Array.isArray(Re)&&(Re=[Re]),typeof Re<"u"&&Q(ve,Re,"newIndices"),typeof Re<"u"&&ge.length!==Re.length)throw new Error("current and new indices must be of equal length.")}function te(ve,ge,Re){var Fe,Ue;if(!Array.isArray(ve.data))throw new Error("gd.data must be an array.");if(typeof ge>"u")throw new Error("traces must be defined.");for(Array.isArray(ge)||(ge=[ge]),Fe=0;Fe<ge.length;Fe++)if(Ue=ge[Fe],typeof Ue!="object"||Array.isArray(Ue)||Ue===null)throw new Error("all values in traces array must be non-array objects");if(typeof Re<"u"&&!Array.isArray(Re)&&(Re=[Re]),typeof Re<"u"&&Re.length!==ge.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function le(ve,ge,Re,Fe){var Ue=u.isPlainObject(Fe);if(!Array.isArray(ve.data))throw new Error("gd.data must be an array");if(!u.isPlainObject(ge))throw new Error("update must be a key:value object");if(typeof Re>"u")throw new Error("indices must be an integer or array of integers");Q(ve,Re,"indices");for(var We in ge){if(!Array.isArray(ge[We])||ge[We].length!==Re.length)throw new Error("attribute "+We+" must be an array of length equal to indices array length");if(Ue&&(!(We in Fe)||!Array.isArray(Fe[We])||Fe[We].length!==ge[We].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function be(ve,ge,Re,Fe){var Ue=u.isPlainObject(Fe),We=[],St,Mt,ot,Xe,_t;Array.isArray(Re)||(Re=[Re]),Re=Y(Re,ve.data.length-1);for(var Xt in ge)for(var sn=0;sn<Re.length;sn++){if(St=ve.data[Re[sn]],ot=f(St,Xt),Mt=ot.get(),Xe=ge[Xt][sn],!u.isArrayOrTypedArray(Xe))throw new Error("attribute: "+Xt+" index: "+sn+" must be an array");if(!u.isArrayOrTypedArray(Mt))throw new Error("cannot extend missing or non-array attribute: "+Xt);if(Mt.constructor!==Xe.constructor)throw new Error("cannot extend array with an array of a different type: "+Xt);_t=Ue?Fe[Xt][sn]:Fe,c(_t)||(_t=-1),We.push({prop:ot,target:Mt,insert:Xe,maxp:Math.floor(_t)})}return We}function Se(ve,ge,Re,Fe,Ue){le(ve,ge,Re,Fe);for(var We=be(ve,ge,Re,Fe),St={},Mt={},ot=0;ot<We.length;ot++){var Xe=We[ot].prop,_t=We[ot].maxp,Xt=Ue(We[ot].target,We[ot].insert,_t);Xe.set(Xt[0]),Array.isArray(St[Xe.astr])||(St[Xe.astr]=[]),St[Xe.astr].push(Xt[1]),Array.isArray(Mt[Xe.astr])||(Mt[Xe.astr]=[]),Mt[Xe.astr].push(We[ot].target.length)}return{update:St,maxPoints:Mt}}function ze(ve,ge){var Re=new ve.constructor(ve.length+ge.length);return Re.set(ve),Re.set(ge,ve.length),Re}function Te(ve,ge,Re,Fe){ve=u.getGraphDiv(ve);function Ue(ot,Xe,_t){var Xt,sn;if(u.isTypedArray(ot))if(_t<0){var pn=new ot.constructor(0),An=ze(ot,Xe);_t<0?(Xt=An,sn=pn):(Xt=pn,sn=An)}else if(Xt=new ot.constructor(_t),sn=new ot.constructor(ot.length+Xe.length-_t),_t===Xe.length)Xt.set(Xe),sn.set(ot);else if(_t<Xe.length){var zn=Xe.length-_t;Xt.set(Xe.subarray(zn)),sn.set(ot),sn.set(Xe.subarray(0,zn),ot.length)}else{var Jt=_t-Xe.length,Cn=ot.length-Jt;Xt.set(ot.subarray(Cn)),Xt.set(Xe,Jt),sn.set(ot.subarray(0,Cn))}else Xt=ot.concat(Xe),sn=_t>=0&&_t<Xt.length?Xt.splice(0,Xt.length-_t):[];return[Xt,sn]}var We=Se(ve,ge,Re,Fe,Ue),St=s.redraw(ve),Mt=[ve,We.update,Re,We.maxPoints];return p.add(ve,s.prependTraces,Mt,Te,arguments),St}function ye(ve,ge,Re,Fe){ve=u.getGraphDiv(ve);function Ue(ot,Xe,_t){var Xt,sn;if(u.isTypedArray(ot))if(_t<=0){var pn=new ot.constructor(0),An=ze(Xe,ot);_t<0?(Xt=An,sn=pn):(Xt=pn,sn=An)}else if(Xt=new ot.constructor(_t),sn=new ot.constructor(ot.length+Xe.length-_t),_t===Xe.length)Xt.set(Xe),sn.set(ot);else if(_t<Xe.length){var zn=Xe.length-_t;Xt.set(Xe.subarray(0,zn)),sn.set(Xe.subarray(zn)),sn.set(ot,zn)}else{var Jt=_t-Xe.length;Xt.set(Xe),Xt.set(ot.subarray(0,Jt),Xe.length),sn.set(ot.subarray(Jt))}else Xt=Xe.concat(ot),sn=_t>=0&&_t<Xt.length?Xt.splice(_t,Xt.length):[];return[Xt,sn]}var We=Se(ve,ge,Re,Fe,Ue),St=s.redraw(ve),Mt=[ve,We.update,Re,We.maxPoints];return p.add(ve,s.extendTraces,Mt,ye,arguments),St}function he(ve,ge,Re){ve=u.getGraphDiv(ve);var Fe=[],Ue=s.deleteTraces,We=he,St=[ve,Fe],Mt=[ve,ge],ot,Xe;for(te(ve,ge,Re),Array.isArray(ge)||(ge=[ge]),ge=ge.map(function(_t){return u.extendFlat({},_t)}),I.cleanData(ge),ot=0;ot<ge.length;ot++)ve.data.push(ge[ot]);for(ot=0;ot<ge.length;ot++)Fe.push(-ge.length+ot);if(typeof Re>"u")return Xe=s.redraw(ve),p.add(ve,Ue,St,We,Mt),Xe;Array.isArray(Re)||(Re=[Re]);try{re(ve,Fe,Re)}catch(_t){throw ve.data.splice(ve.data.length-ge.length,ge.length),_t}return p.startSequence(ve),p.add(ve,Ue,St,We,Mt),Xe=s.moveTraces(ve,Fe,Re),p.stopSequence(ve),Xe}function P(ve,ge){ve=u.getGraphDiv(ve);var Re=[],Fe=s.addTraces,Ue=P,We=[ve,Re,ge],St=[ve,ge],Mt,ot;if(typeof ge>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(ge)||(ge=[ge]),Q(ve,ge,"indices"),ge=Y(ge,ve.data.length-1),ge.sort(u.sorterDes),Mt=0;Mt<ge.length;Mt+=1)ot=ve.data.splice(ge[Mt],1)[0],Re.push(ot);var Xe=s.redraw(ve);return p.add(ve,Fe,We,Ue,St),Xe}function U(ve,ge,Re){ve=u.getGraphDiv(ve);var Fe=[],Ue=[],We=U,St=U,Mt=[ve,Re,ge],ot=[ve,ge,Re],Xe;if(re(ve,ge,Re),ge=Array.isArray(ge)?ge:[ge],typeof Re>"u")for(Re=[],Xe=0;Xe<ge.length;Xe++)Re.push(-ge.length+Xe);for(Re=Array.isArray(Re)?Re:[Re],ge=Y(ge,ve.data.length-1),Re=Y(Re,ve.data.length-1),Xe=0;Xe<ve.data.length;Xe++)ge.indexOf(Xe)===-1&&Fe.push(ve.data[Xe]);for(Xe=0;Xe<ge.length;Xe++)Ue.push({newIndex:Re[Xe],trace:ve.data[ge[Xe]]});for(Ue.sort(function(Xt,sn){return Xt.newIndex-sn.newIndex}),Xe=0;Xe<Ue.length;Xe+=1)Fe.splice(Ue[Xe].newIndex,0,Ue[Xe].trace);ve.data=Fe;var _t=s.redraw(ve);return p.add(ve,We,Mt,St,ot),_t}function ee(ve,ge,Re,Fe){ve=u.getGraphDiv(ve),I.clearPromiseQueue(ve);var Ue={};if(typeof ge=="string")Ue[ge]=Re;else if(u.isPlainObject(ge))Ue=u.extendFlat({},ge),Fe===void 0&&(Fe=Re);else return u.warn("Restyle fail.",ge,Re,Fe),Promise.reject();Object.keys(Ue).length&&(ve.changed=!0);var We=I.coerceTraceIndices(ve,Fe),St=ne(ve,Ue,We),Mt=St.flags;Mt.calc&&(ve.calcdata=void 0),Mt.clearAxisTypes&&I.clearAxisTypes(ve,We,{});var ot=[];Mt.fullReplot?ot.push(s._doPlot):(ot.push(y.previousPromises),y.supplyDefaults(ve),Mt.markerSize&&(y.doCalcdata(ve),Ee(ot)),Mt.style&&ot.push(T.doTraceStyle),Mt.colorbars&&ot.push(T.doColorBars),ot.push(j)),ot.push(y.rehover,y.redrag,y.reselect),p.add(ve,ee,[ve,St.undoit,St.traces],ee,[ve,St.redoit,St.traces]);var Xe=u.syncOrAsync(ot,ve);return(!Xe||!Xe.then)&&(Xe=Promise.resolve()),Xe.then(function(){return ve.emit("plotly_restyle",St.eventData),ve})}function G(ve){return ve===void 0?null:ve}function E(ve,ge){return ge?function(Re,Fe,Ue){var We=f(Re,Fe),St=We.set;return We.set=function(Mt){var ot=(Ue||"")+Fe;K(ot,We.get(),Mt,ve),St(Mt)},We}:f}function K(ve,ge,Re,Fe){if(Array.isArray(ge)||Array.isArray(Re))for(var Ue=Array.isArray(ge)?ge:[],We=Array.isArray(Re)?Re:[],St=Math.max(Ue.length,We.length),Mt=0;Mt<St;Mt++)K(ve+"["+Mt+"]",Ue[Mt],We[Mt],Fe);else if(u.isPlainObject(ge)||u.isPlainObject(Re)){var ot=u.isPlainObject(ge)?ge:{},Xe=u.isPlainObject(Re)?Re:{},_t=u.extendFlat({},ot,Xe);for(var Xt in _t)K(ve+"."+Xt,ot[Xt],Xe[Xt],Fe)}else Fe[ve]===void 0&&(Fe[ve]=G(ge))}function R(ve,ge,Re){for(var Fe in Re){var Ue=f(ve,Fe);K(Fe,Ue.get(),Re[Fe],ge)}}function ne(ve,ge,Re){var Fe=ve._fullLayout,Ue=ve._fullData,We=ve.data,St=Fe._guiEditing,Mt=E(Fe._preGUI,St),ot=u.extendDeepAll({},ge),Xe;pe(ge);var _t=B.traceFlags(),Xt={},sn={},pn;function An(){return Re.map(function(){})}function zn(Zt){var an=x.id2name(Zt);pn.indexOf(an)===-1&&pn.push(an)}function Jt(Zt){return"LAYOUT"+Zt+".autorange"}function Cn(Zt){return"LAYOUT"+Zt+".range"}function yn(Zt){for(var an=Zt;an<Ue.length;an++)if(Ue[an]._input===We[Zt])return Ue[an]}function xn(Zt,an,ln){if(Array.isArray(Zt)){Zt.forEach(function(Yn){xn(Yn,an,ln)});return}if(!(Zt in ge||I.hasParent(ge,Zt))){var En;if(Zt.substr(0,6)==="LAYOUT")En=Mt(ve.layout,Zt.replace("LAYOUT",""));else{var Gn=Re[ln],sr=Fe._tracePreGUI[yn(Gn)._fullInput.uid];En=E(sr,St)(We[Gn],Zt)}Zt in sn||(sn[Zt]=An()),sn[Zt][ln]===void 0&&(sn[Zt][ln]=G(En.get())),an!==void 0&&En.set(an)}}function Pn(Zt){return function(an){return Ue[an][Zt]}}function Ln(Zt){return function(an,ln){return an===!1?Ue[Re[ln]][Zt]:null}}for(var on in ge){if(I.hasParent(ge,on))throw new Error("cannot set "+on+" and a parent attribute simultaneously");var _n=ge[on],gn,Un,qn,Jn,bn,Qn;if((on==="autobinx"||on==="autobiny")&&(on=on.charAt(on.length-1)+"bins",Array.isArray(_n)?_n=_n.map(Ln(on)):_n===!1?_n=Re.map(Pn(on)):_n=null),Xt[on]=_n,on.substr(0,6)==="LAYOUT"){qn=Mt(ve.layout,on.replace("LAYOUT","")),sn[on]=[G(qn.get())],qn.set(Array.isArray(_n)?_n[0]:_n),_t.calc=!0;continue}for(sn[on]=An(),Xe=0;Xe<Re.length;Xe++){gn=We[Re[Xe]],Un=yn(Re[Xe]);var Vn=Fe._tracePreGUI[Un._fullInput.uid];if(qn=E(Vn,St)(gn,on),Jn=qn.get(),bn=Array.isArray(_n)?_n[Xe%_n.length]:_n,bn!==void 0){var hn=qn.parts[qn.parts.length-1],me=on.substr(0,on.length-hn.length-1),ce=me?me+".":"",it=me?f(Un,me).get():Un;if(Qn=d.getTraceValObject(Un,qn.parts),Qn&&Qn.impliedEdits&&bn!==null)for(var tt in Qn.impliedEdits)xn(u.relativeAttr(on,tt),Qn.impliedEdits[tt],Xe);else if((hn==="thicknessmode"||hn==="lenmode")&&Jn!==bn&&(bn==="fraction"||bn==="pixels")&&it){var Ze=Fe._size,Ye=it.orient,Qe=Ye==="top"||Ye==="bottom";if(hn==="thicknessmode"){var mt=Qe?Ze.h:Ze.w;xn(ce+"thickness",it.thickness*(bn==="fraction"?1/mt:mt),Xe)}else{var st=Qe?Ze.w:Ze.h;xn(ce+"len",it.len*(bn==="fraction"?1/st:st),Xe)}}else if(on==="type"&&(bn==="pie"!=(Jn==="pie")||bn==="funnelarea"!=(Jn==="funnelarea"))){var yt="x",Ct="y";(bn==="bar"||Jn==="bar")&&gn.orientation==="h"&&(yt="y",Ct="x"),u.swapAttrs(gn,["?","?src"],"labels",yt),u.swapAttrs(gn,["d?","?0"],"label",yt),u.swapAttrs(gn,["?","?src"],"values",Ct),Jn==="pie"||Jn==="funnelarea"?(f(gn,"marker.color").set(f(gn,"marker.colors").get()),Fe._pielayer.selectAll("g.trace").remove()):m.traceIs(gn,"cartesian")&&f(gn,"marker.colors").set(f(gn,"marker.color").get())}sn[on][Xe]=G(Jn);var wt=["swapxy","swapxyaxes","orientation","orientationaxes"];if(wt.indexOf(on)!==-1){if(on==="orientation"){qn.set(bn);var Ot=gn.x&&!gn.y?"h":"v";if((qn.get()||Ot)===Un.orientation)continue}else on==="orientationaxes"&&(gn.orientation={v:"h",h:"v"}[Un.orientation]);I.swapXYData(gn),_t.calc=_t.clearAxisTypes=!0}else y.dataArrayContainers.indexOf(qn.parts[0])!==-1?(I.manageArrayContainers(qn,bn,sn),_t.calc=!0):(Qn?Qn.arrayOk&&!m.traceIs(Un,"regl")&&(u.isArrayOrTypedArray(bn)||u.isArrayOrTypedArray(Jn))?_t.calc=!0:B.update(_t,Qn):_t.calc=!0,qn.set(bn))}}if(["swapxyaxes","orientationaxes"].indexOf(on)!==-1&&x.swap(ve,Re),on==="orientationaxes"){var en=f(ve.layout,"hovermode"),Tt=en.get();Tt==="x"?en.set("y"):Tt==="y"?en.set("x"):Tt==="x unified"?en.set("y unified"):Tt==="y unified"&&en.set("x unified")}if(["orientation","type"].indexOf(on)!==-1){for(pn=[],Xe=0;Xe<Re.length;Xe++){var fn=We[Re[Xe]];m.traceIs(fn,"cartesian")&&(zn(fn.xaxis||"x"),zn(fn.yaxis||"y"))}xn(pn.map(Jt),!0,0),xn(pn.map(Cn),[0,1],0)}}return(_t.calc||_t.plot)&&(_t.fullReplot=!0),{flags:_t,undoit:sn,redoit:Xt,traces:Re,eventData:u.extendDeepNoArrays([],[ot,Re])}}function pe(ve){var ge=u.counterRegex("axis",".title",!1,!1),Re=/colorbar\.title$/,Fe=Object.keys(ve),Ue,We,St;for(Ue=0;Ue<Fe.length;Ue++)We=Fe[Ue],St=ve[We],(We==="title"||ge.test(We)||Re.test(We))&&(typeof St=="string"||typeof St=="number")?Mt(We,We.replace("title","title.text")):We.indexOf("titlefont")>-1&&We.indexOf("grouptitlefont")===-1?Mt(We,We.replace("titlefont","title.font")):We.indexOf("titleposition")>-1?Mt(We,We.replace("titleposition","title.position")):We.indexOf("titleside")>-1?Mt(We,We.replace("titleside","title.side")):We.indexOf("titleoffset")>-1&&Mt(We,We.replace("titleoffset","title.offset"));function Mt(ot,Xe){ve[Xe]=ve[ot],delete ve[ot]}}function xe(ve,ge,Re){ve=u.getGraphDiv(ve),I.clearPromiseQueue(ve);var Fe={};if(typeof ge=="string")Fe[ge]=Re;else if(u.isPlainObject(ge))Fe=u.extendFlat({},ge);else return u.warn("Relayout fail.",ge,Re),Promise.reject();Object.keys(Fe).length&&(ve.changed=!0);var Ue=rt(ve,Fe),We=Ue.flags;We.calc&&(ve.calcdata=void 0);var St=[y.previousPromises];We.layoutReplot?St.push(T.layoutReplot):Object.keys(Fe).length&&(we(ve,We,Ue)||y.supplyDefaults(ve),We.legend&&St.push(T.doLegend),We.layoutstyle&&St.push(T.layoutStyles),We.axrange&&Ee(St,Ue.rangesAltered),We.ticks&&St.push(T.doTicksRelayout),We.modebar&&St.push(T.doModeBar),We.camera&&St.push(T.doCamera),We.colorbars&&St.push(T.doColorBars),St.push(j)),St.push(y.rehover,y.redrag,y.reselect),p.add(ve,xe,[ve,Ue.undoit],xe,[ve,Ue.redoit]);var Mt=u.syncOrAsync(St,ve);return(!Mt||!Mt.then)&&(Mt=Promise.resolve(ve)),Mt.then(function(){return ve.emit("plotly_relayout",Ue.eventData),ve})}function we(ve,ge,Re){var Fe=ve._fullLayout;if(!ge.axrange)return!1;for(var Ue in ge)if(Ue!=="axrange"&&ge[Ue])return!1;var We,St,Mt=function(pn,An){return u.coerce(We,St,L,pn,An)},ot={};for(var Xe in Re.rangesAltered){var _t=x.id2name(Xe);if(We=ve.layout[_t],St=Fe[_t],w(We,St,Mt,ot),St._matchGroup){for(var Xt in St._matchGroup)if(Xt!==Xe){var sn=Fe[x.id2name(Xt)];sn.autorange=St.autorange,sn.range=St.range.slice(),sn._input.range=St.range.slice()}}}return!0}function Ee(ve,ge){var Re=ge?function(Fe){var Ue=[],We=!0;for(var St in ge){var Mt=x.getFromId(Fe,St);if(Ue.push(St),(Mt.ticklabelposition||"").indexOf("inside")!==-1&&Mt._anchorAxis&&Ue.push(Mt._anchorAxis._id),Mt._matchGroup)for(var ot in Mt._matchGroup)ge[ot]||Ue.push(ot)}return x.draw(Fe,Ue,{skipTitle:We})}:function(Fe){return x.draw(Fe,"redraw")};ve.push(b,T.doAutoRangeAndConstraints,Re,T.drawData,T.finalDraw)}var Oe=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Ke=/^[xyz]axis[0-9]*\.autorange$/,Je=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function rt(ve,ge){var Re=ve.layout,Fe=ve._fullLayout,Ue=Fe._guiEditing,We=E(Fe._preGUI,Ue),St=Object.keys(ge),Mt=x.list(ve),ot=u.extendDeepAll({},ge),Xe={},_t,Xt,sn;for(pe(ge),St=Object.keys(ge),Xt=0;Xt<St.length;Xt++)if(St[Xt].indexOf("allaxes")===0){for(sn=0;sn<Mt.length;sn++){var pn=Mt[sn]._id.substr(1),An=pn.indexOf("scene")!==-1?pn+".":"",zn=St[Xt].replace("allaxes",An+Mt[sn]._name);ge[zn]||(ge[zn]=ge[St[Xt]])}delete ge[St[Xt]]}var Jt=B.layoutFlags(),Cn={},yn={};function xn(sr,Yn){if(Array.isArray(sr)){sr.forEach(function(Mr){xn(Mr,Yn)});return}if(!(sr in ge||I.hasParent(ge,sr))){var Xr=We(Re,sr);sr in yn||(yn[sr]=G(Xr.get())),Yn!==void 0&&Xr.set(Yn)}}var Pn={},Ln;function on(sr){var Yn=x.name2id(sr.split(".")[0]);return Pn[Yn]=1,Yn}for(var _n in ge){if(I.hasParent(ge,_n))throw new Error("cannot set "+_n+" and a parent attribute simultaneously");for(var gn=We(Re,_n),Un=ge[_n],qn=gn.parts.length,Jn=qn-1;Jn>0&&typeof gn.parts[Jn]!="string";)Jn--;var bn=gn.parts[Jn],Qn=gn.parts[Jn-1]+"."+bn,Vn=gn.parts.slice(0,Jn).join("."),hn=f(ve.layout,Vn).get(),me=f(Fe,Vn).get(),ce=gn.get();if(Un!==void 0){Cn[_n]=Un,yn[_n]=bn==="reverse"?Un:G(ce);var it=d.getLayoutValObject(Fe,gn.parts);if(it&&it.impliedEdits&&Un!==null)for(var tt in it.impliedEdits)xn(u.relativeAttr(_n,tt),it.impliedEdits[tt]);if(["width","height"].indexOf(_n)!==-1)if(Un){xn("autosize",null);var Ze=_n==="height"?"width":"height";xn(Ze,Fe[Ze])}else Fe[_n]=ve._initialAutoSize[_n];else if(_n==="autosize")xn("width",Un?null:Fe.width),xn("height",Un?null:Fe.height);else if(Qn.match(Oe))on(Qn),f(Fe,Vn+"._inputRange").set(null);else if(Qn.match(Ke)){on(Qn),f(Fe,Vn+"._inputRange").set(null);var Ye=f(Fe,Vn).get();Ye._inputDomain&&(Ye._input.domain=Ye._inputDomain.slice())}else Qn.match(Je)&&f(Fe,Vn+"._inputDomain").set(null);if(bn==="type"){Ln=hn;var Qe=me.type==="linear"&&Un==="log",mt=me.type==="log"&&Un==="linear";if(Qe||mt){if(!Ln||!Ln.range)xn(Vn+".autorange",!0);else if(me.autorange)Qe&&(Ln.range=Ln.range[1]>Ln.range[0]?[1,2]:[2,1]);else{var st=Ln.range[0],yt=Ln.range[1];Qe?(st<=0&&yt<=0&&xn(Vn+".autorange",!0),st<=0?st=yt/1e6:yt<=0&&(yt=st/1e6),xn(Vn+".range[0]",Math.log(st)/Math.LN10),xn(Vn+".range[1]",Math.log(yt)/Math.LN10)):(xn(Vn+".range[0]",Math.pow(10,st)),xn(Vn+".range[1]",Math.pow(10,yt)))}Array.isArray(Fe._subplots.polar)&&Fe._subplots.polar.length&&Fe[gn.parts[0]]&&gn.parts[1]==="radialaxis"&&delete Fe[gn.parts[0]]._subplot.viewInitial["radialaxis.range"],m.getComponentMethod("annotations","convertCoords")(ve,me,Un,xn),m.getComponentMethod("images","convertCoords")(ve,me,Un,xn)}else xn(Vn+".autorange",!0),xn(Vn+".range",null);f(Fe,Vn+"._inputRange").set(null)}else if(bn.match(H)){var Ct=f(Fe,_n).get(),wt=(Un||{}).type;(!wt||wt==="-")&&(wt="linear"),m.getComponentMethod("annotations","convertCoords")(ve,Ct,wt,xn),m.getComponentMethod("images","convertCoords")(ve,Ct,wt,xn)}var Ot=M.containerArrayMatch(_n);if(Ot){_t=Ot.array,Xt=Ot.index;var en=Ot.property,Tt=it||{editType:"calc"};Xt!==""&&en===""&&(M.isAddVal(Un)?yn[_n]=null:M.isRemoveVal(Un)?yn[_n]=(f(Re,_t).get()||[])[Xt]:u.warn("unrecognized full object value",ge)),B.update(Jt,Tt),Xe[_t]||(Xe[_t]={});var fn=Xe[_t][Xt];fn||(fn=Xe[_t][Xt]={}),fn[en]=Un,delete ge[_n]}else bn==="reverse"?(hn.range?hn.range.reverse():(xn(Vn+".autorange",!0),hn.range=[1,0]),me.autorange?Jt.calc=!0:Jt.plot=!0):(_n==="dragmode"&&(Un===!1&&ce!==!1||Un!==!1&&ce===!1)||Fe._has("scatter-like")&&Fe._has("regl")&&_n==="dragmode"&&(Un==="lasso"||Un==="select")&&!(ce==="lasso"||ce==="select")||Fe._has("gl2d")?Jt.plot=!0:it?B.update(Jt,it):Jt.calc=!0,gn.set(Un))}}for(_t in Xe){var Zt=M.applyContainerArrayChanges(ve,We(Re,_t),Xe[_t],Jt,We);Zt||(Jt.plot=!0)}for(var an in Pn){Ln=x.getFromId(ve,an);var ln=Ln&&Ln._constraintGroup;if(ln){Jt.calc=!0;for(var En in ln)Pn[En]||(x.getFromId(ve,En)._constraintShrinkable=!0)}}(Me(ve)||ge.height||ge.width)&&(Jt.plot=!0);var Gn=Fe.shapes;for(Xt=0;Xt<Gn.length;Xt++)if(Gn[Xt].showlegend){Jt.calc=!0;break}return(Jt.plot||Jt.calc)&&(Jt.layoutReplot=!0),{flags:Jt,rangesAltered:Pn,undoit:yn,redoit:Cn,eventData:ot}}function Me(ve){var ge=ve._fullLayout,Re=ge.width,Fe=ge.height;return ve.layout.autosize&&y.plotAutoSize(ve,ve.layout,ge),ge.width!==Re||ge.height!==Fe}function ke(ve,ge,Re,Fe){ve=u.getGraphDiv(ve),I.clearPromiseQueue(ve),u.isPlainObject(ge)||(ge={}),u.isPlainObject(Re)||(Re={}),Object.keys(ge).length&&(ve.changed=!0),Object.keys(Re).length&&(ve.changed=!0);var Ue=I.coerceTraceIndices(ve,Fe),We=ne(ve,u.extendFlat({},ge),Ue),St=We.flags,Mt=rt(ve,u.extendFlat({},Re)),ot=Mt.flags;(St.calc||ot.calc)&&(ve.calcdata=void 0),St.clearAxisTypes&&I.clearAxisTypes(ve,Ue,Re);var Xe=[];ot.layoutReplot?Xe.push(T.layoutReplot):St.fullReplot?Xe.push(s._doPlot):(Xe.push(y.previousPromises),we(ve,ot,Mt)||y.supplyDefaults(ve),St.style&&Xe.push(T.doTraceStyle),(St.colorbars||ot.colorbars)&&Xe.push(T.doColorBars),ot.legend&&Xe.push(T.doLegend),ot.layoutstyle&&Xe.push(T.layoutStyles),ot.axrange&&Ee(Xe,Mt.rangesAltered),ot.ticks&&Xe.push(T.doTicksRelayout),ot.modebar&&Xe.push(T.doModeBar),ot.camera&&Xe.push(T.doCamera),Xe.push(j)),Xe.push(y.rehover,y.redrag,y.reselect),p.add(ve,ke,[ve,We.undoit,Mt.undoit,We.traces],ke,[ve,We.redoit,Mt.redoit,We.traces]);var _t=u.syncOrAsync(Xe,ve);return(!_t||!_t.then)&&(_t=Promise.resolve(ve)),_t.then(function(){return ve.emit("plotly_update",{data:We.eventData,layout:Mt.eventData}),ve})}function Le(ve){return function(Re){Re._fullLayout._guiEditing=!0;var Fe=ve.apply(null,arguments);return Re._fullLayout._guiEditing=!1,Fe}}var He=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^(map\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],Ve=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function qe(ve,ge){for(var Re=0;Re<ge.length;Re++){var Fe=ge[Re],Ue=ve.match(Fe.pattern);if(Ue){var We=Ue[1]||"";return{head:We,tail:ve.substr(We.length+1),attr:Fe.attr}}}}function vt(ve,ge){var Re=f(ge,ve).get();if(Re!==void 0)return Re;var Fe=ve.split(".");for(Fe.pop();Fe.length>1;)if(Fe.pop(),Re=f(ge,Fe.join(".")+".uirevision").get(),Re!==void 0)return Re;return ge.uirevision}function At(ve,ge){for(var Re=0;Re<ge.length;Re++)if(ge[Re]._fullInput.uid===ve)return Re;return-1}function Dt(ve,ge,Re){for(var Fe=0;Fe<ge.length;Fe++)if(ge[Fe].uid===ve)return Fe;return!ge[Re]||ge[Re].uid?-1:Re}function bt(ve,ge){var Re=u.isPlainObject(ve),Fe=Array.isArray(ve);return Re||Fe?(Re&&u.isPlainObject(ge)||Fe&&Array.isArray(ge))&&JSON.stringify(ve)===JSON.stringify(ge):ve===ge}function xt(ve,ge,Re,Fe){var Ue=Fe._preGUI,We,St,Mt,ot,Xe,_t,Xt,sn,pn,An,zn=[],Jt={},Cn={};for(We in Ue){if(Xe=qe(We,He),Xe){if(pn=Xe.head,An=Xe.tail,St=Xe.attr||pn+".uirevision",Mt=f(Fe,St).get(),ot=Mt&&vt(St,ge),ot&&ot===Mt){if(_t=Ue[We],_t===null&&(_t=void 0),Xt=f(ge,We),sn=Xt.get(),bt(sn,_t)){sn===void 0&&An==="autorange"&&zn.push(pn),Xt.set(G(f(Fe,We).get()));continue}else if(An==="autorange"||An.substr(0,6)==="range["){var yn=Ue[pn+".range[0]"],xn=Ue[pn+".range[1]"],Pn=Ue[pn+".autorange"];if(Pn||Pn===null&&yn===null&&xn===null){if(!(pn in Jt)){var Ln=f(ge,pn).get();Jt[pn]=Ln&&(Ln.autorange||Ln.autorange!==!1&&(!Ln.range||Ln.range.length!==2))}if(Jt[pn]){Xt.set(G(f(Fe,We).get()));continue}}}}}else u.warn("unrecognized GUI edit: "+We);delete Ue[We],Xe&&Xe.tail.substr(0,6)==="range["&&(Cn[Xe.head]=1)}for(var on=0;on<zn.length;on++){var _n=zn[on];if(Cn[_n]){var gn=f(ge,_n).get();gn&&delete gn.autorange}}var Un=Fe._tracePreGUI;for(var qn in Un){var Jn=Un[qn],bn=null,Qn;for(We in Jn){if(!bn){var Vn=At(qn,Re);if(Vn<0){delete Un[qn];break}var hn=Re[Vn];Qn=hn._fullInput;var me=Dt(qn,ve,Qn.index);if(me<0){delete Un[qn];break}bn=ve[me]}if(Xe=qe(We,Ve),Xe){if(Xe.attr?(Mt=f(Fe,Xe.attr).get(),ot=Mt&&vt(Xe.attr,ge)):(Mt=Qn.uirevision,ot=bn.uirevision,ot===void 0&&(ot=ge.uirevision)),ot&&ot===Mt&&(_t=Jn[We],_t===null&&(_t=void 0),Xt=f(bn,We),sn=Xt.get(),bt(sn,_t))){Xt.set(G(f(Qn,We).get()));continue}}else u.warn("unrecognized GUI edit: "+We+" in trace uid "+qn);delete Jn[We]}}}function Et(ve,ge,Re,Fe){var Ue,We;function St(){return s.addFrames(ve,Ue)}ve=u.getGraphDiv(ve),I.clearPromiseQueue(ve);var Mt=ve._fullData,ot=ve._fullLayout;if(!u.isPlotDiv(ve)||!Mt||!ot)We=s.newPlot(ve,ge,Re,Fe);else{if(u.isPlainObject(ge)){var Xe=ge;ge=Xe.data,Re=Xe.layout,Fe=Xe.config,Ue=Xe.frames}var _t=!1;if(Fe){var Xt=u.extendDeep({},ve._context);ve._context=void 0,oe(ve,Fe),_t=Vt(Xt,ve._context)}ve.data=ge||[],I.cleanData(ve.data),ve.layout=Re||{},I.cleanLayout(ve.layout),xt(ve.data,ve.layout,Mt,ot),y.supplyDefaults(ve,{skipUpdateCalc:!0});var sn=ve._fullData,pn=ve._fullLayout,An=pn.datarevision===void 0,zn=pn.transition,Jt=Rt(ve,ot,pn,An,zn),Cn=Jt.newDataRevision,yn=pt(ve,Mt,sn,An,zn,Cn);if(Me(ve)&&(Jt.layoutReplot=!0),yn.calc||Jt.calc){ve.calcdata=void 0;for(var xn=Object.getOwnPropertyNames(pn),Pn=0;Pn<xn.length;Pn++){var Ln=xn[Pn],on=Ln.substring(0,5);if(on==="xaxis"||on==="yaxis"){var _n=pn[Ln]._emptyCategories;_n&&_n()}}}else y.supplyDefaultsUpdateCalc(ve.calcdata,sn);var gn=[];if(Ue&&(ve._transitionData={},y.createTransitionData(ve),gn.push(St)),pn.transition&&!_t&&(yn.anim||Jt.anim))Jt.ticks&&gn.push(T.doTicksRelayout),y.doCalcdata(ve),T.doAutoRangeAndConstraints(ve),gn.push(function(){return y.transitionFromReact(ve,yn,Jt,ot)});else if(yn.fullReplot||Jt.layoutReplot||_t)ve._fullLayout._skipDefaults=!0,gn.push(s._doPlot);else{for(var Un in Jt.arrays){var qn=Jt.arrays[Un];if(qn.length){var Jn=m.getComponentMethod(Un,"drawOne");if(Jn!==u.noop)for(var bn=0;bn<qn.length;bn++)Jn(ve,qn[bn]);else{var Qn=m.getComponentMethod(Un,"draw");if(Qn===u.noop)throw new Error("cannot draw components: "+Un);Qn(ve)}}}gn.push(y.previousPromises),yn.style&&gn.push(T.doTraceStyle),(yn.colorbars||Jt.colorbars)&&gn.push(T.doColorBars),Jt.legend&&gn.push(T.doLegend),Jt.layoutstyle&&gn.push(T.layoutStyles),Jt.axrange&&Ee(gn),Jt.ticks&&gn.push(T.doTicksRelayout),Jt.modebar&&gn.push(T.doModeBar),Jt.camera&&gn.push(T.doCamera),gn.push(j)}gn.push(y.rehover,y.redrag,y.reselect),We=u.syncOrAsync(gn,ve),(!We||!We.then)&&(We=Promise.resolve(ve))}return We.then(function(){return ve.emit("plotly_react",{data:ge,layout:Re}),ve})}function pt(ve,ge,Re,Fe,Ue,We){var St=ge.length===Re.length;if(!Ue&&!St)return{fullReplot:!0,calc:!0};var Mt=B.traceFlags();Mt.arrays={},Mt.nChanges=0,Mt.nChangesAnim=0;var ot,Xe;function _t(pn){var An=d.getTraceValObject(Xe,pn);return!Xe._module.animatable&&An.anim&&(An.anim=!1),An}var Xt={getValObject:_t,flags:Mt,immutable:Fe,transition:Ue,newDataRevision:We,gd:ve},sn={};for(ot=0;ot<ge.length;ot++)if(Re[ot]){if(Xe=Re[ot]._fullInput,y.hasMakesDataTransform(Xe)&&(Xe=Re[ot]),sn[Xe.uid])continue;sn[Xe.uid]=1,Wt(ge[ot]._fullInput,Xe,[],Xt)}return(Mt.calc||Mt.plot)&&(Mt.fullReplot=!0),Ue&&Mt.nChanges&&Mt.nChangesAnim&&(Mt.anim=Mt.nChanges===Mt.nChangesAnim&&St?"all":"some"),Mt}function Rt(ve,ge,Re,Fe,Ue){var We=B.layoutFlags();We.arrays={},We.rangesAltered={},We.nChanges=0,We.nChangesAnim=0;function St(ot){return d.getLayoutValObject(Re,ot)}var Mt={getValObject:St,flags:We,immutable:Fe,transition:Ue,gd:ve};return Wt(ge,Re,[],Mt),(We.plot||We.calc)&&(We.layoutReplot=!0),Ue&&We.nChanges&&We.nChangesAnim&&(We.anim=We.nChanges===We.nChangesAnim?"all":"some"),We}function Wt(ve,ge,Re,Fe){var Ue,We,St,Mt=Fe.getValObject,ot=Fe.flags,Xe=Fe.immutable,_t=Fe.inArray,Xt=Fe.arrayIndex;function sn(){var Vn=Ue.editType;if(_t&&Vn.indexOf("arraydraw")!==-1){u.pushUnique(ot.arrays[_t],Xt);return}B.update(ot,Ue),Vn!=="none"&&ot.nChanges++,Fe.transition&&Ue.anim&&ot.nChangesAnim++,(Oe.test(St)||Ke.test(St))&&(ot.rangesAltered[Re[0]]=1),Je.test(St)&&f(ge,"_inputDomain").set(null),We==="datarevision"&&(ot.newDataRevision=1)}function pn(Vn){return Vn.valType==="data_array"||Vn.arrayOk}for(We in ve){if(ot.calc&&!Fe.transition)return;var An=ve[We],zn=ge[We],Jt=Re.concat(We);if(St=Jt.join("."),!(We.charAt(0)==="_"||typeof An=="function"||An===zn)){if((We==="tick0"||We==="dtick")&&Re[0]!=="geo"){var Cn=ge.tickmode;if(Cn==="auto"||Cn==="array"||!Cn)continue}if(!(We==="range"&&ge.autorange)&&!((We==="zmin"||We==="zmax")&&ge.type==="contourcarpet")&&(Ue=Mt(Jt),!!Ue&&!(Ue._compareAsJSON&&JSON.stringify(An)===JSON.stringify(zn)))){var yn=Ue.valType,xn,Pn=pn(Ue),Ln=Array.isArray(An),on=Array.isArray(zn);if(Ln&&on){var _n="_input_"+We,gn=ve[_n],Un=ge[_n];if(Array.isArray(gn)&&gn===Un)continue}if(zn===void 0)Pn&&Ln?ot.calc=!0:sn();else if(Ue._isLinkedToArray){var qn=[],Jn=!1;_t||(ot.arrays[We]=qn);var bn=Math.min(An.length,zn.length),Qn=Math.max(An.length,zn.length);if(bn!==Qn)if(Ue.editType==="arraydraw")Jn=!0;else{sn();continue}for(xn=0;xn<bn;xn++)Wt(An[xn],zn[xn],Jt.concat(xn),u.extendFlat({inArray:We,arrayIndex:xn},Fe));if(Jn)for(xn=bn;xn<Qn;xn++)qn.push(xn)}else!yn&&u.isPlainObject(An)?Wt(An,zn,Jt,Fe):Pn?Ln&&on?(Xe&&(ot.calc=!0),(Xe||Fe.newDataRevision)&&sn()):Ln!==on?ot.calc=!0:sn():Ln&&on?(An.length!==zn.length||String(An)!==String(zn))&&sn():sn()}}}for(We in ge)if(!(We in ve||We.charAt(0)==="_"||typeof ge[We]=="function"))if(Ue=Mt(Re.concat(We)),pn(Ue)&&Array.isArray(ge[We])){ot.calc=!0;return}else sn()}function Vt(ve,ge){var Re;for(Re in ve)if(Re.charAt(0)!=="_"){var Fe=ve[Re],Ue=ge[Re];if(Fe!==Ue)if(u.isPlainObject(Fe)&&u.isPlainObject(Ue)){if(Vt(Fe,Ue))return!0}else if(Array.isArray(Fe)&&Array.isArray(Ue)){if(Fe.length!==Ue.length)return!0;for(var We=0;We<Fe.length;We++)if(Fe[We]!==Ue[We])if(u.isPlainObject(Fe[We])&&u.isPlainObject(Ue[We])){if(Vt(Fe[We],Ue[We]))return!0}else return!0}else return!0}}function Yt(ve,ge,Re){if(ve=u.getGraphDiv(ve),!u.isPlotDiv(ve))throw new Error("This element is not a Plotly plot: "+ve+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Fe=ve._transitionData;Fe._frameQueue||(Fe._frameQueue=[]),Re=y.supplyAnimationDefaults(Re);var Ue=Re.transition,We=Re.frame;Fe._frameWaitingCnt===void 0&&(Fe._frameWaitingCnt=0);function St(Xe){return Array.isArray(Ue)?Xe>=Ue.length?Ue[0]:Ue[Xe]:Ue}function Mt(Xe){return Array.isArray(We)?Xe>=We.length?We[0]:We[Xe]:We}function ot(Xe,_t){var Xt=0;return function(){if(Xe&&++Xt===_t)return Xe()}}return new Promise(function(Xe,_t){function Xt(){if(Fe._frameQueue.length!==0){for(;Fe._frameQueue.length;){var bn=Fe._frameQueue.pop();bn.onInterrupt&&bn.onInterrupt()}ve.emit("plotly_animationinterrupted",[])}}function sn(bn){if(bn.length!==0){for(var Qn=0;Qn<bn.length;Qn++){var Vn;bn[Qn].type==="byname"?Vn=y.computeFrame(ve,bn[Qn].name):Vn=bn[Qn].data;var hn=Mt(Qn),me=St(Qn);me.duration=Math.min(me.duration,hn.duration);var ce={frame:Vn,name:bn[Qn].name,frameOpts:hn,transitionOpts:me};Qn===bn.length-1&&(ce.onComplete=ot(Xe,2),ce.onInterrupt=_t),Fe._frameQueue.push(ce)}Re.mode==="immediate"&&(Fe._lastFrameAt=-1/0),Fe._animationRaf||zn()}}function pn(){ve.emit("plotly_animated"),window.cancelAnimationFrame(Fe._animationRaf),Fe._animationRaf=null}function An(){Fe._currentFrame&&Fe._currentFrame.onComplete&&Fe._currentFrame.onComplete();var bn=Fe._currentFrame=Fe._frameQueue.shift();if(bn){var Qn=bn.name?bn.name.toString():null;ve._fullLayout._currentFrame=Qn,Fe._lastFrameAt=Date.now(),Fe._timeToNext=bn.frameOpts.duration,y.transition(ve,bn.frame.data,bn.frame.layout,I.coerceTraceIndices(ve,bn.frame.traces),bn.frameOpts,bn.transitionOpts).then(function(){bn.onComplete&&bn.onComplete()}),ve.emit("plotly_animatingframe",{name:Qn,frame:bn.frame,animation:{frame:bn.frameOpts,transition:bn.transitionOpts}})}else pn()}function zn(){ve.emit("plotly_animating"),Fe._lastFrameAt=-1/0,Fe._timeToNext=0,Fe._runningTransitions=0,Fe._currentFrame=null;var bn=function(){Fe._animationRaf=window.requestAnimationFrame(bn),Date.now()-Fe._lastFrameAt>Fe._timeToNext&&An()};bn()}var Jt=0;function Cn(bn){return Array.isArray(Ue)?Jt>=Ue.length?bn.transitionOpts=Ue[Jt]:bn.transitionOpts=Ue[0]:bn.transitionOpts=Ue,Jt++,bn}var yn,xn,Pn=[],Ln=ge==null,on=Array.isArray(ge),_n=!Ln&&!on&&u.isPlainObject(ge);if(_n)Pn.push({type:"object",data:Cn(u.extendFlat({},ge))});else if(Ln||["string","number"].indexOf(typeof ge)!==-1)for(yn=0;yn<Fe._frames.length;yn++)xn=Fe._frames[yn],xn&&(Ln||String(xn.group)===String(ge))&&Pn.push({type:"byname",name:String(xn.name),data:Cn({name:xn.name})});else if(on)for(yn=0;yn<ge.length;yn++){var gn=ge[yn];["number","string"].indexOf(typeof gn)!==-1?(gn=String(gn),Pn.push({type:"byname",name:gn,data:Cn({name:gn})})):u.isPlainObject(gn)&&Pn.push({type:"object",data:Cn(u.extendFlat({},gn))})}for(yn=0;yn<Pn.length;yn++)if(xn=Pn[yn],xn.type==="byname"&&!Fe._frameHash[xn.data.name]){u.warn('animate failure: frame not found: "'+xn.data.name+'"'),_t();return}["next","immediate"].indexOf(Re.mode)!==-1&&Xt(),Re.direction==="reverse"&&Pn.reverse();var Un=ve._fullLayout._currentFrame;if(Un&&Re.fromcurrent){var qn=-1;for(yn=0;yn<Pn.length;yn++)if(xn=Pn[yn],xn.type==="byname"&&xn.name===Un){qn=yn;break}if(qn>0&&qn<Pn.length-1){var Jn=[];for(yn=0;yn<Pn.length;yn++)xn=Pn[yn],(Pn[yn].type!=="byname"||yn>qn)&&Jn.push(xn);Pn=Jn}}Pn.length>0?sn(Pn):(ve.emit("plotly_animated"),Xe())})}function et(ve,ge,Re){if(ve=u.getGraphDiv(ve),ge==null)return Promise.resolve();if(!u.isPlotDiv(ve))throw new Error("This element is not a Plotly plot: "+ve+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Fe,Ue,We,St,Mt=ve._transitionData._frames,ot=ve._transitionData._frameHash;if(!Array.isArray(ge))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+ge);var Xe=Mt.length+ge.length*2,_t=[],Xt={};for(Fe=ge.length-1;Fe>=0;Fe--)if(u.isPlainObject(ge[Fe])){var sn=ge[Fe].name,pn=(ot[sn]||Xt[sn]||{}).name,An=ge[Fe].name,zn=ot[pn]||Xt[pn];pn&&An&&typeof An=="number"&&zn&&Z<$&&(Z++,u.warn('addFrames: overwriting frame "'+(ot[pn]||Xt[pn]).name+'" with a frame whose name of type "number" also equates to "'+pn+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),Z===$&&u.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Xt[sn]={name:sn},_t.push({frame:y.supplyFrameDefaults(ge[Fe]),index:Re&&Re[Fe]!==void 0&&Re[Fe]!==null?Re[Fe]:Xe+Fe})}_t.sort(function(_n,gn){return _n.index>gn.index?-1:_n.index<gn.index?1:0});var Jt=[],Cn=[],yn=Mt.length;for(Fe=_t.length-1;Fe>=0;Fe--){if(Ue=_t[Fe].frame,typeof Ue.name=="number"&&u.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Ue.name)for(;ot[Ue.name="frame "+ve._transitionData._counter++];);if(ot[Ue.name]){for(We=0;We<Mt.length&&(Mt[We]||{}).name!==Ue.name;We++);Jt.push({type:"replace",index:We,value:Ue}),Cn.unshift({type:"replace",index:We,value:Mt[We]})}else St=Math.max(0,Math.min(_t[Fe].index,yn)),Jt.push({type:"insert",index:St,value:Ue}),Cn.unshift({type:"delete",index:St}),yn++}var xn=y.modifyFrames,Pn=y.modifyFrames,Ln=[ve,Cn],on=[ve,Jt];return p&&p.add(ve,xn,Ln,Pn,on),y.modifyFrames(ve,Jt)}function ct(ve,ge){if(ve=u.getGraphDiv(ve),!u.isPlotDiv(ve))throw new Error("This element is not a Plotly plot: "+ve);var Re,Fe,Ue=ve._transitionData._frames,We=[],St=[];if(!ge)for(ge=[],Re=0;Re<Ue.length;Re++)ge.push(Re);for(ge=ge.slice(),ge.sort(),Re=ge.length-1;Re>=0;Re--)Fe=ge[Re],We.push({type:"delete",index:Fe}),St.unshift({type:"insert",index:Fe,value:Ue[Fe]});var Mt=y.modifyFrames,ot=y.modifyFrames,Xe=[ve,St],_t=[ve,We];return p&&p.add(ve,Mt,Xe,ot,_t),y.modifyFrames(ve,We)}function gt(ve){ve=u.getGraphDiv(ve);var ge=ve._fullLayout||{},Re=ve._fullData||[];return y.cleanPlot([],{},Re,ge),y.purge(ve),h.purge(ve),ge._container&&ge._container.remove(),delete ve._context,ve}function _e(ve){var ge=ve._fullLayout,Re=ve.getBoundingClientRect();if(!u.equalDomRects(Re,ge._lastBBox)){var Fe=ge._invTransform=u.inverseTransformMatrix(u.getFullTransformMatrix(ve));ge._invScaleX=Math.sqrt(Fe[0][0]*Fe[0][0]+Fe[0][1]*Fe[0][1]+Fe[0][2]*Fe[0][2]),ge._invScaleY=Math.sqrt(Fe[1][0]*Fe[1][0]+Fe[1][1]*Fe[1][1]+Fe[1][2]*Fe[1][2]),ge._lastBBox=Re}}function Be(ve){var ge=o.select(ve),Re=ve._fullLayout;if(Re._calcInverseTransform=_e,Re._calcInverseTransform(ve),Re._container=ge.selectAll(".plot-container").data([0]),Re._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Re._paperdiv=Re._container.selectAll(".svg-container").data([0]),Re._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Re._glcontainer=Re._paperdiv.selectAll(".gl-container").data([{}]),Re._glcontainer.enter().append("div").classed("gl-container",!0),Re._paperdiv.selectAll(".main-svg").remove(),Re._paperdiv.select(".modebar-container").remove(),Re._paper=Re._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Re._toppaper=Re._paperdiv.append("svg").classed("main-svg",!0),Re._modebardiv=Re._paperdiv.append("div"),delete Re._modeBar,Re._hoverpaper=Re._paperdiv.append("svg").classed("main-svg",!0),!Re._uid){var Fe={};o.selectAll("defs").each(function(){this.id&&(Fe[this.id.split("-")[1]]=1)}),Re._uid=u.randstr(Fe)}Re._paperdiv.selectAll(".main-svg").attr(z.svgAttrs),Re._defs=Re._paper.append("defs").attr("id","defs-"+Re._uid),Re._clips=Re._defs.append("g").classed("clips",!0),Re._topdefs=Re._toppaper.append("defs").attr("id","topdefs-"+Re._uid),Re._topclips=Re._topdefs.append("g").classed("clips",!0),Re._bgLayer=Re._paper.append("g").classed("bglayer",!0),Re._draggers=Re._paper.append("g").classed("draglayer",!0);var Ue=Re._paper.append("g").classed("layer-below",!0);Re._imageLowerLayer=Ue.append("g").classed("imagelayer",!0),Re._shapeLowerLayer=Ue.append("g").classed("shapelayer",!0),Re._cartesianlayer=Re._paper.append("g").classed("cartesianlayer",!0),Re._polarlayer=Re._paper.append("g").classed("polarlayer",!0),Re._smithlayer=Re._paper.append("g").classed("smithlayer",!0),Re._ternarylayer=Re._paper.append("g").classed("ternarylayer",!0),Re._geolayer=Re._paper.append("g").classed("geolayer",!0),Re._funnelarealayer=Re._paper.append("g").classed("funnelarealayer",!0),Re._pielayer=Re._paper.append("g").classed("pielayer",!0),Re._iciclelayer=Re._paper.append("g").classed("iciclelayer",!0),Re._treemaplayer=Re._paper.append("g").classed("treemaplayer",!0),Re._sunburstlayer=Re._paper.append("g").classed("sunburstlayer",!0),Re._indicatorlayer=Re._toppaper.append("g").classed("indicatorlayer",!0),Re._glimages=Re._paper.append("g").classed("glimages",!0);var We=Re._toppaper.append("g").classed("layer-above",!0);Re._imageUpperLayer=We.append("g").classed("imagelayer",!0),Re._shapeUpperLayer=We.append("g").classed("shapelayer",!0),Re._selectionLayer=Re._toppaper.append("g").classed("selectionlayer",!0),Re._infolayer=Re._toppaper.append("g").classed("infolayer",!0),Re._menulayer=Re._toppaper.append("g").classed("menulayer",!0),Re._zoomlayer=Re._toppaper.append("g").classed("zoomlayer",!0),Re._hoverlayer=Re._hoverpaper.append("g").classed("hoverlayer",!0),Re._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),ve.emit("plotly_framework")}s.animate=Yt,s.addFrames=et,s.deleteFrames=ct,s.addTraces=he,s.deleteTraces=P,s.extendTraces=Te,s.moveTraces=U,s.prependTraces=ye,s.newPlot=W,s._doPlot=N,s.purge=gt,s.react=Et,s.redraw=V,s.relayout=xe,s.restyle=ee,s.setPlotConfig=O,s.update=ke,s._guiRelayout=Le(xe),s._guiRestyle=Le(ee),s._guiUpdate=Le(ke),s._storeDirectGUIEdit=R},4452:function(i){"use strict";var s={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox","map"],extras:[!0,!1],dflt:"gl3d+geo+map"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},a={};function o(c,l){for(var u in c){var f=c[u];f.valType?l[u]=f.dflt:(l[u]||(l[u]={}),o(f,l[u]))}}o(s,a),i.exports={configAttributes:s,dfltConfig:a}},7297:function(i,s,a){"use strict";var o=a(3626),c=a(4809),l=a(9829),u=a(6704),f=a(8935),h=a(9722),p=a(4452).configAttributes,m=a(3582),d=c.extendDeepAll,y=c.isPlainObject,x=c.isArrayOrTypedArray,w=c.nestedProperty,L=c.valObjectMeta,_="_isSubplotObj",D="_isLinkedToArray",C="_arrayAttrRegexps",z="_deprecated",b=[_,D,C,z];s.IS_SUBPLOT_OBJ=_,s.IS_LINKED_TO_ARRAY=D,s.DEPRECATED=z,s.UNDERSCORE_ATTRS=b,s.get=function(){var oe={};o.allTypes.forEach(function(W){oe[W]=T(W)});var V={};return Object.keys(o.transformsRegistry).forEach(function(W){V[W]=H(W)}),{defs:{valObjects:L,metaKeys:b.concat(["description","role","editType","impliedEdits"]),editType:{traces:m.traces,layout:m.layout},impliedEdits:{}},traces:oe,layout:B(),transforms:V,frames:Z(),animation:$(h),config:$(p)}},s.crawl=function(oe,V,W,Y){var Q=W||0;Y=Y||"",Object.keys(oe).forEach(function(re){var te=oe[re];if(b.indexOf(re)===-1){var le=(Y?Y+".":"")+re;V(te,re,oe,Q,le),!s.isValObject(te)&&y(te)&&re!=="impliedEdits"&&s.crawl(te,V,Q+1,le)}})},s.isValObject=function(oe){return oe&&oe.valType!==void 0},s.findArrayAttributes=function(oe){var V=[],W=[],Y=[],Q,re;function te(ye,he,P,U){W=W.slice(0,U).concat([he]),Y=Y.slice(0,U).concat([ye&&ye._isLinkedToArray]);var ee=ye&&(ye.valType==="data_array"||ye.arrayOk===!0)&&!(W[U-1]==="colorbar"&&(he==="ticktext"||he==="tickvals"));ee&&le(Q,0,"")}function le(ye,he,P){var U=ye[W[he]],ee=P+W[he];if(he===W.length-1)x(U)&&V.push(re+ee);else if(Y[he]){if(Array.isArray(U))for(var G=0;G<U.length;G++)y(U[G])&&le(U[G],he+1,ee+"["+G+"].")}else y(U)&&le(U,he+1,ee+".")}Q=oe,re="",s.crawl(l,te),oe._module&&oe._module.attributes&&s.crawl(oe._module.attributes,te);var be=oe.transforms;if(be)for(var Se=0;Se<be.length;Se++){var ze=be[Se],Te=ze._module;Te&&(re="transforms["+Se+"].",Q=ze,s.crawl(Te.attributes,te))}return V},s.getTraceValObject=function(oe,V){var W=V[0],Y=1,Q,re;if(W==="transforms"){if(V.length===1)return l.transforms;var te=oe.transforms;if(!Array.isArray(te)||!te.length)return!1;var le=V[1];if(!I(le)||le>=te.length)return!1;Q=(o.transformsRegistry[te[le].type]||{}).attributes,re=Q&&Q[V[2]],Y=3}else{var be=oe._module;if(be||(be=(o.modules[oe.type||l.type.dflt]||{})._module),!be)return!1;if(Q=be.attributes,re=Q&&Q[W],!re){var Se=be.basePlotModule;Se&&Se.attributes&&(re=Se.attributes[W])}re||(re=l[W])}return M(re,V,Y)},s.getLayoutValObject=function(oe,V){var W=S(oe,V[0]);return M(W,V,1)};function S(oe,V){var W,Y,Q,re,te=oe._basePlotModules;if(te){var le;for(W=0;W<te.length;W++){if(Q=te[W],Q.attrRegex&&Q.attrRegex.test(V)){if(Q.layoutAttrOverrides)return Q.layoutAttrOverrides;!le&&Q.layoutAttributes&&(le=Q.layoutAttributes)}var be=Q.baseLayoutAttrOverrides;if(be&&V in be)return be[V]}if(le)return le}var Se=oe._modules;if(Se){for(W=0;W<Se.length;W++)if(re=Se[W].layoutAttributes,re&&V in re)return re[V]}for(Y in o.componentsRegistry){if(Q=o.componentsRegistry[Y],Q.name==="colorscale"&&V.indexOf("coloraxis")===0)return Q.layoutAttributes[V];if(!Q.schema&&V===Q.name)return Q.layoutAttributes}return V in u?u[V]:!1}function M(oe,V,W){if(!oe)return!1;if(oe._isLinkedToArray){if(I(V[W]))W++;else if(W<V.length)return!1}for(;W<V.length;W++){var Y=oe[V[W]];if(y(Y))oe=Y;else break;if(W===V.length-1)break;if(oe._isLinkedToArray){if(W++,!I(V[W]))return!1}else if(oe.valType==="info_array"){W++;var Q=V[W];if(!I(Q))return!1;var re=oe.items;if(Array.isArray(re)){if(Q>=re.length)return!1;if(oe.dimensions===2){if(W++,V.length===W)return oe;var te=V[W];if(!I(te))return!1;oe=re[Q][te]}else oe=re[Q]}else oe=re}}return oe}function I(oe){return oe===Math.round(oe)&&oe>=0}function T(oe){var V,W;V=o.modules[oe]._module,W=V.basePlotModule;var Y={};Y.type=null;var Q=d({},l),re=d({},V.attributes);s.crawl(re,function(be,Se,ze,Te,ye){w(Q,ye).set(void 0),be===void 0&&w(re,ye).set(void 0)}),d(Y,Q),o.traceIs(oe,"noOpacity")&&delete Y.opacity,o.traceIs(oe,"showLegend")||(delete Y.showlegend,delete Y.legendgroup),o.traceIs(oe,"noHover")&&(delete Y.hoverinfo,delete Y.hoverlabel),V.selectPoints||delete Y.selectedpoints,d(Y,re),W.attributes&&d(Y,W.attributes),Y.type=oe;var te={meta:V.meta||{},categories:V.categories||{},animatable:!!V.animatable,type:oe,attributes:$(Y)};if(V.layoutAttributes){var le={};d(le,V.layoutAttributes),te.layoutAttributes=$(le)}return V.animatable||s.crawl(te,function(be){s.isValObject(be)&&"anim"in be&&delete be.anim}),te}function B(){var oe={},V,W;d(oe,u);for(V in o.subplotsRegistry)if(W=o.subplotsRegistry[V],!!W.layoutAttributes)if(Array.isArray(W.attr))for(var Y=0;Y<W.attr.length;Y++)X(oe,W,W.attr[Y]);else{var Q=W.attr==="subplot"?W.name:W.attr;X(oe,W,Q)}for(V in o.componentsRegistry){W=o.componentsRegistry[V];var re=W.schema;if(re&&(re.subplots||re.layout)){var te=re.subplots;if(te&&te.xaxis&&!te.yaxis)for(var le in te.xaxis)delete oe.yaxis[le];delete oe.xaxis.shift,delete oe.xaxis.autoshift}else W.name==="colorscale"?d(oe,W.layoutAttributes):W.layoutAttributes&&ie(oe,W.layoutAttributes,W.name)}return{layoutAttributes:$(oe)}}function H(oe){var V=o.transformsRegistry[oe],W=d({},V.attributes);return Object.keys(o.componentsRegistry).forEach(function(Y){var Q=o.componentsRegistry[Y];Q.schema&&Q.schema.transforms&&Q.schema.transforms[oe]&&Object.keys(Q.schema.transforms[oe]).forEach(function(re){ie(W,Q.schema.transforms[oe][re],re)})}),{attributes:$(W)}}function Z(){var oe={frames:d({},f)};return $(oe),oe.frames}function $(oe){return N(oe),j(oe),O(oe),oe}function N(oe){function V(Y){return{valType:"string",editType:"none"}}function W(Y,Q,re){s.isValObject(Y)?(Y.arrayOk===!0||Y.valType==="data_array")&&(re[Q+"src"]=V(Q)):y(Y)&&(Y.role="object")}s.crawl(oe,W)}function j(oe){function V(W,Y,Q){if(W){var re=W[D];re&&(delete W[D],Q[Y]={items:{}},Q[Y].items[re]=W,Q[Y].role="object")}}s.crawl(oe,V)}function O(oe){function V(W){for(var Y in W)if(y(W[Y]))V(W[Y]);else if(Array.isArray(W[Y]))for(var Q=0;Q<W[Y].length;Q++)V(W[Y][Q]);else W[Y]instanceof RegExp&&(W[Y]=W[Y].toString())}V(oe)}function X(oe,V,W){var Y=w(oe,W),Q=d({},V.layoutAttributes);Q[_]=!0,Y.set(Q)}function ie(oe,V,W){var Y=w(oe,W);Y.set(d(Y.get()||{},V))}},8032:function(i,s,a){"use strict";var o=a(4809),c=a(9829),l="templateitemname",u={name:{valType:"string",editType:"none"}};u[l]={valType:"string",editType:"calc"},s.templatedArray=function(p,m){return m._isLinkedToArray=p,m.name=u.name,m[l]=u[l],m},s.traceTemplater=function(p){var m={},d,y;for(d in p)y=p[d],Array.isArray(y)&&y.length&&(m[d]=0);function x(w){d=o.coerce(w,{},c,"type");var L={type:d,_template:null};if(d in m){y=p[d];var _=m[d]%y.length;m[d]++,L._template=y[_]}return L}return{newTrace:x}},s.newContainer=function(p,m,d){var y=p._template,x=y&&(y[m]||d&&y[d]);o.isPlainObject(x)||(x=null);var w=p[m]={_template:x};return w},s.arrayTemplater=function(p,m,d){var y=p._template,x=y&&y[h(m)],w=y&&y[m];(!Array.isArray(w)||!w.length)&&(w=[]);var L={};function _(C){var z={name:C.name,_input:C},b=z[l]=C[l];if(!f(b))return z._template=x,z;for(var S=0;S<w.length;S++){var M=w[S];if(M.name===b)return L[b]=1,z._template=M,z}return z[d]=C[d]||!1,z._template=!1,z}function D(){for(var C=[],z=0;z<w.length;z++){var b=w[z],S=b.name;if(f(S)&&!L[S]){var M={_template:b,name:S,_input:{_templateitemname:S}};M[l]=b[l],C.push(M),L[S]=1}}return C}return{newItem:_,defaultItems:D}};function f(p){return p&&typeof p=="string"}function h(p){var m=p.length-1;return p.charAt(m)!=="s"&&o.warn("bad argument to arrayDefaultKey: "+p),p.substr(0,p.length-1)+"defaults"}s.arrayDefaultKey=h,s.arrayEditor=function(p,m,d){var y=(o.nestedProperty(p,m).get()||[]).length,x=d._index,w=x>=y&&(d._input||{})._templateitemname;w&&(x=y);var L=m+"["+x+"]",_;function D(){_={},w&&(_[L]={},_[L][l]=w)}D();function C(M,I){_[M]=I}function z(M,I){w?o.nestedProperty(_[L],M).set(I):_[L+"."+M]=I}function b(){var M=_;return D(),M}function S(M,I){M&&z(M,I);var T=b();for(var B in T)o.nestedProperty(p,B).set(T[B])}return{modifyBase:C,modifyItem:z,getUpdateObj:b,applyUpdate:S}}},1817:function(i,s,a){"use strict";var o=a(5568),c=a(3626),l=a(4122),u=a(4809),f=a(635),h=a(4823),p=a(8766),m=a(2203),d=a(7240),y=a(5433),x=a(9714),w=a(4530),L=a(4391),_=L.enforce,D=L.clean,C=a(2919).doAutoRange,z="start",b="middle",S="end",M=a(4826).zindexSeparator;s.layoutStyles=function(Y){return u.syncOrAsync([l.doAutoMargin,T],Y)};function I(Y,Q,re){for(var te=0;te<re.length;te++){var le=re[te][0],be=re[te][1];if(!(le[0]>=Y[1]||le[1]<=Y[0])&&be[0]<Q[1]&&be[1]>Q[0])return!0}return!1}function T(Y){var Q=Y._fullLayout,re=Q._size,te=re.p,le=x.list(Y,"",!0),be,Se,ze,Te,ye,he;if(Q._paperdiv.style({width:Y._context.responsive&&Q.autosize&&!Y._context._hasZeroWidth&&!Y.layout.width?"100%":Q.width+"px",height:Y._context.responsive&&Q.autosize&&!Y._context._hasZeroHeight&&!Y.layout.height?"100%":Q.height+"px"}).selectAll(".main-svg").call(m.setSize,Q.width,Q.height),Y._context.setBackground(Y,Q.paper_bgcolor),s.drawMainTitle(Y),y.manage(Y),!Q._has("cartesian"))return l.previousPromises(Y);function P(_e,Be,ve){var ge=_e._lw/2;if(_e._id.charAt(0)==="x"){if(Be){if(ve==="top")return Be._offset-te-ge}else return re.t+re.h*(1-(_e.position||0))+ge%1;return Be._offset+Be._length+te+ge}if(Be){if(ve==="right")return Be._offset+Be._length+te+ge}else return re.l+re.w*(_e.position||0)+ge%1;return Be._offset-te-ge}for(be=0;be<le.length;be++){Te=le[be];var U=Te._anchorAxis;Te._linepositions={},Te._lw=m.crispRound(Y,Te.linewidth,1),Te._mainLinePosition=P(Te,U,Te.side),Te._mainMirrorPosition=Te.mirror&&U?P(Te,U,w.OPPOSITE_SIDE[Te.side]):null}var ee=[],G=[],E=[],K=p.opacity(Q.paper_bgcolor)===1&&p.opacity(Q.plot_bgcolor)===1&&Q.paper_bgcolor===Q.plot_bgcolor;for(Se in Q._plots)if(ze=Q._plots[Se],ze.mainplot)ze.bg&&ze.bg.remove(),ze.bg=void 0;else{var R=ze.xaxis.domain,ne=ze.yaxis.domain,pe=ze.plotgroup;if(I(R,ne,E)&&Se.indexOf(M)===-1){var xe=pe.node(),we=ze.bg=u.ensureSingle(pe,"rect","bg");xe.insertBefore(we.node(),xe.childNodes[0]),G.push(Se)}else pe.select("rect.bg").remove(),E.push([R,ne]),K||(ee.push(Se),G.push(Se))}var Ee=Q._bgLayer.selectAll(".bg").data(ee);for(Ee.enter().append("rect").classed("bg",!0),Ee.exit().remove(),Ee.each(function(_e){Q._plots[_e].bg=o.select(this)}),be=0;be<G.length;be++)ze=Q._plots[G[be]],ye=ze.xaxis,he=ze.yaxis,ze.bg&&ye._offset!==void 0&&he._offset!==void 0&&ze.bg.call(m.setRect,ye._offset-te,he._offset-te,ye._length+2*te,he._length+2*te).call(p.fill,Q.plot_bgcolor).style("stroke-width",0);if(!Q._hasOnlyLargeSploms)for(Se in Q._plots){ze=Q._plots[Se],ye=ze.xaxis,he=ze.yaxis;var Oe=ze.clipId="clip"+Q._uid+Se+"plot",Ke=u.ensureSingleById(Q._clips,"clipPath",Oe,function(_e){_e.classed("plotclip",!0).append("rect")});ze.clipRect=Ke.select("rect").attr({width:ye._length,height:he._length}),m.setTranslate(ze.plot,ye._offset,he._offset);var Je,rt;ze._hasClipOnAxisFalse?(Je=null,rt=Oe):(Je=Oe,rt=null),m.setClipUrl(ze.plot,Je,Y),ze.layerClipId=rt}var Me,ke,Le,He,Ve,qe,vt,At,Dt,bt,xt,Et,pt;function Rt(_e){return"M"+Me+","+_e+"H"+ke}function Wt(_e){return"M"+ye._offset+","+_e+"h"+ye._length}function Vt(_e){return"M"+_e+","+At+"V"+vt}function Yt(_e){return he._shift!==void 0&&(_e+=he._shift),"M"+_e+","+he._offset+"v"+he._length}function et(_e,Be,ve){if(!_e.showline||Se!==_e._mainSubplot)return"";if(!_e._anchorAxis)return ve(_e._mainLinePosition);var ge=Be(_e._mainLinePosition);return _e.mirror&&(ge+=Be(_e._mainMirrorPosition)),ge}for(Se in Q._plots){ze=Q._plots[Se],ye=ze.xaxis,he=ze.yaxis;var ct="M0,0";B(ye,Se)&&(Ve=Z(ye,"left",he,le),Me=ye._offset-(Ve?te+Ve:0),qe=Z(ye,"right",he,le),ke=ye._offset+ye._length+(qe?te+qe:0),Le=P(ye,he,"bottom"),He=P(ye,he,"top"),pt=!ye._anchorAxis||Se!==ye._mainSubplot,pt&&(ye.mirror==="allticks"||ye.mirror==="all")&&(ye._linepositions[Se]=[Le,He]),ct=et(ye,Rt,Wt),pt&&ye.showline&&(ye.mirror==="all"||ye.mirror==="allticks")&&(ct+=Rt(Le)+Rt(He)),ze.xlines.style("stroke-width",ye._lw+"px").call(p.stroke,ye.showline?ye.linecolor:"rgba(0,0,0,0)")),ze.xlines.attr("d",ct);var gt="M0,0";B(he,Se)&&(xt=Z(he,"bottom",ye,le),vt=he._offset+he._length+(xt?te:0),Et=Z(he,"top",ye,le),At=he._offset-(Et?te:0),Dt=P(he,ye,"left"),bt=P(he,ye,"right"),pt=!he._anchorAxis||Se!==he._mainSubplot,pt&&(he.mirror==="allticks"||he.mirror==="all")&&(he._linepositions[Se]=[Dt,bt]),gt=et(he,Vt,Yt),pt&&he.showline&&(he.mirror==="all"||he.mirror==="allticks")&&(gt+=Vt(Dt)+Vt(bt)),ze.ylines.style("stroke-width",he._lw+"px").call(p.stroke,he.showline?he.linecolor:"rgba(0,0,0,0)")),ze.ylines.attr("d",gt)}return x.makeClipPaths(Y),l.previousPromises(Y)}function B(Y,Q){return(Y.ticks||Y.showline)&&(Q===Y._mainSubplot||Y.mirror==="all"||Y.mirror==="allticks")}function H(Y,Q,re){if(!re.showline||!re._lw)return!1;if(re.mirror==="all"||re.mirror==="allticks")return!0;var te=re._anchorAxis;if(!te)return!1;var le=w.FROM_BL[Q];return re.side===Q?te.domain[le]===Y.domain[le]:re.mirror&&te.domain[1-le]===Y.domain[1-le]}function Z(Y,Q,re,te){if(H(Y,Q,re))return re._lw;for(var le=0;le<te.length;le++){var be=te[le];if(be._mainAxis===re._mainAxis&&H(Y,Q,be))return be._lw}return 0}s.drawMainTitle=function(Y){var Q=Y._fullLayout.title,re=Y._fullLayout,te=V(re),le=W(re),be=ie(re,le),Se=X(re,te);if(d.draw(Y,"gtitle",{propContainer:re,propName:"title.text",subtitlePropName:"title.subtitle.text",placeholder:re._dfltTitle.plot,subtitlePlaceholder:re._dfltTitle.subtitle,attributes:{x:Se,y:be,"text-anchor":te,dy:le}}),Q.text&&Q.automargin){var ze=o.selectAll(".gtitle"),Te=m.bBox(o.selectAll(".g-gtitle").node()).height,ye=j(Y,Q,Te);if(ye>0){O(Y,be,ye,Te),ze.attr({x:Se,y:be,"text-anchor":te,dy:oe(Q.yanchor)}).call(f.positionText,Se,be);var he=(Q.text.match(f.BR_TAG_ALL)||[]).length;if(he){var P=w.LINE_SPACING*he+w.MID_SHIFT;Q.y===0&&(P=-P),ze.selectAll(".line").each(function(){var K=+this.getAttribute("dy").slice(0,-2)-P+"em";this.setAttribute("dy",K)})}var U=o.selectAll(".gtitle-subtitle");if(U.node()){var ee=ze.node().getBBox(),G=ee.y+ee.height,E=G+d.SUBTITLE_PADDING_EM*Q.subtitle.font.size;U.attr({x:Se,y:E,"text-anchor":te,dy:oe(Q.yanchor)}).call(f.positionText,Se,E)}}}};function $(Y,Q,re,te,le){var be=Q.yref==="paper"?Y._fullLayout._size.h:Y._fullLayout.height,Se=u.isTopAnchor(Q)?te:te-le,ze=re==="b"?be-Se:Se;return u.isTopAnchor(Q)&&re==="t"||u.isBottomAnchor(Q)&&re==="b"?!1:ze<le}function N(Y,Q,re,te,le){var be=0;return re==="middle"&&(be+=le/2),Y==="t"?(re==="top"&&(be+=le),be+=te-Q*te):(re==="bottom"&&(be+=le),be+=Q*te),be}function j(Y,Q,re){var te=Q.y,le=Q.yanchor,be=te>.5?"t":"b",Se=Y._fullLayout.margin[be],ze=0;return Q.yref==="paper"?ze=re+Q.pad.t+Q.pad.b:Q.yref==="container"&&(ze=N(be,te,le,Y._fullLayout.height,re)+Q.pad.t+Q.pad.b),ze>Se?ze:0}function O(Y,Q,re,te){var le="title.automargin",be=Y._fullLayout.title,Se=be.y>.5?"t":"b",ze={x:be.x,y:be.y,t:0,b:0},Te={};be.yref==="paper"&&$(Y,be,Se,Q,te)?ze[Se]=re:be.yref==="container"&&(Te[Se]=re,Y._fullLayout._reservedMargin[le]=Te),l.allowAutoMargin(Y,le),l.autoMargin(Y,le,ze)}function X(Y,Q){var re=Y.title,te=Y._size,le=0;switch(Q===z?le=re.pad.l:Q===S&&(le=-re.pad.r),re.xref){case"paper":return te.l+te.w*re.x+le;case"container":default:return Y.width*re.x+le}}function ie(Y,Q){var re=Y.title,te=Y._size,le=0;if(Q==="0em"||!Q?le=-re.pad.b:Q===w.CAP_SHIFT+"em"&&(le=re.pad.t),re.y==="auto")return te.t/2;switch(re.yref){case"paper":return te.t+te.h-te.h*re.y+le;case"container":default:return Y.height-Y.height*re.y+le}}function oe(Y){return Y==="top"?w.CAP_SHIFT+.3+"em":Y==="bottom"?"-0.3em":w.MID_SHIFT+"em"}function V(Y){var Q=Y.title,re=b;return u.isRightAnchor(Q)?re=S:u.isLeftAnchor(Q)&&(re=z),re}function W(Y){var Q=Y.title,re="0em";return u.isTopAnchor(Q)?re=w.CAP_SHIFT+"em":u.isMiddleAnchor(Q)&&(re=w.MID_SHIFT+"em"),re}s.doTraceStyle=function(Y){var Q=Y.calcdata,re=[],te;for(te=0;te<Q.length;te++){var le=Q[te],be=le[0]||{},Se=be.trace||{},ze=Se._module||{},Te=ze.arraysToCalcdata;Te&&Te(le,Se);var ye=ze.editStyle;ye&&re.push({fn:ye,cd0:be})}if(re.length){for(te=0;te<re.length;te++){var he=re[te];he.fn(Y,he.cd0)}h(Y),s.redrawReglTraces(Y)}return l.style(Y),c.getComponentMethod("legend","draw")(Y),l.previousPromises(Y)},s.doColorBars=function(Y){return c.getComponentMethod("colorbar","draw")(Y),l.previousPromises(Y)},s.layoutReplot=function(Y){var Q=Y.layout;return Y.layout=void 0,c.call("_doPlot",Y,"",Q)},s.doLegend=function(Y){return c.getComponentMethod("legend","draw")(Y),l.previousPromises(Y)},s.doTicksRelayout=function(Y){return x.draw(Y,"redraw"),Y._fullLayout._hasOnlyLargeSploms&&(c.subplotsRegistry.splom.updateGrid(Y),h(Y),s.redrawReglTraces(Y)),s.drawMainTitle(Y),l.previousPromises(Y)},s.doModeBar=function(Y){var Q=Y._fullLayout;y.manage(Y);for(var re=0;re<Q._basePlotModules.length;re++){var te=Q._basePlotModules[re].updateFx;te&&te(Y)}return l.previousPromises(Y)},s.doCamera=function(Y){for(var Q=Y._fullLayout,re=Q._subplots.gl3d,te=0;te<re.length;te++){var le=Q[re[te]],be=le._scene;be.setViewport(le)}},s.drawData=function(Y){var Q=Y._fullLayout;h(Y);for(var re=Q._basePlotModules,te=0;te<re.length;te++)re[te].plot(Y);return s.redrawReglTraces(Y),l.style(Y),c.getComponentMethod("selections","draw")(Y),c.getComponentMethod("shapes","draw")(Y),c.getComponentMethod("annotations","draw")(Y),c.getComponentMethod("images","draw")(Y),Q._replotting=!1,l.previousPromises(Y)},s.redrawReglTraces=function(Y){var Q=Y._fullLayout;if(Q._has("regl")){var re=Y._fullData,te=[],le=[],be,Se;for(Q._hasOnlyLargeSploms&&Q._splomGrid.draw(),be=0;be<re.length;be++){var ze=re[be];ze.visible===!0&&ze._length!==0&&(ze.type==="splom"?Q._splomScenes[ze.uid].draw():ze.type==="scattergl"?u.pushUnique(te,ze.xaxis+ze.yaxis):ze.type==="scatterpolargl"&&u.pushUnique(le,ze.subplot))}for(be=0;be<te.length;be++)Se=Q._plots[te[be]],Se._scene&&Se._scene.draw();for(be=0;be<le.length;be++)Se=Q[le[be]]._subplot,Se._scene&&Se._scene.draw()}},s.doAutoRangeAndConstraints=function(Y){for(var Q=x.list(Y,"",!0),re,te={},le=0;le<Q.length;le++)if(re=Q[le],!te[re._id]){te[re._id]=1,D(Y,re),C(Y,re);var be=re._matchGroup;if(be)for(var Se in be){var ze=x.getFromId(Y,Se);C(Y,ze,re.range),te[Se]=1}}_(Y)},s.finalDraw=function(Y){c.getComponentMethod("rangeslider","draw")(Y),c.getComponentMethod("rangeselector","draw")(Y)},s.drawMarginPushers=function(Y){c.getComponentMethod("legend","draw")(Y),c.getComponentMethod("rangeselector","draw")(Y),c.getComponentMethod("sliders","draw")(Y),c.getComponentMethod("updatemenus","draw")(Y),c.getComponentMethod("colorbar","draw")(Y)}},3853:function(i,s,a){"use strict";var o=a(4809),c=o.isPlainObject,l=a(7297),u=a(4122),f=a(9829),h=a(8032),p=a(4452).dfltConfig;s.makeTemplate=function(C){C=o.isPlainObject(C)?C:o.getGraphDiv(C),C=o.extendDeep({_context:p},{data:C.data,layout:C.layout}),u.supplyDefaults(C);var z=C.data||[],b=C.layout||{};b._basePlotModules=C._fullLayout._basePlotModules,b._modules=C._fullLayout._modules;var S={data:{},layout:{}};z.forEach(function(O){var X={};y(O,X,w.bind(null,O));var ie=o.coerce(O,{},f,"type"),oe=S.data[ie];oe||(oe=S.data[ie]=[]),oe.push(X)}),y(b,S.layout,x.bind(null,b)),delete S.layout.template;var M=b.template;if(c(M)){var I=M.layout,T,B,H,Z,$,N;c(I)&&m(I,S.layout);var j=M.data;if(c(j)){for(B in S.data)if(H=j[B],Array.isArray(H)){for($=S.data[B],N=$.length,Z=H.length,T=0;T<N;T++)m(H[T%Z],$[T]);for(T=N;T<Z;T++)$.push(o.extendDeep({},H[T]))}for(B in j)B in S.data||(S.data[B]=o.extendDeep([],j[B]))}}return S};function m(C,z){C=o.extendDeep({},C);var b=Object.keys(C).sort(),S,M;function I($,N,j){if(c(N)&&c($))m($,N);else if(Array.isArray(N)&&Array.isArray($)){var O=h.arrayTemplater({_template:C},j);for(M=0;M<N.length;M++){var X=N[M],ie=O.newItem(X)._template;ie&&m(ie,X)}var oe=O.defaultItems();for(M=0;M<oe.length;M++)N.push(oe[M]._template);for(M=0;M<N.length;M++)delete N[M].templateitemname}}for(S=0;S<b.length;S++){var T=b[S],B=C[T];if(T in z?I(B,z[T],T):z[T]=B,d(T)===T)for(var H in z){var Z=d(H);H!==Z&&Z===T&&!(H in C)&&I(B,z[H],T)}}}function d(C){return C.replace(/[0-9]+$/,"")}function y(C,z,b,S,M){var I=M&&b(M);for(var T in C){var B=C[T],H=L(C,T,S),Z=L(C,T,M),$=b(Z);if(!$){var N=d(T);N!==T&&(Z=L(C,N,M),$=b(Z))}if(!(I&&I===$)&&!(!$||$._noTemplating||$.valType==="data_array"||$.arrayOk&&Array.isArray(B)))if(!$.valType&&c(B))y(B,z,b,H,Z);else if($._isLinkedToArray&&Array.isArray(B))for(var j=!1,O=0,X={},ie=0;ie<B.length;ie++){var oe=B[ie];if(c(oe)){var V=oe.name;if(V)X[V]||(y(oe,z,b,L(B,O,H),L(B,O,Z)),O++,X[V]=1);else if(!j){var W=h.arrayDefaultKey(T),Y=L(C,W,S),Q=L(B,O,H);y(oe,z,b,Q,L(B,O,Z));var re=o.nestedProperty(z,Q),te=o.nestedProperty(z,Y);te.set(re.get()),re.set(null),j=!0}}}else{var le=o.nestedProperty(z,H);le.set(B)}}}function x(C,z){return l.getLayoutValObject(C,o.nestedProperty({},z).parts)}function w(C,z){return l.getTraceValObject(C,o.nestedProperty({},z).parts)}function L(C,z,b){var S;return b?Array.isArray(C)?S=b+"["+z+"]":S=b+"."+z:S=z,S}s.validateTemplate=function(C,z){var b=o.extendDeep({},{_context:p,data:C.data,layout:C.layout}),S=b.layout||{};c(z)||(z=S.template||{});var M=z.layout,I=z.data,T=[];b.layout=S,b.layout.template=z,u.supplyDefaults(b);var B=b._fullLayout,H=b._fullData,Z={};function $(Y,Q){for(var re in Y)if(re.charAt(0)!=="_"&&c(Y[re])){var te=d(re),le=[],be;for(be=0;be<Q.length;be++)le.push(L(Y,re,Q[be])),te!==re&&le.push(L(Y,te,Q[be]));for(be=0;be<le.length;be++)Z[le[be]]=1;$(Y[re],le)}}function N(Y,Q){for(var re in Y)if(re.indexOf("defaults")===-1&&c(Y[re])){var te=L(Y,re,Q);Z[te]?N(Y[re],te):T.push({code:"unused",path:te})}}if(c(M)?($(B,["layout"]),N(M,"layout")):T.push({code:"layout"}),!c(I))T.push({code:"data"});else{for(var j={},O,X=0;X<H.length;X++){var ie=H[X];O=ie.type,j[O]=(j[O]||0)+1,ie._fullInput._template||T.push({code:"missing",index:ie._fullInput.index,traceType:O})}for(O in I){var oe=I[O].length,V=j[O]||0;oe>V?T.push({code:"unused",traceType:O,templateCount:oe,dataCount:V}):V>oe&&T.push({code:"reused",traceType:O,templateCount:oe,dataCount:V})}}function W(Y,Q){for(var re in Y)if(re.charAt(0)!=="_"){var te=Y[re],le=L(Y,re,Q);c(te)?(Array.isArray(Y)&&te._template===!1&&te.templateitemname&&T.push({code:"missing",path:le,templateitemname:te.templateitemname}),W(te,le)):Array.isArray(te)&&_(te)&&W(te,le)}}if(W({data:H,layout:B},""),T.length)return T.map(D)};function _(C){for(var z=0;z<C.length;z++)if(c(C[z]))return!0}function D(C){var z;switch(C.code){case"data":z="The template has no key data.";break;case"layout":z="The template has no key layout.";break;case"missing":C.path?z="There are no templates for item "+C.path+" with name "+C.templateitemname:z="There are no templates for trace "+C.index+", of type "+C.traceType+".";break;case"unused":C.path?z="The template item at "+C.path+" was not used in constructing the plot.":C.dataCount?z="Some of the templates of type "+C.traceType+" were not used. The template has "+C.templateCount+" traces, the data only has "+C.dataCount+" of this type.":z="The template has "+C.templateCount+" traces of type "+C.traceType+" but there are none in the data.";break;case"reused":z="Some of the templates of type "+C.traceType+" were used more than once. The template has "+C.templateCount+" traces, the data has "+C.dataCount+" of this type.";break}return C.msg=z,C}},491:function(i,s,a){"use strict";var o=a(721),c=a(1420),l=a(4122),u=a(4809),f=a(4619),h=a(6243),p=a(2914),m=a(9697).version,d={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function y(x,w){w=w||{};var L,_,D,C;u.isPlainObject(x)?(L=x.data||[],_=x.layout||{},D=x.config||{},C={}):(x=u.getGraphDiv(x),L=u.extendDeep([],x.data),_=u.extendDeep({},x.layout),D=x._context,C=x._fullLayout||{});function z(V){return!(V in w)||u.validate(w[V],d[V])}if(!z("width")&&w.width!==null||!z("height")&&w.height!==null)throw new Error("Height and width should be pixel values.");if(!z("format"))throw new Error("Export format is not "+u.join2(d.format.values,", "," or ")+".");var b={};function S(V,W){return u.coerce(w,b,d,V,W)}var M=S("format"),I=S("width"),T=S("height"),B=S("scale"),H=S("setBackground"),Z=S("imageDataOnly"),$=document.createElement("div");$.style.position="absolute",$.style.left="-5000px",document.body.appendChild($);var N=u.extendFlat({},_);I?N.width=I:w.width===null&&o(C.width)&&(N.width=C.width),T?N.height=T:w.height===null&&o(C.height)&&(N.height=C.height);var j=u.extendFlat({},D,{_exportedPlot:!0,staticPlot:!0,setBackground:H}),O=f.getRedrawFunc($);function X(){return new Promise(function(V){setTimeout(V,f.getDelay($._fullLayout))})}function ie(){return new Promise(function(V,W){var Y=h($,M,B),Q=$._fullLayout.width,re=$._fullLayout.height;function te(){c.purge($),document.body.removeChild($)}if(M==="full-json"){var le=l.graphJson($,!1,"keepdata","object",!0,!0);return le.version=m,le=JSON.stringify(le),te(),V(Z?le:f.encodeJSON(le))}if(te(),M==="svg")return V(Z?Y:f.encodeSVG(Y));var be=document.createElement("canvas");be.id=u.randstr(),p({format:M,width:Q,height:re,scale:B,canvas:be,svg:Y,promise:!0}).then(V).catch(W)})}function oe(V){return Z?V.replace(f.IMAGE_URL_PREFIX,""):V}return new Promise(function(V,W){c.newPlot($,L,N,j).then(O).then(X).then(ie).then(function(Y){V(oe(Y))}).catch(function(Y){W(Y)})})}i.exports=y},2466:function(i,s,a){"use strict";var o=a(4809),c=a(4122),l=a(7297),u=a(4452).dfltConfig,f=o.isPlainObject,h=Array.isArray,p=o.isArrayOrTypedArray;i.exports=function(S,M){S===void 0&&(S=[]),M===void 0&&(M={});var I=l.get(),T=[],B={_context:o.extendFlat({},u)},H,Z;h(S)?(B.data=o.extendDeep([],S),H=S):(B.data=[],H=[],T.push(w("array","data"))),f(M)?(B.layout=o.extendDeep({},M),Z=M):(B.layout={},Z={},arguments.length>1&&T.push(w("object","layout"))),c.supplyDefaults(B);for(var $=B._fullData,N=H.length,j=0;j<N;j++){var O=H[j],X=["data",j];if(!f(O)){T.push(w("object",X));continue}var ie=$[j],oe=ie.type,V=I.traces[oe].attributes;V.type={valType:"enumerated",values:[oe]},ie.visible===!1&&O.visible!==!1&&T.push(w("invisible",X)),m(O,ie,V,T,X);var W=O.transforms,Y=ie.transforms;if(W){h(W)||T.push(w("array",X,["transforms"])),X.push("transforms");for(var Q=0;Q<W.length;Q++){var re=["transforms",Q],te=W[Q].type;if(!f(W[Q])){T.push(w("object",X,re));continue}var le=I.transforms[te]?I.transforms[te].attributes:{};le.type={valType:"enumerated",values:Object.keys(I.transforms)},m(W[Q],Y[Q],le,T,X,re)}}}var be=B._fullLayout,Se=d(I,$);return m(Z,be,Se,T,"layout"),T.length===0?void 0:T};function m(b,S,M,I,T,B){B=B||[];for(var H=Object.keys(b),Z=0;Z<H.length;Z++){var $=H[Z];if($!=="transforms"){var N=B.slice();N.push($);var j=b[$],O=S[$],X=_(M,$),ie=(X||{}).valType,oe=ie==="info_array",V=ie==="colorscale",W=(X||{}).items;if(!L(M,$))I.push(w("schema",T,N));else if(f(j)&&f(O)&&ie!=="any")m(j,O,X,I,T,N);else if(oe&&h(j)){j.length>O.length&&I.push(w("unused",T,N.concat(O.length)));var Y=O.length,Q=Array.isArray(W);Q&&(Y=Math.min(Y,W.length));var re,te,le,be,Se;if(X.dimensions===2)for(te=0;te<Y;te++)if(h(j[te])){j[te].length>O[te].length&&I.push(w("unused",T,N.concat(te,O[te].length)));var ze=O[te].length;for(re=0;re<(Q?Math.min(ze,W[te].length):ze);re++)le=Q?W[te][re]:W,be=j[te][re],Se=O[te][re],o.validate(be,le)?Se!==be&&Se!==+be&&I.push(w("dynamic",T,N.concat(te,re),be,Se)):I.push(w("value",T,N.concat(te,re),be))}else I.push(w("array",T,N.concat(te),j[te]));else for(te=0;te<Y;te++)le=Q?W[te]:W,be=j[te],Se=O[te],o.validate(be,le)?Se!==be&&Se!==+be&&I.push(w("dynamic",T,N.concat(te),be,Se)):I.push(w("value",T,N.concat(te),be))}else if(X.items&&!oe&&h(j)){var Te=W[Object.keys(W)[0]],ye=[],he,P;for(he=0;he<O.length;he++){var U=O[he]._index||he;if(P=N.slice(),P.push(U),f(j[U])&&f(O[he])){ye.push(U);var ee=j[U],G=O[he];f(ee)&&ee.visible!==!1&&G.visible===!1?I.push(w("invisible",T,P)):m(ee,G,Te,I,T,P)}}for(he=0;he<j.length;he++)P=N.slice(),P.push(he),f(j[he])?ye.indexOf(he)===-1&&I.push(w("unused",T,P)):I.push(w("object",T,P,j[he]))}else!f(j)&&f(O)?I.push(w("object",T,N,j)):!p(j)&&p(O)&&!oe&&!V?I.push(w("array",T,N,j)):$ in S?o.validate(j,X)?X.valType==="enumerated"&&(X.coerceNumber&&j!==+O||j!==O)&&I.push(w("dynamic",T,N,j,O)):I.push(w("value",T,N,j)):I.push(w("unused",T,N,j))}}return I}function d(b,S){for(var M=b.layout.layoutAttributes,I=0;I<S.length;I++){var T=S[I],B=b.traces[T.type],H=B.layoutAttributes;H&&(T.subplot?o.extendFlat(M[B.attributes.subplot.dflt],H):o.extendFlat(M,H))}return M}var y={object:function(b,S){var M;return b==="layout"&&S===""?M="The layout argument":b[0]==="data"&&S===""?M="Trace "+b[1]+" in the data argument":M=x(b)+"key "+S,M+" must be linked to an object container"},array:function(b,S){var M;return b==="data"?M="The data argument":M=x(b)+"key "+S,M+" must be linked to an array container"},schema:function(b,S){return x(b)+"key "+S+" is not part of the schema"},unused:function(b,S,M){var I=f(M)?"container":"key";return x(b)+I+" "+S+" did not get coerced"},dynamic:function(b,S,M,I){return[x(b)+"key",S,"(set to '"+M+"')","got reset to","'"+I+"'","during defaults."].join(" ")},invisible:function(b,S){return(S?x(b)+"item "+S:"Trace "+b[1])+" got defaulted to be not visible"},value:function(b,S,M){return[x(b)+"key "+S,"is set to an invalid value ("+M+")"].join(" ")}};function x(b){return h(b)?"In data trace "+b[1]+", ":"In "+b+", "}function w(b,S,M,I,T){M=M||"";var B,H;h(S)?(B=S[0],H=S[1]):(B=S,H=null);var Z=z(M),$=y[b](S,Z,I,T);return o.log($),{code:b,container:B,trace:H,path:M,astr:Z,msg:$}}function L(b,S){var M=C(S),I=M.keyMinusId,T=M.id;return I in b&&b[I]._isSubplotObj&&T?!0:S in b}function _(b,S){if(S in b)return b[S];var M=C(S);return b[M.keyMinusId]}var D=o.counterRegex("([a-z]+)");function C(b){var S=b.match(D);return{keyMinusId:S&&S[1],id:S&&S[2]}}function z(b){if(!h(b))return String(b);for(var S="",M=0;M<b.length;M++){var I=b[M];typeof I=="number"?S=S.substr(0,S.length-1)+"["+I+"]":S+=I,M<b.length-1&&(S+=".")}return S}},9722:function(i){"use strict";i.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},9008:function(i,s,a){"use strict";var o=a(4809),c=a(8032);i.exports=function(u,f,h){var p=h.name,m=h.inclusionAttr||"visible",d=f[p],y=o.isArrayOrTypedArray(u[p])?u[p]:[],x=f[p]=[],w=c.arrayTemplater(f,p,m),L,_;for(L=0;L<y.length;L++){var D=y[L];o.isPlainObject(D)?_=w.newItem(D):(_=w.newItem({}),_[m]=!1),_._index=L,_[m]!==!1&&h.handleItemDefaults(D,_,f,h),x.push(_)}var C=w.defaultItems();for(L=0;L<C.length;L++)_=C[L],_._index=x.length,h.handleItemDefaults({},_,f,h,{}),x.push(_);if(o.isArrayOrTypedArray(d)){var z=Math.min(d.length,x.length);for(L=0;L<z;L++)o.relinkPrivateKeys(x[L],d[L])}return x}},9829:function(i,s,a){"use strict";var o=a(337),c=a(192);i.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:o({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:c.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},528:function(i,s,a){"use strict";var o=a(721),c=a(4809),l=c.dateTime2ms,u=c.incrementMonth,f=a(3821),h=f.ONEAVGMONTH;i.exports=function(m,d,y,x){if(d.type!=="date")return{vals:x};var w=m[y+"periodalignment"];if(!w)return{vals:x};var L=m[y+"period"],_;if(o(L)){if(L=+L,L<=0)return{vals:x}}else if(typeof L=="string"&&L.charAt(0)==="M"){var D=+L.substring(1);if(D>0&&Math.round(D)===D)_=D;else return{vals:x}}for(var C=d.calendar,z=w==="start",b=w==="end",S=m[y+"period0"],M=l(S,C)||0,I=[],T=[],B=[],H=x.length,Z=0;Z<H;Z++){var $=x[Z],N,j,O;if(_){for(N=Math.round(($-M)/(_*h)),O=u(M,_*N,C);O>$;)O=u(O,-_,C);for(;O<=$;)O=u(O,_,C);j=u(O,-_,C)}else{for(N=Math.round(($-M)/L),O=M+N*L;O>$;)O-=L;for(;O<=$;)O+=L;j=O-L}I[Z]=z?j:b?O:(j+O)/2,T[Z]=j,B[Z]=O}return{vals:I,starts:T,ends:B}}},5126:function(i){"use strict";i.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},2919:function(i,s,a){"use strict";var o=a(5568),c=a(721),l=a(4809),u=a(3821).FP_SAFE,f=a(3626),h=a(2203),p=a(5975),m=p.getFromId,d=p.isLinked;i.exports={applyAutorangeOptions:N,getAutoRange:y,makePadFn:w,doAutoRange:C,findExtremes:z,concatExtremes:D};function y(j,O){var X,ie,oe=[],V=j._fullLayout,W=w(V,O,0),Y=w(V,O,1),Q=D(j,O),re=Q.min,te=Q.max;if(re.length===0||te.length===0)return l.simpleMap(O.range,O.r2l);var le=re[0].val,be=te[0].val;for(X=1;X<re.length&&le===be;X++)le=Math.min(le,re[X].val);for(X=1;X<te.length&&le===be;X++)be=Math.max(be,te[X].val);var Se=O.autorange,ze=Se==="reversed"||Se==="min reversed"||Se==="max reversed";if(!ze&&O.range){var Te=l.simpleMap(O.range,O.r2l);ze=Te[1]<Te[0]}O.autorange==="reversed"&&(O.autorange=!0);var ye=O.rangemode,he=ye==="tozero",P=ye==="nonnegative",U=O._length,ee=U/10,G=0,E,K,R,ne,pe,xe;for(X=0;X<re.length;X++)for(E=re[X],ie=0;ie<te.length;ie++)K=te[ie],xe=K.val-E.val-x(O,E.val,K.val),xe>0&&(pe=U-W(E)-Y(K),pe>ee?xe/pe>G&&(R=E,ne=K,G=xe/pe):xe/U>G&&(R={val:E.val,nopad:1},ne={val:K.val,nopad:1},G=xe/U));function we(rt,Me){return Math.max(rt,Y(Me))}if(le===be){var Ee=le-1,Oe=le+1;if(he)if(le===0)oe=[0,1];else{var Ke=(le>0?te:re).reduce(we,0),Je=le/(1-Math.min(.5,Ke/U));oe=le>0?[0,Je]:[Je,0]}else P?oe=[Math.max(0,Ee),Math.max(1,Oe)]:oe=[Ee,Oe]}else he?(R.val>=0&&(R={val:0,nopad:1}),ne.val<=0&&(ne={val:0,nopad:1})):P&&(R.val-G*W(R)<0&&(R={val:0,nopad:1}),ne.val<=0&&(ne={val:1,nopad:1})),G=(ne.val-R.val-x(O,E.val,K.val))/(U-W(R)-Y(ne)),oe=[R.val-G*W(R),ne.val+G*Y(ne)];return oe=N(oe,O),O.limitRange&&O.limitRange(),ze&&oe.reverse(),l.simpleMap(oe,O.l2r||Number)}function x(j,O,X){var ie=0;if(j.rangebreaks)for(var oe=j.locateBreaks(O,X),V=0;V<oe.length;V++){var W=oe[V];ie+=W.max-W.min}return ie}function w(j,O,X){var ie=.05*O._length,oe=O._anchorAxis||{};if((O.ticklabelposition||"").indexOf("inside")!==-1||(oe.ticklabelposition||"").indexOf("inside")!==-1){var V=O.isReversed();if(!V){var W=l.simpleMap(O.range,O.r2l);V=W[1]<W[0]}V&&(X=!X)}var Y=0;return d(j,O._id)||(Y=_(j,O,X)),ie=Math.max(Y,ie),O.constrain==="domain"&&O._inputDomain&&(ie*=(O._inputDomain[1]-O._inputDomain[0])/(O.domain[1]-O.domain[0])),function(re){return re.nopad?0:re.pad+(re.extrapad?ie:Y)}}var L=3;function _(j,O,X){var ie=0,oe=O._id.charAt(0)==="x";for(var V in j._plots){var W=j._plots[V];if(!(O._id!==W.xaxis._id&&O._id!==W.yaxis._id)){var Y=(oe?W.yaxis:W.xaxis)||{};if((Y.ticklabelposition||"").indexOf("inside")!==-1&&(!X&&(Y.side==="left"||Y.side==="bottom")||X&&(Y.side==="top"||Y.side==="right"))){if(Y._vals){var Q=l.deg2rad(Y._tickAngles[Y._id+"tick"]||0),re=Math.abs(Math.cos(Q)),te=Math.abs(Math.sin(Q));if(!Y._vals[0].bb){var le=Y._id+"tick",be=Y._selections[le];be.each(function(P){var U=o.select(this),ee=U.select(".text-math-group");ee.empty()&&(P.bb=h.bBox(U.node()))})}for(var Se=0;Se<Y._vals.length;Se++){var ze=Y._vals[Se],Te=ze.bb;if(Te){var ye=2*L+Te.width,he=2*L+Te.height;ie=Math.max(ie,oe?Math.max(ye*re,he*te):Math.max(he*re,ye*te))}}}Y.ticks==="inside"&&Y.ticklabelposition==="inside"&&(ie+=Y.ticklen||0)}}}return ie}function D(j,O,X){var ie=O._id,oe=j._fullData,V=j._fullLayout,W=[],Y=[],Q,re,te;function le(ye,he){for(Q=0;Q<he.length;Q++){var P=ye[he[Q]],U=(P._extremes||{})[ie];if(P.visible===!0&&U){for(re=0;re<U.min.length;re++)te=U.min[re],b(W,te.val,te.pad,{extrapad:te.extrapad});for(re=0;re<U.max.length;re++)te=U.max[re],S(Y,te.val,te.pad,{extrapad:te.extrapad})}}}if(le(oe,O._traceIndices),le(V.annotations||[],O._annIndices||[]),le(V.shapes||[],O._shapeIndices||[]),O._matchGroup&&!X){for(var be in O._matchGroup)if(be!==O._id){var Se=m(j,be),ze=D(j,Se,!0),Te=O._length/Se._length;for(re=0;re<ze.min.length;re++)te=ze.min[re],b(W,te.val,te.pad*Te,{extrapad:te.extrapad});for(re=0;re<ze.max.length;re++)te=ze.max[re],S(Y,te.val,te.pad*Te,{extrapad:te.extrapad})}}return{min:W,max:Y}}function C(j,O,X){if(O.setScale(),O.autorange){O.range=X?X.slice():y(j,O),O._r=O.range.slice(),O._rl=l.simpleMap(O._r,O.r2l);var ie=O._input,oe={};oe[O._attr+".range"]=O.range,oe[O._attr+".autorange"]=O.autorange,f.call("_storeDirectGUIEdit",j.layout,j._fullLayout._preGUI,oe),ie.range=O.range.slice(),ie.autorange=O.autorange}var V=O._anchorAxis;if(V&&V.rangeslider){var W=V.rangeslider[O._name];W&&W.rangemode==="auto"&&(W.range=y(j,O)),V._input.rangeslider[O._name]=l.extendFlat({},W)}}function z(j,O,X){X||(X={}),j._m||j.setScale();var ie=[],oe=[],V=O.length,W=X.padded||!1,Y=X.tozero&&(j.type==="linear"||j.type==="-"),Q=j.type==="log",re=!1,te=X.vpadLinearized||!1,le,be,Se,ze,Te,ye,he,P,U;function ee(we){if(Array.isArray(we))return re=!0,function(Oe){return Math.max(Number(we[Oe]||0),0)};var Ee=Math.max(Number(we||0),0);return function(){return Ee}}var G=ee((j._m>0?X.ppadplus:X.ppadminus)||X.ppad||0),E=ee((j._m>0?X.ppadminus:X.ppadplus)||X.ppad||0),K=ee(X.vpadplus||X.vpad),R=ee(X.vpadminus||X.vpad);if(!re){if(P=1/0,U=-1/0,Q)for(le=0;le<V;le++)be=O[le],be<P&&be>0&&(P=be),be>U&&be<u&&(U=be);else for(le=0;le<V;le++)be=O[le],be<P&&be>-u&&(P=be),be>U&&be<u&&(U=be);O=[P,U],V=2}var ne={tozero:Y,extrapad:W};function pe(we){Se=O[we],c(Se)&&(ye=G(we),he=E(we),te?(ze=j.c2l(Se)-R(we),Te=j.c2l(Se)+K(we)):(P=Se-R(we),U=Se+K(we),Q&&P<U/10&&(P=U/10),ze=j.c2l(P),Te=j.c2l(U)),Y&&(ze=Math.min(0,ze),Te=Math.max(0,Te)),I(ze)&&b(ie,ze,he,ne),I(Te)&&S(oe,Te,ye,ne))}var xe=Math.min(6,V);for(le=0;le<xe;le++)pe(le);for(le=V-1;le>=xe;le--)pe(le);return{min:ie,max:oe,opts:X}}function b(j,O,X,ie){M(j,O,X,ie,T)}function S(j,O,X,ie){M(j,O,X,ie,B)}function M(j,O,X,ie,oe){for(var V=ie.tozero,W=ie.extrapad,Y=!0,Q=0;Q<j.length&&Y;Q++){var re=j[Q];if(oe(re.val,O)&&re.pad>=X&&(re.extrapad||!W)){Y=!1;break}else oe(O,re.val)&&re.pad<=X&&(W||!re.extrapad)&&(j.splice(Q,1),Q--)}if(Y){var te=V&&O===0;j.push({val:O,pad:te?0:X,extrapad:te?!1:W})}}function I(j){return c(j)&&Math.abs(j)<u}function T(j,O){return j<=O}function B(j,O){return j>=O}function H(j,O){var X=O.autorangeoptions;return X&&X.minallowed!==void 0&&$(O,X.minallowed,X.maxallowed)?X.minallowed:X&&X.clipmin!==void 0&&$(O,X.clipmin,X.clipmax)?Math.max(j,O.d2l(X.clipmin)):j}function Z(j,O){var X=O.autorangeoptions;return X&&X.maxallowed!==void 0&&$(O,X.minallowed,X.maxallowed)?X.maxallowed:X&&X.clipmax!==void 0&&$(O,X.clipmin,X.clipmax)?Math.min(j,O.d2l(X.clipmax)):j}function $(j,O,X){return O!==void 0&&X!==void 0?(O=j.d2l(O),X=j.d2l(X),O<X):!0}function N(j,O){if(!O||!O.autorangeoptions)return j;var X=j[0],ie=j[1],oe=O.autorangeoptions.include;if(oe!==void 0){var V=O.d2l(X),W=O.d2l(ie);l.isArrayOrTypedArray(oe)||(oe=[oe]);for(var Y=0;Y<oe.length;Y++){var Q=O.d2l(oe[Y]);V>=Q&&(V=Q,X=Q),W<=Q&&(W=Q,ie=Q)}}return X=H(X,O),ie=Z(ie,O),[X,ie]}},5511:function(i){"use strict";i.exports=function(a,o,c){var l,u;if(c){var f=o==="reversed"||o==="min reversed"||o==="max reversed";l=c[f?1:0],u=c[f?0:1]}var h=a("autorangeoptions.minallowed",u===null?l:void 0),p=a("autorangeoptions.maxallowed",l===null?u:void 0);h===void 0&&a("autorangeoptions.clipmin"),p===void 0&&a("autorangeoptions.clipmax"),a("autorangeoptions.include")}},9714:function(i,s,a){"use strict";var o=a(5568),c=a(721),l=a(4122),u=a(3626),f=a(4809),h=f.strTranslate,p=a(635),m=a(7240),d=a(8766),y=a(2203),x=a(5829),w=a(8599),L=a(3821),_=L.ONEMAXYEAR,D=L.ONEAVGYEAR,C=L.ONEMINYEAR,z=L.ONEMAXQUARTER,b=L.ONEAVGQUARTER,S=L.ONEMINQUARTER,M=L.ONEMAXMONTH,I=L.ONEAVGMONTH,T=L.ONEMINMONTH,B=L.ONEWEEK,H=L.ONEDAY,Z=H/2,$=L.ONEHOUR,N=L.ONEMIN,j=L.ONESEC,O=L.ONEMILLI,X=L.ONEMICROSEC,ie=L.MINUS_SIGN,oe=L.BADNUM,V={K:"zeroline"},W={K:"gridline",L:"path"},Y={K:"minor-gridline",L:"path"},Q={K:"tick",L:"path"},re={K:"tick",L:"text"},te={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},le=a(4530),be=le.MID_SHIFT,Se=le.CAP_SHIFT,ze=le.LINE_SPACING,Te=le.OPPOSITE_SIDE,ye=3,he=i.exports={};he.setConvert=a(9091);var P=a(9666),U=a(5975),ee=U.idSort,G=U.isLinked;he.id2name=U.id2name,he.name2id=U.name2id,he.cleanId=U.cleanId,he.list=U.list,he.listIds=U.listIds,he.getFromId=U.getFromId,he.getFromTrace=U.getFromTrace;var E=a(2919);he.getAutoRange=E.getAutoRange,he.findExtremes=E.findExtremes;var K=1e-4;function R(me){var ce=(me[1]-me[0])*K;return[me[0]-ce,me[1]+ce]}he.coerceRef=function(me,ce,it,tt,Ze,Ye){var Qe=tt.charAt(tt.length-1),mt=it._fullLayout._subplots[Qe+"axis"],st=tt+"ref",yt={};return Ze||(Ze=mt[0]||(typeof Ye=="string"?Ye:Ye[0])),Ye||(Ye=Ze),mt=mt.concat(mt.map(function(Ct){return Ct+" domain"})),yt[st]={valType:"enumerated",values:mt.concat(Ye?typeof Ye=="string"?[Ye]:Ye:[]),dflt:Ze},f.coerce(me,ce,yt,st)},he.getRefType=function(me){return me===void 0?me:me==="paper"?"paper":me==="pixel"?"pixel":/( domain)$/.test(me)?"domain":"range"},he.coercePosition=function(me,ce,it,tt,Ze,Ye){var Qe,mt,st=he.getRefType(tt);if(st!=="range")Qe=f.ensureNumber,mt=it(Ze,Ye);else{var yt=he.getFromId(ce,tt);Ye=yt.fraction2r(Ye),mt=it(Ze,Ye),Qe=yt.cleanPos}me[Ze]=Qe(mt)},he.cleanPosition=function(me,ce,it){var tt=it==="paper"||it==="pixel"?f.ensureNumber:he.getFromId(ce,it).cleanPos;return tt(me)},he.redrawComponents=function(me,ce){ce=ce||he.listIds(me);var it=me._fullLayout;function tt(Ze,Ye,Qe,mt){for(var st=u.getComponentMethod(Ze,Ye),yt={},Ct=0;Ct<ce.length;Ct++)for(var wt=it[he.id2name(ce[Ct])],Ot=wt[Qe],en=0;en<Ot.length;en++){var Tt=Ot[en];if(!yt[Tt]&&(st(me,Tt),yt[Tt]=1,mt))return}}tt("annotations","drawOne","_annIndices"),tt("shapes","drawOne","_shapeIndices"),tt("images","draw","_imgIndices",!0),tt("selections","drawOne","_selectionIndices")};var ne=he.getDataConversions=function(me,ce,it,tt){var Ze,Ye=it==="x"||it==="y"||it==="z"?it:tt;if(f.isArrayOrTypedArray(Ye)){if(Ze={type:P(tt,void 0,{autotypenumbers:me._fullLayout.autotypenumbers}),_categories:[]},he.setConvert(Ze),Ze.type==="category")for(var Qe=0;Qe<tt.length;Qe++)Ze.d2c(tt[Qe])}else Ze=he.getFromTrace(me,ce,Ye);return Ze?{d2c:Ze.d2c,c2d:Ze.c2d}:Ye==="ids"?{d2c:xe,c2d:xe}:{d2c:pe,c2d:pe}};function pe(me){return+me}function xe(me){return String(me)}he.getDataToCoordFunc=function(me,ce,it,tt){return ne(me,ce,it,tt).d2c},he.counterLetter=function(me){var ce=me.charAt(0);if(ce==="x")return"y";if(ce==="y")return"x"},he.minDtick=function(me,ce,it,tt){["log","category","multicategory"].indexOf(me.type)!==-1||!tt?me._minDtick=0:me._minDtick===void 0?(me._minDtick=ce,me._forceTick0=it):me._minDtick&&((me._minDtick/ce+1e-6)%1<2e-6&&((it-me._forceTick0)/ce%1+1.000001)%1<2e-6?(me._minDtick=ce,me._forceTick0=it):((ce/me._minDtick+1e-6)%1>2e-6||((it-me._forceTick0)/me._minDtick%1+1.000001)%1>2e-6)&&(me._minDtick=0))},he.saveRangeInitial=function(me,ce){for(var it=he.list(me,"",!0),tt=!1,Ze=0;Ze<it.length;Ze++){var Ye=it[Ze],Qe=Ye._rangeInitial0===void 0&&Ye._rangeInitial1===void 0,mt=Qe||Ye.range[0]!==Ye._rangeInitial0||Ye.range[1]!==Ye._rangeInitial1,st=Ye.autorange;(Qe&&st!==!0||ce&&mt)&&(Ye._rangeInitial0=st==="min"||st==="max reversed"?void 0:Ye.range[0],Ye._rangeInitial1=st==="max"||st==="min reversed"?void 0:Ye.range[1],Ye._autorangeInitial=st,tt=!0)}return tt},he.saveShowSpikeInitial=function(me,ce){for(var it=he.list(me,"",!0),tt=!1,Ze="on",Ye=0;Ye<it.length;Ye++){var Qe=it[Ye],mt=Qe._showSpikeInitial===void 0,st=mt||Qe.showspikes!==Qe._showspikes;(mt||ce&&st)&&(Qe._showSpikeInitial=Qe.showspikes,tt=!0),Ze==="on"&&!Qe.showspikes&&(Ze="off")}return me._fullLayout._cartesianSpikesEnabled=Ze,tt},he.autoBin=function(me,ce,it,tt,Ze,Ye){var Qe=f.aggNums(Math.min,null,me),mt=f.aggNums(Math.max,null,me);if(ce.type==="category"||ce.type==="multicategory")return{start:Qe-.5,end:mt+.5,size:Math.max(1,Math.round(Ye)||1),_dataSpan:mt-Qe};Ze||(Ze=ce.calendar);var st;if(ce.type==="log"?st={type:"linear",range:[Qe,mt]}:st={type:ce.type,range:f.simpleMap([Qe,mt],ce.c2r,0,Ze),calendar:Ze},he.setConvert(st),Ye=Ye&&w.dtick(Ye,st.type),Ye)st.dtick=Ye,st.tick0=w.tick0(void 0,st.type,Ze);else{var yt;if(it)yt=(mt-Qe)/it;else{var Ct=f.distinctVals(me),wt=Math.pow(10,Math.floor(Math.log(Ct.minDiff)/Math.LN10)),Ot=wt*f.roundUp(Ct.minDiff/wt,[.9,1.9,4.9,9.9],!0);yt=Math.max(Ot,2*f.stdev(me)/Math.pow(me.length,tt?.25:.4)),c(yt)||(yt=1)}he.autoTicks(st,yt)}var en=st.dtick,Tt=he.tickIncrement(he.tickFirst(st),en,"reverse",Ze),fn,Zt;if(typeof en=="number")Tt=we(Tt,me,st,Qe,mt),Zt=1+Math.floor((mt-Tt)/en),fn=Tt+Zt*en;else for(st.dtick.charAt(0)==="M"&&(Tt=Ee(Tt,me,en,Qe,Ze)),fn=Tt,Zt=0;fn<=mt;)fn=he.tickIncrement(fn,en,!1,Ze),Zt++;return{start:ce.c2r(Tt,0,Ze),end:ce.c2r(fn,0,Ze),size:en,_dataSpan:mt-Qe}};function we(me,ce,it,tt,Ze){var Ye=0,Qe=0,mt=0,st=0;function yt(en){return(1+(en-me)*100/it.dtick)%100<2}for(var Ct=0;Ct<ce.length;Ct++)ce[Ct]%1===0?mt++:c(ce[Ct])||st++,yt(ce[Ct])&&Ye++,yt(ce[Ct]+it.dtick/2)&&Qe++;var wt=ce.length-st;if(mt===wt&&it.type!=="date")it.dtick<1?me=tt-.5*it.dtick:(me-=.5,me+it.dtick<tt&&(me+=it.dtick));else if(Qe<wt*.1&&(Ye>wt*.3||yt(tt)||yt(Ze))){var Ot=it.dtick/2;me+=me+Ot<tt?Ot:-Ot}return me}function Ee(me,ce,it,tt,Ze){var Ye=f.findExactDates(ce,Ze),Qe=.8;if(Ye.exactDays>Qe){var mt=Number(it.substr(1));Ye.exactYears>Qe&&mt%12===0?me=he.tickIncrement(me,"M6","reverse")+H*1.5:Ye.exactMonths>Qe?me=he.tickIncrement(me,"M1","reverse")+H*15.5:me-=Z;var st=he.tickIncrement(me,it);if(st<=tt)return st}return me}he.prepMinorTicks=function(me,ce,it){if(!ce.minor.dtick){delete me.dtick;var tt=ce.dtick&&c(ce._tmin),Ze;if(tt){var Ye=he.tickIncrement(ce._tmin,ce.dtick,!0);Ze=[ce._tmin,Ye*.99+ce._tmin*.01]}else{var Qe=f.simpleMap(ce.range,ce.r2l);Ze=[Qe[0],.8*Qe[0]+.2*Qe[1]]}if(me.range=f.simpleMap(Ze,ce.l2r),me._isMinor=!0,he.prepTicks(me,it),tt){var mt=c(ce.dtick),st=c(me.dtick),yt=mt?ce.dtick:+ce.dtick.substring(1),Ct=st?me.dtick:+me.dtick.substring(1);mt&&st?Oe(yt,Ct)?yt===2*B&&Ct===2*H&&(me.dtick=B):yt===2*B&&Ct===3*H?me.dtick=B:yt===B&&!(ce._input.minor||{}).nticks?me.dtick=H:Ke(yt/Ct,2.5)?me.dtick=yt/2:me.dtick=yt:String(ce.dtick).charAt(0)==="M"?st?me.dtick="M1":Oe(yt,Ct)?yt>=12&&Ct===2&&(me.dtick="M3"):me.dtick=ce.dtick:String(me.dtick).charAt(0)==="L"?String(ce.dtick).charAt(0)==="L"?Oe(yt,Ct)||(me.dtick=Ke(yt/Ct,2.5)?ce.dtick/2:ce.dtick):me.dtick="D1":me.dtick==="D2"&&+ce.dtick>1&&(me.dtick=1)}me.range=ce.range}ce.minor._tick0Init===void 0&&(me.tick0=ce.tick0)};function Oe(me,ce){return Math.abs((me/ce+.5)%1-.5)<.001}function Ke(me,ce){return Math.abs(me/ce-1)<.001}he.prepTicks=function(me,ce){var it=f.simpleMap(me.range,me.r2l,void 0,void 0,ce);if(me.tickmode==="auto"||!me.dtick){var tt=me.nticks,Ze;tt||(me.type==="category"||me.type==="multicategory"?(Ze=me.tickfont?f.bigFont(me.tickfont.size||12):15,tt=me._length/Ze):(Ze=me._id.charAt(0)==="y"?40:80,tt=f.constrain(me._length/Ze,4,9)+1),me._name==="radialaxis"&&(tt*=2)),me.minor&&me.minor.tickmode!=="array"||me.tickmode==="array"&&(tt*=100),me._roughDTick=Math.abs(it[1]-it[0])/tt,he.autoTicks(me,me._roughDTick),me._minDtick>0&&me.dtick<me._minDtick*2&&(me.dtick=me._minDtick,me.tick0=me.l2r(me._forceTick0))}me.ticklabelmode==="period"&&rt(me),me.tick0||(me.tick0=me.type==="date"?"2000-01-01":0),me.type==="date"&&me.dtick<.1&&(me.dtick=.1),pt(me)};function Je(me){return+me.substring(1)}function rt(me){var ce;function it(){return!(c(me.dtick)||me.dtick.charAt(0)!=="M")}var tt=it(),Ze=he.getTickFormat(me);if(Ze){var Ye=me._dtickInit!==me.dtick;/%[fLQsSMX]/.test(Ze)||(/%[HI]/.test(Ze)?(ce=$,Ye&&!tt&&me.dtick<$&&(me.dtick=$)):/%p/.test(Ze)?(ce=Z,Ye&&!tt&&me.dtick<Z&&(me.dtick=Z)):/%[Aadejuwx]/.test(Ze)?(ce=H,Ye&&!tt&&me.dtick<H&&(me.dtick=H)):/%[UVW]/.test(Ze)?(ce=B,Ye&&!tt&&me.dtick<B&&(me.dtick=B)):/%[Bbm]/.test(Ze)?(ce=I,Ye&&(tt?Je(me.dtick)<1:me.dtick<T)&&(me.dtick="M1")):/%[q]/.test(Ze)?(ce=b,Ye&&(tt?Je(me.dtick)<3:me.dtick<S)&&(me.dtick="M3")):/%[Yy]/.test(Ze)&&(ce=D,Ye&&(tt?Je(me.dtick)<12:me.dtick<C)&&(me.dtick="M12")))}tt=it(),tt&&me.tick0===me._dowTick0&&(me.tick0=me._rawTick0),me._definedDelta=ce}function Me(me,ce,it){for(var tt=0;tt<me.length;tt++){var Ze=me[tt].value,Ye=tt,Qe=tt+1;tt<me.length-1?(Ye=tt,Qe=tt+1):tt>0?(Ye=tt-1,Qe=tt):(Ye=tt,Qe=tt);var mt=me[Ye].value,st=me[Qe].value,yt=Math.abs(st-mt),Ct=it||yt,wt=0;Ct>=C?yt>=C&&yt<=_?wt=yt:wt=D:it===b&&Ct>=S?yt>=S&&yt<=z?wt=yt:wt=b:Ct>=T?yt>=T&&yt<=M?wt=yt:wt=I:it===B&&Ct>=B?wt=B:Ct>=H?wt=H:it===Z&&Ct>=Z?wt=Z:it===$&&Ct>=$&&(wt=$);var Ot;wt>=yt&&(wt=yt,Ot=!0);var en=Ze+wt;if(ce.rangebreaks&&wt>0){for(var Tt=84,fn=0,Zt=0;Zt<Tt;Zt++){var an=(Zt+.5)/Tt;ce.maskBreaks(Ze*(1-an)+an*en)!==oe&&fn++}wt*=fn/Tt,wt||(me[tt].drop=!0),Ot&&yt>B&&(wt=yt)}(wt>0||tt===0)&&(me[tt].periodX=Ze+wt/2)}}he.calcTicks=function(ce,it){for(var tt=ce.type,Ze=ce.calendar,Ye=ce.ticklabelstep,Qe=ce.ticklabelmode==="period",mt=ce.range[0]>ce.range[1],st=!ce.ticklabelindex||f.isArrayOrTypedArray(ce.ticklabelindex)?ce.ticklabelindex:[ce.ticklabelindex],yt=f.simpleMap(ce.range,ce.r2l,void 0,void 0,it),Ct=yt[1]<yt[0],wt=Math.min(yt[0],yt[1]),Ot=Math.max(yt[0],yt[1]),en=Math.max(1e3,ce._length||0),Tt=[],fn=[],Zt=[],an=[],ln=[],En=ce.minor&&(ce.minor.ticks||ce.minor.showgrid),Gn=1;Gn>=(En?0:1);Gn--){var sr=!Gn;Gn?(ce._dtickInit=ce.dtick,ce._tick0Init=ce.tick0):(ce.minor._dtickInit=ce.minor.dtick,ce.minor._tick0Init=ce.minor.tick0);var Yn=Gn?ce:f.extendFlat({},ce,ce.minor);if(sr?he.prepMinorTicks(Yn,ce,it):he.prepTicks(Yn,it),Yn.tickmode==="array"){Gn?(Zt=[],Tt=He(ce,!sr)):(an=[],fn=He(ce,!sr));continue}if(Yn.tickmode==="sync"){Zt=[],Tt=Le(ce);continue}var Xr=R(yt),Mr=Xr[0],Ur=Xr[1],ta=c(Yn.dtick),Va=tt==="log"&&!(ta||Yn.dtick.charAt(0)==="L"),ei=he.tickFirst(Yn,it);if(Gn){if(ce._tmin=ei,ei<Mr!==Ct)break;(tt==="category"||tt==="multicategory")&&(Ur=Ct?Math.max(-.5,Ur):Math.min(ce._categories.length-.5,Ur))}var Fi=null,_i=ei,lr;if(Gn){var br;ta?br=ce.dtick:tt==="date"?typeof ce.dtick=="string"&&ce.dtick.charAt(0)==="M"&&(br=I*ce.dtick.substring(1)):br=ce._roughDTick,lr=Math.round((ce.r2l(_i)-ce.r2l(ce.tick0))/br)-1}var cr=Yn.dtick;for(Yn.rangebreaks&&Yn._tick0Init!==Yn.tick0&&(_i=qn(_i,ce),Ct||(_i=he.tickIncrement(_i,cr,!Ct,Ze))),Gn&&Qe&&(_i=he.tickIncrement(_i,cr,!Ct,Ze),lr--);Ct?_i>=Ur:_i<=Ur;_i=he.tickIncrement(_i,cr,Ct,Ze)){if(Gn&&lr++,Yn.rangebreaks&&!Ct){if(_i<Mr)continue;if(Yn.maskBreaks(_i)===oe&&qn(_i,Yn)>=Ot)break}if(Zt.length>en||_i===Fi)break;Fi=_i;var vr={value:_i};Gn?(Va&&_i!==(_i|0)&&(vr.simpleLabel=!0),Ye>1&&lr%Ye&&(vr.skipLabel=!0),Zt.push(vr)):(vr.minor=!0,an.push(vr))}}if(!an||an.length<2)st=!1;else{var Zr=(an[1].value-an[0].value)*(mt?-1:1);hn(Zr,ce.tickformat)||(st=!1)}if(!st)ln=Zt;else{var gr=Zt.concat(an);Qe&&Zt.length&&(gr=gr.slice(1)),gr=gr.sort(function(Vi,Qi){return Vi.value-Qi.value}).filter(function(Vi,Qi,wr){return Qi===0||Vi.value!==wr[Qi-1].value});var Dr=gr.map(function(Vi,Qi){return Vi.minor===void 0&&!Vi.skipLabel?Qi:null}).filter(function(Vi){return Vi!==null});Dr.forEach(function(Vi){st.map(function(Qi){var wr=Vi+Qi;wr>=0&&wr<gr.length&&f.pushUnique(ln,gr[wr])})})}if(En){var Ti=ce.minor.ticks==="inside"&&ce.ticks==="outside"||ce.minor.ticks==="outside"&&ce.ticks==="inside";if(!Ti){for(var Zi=Zt.map(function(Vi){return Vi.value}),Ii=[],ki=0;ki<an.length;ki++){var ti=an[ki],Ai=ti.value;if(Zi.indexOf(Ai)===-1){for(var Ni=!1,Pa=0;!Ni&&Pa<Zt.length;Pa++)1e7+Zt[Pa].value===1e7+Ai&&(Ni=!0);Ni||Ii.push(ti)}}an=Ii}}Qe&&Me(ln,ce,ce._definedDelta);var ni;if(ce.rangebreaks){var Ki=ce._id.charAt(0)==="y",Ja=1;ce.tickmode==="auto"&&(Ja=ce.tickfont?ce.tickfont.size:12);var bs=NaN;for(ni=Zt.length-1;ni>-1;ni--){if(Zt[ni].drop){Zt.splice(ni,1);continue}Zt[ni].value=qn(Zt[ni].value,ce);var Is=ce.c2p(Zt[ni].value);(Ki?bs>Is-Ja:bs<Is+Ja)?Zt.splice(Ct?ni+1:ni,1):bs=Is}}Un(ce)&&Math.abs(yt[1]-yt[0])===360&&Zt.pop(),ce._tmax=(Zt[Zt.length-1]||{}).value,ce._prevDateHead="",ce._inCalcTicks=!0;var qa,wa=function(Vi){Vi.text="",ce._prevDateHead=qa};Zt=Zt.concat(an);function ao(Vi,Qi){var wr=he.tickText(Vi,Qi.value,!1,Qi.simpleLabel),Pi=Qi.periodX;return Pi!==void 0&&(wr.periodX=Pi,(Pi>Ot||Pi<wt)&&(Pi>Ot&&(wr.periodX=Ot),Pi<wt&&(wr.periodX=wt),wa(wr))),wr}var oa;for(ni=0;ni<Zt.length;ni++){var ga=Zt[ni].minor,ha=Zt[ni].value;ga?(st&&ln.indexOf(Zt[ni])!==-1?oa=ao(ce,Zt[ni]):oa={x:ha},oa.minor=!0,fn.push(oa)):(qa=ce._prevDateHead,oa=ao(ce,Zt[ni]),(Zt[ni].skipLabel||st&&ln.indexOf(Zt[ni])===-1)&&wa(oa),Tt.push(oa))}return Tt=Tt.concat(fn),ce._inCalcTicks=!1,Qe&&Tt.length&&(Tt[0].noTick=!0),Tt};function ke(me,ce){return me.rangebreaks&&(ce=ce.filter(function(it){return me.maskBreaks(it.x)!==oe})),ce}function Le(me){var ce=me._mainAxis,it=[];if(ce._vals){for(var tt=0;tt<ce._vals.length;tt++)if(!ce._vals[tt].noTick){var Ze=ce.l2p(ce._vals[tt].x),Ye=me.p2l(Ze),Qe=he.tickText(me,Ye);ce._vals[tt].minor&&(Qe.minor=!0,Qe.text=""),it.push(Qe)}}return it=ke(me,it),it}function He(me,ce){var it=f.simpleMap(me.range,me.r2l),tt=R(it),Ze=Math.min(tt[0],tt[1]),Ye=Math.max(tt[0],tt[1]),Qe=me.type==="category"?me.d2l_noadd:me.d2l;me.type==="log"&&String(me.dtick).charAt(0)!=="L"&&(me.dtick="L"+Math.pow(10,Math.floor(Math.min(me.range[0],me.range[1]))-1));for(var mt=[],st=0;st<=1;st++)if(!(ce!==void 0&&(ce&&st||ce===!1&&!st))&&!(st&&!me.minor)){var yt=st?me.minor.tickvals:me.tickvals,Ct=st?[]:me.ticktext;if(yt){f.isArrayOrTypedArray(Ct)||(Ct=[]);for(var wt=0;wt<yt.length;wt++){var Ot=Qe(yt[wt]);if(Ot>Ze&&Ot<Ye){var en=he.tickText(me,Ot,!1,String(Ct[wt]));st&&(en.minor=!0,en.text=""),mt.push(en)}}}}return mt=ke(me,mt),mt}var Ve=[2,5,10],qe=[1,2,3,6,12],vt=[1,2,5,10,15,30],At=[1,2,3,7,14],Dt=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],bt=[-.301,0,.301,.699,1],xt=[15,30,45,90,180];function Et(me,ce,it){return ce*f.roundUp(me/ce,it)}he.autoTicks=function(me,ce,it){var tt;function Ze(wt){return Math.pow(wt,Math.floor(Math.log(ce)/Math.LN10))}if(me.type==="date"){me.tick0=f.dateTick0(me.calendar,0);var Ye=2*ce;if(Ye>D)ce/=D,tt=Ze(10),me.dtick="M"+12*Et(ce,tt,Ve);else if(Ye>I)ce/=I,me.dtick="M"+Et(ce,1,qe);else if(Ye>H){if(me.dtick=Et(ce,H,me._hasDayOfWeekBreaks?[1,2,7,14]:At),!it){var Qe=he.getTickFormat(me),mt=me.ticklabelmode==="period";mt&&(me._rawTick0=me.tick0),/%[uVW]/.test(Qe)?me.tick0=f.dateTick0(me.calendar,2):me.tick0=f.dateTick0(me.calendar,1),mt&&(me._dowTick0=me.tick0)}}else Ye>$?me.dtick=Et(ce,$,qe):Ye>N?me.dtick=Et(ce,N,vt):Ye>j?me.dtick=Et(ce,j,vt):(tt=Ze(10),me.dtick=Et(ce,tt,Ve))}else if(me.type==="log"){me.tick0=0;var st=f.simpleMap(me.range,me.r2l);if(me._isMinor&&(ce*=1.5),ce>.7)me.dtick=Math.ceil(ce);else if(Math.abs(st[1]-st[0])<1){var yt=1.5*Math.abs((st[1]-st[0])/ce);ce=Math.abs(Math.pow(10,st[1])-Math.pow(10,st[0]))/yt,tt=Ze(10),me.dtick="L"+Et(ce,tt,Ve)}else me.dtick=ce>.3?"D2":"D1"}else me.type==="category"||me.type==="multicategory"?(me.tick0=0,me.dtick=Math.ceil(Math.max(ce,1))):Un(me)?(me.tick0=0,tt=1,me.dtick=Et(ce,tt,xt)):(me.tick0=0,tt=Ze(10),me.dtick=Et(ce,tt,Ve));if(me.dtick===0&&(me.dtick=1),!c(me.dtick)&&typeof me.dtick!="string"){var Ct=me.dtick;throw me.dtick=1,"ax.dtick error: "+String(Ct)}};function pt(me){var ce=me.dtick;if(me._tickexponent=0,!c(ce)&&typeof ce!="string"&&(ce=1),(me.type==="category"||me.type==="multicategory")&&(me._tickround=null),me.type==="date"){var it=me.r2l(me.tick0),tt=me.l2r(it).replace(/(^-|i)/g,""),Ze=tt.length;if(String(ce).charAt(0)==="M")Ze>10||tt.substr(5)!=="01-01"?me._tickround="d":me._tickround=+ce.substr(1)%12===0?"y":"m";else if(ce>=H&&Ze<=10||ce>=H*15)me._tickround="d";else if(ce>=N&&Ze<=16||ce>=$)me._tickround="M";else if(ce>=j&&Ze<=19||ce>=N)me._tickround="S";else{var Ye=me.l2r(it+ce).replace(/^-/,"").length;me._tickround=Math.max(Ze,Ye)-20,me._tickround<0&&(me._tickround=4)}}else if(c(ce)||ce.charAt(0)==="L"){var Qe=me.range.map(me.r2d||Number);c(ce)||(ce=Number(ce.substr(1))),me._tickround=2-Math.floor(Math.log(ce)/Math.LN10+.01);var mt=Math.max(Math.abs(Qe[0]),Math.abs(Qe[1])),st=Math.floor(Math.log(mt)/Math.LN10+.01),yt=me.minexponent===void 0?3:me.minexponent;Math.abs(st)>yt&&(ve(me.exponentformat)&&!ge(st)?me._tickexponent=3*Math.round((st-1)/3):me._tickexponent=st)}else me._tickround=null}he.tickIncrement=function(me,ce,it,tt){var Ze=it?-1:1;if(c(ce))return f.increment(me,Ze*ce);var Ye=ce.charAt(0),Qe=Ze*Number(ce.substr(1));if(Ye==="M")return f.incrementMonth(me,Qe,tt);if(Ye==="L")return Math.log(Math.pow(10,me)+Qe)/Math.LN10;if(Ye==="D"){var mt=ce==="D2"?bt:Dt,st=me+Ze*.01,yt=f.roundUp(f.mod(st,1),mt,it);return Math.floor(st)+Math.log(o.round(Math.pow(10,yt),1))/Math.LN10}throw"unrecognized dtick "+String(ce)},he.tickFirst=function(me,ce){var it=me.r2l||Number,tt=f.simpleMap(me.range,it,void 0,void 0,ce),Ze=tt[1]<tt[0],Ye=Ze?Math.floor:Math.ceil,Qe=R(tt)[0],mt=me.dtick,st=it(me.tick0);if(c(mt)){var yt=Ye((Qe-st)/mt)*mt+st;return(me.type==="category"||me.type==="multicategory")&&(yt=f.constrain(yt,0,me._categories.length-1)),yt}var Ct=mt.charAt(0),wt=Number(mt.substr(1));if(Ct==="M"){for(var Ot=0,en=st,Tt,fn,Zt;Ot<10;){if(Tt=he.tickIncrement(en,mt,Ze,me.calendar),(Tt-Qe)*(en-Qe)<=0)return Ze?Math.min(en,Tt):Math.max(en,Tt);fn=(Qe-(en+Tt)/2)/(Tt-en),Zt=Ct+(Math.abs(Math.round(fn))||1)*wt,en=he.tickIncrement(en,Zt,fn<0?!Ze:Ze,me.calendar),Ot++}return f.error("tickFirst did not converge",me),en}else{if(Ct==="L")return Math.log(Ye((Math.pow(10,Qe)-st)/wt)*wt+st)/Math.LN10;if(Ct==="D"){var an=mt==="D2"?bt:Dt,ln=f.roundUp(f.mod(Qe,1),an,Ze);return Math.floor(Qe)+Math.log(o.round(Math.pow(10,ln),1))/Math.LN10}else throw"unrecognized dtick "+String(mt)}},he.tickText=function(me,ce,it,tt){var Ze=Rt(me,ce),Ye=me.tickmode==="array",Qe=it||Ye,mt=me.type,st=mt==="category"?me.d2l_noadd:me.d2l,yt,Ct=function(Zt){var an=me.l2p(Zt);return an>=0&&an<=me._length?Zt:null};if(Ye&&f.isArrayOrTypedArray(me.ticktext)){var wt=f.simpleMap(me.range,me.r2l),Ot=(Math.abs(wt[1]-wt[0])-(me._lBreaks||0))/1e4;for(yt=0;yt<me.ticktext.length&&!(Math.abs(ce-st(me.tickvals[yt]))<Ot);yt++);if(yt<me.ticktext.length)return Ze.text=String(me.ticktext[yt]),Ze.xbnd=[Ct(Ze.x-.5),Ct(Ze.x+me.dtick-.5)],Ze}function en(Zt){if(Zt===void 0)return!0;if(it)return Zt==="none";var an={first:me._tmin,last:me._tmax}[Zt];return Zt!=="all"&&ce!==an}var Tt=it?"never":me.exponentformat!=="none"&&en(me.showexponent)?"hide":"";if(mt==="date"?Wt(me,Ze,it,Qe):mt==="log"?Vt(me,Ze,it,Qe,Tt):mt==="category"?Yt(me,Ze):mt==="multicategory"?et(me,Ze,it):Un(me)?gt(me,Ze,it,Qe,Tt):ct(me,Ze,it,Qe,Tt),tt||(me.tickprefix&&!en(me.showtickprefix)&&(Ze.text=me.tickprefix+Ze.text),me.ticksuffix&&!en(me.showticksuffix)&&(Ze.text+=me.ticksuffix)),me.labelalias&&me.labelalias.hasOwnProperty(Ze.text)){var fn=me.labelalias[Ze.text];typeof fn=="string"&&(Ze.text=fn)}return(me.tickson==="boundaries"||me.showdividers)&&(Ze.xbnd=[Ct(Ze.x-.5),Ct(Ze.x+me.dtick-.5)]),Ze},he.hoverLabelText=function(me,ce,it){it&&(me=f.extendFlat({},me,{hoverformat:it}));var tt=f.isArrayOrTypedArray(ce)?ce[0]:ce,Ze=f.isArrayOrTypedArray(ce)?ce[1]:void 0;if(Ze!==void 0&&Ze!==tt)return he.hoverLabelText(me,tt,it)+" - "+he.hoverLabelText(me,Ze,it);var Ye=me.type==="log"&&tt<=0,Qe=he.tickText(me,me.c2l(Ye?-tt:tt),"hover").text;return Ye?tt===0?"0":ie+Qe:Qe};function Rt(me,ce,it){var tt=me.tickfont||{};return{x:ce,dx:0,dy:0,text:it||"",fontSize:tt.size,font:tt.family,fontWeight:tt.weight,fontStyle:tt.style,fontVariant:tt.variant,fontTextcase:tt.textcase,fontLineposition:tt.lineposition,fontShadow:tt.shadow,fontColor:tt.color}}function Wt(me,ce,it,tt){var Ze=me._tickround,Ye=it&&me.hoverformat||he.getTickFormat(me);tt=!Ye&&tt,tt&&(c(Ze)?Ze=4:Ze={y:"m",m:"d",d:"M",M:"S",S:4}[Ze]);var Qe=f.formatDate(ce.x,Ye,Ze,me._dateFormat,me.calendar,me._extraFormat),mt,st=Qe.indexOf(`
`);if(st!==-1&&(mt=Qe.substr(st+1),Qe=Qe.substr(0,st)),tt&&(mt!==void 0&&(Qe==="00:00:00"||Qe==="00:00")?(Qe=mt,mt=""):Qe.length===8&&(Qe=Qe.replace(/:00$/,""))),mt)if(it)Ze==="d"?Qe+=", "+mt:Qe=mt+(Qe?", "+Qe:"");else if(!me._inCalcTicks||me._prevDateHead!==mt)me._prevDateHead=mt,Qe+="<br>"+mt;else{var yt=Jn(me),Ct=me._trueSide||me.side;(!yt&&Ct==="top"||yt&&Ct==="bottom")&&(Qe+="<br> ")}ce.text=Qe}function Vt(me,ce,it,tt,Ze){var Ye=me.dtick,Qe=ce.x,mt=me.tickformat,st=typeof Ye=="string"&&Ye.charAt(0);if(Ze==="never"&&(Ze=""),tt&&st!=="L"&&(Ye="L3",st="L"),mt||st==="L")ce.text=Re(Math.pow(10,Qe),me,Ze,tt);else if(c(Ye)||st==="D"&&f.mod(Qe+.01,1)<.1){var yt=Math.round(Qe),Ct=Math.abs(yt),wt=me.exponentformat;wt==="power"||ve(wt)&&ge(yt)?(yt===0?ce.text=1:yt===1?ce.text="10":ce.text="10<sup>"+(yt>1?"":ie)+Ct+"</sup>",ce.fontSize*=1.25):(wt==="e"||wt==="E")&&Ct>2?ce.text="1"+wt+(yt>0?"+":ie)+Ct:(ce.text=Re(Math.pow(10,Qe),me,"","fakehover"),Ye==="D1"&&me._id.charAt(0)==="y"&&(ce.dy-=ce.fontSize/6))}else if(st==="D")ce.text=String(Math.round(Math.pow(10,f.mod(Qe,1)))),ce.fontSize*=.75;else throw"unrecognized dtick "+String(Ye);if(me.dtick==="D1"){var Ot=String(ce.text).charAt(0);(Ot==="0"||Ot==="1")&&(me._id.charAt(0)==="y"?ce.dx-=ce.fontSize/4:(ce.dy+=ce.fontSize/2,ce.dx+=(me.range[1]>me.range[0]?1:-1)*ce.fontSize*(Qe<0?.5:.25)))}}function Yt(me,ce){var it=me._categories[Math.round(ce.x)];it===void 0&&(it=""),ce.text=String(it)}function et(me,ce,it){var tt=Math.round(ce.x),Ze=me._categories[tt]||[],Ye=Ze[1]===void 0?"":String(Ze[1]),Qe=Ze[0]===void 0?"":String(Ze[0]);it?ce.text=Qe+" - "+Ye:(ce.text=Ye,ce.text2=Qe)}function ct(me,ce,it,tt,Ze){Ze==="never"?Ze="":me.showexponent==="all"&&Math.abs(ce.x/me.dtick)<1e-6&&(Ze="hide"),ce.text=Re(ce.x,me,Ze,tt)}function gt(me,ce,it,tt,Ze){if(me.thetaunit==="radians"&&!it){var Ye=ce.x/180;if(Ye===0)ce.text="0";else{var Qe=_e(Ye);if(Qe[1]>=100)ce.text=Re(f.deg2rad(ce.x),me,Ze,tt);else{var mt=ce.x<0;Qe[1]===1?Qe[0]===1?ce.text="\u03C0":ce.text=Qe[0]+"\u03C0":ce.text=["<sup>",Qe[0],"</sup>","\u2044","<sub>",Qe[1],"</sub>","\u03C0"].join(""),mt&&(ce.text=ie+ce.text)}}}else ce.text=Re(ce.x,me,Ze,tt)}function _e(me){function ce(mt,st){return Math.abs(mt-st)<=1e-6}function it(mt,st){return ce(st,0)?mt:it(st,mt%st)}function tt(mt){for(var st=1;!ce(Math.round(mt*st)/st,mt);)st*=10;return st}var Ze=tt(me),Ye=me*Ze,Qe=Math.abs(it(Ye,Ze));return[Math.round(Ye/Qe),Math.round(Ze/Qe)]}var Be=["f","p","n","\u03BC","m","","k","M","G","T"];function ve(me){return me==="SI"||me==="B"}function ge(me){return me>14||me<-15}function Re(me,ce,it,tt){var Ze=me<0,Ye=ce._tickround,Qe=it||ce.exponentformat||"B",mt=ce._tickexponent,st=he.getTickFormat(ce),yt=ce.separatethousands;if(tt){var Ct={exponentformat:Qe,minexponent:ce.minexponent,dtick:ce.showexponent==="none"?ce.dtick:c(me)&&Math.abs(me)||1,range:ce.showexponent==="none"?ce.range.map(ce.r2d):[0,me||1]};pt(Ct),Ye=(Number(Ct._tickround)||0)+4,mt=Ct._tickexponent,ce.hoverformat&&(st=ce.hoverformat)}if(st)return ce._numFormat(st)(me).replace(/-/g,ie);var wt=Math.pow(10,-Ye)/2;if(Qe==="none"&&(mt=0),me=Math.abs(me),me<wt)me="0",Ze=!1;else{if(me+=wt,mt&&(me*=Math.pow(10,-mt),Ye+=mt),Ye===0)me=String(Math.floor(me));else if(Ye<0){me=String(Math.round(me)),me=me.substr(0,me.length+Ye);for(var Ot=Ye;Ot<0;Ot++)me+="0"}else{me=String(me);var en=me.indexOf(".")+1;en&&(me=me.substr(0,en+Ye).replace(/\.?0+$/,""))}me=f.numSeparate(me,ce._separators,yt)}if(mt&&Qe!=="hide"){ve(Qe)&&ge(mt)&&(Qe="power");var Tt;mt<0?Tt=ie+-mt:Qe!=="power"?Tt="+"+mt:Tt=String(mt),Qe==="e"||Qe==="E"?me+=Qe+Tt:Qe==="power"?me+="\xD710<sup>"+Tt+"</sup>":Qe==="B"&&mt===9?me+="B":ve(Qe)&&(me+=Be[mt/3+5])}return Ze?ie+me:me}he.getTickFormat=function(me){var ce;function it(st){return typeof st!="string"?st:Number(st.replace("M",""))*I}function tt(st,yt){var Ct=["L","D"];if(typeof st==typeof yt){if(typeof st=="number")return st-yt;var wt=Ct.indexOf(st.charAt(0)),Ot=Ct.indexOf(yt.charAt(0));return wt===Ot?Number(st.replace(/(L|D)/g,""))-Number(yt.replace(/(L|D)/g,"")):wt-Ot}else return typeof st=="number"?1:-1}function Ze(st,yt,Ct){var wt=Ct||function(Tt){return Tt},Ot=yt[0],en=yt[1];return(!Ot&&typeof Ot!="number"||wt(Ot)<=wt(st))&&(!en&&typeof en!="number"||wt(en)>=wt(st))}function Ye(st,yt){var Ct=yt[0]===null,wt=yt[1]===null,Ot=tt(st,yt[0])>=0,en=tt(st,yt[1])<=0;return(Ct||Ot)&&(wt||en)}var Qe,mt;if(me.tickformatstops&&me.tickformatstops.length>0)switch(me.type){case"date":case"linear":{for(ce=0;ce<me.tickformatstops.length;ce++)if(mt=me.tickformatstops[ce],mt.enabled&&Ze(me.dtick,mt.dtickrange,it)){Qe=mt;break}break}case"log":{for(ce=0;ce<me.tickformatstops.length;ce++)if(mt=me.tickformatstops[ce],mt.enabled&&Ye(me.dtick,mt.dtickrange)){Qe=mt;break}break}default:}return Qe?Qe.value:me.tickformat},he.getSubplots=function(me,ce){var it=me._fullLayout._subplots,tt=it.cartesian.concat(it.gl2d||[]),Ze=ce?he.findSubplotsWithAxis(tt,ce):tt;return Ze.sort(function(Ye,Qe){var mt=Ye.substr(1).split("y"),st=Qe.substr(1).split("y");return mt[0]===st[0]?+mt[1]-+st[1]:+mt[0]-+st[0]}),Ze},he.findSubplotsWithAxis=function(me,ce){for(var it=new RegExp(ce._id.charAt(0)==="x"?"^"+ce._id+"y":ce._id+"$"),tt=[],Ze=0;Ze<me.length;Ze++){var Ye=me[Ze];it.test(Ye)&&tt.push(Ye)}return tt},he.makeClipPaths=function(me){var ce=me._fullLayout;if(!ce._hasOnlyLargeSploms){var it={_offset:0,_length:ce.width,_id:""},tt={_offset:0,_length:ce.height,_id:""},Ze=he.list(me,"x",!0),Ye=he.list(me,"y",!0),Qe=[],mt,st;for(mt=0;mt<Ze.length;mt++)for(Qe.push({x:Ze[mt],y:tt}),st=0;st<Ye.length;st++)mt===0&&Qe.push({x:it,y:Ye[st]}),Qe.push({x:Ze[mt],y:Ye[st]});var yt=ce._clips.selectAll(".axesclip").data(Qe,function(Ct){return Ct.x._id+Ct.y._id});yt.enter().append("clipPath").classed("axesclip",!0).attr("id",function(Ct){return"clip"+ce._uid+Ct.x._id+Ct.y._id}).append("rect"),yt.exit().remove(),yt.each(function(Ct){o.select(this).select("rect").attr({x:Ct.x._offset||0,y:Ct.y._offset||0,width:Ct.x._length||1,height:Ct.y._length||1})})}},he.draw=function(me,ce,it){var tt=me._fullLayout;ce==="redraw"&&tt._paper.selectAll("g.subplot").each(function(st){var yt=st[0],Ct=tt._plots[yt];if(Ct){var wt=Ct.xaxis,Ot=Ct.yaxis;Ct.xaxislayer.selectAll("."+wt._id+"tick").remove(),Ct.yaxislayer.selectAll("."+Ot._id+"tick").remove(),Ct.xaxislayer.selectAll("."+wt._id+"tick2").remove(),Ct.yaxislayer.selectAll("."+Ot._id+"tick2").remove(),Ct.xaxislayer.selectAll("."+wt._id+"divider").remove(),Ct.yaxislayer.selectAll("."+Ot._id+"divider").remove(),Ct.minorGridlayer&&Ct.minorGridlayer.selectAll("path").remove(),Ct.gridlayer&&Ct.gridlayer.selectAll("path").remove(),Ct.zerolinelayer&&Ct.zerolinelayer.selectAll("path").remove(),tt._infolayer.select(".g-"+wt._id+"title").remove(),tt._infolayer.select(".g-"+Ot._id+"title").remove()}});var Ze=!ce||ce==="redraw"?he.listIds(me):ce,Ye=he.list(me),Qe=Ye.filter(function(st){return st.autoshift}).map(function(st){return st.overlaying});Ze.map(function(st){var yt=he.getFromId(me,st);if(yt.tickmode==="sync"&&yt.overlaying){var Ct=Ze.findIndex(function(wt){return wt===yt.overlaying});Ct>=0&&Ze.unshift(Ze.splice(Ct,1).shift())}});var mt={false:{left:0,right:0}};return f.syncOrAsync(Ze.map(function(st){return function(){if(st){var yt=he.getFromId(me,st);it||(it={}),it.axShifts=mt,it.overlayingShiftedAx=Qe;var Ct=he.drawOne(me,yt,it);return yt._shiftPusher&&Qn(yt,yt._fullDepth||0,mt,!0),yt._r=yt.range.slice(),yt._rl=f.simpleMap(yt._r,yt.r2l),Ct}}}))},he.drawOne=function(me,ce,it){it=it||{};var tt=it.axShifts||{},Ze=it.overlayingShiftedAx||[],Ye,Qe,mt;ce.setScale();var st=me._fullLayout,yt=ce._id,Ct=yt.charAt(0),wt=he.counterLetter(yt),Ot=st._plots[ce._mainSubplot];if(!Ot)return;if(ce._shiftPusher=ce.autoshift||Ze.indexOf(ce._id)!==-1||Ze.indexOf(ce.overlaying)!==-1,ce._shiftPusher&ce.anchor==="free"){var en=ce.linewidth/2||0;ce.ticks==="inside"&&(en+=ce.ticklen),Qn(ce,en,tt,!0),Qn(ce,ce.shift||0,tt,!1)}(it.skipTitle!==!0||ce._shift===void 0)&&(ce._shift=Vn(ce,tt));var Tt=Ot[Ct+"axislayer"],fn=ce._mainLinePosition,Zt=fn+=ce._shift,an=ce._mainMirrorPosition,ln=ce._vals=he.calcTicks(ce),En=[ce.mirror,Zt,an].join("_");for(Ye=0;Ye<ln.length;Ye++)ln[Ye].axInfo=En;ce._selections={},ce._tickAngles&&(ce._prevTickAngles=ce._tickAngles),ce._tickAngles={},ce._depth=null;var Gn={};function sr(ga){var ha=yt+(ga||"tick");return Gn[ha]||(Gn[ha]=Mt(ce,ha,Zt)),Gn[ha]}if(ce.visible){var Yn=he.makeTransTickFn(ce),Xr=he.makeTransTickLabelFn(ce),Mr,Ur,ta=ce.ticks==="inside",Va=ce.ticks==="outside";if(ce.tickson==="boundaries"){var ei=Ue(ce,ln);Ur=he.clipEnds(ce,ei),Mr=ta?Ur:ei}else Ur=he.clipEnds(ce,ln),Mr=ta&&ce.ticklabelmode!=="period"?Ur:ln;var Fi=ce._gridVals=Ur,_i=St(ce,ln);if(!st._hasOnlyLargeSploms){var lr=ce._subplotsWith,br={};for(Ye=0;Ye<lr.length;Ye++){Qe=lr[Ye],mt=st._plots[Qe];var cr=mt[wt+"axis"],vr=cr._mainAxis._id;if(!br[vr]){br[vr]=1;var Zr=Ct==="x"?"M0,"+cr._offset+"v"+cr._length:"M"+cr._offset+",0h"+cr._length;he.drawGrid(me,ce,{vals:Fi,counterAxis:cr,layer:mt.gridlayer.select("."+yt),minorLayer:mt.minorGridlayer.select("."+yt),path:Zr,transFn:Yn}),he.drawZeroLine(me,ce,{counterAxis:cr,layer:mt.zerolinelayer,path:Zr,transFn:Yn})}}}var gr,Dr=he.getTickSigns(ce),Ti=he.getTickSigns(ce,"minor");if(ce.ticks||ce.minor&&ce.minor.ticks){var Zi=he.makeTickPath(ce,Zt,Dr[2]),Ii=he.makeTickPath(ce,Zt,Ti[2],{minor:!0}),ki,ti,Ai,Ni;if(ce._anchorAxis&&ce.mirror&&ce.mirror!==!0?(ki=he.makeTickPath(ce,an,Dr[3]),ti=he.makeTickPath(ce,an,Ti[3],{minor:!0}),Ai=Zi+ki,Ni=Ii+ti):(ki="",ti="",Ai=Zi,Ni=Ii),ce.showdividers&&Va&&ce.tickson==="boundaries"){var Pa={};for(Ye=0;Ye<_i.length;Ye++)Pa[_i[Ye].x]=1;gr=function(ga){return Pa[ga.x]?ki:Ai}}else gr=function(ga){return ga.minor?Ni:Ai}}if(he.drawTicks(me,ce,{vals:Mr,layer:Tt,path:gr,transFn:Yn}),ce.mirror==="allticks"){var ni=Object.keys(ce._linepositions||{});for(Ye=0;Ye<ni.length;Ye++){Qe=ni[Ye],mt=st._plots[Qe];var Ki=ce._linepositions[Qe]||[],Ja=Ki[0],bs=Ki[1],Is=Ki[2],qa=he.makeTickPath(ce,Ja,Is?Dr[0]:Ti[0],{minor:Is})+he.makeTickPath(ce,bs,Is?Dr[1]:Ti[1],{minor:Is});he.drawTicks(me,ce,{vals:Mr,layer:mt[Ct+"axislayer"],path:qa,transFn:Yn})}}var wa=[];if(wa.push(function(){return he.drawLabels(me,ce,{vals:ln,layer:Tt,plotinfo:mt,transFn:Xr,labelFns:he.makeLabelFns(ce,Zt)})}),ce.type==="multicategory"){var ao={x:2,y:10}[Ct];wa.push(function(){var ga={x:"height",y:"width"}[Ct],ha=sr()[ga]+ao+(ce._tickAngles[yt+"tick"]?ce.tickfont.size*ze:0);return he.drawLabels(me,ce,{vals:We(ce,ln),layer:Tt,cls:yt+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Yn,labelFns:he.makeLabelFns(ce,Zt+ha*Dr[4])})}),wa.push(function(){return ce._depth=Dr[4]*(sr("tick2")[ce.side]-Zt),Xt(me,ce,{vals:_i,layer:Tt,path:he.makeTickPath(ce,Zt,Dr[4],{len:ce._depth}),transFn:Yn})})}else ce.title.hasOwnProperty("standoff")&&wa.push(function(){ce._depth=Dr[4]*(sr()[ce.side]-Zt)});var oa=u.getComponentMethod("rangeslider","isVisible")(ce);return!it.skipTitle&&!(oa&&ce.side==="bottom")&&wa.push(function(){return pn(me,ce)}),wa.push(function(){var ga=ce.side.charAt(0),ha=Te[ce.side].charAt(0),Vi=he.getPxPosition(me,ce),Qi=Va?ce.ticklen:0,wr,Pi,Xs,Hi;(ce.automargin||oa||ce._shiftPusher)&&(ce.type==="multicategory"?wr=sr("tick2"):(wr=sr(),Ct==="x"&&ga==="b"&&(ce._depth=Math.max(wr.width>0?wr.bottom-Vi:0,Qi))));var $s=0,j2=0;if(ce._shiftPusher&&($s=Math.max(Qi,wr.height>0?ga==="l"?Vi-wr.left:wr.right-Vi:0),ce.title.text!==st._dfltTitle[Ct]&&(j2=(ce._titleStandoff||0)+(ce._titleScoot||0),ga==="l"&&(j2+=sn(ce))),ce._fullDepth=Math.max($s,j2)),ce.automargin){Pi={x:0,y:0,r:0,l:0,t:0,b:0};var u1=[0,1],B1=typeof ce._shift=="number"?ce._shift:0;if(Ct==="x"){if(ga==="b"?Pi[ga]=ce._depth:(Pi[ga]=ce._depth=Math.max(wr.width>0?Vi-wr.top:0,Qi),u1.reverse()),wr.width>0){var V0=wr.right-(ce._offset+ce._length);V0>0&&(Pi.xr=1,Pi.r=V0);var G2=ce._offset-wr.left;G2>0&&(Pi.xl=0,Pi.l=G2)}}else if(ga==="l"?(ce._depth=Math.max(wr.height>0?Vi-wr.left:0,Qi),Pi[ga]=ce._depth-B1):(ce._depth=Math.max(wr.height>0?wr.right-Vi:0,Qi),Pi[ga]=ce._depth+B1,u1.reverse()),wr.height>0){var u2=wr.bottom-(ce._offset+ce._length);u2>0&&(Pi.yb=0,Pi.b=u2);var V1=ce._offset-wr.top;V1>0&&(Pi.yt=1,Pi.t=V1)}Pi[wt]=ce.anchor==="free"?ce.position:ce._anchorAxis.domain[u1[0]],ce.title.text!==st._dfltTitle[Ct]&&(Pi[ga]+=sn(ce)+(ce.title.standoff||0)),ce.mirror&&ce.anchor!=="free"&&(Xs={x:0,y:0,r:0,l:0,t:0,b:0},Xs[ha]=ce.linewidth,ce.mirror&&ce.mirror!==!0&&(Xs[ha]+=Qi),ce.mirror===!0||ce.mirror==="ticks"?Xs[wt]=ce._anchorAxis.domain[u1[1]]:(ce.mirror==="all"||ce.mirror==="allticks")&&(Xs[wt]=[ce._counterDomainMin,ce._counterDomainMax][u1[1]]))}oa&&(Hi=u.getComponentMethod("rangeslider","autoMarginOpts")(me,ce)),typeof ce.automargin=="string"&&(Fe(Pi,ce.automargin),Fe(Xs,ce.automargin)),l.autoMargin(me,yn(ce),Pi),l.autoMargin(me,xn(ce),Xs),l.autoMargin(me,Pn(ce),Hi)}),f.syncOrAsync(wa)}};function Fe(me,ce){if(me){var it=Object.keys(te).reduce(function(tt,Ze){return ce.indexOf(Ze)!==-1&&te[Ze].forEach(function(Ye){tt[Ye]=1}),tt},{});Object.keys(me).forEach(function(tt){it[tt]||(tt.length===1?me[tt]=0:delete me[tt])})}}function Ue(me,ce){var it=[],tt,Ze=function(Ye,Qe){var mt=Ye.xbnd[Qe];mt!==null&&it.push(f.extendFlat({},Ye,{x:mt}))};if(ce.length){for(tt=0;tt<ce.length;tt++)Ze(ce[tt],0);Ze(ce[tt-1],1)}return it}function We(me,ce){for(var it=[],tt={},Ze=0;Ze<ce.length;Ze++){var Ye=ce[Ze];tt[Ye.text2]?tt[Ye.text2].push(Ye.x):tt[Ye.text2]=[Ye.x]}for(var Qe in tt)it.push(Rt(me,f.interp(tt[Qe],.5),Qe));return it}function St(me,ce){var it=[],tt,Ze,Ye=ce.length&&ce[ce.length-1].x<ce[0].x,Qe=function(st,yt){var Ct=st.xbnd[yt];Ct!==null&&it.push(f.extendFlat({},st,{x:Ct}))};if(me.showdividers&&ce.length){for(tt=0;tt<ce.length;tt++){var mt=ce[tt];mt.text2!==Ze&&Qe(mt,Ye?1:0),Ze=mt.text2}Qe(ce[tt-1],Ye?0:1)}return it}function Mt(me,ce,it){var tt,Ze,Ye,Qe;if(me._selections[ce].size())tt=1/0,Ze=-1/0,Ye=1/0,Qe=-1/0,me._selections[ce].each(function(){var st=Cn(this),yt=y.bBox(st.node().parentNode);tt=Math.min(tt,yt.top),Ze=Math.max(Ze,yt.bottom),Ye=Math.min(Ye,yt.left),Qe=Math.max(Qe,yt.right)});else{var mt=he.makeLabelFns(me,it);tt=Ze=mt.yFn({dx:0,dy:0,fontSize:0}),Ye=Qe=mt.xFn({dx:0,dy:0,fontSize:0})}return{top:tt,bottom:Ze,left:Ye,right:Qe,height:Ze-tt,width:Qe-Ye}}he.getTickSigns=function(me,ce){var it=me._id.charAt(0),tt={x:"top",y:"right"}[it],Ze=me.side===tt?1:-1,Ye=[-1,1,Ze,-Ze],Qe=ce?(me.minor||{}).ticks:me.ticks;return Qe!=="inside"==(it==="x")&&(Ye=Ye.map(function(mt){return-mt})),me.side&&Ye.push({l:-1,t:-1,r:1,b:1}[me.side.charAt(0)]),Ye},he.makeTransTickFn=function(me){return me._id.charAt(0)==="x"?function(ce){return h(me._offset+me.l2p(ce.x),0)}:function(ce){return h(0,me._offset+me.l2p(ce.x))}},he.makeTransTickLabelFn=function(me){var ce=Xe(me),it=me.ticklabelshift||0,tt=me.ticklabelstandoff||0,Ze=ce[0],Ye=ce[1],Qe=me.range[0]>me.range[1],mt=me.ticklabelposition&&me.ticklabelposition.indexOf("inside")!==-1,st=!mt;if(it){var yt=Qe?-1:1;it=it*yt}if(tt){var Ct=me.side,wt=mt&&(Ct==="top"||Ct==="left")||st&&(Ct==="bottom"||Ct==="right")?1:-1;tt=tt*wt}return me._id.charAt(0)==="x"?function(Ot){return h(Ze+me._offset+me.l2p(ot(Ot))+it,Ye+tt)}:function(Ot){return h(Ye+tt,Ze+me._offset+me.l2p(ot(Ot))+it)}};function ot(me){return me.periodX!==void 0?me.periodX:me.x}function Xe(me){var ce=me.ticklabelposition||"",it=function(en){return ce.indexOf(en)!==-1},tt=it("top"),Ze=it("left"),Ye=it("right"),Qe=it("bottom"),mt=it("inside"),st=Qe||Ze||tt||Ye;if(!st&&!mt)return[0,0];var yt=me.side,Ct=st?(me.tickwidth||0)/2:0,wt=ye,Ot=me.tickfont?me.tickfont.size:12;return(Qe||tt)&&(Ct+=Ot*Se,wt+=(me.linewidth||0)/2),(Ze||Ye)&&(Ct+=(me.linewidth||0)/2,wt+=ye),mt&&yt==="top"&&(wt-=Ot*(1-Se)),(Ze||tt)&&(Ct=-Ct),(yt==="bottom"||yt==="right")&&(wt=-wt),[st?Ct:0,mt?wt:0]}he.makeTickPath=function(me,ce,it,tt){tt||(tt={});var Ze=tt.minor;if(Ze&&!me.minor)return"";var Ye=tt.len!==void 0?tt.len:Ze?me.minor.ticklen:me.ticklen,Qe=me._id.charAt(0),mt=(me.linewidth||1)/2;return Qe==="x"?"M0,"+(ce+mt*it)+"v"+Ye*it:"M"+(ce+mt*it)+",0h"+Ye*it},he.makeLabelFns=function(me,ce,it){var tt=me.ticklabelposition||"",Ze=function(ei){return tt.indexOf(ei)!==-1},Ye=Ze("top"),Qe=Ze("left"),mt=Ze("right"),st=Ze("bottom"),yt=st||Qe||Ye||mt,Ct=Ze("inside"),wt=tt==="inside"&&me.ticks==="inside"||!Ct&&me.ticks==="outside"&&me.tickson!=="boundaries",Ot=0,en=0,Tt=wt?me.ticklen:0;if(Ct?Tt*=-1:yt&&(Tt=0),wt&&(Ot+=Tt,it)){var fn=f.deg2rad(it);Ot=Tt*Math.cos(fn)+1,en=Tt*Math.sin(fn)}me.showticklabels&&(wt||me.showline)&&(Ot+=.2*me.tickfont.size),Ot+=(me.linewidth||1)/2*(Ct?-1:1);var Zt={labelStandoff:Ot,labelShift:en},an,ln,En,Gn,sr=0,Yn=me.side,Xr=me._id.charAt(0),Mr=me.tickangle,Ur;if(Xr==="x")Ur=!Ct&&Yn==="bottom"||Ct&&Yn==="top",Gn=Ur?1:-1,Ct&&(Gn*=-1),an=en*Gn,ln=ce+Ot*Gn,En=Ur?1:-.2,Math.abs(Mr)===90&&(Ct?En+=be:Mr===-90&&Yn==="bottom"?En=Se:Mr===90&&Yn==="top"?En=be:En=.5,sr=be/2*(Mr/90)),Zt.xFn=function(ei){return ei.dx+an+sr*ei.fontSize},Zt.yFn=function(ei){return ei.dy+ln+ei.fontSize*En},Zt.anchorFn=function(ei,Fi){if(yt){if(Qe)return"end";if(mt)return"start"}return!c(Fi)||Fi===0||Fi===180?"middle":Fi*Gn<0!==Ct?"end":"start"},Zt.heightFn=function(ei,Fi,_i){return Fi<-60||Fi>60?-.5*_i:me.side==="top"!==Ct?-_i:0};else if(Xr==="y"){if(Ur=!Ct&&Yn==="left"||Ct&&Yn==="right",Gn=Ur?1:-1,Ct&&(Gn*=-1),an=Ot,ln=en*Gn,En=0,!Ct&&Math.abs(Mr)===90&&(Mr===-90&&Yn==="left"||Mr===90&&Yn==="right"?En=Se:En=.5),Ct){var ta=c(Mr)?+Mr:0;if(ta!==0){var Va=f.deg2rad(ta);sr=Math.abs(Math.sin(Va))*Se*Gn,En=0}}Zt.xFn=function(ei){return ei.dx+ce-(an+ei.fontSize*En)*Gn+sr*ei.fontSize},Zt.yFn=function(ei){return ei.dy+ln+ei.fontSize*be},Zt.anchorFn=function(ei,Fi){return c(Fi)&&Math.abs(Fi)===90?"middle":Ur?"end":"start"},Zt.heightFn=function(ei,Fi,_i){return me.side==="right"&&(Fi*=-1),Fi<-30?-_i:Fi<30?-.5*_i:0}}return Zt};function _t(me){return[me.text,me.x,me.axInfo,me.font,me.fontSize,me.fontColor].join("_")}he.drawTicks=function(me,ce,it){it=it||{};var tt=ce._id+"tick",Ze=[].concat(ce.minor&&ce.minor.ticks?it.vals.filter(function(Qe){return Qe.minor&&!Qe.noTick}):[]).concat(ce.ticks?it.vals.filter(function(Qe){return!Qe.minor&&!Qe.noTick}):[]),Ye=it.layer.selectAll("path."+tt).data(Ze,_t);Ye.exit().remove(),Ye.enter().append("path").classed(tt,1).classed("ticks",1).classed("crisp",it.crisp!==!1).each(function(Qe){return d.stroke(o.select(this),Qe.minor?ce.minor.tickcolor:ce.tickcolor)}).style("stroke-width",function(Qe){return y.crispRound(me,Qe.minor?ce.minor.tickwidth:ce.tickwidth,1)+"px"}).attr("d",it.path).style("display",null),bn(ce,[Q]),Ye.attr("transform",it.transFn)},he.drawGrid=function(me,ce,it){if(it=it||{},ce.tickmode!=="sync"){var tt=ce._id+"grid",Ze=ce.minor&&ce.minor.showgrid,Ye=Ze?it.vals.filter(function(an){return an.minor}):[],Qe=ce.showgrid?it.vals.filter(function(an){return!an.minor}):[],mt=it.counterAxis;if(mt&&he.shouldShowZeroLine(me,ce,mt))for(var st=ce.tickmode==="array",yt=0;yt<Qe.length;yt++){var Ct=Qe[yt].x;if(st?!Ct:Math.abs(Ct)<ce.dtick/100)if(Qe=Qe.slice(0,yt).concat(Qe.slice(yt+1)),st)yt--;else break}ce._gw=y.crispRound(me,ce.gridwidth,1);for(var wt=Ze?y.crispRound(me,ce.minor.gridwidth,1):0,Ot=it.layer,en=it.minorLayer,Tt=1;Tt>=0;Tt--){var fn=Tt?Ot:en;if(fn){var Zt=fn.selectAll("path."+tt).data(Tt?Qe:Ye,_t);Zt.exit().remove(),Zt.enter().append("path").classed(tt,1).classed("crisp",it.crisp!==!1),Zt.attr("transform",it.transFn).attr("d",it.path).each(function(an){return d.stroke(o.select(this),an.minor?ce.minor.gridcolor:ce.gridcolor||"#ddd")}).style("stroke-dasharray",function(an){return y.dashStyle(an.minor?ce.minor.griddash:ce.griddash,an.minor?ce.minor.gridwidth:ce.gridwidth)}).style("stroke-width",function(an){return(an.minor?wt:ce._gw)+"px"}).style("display",null),typeof it.path=="function"&&Zt.attr("d",it.path)}}bn(ce,[W,Y])}},he.drawZeroLine=function(me,ce,it){it=it||it;var tt=ce._id+"zl",Ze=he.shouldShowZeroLine(me,ce,it.counterAxis),Ye=it.layer.selectAll("path."+tt).data(Ze?[{x:0,id:ce._id}]:[]);Ye.exit().remove(),Ye.enter().append("path").classed(tt,1).classed("zl",1).classed("crisp",it.crisp!==!1).each(function(){it.layer.selectAll("path").sort(function(Qe,mt){return ee(Qe.id,mt.id)})}),Ye.attr("transform",it.transFn).attr("d",it.path).call(d.stroke,ce.zerolinecolor||d.defaultLine).style("stroke-width",y.crispRound(me,ce.zerolinewidth,ce._gw||1)+"px").style("display",null),bn(ce,[V])},he.drawLabels=function(me,ce,it){it=it||{};var tt=me._fullLayout,Ze=ce._id,Ye=it.cls||Ze+"tick",Qe=it.vals.filter(function(vr){return vr.text}),mt=it.labelFns,st=it.secondary?0:ce.tickangle,yt=(ce._prevTickAngles||{})[Ye],Ct=it.layer.selectAll("g."+Ye).data(ce.showticklabels?Qe:[],_t),wt=[];Ct.enter().append("g").classed(Ye,1).append("text").attr("text-anchor","middle").each(function(vr){var Zr=o.select(this),gr=me._promises.length;Zr.call(p.positionText,mt.xFn(vr),mt.yFn(vr)).call(y.font,{family:vr.font,size:vr.fontSize,color:vr.fontColor,weight:vr.fontWeight,style:vr.fontStyle,variant:vr.fontVariant,textcase:vr.fontTextcase,lineposition:vr.fontLineposition,shadow:vr.fontShadow}).text(vr.text).call(p.convertToTspans,me),me._promises[gr]?wt.push(me._promises.pop().then(function(){Ot(Zr,st)})):Ot(Zr,st)}),bn(ce,[re]),Ct.exit().remove(),it.repositionOnUpdate&&Ct.each(function(vr){o.select(this).select("text").call(p.positionText,mt.xFn(vr),mt.yFn(vr))});function Ot(vr,Zr){vr.each(function(gr){var Dr=o.select(this),Ti=Dr.select(".text-math-group"),Zi=mt.anchorFn(gr,Zr),Ii=it.transFn.call(Dr.node(),gr)+(c(Zr)&&+Zr!=0?" rotate("+Zr+","+mt.xFn(gr)+","+(mt.yFn(gr)-gr.fontSize/2)+")":""),ki=p.lineCount(Dr),ti=ze*gr.fontSize,Ai=mt.heightFn(gr,c(Zr)?+Zr:0,(ki-1)*ti);if(Ai&&(Ii+=h(0,Ai)),Ti.empty()){var Ni=Dr.select("text");Ni.attr({transform:Ii,"text-anchor":Zi}),Ni.style("opacity",1),ce._adjustTickLabelsOverflow&&ce._adjustTickLabelsOverflow()}else{var Pa=y.bBox(Ti.node()).width,ni=Pa*{end:-.5,start:.5}[Zi];Ti.attr("transform",Ii+h(ni,0))}})}ce._adjustTickLabelsOverflow=function(){var vr=ce.ticklabeloverflow;if(!(!vr||vr==="allow")){var Zr=vr.indexOf("hide")!==-1,gr=ce._id.charAt(0)==="x",Dr=0,Ti=gr?me._fullLayout.width:me._fullLayout.height;if(vr.indexOf("domain")!==-1){var Zi=f.simpleMap(ce.range,ce.r2l);Dr=ce.l2p(Zi[0])+ce._offset,Ti=ce.l2p(Zi[1])+ce._offset}var Ii=Math.min(Dr,Ti),ki=Math.max(Dr,Ti),ti=ce.side,Ai=1/0,Ni=-1/0;Ct.each(function(Ja){var bs=o.select(this),Is=bs.select(".text-math-group");if(Is.empty()){var qa=y.bBox(bs.node()),wa=0;gr?(qa.right>ki||qa.left<Ii)&&(wa=1):(qa.bottom>ki||qa.top+(ce.tickangle?0:Ja.fontSize/4)<Ii)&&(wa=1);var ao=bs.select("text");wa?Zr&&ao.style("opacity",0):(ao.style("opacity",1),ti==="bottom"||ti==="right"?Ai=Math.min(Ai,gr?qa.top:qa.left):Ai=-1/0,ti==="top"||ti==="left"?Ni=Math.max(Ni,gr?qa.bottom:qa.right):Ni=1/0)}});for(var Pa in tt._plots){var ni=tt._plots[Pa];if(!(ce._id!==ni.xaxis._id&&ce._id!==ni.yaxis._id)){var Ki=gr?ni.yaxis:ni.xaxis;Ki&&(Ki["_visibleLabelMin_"+ce._id]=Ai,Ki["_visibleLabelMax_"+ce._id]=Ni)}}}},ce._hideCounterAxisInsideTickLabels=function(vr){var Zr=ce._id.charAt(0)==="x",gr=[];for(var Dr in tt._plots){var Ti=tt._plots[Dr];ce._id!==Ti.xaxis._id&&ce._id!==Ti.yaxis._id||gr.push(Zr?Ti.yaxis:Ti.xaxis)}gr.forEach(function(Zi,Ii){Zi&&Jn(Zi)&&(vr||[V,Y,W,Q,re]).forEach(function(ki){var ti=ki.K==="tick"&&ki.L==="text"&&ce.ticklabelmode==="period",Ai=tt._plots[ce._mainSubplot],Ni;ki.K===V.K?Ni=Ai.zerolinelayer.selectAll("."+ce._id+"zl"):ki.K===Y.K?Ni=Ai.minorGridlayer.selectAll("."+ce._id):ki.K===W.K?Ni=Ai.gridlayer.selectAll("."+ce._id):Ni=Ai[ce._id.charAt(0)+"axislayer"],Ni.each(function(){var Pa=o.select(this);ki.L&&(Pa=Pa.selectAll(ki.L)),Pa.each(function(ni){var Ki=ce.l2p(ti?ot(ni):ni.x)+ce._offset,Ja=o.select(this);Ki<ce["_visibleLabelMax_"+Zi._id]&&Ki>ce["_visibleLabelMin_"+Zi._id]?Ja.style("display","none"):ki.K==="tick"&&!Ii&&Ja.style("display",null)})})})})},Ot(Ct,yt+1?yt:st);function en(){return wt.length&&Promise.all(wt)}var Tt=null;function fn(){if(Ot(Ct,st),Qe.length&&ce.autotickangles&&(ce.type!=="log"||String(ce.dtick).charAt(0)!=="D")){Tt=ce.autotickangles[0];var vr=0,Zr=[],gr,Dr=1;Ct.each(function(wr){vr=Math.max(vr,wr.fontSize);var Pi=ce.l2p(wr.x),Xs=Cn(this),Hi=y.bBox(Xs.node());Dr=Math.max(Dr,p.lineCount(Xs)),Zr.push({top:0,bottom:10,height:10,left:Pi-Hi.width/2,right:Pi+Hi.width/2+2,width:Hi.width+2})});var Ti=(ce.tickson==="boundaries"||ce.showdividers)&&!it.secondary,Zi=Qe.length,Ii=Math.abs((Qe[Zi-1].x-Qe[0].x)*ce._m)/(Zi-1),ki=Ti?Ii/2:Ii,ti=Ti?ce.ticklen:vr*1.25*Dr,Ai=Math.sqrt(Math.pow(ki,2)+Math.pow(ti,2)),Ni=ki/Ai,Pa=ce.autotickangles.map(function(wr){return wr*Math.PI/180}),ni=Pa.find(function(wr){return Math.abs(Math.cos(wr))<=Ni});ni===void 0&&(ni=Pa.reduce(function(wr,Pi){return Math.abs(Math.cos(wr))<Math.abs(Math.cos(Pi))?wr:Pi},Pa[0]));var Ki=ni*(180/Math.PI);if(Ti){var Ja=2;for(ce.ticks&&(Ja+=ce.tickwidth/2),gr=0;gr<Zr.length;gr++){var bs=Qe[gr].xbnd,Is=Zr[gr];if(bs[0]!==null&&Is.left-ce.l2p(bs[0])<Ja||bs[1]!==null&&ce.l2p(bs[1])-Is.right<Ja){Tt=Ki;break}}}else{var qa=ce.ticklabelposition||"",wa=function(wr){return qa.indexOf(wr)!==-1},ao=wa("top"),oa=wa("left"),ga=wa("right"),ha=wa("bottom"),Vi=ha||oa||ao||ga,Qi=Vi?(ce.tickwidth||0)+2*ye:0;for(gr=0;gr<Zr.length-1;gr++)if(f.bBoxIntersect(Zr[gr],Zr[gr+1],Qi)){Tt=Ki;break}}Tt&&Ot(Ct,Tt)}}ce._selections&&(ce._selections[Ye]=Ct);var Zt=[en];ce.automargin&&tt._redrawFromAutoMarginCount&&yt===90?(Tt=yt,Zt.push(function(){Ot(Ct,yt)})):Zt.push(fn),ce._tickAngles&&Zt.push(function(){ce._tickAngles[Ye]=Tt===null?c(st)?st:0:Tt});var an=function(){var vr=0,Zr=0;return Ct.each(function(gr,Dr){var Ti=Cn(this),Zi=Ti.select(".text-math-group");if(Zi.empty()){var Ii;ce._vals[Dr]&&(Ii=ce._vals[Dr].bb||y.bBox(Ti.node()),ce._vals[Dr].bb=Ii),vr=Math.max(vr,Ii.width),Zr=Math.max(Zr,Ii.height)}}),{labelsMaxW:vr,labelsMaxH:Zr}},ln=ce._anchorAxis;if(ln&&(ln.autorange||ln.insiderange)&&Jn(ce)&&!G(tt,ce._id)&&(tt._insideTickLabelsUpdaterange||(tt._insideTickLabelsUpdaterange={}),ln.autorange&&(tt._insideTickLabelsUpdaterange[ln._name+".autorange"]=ln.autorange,Zt.push(an)),ln.insiderange)){var En=an(),Gn=ce._id.charAt(0)==="y"?En.labelsMaxW:En.labelsMaxH;Gn+=2*ye,ce.ticklabelposition==="inside"&&(Gn+=ce.ticklen||0);var sr=ce.side==="right"||ce.side==="top"?1:-1,Yn=sr===1?1:0,Xr=sr===1?0:1,Mr=[];Mr[Xr]=ln.range[Xr];var Ur=ln.range,ta=ln.r2p(Ur[Yn]),Va=ln.r2p(Ur[Xr]),ei=tt._insideTickLabelsUpdaterange[ln._name+".range"];if(ei){var Fi=ln.r2p(ei[Yn]),_i=ln.r2p(ei[Xr]),lr=sr*(ce._id.charAt(0)==="y"?1:-1);lr*ta<lr*Fi&&(ta=Fi,Mr[Yn]=Ur[Yn]=ei[Yn]),lr*Va>lr*_i&&(Va=_i,Mr[Xr]=Ur[Xr]=ei[Xr])}var br=Math.abs(Va-ta);br-Gn>0?(br-=Gn,Gn*=1+Gn/br):Gn=0,ce._id.charAt(0)!=="y"&&(Gn=-Gn),Mr[Yn]=ln.p2r(ln.r2p(Ur[Yn])+sr*Gn),ln.autorange==="min"||ln.autorange==="max reversed"?(Mr[0]=null,ln._rangeInitial0=void 0,ln._rangeInitial1=void 0):(ln.autorange==="max"||ln.autorange==="min reversed")&&(Mr[1]=null,ln._rangeInitial0=void 0,ln._rangeInitial1=void 0),tt._insideTickLabelsUpdaterange[ln._name+".range"]=Mr}var cr=f.syncOrAsync(Zt);return cr&&cr.then&&me._promises.push(cr),cr};function Xt(me,ce,it){var tt=ce._id+"divider",Ze=it.vals,Ye=it.layer.selectAll("path."+tt).data(Ze,_t);Ye.exit().remove(),Ye.enter().insert("path",":first-child").classed(tt,1).classed("crisp",1).call(d.stroke,ce.dividercolor).style("stroke-width",y.crispRound(me,ce.dividerwidth,1)+"px"),Ye.attr("transform",it.transFn).attr("d",it.path)}he.getPxPosition=function(me,ce){var it=me._fullLayout._size,tt=ce._id.charAt(0),Ze=ce.side,Ye;if(ce.anchor!=="free"?Ye=ce._anchorAxis:tt==="x"?Ye={_offset:it.t+(1-(ce.position||0))*it.h,_length:0}:tt==="y"&&(Ye={_offset:it.l+(ce.position||0)*it.w+ce._shift,_length:0}),Ze==="top"||Ze==="left")return Ye._offset;if(Ze==="bottom"||Ze==="right")return Ye._offset+Ye._length};function sn(me){var ce=me.title.font.size,it=(me.title.text.match(p.BR_TAG_ALL)||[]).length;return me.title.hasOwnProperty("standoff")?ce*(Se+it*ze):it?ce*(it+1)*ze:ce}function pn(me,ce){var it=me._fullLayout,tt=ce._id,Ze=tt.charAt(0),Ye=ce.title.font.size,Qe,mt=(ce.title.text.match(p.BR_TAG_ALL)||[]).length;if(ce.title.hasOwnProperty("standoff"))ce.side==="bottom"||ce.side==="right"?Qe=ce._depth+ce.title.standoff+Ye*Se:(ce.side==="top"||ce.side==="left")&&(Qe=ce._depth+ce.title.standoff+Ye*(be+mt*ze));else{var st=Jn(ce);if(ce.type==="multicategory")Qe=ce._depth;else{var yt=1.5*Ye;st&&(yt=.5*Ye,ce.ticks==="outside"&&(yt+=ce.ticklen)),Qe=10+yt+(ce.linewidth?ce.linewidth-1:0)}st||(Ze==="x"?Qe+=ce.side==="top"?Ye*(ce.showticklabels?1:0):Ye*(ce.showticklabels?1.5:.5):Qe+=ce.side==="right"?Ye*(ce.showticklabels?1:.5):Ye*(ce.showticklabels?.5:0))}var Ct=he.getPxPosition(me,ce),wt,Ot,en;Ze==="x"?(Ot=ce._offset+ce._length/2,en=ce.side==="top"?Ct-Qe:Ct+Qe):(en=ce._offset+ce._length/2,Ot=ce.side==="right"?Ct+Qe:Ct-Qe,wt={rotate:"-90",offset:0});var Tt;if(ce.type!=="multicategory"){var fn=ce._selections[ce._id+"tick"];if(Tt={selection:fn,side:ce.side},fn&&fn.node()&&fn.node().parentNode){var Zt=y.getTranslate(fn.node().parentNode);Tt.offsetLeft=Zt.x,Tt.offsetTop=Zt.y}ce.title.hasOwnProperty("standoff")&&(Tt.pad=0)}return ce._titleStandoff=Qe,m.draw(me,tt+"title",{propContainer:ce,propName:ce._name+".title.text",placeholder:it._dfltTitle[Ze],avoid:Tt,transform:wt,attributes:{x:Ot,y:en,"text-anchor":"middle"}})}he.shouldShowZeroLine=function(me,ce,it){var tt=f.simpleMap(ce.range,ce.r2l);return tt[0]*tt[1]<=0&&ce.zeroline&&(ce.type==="linear"||ce.type==="-")&&!(ce.rangebreaks&&ce.maskBreaks(0)===oe)&&(An(ce,0)||!zn(me,ce,it,tt)||Jt(me,ce))},he.clipEnds=function(me,ce){return ce.filter(function(it){return An(me,it.x)})};function An(me,ce){var it=me.l2p(ce);return it>1&&it<me._length-1}function zn(me,ce,it,tt){var Ze=it._mainAxis;if(!Ze)return;var Ye=me._fullLayout,Qe=ce._id.charAt(0),mt=he.counterLetter(ce._id),st=ce._offset+(Math.abs(tt[0])<Math.abs(tt[1])==(Qe==="x")?0:ce._length);function yt(Tt){if(!Tt.showline||!Tt.linewidth)return!1;var fn=Math.max((Tt.linewidth+ce.zerolinewidth)/2,1);function Zt(En){return typeof En=="number"&&Math.abs(En-st)<fn}if(Zt(Tt._mainLinePosition)||Zt(Tt._mainMirrorPosition))return!0;var an=Tt._linepositions||{};for(var ln in an)if(Zt(an[ln][0])||Zt(an[ln][1]))return!0}var Ct=Ye._plots[it._mainSubplot];if(!(Ct.mainplotinfo||Ct).overlays.length)return yt(it,st);for(var wt=he.list(me,mt),Ot=0;Ot<wt.length;Ot++){var en=wt[Ot];if(en._mainAxis===Ze&&yt(en,st))return!0}}function Jt(me,ce){for(var it=me._fullData,tt=ce._mainSubplot,Ze=ce._id.charAt(0),Ye=0;Ye<it.length;Ye++){var Qe=it[Ye];if(Qe.visible===!0&&Qe.xaxis+Qe.yaxis===tt&&(u.traceIs(Qe,"bar-like")&&Qe.orientation==={x:"h",y:"v"}[Ze]||Qe.fill&&Qe.fill.charAt(Qe.fill.length-1)===Ze))return!0}return!1}function Cn(me){var ce=o.select(me),it=ce.select(".text-math-group");return it.empty()?ce.select("text"):it}he.allowAutoMargin=function(me){for(var ce=he.list(me,"",!0),it=0;it<ce.length;it++){var tt=ce[it];tt.automargin&&(l.allowAutoMargin(me,yn(tt)),tt.mirror&&l.allowAutoMargin(me,xn(tt))),u.getComponentMethod("rangeslider","isVisible")(tt)&&l.allowAutoMargin(me,Pn(tt))}};function yn(me){return me._id+".automargin"}function xn(me){return yn(me)+".mirror"}function Pn(me){return me._id+".rangeslider"}he.swap=function(me,ce){for(var it=Ln(me,ce),tt=0;tt<it.length;tt++)_n(me,it[tt].x,it[tt].y)};function Ln(me,ce){var it=[],tt,Ze;for(tt=0;tt<ce.length;tt++){var Ye=[],Qe=me._fullData[ce[tt]].xaxis,mt=me._fullData[ce[tt]].yaxis;if(!(!Qe||!mt)){for(Ze=0;Ze<it.length;Ze++)(it[Ze].x.indexOf(Qe)!==-1||it[Ze].y.indexOf(mt)!==-1)&&Ye.push(Ze);if(!Ye.length){it.push({x:[Qe],y:[mt]});continue}var st=it[Ye[0]],yt;if(Ye.length>1)for(Ze=1;Ze<Ye.length;Ze++)yt=it[Ye[Ze]],on(st.x,yt.x),on(st.y,yt.y);on(st.x,[Qe]),on(st.y,[mt])}}return it}function on(me,ce){for(var it=0;it<ce.length;it++)me.indexOf(ce[it])===-1&&me.push(ce[it])}function _n(me,ce,it){var tt=[],Ze=[],Ye=me.layout,Qe,mt;for(Qe=0;Qe<ce.length;Qe++)tt.push(he.getFromId(me,ce[Qe]));for(Qe=0;Qe<it.length;Qe++)Ze.push(he.getFromId(me,it[Qe]));var st=Object.keys(x),yt=["anchor","domain","overlaying","position","side","tickangle","editType"],Ct=["linear","log"];for(Qe=0;Qe<st.length;Qe++){var wt=st[Qe],Ot=tt[0][wt],en=Ze[0][wt],Tt=!0,fn=!1,Zt=!1;if(!(wt.charAt(0)==="_"||typeof Ot=="function"||yt.indexOf(wt)!==-1)){for(mt=1;mt<tt.length&&Tt;mt++){var an=tt[mt][wt];wt==="type"&&Ct.indexOf(Ot)!==-1&&Ct.indexOf(an)!==-1&&Ot!==an?fn=!0:an!==Ot&&(Tt=!1)}for(mt=1;mt<Ze.length&&Tt;mt++){var ln=Ze[mt][wt];wt==="type"&&Ct.indexOf(en)!==-1&&Ct.indexOf(ln)!==-1&&en!==ln?Zt=!0:Ze[mt][wt]!==en&&(Tt=!1)}Tt&&(fn&&(Ye[tt[0]._name].type="linear"),Zt&&(Ye[Ze[0]._name].type="linear"),gn(Ye,wt,tt,Ze,me._fullLayout._dfltTitle))}}for(Qe=0;Qe<me._fullLayout.annotations.length;Qe++){var En=me._fullLayout.annotations[Qe];ce.indexOf(En.xref)!==-1&&it.indexOf(En.yref)!==-1&&f.swapAttrs(Ye.annotations[Qe],["?"])}}function gn(me,ce,it,tt,Ze){var Ye=f.nestedProperty,Qe=Ye(me[it[0]._name],ce).get(),mt=Ye(me[tt[0]._name],ce).get(),st;for(ce==="title"&&(Qe&&Qe.text===Ze.x&&(Qe.text=Ze.y),mt&&mt.text===Ze.y&&(mt.text=Ze.x)),st=0;st<it.length;st++)Ye(me,it[st]._name+"."+ce).set(mt);for(st=0;st<tt.length;st++)Ye(me,tt[st]._name+"."+ce).set(Qe)}function Un(me){return me._id==="angularaxis"}function qn(me,ce){for(var it=ce._rangebreaks.length,tt=0;tt<it;tt++){var Ze=ce._rangebreaks[tt];if(me>=Ze.min&&me<Ze.max)return Ze.max}return me}function Jn(me){return(me.ticklabelposition||"").indexOf("inside")!==-1}function bn(me,ce){Jn(me._anchorAxis||{})&&me._hideCounterAxisInsideTickLabels&&me._hideCounterAxisInsideTickLabels(ce)}function Qn(me,ce,it,tt){var Ze=me.anchor!=="free"&&(me.overlaying===void 0||me.overlaying===!1)?me._id:me.overlaying,Ye;tt?Ye=me.side==="right"?ce:-ce:Ye=ce,Ze in it||(it[Ze]={}),me.side in it[Ze]||(it[Ze][me.side]=0),it[Ze][me.side]+=Ye}function Vn(me,ce){return me.autoshift?ce[me.overlaying][me.side]:me.shift||0}function hn(me,ce){return/%f/.test(ce)?me>=X:/%L/.test(ce)?me>=O:/%[SX]/.test(ce)?me>=j:/%M/.test(ce)?me>=N:/%[HI]/.test(ce)?me>=$:/%p/.test(ce)?me>=Z:/%[Aadejuwx]/.test(ce)?me>=H:/%[UVW]/.test(ce)?me>=B:/%[Bbm]/.test(ce)?me>=T:/%[q]/.test(ce)?me>=S:/%[Yy]/.test(ce)?me>=C:!0}},9666:function(i,s,a){"use strict";var o=a(721),c=a(4809),l=a(3821).BADNUM,u=c.isArrayOrTypedArray,f=c.isDateTime,h=c.cleanNumber,p=Math.round;i.exports=function(D,C,z){var b=D,S=z.noMultiCategory;if(u(b)&&!b.length)return"-";if(!S&&L(b))return"multicategory";if(S&&Array.isArray(b[0])){for(var M=[],I=0;I<b.length;I++)if(u(b[I]))for(var T=0;T<b[I].length;T++)M.push(b[I][T]);b=M}if(y(b,C))return"date";var B=z.autotypenumbers!=="strict";return w(b,B)?"category":d(b,B)?"linear":"-"};function m(_,D){return D?o(_):typeof _=="number"}function d(_,D){for(var C=_.length,z=0;z<C;z++)if(m(_[z],D))return!0;return!1}function y(_,D){for(var C=_.length,z=x(C),b=0,S=0,M={},I=0;I<C;I+=z){var T=p(I),B=_[T],H=String(B);M[H]||(M[H]=1,f(B,D)&&b++,o(B)&&S++)}return b>S*2}function x(_){return Math.max(1,(_-1)/1e3)}function w(_,D){for(var C=_.length,z=x(C),b=0,S=0,M={},I=0;I<C;I+=z){var T=p(I),B=_[T],H=String(B);if(!M[H]){M[H]=1;var Z=typeof B;Z==="boolean"?S++:(D?h(B)!==l:Z==="number")?b++:Z==="string"&&S++}}return S>b*2}function L(_){return u(_[0])&&u(_[1])}},7655:function(i,s,a){"use strict";var o=a(721),c=a(3626),l=a(4809),u=a(8032),f=a(9008),h=a(5829),p=a(2777),m=a(7433),d=a(2036),y=a(4616),x=a(6473),w=a(7405),L=a(259),_=a(9091),D=a(4826).WEEKDAY_PATTERN,C=a(4826).HOUR_PATTERN;i.exports=function(I,T,B,H,Z){var $=H.letter,N=H.font||{},j=H.splomStash||{},O=B("visible",!H.visibleDflt),X=T._template||{},ie=T.type||X.type||"-",oe;if(ie==="date"){var V=c.getComponentMethod("calendars","handleDefaults");V(I,T,"calendar",H.calendar),H.noTicklabelmode||(oe=B("ticklabelmode"))}!H.noTicklabelindex&&(ie==="date"||ie==="linear")&&B("ticklabelindex");var W="";(!H.noTicklabelposition||ie==="multicategory")&&(W=l.coerce(I,T,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:oe==="period"?["outside","inside"]:$==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),H.noTicklabeloverflow||B("ticklabeloverflow",W.indexOf("inside")!==-1?"hide past domain":ie==="category"||ie==="multicategory"?"allow":"hide past div"),_(T,Z),L(I,T,B,H),x(I,T,B,H),ie!=="category"&&!H.noHover&&B("hoverformat");var Y=B("color"),Q=Y!==h.color.dflt?Y:N.color,re=j.label||Z._dfltTitle[$];if(y(I,T,B,ie,H),!O)return T;B("title.text",re),l.coerceFont(B,"title.font",N,{overrideDflt:{size:l.bigFont(N.size),color:Q}}),p(I,T,B,ie);var te=H.hasMinor;if(te&&(u.newContainer(T,"minor"),p(I,T,B,ie,{isMinor:!0})),d(I,T,B,ie,H),m(I,T,B,H),te){var le=H.isMinor;H.isMinor=!0,m(I,T,B,H),H.isMinor=le}w(I,T,B,{dfltColor:Y,bgColor:H.bgColor,showGrid:H.showGrid,hasMinor:te,attributes:h}),te&&!T.minor.ticks&&!T.minor.showgrid&&delete T.minor,(T.showline||T.ticks)&&B("mirror");var be=ie==="multicategory";if(!H.noTickson&&(ie==="category"||be)&&(T.ticks||T.showgrid)){var Se;be&&(Se="boundaries");var ze=B("tickson",Se);ze==="boundaries"&&delete T.ticklabelposition}if(be){var Te=B("showdividers");Te&&(B("dividercolor"),B("dividerwidth"))}if(ie==="date")if(f(I,T,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:z}),!T.rangebreaks.length)delete T.rangebreaks;else{for(var ye=0;ye<T.rangebreaks.length;ye++)if(T.rangebreaks[ye].pattern===D){T._hasDayOfWeekBreaks=!0;break}if(_(T,Z),Z._has("scattergl")||Z._has("splom"))for(var he=0;he<H.data.length;he++){var P=H.data[he];(P.type==="scattergl"||P.type==="splom")&&(P.visible=!1,l.warn(P.type+" traces do not work on axes with rangebreaks. Setting trace "+P.index+" to `visible: false`."))}}return T};function z(M,I,T){function B(oe,V){return l.coerce(M,I,h.rangebreaks,oe,V)}var H=B("enabled");if(H){var Z=B("bounds");if(Z&&Z.length>=2){var $="",N,j;if(Z.length===2){for(N=0;N<2;N++)if(j=S(Z[N]),j){$=D;break}}var O=B("pattern",$);if(O===D)for(N=0;N<2;N++)j=S(Z[N]),j&&(I.bounds[N]=Z[N]=j-1);if(O)for(N=0;N<2;N++)switch(j=Z[N],O){case D:if(!o(j)){I.enabled=!1;return}if(j=+j,j!==Math.floor(j)||j<0||j>=7){I.enabled=!1;return}I.bounds[N]=Z[N]=j;break;case C:if(!o(j)){I.enabled=!1;return}if(j=+j,j<0||j>24){I.enabled=!1;return}I.bounds[N]=Z[N]=j;break}if(T.autorange===!1){var X=T.range;if(X[0]<X[1]){if(Z[0]<X[0]&&Z[1]>X[1]){I.enabled=!1;return}}else if(Z[0]>X[0]&&Z[1]<X[1]){I.enabled=!1;return}}}else{var ie=B("values");if(ie&&ie.length)B("dvalue");else{I.enabled=!1;return}}}}var b={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function S(M){if(typeof M=="string")return b[M.substr(0,3).toLowerCase()]}},712:function(i,s,a){"use strict";var o=a(7296),c=o.FORMAT_LINK,l=o.DATE_FORMAT_LINK;function u(p,m){return{valType:"string",dflt:"",editType:"none",description:(m?f:h)("hover text",p)+["By default the values are formatted using "+(m?"generic number format":"`"+p+"axis.hoverformat`")+"."].join(" ")}}function f(p,m){return["Sets the "+p+" formatting rule"+(m?"for `"+m+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+c+"."].join(" ")}function h(p,m){return f(p,m)+[" And for dates see: "+l+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}i.exports={axisHoverFormat:u,descriptionOnlyNumbers:f,descriptionWithDates:h}},5975:function(i,s,a){"use strict";var o=a(3626),c=a(4826);s.id2name=function(f){if(!(typeof f!="string"||!f.match(c.AX_ID_PATTERN))){var h=f.split(" ")[0].substr(1);return h==="1"&&(h=""),f.charAt(0)+"axis"+h}},s.name2id=function(f){if(f.match(c.AX_NAME_PATTERN)){var h=f.substr(5);return h==="1"&&(h=""),f.charAt(0)+h}},s.cleanId=function(f,h,p){var m=/( domain)$/.test(f);if(!(typeof f!="string"||!f.match(c.AX_ID_PATTERN))&&!(h&&f.charAt(0)!==h)&&!(m&&!p)){var d=f.split(" ")[0].substr(1).replace(/^0+/,"");return d==="1"&&(d=""),f.charAt(0)+d+(m&&p?" domain":"")}},s.list=function(u,f,h){var p=u._fullLayout;if(!p)return[];var m=s.listIds(u,f),d=new Array(m.length),y;for(y=0;y<m.length;y++){var x=m[y];d[y]=p[x.charAt(0)+"axis"+x.substr(1)]}if(!h){var w=p._subplots.gl3d||[];for(y=0;y<w.length;y++){var L=p[w[y]];f?d.push(L[f+"axis"]):d.push(L.xaxis,L.yaxis,L.zaxis)}}return d},s.listIds=function(u,f){var h=u._fullLayout;if(!h)return[];var p=h._subplots;return f?p[f+"axis"]:p.xaxis.concat(p.yaxis)},s.getFromId=function(u,f,h){var p=u._fullLayout;return f=f===void 0||typeof f!="string"?f:f.replace(" domain",""),h==="x"?f=f.replace(/y[0-9]*/,""):h==="y"&&(f=f.replace(/x[0-9]*/,"")),p[s.id2name(f)]},s.getFromTrace=function(u,f,h){var p=u._fullLayout,m=null;if(o.traceIs(f,"gl3d")){var d=f.scene;d.substr(0,5)==="scene"&&(m=p[d][h+"axis"])}else m=s.getFromId(u,f[h+"axis"]||h);return m},s.idSort=function(u,f){var h=u.charAt(0),p=f.charAt(0);return h!==p?h>p?1:-1:+(u.substr(1)||1)-+(f.substr(1)||1)},s.ref2id=function(u){return/^[xyz]/.test(u)?u.split(" ")[0]:!1};function l(u,f){if(f&&f.length){for(var h=0;h<f.length;h++)if(f[h][u])return!0}return!1}s.isLinked=function(u,f){return l(f,u._axisMatchGroups)||l(f,u._axisConstraintGroups)}},6473:function(i,s,a){"use strict";var o=a(7800).isTypedArraySpec;function c(l,u){var f=u.dataAttr||l._id.charAt(0),h={},p,m,d;if(u.axData)p=u.axData;else for(p=[],m=0;m<u.data.length;m++){var y=u.data[m];y[f+"axis"]===l._id&&p.push(y)}for(m=0;m<p.length;m++){var x=p[m][f];for(d=0;d<x.length;d++){var w=x[d];w!=null&&(h[w]=1)}}return Object.keys(h)}i.exports=function(u,f,h,p){if(f.type==="category"){var m=u.categoryarray,d=Array.isArray(m)&&m.length>0||o(m),y;d&&(y="array");var x=h("categoryorder",y),w;x==="array"&&(w=h("categoryarray")),!d&&x==="array"&&(x=f.categoryorder="trace"),x==="trace"?f._initialCategories=[]:x==="array"?f._initialCategories=w.slice():(w=c(f,p).sort(),x==="category ascending"?f._initialCategories=w:x==="category descending"&&(f._initialCategories=w.reverse()))}}},8599:function(i,s,a){"use strict";var o=a(721),c=a(4809),l=a(3821),u=l.ONEDAY,f=l.ONEWEEK;s.dtick=function(h,p){var m=p==="log",d=p==="date",y=p==="category",x=d?u:1;if(!h)return x;if(o(h))return h=Number(h),h<=0?x:y?Math.max(1,Math.round(h)):d?Math.max(.1,h):h;if(typeof h!="string"||!(d||m))return x;var w=h.charAt(0),L=h.substr(1);return L=o(L)?Number(L):0,L<=0||!(d&&w==="M"&&L===Math.round(L)||m&&w==="L"||m&&w==="D"&&(L===1||L===2))?x:h},s.tick0=function(h,p,m,d){if(p==="date")return c.cleanDate(h,c.dateTick0(m,d%f===0?1:0));if(!(d==="D1"||d==="D2"))return o(h)?Number(h):0}},4826:function(i,s,a){"use strict";var o=a(694).counter;i.exports={idRegex:{x:o("x","( domain)?"),y:o("y","( domain)?")},attrRegex:o("[xy]axis"),xAxisMatch:o("xaxis"),yAxisMatch:o("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"},zindexSeparator:"z"}},4391:function(i,s,a){"use strict";var o=a(4809),c=a(2919),l=a(5975).id2name,u=a(5829),f=a(7611),h=a(9091),p=a(3821).ALMOST_EQUAL,m=a(4530).FROM_BL;s.handleDefaults=function(C,z,b){var S=b.axIds,M=b.axHasImage,I=z._axisConstraintGroups=[],T=z._axisMatchGroups=[],B,H,Z,$,N,j,O,X;for(B=0;B<S.length;B++)$=l(S[B]),N=C[$],j=z[$],d(N,j,{axIds:S,layoutOut:z,hasImage:M[$]});function ie(be,Se){for(B=0;B<be.length;B++){H=be[B];for(Z in H)z[l(Z)][Se]=H}}for(ie(T,"_matchGroup"),B=0;B<I.length;B++){H=I[B];for(Z in H)if(j=z[l(Z)],j.fixedrange){for(var oe in H){var V=l(oe);(C[V]||{}).fixedrange===!1&&o.warn("fixedrange was specified as false for axis "+V+" but was overridden because another axis in its constraint group has fixedrange true"),z[V].fixedrange=!0}break}}for(B=0;B<I.length;){H=I[B];for(Z in H){j=z[l(Z)],j._matchGroup&&Object.keys(j._matchGroup).length===Object.keys(H).length&&(I.splice(B,1),B--);break}B++}ie(I,"_constraintGroup");var W=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],Y=!1,Q=!1;function re(){X=j[O],O==="rangebreaks"&&(Q=j._hasDayOfWeekBreaks)}for(B=0;B<T.length;B++){H=T[B];for(var te=0;te<W.length;te++){O=W[te],X=null;var le;for(Z in H)if($=l(Z),N=C[$],j=z[$],O in j){if(!j.matches&&(le=j,O in N)){re();break}X===null&&O in N&&re()}if(O==="range"&&X&&N.range&&N.range.length===2&&N.range[0]!==null&&N.range[1]!==null&&(Y=!0),O==="autorange"&&X===null&&Y&&(X=!1),X===null&&O in le&&(X=le[O]),X!==null)for(Z in H)j=z[l(Z)],j[O]=O==="range"?X.slice():X,O==="rangebreaks"&&(j._hasDayOfWeekBreaks=Q,h(j,z))}}};function d(C,z,b){var S=b.axIds,M=b.layoutOut,I=b.hasImage,T=M._axisConstraintGroups,B=M._axisMatchGroups,H=z._id,Z=H.charAt(0),$=((M._splomAxes||{})[Z]||{})[H]||{},N=z._id,j=N.charAt(0)==="x";z._matchGroup=null,z._constraintGroup=null;function O(ye,he){return o.coerce(C,z,u,ye,he)}O("constrain",I?"domain":"range"),o.coerce(C,z,{constraintoward:{valType:"enumerated",values:j?["left","center","right"]:["bottom","middle","top"],dflt:j?"center":"middle"}},"constraintoward");var X=z.type,ie,oe,V=[];for(ie=0;ie<S.length;ie++)if(oe=S[ie],oe!==N){var W=M[l(oe)];W.type===X&&V.push(oe)}var Y=x(T,N);if(Y){var Q=[];for(ie=0;ie<V.length;ie++)oe=V[ie],Y[oe]||Q.push(oe);V=Q}var re=V.length,te,le;re&&(C.matches||$.matches)&&(te=o.coerce(C,z,{matches:{valType:"enumerated",values:V,dflt:V.indexOf($.matches)!==-1?$.matches:void 0}},"matches"));var be=I&&!j?z.anchor:void 0;if(re&&!te&&(C.scaleanchor||be)&&(le=o.coerce(C,z,{scaleanchor:{valType:"enumerated",values:V.concat([!1])}},"scaleanchor",be)),te){z._matchGroup=w(B,N,te,1);var Se=M[l(te)],ze=y(M,z)/y(M,Se);j!==(te.charAt(0)==="x")&&(ze=(j?"x":"y")+ze),w(T,N,te,ze)}else C.matches&&S.indexOf(C.matches)!==-1&&o.warn("ignored "+z._name+'.matches: "'+C.matches+'" to avoid an infinite loop');if(le){var Te=O("scaleratio");Te||(Te=z.scaleratio=1),w(T,N,le,Te)}else C.scaleanchor&&S.indexOf(C.scaleanchor)!==-1&&o.warn("ignored "+z._name+'.scaleanchor: "'+C.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function y(C,z){var b=z.domain;return b||(b=C[l(z.overlaying)].domain),b[1]-b[0]}function x(C,z){for(var b=0;b<C.length;b++)if(C[b][z])return C[b];return null}function w(C,z,b,S){var M,I,T,B,H,Z=x(C,z);Z===null?(Z={},Z[z]=1,H=C.length,C.push(Z)):H=C.indexOf(Z);var $=Object.keys(Z);for(M=0;M<C.length;M++)if(T=C[M],M!==H&&T[b]){var N=T[b];for(I=0;I<$.length;I++)B=$[I],T[B]=L(N,L(S,Z[B]));C.splice(H,1);return}if(S!==1)for(I=0;I<$.length;I++){var j=$[I];Z[j]=L(S,Z[j])}Z[b]=1}function L(C,z){var b="",S="",M,I;typeof C=="string"&&(b=C.match(/^[xy]*/)[0],M=b.length,C=+C.substr(M)),typeof z=="string"&&(S=z.match(/^[xy]*/)[0],I=S.length,z=+z.substr(I));var T=C*z;return!M&&!I?T:!M||!I||b.charAt(0)===S.charAt(0)?b+S+C*z:M===I?T:(M>I?b.substr(I):S.substr(M))+T}function _(C,z){for(var b=z._size,S=b.h/b.w,M={},I=Object.keys(C),T=0;T<I.length;T++){var B=I[T],H=C[B];if(typeof H=="string"){var Z=H.match(/^[xy]*/)[0],$=Z.length;H=+H.substr($);for(var N=Z.charAt(0)==="y"?S:1/S,j=0;j<$;j++)H*=N}M[B]=H}return M}s.enforce=function(z){var b=z._fullLayout,S=b._axisConstraintGroups||[],M,I,T,B,H,Z,$,N;for(M=0;M<S.length;M++){T=_(S[M],b);var j=Object.keys(T),O=1/0,X=0,ie=1/0,oe={},V={},W=!1;for(I=0;I<j.length;I++)B=j[I],V[B]=H=b[l(B)],H._inputDomain?H.domain=H._inputDomain.slice():H._inputDomain=H.domain.slice(),H._inputRange||(H._inputRange=H.range.slice()),H.setScale(),oe[B]=Z=Math.abs(H._m)/T[B],O=Math.min(O,Z),(H.constrain==="domain"||!H._constraintShrinkable)&&(ie=Math.min(ie,Z)),delete H._constraintShrinkable,X=Math.max(X,Z),H.constrain==="domain"&&(W=!0);if(!(O>p*X&&!W)){for(I=0;I<j.length;I++)if(B=j[I],Z=oe[B],H=V[B],$=H.constrain,Z!==ie||$==="domain")if(N=Z/ie,$==="range")f(H,N);else{var Y=H._inputDomain,Q=(H.domain[1]-H.domain[0])/(Y[1]-Y[0]),re=(H.r2l(H.range[1])-H.r2l(H.range[0]))/(H.r2l(H._inputRange[1])-H.r2l(H._inputRange[0]));if(N/=Q,N*re<1){H.domain=H._input.domain=Y.slice(),f(H,N);continue}if(re<1&&(H.range=H._input.range=H._inputRange.slice(),N*=re),H.autorange){var te=H.r2l(H.range[0]),le=H.r2l(H.range[1]),be=(te+le)/2,Se=be,ze=be,Te=Math.abs(le-be),ye=be-Te*N*1.0001,he=be+Te*N*1.0001,P=c.makePadFn(b,H,0),U=c.makePadFn(b,H,1);D(H,N);var ee=Math.abs(H._m),G=c.concatExtremes(z,H),E=G.min,K=G.max,R,ne;for(ne=0;ne<E.length;ne++)R=E[ne].val-P(E[ne])/ee,R>ye&&R<Se&&(Se=R);for(ne=0;ne<K.length;ne++)R=K[ne].val+U(K[ne])/ee,R<he&&R>ze&&(ze=R);var pe=(ze-Se)/(2*Te);N/=pe,Se=H.l2r(Se),ze=H.l2r(ze),H.range=H._input.range=te<le?[Se,ze]:[ze,Se]}D(H,N)}}}},s.getAxisGroup=function(z,b){for(var S=z._axisMatchGroups,M=0;M<S.length;M++){var I=S[M];if(I[b])return"g"+M}return b},s.clean=function(z,b){if(b._inputDomain){for(var S=!1,M=b._id,I=z._fullLayout._axisConstraintGroups,T=0;T<I.length;T++)if(I[T][M]){S=!0;break}(!S||b.constrain!=="domain")&&(b._input.domain=b.domain=b._inputDomain,delete b._inputDomain)}};function D(C,z){var b=C._inputDomain,S=m[C.constraintoward],M=b[0]+(b[1]-b[0])*S;C.domain=C._input.domain=[M+(b[0]-M)/z,M+(b[1]-M)/z],C.setScale()}},1680:function(i,s,a){"use strict";var o=a(5568),c=a(4809),l=c.numberFormat,u=a(5657),f=a(4043),h=a(3626),p=c.strTranslate,m=a(635),d=a(8766),y=a(2203),x=a(2141),w=a(9714),L=a(7983),_=a(4751),D=a(414),C=D.selectingOrDrawing,z=D.freeMode,b=a(4530).FROM_TL,S=a(4823),M=a(1817).redrawReglTraces,I=a(4122),T=a(5975).getFromId,B=a(4844).prepSelect,H=a(4844).clearOutline,Z=a(4844).selectOnClick,$=a(7611),N=a(4826),j=N.MINDRAG,O=N.MINZOOM,X=!0;function ie(R,ne,pe,xe,we,Ee,Oe,Ke){var Je=R._fullLayout._zoomlayer,rt=Oe+Ke==="nsew",Me=(Oe+Ke).length===1,ke,Le,He,Ve,qe,vt,At,Dt,bt,xt,Et,pt,Rt,Wt,Vt,Yt,et,ct,gt,_e,Be,ve,ge;pe+=ne.yaxis._shift;function Re(){if(ke=ne.xaxis,Le=ne.yaxis,bt=ke._length,xt=Le._length,At=ke._offset,Dt=Le._offset,He={},He[ke._id]=ke,Ve={},Ve[Le._id]=Le,Oe&&Ke)for(var Ze=ne.overlays,Ye=0;Ye<Ze.length;Ye++){var Qe=Ze[Ye].xaxis;He[Qe._id]=Qe;var mt=Ze[Ye].yaxis;Ve[mt._id]=mt}qe=K(He),vt=K(Ve),Rt=W(qe,Ke),Wt=W(vt,Oe),Vt=!Wt&&!Rt,pt=G(R,R._fullLayout._axisMatchGroups,He,Ve),Et=G(R,R._fullLayout._axisConstraintGroups,He,Ve,pt);var st=Et.isSubplotConstrained||pt.isSubplotConstrained;Yt=Ke||st,et=Oe||st;var yt=R._fullLayout;ct=yt._has("scattergl"),gt=yt._has("splom"),_e=yt._has("svg")}Re();var Fe=le(Wt+Rt,R._fullLayout.dragmode,rt),Ue=V(ne,Oe+Ke+"drag",Fe,pe,xe,we,Ee);if(Vt&&!rt)return Ue.onmousedown=null,Ue.style.pointerEvents="none",Ue;var We={element:Ue,gd:R,plotinfo:ne};We.prepFn=function(Ze,Ye,Qe){var mt=We.dragmode,st=R._fullLayout.dragmode;st!==mt&&(We.dragmode=st),Re(),ve=R._fullLayout._invScaleX,ge=R._fullLayout._invScaleY,Vt||(rt?Ze.shiftKey?st==="pan"?st="zoom":C(st)||(st="pan"):Ze.ctrlKey&&(st="pan"):st="pan"),z(st)?We.minDrag=1:We.minDrag=void 0,C(st)?(We.xaxes=qe,We.yaxes=vt,B(Ze,Ye,Qe,We,st)):(We.clickFn=Mt,C(mt)&&St(),Vt||(st==="zoom"?(We.moveFn=xn,We.doneFn=Ln,We.minDrag=1,yn(Ze,Ye,Qe)):st==="pan"&&(We.moveFn=Jn,We.doneFn=hn))),R._fullLayout._redrag=function(){var yt=R._dragdata;if(yt&&yt.element===Ue){var Ct=R._fullLayout.dragmode;C(Ct)||(Re(),me([0,0,bt,xt]),We.moveFn(yt.dx,yt.dy))}}};function St(){We.plotinfo.selection=!1,H(R)}function Mt(Ze,Ye){var Qe=We.gd;if(Qe._fullLayout._activeShapeIndex>=0){Qe._fullLayout._deactivateShape(Qe);return}var mt=Qe._fullLayout.clickmode;if(ye(Qe),Ze===2&&!Me&&Vn(),rt)mt.indexOf("select")>-1&&Z(Ye,Qe,qe,vt,ne.id,We),mt.indexOf("event")>-1&&x.click(Qe,Ye,ne.id);else if(Ze===1&&Me){var st=Oe?Le:ke,yt=Oe==="s"||Ke==="w"?0:1,Ct=st._name+".range["+yt+"]",wt=Y(st,yt),Ot="left",en="middle";if(st.fixedrange)return;Oe?(en=Oe==="n"?"top":"bottom",st.side==="right"&&(Ot="right")):Ke==="e"&&(Ot="right"),Qe._context.showAxisRangeEntryBoxes&&o.select(Ue).call(m.makeEditable,{gd:Qe,immediate:!0,background:Qe._fullLayout.paper_bgcolor,text:String(wt),fill:st.tickfont?st.tickfont.color:"#444",horizontalAlign:Ot,verticalAlign:en}).on("edit",function(Tt){var fn=st.d2r(Tt);fn!==void 0&&h.call("_guiRelayout",Qe,Ct,fn)})}}_.init(We);var ot,Xe,_t,Xt,sn,pn,An,zn,Jt,Cn;function yn(Ze,Ye,Qe){var mt=Ue.getBoundingClientRect();ot=Ye-mt.left,Xe=Qe-mt.top,R._fullLayout._calcInverseTransform(R);var st=c.apply3DTransform(R._fullLayout._invTransform)(ot,Xe);ot=st[0],Xe=st[1],_t={l:ot,r:ot,w:0,t:Xe,b:Xe,h:0},Xt=R._hmpixcount?R._hmlumcount/R._hmpixcount:u(R._fullLayout.plot_bgcolor).getLuminance(),sn="M0,0H"+bt+"V"+xt+"H0V0",pn=!1,An="xy",Cn=!1,zn=be(Je,Xt,At,Dt,sn),Jt=Se(Je,At,Dt)}function xn(Ze,Ye){if(R._transitioningWithDuration)return!1;var Qe=Math.max(0,Math.min(bt,ve*Ze+ot)),mt=Math.max(0,Math.min(xt,ge*Ye+Xe)),st=Math.abs(Qe-ot),yt=Math.abs(mt-Xe);_t.l=Math.min(ot,Qe),_t.r=Math.max(ot,Qe),_t.t=Math.min(Xe,mt),_t.b=Math.max(Xe,mt);function Ct(){An="",_t.r=_t.l,_t.t=_t.b,Jt.attr("d","M0,0Z")}if(Et.isSubplotConstrained)st>O||yt>O?(An="xy",st/bt>yt/xt?(yt=st*xt/bt,Xe>mt?_t.t=Xe-yt:_t.b=Xe+yt):(st=yt*bt/xt,ot>Qe?_t.l=ot-st:_t.r=ot+st),Jt.attr("d",ee(_t))):Ct();else if(pt.isSubplotConstrained)if(st>O||yt>O){An="xy";var wt=Math.min(_t.l/bt,(xt-_t.b)/xt),Ot=Math.max(_t.r/bt,(xt-_t.t)/xt);_t.l=wt*bt,_t.r=Ot*bt,_t.b=(1-wt)*xt,_t.t=(1-Ot)*xt,Jt.attr("d",ee(_t))}else Ct();else!Wt||yt<Math.min(Math.max(st*.6,j),O)?st<j||!Rt?Ct():(_t.t=0,_t.b=xt,An="x",Jt.attr("d",P(_t,Xe))):!Rt||st<Math.min(yt*.6,O)?(_t.l=0,_t.r=bt,An="y",Jt.attr("d",U(_t,ot))):(An="xy",Jt.attr("d",ee(_t)));_t.w=_t.r-_t.l,_t.h=_t.b-_t.t,An&&(Cn=!0),R._dragged=Cn,ze(zn,Jt,_t,sn,pn,Xt),Pn(),R.emit("plotly_relayouting",Be),pn=!0}function Pn(){Be={},(An==="xy"||An==="x")&&(Q(qe,_t.l/bt,_t.r/bt,Be,Et.xaxes),bn("x",Be)),(An==="xy"||An==="y")&&(Q(vt,(xt-_t.b)/xt,(xt-_t.t)/xt,Be,Et.yaxes),bn("y",Be))}function Ln(){Pn(),ye(R),hn(),he(R)}var on=[0,0,bt,xt],_n=null,gn=N.REDRAWDELAY,Un=ne.mainplot?R._fullLayout._plots[ne.mainplot]:ne;function qn(Ze){if(!R._context._scrollZoom.cartesian&&!R._fullLayout._enablescrollzoom)return;if(St(),R._transitioningWithDuration){Ze.preventDefault(),Ze.stopPropagation();return}Re(),clearTimeout(_n);var Ye=-Ze.deltaY;if(isFinite(Ye)||(Ye=Ze.wheelDelta/10),!isFinite(Ye)){c.log("Did not find wheel motion attributes: ",Ze);return}var Qe=Math.exp(-Math.min(Math.max(Ye,-20),20)/200),mt=Un.draglayer.select(".nsewdrag").node().getBoundingClientRect(),st=(Ze.clientX-mt.left)/mt.width,yt=(mt.bottom-Ze.clientY)/mt.height,Ct;function wt(Ot,en,Tt){if(Ot.fixedrange)return;var fn=c.simpleMap(Ot.range,Ot.r2l),Zt=fn[0]+(fn[1]-fn[0])*en;function an(ln){return Ot.l2r(Zt+(ln-Zt)*Tt)}Ot.range=fn.map(an)}if(Yt){for(Ke||(st=.5),Ct=0;Ct<qe.length;Ct++)wt(qe[Ct],st,Qe);bn("x"),on[2]*=Qe,on[0]+=on[2]*st*(1/Qe-1)}if(et){for(Oe||(yt=.5),Ct=0;Ct<vt.length;Ct++)wt(vt[Ct],yt,Qe);bn("y"),on[3]*=Qe,on[1]+=on[3]*(1-yt)*(1/Qe-1)}me(on),Qn(),R.emit("plotly_relayouting",Be),_n=setTimeout(function(){R._fullLayout&&(on=[0,0,bt,xt],hn())},gn),Ze.preventDefault()}Oe.length*Ke.length!==1&&E(Ue,qn);function Jn(Ze,Ye){if(Ze=Ze*ve,Ye=Ye*ge,R._transitioningWithDuration)return;if(R._fullLayout._replotting=!0,Rt==="ew"||Wt==="ns"){var Qe=Rt?-Ze:0,mt=Wt?-Ye:0;if(pt.isSubplotConstrained){if(Rt&&Wt){var st=(Ze/bt-Ye/xt)/2;Ze=st*bt,Ye=-st*xt,Qe=-Ze,mt=-Ye}Wt?Qe=-mt*bt/xt:mt=-Qe*xt/bt}Rt&&(re(qe,Ze),bn("x")),Wt&&(re(vt,Ye),bn("y")),me([Qe,mt,bt,xt]),Qn(),R.emit("plotly_relayouting",Be);return}function yt(an,ln,En){for(var Gn=1-ln,sr,Yn,Xr=0;Xr<an.length;Xr++){var Mr=an[Xr];if(!Mr.fixedrange){sr=Mr,Yn=Mr._rl[Gn]+(Mr._rl[ln]-Mr._rl[Gn])/te(En/Mr._length);var Ur=Mr.l2r(Yn);Ur!==!1&&Ur!==void 0&&(Mr.range[ln]=Ur)}}return sr._length*(sr._rl[ln]-Yn)/(sr._rl[ln]-sr._rl[Gn])}var Ct=Rt==="w"==(Wt==="n")?1:-1;if(Rt&&Wt&&(Et.isSubplotConstrained||pt.isSubplotConstrained)){var wt=(Ze/bt+Ct*Ye/xt)/2;Ze=wt*bt,Ye=Ct*wt*xt}var Ot,en;if(Rt==="w"?Ze=yt(qe,0,Ze):Rt==="e"?Ze=yt(qe,1,-Ze):Rt||(Ze=0),Wt==="n"?Ye=yt(vt,1,Ye):Wt==="s"?Ye=yt(vt,0,-Ye):Wt||(Ye=0),Ot=Rt==="w"?Ze:0,en=Wt==="n"?Ye:0,Et.isSubplotConstrained&&!pt.isSubplotConstrained||pt.isSubplotConstrained&&Rt&&Wt&&Ct>0){var Tt;if(pt.isSubplotConstrained||!Rt&&Wt.length===1){for(Tt=0;Tt<qe.length;Tt++)qe[Tt].range=qe[Tt]._r.slice(),$(qe[Tt],1-Ye/xt);Ze=Ye*bt/xt,Ot=Ze/2}if(pt.isSubplotConstrained||!Wt&&Rt.length===1){for(Tt=0;Tt<vt.length;Tt++)vt[Tt].range=vt[Tt]._r.slice(),$(vt[Tt],1-Ze/bt);Ye=Ze*xt/bt,en=Ye/2}}(!pt.isSubplotConstrained||!Wt)&&bn("x"),(!pt.isSubplotConstrained||!Rt)&&bn("y");var fn=bt-Ze,Zt=xt-Ye;pt.isSubplotConstrained&&!(Rt&&Wt)&&(Rt?(en=Ot?0:Ze*xt/bt,Zt=fn*xt/bt):(Ot=en?0:Ye*bt/xt,fn=Zt*bt/xt)),me([Ot,en,fn,Zt]),Qn(),R.emit("plotly_relayouting",Be)}function bn(Ze,Ye){for(var Qe=pt.isSubplotConstrained?{x:vt,y:qe}[Ze]:pt[Ze+"axes"],mt=pt.isSubplotConstrained?{x:qe,y:vt}[Ze]:[],st=0;st<Qe.length;st++){var yt=Qe[st],Ct=yt._id,wt=pt.xLinks[Ct]||pt.yLinks[Ct],Ot=mt[0]||He[wt]||Ve[wt];Ot&&(Ye?(Ye[yt._name+".range[0]"]=Ye[Ot._name+".range[0]"],Ye[yt._name+".range[1]"]=Ye[Ot._name+".range[1]"]):yt.range=Ot.range.slice())}}function Qn(){var Ze=[],Ye;function Qe(Ct){for(Ye=0;Ye<Ct.length;Ye++)Ct[Ye].fixedrange||Ze.push(Ct[Ye]._id)}function mt(Ct,wt){for(Ye=0;Ye<Ct.length;Ye++){var Ot=Ct[Ye],en=Ot[wt];!Ot.fixedrange&&en.tickmode==="sync"&&Ze.push(en._id)}}for(Yt&&(Qe(qe),Qe(Et.xaxes),Qe(pt.xaxes),mt(ne.overlays,"xaxis")),et&&(Qe(vt),Qe(Et.yaxes),Qe(pt.yaxes),mt(ne.overlays,"yaxis")),Be={},Ye=0;Ye<Ze.length;Ye++){var st=Ze[Ye],yt=T(R,st);w.drawOne(R,yt,{skipTitle:!0}),Be[yt._name+".range[0]"]=yt.range[0],Be[yt._name+".range[1]"]=yt.range[1]}w.redrawComponents(R,Ze)}function Vn(){if(!R._transitioningWithDuration){var Ze=R._context.doubleClick,Ye=[];Rt&&(Ye=Ye.concat(qe)),Wt&&(Ye=Ye.concat(vt)),pt.xaxes&&(Ye=Ye.concat(pt.xaxes)),pt.yaxes&&(Ye=Ye.concat(pt.yaxes));var Qe={},mt,st;if(Ze==="reset+autosize")for(Ze="autosize",st=0;st<Ye.length;st++){mt=Ye[st];var yt=mt._rangeInitial0,Ct=mt._rangeInitial1,wt=yt!==void 0||Ct!==void 0;if(wt&&(yt!==void 0&&yt!==mt.range[0]||Ct!==void 0&&Ct!==mt.range[1])||!wt&&mt.autorange!==!0){Ze="reset";break}}if(Ze==="autosize")for(st=0;st<Ye.length;st++)mt=Ye[st],mt.fixedrange||(Qe[mt._name+".autorange"]=!0);else if(Ze==="reset"){for((Rt||Et.isSubplotConstrained)&&(Ye=Ye.concat(Et.xaxes)),Wt&&!Et.isSubplotConstrained&&(Ye=Ye.concat(Et.yaxes)),Et.isSubplotConstrained&&(Rt?Wt||(Ye=Ye.concat(vt)):Ye=Ye.concat(qe)),st=0;st<Ye.length;st++)if(mt=Ye[st],!mt.fixedrange){var Ot=mt._name,en=mt._autorangeInitial;mt._rangeInitial0===void 0&&mt._rangeInitial1===void 0?Qe[Ot+".autorange"]=!0:mt._rangeInitial0===void 0?(Qe[Ot+".autorange"]=en,Qe[Ot+".range"]=[null,mt._rangeInitial1]):mt._rangeInitial1===void 0?(Qe[Ot+".range"]=[mt._rangeInitial0,null],Qe[Ot+".autorange"]=en):Qe[Ot+".range"]=[mt._rangeInitial0,mt._rangeInitial1]}}R.emit("plotly_doubleclick",null),h.call("_guiRelayout",R,Qe)}}function hn(){me([0,0,bt,xt]),c.syncOrAsync([I.previousPromises,function(){R._fullLayout._replotting=!1,h.call("_guiRelayout",R,Be)}],R)}function me(Ze){var Ye=R._fullLayout,Qe=Ye._plots,mt=Ye._subplots.cartesian,st,yt,Ct,wt;if(gt&&h.subplotsRegistry.splom.drag(R),ct){for(st=0;st<mt.length;st++)if(yt=Qe[mt[st]],Ct=yt.xaxis,wt=yt.yaxis,yt._scene){Ct.limitRange&&Ct.limitRange(),wt.limitRange&&wt.limitRange();var Ot=c.simpleMap(Ct.range,Ct.r2l),en=c.simpleMap(wt.range,wt.r2l);yt._scene.update({range:[Ot[0],en[0],Ot[1],en[1]]})}}if((gt||ct)&&(S(R),M(R)),_e){var Tt=Ze[2]/ke._length,fn=Ze[3]/Le._length;for(st=0;st<mt.length;st++){yt=Qe[mt[st]],Ct=yt.xaxis,wt=yt.yaxis;var Zt=(Yt||pt.isSubplotConstrained)&&!Ct.fixedrange&&He[Ct._id],an=(et||pt.isSubplotConstrained)&&!wt.fixedrange&&Ve[wt._id],ln,En,Gn,sr;if(Zt?(ln=Tt,Gn=Ke||pt.isSubplotConstrained?Ze[0]:tt(Ct,ln)):pt.xaHash[Ct._id]?(ln=Tt,Gn=Ze[0]*Ct._length/ke._length):pt.yaHash[Ct._id]?(ln=fn,Gn=Wt==="ns"?-Ze[1]*Ct._length/Le._length:tt(Ct,ln,{n:"top",s:"bottom"}[Wt])):(ln=ce(Ct,Tt,fn),Gn=it(Ct,ln)),ln>1&&(Ct.maxallowed!==void 0&&Yt===(Ct.range[0]<Ct.range[1]?"e":"w")||Ct.minallowed!==void 0&&Yt===(Ct.range[0]<Ct.range[1]?"w":"e"))&&(ln=1,Gn=0),an?(En=fn,sr=Oe||pt.isSubplotConstrained?Ze[1]:tt(wt,En)):pt.yaHash[wt._id]?(En=fn,sr=Ze[1]*wt._length/Le._length):pt.xaHash[wt._id]?(En=Tt,sr=Rt==="ew"?-Ze[0]*wt._length/ke._length:tt(wt,En,{e:"right",w:"left"}[Rt])):(En=ce(wt,Tt,fn),sr=it(wt,En)),En>1&&(wt.maxallowed!==void 0&&et===(wt.range[0]<wt.range[1]?"n":"s")||wt.minallowed!==void 0&&et===(wt.range[0]<wt.range[1]?"s":"n"))&&(En=1,sr=0),!(!ln&&!En)){ln||(ln=1),En||(En=1);var Yn=Ct._offset-Gn/ln,Xr=wt._offset-sr/En;yt.clipRect.call(y.setTranslate,Gn,sr).call(y.setScale,ln,En),yt.plot.call(y.setTranslate,Yn,Xr).call(y.setScale,1/ln,1/En),(ln!==yt.xScaleFactor||En!==yt.yScaleFactor)&&(y.setPointGroupScale(yt.zoomScalePts,ln,En),y.setTextPointsScale(yt.zoomScaleTxt,ln,En)),y.hideOutsideRangePoints(yt.clipOnAxisFalseTraces,yt),yt.xScaleFactor=ln,yt.yScaleFactor=En}}}}function ce(Ze,Ye,Qe){return Ze.fixedrange?0:Yt&&Et.xaHash[Ze._id]?Ye:et&&(Et.isSubplotConstrained?Et.xaHash:Et.yaHash)[Ze._id]?Qe:0}function it(Ze,Ye){return Ye?(Ze.range=Ze._r.slice(),$(Ze,Ye),tt(Ze,Ye)):0}function tt(Ze,Ye,Qe){return Ze._length*(1-Ye)*b[Qe||Ze.constraintoward||"middle"]}return Ue}function oe(R,ne,pe,xe){var we=c.ensureSingle(R.draglayer,ne,pe,function(Ee){Ee.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",R.id)});return we.call(L,xe),we.node()}function V(R,ne,pe,xe,we,Ee,Oe){var Ke=oe(R,"rect",ne,pe);return o.select(Ke).call(y.setRect,xe,we,Ee,Oe),Ke}function W(R,ne){for(var pe=0;pe<R.length;pe++)if(!R[pe].fixedrange)return ne;return""}function Y(R,ne){var pe=R.range[ne],xe=Math.abs(pe-R.range[1-ne]),we;return R.type==="date"?pe:R.type==="log"?(we=Math.ceil(Math.max(0,-Math.log(xe)/Math.LN10))+3,l("."+we+"g")(Math.pow(10,pe))):(we=Math.floor(Math.log(Math.abs(pe))/Math.LN10)-Math.floor(Math.log(xe)/Math.LN10)+4,l("."+String(we)+"g")(pe))}function Q(R,ne,pe,xe,we){for(var Ee=0;Ee<R.length;Ee++){var Oe=R[Ee];if(!Oe.fixedrange)if(Oe.rangebreaks){var Ke=Oe._id.charAt(0)==="y",Je=Ke?1-ne:ne,rt=Ke?1-pe:pe;xe[Oe._name+".range[0]"]=Oe.l2r(Oe.p2l(Je*Oe._length)),xe[Oe._name+".range[1]"]=Oe.l2r(Oe.p2l(rt*Oe._length))}else{var Me=Oe._rl[0],ke=Oe._rl[1]-Me;xe[Oe._name+".range[0]"]=Oe.l2r(Me+ke*ne),xe[Oe._name+".range[1]"]=Oe.l2r(Me+ke*pe)}}if(we&&we.length){var Le=(ne+(1-pe))/2;Q(we,Le,1-Le,xe,[])}}function re(R,ne){for(var pe=0;pe<R.length;pe++){var xe=R[pe];if(!xe.fixedrange){if(xe.rangebreaks){var we=0,Ee=xe._length,Oe=xe.p2l(we+ne)-xe.p2l(we),Ke=xe.p2l(Ee+ne)-xe.p2l(Ee),Je=(Oe+Ke)/2;xe.range=[xe.l2r(xe._rl[0]-Je),xe.l2r(xe._rl[1]-Je)]}else xe.range=[xe.l2r(xe._rl[0]-ne/xe._m),xe.l2r(xe._rl[1]-ne/xe._m)];xe.limitRange&&xe.limitRange()}}}function te(R){return 1-(R>=0?Math.min(R,.9):1/(1/Math.max(R,-.3)+3.222))}function le(R,ne,pe){return R?R==="nsew"?pe?"":ne==="pan"?"move":"crosshair":R.toLowerCase()+"-resize":"pointer"}function be(R,ne,pe,xe,we){return R.append("path").attr("class","zoombox").style({fill:ne>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",p(pe,xe)).attr("d",we+"Z")}function Se(R,ne,pe){return R.append("path").attr("class","zoombox-corners").style({fill:d.background,stroke:d.defaultLine,"stroke-width":1,opacity:0}).attr("transform",p(ne,pe)).attr("d","M0,0Z")}function ze(R,ne,pe,xe,we,Ee){R.attr("d",xe+"M"+pe.l+","+pe.t+"v"+pe.h+"h"+pe.w+"v-"+pe.h+"h-"+pe.w+"Z"),Te(R,ne,we,Ee)}function Te(R,ne,pe,xe){pe||(R.transition().style("fill",xe>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ne.transition().style("opacity",1).duration(200))}function ye(R){o.select(R).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function he(R){X&&R.data&&R._context.showTips&&(c.notifier(c._(R,"Double-click to zoom back out"),"long"),X=!1)}function P(R,ne){return"M"+(R.l-.5)+","+(ne-O-.5)+"h-3v"+(2*O+1)+"h3ZM"+(R.r+.5)+","+(ne-O-.5)+"h3v"+(2*O+1)+"h-3Z"}function U(R,ne){return"M"+(ne-O-.5)+","+(R.t-.5)+"v-3h"+(2*O+1)+"v3ZM"+(ne-O-.5)+","+(R.b+.5)+"v3h"+(2*O+1)+"v-3Z"}function ee(R){var ne=Math.floor(Math.min(R.b-R.t,R.r-R.l,O)/2);return"M"+(R.l-3.5)+","+(R.t-.5+ne)+"h3v"+-ne+"h"+ne+"v-3h-"+(ne+3)+"ZM"+(R.r+3.5)+","+(R.t-.5+ne)+"h-3v"+-ne+"h"+-ne+"v-3h"+(ne+3)+"ZM"+(R.r+3.5)+","+(R.b+.5-ne)+"h-3v"+ne+"h"+-ne+"v3h"+(ne+3)+"ZM"+(R.l-3.5)+","+(R.b+.5-ne)+"h3v"+ne+"h"+ne+"v3h-"+(ne+3)+"Z"}function G(R,ne,pe,xe,we){for(var Ee=!1,Oe={},Ke={},Je,rt,Me,ke,Le=(we||{}).xaHash,He=(we||{}).yaHash,Ve=0;Ve<ne.length;Ve++){var qe=ne[Ve];for(Je in pe)if(qe[Je]){for(Me in qe)!(we&&(Le[Me]||He[Me]))&&!(Me.charAt(0)==="x"?pe:xe)[Me]&&(Oe[Me]=Je);for(rt in xe)!(we&&(Le[rt]||He[rt]))&&qe[rt]&&(Ee=!0)}for(rt in xe)if(qe[rt])for(ke in qe)!(we&&(Le[ke]||He[ke]))&&!(ke.charAt(0)==="x"?pe:xe)[ke]&&(Ke[ke]=rt)}Ee&&(c.extendFlat(Oe,Ke),Ke={});var vt={},At=[];for(Me in Oe){var Dt=T(R,Me);At.push(Dt),vt[Dt._id]=Dt}var bt={},xt=[];for(ke in Ke){var Et=T(R,ke);xt.push(Et),bt[Et._id]=Et}return{xaHash:vt,yaHash:bt,xaxes:At,yaxes:xt,xLinks:Oe,yLinks:Ke,isSubplotConstrained:Ee}}function E(R,ne){if(!f)R.onwheel!==void 0?R.onwheel=ne:R.onmousewheel!==void 0?R.onmousewheel=ne:R.isAddedWheelEvent||(R.isAddedWheelEvent=!0,R.addEventListener("wheel",ne,{passive:!1}));else{var pe=R.onwheel!==void 0?"wheel":"mousewheel";R._onwheel&&R.removeEventListener(pe,R._onwheel),R._onwheel=ne,R.addEventListener(pe,ne,{passive:!1})}}function K(R){var ne=[];for(var pe in R)ne.push(R[pe]);return ne}i.exports={makeDragBox:ie,makeDragger:oe,makeRectDragger:V,makeZoombox:be,makeCorners:Se,updateZoombox:ze,xyCorners:ee,transitionZoombox:Te,removeZoombox:ye,showDoubleClickNotifier:he,attachWheelEventHandler:E}},5284:function(i,s,a){"use strict";var o=a(5568),c=a(2141),l=a(4751),u=a(7983),f=a(1680).makeDragBox,h=a(4826).DRAGGERSIZE;s.initInteractions=function(m){var d=m._fullLayout;if(m._context.staticPlot){o.select(m).selectAll(".drag").remove();return}if(!(!d._has("cartesian")&&!d._has("splom"))){var y=Object.keys(d._plots||{}).sort(function(w,L){if((d._plots[w].mainplot&&!0)===(d._plots[L].mainplot&&!0)){var _=w.split("y"),D=L.split("y");return _[0]===D[0]?Number(_[1]||1)-Number(D[1]||1):Number(_[0]||1)-Number(D[0]||1)}return d._plots[w].mainplot?1:-1});y.forEach(function(w){var L=d._plots[w],_=L.xaxis,D=L.yaxis;if(!L.mainplot){var C=f(m,L,_._offset,D._offset,_._length,D._length,"ns","ew");C.onmousemove=function(S){m._fullLayout._rehover=function(){m._fullLayout._hoversubplot===w&&m._fullLayout._plots[w]&&c.hover(m,S,w)},c.hover(m,S,w),m._fullLayout._lasthover=C,m._fullLayout._hoversubplot=w},C.onmouseout=function(S){m._dragging||(m._fullLayout._hoversubplot=null,l.unhover(m,S))},m._context.showAxisDragHandles&&(f(m,L,_._offset-h,D._offset-h,h,h,"n","w"),f(m,L,_._offset+_._length,D._offset-h,h,h,"n","e"),f(m,L,_._offset-h,D._offset+D._length,h,h,"s","w"),f(m,L,_._offset+_._length,D._offset+D._length,h,h,"s","e"))}if(m._context.showAxisDragHandles){if(w===_._mainSubplot){var z=_._mainLinePosition;_.side==="top"&&(z-=h),f(m,L,_._offset+_._length*.1,z,_._length*.8,h,"","ew"),f(m,L,_._offset,z,_._length*.1,h,"","w"),f(m,L,_._offset+_._length*.9,z,_._length*.1,h,"","e")}if(w===D._mainSubplot){var b=D._mainLinePosition;D.side!=="right"&&(b-=h),f(m,L,b,D._offset+D._length*.1,h,D._length*.8,"ns",""),f(m,L,b,D._offset+D._length*.9,h,D._length*.1,"s",""),f(m,L,b,D._offset,h,D._length*.1,"n","")}}});var x=d._hoverlayer.node();x.onmousemove=function(w){w.target=m._fullLayout._lasthover,c.hover(m,w,d._hoversubplot)},x.onclick=function(w){w.target=m._fullLayout._lasthover,c.click(m,w)},x.onmousedown=function(w){m._fullLayout._lasthover.onmousedown(w)},s.updateFx(m)}},s.updateFx=function(p){var m=p._fullLayout,d=m.dragmode==="pan"?"move":"crosshair";u(m._draggers,d)}},706:function(i,s,a){"use strict";var o=a(3626),c=a(4809),l=a(5975);i.exports=function(f){return function(p,m){var d=p[f];if(Array.isArray(d))for(var y=o.subplotsRegistry.cartesian,x=y.idRegex,w=m._subplots,L=w.xaxis,_=w.yaxis,D=w.cartesian,C=m._has("cartesian")||m._has("gl2d"),z=0;z<d.length;z++){var b=d[z];if(c.isPlainObject(b)){var S=l.cleanId(b.xref,"x",!1),M=l.cleanId(b.yref,"y",!1),I=x.x.test(S),T=x.y.test(M);if(I||T){C||c.pushUnique(m._basePlotModules,y);var B=!1;I&&L.indexOf(S)===-1&&(L.push(S),B=!0),T&&_.indexOf(M)===-1&&(_.push(M),B=!0),B&&I&&T&&D.push(S+M)}}}}}},84:function(i,s,a){"use strict";var o=a(5568),c=a(3626),l=a(4809),u=a(4122),f=a(2203),h=a(4173).eV,p=a(5975),m=a(4826),d=a(2972),y=l.ensureSingle;function x(b,S,M){return l.ensureSingle(b,S,M,function(I){I.datum(M)})}var w=m.zindexSeparator;s.name="cartesian",s.attr=["xaxis","yaxis"],s.idRoot=["x","y"],s.idRegex=m.idRegex,s.attrRegex=m.attrRegex,s.attributes=a(5126),s.layoutAttributes=a(5829),s.supplyLayoutDefaults=a(4098),s.transitionAxes=a(4982),s.finalizeSubplots=function(b,S){var M=S._subplots,I=M.xaxis,T=M.yaxis,B=M.cartesian,H=B.concat(M.gl2d||[]),Z={},$={},N,j,O;for(N=0;N<H.length;N++){var X=H[N].split("y");Z[X[0]]=1,$["y"+X[1]]=1}for(N=0;N<I.length;N++)j=I[N],Z[j]||(O=(b[p.id2name(j)]||{}).anchor,m.idRegex.y.test(O)||(O="y"),B.push(j+O),H.push(j+O),$[O]||($[O]=1,l.pushUnique(T,O)));for(N=0;N<T.length;N++)O=T[N],$[O]||(j=(b[p.id2name(O)]||{}).anchor,m.idRegex.x.test(j)||(j="x"),B.push(j+O),H.push(j+O),Z[j]||(Z[j]=1,l.pushUnique(I,j)));if(!H.length){j="",O="";for(var ie in b)if(m.attrRegex.test(ie)){var oe=ie.charAt(0);oe==="x"?(!j||+ie.substr(5)<+j.substr(5))&&(j=ie):(!O||+ie.substr(5)<+O.substr(5))&&(O=ie)}j=j?p.name2id(j):"x",O=O?p.name2id(O):"y",I.push(j),T.push(O),B.push(j+O)}},s.plot=function(b,S,M,I){var T=b._fullLayout,B=T._subplots.cartesian,H=b.calcdata,Z;if(!Array.isArray(S))for(S=[],Z=0;Z<H.length;Z++)S.push(Z);for(var $=T._zindices,N=0;N<$.length;N++){var j=$[N];for(Z=0;Z<B.length;Z++){var O=B[Z],X=T._plots[O];if(N>0){var ie=X.id;if(ie.indexOf(w)!==-1)continue;ie+=w+(N+1),X=l.extendFlat({},X,{id:ie,plot:T._cartesianlayer.selectAll(".subplot").select("."+ie)})}for(var oe=[],V,W=0;W<H.length;W++){var Y=H[W],Q=Y[0].trace;j===(Q.zorder||0)&&Q.xaxis+Q.yaxis===O&&((S.indexOf(Q.index)!==-1||Q.carpet)&&(V&&V[0].trace.xaxis+V[0].trace.yaxis===O&&["tonextx","tonexty","tonext"].indexOf(Q.fill)!==-1&&oe.indexOf(V)===-1&&oe.push(V),oe.push(Y)),V=Y)}L(b,X,oe,M,I)}}};function L(b,S,M,I,T){for(var B=m.traceLayerClasses,H=b._fullLayout,Z=H._zindices,$=H._modules,N,j,O,X=[],ie=[],oe=0;oe<Z.length;oe++)for(var V=Z[oe],W=0;W<$.length;W++){N=$[W];var Y=N.name,Q=c.modules[Y].categories;if(Q.svg){var re=N.layerName||Y+"layer",te=re+(oe?Number(oe)+1:""),le=N.plot;j=h(M,le,V),O=j[0],M=j[1],O.length&&X.push({i:B.indexOf(re),zindex:oe,className:te,plotMethod:le,cdModule:O}),Q.zoomScale&&ie.push("."+te)}}X.sort(function(ze,Te){return(ze.zindex||0)-(Te.zindex||0)||ze.i-Te.i});var be=S.plot.selectAll("g.mlayer").data(X,function(ze){return ze.className});if(be.enter().append("g").attr("class",function(ze){return ze.className}).classed("mlayer",!0).classed("rangeplot",S.isRangePlot),be.exit().remove(),be.order(),be.each(function(ze){var Te=o.select(this),ye=ze.className;ze.plotMethod(b,S,ze.cdModule,Te,I,T),m.clipOnAxisFalseQuery.indexOf("."+ye)===-1&&f.setClipUrl(Te,S.layerClipId,b)}),H._has("scattergl")&&(N=c.getModule("scattergl"),O=h(M,N)[0],N.plot(b,S,O)),!b._context.staticPlot&&(S._hasClipOnAxisFalse&&(S.clipOnAxisFalseTraces=S.plot.selectAll(m.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),ie.length)){var Se=S.plot.selectAll(ie.join(",")).selectAll(".trace");S.zoomScalePts=Se.selectAll("path.point"),S.zoomScaleTxt=Se.selectAll(".textpoint")}}s.clean=function(b,S,M,I){var T=I._plots||{},B=S._plots||{},H=I._subplots||{},Z,$,N;if(I._hasOnlyLargeSploms&&!S._hasOnlyLargeSploms)for(N in T)Z=T[N],Z.plotgroup&&Z.plotgroup.remove();var j=I._has&&I._has("gl"),O=S._has&&S._has("gl");if(j&&!O)for(N in T)Z=T[N],Z._scene&&Z._scene.destroy();if(H.xaxis&&H.yaxis){var X=p.listIds({_fullLayout:I});for($=0;$<X.length;$++){var ie=X[$];S[p.id2name(ie)]||I._infolayer.selectAll(".g-"+ie+"title").remove()}}var oe=I._has&&I._has("cartesian"),V=S._has&&S._has("cartesian");if(oe&&!V)C(I._cartesianlayer.selectAll(".subplot"),I),I._defs.selectAll(".axesclip").remove(),delete I._axisConstraintGroups,delete I._axisMatchGroups;else if(H.cartesian)for($=0;$<H.cartesian.length;$++){var W=H.cartesian[$];if(W.indexOf(w)===-1&&!B[W]){var Y="."+W+",."+W+"-x,."+W+"-y";I._cartesianlayer.selectAll(Y).remove(),z(W,I)}}},s.drawFramework=function(b){var S=b._fullLayout,M=b.calcdata,I,T={};for(I=0;I<M.length;I++){var B=M[I][0],H=B.trace,Z=H.zorder||0;T[Z]||(T[Z]=[]),T[Z].push(B)}var $=Object.keys(T).map(Number).sort(l.sorterAsc);$.length||($=[0]),S._zindices=$;var N=_(b),j=N.length,O=[];for(I=0;I<j;I++)O[I]=N[I].slice();for(var X=1;X<$.length;X++){var ie=[];for(I=0;I<j;I++)ie[I]=N[I].slice(),ie[I][0]+=w+(X+1);O=O.concat(ie)}var oe=S._cartesianlayer.selectAll(".subplot").data(O,String);oe.enter().append("g").attr("class",function(V){return"subplot "+V[0]}),oe.order(),oe.exit().call(C,S),oe.each(function(V){var W=V[0],Y=W.indexOf(w),Q=Y!==-1,re=Q?W.slice(0,Y):W,te=S._plots[W];te||(te=l.extendFlat({},S._plots[re]),te&&(te.id=W,S._plots[W]=te,S._subplots.cartesian.push(W))),te&&(te.plotgroup=o.select(this),D(b,te),Q||(te.draglayer=y(S._draggers,"g",W)))})},s.rangePlot=function(b,S,M){D(b,S),L(b,S,M),u.style(b)};function _(b){var S=b._fullLayout,M=S._zindices.length,I=S._subplots.cartesian,T=I.length,B,H,Z,$,N,j,O=[],X=[];for(B=0;B<T;B++){Z=I[B],$=S._plots[Z],N=$.xaxis,j=$.yaxis;var ie=N._mainAxis,oe=j._mainAxis,V=ie._id+oe._id,W=S._plots[V];$.overlays=[],V!==Z&&W?($.mainplot=V,$.mainplotinfo=W,X.push(Z)):($.mainplot=void 0,$.mainplotinfo=void 0,O.push(Z))}for(B=0;B<X.length;B++)Z=X[B],$=S._plots[Z],$.mainplotinfo.overlays.push($);var Y=O.concat(X),Q=[];for(B=0;B<T;B++){Z=Y[B],$=S._plots[Z],N=$.xaxis,j=$.yaxis;for(var re=[],te=1;te<=M;te++){var le="";for(te>1&&(le+=w+te),re.push(Z+le),H=0;H<$.overlays.length;H++)re.push($.overlays[H].id+le)}re=re.concat([N.layer,j.layer,N.overlaying||"",j.overlaying||""]),Q.push(re)}return Q}function D(b,S){var M=b._fullLayout,I=S.plotgroup,T=S.id,B=T.indexOf(w),H=B!==-1,Z=m.layerValue2layerClass[S.xaxis.layer],$=m.layerValue2layerClass[S.yaxis.layer],N=M._hasOnlyLargeSploms;if(!S.mainplot||M._zindices.length>1)if(N)S.xlines=y(I,"path","xlines-above"),S.ylines=y(I,"path","ylines-above"),S.xaxislayer=y(I,"g","xaxislayer-above"),S.yaxislayer=y(I,"g","yaxislayer-above");else{if(!H){var j=y(I,"g","layer-subplot");S.shapelayer=y(j,"g","shapelayer"),S.imagelayer=y(j,"g","imagelayer"),S.minorGridlayer=y(I,"g","minor-gridlayer"),S.gridlayer=y(I,"g","gridlayer"),S.zerolinelayer=y(I,"g","zerolinelayer");var O=y(I,"g","layer-between");S.shapelayerBetween=y(O,"g","shapelayer"),S.imagelayerBetween=y(O,"g","imagelayer"),y(I,"path","xlines-below"),y(I,"path","ylines-below"),S.overlinesBelow=y(I,"g","overlines-below"),y(I,"g","xaxislayer-below"),y(I,"g","yaxislayer-below"),S.overaxesBelow=y(I,"g","overaxes-below")}S.overplot=y(I,"g","overplot"),S.plot=y(S.overplot,"g",T),H||(S.xlines=y(I,"path","xlines-above"),S.ylines=y(I,"path","ylines-above"),S.overlinesAbove=y(I,"g","overlines-above"),y(I,"g","xaxislayer-above"),y(I,"g","yaxislayer-above"),S.overaxesAbove=y(I,"g","overaxes-above"),S.xlines=I.select(".xlines-"+Z),S.ylines=I.select(".ylines-"+$),S.xaxislayer=I.select(".xaxislayer-"+Z),S.yaxislayer=I.select(".yaxislayer-"+$))}else{var X=S.mainplotinfo,ie=X.plotgroup,oe=T+"-x",V=T+"-y";S.minorGridlayer=X.minorGridlayer,S.gridlayer=X.gridlayer,S.zerolinelayer=X.zerolinelayer,y(X.overlinesBelow,"path",oe),y(X.overlinesBelow,"path",V),y(X.overaxesBelow,"g",oe),y(X.overaxesBelow,"g",V),S.plot=y(X.overplot,"g",T),y(X.overlinesAbove,"path",oe),y(X.overlinesAbove,"path",V),y(X.overaxesAbove,"g",oe),y(X.overaxesAbove,"g",V),S.xlines=ie.select(".overlines-"+Z).select("."+oe),S.ylines=ie.select(".overlines-"+$).select("."+V),S.xaxislayer=ie.select(".overaxes-"+Z).select("."+oe),S.yaxislayer=ie.select(".overaxes-"+$).select("."+V)}H||(N||(x(S.minorGridlayer,"g",S.xaxis._id),x(S.minorGridlayer,"g",S.yaxis._id),S.minorGridlayer.selectAll("g").map(function(W){return W[0]}).sort(p.idSort),x(S.gridlayer,"g",S.xaxis._id),x(S.gridlayer,"g",S.yaxis._id),S.gridlayer.selectAll("g").map(function(W){return W[0]}).sort(p.idSort)),S.xlines.style("fill","none").classed("crisp",!0),S.ylines.style("fill","none").classed("crisp",!0))}function C(b,S){if(b){var M={};b.each(function($){var N=$[0],j=o.select(this);j.remove(),z(N,S),M[N]=!0});for(var I in S._plots)for(var T=S._plots[I],B=T.overlays||[],H=0;H<B.length;H++){var Z=B[H];M[Z.id]&&Z.plot.selectAll(".trace").remove()}}}function z(b,S){S._draggers.selectAll("g."+b).remove(),S._defs.select("#clip"+S._uid+b+"plot").remove()}s.toSVG=function(b){var S=b._fullLayout._glimages,M=o.select(b).selectAll(".svg-container"),I=M.filter(function(B,H){return H===M.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function T(){var B=this,H=B.toDataURL("image/png"),Z=S.append("svg:image");Z.attr({xmlns:d.svg,"xlink:href":H,preserveAspectRatio:"none",x:0,y:0,width:B.style.width,height:B.style.height})}I.each(T)},s.updateFx=a(5284).updateFx},5829:function(i,s,a){"use strict";var o=a(337),c=a(229),l=a(4850).T,u=a(3049).extendFlat,f=a(8032).templatedArray,h=a(712).descriptionWithDates,p=a(3821).ONEDAY,m=a(4826),d=m.HOUR_PATTERN,y=m.WEEKDAY_PATTERN,x={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},w=u({},x,{values:x.values.slice().concat(["sync"])});function L(Z){return{valType:"integer",min:0,dflt:Z?5:0,editType:"ticks"}}var _={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},D={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},C={valType:"data_array",editType:"ticks"},z={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function b(Z){var $={valType:"number",min:0,editType:"ticks"};return Z||($.dflt=5),$}function S(Z){var $={valType:"number",min:0,editType:"ticks"};return Z||($.dflt=1),$}var M={valType:"color",dflt:c.defaultLine,editType:"ticks"},I={valType:"color",dflt:c.lightLine,editType:"ticks"};function T(Z){var $={valType:"number",min:0,editType:"ticks"};return Z||($.dflt=1),$}var B=u({},l,{editType:"ticks"}),H={valType:"boolean",editType:"ticks"};i.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:c.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:o({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[m.idRegex.x.toString(),m.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[m.idRegex.x.toString(),m.idRegex.y.toString()],editType:"calc"},rangebreaks:f("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[y,d,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:p},editType:"calc"}),tickmode:w,nticks:L(),tick0:_,dtick:D,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:C,ticktext:{valType:"data_array",editType:"ticks"},ticks:z,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},ticklabelshift:{valType:"integer",dflt:0,editType:"ticks"},ticklabelstandoff:{valType:"integer",dflt:0,editType:"ticks"},ticklabelindex:{valType:"integer",arrayOk:!0,editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:b(),tickwidth:S(),tickcolor:M,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:u({},l,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:o({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:h("tick label")},tickformatstops:f("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:h("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:c.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:H,gridcolor:I,gridwidth:T(),griddash:B,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:c.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:c.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",m.idRegex.x.toString(),m.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",m.idRegex.x.toString(),m.idRegex.y.toString()],editType:"plot"},minor:{tickmode:x,nticks:L("minor"),tick0:_,dtick:D,tickvals:C,ticks:z,ticklen:b("minor"),tickwidth:S("minor"),tickcolor:M,gridcolor:I,gridwidth:T("minor"),griddash:B,showgrid:H,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","geometric mean ascending","geometric mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:o({editType:"ticks"})}}},4098:function(i,s,a){"use strict";var o=a(4809),c=a(8766),l=a(6040).isUnifiedHover,u=a(5265),f=a(8032),h=a(6704),p=a(5829),m=a(4392),d=a(7655),y=a(4391),x=a(957),w=a(5975),L=w.id2name,_=w.name2id,D=a(4826).AX_ID_PATTERN,C=a(3626),z=C.traceIs,b=C.getComponentMethod;function S(M,I,T){Array.isArray(M[I])?M[I].push(T):M[I]=[T]}i.exports=function(I,T,B){var H=T.autotypenumbers,Z={},$={},N={},j={},O={},X={},ie={},oe={},V={},W={},Y,Q;for(Y=0;Y<B.length;Y++){var re=B[Y];if(!(!z(re,"cartesian")&&!z(re,"gl2d"))){var te;if(re.xaxis)te=L(re.xaxis),S(Z,te,re);else if(re.xaxes)for(Q=0;Q<re.xaxes.length;Q++)S(Z,L(re.xaxes[Q]),re);var le;if(re.yaxis)le=L(re.yaxis),S(Z,le,re);else if(re.yaxes)for(Q=0;Q<re.yaxes.length;Q++)S(Z,L(re.yaxes[Q]),re);if(re.type==="funnel"?re.orientation==="h"?(te&&($[te]=!0),le&&(ie[le]=!0)):le&&(N[le]=!0):re.type==="image"?(le&&(oe[le]=!0),te&&(oe[te]=!0)):(le&&(O[le]=!0,X[le]=!0),(!z(re,"carpet")||re.type==="carpet"&&!re._cheater)&&te&&(j[te]=!0)),re.type==="carpet"&&re._cheater&&te&&($[te]=!0),z(re,"2dMap")&&(V[te]=!0,V[le]=!0),z(re,"oriented")){var be=re.orientation==="h"?le:te;W[be]=!0}}}var Se=T._subplots,ze=Se.xaxis,Te=Se.yaxis,ye=o.simpleMap(ze,L),he=o.simpleMap(Te,L),P=ye.concat(he),U=c.background;ze.length&&Te.length&&(U=o.coerce(I,T,h,"plot_bgcolor"));var ee=c.combine(U,T.paper_bgcolor),G,E,K,R,ne;function pe(){var ve=Z[G]||[];ne._traceIndices=ve.map(function(ge){return ge._expandedIndex}),ne._annIndices=[],ne._shapeIndices=[],ne._selectionIndices=[],ne._imgIndices=[],ne._subplotsWith=[],ne._counterAxes=[],ne._name=ne._attr=G,ne._id=E}function xe(ve,ge){return o.coerce(R,ne,p,ve,ge)}function we(ve,ge){return o.coerce2(R,ne,p,ve,ge)}function Ee(ve){return ve==="x"?Te:ze}function Oe(ve,ge){for(var Re=ve==="x"?ye:he,Fe=[],Ue=0;Ue<Re.length;Ue++){var We=Re[Ue];We!==ge&&!(I[We]||{}).overlaying&&Fe.push(_(We))}return Fe}var Ke={x:Ee("x"),y:Ee("y")},Je=Ke.x.concat(Ke.y),rt={},Me=[];function ke(){var ve=R.matches;D.test(ve)&&Je.indexOf(ve)===-1&&(rt[ve]=R.type,Me=Object.keys(rt))}var Le=u(I,T),He=l(Le);for(Y=0;Y<P.length;Y++){G=P[Y],E=_(G),K=G.charAt(0),o.isPlainObject(I[G])||(I[G]={}),R=I[G],ne=f.newContainer(T,G,K+"axis"),pe();var Ve=K==="x"&&!j[G]&&$[G]||K==="y"&&!O[G]&&N[G],qe=K==="y"&&(!X[G]&&ie[G]||oe[G]),vt={hasMinor:!0,letter:K,font:T.font,outerTicks:V[G],showGrid:!W[G],data:Z[G]||[],bgColor:ee,calendar:T.calendar,automargin:!0,visibleDflt:Ve,reverseDflt:qe,autotypenumbersDflt:H,splomStash:((T._splomAxes||{})[K]||{})[E],noAutotickangles:K==="y"};xe("uirevision",T.uirevision),m(R,ne,xe,vt),d(R,ne,xe,vt,T);var At=He&&K===Le.charAt(0),Dt=we("spikecolor",He?ne.color:void 0),bt=we("spikethickness",He?1.5:void 0),xt=we("spikedash",He?"dot":void 0),Et=we("spikemode",He?"across":void 0),pt=we("spikesnap"),Rt=xe("showspikes",!!At||!!Dt||!!bt||!!xt||!!Et||!!pt);Rt||(delete ne.spikecolor,delete ne.spikethickness,delete ne.spikedash,delete ne.spikemode,delete ne.spikesnap);var Wt=L(R.overlaying),Vt=[0,1];if(T[Wt]!==void 0){var Yt=L(T[Wt].anchor);T[Yt]!==void 0&&(Vt=T[Yt].domain)}x(R,ne,xe,{letter:K,counterAxes:Ke[K],overlayableAxes:Oe(K,G),grid:T.grid,overlayingDomain:Vt}),xe("title.standoff"),ke(),ne._input=R}for(Y=0;Y<Me.length;){E=Me[Y++],G=L(E),K=G.charAt(0),o.isPlainObject(I[G])||(I[G]={}),R=I[G],ne=f.newContainer(T,G,K+"axis"),pe();var et={letter:K,font:T.font,outerTicks:V[G],showGrid:!W[G],data:[],bgColor:ee,calendar:T.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:H,splomStash:((T._splomAxes||{})[K]||{})[E]};xe("uirevision",T.uirevision),ne.type=rt[E]||"linear",d(R,ne,xe,et,T),x(R,ne,xe,{letter:K,counterAxes:Ke[K],overlayableAxes:Oe(K,G),grid:T.grid}),xe("fixedrange"),ke(),ne._input=R}var ct=b("rangeslider","handleDefaults"),gt=b("rangeselector","handleDefaults");for(Y=0;Y<ye.length;Y++)G=ye[Y],R=I[G],ne=T[G],ct(I,T,G),ne.type==="date"&&gt(R,ne,T,he,ne.calendar),xe("fixedrange");for(Y=0;Y<he.length;Y++){G=he[Y],R=I[G],ne=T[G];var _e=T[L(ne.anchor)],Be=b("rangeslider","isVisible")(_e);xe("fixedrange",Be)}y.handleDefaults(I,T,{axIds:Je.concat(Me).sort(w.idSort),axHasImage:oe})}},7405:function(i,s,a){"use strict";var o=a(5657).mix,c=a(229),l=a(4809);i.exports=function(f,h,p,m){m=m||{};var d=m.dfltColor;function y(N,j){return l.coerce2(f,h,m.attributes,N,j)}var x=y("linecolor",d),w=y("linewidth"),L=p("showline",m.showLine||!!x||!!w);L||(delete h.linecolor,delete h.linewidth);var _=o(d,m.bgColor,m.blend||c.lightFraction).toRgbString(),D=y("gridcolor",_),C=y("gridwidth"),z=y("griddash"),b=p("showgrid",m.showGrid||!!D||!!C||!!z);if(b||(delete h.gridcolor,delete h.gridwidth,delete h.griddash),m.hasMinor){var S=o(h.gridcolor,m.bgColor,67).toRgbString(),M=y("minor.gridcolor",S),I=y("minor.gridwidth",h.gridwidth||1),T=y("minor.griddash",h.griddash||"solid"),B=p("minor.showgrid",!!M||!!I||!!T);B||(delete h.minor.gridcolor,delete h.minor.gridwidth,delete h.minor.griddash)}if(!m.noZeroLine){var H=y("zerolinecolor",d),Z=y("zerolinewidth"),$=p("zeroline",m.showGrid||!!H||!!Z);$||(delete h.zerolinecolor,delete h.zerolinewidth)}}},957:function(i,s,a){"use strict";var o=a(721),c=a(4809);i.exports=function(u,f,h,p){var m=p.counterAxes||[],d=p.overlayableAxes||[],y=p.letter,x=p.grid,w=p.overlayingDomain,L,_,D,C,z,b;x&&(_=x._domains[y][x._axisMap[f._id]],L=x._anchors[f._id],_&&(D=x[y+"side"].split(" ")[0],C=x.domain[y][D==="right"||D==="top"?1:0])),_=_||[0,1],L=L||(o(u.position)?"free":m[0]||"free"),D=D||(y==="x"?"bottom":"left"),C=C||0,z=0,b=!1;var S=c.coerce(u,f,{anchor:{valType:"enumerated",values:["free"].concat(m),dflt:L}},"anchor"),M=c.coerce(u,f,{side:{valType:"enumerated",values:y==="x"?["bottom","top"]:["left","right"],dflt:D}},"side");if(S==="free"){if(y==="y"){var I=h("autoshift");I&&(C=M==="left"?w[0]:w[1],b=f.automargin?f.automargin:!0,z=M==="left"?-3:3),h("shift",z)}h("position",C)}h("automargin",b);var T=!1;if(d.length&&(T=c.coerce(u,f,{overlaying:{valType:"enumerated",values:[!1].concat(d),dflt:!1}},"overlaying")),!T){var B=h("domain",_);B[0]>B[1]-.000244140625&&(f.domain=_),c.noneOrAll(u.domain,f.domain,_),f.tickmode==="sync"&&(f.tickmode="auto")}return h("layer"),f}},4616:function(i,s,a){"use strict";var o=a(7703);i.exports=function(l,u,f,h,p){p||(p={});var m=p.tickSuffixDflt,d=o(l),y=f("tickprefix");y&&f("showtickprefix",d);var x=f("ticksuffix",m);x&&f("showticksuffix",d)}},259:function(i,s,a){"use strict";var o=a(5511);i.exports=function(l,u,f,h){var p=u._template||{},m=u.type||p.type||"-";f("minallowed"),f("maxallowed");var d=f("range");if(!d){var y;!h.noInsiderange&&m!=="log"&&(y=f("insiderange"),y&&(y[0]===null||y[1]===null)&&(u.insiderange=!1,y=void 0),y&&(d=f("range",y)))}var x=u.getAutorangeDflt(d,h),w=f("autorange",x),L;d&&(d[0]===null&&d[1]===null||(d[0]===null||d[1]===null)&&(w==="reversed"||w===!0)||d[0]!==null&&(w==="min"||w==="max reversed")||d[1]!==null&&(w==="max"||w==="min reversed"))&&(d=void 0,delete u.range,u.autorange=!0,L=!0),L||(x=u.getAutorangeDflt(d,h),w=f("autorange",x)),w&&(o(f,w,d),(m==="linear"||m==="-")&&f("rangemode")),u.cleanRange()}},7611:function(i,s,a){"use strict";var o=a(4530).FROM_BL;i.exports=function(l,u,f){f===void 0&&(f=o[l.constraintoward||"center"]);var h=[l.r2l(l.range[0]),l.r2l(l.range[1])],p=h[0]+(h[1]-h[0])*f;l.range=l._input.range=[l.l2r(p+(h[0]-p)*u),l.l2r(p+(h[1]-p)*u)],l.setScale()}},9091:function(i,s,a){"use strict";var o=a(5568),c=a(2696).aL,l=a(4809),u=l.numberFormat,f=a(721),h=l.cleanNumber,p=l.ms2DateTime,m=l.dateTime2ms,d=l.ensureNumber,y=l.isArrayOrTypedArray,x=a(3821),w=x.FP_SAFE,L=x.BADNUM,_=x.LOG_CLIP,D=x.ONEWEEK,C=x.ONEDAY,z=x.ONEHOUR,b=x.ONEMIN,S=x.ONESEC,M=a(5975),I=a(4826),T=I.HOUR_PATTERN,B=I.WEEKDAY_PATTERN;function H($){return Math.pow(10,$)}function Z($){return $!=null}i.exports=function(N,j){j=j||{};var O=N._id||"x",X=O.charAt(0);function ie(P,U){if(P>0)return Math.log(P)/Math.LN10;if(P<=0&&U&&N.range&&N.range.length===2){var ee=N.range[0],G=N.range[1];return .5*(ee+G-2*_*Math.abs(ee-G))}else return L}function oe(P,U,ee,G){if((G||{}).msUTC&&f(P))return+P;var E=m(P,ee||N.calendar);if(E===L)if(f(P)){P=+P;var K=Math.floor(l.mod(P+.05,1)*10),R=Math.round(P-K/10);E=m(new Date(R))+K/10}else return L;return E}function V(P,U,ee){return p(P,U,ee||N.calendar)}function W(P){return N._categories[Math.round(P)]}function Y(P){if(Z(P)){if(N._categoriesMap===void 0&&(N._categoriesMap={}),N._categoriesMap[P]!==void 0)return N._categoriesMap[P];N._categories.push(typeof P=="number"?String(P):P);var U=N._categories.length-1;return N._categoriesMap[P]=U,U}return L}function Q(P,U){for(var ee=new Array(U),G=0;G<U;G++){var E=(P[0]||[])[G],K=(P[1]||[])[G];ee[G]=re([E,K])}return ee}function re(P){if(N._categoriesMap)return N._categoriesMap[P]}function te(P){var U=re(P);if(U!==void 0)return U;if(f(P))return+P}function le(P){return f(P)?+P:re(P)}function be(P,U,ee){return o.round(ee+U*P,2)}function Se(P,U,ee){return(P-ee)/U}var ze=function(U){return f(U)?be(U,N._m,N._b):L},Te=function(P){return Se(P,N._m,N._b)};if(N.rangebreaks){var ye=X==="y";ze=function(P){if(!f(P))return L;var U=N._rangebreaks.length;if(!U)return be(P,N._m,N._b);var ee=ye;N.range[0]>N.range[1]&&(ee=!ee);for(var G=ee?-1:1,E=G*P,K=0,R=0;R<U;R++){var ne=G*N._rangebreaks[R].min,pe=G*N._rangebreaks[R].max;if(E<ne)break;if(E>pe)K=R+1;else{K=E<(ne+pe)/2?R:R+1;break}}var xe=N._B[K]||0;return isFinite(xe)?be(P,N._m2,xe):0},Te=function(P){var U=N._rangebreaks.length;if(!U)return Se(P,N._m,N._b);for(var ee=0,G=0;G<U&&!(P<N._rangebreaks[G].pmin);G++)P>N._rangebreaks[G].pmax&&(ee=G+1);return Se(P,N._m2,N._B[ee])}}N.c2l=N.type==="log"?ie:d,N.l2c=N.type==="log"?H:d,N.l2p=ze,N.p2l=Te,N.c2p=N.type==="log"?function(P,U){return ze(ie(P,U))}:ze,N.p2c=N.type==="log"?function(P){return H(Te(P))}:Te,["linear","-"].indexOf(N.type)!==-1?(N.d2r=N.r2d=N.d2c=N.r2c=N.d2l=N.r2l=h,N.c2d=N.c2r=N.l2d=N.l2r=d,N.d2p=N.r2p=function(P){return N.l2p(h(P))},N.p2d=N.p2r=Te,N.cleanPos=d):N.type==="log"?(N.d2r=N.d2l=function(P,U){return ie(h(P),U)},N.r2d=N.r2c=function(P){return H(h(P))},N.d2c=N.r2l=h,N.c2d=N.l2r=d,N.c2r=ie,N.l2d=H,N.d2p=function(P,U){return N.l2p(N.d2r(P,U))},N.p2d=function(P){return H(Te(P))},N.r2p=function(P){return N.l2p(h(P))},N.p2r=Te,N.cleanPos=d):N.type==="date"?(N.d2r=N.r2d=l.identity,N.d2c=N.r2c=N.d2l=N.r2l=oe,N.c2d=N.c2r=N.l2d=N.l2r=V,N.d2p=N.r2p=function(P,U,ee){return N.l2p(oe(P,0,ee))},N.p2d=N.p2r=function(P,U,ee){return V(Te(P),U,ee)},N.cleanPos=function(P){return l.cleanDate(P,L,N.calendar)}):N.type==="category"?(N.d2c=N.d2l=Y,N.r2d=N.c2d=N.l2d=W,N.d2r=N.d2l_noadd=te,N.r2c=function(P){var U=le(P);return U!==void 0?U:N.fraction2r(.5)},N.l2r=N.c2r=d,N.r2l=le,N.d2p=function(P){return N.l2p(N.r2c(P))},N.p2d=function(P){return W(Te(P))},N.r2p=N.d2p,N.p2r=Te,N.cleanPos=function(P){return typeof P=="string"&&P!==""?P:d(P)}):N.type==="multicategory"&&(N.r2d=N.c2d=N.l2d=W,N.d2r=N.d2l_noadd=te,N.r2c=function(P){var U=te(P);return U!==void 0?U:N.fraction2r(.5)},N.r2c_just_indices=re,N.l2r=N.c2r=d,N.r2l=te,N.d2p=function(P){return N.l2p(N.r2c(P))},N.p2d=function(P){return W(Te(P))},N.r2p=N.d2p,N.p2r=Te,N.cleanPos=function(P){return Array.isArray(P)||typeof P=="string"&&P!==""?P:d(P)},N.setupMultiCategory=function(P){var U=N._traceIndices,ee,G,E=N._matchGroup;if(E&&N._categories.length===0){for(var K in E)if(K!==O){var R=j[M.id2name(K)];U=U.concat(R._traceIndices)}}var ne=[[0,{}],[0,{}]],pe=[];for(ee=0;ee<U.length;ee++){var xe=P[U[ee]];if(X in xe){var we=xe[X],Ee=xe._length||l.minRowLength(we);if(y(we[0])&&y(we[1]))for(G=0;G<Ee;G++){var Oe=we[0][G],Ke=we[1][G];Z(Oe)&&Z(Ke)&&(pe.push([Oe,Ke]),Oe in ne[0][1]||(ne[0][1][Oe]=ne[0][0]++),Ke in ne[1][1]||(ne[1][1][Ke]=ne[1][0]++))}}}for(pe.sort(function(Je,rt){var Me=ne[0][1],ke=Me[Je[0]]-Me[rt[0]];if(ke)return ke;var Le=ne[1][1];return Le[Je[1]]-Le[rt[1]]}),ee=0;ee<pe.length;ee++)Y(pe[ee])}),N.fraction2r=function(P){var U=N.r2l(N.range[0]),ee=N.r2l(N.range[1]);return N.l2r(U+P*(ee-U))},N.r2fraction=function(P){var U=N.r2l(N.range[0]),ee=N.r2l(N.range[1]);return(N.r2l(P)-U)/(ee-U)},N.limitRange=function(P){var U=N.minallowed,ee=N.maxallowed;if(!(U===void 0&&ee===void 0)){P||(P="range");var G=l.nestedProperty(N,P).get(),E=l.simpleMap(G,N.r2l),K=E[1]<E[0];K&&E.reverse();var R=l.simpleMap([U,ee],N.r2l);if(U!==void 0&&E[0]<R[0]&&(G[K?1:0]=U),ee!==void 0&&E[1]>R[1]&&(G[K?0:1]=ee),G[0]===G[1]){var ne=N.l2r(U),pe=N.l2r(ee);if(U!==void 0){var xe=ne+1;ee!==void 0&&(xe=Math.min(xe,pe)),G[K?1:0]=xe}if(ee!==void 0){var we=pe+1;U!==void 0&&(we=Math.max(we,ne)),G[K?0:1]=we}}}},N.cleanRange=function(P,U){N._cleanRange(P,U),N.limitRange(P)},N._cleanRange=function(P,U){U||(U={}),P||(P="range");var ee=l.nestedProperty(N,P).get(),G,E;if(N.type==="date"?E=l.dfltRange(N.calendar):X==="y"?E=I.DFLTRANGEY:N._name==="realaxis"?E=[0,1]:E=U.dfltRange||I.DFLTRANGEX,E=E.slice(),(N.rangemode==="tozero"||N.rangemode==="nonnegative")&&(E[0]=0),!ee||ee.length!==2){l.nestedProperty(N,P).set(E);return}var K=ee[0]===null,R=ee[1]===null;for(N.type==="date"&&!N.autorange&&(ee[0]=l.cleanDate(ee[0],L,N.calendar),ee[1]=l.cleanDate(ee[1],L,N.calendar)),G=0;G<2;G++)if(N.type==="date"){if(!l.isDateTime(ee[G],N.calendar)){N[P]=E;break}if(N.r2l(ee[0])===N.r2l(ee[1])){var ne=l.constrain(N.r2l(ee[0]),l.MIN_MS+1e3,l.MAX_MS-1e3);ee[0]=N.l2r(ne-1e3),ee[1]=N.l2r(ne+1e3);break}}else{if(!f(ee[G]))if(!(K||R)&&f(ee[1-G]))ee[G]=ee[1-G]*(G?10:.1);else{N[P]=E;break}if(ee[G]<-w?ee[G]=-w:ee[G]>w&&(ee[G]=w),ee[0]===ee[1]){var pe=Math.max(1,Math.abs(ee[0]*1e-6));ee[0]-=pe,ee[1]+=pe}}},N.setScale=function(P){var U=j._size;if(N.overlaying){var ee=M.getFromId({_fullLayout:j},N.overlaying);N.domain=ee.domain}var G=P&&N._r?"_r":"range",E=N.calendar;N.cleanRange(G);var K=N.r2l(N[G][0],E),R=N.r2l(N[G][1],E),ne=X==="y";if(ne?(N._offset=U.t+(1-N.domain[1])*U.h,N._length=U.h*(N.domain[1]-N.domain[0]),N._m=N._length/(K-R),N._b=-N._m*R):(N._offset=U.l+N.domain[0]*U.w,N._length=U.w*(N.domain[1]-N.domain[0]),N._m=N._length/(R-K),N._b=-N._m*K),N._rangebreaks=[],N._lBreaks=0,N._m2=0,N._B=[],N.rangebreaks){var pe,xe;if(N._rangebreaks=N.locateBreaks(Math.min(K,R),Math.max(K,R)),N._rangebreaks.length){for(pe=0;pe<N._rangebreaks.length;pe++)xe=N._rangebreaks[pe],N._lBreaks+=Math.abs(xe.max-xe.min);var we=ne;K>R&&(we=!we),we&&N._rangebreaks.reverse();var Ee=we?-1:1;for(N._m2=Ee*N._length/(Math.abs(R-K)-N._lBreaks),N._B.push(-N._m2*(ne?R:K)),pe=0;pe<N._rangebreaks.length;pe++)xe=N._rangebreaks[pe],N._B.push(N._B[N._B.length-1]-Ee*N._m2*(xe.max-xe.min));for(pe=0;pe<N._rangebreaks.length;pe++)xe=N._rangebreaks[pe],xe.pmin=ze(xe.min),xe.pmax=ze(xe.max)}}if(!isFinite(N._m)||!isFinite(N._b)||N._length<0)throw j._replotting=!1,new Error("Something went wrong with axis scaling")},N.maskBreaks=function(P){var U=N.rangebreaks||[],ee,G,E,K,R;U._cachedPatterns||(U._cachedPatterns=U.map(function(Me){return Me.enabled&&Me.bounds?l.simpleMap(Me.bounds,Me.pattern?h:N.d2c):null})),U._cachedValues||(U._cachedValues=U.map(function(Me){return Me.enabled&&Me.values?l.simpleMap(Me.values,N.d2c).sort(l.sorterAsc):null}));for(var ne=0;ne<U.length;ne++){var pe=U[ne];if(pe.enabled){if(pe.bounds){var xe=pe.pattern;switch(ee=U._cachedPatterns[ne],G=ee[0],E=ee[1],xe){case B:R=new Date(P),K=R.getUTCDay(),G>E&&(E+=7,K<G&&(K+=7));break;case T:R=new Date(P);var we=R.getUTCHours(),Ee=R.getUTCMinutes(),Oe=R.getUTCSeconds(),Ke=R.getUTCMilliseconds();K=we+(Ee/60+Oe/3600+Ke/36e5),G>E&&(E+=24,K<G&&(K+=24));break;case"":K=P;break}if(K>=G&&K<E)return L}else for(var Je=U._cachedValues[ne],rt=0;rt<Je.length;rt++)if(G=Je[rt],E=G+pe.dvalue,P>=G&&P<E)return L}}return P},N.locateBreaks=function(P,U){var ee,G,E,K,R=[];if(!N.rangebreaks)return R;var ne=N.rangebreaks.slice().sort(function(Le,He){return Le.pattern===B&&He.pattern===T?-1:He.pattern===B&&Le.pattern===T?1:0}),pe=function(Le,He){if(Le=l.constrain(Le,P,U),He=l.constrain(He,P,U),Le!==He){for(var Ve=!0,qe=0;qe<R.length;qe++){var vt=R[qe];Le<vt.max&&He>=vt.min&&(Le<vt.min&&(vt.min=Le),He>vt.max&&(vt.max=He),Ve=!1)}Ve&&R.push({min:Le,max:He})}};for(ee=0;ee<ne.length;ee++){var xe=ne[ee];if(xe.enabled)if(xe.bounds){var we=P,Ee=U;xe.pattern&&(we=Math.floor(we)),G=l.simpleMap(xe.bounds,xe.pattern?h:N.r2l),E=G[0],K=G[1];var Oe=new Date(we),Ke,Je;switch(xe.pattern){case B:Je=D,Ke=((K<E?7:0)+(K-E))*C,we+=E*C-(Oe.getUTCDay()*C+Oe.getUTCHours()*z+Oe.getUTCMinutes()*b+Oe.getUTCSeconds()*S+Oe.getUTCMilliseconds());break;case T:Je=C,Ke=((K<E?24:0)+(K-E))*z,we+=E*z-(Oe.getUTCHours()*z+Oe.getUTCMinutes()*b+Oe.getUTCSeconds()*S+Oe.getUTCMilliseconds());break;default:we=Math.min(G[0],G[1]),Ee=Math.max(G[0],G[1]),Je=Ee-we,Ke=Je}for(var rt=we;rt<Ee;rt+=Je)pe(rt,rt+Ke)}else for(var Me=l.simpleMap(xe.values,N.d2c),ke=0;ke<Me.length;ke++)E=Me[ke],K=E+xe.dvalue,pe(E,K)}return R.sort(function(Le,He){return Le.min-He.min}),R},N.makeCalcdata=function(P,U,ee){var G,E,K,R,ne=N.type,pe=ne==="date"&&P[U+"calendar"];if(U in P){if(G=P[U],R=P._length||l.minRowLength(G),l.isTypedArray(G)&&(ne==="linear"||ne==="log")){if(R===G.length)return G;if(G.subarray)return G.subarray(0,R)}if(ne==="multicategory")return Q(G,R);for(E=new Array(R),K=0;K<R;K++)E[K]=N.d2c(G[K],0,pe,ee)}else{var xe=U+"0"in P?N.d2c(P[U+"0"],0,pe):0,we=P["d"+U]?Number(P["d"+U]):1;for(G=P[{x:"y",y:"x"}[U]],R=P._length||G.length,E=new Array(R),K=0;K<R;K++)E[K]=xe+K*we}if(N.rangebreaks)for(K=0;K<R;K++)E[K]=N.maskBreaks(E[K]);return E},N.isValidRange=function(P,U){return Array.isArray(P)&&P.length===2&&(U&&P[0]===null||f(N.r2l(P[0])))&&(U&&P[1]===null||f(N.r2l(P[1])))},N.getAutorangeDflt=function(P,U){var ee=!N.isValidRange(P,"nullOk");return ee&&U&&U.reverseDflt?ee="reversed":P&&(P[0]===null&&P[1]===null?ee=!0:P[0]===null&&P[1]!==null?ee="min":P[0]!==null&&P[1]===null&&(ee="max")),ee},N.isReversed=function(){var P=N.autorange;return P==="reversed"||P==="min reversed"||P==="max reversed"},N.isPtWithinRange=function(P,U){var ee=N.c2l(P[X],null,U),G=N.r2l(N.range[0]),E=N.r2l(N.range[1]);return G<E?G<=ee&&ee<=E:E<=ee&&ee<=G},N._emptyCategories=function(){N._categories=[],N._categoriesMap={}},N.clearCalc=function(){var P=N._matchGroup;if(P){var U=null,ee=null;for(var G in P){var E=j[M.id2name(G)];if(E._categories){U=E._categories,ee=E._categoriesMap;break}}U&&ee?(N._categories=U,N._categoriesMap=ee):N._emptyCategories()}else N._emptyCategories();if(N._initialCategories)for(var K=0;K<N._initialCategories.length;K++)Y(N._initialCategories[K])},N.sortByInitialCategories=function(){var P=[];if(N._emptyCategories(),N._initialCategories)for(var U=0;U<N._initialCategories.length;U++)Y(N._initialCategories[U]);P=P.concat(N._traceIndices);var ee=N._matchGroup;for(var G in ee)if(O!==G){var E=j[M.id2name(G)];E._categories=N._categories,E._categoriesMap=N._categoriesMap,P=P.concat(E._traceIndices)}return P};var he=j._d3locale;N.type==="date"&&(N._dateFormat=he?he.timeFormat:c,N._extraFormat=j._extraFormat),N._separators=j.separators,N._numFormat=he?he.numberFormat:u,delete N._minDtick,delete N._forceTick0}},7703:function(i){"use strict";i.exports=function(a){var o=["showexponent","showtickprefix","showticksuffix"],c=o.filter(function(u){return a[u]!==void 0}),l=function(u){return a[u]===a[c[0]]};if(c.every(l)||c.length===1)return a[c[0]]}},2036:function(i,s,a){"use strict";var o=a(4809),c=a(8766).contrast,l=a(5829),u=a(7703),f=a(9008);i.exports=function(m,d,y,x,w){w||(w={});var L=y("labelalias");o.isPlainObject(L)||delete d.labelalias;var _=u(m),D=y("showticklabels");if(D){w.noTicklabelshift||y("ticklabelshift"),w.noTicklabelstandoff||y("ticklabelstandoff");var C=w.font||{},z=d.color,b=d.ticklabelposition||"",S=b.indexOf("inside")!==-1?c(w.bgColor):z&&z!==l.color.dflt?z:C.color;if(o.coerceFont(y,"tickfont",C,{overrideDflt:{color:S}}),!w.noTicklabelstep&&x!=="multicategory"&&x!=="log"&&y("ticklabelstep"),!w.noAng){var M=y("tickangle");!w.noAutotickangles&&M==="auto"&&y("autotickangles")}if(x!=="category"){var I=y("tickformat");f(m,d,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:h}),d.tickformatstops.length||delete d.tickformatstops,!w.noExp&&!I&&x!=="date"&&(y("showexponent",_),y("exponentformat"),y("minexponent"),y("separatethousands"))}}};function h(p,m){function d(x,w){return o.coerce(p,m,l.tickformatstops,x,w)}var y=d("enabled");y&&(d("dtickrange"),d("value"))}},7433:function(i,s,a){"use strict";var o=a(4809),c=a(5829);i.exports=function(u,f,h,p){var m=p.isMinor,d=m?u.minor||{}:u,y=m?f.minor:f,x=m?c.minor:c,w=m?"minor.":"",L=o.coerce2(d,y,x,"ticklen",m?(f.ticklen||5)*.6:void 0),_=o.coerce2(d,y,x,"tickwidth",m?f.tickwidth||1:void 0),D=o.coerce2(d,y,x,"tickcolor",(m?f.tickcolor:void 0)||y.color),C=h(w+"ticks",!m&&p.outerTicks||L||_||D?"outside":"");C||(delete y.ticklen,delete y.tickwidth,delete y.tickcolor)}},2777:function(i,s,a){"use strict";var o=a(8599),c=a(4809).isArrayOrTypedArray,l=a(7800).isTypedArraySpec,u=a(7800).decodeTypedArraySpec;i.exports=function(h,p,m,d,y){y||(y={});var x=y.isMinor,w=x?h.minor||{}:h,L=x?p.minor:p,_=x?"minor.":"";function D(B){var H=w[B];return l(H)&&(H=u(H)),H!==void 0?H:(L._template||{})[B]}var C=D("tick0"),z=D("dtick"),b=D("tickvals"),S=c(b)?"array":z?"linear":"auto",M=m(_+"tickmode",S);if(M==="auto"||M==="sync")m(_+"nticks");else if(M==="linear"){var I=L.dtick=o.dtick(z,d);L.tick0=o.tick0(C,d,p.calendar,I)}else if(d!=="multicategory"){var T=m(_+"tickvals");T===void 0?L.tickmode="auto":x||m("ticktext")}}},4982:function(i,s,a){"use strict";var o=a(5568),c=a(3626),l=a(4809),u=a(2203),f=a(9714);i.exports=function(p,m,d,y){var x=p._fullLayout;if(m.length===0){f.redrawComponents(p);return}function w(T){var B=T.xaxis,H=T.yaxis;x._defs.select("#"+T.clipId+"> rect").call(u.setTranslate,0,0).call(u.setScale,1,1),T.plot.call(u.setTranslate,B._offset,H._offset).call(u.setScale,1,1);var Z=T.plot.selectAll(".scatterlayer .trace");Z.selectAll(".point").call(u.setPointGroupScale,1,1),Z.selectAll(".textpoint").call(u.setTextPointsScale,1,1),Z.call(u.hideOutsideRangePoints,T)}function L(T,B){var H=T.plotinfo,Z=H.xaxis,$=H.yaxis,N=Z._length,j=$._length,O=!!T.xr1,X=!!T.yr1,ie=[];if(O){var oe=l.simpleMap(T.xr0,Z.r2l),V=l.simpleMap(T.xr1,Z.r2l),W=oe[1]-oe[0],Y=V[1]-V[0];ie[0]=(oe[0]*(1-B)+B*V[0]-oe[0])/(oe[1]-oe[0])*N,ie[2]=N*(1-B+B*Y/W),Z.range[0]=Z.l2r(oe[0]*(1-B)+B*V[0]),Z.range[1]=Z.l2r(oe[1]*(1-B)+B*V[1])}else ie[0]=0,ie[2]=N;if(X){var Q=l.simpleMap(T.yr0,$.r2l),re=l.simpleMap(T.yr1,$.r2l),te=Q[1]-Q[0],le=re[1]-re[0];ie[1]=(Q[1]*(1-B)+B*re[1]-Q[1])/(Q[0]-Q[1])*j,ie[3]=j*(1-B+B*le/te),$.range[0]=Z.l2r(Q[0]*(1-B)+B*re[0]),$.range[1]=$.l2r(Q[1]*(1-B)+B*re[1])}else ie[1]=0,ie[3]=j;f.drawOne(p,Z,{skipTitle:!0}),f.drawOne(p,$,{skipTitle:!0}),f.redrawComponents(p,[Z._id,$._id]);var be=O?N/ie[2]:1,Se=X?j/ie[3]:1,ze=O?ie[0]:0,Te=X?ie[1]:0,ye=O?ie[0]/ie[2]*N:0,he=X?ie[1]/ie[3]*j:0,P=Z._offset-ye,U=$._offset-he;H.clipRect.call(u.setTranslate,ze,Te).call(u.setScale,1/be,1/Se),H.plot.call(u.setTranslate,P,U).call(u.setScale,be,Se),u.setPointGroupScale(H.zoomScalePts,1/be,1/Se),u.setTextPointsScale(H.zoomScaleTxt,1/be,1/Se)}var _;y&&(_=y());function D(){for(var T={},B=0;B<m.length;B++){var H=m[B],Z=H.plotinfo.xaxis,$=H.plotinfo.yaxis;H.xr1&&(T[Z._name+".range"]=H.xr1.slice()),H.yr1&&(T[$._name+".range"]=H.yr1.slice())}return _&&_(),c.call("relayout",p,T).then(function(){for(var N=0;N<m.length;N++)w(m[N].plotinfo)})}function C(){for(var T={},B=0;B<m.length;B++){var H=m[B],Z=H.plotinfo.xaxis,$=H.plotinfo.yaxis;H.xr0&&(T[Z._name+".range"]=H.xr0.slice()),H.yr0&&(T[$._name+".range"]=H.yr0.slice())}return c.call("relayout",p,T).then(function(){for(var N=0;N<m.length;N++)w(m[N].plotinfo)})}var z,b,S,M=o.ease(d.easing);p._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(S),S=null,C()});function I(){b=Date.now();for(var T=Math.min(1,(b-z)/d.duration),B=M(T),H=0;H<m.length;H++)L(m[H],B);b-z>d.duration?(D(),S=window.cancelAnimationFrame(I)):S=window.requestAnimationFrame(I)}return z=Date.now(),S=window.requestAnimationFrame(I),Promise.resolve()}},4392:function(i,s,a){"use strict";var o=a(3626).traceIs,c=a(9666);i.exports=function(m,d,y,x){y("autotypenumbers",x.autotypenumbersDflt);var w=y("type",(x.splomStash||{}).type);w==="-"&&(l(d,x.data),d.type==="-"?d.type="linear":m.type=d.type)};function l(p,m){if(p.type==="-"){var d=p._id,y=d.charAt(0),x;d.indexOf("scene")!==-1&&(d=y);var w=u(m,d,y);if(w){if(w.type==="histogram"&&y==={v:"y",h:"x"}[w.orientation||"v"]){p.type="linear";return}var L=y+"calendar",_=w[L],D={noMultiCategory:!o(w,"cartesian")||o(w,"noMultiCategory")};if(w.type==="box"&&w._hasPreCompStats&&y==={h:"x",v:"y"}[w.orientation||"v"]&&(D.noMultiCategory=!0),D.autotypenumbers=p.autotypenumbers,h(w,y)){var C=f(w),z=[];for(x=0;x<m.length;x++){var b=m[x];!o(b,"box-violin")||(b[y+"axis"]||y)!==d||(b[C]!==void 0?z.push(b[C][0]):b.name!==void 0?z.push(b.name):z.push("text"),b[L]!==_&&(_=void 0))}p.type=c(z,_,D)}else if(w.type==="splom"){var S=w.dimensions,M=S[w._axesDim[d]];M.visible&&(p.type=c(M.values,_,D))}else p.type=c(w[y]||[w[y+"0"]],_,D)}}}function u(p,m,d){for(var y=0;y<p.length;y++){var x=p[y];if(x.type==="splom"&&x._length>0&&(x["_"+d+"axes"]||{})[m])return x;if((x[d+"axis"]||d)===m){if(h(x,d))return x;if((x[d]||[]).length||x[d+"0"])return x}}}function f(p){return{v:"x",h:"y"}[p.orientation||"v"]}function h(p,m){var d=f(p),y=o(p,"box-violin"),x=o(p._fullInput||{},"candlestick");return y&&!x&&m===d&&p[d]===void 0&&p[d+"0"]===void 0}},251:function(i,s,a){"use strict";var o=a(3626),c=a(4809);s.manageCommandObserver=function(m,d,y,x){var w={},L=!0;d&&d._commandObserver&&(w=d._commandObserver),w.cache||(w.cache={}),w.lookupTable={};var _=s.hasSimpleAPICommandBindings(m,y,w.lookupTable);if(d&&d._commandObserver){if(_)return w;if(d._commandObserver.remove)return d._commandObserver.remove(),d._commandObserver=null,w}if(_){l(m,_,w.cache),w.check=function(){if(L){var b=l(m,_,w.cache);return b.changed&&x&&w.lookupTable[b.value]!==void 0&&(w.disable(),Promise.resolve(x({value:b.value,type:_.type,prop:_.prop,traces:_.traces,index:w.lookupTable[b.value]})).then(w.enable,w.enable)),b.changed}};for(var D=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],C=0;C<D.length;C++)m._internalOn(D[C],w.check);w.remove=function(){for(var z=0;z<D.length;z++)m._removeInternalListener(D[z],w.check)}}else c.log("Unable to automatically bind plot updates to API command"),w.lookupTable={},w.remove=function(){};return w.disable=function(){L=!1},w.enable=function(){L=!0},d&&(d._commandObserver=w),w},s.hasSimpleAPICommandBindings=function(m,d,y){var x,w=d.length,L;for(x=0;x<w;x++){var _,D=d[x],C=D.method,z=D.args;if(Array.isArray(z)||(z=[]),!C)return!1;var b=s.computeAPICommandBindings(m,C,z);if(b.length!==1)return!1;if(!L)L=b[0],Array.isArray(L.traces)&&L.traces.sort();else{if(_=b[0],_.type!==L.type||_.prop!==L.prop)return!1;if(Array.isArray(L.traces))if(Array.isArray(_.traces)){_.traces.sort();for(var S=0;S<L.traces.length;S++)if(L.traces[S]!==_.traces[S])return!1}else return!1;else if(_.prop!==L.prop)return!1}_=b[0];var M=_.value;if(Array.isArray(M))if(M.length===1)M=M[0];else return!1;y&&(y[M]=x)}return L};function l(m,d,y){var x,w,L,_=!1;if(d.type==="data")x=m._fullData[d.traces!==null?d.traces[0]:0];else if(d.type==="layout")x=m._fullLayout;else return!1;return w=c.nestedProperty(x,d.prop).get(),L=y[d.type]=y[d.type]||{},L.hasOwnProperty(d.prop)&&L[d.prop]!==w&&(_=!0),L[d.prop]=w,{changed:_,value:w}}s.executeAPICommand=function(m,d,y){if(d==="skip")return Promise.resolve();var x=o.apiMethodRegistry[d],w=[m];Array.isArray(y)||(y=[]);for(var L=0;L<y.length;L++)w.push(y[L]);return x.apply(null,w).catch(function(_){return c.warn("API call to Plotly."+d+" rejected.",_),Promise.reject(_)})},s.computeAPICommandBindings=function(m,d,y){var x;switch(Array.isArray(y)||(y=[]),d){case"restyle":x=h(m,y);break;case"relayout":x=f(m,y);break;case"update":x=h(m,[y[0],y[2]]).concat(f(m,[y[1]]));break;case"animate":x=u(m,y);break;default:x=[]}return x};function u(m,d){return Array.isArray(d[0])&&d[0].length===1&&["string","number"].indexOf(typeof d[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:d[0][0].toString()}]:[]}function f(m,d){var y=[],x=d[0],w={};if(typeof x=="string")w[x]=d[1];else if(c.isPlainObject(x))w=x;else return y;return p(w,function(L,_,D){y.push({type:"layout",prop:L,value:D})},"",0),y}function h(m,d){var y,x,w,L,_=[];if(x=d[0],w=d[1],y=d[2],L={},typeof x=="string")L[x]=w;else if(c.isPlainObject(x))L=x,y===void 0&&(y=w);else return _;return y===void 0&&(y=null),p(L,function(D,C,z){var b,S;if(Array.isArray(z)){S=z.slice();var M=Math.min(S.length,m.data.length);y&&(M=Math.min(M,y.length)),b=[];for(var I=0;I<M;I++)b[I]=y?y[I]:I}else S=z,b=y?y.slice():null;if(b===null)Array.isArray(S)&&(S=S[0]);else if(Array.isArray(b)){if(!Array.isArray(S)){var T=S;S=[];for(var B=0;B<b.length;B++)S[B]=T}S.length=Math.min(b.length,S.length)}_.push({type:"data",prop:D,traces:b,value:S})},"",0),_}function p(m,d,y,x){Object.keys(m).forEach(function(w){var L=m[w];if(w[0]!=="_"){var _=y+(x>0?".":"")+w;c.isPlainObject(L)?p(L,d,_,x+1):d(_,w,L)}})}},3792:function(i,s,a){"use strict";var o=a(3049).extendFlat;s.u=function(c,l){c=c||{},l=l||{};var u={valType:"info_array",editType:c.editType,items:[{valType:"number",min:0,max:1,editType:c.editType},{valType:"number",min:0,max:1,editType:c.editType}],dflt:[0,1]},f=c.name?c.name+" ":"",h=c.trace?"trace ":"subplot ",p=l.description?" "+l.description:"",m={x:o({},u,{}),y:o({},u,{}),editType:c.editType};return c.noGridCell||(m.row={valType:"integer",min:0,dflt:0,editType:c.editType},m.column={valType:"integer",min:0,dflt:0,editType:c.editType}),m},s.N=function(c,l,u,f){var h=f&&f.x||[0,1],p=f&&f.y||[0,1],m=l.grid;if(m){var d=u("domain.column");d!==void 0&&(d<m.columns?h=m._domains.x[d]:delete c.domain.column);var y=u("domain.row");y!==void 0&&(y<m.rows?p=m._domains.y[y]:delete c.domain.row)}var x=u("domain.x",h),w=u("domain.y",p);x[0]<x[1]||(c.domain.x=h.slice()),w[0]<w[1]||(c.domain.y=p.slice())}},337:function(i){"use strict";i.exports=function(s){var a=s.variantValues,o=s.editType,c=s.colorEditType;c===void 0&&(c=o);var l={editType:o,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};s.noNumericWeightValues&&(l.valType="enumerated",l.values=l.extras,l.extras=void 0,l.min=void 0,l.max=void 0);var u={family:{valType:"string",noBlank:!0,strict:!0,editType:o},size:{valType:"number",min:1,editType:o},color:{valType:"color",editType:c},weight:l,style:{editType:o,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:s.noFontVariant?void 0:{editType:o,valType:"enumerated",values:a||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:s.noFontTextcase?void 0:{editType:o,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:s.noFontLineposition?void 0:{editType:o,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:s.noFontShadow?void 0:{editType:o,valType:"string",dflt:s.autoShadowDflt?"auto":"none"},editType:o};return s.autoSize&&(u.size.dflt="auto"),s.autoColor&&(u.color.dflt="auto"),s.arrayOk&&(u.family.arrayOk=!0,u.weight.arrayOk=!0,u.style.arrayOk=!0,s.noFontVariant||(u.variant.arrayOk=!0),s.noFontTextcase||(u.textcase.arrayOk=!0),s.noFontLineposition||(u.lineposition.arrayOk=!0),s.noFontShadow||(u.shadow.arrayOk=!0),u.size.arrayOk=!0,u.color.arrayOk=!0),u}},8935:function(i){"use strict";i.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},4173:function(i,s,a){"use strict";var o,c=a(3626),l=a(4826).SUBPLOT_PATTERN;o=function(u,f,h){var p=c.subplotsRegistry[f];if(!p)return[];for(var m=p.attr,d=[],y=0;y<u.length;y++){var x=u[y],w=x[0].trace;w[m]===h&&d.push(x)}return d},s.eV=function(u,f,h){var p=[],m=[],d;if(typeof f=="string"?d=c.getModule(f).plot:typeof f=="function"?d=f:d=f.plot,!d)return[p,u];for(var y=h,x=0;x<u.length;x++){var w=u[x],L=w[0].trace,_=L.zorder!==void 0;L.visible!==!0||L._length===0||(L._module&&L._module.plot===d&&(!_||L.zorder===y)?p.push(w):m.push(w))}return[p,m]},o=function(f,h,p){if(!c.subplotsRegistry[h])return[];var m=c.subplotsRegistry[h].attr,d=[],y,x,w;if(h==="gl2d"){var L=p.match(l);x="x"+L[1],w="y"+L[2]}for(var _=0;_<f.length;_++)y=f[_],h==="gl2d"&&c.traceIs(y,"gl2d")?y[m[0]]===x&&y[m[1]]===w&&d.push(y):y[m]===p&&d.push(y);return d}},5802:function(i){"use strict";function s(o,c){var l=[0,0,0,0],u,f;for(u=0;u<4;++u)for(f=0;f<4;++f)l[f]+=o[4*u+f]*c[u];return l}function a(o,c){var l=s(o.projection,s(o.view,s(o.model,[c[0],c[1],c[2],1])));return l}i.exports=a},6704:function(i,s,a){"use strict";var o=a(337),c=a(9722),l=a(229),u=a(4101),f=a(2307),h=a(7891),p=a(3049).extendFlat,m=o({editType:"calc"});m.family.dflt='"Open Sans", verdana, arial, sans-serif',m.size.dflt=12,m.color.dflt=l.defaultLine,i.exports={font:m,title:{text:{valType:"string",editType:"layoutstyle"},font:o({editType:"layoutstyle"}),subtitle:{text:{valType:"string",editType:"layoutstyle"},font:o({editType:"layoutstyle"}),editType:"layoutstyle"},xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:p(h({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:l.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:l.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:l.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:u.newshape,activeshape:u.activeshape,newselection:f.newselection,activeselection:f.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:p({},c.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:o({editType:"layoutstyle"})}}},7891:function(i){"use strict";i.exports=function(s){var a=s.editType;return{t:{valType:"number",dflt:0,editType:a},r:{valType:"number",dflt:0,editType:a},b:{valType:"number",dflt:0,editType:a},l:{valType:"number",dflt:0,editType:a},editType:a}}},4122:function(i,s,a){"use strict";var o=a(5568),c=a(2696).de,l=a(6464).OE,u=a(721),f=a(3229),h=a(3626),p=a(7297),m=a(8032),d=a(4809),y=a(8766),x=a(3821).BADNUM,w=a(5975),L=a(8534).clearOutline,_=a(6667),D=a(9722),C=a(8935),z=a(4173).eV,b=d.relinkPrivateKeys,S=d._,M=i.exports={};d.extendFlat(M,h),M.attributes=a(9829),M.attributes.type.values=M.allTypes,M.fontAttrs=a(337),M.layoutAttributes=a(6704);var I=M.transformsRegistry,T=a(251);M.executeAPICommand=T.executeAPICommand,M.computeAPICommandBindings=T.computeAPICommandBindings,M.manageCommandObserver=T.manageCommandObserver,M.hasSimpleAPICommandBindings=T.hasSimpleAPICommandBindings,M.redrawText=function(P){return P=d.getGraphDiv(P),new Promise(function(U){setTimeout(function(){P._fullLayout&&(h.getComponentMethod("annotations","draw")(P),h.getComponentMethod("legend","draw")(P),h.getComponentMethod("colorbar","draw")(P),U(M.previousPromises(P)))},300)})},M.resize=function(P){P=d.getGraphDiv(P);var U,ee=new Promise(function(G,E){(!P||d.isHidden(P))&&E(new Error("Resize must be passed a displayed plot div element.")),P._redrawTimer&&clearTimeout(P._redrawTimer),P._resolveResize&&(U=P._resolveResize),P._resolveResize=G,P._redrawTimer=setTimeout(function(){if(!P.layout||P.layout.width&&P.layout.height||d.isHidden(P)){G(P);return}delete P.layout.width,delete P.layout.height;var K=P.changed;P.autoplay=!0,h.call("relayout",P,{autosize:!0}).then(function(){P.changed=K,P._resolveResize===G&&(delete P._resolveResize,G(P))})},100)});return U&&U(ee),ee},M.previousPromises=function(P){if((P._promises||[]).length)return Promise.all(P._promises).then(function(){P._promises=[]})},M.addLinks=function(P){if(!(!P._context.showLink&&!P._context.showSources)){var U=P._fullLayout,ee=d.ensureSingle(U._paper,"text","js-plot-link-container",function(pe){pe.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:y.defaultLine,"pointer-events":"all"}).each(function(){var xe=o.select(this);xe.append("tspan").classed("js-link-to-tool",!0),xe.append("tspan").classed("js-link-spacer",!0),xe.append("tspan").classed("js-sourcelinks",!0)})}),G=ee.node(),E={y:U._paper.attr("height")-9};document.body.contains(G)&&G.getComputedTextLength()>=U.width-20?(E["text-anchor"]="start",E.x=5):(E["text-anchor"]="end",E.x=U._paper.attr("width")-7),ee.attr(E);var K=ee.select(".js-link-to-tool"),R=ee.select(".js-link-spacer"),ne=ee.select(".js-sourcelinks");P._context.showSources&&P._context.showSources(P),P._context.showLink&&B(P,K),R.text(K.text()&&ne.text()?" - ":"")}};function B(P,U){U.text("");var ee=U.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(P._context.linkText+" \xBB");if(P._context.sendData)ee.on("click",function(){M.sendDataToCloud(P)});else{var G=window.location.pathname.split("/"),E=window.location.search;ee.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+G[2].split(".")[0]+"/"+G[1]+E})}}M.sendDataToCloud=function(P){var U=(window.PLOTLYENV||{}).BASE_URL||P._context.plotlyServerURL;if(U){P.emit("plotly_beforeexport");var ee=o.select(P).append("div").attr("id","hiddenform").style("display","none"),G=ee.append("form").attr({action:U+"/external",method:"post",target:"_blank"}),E=G.append("input").attr({type:"text",name:"data"});return E.node().value=M.graphJson(P,!1,"keepdata"),G.node().submit(),ee.remove(),P.emit("plotly_afterexport"),!1}};var H=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],Z=["year","month","dayMonth","dayMonthYear"];M.supplyDefaults=function(P,U){var ee=U&&U.skipUpdateCalc,G=P._fullLayout||{};if(G._skipDefaults){delete G._skipDefaults;return}var E=P._fullLayout={},K=P.layout||{},R=P._fullData||[],ne=P._fullData=[],pe=P.data||[],xe=P.calcdata||[],we=P._context||{},Ee;P._transitionData||M.createTransitionData(P),E._dfltTitle={plot:S(P,"Click to enter Plot title"),subtitle:S(P,"Click to enter Plot subtitle"),x:S(P,"Click to enter X axis title"),y:S(P,"Click to enter Y axis title"),colorbar:S(P,"Click to enter Colorscale title"),annotation:S(P,"new text")},E._traceWord=S(P,"trace");var Oe=j(P,H);if(E._mapboxAccessToken=we.mapboxAccessToken,G._initialAutoSizeIsDone){var Ke=G.width,Je=G.height;M.supplyLayoutGlobalDefaults(K,E,Oe),K.width||(E.width=Ke),K.height||(E.height=Je),M.sanitizeMargins(E)}else{M.supplyLayoutGlobalDefaults(K,E,Oe);var rt=!K.width||!K.height,Me=E.autosize,ke=we.autosizable,Le=rt&&(Me||ke);Le?M.plotAutoSize(P,K,E):rt&&M.sanitizeMargins(E),!Me&&rt&&(K.width=E.width,K.height=E.height)}E._d3locale=O(Oe,E.separators),E._extraFormat=j(P,Z),E._initialAutoSizeIsDone=!0,E._dataLength=pe.length,E._modules=[],E._visibleModules=[],E._basePlotModules=[];var He=E._subplots=N(),Ve=E._splomAxes={x:{},y:{}},qe=E._splomSubplots={};E._splomGridDflt={},E._scatterStackOpts={},E._firstScatter={},E._alignmentOpts={},E._colorAxes={},E._requestRangeslider={},E._traceUids=$(R,pe),E._globalTransforms=(P._context||{}).globalTransforms,M.supplyDataDefaults(pe,ne,K,E);var vt=Object.keys(Ve.x),At=Object.keys(Ve.y);if(vt.length>1&&At.length>1){for(h.getComponentMethod("grid","sizeDefaults")(K,E),Ee=0;Ee<vt.length;Ee++)d.pushUnique(He.xaxis,vt[Ee]);for(Ee=0;Ee<At.length;Ee++)d.pushUnique(He.yaxis,At[Ee]);for(var Dt in qe)d.pushUnique(He.cartesian,Dt)}if(E._has=M._hasPlotType.bind(E),R.length===ne.length)for(Ee=0;Ee<ne.length;Ee++)b(ne[Ee],R[Ee]);M.supplyLayoutModuleDefaults(K,E,ne,P._transitionData);var bt=E._visibleModules,xt=[];for(Ee=0;Ee<bt.length;Ee++){var Et=bt[Ee].crossTraceDefaults;Et&&d.pushUnique(xt,Et)}for(Ee=0;Ee<xt.length;Ee++)xt[Ee](ne,E);E._hasOnlyLargeSploms=E._basePlotModules.length===1&&E._basePlotModules[0].name==="splom"&&vt.length>15&&At.length>15&&E.shapes.length===0&&E.images.length===0,M.linkSubplots(ne,E,R,G),M.cleanPlot(ne,E,R,G);var pt=!!(G._has&&G._has("gl2d")),Rt=!!(E._has&&E._has("gl2d")),Wt=!!(G._has&&G._has("cartesian")),Vt=!!(E._has&&E._has("cartesian")),Yt=Wt||pt,et=Vt||Rt;Yt&&!et?G._bgLayer.remove():et&&!Yt&&(E._shouldCreateBgLayer=!0),G._zoomlayer&&!P._dragging&&L({_fullLayout:G}),X(ne,E),b(E,G),h.getComponentMethod("colorscale","crossTraceDefaults")(ne,E),E._preGUI||(E._preGUI={}),E._tracePreGUI||(E._tracePreGUI={});var ct=E._tracePreGUI,gt={},_e;for(_e in ct)gt[_e]="old";for(Ee=0;Ee<ne.length;Ee++)_e=ne[Ee]._fullInput.uid,gt[_e]||(ct[_e]={}),gt[_e]="new";for(_e in gt)gt[_e]==="old"&&delete ct[_e];Y(E),h.getComponentMethod("rangeslider","makeData")(E),!ee&&xe.length===ne.length&&M.supplyDefaultsUpdateCalc(xe,ne)},M.supplyDefaultsUpdateCalc=function(P,U){for(var ee=0;ee<U.length;ee++){var G=U[ee],E=(P[ee]||[])[0];if(E&&E.trace){var K=E.trace;if(K._hasCalcTransform){var R=K._arrayAttrs,ne,pe,xe;for(ne=0;ne<R.length;ne++)pe=R[ne],xe=d.nestedProperty(K,pe).get().slice(),d.nestedProperty(G,pe).set(xe)}E.trace=G}}};function $(P,U){var ee=U.length,G=[],E,K;for(E=0;E<P.length;E++){var R=P[E]._fullInput;R!==K&&G.push(R),K=R}var ne=G.length,pe=new Array(ee),xe={};function we(Ke,Je){pe[Je]=Ke,xe[Ke]=1}function Ee(Ke,Je){if(Ke&&typeof Ke=="string"&&!xe[Ke])return we(Ke,Je),!0}for(E=0;E<ee;E++){var Oe=U[E].uid;typeof Oe=="number"&&(Oe=String(Oe)),!Ee(Oe,E)&&(E<ne&&Ee(G[E].uid,E)||we(d.randstr(xe),E))}return pe}function N(){var P=h.collectableSubplotTypes,U={},ee,G;if(!P){P=[];var E=h.subplotsRegistry;for(var K in E){var R=E[K],ne=R.attr;if(ne&&(P.push(K),Array.isArray(ne)))for(G=0;G<ne.length;G++)d.pushUnique(P,ne[G])}}for(ee=0;ee<P.length;ee++)U[P[ee]]=[];return U}function j(P,U){var ee=P._context.locale;ee||(ee="en-US");var G=!1,E={};function K(Ee){for(var Oe=!0,Ke=0;Ke<U.length;Ke++){var Je=U[Ke];E[Je]||(Ee[Je]?E[Je]=Ee[Je]:Oe=!1)}Oe&&(G=!0)}for(var R=0;R<2;R++){for(var ne=P._context.locales,pe=0;pe<2;pe++){var xe=(ne[ee]||{}).format;if(xe&&(K(xe),G))break;ne=h.localeRegistry}var we=ee.split("-")[0];if(G||we===ee)break;ee=we}return G||K(h.localeRegistry.en.format),E}function O(P,U){return P.decimal=U.charAt(0),P.thousands=U.charAt(1),{numberFormat:function(ee){try{ee=l(P).format(d.adjustFormat(ee))}catch{return d.warnBadFormat(ee),d.noFormat}return ee},timeFormat:c(P).utcFormat}}function X(P,U){var ee,G=[];U.meta&&(ee=U._meta={meta:U.meta,layout:{meta:U.meta}});for(var E=0;E<P.length;E++){var K=P[E];K.meta?G[K.index]=K._meta={meta:K.meta}:U.meta&&(K._meta={meta:U.meta}),U.meta&&(K._meta.layout={meta:U.meta})}G.length&&(ee||(ee=U._meta={}),ee.data=G)}M.createTransitionData=function(P){P._transitionData||(P._transitionData={}),P._transitionData._frames||(P._transitionData._frames=[]),P._transitionData._frameHash||(P._transitionData._frameHash={}),P._transitionData._counter||(P._transitionData._counter=0),P._transitionData._interruptCallbacks||(P._transitionData._interruptCallbacks=[])},M._hasPlotType=function(P){var U,ee=this._basePlotModules||[];for(U=0;U<ee.length;U++)if(ee[U].name===P)return!0;var G=this._modules||[];for(U=0;U<G.length;U++){var E=G[U].name;if(E===P)return!0;var K=h.modules[E];if(K&&K.categories[P])return!0}return!1},M.cleanPlot=function(P,U,ee,G){var E,K,R=G._basePlotModules||[];for(E=0;E<R.length;E++){var ne=R[E];ne.clean&&ne.clean(P,U,ee,G)}var pe=G._has&&G._has("gl"),xe=U._has&&U._has("gl");pe&&!xe&&G._glcontainer!==void 0&&(G._glcontainer.selectAll(".gl-canvas").remove(),G._glcontainer.selectAll(".no-webgl").remove(),G._glcanvas=null);var we=!!G._infolayer;e:for(E=0;E<ee.length;E++){var Ee=ee[E],Oe=Ee.uid;for(K=0;K<P.length;K++){var Ke=P[K];if(Oe===Ke.uid)continue e}we&&G._infolayer.select(".cb"+Oe).remove()}},M.linkSubplots=function(P,U,ee,G){var E,K,R=G._plots||{},ne=U._plots={},pe=U._subplots,xe={_fullData:P,_fullLayout:U},we=pe.cartesian.concat(pe.gl2d||[]);for(E=0;E<we.length;E++){var Ee=we[E],Oe=R[Ee],Ke=w.getFromId(xe,Ee,"x"),Je=w.getFromId(xe,Ee,"y"),rt;for(Oe?rt=ne[Ee]=Oe:(rt=ne[Ee]={},rt.id=Ee),Ke._counterAxes.push(Je._id),Je._counterAxes.push(Ke._id),Ke._subplotsWith.push(Ee),Je._subplotsWith.push(Ee),rt.xaxis=Ke,rt.yaxis=Je,rt._hasClipOnAxisFalse=!1,K=0;K<P.length;K++){var Me=P[K];if(Me.xaxis===rt.xaxis._id&&Me.yaxis===rt.yaxis._id&&Me.cliponaxis===!1){rt._hasClipOnAxisFalse=!0;break}}}var ke=w.list(xe,null,!0),Le;for(E=0;E<ke.length;E++){Le=ke[E];var He=null;Le.overlaying&&(He=w.getFromId(xe,Le.overlaying),He&&He.overlaying&&(Le.overlaying=!1,He=null)),Le._mainAxis=He||Le,He&&(Le.domain=He.domain.slice()),Le._anchorAxis=Le.anchor==="free"?null:w.getFromId(xe,Le.anchor)}for(E=0;E<ke.length;E++)if(Le=ke[E],Le._counterAxes.sort(w.idSort),Le._subplotsWith.sort(d.subplotSort),Le._mainSubplot=ie(Le,U),Le._counterAxes.length&&(Le.spikemode&&Le.spikemode.indexOf("across")!==-1||Le.automargin&&Le.mirror&&Le.anchor!=="free"||h.getComponentMethod("rangeslider","isVisible")(Le))){var Ve=1,qe=0;for(K=0;K<Le._counterAxes.length;K++){var vt=w.getFromId(xe,Le._counterAxes[K]);Ve=Math.min(Ve,vt.domain[0]),qe=Math.max(qe,vt.domain[1])}Ve<qe&&(Le._counterDomainMin=Ve,Le._counterDomainMax=qe)}};function ie(P,U){var ee={_fullLayout:U},G=P._id.charAt(0)==="x",E=P._mainAxis._anchorAxis,K="",R="",ne="";if(E&&(ne=E._mainAxis._id,K=G?P._id+ne:ne+P._id),!K||!U._plots[K]){K="";for(var pe=P._counterAxes,xe=0;xe<pe.length;xe++){var we=pe[xe],Ee=G?P._id+we:we+P._id;R||(R=Ee);var Oe=w.getFromId(ee,we);if(ne&&Oe.overlaying===ne){K=Ee;break}}}return K||R}M.clearExpandedTraceDefaultColors=function(P){var U,ee,G;function E(R,ne,pe,xe){ee[xe]=ne,ee.length=xe+1,R.valType==="color"&&R.dflt===void 0&&U.push(ee.join("."))}for(ee=[],U=P._module._colorAttrs,U||(P._module._colorAttrs=U=[],p.crawl(P._module.attributes,E)),G=0;G<U.length;G++){var K=d.nestedProperty(P,"_input."+U[G]);K.get()||d.nestedProperty(P,U[G]).set(null)}},M.supplyDataDefaults=function(P,U,ee,G){var E=G._modules,K=G._visibleModules,R=G._basePlotModules,ne=0,pe=0,xe,we,Ee;G._transformModules=[];function Oe(At){U.push(At);var Dt=At._module;Dt&&(d.pushUnique(E,Dt),At.visible===!0&&d.pushUnique(K,Dt),d.pushUnique(R,At._module.basePlotModule),ne++,At._input.visible!==!1&&pe++)}var Ke={},Je=[],rt=(ee.template||{}).data||{},Me=m.traceTemplater(rt);for(xe=0;xe<P.length;xe++){if(Ee=P[xe],we=Me.newTrace(Ee),we.uid=G._traceUids[xe],M.supplyTraceDefaults(Ee,we,pe,G,xe),we.index=xe,we._input=Ee,we._expandedIndex=ne,we.transforms&&we.transforms.length)for(var ke=Ee.visible!==!1&&we.visible===!1,Le=V(we,U,ee,G),He=0;He<Le.length;He++){var Ve=Le[He],qe={_template:we._template,type:we.type,uid:we.uid+He};ke&&Ve.visible===!1&&delete Ve.visible,M.supplyTraceDefaults(Ve,qe,ne,G,xe),b(qe,Ve),qe.index=xe,qe._input=Ee,qe._fullInput=we,qe._expandedIndex=ne,qe._expandedInput=Ve,Oe(qe)}else we._fullInput=we,we._expandedInput=we,Oe(we);h.traceIs(we,"carpetAxis")&&(Ke[we.carpet]=we),h.traceIs(we,"carpetDependent")&&Je.push(xe)}for(xe=0;xe<Je.length;xe++)if(we=U[Je[xe]],!!we.visible){var vt=Ke[we.carpet];if(we._carpet=vt,!vt||!vt.visible){we.visible=!1;continue}we.xaxis=vt.xaxis,we.yaxis=vt.yaxis}},M.supplyAnimationDefaults=function(P){P=P||{};var U,ee={};function G(E,K){return d.coerce(P||{},ee,D,E,K)}if(G("mode"),G("direction"),G("fromcurrent"),Array.isArray(P.frame))for(ee.frame=[],U=0;U<P.frame.length;U++)ee.frame[U]=M.supplyAnimationFrameDefaults(P.frame[U]||{});else ee.frame=M.supplyAnimationFrameDefaults(P.frame||{});if(Array.isArray(P.transition))for(ee.transition=[],U=0;U<P.transition.length;U++)ee.transition[U]=M.supplyAnimationTransitionDefaults(P.transition[U]||{});else ee.transition=M.supplyAnimationTransitionDefaults(P.transition||{});return ee},M.supplyAnimationFrameDefaults=function(P){var U={};function ee(G,E){return d.coerce(P||{},U,D.frame,G,E)}return ee("duration"),ee("redraw"),U},M.supplyAnimationTransitionDefaults=function(P){var U={};function ee(G,E){return d.coerce(P||{},U,D.transition,G,E)}return ee("duration"),ee("easing"),U},M.supplyFrameDefaults=function(P){var U={};function ee(G,E){return d.coerce(P,U,C,G,E)}return ee("group"),ee("name"),ee("traces"),ee("baseframe"),ee("data"),ee("layout"),U},M.supplyTraceDefaults=function(P,U,ee,G,E){var K=G.colorway||y.defaults,R=K[ee%K.length],ne;function pe(He,Ve){return d.coerce(P,U,M.attributes,He,Ve)}var xe=pe("visible");pe("type"),pe("name",G._traceWord+" "+E),pe("uirevision",G.uirevision);var we=M.getModule(U);if(U._module=we,we){var Ee=we.basePlotModule,Oe=Ee.attr,Ke=Ee.attributes;if(Oe&&Ke){var Je=G._subplots,rt="";if(xe||Ee.name!=="gl2d"){if(Array.isArray(Oe))for(ne=0;ne<Oe.length;ne++){var Me=Oe[ne],ke=d.coerce(P,U,Ke,Me);Je[Me]&&d.pushUnique(Je[Me],ke),rt+=ke}else rt=d.coerce(P,U,Ke,Oe);Je[Ee.name]&&d.pushUnique(Je[Ee.name],rt)}}}if(xe){if(pe("customdata"),pe("ids"),pe("meta"),h.traceIs(U,"showLegend")?(d.coerce(P,U,we.attributes.showlegend?we.attributes:M.attributes,"showlegend"),pe("legend"),pe("legendwidth"),pe("legendgroup"),pe("legendgrouptitle.text"),pe("legendrank"),U._dfltShowLegend=!0):U._dfltShowLegend=!1,we&&we.supplyDefaults(P,U,R,G),h.traceIs(U,"noOpacity")||pe("opacity"),h.traceIs(U,"notLegendIsolatable")&&(U.visible=!!U.visible),h.traceIs(U,"noHover")||(U.hovertemplate||d.coerceHoverinfo(P,U,G),U.type!=="parcats"&&h.getComponentMethod("fx","supplyDefaults")(P,U,R,G)),we&&we.selectPoints){var Le=pe("selectedpoints");d.isTypedArray(Le)&&(U.selectedpoints=Array.from(Le))}M.supplyTransformDefaults(P,U,G)}return U};function oe(P){var U=P.transforms;if(Array.isArray(U)&&U.length)for(var ee=0;ee<U.length;ee++){var G=U[ee],E=G._module||I[G.type];if(E&&E.makesData)return!0}return!1}M.hasMakesDataTransform=oe,M.supplyTransformDefaults=function(P,U,ee){if(U._length||oe(P)){var G=ee._globalTransforms||[],E=ee._transformModules||[];if(!(!Array.isArray(P.transforms)&&G.length===0))for(var K=P.transforms||[],R=G.concat(K),ne=U.transforms=[],pe=0;pe<R.length;pe++){var xe=R[pe],we=xe.type,Ee=I[we],Oe,Ke=!(xe._module&&xe._module===Ee),Je=Ee&&typeof Ee.transform=="function";Ee||d.warn("Unrecognized transform type "+we+"."),Ee&&Ee.supplyDefaults&&(Ke||Je)?(Oe=Ee.supplyDefaults(xe,U,ee,P),Oe.type=we,Oe._module=Ee,d.pushUnique(E,Ee)):Oe=d.extendFlat({},xe),ne.push(Oe)}}};function V(P,U,ee,G){for(var E=P.transforms,K=[P],R=0;R<E.length;R++){var ne=E[R],pe=I[ne.type];pe&&pe.transform&&(K=pe.transform(K,{transform:ne,fullTrace:P,fullData:U,layout:ee,fullLayout:G,transformIndex:R}))}return K}M.supplyLayoutGlobalDefaults=function(P,U,ee){function G(Ee,Oe){return d.coerce(P,U,M.layoutAttributes,Ee,Oe)}var E=P.template;d.isPlainObject(E)&&(U.template=E,U._template=E.layout,U._dataTemplate=E.data),G("autotypenumbers");var K=d.coerceFont(G,"font"),R=K.size;d.coerceFont(G,"title.font",K,{overrideDflt:{size:Math.round(R*1.4)}}),G("title.text",U._dfltTitle.plot),G("title.xref");var ne=G("title.yref");G("title.pad.t"),G("title.pad.r"),G("title.pad.b"),G("title.pad.l");var pe=G("title.automargin");G("title.x"),G("title.xanchor"),G("title.y"),G("title.yanchor"),G("title.subtitle.text",U._dfltTitle.subtitle),d.coerceFont(G,"title.subtitle.font",K,{overrideDflt:{size:Math.round(U.title.font.size*.7)}}),pe&&(ne==="paper"&&(U.title.y!==0&&(U.title.y=1),U.title.yanchor==="auto"&&(U.title.yanchor=U.title.y===0?"top":"bottom")),ne==="container"&&(U.title.y==="auto"&&(U.title.y=1),U.title.yanchor==="auto"&&(U.title.yanchor=U.title.y<.5?"bottom":"top")));var xe=G("uniformtext.mode");xe&&G("uniformtext.minsize"),G("autosize",!(P.width&&P.height)),G("width"),G("height"),G("minreducedwidth"),G("minreducedheight"),G("margin.l"),G("margin.r"),G("margin.t"),G("margin.b"),G("margin.pad"),G("margin.autoexpand"),P.width&&P.height&&M.sanitizeMargins(U),h.getComponentMethod("grid","sizeDefaults")(P,U),G("paper_bgcolor"),G("separators",ee.decimal+ee.thousands),G("hidesources"),G("colorway"),G("datarevision");var we=G("uirevision");G("editrevision",we),G("selectionrevision",we),h.getComponentMethod("modebar","supplyLayoutDefaults")(P,U),h.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(P,U,G),h.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(P,U,G),G("meta"),d.isPlainObject(P.transition)&&(G("transition.duration"),G("transition.easing"),G("transition.ordering")),h.getComponentMethod("calendars","handleDefaults")(P,U,"calendar"),h.getComponentMethod("fx","supplyLayoutGlobalDefaults")(P,U,G),d.coerce(P,U,_,"scattermode")};function W(P){return typeof P=="string"&&P.substr(P.length-2)==="px"&&parseFloat(P)}M.plotAutoSize=function(U,ee,G){var E=U._context||{},K=E.frameMargins,R,ne,pe=d.isPlotDiv(U);if(pe&&U.emit("plotly_autosize"),E.fillFrame)R=window.innerWidth,ne=window.innerHeight,document.body.style.overflow="hidden";else{var xe=pe?window.getComputedStyle(U):{};if(R=W(xe.width)||W(xe.maxWidth)||G.width,ne=W(xe.height)||W(xe.maxHeight)||G.height,u(K)&&K>0){var we=1-2*K;R=Math.round(we*R),ne=Math.round(we*ne)}}var Ee=M.layoutAttributes.width.min,Oe=M.layoutAttributes.height.min;R<Ee&&(R=Ee),ne<Oe&&(ne=Oe);var Ke=!ee.width&&Math.abs(G.width-R)>1,Je=!ee.height&&Math.abs(G.height-ne)>1;(Je||Ke)&&(Ke&&(G.width=R),Je&&(G.height=ne)),U._initialAutoSize||(U._initialAutoSize={width:R,height:ne}),M.sanitizeMargins(G)},M.supplyLayoutModuleDefaults=function(P,U,ee,G){var E=h.componentsRegistry,K=U._basePlotModules,R,ne,pe,xe=h.subplotsRegistry.cartesian;for(R in E)pe=E[R],pe.includeBasePlot&&pe.includeBasePlot(P,U);K.length||K.push(xe),U._has("cartesian")&&(h.getComponentMethod("grid","contentDefaults")(P,U),xe.finalizeSubplots(P,U));for(var we in U._subplots)U._subplots[we].sort(d.subplotSort);for(ne=0;ne<K.length;ne++)pe=K[ne],pe.supplyLayoutDefaults&&pe.supplyLayoutDefaults(P,U,ee);var Ee=U._modules;for(ne=0;ne<Ee.length;ne++)pe=Ee[ne],pe.supplyLayoutDefaults&&pe.supplyLayoutDefaults(P,U,ee);var Oe=U._transformModules;for(ne=0;ne<Oe.length;ne++)pe=Oe[ne],pe.supplyLayoutDefaults&&pe.supplyLayoutDefaults(P,U,ee,G);for(R in E)pe=E[R],pe.supplyLayoutDefaults&&pe.supplyLayoutDefaults(P,U,ee)},M.purge=function(P){var U=P._fullLayout||{};U._glcontainer!==void 0&&(U._glcontainer.selectAll(".gl-canvas").remove(),U._glcontainer.remove(),U._glcanvas=null),U._modeBar&&U._modeBar.destroy(),P._transitionData&&(P._transitionData._interruptCallbacks&&(P._transitionData._interruptCallbacks.length=0),P._transitionData._animationRaf&&window.cancelAnimationFrame(P._transitionData._animationRaf)),d.clearThrottle(),d.clearResponsive(P),delete P.data,delete P.layout,delete P._fullData,delete P._fullLayout,delete P.calcdata,delete P.empty,delete P.fid,delete P.undoqueue,delete P.undonum,delete P.autoplay,delete P.changed,delete P._promises,delete P._redrawTimer,delete P._hmlumcount,delete P._hmpixcount,delete P._transitionData,delete P._transitioning,delete P._initialAutoSize,delete P._transitioningWithDuration,delete P._dragging,delete P._dragged,delete P._dragdata,delete P._hoverdata,delete P._snapshotInProgress,delete P._editing,delete P._mouseDownTime,delete P._legendMouseDownTime,P.removeAllListeners&&P.removeAllListeners()},M.style=function(P){var U=P._fullLayout._visibleModules,ee=[],G;for(G=0;G<U.length;G++){var E=U[G];E.style&&d.pushUnique(ee,E.style)}for(G=0;G<ee.length;G++)ee[G](P)},M.sanitizeMargins=function(P){if(!(!P||!P.margin)){var U=P.width,ee=P.height,G=P.margin,E=U-(G.l+G.r),K=ee-(G.t+G.b),R;E<0&&(R=(U-1)/(G.l+G.r),G.l=Math.floor(R*G.l),G.r=Math.floor(R*G.r)),K<0&&(R=(ee-1)/(G.t+G.b),G.t=Math.floor(R*G.t),G.b=Math.floor(R*G.b))}},M.clearAutoMarginIds=function(P){P._fullLayout._pushmarginIds={}},M.allowAutoMargin=function(P,U){P._fullLayout._pushmarginIds[U]=1};function Y(P){var U=P.margin;if(!P._size){var ee=P._size={l:Math.round(U.l),r:Math.round(U.r),t:Math.round(U.t),b:Math.round(U.b),p:Math.round(U.pad)};ee.w=Math.round(P.width)-ee.l-ee.r,ee.h=Math.round(P.height)-ee.t-ee.b}P._pushmargin||(P._pushmargin={}),P._pushmarginIds||(P._pushmarginIds={}),P._reservedMargin||(P._reservedMargin={})}var Q=2,re=2;M.autoMargin=function(P,U,ee){var G=P._fullLayout,E=G.width,K=G.height,R=G.margin,ne=G.minreducedwidth,pe=G.minreducedheight,xe=d.constrain(E-R.l-R.r,Q,ne),we=d.constrain(K-R.t-R.b,re,pe),Ee=Math.max(0,E-xe),Oe=Math.max(0,K-we),Ke=G._pushmargin,Je=G._pushmarginIds;if(R.autoexpand!==!1){if(!ee)delete Ke[U],delete Je[U];else{var rt=ee.pad;if(rt===void 0&&(rt=Math.min(12,R.l,R.r,R.t,R.b)),Ee){var Me=(ee.l+ee.r)/Ee;Me>1&&(ee.l/=Me,ee.r/=Me)}if(Oe){var ke=(ee.t+ee.b)/Oe;ke>1&&(ee.t/=ke,ee.b/=ke)}var Le=ee.xl!==void 0?ee.xl:ee.x,He=ee.xr!==void 0?ee.xr:ee.x,Ve=ee.yt!==void 0?ee.yt:ee.y,qe=ee.yb!==void 0?ee.yb:ee.y;Ke[U]={l:{val:Le,size:ee.l+rt},r:{val:He,size:ee.r+rt},b:{val:qe,size:ee.b+rt},t:{val:Ve,size:ee.t+rt}},Je[U]=1}if(!G._replotting)return M.doAutoMargin(P)}};function te(P){if("_redrawFromAutoMarginCount"in P._fullLayout)return!1;var U=w.list(P,"",!0);for(var ee in U)if(U[ee].autoshift||U[ee].shift)return!0;return!1}M.doAutoMargin=function(P){var U=P._fullLayout,ee=U.width,G=U.height;U._size||(U._size={}),Y(U);var E=U._size,K=U.margin,R={t:0,b:0,l:0,r:0},ne=d.extendFlat({},E),pe=K.l,xe=K.r,we=K.t,Ee=K.b,Oe=U._pushmargin,Ke=U._pushmarginIds,Je=U.minreducedwidth,rt=U.minreducedheight;if(K.autoexpand!==!1){for(var Me in Oe)Ke[Me]||delete Oe[Me];var ke=P._fullLayout._reservedMargin;for(var Le in ke)for(var He in ke[Le]){var Ve=ke[Le][He];R[He]=Math.max(R[He],Ve)}Oe.base={l:{val:0,size:pe},r:{val:1,size:xe},t:{val:1,size:we},b:{val:0,size:Ee}};for(var qe in R){var vt=0;for(var At in Oe)At!=="base"&&u(Oe[At][qe].size)&&(vt=Oe[At][qe].size>vt?Oe[At][qe].size:vt);var Dt=Math.max(0,K[qe]-vt);R[qe]=Math.max(0,R[qe]-Dt)}for(var bt in Oe){var xt=Oe[bt].l||{},Et=Oe[bt].b||{},pt=xt.val,Rt=xt.size,Wt=Et.val,Vt=Et.size,Yt=ee-R.r-R.l,et=G-R.t-R.b;for(var ct in Oe){if(u(Rt)&&Oe[ct].r){var gt=Oe[ct].r.val,_e=Oe[ct].r.size;if(gt>pt){var Be=(Rt*gt+(_e-Yt)*pt)/(gt-pt),ve=(_e*(1-pt)+(Rt-Yt)*(1-gt))/(gt-pt);Be+ve>pe+xe&&(pe=Be,xe=ve)}}if(u(Vt)&&Oe[ct].t){var ge=Oe[ct].t.val,Re=Oe[ct].t.size;if(ge>Wt){var Fe=(Vt*ge+(Re-et)*Wt)/(ge-Wt),Ue=(Re*(1-Wt)+(Vt-et)*(1-ge))/(ge-Wt);Fe+Ue>Ee+we&&(Ee=Fe,we=Ue)}}}}}var We=d.constrain(ee-K.l-K.r,Q,Je),St=d.constrain(G-K.t-K.b,re,rt),Mt=Math.max(0,ee-We),ot=Math.max(0,G-St);if(Mt){var Xe=(pe+xe)/Mt;Xe>1&&(pe/=Xe,xe/=Xe)}if(ot){var _t=(Ee+we)/ot;_t>1&&(Ee/=_t,we/=_t)}if(E.l=Math.round(pe)+R.l,E.r=Math.round(xe)+R.r,E.t=Math.round(we)+R.t,E.b=Math.round(Ee)+R.b,E.p=Math.round(K.pad),E.w=Math.round(ee)-E.l-E.r,E.h=Math.round(G)-E.t-E.b,!U._replotting&&(M.didMarginChange(ne,E)||te(P))){"_redrawFromAutoMarginCount"in U?U._redrawFromAutoMarginCount++:U._redrawFromAutoMarginCount=1;var Xt=3*(1+Object.keys(Ke).length);if(U._redrawFromAutoMarginCount<Xt)return h.call("_doPlot",P);U._size=ne,d.warn("Too many auto-margin redraws.")}le(P)};function le(P){var U=w.list(P,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(ee){for(var G=0;G<U.length;G++){var E=U[G][ee];E&&E()}})}var be=["l","r","t","b","p","w","h"];M.didMarginChange=function(P,U){for(var ee=0;ee<be.length;ee++){var G=be[ee],E=P[G],K=U[G];if(!u(E)||Math.abs(K-E)>1)return!0}return!1},M.graphJson=function(P,U,ee,G,E,K){(E&&U&&!P._fullData||E&&!U&&!P._fullLayout)&&M.supplyDefaults(P);var R=E?P._fullData:P.data,ne=E?P._fullLayout:P.layout,pe=(P._transitionData||{})._frames;function xe(Oe,Ke){if(typeof Oe=="function")return Ke?"_function_":null;if(d.isPlainObject(Oe)){var Je={},rt;return Object.keys(Oe).sort().forEach(function(He){if(["_","["].indexOf(He.charAt(0))===-1){if(typeof Oe[He]=="function"){Ke&&(Je[He]="_function");return}if(ee==="keepdata"){if(He.substr(He.length-3)==="src")return}else if(ee==="keepstream"){if(rt=Oe[He+"src"],typeof rt=="string"&&rt.indexOf(":")>0&&!d.isPlainObject(Oe.stream))return}else if(ee!=="keepall"&&(rt=Oe[He+"src"],typeof rt=="string"&&rt.indexOf(":")>0))return;Je[He]=xe(Oe[He],Ke)}}),Je}var Me=Array.isArray(Oe),ke=d.isTypedArray(Oe);if((Me||ke)&&Oe.dtype&&Oe.shape){var Le=Oe.bdata;return xe({dtype:Oe.dtype,shape:Oe.shape,bdata:d.isArrayBuffer(Le)?f.encode(Le):Le},Ke)}return Me?Oe.map(function(He){return xe(He,Ke)}):ke?d.simpleMap(Oe,d.identity):d.isJSDate(Oe)?d.ms2DateTimeLocal(+Oe):Oe}var we={data:(R||[]).map(function(Oe){var Ke=xe(Oe);return U&&delete Ke.fit,Ke})};if(!U&&(we.layout=xe(ne),E)){var Ee=ne._size;we.layout.computed={margin:{b:Ee.b,l:Ee.l,r:Ee.r,t:Ee.t}}}return pe&&(we.frames=xe(pe)),K&&(we.config=xe(P._context,!0)),G==="object"?we:JSON.stringify(we)},M.modifyFrames=function(P,U){var ee,G,E,K=P._transitionData._frames,R=P._transitionData._frameHash;for(ee=0;ee<U.length;ee++)switch(G=U[ee],G.type){case"replace":E=G.value;var ne=(K[G.index]||{}).name,pe=E.name;K[G.index]=R[pe]=E,pe!==ne&&(delete R[ne],R[pe]=E);break;case"insert":E=G.value,R[E.name]=E,K.splice(G.index,0,E);break;case"delete":E=K[G.index],delete R[E.name],K.splice(G.index,1);break}return Promise.resolve()},M.computeFrame=function(P,U){var ee=P._transitionData._frameHash,G,E,K,R;if(!U)throw new Error("computeFrame must be given a string frame name");var ne=ee[U.toString()];if(!ne)return!1;for(var pe=[ne],xe=[ne.name];ne.baseframe&&(ne=ee[ne.baseframe.toString()])&&xe.indexOf(ne.name)===-1;)pe.push(ne),xe.push(ne.name);for(var we={};ne=pe.pop();)if(ne.layout&&(we.layout=M.extendLayout(we.layout,ne.layout)),ne.data){if(we.data||(we.data=[]),E=ne.traces,!E)for(E=[],G=0;G<ne.data.length;G++)E[G]=G;for(we.traces||(we.traces=[]),G=0;G<ne.data.length;G++)K=E[G],K!=null&&(R=we.traces.indexOf(K),R===-1&&(R=we.data.length,we.traces[R]=K),we.data[R]=M.extendTrace(we.data[R],ne.data[G]))}return we},M.recomputeFrameHash=function(P){for(var U=P._transitionData._frameHash={},ee=P._transitionData._frames,G=0;G<ee.length;G++){var E=ee[G];E&&E.name&&(U[E.name]=E)}},M.extendObjectWithContainers=function(P,U,ee){var G,E,K,R,ne,pe,xe,we,Ee=d.extendDeepNoArrays({},U||{}),Oe=d.expandObjectPaths(Ee),Ke={};if(ee&&ee.length)for(K=0;K<ee.length;K++)G=d.nestedProperty(Oe,ee[K]),E=G.get(),E===void 0?d.nestedProperty(Ke,ee[K]).set(null):(G.set(null),d.nestedProperty(Ke,ee[K]).set(E));if(P=d.extendDeepNoArrays(P||{},Oe),ee&&ee.length){for(K=0;K<ee.length;K++)if(ne=d.nestedProperty(Ke,ee[K]),xe=ne.get(),!!xe){for(pe=d.nestedProperty(P,ee[K]),we=pe.get(),Array.isArray(we)||(we=[],pe.set(we)),R=0;R<xe.length;R++){var Je=xe[R];Je===null?we[R]=null:we[R]=M.extendObjectWithContainers(we[R],Je)}pe.set(we)}}return P},M.dataArrayContainers=["transforms","dimensions"],M.layoutArrayContainers=h.layoutArrayContainers,M.extendTrace=function(P,U){return M.extendObjectWithContainers(P,U,M.dataArrayContainers)},M.extendLayout=function(P,U){return M.extendObjectWithContainers(P,U,M.layoutArrayContainers)},M.transition=function(P,U,ee,G,E,K){var R={redraw:E.redraw},ne={},pe=[];return R.prepareFn=function(){for(var xe=Array.isArray(U)?U.length:0,we=G.slice(0,xe),Ee=0;Ee<we.length;Ee++){var Oe=we[Ee],Ke=P._fullData[Oe],Je=Ke._module;if(Je){if(Je.animatable){var rt=Je.basePlotModule.name;ne[rt]||(ne[rt]=[]),ne[rt].push(Oe)}P.data[we[Ee]]=M.extendTrace(P.data[we[Ee]],U[Ee])}}var Me=d.expandObjectPaths(d.extendDeepNoArrays({},ee)),ke=/^[xy]axis[0-9]*$/;for(var Le in Me)ke.test(Le)&&delete Me[Le].range;M.extendLayout(P.layout,Me),delete P.calcdata,M.supplyDefaults(P),M.doCalcdata(P);var He=d.expandObjectPaths(ee);if(He){var Ve=P._fullLayout._plots;for(var qe in Ve){var vt=Ve[qe],At=vt.xaxis,Dt=vt.yaxis,bt=At.range.slice(),xt=Dt.range.slice(),Et=null,pt=null,Rt=null,Wt=null;Array.isArray(He[At._name+".range"])?Et=He[At._name+".range"].slice():Array.isArray((He[At._name]||{}).range)&&(Et=He[At._name].range.slice()),Array.isArray(He[Dt._name+".range"])?pt=He[Dt._name+".range"].slice():Array.isArray((He[Dt._name]||{}).range)&&(pt=He[Dt._name].range.slice()),bt&&Et&&(At.r2l(bt[0])!==At.r2l(Et[0])||At.r2l(bt[1])!==At.r2l(Et[1]))&&(Rt={xr0:bt,xr1:Et}),xt&&pt&&(Dt.r2l(xt[0])!==Dt.r2l(pt[0])||Dt.r2l(xt[1])!==Dt.r2l(pt[1]))&&(Wt={yr0:xt,yr1:pt}),(Rt||Wt)&&pe.push(d.extendFlat({plotinfo:vt},Rt,Wt))}}return Promise.resolve()},R.runFn=function(xe){var we,Ee=P._fullLayout._basePlotModules,Oe=pe.length,Ke;if(ee)for(Ke=0;Ke<Ee.length;Ke++)Ee[Ke].transitionAxes&&Ee[Ke].transitionAxes(P,pe,K,xe);Oe?(we=d.extendFlat({},K),we.duration=0,delete ne.cartesian):we=K;for(var Je in ne){var rt=ne[Je],Me=P._fullData[rt[0]]._module;Me.basePlotModule.plot(P,rt,we,xe)}},Se(P,K,R)},M.transitionFromReact=function(P,U,ee,G){var E=P._fullLayout,K=E.transition,R={},ne=[];return R.prepareFn=function(){var pe=E._plots;R.redraw=!1,U.anim==="some"&&(R.redraw=!0),ee.anim==="some"&&(R.redraw=!0);for(var xe in pe){var we=pe[xe],Ee=we.xaxis,Oe=we.yaxis,Ke=G[Ee._name].range.slice(),Je=G[Oe._name].range.slice(),rt=Ee.range.slice(),Me=Oe.range.slice();Ee.setScale(),Oe.setScale();var ke=null,Le=null;(Ee.r2l(Ke[0])!==Ee.r2l(rt[0])||Ee.r2l(Ke[1])!==Ee.r2l(rt[1]))&&(ke={xr0:Ke,xr1:rt}),(Oe.r2l(Je[0])!==Oe.r2l(Me[0])||Oe.r2l(Je[1])!==Oe.r2l(Me[1]))&&(Le={yr0:Je,yr1:Me}),(ke||Le)&&ne.push(d.extendFlat({plotinfo:we},ke,Le))}return Promise.resolve()},R.runFn=function(pe){for(var xe=P._fullData,we=P._fullLayout,Ee=we._basePlotModules,Oe,Ke,Je,rt=[],Me=0;Me<xe.length;Me++)rt.push(Me);function ke(){if(P._fullLayout)for(var He=0;He<Ee.length;He++)Ee[He].transitionAxes&&Ee[He].transitionAxes(P,ne,Oe,pe)}function Le(){if(P._fullLayout)for(var He=0;He<Ee.length;He++)Ee[He].plot(P,Je,Ke,pe)}ne.length&&U.anim?K.ordering==="traces first"?(Oe=d.extendFlat({},K,{duration:0}),Je=rt,Ke=K,setTimeout(ke,K.duration),Le()):(Oe=K,Je=null,Ke=d.extendFlat({},K,{duration:0}),setTimeout(Le,Oe.duration),ke()):ne.length?(Oe=K,ke()):U.anim&&(Je=rt,Ke=K,Le())},Se(P,K,R)};function Se(P,U,ee){var G=!1;function E(Ee){var Oe=Promise.resolve();if(!Ee)return Oe;for(;Ee.length;)Oe=Oe.then(Ee.shift());return Oe}function K(Ee){if(Ee)for(;Ee.length;)Ee.shift()}function R(){return P.emit("plotly_transitioning",[]),new Promise(function(Ee){P._transitioning=!0,U.duration>0&&(P._transitioningWithDuration=!0),P._transitionData._interruptCallbacks.push(function(){G=!0}),ee.redraw&&P._transitionData._interruptCallbacks.push(function(){return h.call("redraw",P)}),P._transitionData._interruptCallbacks.push(function(){P.emit("plotly_transitioninterrupted",[])});var Oe=0,Ke=0;function Je(){return Oe++,function(){Ke++,!G&&Ke===Oe&&ne(Ee)}}ee.runFn(Je),setTimeout(Je())})}function ne(Ee){if(P._transitionData)return K(P._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(ee.redraw)return h.call("redraw",P)}).then(function(){P._transitioning=!1,P._transitioningWithDuration=!1,P.emit("plotly_transitioned",[])}).then(Ee)}function pe(){if(P._transitionData)return P._transitioning=!1,E(P._transitionData._interruptCallbacks)}var xe=[M.previousPromises,pe,ee.prepareFn,M.rehover,M.reselect,R],we=d.syncOrAsync(xe,P);return(!we||!we.then)&&(we=Promise.resolve()),we.then(function(){return P})}M.doCalcdata=function(P,U){var ee=w.list(P),G=P._fullData,E=P._fullLayout,K,R,ne,pe,xe=new Array(G.length),we=(P.calcdata||[]).slice();for(P.calcdata=xe,E._numBoxes=0,E._numViolins=0,E._violinScaleGroupStats={},P._hmpixcount=0,P._hmlumcount=0,E._piecolormap={},E._sunburstcolormap={},E._treemapcolormap={},E._iciclecolormap={},E._funnelareacolormap={},ne=0;ne<G.length;ne++)if(Array.isArray(U)&&U.indexOf(ne)===-1){xe[ne]=we[ne];continue}for(ne=0;ne<G.length;ne++)K=G[ne],K._arrayAttrs=p.findArrayAttributes(K),K._extremes={};var Ee=E._subplots.polar||[];for(ne=0;ne<Ee.length;ne++)ee.push(E[Ee[ne]].radialaxis,E[Ee[ne]].angularaxis);for(var Oe in E._colorAxes){var Ke=E[Oe];Ke.cauto!==!1&&(delete Ke.cmin,delete Ke.cmax)}var Je=!1;function rt(Le){if(K=G[Le],R=K._module,K.visible===!0&&K.transforms){if(R&&R.calc){var He=R.calc(P,K);He[0]&&He[0].t&&He[0].t._scene&&delete He[0].t._scene.dirty}for(pe=0;pe<K.transforms.length;pe++){var Ve=K.transforms[pe];R=I[Ve.type],R&&R.calcTransform&&(K._hasCalcTransform=!0,Je=!0,R.calcTransform(P,K,Ve))}}}function Me(Le,He){if(K=G[Le],R=K._module,!!R.isContainer===He){var Ve=[];if(K.visible===!0&&K._length!==0){delete K._indexToPoints;var qe=K.transforms||[];for(pe=qe.length-1;pe>=0;pe--)if(qe[pe].enabled){K._indexToPoints=qe[pe]._indexToPoints;break}R&&R.calc&&(Ve=R.calc(P,K))}(!Array.isArray(Ve)||!Ve[0])&&(Ve=[{x,y:x}]),Ve[0].t||(Ve[0].t={}),Ve[0].trace=K,xe[Le]=Ve}}for(ye(ee,G,E),ne=0;ne<G.length;ne++)Me(ne,!0);for(ne=0;ne<G.length;ne++)rt(ne);for(Je&&ye(ee,G,E),ne=0;ne<G.length;ne++)Me(ne,!0);for(ne=0;ne<G.length;ne++)Me(ne,!1);he(P);var ke=Te(ee,P);if(ke.length){for(E._numBoxes=0,E._numViolins=0,ne=0;ne<ke.length;ne++)Me(ke[ne],!0);for(ne=0;ne<ke.length;ne++)Me(ke[ne],!1);he(P)}h.getComponentMethod("fx","calc")(P),h.getComponentMethod("errorbars","calc")(P)};var ze=/(total|sum|min|max|mean|geometric mean|median) (ascending|descending)/;function Te(P,U){var ee=[],G,E,K,R,ne;function pe(ct,gt,_e){var Be=gt._id.charAt(0);if(ct==="histogram2dcontour"){var ve=gt._counterAxes[0],ge=w.getFromId(U,ve),Re=Be==="x"||ve==="x"&&ge.type==="category",Fe=Be==="y"||ve==="y"&&ge.type==="category";return function(Ue,We){return Ue===0||We===0||Re&&Ue===_e[We].length-1||Fe&&We===_e.length-1?-1:(Be==="y"?We:Ue)-1}}else return function(Ue,We){return Be==="y"?We:Ue}}var xe={min:function(ct){return d.aggNums(Math.min,null,ct)},max:function(ct){return d.aggNums(Math.max,null,ct)},sum:function(ct){return d.aggNums(function(gt,_e){return gt+_e},null,ct)},total:function(ct){return d.aggNums(function(gt,_e){return gt+_e},null,ct)},mean:function(ct){return d.mean(ct)},"geometric mean":function(ct){return d.geometricMean(ct)},median:function(ct){return d.median(ct)}};function we(ct,gt){return ct[1]-gt[1]}function Ee(ct,gt){return gt[1]-ct[1]}for(G=0;G<P.length;G++){var Oe=P[G];if(Oe.type==="category"){var Ke=Oe.categoryorder.match(ze);if(Ke){var Je=Ke[1],rt=Ke[2],Me=Oe._id.charAt(0),ke=Me==="x",Le=[];for(E=0;E<Oe._categories.length;E++)Le.push([Oe._categories[E],[]]);for(E=0;E<Oe._traceIndices.length;E++){var He=Oe._traceIndices[E],Ve=U._fullData[He];if(Ve.visible===!0){var qe=Ve.type;h.traceIs(Ve,"histogram")&&(delete Ve._xautoBinFinished,delete Ve._yautoBinFinished);var vt=qe==="splom",At=qe==="scattergl",Dt=U.calcdata[He];for(K=0;K<Dt.length;K++){var bt=Dt[K],xt,Et;if(vt){var pt=Ve._axesDim[Oe._id];if(!ke){var Rt=Ve._diag[pt][0];Rt&&(Oe=U._fullLayout[w.id2name(Rt)])}var Wt=bt.trace.dimensions[pt].values;for(R=0;R<Wt.length;R++)for(xt=Oe._categoriesMap[Wt[R]],ne=0;ne<bt.trace.dimensions.length;ne++)if(ne!==pt){var Vt=bt.trace.dimensions[ne];Le[xt][1].push(Vt.values[R])}}else if(At){for(R=0;R<bt.t.x.length;R++)ke?(xt=bt.t.x[R],Et=bt.t.y[R]):(xt=bt.t.y[R],Et=bt.t.x[R]),Le[xt][1].push(Et);bt.t&&bt.t._scene&&delete bt.t._scene.dirty}else if(bt.hasOwnProperty("z")){Et=bt.z;var Yt=pe(Ve.type,Oe,Et);for(R=0;R<Et.length;R++)for(ne=0;ne<Et[R].length;ne++)xt=Yt(ne,R),xt+1&&Le[xt][1].push(Et[R][ne])}else for(xt=bt.p,xt===void 0&&(xt=bt[Me]),Et=bt.s,Et===void 0&&(Et=bt.v),Et===void 0&&(Et=ke?bt.y:bt.x),Array.isArray(Et)||(Et===void 0?Et=[]:Et=[Et]),R=0;R<Et.length;R++)Le[xt][1].push(Et[R])}}}Oe._categoriesValue=Le;var et=[];for(E=0;E<Le.length;E++)et.push([Le[E][0],xe[Je](Le[E][1])]);et.sort(rt==="descending"?Ee:we),Oe._categoriesAggregatedValue=et,Oe._initialCategories=et.map(function(ct){return ct[0]}),ee=ee.concat(Oe.sortByInitialCategories())}}}return ee}function ye(P,U,ee){var G={};function E(pe){pe.clearCalc(),pe.type==="multicategory"&&pe.setupMultiCategory(U),G[pe._id]=1}d.simpleMap(P,E);for(var K=ee._axisMatchGroups||[],R=0;R<K.length;R++)for(var ne in K[R])G[ne]||E(ee[w.id2name(ne)])}function he(P){var U=P._fullLayout,ee=U._visibleModules,G={},E,K,R;for(K=0;K<ee.length;K++){var ne=ee[K],pe=ne.crossTraceCalc;if(pe){var xe=ne.basePlotModule.name;G[xe]?d.pushUnique(G[xe],pe):G[xe]=[pe]}}for(R in G){var we=G[R],Ee=U._subplots[R];if(Array.isArray(Ee))for(E=0;E<Ee.length;E++){var Oe=Ee[E],Ke=R==="cartesian"?U._plots[Oe]:U[Oe];for(K=0;K<we.length;K++)we[K](P,Ke,Oe)}else for(K=0;K<we.length;K++)we[K](P)}}M.rehover=function(P){P._fullLayout._rehover&&P._fullLayout._rehover()},M.redrag=function(P){P._fullLayout._redrag&&P._fullLayout._redrag()},M.reselect=function(P){var U=P._fullLayout,ee=(P.layout||{}).selections,G=U._previousSelections;U._previousSelections=ee;var E=U._reselect||JSON.stringify(ee)!==JSON.stringify(G);h.getComponentMethod("selections","reselect")(P,E)},M.generalUpdatePerTraceModule=function(P,U,ee,G){var E=U.traceHash,K={},R;for(R=0;R<ee.length;R++){var ne=ee[R],pe=ne[0].trace;pe.visible&&(K[pe.type]=K[pe.type]||[],K[pe.type].push(ne))}for(var xe in E)if(!K[xe]){var we=E[xe][0],Ee=we[0].trace;Ee.visible=!1,K[xe]=[we]}for(var Oe in K){var Ke=K[Oe],Je=Ke[0][0].trace._module;Je.plot(P,U,d.filterVisible(Ke),G)}U.traceHash=K},M.plotBasePlot=function(P,U,ee,G,E){var K=h.getModule(P),R=z(U.calcdata,K)[0];K.plot(U,R,G,E)},M.cleanBasePlot=function(P,U,ee,G,E){var K=E._has&&E._has(P),R=ee._has&&ee._has(P);K&&!R&&E["_"+P+"layer"].selectAll("g.trace").remove()}},3208:function(i,s,a){"use strict";var o=a(7296),c=o.FORMAT_LINK,l=o.DATE_FORMAT_LINK;function u(p){var m=p&&p.supportOther;return["Variables are inserted using %{variable},",'for example "y: %{y}"'+(m?" as well as %{xother}, {%_xother}, {%_xother_}, {%xother_}. When showing info for several points, *xother* will be added to those with different x positions from the first point. An underscore before or after *(x|y)other* will add a space on that side, only when this field is shown.":"."),`Numbers are formatted using d3-format's syntax %{variable:d3-format}, for example "Price: %{y:$.2f}".`,c,"for details on the formatting syntax.",`Dates are formatted using d3-time-format's syntax %{variable|d3-time-format}, for example "Day: %{2019-01-01|%A}".`,l,"for details on the date formatting syntax."].join(" ")}function f(){return["Variables are inserted using %{variable},",'for example "x0: %{x0}".',`Numbers are formatted using d3-format's syntax %{variable:d3-format}, for example "Price: %{x0:$.2f}". See`,c,"for details on the formatting syntax.",`Dates are formatted using d3-time-format's syntax %{variable|d3-time-format}, for example "Day: %{x0|%m %b %Y}". See`,l,"for details on the date formatting syntax.","A single multiplication or division operation may be applied to numeric variables, and combined with",'d3 number formatting, for example "Length in cm: %{x0*2.54}", "%{slope*60:.1f} meters per second."',"For log axes, variable values are given in log units.","For date axes, x/y coordinate variables and center variables use datetimes, while all other variable values use values in ms."].join(" ")}function h(p){var m=p.description?" "+p.description:"",d=p.keys||[];if(d.length>0){for(var y=[],x=0;x<d.length;x++)y[x]="`"+d[x]+"`";m=m+"Finally, the template string has access to ",d.length===1?m=m+"variable "+y[0]:m=m+"variables "+y.slice(0,-1).join(", ")+" and "+y.slice(-1)+"."}return m}s.rb=function(p,m){p=p||{},m=m||{};var d=h(m),y={valType:"string",dflt:"",editType:p.editType||"none"};return p.arrayOk!==!1&&(y.arrayOk=!0),y},s.ay=function(p,m){p=p||{},m=m||{};var d=h(m),y={valType:"string",dflt:"",editType:p.editType||"calc"};return p.arrayOk!==!1&&(y.arrayOk=!0),y},s.LF=function(p,m){p=p||{},m=m||{};var d=p.newshape?"new ":"",y=h(m),x={valType:"string",dflt:"",editType:p.editType||"arraydraw"};return x}},3626:function(i,s,a){"use strict";var o=a(8636),c=a(4969),l=a(6539),u=a(6174),f=a(5425).addStyleRule,h=a(3049),p=a(9829),m=a(6704),d=h.extendFlat,y=h.extendDeepAll;s.modules={},s.allCategories={},s.allTypes=[],s.subplotsRegistry={},s.transformsRegistry={},s.componentsRegistry={},s.layoutArrayContainers=[],s.layoutArrayRegexes=[],s.traceLayoutAttributes={},s.localeRegistry={},s.apiMethodRegistry={},s.collectableSubplotTypes=null,s.register=function(T){if(s.collectableSubplotTypes=null,T)T&&!Array.isArray(T)&&(T=[T]);else throw new Error("No argument passed to Plotly.register.");for(var B=0;B<T.length;B++){var H=T[B];if(!H)throw new Error("Invalid module was attempted to be registered!");switch(H.moduleType){case"trace":x(H);break;case"transform":_(H);break;case"component":L(H);break;case"locale":D(H);break;case"apiMethod":var Z=H.name;s.apiMethodRegistry[Z]=H.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},s.getModule=function(I){var T=s.modules[M(I)];return T?T._module:!1},s.traceIs=function(I,T){if(I=M(I),I==="various")return!1;var B=s.modules[I];return B||(I&&o.log("Unrecognized trace type "+I+"."),B=s.modules[p.type.dflt]),!!B.categories[T]},s.getTransformIndices=function(I,T){for(var B=[],H=I.transforms||[],Z=0;Z<H.length;Z++)H[Z].type===T&&B.push(Z);return B},s.hasTransform=function(I,T){for(var B=I.transforms||[],H=0;H<B.length;H++)if(B[H].type===T)return!0;return!1},s.getComponentMethod=function(I,T){var B=s.componentsRegistry[I];return B&&B[T]||c},s.call=function(){var I=arguments[0],T=[].slice.call(arguments,1);return s.apiMethodRegistry[I].apply(null,T)};function x(I){var T=I.name,B=I.categories,H=I.meta;if(s.modules[T]){o.log("Type "+T+" already registered");return}s.subplotsRegistry[I.basePlotModule.name]||w(I.basePlotModule);for(var Z={},$=0;$<B.length;$++)Z[B[$]]=!0,s.allCategories[B[$]]=!0;s.modules[T]={_module:I,categories:Z},H&&Object.keys(H).length&&(s.modules[T].meta=H),s.allTypes.push(T);for(var N in s.componentsRegistry)z(N,T);I.layoutAttributes&&d(s.traceLayoutAttributes,I.layoutAttributes);var j=I.basePlotModule,O=j.name;if(O==="mapbox"){var X=j.constants.styleRules;for(var ie in X)f(".js-plotly-plot .plotly .mapboxgl-"+ie,X[ie])}O==="map"&&a(6144),(O==="geo"||O==="mapbox"||O==="map")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function w(I){var T=I.name;if(s.subplotsRegistry[T]){o.log("Plot type "+T+" already registered.");return}C(I),s.subplotsRegistry[T]=I;for(var B in s.componentsRegistry)S(B,I.name)}function L(I){if(typeof I.name!="string")throw new Error("Component module *name* must be a string.");var T=I.name;s.componentsRegistry[T]=I,I.layoutAttributes&&(I.layoutAttributes._isLinkedToArray&&l(s.layoutArrayContainers,T),C(I));for(var B in s.modules)z(T,B);for(var H in s.subplotsRegistry)S(T,H);for(var Z in s.transformsRegistry)b(T,Z);I.schema&&I.schema.layout&&y(m,I.schema.layout)}function _(I){if(typeof I.name!="string")throw new Error("Transform module *name* must be a string.");var T="Transform module "+I.name,B=typeof I.transform=="function",H=typeof I.calcTransform=="function";if(!B&&!H)throw new Error(T+" is missing a *transform* or *calcTransform* method.");B&&H&&o.log([T+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),u(I.attributes)||o.log(T+" registered without an *attributes* object."),typeof I.supplyDefaults!="function"&&o.log(T+" registered without a *supplyDefaults* method."),s.transformsRegistry[I.name]=I;for(var Z in s.componentsRegistry)b(Z,I.name)}function D(I){var T=I.name,B=T.split("-")[0],H=I.dictionary,Z=I.format,$=H&&Object.keys(H).length,N=Z&&Object.keys(Z).length,j=s.localeRegistry,O=j[T];if(O||(j[T]=O={}),B!==T){var X=j[B];X||(j[B]=X={}),$&&X.dictionary===O.dictionary&&(X.dictionary=H),N&&X.format===O.format&&(X.format=Z)}$&&(O.dictionary=H),N&&(O.format=Z)}function C(I){if(I.layoutAttributes){var T=I.layoutAttributes._arrayAttrRegexps;if(T)for(var B=0;B<T.length;B++)l(s.layoutArrayRegexes,T[B])}}function z(I,T){var B=s.componentsRegistry[I].schema;if(!(!B||!B.traces)){var H=B.traces[T];H&&y(s.modules[T]._module.attributes,H)}}function b(I,T){var B=s.componentsRegistry[I].schema;if(!(!B||!B.transforms)){var H=B.transforms[T];H&&y(s.transformsRegistry[T].attributes,H)}}function S(I,T){var B=s.componentsRegistry[I].schema;if(!(!B||!B.subplots)){var H=s.subplotsRegistry[T],Z=H.layoutAttributes,$=H.attr==="subplot"?H.name:H.attr;Array.isArray($)&&($=$[0]);var N=B.subplots[$];Z&&N&&y(Z,N)}}function M(I){return typeof I=="object"&&(I=I.type),I}},3164:function(i,s,a){"use strict";var o=a(3626),c=a(4809),l=c.extendFlat,u=c.extendDeep;function f(p){var m;switch(p){case"themes__thumb":m={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":m={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:m={}}return m}function h(p){var m=["xaxis","yaxis","zaxis"];return m.indexOf(p.slice(0,5))>-1}i.exports=function(m,d){var y,x=m.data,w=m.layout,L=u([],x),_=u({},w,f(d.tileClass)),D=m._context||{};if(d.width&&(_.width=d.width),d.height&&(_.height=d.height),d.tileClass==="thumbnail"||d.tileClass==="themes__thumb"){_.annotations=[];var C=Object.keys(_);for(y=0;y<C.length;y++)h(C[y])&&(_[C[y]].title={text:""});for(y=0;y<L.length;y++){var z=L[y];z.showscale=!1,z.marker&&(z.marker.showscale=!1),o.traceIs(z,"pie-like")&&(z.textposition="none")}}if(Array.isArray(d.annotations))for(y=0;y<d.annotations.length;y++)_.annotations.push(d.annotations[y]);var b=Object.keys(_).filter(function(B){return B.match(/^scene\d*$/)});if(b.length){var S={};for(d.tileClass==="thumbnail"&&(S={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),y=0;y<b.length;y++){var M=_[b[y]];M.xaxis||(M.xaxis={}),M.yaxis||(M.yaxis={}),M.zaxis||(M.zaxis={}),l(M.xaxis,S),l(M.yaxis,S),l(M.zaxis,S),M._scene=null}}var I=document.createElement("div");d.tileClass&&(I.className=d.tileClass);var T={gd:I,td:I,layout:_,data:L,config:{staticPlot:d.staticPlot===void 0?!0:d.staticPlot,plotGlPixelRatio:d.plotGlPixelRatio===void 0?2:d.plotGlPixelRatio,displaylogo:d.displaylogo||!1,showLink:d.showLink||!1,showTips:d.showTips||!1,mapboxAccessToken:D.mapboxAccessToken}};return d.setBackground!=="transparent"&&(T.config.setBackground=d.setBackground||"opaque"),T.gd.defaultLayout=f(d.tileClass),T}},6452:function(i,s,a){"use strict";var o=a(4809),c=a(491),l=a(3353),u=a(4619);function f(h,p){var m;return o.isPlainObject(h)||(m=o.getGraphDiv(h)),p=p||{},p.format=p.format||"png",p.width=p.width||null,p.height=p.height||null,p.imageDataOnly=!0,new Promise(function(d,y){m&&m._snapshotInProgress&&y(new Error("Snapshotting already in progress.")),o.isIE()&&p.format!=="svg"&&y(new Error(u.MSG_IE_BAD_FORMAT)),m&&(m._snapshotInProgress=!0);var x=c(h,p),w=p.filename||h.fn||"newplot";w+="."+p.format.replace("-","."),x.then(function(L){return m&&(m._snapshotInProgress=!1),l(L,w,p.format)}).then(function(L){d(L)}).catch(function(L){m&&(m._snapshotInProgress=!1),y(L)})})}i.exports=f},3353:function(i,s,a){"use strict";var o=a(4809),c=a(4619);function l(u,f,h){var p=document.createElement("a"),m="download"in p,d=new Promise(function(y,x){var w,L;if(o.isIE())return w=c.createBlob(u,"svg"),window.navigator.msSaveBlob(w,f),w=null,y(f);if(m)return w=c.createBlob(u,h),L=c.createObjectURL(w),p.href=L,p.download=f,document.body.appendChild(p),p.click(),document.body.removeChild(p),c.revokeObjectURL(L),w=null,y(f);if(o.isSafari()){var _=h==="svg"?",":";base64,";return c.octetStream(_+encodeURIComponent(u)),y(f)}x(new Error("download error"))});return d}i.exports=l},4619:function(i,s,a){"use strict";var o=a(3626);s.getDelay=function(u){return u._has&&(u._has("gl3d")||u._has("gl2d")||u._has("mapbox")||u._has("map"))?500:0},s.getRedrawFunc=function(u){return function(){o.getComponentMethod("colorbar","draw")(u)}},s.encodeSVG=function(u){return"data:image/svg+xml,"+encodeURIComponent(u)},s.encodeJSON=function(u){return"data:application/json,"+encodeURIComponent(u)};var c=window.URL||window.webkitURL;s.createObjectURL=function(u){return c.createObjectURL(u)},s.revokeObjectURL=function(u){return c.revokeObjectURL(u)},s.createBlob=function(u,f){if(f==="svg")return new window.Blob([u],{type:"image/svg+xml;charset=utf-8"});if(f==="full-json")return new window.Blob([u],{type:"application/json;charset=utf-8"});var h=l(window.atob(u));return new window.Blob([h],{type:"image/"+f})},s.octetStream=function(u){document.location.href="data:application/octet-stream"+u};function l(u){for(var f=u.length,h=new ArrayBuffer(f),p=new Uint8Array(h),m=0;m<f;m++)p[m]=u.charCodeAt(m);return h}s.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,s.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},6170:function(i,s,a){"use strict";var o=a(4619),c={getDelay:o.getDelay,getRedrawFunc:o.getRedrawFunc,clone:a(3164),toSVG:a(6243),svgToImg:a(2914),toImage:a(6896),downloadImage:a(6452)};i.exports=c},2914:function(i,s,a){"use strict";var o=a(4809),c=a(7683).EventEmitter,l=a(4619);function u(f){var h=f.emitter||new c,p=new Promise(function(m,d){var y=window.Image,x=f.svg,w=f.format||"png";if(o.isIE()&&w!=="svg"){var L=new Error(l.MSG_IE_BAD_FORMAT);return d(L),f.promise?p:h.emit("error",L)}var _=f.canvas,D=f.scale||1,C=f.width||300,z=f.height||150,b=D*C,S=D*z,M=_.getContext("2d",{willReadFrequently:!0}),I=new y,T,B;w==="svg"||o.isSafari()?B=l.encodeSVG(x):(T=l.createBlob(x,"svg"),B=l.createObjectURL(T)),_.width=b,_.height=S,I.onload=function(){var H;switch(T=null,l.revokeObjectURL(B),w!=="svg"&&M.drawImage(I,0,0,b,S),w){case"jpeg":H=_.toDataURL("image/jpeg");break;case"png":H=_.toDataURL("image/png");break;case"webp":H=_.toDataURL("image/webp");break;case"svg":H=B;break;default:var Z="Image format is not jpeg, png, svg or webp.";if(d(new Error(Z)),!f.promise)return h.emit("error",Z)}m(H),f.promise||h.emit("success",H)},I.onerror=function(H){if(T=null,l.revokeObjectURL(B),d(H),!f.promise)return h.emit("error",H)},I.src=B});return f.promise?p:h}i.exports=u},6896:function(i,s,a){"use strict";var o=a(7683).EventEmitter,c=a(3626),l=a(4809),u=a(4619),f=a(3164),h=a(6243),p=a(2914);function m(d,y){var x=new o,w=f(d,{format:"png"}),L=w.gd;L.style.position="absolute",L.style.left="-5000px",document.body.appendChild(L);function _(){var C=u.getDelay(L._fullLayout);setTimeout(function(){var z=h(L),b=document.createElement("canvas");b.id=l.randstr(),x=p({format:y.format,width:L._fullLayout.width,height:L._fullLayout.height,canvas:b,emitter:x,svg:z}),x.clean=function(){L&&document.body.removeChild(L)}},C)}var D=u.getRedrawFunc(L);return c.call("_doPlot",L,w.data,w.layout,w.config).then(D).then(_).catch(function(C){x.emit("error",C)}),x}i.exports=m},6243:function(i,s,a){"use strict";var o=a(5568),c=a(4809),l=a(2203),u=a(8766),f=a(2972),h=/"/g,p="TOBESTRIPPED",m=new RegExp('("'+p+")|("+p+'")',"g");function d(x){var w=o.select("body").append("div").style({display:"none"}).html(""),L=x.replace(/(&[^;]*;)/gi,function(_){return _==="&lt;"?"&#60;":_==="&rt;"?"&#62;":_.indexOf("<")!==-1||_.indexOf(">")!==-1?"":w.html(_).text()});return w.remove(),L}function y(x){return x.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}i.exports=function(w,L,_){var D=w._fullLayout,C=D._paper,z=D._toppaper,b=D.width,S=D.height,M;C.insert("rect",":first-child").call(l.setRect,0,0,b,S).call(u.fill,D.paper_bgcolor);var I=D._basePlotModules||[];for(M=0;M<I.length;M++){var T=I[M];T.toSVG&&T.toSVG(w)}if(z){var B=z.node().childNodes,H=Array.prototype.slice.call(B);for(M=0;M<H.length;M++){var Z=H[M];Z.childNodes.length&&C.node().appendChild(Z)}}D._draggers&&D._draggers.remove(),C.node().style.background="",C.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var N=o.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){N.remove();return}else N.style({visibility:null,display:null});var j=this.style.fontFamily;j&&j.indexOf('"')!==-1&&N.style("font-family",j.replace(h,p));var O=this.style.fontWeight;O&&(O==="normal"||O==="400")&&N.style("font-weight",void 0);var X=this.style.fontStyle;X&&X==="normal"&&N.style("font-style",void 0);var ie=this.style.fontVariant;ie&&ie==="normal"&&N.style("font-variant",void 0)}),C.selectAll(".gradient_filled,.pattern_filled").each(function(){var N=o.select(this),j=this.style.fill;j&&j.indexOf("url(")!==-1&&N.style("fill",j.replace(h,p));var O=this.style.stroke;O&&O.indexOf("url(")!==-1&&N.style("stroke",O.replace(h,p))}),(L==="pdf"||L==="eps")&&C.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),C.node().setAttributeNS(f.xmlns,"xmlns",f.svg),C.node().setAttributeNS(f.xmlns,"xmlns:xlink",f.xlink),L==="svg"&&_&&(C.attr("width",_*b),C.attr("height",_*S),C.attr("viewBox","0 0 "+b+" "+S));var $=new window.XMLSerializer().serializeToString(C.node());return $=d($),$=y($),$=$.replace(m,"'"),c.isIE()&&($=$.replace(/"/gi,"'"),$=$.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),$=$.replace(/(\\')/gi,'"')),$}},5374:function(i,s,a){"use strict";var o=a(4809);i.exports=function(l,u){for(var f=0;f<l.length;f++)l[f].i=f;o.mergeArray(u.text,l,"tx"),o.mergeArray(u.hovertext,l,"htx");var h=u.marker;if(h){o.mergeArray(h.opacity,l,"mo",!0),o.mergeArray(h.color,l,"mc");var p=h.line;p&&(o.mergeArray(p.color,l,"mlc"),o.mergeArrayCastPositive(p.width,l,"mlw"))}}},1481:function(i,s,a){"use strict";var o=a(6640),c=a(712).axisHoverFormat,l=a(3208).rb,u=a(3208).ay,f=a(7163),h=a(337),p=a(6155),m=a(4850).k,d=a(3049).extendFlat,y=h({editType:"calc",arrayOk:!0,colorEditType:"style"}),x=o.marker,w=x.line,L=d({},w.width,{dflt:0}),_=d({width:L,editType:"calc"},f("marker.line")),D=d({line:_,editType:"calc"},f("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:m,cornerradius:{valType:"any",editType:"calc"}});i.exports={x:o.x,x0:o.x0,dx:o.dx,y:o.y,y0:o.y0,dy:o.dy,xperiod:o.xperiod,yperiod:o.yperiod,xperiod0:o.xperiod0,yperiod0:o.yperiod0,xperiodalignment:o.xperiodalignment,yperiodalignment:o.yperiodalignment,xhoverformat:c("x"),yhoverformat:c("y"),text:o.text,texttemplate:u({editType:"plot"},{keys:p.eventDataKeys}),hovertext:o.hovertext,hovertemplate:l({},{keys:p.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:d({},y,{}),insidetextfont:d({},y,{}),outsidetextfont:d({},y,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:d({},o.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:D,offsetgroup:o.offsetgroup,alignmentgroup:o.alignmentgroup,selected:{marker:{opacity:o.selected.marker.opacity,color:o.selected.marker.color,editType:"style"},textfont:o.selected.textfont,editType:"style"},unselected:{marker:{opacity:o.unselected.marker.opacity,color:o.unselected.marker.color,editType:"style"},textfont:o.unselected.textfont,editType:"style"},zorder:o.zorder,_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},7565:function(i,s,a){"use strict";var o=a(9714),c=a(528),l=a(5477).hasColorscale,u=a(8379),f=a(5374),h=a(8861);i.exports=function(m,d){var y=o.getFromId(m,d.xaxis||"x"),x=o.getFromId(m,d.yaxis||"y"),w,L,_,D,C,z,b={msUTC:!!(d.base||d.base===0)};d.orientation==="h"?(w=y.makeCalcdata(d,"x",b),_=x.makeCalcdata(d,"y"),D=c(d,x,"y",_),C=!!d.yperiodalignment,z="y"):(w=x.makeCalcdata(d,"y",b),_=y.makeCalcdata(d,"x"),D=c(d,y,"x",_),C=!!d.xperiodalignment,z="x"),L=D.vals;for(var S=Math.min(L.length,w.length),M=new Array(S),I=0;I<S;I++)M[I]={p:L[I],s:w[I]},C&&(M[I].orig_p=_[I],M[I][z+"End"]=D.ends[I],M[I][z+"Start"]=D.starts[I]),d.ids&&(M[I].id=String(d.ids[I]));return l(d,"marker")&&u(m,d,{vals:d.marker.color,containerStr:"marker",cLetter:"c"}),l(d,"marker.line")&&u(m,d,{vals:d.marker.line.color,containerStr:"marker.line",cLetter:"c"}),f(M,d),h(M,d),M}},6155:function(i){"use strict";i.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},4782:function(i,s,a){"use strict";var o=a(721),c=a(4809).isArrayOrTypedArray,l=a(3821).BADNUM,u=a(3626),f=a(9714),h=a(4391).getAxisGroup,p=a(2880);function m(O,X){for(var ie=X.xaxis,oe=X.yaxis,V=O._fullLayout,W=O._fullData,Y=O.calcdata,Q=[],re=[],te=0;te<W.length;te++){var le=W[te];if(le.visible===!0&&u.traceIs(le,"bar")&&le.xaxis===ie._id&&le.yaxis===oe._id&&(le.orientation==="h"?Q.push(Y[te]):re.push(Y[te]),le._computePh))for(var be=O.calcdata[te],Se=0;Se<be.length;Se++)typeof be[Se].ph0=="function"&&(be[Se].ph0=be[Se].ph0()),typeof be[Se].ph1=="function"&&(be[Se].ph1=be[Se].ph1())}var ze={xCat:ie.type==="category"||ie.type==="multicategory",yCat:oe.type==="category"||oe.type==="multicategory",mode:V.barmode,norm:V.barnorm,gap:V.bargap,groupgap:V.bargroupgap};d(O,ie,oe,re,ze),d(O,oe,ie,Q,ze)}function d(O,X,ie,oe,V){if(oe.length){var W,Y,Q,re,te;switch(w(ie,oe),V.mode){case"overlay":L(X,ie,oe,V);break;case"group":for(W=[],Y=[],Q=0;Q<oe.length;Q++)re=oe[Q],te=re[0].trace,te.offset===void 0?Y.push(re):W.push(re);Y.length&&_(O,X,ie,Y,V),W.length&&L(X,ie,W,V);break;case"stack":case"relative":for(W=[],Y=[],Q=0;Q<oe.length;Q++)re=oe[Q],te=re[0].trace,te.base===void 0?Y.push(re):W.push(re);x(Y),Y.length&&D(O,X,ie,Y,V),W.length&&L(X,ie,W,V);break}y(oe),N(oe,X)}}function y(O){var X,ie,oe,V,W,Y,Q;for(X=0;X<O.length;X++)ie=O[X],oe=ie[0].trace,V=ie[0].t,V.cornerradiusvalue===void 0&&(W=oe.marker?oe.marker.cornerradius:void 0,W!==void 0&&(Y=o(W)?+W:+W.slice(0,-1),Q=o(W)?"px":"%",V.cornerradiusvalue=Y,V.cornerradiusform=Q))}function x(O){if(!(O.length<2)){var X,ie,oe,V,W,Y,Q;for(X=0;X<O.length&&(ie=O[X],oe=ie[0].trace,W=oe.marker?oe.marker.cornerradius:void 0,W===void 0);X++);if(W!==void 0)for(Y=o(W)?+W:+W.slice(0,-1),Q=o(W)?"px":"%",X=0;X<O.length;X++)ie=O[X],V=ie[0].t,V.cornerradiusvalue=Y,V.cornerradiusform=Q}}function w(O,X){var ie,oe;for(ie=0;ie<X.length;ie++){var V=X[ie],W=V[0].trace,Y=W.type==="funnel"?W._base:W.base,Q,re=W.orientation==="h"?W.xcalendar:W.ycalendar,te=O.type==="category"||O.type==="multicategory"?function(){return null}:O.d2c;if(c(Y)){for(oe=0;oe<Math.min(Y.length,V.length);oe++)Q=te(Y[oe],0,re),o(Q)?(V[oe].b=+Q,V[oe].hasB=1):V[oe].b=0;for(;oe<V.length;oe++)V[oe].b=0}else{Q=te(Y,0,re);var le=o(Q);for(Q=le?Q:0,oe=0;oe<V.length;oe++)V[oe].b=Q,le&&(V[oe].hasB=1)}}}function L(O,X,ie,oe){for(var V=0;V<ie.length;V++){var W=ie[V],Y=new p([W],{posAxis:O,sepNegVal:!1,overlapNoMerge:!oe.norm});C(O,Y,oe),oe.norm?(B(Y),Z(X,Y,oe)):I(X,Y)}}function _(O,X,ie,oe,V){var W=new p(oe,{posAxis:X,sepNegVal:!1,overlapNoMerge:!V.norm});z(O,X,W,V),H(W,X),V.norm?(B(W),Z(ie,W,V)):I(ie,W)}function D(O,X,ie,oe,V){var W=new p(oe,{posAxis:X,sepNegVal:V.mode==="relative",overlapNoMerge:!(V.norm||V.mode==="stack"||V.mode==="relative")});C(X,W,V),T(ie,W,V);for(var Y=0;Y<oe.length;Y++)for(var Q=oe[Y],re=0;re<Q.length;re++){var te=Q[re];if(te.s!==l){var le=te.b+te.s===W.get(te.p,te.s);le&&(te._outmost=!0)}}V.norm&&Z(ie,W,V)}function C(O,X,ie){for(var oe=X.minDiff,V=X.traces,W=oe*(1-ie.gap),Y=W,Q=Y*(1-(ie.groupgap||0)),re=-Q/2,te=0;te<V.length;te++){var le=V[te],be=le[0].t;be.barwidth=Q,be.poffset=re,be.bargroupwidth=W,be.bardelta=oe}X.binWidth=V[0][0].t.barwidth/100,b(X),S(O,X),M(O,X)}function z(O,X,ie,oe){for(var V=O._fullLayout,W=ie.positions,Y=ie.distinctPositions,Q=ie.minDiff,re=ie.traces,te=re.length,le=W.length!==Y.length,be=Q*(1-oe.gap),Se=h(V,X._id)+re[0][0].trace.orientation,ze=V._alignmentOpts[Se]||{},Te=0;Te<te;Te++){var ye=re[Te],he=ye[0].trace,P=ze[he.alignmentgroup]||{},U=Object.keys(P.offsetGroups||{}).length,ee;U?ee=be/U:ee=le?be/te:be;var G=ee*(1-(oe.groupgap||0)),E;U?E=((2*he._offsetIndex+1-U)*ee-G)/2:E=le?((2*Te+1-te)*ee-G)/2:-G/2;var K=ye[0].t;K.barwidth=G,K.poffset=E,K.bargroupwidth=be,K.bardelta=Q}ie.binWidth=re[0][0].t.barwidth/100,b(ie),S(X,ie),M(X,ie,le)}function b(O){var X=O.traces,ie,oe;for(ie=0;ie<X.length;ie++){var V=X[ie],W=V[0],Y=W.trace,Q=W.t,re=Y._offset||Y.offset,te=Q.poffset,le;if(c(re)){for(le=Array.prototype.slice.call(re,0,V.length),oe=0;oe<le.length;oe++)o(le[oe])||(le[oe]=te);for(oe=le.length;oe<V.length;oe++)le.push(te);Q.poffset=le}else re!==void 0&&(Q.poffset=re);var be=Y._width||Y.width,Se=Q.barwidth;if(c(be)){var ze=Array.prototype.slice.call(be,0,V.length);for(oe=0;oe<ze.length;oe++)o(ze[oe])||(ze[oe]=Se);for(oe=ze.length;oe<V.length;oe++)ze.push(Se);if(Q.barwidth=ze,re===void 0){for(le=[],oe=0;oe<V.length;oe++)le.push(te+(Se-ze[oe])/2);Q.poffset=le}}else be!==void 0&&(Q.barwidth=be,re===void 0&&(Q.poffset=te+(Se-be)/2))}}function S(O,X){for(var ie=X.traces,oe=j(O),V=0;V<ie.length;V++)for(var W=ie[V],Y=W[0].t,Q=Y.poffset,re=c(Q),te=Y.barwidth,le=c(te),be=0;be<W.length;be++){var Se=W[be],ze=Se.w=le?te[be]:te;Se.p===void 0&&(Se.p=Se[oe],Se["orig_"+oe]=Se[oe]);var Te=(re?Q[be]:Q)+ze/2;Se[oe]=Se.p+Te}}function M(O,X,ie){var oe=X.traces,V=X.minDiff,W=V/2;f.minDtick(O,X.minDiff,X.distinctPositions[0],ie);for(var Y=0;Y<oe.length;Y++){var Q=oe[Y],re=Q[0],te=re.trace,le=[],be,Se,ze,Te;for(Te=0;Te<Q.length;Te++)be=Q[Te],Se=be.p-W,ze=be.p+W,le.push(Se,ze);if(te.width||te.offset){var ye=re.t,he=ye.poffset,P=ye.barwidth,U=c(he),ee=c(P);for(Te=0;Te<Q.length;Te++){be=Q[Te];var G=U?he[Te]:he,E=ee?P[Te]:P;Se=be.p+G,ze=Se+E,le.push(Se,ze)}}te._extremes[O._id]=f.findExtremes(O,le,{padded:!1})}}function I(O,X){for(var ie=X.traces,oe=j(O),V=0;V<ie.length;V++){for(var W=ie[V],Y=W[0].trace,Q=Y.type==="scatter",re=Y.orientation==="v",te=[],le=!1,be=0;be<W.length;be++){var Se=W[be],ze=Q?0:Se.b,Te=Q?re?Se.y:Se.x:ze+Se.s;Se[oe]=Te,te.push(Te),Se.hasB&&te.push(ze),(!Se.hasB||!Se.b)&&(le=!0)}Y._extremes[O._id]=f.findExtremes(O,te,{tozero:le,padded:!0})}}function T(O,X,ie){var oe=j(O),V=X.traces,W,Y,Q,re,te,le;for(re=0;re<V.length;re++)if(W=V[re],Y=W[0].trace,Y.type==="funnel")for(te=0;te<W.length;te++)le=W[te],le.s!==l&&X.put(le.p,-.5*le.s);for(re=0;re<V.length;re++){W=V[re],Y=W[0].trace,Q=Y.type==="funnel";var be=[];for(te=0;te<W.length;te++)if(le=W[te],le.s!==l){var Se;Q?Se=le.s:Se=le.s+le.b;var ze=X.put(le.p,Se),Te=ze+Se;le.b=ze,le[oe]=Te,ie.norm||(be.push(Te),le.hasB&&be.push(ze))}ie.norm||(Y._extremes[O._id]=f.findExtremes(O,be,{tozero:!0,padded:!0}))}}function B(O){for(var X=O.traces,ie=0;ie<X.length;ie++)for(var oe=X[ie],V=0;V<oe.length;V++){var W=oe[V];W.s!==l&&O.put(W.p,W.b+W.s)}}function H(O,X){for(var ie=O.traces,oe=0;oe<ie.length;oe++){var V=ie[oe],W=V[0].trace;if(W.base===void 0)for(var Y=new p([V],{posAxis:X,sepNegVal:!0,overlapNoMerge:!0}),Q=0;Q<V.length;Q++){var re=V[Q];if(re.p!==l){var te=Y.put(re.p,re.b+re.s);te&&(re.b=te)}}}}function Z(O,X,ie){var oe=X.traces,V=j(O),W=ie.norm==="fraction"?1:100,Y=W/1e9,Q=O.l2c(O.c2l(0)),re=ie.mode==="stack"?W:Q;function te(E){return o(O.c2l(E))&&(E<Q-Y||E>re+Y||!o(Q))}for(var le=0;le<oe.length;le++){for(var be=oe[le],Se=be[0].trace,ze=[],Te=!1,ye=!1,he=0;he<be.length;he++){var P=be[he];if(P.s!==l){var U=Math.abs(W/X.get(P.p,P.s));P.b*=U,P.s*=U;var ee=P.b,G=ee+P.s;P[V]=G,ze.push(G),ye=ye||te(G),P.hasB&&(ze.push(ee),ye=ye||te(ee)),(!P.hasB||!P.b)&&(Te=!0)}}Se._extremes[O._id]=f.findExtremes(O,ze,{tozero:Te,padded:ye})}}function $(O,X,ie,oe){for(var V=j(oe),W=0;W<O.length;W++)for(var Y=O[W],Q=0;Q<Y.length;Q++){var re=Y[Q],te=re[V];re._sMin=X[te],re._sMax=ie[te]}}function N(O,X){var ie=j(X),oe={},V,W,Y,Q=1/0,re=-1/0;for(V=0;V<O.length;V++)for(Y=O[V],W=0;W<Y.length;W++){var te=Y[W].p;o(te)&&(Q=Math.min(Q,te),re=Math.max(re,te))}var le=1e4/(re-Q),be=oe.round=function(ne){return String(Math.round(le*(ne-Q)))},Se={},ze={},Te=O.some(function(ne){var pe=ne[0].trace;return"marker"in pe&&pe.marker.cornerradius});for(V=0;V<O.length;V++){Y=O[V],Y[0].t.extents=oe;var ye=Y[0].t.poffset,he=c(ye);for(W=0;W<Y.length;W++){var P=Y[W],U=P[ie]-P.w/2;if(o(U)){var ee=P[ie]+P.w/2,G=be(P.p);oe[G]?oe[G]=[Math.min(U,oe[G][0]),Math.max(ee,oe[G][1])]:oe[G]=[U,ee]}if(P.p0=P.p+(he?ye[W]:ye),P.p1=P.p0+P.w,P.s0=P.b,P.s1=P.s0+P.s,Te){var E=Math.min(P.s0,P.s1)||0,K=Math.max(P.s0,P.s1)||0,R=P[ie];Se[R]=R in Se?Math.min(Se[R],E):E,ze[R]=R in ze?Math.max(ze[R],K):K}}}Te&&$(O,Se,ze,X)}function j(O){return O._id.charAt(0)}i.exports={crossTraceCalc:m,setGroupPositions:d}},7550:function(i,s,a){"use strict";var o=a(721),c=a(4809),l=a(8766),u=a(3626),f=a(9867),h=a(9669),p=a(9760),m=a(6301),d=a(1481),y=c.coerceFont;function x(D,C,z,b){function S(H,Z){return c.coerce(D,C,d,H,Z)}var M=f(D,C,b,S);if(!M){C.visible=!1;return}h(D,C,b,S),S("xhoverformat"),S("yhoverformat"),S("zorder"),S("orientation",C.x&&!C.y?"h":"v"),S("base"),S("offset"),S("width"),S("text"),S("hovertext"),S("hovertemplate");var I=S("textposition");_(D,C,b,S,I,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),p(D,C,S,z,b);var T=(C.marker.line||{}).color,B=u.getComponentMethod("errorbars","supplyDefaults");B(D,C,T||l.defaultLine,{axis:"y"}),B(D,C,T||l.defaultLine,{axis:"x",inherit:"y"}),c.coerceSelectionMarkerOpacity(C,S)}function w(D,C){var z,b;function S(T,B){return c.coerce(b._input,b,d,T,B)}for(var M=0;M<D.length;M++)if(b=D[M],b.type==="bar"){z=b._input;var I=S("marker.cornerradius",C.barcornerradius);b.marker&&(b.marker.cornerradius=L(I)),C.barmode==="group"&&m(z,b,C,S)}}function L(D){if(o(D)){if(D=+D,D>=0)return D}else if(typeof D=="string"&&(D=D.trim(),D.slice(-1)==="%"&&o(D.slice(0,-1))&&(D=+D.slice(0,-1),D>=0)))return D+"%"}function _(D,C,z,b,S,M){M=M||{};var I=M.moduleHasSelected!==!1,T=M.moduleHasUnselected!==!1,B=M.moduleHasConstrain!==!1,H=M.moduleHasCliponaxis!==!1,Z=M.moduleHasTextangle!==!1,$=M.moduleHasInsideanchor!==!1,N=!!M.hasPathbar,j=Array.isArray(S)||S==="auto",O=j||S==="inside",X=j||S==="outside";if(O||X){var ie=y(b,"textfont",z.font),oe=c.extendFlat({},ie),V=D.textfont&&D.textfont.color,W=!V;if(W&&delete oe.color,y(b,"insidetextfont",oe),N){var Y=c.extendFlat({},ie);W&&delete Y.color,y(b,"pathbar.textfont",Y)}X&&y(b,"outsidetextfont",ie),I&&b("selected.textfont.color"),T&&b("unselected.textfont.color"),B&&b("constraintext"),H&&b("cliponaxis"),Z&&b("textangle"),b("texttemplate")}O&&$&&b("insidetextanchor")}i.exports={supplyDefaults:x,crossTraceDefaults:w,handleText:_,validateCornerradius:L}},9541:function(i){"use strict";i.exports=function(a,o,c){return a.x="xVal"in o?o.xVal:o.x,a.y="yVal"in o?o.yVal:o.y,o.xa&&(a.xaxis=o.xa),o.ya&&(a.yaxis=o.ya),c.orientation==="h"?(a.label=a.y,a.value=a.x):(a.label=a.x,a.value=a.y),a}},2843:function(i,s,a){"use strict";var o=a(721),c=a(5657),l=a(4809).isArrayOrTypedArray;s.coerceString=function(u,f,h){if(typeof f=="string"){if(f||!u.noBlank)return f}else if((typeof f=="number"||f===!0)&&!u.strict)return String(f);return h!==void 0?h:u.dflt},s.coerceNumber=function(u,f,h){if(o(f)){f=+f;var p=u.min,m=u.max,d=p!==void 0&&f<p||m!==void 0&&f>m;if(!d)return f}return h!==void 0?h:u.dflt},s.coerceColor=function(u,f,h){return c(f).isValid()?f:h!==void 0?h:u.dflt},s.coerceEnumerated=function(u,f,h){return u.coerceNumber&&(f=+f),u.values.indexOf(f)!==-1?f:h!==void 0?h:u.dflt},s.getValue=function(u,f){var h;return l(u)?f<u.length&&(h=u[f]):h=u,h},s.getLineWidth=function(u,f){var h=0<f.mlw?f.mlw:l(u.marker.line.width)?0:u.marker.line.width;return h}},1664:function(i,s,a){"use strict";var o=a(2141),c=a(3626),l=a(8766),u=a(4809).fillText,f=a(2843).getLineWidth,h=a(9714).hoverLabelText,p=a(3821).BADNUM;function m(x,w,L,_,D){var C=d(x,w,L,_,D);if(C){var z=C.cd,b=z[0].trace,S=z[C.index];return C.color=y(b,S),c.getComponentMethod("errorbars","hoverInfo")(S,b,C),[C]}}function d(x,w,L,_,D){var C=x.cd,z=C[0].trace,b=C[0].t,S=_==="closest",M=z.type==="waterfall",I=x.maxHoverDistance,T=x.maxSpikeDistance,B,H,Z,$,N,j,O;z.orientation==="h"?(B=L,H=w,Z="y",$="x",N=ze,j=le):(B=w,H=L,Z="x",$="y",j=ze,N=le);var X=z[Z+"period"],ie=S||X;function oe(ne){return W(ne,-1)}function V(ne){return W(ne,1)}function W(ne,pe){var xe=ne.w;return ne[Z]+pe*xe/2}function Y(ne){return ne[Z+"End"]-ne[Z+"Start"]}var Q=S?oe:X?function(ne){return ne.p-Y(ne)/2}:function(ne){return Math.min(oe(ne),ne.p-b.bardelta/2)},re=S?V:X?function(ne){return ne.p+Y(ne)/2}:function(ne){return Math.max(V(ne),ne.p+b.bardelta/2)};function te(ne,pe,xe){return D.finiteRange&&(xe=0),o.inbox(ne-B,pe-B,xe+Math.min(1,Math.abs(pe-ne)/O)-1)}function le(ne){return te(Q(ne),re(ne),I)}function be(ne){return te(oe(ne),V(ne),T)}function Se(ne){var pe=ne[$];if(M){var xe=Math.abs(ne.rawS)||0;H>0?pe+=xe:H<0&&(pe-=xe)}return pe}function ze(ne){var pe=H,xe=ne.b,we=Se(ne);return o.inbox(xe-pe,we-pe,I+(we-pe)/(we-xe)-1)}function Te(ne){var pe=H,xe=ne.b,we=Se(ne);return o.inbox(xe-pe,we-pe,T+(we-pe)/(we-xe)-1)}var ye=x[Z+"a"],he=x[$+"a"];O=Math.abs(ye.r2c(ye.range[1])-ye.r2c(ye.range[0]));function P(ne){return(N(ne)+j(ne))/2}var U=o.getDistanceFunction(_,N,j,P);if(o.getClosest(C,U,x),x.index!==!1&&C[x.index].p!==p){ie||(Q=function(ne){return Math.min(oe(ne),ne.p-b.bargroupwidth/2)},re=function(ne){return Math.max(V(ne),ne.p+b.bargroupwidth/2)});var ee=x.index,G=C[ee],E=z.base?G.b+G.s:G.s;x[$+"0"]=x[$+"1"]=he.c2p(G[$],!0),x[$+"LabelVal"]=E;var K=b.extents[b.extents.round(G.p)];x[Z+"0"]=ye.c2p(S?Q(G):K[0],!0),x[Z+"1"]=ye.c2p(S?re(G):K[1],!0);var R=G.orig_p!==void 0;return x[Z+"LabelVal"]=R?G.orig_p:G.p,x.labelLabel=h(ye,x[Z+"LabelVal"],z[Z+"hoverformat"]),x.valueLabel=h(he,x[$+"LabelVal"],z[$+"hoverformat"]),x.baseLabel=h(he,G.b,z[$+"hoverformat"]),x.spikeDistance=(Te(G)+be(G))/2,x[Z+"Spike"]=ye.c2p(G.p,!0),u(G,z,x),x.hovertemplate=z.hovertemplate,x}}function y(x,w){var L=w.mcc||x.marker.color,_=w.mlcc||x.marker.line.color,D=f(x,w);if(l.opacity(L))return L;if(l.opacity(_)&&D)return _}i.exports={hoverPoints:m,hoverOnBars:d,getTraceColor:y}},8218:function(i,s,a){"use strict";i.exports={attributes:a(1481),layoutAttributes:a(5412),supplyDefaults:a(7550).supplyDefaults,crossTraceDefaults:a(7550).crossTraceDefaults,supplyLayoutDefaults:a(8931),calc:a(7565),crossTraceCalc:a(4782).crossTraceCalc,colorbar:a(1146),arraysToCalcdata:a(5374),plot:a(2995).plot,style:a(6851).style,styleOnSelect:a(6851).styleOnSelect,hoverPoints:a(1664).hoverPoints,eventData:a(9541),selectPoints:a(8384),moduleType:"trace",name:"bar",basePlotModule:a(84),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},5412:function(i){"use strict";i.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},8931:function(i,s,a){"use strict";var o=a(3626),c=a(9714),l=a(4809),u=a(5412),f=a(7550).validateCornerradius;i.exports=function(h,p,m){function d(M,I){return l.coerce(h,p,u,M,I)}for(var y=!1,x=!1,w=!1,L={},_=d("barmode"),D=0;D<m.length;D++){var C=m[D];if(o.traceIs(C,"bar")&&C.visible)y=!0;else continue;if(_==="group"){var z=C.xaxis+C.yaxis;L[z]&&(w=!0),L[z]=!0}if(C.visible&&C.type==="histogram"){var b=c.getFromId({_fullLayout:p},C[C.orientation==="v"?"xaxis":"yaxis"]);b.type!=="category"&&(x=!0)}}if(!y){delete p.barmode;return}_!=="overlay"&&d("barnorm"),d("bargap",x&&!w?0:.2),d("bargroupgap");var S=d("barcornerradius");p.barcornerradius=f(S)}},2995:function(i,s,a){"use strict";var o=a(5568),c=a(721),l=a(4809),u=a(635),f=a(8766),h=a(2203),p=a(3626),m=a(9714).tickText,d=a(4102),y=d.recordMinTextSize,x=d.clearMinTextSize,w=a(6851),L=a(2843),_=a(6155),D=a(1481),C=D.text,z=D.textposition,b=a(6040).appendArrayPointValue,S=_.TEXTPAD;function M(le){return le.id}function I(le){if(le.ids)return M}function T(le){return(le>0)-(le<0)}function B(le,be){return le<be?1:-1}function H(le,be,Se,ze){var Te=[],ye=[],he=ze?be:Se,P=ze?Se:be;return Te[0]=he.c2p(le.s0,!0),ye[0]=P.c2p(le.p0,!0),Te[1]=he.c2p(le.s1,!0),ye[1]=P.c2p(le.p1,!0),ze?[Te,ye]:[ye,Te]}function Z(le,be,Se,ze){if(!be.uniformtext.mode&&$(Se)){var Te;return ze&&(Te=ze()),le.transition().duration(Se.duration).ease(Se.easing).each("end",function(){Te&&Te()}).each("interrupt",function(){Te&&Te()})}else return le}function $(le){return le&&le.duration>0}function N(le,be,Se,ze,Te,ye){var he=be.xaxis,P=be.yaxis,U=le._fullLayout,ee=le._context.staticPlot;Te||(Te={mode:U.barmode,norm:U.barmode,gap:U.bargap,groupgap:U.bargroupgap},x("bar",U));var G=l.makeTraceGroups(ze,Se,"trace bars").each(function(E){var K=o.select(this),R=E[0].trace,ne=E[0].t,pe=R.type==="waterfall",xe=R.type==="funnel",we=R.type==="histogram",Ee=R.type==="bar",Oe=Ee||xe,Ke=0;pe&&R.connector.visible&&R.connector.mode==="between"&&(Ke=R.connector.line.width/2);var Je=R.orientation==="h",rt=$(Te),Me=l.ensureSingle(K,"g","points"),ke=I(R),Le=Me.selectAll("g.point").data(l.identity,ke);Le.enter().append("g").classed("point",!0),Le.exit().remove(),Le.each(function(Ve,qe){var vt=o.select(this),At=H(Ve,he,P,Je),Dt=At[0][0],bt=At[0][1],xt=At[1][0],Et=At[1][1],pt=(Je?bt-Dt:Et-xt)===0;pt&&Oe&&L.getLineWidth(R,Ve)&&(pt=!1),pt||(pt=!c(Dt)||!c(bt)||!c(xt)||!c(Et)),Ve.isBlank=pt,pt&&(Je?bt=Dt:Et=xt),Ke&&!pt&&(Je?(Dt-=B(Dt,bt)*Ke,bt+=B(Dt,bt)*Ke):(xt-=B(xt,Et)*Ke,Et+=B(xt,Et)*Ke));var Rt,Wt;if(R.type==="waterfall"){if(!pt){var Vt=R[Ve.dir].marker;Rt=Vt.line.width,Wt=Vt.color}}else Rt=L.getLineWidth(R,Ve),Wt=Ve.mc||R.marker.color;function Yt(yn){var xn=o.round(Rt/2%1,2);return Te.gap===0&&Te.groupgap===0?o.round(Math.round(yn)-xn,2):yn}function et(yn,xn,Pn){return Pn&&yn===xn?yn:Math.abs(yn-xn)>=2?Yt(yn):yn>xn?Math.ceil(yn):Math.floor(yn)}var ct=f.opacity(Wt),gt=ct<1||Rt>.01?Yt:et;le._context.staticPlot||(Dt=gt(Dt,bt,Je),bt=gt(bt,Dt,Je),xt=gt(xt,Et,!Je),Et=gt(Et,xt,!Je));var _e=Je?he.c2p:P.c2p,Be;Ve.s0>0?Be=Ve._sMax:Ve.s0<0?Be=Ve._sMin:Be=Ve.s1>0?Ve._sMax:Ve._sMin;function ve(yn,xn){if(!yn)return 0;var Pn=Math.abs(Je?Et-xt:bt-Dt),Ln=Math.abs(Je?bt-Dt:Et-xt),on=gt(Math.abs(_e(Be,!0)-_e(0,!0))),_n=Ve.hasB?Math.min(Pn/2,Ln/2):Math.min(Pn/2,on),gn;if(xn==="%"){var Un=Math.min(50,yn);gn=Pn*(Un/100)}else gn=yn;return gt(Math.max(Math.min(gn,_n),0))}var ge=Ee||we?ve(ne.cornerradiusvalue,ne.cornerradiusform):0,Re,Fe,Ue="M"+Dt+","+xt+"V"+Et+"H"+bt+"V"+xt+"Z",We=0;if(ge&&Ve.s){var St=T(Ve.s0)===0||T(Ve.s)===T(Ve.s0)?Ve.s1:Ve.s0;if(We=gt(Ve.hasB?0:Math.abs(_e(Be,!0)-_e(St,!0))),We<ge){var Mt=B(Dt,bt),ot=B(xt,Et),Xe=Mt===-ot?1:0;if(Je)if(Ve.hasB)Re="M"+(Dt+ge*Mt)+","+xt+"A "+ge+","+ge+" 0 0 "+Xe+" "+Dt+","+(xt+ge*ot)+"V"+(Et-ge*ot)+"A "+ge+","+ge+" 0 0 "+Xe+" "+(Dt+ge*Mt)+","+Et+"H"+(bt-ge*Mt)+"A "+ge+","+ge+" 0 0 "+Xe+" "+bt+","+(Et-ge*ot)+"V"+(xt+ge*ot)+"A "+ge+","+ge+" 0 0 "+Xe+" "+(bt-ge*Mt)+","+xt+"Z";else{Fe=Math.abs(bt-Dt)+We;var _t=Fe<ge?ge-Math.sqrt(Fe*(2*ge-Fe)):0,Xt=We>0?Math.sqrt(We*(2*ge-We)):0,sn=Mt>0?Math.max:Math.min;Re="M"+Dt+","+xt+"V"+(Et-_t*ot)+"H"+sn(bt-(ge-We)*Mt,Dt)+"A "+ge+","+ge+" 0 0 "+Xe+" "+bt+","+(Et-ge*ot-Xt)+"V"+(xt+ge*ot+Xt)+"A "+ge+","+ge+" 0 0 "+Xe+" "+sn(bt-(ge-We)*Mt,Dt)+","+(xt+_t*ot)+"Z"}else if(Ve.hasB)Re="M"+(Dt+ge*Mt)+","+xt+"A "+ge+","+ge+" 0 0 "+Xe+" "+Dt+","+(xt+ge*ot)+"V"+(Et-ge*ot)+"A "+ge+","+ge+" 0 0 "+Xe+" "+(Dt+ge*Mt)+","+Et+"H"+(bt-ge*Mt)+"A "+ge+","+ge+" 0 0 "+Xe+" "+bt+","+(Et-ge*ot)+"V"+(xt+ge*ot)+"A "+ge+","+ge+" 0 0 "+Xe+" "+(bt-ge*Mt)+","+xt+"Z";else{Fe=Math.abs(Et-xt)+We;var pn=Fe<ge?ge-Math.sqrt(Fe*(2*ge-Fe)):0,An=We>0?Math.sqrt(We*(2*ge-We)):0,zn=ot>0?Math.max:Math.min;Re="M"+(Dt+pn*Mt)+","+xt+"V"+zn(Et-(ge-We)*ot,xt)+"A "+ge+","+ge+" 0 0 "+Xe+" "+(Dt+ge*Mt-An)+","+Et+"H"+(bt-ge*Mt+An)+"A "+ge+","+ge+" 0 0 "+Xe+" "+(bt-pn*Mt)+","+zn(Et-(ge-We)*ot,xt)+"V"+xt+"Z"}}else Re=Ue}else Re=Ue;var Jt=Z(l.ensureSingle(vt,"path"),U,Te,ye);if(Jt.style("vector-effect",ee?"none":"non-scaling-stroke").attr("d",isNaN((bt-Dt)*(Et-xt))||pt&&le._context.staticPlot?"M0,0Z":Re).call(h.setClipUrl,be.layerClipId,le),!U.uniformtext.mode&&rt){var Cn=h.makePointStyleFns(R);h.singlePointStyle(Ve,Jt,R,Cn,le)}j(le,be,vt,E,qe,Dt,bt,xt,Et,ge,We,Te,ye),be.layerClipId&&h.hideOutsideRangePoint(Ve,vt.select("text"),he,P,R.xcalendar,R.ycalendar)});var He=R.cliponaxis===!1;h.setClipUrl(K,He?null:be.layerClipId,le)});p.getComponentMethod("errorbars","plot")(le,G,be,Te)}function j(le,be,Se,ze,Te,ye,he,P,U,ee,G,E,K){var R=be.xaxis,ne=be.yaxis,pe=le._fullLayout,xe;function we(Fe,Ue,We){var St=l.ensureSingle(Fe,"text").text(Ue).attr({class:"bartext bartext-"+xe,"text-anchor":"middle","data-notex":1}).call(h.font,We).call(u.convertToTspans,le);return St}var Ee=ze[0].trace,Oe=Ee.orientation==="h",Ke=Y(pe,ze,Te,R,ne);xe=Q(Ee,Te);var Je=E.mode==="stack"||E.mode==="relative",rt=ze[Te],Me=!Je||rt._outmost,ke=rt.hasB,Le=ee&&ee-G>S;if(!Ke||xe==="none"||(rt.isBlank||ye===he||P===U)&&(xe==="auto"||xe==="inside")){Se.select("text").remove();return}var He=pe.font,Ve=w.getBarColor(ze[Te],Ee),qe=w.getInsideTextFont(Ee,Te,He,Ve),vt=w.getOutsideTextFont(Ee,Te,He),At=Ee.insidetextanchor||"end",Dt=Se.datum();Oe?R.type==="log"&&Dt.s0<=0&&(R.range[0]<R.range[1]?ye=0:ye=R._length):ne.type==="log"&&Dt.s0<=0&&(ne.range[0]<ne.range[1]?P=ne._length:P=0);var bt=Math.abs(he-ye),xt=Math.abs(U-P),Et=bt-2*S,pt=xt-2*S,Rt,Wt,Vt,Yt,et;if(xe==="outside"&&!Me&&!rt.hasB&&(xe="inside"),xe==="auto")if(Me){xe="inside",et=l.ensureUniformFontSize(le,qe),Rt=we(Se,Ke,et),Wt=h.bBox(Rt.node()),Vt=Wt.width,Yt=Wt.height;var ct=Vt>0&&Yt>0,gt;Le?ke?gt=O(Et-2*ee,pt,Vt,Yt,Oe)||O(Et,pt-2*ee,Vt,Yt,Oe):Oe?gt=O(Et-(ee-G),pt,Vt,Yt,Oe)||O(Et,pt-2*(ee-G),Vt,Yt,Oe):gt=O(Et,pt-(ee-G),Vt,Yt,Oe)||O(Et-2*(ee-G),pt,Vt,Yt,Oe):gt=O(Et,pt,Vt,Yt,Oe),ct&&gt?xe="inside":(xe="outside",Rt.remove(),Rt=null)}else xe="inside";if(!Rt){et=l.ensureUniformFontSize(le,xe==="outside"?vt:qe),Rt=we(Se,Ke,et);var _e=Rt.attr("transform");if(Rt.attr("transform",""),Wt=h.bBox(Rt.node()),Vt=Wt.width,Yt=Wt.height,Rt.attr("transform",_e),Vt<=0||Yt<=0){Rt.remove();return}}var Be=Ee.textangle,ve,ge;xe==="outside"?(ge=Ee.constraintext==="both"||Ee.constraintext==="outside",ve=W(ye,he,P,U,Wt,{isHorizontal:Oe,constrained:ge,angle:Be})):(ge=Ee.constraintext==="both"||Ee.constraintext==="inside",ve=oe(ye,he,P,U,Wt,{isHorizontal:Oe,constrained:ge,angle:Be,anchor:At,hasB:ke,r:ee,overhead:G})),ve.fontSize=et.size,y(Ee.type==="histogram"?"bar":Ee.type,ve,pe),rt.transform=ve;var Re=Z(Rt,pe,E,K);l.setTransormAndDisplay(Re,ve)}function O(le,be,Se,ze,Te){if(le<0||be<0)return!1;var ye=Se<=le&&ze<=be,he=Se<=be&&ze<=le,P=Te?le>=Se*(be/ze):be>=ze*(le/Se);return ye||he||P}function X(le){return le==="auto"?0:le}function ie(le,be){var Se=Math.PI/180*be,ze=Math.abs(Math.sin(Se)),Te=Math.abs(Math.cos(Se));return{x:le.width*Te+le.height*ze,y:le.width*ze+le.height*Te}}function oe(le,be,Se,ze,Te,ye){var he=!!ye.isHorizontal,P=!!ye.constrained,U=ye.angle||0,ee=ye.anchor,G=ee==="end",E=ee==="start",K=ye.leftToRight||0,R=(K+1)/2,ne=1-R,pe=ye.hasB,xe=ye.r,we=ye.overhead,Ee=Te.width,Oe=Te.height,Ke=Math.abs(be-le),Je=Math.abs(ze-Se),rt=Ke>2*S&&Je>2*S?S:0;Ke-=2*rt,Je-=2*rt;var Me=X(U);U==="auto"&&!(Ee<=Ke&&Oe<=Je)&&(Ee>Ke||Oe>Je)&&(!(Ee>Je||Oe>Ke)||Ee<Oe!=Ke<Je)&&(Me+=90);var ke=ie(Te,Me),Le,He;if(xe&&xe-we>S){var Ve=V(le,be,Se,ze,ke,xe,we,he,pe);Le=Ve.scale,He=Ve.pad}else Le=1,P&&(Le=Math.min(1,Ke/ke.x,Je/ke.y)),He=0;var qe=Te.left*ne+Te.right*R,vt=(Te.top+Te.bottom)/2,At=(le+S)*ne+(be-S)*R,Dt=(Se+ze)/2,bt=0,xt=0;if(E||G){var Et=(he?ke.x:ke.y)/2;xe&&(G||pe)&&(rt+=He);var pt=he?B(le,be):B(Se,ze);he?E?(At=le+pt*rt,bt=-pt*Et):(At=be-pt*rt,bt=pt*Et):E?(Dt=Se+pt*rt,xt=-pt*Et):(Dt=ze-pt*rt,xt=pt*Et)}return{textX:qe,textY:vt,targetX:At,targetY:Dt,anchorX:bt,anchorY:xt,scale:Le,rotate:Me}}function V(le,be,Se,ze,Te,ye,he,P,U){var ee=Math.max(0,Math.abs(be-le)-2*S),G=Math.max(0,Math.abs(ze-Se)-2*S),E=ye-S,K=he?E-Math.sqrt(E*E-(E-he)*(E-he)):E,R=U?E*2:P?E-he:2*K,ne=U?E*2:P?2*K:E-he,pe,xe,we,Ee,Oe;return Te.y/Te.x>=G/(ee-R)?Ee=G/Te.y:Te.y/Te.x<=(G-ne)/ee?Ee=ee/Te.x:!U&&P?(pe=Te.x*Te.x+Te.y*Te.y/4,xe=-2*Te.x*(ee-E)-Te.y*(G/2-E),we=(ee-E)*(ee-E)+(G/2-E)*(G/2-E)-E*E,Ee=(-xe+Math.sqrt(xe*xe-4*pe*we))/(2*pe)):U?(pe=(Te.x*Te.x+Te.y*Te.y)/4,xe=-Te.x*(ee/2-E)-Te.y*(G/2-E),we=(ee/2-E)*(ee/2-E)+(G/2-E)*(G/2-E)-E*E,Ee=(-xe+Math.sqrt(xe*xe-4*pe*we))/(2*pe)):(pe=Te.x*Te.x/4+Te.y*Te.y,xe=-Te.x*(ee/2-E)-2*Te.y*(G-E),we=(ee/2-E)*(ee/2-E)+(G-E)*(G-E)-E*E,Ee=(-xe+Math.sqrt(xe*xe-4*pe*we))/(2*pe)),Ee=Math.min(1,Ee),P?Oe=Math.max(0,E-Math.sqrt(Math.max(0,E*E-(E-(G-Te.y*Ee)/2)*(E-(G-Te.y*Ee)/2)))-he):Oe=Math.max(0,E-Math.sqrt(Math.max(0,E*E-(E-(ee-Te.x*Ee)/2)*(E-(ee-Te.x*Ee)/2)))-he),{scale:Ee,pad:Oe}}function W(le,be,Se,ze,Te,ye){var he=!!ye.isHorizontal,P=!!ye.constrained,U=ye.angle||0,ee=Te.width,G=Te.height,E=Math.abs(be-le),K=Math.abs(ze-Se),R;he?R=K>2*S?S:0:R=E>2*S?S:0;var ne=1;P&&(ne=he?Math.min(1,K/G):Math.min(1,E/ee));var pe=X(U),xe=ie(Te,pe),we=(he?xe.x:xe.y)/2,Ee=(Te.left+Te.right)/2,Oe=(Te.top+Te.bottom)/2,Ke=(le+be)/2,Je=(Se+ze)/2,rt=0,Me=0,ke=he?B(be,le):B(Se,ze);return he?(Ke=be-ke*R,rt=ke*we):(Je=ze+ke*R,Me=-ke*we),{textX:Ee,textY:Oe,targetX:Ke,targetY:Je,anchorX:rt,anchorY:Me,scale:ne,rotate:pe}}function Y(le,be,Se,ze,Te){var ye=be[0].trace,he=ye.texttemplate,P;return he?P=re(le,be,Se,ze,Te):ye.textinfo?P=te(be,Se,ze,Te):P=L.getValue(ye.text,Se),L.coerceString(C,P)}function Q(le,be){var Se=L.getValue(le.textposition,be);return L.coerceEnumerated(z,Se)}function re(le,be,Se,ze,Te){var ye=be[0].trace,he=l.castOption(ye,Se,"texttemplate");if(!he)return"";var P=ye.type==="histogram",U=ye.type==="waterfall",ee=ye.type==="funnel",G=ye.orientation==="h",E,K,R,ne;G?(E="y",K=Te,R="x",ne=ze):(E="x",K=ze,R="y",ne=Te);function pe(rt){return m(K,K.c2l(rt),!0).text}function xe(rt){return m(ne,ne.c2l(rt),!0).text}var we=be[Se],Ee={};Ee.label=we.p,Ee.labelLabel=Ee[E+"Label"]=pe(we.p);var Oe=l.castOption(ye,we.i,"text");(Oe===0||Oe)&&(Ee.text=Oe),Ee.value=we.s,Ee.valueLabel=Ee[R+"Label"]=xe(we.s);var Ke={};b(Ke,ye,we.i),(P||Ke.x===void 0)&&(Ke.x=G?Ee.value:Ee.label),(P||Ke.y===void 0)&&(Ke.y=G?Ee.label:Ee.value),(P||Ke.xLabel===void 0)&&(Ke.xLabel=G?Ee.valueLabel:Ee.labelLabel),(P||Ke.yLabel===void 0)&&(Ke.yLabel=G?Ee.labelLabel:Ee.valueLabel),U&&(Ee.delta=+we.rawS||we.s,Ee.deltaLabel=xe(Ee.delta),Ee.final=we.v,Ee.finalLabel=xe(Ee.final),Ee.initial=Ee.final-Ee.delta,Ee.initialLabel=xe(Ee.initial)),ee&&(Ee.value=we.s,Ee.valueLabel=xe(Ee.value),Ee.percentInitial=we.begR,Ee.percentInitialLabel=l.formatPercent(we.begR),Ee.percentPrevious=we.difR,Ee.percentPreviousLabel=l.formatPercent(we.difR),Ee.percentTotal=we.sumR,Ee.percenTotalLabel=l.formatPercent(we.sumR));var Je=l.castOption(ye,we.i,"customdata");return Je&&(Ee.customdata=Je),l.texttemplateString(he,Ee,le._d3locale,Ke,Ee,ye._meta||{})}function te(le,be,Se,ze){var Te=le[0].trace,ye=Te.orientation==="h",he=Te.type==="waterfall",P=Te.type==="funnel";function U(Je){var rt=ye?ze:Se;return m(rt,Je,!0).text}function ee(Je){var rt=ye?Se:ze;return m(rt,+Je,!0).text}var G=Te.textinfo,E=le[be],K=G.split("+"),R=[],ne,pe=function(Je){return K.indexOf(Je)!==-1};if(pe("label")&&R.push(U(le[be].p)),pe("text")&&(ne=l.castOption(Te,E.i,"text"),(ne===0||ne)&&R.push(ne)),he){var xe=+E.rawS||E.s,we=E.v,Ee=we-xe;pe("initial")&&R.push(ee(Ee)),pe("delta")&&R.push(ee(xe)),pe("final")&&R.push(ee(we))}if(P){pe("value")&&R.push(ee(E.s));var Oe=0;pe("percent initial")&&Oe++,pe("percent previous")&&Oe++,pe("percent total")&&Oe++;var Ke=Oe>1;pe("percent initial")&&(ne=l.formatPercent(E.begR),Ke&&(ne+=" of initial"),R.push(ne)),pe("percent previous")&&(ne=l.formatPercent(E.difR),Ke&&(ne+=" of previous"),R.push(ne)),pe("percent total")&&(ne=l.formatPercent(E.sumR),Ke&&(ne+=" of total"),R.push(ne))}return R.join("<br>")}i.exports={plot:N,toMoveInsideBar:oe}},8384:function(i){"use strict";i.exports=function(o,c){var l=o.cd,u=o.xaxis,f=o.yaxis,h=l[0].trace,p=h.type==="funnel",m=h.orientation==="h",d=[],y;if(c===!1)for(y=0;y<l.length;y++)l[y].selected=0;else for(y=0;y<l.length;y++){var x=l[y],w="ct"in x?x.ct:s(x,u,f,m,p);c.contains(w,!1,y,o)?(d.push({pointNumber:y,x:u.c2d(x.x),y:f.c2d(x.y)}),x.selected=1):x.selected=0}return d};function s(a,o,c,l,u){var f=o.c2p(l?a.s0:a.p0,!0),h=o.c2p(l?a.s1:a.p1,!0),p=c.c2p(l?a.p0:a.s0,!0),m=c.c2p(l?a.p1:a.s1,!0);return u?[(f+h)/2,(p+m)/2]:l?[h,(p+m)/2]:[(f+h)/2,m]}},2880:function(i,s,a){"use strict";i.exports=c;var o=a(4809).distinctVals;function c(l,u){this.traces=l,this.sepNegVal=u.sepNegVal,this.overlapNoMerge=u.overlapNoMerge;for(var f=1/0,h=u.posAxis._id.charAt(0),p=[],m=0;m<l.length;m++){for(var d=l[m],y=0;y<d.length;y++){var x=d[y],w=x.p;w===void 0&&(w=x[h]),w!==void 0&&p.push(w)}d[0]&&d[0].width1&&(f=Math.min(d[0].width1,f))}this.positions=p;var L=o(p);this.distinctPositions=L.vals,L.vals.length===1&&f!==1/0?this.minDiff=f:this.minDiff=Math.min(L.minDiff,f);var _=(u.posAxis||{}).type;(_==="category"||_==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}c.prototype.put=function(u,f){var h=this.getLabel(u,f),p=this.bins[h]||0;return this.bins[h]=p+f,p},c.prototype.get=function(u,f){var h=this.getLabel(u,f);return this.bins[h]||0},c.prototype.getLabel=function(u,f){var h=f<0&&this.sepNegVal?"v":"^",p=this.overlapNoMerge?u:Math.round(u/this.binWidth);return h+p}},6851:function(i,s,a){"use strict";var o=a(5568),c=a(8766),l=a(2203),u=a(4809),f=a(3626),h=a(4102).resizeText,p=a(1481),m=p.textfont,d=p.insidetextfont,y=p.outsidetextfont,x=a(2843);function w(H){var Z=o.select(H).selectAll('g[class^="barlayer"]').selectAll("g.trace");h(H,Z,"bar");var $=Z.size(),N=H._fullLayout;Z.style("opacity",function(j){return j[0].trace.opacity}).each(function(j){(N.barmode==="stack"&&$>1||N.bargap===0&&N.bargroupgap===0&&!j[0].trace.marker.line.width)&&o.select(this).attr("shape-rendering","crispEdges")}),Z.selectAll("g.points").each(function(j){var O=o.select(this),X=j[0].trace;L(O,X,H)}),f.getComponentMethod("errorbars","style")(Z)}function L(H,Z,$){l.pointStyle(H.selectAll("path"),Z,$),_(H,Z,$)}function _(H,Z,$){H.selectAll("text").each(function(N){var j=o.select(this),O=u.ensureUniformFontSize($,b(j,N,Z,$));l.font(j,O)})}function D(H,Z,$){var N=Z[0].trace;N.selectedpoints?C($,N,H):(L($,N,H),f.getComponentMethod("errorbars","style")($))}function C(H,Z,$){l.selectedPointStyle(H.selectAll("path"),Z),z(H.selectAll("text"),Z,$)}function z(H,Z,$){H.each(function(N){var j=o.select(this),O;if(N.selected){O=u.ensureUniformFontSize($,b(j,N,Z,$));var X=Z.selected.textfont&&Z.selected.textfont.color;X&&(O.color=X),l.font(j,O)}else l.selectedTextStyle(j,Z)})}function b(H,Z,$,N){var j=N._fullLayout.font,O=$.textfont;if(H.classed("bartext-inside")){var X=B(Z,$);O=M($,Z.i,j,X)}else H.classed("bartext-outside")&&(O=I($,Z.i,j));return O}function S(H,Z,$){return T(m,H.textfont,Z,$)}function M(H,Z,$,N){var j=S(H,Z,$),O=H._input.textfont===void 0||H._input.textfont.color===void 0||Array.isArray(H.textfont.color)&&H.textfont.color[Z]===void 0;return O&&(j={color:c.contrast(N),family:j.family,size:j.size,weight:j.weight,style:j.style,variant:j.variant,textcase:j.textcase,lineposition:j.lineposition,shadow:j.shadow}),T(d,H.insidetextfont,Z,j)}function I(H,Z,$){var N=S(H,Z,$);return T(y,H.outsidetextfont,Z,N)}function T(H,Z,$,N){Z=Z||{};var j=x.getValue(Z.family,$),O=x.getValue(Z.size,$),X=x.getValue(Z.color,$),ie=x.getValue(Z.weight,$),oe=x.getValue(Z.style,$),V=x.getValue(Z.variant,$),W=x.getValue(Z.textcase,$),Y=x.getValue(Z.lineposition,$),Q=x.getValue(Z.shadow,$);return{family:x.coerceString(H.family,j,N.family),size:x.coerceNumber(H.size,O,N.size),color:x.coerceColor(H.color,X,N.color),weight:x.coerceString(H.weight,ie,N.weight),style:x.coerceString(H.style,oe,N.style),variant:x.coerceString(H.variant,V,N.variant),textcase:x.coerceString(H.variant,W,N.textcase),lineposition:x.coerceString(H.variant,Y,N.lineposition),shadow:x.coerceString(H.variant,Q,N.shadow)}}function B(H,Z){return Z.type==="waterfall"?Z[H.dir].marker.color:H.mcc||H.mc||Z.marker.color}i.exports={style:w,styleTextPoints:_,styleOnSelect:D,getInsideTextFont:M,getOutsideTextFont:I,getBarColor:B,resizeText:h}},9760:function(i,s,a){"use strict";var o=a(8766),c=a(5477).hasColorscale,l=a(9356),u=a(4809).coercePattern;i.exports=function(h,p,m,d,y){var x=m("marker.color",d),w=c(h,"marker");w&&l(h,p,y,m,{prefix:"marker.",cLetter:"c"}),m("marker.line.color",o.defaultLine),c(h,"marker.line")&&l(h,p,y,m,{prefix:"marker.line.",cLetter:"c"}),m("marker.line.width"),m("marker.opacity"),u(m,"marker.pattern",x,w),m("selected.marker.color"),m("unselected.marker.color")}},4102:function(i,s,a){"use strict";var o=a(5568),c=a(4809);function l(p,m,d){var y=p._fullLayout,x=y["_"+d+"Text_minsize"];if(x){var w=y.uniformtext.mode==="hide",L;switch(d){case"funnelarea":case"pie":case"sunburst":L="g.slice";break;case"treemap":case"icicle":L="g.slice, g.pathbar";break;default:L="g.points > g.point"}m.selectAll(L).each(function(_){var D=_.transform;if(D){D.scale=w&&D.hide?0:x/D.fontSize;var C=o.select(this).select("text");c.setTransormAndDisplay(C,D)}})}}function u(p,m,d){if(d.uniformtext.mode){var y=h(p),x=d.uniformtext.minsize,w=m.scale*m.fontSize;m.hide=w<x,d[y]=d[y]||1/0,m.hide||(d[y]=Math.min(d[y],Math.max(w,x)))}}function f(p,m){var d=h(p);m[d]=void 0}function h(p){return"_"+p+"Text_minsize"}i.exports={recordMinTextSize:u,clearMinTextSize:f,resizeText:l}},3031:function(i,s,a){"use strict";var o=a(9829),c=a(3792).u,l=a(337),u=a(229),f=a(3208).rb,h=a(3208).ay,p=a(3049).extendFlat,m=a(4850).k,d=l({editType:"plot",arrayOk:!0,colorEditType:"plot"});i.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:u.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:m,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:p({},o.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:f({},{keys:["label","color","value","percent","text"]}),texttemplate:h({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:p({},d,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:p({},d,{}),outsidetextfont:p({},d,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:p({},d,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:c({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:p({},d,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},6052:function(i,s,a){"use strict";var o=a(4122);s.name="pie",s.plot=function(c,l,u,f){o.plotBasePlot(s.name,c,l,u,f)},s.clean=function(c,l,u,f){o.cleanBasePlot(s.name,c,l,u,f)}},4148:function(i,s,a){"use strict";var o=a(721),c=a(5657),l=a(8766),u={};function f(d,y){var x=[],w=d._fullLayout,L=w.hiddenlabels||[],_=y.labels,D=y.marker.colors||[],C=y.values,z=y._length,b=y._hasValues&&z,S,M;if(y.dlabel)for(_=new Array(z),S=0;S<z;S++)_[S]=String(y.label0+S*y.dlabel);var I={},T=h(w["_"+y.type+"colormap"]),B=0,H=!1;for(S=0;S<z;S++){var Z,$,N;if(b){if(Z=C[S],!o(Z))continue;Z=+Z}else Z=1;$=_[S],($===void 0||$==="")&&($=S),$=String($);var j=I[$];j===void 0?(I[$]=x.length,N=L.indexOf($)!==-1,N||(B+=Z),x.push({v:Z,label:$,color:T(D[S],$),i:S,pts:[S],hidden:N})):(H=!0,M=x[j],M.v+=Z,M.pts.push(S),M.hidden||(B+=Z),M.color===!1&&D[S]&&(M.color=T(D[S],$)))}x=x.filter(function(X){return X.v>=0});var O=y.type==="funnelarea"?H:y.sort;return O&&x.sort(function(X,ie){return ie.v-X.v}),x[0]&&(x[0].vTotal=B),x}function h(d){return function(x,w){return!x||(x=c(x),!x.isValid())?!1:(x=l.addOpacity(x,x.getAlpha()),d[w]||(d[w]=x),x)}}function p(d,y){var x=(y||{}).type;x||(x="pie");var w=d._fullLayout,L=d.calcdata,_=w[x+"colorway"],D=w["_"+x+"colormap"];w["extend"+x+"colors"]&&(_=m(_,u));for(var C=0,z=0;z<L.length;z++){var b=L[z],S=b[0].trace.type;if(S===x)for(var M=0;M<b.length;M++){var I=b[M];I.color===!1&&(D[I.label]?I.color=D[I.label]:(D[I.label]=I.color=_[C%_.length],C++))}}}function m(d,y){var x,w=JSON.stringify(d),L=y[w];if(!L){for(L=d.slice(),x=0;x<d.length;x++)L.push(c(d[x]).lighten(20).toHexString());for(x=0;x<d.length;x++)L.push(c(d[x]).darken(20).toHexString());y[w]=L}return L}i.exports={calc:f,crossTraceCalc:p,makePullColorFn:h,generateExtendedColors:m}},6979:function(i,s,a){"use strict";var o=a(721),c=a(4809),l=a(3031),u=a(3792).N,f=a(7550).handleText,h=a(4809).coercePattern;function p(y,x){var w=c.isArrayOrTypedArray(y),L=c.isArrayOrTypedArray(x),_=Math.min(w?y.length:1/0,L?x.length:1/0);if(isFinite(_)||(_=0),_&&L){for(var D,C=0;C<_;C++){var z=x[C];if(o(z)&&z>0){D=!0;break}}D||(_=0)}return{hasLabels:w,hasValues:L,len:_}}function m(y,x,w,L,_){var D=L("marker.line.width");D&&L("marker.line.color",_?void 0:w.paper_bgcolor);var C=L("marker.colors");h(L,"marker.pattern",C),y.marker&&!x.marker.pattern.fgcolor&&(x.marker.pattern.fgcolor=y.marker.colors),x.marker.pattern.bgcolor||(x.marker.pattern.bgcolor=w.paper_bgcolor)}function d(y,x,w,L){function _(j,O){return c.coerce(y,x,l,j,O)}var D=_("labels"),C=_("values"),z=p(D,C),b=z.len;if(x._hasLabels=z.hasLabels,x._hasValues=z.hasValues,!x._hasLabels&&x._hasValues&&(_("label0"),_("dlabel")),!b){x.visible=!1;return}x._length=b,m(y,x,L,_,!0),_("scalegroup");var S=_("text"),M=_("texttemplate"),I;if(M||(I=_("textinfo",c.isArrayOrTypedArray(S)?"text+percent":"percent")),_("hovertext"),_("hovertemplate"),M||I&&I!=="none"){var T=_("textposition");f(y,x,L,_,T,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var B=Array.isArray(T)||T==="auto",H=B||T==="outside";H&&_("automargin"),(T==="inside"||T==="auto"||Array.isArray(T))&&_("insidetextorientation")}else I==="none"&&_("textposition","none");u(x,L,_);var Z=_("hole"),$=_("title.text");if($){var N=_("title.position",Z?"middle center":"top center");!Z&&N==="middle center"&&(x.title.position="top center"),c.coerceFont(_,"title.font",L.font)}_("sort"),_("direction"),_("rotation"),_("pull")}i.exports={handleLabelsAndValues:p,handleMarkerDefaults:m,supplyDefaults:d}},568:function(i,s,a){"use strict";var o=a(6040).appendArrayMultiPointValues;i.exports=function(l,u){var f={curveNumber:u.index,pointNumbers:l.pts,data:u._input,fullData:u,label:l.label,color:l.color,value:l.v,percent:l.percent,text:l.text,bbox:l.bbox,v:l.v};return l.pts.length===1&&(f.pointNumber=f.i=l.pts[0]),o(f,u,l.pts),u.type==="funnelarea"&&(delete f.v,delete f.i),f}},5067:function(i,s,a){"use strict";var o=a(2203),c=a(8766);i.exports=function(u,f,h,p){var m=h.marker.pattern;m&&m.shape?o.pointStyle(u,h,p,f):c.fill(u,f.color)}},7252:function(i,s,a){"use strict";var o=a(4809);function c(l){return l.indexOf("e")!==-1?l.replace(/[.]?0+e/,"e"):l.indexOf(".")!==-1?l.replace(/[.]?0+$/,""):l}s.formatPiePercent=function(u,f){var h=c((u*100).toPrecision(3));return o.numSeparate(h,f)+"%"},s.formatPieValue=function(u,f){var h=c(u.toPrecision(10));return o.numSeparate(h,f)},s.getFirstFilled=function(u,f){if(o.isArrayOrTypedArray(u))for(var h=0;h<f.length;h++){var p=u[f[h]];if(p||p===0||p==="")return p}},s.castOption=function(u,f){if(o.isArrayOrTypedArray(u))return s.getFirstFilled(u,f);if(u)return u},s.getRotationAngle=function(l){return(l==="auto"?0:l)*Math.PI/180}},9913:function(i,s,a){"use strict";i.exports={attributes:a(3031),supplyDefaults:a(6979).supplyDefaults,supplyLayoutDefaults:a(3464),layoutAttributes:a(4031),calc:a(4148).calc,crossTraceCalc:a(4148).crossTraceCalc,plot:a(5734).plot,style:a(140),styleOne:a(2891),moduleType:"trace",name:"pie",basePlotModule:a(6052),categories:["pie-like","pie","showLegend"],meta:{}}},4031:function(i){"use strict";i.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},3464:function(i,s,a){"use strict";var o=a(4809),c=a(4031);i.exports=function(u,f){function h(p,m){return o.coerce(u,f,c,p,m)}h("hiddenlabels"),h("piecolorway",f.colorway),h("extendpiecolors")}},5734:function(i,s,a){"use strict";var o=a(5568),c=a(4122),l=a(2141),u=a(8766),f=a(2203),h=a(4809),p=h.strScale,m=h.strTranslate,d=a(635),y=a(4102),x=y.recordMinTextSize,w=y.clearMinTextSize,L=a(6155).TEXTPAD,_=a(7252),D=a(568),C=a(4809).isValidTextValue;function z(ye,he){var P=ye._context.staticPlot,U=ye._fullLayout,ee=U._size;w("pie",U),T(he,ye),te(he,ee);var G=h.makeTraceGroups(U._pielayer,he,"trace").each(function(E){var K=o.select(this),R=E[0],ne=R.trace;be(E),K.attr("stroke-linejoin","round"),K.each(function(){var pe=o.select(this).selectAll("g.slice").data(E);pe.enter().append("g").classed("slice",!0),pe.exit().remove();var xe=[[[],[]],[[],[]]],we=!1;pe.each(function(Le,He){if(Le.hidden){o.select(this).selectAll("path,g").remove();return}Le.pointNumber=Le.i,Le.curveNumber=ne.index,xe[Le.pxmid[1]<0?0:1][Le.pxmid[0]<0?0:1].push(Le);var Ve=R.cx,qe=R.cy,vt=o.select(this),At=vt.selectAll("path.surface").data([Le]);if(At.enter().append("path").classed("surface",!0).style({"pointer-events":P?"none":"all"}),vt.call(S,ye,E),ne.pull){var Dt=+_.castOption(ne.pull,Le.pts)||0;Dt>0&&(Ve+=Dt*Le.pxmid[0],qe+=Dt*Le.pxmid[1])}Le.cxFinal=Ve,Le.cyFinal=qe;function bt(Yt,et,ct,gt){var _e=gt*(et[0]-Yt[0]),Be=gt*(et[1]-Yt[1]);return"a"+gt*R.r+","+gt*R.r+" 0 "+Le.largeArc+(ct?" 1 ":" 0 ")+_e+","+Be}var xt=ne.hole;if(Le.v===R.vTotal){var Et="M"+(Ve+Le.px0[0])+","+(qe+Le.px0[1])+bt(Le.px0,Le.pxmid,!0,1)+bt(Le.pxmid,Le.px0,!0,1)+"Z";xt?At.attr("d","M"+(Ve+xt*Le.px0[0])+","+(qe+xt*Le.px0[1])+bt(Le.px0,Le.pxmid,!1,xt)+bt(Le.pxmid,Le.px0,!1,xt)+"Z"+Et):At.attr("d",Et)}else{var pt=bt(Le.px0,Le.px1,!0,1);if(xt){var Rt=1-xt;At.attr("d","M"+(Ve+xt*Le.px1[0])+","+(qe+xt*Le.px1[1])+bt(Le.px1,Le.px0,!1,xt)+"l"+Rt*Le.px0[0]+","+Rt*Le.px0[1]+pt+"Z")}else At.attr("d","M"+Ve+","+qe+"l"+Le.px0[0]+","+Le.px0[1]+pt+"Z")}ze(ye,Le,R);var Wt=_.castOption(ne.textposition,Le.pts),Vt=vt.selectAll("g.slicetext").data(Le.text&&Wt!=="none"?[0]:[]);Vt.enter().append("g").classed("slicetext",!0),Vt.exit().remove(),Vt.each(function(){var Yt=h.ensureSingle(o.select(this),"text","",function(Re){Re.attr("data-notex",1)}),et=h.ensureUniformFontSize(ye,Wt==="outside"?M(ne,Le,U.font):I(ne,Le,U.font));Yt.text(Le.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(f.font,et).call(d.convertToTspans,ye);var ct=f.bBox(Yt.node()),gt;if(Wt==="outside")gt=ie(ct,Le);else if(gt=B(ct,Le,R),Wt==="auto"&&gt.scale<1){var _e=h.ensureUniformFontSize(ye,ne.outsidetextfont);Yt.call(f.font,_e),ct=f.bBox(Yt.node()),gt=ie(ct,Le)}var Be=gt.textPosAngle,ve=Be===void 0?Le.pxmid:Se(R.r,Be);if(gt.targetX=Ve+ve[0]*gt.rCenter+(gt.x||0),gt.targetY=qe+ve[1]*gt.rCenter+(gt.y||0),Te(gt,ct),gt.outside){var ge=gt.targetY;Le.yLabelMin=ge-ct.height/2,Le.yLabelMid=ge,Le.yLabelMax=ge+ct.height/2,Le.labelExtraX=0,Le.labelExtraY=0,we=!0}gt.fontSize=et.size,x(ne.type,gt,U),E[He].transform=gt,h.setTransormAndDisplay(Yt,gt)})});var Ee=o.select(this).selectAll("g.titletext").data(ne.title.text?[0]:[]);if(Ee.enter().append("g").classed("titletext",!0),Ee.exit().remove(),Ee.each(function(){var Le=h.ensureSingle(o.select(this),"text","",function(qe){qe.attr("data-notex",1)}),He=ne.title.text;ne._meta&&(He=h.templateString(He,ne._meta)),Le.text(He).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(f.font,ne.title.font).call(d.convertToTspans,ye);var Ve;ne.title.position==="middle center"?Ve=oe(R):Ve=V(R,ee),Le.attr("transform",m(Ve.x,Ve.y)+p(Math.min(1,Ve.scale))+m(Ve.tx,Ve.ty))}),we&&re(xe,ne),b(pe,ne),we&&ne.automargin){var Oe=f.bBox(K.node()),Ke=ne.domain,Je=ee.w*(Ke.x[1]-Ke.x[0]),rt=ee.h*(Ke.y[1]-Ke.y[0]),Me=(.5*Je-R.r)/ee.w,ke=(.5*rt-R.r)/ee.h;c.autoMargin(ye,"pie."+ne.uid+".automargin",{xl:Ke.x[0]-Me,xr:Ke.x[1]+Me,yb:Ke.y[0]-ke,yt:Ke.y[1]+ke,l:Math.max(R.cx-R.r-Oe.left,0),r:Math.max(Oe.right-(R.cx+R.r),0),b:Math.max(Oe.bottom-(R.cy+R.r),0),t:Math.max(R.cy-R.r-Oe.top,0),pad:5})}})});setTimeout(function(){G.selectAll("tspan").each(function(){var E=o.select(this);E.attr("dy")&&E.attr("dy",E.attr("dy"))})},0)}function b(ye,he){ye.each(function(P){var U=o.select(this);if(!P.labelExtraX&&!P.labelExtraY){U.select("path.textline").remove();return}var ee=U.select("g.slicetext text");P.transform.targetX+=P.labelExtraX,P.transform.targetY+=P.labelExtraY,h.setTransormAndDisplay(ee,P.transform);var G=P.cxFinal+P.pxmid[0],E=P.cyFinal+P.pxmid[1],K="M"+G+","+E,R=(P.yLabelMax-P.yLabelMin)*(P.pxmid[0]<0?-1:1)/4;if(P.labelExtraX){var ne=P.labelExtraX*P.pxmid[1]/P.pxmid[0],pe=P.yLabelMid+P.labelExtraY-(P.cyFinal+P.pxmid[1]);Math.abs(ne)>Math.abs(pe)?K+="l"+pe*P.pxmid[0]/P.pxmid[1]+","+pe+"H"+(G+P.labelExtraX+R):K+="l"+P.labelExtraX+","+ne+"v"+(pe-ne)+"h"+R}else K+="V"+(P.yLabelMid+P.labelExtraY)+"h"+R;h.ensureSingle(U,"path","textline").call(u.stroke,he.outsidetextfont.color).attr({"stroke-width":Math.min(2,he.outsidetextfont.size/8),d:K,fill:"none"})})}function S(ye,he,P){var U=P[0],ee=U.cx,G=U.cy,E=U.trace,K=E.type==="funnelarea";"_hasHoverLabel"in E||(E._hasHoverLabel=!1),"_hasHoverEvent"in E||(E._hasHoverEvent=!1),ye.on("mouseover",function(R){var ne=he._fullLayout,pe=he._fullData[E.index];if(!(he._dragging||ne.hovermode===!1)){var xe=pe.hoverinfo;if(Array.isArray(xe)&&(xe=l.castHoverinfo({hoverinfo:[_.castOption(xe,R.pts)],_module:E._module},ne,0)),xe==="all"&&(xe="label+text+value+percent+name"),pe.hovertemplate||xe!=="none"&&xe!=="skip"&&xe){var we=R.rInscribed||0,Ee=ee+R.pxmid[0]*(1-we),Oe=G+R.pxmid[1]*(1-we),Ke=ne.separators,Je=[];if(xe&&xe.indexOf("label")!==-1&&Je.push(R.label),R.text=_.castOption(pe.hovertext||pe.text,R.pts),xe&&xe.indexOf("text")!==-1){var rt=R.text;h.isValidTextValue(rt)&&Je.push(rt)}R.value=R.v,R.valueLabel=_.formatPieValue(R.v,Ke),xe&&xe.indexOf("value")!==-1&&Je.push(R.valueLabel),R.percent=R.v/U.vTotal,R.percentLabel=_.formatPiePercent(R.percent,Ke),xe&&xe.indexOf("percent")!==-1&&Je.push(R.percentLabel);var Me=pe.hoverlabel,ke=Me.font,Le=[];l.loneHover({trace:E,x0:Ee-we*U.r,x1:Ee+we*U.r,y:Oe,_x0:K?ee+R.TL[0]:Ee-we*U.r,_x1:K?ee+R.TR[0]:Ee+we*U.r,_y0:K?G+R.TL[1]:Oe-we*U.r,_y1:K?G+R.BL[1]:Oe+we*U.r,text:Je.join("<br>"),name:pe.hovertemplate||xe.indexOf("name")!==-1?pe.name:void 0,idealAlign:R.pxmid[0]<0?"left":"right",color:_.castOption(Me.bgcolor,R.pts)||R.color,borderColor:_.castOption(Me.bordercolor,R.pts),fontFamily:_.castOption(ke.family,R.pts),fontSize:_.castOption(ke.size,R.pts),fontColor:_.castOption(ke.color,R.pts),nameLength:_.castOption(Me.namelength,R.pts),textAlign:_.castOption(Me.align,R.pts),hovertemplate:_.castOption(pe.hovertemplate,R.pts),hovertemplateLabels:R,eventData:[D(R,pe)]},{container:ne._hoverlayer.node(),outerContainer:ne._paper.node(),gd:he,inOut_bbox:Le}),R.bbox=Le[0],E._hasHoverLabel=!0}E._hasHoverEvent=!0,he.emit("plotly_hover",{points:[D(R,pe)],event:o.event})}}),ye.on("mouseout",function(R){var ne=he._fullLayout,pe=he._fullData[E.index],xe=o.select(this).datum();E._hasHoverEvent&&(R.originalEvent=o.event,he.emit("plotly_unhover",{points:[D(xe,pe)],event:o.event}),E._hasHoverEvent=!1),E._hasHoverLabel&&(l.loneUnhover(ne._hoverlayer.node()),E._hasHoverLabel=!1)}),ye.on("click",function(R){var ne=he._fullLayout,pe=he._fullData[E.index];he._dragging||ne.hovermode===!1||(he._hoverdata=[D(R,pe)],l.click(he,o.event))})}function M(ye,he,P){var U=_.castOption(ye.outsidetextfont.color,he.pts)||_.castOption(ye.textfont.color,he.pts)||P.color,ee=_.castOption(ye.outsidetextfont.family,he.pts)||_.castOption(ye.textfont.family,he.pts)||P.family,G=_.castOption(ye.outsidetextfont.size,he.pts)||_.castOption(ye.textfont.size,he.pts)||P.size,E=_.castOption(ye.outsidetextfont.weight,he.pts)||_.castOption(ye.textfont.weight,he.pts)||P.weight,K=_.castOption(ye.outsidetextfont.style,he.pts)||_.castOption(ye.textfont.style,he.pts)||P.style,R=_.castOption(ye.outsidetextfont.variant,he.pts)||_.castOption(ye.textfont.variant,he.pts)||P.variant,ne=_.castOption(ye.outsidetextfont.textcase,he.pts)||_.castOption(ye.textfont.textcase,he.pts)||P.textcase,pe=_.castOption(ye.outsidetextfont.lineposition,he.pts)||_.castOption(ye.textfont.lineposition,he.pts)||P.lineposition,xe=_.castOption(ye.outsidetextfont.shadow,he.pts)||_.castOption(ye.textfont.shadow,he.pts)||P.shadow;return{color:U,family:ee,size:G,weight:E,style:K,variant:R,textcase:ne,lineposition:pe,shadow:xe}}function I(ye,he,P){var U=_.castOption(ye.insidetextfont.color,he.pts);!U&&ye._input.textfont&&(U=_.castOption(ye._input.textfont.color,he.pts));var ee=_.castOption(ye.insidetextfont.family,he.pts)||_.castOption(ye.textfont.family,he.pts)||P.family,G=_.castOption(ye.insidetextfont.size,he.pts)||_.castOption(ye.textfont.size,he.pts)||P.size,E=_.castOption(ye.insidetextfont.weight,he.pts)||_.castOption(ye.textfont.weight,he.pts)||P.weight,K=_.castOption(ye.insidetextfont.style,he.pts)||_.castOption(ye.textfont.style,he.pts)||P.style,R=_.castOption(ye.insidetextfont.variant,he.pts)||_.castOption(ye.textfont.variant,he.pts)||P.variant,ne=_.castOption(ye.insidetextfont.textcase,he.pts)||_.castOption(ye.textfont.textcase,he.pts)||P.textcase,pe=_.castOption(ye.insidetextfont.lineposition,he.pts)||_.castOption(ye.textfont.lineposition,he.pts)||P.lineposition,xe=_.castOption(ye.insidetextfont.shadow,he.pts)||_.castOption(ye.textfont.shadow,he.pts)||P.shadow;return{color:U||u.contrast(he.color),family:ee,size:G,weight:E,style:K,variant:R,textcase:ne,lineposition:pe,shadow:xe}}function T(ye,he){for(var P,U,ee=0;ee<ye.length;ee++)if(P=ye[ee][0],U=P.trace,U.title.text){var G=U.title.text;U._meta&&(G=h.templateString(G,U._meta));var E=f.tester.append("text").attr("data-notex",1).text(G).call(f.font,U.title.font).call(d.convertToTspans,he),K=f.bBox(E.node(),!0);P.titleBox={width:K.width,height:K.height},E.remove()}}function B(ye,he,P){var U=P.r||he.rpx1,ee=he.rInscribed,G=he.startangle===he.stopangle;if(G)return{rCenter:1-ee,scale:0,rotate:0,textPosAngle:0};var E=he.ring,K=E===1&&Math.abs(he.startangle-he.stopangle)===Math.PI*2,R=he.halfangle,ne=he.midangle,pe=P.trace.insidetextorientation,xe=pe==="horizontal",we=pe==="tangential",Ee=pe==="radial",Oe=pe==="auto",Ke=[],Je;if(!Oe){var rt=function(vt,At){if(H(he,vt)){var Dt=Math.abs(vt-he.startangle),bt=Math.abs(vt-he.stopangle),xt=Dt<bt?Dt:bt;At==="tan"?Je=$(ye,U,E,xt,0):Je=Z(ye,U,E,xt,Math.PI/2),Je.textPosAngle=vt,Ke.push(Je)}},Me;if(xe||we){for(Me=4;Me>=-4;Me-=2)rt(Math.PI*Me,"tan");for(Me=4;Me>=-4;Me-=2)rt(Math.PI*(Me+1),"tan")}if(xe||Ee){for(Me=4;Me>=-4;Me-=2)rt(Math.PI*(Me+1.5),"rad");for(Me=4;Me>=-4;Me-=2)rt(Math.PI*(Me+.5),"rad")}}if(K||Oe||xe){var ke=Math.sqrt(ye.width*ye.width+ye.height*ye.height);if(Je={scale:ee*U*2/ke,rCenter:1-ee,rotate:0},Je.textPosAngle=(he.startangle+he.stopangle)/2,Je.scale>=1)return Je;Ke.push(Je)}(Oe||Ee)&&(Je=Z(ye,U,E,R,ne),Je.textPosAngle=(he.startangle+he.stopangle)/2,Ke.push(Je)),(Oe||we)&&(Je=$(ye,U,E,R,ne),Je.textPosAngle=(he.startangle+he.stopangle)/2,Ke.push(Je));for(var Le=0,He=0,Ve=0;Ve<Ke.length;Ve++){var qe=Ke[Ve].scale;if(He<qe&&(He=qe,Le=Ve),!Oe&&He>=1)break}return Ke[Le]}function H(ye,he){var P=ye.startangle,U=ye.stopangle;return P>he&&he>U||P<he&&he<U}function Z(ye,he,P,U,ee){he=Math.max(0,he-2*L);var G=ye.width/ye.height,E=O(G,U,he,P);return{scale:E*2/ye.height,rCenter:N(G,E/he),rotate:j(ee)}}function $(ye,he,P,U,ee){he=Math.max(0,he-2*L);var G=ye.height/ye.width,E=O(G,U,he,P);return{scale:E*2/ye.width,rCenter:N(G,E/he),rotate:j(ee+Math.PI/2)}}function N(ye,he){return Math.cos(he)-ye*he}function j(ye){return(180/Math.PI*ye+720)%180-90}function O(ye,he,P,U){var ee=ye+1/(2*Math.tan(he));return P*Math.min(1/(Math.sqrt(ee*ee+.5)+ee),U/(Math.sqrt(ye*ye+U/2)+ye))}function X(ye,he){return ye.v===he.vTotal&&!he.trace.hole?1:Math.min(1/(1+1/Math.sin(ye.halfangle)),ye.ring/2)}function ie(ye,he){var P=he.pxmid[0],U=he.pxmid[1],ee=ye.width/2,G=ye.height/2;return P<0&&(ee*=-1),U<0&&(G*=-1),{scale:1,rCenter:1,rotate:0,x:ee+Math.abs(G)*(ee>0?1:-1)/2,y:G/(1+P*P/(U*U)),outside:!0}}function oe(ye){var he=Math.sqrt(ye.titleBox.width*ye.titleBox.width+ye.titleBox.height*ye.titleBox.height);return{x:ye.cx,y:ye.cy,scale:ye.trace.hole*ye.r*2/he,tx:0,ty:-ye.titleBox.height/2+ye.trace.title.font.size}}function V(ye,he){var P=1,U=1,ee,G=ye.trace,E={x:ye.cx,y:ye.cy},K={tx:0,ty:0};K.ty+=G.title.font.size,ee=Q(G),G.title.position.indexOf("top")!==-1?(E.y-=(1+ee)*ye.r,K.ty-=ye.titleBox.height):G.title.position.indexOf("bottom")!==-1&&(E.y+=(1+ee)*ye.r);var R=W(ye.r,ye.trace.aspectratio),ne=he.w*(G.domain.x[1]-G.domain.x[0])/2;return G.title.position.indexOf("left")!==-1?(ne=ne+R,E.x-=(1+ee)*R,K.tx+=ye.titleBox.width/2):G.title.position.indexOf("center")!==-1?ne*=2:G.title.position.indexOf("right")!==-1&&(ne=ne+R,E.x+=(1+ee)*R,K.tx-=ye.titleBox.width/2),P=ne/ye.titleBox.width,U=Y(ye,he)/ye.titleBox.height,{x:E.x,y:E.y,scale:Math.min(P,U),tx:K.tx,ty:K.ty}}function W(ye,he){return ye/(he===void 0?1:he)}function Y(ye,he){var P=ye.trace,U=he.h*(P.domain.y[1]-P.domain.y[0]);return Math.min(ye.titleBox.height,U/2)}function Q(ye){var he=ye.pull;if(!he)return 0;var P;if(h.isArrayOrTypedArray(he))for(he=0,P=0;P<ye.pull.length;P++)ye.pull[P]>he&&(he=ye.pull[P]);return he}function re(ye,he){var P,U,ee,G,E,K,R,ne,pe,xe,we,Ee,Oe;function Ke(ke,Le){return ke.pxmid[1]-Le.pxmid[1]}function Je(ke,Le){return Le.pxmid[1]-ke.pxmid[1]}function rt(ke,Le){Le||(Le={});var He=Le.labelExtraY+(U?Le.yLabelMax:Le.yLabelMin),Ve=U?ke.yLabelMin:ke.yLabelMax,qe=U?ke.yLabelMax:ke.yLabelMin,vt=ke.cyFinal+E(ke.px0[1],ke.px1[1]),At=He-Ve,Dt,bt,xt,Et,pt,Rt;if(At*R>0&&(ke.labelExtraY=At),!!h.isArrayOrTypedArray(he.pull))for(bt=0;bt<xe.length;bt++)xt=xe[bt],!(xt===ke||(_.castOption(he.pull,ke.pts)||0)>=(_.castOption(he.pull,xt.pts)||0))&&((ke.pxmid[1]-xt.pxmid[1])*R>0?(Et=xt.cyFinal+E(xt.px0[1],xt.px1[1]),At=Et-Ve-ke.labelExtraY,At*R>0&&(ke.labelExtraY+=At)):(qe+ke.labelExtraY-vt)*R>0&&(Dt=3*K*Math.abs(bt-xe.indexOf(ke)),pt=xt.cxFinal+G(xt.px0[0],xt.px1[0]),Rt=pt+Dt-(ke.cxFinal+ke.pxmid[0])-ke.labelExtraX,Rt*K>0&&(ke.labelExtraX+=Rt)))}for(U=0;U<2;U++)for(ee=U?Ke:Je,E=U?Math.max:Math.min,R=U?1:-1,P=0;P<2;P++){for(G=P?Math.max:Math.min,K=P?1:-1,ne=ye[U][P],ne.sort(ee),pe=ye[1-U][P],xe=pe.concat(ne),Ee=[],we=0;we<ne.length;we++)ne[we].yLabelMid!==void 0&&Ee.push(ne[we]);for(Oe=!1,we=0;U&&we<pe.length;we++)if(pe[we].yLabelMid!==void 0){Oe=pe[we];break}for(we=0;we<Ee.length;we++){var Me=we&&Ee[we-1];Oe&&!we&&(Me=Oe),rt(Ee[we],Me)}}}function te(ye,he){for(var P=[],U=0;U<ye.length;U++){var ee=ye[U][0],G=ee.trace,E=G.domain,K=he.w*(E.x[1]-E.x[0]),R=he.h*(E.y[1]-E.y[0]);G.title.text&&G.title.position!=="middle center"&&(R-=Y(ee,he));var ne=K/2,pe=R/2;G.type==="funnelarea"&&!G.scalegroup&&(pe/=G.aspectratio),ee.r=Math.min(ne,pe)/(1+Q(G)),ee.cx=he.l+he.w*(G.domain.x[1]+G.domain.x[0])/2,ee.cy=he.t+he.h*(1-G.domain.y[0])-R/2,G.title.text&&G.title.position.indexOf("bottom")!==-1&&(ee.cy-=Y(ee,he)),G.scalegroup&&P.indexOf(G.scalegroup)===-1&&P.push(G.scalegroup)}le(ye,P)}function le(ye,he){for(var P,U,ee,G=0;G<he.length;G++){var E=1/0,K=he[G];for(U=0;U<ye.length;U++)if(P=ye[U][0],ee=P.trace,ee.scalegroup===K){var R;if(ee.type==="pie")R=P.r*P.r;else if(ee.type==="funnelarea"){var ne,pe;ee.aspectratio>1?(ne=P.r,pe=ne/ee.aspectratio):(pe=P.r,ne=pe*ee.aspectratio),ne*=(1+ee.baseratio)/2,R=ne*pe}E=Math.min(E,R/P.vTotal)}for(U=0;U<ye.length;U++)if(P=ye[U][0],ee=P.trace,ee.scalegroup===K){var xe=E*P.vTotal;ee.type==="funnelarea"&&(xe/=(1+ee.baseratio)/2,xe/=ee.aspectratio),P.r=Math.sqrt(xe)}}}function be(ye){var he=ye[0],P=he.r,U=he.trace,ee=_.getRotationAngle(U.rotation),G=2*Math.PI/he.vTotal,E="px0",K="px1",R,ne,pe;if(U.direction==="counterclockwise"){for(R=0;R<ye.length&&ye[R].hidden;R++);if(R===ye.length)return;ee+=G*ye[R].v,G*=-1,E="px1",K="px0"}for(pe=Se(P,ee),R=0;R<ye.length;R++)ne=ye[R],!ne.hidden&&(ne[E]=pe,ne.startangle=ee,ee+=G*ne.v/2,ne.pxmid=Se(P,ee),ne.midangle=ee,ee+=G*ne.v/2,pe=Se(P,ee),ne.stopangle=ee,ne[K]=pe,ne.largeArc=ne.v>he.vTotal/2?1:0,ne.halfangle=Math.PI*Math.min(ne.v/he.vTotal,.5),ne.ring=1-U.hole,ne.rInscribed=X(ne,he))}function Se(ye,he){return[ye*Math.sin(he),-ye*Math.cos(he)]}function ze(ye,he,P){var U=ye._fullLayout,ee=P.trace,G=ee.texttemplate,E=ee.textinfo;if(!G&&E&&E!=="none"){var K=E.split("+"),R=function(Le){return K.indexOf(Le)!==-1},ne=R("label"),pe=R("text"),xe=R("value"),we=R("percent"),Ee=U.separators,Oe;if(Oe=ne?[he.label]:[],pe){var Ke=_.getFirstFilled(ee.text,he.pts);C(Ke)&&Oe.push(Ke)}xe&&Oe.push(_.formatPieValue(he.v,Ee)),we&&Oe.push(_.formatPiePercent(he.v/P.vTotal,Ee)),he.text=Oe.join("<br>")}function Je(Le){return{label:Le.label,value:Le.v,valueLabel:_.formatPieValue(Le.v,U.separators),percent:Le.v/P.vTotal,percentLabel:_.formatPiePercent(Le.v/P.vTotal,U.separators),color:Le.color,text:Le.text,customdata:h.castOption(ee,Le.i,"customdata")}}if(G){var rt=h.castOption(ee,he.i,"texttemplate");if(!rt)he.text="";else{var Me=Je(he),ke=_.getFirstFilled(ee.text,he.pts);(C(ke)||ke==="")&&(Me.text=ke),he.text=h.texttemplateString(rt,Me,ye._fullLayout._d3locale,Me,ee._meta||{})}}}function Te(ye,he){var P=ye.rotate*Math.PI/180,U=Math.cos(P),ee=Math.sin(P),G=(he.left+he.right)/2,E=(he.top+he.bottom)/2;ye.textX=G*U-E*ee,ye.textY=G*ee+E*U,ye.noCenter=!0}i.exports={plot:z,formatSliceLabel:ze,transformInsideText:B,determineInsideTextFont:I,positionTitleOutside:V,prerenderTitles:T,layoutAreas:te,attachFxHandlers:S,computeTransform:Te}},140:function(i,s,a){"use strict";var o=a(5568),c=a(2891),l=a(4102).resizeText;i.exports=function(f){var h=f._fullLayout._pielayer.selectAll(".trace");l(f,h,"pie"),h.each(function(p){var m=p[0],d=m.trace,y=o.select(this);y.style({opacity:d.opacity}),y.selectAll("path.surface").each(function(x){o.select(this).call(c,x,d,f)})})}},2891:function(i,s,a){"use strict";var o=a(8766),c=a(7252).castOption,l=a(5067);i.exports=function(f,h,p,m){var d=p.marker.line,y=c(d.color,h.pts)||o.defaultLine,x=c(d.width,h.pts)||0;f.call(l,h,p,m).style("stroke-width",x).call(o.stroke,y)}},9203:function(i,s,a){"use strict";var o=a(4809);i.exports=function(l,u){for(var f=0;f<l.length;f++)l[f].i=f;o.mergeArray(u.text,l,"tx"),o.mergeArray(u.texttemplate,l,"txt"),o.mergeArray(u.hovertext,l,"htx"),o.mergeArray(u.customdata,l,"data"),o.mergeArray(u.textposition,l,"tp"),u.textfont&&(o.mergeArrayCastPositive(u.textfont.size,l,"ts"),o.mergeArray(u.textfont.color,l,"tc"),o.mergeArray(u.textfont.family,l,"tf"),o.mergeArray(u.textfont.weight,l,"tw"),o.mergeArray(u.textfont.style,l,"ty"),o.mergeArray(u.textfont.variant,l,"tv"),o.mergeArray(u.textfont.textcase,l,"tC"),o.mergeArray(u.textfont.lineposition,l,"tE"),o.mergeArray(u.textfont.shadow,l,"tS"));var h=u.marker;if(h){o.mergeArrayCastPositive(h.size,l,"ms"),o.mergeArrayCastPositive(h.opacity,l,"mo"),o.mergeArray(h.symbol,l,"mx"),o.mergeArray(h.angle,l,"ma"),o.mergeArray(h.standoff,l,"mf"),o.mergeArray(h.color,l,"mc");var p=h.line;h.line&&(o.mergeArray(p.color,l,"mlc"),o.mergeArrayCastPositive(p.width,l,"mlw"));var m=h.gradient;m&&m.type!=="none"&&(o.mergeArray(m.type,l,"mgt"),o.mergeArray(m.color,l,"mgc"))}}},6640:function(i,s,a){"use strict";var o=a(712).axisHoverFormat,c=a(3208).ay,l=a(3208).rb,u=a(7163),f=a(337),h=a(4850).T,p=a(4850).k,m=a(2203),d=a(2660),y=a(3049).extendFlat,x=a(9326);function w(D){return{valType:"any",dflt:0,editType:"calc"}}function L(D){return{valType:"any",editType:"calc"}}function _(D){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}i.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:w("x"),yperiod:w("y"),xperiod0:L("x0"),yperiod0:L("y0"),xperiodalignment:_("x"),yperiodalignment:_("y"),xhoverformat:o("x"),yhoverformat:o("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:c({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:l({},{keys:d.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:y({},h,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:x(!0),fillgradient:y({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:p,marker:y({symbol:{valType:"enumerated",values:m.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:y({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},u("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},u("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:f({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}},6544:function(i,s,a){"use strict";var o=a(721),c=a(4809),l=a(9714),u=a(528),f=a(3821).BADNUM,h=a(4726),p=a(7272),m=a(9203),d=a(8861);function y(C,z){var b=C._fullLayout,S=z._xA=l.getFromId(C,z.xaxis||"x","x"),M=z._yA=l.getFromId(C,z.yaxis||"y","y"),I=S.makeCalcdata(z,"x"),T=M.makeCalcdata(z,"y"),B=u(z,S,"x",I),H=u(z,M,"y",T),Z=B.vals,$=H.vals,N=z._length,j=new Array(N),O=z.ids,X=D(z,b,S,M),ie=!1,oe,V,W,Y,Q,re;L(b,z);var te="x",le="y",be;if(X)c.pushUnique(X.traceIndices,z._expandedIndex),oe=X.orientation==="v",oe?(le="s",be="x"):(te="s",be="y"),Q=X.stackgaps==="interpolate";else{var Se=w(z,N);x(C,z,S,M,Z,$,Se)}var ze=!!z.xperiodalignment,Te=!!z.yperiodalignment;for(V=0;V<N;V++){var ye=j[V]={},he=o(Z[V]),P=o($[V]);he&&P?(ye[te]=Z[V],ye[le]=$[V],ze&&(ye.orig_x=I[V],ye.xEnd=B.ends[V],ye.xStart=B.starts[V]),Te&&(ye.orig_y=T[V],ye.yEnd=H.ends[V],ye.yStart=H.starts[V])):X&&(oe?he:P)?(ye[be]=oe?Z[V]:$[V],ye.gap=!0,Q?(ye.s=f,ie=!0):ye.s=0):ye[te]=ye[le]=f,O&&(ye.id=String(O[V]))}if(m(j,z),p(C,z),d(j,z),X){for(V=0;V<j.length;)j[V][be]===f?j.splice(V,1):V++;if(c.sort(j,function(E,K){return E[be]-K[be]||E.i-K.i}),ie){for(V=0;V<j.length-1&&j[V].gap;)V++;for(re=j[V].s,re||(re=j[V].s=0),W=0;W<V;W++)j[W].s=re;for(Y=j.length-1;Y>V&&j[Y].gap;)Y--;for(re=j[Y].s,W=j.length-1;W>Y;W--)j[W].s=re;for(;V<Y;)if(V++,j[V].gap){for(W=V+1;j[W].gap;)W++;for(var U=j[V-1][be],ee=j[V-1].s,G=(j[W].s-ee)/(j[W][be]-U);V<W;)j[V].s=ee+(j[V][be]-U)*G,V++}}}return j}function x(C,z,b,S,M,I,T){var B=z._length,H=C._fullLayout,Z=b._id,$=S._id,N=H._firstScatter[_(z)]===z.uid,j=(D(z,H,b,S)||{}).orientation,O=z.fill;b._minDtick=0,S._minDtick=0;var X={padded:!0},ie={padded:!0};T&&(X.ppad=ie.ppad=T);var oe=B<2||M[0]!==M[B-1]||I[0]!==I[B-1];oe&&(O==="tozerox"||O==="tonextx"&&(N||j==="h"))?X.tozero=!0:!(z.error_y||{}).visible&&(O==="tonexty"||O==="tozeroy"||!h.hasMarkers(z)&&!h.hasText(z))&&(X.padded=!1,X.ppad=0),oe&&(O==="tozeroy"||O==="tonexty"&&(N||j==="v"))?ie.tozero=!0:(O==="tonextx"||O==="tozerox")&&(ie.padded=!1),Z&&(z._extremes[Z]=l.findExtremes(b,M,X)),$&&(z._extremes[$]=l.findExtremes(S,I,ie))}function w(C,z){if(h.hasMarkers(C)){var b=C.marker,S=1.6*(C.marker.sizeref||1),M;if(C.marker.sizemode==="area"?M=function(Z){return Math.max(Math.sqrt((Z||0)/S),3)}:M=function(Z){return Math.max((Z||0)/S,3)},c.isArrayOrTypedArray(b.size)){var I={type:"linear"};l.setConvert(I);for(var T=I.makeCalcdata(C.marker,"size"),B=new Array(z),H=0;H<z;H++)B[H]=M(T[H]);return B}else return M(b.size)}}function L(C,z){var b=_(z),S=C._firstScatter;S[b]||(S[b]=z.uid)}function _(C){var z=C.stackgroup;return C.xaxis+C.yaxis+C.type+(z?"-"+z:"")}function D(C,z,b,S){var M=C.stackgroup;if(M){var I=z._scatterStackOpts[b._id+S._id][M],T=I.orientation==="v"?S:b;if(T.type==="linear"||T.type==="log")return I}}i.exports={calc:y,calcMarkerSize:w,calcAxisExpansion:x,setFirstScatter:L,getStackOpts:D}},8861:function(i,s,a){"use strict";var o=a(4809);i.exports=function(l,u){o.isArrayOrTypedArray(u.selectedpoints)&&o.tagSelected(l,u)}},7272:function(i,s,a){"use strict";var o=a(5477).hasColorscale,c=a(8379),l=a(4726);i.exports=function(f,h){l.hasLines(h)&&o(h,"line")&&c(f,h,{vals:h.line.color,containerStr:"line",cLetter:"c"}),l.hasMarkers(h)&&(o(h,"marker")&&c(f,h,{vals:h.marker.color,containerStr:"marker",cLetter:"c"}),o(h,"marker.line")&&c(f,h,{vals:h.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},2660:function(i){"use strict";i.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},5603:function(i,s,a){"use strict";var o=a(6544),c=a(4782).setGroupPositions;function l(h,p){for(var m=p.xaxis,d=p.yaxis,y=h._fullLayout,x=h._fullData,w=h.calcdata,L=[],_=[],D=0;D<x.length;D++){var C=x[D];C.visible===!0&&C.type==="scatter"&&C.xaxis===m._id&&C.yaxis===d._id&&(C.orientation==="h"?L.push(w[D]):C.orientation==="v"&&_.push(w[D]))}var z={mode:y.scattermode,gap:y.scattergap};c(h,m,d,_,z),c(h,d,m,L,z)}i.exports=function(p,m){p._fullLayout.scattermode==="group"&&l(p,m);var d=m.xaxis,y=m.yaxis,x=d._id+y._id,w=p._fullLayout._scatterStackOpts[x];if(w){var L=p.calcdata,_,D,C,z,b,S,M,I,T,B,H,Z,$,N,j;for(var O in w){B=w[O];var X=B.traceIndices;if(X.length){for(H=B.stackgaps==="interpolate",Z=B.groupnorm,B.orientation==="v"?($="x",N="y"):($="y",N="x"),j=new Array(X.length),_=0;_<j.length;_++)j[_]=!1;S=L[X[0]];var ie=new Array(S.length);for(_=0;_<S.length;_++)ie[_]=S[_][$];for(_=1;_<X.length;_++){for(b=L[X[_]],D=C=0;D<b.length;D++){for(M=b[D][$];M>ie[C]&&C<ie.length;C++)u(b,D,ie[C],_,j,H,$),D++;if(M!==ie[C]){for(z=0;z<_;z++)u(L[X[z]],C,M,z,j,H,$);ie.splice(C,0,M)}C++}for(;C<ie.length;C++)u(b,D,ie[C],_,j,H,$),D++}var oe=ie.length;for(D=0;D<S.length;D++){for(I=S[D][N]=S[D].s,_=1;_<X.length;_++)b=L[X[_]],b[0].trace._rawLength=b[0].trace._length,b[0].trace._length=oe,I+=b[D].s,b[D][N]=I;if(Z)for(T=(Z==="fraction"?I:I/100)||1,_=0;_<X.length;_++){var V=L[X[_]][D];V[N]/=T,V.sNorm=V.s/T}}for(_=0;_<X.length;_++){b=L[X[_]];var W=b[0].trace,Y=o.calcMarkerSize(W,W._rawLength),Q=Array.isArray(Y);if(Y&&j[_]||Q){var re=Y;for(Y=new Array(oe),D=0;D<oe;D++)Y[D]=b[D].gap?0:Q?re[b[D].i]:re}var te=new Array(oe),le=new Array(oe);for(D=0;D<oe;D++)te[D]=b[D].x,le[D]=b[D].y;o.calcAxisExpansion(p,W,d,y,te,le,Y),b[0].t.orientation=B.orientation}}}}};function u(h,p,m,d,y,x,w){y[d]=!0;var L={i:null,gap:!0,s:0};if(L[w]=m,h.splice(p,0,L),p&&m===h[p-1][w]){var _=h[p-1];L.s=_.s,L.i=_.i,L.gap=_.gap}else x&&(L.s=f(h,p,m,w));p||(h[0].t=h[1].t,h[0].trace=h[1].trace,delete h[1].t,delete h[1].trace)}function f(h,p,m,d){var y=h[p-1],x=h[p+1];return x?y?y.s+(x.s-y.s)*(m-y[d])/(x[d]-y[d]):x.s:y.s}},3044:function(i,s,a){"use strict";var o=a(4809),c=a(6301),l=a(6640);i.exports=function(f,h){var p,m,d;function y(D){return o.coerce(m._input,m,l,D)}if(h.scattermode==="group")for(d=0;d<f.length;d++)m=f[d],m.type==="scatter"&&(p=m._input,c(p,m,h,y));for(d=0;d<f.length;d++){var x=f[d];if(x.type==="scatter"){var w=x.fill;if(!(w==="none"||w==="toself")&&(x.opacity=void 0,w==="tonexty"||w==="tonextx"))for(var L=d-1;L>=0;L--){var _=f[L];if(_.type==="scatter"&&_.xaxis===x.xaxis&&_.yaxis===x.yaxis){_.opacity=void 0;break}}}}}},247:function(i,s,a){"use strict";var o=a(4809),c=a(3626),l=a(6640),u=a(2660),f=a(4726),h=a(9867),p=a(9669),m=a(382),d=a(4272),y=a(8168),x=a(1602),w=a(663),L=a(4114),_=a(4809).coercePattern;i.exports=function(C,z,b,S){function M(j,O){return o.coerce(C,z,l,j,O)}var I=h(C,z,S,M);if(I||(z.visible=!1),!!z.visible){p(C,z,S,M),M("xhoverformat"),M("yhoverformat"),M("zorder");var T=m(C,z,S,M);S.scattermode==="group"&&z.orientation===void 0&&M("orientation","v");var B=!T&&I<u.PTS_LINESONLY?"lines+markers":"lines";M("text"),M("hovertext"),M("mode",B),f.hasMarkers(z)&&d(C,z,b,S,M,{gradient:!0}),f.hasLines(z)&&(y(C,z,b,S,M,{backoff:!0}),x(C,z,M),M("connectgaps"),M("line.simplify")),f.hasText(z)&&(M("texttemplate"),w(C,z,S,M));var H=[];(f.hasMarkers(z)||f.hasText(z))&&(M("cliponaxis"),M("marker.maxdisplayed"),H.push("points")),M("fill",T?T.fillDflt:"none"),z.fill!=="none"&&(L(C,z,b,M,{moduleHasFillgradient:!0}),f.hasLines(z)||x(C,z,M),_(M,"fillpattern",z.fillcolor,!1));var Z=(z.line||{}).color,$=(z.marker||{}).color;(z.fill==="tonext"||z.fill==="toself")&&H.push("fills"),M("hoveron",H.join("+")||"points"),z.hoveron!=="fills"&&M("hovertemplate");var N=c.getComponentMethod("errorbars","supplyDefaults");N(C,z,Z||$||b,{axis:"y"}),N(C,z,Z||$||b,{axis:"x",inherit:"y"}),o.coerceSelectionMarkerOpacity(z,M)}}},9326:function(i){"use strict";i.exports=function(a){return{valType:"color",editType:"style",anim:!0}}},4114:function(i,s,a){"use strict";var o=a(8766),c=a(4809).isArrayOrTypedArray;function l(u){for(var f=o.interpolate(u[0][1],u[1][1],.5),h=2;h<u.length;h++){var p=o.interpolate(u[h-1][1],u[h][1],.5);f=o.interpolate(f,p,u[h-1][0]/u[h][0])}return f}i.exports=function(f,h,p,m,d){d||(d={});var y=!1;if(h.marker){var x=h.marker.color,w=(h.marker.line||{}).color;x&&!c(x)?y=x:w&&!c(w)&&(y=w)}var L;if(d.moduleHasFillgradient){var _=m("fillgradient.type");if(_!=="none"){m("fillgradient.start"),m("fillgradient.stop");var D=m("fillgradient.colorscale");D&&(L=l(D))}}m("fillcolor",o.addOpacity((h.line||{}).color||y||L||p,.5))}},5294:function(i,s,a){"use strict";var o=a(9714);i.exports=function(l,u,f){var h={},p={_fullLayout:f},m=o.getFromTrace(p,u,"x"),d=o.getFromTrace(p,u,"y"),y=l.orig_x;y===void 0&&(y=l.x);var x=l.orig_y;return x===void 0&&(x=l.y),h.xLabel=o.tickText(m,m.c2l(y),!0).text,h.yLabel=o.tickText(d,d.c2l(x),!0).text,h}},1539:function(i,s,a){"use strict";var o=a(8766),c=a(4726);i.exports=function(u,f){var h,p;if(u.mode==="lines")return h=u.line.color,h&&o.opacity(h)?h:u.fillcolor;if(u.mode==="none")return u.fill?u.fillcolor:"";var m=f.mcc||(u.marker||{}).color,d=f.mlcc||((u.marker||{}).line||{}).color;return p=m&&o.opacity(m)?m:d&&o.opacity(d)&&(f.mlw||((u.marker||{}).line||{}).width)?d:"",p?o.opacity(p)<.3?o.addOpacity(p,.3):p:(h=(u.line||{}).color,h&&o.opacity(h)&&c.hasLines(u)&&u.line.width?h:u.fillcolor)}},6301:function(i,s,a){"use strict";var o=a(4391).getAxisGroup;i.exports=function(l,u,f,h){var p=u.orientation,m=u[{v:"x",h:"y"}[p]+"axis"],d=o(f,m)+p,y=f._alignmentOpts||{},x=h("alignmentgroup"),w=y[d];w||(w=y[d]={});var L=w[x];L?L.traces.push(u):L=w[x]={traces:[u],alignmentIndex:Object.keys(w).length,offsetGroups:{}};var _=h("offsetgroup"),D=L.offsetGroups,C=D[_];_&&(C||(C=D[_]={offsetIndex:Object.keys(D).length}),u._offsetIndex=C.offsetIndex)}},7255:function(i,s,a){"use strict";var o=a(4809),c=a(2141),l=a(3626),u=a(1539),f=a(8766),h=o.fillText;i.exports=function(m,d,y,x){var w=m.cd,L=w[0].trace,_=m.xa,D=m.ya,C=_.c2p(d),z=D.c2p(y),b=[C,z],S=L.hoveron||"",M=L.mode.indexOf("markers")!==-1?3:.5,I=!!L.xperiodalignment,T=!!L.yperiodalignment;if(S.indexOf("points")!==-1){var B=function(be){if(I){var Se=_.c2p(be.xStart),ze=_.c2p(be.xEnd);return C>=Math.min(Se,ze)&&C<=Math.max(Se,ze)?0:1/0}var Te=Math.max(3,be.mrc||0),ye=1-1/Te,he=Math.abs(_.c2p(be.x)-C);return he<Te?ye*he/Te:he-Te+ye},H=function(be){if(T){var Se=D.c2p(be.yStart),ze=D.c2p(be.yEnd);return z>=Math.min(Se,ze)&&z<=Math.max(Se,ze)?0:1/0}var Te=Math.max(3,be.mrc||0),ye=1-1/Te,he=Math.abs(D.c2p(be.y)-z);return he<Te?ye*he/Te:he-Te+ye},Z=function(be){var Se=Math.max(M,be.mrc||0),ze=_.c2p(be.x)-C,Te=D.c2p(be.y)-z;return Math.max(Math.sqrt(ze*ze+Te*Te)-Se,1-M/Se)},$=c.getDistanceFunction(x,B,H,Z);if(c.getClosest(w,$,m),m.index!==!1){var N=w[m.index],j=_.c2p(N.x,!0),O=D.c2p(N.y,!0),X=N.mrc||1;m.index=N.i;var ie=w[0].t.orientation,oe=ie&&(N.sNorm||N.s),V=ie==="h"?oe:N.orig_x!==void 0?N.orig_x:N.x,W=ie==="v"?oe:N.orig_y!==void 0?N.orig_y:N.y;return o.extendFlat(m,{color:u(L,N),x0:j-X,x1:j+X,xLabelVal:V,y0:O-X,y1:O+X,yLabelVal:W,spikeDistance:Z(N),hovertemplate:L.hovertemplate}),h(N,L,m),l.getComponentMethod("errorbars","hoverInfo")(N,L,m),[m]}}function Y(be){if(!be)return!1;var Se=be.node();try{var ze=new DOMPoint(b[0],b[1]);return Se.isPointInFill(ze)}catch{var Te=Se.ownerSVGElement.createSVGPoint();return Te.x=b[0],Te.y=b[1],Se.isPointInFill(Te)}}function Q(be){var Se,ze=[],Te=1/0,ye=-1/0,he=1/0,P=-1/0,U;for(Se=0;Se<be.length;Se++){var ee=be[Se];ee.contains(b)&&(ze.push(ee),he=Math.min(he,ee.ymin),P=Math.max(P,ee.ymax))}if(ze.length===0)return null;he=Math.max(he,0),P=Math.min(P,D._length),U=(he+P)/2;var G,E,K,R,ne,pe,xe;for(Se=0;Se<ze.length;Se++)for(E=ze[Se].pts,G=1;G<E.length;G++)pe=E[G-1][1],xe=E[G][1],pe>U!=xe>=U&&(R=E[G-1][0],ne=E[G][0],xe-pe&&(K=R+(ne-R)*(U-pe)/(xe-pe),Te=Math.min(Te,K),ye=Math.max(ye,K)));return Te=Math.max(Te,0),ye=Math.min(ye,_._length),{x0:Te,x1:ye,y0:U,y1:U}}if(S.indexOf("fills")!==-1&&L._fillElement){var re=Y(L._fillElement)&&!Y(L._fillExclusionElement);if(re){var te=Q(L._polygons);te===null&&(te={x0:b[0],x1:b[0],y0:b[1],y1:b[1]});var le=f.defaultLine;return f.opacity(L.fillcolor)?le=L.fillcolor:f.opacity((L.line||{}).color)&&(le=L.line.color),o.extendFlat(m,{distance:m.maxHoverDistance,x0:te.x0,x1:te.x1,y0:te.y0,y1:te.y1,color:le,hovertemplate:!1}),delete m.index,L.text&&!o.isArrayOrTypedArray(L.text)?m.text=String(L.text):m.text=L.name,[m]}}}},9693:function(i,s,a){"use strict";var o=a(4726);i.exports={hasLines:o.hasLines,hasMarkers:o.hasMarkers,hasText:o.hasText,isBubble:o.isBubble,attributes:a(6640),layoutAttributes:a(6667),supplyDefaults:a(247),crossTraceDefaults:a(3044),supplyLayoutDefaults:a(2332),calc:a(6544).calc,crossTraceCalc:a(5603),arraysToCalcdata:a(9203),plot:a(6098),colorbar:a(1146),formatLabels:a(5294),style:a(9408).style,styleOnSelect:a(9408).styleOnSelect,hoverPoints:a(7255),selectPoints:a(2665),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:a(84),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},6667:function(i){"use strict";i.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},2332:function(i,s,a){"use strict";var o=a(4809),c=a(6667);i.exports=function(l,u){function f(p,m){return o.coerce(l,u,c,p,m)}var h=u.barmode==="group";u.scattermode==="group"&&f("scattergap",h?u.bargap:.2)}},8168:function(i,s,a){"use strict";var o=a(4809).isArrayOrTypedArray,c=a(5477).hasColorscale,l=a(9356);i.exports=function(f,h,p,m,d,y){y||(y={});var x=(f.marker||{}).color;if(x&&x._inputArray&&(x=x._inputArray),d("line.color",p),c(f,"line"))l(f,h,m,d,{prefix:"line.",cLetter:"c"});else{var w=(o(x)?!1:x)||p;d("line.color",w)}d("line.width"),y.noDash||d("line.dash"),y.backoff&&d("line.backoff")}},5525:function(i,s,a){"use strict";var o=a(2203),c=a(3821),l=c.BADNUM,u=c.LOG_CLIP,f=u+.5,h=u-.5,p=a(4809),m=p.segmentsIntersect,d=p.constrain,y=a(2660);i.exports=function(w,L){var _=L.trace||{},D=L.xaxis,C=L.yaxis,z=D.type==="log",b=C.type==="log",S=D._length,M=C._length,I=L.backoff,T=_.marker,B=L.connectGaps,H=L.baseTolerance,Z=L.shape,$=Z==="linear",N=_.fill&&_.fill!=="none",j=[],O=y.minTolerance,X=w.length,ie=new Array(X),oe=0,V,W,Y,Q,re,te,le,be,Se,ze,Te,ye,he,P,U,ee;function G(Ue){var We=w[Ue];if(!We)return!1;var St=L.linearized?D.l2p(We.x):D.c2p(We.x),Mt=L.linearized?C.l2p(We.y):C.c2p(We.y);if(St===l){if(z&&(St=D.c2p(We.x,!0)),St===l)return!1;b&&Mt===l&&(St*=Math.abs(D._m*M*(D._m>0?f:h)/(C._m*S*(C._m>0?f:h)))),St*=1e3}if(Mt===l){if(b&&(Mt=C.c2p(We.y,!0)),Mt===l)return!1;Mt*=1e3}return[St,Mt]}function E(Ue,We,St,Mt){var ot=St-Ue,Xe=Mt-We,_t=.5-Ue,Xt=.5-We,sn=ot*ot+Xe*Xe,pn=ot*_t+Xe*Xt;if(pn>0&&pn<sn){var An=_t*Xe-Xt*ot;if(An*An<sn)return!0}}var K,R;function ne(Ue,We){var St=Ue[0]/S,Mt=Ue[1]/M,ot=Math.max(0,-St,St-1,-Mt,Mt-1);return ot&&K!==void 0&&E(St,Mt,K,R)&&(ot=0),ot&&We&&E(St,Mt,We[0]/S,We[1]/M)&&(ot=0),(1+y.toleranceGrowth*ot)*H}function pe(Ue,We){var St=Ue[0]-We[0],Mt=Ue[1]-We[1];return Math.sqrt(St*St+Mt*Mt)}var xe=y.maxScreensAway,we=-S*xe,Ee=S*(1+xe),Oe=-M*xe,Ke=M*(1+xe),Je=[[we,Oe,Ee,Oe],[Ee,Oe,Ee,Ke],[Ee,Ke,we,Ke],[we,Ke,we,Oe]],rt,Me,ke,Le,He,Ve;function qe(Ue,We){for(var St=[],Mt=0,ot=0;ot<4;ot++){var Xe=Je[ot],_t=m(Ue[0],Ue[1],We[0],We[1],Xe[0],Xe[1],Xe[2],Xe[3]);_t&&(!Mt||Math.abs(_t.x-St[0][0])>1||Math.abs(_t.y-St[0][1])>1)&&(_t=[_t.x,_t.y],Mt&&pe(_t,Ue)<pe(St[0],Ue)?St.unshift(_t):St.push(_t),Mt++)}return St}function vt(Ue){if(Ue[0]<we||Ue[0]>Ee||Ue[1]<Oe||Ue[1]>Ke)return[d(Ue[0],we,Ee),d(Ue[1],Oe,Ke)]}function At(Ue,We){if(Ue[0]===We[0]&&(Ue[0]===we||Ue[0]===Ee)||Ue[1]===We[1]&&(Ue[1]===Oe||Ue[1]===Ke))return!0}function Dt(Ue,We){var St=[],Mt=vt(Ue),ot=vt(We);return Mt&&ot&&At(Mt,ot)||(Mt&&St.push(Mt),ot&&St.push(ot)),St}function bt(Ue,We,St){return function(Mt,ot){var Xe=vt(Mt),_t=vt(ot),Xt=[];if(Xe&&_t&&At(Xe,_t))return Xt;Xe&&Xt.push(Xe),_t&&Xt.push(_t);var sn=2*p.constrain((Mt[Ue]+ot[Ue])/2,We,St)-((Xe||Mt)[Ue]+(_t||ot)[Ue]);if(sn){var pn;Xe&&_t?pn=sn>0==Xe[Ue]>_t[Ue]?Xe:_t:pn=Xe||_t,pn[Ue]+=sn}return Xt}}var xt;Z==="linear"||Z==="spline"?xt=qe:Z==="hv"||Z==="vh"?xt=Dt:Z==="hvh"?xt=bt(0,we,Ee):Z==="vhv"&&(xt=bt(1,Oe,Ke));function Et(Ue,We){var St=We[0]-Ue[0],Mt=(We[1]-Ue[1])/St,ot=(Ue[1]*We[0]-We[1]*Ue[0])/St;return ot>0?[Mt>0?we:Ee,Ke]:[Mt>0?Ee:we,Oe]}function pt(Ue){var We=Ue[0],St=Ue[1],Mt=We===ie[oe-1][0],ot=St===ie[oe-1][1];if(!(Mt&&ot))if(oe>1){var Xe=We===ie[oe-2][0],_t=St===ie[oe-2][1];Mt&&(We===we||We===Ee)&&Xe?_t?oe--:ie[oe-1]=Ue:ot&&(St===Oe||St===Ke)&&_t?Xe?oe--:ie[oe-1]=Ue:ie[oe++]=Ue}else ie[oe++]=Ue}function Rt(Ue){ie[oe-1][0]!==Ue[0]&&ie[oe-1][1]!==Ue[1]&&pt([ke,Le]),pt(Ue),He=null,ke=Le=0}var Wt=p.isArrayOrTypedArray(T);function Vt(Ue){if(Ue&&I&&(Ue.i=V,Ue.d=w,Ue.trace=_,Ue.marker=Wt?T[Ue.i]:T,Ue.backoff=I),K=Ue[0]/S,R=Ue[1]/M,rt=Ue[0]<we?we:Ue[0]>Ee?Ee:0,Me=Ue[1]<Oe?Oe:Ue[1]>Ke?Ke:0,rt||Me){if(!oe)ie[oe++]=[rt||Ue[0],Me||Ue[1]];else if(He){var We=xt(He,Ue);We.length>1&&(Rt(We[0]),ie[oe++]=We[1])}else Ve=xt(ie[oe-1],Ue)[0],ie[oe++]=Ve;var St=ie[oe-1];rt&&Me&&(St[0]!==rt||St[1]!==Me)?(He&&(ke!==rt&&Le!==Me?pt(ke&&Le?Et(He,Ue):[ke||rt,Le||Me]):ke&&Le&&pt([ke,Le])),pt([rt,Me])):ke-rt&&Le-Me&&pt([rt||ke,Me||Le]),He=Ue,ke=rt,Le=Me}else He&&Rt(xt(He,Ue)[0]),ie[oe++]=Ue}for(V=0;V<X;V++)if(W=G(V),!!W){for(oe=0,He=null,Vt(W),V++;V<X;V++){if(Q=G(V),!Q){if(B)continue;break}if(!$||!L.simplify){Vt(Q);continue}var Yt=G(V+1);if(ze=pe(Q,W),!(!(N&&(oe===0||oe===X-1))&&ze<ne(Q,Yt)*O)){for(be=[(Q[0]-W[0])/ze,(Q[1]-W[1])/ze],re=W,Te=ze,ye=P=U=0,le=!1,Y=Q,V++;V<w.length;V++){if(te=Yt,Yt=G(V+1),!te){if(B)continue;break}if(Se=[te[0]-W[0],te[1]-W[1]],ee=Se[0]*be[1]-Se[1]*be[0],P=Math.min(P,ee),U=Math.max(U,ee),U-P>ne(te,Yt))break;Y=te,he=Se[0]*be[0]+Se[1]*be[1],he>Te?(Te=he,Q=te,le=!1):he<ye&&(ye=he,re=te,le=!0)}if(le?(Vt(Q),Y!==re&&Vt(re)):(re!==W&&Vt(re),Y!==Q&&Vt(Q)),Vt(Y),V>=w.length||!te)break;Vt(te),W=te}}He&&pt([ke||He[0],Le||He[1]]),j.push(ie.slice(0,oe))}var et=Z.slice(Z.length-1);if(I&&et!=="h"&&et!=="v"){for(var ct=!1,gt=-1,_e=[],Be=0;Be<j.length;Be++)for(var ve=0;ve<j[Be].length-1;ve++){var ge=j[Be][ve],Re=j[Be][ve+1],Fe=o.applyBackoff(Re,ge);(Fe[0]!==Re[0]||Fe[1]!==Re[1])&&(ct=!0),_e[gt+1]||(gt++,_e[gt]=[ge,[Fe[0],Fe[1]]])}return ct?_e:j}return j}},1602:function(i){"use strict";i.exports=function(a,o,c){var l=c("line.shape");l==="spline"&&c("line.smoothing")}},7210:function(i){"use strict";var s={tonextx:1,tonexty:1,tonext:1};i.exports=function(o,c,l){var u,f,h,p,m,d={},y=!1,x=-1,w=0,L=-1;for(f=0;f<l.length;f++)u=l[f][0].trace,h=u.stackgroup||"",h?h in d?m=d[h]:(m=d[h]=w,w++):u.fill in s&&L>=0?m=L:(m=L=w,w++),m<x&&(y=!0),u._groupIndex=x=m;var _=l.slice();y&&_.sort(function(C,z){var b=C[0].trace,S=z[0].trace;return b._groupIndex-S._groupIndex||b.index-S.index});var D={};for(f=0;f<_.length;f++)u=_[f][0].trace,h=u.stackgroup||"",u.visible===!0?(u._nexttrace=null,u.fill in s&&(p=D[h],u._prevtrace=p||null,p&&(p._nexttrace=u)),u._ownfill=u.fill&&(u.fill.substr(0,6)==="tozero"||u.fill==="toself"||u.fill.substr(0,2)==="to"&&!u._prevtrace),D[h]=u):u._prevtrace=u._nexttrace=u._ownfill=null;return _}},2527:function(i,s,a){"use strict";var o=a(721);i.exports=function(l,u){u||(u=2);var f=l.marker,h=f.sizeref||1,p=f.sizemin||0,m=f.sizemode==="area"?function(d){return Math.sqrt(d/h)}:function(d){return d/h};return function(d){var y=m(d/u);return o(y)&&y>0?Math.max(y,p):0}}},1146:function(i){"use strict";i.exports={container:"marker",min:"cmin",max:"cmax"}},4272:function(i,s,a){"use strict";var o=a(8766),c=a(5477).hasColorscale,l=a(9356),u=a(4726);i.exports=function(h,p,m,d,y,x){var w=u.isBubble(h),L=(h.line||{}).color,_;if(x=x||{},L&&(m=L),y("marker.symbol"),y("marker.opacity",w?.7:1),y("marker.size"),x.noAngle||(y("marker.angle"),x.noAngleRef||y("marker.angleref"),x.noStandOff||y("marker.standoff")),y("marker.color",m),c(h,"marker")&&l(h,p,d,y,{prefix:"marker.",cLetter:"c"}),x.noSelect||(y("selected.marker.color"),y("unselected.marker.color"),y("selected.marker.size"),y("unselected.marker.size")),x.noLine||(L&&!Array.isArray(L)&&p.marker.color!==L?_=L:w?_=o.background:_=o.defaultLine,y("marker.line.color",_),c(h,"marker.line")&&l(h,p,d,y,{prefix:"marker.line.",cLetter:"c"}),y("marker.line.width",w?1:0)),w&&(y("marker.sizeref"),y("marker.sizemin"),y("marker.sizemode")),x.gradient){var D=y("marker.gradient.type");D!=="none"&&y("marker.gradient.color")}}},9669:function(i,s,a){"use strict";var o=a(4809).dateTick0,c=a(3821),l=c.ONEWEEK;function u(f,h){return f%l===0?o(h,1):o(h,0)}i.exports=function(h,p,m,d,y){if(y||(y={x:!0,y:!0}),y.x){var x=d("xperiod");x&&(d("xperiod0",u(x,p.xcalendar)),d("xperiodalignment"))}if(y.y){var w=d("yperiod");w&&(d("yperiod0",u(w,p.ycalendar)),d("yperiodalignment"))}}},6098:function(i,s,a){"use strict";var o=a(5568),c=a(3626),l=a(4809),u=l.ensureSingle,f=l.identity,h=a(2203),p=a(4726),m=a(5525),d=a(7210),y=a(899).tester;i.exports=function(D,C,z,b,S,M){var I,T,B=!S,H=!!S&&S.duration>0,Z=d(D,C,z);if(I=b.selectAll("g.trace").data(Z,function(N){return N[0].trace.uid}),I.enter().append("g").attr("class",function(N){return"trace scatter trace"+N[0].trace.uid}).style("stroke-miterlimit",2),I.order(),x(D,I,C),H){M&&(T=M());var $=o.transition().duration(S.duration).ease(S.easing).each("end",function(){T&&T()}).each("interrupt",function(){T&&T()});$.each(function(){b.selectAll("g.trace").each(function(N,j){w(D,j,C,N,Z,this,S)})})}else I.each(function(N,j){w(D,j,C,N,Z,this,S)});B&&I.exit().remove(),b.selectAll("path:not([d])").remove()};function x(_,D,C){D.each(function(z){var b=u(o.select(this),"g","fills");h.setClipUrl(b,C.layerClipId,_);var S=z[0].trace,M=[];S._ownfill&&M.push("_ownFill"),S._nexttrace&&M.push("_nextFill");var I=b.selectAll("g").data(M,f);I.enter().append("g"),I.exit().each(function(T){S[T]=null}).remove(),I.order().each(function(T){S[T]=u(o.select(this),"path","js-fill")})})}function w(_,D,C,z,b,S,M){var I=_._context.staticPlot,T;L(_,D,C,z,b);var B=!!M&&M.duration>0;function H(pt){return B?pt.transition():pt}var Z=C.xaxis,$=C.yaxis,N=z[0].trace,j=N.line,O=o.select(S),X=u(O,"g","errorbars"),ie=u(O,"g","lines"),oe=u(O,"g","points"),V=u(O,"g","text");if(c.getComponentMethod("errorbars","plot")(_,X,C,M),N.visible!==!0)return;H(O).style("opacity",N.opacity);var W,Y,Q=N.fill.charAt(N.fill.length-1);Q!=="x"&&Q!=="y"&&(Q="");var re,te;Q==="y"?(re=1,te=$.c2p(0,!0)):Q==="x"&&(re=0,te=Z.c2p(0,!0)),z[0][C.isRangePlot?"nodeRangePlot3":"node3"]=O;var le="",be=[],Se=N._prevtrace,ze=null,Te=null;Se&&(le=Se._prevRevpath||"",Y=Se._nextFill,be=Se._ownPolygons,ze=Se._fillsegments,Te=Se._fillElement);var ye,he,P="",U="",ee,G,E,K,R,ne,pe=[];N._polygons=[];var xe=[],we=[],Ee=l.noop;if(W=N._ownFill,p.hasLines(N)||N.fill!=="none"){Y&&Y.datum(z),["hv","vh","hvh","vhv"].indexOf(j.shape)!==-1?(ee=h.steps(j.shape),G=h.steps(j.shape.split("").reverse().join(""))):j.shape==="spline"?ee=G=function(pt){var Rt=pt[pt.length-1];return pt.length>1&&pt[0][0]===Rt[0]&&pt[0][1]===Rt[1]?h.smoothclosed(pt.slice(1),j.smoothing):h.smoothopen(pt,j.smoothing)}:ee=G=function(pt){return"M"+pt.join("L")},E=function(pt){return G(pt.reverse())},we=m(z,{xaxis:Z,yaxis:$,trace:N,connectGaps:N.connectgaps,baseTolerance:Math.max(j.width||1,3)/4,shape:j.shape,backoff:j.backoff,simplify:j.simplify,fill:N.fill}),xe=new Array(we.length);var Oe=0;for(T=0;T<we.length;T++){var Ke,Je=we[T];!Ke||!Q?(Ke=Je.slice(),xe[Oe]=Ke,Oe++):Ke.push.apply(Ke,Je)}N._fillElement=null,N._fillExclusionElement=Te,N._fillsegments=xe.slice(0,Oe),xe=N._fillsegments,we.length&&(K=we[0][0].slice(),R=we[we.length-1],ne=R[R.length-1].slice()),Ee=function(pt){return function(Rt){if(ye=ee(Rt),he=E(Rt),P?Q?(P+="L"+ye.substr(1),U=he+("L"+U.substr(1))):(P+="Z"+ye,U=he+"Z"+U):(P=ye,U=he),p.hasLines(N)){var Wt=o.select(this);if(Wt.datum(z),pt)H(Wt.style("opacity",0).attr("d",ye).call(h.lineGroupStyle)).style("opacity",1);else{var Vt=H(Wt);Vt.attr("d",ye),h.singleLineStyle(z,Vt)}}}}}var rt=ie.selectAll(".js-line").data(we);H(rt.exit()).style("opacity",0).remove(),rt.each(Ee(!1)),rt.enter().append("path").classed("js-line",!0).style("vector-effect",I?"none":"non-scaling-stroke").call(h.lineGroupStyle).each(Ee(!0)),h.setClipUrl(rt,C.layerClipId,_);function Me(pt){H(pt).attr("d","M0,0Z")}var ke=function(){var pt=new Array(xe.length);for(T=0;T<xe.length;T++)pt[T]=y(xe[T]);return pt},Le=function(pt){var Rt,Wt;if(!pt||pt.length===0)for(Rt=new Array(xe.length),Wt=0;Wt<xe.length;Wt++){var Vt=xe[Wt][0].slice(),Yt=xe[Wt][xe[Wt].length-1].slice();Vt[re]=Yt[re]=te;var et=[Yt,Vt],ct=et.concat(xe[Wt]);Rt[Wt]=y(ct)}else{for(Rt=new Array(pt.length-1+xe.length),Wt=0;Wt<pt.length-1;Wt++)Rt[Wt]=y(pt[Wt]);var gt=pt[pt.length-1].slice();for(gt.reverse(),Wt=0;Wt<xe.length;Wt++)Rt[pt.length-1+Wt]=y(xe[Wt].concat(gt))}return Rt};we.length?(W?(W.datum(z),K&&ne&&(Q?(K[re]=ne[re]=te,H(W).attr("d","M"+ne+"L"+K+"L"+P.substr(1)).call(h.singleFillStyle,_),pe=Le(null)):(H(W).attr("d",P+"Z").call(h.singleFillStyle,_),pe=ke())),N._polygons=pe,N._fillElement=W):Y&&(N.fill.substr(0,6)==="tonext"&&P&&le?(N.fill==="tonext"?(H(Y).attr("d",P+"Z"+le+"Z").call(h.singleFillStyle,_),pe=ke(),N._polygons=pe.concat(be)):(H(Y).attr("d",P+"L"+le.substr(1)+"Z").call(h.singleFillStyle,_),pe=Le(ze),N._polygons=pe),N._fillElement=Y):Me(Y)),N._prevRevpath=U):(W?Me(W):Y&&Me(Y),N._prevRevpath=null),N._ownPolygons=pe;function He(pt){return pt.filter(function(Rt){return!Rt.gap&&Rt.vis})}function Ve(pt){return pt.filter(function(Rt){return Rt.vis})}function qe(pt){return pt.filter(function(Rt){return!Rt.gap})}function vt(pt){return pt.id}function At(pt){if(pt.ids)return vt}function Dt(){return!1}function bt(pt,Rt,Wt){var Vt,Yt,et,ct=Wt[0].trace,gt=p.hasMarkers(ct),_e=p.hasText(ct),Be=At(ct),ve=Dt,ge=Dt;if(gt||_e){var Re=f,Fe=ct.stackgroup,Ue=Fe&&_._fullLayout._scatterStackOpts[Z._id+$._id][Fe].stackgaps==="infer zero";ct.marker.maxdisplayed||ct._needsCull?Re=Ue?Ve:He:Fe&&!Ue&&(Re=qe),gt&&(ve=Re),_e&&(ge=Re)}Yt=pt.selectAll("path.point"),Vt=Yt.data(ve,Be);var We=Vt.enter().append("path").classed("point",!0);B&&We.call(h.pointStyle,ct,_).call(h.translatePoints,Z,$).style("opacity",0).transition().style("opacity",1),Vt.order();var St;gt&&(St=h.makePointStyleFns(ct)),Vt.each(function(Mt){var ot=o.select(this),Xe=H(ot);et=h.translatePoint(Mt,Xe,Z,$),et?(h.singlePointStyle(Mt,Xe,ct,St,_),C.layerClipId&&h.hideOutsideRangePoint(Mt,Xe,Z,$,ct.xcalendar,ct.ycalendar),ct.customdata&&ot.classed("plotly-customdata",Mt.data!==null&&Mt.data!==void 0)):Xe.remove()}),B?Vt.exit().transition().style("opacity",0).remove():Vt.exit().remove(),Yt=Rt.selectAll("g"),Vt=Yt.data(ge,Be),Vt.enter().append("g").classed("textpoint",!0).append("text"),Vt.order(),Vt.each(function(Mt){var ot=o.select(this),Xe=H(ot.select("text"));et=h.translatePoint(Mt,Xe,Z,$),et?C.layerClipId&&h.hideOutsideRangePoint(Mt,ot,Z,$,ct.xcalendar,ct.ycalendar):ot.remove()}),Vt.selectAll("text").call(h.textPointStyle,ct,_).each(function(Mt){var ot=Z.c2p(Mt.x),Xe=$.c2p(Mt.y);o.select(this).selectAll("tspan.line").each(function(){H(o.select(this)).attr({x:ot,y:Xe})})}),Vt.exit().remove()}oe.datum(z),V.datum(z),bt(oe,V,z);var xt=N.cliponaxis===!1,Et=xt?null:C.layerClipId;h.setClipUrl(oe,Et,_),h.setClipUrl(V,Et,_)}function L(_,D,C,z,b){var S=C.xaxis,M=C.yaxis,I=o.extent(l.simpleMap(S.range,S.r2c)),T=o.extent(l.simpleMap(M.range,M.r2c)),B=z[0].trace;if(p.hasMarkers(B)){var H=B.marker.maxdisplayed;if(H!==0){var Z=z.filter(function(O){return O.x>=I[0]&&O.x<=I[1]&&O.y>=T[0]&&O.y<=T[1]}),$=Math.ceil(Z.length/H),N=0;b.forEach(function(O,X){var ie=O[0].trace;p.hasMarkers(ie)&&ie.marker.maxdisplayed>0&&X<D&&N++});var j=Math.round(N*$/3+Math.floor(N/3)*$/7.1);z.forEach(function(O){delete O.vis}),Z.forEach(function(O,X){Math.round((X+j)%$)===0&&(O.vis=!0)})}}}},2665:function(i,s,a){"use strict";var o=a(4726);i.exports=function(l,u){var f=l.cd,h=l.xaxis,p=l.yaxis,m=[],d=f[0].trace,y,x,w,L,_=!o.hasMarkers(d)&&!o.hasText(d);if(_)return[];if(u===!1)for(y=0;y<f.length;y++)f[y].selected=0;else for(y=0;y<f.length;y++)x=f[y],w=h.c2p(x.x),L=p.c2p(x.y),x.i!==null&&u.contains([w,L],!1,y,l)?(m.push({pointNumber:x.i,x:h.c2d(x.x),y:p.c2d(x.y)}),x.selected=1):x.selected=0;return m}},382:function(i){"use strict";var s=["orientation","groupnorm","stackgaps"];i.exports=function(o,c,l,u){var f=l._scatterStackOpts,h=u("stackgroup");if(h){var p=c.xaxis+c.yaxis,m=f[p];m||(m=f[p]={});var d=m[h],y=!1;d?d.traces.push(c):(d=m[h]={traceIndices:[],traces:[c]},y=!0);for(var x={orientation:c.x&&!c.y?"h":"v"},w=0;w<s.length;w++){var L=s[w],_=L+"Found";if(!d[_]){var D=o[L]!==void 0,C=L==="orientation";if((D||y)&&(d[L]=u(L,x[L]),C&&(d.fillDflt=d[L]==="h"?"tonextx":"tonexty"),D&&(d[_]=!0,!y&&(delete d.traces[0][L],C))))for(var z=0;z<d.traces.length-1;z++){var b=d.traces[z];b._input.fill!==b.fill&&(b.fill=d.fillDflt)}}}return d}}},9408:function(i,s,a){"use strict";var o=a(5568),c=a(2203),l=a(3626);function u(m){var d=o.select(m).selectAll("g.trace.scatter");d.style("opacity",function(y){return y[0].trace.opacity}),d.selectAll("g.points").each(function(y){var x=o.select(this),w=y.trace||y[0].trace;f(x,w,m)}),d.selectAll("g.text").each(function(y){var x=o.select(this),w=y.trace||y[0].trace;h(x,w,m)}),d.selectAll("g.trace path.js-line").call(c.lineGroupStyle),d.selectAll("g.trace path.js-fill").call(c.fillGroupStyle,m,!1),l.getComponentMethod("errorbars","style")(d)}function f(m,d,y){c.pointStyle(m.selectAll("path.point"),d,y)}function h(m,d,y){c.textPointStyle(m.selectAll("text"),d,y)}function p(m,d,y){var x=d[0].trace;x.selectedpoints?(c.selectedPointStyle(y.selectAll("path.point"),x),c.selectedTextStyle(y.selectAll("text"),x)):(f(y,x,m),h(y,x,m))}i.exports={style:u,stylePoints:f,styleText:h,styleOnSelect:p}},4726:function(i,s,a){"use strict";var o=a(4809),c=a(7800).isTypedArraySpec;i.exports={hasLines:function(l){return l.visible&&l.mode&&l.mode.indexOf("lines")!==-1},hasMarkers:function(l){return l.visible&&(l.mode&&l.mode.indexOf("markers")!==-1||l.type==="splom")},hasText:function(l){return l.visible&&l.mode&&l.mode.indexOf("text")!==-1},isBubble:function(l){var u=l.marker;return o.isPlainObject(u)&&(o.isArrayOrTypedArray(u.size)||c(u.size))}}},663:function(i,s,a){"use strict";var o=a(4809);i.exports=function(c,l,u,f,h){h=h||{},f("textposition"),o.coerceFont(f,"textfont",h.font||u.font,h),h.noSelect||(f("selected.textfont.color"),f("unselected.textfont.color"))}},9867:function(i,s,a){"use strict";var o=a(4809),c=a(3626);i.exports=function(u,f,h,p){var m=p("x"),d=p("y"),y,x=c.getComponentMethod("calendars","handleTraceDefaults");if(x(u,f,["x","y"],h),m){var w=o.minRowLength(m);d?y=Math.min(w,o.minRowLength(d)):(y=w,p("y0"),p("dy"))}else{if(!d)return 0;y=o.minRowLength(d),p("x0"),p("dx")}return f._length=y,y}},7908:function(i,s,a){"use strict";var o=a(9714),c=a(4809),l=a(7297),u=a(5086).z,f=a(3821).BADNUM;s.moduleType="transform",s.name="aggregate";var h=s.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},p=h.aggregations;s.supplyDefaults=function(L,_){var D={},C;function z(O,X){return c.coerce(L,D,h,O,X)}var b=z("enabled");if(!b)return D;var S=l.findArrayAttributes(_),M={};for(C=0;C<S.length;C++)M[S[C]]=1;var I=z("groups");if(!Array.isArray(I)){if(!M[I])return D.enabled=!1,D;M[I]=0}var T=L.aggregations||[],B=D.aggregations=new Array(T.length),H;function Z(O,X){return c.coerce(T[C],H,p,O,X)}for(C=0;C<T.length;C++){H={_index:C};var $=Z("target"),N=Z("func"),j=Z("enabled");j&&$&&(M[$]||N==="count"&&M[$]===void 0)?(N==="stddev"&&Z("funcmode"),M[$]=0,B[C]=H):B[C]={enabled:!1,_index:C}}for(C=0;C<S.length;C++)M[S[C]]&&B.push({target:S[C],func:p.func.dflt,enabled:!0,_index:-1});return D},s.calcTransform=function(L,_,D){if(D.enabled){var C=D.groups,z=c.getTargetArray(_,{target:C});if(z){var b,S,M,I,T={},B={},H=[],Z=u(_.transforms,D),$=z.length;for(_._length&&($=Math.min($,_._length)),b=0;b<$;b++)S=z[b],M=T[S],M===void 0?(T[S]=H.length,I=[b],H.push(I),B[T[S]]=Z(b)):(H[M].push(b),B[T[S]]=(B[T[S]]||[]).concat(Z(b)));D._indexToPoints=B;var N=D.aggregations;for(b=0;b<N.length;b++)m(L,_,H,N[b]);typeof C=="string"&&m(L,_,H,{target:C,func:"first",enabled:!0}),_._length=H.length}}};function m(L,_,D,C){if(C.enabled){for(var z=C.target,b=c.nestedProperty(_,z),S=b.get(),M=o.getDataConversions(L,_,z,S),I=d(C,M),T=new Array(D.length),B=0;B<D.length;B++)T[B]=I(S,D[B]);b.set(T),C.func==="count"&&c.pushUnique(_._arrayAttrs,z)}}function d(L,_){var D=L.func,C=_.d2c,z=_.c2d;switch(D){case"count":return y;case"first":return x;case"last":return w;case"sum":return function(b,S){for(var M=0,I=0;I<S.length;I++){var T=C(b[S[I]]);T!==f&&(M+=T)}return z(M)};case"avg":return function(b,S){for(var M=0,I=0,T=0;T<S.length;T++){var B=C(b[S[T]]);B!==f&&(M+=B,I++)}return I?z(M/I):f};case"min":return function(b,S){for(var M=1/0,I=0;I<S.length;I++){var T=C(b[S[I]]);T!==f&&(M=Math.min(M,T))}return M===1/0?f:z(M)};case"max":return function(b,S){for(var M=-1/0,I=0;I<S.length;I++){var T=C(b[S[I]]);T!==f&&(M=Math.max(M,T))}return M===-1/0?f:z(M)};case"range":return function(b,S){for(var M=1/0,I=-1/0,T=0;T<S.length;T++){var B=C(b[S[T]]);B!==f&&(M=Math.min(M,B),I=Math.max(I,B))}return I===-1/0||M===1/0?f:z(I-M)};case"change":return function(b,S){var M=C(b[S[0]]),I=C(b[S[S.length-1]]);return M===f||I===f?f:z(I-M)};case"median":return function(b,S){for(var M=[],I=0;I<S.length;I++){var T=C(b[S[I]]);T!==f&&M.push(T)}if(!M.length)return f;M.sort(c.sorterAsc);var B=(M.length-1)/2;return z((M[Math.floor(B)]+M[Math.ceil(B)])/2)};case"mode":return function(b,S){for(var M={},I=0,T=f,B=0;B<S.length;B++){var H=C(b[S[B]]);if(H!==f){var Z=M[H]=(M[H]||0)+1;Z>I&&(I=Z,T=H)}}return I?z(T):f};case"rms":return function(b,S){for(var M=0,I=0,T=0;T<S.length;T++){var B=C(b[S[T]]);B!==f&&(M+=B*B,I++)}return I?z(Math.sqrt(M/I)):f};case"stddev":return function(b,S){var M=0,I=0,T=1,B=f,H;for(H=0;H<S.length&&B===f;H++)B=C(b[S[H]]);if(B===f)return f;for(;H<S.length;H++){var Z=C(b[S[H]]);if(Z!==f){var $=Z-B;M+=$,I+=$*$,T++}}var N=L.funcmode==="sample"?T-1:T;return N?Math.sqrt((I-M*M/T)/N):0}}}function y(L,_){return _.length}function x(L,_){return L[_[0]]}function w(L,_){return L[_[_.length-1]]}},2849:function(i,s,a){"use strict";var o=a(4809),c=a(3626),l=a(9714),u=a(5086).z,f=a(726),h=f.COMPARISON_OPS,p=f.INTERVAL_OPS,m=f.SET_OPS;s.moduleType="transform",s.name="filter",s.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(h).concat(p).concat(m),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},s.supplyDefaults=function(y){var x={};function w(C,z){return o.coerce(y,x,s.attributes,C,z)}var L=w("enabled");if(L){var _=w("target");if(o.isArrayOrTypedArray(_)&&_.length===0)return x.enabled=!1,x;w("preservegaps"),w("operation"),w("value");var D=c.getComponentMethod("calendars","handleDefaults");D(y,x,"valuecalendar",null),D(y,x,"targetcalendar",null)}return x},s.calcTransform=function(y,x,w){if(!w.enabled)return;var L=o.getTargetArray(x,w);if(!L)return;var _=w.target,D=L.length;x._length&&(D=Math.min(D,x._length));var C=w.targetcalendar,z=x._arrayAttrs,b=w.preservegaps;if(typeof _=="string"){var S=o.nestedProperty(x,_+"calendar").get();S&&(C=S)}var M=l.getDataToCoordFunc(y,x,_,L),I=d(w,M,C),T={},B={},H=0;function Z(ie,oe){for(var V=0;V<z.length;V++){var W=o.nestedProperty(x,z[V]);ie(W,oe)}}var $,N;b?($=function(ie){T[ie.astr]=o.extendDeep([],ie.get()),ie.set(new Array(D))},N=function(ie,oe){var V=T[ie.astr][oe];ie.get()[oe]=V}):($=function(ie){T[ie.astr]=o.extendDeep([],ie.get()),ie.set([])},N=function(ie,oe){var V=T[ie.astr][oe];ie.get().push(V)}),Z($);for(var j=u(x.transforms,w),O=0;O<D;O++){var X=I(L[O]);X?(Z(N,O),B[H++]=j(O)):b&&H++}w._indexToPoints=B,x._length=H};function d(y,x,w){var L=y.operation,_=y.value,D=o.isArrayOrTypedArray(_);function C(M){return M.indexOf(L)!==-1}var z=function(M){return x(M,0,y.valuecalendar)},b=function(M){return x(M,0,w)},S;switch(C(h)?S=z(D?_[0]:_):C(p)?S=D?[z(_[0]),z(_[1])]:[z(_),z(_)]:C(m)&&(S=D?_.map(z):[z(_)]),L){case"=":return function(M){return b(M)===S};case"!=":return function(M){return b(M)!==S};case"<":return function(M){return b(M)<S};case"<=":return function(M){return b(M)<=S};case">":return function(M){return b(M)>S};case">=":return function(M){return b(M)>=S};case"[]":return function(M){var I=b(M);return I>=S[0]&&I<=S[1]};case"()":return function(M){var I=b(M);return I>S[0]&&I<S[1]};case"[)":return function(M){var I=b(M);return I>=S[0]&&I<S[1]};case"(]":return function(M){var I=b(M);return I>S[0]&&I<=S[1]};case"][":return function(M){var I=b(M);return I<=S[0]||I>=S[1]};case")(":return function(M){var I=b(M);return I<S[0]||I>S[1]};case"](":return function(M){var I=b(M);return I<=S[0]||I>S[1]};case")[":return function(M){var I=b(M);return I<S[0]||I>=S[1]};case"{}":return function(M){return S.indexOf(b(M))!==-1};case"}{":return function(M){return S.indexOf(b(M))===-1}}}},453:function(i,s,a){"use strict";var o=a(4809),c=a(7297),l=a(4122),u=a(5086).z;s.moduleType="transform",s.name="groupby",s.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},s.supplyDefaults=function(h,p,m){var d,y={};function x(z,b){return o.coerce(h,y,s.attributes,z,b)}var w=x("enabled");if(!w)return y;x("groups"),x("nameformat",m._dataLength>1?"%{group} (%{trace})":"%{group}");var L=h.styles,_=y.styles=[];if(L)for(d=0;d<L.length;d++){var D=_[d]={};o.coerce(L[d],_[d],s.attributes.styles,"target");var C=o.coerce(L[d],_[d],s.attributes.styles,"value");o.isPlainObject(C)?D.value=o.extendDeep({},C):C&&delete D.value}return y},s.transform=function(h,p){var m,d,y,x=[];for(d=0;d<h.length;d++)for(m=f(h[d],p),y=0;y<m.length;y++)x.push(m[y]);return x};function f(h,p){var m,d,y,x,w,L,_,D,C,z,b=p.transform,S=p.transformIndex,M=h.transforms[S].groups,I=u(h.transforms,b);if(!o.isArrayOrTypedArray(M)||M.length===0)return[h];var T=o.filterUnique(M),B=new Array(T.length),H=M.length,Z=c.findArrayAttributes(h),$=b.styles||[],N={};for(m=0;m<$.length;m++)N[$[m].target]=$[m].value;b.styles&&(z=o.keyedContainer(b,"styles","target","value.name"));var j={},O={};for(m=0;m<T.length;m++){L=T[m],j[L]=m,O[L]=0,_=B[m]=o.extendDeepNoArrays({},h),_._group=L,_.transforms[S]._indexToPoints={};var X=null;for(z&&(X=z.get(L)),X||X===""?_.name=X:_.name=o.templateString(b.nameformat,{trace:h.name,group:L}),D=_.transforms,_.transforms=[],d=0;d<D.length;d++)_.transforms[d]=o.extendDeepNoArrays({},D[d]);for(d=0;d<Z.length;d++)o.nestedProperty(_,Z[d]).set([])}for(y=0;y<Z.length;y++){for(x=Z[y],d=0,C=[];d<T.length;d++)C[d]=o.nestedProperty(B[d],x).get();for(w=o.nestedProperty(h,x).get(),d=0;d<H;d++)C[j[M[d]]].push(w[d])}for(d=0;d<H;d++){_=B[j[M[d]]];var ie=_.transforms[S]._indexToPoints;ie[O[M[d]]]=I(d),O[M[d]]++}for(m=0;m<T.length;m++)L=T[m],_=B[m],l.clearExpandedTraceDefaultColors(_),_=o.extendDeepNoArrays(_,N[L]||{});return B}},5086:function(i,s){"use strict";s.z=function(a,o){for(var c,l,u=0;u<a.length&&(c=a[u],c!==o);u++)!c._indexToPoints||c.enabled===!1||(l=c._indexToPoints);var f=l?function(h){return l[h]}:function(h){return[h]};return f}},9855:function(i,s,a){"use strict";var o=a(4809),c=a(9714),l=a(5086).z,u=a(3821).BADNUM;s.moduleType="transform",s.name="sort",s.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},s.supplyDefaults=function(p){var m={};function d(x,w){return o.coerce(p,m,s.attributes,x,w)}var y=d("enabled");return y&&(d("target"),d("order")),m},s.calcTransform=function(p,m,d){if(d.enabled){var y=o.getTargetArray(m,d);if(y){var x=d.target,w=y.length;m._length&&(w=Math.min(w,m._length));var L=m._arrayAttrs,_=c.getDataToCoordFunc(p,m,x,y),D=f(d,y,_,w),C=l(m.transforms,d),z={},b,S;for(b=0;b<L.length;b++){var M=o.nestedProperty(m,L[b]),I=M.get(),T=new Array(w);for(S=0;S<w;S++)T[S]=I[D[S]];M.set(T)}for(S=0;S<w;S++)z[S]=C(D[S]);d._indexToPoints=z,m._length=w}}};function f(p,m,d,y){var x=new Array(y),w=new Array(y),L;for(L=0;L<y;L++)x[L]={v:m[L],i:L};for(x.sort(h(p,d)),L=0;L<y;L++)w[L]=x[L].i;return w}function h(p,m){switch(p.order){case"ascending":return function(d,y){var x=m(d.v),w=m(y.v);return x===u?1:w===u?-1:x-w};case"descending":return function(d,y){var x=m(d.v),w=m(y.v);return x===u?1:w===u?-1:w-x}}}},9697:function(i,s){"use strict";s.version="2.35.2"},3087:function(i){"use strict";i.exports=c,i.exports.isMobile=c,i.exports.default=c;var s=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,a=/CrOS/,o=/android|ipad|playbook|silk/i;function c(l){l||(l={});var u=l.ua;if(!u&&typeof navigator<"u"&&(u=navigator.userAgent),u&&u.headers&&typeof u.headers["user-agent"]=="string"&&(u=u.headers["user-agent"]),typeof u!="string")return!1;var f=s.test(u)&&!a.test(u)||!!l.tablet&&o.test(u);return!f&&l.tablet&&l.featureDetect&&navigator&&navigator.maxTouchPoints>1&&u.indexOf("Macintosh")!==-1&&u.indexOf("Safari")!==-1&&(f=!0),f}},5955:function(i,s,a){"use strict";var o=a(2413),c=a.n(o),l=a(1070),u=a.n(l),f=a(2133),h=a.n(f),p=new URL(a(7035),a.b),m=new URL(a(3470),a.b),d=new URL(a(8164),a.b),y=new URL(a(4665),a.b),x=new URL(a(4890),a.b),w=new URL(a(3363),a.b),L=new URL(a(3490),a.b),_=new URL(a(7603),a.b),D=new URL(a(3913),a.b),C=new URL(a(1413),a.b),z=new URL(a(4643),a.b),b=new URL(a(216),a.b),S=new URL(a(1907),a.b),M=new URL(a(8605),a.b),I=new URL(a(5446),a.b),T=new URL(a(6694),a.b),B=new URL(a(4420),a.b),H=new URL(a(5796),a.b),Z=new URL(a(2228),a.b),$=new URL(a(9819),a.b),N=new URL(a(7695),a.b),j=new URL(a(8869),a.b),O=new URL(a(557),a.b),X=new URL(a(8460),a.b),ie=new URL(a(8920),a.b),oe=new URL(a(3737),a.b),V=new URL(a(7914),a.b),W=new URL(a(6117),a.b),Y=new URL(a(6311),a.b),Q=u()(c()),re=h()(p),te=h()(m),le=h()(d),be=h()(y),Se=h()(x),ze=h()(w),Te=h()(L),ye=h()(_),he=h()(D),P=h()(C),U=h()(z),ee=h()(b),G=h()(S),E=h()(M),K=h()(I),R=h()(T),ne=h()(B),pe=h()(H),xe=h()(Z),we=h()($),Ee=h()(N),Oe=h()(j),Ke=h()(O),Je=h()(X),rt=h()(ie),Me=h()(oe),ke=h()(V),Le=h()(W),He=h()(Y);Q.push([i.id,".maplibregl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgb(0 0 0/0)}.maplibregl-canvas{left:0;position:absolute;top:0}.maplibregl-map:fullscreen{height:100%;width:100%}.maplibregl-ctrl-group button.maplibregl-ctrl-compass{touch-action:none}.maplibregl-canvas-container.maplibregl-interactive,.maplibregl-ctrl-group button.maplibregl-ctrl-compass{cursor:grab;-webkit-user-select:none;-moz-user-select:none;user-select:none}.maplibregl-canvas-container.maplibregl-interactive.maplibregl-track-pointer{cursor:pointer}.maplibregl-canvas-container.maplibregl-interactive:active,.maplibregl-ctrl-group button.maplibregl-ctrl-compass:active{cursor:grabbing}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-canvas-container.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:pinch-zoom}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:none}.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures,.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-ctrl-bottom-left,.maplibregl-ctrl-bottom-right,.maplibregl-ctrl-top-left,.maplibregl-ctrl-top-right{pointer-events:none;position:absolute;z-index:2}.maplibregl-ctrl-top-left{left:0;top:0}.maplibregl-ctrl-top-right{right:0;top:0}.maplibregl-ctrl-bottom-left{bottom:0;left:0}.maplibregl-ctrl-bottom-right{bottom:0;right:0}.maplibregl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}.maplibregl-ctrl-top-left .maplibregl-ctrl{float:left;margin:10px 0 0 10px}.maplibregl-ctrl-top-right .maplibregl-ctrl{float:right;margin:10px 10px 0 0}.maplibregl-ctrl-bottom-left .maplibregl-ctrl{float:left;margin:0 0 10px 10px}.maplibregl-ctrl-bottom-right .maplibregl-ctrl{float:right;margin:0 10px 10px 0}.maplibregl-ctrl-group{background:#fff;border-radius:4px}.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (forced-colors:active){.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.maplibregl-ctrl-group button{background-color:transparent;border:0;box-sizing:border-box;cursor:pointer;display:block;height:29px;outline:none;padding:0;width:29px}.maplibregl-ctrl-group button+button{border-top:1px solid #ddd}.maplibregl-ctrl button .maplibregl-ctrl-icon{background-position:50%;background-repeat:no-repeat;display:block;height:100%;width:100%}@media (forced-colors:active){.maplibregl-ctrl-icon{background-color:transparent}.maplibregl-ctrl-group button+button{border-top:1px solid ButtonText}}.maplibregl-ctrl button::-moz-focus-inner{border:0;padding:0}.maplibregl-ctrl-attrib-button:focus,.maplibregl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl button:disabled{cursor:not-allowed}.maplibregl-ctrl button:disabled .maplibregl-ctrl-icon{opacity:.25}.maplibregl-ctrl button:not(:disabled):hover{background-color:rgb(0 0 0/5%)}.maplibregl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.maplibregl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.maplibregl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.maplibregl-ctrl-group button:focus:only-child{border-radius:inherit}.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("+re+")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("+te+")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("+le+")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("+be+")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("+Se+")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("+ze+")}}.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("+Te+")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("+ye+")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("+he+")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("+P+")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("+U+")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("+ye+")}}.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("+ee+")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("+G+")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("+E+")}}.maplibregl-ctrl button.maplibregl-ctrl-terrain .maplibregl-ctrl-icon{background-image:url("+K+")}.maplibregl-ctrl button.maplibregl-ctrl-terrain-enabled .maplibregl-ctrl-icon{background-image:url("+R+")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("+ne+")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("+pe+")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("+xe+")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("+we+")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("+Ee+")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("+Oe+")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-waiting .maplibregl-ctrl-icon{animation:maplibregl-spin 2s linear infinite}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("+Ke+")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("+Je+")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("+xe+")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("+we+")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("+Ee+")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("+Oe+")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("+rt+")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("+Me+")}}@keyframes maplibregl-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}a.maplibregl-ctrl-logo{background-image:url("+ke+");background-repeat:no-repeat;cursor:pointer;display:block;height:23px;margin:0 0 -4px -4px;overflow:hidden;width:88px}a.maplibregl-ctrl-logo.maplibregl-compact{width:14px}@media (forced-colors:active){a.maplibregl-ctrl-logo{background-color:transparent;background-image:url("+ke+")}}@media (forced-colors:active) and (prefers-color-scheme:light){a.maplibregl-ctrl-logo{background-image:url("+ke+")}}.maplibregl-ctrl.maplibregl-ctrl-attrib{background-color:hsla(0,0%,100%,.5);margin:0;padding:0 5px}@media screen{.maplibregl-ctrl-attrib.maplibregl-compact{background-color:#fff;border-radius:12px;box-sizing:content-box;color:#000;margin:10px;min-height:20px;padding:2px 24px 2px 0;position:relative}.maplibregl-ctrl-attrib.maplibregl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact-show,.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact-show{border-radius:12px;padding:2px 8px 2px 28px}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-inner{display:none}.maplibregl-ctrl-attrib-button{background-color:hsla(0,0%,100%,.5);background-image:url("+Le+");border:0;border-radius:12px;box-sizing:border-box;cursor:pointer;display:none;height:24px;outline:none;position:absolute;right:0;top:0;width:24px}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;list-style:none}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button::-webkit-details-marker{display:none}.maplibregl-ctrl-bottom-left .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-top-left .maplibregl-ctrl-attrib-button{left:0}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-inner{display:block}.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-button{background-color:rgb(0 0 0/5%)}.maplibregl-ctrl-bottom-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;right:0}.maplibregl-ctrl-top-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{right:0;top:0}.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{left:0;top:0}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;left:0}}@media screen and (forced-colors:active){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("+He+")}}@media screen and (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("+Le+')}}.maplibregl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.maplibregl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.maplibregl-attrib-empty{display:none}.maplibregl-ctrl-scale{background-color:hsla(0,0%,100%,.75);border:2px solid #333;border-top:#333;box-sizing:border-box;color:#333;font-size:10px;padding:0 5px}.maplibregl-popup{display:flex;left:0;pointer-events:none;position:absolute;top:0;will-change:transform}.maplibregl-popup-anchor-top,.maplibregl-popup-anchor-top-left,.maplibregl-popup-anchor-top-right{flex-direction:column}.maplibregl-popup-anchor-bottom,.maplibregl-popup-anchor-bottom-left,.maplibregl-popup-anchor-bottom-right{flex-direction:column-reverse}.maplibregl-popup-anchor-left{flex-direction:row}.maplibregl-popup-anchor-right{flex-direction:row-reverse}.maplibregl-popup-tip{border:10px solid transparent;height:0;width:0;z-index:1}.maplibregl-popup-anchor-top .maplibregl-popup-tip{align-self:center;border-bottom-color:#fff;border-top:none}.maplibregl-popup-anchor-top-left .maplibregl-popup-tip{align-self:flex-start;border-bottom-color:#fff;border-left:none;border-top:none}.maplibregl-popup-anchor-top-right .maplibregl-popup-tip{align-self:flex-end;border-bottom-color:#fff;border-right:none;border-top:none}.maplibregl-popup-anchor-bottom .maplibregl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.maplibregl-popup-anchor-left .maplibregl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.maplibregl-popup-anchor-right .maplibregl-popup-tip{align-self:center;border-left-color:#fff;border-right:none}.maplibregl-popup-close-button{background-color:transparent;border:0;border-radius:0 3px 0 0;cursor:pointer;position:absolute;right:0;top:0}.maplibregl-popup-close-button:hover{background-color:rgb(0 0 0/5%)}.maplibregl-popup-content{background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1);padding:15px 10px;pointer-events:auto;position:relative}.maplibregl-popup-anchor-top-left .maplibregl-popup-content{border-top-left-radius:0}.maplibregl-popup-anchor-top-right .maplibregl-popup-content{border-top-right-radius:0}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-content{border-bottom-left-radius:0}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-content{border-bottom-right-radius:0}.maplibregl-popup-track-pointer{display:none}.maplibregl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.maplibregl-map:hover .maplibregl-popup-track-pointer{display:flex}.maplibregl-map:active .maplibregl-popup-track-pointer{display:none}.maplibregl-marker{left:0;position:absolute;top:0;transition:opacity .2s;will-change:transform}.maplibregl-user-location-dot,.maplibregl-user-location-dot:before{background-color:#1da1f2;border-radius:50%;height:15px;width:15px}.maplibregl-user-location-dot:before{animation:maplibregl-user-location-dot-pulse 2s infinite;content:"";position:absolute}.maplibregl-user-location-dot:after{border:2px solid #fff;border-radius:50%;box-shadow:0 0 3px rgba(0,0,0,.35);box-sizing:border-box;content:"";height:19px;left:-2px;position:absolute;top:-2px;width:19px}@keyframes maplibregl-user-location-dot-pulse{0%{opacity:1;transform:scale(1)}70%{opacity:0;transform:scale(3)}to{opacity:0;transform:scale(1)}}.maplibregl-user-location-dot-stale{background-color:#aaa}.maplibregl-user-location-dot-stale:after{display:none}.maplibregl-user-location-accuracy-circle{background-color:#1da1f233;border-radius:100%;height:1px;width:1px}.maplibregl-crosshair,.maplibregl-crosshair .maplibregl-interactive,.maplibregl-crosshair .maplibregl-interactive:active{cursor:crosshair}.maplibregl-boxzoom{background:#fff;border:2px dotted #202020;height:0;left:0;opacity:.5;position:absolute;top:0;width:0}.maplibregl-cooperative-gesture-screen{align-items:center;background:rgba(0,0,0,.4);color:#fff;display:flex;font-size:1.4em;inset:0;justify-content:center;line-height:1.2;opacity:0;padding:1rem;pointer-events:none;position:absolute;transition:opacity 1s ease 1s;z-index:99999}.maplibregl-cooperative-gesture-screen.maplibregl-show{opacity:1;transition:opacity .05s}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:none}@media (hover:none),(width <= 480px){.maplibregl-cooperative-gesture-screen .maplibregl-desktop-message{display:none}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:block}}.maplibregl-pseudo-fullscreen{height:100%!important;left:0!important;position:fixed!important;top:0!important;width:100%!important;z-index:99999}',""]),s.A=Q},5568:function(i,s,a){var o,c;(function(){var l={version:"3.8.2"},u=[].slice,f=function(g){return u.call(g)},h=self.document;function p(g){return g&&(g.ownerDocument||g.document||g).documentElement}function m(g){return g&&(g.ownerDocument&&g.ownerDocument.defaultView||g.document&&g||g.defaultView)}if(h)try{f(h.documentElement.childNodes)[0].nodeType}catch{f=function(k){for(var F=k.length,q=new Array(F);F--;)q[F]=k[F];return q}}if(Date.now||(Date.now=function(){return+new Date}),h)try{h.createElement("DIV").style.setProperty("opacity",0,"")}catch{var d=this.Element.prototype,y=d.setAttribute,x=d.setAttributeNS,w=this.CSSStyleDeclaration.prototype,L=w.setProperty;d.setAttribute=function(k,F){y.call(this,k,F+"")},d.setAttributeNS=function(k,F,q){x.call(this,k,F,q+"")},w.setProperty=function(k,F,q){L.call(this,k,F+"",q)}}l.ascending=_;function _(g,k){return g<k?-1:g>k?1:g>=k?0:NaN}l.descending=function(g,k){return k<g?-1:k>g?1:k>=g?0:NaN},l.min=function(g,k){var F=-1,q=g.length,ae,ue;if(arguments.length===1){for(;++F<q;)if((ue=g[F])!=null&&ue>=ue){ae=ue;break}for(;++F<q;)(ue=g[F])!=null&&ae>ue&&(ae=ue)}else{for(;++F<q;)if((ue=k.call(g,g[F],F))!=null&&ue>=ue){ae=ue;break}for(;++F<q;)(ue=k.call(g,g[F],F))!=null&&ae>ue&&(ae=ue)}return ae},l.max=function(g,k){var F=-1,q=g.length,ae,ue;if(arguments.length===1){for(;++F<q;)if((ue=g[F])!=null&&ue>=ue){ae=ue;break}for(;++F<q;)(ue=g[F])!=null&&ue>ae&&(ae=ue)}else{for(;++F<q;)if((ue=k.call(g,g[F],F))!=null&&ue>=ue){ae=ue;break}for(;++F<q;)(ue=k.call(g,g[F],F))!=null&&ue>ae&&(ae=ue)}return ae},l.extent=function(g,k){var F=-1,q=g.length,ae,ue,Ae;if(arguments.length===1){for(;++F<q;)if((ue=g[F])!=null&&ue>=ue){ae=Ae=ue;break}for(;++F<q;)(ue=g[F])!=null&&(ae>ue&&(ae=ue),Ae<ue&&(Ae=ue))}else{for(;++F<q;)if((ue=k.call(g,g[F],F))!=null&&ue>=ue){ae=Ae=ue;break}for(;++F<q;)(ue=k.call(g,g[F],F))!=null&&(ae>ue&&(ae=ue),Ae<ue&&(Ae=ue))}return[ae,Ae]};function D(g){return g===null?NaN:+g}function C(g){return!isNaN(g)}l.sum=function(g,k){var F=0,q=g.length,ae,ue=-1;if(arguments.length===1)for(;++ue<q;)C(ae=+g[ue])&&(F+=ae);else for(;++ue<q;)C(ae=+k.call(g,g[ue],ue))&&(F+=ae);return F},l.mean=function(g,k){var F=0,q=g.length,ae,ue=-1,Ae=q;if(arguments.length===1)for(;++ue<q;)C(ae=D(g[ue]))?F+=ae:--Ae;else for(;++ue<q;)C(ae=D(k.call(g,g[ue],ue)))?F+=ae:--Ae;if(Ae)return F/Ae},l.quantile=function(g,k){var F=(g.length-1)*k+1,q=Math.floor(F),ae=+g[q-1],ue=F-q;return ue?ae+ue*(g[q]-ae):ae},l.median=function(g,k){var F=[],q=g.length,ae,ue=-1;if(arguments.length===1)for(;++ue<q;)C(ae=D(g[ue]))&&F.push(ae);else for(;++ue<q;)C(ae=D(k.call(g,g[ue],ue)))&&F.push(ae);if(F.length)return l.quantile(F.sort(_),.5)},l.variance=function(g,k){var F=g.length,q=0,ae,ue,Ae=0,Ce=-1,Pe=0;if(arguments.length===1)for(;++Ce<F;)C(ae=D(g[Ce]))&&(ue=ae-q,q+=ue/++Pe,Ae+=ue*(ae-q));else for(;++Ce<F;)C(ae=D(k.call(g,g[Ce],Ce)))&&(ue=ae-q,q+=ue/++Pe,Ae+=ue*(ae-q));if(Pe>1)return Ae/(Pe-1)},l.deviation=function(){var g=l.variance.apply(this,arguments);return g&&Math.sqrt(g)};function z(g){return{left:function(k,F,q,ae){for(arguments.length<3&&(q=0),arguments.length<4&&(ae=k.length);q<ae;){var ue=q+ae>>>1;g(k[ue],F)<0?q=ue+1:ae=ue}return q},right:function(k,F,q,ae){for(arguments.length<3&&(q=0),arguments.length<4&&(ae=k.length);q<ae;){var ue=q+ae>>>1;g(k[ue],F)>0?ae=ue:q=ue+1}return q}}}var b=z(_);l.bisectLeft=b.left,l.bisect=l.bisectRight=b.right,l.bisector=function(g){return z(g.length===1?function(k,F){return _(g(k),F)}:g)},l.shuffle=function(g,k,F){(q=arguments.length)<3&&(F=g.length,q<2&&(k=0));for(var q=F-k,ae,ue;q;)ue=Math.random()*q--|0,ae=g[q+k],g[q+k]=g[ue+k],g[ue+k]=ae;return g},l.permute=function(g,k){for(var F=k.length,q=new Array(F);F--;)q[F]=g[k[F]];return q},l.pairs=function(g){for(var k=0,F=g.length-1,q,ae=g[0],ue=new Array(F<0?0:F);k<F;)ue[k]=[q=ae,ae=g[++k]];return ue},l.transpose=function(g){if(!(ue=g.length))return[];for(var k=-1,F=l.min(g,S),q=new Array(F);++k<F;)for(var ae=-1,ue,Ae=q[k]=new Array(ue);++ae<ue;)Ae[ae]=g[ae][k];return q};function S(g){return g.length}l.zip=function(){return l.transpose(arguments)},l.keys=function(g){var k=[];for(var F in g)k.push(F);return k},l.values=function(g){var k=[];for(var F in g)k.push(g[F]);return k},l.entries=function(g){var k=[];for(var F in g)k.push({key:F,value:g[F]});return k},l.merge=function(g){for(var k=g.length,F,q=-1,ae=0,ue,Ae;++q<k;)ae+=g[q].length;for(ue=new Array(ae);--k>=0;)for(Ae=g[k],F=Ae.length;--F>=0;)ue[--ae]=Ae[F];return ue};var M=Math.abs;l.range=function(g,k,F){if(arguments.length<3&&(F=1,arguments.length<2&&(k=g,g=0)),(k-g)/F===1/0)throw new Error("infinite range");var q=[],ae=I(M(F)),ue=-1,Ae;if(g*=ae,k*=ae,F*=ae,F<0)for(;(Ae=g+F*++ue)>k;)q.push(Ae/ae);else for(;(Ae=g+F*++ue)<k;)q.push(Ae/ae);return q};function I(g){for(var k=1;g*k%1;)k*=10;return k}function T(g,k){for(var F in k)Object.defineProperty(g.prototype,F,{value:k[F],enumerable:!1})}l.map=function(g,k){var F=new B;if(g instanceof B)g.forEach(function(Ce,Pe){F.set(Ce,Pe)});else if(Array.isArray(g)){var q=-1,ae=g.length,ue;if(arguments.length===1)for(;++q<ae;)F.set(q,g[q]);else for(;++q<ae;)F.set(k.call(g,ue=g[q],q),ue)}else for(var Ae in g)F.set(Ae,g[Ae]);return F};function B(){this._=Object.create(null)}var H="__proto__",Z="\0";T(B,{has:j,get:function(g){return this._[$(g)]},set:function(g,k){return this._[$(g)]=k},remove:O,keys:X,values:function(){var g=[];for(var k in this._)g.push(this._[k]);return g},entries:function(){var g=[];for(var k in this._)g.push({key:N(k),value:this._[k]});return g},size:ie,empty:oe,forEach:function(g){for(var k in this._)g.call(this,N(k),this._[k])}});function $(g){return(g+="")===H||g[0]===Z?Z+g:g}function N(g){return(g+="")[0]===Z?g.slice(1):g}function j(g){return $(g)in this._}function O(g){return(g=$(g))in this._&&delete this._[g]}function X(){var g=[];for(var k in this._)g.push(N(k));return g}function ie(){var g=0;for(var k in this._)++g;return g}function oe(){for(var g in this._)return!1;return!0}l.nest=function(){var g={},k=[],F=[],q,ae;function ue(Ce,Pe,Ge){if(Ge>=k.length)return ae?ae.call(g,Pe):q?Pe.sort(q):Pe;for(var $e=-1,ft=Pe.length,dt=k[Ge++],Pt,Ut,at,Lt=new B,It;++$e<ft;)(It=Lt.get(Pt=dt(Ut=Pe[$e])))?It.push(Ut):Lt.set(Pt,[Ut]);return Ce?(Ut=Ce(),at=function(Ht,jt){Ut.set(Ht,ue(Ce,jt,Ge))}):(Ut={},at=function(Ht,jt){Ut[Ht]=ue(Ce,jt,Ge)}),Lt.forEach(at),Ut}function Ae(Ce,Pe){if(Pe>=k.length)return Ce;var Ge=[],$e=F[Pe++];return Ce.forEach(function(ft,dt){Ge.push({key:ft,values:Ae(dt,Pe)})}),$e?Ge.sort(function(ft,dt){return $e(ft.key,dt.key)}):Ge}return g.map=function(Ce,Pe){return ue(Pe,Ce,0)},g.entries=function(Ce){return Ae(ue(l.map,Ce,0),0)},g.key=function(Ce){return k.push(Ce),g},g.sortKeys=function(Ce){return F[k.length-1]=Ce,g},g.sortValues=function(Ce){return q=Ce,g},g.rollup=function(Ce){return ae=Ce,g},g},l.set=function(g){var k=new V;if(g)for(var F=0,q=g.length;F<q;++F)k.add(g[F]);return k};function V(){this._=Object.create(null)}T(V,{has:j,add:function(g){return this._[$(g+="")]=!0,g},remove:O,values:X,size:ie,empty:oe,forEach:function(g){for(var k in this._)g.call(this,N(k))}}),l.behavior={};function W(g){return g}l.rebind=function(g,k){for(var F=1,q=arguments.length,ae;++F<q;)g[ae=arguments[F]]=Y(g,k,k[ae]);return g};function Y(g,k,F){return function(){var q=F.apply(k,arguments);return q===k?g:q}}function Q(g,k){if(k in g)return k;k=k.charAt(0).toUpperCase()+k.slice(1);for(var F=0,q=re.length;F<q;++F){var ae=re[F]+k;if(ae in g)return ae}}var re=["webkit","ms","moz","Moz","o","O"];function te(){}l.dispatch=function(){for(var g=new le,k=-1,F=arguments.length;++k<F;)g[arguments[k]]=be(g);return g};function le(){}le.prototype.on=function(g,k){var F=g.indexOf("."),q="";if(F>=0&&(q=g.slice(F+1),g=g.slice(0,F)),g)return arguments.length<2?this[g].on(q):this[g].on(q,k);if(arguments.length===2){if(k==null)for(g in this)this.hasOwnProperty(g)&&this[g].on(q,null);return this}};function be(g){var k=[],F=new B;function q(){for(var ae=k,ue=-1,Ae=ae.length,Ce;++ue<Ae;)(Ce=ae[ue].on)&&Ce.apply(this,arguments);return g}return q.on=function(ae,ue){var Ae=F.get(ae),Ce;return arguments.length<2?Ae&&Ae.on:(Ae&&(Ae.on=null,k=k.slice(0,Ce=k.indexOf(Ae)).concat(k.slice(Ce+1)),F.remove(ae)),ue&&k.push(F.set(ae,{on:ue})),g)},q}l.event=null;function Se(){l.event.preventDefault()}function ze(){for(var g=l.event,k;k=g.sourceEvent;)g=k;return g}function Te(g){for(var k=new le,F=0,q=arguments.length;++F<q;)k[arguments[F]]=be(k);return k.of=function(ae,ue){return function(Ae){try{var Ce=Ae.sourceEvent=l.event;Ae.target=g,l.event=Ae,k[Ae.type].apply(ae,ue)}finally{l.event=Ce}}},k}l.requote=function(g){return g.replace(ye,"\\$&")};var ye=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,he={}.__proto__?function(g,k){g.__proto__=k}:function(g,k){for(var F in k)g[F]=k[F]};function P(g){return he(g,E),g}var U=function(g,k){return k.querySelector(g)},ee=function(g,k){return k.querySelectorAll(g)},G=function(g,k){var F=g.matches||g[Q(g,"matchesSelector")];return G=function(q,ae){return F.call(q,ae)},G(g,k)};typeof Sizzle=="function"&&(U=function(g,k){return Sizzle(g,k)[0]||null},ee=Sizzle,G=Sizzle.matchesSelector),l.selection=function(){return l.select(h.documentElement)};var E=l.selection.prototype=[];E.select=function(g){var k=[],F,q,ae,ue;g=K(g);for(var Ae=-1,Ce=this.length;++Ae<Ce;){k.push(F=[]),F.parentNode=(ae=this[Ae]).parentNode;for(var Pe=-1,Ge=ae.length;++Pe<Ge;)(ue=ae[Pe])?(F.push(q=g.call(ue,ue.__data__,Pe,Ae)),q&&"__data__"in ue&&(q.__data__=ue.__data__)):F.push(null)}return P(k)};function K(g){return typeof g=="function"?g:function(){return U(g,this)}}E.selectAll=function(g){var k=[],F,q;g=R(g);for(var ae=-1,ue=this.length;++ae<ue;)for(var Ae=this[ae],Ce=-1,Pe=Ae.length;++Ce<Pe;)(q=Ae[Ce])&&(k.push(F=f(g.call(q,q.__data__,Ce,ae))),F.parentNode=q);return P(k)};function R(g){return typeof g=="function"?g:function(){return ee(g,this)}}var ne="http://www.w3.org/1999/xhtml",pe={svg:"http://www.w3.org/2000/svg",xhtml:ne,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};l.ns={prefix:pe,qualify:function(g){var k=g.indexOf(":"),F=g;return k>=0&&(F=g.slice(0,k))!=="xmlns"&&(g=g.slice(k+1)),pe.hasOwnProperty(F)?{space:pe[F],local:g}:g}},E.attr=function(g,k){if(arguments.length<2){if(typeof g=="string"){var F=this.node();return g=l.ns.qualify(g),g.local?F.getAttributeNS(g.space,g.local):F.getAttribute(g)}for(k in g)this.each(xe(k,g[k]));return this}return this.each(xe(g,k))};function xe(g,k){g=l.ns.qualify(g);function F(){this.removeAttribute(g)}function q(){this.removeAttributeNS(g.space,g.local)}function ae(){this.setAttribute(g,k)}function ue(){this.setAttributeNS(g.space,g.local,k)}function Ae(){var Pe=k.apply(this,arguments);Pe==null?this.removeAttribute(g):this.setAttribute(g,Pe)}function Ce(){var Pe=k.apply(this,arguments);Pe==null?this.removeAttributeNS(g.space,g.local):this.setAttributeNS(g.space,g.local,Pe)}return k==null?g.local?q:F:typeof k=="function"?g.local?Ce:Ae:g.local?ue:ae}function we(g){return g.trim().replace(/\s+/g," ")}E.classed=function(g,k){if(arguments.length<2){if(typeof g=="string"){var F=this.node(),q=(g=Oe(g)).length,ae=-1;if(k=F.classList){for(;++ae<q;)if(!k.contains(g[ae]))return!1}else for(k=F.getAttribute("class");++ae<q;)if(!Ee(g[ae]).test(k))return!1;return!0}for(k in g)this.each(Ke(k,g[k]));return this}return this.each(Ke(g,k))};function Ee(g){return new RegExp("(?:^|\\s+)"+l.requote(g)+"(?:\\s+|$)","g")}function Oe(g){return(g+"").trim().split(/^|\s+/)}function Ke(g,k){g=Oe(g).map(Je);var F=g.length;function q(){for(var ue=-1;++ue<F;)g[ue](this,k)}function ae(){for(var ue=-1,Ae=k.apply(this,arguments);++ue<F;)g[ue](this,Ae)}return typeof k=="function"?ae:q}function Je(g){var k=Ee(g);return function(F,q){if(ae=F.classList)return q?ae.add(g):ae.remove(g);var ae=F.getAttribute("class")||"";q?(k.lastIndex=0,k.test(ae)||F.setAttribute("class",we(ae+" "+g))):F.setAttribute("class",we(ae.replace(k," ")))}}E.style=function(g,k,F){var q=arguments.length;if(q<3){if(typeof g!="string"){q<2&&(k="");for(F in g)this.each(rt(F,g[F],k));return this}if(q<2){var ae=this.node();return m(ae).getComputedStyle(ae,null).getPropertyValue(g)}F=""}return this.each(rt(g,k,F))};function rt(g,k,F){function q(){this.style.removeProperty(g)}function ae(){this.style.setProperty(g,k,F)}function ue(){var Ae=k.apply(this,arguments);Ae==null?this.style.removeProperty(g):this.style.setProperty(g,Ae,F)}return k==null?q:typeof k=="function"?ue:ae}E.property=function(g,k){if(arguments.length<2){if(typeof g=="string")return this.node()[g];for(k in g)this.each(Me(k,g[k]));return this}return this.each(Me(g,k))};function Me(g,k){function F(){delete this[g]}function q(){this[g]=k}function ae(){var ue=k.apply(this,arguments);ue==null?delete this[g]:this[g]=ue}return k==null?F:typeof k=="function"?ae:q}E.text=function(g){return arguments.length?this.each(typeof g=="function"?function(){var k=g.apply(this,arguments);this.textContent=k??""}:g==null?function(){this.textContent=""}:function(){this.textContent=g}):this.node().textContent},E.html=function(g){return arguments.length?this.each(typeof g=="function"?function(){var k=g.apply(this,arguments);this.innerHTML=k??""}:g==null?function(){this.innerHTML=""}:function(){this.innerHTML=g}):this.node().innerHTML},E.append=function(g){return g=ke(g),this.select(function(){return this.appendChild(g.apply(this,arguments))})};function ke(g){function k(){var q=this.ownerDocument,ae=this.namespaceURI;return ae===ne&&q.documentElement.namespaceURI===ne?q.createElement(g):q.createElementNS(ae,g)}function F(){return this.ownerDocument.createElementNS(g.space,g.local)}return typeof g=="function"?g:(g=l.ns.qualify(g)).local?F:k}E.insert=function(g,k){return g=ke(g),k=K(k),this.select(function(){return this.insertBefore(g.apply(this,arguments),k.apply(this,arguments)||null)})},E.remove=function(){return this.each(Le)};function Le(){var g=this.parentNode;g&&g.removeChild(this)}E.data=function(g,k){var F=-1,q=this.length,ae,ue;if(!arguments.length){for(g=new Array(q=(ae=this[0]).length);++F<q;)(ue=ae[F])&&(g[F]=ue.__data__);return g}function Ae($e,ft){var dt,Pt=$e.length,Ut=ft.length,at=Math.min(Pt,Ut),Lt=new Array(Ut),It=new Array(Ut),Ht=new Array(Pt),jt,kt;if(k){var vn=new B,In=new Array(Pt),$n;for(dt=-1;++dt<Pt;)(jt=$e[dt])&&(vn.has($n=k.call(jt,jt.__data__,dt))?Ht[dt]=jt:vn.set($n,jt),In[dt]=$n);for(dt=-1;++dt<Ut;)(jt=vn.get($n=k.call(ft,kt=ft[dt],dt)))?jt!==!0&&(Lt[dt]=jt,jt.__data__=kt):It[dt]=He(kt),vn.set($n,!0);for(dt=-1;++dt<Pt;)dt in In&&vn.get(In[dt])!==!0&&(Ht[dt]=$e[dt])}else{for(dt=-1;++dt<at;)jt=$e[dt],kt=ft[dt],jt?(jt.__data__=kt,Lt[dt]=jt):It[dt]=He(kt);for(;dt<Ut;++dt)It[dt]=He(ft[dt]);for(;dt<Pt;++dt)Ht[dt]=$e[dt]}It.update=Lt,It.parentNode=Lt.parentNode=Ht.parentNode=$e.parentNode,Ce.push(It),Pe.push(Lt),Ge.push(Ht)}var Ce=At([]),Pe=P([]),Ge=P([]);if(typeof g=="function")for(;++F<q;)Ae(ae=this[F],g.call(ae,ae.parentNode.__data__,F));else for(;++F<q;)Ae(ae=this[F],g);return Pe.enter=function(){return Ce},Pe.exit=function(){return Ge},Pe};function He(g){return{__data__:g}}E.datum=function(g){return arguments.length?this.property("__data__",g):this.property("__data__")},E.filter=function(g){var k=[],F,q,ae;typeof g!="function"&&(g=Ve(g));for(var ue=0,Ae=this.length;ue<Ae;ue++){k.push(F=[]),F.parentNode=(q=this[ue]).parentNode;for(var Ce=0,Pe=q.length;Ce<Pe;Ce++)(ae=q[Ce])&&g.call(ae,ae.__data__,Ce,ue)&&F.push(ae)}return P(k)};function Ve(g){return function(){return G(this,g)}}E.order=function(){for(var g=-1,k=this.length;++g<k;)for(var F=this[g],q=F.length-1,ae=F[q],ue;--q>=0;)(ue=F[q])&&(ae&&ae!==ue.nextSibling&&ae.parentNode.insertBefore(ue,ae),ae=ue);return this},E.sort=function(g){g=qe.apply(this,arguments);for(var k=-1,F=this.length;++k<F;)this[k].sort(g);return this.order()};function qe(g){return arguments.length||(g=_),function(k,F){return k&&F?g(k.__data__,F.__data__):!k-!F}}E.each=function(g){return vt(this,function(k,F,q){g.call(k,k.__data__,F,q)})};function vt(g,k){for(var F=0,q=g.length;F<q;F++)for(var ae=g[F],ue=0,Ae=ae.length,Ce;ue<Ae;ue++)(Ce=ae[ue])&&k(Ce,ue,F);return g}E.call=function(g){var k=f(arguments);return g.apply(k[0]=this,k),this},E.empty=function(){return!this.node()},E.node=function(){for(var g=0,k=this.length;g<k;g++)for(var F=this[g],q=0,ae=F.length;q<ae;q++){var ue=F[q];if(ue)return ue}return null},E.size=function(){var g=0;return vt(this,function(){++g}),g};function At(g){return he(g,Dt),g}var Dt=[];l.selection.enter=At,l.selection.enter.prototype=Dt,Dt.append=E.append,Dt.empty=E.empty,Dt.node=E.node,Dt.call=E.call,Dt.size=E.size,Dt.select=function(g){for(var k=[],F,q,ae,ue,Ae,Ce=-1,Pe=this.length;++Ce<Pe;){ae=(ue=this[Ce]).update,k.push(F=[]),F.parentNode=ue.parentNode;for(var Ge=-1,$e=ue.length;++Ge<$e;)(Ae=ue[Ge])?(F.push(ae[Ge]=q=g.call(ue.parentNode,Ae.__data__,Ge,Ce)),q.__data__=Ae.__data__):F.push(null)}return P(k)},Dt.insert=function(g,k){return arguments.length<2&&(k=bt(this)),E.insert.call(this,g,k)};function bt(g){var k,F;return function(q,ae,ue){var Ae=g[ue].update,Ce=Ae.length,Pe;for(ue!=F&&(F=ue,k=0),ae>=k&&(k=ae+1);!(Pe=Ae[k])&&++k<Ce;);return Pe}}l.select=function(g){var k;return typeof g=="string"?(k=[U(g,h)],k.parentNode=h.documentElement):(k=[g],k.parentNode=p(g)),P([k])},l.selectAll=function(g){var k;return typeof g=="string"?(k=f(ee(g,h)),k.parentNode=h.documentElement):(k=f(g),k.parentNode=null),P([k])},E.on=function(g,k,F){var q=arguments.length;if(q<3){if(typeof g!="string"){q<2&&(k=!1);for(F in g)this.each(xt(F,g[F],k));return this}if(q<2)return(q=this.node()["__on"+g])&&q._;F=!1}return this.each(xt(g,k,F))};function xt(g,k,F){var q="__on"+g,ae=g.indexOf("."),ue=pt;ae>0&&(g=g.slice(0,ae));var Ae=Et.get(g);Ae&&(g=Ae,ue=Rt);function Ce(){var $e=this[q];$e&&(this.removeEventListener(g,$e,$e.$),delete this[q])}function Pe(){var $e=ue(k,f(arguments));Ce.call(this),this.addEventListener(g,this[q]=$e,$e.$=F),$e._=k}function Ge(){var $e=new RegExp("^__on([^.]+)"+l.requote(g)+"$"),ft;for(var dt in this)if(ft=dt.match($e)){var Pt=this[dt];this.removeEventListener(ft[1],Pt,Pt.$),delete this[dt]}}return ae?k?Pe:Ce:k?te:Ge}var Et=l.map({mouseenter:"mouseover",mouseleave:"mouseout"});h&&Et.forEach(function(g){"on"+g in h&&Et.remove(g)});function pt(g,k){return function(F){var q=l.event;l.event=F,k[0]=this.__data__;try{g.apply(this,k)}finally{l.event=q}}}function Rt(g,k){var F=pt(g,k);return function(q){var ae=this,ue=q.relatedTarget;(!ue||ue!==ae&&!(ue.compareDocumentPosition(ae)&8))&&F.call(ae,q)}}var Wt,Vt=0;function Yt(g){var k=".dragsuppress-"+ ++Vt,F="click"+k,q=l.select(m(g)).on("touchmove"+k,Se).on("dragstart"+k,Se).on("selectstart"+k,Se);if(Wt==null&&(Wt="onselectstart"in g?!1:Q(g.style,"userSelect")),Wt){var ae=p(g).style,ue=ae[Wt];ae[Wt]="none"}return function(Ae){if(q.on(k,null),Wt&&(ae[Wt]=ue),Ae){var Ce=function(){q.on(F,null)};q.on(F,function(){Se(),Ce()},!0),setTimeout(Ce,0)}}}l.mouse=function(g){return ct(g,ze())};var et=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function ct(g,k){k.changedTouches&&(k=k.changedTouches[0]);var F=g.ownerSVGElement||g;if(F.createSVGPoint){var q=F.createSVGPoint();if(et<0){var ae=m(g);if(ae.scrollX||ae.scrollY){F=l.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ue=F[0][0].getScreenCTM();et=!(ue.f||ue.e),F.remove()}}return et?(q.x=k.pageX,q.y=k.pageY):(q.x=k.clientX,q.y=k.clientY),q=q.matrixTransform(g.getScreenCTM().inverse()),[q.x,q.y]}var Ae=g.getBoundingClientRect();return[k.clientX-Ae.left-g.clientLeft,k.clientY-Ae.top-g.clientTop]}l.touch=function(g,k,F){if(arguments.length<3&&(F=k,k=ze().changedTouches),k){for(var q=0,ae=k.length,ue;q<ae;++q)if((ue=k[q]).identifier===F)return ct(g,ue)}},l.behavior.drag=function(){var g=Te(ae,"drag","dragstart","dragend"),k=null,F=ue(te,l.mouse,m,"mousemove","mouseup"),q=ue(gt,l.touch,W,"touchmove","touchend");function ae(){this.on("mousedown.drag",F).on("touchstart.drag",q)}function ue(Ae,Ce,Pe,Ge,$e){return function(){var ft=this,dt=l.event.target.correspondingElement||l.event.target,Pt=ft.parentNode,Ut=g.of(ft,arguments),at=0,Lt=Ae(),It=".drag"+(Lt==null?"":"-"+Lt),Ht,jt=l.select(Pe(dt)).on(Ge+It,In).on($e+It,$n),kt=Yt(dt),vn=Ce(Pt,Lt);k?(Ht=k.apply(ft,arguments),Ht=[Ht.x-vn[0],Ht.y-vn[1]]):Ht=[0,0],Ut({type:"dragstart"});function In(){var Bn=Ce(Pt,Lt),Zn,Xn;Bn&&(Zn=Bn[0]-vn[0],Xn=Bn[1]-vn[1],at|=Zn|Xn,vn=Bn,Ut({type:"drag",x:Bn[0]+Ht[0],y:Bn[1]+Ht[1],dx:Zn,dy:Xn}))}function $n(){Ce(Pt,Lt)&&(jt.on(Ge+It,null).on($e+It,null),kt(at),Ut({type:"dragend"}))}}}return ae.origin=function(Ae){return arguments.length?(k=Ae,ae):k},l.rebind(ae,g,"on")};function gt(){return l.event.changedTouches[0].identifier}l.touches=function(g,k){return arguments.length<2&&(k=ze().touches),k?f(k).map(function(F){var q=ct(g,F);return q.identifier=F.identifier,q}):[]};var _e=1e-6,Be=_e*_e,ve=Math.PI,ge=2*ve,Re=ge-_e,Fe=ve/2,Ue=ve/180,We=180/ve;function St(g){return g>0?1:g<0?-1:0}function Mt(g,k,F){return(k[0]-g[0])*(F[1]-g[1])-(k[1]-g[1])*(F[0]-g[0])}function ot(g){return g>1?0:g<-1?ve:Math.acos(g)}function Xe(g){return g>1?Fe:g<-1?-Fe:Math.asin(g)}function _t(g){return((g=Math.exp(g))-1/g)/2}function Xt(g){return((g=Math.exp(g))+1/g)/2}function sn(g){return((g=Math.exp(2*g))-1)/(g+1)}function pn(g){return(g=Math.sin(g/2))*g}var An=Math.SQRT2,zn=2,Jt=4;l.interpolateZoom=function(g,k){var F=g[0],q=g[1],ae=g[2],ue=k[0],Ae=k[1],Ce=k[2],Pe=ue-F,Ge=Ae-q,$e=Pe*Pe+Ge*Ge,ft,dt;if($e<Be)dt=Math.log(Ce/ae)/An,ft=function(Ht){return[F+Ht*Pe,q+Ht*Ge,ae*Math.exp(An*Ht*dt)]};else{var Pt=Math.sqrt($e),Ut=(Ce*Ce-ae*ae+Jt*$e)/(2*ae*zn*Pt),at=(Ce*Ce-ae*ae-Jt*$e)/(2*Ce*zn*Pt),Lt=Math.log(Math.sqrt(Ut*Ut+1)-Ut),It=Math.log(Math.sqrt(at*at+1)-at);dt=(It-Lt)/An,ft=function(Ht){var jt=Ht*dt,kt=Xt(Lt),vn=ae/(zn*Pt)*(kt*sn(An*jt+Lt)-_t(Lt));return[F+vn*Pe,q+vn*Ge,ae*kt/Xt(An*jt+Lt)]}}return ft.duration=dt*1e3,ft},l.behavior.zoom=function(){var g={x:0,y:0,k:1},k,F,q,ae=[960,500],ue=Cn,Ae=250,Ce=0,Pe="mousedown.zoom",Ge="mousemove.zoom",$e="mouseup.zoom",ft,dt="touchstart.zoom",Pt,Ut=Te(jt,"zoomstart","zoom","zoomend"),at,Lt,It,Ht;xn||(xn="onwheel"in h?(yn=function(){return-l.event.deltaY*(l.event.deltaMode?120:1)},"wheel"):"onmousewheel"in h?(yn=function(){return l.event.wheelDelta},"mousewheel"):(yn=function(){return-l.event.detail},"MozMousePixelScroll"));function jt(Rn){Rn.on(Pe,ur).on(xn+".zoom",_a).on("dblclick.zoom",Li).on(dt,di)}jt.event=function(Rn){Rn.each(function(){var yr=Ut.of(this,arguments),Sr=g;q2?l.select(this).transition().each("start.zoom",function(){g=this.__chart__||{x:0,y:0,k:1},Xn(yr)}).tween("zoom:zoom",function(){var hi=ae[0],ca=ae[1],na=F?F[0]:hi/2,hs=F?F[1]:ca/2,Aa=l.interpolateZoom([(na-g.x)/g.k,(hs-g.y)/g.k,hi/g.k],[(na-Sr.x)/Sr.k,(hs-Sr.y)/Sr.k,hi/Sr.k]);return function(Ps){var Cs=Aa(Ps),Rs=hi/Cs[2];this.__chart__=g={x:na-Cs[0]*Rs,y:hs-Cs[1]*Rs,k:Rs},Cr(yr)}}).each("interrupt.zoom",function(){Wn(yr)}).each("end.zoom",function(){Wn(yr)}):(this.__chart__=g,Xn(yr),Cr(yr),Wn(yr))})},jt.translate=function(Rn){return arguments.length?(g={x:+Rn[0],y:+Rn[1],k:g.k},Zn(),jt):[g.x,g.y]},jt.scale=function(Rn){return arguments.length?(g={x:g.x,y:g.y,k:null},In(+Rn),Zn(),jt):g.k},jt.scaleExtent=function(Rn){return arguments.length?(ue=Rn==null?Cn:[+Rn[0],+Rn[1]],jt):ue},jt.center=function(Rn){return arguments.length?(q=Rn&&[+Rn[0],+Rn[1]],jt):q},jt.size=function(Rn){return arguments.length?(ae=Rn&&[+Rn[0],+Rn[1]],jt):ae},jt.duration=function(Rn){return arguments.length?(Ae=+Rn,jt):Ae},jt.x=function(Rn){return arguments.length?(Lt=Rn,at=Rn.copy(),g={x:0,y:0,k:1},jt):Lt},jt.y=function(Rn){return arguments.length?(Ht=Rn,It=Rn.copy(),g={x:0,y:0,k:1},jt):Ht};function kt(Rn){return[(Rn[0]-g.x)/g.k,(Rn[1]-g.y)/g.k]}function vn(Rn){return[Rn[0]*g.k+g.x,Rn[1]*g.k+g.y]}function In(Rn){g.k=Math.max(ue[0],Math.min(ue[1],Rn))}function $n(Rn,yr){yr=vn(yr),g.x+=Rn[0]-yr[0],g.y+=Rn[1]-yr[1]}function Bn(Rn,yr,Sr,hi){Rn.__chart__={x:g.x,y:g.y,k:g.k},In(Math.pow(2,hi)),$n(F=yr,Sr),Rn=l.select(Rn),Ae>0&&(Rn=Rn.transition().duration(Ae)),Rn.call(jt.event)}function Zn(){Lt&&Lt.domain(at.range().map(function(Rn){return(Rn-g.x)/g.k}).map(at.invert)),Ht&&Ht.domain(It.range().map(function(Rn){return(Rn-g.y)/g.k}).map(It.invert))}function Xn(Rn){Ce++||Rn({type:"zoomstart"})}function Cr(Rn){Zn(),Rn({type:"zoom",scale:g.k,translate:[g.x,g.y]})}function Wn(Rn){--Ce||(Rn({type:"zoomend"}),F=null)}function ur(){var Rn=this,yr=Ut.of(Rn,arguments),Sr=0,hi=l.select(m(Rn)).on(Ge,hs).on($e,Aa),ca=kt(l.mouse(Rn)),na=Yt(Rn);N3.call(Rn),Xn(yr);function hs(){Sr=1,$n(l.mouse(Rn),ca),Cr(yr)}function Aa(){hi.on(Ge,null).on($e,null),na(Sr),Wn(yr)}}function di(){var Rn=this,yr=Ut.of(Rn,arguments),Sr={},hi=0,ca,na=".zoom-"+l.event.changedTouches[0].identifier,hs="touchmove"+na,Aa="touchend"+na,Ps=[],Cs=l.select(Rn),Rs=Yt(Rn);Qs(),Xn(yr),Cs.on(Pe,null).on(dt,Qs);function Ms(){var wo=l.touches(Rn);return ca=g.k,wo.forEach(function(ps){ps.identifier in Sr&&(Sr[ps.identifier]=kt(ps))}),wo}function Qs(){var wo=l.event.target;l.select(wo).on(hs,t0).on(Aa,Ld),Ps.push(wo);for(var ps=l.event.changedTouches,lo=0,Vo=ps.length;lo<Vo;++lo)Sr[ps[lo].identifier]=null;var xa=Ms(),Ws=Date.now();if(xa.length===1){if(Ws-Pt<500){var n0=xa[0];Bn(Rn,n0,Sr[n0.identifier],Math.floor(Math.log(g.k)/Math.LN2)+1),Se()}Pt=Ws}else if(xa.length>1){var n0=xa[0],g2=xa[1],r0=n0[0]-g2[0],i0=n0[1]-g2[1];hi=r0*r0+i0*i0}}function t0(){var wo=l.touches(Rn),ps,lo,Vo,xa;N3.call(Rn);for(var Ws=0,n0=wo.length;Ws<n0;++Ws,xa=null)if(Vo=wo[Ws],xa=Sr[Vo.identifier]){if(lo)break;ps=Vo,lo=xa}if(xa){var g2=(g2=Vo[0]-ps[0])*g2+(g2=Vo[1]-ps[1])*g2,r0=hi&&Math.sqrt(g2/hi);ps=[(ps[0]+Vo[0])/2,(ps[1]+Vo[1])/2],lo=[(lo[0]+xa[0])/2,(lo[1]+xa[1])/2],In(r0*ca)}Pt=null,$n(ps,lo),Cr(yr)}function Ld(){if(l.event.touches.length){for(var wo=l.event.changedTouches,ps=0,lo=wo.length;ps<lo;++ps)delete Sr[wo[ps].identifier];for(var Vo in Sr)return void Ms()}l.selectAll(Ps).on(na,null),Cs.on(Pe,ur).on(dt,di),Rs(),Wn(yr)}}function _a(){var Rn=Ut.of(this,arguments);ft?clearTimeout(ft):(N3.call(this),k=kt(F=q||l.mouse(this)),Xn(Rn)),ft=setTimeout(function(){ft=null,Wn(Rn)},50),Se(),In(Math.pow(2,yn()*.002)*g.k),$n(F,k),Cr(Rn)}function Li(){var Rn=l.mouse(this),yr=Math.log(g.k)/Math.LN2;Bn(this,Rn,kt(Rn),l.event.shiftKey?Math.ceil(yr)-1:Math.floor(yr)+1)}return l.rebind(jt,Ut,"on")};var Cn=[0,1/0],yn,xn;l.color=Pn;function Pn(){}Pn.prototype.toString=function(){return this.rgb()+""},l.hsl=Ln;function Ln(g,k,F){return this instanceof Ln?(this.h=+g,this.s=+k,void(this.l=+F)):arguments.length<2?g instanceof Ln?new Ln(g.h,g.s,g.l):wt(""+g,Ot,Ln):new Ln(g,k,F)}var on=Ln.prototype=new Pn;on.brighter=function(g){return g=Math.pow(.7,arguments.length?g:1),new Ln(this.h,this.s,this.l/g)},on.darker=function(g){return g=Math.pow(.7,arguments.length?g:1),new Ln(this.h,this.s,g*this.l)},on.rgb=function(){return _n(this.h,this.s,this.l)};function _n(g,k,F){var q,ae;g=isNaN(g)?0:(g%=360)<0?g+360:g,k=isNaN(k)||k<0?0:k>1?1:k,F=F<0?0:F>1?1:F,ae=F<=.5?F*(1+k):F+k-F*k,q=2*F-ae;function ue(Ce){return Ce>360?Ce-=360:Ce<0&&(Ce+=360),Ce<60?q+(ae-q)*Ce/60:Ce<180?ae:Ce<240?q+(ae-q)*(240-Ce)/60:q}function Ae(Ce){return Math.round(ue(Ce)*255)}return new Qe(Ae(g+120),Ae(g),Ae(g-120))}l.hcl=gn;function gn(g,k,F){return this instanceof gn?(this.h=+g,this.c=+k,void(this.l=+F)):arguments.length<2?g instanceof gn?new gn(g.h,g.c,g.l):g instanceof Jn?it(g.l,g.a,g.b):it((g=en((g=l.rgb(g)).r,g.g,g.b)).l,g.a,g.b):new gn(g,k,F)}var Un=gn.prototype=new Pn;Un.brighter=function(g){return new gn(this.h,this.c,Math.min(100,this.l+bn*(arguments.length?g:1)))},Un.darker=function(g){return new gn(this.h,this.c,Math.max(0,this.l-bn*(arguments.length?g:1)))},Un.rgb=function(){return qn(this.h,this.c,this.l).rgb()};function qn(g,k,F){return isNaN(g)&&(g=0),isNaN(k)&&(k=0),new Jn(F,Math.cos(g*=Ue)*k,Math.sin(g)*k)}l.lab=Jn;function Jn(g,k,F){return this instanceof Jn?(this.l=+g,this.a=+k,void(this.b=+F)):arguments.length<2?g instanceof Jn?new Jn(g.l,g.a,g.b):g instanceof gn?qn(g.h,g.c,g.l):en((g=Qe(g)).r,g.g,g.b):new Jn(g,k,F)}var bn=18,Qn=.95047,Vn=1,hn=1.08883,me=Jn.prototype=new Pn;me.brighter=function(g){return new Jn(Math.min(100,this.l+bn*(arguments.length?g:1)),this.a,this.b)},me.darker=function(g){return new Jn(Math.max(0,this.l-bn*(arguments.length?g:1)),this.a,this.b)},me.rgb=function(){return ce(this.l,this.a,this.b)};function ce(g,k,F){var q=(g+16)/116,ae=q+k/500,ue=q-F/200;return ae=tt(ae)*Qn,q=tt(q)*Vn,ue=tt(ue)*hn,new Qe(Ye(3.2404542*ae-1.5371385*q-.4985314*ue),Ye(-.969266*ae+1.8760108*q+.041556*ue),Ye(.0556434*ae-.2040259*q+1.0572252*ue))}function it(g,k,F){return g>0?new gn(Math.atan2(F,k)*We,Math.sqrt(k*k+F*F),g):new gn(NaN,NaN,g)}function tt(g){return g>.206893034?g*g*g:(g-.13793103448275862)/7.787037}function Ze(g){return g>.008856?Math.pow(g,.3333333333333333):7.787037*g+.13793103448275862}function Ye(g){return Math.round(255*(g<=.00304?12.92*g:1.055*Math.pow(g,.4166666666666667)-.055))}l.rgb=Qe;function Qe(g,k,F){return this instanceof Qe?(this.r=~~g,this.g=~~k,void(this.b=~~F)):arguments.length<2?g instanceof Qe?new Qe(g.r,g.g,g.b):wt(""+g,Qe,_n):new Qe(g,k,F)}function mt(g){return new Qe(g>>16,g>>8&255,g&255)}function st(g){return mt(g)+""}var yt=Qe.prototype=new Pn;yt.brighter=function(g){g=Math.pow(.7,arguments.length?g:1);var k=this.r,F=this.g,q=this.b,ae=30;return!k&&!F&&!q?new Qe(ae,ae,ae):(k&&k<ae&&(k=ae),F&&F<ae&&(F=ae),q&&q<ae&&(q=ae),new Qe(Math.min(255,k/g),Math.min(255,F/g),Math.min(255,q/g)))},yt.darker=function(g){return g=Math.pow(.7,arguments.length?g:1),new Qe(g*this.r,g*this.g,g*this.b)},yt.hsl=function(){return Ot(this.r,this.g,this.b)},yt.toString=function(){return"#"+Ct(this.r)+Ct(this.g)+Ct(this.b)};function Ct(g){return g<16?"0"+Math.max(0,g).toString(16):Math.min(255,g).toString(16)}function wt(g,k,F){var q=0,ae=0,ue=0,Ae,Ce,Pe;if(Ae=/([a-z]+)\((.*)\)/.exec(g=g.toLowerCase()),Ae)switch(Ce=Ae[2].split(","),Ae[1]){case"hsl":return F(parseFloat(Ce[0]),parseFloat(Ce[1])/100,parseFloat(Ce[2])/100);case"rgb":return k(fn(Ce[0]),fn(Ce[1]),fn(Ce[2]))}return(Pe=Zt.get(g))?k(Pe.r,Pe.g,Pe.b):(g!=null&&g.charAt(0)==="#"&&!isNaN(Pe=parseInt(g.slice(1),16))&&(g.length===4?(q=(Pe&3840)>>4,q=q>>4|q,ae=Pe&240,ae=ae>>4|ae,ue=Pe&15,ue=ue<<4|ue):g.length===7&&(q=(Pe&16711680)>>16,ae=(Pe&65280)>>8,ue=Pe&255)),k(q,ae,ue))}function Ot(g,k,F){var q=Math.min(g/=255,k/=255,F/=255),ae=Math.max(g,k,F),ue=ae-q,Ae,Ce,Pe=(ae+q)/2;return ue?(Ce=Pe<.5?ue/(ae+q):ue/(2-ae-q),g==ae?Ae=(k-F)/ue+(k<F?6:0):k==ae?Ae=(F-g)/ue+2:Ae=(g-k)/ue+4,Ae*=60):(Ae=NaN,Ce=Pe>0&&Pe<1?0:Ae),new Ln(Ae,Ce,Pe)}function en(g,k,F){g=Tt(g),k=Tt(k),F=Tt(F);var q=Ze((.4124564*g+.3575761*k+.1804375*F)/Qn),ae=Ze((.2126729*g+.7151522*k+.072175*F)/Vn),ue=Ze((.0193339*g+.119192*k+.9503041*F)/hn);return Jn(116*ae-16,500*(q-ae),200*(ae-ue))}function Tt(g){return(g/=255)<=.04045?g/12.92:Math.pow((g+.055)/1.055,2.4)}function fn(g){var k=parseFloat(g);return g.charAt(g.length-1)==="%"?Math.round(k*2.55):k}var Zt=l.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Zt.forEach(function(g,k){Zt.set(g,mt(k))});function an(g){return typeof g=="function"?g:function(){return g}}l.functor=an,l.xhr=ln(W);function ln(g){return function(k,F,q){return arguments.length===2&&typeof F=="function"&&(q=F,F=null),En(k,F,g,q)}}function En(g,k,F,q){var ae={},ue=l.dispatch("beforesend","progress","load","error"),Ae={},Ce=new XMLHttpRequest,Pe=null;self.XDomainRequest&&!("withCredentials"in Ce)&&/^(http(s)?:)?\/\//.test(g)&&(Ce=new XDomainRequest),"onload"in Ce?Ce.onload=Ce.onerror=Ge:Ce.onreadystatechange=function(){Ce.readyState>3&&Ge()};function Ge(){var $e=Ce.status,ft;if(!$e&&sr(Ce)||$e>=200&&$e<300||$e===304){try{ft=F.call(ae,Ce)}catch(dt){ue.error.call(ae,dt);return}ue.load.call(ae,ft)}else ue.error.call(ae,Ce)}return Ce.onprogress=function($e){var ft=l.event;l.event=$e;try{ue.progress.call(ae,Ce)}finally{l.event=ft}},ae.header=function($e,ft){return $e=($e+"").toLowerCase(),arguments.length<2?Ae[$e]:(ft==null?delete Ae[$e]:Ae[$e]=ft+"",ae)},ae.mimeType=function($e){return arguments.length?(k=$e==null?null:$e+"",ae):k},ae.responseType=function($e){return arguments.length?(Pe=$e,ae):Pe},ae.response=function($e){return F=$e,ae},["get","post"].forEach(function($e){ae[$e]=function(){return ae.send.apply(ae,[$e].concat(f(arguments)))}}),ae.send=function($e,ft,dt){if(arguments.length===2&&typeof ft=="function"&&(dt=ft,ft=null),Ce.open($e,g,!0),k!=null&&!("accept"in Ae)&&(Ae.accept=k+",*/*"),Ce.setRequestHeader)for(var Pt in Ae)Ce.setRequestHeader(Pt,Ae[Pt]);return k!=null&&Ce.overrideMimeType&&Ce.overrideMimeType(k),Pe!=null&&(Ce.responseType=Pe),dt!=null&&ae.on("error",dt).on("load",function(Ut){dt(null,Ut)}),ue.beforesend.call(ae,Ce),Ce.send(ft??null),ae},ae.abort=function(){return Ce.abort(),ae},l.rebind(ae,ue,"on"),q==null?ae:ae.get(Gn(q))}function Gn(g){return g.length===1?function(k,F){g(k==null?F:null)}:g}function sr(g){var k=g.responseType;return k&&k!=="text"?g.response:g.responseText}l.dsv=function(g,k){var F=new RegExp('["'+g+`
]`),q=g.charCodeAt(0);function ae(Ge,$e,ft){arguments.length<3&&(ft=$e,$e=null);var dt=En(Ge,k,$e==null?ue:Ae($e),ft);return dt.row=function(Pt){return arguments.length?dt.response(($e=Pt)==null?ue:Ae(Pt)):$e},dt}function ue(Ge){return ae.parse(Ge.responseText)}function Ae(Ge){return function($e){return ae.parse($e.responseText,Ge)}}ae.parse=function(Ge,$e){var ft;return ae.parseRows(Ge,function(dt,Pt){if(ft)return ft(dt,Pt-1);var Ut=function(at){for(var Lt={},It=dt.length,Ht=0;Ht<It;++Ht)Lt[dt[Ht]]=at[Ht];return Lt};ft=$e?function(at,Lt){return $e(Ut(at),Lt)}:Ut})},ae.parseRows=function(Ge,$e){var ft={},dt={},Pt=[],Ut=Ge.length,at=0,Lt=0,It,Ht;function jt(){if(at>=Ut)return dt;if(Ht)return Ht=!1,ft;var vn=at;if(Ge.charCodeAt(vn)===34){for(var In=vn;In++<Ut;)if(Ge.charCodeAt(In)===34){if(Ge.charCodeAt(In+1)!==34)break;++In}at=In+2;var $n=Ge.charCodeAt(In+1);return $n===13?(Ht=!0,Ge.charCodeAt(In+2)===10&&++at):$n===10&&(Ht=!0),Ge.slice(vn+1,In).replace(/""/g,'"')}for(;at<Ut;){var $n=Ge.charCodeAt(at++),Bn=1;if($n===10)Ht=!0;else if($n===13)Ht=!0,Ge.charCodeAt(at)===10&&(++at,++Bn);else if($n!==q)continue;return Ge.slice(vn,at-Bn)}return Ge.slice(vn)}for(;(It=jt())!==dt;){for(var kt=[];It!==ft&&It!==dt;)kt.push(It),It=jt();$e&&(kt=$e(kt,Lt++))==null||Pt.push(kt)}return Pt},ae.format=function(Ge){if(Array.isArray(Ge[0]))return ae.formatRows(Ge);var $e=new V,ft=[];return Ge.forEach(function(dt){for(var Pt in dt)$e.has(Pt)||ft.push($e.add(Pt))}),[ft.map(Pe).join(g)].concat(Ge.map(function(dt){return ft.map(function(Pt){return Pe(dt[Pt])}).join(g)})).join(`
`)},ae.formatRows=function(Ge){return Ge.map(Ce).join(`
`)};function Ce(Ge){return Ge.map(Pe).join(g)}function Pe(Ge){return F.test(Ge)?'"'+Ge.replace(/\"/g,'""')+'"':Ge}return ae},l.csv=l.dsv(",","text/csv"),l.tsv=l.dsv("	","text/tab-separated-values");var Yn,Xr,Mr,Ur,ta=this[Q(this,"requestAnimationFrame")]||function(g){setTimeout(g,17)};l.timer=function(){Va.apply(this,arguments)};function Va(g,k,F){var q=arguments.length;q<2&&(k=0),q<3&&(F=Date.now());var ae=F+k,ue={c:g,t:ae,n:null};return Xr?Xr.n=ue:Yn=ue,Xr=ue,Mr||(Ur=clearTimeout(Ur),Mr=1,ta(ei)),ue}function ei(){var g=Fi(),k=_i()-g;k>24?(isFinite(k)&&(clearTimeout(Ur),Ur=setTimeout(ei,k)),Mr=0):(Mr=1,ta(ei))}l.timer.flush=function(){Fi(),_i()};function Fi(){for(var g=Date.now(),k=Yn;k;)g>=k.t&&k.c(g-k.t)&&(k.c=null),k=k.n;return g}function _i(){for(var g,k=Yn,F=1/0;k;)k.c?(k.t<F&&(F=k.t),k=(g=k).n):k=g?g.n=k.n:Yn=k.n;return Xr=g,F}l.round=function(g,k){return k?Math.round(g*(k=Math.pow(10,k)))/k:Math.round(g)},l.geom={};function lr(g){return g[0]}function br(g){return g[1]}l.geom.hull=function(g){var k=lr,F=br;if(arguments.length)return q(g);function q(ae){if(ae.length<3)return[];var ue=an(k),Ae=an(F),Ce,Pe=ae.length,Ge=[],$e=[];for(Ce=0;Ce<Pe;Ce++)Ge.push([+ue.call(this,ae[Ce],Ce),+Ae.call(this,ae[Ce],Ce),Ce]);for(Ge.sort(vr),Ce=0;Ce<Pe;Ce++)$e.push([Ge[Ce][0],-Ge[Ce][1]]);var ft=cr(Ge),dt=cr($e),Pt=dt[0]===ft[0],Ut=dt[dt.length-1]===ft[ft.length-1],at=[];for(Ce=ft.length-1;Ce>=0;--Ce)at.push(ae[Ge[ft[Ce]][2]]);for(Ce=+Pt;Ce<dt.length-Ut;++Ce)at.push(ae[Ge[dt[Ce]][2]]);return at}return q.x=function(ae){return arguments.length?(k=ae,q):k},q.y=function(ae){return arguments.length?(F=ae,q):F},q};function cr(g){for(var k=g.length,F=[0,1],q=2,ae=2;ae<k;ae++){for(;q>1&&Mt(g[F[q-2]],g[F[q-1]],g[ae])<=0;)--q;F[q++]=ae}return F.slice(0,q)}function vr(g,k){return g[0]-k[0]||g[1]-k[1]}l.geom.polygon=function(g){return he(g,Zr),g};var Zr=l.geom.polygon.prototype=[];Zr.area=function(){for(var g=-1,k=this.length,F,q=this[k-1],ae=0;++g<k;)F=q,q=this[g],ae+=F[1]*q[0]-F[0]*q[1];return ae*.5},Zr.centroid=function(g){var k=-1,F=this.length,q=0,ae=0,ue,Ae=this[F-1],Ce;for(arguments.length||(g=-1/(6*this.area()));++k<F;)ue=Ae,Ae=this[k],Ce=ue[0]*Ae[1]-Ae[0]*ue[1],q+=(ue[0]+Ae[0])*Ce,ae+=(ue[1]+Ae[1])*Ce;return[q*g,ae*g]},Zr.clip=function(g){for(var k,F=Ti(g),q=-1,ae=this.length-Ti(this),ue,Ae,Ce=this[ae-1],Pe,Ge,$e;++q<ae;){for(k=g.slice(),g.length=0,Pe=this[q],Ge=k[(Ae=k.length-F)-1],ue=-1;++ue<Ae;)$e=k[ue],gr($e,Ce,Pe)?(gr(Ge,Ce,Pe)||g.push(Dr(Ge,$e,Ce,Pe)),g.push($e)):gr(Ge,Ce,Pe)&&g.push(Dr(Ge,$e,Ce,Pe)),Ge=$e;F&&g.push(g[0]),Ce=Pe}return g};function gr(g,k,F){return(F[0]-k[0])*(g[1]-k[1])<(F[1]-k[1])*(g[0]-k[0])}function Dr(g,k,F,q){var ae=g[0],ue=F[0],Ae=k[0]-ae,Ce=q[0]-ue,Pe=g[1],Ge=F[1],$e=k[1]-Pe,ft=q[1]-Ge,dt=(Ce*(Pe-Ge)-ft*(ae-ue))/(ft*Ae-Ce*$e);return[ae+dt*Ae,Pe+dt*$e]}function Ti(g){var k=g[0],F=g[g.length-1];return!(k[0]-F[0]||k[1]-F[1])}var Zi,Ii,ki,ti=[],Ai,Ni,Pa=[];function ni(){G2(this),this.edge=this.site=this.circle=null}function Ki(g){var k=ti.pop()||new ni;return k.site=g,k}function Ja(g){Qi(g),ki.remove(g),ti.push(g),G2(g)}function bs(g){var k=g.circle,F=k.x,q=k.cy,ae={x:F,y:q},ue=g.P,Ae=g.N,Ce=[g];Ja(g);for(var Pe=ue;Pe.circle&&M(F-Pe.circle.x)<_e&&M(q-Pe.circle.cy)<_e;)ue=Pe.P,Ce.unshift(Pe),Ja(Pe),Pe=ue;Ce.unshift(Pe),Qi(Pe);for(var Ge=Ae;Ge.circle&&M(F-Ge.circle.x)<_e&&M(q-Ge.circle.cy)<_e;)Ae=Ge.N,Ce.push(Ge),Ja(Ge),Ge=Ae;Ce.push(Ge),Qi(Ge);var $e=Ce.length,ft;for(ft=1;ft<$e;++ft)Ge=Ce[ft],Pe=Ce[ft-1],u1(Ge.edge,Pe.site,Ge.site,ae);Pe=Ce[0],Ge=Ce[$e-1],Ge.edge=$s(Pe.site,Ge.site,null,ae),Vi(Pe),Vi(Ge)}function Is(g){for(var k=g.x,F=g.y,q,ae,ue,Ae,Ce=ki._;Ce;)if(ue=qa(Ce,F)-k,ue>_e)Ce=Ce.L;else if(Ae=k-wa(Ce,F),Ae>_e){if(!Ce.R){q=Ce;break}Ce=Ce.R}else{ue>-_e?(q=Ce.P,ae=Ce):Ae>-_e?(q=Ce,ae=Ce.N):q=ae=Ce;break}var Pe=Ki(g);if(ki.insert(q,Pe),!(!q&&!ae)){if(q===ae){Qi(q),ae=Ki(q.site),ki.insert(Pe,ae),Pe.edge=ae.edge=$s(q.site,Pe.site),Vi(q),Vi(ae);return}if(!ae){Pe.edge=$s(q.site,Pe.site);return}Qi(q),Qi(ae);var Ge=q.site,$e=Ge.x,ft=Ge.y,dt=g.x-$e,Pt=g.y-ft,Ut=ae.site,at=Ut.x-$e,Lt=Ut.y-ft,It=2*(dt*Lt-Pt*at),Ht=dt*dt+Pt*Pt,jt=at*at+Lt*Lt,kt={x:(Lt*Ht-Pt*jt)/It+$e,y:(dt*jt-at*Ht)/It+ft};u1(ae.edge,Ge,Ut,kt),Pe.edge=$s(Ge,g,null,kt),ae.edge=$s(g,Ut,null,kt),Vi(q),Vi(ae)}}function qa(g,k){var F=g.site,q=F.x,ae=F.y,ue=ae-k;if(!ue)return q;var Ae=g.P;if(!Ae)return-1/0;F=Ae.site;var Ce=F.x,Pe=F.y,Ge=Pe-k;if(!Ge)return Ce;var $e=Ce-q,ft=1/ue-1/Ge,dt=$e/Ge;return ft?(-dt+Math.sqrt(dt*dt-2*ft*($e*$e/(-2*Ge)-Pe+Ge/2+ae-ue/2)))/ft+q:(q+Ce)/2}function wa(g,k){var F=g.N;if(F)return qa(F,k);var q=g.site;return q.y===k?q.x:1/0}function ao(g){this.site=g,this.edges=[]}ao.prototype.prepare=function(){for(var g=this.edges,k=g.length,F;k--;)F=g[k].edge,(!F.b||!F.a)&&g.splice(k,1);return g.sort(ga),g.length};function oa(g){for(var k=g[0][0],F=g[1][0],q=g[0][1],ae=g[1][1],ue,Ae,Ce,Pe,Ge=Ii,$e=Ge.length,ft,dt,Pt,Ut,at,Lt;$e--;)if(ft=Ge[$e],!(!ft||!ft.prepare()))for(Pt=ft.edges,Ut=Pt.length,dt=0;dt<Ut;)Lt=Pt[dt].end(),Ce=Lt.x,Pe=Lt.y,at=Pt[++dt%Ut].start(),ue=at.x,Ae=at.y,(M(Ce-ue)>_e||M(Pe-Ae)>_e)&&(Pt.splice(dt,0,new B1(j2(ft.site,Lt,M(Ce-k)<_e&&ae-Pe>_e?{x:k,y:M(ue-k)<_e?Ae:ae}:M(Pe-ae)<_e&&F-Ce>_e?{x:M(Ae-ae)<_e?ue:F,y:ae}:M(Ce-F)<_e&&Pe-q>_e?{x:F,y:M(ue-F)<_e?Ae:q}:M(Pe-q)<_e&&Ce-k>_e?{x:M(Ae-q)<_e?ue:k,y:q}:null),ft.site,null)),++Ut)}function ga(g,k){return k.angle-g.angle}function ha(){G2(this),this.x=this.y=this.arc=this.site=this.cy=null}function Vi(g){var k=g.P,F=g.N;if(!(!k||!F)){var q=k.site,ae=g.site,ue=F.site;if(q!==ue){var Ae=ae.x,Ce=ae.y,Pe=q.x-Ae,Ge=q.y-Ce,$e=ue.x-Ae,Lt=ue.y-Ce,ft=2*(Pe*Lt-Ge*$e);if(!(ft>=-Be)){var dt=Pe*Pe+Ge*Ge,Pt=$e*$e+Lt*Lt,Ut=(Lt*dt-Ge*Pt)/ft,at=(Pe*Pt-$e*dt)/ft,Lt=at+Ce,It=Pa.pop()||new ha;It.arc=g,It.site=ae,It.x=Ut+Ae,It.y=Lt+Math.sqrt(Ut*Ut+at*at),It.cy=Lt,g.circle=It;for(var Ht=null,jt=Ni._;jt;)if(It.y<jt.y||It.y===jt.y&&It.x<=jt.x)if(jt.L)jt=jt.L;else{Ht=jt.P;break}else if(jt.R)jt=jt.R;else{Ht=jt;break}Ni.insert(Ht,It),Ht||(Ai=It)}}}}function Qi(g){var k=g.circle;k&&(k.P||(Ai=k.N),Ni.remove(k),Pa.push(k),G2(k),g.circle=null)}function wr(g,k,F,q){return function(ae){var ue=ae.a,Ae=ae.b,Ce=ue.x,Pe=ue.y,Ge=Ae.x,$e=Ae.y,ft=0,dt=1,Pt=Ge-Ce,Ut=$e-Pe,at;if(at=g-Ce,!(!Pt&&at>0)){if(at/=Pt,Pt<0){if(at<ft)return;at<dt&&(dt=at)}else if(Pt>0){if(at>dt)return;at>ft&&(ft=at)}if(at=F-Ce,!(!Pt&&at<0)){if(at/=Pt,Pt<0){if(at>dt)return;at>ft&&(ft=at)}else if(Pt>0){if(at<ft)return;at<dt&&(dt=at)}if(at=k-Pe,!(!Ut&&at>0)){if(at/=Ut,Ut<0){if(at<ft)return;at<dt&&(dt=at)}else if(Ut>0){if(at>dt)return;at>ft&&(ft=at)}if(at=q-Pe,!(!Ut&&at<0)){if(at/=Ut,Ut<0){if(at>dt)return;at>ft&&(ft=at)}else if(Ut>0){if(at<ft)return;at<dt&&(dt=at)}return ft>0&&(ae.a={x:Ce+ft*Pt,y:Pe+ft*Ut}),dt<1&&(ae.b={x:Ce+dt*Pt,y:Pe+dt*Ut}),ae}}}}}}function Pi(g){for(var k=Zi,F=wr(g[0][0],g[0][1],g[1][0],g[1][1]),q=k.length,ae;q--;)ae=k[q],(!Xs(ae,g)||!F(ae)||M(ae.a.x-ae.b.x)<_e&&M(ae.a.y-ae.b.y)<_e)&&(ae.a=ae.b=null,k.splice(q,1))}function Xs(g,k){var F=g.b;if(F)return!0;var q=g.a,ae=k[0][0],ue=k[1][0],Ae=k[0][1],Ce=k[1][1],Pe=g.l,Ge=g.r,$e=Pe.x,ft=Pe.y,dt=Ge.x,Pt=Ge.y,Ut=($e+dt)/2,at=(ft+Pt)/2,Lt,It;if(Pt===ft){if(Ut<ae||Ut>=ue)return;if($e>dt){if(!q)q={x:Ut,y:Ae};else if(q.y>=Ce)return;F={x:Ut,y:Ce}}else{if(!q)q={x:Ut,y:Ce};else if(q.y<Ae)return;F={x:Ut,y:Ae}}}else if(Lt=($e-dt)/(Pt-ft),It=at-Lt*Ut,Lt<-1||Lt>1)if($e>dt){if(!q)q={x:(Ae-It)/Lt,y:Ae};else if(q.y>=Ce)return;F={x:(Ce-It)/Lt,y:Ce}}else{if(!q)q={x:(Ce-It)/Lt,y:Ce};else if(q.y<Ae)return;F={x:(Ae-It)/Lt,y:Ae}}else if(ft<Pt){if(!q)q={x:ae,y:Lt*ae+It};else if(q.x>=ue)return;F={x:ue,y:Lt*ue+It}}else{if(!q)q={x:ue,y:Lt*ue+It};else if(q.x<ae)return;F={x:ae,y:Lt*ae+It}}return g.a=q,g.b=F,!0}function Hi(g,k){this.l=g,this.r=k,this.a=this.b=null}function $s(g,k,F,q){var ae=new Hi(g,k);return Zi.push(ae),F&&u1(ae,g,k,F),q&&u1(ae,k,g,q),Ii[g.i].edges.push(new B1(ae,g,k)),Ii[k.i].edges.push(new B1(ae,k,g)),ae}function j2(g,k,F){var q=new Hi(g,null);return q.a=k,q.b=F,Zi.push(q),q}function u1(g,k,F,q){!g.a&&!g.b?(g.a=q,g.l=k,g.r=F):g.l===F?g.b=q:g.a=q}function B1(g,k,F){var q=g.a,ae=g.b;this.edge=g,this.site=k,this.angle=F?Math.atan2(F.y-k.y,F.x-k.x):g.l===k?Math.atan2(ae.x-q.x,q.y-ae.y):Math.atan2(q.x-ae.x,ae.y-q.y)}B1.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function V0(){this._=null}function G2(g){g.U=g.C=g.L=g.R=g.P=g.N=null}V0.prototype={insert:function(g,k){var F,q,ae;if(g){if(k.P=g,k.N=g.N,g.N&&(g.N.P=k),g.N=k,g.R){for(g=g.R;g.L;)g=g.L;g.L=k}else g.R=k;F=g}else this._?(g=Il(this._),k.P=null,k.N=g,g.P=g.L=k,F=g):(k.P=k.N=null,this._=k,F=null);for(k.L=k.R=null,k.U=F,k.C=!0,g=k;F&&F.C;)q=F.U,F===q.L?(ae=q.R,ae&&ae.C?(F.C=ae.C=!1,q.C=!0,g=q):(g===F.R&&(u2(this,F),g=F,F=g.U),F.C=!1,q.C=!0,V1(this,q))):(ae=q.L,ae&&ae.C?(F.C=ae.C=!1,q.C=!0,g=q):(g===F.L&&(V1(this,F),g=F,F=g.U),F.C=!1,q.C=!0,u2(this,q))),F=g.U;this._.C=!1},remove:function(g){g.N&&(g.N.P=g.P),g.P&&(g.P.N=g.N),g.N=g.P=null;var k=g.U,F,q=g.L,ae=g.R,ue,Ae;if(q?ae?ue=Il(ae):ue=q:ue=ae,k?k.L===g?k.L=ue:k.R=ue:this._=ue,q&&ae?(Ae=ue.C,ue.C=g.C,ue.L=q,q.U=ue,ue!==ae?(k=ue.U,ue.U=g.U,g=ue.R,k.L=g,ue.R=ae,ae.U=ue):(ue.U=k,k=ue,g=ue.R)):(Ae=g.C,g=ue),g&&(g.U=k),!Ae){if(g&&g.C){g.C=!1;return}do{if(g===this._)break;if(g===k.L){if(F=k.R,F.C&&(F.C=!1,k.C=!0,u2(this,k),F=k.R),F.L&&F.L.C||F.R&&F.R.C){(!F.R||!F.R.C)&&(F.L.C=!1,F.C=!0,V1(this,F),F=k.R),F.C=k.C,k.C=F.R.C=!1,u2(this,k),g=this._;break}}else if(F=k.L,F.C&&(F.C=!1,k.C=!0,V1(this,k),F=k.L),F.L&&F.L.C||F.R&&F.R.C){(!F.L||!F.L.C)&&(F.R.C=!1,F.C=!0,u2(this,F),F=k.L),F.C=k.C,k.C=F.L.C=!1,V1(this,k),g=this._;break}F.C=!0,g=k,k=k.U}while(!g.C);g&&(g.C=!1)}}};function u2(g,k){var F=k,q=k.R,ae=F.U;ae?ae.L===F?ae.L=q:ae.R=q:g._=q,q.U=ae,F.U=q,F.R=q.L,F.R&&(F.R.U=F),q.L=F}function V1(g,k){var F=k,q=k.L,ae=F.U;ae?ae.L===F?ae.L=q:ae.R=q:g._=q,q.U=ae,F.U=q,F.L=q.R,F.L&&(F.L.U=F),q.R=F}function Il(g){for(;g.L;)g=g.L;return g}function f2(g,k){var F=g.sort(Np).pop(),q,ae,ue;for(Zi=[],Ii=new Array(g.length),ki=new V0,Ni=new V0;;)if(ue=Ai,F&&(!ue||F.y<ue.y||F.y===ue.y&&F.x<ue.x))(F.x!==q||F.y!==ae)&&(Ii[F.i]=new ao(F),Is(F),q=F.x,ae=F.y),F=g.pop();else if(ue)bs(ue.arc);else break;k&&(Pi(k),oa(k));var Ae={cells:Ii,edges:Zi};return ki=Ni=Zi=Ii=null,Ae}function Np(g,k){return k.y-g.y||k.x-g.x}l.geom.voronoi=function(g){var k=lr,F=br,q=k,ae=F,ue=kl;if(g)return Ae(g);function Ae(Pe){var Ge=new Array(Pe.length),$e=ue[0][0],ft=ue[0][1],dt=ue[1][0],Pt=ue[1][1];return f2(Ce(Pe),ue).cells.forEach(function(Ut,at){var Lt=Ut.edges,It=Ut.site,Ht=Ge[at]=Lt.length?Lt.map(function(jt){var kt=jt.start();return[kt.x,kt.y]}):It.x>=$e&&It.x<=dt&&It.y>=ft&&It.y<=Pt?[[$e,Pt],[dt,Pt],[dt,ft],[$e,ft]]:[];Ht.point=Pe[at]}),Ge}function Ce(Pe){return Pe.map(function(Ge,$e){return{x:Math.round(q(Ge,$e)/_e)*_e,y:Math.round(ae(Ge,$e)/_e)*_e,i:$e}})}return Ae.links=function(Pe){return f2(Ce(Pe)).edges.filter(function(Ge){return Ge.l&&Ge.r}).map(function(Ge){return{source:Pe[Ge.l.i],target:Pe[Ge.r.i]}})},Ae.triangles=function(Pe){var Ge=[];return f2(Ce(Pe)).cells.forEach(function($e,ft){for(var dt=$e.site,Pt=$e.edges.sort(ga),Ut=-1,at=Pt.length,Lt,It,Ht=Pt[at-1].edge,jt=Ht.l===dt?Ht.r:Ht.l;++Ut<at;)Lt=Ht,It=jt,Ht=Pt[Ut].edge,jt=Ht.l===dt?Ht.r:Ht.l,ft<It.i&&ft<jt.i&&Yf(dt,It,jt)<0&&Ge.push([Pe[ft],Pe[It.i],Pe[jt.i]])}),Ge},Ae.x=function(Pe){return arguments.length?(q=an(k=Pe),Ae):k},Ae.y=function(Pe){return arguments.length?(ae=an(F=Pe),Ae):F},Ae.clipExtent=function(Pe){return arguments.length?(ue=Pe??kl,Ae):ue===kl?null:ue},Ae.size=function(Pe){return arguments.length?Ae.clipExtent(Pe&&[[0,0],Pe]):ue===kl?null:ue&&ue[1]},Ae};var kl=[[-1e6,-1e6],[1e6,1e6]];function Yf(g,k,F){return(g.x-F.x)*(k.y-g.y)-(g.x-k.x)*(F.y-g.y)}l.geom.delaunay=function(g){return l.geom.voronoi().triangles(g)},l.geom.quadtree=function(g,k,F,q,ae){var ue=lr,Ae=br,Ce;if(Ce=arguments.length)return ue=M6,Ae=w6,Ce===3&&(ae=F,q=k,F=k=0),Pe(g);function Pe(Ge){var $e,ft=an(ue),dt=an(Ae),Pt,Ut,at,Lt,It,Ht,jt,kt;if(k!=null)It=k,Ht=F,jt=q,kt=ae;else if(jt=kt=-(It=Ht=1/0),Pt=[],Ut=[],Lt=Ge.length,Ce)for(at=0;at<Lt;++at)$e=Ge[at],$e.x<It&&(It=$e.x),$e.y<Ht&&(Ht=$e.y),$e.x>jt&&(jt=$e.x),$e.y>kt&&(kt=$e.y),Pt.push($e.x),Ut.push($e.y);else for(at=0;at<Lt;++at){var vn=+ft($e=Ge[at],at),In=+dt($e,at);vn<It&&(It=vn),In<Ht&&(Ht=In),vn>jt&&(jt=vn),In>kt&&(kt=In),Pt.push(vn),Ut.push(In)}var $n=jt-It,Bn=kt-Ht;$n>Bn?kt=Ht+$n:jt=It+Bn;function Zn(Wn,ur,di,_a,Li,Rn,yr,Sr){if(!(isNaN(di)||isNaN(_a)))if(Wn.leaf){var hi=Wn.x,ca=Wn.y;if(hi!=null)if(M(hi-di)+M(ca-_a)<.01)Xn(Wn,ur,di,_a,Li,Rn,yr,Sr);else{var na=Wn.point;Wn.x=Wn.y=Wn.point=null,Xn(Wn,na,hi,ca,Li,Rn,yr,Sr),Xn(Wn,ur,di,_a,Li,Rn,yr,Sr)}else Wn.x=di,Wn.y=_a,Wn.point=ur}else Xn(Wn,ur,di,_a,Li,Rn,yr,Sr)}function Xn(Wn,ur,di,_a,Li,Rn,yr,Sr){var hi=(Li+yr)*.5,ca=(Rn+Sr)*.5,na=di>=hi,hs=_a>=ca,Aa=hs<<1|na;Wn.leaf=!1,Wn=Wn.nodes[Aa]||(Wn.nodes[Aa]=_6()),na?Li=hi:yr=hi,hs?Rn=ca:Sr=ca,Zn(Wn,ur,di,_a,Li,Rn,yr,Sr)}var Cr=_6();if(Cr.add=function(Wn){Zn(Cr,Wn,+ft(Wn,++at),+dt(Wn,at),It,Ht,jt,kt)},Cr.visit=function(Wn){Nl(Wn,Cr,It,Ht,jt,kt)},Cr.find=function(Wn){return S6(Cr,Wn[0],Wn[1],It,Ht,jt,kt)},at=-1,k==null){for(;++at<Lt;)Zn(Cr,Ge[at],Pt[at],Ut[at],It,Ht,jt,kt);--at}else Ge.forEach(Cr.add);return Pt=Ut=Ge=$e=null,Cr}return Pe.x=function(Ge){return arguments.length?(ue=Ge,Pe):ue},Pe.y=function(Ge){return arguments.length?(Ae=Ge,Pe):Ae},Pe.extent=function(Ge){return arguments.length?(Ge==null?k=F=q=ae=null:(k=+Ge[0][0],F=+Ge[0][1],q=+Ge[1][0],ae=+Ge[1][1]),Pe):k==null?null:[[k,F],[q,ae]]},Pe.size=function(Ge){return arguments.length?(Ge==null?k=F=q=ae=null:(k=F=0,q=+Ge[0],ae=+Ge[1]),Pe):k==null?null:[q-k,ae-F]},Pe};function M6(g){return g.x}function w6(g){return g.y}function _6(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Nl(g,k,F,q,ae,ue){if(!g(k,F,q,ae,ue)){var Ae=(F+ae)*.5,Ce=(q+ue)*.5,Pe=k.nodes;Pe[0]&&Nl(g,Pe[0],F,q,Ae,Ce),Pe[1]&&Nl(g,Pe[1],Ae,q,ae,Ce),Pe[2]&&Nl(g,Pe[2],F,Ce,Ae,ue),Pe[3]&&Nl(g,Pe[3],Ae,Ce,ae,ue)}}function S6(g,k,F,q,ae,ue,Ae){var Ce=1/0,Pe;return function Ge($e,ft,dt,Pt,Ut){if(!(ft>ue||dt>Ae||Pt<q||Ut<ae)){if(at=$e.point){var at,Lt=k-$e.x,It=F-$e.y,Ht=Lt*Lt+It*It;if(Ht<Ce){var jt=Math.sqrt(Ce=Ht);q=k-jt,ae=F-jt,ue=k+jt,Ae=F+jt,Pe=at}}for(var kt=$e.nodes,vn=(ft+Pt)*.5,In=(dt+Ut)*.5,$n=k>=vn,Bn=F>=In,Zn=Bn<<1|$n,Xn=Zn+4;Zn<Xn;++Zn)if($e=kt[Zn&3])switch(Zn&3){case 0:Ge($e,ft,dt,vn,In);break;case 1:Ge($e,vn,dt,Pt,In);break;case 2:Ge($e,ft,In,vn,Ut);break;case 3:Ge($e,vn,In,Pt,Ut);break}}}(g,q,ae,ue,Ae),Pe}l.interpolateRgb=Pl;function Pl(g,k){g=l.rgb(g),k=l.rgb(k);var F=g.r,q=g.g,ae=g.b,ue=k.r-F,Ae=k.g-q,Ce=k.b-ae;return function(Pe){return"#"+Ct(Math.round(F+ue*Pe))+Ct(Math.round(q+Ae*Pe))+Ct(Math.round(ae+Ce*Pe))}}l.interpolateObject=Zf;function Zf(g,k){var F={},q={},ae;for(ae in g)ae in k?F[ae]=d2(g[ae],k[ae]):q[ae]=g[ae];for(ae in k)ae in g||(q[ae]=k[ae]);return function(ue){for(ae in F)q[ae]=F[ae](ue);return q}}l.interpolateNumber=f1;function f1(g,k){return g=+g,k=+k,function(F){return g*(1-F)+k*F}}l.interpolateString=Ks;function Ks(g,k){var F=Rl.lastIndex=$2.lastIndex=0,q,ae,ue,Ae=-1,Ce=[],Pe=[];for(g=g+"",k=k+"";(q=Rl.exec(g))&&(ae=$2.exec(k));)(ue=ae.index)>F&&(ue=k.slice(F,ue),Ce[Ae]?Ce[Ae]+=ue:Ce[++Ae]=ue),(q=q[0])===(ae=ae[0])?Ce[Ae]?Ce[Ae]+=ae:Ce[++Ae]=ae:(Ce[++Ae]=null,Pe.push({i:Ae,x:f1(q,ae)})),F=$2.lastIndex;return F<k.length&&(ue=k.slice(F),Ce[Ae]?Ce[Ae]+=ue:Ce[++Ae]=ue),Ce.length<2?Pe[0]?(k=Pe[0].x,function(Ge){return k(Ge)+""}):function(){return k}:(k=Pe.length,function(Ge){for(var $e=0,ft;$e<k;++$e)Ce[(ft=Pe[$e]).i]=ft.x(Ge);return Ce.join("")})}var Rl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$2=new RegExp(Rl.source,"g");l.interpolate=d2;function d2(g,k){for(var F=l.interpolators.length,q;--F>=0&&!(q=l.interpolators[F](g,k)););return q}l.interpolators=[function(g,k){var F=typeof k;return(F==="string"?Zt.has(k.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(k)?Pl:Ks:k instanceof Pn?Pl:Array.isArray(k)?Ol:F==="object"&&isNaN(k)?Zf:f1)(g,k)}],l.interpolateArray=Ol;function Ol(g,k){var F=[],q=[],ae=g.length,ue=k.length,Ae=Math.min(g.length,k.length),Ce;for(Ce=0;Ce<Ae;++Ce)F.push(d2(g[Ce],k[Ce]));for(;Ce<ae;++Ce)q[Ce]=g[Ce];for(;Ce<ue;++Ce)q[Ce]=k[Ce];return function(Pe){for(Ce=0;Ce<Ae;++Ce)q[Ce]=F[Ce](Pe);return q}}var Xf=function(){return W},Pp=l.map({linear:Xf,poly:Qf,quad:function(){return Fp},cubic:function(){return Bp},sin:function(){return h2},exp:function(){return l3},circle:function(){return Vp},elastic:Hp,back:Up,bounce:function(){return H0}}),Rp=l.map({in:W,out:Kf,"in-out":W2,"out-in":function(g){return W2(Kf(g))}});l.ease=function(g){var k=g.indexOf("-"),F=k>=0?g.slice(0,k):g,q=k>=0?g.slice(k+1):"in";return F=Pp.get(F)||Xf,q=Rp.get(q)||W,Op(q(F.apply(null,u.call(arguments,1))))};function Op(g){return function(k){return k<=0?0:k>=1?1:g(k)}}function Kf(g){return function(k){return 1-g(1-k)}}function W2(g){return function(k){return .5*(k<.5?g(2*k):2-g(2-2*k))}}function Fp(g){return g*g}function Bp(g){return g*g*g}function L6(g){if(g<=0)return 0;if(g>=1)return 1;var k=g*g,F=k*g;return 4*(g<.5?F:3*(g-k)+F-.75)}function Qf(g){return function(k){return Math.pow(k,g)}}function h2(g){return 1-Math.cos(g*Fe)}function l3(g){return Math.pow(2,10*(g-1))}function Vp(g){return 1-Math.sqrt(1-g*g)}function Hp(g,k){var F;return arguments.length<2&&(k=.45),arguments.length?F=k/ge*Math.asin(1/g):(g=1,F=k/4),function(q){return 1+g*Math.pow(2,-10*q)*Math.sin((q-F)*ge/k)}}function Up(g){return g||(g=1.70158),function(k){return k*k*((g+1)*k-g)}}function H0(g){return g<.36363636363636365?7.5625*g*g:g<.7272727272727273?7.5625*(g-=.5454545454545454)*g+.75:g<.9090909090909091?7.5625*(g-=.8181818181818182)*g+.9375:7.5625*(g-=.9545454545454546)*g+.984375}l.interpolateHcl=Fo;function Fo(g,k){g=l.hcl(g),k=l.hcl(k);var F=g.h,q=g.c,ae=g.l,ue=k.h-F,Ae=k.c-q,Ce=k.l-ae;return isNaN(Ae)&&(Ae=0,q=isNaN(q)?k.c:q),isNaN(ue)?(ue=0,F=isNaN(F)?k.h:F):ue>180?ue-=360:ue<-180&&(ue+=360),function(Pe){return qn(F+ue*Pe,q+Ae*Pe,ae+Ce*Pe)+""}}l.interpolateHsl=Jf;function Jf(g,k){g=l.hsl(g),k=l.hsl(k);var F=g.h,q=g.s,ae=g.l,ue=k.h-F,Ae=k.s-q,Ce=k.l-ae;return isNaN(Ae)&&(Ae=0,q=isNaN(q)?k.s:q),isNaN(ue)?(ue=0,F=isNaN(F)?k.h:F):ue>180?ue-=360:ue<-180&&(ue+=360),function(Pe){return _n(F+ue*Pe,q+Ae*Pe,ae+Ce*Pe)+""}}l.interpolateLab=jp;function jp(g,k){g=l.lab(g),k=l.lab(k);var F=g.l,q=g.a,ae=g.b,ue=k.l-F,Ae=k.a-q,Ce=k.b-ae;return function(Pe){return ce(F+ue*Pe,q+Ae*Pe,ae+Ce*Pe)+""}}l.interpolateRound=qf;function qf(g,k){return k-=g,function(F){return Math.round(g+k*F)}}l.transform=function(g){var k=h.createElementNS(l.ns.prefix.svg,"g");return(l.transform=function(F){if(F!=null){k.setAttribute("transform",F);var q=k.transform.baseVal.consolidate()}return new ed(q?q.matrix:Kt)})(g)};function ed(g){var k=[g.a,g.b],F=[g.c,g.d],q=nd(k),ae=td(k,F),ue=nd(p2(F,k,-ae))||0;k[0]*F[1]<F[0]*k[1]&&(k[0]*=-1,k[1]*=-1,q*=-1,ae*=-1),this.rotate=(q?Math.atan2(k[1],k[0]):Math.atan2(-F[0],F[1]))*We,this.translate=[g.e,g.f],this.scale=[q,ue],this.skew=ue?Math.atan2(ae,ue)*We:0}ed.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function td(g,k){return g[0]*k[0]+g[1]*k[1]}function nd(g){var k=Math.sqrt(td(g,g));return k&&(g[0]/=k,g[1]/=k),k}function p2(g,k,F){return g[0]+=F*k[0],g[1]+=F*k[1],g}var Kt={a:1,b:0,c:0,d:1,e:0,f:0};l.interpolateTransform=ja;function mn(g){return g.length?g.pop()+",":""}function dn(g,k,F,q){if(g[0]!==k[0]||g[1]!==k[1]){var ae=F.push("translate(",null,",",null,")");q.push({i:ae-4,x:f1(g[0],k[0])},{i:ae-2,x:f1(g[1],k[1])})}else(k[0]||k[1])&&F.push("translate("+k+")")}function or(g,k,F,q){g!==k?(g-k>180?k+=360:k-g>180&&(g+=360),q.push({i:F.push(mn(F)+"rotate(",null,")")-2,x:f1(g,k)})):k&&F.push(mn(F)+"rotate("+k+")")}function Gr(g,k,F,q){g!==k?q.push({i:F.push(mn(F)+"skewX(",null,")")-2,x:f1(g,k)}):k&&F.push(mn(F)+"skewX("+k+")")}function $i(g,k,F,q){if(g[0]!==k[0]||g[1]!==k[1]){var ae=F.push(mn(F)+"scale(",null,",",null,")");q.push({i:ae-4,x:f1(g[0],k[0])},{i:ae-2,x:f1(g[1],k[1])})}else(k[0]!==1||k[1]!==1)&&F.push(mn(F)+"scale("+k+")")}function ja(g,k){var F=[],q=[];return g=l.transform(g),k=l.transform(k),dn(g.translate,k.translate,F,q),or(g.rotate,k.rotate,F,q),Gr(g.skew,k.skew,F,q),$i(g.scale,k.scale,F,q),g=k=null,function(ae){for(var ue=-1,Ae=q.length,Ce;++ue<Ae;)F[(Ce=q[ue]).i]=Ce.x(ae);return F.join("")}}function la(g,k){return k=(k-=g=+g)||1/k,function(F){return(F-g)/k}}function D6(g,k){return k=(k-=g=+g)||1/k,function(F){return Math.max(0,Math.min(1,(F-g)/k))}}l.layout={},l.layout.bundle=function(){return function(g){for(var k=[],F=-1,q=g.length;++F<q;)k.push(Gp(g[F]));return k}};function Gp(g){for(var k=g.source,F=g.target,q=c3(k,F),ae=[k];k!==q;)k=k.parent,ae.push(k);for(var ue=ae.length;F!==q;)ae.splice(ue,0,F),F=F.parent;return ae}function so(g){for(var k=[],F=g.parent;F!=null;)k.push(g),g=F,F=F.parent;return k.push(g),k}function c3(g,k){if(g===k)return g;for(var F=so(g),q=so(k),ae=F.pop(),ue=q.pop(),Ae=null;ae===ue;)Ae=ae,ae=F.pop(),ue=q.pop();return Ae}l.layout.chord=function(){var g={},k,F,q,ae,ue=0,Ae,Ce,Pe;function Ge(){var ft={},dt=[],Pt=l.range(ae),Ut=[],at,Lt,It,Ht,jt;for(k=[],F=[],at=0,Ht=-1;++Ht<ae;){for(Lt=0,jt=-1;++jt<ae;)Lt+=q[Ht][jt];dt.push(Lt),Ut.push(l.range(ae)),at+=Lt}for(Ae&&Pt.sort(function(Cr,Wn){return Ae(dt[Cr],dt[Wn])}),Ce&&Ut.forEach(function(Cr,Wn){Cr.sort(function(ur,di){return Ce(q[Wn][ur],q[Wn][di])})}),at=(ge-ue*ae)/at,Lt=0,Ht=-1;++Ht<ae;){for(It=Lt,jt=-1;++jt<ae;){var kt=Pt[Ht],vn=Ut[kt][jt],In=q[kt][vn],$n=Lt,Bn=Lt+=In*at;ft[kt+"-"+vn]={index:kt,subindex:vn,startAngle:$n,endAngle:Bn,value:In}}F[kt]={index:kt,startAngle:It,endAngle:Lt,value:dt[kt]},Lt+=ue}for(Ht=-1;++Ht<ae;)for(jt=Ht-1;++jt<ae;){var Zn=ft[Ht+"-"+jt],Xn=ft[jt+"-"+Ht];(Zn.value||Xn.value)&&k.push(Zn.value<Xn.value?{source:Xn,target:Zn}:{source:Zn,target:Xn})}Pe&&$e()}function $e(){k.sort(function(ft,dt){return Pe((ft.source.value+ft.target.value)/2,(dt.source.value+dt.target.value)/2)})}return g.matrix=function(ft){return arguments.length?(ae=(q=ft)&&q.length,k=F=null,g):q},g.padding=function(ft){return arguments.length?(ue=ft,k=F=null,g):ue},g.sortGroups=function(ft){return arguments.length?(Ae=ft,k=F=null,g):Ae},g.sortSubgroups=function(ft){return arguments.length?(Ce=ft,k=null,g):Ce},g.sortChords=function(ft){return arguments.length?(Pe=ft,k&&$e(),g):Pe},g.chords=function(){return k||Ge(),k},g.groups=function(){return F||Ge(),F},g},l.layout.force=function(){var g={},k=l.dispatch("start","tick","end"),F,q=[1,1],ae,ue,Ae=.9,Ce=Wp,Pe=rd,Ge=-30,$e=d3,ft=.1,dt=.64,Pt=[],Ut=[],at,Lt,It;function Ht(kt){return function(vn,In,$n,Bn){if(vn.point!==kt){var Zn=vn.cx-kt.x,Xn=vn.cy-kt.y,Cr=Bn-In,Wn=Zn*Zn+Xn*Xn;if(Cr*Cr/dt<Wn){if(Wn<$e){var ur=vn.charge/Wn;kt.px-=Zn*ur,kt.py-=Xn*ur}return!0}if(vn.point&&Wn&&Wn<$e){var ur=vn.pointCharge/Wn;kt.px-=Zn*ur,kt.py-=Xn*ur}}return!vn.charge}}g.tick=function(){if((ue*=.99)<.005)return F=null,k.end({type:"end",alpha:ue=0}),!0;var kt=Pt.length,vn=Ut.length,In,$n,Bn,Zn,Xn,Cr,Wn,ur,di;for($n=0;$n<vn;++$n)Bn=Ut[$n],Zn=Bn.source,Xn=Bn.target,ur=Xn.x-Zn.x,di=Xn.y-Zn.y,(Cr=ur*ur+di*di)&&(Cr=ue*Lt[$n]*((Cr=Math.sqrt(Cr))-at[$n])/Cr,ur*=Cr,di*=Cr,Xn.x-=ur*(Wn=Zn.weight+Xn.weight?Zn.weight/(Zn.weight+Xn.weight):.5),Xn.y-=di*Wn,Zn.x+=ur*(Wn=1-Wn),Zn.y+=di*Wn);if((Wn=ue*ft)&&(ur=q[0]/2,di=q[1]/2,$n=-1,Wn))for(;++$n<kt;)Bn=Pt[$n],Bn.x+=(ur-Bn.x)*Wn,Bn.y+=(di-Bn.y)*Wn;if(Ge)for(Xi(In=l.geom.quadtree(Pt),ue,It),$n=-1;++$n<kt;)(Bn=Pt[$n]).fixed||In.visit(Ht(Bn));for($n=-1;++$n<kt;)Bn=Pt[$n],Bn.fixed?(Bn.x=Bn.px,Bn.y=Bn.py):(Bn.x-=(Bn.px-(Bn.px=Bn.x))*Ae,Bn.y-=(Bn.py-(Bn.py=Bn.y))*Ae);k.tick({type:"tick",alpha:ue})},g.nodes=function(kt){return arguments.length?(Pt=kt,g):Pt},g.links=function(kt){return arguments.length?(Ut=kt,g):Ut},g.size=function(kt){return arguments.length?(q=kt,g):q},g.linkDistance=function(kt){return arguments.length?(Ce=typeof kt=="function"?kt:+kt,g):Ce},g.distance=g.linkDistance,g.linkStrength=function(kt){return arguments.length?(Pe=typeof kt=="function"?kt:+kt,g):Pe},g.friction=function(kt){return arguments.length?(Ae=+kt,g):Ae},g.charge=function(kt){return arguments.length?(Ge=typeof kt=="function"?kt:+kt,g):Ge},g.chargeDistance=function(kt){return arguments.length?($e=kt*kt,g):Math.sqrt($e)},g.gravity=function(kt){return arguments.length?(ft=+kt,g):ft},g.theta=function(kt){return arguments.length?(dt=kt*kt,g):Math.sqrt(dt)},g.alpha=function(kt){return arguments.length?(kt=+kt,ue?kt>0?ue=kt:(F.c=null,F.t=NaN,F=null,k.end({type:"end",alpha:ue=0})):kt>0&&(k.start({type:"start",alpha:ue=kt}),F=Va(g.tick)),g):ue},g.start=function(){var kt,vn=Pt.length,In=Ut.length,$n=q[0],Bn=q[1],Zn,Xn;for(kt=0;kt<vn;++kt)(Xn=Pt[kt]).index=kt,Xn.weight=0;for(kt=0;kt<In;++kt)Xn=Ut[kt],typeof Xn.source=="number"&&(Xn.source=Pt[Xn.source]),typeof Xn.target=="number"&&(Xn.target=Pt[Xn.target]),++Xn.source.weight,++Xn.target.weight;for(kt=0;kt<vn;++kt)Xn=Pt[kt],isNaN(Xn.x)&&(Xn.x=Cr("x",$n)),isNaN(Xn.y)&&(Xn.y=Cr("y",Bn)),isNaN(Xn.px)&&(Xn.px=Xn.x),isNaN(Xn.py)&&(Xn.py=Xn.y);if(at=[],typeof Ce=="function")for(kt=0;kt<In;++kt)at[kt]=+Ce.call(this,Ut[kt],kt);else for(kt=0;kt<In;++kt)at[kt]=Ce;if(Lt=[],typeof Pe=="function")for(kt=0;kt<In;++kt)Lt[kt]=+Pe.call(this,Ut[kt],kt);else for(kt=0;kt<In;++kt)Lt[kt]=Pe;if(It=[],typeof Ge=="function")for(kt=0;kt<vn;++kt)It[kt]=+Ge.call(this,Pt[kt],kt);else for(kt=0;kt<vn;++kt)It[kt]=Ge;function Cr(Wn,ur){if(!Zn){for(Zn=new Array(vn),Li=0;Li<vn;++Li)Zn[Li]=[];for(Li=0;Li<In;++Li){var di=Ut[Li];Zn[di.source.index].push(di.target),Zn[di.target.index].push(di.source)}}for(var _a=Zn[kt],Li=-1,Rn=_a.length,yr;++Li<Rn;)if(!isNaN(yr=_a[Li][Wn]))return yr;return Math.random()*ur}return g.resume()},g.resume=function(){return g.alpha(.1)},g.stop=function(){return g.alpha(0)},g.drag=function(){if(ae||(ae=l.behavior.drag().origin(W).on("dragstart.force",$p).on("drag.force",jt).on("dragend.force",U0)),!arguments.length)return ae;this.on("mouseover.force",u3).on("mouseout.force",f3).call(ae)};function jt(kt){kt.px=l.event.x,kt.py=l.event.y,g.resume()}return l.rebind(g,k,"on")};function $p(g){g.fixed|=2}function U0(g){g.fixed&=-7}function u3(g){g.fixed|=4,g.px=g.x,g.py=g.y}function f3(g){g.fixed&=-5}function Xi(g,k,F){var q=0,ae=0;if(g.charge=0,!g.leaf)for(var ue=g.nodes,Ae=ue.length,Ce=-1,Pe;++Ce<Ae;)Pe=ue[Ce],Pe!=null&&(Xi(Pe,k,F),g.charge+=Pe.charge,q+=Pe.charge*Pe.cx,ae+=Pe.charge*Pe.cy);if(g.point){g.leaf||(g.point.x+=Math.random()-.5,g.point.y+=Math.random()-.5);var Ge=k*F[g.point.index];g.charge+=g.pointCharge=Ge,q+=Ge*g.point.x,ae+=Ge*g.point.y}g.cx=q/g.charge,g.cy=ae/g.charge}var Wp=20,rd=1,d3=1/0;l.layout.hierarchy=function(){var g=p3,k=h3,F=m2;function q(ae){var ue=[ae],Ae=[],Ce;for(ae.depth=0;(Ce=ue.pop())!=null;)if(Ae.push(Ce),(Ge=k.call(q,Ce,Ce.depth))&&(Pe=Ge.length)){for(var Pe,Ge,$e;--Pe>=0;)ue.push($e=Ge[Pe]),$e.parent=Ce,$e.depth=Ce.depth+1;F&&(Ce.value=0),Ce.children=Ge}else F&&(Ce.value=+F.call(q,Ce,Ce.depth)||0),delete Ce.children;return d1(ae,function(ft){var dt,Pt;g&&(dt=ft.children)&&dt.sort(g),F&&(Pt=ft.parent)&&(Pt.value+=ft.value)}),Ae}return q.sort=function(ae){return arguments.length?(g=ae,q):g},q.children=function(ae){return arguments.length?(k=ae,q):k},q.value=function(ae){return arguments.length?(F=ae,q):F},q.revalue=function(ae){return F&&(Bl(ae,function(ue){ue.children&&(ue.value=0)}),d1(ae,function(ue){var Ae;ue.children||(ue.value=+F.call(q,ue,ue.depth)||0),(Ae=ue.parent)&&(Ae.value+=ue.value)})),ae},q};function Fl(g,k){return l.rebind(g,k,"sort","children","value"),g.nodes=g,g.links=id,g}function Bl(g,k){for(var F=[g];(g=F.pop())!=null;)if(k(g),(ae=g.children)&&(q=ae.length))for(var q,ae;--q>=0;)F.push(ae[q])}function d1(g,k){for(var F=[g],q=[];(g=F.pop())!=null;)if(q.push(g),(Ae=g.children)&&(ue=Ae.length))for(var ae=-1,ue,Ae;++ae<ue;)F.push(Ae[ae]);for(;(g=q.pop())!=null;)k(g)}function h3(g){return g.children}function m2(g){return g.value}function p3(g,k){return k.value-g.value}function id(g){return l.merge(g.map(function(k){return(k.children||[]).map(function(F){return{source:k,target:F}})}))}l.layout.partition=function(){var g=l.layout.hierarchy(),k=[1,1];function F(ue,Ae,Ce,Pe){var Ge=ue.children;if(ue.x=Ae,ue.y=ue.depth*Pe,ue.dx=Ce,ue.dy=Pe,Ge&&(ft=Ge.length)){var $e=-1,ft,dt,Pt;for(Ce=ue.value?Ce/ue.value:0;++$e<ft;)F(dt=Ge[$e],Ae,Pt=dt.value*Ce,Pe),Ae+=Pt}}function q(ue){var Ae=ue.children,Ce=0;if(Ae&&(Ge=Ae.length))for(var Pe=-1,Ge;++Pe<Ge;)Ce=Math.max(Ce,q(Ae[Pe]));return 1+Ce}function ae(ue,Ae){var Ce=g.call(this,ue,Ae);return F(Ce[0],0,k[0],k[1]/q(Ce[0])),Ce}return ae.size=function(ue){return arguments.length?(k=ue,ae):k},Fl(ae,g)},l.layout.pie=function(){var g=Number,k=Vl,F=0,q=ge,ae=0;function ue(Ae){var Ce=Ae.length,Pe=Ae.map(function(Ht,jt){return+g.call(ue,Ht,jt)}),Ge=+(typeof F=="function"?F.apply(this,arguments):F),$e=(typeof q=="function"?q.apply(this,arguments):q)-Ge,ft=Math.min(Math.abs($e)/Ce,+(typeof ae=="function"?ae.apply(this,arguments):ae)),dt=ft*($e<0?-1:1),Pt=l.sum(Pe),Ut=Pt?($e-Ce*dt)/Pt:0,at=l.range(Ce),Lt=[],It;return k!=null&&at.sort(k===Vl?function(Ht,jt){return Pe[jt]-Pe[Ht]}:function(Ht,jt){return k(Ae[Ht],Ae[jt])}),at.forEach(function(Ht){Lt[Ht]={data:Ae[Ht],value:It=Pe[Ht],startAngle:Ge,endAngle:Ge+=It*Ut+dt,padAngle:ft}}),Lt}return ue.value=function(Ae){return arguments.length?(g=Ae,ue):g},ue.sort=function(Ae){return arguments.length?(k=Ae,ue):k},ue.startAngle=function(Ae){return arguments.length?(F=Ae,ue):F},ue.endAngle=function(Ae){return arguments.length?(q=Ae,ue):q},ue.padAngle=function(Ae){return arguments.length?(ae=Ae,ue):ae},ue};var Vl={};l.layout.stack=function(){var g=W,k=H1,F=j0,q=m3,ae=ad,ue=sd;function Ae(Ce,Pe){if(!(Ut=Ce.length))return Ce;var Ge=Ce.map(function(Ht,jt){return g.call(Ae,Ht,jt)}),$e=Ge.map(function(Ht){return Ht.map(function(jt,kt){return[ae.call(Ae,jt,kt),ue.call(Ae,jt,kt)]})}),ft=k.call(Ae,$e,Pe);Ge=l.permute(Ge,ft),$e=l.permute($e,ft);var dt=F.call(Ae,$e,Pe),Pt=Ge[0].length,Ut,at,Lt,It;for(Lt=0;Lt<Pt;++Lt)for(q.call(Ae,Ge[0][Lt],It=dt[Lt],$e[0][Lt][1]),at=1;at<Ut;++at)q.call(Ae,Ge[at][Lt],It+=$e[at-1][Lt][1],$e[at][Lt][1]);return Ce}return Ae.values=function(Ce){return arguments.length?(g=Ce,Ae):g},Ae.order=function(Ce){return arguments.length?(k=typeof Ce=="function"?Ce:od.get(Ce)||H1,Ae):k},Ae.offset=function(Ce){return arguments.length?(F=typeof Ce=="function"?Ce:Hl.get(Ce)||j0,Ae):F},Ae.x=function(Ce){return arguments.length?(ae=Ce,Ae):ae},Ae.y=function(Ce){return arguments.length?(ue=Ce,Ae):ue},Ae.out=function(Ce){return arguments.length?(q=Ce,Ae):q},Ae};function ad(g){return g.x}function sd(g){return g.y}function m3(g,k,F){g.y0=k,g.y=F}var od=l.map({"inside-out":function(g){var k=g.length,F,q,ae=g.map(Yp),ue=g.map(Zp),Ae=l.range(k).sort(function(ft,dt){return ae[ft]-ae[dt]}),Ce=0,Pe=0,Ge=[],$e=[];for(F=0;F<k;++F)q=Ae[F],Ce<Pe?(Ce+=ue[q],Ge.push(q)):(Pe+=ue[q],$e.push(q));return $e.reverse().concat(Ge)},reverse:function(g){return l.range(g.length).reverse()},default:H1}),Hl=l.map({silhouette:function(g){var k=g.length,F=g[0].length,q=[],ae=0,ue,Ae,Ce,Pe=[];for(Ae=0;Ae<F;++Ae){for(ue=0,Ce=0;ue<k;ue++)Ce+=g[ue][Ae][1];Ce>ae&&(ae=Ce),q.push(Ce)}for(Ae=0;Ae<F;++Ae)Pe[Ae]=(ae-q[Ae])/2;return Pe},wiggle:function(g){var k=g.length,F=g[0],q=F.length,ae,ue,Ae,Ce,Pe,Ge,$e,ft,dt,Pt=[];for(Pt[0]=ft=dt=0,ue=1;ue<q;++ue){for(ae=0,Ce=0;ae<k;++ae)Ce+=g[ae][ue][1];for(ae=0,Pe=0,$e=F[ue][0]-F[ue-1][0];ae<k;++ae){for(Ae=0,Ge=(g[ae][ue][1]-g[ae][ue-1][1])/(2*$e);Ae<ae;++Ae)Ge+=(g[Ae][ue][1]-g[Ae][ue-1][1])/$e;Pe+=Ge*g[ae][ue][1]}Pt[ue]=ft-=Ce?Pe/Ce*$e:0,ft<dt&&(dt=ft)}for(ue=0;ue<q;++ue)Pt[ue]-=dt;return Pt},expand:function(g){var k=g.length,F=g[0].length,q=1/k,ae,ue,Ae,Ce=[];for(ue=0;ue<F;++ue){for(ae=0,Ae=0;ae<k;ae++)Ae+=g[ae][ue][1];if(Ae)for(ae=0;ae<k;ae++)g[ae][ue][1]/=Ae;else for(ae=0;ae<k;ae++)g[ae][ue][1]=q}for(ue=0;ue<F;++ue)Ce[ue]=0;return Ce},zero:j0});function H1(g){return l.range(g.length)}function j0(g){for(var k=-1,F=g[0].length,q=[];++k<F;)q[k]=0;return q}function Yp(g){for(var k=1,F=0,q=g[0][1],ae,ue=g.length;k<ue;++k)(ae=g[k][1])>q&&(F=k,q=ae);return F}function Zp(g){return g.reduce(Xp,0)}function Xp(g,k){return g+k[1]}l.layout.histogram=function(){var g=!0,k=Number,F=T6,q=v3;function ae(ue,dt){for(var Ce=[],Pe=ue.map(k,this),Ge=F.call(this,Pe,dt),$e=q.call(this,Ge,Pe,dt),ft,dt=-1,Pt=Pe.length,Ut=$e.length-1,at=g?1:1/Pt,Lt;++dt<Ut;)ft=Ce[dt]=[],ft.dx=$e[dt+1]-(ft.x=$e[dt]),ft.y=0;if(Ut>0)for(dt=-1;++dt<Pt;)Lt=Pe[dt],Lt>=Ge[0]&&Lt<=Ge[1]&&(ft=Ce[l.bisect($e,Lt,1,Ut)-1],ft.y+=at,ft.push(ue[dt]));return Ce}return ae.value=function(ue){return arguments.length?(k=ue,ae):k},ae.range=function(ue){return arguments.length?(F=an(ue),ae):F},ae.bins=function(ue){return arguments.length?(q=typeof ue=="number"?function(Ae){return Ul(Ae,ue)}:an(ue),ae):q},ae.frequency=function(ue){return arguments.length?(g=!!ue,ae):g},ae};function v3(g,k){return Ul(g,Math.ceil(Math.log(k.length)/Math.LN2+1))}function Ul(g,k){for(var F=-1,q=+g[0],ae=(g[1]-q)/k,ue=[];++F<=k;)ue[F]=ae*F+q;return ue}function T6(g){return[l.min(g),l.max(g)]}l.layout.pack=function(){var g=l.layout.hierarchy().sort(Kp),k=0,F=[1,1],q;function ae(ue,Ae){var Ce=g.call(this,ue,Ae),Pe=Ce[0],Ge=F[0],$e=F[1],ft=q==null?Math.sqrt:typeof q=="function"?q:function(){return q};if(Pe.x=Pe.y=0,d1(Pe,function(Pt){Pt.r=+ft(Pt.value)}),d1(Pe,Ga),k){var dt=k*(q?1:Math.max(2*Pe.r/Ge,2*Pe.r/$e))/2;d1(Pe,function(Pt){Pt.r+=dt}),d1(Pe,Ga),d1(Pe,function(Pt){Pt.r-=dt})}return ud(Pe,Ge/2,$e/2,q?1:1/Math.max(2*Pe.r/Ge,2*Pe.r/$e)),Ce}return ae.size=function(ue){return arguments.length?(F=ue,ae):F},ae.radius=function(ue){return arguments.length?(q=ue==null||typeof ue=="function"?ue:+ue,ae):q},ae.padding=function(ue){return arguments.length?(k=+ue,ae):k},Fl(ae,g)};function Kp(g,k){return g.value-k.value}function g3(g,k){var F=g._pack_next;g._pack_next=k,k._pack_prev=g,k._pack_next=F,F._pack_prev=k}function ld(g,k){g._pack_next=k,k._pack_prev=g}function cd(g,k){var F=k.x-g.x,q=k.y-g.y,ae=g.r+k.r;return .999*ae*ae>F*F+q*q}function Ga(g){if(!(k=g.children)||!(dt=k.length))return;var k,F=1/0,q=-1/0,ae=1/0,ue=-1/0,Ae,Ce,Pe,Ge,$e,ft,dt;function Pt(kt){F=Math.min(kt.x-kt.r,F),q=Math.max(kt.x+kt.r,q),ae=Math.min(kt.y-kt.r,ae),ue=Math.max(kt.y+kt.r,ue)}if(k.forEach(ks),Ae=k[0],Ae.x=-Ae.r,Ae.y=0,Pt(Ae),dt>1&&(Ce=k[1],Ce.x=Ce.r,Ce.y=0,Pt(Ce),dt>2))for(Pe=k[2],A6(Ae,Ce,Pe),Pt(Pe),g3(Ae,Pe),Ae._pack_prev=Pe,g3(Pe,Ce),Ce=Ae._pack_next,Ge=3;Ge<dt;Ge++){A6(Ae,Ce,Pe=k[Ge]);var Ut=0,at=1,Lt=1;for($e=Ce._pack_next;$e!==Ce;$e=$e._pack_next,at++)if(cd($e,Pe)){Ut=1;break}if(Ut==1)for(ft=Ae._pack_prev;ft!==$e._pack_prev&&!cd(ft,Pe);ft=ft._pack_prev,Lt++);Ut?(at<Lt||at==Lt&&Ce.r<Ae.r?ld(Ae,Ce=$e):ld(Ae=ft,Ce),Ge--):(g3(Ae,Pe),Ce=Pe,Pt(Pe))}var It=(F+q)/2,Ht=(ae+ue)/2,jt=0;for(Ge=0;Ge<dt;Ge++)Pe=k[Ge],Pe.x-=It,Pe.y-=Ht,jt=Math.max(jt,Pe.r+Math.sqrt(Pe.x*Pe.x+Pe.y*Pe.y));g.r=jt,k.forEach(Qp)}function ks(g){g._pack_next=g._pack_prev=g}function Qp(g){delete g._pack_next,delete g._pack_prev}function ud(g,k,F,q){var ae=g.children;if(g.x=k+=q*g.x,g.y=F+=q*g.y,g.r*=q,ae)for(var ue=-1,Ae=ae.length;++ue<Ae;)ud(ae[ue],k,F,q)}function A6(g,k,F){var q=g.r+F.r,ae=k.x-g.x,ue=k.y-g.y;if(q&&(ae||ue)){var Ae=k.r+F.r,Ce=ae*ae+ue*ue;Ae*=Ae,q*=q;var Pe=.5+(q-Ae)/(2*Ce),Ge=Math.sqrt(Math.max(0,2*Ae*(q+Ce)-(q-=Ce)*q-Ae*Ae))/(2*Ce);F.x=g.x+Pe*ae+Ge*ue,F.y=g.y+Pe*ue-Ge*ae}else F.x=g.x+q,F.y=g.y}l.layout.tree=function(){var g=l.layout.hierarchy().sort(null).value(null),k=fd,F=[1,1],q=null;function ae($e,ft){var dt=g.call(this,$e,ft),Pt=dt[0],Ut=ue(Pt);if(d1(Ut,Ae),Ut.parent.m=-Ut.z,Bl(Ut,Ce),q)Bl(Pt,Ge);else{var at=Pt,Lt=Pt,It=Pt;Bl(Pt,function(vn){vn.x<at.x&&(at=vn),vn.x>Lt.x&&(Lt=vn),vn.depth>It.depth&&(It=vn)});var Ht=k(at,Lt)/2-at.x,jt=F[0]/(Lt.x+k(Lt,at)/2+Ht),kt=F[1]/(It.depth||1);Bl(Pt,function(vn){vn.x=(vn.x+Ht)*jt,vn.y=vn.depth*kt})}return dt}function ue($e){for(var ft={A:null,children:[$e]},dt=[ft],Pt;(Pt=dt.pop())!=null;)for(var Ut=Pt.children,at,Lt=0,It=Ut.length;Lt<It;++Lt)dt.push((Ut[Lt]=at={_:Ut[Lt],parent:Pt,children:(at=Ut[Lt].children)&&at.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Lt}).a=at);return ft.children[0]}function Ae($e){var ft=$e.children,dt=$e.parent.children,Pt=$e.i?dt[$e.i-1]:null;if(ft.length){G0($e);var Ut=(ft[0].z+ft[ft.length-1].z)/2;Pt?($e.z=Pt.z+k($e._,Pt._),$e.m=$e.z-Ut):$e.z=Ut}else Pt&&($e.z=Pt.z+k($e._,Pt._));$e.parent.A=Pe($e,Pt,$e.parent.A||dt[0])}function Ce($e){$e._.x=$e.z+$e.parent.m,$e.m+=$e.parent.m}function Pe($e,ft,dt){if(ft){for(var Pt=$e,Ut=$e,at=ft,Lt=Pt.parent.children[0],It=Pt.m,Ht=Ut.m,jt=at.m,kt=Lt.m,vn;at=Y2(at),Pt=jl(Pt),at&&Pt;)Lt=jl(Lt),Ut=Y2(Ut),Ut.a=$e,vn=at.z+jt-Pt.z-It+k(at._,Pt._),vn>0&&(z6(Gl(at,$e,dt),$e,vn),It+=vn,Ht+=vn),jt+=at.m,It+=Pt.m,kt+=Lt.m,Ht+=Ut.m;at&&!Y2(Ut)&&(Ut.t=at,Ut.m+=jt-Ht),Pt&&!jl(Lt)&&(Lt.t=Pt,Lt.m+=It-kt,dt=$e)}return dt}function Ge($e){$e.x*=F[0],$e.y=$e.depth*F[1]}return ae.separation=function($e){return arguments.length?(k=$e,ae):k},ae.size=function($e){return arguments.length?(q=(F=$e)==null?Ge:null,ae):q?null:F},ae.nodeSize=function($e){return arguments.length?(q=(F=$e)==null?null:Ge,ae):q?F:null},Fl(ae,g)};function fd(g,k){return g.parent==k.parent?1:2}function jl(g){var k=g.children;return k.length?k[0]:g.t}function Y2(g){var k=g.children,F;return(F=k.length)?k[F-1]:g.t}function z6(g,k,F){var q=F/(k.i-g.i);k.c-=q,k.s+=F,g.c+=q,k.z+=F,k.m+=F}function G0(g){for(var k=0,F=0,q=g.children,ae=q.length,ue;--ae>=0;)ue=q[ae],ue.z+=k,ue.m+=k,k+=ue.s+(F+=ue.c)}function Gl(g,k,F){return g.a.parent===k.parent?g.a:F}l.layout.cluster=function(){var g=l.layout.hierarchy().sort(null).value(null),k=fd,F=[1,1],q=!1;function ae(ue,Ae){var Ce=g.call(this,ue,Ae),Pe=Ce[0],Ge,$e=0;d1(Pe,function(at){var Lt=at.children;Lt&&Lt.length?(at.x=y3(Lt),at.y=$l(Lt)):(at.x=Ge?$e+=k(at,Ge):0,at.y=0,Ge=at)});var ft=Z2(Pe),dt=dd(Pe),Pt=ft.x-k(ft,dt)/2,Ut=dt.x+k(dt,ft)/2;return d1(Pe,q?function(at){at.x=(at.x-Pe.x)*F[0],at.y=(Pe.y-at.y)*F[1]}:function(at){at.x=(at.x-Pt)/(Ut-Pt)*F[0],at.y=(1-(Pe.y?at.y/Pe.y:1))*F[1]}),Ce}return ae.separation=function(ue){return arguments.length?(k=ue,ae):k},ae.size=function(ue){return arguments.length?(q=(F=ue)==null,ae):q?null:F},ae.nodeSize=function(ue){return arguments.length?(q=(F=ue)!=null,ae):q?F:null},Fl(ae,g)};function $l(g){return 1+l.max(g,function(k){return k.y})}function y3(g){return g.reduce(function(k,F){return k+F.x},0)/g.length}function Z2(g){var k=g.children;return k&&k.length?Z2(k[0]):g}function dd(g){var k=g.children,F;return k&&(F=k.length)?dd(k[F-1]):g}l.layout.treemap=function(){var g=l.layout.hierarchy(),k=Math.round,F=[1,1],q=null,ae=E6,ue=!1,Ae,Ce="squarify",Pe=.5*(1+Math.sqrt(5));function Ge(at,Lt){for(var It=-1,Ht=at.length,jt,kt;++It<Ht;)kt=(jt=at[It]).value*(Lt<0?0:Lt),jt.area=isNaN(kt)||kt<=0?0:kt}function $e(at){var Lt=at.children;if(Lt&&Lt.length){var It=ae(at),Ht=[],jt=Lt.slice(),kt,vn=1/0,In,$n=Ce==="slice"?It.dx:Ce==="dice"?It.dy:Ce==="slice-dice"?at.depth&1?It.dy:It.dx:Math.min(It.dx,It.dy),Bn;for(Ge(jt,It.dx*It.dy/at.value),Ht.area=0;(Bn=jt.length)>0;)Ht.push(kt=jt[Bn-1]),Ht.area+=kt.area,Ce!=="squarify"||(In=dt(Ht,$n))<=vn?(jt.pop(),vn=In):(Ht.area-=Ht.pop().area,Pt(Ht,$n,It,!1),$n=Math.min(It.dx,It.dy),Ht.length=Ht.area=0,vn=1/0);Ht.length&&(Pt(Ht,$n,It,!0),Ht.length=Ht.area=0),Lt.forEach($e)}}function ft(at){var Lt=at.children;if(Lt&&Lt.length){var It=ae(at),Ht=Lt.slice(),jt,kt=[];for(Ge(Ht,It.dx*It.dy/at.value),kt.area=0;jt=Ht.pop();)kt.push(jt),kt.area+=jt.area,jt.z!=null&&(Pt(kt,jt.z?It.dx:It.dy,It,!Ht.length),kt.length=kt.area=0);Lt.forEach(ft)}}function dt(at,Lt){for(var It=at.area,Ht,jt=0,kt=1/0,vn=-1,In=at.length;++vn<In;)(Ht=at[vn].area)&&(Ht<kt&&(kt=Ht),Ht>jt&&(jt=Ht));return It*=It,Lt*=Lt,It?Math.max(Lt*jt*Pe/It,It/(Lt*kt*Pe)):1/0}function Pt(at,Lt,It,Ht){var jt=-1,kt=at.length,vn=It.x,In=It.y,$n=Lt?k(at.area/Lt):0,Bn;if(Lt==It.dx){for((Ht||$n>It.dy)&&($n=It.dy);++jt<kt;)Bn=at[jt],Bn.x=vn,Bn.y=In,Bn.dy=$n,vn+=Bn.dx=Math.min(It.x+It.dx-vn,$n?k(Bn.area/$n):0);Bn.z=!0,Bn.dx+=It.x+It.dx-vn,It.y+=$n,It.dy-=$n}else{for((Ht||$n>It.dx)&&($n=It.dx);++jt<kt;)Bn=at[jt],Bn.x=vn,Bn.y=In,Bn.dx=$n,In+=Bn.dy=Math.min(It.y+It.dy-In,$n?k(Bn.area/$n):0);Bn.z=!1,Bn.dy+=It.y+It.dy-In,It.x+=$n,It.dx-=$n}}function Ut(at){var Lt=Ae||g(at),It=Lt[0];return It.x=It.y=0,It.value?(It.dx=F[0],It.dy=F[1]):It.dx=It.dy=0,Ae&&g.revalue(It),Ge([It],It.dx*It.dy/It.value),(Ae?ft:$e)(It),ue&&(Ae=Lt),Lt}return Ut.size=function(at){return arguments.length?(F=at,Ut):F},Ut.padding=function(at){if(!arguments.length)return q;function Lt(jt){var kt=at.call(Ut,jt,jt.depth);return kt==null?E6(jt):hd(jt,typeof kt=="number"?[kt,kt,kt,kt]:kt)}function It(jt){return hd(jt,at)}var Ht;return ae=(q=at)==null?E6:(Ht=typeof at)=="function"?Lt:(Ht==="number"&&(at=[at,at,at,at]),It),Ut},Ut.round=function(at){return arguments.length?(k=at?Math.round:Number,Ut):k!=Number},Ut.sticky=function(at){return arguments.length?(ue=at,Ae=null,Ut):ue},Ut.ratio=function(at){return arguments.length?(Pe=at,Ut):Pe},Ut.mode=function(at){return arguments.length?(Ce=at+"",Ut):Ce},Fl(Ut,g)};function E6(g){return{x:g.x,y:g.y,dx:g.dx,dy:g.dy}}function hd(g,k){var F=g.x+k[3],q=g.y+k[0],ae=g.dx-k[1]-k[3],ue=g.dy-k[0]-k[2];return ae<0&&(F+=ae/2,ae=0),ue<0&&(q+=ue/2,ue=0),{x:F,y:q,dx:ae,dy:ue}}l.random={normal:function(g,k){var F=arguments.length;return F<2&&(k=1),F<1&&(g=0),function(){var q,ae,ue;do q=Math.random()*2-1,ae=Math.random()*2-1,ue=q*q+ae*ae;while(!ue||ue>1);return g+k*q*Math.sqrt(-2*Math.log(ue)/ue)}},logNormal:function(){var g=l.random.normal.apply(l,arguments);return function(){return Math.exp(g())}},bates:function(g){var k=l.random.irwinHall(g);return function(){return k()/g}},irwinHall:function(g){return function(){for(var k=0,F=0;F<g;F++)k+=Math.random();return k}}},l.scale={};function x3(g){var k=g[0],F=g[g.length-1];return k<F?[k,F]:[F,k]}function b3(g){return g.rangeExtent?g.rangeExtent():x3(g.range())}function C3(g,k,F,q){var ae=F(g[0],g[1]),ue=q(k[0],k[1]);return function(Ae){return ue(ae(Ae))}}function X2(g,k){var F=0,q=g.length-1,ae=g[F],ue=g[q],Ae;return ue<ae&&(Ae=F,F=q,q=Ae,Ae=ae,ae=ue,ue=Ae),g[F]=k.floor(ae),g[q]=k.ceil(ue),g}function I6(g){return g?{floor:function(k){return Math.floor(k/g)*g},ceil:function(k){return Math.ceil(k/g)*g}}:nt}var nt={floor:W,ceil:W};function $0(g,k,F,q){var ae=[],ue=[],Ae=0,Ce=Math.min(g.length,k.length)-1;for(g[Ce]<g[0]&&(g=g.slice().reverse(),k=k.slice().reverse());++Ae<=Ce;)ae.push(F(g[Ae-1],g[Ae])),ue.push(q(k[Ae-1],k[Ae]));return function(Pe){var Ge=l.bisect(g,Pe,1,Ce)-1;return ue[Ge](ae[Ge](Pe))}}l.scale.linear=function(){return Wl([0,1],[0,1],d2,!1)};function Wl(g,k,F,q){var ae,ue;function Ae(){var Pe=Math.min(g.length,k.length)>2?$0:C3,Ge=q?D6:la;return ae=Pe(g,k,Ge,F),ue=Pe(k,g,Ge,d2),Ce}function Ce(Pe){return ae(Pe)}return Ce.invert=function(Pe){return ue(Pe)},Ce.domain=function(Pe){return arguments.length?(g=Pe.map(Number),Ae()):g},Ce.range=function(Pe){return arguments.length?(k=Pe,Ae()):k},Ce.rangeRound=function(Pe){return Ce.range(Pe).interpolate(qf)},Ce.clamp=function(Pe){return arguments.length?(q=Pe,Ae()):q},Ce.interpolate=function(Pe){return arguments.length?(F=Pe,Ae()):F},Ce.ticks=function(Pe){return N6(g,Pe)},Ce.tickFormat=function(Pe,Ge){return d3_scale_linearTickFormat(g,Pe,Ge)},Ce.nice=function(Pe){return Si(g,Pe),Ae()},Ce.copy=function(){return Wl(g,k,F,q)},Ae()}function oo(g,k){return l.rebind(g,k,"range","rangeRound","interpolate","clamp")}function Si(g,k){return X2(g,I6(k6(g,k)[2])),X2(g,I6(k6(g,k)[2])),g}function k6(g,k){k==null&&(k=10);var F=x3(g),q=F[1]-F[0],ae=Math.pow(10,Math.floor(Math.log(q/k)/Math.LN10)),ue=k/q*ae;return ue<=.15?ae*=10:ue<=.35?ae*=5:ue<=.75&&(ae*=2),F[0]=Math.ceil(F[0]/ae)*ae,F[1]=Math.floor(F[1]/ae)*ae+ae*.5,F[2]=ae,F}function N6(g,k){return l.range.apply(l,k6(g,k))}var Jp={s:1,g:1,p:1,r:1,e:1};function v2(g){return-Math.floor(Math.log(g)/Math.LN10+.01)}function RC(g,k){var F=v2(k[2]);return g in Jp?Math.abs(F-v2(Math.max(M(k[0]),M(k[1]))))+ +(g!=="e"):F-(g==="%")*2}l.scale.log=function(){return pd(l.scale.linear().domain([0,1]),10,!0,[1,10])};function pd(g,k,F,q){function ae(Ce){return(F?Math.log(Ce<0?0:Ce):-Math.log(Ce>0?0:-Ce))/Math.log(k)}function ue(Ce){return F?Math.pow(k,Ce):-Math.pow(k,-Ce)}function Ae(Ce){return g(ae(Ce))}return Ae.invert=function(Ce){return ue(g.invert(Ce))},Ae.domain=function(Ce){return arguments.length?(F=Ce[0]>=0,g.domain((q=Ce.map(Number)).map(ae)),Ae):q},Ae.base=function(Ce){return arguments.length?(k=+Ce,g.domain(q.map(ae)),Ae):k},Ae.nice=function(){var Ce=X2(q.map(ae),F?Math:qp);return g.domain(Ce),q=Ce.map(ue),Ae},Ae.ticks=function(){var Ce=x3(q),Pe=[],Ge=Ce[0],$e=Ce[1],ft=Math.floor(ae(Ge)),dt=Math.ceil(ae($e)),Pt=k%1?2:k;if(isFinite(dt-ft)){if(F){for(;ft<dt;ft++)for(var Ut=1;Ut<Pt;Ut++)Pe.push(ue(ft)*Ut);Pe.push(ue(ft))}else for(Pe.push(ue(ft));ft++<dt;)for(var Ut=Pt-1;Ut>0;Ut--)Pe.push(ue(ft)*Ut);for(ft=0;Pe[ft]<Ge;ft++);for(dt=Pe.length;Pe[dt-1]>$e;dt--);Pe=Pe.slice(ft,dt)}return Pe},Ae.copy=function(){return pd(g.copy(),k,F,q)},oo(Ae,g)}var qp={floor:function(g){return-Math.ceil(-g)},ceil:function(g){return-Math.floor(-g)}};l.scale.pow=function(){return md(l.scale.linear(),1,[0,1])};function md(g,k,F){var q=M3(k),ae=M3(1/k);function ue(Ae){return g(q(Ae))}return ue.invert=function(Ae){return ae(g.invert(Ae))},ue.domain=function(Ae){return arguments.length?(g.domain((F=Ae.map(Number)).map(q)),ue):F},ue.ticks=function(Ae){return N6(F,Ae)},ue.tickFormat=function(Ae,Ce){return d3_scale_linearTickFormat(F,Ae,Ce)},ue.nice=function(Ae){return ue.domain(Si(F,Ae))},ue.exponent=function(Ae){return arguments.length?(q=M3(k=Ae),ae=M3(1/k),g.domain(F.map(q)),ue):k},ue.copy=function(){return md(g.copy(),k,F)},oo(ue,g)}function M3(g){return function(k){return k<0?-Math.pow(-k,g):Math.pow(k,g)}}l.scale.sqrt=function(){return l.scale.pow().exponent(.5)},l.scale.ordinal=function(){return h1([],{t:"range",a:[[]]})};function h1(g,k){var F,q,ae;function ue(Ce){return q[((F.get(Ce)||(k.t==="range"?F.set(Ce,g.push(Ce)):NaN))-1)%q.length]}function Ae(Ce,Pe){return l.range(g.length).map(function(Ge){return Ce+Pe*Ge})}return ue.domain=function(Ce){if(!arguments.length)return g;g=[],F=new B;for(var Pe=-1,Ge=Ce.length,$e;++Pe<Ge;)F.has($e=Ce[Pe])||F.set($e,g.push($e));return ue[k.t].apply(ue,k.a)},ue.range=function(Ce){return arguments.length?(q=Ce,ae=0,k={t:"range",a:arguments},ue):q},ue.rangePoints=function(Ce,Pe){arguments.length<2&&(Pe=0);var Ge=Ce[0],$e=Ce[1],ft=g.length<2?(Ge=(Ge+$e)/2,0):($e-Ge)/(g.length-1+Pe);return q=Ae(Ge+ft*Pe/2,ft),ae=0,k={t:"rangePoints",a:arguments},ue},ue.rangeRoundPoints=function(Ce,Pe){arguments.length<2&&(Pe=0);var Ge=Ce[0],$e=Ce[1],ft=g.length<2?(Ge=$e=Math.round((Ge+$e)/2),0):($e-Ge)/(g.length-1+Pe)|0;return q=Ae(Ge+Math.round(ft*Pe/2+($e-Ge-(g.length-1+Pe)*ft)/2),ft),ae=0,k={t:"rangeRoundPoints",a:arguments},ue},ue.rangeBands=function(Ce,Pe,Ge){arguments.length<2&&(Pe=0),arguments.length<3&&(Ge=Pe);var $e=Ce[1]<Ce[0],ft=Ce[$e-0],dt=Ce[1-$e],Pt=(dt-ft)/(g.length-Pe+2*Ge);return q=Ae(ft+Pt*Ge,Pt),$e&&q.reverse(),ae=Pt*(1-Pe),k={t:"rangeBands",a:arguments},ue},ue.rangeRoundBands=function(Ce,Pe,Ge){arguments.length<2&&(Pe=0),arguments.length<3&&(Ge=Pe);var $e=Ce[1]<Ce[0],ft=Ce[$e-0],dt=Ce[1-$e],Pt=Math.floor((dt-ft)/(g.length-Pe+2*Ge));return q=Ae(ft+Math.round((dt-ft-(g.length-Pe)*Pt)/2),Pt),$e&&q.reverse(),ae=Math.round(Pt*(1-Pe)),k={t:"rangeRoundBands",a:arguments},ue},ue.rangeBand=function(){return ae},ue.rangeExtent=function(){return x3(k.a[0])},ue.copy=function(){return h1(g,k)},ue.domain(g)}l.scale.category10=function(){return l.scale.ordinal().range(em)},l.scale.category20=function(){return l.scale.ordinal().range(tm)},l.scale.category20b=function(){return l.scale.ordinal().range(nm)},l.scale.category20c=function(){return l.scale.ordinal().range(rm)};var em=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(st),tm=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(st),nm=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(st),rm=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(st);l.scale.quantile=function(){return vd([],[])};function vd(g,k){var F;function q(){var ue=0,Ae=k.length;for(F=[];++ue<Ae;)F[ue-1]=l.quantile(g,ue/Ae);return ae}function ae(ue){if(!isNaN(ue=+ue))return k[l.bisect(F,ue)]}return ae.domain=function(ue){return arguments.length?(g=ue.map(D).filter(C).sort(_),q()):g},ae.range=function(ue){return arguments.length?(k=ue,q()):k},ae.quantiles=function(){return F},ae.invertExtent=function(ue){return ue=k.indexOf(ue),ue<0?[NaN,NaN]:[ue>0?F[ue-1]:g[0],ue<F.length?F[ue]:g[g.length-1]]},ae.copy=function(){return vd(g,k)},q()}l.scale.quantize=function(){return p1(0,1,[0,1])};function p1(g,k,F){var q,ae;function ue(Ce){return F[Math.max(0,Math.min(ae,Math.floor(q*(Ce-g))))]}function Ae(){return q=F.length/(k-g),ae=F.length-1,ue}return ue.domain=function(Ce){return arguments.length?(g=+Ce[0],k=+Ce[Ce.length-1],Ae()):[g,k]},ue.range=function(Ce){return arguments.length?(F=Ce,Ae()):F},ue.invertExtent=function(Ce){return Ce=F.indexOf(Ce),Ce=Ce<0?NaN:Ce/q+g,[Ce,Ce+1/q]},ue.copy=function(){return p1(g,k,F)},Ae()}l.scale.threshold=function(){return gd([.5],[0,1])};function gd(g,k){function F(q){if(q<=q)return k[l.bisect(g,q)]}return F.domain=function(q){return arguments.length?(g=q,F):g},F.range=function(q){return arguments.length?(k=q,F):k},F.invertExtent=function(q){return q=k.indexOf(q),[g[q-1],g[q]]},F.copy=function(){return gd(g,k)},F}l.scale.identity=function(){return yd([0,1])};function yd(g){function k(F){return+F}return k.invert=k,k.domain=k.range=function(F){return arguments.length?(g=F.map(k),k):g},k.ticks=function(F){return N6(g,F)},k.tickFormat=function(F,q){return d3_scale_linearTickFormat(g,F,q)},k.copy=function(){return yd(g)},k}l.svg={};function im(){return 0}l.svg.arc=function(){var g=am,k=K2,F=im,q=w3,ae=xd,ue=bd,Ae=Bo;function Ce(){var Ge=Math.max(0,+g.apply(this,arguments)),$e=Math.max(0,+k.apply(this,arguments)),ft=ae.apply(this,arguments)-Fe,dt=ue.apply(this,arguments)-Fe,Pt=Math.abs(dt-ft),Ut=ft>dt?0:1;if($e<Ge&&(at=$e,$e=Ge,Ge=at),Pt>=Re)return Pe($e,Ut)+(Ge?Pe(Ge,1-Ut):"")+"Z";var at,Lt,It,Ht,jt=0,kt=0,vn,In,$n,Bn,Zn,Xn,Cr,Wn,ur=[];if((Ht=(+Ae.apply(this,arguments)||0)/2)&&(It=q===w3?Math.sqrt(Ge*Ge+$e*$e):+q.apply(this,arguments),Ut||(kt*=-1),$e&&(kt=Xe(It/$e*Math.sin(Ht))),Ge&&(jt=Xe(It/Ge*Math.sin(Ht)))),$e){vn=$e*Math.cos(ft+kt),In=$e*Math.sin(ft+kt),$n=$e*Math.cos(dt-kt),Bn=$e*Math.sin(dt-kt);var di=Math.abs(dt-ft-2*kt)<=ve?0:1;if(kt&&_3(vn,In,$n,Bn)===Ut^di){var _a=(ft+dt)/2;vn=$e*Math.cos(_a),In=$e*Math.sin(_a),$n=Bn=null}}else vn=In=0;if(Ge){Zn=Ge*Math.cos(dt-jt),Xn=Ge*Math.sin(dt-jt),Cr=Ge*Math.cos(ft+jt),Wn=Ge*Math.sin(ft+jt);var Li=Math.abs(ft-dt+2*jt)<=ve?0:1;if(jt&&_3(Zn,Xn,Cr,Wn)===1-Ut^Li){var Rn=(ft+dt)/2;Zn=Ge*Math.cos(Rn),Xn=Ge*Math.sin(Rn),Cr=Wn=null}}else Zn=Xn=0;if(Pt>_e&&(at=Math.min(Math.abs($e-Ge)/2,+F.apply(this,arguments)))>.001){Lt=Ge<$e^Ut?0:1;var yr=at,Sr=at;if(Pt<ve){var hi=Cr==null?[Zn,Xn]:$n==null?[vn,In]:Dr([vn,In],[Cr,Wn],[$n,Bn],[Zn,Xn]),ca=vn-hi[0],na=In-hi[1],hs=$n-hi[0],Aa=Bn-hi[1],Ps=1/Math.sin(Math.acos((ca*hs+na*Aa)/(Math.sqrt(ca*ca+na*na)*Math.sqrt(hs*hs+Aa*Aa)))/2),Cs=Math.sqrt(hi[0]*hi[0]+hi[1]*hi[1]);Sr=Math.min(at,(Ge-Cs)/(Ps-1)),yr=Math.min(at,($e-Cs)/(Ps+1))}if($n!=null){var Rs=S3(Cr==null?[Zn,Xn]:[Cr,Wn],[vn,In],$e,yr,Ut),Ms=S3([$n,Bn],[Zn,Xn],$e,yr,Ut);at===yr?ur.push("M",Rs[0],"A",yr,",",yr," 0 0,",Lt," ",Rs[1],"A",$e,",",$e," 0 ",1-Ut^_3(Rs[1][0],Rs[1][1],Ms[1][0],Ms[1][1]),",",Ut," ",Ms[1],"A",yr,",",yr," 0 0,",Lt," ",Ms[0]):ur.push("M",Rs[0],"A",yr,",",yr," 0 1,",Lt," ",Ms[0])}else ur.push("M",vn,",",In);if(Cr!=null){var Qs=S3([vn,In],[Cr,Wn],Ge,-Sr,Ut),t0=S3([Zn,Xn],$n==null?[vn,In]:[$n,Bn],Ge,-Sr,Ut);at===Sr?ur.push("L",t0[0],"A",Sr,",",Sr," 0 0,",Lt," ",t0[1],"A",Ge,",",Ge," 0 ",Ut^_3(t0[1][0],t0[1][1],Qs[1][0],Qs[1][1]),",",1-Ut," ",Qs[1],"A",Sr,",",Sr," 0 0,",Lt," ",Qs[0]):ur.push("L",t0[0],"A",Sr,",",Sr," 0 0,",Lt," ",Qs[0])}else ur.push("L",Zn,",",Xn)}else ur.push("M",vn,",",In),$n!=null&&ur.push("A",$e,",",$e," 0 ",di,",",Ut," ",$n,",",Bn),ur.push("L",Zn,",",Xn),Cr!=null&&ur.push("A",Ge,",",Ge," 0 ",Li,",",1-Ut," ",Cr,",",Wn);return ur.push("Z"),ur.join("")}function Pe(Ge,$e){return"M0,"+Ge+"A"+Ge+","+Ge+" 0 1,"+$e+" 0,"+-Ge+"A"+Ge+","+Ge+" 0 1,"+$e+" 0,"+Ge}return Ce.innerRadius=function(Ge){return arguments.length?(g=an(Ge),Ce):g},Ce.outerRadius=function(Ge){return arguments.length?(k=an(Ge),Ce):k},Ce.cornerRadius=function(Ge){return arguments.length?(F=an(Ge),Ce):F},Ce.padRadius=function(Ge){return arguments.length?(q=Ge==w3?w3:an(Ge),Ce):q},Ce.startAngle=function(Ge){return arguments.length?(ae=an(Ge),Ce):ae},Ce.endAngle=function(Ge){return arguments.length?(ue=an(Ge),Ce):ue},Ce.padAngle=function(Ge){return arguments.length?(Ae=an(Ge),Ce):Ae},Ce.centroid=function(){var Ge=(+g.apply(this,arguments)+ +k.apply(this,arguments))/2,$e=(+ae.apply(this,arguments)+ +ue.apply(this,arguments))/2-Fe;return[Math.cos($e)*Ge,Math.sin($e)*Ge]},Ce};var w3="auto";function am(g){return g.innerRadius}function K2(g){return g.outerRadius}function xd(g){return g.startAngle}function bd(g){return g.endAngle}function Bo(g){return g&&g.padAngle}function _3(g,k,F,q){return(g-F)*k-(k-q)*g>0?0:1}function S3(g,k,F,q,ae){var ue=g[0]-k[0],Ae=g[1]-k[1],Ce=(ae?q:-q)/Math.sqrt(ue*ue+Ae*Ae),Pe=Ce*Ae,Ge=-Ce*ue,$e=g[0]+Pe,ft=g[1]+Ge,dt=k[0]+Pe,Pt=k[1]+Ge,Ut=($e+dt)/2,at=(ft+Pt)/2,Lt=dt-$e,It=Pt-ft,Ht=Lt*Lt+It*It,jt=F-q,kt=$e*Pt-dt*ft,vn=(It<0?-1:1)*Math.sqrt(Math.max(0,jt*jt*Ht-kt*kt)),In=(kt*It-Lt*vn)/Ht,$n=(-kt*Lt-It*vn)/Ht,Bn=(kt*It+Lt*vn)/Ht,Zn=(-kt*Lt+It*vn)/Ht,Xn=In-Ut,Cr=$n-at,Wn=Bn-Ut,ur=Zn-at;return Xn*Xn+Cr*Cr>Wn*Wn+ur*ur&&(In=Bn,$n=Zn),[[In-Pe,$n-Ge],[In*F/jt,$n*F/jt]]}function Cd(){return!0}function Md(g){var k=lr,F=br,q=Cd,ae=xo,ue=ae.key,Ae=.7;function Ce(Pe){var Ge=[],$e=[],ft=-1,dt=Pe.length,Pt,Ut=an(k),at=an(F);function Lt(){Ge.push("M",ae(g($e),Ae))}for(;++ft<dt;)q.call(this,Pt=Pe[ft],ft)?$e.push([+Ut.call(this,Pt,ft),+at.call(this,Pt,ft)]):$e.length&&(Lt(),$e=[]);return $e.length&&Lt(),Ge.length?Ge.join(""):null}return Ce.x=function(Pe){return arguments.length?(k=Pe,Ce):k},Ce.y=function(Pe){return arguments.length?(F=Pe,Ce):F},Ce.defined=function(Pe){return arguments.length?(q=Pe,Ce):q},Ce.interpolate=function(Pe){return arguments.length?(typeof Pe=="function"?ue=ae=Pe:ue=(ae=P6.get(Pe)||xo).key,Ce):ue},Ce.tension=function(Pe){return arguments.length?(Ae=Pe,Ce):Ae},Ce}l.svg.line=function(){return Md(W)};var P6=l.map({linear:xo,"linear-closed":R6,step:sm,"step-before":O6,"step-after":Yl,basis:m1,"basis-open":B6,"basis-closed":Q2,bundle:bo,cardinal:om,"cardinal-open":Zl,"cardinal-closed":L3,monotone:cm});P6.forEach(function(g,k){k.key=g,k.closed=/-closed$/.test(g)});function xo(g){return g.length>1?g.join("L"):g+"Z"}function R6(g){return g.join("L")+"Z"}function sm(g){for(var k=0,F=g.length,q=g[0],ae=[q[0],",",q[1]];++k<F;)ae.push("H",(q[0]+(q=g[k])[0])/2,"V",q[1]);return F>1&&ae.push("H",q[0]),ae.join("")}function O6(g){for(var k=0,F=g.length,q=g[0],ae=[q[0],",",q[1]];++k<F;)ae.push("V",(q=g[k])[1],"H",q[0]);return ae.join("")}function Yl(g){for(var k=0,F=g.length,q=g[0],ae=[q[0],",",q[1]];++k<F;)ae.push("H",(q=g[k])[0],"V",q[1]);return ae.join("")}function Zl(g,k){return g.length<4?xo(g):g[1]+Xl(g.slice(1,-1),F6(g,k))}function L3(g,k){return g.length<3?R6(g):g[0]+Xl((g.push(g[0]),g),F6([g[g.length-2]].concat(g,[g[1]]),k))}function om(g,k){return g.length<3?xo(g):g[0]+Xl(g,F6(g,k))}function Xl(g,k){if(k.length<1||g.length!=k.length&&g.length!=k.length+2)return xo(g);var F=g.length!=k.length,q="",ae=g[0],ue=g[1],Ae=k[0],Ce=Ae,Pe=1;if(F&&(q+="Q"+(ue[0]-Ae[0]*2/3)+","+(ue[1]-Ae[1]*2/3)+","+ue[0]+","+ue[1],ae=g[1],Pe=2),k.length>1){Ce=k[1],ue=g[Pe],Pe++,q+="C"+(ae[0]+Ae[0])+","+(ae[1]+Ae[1])+","+(ue[0]-Ce[0])+","+(ue[1]-Ce[1])+","+ue[0]+","+ue[1];for(var Ge=2;Ge<k.length;Ge++,Pe++)ue=g[Pe],Ce=k[Ge],q+="S"+(ue[0]-Ce[0])+","+(ue[1]-Ce[1])+","+ue[0]+","+ue[1]}if(F){var $e=g[Pe];q+="Q"+(ue[0]+Ce[0]*2/3)+","+(ue[1]+Ce[1]*2/3)+","+$e[0]+","+$e[1]}return q}function F6(g,k){for(var F=[],q=(1-k)/2,ae,ue=g[0],Ae=g[1],Ce=1,Pe=g.length;++Ce<Pe;)ae=ue,ue=Ae,Ae=g[Ce],F.push([q*(Ae[0]-ae[0]),q*(Ae[1]-ae[1])]);return F}function m1(g){if(g.length<3)return xo(g);var k=1,F=g.length,q=g[0],ae=q[0],ue=q[1],Ae=[ae,ae,ae,(q=g[1])[0]],Ce=[ue,ue,ue,q[1]],Pe=[ae,",",ue,"L",Co(Mo,Ae),",",Co(Mo,Ce)];for(g.push(g[F-1]);++k<=F;)q=g[k],Ae.shift(),Ae.push(q[0]),Ce.shift(),Ce.push(q[1]),v1(Pe,Ae,Ce);return g.pop(),Pe.push("L",q),Pe.join("")}function B6(g){if(g.length<4)return xo(g);for(var k=[],F=-1,q=g.length,ae,ue=[0],Ae=[0];++F<3;)ae=g[F],ue.push(ae[0]),Ae.push(ae[1]);for(k.push(Co(Mo,ue)+","+Co(Mo,Ae)),--F;++F<q;)ae=g[F],ue.shift(),ue.push(ae[0]),Ae.shift(),Ae.push(ae[1]),v1(k,ue,Ae);return k.join("")}function Q2(g){for(var k,F=-1,q=g.length,ae=q+4,ue,Ae=[],Ce=[];++F<4;)ue=g[F%q],Ae.push(ue[0]),Ce.push(ue[1]);for(k=[Co(Mo,Ae),",",Co(Mo,Ce)],--F;++F<ae;)ue=g[F%q],Ae.shift(),Ae.push(ue[0]),Ce.shift(),Ce.push(ue[1]),v1(k,Ae,Ce);return k.join("")}function bo(g,k){var F=g.length-1;if(F)for(var q=g[0][0],ae=g[0][1],ue=g[F][0]-q,Ae=g[F][1]-ae,Ce=-1,Pe,Ge;++Ce<=F;)Pe=g[Ce],Ge=Ce/F,Pe[0]=k*Pe[0]+(1-k)*(q+Ge*ue),Pe[1]=k*Pe[1]+(1-k)*(ae+Ge*Ae);return m1(g)}function Co(g,k){return g[0]*k[0]+g[1]*k[1]+g[2]*k[2]+g[3]*k[3]}var V6=[0,2/3,1/3,0],H6=[0,1/3,2/3,0],Mo=[0,1/6,2/3,1/6];function v1(g,k,F){g.push("C",Co(V6,k),",",Co(V6,F),",",Co(H6,k),",",Co(H6,F),",",Co(Mo,k),",",Co(Mo,F))}function D3(g,k){return(k[1]-g[1])/(k[0]-g[0])}function lm(g){for(var k=0,F=g.length-1,q=[],ae=g[0],ue=g[1],Ae=q[0]=D3(ae,ue);++k<F;)q[k]=(Ae+(Ae=D3(ae=ue,ue=g[k+1])))/2;return q[k]=Ae,q}function T3(g){for(var k=[],F,q,ae,ue,Ae=lm(g),Ce=-1,Pe=g.length-1;++Ce<Pe;)F=D3(g[Ce],g[Ce+1]),M(F)<_e?Ae[Ce]=Ae[Ce+1]=0:(q=Ae[Ce]/F,ae=Ae[Ce+1]/F,ue=q*q+ae*ae,ue>9&&(ue=F*3/Math.sqrt(ue),Ae[Ce]=ue*q,Ae[Ce+1]=ue*ae));for(Ce=-1;++Ce<=Pe;)ue=(g[Math.min(Pe,Ce+1)][0]-g[Math.max(0,Ce-1)][0])/(6*(1+Ae[Ce]*Ae[Ce])),k.push([ue||0,Ae[Ce]*ue||0]);return k}function cm(g){return g.length<3?xo(g):g[0]+Xl(g,T3(g))}l.svg.line.radial=function(){var g=Md(U6);return g.radius=g.x,delete g.x,g.angle=g.y,delete g.y,g};function U6(g){for(var k,F=-1,q=g.length,ae,ue;++F<q;)k=g[F],ae=k[0],ue=k[1]-Fe,k[0]=ae*Math.cos(ue),k[1]=ae*Math.sin(ue);return g}function ds(g){var k=lr,F=lr,q=0,ae=br,ue=Cd,Ae=xo,Ce=Ae.key,Pe=Ae,Ge="L",$e=.7;function ft(dt){var Pt=[],Ut=[],at=[],Lt=-1,It=dt.length,Ht,jt=an(k),kt=an(q),vn=k===F?function(){return $n}:an(F),In=q===ae?function(){return Bn}:an(ae),$n,Bn;function Zn(){Pt.push("M",Ae(g(at),$e),Ge,Pe(g(Ut.reverse()),$e),"Z")}for(;++Lt<It;)ue.call(this,Ht=dt[Lt],Lt)?(Ut.push([$n=+jt.call(this,Ht,Lt),Bn=+kt.call(this,Ht,Lt)]),at.push([+vn.call(this,Ht,Lt),+In.call(this,Ht,Lt)])):Ut.length&&(Zn(),Ut=[],at=[]);return Ut.length&&Zn(),Pt.length?Pt.join(""):null}return ft.x=function(dt){return arguments.length?(k=F=dt,ft):F},ft.x0=function(dt){return arguments.length?(k=dt,ft):k},ft.x1=function(dt){return arguments.length?(F=dt,ft):F},ft.y=function(dt){return arguments.length?(q=ae=dt,ft):ae},ft.y0=function(dt){return arguments.length?(q=dt,ft):q},ft.y1=function(dt){return arguments.length?(ae=dt,ft):ae},ft.defined=function(dt){return arguments.length?(ue=dt,ft):ue},ft.interpolate=function(dt){return arguments.length?(typeof dt=="function"?Ce=Ae=dt:Ce=(Ae=P6.get(dt)||xo).key,Pe=Ae.reverse||Ae,Ge=Ae.closed?"M":"L",ft):Ce},ft.tension=function(dt){return arguments.length?($e=dt,ft):$e},ft}O6.reverse=Yl,Yl.reverse=O6,l.svg.area=function(){return ds(W)},l.svg.area.radial=function(){var g=ds(U6);return g.radius=g.x,delete g.x,g.innerRadius=g.x0,delete g.x0,g.outerRadius=g.x1,delete g.x1,g.angle=g.y,delete g.y,g.startAngle=g.y0,delete g.y0,g.endAngle=g.y1,delete g.y1,g};function A3(g){return g.source}function j6(g){return g.target}l.svg.chord=function(){var g=A3,k=j6,F=g1,q=xd,ae=bd;function ue($e,ft){var dt=Ae(this,g,$e,ft),Pt=Ae(this,k,$e,ft);return"M"+dt.p0+Pe(dt.r,dt.p1,dt.a1-dt.a0)+(Ce(dt,Pt)?Ge(dt.r,dt.p1,dt.r,dt.p0):Ge(dt.r,dt.p1,Pt.r,Pt.p0)+Pe(Pt.r,Pt.p1,Pt.a1-Pt.a0)+Ge(Pt.r,Pt.p1,dt.r,dt.p0))+"Z"}function Ae($e,ft,dt,Pt){var Ut=ft.call($e,dt,Pt),at=F.call($e,Ut,Pt),Lt=q.call($e,Ut,Pt)-Fe,It=ae.call($e,Ut,Pt)-Fe;return{r:at,a0:Lt,a1:It,p0:[at*Math.cos(Lt),at*Math.sin(Lt)],p1:[at*Math.cos(It),at*Math.sin(It)]}}function Ce($e,ft){return $e.a0==ft.a0&&$e.a1==ft.a1}function Pe($e,ft,dt){return"A"+$e+","+$e+" 0 "+ +(dt>ve)+",1 "+ft}function Ge($e,ft,dt,Pt){return"Q 0,0 "+Pt}return ue.radius=function($e){return arguments.length?(F=an($e),ue):F},ue.source=function($e){return arguments.length?(g=an($e),ue):g},ue.target=function($e){return arguments.length?(k=an($e),ue):k},ue.startAngle=function($e){return arguments.length?(q=an($e),ue):q},ue.endAngle=function($e){return arguments.length?(ae=an($e),ue):ae},ue};function g1(g){return g.radius}l.svg.diagonal=function(){var g=A3,k=j6,F=z3;function q(ae,ue){var Ae=g.call(this,ae,ue),Ce=k.call(this,ae,ue),Pe=(Ae.y+Ce.y)/2,Ge=[Ae,{x:Ae.x,y:Pe},{x:Ce.x,y:Pe},Ce];return Ge=Ge.map(F),"M"+Ge[0]+"C"+Ge[1]+" "+Ge[2]+" "+Ge[3]}return q.source=function(ae){return arguments.length?(g=an(ae),q):g},q.target=function(ae){return arguments.length?(k=an(ae),q):k},q.projection=function(ae){return arguments.length?(F=ae,q):F},q};function z3(g){return[g.x,g.y]}l.svg.diagonal.radial=function(){var g=l.svg.diagonal(),k=z3,F=g.projection;return g.projection=function(q){return arguments.length?F(E3(k=q)):k},g};function E3(g){return function(){var k=g.apply(this,arguments),F=k[0],q=k[1]-Fe;return[F*Math.cos(q),F*Math.sin(q)]}}l.svg.symbol=function(){var g=wd,k=J2;function F(q,ae){return(I3.get(g.call(this,q,ae))||Ns)(k.call(this,q,ae))}return F.type=function(q){return arguments.length?(g=an(q),F):g},F.size=function(q){return arguments.length?(k=an(q),F):k},F};function J2(){return 64}function wd(){return"circle"}function Ns(g){var k=Math.sqrt(g/ve);return"M0,"+k+"A"+k+","+k+" 0 1,1 0,"+-k+"A"+k+","+k+" 0 1,1 0,"+k+"Z"}var I3=l.map({circle:Ns,cross:function(g){var k=Math.sqrt(g/5)/2;return"M"+-3*k+","+-k+"H"+-k+"V"+-3*k+"H"+k+"V"+-k+"H"+3*k+"V"+k+"H"+k+"V"+3*k+"H"+-k+"V"+k+"H"+-3*k+"Z"},diamond:function(g){var k=Math.sqrt(g/(2*_d)),F=k*_d;return"M0,"+-k+"L"+F+",0 0,"+k+" "+-F+",0Z"},square:function(g){var k=Math.sqrt(g)/2;return"M"+-k+","+-k+"L"+k+","+-k+" "+k+","+k+" "+-k+","+k+"Z"},"triangle-down":function(g){var k=Math.sqrt(g/k3),F=k*k3/2;return"M0,"+F+"L"+k+","+-F+" "+-k+","+-F+"Z"},"triangle-up":function(g){var k=Math.sqrt(g/k3),F=k*k3/2;return"M0,"+-F+"L"+k+","+F+" "+-k+","+F+"Z"}});l.svg.symbolTypes=I3.keys();var k3=Math.sqrt(3),_d=Math.tan(30*Ue);E.transition=function(g){for(var k=q2||++G6,F=$6(g),q=[],ae,ue,Ae=R3||{time:Date.now(),ease:L6,delay:0,duration:250},Ce=-1,Pe=this.length;++Ce<Pe;){q.push(ae=[]);for(var Ge=this[Ce],$e=-1,ft=Ge.length;++$e<ft;)(ue=Ge[$e])&&W0(ue,$e,F,k,Ae),ae.push(ue)}return Kl(q,F,k)},E.interrupt=function(g){return this.each(g==null?N3:P3($6(g)))};var N3=P3($6());function P3(g){return function(){var k,F,q;(k=this[g])&&(q=k[F=k.active])&&(q.timer.c=null,q.timer.t=NaN,--k.count?delete k[F]:delete this[g],k.active+=.5,q.event&&q.event.interrupt.call(this,this.__data__,q.index))}}function Kl(g,k,F){return he(g,ya),g.namespace=k,g.id=F,g}var ya=[],G6=0,q2,R3;ya.call=E.call,ya.empty=E.empty,ya.node=E.node,ya.size=E.size,l.transition=function(g,k){return g&&g.transition?q2?g.transition(k):g:l.selection().transition(g)},l.transition.prototype=ya,ya.select=function(g){var k=this.id,F=this.namespace,q=[],ae,ue,Ae;g=K(g);for(var Ce=-1,Pe=this.length;++Ce<Pe;){q.push(ae=[]);for(var Ge=this[Ce],$e=-1,ft=Ge.length;++$e<ft;)(Ae=Ge[$e])&&(ue=g.call(Ae,Ae.__data__,$e,Ce))?("__data__"in Ae&&(ue.__data__=Ae.__data__),W0(ue,$e,F,k,Ae[F][k]),ae.push(ue)):ae.push(null)}return Kl(q,F,k)},ya.selectAll=function(g){var k=this.id,F=this.namespace,q=[],ae,ue,Ae,Ce,Pe;g=R(g);for(var Ge=-1,$e=this.length;++Ge<$e;)for(var ft=this[Ge],dt=-1,Pt=ft.length;++dt<Pt;)if(Ae=ft[dt]){Pe=Ae[F][k],ue=g.call(Ae,Ae.__data__,dt,Ge),q.push(ae=[]);for(var Ut=-1,at=ue.length;++Ut<at;)(Ce=ue[Ut])&&W0(Ce,Ut,F,k,Pe),ae.push(Ce)}return Kl(q,F,k)},ya.filter=function(g){var k=[],F,q,ae;typeof g!="function"&&(g=Ve(g));for(var ue=0,Ae=this.length;ue<Ae;ue++){k.push(F=[]);for(var q=this[ue],Ce=0,Pe=q.length;Ce<Pe;Ce++)(ae=q[Ce])&&g.call(ae,ae.__data__,Ce,ue)&&F.push(ae)}return Kl(k,this.namespace,this.id)},ya.tween=function(g,k){var F=this.id,q=this.namespace;return arguments.length<2?this.node()[q][F].tween.get(g):vt(this,k==null?function(ae){ae[q][F].tween.remove(g)}:function(ae){ae[q][F].tween.set(g,k)})};function e0(g,k,F,q){var ae=g.id,ue=g.namespace;return vt(g,typeof F=="function"?function(Ae,Ce,Pe){Ae[ue][ae].tween.set(k,q(F.call(Ae,Ae.__data__,Ce,Pe)))}:(F=q(F),function(Ae){Ae[ue][ae].tween.set(k,F)}))}ya.attr=function(g,k){if(arguments.length<2){for(k in g)this.attr(k,g[k]);return this}var F=g=="transform"?ja:d2,q=l.ns.qualify(g);function ae(){this.removeAttribute(q)}function ue(){this.removeAttributeNS(q.space,q.local)}function Ae(Pe){return Pe==null?ae:(Pe+="",function(){var Ge=this.getAttribute(q),$e;return Ge!==Pe&&($e=F(Ge,Pe),function(ft){this.setAttribute(q,$e(ft))})})}function Ce(Pe){return Pe==null?ue:(Pe+="",function(){var Ge=this.getAttributeNS(q.space,q.local),$e;return Ge!==Pe&&($e=F(Ge,Pe),function(ft){this.setAttributeNS(q.space,q.local,$e(ft))})})}return e0(this,"attr."+g,k,q.local?Ce:Ae)},ya.attrTween=function(g,k){var F=l.ns.qualify(g);function q(ue,Ae){var Ce=k.call(this,ue,Ae,this.getAttribute(F));return Ce&&function(Pe){this.setAttribute(F,Ce(Pe))}}function ae(ue,Ae){var Ce=k.call(this,ue,Ae,this.getAttributeNS(F.space,F.local));return Ce&&function(Pe){this.setAttributeNS(F.space,F.local,Ce(Pe))}}return this.tween("attr."+g,F.local?ae:q)},ya.style=function(g,k,F){var q=arguments.length;if(q<3){if(typeof g!="string"){q<2&&(k="");for(F in g)this.style(F,g[F],k);return this}F=""}function ae(){this.style.removeProperty(g)}function ue(Ae){return Ae==null?ae:(Ae+="",function(){var Ce=m(this).getComputedStyle(this,null).getPropertyValue(g),Pe;return Ce!==Ae&&(Pe=d2(Ce,Ae),function(Ge){this.style.setProperty(g,Pe(Ge),F)})})}return e0(this,"style."+g,k,ue)},ya.styleTween=function(g,k,F){arguments.length<3&&(F="");function q(ae,ue){var Ae=k.call(this,ae,ue,m(this).getComputedStyle(this,null).getPropertyValue(g));return Ae&&function(Ce){this.style.setProperty(g,Ae(Ce),F)}}return this.tween("style."+g,q)},ya.text=function(g){return e0(this,"text",g,um)};function um(g){return g==null&&(g=""),function(){this.textContent=g}}ya.remove=function(){var g=this.namespace;return this.each("end.transition",function(){var k;this[g].count<2&&(k=this.parentNode)&&k.removeChild(this)})},ya.ease=function(g){var k=this.id,F=this.namespace;return arguments.length<1?this.node()[F][k].ease:(typeof g!="function"&&(g=l.ease.apply(l,arguments)),vt(this,function(q){q[F][k].ease=g}))},ya.delay=function(g){var k=this.id,F=this.namespace;return arguments.length<1?this.node()[F][k].delay:vt(this,typeof g=="function"?function(q,ae,ue){q[F][k].delay=+g.call(q,q.__data__,ae,ue)}:(g=+g,function(q){q[F][k].delay=g}))},ya.duration=function(g){var k=this.id,F=this.namespace;return arguments.length<1?this.node()[F][k].duration:vt(this,typeof g=="function"?function(q,ae,ue){q[F][k].duration=Math.max(1,g.call(q,q.__data__,ae,ue))}:(g=Math.max(1,g),function(q){q[F][k].duration=g}))},ya.each=function(g,k){var F=this.id,q=this.namespace;if(arguments.length<2){var ae=R3,ue=q2;try{q2=F,vt(this,function(Ae,Ce,Pe){R3=Ae[q][F],g.call(Ae,Ae.__data__,Ce,Pe)})}finally{R3=ae,q2=ue}}else vt(this,function(Ae){var Ce=Ae[q][F];(Ce.event||(Ce.event=l.dispatch("start","end","interrupt"))).on(g,k)});return this},ya.transition=function(){for(var g=this.id,k=++G6,F=this.namespace,q=[],ae,ue,Ae,Ce,Pe=0,Ge=this.length;Pe<Ge;Pe++){q.push(ae=[]);for(var ue=this[Pe],$e=0,ft=ue.length;$e<ft;$e++)(Ae=ue[$e])&&(Ce=Ae[F][g],W0(Ae,$e,F,k,{time:Ce.time,ease:Ce.ease,delay:Ce.delay+Ce.duration,duration:Ce.duration})),ae.push(Ae)}return Kl(q,F,k)};function $6(g){return g==null?"__transition__":"__transition_"+g+"__"}function W0(g,k,F,q,ae){var ue=g[F]||(g[F]={active:0,count:0}),Ae=ue[q],Ce,Pe,Ge,$e,ft;function dt(at){var Lt=Ae.delay;if(Pe.t=Lt+Ce,Lt<=at)return Pt(at-Lt);Pe.c=Pt}function Pt(at){var Lt=ue.active,It=ue[Lt];It&&(It.timer.c=null,It.timer.t=NaN,--ue.count,delete ue[Lt],It.event&&It.event.interrupt.call(g,g.__data__,It.index));for(var Ht in ue)if(+Ht<q){var jt=ue[Ht];jt.timer.c=null,jt.timer.t=NaN,--ue.count,delete ue[Ht]}Pe.c=Ut,Va(function(){return Pe.c&&Ut(at||1)&&(Pe.c=null,Pe.t=NaN),1},0,Ce),ue.active=q,Ae.event&&Ae.event.start.call(g,g.__data__,k),ft=[],Ae.tween.forEach(function(kt,vn){(vn=vn.call(g,g.__data__,k))&&ft.push(vn)}),$e=Ae.ease,Ge=Ae.duration}function Ut(at){for(var Lt=at/Ge,It=$e(Lt),Ht=ft.length;Ht>0;)ft[--Ht].call(g,It);if(Lt>=1)return Ae.event&&Ae.event.end.call(g,g.__data__,k),--ue.count?delete ue[q]:delete g[F],1}Ae||(Ce=ae.time,Pe=Va(dt,0,Ce),Ae=ue[q]={tween:new B,time:Ce,timer:Pe,delay:ae.delay,duration:ae.duration,ease:ae.ease,index:k},ae=null,++ue.count)}l.svg.axis=function(){var g=l.scale.linear(),k=W6,F=6,q=6,ae=3,ue=[10],Ae=null,Ce;function Pe(Ge){Ge.each(function(){var $e=l.select(this),ft=this.__chart__||g,dt=this.__chart__=g.copy(),Pt=Ae??(dt.ticks?dt.ticks.apply(dt,ue):dt.domain()),Ut=Ce??(dt.tickFormat?dt.tickFormat.apply(dt,ue):W),at=$e.selectAll(".tick").data(Pt,dt),Lt=at.enter().insert("g",".domain").attr("class","tick").style("opacity",_e),It=l.transition(at.exit()).style("opacity",_e).remove(),Ht=l.transition(at.order()).style("opacity",1),jt=Math.max(F,0)+ae,kt,vn=b3(dt),In=$e.selectAll(".domain").data([0]),$n=(In.enter().append("path").attr("class","domain"),l.transition(In));Lt.append("line"),Lt.append("text");var Bn=Lt.select("line"),Zn=Ht.select("line"),Xn=at.select("text").text(Ut),Cr=Lt.select("text"),Wn=Ht.select("text"),ur=k==="top"||k==="left"?-1:1,di,_a,Li,Rn;if(k==="bottom"||k==="top"?(kt=dm,di="x",Li="y",_a="x2",Rn="y2",Xn.attr("dy",ur<0?"0em":".71em").style("text-anchor","middle"),$n.attr("d","M"+vn[0]+","+ur*q+"V0H"+vn[1]+"V"+ur*q)):(kt=hm,di="y",Li="x",_a="y2",Rn="x2",Xn.attr("dy",".32em").style("text-anchor",ur<0?"end":"start"),$n.attr("d","M"+ur*q+","+vn[0]+"H0V"+vn[1]+"H"+ur*q)),Bn.attr(Rn,ur*F),Cr.attr(Li,ur*jt),Zn.attr(_a,0).attr(Rn,ur*F),Wn.attr(di,0).attr(Li,ur*jt),dt.rangeBand){var yr=dt,Sr=yr.rangeBand()/2;ft=dt=function(hi){return yr(hi)+Sr}}else ft.rangeBand?ft=dt:It.call(kt,dt,ft);Lt.call(kt,ft,dt),Ht.call(kt,dt,dt)})}return Pe.scale=function(Ge){return arguments.length?(g=Ge,Pe):g},Pe.orient=function(Ge){return arguments.length?(k=Ge in fm?Ge+"":W6,Pe):k},Pe.ticks=function(){return arguments.length?(ue=f(arguments),Pe):ue},Pe.tickValues=function(Ge){return arguments.length?(Ae=Ge,Pe):Ae},Pe.tickFormat=function(Ge){return arguments.length?(Ce=Ge,Pe):Ce},Pe.tickSize=function(Ge){var $e=arguments.length;return $e?(F=+Ge,q=+arguments[$e-1],Pe):F},Pe.innerTickSize=function(Ge){return arguments.length?(F=+Ge,Pe):F},Pe.outerTickSize=function(Ge){return arguments.length?(q=+Ge,Pe):q},Pe.tickPadding=function(Ge){return arguments.length?(ae=+Ge,Pe):ae},Pe.tickSubdivide=function(){return arguments.length&&Pe},Pe};var W6="bottom",fm={top:1,right:1,bottom:1,left:1};function dm(g,k,F){g.attr("transform",function(q){var ae=k(q);return"translate("+(isFinite(ae)?ae:F(q))+",0)"})}function hm(g,k,F){g.attr("transform",function(q){var ae=k(q);return"translate(0,"+(isFinite(ae)?ae:F(q))+")"})}l.svg.brush=function(){var g=Te($e,"brushstart","brush","brushend"),k=null,F=null,q=[0,0],ae=[0,0],ue,Ae,Ce=!0,Pe=!0,Ge=Ql[0];function $e(at){at.each(function(){var Lt=l.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Ut).on("touchstart.brush",Ut),It=Lt.selectAll(".background").data([0]);It.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Lt.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Ht=Lt.selectAll(".resize").data(Ge,W);Ht.exit().remove(),Ht.enter().append("g").attr("class",function(In){return"resize "+In}).style("cursor",function(In){return Sd[In]}).append("rect").attr("x",function(In){return/[ew]$/.test(In)?-3:null}).attr("y",function(In){return/^[ns]/.test(In)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),Ht.style("display",$e.empty()?"none":null);var jt=l.transition(Lt),kt=l.transition(It),vn;k&&(vn=b3(k),kt.attr("x",vn[0]).attr("width",vn[1]-vn[0]),dt(jt)),F&&(vn=b3(F),kt.attr("y",vn[0]).attr("height",vn[1]-vn[0]),Pt(jt)),ft(jt)})}$e.event=function(at){at.each(function(){var Lt=g.of(this,arguments),It={x:q,y:ae,i:ue,j:Ae},Ht=this.__chart__||It;this.__chart__=It,q2?l.select(this).transition().each("start.brush",function(){ue=Ht.i,Ae=Ht.j,q=Ht.x,ae=Ht.y,Lt({type:"brushstart"})}).tween("brush:brush",function(){var jt=Ol(q,It.x),kt=Ol(ae,It.y);return ue=Ae=null,function(vn){q=It.x=jt(vn),ae=It.y=kt(vn),Lt({type:"brush",mode:"resize"})}}).each("end.brush",function(){ue=It.i,Ae=It.j,Lt({type:"brush",mode:"resize"}),Lt({type:"brushend"})}):(Lt({type:"brushstart"}),Lt({type:"brush",mode:"resize"}),Lt({type:"brushend"}))})};function ft(at){at.selectAll(".resize").attr("transform",function(Lt){return"translate("+q[+/e$/.test(Lt)]+","+ae[+/^s/.test(Lt)]+")"})}function dt(at){at.select(".extent").attr("x",q[0]),at.selectAll(".extent,.n>rect,.s>rect").attr("width",q[1]-q[0])}function Pt(at){at.select(".extent").attr("y",ae[0]),at.selectAll(".extent,.e>rect,.w>rect").attr("height",ae[1]-ae[0])}function Ut(){var at=this,Lt=l.select(l.event.target),It=g.of(at,arguments),Ht=l.select(at),jt=Lt.datum(),kt=!/^(n|s)$/.test(jt)&&k,vn=!/^(e|w)$/.test(jt)&&F,In=Lt.classed("extent"),$n=Yt(at),Bn,Zn=l.mouse(at),Xn,Cr=l.select(m(at)).on("keydown.brush",di).on("keyup.brush",_a);if(l.event.changedTouches?Cr.on("touchmove.brush",Li).on("touchend.brush",yr):Cr.on("mousemove.brush",Li).on("mouseup.brush",yr),Ht.interrupt().selectAll("*").interrupt(),In)Zn[0]=q[0]-Zn[0],Zn[1]=ae[0]-Zn[1];else if(jt){var Wn=+/w$/.test(jt),ur=+/^n/.test(jt);Xn=[q[1-Wn]-Zn[0],ae[1-ur]-Zn[1]],Zn[0]=q[Wn],Zn[1]=ae[ur]}else l.event.altKey&&(Bn=Zn.slice());Ht.style("pointer-events","none").selectAll(".resize").style("display",null),l.select("body").style("cursor",Lt.style("cursor")),It({type:"brushstart"}),Li();function di(){l.event.keyCode==32&&(In||(Bn=null,Zn[0]-=q[1],Zn[1]-=ae[1],In=2),Se())}function _a(){l.event.keyCode==32&&In==2&&(Zn[0]+=q[1],Zn[1]+=ae[1],In=0,Se())}function Li(){var Sr=l.mouse(at),hi=!1;Xn&&(Sr[0]+=Xn[0],Sr[1]+=Xn[1]),In||(l.event.altKey?(Bn||(Bn=[(q[0]+q[1])/2,(ae[0]+ae[1])/2]),Zn[0]=q[+(Sr[0]<Bn[0])],Zn[1]=ae[+(Sr[1]<Bn[1])]):Bn=null),kt&&Rn(Sr,k,0)&&(dt(Ht),hi=!0),vn&&Rn(Sr,F,1)&&(Pt(Ht),hi=!0),hi&&(ft(Ht),It({type:"brush",mode:In?"move":"resize"}))}function Rn(Sr,hi,ca){var na=b3(hi),hs=na[0],Aa=na[1],Ps=Zn[ca],Cs=ca?ae:q,Rs=Cs[1]-Cs[0],Ms,Qs;if(In&&(hs-=Ps,Aa-=Rs+Ps),Ms=(ca?Pe:Ce)?Math.max(hs,Math.min(Aa,Sr[ca])):Sr[ca],In?Qs=(Ms+=Ps)+Rs:(Bn&&(Ps=Math.max(hs,Math.min(Aa,2*Bn[ca]-Ms))),Ps<Ms?(Qs=Ms,Ms=Ps):Qs=Ps),Cs[0]!=Ms||Cs[1]!=Qs)return ca?Ae=null:ue=null,Cs[0]=Ms,Cs[1]=Qs,!0}function yr(){Li(),Ht.style("pointer-events","all").selectAll(".resize").style("display",$e.empty()?"none":null),l.select("body").style("cursor",null),Cr.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),$n(),It({type:"brushend"})}}return $e.x=function(at){return arguments.length?(k=at,Ge=Ql[!k<<1|!F],$e):k},$e.y=function(at){return arguments.length?(F=at,Ge=Ql[!k<<1|!F],$e):F},$e.clamp=function(at){return arguments.length?(k&&F?(Ce=!!at[0],Pe=!!at[1]):k?Ce=!!at:F&&(Pe=!!at),$e):k&&F?[Ce,Pe]:k?Ce:F?Pe:null},$e.extent=function(at){var Lt,It,Ht,jt,kt;return arguments.length?(k&&(Lt=at[0],It=at[1],F&&(Lt=Lt[0],It=It[0]),ue=[Lt,It],k.invert&&(Lt=k(Lt),It=k(It)),It<Lt&&(kt=Lt,Lt=It,It=kt),(Lt!=q[0]||It!=q[1])&&(q=[Lt,It])),F&&(Ht=at[0],jt=at[1],k&&(Ht=Ht[1],jt=jt[1]),Ae=[Ht,jt],F.invert&&(Ht=F(Ht),jt=F(jt)),jt<Ht&&(kt=Ht,Ht=jt,jt=kt),(Ht!=ae[0]||jt!=ae[1])&&(ae=[Ht,jt])),$e):(k&&(ue?(Lt=ue[0],It=ue[1]):(Lt=q[0],It=q[1],k.invert&&(Lt=k.invert(Lt),It=k.invert(It)),It<Lt&&(kt=Lt,Lt=It,It=kt))),F&&(Ae?(Ht=Ae[0],jt=Ae[1]):(Ht=ae[0],jt=ae[1],F.invert&&(Ht=F.invert(Ht),jt=F.invert(jt)),jt<Ht&&(kt=Ht,Ht=jt,jt=kt))),k&&F?[[Lt,Ht],[It,jt]]:k?[Lt,It]:F&&[Ht,jt])},$e.clear=function(){return $e.empty()||(q=[0,0],ae=[0,0],ue=Ae=null),$e},$e.empty=function(){return!!k&&q[0]==q[1]||!!F&&ae[0]==ae[1]},l.rebind($e,g,"on")};var Sd={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ql=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];l.text=ln(function(g){return g.responseText}),l.json=function(g,k){return En(g,"application/json",pm,k)};function pm(g){return JSON.parse(g.responseText)}l.html=function(g,k){return En(g,"text/html",Y6,k)};function Y6(g){var k=h.createRange();return k.selectNode(h.body),k.createContextualFragment(g.responseText)}l.xml=ln(function(g){return g.responseXML}),o=l,c=typeof o=="function"?o.call(s,a,s,i):o,c!==void 0&&(i.exports=c)}).apply(self)},3229:function(i,s,a){"use strict";a.r(s),a.d(s,{decode:function(){return f},encode:function(){return u}});for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=typeof Uint8Array>"u"?[]:new Uint8Array(256),l=0;l<o.length;l++)c[o.charCodeAt(l)]=l;var u=function(h){var p=new Uint8Array(h),m,d=p.length,y="";for(m=0;m<d;m+=3)y+=o[p[m]>>2],y+=o[(p[m]&3)<<4|p[m+1]>>4],y+=o[(p[m+1]&15)<<2|p[m+2]>>6],y+=o[p[m+2]&63];return d%3===2?y=y.substring(0,y.length-1)+"=":d%3===1&&(y=y.substring(0,y.length-2)+"=="),y},f=function(h){var p=h.length*.75,m=h.length,d,y=0,x,w,L,_;h[h.length-1]==="="&&(p--,h[h.length-2]==="="&&p--);var D=new ArrayBuffer(p),C=new Uint8Array(D);for(d=0;d<m;d+=4)x=c[h.charCodeAt(d)],w=c[h.charCodeAt(d+1)],L=c[h.charCodeAt(d+2)],_=c[h.charCodeAt(d+3)],C[y++]=x<<2|w>>4,C[y++]=(w&15)<<4|L>>2,C[y++]=(L&3)<<6|_&63;return D}},1070:function(i){"use strict";i.exports=function(s){var a=[];return a.toString=function(){return this.map(function(c){var l="",u=typeof c[5]<"u";return c[4]&&(l+="@supports (".concat(c[4],") {")),c[2]&&(l+="@media ".concat(c[2]," {")),u&&(l+="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {")),l+=s(c),u&&(l+="}"),c[2]&&(l+="}"),c[4]&&(l+="}"),l}).join("")},a.i=function(c,l,u,f,h){typeof c=="string"&&(c=[[null,c,void 0]]);var p={};if(u)for(var m=0;m<this.length;m++){var d=this[m][0];d!=null&&(p[d]=!0)}for(var y=0;y<c.length;y++){var x=[].concat(c[y]);u&&p[x[0]]||(typeof h<"u"&&(typeof x[5]>"u"||(x[1]="@layer".concat(x[5].length>0?" ".concat(x[5]):""," {").concat(x[1],"}")),x[5]=h),l&&(x[2]&&(x[1]="@media ".concat(x[2]," {").concat(x[1],"}")),x[2]=l),f&&(x[4]?(x[1]="@supports (".concat(x[4],") {").concat(x[1],"}"),x[4]=f):x[4]="".concat(f)),a.push(x))}},a}},2133:function(i){"use strict";i.exports=function(s,a){return a||(a={}),s&&(s=String(s.__esModule?s.default:s),/^['"].*['"]$/.test(s)&&(s=s.slice(1,-1)),a.hash&&(s+=a.hash),/["'() \t\n]|(%20)/.test(s)||a.needQuotes?'"'.concat(s.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):s)}},2413:function(i){"use strict";i.exports=function(s){return s[1]}},6464:function(i,s,a){"use strict";a.d(s,{GP:function(){return S},OE:function(){return z}});function o(T){return Math.abs(T=Math.round(T))>=1e21?T.toLocaleString("en").replace(/,/g,""):T.toString(10)}function c(T,B){if((H=(T=B?T.toExponential(B-1):T.toExponential()).indexOf("e"))<0)return null;var H,Z=T.slice(0,H);return[Z.length>1?Z[0]+Z.slice(2):Z,+T.slice(H+1)]}function l(T){return T=c(Math.abs(T)),T?T[1]:NaN}function u(T,B){return function(H,Z){for(var $=H.length,N=[],j=0,O=T[0],X=0;$>0&&O>0&&(X+O+1>Z&&(O=Math.max(1,Z-X)),N.push(H.substring($-=O,$+O)),!((X+=O+1)>Z));)O=T[j=(j+1)%T.length];return N.reverse().join(B)}}function f(T){return function(B){return B.replace(/[0-9]/g,function(H){return T[+H]})}}var h=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function p(T){if(!(B=h.exec(T)))throw new Error("invalid format: "+T);var B;return new m({fill:B[1],align:B[2],sign:B[3],symbol:B[4],zero:B[5],width:B[6],comma:B[7],precision:B[8]&&B[8].slice(1),trim:B[9],type:B[10]})}p.prototype=m.prototype;function m(T){this.fill=T.fill===void 0?" ":T.fill+"",this.align=T.align===void 0?">":T.align+"",this.sign=T.sign===void 0?"-":T.sign+"",this.symbol=T.symbol===void 0?"":T.symbol+"",this.zero=!!T.zero,this.width=T.width===void 0?void 0:+T.width,this.comma=!!T.comma,this.precision=T.precision===void 0?void 0:+T.precision,this.trim=!!T.trim,this.type=T.type===void 0?"":T.type+""}m.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function d(T){e:for(var B=T.length,H=1,Z=-1,$;H<B;++H)switch(T[H]){case".":Z=$=H;break;case"0":Z===0&&(Z=H),$=H;break;default:if(!+T[H])break e;Z>0&&(Z=0);break}return Z>0?T.slice(0,Z)+T.slice($+1):T}var y;function x(T,B){var H=c(T,B);if(!H)return T+"";var Z=H[0],$=H[1],N=$-(y=Math.max(-8,Math.min(8,Math.floor($/3)))*3)+1,j=Z.length;return N===j?Z:N>j?Z+new Array(N-j+1).join("0"):N>0?Z.slice(0,N)+"."+Z.slice(N):"0."+new Array(1-N).join("0")+c(T,Math.max(0,B+N-1))[0]}function w(T,B){var H=c(T,B);if(!H)return T+"";var Z=H[0],$=H[1];return $<0?"0."+new Array(-$).join("0")+Z:Z.length>$+1?Z.slice(0,$+1)+"."+Z.slice($+1):Z+new Array($-Z.length+2).join("0")}var L={"%":function(T,B){return(T*100).toFixed(B)},b:function(T){return Math.round(T).toString(2)},c:function(T){return T+""},d:o,e:function(T,B){return T.toExponential(B)},f:function(T,B){return T.toFixed(B)},g:function(T,B){return T.toPrecision(B)},o:function(T){return Math.round(T).toString(8)},p:function(T,B){return w(T*100,B)},r:w,s:x,X:function(T){return Math.round(T).toString(16).toUpperCase()},x:function(T){return Math.round(T).toString(16)}};function _(T){return T}var D=Array.prototype.map,C=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function z(T){var B=T.grouping===void 0||T.thousands===void 0?_:u(D.call(T.grouping,Number),T.thousands+""),H=T.currency===void 0?"":T.currency[0]+"",Z=T.currency===void 0?"":T.currency[1]+"",$=T.decimal===void 0?".":T.decimal+"",N=T.numerals===void 0?_:f(D.call(T.numerals,String)),j=T.percent===void 0?"%":T.percent+"",O=T.minus===void 0?"-":T.minus+"",X=T.nan===void 0?"NaN":T.nan+"";function ie(V){V=p(V);var W=V.fill,Y=V.align,Q=V.sign,re=V.symbol,te=V.zero,le=V.width,be=V.comma,Se=V.precision,ze=V.trim,Te=V.type;Te==="n"?(be=!0,Te="g"):L[Te]||(Se===void 0&&(Se=12),ze=!0,Te="g"),(te||W==="0"&&Y==="=")&&(te=!0,W="0",Y="=");var ye=re==="$"?H:re==="#"&&/[boxX]/.test(Te)?"0"+Te.toLowerCase():"",he=re==="$"?Z:/[%p]/.test(Te)?j:"",P=L[Te],U=/[defgprs%]/.test(Te);Se=Se===void 0?6:/[gprs]/.test(Te)?Math.max(1,Math.min(21,Se)):Math.max(0,Math.min(20,Se));function ee(G){var E=ye,K=he,R,ne,pe;if(Te==="c")K=P(G)+K,G="";else{G=+G;var xe=G<0||1/G<0;if(G=isNaN(G)?X:P(Math.abs(G),Se),ze&&(G=d(G)),xe&&+G==0&&Q!=="+"&&(xe=!1),E=(xe?Q==="("?Q:O:Q==="-"||Q==="("?"":Q)+E,K=(Te==="s"?C[8+y/3]:"")+K+(xe&&Q==="("?")":""),U){for(R=-1,ne=G.length;++R<ne;)if(pe=G.charCodeAt(R),48>pe||pe>57){K=(pe===46?$+G.slice(R+1):G.slice(R))+K,G=G.slice(0,R);break}}}be&&!te&&(G=B(G,1/0));var we=E.length+G.length+K.length,Ee=we<le?new Array(le-we+1).join(W):"";switch(be&&te&&(G=B(Ee+G,Ee.length?le-K.length:1/0),Ee=""),Y){case"<":G=E+G+K+Ee;break;case"=":G=E+Ee+G+K;break;case"^":G=Ee.slice(0,we=Ee.length>>1)+E+G+K+Ee.slice(we);break;default:G=Ee+E+G+K;break}return N(G)}return ee.toString=function(){return V+""},ee}function oe(V,W){var Y=ie((V=p(V),V.type="f",V)),Q=Math.max(-8,Math.min(8,Math.floor(l(W)/3)))*3,re=Math.pow(10,-Q),te=C[8+Q/3];return function(le){return Y(re*le)+te}}return{format:ie,formatPrefix:oe}}var b,S,M;I({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function I(T){return b=z(T),S=b.format,M=b.formatPrefix,b}},2696:function(i,s,a){"use strict";a.d(s,{DC:function(){return Vt},de:function(){return y},aL:function(){return et}});var o=a(1681),c=a(2543),l=a(5735),u=a(7265),f=a(9830),h=a(9764);function p(_e){if(0<=_e.y&&_e.y<100){var Be=new Date(-1,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L);return Be.setFullYear(_e.y),Be}return new Date(_e.y,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L)}function m(_e){if(0<=_e.y&&_e.y<100){var Be=new Date(Date.UTC(-1,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L));return Be.setUTCFullYear(_e.y),Be}return new Date(Date.UTC(_e.y,_e.m,_e.d,_e.H,_e.M,_e.S,_e.L))}function d(_e,Be,ve){return{y:_e,m:Be,d:ve,H:0,M:0,S:0,L:0}}function y(_e){var Be=_e.dateTime,ve=_e.date,ge=_e.time,Re=_e.periods,Fe=_e.days,Ue=_e.shortDays,We=_e.months,St=_e.shortMonths,Mt=z(Re),ot=b(Re),Xe=z(Fe),_t=b(Fe),Xt=z(Ue),sn=b(Ue),pn=z(We),An=b(We),zn=z(St),Jt=b(St),Cn={a:hn,A:me,b:ce,B:it,c:null,d:le,e:le,f:ye,H:be,I:Se,j:ze,L:Te,m:he,M:P,p:tt,q:Ze,Q:pt,s:Rt,S:U,u:ee,U:G,V:E,w:K,W:R,x:null,X:null,y:ne,Y:pe,Z:xe,"%":Et},yn={a:Ye,A:Qe,b:mt,B:st,c:null,d:we,e:we,f:rt,H:Ee,I:Oe,j:Ke,L:Je,m:Me,M:ke,p:yt,q:Ct,Q:pt,s:Rt,S:Le,u:He,U:Ve,V:qe,w:vt,W:At,x:null,X:null,y:Dt,Y:bt,Z:xt,"%":Et},xn={a:gn,A:Un,b:qn,B:Jn,c:bn,d:O,e:O,f:Y,H:ie,I:ie,j:X,L:W,m:j,M:oe,p:_n,q:N,Q:re,s:te,S:V,u:M,U:I,V:T,w:S,W:B,x:Qn,X:Vn,y:Z,Y:H,Z:$,"%":Q};Cn.x=Pn(ve,Cn),Cn.X=Pn(ge,Cn),Cn.c=Pn(Be,Cn),yn.x=Pn(ve,yn),yn.X=Pn(ge,yn),yn.c=Pn(Be,yn);function Pn(wt,Ot){return function(en){var Tt=[],fn=-1,Zt=0,an=wt.length,ln,En,Gn;for(en instanceof Date||(en=new Date(+en));++fn<an;)wt.charCodeAt(fn)===37&&(Tt.push(wt.slice(Zt,fn)),(En=x[ln=wt.charAt(++fn)])!=null?ln=wt.charAt(++fn):En=ln==="e"?" ":"0",(Gn=Ot[ln])&&(ln=Gn(en,En)),Tt.push(ln),Zt=fn+1);return Tt.push(wt.slice(Zt,fn)),Tt.join("")}}function Ln(wt,Ot){return function(en){var Tt=d(1900,void 0,1),fn=on(Tt,wt,en+="",0),Zt,an;if(fn!=en.length)return null;if("Q"in Tt)return new Date(Tt.Q);if("s"in Tt)return new Date(Tt.s*1e3+("L"in Tt?Tt.L:0));if(Ot&&!("Z"in Tt)&&(Tt.Z=0),"p"in Tt&&(Tt.H=Tt.H%12+Tt.p*12),Tt.m===void 0&&(Tt.m="q"in Tt?Tt.q:0),"V"in Tt){if(Tt.V<1||Tt.V>53)return null;"w"in Tt||(Tt.w=1),"Z"in Tt?(Zt=m(d(Tt.y,0,1)),an=Zt.getUTCDay(),Zt=an>4||an===0?o.rt.ceil(Zt):(0,o.rt)(Zt),Zt=c.A.offset(Zt,(Tt.V-1)*7),Tt.y=Zt.getUTCFullYear(),Tt.m=Zt.getUTCMonth(),Tt.d=Zt.getUTCDate()+(Tt.w+6)%7):(Zt=p(d(Tt.y,0,1)),an=Zt.getDay(),Zt=an>4||an===0?l.By.ceil(Zt):(0,l.By)(Zt),Zt=u.A.offset(Zt,(Tt.V-1)*7),Tt.y=Zt.getFullYear(),Tt.m=Zt.getMonth(),Tt.d=Zt.getDate()+(Tt.w+6)%7)}else("W"in Tt||"U"in Tt)&&("w"in Tt||(Tt.w="u"in Tt?Tt.u%7:"W"in Tt?1:0),an="Z"in Tt?m(d(Tt.y,0,1)).getUTCDay():p(d(Tt.y,0,1)).getDay(),Tt.m=0,Tt.d="W"in Tt?(Tt.w+6)%7+Tt.W*7-(an+5)%7:Tt.w+Tt.U*7-(an+6)%7);return"Z"in Tt?(Tt.H+=Tt.Z/100|0,Tt.M+=Tt.Z%100,m(Tt)):p(Tt)}}function on(wt,Ot,en,Tt){for(var fn=0,Zt=Ot.length,an=en.length,ln,En;fn<Zt;){if(Tt>=an)return-1;if(ln=Ot.charCodeAt(fn++),ln===37){if(ln=Ot.charAt(fn++),En=xn[ln in x?Ot.charAt(fn++):ln],!En||(Tt=En(wt,en,Tt))<0)return-1}else if(ln!=en.charCodeAt(Tt++))return-1}return Tt}function _n(wt,Ot,en){var Tt=Mt.exec(Ot.slice(en));return Tt?(wt.p=ot[Tt[0].toLowerCase()],en+Tt[0].length):-1}function gn(wt,Ot,en){var Tt=Xt.exec(Ot.slice(en));return Tt?(wt.w=sn[Tt[0].toLowerCase()],en+Tt[0].length):-1}function Un(wt,Ot,en){var Tt=Xe.exec(Ot.slice(en));return Tt?(wt.w=_t[Tt[0].toLowerCase()],en+Tt[0].length):-1}function qn(wt,Ot,en){var Tt=zn.exec(Ot.slice(en));return Tt?(wt.m=Jt[Tt[0].toLowerCase()],en+Tt[0].length):-1}function Jn(wt,Ot,en){var Tt=pn.exec(Ot.slice(en));return Tt?(wt.m=An[Tt[0].toLowerCase()],en+Tt[0].length):-1}function bn(wt,Ot,en){return on(wt,Be,Ot,en)}function Qn(wt,Ot,en){return on(wt,ve,Ot,en)}function Vn(wt,Ot,en){return on(wt,ge,Ot,en)}function hn(wt){return Ue[wt.getDay()]}function me(wt){return Fe[wt.getDay()]}function ce(wt){return St[wt.getMonth()]}function it(wt){return We[wt.getMonth()]}function tt(wt){return Re[+(wt.getHours()>=12)]}function Ze(wt){return 1+~~(wt.getMonth()/3)}function Ye(wt){return Ue[wt.getUTCDay()]}function Qe(wt){return Fe[wt.getUTCDay()]}function mt(wt){return St[wt.getUTCMonth()]}function st(wt){return We[wt.getUTCMonth()]}function yt(wt){return Re[+(wt.getUTCHours()>=12)]}function Ct(wt){return 1+~~(wt.getUTCMonth()/3)}return{format:function(wt){var Ot=Pn(wt+="",Cn);return Ot.toString=function(){return wt},Ot},parse:function(wt){var Ot=Ln(wt+="",!1);return Ot.toString=function(){return wt},Ot},utcFormat:function(wt){var Ot=Pn(wt+="",yn);return Ot.toString=function(){return wt},Ot},utcParse:function(wt){var Ot=Ln(wt+="",!0);return Ot.toString=function(){return wt},Ot}}}var x={"-":"",_:" ",0:"0"},w=/^\s*\d+/,L=/^%/,_=/[\\^$*+?|[\]().{}]/g;function D(_e,Be,ve){var ge=_e<0?"-":"",Re=(ge?-_e:_e)+"",Fe=Re.length;return ge+(Fe<ve?new Array(ve-Fe+1).join(Be)+Re:Re)}function C(_e){return _e.replace(_,"\\$&")}function z(_e){return new RegExp("^(?:"+_e.map(C).join("|")+")","i")}function b(_e){for(var Be={},ve=-1,ge=_e.length;++ve<ge;)Be[_e[ve].toLowerCase()]=ve;return Be}function S(_e,Be,ve){var ge=w.exec(Be.slice(ve,ve+1));return ge?(_e.w=+ge[0],ve+ge[0].length):-1}function M(_e,Be,ve){var ge=w.exec(Be.slice(ve,ve+1));return ge?(_e.u=+ge[0],ve+ge[0].length):-1}function I(_e,Be,ve){var ge=w.exec(Be.slice(ve,ve+2));return ge?(_e.U=+ge[0],ve+ge[0].length):-1}function T(_e,Be,ve){var ge=w.exec(Be.slice(ve,ve+2));return ge?(_e.V=+ge[0],ve+ge[0].length):-1}function B(_e,Be,ve){var ge=w.exec(Be.slice(ve,ve+2));return ge?(_e.W=+ge[0],ve+ge[0].length):-1}function H(_e,Be,ve){var ge=w.exec(Be.slice(ve,ve+4));return ge?(_e.y=+ge[0],ve+ge[0].length):-1}function Z(_e,Be,ve){var ge=w.exec(Be.slice(ve,ve+2));return ge?(_e.y=+ge[0]+(+ge[0]>68?1900:2e3),ve+ge[0].length):-1}function $(_e,Be,ve){var ge=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Be.slice(ve,ve+6));return ge?(_e.Z=ge[1]?0:-(ge[2]+(ge[3]||"00")),ve+ge[0].length):-1}function N(_e,Be,ve){var ge=w.exec(Be.slice(ve,ve+1));return ge?(_e.q=ge[0]*3-3,ve+ge[0].length):-1}function j(_e,Be,ve){var ge=w.exec(Be.slice(ve,ve+2));return ge?(_e.m=ge[0]-1,ve+ge[0].length):-1}function O(_e,Be,ve){var ge=w.exec(Be.slice(ve,ve+2));return ge?(_e.d=+ge[0],ve+ge[0].length):-1}function X(_e,Be,ve){var ge=w.exec(Be.slice(ve,ve+3));return ge?(_e.m=0,_e.d=+ge[0],ve+ge[0].length):-1}function ie(_e,Be,ve){var ge=w.exec(Be.slice(ve,ve+2));return ge?(_e.H=+ge[0],ve+ge[0].length):-1}function oe(_e,Be,ve){var ge=w.exec(Be.slice(ve,ve+2));return ge?(_e.M=+ge[0],ve+ge[0].length):-1}function V(_e,Be,ve){var ge=w.exec(Be.slice(ve,ve+2));return ge?(_e.S=+ge[0],ve+ge[0].length):-1}function W(_e,Be,ve){var ge=w.exec(Be.slice(ve,ve+3));return ge?(_e.L=+ge[0],ve+ge[0].length):-1}function Y(_e,Be,ve){var ge=w.exec(Be.slice(ve,ve+6));return ge?(_e.L=Math.floor(ge[0]/1e3),ve+ge[0].length):-1}function Q(_e,Be,ve){var ge=L.exec(Be.slice(ve,ve+1));return ge?ve+ge[0].length:-1}function re(_e,Be,ve){var ge=w.exec(Be.slice(ve));return ge?(_e.Q=+ge[0],ve+ge[0].length):-1}function te(_e,Be,ve){var ge=w.exec(Be.slice(ve));return ge?(_e.s=+ge[0],ve+ge[0].length):-1}function le(_e,Be){return D(_e.getDate(),Be,2)}function be(_e,Be){return D(_e.getHours(),Be,2)}function Se(_e,Be){return D(_e.getHours()%12||12,Be,2)}function ze(_e,Be){return D(1+u.A.count((0,f.A)(_e),_e),Be,3)}function Te(_e,Be){return D(_e.getMilliseconds(),Be,3)}function ye(_e,Be){return Te(_e,Be)+"000"}function he(_e,Be){return D(_e.getMonth()+1,Be,2)}function P(_e,Be){return D(_e.getMinutes(),Be,2)}function U(_e,Be){return D(_e.getSeconds(),Be,2)}function ee(_e){var Be=_e.getDay();return Be===0?7:Be}function G(_e,Be){return D(l.fz.count((0,f.A)(_e)-1,_e),Be,2)}function E(_e,Be){var ve=_e.getDay();return _e=ve>=4||ve===0?(0,l.dt)(_e):l.dt.ceil(_e),D(l.dt.count((0,f.A)(_e),_e)+((0,f.A)(_e).getDay()===4),Be,2)}function K(_e){return _e.getDay()}function R(_e,Be){return D(l.By.count((0,f.A)(_e)-1,_e),Be,2)}function ne(_e,Be){return D(_e.getFullYear()%100,Be,2)}function pe(_e,Be){return D(_e.getFullYear()%1e4,Be,4)}function xe(_e){var Be=_e.getTimezoneOffset();return(Be>0?"-":(Be*=-1,"+"))+D(Be/60|0,"0",2)+D(Be%60,"0",2)}function we(_e,Be){return D(_e.getUTCDate(),Be,2)}function Ee(_e,Be){return D(_e.getUTCHours(),Be,2)}function Oe(_e,Be){return D(_e.getUTCHours()%12||12,Be,2)}function Ke(_e,Be){return D(1+c.A.count((0,h.A)(_e),_e),Be,3)}function Je(_e,Be){return D(_e.getUTCMilliseconds(),Be,3)}function rt(_e,Be){return Je(_e,Be)+"000"}function Me(_e,Be){return D(_e.getUTCMonth()+1,Be,2)}function ke(_e,Be){return D(_e.getUTCMinutes(),Be,2)}function Le(_e,Be){return D(_e.getUTCSeconds(),Be,2)}function He(_e){var Be=_e.getUTCDay();return Be===0?7:Be}function Ve(_e,Be){return D(o.Hl.count((0,h.A)(_e)-1,_e),Be,2)}function qe(_e,Be){var ve=_e.getUTCDay();return _e=ve>=4||ve===0?(0,o.pT)(_e):o.pT.ceil(_e),D(o.pT.count((0,h.A)(_e),_e)+((0,h.A)(_e).getUTCDay()===4),Be,2)}function vt(_e){return _e.getUTCDay()}function At(_e,Be){return D(o.rt.count((0,h.A)(_e)-1,_e),Be,2)}function Dt(_e,Be){return D(_e.getUTCFullYear()%100,Be,2)}function bt(_e,Be){return D(_e.getUTCFullYear()%1e4,Be,4)}function xt(){return"+0000"}function Et(){return"%"}function pt(_e){return+_e}function Rt(_e){return Math.floor(+_e/1e3)}var Wt,Vt,Yt,et,ct;gt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function gt(_e){return Wt=y(_e),Vt=Wt.format,Yt=Wt.parse,et=Wt.utcFormat,ct=Wt.utcParse,Wt}},7265:function(i,s,a){"use strict";a.d(s,{_:function(){return u}});var o=a(3398),c=a(6291),l=(0,o.A)(function(f){f.setHours(0,0,0,0)},function(f,h){f.setDate(f.getDate()+h)},function(f,h){return(h-f-(h.getTimezoneOffset()-f.getTimezoneOffset())*c.rR)/c.Nm},function(f){return f.getDate()-1});s.A=l;var u=l.range},6291:function(i,s,a){"use strict";a.d(s,{Fq:function(){return f},JJ:function(){return l},Nm:function(){return u},Tt:function(){return o},rR:function(){return c}});var o=1e3,c=6e4,l=36e5,u=864e5,f=6048e5},936:function(i,s,a){"use strict";a.r(s),a.d(s,{timeDay:function(){return D.A},timeDays:function(){return D._},timeFriday:function(){return C.Sh},timeFridays:function(){return C.tz},timeHour:function(){return L},timeHours:function(){return _},timeInterval:function(){return o.A},timeMillisecond:function(){return l},timeMilliseconds:function(){return u},timeMinute:function(){return y},timeMinutes:function(){return x},timeMonday:function(){return C.By},timeMondays:function(){return C.KP},timeMonth:function(){return b},timeMonths:function(){return S},timeSaturday:function(){return C.kS},timeSaturdays:function(){return C.t$},timeSecond:function(){return p},timeSeconds:function(){return m},timeSunday:function(){return C.fz},timeSundays:function(){return C.se},timeThursday:function(){return C.dt},timeThursdays:function(){return C.Q$},timeTuesday:function(){return C.eQ},timeTuesdays:function(){return C.yW},timeWednesday:function(){return C.l3},timeWednesdays:function(){return C.gf},timeWeek:function(){return C.fz},timeWeeks:function(){return C.se},timeYear:function(){return M.A},timeYears:function(){return M.V},utcDay:function(){return N.A},utcDays:function(){return N.o},utcFriday:function(){return j.a1},utcFridays:function(){return j.Zn},utcHour:function(){return Z},utcHours:function(){return $},utcMillisecond:function(){return l},utcMilliseconds:function(){return u},utcMinute:function(){return T},utcMinutes:function(){return B},utcMonday:function(){return j.rt},utcMondays:function(){return j.ON},utcMonth:function(){return X},utcMonths:function(){return ie},utcSaturday:function(){return j.c8},utcSaturdays:function(){return j.Xo},utcSecond:function(){return p},utcSeconds:function(){return m},utcSunday:function(){return j.Hl},utcSundays:function(){return j.aZ},utcThursday:function(){return j.pT},utcThursdays:function(){return j.wr},utcTuesday:function(){return j.sr},utcTuesdays:function(){return j.jN},utcWednesday:function(){return j.z2},utcWednesdays:function(){return j.G6},utcWeek:function(){return j.Hl},utcWeeks:function(){return j.aZ},utcYear:function(){return oe.A},utcYears:function(){return oe.j}});var o=a(3398),c=(0,o.A)(function(){},function(V,W){V.setTime(+V+W)},function(V,W){return W-V});c.every=function(V){return V=Math.floor(V),!isFinite(V)||!(V>0)?null:V>1?(0,o.A)(function(W){W.setTime(Math.floor(W/V)*V)},function(W,Y){W.setTime(+W+Y*V)},function(W,Y){return(Y-W)/V}):c};var l=c,u=c.range,f=a(6291),h=(0,o.A)(function(V){V.setTime(V-V.getMilliseconds())},function(V,W){V.setTime(+V+W*f.Tt)},function(V,W){return(W-V)/f.Tt},function(V){return V.getUTCSeconds()}),p=h,m=h.range,d=(0,o.A)(function(V){V.setTime(V-V.getMilliseconds()-V.getSeconds()*f.Tt)},function(V,W){V.setTime(+V+W*f.rR)},function(V,W){return(W-V)/f.rR},function(V){return V.getMinutes()}),y=d,x=d.range,w=(0,o.A)(function(V){V.setTime(V-V.getMilliseconds()-V.getSeconds()*f.Tt-V.getMinutes()*f.rR)},function(V,W){V.setTime(+V+W*f.JJ)},function(V,W){return(W-V)/f.JJ},function(V){return V.getHours()}),L=w,_=w.range,D=a(7265),C=a(5735),z=(0,o.A)(function(V){V.setDate(1),V.setHours(0,0,0,0)},function(V,W){V.setMonth(V.getMonth()+W)},function(V,W){return W.getMonth()-V.getMonth()+(W.getFullYear()-V.getFullYear())*12},function(V){return V.getMonth()}),b=z,S=z.range,M=a(9830),I=(0,o.A)(function(V){V.setUTCSeconds(0,0)},function(V,W){V.setTime(+V+W*f.rR)},function(V,W){return(W-V)/f.rR},function(V){return V.getUTCMinutes()}),T=I,B=I.range,H=(0,o.A)(function(V){V.setUTCMinutes(0,0,0)},function(V,W){V.setTime(+V+W*f.JJ)},function(V,W){return(W-V)/f.JJ},function(V){return V.getUTCHours()}),Z=H,$=H.range,N=a(2543),j=a(1681),O=(0,o.A)(function(V){V.setUTCDate(1),V.setUTCHours(0,0,0,0)},function(V,W){V.setUTCMonth(V.getUTCMonth()+W)},function(V,W){return W.getUTCMonth()-V.getUTCMonth()+(W.getUTCFullYear()-V.getUTCFullYear())*12},function(V){return V.getUTCMonth()}),X=O,ie=O.range,oe=a(9764)},3398:function(i,s,a){"use strict";a.d(s,{A:function(){return l}});var o=new Date,c=new Date;function l(u,f,h,p){function m(d){return u(d=arguments.length===0?new Date:new Date(+d)),d}return m.floor=function(d){return u(d=new Date(+d)),d},m.ceil=function(d){return u(d=new Date(d-1)),f(d,1),u(d),d},m.round=function(d){var y=m(d),x=m.ceil(d);return d-y<x-d?y:x},m.offset=function(d,y){return f(d=new Date(+d),y==null?1:Math.floor(y)),d},m.range=function(d,y,x){var w=[],L;if(d=m.ceil(d),x=x==null?1:Math.floor(x),!(d<y)||!(x>0))return w;do w.push(L=new Date(+d)),f(d,x),u(d);while(L<d&&d<y);return w},m.filter=function(d){return l(function(y){if(y>=y)for(;u(y),!d(y);)y.setTime(y-1)},function(y,x){if(y>=y)if(x<0)for(;++x<=0;)for(;f(y,-1),!d(y););else for(;--x>=0;)for(;f(y,1),!d(y););})},h&&(m.count=function(d,y){return o.setTime(+d),c.setTime(+y),u(o),u(c),Math.floor(h(o,c))},m.every=function(d){return d=Math.floor(d),!isFinite(d)||!(d>0)?null:d>1?m.filter(p?function(y){return p(y)%d===0}:function(y){return m.count(0,y)%d===0}):m}),m}},2543:function(i,s,a){"use strict";a.d(s,{o:function(){return u}});var o=a(3398),c=a(6291),l=(0,o.A)(function(f){f.setUTCHours(0,0,0,0)},function(f,h){f.setUTCDate(f.getUTCDate()+h)},function(f,h){return(h-f)/c.Nm},function(f){return f.getUTCDate()-1});s.A=l;var u=l.range},1681:function(i,s,a){"use strict";a.d(s,{G6:function(){return _},Hl:function(){return u},ON:function(){return w},Xo:function(){return z},Zn:function(){return C},a1:function(){return d},aZ:function(){return x},c8:function(){return y},jN:function(){return L},pT:function(){return m},rt:function(){return f},sr:function(){return h},wr:function(){return D},z2:function(){return p}});var o=a(3398),c=a(6291);function l(b){return(0,o.A)(function(S){S.setUTCDate(S.getUTCDate()-(S.getUTCDay()+7-b)%7),S.setUTCHours(0,0,0,0)},function(S,M){S.setUTCDate(S.getUTCDate()+M*7)},function(S,M){return(M-S)/c.Fq})}var u=l(0),f=l(1),h=l(2),p=l(3),m=l(4),d=l(5),y=l(6),x=u.range,w=f.range,L=h.range,_=p.range,D=m.range,C=d.range,z=y.range},9764:function(i,s,a){"use strict";a.d(s,{j:function(){return l}});var o=a(3398),c=(0,o.A)(function(u){u.setUTCMonth(0,1),u.setUTCHours(0,0,0,0)},function(u,f){u.setUTCFullYear(u.getUTCFullYear()+f)},function(u,f){return f.getUTCFullYear()-u.getUTCFullYear()},function(u){return u.getUTCFullYear()});c.every=function(u){return!isFinite(u=Math.floor(u))||!(u>0)?null:(0,o.A)(function(f){f.setUTCFullYear(Math.floor(f.getUTCFullYear()/u)*u),f.setUTCMonth(0,1),f.setUTCHours(0,0,0,0)},function(f,h){f.setUTCFullYear(f.getUTCFullYear()+h*u)})},s.A=c;var l=c.range},5735:function(i,s,a){"use strict";a.d(s,{By:function(){return f},KP:function(){return w},Q$:function(){return D},Sh:function(){return d},dt:function(){return m},eQ:function(){return h},fz:function(){return u},gf:function(){return _},kS:function(){return y},l3:function(){return p},se:function(){return x},t$:function(){return z},tz:function(){return C},yW:function(){return L}});var o=a(3398),c=a(6291);function l(b){return(0,o.A)(function(S){S.setDate(S.getDate()-(S.getDay()+7-b)%7),S.setHours(0,0,0,0)},function(S,M){S.setDate(S.getDate()+M*7)},function(S,M){return(M-S-(M.getTimezoneOffset()-S.getTimezoneOffset())*c.rR)/c.Fq})}var u=l(0),f=l(1),h=l(2),p=l(3),m=l(4),d=l(5),y=l(6),x=u.range,w=f.range,L=h.range,_=p.range,D=m.range,C=d.range,z=y.range},9830:function(i,s,a){"use strict";a.d(s,{V:function(){return l}});var o=a(3398),c=(0,o.A)(function(u){u.setMonth(0,1),u.setHours(0,0,0,0)},function(u,f){u.setFullYear(u.getFullYear()+f)},function(u,f){return f.getFullYear()-u.getFullYear()},function(u){return u.getFullYear()});c.every=function(u){return!isFinite(u=Math.floor(u))||!(u>0)?null:(0,o.A)(function(f){f.setFullYear(Math.floor(f.getFullYear()/u)*u),f.setMonth(0,1),f.setHours(0,0,0,0)},function(f,h){f.setFullYear(f.getFullYear()+h*u)})},s.A=c;var l=c.range},7683:function(i){"use strict";var s=typeof Reflect=="object"?Reflect:null,a=s&&typeof s.apply=="function"?s.apply:function(M,I,T){return Function.prototype.apply.call(M,I,T)},o;s&&typeof s.ownKeys=="function"?o=s.ownKeys:Object.getOwnPropertySymbols?o=function(M){return Object.getOwnPropertyNames(M).concat(Object.getOwnPropertySymbols(M))}:o=function(M){return Object.getOwnPropertyNames(M)};function c(S){console&&console.warn&&console.warn(S)}var l=Number.isNaN||function(M){return M!==M};function u(){u.init.call(this)}i.exports=u,i.exports.once=C,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var f=10;function h(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function(S){if(typeof S!="number"||S<0||l(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");f=S}}),u.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(M){if(typeof M!="number"||M<0||l(M))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+M+".");return this._maxListeners=M,this};function p(S){return S._maxListeners===void 0?u.defaultMaxListeners:S._maxListeners}u.prototype.getMaxListeners=function(){return p(this)},u.prototype.emit=function(M){for(var I=[],T=1;T<arguments.length;T++)I.push(arguments[T]);var B=M==="error",H=this._events;if(H!==void 0)B=B&&H.error===void 0;else if(!B)return!1;if(B){var Z;if(I.length>0&&(Z=I[0]),Z instanceof Error)throw Z;var $=new Error("Unhandled error."+(Z?" ("+Z.message+")":""));throw $.context=Z,$}var N=H[M];if(N===void 0)return!1;if(typeof N=="function")a(N,this,I);else for(var j=N.length,O=L(N,j),T=0;T<j;++T)a(O[T],this,I);return!0};function m(S,M,I,T){var B,H,Z;if(h(I),H=S._events,H===void 0?(H=S._events=Object.create(null),S._eventsCount=0):(H.newListener!==void 0&&(S.emit("newListener",M,I.listener?I.listener:I),H=S._events),Z=H[M]),Z===void 0)Z=H[M]=I,++S._eventsCount;else if(typeof Z=="function"?Z=H[M]=T?[I,Z]:[Z,I]:T?Z.unshift(I):Z.push(I),B=p(S),B>0&&Z.length>B&&!Z.warned){Z.warned=!0;var $=new Error("Possible EventEmitter memory leak detected. "+Z.length+" "+String(M)+" listeners added. Use emitter.setMaxListeners() to increase limit");$.name="MaxListenersExceededWarning",$.emitter=S,$.type=M,$.count=Z.length,c($)}return S}u.prototype.addListener=function(M,I){return m(this,M,I,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(M,I){return m(this,M,I,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(S,M,I){var T={fired:!1,wrapFn:void 0,target:S,type:M,listener:I},B=d.bind(T);return B.listener=I,T.wrapFn=B,B}u.prototype.once=function(M,I){return h(I),this.on(M,y(this,M,I)),this},u.prototype.prependOnceListener=function(M,I){return h(I),this.prependListener(M,y(this,M,I)),this},u.prototype.removeListener=function(M,I){var T,B,H,Z,$;if(h(I),B=this._events,B===void 0)return this;if(T=B[M],T===void 0)return this;if(T===I||T.listener===I)--this._eventsCount===0?this._events=Object.create(null):(delete B[M],B.removeListener&&this.emit("removeListener",M,T.listener||I));else if(typeof T!="function"){for(H=-1,Z=T.length-1;Z>=0;Z--)if(T[Z]===I||T[Z].listener===I){$=T[Z].listener,H=Z;break}if(H<0)return this;H===0?T.shift():_(T,H),T.length===1&&(B[M]=T[0]),B.removeListener!==void 0&&this.emit("removeListener",M,$||I)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(M){var I,T,B;if(T=this._events,T===void 0)return this;if(T.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):T[M]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete T[M]),this;if(arguments.length===0){var H=Object.keys(T),Z;for(B=0;B<H.length;++B)Z=H[B],Z!=="removeListener"&&this.removeAllListeners(Z);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(I=T[M],typeof I=="function")this.removeListener(M,I);else if(I!==void 0)for(B=I.length-1;B>=0;B--)this.removeListener(M,I[B]);return this};function x(S,M,I){var T=S._events;if(T===void 0)return[];var B=T[M];return B===void 0?[]:typeof B=="function"?I?[B.listener||B]:[B]:I?D(B):L(B,B.length)}u.prototype.listeners=function(M){return x(this,M,!0)},u.prototype.rawListeners=function(M){return x(this,M,!1)},u.listenerCount=function(S,M){return typeof S.listenerCount=="function"?S.listenerCount(M):w.call(S,M)},u.prototype.listenerCount=w;function w(S){var M=this._events;if(M!==void 0){var I=M[S];if(typeof I=="function")return 1;if(I!==void 0)return I.length}return 0}u.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]};function L(S,M){for(var I=new Array(M),T=0;T<M;++T)I[T]=S[T];return I}function _(S,M){for(;M+1<S.length;M++)S[M]=S[M+1];S.pop()}function D(S){for(var M=new Array(S.length),I=0;I<M.length;++I)M[I]=S[I].listener||S[I];return M}function C(S,M){return new Promise(function(I,T){function B(Z){S.removeListener(M,H),T(Z)}function H(){typeof S.removeListener=="function"&&S.removeListener("error",B),I([].slice.call(arguments))}b(S,M,H,{once:!0}),M!=="error"&&z(S,B,{once:!0})})}function z(S,M,I){typeof S.on=="function"&&b(S,"error",M,I)}function b(S,M,I,T){if(typeof S.on=="function")T.once?S.once(M,I):S.on(M,I);else if(typeof S.addEventListener=="function")S.addEventListener(M,function B(H){T.once&&S.removeEventListener(M,B),I(H)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}},721:function(i,s,a){"use strict";var o=a(9914);i.exports=function(c){var l=typeof c;if(l==="string"){var u=c;if(c=+c,c===0&&o(u))return!1}else if(l!=="number")return!1;return c-c<1}},4840:function(i){i.exports=s;function s(a,o){var c=o[0],l=o[1],u=o[2],f=o[3],h=o[4],p=o[5],m=o[6],d=o[7],y=o[8],x=o[9],w=o[10],L=o[11],_=o[12],D=o[13],C=o[14],z=o[15];return a[0]=p*(w*z-L*C)-x*(m*z-d*C)+D*(m*L-d*w),a[1]=-(l*(w*z-L*C)-x*(u*z-f*C)+D*(u*L-f*w)),a[2]=l*(m*z-d*C)-p*(u*z-f*C)+D*(u*d-f*m),a[3]=-(l*(m*L-d*w)-p*(u*L-f*w)+x*(u*d-f*m)),a[4]=-(h*(w*z-L*C)-y*(m*z-d*C)+_*(m*L-d*w)),a[5]=c*(w*z-L*C)-y*(u*z-f*C)+_*(u*L-f*w),a[6]=-(c*(m*z-d*C)-h*(u*z-f*C)+_*(u*d-f*m)),a[7]=c*(m*L-d*w)-h*(u*L-f*w)+y*(u*d-f*m),a[8]=h*(x*z-L*D)-y*(p*z-d*D)+_*(p*L-d*x),a[9]=-(c*(x*z-L*D)-y*(l*z-f*D)+_*(l*L-f*x)),a[10]=c*(p*z-d*D)-h*(l*z-f*D)+_*(l*d-f*p),a[11]=-(c*(p*L-d*x)-h*(l*L-f*x)+y*(l*d-f*p)),a[12]=-(h*(x*C-w*D)-y*(p*C-m*D)+_*(p*w-m*x)),a[13]=c*(x*C-w*D)-y*(l*C-u*D)+_*(l*w-u*x),a[14]=-(c*(p*C-m*D)-h*(l*C-u*D)+_*(l*m-u*p)),a[15]=c*(p*w-m*x)-h*(l*w-u*x)+y*(l*m-u*p),a}},9698:function(i){i.exports=s;function s(a){var o=new Float32Array(16);return o[0]=a[0],o[1]=a[1],o[2]=a[2],o[3]=a[3],o[4]=a[4],o[5]=a[5],o[6]=a[6],o[7]=a[7],o[8]=a[8],o[9]=a[9],o[10]=a[10],o[11]=a[11],o[12]=a[12],o[13]=a[13],o[14]=a[14],o[15]=a[15],o}},7938:function(i){i.exports=s;function s(a,o){return a[0]=o[0],a[1]=o[1],a[2]=o[2],a[3]=o[3],a[4]=o[4],a[5]=o[5],a[6]=o[6],a[7]=o[7],a[8]=o[8],a[9]=o[9],a[10]=o[10],a[11]=o[11],a[12]=o[12],a[13]=o[13],a[14]=o[14],a[15]=o[15],a}},7519:function(i){i.exports=s;function s(){var a=new Float32Array(16);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}},6900:function(i){i.exports=s;function s(a){var o=a[0],c=a[1],l=a[2],u=a[3],f=a[4],h=a[5],p=a[6],m=a[7],d=a[8],y=a[9],x=a[10],w=a[11],L=a[12],_=a[13],D=a[14],C=a[15],z=o*h-c*f,b=o*p-l*f,S=o*m-u*f,M=c*p-l*h,I=c*m-u*h,T=l*m-u*p,B=d*_-y*L,H=d*D-x*L,Z=d*C-w*L,$=y*D-x*_,N=y*C-w*_,j=x*C-w*D;return z*j-b*N+S*$+M*Z-I*H+T*B}},6472:function(i){i.exports=s;function s(a,o){var c=o[0],l=o[1],u=o[2],f=o[3],h=c+c,p=l+l,m=u+u,d=c*h,y=l*h,x=l*p,w=u*h,L=u*p,_=u*m,D=f*h,C=f*p,z=f*m;return a[0]=1-x-_,a[1]=y+z,a[2]=w-C,a[3]=0,a[4]=y-z,a[5]=1-d-_,a[6]=L+D,a[7]=0,a[8]=w+C,a[9]=L-D,a[10]=1-d-x,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}},3061:function(i){i.exports=s;function s(a,o,c){var l,u,f,h=c[0],p=c[1],m=c[2],d=Math.sqrt(h*h+p*p+m*m);return Math.abs(d)<1e-6?null:(d=1/d,h*=d,p*=d,m*=d,l=Math.sin(o),u=Math.cos(o),f=1-u,a[0]=h*h*f+u,a[1]=p*h*f+m*l,a[2]=m*h*f-p*l,a[3]=0,a[4]=h*p*f-m*l,a[5]=p*p*f+u,a[6]=m*p*f+h*l,a[7]=0,a[8]=h*m*f+p*l,a[9]=p*m*f-h*l,a[10]=m*m*f+u,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a)}},3606:function(i){i.exports=s;function s(a,o,c){var l=o[0],u=o[1],f=o[2],h=o[3],p=l+l,m=u+u,d=f+f,y=l*p,x=l*m,w=l*d,L=u*m,_=u*d,D=f*d,C=h*p,z=h*m,b=h*d;return a[0]=1-(L+D),a[1]=x+b,a[2]=w-z,a[3]=0,a[4]=x-b,a[5]=1-(y+D),a[6]=_+C,a[7]=0,a[8]=w+z,a[9]=_-C,a[10]=1-(y+L),a[11]=0,a[12]=c[0],a[13]=c[1],a[14]=c[2],a[15]=1,a}},8698:function(i){i.exports=s;function s(a,o){return a[0]=o[0],a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=o[1],a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=o[2],a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}},6924:function(i){i.exports=s;function s(a,o){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=o[0],a[13]=o[1],a[14]=o[2],a[15]=1,a}},1181:function(i){i.exports=s;function s(a,o){var c=Math.sin(o),l=Math.cos(o);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=l,a[6]=c,a[7]=0,a[8]=0,a[9]=-c,a[10]=l,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}},5258:function(i){i.exports=s;function s(a,o){var c=Math.sin(o),l=Math.cos(o);return a[0]=l,a[1]=0,a[2]=-c,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=c,a[9]=0,a[10]=l,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}},4815:function(i){i.exports=s;function s(a,o){var c=Math.sin(o),l=Math.cos(o);return a[0]=l,a[1]=c,a[2]=0,a[3]=0,a[4]=-c,a[5]=l,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}},7301:function(i){i.exports=s;function s(a,o,c,l,u,f,h){var p=1/(c-o),m=1/(u-l),d=1/(f-h);return a[0]=f*2*p,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=f*2*m,a[6]=0,a[7]=0,a[8]=(c+o)*p,a[9]=(u+l)*m,a[10]=(h+f)*d,a[11]=-1,a[12]=0,a[13]=0,a[14]=h*f*2*d,a[15]=0,a}},7193:function(i){i.exports=s;function s(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}},1191:function(i,s,a){i.exports={create:a(7519),clone:a(9698),copy:a(7938),identity:a(7193),transpose:a(256),invert:a(6559),adjoint:a(4840),determinant:a(6900),multiply:a(4787),translate:a(4165),scale:a(8697),rotate:a(2416),rotateX:a(1066),rotateY:a(4201),rotateZ:a(3920),fromRotation:a(3061),fromRotationTranslation:a(3606),fromScaling:a(8698),fromTranslation:a(6924),fromXRotation:a(1181),fromYRotation:a(5258),fromZRotation:a(4815),fromQuat:a(6472),frustum:a(7301),perspective:a(5313),perspectiveFromFieldOfView:a(2253),ortho:a(4633),lookAt:a(6645),str:a(6992)}},6559:function(i){i.exports=s;function s(a,o){var c=o[0],l=o[1],u=o[2],f=o[3],h=o[4],p=o[5],m=o[6],d=o[7],y=o[8],x=o[9],w=o[10],L=o[11],_=o[12],D=o[13],C=o[14],z=o[15],b=c*p-l*h,S=c*m-u*h,M=c*d-f*h,I=l*m-u*p,T=l*d-f*p,B=u*d-f*m,H=y*D-x*_,Z=y*C-w*_,$=y*z-L*_,N=x*C-w*D,j=x*z-L*D,O=w*z-L*C,X=b*O-S*j+M*N+I*$-T*Z+B*H;return X?(X=1/X,a[0]=(p*O-m*j+d*N)*X,a[1]=(u*j-l*O-f*N)*X,a[2]=(D*B-C*T+z*I)*X,a[3]=(w*T-x*B-L*I)*X,a[4]=(m*$-h*O-d*Z)*X,a[5]=(c*O-u*$+f*Z)*X,a[6]=(C*M-_*B-z*S)*X,a[7]=(y*B-w*M+L*S)*X,a[8]=(h*j-p*$+d*H)*X,a[9]=(l*$-c*j-f*H)*X,a[10]=(_*T-D*M+z*b)*X,a[11]=(x*M-y*T-L*b)*X,a[12]=(p*Z-h*N-m*H)*X,a[13]=(c*N-l*Z+u*H)*X,a[14]=(D*S-_*I-C*b)*X,a[15]=(y*I-x*S+w*b)*X,a):null}},6645:function(i,s,a){var o=a(7193);i.exports=c;function c(l,u,f,h){var p,m,d,y,x,w,L,_,D,C,z=u[0],b=u[1],S=u[2],M=h[0],I=h[1],T=h[2],B=f[0],H=f[1],Z=f[2];return Math.abs(z-B)<1e-6&&Math.abs(b-H)<1e-6&&Math.abs(S-Z)<1e-6?o(l):(L=z-B,_=b-H,D=S-Z,C=1/Math.sqrt(L*L+_*_+D*D),L*=C,_*=C,D*=C,p=I*D-T*_,m=T*L-M*D,d=M*_-I*L,C=Math.sqrt(p*p+m*m+d*d),C?(C=1/C,p*=C,m*=C,d*=C):(p=0,m=0,d=0),y=_*d-D*m,x=D*p-L*d,w=L*m-_*p,C=Math.sqrt(y*y+x*x+w*w),C?(C=1/C,y*=C,x*=C,w*=C):(y=0,x=0,w=0),l[0]=p,l[1]=y,l[2]=L,l[3]=0,l[4]=m,l[5]=x,l[6]=_,l[7]=0,l[8]=d,l[9]=w,l[10]=D,l[11]=0,l[12]=-(p*z+m*b+d*S),l[13]=-(y*z+x*b+w*S),l[14]=-(L*z+_*b+D*S),l[15]=1,l)}},4787:function(i){i.exports=s;function s(a,o,c){var l=o[0],u=o[1],f=o[2],h=o[3],p=o[4],m=o[5],d=o[6],y=o[7],x=o[8],w=o[9],L=o[10],_=o[11],D=o[12],C=o[13],z=o[14],b=o[15],S=c[0],M=c[1],I=c[2],T=c[3];return a[0]=S*l+M*p+I*x+T*D,a[1]=S*u+M*m+I*w+T*C,a[2]=S*f+M*d+I*L+T*z,a[3]=S*h+M*y+I*_+T*b,S=c[4],M=c[5],I=c[6],T=c[7],a[4]=S*l+M*p+I*x+T*D,a[5]=S*u+M*m+I*w+T*C,a[6]=S*f+M*d+I*L+T*z,a[7]=S*h+M*y+I*_+T*b,S=c[8],M=c[9],I=c[10],T=c[11],a[8]=S*l+M*p+I*x+T*D,a[9]=S*u+M*m+I*w+T*C,a[10]=S*f+M*d+I*L+T*z,a[11]=S*h+M*y+I*_+T*b,S=c[12],M=c[13],I=c[14],T=c[15],a[12]=S*l+M*p+I*x+T*D,a[13]=S*u+M*m+I*w+T*C,a[14]=S*f+M*d+I*L+T*z,a[15]=S*h+M*y+I*_+T*b,a}},4633:function(i){i.exports=s;function s(a,o,c,l,u,f,h){var p=1/(o-c),m=1/(l-u),d=1/(f-h);return a[0]=-2*p,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*m,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*d,a[11]=0,a[12]=(o+c)*p,a[13]=(u+l)*m,a[14]=(h+f)*d,a[15]=1,a}},5313:function(i){i.exports=s;function s(a,o,c,l,u){var f=1/Math.tan(o/2),h=1/(l-u);return a[0]=f/c,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=f,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=(u+l)*h,a[11]=-1,a[12]=0,a[13]=0,a[14]=2*u*l*h,a[15]=0,a}},2253:function(i){i.exports=s;function s(a,o,c,l){var u=Math.tan(o.upDegrees*Math.PI/180),f=Math.tan(o.downDegrees*Math.PI/180),h=Math.tan(o.leftDegrees*Math.PI/180),p=Math.tan(o.rightDegrees*Math.PI/180),m=2/(h+p),d=2/(u+f);return a[0]=m,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=d,a[6]=0,a[7]=0,a[8]=-((h-p)*m*.5),a[9]=(u-f)*d*.5,a[10]=l/(c-l),a[11]=-1,a[12]=0,a[13]=0,a[14]=l*c/(c-l),a[15]=0,a}},2416:function(i){i.exports=s;function s(a,o,c,l){var u=l[0],f=l[1],h=l[2],p=Math.sqrt(u*u+f*f+h*h),m,d,y,x,w,L,_,D,C,z,b,S,M,I,T,B,H,Z,$,N,j,O,X,ie;return Math.abs(p)<1e-6?null:(p=1/p,u*=p,f*=p,h*=p,m=Math.sin(c),d=Math.cos(c),y=1-d,x=o[0],w=o[1],L=o[2],_=o[3],D=o[4],C=o[5],z=o[6],b=o[7],S=o[8],M=o[9],I=o[10],T=o[11],B=u*u*y+d,H=f*u*y+h*m,Z=h*u*y-f*m,$=u*f*y-h*m,N=f*f*y+d,j=h*f*y+u*m,O=u*h*y+f*m,X=f*h*y-u*m,ie=h*h*y+d,a[0]=x*B+D*H+S*Z,a[1]=w*B+C*H+M*Z,a[2]=L*B+z*H+I*Z,a[3]=_*B+b*H+T*Z,a[4]=x*$+D*N+S*j,a[5]=w*$+C*N+M*j,a[6]=L*$+z*N+I*j,a[7]=_*$+b*N+T*j,a[8]=x*O+D*X+S*ie,a[9]=w*O+C*X+M*ie,a[10]=L*O+z*X+I*ie,a[11]=_*O+b*X+T*ie,o!==a&&(a[12]=o[12],a[13]=o[13],a[14]=o[14],a[15]=o[15]),a)}},1066:function(i){i.exports=s;function s(a,o,c){var l=Math.sin(c),u=Math.cos(c),f=o[4],h=o[5],p=o[6],m=o[7],d=o[8],y=o[9],x=o[10],w=o[11];return o!==a&&(a[0]=o[0],a[1]=o[1],a[2]=o[2],a[3]=o[3],a[12]=o[12],a[13]=o[13],a[14]=o[14],a[15]=o[15]),a[4]=f*u+d*l,a[5]=h*u+y*l,a[6]=p*u+x*l,a[7]=m*u+w*l,a[8]=d*u-f*l,a[9]=y*u-h*l,a[10]=x*u-p*l,a[11]=w*u-m*l,a}},4201:function(i){i.exports=s;function s(a,o,c){var l=Math.sin(c),u=Math.cos(c),f=o[0],h=o[1],p=o[2],m=o[3],d=o[8],y=o[9],x=o[10],w=o[11];return o!==a&&(a[4]=o[4],a[5]=o[5],a[6]=o[6],a[7]=o[7],a[12]=o[12],a[13]=o[13],a[14]=o[14],a[15]=o[15]),a[0]=f*u-d*l,a[1]=h*u-y*l,a[2]=p*u-x*l,a[3]=m*u-w*l,a[8]=f*l+d*u,a[9]=h*l+y*u,a[10]=p*l+x*u,a[11]=m*l+w*u,a}},3920:function(i){i.exports=s;function s(a,o,c){var l=Math.sin(c),u=Math.cos(c),f=o[0],h=o[1],p=o[2],m=o[3],d=o[4],y=o[5],x=o[6],w=o[7];return o!==a&&(a[8]=o[8],a[9]=o[9],a[10]=o[10],a[11]=o[11],a[12]=o[12],a[13]=o[13],a[14]=o[14],a[15]=o[15]),a[0]=f*u+d*l,a[1]=h*u+y*l,a[2]=p*u+x*l,a[3]=m*u+w*l,a[4]=d*u-f*l,a[5]=y*u-h*l,a[6]=x*u-p*l,a[7]=w*u-m*l,a}},8697:function(i){i.exports=s;function s(a,o,c){var l=c[0],u=c[1],f=c[2];return a[0]=o[0]*l,a[1]=o[1]*l,a[2]=o[2]*l,a[3]=o[3]*l,a[4]=o[4]*u,a[5]=o[5]*u,a[6]=o[6]*u,a[7]=o[7]*u,a[8]=o[8]*f,a[9]=o[9]*f,a[10]=o[10]*f,a[11]=o[11]*f,a[12]=o[12],a[13]=o[13],a[14]=o[14],a[15]=o[15],a}},6992:function(i){i.exports=s;function s(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}},4165:function(i){i.exports=s;function s(a,o,c){var l=c[0],u=c[1],f=c[2],h,p,m,d,y,x,w,L,_,D,C,z;return o===a?(a[12]=o[0]*l+o[4]*u+o[8]*f+o[12],a[13]=o[1]*l+o[5]*u+o[9]*f+o[13],a[14]=o[2]*l+o[6]*u+o[10]*f+o[14],a[15]=o[3]*l+o[7]*u+o[11]*f+o[15]):(h=o[0],p=o[1],m=o[2],d=o[3],y=o[4],x=o[5],w=o[6],L=o[7],_=o[8],D=o[9],C=o[10],z=o[11],a[0]=h,a[1]=p,a[2]=m,a[3]=d,a[4]=y,a[5]=x,a[6]=w,a[7]=L,a[8]=_,a[9]=D,a[10]=C,a[11]=z,a[12]=h*l+y*u+_*f+o[12],a[13]=p*l+x*u+D*f+o[13],a[14]=m*l+w*u+C*f+o[14],a[15]=d*l+L*u+z*f+o[15]),a}},256:function(i){i.exports=s;function s(a,o){if(a===o){var c=o[1],l=o[2],u=o[3],f=o[6],h=o[7],p=o[11];a[1]=o[4],a[2]=o[8],a[3]=o[12],a[4]=c,a[6]=o[9],a[7]=o[13],a[8]=l,a[9]=f,a[11]=o[14],a[12]=u,a[13]=h,a[14]=p}else a[0]=o[0],a[1]=o[4],a[2]=o[8],a[3]=o[12],a[4]=o[1],a[5]=o[5],a[6]=o[9],a[7]=o[13],a[8]=o[2],a[9]=o[6],a[10]=o[10],a[11]=o[14],a[12]=o[3],a[13]=o[7],a[14]=o[11],a[15]=o[15];return a}},9784:function(i,s,a){"use strict";var o=a(8253),c;typeof a.g.matchMedia=="function"?c=!a.g.matchMedia("(hover: none)").matches:c=o,i.exports=c},4043:function(i,s,a){"use strict";var o=a(8253);function c(){var l=!1;try{var u=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("test",null,u),window.removeEventListener("test",null,u)}catch{l=!1}return l}i.exports=o&&c()},8253:function(i){i.exports=!0},9914:function(i){"use strict";i.exports=function(s){for(var a=s.length,o,c=0;c<a;c++)if(o=s.charCodeAt(c),(o<9||o>13)&&o!==32&&o!==133&&o!==160&&o!==5760&&o!==6158&&(o<8192||o>8205)&&o!==8232&&o!==8233&&o!==8239&&o!==8287&&o!==8288&&o!==12288&&o!==65279)return!1;return!0}},4039:function(i){var s={left:0,top:0};i.exports=a;function a(c,l,u){l=l||c.currentTarget||c.srcElement,Array.isArray(u)||(u=[0,0]);var f=c.clientX||0,h=c.clientY||0,p=o(l);return u[0]=f-p.left,u[1]=h-p.top,u}function o(c){return c===window||c===document||c===document.body?s:c.getBoundingClientRect()}},1116:function(i,s,a){var o;(function(l,u,f){u[l]=u[l]||f(),i.exports?i.exports=u[l]:(o=function(){return u[l]}.call(s,a,s,i),o!==void 0&&(i.exports=o))})("Promise",typeof a.g<"u"?a.g:this,function(){"use strict";var l,u,f,h=Object.prototype.toString,p=typeof setImmediate<"u"?function(M){return setImmediate(M)}:setTimeout;try{Object.defineProperty({},"x",{}),l=function(M,I,T,B){return Object.defineProperty(M,I,{value:T,writable:!0,configurable:B!==!1})}}catch{l=function(I,T,B){return I[T]=B,I}}f=function(){var M,I,T;function B(H,Z){this.fn=H,this.self=Z,this.next=void 0}return{add:function(Z,$){T=new B(Z,$),I?I.next=T:M=T,I=T,T=void 0},drain:function(){var Z=M;for(M=I=u=void 0;Z;)Z.fn.call(Z.self),Z=Z.next}}}();function m(S,M){f.add(S,M),u||(u=p(f.drain))}function d(S){var M,I=typeof S;return S!=null&&(I=="object"||I=="function")&&(M=S.then),typeof M=="function"?M:!1}function y(){for(var S=0;S<this.chain.length;S++)x(this,this.state===1?this.chain[S].success:this.chain[S].failure,this.chain[S]);this.chain.length=0}function x(S,M,I){var T,B;try{M===!1?I.reject(S.msg):(M===!0?T=S.msg:T=M.call(void 0,S.msg),T===I.promise?I.reject(TypeError("Promise-chain cycle")):(B=d(T))?B.call(T,I.resolve,I.reject):I.resolve(T))}catch(H){I.reject(H)}}function w(S){var M,I=this;if(!I.triggered){I.triggered=!0,I.def&&(I=I.def);try{(M=d(S))?m(function(){var T=new D(I);try{M.call(S,function(){w.apply(T,arguments)},function(){L.apply(T,arguments)})}catch(B){L.call(T,B)}}):(I.msg=S,I.state=1,I.chain.length>0&&m(y,I))}catch(T){L.call(new D(I),T)}}}function L(S){var M=this;M.triggered||(M.triggered=!0,M.def&&(M=M.def),M.msg=S,M.state=2,M.chain.length>0&&m(y,M))}function _(S,M,I,T){for(var B=0;B<M.length;B++)(function(Z){S.resolve(M[Z]).then(function(N){I(Z,N)},T)})(B)}function D(S){this.def=S,this.triggered=!1}function C(S){this.promise=S,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function z(S){if(typeof S!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var M=new C(this);this.then=function(T,B){var H={success:typeof T=="function"?T:!0,failure:typeof B=="function"?B:!1};return H.promise=new this.constructor(function($,N){if(typeof $!="function"||typeof N!="function")throw TypeError("Not a function");H.resolve=$,H.reject=N}),M.chain.push(H),M.state!==0&&m(y,M),H.promise},this.catch=function(T){return this.then(void 0,T)};try{S.call(void 0,function(T){w.call(M,T)},function(T){L.call(M,T)})}catch(I){L.call(M,I)}}var b=l({},"constructor",z,!1);return z.prototype=b,l(b,"__NPO__",0,!1),l(z,"resolve",function(M){var I=this;return M&&typeof M=="object"&&M.__NPO__===1?M:new I(function(B,H){if(typeof B!="function"||typeof H!="function")throw TypeError("Not a function");B(M)})}),l(z,"reject",function(M){return new this(function(T,B){if(typeof T!="function"||typeof B!="function")throw TypeError("Not a function");B(M)})}),l(z,"all",function(M){var I=this;return h.call(M)!="[object Array]"?I.reject(TypeError("Not an array")):M.length===0?I.resolve([]):new I(function(B,H){if(typeof B!="function"||typeof H!="function")throw TypeError("Not a function");var Z=M.length,$=Array(Z),N=0;_(I,M,function(O,X){$[O]=X,++N===Z&&B($)},H)})}),l(z,"race",function(M){var I=this;return h.call(M)!="[object Array]"?I.reject(TypeError("Not an array")):new I(function(B,H){if(typeof B!="function"||typeof H!="function")throw TypeError("Not a function");_(I,M,function($,N){B(N)},H)})}),z})},7976:function(i){"use strict";var s=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function c(u){if(u==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(u)}function l(){try{if(!Object.assign)return!1;var u=new String("abc");if(u[5]="de",Object.getOwnPropertyNames(u)[0]==="5")return!1;for(var f={},h=0;h<10;h++)f["_"+String.fromCharCode(h)]=h;var p=Object.getOwnPropertyNames(f).map(function(d){return f[d]});if(p.join("")!=="0123456789")return!1;var m={};return"abcdefghijklmnopqrst".split("").forEach(function(d){m[d]=d}),Object.keys(Object.assign({},m)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}i.exports=l()?Object.assign:function(u,f){for(var h,p=c(u),m,d=1;d<arguments.length;d++){h=Object(arguments[d]);for(var y in h)a.call(h,y)&&(p[y]=h[y]);if(s){m=s(h);for(var x=0;x<m.length;x++)o.call(h,m[x])&&(p[m[x]]=h[m[x]])}}return p}},6953:function(i){i.exports=o;var s={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},a=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function o(u){var f=[];return u.replace(a,function(h,p,m){var d=p.toLowerCase();for(m=l(m),d=="m"&&m.length>2&&(f.push([p].concat(m.splice(0,2))),d="l",p=p=="m"?"l":"L");;){if(m.length==s[d])return m.unshift(p),f.push(m);if(m.length<s[d])throw new Error("malformed path data");f.push([p].concat(m.splice(0,s[d])))}}),f}var c=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function l(u){var f=u.match(c);return f?f.map(Number):[]}},2773:function(i){i.exports=function(a,o,c,l){var u=a[0],f=a[1],h=!1;c===void 0&&(c=0),l===void 0&&(l=o.length);for(var p=l-c,m=0,d=p-1;m<p;d=m++){var y=o[m+c][0],x=o[m+c][1],w=o[d+c][0],L=o[d+c][1],_=x>f!=L>f&&u<(w-y)*(f-x)/(L-x)+y;_&&(h=!h)}return h}},1516:function(i,s,a){var o=a(2391),c=a(2990),l=a(6202),u=a(2222),f=a(7527),h=a(4491),p=!1,m=c(),d;d={buildLog:function(x){return x===!0?p=o():x===!1&&(p=!1),p===!1?!1:p.list},epsilon:function(x){return m.epsilon(x)},segments:function(x){var w=l(!0,m,p);return x.regions.forEach(w.addRegion),{segments:w.calculate(x.inverted),inverted:x.inverted}},combine:function(x,w){var L=l(!1,m,p);return{combined:L.calculate(x.segments,x.inverted,w.segments,w.inverted),inverted1:x.inverted,inverted2:w.inverted}},selectUnion:function(x){return{segments:f.union(x.combined,p),inverted:x.inverted1||x.inverted2}},selectIntersect:function(x){return{segments:f.intersect(x.combined,p),inverted:x.inverted1&&x.inverted2}},selectDifference:function(x){return{segments:f.difference(x.combined,p),inverted:x.inverted1&&!x.inverted2}},selectDifferenceRev:function(x){return{segments:f.differenceRev(x.combined,p),inverted:!x.inverted1&&x.inverted2}},selectXor:function(x){return{segments:f.xor(x.combined,p),inverted:x.inverted1!==x.inverted2}},polygon:function(x){return{regions:u(x.segments,m,p),inverted:x.inverted}},polygonFromGeoJSON:function(x){return h.toPolygon(d,x)},polygonToGeoJSON:function(x){return h.fromPolygon(d,m,x)},union:function(x,w){return y(x,w,d.selectUnion)},intersect:function(x,w){return y(x,w,d.selectIntersect)},difference:function(x,w){return y(x,w,d.selectDifference)},differenceRev:function(x,w){return y(x,w,d.selectDifferenceRev)},xor:function(x,w){return y(x,w,d.selectXor)}};function y(x,w,L){var _=d.segments(x),D=d.segments(w),C=d.combine(_,D),z=L(C);return d.polygon(z)}typeof window=="object"&&(window.PolyBool=d),i.exports=d},2391:function(i){function s(){var a,o=0,c=!1;function l(u,f){return a.list.push({type:u,data:f?JSON.parse(JSON.stringify(f)):void 0}),a}return a={list:[],segmentId:function(){return o++},checkIntersection:function(u,f){return l("check",{seg1:u,seg2:f})},segmentChop:function(u,f){return l("div_seg",{seg:u,pt:f}),l("chop",{seg:u,pt:f})},statusRemove:function(u){return l("pop_seg",{seg:u})},segmentUpdate:function(u){return l("seg_update",{seg:u})},segmentNew:function(u,f){return l("new_seg",{seg:u,primary:f})},segmentRemove:function(u){return l("rem_seg",{seg:u})},tempStatus:function(u,f,h){return l("temp_status",{seg:u,above:f,below:h})},rewind:function(u){return l("rewind",{seg:u})},status:function(u,f,h){return l("status",{seg:u,above:f,below:h})},vert:function(u){return u===c?a:(c=u,l("vert",{x:u}))},log:function(u){return typeof u!="string"&&(u=JSON.stringify(u,!1,"  ")),l("log",{txt:u})},reset:function(){return l("reset")},selected:function(u){return l("selected",{segs:u})},chainStart:function(u){return l("chain_start",{seg:u})},chainRemoveHead:function(u,f){return l("chain_rem_head",{index:u,pt:f})},chainRemoveTail:function(u,f){return l("chain_rem_tail",{index:u,pt:f})},chainNew:function(u,f){return l("chain_new",{pt1:u,pt2:f})},chainMatch:function(u){return l("chain_match",{index:u})},chainClose:function(u){return l("chain_close",{index:u})},chainAddHead:function(u,f){return l("chain_add_head",{index:u,pt:f})},chainAddTail:function(u,f){return l("chain_add_tail",{index:u,pt:f})},chainConnect:function(u,f){return l("chain_con",{index1:u,index2:f})},chainReverse:function(u){return l("chain_rev",{index:u})},chainJoin:function(u,f){return l("chain_join",{index1:u,index2:f})},done:function(){return l("done")}},a}i.exports=s},2990:function(i){function s(a){typeof a!="number"&&(a=1e-10);var o={epsilon:function(c){return typeof c=="number"&&(a=c),a},pointAboveOrOnLine:function(c,l,u){var f=l[0],h=l[1],p=u[0],m=u[1],d=c[0],y=c[1];return(p-f)*(y-h)-(m-h)*(d-f)>=-a},pointBetween:function(c,l,u){var f=c[1]-l[1],h=u[0]-l[0],p=c[0]-l[0],m=u[1]-l[1],d=p*h+f*m;if(d<a)return!1;var y=h*h+m*m;return!(d-y>-a)},pointsSameX:function(c,l){return Math.abs(c[0]-l[0])<a},pointsSameY:function(c,l){return Math.abs(c[1]-l[1])<a},pointsSame:function(c,l){return o.pointsSameX(c,l)&&o.pointsSameY(c,l)},pointsCompare:function(c,l){return o.pointsSameX(c,l)?o.pointsSameY(c,l)?0:c[1]<l[1]?-1:1:c[0]<l[0]?-1:1},pointsCollinear:function(c,l,u){var f=c[0]-l[0],h=c[1]-l[1],p=l[0]-u[0],m=l[1]-u[1];return Math.abs(f*m-p*h)<a},linesIntersect:function(c,l,u,f){var h=l[0]-c[0],p=l[1]-c[1],m=f[0]-u[0],d=f[1]-u[1],y=h*d-p*m;if(Math.abs(y)<a)return!1;var x=c[0]-u[0],w=c[1]-u[1],L=(m*w-d*x)/y,_=(h*w-p*x)/y,D={alongA:0,alongB:0,pt:[c[0]+L*h,c[1]+L*p]};return L<=-a?D.alongA=-2:L<a?D.alongA=-1:L-1<=-a?D.alongA=0:L-1<a?D.alongA=1:D.alongA=2,_<=-a?D.alongB=-2:_<a?D.alongB=-1:_-1<=-a?D.alongB=0:_-1<a?D.alongB=1:D.alongB=2,D},pointInsideRegion:function(c,l){for(var u=c[0],f=c[1],h=l[l.length-1][0],p=l[l.length-1][1],m=!1,d=0;d<l.length;d++){var y=l[d][0],x=l[d][1];x-f>a!=p-f>a&&(h-y)*(f-x)/(p-x)+y-u>a&&(m=!m),h=y,p=x}return m}};return o}i.exports=s},4491:function(i){var s={toPolygon:function(a,o){function c(f){if(f.length<=0)return a.segments({inverted:!1,regions:[]});function h(d){var y=d.slice(0,d.length-1);return a.segments({inverted:!1,regions:[y]})}for(var p=h(f[0]),m=1;m<f.length;m++)p=a.selectDifference(a.combine(p,h(f[m])));return p}if(o.type==="Polygon")return a.polygon(c(o.coordinates));if(o.type==="MultiPolygon"){for(var l=a.segments({inverted:!1,regions:[]}),u=0;u<o.coordinates.length;u++)l=a.selectUnion(a.combine(l,c(o.coordinates[u])));return a.polygon(l)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(a,o,c){c=a.polygon(a.segments(c));function l(L,_){return o.pointInsideRegion([(L[0][0]+L[1][0])*.5,(L[0][1]+L[1][1])*.5],_)}function u(L){return{region:L,children:[]}}var f=u(null);function h(L,_){for(var D=0;D<L.children.length;D++){var C=L.children[D];if(l(_,C.region)){h(C,_);return}}for(var z=u(_),D=0;D<L.children.length;D++){var C=L.children[D];l(C.region,_)&&(z.children.push(C),L.children.splice(D,1),D--)}L.children.push(z)}for(var p=0;p<c.regions.length;p++){var m=c.regions[p];m.length<3||h(f,m)}function d(L,_){for(var D=0,C=L[L.length-1][0],z=L[L.length-1][1],b=[],S=0;S<L.length;S++){var M=L[S][0],I=L[S][1];b.push([M,I]),D+=I*C-M*z,C=M,z=I}var T=D<0;return T!==_&&b.reverse(),b.push([b[0][0],b[0][1]]),b}var y=[];function x(L){var _=[d(L.region,!1)];y.push(_);for(var D=0;D<L.children.length;D++)_.push(w(L.children[D]))}function w(L){for(var _=0;_<L.children.length;_++)x(L.children[_]);return d(L.region,!0)}for(var p=0;p<f.children.length;p++)x(f.children[p]);return y.length<=0?{type:"Polygon",coordinates:[]}:y.length==1?{type:"Polygon",coordinates:y[0]}:{type:"MultiPolygon",coordinates:y}}};i.exports=s},6202:function(i,s,a){var o=a(8916);function c(l,u,f){function h(z,b){return{id:f?f.segmentId():-1,start:z,end:b,myFill:{above:null,below:null},otherFill:null}}function p(z,b,S){return{id:f?f.segmentId():-1,start:z,end:b,myFill:{above:S.myFill.above,below:S.myFill.below},otherFill:null}}var m=o.create();function d(z,b,S,M,I,T){var B=u.pointsCompare(b,I);return B!==0?B:u.pointsSame(S,T)?0:z!==M?z?1:-1:u.pointAboveOrOnLine(S,M?I:T,M?T:I)?1:-1}function y(z,b){m.insertBefore(z,function(S){var M=d(z.isStart,z.pt,b,S.isStart,S.pt,S.other.pt);return M<0})}function x(z,b){var S=o.node({isStart:!0,pt:z.start,seg:z,primary:b,other:null,status:null});return y(S,z.end),S}function w(z,b,S){var M=o.node({isStart:!1,pt:b.end,seg:b,primary:S,other:z,status:null});z.other=M,y(M,z.pt)}function L(z,b){var S=x(z,b);return w(S,z,b),S}function _(z,b){f&&f.segmentChop(z.seg,b),z.other.remove(),z.seg.end=b,z.other.pt=b,y(z.other,z.pt)}function D(z,b){var S=p(b,z.seg.end,z.seg);return _(z,b),L(S,z.primary)}function C(z,b){var S=o.create();function M(W,Y){var Q=W.seg.start,re=W.seg.end,te=Y.seg.start,le=Y.seg.end;return u.pointsCollinear(Q,te,le)?u.pointsCollinear(re,te,le)||u.pointAboveOrOnLine(re,te,le)?1:-1:u.pointAboveOrOnLine(Q,te,le)?1:-1}function I(W){return S.findTransition(function(Y){var Q=M(W,Y.ev);return Q>0})}function T(W,Y){var Q=W.seg,re=Y.seg,te=Q.start,le=Q.end,be=re.start,Se=re.end;f&&f.checkIntersection(Q,re);var ze=u.linesIntersect(te,le,be,Se);if(ze===!1){if(!u.pointsCollinear(te,le,be)||u.pointsSame(te,Se)||u.pointsSame(le,be))return!1;var Te=u.pointsSame(te,be),ye=u.pointsSame(le,Se);if(Te&&ye)return Y;var he=!Te&&u.pointBetween(te,be,Se),P=!ye&&u.pointBetween(le,be,Se);if(Te)return P?D(Y,le):D(W,Se),Y;he&&(ye||(P?D(Y,le):D(W,Se)),D(Y,te))}else ze.alongA===0&&(ze.alongB===-1?D(W,be):ze.alongB===0?D(W,ze.pt):ze.alongB===1&&D(W,Se)),ze.alongB===0&&(ze.alongA===-1?D(Y,te):ze.alongA===0?D(Y,ze.pt):ze.alongA===1&&D(Y,le));return!1}for(var B=[];!m.isEmpty();){var H=m.getHead();if(f&&f.vert(H.pt[0]),H.isStart){let W=function(){if($){var Y=T(H,$);if(Y)return Y}return N?T(H,N):!1};var V=W;f&&f.segmentNew(H.seg,H.primary);var Z=I(H),$=Z.before?Z.before.ev:null,N=Z.after?Z.after.ev:null;f&&f.tempStatus(H.seg,$?$.seg:!1,N?N.seg:!1);var j=W();if(j){if(l){var O;H.seg.myFill.below===null?O=!0:O=H.seg.myFill.above!==H.seg.myFill.below,O&&(j.seg.myFill.above=!j.seg.myFill.above)}else j.seg.otherFill=H.seg.myFill;f&&f.segmentUpdate(j.seg),H.other.remove(),H.remove()}if(m.getHead()!==H){f&&f.rewind(H.seg);continue}if(l){var O;H.seg.myFill.below===null?O=!0:O=H.seg.myFill.above!==H.seg.myFill.below,N?H.seg.myFill.below=N.seg.myFill.above:H.seg.myFill.below=z,O?H.seg.myFill.above=!H.seg.myFill.below:H.seg.myFill.above=H.seg.myFill.below}else if(H.seg.otherFill===null){var X;N?H.primary===N.primary?X=N.seg.otherFill.above:X=N.seg.myFill.above:X=H.primary?b:z,H.seg.otherFill={above:X,below:X}}f&&f.status(H.seg,$?$.seg:!1,N?N.seg:!1),H.other.status=Z.insert(o.node({ev:H}))}else{var ie=H.status;if(ie===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(S.exists(ie.prev)&&S.exists(ie.next)&&T(ie.prev.ev,ie.next.ev),f&&f.statusRemove(ie.ev.seg),ie.remove(),!H.primary){var oe=H.seg.myFill;H.seg.myFill=H.seg.otherFill,H.seg.otherFill=oe}B.push(H.seg)}m.getHead().remove()}return f&&f.done(),B}return l?{addRegion:function(z){for(var b,S=z[z.length-1],M=0;M<z.length;M++){b=S,S=z[M];var I=u.pointsCompare(b,S);I!==0&&L(h(I<0?b:S,I<0?S:b),!0)}},calculate:function(z){return C(z,!1)}}:{calculate:function(z,b,S,M){return z.forEach(function(I){L(p(I.start,I.end,I),!0)}),S.forEach(function(I){L(p(I.start,I.end,I),!1)}),C(b,M)}}}i.exports=c},8916:function(i){var s={create:function(){var a={root:{root:!0,next:null},exists:function(o){return!(o===null||o===a.root)},isEmpty:function(){return a.root.next===null},getHead:function(){return a.root.next},insertBefore:function(o,c){for(var l=a.root,u=a.root.next;u!==null;){if(c(u)){o.prev=u.prev,o.next=u,u.prev.next=o,u.prev=o;return}l=u,u=u.next}l.next=o,o.prev=l,o.next=null},findTransition:function(o){for(var c=a.root,l=a.root.next;l!==null&&!o(l);)c=l,l=l.next;return{before:c===a.root?null:c,after:l,insert:function(u){return u.prev=c,u.next=l,c.next=u,l!==null&&(l.prev=u),u}}}};return a},node:function(a){return a.prev=null,a.next=null,a.remove=function(){a.prev.next=a.next,a.next&&(a.next.prev=a.prev),a.prev=null,a.next=null},a}};i.exports=s},2222:function(i){function s(a,o,c){var l=[],u=[];return a.forEach(function(f){var h=f.start,p=f.end;if(o.pointsSame(h,p)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}c&&c.chainStart(f);var m={index:0,matches_head:!1,matches_pt1:!1},d={index:0,matches_head:!1,matches_pt1:!1},y=m;function x(X,ie,oe){return y.index=X,y.matches_head=ie,y.matches_pt1=oe,y===m?(y=d,!1):(y=null,!0)}for(var w=0;w<l.length;w++){var L=l[w],_=L[0],D=L[1],C=L[L.length-1],z=L[L.length-2];if(o.pointsSame(_,h)){if(x(w,!0,!0))break}else if(o.pointsSame(_,p)){if(x(w,!0,!1))break}else if(o.pointsSame(C,h)){if(x(w,!1,!0))break}else if(o.pointsSame(C,p)&&x(w,!1,!1))break}if(y===m){l.push([h,p]),c&&c.chainNew(h,p);return}if(y===d){c&&c.chainMatch(m.index);var b=m.index,S=m.matches_pt1?p:h,M=m.matches_head,L=l[b],I=M?L[0]:L[L.length-1],T=M?L[1]:L[L.length-2],B=M?L[L.length-1]:L[0],H=M?L[L.length-2]:L[1];if(o.pointsCollinear(T,I,S)&&(M?(c&&c.chainRemoveHead(m.index,S),L.shift()):(c&&c.chainRemoveTail(m.index,S),L.pop()),I=T),o.pointsSame(B,S)){l.splice(b,1),o.pointsCollinear(H,B,I)&&(M?(c&&c.chainRemoveTail(m.index,I),L.pop()):(c&&c.chainRemoveHead(m.index,I),L.shift())),c&&c.chainClose(m.index),u.push(L);return}M?(c&&c.chainAddHead(m.index,S),L.unshift(S)):(c&&c.chainAddTail(m.index,S),L.push(S));return}function Z(X){c&&c.chainReverse(X),l[X].reverse()}function $(X,ie){var oe=l[X],V=l[ie],W=oe[oe.length-1],Y=oe[oe.length-2],Q=V[0],re=V[1];o.pointsCollinear(Y,W,Q)&&(c&&c.chainRemoveTail(X,W),oe.pop(),W=Y),o.pointsCollinear(W,Q,re)&&(c&&c.chainRemoveHead(ie,Q),V.shift()),c&&c.chainJoin(X,ie),l[X]=oe.concat(V),l.splice(ie,1)}var N=m.index,j=d.index;c&&c.chainConnect(N,j);var O=l[N].length<l[j].length;m.matches_head?d.matches_head?O?(Z(N),$(N,j)):(Z(j),$(j,N)):$(j,N):d.matches_head?$(N,j):O?(Z(N),$(j,N)):(Z(j),$(N,j))}),u}i.exports=s},7527:function(i){function s(o,c,l){var u=[];return o.forEach(function(f){var h=(f.myFill.above?8:0)+(f.myFill.below?4:0)+(f.otherFill&&f.otherFill.above?2:0)+(f.otherFill&&f.otherFill.below?1:0);c[h]!==0&&u.push({id:l?l.segmentId():-1,start:f.start,end:f.end,myFill:{above:c[h]===1,below:c[h]===2},otherFill:null})}),l&&l.selected(u),u}var a={union:function(o,c){return s(o,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],c)},intersect:function(o,c){return s(o,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],c)},difference:function(o,c){return s(o,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],c)},differenceRev:function(o,c){return s(o,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],c)},xor:function(o,c){return s(o,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],c)}};i.exports=a},5657:function(i,s,a){var o;(function(c){var l=/^\s+/,u=/\s+$/,f=0,h=c.round,p=c.min,m=c.max,d=c.random;function y(E,K){if(E=E||"",K=K||{},E instanceof y)return E;if(!(this instanceof y))return new y(E,K);var R=x(E);this._originalInput=E,this._r=R.r,this._g=R.g,this._b=R.b,this._a=R.a,this._roundA=h(100*this._a)/100,this._format=K.format||R.format,this._gradientType=K.gradientType,this._r<1&&(this._r=h(this._r)),this._g<1&&(this._g=h(this._g)),this._b<1&&(this._b=h(this._b)),this._ok=R.ok,this._tc_id=f++}y.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var E=this.toRgb();return(E.r*299+E.g*587+E.b*114)/1e3},getLuminance:function(){var E=this.toRgb(),K,R,ne,pe,xe,we;return K=E.r/255,R=E.g/255,ne=E.b/255,K<=.03928?pe=K/12.92:pe=c.pow((K+.055)/1.055,2.4),R<=.03928?xe=R/12.92:xe=c.pow((R+.055)/1.055,2.4),ne<=.03928?we=ne/12.92:we=c.pow((ne+.055)/1.055,2.4),.2126*pe+.7152*xe+.0722*we},setAlpha:function(E){return this._a=Q(E),this._roundA=h(100*this._a)/100,this},toHsv:function(){var E=D(this._r,this._g,this._b);return{h:E.h*360,s:E.s,v:E.v,a:this._a}},toHsvString:function(){var E=D(this._r,this._g,this._b),K=h(E.h*360),R=h(E.s*100),ne=h(E.v*100);return this._a==1?"hsv("+K+", "+R+"%, "+ne+"%)":"hsva("+K+", "+R+"%, "+ne+"%, "+this._roundA+")"},toHsl:function(){var E=L(this._r,this._g,this._b);return{h:E.h*360,s:E.s,l:E.l,a:this._a}},toHslString:function(){var E=L(this._r,this._g,this._b),K=h(E.h*360),R=h(E.s*100),ne=h(E.l*100);return this._a==1?"hsl("+K+", "+R+"%, "+ne+"%)":"hsla("+K+", "+R+"%, "+ne+"%, "+this._roundA+")"},toHex:function(E){return z(this._r,this._g,this._b,E)},toHexString:function(E){return"#"+this.toHex(E)},toHex8:function(E){return b(this._r,this._g,this._b,this._a,E)},toHex8String:function(E){return"#"+this.toHex8(E)},toRgb:function(){return{r:h(this._r),g:h(this._g),b:h(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+h(this._r)+", "+h(this._g)+", "+h(this._b)+")":"rgba("+h(this._r)+", "+h(this._g)+", "+h(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:h(re(this._r,255)*100)+"%",g:h(re(this._g,255)*100)+"%",b:h(re(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+h(re(this._r,255)*100)+"%, "+h(re(this._g,255)*100)+"%, "+h(re(this._b,255)*100)+"%)":"rgba("+h(re(this._r,255)*100)+"%, "+h(re(this._g,255)*100)+"%, "+h(re(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:W[z(this._r,this._g,this._b,!0)]||!1},toFilter:function(E){var K="#"+S(this._r,this._g,this._b,this._a),R=K,ne=this._gradientType?"GradientType = 1, ":"";if(E){var pe=y(E);R="#"+S(pe._r,pe._g,pe._b,pe._a)}return"progid:DXImageTransform.Microsoft.gradient("+ne+"startColorstr="+K+",endColorstr="+R+")"},toString:function(E){var K=!!E;E=E||this._format;var R=!1,ne=this._a<1&&this._a>=0,pe=!K&&ne&&(E==="hex"||E==="hex6"||E==="hex3"||E==="hex4"||E==="hex8"||E==="name");return pe?E==="name"&&this._a===0?this.toName():this.toRgbString():(E==="rgb"&&(R=this.toRgbString()),E==="prgb"&&(R=this.toPercentageRgbString()),(E==="hex"||E==="hex6")&&(R=this.toHexString()),E==="hex3"&&(R=this.toHexString(!0)),E==="hex4"&&(R=this.toHex8String(!0)),E==="hex8"&&(R=this.toHex8String()),E==="name"&&(R=this.toName()),E==="hsl"&&(R=this.toHslString()),E==="hsv"&&(R=this.toHsvString()),R||this.toHexString())},clone:function(){return y(this.toString())},_applyModification:function(E,K){var R=E.apply(null,[this].concat([].slice.call(K)));return this._r=R._r,this._g=R._g,this._b=R._b,this.setAlpha(R._a),this},lighten:function(){return this._applyModification(B,arguments)},brighten:function(){return this._applyModification(H,arguments)},darken:function(){return this._applyModification(Z,arguments)},desaturate:function(){return this._applyModification(M,arguments)},saturate:function(){return this._applyModification(I,arguments)},greyscale:function(){return this._applyModification(T,arguments)},spin:function(){return this._applyModification($,arguments)},_applyCombination:function(E,K){return E.apply(null,[this].concat([].slice.call(K)))},analogous:function(){return this._applyCombination(ie,arguments)},complement:function(){return this._applyCombination(N,arguments)},monochromatic:function(){return this._applyCombination(oe,arguments)},splitcomplement:function(){return this._applyCombination(X,arguments)},triad:function(){return this._applyCombination(j,arguments)},tetrad:function(){return this._applyCombination(O,arguments)}},y.fromRatio=function(E,K){if(typeof E=="object"){var R={};for(var ne in E)E.hasOwnProperty(ne)&&(ne==="a"?R[ne]=E[ne]:R[ne]=Te(E[ne]));E=R}return y(E,K)};function x(E){var K={r:0,g:0,b:0},R=1,ne=null,pe=null,xe=null,we=!1,Ee=!1;return typeof E=="string"&&(E=ee(E)),typeof E=="object"&&(U(E.r)&&U(E.g)&&U(E.b)?(K=w(E.r,E.g,E.b),we=!0,Ee=String(E.r).substr(-1)==="%"?"prgb":"rgb"):U(E.h)&&U(E.s)&&U(E.v)?(ne=Te(E.s),pe=Te(E.v),K=C(E.h,ne,pe),we=!0,Ee="hsv"):U(E.h)&&U(E.s)&&U(E.l)&&(ne=Te(E.s),xe=Te(E.l),K=_(E.h,ne,xe),we=!0,Ee="hsl"),E.hasOwnProperty("a")&&(R=E.a)),R=Q(R),{ok:we,format:E.format||Ee,r:p(255,m(K.r,0)),g:p(255,m(K.g,0)),b:p(255,m(K.b,0)),a:R}}function w(E,K,R){return{r:re(E,255)*255,g:re(K,255)*255,b:re(R,255)*255}}function L(E,K,R){E=re(E,255),K=re(K,255),R=re(R,255);var ne=m(E,K,R),pe=p(E,K,R),xe,we,Ee=(ne+pe)/2;if(ne==pe)xe=we=0;else{var Oe=ne-pe;switch(we=Ee>.5?Oe/(2-ne-pe):Oe/(ne+pe),ne){case E:xe=(K-R)/Oe+(K<R?6:0);break;case K:xe=(R-E)/Oe+2;break;case R:xe=(E-K)/Oe+4;break}xe/=6}return{h:xe,s:we,l:Ee}}function _(E,K,R){var ne,pe,xe;E=re(E,360),K=re(K,100),R=re(R,100);function we(Ke,Je,rt){return rt<0&&(rt+=1),rt>1&&(rt-=1),rt<.16666666666666666?Ke+(Je-Ke)*6*rt:rt<.5?Je:rt<.6666666666666666?Ke+(Je-Ke)*(.6666666666666666-rt)*6:Ke}if(K===0)ne=pe=xe=R;else{var Ee=R<.5?R*(1+K):R+K-R*K,Oe=2*R-Ee;ne=we(Oe,Ee,E+.3333333333333333),pe=we(Oe,Ee,E),xe=we(Oe,Ee,E-.3333333333333333)}return{r:ne*255,g:pe*255,b:xe*255}}function D(E,K,R){E=re(E,255),K=re(K,255),R=re(R,255);var ne=m(E,K,R),pe=p(E,K,R),xe,we,Ee=ne,Oe=ne-pe;if(we=ne===0?0:Oe/ne,ne==pe)xe=0;else{switch(ne){case E:xe=(K-R)/Oe+(K<R?6:0);break;case K:xe=(R-E)/Oe+2;break;case R:xe=(E-K)/Oe+4;break}xe/=6}return{h:xe,s:we,v:Ee}}function C(E,K,R){E=re(E,360)*6,K=re(K,100),R=re(R,100);var ne=c.floor(E),pe=E-ne,xe=R*(1-K),we=R*(1-pe*K),Ee=R*(1-(1-pe)*K),Oe=ne%6,Ke=[R,we,xe,xe,Ee,R][Oe],Je=[Ee,R,R,we,xe,xe][Oe],rt=[xe,xe,Ee,R,R,we][Oe];return{r:Ke*255,g:Je*255,b:rt*255}}function z(E,K,R,ne){var pe=[ze(h(E).toString(16)),ze(h(K).toString(16)),ze(h(R).toString(16))];return ne&&pe[0].charAt(0)==pe[0].charAt(1)&&pe[1].charAt(0)==pe[1].charAt(1)&&pe[2].charAt(0)==pe[2].charAt(1)?pe[0].charAt(0)+pe[1].charAt(0)+pe[2].charAt(0):pe.join("")}function b(E,K,R,ne,pe){var xe=[ze(h(E).toString(16)),ze(h(K).toString(16)),ze(h(R).toString(16)),ze(ye(ne))];return pe&&xe[0].charAt(0)==xe[0].charAt(1)&&xe[1].charAt(0)==xe[1].charAt(1)&&xe[2].charAt(0)==xe[2].charAt(1)&&xe[3].charAt(0)==xe[3].charAt(1)?xe[0].charAt(0)+xe[1].charAt(0)+xe[2].charAt(0)+xe[3].charAt(0):xe.join("")}function S(E,K,R,ne){var pe=[ze(ye(ne)),ze(h(E).toString(16)),ze(h(K).toString(16)),ze(h(R).toString(16))];return pe.join("")}y.equals=function(E,K){return!E||!K?!1:y(E).toRgbString()==y(K).toRgbString()},y.random=function(){return y.fromRatio({r:d(),g:d(),b:d()})};function M(E,K){K=K===0?0:K||10;var R=y(E).toHsl();return R.s-=K/100,R.s=te(R.s),y(R)}function I(E,K){K=K===0?0:K||10;var R=y(E).toHsl();return R.s+=K/100,R.s=te(R.s),y(R)}function T(E){return y(E).desaturate(100)}function B(E,K){K=K===0?0:K||10;var R=y(E).toHsl();return R.l+=K/100,R.l=te(R.l),y(R)}function H(E,K){K=K===0?0:K||10;var R=y(E).toRgb();return R.r=m(0,p(255,R.r-h(255*-(K/100)))),R.g=m(0,p(255,R.g-h(255*-(K/100)))),R.b=m(0,p(255,R.b-h(255*-(K/100)))),y(R)}function Z(E,K){K=K===0?0:K||10;var R=y(E).toHsl();return R.l-=K/100,R.l=te(R.l),y(R)}function $(E,K){var R=y(E).toHsl(),ne=(R.h+K)%360;return R.h=ne<0?360+ne:ne,y(R)}function N(E){var K=y(E).toHsl();return K.h=(K.h+180)%360,y(K)}function j(E){var K=y(E).toHsl(),R=K.h;return[y(E),y({h:(R+120)%360,s:K.s,l:K.l}),y({h:(R+240)%360,s:K.s,l:K.l})]}function O(E){var K=y(E).toHsl(),R=K.h;return[y(E),y({h:(R+90)%360,s:K.s,l:K.l}),y({h:(R+180)%360,s:K.s,l:K.l}),y({h:(R+270)%360,s:K.s,l:K.l})]}function X(E){var K=y(E).toHsl(),R=K.h;return[y(E),y({h:(R+72)%360,s:K.s,l:K.l}),y({h:(R+216)%360,s:K.s,l:K.l})]}function ie(E,K,R){K=K||6,R=R||30;var ne=y(E).toHsl(),pe=360/R,xe=[y(E)];for(ne.h=(ne.h-(pe*K>>1)+720)%360;--K;)ne.h=(ne.h+pe)%360,xe.push(y(ne));return xe}function oe(E,K){K=K||6;for(var R=y(E).toHsv(),ne=R.h,pe=R.s,xe=R.v,we=[],Ee=1/K;K--;)we.push(y({h:ne,s:pe,v:xe})),xe=(xe+Ee)%1;return we}y.mix=function(E,K,R){R=R===0?0:R||50;var ne=y(E).toRgb(),pe=y(K).toRgb(),xe=R/100,we={r:(pe.r-ne.r)*xe+ne.r,g:(pe.g-ne.g)*xe+ne.g,b:(pe.b-ne.b)*xe+ne.b,a:(pe.a-ne.a)*xe+ne.a};return y(we)},y.readability=function(E,K){var R=y(E),ne=y(K);return(c.max(R.getLuminance(),ne.getLuminance())+.05)/(c.min(R.getLuminance(),ne.getLuminance())+.05)},y.isReadable=function(E,K,R){var ne=y.readability(E,K),pe,xe;switch(xe=!1,pe=G(R),pe.level+pe.size){case"AAsmall":case"AAAlarge":xe=ne>=4.5;break;case"AAlarge":xe=ne>=3;break;case"AAAsmall":xe=ne>=7;break}return xe},y.mostReadable=function(E,K,R){var ne=null,pe=0,xe,we,Ee,Oe;R=R||{},we=R.includeFallbackColors,Ee=R.level,Oe=R.size;for(var Ke=0;Ke<K.length;Ke++)xe=y.readability(E,K[Ke]),xe>pe&&(pe=xe,ne=y(K[Ke]));return y.isReadable(E,ne,{level:Ee,size:Oe})||!we?ne:(R.includeFallbackColors=!1,y.mostReadable(E,["#fff","#000"],R))};var V=y.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},W=y.hexNames=Y(V);function Y(E){var K={};for(var R in E)E.hasOwnProperty(R)&&(K[E[R]]=R);return K}function Q(E){return E=parseFloat(E),(isNaN(E)||E<0||E>1)&&(E=1),E}function re(E,K){be(E)&&(E="100%");var R=Se(E);return E=p(K,m(0,parseFloat(E))),R&&(E=parseInt(E*K,10)/100),c.abs(E-K)<1e-6?1:E%K/parseFloat(K)}function te(E){return p(1,m(0,E))}function le(E){return parseInt(E,16)}function be(E){return typeof E=="string"&&E.indexOf(".")!=-1&&parseFloat(E)===1}function Se(E){return typeof E=="string"&&E.indexOf("%")!=-1}function ze(E){return E.length==1?"0"+E:""+E}function Te(E){return E<=1&&(E=E*100+"%"),E}function ye(E){return c.round(parseFloat(E)*255).toString(16)}function he(E){return le(E)/255}var P=function(){var E="[-\\+]?\\d+%?",K="[-\\+]?\\d*\\.\\d+%?",R="(?:"+K+")|(?:"+E+")",ne="[\\s|\\(]+("+R+")[,|\\s]+("+R+")[,|\\s]+("+R+")\\s*\\)?",pe="[\\s|\\(]+("+R+")[,|\\s]+("+R+")[,|\\s]+("+R+")[,|\\s]+("+R+")\\s*\\)?";return{CSS_UNIT:new RegExp(R),rgb:new RegExp("rgb"+ne),rgba:new RegExp("rgba"+pe),hsl:new RegExp("hsl"+ne),hsla:new RegExp("hsla"+pe),hsv:new RegExp("hsv"+ne),hsva:new RegExp("hsva"+pe),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function U(E){return!!P.CSS_UNIT.exec(E)}function ee(E){E=E.replace(l,"").replace(u,"").toLowerCase();var K=!1;if(V[E])E=V[E],K=!0;else if(E=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var R;return(R=P.rgb.exec(E))?{r:R[1],g:R[2],b:R[3]}:(R=P.rgba.exec(E))?{r:R[1],g:R[2],b:R[3],a:R[4]}:(R=P.hsl.exec(E))?{h:R[1],s:R[2],l:R[3]}:(R=P.hsla.exec(E))?{h:R[1],s:R[2],l:R[3],a:R[4]}:(R=P.hsv.exec(E))?{h:R[1],s:R[2],v:R[3]}:(R=P.hsva.exec(E))?{h:R[1],s:R[2],v:R[3],a:R[4]}:(R=P.hex8.exec(E))?{r:le(R[1]),g:le(R[2]),b:le(R[3]),a:he(R[4]),format:K?"name":"hex8"}:(R=P.hex6.exec(E))?{r:le(R[1]),g:le(R[2]),b:le(R[3]),format:K?"name":"hex"}:(R=P.hex4.exec(E))?{r:le(R[1]+""+R[1]),g:le(R[2]+""+R[2]),b:le(R[3]+""+R[3]),a:he(R[4]+""+R[4]),format:K?"name":"hex8"}:(R=P.hex3.exec(E))?{r:le(R[1]+""+R[1]),g:le(R[2]+""+R[2]),b:le(R[3]+""+R[3]),format:K?"name":"hex"}:!1}function G(E){var K,R;return E=E||{level:"AA",size:"small"},K=(E.level||"AA").toUpperCase(),R=(E.size||"small").toLowerCase(),K!=="AA"&&K!=="AAA"&&(K="AA"),R!=="small"&&R!=="large"&&(R="small"),{level:K,size:R}}i.exports?i.exports=y:(o=function(){return y}.call(s,a,s,i),o!==void 0&&(i.exports=o))})(Math)},1401:function(i,s,a){var o=a(6834),c=a(7976),l=o.instance();function u(L){this.local=this.regionalOptions[L||""]||this.regionalOptions[""]}u.prototype=new o.baseCalendar,c(u.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(L,_){if(typeof L=="string"){var D=L.match(h);return D?D[0]:""}var C=this._validateYear(L),z=L.month(),b=""+this.toChineseMonth(C,z);return _&&b.length<2&&(b="0"+b),this.isIntercalaryMonth(C,z)&&(b+="i"),b},monthNames:function(L){if(typeof L=="string"){var _=L.match(p);return _?_[0]:""}var D=this._validateYear(L),C=L.month(),z=this.toChineseMonth(D,C),b=["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"][z-1];return this.isIntercalaryMonth(D,C)&&(b="\u95F0"+b),b},monthNamesShort:function(L){if(typeof L=="string"){var _=L.match(m);return _?_[0]:""}var D=this._validateYear(L),C=L.month(),z=this.toChineseMonth(D,C),b=["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"][z-1];return this.isIntercalaryMonth(D,C)&&(b="\u95F0"+b),b},parseMonth:function(L,_){L=this._validateYear(L);var D=parseInt(_),C;if(isNaN(D))_[0]==="\u95F0"&&(C=!0,_=_.substring(1)),_[_.length-1]==="\u6708"&&(_=_.substring(0,_.length-1)),D=1+["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"].indexOf(_);else{var z=_[_.length-1];C=z==="i"||z==="I"}var b=this.toMonthIndex(L,D,C);return b},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(L,_){if(L.year&&(L=L.year()),typeof L!="number"||L<1888||L>2111)throw _.replace(/\{0\}/,this.local.name);return L},toMonthIndex:function(L,_,D){var C=this.intercalaryMonth(L),z=D&&_!==C;if(z||_<1||_>12)throw o.local.invalidMonth.replace(/\{0\}/,this.local.name);var b;return C?!D&&_<=C?b=_-1:b=_:b=_-1,b},toChineseMonth:function(L,_){L.year&&(L=L.year(),_=L.month());var D=this.intercalaryMonth(L),C=D?12:11;if(_<0||_>C)throw o.local.invalidMonth.replace(/\{0\}/,this.local.name);var z;return D?_<D?z=_+1:z=_:z=_+1,z},intercalaryMonth:function(L){L=this._validateYear(L);var _=d[L-d[0]],D=_>>13;return D},isIntercalaryMonth:function(L,_){L.year&&(L=L.year(),_=L.month());var D=this.intercalaryMonth(L);return!!D&&D===_},leapYear:function(L){return this.intercalaryMonth(L)!==0},weekOfYear:function(L,_,D){var C=this._validateYear(L,o.local.invalidyear),z=y[C-y[0]],b=z>>9&4095,S=z>>5&15,M=z&31,I;I=l.newDate(b,S,M),I.add(4-(I.dayOfWeek()||7),"d");var T=this.toJD(L,_,D)-I.toJD();return 1+Math.floor(T/7)},monthsInYear:function(L){return this.leapYear(L)?13:12},daysInMonth:function(L,_){L.year&&(_=L.month(),L=L.year()),L=this._validateYear(L);var D=d[L-d[0]],C=D>>13,z=C?12:11;if(_>z)throw o.local.invalidMonth.replace(/\{0\}/,this.local.name);var b=D&1<<12-_?30:29;return b},weekDay:function(L,_,D){return(this.dayOfWeek(L,_,D)||7)<6},toJD:function(L,_,D){var C=this._validate(L,b,D,o.local.invalidDate);L=this._validateYear(C.year()),_=C.month(),D=C.day();var z=this.isIntercalaryMonth(L,_),b=this.toChineseMonth(L,_),S=w(L,b,D,z);return l.toJD(S.year,S.month,S.day)},fromJD:function(L){var _=l.fromJD(L),D=x(_.year(),_.month(),_.day()),C=this.toMonthIndex(D.year,D.month,D.isIntercalary);return this.newDate(D.year,C,D.day)},fromString:function(L){var _=L.match(f),D=this._validateYear(+_[1]),C=+_[2],z=!!_[3],b=this.toMonthIndex(D,C,z),S=+_[4];return this.newDate(D,b,S)},add:function(L,_,D){var C=L.year(),z=L.month(),b=this.isIntercalaryMonth(C,z),S=this.toChineseMonth(C,z),M=Object.getPrototypeOf(u.prototype).add.call(this,L,_,D);if(D==="y"){var I=M.year(),T=M.month(),B=this.isIntercalaryMonth(I,S),H=b&&B?this.toMonthIndex(I,S,!0):this.toMonthIndex(I,S,!1);H!==T&&M.month(H)}return M}});var f=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,h=/^\d?\d[iI]?/m,p=/^闰?十?[一二三四五六七八九]?月/m,m=/^闰?十?[一二三四五六七八九]?/m;o.calendars.chinese=u;var d=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],y=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function x(L,_,D,C){var z,b;if(typeof L=="object")z=L,b=_||{};else{var S=typeof L=="number"&&L>=1888&&L<=2111;if(!S)throw new Error("Solar year outside range 1888-2111");var M=typeof _=="number"&&_>=1&&_<=12;if(!M)throw new Error("Solar month outside range 1 - 12");var I=typeof D=="number"&&D>=1&&D<=31;if(!I)throw new Error("Solar day outside range 1 - 31");z={year:L,month:_,day:D},b=C||{}}var T=y[z.year-y[0]],B=z.year<<9|z.month<<5|z.day;b.year=B>=T?z.year:z.year-1,T=y[b.year-y[0]];var H=T>>9&4095,Z=T>>5&15,$=T&31,N,j=new Date(H,Z-1,$),O=new Date(z.year,z.month-1,z.day);N=Math.round((O-j)/864e5);var X=d[b.year-d[0]],ie;for(ie=0;ie<13;ie++){var oe=X&1<<12-ie?30:29;if(N<oe)break;N-=oe}var V=X>>13;return!V||ie<V?(b.isIntercalary=!1,b.month=1+ie):ie===V?(b.isIntercalary=!0,b.month=ie):(b.isIntercalary=!1,b.month=ie),b.day=1+N,b}function w(L,_,D,C,z){var b,S;if(typeof L=="object")S=L,b=_||{};else{var M=typeof L=="number"&&L>=1888&&L<=2111;if(!M)throw new Error("Lunar year outside range 1888-2111");var I=typeof _=="number"&&_>=1&&_<=12;if(!I)throw new Error("Lunar month outside range 1 - 12");var T=typeof D=="number"&&D>=1&&D<=30;if(!T)throw new Error("Lunar day outside range 1 - 30");var B;typeof C=="object"?(B=!1,b=C):(B=!!C,b=z||{}),S={year:L,month:_,day:D,isIntercalary:B}}var H;H=S.day-1;var Z=d[S.year-d[0]],$=Z>>13,N;$&&(S.month>$||S.isIntercalary)?N=S.month:N=S.month-1;for(var j=0;j<N;j++){var O=Z&1<<12-j?30:29;H+=O}var X=y[S.year-y[0]],ie=X>>9&4095,oe=X>>5&15,V=X&31,W=new Date(ie,oe-1,V+H);return b.year=W.getFullYear(),b.month=1+W.getMonth(),b.day=W.getDate(),b}},2210:function(i,s,a){var o=a(6834),c=a(7976);function l(u){this.local=this.regionalOptions[u||""]||this.regionalOptions[""]}l.prototype=new o.baseCalendar,c(l.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(h){var f=this._validate(h,this.minMonth,this.minDay,o.local.invalidYear),h=f.year()+(f.year()<0?1:0);return h%4===3||h%4===-1},monthsInYear:function(u){return this._validate(u,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear),13},weekOfYear:function(u,f,h){var p=this.newDate(u,f,h);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(u,f){var h=this._validate(u,f,this.minDay,o.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(h.month()===13&&this.leapYear(h.year())?1:0)},weekDay:function(u,f,h){return(this.dayOfWeek(u,f,h)||7)<6},toJD:function(u,f,h){var p=this._validate(u,f,h,o.local.invalidDate);return u=p.year(),u<0&&u++,p.day()+(p.month()-1)*30+(u-1)*365+Math.floor(u/4)+this.jdEpoch-1},fromJD:function(u){var f=Math.floor(u)+.5-this.jdEpoch,h=Math.floor((f-Math.floor((f+366)/1461))/365)+1;h<=0&&h--,f=Math.floor(u)+.5-this.newDate(h,1,1).toJD();var p=Math.floor(f/30)+1,m=f-(p-1)*30+1;return this.newDate(h,p,m)}}),o.calendars.coptic=l},8569:function(i,s,a){var o=a(6834),c=a(7976);function l(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}l.prototype=new o.baseCalendar,c(l.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(f){return this._validate(f,this.minMonth,this.minDay,o.local.invalidYear),!1},monthsInYear:function(f){return this._validate(f,this.minMonth,this.minDay,o.local.invalidYear),13},daysInYear:function(f){return this._validate(f,this.minMonth,this.minDay,o.local.invalidYear),400},weekOfYear:function(f,h,p){var m=this.newDate(f,h,p);return m.add(-m.dayOfWeek(),"d"),Math.floor((m.dayOfYear()-1)/8)+1},daysInMonth:function(f,h){var p=this._validate(f,h,this.minDay,o.local.invalidMonth);return this.daysPerMonth[p.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(f,h,p){var m=this._validate(f,h,p,o.local.invalidDate);return(m.day()+1)%8},weekDay:function(f,h,p){var m=this.dayOfWeek(f,h,p);return m>=2&&m<=6},extraInfo:function(f,h,p){var m=this._validate(f,h,p,o.local.invalidDate);return{century:u[Math.floor((m.year()-1)/100)+1]||""}},toJD:function(f,h,p){var m=this._validate(f,h,p,o.local.invalidDate);return f=m.year()+(m.year()<0?1:0),h=m.month(),p=m.day(),p+(h>1?16:0)+(h>2?(h-2)*32:0)+(f-1)*400+this.jdEpoch-1},fromJD:function(f){f=Math.floor(f+.5)-Math.floor(this.jdEpoch)-1;var h=Math.floor(f/400)+1;f-=(h-1)*400,f+=f>15?16:0;var p=Math.floor(f/32)+1,m=f-(p-1)*32+1;return this.newDate(h<=0?h-1:h,p,m)}});var u={20:"Fruitbat",21:"Anchovy"};o.calendars.discworld=l},1133:function(i,s,a){var o=a(6834),c=a(7976);function l(u){this.local=this.regionalOptions[u||""]||this.regionalOptions[""]}l.prototype=new o.baseCalendar,c(l.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(h){var f=this._validate(h,this.minMonth,this.minDay,o.local.invalidYear),h=f.year()+(f.year()<0?1:0);return h%4===3||h%4===-1},monthsInYear:function(u){return this._validate(u,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear),13},weekOfYear:function(u,f,h){var p=this.newDate(u,f,h);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(u,f){var h=this._validate(u,f,this.minDay,o.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(h.month()===13&&this.leapYear(h.year())?1:0)},weekDay:function(u,f,h){return(this.dayOfWeek(u,f,h)||7)<6},toJD:function(u,f,h){var p=this._validate(u,f,h,o.local.invalidDate);return u=p.year(),u<0&&u++,p.day()+(p.month()-1)*30+(u-1)*365+Math.floor(u/4)+this.jdEpoch-1},fromJD:function(u){var f=Math.floor(u)+.5-this.jdEpoch,h=Math.floor((f-Math.floor((f+366)/1461))/365)+1;h<=0&&h--,f=Math.floor(u)+.5-this.newDate(h,1,1).toJD();var p=Math.floor(f/30)+1,m=f-(p-1)*30+1;return this.newDate(h,p,m)}}),o.calendars.ethiopian=l},8295:function(i,s,a){var o=a(6834),c=a(7976);function l(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}l.prototype=new o.baseCalendar,c(l.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(f){var h=this._validate(f,this.minMonth,this.minDay,o.local.invalidYear);return this._leapYear(h.year())},_leapYear:function(f){return f=f<0?f+1:f,u(f*7+1,19)<7},monthsInYear:function(f){return this._validate(f,this.minMonth,this.minDay,o.local.invalidYear),this._leapYear(f.year?f.year():f)?13:12},weekOfYear:function(f,h,p){var m=this.newDate(f,h,p);return m.add(-m.dayOfWeek(),"d"),Math.floor((m.dayOfYear()-1)/7)+1},daysInYear:function(f){var h=this._validate(f,this.minMonth,this.minDay,o.local.invalidYear);return f=h.year(),this.toJD(f===-1?1:f+1,7,1)-this.toJD(f,7,1)},daysInMonth:function(f,h){return f.year&&(h=f.month(),f=f.year()),this._validate(f,h,this.minDay,o.local.invalidMonth),h===12&&this.leapYear(f)||h===8&&u(this.daysInYear(f),10)===5?30:h===9&&u(this.daysInYear(f),10)===3?29:this.daysPerMonth[h-1]},weekDay:function(f,h,p){return this.dayOfWeek(f,h,p)!==6},extraInfo:function(f,h,p){var m=this._validate(f,h,p,o.local.invalidDate);return{yearType:(this.leapYear(m)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(m)%10-3]}},toJD:function(f,h,p){var m=this._validate(f,h,p,o.local.invalidDate);f=m.year(),h=m.month(),p=m.day();var d=f<=0?f+1:f,y=this.jdEpoch+this._delay1(d)+this._delay2(d)+p+1;if(h<7){for(var x=7;x<=this.monthsInYear(f);x++)y+=this.daysInMonth(f,x);for(var x=1;x<h;x++)y+=this.daysInMonth(f,x)}else for(var x=7;x<h;x++)y+=this.daysInMonth(f,x);return y},_delay1:function(f){var h=Math.floor((235*f-234)/19),p=12084+13753*h,m=h*29+Math.floor(p/25920);return u(3*(m+1),7)<3&&m++,m},_delay2:function(f){var h=this._delay1(f-1),p=this._delay1(f),m=this._delay1(f+1);return m-p===356?2:p-h===382?1:0},fromJD:function(f){f=Math.floor(f)+.5;for(var h=Math.floor((f-this.jdEpoch)*98496/35975351)-1;f>=this.toJD(h===-1?1:h+1,7,1);)h++;for(var p=f<this.toJD(h,1,1)?7:1;f>this.toJD(h,p,this.daysInMonth(h,p));)p++;var m=f-this.toJD(h,p,1)+1;return this.newDate(h,p,m)}});function u(f,h){return f-h*Math.floor(f/h)}o.calendars.hebrew=l},5512:function(i,s,a){var o=a(6834),c=a(7976);function l(u){this.local=this.regionalOptions[u||""]||this.regionalOptions[""]}l.prototype=new o.baseCalendar,c(l.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012Bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(u){var f=this._validate(u,this.minMonth,this.minDay,o.local.invalidYear);return(f.year()*11+14)%30<11},weekOfYear:function(u,f,h){var p=this.newDate(u,f,h);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(u){return this.leapYear(u)?355:354},daysInMonth:function(u,f){var h=this._validate(u,f,this.minDay,o.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(h.month()===12&&this.leapYear(h.year())?1:0)},weekDay:function(u,f,h){return this.dayOfWeek(u,f,h)!==5},toJD:function(u,f,h){var p=this._validate(u,f,h,o.local.invalidDate);return u=p.year(),f=p.month(),h=p.day(),u=u<=0?u+1:u,h+Math.ceil(29.5*(f-1))+(u-1)*354+Math.floor((3+11*u)/30)+this.jdEpoch-1},fromJD:function(u){u=Math.floor(u)+.5;var f=Math.floor((30*(u-this.jdEpoch)+10646)/10631);f=f<=0?f-1:f;var h=Math.min(12,Math.ceil((u-29-this.toJD(f,1,1))/29.5)+1),p=u-this.toJD(f,h,1)+1;return this.newDate(f,h,p)}}),o.calendars.islamic=l},2645:function(i,s,a){var o=a(6834),c=a(7976);function l(u){this.local=this.regionalOptions[u||""]||this.regionalOptions[""]}l.prototype=new o.baseCalendar,c(l.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(h){var f=this._validate(h,this.minMonth,this.minDay,o.local.invalidYear),h=f.year()<0?f.year()+1:f.year();return h%4===0},weekOfYear:function(u,f,h){var p=this.newDate(u,f,h);return p.add(4-(p.dayOfWeek()||7),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(u,f){var h=this._validate(u,f,this.minDay,o.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(h.month()===2&&this.leapYear(h.year())?1:0)},weekDay:function(u,f,h){return(this.dayOfWeek(u,f,h)||7)<6},toJD:function(u,f,h){var p=this._validate(u,f,h,o.local.invalidDate);return u=p.year(),f=p.month(),h=p.day(),u<0&&u++,f<=2&&(u--,f+=12),Math.floor(365.25*(u+4716))+Math.floor(30.6001*(f+1))+h-1524.5},fromJD:function(u){var f=Math.floor(u+.5),h=f+1524,p=Math.floor((h-122.1)/365.25),m=Math.floor(365.25*p),d=Math.floor((h-m)/30.6001),y=d-Math.floor(d<14?1:13),x=p-Math.floor(y>2?4716:4715),w=h-m-Math.floor(30.6001*d);return x<=0&&x--,this.newDate(x,y,w)}}),o.calendars.julian=l},2324:function(i,s,a){var o=a(6834),c=a(7976);function l(h){this.local=this.regionalOptions[h||""]||this.regionalOptions[""]}l.prototype=new o.baseCalendar,c(l.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(h){return this._validate(h,this.minMonth,this.minDay,o.local.invalidYear),!1},formatYear:function(h){var p=this._validate(h,this.minMonth,this.minDay,o.local.invalidYear);h=p.year();var m=Math.floor(h/400);h=h%400,h+=h<0?400:0;var d=Math.floor(h/20);return m+"."+d+"."+h%20},forYear:function(h){if(h=h.split("."),h.length<3)throw"Invalid Mayan year";for(var p=0,m=0;m<h.length;m++){var d=parseInt(h[m],10);if(Math.abs(d)>19||m>0&&d<0)throw"Invalid Mayan year";p=p*20+d}return p},monthsInYear:function(h){return this._validate(h,this.minMonth,this.minDay,o.local.invalidYear),18},weekOfYear:function(h,p,m){return this._validate(h,p,m,o.local.invalidDate),0},daysInYear:function(h){return this._validate(h,this.minMonth,this.minDay,o.local.invalidYear),360},daysInMonth:function(h,p){return this._validate(h,p,this.minDay,o.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(h,p,m){var d=this._validate(h,p,m,o.local.invalidDate);return d.day()},weekDay:function(h,p,m){return this._validate(h,p,m,o.local.invalidDate),!0},extraInfo:function(h,p,m){var d=this._validate(h,p,m,o.local.invalidDate),y=d.toJD(),x=this._toHaab(y),w=this._toTzolkin(y);return{haabMonthName:this.local.haabMonths[x[0]-1],haabMonth:x[0],haabDay:x[1],tzolkinDayName:this.local.tzolkinMonths[w[0]-1],tzolkinDay:w[0],tzolkinTrecena:w[1]}},_toHaab:function(h){h-=this.jdEpoch;var p=u(h+8+17*20,365);return[Math.floor(p/20)+1,u(p,20)]},_toTzolkin:function(h){return h-=this.jdEpoch,[f(h+20,20),f(h+4,13)]},toJD:function(h,p,m){var d=this._validate(h,p,m,o.local.invalidDate);return d.day()+d.month()*20+d.year()*360+this.jdEpoch},fromJD:function(h){h=Math.floor(h)+.5-this.jdEpoch;var p=Math.floor(h/360);h=h%360,h+=h<0?360:0;var m=Math.floor(h/20),d=h%20;return this.newDate(p,m,d)}});function u(h,p){return h-p*Math.floor(h/p)}function f(h,p){return u(h-1,p)+1}o.calendars.mayan=l},1662:function(i,s,a){var o=a(6834),c=a(7976);function l(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}l.prototype=new o.baseCalendar;var u=o.instance("gregorian");c(l.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(f){var h=this._validate(f,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear);return u.leapYear(h.year()+(h.year()<1?1:0)+1469)},weekOfYear:function(f,h,p){var m=this.newDate(f,h,p);return m.add(1-(m.dayOfWeek()||7),"d"),Math.floor((m.dayOfYear()-1)/7)+1},daysInMonth:function(f,h){var p=this._validate(f,h,this.minDay,o.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(f,h,p){return(this.dayOfWeek(f,h,p)||7)<6},toJD:function(d,h,p){var m=this._validate(d,h,p,o.local.invalidMonth),d=m.year();d<0&&d++;for(var y=m.day(),x=1;x<m.month();x++)y+=this.daysPerMonth[x-1];return y+u.toJD(d+1468,3,13)},fromJD:function(f){f=Math.floor(f+.5);for(var h=Math.floor((f-(this.jdEpoch-1))/366);f>=this.toJD(h+1,1,1);)h++;for(var p=f-Math.floor(this.toJD(h,1,1)+.5)+1,m=1;p>this.daysInMonth(h,m);)p-=this.daysInMonth(h,m),m++;return this.newDate(h,m,p)}}),o.calendars.nanakshahi=l},6445:function(i,s,a){var o=a(6834),c=a(7976);function l(u){this.local=this.regionalOptions[u||""]||this.regionalOptions[""]}l.prototype=new o.baseCalendar,c(l.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(u){return this.daysInYear(u)!==this.daysPerYear},weekOfYear:function(u,f,h){var p=this.newDate(u,f,h);return p.add(-p.dayOfWeek(),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInYear:function(u){var f=this._validate(u,this.minMonth,this.minDay,o.local.invalidYear);if(u=f.year(),typeof this.NEPALI_CALENDAR_DATA[u]>"u")return this.daysPerYear;for(var h=0,p=this.minMonth;p<=12;p++)h+=this.NEPALI_CALENDAR_DATA[u][p];return h},daysInMonth:function(u,f){return u.year&&(f=u.month(),u=u.year()),this._validate(u,f,this.minDay,o.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[u]>"u"?this.daysPerMonth[f-1]:this.NEPALI_CALENDAR_DATA[u][f]},weekDay:function(u,f,h){return this.dayOfWeek(u,f,h)!==6},toJD:function(u,f,h){var p=this._validate(u,f,h,o.local.invalidDate);u=p.year(),f=p.month(),h=p.day();var m=o.instance(),d=0,y=f,x=u;this._createMissingCalendarData(u);var w=u-(y>9||y===9&&h>=this.NEPALI_CALENDAR_DATA[x][0]?56:57);for(f!==9&&(d=h,y--);y!==9;)y<=0&&(y=12,x--),d+=this.NEPALI_CALENDAR_DATA[x][y],y--;return f===9?(d+=h-this.NEPALI_CALENDAR_DATA[x][0],d<0&&(d+=m.daysInYear(w))):d+=this.NEPALI_CALENDAR_DATA[x][9]-this.NEPALI_CALENDAR_DATA[x][0],m.newDate(w,1,1).add(d,"d").toJD()},fromJD:function(u){var f=o.instance(),h=f.fromJD(u),p=h.year(),m=h.dayOfYear(),d=p+56;this._createMissingCalendarData(d);for(var y=9,x=this.NEPALI_CALENDAR_DATA[d][0],w=this.NEPALI_CALENDAR_DATA[d][y]-x+1;m>w;)y++,y>12&&(y=1,d++),w+=this.NEPALI_CALENDAR_DATA[d][y];var L=this.NEPALI_CALENDAR_DATA[d][y]-(w-m);return this.newDate(d,y,L)},_createMissingCalendarData:function(u){var f=this.daysPerMonth.slice(0);f.unshift(17);for(var h=u-1;h<u+2;h++)typeof this.NEPALI_CALENDAR_DATA[h]>"u"&&(this.NEPALI_CALENDAR_DATA[h]=f)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),o.calendars.nepali=l},506:function(i,s,a){var o=a(6834),c=a(7976);function l(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}l.prototype=new o.baseCalendar,c(l.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xE6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xE6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(f){var h=this._validate(f,this.minMonth,this.minDay,o.local.invalidYear);return((h.year()-(h.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(f,h,p){var m=this.newDate(f,h,p);return m.add(-((m.dayOfWeek()+1)%7),"d"),Math.floor((m.dayOfYear()-1)/7)+1},daysInMonth:function(f,h){var p=this._validate(f,h,this.minDay,o.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===12&&this.leapYear(p.year())?1:0)},weekDay:function(f,h,p){return this.dayOfWeek(f,h,p)!==5},toJD:function(f,h,p){var m=this._validate(f,h,p,o.local.invalidDate);f=m.year(),h=m.month(),p=m.day();var d=f-(f>=0?474:473),y=474+u(d,2820);return p+(h<=7?(h-1)*31:(h-1)*30+6)+Math.floor((y*682-110)/2816)+(y-1)*365+Math.floor(d/2820)*1029983+this.jdEpoch-1},fromJD:function(f){f=Math.floor(f)+.5;var h=f-this.toJD(475,1,1),p=Math.floor(h/1029983),m=u(h,1029983),d=2820;if(m!==1029982){var y=Math.floor(m/366),x=u(m,366);d=Math.floor((2134*y+2816*x+2815)/1028522)+y+1}var w=d+2820*p+474;w=w<=0?w-1:w;var L=f-this.toJD(w,1,1)+1,_=L<=186?Math.ceil(L/31):Math.ceil((L-6)/30),D=f-this.toJD(w,_,1)+1;return this.newDate(w,_,D)}});function u(f,h){return f-h*Math.floor(f/h)}o.calendars.persian=l,o.calendars.jalali=l},4756:function(i,s,a){var o=a(6834),c=a(7976),l=o.instance();function u(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}u.prototype=new o.baseCalendar,c(u.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(p){var h=this._validate(p,this.minMonth,this.minDay,o.local.invalidYear),p=this._t2gYear(h.year());return l.leapYear(p)},weekOfYear:function(d,h,p){var m=this._validate(d,this.minMonth,this.minDay,o.local.invalidYear),d=this._t2gYear(m.year());return l.weekOfYear(d,m.month(),m.day())},daysInMonth:function(f,h){var p=this._validate(f,h,this.minDay,o.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(f,h,p){return(this.dayOfWeek(f,h,p)||7)<6},toJD:function(d,h,p){var m=this._validate(d,h,p,o.local.invalidDate),d=this._t2gYear(m.year());return l.toJD(d,m.month(),m.day())},fromJD:function(f){var h=l.fromJD(f),p=this._g2tYear(h.year());return this.newDate(p,h.month(),h.day())},_t2gYear:function(f){return f+this.yearsOffset+(f>=-this.yearsOffset&&f<=-1?1:0)},_g2tYear:function(f){return f-this.yearsOffset-(f>=1&&f<=this.yearsOffset?1:0)}}),o.calendars.taiwan=u},1858:function(i,s,a){var o=a(6834),c=a(7976),l=o.instance();function u(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}u.prototype=new o.baseCalendar,c(u.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(p){var h=this._validate(p,this.minMonth,this.minDay,o.local.invalidYear),p=this._t2gYear(h.year());return l.leapYear(p)},weekOfYear:function(d,h,p){var m=this._validate(d,this.minMonth,this.minDay,o.local.invalidYear),d=this._t2gYear(m.year());return l.weekOfYear(d,m.month(),m.day())},daysInMonth:function(f,h){var p=this._validate(f,h,this.minDay,o.local.invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(f,h,p){return(this.dayOfWeek(f,h,p)||7)<6},toJD:function(d,h,p){var m=this._validate(d,h,p,o.local.invalidDate),d=this._t2gYear(m.year());return l.toJD(d,m.month(),m.day())},fromJD:function(f){var h=l.fromJD(f),p=this._g2tYear(h.year());return this.newDate(p,h.month(),h.day())},_t2gYear:function(f){return f-this.yearsOffset-(f>=1&&f<=this.yearsOffset?1:0)},_g2tYear:function(f){return f+this.yearsOffset+(f>=-this.yearsOffset&&f<=-1?1:0)}}),o.calendars.thai=u},7985:function(i,s,a){var o=a(6834),c=a(7976);function l(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}l.prototype=new o.baseCalendar,c(l.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012Bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(f){var h=this._validate(f,this.minMonth,this.minDay,o.local.invalidYear);return this.daysInYear(h.year())===355},weekOfYear:function(f,h,p){var m=this.newDate(f,h,p);return m.add(-m.dayOfWeek(),"d"),Math.floor((m.dayOfYear()-1)/7)+1},daysInYear:function(f){for(var h=0,p=1;p<=12;p++)h+=this.daysInMonth(f,p);return h},daysInMonth:function(f,h){for(var p=this._validate(f,h,this.minDay,o.local.invalidMonth),m=p.toJD()-24e5+.5,d=0,y=0;y<u.length;y++){if(u[y]>m)return u[d]-u[d-1];d++}return 30},weekDay:function(f,h,p){return this.dayOfWeek(f,h,p)!==5},toJD:function(f,h,p){var m=this._validate(f,h,p,o.local.invalidDate),d=12*(m.year()-1)+m.month()-15292,y=m.day()+u[d-1]-1;return y+24e5-.5},fromJD:function(f){for(var h=f-24e5+.5,p=0,m=0;m<u.length&&!(u[m]>h);m++)p++;var d=p+15292,y=Math.floor((d-1)/12),x=y+1,w=d-12*y,L=h-u[p-1]+1;return this.newDate(x,w,L)},isValid:function(f,h,p){var m=o.baseCalendar.prototype.isValid.apply(this,arguments);return m&&(f=f.year!=null?f.year:f,m=f>=1276&&f<=1500),m},_validate:function(f,h,p,m){var d=o.baseCalendar.prototype._validate.apply(this,arguments);if(d.year<1276||d.year>1500)throw m.replace(/\{0\}/,this.local.name);return d}}),o.calendars.ummalqura=l;var u=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},6834:function(i,s,a){var o=a(7976);function c(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}o(c.prototype,{instance:function(m,d){m=(m||"gregorian").toLowerCase(),d=d||"";var y=this._localCals[m+"-"+d];if(!y&&this.calendars[m]&&(y=new this.calendars[m](d),this._localCals[m+"-"+d]=y),!y)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,m);return y},newDate:function(m,d,y,x,w){return x=(m!=null&&m.year?m.calendar():typeof x=="string"?this.instance(x,w):x)||this.instance(),x.newDate(m,d,y)},substituteDigits:function(m){return function(d){return(d+"").replace(/[0-9]/g,function(y){return m[y]})}},substituteChineseDigits:function(m,d){return function(y){for(var x="",w=0;y>0;){var L=y%10;x=(L===0?"":m[L]+d[w])+x,w++,y=Math.floor(y/10)}return x.indexOf(m[1]+d[1])===0&&(x=x.substr(1)),x||m[0]}}});function l(m,d,y,x){if(this._calendar=m,this._year=d,this._month=y,this._day=x,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function u(m,d){return m=""+m,"000000".substring(0,d-m.length)+m}o(l.prototype,{newDate:function(m,d,y){return this._calendar.newDate(m??this,d,y)},year:function(m){return arguments.length===0?this._year:this.set(m,"y")},month:function(m){return arguments.length===0?this._month:this.set(m,"m")},day:function(m){return arguments.length===0?this._day:this.set(m,"d")},date:function(m,d,y){if(!this._calendar.isValid(m,d,y))throw(p.local.invalidDate||p.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=m,this._month=d,this._day=y,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(m,d){return this._calendar.add(this,m,d)},set:function(m,d){return this._calendar.set(this,m,d)},compareTo:function(m){if(this._calendar.name!==m._calendar.name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,m._calendar.local.name);var d=this._year!==m._year?this._year-m._year:this._month!==m._month?this.monthOfYear()-m.monthOfYear():this._day-m._day;return d===0?0:d<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(m){return this._calendar.fromJD(m)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(m){return this._calendar.fromJSDate(m)},toString:function(){return(this.year()<0?"-":"")+u(Math.abs(this.year()),4)+"-"+u(this.month(),2)+"-"+u(this.day(),2)}});function f(){this.shortYearCutoff="+10"}o(f.prototype,{_validateLevel:0,newDate:function(m,d,y){return m==null?this.today():(m.year&&(this._validate(m,d,y,p.local.invalidDate||p.regionalOptions[""].invalidDate),y=m.day(),d=m.month(),m=m.year()),new l(this,m,d,y))},today:function(){return this.fromJSDate(new Date)},epoch:function(m){var d=this._validate(m,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return d.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(m){var d=this._validate(m,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return(d.year()<0?"-":"")+u(Math.abs(d.year()),4)},monthsInYear:function(m){return this._validate(m,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),12},monthOfYear:function(m,d){var y=this._validate(m,d,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return(y.month()+this.monthsInYear(y)-this.firstMonth)%this.monthsInYear(y)+this.minMonth},fromMonthOfYear:function(m,d){var y=(d+this.firstMonth-2*this.minMonth)%this.monthsInYear(m)+this.minMonth;return this._validate(m,y,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth),y},daysInYear:function(m){var d=this._validate(m,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return this.leapYear(d)?366:365},dayOfYear:function(m,d,y){var x=this._validate(m,d,y,p.local.invalidDate||p.regionalOptions[""].invalidDate);return x.toJD()-this.newDate(x.year(),this.fromMonthOfYear(x.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(m,d,y){var x=this._validate(m,d,y,p.local.invalidDate||p.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(x))+2)%this.daysInWeek()},extraInfo:function(m,d,y){return this._validate(m,d,y,p.local.invalidDate||p.regionalOptions[""].invalidDate),{}},add:function(m,d,y){return this._validate(m,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate),this._correctAdd(m,this._add(m,d,y),d,y)},_add:function(m,d,y){if(this._validateLevel++,y==="d"||y==="w"){var x=m.toJD()+d*(y==="w"?this.daysInWeek():1),w=m.calendar().fromJD(x);return this._validateLevel--,[w.year(),w.month(),w.day()]}try{var L=m.year()+(y==="y"?d:0),_=m.monthOfYear()+(y==="m"?d:0),w=m.day(),D=function(b){for(;_<b.minMonth;)L--,_+=b.monthsInYear(L);for(var S=b.monthsInYear(L);_>S-1+b.minMonth;)L++,_-=S,S=b.monthsInYear(L)};y==="y"?(m.month()!==this.fromMonthOfYear(L,_)&&(_=this.newDate(L,m.month(),this.minDay).monthOfYear()),_=Math.min(_,this.monthsInYear(L)),w=Math.min(w,this.daysInMonth(L,this.fromMonthOfYear(L,_)))):y==="m"&&(D(this),w=Math.min(w,this.daysInMonth(L,this.fromMonthOfYear(L,_))));var C=[L,this.fromMonthOfYear(L,_),w];return this._validateLevel--,C}catch(z){throw this._validateLevel--,z}},_correctAdd:function(m,d,y,x){if(!this.hasYearZero&&(x==="y"||x==="m")&&(d[0]===0||m.year()>0!=d[0]>0)){var w={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[x],L=y<0?-1:1;d=this._add(m,y*w[0]+L*w[1],w[2])}return m.date(d[0],d[1],d[2])},set:function(m,d,y){this._validate(m,this.minMonth,this.minDay,p.local.invalidDate||p.regionalOptions[""].invalidDate);var x=y==="y"?d:m.year(),w=y==="m"?d:m.month(),L=y==="d"?d:m.day();return(y==="y"||y==="m")&&(L=Math.min(L,this.daysInMonth(x,w))),m.date(x,w,L)},isValid:function(m,d,y){this._validateLevel++;var x=this.hasYearZero||m!==0;if(x){var w=this.newDate(m,d,this.minDay);x=d>=this.minMonth&&d-this.minMonth<this.monthsInYear(w)&&y>=this.minDay&&y-this.minDay<this.daysInMonth(w)}return this._validateLevel--,x},toJSDate:function(m,d,y){var x=this._validate(m,d,y,p.local.invalidDate||p.regionalOptions[""].invalidDate);return p.instance().fromJD(this.toJD(x)).toJSDate()},fromJSDate:function(m){return this.fromJD(p.instance().fromJSDate(m).toJD())},_validate:function(m,d,y,x){if(m.year){if(this._validateLevel===0&&this.name!==m.calendar().name)throw(p.local.differentCalendars||p.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,m.calendar().local.name);return m}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(m,d,y))throw x.replace(/\{0\}/,this.local.name);var w=this.newDate(m,d,y);return this._validateLevel--,w}catch(L){throw this._validateLevel--,L}}});function h(m){this.local=this.regionalOptions[m]||this.regionalOptions[""]}h.prototype=new f,o(h.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(y){var d=this._validate(y,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),y=d.year()+(d.year()<0?1:0);return y%4===0&&(y%100!==0||y%400===0)},weekOfYear:function(m,d,y){var x=this.newDate(m,d,y);return x.add(4-(x.dayOfWeek()||7),"d"),Math.floor((x.dayOfYear()-1)/7)+1},daysInMonth:function(m,d){var y=this._validate(m,d,this.minDay,p.local.invalidMonth||p.regionalOptions[""].invalidMonth);return this.daysPerMonth[y.month()-1]+(y.month()===2&&this.leapYear(y.year())?1:0)},weekDay:function(m,d,y){return(this.dayOfWeek(m,d,y)||7)<6},toJD:function(m,d,y){var x=this._validate(m,d,y,p.local.invalidDate||p.regionalOptions[""].invalidDate);m=x.year(),d=x.month(),y=x.day(),m<0&&m++,d<3&&(d+=12,m--);var w=Math.floor(m/100),L=2-w+Math.floor(w/4);return Math.floor(365.25*(m+4716))+Math.floor(30.6001*(d+1))+y+L-1524.5},fromJD:function(m){var d=Math.floor(m+.5),y=Math.floor((d-186721625e-2)/36524.25);y=d+1+y-Math.floor(y/4);var x=y+1524,w=Math.floor((x-122.1)/365.25),L=Math.floor(365.25*w),_=Math.floor((x-L)/30.6001),D=x-L-Math.floor(_*30.6001),C=_-(_>13.5?13:1),z=w-(C>2.5?4716:4715);return z<=0&&z--,this.newDate(z,C,D)},toJSDate:function(m,d,y){var x=this._validate(m,d,y,p.local.invalidDate||p.regionalOptions[""].invalidDate),w=new Date(x.year(),x.month()-1,x.day());return w.setHours(0),w.setMinutes(0),w.setSeconds(0),w.setMilliseconds(0),w.setHours(w.getHours()>12?w.getHours()+2:0),w},fromJSDate:function(m){return this.newDate(m.getFullYear(),m.getMonth()+1,m.getDate())}});var p=i.exports=new c;p.cdate=l,p.baseCalendar=f,p.calendars.gregorian=h},3428:function(i,s,a){var o=a(7976),c=a(6834);o(c.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),c.local=c.regionalOptions[""],o(c.cdate.prototype,{formatDate:function(l,u){return typeof l!="string"&&(u=l,l=""),this._calendar.formatDate(l||"",this,u)}}),o(c.baseCalendar.prototype,{UNIX_EPOCH:c.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:c.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(l,u,f){if(typeof l!="string"&&(f=u,u=l,l=""),!u)return"";if(u.calendar()!==this)throw c.local.invalidFormat||c.regionalOptions[""].invalidFormat;l=l||this.local.dateFormat,f=f||{};for(var h=f.dayNamesShort||this.local.dayNamesShort,p=f.dayNames||this.local.dayNames,m=f.monthNumbers||this.local.monthNumbers,d=f.monthNamesShort||this.local.monthNamesShort,y=f.monthNames||this.local.monthNames,x=f.calculateWeek||this.local.calculateWeek,w=function(B,H){for(var Z=1;T+Z<l.length&&l.charAt(T+Z)===B;)Z++;return T+=Z-1,Math.floor(Z/(H||1))>1},L=function(B,H,Z,$){var N=""+H;if(w(B,$))for(;N.length<Z;)N="0"+N;return N},_=function(B,H,Z,$){return w(B)?$[H]:Z[H]},D=this,C=function(B){return typeof m=="function"?m.call(D,B,w("m")):S(L("m",B.month(),2))},z=function(B,H){return H?typeof y=="function"?y.call(D,B):y[B.month()-D.minMonth]:typeof d=="function"?d.call(D,B):d[B.month()-D.minMonth]},b=this.local.digits,S=function(B){return f.localNumbers&&b?b(B):B},M="",I=!1,T=0;T<l.length;T++)if(I)l.charAt(T)==="'"&&!w("'")?I=!1:M+=l.charAt(T);else switch(l.charAt(T)){case"d":M+=S(L("d",u.day(),2));break;case"D":M+=_("D",u.dayOfWeek(),h,p);break;case"o":M+=L("o",u.dayOfYear(),3);break;case"w":M+=L("w",u.weekOfYear(),2);break;case"m":M+=C(u);break;case"M":M+=z(u,w("M"));break;case"y":M+=w("y",2)?u.year():(u.year()%100<10?"0":"")+u.year()%100;break;case"Y":w("Y",2),M+=u.formatYear();break;case"J":M+=u.toJD();break;case"@":M+=(u.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":M+=(u.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":w("'")?M+="'":I=!0;break;default:M+=l.charAt(T)}return M},parseDate:function(l,u,f){if(u==null)throw c.local.invalidArguments||c.regionalOptions[""].invalidArguments;if(u=typeof u=="object"?u.toString():u+"",u==="")return null;l=l||this.local.dateFormat,f=f||{};var h=f.shortYearCutoff||this.shortYearCutoff;h=typeof h!="string"?h:this.today().year()%100+parseInt(h,10);for(var p=f.dayNamesShort||this.local.dayNamesShort,m=f.dayNames||this.local.dayNames,d=f.parseMonth||this.local.parseMonth,y=f.monthNumbers||this.local.monthNumbers,x=f.monthNamesShort||this.local.monthNamesShort,w=f.monthNames||this.local.monthNames,L=-1,_=-1,D=-1,C=-1,z=-1,b=!1,S=!1,M=function(ie,oe){for(var V=1;j+V<l.length&&l.charAt(j+V)===ie;)V++;return j+=V-1,Math.floor(V/(oe||1))>1},I=function(ie,oe){var V=M(ie,oe),W=[2,3,V?4:2,V?4:2,10,11,20]["oyYJ@!".indexOf(ie)+1],Y=new RegExp("^-?\\d{1,"+W+"}"),Q=u.substring(N).match(Y);if(!Q)throw(c.local.missingNumberAt||c.regionalOptions[""].missingNumberAt).replace(/\{0\}/,N);return N+=Q[0].length,parseInt(Q[0],10)},T=this,B=function(){if(typeof y=="function"){M("m");var ie=y.call(T,u.substring(N));return N+=ie.length,ie}return I("m")},H=function(ie,oe,V,W){for(var Y=M(ie,W)?V:oe,Q=0;Q<Y.length;Q++)if(u.substr(N,Y[Q].length).toLowerCase()===Y[Q].toLowerCase())return N+=Y[Q].length,Q+T.minMonth;throw(c.local.unknownNameAt||c.regionalOptions[""].unknownNameAt).replace(/\{0\}/,N)},Z=function(){if(typeof w=="function"){var ie=M("M")?w.call(T,u.substring(N)):x.call(T,u.substring(N));return N+=ie.length,ie}return H("M",x,w)},$=function(){if(u.charAt(N)!==l.charAt(j))throw(c.local.unexpectedLiteralAt||c.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,N);N++},N=0,j=0;j<l.length;j++)if(S)l.charAt(j)==="'"&&!M("'")?S=!1:$();else switch(l.charAt(j)){case"d":C=I("d");break;case"D":H("D",p,m);break;case"o":z=I("o");break;case"w":I("w");break;case"m":D=B();break;case"M":D=Z();break;case"y":var O=j;b=!M("y",2),j=O,_=I("y",2);break;case"Y":_=I("Y",2);break;case"J":L=I("J")+.5,u.charAt(N)==="."&&(N++,I("J"));break;case"@":L=I("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":L=I("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":N=u.length;break;case"'":M("'")?$():S=!0;break;default:$()}if(N<u.length)throw c.local.unexpectedText||c.regionalOptions[""].unexpectedText;if(_===-1?_=this.today().year():_<100&&b&&(_+=h===-1?1900:this.today().year()-this.today().year()%100-(_<=h?0:100)),typeof D=="string"&&(D=d.call(this,_,D)),z>-1){D=1,C=z;for(var X=this.daysInMonth(_,D);C>X;X=this.daysInMonth(_,D))D++,C-=X}return L>-1?this.fromJD(L):this.newDate(_,D,C)},determineDate:function(l,u,f,h,p){f&&typeof f!="object"&&(p=h,h=f,f=null),typeof h!="string"&&(p=h,h="");var m=this,d=function(y){try{return m.parseDate(h,y,p)}catch{}y=y.toLowerCase();for(var x=(y.match(/^c/)&&f?f.newDate():null)||m.today(),w=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,L=w.exec(y);L;)x.add(parseInt(L[1],10),L[2]||"d"),L=w.exec(y);return x};return u=u?u.newDate():null,l=l==null?u:typeof l=="string"?d(l):typeof l=="number"?isNaN(l)||l===1/0||l===-1/0?u:m.today().add(l,"d"):m.newDate(l),l}})},6144:function(i,s,a){"use strict";a.r(s);var o=a(5072),c=a.n(o),l=a(7825),u=a.n(l),f=a(7659),h=a.n(f),p=a(5056),m=a.n(p),d=a(540),y=a.n(d),x=a(1113),w=a.n(x),L=a(5955),_={};_.styleTagTransform=w(),_.setAttributes=m(),_.insert=h().bind(null,"head"),_.domAPI=u(),_.insertStyleElement=y();var D=c()(L.A,_);s.default=L.A&&L.A.locals?L.A.locals:void 0},5072:function(i){"use strict";var s=[];function a(l){for(var u=-1,f=0;f<s.length;f++)if(s[f].identifier===l){u=f;break}return u}function o(l,u){for(var f={},h=[],p=0;p<l.length;p++){var m=l[p],d=u.base?m[0]+u.base:m[0],y=f[d]||0,x="".concat(d," ").concat(y);f[d]=y+1;var w=a(x),L={css:m[1],media:m[2],sourceMap:m[3],supports:m[4],layer:m[5]};if(w!==-1)s[w].references++,s[w].updater(L);else{var _=c(L,u);u.byIndex=p,s.splice(p,0,{identifier:x,updater:_,references:1})}h.push(x)}return h}function c(l,u){var f=u.domAPI(u);f.update(l);var h=function(m){if(m){if(m.css===l.css&&m.media===l.media&&m.sourceMap===l.sourceMap&&m.supports===l.supports&&m.layer===l.layer)return;f.update(l=m)}else f.remove()};return h}i.exports=function(l,u){u=u||{},l=l||[];var f=o(l,u);return function(p){p=p||[];for(var m=0;m<f.length;m++){var d=f[m],y=a(d);s[y].references--}for(var x=o(p,u),w=0;w<f.length;w++){var L=f[w],_=a(L);s[_].references===0&&(s[_].updater(),s.splice(_,1))}f=x}}},7659:function(i){"use strict";var s={};function a(c){if(typeof s[c]>"u"){var l=document.querySelector(c);if(window.HTMLIFrameElement&&l instanceof window.HTMLIFrameElement)try{l=l.contentDocument.head}catch{l=null}s[c]=l}return s[c]}function o(c,l){var u=a(c);if(!u)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");u.appendChild(l)}i.exports=o},540:function(i){"use strict";function s(a){var o=document.createElement("style");return a.setAttributes(o,a.attributes),a.insert(o,a.options),o}i.exports=s},5056:function(i,s,a){"use strict";function o(c){var l=a.nc;l&&c.setAttribute("nonce",l)}i.exports=o},7825:function(i){"use strict";function s(c,l,u){var f="";u.supports&&(f+="@supports (".concat(u.supports,") {")),u.media&&(f+="@media ".concat(u.media," {"));var h=typeof u.layer<"u";h&&(f+="@layer".concat(u.layer.length>0?" ".concat(u.layer):""," {")),f+=u.css,h&&(f+="}"),u.media&&(f+="}"),u.supports&&(f+="}");var p=u.sourceMap;p&&typeof btoa<"u"&&(f+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(p))))," */")),l.styleTagTransform(f,c,l.options)}function a(c){if(c.parentNode===null)return!1;c.parentNode.removeChild(c)}function o(c){if(typeof document>"u")return{update:function(){},remove:function(){}};var l=c.insertStyleElement(c);return{update:function(f){s(l,c,f)},remove:function(){a(l)}}}i.exports=o},1113:function(i){"use strict";function s(a,o){if(o.styleSheet)o.styleSheet.cssText=a;else{for(;o.firstChild;)o.removeChild(o.firstChild);o.appendChild(document.createTextNode(a))}}i.exports=s},5446:function(i){"use strict";i.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2722%27 height=%2722%27 fill=%27%23333%27 viewBox=%270 0 22 22%27%3E%3Cpath d=%27m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0%27/%3E%3C/svg%3E"},6694:function(i){"use strict";i.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2722%27 height=%2722%27 fill=%27%2333b5e5%27 viewBox=%270 0 22 22%27%3E%3Cpath d=%27m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0%27/%3E%3C/svg%3E"},6117:function(i){"use strict";i.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2724%27 height=%2724%27 fill-rule=%27evenodd%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0%27/%3E%3C/svg%3E"},6311:function(i){"use strict";i.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2724%27 height=%2724%27 fill=%27%23fff%27 fill-rule=%27evenodd%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0%27/%3E%3C/svg%3E"},4420:function(i){"use strict";i.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23333%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3C/svg%3E"},7035:function(i){"use strict";i.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23333%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z%27/%3E%3C/svg%3E"},3470:function(i){"use strict";i.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23333%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5%27/%3E%3C/svg%3E"},3490:function(i){"use strict";i.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23333%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z%27/%3E%3C/svg%3E"},216:function(i){"use strict";i.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23333%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27m10.5 14 4-8 4 8z%27/%3E%3Cpath fill=%27%23ccc%27 d=%27m10.5 16 4 8 4-8z%27/%3E%3C/svg%3E"},7695:function(i){"use strict";i.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%2333b5e5%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7%27/%3E%3C/svg%3E"},2228:function(i){"use strict";i.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%2333b5e5%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3C/svg%3E"},3737:function(i){"use strict";i.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23666%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3Cpath fill=%27red%27 d=%27m14 5 1 1-9 9-1-1z%27/%3E%3C/svg%3E"},8460:function(i){"use strict";i.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23999%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3Cpath fill=%27red%27 d=%27m14 5 1 1-9 9-1-1z%27/%3E%3C/svg%3E"},5796:function(i){"use strict";i.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23aaa%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3Cpath fill=%27red%27 d=%27m14 5 1 1-9 9-1-1z%27/%3E%3C/svg%3E"},8869:function(i){"use strict";i.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23e54e33%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7%27/%3E%3C/svg%3E"},9819:function(i){"use strict";i.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23e58978%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3C/svg%3E"},557:function(i){"use strict";i.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23fff%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3C/svg%3E"},8164:function(i){"use strict";i.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23fff%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z%27/%3E%3C/svg%3E"},4665:function(i){"use strict";i.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23fff%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5%27/%3E%3C/svg%3E"},1413:function(i){"use strict";i.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23fff%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z%27/%3E%3C/svg%3E"},3913:function(i){"use strict";i.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23fff%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z%27/%3E%3C/svg%3E"},1907:function(i){"use strict";i.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 fill=%27%23fff%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27m10.5 14 4-8 4 8z%27/%3E%3Cpath fill=%27%23ccc%27 d=%27m10.5 16 4 8 4-8z%27/%3E%3C/svg%3E"},8920:function(i){"use strict";i.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 viewBox=%270 0 20 20%27%3E%3Cpath d=%27M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7%27/%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%272%27/%3E%3C/svg%3E"},4890:function(i){"use strict";i.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z%27/%3E%3C/svg%3E"},3363:function(i){"use strict";i.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5%27/%3E%3C/svg%3E"},7603:function(i){"use strict";i.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z%27/%3E%3C/svg%3E"},4643:function(i){"use strict";i.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z%27/%3E%3C/svg%3E"},8605:function(i){"use strict";i.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2729%27 height=%2729%27 viewBox=%270 0 29 29%27%3E%3Cpath d=%27m10.5 14 4-8 4 8z%27/%3E%3Cpath fill=%27%23ccc%27 d=%27m10.5 16 4 8 4-8z%27/%3E%3C/svg%3E"},7914:function(i){"use strict";i.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2788%27 height=%2723%27 fill=%27none%27%3E%3Cpath fill=%27%23000%27 fill-opacity=%27.4%27 fill-rule=%27evenodd%27 d=%27M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z%27/%3E%3Cpath fill=%27%23fff%27 d=%27m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z%27/%3E%3Cpath fill=%27%23e1e3e9%27 d=%27M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z%27/%3E%3Cpath d=%27M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z%27 style=%27fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001%27/%3E%3Cg style=%27stroke-width:1.12603545%27%3E%3Cpath d=%27M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668%27 style=%27color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto%27 transform=%27translate%2815.553 2.85%29scale%28.88807%29%27/%3E%3Cpath d=%27M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3%27 style=%27clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4%27 transform=%27translate%2815.553 2.85%29scale%28.88807%29%27/%3E%3Cpath d=%27M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z%27 style=%27clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4%27 transform=%27translate%2815.553 2.85%29scale%28.88807%29%27/%3E%3C/g%3E%3C/svg%3E"}},n={};function e(i){var s=n[i];if(s!==void 0)return s.exports;var a=n[i]={id:i,exports:{}};return t[i].call(a.exports,a,a.exports,e),a.exports}e.m=t,function(){e.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return e.d(s,{a:s}),s}}(),function(){e.d=function(i,s){for(var a in s)e.o(s,a)&&!e.o(i,a)&&Object.defineProperty(i,a,{enumerable:!0,get:s[a]})}}(),function(){e.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){e.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)}}(),function(){e.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})}}(),function(){e.b=document.baseURI||self.location.href;var i={792:0}}(),function(){e.nc=void 0}();var r=e(5611);return r}()})});function $M(t,n){return Object.is(t,n)}var ws=null,jd=!1,Gd=1,Z0=Symbol("SIGNAL");function Wi(t){let n=ws;return ws=t,n}function WM(){return ws}var eu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function $m(t){if(jd)throw new Error("");if(ws===null)return;ws.consumerOnSignalRead(t);let n=ws.nextProducerIndex++;if(Zd(ws),n<ws.producerNode.length&&ws.producerNode[n]!==t&&q6(ws)){let e=ws.producerNode[n];Yd(e,ws.producerIndexOfThis[n])}ws.producerNode[n]!==t&&(ws.producerNode[n]=t,ws.producerIndexOfThis[n]=q6(ws)?KM(t,ws,n):0),ws.producerLastReadVersion[n]=t.version}function EO(){Gd++}function YM(t){if(!(q6(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Gd)){if(!t.producerMustRecompute(t)&&!Ym(t)){t.dirty=!1,t.lastCleanEpoch=Gd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Gd}}function ZM(t){if(t.liveConsumerNode===void 0)return;let n=jd;jd=!0;try{for(let e of t.liveConsumerNode)e.dirty||IO(e)}finally{jd=n}}function XM(){return ws?.consumerAllowSignalWrites!==!1}function IO(t){t.dirty=!0,ZM(t),t.consumerMarkedDirty?.(t)}function Wd(t){return t&&(t.nextProducerIndex=0),Wi(t)}function Wm(t,n){if(Wi(n),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(q6(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)Yd(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ym(t){Zd(t);for(let n=0;n<t.producerNode.length;n++){let e=t.producerNode[n],r=t.producerLastReadVersion[n];if(r!==e.version||(YM(e),r!==e.version))return!0}return!1}function Zm(t){if(Zd(t),q6(t))for(let n=0;n<t.producerNode.length;n++)Yd(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function KM(t,n,e){if(QM(t),t.liveConsumerNode.length===0&&JM(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=KM(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(n)-1}function Yd(t,n){if(QM(t),t.liveConsumerNode.length===1&&JM(t))for(let r=0;r<t.producerNode.length;r++)Yd(t.producerNode[r],t.producerIndexOfThis[r]);let e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[n],i=t.liveConsumerNode[n];Zd(i),i.producerIndexOfThis[r]=n}}function q6(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Zd(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function QM(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function JM(t){return t.producerNode!==void 0}function qM(t){let n=Object.create(kO);n.computation=t;let e=()=>{if(YM(n),$m(n),n.value===$d)throw n.error;return n.value};return e[Z0]=n,e}var jm=Symbol("UNSET"),Gm=Symbol("COMPUTING"),$d=Symbol("ERRORED"),kO=pr(rn({},eu),{value:jm,dirty:!0,error:null,equal:$M,producerMustRecompute(t){return t.value===jm||t.value===Gm},producerRecomputeValue(t){if(t.value===Gm)throw new Error("Detected cycle in computations.");let n=t.value;t.value=Gm;let e=Wd(t),r;try{r=t.computation()}catch(i){r=$d,t.error=i}finally{Wm(t,e)}if(n!==jm&&n!==$d&&r!==$d&&t.equal(n,r)){t.value=n;return}t.value=r,t.version++}});function NO(){throw new Error}var ew=NO;function tw(){ew()}function nw(t){ew=t}var PO=null;function rw(t){let n=Object.create(aw);n.value=t;let e=()=>($m(n),n.value);return e[Z0]=n,e}function Xm(t,n){XM()||tw(),t.equal(t.value,n)||(t.value=n,RO(t))}function iw(t,n){XM()||tw(),Xm(t,n(t.value))}var aw=pr(rn({},eu),{equal:$M,value:void 0});function RO(t){t.version++,EO(),ZM(t),PO?.()}function _r(t){return typeof t=="function"}function H3(t){let e=t(r=>{Error.call(r),r.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Xd=H3(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function tc(t,n){if(t){let e=t.indexOf(n);0<=e&&t.splice(e,1)}}var Sa=class t{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let s of e)s.remove(this);else e.remove(this);let{initialTeardown:r}=this;if(_r(r))try{r()}catch(s){n=s instanceof Xd?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{sw(s)}catch(a){n=n??[],a instanceof Xd?n=[...n,...a.errors]:n.push(a)}}if(n)throw new Xd(n)}}add(n){var e;if(n&&n!==this)if(this.closed)sw(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}}_hasParent(n){let{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){let{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&tc(e,n)}remove(n){let{_finalizers:e}=this;e&&tc(e,n),n instanceof t&&n._removeParent(this)}};Sa.EMPTY=(()=>{let t=new Sa;return t.closed=!0,t})();var Km=Sa.EMPTY;function Kd(t){return t instanceof Sa||t&&"closed"in t&&_r(t.remove)&&_r(t.add)&&_r(t.unsubscribe)}function sw(t){_r(t)?t():t.unsubscribe()}var $1={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var U3={setTimeout(t,n,...e){let{delegate:r}=U3;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){let{delegate:n}=U3;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Qd(t){U3.setTimeout(()=>{let{onUnhandledError:n}=$1;if(n)n(t);else throw t})}function f0(){}var ow=Qm("C",void 0,void 0);function lw(t){return Qm("E",void 0,t)}function cw(t){return Qm("N",t,void 0)}function Qm(t,n,e){return{kind:t,value:n,error:e}}var nc=null;function j3(t){if($1.useDeprecatedSynchronousErrorHandling){let n=!nc;if(n&&(nc={errorThrown:!1,error:null}),t(),n){let{errorThrown:e,error:r}=nc;if(nc=null,e)throw r}}else t()}function uw(t){$1.useDeprecatedSynchronousErrorHandling&&nc&&(nc.errorThrown=!0,nc.error=t)}var rc=class extends Sa{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Kd(n)&&n.add(this)):this.destination=BO}static create(n,e,r){return new G3(n,e,r)}next(n){this.isStopped?qm(cw(n),this):this._next(n)}error(n){this.isStopped?qm(lw(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?qm(ow,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},OO=Function.prototype.bind;function Jm(t,n){return OO.call(t,n)}var e9=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){Jd(r)}}error(n){let{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){Jd(r)}else Jd(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){Jd(e)}}},G3=class extends rc{constructor(n,e,r){super();let i;if(_r(n)||!n)i={next:n??void 0,error:e??void 0,complete:r??void 0};else{let s;this&&$1.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Jm(n.next,s),error:n.error&&Jm(n.error,s),complete:n.complete&&Jm(n.complete,s)}):i=n}this.destination=new e9(i)}};function Jd(t){$1.useDeprecatedSynchronousErrorHandling?uw(t):Qd(t)}function FO(t){throw t}function qm(t,n){let{onStoppedNotification:e}=$1;e&&U3.setTimeout(()=>e(t,n))}var BO={closed:!0,next:f0,error:FO,complete:f0};var $3=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Go(t){return t}function t9(...t){return n9(t)}function n9(t){return t.length===0?Go:t.length===1?t[0]:function(e){return t.reduce((r,i)=>i(r),e)}}var ii=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){let r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,i){let s=HO(e)?e:new G3(e,r,i);return j3(()=>{let{operator:a,source:o}=this;s.add(a?a.call(s,o):o?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return r=fw(r),new r((i,s)=>{let a=new G3({next:o=>{try{e(o)}catch(c){s(c),a.unsubscribe()}},error:s,complete:i});this.subscribe(a)})}_subscribe(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)}[$3](){return this}pipe(...e){return n9(e)(this)}toPromise(e){return e=fw(e),new e((r,i)=>{let s;this.subscribe(a=>s=a,a=>i(a),()=>r(s))})}}return t.create=n=>new t(n),t})();function fw(t){var n;return(n=t??$1.Promise)!==null&&n!==void 0?n:Promise}function VO(t){return t&&_r(t.next)&&_r(t.error)&&_r(t.complete)}function HO(t){return t&&t instanceof rc||VO(t)&&Kd(t)}function r9(t){return _r(t?.lift)}function ci(t){return n=>{if(r9(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ai(t,n,e,r,i){return new i9(t,n,e,r,i)}var i9=class extends rc{constructor(n,e,r,i,s,a){super(n),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=e?function(o){try{e(o)}catch(c){n.error(c)}}:super._next,this._error=i?function(o){try{i(o)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(o){n.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function W3(){return ci((t,n)=>{let e=null;t._refCount++;let r=ai(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){e=null;return}let i=t._connection,s=e;e=null,i&&(!s||i===s)&&i.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}var X0=class extends ii{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,r9(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Sa;let e=this.getSubject();n.add(this.source.subscribe(ai(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Sa.EMPTY)}return n}refCount(){return W3()(this)}};var dw=H3(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var nr=(()=>{class t extends ii{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let r=new qd(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new dw}next(e){j3(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(e)}})}error(e){j3(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){j3(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Km:(this.currentObservers=null,s.push(e),new Sa(()=>{this.currentObservers=null,tc(s,e)}))}_checkFinalizedStatuses(e){let{hasError:r,thrownError:i,isStopped:s}=this;r?e.error(i):s&&e.complete()}asObservable(){let e=new ii;return e.source=this,e}}return t.create=(n,e)=>new qd(n,e),t})(),qd=class extends nr{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.next)===null||r===void 0||r.call(e,n)}error(n){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.error)===null||r===void 0||r.call(e,n)}complete(){var n,e;(e=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||e===void 0||e.call(n)}_subscribe(n){var e,r;return(r=(e=this.source)===null||e===void 0?void 0:e.subscribe(n))!==null&&r!==void 0?r:Km}};var _s=class extends nr{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){let{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var a9={now(){return(a9.delegate||Date).now()},delegate:void 0};var e8=class extends Sa{constructor(n,e){super()}schedule(n,e=0){return this}};var tu={setInterval(t,n,...e){let{delegate:r}=tu;return r?.setInterval?r.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){let{delegate:n}=tu;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};var t8=class extends e8{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var r;if(this.closed)return this;this.state=n;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,e)),this.pending=!0,this.delay=e,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,e),this}requestAsyncId(n,e,r=0){return tu.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,e,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return e;e!=null&&tu.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(n,e);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let r=!1,i;try{this.work(n)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:n,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,tc(r,this),n!=null&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}};var Y3=class t{constructor(n,e=t.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,r){return new this.schedulerActionCtor(this,n).schedule(r,e)}};Y3.now=a9.now;var n8=class extends Y3{constructor(n,e=Y3.now){super(n,e),this.actions=[],this._active=!1}flush(n){let{actions:e}=this;if(this._active){e.push(n);return}let r;this._active=!0;do if(r=n.execute(n.state,n.delay))break;while(n=e.shift());if(this._active=!1,r){for(;n=e.shift();)n.unsubscribe();throw r}}};var ic=new n8(t8),hw=ic;var fo=new ii(t=>t.complete());function r8(t){return t&&_r(t.schedule)}function s9(t){return t[t.length-1]}function i8(t){return _r(s9(t))?t.pop():void 0}function x2(t){return r8(s9(t))?t.pop():void 0}function pw(t,n){return typeof s9(t)=="number"?t.pop():n}function vw(t,n,e,r){function i(s){return s instanceof e?s:new e(function(a){a(s)})}return new(e||(e=Promise))(function(s,a){function o(u){try{l(r.next(u))}catch(f){a(f)}}function c(u){try{l(r.throw(u))}catch(f){a(f)}}function l(u){u.done?s(u.value):i(u.value).then(o,c)}l((r=r.apply(t,n||[])).next())})}function mw(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function ac(t){return this instanceof ac?(this.v=t,this):new ac(t)}function gw(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(t,n||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(p){return function(m){return Promise.resolve(m).then(p,f)}}function o(p,m){r[p]&&(i[p]=function(d){return new Promise(function(y,x){s.push([p,d,y,x])>1||c(p,d)})},m&&(i[p]=m(i[p])))}function c(p,m){try{l(r[p](m))}catch(d){h(s[0][3],d)}}function l(p){p.value instanceof ac?Promise.resolve(p.value.v).then(u,f):h(s[0][2],p)}function u(p){c("next",p)}function f(p){c("throw",p)}function h(p,m){p(m),s.shift(),s.length&&c(s[0][0],s[0][1])}}function yw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],e;return n?n.call(t):(t=typeof mw=="function"?mw(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(s){e[s]=t[s]&&function(a){return new Promise(function(o,c){a=t[s](a),i(o,c,a.done,a.value)})}}function i(s,a,o,c){Promise.resolve(c).then(function(l){s({value:l,done:o})},a)}}var Z3=t=>t&&typeof t.length=="number"&&typeof t!="function";function a8(t){return _r(t?.then)}function s8(t){return _r(t[$3])}function o8(t){return Symbol.asyncIterator&&_r(t?.[Symbol.asyncIterator])}function l8(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function UO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var c8=UO();function u8(t){return _r(t?.[c8])}function f8(t){return gw(this,arguments,function*(){let e=t.getReader();try{for(;;){let{value:r,done:i}=yield ac(e.read());if(i)return yield ac(void 0);yield yield ac(r)}}finally{e.releaseLock()}})}function d8(t){return _r(t?.getReader)}function ia(t){if(t instanceof ii)return t;if(t!=null){if(s8(t))return jO(t);if(Z3(t))return GO(t);if(a8(t))return $O(t);if(o8(t))return xw(t);if(u8(t))return WO(t);if(d8(t))return YO(t)}throw l8(t)}function jO(t){return new ii(n=>{let e=t[$3]();if(_r(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function GO(t){return new ii(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}function $O(t){return new ii(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,Qd)})}function WO(t){return new ii(n=>{for(let e of t)if(n.next(e),n.closed)return;n.complete()})}function xw(t){return new ii(n=>{ZO(t,n).catch(e=>n.error(e))})}function YO(t){return xw(f8(t))}function ZO(t,n){var e,r,i,s;return vw(this,void 0,void 0,function*(){try{for(e=yw(t);r=yield e.next(),!r.done;){let a=r.value;if(n.next(a),n.closed)return}}catch(a){i={error:a}}finally{try{r&&!r.done&&(s=e.return)&&(yield s.call(e))}finally{if(i)throw i.error}}n.complete()})}function Do(t,n,e,r=0,i=!1){let s=n.schedule(function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function h8(t,n=0){return ci((e,r)=>{e.subscribe(ai(r,i=>Do(r,t,()=>r.next(i),n),()=>Do(r,t,()=>r.complete(),n),i=>Do(r,t,()=>r.error(i),n)))})}function p8(t,n=0){return ci((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function bw(t,n){return ia(t).pipe(p8(n),h8(n))}function Cw(t,n){return ia(t).pipe(p8(n),h8(n))}function Mw(t,n){return new ii(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}function ww(t,n){return new ii(e=>{let r;return Do(e,n,()=>{r=t[c8](),Do(e,n,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(a){e.error(a);return}s?e.complete():e.next(i)},0,!0)}),()=>_r(r?.return)&&r.return()})}function m8(t,n){if(!t)throw new Error("Iterable cannot be null");return new ii(e=>{Do(e,n,()=>{let r=t[Symbol.asyncIterator]();Do(e,n,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function _w(t,n){return m8(f8(t),n)}function Sw(t,n){if(t!=null){if(s8(t))return bw(t,n);if(Z3(t))return Mw(t,n);if(a8(t))return Cw(t,n);if(o8(t))return m8(t,n);if(u8(t))return ww(t,n);if(d8(t))return _w(t,n)}throw l8(t)}function ba(t,n){return n?Sw(t,n):ia(t)}function Lr(...t){let n=x2(t);return ba(t,n)}function K0(t,n){let e=_r(t)?t:()=>t,r=i=>i.error(e());return new ii(n?i=>n.schedule(r,0,i):r)}function v8(t){return!!t&&(t instanceof ii||_r(t.lift)&&_r(t.subscribe))}var d0=H3(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Lw(t){return t instanceof Date&&!isNaN(t)}function jr(t,n){return ci((e,r)=>{let i=0;e.subscribe(ai(r,s=>{r.next(t.call(n,s,i++))}))})}var{isArray:XO}=Array;function KO(t,n){return XO(n)?t(...n):t(n)}function X3(t){return jr(n=>KO(t,n))}var{isArray:QO}=Array,{getPrototypeOf:JO,prototype:qO,keys:eF}=Object;function g8(t){if(t.length===1){let n=t[0];if(QO(n))return{args:n,keys:null};if(tF(n)){let e=eF(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}function tF(t){return t&&typeof t=="object"&&JO(t)===qO}function y8(t,n){return t.reduce((e,r,i)=>(e[r]=n[i],e),{})}function sc(...t){let n=x2(t),e=i8(t),{args:r,keys:i}=g8(t);if(r.length===0)return ba([],n);let s=new ii(nF(r,n,i?a=>y8(i,a):Go));return e?s.pipe(X3(e)):s}function nF(t,n,e=Go){return r=>{Dw(n,()=>{let{length:i}=t,s=new Array(i),a=i,o=i;for(let c=0;c<i;c++)Dw(n,()=>{let l=ba(t[c],n),u=!1;l.subscribe(ai(r,f=>{s[c]=f,u||(u=!0,o--),o||r.next(e(s.slice()))},()=>{--a||r.complete()}))},r)},r)}}function Dw(t,n,e){t?Do(e,t,n):n()}function Tw(t,n,e,r,i,s,a,o){let c=[],l=0,u=0,f=!1,h=()=>{f&&!c.length&&!l&&n.complete()},p=d=>l<r?m(d):c.push(d),m=d=>{s&&n.next(d),l++;let y=!1;ia(e(d,u++)).subscribe(ai(n,x=>{i?.(x),s?p(x):n.next(x)},()=>{y=!0},void 0,()=>{if(y)try{for(l--;c.length&&l<r;){let x=c.shift();a?Do(n,a,()=>m(x)):m(x)}h()}catch(x){n.error(x)}}))};return t.subscribe(ai(n,p,()=>{f=!0,h()})),()=>{o?.()}}function Ra(t,n,e=1/0){return _r(n)?Ra((r,i)=>jr((s,a)=>n(r,s,i,a))(ia(t(r,i))),e):(typeof n=="number"&&(e=n),ci((r,i)=>Tw(r,i,t,e)))}function Q0(t=1/0){return Ra(Go,t)}function Aw(){return Q0(1)}function b1(...t){return Aw()(ba(t,x2(t)))}function oc(t){return new ii(n=>{ia(t()).subscribe(n)})}function o9(...t){let n=i8(t),{args:e,keys:r}=g8(t),i=new ii(s=>{let{length:a}=e;if(!a){s.complete();return}let o=new Array(a),c=a,l=a;for(let u=0;u<a;u++){let f=!1;ia(e[u]).subscribe(ai(s,h=>{f||(f=!0,l--),o[u]=h},()=>c--,void 0,()=>{(!c||!f)&&(l||s.next(r?y8(r,o):o),s.complete())}))}});return n?i.pipe(X3(n)):i}var rF=["addListener","removeListener"],iF=["addEventListener","removeEventListener"],aF=["on","off"];function qs(t,n,e,r){if(_r(e)&&(r=e,e=void 0),r)return qs(t,n,e).pipe(X3(r));let[i,s]=lF(t)?iF.map(a=>o=>t[a](n,o,e)):sF(t)?rF.map(zw(t,n)):oF(t)?aF.map(zw(t,n)):[];if(!i&&Z3(t))return Ra(a=>qs(a,n,e))(ia(t));if(!i)throw new TypeError("Invalid event target");return new ii(a=>{let o=(...c)=>a.next(1<c.length?c:c[0]);return i(o),()=>s(o)})}function zw(t,n){return e=>r=>t[e](n,r)}function sF(t){return _r(t.addListener)&&_r(t.removeListener)}function oF(t){return _r(t.on)&&_r(t.off)}function lF(t){return _r(t.addEventListener)&&_r(t.removeEventListener)}function x8(t=0,n,e=hw){let r=-1;return n!=null&&(r8(n)?e=n:r=n),new ii(i=>{let s=Lw(t)?+t-e.now():t;s<0&&(s=0);let a=0;return e.schedule(function(){i.closed||(i.next(a++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function J0(...t){let n=x2(t),e=pw(t,1/0),r=t;return r.length?r.length===1?ia(r[0]):Q0(e)(ba(r,n)):fo}var lc=new ii(f0);function La(t,n){return ci((e,r)=>{let i=0;e.subscribe(ai(r,s=>t.call(n,s,i++)&&r.next(s)))})}function Ew(t){return ci((n,e)=>{let r=!1,i=null,s=null,a=!1,o=()=>{if(s?.unsubscribe(),s=null,r){r=!1;let l=i;i=null,e.next(l)}a&&e.complete()},c=()=>{s=null,a&&e.complete()};n.subscribe(ai(e,l=>{r=!0,i=l,s||ia(t(l)).subscribe(s=ai(e,o,c))},()=>{a=!0,(!r||!s||s.closed)&&e.complete()}))})}function b8(t,n=ic){return Ew(()=>x8(t,n))}function q0(t){return ci((n,e)=>{let r=null,i=!1,s;r=n.subscribe(ai(e,void 0,void 0,a=>{s=ia(t(a,q0(t)(n))),r?(r.unsubscribe(),r=null,s.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(e))})}function Iw(t,n,e,r,i){return(s,a)=>{let o=e,c=n,l=0;s.subscribe(ai(a,u=>{let f=l++;c=o?t(c,u,f):(o=!0,u),r&&a.next(c)},i&&(()=>{o&&a.next(c),a.complete()})))}}function cc(t,n){return _r(n)?Ra(t,n,1):Ra(t,1)}function kw(t){return new ii(n=>t.subscribe(n))}var cF={connector:()=>new nr};function C8(t,n=cF){let{connector:e}=n;return ci((r,i)=>{let s=e();ia(t(kw(s))).subscribe(i),i.add(r.subscribe(s))})}function l9(t,n=ic){return ci((e,r)=>{let i=null,s=null,a=null,o=()=>{if(i){i.unsubscribe(),i=null;let l=s;s=null,r.next(l)}};function c(){let l=a+t,u=n.now();if(u<l){i=this.schedule(void 0,l-u),r.add(i);return}o()}e.subscribe(ai(r,l=>{s=l,a=n.now(),i||(i=n.schedule(c,t),r.add(i))},()=>{o(),r.complete()},void 0,()=>{s=i=null}))})}function el(t){return ci((n,e)=>{let r=!1;n.subscribe(ai(e,i=>{r=!0,e.next(i)},()=>{r||e.next(t),e.complete()}))})}function za(t){return t<=0?()=>fo:ci((n,e)=>{let r=0;n.subscribe(ai(e,i=>{++r<=t&&(e.next(i),t<=r&&e.complete())}))})}function Nw(){return ci((t,n)=>{t.subscribe(ai(n,f0))})}function nu(t){return jr(()=>t)}function c9(t,n){return n?e=>b1(n.pipe(za(1),Nw()),e.pipe(c9(t))):Ra((e,r)=>ia(t(e,r)).pipe(za(1),nu(e)))}function u9(t,n=ic){let e=x8(t,n);return c9(()=>e)}function M8(t=uF){return ci((n,e)=>{let r=!1;n.subscribe(ai(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(t())))})}function uF(){return new d0}function ru(t){return ci((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function b2(t,n){let e=arguments.length>=2;return r=>r.pipe(t?La((i,s)=>t(i,s,r)):Go,za(1),e?el(n):M8(()=>new d0))}function K3(t){return t<=0?()=>fo:ci((n,e)=>{let r=[];n.subscribe(ai(e,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function f9(t,n){let e=arguments.length>=2;return r=>r.pipe(t?La((i,s)=>t(i,s,r)):Go,K3(1),e?el(n):M8(()=>new d0))}function Pw(t,n){let e=_r(t)?t:()=>t;return _r(n)?C8(n,{connector:e}):r=>new X0(r,e)}function d9(t){return t?n=>C8(t)(n):n=>Pw(new nr)(n)}function h9(t,n){return ci(Iw(t,n,arguments.length>=2,!0))}function p9(t){return La((n,e)=>t<=e)}function tl(...t){let n=x2(t);return ci((e,r)=>{(n?b1(t,e,n):b1(t,e)).subscribe(r)})}function ms(t,n){return ci((e,r)=>{let i=null,s=0,a=!1,o=()=>a&&!i&&r.complete();e.subscribe(ai(r,c=>{i?.unsubscribe();let l=0,u=s++;ia(t(c,u)).subscribe(i=ai(r,f=>r.next(n?n(c,f,u,l++):f),()=>{i=null,o()}))},()=>{a=!0,o()}))})}function er(t){return ci((n,e)=>{ia(t).subscribe(ai(e,()=>e.complete(),f0)),!e.closed&&n.subscribe(e)})}function Ss(t,n,e){let r=_r(t)||n||e?{next:t,error:n,complete:e}:t;return r?ci((i,s)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let o=!0;i.subscribe(ai(s,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),s.next(c)},()=>{var c;o=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var l;o=!1,(l=r.error)===null||l===void 0||l.call(r,c),s.error(c)},()=>{var c,l;o&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Go}var w_="https://g.co/ng/security#xss",jn=class extends Error{constructor(n,e){super(kv(n,e)),this.code=n}};function kv(t,n){return`${`NG0${Math.abs(t)}`}${n?": "+n:""}`}function pu(t){return{toString:t}.toString()}var w8="__parameters__";function fF(t){return function(...e){if(t){let r=t(...e);for(let i in r)this[i]=r[i]}}}function __(t,n,e){return pu(()=>{let r=fF(n);function i(...s){if(this instanceof i)return r.apply(this,s),this;let a=new i(...s);return o.annotation=a,o;function o(c,l,u){let f=c.hasOwnProperty(w8)?c[w8]:Object.defineProperty(c,w8,{value:[]})[w8];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(a),c}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Ys=globalThis;function Ca(t){for(let n in t)if(t[n]===Ca)return n;throw Error("Could not find renamed property on target object.")}function dF(t,n){for(let e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function po(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(po).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let n=t.toString();if(n==null)return""+n;let e=n.indexOf(`
`);return e===-1?n:n.substring(0,e)}function A9(t,n){return t==null||t===""?n===null?"":n:n==null||n===""?t:t+" "+n}var hF=Ca({__forward_ref__:Ca});function Io(t){return t.__forward_ref__=Io,t.toString=function(){return po(this())},t}function ho(t){return S_(t)?t():t}function S_(t){return typeof t=="function"&&t.hasOwnProperty(hF)&&t.__forward_ref__===Io}function nn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Kr(t){return{providers:t.providers||[],imports:t.imports||[]}}function l5(t){return Rw(t,D_)||Rw(t,T_)}function L_(t){return l5(t)!==null}function Rw(t,n){return t.hasOwnProperty(n)?t[n]:null}function pF(t){let n=t&&(t[D_]||t[T_]);return n||null}function Ow(t){return t&&(t.hasOwnProperty(Fw)||t.hasOwnProperty(mF))?t[Fw]:null}var D_=Ca({\u0275prov:Ca}),Fw=Ca({\u0275inj:Ca}),T_=Ca({ngInjectableDef:Ca}),mF=Ca({ngInjectorDef:Ca}),ir=class{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=nn({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function A_(t){return t&&!!t.\u0275providers}var vF=Ca({\u0275cmp:Ca}),gF=Ca({\u0275dir:Ca}),yF=Ca({\u0275pipe:Ca}),xF=Ca({\u0275mod:Ca}),R8=Ca({\u0275fac:Ca}),au=Ca({__NG_ELEMENT_ID__:Ca}),Bw=Ca({__NG_ENV_ID__:Ca});function Ao(t){return typeof t=="string"?t:t==null?"":String(t)}function bF(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ao(t)}function CF(t,n){let e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new jn(-200,t)}function Nv(t,n){throw new jn(-201,!1)}var Di=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Di||{}),z9;function z_(){return z9}function To(t){let n=z9;return z9=t,n}function E_(t,n,e){let r=l5(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(e&Di.Optional)return null;if(n!==void 0)return n;Nv(t,"Injector")}var MF={},ou=MF,E9="__NG_DI_FLAG__",O8="ngTempTokenPath",wF="ngTokenPath",_F=/\n/gm,SF="\u0275",Vw="__source",t4;function LF(){return t4}function nl(t){let n=t4;return t4=t,n}function DF(t,n=Di.Default){if(t4===void 0)throw new jn(-203,!1);return t4===null?E_(t,void 0,n):t4.get(t,n&Di.Optional?null:void 0,n)}function $t(t,n=Di.Default){return(z_()||DF)(ho(t),n)}function Hn(t,n=Di.Default){return $t(t,c5(n))}function c5(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function I9(t){let n=[];for(let e=0;e<t.length;e++){let r=ho(t[e]);if(Array.isArray(r)){if(r.length===0)throw new jn(900,!1);let i,s=Di.Default;for(let a=0;a<r.length;a++){let o=r[a],c=TF(o);typeof c=="number"?c===-1?i=o.token:s|=c:i=o}n.push($t(i,s))}else n.push($t(r))}return n}function I_(t,n){return t[E9]=n,t.prototype[E9]=n,t}function TF(t){return t[E9]}function AF(t,n,e,r){let i=t[O8];throw n[Vw]&&i.unshift(n[Vw]),t.message=zF(`
`+t.message,i,e,r),t[wF]=i,t[O8]=null,t}function zF(t,n,e,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==SF?t.slice(2):t;let i=po(n);if(Array.isArray(n))i=n.map(po).join(" -> ");else if(typeof n=="object"){let s=[];for(let a in n)if(n.hasOwnProperty(a)){let o=n[a];s.push(a+":"+(typeof o=="string"?JSON.stringify(o):po(o)))}i=`{${s.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${t.replace(_F,`
  `)}`}var u5=I_(__("Optional"),8);var Pv=I_(__("SkipSelf"),4);function dc(t,n){let e=t.hasOwnProperty(R8);return e?t[R8]:null}function EF(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=n[r];if(e&&(i=e(i),s=e(s)),s!==i)return!1}return!0}function IF(t){return t.flat(Number.POSITIVE_INFINITY)}function Rv(t,n){t.forEach(e=>Array.isArray(e)?Rv(e,n):n(e))}function k_(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function F8(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function kF(t,n){let e=[];for(let r=0;r<t;r++)e.push(n);return e}function NF(t,n,e,r){let i=t.length;if(i==n)t.push(e,r);else if(i===1)t.push(r,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>n;){let s=i-2;t[i]=t[s],i--}t[n]=e,t[n+1]=r}}function Ov(t,n,e){let r=mu(t,n);return r>=0?t[r|1]=e:(r=~r,NF(t,r,n,e)),r}function m9(t,n){let e=mu(t,n);if(e>=0)return t[e|1]}function mu(t,n){return PF(t,n,1)}function PF(t,n,e){let r=0,i=t.length>>e;for(;i!==r;){let s=r+(i-r>>1),a=t[s<<e];if(n===a)return s<<e;a>n?i=s:r=s+1}return~(i<<e)}var r4={},zo=[],i4=new ir(""),N_=new ir("",-1),P_=new ir(""),B8=class{get(n,e=ou){if(e===ou){let r=new Error(`NullInjectorError: No provider for ${po(n)}!`);throw r.name="NullInjectorError",r}return e}},R_=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(R_||{}),w2=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(w2||{}),al=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(al||{});function RF(t,n,e){let r=t.length;for(;;){let i=t.indexOf(n,e);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=n.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}e=i+1}}function k9(t,n,e){let r=0;for(;r<e.length;){let i=e[r];if(typeof i=="number"){if(i!==0)break;r++;let s=e[r++],a=e[r++],o=e[r++];t.setAttribute(n,a,o,s)}else{let s=i,a=e[++r];OF(s)?t.setProperty(n,s,a):t.setAttribute(n,s,a),r++}}return r}function O_(t){return t===3||t===4||t===6}function OF(t){return t.charCodeAt(0)===64}function lu(t,n){if(!(n===null||n.length===0))if(t===null||t.length===0)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?e=i:e===0||(e===-1||e===2?Hw(t,e,i,null,n[++r]):Hw(t,e,i,null,null))}}return t}function Hw(t,n,e,r,i){let s=0,a=t.length;if(n===-1)a=-1;else for(;s<t.length;){let o=t[s++];if(typeof o=="number"){if(o===n){a=-1;break}else if(o>n){a=s-1;break}}}for(;s<t.length;){let o=t[s];if(typeof o=="number")break;if(o===e){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}a!==-1&&(t.splice(a,0,n),s=a+1),t.splice(s++,0,e),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var F_="ng-template";function FF(t,n,e,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&RF(n[i+1].toLowerCase(),e,0)!==-1)return!0}else if(Fv(t))return!1;if(i=n.indexOf(1,i),i>-1){let s;for(;++i<n.length&&typeof(s=n[i])=="string";)if(s.toLowerCase()===e)return!0}return!1}function Fv(t){return t.type===4&&t.value!==F_}function BF(t,n,e){let r=t.type===4&&!e?F_:t.value;return n===r}function VF(t,n,e){let r=4,i=t.attrs,s=i!==null?jF(i):0,a=!1;for(let o=0;o<n.length;o++){let c=n[o];if(typeof c=="number"){if(!a&&!W1(r)&&!W1(c))return!1;if(a&&W1(c))continue;a=!1,r=c|r&1;continue}if(!a)if(r&4){if(r=2|r&1,c!==""&&!BF(t,c,e)||c===""&&n.length===1){if(W1(r))return!1;a=!0}}else if(r&8){if(i===null||!FF(t,i,c,e)){if(W1(r))return!1;a=!0}}else{let l=n[++o],u=HF(c,i,Fv(t),e);if(u===-1){if(W1(r))return!1;a=!0;continue}if(l!==""){let f;if(u>s?f="":f=i[u+1].toLowerCase(),r&2&&l!==f){if(W1(r))return!1;a=!0}}}}return W1(r)||a}function W1(t){return(t&1)===0}function HF(t,n,e,r){if(n===null)return-1;let i=0;if(r||!e){let s=!1;for(;i<n.length;){let a=n[i];if(a===t)return i;if(a===3||a===6)s=!0;else if(a===1||a===2){let o=n[++i];for(;typeof o=="string";)o=n[++i];continue}else{if(a===4)break;if(a===0){i+=4;continue}}i+=s?1:2}return-1}else return GF(n,t)}function B_(t,n,e=!1){for(let r=0;r<n.length;r++)if(VF(t,n[r],e))return!0;return!1}function UF(t){let n=t.attrs;if(n!=null){let e=n.indexOf(5);if(!(e&1))return n[e+1]}return null}function jF(t){for(let n=0;n<t.length;n++){let e=t[n];if(O_(e))return n}return t.length}function GF(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){let r=t[e];if(typeof r=="number")return-1;if(r===n)return e;e++}return-1}function $F(t,n){e:for(let e=0;e<n.length;e++){let r=n[e];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Uw(t,n){return t?":not("+n.trim()+")":n}function WF(t){let n=t[0],e=1,r=2,i="",s=!1;for(;e<t.length;){let a=t[e];if(typeof a=="string")if(r&2){let o=t[++e];i+="["+a+(o.length>0?'="'+o+'"':"")+"]"}else r&8?i+="."+a:r&4&&(i+=" "+a);else i!==""&&!W1(a)&&(n+=Uw(s,i),i=""),r=a,s=s||!W1(r);e++}return i!==""&&(n+=Uw(s,i)),n}function YF(t){return t.map(WF).join(",")}function ZF(t){let n=[],e=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&n.push(s,t[++r]):i===8&&e.push(s);else{if(!W1(i))break;i=s}r++}return{attrs:n,classes:e}}function Nn(t){return pu(()=>{let n=G_(t),e=pr(rn({},n),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===R_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||w2.Emulated,styles:t.styles||zo,_:null,schemas:t.schemas||null,tView:null,id:""});$_(e);let r=t.dependencies;return e.directiveDefs=Gw(r,!1),e.pipeDefs=Gw(r,!0),e.id=QF(e),e})}function XF(t){return sl(t)||V_(t)}function KF(t){return t!==null}function Qr(t){return pu(()=>({type:t.type,bootstrap:t.bootstrap||zo,declarations:t.declarations||zo,imports:t.imports||zo,exports:t.exports||zo,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function jw(t,n){if(t==null)return r4;let e={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,a,o=al.None;Array.isArray(i)?(o=i[0],s=i[1],a=i[2]??s):(s=i,a=i),n?(e[s]=o!==al.None?[r,o]:r,n[s]=a):e[s]=r}return e}function Er(t){return pu(()=>{let n=G_(t);return $_(n),n})}function h4(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function sl(t){return t[vF]||null}function V_(t){return t[gF]||null}function H_(t){return t[yF]||null}function U_(t){let n=sl(t)||V_(t)||H_(t);return n!==null?n.standalone:!1}function j_(t,n){let e=t[xF]||null;if(!e&&n===!0)throw new Error(`Type ${po(t)} does not have '\u0275mod' property.`);return e}function G_(t){let n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||r4,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||zo,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:jw(t.inputs,n),outputs:jw(t.outputs),debugInfo:null}}function $_(t){t.features?.forEach(n=>n(t))}function Gw(t,n){if(!t)return null;let e=n?H_:XF;return()=>(typeof t=="function"?t():t).map(r=>e(r)).filter(KF)}function QF(t){let n=0,e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of e)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function f5(t){return{\u0275providers:t}}function JF(...t){return{\u0275providers:W_(!0,t),\u0275fromNgModule:!0}}function W_(t,...n){let e=[],r=new Set,i,s=a=>{e.push(a)};return Rv(n,a=>{let o=a;N9(o,s,[],r)&&(i||=[],i.push(o))}),i!==void 0&&Y_(i,s),e}function Y_(t,n){for(let e=0;e<t.length;e++){let{ngModule:r,providers:i}=t[e];Bv(i,s=>{n(s,r)})}}function N9(t,n,e,r){if(t=ho(t),!t)return!1;let i=null,s=Ow(t),a=!s&&sl(t);if(!s&&!a){let c=t.ngModule;if(s=Ow(c),s)i=c;else return!1}else{if(a&&!a.standalone)return!1;i=t}let o=r.has(i);if(a){if(o)return!1;if(r.add(i),a.dependencies){let c=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let l of c)N9(l,n,e,r)}}else if(s){if(s.imports!=null&&!o){r.add(i);let l;try{Rv(s.imports,u=>{N9(u,n,e,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Y_(l,n)}if(!o){let l=dc(i)||(()=>new i);n({provide:i,useFactory:l,deps:zo},i),n({provide:P_,useValue:i,multi:!0},i),n({provide:i4,useValue:()=>$t(i),multi:!0},i)}let c=s.providers;if(c!=null&&!o){let l=t;Bv(c,u=>{n(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Bv(t,n){for(let e of t)A_(e)&&(e=e.\u0275providers),Array.isArray(e)?Bv(e,n):n(e)}var qF=Ca({provide:String,useValue:Ca});function Z_(t){return t!==null&&typeof t=="object"&&qF in t}function eB(t){return!!(t&&t.useExisting)}function tB(t){return!!(t&&t.useFactory)}function a4(t){return typeof t=="function"}function nB(t){return!!t.useClass}var d5=new ir(""),E8={},rB={},v9;function Vv(){return v9===void 0&&(v9=new B8),v9}var mo=class{},cu=class extends mo{get destroyed(){return this._destroyed}constructor(n,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,R9(n,a=>this.processProvider(a)),this.records.set(N_,Q3(void 0,this)),i.has("environment")&&this.records.set(mo,Q3(void 0,this));let s=this.records.get(d5);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(P_,zo,Di.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let n=Wi(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Wi(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();let e=nl(this),r=To(void 0),i;try{return n()}finally{nl(e),To(r)}}get(n,e=ou,r=Di.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Bw))return n[Bw](this);r=c5(r);let i,s=nl(this),a=To(void 0);try{if(!(r&Di.SkipSelf)){let c=this.records.get(n);if(c===void 0){let l=lB(n)&&l5(n);l&&this.injectableDefInScope(l)?c=Q3(P9(n),E8):c=null,this.records.set(n,c)}if(c!=null)return this.hydrate(n,c)}let o=r&Di.Self?Vv():this.parent;return e=r&Di.Optional&&e===ou?null:e,o.get(n,e)}catch(o){if(o.name==="NullInjectorError"){if((o[O8]=o[O8]||[]).unshift(po(n)),s)throw o;return AF(o,n,"R3InjectorError",this.source)}else throw o}finally{To(a),nl(s)}}resolveInjectorInitializers(){let n=Wi(null),e=nl(this),r=To(void 0),i;try{let s=this.get(i4,zo,Di.Self);for(let a of s)a()}finally{nl(e),To(r),Wi(n)}}toString(){let n=[],e=this.records;for(let r of e.keys())n.push(po(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new jn(205,!1)}processProvider(n){n=ho(n);let e=a4(n)?n:ho(n&&n.provide),r=aB(n);if(!a4(n)&&n.multi===!0){let i=this.records.get(e);i||(i=Q3(void 0,E8,!0),i.factory=()=>I9(i.multi),this.records.set(e,i)),e=n,i.multi.push(n)}this.records.set(e,r)}hydrate(n,e){let r=Wi(null);try{return e.value===E8&&(e.value=rB,e.value=e.factory()),typeof e.value=="object"&&e.value&&oB(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{Wi(r)}}injectableDefInScope(n){if(!n.providedIn)return!1;let e=ho(n.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){let e=this._onDestroyHooks.indexOf(n);e!==-1&&this._onDestroyHooks.splice(e,1)}};function P9(t){let n=l5(t),e=n!==null?n.factory:dc(t);if(e!==null)return e;if(t instanceof ir)throw new jn(204,!1);if(t instanceof Function)return iB(t);throw new jn(204,!1)}function iB(t){if(t.length>0)throw new jn(204,!1);let e=pF(t);return e!==null?()=>e.factory(t):()=>new t}function aB(t){if(Z_(t))return Q3(void 0,t.useValue);{let n=X_(t);return Q3(n,E8)}}function X_(t,n,e){let r;if(a4(t)){let i=ho(t);return dc(i)||P9(i)}else if(Z_(t))r=()=>ho(t.useValue);else if(tB(t))r=()=>t.useFactory(...I9(t.deps||[]));else if(eB(t))r=()=>$t(ho(t.useExisting));else{let i=ho(t&&(t.useClass||t.provide));if(sB(t))r=()=>new i(...I9(t.deps));else return dc(i)||P9(i)}return r}function Q3(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function sB(t){return!!t.deps}function oB(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function lB(t){return typeof t=="function"||typeof t=="object"&&t instanceof ir}function R9(t,n){for(let e of t)Array.isArray(e)?R9(e,n):e&&A_(e)?R9(e.\u0275providers,n):n(e)}function D2(t,n){t instanceof cu&&t.assertNotDestroyed();let e,r=nl(t),i=To(void 0);try{return n()}finally{nl(r),To(i)}}function K_(){return z_()!==void 0||LF()!=null}function Q_(t){if(!K_())throw new jn(-203,!1)}function cB(t){let n=Ys.ng;if(n&&n.\u0275compilerFacade)return n.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function uB(t){return typeof t=="function"}var g0=0,mi=1,$r=2,eo=3,Z1=4,ko=5,uu=6,V8=7,X1=8,s4=9,_2=10,Wa=11,fu=12,$w=13,p4=14,M1=15,hc=16,J3=17,h0=18,h5=19,J_=20,rl=21,g9=22,C1=23,Eo=25,q_=1;var pc=7,H8=8,o4=9,$o=10,U8=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(U8||{});function il(t){return Array.isArray(t)&&typeof t[q_]=="object"}function y0(t){return Array.isArray(t)&&t[q_]===!0}function Hv(t){return(t.flags&4)!==0}function p5(t){return t.componentOffset>-1}function m5(t){return(t.flags&1)===1}function ol(t){return!!t.template}function O9(t){return(t[$r]&512)!==0}var F9=class{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}};function eS(t,n,e,r){n!==null?n.applyValueToInputSignal(n,r):t[e]=r}function Fs(){return tS}function tS(t){return t.type.prototype.ngOnChanges&&(t.setInput=dB),fB}Fs.ngInherit=!0;function fB(){let t=rS(this),n=t?.current;if(n){let e=t.previous;if(e===r4)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function dB(t,n,e,r,i){let s=this.declaredInputs[r],a=rS(t)||hB(t,{previous:r4,current:null}),o=a.current||(a.current={}),c=a.previous,l=c[s];o[s]=new F9(l&&l.currentValue,e,c===r4),eS(t,n,i,e)}var nS="__ngSimpleChanges__";function rS(t){return t[nS]||null}function hB(t,n){return t[nS]=n}var Ww=null;var C2=function(t,n,e){Ww?.(t,n,e)},pB="svg",mB="math";function S2(t){for(;Array.isArray(t);)t=t[g0];return t}function iS(t,n){return S2(n[t])}function _1(t,n){return S2(n[t.index])}function aS(t,n){return t.data[n]}function sS(t,n){return t[n]}function fl(t,n){let e=n[t];return il(e)?e:e[g0]}function vB(t){return(t[$r]&4)===4}function Uv(t){return(t[$r]&128)===128}function gB(t){return y0(t[eo])}function l4(t,n){return n==null?null:t[n]}function oS(t){t[J3]=0}function lS(t){t[$r]&1024||(t[$r]|=1024,Uv(t)&&g5(t))}function yB(t,n){for(;t>0;)n=n[p4],t--;return n}function v5(t){return!!(t[$r]&9216||t[C1]?.dirty)}function B9(t){t[_2].changeDetectionScheduler?.notify(8),t[$r]&64&&(t[$r]|=1024),v5(t)&&g5(t)}function g5(t){t[_2].changeDetectionScheduler?.notify(0);let n=mc(t);for(;n!==null&&!(n[$r]&8192||(n[$r]|=8192,!Uv(n)));)n=mc(n)}function cS(t,n){if((t[$r]&256)===256)throw new jn(911,!1);t[rl]===null&&(t[rl]=[]),t[rl].push(n)}function xB(t,n){if(t[rl]===null)return;let e=t[rl].indexOf(n);e!==-1&&t[rl].splice(e,1)}function mc(t){let n=t[eo];return y0(n)?n[eo]:n}var Ci={lFrame:yS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var uS=!1;function bB(){return Ci.lFrame.elementDepthCount}function CB(){Ci.lFrame.elementDepthCount++}function MB(){Ci.lFrame.elementDepthCount--}function fS(){return Ci.bindingsEnabled}function dS(){return Ci.skipHydrationRootTNode!==null}function wB(t){return Ci.skipHydrationRootTNode===t}function _B(){Ci.skipHydrationRootTNode=null}function si(){return Ci.lFrame.lView}function rs(){return Ci.lFrame.tView}function Dn(t){return Ci.lFrame.contextLView=t,t[X1]}function Tn(t){return Ci.lFrame.contextLView=null,t}function to(){let t=hS();for(;t!==null&&t.type===64;)t=t.parent;return t}function hS(){return Ci.lFrame.currentTNode}function SB(){let t=Ci.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function Cc(t,n){let e=Ci.lFrame;e.currentTNode=t,e.isParent=n}function jv(){return Ci.lFrame.isParent}function Gv(){Ci.lFrame.isParent=!1}function LB(){return Ci.lFrame.contextLView}function pS(){return uS}function Yw(t){uS=t}function vu(){let t=Ci.lFrame,n=t.bindingRootIndex;return n===-1&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function $v(){return Ci.lFrame.bindingIndex}function DB(t){return Ci.lFrame.bindingIndex=t}function y5(){return Ci.lFrame.bindingIndex++}function gu(t){let n=Ci.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function TB(){return Ci.lFrame.inI18n}function AB(t,n){let e=Ci.lFrame;e.bindingIndex=e.bindingRootIndex=t,V9(n)}function zB(){return Ci.lFrame.currentDirectiveIndex}function V9(t){Ci.lFrame.currentDirectiveIndex=t}function EB(t){let n=Ci.lFrame.currentDirectiveIndex;return n===-1?null:t[n]}function mS(){return Ci.lFrame.currentQueryIndex}function Wv(t){Ci.lFrame.currentQueryIndex=t}function IB(t){let n=t[mi];return n.type===2?n.declTNode:n.type===1?t[ko]:null}function vS(t,n,e){if(e&Di.SkipSelf){let i=n,s=t;for(;i=i.parent,i===null&&!(e&Di.Host);)if(i=IB(s),i===null||(s=s[p4],i.type&10))break;if(i===null)return!1;n=i,t=s}let r=Ci.lFrame=gS();return r.currentTNode=n,r.lView=t,!0}function Yv(t){let n=gS(),e=t[mi];Ci.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function gS(){let t=Ci.lFrame,n=t===null?null:t.child;return n===null?yS(t):n}function yS(t){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=n),n}function xS(){let t=Ci.lFrame;return Ci.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var bS=xS;function Zv(){let t=xS();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function kB(t){return(Ci.lFrame.contextLView=yB(t,Ci.lFrame.contextLView))[X1]}function T2(){return Ci.lFrame.selectedIndex}function vc(t){Ci.lFrame.selectedIndex=t}function x5(){let t=Ci.lFrame;return aS(t.tView,t.selectedIndex)}function NB(){return Ci.lFrame.currentNamespace}var CS=!0;function b5(){return CS}function C5(t){CS=t}function PB(t,n,e){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=n.type.prototype;if(r){let a=tS(n);(e.preOrderHooks??=[]).push(t,a),(e.preOrderCheckHooks??=[]).push(t,a)}i&&(e.preOrderHooks??=[]).push(0-t,i),s&&((e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s))}function M5(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){let s=t.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:o,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;a&&(t.contentHooks??=[]).push(-e,a),o&&((t.contentHooks??=[]).push(e,o),(t.contentCheckHooks??=[]).push(e,o)),c&&(t.viewHooks??=[]).push(-e,c),l&&((t.viewHooks??=[]).push(e,l),(t.viewCheckHooks??=[]).push(e,l)),u!=null&&(t.destroyHooks??=[]).push(e,u)}}function I8(t,n,e){MS(t,n,3,e)}function k8(t,n,e,r){(t[$r]&3)===e&&MS(t,n,e,r)}function y9(t,n){let e=t[$r];(e&3)===n&&(e&=16383,e+=1,t[$r]=e)}function MS(t,n,e,r){let i=r!==void 0?t[J3]&65535:0,s=r??-1,a=n.length-1,o=0;for(let c=i;c<a;c++)if(typeof n[c+1]=="number"){if(o=n[c],r!=null&&o>=r)break}else n[c]<0&&(t[J3]+=65536),(o<s||s==-1)&&(RB(t,e,n,c),t[J3]=(t[J3]&4294901760)+c+2),c++}function Zw(t,n){C2(4,t,n);let e=Wi(null);try{n.call(t)}finally{Wi(e),C2(5,t,n)}}function RB(t,n,e,r){let i=e[r]<0,s=e[r+1],a=i?-e[r]:e[r],o=t[a];i?t[$r]>>14<t[J3]>>16&&(t[$r]&3)===n&&(t[$r]+=16384,Zw(o,s)):Zw(o,s)}var n4=-1,gc=class{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}};function OB(t){return t instanceof gc}function FB(t){return(t.flags&8)!==0}function BB(t){return(t.flags&16)!==0}var x9={},H9=class{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){r=c5(r);let i=this.injector.get(n,x9,r);return i!==x9||e===x9?i:this.parentInjector.get(n,e,r)}};function wS(t){return t!==n4}function j8(t){return t&32767}function VB(t){return t>>16}function G8(t,n){let e=VB(t),r=n;for(;e>0;)r=r[p4],e--;return r}var U9=!0;function $8(t){let n=U9;return U9=t,n}var HB=256,_S=HB-1,SS=5,UB=0,M2={};function jB(t,n,e){let r;typeof e=="string"?r=e.charCodeAt(0)||0:e.hasOwnProperty(au)&&(r=e[au]),r==null&&(r=e[au]=UB++);let i=r&_S,s=1<<i;n.data[t+(i>>SS)]|=s}function W8(t,n){let e=LS(t,n);if(e!==-1)return e;let r=n[mi];r.firstCreatePass&&(t.injectorIndex=n.length,b9(r.data,t),b9(n,null),b9(r.blueprint,null));let i=Xv(t,n),s=t.injectorIndex;if(wS(i)){let a=j8(i),o=G8(i,n),c=o[mi].data;for(let l=0;l<8;l++)n[s+l]=o[a+l]|c[a+l]}return n[s+8]=i,s}function b9(t,n){t.push(0,0,0,0,0,0,0,0,n)}function LS(t,n){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||n[t.injectorIndex+8]===null?-1:t.injectorIndex}function Xv(t,n){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let e=0,r=null,i=n;for(;i!==null;){if(r=ES(i),r===null)return n4;if(e++,i=i[p4],r.injectorIndex!==-1)return r.injectorIndex|e<<16}return n4}function j9(t,n,e){jB(t,n,e)}function GB(t,n){if(n==="class")return t.classes;if(n==="style")return t.styles;let e=t.attrs;if(e){let r=e.length,i=0;for(;i<r;){let s=e[i];if(O_(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof e[i]=="string";)i++;else{if(s===n)return e[i+1];i=i+2}}}return null}function DS(t,n,e){if(e&Di.Optional||t!==void 0)return t;Nv(n,"NodeInjector")}function TS(t,n,e,r){if(e&Di.Optional&&r===void 0&&(r=null),!(e&(Di.Self|Di.Host))){let i=t[s4],s=To(void 0);try{return i?i.get(n,r,e&Di.Optional):E_(n,r,e&Di.Optional)}finally{To(s)}}return DS(r,n,e)}function AS(t,n,e,r=Di.Default,i){if(t!==null){if(n[$r]&2048&&!(r&Di.Self)){let a=ZB(t,n,e,r,M2);if(a!==M2)return a}let s=zS(t,n,e,r,M2);if(s!==M2)return s}return TS(n,e,r,i)}function zS(t,n,e,r,i){let s=WB(e);if(typeof s=="function"){if(!vS(n,t,r))return r&Di.Host?DS(i,e,r):TS(n,e,r,i);try{let a;if(a=s(r),a==null&&!(r&Di.Optional))Nv(e);else return a}finally{bS()}}else if(typeof s=="number"){let a=null,o=LS(t,n),c=n4,l=r&Di.Host?n[M1][ko]:null;for((o===-1||r&Di.SkipSelf)&&(c=o===-1?Xv(t,n):n[o+8],c===n4||!Kw(r,!1)?o=-1:(a=n[mi],o=j8(c),n=G8(c,n)));o!==-1;){let u=n[mi];if(Xw(s,o,u.data)){let f=$B(o,n,e,a,r,l);if(f!==M2)return f}c=n[o+8],c!==n4&&Kw(r,n[mi].data[o+8]===l)&&Xw(s,o,n)?(a=u,o=j8(c),n=G8(c,n)):o=-1}}return i}function $B(t,n,e,r,i,s){let a=n[mi],o=a.data[t+8],c=r==null?p5(o)&&U9:r!=a&&(o.type&3)!==0,l=i&Di.Host&&s===o,u=N8(o,a,e,c,l);return u!==null?yc(n,a,u,o):M2}function N8(t,n,e,r,i){let s=t.providerIndexes,a=n.data,o=s&1048575,c=t.directiveStart,l=t.directiveEnd,u=s>>20,f=r?o:o+u,h=i?o+u:l;for(let p=f;p<h;p++){let m=a[p];if(p<c&&e===m||p>=c&&m.type===e)return p}if(i){let p=a[c];if(p&&ol(p)&&p.type===e)return c}return null}function yc(t,n,e,r){let i=t[e],s=n.data;if(OB(i)){let a=i;a.resolving&&CF(bF(s[e]));let o=$8(a.canSeeViewProviders);a.resolving=!0;let c,l=a.injectImpl?To(a.injectImpl):null,u=vS(t,r,Di.Default);try{i=t[e]=a.factory(void 0,s,t,r),n.firstCreatePass&&e>=r.directiveStart&&PB(e,s[e],n)}finally{l!==null&&To(l),$8(o),a.resolving=!1,bS()}}return i}function WB(t){if(typeof t=="string")return t.charCodeAt(0)||0;let n=t.hasOwnProperty(au)?t[au]:void 0;return typeof n=="number"?n>=0?n&_S:YB:n}function Xw(t,n,e){let r=1<<t;return!!(e[n+(t>>SS)]&r)}function Kw(t,n){return!(t&Di.Self)&&!(t&Di.Host&&n)}var fc=class{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return AS(this._tNode,this._lView,n,c5(r),e)}};function YB(){return new fc(to(),si())}function Wo(t){return pu(()=>{let n=t.prototype.constructor,e=n[R8]||G9(n),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[R8]||G9(i);if(s&&s!==e)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function G9(t){return S_(t)?()=>{let n=G9(ho(t));return n&&n()}:dc(t)}function ZB(t,n,e,r,i){let s=t,a=n;for(;s!==null&&a!==null&&a[$r]&2048&&!(a[$r]&512);){let o=zS(s,a,e,r|Di.Self,M2);if(o!==M2)return o;let c=s.parent;if(!c){let l=a[J_];if(l){let u=l.get(e,M2,r);if(u!==M2)return u}c=ES(a),a=a[p4]}s=c}return i}function ES(t){let n=t[mi],e=n.type;return e===2?n.declTNode:e===1?t[ko]:null}function Kv(t){return GB(to(),t)}function Qw(t,n=null,e=null,r){let i=IS(t,n,e,r);return i.resolveInjectorInitializers(),i}function IS(t,n=null,e=null,r,i=new Set){let s=[e||zo,JF(t)];return r=r||(typeof t=="object"?void 0:po(t)),new cu(s,n||Vv(),r||null,i)}var ns=class t{static{this.THROW_IF_NOT_FOUND=ou}static{this.NULL=new B8}static create(n,e){if(Array.isArray(n))return Qw({name:""},e,n,"");{let r=n.name??"";return Qw({name:r},n.parent,n.providers,r)}}static{this.\u0275prov=nn({token:t,providedIn:"any",factory:()=>$t(N_)})}static{this.__NG_ELEMENT_ID__=-1}};var XB=new ir("");XB.__NG_ELEMENT_ID__=t=>{let n=to();if(n===null)throw new jn(204,!1);if(n.type&2)return n.value;if(t&Di.Optional)return null;throw new jn(204,!1)};var KB="ngOriginalError";function C9(t){return t[KB]}var kS=!0,w5=(()=>{class t{static{this.__NG_ELEMENT_ID__=QB}static{this.__NG_ENV_ID__=e=>e}}return t})(),$9=class extends w5{constructor(n){super(),this._lView=n}onDestroy(n){return cS(this._lView,n),()=>xB(this._lView,n)}};function QB(){return new $9(si())}var m4=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new _s(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=nn({token:t,providedIn:"root",factory:()=>new t})}}return t})();var W9=class extends nr{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,K_()&&(this.destroyRef=Hn(w5,{optional:!0})??void 0,this.pendingTasks=Hn(m4,{optional:!0})??void 0)}emit(n){let e=Wi(null);try{super.next(n)}finally{Wi(e)}}subscribe(n,e,r){let i=n,s=e||(()=>null),a=r;if(n&&typeof n=="object"){let c=n;i=c.next?.bind(c),s=c.error?.bind(c),a=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),a&&(a=this.wrapInTimeout(a)));let o=super.subscribe({next:i,error:s,complete:a});return n instanceof Sa&&n.add(o),o}wrapInTimeout(n){return e=>{let r=this.pendingTasks?.add();setTimeout(()=>{n(e),r!==void 0&&this.pendingTasks?.remove(r)})}}},rr=W9;function Y8(...t){}function NS(t){let n,e;function r(){t=Y8;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Jw(t){return queueMicrotask(()=>t()),()=>{t=Y8}}var Qv="isAngularZone",Z8=Qv+"_ID",JB=0,Wr=class t{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rr(!1),this.onMicrotaskEmpty=new rr(!1),this.onStable=new rr(!1),this.onError=new rr(!1);let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=kS}=n;if(typeof Zone>"u")throw new jn(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&r,a.shouldCoalesceRunChangeDetection=i,a.callbackScheduled=!1,a.scheduleInRootZone=s,tV(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Qv)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new jn(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new jn(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,i){let s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+i,n,qB,Y8,Y8);try{return s.runTask(a,e,r)}finally{s.cancelTask(a)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}},qB={};function Jv(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function eV(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function n(){NS(()=>{t.callbackScheduled=!1,Y9(t),t.isCheckStableRunning=!0,Jv(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),Y9(t)}function tV(t){let n=()=>{eV(t)},e=JB++;t._inner=t._inner.fork({name:"angular",properties:{[Qv]:!0,[Z8]:e,[Z8+e]:!0},onInvokeTask:(r,i,s,a,o,c)=>{if(nV(c))return r.invokeTask(s,a,o,c);try{return qw(t),r.invokeTask(s,a,o,c)}finally{(t.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&n(),e_(t)}},onInvoke:(r,i,s,a,o,c,l)=>{try{return qw(t),r.invoke(s,a,o,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!rV(c)&&n(),e_(t)}},onHasTask:(r,i,s,a)=>{r.hasTask(s,a),i===s&&(a.change=="microTask"?(t._hasPendingMicrotasks=a.microTask,Y9(t),Jv(t)):a.change=="macroTask"&&(t.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,i,s,a)=>(r.handleError(s,a),t.runOutsideAngular(()=>t.onError.emit(a)),!1)})}function Y9(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function qw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function e_(t){t._nesting--,Jv(t)}var X8=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rr,this.onMicrotaskEmpty=new rr,this.onStable=new rr,this.onError=new rr}run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,i){return n.apply(e,r)}};function nV(t){return PS(t,"__ignore_ng_zone__")}function rV(t){return PS(t,"__scheduler_tick__")}function PS(t,n){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[n]===!0}function iV(t="zone.js",n){return t==="noop"?new X8:t==="zone.js"?new Wr(n):t}var p0=class{constructor(){this._console=console}handleError(n){let e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&C9(n);for(;e&&C9(e);)e=C9(e);return e||null}},aV=new ir("",{providedIn:"root",factory:()=>{let t=Hn(Wr),n=Hn(p0);return e=>t.runOutsideAngular(()=>n.handleError(e))}});function sV(){return v4(to(),si())}function v4(t,n){return new Ui(_1(t,n))}var Ui=(()=>{class t{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=sV}}return t})();function oV(t){return t instanceof Ui?t.nativeElement:t}function lV(){return this._results[Symbol.iterator]()}var Z9=class t{get changes(){return this._changes??=new rr}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let e=t.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=lV)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){this.dirty=!1;let r=IF(n);(this._changesDetected=!EF(this._results,r,e))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function RS(t){return(t.flags&128)===128}var OS=new Map,cV=0;function uV(){return cV++}function fV(t){OS.set(t[h5],t)}function X9(t){OS.delete(t[h5])}var t_="__ngContext__";function ll(t,n){il(n)?(t[t_]=n[h5],fV(n)):t[t_]=n}function FS(t){return VS(t[fu])}function BS(t){return VS(t[Z1])}function VS(t){for(;t!==null&&!y0(t);)t=t[Z1];return t}var K9;function HS(t){K9=t}function US(){if(K9!==void 0)return K9;if(typeof document<"u")return document;throw new jn(210,!1)}var _5=new ir("",{providedIn:"root",factory:()=>dV}),dV="ng",qv=new ir(""),Yo=new ir("",{providedIn:"platform",factory:()=>"unknown"});var yu=new ir(""),xu=new ir("",{providedIn:"root",factory:()=>US().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var hV="h",pV="b";var mV=()=>null;function eg(t,n,e=!1){return mV(t,n,e)}var jS=!1,vV=new ir("",{providedIn:"root",factory:()=>jS});var _8;function gV(){if(_8===void 0&&(_8=null,Ys.trustedTypes))try{_8=Ys.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return _8}function S5(t){return gV()?.createHTML(t)||t}var S8;function GS(){if(S8===void 0&&(S8=null,Ys.trustedTypes))try{S8=Ys.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return S8}function n_(t){return GS()?.createHTML(t)||t}function r_(t){return GS()?.createScriptURL(t)||t}var m0=class{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${w_})`}},Q9=class extends m0{getTypeName(){return"HTML"}},J9=class extends m0{getTypeName(){return"Style"}},q9=class extends m0{getTypeName(){return"Script"}},ev=class extends m0{getTypeName(){return"URL"}},tv=class extends m0{getTypeName(){return"ResourceURL"}};function S1(t){return t instanceof m0?t.changingThisBreaksApplicationSecurity:t}function x0(t,n){let e=yV(t);if(e!=null&&e!==n){if(e==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${w_})`)}return e===n}function yV(t){return t instanceof m0&&t.getTypeName()||null}function $S(t){return new Q9(t)}function WS(t){return new J9(t)}function YS(t){return new q9(t)}function ZS(t){return new ev(t)}function XS(t){return new tv(t)}function xV(t){let n=new rv(t);return bV()?new nv(n):n}var nv=class{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let e=new window.DOMParser().parseFromString(S5(n),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(n):(e.firstChild?.remove(),e)}catch{return null}}},rv=class{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let e=this.inertDocument.createElement("template");return e.innerHTML=S5(n),e}};function bV(){try{return!!new window.DOMParser().parseFromString(S5(""),"text/html")}catch{return!1}}var CV=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function L5(t){return t=String(t),t.match(CV)?t:"unsafe:"+t}function b0(t){let n={};for(let e of t.split(","))n[e]=!0;return n}function bu(...t){let n={};for(let e of t)for(let r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}var KS=b0("area,br,col,hr,img,wbr"),QS=b0("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),JS=b0("rp,rt"),MV=bu(JS,QS),wV=bu(QS,b0("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_V=bu(JS,b0("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),i_=bu(KS,wV,_V,MV),qS=b0("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),SV=b0("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),LV=b0("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),DV=bu(qS,SV,LV),TV=b0("script,style,template"),iv=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,r=!0,i=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild){i.push(e),e=EV(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let s=zV(e);if(s){e=s;break}e=i.pop()}}return this.buf.join("")}startElement(n){let e=a_(n).toLowerCase();if(!i_.hasOwnProperty(e))return this.sanitizedSomething=!0,!TV.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let r=n.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),a=s.name,o=a.toLowerCase();if(!DV.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let c=s.value;qS[o]&&(c=L5(c)),this.buf.push(" ",a,'="',s_(c),'"')}return this.buf.push(">"),!0}endElement(n){let e=a_(n).toLowerCase();i_.hasOwnProperty(e)&&!KS.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(s_(n))}};function AV(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function zV(t){let n=t.nextSibling;if(n&&t!==n.previousSibling)throw eL(n);return n}function EV(t){let n=t.firstChild;if(n&&AV(t,n))throw eL(n);return n}function a_(t){let n=t.nodeName;return typeof n=="string"?n:"FORM"}function eL(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var IV=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,kV=/([^\#-~ |!])/g;function s_(t){return t.replace(/&/g,"&amp;").replace(IV,function(n){let e=n.charCodeAt(0),r=n.charCodeAt(1);return"&#"+((e-55296)*1024+(r-56320)+65536)+";"}).replace(kV,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var L8;function tg(t,n){let e=null;try{L8=L8||xV(t);let r=n?String(n):"";e=L8.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=e.innerHTML,e=L8.getInertBodyElement(r)}while(r!==s);let o=new iv().sanitizeChildren(o_(e)||e);return S5(o)}finally{if(e){let r=o_(e)||e;for(;r.firstChild;)r.firstChild.remove()}}}function o_(t){return"content"in t&&NV(t)?t.content:null}function NV(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var K1=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(K1||{});function tL(t){let n=ng();return n?n_(n.sanitize(K1.HTML,t)||""):x0(t,"HTML")?n_(S1(t)):tg(US(),Ao(t))}function g4(t){let n=ng();return n?n.sanitize(K1.URL,t)||"":x0(t,"URL")?S1(t):L5(Ao(t))}function PV(t){let n=ng();if(n)return r_(n.sanitize(K1.RESOURCE_URL,t)||"");if(x0(t,"ResourceURL"))return r_(S1(t));throw new jn(904,!1)}function RV(t,n){return n==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||n==="href"&&(t==="base"||t==="link")?PV:g4}function nL(t,n,e){return RV(n,e)(t)}function ng(){let t=si();return t&&t[_2].sanitizer}var OV=/^>|^->|<!--|-->|--!>|<!-$/g,FV=/(<|>)/g,BV="\u200B$1\u200B";function VV(t){return t.replace(OV,n=>n.replace(FV,BV))}function rL(t){return t.ownerDocument.defaultView}function iL(t){return t instanceof Function?t():t}function aL(t){return(t??Hn(ns)).get(Yo)==="browser"}var v0=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(v0||{}),HV;function rg(t,n){return HV(t,n)}function q3(t,n,e,r,i){if(r!=null){let s,a=!1;y0(r)?s=r:il(r)&&(a=!0,r=r[g0]);let o=S2(r);t===0&&e!==null?i==null?fL(n,e,o):K8(n,e,o,i||null,!0):t===1&&e!==null?K8(n,e,o,i||null,!0):t===2?tH(n,o,a):t===3&&n.destroyNode(o),s!=null&&rH(n,t,s,e,i)}}function UV(t,n){return t.createText(n)}function jV(t,n,e){t.setValue(n,e)}function GV(t,n){return t.createComment(VV(n))}function sL(t,n,e){return t.createElement(n,e)}function $V(t,n){oL(t,n),n[g0]=null,n[ko]=null}function WV(t,n,e,r,i,s){r[g0]=i,r[ko]=n,T5(t,r,e,1,i,s)}function oL(t,n){n[_2].changeDetectionScheduler?.notify(9),T5(t,n,n[Wa],2,null,null)}function YV(t){let n=t[fu];if(!n)return M9(t[mi],t);for(;n;){let e=null;if(il(n))e=n[fu];else{let r=n[$o];r&&(e=r)}if(!e){for(;n&&!n[Z1]&&n!==t;)il(n)&&M9(n[mi],n),n=n[eo];n===null&&(n=t),il(n)&&M9(n[mi],n),e=n&&n[Z1]}n=e}}function ZV(t,n,e,r){let i=$o+r,s=e.length;r>0&&(e[i-1][Z1]=n),r<s-$o?(n[Z1]=e[i],k_(e,$o+r,n)):(e.push(n),n[Z1]=null),n[eo]=e;let a=n[hc];a!==null&&e!==a&&lL(a,n);let o=n[h0];o!==null&&o.insertView(t),B9(n),n[$r]|=128}function lL(t,n){let e=t[o4],r=n[eo];if(il(r))t[$r]|=U8.HasTransplantedViews;else{let i=r[eo][M1];n[M1]!==i&&(t[$r]|=U8.HasTransplantedViews)}e===null?t[o4]=[n]:e.push(n)}function ig(t,n){let e=t[o4],r=e.indexOf(n);e.splice(r,1)}function av(t,n){if(t.length<=$o)return;let e=$o+n,r=t[e];if(r){let i=r[hc];i!==null&&i!==t&&ig(i,r),n>0&&(t[e-1][Z1]=r[Z1]);let s=F8(t,$o+n);$V(r[mi],r);let a=s[h0];a!==null&&a.detachView(s[mi]),r[eo]=null,r[Z1]=null,r[$r]&=-129}return r}function cL(t,n){if(!(n[$r]&256)){let e=n[Wa];e.destroyNode&&T5(t,n,e,3,null,null),YV(n)}}function M9(t,n){if(n[$r]&256)return;let e=Wi(null);try{n[$r]&=-129,n[$r]|=256,n[C1]&&Zm(n[C1]),KV(t,n),XV(t,n),n[mi].type===1&&n[Wa].destroy();let r=n[hc];if(r!==null&&y0(n[eo])){r!==n[eo]&&ig(r,n);let i=n[h0];i!==null&&i.detachView(t)}X9(n)}finally{Wi(e)}}function XV(t,n){let e=t.cleanup,r=n[V8];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let a=e[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[e[s+1]];e[s].call(a)}r!==null&&(n[V8]=null);let i=n[rl];if(i!==null){n[rl]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}}function KV(t,n){let e;if(t!=null&&(e=t.destroyHooks)!=null)for(let r=0;r<e.length;r+=2){let i=n[e[r]];if(!(i instanceof gc)){let s=e[r+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){let o=i[s[a]],c=s[a+1];C2(4,o,c);try{c.call(o)}finally{C2(5,o,c)}}else{C2(4,i,s);try{s.call(i)}finally{C2(5,i,s)}}}}}function uL(t,n,e){return QV(t,n.parent,e)}function QV(t,n,e){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return e[g0];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===w2.None||s===w2.Emulated)return null}return _1(r,e)}}function K8(t,n,e,r,i){t.insertBefore(n,e,r,i)}function fL(t,n,e){t.appendChild(n,e)}function l_(t,n,e,r,i){r!==null?K8(t,n,e,r,i):fL(t,n,e)}function dL(t,n){return t.parentNode(n)}function JV(t,n){return t.nextSibling(n)}function hL(t,n,e){return eH(t,n,e)}function qV(t,n,e){return t.type&40?_1(t,e):null}var eH=qV,c_;function D5(t,n,e,r){let i=uL(t,r,n),s=n[Wa],a=r.parent||n[ko],o=hL(a,r,n);if(i!=null)if(Array.isArray(e))for(let c=0;c<e.length;c++)l_(s,i,e[c],o,!1);else l_(s,i,e,o,!1);c_!==void 0&&c_(s,r,n,e,i)}function iu(t,n){if(n!==null){let e=n.type;if(e&3)return _1(n,t);if(e&4)return sv(-1,t[n.index]);if(e&8){let r=n.child;if(r!==null)return iu(t,r);{let i=t[n.index];return y0(i)?sv(-1,i):S2(i)}}else{if(e&128)return iu(t,n.next);if(e&32)return rg(n,t)()||S2(t[n.index]);{let r=pL(t,n);if(r!==null){if(Array.isArray(r))return r[0];let i=mc(t[M1]);return iu(i,r)}else return iu(t,n.next)}}}return null}function pL(t,n){if(n!==null){let r=t[M1][ko],i=n.projection;return r.projection[i]}return null}function sv(t,n){let e=$o+t+1;if(e<n.length){let r=n[e],i=r[mi].firstChild;if(i!==null)return iu(r,i)}return n[pc]}function tH(t,n,e){t.removeChild(null,n,e)}function ag(t,n,e,r,i,s,a){for(;e!=null;){if(e.type===128){e=e.next;continue}let o=r[e.index],c=e.type;if(a&&n===0&&(o&&ll(S2(o),r),e.flags|=2),(e.flags&32)!==32)if(c&8)ag(t,n,e.child,r,i,s,!1),q3(n,t,i,o,s);else if(c&32){let l=rg(e,r),u;for(;u=l();)q3(n,t,i,u,s);q3(n,t,i,o,s)}else c&16?mL(t,n,r,e,i,s):q3(n,t,i,o,s);e=a?e.projectionNext:e.next}}function T5(t,n,e,r,i,s){ag(e,r,t.firstChild,n,i,s,!1)}function nH(t,n,e){let r=n[Wa],i=uL(t,e,n),s=e.parent||n[ko],a=hL(s,e,n);mL(r,0,n,e,i,a)}function mL(t,n,e,r,i,s){let a=e[M1],c=a[ko].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];q3(n,t,i,u,s)}else{let l=c,u=a[eo];RS(r)&&(l.flags|=128),ag(t,n,l,u,i,s,!0)}}function rH(t,n,e,r,i){let s=e[pc],a=S2(e);s!==a&&q3(n,t,r,s,i);for(let o=$o;o<e.length;o++){let c=e[o];T5(c[mi],c,t,n,r,s)}}function iH(t,n,e,r,i){if(n)i?t.addClass(e,r):t.removeClass(e,r);else{let s=r.indexOf("-")===-1?void 0:v0.DashCase;i==null?t.removeStyle(e,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=v0.Important),t.setStyle(e,r,i,s))}}function aH(t,n,e){t.setAttribute(n,"style",e)}function vL(t,n,e){e===""?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function gL(t,n,e){let{mergedAttrs:r,classes:i,styles:s}=e;r!==null&&k9(t,n,r),i!==null&&vL(t,n,i),s!==null&&aH(t,n,s)}var no={};function fe(t=1){yL(rs(),si(),T2()+t,!1)}function yL(t,n,e,r){if(!r)if((n[$r]&3)===3){let s=t.preOrderCheckHooks;s!==null&&I8(n,s,e)}else{let s=t.preOrderHooks;s!==null&&k8(n,s,0,e)}vc(e)}function ht(t,n=Di.Default){let e=si();if(e===null)return $t(t,n);let r=to();return AS(r,e,ho(t),n)}function xL(){let t="invalid";throw new Error(t)}function bL(t,n,e,r,i,s){let a=Wi(null);try{let o=null;i&al.SignalBased&&(o=n[r][Z0]),o!==null&&o.transformFn!==void 0&&(s=o.transformFn(s)),i&al.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(n,s)),t.setInput!==null?t.setInput(n,o,s,e,r):eS(n,o,r,s)}finally{Wi(a)}}function sH(t,n){let e=t.hostBindingOpCodes;if(e!==null)try{for(let r=0;r<e.length;r++){let i=e[r];if(i<0)vc(~i);else{let s=i,a=e[++r],o=e[++r];AB(a,s);let c=n[s];o(2,c)}}}finally{vc(-1)}}function A5(t,n,e,r,i,s,a,o,c,l,u){let f=n.blueprint.slice();return f[g0]=i,f[$r]=r|4|128|8|64,(l!==null||t&&t[$r]&2048)&&(f[$r]|=2048),oS(f),f[eo]=f[p4]=t,f[X1]=e,f[_2]=a||t&&t[_2],f[Wa]=o||t&&t[Wa],f[s4]=c||t&&t[s4]||null,f[ko]=s,f[h5]=uV(),f[uu]=u,f[J_]=l,f[M1]=n.type==2?t[M1]:f,f}function y4(t,n,e,r,i){let s=t.data[n];if(s===null)s=oH(t,n,e,r,i),TB()&&(s.flags|=32);else if(s.type&64){s.type=e,s.value=r,s.attrs=i;let a=SB();s.injectorIndex=a===null?-1:a.injectorIndex}return Cc(s,!0),s}function oH(t,n,e,r,i){let s=hS(),a=jv(),o=a?s:s&&s.parent,c=t.data[n]=hH(t,o,e,n,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(a?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function CL(t,n,e,r){if(e===0)return-1;let i=n.length;for(let s=0;s<e;s++)n.push(r),t.blueprint.push(r),t.data.push(null);return i}function ML(t,n,e,r,i){let s=T2(),a=r&2;try{vc(-1),a&&n.length>Eo&&yL(t,n,Eo,!1),C2(a?2:0,i),e(r,i)}finally{vc(s),C2(a?3:1,i)}}function sg(t,n,e){if(Hv(n)){let r=Wi(null);try{let i=n.directiveStart,s=n.directiveEnd;for(let a=i;a<s;a++){let o=t.data[a];if(o.contentQueries){let c=e[a];o.contentQueries(1,c,a)}}}finally{Wi(r)}}}function og(t,n,e){fS()&&(xH(t,n,e,_1(e,n)),(e.flags&64)===64&&SL(t,n,e))}function lg(t,n,e=_1){let r=n.localNames;if(r!==null){let i=n.index+1;for(let s=0;s<r.length;s+=2){let a=r[s+1],o=a===-1?e(n,t):t[a];t[i++]=o}}}function wL(t){let n=t.tView;return n===null||n.incompleteFirstPass?t.tView=cg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function cg(t,n,e,r,i,s,a,o,c,l,u){let f=Eo+r,h=f+i,p=lH(f,h),m=typeof l=="function"?l():l;return p[mi]={type:t,blueprint:p,template:e,queries:null,viewQuery:o,declTNode:n,data:p.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:u}}function lH(t,n){let e=[];for(let r=0;r<n;r++)e.push(r<t?null:no);return e}function cH(t,n,e,r){let s=r.get(vV,jS)||e===w2.ShadowDom,a=t.selectRootElement(n,s);return uH(a),a}function uH(t){fH(t)}var fH=()=>null;function dH(t,n,e,r){let i=TL(n);i.push(e),t.firstCreatePass&&AL(t).push(r,i.length-1)}function hH(t,n,e,r,i,s){let a=n?n.injectorIndex:-1,o=0;return dS()&&(o|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:o,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function u_(t,n,e,r,i){for(let s in n){if(!n.hasOwnProperty(s))continue;let a=n[s];if(a===void 0)continue;r??={};let o,c=al.None;Array.isArray(a)?(o=a[0],c=a[1]):o=a;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?f_(r,e,l,o,c):f_(r,e,l,o)}return r}function f_(t,n,e,r,i){let s;t.hasOwnProperty(e)?(s=t[e]).push(n,r):s=t[e]=[n,r],i!==void 0&&s.push(i)}function pH(t,n,e){let r=n.directiveStart,i=n.directiveEnd,s=t.data,a=n.attrs,o=[],c=null,l=null;for(let u=r;u<i;u++){let f=s[u],h=e?e.get(f):null,p=h?h.inputs:null,m=h?h.outputs:null;c=u_(0,f.inputs,u,c,p),l=u_(1,f.outputs,u,l,m);let d=c!==null&&a!==null&&!Fv(n)?zH(c,u,a):null;o.push(d)}c!==null&&(c.hasOwnProperty("class")&&(n.flags|=8),c.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=o,n.inputs=c,n.outputs=l}function mH(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function ug(t,n,e,r,i,s,a,o){let c=_1(n,e),l=n.inputs,u;!o&&l!=null&&(u=l[r])?(dg(t,e,u,r,i),p5(n)&&vH(e,n.index)):n.type&3?(r=mH(r),i=a!=null?a(i,n.value||"",r):i,s.setProperty(c,r,i)):n.type&12}function vH(t,n){let e=fl(n,t);e[$r]&16||(e[$r]|=64)}function fg(t,n,e,r){if(fS()){let i=r===null?null:{"":-1},s=CH(t,e),a,o;s===null?a=o=null:[a,o]=s,a!==null&&_L(t,n,e,a,i,o),i&&MH(e,r,i)}e.mergedAttrs=lu(e.mergedAttrs,e.attrs)}function _L(t,n,e,r,i,s){for(let l=0;l<r.length;l++)j9(W8(e,n),t,r[l].type);_H(e,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let a=!1,o=!1,c=CL(t,n,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];e.mergedAttrs=lu(e.mergedAttrs,u.hostAttrs),SH(t,e,n,c,u),wH(c,u,i),u.contentQueries!==null&&(e.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(e.flags|=64);let f=u.type.prototype;!a&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),a=!0),!o&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),o=!0),c++}pH(t,e,s)}function gH(t,n,e,r,i){let s=i.hostBindings;if(s){let a=t.hostBindingOpCodes;a===null&&(a=t.hostBindingOpCodes=[]);let o=~n.index;yH(a)!=o&&a.push(o),a.push(e,r,s)}}function yH(t){let n=t.length;for(;n>0;){let e=t[--n];if(typeof e=="number"&&e<0)return e}return 0}function xH(t,n,e,r){let i=e.directiveStart,s=e.directiveEnd;p5(e)&&LH(n,e,t.data[i+e.componentOffset]),t.firstCreatePass||W8(e,n),ll(r,n);let a=e.initialInputs;for(let o=i;o<s;o++){let c=t.data[o],l=yc(n,t,o,e);if(ll(l,n),a!==null&&AH(n,o-i,l,c,e,a),ol(c)){let u=fl(e.index,n);u[X1]=yc(n,t,o,e)}}}function SL(t,n,e){let r=e.directiveStart,i=e.directiveEnd,s=e.index,a=zB();try{vc(s);for(let o=r;o<i;o++){let c=t.data[o],l=n[o];V9(o),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&bH(c,l)}}finally{vc(-1),V9(a)}}function bH(t,n){t.hostBindings!==null&&t.hostBindings(1,n)}function CH(t,n){let e=t.directiveRegistry,r=null,i=null;if(e)for(let s=0;s<e.length;s++){let a=e[s];if(B_(n,a.selectors,!1))if(r||(r=[]),ol(a))if(a.findHostDirectiveDefs!==null){let o=[];i=i||new Map,a.findHostDirectiveDefs(a,o,i),r.unshift(...o,a);let c=o.length;ov(t,n,c)}else r.unshift(a),ov(t,n,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,r,i),r.push(a)}return r===null?null:[r,i]}function ov(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function MH(t,n,e){if(n){let r=t.localNames=[];for(let i=0;i<n.length;i+=2){let s=e[n[i+1]];if(s==null)throw new jn(-301,!1);r.push(n[i],s)}}}function wH(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;ol(n)&&(e[""]=t)}}function _H(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function SH(t,n,e,r,i){t.data[r]=i;let s=i.factory||(i.factory=dc(i.type,!0)),a=new gc(s,ol(i),ht);t.blueprint[r]=a,e[r]=a,gH(t,n,r,CL(t,e,i.hostVars,no),i)}function LH(t,n,e){let r=_1(n,t),i=wL(e),s=t[_2].rendererFactory,a=16;e.signals?a=4096:e.onPush&&(a=64);let o=z5(t,A5(t,i,null,a,r,n,null,s.createRenderer(r,e),null,null,null));t[n.index]=o}function DH(t,n,e,r,i,s){let a=_1(t,n);TH(n[Wa],a,s,t.value,e,r,i)}function TH(t,n,e,r,i,s,a){if(s==null)t.removeAttribute(n,i,e);else{let o=a==null?Ao(s):a(s,r||"",i);t.setAttribute(n,i,o,e)}}function AH(t,n,e,r,i,s){let a=s[n];if(a!==null)for(let o=0;o<a.length;){let c=a[o++],l=a[o++],u=a[o++],f=a[o++];bL(r,e,c,l,u,f)}}function zH(t,n,e){let r=null,i=0;for(;i<e.length;){let s=e[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let a=t[s];for(let o=0;o<a.length;o+=3)if(a[o]===n){r.push(s,a[o+1],a[o+2],e[i+1]);break}}i+=2}return r}function LL(t,n,e,r){return[t,!0,0,n,null,r,null,e,null,null]}function DL(t,n){let e=t.contentQueries;if(e!==null){let r=Wi(null);try{for(let i=0;i<e.length;i+=2){let s=e[i],a=e[i+1];if(a!==-1){let o=t.data[a];Wv(s),o.contentQueries(2,n[a],a)}}}finally{Wi(r)}}}function z5(t,n){return t[fu]?t[$w][Z1]=n:t[fu]=n,t[$w]=n,n}function lv(t,n,e){Wv(0);let r=Wi(null);try{n(t,e)}finally{Wi(r)}}function TL(t){return t[V8]??=[]}function AL(t){return t.cleanup??=[]}function zL(t,n){let e=t[s4],r=e?e.get(p0,null):null;r&&r.handleError(n)}function dg(t,n,e,r,i){for(let s=0;s<e.length;){let a=e[s++],o=e[s++],c=e[s++],l=n[a],u=t.data[a];bL(u,l,r,o,c,i)}}function E5(t,n,e){let r=iS(n,t);jV(t[Wa],r,e)}function EH(t,n){let e=fl(n,t),r=e[mi];IH(r,e);let i=e[g0];i!==null&&e[uu]===null&&(e[uu]=eg(i,e[s4])),hg(r,e,e[X1])}function IH(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}function hg(t,n,e){Yv(n);try{let r=t.viewQuery;r!==null&&lv(1,r,e);let i=t.template;i!==null&&ML(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[h0]?.finishViewCreation(t),t.staticContentQueries&&DL(t,n),t.staticViewQueries&&lv(2,t.viewQuery,e);let s=t.components;s!==null&&kH(n,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[$r]&=-5,Zv()}}function kH(t,n){for(let e=0;e<n.length;e++)EH(t,n[e])}function EL(t,n,e,r){let i=Wi(null);try{let s=n.tView,o=t[$r]&4096?4096:16,c=A5(t,s,e,o,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[n.index];c[hc]=l;let u=t[h0];return u!==null&&(c[h0]=u.createEmbeddedView(s)),hg(s,c,e),c}finally{Wi(i)}}function cv(t,n){return!n||n.firstChild===null||RS(t)}function IL(t,n,e,r=!0){let i=n[mi];if(ZV(i,n,t,e),r){let a=sv(e,t),o=n[Wa],c=dL(o,t[pc]);c!==null&&WV(i,t[ko],o,n,c,a)}let s=n[uu];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Q8(t,n,e,r,i=!1){for(;e!==null;){if(e.type===128){e=i?e.projectionNext:e.next;continue}let s=n[e.index];s!==null&&r.push(S2(s)),y0(s)&&NH(s,r);let a=e.type;if(a&8)Q8(t,n,e.child,r);else if(a&32){let o=rg(e,n),c;for(;c=o();)r.push(c)}else if(a&16){let o=pL(n,e);if(Array.isArray(o))r.push(...o);else{let c=mc(n[M1]);Q8(c[mi],c,o,r,!0)}}e=i?e.projectionNext:e.next}return r}function NH(t,n){for(let e=$o;e<t.length;e++){let r=t[e],i=r[mi].firstChild;i!==null&&Q8(r[mi],r,i,n)}t[pc]!==t[g0]&&n.push(t[pc])}var kL=[];function PH(t){return t[C1]??RH(t)}function RH(t){let n=kL.pop()??Object.create(FH);return n.lView=t,n}function OH(t){t.lView[C1]!==t&&(t.lView=null,kL.push(t))}var FH=pr(rn({},eu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{g5(t.lView)},consumerOnSignalRead(){this.lView[C1]=this}});function BH(t){let n=t[C1]??Object.create(VH);return n.lView=t,n}var VH=pr(rn({},eu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let n=mc(t.lView);for(;n&&!NL(n[mi]);)n=mc(n);n&&lS(n)},consumerOnSignalRead(){this.lView[C1]=this}});function NL(t){return t.type!==2}var HH=100;function PL(t,n=!0,e=0){let r=t[_2],i=r.rendererFactory,s=!1;s||i.begin?.();try{UH(t,e)}catch(a){throw n&&zL(t,a),a}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function UH(t,n){let e=pS();try{Yw(!0),uv(t,n);let r=0;for(;v5(t);){if(r===HH)throw new jn(103,!1);r++,uv(t,1)}}finally{Yw(e)}}function jH(t,n,e,r){let i=n[$r];if((i&256)===256)return;let s=!1,a=!1;!s&&n[_2].inlineEffectRunner?.flush(),Yv(n);let o=!0,c=null,l=null;s||(NL(t)?(l=PH(n),c=Wd(l)):WM()===null?(o=!1,l=BH(n),c=Wd(l)):n[C1]&&(Zm(n[C1]),n[C1]=null));try{oS(n),DB(t.bindingStartIndex),e!==null&&ML(t,n,e,2,r);let u=(i&3)===3;if(!s)if(u){let p=t.preOrderCheckHooks;p!==null&&I8(n,p,null)}else{let p=t.preOrderHooks;p!==null&&k8(n,p,0,null),y9(n,0)}if(a||GH(n),RL(n,0),t.contentQueries!==null&&DL(t,n),!s)if(u){let p=t.contentCheckHooks;p!==null&&I8(n,p)}else{let p=t.contentHooks;p!==null&&k8(n,p,1),y9(n,1)}sH(t,n);let f=t.components;f!==null&&FL(n,f,0);let h=t.viewQuery;if(h!==null&&lv(2,h,r),!s)if(u){let p=t.viewCheckHooks;p!==null&&I8(n,p)}else{let p=t.viewHooks;p!==null&&k8(n,p,2),y9(n,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),n[g9]){for(let p of n[g9])p();n[g9]=null}s||(n[$r]&=-73)}catch(u){throw s||g5(n),u}finally{l!==null&&(Wm(l,c),o&&OH(l)),Zv()}}function RL(t,n){for(let e=FS(t);e!==null;e=BS(e))for(let r=$o;r<e.length;r++){let i=e[r];OL(i,n)}}function GH(t){for(let n=FS(t);n!==null;n=BS(n)){if(!(n[$r]&U8.HasTransplantedViews))continue;let e=n[o4];for(let r=0;r<e.length;r++){let i=e[r];lS(i)}}}function $H(t,n,e){let r=fl(n,t);OL(r,e)}function OL(t,n){Uv(t)&&uv(t,n)}function uv(t,n){let r=t[mi],i=t[$r],s=t[C1],a=!!(n===0&&i&16);if(a||=!!(i&64&&n===0),a||=!!(i&1024),a||=!!(s?.dirty&&Ym(s)),a||=!1,s&&(s.dirty=!1),t[$r]&=-9217,a)jH(r,t,r.template,t[X1]);else if(i&8192){RL(t,1);let o=r.components;o!==null&&FL(t,o,1)}}function FL(t,n,e){for(let r=0;r<n.length;r++)$H(t,n[r],e)}function pg(t,n){let e=pS()?64:1088;for(t[_2].changeDetectionScheduler?.notify(n);t;){t[$r]|=e;let r=mc(t);if(O9(t)&&!r)return t;t=r}return null}var xc=class{get rootNodes(){let n=this._lView,e=n[mi];return Q8(e,n,e.firstChild,[])}constructor(n,e,r=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[X1]}set context(n){this._lView[X1]=n}get destroyed(){return(this._lView[$r]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[eo];if(y0(n)){let e=n[H8],r=e?e.indexOf(this):-1;r>-1&&(av(n,r),F8(e,r))}this._attachedToViewContainer=!1}cL(this._lView[mi],this._lView)}onDestroy(n){cS(this._lView,n)}markForCheck(){pg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[$r]&=-129}reattach(){B9(this._lView),this._lView[$r]|=128}detectChanges(){this._lView[$r]|=1024,PL(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new jn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=O9(this._lView),e=this._lView[hc];e!==null&&!n&&ig(e,this._lView),oL(this._lView[mi],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new jn(902,!1);this._appRef=n;let e=O9(this._lView),r=this._lView[hc];r!==null&&!e&&lL(r,this._lView),B9(this._lView)}},Ua=(()=>{class t{static{this.__NG_ELEMENT_ID__=ZH}}return t})(),WH=Ua,YH=class extends WH{constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,r){let i=EL(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:r});return new xc(i)}};function ZH(){return I5(to(),si())}function I5(t,n){return t.type&4?new YH(n,t,v4(t,n)):null}var kle=new RegExp(`^(\\d+)*(${pV}|${hV})*(.*)`);var XH=()=>null;function fv(t,n){return XH(t,n)}var c4=class{},mg=new ir("",{providedIn:"root",factory:()=>!1});var BL=new ir(""),VL=new ir(""),dv=class{},J8=class{};function KH(t){let n=Error(`No component factory found for ${po(t)}.`);return n[QH]=t,n}var QH="ngComponent";var hv=class{resolveComponentFactory(n){throw KH(n)}},w1=class{static{this.NULL=new hv}},cl=class{},Bs=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>JH()}}return t})();function JH(){let t=si(),n=to(),e=fl(n.index,t);return(il(e)?e:t)[Wa]}var qH=(()=>{class t{static{this.\u0275prov=nn({token:t,providedIn:"root",factory:()=>null})}}return t})();function q8(t,n,e){let r=e?t.styles:null,i=e?t.classes:null,s=0;if(n!==null)for(let a=0;a<n.length;a++){let o=n[a];if(typeof o=="number")s=o;else if(s==1)i=A9(i,o);else if(s==2){let c=o,l=n[++a];r=A9(r,c+": "+l+";")}}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=i:t.classesWithoutHost=i}var e5=class extends w1{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let e=sl(n);return new u4(e,this.ngModule)}};function d_(t,n){let e=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),a=s?i[0]:i,o=s?i[1]:al.None;n?e.push({propName:a,templateName:r,isSignal:(o&al.SignalBased)!==0}):e.push({propName:a,templateName:r})}return e}function eU(t){let n=t.toLowerCase();return n==="svg"?pB:n==="math"?mB:null}var u4=class extends J8{get inputs(){let n=this.componentDef,e=n.inputTransforms,r=d_(n.inputs,!0);if(e!==null)for(let i of r)e.hasOwnProperty(i.propName)&&(i.transform=e[i.propName]);return r}get outputs(){return d_(this.componentDef.outputs,!1)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=YF(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,r,i){let s=Wi(null);try{i=i||this.ngModule;let a=i instanceof mo?i:i?.injector;a&&this.componentDef.getStandaloneInjector!==null&&(a=this.componentDef.getStandaloneInjector(a)||a);let o=a?new H9(n,a):n,c=o.get(cl,null);if(c===null)throw new jn(407,!1);let l=o.get(qH,null),u=o.get(c4,null),f={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},h=c.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",m=r?cH(h,r,this.componentDef.encapsulation,o):sL(h,p,eU(p)),d=512;this.componentDef.signals?d|=4096:this.componentDef.onPush||(d|=16);let y=null;m!==null&&(y=eg(m,o,!0));let x=cg(0,null,null,1,0,null,null,null,null,null,null),w=A5(null,x,null,d,null,null,f,h,o,null,y);Yv(w);let L,_,D=null;try{let C=this.componentDef,z,b=null;C.findHostDirectiveDefs?(z=[],b=new Map,C.findHostDirectiveDefs(C,z,b),z.push(C)):z=[C];let S=tU(w,m);D=nU(S,m,C,z,w,f,h),_=aS(x,Eo),m&&aU(h,C,m,r),e!==void 0&&sU(_,this.ngContentSelectors,e),L=iU(D,C,z,b,w,[oU]),hg(x,w,null)}catch(C){throw D!==null&&X9(D),X9(w),C}finally{Zv()}return new pv(this.componentType,L,v4(_,w),w,_)}finally{Wi(s)}}},pv=class extends dv{constructor(n,e,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new xc(i,void 0,!1),this.componentType=n}setInput(n,e){let r=this._tNode.inputs,i;if(r!==null&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;let s=this._rootLView;dg(s[mi],s,i,n,e),this.previousInputValues.set(n,e);let a=fl(this._tNode.index,s);pg(a,1)}}get injector(){return new fc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function tU(t,n){let e=t[mi],r=Eo;return t[r]=n,y4(e,r,2,"#host",null)}function nU(t,n,e,r,i,s,a){let o=i[mi];rU(r,t,n,a);let c=null;n!==null&&(c=eg(n,i[s4]));let l=s.rendererFactory.createRenderer(n,e),u=16;e.signals?u=4096:e.onPush&&(u=64);let f=A5(i,wL(e),null,u,i[t.index],t,s,l,null,null,c);return o.firstCreatePass&&ov(o,t,r.length-1),z5(i,f),i[t.index]=f}function rU(t,n,e,r){for(let i of t)n.mergedAttrs=lu(n.mergedAttrs,i.hostAttrs);n.mergedAttrs!==null&&(q8(n,n.mergedAttrs,!0),e!==null&&gL(r,e,n))}function iU(t,n,e,r,i,s){let a=to(),o=i[mi],c=_1(a,i);_L(o,i,a,e,null,r);for(let u=0;u<e.length;u++){let f=a.directiveStart+u,h=yc(i,o,f,a);ll(h,i)}SL(o,i,a),c&&ll(c,i);let l=yc(i,o,a.directiveStart+a.componentOffset,a);if(t[X1]=i[X1]=l,s!==null)for(let u of s)u(l,n);return sg(o,a,i),l}function aU(t,n,e,r){if(r)k9(t,e,["ng-version","18.2.7"]);else{let{attrs:i,classes:s}=ZF(n.selectors[0]);i&&k9(t,e,i),s&&s.length>0&&vL(t,e,s.join(" "))}}function sU(t,n,e){let r=t.projection=[];for(let i=0;i<n.length;i++){let s=e[i];r.push(s!=null?Array.from(s):null)}}function oU(){let t=to();M5(si()[mi],t)}var Ls=(()=>{class t{static{this.__NG_ELEMENT_ID__=lU}}return t})();function lU(){let t=to();return UL(t,si())}var cU=Ls,HL=class extends cU{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return v4(this._hostTNode,this._hostLView)}get injector(){return new fc(this._hostTNode,this._hostLView)}get parentInjector(){let n=Xv(this._hostTNode,this._hostLView);if(wS(n)){let e=G8(n,this._hostLView),r=j8(n),i=e[mi].data[r+8];return new fc(i,e)}else return new fc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let e=h_(this._lContainer);return e!==null&&e[n]||null}get length(){return this._lContainer.length-$o}createEmbeddedView(n,e,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let a=fv(this._lContainer,n.ssrId),o=n.createEmbeddedViewImpl(e||{},s,a);return this.insertImpl(o,i,cv(this._hostTNode,a)),o}createComponent(n,e,r,i,s){let a=n&&!uB(n),o;if(a)o=e;else{let m=e||{};o=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}let c=a?n:new u4(sl(n)),l=r||this.parentInjector;if(!s&&c.ngModule==null){let d=(a?l:this.parentInjector).get(mo,null);d&&(s=d)}let u=sl(c.componentType??{}),f=fv(this._lContainer,u?.id??null),h=f?.firstChild??null,p=c.create(l,i,h,s);return this.insertImpl(p.hostView,o,cv(this._hostTNode,f)),p}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,r){let i=n._lView;if(gB(i)){let o=this.indexOf(n);if(o!==-1)this.detach(o);else{let c=i[eo],l=new HL(c,c[ko],c[eo]);l.detach(l.indexOf(n))}}let s=this._adjustIndex(e),a=this._lContainer;return IL(a,i,s,r),n.attachToViewContainerRef(),k_(w9(a),s,n),n}move(n,e){return this.insert(n,e)}indexOf(n){let e=h_(this._lContainer);return e!==null?e.indexOf(n):-1}remove(n){let e=this._adjustIndex(n,-1),r=av(this._lContainer,e);r&&(F8(w9(this._lContainer),e),cL(r[mi],r))}detach(n){let e=this._adjustIndex(n,-1),r=av(this._lContainer,e);return r&&F8(w9(this._lContainer),e)!=null?new xc(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function h_(t){return t[H8]}function w9(t){return t[H8]||(t[H8]=[])}function UL(t,n){let e,r=n[t.index];return y0(r)?e=r:(e=LL(r,n,null,t),n[t.index]=e,z5(n,e)),fU(e,n,t,r),new HL(e,t,n)}function uU(t,n){let e=t[Wa],r=e.createComment(""),i=_1(n,t),s=dL(e,i);return K8(e,s,r,JV(e,i),!1),r}var fU=pU,dU=()=>!1;function hU(t,n,e){return dU(t,n,e)}function pU(t,n,e,r){if(t[pc])return;let i;e.type&8?i=S2(r):i=uU(n,e),t[pc]=i}var mv=class t{constructor(n){this.queryList=n,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},vv=class t{constructor(n=[]){this.queries=n}createEmbeddedView(n){let e=n.queries;if(e!==null){let r=n.contentQueries!==null?n.contentQueries[0]:e.length,i=[];for(let s=0;s<r;s++){let a=e.getByIndex(s),o=this.queries[a.indexInDeclarationView];i.push(o.clone())}return new t(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)vg(n,e).matches!==null&&this.queries[e].setDirty()}},t5=class{constructor(n,e,r=null){this.flags=e,this.read=r,typeof n=="string"?this.predicate=MU(n):this.predicate=n}},gv=class t{constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){let i=e!==null?e.length:0,s=this.getByIndex(r).embeddedTView(n,i);s&&(s.indexInDeclarationView=r,e!==null?e.push(s):e=[s])}return e!==null?new t(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}},yv=class t{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new t(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,r=n.parent;for(;r!==null&&r.type&8&&r.index!==e;)r=r.parent;return e===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(n,e,mU(e,s)),this.matchTNodeWithReadOption(n,e,N8(e,n,s,!1,!1))}else r===Ua?e.type&4&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,N8(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ui||i===Ls||i===Ua&&e.type&4)this.addMatch(e.index,-2);else{let s=N8(e,n,i,!1,!1);s!==null&&this.addMatch(e.index,s)}else this.addMatch(e.index,r)}}addMatch(n,e){this.matches===null?this.matches=[n,e]:this.matches.push(n,e)}};function mU(t,n){let e=t.localNames;if(e!==null){for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1]}return null}function vU(t,n){return t.type&11?v4(t,n):t.type&4?I5(t,n):null}function gU(t,n,e,r){return e===-1?vU(n,t):e===-2?yU(t,n,r):yc(t,t[mi],e,n)}function yU(t,n,e){if(e===Ui)return v4(n,t);if(e===Ua)return I5(n,t);if(e===Ls)return UL(n,t)}function jL(t,n,e,r){let i=n[h0].queries[r];if(i.matches===null){let s=t.data,a=e.matches,o=[];for(let c=0;a!==null&&c<a.length;c+=2){let l=a[c];if(l<0)o.push(null);else{let u=s[l];o.push(gU(n,u,a[c+1],e.metadata.read))}}i.matches=o}return i.matches}function xv(t,n,e,r){let i=t.queries.getByIndex(e),s=i.matches;if(s!==null){let a=jL(t,n,i,e);for(let o=0;o<s.length;o+=2){let c=s[o];if(c>0)r.push(a[o/2]);else{let l=s[o+1],u=n[-c];for(let f=$o;f<u.length;f++){let h=u[f];h[hc]===h[eo]&&xv(h[mi],h,l,r)}if(u[o4]!==null){let f=u[o4];for(let h=0;h<f.length;h++){let p=f[h];xv(p[mi],p,l,r)}}}}}return r}function xU(t,n){return t[h0].queries[n].queryList}function GL(t,n,e){let r=new Z9((e&4)===4);return dH(t,n,r,r.destroy),(n[h0]??=new vv).queries.push(new mv(r))-1}function bU(t,n,e){let r=rs();return r.firstCreatePass&&($L(r,new t5(t,n,e),-1),(n&2)===2&&(r.staticViewQueries=!0)),GL(r,si(),n)}function CU(t,n,e,r){let i=rs();if(i.firstCreatePass){let s=to();$L(i,new t5(n,e,r),s.index),wU(i,t),(e&2)===2&&(i.staticContentQueries=!0)}return GL(i,si(),e)}function MU(t){return t.split(",").map(n=>n.trim())}function $L(t,n,e){t.queries===null&&(t.queries=new gv),t.queries.track(new yv(n,e))}function wU(t,n){let e=t.contentQueries||(t.contentQueries=[]),r=e.length?e[e.length-1]:-1;n!==r&&e.push(t.queries.length-1,n)}function vg(t,n){return t.queries.getByIndex(n)}function _U(t,n){let e=t[mi],r=vg(e,n);return r.crossesNgTemplate?xv(e,t,n,[]):jL(e,t,r,n)}var p_=new Set;function Mc(t){p_.has(t)||(p_.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Cu(t,n){Mc("NgSignals");let e=rw(t),r=e[Z0];return n?.equal&&(r.equal=n.equal),e.set=i=>Xm(r,i),e.update=i=>iw(r,i),e.asReadonly=SU.bind(e),e}function SU(){let t=this[Z0];if(t.readonlyFn===void 0){let n=()=>this();n[Z0]=t,t.readonlyFn=n}return t.readonlyFn}function LU(t){let n=[],e=new Map;function r(i){let s=e.get(i);if(!s){let a=t(i);e.set(i,s=a.then(zU))}return s}return n5.forEach((i,s)=>{let a=[];i.templateUrl&&a.push(r(i.templateUrl).then(l=>{i.template=l}));let o=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=o,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((f,h)=>{o.push(""),a.push(r(f).then(p=>{o[l+h]=p,u.splice(u.indexOf(f),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&a.push(r(i.styleUrl).then(l=>{o.push(l),i.styleUrl=void 0}));let c=Promise.all(a).then(()=>EU(s));n.push(c)}),TU(),Promise.all(n).then(()=>{})}var n5=new Map,DU=new Set;function TU(){let t=n5;return n5=new Map,t}function AU(){return n5.size===0}function zU(t){return typeof t=="string"?t:t.text()}function EU(t){DU.delete(t)}function IU(t){return Object.getPrototypeOf(t.prototype).constructor}function Nr(t){let n=IU(t.type),e=!0,r=[t];for(;n;){let i;if(ol(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new jn(903,!1);i=n.\u0275dir}if(i){if(e){r.push(i);let a=t;a.inputs=D8(t.inputs),a.inputTransforms=D8(t.inputTransforms),a.declaredInputs=D8(t.declaredInputs),a.outputs=D8(t.outputs);let o=i.hostBindings;o&&OU(t,o);let c=i.viewQuery,l=i.contentQueries;if(c&&PU(t,c),l&&RU(t,l),kU(t,i),dF(t.outputs,i.outputs),ol(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let a=0;a<s.length;a++){let o=s[a];o&&o.ngInherit&&o(t),o===Nr&&(e=!1)}}n=Object.getPrototypeOf(n)}NU(r)}function kU(t,n){for(let e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;let r=n.inputs[e];if(r!==void 0&&(t.inputs[e]=r,t.declaredInputs[e]=n.declaredInputs[e],n.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!n.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=n.inputTransforms[i]}}}function NU(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=n+=i.hostVars,i.hostAttrs=lu(i.hostAttrs,e=lu(e,i.hostAttrs))}}function D8(t){return t===r4?{}:t===zo?[]:t}function PU(t,n){let e=t.viewQuery;e?t.viewQuery=(r,i)=>{n(r,i),e(r,i)}:t.viewQuery=n}function RU(t,n){let e=t.contentQueries;e?t.contentQueries=(r,i,s)=>{n(r,i,s),e(r,i,s)}:t.contentQueries=n}function OU(t,n){let e=t.hostBindings;e?t.hostBindings=(r,i)=>{n(r,i),e(r,i)}:t.hostBindings=n}function wc(t){let n=t.inputConfig,e={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r];Array.isArray(i)&&i[3]&&(e[r]=i[3])}t.inputTransforms=e}var ul=class{},du=class{};var r5=class extends ul{constructor(n,e,r,i=!0){super(),this.ngModuleType=n,this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new e5(this);let s=j_(n);this._bootstrapComponents=iL(s.bootstrap),this._r3Injector=IS(n,e,[{provide:ul,useValue:this},{provide:w1,useValue:this.componentFactoryResolver},...r],po(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},i5=class extends du{constructor(n){super(),this.moduleType=n}create(n){return new r5(this.moduleType,n,[])}};function FU(t,n,e){return new r5(t,n,e,!1)}var bv=class extends ul{constructor(n){super(),this.componentFactoryResolver=new e5(this),this.instance=null;let e=new cu([...n.providers,{provide:ul,useValue:this},{provide:w1,useValue:this.componentFactoryResolver}],n.parent||Vv(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function k5(t,n,e=null){return new bv({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}function WL(t){return VU(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function BU(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{let e=t[Symbol.iterator](),r;for(;!(r=e.next()).done;)n(r.value)}}function VU(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function N5(t,n,e){return t[n]=e}function HU(t,n){return t[n]}function L2(t,n,e){let r=t[n];return Object.is(r,e)?!1:(t[n]=e,!0)}function f4(t,n,e,r){let i=L2(t,n,e);return L2(t,n+1,r)||i}function YL(t,n,e,r,i){let s=f4(t,n,e,r);return L2(t,n+2,i)||s}function ZL(t,n,e,r,i,s){let a=f4(t,n,e,r);return f4(t,n+2,i,s)||a}function UU(t){return(t.flags&32)===32}function jU(t,n,e,r,i,s,a,o,c){let l=n.consts,u=y4(n,t,4,a||null,o||null);fg(n,e,u,l4(l,c)),M5(n,u);let f=u.tView=cg(2,u,r,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,l,null);return n.queries!==null&&(n.queries.template(n,u),f.queries=n.queries.embeddedTView(u)),u}function XL(t,n,e,r,i,s,a,o,c,l){let u=e+Eo,f=n.firstCreatePass?jU(u,n,t,r,i,s,a,o,c):n.data[u];Cc(f,!1);let h=GU(n,t,f,e);b5()&&D5(n,t,h,f),ll(h,t);let p=LL(h,t,h,f);return t[u]=p,z5(t,p),hU(p,f,t),m5(f)&&og(n,t,f),c!=null&&lg(t,f,l),f}function tn(t,n,e,r,i,s,a,o){let c=si(),l=rs(),u=l4(l.consts,s);return XL(c,l,t,n,e,r,i,u,a,o),tn}var GU=$U;function $U(t,n,e,r){return C5(!0),n[Wa].createComment("")}var e4=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(e4||{}),KL=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=nn({token:t,providedIn:"root",factory:()=>new t})}}return t})(),Cv=class t{constructor(){this.ngZone=Hn(Wr),this.scheduler=Hn(c4),this.errorHandler=Hn(p0,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[e4.EarlyRead,e4.Write,e4.MixedReadWrite,e4.Read]}execute(){this.executing=!0;for(let n of t.PHASES)for(let e of this.sequences)if(!(e.erroredOrDestroyed||!e.hooks[n]))try{e.pipelinedValue=this.ngZone.runOutsideAngular(()=>e.hooks[n](e.pipelinedValue))}catch(r){e.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let n of this.sequences)n.afterRun(),n.once&&this.sequences.delete(n);for(let n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static{this.\u0275prov=nn({token:t,providedIn:"root",factory:()=>new t})}},Mv=class{constructor(n,e,r,i){this.impl=n,this.hooks=e,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function gg(t,n){!n?.injector&&Q_(gg);let e=n?.injector??Hn(ns);return aL(e)?(Mc("NgAfterRender"),QL(t,e,n,!1)):JL}function Mu(t,n){!n?.injector&&Q_(Mu);let e=n?.injector??Hn(ns);return aL(e)?(Mc("NgAfterNextRender"),QL(t,e,n,!0)):JL}function WU(t,n){if(t instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[n]=t,e}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function QL(t,n,e,r){let i=n.get(KL);i.impl??=n.get(Cv);let s=e?.phase??e4.MixedReadWrite,a=e?.manualCleanup!==!0?n.get(w5):null,o=new Mv(i.impl,WU(t,s),r,a);return i.impl.register(o),o}var JL={destroy(){}};function vs(t,n,e,r){let i=si(),s=y5();if(L2(i,s,n)){let a=rs(),o=x5();DH(o,i,t,n,e,r)}return vs}function yg(t,n,e,r){return L2(t,y5(),e)?n+Ao(e)+r:no}function YU(t,n,e,r,i,s){let a=$v(),o=f4(t,a,e,i);return gu(2),o?n+Ao(e)+r+Ao(i)+s:no}function ZU(t,n,e,r,i,s,a,o){let c=$v(),l=YL(t,c,e,i,a);return gu(3),l?n+Ao(e)+r+Ao(i)+s+Ao(a)+o:no}function XU(t,n,e,r,i,s,a,o,c,l){let u=$v(),f=ZL(t,u,e,i,a,c);return gu(4),f?n+Ao(e)+r+Ao(i)+s+Ao(a)+o+Ao(c)+l:no}function T8(t,n){return t<<17|n<<2}function bc(t){return t>>17&32767}function KU(t){return(t&2)==2}function QU(t,n){return t&131071|n<<17}function wv(t){return t|2}function d4(t){return(t&131068)>>2}function _9(t,n){return t&-131069|n<<2}function JU(t){return(t&1)===1}function _v(t){return t|1}function qU(t,n,e,r,i,s){let a=s?n.classBindings:n.styleBindings,o=bc(a),c=d4(a);t[r]=e;let l=!1,u;if(Array.isArray(e)){let f=e;u=f[1],(u===null||mu(f,u)>0)&&(l=!0)}else u=e;if(i)if(c!==0){let h=bc(t[o+1]);t[r+1]=T8(h,o),h!==0&&(t[h+1]=_9(t[h+1],r)),t[o+1]=QU(t[o+1],r)}else t[r+1]=T8(o,0),o!==0&&(t[o+1]=_9(t[o+1],r)),o=r;else t[r+1]=T8(c,0),o===0?o=r:t[c+1]=_9(t[c+1],r),c=r;l&&(t[r+1]=wv(t[r+1])),m_(t,u,r,!0),m_(t,u,r,!1),ej(n,u,t,r,s),a=T8(o,c),s?n.classBindings=a:n.styleBindings=a}function ej(t,n,e,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof n=="string"&&mu(s,n)>=0&&(e[r+1]=_v(e[r+1]))}function m_(t,n,e,r){let i=t[e+1],s=n===null,a=r?bc(i):d4(i),o=!1;for(;a!==0&&(o===!1||s);){let c=t[a],l=t[a+1];tj(c,n)&&(o=!0,t[a+1]=r?_v(l):wv(l)),a=r?bc(l):d4(l)}o&&(t[e+1]=r?wv(i):_v(i))}function tj(t,n){return t===null||n==null||(Array.isArray(t)?t[1]:t)===n?!0:Array.isArray(t)&&typeof n=="string"?mu(t,n)>=0:!1}var Y1={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function nj(t){return t.substring(Y1.key,Y1.keyEnd)}function rj(t){return ij(t),qL(t,eD(t,0,Y1.textEnd))}function qL(t,n){let e=Y1.textEnd;return e===n?-1:(n=Y1.keyEnd=aj(t,Y1.key=n,e),eD(t,n,e))}function ij(t){Y1.key=0,Y1.keyEnd=0,Y1.value=0,Y1.valueEnd=0,Y1.textEnd=t.length}function eD(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function aj(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}function Ne(t,n,e){let r=si(),i=y5();if(L2(r,i,n)){let s=rs(),a=x5();ug(s,a,r,t,n,r[Wa],e,!1)}return Ne}function Sv(t,n,e,r,i){let s=n.inputs,a=i?"class":"style";dg(t,e,s[a],a,r)}function C0(t,n,e){return tD(t,n,e,!1),C0}function Mn(t,n){return tD(t,n,null,!0),Mn}function sj(t,n){for(let e=rj(n);e>=0;e=qL(n,e))Ov(t,nj(n),!0)}function tD(t,n,e,r){let i=si(),s=rs(),a=gu(2);if(s.firstUpdatePass&&rD(s,t,a,r),n!==no&&L2(i,a,n)){let o=s.data[T2()];iD(s,o,i,i[Wa],t,i[a+1]=pj(n,e),r,a)}}function oj(t,n,e,r){let i=rs(),s=gu(2);i.firstUpdatePass&&rD(i,null,s,r);let a=si();if(e!==no&&L2(a,s,e)){let o=i.data[T2()];if(aD(o,r)&&!nD(i,s)){let c=r?o.classesWithoutHost:o.stylesWithoutHost;c!==null&&(e=A9(c,e||"")),Sv(i,o,a,e,r)}else hj(i,o,a,a[Wa],a[s+1],a[s+1]=dj(t,n,e),r,s)}}function nD(t,n){return n>=t.expandoStartIndex}function rD(t,n,e,r){let i=t.data;if(i[e+1]===null){let s=i[T2()],a=nD(t,e);aD(s,r)&&n===null&&!a&&(n=!1),n=lj(i,s,n,r),qU(i,s,n,e,a,r)}}function lj(t,n,e,r){let i=EB(t),s=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(e=S9(null,t,n,e,r),e=hu(e,n.attrs,r),s=null);else{let a=n.directiveStylingLast;if(a===-1||t[a]!==i)if(e=S9(i,t,n,e,r),s===null){let c=cj(t,n,r);c!==void 0&&Array.isArray(c)&&(c=S9(null,t,n,c[1],r),c=hu(c,n.attrs,r),uj(t,n,r,c))}else s=fj(t,n,r)}return s!==void 0&&(r?n.residualClasses=s:n.residualStyles=s),e}function cj(t,n,e){let r=e?n.classBindings:n.styleBindings;if(d4(r)!==0)return t[bc(r)]}function uj(t,n,e,r){let i=e?n.classBindings:n.styleBindings;t[bc(i)]=r}function fj(t,n,e){let r,i=n.directiveEnd;for(let s=1+n.directiveStylingLast;s<i;s++){let a=t[s].hostAttrs;r=hu(r,a,e)}return hu(r,n.attrs,e)}function S9(t,n,e,r,i){let s=null,a=e.directiveEnd,o=e.directiveStylingLast;for(o===-1?o=e.directiveStart:o++;o<a&&(s=n[o],r=hu(r,s.hostAttrs,i),s!==t);)o++;return t!==null&&(e.directiveStylingLast=o),r}function hu(t,n,e){let r=e?1:2,i=-1;if(n!==null)for(let s=0;s<n.length;s++){let a=n[s];typeof a=="number"?i=a:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Ov(t,a,e?!0:n[++s]))}return t===void 0?null:t}function dj(t,n,e){if(e==null||e==="")return zo;let r=[],i=S1(e);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&n(r,i);return r}function hj(t,n,e,r,i,s,a,o){i===no&&(i=zo);let c=0,l=0,u=0<i.length?i[0]:null,f=0<s.length?s[0]:null;for(;u!==null||f!==null;){let h=c<i.length?i[c+1]:void 0,p=l<s.length?s[l+1]:void 0,m=null,d;u===f?(c+=2,l+=2,h!==p&&(m=f,d=p)):f===null||u!==null&&u<f?(c+=2,m=u):(l+=2,m=f,d=p),m!==null&&iD(t,n,e,r,m,d,a,o),u=c<i.length?i[c]:null,f=l<s.length?s[l]:null}}function iD(t,n,e,r,i,s,a,o){if(!(n.type&3))return;let c=t.data,l=c[o+1],u=JU(l)?v_(c,n,e,i,d4(l),a):void 0;if(!a5(u)){a5(s)||KU(l)&&(s=v_(c,null,e,i,o,a));let f=iS(T2(),e);iH(r,a,f,i,s)}}function v_(t,n,e,r,i,s){let a=n===null,o;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,f=u===null,h=e[i+1];h===no&&(h=f?zo:void 0);let p=f?m9(h,r):u===r?h:void 0;if(l&&!a5(p)&&(p=m9(c,r)),a5(p)&&(o=p,a))return o;let m=t[i+1];i=a?bc(m):d4(m)}if(n!==null){let c=s?n.residualClasses:n.residualStyles;c!=null&&(o=m9(c,r))}return o}function a5(t){return t!==void 0}function pj(t,n){return t==null||t===""||(typeof n=="string"?t=t+n:typeof t=="object"&&(t=po(S1(t)))),t}function aD(t,n){return(t.flags&(n?8:16))!==0}function Q1(t,n,e){let r=si(),i=yg(r,t,n,e);oj(Ov,sj,i,!0)}function mj(t,n,e,r,i,s){let a=n.consts,o=l4(a,i),c=y4(n,t,2,r,o);return fg(n,e,c,l4(a,s)),c.attrs!==null&&q8(c,c.attrs,!1),c.mergedAttrs!==null&&q8(c,c.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,c),c}function se(t,n,e,r){let i=si(),s=rs(),a=Eo+t,o=i[Wa],c=s.firstCreatePass?mj(a,s,i,n,e,r):s.data[a],l=vj(s,i,c,o,n,t);i[a]=l;let u=m5(c);return Cc(c,!0),gL(o,l,c),!UU(c)&&b5()&&D5(s,i,l,c),bB()===0&&ll(l,i),CB(),u&&(og(s,i,c),sg(s,c,i)),r!==null&&lg(i,c),se}function de(){let t=to();jv()?Gv():(t=t.parent,Cc(t,!1));let n=t;wB(n)&&_B(),MB();let e=rs();return e.firstCreatePass&&(M5(e,t),Hv(t)&&e.queries.elementEnd(t)),n.classesWithoutHost!=null&&FB(n)&&Sv(e,n,si(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&BB(n)&&Sv(e,n,si(),n.stylesWithoutHost,!1),de}function Nt(t,n,e,r){return se(t,n,e,r),de(),Nt}var vj=(t,n,e,r,i,s)=>(C5(!0),sL(r,i,NB()));function gj(t,n,e,r,i){let s=n.consts,a=l4(s,r),o=y4(n,t,8,"ng-container",a);a!==null&&q8(o,a,!0);let c=l4(s,i);return fg(n,e,o,c),n.queries!==null&&n.queries.elementStart(n,o),o}function Mi(t,n,e){let r=si(),i=rs(),s=t+Eo,a=i.firstCreatePass?gj(s,i,r,n,e):i.data[s];Cc(a,!0);let o=yj(i,r,a,t);return r[s]=o,b5()&&D5(i,r,o,a),ll(o,r),m5(a)&&(og(i,r,a),sg(i,a,r)),e!=null&&lg(r,a),Mi}function wi(){let t=to(),n=rs();return jv()?Gv():(t=t.parent,Cc(t,!1)),n.firstCreatePass&&(M5(n,t),Hv(t)&&n.queries.elementEnd(t)),wi}var yj=(t,n,e,r)=>(C5(!0),GV(n[Wa],""));function ar(){return si()}function P5(t,n,e){let r=si(),i=y5();if(L2(r,i,n)){let s=rs(),a=x5();ug(s,a,r,t,n,r[Wa],e,!0)}return P5}var uc=void 0;function xj(t){let n=t,e=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&r===0?1:5}var bj=["en",[["a","p"],["AM","PM"],uc],[["AM","PM"],uc,uc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],uc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],uc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",uc,"{1} 'at' {0}",uc],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",xj],L9={};function Zo(t){let n=Cj(t),e=g_(n);if(e)return e;let r=n.split("-")[0];if(e=g_(r),e)return e;if(r==="en")return bj;throw new jn(701,!1)}function g_(t){return t in L9||(L9[t]=Ys.ng&&Ys.ng.common&&Ys.ng.common.locales&&Ys.ng.common.locales[t]),L9[t]}var Ya=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ya||{});function Cj(t){return t.toLowerCase().replace(/_/g,"-")}var s5="en-US";var Mj=s5;function wj(t){typeof t=="string"&&(Mj=t.toLowerCase().replace(/_/g,"-"))}var _j=(t,n,e)=>{};function Bt(t,n,e,r){let i=si(),s=rs(),a=to();return Lj(s,i,i[Wa],a,t,n,r),Bt}function Sj(t,n,e,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let a=i[s];if(a===e&&i[s+1]===r){let o=n[V8],c=i[s+2];return o.length>c?o[c]:null}typeof a=="string"&&(s+=2)}return null}function Lj(t,n,e,r,i,s,a){let o=m5(r),l=t.firstCreatePass&&AL(t),u=n[X1],f=TL(n),h=!0;if(r.type&3||a){let d=_1(r,n),y=a?a(d):d,x=f.length,w=a?_=>a(S2(_[r.index])):r.index,L=null;if(!a&&o&&(L=Sj(t,n,i,r.index)),L!==null){let _=L.__ngLastListenerFn__||L;_.__ngNextListenerFn__=s,L.__ngLastListenerFn__=s,h=!1}else{s=x_(r,n,u,s),_j(d,i,s);let _=e.listen(y,i,s);f.push(s,_),l&&l.push(i,w,x,x+1)}}else s=x_(r,n,u,s);let p=r.outputs,m;if(h&&p!==null&&(m=p[i])){let d=m.length;if(d)for(let y=0;y<d;y+=2){let x=m[y],w=m[y+1],D=n[x][w].subscribe(s),C=f.length;f.push(s,D),l&&l.push(i,r.index,C,-(C+1))}}}function y_(t,n,e,r){let i=Wi(null);try{return C2(6,n,e),e(r)!==!1}catch(s){return zL(t,s),!1}finally{C2(7,n,e),Wi(i)}}function x_(t,n,e,r){return function i(s){if(s===Function)return r;let a=t.componentOffset>-1?fl(t.index,n):n;pg(a,5);let o=y_(n,e,r,s),c=i.__ngNextListenerFn__;for(;c;)o=y_(n,e,c,s)&&o,c=c.__ngNextListenerFn__;return o}}function lt(t=1){return kB(t)}function Dj(t,n){let e=null,r=UF(t);for(let i=0;i<n.length;i++){let s=n[i];if(s==="*"){e=i;continue}if(r===null?B_(t,s,!0):$F(r,s))return i}return e}function A2(t){let n=si()[M1][ko];if(!n.projection){let e=t?t.length:1,r=n.projection=kF(e,null),i=r.slice(),s=n.child;for(;s!==null;){if(s.type!==128){let a=t?Dj(s,t):0;a!==null&&(i[a]?i[a].projectionNext=s:r[a]=s,i[a]=s)}s=s.next}}}function L1(t,n=0,e,r,i,s){let a=si(),o=rs(),c=r?t+1:null;c!==null&&XL(a,o,c,r,i,s,null,e);let l=y4(o,Eo+t,16,null,e||null);l.projection===null&&(l.projection=n),Gv();let f=!a[uu]||dS();a[M1][ko].projection[l.projection]===null&&c!==null?Tj(a,o,c):f&&(l.flags&32)!==32&&nH(o,a,l)}function Tj(t,n,e){let r=Eo+e,i=n.data[r],s=t[r],a=fv(s,i.tView.ssrId),o=EL(t,i,void 0,{dehydratedView:a});IL(s,o,0,cv(i,a))}function x4(t,n,e){return ua(t,"",n,"",e),x4}function ua(t,n,e,r,i){let s=si(),a=yg(s,n,e,r);if(a!==no){let o=rs(),c=x5();ug(o,c,s,t,a,s[Wa],i,!1)}return ua}function Xo(t,n,e,r){CU(t,n,e,r)}function D1(t,n,e){bU(t,n,e)}function is(t){let n=si(),e=rs(),r=mS();Wv(r+1);let i=vg(e,r);if(t.dirty&&vB(n)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=_U(n,r);t.reset(s,oV),t.notifyOnChanges()}return!0}return!1}function as(){return xU(si(),mS())}function Aj(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}function _c(t){let n=LB();return sS(n,Eo+t)}function Ie(t,n=""){let e=si(),r=rs(),i=t+Eo,s=r.firstCreatePass?y4(r,i,1,n,null):r.data[i],a=zj(r,e,s,n,t);e[i]=a,b5()&&D5(r,e,a,s),Cc(s,!1)}var zj=(t,n,e,r,i)=>(C5(!0),UV(n[Wa],r));function Kn(t){return Ft("",t,""),Kn}function Ft(t,n,e){let r=si(),i=yg(r,t,n,e);return i!==no&&E5(r,T2(),i),Ft}function Ea(t,n,e,r,i){let s=si(),a=YU(s,t,n,e,r,i);return a!==no&&E5(s,T2(),a),Ea}function Oa(t,n,e,r,i,s,a){let o=si(),c=ZU(o,t,n,e,r,i,s,a);return c!==no&&E5(o,T2(),c),Oa}function xg(t,n,e,r,i,s,a,o,c){let l=si(),u=XU(l,t,n,e,r,i,s,a,o,c);return u!==no&&E5(l,T2(),u),xg}function Ej(t,n,e){let r=rs();if(r.firstCreatePass){let i=ol(t);Lv(e,r.data,r.blueprint,i,!0),Lv(n,r.data,r.blueprint,i,!1)}}function Lv(t,n,e,r,i){if(t=ho(t),Array.isArray(t))for(let s=0;s<t.length;s++)Lv(t[s],n,e,r,i);else{let s=rs(),a=si(),o=to(),c=a4(t)?t:ho(t.provide),l=X_(t),u=o.providerIndexes&1048575,f=o.directiveStart,h=o.providerIndexes>>20;if(a4(t)||!t.multi){let p=new gc(l,i,ht),m=T9(c,n,i?u:u+h,f);m===-1?(j9(W8(o,a),s,c),D9(s,t,n.length),n.push(c),o.directiveStart++,o.directiveEnd++,i&&(o.providerIndexes+=1048576),e.push(p),a.push(p)):(e[m]=p,a[m]=p)}else{let p=T9(c,n,u+h,f),m=T9(c,n,u,u+h),d=p>=0&&e[p],y=m>=0&&e[m];if(i&&!y||!i&&!d){j9(W8(o,a),s,c);let x=Nj(i?kj:Ij,e.length,i,r,l);!i&&y&&(e[m].providerFactory=x),D9(s,t,n.length,0),n.push(c),o.directiveStart++,o.directiveEnd++,i&&(o.providerIndexes+=1048576),e.push(x),a.push(x)}else{let x=sD(e[i?m:p],l,!i&&r);D9(s,t,p>-1?p:m,x)}!i&&r&&y&&e[m].componentProviders++}}}function D9(t,n,e,r){let i=a4(n),s=nB(n);if(i||s){let c=(s?ho(n.useClass):n).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){let u=l.indexOf(e);u===-1?l.push(e,[r,c]):l[u+1].push(r,c)}else l.push(e,c)}}}function sD(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function T9(t,n,e,r){for(let i=e;i<r;i++)if(n[i]===t)return i;return-1}function Ij(t,n,e,r){return Dv(this.multi,[])}function kj(t,n,e,r){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,o=yc(e,e[mi],this.providerFactory.index,r);s=o.slice(0,a),Dv(i,s);for(let c=a;c<o.length;c++)s.push(o[c])}else s=[],Dv(i,s);return s}function Dv(t,n){for(let e=0;e<t.length;e++){let r=t[e];n.push(r())}return n}function Nj(t,n,e,r,i){let s=new gc(t,e,ht);return s.multi=[],s.index=n,s.componentProviders=0,sD(s,i,r&&!e),s}function ss(t,n=[]){return e=>{e.providersResolver=(r,i)=>Ej(r,i?i(t):t,n)}}var Pj=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let r=W_(!1,e.type),i=r.length>0?k5([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=nn({token:t,providedIn:"environment",factory:()=>new t($t(mo))})}}return t})();function dl(t){Mc("NgStandalone"),t.getStandaloneInjector=n=>n.get(Pj).getOrCreateStandaloneInjector(t)}function T1(t,n,e,r){return Rj(si(),vu(),t,n,e,r)}function vo(t,n,e,r,i){return cD(si(),vu(),t,n,e,r,i)}function oD(t,n,e,r,i,s){return Oj(si(),vu(),t,n,e,r,i,s)}function lD(t,n,e,r,i,s,a,o,c){let l=vu()+t,u=si(),f=ZL(u,l,e,r,i,s);return f4(u,l+4,a,o)||f?N5(u,l+6,c?n.call(c,e,r,i,s,a,o):n(e,r,i,s,a,o)):HU(u,l+6)}function bg(t,n){let e=t[n];return e===no?void 0:e}function Rj(t,n,e,r,i,s){let a=n+e;return L2(t,a,i)?N5(t,a+1,s?r.call(s,i):r(i)):bg(t,a+1)}function cD(t,n,e,r,i,s,a){let o=n+e;return f4(t,o,i,s)?N5(t,o+2,a?r.call(a,i,s):r(i,s)):bg(t,o+2)}function Oj(t,n,e,r,i,s,a,o){let c=n+e;return YL(t,c,i,s,a)?N5(t,c+3,o?r.call(o,i,s,a):r(i,s,a)):bg(t,c+3)}function cn(t,n){let e=rs(),r,i=t+Eo;e.firstCreatePass?(r=Fj(n,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];let s=r.factory||(r.factory=dc(r.type,!0)),a,o=To(ht);try{let c=$8(!1),l=s();return $8(c),Aj(e,si(),i,l),l}finally{To(o)}}function Fj(t,n){if(n)for(let e=n.length-1;e>=0;e--){let r=n[e];if(t===r.name)return r}}function un(t,n,e,r){let i=t+Eo,s=si(),a=sS(s,i);return Bj(s,i)?cD(s,vu(),n,a.transform,e,r,a):a.transform(e,r)}function Bj(t,n){return t[mi].data[n].pure}function wu(t,n){return I5(t,n)}var A8=null;function Vj(t){A8!==null&&(t.defaultEncapsulation!==A8.defaultEncapsulation||t.preserveWhitespaces!==A8.preserveWhitespaces)||(A8=t)}var R5=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var Cg=new ir(""),_u=new ir(""),O5=(()=>{class t{constructor(e,r,i){this._ngZone=e,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Mg||(Hj(i),i.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(e)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),e()},r)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,i){return[]}static{this.\u0275fac=function(r){return new(r||t)($t(Wr),$t(F5),$t(_u))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})(),F5=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return Mg?.findTestabilityInTree(this,e,r)??null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function Hj(t){Mg=t}var Mg;function Sc(t){return!!t&&typeof t.then=="function"}function uD(t){return!!t&&typeof t.subscribe=="function"}var b4=new ir(""),fD=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r}),this.appInits=Hn(b4,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let e=[];for(let i of this.appInits){let s=i();if(Sc(s))e.push(s);else if(uD(s)){let a=new Promise((o,c)=>{s.subscribe({complete:o,error:c})});e.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),e.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),wg=new ir("");function Uj(){nw(()=>{throw new jn(600,!1)})}function jj(t){return t.isBoundToModule}var Gj=10;function $j(t,n,e){try{let r=e();return Sc(r)?r.catch(i=>{throw n.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}function dD(t,n){return Array.isArray(n)?n.reduce(dD,t):rn(rn({},t),n)}var Ko=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Hn(aV),this.afterRenderManager=Hn(KL),this.zonelessEnabled=Hn(mg),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new nr,this.afterTick=new nr,this.componentTypes=[],this.components=[],this.isStable=Hn(m4).hasPendingTasks.pipe(jr(e=>!e)),this._injector=Hn(mo)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let e;return new Promise(r=>{e=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{e.unsubscribe()})}get injector(){return this._injector}bootstrap(e,r){let i=e instanceof J8;if(!this._injector.get(fD).done){let h=!i&&U_(e),p=!1;throw new jn(405,p)}let a;i?a=e:a=this._injector.get(w1).resolveComponentFactory(e),this.componentTypes.push(a.componentType);let o=jj(a)?void 0:this._injector.get(ul),c=r||a.selector,l=a.create(ns.NULL,[],c,o),u=l.location.nativeElement,f=l.injector.get(Cg,null);return f?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),P8(this.components,l),f?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new jn(101,!1);let e=Wi(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Wi(e),this.afterTick.next()}}synchronize(){let e=null;this._injector.destroyed||(e=this._injector.get(cl,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<Gj;)this.synchronizeOnce(e)}synchronizeOnce(e){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)Wj(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else e?.begin?.(),e?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>v5(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){let r=e;P8(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);let r=this._injector.get(wg,[]);[...this._bootstrapListeners,...r].forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>P8(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new jn(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function P8(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function Wj(t,n,e,r){if(!e&&!v5(t))return;PL(t,n,e&&!r?0:1)}var Tv=class{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}},B5=(()=>{class t{compileModuleSync(e){return new i5(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let r=this.compileModuleSync(e),i=j_(e),s=iL(i.declarations).reduce((a,o)=>{let c=sl(o);return c&&a.push(new u4(c)),a},[]);return new Tv(r,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Yj=new ir("");function Zj(t,n,e){let r=new i5(e);return Promise.resolve(r)}function b_(t){for(let n=t.length-1;n>=0;n--)if(t[n]!==void 0)return t[n]}var Xj=(()=>{class t{constructor(){this.zone=Hn(Wr),this.changeDetectionScheduler=Hn(c4),this.applicationRef=Hn(Ko)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Kj({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:e}){return t??=()=>new Wr(pr(rn({},hD()),{scheduleInRootZone:e})),[{provide:Wr,useFactory:t},{provide:i4,multi:!0,useFactory:()=>{let r=Hn(Xj,{optional:!0});return()=>r.initialize()}},{provide:i4,multi:!0,useFactory:()=>{let r=Hn(Qj);return()=>{r.initialize()}}},n===!0?{provide:BL,useValue:!0}:[],{provide:VL,useValue:e??kS}]}function hD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Qj=(()=>{class t{constructor(){this.subscription=new Sa,this.initialized=!1,this.zone=Hn(Wr),this.pendingTasks=Hn(m4)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Wr.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Wr.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Jj=(()=>{class t{constructor(){this.appRef=Hn(Ko),this.taskService=Hn(m4),this.ngZone=Hn(Wr),this.zonelessEnabled=Hn(mg),this.disableScheduling=Hn(BL,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Sa,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Z8):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Hn(VL,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof X8||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Jw:NS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Z8+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(e),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Jw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function qj(){return typeof $localize<"u"&&$localize.locale||s5}var Su=new ir("",{providedIn:"root",factory:()=>Hn(Su,Di.Optional|Di.SkipSelf)||qj()});var _g=new ir("");function z8(t){return!!t.platformInjector}function eG(t){let n=z8(t)?t.r3Injector:t.moduleRef.injector,e=n.get(Wr);return e.run(()=>{z8(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=n.get(p0,null),i;if(e.runOutsideAngular(()=>{i=e.onError.subscribe({next:s=>{r.handleError(s)}})}),z8(t)){let s=()=>n.destroy(),a=t.platformInjector.get(_g);a.add(s),n.onDestroy(()=>{i.unsubscribe(),a.delete(s)})}else t.moduleRef.onDestroy(()=>{P8(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return $j(r,e,()=>{let s=n.get(fD);return s.runInitializers(),s.donePromise.then(()=>{let a=n.get(Su,s5);if(wj(a||s5),z8(t)){let o=n.get(Ko);return t.rootComponent!==void 0&&o.bootstrap(t.rootComponent),o}else return tG(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function tG(t,n){let e=t.injector.get(Ko);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>e.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(e);else throw new jn(-403,!1);n.push(t)}var pD=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){let i=r?.scheduleInRootZone,s=()=>iV(r?.ngZone,pr(rn({},hD({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:i})),a=r?.ignoreChangesOutsideZone,o=[Kj({ngZoneFactory:s,ignoreChangesOutsideZone:a}),{provide:c4,useExisting:Jj}],c=FU(e.moduleType,this.injector,o);return eG({moduleRef:c,allPlatformModules:this._modules})}bootstrapModule(e,r=[]){let i=dD({},r);return Zj(this.injector,i,e).then(s=>this.bootstrapModuleFactory(s,i))}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new jn(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let e=this._injector.get(_g,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||t)($t(ns))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),su=null,mD=new ir("");function nG(t){if(su&&!su.get(mD,!1))throw new jn(400,!1);Uj(),su=t;let n=t.get(pD);return aG(t),n}function Sg(t,n,e=[]){let r=`Platform: ${n}`,i=new ir(r);return(s=[])=>{let a=vD();if(!a||a.injector.get(mD,!1)){let o=[...e,...s,{provide:i,useValue:!0}];t?t(o):nG(rG(o,r))}return iG(i)}}function rG(t=[],n){return ns.create({name:n,providers:[{provide:d5,useValue:"platform"},{provide:_g,useValue:new Set([()=>su=null])},...t]})}function iG(t){let n=vD();if(!n)throw new jn(401,!1);return n}function vD(){return su?.get(pD)??null}function aG(t){t.get(qv,null)?.forEach(e=>e())}var Zs=(()=>{class t{static{this.__NG_ELEMENT_ID__=sG}}return t})();function sG(t){return oG(to(),si(),(t&16)===16)}function oG(t,n,e){if(p5(t)&&!e){let r=fl(t.index,n);return new xc(r,r)}else if(t.type&175){let r=n[M1];return new xc(r,n)}return null}var Av=class{constructor(){}supports(n){return WL(n)}create(n){return new zv(n)}},lG=(t,n)=>n,zv=class{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||lG}forEachItem(n){let e;for(e=this._itHead;e!==null;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,i=0,s=null;for(;e||r;){let a=!r||e&&e.currentIndex<C_(r,i,s)?e:r,o=C_(a,i,s),c=a.currentIndex;if(a===r)i--,r=r._nextRemoved;else if(e=e._next,a.previousIndex==null)i++;else{s||(s=[]);let l=o-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){let p=h<s.length?s[h]:s[h]=0,m=p+h;u<=m&&m<l&&(s[h]=p+1)}let f=a.previousIndex;s[f]=u-l}}o!==c&&n(a,o,c)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)n(e)}diff(n){if(n==null&&(n=[]),!WL(n))throw new jn(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._itHead,r=!1,i,s,a;if(Array.isArray(n)){this.length=n.length;for(let o=0;o<this.length;o++)s=n[o],a=this._trackByFn(o,s),e===null||!Object.is(e.trackById,a)?(e=this._mismatch(e,s,a,o),r=!0):(r&&(e=this._verifyReinsertion(e,s,a,o)),Object.is(e.item,s)||this._addIdentityChange(e,s)),e=e._next}else i=0,BU(n,o=>{a=this._trackByFn(i,o),e===null||!Object.is(e.trackById,a)?(e=this._mismatch(e,o,a,i),r=!0):(r&&(e=this._verifyReinsertion(e,o,a,i)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,i){let s;return n===null?s=this._itTail:(s=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,s,i)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,i),n!==null?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,s,i)):n=this._addAfter(new Ev(e,r),s,i)),n}_verifyReinsertion(n,e,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?n=this._reinsertAfter(s,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;n!==null;){let e=n._next;this._addToRemovals(this._unlink(n)),n=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let i=n._prevRemoved,s=n._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){let i=e===null?this._itHead:e._next;return n._next=i,n._prev=e,i===null?this._itTail=n:i._prev=n,e===null?this._itHead=n:e._next=n,this._linkedRecords===null&&(this._linkedRecords=new o5),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let e=n._prev,r=n._next;return e===null?this._itHead=r:e._next=r,r===null?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new o5),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},Ev=class{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Iv=class{constructor(){this._head=null,this._tail=null}add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;r!==null;r=r._nextDup)if((e===null||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let e=n._prevDup,r=n._nextDup;return e===null?this._head=r:e._nextDup=r,r===null?this._tail=e:r._prevDup=e,this._head===null}},o5=class{constructor(){this.map=new Map}put(n){let e=n.trackById,r=this.map.get(e);r||(r=new Iv,this.map.set(e,r)),r.add(n)}get(n,e){let r=n,i=this.map.get(r);return i?i.get(n,e):null}remove(n){let e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function C_(t,n,e){let r=t.previousIndex;if(r===null)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+n+i}function M_(){return new V5([new Av])}var V5=(()=>{class t{static{this.\u0275prov=nn({token:t,providedIn:"root",factory:M_})}constructor(e){this.factories=e}static create(e,r){if(r!=null){let i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||M_()),deps:[[t,new Pv,new u5]]}}find(e){let r=this.factories.find(i=>i.supports(e));if(r!=null)return r;throw new jn(901,!1)}}return t})();var gD=Sg(null,"core",[]),yD=(()=>{class t{constructor(e){}static{this.\u0275fac=function(r){return new(r||t)($t(Ko))}}static{this.\u0275mod=Qr({type:t})}static{this.\u0275inj=Kr({})}}return t})();function No(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Lg(t,n=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):n}function Lu(t,n){Mc("NgSignals");let e=qM(t);return n?.equal&&(e[Z0].equal=n.equal),e}function J1(t){let n=Wi(null);try{return t()}finally{Wi(n)}}function xD(t){let n=sl(t);if(!n)return null;let e=new u4(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var DD=null;function z2(){return DD}function TD(t){DD??=t}var X5=class{};var zi=new ir(""),Fg=(()=>{class t{historyGo(e){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:()=>Hn(cG),providedIn:"platform"})}}return t})(),AD=new ir(""),cG=(()=>{class t extends Fg{constructor(){super(),this._doc=Hn(zi),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return z2().getBaseHref(this._doc)}onPopState(e){let r=z2().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){let r=z2().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Bg(t,n){if(t.length==0)return n;if(n.length==0)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,e==2?t+n.substring(1):e==1?t+n:t+"/"+n}function bD(t){let n=t.match(/#|\?|$/),e=n&&n.index||t.length,r=e-(t[e-1]==="/"?1:0);return t.slice(0,r)+t.slice(e)}function w0(t){return t&&t[0]!=="?"?"?"+t:t}var L0=(()=>{class t{historyGo(e){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:()=>Hn(Vg),providedIn:"root"})}}return t})(),zD=new ir(""),Vg=(()=>{class t extends L0{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Hn(zi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Bg(this._baseHref,e)}path(e=!1){let r=this._platformLocation.pathname+w0(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,s){let a=this.prepareExternalUrl(i+w0(s));this._platformLocation.pushState(e,r,a)}replaceState(e,r,i,s){let a=this.prepareExternalUrl(i+w0(s));this._platformLocation.replaceState(e,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(r){return new(r||t)($t(Fg),$t(zD,8))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ED=(()=>{class t extends L0{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){let r=Bg(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,s){let a=this.prepareExternalUrl(i+w0(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,r,a)}replaceState(e,r,i,s){let a=this.prepareExternalUrl(i+w0(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(r){return new(r||t)($t(Fg),$t(zD,8))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})(),pa=(()=>{class t{constructor(e){this._subject=new rr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;let r=this._locationStrategy.getBaseHref();this._basePath=dG(bD(CD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+w0(r))}normalize(e){return t.stripTrailingSlash(fG(this._basePath,CD(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+w0(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+w0(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}static{this.normalizeQueryParams=w0}static{this.joinWithSlash=Bg}static{this.stripTrailingSlash=bD}static{this.\u0275fac=function(r){return new(r||t)($t(L0))}}static{this.\u0275prov=nn({token:t,factory:()=>uG(),providedIn:"root"})}}return t})();function uG(){return new pa($t(L0))}function fG(t,n){if(!t||!n.startsWith(t))return n;let e=n.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:n}function CD(t){return t.replace(/\/index.html$/,"")}function dG(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}var ID=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(ID||{});var go=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(go||{}),Ma=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Ma||{}),Qo=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Qo||{}),Jo={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function hG(t){return Zo(t)[Ya.LocaleId]}function pG(t,n,e){let r=Zo(t),i=[r[Ya.DayPeriodsFormat],r[Ya.DayPeriodsStandalone]],s=A1(i,n);return A1(s,e)}function mG(t,n,e){let r=Zo(t),i=[r[Ya.DaysFormat],r[Ya.DaysStandalone]],s=A1(i,n);return A1(s,e)}function vG(t,n,e){let r=Zo(t),i=[r[Ya.MonthsFormat],r[Ya.MonthsStandalone]],s=A1(i,n);return A1(s,e)}function gG(t,n){let r=Zo(t)[Ya.Eras];return A1(r,n)}function H5(t,n){let e=Zo(t);return A1(e[Ya.DateFormat],n)}function U5(t,n){let e=Zo(t);return A1(e[Ya.TimeFormat],n)}function j5(t,n){let r=Zo(t)[Ya.DateTimeFormat];return A1(r,n)}function _0(t,n){let e=Zo(t),r=e[Ya.NumberSymbols][n];if(typeof r>"u"){if(n===Jo.CurrencyDecimal)return e[Ya.NumberSymbols][Jo.Decimal];if(n===Jo.CurrencyGroup)return e[Ya.NumberSymbols][Jo.Group]}return r}function yG(t,n){return Zo(t)[Ya.NumberFormats][n]}function kD(t){if(!t[Ya.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Ya.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function xG(t){let n=Zo(t);return kD(n),(n[Ya.ExtraData][2]||[]).map(r=>typeof r=="string"?Dg(r):[Dg(r[0]),Dg(r[1])])}function bG(t,n,e){let r=Zo(t);kD(r);let i=[r[Ya.ExtraData][0],r[Ya.ExtraData][1]],s=A1(i,n)||[];return A1(s,e)||[]}function A1(t,n){for(let e=n;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new Error("Locale data API: locale data undefined")}function Dg(t){let[n,e]=t.split(":");return{hours:+n,minutes:+e}}var CG=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,G5={},MG=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,S0=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(S0||{}),qi=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(qi||{}),Ji=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Ji||{});function wG(t,n,e,r){let i=IG(t);n=M0(e,n)||n;let a=[],o;for(;n;)if(o=MG.exec(n),o){a=a.concat(o.slice(1));let u=a.pop();if(!u)break;n=u}else{a.push(n);break}let c=i.getTimezoneOffset();r&&(c=PD(r,c),i=EG(i,r,!0));let l="";return a.forEach(u=>{let f=AG(u);l+=f?f(i,e,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function K5(t,n,e){let r=new Date(0);return r.setFullYear(t,n,e),r.setHours(0,0,0),r}function M0(t,n){let e=hG(t);if(G5[e]??={},G5[e][n])return G5[e][n];let r="";switch(n){case"shortDate":r=H5(t,Qo.Short);break;case"mediumDate":r=H5(t,Qo.Medium);break;case"longDate":r=H5(t,Qo.Long);break;case"fullDate":r=H5(t,Qo.Full);break;case"shortTime":r=U5(t,Qo.Short);break;case"mediumTime":r=U5(t,Qo.Medium);break;case"longTime":r=U5(t,Qo.Long);break;case"fullTime":r=U5(t,Qo.Full);break;case"short":let i=M0(t,"shortTime"),s=M0(t,"shortDate");r=$5(j5(t,Qo.Short),[i,s]);break;case"medium":let a=M0(t,"mediumTime"),o=M0(t,"mediumDate");r=$5(j5(t,Qo.Medium),[a,o]);break;case"long":let c=M0(t,"longTime"),l=M0(t,"longDate");r=$5(j5(t,Qo.Long),[c,l]);break;case"full":let u=M0(t,"fullTime"),f=M0(t,"fullDate");r=$5(j5(t,Qo.Full),[u,f]);break}return r&&(G5[e][n]=r),r}function $5(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,r){return n!=null&&r in n?n[r]:e})),t}function q1(t,n,e="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,s=e));let a=String(t);for(;a.length<n;)a="0"+a;return r&&(a=a.slice(a.length-n)),s+a}function _G(t,n){return q1(t,3).substring(0,n)}function gs(t,n,e=0,r=!1,i=!1){return function(s,a){let o=SG(t,s);if((e>0||o>-e)&&(o+=e),t===qi.Hours)o===0&&e===-12&&(o=12);else if(t===qi.FractionalSeconds)return _G(o,n);let c=_0(a,Jo.MinusSign);return q1(o,n,c,r,i)}}function SG(t,n){switch(t){case qi.FullYear:return n.getFullYear();case qi.Month:return n.getMonth();case qi.Date:return n.getDate();case qi.Hours:return n.getHours();case qi.Minutes:return n.getMinutes();case qi.Seconds:return n.getSeconds();case qi.FractionalSeconds:return n.getMilliseconds();case qi.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Da(t,n,e=go.Format,r=!1){return function(i,s){return LG(i,s,t,n,e,r)}}function LG(t,n,e,r,i,s){switch(e){case Ji.Months:return vG(n,i,r)[t.getMonth()];case Ji.Days:return mG(n,i,r)[t.getDay()];case Ji.DayPeriods:let a=t.getHours(),o=t.getMinutes();if(s){let l=xG(n),u=bG(n,i,r),f=l.findIndex(h=>{if(Array.isArray(h)){let[p,m]=h,d=a>=p.hours&&o>=p.minutes,y=a<m.hours||a===m.hours&&o<m.minutes;if(p.hours<m.hours){if(d&&y)return!0}else if(d||y)return!0}else if(h.hours===a&&h.minutes===o)return!0;return!1});if(f!==-1)return u[f]}return pG(n,i,r)[a<12?0:1];case Ji.Eras:return gG(n,r)[t.getFullYear()<=0?0:1];default:let c=e;throw new Error(`unexpected translation type ${c}`)}}function W5(t){return function(n,e,r){let i=-1*r,s=_0(e,Jo.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case S0.Short:return(i>=0?"+":"")+q1(a,2,s)+q1(Math.abs(i%60),2,s);case S0.ShortGMT:return"GMT"+(i>=0?"+":"")+q1(a,1,s);case S0.Long:return"GMT"+(i>=0?"+":"")+q1(a,2,s)+":"+q1(Math.abs(i%60),2,s);case S0.Extended:return r===0?"Z":(i>=0?"+":"")+q1(a,2,s)+":"+q1(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var DG=0,Z5=4;function TG(t){let n=K5(t,DG,1).getDay();return K5(t,0,1+(n<=Z5?Z5:Z5+7)-n)}function ND(t){let n=t.getDay(),e=n===0?-3:Z5-n;return K5(t.getFullYear(),t.getMonth(),t.getDate()+e)}function Tg(t,n=!1){return function(e,r){let i;if(n){let s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,a=e.getDate();i=1+Math.floor((a+s)/7)}else{let s=ND(e),a=TG(s.getFullYear()),o=s.getTime()-a.getTime();i=1+Math.round(o/6048e5)}return q1(i,t,_0(r,Jo.MinusSign))}}function Y5(t,n=!1){return function(e,r){let s=ND(e).getFullYear();return q1(s,t,_0(r,Jo.MinusSign),n)}}var Ag={};function AG(t){if(Ag[t])return Ag[t];let n;switch(t){case"G":case"GG":case"GGG":n=Da(Ji.Eras,Ma.Abbreviated);break;case"GGGG":n=Da(Ji.Eras,Ma.Wide);break;case"GGGGG":n=Da(Ji.Eras,Ma.Narrow);break;case"y":n=gs(qi.FullYear,1,0,!1,!0);break;case"yy":n=gs(qi.FullYear,2,0,!0,!0);break;case"yyy":n=gs(qi.FullYear,3,0,!1,!0);break;case"yyyy":n=gs(qi.FullYear,4,0,!1,!0);break;case"Y":n=Y5(1);break;case"YY":n=Y5(2,!0);break;case"YYY":n=Y5(3);break;case"YYYY":n=Y5(4);break;case"M":case"L":n=gs(qi.Month,1,1);break;case"MM":case"LL":n=gs(qi.Month,2,1);break;case"MMM":n=Da(Ji.Months,Ma.Abbreviated);break;case"MMMM":n=Da(Ji.Months,Ma.Wide);break;case"MMMMM":n=Da(Ji.Months,Ma.Narrow);break;case"LLL":n=Da(Ji.Months,Ma.Abbreviated,go.Standalone);break;case"LLLL":n=Da(Ji.Months,Ma.Wide,go.Standalone);break;case"LLLLL":n=Da(Ji.Months,Ma.Narrow,go.Standalone);break;case"w":n=Tg(1);break;case"ww":n=Tg(2);break;case"W":n=Tg(1,!0);break;case"d":n=gs(qi.Date,1);break;case"dd":n=gs(qi.Date,2);break;case"c":case"cc":n=gs(qi.Day,1);break;case"ccc":n=Da(Ji.Days,Ma.Abbreviated,go.Standalone);break;case"cccc":n=Da(Ji.Days,Ma.Wide,go.Standalone);break;case"ccccc":n=Da(Ji.Days,Ma.Narrow,go.Standalone);break;case"cccccc":n=Da(Ji.Days,Ma.Short,go.Standalone);break;case"E":case"EE":case"EEE":n=Da(Ji.Days,Ma.Abbreviated);break;case"EEEE":n=Da(Ji.Days,Ma.Wide);break;case"EEEEE":n=Da(Ji.Days,Ma.Narrow);break;case"EEEEEE":n=Da(Ji.Days,Ma.Short);break;case"a":case"aa":case"aaa":n=Da(Ji.DayPeriods,Ma.Abbreviated);break;case"aaaa":n=Da(Ji.DayPeriods,Ma.Wide);break;case"aaaaa":n=Da(Ji.DayPeriods,Ma.Narrow);break;case"b":case"bb":case"bbb":n=Da(Ji.DayPeriods,Ma.Abbreviated,go.Standalone,!0);break;case"bbbb":n=Da(Ji.DayPeriods,Ma.Wide,go.Standalone,!0);break;case"bbbbb":n=Da(Ji.DayPeriods,Ma.Narrow,go.Standalone,!0);break;case"B":case"BB":case"BBB":n=Da(Ji.DayPeriods,Ma.Abbreviated,go.Format,!0);break;case"BBBB":n=Da(Ji.DayPeriods,Ma.Wide,go.Format,!0);break;case"BBBBB":n=Da(Ji.DayPeriods,Ma.Narrow,go.Format,!0);break;case"h":n=gs(qi.Hours,1,-12);break;case"hh":n=gs(qi.Hours,2,-12);break;case"H":n=gs(qi.Hours,1);break;case"HH":n=gs(qi.Hours,2);break;case"m":n=gs(qi.Minutes,1);break;case"mm":n=gs(qi.Minutes,2);break;case"s":n=gs(qi.Seconds,1);break;case"ss":n=gs(qi.Seconds,2);break;case"S":n=gs(qi.FractionalSeconds,1);break;case"SS":n=gs(qi.FractionalSeconds,2);break;case"SSS":n=gs(qi.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=W5(S0.Short);break;case"ZZZZZ":n=W5(S0.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=W5(S0.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=W5(S0.Long);break;default:return null}return Ag[t]=n,n}function PD(t,n){t=t.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function zG(t,n){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+n),t}function EG(t,n,e){let r=e?-1:1,i=t.getTimezoneOffset(),s=PD(n,i);return zG(t,r*(s-i))}function IG(t){if(MD(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,s=1,a=1]=t.split("-").map(o=>+o);return K5(i,s-1,a)}let e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let r;if(r=t.match(CG))return kG(r)}let n=new Date(t);if(!MD(n))throw new Error(`Unable to convert "${t}" into a date`);return n}function kG(t){let n=new Date(0),e=0,r=0,i=t[8]?n.setUTCFullYear:n.setFullYear,s=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));let a=Number(t[4]||0)-e,o=Number(t[5]||0)-r,c=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(n,a,o,c,l),n}function MD(t){return t instanceof Date&&!isNaN(t.valueOf())}var NG=/^(\d+)?\.((\d+)(-(\d+))?)?$/,wD=22,Q5=".",Du="0",PG=";",RG=",",zg="#";function OG(t,n,e,r,i,s,a=!1){let o="",c=!1;if(!isFinite(t))o=_0(e,Jo.Infinity);else{let l=VG(t);a&&(l=BG(l));let u=n.minInt,f=n.minFrac,h=n.maxFrac;if(s){let w=s.match(NG);if(w===null)throw new Error(`${s} is not a valid digit info`);let L=w[1],_=w[3],D=w[5];L!=null&&(u=Eg(L)),_!=null&&(f=Eg(_)),D!=null?h=Eg(D):_!=null&&f>h&&(h=f)}HG(l,f,h);let p=l.digits,m=l.integerLen,d=l.exponent,y=[];for(c=p.every(w=>!w);m<u;m++)p.unshift(0);for(;m<0;m++)p.unshift(0);m>0?y=p.splice(m,p.length):(y=p,p=[0]);let x=[];for(p.length>=n.lgSize&&x.unshift(p.splice(-n.lgSize,p.length).join(""));p.length>n.gSize;)x.unshift(p.splice(-n.gSize,p.length).join(""));p.length&&x.unshift(p.join("")),o=x.join(_0(e,r)),y.length&&(o+=_0(e,i)+y.join("")),d&&(o+=_0(e,Jo.Exponential)+"+"+d)}return t<0&&!c?o=n.negPre+o+n.negSuf:o=n.posPre+o+n.posSuf,o}function C4(t,n,e){let r=yG(n,ID.Decimal),i=FG(r,_0(n,Jo.MinusSign));return OG(t,i,n,Jo.Group,Jo.Decimal,e)}function FG(t,n="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(PG),i=r[0],s=r[1],a=i.indexOf(Q5)!==-1?i.split(Q5):[i.substring(0,i.lastIndexOf(Du)+1),i.substring(i.lastIndexOf(Du)+1)],o=a[0],c=a[1]||"";e.posPre=o.substring(0,o.indexOf(zg));for(let u=0;u<c.length;u++){let f=c.charAt(u);f===Du?e.minFrac=e.maxFrac=u+1:f===zg?e.maxFrac=u+1:e.posSuf+=f}let l=o.split(RG);if(e.gSize=l[1]?l[1].length:0,e.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){let u=i.length-e.posPre.length-e.posSuf.length,f=s.indexOf(zg);e.negPre=s.substring(0,f).replace(/'/g,""),e.negSuf=s.slice(f+u).replace(/'/g,"")}else e.negPre=n+e.posPre,e.negSuf=e.posSuf;return e}function BG(t){if(t.digits[0]===0)return t;let n=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(n===0?t.digits.push(0,0):n===1&&t.digits.push(0),t.integerLen+=2),t}function VG(t){let n=Math.abs(t)+"",e=0,r,i,s,a,o;for((i=n.indexOf(Q5))>-1&&(n=n.replace(Q5,"")),(s=n.search(/e/i))>0?(i<0&&(i=s),i+=+n.slice(s+1),n=n.substring(0,s)):i<0&&(i=n.length),s=0;n.charAt(s)===Du;s++);if(s===(o=n.length))r=[0],i=1;else{for(o--;n.charAt(o)===Du;)o--;for(i-=s,r=[],a=0;s<=o;s++,a++)r[a]=Number(n.charAt(s))}return i>wD&&(r=r.splice(0,wD-1),e=i-1,i=1),{digits:r,exponent:e,integerLen:i}}function HG(t,n,e){if(n>e)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${e}).`);let r=t.digits,i=r.length-t.integerLen,s=Math.min(Math.max(n,i),e),a=s+t.integerLen,o=r[a];if(a>0){r.splice(Math.max(t.integerLen,a));for(let f=a;f<r.length;f++)r[f]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,a=s+1),r[0]=0;for(let f=1;f<a;f++)r[f]=0}if(o>=5)if(a-1<0){for(let f=0;f>a;f--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[a-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=s!==0,l=n+t.integerLen,u=r.reduceRight(function(f,h,p,m){return h=h+f,m[p]=h<10?h:h-10,c&&(m[p]===0&&p>=l?m.pop():c=!1),h>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}function Eg(t){let n=parseInt(t);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+t);return n}function RD(t,n){n=encodeURIComponent(n);for(let e of t.split(";")){let r=e.indexOf("="),[i,s]=r==-1?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===n)return decodeURIComponent(s)}return null}var Ig=/\s+/,_D=[],Za=(()=>{class t{constructor(e,r){this._ngEl=e,this._renderer=r,this.initialClasses=_D,this.stateMap=new Map}set klass(e){this.initialClasses=e!=null?e.trim().split(Ig):_D}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(Ig):e}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let r of e)this._updateState(r,!0);else if(e!=null)for(let r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){let i=this.stateMap.get(e);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){e=e.trim(),e.length>0&&e.split(Ig).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(ht(Ui),ht(Bs))}}static{this.\u0275dir=Er({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var kg=class{constructor(n,e,r,i){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ta=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;if(!this._differ&&e)if(0)try{}catch{}else this._differ=this._differs.find(e).create(this.ngForTrackBy)}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let r=this._viewContainer;e.forEachOperation((i,s,a)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new kg(i.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(s===null?void 0:s);else if(s!==null){let o=r.get(s);r.move(o,a),SD(o,i)}});for(let i=0,s=r.length;i<s;i++){let o=r.get(i).context;o.index=i,o.count=s,o.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);SD(s,i)})}static ngTemplateContextGuard(e,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(ht(Ls),ht(Ua),ht(V5))}}static{this.\u0275dir=Er({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function SD(t,n){t.context.$implicit=n.item}var fr=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new Ng,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){LD("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){LD("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(ht(Ls),ht(Ua))}}static{this.\u0275dir=Er({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),Ng=class{constructor(){this.$implicit=null,this.ngIf=null}};function LD(t,n){if(!!!(!n||n.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${po(n)}'.`)}var OD=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(e,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static{this.\u0275fac=function(r){return new(r||t)(ht(Ls))}}static{this.\u0275dir=Er({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Fs]})}}return t})();function FD(t,n){return new jn(2100,!1)}var UG="mediumDate",jG=new ir(""),GG=new ir(""),q5=(()=>{class t{constructor(e,r,i){this.locale=e,this.defaultTimezone=r,this.defaultOptions=i}transform(e,r,i,s){if(e==null||e===""||e!==e)return null;try{let a=r??this.defaultOptions?.dateFormat??UG,o=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return wG(e,a,s||this.locale,o)}catch(a){throw FD(t,a.message)}}static{this.\u0275fac=function(r){return new(r||t)(ht(Su,16),ht(jG,24),ht(GG,24))}}static{this.\u0275pipe=h4({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var Jr=(()=>{class t{constructor(e){this._locale=e}transform(e,r,i){if(!$G(e))return null;i||=this._locale;try{let s=WG(e);return C4(s,i,r)}catch(s){throw FD(t,s.message)}}static{this.\u0275fac=function(r){return new(r||t)(ht(Su,16))}}static{this.\u0275pipe=h4({name:"number",type:t,pure:!0,standalone:!0})}}return t})();function $G(t){return!(t==null||t===""||t!==t)}function WG(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var z1=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Qr({type:t})}static{this.\u0275inj=Kr({})}}return t})(),Hg="browser",YG="server";function M4(t){return t===Hg}function Ug(t){return t===YG}var BD=(()=>{class t{static{this.\u0275prov=nn({token:t,providedIn:"root",factory:()=>M4(Hn(Yo))?new Pg(Hn(zi),window):new Rg})}}return t})(),Pg=class{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let e=ZG(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function ZG(t,n){let e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let a=s.getElementById(n)||s.querySelector(`[name="${n}"]`);if(a)return a}i=r.nextNode()}}return null}var Rg=class{setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}},J5=class{};var $g=class extends X5{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Wg=class t extends $g{static makeCurrent(){TD(new t)}onAndCancel(n,e,r){return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.remove()}createElement(n,e){return e=e||this.getDefaultDocument(),e.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return e==="window"?window:e==="document"?n:e==="body"?n.body:null}getBaseHref(n){let e=XG();return e==null?null:KG(e)}resetBaseElement(){Tu=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return RD(document.cookie,n)}},Tu=null;function XG(){return Tu=Tu||document.querySelector("base"),Tu?Tu.getAttribute("href"):null}function KG(t){return new URL(t,document.baseURI).pathname}var Yg=class{addToWindow(n){Ys.getAngularTestability=(r,i=!0)=>{let s=n.findTestabilityInTree(r,i);if(s==null)throw new jn(5103,!1);return s},Ys.getAllAngularTestabilities=()=>n.getAllTestabilities(),Ys.getAllAngularRootElements=()=>n.getAllRootElements();let e=r=>{let i=Ys.getAllAngularTestabilities(),s=i.length,a=function(){s--,s==0&&r()};i.forEach(o=>{o.whenStable(a)})};Ys.frameworkStabilizers||(Ys.frameworkStabilizers=[]),Ys.frameworkStabilizers.push(e)}findTestabilityInTree(n,e,r){if(e==null)return null;let i=n.getTestability(e);return i??(r?z2().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},QG=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})(),Zg=new ir(""),UD=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(s=>s.supports(e)),!r)throw new jn(5101,!1);return this._eventNameToPlugin.set(e,r),r}static{this.\u0275fac=function(r){return new(r||t)($t(Zg),$t(Wr))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})(),eh=class{constructor(n){this._doc=n}},jg="ng-app-id",jD=(()=>{class t{constructor(e,r,i,s={}){this.doc=e,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ug(s),this.resetHostNodes()}addStyles(e){for(let r of e)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(e){for(let r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){let r=this.styleRef;r.get(e)?.elements?.forEach(i=>i.remove()),r.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${jg}="${this.appId}"]`);if(e?.length){let r=new Map;return e.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(e,r){let i=this.styleRef;if(i.has(e)){let s=i.get(e);return s.usage+=r,s.usage}return i.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===e)return i.delete(r),s.removeAttribute(jg),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(jg,this.appId),e.appendChild(a),a}}addStyleToHost(e,r){let i=this.getStyleElement(e,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)($t(zi),$t(_5),$t(xu,8),$t(Yo))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})(),Gg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Kg=/%COMP%/g,GD="%COMP%",JG=`_nghost-${GD}`,qG=`_ngcontent-${GD}`,e$=!0,t$=new ir("",{providedIn:"root",factory:()=>e$});function n$(t){return qG.replace(Kg,t)}function r$(t){return JG.replace(Kg,t)}function $D(t,n){return n.map(e=>e.replace(Kg,t))}var th=(()=>{class t{constructor(e,r,i,s,a,o,c,l=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=o,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Ug(o),this.defaultRenderer=new Au(e,a,c,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===w2.ShadowDom&&(r=pr(rn({},r),{encapsulation:w2.Emulated}));let i=this.getOrCreateRenderer(e,r);return i instanceof nh?i.applyToHost(e):i instanceof zu&&i.applyStyles(),i}getOrCreateRenderer(e,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let a=this.doc,o=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(r.encapsulation){case w2.Emulated:s=new nh(c,l,r,this.appId,u,a,o,f);break;case w2.ShadowDom:return new Xg(c,l,e,r,a,o,this.nonce,f);default:s=new zu(c,l,r,u,a,o,f);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)($t(UD),$t(jD),$t(_5),$t(t$),$t(zi),$t(Yo),$t(Wr),$t(xu))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})(),Au=class{constructor(n,e,r,i){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(Gg[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(VD(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(VD(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){e.remove()}selectRootElement(n,e){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new jn(-5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,i){if(i){e=i+":"+e;let s=Gg[i];s?n.setAttributeNS(s,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){let i=Gg[r];i?n.removeAttributeNS(i,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,i){i&(v0.DashCase|v0.Important)?n.style.setProperty(e,r,i&v0.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&v0.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n!=null&&(n[e]=r)}setValue(n,e){n.nodeValue=e}listen(n,e,r){if(typeof n=="string"&&(n=z2().getGlobalEventTarget(this.doc,n),!n))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(r))}decoratePreventDefault(n){return e=>{if(e==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))===!1&&e.preventDefault()}}};function VD(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Xg=class extends Au{constructor(n,e,r,i,s,a,o,c){super(n,s,a,c),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=$D(i.id,i.styles);for(let u of l){let f=document.createElement("style");o&&f.setAttribute("nonce",o),f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(null,e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},zu=class extends Au{constructor(n,e,r,i,s,a,o,c){super(n,s,a,o),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.styles=c?$D(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},nh=class extends zu{constructor(n,e,r,i,s,a,o,c){let l=i+"-"+r.id;super(n,e,r,s,a,o,c,l),this.contentAttr=n$(l),this.hostAttr=r$(l)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){let r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}},i$=(()=>{class t extends eh{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)($t(zi))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})(),HD=["alt","control","meta","shift"],a$={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},s$={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},o$=(()=>{class t extends eh{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,r,i){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>z2().onAndCancel(e,s.domEventName,a))}static parseEventName(e){let r=e.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),a="",o=r.indexOf("code");if(o>-1&&(r.splice(o,1),a="code."),HD.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),a+=l+".")}),a+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=i,c.fullKey=a,c}static matchEventFullKeyCode(e,r){let i=a$[e.key]||e.key,s="";return r.indexOf("code.")>-1&&(i=e.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),HD.forEach(a=>{if(a!==i){let o=s$[a];o(e)&&(s+=a+".")}}),s+=i,s===r)}static eventCallback(e,r,i){return s=>{t.matchEventFullKeyCode(s,e)&&i.runGuarded(()=>r(s))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(r){return new(r||t)($t(zi))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();function l$(){Wg.makeCurrent()}function c$(){return new p0}function u$(){return HS(document),document}var f$=[{provide:Yo,useValue:Hg},{provide:qv,useValue:l$,multi:!0},{provide:zi,useFactory:u$,deps:[]}],WD=Sg(gD,"browser",f$),d$=new ir(""),h$=[{provide:_u,useClass:Yg,deps:[]},{provide:Cg,useClass:O5,deps:[Wr,F5,_u]},{provide:O5,useClass:O5,deps:[Wr,F5,_u]}],p$=[{provide:d5,useValue:"root"},{provide:p0,useFactory:c$,deps:[]},{provide:Zg,useClass:i$,multi:!0,deps:[zi,Wr,Yo]},{provide:Zg,useClass:o$,multi:!0,deps:[zi]},th,jD,UD,{provide:cl,useExisting:th},{provide:J5,useClass:QG,deps:[]},[]],rh=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:_5,useValue:e.appId}]}}static{this.\u0275fac=function(r){return new(r||t)($t(d$,12))}}static{this.\u0275mod=Qr({type:t})}static{this.\u0275inj=Kr({providers:[...p$,...h$],imports:[z1,yD]})}}return t})();var YD=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(r){return new(r||t)($t(zi))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Qg=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:function(r){let i=null;return r?i=new(r||t):i=$t(m$),i},providedIn:"root"})}}return t})(),m$=(()=>{class t extends Qg{constructor(e){super(),this._doc=e}sanitize(e,r){if(r==null)return null;switch(e){case K1.NONE:return r;case K1.HTML:return x0(r,"HTML")?S1(r):tg(this._doc,String(r)).toString();case K1.STYLE:return x0(r,"Style")?S1(r):r;case K1.SCRIPT:if(x0(r,"Script"))return S1(r);throw new jn(5200,!1);case K1.URL:return x0(r,"URL")?S1(r):L5(String(r));case K1.RESOURCE_URL:if(x0(r,"ResourceURL"))return S1(r);throw new jn(5201,!1);default:throw new jn(5202,!1)}}bypassSecurityTrustHtml(e){return $S(e)}bypassSecurityTrustStyle(e){return WS(e)}bypassSecurityTrustScript(e){return YS(e)}bypassSecurityTrustUrl(e){return ZS(e)}bypassSecurityTrustResourceUrl(e){return XS(e)}static{this.\u0275fac=function(r){return new(r||t)($t(zi))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var nT=(()=>{class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(r){return new(r||t)(ht(Bs),ht(Ui))}}static{this.\u0275dir=Er({type:t})}}return t})(),ph=(()=>{class t extends nT{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Wo(t)))(i||t)}})()}static{this.\u0275dir=Er({type:t,features:[Nr]})}}return t})(),Pu=new ir(""),v$={provide:Pu,useExisting:Io(()=>iy),multi:!0},iy=(()=>{class t extends ph{writeValue(e){this.setProperty("checked",e)}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Wo(t)))(i||t)}})()}static{this.\u0275dir=Er({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&Bt("change",function(a){return i.onChange(a.target.checked)})("blur",function(){return i.onTouched()})},features:[ss([v$]),Nr]})}}return t})(),g$={provide:Pu,useExisting:Io(()=>Yr),multi:!0};function y$(){let t=z2()?z2().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var x$=new ir(""),Yr=(()=>{class t extends nT{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!y$())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(r){return new(r||t)(ht(Bs),ht(Ui),ht(x$,8))}}static{this.\u0275dir=Er({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Bt("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[ss([g$]),Nr]})}}return t})();function hl(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function rT(t){return t!=null&&typeof t.length=="number"}var Lc=new ir(""),mh=new ir(""),b$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,os=class{static min(n){return iT(n)}static max(n){return aT(n)}static required(n){return sT(n)}static requiredTrue(n){return C$(n)}static email(n){return M$(n)}static minLength(n){return w$(n)}static maxLength(n){return _$(n)}static pattern(n){return S$(n)}static nullValidator(n){return sh(n)}static compose(n){return dT(n)}static composeAsync(n){return pT(n)}};function iT(t){return n=>{if(hl(n.value)||hl(t))return null;let e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function aT(t){return n=>{if(hl(n.value)||hl(t))return null;let e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}function sT(t){return hl(t.value)?{required:!0}:null}function C$(t){return t.value===!0?null:{required:!0}}function M$(t){return hl(t.value)||b$.test(t.value)?null:{email:!0}}function w$(t){return n=>hl(n.value)||!rT(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}function _$(t){return n=>rT(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}function S$(t){if(!t)return sh;let n,e;return typeof t=="string"?(e="",t.charAt(0)!=="^"&&(e+="^"),e+=t,t.charAt(t.length-1)!=="$"&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),r=>{if(hl(r.value))return null;let i=r.value;return n.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}function sh(t){return null}function oT(t){return t!=null}function lT(t){return Sc(t)?ba(t):t}function cT(t){let n={};return t.forEach(e=>{n=e!=null?rn(rn({},n),e):n}),Object.keys(n).length===0?null:n}function uT(t,n){return n.map(e=>e(t))}function L$(t){return!t.validate}function fT(t){return t.map(n=>L$(n)?n:e=>n.validate(e))}function dT(t){if(!t)return null;let n=t.filter(oT);return n.length==0?null:function(e){return cT(uT(e,n))}}function hT(t){return t!=null?dT(fT(t)):null}function pT(t){if(!t)return null;let n=t.filter(oT);return n.length==0?null:function(e){let r=uT(e,n).map(lT);return o9(r).pipe(jr(cT))}}function mT(t){return t!=null?pT(fT(t)):null}function ZD(t,n){return t===null?[n]:Array.isArray(t)?[...t,n]:[t,n]}function vT(t){return t._rawValidators}function gT(t){return t._rawAsyncValidators}function qg(t){return t?Array.isArray(t)?t:[t]:[]}function oh(t,n){return Array.isArray(t)?t.includes(n):t===n}function XD(t,n){let e=qg(n);return qg(t).forEach(i=>{oh(e,i)||e.push(i)}),e}function KD(t,n){return qg(n).filter(e=>!oh(t,e))}var lh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=hT(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=mT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},E1=class extends lh{get formDirective(){return null}get path(){return null}},S4=class extends lh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ch=class{constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},D$={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ece=pr(rn({},D$),{"[class.ng-submitted]":"isSubmitted"}),fi=(()=>{class t extends ch{constructor(e){super(e)}static{this.\u0275fac=function(r){return new(r||t)(ht(S4,2))}}static{this.\u0275dir=Er({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Mn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Nr]})}}return t})(),Rr=(()=>{class t extends ch{constructor(e){super(e)}static{this.\u0275fac=function(r){return new(r||t)(ht(E1,10))}}static{this.\u0275dir=Er({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Mn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Nr]})}}return t})();var Eu="VALID",ih="INVALID",w4="PENDING",Iu="DISABLED",pl=class{},uh=class extends pl{constructor(n,e){super(),this.value=n,this.source=e}},ku=class extends pl{constructor(n,e){super(),this.pristine=n,this.source=e}},Nu=class extends pl{constructor(n,e){super(),this.touched=n,this.source=e}},_4=class extends pl{constructor(n,e){super(),this.status=n,this.source=e}},ey=class extends pl{constructor(n){super(),this.source=n}},ty=class extends pl{constructor(n){super(),this.source=n}};function ay(t){return(vh(t)?t.validators:t)||null}function T$(t){return Array.isArray(t)?hT(t):t||null}function sy(t,n){return(vh(n)?n.asyncValidators:t)||null}function A$(t){return Array.isArray(t)?mT(t):t||null}function vh(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function yT(t,n,e){let r=t.controls;if(!(n?Object.keys(r):r).length)throw new jn(1e3,"");if(!r[e])throw new jn(1001,"")}function xT(t,n,e){t._forEachChild((r,i)=>{if(e[i]===void 0)throw new jn(1002,"")})}var L4=class{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Lu(()=>this.statusReactive()),this.statusReactive=Cu(void 0),this._pristine=Lu(()=>this.pristineReactive()),this.pristineReactive=Cu(!0),this._touched=Lu(()=>this.touchedReactive()),this.touchedReactive=Cu(!1),this._events=new nr,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return J1(this.statusReactive)}set status(n){J1(()=>this.statusReactive.set(n))}get valid(){return this.status===Eu}get invalid(){return this.status===ih}get pending(){return this.status==w4}get disabled(){return this.status===Iu}get enabled(){return this.status!==Iu}get pristine(){return J1(this.pristineReactive)}set pristine(n){J1(()=>this.pristineReactive.set(n))}get dirty(){return!this.pristine}get touched(){return J1(this.touchedReactive)}set touched(n){J1(()=>this.touchedReactive.set(n))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(XD(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(XD(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(KD(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(KD(n,this._rawAsyncValidators))}hasValidator(n){return oh(this._rawValidators,n)}hasAsyncValidator(n){return oh(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let e=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(pr(rn({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new Nu(!0,r))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),e&&n.emitEvent!==!1&&this._events.next(new Nu(!1,r))}markAsDirty(n={}){let e=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(pr(rn({},n),{sourceControl:r})),e&&n.emitEvent!==!1&&this._events.next(new ku(!1,r))}markAsPristine(n={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),e&&n.emitEvent!==!1&&this._events.next(new ku(!0,r))}markAsPending(n={}){this.status=w4;let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new _4(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(pr(rn({},n),{sourceControl:e}))}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Iu,this.errors=null,this._forEachChild(i=>{i.disable(pr(rn({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new uh(this.value,r)),this._events.next(new _4(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(pr(rn({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=Eu,this._forEachChild(r=>{r.enable(pr(rn({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(pr(rn({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Eu||this.status===w4)&&this._runAsyncValidator(r,n.emitEvent)}let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new uh(this.value,e)),this._events.next(new _4(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(pr(rn({},n),{sourceControl:e}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Iu:Eu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=w4,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let r=lT(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(n,e){let r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new _4(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,r)}_initObservables(){this.valueChanges=new rr,this.statusChanges=new rr}_calculateStatus(){return this._allControlsDisabled()?Iu:this.errors?ih:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(w4)?w4:this._anyControlsHaveStatus(ih)?ih:Eu}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),i&&this._events.next(new ku(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new Nu(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){vh(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=T$(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=A$(this._rawAsyncValidators)}},fh=class extends L4{constructor(n,e,r){super(ay(e),sy(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){xT(this,!0,n),Object.keys(n).forEach(r=>{yT(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(Object.keys(n).forEach(r=>{let i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>r._syncPendingControls()?!0:e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{let r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((i,s)=>{r=e(r,i,s)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var ny=class extends fh{};var gh=new ir("CallSetDisabledState",{providedIn:"root",factory:()=>Ru}),Ru="always";function oy(t,n){return[...n.path,t]}function QD(t,n,e=Ru){ly(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(t.disabled),E$(t,n),k$(t,n),I$(t,n),z$(t,n)}function JD(t,n,e=!0){let r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),hh(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function dh(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function z$(t,n){if(n.valueAccessor.setDisabledState){let e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function ly(t,n){let e=vT(t);n.validator!==null?t.setValidators(ZD(e,n.validator)):typeof e=="function"&&t.setValidators([e]);let r=gT(t);n.asyncValidator!==null?t.setAsyncValidators(ZD(r,n.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();dh(n._rawValidators,i),dh(n._rawAsyncValidators,i)}function hh(t,n){let e=!1;if(t!==null){if(n.validator!==null){let i=vT(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(a=>a!==n.validator);s.length!==i.length&&(e=!0,t.setValidators(s))}}if(n.asyncValidator!==null){let i=gT(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(a=>a!==n.asyncValidator);s.length!==i.length&&(e=!0,t.setAsyncValidators(s))}}}let r=()=>{};return dh(n._rawValidators,r),dh(n._rawAsyncValidators,r),e}function E$(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&bT(t,n)})}function I$(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&bT(t,n),t.updateOn!=="submit"&&t.markAsTouched()})}function bT(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function k$(t,n){let e=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function N$(t,n){t==null,ly(t,n)}function P$(t,n){return hh(t,n)}function R$(t,n){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function O$(t){return Object.getPrototypeOf(t.constructor)===ph}function F$(t,n){t._syncPendingControls(),n.forEach(e=>{let r=e.control;r.updateOn==="submit"&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function B$(t,n){if(!n)return null;Array.isArray(n);let e,r,i;return n.forEach(s=>{s.constructor===Yr?e=s:O$(s)?r=s:i=s}),i||r||e||null}function V$(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function qD(t,n){let e=t.indexOf(n);e>-1&&t.splice(e,1)}function eT(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var ah=class extends L4{constructor(n=null,e,r){super(ay(e),sy(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vh(e)&&(e.nonNullable||e.initialValueIsDefault)&&(eT(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){qD(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){qD(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){eT(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var H$=t=>t instanceof ah,U$=(()=>{class t extends E1{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return oy(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Wo(t)))(i||t)}})()}static{this.\u0275dir=Er({type:t,features:[Nr]})}}return t})();var Xa=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Er({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),j$={provide:Pu,useExisting:Io(()=>vi),multi:!0},vi=(()=>{class t extends ph{writeValue(e){let r=e??"";this.setProperty("value",r)}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Wo(t)))(i||t)}})()}static{this.\u0275dir=Er({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Bt("input",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},features:[ss([j$]),Nr]})}}return t})(),G$={provide:Pu,useExisting:Io(()=>cy),multi:!0};var $$=(()=>{class t{constructor(){this._accessors=[]}add(e,r){this._accessors.push([e,r])}remove(e){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===e){this._accessors.splice(r,1);return}}select(e){this._accessors.forEach(r=>{this._isSameGroup(r,e)&&r[1]!==e&&r[1].fireUncheck(e.value)})}_isSameGroup(e,r){return e[0].control?e[0]._parent===r._control._parent&&e[1].name===r.name:!1}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),cy=(()=>{class t extends ph{constructor(e,r,i,s){super(e,r),this._registry=i,this._injector=s,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=Hn(gh,{optional:!0})??Ru}ngOnInit(){this._control=this._injector.get(S4),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(r){return new(r||t)(ht(Bs),ht(Ui),ht($$),ht(ns))}}static{this.\u0275dir=Er({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&Bt("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[ss([G$]),Nr]})}}return t})();var CT=new ir("");var W$={provide:E1,useExisting:Io(()=>Or)},Or=(()=>{class t extends E1{get submitted(){return J1(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,r,i){super(),this.callSetDisabledState=i,this._submitted=Lu(()=>this._submittedReactive()),this._submittedReactive=Cu(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new rr,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(hh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let r=this.form.get(e.path);return QD(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){JD(e.control||null,e,!1),V$(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this._submittedReactive.set(!0),F$(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new ey(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new ty(this.form))}_updateDomValue(){this.directives.forEach(e=>{let r=e.control,i=this.form.get(e.path);r!==i&&(JD(r||null,e),H$(i)&&(QD(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let r=this.form.get(e.path);N$(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let r=this.form.get(e.path);r&&P$(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ly(this.form,this),this._oldForm&&hh(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(ht(Lc,10),ht(mh,10),ht(gh,8))}}static{this.\u0275dir=Er({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Bt("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ss([W$]),Nr,Fs]})}}return t})(),Y$={provide:E1,useExisting:Io(()=>D4)},D4=(()=>{class t extends U${constructor(e,r,i){super(),this.name=null,this._parent=e,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){MT(this._parent)}static{this.\u0275fac=function(r){return new(r||t)(ht(E1,13),ht(Lc,10),ht(mh,10))}}static{this.\u0275dir=Er({type:t,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[ss([Y$]),Nr]})}}return t})(),Z$={provide:E1,useExisting:Io(()=>T4)},T4=(()=>{class t extends E1{constructor(e,r,i){super(),this.name=null,this._parent=e,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return oy(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){MT(this._parent)}static{this.\u0275fac=function(r){return new(r||t)(ht(E1,13),ht(Lc,10),ht(mh,10))}}static{this.\u0275dir=Er({type:t,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[ss([Z$]),Nr]})}}return t})();function MT(t){return!(t instanceof D4)&&!(t instanceof Or)&&!(t instanceof T4)}var X$={provide:S4,useExisting:Io(()=>oi)},oi=(()=>{class t extends S4{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,r,i,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new rr,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=B$(this,s)}ngOnChanges(e){this._added||this._setUpControl(),R$(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return oy(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(ht(E1,13),ht(Lc,10),ht(mh,10),ht(Pu,10),ht(CT,8))}}static{this.\u0275dir=Er({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[ss([X$]),Nr,Fs]})}}return t})();function wT(t){return typeof t=="number"?t:parseFloat(t)}var uy=(()=>{class t{constructor(){this._validator=sh}ngOnChanges(e){if(this.inputName in e){let r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):sh,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Er({type:t,features:[Fs]})}}return t})(),K$={provide:Lc,useExisting:Io(()=>gi),multi:!0},gi=(()=>{class t extends uy{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>wT(e),this.createValidator=e=>aT(e)}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Wo(t)))(i||t)}})()}static{this.\u0275dir=Er({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&vs("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[ss([K$]),Nr]})}}return t})(),Q$={provide:Lc,useExisting:Io(()=>yi),multi:!0},yi=(()=>{class t extends uy{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>wT(e),this.createValidator=e=>iT(e)}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Wo(t)))(i||t)}})()}static{this.\u0275dir=Er({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&vs("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[ss([Q$]),Nr]})}}return t})(),J$={provide:Lc,useExisting:Io(()=>ea),multi:!0};var ea=(()=>{class t extends uy{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=No,this.createValidator=e=>sT}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Wo(t)))(i||t)}})()}static{this.\u0275dir=Er({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&vs("required",i._enabled?"":null)},inputs:{required:"required"},features:[ss([J$]),Nr]})}}return t})();var _T=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Qr({type:t})}static{this.\u0275inj=Kr({})}}return t})(),ry=class extends L4{constructor(n,e,r){super(ay(e),sy(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,r={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,e={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,r={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){xT(this,!1,n),n.forEach((r,i)=>{yT(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){n!=null&&(n.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,r)=>r._syncPendingControls()?!0:e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,r)=>{n(e,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}};function tT(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var q$=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let e=new t;return e.useNonNullable=!0,e}group(e,r=null){let i=this._reduceControls(e),s={};return tT(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new fh(i,s)}record(e,r=null){let i=this._reduceControls(e);return new ny(i,r)}control(e,r,i){let s={};return this.useNonNullable?(tT(r)?s=r:(s.validators=r,s.asyncValidators=i),new ah(e,pr(rn({},s),{nonNullable:!0}))):new ah(e,r,i)}array(e,r,i){let s=e.map(a=>this._createControl(a));return new ry(s,r,i)}_reduceControls(e){let r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){if(e instanceof ah)return e;if(e instanceof L4)return e;if(Array.isArray(e)){let r=e[0],i=e.length>1?e[1]:null,s=e.length>2?e[2]:null;return this.control(r,i,s)}else return this.control(e)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Fr=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:()=>Hn(q$).nonNullable,providedIn:"root"})}}return t})();var ST=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:gh,useValue:e.callSetDisabledState??Ru}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Qr({type:t})}static{this.\u0275inj=Kr({imports:[_T]})}}return t})(),yh=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:CT,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:gh,useValue:e.callSetDisabledState??Ru}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Qr({type:t})}static{this.\u0275inj=Kr({imports:[_T]})}}return t})();var Fu="Service workers are disabled or not supported by this browser";function eW(t){return oc(()=>K0(new Error(t)))}var A4=class{constructor(n){if(this.serviceWorker=n,!n)this.worker=this.events=this.registration=eW(Fu);else{let r=qs(n,"controllerchange").pipe(jr(()=>n.controller)),i=oc(()=>Lr(n.controller)),s=b1(i,r);this.worker=s.pipe(La(u=>!!u)),this.registration=this.worker.pipe(ms(()=>n.getRegistration()));let l=qs(n,"message").pipe(jr(u=>u.data)).pipe(La(u=>u&&u.type)).pipe(d9());l.connect(),this.events=l}}postMessage(n,e){return this.worker.pipe(za(1),Ss(r=>{r.postMessage(rn({action:n},e))})).toPromise().then(()=>{})}postMessageWithOperation(n,e,r){let i=this.waitForOperationCompleted(r),s=this.postMessage(n,e);return Promise.all([s,i]).then(([,a])=>a)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(n){let e;return typeof n=="string"?e=r=>r.type===n:e=r=>n.includes(r.type),this.events.pipe(La(e))}nextEventOfType(n){return this.eventsOfType(n).pipe(za(1))}waitForOperationCompleted(n){return this.eventsOfType("OPERATION_COMPLETED").pipe(La(e=>e.nonce===n),za(1),jr(e=>{if(e.result!==void 0)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},TT=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,this.pushManager=null,this.subscriptionChanges=new nr,!e.isEnabled){this.messages=lc,this.notificationClicks=lc,this.subscription=lc;return}this.messages=this.sw.eventsOfType("PUSH").pipe(jr(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(jr(i=>i.data)),this.pushManager=this.sw.registration.pipe(jr(i=>i.pushManager));let r=this.pushManager.pipe(ms(i=>i.getSubscription()));this.subscription=J0(r,this.subscriptionChanges)}requestSubscription(e){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Fu));let r={userVisibleOnly:!0},i=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(i.length));for(let a=0;a<i.length;a++)s[a]=i.charCodeAt(a);return r.applicationServerKey=s,this.pushManager.pipe(ms(a=>a.subscribe(r)),za(1)).toPromise().then(a=>(this.subscriptionChanges.next(a),a))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Fu));let e=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(za(1),ms(e)).toPromise()}decodeBase64(e){return atob(e)}static{this.\u0275fac=function(r){return new(r||t)($t(A4))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})(),AT=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled){this.versionUpdates=lc,this.unrecoverable=lc;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Fu));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Fu));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static{this.\u0275fac=function(r){return new(r||t)($t(A4))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();var LT=new ir("");function tW(t,n,e,r){return()=>{if(!(M4(r)&&"serviceWorker"in navigator&&e.enabled!==!1))return;let i=t.get(Wr),s=t.get(Ko);i.runOutsideAngular(()=>{let o=navigator.serviceWorker,c=()=>o.controller?.postMessage({action:"INITIALIZE"});o.addEventListener("controllerchange",c),s.onDestroy(()=>{o.removeEventListener("controllerchange",c)})});let a;if(typeof e.registrationStrategy=="function")a=e.registrationStrategy();else{let[o,...c]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(o){case"registerImmediately":a=Lr(null);break;case"registerWithDelay":a=DT(+c[0]||0);break;case"registerWhenStable":let l=ba(t.get(Ko).whenStable());a=c[0]?J0(l,DT(+c[0])):l;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}i.runOutsideAngular(()=>a.pipe(za(1)).subscribe(()=>navigator.serviceWorker.register(n,{scope:e.scope}).catch(o=>console.error("Service worker registration failed with:",o))))}}function DT(t){return Lr(null).pipe(u9(t))}function nW(t,n){return new A4(M4(n)&&t.enabled!==!1?navigator.serviceWorker:void 0)}var Ou=class{};function rW(t,n={}){return f5([TT,AT,{provide:LT,useValue:t},{provide:Ou,useValue:n},{provide:A4,useFactory:nW,deps:[Ou,Yo]},{provide:b4,useFactory:tW,deps:[ns,LT,Ou,Yo],multi:!0}])}var zT=(()=>{class t{static register(e,r={}){return{ngModule:t,providers:[rW(e,r)]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Qr({type:t})}static{this.\u0275inj=Kr({providers:[TT,AT]})}}return t})();var li=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(li||{}),E2="*";function xh(t,n){return{type:li.Trigger,name:t,definitions:n,options:{}}}function Dc(t,n=null){return{type:li.Animate,styles:n,timings:t}}function ET(t,n=null){return{type:li.Sequence,steps:t,options:n}}function qo(t){return{type:li.Style,styles:t,offset:null}}function Tc(t,n,e){return{type:li.State,name:t,styles:n,options:e}}function IT(t){return{type:li.Keyframes,steps:t}}function Ac(t,n,e=null){return{type:li.Transition,expr:t,animation:n,options:e}}var ml=class{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){let e=n=="start"?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}},Bu=class{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==s&&this._onFinish()}),a.onDestroy(()=>{++r==s&&this._onDestroy()}),a.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,o)=>Math.max(a,o.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){let e=n*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){let n=this.players.reduce((e,r)=>e===null||r.totalTime>e.totalTime?r:e,null);return n!=null?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){let e=n=="start"?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}},bh="!";function kT(t){return new jn(3e3,!1)}function iW(){return new jn(3100,!1)}function aW(){return new jn(3101,!1)}function sW(t){return new jn(3001,!1)}function oW(t){return new jn(3003,!1)}function lW(t){return new jn(3004,!1)}function cW(t,n){return new jn(3005,!1)}function uW(){return new jn(3006,!1)}function fW(){return new jn(3007,!1)}function dW(t,n){return new jn(3008,!1)}function hW(t){return new jn(3002,!1)}function pW(t,n,e,r,i){return new jn(3010,!1)}function mW(){return new jn(3011,!1)}function vW(){return new jn(3012,!1)}function gW(){return new jn(3200,!1)}function yW(){return new jn(3202,!1)}function xW(){return new jn(3013,!1)}function bW(t){return new jn(3014,!1)}function CW(t){return new jn(3015,!1)}function MW(t){return new jn(3016,!1)}function wW(t,n){return new jn(3404,!1)}function _W(t){return new jn(3502,!1)}function SW(t){return new jn(3503,!1)}function LW(){return new jn(3300,!1)}function DW(t){return new jn(3504,!1)}function TW(t){return new jn(3301,!1)}function AW(t,n){return new jn(3302,!1)}function zW(t){return new jn(3303,!1)}function EW(t,n){return new jn(3400,!1)}function IW(t){return new jn(3401,!1)}function kW(t){return new jn(3402,!1)}function NW(t,n){return new jn(3505,!1)}function vl(t){switch(t.length){case 0:return new ml;case 1:return t[0];default:return new Bu(t)}}function YT(t,n,e=new Map,r=new Map){let i=[],s=[],a=-1,o=null;if(n.forEach(c=>{let l=c.get("offset"),u=l==a,f=u&&o||new Map;c.forEach((h,p)=>{let m=p,d=h;if(p!=="offset")switch(m=t.normalizePropertyName(m,i),d){case bh:d=e.get(p);break;case E2:d=r.get(p);break;default:d=t.normalizeStyleValue(p,m,d,i);break}f.set(m,d)}),u||s.push(f),o=f,a=l}),i.length)throw _W(i);return s}function ky(t,n,e,r){switch(n){case"start":t.onStart(()=>r(e&&fy(e,"start",t)));break;case"done":t.onDone(()=>r(e&&fy(e,"done",t)));break;case"destroy":t.onDestroy(()=>r(e&&fy(e,"destroy",t)));break}}function fy(t,n,e){let r=e.totalTime,i=!!e.disabled,s=Ny(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,r??t.totalTime,i),a=t._data;return a!=null&&(s._data=a),s}function Ny(t,n,e,r,i="",s=0,a){return{element:t,triggerName:n,fromState:e,toState:r,phaseName:i,totalTime:s,disabled:!!a}}function t1(t,n,e){let r=t.get(n);return r||t.set(n,r=e),r}function NT(t){let n=t.indexOf(":"),e=t.substring(1,n),r=t.slice(n+1);return[e,r]}var PW=typeof document>"u"?null:document.documentElement;function Py(t){let n=t.parentNode||t.host||null;return n===PW?null:n}function RW(t){return t.substring(1,6)=="ebkit"}var zc=null,PT=!1;function OW(t){zc||(zc=FW()||{},PT=zc.style?"WebkitAppearance"in zc.style:!1);let n=!0;return zc.style&&!RW(t)&&(n=t in zc.style,!n&&PT&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in zc.style)),n}function FW(){return typeof document<"u"?document.body:null}function ZT(t,n){for(;n;){if(n===t)return!0;n=Py(n)}return!1}function XT(t,n,e){if(e)return Array.from(t.querySelectorAll(n));let r=t.querySelector(n);return r?[r]:[]}var Ry=(()=>{class t{validateStyleProperty(e){return OW(e)}containsElement(e,r){return ZT(e,r)}getParentElement(e){return Py(e)}query(e,r,i){return XT(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,s,a,o=[],c){return new ml(i,s)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})(),kc=class{static{this.NOOP=new Ry}},Nc=class{};var BW=1e3,KT="{{",VW="}}",QT="ng-enter",gy="ng-leave",Ch="ng-trigger",Lh=".ng-trigger",RT="ng-animating",yy=".ng-animating";function D0(t){if(typeof t=="number")return t;let n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:xy(parseFloat(n[1]),n[2])}function xy(t,n){switch(n){case"s":return t*BW;default:return t}}function Dh(t,n,e){return t.hasOwnProperty("duration")?t:HW(t,n,e)}function HW(t,n,e){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,a="";if(typeof t=="string"){let o=t.match(r);if(o===null)return n.push(kT(t)),{duration:0,delay:0,easing:""};i=xy(parseFloat(o[1]),o[2]);let c=o[3];c!=null&&(s=xy(parseFloat(c),o[4]));let l=o[5];l&&(a=l)}else i=t;if(!e){let o=!1,c=n.length;i<0&&(n.push(iW()),o=!0),s<0&&(n.push(aW()),o=!0),o&&n.splice(c,0,kT(t))}return{duration:i,delay:s,easing:a}}function UW(t){return t.length?t[0]instanceof Map?t:t.map(n=>new Map(Object.entries(n))):[]}function I2(t,n,e){n.forEach((r,i)=>{let s=Oy(i);e&&!e.has(i)&&e.set(i,t.style[s]),t.style[s]=r})}function Ic(t,n){n.forEach((e,r)=>{let i=Oy(r);t.style[i]=""})}function Vu(t){return Array.isArray(t)?t.length==1?t[0]:ET(t):t}function jW(t,n,e){let r=n.params||{},i=JT(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||e.push(sW(s))})}var by=new RegExp(`${KT}\\s*(.+?)\\s*${VW}`,"g");function JT(t){let n=[];if(typeof t=="string"){let e;for(;e=by.exec(t);)n.push(e[1]);by.lastIndex=0}return n}function Uu(t,n,e){let r=`${t}`,i=r.replace(by,(s,a)=>{let o=n[a];return o==null&&(e.push(oW(a)),o=""),o.toString()});return i==r?t:i}var GW=/-+([a-z0-9])/g;function Oy(t){return t.replace(GW,(...n)=>n[1].toUpperCase())}function $W(t,n){return t===0||n===0}function WW(t,n,e){if(e.size&&n.length){let r=n[0],i=[];if(e.forEach((s,a)=>{r.has(a)||i.push(a),r.set(a,s)}),i.length)for(let s=1;s<n.length;s++){let a=n[s];i.forEach(o=>a.set(o,Fy(t,o)))}}return n}function e1(t,n,e){switch(n.type){case li.Trigger:return t.visitTrigger(n,e);case li.State:return t.visitState(n,e);case li.Transition:return t.visitTransition(n,e);case li.Sequence:return t.visitSequence(n,e);case li.Group:return t.visitGroup(n,e);case li.Animate:return t.visitAnimate(n,e);case li.Keyframes:return t.visitKeyframes(n,e);case li.Style:return t.visitStyle(n,e);case li.Reference:return t.visitReference(n,e);case li.AnimateChild:return t.visitAnimateChild(n,e);case li.AnimateRef:return t.visitAnimateRef(n,e);case li.Query:return t.visitQuery(n,e);case li.Stagger:return t.visitStagger(n,e);default:throw lW(n.type)}}function Fy(t,n){return window.getComputedStyle(t)[n]}var YW=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Th=class extends Nc{normalizePropertyName(n,e){return Oy(n)}normalizeStyleValue(n,e,r,i){let s="",a=r.toString().trim();if(YW.has(e)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let o=r.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&o[1].length==0&&i.push(cW(n,r))}return a+s}};var Ah="*";function ZW(t,n){let e=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>XW(r,e,n)):e.push(t),e}function XW(t,n,e){if(t[0]==":"){let c=KW(t,e);if(typeof c=="function"){n.push(c);return}t=c}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return e.push(CW(t)),n;let i=r[1],s=r[2],a=r[3];n.push(OT(i,a));let o=i==Ah&&a==Ah;s[0]=="<"&&!o&&n.push(OT(a,i))}function KW(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return n.push(MW(t)),"* => *"}}var Mh=new Set(["true","1"]),wh=new Set(["false","0"]);function OT(t,n){let e=Mh.has(t)||wh.has(t),r=Mh.has(n)||wh.has(n);return(i,s)=>{let a=t==Ah||t==i,o=n==Ah||n==s;return!a&&e&&typeof i=="boolean"&&(a=i?Mh.has(t):wh.has(t)),!o&&r&&typeof s=="boolean"&&(o=s?Mh.has(n):wh.has(n)),a&&o}}var qT=":self",QW=new RegExp(`s*${qT}s*,?`,"g");function eA(t,n,e,r){return new Cy(t).build(n,e,r)}var FT="",Cy=class{constructor(n){this._driver=n}build(n,e,r){let i=new My(e);return this._resetContextStyleTimingState(i),e1(this,Vu(n),i)}_resetContextStyleTimingState(n){n.currentQuerySelector=FT,n.collectedStyles=new Map,n.collectedStyles.set(FT,new Map),n.currentTime=0}visitTrigger(n,e){let r=e.queryCount=0,i=e.depCount=0,s=[],a=[];return n.name.charAt(0)=="@"&&e.errors.push(uW()),n.definitions.forEach(o=>{if(this._resetContextStyleTimingState(e),o.type==li.State){let c=o,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,s.push(this.visitState(c,e))}),c.name=l}else if(o.type==li.Transition){let c=this.visitTransition(o,e);r+=c.queryCount,i+=c.depCount,a.push(c)}else e.errors.push(fW())}),{type:li.Trigger,name:n.name,states:s,transitions:a,queryCount:r,depCount:i,options:null}}visitState(n,e){let r=this.visitStyle(n.styles,e),i=n.options&&n.options.params||null;if(r.containsDynamicStyles){let s=new Set,a=i||{};r.styles.forEach(o=>{o instanceof Map&&o.forEach(c=>{JT(c).forEach(l=>{a.hasOwnProperty(l)||s.add(l)})})}),s.size&&e.errors.push(dW(n.name,[...s.values()]))}return{type:li.State,name:n.name,style:r,options:i?{params:i}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;let r=e1(this,Vu(n.animation),e),i=ZW(n.expr,e.errors);return{type:li.Transition,matchers:i,animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Ec(n.options)}}visitSequence(n,e){return{type:li.Sequence,steps:n.steps.map(r=>e1(this,r,e)),options:Ec(n.options)}}visitGroup(n,e){let r=e.currentTime,i=0,s=n.steps.map(a=>{e.currentTime=r;let o=e1(this,a,e);return i=Math.max(i,e.currentTime),o});return e.currentTime=i,{type:li.Group,steps:s,options:Ec(n.options)}}visitAnimate(n,e){let r=tY(n.timings,e.errors);e.currentAnimateTimings=r;let i,s=n.styles?n.styles:qo({});if(s.type==li.Keyframes)i=this.visitKeyframes(s,e);else{let a=n.styles,o=!1;if(!a){o=!0;let l={};r.easing&&(l.easing=r.easing),a=qo(l)}e.currentTime+=r.duration+r.delay;let c=this.visitStyle(a,e);c.isEmptyStep=o,i=c}return e.currentAnimateTimings=null,{type:li.Animate,timings:r,style:i,options:null}}visitStyle(n,e){let r=this._makeStyleAst(n,e);return this._validateStyleAst(r,e),r}_makeStyleAst(n,e){let r=[],i=Array.isArray(n.styles)?n.styles:[n.styles];for(let o of i)typeof o=="string"?o===E2?r.push(o):e.errors.push(hW(o)):r.push(new Map(Object.entries(o)));let s=!1,a=null;return r.forEach(o=>{if(o instanceof Map&&(o.has("easing")&&(a=o.get("easing"),o.delete("easing")),!s)){for(let c of o.values())if(c.toString().indexOf(KT)>=0){s=!0;break}}}),{type:li.Style,styles:r,easing:a,offset:n.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(n,e){let r=e.currentAnimateTimings,i=e.currentTime,s=e.currentTime;r&&s>0&&(s-=r.duration+r.delay),n.styles.forEach(a=>{typeof a!="string"&&a.forEach((o,c)=>{let l=e.collectedStyles.get(e.currentQuerySelector),u=l.get(c),f=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(e.errors.push(pW(c,u.startTime,u.endTime,s,i)),f=!1),s=u.startTime),f&&l.set(c,{startTime:s,endTime:i}),e.options&&jW(o,e.options,e.errors)})})}visitKeyframes(n,e){let r={type:li.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(mW()),r;let i=1,s=0,a=[],o=!1,c=!1,l=0,u=n.steps.map(x=>{let w=this._makeStyleAst(x,e),L=w.offset!=null?w.offset:eY(w.styles),_=0;return L!=null&&(s++,_=w.offset=L),c=c||_<0||_>1,o=o||_<l,l=_,a.push(_),w});c&&e.errors.push(vW()),o&&e.errors.push(gW());let f=n.steps.length,h=0;s>0&&s<f?e.errors.push(yW()):s==0&&(h=i/(f-1));let p=f-1,m=e.currentTime,d=e.currentAnimateTimings,y=d.duration;return u.forEach((x,w)=>{let L=h>0?w==p?1:h*w:a[w],_=L*y;e.currentTime=m+d.delay+_,d.duration=_,this._validateStyleAst(x,e),x.offset=L,r.styles.push(x)}),r}visitReference(n,e){return{type:li.Reference,animation:e1(this,Vu(n.animation),e),options:Ec(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:li.AnimateChild,options:Ec(n.options)}}visitAnimateRef(n,e){return{type:li.AnimateRef,animation:this.visitReference(n.animation,e),options:Ec(n.options)}}visitQuery(n,e){let r=e.currentQuerySelector,i=n.options||{};e.queryCount++,e.currentQuery=n;let[s,a]=JW(n.selector);e.currentQuerySelector=r.length?r+" "+s:s,t1(e.collectedStyles,e.currentQuerySelector,new Map);let o=e1(this,Vu(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:li.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:o,originalSelector:n.selector,options:Ec(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(xW());let r=n.timings==="full"?{duration:0,delay:0,easing:"full"}:Dh(n.timings,e.errors,!0);return{type:li.Stagger,animation:e1(this,Vu(n.animation),e),timings:r,options:null}}};function JW(t){let n=!!t.split(/\s*,\s*/).find(e=>e==qT);return n&&(t=t.replace(QW,"")),t=t.replace(/@\*/g,Lh).replace(/@\w+/g,e=>Lh+"-"+e.slice(1)).replace(/:animating/g,yy),[t,n]}function qW(t){return t?rn({},t):null}var My=class{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function eY(t){if(typeof t=="string")return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){let r=e;n=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}function tY(t,n){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let s=Dh(t,n).duration;return dy(s,0,"")}let e=t;if(e.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=dy(0,0,"");return s.dynamic=!0,s.strValue=e,s}let i=Dh(e,n);return dy(i.duration,i.delay,i.easing)}function Ec(t){return t?(t=rn({},t),t.params&&(t.params=qW(t.params))):t={},t}function dy(t,n,e){return{duration:t,delay:n,easing:e}}function By(t,n,e,r,i,s,a=null,o=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:a,subTimeline:o}}var ju=class{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let r=this._map.get(n);r||this._map.set(n,r=[]),r.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}},nY=1,rY=":enter",iY=new RegExp(rY,"g"),aY=":leave",sY=new RegExp(aY,"g");function tA(t,n,e,r,i,s=new Map,a=new Map,o,c,l=[]){return new wy().buildKeyframes(t,n,e,r,i,s,a,o,c,l)}var wy=class{buildKeyframes(n,e,r,i,s,a,o,c,l,u=[]){l=l||new ju;let f=new _y(n,e,l,i,s,u,[]);f.options=c;let h=c.delay?D0(c.delay):0;f.currentTimeline.delayNextStep(h),f.currentTimeline.setStyles([a],null,f.errors,c),e1(this,r,f);let p=f.timelines.filter(m=>m.containsAnimation());if(p.length&&o.size){let m;for(let d=p.length-1;d>=0;d--){let y=p[d];if(y.element===e){m=y;break}}m&&!m.allowOnlyTimelineStyles()&&m.setStyles([o],null,f.errors,c)}return p.length?p.map(m=>m.buildKeyframes()):[By(e,[],[],[],0,h,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){let r=e.subInstructions.get(e.element);if(r){let i=e.createSubContext(n.options),s=e.currentTimeline.currentTime,a=this._visitSubInstructions(r,i,i.options);s!=a&&e.transformIntoNewTimeline(a)}e.previousNode=n}visitAnimateRef(n,e){let r=e.createSubContext(n.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,r),this.visitReference(n.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,r){for(let i of n){let s=i?.delay;if(s){let a=typeof s=="number"?s:D0(Uu(s,i?.params??{},e.errors));r.delayNextStep(a)}}}_visitSubInstructions(n,e,r){let s=e.currentTimeline.currentTime,a=r.duration!=null?D0(r.duration):null,o=r.delay!=null?D0(r.delay):null;return a!==0&&n.forEach(c=>{let l=e.appendInstructionToTimeline(c,a,o);s=Math.max(s,l.duration+l.delay)}),s}visitReference(n,e){e.updateOptions(n.options,!0),e1(this,n.animation,e),e.previousNode=n}visitSequence(n,e){let r=e.subContextCount,i=e,s=n.options;if(s&&(s.params||s.delay)&&(i=e.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==li.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=zh);let a=D0(s.delay);i.delayNextStep(a)}n.steps.length&&(n.steps.forEach(a=>e1(this,a,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){let r=[],i=e.currentTimeline.currentTime,s=n.options&&n.options.delay?D0(n.options.delay):0;n.steps.forEach(a=>{let o=e.createSubContext(n.options);s&&o.delayNextStep(s),e1(this,a,o),i=Math.max(i,o.currentTimeline.currentTime),r.push(o.currentTimeline)}),r.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(i),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){let r=n.strValue,i=e.params?Uu(r,e.params,e.errors):r;return Dh(i,e.errors)}else return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){let r=e.currentAnimateTimings=this._visitTiming(n.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());let s=n.style;s.type==li.Keyframes?this.visitKeyframes(s,e):(e.incrementTime(r.duration),this.visitStyle(s,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){let r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=i&&i.easing||n.easing;n.isEmptyStep?r.applyEmptyStep(s):r.setStyles(n.styles,s,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){let r=e.currentAnimateTimings,i=e.currentTimeline.duration,s=r.duration,o=e.createSubContext().currentTimeline;o.easing=r.easing,n.styles.forEach(c=>{let l=c.offset||0;o.forwardTime(l*s),o.setStyles(c.styles,c.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(i+s),e.previousNode=n}visitQuery(n,e){let r=e.currentTimeline.currentTime,i=n.options||{},s=i.delay?D0(i.delay):0;s&&(e.previousNode.type===li.Style||r==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=zh);let a=r,o=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=o.length;let c=null;o.forEach((l,u)=>{e.currentQueryIndex=u;let f=e.createSubContext(n.options,l);s&&f.delayNextStep(s),l===e.element&&(c=f.currentTimeline),e1(this,n.animation,f),f.currentTimeline.applyStylesToKeyframe();let h=f.currentTimeline.currentTime;a=Math.max(a,h)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){let r=e.parentContext,i=e.currentTimeline,s=n.timings,a=Math.abs(s.duration),o=a*(e.currentQueryTotal-1),c=a*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=o-c;break;case"full":c=r.currentStaggerTime;break}let u=e.currentTimeline;c&&u.delayNextStep(c);let f=u.currentTime;e1(this,n.animation,e),e.previousNode=n,r.currentStaggerTime=i.currentTime-f+(i.startTime-r.currentTimeline.startTime)}},zh={},_y=class t{constructor(n,e,r,i,s,a,o,c){this._driver=n,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=a,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=zh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Eh(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;let r=n,i=this.options;r.duration!=null&&(i.duration=D0(r.duration)),r.delay!=null&&(i.delay=D0(r.delay));let s=r.params;if(s){let a=i.params;a||(a=this.options.params={}),Object.keys(s).forEach(o=>{(!e||!a.hasOwnProperty(o))&&(a[o]=Uu(s[o],a,this.errors))})}}_copyOptions(){let n={};if(this.options){let e=this.options.params;if(e){let r=n.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return n}createSubContext(n=null,e,r){let i=e||this.element,s=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(n),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(n){return this.previousNode=zh,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,r){let i={duration:e??n.duration,delay:this.currentTimeline.currentTime+(r??0)+n.delay,easing:""},s=new Sy(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,i,n.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,r,i,s,a){let o=[];if(i&&o.push(this.element),n.length>0){n=n.replace(iY,"."+this._enterClassName),n=n.replace(sY,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,n,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),o.push(...l)}return!s&&o.length==0&&a.push(bW(e)),o}},Eh=class t{constructor(n,e,r,i){this._driver=n,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new t(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=nY,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||E2),this._currentKeyframe.set(e,E2);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,r,i){e&&this._previousKeyframe.set("easing",e);let s=i&&i.params||{},a=oY(n,this._globalTimelineStyles);for(let[o,c]of a){let l=Uu(c,s,r);this._pendingStyles.set(o,l),this._localTimelineStyles.has(o)||this._backFill.set(o,this._globalTimelineStyles.get(o)??E2),this._updateStyle(o,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,r)=>{let i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let n=new Set,e=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((o,c)=>{let l=new Map([...this._backFill,...o]);l.forEach((u,f)=>{u===bh?n.add(f):u===E2&&e.add(f)}),r||l.set("offset",c/this.duration),i.push(l)});let s=[...n.values()],a=[...e.values()];if(r){let o=i[0],c=new Map(o);o.set("offset",0),c.set("offset",1),i=[o,c]}return By(this.element,i,s,a,this.duration,this.startTime,this.easing,!1)}},Sy=class extends Eh{constructor(n,e,r,i,s,a,o=!1){super(n,e,a.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=o,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){let s=[],a=r+e,o=e/a,c=new Map(n[0]);c.set("offset",0),s.push(c);let l=new Map(n[0]);l.set("offset",BT(o)),s.push(l);let u=n.length-1;for(let f=1;f<=u;f++){let h=new Map(n[f]),p=h.get("offset"),m=e+p*r;h.set("offset",BT(m/a)),s.push(h)}r=a,e=0,i="",n=s}return By(this.element,n,this.preStyleProps,this.postStyleProps,r,e,i,!0)}};function BT(t,n=3){let e=Math.pow(10,n-1);return Math.round(t*e)/e}function oY(t,n){let e=new Map,r;return t.forEach(i=>{if(i==="*"){r??=n.keys();for(let s of r)e.set(s,E2)}else for(let[s,a]of i)e.set(s,a)}),e}function VT(t,n,e,r,i,s,a,o,c,l,u,f,h){return{type:0,element:t,triggerName:n,isRemovalTransition:i,fromState:e,fromStyles:s,toState:r,toStyles:a,timelines:o,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:f,errors:h}}var hy={},Ih=class{constructor(n,e,r){this._triggerName=n,this.ast=e,this._stateStyles=r}match(n,e,r,i){return lY(this.ast.matchers,n,e,r,i)}buildStyles(n,e,r){let i=this._stateStyles.get("*");return n!==void 0&&(i=this._stateStyles.get(n?.toString())||i),i?i.buildStyles(e,r):new Map}build(n,e,r,i,s,a,o,c,l,u){let f=[],h=this.ast.options&&this.ast.options.params||hy,p=o&&o.params||hy,m=this.buildStyles(r,p,f),d=c&&c.params||hy,y=this.buildStyles(i,d,f),x=new Set,w=new Map,L=new Map,_=i==="void",D={params:nA(d,h),delay:this.ast.options?.delay},C=u?[]:tA(n,e,this.ast.animation,s,a,m,y,D,l,f),z=0;return C.forEach(b=>{z=Math.max(b.duration+b.delay,z)}),f.length?VT(e,this._triggerName,r,i,_,m,y,[],[],w,L,z,f):(C.forEach(b=>{let S=b.element,M=t1(w,S,new Set);b.preStyleProps.forEach(T=>M.add(T));let I=t1(L,S,new Set);b.postStyleProps.forEach(T=>I.add(T)),S!==e&&x.add(S)}),VT(e,this._triggerName,r,i,_,m,y,C,[...x.values()],w,L,z))}};function lY(t,n,e,r,i){return t.some(s=>s(n,e,r,i))}function nA(t,n){let e=rn({},n);return Object.entries(t).forEach(([r,i])=>{i!=null&&(e[r]=i)}),e}var Ly=class{constructor(n,e,r){this.styles=n,this.defaultParams=e,this.normalizer=r}buildStyles(n,e){let r=new Map,i=nA(n,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,o)=>{a&&(a=Uu(a,i,e));let c=this.normalizer.normalizePropertyName(o,e);a=this.normalizer.normalizeStyleValue(o,c,a,e),r.set(o,a)})}),r}};function cY(t,n,e){return new Dy(t,n,e)}var Dy=class{constructor(n,e,r){this.name=n,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new Ly(i.style,s,r))}),HT(this.states,"true","1"),HT(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new Ih(n,i,this.states))}),this.fallbackTransition=uY(n,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,r,i){return this.transitionFactories.find(a=>a.match(n,e,r,i))||null}matchStyles(n,e,r){return this.fallbackTransition.buildStyles(n,e,r)}};function uY(t,n,e){let r=[(a,o)=>!0],i={type:li.Sequence,steps:[],options:null},s={type:li.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Ih(t,s,n)}function HT(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}var fY=new ju,Ty=class{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){let r=[],i=[],s=eA(this._driver,e,r,i);if(r.length)throw SW(r);i.length&&void 0,this._animations.set(n,s)}_buildPlayer(n,e,r){let i=n.element,s=YT(this._normalizer,n.keyframes,e,r);return this._driver.animate(i,s,n.duration,n.delay,n.easing,[],!0)}create(n,e,r={}){let i=[],s=this._animations.get(n),a,o=new Map;if(s?(a=tA(this._driver,e,s,QT,gy,new Map,new Map,r,fY,i),a.forEach(u=>{let f=t1(o,u.element,new Map);u.postStyleProps.forEach(h=>f.set(h,null))})):(i.push(LW()),a=[]),i.length)throw DW(i);o.forEach((u,f)=>{u.forEach((h,p)=>{u.set(p,this._driver.computeStyle(f,p,E2))})});let c=a.map(u=>{let f=o.get(u.element);return this._buildPlayer(u,new Map,f)}),l=vl(c);return this._playersById.set(n,l),l.onDestroy(()=>this.destroy(n)),this.players.push(l),l}destroy(n){let e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);let r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(n){let e=this._playersById.get(n);if(!e)throw TW(n);return e}listen(n,e,r,i){let s=Ny(e,"","","");return ky(this._getPlayer(n),r,s,i),()=>{}}command(n,e,r,i){if(r=="register"){this.register(n,i[0]);return}if(r=="create"){let a=i[0]||{};this.create(n,e,a);return}let s=this._getPlayer(n);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(n);break}}},UT="ng-animate-queued",dY=".ng-animate-queued",py="ng-animate-disabled",hY=".ng-animate-disabled",pY="ng-star-inserted",mY=".ng-star-inserted",vY=[],rA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},gY={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},e2="__ng_removed",Gu=class{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;let r=n&&n.hasOwnProperty("value"),i=r?n.value:n;if(this.value=xY(i),r){let s=n,{value:a}=s,o=jM(s,["value"]);this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){let e=n.params;if(e){let r=this.options.params;Object.keys(e).forEach(i=>{r[i]==null&&(r[i]=e[i])})}}},Hu="void",my=new Gu(Hu),Ay=class{constructor(n,e,r){this.id=n,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,I1(e,this._hostClassName)}listen(n,e,r,i){if(!this._triggers.has(e))throw AW(r,e);if(r==null||r.length==0)throw zW(e);if(!bY(r))throw EW(r,e);let s=t1(this._elementListeners,n,[]),a={name:e,phase:r,callback:i};s.push(a);let o=t1(this._engine.statesByElement,n,new Map);return o.has(e)||(I1(n,Ch),I1(n,Ch+"-"+e),o.set(e,my)),()=>{this._engine.afterFlush(()=>{let c=s.indexOf(a);c>=0&&s.splice(c,1),this._triggers.has(e)||o.delete(e)})}}register(n,e){return this._triggers.has(n)?!1:(this._triggers.set(n,e),!0)}_getTrigger(n){let e=this._triggers.get(n);if(!e)throw IW(n);return e}trigger(n,e,r,i=!0){let s=this._getTrigger(e),a=new $u(this.id,e,n),o=this._engine.statesByElement.get(n);o||(I1(n,Ch),I1(n,Ch+"-"+e),this._engine.statesByElement.set(n,o=new Map));let c=o.get(e),l=new Gu(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),o.set(e,l),c||(c=my),!(l.value===Hu)&&c.value===l.value){if(!wY(c.params,l.params)){let d=[],y=s.matchStyles(c.value,c.params,d),x=s.matchStyles(l.value,l.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush(()=>{Ic(n,y),I2(n,x)})}return}let h=t1(this._engine.playersByElement,n,[]);h.forEach(d=>{d.namespaceId==this.id&&d.triggerName==e&&d.queued&&d.destroy()});let p=s.matchTransition(c.value,l.value,n,l.params),m=!1;if(!p){if(!i)return;p=s.fallbackTransition,m=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:p,fromState:c,toState:l,player:a,isFallbackTransition:m}),m||(I1(n,UT),a.onStart(()=>{z4(n,UT)})),a.onDone(()=>{let d=this.players.indexOf(a);d>=0&&this.players.splice(d,1);let y=this._engine.playersByElement.get(n);if(y){let x=y.indexOf(a);x>=0&&y.splice(x,1)}}),this.players.push(a),h.push(a),a}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);let e=this._engine.playersByElement.get(n);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){let r=this._engine.driver.query(n,Lh,!0);r.forEach(i=>{if(i[e2])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(a=>a.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(n,e,r,i){let s=this._engine.statesByElement.get(n),a=new Map;if(s){let o=[];if(s.forEach((c,l)=>{if(a.set(l,c.value),this._triggers.has(l)){let u=this.trigger(n,l,Hu,i);u&&o.push(u)}}),o.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,a),r&&vl(o).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){let e=this._elementListeners.get(n),r=this._engine.statesByElement.get(n);if(e&&r){let i=new Set;e.forEach(s=>{let a=s.name;if(i.has(a))return;i.add(a);let c=this._triggers.get(a).fallbackTransition,l=r.get(a)||my,u=new Gu(Hu),f=new $u(this.id,a,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:a,transition:c,fromState:l,toState:u,player:f,isFallbackTransition:!0})})}}removeNode(n,e){let r=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let i=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(n):[];if(s&&s.length)i=!0;else{let a=n;for(;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(n),i)r.markElementAsRemoved(this.id,n,!1,e);else{let s=n[e2];(!s||s===rA)&&(r.afterFlush(()=>this.clearElementCache(n)),r.destroyInnerAnimations(n),r._onRemovalComplete(n,e))}}insertNode(n,e){I1(n,this._hostClassName)}drainQueuedTransitions(n){let e=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let s=r.element,a=this._elementListeners.get(s);a&&a.forEach(o=>{if(o.name==r.triggerName){let c=Ny(s,r.triggerName,r.fromState.value,r.toState.value);c._data=n,ky(r.player,o.phase,c,o.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{let s=r.transition.ast.depCount,a=i.transition.ast.depCount;return s==0||a==0?s-a:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}},zy=class{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,r){this.bodyNode=n,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){let n=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&n.push(r)})}),n}createNamespace(n,e){let r=new Ay(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[n]=r}_balanceNamespaceList(n,e){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let a=!1,o=this.driver.getParentElement(e);for(;o;){let c=i.get(o);if(c){let l=r.indexOf(c);r.splice(l+1,0,n),a=!0;break}o=this.driver.getParentElement(o)}a||r.unshift(n)}else r.push(n);return i.set(e,n),n}register(n,e){let r=this._namespaceLookup[n];return r||(r=this.createNamespace(n,e)),r}registerTrigger(n,e,r){let i=this._namespaceLookup[n];i&&i.register(e,r)&&this.totalAnimations++}destroy(n,e){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(n);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(e),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){let e=new Set,r=this.statesByElement.get(n);if(r){for(let i of r.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&e.add(s)}}return e}trigger(n,e,r,i){if(_h(e)){let s=this._fetchNamespace(n);if(s)return s.trigger(e,r,i),!0}return!1}insertNode(n,e,r,i){if(!_h(e))return;let s=e[e2];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(n){let a=this._fetchNamespace(n);a&&a.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),I1(n,py)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),z4(n,py))}removeNode(n,e,r){if(_h(e)){let i=n?this._fetchNamespace(n):null;i?i.removeNode(e,r):this.markElementAsRemoved(n,e,!1,r);let s=this.namespacesByHostElement.get(e);s&&s.id!==n&&s.removeNode(e,r)}else this._onRemovalComplete(e,r)}markElementAsRemoved(n,e,r,i,s){this.collectedLeaveElements.push(e),e[e2]={namespaceId:n,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(n,e,r,i,s){return _h(e)?this._fetchNamespace(n).listen(e,r,i,s):()=>{}}_buildInstruction(n,e,r,i,s){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,r,i,n.fromState.options,n.toState.options,e,s)}destroyInnerAnimations(n){let e=this.driver.query(n,Lh,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(n,yy,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(n){let e=this.playersByElement.get(n);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(n){let e=this.playersByQueriedElement.get(n);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return vl(this.players).onDone(()=>n());n()})}processLeaveNode(n){let e=n[e2];if(e&&e.setForRemoval){if(n[e2]=rA,e.namespaceId){this.destroyInnerAnimations(n);let r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(py)&&this.markElementAsDisabled(n,!1),this.driver.query(n,hY,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];I1(i,pY)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{e=this._flushAnimations(r,n)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],e.length?vl(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(n){throw kW(n)}_flushAnimations(n,e){let r=new ju,i=[],s=new Map,a=[],o=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach($=>{u.add($);let N=this.driver.query($,dY,!0);for(let j=0;j<N.length;j++)u.add(N[j])});let f=this.bodyNode,h=Array.from(this.statesByElement.keys()),p=$T(h,this.collectedEnterElements),m=new Map,d=0;p.forEach(($,N)=>{let j=QT+d++;m.set(N,j),$.forEach(O=>I1(O,j))});let y=[],x=new Set,w=new Set;for(let $=0;$<this.collectedLeaveElements.length;$++){let N=this.collectedLeaveElements[$],j=N[e2];j&&j.setForRemoval&&(y.push(N),x.add(N),j.hasAnimation?this.driver.query(N,mY,!0).forEach(O=>x.add(O)):w.add(N))}let L=new Map,_=$T(h,Array.from(x));_.forEach(($,N)=>{let j=gy+d++;L.set(N,j),$.forEach(O=>I1(O,j))}),n.push(()=>{p.forEach(($,N)=>{let j=m.get(N);$.forEach(O=>z4(O,j))}),_.forEach(($,N)=>{let j=L.get(N);$.forEach(O=>z4(O,j))}),y.forEach($=>{this.processLeaveNode($)})});let D=[],C=[];for(let $=this._namespaceList.length-1;$>=0;$--)this._namespaceList[$].drainQueuedTransitions(e).forEach(j=>{let O=j.player,X=j.element;if(D.push(O),this.collectedEnterElements.length){let re=X[e2];if(re&&re.setForMove){if(re.previousTriggersValues&&re.previousTriggersValues.has(j.triggerName)){let te=re.previousTriggersValues.get(j.triggerName),le=this.statesByElement.get(j.element);if(le&&le.has(j.triggerName)){let be=le.get(j.triggerName);be.value=te,le.set(j.triggerName,be)}}O.destroy();return}}let ie=!f||!this.driver.containsElement(f,X),oe=L.get(X),V=m.get(X),W=this._buildInstruction(j,r,V,oe,ie);if(W.errors&&W.errors.length){C.push(W);return}if(ie){O.onStart(()=>Ic(X,W.fromStyles)),O.onDestroy(()=>I2(X,W.toStyles)),i.push(O);return}if(j.isFallbackTransition){O.onStart(()=>Ic(X,W.fromStyles)),O.onDestroy(()=>I2(X,W.toStyles)),i.push(O);return}let Y=[];W.timelines.forEach(re=>{re.stretchStartingKeyframe=!0,this.disabledNodes.has(re.element)||Y.push(re)}),W.timelines=Y,r.append(X,W.timelines);let Q={instruction:W,player:O,element:X};a.push(Q),W.queriedElements.forEach(re=>t1(o,re,[]).push(O)),W.preStyleProps.forEach((re,te)=>{if(re.size){let le=c.get(te);le||c.set(te,le=new Set),re.forEach((be,Se)=>le.add(Se))}}),W.postStyleProps.forEach((re,te)=>{let le=l.get(te);le||l.set(te,le=new Set),re.forEach((be,Se)=>le.add(Se))})});if(C.length){let $=[];C.forEach(N=>{$.push(NW(N.triggerName,N.errors))}),D.forEach(N=>N.destroy()),this.reportError($)}let z=new Map,b=new Map;a.forEach($=>{let N=$.element;r.has(N)&&(b.set(N,N),this._beforeAnimationBuild($.player.namespaceId,$.instruction,z))}),i.forEach($=>{let N=$.element;this._getPreviousPlayers(N,!1,$.namespaceId,$.triggerName,null).forEach(O=>{t1(z,N,[]).push(O),O.destroy()})});let S=y.filter($=>WT($,c,l)),M=new Map;GT(M,this.driver,w,l,E2).forEach($=>{WT($,c,l)&&S.push($)});let T=new Map;p.forEach(($,N)=>{GT(T,this.driver,new Set($),c,bh)}),S.forEach($=>{let N=M.get($),j=T.get($);M.set($,new Map([...N?.entries()??[],...j?.entries()??[]]))});let B=[],H=[],Z={};a.forEach($=>{let{element:N,player:j,instruction:O}=$;if(r.has(N)){if(u.has(N)){j.onDestroy(()=>I2(N,O.toStyles)),j.disabled=!0,j.overrideTotalTime(O.totalTime),i.push(j);return}let X=Z;if(b.size>1){let oe=N,V=[];for(;oe=oe.parentNode;){let W=b.get(oe);if(W){X=W;break}V.push(oe)}V.forEach(W=>b.set(W,X))}let ie=this._buildAnimation(j.namespaceId,O,z,s,T,M);if(j.setRealPlayer(ie),X===Z)B.push(j);else{let oe=this.playersByElement.get(X);oe&&oe.length&&(j.parentPlayer=vl(oe)),i.push(j)}}else Ic(N,O.fromStyles),j.onDestroy(()=>I2(N,O.toStyles)),H.push(j),u.has(N)&&i.push(j)}),H.forEach($=>{let N=s.get($.element);if(N&&N.length){let j=vl(N);$.setRealPlayer(j)}}),i.forEach($=>{$.parentPlayer?$.syncPlayerEvents($.parentPlayer):$.destroy()});for(let $=0;$<y.length;$++){let N=y[$],j=N[e2];if(z4(N,gy),j&&j.hasAnimation)continue;let O=[];if(o.size){let ie=o.get(N);ie&&ie.length&&O.push(...ie);let oe=this.driver.query(N,yy,!0);for(let V=0;V<oe.length;V++){let W=o.get(oe[V]);W&&W.length&&O.push(...W)}}let X=O.filter(ie=>!ie.destroyed);X.length?CY(this,N,X):this.processLeaveNode(N)}return y.length=0,B.forEach($=>{this.players.push($),$.onDone(()=>{$.destroy();let N=this.players.indexOf($);this.players.splice(N,1)}),$.play()}),B}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,r,i,s){let a=[];if(e){let o=this.playersByQueriedElement.get(n);o&&(a=o)}else{let o=this.playersByElement.get(n);if(o){let c=!s||s==Hu;o.forEach(l=>{l.queued||!c&&l.triggerName!=i||a.push(l)})}}return(r||i)&&(a=a.filter(o=>!(r&&r!=o.namespaceId||i&&i!=o.triggerName))),a}_beforeAnimationBuild(n,e,r){let i=e.triggerName,s=e.element,a=e.isRemovalTransition?void 0:n,o=e.isRemovalTransition?void 0:i;for(let c of e.timelines){let l=c.element,u=l!==s,f=t1(r,l,[]);this._getPreviousPlayers(l,u,a,o,e.toState).forEach(p=>{let m=p.getRealPlayer();m.beforeDestroy&&m.beforeDestroy(),p.destroy(),f.push(p)})}Ic(s,e.fromStyles)}_buildAnimation(n,e,r,i,s,a){let o=e.triggerName,c=e.element,l=[],u=new Set,f=new Set,h=e.timelines.map(m=>{let d=m.element;u.add(d);let y=d[e2];if(y&&y.removedBeforeQueried)return new ml(m.duration,m.delay);let x=d!==c,w=MY((r.get(d)||vY).map(z=>z.getRealPlayer())).filter(z=>{let b=z;return b.element?b.element===d:!1}),L=s.get(d),_=a.get(d),D=YT(this._normalizer,m.keyframes,L,_),C=this._buildPlayer(m,D,w);if(m.subTimeline&&i&&f.add(d),x){let z=new $u(n,o,d);z.setRealPlayer(C),l.push(z)}return C});l.forEach(m=>{t1(this.playersByQueriedElement,m.element,[]).push(m),m.onDone(()=>yY(this.playersByQueriedElement,m.element,m))}),u.forEach(m=>I1(m,RT));let p=vl(h);return p.onDestroy(()=>{u.forEach(m=>z4(m,RT)),I2(c,e.toStyles)}),f.forEach(m=>{t1(i,m,[]).push(p)}),p}_buildPlayer(n,e,r){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,r):new ml(n.duration,n.delay)}},$u=class{constructor(n,e,r){this.namespaceId=n,this.triggerName=e,this.element=r,this._player=new ml,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>ky(n,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){let e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){t1(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){let e=this._player;e.triggerCallback&&e.triggerCallback(n)}};function yY(t,n,e){let r=t.get(n);if(r){if(r.length){let i=r.indexOf(e);r.splice(i,1)}r.length==0&&t.delete(n)}return r}function xY(t){return t??null}function _h(t){return t&&t.nodeType===1}function bY(t){return t=="start"||t=="done"}function jT(t,n){let e=t.style.display;return t.style.display=n??"none",e}function GT(t,n,e,r,i){let s=[];e.forEach(c=>s.push(jT(c)));let a=[];r.forEach((c,l)=>{let u=new Map;c.forEach(f=>{let h=n.computeStyle(l,f,i);u.set(f,h),(!h||h.length==0)&&(l[e2]=gY,a.push(l))}),t.set(l,u)});let o=0;return e.forEach(c=>jT(c,s[o++])),a}function $T(t,n){let e=new Map;if(t.forEach(o=>e.set(o,[])),n.length==0)return e;let r=1,i=new Set(n),s=new Map;function a(o){if(!o)return r;let c=s.get(o);if(c)return c;let l=o.parentNode;return e.has(l)?c=l:i.has(l)?c=r:c=a(l),s.set(o,c),c}return n.forEach(o=>{let c=a(o);c!==r&&e.get(c).push(o)}),e}function I1(t,n){t.classList?.add(n)}function z4(t,n){t.classList?.remove(n)}function CY(t,n,e){vl(e).onDone(()=>t.processLeaveNode(n))}function MY(t){let n=[];return iA(t,n),n}function iA(t,n){for(let e=0;e<t.length;e++){let r=t[e];r instanceof Bu?iA(r.players,n):n.push(r)}}function wY(t,n){let e=Object.keys(t),r=Object.keys(n);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){let s=e[i];if(!n.hasOwnProperty(s)||t[s]!==n[s])return!1}return!0}function WT(t,n,e){let r=e.get(t);if(!r)return!1;let i=n.get(t);return i?r.forEach(s=>i.add(s)):n.set(t,r),e.delete(t),!0}var E4=class{constructor(n,e,r){this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new zy(n.body,e,r),this._timelineEngine=new Ty(n.body,e,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(n,e,r,i,s){let a=n+"-"+i,o=this._triggerCache[a];if(!o){let c=[],l=[],u=eA(this._driver,s,c,l);if(c.length)throw wW(i,c);l.length&&void 0,o=cY(i,u,this._normalizer),this._triggerCache[a]=o}this._transitionEngine.registerTrigger(e,i,o)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,r,i){this._transitionEngine.insertNode(n,e,r,i)}onRemove(n,e,r){this._transitionEngine.removeNode(n,e,r)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,r,i){if(r.charAt(0)=="@"){let[s,a]=NT(r),o=i;this._timelineEngine.command(s,e,a,o)}else this._transitionEngine.trigger(n,e,r,i)}listen(n,e,r,i,s){if(r.charAt(0)=="@"){let[a,o]=NT(r);return this._timelineEngine.listen(a,e,o,s)}return this._transitionEngine.listen(n,e,r,i,s)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}};function _Y(t,n){let e=null,r=null;return Array.isArray(n)&&n.length?(e=vy(n[0]),n.length>1&&(r=vy(n[n.length-1]))):n instanceof Map&&(e=vy(n)),e||r?new Ey(t,e,r):null}var Ey=class t{static{this.initialStylesByElement=new WeakMap}constructor(n,e,r){this._element=n,this._startStyles=e,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(n);i||t.initialStylesByElement.set(n,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&I2(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(I2(this._element,this._initialStyles),this._endStyles&&(I2(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Ic(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ic(this._element,this._endStyles),this._endStyles=null),I2(this._element,this._initialStyles),this._state=3)}};function vy(t){let n=null;return t.forEach((e,r)=>{SY(r)&&(n=n||new Map,n.set(r,e))}),n}function SY(t){return t==="display"||t==="position"}var kh=class{constructor(n,e,r,i){this.element=n,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){let e=[];return n.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(n,e,r){return n.animate(this._convertKeyframesToObject(e),r)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&n.set(i,this._finished?r:Fy(this.element,i))}),this.currentSnapshot=n}triggerCallback(n){let e=n==="start"?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}},Nh=class{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}containsElement(n,e){return ZT(n,e)}getParentElement(n){return Py(n)}query(n,e,r){return XT(n,e,r)}computeStyle(n,e,r){return Fy(n,e)}animate(n,e,r,i,s,a=[]){let o=i==0?"both":"forwards",c={duration:r,delay:i,fill:o};s&&(c.easing=s);let l=new Map,u=a.filter(p=>p instanceof kh);$W(r,i)&&u.forEach(p=>{p.currentSnapshot.forEach((m,d)=>l.set(d,m))});let f=UW(e).map(p=>new Map(p));f=WW(n,f,l);let h=_Y(n,f);return new kh(n,f,c,h)}};var Sh="@",aA="@.disabled",Ph=class{constructor(n,e,r,i){this.namespaceId=n,this.delegate=e,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,r,i=!0){this.delegate.insertBefore(n,e,r),this.engine.onInsert(this.namespaceId,e,n,i)}removeChild(n,e,r){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,r,i){this.delegate.setAttribute(n,e,r,i)}removeAttribute(n,e,r){this.delegate.removeAttribute(n,e,r)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,r,i){this.delegate.setStyle(n,e,r,i)}removeStyle(n,e,r){this.delegate.removeStyle(n,e,r)}setProperty(n,e,r){e.charAt(0)==Sh&&e==aA?this.disableAnimations(n,!!r):this.delegate.setProperty(n,e,r)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,r){return this.delegate.listen(n,e,r)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}},Iy=class extends Ph{constructor(n,e,r,i,s){super(e,r,i,s),this.factory=n,this.namespaceId=e}setProperty(n,e,r){e.charAt(0)==Sh?e.charAt(1)=="."&&e==aA?(r=r===void 0?!0:!!r,this.disableAnimations(n,r)):this.engine.process(this.namespaceId,n,e.slice(1),r):this.delegate.setProperty(n,e,r)}listen(n,e,r){if(e.charAt(0)==Sh){let i=LY(n),s=e.slice(1),a="";return s.charAt(0)!=Sh&&([s,a]=DY(s)),this.engine.listen(this.namespaceId,i,s,a,o=>{let c=o._data||-1;this.factory.scheduleListenerCallback(c,r,o)})}return this.delegate.listen(n,e,r)}};function LY(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function DY(t){let n=t.indexOf("."),e=t.substring(0,n),r=t.slice(n+1);return[e,r]}var Rh=class{constructor(n,e,r){this.delegate=n,this.engine=e,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(i,s)=>{s?.removeChild(null,i)}}createRenderer(n,e){let r="",i=this.delegate.createRenderer(n,e);if(!n||!e?.data?.animation){let l=this._rendererCache,u=l.get(i);if(!u){let f=()=>l.delete(i);u=new Ph(r,i,this.engine,f),l.set(i,u)}return u}let s=e.id,a=e.id+"-"+this._currentId;this._currentId++,this.engine.register(a,n);let o=l=>{Array.isArray(l)?l.forEach(o):this.engine.registerTrigger(s,a,n,l.name,l)};return e.data.animation.forEach(o),new Iy(this,a,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,e,r){if(n>=0&&n<this._microtaskId){this._zone.run(()=>e(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[a,o]=s;a(o)}),this._animationCallbacksBuffer=[]})}),i.push([e,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var AY=(()=>{class t extends E4{constructor(e,r,i){super(e,r,i)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||t)($t(zi),$t(kc),$t(Nc))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();function zY(){return new Th}function EY(t,n,e){return new Rh(t,n,e)}var oA=[{provide:Nc,useFactory:zY},{provide:E4,useClass:AY},{provide:cl,useFactory:EY,deps:[th,E4,Wr]}],sA=[{provide:kc,useFactory:()=>new Nh},{provide:yu,useValue:"BrowserAnimations"},...oA],IY=[{provide:kc,useClass:Ry},{provide:yu,useValue:"NoopAnimations"},...oA],lA=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?IY:sA}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Qr({type:t})}static{this.\u0275inj=Kr({providers:sA,imports:[rh]})}}return t})();var cA=()=>{},sx={},kA={},NA=null,PA={mark:cA,measure:cA};try{typeof window<"u"&&(sx=window),typeof document<"u"&&(kA=document),typeof MutationObserver<"u"&&(NA=MutationObserver),typeof performance<"u"&&(PA=performance)}catch{}var{userAgent:uA=""}=sx.navigator||{},xl=sx,ka=kA,fA=NA,Oh=PA,t3e=!!xl.document,z0=!!ka.documentElement&&!!ka.head&&typeof ka.addEventListener=="function"&&typeof ka.createElement=="function",RA=~uA.indexOf("MSIE")||~uA.indexOf("Trident/"),Fa="classic",OA="duotone",n1="sharp",r1="sharp-duotone",kY=[Fa,OA,n1,r1],NY={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds"}},dA={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},PY=["kit"],RY=/fa(s|r|l|t|d|b|k|kd|ss|sr|sl|st|sds)?[\-\ ]/,OY=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,FY={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},BY={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds"}},VY={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds"}},HY={classic:["fas","far","fal","fat"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds"]},UY={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid"}},jY={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds"}},FA={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid"}},GY=["solid","regular","light","thin","duotone","brands"],BA=[1,2,3,4,5,6,7,8,9,10],$Y=BA.concat([11,12,13,14,15,16,17,18,19,20]),Wu={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},WY=[...Object.keys(HY),...GY,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Wu.GROUP,Wu.SWAP_OPACITY,Wu.PRIMARY,Wu.SECONDARY].concat(BA.map(t=>"".concat(t,"x"))).concat($Y.map(t=>"w-".concat(t))),YY={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},ZY={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},XY={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},hA={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},T0="___FONT_AWESOME___",$y=16,VA="fa",HA="svg-inline--fa",Fc="data-fa-i2svg",Wy="data-fa-pseudo-element",KY="data-fa-pseudo-element-pending",ox="data-prefix",lx="data-icon",pA="fontawesome-i2svg",QY="async",JY=["HTML","HEAD","STYLE","SCRIPT"],UA=(()=>{try{return!0}catch{return!1}})(),jA=[Fa,n1,r1];function Ju(t){return new Proxy(t,{get(n,e){return e in n?n[e]:n[Fa]}})}var GA=rn({},FA);GA[Fa]=rn(rn(rn({},FA[Fa]),dA.kit),dA["kit-duotone"]);var Rc=Ju(GA),Yy=rn({},jY);Yy[Fa]=rn(rn(rn({},Yy[Fa]),hA.kit),hA["kit-duotone"]);var Ku=Ju(Yy),Zy=rn({},UY);Zy[Fa]=rn(rn({},Zy[Fa]),XY.kit);var Oc=Ju(Zy),Xy=rn({},VY);Xy[Fa]=rn(rn({},Xy[Fa]),ZY.kit);var qY=Ju(Xy),eZ=RY,$A="fa-layers-text",tZ=OY,nZ=rn({},NY),n3e=Ju(nZ),rZ=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Vy=Wu,N4=new Set;Object.keys(Ku[Fa]).map(N4.add.bind(N4));Object.keys(Ku[n1]).map(N4.add.bind(N4));Object.keys(Ku[r1]).map(N4.add.bind(N4));var iZ=[...PY,...WY],Zu=xl.FontAwesomeConfig||{};function aZ(t){var n=ka.querySelector("script["+t+"]");if(n)return n.getAttribute(t)}function sZ(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}ka&&typeof ka.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(n=>{let[e,r]=n,i=sZ(aZ(e));i!=null&&(Zu[r]=i)});var WA={styleDefault:"solid",familyDefault:"classic",cssPrefix:VA,replacementClass:HA,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Zu.familyPrefix&&(Zu.cssPrefix=Zu.familyPrefix);var P4=rn(rn({},WA),Zu);P4.autoReplaceSvg||(P4.observeMutations=!1);var dr={};Object.keys(WA).forEach(t=>{Object.defineProperty(dr,t,{enumerable:!0,set:function(n){P4[t]=n,Xu.forEach(e=>e(dr))},get:function(){return P4[t]}})});Object.defineProperty(dr,"familyPrefix",{enumerable:!0,set:function(t){P4.cssPrefix=t,Xu.forEach(n=>n(dr))},get:function(){return P4.cssPrefix}});xl.FontAwesomeConfig=dr;var Xu=[];function oZ(t){return Xu.push(t),()=>{Xu.splice(Xu.indexOf(t),1)}}var gl=$y,k2={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function lZ(t){if(!t||!z0)return;let n=ka.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=t;let e=ka.head.childNodes,r=null;for(let i=e.length-1;i>-1;i--){let s=e[i],a=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=s)}return ka.head.insertBefore(n,r),t}var cZ="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Qu(){let t=12,n="";for(;t-- >0;)n+=cZ[Math.random()*62|0];return n}function R4(t){let n=[];for(let e=(t||[]).length>>>0;e--;)n[e]=t[e];return n}function cx(t){return t.classList?R4(t.classList):(t.getAttribute("class")||"").split(" ").filter(n=>n)}function YA(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function uZ(t){return Object.keys(t||{}).reduce((n,e)=>n+"".concat(e,'="').concat(YA(t[e]),'" '),"").trim()}function Uh(t){return Object.keys(t||{}).reduce((n,e)=>n+"".concat(e,": ").concat(t[e].trim(),";"),"")}function ux(t){return t.size!==k2.size||t.x!==k2.x||t.y!==k2.y||t.rotate!==k2.rotate||t.flipX||t.flipY}function fZ(t){let{transform:n,containerWidth:e,iconWidth:r}=t,i={transform:"translate(".concat(e/2," 256)")},s="translate(".concat(n.x*32,", ").concat(n.y*32,") "),a="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),o="rotate(".concat(n.rotate," 0 0)"),c={transform:"".concat(s," ").concat(a," ").concat(o)},l={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:c,path:l}}function dZ(t){let{transform:n,width:e=$y,height:r=$y,startCentered:i=!1}=t,s="";return i&&RA?s+="translate(".concat(n.x/gl-e/2,"em, ").concat(n.y/gl-r/2,"em) "):i?s+="translate(calc(-50% + ".concat(n.x/gl,"em), calc(-50% + ").concat(n.y/gl,"em)) "):s+="translate(".concat(n.x/gl,"em, ").concat(n.y/gl,"em) "),s+="scale(".concat(n.size/gl*(n.flipX?-1:1),", ").concat(n.size/gl*(n.flipY?-1:1),") "),s+="rotate(".concat(n.rotate,"deg) "),s}var hZ=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function ZA(){let t=VA,n=HA,e=dr.cssPrefix,r=dr.replacementClass,i=hZ;if(e!==t||r!==n){let s=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),o=new RegExp("\\.".concat(n),"g");i=i.replace(s,".".concat(e,"-")).replace(a,"--".concat(e,"-")).replace(o,".".concat(r))}return i}var mA=!1;function Hy(){dr.autoAddCss&&!mA&&(lZ(ZA()),mA=!0)}var pZ={mixout(){return{dom:{css:ZA,insertCss:Hy}}},hooks(){return{beforeDOMElementCreation(){Hy()},beforeI2svg(){Hy()}}}},A0=xl||{};A0[T0]||(A0[T0]={});A0[T0].styles||(A0[T0].styles={});A0[T0].hooks||(A0[T0].hooks={});A0[T0].shims||(A0[T0].shims=[]);var N2=A0[T0],XA=[],KA=function(){ka.removeEventListener("DOMContentLoaded",KA),Vh=1,XA.map(t=>t())},Vh=!1;z0&&(Vh=(ka.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ka.readyState),Vh||ka.addEventListener("DOMContentLoaded",KA));function mZ(t){z0&&(Vh?setTimeout(t,0):XA.push(t))}function qu(t){let{tag:n,attributes:e={},children:r=[]}=t;return typeof t=="string"?YA(t):"<".concat(n," ").concat(uZ(e),">").concat(r.map(qu).join(""),"</").concat(n,">")}function vA(t,n,e){if(t&&t[n]&&t[n][e])return{prefix:n,iconName:e,icon:t[n][e]}}var vZ=function(n,e){return function(r,i,s,a){return n.call(e,r,i,s,a)}},Uy=function(n,e,r,i){var s=Object.keys(n),a=s.length,o=i!==void 0?vZ(e,i):e,c,l,u;for(r===void 0?(c=1,u=n[s[0]]):(c=0,u=r);c<a;c++)l=s[c],u=o(u,n[l],l,n);return u};function gZ(t){let n=[],e=0,r=t.length;for(;e<r;){let i=t.charCodeAt(e++);if(i>=55296&&i<=56319&&e<r){let s=t.charCodeAt(e++);(s&64512)==56320?n.push(((i&1023)<<10)+(s&1023)+65536):(n.push(i),e--)}else n.push(i)}return n}function Ky(t){let n=gZ(t);return n.length===1?n[0].toString(16):null}function yZ(t,n){let e=t.length,r=t.charCodeAt(n),i;return r>=55296&&r<=56319&&e>n+1&&(i=t.charCodeAt(n+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function gA(t){return Object.keys(t).reduce((n,e)=>{let r=t[e];return!!r.icon?n[r.iconName]=r.icon:n[e]=r,n},{})}function Qy(t,n){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{skipHooks:r=!1}=e,i=gA(n);typeof N2.hooks.addPack=="function"&&!r?N2.hooks.addPack(t,gA(n)):N2.styles[t]=rn(rn({},N2.styles[t]||{}),i),t==="fas"&&Qy("fa",n)}var{styles:Pc,shims:xZ}=N2,bZ={[Fa]:Object.values(Oc[Fa]),[n1]:Object.values(Oc[n1]),[r1]:Object.values(Oc[r1])},fx=null,QA={},JA={},qA={},ez={},tz={},CZ={[Fa]:Object.keys(Rc[Fa]),[n1]:Object.keys(Rc[n1]),[r1]:Object.keys(Rc[r1])};function MZ(t){return~iZ.indexOf(t)}function wZ(t,n){let e=n.split("-"),r=e[0],i=e.slice(1).join("-");return r===t&&i!==""&&!MZ(i)?i:null}var nz=()=>{let t=r=>Uy(Pc,(i,s,a)=>(i[a]=Uy(s,r,{}),i),{});QA=t((r,i,s)=>(i[3]&&(r[i[3]]=s),i[2]&&i[2].filter(o=>typeof o=="number").forEach(o=>{r[o.toString(16)]=s}),r)),JA=t((r,i,s)=>(r[s]=s,i[2]&&i[2].filter(o=>typeof o=="string").forEach(o=>{r[o]=s}),r)),tz=t((r,i,s)=>{let a=i[2];return r[s]=s,a.forEach(o=>{r[o]=s}),r});let n="far"in Pc||dr.autoFetchSvg,e=Uy(xZ,(r,i)=>{let s=i[0],a=i[1],o=i[2];return a==="far"&&!n&&(a="fas"),typeof s=="string"&&(r.names[s]={prefix:a,iconName:o}),typeof s=="number"&&(r.unicodes[s.toString(16)]={prefix:a,iconName:o}),r},{names:{},unicodes:{}});qA=e.names,ez=e.unicodes,fx=jh(dr.styleDefault,{family:dr.familyDefault})};oZ(t=>{fx=jh(t.styleDefault,{family:dr.familyDefault})});nz();function dx(t,n){return(QA[t]||{})[n]}function _Z(t,n){return(JA[t]||{})[n]}function yl(t,n){return(tz[t]||{})[n]}function rz(t){return qA[t]||{prefix:null,iconName:null}}function SZ(t){let n=ez[t],e=dx("fas",t);return n||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}function bl(){return fx}var hx=()=>({prefix:null,iconName:null,rest:[]});function jh(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{family:e=Fa}=n,r=Rc[e][t],i=Ku[e][t]||Ku[e][r],s=t in N2.styles?t:null;return i||s||null}var LZ={[Fa]:Object.keys(Oc[Fa]),[n1]:Object.keys(Oc[n1]),[r1]:Object.keys(Oc[r1])};function Gh(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{skipLookups:e=!1}=n,r={[Fa]:"".concat(dr.cssPrefix,"-").concat(Fa),[n1]:"".concat(dr.cssPrefix,"-").concat(n1),[r1]:"".concat(dr.cssPrefix,"-").concat(r1)},i=null,s=Fa,a=kY.filter(c=>c!==OA);a.forEach(c=>{(t.includes(r[c])||t.some(l=>LZ[c].includes(l)))&&(s=c)});let o=t.reduce((c,l)=>{let u=wZ(dr.cssPrefix,l);if(Pc[l]?(l=bZ[s].includes(l)?qY[s][l]:l,i=l,c.prefix=l):CZ[s].indexOf(l)>-1?(i=l,c.prefix=jh(l,{family:s})):u?c.iconName=u:l!==dr.replacementClass&&!a.some(f=>l===r[f])&&c.rest.push(l),!e&&c.prefix&&c.iconName){let f=i==="fa"?rz(c.iconName):{},h=yl(c.prefix,c.iconName);f.prefix&&(i=null),c.iconName=f.iconName||h||c.iconName,c.prefix=f.prefix||c.prefix,c.prefix==="far"&&!Pc.far&&Pc.fas&&!dr.autoFetchSvg&&(c.prefix="fas")}return c},hx());return(t.includes("fa-brands")||t.includes("fab"))&&(o.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(o.prefix="fad"),!o.prefix&&s===n1&&(Pc.fass||dr.autoFetchSvg)&&(o.prefix="fass",o.iconName=yl(o.prefix,o.iconName)||o.iconName),!o.prefix&&s===r1&&(Pc.fasds||dr.autoFetchSvg)&&(o.prefix="fasds",o.iconName=yl(o.prefix,o.iconName)||o.iconName),(o.prefix==="fa"||i==="fa")&&(o.prefix=bl()||"fas"),o}var Jy=class{constructor(){this.definitions={}}add(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];let i=e.reduce(this._pullDefinitions,{});Object.keys(i).forEach(s=>{this.definitions[s]=rn(rn({},this.definitions[s]||{}),i[s]),Qy(s,i[s]);let a=Oc[Fa][s];a&&Qy(a,i[s]),nz()})}reset(){this.definitions={}}_pullDefinitions(n,e){let r=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(r).map(i=>{let{prefix:s,iconName:a,icon:o}=r[i],c=o[2];n[s]||(n[s]={}),c.length>0&&c.forEach(l=>{typeof l=="string"&&(n[s][l]=o)}),n[s][a]=o}),n}},yA=[],I4={},k4={},DZ=Object.keys(k4);function TZ(t,n){let{mixoutsTo:e}=n;return yA=t,I4={},Object.keys(k4).forEach(r=>{DZ.indexOf(r)===-1&&delete k4[r]}),yA.forEach(r=>{let i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(s=>{typeof i[s]=="function"&&(e[s]=i[s]),typeof i[s]=="object"&&Object.keys(i[s]).forEach(a=>{e[s]||(e[s]={}),e[s][a]=i[s][a]})}),r.hooks){let s=r.hooks();Object.keys(s).forEach(a=>{I4[a]||(I4[a]=[]),I4[a].push(s[a])})}r.provides&&r.provides(k4)}),e}function qy(t,n){for(var e=arguments.length,r=new Array(e>2?e-2:0),i=2;i<e;i++)r[i-2]=arguments[i];return(I4[t]||[]).forEach(a=>{n=a.apply(null,[n,...r])}),n}function Bc(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];(I4[t]||[]).forEach(s=>{s.apply(null,e)})}function Cl(){let t=arguments[0],n=Array.prototype.slice.call(arguments,1);return k4[t]?k4[t].apply(null,n):void 0}function ex(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:n}=t,e=t.prefix||bl();if(n)return n=yl(e,n)||n,vA(iz.definitions,e,n)||vA(N2.styles,e,n)}var iz=new Jy,AZ=()=>{dr.autoReplaceSvg=!1,dr.observeMutations=!1,Bc("noAuto")},zZ={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return z0?(Bc("beforeI2svg",t),Cl("pseudoElements2svg",t),Cl("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:n}=t;dr.autoReplaceSvg===!1&&(dr.autoReplaceSvg=!0),dr.observeMutations=!0,mZ(()=>{IZ({autoReplaceSvgRoot:n}),Bc("watch",t)})}},EZ={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:yl(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){let n=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],e=jh(t[0]);return{prefix:e,iconName:yl(e,n)||n}}if(typeof t=="string"&&(t.indexOf("".concat(dr.cssPrefix,"-"))>-1||t.match(eZ))){let n=Gh(t.split(" "),{skipLookups:!0});return{prefix:n.prefix||bl(),iconName:yl(n.prefix,n.iconName)||n.iconName}}if(typeof t=="string"){let n=bl();return{prefix:n,iconName:yl(n,t)||t}}}},i1={noAuto:AZ,config:dr,dom:zZ,parse:EZ,library:iz,findIconDefinition:ex,toHtml:qu},IZ=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:n=ka}=t;(Object.keys(N2.styles).length>0||dr.autoFetchSvg)&&z0&&dr.autoReplaceSvg&&i1.dom.i2svg({node:n})};function $h(t,n){return Object.defineProperty(t,"abstract",{get:n}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(e=>qu(e))}}),Object.defineProperty(t,"node",{get:function(){if(!z0)return;let e=ka.createElement("div");return e.innerHTML=t.html,e.children}}),t}function kZ(t){let{children:n,main:e,mask:r,attributes:i,styles:s,transform:a}=t;if(ux(a)&&e.found&&!r.found){let{width:o,height:c}=e,l={x:o/c/2,y:.5};i.style=Uh(pr(rn({},s),{"transform-origin":"".concat(l.x+a.x/16,"em ").concat(l.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:n}]}function NZ(t){let{prefix:n,iconName:e,children:r,attributes:i,symbol:s}=t,a=s===!0?"".concat(n,"-").concat(dr.cssPrefix,"-").concat(e):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:pr(rn({},i),{id:a}),children:r}]}]}function px(t){let{icons:{main:n,mask:e},prefix:r,iconName:i,transform:s,symbol:a,title:o,maskId:c,titleId:l,extra:u,watchable:f=!1}=t,{width:h,height:p}=e.found?e:n,m=r==="fak",d=[dr.replacementClass,i?"".concat(dr.cssPrefix,"-").concat(i):""].filter(D=>u.classes.indexOf(D)===-1).filter(D=>D!==""||!!D).concat(u.classes).join(" "),y={children:[],attributes:pr(rn({},u.attributes),{"data-prefix":r,"data-icon":i,class:d,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(h," ").concat(p)})},x=m&&!~u.classes.indexOf("fa-fw")?{width:"".concat(h/p*16*.0625,"em")}:{};f&&(y.attributes[Fc]=""),o&&(y.children.push({tag:"title",attributes:{id:y.attributes["aria-labelledby"]||"title-".concat(l||Qu())},children:[o]}),delete y.attributes.title);let w=pr(rn({},y),{prefix:r,iconName:i,main:n,mask:e,maskId:c,transform:s,symbol:a,styles:rn(rn({},x),u.styles)}),{children:L,attributes:_}=e.found&&n.found?Cl("generateAbstractMask",w)||{children:[],attributes:{}}:Cl("generateAbstractIcon",w)||{children:[],attributes:{}};return w.children=L,w.attributes=_,a?NZ(w):kZ(w)}function xA(t){let{content:n,width:e,height:r,transform:i,title:s,extra:a,watchable:o=!1}=t,c=pr(rn(rn({},a.attributes),s?{title:s}:{}),{class:a.classes.join(" ")});o&&(c[Fc]="");let l=rn({},a.styles);ux(i)&&(l.transform=dZ({transform:i,startCentered:!0,width:e,height:r}),l["-webkit-transform"]=l.transform);let u=Uh(l);u.length>0&&(c.style=u);let f=[];return f.push({tag:"span",attributes:c,children:[n]}),s&&f.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),f}function PZ(t){let{content:n,title:e,extra:r}=t,i=pr(rn(rn({},r.attributes),e?{title:e}:{}),{class:r.classes.join(" ")}),s=Uh(r.styles);s.length>0&&(i.style=s);let a=[];return a.push({tag:"span",attributes:i,children:[n]}),e&&a.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),a}var{styles:jy}=N2;function tx(t){let n=t[0],e=t[1],[r]=t.slice(4),i=null;return Array.isArray(r)?i={tag:"g",attributes:{class:"".concat(dr.cssPrefix,"-").concat(Vy.GROUP)},children:[{tag:"path",attributes:{class:"".concat(dr.cssPrefix,"-").concat(Vy.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(dr.cssPrefix,"-").concat(Vy.PRIMARY),fill:"currentColor",d:r[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:n,height:e,icon:i}}var RZ={found:!1,width:512,height:512};function OZ(t,n){!UA&&!dr.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(n,'" is missing.'))}function nx(t,n){let e=n;return n==="fa"&&dr.styleDefault!==null&&(n=bl()),new Promise((r,i)=>{if(e==="fa"){let s=rz(t)||{};t=s.iconName||t,n=s.prefix||n}if(t&&n&&jy[n]&&jy[n][t]){let s=jy[n][t];return r(tx(s))}OZ(t,n),r(pr(rn({},RZ),{icon:dr.showMissingIcons&&t?Cl("missingIconAbstract")||{}:{}}))})}var bA=()=>{},rx=dr.measurePerformance&&Oh&&Oh.mark&&Oh.measure?Oh:{mark:bA,measure:bA},Yu='FA "6.6.0"',FZ=t=>(rx.mark("".concat(Yu," ").concat(t," begins")),()=>az(t)),az=t=>{rx.mark("".concat(Yu," ").concat(t," ends")),rx.measure("".concat(Yu," ").concat(t),"".concat(Yu," ").concat(t," begins"),"".concat(Yu," ").concat(t," ends"))},mx={begin:FZ,end:az},Fh=()=>{};function CA(t){return typeof(t.getAttribute?t.getAttribute(Fc):null)=="string"}function BZ(t){let n=t.getAttribute?t.getAttribute(ox):null,e=t.getAttribute?t.getAttribute(lx):null;return n&&e}function VZ(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(dr.replacementClass)}function HZ(){return dr.autoReplaceSvg===!0?Bh.replace:Bh[dr.autoReplaceSvg]||Bh.replace}function UZ(t){return ka.createElementNS("http://www.w3.org/2000/svg",t)}function jZ(t){return ka.createElement(t)}function sz(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{ceFn:e=t.tag==="svg"?UZ:jZ}=n;if(typeof t=="string")return ka.createTextNode(t);let r=e(t.tag);return Object.keys(t.attributes||[]).forEach(function(s){r.setAttribute(s,t.attributes[s])}),(t.children||[]).forEach(function(s){r.appendChild(sz(s,{ceFn:e}))}),r}function GZ(t){let n=" ".concat(t.outerHTML," ");return n="".concat(n,"Font Awesome fontawesome.com "),n}var Bh={replace:function(t){let n=t[0];if(n.parentNode)if(t[1].forEach(e=>{n.parentNode.insertBefore(sz(e),n)}),n.getAttribute(Fc)===null&&dr.keepOriginalSource){let e=ka.createComment(GZ(n));n.parentNode.replaceChild(e,n)}else n.remove()},nest:function(t){let n=t[0],e=t[1];if(~cx(n).indexOf(dr.replacementClass))return Bh.replace(t);let r=new RegExp("".concat(dr.cssPrefix,"-.*"));if(delete e[0].attributes.id,e[0].attributes.class){let s=e[0].attributes.class.split(" ").reduce((a,o)=>(o===dr.replacementClass||o.match(r)?a.toSvg.push(o):a.toNode.push(o),a),{toNode:[],toSvg:[]});e[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}let i=e.map(s=>qu(s)).join(`
`);n.setAttribute(Fc,""),n.innerHTML=i}};function MA(t){t()}function oz(t,n){let e=typeof n=="function"?n:Fh;if(t.length===0)e();else{let r=MA;dr.mutateApproach===QY&&(r=xl.requestAnimationFrame||MA),r(()=>{let i=HZ(),s=mx.begin("mutate");t.map(i),s(),e()})}}var vx=!1;function lz(){vx=!0}function ix(){vx=!1}var Hh=null;function wA(t){if(!fA||!dr.observeMutations)return;let{treeCallback:n=Fh,nodeCallback:e=Fh,pseudoElementsCallback:r=Fh,observeMutationsRoot:i=ka}=t;Hh=new fA(s=>{if(vx)return;let a=bl();R4(s).forEach(o=>{if(o.type==="childList"&&o.addedNodes.length>0&&!CA(o.addedNodes[0])&&(dr.searchPseudoElements&&r(o.target),n(o.target)),o.type==="attributes"&&o.target.parentNode&&dr.searchPseudoElements&&r(o.target.parentNode),o.type==="attributes"&&CA(o.target)&&~rZ.indexOf(o.attributeName))if(o.attributeName==="class"&&BZ(o.target)){let{prefix:c,iconName:l}=Gh(cx(o.target));o.target.setAttribute(ox,c||a),l&&o.target.setAttribute(lx,l)}else VZ(o.target)&&e(o.target)})}),z0&&Hh.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function $Z(){Hh&&Hh.disconnect()}function WZ(t){let n=t.getAttribute("style"),e=[];return n&&(e=n.split(";").reduce((r,i)=>{let s=i.split(":"),a=s[0],o=s.slice(1);return a&&o.length>0&&(r[a]=o.join(":").trim()),r},{})),e}function YZ(t){let n=t.getAttribute("data-prefix"),e=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",i=Gh(cx(t));return i.prefix||(i.prefix=bl()),n&&e&&(i.prefix=n,i.iconName=e),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=_Z(i.prefix,t.innerText)||dx(i.prefix,Ky(t.innerText))),!i.iconName&&dr.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function ZZ(t){let n=R4(t.attributes).reduce((i,s)=>(i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i),{}),e=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return dr.autoA11y&&(e?n["aria-labelledby"]="".concat(dr.replacementClass,"-title-").concat(r||Qu()):(n["aria-hidden"]="true",n.focusable="false")),n}function XZ(){return{iconName:null,title:null,titleId:null,prefix:null,transform:k2,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function _A(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},{iconName:e,prefix:r,rest:i}=YZ(t),s=ZZ(t),a=qy("parseNodeAttributes",{},t),o=n.styleParser?WZ(t):[];return rn({iconName:e,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:k2,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:o,attributes:s}},a)}var{styles:KZ}=N2;function cz(t){let n=dr.autoReplaceSvg==="nest"?_A(t,{styleParser:!1}):_A(t);return~n.extra.classes.indexOf($A)?Cl("generateLayersText",t,n):Cl("generateSvgReplacementMutation",t,n)}var P2=new Set;jA.map(t=>{P2.add("fa-".concat(t))});Object.keys(Rc[Fa]).map(P2.add.bind(P2));Object.keys(Rc[n1]).map(P2.add.bind(P2));Object.keys(Rc[r1]).map(P2.add.bind(P2));P2=[...P2];function SA(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!z0)return Promise.resolve();let e=ka.documentElement.classList,r=u=>e.add("".concat(pA,"-").concat(u)),i=u=>e.remove("".concat(pA,"-").concat(u)),s=dr.autoFetchSvg?P2:jA.map(u=>"fa-".concat(u)).concat(Object.keys(KZ));s.includes("fa")||s.push("fa");let a=[".".concat($A,":not([").concat(Fc,"])")].concat(s.map(u=>".".concat(u,":not([").concat(Fc,"])"))).join(", ");if(a.length===0)return Promise.resolve();let o=[];try{o=R4(t.querySelectorAll(a))}catch{}if(o.length>0)r("pending"),i("complete");else return Promise.resolve();let c=mx.begin("onTree"),l=o.reduce((u,f)=>{try{let h=cz(f);h&&u.push(h)}catch(h){UA||h.name==="MissingIcon"&&console.error(h)}return u},[]);return new Promise((u,f)=>{Promise.all(l).then(h=>{oz(h,()=>{r("active"),r("complete"),i("pending"),typeof n=="function"&&n(),c(),u()})}).catch(h=>{c(),f(h)})})}function QZ(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;cz(t).then(e=>{e&&oz([e],n)})}function JZ(t){return function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(n||{}).icon?n:ex(n||{}),{mask:i}=e;return i&&(i=(i||{}).icon?i:ex(i||{})),t(r,pr(rn({},e),{mask:i}))}}var qZ=function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:e=k2,symbol:r=!1,mask:i=null,maskId:s=null,title:a=null,titleId:o=null,classes:c=[],attributes:l={},styles:u={}}=n;if(!t)return;let{prefix:f,iconName:h,icon:p}=t;return $h(rn({type:"icon"},t),()=>(Bc("beforeDOMElementCreation",{iconDefinition:t,params:n}),dr.autoA11y&&(a?l["aria-labelledby"]="".concat(dr.replacementClass,"-title-").concat(o||Qu()):(l["aria-hidden"]="true",l.focusable="false")),px({icons:{main:tx(p),mask:i?tx(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:f,iconName:h,transform:rn(rn({},k2),e),symbol:r,title:a,maskId:s,titleId:o,extra:{attributes:l,styles:u,classes:c}})))},eX={mixout(){return{icon:JZ(qZ)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=SA,t.nodeCallback=QZ,t}}},provides(t){t.i2svg=function(n){let{node:e=ka,callback:r=()=>{}}=n;return SA(e,r)},t.generateSvgReplacementMutation=function(n,e){let{iconName:r,title:i,titleId:s,prefix:a,transform:o,symbol:c,mask:l,maskId:u,extra:f}=e;return new Promise((h,p)=>{Promise.all([nx(r,a),l.iconName?nx(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(m=>{let[d,y]=m;h([n,px({icons:{main:d,mask:y},prefix:a,iconName:r,transform:o,symbol:c,maskId:u,title:i,titleId:s,extra:f,watchable:!0})])}).catch(p)})},t.generateAbstractIcon=function(n){let{children:e,attributes:r,main:i,transform:s,styles:a}=n,o=Uh(a);o.length>0&&(r.style=o);let c;return ux(s)&&(c=Cl("generateAbstractTransformGrouping",{main:i,transform:s,containerWidth:i.width,iconWidth:i.width})),e.push(c||i.icon),{children:e,attributes:r}}}},tX={mixout(){return{layer(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{classes:e=[]}=n;return $h({type:"layer"},()=>{Bc("beforeDOMElementCreation",{assembler:t,params:n});let r=[];return t(i=>{Array.isArray(i)?i.map(s=>{r=r.concat(s.abstract)}):r=r.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(dr.cssPrefix,"-layers"),...e].join(" ")},children:r}]})}}}},nX={mixout(){return{counter(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{title:e=null,classes:r=[],attributes:i={},styles:s={}}=n;return $h({type:"counter",content:t},()=>(Bc("beforeDOMElementCreation",{content:t,params:n}),PZ({content:t.toString(),title:e,extra:{attributes:i,styles:s,classes:["".concat(dr.cssPrefix,"-layers-counter"),...r]}})))}}}},rX={mixout(){return{text(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:e=k2,title:r=null,classes:i=[],attributes:s={},styles:a={}}=n;return $h({type:"text",content:t},()=>(Bc("beforeDOMElementCreation",{content:t,params:n}),xA({content:t,transform:rn(rn({},k2),e),title:r,extra:{attributes:s,styles:a,classes:["".concat(dr.cssPrefix,"-layers-text"),...i]}})))}}},provides(t){t.generateLayersText=function(n,e){let{title:r,transform:i,extra:s}=e,a=null,o=null;if(RA){let c=parseInt(getComputedStyle(n).fontSize,10),l=n.getBoundingClientRect();a=l.width/c,o=l.height/c}return dr.autoA11y&&!r&&(s.attributes["aria-hidden"]="true"),Promise.resolve([n,xA({content:n.innerHTML,width:a,height:o,transform:i,title:r,extra:s,watchable:!0})])}}},iX=new RegExp('"',"ug"),LA=[1105920,1112319],DA=rn(rn(rn({FontAwesome:{normal:"fas",400:"fas"}},BY),FY),YY),ax=Object.keys(DA).reduce((t,n)=>(t[n.toLowerCase()]=DA[n],t),{}),aX=Object.keys(ax).reduce((t,n)=>{let e=ax[n];return t[n]=e[900]||[...Object.entries(e)][0][1],t},{});function sX(t){let n=t.replace(iX,""),e=yZ(n,0),r=e>=LA[0]&&e<=LA[1],i=n.length===2?n[0]===n[1]:!1;return{value:Ky(i?n[0]:n),isSecondary:r||i}}function oX(t,n){let e=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(n),i=isNaN(r)?"normal":r;return(ax[e]||{})[i]||aX[e]}function TA(t,n){let e="".concat(KY).concat(n.replace(":","-"));return new Promise((r,i)=>{if(t.getAttribute(e)!==null)return r();let a=R4(t.children).filter(h=>h.getAttribute(Wy)===n)[0],o=xl.getComputedStyle(t,n),c=o.getPropertyValue("font-family"),l=c.match(tZ),u=o.getPropertyValue("font-weight"),f=o.getPropertyValue("content");if(a&&!l)return t.removeChild(a),r();if(l&&f!=="none"&&f!==""){let h=o.getPropertyValue("content"),p=oX(c,u),{value:m,isSecondary:d}=sX(h),y=l[0].startsWith("FontAwesome"),x=dx(p,m),w=x;if(y){let L=SZ(m);L.iconName&&L.prefix&&(x=L.iconName,p=L.prefix)}if(x&&!d&&(!a||a.getAttribute(ox)!==p||a.getAttribute(lx)!==w)){t.setAttribute(e,w),a&&t.removeChild(a);let L=XZ(),{extra:_}=L;_.attributes[Wy]=n,nx(x,p).then(D=>{let C=px(pr(rn({},L),{icons:{main:D,mask:hx()},prefix:p,iconName:w,extra:_,watchable:!0})),z=ka.createElementNS("http://www.w3.org/2000/svg","svg");n==="::before"?t.insertBefore(z,t.firstChild):t.appendChild(z),z.outerHTML=C.map(b=>qu(b)).join(`
`),t.removeAttribute(e),r()}).catch(i)}else r()}else r()})}function lX(t){return Promise.all([TA(t,"::before"),TA(t,"::after")])}function cX(t){return t.parentNode!==document.head&&!~JY.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(Wy)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function AA(t){if(z0)return new Promise((n,e)=>{let r=R4(t.querySelectorAll("*")).filter(cX).map(lX),i=mx.begin("searchPseudoElements");lz(),Promise.all(r).then(()=>{i(),ix(),n()}).catch(()=>{i(),ix(),e()})})}var uX={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=AA,t}}},provides(t){t.pseudoElements2svg=function(n){let{node:e=ka}=n;dr.searchPseudoElements&&AA(e)}}},zA=!1,fX={mixout(){return{dom:{unwatch(){lz(),zA=!0}}}},hooks(){return{bootstrap(){wA(qy("mutationObserverCallbacks",{}))},noAuto(){$Z()},watch(t){let{observeMutationsRoot:n}=t;zA?ix():wA(qy("mutationObserverCallbacks",{observeMutationsRoot:n}))}}}},EA=t=>{let n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((e,r)=>{let i=r.toLowerCase().split("-"),s=i[0],a=i.slice(1).join("-");if(s&&a==="h")return e.flipX=!0,e;if(s&&a==="v")return e.flipY=!0,e;if(a=parseFloat(a),isNaN(a))return e;switch(s){case"grow":e.size=e.size+a;break;case"shrink":e.size=e.size-a;break;case"left":e.x=e.x-a;break;case"right":e.x=e.x+a;break;case"up":e.y=e.y-a;break;case"down":e.y=e.y+a;break;case"rotate":e.rotate=e.rotate+a;break}return e},n)},dX={mixout(){return{parse:{transform:t=>EA(t)}}},hooks(){return{parseNodeAttributes(t,n){let e=n.getAttribute("data-fa-transform");return e&&(t.transform=EA(e)),t}}},provides(t){t.generateAbstractTransformGrouping=function(n){let{main:e,transform:r,containerWidth:i,iconWidth:s}=n,a={transform:"translate(".concat(i/2," 256)")},o="translate(".concat(r.x*32,", ").concat(r.y*32,") "),c="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),l="rotate(".concat(r.rotate," 0 0)"),u={transform:"".concat(o," ").concat(c," ").concat(l)},f={transform:"translate(".concat(s/2*-1," -256)")},h={outer:a,inner:u,path:f};return{tag:"g",attributes:rn({},h.outer),children:[{tag:"g",attributes:rn({},h.inner),children:[{tag:e.icon.tag,children:e.icon.children,attributes:rn(rn({},e.icon.attributes),h.path)}]}]}}}},Gy={x:0,y:0,width:"100%",height:"100%"};function IA(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||n)&&(t.attributes.fill="black"),t}function hX(t){return t.tag==="g"?t.children:[t]}var pX={hooks(){return{parseNodeAttributes(t,n){let e=n.getAttribute("data-fa-mask"),r=e?Gh(e.split(" ").map(i=>i.trim())):hx();return r.prefix||(r.prefix=bl()),t.mask=r,t.maskId=n.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(n){let{children:e,attributes:r,main:i,mask:s,maskId:a,transform:o}=n,{width:c,icon:l}=i,{width:u,icon:f}=s,h=fZ({transform:o,containerWidth:u,iconWidth:c}),p={tag:"rect",attributes:pr(rn({},Gy),{fill:"white"})},m=l.children?{children:l.children.map(IA)}:{},d={tag:"g",attributes:rn({},h.inner),children:[IA(rn({tag:l.tag,attributes:rn(rn({},l.attributes),h.path)},m))]},y={tag:"g",attributes:rn({},h.outer),children:[d]},x="mask-".concat(a||Qu()),w="clip-".concat(a||Qu()),L={tag:"mask",attributes:pr(rn({},Gy),{id:x,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,y]},_={tag:"defs",children:[{tag:"clipPath",attributes:{id:w},children:hX(f)},L]};return e.push(_,{tag:"rect",attributes:rn({fill:"currentColor","clip-path":"url(#".concat(w,")"),mask:"url(#".concat(x,")")},Gy)}),{children:e,attributes:r}}}},mX={provides(t){let n=!1;xl.matchMedia&&(n=xl.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){let e=[],r={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:pr(rn({},r),{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});let s=pr(rn({},i),{attributeName:"opacity"}),a={tag:"circle",attributes:pr(rn({},r),{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:pr(rn({},i),{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:pr(rn({},s),{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:pr(rn({},r),{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:pr(rn({},s),{values:"1;0;0;0;0;1;"})}]}),n||e.push({tag:"path",attributes:pr(rn({},r),{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:pr(rn({},s),{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}},vX={hooks(){return{parseNodeAttributes(t,n){let e=n.getAttribute("data-fa-symbol"),r=e===null?!1:e===""?!0:e;return t.symbol=r,t}}}},gX=[pZ,eX,tX,nX,rX,uX,fX,dX,pX,mX,vX];TZ(gX,{mixoutsTo:i1});var r3e=i1.noAuto,uz=i1.config,i3e=i1.library,fz=i1.dom,dz=i1.parse,a3e=i1.findIconDefinition,s3e=i1.toHtml,hz=i1.icon,o3e=i1.layer,yX=i1.text,xX=i1.counter;var bX=["*"],CX=t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)},MX=()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")},wX=t=>{let n={[`fa-${t.animation}`]:t.animation!=null&&!t.animation.startsWith("spin"),"fa-spin":t.animation==="spin"||t.animation==="spin-reverse","fa-spin-pulse":t.animation==="spin-pulse"||t.animation==="spin-pulse-reverse","fa-spin-reverse":t.animation==="spin-reverse"||t.animation==="spin-pulse-reverse","fa-pulse":t.animation==="spin-pulse"||t.animation==="spin-pulse-reverse","fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":t.flip==="horizontal"||t.flip==="both","fa-flip-vertical":t.flip==="vertical"||t.flip==="both",[`fa-${t.size}`]:t.size!==null,[`fa-rotate-${t.rotate}`]:t.rotate!==null,[`fa-pull-${t.pull}`]:t.pull!==null,[`fa-stack-${t.stackItemSize}`]:t.stackItemSize!=null};return Object.keys(n).map(e=>n[e]?e:null).filter(e=>e)},gx=new WeakSet,pz="fa-auto-css";function _X(t,n){if(!n.autoAddCss||gx.has(t))return;if(t.getElementById(pz)!=null){n.autoAddCss=!1,gx.add(t);return}let e=t.createElement("style");e.setAttribute("type","text/css"),e.setAttribute("id",pz),e.innerHTML=fz.css();let r=t.head.childNodes,i=null;for(let s=r.length-1;s>-1;s--){let a=r[s],o=a.nodeName.toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(i=a)}t.head.insertBefore(e,i),n.autoAddCss=!1,gx.add(t)}var SX=t=>t.prefix!==void 0&&t.iconName!==void 0,LX=(t,n)=>SX(t)?t:Array.isArray(t)&&t.length===2?{prefix:t[0],iconName:t[1]}:{prefix:n,iconName:t},DX=(()=>{class t{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null,this._autoAddCss=!0}set autoAddCss(e){uz.autoAddCss=e,this._autoAddCss=e}get autoAddCss(){return this._autoAddCss}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),TX=(()=>{class t{constructor(){this.definitions={}}addIcons(...e){for(let r of e){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(let i of r.icon[2])typeof i=="string"&&(this.definitions[r.prefix][i]=r)}}addIconPacks(...e){for(let r of e){let i=Object.keys(r).map(s=>r[s]);this.addIcons(...i)}}getIconDefinition(e,r){return e in this.definitions&&r in this.definitions[e]?this.definitions[e][r]:null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),AX=(()=>{class t{constructor(){this.stackItemSize="1x"}ngOnChanges(e){if("size"in e)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Er({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},standalone:!0,features:[Fs]})}}return t})(),zX=(()=>{class t{constructor(e,r){this.renderer=e,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(e){"size"in e&&(e.size.currentValue!=null&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${e.size.currentValue}`),e.size.previousValue!=null&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${e.size.previousValue}`))}static{this.\u0275fac=function(r){return new(r||t)(ht(Bs),ht(Ui))}}static{this.\u0275cmp=Nn({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},standalone:!0,features:[Fs,dl],ngContentSelectors:bX,decls:1,vars:0,template:function(r,i){r&1&&(A2(),L1(0))},encapsulation:2})}}return t})(),xr=(()=>{class t{constructor(e,r,i,s,a){this.sanitizer=e,this.config=r,this.iconLibrary=i,this.stackItem=s,this.document=Hn(zi),a!=null&&s==null&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(e){if(this.icon==null&&this.config.fallbackIcon==null){MX();return}if(e){let r=this.findIconDefinition(this.icon??this.config.fallbackIcon);if(r!=null){let i=this.buildParams();_X(this.document,this.config);let s=hz(r,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join(`
`))}}}render(){this.ngOnChanges({})}findIconDefinition(e){let r=LX(e,this.config.defaultPrefix);if("icon"in r)return r;let i=this.iconLibrary.getIconDefinition(r.prefix,r.iconName);return i??(CX(r),null)}buildParams(){let e={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:typeof this.fixedWidth=="boolean"?this.fixedWidth:this.config.fixedWidth,stackItemSize:this.stackItem!=null?this.stackItem.stackItemSize:null},r=typeof this.transform=="string"?dz.transform(this.transform):this.transform;return{title:this.title,transform:r,classes:wX(e),mask:this.mask!=null?this.findIconDefinition(this.mask):null,symbol:this.symbol,attributes:{role:this.a11yRole}}}static{this.\u0275fac=function(r){return new(r||t)(ht(Qg),ht(DX),ht(TX),ht(AX,8),ht(zX,8))}}static{this.\u0275cmp=Nn({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){r&2&&(P5("innerHTML",i.renderedIconHTML,tL),vs("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",mask:"mask",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},standalone:!0,features:[Fs,dl],decls:0,vars:0,template:function(r,i){},encapsulation:2})}}return t})();var mz=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Qr({type:t})}static{this.\u0275inj=Kr({})}}return t})();var vz=new ir("WindowToken",typeof window<"u"&&window.document?{providedIn:"root",factory:()=>window}:{providedIn:"root",factory:()=>{}});var gz=(()=>{class t{constructor(e,r,i){this.ngZone=e,this.document=r,this.window=i,this.copySubject=new nr,this.copyResponse$=this.copySubject.asObservable(),this.config={}}configure(e){this.config=e}copy(e){if(!this.isSupported||!e)return this.pushCopyResponse({isSuccess:!1,content:e});let r=this.copyFromContent(e);return r?this.pushCopyResponse({content:e,isSuccess:r}):this.pushCopyResponse({isSuccess:!1,content:e})}get isSupported(){return!!this.document.queryCommandSupported&&!!this.document.queryCommandSupported("copy")&&!!this.window}isTargetValid(e){if(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement){if(e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');return!0}throw new Error("Target should be input or textarea")}copyFromInputElement(e,r=!0){try{this.selectTarget(e);let i=this.copyText();return this.clearSelection(r?e:void 0,this.window),i&&this.isCopySuccessInIE11()}catch{return!1}}isCopySuccessInIE11(){let e=this.window.clipboardData;return!(e&&e.getData&&!e.getData("Text"))}copyFromContent(e,r=this.document.body){if(this.tempTextArea&&!r.contains(this.tempTextArea)&&this.destroy(this.tempTextArea.parentElement||void 0),!this.tempTextArea){this.tempTextArea=this.createTempTextArea(this.document,this.window);try{r.appendChild(this.tempTextArea)}catch{throw new Error("Container should be a Dom element")}}this.tempTextArea.value=e;let i=this.copyFromInputElement(this.tempTextArea,!1);return this.config.cleanUpAfterCopy&&this.destroy(this.tempTextArea.parentElement||void 0),i}destroy(e=this.document.body){this.tempTextArea&&(e.removeChild(this.tempTextArea),this.tempTextArea=void 0)}selectTarget(e){return e.select(),e.setSelectionRange(0,e.value.length),e.value.length}copyText(){return this.document.execCommand("copy")}clearSelection(e,r){e&&e.focus(),r.getSelection()?.removeAllRanges()}createTempTextArea(e,r){let i=e.documentElement.getAttribute("dir")==="rtl",s;s=e.createElement("textarea"),s.style.fontSize="12pt",s.style.border="0",s.style.padding="0",s.style.margin="0",s.style.position="absolute",s.style[i?"right":"left"]="-9999px";let a=r.pageYOffset||e.documentElement.scrollTop;return s.style.top=a+"px",s.setAttribute("readonly",""),s}pushCopyResponse(e){this.copySubject.observers.length>0&&this.ngZone.run(()=>{this.copySubject.next(e)})}pushCopyReponse(e){this.pushCopyResponse(e)}}return t.\u0275fac=function(e){return new(e||t)($t(Wr),$t(zi),$t(vz,8))},t.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var yz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qr({type:t}),t.\u0275inj=Kr({imports:[z1]}),t})();var xz=350,O4=(()=>{class t{_elementRef;_renderer;constructor(e,r){this._elementRef=e,this._renderer=r}collapseClass=!0;collapseShow=new rr;collapseShown=new rr;collapseHide=new rr;collapseHidden=new rr;set collapsed(e){e!==this._collapsed&&(e?this.hide():this.show(),this._collapsed=e)}get collapsed(){return this._collapsed}_collapsed=!0;get host(){return this._elementRef.nativeElement}_isTransitioning=!1;show(){if(this._isTransitioning||!this.collapsed)return;this.collapseShow.emit(this),this._renderer.removeClass(this.host,"collapse"),this._renderer.addClass(this.host,"collapsing"),this._renderer.setStyle(this.host,"height","0px"),this._isTransitioning=!0;let e=this.host.scrollHeight;qs(this.host,"transitionend").pipe(za(1)).subscribe(()=>{this._isTransitioning=!1,this.collapsed=!1,this._renderer.removeClass(this.host,"collapsing"),this._renderer.addClass(this.host,"collapse"),this._renderer.addClass(this.host,"show"),this._renderer.removeStyle(this.host,"height"),this.collapseShown.emit(this)}),this._emulateTransitionEnd(this.host,xz),this._renderer.setStyle(this.host,"height",`${e}px`)}hide(){if(this._isTransitioning||this.collapsed)return;this.collapseHide.emit(this);let e=this.host.getBoundingClientRect().height;this._renderer.setStyle(this.host,"height",`${e}px`),this._reflow(this.host),this._renderer.addClass(this.host,"collapsing"),this._renderer.removeClass(this.host,"collapse"),this._renderer.removeClass(this.host,"show"),this._isTransitioning=!0,qs(this.host,"transitionend").pipe(za(1)).subscribe(()=>{this._renderer.removeClass(this.host,"collapsing"),this._renderer.addClass(this.host,"collapse"),this._isTransitioning=!1,this.collapsed=!0,this.collapseHidden.emit(this)}),this._renderer.removeStyle(this.host,"height"),this._emulateTransitionEnd(this.host,xz)}toggle(){this._isTransitioning||(this.collapsed=!this.collapsed,this.collapsed?this.hide():this.show())}_reflow(e){return e.offsetHeight}_emulateTransitionEnd(e,r){let i=!1,a=r+5;qs(e,"transitionend").pipe(za(1)).subscribe(()=>{i=!0}),setTimeout(()=>{i||e.dispatchEvent(new Event("transitionend"))},a)}static \u0275fac=function(r){return new(r||t)(ht(Ui),ht(Bs))};static \u0275dir=Er({type:t,selectors:[["","mdbCollapse",""]],hostVars:2,hostBindings:function(r,i){r&2&&Mn("collapse",i.collapseClass)},inputs:{collapsed:"collapsed"},outputs:{collapseShow:"collapseShow",collapseShown:"collapseShown",collapseHide:"collapseHide",collapseHidden:"collapseHidden"},exportAs:["mdbCollapse"]})}return t})(),Wh=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Qr({type:t});static \u0275inj=Kr({})}return t})();function Po(t){return t!=null&&`${t}`!="false"}function F4(t){return Array.isArray(t)?t:[t]}function ls(t){return t==null?"":typeof t=="string"?t:`${t}px`}function Cz(t){return t instanceof Ui?t.nativeElement:t}var yx;try{yx=typeof Intl<"u"&&Intl.v8BreakIterator}catch{yx=!1}var E0=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?M4(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||yx)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(r){return new(r||t)($t(Yo))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Vc;function Mz(){if(Vc==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Vc=!1,Vc;if("scrollBehavior"in document.documentElement.style)Vc=!0;else{let t=Element.prototype.scrollTo;t?Vc=!/\{\s*\[native code\]\s*\}/.test(t.toString()):Vc=!1}}return Vc}function xx(t){return t.composedPath?t.composedPath()[0]:t.target}function bx(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var IX=new ir("cdk-dir-doc",{providedIn:"root",factory:kX});function kX(){return Hn(zi)}var NX=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function PX(t){let n=t?.toLowerCase()||"";return n==="auto"&&typeof navigator<"u"&&navigator?.language?NX.test(navigator.language)?"rtl":"ltr":n==="rtl"?"rtl":"ltr"}var wz=(()=>{class t{constructor(e){if(this.value="ltr",this.change=new rr,e){let r=e.body?e.body.dir:null,i=e.documentElement?e.documentElement.dir:null;this.value=PX(r||i||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(r){return new(r||t)($t(IX,8))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ef=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Qr({type:t})}static{this.\u0275inj=Kr({})}}return t})();var OX=20,Sz=(()=>{class t{constructor(e,r,i){this._ngZone=e,this._platform=r,this._scrolled=new nr,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=OX){return this._platform.isBrowser?new ii(r=>{this._globalSubscription||this._addGlobalListener();let i=e>0?this._scrolled.pipe(b8(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Lr()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){let i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(La(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(e){let r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,e)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let i=Cz(r),s=e.getElementRef().nativeElement;do if(i==s)return!0;while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();return qs(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(r){return new(r||t)($t(Wr),$t(E0),$t(zi,8))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var FX=20,Mx=(()=>{class t{constructor(e,r,i){this._platform=e,this._change=new nr,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,r=this._getWindow(),i=e.documentElement,s=i.getBoundingClientRect(),a=-s.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,o=-s.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:a,left:o}}change(e=FX){return e>0?this._change.pipe(b8(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(r){return new(r||t)($t(E0),$t(Wr),$t(zi,8))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var _z=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Qr({type:t})}static{this.\u0275inj=Kr({})}}return t})(),wx=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Qr({type:t})}static{this.\u0275inj=Kr({imports:[ef,_z,ef,_z]})}}return t})();var tf=class{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;n!=null&&(this._attachedHost=null,n.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(n){this._attachedHost=n}},_x=class extends tf{constructor(n,e,r,i,s){super(),this.component=n,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}},I0=class extends tf{constructor(n,e,r,i){super(),this.templateRef=n,this.viewContainerRef=e,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}},Sx=class extends tf{constructor(n){super(),this.element=n instanceof Ui?n.nativeElement:n}},Yh=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){if(n instanceof _x)return this._attachedPortal=n,this.attachComponentPortal(n);if(n instanceof I0)return this._attachedPortal=n,this.attachTemplatePortal(n);if(this.attachDomPortal&&n instanceof Sx)return this._attachedPortal=n,this.attachDomPortal(n)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Zh=class extends Yh{constructor(n,e,r,i,s){super(),this.outletElement=n,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=a=>{this._document;let o=a.element;o.parentNode;let c=this._document.createComment("dom-portal");o.parentNode.insertBefore(c,o),this.outletElement.appendChild(o),this._attachedPortal=a,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(o,c)})},this._document=s}attachComponentPortal(n){let r=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component),i;return n.viewContainerRef?(i=n.viewContainerRef.createComponent(r,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector,n.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(n.injector||this._defaultInjector||ns.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=n,i}attachTemplatePortal(n){let e=n.viewContainerRef,r=e.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(r);i!==-1&&e.remove(i)}),this._attachedPortal=n,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}};var Xh=(()=>{class t extends Yh{constructor(e,r,i){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new rr,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let o=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(o,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{o.parentNode&&o.parentNode.replaceChild(a,o)})},this._document=i}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let r=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=r.createComponent(s,r.length,e.injector||r.injector,e.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static{this.\u0275fac=function(r){return new(r||t)(ht(w1),ht(Ls),ht(zi))}}static{this.\u0275dir=Er({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Nr]})}}return t})();var Kh=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Qr({type:t})}static{this.\u0275inj=Kr({})}}return t})();var Lz=Mz(),Lx=class{constructor(n,e){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=ls(-this._previousScrollPosition.left),n.style.top=ls(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let n=this._document.documentElement,e=this._document.body,r=n.style,i=e.style,s=r.scrollBehavior||"",a=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),Lz&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Lz&&(r.scrollBehavior=s,i.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}};var Dx=class{constructor(n,e,r,i){this._scrollDispatcher=n,this._ngZone=e,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef,this._overlayRef=n}enable(){if(this._scrollSubscription)return;let n=this._scrollDispatcher.scrolled(0).pipe(La(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Qh=class{enable(){}disable(){}attach(){}};function Tx(t,n){return n.some(e=>{let r=t.bottom<e.top,i=t.top>e.bottom,s=t.right<e.left,a=t.left>e.right;return r||i||s||a})}function Dz(t,n){return n.some(e=>{let r=t.top<e.top,i=t.bottom>e.bottom,s=t.left<e.left,a=t.right>e.right;return r||i||s||a})}var Ax=class{constructor(n,e,r,i){this._scrollDispatcher=n,this._viewportRuler=e,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(n){this._overlayRef,this._overlayRef=n}enable(){if(!this._scrollSubscription){let n=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(n).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();Tx(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},HX=(()=>{class t{constructor(e,r,i,s){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new Qh,this.close=a=>new Dx(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new Lx(this._viewportRuler,this._document),this.reposition=a=>new Ax(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}static{this.\u0275fac=function(r){return new(r||t)($t(Sz),$t(Mx),$t(Wr),$t(zi))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),nf=class{constructor(n){if(this.scrollStrategy=new Qh,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){let e=Object.keys(n);for(let r of e)n[r]!==void 0&&(this[r]=n[r])}}};var zx=class{constructor(n,e){this.connectionPair=n,this.scrollableViewProperties=e}};var kz=(()=>{class t{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}static{this.\u0275fac=function(r){return new(r||t)($t(zi))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),UX=(()=>{class t extends kz{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=i=>{let s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){let o=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>o.next(i)):o.next(i);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(r){return new(r||t)($t(zi),$t(Wr,8))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),jX=(()=>{class t extends kz{constructor(e,r,i){super(e),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=xx(s)},this._clickListener=s=>{let a=xx(s),o=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){let u=c[l];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(Tz(u.overlayElement,a)||Tz(u.overlayElement,o))break;let f=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>f.next(s)):f.next(s)}}}add(e){if(super.add(e),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(r){return new(r||t)($t(zi),$t(E0),$t(Wr,8))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Tz(t,n){let e=typeof ShadowRoot<"u"&&ShadowRoot,r=n;for(;r;){if(r===t)return!0;r=e&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}var Nz=(()=>{class t{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||bx()){let i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}let r=this._document.createElement("div");r.classList.add(e),bx()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static{this.\u0275fac=function(r){return new(r||t)($t(zi),$t(E0))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ex=class{constructor(n,e,r,i,s,a,o,c,l,u=!1,f){this._portalOutlet=n,this._host=e,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=a,this._document=o,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=u,this._injector=f,this._backdropElement=null,this._backdropClick=new nr,this._attachments=new nr,this._detachments=new nr,this._locationChanges=Sa.EMPTY,this._backdropClickHandler=h=>this._backdropClick.next(h),this._backdropTransitionendHandler=h=>{this._disposeBackdrop(h.target)},this._keydownEvents=new nr,this._outsidePointerEvents=new nr,this._renders=new nr,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy,this._afterRenderRef=J1(()=>gg(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(n);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Mu(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){let n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,n&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config=rn(rn({},this._config),n),this._updateElementSize()}setDirection(n){this._config=pr(rn({},this._config),{direction:n}),this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){let n=this._config.direction;return n?typeof n=="string"?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let n=this._pane.style;n.width=ls(this._config.width),n.height=ls(this._config.height),n.minWidth=ls(this._config.minWidth),n.minHeight=ls(this._config.minHeight),n.maxWidth=ls(this._config.maxWidth),n.maxHeight=ls(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){let n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let n=this._backdropElement;if(n){if(this._animationsDisabled){this._disposeBackdrop(n);return}n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",this._backdropTransitionendHandler)}),n.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(n)},500))}}_toggleClasses(n,e,r){let i=F4(e||[]).filter(s=>!!s);i.length&&(r?n.classList.add(...i):n.classList.remove(...i))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let n=this._renders.pipe(er(J0(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){let n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",this._backdropTransitionendHandler),n.remove(),this._backdropElement===n&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},Az="cdk-overlay-connected-position-bounding-box",GX=/([A-Za-z%]+)$/,Ix=class{get positions(){return this._preferredPositions}constructor(n,e,r,i,s){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new nr,this._resizeSubscription=Sa.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}attach(n){this._overlayRef&&this._overlayRef,this._validatePositions(),n.hostElement.classList.add(Az),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._originRect,e=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[],a;for(let o of this._preferredPositions){let c=this._getOriginPoint(n,i,o),l=this._getOverlayPoint(c,e,o),u=this._getOverlayFit(l,e,r,o);if(u.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(o,c);return}if(this._canFitWithFlexibleDimensions(u,l,r)){s.push({position:o,origin:c,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(c,o)});continue}(!a||a.overlayFit.visibleArea<u.visibleArea)&&(a={overlayFit:u,overlayPoint:l,originPoint:c,position:o,overlayRect:e})}if(s.length){let o=null,c=-1;for(let l of s){let u=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);u>c&&(c=u,o=l)}this._isPushed=!1,this._applyPosition(o.position,o.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(a.position,a.originPoint);return}this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Hc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Az),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,e)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,n.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,e,r){let i;if(r.originX=="center")i=n.left+n.width/2;else{let a=this._isRtl()?n.right:n.left,o=this._isRtl()?n.left:n.right;i=r.originX=="start"?a:o}e.left<0&&(i-=e.left);let s;return r.originY=="center"?s=n.top+n.height/2:s=r.originY=="top"?n.top:n.bottom,e.top<0&&(s-=e.top),{x:i,y:s}}_getOverlayPoint(n,e,r){let i;r.overlayX=="center"?i=-e.width/2:r.overlayX==="start"?i=this._isRtl()?-e.width:0:i=this._isRtl()?0:-e.width;let s;return r.overlayY=="center"?s=-e.height/2:s=r.overlayY=="top"?0:-e.height,{x:n.x+i,y:n.y+s}}_getOverlayFit(n,e,r,i){let s=Ez(e),{x:a,y:o}=n,c=this._getOffset(i,"x"),l=this._getOffset(i,"y");c&&(a+=c),l&&(o+=l);let u=0-a,f=a+s.width-r.width,h=0-o,p=o+s.height-r.height,m=this._subtractOverflows(s.width,u,f),d=this._subtractOverflows(s.height,h,p),y=m*d;return{visibleArea:y,isCompletelyWithinViewport:s.width*s.height===y,fitsInViewportVertically:d===s.height,fitsInViewportHorizontally:m==s.width}}_canFitWithFlexibleDimensions(n,e,r){if(this._hasFlexibleDimensions){let i=r.bottom-e.y,s=r.right-e.x,a=zz(this._overlayRef.getConfig().minHeight),o=zz(this._overlayRef.getConfig().minWidth),c=n.fitsInViewportVertically||a!=null&&a<=i,l=n.fitsInViewportHorizontally||o!=null&&o<=s;return c&&l}return!1}_pushOverlayOnScreen(n,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};let i=Ez(e),s=this._viewportRect,a=Math.max(n.x+i.width-s.width,0),o=Math.max(n.y+i.height-s.height,0),c=Math.max(s.top-r.top-n.y,0),l=Math.max(s.left-r.left-n.x,0),u=0,f=0;return i.width<=s.width?u=l||-a:u=n.x<this._viewportMargin?s.left-r.left-n.x:0,i.height<=s.height?f=c||-o:f=n.y<this._viewportMargin?s.top-r.top-n.y:0,this._previousPushAmount={x:u,y:f},{x:n.x+u,y:n.y+f}}_applyPosition(n,e){if(this._setTransformOrigin(n),this._setOverlayElementStyles(e,n),this._setBoundingBoxStyles(e,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(n!==this._lastPosition||!this._lastScrollVisibility||!$X(this._lastScrollVisibility,r)){let i=new zx(n,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=n,this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,i=n.overlayY;n.overlayX==="center"?r="center":this._isRtl()?r=n.overlayX==="start"?"right":"left":r=n.overlayX==="start"?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(n,e){let r=this._viewportRect,i=this._isRtl(),s,a,o;if(e.overlayY==="top")a=n.y,s=r.height-a+this._viewportMargin;else if(e.overlayY==="bottom")o=r.height-n.y+this._viewportMargin*2,s=r.height-o+this._viewportMargin;else{let p=Math.min(r.bottom-n.y+r.top,n.y),m=this._lastBoundingBoxSize.height;s=p*2,a=n.y-p,s>m&&!this._isInitialRender&&!this._growAfterOpen&&(a=n.y-m/2)}let c=e.overlayX==="start"&&!i||e.overlayX==="end"&&i,l=e.overlayX==="end"&&!i||e.overlayX==="start"&&i,u,f,h;if(l)h=r.width-n.x+this._viewportMargin*2,u=n.x-this._viewportMargin;else if(c)f=n.x,u=r.right-n.x;else{let p=Math.min(r.right-n.x+r.left,n.x),m=this._lastBoundingBoxSize.width;u=p*2,f=n.x-p,u>m&&!this._isInitialRender&&!this._growAfterOpen&&(f=n.x-m/2)}return{top:a,left:f,bottom:o,right:h,width:u,height:s}}_setBoundingBoxStyles(n,e){let r=this._calculateBoundingBoxRect(n,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let s=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;i.height=ls(r.height),i.top=ls(r.top),i.bottom=ls(r.bottom),i.width=ls(r.width),i.left=ls(r.left),i.right=ls(r.right),e.overlayX==="center"?i.alignItems="center":i.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?i.justifyContent="center":i.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",s&&(i.maxHeight=ls(s)),a&&(i.maxWidth=ls(a))}this._lastBoundingBoxSize=r,Hc(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Hc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Hc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,e){let r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(i){let u=this._viewportRuler.getViewportScrollPosition();Hc(r,this._getExactOverlayY(e,n,u)),Hc(r,this._getExactOverlayX(e,n,u))}else r.position="static";let o="",c=this._getOffset(e,"x"),l=this._getOffset(e,"y");c&&(o+=`translateX(${c}px) `),l&&(o+=`translateY(${l}px)`),r.transform=o.trim(),a.maxHeight&&(i?r.maxHeight=ls(a.maxHeight):s&&(r.maxHeight="")),a.maxWidth&&(i?r.maxWidth=ls(a.maxWidth):s&&(r.maxWidth="")),Hc(this._pane.style,r)}_getExactOverlayY(n,e,r){let i={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,n);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),n.overlayY==="bottom"){let a=this._document.documentElement.clientHeight;i.bottom=`${a-(s.y+this._overlayRect.height)}px`}else i.top=ls(s.y);return i}_getExactOverlayX(n,e,r){let i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,n);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r));let a;if(this._isRtl()?a=n.overlayX==="end"?"left":"right":a=n.overlayX==="end"?"right":"left",a==="right"){let o=this._document.documentElement.clientWidth;i.right=`${o-(s.x+this._overlayRect.width)}px`}else i.left=ls(s.x);return i}_getScrollVisibility(){let n=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Dz(n,r),isOriginOutsideView:Tx(n,r),isOverlayClipped:Dz(e,r),isOverlayOutsideView:Tx(e,r)}}_subtractOverflows(n,...e){return e.reduce((r,i)=>r-Math.max(i,0),n)}_getNarrowedViewportRect(){let n=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+n-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:n-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,e){return e==="x"?n.offsetX==null?this._offsetX:n.offsetX:n.offsetY==null?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&F4(n).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){let n=this._origin;if(n instanceof Ui)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();let e=n.width||0,r=n.height||0;return{top:n.y,bottom:n.y+r,left:n.x,right:n.x+e,height:r,width:e}}};function Hc(t,n){for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}function zz(t){if(typeof t!="number"&&t!=null){let[n,e]=t.split(GX);return!e||e==="px"?parseFloat(n):null}return t||null}function Ez(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function $X(t,n){return t===n?!0:t.isOriginClipped===n.isOriginClipped&&t.isOriginOutsideView===n.isOriginOutsideView&&t.isOverlayClipped===n.isOverlayClipped&&t.isOverlayOutsideView===n.isOverlayOutsideView}var Iz="cdk-global-overlay-wrapper",kx=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(n){let e=n.getConfig();this._overlayRef=n,this._width&&!e.width&&n.updateSize({width:this._width}),this._height&&!e.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(Iz),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:a,maxHeight:o}=r,c=(i==="100%"||i==="100vw")&&(!a||a==="100%"||a==="100vw"),l=(s==="100%"||s==="100vh")&&(!o||o==="100%"||o==="100vh"),u=this._xPosition,f=this._xOffset,h=this._overlayRef.getConfig().direction==="rtl",p="",m="",d="";c?d="flex-start":u==="center"?(d="center",h?m=f:p=f):h?u==="left"||u==="end"?(d="flex-end",p=f):(u==="right"||u==="start")&&(d="flex-start",m=f):u==="left"||u==="start"?(d="flex-start",p=f):(u==="right"||u==="end")&&(d="flex-end",m=f),n.position=this._cssPosition,n.marginLeft=c?"0":p,n.marginTop=l?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=c?"0":m,e.justifyContent=d,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(Iz),r.justifyContent=r.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}},Nx=(()=>{class t{constructor(e,r,i,s){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new kx}flexibleConnectedTo(e){return new Ix(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(r){return new(r||t)($t(Mx),$t(zi),$t(E0),$t(Nz))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),WX=0,rf=(()=>{class t{constructor(e,r,i,s,a,o,c,l,u,f,h,p){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=o,this._ngZone=c,this._document=l,this._directionality=u,this._location=f,this._outsideClickDispatcher=h,this._animationsModuleType=p}create(e){let r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),a=new nf(e);return a.direction=a.direction||this._directionality.value,new Ex(s,r,i,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(mo))}position(){return this._positionBuilder}_createPaneElement(e){let r=this._document.createElement("div");return r.id=`cdk-overlay-${WX++}`,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Ko)),new Zh(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(r){return new(r||t)($t(HX),$t(Nz),$t(w1),$t(Nx),$t(UX),$t(ns),$t(Wr),$t(zi),$t(wz),$t(pa),$t(jX),$t(yu,8))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var YX=new ir("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=Hn(rf);return()=>t.scrollStrategies.reposition()}});function ZX(t){return()=>t.scrollStrategies.reposition()}var XX={provide:YX,deps:[rf],useFactory:ZX},Pz=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Qr({type:t})}static{this.\u0275inj=Kr({providers:[rf,XX],imports:[ef,Kh,wx,wx]})}}return t})();var Rz=new Set,Uc,QX=(()=>{class t{constructor(e,r){this._platform=e,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):qX}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&JX(e,this._nonce),this._matchMedia(e)}static{this.\u0275fac=function(r){return new(r||t)($t(E0),$t(xu,8))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function JX(t,n){if(!Rz.has(t))try{Uc||(Uc=document.createElement("style"),n&&Uc.setAttribute("nonce",n),Uc.setAttribute("type","text/css"),document.head.appendChild(Uc)),Uc.sheet&&(Uc.sheet.insertRule(`@media ${t} {body{ }}`,0),Rz.add(t))}catch(e){console.error(e)}}function qX(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var Fz=(()=>{class t{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new nr}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Oz(F4(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let i=Oz(F4(e)).map(a=>this._registerQuery(a).observable),s=sc(i);return s=b1(s.pipe(za(1)),s.pipe(p9(1),l9(0))),s.pipe(jr(a=>{let o={matches:!1,breakpoints:{}};return a.forEach(({matches:c,query:l})=>{o.matches=o.matches||c,o.breakpoints[l]=c}),o}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let r=this._mediaMatcher.matchMedia(e),s={observable:new ii(a=>{let o=c=>this._zone.run(()=>a.next(c));return r.addListener(o),()=>{r.removeListener(o)}}).pipe(tl(r),jr(({matches:a})=>({query:e,matches:a})),er(this._destroySubject)),mql:r};return this._queries.set(e,s),s}static{this.\u0275fac=function(r){return new(r||t)($t(QX),$t(Wr))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Oz(t){return t.map(n=>n.split(",")).reduce((n,e)=>n.concat(e)).map(n=>n.trim())}var tK=["dropdownTemplate"],nK=["mdbDropdown",""],rK=["*",[["",8,"dropdown-toggle"]],[["",8,"dropdown-menu"]]],iK=["*",".dropdown-toggle",".dropdown-menu"];function aK(t,n){if(t&1){let e=ar();se(0,"div"),Bt("@fade.done",function(i){Dn(e);let s=lt();return Tn(s.onAnimationEnd(i))}),L1(1,2),de()}if(t&2){let e=lt();Ne("@fade",e._animationState)("@.disabled",!e.animation)}}var Ds=(()=>{class t{constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Er({type:t,selectors:[["","mdbDropdownToggle",""]],exportAs:["mdbDropdownToggle"]})}return t})(),Ts=(()=>{class t{elementRef;_renderer;constructor(e,r){this.elementRef=e,this._renderer=r}menuPositionClassChanged=new rr;get menuPositionClass(){return this._menuPositionClass}set menuPositionClass(e){let r=this.elementRef.nativeElement,i=r.classList.contains(e);this._menuPositionClass!==e&&!i&&(["dropdown-menu-start","dropdown-menu-sm-start","dropdown-menu-md-start","dropdown-menu-lg-start","dropdown-menu-xl-start","dropdown-menu-xxl-start","dropdown-menu-xxl-start","dropdown-menu-xxl-start","dropdown-menu-end","dropdown-menu-sm-end","dropdown-menu-md-end","dropdown-menu-lg-end","dropdown-menu-xl-end","dropdown-menu-xxl-end","dropdown-menu-xxl-end","dropdown-menu-xxl-end"].forEach(a=>{this._renderer.removeClass(r,a)}),this._renderer.addClass(r,e),this.menuPositionClassChanged.emit(this.menuPositionClass))}_menuPositionClass;static \u0275fac=function(r){return new(r||t)(ht(Ui),ht(Bs))};static \u0275dir=Er({type:t,selectors:[["","mdbDropdownMenu",""]],inputs:{menuPositionClass:"menuPositionClass"},outputs:{menuPositionClassChanged:"menuPositionClassChanged"},exportAs:["mdbDropdownMenu"]})}return t})(),Vs=(()=>{class t{_overlay;_overlayPositionBuilder;_elementRef;_vcr;_breakpointObserver;_cdRef;_renderer;_template;_dropdownToggle;_dropdownMenu;animation=!0;closeOnEsc=!0;closeOnItemClick=!0;closeOnOutsideClick=!0;offset=0;get positionClass(){return this._positionClass}set positionClass(e){let r=this.host.classList.contains(e);this._positionClass!==e&&!r&&(["dropdown","dropup","dropstart","dropend"].forEach(s=>{this._renderer.removeClass(this.host,s)}),this._renderer.addClass(this.host,e)),this._updateOverlay()}_positionClass;withPush=!1;dropdownShow=new rr;dropdownShown=new rr;dropdownHide=new rr;dropdownHidden=new rr;_overlayRef;_portal;_open=!1;_isDropUp;_isDropStart;_isDropEnd;_isDropdownMenuEnd;_xPosition;_breakpoints;_destroy$=new nr;get host(){return this._elementRef.nativeElement}_breakpointSubscription;_animationState="hidden";constructor(e,r,i,s,a,o,c){this._overlay=e,this._overlayPositionBuilder=r,this._elementRef=i,this._vcr=s,this._breakpointObserver=a,this._cdRef=o,this._renderer=c,this._breakpoints={isSm:this._breakpointObserver.isMatched("(min-width: 576px)"),isMd:this._breakpointObserver.isMatched("(min-width: 768px)"),isLg:this._breakpointObserver.isMatched("(min-width: 992px)"),isXl:this._breakpointObserver.isMatched("(min-width: 1200px)"),isXxl:this._breakpointObserver.isMatched("(min-width: 1400px)")}}ngAfterContentInit(){this._bindDropdownToggleClick(),this._listenToMenuPositionClassChange()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.detach(),this._overlayRef.dispose()),this._destroy$.next(),this._destroy$.complete()}_bindDropdownToggleClick(){qs(this._dropdownToggle.nativeElement,"click").pipe(er(this._destroy$)).subscribe(()=>this.toggle())}_listenToMenuPositionClassChange(){this._dropdownMenu.menuPositionClassChanged.pipe(er(this._destroy$)).subscribe(()=>this._updateOverlay())}_updateOverlay(){this._overlayRef?.updatePositionStrategy(this._createPositionStrategy())}_createOverlayConfig(){return new nf({hasBackdrop:!1,scrollStrategy:this._overlay.scrollStrategies.reposition(),positionStrategy:this._createPositionStrategy()})}_createOverlay(){this._overlayRef=this._overlay.create(this._createOverlayConfig())}_createPositionStrategy(){return this._overlayPositionBuilder.flexibleConnectedTo(this._dropdownToggle).withPositions(this._getPosition()).withFlexibleDimensions(!1).withPush(this.withPush)}_getPosition(){this._isDropUp=this.host.classList.contains("dropup"),this._isDropStart=this.host.classList.contains("dropstart"),this._isDropEnd=this.host.classList.contains("dropend"),this._isDropdownMenuEnd=this._dropdownMenu.elementRef.nativeElement.classList.contains("dropdown-menu-end"),this._xPosition=this._isDropdownMenuEnd?"end":"start";let e=new RegExp(/dropdown-menu-(sm|md|lg|xl|xxl)-(start|end)/,"g"),r=this._dropdownMenu.elementRef.nativeElement.className.match(e);if(r){this._subscribeBrakpoints();let l=new RegExp(/start|end/,"g"),u=new RegExp(/(sm|md|lg|xl|xxl)/,"g"),f=l.exec(r)[0],h=u.exec(r)[0];switch(!0){case(h==="xxl"&&this._breakpoints.isXxl):this._xPosition=f;break;case(h==="xl"&&this._breakpoints.isXl):this._xPosition=f;break;case(h==="lg"&&this._breakpoints.isLg):this._xPosition=f;break;case(h==="md"&&this._breakpoints.isMd):this._xPosition=f;break;case(h==="sm"&&this._breakpoints.isSm):this._xPosition=f;break;default:break}}let i,s={originX:this._xPosition,originY:"top",overlayX:this._xPosition,overlayY:"bottom",offsetY:-this.offset},a={originX:this._xPosition,originY:"bottom",overlayX:this._xPosition,overlayY:"top",offsetY:this.offset},o={originX:"start",originY:"top",overlayX:"end",overlayY:"top",offsetX:this.offset},c={originX:"end",originY:"top",overlayX:"start",overlayY:"top",offsetX:-this.offset};switch(!0){case this._isDropEnd:i=[c,o];break;case this._isDropStart:i=[o,c];break;case this._isDropUp:i=[s,a];break;default:i=[a,s];break}return i}_listenToEscKeyup(e){return qs(document,"keyup").pipe(La(r=>r.key==="Escape"),er(e.detachments()))}_listenToClick(e,r){return qs(document,"click").pipe(La(i=>{let s=i.target,a=this._dropdownMenu.elementRef.nativeElement.contains(s),o=!this._dropdownToggle.nativeElement.contains(s),c=!a||s.classList&&s.classList.contains("dropdown-item");return s!==r&&o&&c}),er(e.detachments()))}onAnimationEnd(e){e.fromState==="visible"&&e.toState==="hidden"&&(this._overlayRef.detach(),this._open=!1,this.dropdownHidden.emit(this)),e.fromState==="hidden"&&e.toState==="visible"&&this.dropdownShown.emit(this)}_subscribeBrakpoints(){let e=["(min-width: 576px)","(min-width: 768px)","(min-width: 992px)","(min-width: 1200px)","(min-width: 1400px)"];this._breakpointSubscription=this._breakpointObserver.observe(e).pipe(er(this._destroy$)).subscribe(r=>{Object.keys(this._breakpoints).forEach((i,s)=>{let a=e[s],o=r.breakpoints[a];o!==this._breakpoints[i]&&(this._breakpoints[i]=o,this._open&&this._updateOverlay())})})}show(){this._cdRef.markForCheck(),!this._open&&(this._overlayRef||this._createOverlay(),this._portal=new I0(this._template,this._vcr),this.dropdownShow.emit(this),this._open=!0,this._overlayRef.attach(this._portal),this._listenToEscKeyup(this._overlayRef).subscribe(e=>{e&&this.closeOnEsc&&this.hide()}),this._overlayRef.keydownEvents().pipe(er(this._overlayRef.detachments())).subscribe(e=>{this._handleKeyboardNavigation(e)}),this._listenToClick(this._overlayRef,this._dropdownToggle.nativeElement).subscribe(e=>{let r=e.target,i=r.classList&&r.classList.contains("dropdown-item");if(this.closeOnItemClick&&i){this.hide();return}if(this.closeOnOutsideClick&&!i){this.hide();return}}),this._animationState="visible")}_handleKeyboardNavigation(e){let r=Array.from(this._dropdownMenu.elementRef.nativeElement.querySelectorAll(".dropdown-item")),i=e.key,s=this._dropdownMenu.elementRef.nativeElement.ownerDocument.activeElement;if(r.length===0)return;let a=r.indexOf(s);switch(i){case"ArrowDown":e.preventDefault(),a=Math.min(a+1,r.length-1);break;case"ArrowUp":if(e.preventDefault(),a===-1){a=r.length-1;break}a=Math.max(a-1,0);break}let o=r[a];o&&o.focus()}hide(){this._cdRef.markForCheck(),this._open&&(this.dropdownHide.emit(this),this._animationState="hidden")}toggle(){this._cdRef.markForCheck(),this._open?this.hide():this.show()}static \u0275fac=function(r){return new(r||t)(ht(rf),ht(Nx),ht(Ui),ht(Ls),ht(Fz),ht(Zs),ht(Bs))};static \u0275cmp=Nn({type:t,selectors:[["","mdbDropdown",""]],contentQueries:function(r,i,s){if(r&1&&(Xo(s,Ds,5,Ui),Xo(s,Ts,5)),r&2){let a;is(a=as())&&(i._dropdownToggle=a.first),is(a=as())&&(i._dropdownMenu=a.first)}},viewQuery:function(r,i){if(r&1&&D1(tK,5),r&2){let s;is(s=as())&&(i._template=s.first)}},inputs:{animation:[2,"animation","animation",No],closeOnEsc:[2,"closeOnEsc","closeOnEsc",No],closeOnItemClick:[2,"closeOnItemClick","closeOnItemClick",No],closeOnOutsideClick:[2,"closeOnOutsideClick","closeOnOutsideClick",No],offset:[2,"offset","offset",Lg],positionClass:"positionClass",withPush:[2,"withPush","withPush",No]},outputs:{dropdownShow:"dropdownShow",dropdownShown:"dropdownShown",dropdownHide:"dropdownHide",dropdownHidden:"dropdownHidden"},features:[wc],attrs:nK,ngContentSelectors:iK,decls:4,vars:0,consts:[["dropdownTemplate",""]],template:function(r,i){r&1&&(A2(rK),L1(0),L1(1,1),tn(2,aK,2,2,"ng-template",null,0,wu))},encapsulation:2,data:{animation:[xh("fade",[Tc("visible",qo({opacity:1})),Tc("hidden",qo({opacity:0})),Ac("visible => hidden",Dc("150ms linear")),Ac("hidden => visible",[qo({opacity:0}),Dc("150ms linear")])])]},changeDetection:0})}return t})(),Jh=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Qr({type:t});static \u0275inj=Kr({imports:[z1,Pz]})}return t})();var Oi=(()=>{class t{constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Er({type:t,selectors:[["","mdbLabel",""]],exportAs:["mdbLabel"]})}return t})();var qh=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Qr({type:t});static \u0275inj=Kr({imports:[z1,ST]})}return t})();var sK=["*"];function oK(t,n){t&1&&L1(0)}var lK=(t,n,e,r,i,s)=>({"nav-pills":t,"nav-tabs":n,"nav-fill":e,"nav-justified":r,"flex-column":i,"text-center":s}),cK=(t,n,e)=>({fade:t,active:n,show:e});function uK(t,n){}function fK(t,n){if(t&1&&tn(0,uK,0,0,"ng-template",6),t&2){let e=lt().$implicit;Ne("cdkPortalOutlet",e.titleContent)}}function dK(t,n){if(t&1&&Ie(0),t&2){let e=lt().$implicit;Kn(e.title)}}function hK(t,n){if(t&1){let e=ar();se(0,"li",3),Bt("click",function(){let i=Dn(e).index,s=lt();return Tn(s.setActiveTab(i))}),se(1,"a",4),tn(2,fK,1,1,"ng-template",5)(3,dK,1,1,"ng-template",5),de()()}if(t&2){let e=n.$implicit;fe(),Mn("active",e.active)("disabled",e.disabled),fe(),Ne("ngIf",e.titleContent),fe(),Ne("ngIf",!e.titleContent)}}function pK(t,n){}function mK(t,n){if(t&1&&(Mi(0),se(1,"div",7),tn(2,pK,0,0,"ng-template",8),de(),wi()),t&2){let e=n.$implicit;fe(),Ne("ngClass",oD(2,cK,e.fade,e.active,e.show)),fe(),Ne("tab",e)}}var vK=new ir("MdbTabContentDirective");var Bz=new ir("MdbTabTitleDirective"),e7=(()=>{class t{template;constructor(e){this.template=e}static \u0275fac=function(r){return new(r||t)(ht(Ua))};static \u0275dir=Er({type:t,selectors:[["","mdbTabTitle",""]],features:[ss([{provide:Bz,useExisting:t}])]})}return t})(),gK=150,yK=5,jc=(()=>{class t{_vcr;_lazyContent;_titleContent;_content;activeStateChange$=new nr;get disabled(){return this._disabled}set disabled(e){this._disabled=Po(e)}_disabled=!1;get fade(){return this._fade}set fade(e){this._fade=Po(e)}_fade=!0;title;get content(){return this._contentPortal}get titleContent(){return this._titlePortal}get shouldAttach(){return this._lazyContent===void 0}_contentPortal=null;_titlePortal=null;get active(){return this._active}set active(e){this._active=Po(e),this.activeStateChange$.next(e)}_active=!1;get show(){return this._show}set show(e){setTimeout(()=>{this._show=Po(e)},gK+yK)}_show=!0;constructor(e){this._vcr=e}ngOnInit(){this._createContentPortal(),this._titleContent&&this._createTitlePortal()}_createContentPortal(){let e=this._lazyContent||this._content;this._contentPortal=new I0(e,this._vcr)}_createTitlePortal(){this._titlePortal=new I0(this._titleContent,this._vcr)}static ngAcceptInputType_disabled;static \u0275fac=function(r){return new(r||t)(ht(Ls))};static \u0275cmp=Nn({type:t,selectors:[["mdb-tab"]],contentQueries:function(r,i,s){if(r&1&&(Xo(s,vK,7,Ua),Xo(s,Bz,7,Ua)),r&2){let a;is(a=as())&&(i._lazyContent=a.first),is(a=as())&&(i._titleContent=a.first)}},viewQuery:function(r,i){if(r&1&&D1(Ua,7),r&2){let s;is(s=as())&&(i._content=s.first)}},inputs:{disabled:"disabled",fade:"fade",title:"title"},ngContentSelectors:sK,decls:1,vars:0,template:function(r,i){r&1&&(A2(),tn(0,oK,1,0,"ng-template"))},encapsulation:2})}return t})(),xK=(()=>{class t extends Xh{_destroy$=new nr;tab;constructor(e,r,i){super(e,r,i)}ngOnInit(){super.ngOnInit(),(this.tab.shouldAttach||this.tab.active)&&!this.hasAttached()?this.attach(this.tab.content):this.tab.activeStateChange$.pipe(er(this._destroy$)).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this.tab.content)})}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),super.ngOnDestroy()}static \u0275fac=function(r){return new(r||t)(ht(w1),ht(Ls),ht(zi))};static \u0275dir=Er({type:t,selectors:[["","mdbTabPortalOutlet",""]],inputs:{tab:"tab"},features:[Nr]})}return t})(),Px=class{index;tab},B4=(()=>{class t{tabs;_destroy$=new nr;get fill(){return this._fill}set fill(e){this._fill=Po(e)}_fill=!1;get justified(){return this._justified}set justified(e){this._justified=Po(e)}_justified=!1;get pills(){return this._pills}set pills(e){this._pills=Po(e)}_pills=!1;get vertical(){return this._vertical}set vertical(e){this._vertical=Po(e)}_vertical=!1;navColumnClass="col-3";contentColumnClass="col-9";get navColClass(){return this.vertical?this.navColumnClass:""}get contentColClass(){return this.vertical?this.contentColumnClass:""}_selectedIndex;activeTabChange=new rr;constructor(){}ngAfterContentInit(){let e=this.tabs.toArray().findIndex(r=>!r.disabled);this.setActiveTab(e),this.tabs.changes.pipe(er(this._destroy$)).subscribe(()=>{if(!this.tabs.find(i=>i.active)){let i=this._getClosestTabIndex(this._selectedIndex);i!==-1&&this.setActiveTab(i)}})}setActiveTab(e){let r=this.tabs.toArray()[e];if(!r||r&&r.disabled)return;this.tabs.forEach(s=>s.active=s===r),this.tabs.forEach(s=>s.show=s===r),this._selectedIndex=e;let i=this._getTabChangeEvent(e,r);this.activeTabChange.emit(i)}_getTabChangeEvent(e,r){let i=new Px;return i.index=e,i.tab=r,i}_getClosestTabIndex(e){let r=this.tabs.toArray(),i=r.length;if(!i)return-1;for(let s=1;s<=i;s+=1){let a=e-s,o=e+s;if(r[a]&&!r[a].disabled)return a;if(r[o]&&!r[o].disabled)return o}return-1}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}static ngAcceptInputType_fill;static ngAcceptInputType_justified;static ngAcceptInputType_pills;static ngAcceptInputType_vertical;static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Nn({type:t,selectors:[["mdb-tabs"]],contentQueries:function(r,i,s){if(r&1&&Xo(s,jc,4),r&2){let a;is(a=as())&&(i.tabs=a)}},hostVars:2,hostBindings:function(r,i){r&2&&Mn("row",i.vertical)},inputs:{fill:"fill",justified:"justified",pills:"pills",vertical:"vertical",navColumnClass:"navColumnClass",contentColumnClass:"contentColumnClass"},outputs:{activeTabChange:"activeTabChange"},decls:4,vars:16,consts:[["role","tablist",3,"ngClass"],["class","nav-item","role","presentation",3,"click",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["role","presentation",1,"nav-item",3,"click"],["href","javascript:void(0)","role","tab",1,"nav-link"],[3,"ngIf"],[3,"cdkPortalOutlet"],[1,"tab-pane",3,"ngClass"],["mdbTabPortalOutlet","",3,"tab"]],template:function(r,i){r&1&&(se(0,"ul",0),tn(1,hK,4,6,"li",1),de(),se(2,"div"),tn(3,mK,3,6,"ng-container",2),de()),r&2&&(Q1("nav mb-3 flex-column ",i.navColClass,""),Ne("ngClass",lD(9,lK,i.pills,!i.pills,i.fill,i.justified,i.vertical,i.vertical)),fe(),Ne("ngForOf",i.tabs),fe(),Q1("tab-content ",i.contentColClass,""),fe(),Ne("ngForOf",i.tabs))},dependencies:[Za,Ta,fr,Xh,xK],encapsulation:2})}return t})(),Vz=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Qr({type:t});static \u0275inj=Kr({imports:[z1,Kh]})}return t})();function bK(t,n){}function CK(t,n){if(t&1&&tn(0,bK,0,0,"ng-template",5),t&2){let e=lt();Ne("ngTemplateOutlet",e._headerTemplate)}}function MK(t,n){}function wK(t,n){if(t&1&&tn(0,MK,0,0,"ng-template",5),t&2){let e=lt();Ne("ngTemplateOutlet",e._bodyTemplate)}}var _K=["*"],Hz=new ir("MdbAccordionItemBodyDirective"),t7=(()=>{class t{template;constructor(e){this.template=e}static \u0275fac=function(r){return new(r||t)(ht(Ua))};static \u0275dir=Er({type:t,selectors:[["","mdbAccordionItemBody",""]],features:[ss([{provide:Hz,useExisting:t}])]})}return t})(),Uz=new ir("MdbAccordionItemHeaderDirective"),n7=(()=>{class t{template;constructor(e){this.template=e}static \u0275fac=function(r){return new(r||t)(ht(Ua))};static \u0275dir=Er({type:t,selectors:[["","mdbAccordionItemHeader",""]],features:[ss([{provide:Uz,useExisting:t}])]})}return t})(),SK=0,LK=0,af=(()=>{class t{_cdRef;_headerTemplate;_bodyTemplate;collapse;get disabled(){return this._disabled}set disabled(e){this._disabled=Po(e)}_disabled=!1;header;set collapsed(e){if(!this._isInitialized){e||(this._shouldOpenOnInit=!0);return}e?this.hide():this.show()}id=`mdb-accordion-item-${LK++}`;_headerId=`mdb-accordion-item-header-${SK++}`;_isInitialized=!1;_shouldOpenOnInit=!1;itemShow=new rr;itemShown=new rr;itemHide=new rr;itemHidden=new rr;accordionItem=!0;accordionItemDisplayBlock=!0;ngOnInit(){this._isInitialized=!0,this._shouldOpenOnInit&&this.show()}show$=new nr;_collapsed=!0;_addCollapsedClass=!0;constructor(e){this._cdRef=e}toggle(){this.disabled||this.collapse.toggle()}show(){this.collapse.show(),this._cdRef.markForCheck()}hide(){this.collapse.hide(),this._cdRef.markForCheck()}onShow(){this._addCollapsedClass=!1,this.itemShow.emit(this),this.show$.next(this)}onHide(){this._addCollapsedClass=!0,this.itemHide.emit(this)}onShown(){this._collapsed=!1,this.itemShown.emit(this)}onHidden(){this._collapsed=!0,this.itemHidden.emit(this)}static ngAcceptInputType_disabled;static \u0275fac=function(r){return new(r||t)(ht(Zs))};static \u0275cmp=Nn({type:t,selectors:[["mdb-accordion-item"]],contentQueries:function(r,i,s){if(r&1&&(Xo(s,Uz,7,Ua),Xo(s,Hz,7,Ua)),r&2){let a;is(a=as())&&(i._headerTemplate=a.first),is(a=as())&&(i._bodyTemplate=a.first)}},viewQuery:function(r,i){if(r&1&&D1(O4,7),r&2){let s;is(s=as())&&(i.collapse=s.first)}},hostVars:4,hostBindings:function(r,i){r&2&&Mn("accordion-item",i.accordionItem)("d-block",i.accordionItemDisplayBlock)},inputs:{disabled:"disabled",header:"header",collapsed:"collapsed",id:"id"},outputs:{itemShow:"itemShow",itemShown:"itemShown",itemHide:"itemHide",itemHidden:"itemHidden"},decls:7,vars:11,consts:[[1,"accordion-header",3,"id"],["type","button",1,"accordion-button",3,"click"],[4,"ngIf"],["mdbCollapse","",3,"collapseShow","collapseHide","collapseShown","collapseHidden"],[1,"accordion-body"],[3,"ngTemplateOutlet"]],template:function(r,i){r&1&&(se(0,"h2",0)(1,"button",1),Bt("click",function(){return i.toggle()}),Ie(2),tn(3,CK,1,1,null,2),de()(),se(4,"div",3),Bt("collapseShow",function(){return i.onShow()})("collapseHide",function(){return i.onHide()})("collapseShown",function(){return i.onShown()})("collapseHidden",function(){return i.onHidden()}),se(5,"div",4),tn(6,wK,1,1,null,2),de()()),r&2&&(Ne("id",i._headerId),fe(),Mn("collapsed",i._addCollapsedClass),vs("aria-expanded",!i._collapsed)("aria-controls",i.id)("disabled",i.disabled?"":null),fe(),Ft(" ",i.header," "),fe(),Ne("ngIf",i._headerTemplate),fe(),vs("id",i.id)("aria-labelledby",i._headerId),fe(2),Ne("ngIf",i._bodyTemplate))},dependencies:[fr,OD,O4],encapsulation:2,changeDetection:0})}return t})(),r7=(()=>{class t{items;get borderless(){return this._borderless}set borderless(e){this._borderless=Po(e)}_borderless=!1;get flush(){return this._flush}set flush(e){this._flush=Po(e)}_flush=!1;get multiple(){return this._multiple}set multiple(e){this._multiple=Po(e)}_multiple=!1;accordion=!0;get addBorderlessClass(){return this.borderless}get addFlushClass(){return this.flush}constructor(){}ngAfterContentInit(){this.items.changes.pipe(tl(this.items),ms(e=>J0(...e.map(r=>r.show$)))).subscribe(e=>this._handleMultipleItems(e))}_handleMultipleItems(e){this.multiple||this.items.filter(i=>i!==e&&!i._collapsed).forEach(i=>i.hide())}static ngAcceptInputType_borderless;static ngAcceptInputType_flush;static ngAcceptInputType_multiple;static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Nn({type:t,selectors:[["mdb-accordion"]],contentQueries:function(r,i,s){if(r&1&&Xo(s,af,4),r&2){let a;is(a=as())&&(i.items=a)}},hostVars:6,hostBindings:function(r,i){r&2&&Mn("accordion",i.accordion)("accordion-borderless",i.addBorderlessClass)("accordion-flush",i.addFlushClass)},inputs:{borderless:"borderless",flush:"flush",multiple:"multiple"},ngContentSelectors:_K,decls:1,vars:0,template:function(r,i){r&1&&(A2(),L1(0))},encapsulation:2,changeDetection:0})}return t})(),jz=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Qr({type:t});static \u0275inj=Kr({imports:[z1,Wh]})}return t})();var Gc={production:!0};var xi="primary",xf=Symbol("RouteTitle"),Hx=class{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){let e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function $4(t){return new Hx(t)}function DK(t,n,e){let r=e.path.split("/");if(r.length>t.length||e.pathMatch==="full"&&(n.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let a=r[s],o=t[s];if(a[0]===":")i[a.substring(1)]=o;else if(a!==o.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function TK(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!R2(t[e],n[e]))return!1;return!0}function R2(t,n){let e=t?Ux(t):void 0,r=n?Ux(n):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let s=0;s<e.length;s++)if(i=e[s],!tE(t[i],n[i]))return!1;return!0}function Ux(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function tE(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;let e=[...t].sort(),r=[...n].sort();return e.every((i,s)=>r[s]===i)}else return t===n}function nE(t){return t.length>0?t[t.length-1]:null}function wl(t){return v8(t)?t:Sc(t)?ba(Promise.resolve(t)):Lr(t)}var AK={exact:iE,subset:aE},rE={exact:zK,subset:EK,ignored:()=>!0};function $z(t,n,e){return AK[e.paths](t.root,n.root,e.matrixParams)&&rE[e.queryParams](t.queryParams,n.queryParams)&&!(e.fragment==="exact"&&t.fragment!==n.fragment)}function zK(t,n){return R2(t,n)}function iE(t,n,e){if(!Wc(t.segments,n.segments)||!s7(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!t.children[r]||!iE(t.children[r],n.children[r],e))return!1;return!0}function EK(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>tE(t[e],n[e]))}function aE(t,n,e){return sE(t,n,n.segments,e)}function sE(t,n,e,r){if(t.segments.length>e.length){let i=t.segments.slice(0,e.length);return!(!Wc(i,e)||n.hasChildren()||!s7(i,e,r))}else if(t.segments.length===e.length){if(!Wc(t.segments,e)||!s7(t.segments,e,r))return!1;for(let i in n.children)if(!t.children[i]||!aE(t.children[i],n.children[i],r))return!1;return!0}else{let i=e.slice(0,t.segments.length),s=e.slice(t.segments.length);return!Wc(t.segments,i)||!s7(t.segments,i,r)||!t.children[xi]?!1:sE(t.children[xi],n,s,r)}}function s7(t,n,e){return n.every((r,i)=>rE[e](t[i].parameters,r.parameters))}var P0=class{constructor(n=new aa([],{}),e={},r=null){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=$4(this.queryParams),this._queryParamMap}toString(){return NK.serialize(this)}},aa=class{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return o7(this)}},$c=class{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=$4(this.parameters),this._parameterMap}toString(){return lE(this)}};function IK(t,n){return Wc(t,n)&&t.every((e,r)=>R2(e.parameters,n[r].parameters))}function Wc(t,n){return t.length!==n.length?!1:t.every((e,r)=>e.path===n[r].path)}function kK(t,n){let e=[];return Object.entries(t.children).forEach(([r,i])=>{r===xi&&(e=e.concat(n(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==xi&&(e=e.concat(n(i,r)))}),e}var bf=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:()=>new W4,providedIn:"root"})}}return t})(),W4=class{parse(n){let e=new Gx(n);return new P0(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){let e=`/${sf(n.root,!0)}`,r=OK(n.queryParams),i=typeof n.fragment=="string"?`#${PK(n.fragment)}`:"";return`${e}${r}${i}`}},NK=new W4;function o7(t){return t.segments.map(n=>lE(n)).join("/")}function sf(t,n){if(!t.hasChildren())return o7(t);if(n){let e=t.children[xi]?sf(t.children[xi],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==xi&&r.push(`${i}:${sf(s,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}else{let e=kK(t,(r,i)=>i===xi?[sf(t.children[xi],!1)]:[`${i}:${sf(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[xi]!=null?`${o7(t)}/${e[0]}`:`${o7(t)}/(${e.join("//")})`}}function oE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function i7(t){return oE(t).replace(/%3B/gi,";")}function PK(t){return encodeURI(t)}function jx(t){return oE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function l7(t){return decodeURIComponent(t)}function Wz(t){return l7(t.replace(/\+/g,"%20"))}function lE(t){return`${jx(t.path)}${RK(t.parameters)}`}function RK(t){return Object.entries(t).map(([n,e])=>`;${jx(n)}=${jx(e)}`).join("")}function OK(t){let n=Object.entries(t).map(([e,r])=>Array.isArray(r)?r.map(i=>`${i7(e)}=${i7(i)}`).join("&"):`${i7(e)}=${i7(r)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}var FK=/^[^\/()?;#]+/;function Ox(t){let n=t.match(FK);return n?n[0]:""}var BK=/^[^\/()?;=#]+/;function VK(t){let n=t.match(BK);return n?n[0]:""}var HK=/^[^=?&#]+/;function UK(t){let n=t.match(HK);return n?n[0]:""}var jK=/^[^&#]+/;function GK(t){let n=t.match(jK);return n?n[0]:""}var Gx=class{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new aa([],{}):new aa([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[xi]=new aa(n,e)),r}parseSegment(){let n=Ox(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new jn(4009,!1);return this.capture(n),new $c(l7(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let e=VK(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let i=Ox(this.remaining);i&&(r=i,this.capture(r))}n[l7(e)]=l7(r)}parseQueryParam(n){let e=UK(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){let a=GK(this.remaining);a&&(r=a,this.capture(r))}let i=Wz(e),s=Wz(r);if(n.hasOwnProperty(i)){let a=n[i];Array.isArray(a)||(a=[a],n[i]=a),a.push(s)}else n[i]=s}parseParens(n){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ox(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new jn(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=xi);let a=this.parseChildren();e[s]=Object.keys(a).length===1?a[xi]:new aa([],a),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new jn(4011,!1)}};function cE(t){return t.segments.length>0?new aa([],{[xi]:t}):t}function uE(t){let n={};for(let[r,i]of Object.entries(t.children)){let s=uE(i);if(r===xi&&s.segments.length===0&&s.hasChildren())for(let[a,o]of Object.entries(s.children))n[a]=o;else(s.segments.length>0||s.hasChildren())&&(n[r]=s)}let e=new aa(t.segments,n);return $K(e)}function $K(t){if(t.numberOfChildren===1&&t.children[xi]){let n=t.children[xi];return new aa(t.segments.concat(n.segments),n.children)}return t}function Yc(t){return t instanceof P0}function WK(t,n,e=null,r=null){let i=fE(t);return dE(i,n,e,r)}function fE(t){let n;function e(s){let a={};for(let c of s.children){let l=e(c);a[c.outlet]=l}let o=new aa(s.url,a);return s===t&&(n=o),o}let r=e(t.root),i=cE(r);return n??i}function dE(t,n,e,r){let i=t;for(;i.parent;)i=i.parent;if(n.length===0)return Fx(i,i,i,e,r);let s=YK(n);if(s.toRoot())return Fx(i,i,new aa([],{}),e,r);let a=ZK(s,i,t),o=a.processChildren?cf(a.segmentGroup,a.index,s.commands):pE(a.segmentGroup,a.index,s.commands);return Fx(i,a.segmentGroup,o,e,r)}function c7(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function df(t){return typeof t=="object"&&t!=null&&t.outlets}function Fx(t,n,e,r,i){let s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let a;t===n?a=e:a=hE(t,n,e);let o=cE(uE(a));return new P0(o,s,i)}function hE(t,n,e){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===n?r[i]=e:r[i]=hE(s,n,e)}),new aa(t.segments,r)}var u7=class{constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&c7(r[0]))throw new jn(4003,!1);let i=r.find(df);if(i&&i!==nE(r))throw new jn(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function YK(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new u7(!0,0,t);let n=0,e=!1,r=t.reduce((i,s,a)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let o={};return Object.entries(s.outlets).forEach(([c,l])=>{o[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:o}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:a===0?(s.split("/").forEach((o,c)=>{c==0&&o==="."||(c==0&&o===""?e=!0:o===".."?n++:o!=""&&i.push(o))}),i):[...i,s]},[]);return new u7(e,n,r)}var U4=class{constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}};function ZK(t,n,e){if(t.isAbsolute)return new U4(n,!0,0);if(!e)return new U4(n,!1,NaN);if(e.parent===null)return new U4(e,!0,0);let r=c7(t.commands[0])?0:1,i=e.segments.length-1+r;return XK(e,i,t.numberOfDoubleDots)}function XK(t,n,e){let r=t,i=n,s=e;for(;s>i;){if(s-=i,r=r.parent,!r)throw new jn(4005,!1);i=r.segments.length}return new U4(r,!1,i-s)}function KK(t){return df(t[0])?t[0].outlets:{[xi]:t}}function pE(t,n,e){if(t??=new aa([],{}),t.segments.length===0&&t.hasChildren())return cf(t,n,e);let r=QK(t,n,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new aa(t.segments.slice(0,r.pathIndex),{});return s.children[xi]=new aa(t.segments.slice(r.pathIndex),t.children),cf(s,0,i)}else return r.match&&i.length===0?new aa(t.segments,{}):r.match&&!t.hasChildren()?$x(t,n,e):r.match?cf(t,0,i):$x(t,n,e)}function cf(t,n,e){if(e.length===0)return new aa(t.segments,{});{let r=KK(e),i={};if(Object.keys(r).some(s=>s!==xi)&&t.children[xi]&&t.numberOfChildren===1&&t.children[xi].segments.length===0){let s=cf(t.children[xi],n,e);return new aa(t.segments,s.children)}return Object.entries(r).forEach(([s,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[s]=pE(t.children[s],n,a))}),Object.entries(t.children).forEach(([s,a])=>{r[s]===void 0&&(i[s]=a)}),new aa(t.segments,i)}}function QK(t,n,e){let r=0,i=n,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=e.length)return s;let a=t.segments[i],o=e[r];if(df(o))break;let c=`${o}`,l=r<e.length-1?e[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Zz(c,l,a))return s;r+=2}else{if(!Zz(c,{},a))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function $x(t,n,e){let r=t.segments.slice(0,n),i=0;for(;i<e.length;){let s=e[i];if(df(s)){let c=JK(s.outlets);return new aa(r,c)}if(i===0&&c7(e[0])){let c=t.segments[n];r.push(new $c(c.path,Yz(e[0]))),i++;continue}let a=df(s)?s.outlets[xi]:`${s}`,o=i<e.length-1?e[i+1]:null;a&&o&&c7(o)?(r.push(new $c(a,Yz(o))),i+=2):(r.push(new $c(a,{})),i++)}return new aa(r,{})}function JK(t){let n={};return Object.entries(t).forEach(([e,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[e]=$x(new aa([],{}),0,r))}),n}function Yz(t){let n={};return Object.entries(t).forEach(([e,r])=>n[e]=`${r}`),n}function Zz(t,n,e){return t==e.path&&R2(n,e.parameters)}var uf="imperative",Us=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Us||{}),k1=class{constructor(n,e){this.id=n,this.url=e}},Y4=class extends k1{constructor(n,e,r="imperative",i=null){super(n,e),this.type=Us.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},O2=class extends k1{constructor(n,e,r){super(n,e),this.urlAfterRedirects=r,this.type=Us.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},s1=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(s1||{}),f7=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(f7||{}),N0=class extends k1{constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i,this.type=Us.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ml=class extends k1{constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i,this.type=Us.NavigationSkipped}},hf=class extends k1{constructor(n,e,r,i){super(n,e),this.error=r,this.target=i,this.type=Us.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},d7=class extends k1{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=Us.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wx=class extends k1{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=Us.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yx=class extends k1{constructor(n,e,r,i,s){super(n,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Us.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Zx=class extends k1{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=Us.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xx=class extends k1{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=Us.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kx=class{constructor(n){this.route=n,this.type=Us.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Qx=class{constructor(n){this.route=n,this.type=Us.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Jx=class{constructor(n){this.snapshot=n,this.type=Us.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qx=class{constructor(n){this.snapshot=n,this.type=Us.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},eb=class{constructor(n){this.snapshot=n,this.type=Us.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tb=class{constructor(n){this.snapshot=n,this.type=Us.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},h7=class{constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r,this.type=Us.Scroll}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},pf=class{},Z4=class{constructor(n,e){this.url=n,this.navigationBehaviorOptions=e}};function qK(t,n){return t.providers&&!t._injector&&(t._injector=k5(t.providers,n,`Route: ${t.path}`)),t._injector??n}function t2(t){return t.outlet||xi}function eQ(t,n){let e=t.filter(r=>t2(r)===n);return e.push(...t.filter(r=>t2(r)!==n)),e}function Cf(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var nb=class{get injector(){return Cf(this.route?.snapshot)??this.rootInjector}set injector(n){}constructor(n){this.rootInjector=n,this.outlet=null,this.route=null,this.children=new Mf(this.rootInjector),this.attachRef=null}},Mf=(()=>{class t{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,r){let i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new nb(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(r){return new(r||t)($t(mo))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),p7=class{constructor(n){this._root=n}get root(){return this._root.value}parent(n){let e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){let e=rb(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){let e=rb(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){let e=ib(n,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return ib(n,this._root).map(e=>e.value)}};function rb(t,n){if(t===n.value)return n;for(let e of n.children){let r=rb(t,e);if(r)return r}return null}function ib(t,n){if(t===n.value)return[n];for(let e of n.children){let r=ib(t,e);if(r.length)return r.unshift(n),r}return[]}var a1=class{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}};function H4(t){let n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}var m7=class extends p7{constructor(n,e){super(n),this.snapshot=e,hb(this,n)}toString(){return this.snapshot.toString()}};function mE(t){let n=tQ(t),e=new _s([new $c("",{})]),r=new _s({}),i=new _s({}),s=new _s({}),a=new _s(""),o=new Zc(e,r,s,a,i,xi,t,n.root);return o.snapshot=n.root,new m7(new a1(o,[]),n)}function tQ(t){let n={},e={},r={},i="",s=new j4([],n,r,i,e,xi,t,null,{});return new g7("",new a1(s,[]))}var Zc=class{constructor(n,e,r,i,s,a,o,c){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=a,this.component=o,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(jr(l=>l[xf]))??Lr(void 0),this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(jr(n=>$4(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(jr(n=>$4(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function v7(t,n,e="emptyOnly"){let r,{routeConfig:i}=t;return n!==null&&(e==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:rn(rn({},n.params),t.params),data:rn(rn({},n.data),t.data),resolve:rn(rn(rn(rn({},t.data),n.data),i?.data),t._resolvedData)}:r={params:rn({},t.params),data:rn({},t.data),resolve:rn(rn({},t.data),t._resolvedData??{})},i&&gE(i)&&(r.resolve[xf]=i.title),r}var j4=class{get title(){return this.data?.[xf]}constructor(n,e,r,i,s,a,o,c,l){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=a,this.component=o,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=$4(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=$4(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${e}')`}},g7=class extends p7{constructor(n,e){super(e),this.url=n,hb(this,e)}toString(){return vE(this._root)}};function hb(t,n){n.value._routerState=t,n.children.forEach(e=>hb(t,e))}function vE(t){let n=t.children.length>0?` { ${t.children.map(vE).join(", ")} } `:"";return`${t.value}${n}`}function Bx(t){if(t.snapshot){let n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,R2(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),R2(n.params,e.params)||t.paramsSubject.next(e.params),TK(n.url,e.url)||t.urlSubject.next(e.url),R2(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ab(t,n){let e=R2(t.params,n.params)&&IK(t.url,n.url),r=!t.parent!=!n.parent;return e&&!r&&(!t.parent||ab(t.parent,n.parent))}function gE(t){return typeof t.title=="string"||t.title===null}var pb=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=xi,this.activateEvents=new rr,this.deactivateEvents=new rr,this.attachEvents=new rr,this.detachEvents=new rr,this.parentContexts=Hn(Mf),this.location=Hn(Ls),this.changeDetector=Hn(Zs),this.inputBinder=Hn(M7,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new jn(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new jn(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new jn(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new jn(4013,!1);this._activatedRoute=e;let i=this.location,a=e.snapshot.component,o=this.parentContexts.getOrCreateContext(this.name).children,c=new sb(e,o,i.injector);this.activated=i.createComponent(a,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Er({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Fs]})}}return t})(),sb=class t{__ngOutletInjector(n){return new t(this.route,this.childContexts,n)}constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===Zc?this.route:n===Mf?this.childContexts:this.parent.get(n,e)}},M7=new ir(""),Xz=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,i=sc([r.queryParams,r.params,r.data]).pipe(ms(([s,a,o],c)=>(o=rn(rn(rn({},s),a),o),c===0?Lr(o):Promise.resolve(o)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let a=xD(r.component);if(!a){this.unsubscribeFromRouteData(e);return}for(let{templateName:o}of a.inputs)e.activatedComponentRef.setInput(o,s[o])});this.outletDataSubscriptions.set(e,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();function nQ(t,n,e){let r=mf(t,n._root,e?e._root:void 0);return new m7(r,n)}function mf(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){let r=e.value;r._futureSnapshot=n.value;let i=rQ(t,n,e);return new a1(r,i)}else{if(t.shouldAttach(n.value)){let s=t.retrieve(n.value);if(s!==null){let a=s.route;return a.value._futureSnapshot=n.value,a.children=n.children.map(o=>mf(t,o)),a}}let r=iQ(n.value),i=n.children.map(s=>mf(t,s));return new a1(r,i)}}function rQ(t,n,e){return n.children.map(r=>{for(let i of e.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return mf(t,r,i);return mf(t,r)})}function iQ(t){return new Zc(new _s(t.url),new _s(t.params),new _s(t.queryParams),new _s(t.fragment),new _s(t.data),t.outlet,t.component,t)}var vf=class{constructor(n,e){this.redirectTo=n,this.navigationBehaviorOptions=e}},yE="ngNavigationCancelingError";function y7(t,n){let{redirectTo:e,navigationBehaviorOptions:r}=Yc(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=xE(!1,s1.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function xE(t,n){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[yE]=!0,e.cancellationCode=n,e}function aQ(t){return bE(t)&&Yc(t.url)}function bE(t){return!!t&&t[yE]}var sQ=(t,n,e,r)=>jr(i=>(new ob(n,i.targetRouterState,i.currentRouterState,e,r).activate(t),i)),ob=class{constructor(n,e,r,i,s){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(n){let e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),Bx(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){let i=H4(e);n.children.forEach(s=>{let a=s.value.outlet;this.deactivateRoutes(s,i[a],r),delete i[a]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(n,e,r){let i=n.value,s=e?e.value:null;if(i===s)if(i.component){let a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(n,e,a.children)}else this.deactivateChildRoutes(n,e,r);else s&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){let r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,s=H4(n);for(let a of Object.values(s))this.deactivateRouteAndItsChildren(a,i);if(r&&r.outlet){let a=r.outlet.detach(),o=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:a,route:n,contexts:o})}}deactivateRouteAndOutlet(n,e){let r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,s=H4(n);for(let a of Object.values(s))this.deactivateRouteAndItsChildren(a,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,e,r){let i=H4(e);n.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new tb(s.value.snapshot))}),n.children.length&&this.forwardEvent(new qx(n.value.snapshot))}activateRoutes(n,e,r){let i=n.value,s=e?e.value:null;if(Bx(i),i===s)if(i.component){let a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,e,a.children)}else this.activateChildRoutes(n,e,r);else if(i.component){let a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let o=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(o.contexts),a.attachRef=o.componentRef,a.route=o.route.value,a.outlet&&a.outlet.attach(o.componentRef,o.route.value),Bx(o.route.value),this.activateChildRoutes(n,null,a.children)}else a.attachRef=null,a.route=i,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(n,null,a.children)}else this.activateChildRoutes(n,null,r)}},x7=class{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},G4=class{constructor(n,e){this.component=n,this.route=e}};function oQ(t,n,e){let r=t._root,i=n?n._root:null;return of(r,i,e,[r.value])}function lQ(t){let n=t.routeConfig?t.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:t,guards:n}}function K4(t,n){let e=Symbol(),r=n.get(t,e);return r===e?typeof t=="function"&&!L_(t)?t:n.get(t):r}function of(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=H4(n);return t.children.forEach(a=>{cQ(a,s[a.value.outlet],e,r.concat([a.value]),i),delete s[a.value.outlet]}),Object.entries(s).forEach(([a,o])=>ff(o,e.getContext(a),i)),i}function cQ(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,a=n?n.value:null,o=e?e.getContext(t.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){let c=uQ(a,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new x7(r)):(s.data=a.data,s._resolvedData=a._resolvedData),s.component?of(t,n,o?o.children:null,r,i):of(t,n,e,r,i),c&&o&&o.outlet&&o.outlet.isActivated&&i.canDeactivateChecks.push(new G4(o.outlet.component,a))}else a&&ff(n,o,i),i.canActivateChecks.push(new x7(r)),s.component?of(t,null,o?o.children:null,r,i):of(t,null,e,r,i);return i}function uQ(t,n,e){if(typeof e=="function")return e(t,n);switch(e){case"pathParamsChange":return!Wc(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Wc(t.url,n.url)||!R2(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ab(t,n)||!R2(t.queryParams,n.queryParams);case"paramsChange":default:return!ab(t,n)}}function ff(t,n,e){let r=H4(t),i=t.value;Object.entries(r).forEach(([s,a])=>{i.component?n?ff(a,n.children.getContext(s),e):ff(a,null,e):ff(a,n,e)}),i.component?n&&n.outlet&&n.outlet.isActivated?e.canDeactivateChecks.push(new G4(n.outlet.component,i)):e.canDeactivateChecks.push(new G4(null,i)):e.canDeactivateChecks.push(new G4(null,i))}function wf(t){return typeof t=="function"}function fQ(t){return typeof t=="boolean"}function dQ(t){return t&&wf(t.canLoad)}function hQ(t){return t&&wf(t.canActivate)}function pQ(t){return t&&wf(t.canActivateChild)}function mQ(t){return t&&wf(t.canDeactivate)}function vQ(t){return t&&wf(t.canMatch)}function CE(t){return t instanceof d0||t?.name==="EmptyError"}var a7=Symbol("INITIAL_VALUE");function X4(){return ms(t=>sc(t.map(n=>n.pipe(za(1),tl(a7)))).pipe(jr(n=>{for(let e of n)if(e!==!0){if(e===a7)return a7;if(e===!1||gQ(e))return e}return!0}),La(n=>n!==a7),za(1)))}function gQ(t){return Yc(t)||t instanceof vf}function yQ(t,n){return Ra(e=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:a}}=e;return a.length===0&&s.length===0?Lr(pr(rn({},e),{guardsResult:!0})):xQ(a,r,i,t).pipe(Ra(o=>o&&fQ(o)?bQ(r,s,t,n):Lr(o)),jr(o=>pr(rn({},e),{guardsResult:o})))})}function xQ(t,n,e,r){return ba(t).pipe(Ra(i=>SQ(i.component,i.route,e,n,r)),b2(i=>i!==!0,!0))}function bQ(t,n,e,r){return ba(n).pipe(cc(i=>b1(MQ(i.route.parent,r),CQ(i.route,r),_Q(t,i.path,e),wQ(t,i.route,e))),b2(i=>i!==!0,!0))}function CQ(t,n){return t!==null&&n&&n(new eb(t)),Lr(!0)}function MQ(t,n){return t!==null&&n&&n(new Jx(t)),Lr(!0)}function wQ(t,n,e){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return Lr(!0);let i=r.map(s=>oc(()=>{let a=Cf(n)??e,o=K4(s,a),c=hQ(o)?o.canActivate(n,t):D2(a,()=>o(n,t));return wl(c).pipe(b2())}));return Lr(i).pipe(X4())}function _Q(t,n,e){let r=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(a=>lQ(a)).filter(a=>a!==null).map(a=>oc(()=>{let o=a.guards.map(c=>{let l=Cf(a.node)??e,u=K4(c,l),f=pQ(u)?u.canActivateChild(r,t):D2(l,()=>u(r,t));return wl(f).pipe(b2())});return Lr(o).pipe(X4())}));return Lr(s).pipe(X4())}function SQ(t,n,e,r,i){let s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!s||s.length===0)return Lr(!0);let a=s.map(o=>{let c=Cf(n)??i,l=K4(o,c),u=mQ(l)?l.canDeactivate(t,n,e,r):D2(c,()=>l(t,n,e,r));return wl(u).pipe(b2())});return Lr(a).pipe(X4())}function LQ(t,n,e,r){let i=n.canLoad;if(i===void 0||i.length===0)return Lr(!0);let s=i.map(a=>{let o=K4(a,t),c=dQ(o)?o.canLoad(n,e):D2(t,()=>o(n,e));return wl(c)});return Lr(s).pipe(X4(),ME(r))}function ME(t){return t9(Ss(n=>{if(typeof n!="boolean")throw y7(t,n)}),jr(n=>n===!0))}function DQ(t,n,e,r){let i=n.canMatch;if(!i||i.length===0)return Lr(!0);let s=i.map(a=>{let o=K4(a,t),c=vQ(o)?o.canMatch(n,e):D2(t,()=>o(n,e));return wl(c)});return Lr(s).pipe(X4(),ME(r))}var gf=class{constructor(n){this.segmentGroup=n||null}},yf=class extends Error{constructor(n){super(),this.urlTree=n}};function V4(t){return K0(new gf(t))}function TQ(t){return K0(new jn(4e3,!1))}function AQ(t){return K0(xE(!1,s1.GuardRejected))}var lb=class{constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Lr(r);if(i.numberOfChildren>1||!i.children[xi])return TQ(`${n.redirectTo}`);i=i.children[xi]}}applyRedirectCommands(n,e,r,i,s){if(typeof e!="string"){let o=e,{queryParams:c,fragment:l,routeConfig:u,url:f,outlet:h,params:p,data:m,title:d}=i,y=D2(s,()=>o({params:p,data:m,queryParams:c,fragment:l,routeConfig:u,url:f,outlet:h,title:d}));if(y instanceof P0)throw new yf(y);e=y}let a=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,r);if(e[0]==="/")throw new yf(a);return a}applyRedirectCreateUrlTree(n,e,r,i){let s=this.createSegmentGroup(n,e.root,r,i);return new P0(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){let r={};return Object.entries(n).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let o=s.substring(1);r[i]=e[o]}else r[i]=s}),r}createSegmentGroup(n,e,r,i){let s=this.createSegments(n,e.segments,r,i),a={};return Object.entries(e.children).forEach(([o,c])=>{a[o]=this.createSegmentGroup(n,c,r,i)}),new aa(s,a)}createSegments(n,e,r,i){return e.map(s=>s.path[0]===":"?this.findPosParam(n,s,i):this.findOrReturn(s,r))}findPosParam(n,e,r){let i=r[e.path.substring(1)];if(!i)throw new jn(4001,!1);return i}findOrReturn(n,e){let r=0;for(let i of e){if(i.path===n.path)return e.splice(r),i;r++}return n}},cb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zQ(t,n,e,r,i){let s=wE(t,n,e);return s.matched?(r=qK(n,r),DQ(r,n,e,i).pipe(jr(a=>a===!0?s:rn({},cb)))):Lr(s)}function wE(t,n,e){if(n.path==="**")return EQ(e);if(n.path==="")return n.pathMatch==="full"&&(t.hasChildren()||e.length>0)?rn({},cb):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(n.matcher||DK)(e,t,n);if(!i)return rn({},cb);let s={};Object.entries(i.posParams??{}).forEach(([o,c])=>{s[o]=c.path});let a=i.consumed.length>0?rn(rn({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function EQ(t){return{matched:!0,parameters:t.length>0?nE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Kz(t,n,e,r){return e.length>0&&NQ(t,e,r)?{segmentGroup:new aa(n,kQ(r,new aa(e,t.children))),slicedSegments:[]}:e.length===0&&PQ(t,e,r)?{segmentGroup:new aa(t.segments,IQ(t,e,r,t.children)),slicedSegments:e}:{segmentGroup:new aa(t.segments,t.children),slicedSegments:e}}function IQ(t,n,e,r){let i={};for(let s of e)if(w7(t,n,s)&&!r[t2(s)]){let a=new aa([],{});i[t2(s)]=a}return rn(rn({},r),i)}function kQ(t,n){let e={};e[xi]=n;for(let r of t)if(r.path===""&&t2(r)!==xi){let i=new aa([],{});e[t2(r)]=i}return e}function NQ(t,n,e){return e.some(r=>w7(t,n,r)&&t2(r)!==xi)}function PQ(t,n,e){return e.some(r=>w7(t,n,r))}function w7(t,n,e){return(t.hasChildren()||n.length>0)&&e.pathMatch==="full"?!1:e.path===""}function RQ(t,n,e){return n.length===0&&!t.children[e]}var ub=class{};function OQ(t,n,e,r,i,s,a="emptyOnly"){return new fb(t,n,e,r,i,a,s).recognize()}var FQ=31,fb=class{constructor(n,e,r,i,s,a,o){this.injector=n,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=a,this.urlSerializer=o,this.applyRedirects=new lb(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new jn(4002,`'${n.segmentGroup}'`)}recognize(){let n=Kz(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(jr(({children:e,rootSnapshot:r})=>{let i=new a1(r,e),s=new g7("",i),a=WK(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(a),{state:s,tree:a}}))}match(n){let e=new j4([],Object.freeze({}),Object.freeze(rn({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),xi,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,xi,e).pipe(jr(r=>({children:r,rootSnapshot:e})),q0(r=>{if(r instanceof yf)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof gf?this.noMatchError(r):r}))}processSegmentGroup(n,e,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,e,r,s):this.processSegment(n,e,r,r.segments,i,!0,s).pipe(jr(a=>a instanceof a1?[a]:[]))}processChildren(n,e,r,i){let s=[];for(let a of Object.keys(r.children))a==="primary"?s.unshift(a):s.push(a);return ba(s).pipe(cc(a=>{let o=r.children[a],c=eQ(e,a);return this.processSegmentGroup(n,c,o,a,i)}),h9((a,o)=>(a.push(...o),a)),el(null),f9(),Ra(a=>{if(a===null)return V4(r);let o=_E(a);return BQ(o),Lr(o)}))}processSegment(n,e,r,i,s,a,o){return ba(e).pipe(cc(c=>this.processSegmentAgainstRoute(c._injector??n,e,c,r,i,s,a,o).pipe(q0(l=>{if(l instanceof gf)return Lr(null);throw l}))),b2(c=>!!c),q0(c=>{if(CE(c))return RQ(r,i,s)?Lr(new ub):V4(r);throw c}))}processSegmentAgainstRoute(n,e,r,i,s,a,o,c){return t2(r)!==a&&(a===xi||!w7(i,s,r))?V4(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,i,r,s,a,c):this.allowRedirects&&o?this.expandSegmentAgainstRouteUsingRedirect(n,i,e,r,s,a,c):V4(i)}expandSegmentAgainstRouteUsingRedirect(n,e,r,i,s,a,o){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:f,remainingSegments:h}=wE(e,i,s);if(!c)return V4(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>FQ&&(this.allowRedirects=!1));let p=new j4(s,l,Object.freeze(rn({},this.urlTree.queryParams)),this.urlTree.fragment,Qz(i),t2(i),i.component??i._loadedComponent??null,i,Jz(i)),m=v7(p,o,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,f,p,n);return this.applyRedirects.lineralizeSegments(i,d).pipe(Ra(y=>this.processSegment(n,r,e,y.concat(h),a,!1,o)))}matchSegmentAgainstRoute(n,e,r,i,s,a){let o=zQ(e,r,i,n,this.urlSerializer);return r.path==="**"&&(e.children={}),o.pipe(ms(c=>c.matched?(n=r._injector??n,this.getChildConfig(n,r,i).pipe(ms(({routes:l})=>{let u=r._loadedInjector??n,{parameters:f,consumedSegments:h,remainingSegments:p}=c,m=new j4(h,f,Object.freeze(rn({},this.urlTree.queryParams)),this.urlTree.fragment,Qz(r),t2(r),r.component??r._loadedComponent??null,r,Jz(r)),d=v7(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(d.params),m.data=Object.freeze(d.data);let{segmentGroup:y,slicedSegments:x}=Kz(e,h,p,l);if(x.length===0&&y.hasChildren())return this.processChildren(u,l,y,m).pipe(jr(L=>new a1(m,L)));if(l.length===0&&x.length===0)return Lr(new a1(m,[]));let w=t2(r)===s;return this.processSegment(u,l,y,x,w?xi:s,!0,m).pipe(jr(L=>new a1(m,L instanceof a1?[L]:[])))}))):V4(e)))}getChildConfig(n,e,r){return e.children?Lr({routes:e.children,injector:n}):e.loadChildren?e._loadedRoutes!==void 0?Lr({routes:e._loadedRoutes,injector:e._loadedInjector}):LQ(n,e,r,this.urlSerializer).pipe(Ra(i=>i?this.configLoader.loadChildren(n,e).pipe(Ss(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):AQ(e))):Lr({routes:[],injector:n})}};function BQ(t){t.sort((n,e)=>n.value.outlet===xi?-1:e.value.outlet===xi?1:n.value.outlet.localeCompare(e.value.outlet))}function VQ(t){let n=t.value.routeConfig;return n&&n.path===""}function _E(t){let n=[],e=new Set;for(let r of t){if(!VQ(r)){n.push(r);continue}let i=n.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),e.add(i)):n.push(r)}for(let r of e){let i=_E(r.children);n.push(new a1(r.value,i))}return n.filter(r=>!e.has(r))}function Qz(t){return t.data||{}}function Jz(t){return t.resolve||{}}function HQ(t,n,e,r,i,s){return Ra(a=>OQ(t,n,e,r,a.extractedUrl,i,s).pipe(jr(({state:o,tree:c})=>pr(rn({},a),{targetSnapshot:o,urlAfterRedirects:c}))))}function UQ(t,n){return Ra(e=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return Lr(e);let s=new Set(i.map(c=>c.route)),a=new Set;for(let c of s)if(!a.has(c))for(let l of SE(c))a.add(l);let o=0;return ba(a).pipe(cc(c=>s.has(c)?jQ(c,r,t,n):(c.data=v7(c,c.parent,t).resolve,Lr(void 0))),Ss(()=>o++),K3(1),Ra(c=>o===a.size?Lr(e):fo))})}function SE(t){let n=t.children.map(e=>SE(e)).flat();return[t,...n]}function jQ(t,n,e,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!gE(i)&&(s[xf]=i.title),GQ(s,t,n,r).pipe(jr(a=>(t._resolvedData=a,t.data=v7(t,t.parent,e).resolve,null)))}function GQ(t,n,e,r){let i=Ux(t);if(i.length===0)return Lr({});let s={};return ba(i).pipe(Ra(a=>$Q(t[a],n,e,r).pipe(b2(),Ss(o=>{if(o instanceof vf)throw y7(new W4,o);s[a]=o}))),K3(1),nu(s),q0(a=>CE(a)?fo:K0(a)))}function $Q(t,n,e,r){let i=Cf(n)??r,s=K4(t,i),a=s.resolve?s.resolve(n,e):D2(i,()=>s(n,e));return wl(a)}function Vx(t){return ms(n=>{let e=t(n);return e?ba(e).pipe(jr(()=>n)):Lr(n)})}var LE=(()=>{class t{buildTitle(e){let r,i=e.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===xi);return r}getResolvedTitleForRoute(e){return e.data[xf]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:()=>Hn(WQ),providedIn:"root"})}}return t})(),WQ=(()=>{class t extends LE{constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)($t(YD))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),_f=new ir("",{providedIn:"root",factory:()=>({})}),YQ=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Nn({type:t,selectors:[["ng-component"]],standalone:!0,features:[dl],decls:1,vars:0,template:function(r,i){r&1&&Nt(0,"router-outlet")},dependencies:[pb],encapsulation:2})}}return t})();function mb(t){let n=t.children&&t.children.map(mb),e=n?pr(rn({},t),{children:n}):rn({},t);return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==xi&&(e.component=YQ),e}var b7=new ir(""),vb=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Hn(B5)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Lr(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=wl(e.loadComponent()).pipe(jr(DE),Ss(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),ru(()=>{this.componentLoaders.delete(e)})),i=new X0(r,()=>new nr).pipe(W3());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Lr({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=ZQ(r,this.compiler,e,this.onLoadEndListener).pipe(ru(()=>{this.childrenLoaders.delete(r)})),a=new X0(s,()=>new nr).pipe(W3());return this.childrenLoaders.set(r,a),a}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ZQ(t,n,e,r){return wl(t.loadChildren()).pipe(jr(DE),Ra(i=>i instanceof du||Array.isArray(i)?Lr(i):ba(n.compileModuleAsync(i))),jr(i=>{r&&r(t);let s,a,o=!1;return Array.isArray(i)?(a=i,o=!0):(s=i.create(e).injector,a=s.get(b7,[],{optional:!0,self:!0}).flat()),{routes:a.map(mb),injector:s}}))}function XQ(t){return t&&typeof t=="object"&&"default"in t}function DE(t){return XQ(t)?t.default:t}var gb=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:()=>Hn(KQ),providedIn:"root"})}}return t})(),KQ=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),TE=new ir(""),AE=new ir("");function QQ(t,n,e){let r=t.get(AE),i=t.get(zi);return t.get(Wr).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,a=new Promise(l=>{s=l}),o=i.startViewTransition(()=>(s(),JQ(t))),{onViewTransitionCreated:c}=r;return c&&D2(t,()=>c({transition:o,from:n,to:e})),a})}function JQ(t){return new Promise(n=>{Mu({read:()=>setTimeout(n)},{injector:t})})}var qQ=new ir(""),yb=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new nr,this.transitionAbortSubject=new nr,this.configLoader=Hn(vb),this.environmentInjector=Hn(mo),this.urlSerializer=Hn(bf),this.rootContexts=Hn(Mf),this.location=Hn(pa),this.inputBindingEnabled=Hn(M7,{optional:!0})!==null,this.titleStrategy=Hn(LE),this.options=Hn(_f,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Hn(gb),this.createViewTransition=Hn(TE,{optional:!0}),this.navigationErrorHandler=Hn(qQ,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Lr(void 0),this.rootComponentType=null;let e=i=>this.events.next(new Kx(i)),r=i=>this.events.next(new Qx(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(pr(rn(rn({},this.transitions.value),e),{id:r}))}setupNavigations(e,r,i){return this.transitions=new _s({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:uf,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(La(s=>s.id!==0),jr(s=>pr(rn({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ms(s=>{let a=!1,o=!1;return Lr(s).pipe(ms(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",s1.SupersededByNewNavigation),fo;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?pr(rn({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!l&&u!=="reload"){let f="";return this.events.next(new Ml(c.id,this.urlSerializer.serialize(c.rawUrl),f,f7.IgnoredSameUrlNavigation)),c.resolve(!1),fo}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Lr(c).pipe(ms(f=>{let h=this.transitions?.getValue();return this.events.next(new Y4(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?fo:Promise.resolve(f)}),HQ(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Ss(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=pr(rn({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new d7(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:h,source:p,restoredState:m,extras:d}=c,y=new Y4(f,this.urlSerializer.serialize(h),p,m);this.events.next(y);let x=mE(this.rootComponentType).snapshot;return this.currentTransition=s=pr(rn({},c),{targetSnapshot:x,urlAfterRedirects:h,extras:pr(rn({},d),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,Lr(s)}else{let f="";return this.events.next(new Ml(c.id,this.urlSerializer.serialize(c.extractedUrl),f,f7.IgnoredByUrlHandlingStrategy)),c.resolve(!1),fo}}),Ss(c=>{let l=new Wx(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),jr(c=>(this.currentTransition=s=pr(rn({},c),{guards:oQ(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),yQ(this.environmentInjector,c=>this.events.next(c)),Ss(c=>{if(s.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw y7(this.urlSerializer,c.guardsResult);let l=new Yx(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),La(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",s1.GuardRejected),!1)),Vx(c=>{if(c.guards.canActivateChecks.length)return Lr(c).pipe(Ss(l=>{let u=new Zx(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),ms(l=>{let u=!1;return Lr(l).pipe(UQ(this.paramsInheritanceStrategy,this.environmentInjector),Ss({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",s1.NoDataFromResolver)}}))}),Ss(l=>{let u=new Xx(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),Vx(c=>{let l=u=>{let f=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(u.routeConfig).pipe(Ss(h=>{u.component=h}),jr(()=>{})));for(let h of u.children)f.push(...l(h));return f};return sc(l(c.targetSnapshot.root)).pipe(el(null),za(1))}),Vx(()=>this.afterPreactivation()),ms(()=>{let{currentSnapshot:c,targetSnapshot:l}=s,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?ba(u).pipe(jr(()=>s)):Lr(s)}),jr(c=>{let l=nQ(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=pr(rn({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Ss(()=>{this.events.next(new pf)}),sQ(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),za(1),Ss({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new O2(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),er(this.transitionAbortSubject.pipe(Ss(c=>{throw c}))),ru(()=>{!a&&!o&&this.cancelNavigationTransition(s,"",s1.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),q0(c=>{if(o=!0,bE(c))this.events.next(new N0(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),aQ(c)?this.events.next(new Z4(c.url,c.navigationBehaviorOptions)):s.resolve(!1);else{let l=new hf(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0);try{let u=D2(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof vf){let{message:f,cancellationCode:h}=y7(this.urlSerializer,u);this.events.next(new N0(s.id,this.urlSerializer.serialize(s.extractedUrl),f,h)),this.events.next(new Z4(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);let f=e.errorHandler(c);s.resolve(!!f)}}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return fo}))}))}cancelNavigationTransition(e,r,i){let s=new N0(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(s),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function eJ(t){return t!==uf}var tJ=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:()=>Hn(nJ),providedIn:"root"})}}return t})(),db=class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}},nJ=(()=>{class t extends db{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Wo(t)))(i||t)}})()}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),zE=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:()=>Hn(rJ),providedIn:"root"})}}return t})(),rJ=(()=>{class t extends zE{constructor(){super(...arguments),this.location=Hn(pa),this.urlSerializer=Hn(bf),this.options=Hn(_f,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Hn(gb),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new P0,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=mE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&e(r.url,r.state)})}handleRouterEvent(e,r){if(e instanceof Y4)this.stateMemento=this.createStateMemento();else if(e instanceof Ml)this.rawUrlTree=r.initialUrl;else if(e instanceof d7){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else e instanceof pf?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):e instanceof N0&&(e.code===s1.GuardRejected||e.code===s1.NoDataFromResolver)?this.restoreHistory(r):e instanceof hf?this.restoreHistory(r,!0):e instanceof O2&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,r){let i=e instanceof P0?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,a=rn(rn({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",a)}else{let s=rn(rn({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===e.finalUrl&&s===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Wo(t)))(i||t)}})()}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),lf=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(lf||{});function EE(t,n){t.events.pipe(La(e=>e instanceof O2||e instanceof N0||e instanceof hf||e instanceof Ml),jr(e=>e instanceof O2||e instanceof Ml?lf.COMPLETE:(e instanceof N0?e.code===s1.Redirect||e.code===s1.SupersededByNewNavigation:!1)?lf.REDIRECTING:lf.FAILED),La(e=>e!==lf.REDIRECTING),za(1)).subscribe(()=>{n()})}function iJ(t){throw t}var aJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},N1=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=Hn(R5),this.stateManager=Hn(zE),this.options=Hn(_f,{optional:!0})||{},this.pendingTasks=Hn(m4),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Hn(yb),this.urlSerializer=Hn(bf),this.location=Hn(pa),this.urlHandlingStrategy=Hn(gb),this._events=new nr,this.errorHandler=this.options.errorHandler||iJ,this.navigated=!1,this.routeReuseStrategy=Hn(tJ),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Hn(b7,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Hn(M7,{optional:!0}),this.eventsSubscription=new Sa,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof N0&&r.code!==s1.Redirect&&r.code!==s1.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof O2)this.navigated=!0;else if(r instanceof Z4){let a=r.navigationBehaviorOptions,o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=rn({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||eJ(i.source)},a);this.scheduleNavigation(o,uf,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}lJ(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),uf,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",r)},0)})}navigateToSyncWithBrowser(e,r,i){let s={replaceUrl:!0},a=i?.navigationId?i:null;if(i){let c=rn({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let o=this.parseUrl(e);this.scheduleNavigation(o,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(mb),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:o,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:a,u=null;switch(o??this.options.defaultQueryParamsHandling){case"merge":u=rn(rn({},this.currentUrlTree.queryParams),s);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}u!==null&&(u=this.removeEmptyProps(u));let f;try{let h=i?i.snapshot:this.routerState.snapshot.root;f=fE(h)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),f=this.currentUrlTree.root}return dE(f,e,u,l??null)}navigateByUrl(e,r={skipLocationChange:!1}){let i=Yc(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,uf,null,r)}navigate(e,r={skipLocationChange:!1}){return oJ(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(r===!0?i=rn({},aJ):r===!1?i=rn({},sJ):i=r,Yc(e))return $z(this.currentUrlTree,e,i);let s=this.parseUrl(e);return $z(this.currentUrlTree,s,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(e,r,i,s,a){if(this.disposed)return Promise.resolve(!1);let o,c,l;a?(o=a.resolve,c=a.reject,l=a.promise):l=new Promise((f,h)=>{o=f,c=h});let u=this.pendingTasks.add();return EE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:o,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function oJ(t){for(let n=0;n<t.length;n++)if(t[n]==null)throw new jn(4008,!1)}function lJ(t){return!(t instanceof pf)&&!(t instanceof Z4)}var IE=(()=>{class t{constructor(e,r,i,s,a,o){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=a,this.locationStrategy=o,this.href=null,this.onChanges=new nr,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=e.events.subscribe(l=>{l instanceof O2&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Yc(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,s,a){let o=this.urlTree;if(o===null||this.isAnchorElement&&(e!==0||r||i||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(o,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let r=this.href===null?null:nL(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,e,r):i.removeAttribute(s,e)}get urlTree(){return this.routerLinkInput===null?null:Yc(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(ht(N1),ht(Zc),Kv("tabindex"),ht(Bs),ht(Ui),ht(L0))}}static{this.\u0275dir=Er({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Bt("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&vs("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",No],skipLocationChange:[2,"skipLocationChange","skipLocationChange",No],replaceUrl:[2,"replaceUrl","replaceUrl",No],routerLink:"routerLink"},standalone:!0,features:[wc,Fs]})}}return t})();var C7=class{};var cJ=(()=>{class t{constructor(e,r,i,s,a){this.router=e,this.injector=i,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(La(e=>e instanceof O2),cc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=k5(s.providers,e,`Route: ${s.path}`));let a=s._injector??e,o=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(o,s.children??s._loadedRoutes))}return ba(i).pipe(Q0())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(e,r):i=Lr(null);let s=i.pipe(Ra(a=>a===null?Lr(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return ba([s,a]).pipe(Q0())}else return s})}static{this.\u0275fac=function(r){return new(r||t)($t(N1),$t(B5),$t(mo),$t(C7),$t(vb))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),kE=new ir(""),uJ=(()=>{class t{constructor(e,r,i,s,a={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Y4?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof O2?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Ml&&e.code===f7.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof h7&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new h7(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){xL()}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();function fJ(t){return t.routerState.root}function Sf(t,n){return{\u0275kind:t,\u0275providers:n}}function dJ(){let t=Hn(ns);return n=>{let e=t.get(Ko);if(n!==e.components[0])return;let r=t.get(N1),i=t.get(NE);t.get(xb)===1&&r.initialNavigation(),t.get(PE,null,Di.Optional)?.setUpPreloading(),t.get(kE,null,Di.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var NE=new ir("",{factory:()=>new nr}),xb=new ir("",{providedIn:"root",factory:()=>1});function hJ(){return Sf(2,[{provide:xb,useValue:0},{provide:b4,multi:!0,deps:[ns],useFactory:n=>{let e=n.get(AD,Promise.resolve());return()=>e.then(()=>new Promise(r=>{let i=n.get(N1),s=n.get(NE);EE(i,()=>{r(!0)}),n.get(yb).afterPreactivation=()=>(r(!0),s.closed?Lr(void 0):s),i.initialNavigation()}))}}])}function pJ(){return Sf(3,[{provide:b4,multi:!0,useFactory:()=>{let n=Hn(N1);return()=>{n.setUpLocationChangeListener()}}},{provide:xb,useValue:2}])}var PE=new ir("");function mJ(t){return Sf(0,[{provide:PE,useExisting:cJ},{provide:C7,useExisting:t}])}function vJ(){return Sf(8,[Xz,{provide:M7,useExisting:Xz}])}function gJ(t){let n=[{provide:TE,useValue:QQ},{provide:AE,useValue:rn({skipNextTransition:!!t?.skipInitialTransition},t)}];return Sf(9,n)}var qz=new ir("ROUTER_FORROOT_GUARD"),yJ=[pa,{provide:bf,useClass:W4},N1,Mf,{provide:Zc,useFactory:fJ,deps:[N1]},vb,[]],bb=(()=>{class t{constructor(e){}static forRoot(e,r){return{ngModule:t,providers:[yJ,[],{provide:b7,multi:!0,useValue:e},{provide:qz,useFactory:MJ,deps:[[N1,new u5,new Pv]]},{provide:_f,useValue:r||{}},r?.useHash?bJ():CJ(),xJ(),r?.preloadingStrategy?mJ(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?wJ(r):[],r?.bindToComponentInputs?vJ().\u0275providers:[],r?.enableViewTransitions?gJ().\u0275providers:[],_J()]}}static forChild(e){return{ngModule:t,providers:[{provide:b7,multi:!0,useValue:e}]}}static{this.\u0275fac=function(r){return new(r||t)($t(qz,8))}}static{this.\u0275mod=Qr({type:t})}static{this.\u0275inj=Kr({})}}return t})();function xJ(){return{provide:kE,useFactory:()=>{let t=Hn(BD),n=Hn(Wr),e=Hn(_f),r=Hn(yb),i=Hn(bf);return e.scrollOffset&&t.setOffset(e.scrollOffset),new uJ(i,r,t,n,e)}}}function bJ(){return{provide:L0,useClass:ED}}function CJ(){return{provide:L0,useClass:Vg}}function MJ(t){return"guarded"}function wJ(t){return[t.initialNavigation==="disabled"?pJ().\u0275providers:[],t.initialNavigation==="enabledBlocking"?hJ().\u0275providers:[]]}var eE=new ir("");function _J(){return[{provide:eE,useFactory:dJ},{provide:wg,multi:!0,useExisting:eE}]}var RE={prefix:"far",iconName:"flag",icon:[448,512,[127988,61725],"f024","M48 24C48 10.7 37.3 0 24 0S0 10.7 0 24L0 64 0 350.5 0 400l0 88c0 13.3 10.7 24 24 24s24-10.7 24-24l0-100 80.3-20.1c41.1-10.3 84.6-5.5 122.5 13.4c44.2 22.1 95.5 24.8 141.7 7.4l34.7-13c12.5-4.7 20.8-16.6 20.8-30l0-279.7c0-23-24.2-38-44.8-27.7l-9.6 4.8c-46.3 23.2-100.8 23.2-147.1 0c-35.1-17.6-75.4-22-113.5-12.5L48 52l0-28zm0 77.5l96.6-24.2c27-6.7 55.5-3.6 80.4 8.8c54.9 27.4 118.7 29.7 175 6.8l0 241.8-24.4 9.1c-33.7 12.6-71.2 10.7-103.4-5.4c-48.2-24.1-103.3-30.1-155.6-17.1L48 338.5l0-237z"]};var _7={prefix:"fas",iconName:"file-lines",icon:[384,512,[128441,128462,61686,"file-alt","file-text"],"f15c","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-288-128 0c-17.7 0-32-14.3-32-32L224 0 64 0zM256 0l0 128 128 0L256 0zM112 256l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]};var S7={prefix:"fas",iconName:"table",icon:[512,512,[],"f0ce","M64 256l0-96 160 0 0 96L64 256zm0 64l160 0 0 96L64 416l0-96zm224 96l0-96 160 0 0 96-160 0zM448 256l-160 0 0-96 160 0 0 96zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z"]};var OE={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]};var SJ={prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24l0 112c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-112c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"]},L7=SJ;var FE={prefix:"fas",iconName:"sack-dollar",icon:[512,512,[128176],"f81d","M320 96L192 96 144.6 24.9C137.5 14.2 145.1 0 157.9 0L354.1 0c12.8 0 20.4 14.2 13.3 24.9L320 96zM192 128l128 0c3.8 2.5 8.1 5.3 13 8.4C389.7 172.7 512 250.9 512 416c0 53-43 96-96 96L96 512c-53 0-96-43-96-96C0 250.9 122.3 172.7 179 136.4c0 0 0 0 0 0s0 0 0 0c4.8-3.1 9.2-5.9 13-8.4zm84 88c0-11-9-20-20-20s-20 9-20 20l0 14c-7.6 1.7-15.2 4.4-22.2 8.5c-13.9 8.3-25.9 22.8-25.8 43.9c.1 20.3 12 33.1 24.7 40.7c11 6.6 24.7 10.8 35.6 14l1.7 .5c12.6 3.8 21.8 6.8 28 10.7c5.1 3.2 5.8 5.4 5.9 8.2c.1 5-1.8 8-5.9 10.5c-5 3.1-12.9 5-21.4 4.7c-11.1-.4-21.5-3.9-35.1-8.5c-2.3-.8-4.7-1.6-7.2-2.4c-10.5-3.5-21.8 2.2-25.3 12.6s2.2 21.8 12.6 25.3c1.9 .6 4 1.3 6.1 2.1c0 0 0 0 0 0s0 0 0 0c8.3 2.9 17.9 6.2 28.2 8.4l0 14.6c0 11 9 20 20 20s20-9 20-20l0-13.8c8-1.7 16-4.5 23.2-9c14.3-8.9 25.1-24.1 24.8-45c-.3-20.3-11.7-33.4-24.6-41.6c-11.5-7.2-25.9-11.6-37.1-15c0 0 0 0 0 0l-.7-.2c-12.8-3.9-21.9-6.7-28.3-10.5c-5.2-3.1-5.3-4.9-5.3-6.7c0-3.7 1.4-6.5 6.2-9.3c5.4-3.2 13.6-5.1 21.5-5c9.6 .1 20.2 2.2 31.2 5.2c10.7 2.8 21.6-3.5 24.5-14.2s-3.5-21.6-14.2-24.5c-6.5-1.7-13.7-3.4-21.1-4.7l0-13.9z"]};var D7={prefix:"fas",iconName:"chart-area",icon:[512,512,["area-chart"],"f1fe","M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64L0 400c0 44.2 35.8 80 80 80l400 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 416c-8.8 0-16-7.2-16-16L64 64zm96 288l288 0c17.7 0 32-14.3 32-32l0-68.2c0-7.6-2.7-15-7.7-20.8l-65.8-76.8c-12.1-14.2-33.7-15-46.9-1.8l-21 21c-10 10-26.4 9.2-35.4-1.6l-39.2-47c-12.6-15.1-35.7-15.4-48.7-.6L135.9 215c-5.1 5.8-7.9 13.3-7.9 21.1l0 84c0 17.7 14.3 32 32 32z"]};var LJ={prefix:"fas",iconName:"shuffle",icon:[512,512,[128256,"random"],"f074","M403.8 34.4c12-5 25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6l0-32-32 0c-10.1 0-19.6 4.7-25.6 12.8L284 229.3 244 176l31.2-41.6C293.3 110.2 321.8 96 352 96l32 0 0-32c0-12.9 7.8-24.6 19.8-29.6zM164 282.7L204 336l-31.2 41.6C154.7 401.8 126.2 416 96 416l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c10.1 0 19.6-4.7 25.6-12.8L164 282.7zm274.6 188c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6l0-32-32 0c-30.2 0-58.7-14.2-76.8-38.4L121.6 172.8c-6-8.1-15.5-12.8-25.6-12.8l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c30.2 0 58.7 14.2 76.8 38.4L326.4 339.2c6 8.1 15.5 12.8 25.6 12.8l32 0 0-32c0-12.9 7.8-24.6 19.8-29.6s25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64z"]},BE=LJ;var T7={prefix:"fas",iconName:"weight-hanging",icon:[512,512,[],"f5cd","M224 96a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm122.5 32c3.5-10 5.5-20.8 5.5-32c0-53-43-96-96-96s-96 43-96 96c0 11.2 1.9 22 5.5 32L120 128c-22 0-41.2 15-46.6 36.4l-72 288c-3.6 14.3-.4 29.5 8.7 41.2S33.2 512 48 512l416 0c14.8 0 28.7-6.8 37.8-18.5s12.3-26.8 8.7-41.2l-72-288C433.2 143 414 128 392 128l-45.5 0z"]};var A7={prefix:"fas",iconName:"layer-group",icon:[576,512,[],"f5fd","M264.5 5.2c14.9-6.9 32.1-6.9 47 0l218.6 101c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 149.8C37.4 145.8 32 137.3 32 128s5.4-17.9 13.9-21.8L264.5 5.2zM476.9 209.6l53.2 24.6c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 277.8C37.4 273.8 32 265.3 32 256s5.4-17.9 13.9-21.8l53.2-24.6 152 70.2c23.4 10.8 50.4 10.8 73.8 0l152-70.2zm-152 198.2l152-70.2 53.2 24.6c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 405.8C37.4 401.8 32 393.3 32 384s5.4-17.9 13.9-21.8l53.2-24.6 152 70.2c23.4 10.8 50.4 10.8 73.8 0z"]};var VE={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.9 54.9C10.5 40.9 24.5 32 40 32l432 0c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9 320 448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6l0-79.1L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"]};var z7={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]};var DJ={prefix:"fas",iconName:"user-gear",icon:[640,512,["user-cog"],"f4fe","M224 0a128 128 0 1 1 0 256A128 128 0 1 1 224 0zM178.3 304l91.4 0c11.8 0 23.4 1.2 34.5 3.3c-2.1 18.5 7.4 35.6 21.8 44.8c-16.6 10.6-26.7 31.6-20 53.3c4 12.9 9.4 25.5 16.4 37.6s15.2 23.1 24.4 33c15.7 16.9 39.6 18.4 57.2 8.7l0 .9c0 9.2 2.7 18.5 7.9 26.3L29.7 512C13.3 512 0 498.7 0 482.3C0 383.8 79.8 304 178.3 304zM436 218.2c0-7 4.5-13.3 11.3-14.8c10.5-2.4 21.5-3.7 32.7-3.7s22.2 1.3 32.7 3.7c6.8 1.5 11.3 7.8 11.3 14.8l0 30.6c7.9 3.4 15.4 7.7 22.3 12.8l24.9-14.3c6.1-3.5 13.7-2.7 18.5 2.4c7.6 8.1 14.3 17.2 20.1 27.2s10.3 20.4 13.5 31c2.1 6.7-1.1 13.7-7.2 17.2l-25 14.4c.4 4 .7 8.1 .7 12.3s-.2 8.2-.7 12.3l25 14.4c6.1 3.5 9.2 10.5 7.2 17.2c-3.3 10.6-7.8 21-13.5 31s-12.5 19.1-20.1 27.2c-4.8 5.1-12.5 5.9-18.5 2.4l-24.9-14.3c-6.9 5.1-14.3 9.4-22.3 12.8l0 30.6c0 7-4.5 13.3-11.3 14.8c-10.5 2.4-21.5 3.7-32.7 3.7s-22.2-1.3-32.7-3.7c-6.8-1.5-11.3-7.8-11.3-14.8l0-30.5c-8-3.4-15.6-7.7-22.5-12.9l-24.7 14.3c-6.1 3.5-13.7 2.7-18.5-2.4c-7.6-8.1-14.3-17.2-20.1-27.2s-10.3-20.4-13.5-31c-2.1-6.7 1.1-13.7 7.2-17.2l24.8-14.3c-.4-4.1-.7-8.2-.7-12.4s.2-8.3 .7-12.4L343.8 325c-6.1-3.5-9.2-10.5-7.2-17.2c3.3-10.6 7.7-21 13.5-31s12.5-19.1 20.1-27.2c4.8-5.1 12.4-5.9 18.5-2.4l24.8 14.3c6.9-5.1 14.5-9.4 22.5-12.9l0-30.5zm92.1 133.5a48.1 48.1 0 1 0 -96.1 0 48.1 48.1 0 1 0 96.1 0z"]},HE=DJ;var UE={prefix:"fas",iconName:"arrow-left",icon:[448,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]};var E7={prefix:"fas",iconName:"lungs",icon:[640,512,[129729],"f604","M320 0c17.7 0 32 14.3 32 32l0 132.1c0 16.4 8.4 31.7 22.2 40.5l9.8 6.2 0-45.5C384 127 415 96 453.3 96c21.7 0 42.8 10.2 55.8 28.8c15.4 22.1 44.3 65.4 71 116.9c26.5 50.9 52.4 112.5 59.6 170.3c.2 1.3 .2 2.6 .2 4l0 7c0 49.1-39.8 89-89 89c-7.3 0-14.5-.9-21.6-2.7l-72.7-18.2C414 480.5 384 442.1 384 398l0-73 90.5 57.6c7.5 4.7 17.3 2.5 22.1-4.9s2.5-17.3-4.9-22.1L384 287.1l0-.4-44.1-28.1c-7.3-4.6-13.9-10.1-19.9-16.1c-5.9 6-12.6 11.5-19.9 16.1L256 286.7 161.2 347l-13.5 8.6c0 0 0 0-.1 0c-7.4 4.8-9.6 14.6-4.8 22.1c4.7 7.5 14.6 9.7 22.1 4.9l91.1-58 0 73.4c0 44.1-30 82.5-72.7 93.1l-72.7 18.2c-7.1 1.8-14.3 2.7-21.6 2.7c-49.1 0-89-39.8-89-89l0-7c0-1.3 .1-2.7 .2-4c7.2-57.9 33.1-119.4 59.6-170.3c26.8-51.5 55.6-94.8 71-116.9c13-18.6 34-28.8 55.8-28.8C225 96 256 127 256 165.3l0 45.5 9.8-6.2c13.8-8.8 22.2-24.1 22.2-40.5L288 32c0-17.7 14.3-32 32-32z"]};var TJ={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},jE=TJ;var _l={prefix:"fas",iconName:"minus",icon:[448,512,[8211,8722,10134,"subtract"],"f068","M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z"]};var AJ={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},GE=AJ;var I7={prefix:"fas",iconName:"faucet",icon:[512,512,[],"e005","M192 96l0 12L96 96c-17.7 0-32 14.3-32 32s14.3 32 32 32l96-12 31-3.9 1-.1 1 .1 31 3.9 96 12c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 12 0-12c0-17.7-14.3-32-32-32s-32 14.3-32 32zM32 256c-17.7 0-32 14.3-32 32l0 64c0 17.7 14.3 32 32 32l100.1 0c20.2 29 53.9 48 91.9 48s71.7-19 91.9-48l36.1 0c17.7 0 32 14.3 32 32s14.3 32 32 32l64 0c17.7 0 32-14.3 32-32c0-88.4-71.6-160-160-160l-32 0-22.6-22.6c-6-6-14.1-9.4-22.6-9.4L256 224l0-43.8-32-4-32 4 0 43.8-18.7 0c-8.5 0-16.6 3.4-22.6 9.4L128 256l-96 0z"]};var k7={prefix:"fas",iconName:"battery-half",icon:[576,512,["battery-3"],"f242","M464 160c8.8 0 16 7.2 16 16l0 160c0 8.8-7.2 16-16 16L80 352c-8.8 0-16-7.2-16-16l0-160c0-8.8 7.2-16 16-16l384 0zM80 96C35.8 96 0 131.8 0 176L0 336c0 44.2 35.8 80 80 80l384 0c44.2 0 80-35.8 80-80l0-16c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l0-16c0-44.2-35.8-80-80-80L80 96zm208 96L96 192l0 128 192 0 0-128z"]};var zJ={prefix:"fas",iconName:"sliders",icon:[512,512,["sliders-h"],"f1de","M0 416c0 17.7 14.3 32 32 32l54.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 448c17.7 0 32-14.3 32-32s-14.3-32-32-32l-246.7 0c-12.3-28.3-40.5-48-73.3-48s-61 19.7-73.3 48L32 384c-17.7 0-32 14.3-32 32zm128 0a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zM320 256a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm32-80c-32.8 0-61 19.7-73.3 48L32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l246.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48l54.7 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-54.7 0c-12.3-28.3-40.5-48-73.3-48zM192 128a32 32 0 1 1 0-64 32 32 0 1 1 0 64zm73.3-64C253 35.7 224.8 16 192 16s-61 19.7-73.3 48L32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l86.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 128c17.7 0 32-14.3 32-32s-14.3-32-32-32L265.3 64z"]},Q4=zJ;var $E={prefix:"fas",iconName:"calculator",icon:[384,512,[128425],"f1ec","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-384c0-35.3-28.7-64-64-64L64 0zM96 64l192 0c17.7 0 32 14.3 32 32l0 32c0 17.7-14.3 32-32 32L96 160c-17.7 0-32-14.3-32-32l0-32c0-17.7 14.3-32 32-32zm32 160a32 32 0 1 1 -64 0 32 32 0 1 1 64 0zM96 352a32 32 0 1 1 0-64 32 32 0 1 1 0 64zM64 416c0-17.7 14.3-32 32-32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-96 0c-17.7 0-32-14.3-32-32zM192 256a32 32 0 1 1 0-64 32 32 0 1 1 0 64zm32 64a32 32 0 1 1 -64 0 32 32 0 1 1 64 0zm64-64a32 32 0 1 1 0-64 32 32 0 1 1 0 64zm32 64a32 32 0 1 1 -64 0 32 32 0 1 1 64 0zM288 448a32 32 0 1 1 0-64 32 32 0 1 1 0 64z"]};var WE={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1l-32 0 .7 160.2c0 2.7-.2 5.4-.5 8.1l0 16.2c0 22.1-17.9 40-40 40l-16 0c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1L416 512l-24 0c-22.1 0-40-17.9-40-40l0-24 0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32l0 64 0 24c0 22.1-17.9 40-40 40l-24 0-31.9 0c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2l-16 0c-22.1 0-40-17.9-40-40l0-112c0-.9 0-1.9 .1-2.8l0-69.7-32 0c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]};var N7={prefix:"fas",iconName:"mountain-sun",icon:[640,512,[],"e52f","M560 160A80 80 0 1 0 560 0a80 80 0 1 0 0 160zM55.9 512l325.2 0 75 0 122.8 0c33.8 0 61.1-27.4 61.1-61.1c0-11.2-3.1-22.2-8.9-31.8l-132-216.3C495 196.1 487.8 192 480 192s-15 4.1-19.1 10.7l-48.2 79L286.8 81c-6.6-10.6-18.3-17-30.8-17s-24.1 6.4-30.8 17L8.6 426.4C3 435.3 0 445.6 0 456.1C0 487 25 512 55.9 512z"]};var P7={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]};var R7={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2 160 448c0 17.7 14.3 32 32 32s32-14.3 32-32l0-306.7L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]};var EJ={prefix:"fas",iconName:"list-check",icon:[512,512,["tasks"],"f0ae","M152.1 38.2c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L7 113C-2.3 103.6-2.3 88.4 7 79s24.6-9.4 33.9 0l22.1 22.1 55.1-61.2c8.9-9.9 24-10.7 33.9-1.8zm0 160c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L7 273c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l22.1 22.1 55.1-61.2c8.9-9.9 24-10.7 33.9-1.8zM224 96c0-17.7 14.3-32 32-32l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32zm0 160c0-17.7 14.3-32 32-32l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32zM160 416c0-17.7 14.3-32 32-32l288 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-288 0c-17.7 0-32-14.3-32-32zM48 368a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},O7=EJ;var YE={prefix:"fas",iconName:"share-from-square",icon:[576,512,[61509,"share-square"],"f14d","M352 224l-46.5 0c-45 0-81.5 36.5-81.5 81.5c0 22.3 10.3 34.3 19.2 40.5c6.8 4.7 12.8 12 12.8 20.3c0 9.8-8 17.8-17.8 17.8l-2.5 0c-2.4 0-4.8-.4-7.1-1.4C210.8 374.8 128 333.4 128 240c0-79.5 64.5-144 144-144l80 0 0-61.3C352 15.5 367.5 0 386.7 0c8.6 0 16.8 3.2 23.2 8.9L548.1 133.3c7.6 6.8 11.9 16.5 11.9 26.7s-4.3 19.9-11.9 26.7l-139 125.1c-5.9 5.3-13.5 8.2-21.4 8.2l-3.7 0c-17.7 0-32-14.3-32-32l0-64zM80 96c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-48c0-17.7 14.3-32 32-32s32 14.3 32 32l0 48c0 44.2-35.8 80-80 80L80 512c-44.2 0-80-35.8-80-80L0 112C0 67.8 35.8 32 80 32l48 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L80 96z"]};var J4={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]};var F7={prefix:"fas",iconName:"percent",icon:[384,512,[62101,62785,"percentage"],"25","M374.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-320 320c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l320-320zM128 128A64 64 0 1 0 0 128a64 64 0 1 0 128 0zM384 384a64 64 0 1 0 -128 0 64 64 0 1 0 128 0z"]};var ZE={prefix:"fas",iconName:"rotate",icon:[512,512,[128260,"sync-alt"],"f2f1","M142.9 142.9c-17.5 17.5-30.1 38-37.8 59.8c-5.9 16.7-24.2 25.4-40.8 19.5s-25.4-24.2-19.5-40.8C55.6 150.7 73.2 122 97.6 97.6c87.2-87.2 228.3-87.5 315.8-1L455 55c6.9-6.9 17.2-8.9 26.2-5.2s14.8 12.5 14.8 22.2l0 128c0 13.3-10.7 24-24 24l-8.4 0c0 0 0 0 0 0L344 224c-9.7 0-18.5-5.8-22.2-14.8s-1.7-19.3 5.2-26.2l41.1-41.1c-62.6-61.5-163.1-61.2-225.3 1zM16 312c0-13.3 10.7-24 24-24l7.6 0 .7 0L168 288c9.7 0 18.5 5.8 22.2 14.8s1.7 19.3-5.2 26.2l-41.1 41.1c62.6 61.5 163.1 61.2 225.3-1c17.5-17.5 30.1-38 37.8-59.8c5.9-16.7 24.2-25.4 40.8-19.5s25.4 24.2 19.5 40.8c-10.8 30.6-28.4 59.3-52.9 83.8c-87.2 87.2-228.3 87.5-315.8 1L57 457c-6.9 6.9-17.2 8.9-26.2 5.2S16 449.7 16 440l0-119.6 0-.7 0-7.6z"]};var IJ={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},P1=IJ;var qc=G1(n2(),1),ro=function(t){return t[t.fresh=1]="fresh",t[t.brackish=2]="brackish",t[t.salt=3]="salt",t}(ro||{}),B7=(()=>{class t{static{this.fresh=1e3}static{this.brackish=1020}static{this.salt=1030}}return t})(),XE=(()=>{class t{static{this.standard=9.80665}}return t})(),Kc=(()=>{class t{static{this.coefficient=1e5}static pascalToBar(e){return e/t.coefficient}static barToPascal(e){return e*t.coefficient}}return t})(),Qc=class t{static{this.standard=1.01325}static{this.standardPascals=Kc.barToPascal(t.standard)}static{this.gasConstant=8.31432}static{this.temperature=288.15}static{this.lapsRate=-.0065}static{this.molarMass=.0289644}static{this.exponent=XE.standard*t.molarMass/(t.gasConstant*t.lapsRate)}static{this.invertedExponent=1/t.exponent}static pressure(n){let e=t.temperature/(t.temperature+t.lapsRate*n);return t.standardPascals*Math.pow(e,t.exponent)}static altitude(n){if(n>=t.standardPascals)return 0;let e=n/t.standardPascals,r=Math.pow(e,t.invertedExponent);return(t.temperature/r-t.temperature)/t.lapsRate}},V7=class{constructor(){this.altitudeDepth=20,this._altitude=300,this._pressure=this.toPressure(this.altitude)}get pressure(){return this._pressure}get altitude(){return this._altitude}get theoreticalDepth(){let n=Qc.standard/this.pressure;return this.altitudeDepth*n}set pressure(n){this._pressure=n,this._altitude=this.toAltitude(n)}set altitude(n){this._altitude=n,this._pressure=this.toPressure(n)}toAltitude(n){let e=Kc.barToPascal(n);return Qc.altitude(e)}toPressure(n){let e=Qc.pressure(n);return Kc.pascalToBar(e)}},As=class{constructor(n,e,r,i,s,a){this._n2HalfTime=n,this._n2A=e,this._n2B=r,this._heHalfTime=i,this._heA=s,this._heB=a}get n2HalfTime(){return this._n2HalfTime}get n2A(){return this._n2A}get n2B(){return this._n2B}get heHalfTime(){return this._heHalfTime}get heA(){return this._heA}get heB(){return this._heB}},Xc=class{static{this.buhlmannZHL16C=[new As(5,1.1696,.5578,1.88,1.6189,.477),new As(8,1,.6514,3.02,1.383,.5747),new As(12.5,.8618,.7222,4.72,1.1919,.6527),new As(18.5,.7562,.7826,6.99,1.0458,.7223),new As(27,.62,.8125,10.21,.922,.7582),new As(38.3,.5043,.8434,14.48,.8205,.7957),new As(54.3,.441,.8693,20.53,.7305,.8279),new As(77,.4,.891,29.11,.6502,.8553),new As(109,.375,.9092,41.2,.595,.8757),new As(146,.35,.9222,55.19,.5545,.8903),new As(187,.3295,.9319,70.69,.5333,.8997),new As(239,.3065,.9403,90.34,.5189,.9073),new As(305,.2835,.9477,115.29,.5181,.9122),new As(390,.261,.9544,147.42,.5176,.9171),new As(498,.248,.9602,188.24,.5172,.9217),new As(635,.2327,.9653,240.03,.5119,.9267)]}},da=class t{static{this.o2InAir=.209}static{this.nitroxInAir=1-t.o2InAir}static{this.minPpO2=.18}static{this.maxEnd=30}static partialPressure(n,e){return n*e}static mod(n,e){return n/e}static bestMix(n,e,r){let i=r.toBar(e),s=n/i;return s>1?1:s}static ead(n,e,r=t.o2InAir){let i=1-n,s=1-r;return t.end(e,i)/s}static end(n,e,r=0){let i=this.narcoticIndex(r,e);return n*i}static mnd(n,e,r=0){let i=this.narcoticIndex(r,e);return n/i}static ceiling(n,e){let i=t.minPpO2/n*e;return i<e?e:i}static narcoticIndex(n,e=0){return e+n}};var H7=class t extends As{constructor(n,e){super(n.n2HalfTime,n.n2A,n.n2B,n.heHalfTime,n.heA,n.heB),this._pN2=0,this._pHe=0,this._pTotal=0,this._a=0,this._b=0;let r=this.pressureInLungs(e);this._pN2=da.partialPressure(r,da.nitroxInAir),this._pHe=0,this.updateTotal()}get pN2(){return this._pN2}get pHe(){return this._pHe}get pTotal(){return this._pTotal}get a(){return this._a}get b(){return this._b}static fromCurrent(n,e){let r=new t(e,1);return r._pN2=n.pN2,r._pHe=n.pHe,r._a=n.a,r._b=n.b,r.updateTotal(),r}copy(){return t.fromCurrent(this,this)}ceiling(n){return(this.pTotal-this.a*n)/(n/this.b+1-n)}load(n,e){this._pN2=this.loadGas(n,e.fN2,this.pN2,this.n2HalfTime),this._pHe=this.loadGas(n,e.fHe,this.pHe,this.heHalfTime);let r=this.pTotal;return this.updateTotal(),this._a=(this.n2A*this.pN2+this.heA*this.pHe)/this.pTotal,this._b=(this.n2B*this.pN2+this.heB*this.pHe)/this.pTotal,this.pTotal-r}loadGas(n,e,r,i){let s=n.speed*e,a=this.pressureInLungs(n.startPressure)*e;return this.schreinerEquation(r,a,n.duration,i,s)}pressureInLungs(n){return n-.0627}schreinerEquation(n,e,r,i,s){let o=.01155245301/i,c=Math.exp(-o*r);return e+s*(r-1/o)-(e-n-s/o)*c}updateTotal(){this._pTotal=this.pN2+this.pHe}},t6=class t{constructor(n){this._compartments=n}get compartments(){return this._compartments}static createLoaded(n){if(n.length!==Xc.buhlmannZHL16C.length)throw new Error("Provided incompatible count of tissues");let e=(0,qc.default)(n).map((r,i)=>{let s=Xc.buhlmannZHL16C[i];return H7.fromCurrent(r,s)}).value();return new t(e)}static create(n){let e=[];for(let r=0;r<Xc.buhlmannZHL16C.length;r++){let i=Xc.buhlmannZHL16C[r],s=new H7(i,n);e.push(s)}return new t(e)}static createLoadedAt(n){let e=Qc.pressure(n),r=Kc.pascalToBar(e);return t.create(r).finalState()}static copy(n){let e=[];for(let r=0;r<n.length;r++){let i=n[r].copy();e.push(i)}return e}restoreFrom(n){this._compartments=t.copy(n)}finalState(){return t.copy(this._compartments)}ceiling(n){let e=0;for(let r=0;r<this._compartments.length;r++){let i=this._compartments[r].ceiling(n);i>e&&(e=i)}return e}load(n,e){let r=0;for(let i=0;i<this._compartments.length;i++){let a=this._compartments[i].load(n,e);r=r+a}return r}},U7=class t{static validTissue(n){return n.pN2>0&&n.pHe>=0&&n.a>=0&&n.b>=0}static validCount(n){return!!n&&n.length===Xc.buhlmannZHL16C.length}static valid(n){return t.validCount(n)?(0,qc.default)(n).every(r=>t.validTissue(r)):!1}},Qt=class t{static fix(n){return Number(n.toFixed(10))}static roundTwoDecimals(n){return t.round(n,2)}static round(n,e=0){return t.adapt(Math.round,n,e)}static floorTwoDecimals(n){return t.floor(n,2)}static floor(n,e=0){return t.adapt(Math.floor,n,e)}static ceilTwoDecimals(n){return t.ceil(n,2)}static ceil(n,e=0){return t.adapt(Math.ceil,n,e)}static ceilDistance(n,e){return t.adaptDistance(Math.ceil,n,e)}static roundDistance(n,e){return t.adaptDistance(Math.round,n,e)}static floorDistance(n,e){return t.adaptDistance(Math.floor,n,e)}static adapt(n,e,r){let i=Math.pow(10,r);return n(e*i)/i}static adaptDistance(n,e,r){return n(e/r)*r}},R0=class{constructor(n){this.options=n}create(){switch(this.options.salinity){case ro.salt:return yo.forSaltWater(this.options.altitude);case ro.brackish:return yo.forBrackishWater(this.options.altitude);default:return yo.forFreshWater(this.options.altitude)}}},yo=class t{constructor(n,e){this.density=n,this._gravity=XE.standard;let r=Qc.pressure(e);this._surfacePressure=Kc.pascalToBar(r)}get surfacePressure(){return this._surfacePressure}static forSaltWater(n=0){return new t(B7.salt,n)}static forBrackishWater(n=0){return new t(B7.brackish,n)}static forFreshWater(n=0){return new t(B7.fresh,n)}static simple(){let n=new t(B7.fresh,0);return n._surfacePressure=1,n._gravity=10,n}toBar(n){let e=this.density*this._gravity;return Kc.pascalToBar(n*e)+this._surfacePressure}fromBar(n){if(n<this._surfacePressure)throw new Error("Lower pressure than altitude isn`t convertible to depth.");let e=this.density*this._gravity;return Kc.barToPascal(n-this._surfacePressure)/e}},o1=function(t){return t[t.never=1]="never",t[t.auto=2]="auto",t[t.always=3]="always",t}(o1||{}),Br=class t{static{this.altitude=0}static{this.saltWater=ro.salt}static{this.roundStopsToMinutes=!1}static{this.gasSwitchDuration=2}static{this.problemSolvingDuration=1}static{this.lastStopDepth=3}static{this.lastStopDepthRecre=5}static{this.safetyStopRecre=o1.auto}static{this.decoStopDistance=3}static{this.minimumAutoStopDepth=10}static{this.addSafetyStop=!0}static{this.maxEND=da.maxEnd}static{this.oxygenNarcotic=!0}static{this.ascentSpeed6m=3}static{this.ascentSpeed50percTo6m=3}static{this.ascentSpeed50perc=9}static{this.descentSpeed=18}static{this.gfLow=.4}static{this.gfHigh=.85}static{this.maxPpO2=1.4}static{this.maxDecoPpO2=1.6}static{this.airBreakOxygenDuration=20}static{this.airBreakBottomGasDuration=5}static setMediumConservatism(n){n.gfLow=t.gfLow,n.gfHigh=t.gfHigh}static useGeneralRecommended(n){n.safetyStop=t.safetyStopRecre,n.roundStopsToMinutes=t.roundStopsToMinutes,n.gasSwitchDuration=t.gasSwitchDuration,n.oxygenNarcotic=t.oxygenNarcotic}},Mb=class{constructor(n=!1,e=Br.airBreakOxygenDuration,r=Br.airBreakBottomGasDuration){this.enabled=n,this.oxygenDuration=e,this.bottomGasDuration=r}loadFrom(n){this.enabled=n.enabled,this.oxygenDuration=n.oxygenDuration,this.bottomGasDuration=n.bottomGasDuration}},R1=class{constructor(n=Br.gfLow,e=Br.gfHigh,r=Br.maxPpO2,i=Br.maxDecoPpO2,s=Br.saltWater){this.gfLow=n,this.gfHigh=e,this.maxPpO2=r,this.maxDecoPpO2=i,this.salinity=s,this.altitude=Br.altitude,this.roundStopsToMinutes=Br.roundStopsToMinutes,this.gasSwitchDuration=Br.gasSwitchDuration,this.safetyStop=Br.safetyStopRecre,this.lastStopDepth=Br.lastStopDepth,this.decoStopDistance=Br.decoStopDistance,this.minimumAutoStopDepth=Br.minimumAutoStopDepth,this.maxEND=Br.maxEND,this.oxygenNarcotic=!0,this.ascentSpeed6m=Br.ascentSpeed6m,this.ascentSpeed50percTo6m=Br.ascentSpeed50percTo6m,this.ascentSpeed50perc=Br.ascentSpeed50perc,this.descentSpeed=Br.descentSpeed,this.problemSolvingDuration=Br.problemSolvingDuration,this._airBreaks=new Mb,this.gfLow=n||Br.gfLow,this.gfHigh=e||Br.gfHigh,this.maxPpO2=r||Br.maxPpO2,this.maxDecoPpO2=i||Br.maxDecoPpO2,this.salinity=s||Br.saltWater}get airBreaks(){return this._airBreaks}loadFrom(n){this.gfLow=n.gfLow||this.gfLow,this.gfHigh=n.gfHigh||this.gfHigh,this.maxPpO2=n.maxPpO2||this.maxPpO2,this.maxDecoPpO2=n.maxDecoPpO2||this.maxDecoPpO2,this.oxygenNarcotic=n.oxygenNarcotic,this.salinity=n.salinity||this.salinity,this.altitude=n.altitude||n.altitude===0?n.altitude:this.altitude,this.roundStopsToMinutes=n.roundStopsToMinutes,this.gasSwitchDuration=n.gasSwitchDuration||this.gasSwitchDuration,this.problemSolvingDuration=n.problemSolvingDuration||this.problemSolvingDuration,this.lastStopDepth=n.lastStopDepth||this.lastStopDepth,this.decoStopDistance=n.decoStopDistance||this.decoStopDistance,this.minimumAutoStopDepth=n.minimumAutoStopDepth||this.minimumAutoStopDepth,this.safetyStop=n.safetyStop||this.safetyStop,this.maxEND=n.maxEND||this.maxEND,this.ascentSpeed6m=n.ascentSpeed6m||this.ascentSpeed6m,this.ascentSpeed50percTo6m=n.ascentSpeed50percTo6m||this.ascentSpeed50percTo6m,this.ascentSpeed50perc=n.ascentSpeed50perc||this.ascentSpeed50perc,this.descentSpeed=n.descentSpeed||this.descentSpeed,this.airBreaks.loadFrom(n.airBreaks)}},n6=class{constructor(n,e){this.depthConverter=n,this.options=e}toDecoStop(n){let e=this.depthConverter.fromBar(n);return Qt.roundDistance(e,this.options.decoStopDistance)}nextStop(n){if(n<=this.options.lastStopDepth)return 0;let e=Qt.floorDistance(n,this.options.decoStopDistance);if(e!==n)return e;let r=n-this.options.decoStopDistance;return r<=this.options.lastStopDepth?this.options.lastStopDepth:r}addSafetyStop(n,e){return(this.options.safetyStop===o1.always||this.options.safetyStop===o1.auto&&e>this.options.minimumAutoStopDepth)&&n===this.options.lastStopDepth}},Ir=function(t){return t[t.noAction=0]="noAction",t[t.error=1]="error",t[t.gasSwitch=2]="gasSwitch",t[t.noDecoEnd=3]="noDecoEnd",t[t.lowPpO2=4]="lowPpO2",t[t.highPpO2=5]="highPpO2",t[t.highAscentSpeed=6]="highAscentSpeed",t[t.highDescentSpeed=7]="highDescentSpeed",t[t.brokenCeiling=8]="brokenCeiling",t[t.maxEndExceeded=9]="maxEndExceeded",t[t.isobaricCounterDiffusion=10]="isobaricCounterDiffusion",t[t.highGasDensity=11]="highGasDensity",t[t.safetyStop=12]="safetyStop",t[t.minDepth=13]="minDepth",t[t.maxDepth=14]="maxDepth",t[t.missingAirBreak=15]="missingAirBreak",t}(Ir||{}),zs=class t{constructor(n,e,r,i,s){this.timeStamp=n,this.depth=e,this.type=r,this.message=i,this.gas=s}static create(n,e,r,i){return new t(e,r,n,"",i)}static createError(n){return new t(0,0,Ir.error,n)}},cs=class{static createError(n){return zs.createError(n)}static createSafetyStopStart(n,e){return zs.create(Ir.safetyStop,n,e)}static createNoDecoEnd(n,e){return zs.create(Ir.noDecoEnd,n,e)}static createGasSwitch(n,e,r){return zs.create(Ir.gasSwitch,n,e,r)}static createLowPpO2(n,e){return zs.create(Ir.lowPpO2,n,e)}static createHighPpO2(n,e){return zs.create(Ir.highPpO2,n,e)}static createHighAscentSpeed(n,e){return zs.create(Ir.highAscentSpeed,n,e)}static createHighDescentSpeed(n,e){return zs.create(Ir.highDescentSpeed,n,e)}static createBrokenCeiling(n,e){return zs.create(Ir.brokenCeiling,n,e)}static createMaxEndExceeded(n,e,r){return zs.create(Ir.maxEndExceeded,n,e,r)}static createIsobaricCounterDiffusion(n,e,r){return zs.create(Ir.isobaricCounterDiffusion,n,e,r)}static createHighDensity(n,e,r){return zs.create(Ir.highGasDensity,n,e,r)}static createShallowDepth(n){return zs.create(Ir.minDepth,0,n)}static createMaxDepth(n){return zs.create(Ir.maxDepth,0,n)}static createMissingAirBreak(n,e){return zs.create(Ir.missingAirBreak,n,e)}},Tf=class{constructor(){this.items=[]}add(n){this.items.push(n)}},wb=class{constructor(n,e){this.time=n,this.depth=e}get notAtSurface(){return this.depth>0}static isDecoDive(n){for(let e of n)if(e.notAtSurface)return!0;return!1}},e3=class t{constructor(n,e,r,i){this.seg=n,this.ceil=e,this.tiss=r,this.err=i}get segments(){return this.seg}get ceilings(){return this.ceil}get tissues(){return this.tiss}get errors(){return this.err}static fromErrors(n,e){return new t(n,[],[],e)}static fromProfile(n,e,r){return new t(n,e,r,[])}},_b=class{static validate(n){let e=[];if(!n.hasBottomGas){let r=cs.createError("At least one bottom gas has to be defined.");return e.push(r),e}return e}},Sb=class{constructor(n,e){this.gases=n,this.depthConverter=yo.simple(),this.depthLevels=new n6(this.depthConverter,e)}bestGas(n){let e=this.depthConverter.toBar(n.currentDepth),r=this.depthConverter.toBar(n.maxEnd),i=n.currentGas;return this.gases.all.forEach(s=>{let a=s.mod(n.maxDecoPpO2),o=this.depthLevels.toDecoStop(a),c=s.end(e,n.oxygenNarcotic);n.currentDepth<=o&&c<=r&&(!i||i.fO2<s.fO2)&&(i=s)}),i}airBreakGas(n,e){let r=this.depthConverter.toBar(n);return(0,qc.default)(this.gases.all).filter(s=>da.partialPressure(r,s.fO2)>=da.minPpO2).minBy(s=>s.fO2)||e}},Sl=class t{constructor(){this.items=[]}get all(){return this.items.slice()}get hasBottomGas(){return this.items.length>=1}static fromTanks(n){let e=new t;return n.forEach(r=>{e.add(r.gas)}),e}add(n){this.items.push(n)}isRegistered(n){return this.items.includes(n)}},ys=class t{constructor(n,e){if(this._fO2=n,this._fHe=e,this._contentCode=0,this.contentExceeds100percent())throw new Error("O2 + He can't exceed 100 %");this.updateContentCode()}get fN2(){return 1-this._fO2-this._fHe}get fO2(){return this._fO2}get fHe(){return this._fHe}get name(){return t.nameFor(this.fO2,this.fHe)}get contentCode(){return this._contentCode}set fO2(n){this._fO2=n>1?1:n,this.contentExceeds100percent()&&(this._fHe=this.countRemaining(this._fO2)),this.updateContentCode()}set fHe(n){this._fHe=n>.99?.99:n,this.contentExceeds100percent()&&(this._fO2=this.countRemaining(this._fHe)),this.updateContentCode()}static init(n,e){t.nameFor=n,t.byName=e}copy(){return new t(this._fO2,this._fHe)}mod(n){return da.mod(n,this._fO2)}end(n,e){let r=e?this._fO2:0;return da.end(n,this.fN2,r)}mnd(n,e){let r=e?this._fO2:0;return da.mnd(n,this.fN2,r)}ceiling(n){return da.ceiling(this._fO2,n)}compositionEquals(n){return!!n&&this._fO2===n._fO2&&this._fHe===n._fHe}assignStandardGas(n){let e=t.byName(n);e&&(this.fO2=e.fO2,this.fHe=e.fHe)}contentExceeds100percent(){return this._fO2+this._fHe>1}countRemaining(n){let e=1-n;return Qt.round(e,5)}updateContentCode(){this._contentCode=Qt.round(this._fO2*1e4*1e4)+Qt.round(this._fHe*1e4)}},ma=class t{static{this.oxygen=new ys(1,0)}static{this.ean50=new ys(.5,0)}static{this.ean38=new ys(.38,0)}static{this.ean36=new ys(.36,0)}static{this.ean32=new ys(.32,0)}static{this.trimix3525=new ys(.35,.25)}static{this.trimix2525=new ys(.25,.25)}static{this.air=new ys(da.o2InAir,0)}static{this.trimix2135=new ys(.21,.35)}static{this.trimix1845=new ys(.18,.45)}static{this.trimix1555=new ys(.15,.55)}static{this.trimix1260=new ys(.12,.6)}static{this.trimix1070=new ys(.1,.7)}static{this.airName="Air"}static{this.oxygenName="Oxygen"}static{this.namesRegEx=/[EAN](?<fO2>\d{2})|(?<fO2b>\d{2})\/(?<fHe>\d{2})/i}static{this.map=new Map([[t.airName,t.air],["EAN32",t.ean32],["EAN36",t.ean36],["EAN38",t.ean38],["EAN50",t.ean50],[t.oxygenName,t.oxygen],["Helitrox 35/25",t.trimix3525],["Helitrox 25/25",t.trimix2525],["Helitrox 21/35",t.trimix2135],["Trimix 18/45",t.trimix1845],["Trimix 15/55",t.trimix1555],["Trimix 12/60",t.trimix1260],["Trimix 10/70",t.trimix1070]])}static nitroxNames(){return t.allNames().slice(0,6)}static allNames(){return Array.from(t.map.keys())}static nameFor(n,e=0){let i=Qt.round(n*100),s=Qt.round(e*100);return i<=0?"":s<=0?i>=100?t.oxygenName:i===21?t.airName:"EAN"+i.toString():`${i>=21?"Helitrox":"Trimix"} ${i.toString()}/${s.toString()}`}static byName(n){let e=[...t.map.keys()],r=(0,qc.default)(e).filter(s=>s.toLowerCase()===n.toLowerCase()).first();if(r)return t.map.get(r)??null;let i=t.namesRegEx.exec(n);if(i){if(i[1]){let s=Number(i[1])/100;if(s>0)return new ys(s,0)}if(i[2]&&i[3]){let s=Number(i[2])/100,a=Number(i[3])/100;if(s>0&&a>0)return new ys(s,a)}}return null}};ys.init((t,n)=>ma.nameFor(t,n),t=>ma.byName(t));var Ll=class t{static haveReserve(n){for(let e=0;e<n.length;e++)if(!n[e].hasReserve)return!1;return!0}static resetConsumption(n){n.forEach(e=>{e.consumed=0,e.reserve=0})}static removeTank(n,e){let r=n.filter(i=>i!==e);return t.renumberIds(r),r}static renumberIds(n){for(let e=0;e<n.length;e++){let r=n[e];r.id=e+1}}},Yi=class t{constructor(n,e,r){this.size=n,this.startPressure=e,this.id=0,this.consumed=0,this.reserve=0,this._gas=ma.air.copy(),this.o2=r}get gas(){return this._gas}get o2(){return j7.getO2(this.gas.fO2,this.gas.fHe)}get he(){let n=this.gas.fHe*100;return Qt.roundTwoDecimals(n)}get n2(){let n=100-this.o2-this.he;return Qt.roundTwoDecimals(n)}get volume(){return t.volume(this)}get reserveVolume(){return t.volume2(this.size,this.reserve)}get consumedVolume(){return t.volume2(this.size,this.consumed)}get name(){return this._gas.name}get endPressure(){let n=this.startPressure-this.consumed;return n>0?n:0}get percentsRemaining(){return this.endPressure/this.startPressure*100}get percentsReserve(){let n=this.reserve/this.startPressure*100;return n>100?100:n}get hasReserve(){return this.endPressure>=this.reserve}set o2(n){this._gas.fO2=j7.setO2(n,this.gas.fHe)}set he(n){this.gas.fHe=n/100}static createDefault(){return new t(15,200,da.o2InAir*100)}static volume(n){return t.volume2(n.size,n.startPressure)}static volume2(n,e){return n*e}assignStandardGas(n){this.gas.assignStandardGas(n)}loadFrom(n){this.size=n.size,this.startPressure=n.startPressure,this.consumed=n.consumed,this.reserve=n.reserve,this.gas.fO2=n._gas.fO2,this.gas.fHe=n._gas.fHe}},j7=class t{static{this.pinnedO2=21}static{this.o2InAirPercent=da.o2InAir*100}static getO2(n,e){let r=n*100;return this.isInAirRange(r,e)?t.pinnedO2:Qt.roundTwoDecimals(r)}static setO2(n,e){return this.isInAirRange(n,e)?da.o2InAir:n/100}static isInAirRange(n,e){return t.o2InAirPercent<=n&&n<=t.pinnedO2&&e===0}},Jc=class t{static speed(n,e){let r=n.end-n.start;return t.speedByXChange(e.start,e.end,r)}static speedByXChange(n,e,r){return(e-n)/r}static yValueAt(n,e,r){return n+e*r}static xValueAtAbsolute(n,e,r){let i=this.speed(n,e);return n.start+t.xValueAt(e.start,i,r)}static xValueAt(n,e,r){return e===0?0:(r-n)/e}},Lb=class t{static validate(n,e){let r=[];if(!n.any()){let i=cs.createError("There needs to be at least one segment at depth.");r.push(i)}return n.withAll(i=>{t.validateRegisteredGas(r,e,i)}),r}static validateRegisteredGas(n,e,r){if(!e.isRegistered(r.gas)){let i=`Segment ${r.startDepth}-${r.endDepth} has gas not registered in gases.`,s=cs.createError(i);n.push(s)}}},Ro=class t{constructor(n,e,r,i){this._startDepth=n,this._endDepth=e,this._duration=i,r instanceof Yi?(this._tank=r,this._gas=r.gas):this._gas=r}get startDepth(){return this._startDepth}get endDepth(){return this._endDepth}get duration(){return this._duration}get gas(){return this._gas}get tank(){return this._tank}get speed(){return t.speed(this.startDepth,this.endDepth,this.duration)}get averageDepth(){return(this.startDepth+this.endDepth)/2}set startDepth(n){this._startDepth=n}set endDepth(n){this._endDepth=n}set duration(n){this._duration=n}set tank(n){this._tank=n,n&&(this._gas=n.gas)}static from(n){let e=new t(n.startDepth,n.endDepth,n._gas,n.duration);return e.tank=n.tank,e}static speed(n,e,r){return Jc.speedByXChange(n,e,r)}static depthAt(n,e,r){return Jc.yValueAt(n,e,r)}static timeAt(n,e,r){return Jc.xValueAt(n,e,r)}contentEquals(n){return this.speed===n.speed&&this._gas.compositionEquals(n._gas)}depthAt(n){return t.depthAt(this.startDepth,this.speed,n)}mergeFrom(n){this.duration+=n.duration,this.endDepth=n.endDepth}},Es=class t{constructor(){this.segments=[],this._maxDepth=0}get startAscentIndex(){return this.deepestPart().length}get startAscentTime(){let n=this.deepestPart();return t.duration(n)}get length(){return this.segments.length}get items(){return this.segments.slice()}get maxDepth(){return this._maxDepth}get currentDepth(){return this.any()?this.last().endDepth:0}get duration(){return t.duration(this.segments)}static from(n){return t.fromCollection(n.segments)}static fromCollection(n){let e=new t;return n.forEach(r=>{let i=Ro.from(r);e.segments.push(i),e.updateMaxDepth(i)}),e}static duration(n){let e=0;for(let r of n)e+=r.duration;return e}static averageDepth(n){if(n.length<=0)return 0;let e=0,r=0;return n.forEach(i=>{if(i.duration>0){let s=i.averageDepth*i.duration+r*e;r+=i.duration,e=s/r}}),e}add(n,e,r){let i=new Ro(this.currentDepth,n,e,r);return this.segments.push(i),this.updateMaxDepth(i),i}addFlat(n,e){return this.add(this.currentDepth,n,e)}mergeFlat(n=0){if(n<0)return this.items;let e=[];for(let r=this.segments.length-1;r>n;r--){let i=this.segments[r-1],s=this.segments[r];i.contentEquals(s)&&(i.mergeFrom(s),e.push(s))}return this.segments=this.segments.filter(r=>!e.includes(r)),this.items}remove(n){this.segments=this.segments.filter(e=>e!==n),this.fixStartDepths()}cutDown(n){let e=this.segments.length-n;this.segments=this.segments.slice(0,e),this.fixStartDepths()}withAll(n){for(let e=0;e<this.segments.length;e++)n(this.segments[e])}any(){return this.segments.length!==0}last(){return this.segments[this.segments.length-1]}copy(){return t.from(this)}fixStartDepths(){this.any()&&(this.segments[0].startDepth=0);for(let n=0;n<this.segments.length-1;n++){let e=this.segments[n],r=this.segments[n+1];r.startDepth=e.endDepth,this.updateMaxDepth(r)}}deepestPart(){for(let n=this.segments.length-1;n>=0;n--)if(this.segments[n].endDepth===this.maxDepth)return this.items.slice(0,n+1);return[]}updateMaxDepth(n){n.endDepth>this._maxDepth&&(this._maxDepth=n.endDepth)}},mr=class t{static{this.oneSecond=1}static{this.oneMinute=60}static{this.oneHour=t.oneMinute*60}static{this.oneDay=t.oneHour*24}static{this.safetyStopDuration=t.oneMinute*3}static toSeconds(n){return n*t.oneMinute}static toMinutes(n){return n/t.oneMinute}static toHours(n){return n/t.oneHour}},KE=(()=>{class t{static{this.minimalStep=1}constructor(){}search(e){if(e.maxValue<e.initialValue)throw Error("Max value cant be smaller than initial value");if(e.estimationStep>e.maxValue-e.initialValue)throw Error("Step cant be larger than range");let r=this.findInitialLimit(e);return this.searchInsideInterval(e,r)}searchInsideInterval(e,r){for(;r.right-r.left>t.minimalStep;){let i=r.left+(r.right-r.left)/2;i=Math.round(i),e.doWork(i),e.meetsCondition()?r.left=i:r.right=i}return r.left}findInitialLimit(e){let r=e.initialValue;for(e.doWork(r);e.meetsCondition()&&r<=e.maxValue;)r+=e.estimationStep,e.doWork(r);let i=r-e.estimationStep;i=i<e.initialValue?e.initialValue:i;let s=r>e.maxValue?e.maxValue:r;return{left:i,right:s}}}return t})(),Db=class{constructor(n,e,r){this.depthConverter=n,this.options=e,this.tissues=r,this.lowestCeiling=0,this.lowestCeiling=this.depthConverter.surfacePressure+1}ceiling(){let n=this.tolerated();return n<this.depthConverter.surfacePressure&&(n=this.depthConverter.surfacePressure),this.depthConverter.fromBar(n)}toleratedTissues(n,e,r,i){let s=this.tissues.compartments,a=0;for(let o=0;o<s.length;o++){let c=s[o],l=a;(n/c.b+c.a-n)*r+n<(e/c.b+c.a-e)*i+e&&(l=(-c.a*c.b*(r*e-i*n)-(1-c.b)*(r-i)*e*n+c.b*(e-n)*c.pTotal)/(-c.a*c.b*(r-i)+(1-c.b)*(i*e-r*n)+c.b*(e-n))),l>=a&&(a=l)}return a}tolerated(){let n=this.options.gfLow,e=this.options.gfHigh,r=this.depthConverter.surfacePressure,i=this.tissues.ceiling(n);return i>this.lowestCeiling&&(this.lowestCeiling=i),this.toleratedTissues(r,this.lowestCeiling,e,n)}},QE=(()=>{class t{static{this.sixMeters=6}constructor(e){this.options=e,this.averageDepth=0}markAverageDepth(e){let r=e.deepestPart();this.averageDepth=Es.averageDepth(r)}ascent(e){let r=this.averageDepth/2;return e>t.sixMeters?e>r?this.options.ascentSpeed50perc:this.options.ascentSpeed50percTo6m:this.options.ascentSpeed6m}}return t})(),Df=class{constructor(n,e,r,i,s){this.gases=n,this.segments=e,this.options=r,this.depthConverter=i,this.ceilings=[],this.runTime=0,this._oxygenStarted=0,this.tissues=t6.createLoaded(s),this.gradients=new Db(i,r,this.tissues);let a=e.last();this._currentGas=a.gas,this.bestGasOptions={currentDepth:this.currentDepth,maxDecoPpO2:this.options.maxDecoPpO2,oxygenNarcotic:this.options.oxygenNarcotic,maxEnd:this.options.maxEND,currentGas:this.currentGas},this.speeds=new QE(this.options),this.levels=new n6(i,r),this.gasSource=new Sb(n,r)}get currentGas(){return this._currentGas}get ascentSpeed(){return this.speeds.ascent(this.currentDepth)}get currentDepth(){return this.segments.currentDepth}get addSafetyStop(){return this.levels.addSafetyStop(this.currentDepth,this.segments.maxDepth)}get decoStopDuration(){return this.options.roundStopsToMinutes?mr.oneMinute:mr.oneSecond}get isAtSurface(){return this.segments.last().endDepth===0}get shouldAddAirBreaks(){return this.isBreathingOxygen&&this.options.airBreaks.enabled}get runTimeOnOxygen(){return this.runTime-this._oxygenStarted}get isBreathingOxygen(){return this.currentGas.compositionEquals(ma.oxygen)}set currentGas(n){n.compositionEquals(ma.oxygen)&&!this.isBreathingOxygen&&(this._oxygenStarted=this.runTime),this._currentGas=n}markAverageDepth(){this.speeds.markAverageDepth(this.segments)}addCeiling(){let n=this.ceiling(),e=new wb(this.runTime,n);this.ceilings.push(e)}ceiling(){return this.gradients.ceiling()}bestDecoGas(){return this.bestGasOptions.currentDepth=this.currentDepth,this.bestGasOptions.currentGas=this.currentGas,this.gasSource.bestGas(this.bestGasOptions)}createMemento(){return{runTime:this.runTime,oxygenStarted:this._oxygenStarted,tissues:t6.copy(this.tissues.compartments),ceilings:this.ceilings.length,segments:this.segments.length,lowestCeiling:this.gradients.lowestCeiling}}restore(n){this.tissues.restoreFrom(n.tissues),this.gradients.lowestCeiling=n.lowestCeiling,this.runTime=n.runTime,this._oxygenStarted=n.oxygenStarted,this.ceilings=this.ceilings.slice(0,n.ceilings);let e=this.segments.length-n.segments;this.segments.cutDown(e)}nextStop(n){return this.levels.nextStop(n)}shouldSwitchTo(n){return n&&!this.currentGas.compositionEquals(n)}addAscentSegment(n,e){return this.segments.add(n,this.currentGas,e)}addGasSwitchSegment(){let n=this.options.gasSwitchDuration*mr.oneMinute;return this.addStopSegment(n)}addStopSegment(n){return this.segments.addFlat(this.currentGas,n)}airBreakGas(){return this.gasSource.airBreakGas(this.currentDepth,this.currentGas)}},Tb=class{constructor(n,e){this.context=n,this.remainingStopTime=e,this.maxOxygenTime=this.context.options.airBreaks.oxygenDuration*mr.oneMinute,this.maxBottomGasTime=this.context.options.airBreaks.bottomGasDuration*mr.oneMinute,this._initialStopDuration=Math.min(this.remainingStopTime,this.remainingOxygenTime)}get needsStop(){return this.remainingStopTime>0}get maxGasTime(){return this.context.isBreathingOxygen?this.maxOxygenTime:this.maxBottomGasTime}get stopDuration(){return this._initialStopDuration>0?this._initialStopDuration:Math.min(this.remainingStopTime,this.maxGasTime)}get remainingOxygenTime(){let n=this.maxOxygenTime-this.context.runTimeOnOxygen;return n>0?n:0}switchStopGas(){if(!(this._initialStopDuration>0)){if(this.context.isBreathingOxygen){this.context.currentGas=this.context.airBreakGas();return}this.context.currentGas=this.context.bestDecoGas()}}subtractStopDuration(){if(this._initialStopDuration>0){this.subtractRemainingStopTime(this._initialStopDuration),this._initialStopDuration=0;return}this.subtractRemainingStopTime(this.stopDuration)}subtractRemainingStopTime(n){this.remainingStopTime-=n}},JE=(t,n)=>{let e=mr.toMinutes(n);return t/e},Af=class{constructor(n,e){this.current=n,this.surfaceInterval=e}},Ab=class{constructor(n,e,r){this.previousTissues=n,this.altitude=e,this.surfaceInterval=r}},Dl=class t{constructor(n,e,r,i){this._segments=n,this._gases=e,this._options=r,this._surface=this.resolveSurfaceParameters(i)}get segments(){return this._segments}get gases(){return this._gases}get options(){return this._options}get surfaceInterval(){return new Ab(this._surface.current,this.options.altitude,this._surface.surfaceInterval)}static forSimpleDive(n,e,r,i){let s=new Sl;s.add(e);let a=new Es,o=JE(n,r.descentSpeed);return a.add(n,e,o),new t(a,s,r,i)}static forMultilevelDive(n,e,r,i){return new t(n,e,r,i)}resolveSurfaceParameters(n){if(n&&U7.validCount(n?.current))return n;let e=t6.createLoadedAt(this.options.altitude);return new Af(e,Number.POSITIVE_INFINITY)}},O0=class{noDecoLimit({segments:n,gases:e,options:r,surfaceInterval:i}){let s=new R0(r).create(),a=this.applySurfaceInterval(i),o=new Df(e,n,r,s,a);return this.swimNoDecoLimit(n,e,o)}decompression({segments:n,gases:e,options:r,surfaceInterval:i}){let s=new R0(r).create(),a=n.copy(),o=this.validate(n,e);if(o.length>0){let h=a.mergeFlat(n.length);return e3.fromErrors(h,o)}let c=this.applySurfaceInterval(i),l=new Df(e,a,r,s,c);this.swimPlan(l),l.markAverageDepth();let u=l.nextStop(l.currentDepth);for(;u>=0&&!l.isAtSurface;)this.tryGasSwitch(l),this.stayAtDecoStop(l,u),this.stayAtSafetyStop(l),this.ascentToNextStop(l,u),u=l.nextStop(u);let f=l.segments.mergeFlat(n.length);return e3.fromProfile(f,l.ceilings,l.tissues.finalState())}applySurfaceInterval({previousTissues:n,altitude:e,surfaceInterval:r}){if(!U7.valid(n))throw Error("Provided tissues collection isn`t valid. It needs have valid items of 16 compartments ordered by halftime.");if(e<0)throw Error("Altitude needs to be positive number or 0.");if(r<0)throw Error("Surface interval needs to be positive number or 0.");if(r===Number.POSITIVE_INFINITY)return t6.createLoadedAt(e);let i=new Es,s=i.addFlat(ma.air,r),a=new Sl;a.add(ma.air);let o=new R1(1,1,1.6,1.6,ro.salt);o.altitude=e;let c=new R0(o).create(),l=new Df(a,i,o,c,n);return this.swim(l,s),l.tissues.finalState()}tryGasSwitch(n){let e=n.bestDecoGas();if(n.shouldSwitchTo(e)){n.currentGas=e;let r=n.addGasSwitchSegment();this.swim(n,r)}}stayAtDecoStop(n,e){if(this.needsDecoStop(n,e)){let r=n.createMemento(),i={estimationStep:mr.oneMinute*20,initialValue:0,maxValue:mr.oneDay,doWork:c=>this.swimDecoStop(n,r,c),meetsCondition:()=>this.needsDecoStop(n,e)},a=new KE().search(i)+mr.oneSecond,o=Qt.ceilDistance(a,n.decoStopDuration);this.swimDecoStop(n,r,o)}}swimDecoStop(n,e,r){n.restore(e),this.stayAtStop(n,r)}stayAtSafetyStop(n){n.addSafetyStop&&this.stayAtStop(n,mr.safetyStopDuration)}stayAtStop(n,e){n.shouldAddAirBreaks?this.swimOxygenStop(n,e):this.swimStopDuration(n,e)}swimOxygenStop(n,e){let r=new Tb(n,e);for(;r.needsStop;)r.switchStopGas(),this.swimStopDuration(n,r.stopDuration),r.subtractStopDuration();n.currentGas=ma.oxygen}swimStopDuration(n,e){let r=n.addStopSegment(e);this.swim(n,r)}needsDecoStop(n,e){if(e>=n.ceiling())return!1;let r=n.createMemento();this.ascentToNextStop(n,e);let i=e<n.ceiling();return n.restore(r),i}ascentToNextStop(n,e){let r=n.currentDepth-e,i=JE(r,n.ascentSpeed),s=n.addAscentSegment(e,i);this.swim(n,s)}validate(n,e){let r=Lb.validate(n,e);if(r.length>0)return r;let i=_b.validate(e);return i.length>0?i:[]}swimPlan(n){n.addCeiling(),n.segments.withAll(e=>{this.swim(n,e)})}swim(n,e){let r=e.startDepth,i=mr.oneSecond;for(let s=0;s<e.duration;s+=i){let a=Ro.depthAt(r,e.speed,i),o=new Ro(r,a,e.gas,i);this.swimPart(n,o),r=o.endDepth}}swimPart(n,e){let r=this.toLoadSegment(n.depthConverter,e);n.tissues.load(r,e.gas),n.runTime+=e.duration,n.addCeiling()}swimNoDecoLimit(n,e,r){if(this.validate(n,e).length>0)return 0;this.swimPlan(r);let s=this.currentNdl(r.ceilings);return s!==Number.POSITIVE_INFINITY?s:this.predictNoDecoLimit(n,r)}predictNoDecoLimit(n,e){let r=n.last(),i=r.endDepth,s=new Ro(i,i,r.gas,mr.oneMinute),a=this.toLoadSegment(e.depthConverter,s),o=1;for(;e.ceiling()<=0&&o>0;)o=e.tissues.load(a,r.gas),e.runTime+=mr.oneMinute;return o===0||i===0?Number.POSITIVE_INFINITY:this.floorNdl(e.runTime)}floorNdl(n){let e=mr.toMinutes(n);return e=Qt.floor(e),e-1}currentNdl(n){for(let e=0;e<n.length;e+=mr.oneMinute){let r=n[e];if(r.notAtSurface)return this.floorNdl(r.time)}return Number.POSITIVE_INFINITY}toLoadSegment(n,e){let r=n.toBar(e.speed)-n.surfacePressure;return{startPressure:n.toBar(e.startDepth),duration:e.duration,speed:r}}},F0=class t{static createPlan(n,e,r,i){let s=new Es,a=t.descentDuration(n,i);s.add(n,r,a);let o=mr.toSeconds(e)-a;return o=o<0?0:o,s.addFlat(r,o),s}static descentDuration(n,e){let r=n/e.descentSpeed;return r=Qt.ceil(r,1),r=mr.toSeconds(r),Qt.ceil(r)}static emergencyAscent(n,e,r){let s=Es.fromCollection(n).deepestPart(),a=s.length;t.addSolvingSegment(s,e.problemSolvingDuration),t.addUserDefinedAscent(s,n,a);let o=Es.fromCollection(s),c=Sl.fromTanks(r),l=new O0,u=Dl.forMultilevelDive(o,c,e),h=l.decompression(u).segments;return h.slice(a,h.length)}static addSolvingSegment(n,e){if(n.length===0)return;let r=e*mr.oneMinute,i=n[n.length-1],s=i.endDepth,a=new Ro(s,s,i.gas,r);n.push(a)}static addUserDefinedAscent(n,e,r){for(let i=r;i<e.length;i++){let s=e[i];if(!s.tank)return;n.push(s)}}},G7=class{constructor(){this.remaining=new Map}get(n){return this.remaining.get(n)||0}set(n,e){let r=e>0?e:0;this.remaining.set(n,r)}},F2=(()=>{class t{static{this.defaultPrimaryReserve=30}static{this.defaultStageReserve=20}constructor(e){this.depthConverter=e}static calculateDecompression(e,r,i){let s=Sl.fromTanks(r),a=new O0,o=e.copy(),c=Dl.forMultilevelDive(o,s,i);return a.decompression(c)}consumeFromTanks(e,r,i,s){if(e.length<2)throw new Error("Profile needs to contain at least 2 segments.");let a=F0.emergencyAscent(e,r,i);this.consumeFromTanks2(e,a,i,s)}consumeFromTanks2(e,r,i,s){if(e.length<2)throw new Error("Profile needs to contain at least 2 segments.");Ll.resetConsumption(i),this.updateReserve(r,i,s);let a=l=>l.reserve,o=s.diver.rmv,c=this.toBeConsumedYet(e,o,new G7,l=>!!l.tank);c=this.consumeByTanks(e,c,o,a),c=this.consumeByTanksRemaining(e,c,()=>0),c=this.toBeConsumedYet(e,o,c,l=>!l.tank),c=this.consumeByGases(i,c,a),this.consumeByGases(i,c,()=>0),this.roundTanksConsumedToBars(i)}calculateMaxBottomTime(e,r,i,s){let a=this.createTestProfile(e),o=a.last(),c={estimationStep:mr.oneMinute*40,initialValue:0,maxValue:mr.oneDay,doWork:h=>{o.duration=h,this.consumeFromProfile(a,r,i,s)},meetsCondition:()=>Ll.haveReserve(r)},u=new KE().search(c);if(u===0)return 0;let f=mr.toMinutes(e.duration+u);return Qt.floor(f)}consumeFromProfile(e,r,i,s){let a=t.calculateDecompression(e,r,s);this.consumeFromTanks(a.segments,s,r,i)}createTestProfile(e){let r=e.copy(),i=e.last();return r.addFlat(i.gas,0),r}updateReserve(e,r,i){let s=this.toBeConsumedYet(e,i.diver.teamStressRmv,new G7,()=>!0);for(let a=0;a<=r.length-1;a++){let o=r[a],c=o.gas.contentCode,l=s.get(c);this.updateTankReserve(o,a,i,l);let u=l-o.reserve*o.size;s.set(c,u)}}updateTankReserve(e,r,i,s){let a=Qt.ceil(s/e.size),o=a>e.startPressure?e.startPressure:a;e.reserve=this.ensureMinimalReserve(o,r,i)}ensureMinimalReserve(e,r,i){let s=r===0?i.primaryTankReserve:i.stageTankReserve;return e<s?s:e}consumeByGases(e,r,i){for(let s=e.length-1;s>=0;s--){let a=e[s],o=a.gas.contentCode,c=r.get(o),l=this.consumeFromTank(a,c,i);l=l<0?0:l,c-=l,r.set(o,c)}return r}consumeByTanks(e,r,i,s){let a=mr.toMinutes(i);return this.consumeBySegmentTank(e,r,s,o=>this.consumedBySegment(o,a))}consumeByTanksRemaining(e,r,i){return this.consumeBySegmentTank(e,r,i,(s,a)=>a)}consumeBySegmentTank(e,r,i,s){return e.forEach(a=>{if(a.tank){let o=a.gas.contentCode,c=r.get(o),l=s(a,c),u=this.consumeFromTank(a.tank,l,i);u=u<0?0:u,c-=u,r.set(o,c)}}),r}consumeFromTank(e,r,i){let s=e.endPressure-i(e);s=s>0?s:0;let a=s*e.size,o=r>a?a:r;return e.consumed+=o/e.size,o}toBeConsumedYet(e,r,i,s){let a=mr.toMinutes(r);for(let o=0;o<e.length;o++){let c=e[o];if(s(c)){let u=c.gas.contentCode,f=this.consumedBySegment(c,a),h=i.get(u);h+=f,i.set(u,h)}}return i}consumedBySegment(e,r){let i=this.depthConverter.toBar(e.averageDepth);return Qt.roundTwoDecimals(e.duration)*i*r}roundTanksConsumedToBars(e){e.forEach(r=>r.consumed=Qt.ceil(r.consumed))}}return t})(),$7=class{constructor(n){this.depthConverter=n,this.minimumPpO2=.5}calculateForProfile(n){let e=0;return n.forEach(r=>{let i=r.gas.fO2,s=this.calculate(i,r.startDepth,r.endDepth,r.duration);e+=s}),e}calculate(n,e,r,i){let s=(e+r)/2,a=this.depthConverter.toBar(s),o=n*a;if(o<=this.minimumPpO2)return 0;let c=this.exponentByPpO2(o),l=Math.exp(c);return i*l*100}exponentByPpO2(n){return n<=1.5?-11.7853+1.93873*n:-23.6349+9.80829*n}},e6=(()=>{class t{static{this.imperialTankSize=124.1}static{this.imperialTankWorkPressure=3442}static{this.imperialStageSize=80.1}static{this.imperialStageWorkPressure=3e3}static{this.mertricTankSize=15}static{this.metricStageSize=11.1}}return t})(),zb=class{get available(){return[this.primary,this.stage,{name:"2xLP85",size:165,workingPressure:2640},{name:"S40",size:41.3,workingPressure:3e3},{name:"LP85",size:82.5,workingPressure:2640},{name:"HP80",size:84.4,workingPressure:3442},{name:"HP100",size:106.7,workingPressure:3442}]}get primary(){return{name:"HP117",size:e6.imperialTankSize,workingPressure:e6.imperialTankWorkPressure}}get stage(){return{name:"S80",size:e6.imperialStageSize,workingPressure:e6.imperialStageWorkPressure}}},Eb=class{get available(){return[this.primary,this.stage,{name:"2x12 L",size:24,workingPressure:0},{name:"S40",size:5.7,workingPressure:0},{name:"10L",size:10,workingPressure:0},{name:"12 L",size:12,workingPressure:0}]}get primary(){return{name:"15 L",size:e6.mertricTankSize,workingPressure:0}}get stage(){return{name:"S80",size:e6.metricStageSize,workingPressure:0}}},zf=class{get tanks(){return new Eb}get lastSpeedLevel(){return 6}get autoStopLevel(){return 10}get stopsDistance(){return 3}get recreationalOptions(){return{ascentSpeed50perc:Br.ascentSpeed50perc,ascentSpeed50percTo6m:Br.ascentSpeed50perc,ascentSpeed6m:Br.ascentSpeed50perc,descentSpeed:Br.descentSpeed,lastStopDepth:Br.lastStopDepthRecre,maxEND:Br.maxEND}}get recommendedOptions(){return{ascentSpeed50perc:Br.ascentSpeed50perc,ascentSpeed50percTo6m:Br.ascentSpeed50percTo6m,ascentSpeed6m:Br.ascentSpeed6m,descentSpeed:Br.descentSpeed,lastStopDepth:Br.lastStopDepth,maxEND:Br.maxEND}}},W7=class t{static{this.lastStopDepth=15}static{this.depthDistance=10}static{this.descentSpeed=t.depthDistance*6}static{this.recreSpeed=t.depthDistance*3}static{this.maxEnd=t.depthDistance*10}get tanks(){return new zb}get lastSpeedLevel(){return 20}get autoStopLevel(){return 33}get stopsDistance(){return t.depthDistance}get recreationalOptions(){return{ascentSpeed50perc:t.recreSpeed,ascentSpeed50percTo6m:t.recreSpeed,ascentSpeed6m:t.recreSpeed,descentSpeed:t.descentSpeed,lastStopDepth:t.lastStopDepth,maxEND:t.maxEnd}}get recommendedOptions(){return{ascentSpeed50perc:t.recreSpeed,ascentSpeed50percTo6m:t.depthDistance*2,ascentSpeed6m:t.depthDistance,descentSpeed:t.descentSpeed,lastStopDepth:t.depthDistance,maxEND:t.maxEnd}}},F1=(()=>{class t{static{this.defaultSac=20}constructor(e=t.defaultSac,r){this.rmv=e,this.stressRmv=r||e*1.5}get teamStressRmv(){return this.stressRmv*2}static gasSac(e,r){return e/r}gasSac(e){return t.gasSac(this.rmv,e.size)}loadFrom(e){this.rmv=e.rmv,this.stressRmv=e.stressRmv}}return t})(),r6=class t{static redundancies(n,e){if(t.validateTankFill(n,"tankA"),t.validateTankFill(e,"tankB"),n.size===0&&e.size===0)return 0;let r=n.size+e.size,i=Yi.volume(n),s=Yi.volume(e);return(i+s)/r}static top(n){t.validate(n.source,"Source"),t.validate(n.topMix,"Target");let e=t.pressureO2(n.source)+t.pressureO2(n.topMix),r=t.pressureHe(n.source)+t.pressureHe(n.topMix),i=n.source.pressure+n.topMix.pressure;return i===0?{o2:0,he:0,pressure:0}:{o2:e/i,he:r/i,pressure:i}}static mix(n){t.validate(n.source,"Source"),t.validate(n.target,"Target"),t.validate(n.topMix,"Top");let r=t.n2(n.target)*n.target.pressure,i=t.n2(n.source),s=i*n.source.pressure,a=r-s;if(a=Qt.round(a,8),a<0){let m=-(a/i);return t.mixByRemoving(n,m)}let o=t.n2(n.topMix),c=a/o,l=t.pressureHe(n.target),u=t.pressureHe(n.source),f=c*n.topMix.he,h=l-u-f;if(h=Qt.round(h,8),h<0){let m=-(h/n.source.he);return t.mixByRemoving(n,m)}let p=n.target.pressure-n.source.pressure-h-c;if(p=Qt.round(p,8),p<0){let m=-(p/n.source.o2);return t.mixByRemoving(n,m)}return{addO2:p,addHe:h,addTop:c,removeFromSource:0}}static mixByRemoving(n,e){let r=t.copyRequest(n);if(e>n.source.pressure)throw new Error("Unable to mix required gas because target contains less he or oxygen than top mix.");r.source.pressure-=e;let i=t.mix(r);return i.removeFromSource+=e,i}static n2(n){return 1-n.o2-n.he}static validate(n,e){if(n.o2<0||n.o2>1)throw new Error(`${e} mix contains invalid o2 content. Needs to be in range 0-1.`);if(n.he<0||n.he>1)throw new Error(`${e} mix contains invalid he content. Needs to be in range 0-1.`);if(n.o2+n.he>1)throw new Error(`${e} mix contains invalid N2 content. Needs to be in range 0-1.`)}static validateTankFill(n,e){if(n.size<0)throw new Error(`${e} Volume needs to be positive number.`);if(n.startPressure<0)throw new Error(`${e} Start pressure needs to be positive number.`)}static copyRequest(n){return{source:t.copyTankMix(n.source),target:t.copyTankMix(n.target),topMix:{o2:n.topMix.o2,he:n.topMix.he}}}static copyTankMix(n){return{o2:n.o2,he:n.he,pressure:n.pressure}}static pressureO2(n){return n.o2*n.pressure}static pressureHe(n){return n.he*n.pressure}},Y7=class t{static price(n){t.validateCosts(n);let e=n.addO2*n.o2UnitPrice,r=n.addHe*n.heUnitPrice,i=n.addTop*n.topMixUnitPrice;return{o2Price:e,hePrice:r,topMixPrice:i,totalPrice:e+r+i}}static validateCosts(n){if(n.addO2<0)throw new Error("addO2 must be positive number");if(n.o2UnitPrice<0)throw new Error("o2UnitPrice must be positive number");if(n.addHe<0)throw new Error("addHe must be positive number");if(n.heUnitPrice<0)throw new Error("heUnitPrice must be positive number");if(n.addTop<0)throw new Error("addTop must be positive number");if(n.topMixUnitPrice<0)throw new Error("topMixUnitPrice must be positive number")}},t3=class t{constructor(n,e,r){this.gas=n,this.depth=e,this.density=r}static createDefault(){return new t(ma.air,0,0)}applyHigher(n,e,r){r>this.density&&(this.gas=n,this.density=r,this.depth=e)}},B0=(()=>{class t{constructor(){this.helium=.179,this.nitrogen=1.251,this.oxygen=1.428}static{this.recommendedMaximum=5.7}forGas(e){return this.forContent(e.fO2,e.fHe)}forContent(e,r){let i=1-e-r,s=this.nitrogen*i,a=this.oxygen*e,o=this.helium*r;return s+a+o}}return t})(),i6=class{constructor(n){this.depthConverter=n,this.density=new B0}forProfile(n){let e=t3.createDefault();return n.forEach(r=>{let i=r.gas,s=this.density.forGas(i);this.applyHigher(e,i,r.startDepth,s),this.applyHigher(e,i,r.endDepth,s)}),e}atDepth(n,e){let r=this.density.forGas(n);return this.fromAtaDensity(r,e)}applyHigher(n,e,r,i){let s=this.fromAtaDensity(i,r);n.applyHigher(e,r,s)}fromAtaDensity(n,e){let r=this.depthConverter.toBar(e);return n*r}},Z7=class{constructor(){this.depth=0,this.maxPpO2=1.4,this.oxygenNarcotic=!0,this.narcDepthBars=4,this._tank=Yi.createDefault(),this.depthConverter=yo.simple(),this.densityCalc=new i6(this.depthConverter)}get tank(){return this._tank}get minPpO2Exceeded(){return this.ppO2<da.minPpO2}get maxPpO2Exceeded(){return this.ppO2>this.maxPpO2}get mndExceeded(){return this.end>this.mnd}get densityExceeded(){return this.density>B0.recommendedMaximum}get narcoticDepthLimit(){return this.depthConverter.fromBar(this.narcDepthBars)}get ppO2(){return da.partialPressure(this.depthPressure,this.gas.fO2)}get ppHe(){return da.partialPressure(this.depthPressure,this.gas.fHe)}get ppN2(){return da.partialPressure(this.depthPressure,this.gas.fN2)}get totalPp(){return this.depthPressure}get minDepth(){let n=this.depthConverter.surfacePressure,e=this.gas.ceiling(n);return this.depthConverter.fromBar(e)}get maxDepth(){let n=this.gas.mod(this.maxPpO2);return this.depthConverter.fromBar(n)}get end(){let n=this.gas.end(this.depthPressure,this.oxygenNarcotic);return n<this.depthConverter.surfacePressure&&(n=this.depthConverter.surfacePressure),this.depthConverter.fromBar(n)}get mnd(){let n=this.gas.mnd(this.narcDepthBars,this.oxygenNarcotic);return this.depthConverter.fromBar(n)}get density(){return this.densityCalc.atDepth(this.gas,this.depth)}get gas(){return this.tank.gas}get depthPressure(){return this.depthConverter.toBar(this.depth)}set narcoticDepthLimit(n){this.narcDepthBars=this.depthConverter.toBar(n)}},Ib=class{constructor(n){this.depthLevels=n}gasSwitch(n,e){let r=e/100,i=da.mod(n,r);return this.depthLevels.toDecoStop(i)}},Ef=class{constructor(n,e=da.o2InAir){this.depthConverter=n,this.o2InAir=e}ead(n,e){let r=n/100,i=this.depthConverter.toBar(e),s=da.ead(r,i,this.o2InAir);if(s<=this.depthConverter.surfacePressure)return 0;let a=this.depthConverter.fromBar(s);return a=Qt.fix(a),Qt.ceilTwoDecimals(a)}bestMix(n,e){let r=da.bestMix(n,e,this.depthConverter)*100;return r=Qt.fix(r),Qt.floor(r,2)}mod(n,e){let r=e/100,i=da.mod(n,r);return i=this.depthConverter.fromBar(i),i=Qt.fix(i),Qt.floor(i,2)}partialPressure(n,e){let r=this.depthConverter.toBar(e),i=da.partialPressure(r,n)/100;return i=Qt.fix(i),Qt.ceilTwoDecimals(i)}},O1=class{constructor(n=new R1){this.options=n,this.depthConverter=yo.simple();let e=new n6(this.depthConverter,this.options);this.gasSwitchesCalculator=new Ib(e),this.nitroxCalculator=new Ef(this.depthConverter)}modForGas(n){return this.nitroxCalculator.mod(this.options.maxPpO2,n.o2)}mndForGas(n){let e=this.depthConverter.toBar(this.options.maxEND),r=n.mnd(e,this.options.oxygenNarcotic),i=this.depthConverter.fromBar(r),s=Qt.fix(i);return s=Qt.roundTwoDecimals(s),s}switchDepth(n){return this.gasSwitchesCalculator.gasSwitch(this.options.maxDecoPpO2,n.o2)}maxDepth(n){let e=this.mndForGas(n.gas),r=this.modForGas(n);return Math.min(e,r)}bestNitroxMix(n){let e=this.options.maxPpO2,r=this.nitroxCalculator.bestMix(e,n);return Qt.round(r)}},a6=(()=>{class t{static{this.dailyLimit=300}constructor(e){this.depthConverter=e,this.minPressure=.5}calculateForProfile(e){let r=0;return e.forEach(i=>{let s=i.gas.fO2,a=this.calculate(i.duration,s,i.startDepth,i.endDepth);r+=a}),r}calculate(e,r,i,s){let a=mr.toMinutes(e),o=this.depthConverter.toBar(i),c=this.depthConverter.toBar(s),l=o*r,u=c*r;if(l<=this.minPressure&&u<=this.minPressure)return 0;l<=this.minPressure?(a=a*(u-this.minPressure)/(u-l),l=.501):u<=this.minPressure&&(a=a*(l-this.minPressure)/(l-u),u=.501);let f=l+u-1;return Math.pow(f,5/6)*(1-5*Math.pow(u-l,2)/216/Math.pow(f,2))*a}}return t})(),kb=class{constructor(n,e,r){this.startDepth=n,this.endDepth=e,this.duration=r}get minDepth(){return Math.min(this.startDepth,this.endDepth)}get maxDepth(){return Math.max(this.startDepth,this.endDepth)}get isDescent(){return this.startDepth<this.endDepth}get isStop(){return this.startDepth===this.endDepth}get isAscent(){return this.startDepth>this.endDepth}timeAt(n){let e=Ro.speed(this.startDepth,this.endDepth,this.duration),r=Ro.timeAt(this.startDepth,e,n);return Qt.round(r)}},Nb=class{constructor(n){this.simpleDepths=yo.simple(),this.events=new Tf,this.elapsed=0,this.index=0,this.fixedMnd=!0,this.profile=n.profile,this.options=n.profileOptions,this.startAscentIndex=n.startAscentIndex,this.maxDensity=n.maxDensity,this.exactDepths=new R0(this.options).create(),this.levels=new n6(this.exactDepths,this.options),this.densityAtDepth=new i6(this.exactDepths),this.speeds=new QE(this.options);let e=Es.fromCollection(this.profile);this._maxDepth=e.maxDepth,this._totalDuration=e.duration,this.speeds.markAverageDepth(e),this._mndBars=this.simpleDepths.toBar(this.options.maxEND)}get maxDepth(){return this._maxDepth}get totalDuration(){return this._totalDuration}get previous(){return this.index>0?this.profile[this.index-1]:null}get isBeforeDecoAscent(){return this.index<this.startAscentIndex}get maxPpo(){return this.isBeforeDecoAscent?this.options.maxPpO2:this.options.maxDecoPpO2}get current(){return this.profile[this.index]}get switchingGas(){return!!this.previous&&!this.current.gas.compositionEquals(this.previous.gas)}get switchingTank(){return!!this.previous&&!!this.previous.tank&&!!this.current.tank&&this.previous.tank!==this.current.tank}get brokenOxygenDuration(){return this.current.gas.compositionEquals(ma.oxygen)&&this.current.duration>mr.oneMinute*20}get maxMnd(){return this._mndBars}get currentEndTime(){return this.elapsed+this.current.duration}get atSafetyStop(){if(this.index!==this.profile.length-2)return!1;let n=this.current.startDepth;return this.levels.addSafetyStop(n,this.maxDepth)}gasEnd(n){let e=this.current.gas,r=this.options.oxygenNarcotic;return e.end(n,r)}addElapsed(){this.elapsed=this.currentEndTime}},X7=class t{static fromProfile(n){let e=new Nb(n),r=new Pb(e.events,e.current);for(e.index=0;e.index<n.profile.length;e.index++){let i=this.toPressureSegment(e.current,e.simpleDepths);this.addHighPpO2(e,i),this.addLowPpO2(e,i),this.addGasSwitch(e),this.addUserTankSwitch(e),this.addHighDescentSpeed(e),this.addHighAscentSpeed(e),this.addIsobaricCounterDiffusion(e),this.addMndExceeded(e,i),this.addDensityExceeded(e),this.addSafetyStop(e),this.addMissingAirBreak(e,i),r.assignSegment(e.current),t.addBrokenCeiling(r,n.ceilings),e.addElapsed()}return this.addShallowDepth(e),this.addMaximumDepth(e),e.events}static addHighAscentSpeed(n){let e=n.current,r=mr.toSeconds(e.speed);if(r=Qt.roundTwoDecimals(r),-r>n.speeds.ascent(e.startDepth)){let i=cs.createHighAscentSpeed(n.elapsed,e.startDepth);n.events.add(i)}}static addHighDescentSpeed(n){let e=n.current;if(mr.toSeconds(e.speed)>n.options.descentSpeed){let i=cs.createHighDescentSpeed(n.elapsed,e.startDepth);n.events.add(i)}}static addGasSwitch(n){if(n.switchingGas){let e=n.current,r=cs.createGasSwitch(n.elapsed,e.startDepth,e.gas);n.events.add(r)}}static addUserTankSwitch(n){if(n.switchingTank){let e=n.current,r=cs.createGasSwitch(n.elapsed,e.startDepth,e.gas);n.events.add(r)}}static toPressureSegment(n,e){let r=e.toBar(n.startDepth),i=e.toBar(n.endDepth);return new kb(r,i,n.duration)}static addHighPpO2(n,e){if(e.isDescent||n.isBeforeDecoAscent&&n.switchingGas){let r=n.current.gas.mod(n.maxPpo);if(e.maxDepth>r){let i=e.startDepth,s=n.elapsed;e.startDepth<r&&(i=r,s+=e.timeAt(i));let a=n.simpleDepths.fromBar(i),o=cs.createHighPpO2(s,a);n.events.add(o)}}}static addLowPpO2(n,e){let r=n.current,i=r.gas.ceiling(n.simpleDepths.surfacePressure);if(e.minDepth<i&&n.switchingGas||e.startDepth>i&&i>e.endDepth&&e.isAscent||r.startDepth===0&&e.startDepth<i&&e.isDescent){let a=e.startDepth,o=n.elapsed;e.startDepth>i&&(a=i,o+=e.timeAt(a));let c=n.simpleDepths.fromBar(a),l=cs.createLowPpO2(o,c);n.events.add(l)}}static addBrokenCeiling(n,e){for(;n.lastCeilingIndex<n.currentSegmentEndTime&&n.lastCeilingIndex<e.length-1;){let r=e[n.lastCeilingIndex];n.lastCeilingIndex++,this.addNdlEnd(n,r);let i=n.belowCeiling(r);if(!i&&n.fixedBrokenCeiling){let s=cs.createBrokenCeiling(r.time,r.depth);n.events.add(s),n.fixedBrokenCeiling=!1;break}if(i&&!n.fixedBrokenCeiling&&(n.fixedBrokenCeiling=!0),r.time>n.currentSegmentEndTime)break}}static addNdlEnd(n,e){if(!n.ndlCeilingMarked&&e.depth>0){n.ndlCeilingMarked=!0;let r=e.time-n.currentSegmentStartTime,i=n.current.depthAt(r),s=cs.createNoDecoEnd(e.time,i);n.events.add(s)}}static addIsobaricCounterDiffusion(n){let e=n.current,r=n.previous;if(n.switchingGas&&r){let i=e.gas.fN2-r.gas.fN2,s=e.gas.fHe-r.gas.fHe;if(r.gas.fHe>0&&i*5>-s){let a=cs.createIsobaricCounterDiffusion(n.elapsed,e.startDepth,e.gas);n.events.add(a)}}}static addMndExceeded(n,e){let r=n.current,i=n.gasEnd(e.startDepth),s=n.gasEnd(e.endDepth);if(n.maxMnd<i&&n.fixedMnd||n.maxMnd<s&&n.fixedMnd)if(e.startDepth>n.maxMnd)this.addMndEvent(n,n.elapsed,r.startDepth);else{let a={start:e.startDepth,end:e.endDepth},o={start:n.elapsed,end:n.elapsed+r.duration},c=Jc.xValueAtAbsolute(o,a,n.maxMnd),l=r.depthAt(c-n.elapsed);this.addMndEvent(n,c,l)}n.fixedMnd=s<=n.maxMnd}static addMndEvent(n,e,r){let i=n.current.gas,s=cs.createMaxEndExceeded(e,r,i);n.events.add(s),n.fixedMnd=!0}static addDensityExceeded(n){let e=n.current,r=e.gas,i=e.startDepth,s=e.endDepth,a=e.endDepth>e.startDepth,o=n.switchingGas,c=n.densityAtDepth.atDepth(r,i),l=n.densityAtDepth.atDepth(r,s);if(o&&c>n.maxDensity||a&&l>n.maxDensity)if(e.startDepth>e.endDepth){let u=cs.createHighDensity(n.elapsed,e.startDepth,e.gas);n.events.add(u)}else{let u={start:c,end:l},f={start:n.elapsed,end:n.elapsed+e.duration},h=Jc.xValueAtAbsolute(f,u,n.maxDensity),p=e.depthAt(h-n.elapsed),m=cs.createHighDensity(h,p,e.gas);n.events.add(m)}}static addSafetyStop(n){let e=n.current;if(n.atSafetyStop&&e.duration>=mr.safetyStopDuration){let r=n.elapsed+e.duration-mr.safetyStopDuration,i=cs.createSafetyStopStart(r,e.endDepth);n.events.add(i)}}static addShallowDepth(n){if(n.maxDepth<9&&n.totalDuration>mr.oneHour*5){let e=cs.createShallowDepth(n.maxDepth);n.events.add(e)}}static addMaximumDepth(n){if(n.maxDepth>120){let e=cs.createMaxDepth(n.maxDepth);n.events.add(e)}}static addMissingAirBreak(n,e){if(n.brokenOxygenDuration&&e.isStop){let r=n.elapsed+n.options.airBreaks.oxygenDuration,i=cs.createMissingAirBreak(r,n.current.startDepth);n.events.add(i)}}},Pb=class{constructor(n,e){this.events=n,this.lastCeilingIndex=0,this.currentSegmentStartTime=0,this.currentSegmentEndTime=0,this.fixedBrokenCeiling=!0,this.ndlCeilingMarked=!1,this._current=e}get current(){return this._current}assignSegment(n){this.currentSegmentStartTime=this.currentSegmentEndTime,this.currentSegmentEndTime=this.currentSegmentStartTime+n.duration,this._current=n}belowCeiling(n){let e=n.time-this.currentSegmentStartTime;return this._current.depthAt(e)>=n.depth}},K7=class{constructor(n){this.depthConverter=n}calculateSac(n,e,r,i){let s=this.depthConverter.toBar(n),a=e*r/i/s;return Qt.ceilTwoDecimals(a)}calculateDuration(n,e,r,i){let s=this.depthConverter.toBar(n),a=e*r/i/s;return Qt.ceil(a)}calculateUsed(n,e,r,i){let s=this.depthConverter.toBar(n),a=r*s*i/e;return Qt.ceil(a)}},Q7=class{get name(){return"Metric"}get lengthShortcut(){return"m"}get pressureShortcut(){return"bar"}get volumeShortcut(){return"l"}get weightShortcut(){return"kg"}get altitudeShortcut(){return"m.a.s.l"}get densityShortcut(){return"g/l"}toMeters(n){return n}fromMeters(n){return n}toBar(n){return n}fromBar(n){return n}toLiter(n){return n}fromLiter(n){return n}fromTankLiters(n){return n}toTankLiters(n){return n}fromGramPerLiter(n){return n}toGramPerLiter(n){return n}fromKilogram(n){return n}toKilogram(n){return n}},J7=class t{static{this.psiRate=14.503773773022}static{this.cftRate=28.316846592}static{this.lbRate=2.20462262185}static{this.footRate=.3048}static{this.poundRate=.00220462262}static{this.lbPerCuftRate=t.poundRate*t.cftRate}get name(){return"Imperial"}get lengthShortcut(){return"ft"}get pressureShortcut(){return"psi"}get volumeShortcut(){return"cuft"}get weightShortcut(){return"lb"}get altitudeShortcut(){return"ft.a.s.l"}get densityShortcut(){return"lb/cuft"}toMeters(n){return n*t.footRate}fromMeters(n){return n/t.footRate}toBar(n){return n/t.psiRate}fromBar(n){return n*t.psiRate}toLiter(n){return n*t.cftRate}fromLiter(n){return n/t.cftRate}fromTankLiters(n,e){return this.fromLiter(n)*e}toTankLiters(n,e){return this.toLiter(n)/e}fromGramPerLiter(n){return n*t.lbPerCuftRate}toGramPerLiter(n){return n/t.lbPerCuftRate}fromKilogram(n){return n*t.lbRate}toKilogram(n){return n/t.lbRate}},qE=(()=>{class t{static{this.airDensity=1.225}static tankVolumeWeight(e){let r=e.size*e.consumed;return t.volumeWeight(r)}static volumeWeight(e){return e*t.airDensity/1e3}}return t})(),If=class{static combine(n){return(0,qc.default)(n).groupBy(e=>e.gas.contentCode).map(e=>{let r={gas:e[0].gas,total:0,consumed:0,reserve:0};return(0,qc.default)(e).forEach(i=>{r.total+=i.volume,r.consumed+=i.consumedVolume,r.reserve+=i.reserveVolume}),r}).value()}};var Fn=(()=>{class t{constructor(){this._imperialUnits=!1,this._ranges=t.createMetricRanges(),this.ranges$=new _s(this.ranges),this._defaults=new zf}get ranges(){return this._ranges}get defaults(){return this._defaults}get length(){return this.current.lengthShortcut}get pressure(){return this.current.pressureShortcut}get volume(){return this.current.volumeShortcut}get weight(){return this.current.weightShortcut}get altitude(){return this.current.altitudeShortcut}get speed(){return this.length+n3}get sac(){return this.pressure+n3}get rmv(){return this.volume+n3}get density(){return this.current.densityShortcut}get imperialUnits(){return this._imperialUnits}get current(){return this.ranges.units}set imperialUnits(e){this._imperialUnits=e,this._imperialUnits?(this._ranges=t.createImperial(),this._defaults=new W7):(this._ranges=t.createMetricRanges(),this._defaults=new zf),this.ranges$.next(this.ranges)}static createMetricRanges(){return new Rb}static createImperial(){return new Ob}toLiter(e){return this.current.toLiter(e)}fromLiter(e){return this.current.fromLiter(e)}toMeters(e){return this.current.toMeters(e)}fromMeters(e){return this.current.fromMeters(e)}toBar(e){return this.current.toBar(e)}fromBar(e){return this.current.fromBar(e)}fromTankLiters(e,r){return this.current.fromTankLiters(e,r)}toTankLiters(e,r){return this.current.toTankLiters(e,r)}fromGramPerLiter(e){return this.current.fromGramPerLiter(e)}toGramPerLiter(e){return this.current.toGramPerLiter(e)}fromKilogram(e){return this.current.fromKilogram(e)}toKilogram(e){return this.current.toKilogram(e)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})(),n3="/min",sa=(t,n)=>`${t[0]} - ${t[1]} ${n}`,Rb=class{constructor(){this.units=new Q7,this.altitude=[0,5e3],this.altitudeLevels=[0,300,800,1500],this.altitudeLabel=sa(this.altitude,this.units.altitudeShortcut),this.altitudePressure=[.7,1.2],this.consumed=[0,350],this.consumedLabel=sa(this.consumed,this.units.pressureShortcut),this.depth=[0,350],this.depthLabel=sa(this.depth,this.units.lengthShortcut),this.diverRmv=[5,90],this.diverRmvLabel=sa(this.diverRmv,this.units.volumeShortcut+n3),this.duration=[1,1440],this.durationLabel=sa(this.duration,"min"),this.maxDensity=[1,10],this.maxDensityLabel=sa(this.maxDensity,this.units.densityShortcut),this.densityRounding=1,this.narcoticDepth=[1,100],this.narcoticDepthLabel=sa(this.narcoticDepth,this.units.lengthShortcut),this.nitroxOxygen=[21,100],this.nitroxOxygenLabel=sa(this.nitroxOxygen,"%"),this.lastStopDepth=[3,6],this.lastStopDepthLabel=sa(this.lastStopDepth,this.units.lengthShortcut),this.ppO2=[.21,3],this.rmvRounding=2,this.tankHe=[0,99],this.tankHeLabel=sa(this.tankHe,"%"),this.tankPressure=[1,350],this.tankPressureLabel=sa(this.tankPressure,this.units.pressureShortcut),this.tankSize=[1,50],this.tankSizeLabel=sa(this.tankSize,this.units.volumeShortcut),this.trimixOxygen=[1,100],this.trimixOxygenLabel=sa(this.trimixOxygen,"%"),this.speed=[.1,100],this.speedLabel=sa(this.speed,this.units.lengthShortcut+n3),this.money=[0,1e6],this.moneyLabel=sa(this.money,"")}},Ob=class{constructor(){this.units=new J7,this.altitude=[0,16500],this.altitudeLevels=[0,1e3,2600,5e3],this.altitudeLabel=sa(this.altitude,this.units.altitudeShortcut),this.altitudePressure=[10,18],this.consumed=[0,5100],this.consumedLabel=sa(this.consumed,this.units.pressureShortcut),this.depth=[0,1150],this.depthLabel=sa(this.depth,this.units.lengthShortcut),this.diverRmv=[.17,3.178],this.diverRmvLabel=sa(this.diverRmv,this.units.volumeShortcut+n3),this.duration=[1,1440],this.durationLabel=sa(this.duration,"min"),this.maxDensity=[.0624,.624],this.maxDensityLabel=sa(this.maxDensity,this.units.densityShortcut),this.densityRounding=4,this.narcoticDepth=[1,300],this.narcoticDepthLabel=sa(this.narcoticDepth,this.units.lengthShortcut),this.nitroxOxygen=[21,100],this.nitroxOxygenLabel=sa(this.nitroxOxygen,"%"),this.lastStopDepth=[10,20],this.lastStopDepthLabel=sa(this.lastStopDepth,this.units.lengthShortcut),this.ppO2=[.21,3],this.rmvRounding=4,this.tankHe=[0,99],this.tankHeLabel=sa(this.tankHe,"%"),this.tankPressure=[1,5100],this.tankPressureLabel=sa(this.tankPressure,this.units.pressureShortcut),this.tankSize=[1,300],this.tankSizeLabel=sa(this.tankSize,this.units.volumeShortcut),this.trimixOxygen=[1,100],this.trimixOxygenLabel=sa(this.trimixOxygen,"%"),this.speed=[1,300],this.speedLabel=sa(this.speed,this.units.lengthShortcut+n3),this.money=[0,1e6],this.moneyLabel=sa(this.money,"")}};var kf=function(t){return t[t.ALL=1]="ALL",t[t.HALF=2]="HALF",t[t.THIRD=3]="THIRD",t}(kf||{}),q7=class{constructor(n,e,r){this.units=n,this.segment=e,this.tankBound=r}get duration(){return mr.toMinutes(this.segment.duration)}get startDepth(){let n=this.segment.startDepth;return this.units.fromMeters(n)}get endDepth(){let n=this.segment.endDepth;return this.units.fromMeters(n)}get tank(){return this.tankBound}get tankLabel(){return this.tank.label}set duration(n){this.segment.duration=mr.toSeconds(n)}set endDepth(n){let e=this.units.toMeters(n);this.segment.endDepth=e}set tank(n){this.segment.tank=n.tank,this.tankBound=n}},ep=class{constructor(){this.maxGasDensity=B0.recommendedMaximum,this.primaryTankReserve=F2.defaultPrimaryReserve,this.stageTankReserve=F2.defaultStageReserve,this.icdIgnored=!1,this.noDecoIgnored=!1,this.densityIgnored=!1,this.missingAirBreakIgnored=!1}},r3=class{constructor(n=new R1,e=new F1){this.options=n,this.diver=e}get maxPpO2(){return this.options.maxPpO2}get maxDecoPpO2(){return this.options.maxDecoPpO2}get rmv(){return this.diver.rmv}get stressRmv(){return this.diver.stressRmv}set maxPpO2(n){this.options.maxPpO2=n}set maxDecoPpO2(n){this.options.maxDecoPpO2=n}set rmv(n){this.diver.rmv=n}set stressRmv(n){this.diver.stressRmv=n}loadFrom(n){this.rmv=n.rmv,this.stressRmv=n.stressRmv,this.maxPpO2=n.maxPpO2,this.maxDecoPpO2=n.maxDecoPpO2}gasSac(n){return this.diver.gasSac(n)}},us=class{constructor(n,e){this.tank=n,this.units=e;let i=this.units.defaults.tanks.primary.workingPressure;this._workingPressure=this.units.toBar(i)}get id(){return this.tank.id}get size(){return this.units.fromTankLiters(this.tank.size,this._workingPressure)}get startPressure(){return this.units.fromBar(this.tank.startPressure)}get workingPressure(){return this.units.fromBar(this._workingPressure)}get workingPressureBars(){return this._workingPressure}get o2(){return this.tank.o2}get he(){return this.tank.he}get n2(){return this.tank.n2}get label(){let n=this.units.fromTankLiters(this.tank.size,this._workingPressure);n=Qt.round(n,1);let e=this.units.fromBar(this.tank.startPressure);return e=Qt.round(e,1),`${this.tank.id}. ${this.tank.name}/${n}/${e}`}set id(n){this.tank.id=n}set size(n){this.tank.size=this.units.toTankLiters(n,this._workingPressure)}set startPressure(n){this.tank.startPressure=this.units.toBar(n)}set workingPressure(n){if(isNaN(n))return;let e=this.size;this._workingPressure=this.units.toBar(n),this.size=e}set workingPressureBars(n){if(isNaN(n))return;let e=this.size;this._workingPressure=n,this.size=e}set o2(n){this.tank.o2=n}set he(n){this.tank.he=n}assignTemplate(n){this.workingPressure=n.workingPressure,this.size=n.size}assignStandardGas(n){this.tank.assignStandardGas(n)}};var Oo=(()=>{class t{constructor(e){this.units=e,this.appSettings=new ep}get settings(){return this.appSettings}get maxGasDensity(){return this.units.fromGramPerLiter(this.appSettings.maxGasDensity)}get primaryTankReserve(){return this.units.fromBar(this.appSettings.primaryTankReserve)}get stageTankReserve(){return this.units.fromBar(this.appSettings.stageTankReserve)}get defaultMaxGasDensity(){return this.units.fromGramPerLiter(B0.recommendedMaximum)}get defaultPrimaryTankReserve(){return this.units.fromBar(F2.defaultPrimaryReserve)}get defaultStageTankReserve(){return this.units.fromBar(F2.defaultStageReserve)}get icdIgnored(){return this.appSettings.icdIgnored}get densityIgnored(){return this.appSettings.densityIgnored}get noDecoIgnored(){return this.appSettings.noDecoIgnored}get missingAirBreakIgnored(){return this.appSettings.missingAirBreakIgnored}set maxGasDensity(e){this.appSettings.maxGasDensity=this.units.toGramPerLiter(e)}set primaryTankReserve(e){this.appSettings.primaryTankReserve=this.units.toBar(e)}set stageTankReserve(e){this.appSettings.stageTankReserve=this.units.toBar(e)}set icdIgnored(e){this.appSettings.icdIgnored=e}set densityIgnored(e){this.appSettings.densityIgnored=e}set noDecoIgnored(e){this.appSettings.noDecoIgnored=e}set missingAirBreakIgnored(e){this.appSettings.missingAirBreakIgnored=e}loadFrom(e){this.settings.maxGasDensity=e.maxDensity||B0.recommendedMaximum,this.settings.primaryTankReserve=e.primaryTankReserve||F2.defaultPrimaryReserve,this.settings.stageTankReserve=e.stageTankReserve||F2.defaultStageReserve,this.settings.icdIgnored=e.icdIgnored||!1,this.settings.densityIgnored=e.densityIgnored||!1,this.settings.noDecoIgnored=e.noDecoIgnored||!1,this.settings.missingAirBreakIgnored=e.missingAirBreakIgnored||!1}static{this.\u0275fac=function(r){return new(r||t)($t(Fn))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();var B2=class{constructor(n,e){this.gfLow=n,this.gfHeigh=e}},tp=(()=>{class t{constructor(){this.lowName="Low (45/95)",this.mediumName="Medium (40/85)",this.highName="High (30/75)",this.empty=new B2(1,1),this.gfMap=new Map,this.gfMap.set(this.lowName,new B2(.45,.95)),this.gfMap.set(this.mediumName,new B2(Br.gfLow,Br.gfHigh)),this.gfMap.set(this.highName,new B2(.3,.75))}labelFor(e,r){for(let i of this.gfMap.keys()){let s=this.gfMap.get(i)||this.empty;if(s.gfLow===e&&s.gfHeigh===r)return i}return""}get(e){return this.gfMap.get(e)||this.empty}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();var io=class{static debug(n){Gc.production||console.debug(n)}static warn(n){Gc.production||console.warn(n)}};var Ei=(()=>{class t{constructor(){this.onTanksReloaded=new nr,this.onTankChanged=new nr,this.onTankRemoved=new nr,this.onDepthsReloaded=new nr,this.onDepthChanged=new nr,this.onOptionsReloaded=new nr,this.onOptionsChanged=new nr,this.onSelectedChanged=new nr,this.onInfoCalculated=new nr,this.onWayPointsCalculated=new nr,this.onSetToSimple=new nr,this.tanksReloaded$=this.onTanksReloaded.asObservable(),this.tankRemoved$=this.onTankRemoved.asObservable(),this.tankChanged$=this.onTankChanged.asObservable(),this.depthsReloaded$=this.onDepthsReloaded.asObservable(),this.depthChanged$=this.onDepthChanged.asObservable(),this.optionsReloaded$=this.onOptionsReloaded.asObservable(),this.optionsChanged$=this.onOptionsChanged.asObservable(),this.selectedChanged$=this.onSelectedChanged.asObservable(),this.infoCalculated$=this.onInfoCalculated.asObservable(),this.wayPointsCalculated$=this.onWayPointsCalculated.asObservable(),this.setToSimple$=this.onSetToSimple.asObservable()}sendTanksReloaded(e){io.debug("Tanks reloaded"),this.onTanksReloaded.next(e)}sendTanksRemoved(e){io.debug("Tank removed"),this.onTankRemoved.next(e)}sendTankChanged(){io.debug("Tank changed"),this.onTankChanged.next()}sendDepthChanged(){io.debug("Depth changed"),this.onDepthChanged.next()}sendOptionsReloaded(e){io.debug("Options reloaded"),this.onOptionsReloaded.next(e)}sendOptionsChanged(){io.debug("Options changed"),this.onOptionsChanged.next()}sendSelectedChanged(e){io.debug(`Selected dive changed to ${e}`),this.onSelectedChanged.next()}sendDepthsReloaded(e){io.debug("Depths reloaded"),this.onDepthsReloaded.next(e)}sendWayPointsCalculated(e){this.onWayPointsCalculated.next(e)}sendInfoCalculated(e){this.onInfoCalculated.next(e)}sendSetSimple(){this.onSetToSimple.next()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();var Tl=(()=>{class t{static{this.minimumSpeed=.1}constructor(e,r){this.units=e,this.dispatcher=r,this.safetyOffName="Never",this.safetyOnName="Always",this.standardGradients=new tp,this.options=new R1,this._diver=new F1,this._toxicity=new O1(this.options),this.options.salinity=ro.fresh,this.options.safetyStop=o1.auto}get toxicity(){return this._toxicity}get diverOptions(){return new r3(this.options,this._diver)}get maxEND(){let e=this.options.maxEND;return this.units.fromMeters(e)}get lastStopDepth(){let e=this.options.lastStopDepth;return this.units.fromMeters(e)}get descentSpeed(){let e=this.options.descentSpeed;return this.units.fromMeters(e)}get ascentSpeed6m(){let e=this.options.ascentSpeed6m;return this.units.fromMeters(e)}get ascentSpeed50percTo6m(){let e=this.options.ascentSpeed50percTo6m;return this.units.fromMeters(e)}get ascentSpeed50perc(){let e=this.options.ascentSpeed50perc;return this.units.fromMeters(e)}get altitude(){let e=this.options.altitude;return this.units.fromMeters(e)}get gasSwitchDuration(){return this.options.gasSwitchDuration}get gfLow(){return this.options.gfLow}get gfHigh(){return this.options.gfHigh}get maxDecoPpO2(){return this.options.maxDecoPpO2}get maxPpO2(){return this.options.maxPpO2}get oxygenNarcotic(){return this.options.oxygenNarcotic}get problemSolvingDuration(){return this.options.problemSolvingDuration}get roundStopsToMinutes(){return this.options.roundStopsToMinutes}get salinity(){return this.options.salinity}get safetyAutoName(){return`Auto (> ${this.units.defaults.autoStopLevel} ${this.units.length})`}get safetyStopOption(){switch(this.options.safetyStop){case o1.never:return this.safetyOffName;case o1.always:return this.safetyOnName;default:return this.safetyAutoName}}get airBreaks(){return this.options.airBreaks}set maxEND(e){this.options.maxEND=this.units.toMeters(e)}set lastStopDepth(e){this.options.lastStopDepth=this.units.toMeters(e)}set descentSpeed(e){let r=this.units.toMeters(e);r<t.minimumSpeed||(this.options.descentSpeed=r)}set ascentSpeed6m(e){let r=this.units.toMeters(e);r<t.minimumSpeed||(this.options.ascentSpeed6m=r)}set ascentSpeed50percTo6m(e){let r=this.units.toMeters(e);r<t.minimumSpeed||(this.options.ascentSpeed50percTo6m=r)}set ascentSpeed50perc(e){let r=this.units.toMeters(e);r<t.minimumSpeed||(this.options.ascentSpeed50perc=r)}set altitude(e){this.options.altitude=this.units.toMeters(e)}set gasSwitchDuration(e){this.options.gasSwitchDuration=e}set gfLow(e){this.options.gfLow=e}set gfHigh(e){this.options.gfHigh=e}set maxDecoPpO2(e){this.options.maxDecoPpO2=e}set maxPpO2(e){this.options.maxPpO2=e}set oxygenNarcotic(e){this.options.oxygenNarcotic=e}set problemSolvingDuration(e){this.options.problemSolvingDuration=e}set roundStopsToMinutes(e){this.options.roundStopsToMinutes=e}set salinity(e){this.options.salinity=e}useRecreational(){let e=this.units.defaults.recreationalOptions;this.applyValues(e)}useRecommended(){let e=this.units.defaults.recommendedOptions;this.applyValues(e)}useSafetyOff(){this.options.safetyStop=o1.never}useSafetyAuto(){this.options.safetyStop=o1.auto}useSafetyOn(){this.options.safetyStop=o1.always}loadFrom(e,r){this.options.loadFrom(e);let i=new r3(e,r);this.applyDiver(i),this.dispatcher.sendOptionsReloaded(this)}applyDiver(e){this.diverOptions.loadFrom(e)}resetToSimple(){this.standardGradients.labelFor(this.gfLow,this.gfHigh)===""&&Br.setMediumConservatism(this.options)}getOptions(){return this.options}getDiver(){return this._diver}switchAirBreaks(){this.airBreaks.enabled=!this.airBreaks.enabled}applyValues(e){this.options.ascentSpeed50perc=this.units.toMeters(e.ascentSpeed50perc),this.options.ascentSpeed50percTo6m=this.units.toMeters(e.ascentSpeed50percTo6m),this.options.ascentSpeed6m=this.units.toMeters(e.ascentSpeed6m),this.options.descentSpeed=this.units.toMeters(e.descentSpeed),this.options.lastStopDepth=this.units.toMeters(e.lastStopDepth),this.options.maxEND=this.units.toMeters(e.maxEND),Br.useGeneralRecommended(this.options)}static{this.\u0275fac=function(r){return new(r||t)($t(Fn),$t(Ei))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();var Fb=G1(n2());var o6=(()=>{class t{constructor(e,r){this.units=e,this.dispatcher=r,this._tanks=[];let i=this.units.defaults.tanks;this.addTankBy(i.primary.size,i.primary.workingPressure)}get defaults(){return this.units.defaults}get tanks(){return this._tanks.slice()}get firstTank(){return this._tanks[0]}get singleTank(){return this._tanks.length===1}get enoughGas(){return Ll.haveReserve(this.tankData)}get tankData(){return(0,Fb.default)(this._tanks).map(e=>e.tank).value()}addTank(){let e=this.units.defaults.tanks;this.addTankBy(e.stage.size,e.stage.workingPressure),this.dispatcher.sendTankChanged()}removeTank(e){this._tanks=this._tanks.filter(r=>r!==e),this.renumberIds(),this.dispatcher.sendTanksRemoved(e.tank)}loadFrom(e){if(e.length>0){let r=[];for(let i=0;i<e.length;i++){let s=e[i];this.addTankFor(r,s)}this._tanks=r}this.dispatcher.sendTanksReloaded(this)}copyTanksConsumption(e){for(let r=0;r<this.tanks.length;r++){let i=e[r],s=this.tanks[r];s.tank.consumed=i.consumed,s.tank.reserve=i.reserve}}calculateTurnPressure(){let e=this.firstTank.tank.consumed/2;return this.firstTank.startPressure-Qt.floor(e)}resetToSimple(){this._tanks=this._tanks.slice(0,1),this.firstTank.he>0&&this.firstTank.tank.assignStandardGas(ma.airName)}firstBy(e){return(0,Fb.default)(this._tanks).find(r=>r.tank===e)}addTankBy(e,r){let i=Yi.createDefault(),s=this.addTankFor(this._tanks,i);s.workingPressure=r,s.size=e}addTankFor(e,r){let i=new us(r,this.units);return e.push(i),i.id=e.length,i}renumberIds(){for(let e=0;e<this._tanks.length;e++){let r=this._tanks[e];r.id=e+1}}static{this.\u0275fac=function(r){return new(r||t)($t(Fn),$t(Ei))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();var l6=(()=>{class t{constructor(){this.noDecoTime=0,this.maxTime=0,this.timeToSurface=0,this.turnPressure=0,this.turnTime=0,this.needsReturn=!1,this.notEnoughGas=!1,this.notEnoughTime=!1,this.planDuration=0,this.emergencyAscentStart=0,this.averageDepth=0,this.otu=0,this.cns=0,this.highestDensity=t3.createDefault(),this.wayPoints=[],this.ceilings=[],this.finalTissues=[],this.events=[],this._calculatingProfile=!1,this._calculatingDiveInfo=!1,this._calculatingConsumption=!1,this._profileCalculated=!1,this._diveInfoCalculated=!1,this._consumptionCalculated=!1,this._calculationFailed=!1}static{this.maxAcceptableNdl=1e3}get diveInfoCalculated(){return this._diveInfoCalculated}get calculated(){return this._consumptionCalculated&&this.diveInfoCalculated}get running(){return!this.calculated||this._calculatingConsumption||this._calculatingDiveInfo}get profileCalculated(){return this._profileCalculated}get failed(){return this._calculationFailed}get totalDuration(){return this.wayPoints.length===0?0:this.wayPoints[this.wayPoints.length-1].endTime}get ndlValid(){return this._diveInfoCalculated&&this.noDecoTime<t.maxAcceptableNdl}get noDecoExceeded(){return this.planDuration>this.noDecoTime}get hasErrors(){return this.calculated&&(this.failed||this.notEnoughTime)}get showResults(){return this._consumptionCalculated&&!this.hasErrors}get otuExceeded(){return this.otu>.8*a6.dailyLimit}get cnsExceeded(){return this.cns>80}get showMaxDuration(){return this._consumptionCalculated&&this.showMaxBottomTime}get showMaxBottomTime(){return this.maxTime>0}get hasErrorEvent(){return this.hasErrors||this.notEnoughGas}get hasWarningEvent(){return this.otuExceeded||this.cnsExceeded||!this.events.every(e=>{switch(e.type){case Ir.lowPpO2:case Ir.highPpO2:case Ir.highAscentSpeed:case Ir.highDescentSpeed:case Ir.brokenCeiling:case Ir.isobaricCounterDiffusion:case Ir.maxEndExceeded:case Ir.highGasDensity:return!1;default:return!0}})}get endsOnSurface(){let e=this.wayPoints.length;return e>0&&this.wayPoints[e-1].endDepthMeters===0}start(){this._calculatingConsumption=!0,this._calculatingProfile=!0,this._calculatingDiveInfo=!0,this._calculationFailed=!1}showStillRunning(){this._calculatingProfile&&(this._profileCalculated=!1,this.emptyProfile()),this._calculatingDiveInfo&&(this._diveInfoCalculated=!1),this._calculatingConsumption&&(this._consumptionCalculated=!1)}profileFinished(){this._profileCalculated=!0,this._calculatingProfile=!1}diveInfoFinished(){this._diveInfoCalculated=!0,this._calculatingDiveInfo=!1}consumptionFinished(){this._consumptionCalculated=!0,this._calculatingConsumption=!1}endFailed(){this.profileFinished(),this.diveInfoFinished(),this.consumptionFinished(),this.emptyProfile(),this._calculationFailed=!0}emptyProfile(){this.wayPoints=[],this.ceilings=[],this.events=[]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();var np=class t{static{this.defaultDuration=mr.oneMinute*10}constructor(){this.strategy=kf.ALL,this._segments=new Es}get length(){return this._segments.length}get minimumSegments(){return this.length>1}get notEnoughTime(){return this.length===2&&this.segments[1].duration===0}get segments(){return this._segments.items}get maxDepth(){return this._segments.maxDepth}get startAscentIndex(){return this._segments.startAscentIndex}get startAscentTime(){return this._segments.startAscentTime}get duration(){let n=this._segments.duration;return mr.toMinutes(n)}get availablePressureRatio(){return this.strategy===kf.THIRD?2/3:1}get needsReturn(){return this.strategy!==kf.ALL}copySegments(){return this._segments.copy()}setSimple(n,e,r,i){this.reset(n,e,r,i)}assignDepth(n,e,r){this._segments=F0.createPlan(n,this.duration,e,r)}assignDuration(n,e,r){this._segments=F0.createPlan(this.maxDepth,n,e,r)}addSegment(n){let e=this._segments.last(),r=this._segments.add(e.endDepth,n.gas,t.defaultDuration);r.tank=n}removeSegment(n){this._segments.remove(n)}fixDepths(){this._segments.fixStartDepths()}loadFrom(n){n.length<=1||(this._segments=Es.fromCollection(n))}resetSegments(n,e){this.segments.forEach(r=>{r.tank===n&&(r.tank=e)})}reset(n,e,r,i){this._segments=F0.createPlan(n,e,r,i)}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}};var ji=(()=>{class t{constructor(){this.unsubscribe$=new nr}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();var rp=(()=>{class t extends ji{constructor(e,r,i,s,a){if(super(),this.units=e,this.tanksService=r,this.dive=i,this.optionsService=s,this.dispatcher=a,this._levels=[],this.plan=new np,this.toxicity=this.optionsService.toxicity,this.plan.maxDepth===0){let o=this.units.defaults.stopsDistance*10;o=this.units.toMeters(o);let c=this.optionsService.getOptions();this.plan.setSimple(o,12,this.firstTank,c)}this.dispatcher.tankRemoved$.pipe(er(this.unsubscribe$)).subscribe(o=>this.tankRemoved(o)),this.updateLevels()}get levels(){return this._levels}get segments(){return this.plan.segments}get bestNitroxMix(){let e=this.toxicity.bestNitroxMix(this.plan.maxDepth)/100;return ma.nameFor(e)}get plannedDepth(){return this.units.fromMeters(this.plannedDepthMeters)}get plannedDepthMeters(){return this.plan.maxDepth}get planDuration(){return this.plan.duration}get notEnoughTime(){return this.plan.notEnoughTime}get startAscentTime(){return this.plan.startAscentTime}get needsReturn(){return this.plan.needsReturn}get startAscentIndex(){return this.plan.startAscentIndex}get minimumSegments(){return this.plan.minimumSegments}get firstTank(){return this.tanksService.firstTank.tank}set plannedDepth(e){let r=this.units.toMeters(e);this.assignDepth(r),this.levelChanged()}set planDuration(e){this.plan.assignDuration(e,this.firstTank,this.optionsService.getOptions()),this.updateLevels(),this.apply()}addSegment(){this.addSegmentToPlan(),this.updateLevels(),this.levelChanged()}removeSegment(e){this.plan.removeSegment(e.segment),this.updateLevels(),this.levelChanged()}applyMaxDuration(){this.planDuration=this.dive.maxTime}applyNdlDuration(){this.planDuration=this.dive.noDecoTime}applyMaxDepth(){let e=this.toxicity.maxDepth(this.firstTank),r=this.units.fromMeters(e);r=Qt.floor(r,1),e=this.units.toMeters(r),this.assignDepth(e),this.levelChanged()}levelChanged(){this.plan.fixDepths(),this.apply()}assignTank(e,r){e.tank=r,this.apply()}loadFrom(e){this.plan.loadFrom(e),this.depthsReloaded()}setSimple(){this.plan.setSimple(this.plan.maxDepth,this.plan.duration,this.firstTank,this.optionsService.getOptions()),this.updateLevels()}fixDepths(){this.plan.fixDepths()}assignDepth(e){let r=this.optionsService.getOptions();this.plan.assignDepth(e,this.firstTank,r),this.updateLevels()}addSegmentToPlan(){let e=this.plan.segments,i=e[e.length-1].tank;this.plan.addSegment(i)}apply(){this.dispatcher.sendDepthChanged()}tankRemoved(e){this.plan.resetSegments(e,this.firstTank),this.dispatcher.sendDepthChanged()}updateLevels(){let e=this.plan.segments,r=[];e.forEach(i=>{let s=i.tank,a=this.tanksService.firstBy(s),o=new q7(this.units,i,a);r.push(o)}),this._levels=r}depthsReloaded(){this.updateLevels(),this.dispatcher.sendDepthsReloaded(this)}static{this.\u0275fac=function(r){return new(r||t)($t(Fn),$t(o6),$t(l6),$t(Tl),$t(Ei))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();var tI=G1(n2());var Na=class t{static selectChartTimeFormat(n){return t.hasHoursRuntime(n)?"%H:%M:%S":"%M:%S"}static selectTimeFormat(n){return t.hasHoursRuntime(n)?"mm:ss":"m:ss"}static toDate(n){return new Date(1970,1,1,0,0,n,0)}static secondsFromDate(n){let e=new Date(n),r=e.getSeconds();return r+=e.getMinutes()*mr.oneMinute,r+=e.getHours()*mr.oneHour,r}static parseToShortTime(n){if(!n)return null;let e=/(\d{2})[:](\d{2})/,r=n.match(e);if(r){let i=Number(r[1])*mr.oneHour,s=Number(r[2])*mr.oneMinute;return i+s}return null}static formatShortTime(n){let r=Qt.floor(n/mr.oneHour).toString().padStart(2,"0"),i=n%mr.oneHour/mr.oneMinute;i=Qt.floor(i);let s=i.toString().padStart(2,"0");return`${r}:${s}`}static hasHoursRuntime(n){return mr.toHours(n)>=1}};var Bb=class{constructor(n,e,r){this._index=n,this.units=e,this.dispatcher=r,this._id=0,this._surfaceInterval=Number.POSITIVE_INFINITY,this._diveResult=new l6,this.assignIndex(n),this._tanks=new o6(e,r),this._optionsService=new Tl(this.units,this.dispatcher),this._depths=new rp(this.units,this.tanksService,this._diveResult,this._optionsService,this.dispatcher)}get index(){return this._index}get id(){return this._id}get isFirst(){return this.id===1}get surfaceInterval(){return this._surfaceInterval}get surfaceIntervalText(){return this.isRepetitive?Na.formatShortTime(this.surfaceInterval):null}get isRepetitive(){return this.surfaceInterval!==Number.POSITIVE_INFINITY}get tanksService(){return this._tanks}get diveResult(){return this._diveResult}get depths(){return this._depths}get optionsService(){return this._optionsService}get title(){let n=Qt.round(this.depths.plannedDepth),e=this.units.length,r=this.depths.planDuration;return`${this.id}. ${n} ${e}, ${r} min`}set surfaceInterval(n){this.isFirst||n<0||(this._surfaceInterval=n,this.dispatcher.sendDepthChanged())}assignIndex(n){this._index=n,this._id=n+1}applyNitrox(n,e){this.tanksService.firstTank.tank.o2=n,this.optionsService.diverOptions.maxPpO2=e}setSimple(){this.optionsService.resetToSimple(),this.tanksService.resetToSimple(),this.depths.setSimple()}applyPrimarySurfaceInterval(){this.surfaceInterval=Number.POSITIVE_INFINITY}applyOneHourSurfaceInterval(){this.surfaceInterval=mr.oneHour}apply30MinutesSurfaceInterval(){this.surfaceInterval=mr.oneMinute*30}apply2HourSurfaceInterval(){this.surfaceInterval=mr.oneHour*2}},kr=(()=>{class t{constructor(e,r){this.units=e,this.dispatcher=r,this._dives=[],this.add(),this._selected=this._dives[0]}get dives(){return this._dives.slice()}get selected(){return this._selected}get length(){return this._dives.length}get hasMany(){return this._dives.length>1}get empty(){return this.length<=1}get selectedTanks(){return this.selected.tanksService}get selectedResult(){return this.selected.diveResult}get selectedDepths(){return this.selected.depths}get selectedOptions(){return this.selected.optionsService}get selectedToxicity(){return this.selected.optionsService.toxicity}set selected(e){this._dives.includes(e)&&(this._selected=e,this.dispatcher.sendSelectedChanged(e.id))}setSelectedIndex(e){e>=0&&e<this._dives.length&&(this.selected=this._dives[e])}add(){let e=this.createDiveSchedule();return this._dives.push(e),this._selected=e,e}remove(e){this.empty||(this._dives=this._dives.filter(r=>r!==e),this.renumber(),this.selectPreviousDive(e),this.dispatcher.sendDepthChanged())}clear(){this._dives.splice(1,this._dives.length)}setSimple(){this._dives.forEach(e=>{e.setSimple()}),this.dispatcher.sendSetSimple()}validId(e){return this._dives[this._dives.length-1].id>=e&&e>0}byId(e){return(0,tI.default)(this.dives).filter(r=>r.id===e).first()}createDiveSchedule(){return new Bb(this.length,this.units,this.dispatcher)}renumber(){this._dives.forEach((e,r)=>{e.assignIndex(r)})}selectPreviousDive(e){let r=e.id-1,i=r>0?r-1:0;this._selected=this._dives[i]}static{this.\u0275fac=function(r){return new(r||t)($t(Fn),$t(Ei))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();var c6=(()=>{class t{constructor(e,r,i){this.units=e,this.appSettings=r,this.schedules=i}get ranges(){return this.units.ranges}apply(){this.applyToAppSettings(),this.schedules.dives.forEach(e=>this.applyDive(e))}applyDive(e){this.applyToOptions(e.optionsService),this.normalizeTanks(e.tanksService),this.normalizeSegments(e.depths)}applyToAppSettings(){let e=this.appSettings.settings,r=this.units.ranges.densityRounding;e.maxGasDensity=this.fitUnit(i=>this.units.fromGramPerLiter(i),i=>this.units.toGramPerLiter(i),e.maxGasDensity,this.units.ranges.maxDensity,r),e.primaryTankReserve=this.fitPressureToRange(e.primaryTankReserve,this.ranges.tankPressure),e.stageTankReserve=this.fitPressureToRange(e.stageTankReserve,this.ranges.tankPressure)}applyToOptions(e){let r=e.diverOptions,i=this.units.ranges.rmvRounding;e.diverOptions.rmv=this.fitUnit(s=>this.units.fromLiter(s),s=>this.units.toLiter(s),r.rmv,this.units.ranges.diverRmv,i),e.diverOptions.stressRmv=this.fitUnit(s=>this.units.fromLiter(s),s=>this.units.toLiter(s),r.stressRmv,this.units.ranges.diverRmv,i),this.applyOptionsCalculationValues(e),this.normalizeOptions(e)}applyOptionsCalculationValues(e){let r=this.units.defaults,i=e.getOptions();i.decoStopDistance=this.units.toMeters(r.stopsDistance),i.minimumAutoStopDepth=this.units.toMeters(r.autoStopLevel),i.lastStopDepth=this.units.toMeters(r.stopsDistance)}normalizeOptions(e){let r=this.ranges.altitude,i=this.ranges.speed;e.altitude=this.fitUnit(s=>s,s=>s,e.altitude,r),e.ascentSpeed50perc=this.fitUnit(s=>s,s=>s,e.ascentSpeed50perc,i),e.ascentSpeed50percTo6m=this.fitUnit(s=>s,s=>s,e.ascentSpeed50percTo6m,i),e.ascentSpeed6m=this.fitUnit(s=>s,s=>s,e.ascentSpeed6m,i),e.descentSpeed=this.fitUnit(s=>s,s=>s,e.descentSpeed,i),e.lastStopDepth=this.fitUnit(s=>s,s=>s,e.lastStopDepth,this.ranges.lastStopDepth),e.maxEND=this.fitUnit(s=>s,s=>s,e.maxEND,this.ranges.narcoticDepth)}normalizeTanks(e){let r=e.tanks,i=this.units.defaults.tanks;r.forEach(s=>{let a=s.tank;if(this.units.imperialUnits){let o=a.size;s.workingPressure===0&&(s.workingPressure=i.primary.workingPressure),s.workingPressureBars=this.fitPressureToRange(s.workingPressureBars,this.ranges.tankPressure),s.size=this.units.fromTankLiters(o,s.workingPressureBars)}else s.workingPressureBars=0;a.startPressure=this.fitPressureToRange(a.startPressure,this.ranges.tankPressure),a.size=this.fitTankSizeToRange(a.size,s.workingPressureBars,this.ranges.tankSize)})}normalizeSegments(e){e.segments.forEach(i=>{i.startDepth=this.fitLengthToRange(i.startDepth,this.ranges.depth),i.endDepth=this.fitLengthToRange(i.endDepth,this.ranges.depth)}),e.fixDepths()}fitLengthToRange(e,r){return this.fitUnit(i=>this.units.fromMeters(i),i=>this.units.toMeters(i),e,r)}fitPressureToRange(e,r){return this.fitUnit(i=>this.units.fromBar(i),i=>this.units.toBar(i),e,r)}fitTankSizeToRange(e,r,i){return this.fitUnit(s=>this.units.fromTankLiters(s,r),s=>this.units.toTankLiters(s,r),e,i,1)}fitUnit(e,r,i,s,a=0){let o=e(i);return o=Qt.round(o,a),o=this.fitToRange(o,s[0],s[1]),r(o)}fitToRange(e,r,i){return e>i?i:e<r?r:e}static{this.\u0275fac=function(r){return new(r||t)($t(Fn),$t(Oo),$t(kr))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();var Hr=(()=>{class t{static{this.dashboard="dashboard"}static{this.nitrox="nitrox"}static{this.sac="sac"}static{this.ndl="ndl"}static{this.settings="settings"}static{this.about="about"}static{this.altitude="altitude"}static{this.weight="weight"}static{this.gas="gas"}static{this.diff="diff"}static{this.redundancies="redundancies"}static{this.blender="blender"}}return t})(),V2=(()=>{class t{constructor(){this.states=new Map,this._lastView=Hr.dashboard,this._started=!1}get lastView(){return this._lastView}get started(){return this._started}get redirectToView(){return!this._started&&this._lastView!==Hr.dashboard&&this._lastView!=="/"}get all(){return[...this.states.values()]}get(e){return this.states.get(e)}set(e){this._started=!0,this.states.set(e.id,e),this._lastView=e.id}reset(){this.loadFrom({lastScreen:Hr.dashboard,states:[]})}loadFrom(e){!e||!e.states||(this._lastView=e.lastScreen,this.states.clear(),e.states.forEach(r=>{this.states.set(r.id,r)}))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();var rI=G1(n2());var Hb=G1(n2());var Gi=class t{static toTanks(n){let e=[];return n.forEach(r=>{let i=new Yi(r.size,r.startPressure,0);i.id=r.id,i.gas.fO2=r.gas.fO2,i.gas.fHe=r.gas.fHe,e.push(i)}),Ll.renumberIds(e),e}static fromTanks(n){let e=[];return n.forEach(r=>{let i=r.tank,s={id:i.id,size:i.size,workPressure:r.workingPressureBars,startPressure:i.startPressure,gas:t.fromGas(i.gas)};e.push(s)}),e}static toConsumed(n){let e=[];for(let r=0;r<n.length;r++){let i=n[r],s={id:i.id,consumed:i.consumed,reserve:i.reserve};e.push(s)}return e}static toSegments(n,e){let r=[];for(let i=0;i<n.length;i++){let s=n[i],a=t.toGas(s.gas),o=new Ro(s.startDepth,s.endDepth,a,s.duration);if(s.tankId>0&&s.tankId<=e.length){let c=s.tankId-1;o.tank=e[c]}r.push(o)}return r}static fromSegments(n){let e=[];return n.forEach(r=>{let i=r.tank?r.tank.id:0,s={startDepth:r.startDepth,endDepth:r.endDepth,duration:r.duration,tankId:i,gas:t.fromGas(r.gas)};e.push(s)}),e}static toProfile(n,e){let r=t.toSegments(n.segments,e);if(n.errors.length>0){let s=t.toEvents(n.errors);return e3.fromErrors(r,s.items)}let i=t.toTissues(n.tissues);return e3.fromProfile(r,n.ceilings,i)}static fromProfile(n){return{segments:t.fromSegments(n.segments),ceilings:n.ceilings,tissues:t.fromTissues(n.tissues),errors:t.fromEvents(n.errors)}}static toTissues(n){return(0,Hb.default)(n).map(e=>({pN2:e.pN2,pHe:e.pHe,a:e.a,b:e.b})).value()}static fromTissues(n){return(0,Hb.default)(n).map(e=>({pN2:e.pN2,pHe:e.pHe,a:e.a,b:e.b})).value()}static toEvents(n){let e=new Tf;return n.forEach(r=>{let i=zs.create(r.type,r.timeStamp,r.depth);i.message=r.message,r.gas&&(i.gas=t.toGas(r.gas)),e.add(i)}),e}static fromEvents(n){let e=[];return n.forEach(r=>{let i={timeStamp:r.timeStamp,depth:r.depth,type:r.type,message:r.message};r.gas&&(i.gas=t.fromGas(r.gas)),e.push(i)}),e}static fromDiver(n){return{rmv:n.rmv,stressRmv:n.stressRmv}}static toDiver(n){return new F1(n.rmv,n.stressRmv)}static fromOptions(n){return{gfLow:n.gfLow,gfHigh:n.gfHigh,maxPpO2:n.maxPpO2,maxDecoPpO2:n.maxDecoPpO2,salinity:n.salinity,altitude:n.altitude,roundStopsToMinutes:n.roundStopsToMinutes,gasSwitchDuration:n.gasSwitchDuration,safetyStop:n.safetyStop,lastStopDepth:n.lastStopDepth,decoStopDistance:n.decoStopDistance,minimumAutoStopDepth:n.minimumAutoStopDepth,maxEND:n.maxEND,oxygenNarcotic:n.oxygenNarcotic,ascentSpeed6m:n.ascentSpeed6m,ascentSpeed50percTo6m:n.ascentSpeed50percTo6m,ascentSpeed50perc:n.ascentSpeed50perc,descentSpeed:n.descentSpeed,problemSolvingDuration:n.problemSolvingDuration,airBreaks:t.fromAirBreaks(n.airBreaks)}}static toOptions(n){let e=new R1(n.gfLow,n.gfHigh,n.maxPpO2,n.maxDecoPpO2,n.salinity);return e.altitude=n.altitude,e.roundStopsToMinutes=n.roundStopsToMinutes,e.gasSwitchDuration=n.gasSwitchDuration,e.safetyStop=n.safetyStop,e.lastStopDepth=n.lastStopDepth,e.decoStopDistance=n.decoStopDistance,e.minimumAutoStopDepth=n.minimumAutoStopDepth,e.maxEND=n.maxEND,e.oxygenNarcotic=n.oxygenNarcotic,e.ascentSpeed6m=n.ascentSpeed6m,e.ascentSpeed50percTo6m=n.ascentSpeed50percTo6m,e.ascentSpeed50perc=n.ascentSpeed50perc,e.descentSpeed=n.descentSpeed,e.problemSolvingDuration=n.problemSolvingDuration,t.toAirBreaks(e.airBreaks,n.airBreaks),e}static fromDensity(n){return{gas:t.fromGas(n.gas),depth:n.depth,density:n.density}}static toDensity(n){let e=t.toGas(n.gas);return new t3(e,n.depth,n.density)}static toGas(n){return new ys(n.fO2,n.fHe)}static fromGas(n){return{fO2:n.fO2,fHe:n.fHe}}static fromAirBreaks(n){return{enabled:n.enabled,oxygenDuration:n.oxygenDuration,bottomGasDuration:n.bottomGasDuration}}static toAirBreaks(n,e){e&&(n.enabled=e.enabled,n.oxygenDuration=e.oxygenDuration,n.bottomGasDuration=e.bottomGasDuration)}};var Gs=(()=>{class t{constructor(e){this.schedules=e,this._isComplex=!1}get isComplex(){return this._isComplex}set isComplex(e){this._isComplex=e,e||this.schedules.setSimple()}static{this.\u0275fac=function(r){return new(r||t)($t(kr))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();var u6=(()=>{class t{constructor(e,r,i,s,a){this.viewSwitch=e,this.units=r,this.schedules=i,this.appSettings=s,this.viewStates=a}static loadWorkingPressure(e,r){for(let i=0;i<r.length;i++){let s=e[i].workPressure;s>0&&(r[i].workingPressureBars=s)}}toPreferences(){return{states:this.toStates(),options:this.toAppSettings(),dives:this.toDives()}}applyApp(e){this.applyLoaded(e),this.viewStates.loadFrom(e.states);let r=this.viewStates.get(Hr.dashboard);r&&this.schedules.setSelectedIndex(r.selectedDiveIndex)}toDive(){return this.toDiveFrom(this.schedules.selected)}loadDive(e,r){let i=this.toDiveSetup(r);e.optionsService.loadFrom(i.options,i.diver),e.tanksService.loadFrom(i.tanks),t.loadWorkingPressure(r.tanks,e.tanksService.tanks),e.depths.loadFrom(i.segments),r.surfaceInterval&&(e.surfaceInterval=r.surfaceInterval)}addLoaded(e){let r=this.schedules.add();return this.loadDive(r,e),r}applyLoaded(e){this.units.imperialUnits=e.options.imperialUnits,this.applyDives(e.dives),this.appSettings.loadFrom(e.options),this.viewSwitch.isComplex=e.options.isComplex}applyDives(e){if(e.length>0){this.schedules.clear(),this.loadDive(this.schedules.dives[0],e[0]);for(let r=1;r<e.length;r++)this.addLoaded(e[r])}}toDiveSetup(e){let r=Gi.toTanks(e.tanks);return{diver:Gi.toDiver(e.diver),options:Gi.toOptions(e.options),tanks:r,segments:Gi.toSegments(e.plan,r)}}toAppSettings(){let e=this.appSettings.settings;return{imperialUnits:this.units.imperialUnits,isComplex:this.viewSwitch.isComplex,language:"en",maxDensity:e.maxGasDensity,primaryTankReserve:e.primaryTankReserve,stageTankReserve:e.stageTankReserve,icdIgnored:e.icdIgnored,densityIgnored:e.densityIgnored,noDecoIgnored:e.noDecoIgnored,missingAirBreakIgnored:e.missingAirBreakIgnored}}toDiveFrom(e){let r=e.isRepetitive?e.surfaceInterval:void 0;return{options:Gi.fromOptions(e.optionsService.getOptions()),diver:Gi.fromDiver(e.optionsService.getDiver()),tanks:Gi.fromTanks(e.tanksService.tanks),plan:Gi.fromSegments(e.depths.segments),surfaceInterval:r}}toDives(){return(0,rI.default)(this.schedules.dives).map(e=>this.toDiveFrom(e)).value()}toStates(){return{lastScreen:this.viewStates.lastView,states:this.viewStates.all}}static{this.\u0275fac=function(r){return new(r||t)($t(Gs),$t(Fn),$t(kr),$t(Oo),$t(V2))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();var H2=(()=>{class t{static{this.disclaimerValue="confirmed"}static{this.storageKey="preferences"}static{this.storageDefaultsKey="defaults"}static{this.disclaimerKey="disclaimer"}static{this.showInstallKey="showInstall"}constructor(e){this.preferencesFactory=e}load(){let e=localStorage.getItem(t.storageKey);if(!e)return;let r=JSON.parse(e);this.preferencesFactory.applyApp(r)}loadDefault(e){let r=localStorage.getItem(t.storageDefaultsKey);if(!r)return;let i=JSON.parse(r);i&&this.preferencesFactory.loadDive(e,i)}save(){let e=this.preferencesFactory.toPreferences(),r=JSON.stringify(e);localStorage.setItem(t.storageKey,r)}saveDefault(){let e=this.preferencesFactory.toDive(),r=JSON.stringify(e);localStorage.setItem(t.storageDefaultsKey,r)}ensureDefault(){localStorage.getItem(t.storageDefaultsKey)||this.saveDefault()}disableDisclaimer(){localStorage.setItem(t.disclaimerKey,t.disclaimerValue)}disclaimerEnabled(){return localStorage.getItem(t.disclaimerKey)!==t.disclaimerValue}disableShowInstall(){localStorage.setItem(t.showInstallKey,t.disclaimerValue)}installEnabled(){return localStorage.getItem(t.showInstallKey)!==t.disclaimerValue}static{this.\u0275fac=function(r){return new(r||t)($t(u6))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();var va=(()=>{class t{constructor(e,r){this.views=e,this.preferences=r,this._mainViewState={id:Hr.dashboard,selectedDiveIndex:0}}reset(){this.views.reset(),this.saveMainView()}saveMainView(){this.saveView(this._mainViewState)}saveView(e){this.views.set(e),this.preferences.save()}loadView(e){return this.views.get(e)}setSelectedDive(e){this._mainViewState.selectedDiveIndex=e}static{this.\u0275fac=function(r){return new(r||t)($t(V2),$t(H2))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();var qr=(()=>{class t{constructor(e){this.numberPipe=e}controlInValid(e){return!!e&&e.invalid&&(e.dirty||e.touched)}static{this.\u0275fac=function(r){return new(r||t)($t(Jr))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();var Pr=(()=>{class t{static{this.minGradient=10}static{this.maxGradient=120}constructor(e){this.units=e}get nitroxOxygen(){return this.rangeFor(this.ranges.nitroxOxygen)}get trimixOxygen(){return this.rangeFor(this.ranges.trimixOxygen)}get trimixHe(){return this.rangeFor(this.ranges.tankHe)}get ppO2(){return this.rangeFor(this.ranges.ppO2)}get depth(){return this.rangeFor(this.ranges.depth)}get depthFromSurface(){return this.rangeFor([0,this.ranges.depth[1]])}get duration(){return this.rangeFor(this.ranges.duration)}get tankConsumed(){return this.rangeFor(this.ranges.consumed)}get tankSize(){return this.rangeFor(this.ranges.tankSize)}get altitude(){return this.rangeFor(this.ranges.altitude)}get gradients(){return this.rangeFor([t.minGradient,t.maxGradient])}get speed(){return this.rangeFor(this.ranges.speed)}get lastStopDepth(){return this.rangeFor(this.ranges.lastStopDepth)}get duration100(){return this.rangeFor([1,100])}get maxEnd(){return this.rangeFor(this.ranges.narcoticDepth)}get diverRmv(){return[os.required,this.validateMinRmv,this.validateMaxRmv]}get maxDensity(){return[os.required,this.validateMinDensity,this.validateMaxDensity]}get tankPressure(){return[os.required,this.validateMinPressure,this.validateMaxPressure]}get ranges(){return this.units.ranges}rangeFor(e){return[os.required,os.min(e[0]),os.max(e[1])]}surfaceInterval(){return e=>{let i=e?.value,s=Na.parseToShortTime(i);return i!==null&&(i.length===0||!s)?{surfaceInterval:!0}:null}}validateMinRmv(){return e=>os.min(this.ranges.diverRmv[0])(e)}validateMaxRmv(){return e=>os.max(this.ranges.diverRmv[1])(e)}validateMinDensity(){return e=>os.min(this.ranges.maxDensity[0])(e)}validateMaxDensity(){return e=>os.max(this.ranges.maxDensity[1])(e)}validateMinPressure(){return e=>os.min(this.ranges.tankPressure[0])(e)}validateMaxPressure(){return e=>os.max(this.ranges.tankPressure[1])(e)}static{this.\u0275fac=function(r){return new(r||t)($t(Fn))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();var Ub=(()=>{class t{constructor(e,r,i,s,a,o,c,l,u,f){this.units=e,this.settingsNormalization=r,this.views=i,this.appSettings=s,this.dispatcher=a,this.formBuilder=o,this.cd=c,this.inputs=l,this.validators=u,this.location=f,this.flagIcon=RE,this.diverIcon=HE}get ranges(){return this.units.ranges}get maxDensityInvalid(){let e=this.settingsForm.controls.maxDensity;return this.inputs.controlInValid(e)}get primaryTankReserveInvalid(){let e=this.settingsForm.controls.primaryTankReserve;return this.inputs.controlInValid(e)}get stageTankReserveInvalid(){let e=this.settingsForm.controls.stageTankReserve;return this.inputs.controlInValid(e)}get densityStep(){return Math.pow(.1,this.ranges.densityRounding)}get maxDensity(){return Qt.round(this.appSettings.maxGasDensity,this.ranges.densityRounding)}get primaryTankReserve(){return Qt.round(this.appSettings.primaryTankReserve)}get stageTankReserve(){return Qt.round(this.appSettings.stageTankReserve)}ngOnInit(){this.settingsForm=this.formBuilder.group({imperialUnits:[this.units.imperialUnits,[os.required]],maxDensity:[this.maxDensity,this.validators.maxDensity],primaryTankReserve:[this.primaryTankReserve,this.validators.tankPressure],stageTankReserve:[this.stageTankReserve,this.validators.tankPressure],densityIgnored:[this.appSettings.densityIgnored,[os.required]],icdIgnored:[this.appSettings.icdIgnored,[os.required]],noDecoIgnored:[this.appSettings.noDecoIgnored,[os.required]],missingAirBreak:[this.appSettings.missingAirBreakIgnored,[os.required]]})}use(){if(this.settingsForm.invalid)return;let e=this.settingsForm.value;this.appSettings.icdIgnored=!!e.icdIgnored,this.appSettings.densityIgnored=!!e.densityIgnored,this.appSettings.noDecoIgnored=!!e.noDecoIgnored,this.appSettings.missingAirBreakIgnored=!!e.missingAirBreak,this.appSettings.maxGasDensity=Number(e.maxDensity),this.appSettings.primaryTankReserve=Number(e.primaryTankReserve),this.appSettings.stageTankReserve=Number(e.stageTankReserve),this.units.imperialUnits=!!e.imperialUnits,this.settingsNormalization.apply(),this.views.reset(),this.reLoad(),this.dispatcher.sendSetSimple(),this.cd.detectChanges()}resetToDefault(){this.settingsForm.patchValue({imperialUnits:!1,maxDensity:Qt.round(this.appSettings.defaultMaxGasDensity,this.ranges.densityRounding),primaryTankReserve:Qt.round(this.appSettings.defaultPrimaryTankReserve),stageTankReserve:Qt.round(this.appSettings.defaultStageTankReserve),icdIgnored:!1,densityIgnored:!1,noDecoIgnored:!1,missingAirBreak:!1})}reLoad(){this.settingsForm.patchValue({maxDensity:this.maxDensity,primaryTankReserve:this.primaryTankReserve,stageTankReserve:this.stageTankReserve})}static{this.\u0275fac=function(r){return new(r||t)(ht(Fn),ht(c6),ht(va),ht(Oo),ht(Ei),ht(Fr),ht(Zs),ht(qr),ht(Pr),ht(pa))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-app-settings"]],decls:75,vars:26,consts:[[1,"row","mt-5"],[1,"row",3,"formGroup"],[1,"col","col-12","col-sm-7","col-lg-5","col-xl-4","col-xxl-3","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[1,"form-check"],["type","radio","id","metricRadio","formControlName","imperialUnits",1,"form-check-input",3,"value"],["for","metricRadio","value","metric",1,"custom-control-label"],["type","radio","id","imperialRadio","formControlName","imperialUnits",1,"form-check-input",3,"value"],["for","imperialRadio",1,"custom-control-label"],[1,"mb-4","col","col-12","col-md-6","col-lg-12","col-xl-6"],["for","maxDensity","mdbLabel","",1,"form-label"],["type","number","id","maxDensity","formControlName","maxDensity","required","",1,"form-control",3,"min","max","step"],[1,"invalid-feedback","position-absolute"],["for","primaryTankReserve","mdbLabel","",1,"form-label"],["type","number","id","primaryTankReserve","formControlName","primaryTankReserve","required","","step","1",1,"form-control",3,"min","max"],["for","stageTankReserve","mdbLabel","",1,"form-label"],["type","number","id","stageTankReserve","formControlName","stageTankReserve","required","","step","1",1,"form-control",3,"min","max"],[1,"form-check","form-switch"],["type","checkbox","id","icdIgnored","formControlName","icdIgnored","mdbCheckbox","",1,"form-check-input"],["for","icdIgnored",1,"custom-control-label"],["type","checkbox","id","densityIgnored","formControlName","densityIgnored","mdbCheckbox","",1,"form-check-input"],["for","densityIgnored",1,"custom-control-label"],["type","checkbox","id","noDecoIgnored","formControlName","noDecoIgnored","mdbCheckbox","",1,"form-check-input"],["for","noDecoIgnored",1,"custom-control-label"],["type","checkbox","id","missingAirBreak","formControlName","missingAirBreak","mdbCheckbox","",1,"form-check-input"],["for","missingAirBreak",1,"custom-control-label"],[1,"row"],[1,"form-group","mt-3"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","button",1,"btn","btn-secondary",3,"click","hidden"]],template:function(r,i){r&1&&(se(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4),Nt(5,"fa-icon",5),se(6,"span"),Ie(7,"Units"),de()(),se(8,"div",6)(9,"div",7),Nt(10,"input",8),se(11,"label",9),Ie(12,"Metric units (m, l, bar)"),de()(),se(13,"div",7),Nt(14,"input",10),se(15,"label",11),Ie(16,"Imperial units (ft, cuft, psi)"),Nt(17,"br"),Ie(18," (Experimental, not recommended)"),de()()()()(),se(19,"div",2)(20,"div",3)(21,"div",4),Nt(22,"fa-icon",5),se(23,"span"),Ie(24,"Limits"),de()(),se(25,"div",6)(26,"div",12)(27,"label",13),Ie(28),de(),Nt(29,"input",14),se(30,"div",15),Ie(31),de()(),se(32,"div",12)(33,"label",16),Ie(34),de(),Nt(35,"input",17),se(36,"div",15),Ie(37),de()(),se(38,"div",12)(39,"label",18),Ie(40),de(),Nt(41,"input",19),se(42,"div",15),Ie(43),de()()()()(),se(44,"div",2)(45,"div",3)(46,"div",4),Nt(47,"fa-icon",5),se(48,"span"),Ie(49,"Ignored Issues (warnings/errors)"),de()(),se(50,"div",6)(51,"div",20),Nt(52,"input",21),se(53,"label",22),Ie(54,"Isobaric counter diffusion (ICD)"),de()(),se(55,"div",20),Nt(56,"input",23),se(57,"label",24),Ie(58,"Maximum gas density Exceeded"),de()(),se(59,"div",20),Nt(60,"input",25),se(61,"label",26),Ie(62,"No decompression limit reached"),de()(),se(63,"div",20),Nt(64,"input",27),se(65,"label",28),Ie(66,"Missing air break"),de()()()()()()(),se(67,"div",29)(68,"div",30)(69,"button",31),Bt("click",function(){return i.location.back()}),Ie(70,"Back"),de(),se(71,"button",32),Bt("click",function(){return i.resetToDefault()}),Ie(72,"Reset to Default"),de(),se(73,"button",33),Bt("click",function(){return i.use()}),Ie(74,"Use"),de()()()),r&2&&(fe(),Ne("formGroup",i.settingsForm),fe(4),Ne("icon",i.flagIcon),fe(5),Ne("value",!1),fe(4),Ne("value",!0),fe(8),Ne("icon",i.diverIcon),fe(6),Ft("Max gas density [",i.units.density,"]: "),fe(),Mn("is-invalid",i.maxDensityInvalid),Ne("min",i.ranges.maxDensity[0])("max",i.ranges.maxDensity[1])("step",i.densityStep),fe(2),Ft("Needs to be number ",i.ranges.maxDensityLabel,""),fe(3),Ft("Minimum Primary tank reserve [",i.units.pressure,"]: "),fe(),Mn("is-invalid",i.primaryTankReserveInvalid),Ne("min",i.ranges.tankPressure[0])("max",i.ranges.tankPressure[1]),fe(2),Ft("Needs to be number ",i.ranges.tankPressureLabel,""),fe(3),Ft("Minimum Stage tank reserve [",i.units.pressure,"]: "),fe(),Mn("is-invalid",i.stageTankReserveInvalid),Ne("min",i.ranges.tankPressure[0])("max",i.ranges.tankPressure[1]),fe(2),Ft("Needs to be number ",i.ranges.tankPressureLabel,""),fe(4),Ne("icon",i.diverIcon),fe(26),Ne("hidden",!i.settingsForm.valid))},dependencies:[xr,Xa,Yr,vi,iy,cy,fi,Rr,ea,yi,gi,Or,oi,Oi]})}}return t})();var Gb=G1(n2());var Nf=G1(n2());var ap=class{constructor(n){this.ranges=this.createUnits(n),this.units=this.ranges.units;let e=mr.toSeconds(this.ranges.duration[1]);this.durationRange=[mr.oneSecond,e]}validate(n){if(n.dives.length===0)return!1;let e=n.options.isComplex,r=n.options.imperialUnits,i=n.dives.every(a=>this.isValidPlan(a,e,r)),s=this.complexModeValid(n);return i&&s}createUnits(n){return n?Fn.createImperial():Fn.createMetricRanges()}isValidPlan(n,e,r){let i=n.tanks.length,s=this.selectContentRanges(e),a=this.allTanksValid(r,n.tanks,i,s),o=this.allSegmentsValid(n.plan,i,s),c=this.optionsValid(n.options),l=this.diverValid(n.diver);return a&&o&&c&&l}selectContentRanges(n){return n?[this.ranges.trimixOxygen,this.ranges.tankHe]:[this.ranges.nitroxOxygen,[0,0]]}allTanksValid(n,e,r,i){let s=e.length>0,a=(0,Nf.default)(e).every(l=>this.isValidTank(n,l,r,i)),c=(0,Nf.default)(e).map(l=>l.id).uniq().size()===e.length;return s&&a&&c}isValidTank(n,e,r,i){let s=this.isInRange(e.id,[1,r]),a=this.isTankSizeValid(e),o=this.isPressureInRange(e.startPressure,this.ranges.tankPressure),c=this.workingPressureValid(n,e),l=this.isValidGas(e.gas,i);return s&&a&&o&&l&&c}workingPressureValid(n,e){return n?this.isPressureInRange(e.workPressure,this.ranges.tankPressure):e.workPressure===0}isValidGas(n,e){let r=n.fO2===.209&&n.fHe===0,i=this.isInRange(n.fO2*100,e[0]),s=this.isInRange(n.fHe*100,e[1]),a=n.fO2+n.fHe<=1;return r||i&&s&&a}allSegmentsValid(n,e,r){return n.length>0&&(0,Nf.default)(n).every(i=>this.isValidSegment(i,e,r))}isValidSegment(n,e,r){let i=this.isInRange(n.tankId,[1,e]),s=[0,this.ranges.depth[1]],a=this.isLengthInRange(n.startDepth,s),o=this.isLengthInRange(n.endDepth,s),c=this.isInRange(n.duration,this.durationRange),l=this.isValidGas(n.gas,r);return i&&a&&o&&c&&l}optionsValid(n){return this.isLengthInRange(n.altitude,this.ranges.altitude)&&this.isLengthInRange(n.ascentSpeed50perc,this.ranges.speed)&&this.isLengthInRange(n.ascentSpeed50percTo6m,this.ranges.speed)&&this.isLengthInRange(n.ascentSpeed6m,this.ranges.speed)&&this.isLengthInRange(n.descentSpeed,this.ranges.speed)&&this.isInRange(n.gasSwitchDuration,[1,10])&&this.isInRange(n.gfHigh,[.1,1])&&this.isInRange(n.gfLow,[.1,1])&&this.isLengthInRange(n.maxEND,this.ranges.narcoticDepth)&&this.isInRange(n.maxPpO2,this.ranges.ppO2)&&this.isInRange(n.maxDecoPpO2,this.ranges.ppO2)&&this.isInRange(n.problemSolvingDuration,[1,100])&&n.safetyStop in o1&&n.salinity in ro}diverValid(n){return this.isRmvValid(n.rmv)&&this.isRmvValid(n.stressRmv)}complexModeValid(n){return n.options.isComplex||this.allDivesSimple(n.dives)}allDivesSimple(n){return(0,Nf.default)(n).every(e=>e.plan.length===2&&e.tanks.length===1)}isRmvValid(n){let e=this.units.fromLiter(n);return this.isInRange(e,this.ranges.diverRmv)}isTankSizeValid(n){let e=this.units.fromTankLiters(n.size,n.workPressure);return this.isInRange(e,this.ranges.tankSize)}isPressureInRange(n,e){let r=this.units.fromBar(n);return this.isInRange(r,e)}isLengthInRange(n,e){let r=this.units.fromMeters(n);return this.isInRange(r,e)}isInRange(n,e){let r=Qt.round(n,6);return e[0]<=r&&r<=e[1]}};var jb=function(t){return t[t.fresh=1]="fresh",t[t.brackish=2]="brackish",t[t.salt=3]="salt",t}(jb||{});var PJ=(()=>{class t{static{this.standard=9.80665}}return t})(),RJ=(()=>{class t{static{this.coefficient=1e5}static pascalToBar(e){return e/t.coefficient}static barToPascal(e){return e*t.coefficient}}return t})(),aI=class t{static{this.standard=1.01325}static{this.standardPascals=RJ.barToPascal(t.standard)}static{this.gasConstant=8.31432}static{this.temperature=288.15}static{this.lapsRate=-.0065}static{this.molarMass=.0289644}static{this.exponent=PJ.standard*t.molarMass/(t.gasConstant*t.lapsRate)}static{this.invertedExponent=1/t.exponent}static pressure(n){let e=t.temperature/(t.temperature+t.lapsRate*n);return t.standardPascals*Math.pow(e,t.exponent)}static altitude(n){if(n>=t.standardPascals)return 0;let e=n/t.standardPascals,r=Math.pow(e,t.invertedExponent);return(t.temperature/r-t.temperature)/t.lapsRate}};var sp=class t{static{this.o2InAir=.209}static{this.nitroxInAir=1-t.o2InAir}static{this.minPpO2=.18}static{this.maxEnd=30}static partialPressure(n,e){return n*e}static mod(n,e){return n/e}static bestMix(n,e,r){let i=r.toBar(e),s=n/i;return s>1?1:s}static ead(n,e,r=t.o2InAir){let i=1-n,s=1-r;return t.end(e,i)/s}static end(n,e,r=0){let i=this.narcoticIndex(r,e);return n*i}static mnd(n,e,r=0){let i=this.narcoticIndex(r,e);return n/i}static ceiling(n,e){let i=t.minPpO2/n*e;return i<e?e:i}static narcoticIndex(n,e=0){return e+n}};var sI=function(t){return t[t.never=1]="never",t[t.auto=2]="auto",t[t.always=3]="always",t}(sI||{}),Pf=class t{static{this.altitude=0}static{this.saltWater=jb.salt}static{this.roundStopsToMinutes=!1}static{this.gasSwitchDuration=2}static{this.problemSolvingDuration=1}static{this.lastStopDepth=3}static{this.lastStopDepthRecre=5}static{this.safetyStopRecre=sI.auto}static{this.decoStopDistance=3}static{this.minimumAutoStopDepth=10}static{this.addSafetyStop=!0}static{this.maxEND=sp.maxEnd}static{this.oxygenNarcotic=!0}static{this.ascentSpeed6m=3}static{this.ascentSpeed50percTo6m=3}static{this.ascentSpeed50perc=9}static{this.descentSpeed=18}static{this.gfLow=.4}static{this.gfHigh=.85}static{this.maxPpO2=1.4}static{this.maxDecoPpO2=1.6}static{this.airBreakOxygenDuration=20}static{this.airBreakBottomGasDuration=5}static setMediumConservatism(n){n.gfLow=t.gfLow,n.gfHigh=t.gfHigh}static useGeneralRecommended(n){n.safetyStop=t.safetyStopRecre,n.roundStopsToMinutes=t.roundStopsToMinutes,n.gasSwitchDuration=t.gasSwitchDuration,n.oxygenNarcotic=t.oxygenNarcotic}};var r2=(()=>{class t{static{this.trueValue="1"}constructor(e,r){this.paramValues=e.split(r)}static serializeBoolean(e){return e?t.trueValue:"0"}static deserializeBoolean(e){return e===t.trueValue}parseNullableNumber(e){let r=this.paramValues[e];if(r!=="")return Number(r)}parseNumber(e){let r=this.paramValues[e];return Number(r)}parseEnum(e){let r=this.paramValues[e];return Number(r)}parseBoolean(e){let r=this.paramValues[e];return t.deserializeBoolean(r)}processValues(e,r){for(let i=0;i<this.paramValues.length;i++){let s=this.toPartContext(i,e);r(s)}}toPartContext(e,r){let i=this.paramValues[e];return new t(i,r)}}return t})(),op=(()=>{class t{constructor(e,r,i,s,a,o){this.viewSwitch=e,this.units=r,this.normalization=i,this.schedules=s,this.appSettings=a,this.preferences=o}static fromOptionsParam(e){let r=new r2(e,",");return{altitude:r.parseNumber(0),ascentSpeed50perc:r.parseNumber(1),ascentSpeed50percTo6m:r.parseNumber(2),ascentSpeed6m:r.parseNumber(3),decoStopDistance:r.parseNumber(4),descentSpeed:r.parseNumber(5),gasSwitchDuration:r.parseNumber(6),gfHigh:r.parseNumber(7),gfLow:r.parseNumber(8),lastStopDepth:r.parseNumber(9),maxDecoPpO2:r.parseNumber(10),maxEND:r.parseNumber(11),maxPpO2:r.parseNumber(12),minimumAutoStopDepth:r.parseNumber(13),oxygenNarcotic:r.parseBoolean(14),problemSolvingDuration:r.parseNumber(15),roundStopsToMinutes:r.parseBoolean(16),safetyStop:r.parseEnum(17),salinity:r.parseEnum(18),airBreaks:t.fromAirBreakParam(r)}}static toOptionsParam(e){let r=r2.serializeBoolean(e.oxygenNarcotic),i=r2.serializeBoolean(e.roundStopsToMinutes),s=t.toAirBreakParams(e.airBreaks);return`${e.altitude},${e.ascentSpeed50perc},${e.ascentSpeed50percTo6m},${e.ascentSpeed6m},${e.decoStopDistance},${e.descentSpeed},${e.gasSwitchDuration},${e.gfHigh},${e.gfLow},${e.lastStopDepth},${e.maxDecoPpO2},${e.maxEND},${e.maxPpO2},${e.minimumAutoStopDepth},${r},${e.problemSolvingDuration},${i},${e.safetyStop},${e.salinity},${s}`}static toAirBreakParams(e){return`${r2.serializeBoolean(e.enabled)},${e.oxygenDuration},${e.bottomGasDuration}`}static fromAirBreakParam(e){return e.paramValues.length>21?{enabled:e.parseBoolean(19),oxygenDuration:e.parseNumber(20),bottomGasDuration:e.parseNumber(21)}:{enabled:!0,oxygenDuration:Pf.airBreakOxygenDuration,bottomGasDuration:Pf.airBreakBottomGasDuration}}static fromDiverParam(e){let r=new r2(e,","),i={rmv:r.parseNumber(0),stressRmv:r.parseNumber(1)};return i.stressRmv||(i.stressRmv=new F1(i.rmv).stressRmv),i}static toDiverParam(e){return`${e.rmv},${e.stressRmv}`}static fromTanksParam(e){let r=[];return new r2(e,",").processValues("-",s=>{let a={id:s.parseNumber(0),size:s.parseNumber(1),workPressure:s.parseNumber(2),startPressure:s.parseNumber(3),gas:{fO2:s.parseNumber(4),fHe:s.parseNumber(5)}};r.push(a)}),r=Gb.default.sortBy(r,[s=>s.id]),r}static toTanksParam(e){let r=[];return e.forEach(i=>{let s=i.tank,a=s.gas,o=i.workingPressureBars,c=`${s.id}-${s.size}-${o}-${s.startPressure}-${a.fO2}-${a.fHe}`;r.push(c)}),r.join(",")}static fromDepthsParam(e,r){let i=[],s=new r2(r,","),a;return s.processValues("-",o=>{let c=a?a.endDepth:0,l=this.toSegment(o,e,c);a=l,i.push(l)}),i}static toSegment(e,r,i){let s={startDepth:i,endDepth:e.parseNumber(1),duration:e.parseNumber(2),tankId:1,gas:{fO2:0,fHe:0}},a=e.parseNumber(3);if(0<a&&a<=r.length){let o=r[a-1];s.tankId=a,s.gas.fO2=o.gas.fO2,s.gas.fHe=o.gas.fHe}return s}static toDepthsParam(e){let r=[];return e.forEach(i=>{let s=i.tank?i.tank.id:0,a=`${i.startDepth}-${i.endDepth}-${i.duration}-${s}`;r.push(a)}),r.join(",")}toUrl(){let e=this.schedules.selected.id;return this.toUrlFor(e)}toUrlFor(e){let r=this.toDiveUrl(e),i=this.toAppOptions();return`${r}&ao=${i}`}fromUrl(e){try{if(!e)return;let r=decodeURIComponent(e),i=this.parseDto(r),s=i.options.imperialUnits;new ap(s).validate(i)?this.applyDiveUrl(r,i):io.warn("Unable to load planner from url parameters, due to invalid data.")}catch{io.warn("Failed loading of planner from url parameters.")}}applyDiveUrl(e,r){let i=this.subtractDiveUrl(e),s=(0,Gb.default)(this.schedules.dives).find(a=>{let o=this.toDiveUrl(a.id);return i===o});if(!s){let a=this.preferences.addLoaded(r.dives[0]);this.normalization.applyDive(a),r.options.isComplex&&(this.viewSwitch.isComplex=!0);return}this.schedules.selected=s}subtractDiveUrl(e){let r=e.indexOf("&ao="),i=e;return r>0&&(i=e.substring(0,r)),i.replace("?","")}toAppOptions(){let e=r2.serializeBoolean(this.viewSwitch.isComplex),r=r2.serializeBoolean(this.units.imperialUnits);return`${e},${r}`}toDiveUrl(e){let r=this.schedules.byId(e),i=t.toTanksParam(r.tanksService.tanks),s=t.toDepthsParam(r.depths.segments),a=t.toDiverParam(r.optionsService.getDiver()),o=t.toOptionsParam(r.optionsService.getOptions()),c=`t=${i}&de=${s}&di=${a}&o=${o}`;return r.isRepetitive&&(c+=`&si=${r.surfaceInterval}`),c}parseDto(e){let r=new URLSearchParams(e),i=r.get("ao")||"",s=r.get("o")||"",a=r.get("di")||"",o=r.get("t")||"",c=r.get("de")||"",l=r.get("si")||"",u=new r2(l,","),f=t.fromTanksParam(o);return{options:this.fromAppSettingsParam(i),dives:[{options:t.fromOptionsParam(s),diver:t.fromDiverParam(a),tanks:f,plan:t.fromDepthsParam(f,c),surfaceInterval:u.parseNullableNumber(0)}]}}fromAppSettingsParam(e){let r=new r2(e,",");return{isComplex:r.parseBoolean(0),imperialUnits:r.parseBoolean(1),language:"en",maxDensity:this.appSettings.settings.maxGasDensity,primaryTankReserve:this.appSettings.settings.primaryTankReserve,stageTankReserve:this.appSettings.settings.stageTankReserve,icdIgnored:this.appSettings.settings.icdIgnored,densityIgnored:this.appSettings.settings.densityIgnored,noDecoIgnored:this.appSettings.settings.noDecoIgnored,missingAirBreakIgnored:this.appSettings.settings.missingAirBreakIgnored}}static{this.\u0275fac=function(r){return new(r||t)($t(Gs),$t(Fn),$t(c6),$t(kr),$t(Oo),$t(u6))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();var lp=(()=>{class t{constructor(e,r,i,s,a){this.location=e,this.preferences=r,this.urlSerialization=i,this.viewStore=s,this.views=a,this._showDisclaimer=!0,this._showInstallButton=!1,this.allowInstall=!1,this._showDisclaimer=this.preferences.disclaimerEnabled(),this._showInstallButton=this.preferences.installEnabled()}get showDisclaimer(){return this._showDisclaimer}get showInstallButton(){return this.allowInstall&&this._showInstallButton}get showAppleInstall(){let e=window.navigator.userAgent.toLowerCase(),r=/iphone|ipad|ipod/.test(e),i="standalone"in window.navigator&&window.navigator.standalone;return r&&!i}onDashboard(){let e=window.location.search;e===""||this.views.started||this.urlSerialization.fromUrl(e),this.viewStore.saveMainView(),this.updateQueryParams()}stopDisclaimer(){this._showDisclaimer=!1,this.preferences.disableDisclaimer()}stopShowInstallButton(){this._showInstallButton=!1,this.preferences.disableShowInstall()}updateQueryParams(){let e=this.urlSerialization.toUrl();e.length>2048&&console.warn("Created url parameters with length longer than acceptable in some browsers"),e.length>0&&(e="?"+e),this.location.go(e)}onbeforeinstallprompt(e){e.preventDefault(),this.deferredPrompt=e,this.allowInstall=!0}addToHomeScreen(){this.allowInstall=!1,this.stopShowInstallButton(),this.deferredPrompt&&(this.deferredPrompt.prompt(),this.deferredPrompt.userChoice.then(e=>{this.deferredPrompt=null}))}static{this.\u0275fac=function(r){return new(r||t)($t(pa),$t(H2),$t(op),$t(va),$t(V2))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();function oI(t){let{anchorOffset:n=0,focusOffset:e=0}=t.ownerDocument.getSelection()||{},r=Math.min(n,e),i=Math.max(n,e);return[r,i]}function BJ(t,[n,e]){var r,i,s,a;let o=t.ownerDocument,c=o.createRange();c.setStart(t.firstChild||t,Math.min(n,(i=(r=t.textContent)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0)),c.setEnd(t.lastChild||t,Math.min(e,(a=(s=t.textContent)===null||s===void 0?void 0:s.length)!==null&&a!==void 0?a:0));let l=o.getSelection();l&&(l.removeAllRanges(),l.addRange(c))}var $b=class{constructor(n){this.element=n,this.maxLength=1/0}get value(){return this.element.innerText.replace(/\n\n$/,`
`)}set value(n){this.element.innerHTML=n.replace(/\n$/,`

`)}get selectionStart(){return oI(this.element)[0]}get selectionEnd(){return oI(this.element)[1]}setSelectionRange(n,e){BJ(this.element,[n??0,e??0])}select(){this.setSelectionRange(0,this.value.length)}};function VJ(t){let n=new $b(t);return new Proxy(t,{get(e,r){if(r in n)return n[r];let i=e[r];return typeof i=="function"?i.bind(e):i},set(e,r,i,s){return Reflect.set(r in n?n:e,r,i,s)}})}var fI=t=>t.isContentEditable?VJ(t):t.querySelector("input,textarea")||t,Bf={mask:/^.*$/,preprocessors:[],postprocessors:[],plugins:[],overwriteMode:"shift"},Wb=class{constructor(){this.now=null,this.past=[],this.future=[]}undo(){let n=this.past.pop();n&&this.now&&(this.future.push(this.now),this.updateElement(n,"historyUndo"))}redo(){let n=this.future.pop();n&&this.now&&(this.past.push(this.now),this.updateElement(n,"historyRedo"))}updateHistory(n){if(!this.now){this.now=n;return}let e=this.now.value!==n.value,r=this.now.selection.some((i,s)=>i!==n.selection[s]);!e&&!r||(e&&(this.past.push(this.now),this.future=[]),this.now=n)}updateElement(n,e){this.now=n,this.updateElementState(n,{inputType:e,data:null})}};function HJ(t,...n){return n.every(({value:e})=>e===t.value)}function UJ(t,...n){return n.every(({value:e,selection:r})=>e===t.value&&r[0]===t.selection[0]&&r[1]===t.selection[1])}function jJ({value:t,selection:n},e,r){let[i,s]=n,a=typeof r=="function"?r({value:t,selection:n}):r;return{value:t,selection:a==="replace"?[i,Math.max(i+e.length,s)]:[i,s]}}function dp(t){return typeof t=="string"}function lI(t,n,e,r){let i="";for(let s=n.length;s<t.length;s++){let a=t[s]||"",o=r?.value[s]===a;if(!dp(a)||a===e&&!o)return i;i+=a}return i}function dI(t,n){return Array.isArray(n)?t.length===n.length&&Array.from(t).every((e,r)=>{let i=n[r]||"";return dp(i)?e===i:e.match(i)}):n.test(t)}function GJ(t,n,e){let r=null,i=null,s=Array.from(t.value).reduce((o,c,l)=>{let u=lI(n,o,c,e),f=o+u,h=n[f.length]||"";return r===null&&l>=t.selection[0]&&(r=f.length),i===null&&l>=t.selection[1]&&(i=f.length),dp(h)?f+h:c.match(h)?f+c:f},""),a=lI(n,s,"",e);return{value:dI(s+a,n)?s+a:s,selection:[r??s.length,i??s.length]}}function $J({value:t,selection:n},e){let[r,i]=n,s=r,a=i;return{value:Array.from(t).reduce((c,l,u)=>{let f=c+l;return r===u&&(s=c.length),i===u&&(a=c.length),f.match(e)?f:c},""),selection:[s,a]}}function cp(t,n,e=null){if(dI(t.value,n))return t;let{value:r,selection:i}=Array.isArray(n)?GJ(t,n,e):$J(t,n);return{selection:i,value:Array.isArray(n)?r.slice(0,n.length):r}}function cI(t,n){if(!Array.isArray(n))return t;let[e,r]=t.selection,i=[],s=Array.from(t.value).reduce((a,o,c)=>{let l=n[c]||"";return c===e&&i.push(a.length),c===r&&i.push(a.length),dp(l)&&l===o?a:a+o},"");return i.length<2&&i.push(...new Array(2-i.length).fill(s.length)),{value:s,selection:[i[0],i[1]]}}var Ff=class{constructor(n,e){this.initialElementState=n,this.maskOptions=e,this.value="",this.selection=[0,0];let{value:r,selection:i}=cp(this.initialElementState,this.getMaskExpression(this.initialElementState));this.value=r,this.selection=i}addCharacters([n,e],r){let{value:i,maskOptions:s}=this,a=this.getMaskExpression({value:i.slice(0,n)+r+i.slice(e),selection:[n+r.length,n+r.length]}),o={value:i,selection:[n,e]},c=cI(o,a),[l,u]=jJ(c,r,s.overwriteMode).selection,f=c.value.slice(0,l)+r,h=f.length,p=cp({value:f+c.value.slice(u),selection:[h,h]},a,o);if(i.slice(0,l)===cp({value:f,selection:[h,h]},a,o).value||UJ(this,p))throw new Error("Invalid mask value");this.value=p.value,this.selection=p.selection}deleteCharacters([n,e]){if(n===e||!e)return;let{value:r}=this,i=this.getMaskExpression({value:r.slice(0,n)+r.slice(e),selection:[n,n]}),s={value:r,selection:[n,e]},a=cI(s,i),[o,c]=a.selection,l=a.value.slice(0,o)+a.value.slice(c),u=cp({value:l,selection:[o,o]},i,s);this.value=u.value,this.selection=u.selection}getMaskExpression(n){let{mask:e}=this.maskOptions;return typeof e=="function"?e(n):e}},Yb=class{constructor(n){this.element=n,this.listeners=[]}listen(n,e,r){let i=e;this.element.addEventListener(n,i,r),this.listeners.push(()=>this.element.removeEventListener(n,i,r))}destroy(){this.listeners.forEach(n=>n())}},i2={CTRL:1,ALT:2,SHIFT:4,META:8},Rf={Y:89,Z:90};function Of(t,n,e){return t.ctrlKey===!!(n&i2.CTRL)&&t.altKey===!!(n&i2.ALT)&&t.shiftKey===!!(n&i2.SHIFT)&&t.metaKey===!!(n&i2.META)&&t.keyCode===e}function WJ(t){return Of(t,i2.CTRL,Rf.Y)||Of(t,i2.CTRL|i2.SHIFT,Rf.Z)||Of(t,i2.META|i2.SHIFT,Rf.Z)}function YJ(t){return Of(t,i2.CTRL,Rf.Z)||Of(t,i2.META,Rf.Z)}function hI(t,n){var e;let r=t.value;if(typeof n=="string")t.value=n;else{let[i,s]=n.selection;t.value=n.value,t.matches(":focus")&&((e=t.setSelectionRange)===null||e===void 0||e.call(t,i,s))}t.value!==r&&t.dispatchEvent(new Event("input",{bubbles:!0}))}function ZJ({value:t,selection:n},e){let[r,i]=n;if(r!==i)return[r,i];let s=e?t.slice(r).indexOf(`
`)+1||t.length:t.slice(0,i).lastIndexOf(`
`)+1;return[e?r:s,e?s:i]}function XJ({value:t,selection:n},e){let[r,i]=n;return r!==i?[r,i]:(e?[r,i+1]:[r-1,i]).map(a=>Math.min(Math.max(a,0),t.length))}var KJ=/\s+$/g,QJ=/^\s+/g,uI=/\s/;function JJ({value:t,selection:n},e){let[r,i]=n;if(r!==i)return[r,i];if(e){let c=t.slice(r),[l]=c.match(QJ)||[""],u=c.trimStart().search(uI);return[r,u!==-1?r+l.length+u:t.length]}let s=t.slice(0,i),[a]=s.match(KJ)||[""],o=s.trimEnd().split("").reverse().findIndex(c=>uI.exec(c));return[o!==-1?i-a.length-o:0,i]}function up(t=[]){return(n,...e)=>t.reduce((r,i)=>Object.assign(Object.assign({},r),i(r,...e)),n)}function hp(t,n){let e=Object.assign(Object.assign({},Bf),n),r=up(e.preprocessors),i=up(e.postprocessors),s=typeof t=="string"?{value:t,selection:[0,0]}:t,{elementState:a}=r({elementState:s,data:""},"validation"),o=new Ff(a,e),{value:c,selection:l}=i(o,s);return typeof t=="string"?c:{value:c,selection:l}}var fp=class extends Wb{constructor(n,e){super(),this.element=n,this.maskitoOptions=e,this.isTextArea=this.element.nodeName==="TEXTAREA",this.eventListener=new Yb(this.element),this.options=Object.assign(Object.assign({},Bf),this.maskitoOptions),this.upcomingElementState=null,this.preprocessor=up(this.options.preprocessors),this.postprocessor=up(this.options.postprocessors),this.teardowns=this.options.plugins.map(r=>r(this.element,this.options)),this.updateHistory(this.elementState),this.eventListener.listen("keydown",r=>{if(WJ(r))return r.preventDefault(),this.redo();if(YJ(r))return r.preventDefault(),this.undo()}),this.eventListener.listen("beforeinput",r=>{var i,s,a;let o=r.inputType.includes("Forward");switch(this.updateHistory(this.elementState),r.inputType){case"historyUndo":return r.preventDefault(),this.undo();case"historyRedo":return r.preventDefault(),this.redo();case"deleteByCut":case"deleteContentBackward":case"deleteContentForward":return this.handleDelete({event:r,isForward:o,selection:XJ(this.elementState,o)});case"deleteWordForward":case"deleteWordBackward":return this.handleDelete({event:r,isForward:o,selection:JJ(this.elementState,o),force:!0});case"deleteSoftLineBackward":case"deleteSoftLineForward":case"deleteHardLineBackward":case"deleteHardLineForward":return this.handleDelete({event:r,isForward:o,selection:ZJ(this.elementState,o),force:!0});case"insertCompositionText":return;case"insertReplacementText":return;case"insertLineBreak":case"insertParagraph":return this.handleEnter(r);case"insertFromPaste":case"insertText":case"insertFromDrop":default:return this.handleInsert(r,(a=(i=r.data)!==null&&i!==void 0?i:(s=r.dataTransfer)===null||s===void 0?void 0:s.getData("text/plain"))!==null&&a!==void 0?a:"")}}),this.eventListener.listen("input",()=>{this.upcomingElementState&&(this.updateElementState(this.upcomingElementState),this.upcomingElementState=null)},{capture:!0}),this.eventListener.listen("input",({inputType:r})=>{r!=="insertCompositionText"&&(this.ensureValueFitsMask(),this.updateHistory(this.elementState))}),this.eventListener.listen("compositionend",()=>{this.ensureValueFitsMask(),this.updateHistory(this.elementState)})}destroy(){this.eventListener.destroy(),this.teardowns.forEach(n=>n?.())}updateElementState({value:n,selection:e},r){let i=this.elementState.value;this.updateValue(n),this.updateSelectionRange(e),r&&i!==n&&this.dispatchInputEvent(r)}get elementState(){let{value:n,selectionStart:e,selectionEnd:r}=this.element;return{value:n,selection:[e??0,r??0]}}get maxLength(){let{maxLength:n}=this.element;return n===-1?1/0:n}updateSelectionRange([n,e]){var r;let{element:i}=this;i.matches(":focus")&&(i.selectionStart!==n||i.selectionEnd!==e)&&((r=i.setSelectionRange)===null||r===void 0||r.call(i,n,e))}updateValue(n){this.element.value=n}ensureValueFitsMask(){this.updateElementState(hp(this.elementState,this.options),{inputType:"insertText",data:null})}dispatchInputEvent(n={inputType:"insertText",data:null}){globalThis.InputEvent&&this.element.dispatchEvent(new InputEvent("input",Object.assign(Object.assign({},n),{bubbles:!0,cancelable:!1})))}handleDelete({event:n,selection:e,isForward:r,force:i=!1}){let s={value:this.elementState.value,selection:e},[a,o]=s.selection,{elementState:c}=this.preprocessor({elementState:s,data:""},r?"deleteForward":"deleteBackward"),l=new Ff(c,this.options),[u,f]=c.selection;l.deleteCharacters([u,f]);let h=this.postprocessor(l,s);if(!(s.value.slice(0,a)+s.value.slice(o)===h.value&&!i&&!this.element.isContentEditable)){if(HJ(s,c,l,h))return n.preventDefault(),this.updateSelectionRange(r?[f,f]:[u,u]);this.upcomingElementState=h}}handleInsert(n,e){let{options:r,maxLength:i,element:s,elementState:a}=this,{elementState:o,data:c=e}=this.preprocessor({data:e,elementState:a},"insert"),l=new Ff(o,r);try{l.addCharacters(o.selection,c)}catch{return n.preventDefault()}let[u,f]=o.selection,h=a.value.slice(0,u)+e+a.value.slice(f),p=this.postprocessor(l,a);if(p.value.length>i)return n.preventDefault();(h!==p.value||s.isContentEditable)&&(this.upcomingElementState=p,r.overwriteMode==="replace"&&h.length>i&&this.dispatchInputEvent({inputType:"insertText",data:e}))}handleEnter(n){(this.isTextArea||this.element.isContentEditable)&&this.handleInsert(n,`
`)}};var qJ={hours:23,minutes:59,seconds:59,milliseconds:999},Xb=[":","."],yI={hours:2,minutes:2,seconds:2,milliseconds:3};var eq=":",tq="\uFF1A";var xI=/[\\^$.*+?()[\]{}|]/g,nq=new RegExp(xI.source);function bI(t){return t&&nq.test(t)?t.replaceAll(xI,String.raw`\$&`):t}var rq=/^0+$/;function Zb(t,n,e=0){let r=t.padEnd(n.length,"0");if(Number(r)<=Number(n))return{validatedSegmentValue:t,prefixedZeroesCount:e};if(r.endsWith("0"))return Zb(`0${t.slice(0,n.length-1)}`,n,e+1);let i=t.slice(0,n.length-1);return rq.exec(i)?{validatedSegmentValue:"",prefixedZeroesCount:e}:Zb(`${i}0`,n,e)}function pI(t){return t.replaceAll(new RegExp(tq,"g"),eq)}function mI(t){return t.replaceAll(/[０-９]/g,n=>String.fromCharCode(n.charCodeAt(0)-65248))}function iq(){return({elementState:t,data:n})=>{let{value:e,selection:r}=t;return{elementState:{selection:r,value:pI(e)},data:pI(n)}}}function aq(){return({elementState:t,data:n})=>{let{value:e,selection:r}=t;return{elementState:{selection:r,value:mI(e)},data:mI(n)}}}var sq=()=>{};function oq({step:t,fullMode:n,timeSegmentMaxValues:e}){let r=lq(n);return t<=0?sq:i=>{let s=a=>{var o;if(a.key!=="ArrowUp"&&a.key!=="ArrowDown")return;a.preventDefault();let c=(o=i.selectionStart)!==null&&o!==void 0?o:0,l=cq({segmentsIndexes:r,selectionStart:c});if(!l)return;let u=uq({selection:r.get(l),value:i.value,toAdd:a.key==="ArrowUp"?t:-t,max:e[l]});hI(i,{value:u,selection:[c,c]})};return i.addEventListener("keydown",s),()=>i.removeEventListener("keydown",s)}}function lq(t){return new Map([["hours",pp(t,"HH")],["milliseconds",pp(t,"MSS")],["minutes",pp(t,"MM")],["seconds",pp(t,"SS")]])}function pp(t,n){let e=t.indexOf(n);return e===-1?[-1,-1]:[e,e+n.length]}function cq({segmentsIndexes:t,selectionStart:n}){for(let[e,r]of t.entries()){let[i,s]=r;if(i<=n&&n<=s)return e}return null}function uq({selection:t,value:n,toAdd:e,max:r}){let[i,s]=t,a=Number(n.slice(i,s).padEnd(s-i,"0")),o=fq(a+e,r+1);return n.slice(0,i)+String(o).padStart(s-i,"0")+n.slice(s,n.length)}function fq(t,n){return t<0&&(t+=Math.floor(Math.abs(t)/n+1)*n),t%n}function dq(){return({elementState:t},n)=>{let{value:e,selection:r}=t;if(!e||hq(e,r))return{elementState:t};let[i,s]=r,a=e.slice(i,s).replaceAll(/\d/g,"0"),o=e.slice(0,i)+a+e.slice(s);return n==="validation"||n==="insert"&&i===s?{elementState:{selection:r,value:o}}:{elementState:{selection:n==="deleteBackward"||n==="insert"?[i,i]:[s,s],value:o}}}}function hq(t,[n,e]){return e===t.length}function pq(t,n){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,n(String(r),yI[e])]))}function mq(t){return pq(t,(n,e)=>n.padStart(e,"0"))}var vq={HH:"hours",MM:"minutes",SS:"seconds",MSS:"milliseconds"};function gq(t,n){let e=t.replaceAll(/\D+/g,""),r=0;return Object.fromEntries(n.split(/\W/).map(i=>{let s=e.slice(r,r+i.length);return r+=i.length,[vq[i],s]}))}var yq=/^\D*/,xq=/\D*$/;function vI({hours:t="",minutes:n="",seconds:e="",milliseconds:r=""}){return`${t}:${n}:${e}.${r}`.replace(yq,"").replace(xq,"")}var bq=new RegExp(`[${Xb.map(bI).join("")}]$`);function gI({timeString:t,paddedMaxValues:n,offset:e,selection:[r,i],timeMode:s}){let a=gq(t,s),o=Object.entries(a),c={},l=0;for(let[p,m]of o){let d=vI(c),y=n[p],x=d.length&&1,w=e+d.length+x+yI[p];if(w>=r&&w<=i&&Number(m)>Number(y))return{validatedTimeString:"",updatedTimeSelection:[r,i]};let{validatedSegmentValue:_,prefixedZeroesCount:D}=Zb(m,`${y}`);l+=D,c[p]=_}let[u=""]=t.match(bq)||[],f=vI(c)+u,h=Math.max(f.length-t.length,0);return{validatedTimeString:f,updatedTimeSelection:[r+l+h,i+l+h]}}function Cq(t,n){let e=mq(t),r=new RegExp(`[^\\d${Xb.map(bI).join("")}]+`);return({elementState:i,data:s},a)=>{if(a==="deleteBackward"||a==="deleteForward")return{elementState:i,data:s};let{value:o,selection:c}=i;if(a==="validation"){let{validatedTimeString:x,updatedTimeSelection:w}=gI({timeString:o,paddedMaxValues:e,offset:0,selection:c,timeMode:n});return{elementState:{value:x,selection:w},data:s}}let l=s.replace(r,""),[u,f]=c,h=f+l.length,p=o.slice(0,u)+l+o.slice(h),{validatedTimeString:m,updatedTimeSelection:d}=gI({timeString:p,paddedMaxValues:e,offset:0,selection:[u,h],timeMode:n});if(p&&!m)return{elementState:i,data:""};h=d[1];let y=m.slice(u,h);return{elementState:{selection:c,value:m.slice(0,u)+"0".repeat(y.length)+m.slice(h)},data:y}}}function CI({mode:t,timeSegmentMaxValues:n={},step:e=0}){let r=Object.assign(Object.assign({},qJ),n);return Object.assign(Object.assign({},Bf),{mask:Array.from(t).map(i=>Xb.includes(i)?i:/\d/),preprocessors:[aq(),iq(),dq(),Cq(r,t)],plugins:[oq({fullMode:t,step:e,timeSegmentMaxValues:r})],overwriteMode:"replace"})}var MI=(()=>{class t{constructor(){this.elementRef=Hn(Ui).nativeElement,this.ngZone=Hn(Wr),this.maskedElement=null,this.options=null,this.elementPredicate=fI;let e=Hn(Yr,{self:!0,optional:!0});if(e){let r=e.writeValue.bind(e);e.writeValue=i=>{r(this.options?hp(String(i??""),this.options):i)}}}ngOnChanges(){return J6(this,null,function*(){let{elementPredicate:e,options:r,maskedElement:i,elementRef:s,ngZone:a}=this;if(i?.destroy(),!r)return;let o=yield e(s);this.elementPredicate!==e||this.options!==r||a.runOutsideAngular(()=>{this.maskedElement=new fp(o,r)})})}ngOnDestroy(){this.maskedElement?.destroy()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Er({type:t,selectors:[["","maskito",""]],inputs:{options:[0,"maskito","options"],elementPredicate:[0,"maskitoElement","elementPredicate"]},standalone:!0,features:[Fs]})}}return t})();function Mq(t,n){t&1&&(se(0,"div",12),Ie(1,"Needs to be a text in form hh:mm"),de())}var f6=(()=>{class t extends ji{constructor(e,r,i,s,a){super(),this.schedules=e,this.fb=r,this.dispatcher=i,this.inputs=s,this.validators=a,this.controlName="surfaceInterval",this.maskitoTimeOptions=CI({mode:"HH:MM",timeSegmentMaxValues:{hours:48}})}get surfaceIntervalInvalid(){let e=this.form.get(this.controlName);return this.inputs.controlInValid(e)}get surfaceReadOnly(){return!this.schedules.selected.isRepetitive}get placeHolder(){return this.surfaceReadOnly?"First dive":"HH:MM"}get surfaceInterval(){return this.schedules.selected.surfaceIntervalText}ngOnInit(){if(!this.form){this.form=this.fb.group([]);let e=this.fb.control(this.surfaceInterval,[this.validators.surfaceInterval()]);this.form.addControl(this.controlName,e)}this.dispatcher.depthChanged$.pipe(er(this.unsubscribe$)).subscribe(()=>{this.reload()})}applyPrimary(){this.schedules.selected.applyPrimarySurfaceInterval(),this.reload()}applyOneHour(){this.schedules.selected.applyOneHourSurfaceInterval(),this.reload()}apply30Minutes(){this.schedules.selected.apply30MinutesSurfaceInterval(),this.reload()}apply2Hour(){this.schedules.selected.apply2HourSurfaceInterval(),this.reload()}surfaceIntervalChanged(){if(this.form.invalid)return;let e=this.form.get(this.controlName);this.setSurfaceInterval(e?.value)}setSurfaceInterval(e){let r=Na.parseToShortTime(e);r&&(this.schedules.selected.surfaceInterval=r)}reload(){this.form.patchValue({[this.controlName]:this.surfaceInterval})}static{this.\u0275fac=function(r){return new(r||t)(ht(kr),ht(Fr),ht(Ei),ht(qr),ht(Pr))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-surface-interval"]],inputs:{form:"form",controlName:"controlName"},standalone:!0,features:[Nr,dl],decls:20,vars:8,consts:[[3,"formGroup"],["for","surfaceInterval","mdbLabel","",1,"form-label"],["mdbDropdown","",1,"input-group","dropdown"],["id","surfaceInterval","type","text",1,"form-control",3,"input","formControlName","maskito","placeholder","readonly"],["aria-expanded","false","id","surfaceIntervalMenu","type","button","data-mdb-toggle","dropdown","mdbDropdownToggle","",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],["id","btnApplyFirst",3,"click"],[1,"dropdown-item"],["id","btnApply30Minutes",3,"click"],["id","btnApplyOneHour",3,"click"],["id","btnApply2Hour",3,"click"],["class","text-danger form-text position-absolute",4,"ngIf"],[1,"text-danger","form-text","position-absolute"]],template:function(r,i){r&1&&(Mi(0,0),se(1,"label",1),Ie(2,"Surface interval [min]:"),de(),se(3,"div",2)(4,"input",3),Bt("input",function(){return i.surfaceIntervalChanged()}),de(),Nt(5,"button",4),se(6,"ul",5)(7,"li",6),Bt("click",function(){return i.applyPrimary()}),se(8,"a",7),Ie(9,"First dive"),de()(),se(10,"li",8),Bt("click",function(){return i.apply30Minutes()}),se(11,"a",7),Ie(12,"30 minutes"),de()(),se(13,"li",9),Bt("click",function(){return i.applyOneHour()}),se(14,"a",7),Ie(15,"1 Hour"),de()(),se(16,"li",10),Bt("click",function(){return i.apply2Hour()}),se(17,"a",7),Ie(18,"2 Hours"),de()()()(),tn(19,Mq,2,0,"div",11),wi()),r&2&&(Ne("formGroup",i.form),fe(4),Mn("is-invalid",i.surfaceIntervalInvalid),Ne("formControlName",i.controlName)("maskito",i.maskitoTimeOptions)("placeholder",i.placeHolder)("readonly",i.surfaceReadOnly),fe(15),Ne("ngIf",i.surfaceIntervalInvalid))},dependencies:[MI,yh,Yr,fi,Rr,Or,oi,Jh,Vs,Ds,Ts,qh,Oi,fr]})}}return t})();function wq(t,n){if(t&1&&(se(0,"div",21),Nt(1,"app-surface-interval",22),de()),t&2){let e=lt();fe(),Ne("form",e.complexForm)}}function _q(t,n){if(t&1){let e=ar();se(0,"button",29),Bt("click",function(){Dn(e);let i=lt(2).index,s=lt();return Tn(s.removeLevel(i))}),Nt(1,"fa-icon",30),de()}if(t&2){let e=lt(3);fe(),Ne("icon",e.removeIcon)}}function Sq(t,n){if(t&1&&(se(0,"div",14)(1,"div",26),Ie(2),de(),se(3,"div",27),tn(4,_q,2,1,"button",28),de()()),t&2){let e=lt().index,r=lt();fe(2),Ft(" ",r.labelFor(e)," "),fe(2),Ne("ngIf",r.minimumSegments)}}function Lq(t,n){if(t&1&&(se(0,"div",42),Ie(1),de()),t&2){let e=lt(3);fe(),Ft(" Needs to be number ",e.ranges.depthLabel,"")}}function Dq(t,n){if(t&1&&(se(0,"div",42),Ie(1),de()),t&2){let e=lt(3);fe(),Ft("Needs to be number ",e.ranges.durationLabel,"")}}function Tq(t,n){if(t&1){let e=ar();se(0,"li",43),Bt("click",function(){let i=Dn(e).$implicit,s=lt(2).index,a=lt();return Tn(a.assignTank(s,i))}),se(1,"a",44),Ie(2),de()()}if(t&2){let e=n.$implicit;fe(2),Kn(e.label)}}function Aq(t,n){if(t&1){let e=ar();se(0,"div",14)(1,"div",31)(2,"label",32),Ie(3),de(),se(4,"input",33),Bt("input",function(){Dn(e);let i=lt().index,s=lt();return Tn(s.levelChanged(i))}),de(),tn(5,Lq,2,1,"div",34),de(),se(6,"div",31)(7,"label",32),Ie(8,"Duration [min]:"),de(),se(9,"input",35),Bt("input",function(){Dn(e);let i=lt().index,s=lt();return Tn(s.levelChanged(i))}),de(),tn(10,Dq,2,1,"div",34),de(),se(11,"div",36)(12,"label",32),Ie(13,"Tank:"),de(),se(14,"div",37),Nt(15,"input",38)(16,"button",39),se(17,"ul",40),tn(18,Tq,3,1,"li",41),de()()()()}if(t&2){let e=lt().index,r=lt();fe(2),ua("for","depthItemB-",e,""),fe(),Ea("From ",r.startDepth(e)," To [",r.units.length,"]:"),fe(),Mn("is-invalid",r.depthItemInvalid(e)),ua("id","depthItemB-",e,""),Ne("min",0)("max",r.ranges.depth[1]),fe(),Ne("ngIf",r.depthItemInvalid(e)),fe(2),ua("for","durationItemB-",e,""),fe(2),Mn("is-invalid",r.durationItemInvalid(e)),ua("id","durationItemB-",e,""),Ne("min",r.ranges.duration[0])("max",r.ranges.duration[1]),fe(),Ne("ngIf",r.durationItemInvalid(e)),fe(2),ua("for","tanksB-",e,""),fe(3),ua("id","tanksB-",e,""),Ne("value",r.tankLabelFor(e)),fe(3),Ne("ngForOf",r.tanks)}}function zq(t,n){if(t&1&&(se(0,"mdb-accordion-item",23),tn(1,Sq,5,2,"ng-template",24)(2,Aq,19,26,"ng-template",25),de()),t&2){let e=n.index;Ne("formGroupName",e)}}function Eq(t,n){if(t&1){let e=ar();se(0,"li",43),Bt("click",function(){let i=Dn(e).$implicit,s=lt().index,a=lt();return Tn(a.assignTank(s,i))}),se(1,"a",44),Ie(2),de()()}if(t&2){let e=n.$implicit;fe(2),Kn(e.label)}}function Iq(t,n){if(t&1){let e=ar();se(0,"button",54),Bt("click",function(){Dn(e);let i=lt().index,s=lt();return Tn(s.removeLevel(i))}),Nt(1,"fa-icon",30),de()}if(t&2){let e=lt().index,r=lt();ua("id","removeLevel-",e,""),fe(),Ne("icon",r.removeIcon)}}function kq(t,n){if(t&1&&(se(0,"small",42),Ie(1),de()),t&2){let e=lt(2);fe(),Ft(" End depth needs to be number ",e.ranges.depthLabel,". ")}}function Nq(t,n){if(t&1&&(se(0,"small",42),Ie(1),de()),t&2){let e=lt(2);fe(),Ft(" Duration needs to be number ",e.ranges.durationLabel,".")}}function Pq(t,n){if(t&1){let e=ar();se(0,"div",45)(1,"div",46)(2,"div",47),Ie(3),cn(4,"number"),de(),se(5,"div",48)(6,"input",33),Bt("input",function(){let i=Dn(e).index,s=lt();return Tn(s.levelChanged(i))}),de()(),se(7,"div",48)(8,"input",35),Bt("input",function(){let i=Dn(e).index,s=lt();return Tn(s.levelChanged(i))}),de()(),se(9,"div",31)(10,"div",37),Nt(11,"input",38)(12,"button",39),se(13,"ul",40),tn(14,Eq,3,1,"li",41),de()()(),se(15,"div",49),tn(16,Iq,2,3,"button",50),de()(),se(17,"div",51)(18,"div",52)(19,"div",14),Nt(20,"div",10),se(21,"div",53),tn(22,kq,2,1,"small",34)(23,Nq,2,1,"small",34),de()()(),Nt(24,"div",10),de()()}if(t&2){let e=n.index,r=lt();Ne("formGroupName",e),fe(3),Kn(un(4,21,r.startDepth(e),"1.0-0")),fe(3),Mn("is-invalid",r.depthItemInvalid(e)),ua("id","depthItem-",e,""),Ne("min",0)("max",r.ranges.depth[1]),fe(2),Mn("is-invalid",r.durationItemInvalid(e)),ua("id","durationItem-",e,""),Ne("min",r.ranges.duration[0])("max",r.ranges.duration[1]),fe(3),ua("id","tanks-",e,""),Ne("value",r.tankLabelFor(e)),fe(3),Ne("ngForOf",r.tanks),fe(2),Ne("ngIf",r.minimumSegments),fe(6),Ne("ngIf",r.depthItemInvalid(e)),fe(),Ne("ngIf",r.durationItemInvalid(e))}}var Kb=(()=>{class t extends ji{constructor(e,r,i,s,a,o){super(),this.fb=e,this.inputs=r,this.validators=i,this.units=s,this.schedules=a,this.dispatcher=o,this.cardIcon=A7,this.addIcon=J4,this.removeIcon=_l,this.rootForm=this.fb.group({})}get ranges(){return this.units.ranges}get isFirstDive(){return this.schedules.selected.isFirst}get minimumSegments(){return this.depths.minimumSegments}get tanks(){return this.schedules.selectedTanks.tanks}get levelControls(){return this.complexForm.controls.levels}get depths(){return this.schedules.selectedDepths}get surfaceInterval(){return this.schedules.selected.surfaceIntervalText}depthItemInvalid(e){let i=this.levelControls.at(e).controls.endDepth;return this.inputs.controlInValid(i)}durationItemInvalid(e){let i=this.levelControls.at(e).controls.duration;return this.inputs.controlInValid(i)}startDepth(e){return this.levelAt(e).startDepth}labelFor(e){let r=this.levelAt(e);return`${r.startDepth}-${r.endDepth} ${this.units.length} ${r.duration} min`}tankLabelFor(e){return this.levelAt(e).tankLabel}assignTank(e,r){let i=this.levelAt(e);this.depths.assignTank(i,r)}ngOnInit(){this.complexForm=this.fb.group({surfaceInterval:[this.surfaceInterval,this.validators.surfaceInterval()],levels:this.fb.array(this.createLevelControls())}),this.dispatcher.selectedChanged$.pipe(er(this.unsubscribe$)).subscribe(()=>{this.reload()}),this.dispatcher.depthsReloaded$.pipe(er(this.unsubscribe$)).subscribe(e=>{this.depths===e&&this.reload()}),this.rootForm.addControl("depths",this.complexForm)}addLevel(){if(this.rootForm.invalid)return;this.depths.addSegment();let e=this.depths.levels.length-1,r=this.levelAt(e),i=this.createLevelControl(r);this.levelControls.push(i)}removeLevel(e){if(this.rootForm.invalid||!this.minimumSegments)return;let r=this.levelAt(e);this.depths.removeSegment(r),this.levelControls.removeAt(e)}levelChanged(e){if(this.rootForm.invalid)return;let r=this.levelAt(e),s=this.levelControls.at(e).value;r.duration=Number(s.duration),r.endDepth=Number(s.endDepth),this.depths.levelChanged()}reload(){this.complexForm.patchValue({surfaceInterval:this.surfaceInterval}),this.levelControls.clear(),this.createLevelControls().forEach(e=>this.levelControls.push(e))}createLevelControls(){let e=[];for(let r of this.depths.levels){let i=this.createLevelControl(r);e.push(i)}return e}createLevelControl(e){return this.fb.group({duration:[Qt.round(e.duration,1),this.validators.duration],endDepth:[Qt.round(e.endDepth,1),this.validators.depthFromSurface]})}levelAt(e){return this.depths.levels[e]}static{this.\u0275fac=function(r){return new(r||t)(ht(Fr),ht(qr),ht(Pr),ht(Fn),ht(kr),ht(Ei))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-depths-complex"]],inputs:{rootForm:"rootForm"},features:[Nr],decls:29,vars:10,consts:[[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[3,"formGroup"],[1,"card-body"],["class","row col-md-6 col-lg-12 col-xl-6 pb-2 mb-4",4,"ngIf"],["formArrayName","levels",1,"d-md-none","d-block"],[3,"flush"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","justify-content-end","pe-2","m-3"],[1,"col","col-1"],["type","button",1,"p-1","btn","btn-secondary",3,"click"],[1,"fa-xl",3,"icon"],["formArrayName","levels",1,"d-none","d-md-block"],[1,"row"],[1,"col","col-1","m-0","px-1","text-end"],[1,"col","col-2","m-0","px-1"],[1,"col","col-6","m-0","px-1"],[1,"col","col-1","m-0","px-1"],["id","addLevel","type","button",1,"p-1","btn","btn-secondary",3,"click"],["class","px-0 pb-2",3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","col-md-6","col-lg-12","col-xl-6","pb-2","mb-4"],["controlName","surfaceInterval",3,"form"],[3,"formGroupName"],["mdbAccordionItemHeader",""],["mdbAccordionItemBody",""],[1,"col","col-auto","d-flex","align-items-center"],[1,"col","col-1","pe-1"],["class","m-0 p-1 btn btn-secondary","type","button",3,"click",4,"ngIf"],["type","button",1,"m-0","p-1","btn","btn-secondary",3,"click"],[1,"p-0","m-0","fa-xl",3,"icon"],[1,"col","col-6","m-0","pb-0","px-1"],[1,"form-label","mt-2",3,"for"],["formControlName","endDepth","type","number","required","","step","1",1,"form-control",3,"input","id","min","max"],["class","text-danger",4,"ngIf"],["formControlName","duration","type","number","required","","step","1",1,"form-control",3,"input","id","min","max"],[1,"col","col-12","m-0","pb-0","px-1"],["mdbDropdown","",1,"input-group","dropdown"],["type","text","readonly","",1,"form-control",3,"id","value"],["id","tankMenu","type","button","mdbDropdownToggle","","aria-expanded","false","data-mdb-toggle","dropdown",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[3,"click",4,"ngFor","ngForOf"],[1,"text-danger"],[3,"click"],[1,"dropdown-item"],[1,"px-0","pb-2",3,"formGroupName"],[1,"row","p-0","pb-1"],[1,"col","col-12","col-sm-1","m-0","pb-0","px-1","text-end","align-self-center"],[1,"col","col-12","col-sm-2","m-0","pb-0","px-1"],[1,"col","col-12","col-sm-1","m-0","pb-0","px-1","align-self-center"],["type","button","class","m-0 p-1 btn btn-secondary",3,"id","click",4,"ngIf"],[1,"row","p-0","pb-2"],[1,"col","col-11"],[1,"col","m-0","px-0"],["type","button",1,"m-0","p-1","btn","btn-secondary",3,"click","id"]],template:function(r,i){r&1&&(se(0,"div",0)(1,"div",1),Nt(2,"fa-icon",2),se(3,"span"),Ie(4,"Depths"),de()(),se(5,"form",3)(6,"div",4),tn(7,wq,2,1,"div",5),se(8,"div",6)(9,"mdb-accordion",7),tn(10,zq,3,1,"mdb-accordion-item",8),de(),se(11,"div",9)(12,"div",10)(13,"button",11),Bt("click",function(){return i.addLevel()}),Nt(14,"fa-icon",12),de()()()(),se(15,"div",13)(16,"div",14)(17,"div",15),Ie(18),de(),se(19,"div",16),Ie(20),de(),se(21,"div",16),Ie(22,"Duration [min]"),de(),se(23,"div",17),Ie(24,"Tank"),de(),se(25,"div",18)(26,"button",19),Bt("click",function(){return i.addLevel()}),Nt(27,"fa-icon",12),de()()(),tn(28,Pq,25,24,"div",20),de()()()()),r&2&&(fe(2),Ne("icon",i.cardIcon),fe(3),Ne("formGroup",i.complexForm),fe(2),Ne("ngIf",!i.isFirstDive),fe(2),Ne("flush",!0),fe(),Ne("ngForOf",i.levelControls.controls),fe(4),Ne("icon",i.addIcon),fe(4),Ft("From [",i.units.length,"]"),fe(2),Ft("To [",i.units.length,"]"),fe(7),Ne("icon",i.addIcon),fe(),Ne("ngForOf",i.levelControls.controls))},dependencies:[Ta,fr,xr,Xa,Yr,vi,fi,Rr,ea,yi,gi,Or,oi,D4,T4,Vs,Ds,Ts,r7,af,n7,t7,f6,Jr]})}}return t})();var Qb=(()=>{class t{constructor(e,r,i,s){this.fb=e,this.inputs=r,this.validators=i,this.units=s,this.controlName="depth",this.bestNitroxMix="",this.plannedDepth=0,this.depthChange=new rr,this.assignMaxDepth=new rr}get depthInvalid(){let e=this.depthForm.get(this.controlName);return!e||this.inputs.controlInValid(e)}depthChanged(){if(this.depthForm.invalid)return;let e=this.depthForm.get(this.controlName),r=Number(e?.value);this.depthChange.next(Number(r))}applyMaxDepth(){this.assignMaxDepth.next({})}ngOnInit(){if(!this.depthForm){this.depthForm=this.fb.group({});let e=this.fb.control(Qt.round(this.plannedDepth,1),this.validators.depth);this.depthForm.addControl(this.controlName,e)}}static{this.\u0275fac=function(r){return new(r||t)(ht(Fr),ht(qr),ht(Pr),ht(Fn))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-depth"]],inputs:{depthForm:"depthForm",controlName:"controlName",bestNitroxMix:"bestNitroxMix",plannedDepth:"plannedDepth"},outputs:{depthChange:"depthChange",assignMaxDepth:"assignMaxDepth"},decls:10,vars:11,consts:[[3,"formGroup"],["for","depthField","mdbLabel","",1,"form-label"],["id","depthField","type","number","required","","step","1",1,"form-control",3,"input","formControlName","min","max"],[1,"invalid-feedback","position-absolute"],[1,"text-muted","form-text"],["type","button","id","applyMaxDepthBtn",1,"btn","btn-secondary","mt-2",3,"click"]],template:function(r,i){r&1&&(Mi(0,0),se(1,"label",1),Ie(2),de(),se(3,"input",2),Bt("input",function(){return i.depthChanged()}),de(),se(4,"div",3),Ie(5),de(),se(6,"div",4),Ie(7),de(),se(8,"button",5),Bt("click",function(){return i.applyMaxDepth()}),Ie(9,"Max"),de(),wi()),r&2&&(Ne("formGroup",i.depthForm),fe(2),Ft("Depth [",i.units.length,"]:"),fe(),Mn("is-invalid",i.depthInvalid),Ne("formControlName",i.controlName)("min",i.units.ranges.depth[0])("max",i.units.ranges.depth[1]),fe(2),Ft("Needs to be number ",i.units.ranges.depthLabel,""),fe(),Mn("invisible",i.depthInvalid),fe(),Ft("Best mix is ",i.bestNitroxMix,""))},dependencies:[Yr,vi,fi,Rr,ea,yi,gi,Or,oi,Oi]})}}return t})();function Fq(t,n){if(t&1&&(se(0,"div",4),Nt(1,"app-surface-interval",14),de()),t&2){let e=lt();fe(),Ne("form",e.simpleForm)}}var Jb=(()=>{class t extends ji{constructor(e,r,i,s,a,o){super(),this.fb=e,this.inputs=r,this.validators=i,this.units=s,this.schedules=a,this.dispatcher=o,this.cardIcon=A7,this.rootForm=this.fb.group({})}get ranges(){return this.units.ranges}get noDecoTime(){return this.diveResult.noDecoTime}get durationInvalid(){let e=this.simpleForm.controls.planDuration;return this.inputs.controlInValid(e)}get depths(){return this.schedules.selectedDepths}get diveResult(){return this.schedules.selectedResult}get isFirstDive(){return this.schedules.selected.isFirst}get surfaceInterval(){return this.schedules.selected.surfaceIntervalText}ngOnInit(){this.simpleForm=this.fb.group({surfaceInterval:[this.surfaceInterval,this.validators.surfaceInterval()],planDuration:[Qt.round(this.depths.planDuration,1),this.validators.duration],depth:[Qt.round(this.depths.plannedDepth,1),this.validators.depth]}),this.dispatcher.depthChanged$.pipe(er(this.unsubscribe$)).subscribe(()=>{this.reload()}),this.dispatcher.setToSimple$.pipe(er(this.unsubscribe$)).subscribe(()=>{this.reload()}),this.dispatcher.depthsReloaded$.pipe(er(this.unsubscribe$)).subscribe(e=>{this.depths===e&&this.reload()}),this.dispatcher.selectedChanged$.pipe(er(this.unsubscribe$)).subscribe(()=>this.reload()),this.rootForm.addControl("simpleDepths",this.simpleForm)}valuesChanged(){if(this.rootForm.invalid)return;let e=this.simpleForm.value;this.depths.planDuration=Number(e.planDuration),this.depths.plannedDepth=Number(e.depth)}depthChanged(e){this.depths.plannedDepth=e}assignMaxDepth(){this.depths.applyMaxDepth(),this.reload()}reload(){this.simpleForm.patchValue({surfaceInterval:this.surfaceInterval,planDuration:Qt.round(this.depths.planDuration,1),depth:Qt.round(this.depths.plannedDepth,1)})}static{this.\u0275fac=function(r){return new(r||t)(ht(Fr),ht(qr),ht(Pr),ht(Fn),ht(kr),ht(Ei))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-depths-simple"]],inputs:{rootForm:"rootForm"},features:[Nr],decls:22,vars:21,consts:[[1,"card",3,"formGroup"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body","row"],[1,"mb-4","col","col-12","col-md-6","col-lg-12","col-xl-6"],["for","duration","mdbLabel","",1,"form-label"],["id","duration","formControlName","planDuration","type","number","required","","step","1",1,"form-control",3,"input","min","max"],[1,"invalid-feedback","position-absolute"],[1,"text-muted","form-text"],["type","button","id","btnApplyDuration",1,"btn","btn-secondary","mt-2","me-2","col","col-auto",3,"click"],["type","button","id","btnApplyNdl",1,"btn","btn-secondary","mt-2","col","col-auto",3,"click"],[1,"col","col-12","col-md-6","col-lg-12","col-xl-6"],["controlName","depth",3,"depthChange","assignMaxDepth","plannedDepth","bestNitroxMix","depthForm"],["class","mb-4 col col-12 col-md-6 col-lg-12 col-xl-6",4,"ngIf"],["controlName","surfaceInterval",3,"form"]],template:function(r,i){r&1&&(se(0,"div",0)(1,"div",1),Nt(2,"fa-icon",2),se(3,"span"),Ie(4,"Depth"),de()(),se(5,"div",3)(6,"div",4)(7,"label",5),Ie(8,"Bottom time [min]:"),de(),se(9,"input",6),Bt("input",function(){return i.valuesChanged()}),de(),se(10,"div",7),Ie(11),de(),se(12,"div",8),Ie(13),cn(14,"number"),de(),se(15,"button",9),Bt("click",function(){return i.depths.applyMaxDuration()}),Ie(16,"Max"),de(),se(17,"button",10),Bt("click",function(){return i.depths.applyNdlDuration()}),Ie(18,"No deco"),de()(),se(19,"div",11)(20,"app-depth",12),Bt("depthChange",function(a){return i.depthChanged(a)})("assignMaxDepth",function(){return i.assignMaxDepth()}),de()(),tn(21,Fq,2,1,"div",13),de()()),r&2&&(Ne("formGroup",i.simpleForm),fe(2),Ne("icon",i.cardIcon),fe(7),Mn("is-invalid",i.durationInvalid),Ne("min",i.ranges.duration[0])("max",i.ranges.duration[1]),fe(2),Ft("Needs to be number ",i.ranges.durationLabel," "),fe(),Mn("invisible",i.durationInvalid),fe(),Ft("No deco limit ",un(14,18,i.noDecoTime,"1.0-0")," min"),fe(2),Mn("invisible",!i.diveResult.showMaxDuration),fe(2),Mn("invisible",!i.diveResult.ndlValid),fe(3),Ne("plannedDepth",i.depths.plannedDepth)("bestNitroxMix",i.depths.bestNitroxMix)("depthForm",i.simpleForm),fe(),Ne("ngIf",!i.isFirstDive))},dependencies:[fr,xr,Yr,vi,fi,Rr,ea,yi,gi,Or,oi,Oi,f6,Qb,Jr]})}}return t})();var a2=(()=>{class t{static{this.depthConverterWarning="This calculator uses simple depth conversion (where 1 ATM = 1 bar), so thevalues shown here are less precise, than in rest of the application."}static{this.cnsOverOneThousand="> 1000"}}return t})();function Vq(t,n){t&1&&(se(0,"div",1),Nt(1,"div",2),Ie(2,` Calculating ...
`),de())}var c1=(()=>{class t{constructor(){this.show=!1}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-calculating"]],inputs:{show:"show"},decls:1,vars:1,consts:[["class","mb-2 container",4,"ngIf"],[1,"mb-2","container"],[1,"spinner-grow","spinner-grow-sm","text-info","me-2"]],template:function(r,i){r&1&&tn(0,Vq,3,0,"div",0),r&2&&Ne("ngIf",i.show)},dependencies:[fr]})}}return t})();var _I=G1(n2());var s2=(()=>{class t{constructor(e){this.datePipe=e}transform(e,r){if(!e)return"";e=Math.abs(e),r=Math.abs(r);let i=Na.toDate(e),s=Na.selectTimeFormat(r),a=this.datePipe.transform(i,s)||"",o=mr.toHours(e);return o=Math.trunc(o),o>=1?`${o}:${a}`:a}static{this.\u0275fac=function(r){return new(r||t)(ht(q5,16))}}static{this.\u0275pipe=h4({name:"duration",type:t,pure:!0})}}return t})();function Hq(t,n){if(t&1&&(se(0,"div",2),Nt(1,"fa-icon",3),se(2,"span"),Ie(3,"There was an error while calculating profile."),de()()),t&2){let e=lt();fe(),Ne("icon",e.exclamation)}}function Uq(t,n){if(t&1&&(se(0,"div",2),Nt(1,"fa-icon",3),se(2,"span"),Ie(3),cn(4,"number"),de()()),t&2){let e=lt();fe(),Ne("icon",e.exclamation),fe(2),Ft("Not enough time to realize the dive (duration needs to be at least ",un(4,2,e.minimumDuration,"1.0-0")," min)! Set longer planed dive time.")}}function jq(t,n){if(t&1&&(se(0,"span"),Ie(1),cn(2,"number"),de()),t&2){let e=lt(3);fe(),Ft("Not enough gas to realize the dive! Maximum bottom time for current amount of gas is ",un(2,1,e.dive.maxTime,"1.0-0")," min. Use larger tank, fill it with more gas, reduce dive duration or planned depth.")}}function Gq(t,n){t&1&&(se(0,"span"),Ie(1,"Not enough gas to realize the dive! Maximum bottom time for current amount of gas is shorter than currently planned dive. Use larger tank, fill it with more gas, reduce dive duration or planned depth."),de())}function $q(t,n){if(t&1&&(se(0,"div",2),Nt(1,"fa-icon",3),tn(2,jq,3,4,"span",1)(3,Gq,2,0,"span",1),de()),t&2){let e=lt(2);fe(),Ne("icon",e.exclamation),fe(),Ne("ngIf",e.dive.showMaxBottomTime),fe(),Ne("ngIf",!e.dive.showMaxBottomTime)}}function Wq(t,n){if(t&1&&(se(0,"div",6),Nt(1,"fa-icon",3),se(2,"span"),Ie(3),cn(4,"number"),de()()),t&2){let e=lt(2);fe(),Ne("icon",e.warning),fe(2),Ea("Exceeded 80 % of maximum single exposure oxygen toxicity units (",un(4,3,e.dive.otu,"1.0-0"),"/",e.otuLimit," OTU)! There is a high risk of lungs injury. Reduce amount of oxygen in your gases, dive duration or target depths.")}}function Yq(t,n){if(t&1&&(se(0,"div",6),Nt(1,"fa-icon",3),se(2,"span"),Ie(3),cn(4,"number"),de()()),t&2){let e=lt(2);fe(),Ne("icon",e.warning),fe(2),Ft("Exceeded 80 % of maximum single exposure oxygen toxicity (",un(4,2,e.dive.cns,"1.0-0")," %)! There is a high risk of CNS injury. Reduce amount of oxygen in your gases, dive duration or target depths.")}}function Zq(t,n){if(t&1&&(se(0,"div",8),Nt(1,"fa-icon",3),se(2,"strong"),Ie(3),cn(4,"duration"),cn(5,"number"),de(),se(6,"span"),Ie(7),cn(8,"number"),de()()),t&2){let e=lt().$implicit,r=lt(2);fe(),Ne("icon",r.info),fe(2),Oa("",un(4,5,e.timeStamp,e.timeStamp)," min, ",un(5,8,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": "),fe(4),Ft("No decompression time for current depth exceeded (For no decompression dive set dive time maximum to ",un(8,11,r.noDeco,"1.0-0")," min)!")}}function Xq(t,n){if(t&1&&(se(0,"div",6),Nt(1,"fa-icon",3),se(2,"strong"),Ie(3),cn(4,"duration"),cn(5,"number"),de(),se(6,"span"),Ie(7,"Reached low partial pressure of oxygen (minimum depth exceeded)! There is a risk of hypoxia. Use gas with higher oxygen content."),de()()),t&2){let e=lt().$implicit,r=lt(2);fe(),Ne("icon",r.warning),fe(2),Oa("",un(4,4,e.timeStamp,e.timeStamp)," min, ",un(5,7,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": ")}}function Kq(t,n){if(t&1&&(se(0,"div",6),Nt(1,"fa-icon",3),se(2,"strong"),Ie(3),cn(4,"duration"),cn(5,"number"),de(),se(6,"span"),Ie(7,"Reached high partial pressure of oxygen (maximum depth exceeded)! There is a risk of oxygen toxicity. Reduce the depth or use gas with lower oxygen content."),de()()),t&2){let e=lt().$implicit,r=lt(2);fe(),Ne("icon",r.warning),fe(2),Oa("",un(4,4,e.timeStamp,e.timeStamp)," min, ",un(5,7,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": ")}}function Qq(t,n){if(t&1&&(se(0,"div",6),Nt(1,"fa-icon",3),se(2,"strong"),Ie(3),cn(4,"duration"),cn(5,"number"),de(),se(6,"span"),Ie(7,"High descent speed! Descent longer time or descent to lower depth."),de()()),t&2){let e=lt().$implicit,r=lt(2);fe(),Ne("icon",r.warning),fe(2),Oa("",un(4,4,e.timeStamp,e.timeStamp)," min, ",un(5,7,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": ")}}function Jq(t,n){if(t&1&&(se(0,"div",6),Nt(1,"fa-icon",3),se(2,"strong"),Ie(3),cn(4,"duration"),cn(5,"number"),de(),se(6,"span"),Ie(7,"High ascent speed! Ascent to higher depth only or ascent longer time."),de()()),t&2){let e=lt().$implicit,r=lt(2);fe(),Ne("icon",r.warning),fe(2),Oa("",un(4,4,e.timeStamp,e.timeStamp)," min, ",un(5,7,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": ")}}function qq(t,n){if(t&1&&(se(0,"div",6),Nt(1,"fa-icon",3),se(2,"strong"),Ie(3),cn(4,"duration"),cn(5,"number"),de(),se(6,"span"),Ie(7,"Exceeded minimum safe (ceiling) depth! Change your plan to higher depth at this point."),de()()),t&2){let e=lt().$implicit,r=lt(2);fe(),Ne("icon",r.warning),fe(2),Oa("",un(4,4,e.timeStamp,e.timeStamp)," min, ",un(5,7,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": ")}}function eee(t,n){if(t&1&&(se(0,"div",6),Nt(1,"fa-icon",3),se(2,"strong"),Ie(3),cn(4,"duration"),cn(5,"number"),de(),se(6,"span"),Ie(7,"Gas switch to gas with higher nitrogen content is not recommended! There is a risk od isobaric counter diffusion (IDC). Switch to another gas with higher helium content or lower nitrogen content."),de()()),t&2){let e=lt().$implicit,r=lt(2);fe(),Ne("icon",r.warning),fe(2),Oa("",un(4,4,e.timeStamp,e.timeStamp)," min, ",un(5,7,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": ")}}function tee(t,n){if(t&1&&(se(0,"div",6),Nt(1,"fa-icon",3),se(2,"strong"),Ie(3),cn(4,"duration"),cn(5,"number"),de(),se(6,"span"),Ie(7,"Exceeded maximum narcotic depth for selected gas! Reduce the depth or use gas with higher helium content."),de()()),t&2){let e=lt().$implicit,r=lt(2);fe(),Ne("icon",r.warning),fe(2),Oa("",un(4,4,e.timeStamp,e.timeStamp)," min, ",un(5,7,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": ")}}function nee(t,n){if(t&1&&(se(0,"div",6),Nt(1,"fa-icon",3),se(2,"strong"),Ie(3),cn(4,"duration"),cn(5,"number"),de(),se(6,"span"),Ie(7,"Exceeded maximum recommended gas density! Reduce the depth or use gas with higher helium content (i.e. lower density)."),de()()),t&2){let e=lt().$implicit,r=lt(2);fe(),Ne("icon",r.warning),fe(2),Oa("",un(4,4,e.timeStamp,e.timeStamp)," min, ",un(5,7,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": ")}}function ree(t,n){if(t&1&&(se(0,"div",6),Nt(1,"fa-icon",3),se(2,"strong"),Ie(3),cn(4,"number"),de(),se(5,"span"),Ie(6,"Dives planned to shallow depth for long time may lead to saturation diving! Reduce the dive duration shorter than 5 hours."),de()()),t&2){let e=lt().$implicit,r=lt(2);fe(),Ne("icon",r.warning),fe(2),Ea("",un(4,3,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": ")}}function iee(t,n){if(t&1&&(se(0,"div",6),Nt(1,"fa-icon",3),se(2,"strong"),Ie(3),cn(4,"number"),de(),se(5,"span"),Ie(6,"Exceeded maximum depth where the algorithm was well tested on real life data! Reduce the maximum depth."),de()()),t&2){let e=lt().$implicit,r=lt(2);fe(),Ne("icon",r.warning),fe(2),Ea("",un(4,3,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": ")}}function aee(t,n){if(t&1&&(se(0,"div",6),Nt(1,"fa-icon",3),se(2,"strong"),Ie(3),cn(4,"duration"),cn(5,"number"),de(),se(6,"span"),Ie(7,"It is recommended to don't breath pure oxygen longer than 20 minutes. Use air break option to generate proper gas switches or manually add switch to bottom gas."),de()()),t&2){let e=lt().$implicit,r=lt(2);fe(),Ne("icon",r.warning),fe(2),Oa("",un(4,4,e.timeStamp,e.timeStamp)," min, ",un(5,7,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": ")}}function see(t,n){if(t&1&&(Mi(0),tn(1,Zq,9,14,"div",7)(2,Xq,8,10,"div",4)(3,Kq,8,10,"div",4)(4,Qq,8,10,"div",4)(5,Jq,8,10,"div",4)(6,qq,8,10,"div",4)(7,eee,8,10,"div",4)(8,tee,8,10,"div",4)(9,nee,8,10,"div",4)(10,ree,7,6,"div",4)(11,iee,7,6,"div",4)(12,aee,8,10,"div",4),wi()),t&2){let e=n.$implicit,r=lt(2);fe(),Ne("ngIf",r.showNoDeco(e)),fe(),Ne("ngIf",r.isLowPpO2(e)),fe(),Ne("ngIf",r.isHighPpO2(e)),fe(),Ne("ngIf",r.isHighDescentSpeed(e)),fe(),Ne("ngIf",r.isHighAscentSpeed(e)),fe(),Ne("ngIf",r.isBrokenCeiling(e)),fe(),Ne("ngIf",r.isHighN2Switch(e)),fe(),Ne("ngIf",r.isMndExceeded(e)),fe(),Ne("ngIf",r.isHighDensity(e)),fe(),Ne("ngIf",r.isMinDepth(e)),fe(),Ne("ngIf",r.isMaxDepth(e)),fe(),Ne("ngIf",r.isMissingAirbreak(e))}}function oee(t,n){if(t&1&&(Mi(0),tn(1,$q,4,3,"div",0)(2,Wq,5,6,"div",4)(3,Yq,5,5,"div",4)(4,see,13,12,"ng-container",5),wi()),t&2){let e=lt();fe(),Ne("ngIf",e.dive.calculated&&e.dive.notEnoughGas),fe(),Ne("ngIf",e.dive.diveInfoCalculated&&e.dive.otuExceeded),fe(),Ne("ngIf",e.dive.diveInfoCalculated&&e.dive.cnsExceeded),fe(),Ne("ngForOf",e.events)}}var qb=(()=>{class t{constructor(e,r){this.units=e,this.schedules=r,this.exclamation=L7,this.warning=P1,this.info=jE,this.otuLimit=a6.dailyLimit}get events(){return(0,_I.default)(this.dive.events).sortBy(e=>e.timeStamp).value()}get minimumDuration(){return this.schedules.selectedDepths.planDuration+1}get noDeco(){return this.dive.noDecoTime}get dive(){return this.schedules.selectedResult}showNoDeco(e){return e.type===Ir.noDecoEnd&&this.dive.noDecoExceeded}isLowPpO2(e){return e.type===Ir.lowPpO2}isHighPpO2(e){return e.type===Ir.highPpO2}isHighAscentSpeed(e){return e.type===Ir.highAscentSpeed}isHighDescentSpeed(e){return e.type===Ir.highDescentSpeed}isBrokenCeiling(e){return e.type===Ir.brokenCeiling}isHighN2Switch(e){return e.type===Ir.isobaricCounterDiffusion}isMndExceeded(e){return e.type===Ir.maxEndExceeded}isHighDensity(e){return e.type===Ir.highGasDensity}isMinDepth(e){return e.type===Ir.minDepth}isMaxDepth(e){return e.type===Ir.maxDepth}isMissingAirbreak(e){return e.type===Ir.missingAirBreak}eventDepthFor(e){return this.units.fromMeters(e.depth)}static{this.\u0275fac=function(r){return new(r||t)(ht(Fn),ht(kr))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-dive-issues"]],decls:3,vars:3,consts:[["class","alert alert-danger",4,"ngIf"],[4,"ngIf"],[1,"alert","alert-danger"],[1,"me-2",3,"icon"],["class","alert alert-warning",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"alert","alert-warning"],["class","alert alert-info",4,"ngIf"],[1,"alert","alert-info"]],template:function(r,i){r&1&&tn(0,Hq,4,1,"div",0)(1,Uq,5,5,"div",0)(2,oee,5,4,"ng-container",1),r&2&&(Ne("ngIf",i.dive.calculated&&i.dive.failed),fe(),Ne("ngIf",i.dive.diveInfoCalculated&&i.dive.notEnoughTime),fe(),Ne("ngIf",!i.dive.hasErrors))},dependencies:[Ta,fr,xr,Jr,s2]})}}return t})();function cee(t,n){if(t&1&&(se(0,"span",3),Ie(1),de()),t&2){let e=lt();fe(),Ft("",e.tank.name," ")}}function uee(t,n){if(t&1&&(se(0,"span"),Ie(1),cn(2,"number"),de()),t&2){let e=lt();fe(),Ea(", MND: ",un(2,2,e.gasMnd,"1.0-0")," ",e.units.length,"")}}var i3=(()=>{class t{constructor(e){this.units=e,this.tank=Yi.createDefault(),this.showName=!0,this.toxicity=new O1}get gasMod(){let e=this.toxicity.modForGas(this.tank),r=this.units.fromMeters(e);return Qt.floor(r)}get gasMnd(){let e=this.toxicity.mndForGas(this.tank.gas),r=this.units.fromMeters(e);return Qt.floor(r)}get isTrimix(){return this.tank.he>0}get gasDecoMod(){let e=this.toxicity.switchDepth(this.tank),r=this.units.fromMeters(e);return Qt.floor(r)}static{this.\u0275fac=function(r){return new(r||t)(ht(Fn))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-gaslabel"]],inputs:{tank:"tank",showName:"showName",toxicity:"toxicity"},decls:6,vars:12,consts:[[1,"text-muted"],["class","fw-bold",4,"ngIf"],[4,"ngIf"],[1,"fw-bold"]],template:function(r,i){r&1&&(se(0,"small",0),tn(1,cee,2,1,"span",1),Ie(2),cn(3,"number"),cn(4,"number"),tn(5,uee,3,5,"span",2),de()),r&2&&(fe(),Ne("ngIf",i.showName),fe(),xg(" MOD: ",un(3,6,i.gasMod,"1.0-0")," ",i.units.length,", switch ",un(4,9,i.gasDecoMod,"1.0-0")," ",i.units.length," "),fe(3),Ne("ngIf",i.isTrimix))},dependencies:[fr,Jr]})}}return t})();var fee=(t,n)=>({"progress-bar rounded-progress":!0,"bg-success":t,"bg-danger":n});function dee(t,n){if(t&1&&(se(0,"span"),Ie(1),de()),t&2){let e=lt();fe(),Ft(" ",e.tank.id,".")}}var tC=(()=>{class t{constructor(e){this.units=e,this.tank=Yi.createDefault(),this.toxicity=new O1,this.showId=!1}get endPressure(){return this.units.fromBar(this.tank.endPressure)}get startPressure(){return this.units.fromBar(this.tank.startPressure)}get reserve(){return this.units.fromBar(this.tank.reserve)}static{this.\u0275fac=function(r){return new(r||t)(ht(Fn))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-tankchart"]],inputs:{tank:"tank",toxicity:"toxicity",showId:"showId"},decls:27,vars:39,consts:[[1,"my-4"],[1,"d-flex","flex-row","justify-content-between"],[1,"text-start"],[4,"ngIf"],[1,"text-end",3,"tank","toxicity","showName"],[1,"text-start","text-muted"],[1,"text-end","text-muted"],[1,"progress","gas-bar","mt-1","mb-2"],[1,"combined_wrapper"],["role","progressbar","aria-valuemin","0",1,"reserve-bar","rounded-progress"],[1,"reserve-overlay"],[1,"reserve-value"],["role","progressbar","aria-valuemin","0",3,"ngClass"]],template:function(r,i){r&1&&(se(0,"div",0)(1,"div",1)(2,"strong",2),tn(3,dee,2,1,"span",3),Ie(4),de(),Nt(5,"app-gaslabel",4),de(),se(6,"div",1)(7,"small",5),Ie(8),cn(9,"number"),cn(10,"number"),de(),se(11,"small",6),Ie(12,"Rock bottom: "),se(13,"strong"),Ie(14),cn(15,"number"),de(),Ie(16),de()(),se(17,"div",7)(18,"div",8)(19,"div",9)(20,"div",10)(21,"div",11),Ie(22),cn(23,"number"),de()()(),se(24,"div",12),Ie(25),cn(26,"number"),de()()()()),r&2&&(fe(3),Ne("ngIf",i.showId),fe(),Ft(" ",i.tank.name,""),fe(),Ne("tank",i.tank)("toxicity",i.toxicity)("showName",!1),fe(3),Oa("Gas remaining: ",un(9,21,i.endPressure,"1.0-0"),"/",un(10,24,i.startPressure,"1.0-0")," ",i.units.pressure,""),fe(6),Kn(un(15,27,i.reserve,"1.0-0")),fe(2),Ft(" ",i.units.pressure,""),fe(3),C0("width",i.tank.percentsReserve+"%"),vs("aria-valuemax",i.tank.startPressure)("aria-valuenow",i.tank.reserve),fe(3),Kn(un(23,30,i.reserve,"1.0-0")),fe(2),C0("width",i.tank.percentsRemaining+"%"),Ne("ngClass",vo(36,fee,i.tank.hasReserve,!i.tank.hasReserve)),vs("aria-valuemax",i.tank.startPressure)("aria-valuenow",i.tank.endPressure),fe(),Ft(" ",un(26,33,i.endPressure,"1.0-0"),""))},dependencies:[Za,fr,i3,Jr],styles:[".gas-bar[_ngcontent-%COMP%]{padding:5px 8px;height:2em;font-size:1em;border:1px solid #a1a1a1;border-radius:.5em;background:transparent;box-shadow:none;overflow:visible;position:static}.rounded-progress[_ngcontent-%COMP%]{height:100%}.reserve-overlay[_ngcontent-%COMP%]{position:relative}.reserve-value[_ngcontent-%COMP%]{position:absolute;bottom:-3.75em;right:3px;text-align:right}.reserve-bar[_ngcontent-%COMP%]{position:absolute;padding:0;height:4em;top:-.1em;left:0;text-align:right;font-size:.75em;border-right:2px solid darkorange}.combined_wrapper[_ngcontent-%COMP%]{position:relative;width:100%}"]})}}return t})();var pee=["tabs"];function mee(t,n){if(t&1){let e=ar();se(0,"div",19)(1,"div",20),Nt(2,"fa-icon",7),se(3,"strong",21),Ie(4,"Share plan"),de(),se(5,"button",22),Bt("click",function(){Dn(e);let i=lt();return Tn(i.hideToast())}),de()(),se(6,"div",23),Ie(7," URL address of this dive plan was copied to the clipboard. "),de()()}if(t&2){let e=lt();fe(2),Ne("icon",e.iconShare)}}function vee(t,n){if(t&1&&(se(0,"strong"),Ie(1),cn(2,"duration"),de()),t&2){let e=lt();fe(),Ft("",un(2,1,e.dive.totalDuration,e.dive.totalDuration)," ")}}function gee(t,n){if(t&1&&(se(0,"strong"),Ie(1),cn(2,"number"),de()),t&2){let e=lt();fe(),Kn(un(2,1,e.dive.timeToSurface,"1.0-0"))}}function yee(t,n){if(t&1&&(se(0,"strong"),Ie(1),cn(2,"number"),de()),t&2){let e=lt();fe(),Kn(un(2,1,e.averageDepth,"1.0-1"))}}function xee(t,n){if(t&1&&(se(0,"strong"),Ie(1),cn(2,"duration"),de()),t&2){let e=lt();fe(),Ft("",un(2,1,e.dive.emergencyAscentStart,e.dive.emergencyAscentStart)," ")}}function bee(t,n){if(t&1){let e=ar();se(0,"button",24),Bt("click",function(){Dn(e);let i=lt();return Tn(i.applyNdlDuration())}),Ie(1,"Use"),de()}}function Cee(t,n){if(t&1&&(se(0,"strong"),Ie(1),cn(2,"number"),de()),t&2){let e=lt();fe(),Kn(un(2,1,e.noDeco,"1.0-0"))}}function Mee(t,n){if(t&1){let e=ar();se(0,"button",24),Bt("click",function(){Dn(e);let i=lt(2);return Tn(i.applyMaxDuration())}),Ie(1,"Use"),de()}}function wee(t,n){if(t&1&&(se(0,"strong"),Ie(1),cn(2,"number"),de()),t&2){let e=lt(2);fe(),Kn(un(2,1,e.dive.maxTime,"1.0-0"))}}function _ee(t,n){if(t&1&&(se(0,"tr")(1,"td"),Ie(2,"Maximum bottom time [min]: "),tn(3,Mee,2,0,"button",16),de(),se(4,"td",14),tn(5,wee,3,4,"strong",15),de()()),t&2){let e=lt();fe(3),Ne("ngIf",e.showApply),fe(2),Ne("ngIf",e.dive.calculated)}}function See(t,n){if(t&1&&(se(0,"strong"),Ie(1),cn(2,"number"),de()),t&2){let e=lt(2);fe(),Kn(un(2,1,e.highestDensity,"1.0-2"))}}function Lee(t,n){if(t&1&&(se(0,"tr")(1,"td"),Ie(2),Nt(3,"br"),Ie(4),de(),se(5,"td",14),tn(6,See,3,4,"strong",15),de()()),t&2){let e=lt();fe(2),Ft(" Highest gas density [",e.units.density,"]:"),fe(2),Ft(" (",e.densityText,") "),fe(2),Ne("ngIf",e.dive.calculated)}}function Dee(t,n){if(t&1&&(se(0,"strong"),Ie(1),cn(2,"number"),de()),t&2){let e=lt(2);fe(),Kn(un(2,1,e.dive.turnTime,"1.0-0"))}}function Tee(t,n){if(t&1&&(se(0,"tr")(1,"td"),Ie(2,"Turn time [min]:"),de(),se(3,"td",14),tn(4,Dee,3,4,"strong",15),de()()),t&2){let e=lt();fe(4),Ne("ngIf",e.dive.calculated)}}function Aee(t,n){if(t&1&&(se(0,"strong"),Ie(1),cn(2,"number"),de()),t&2){let e=lt(2);fe(),Kn(un(2,1,e.dive.turnPressure,"1.0-0"))}}function zee(t,n){if(t&1&&(se(0,"tr")(1,"td"),Ie(2),de(),se(3,"td",14),tn(4,Aee,3,4,"strong",15),de()()),t&2){let e=lt();fe(2),Ft("Turn pressure [",e.units.pressure,"]:"),fe(2),Ne("ngIf",e.dive.calculated)}}function Eee(t,n){if(t&1&&(se(0,"strong"),Ie(1),cn(2,"number"),de()),t&2){let e=lt(2);fe(),Kn(un(2,1,e.dive.otu,"1.0-0"))}}function Iee(t,n){if(t&1&&(se(0,"tr")(1,"td"),Ie(2,"OTU toxicity [OTU]:"),de(),se(3,"td",14),tn(4,Eee,3,4,"strong",15),de()()),t&2){let e=lt();fe(4),Ne("ngIf",e.dive.calculated)}}function kee(t,n){if(t&1&&(se(0,"strong"),Ie(1),de()),t&2){let e=lt(2);fe(),Kn(e.cnsText)}}function Nee(t,n){if(t&1&&(se(0,"tr")(1,"td"),Ie(2,"CNS toxicity [%]:"),de(),se(3,"td",14),tn(4,kee,2,1,"strong",15),de()()),t&2){let e=lt();fe(4),Ne("ngIf",e.dive.calculated)}}function Pee(t,n){if(t&1&&Nt(0,"fa-icon",26),t&2){let e=lt(2);Ne("icon",e.warnIcon)}}function Ree(t,n){if(t&1&&(se(0,"span"),Ie(1,"Consumed"),de(),tn(2,Pee,1,1,"fa-icon",25)),t&2){let e=lt();fe(2),Ne("ngIf",e.dive.notEnoughGas)}}function Oee(t,n){if(t&1&&Nt(0,"app-tankchart",28),t&2){let e=n.$implicit,r=lt(2);Ne("tank",e)("showId",r.isComplex)("toxicity",r.toxicity)}}function Fee(t,n){if(t&1&&(Mi(0),tn(1,Oee,1,3,"app-tankchart",27),wi()),t&2){let e=lt();fe(),Ne("ngForOf",e.tanks)}}function Bee(t,n){if(t&1&&Nt(0,"fa-icon",30),t&2){let e=lt(2);Mn("text-danger",e.dive.hasErrorEvent)("text-warning",!e.dive.hasErrorEvent&&e.dive.hasWarningEvent),Ne("icon",e.warnIcon)}}function Vee(t,n){if(t&1&&(se(0,"span"),Ie(1,"Issues"),de(),tn(2,Bee,1,5,"fa-icon",29)),t&2){let e=lt();fe(2),Ne("ngIf",e.dive.hasErrorEvent||e.dive.hasWarningEvent)}}var nC=(()=>{class t extends ji{constructor(e,r,i,s,a){super(),this.clipboard=e,this.viewSwitch=r,this.units=i,this.dispatcher=s,this.schedules=a,this.icon=Q4,this.iconShare=YE,this.warnIcon=P1,this.toastVisible=!1,this.clipboard.copyResponse$.pipe(er(this.unsubscribe$)).subscribe(o=>{this.copyToClipBoard(o)}),this.dispatcher.infoCalculated$.pipe(er(this.unsubscribe$)).subscribe(o=>{this.checkIssuesTab(o)})}get isComplex(){return this.viewSwitch.isComplex}get tanks(){return this.schedules.selectedTanks.tankData}get noDeco(){return this.dive.noDecoTime}get showApply(){return!this.isComplex&&this.dive.calculated}get averageDepth(){return this.units.fromMeters(this.dive.averageDepth)}get highestDensity(){let e=this.dive.highestDensity.density;return this.units.fromGramPerLiter(e)}get densityText(){let e=this.dive.highestDensity.gas.name,r=this.units.fromMeters(this.dive.highestDensity.depth);return`${e} at ${r} ${this.units.length}`}get cnsText(){return this.dive.cns>=1e3?a2.cnsOverOneThousand:C4(this.dive.cns,"en","1.0-0")}get dive(){return this.schedules.selectedResult}get toxicity(){return this.schedules.selectedToxicity}get depthsService(){return this.schedules.selectedDepths}applyMaxDuration(){this.depthsService.applyMaxDuration()}applyNdlDuration(){this.depthsService.applyNdlDuration()}sharePlan(){this.clipboard.copy(window.location.href)}hideToast(){this.toastVisible=!1}checkIssuesTab(e){let r=this.schedules.selected;r.id===e&&(r.diveResult.hasErrorEvent||r.diveResult.hasErrorEvent)&&this.tabs?.setActiveTab(2)}copyToClipBoard(e){e.isSuccess&&(this.toastVisible=!0,setTimeout(()=>{this.hideToast()},5e3))}static{this.\u0275fac=function(r){return new(r||t)(ht(gz),ht(Gs),ht(Fn),ht(Ei),ht(kr))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-diveinfo"]],viewQuery:function(r,i){if(r&1&&D1(pee,5),r&2){let s;is(s=as())&&(i.tabs=s.first)}},features:[Nr],decls:59,vars:19,consts:[["tabs",""],[1,"card"],[1,"card-header"],[1,"float-start","mt-1"],[1,"me-3",3,"icon"],[1,"float-end"],["type","button",1,"btn","btn-sm","btn-secondary",3,"click"],[1,"me-2",3,"icon"],[1,"position-fixed","top-0","end-0","px-3","py-2","m-16","mt-5","success"],["role","alert","aria-live","assertive","aria-atomic","true","class","toast fade text-light mt-2 bg-success success","data-autohide","true",4,"ngIf"],[1,"card-body","card-minheight"],["title","Results"],[1,"pb-3"],[1,"table","table-sm"],[1,"table-active"],[4,"ngIf"],["type","button","class","btn btn-secondary btn-sm ml-2",3,"click",4,"ngIf"],[3,"show"],["mdbTabTitle",""],["role","alert","aria-live","assertive","aria-atomic","true","data-autohide","true",1,"toast","fade","text-light","mt-2","bg-success","success"],[1,"toast-header","bg-success","success","text-light"],[1,"me-auto"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"toast-body","alert-success"],["type","button",1,"btn","btn-secondary","btn-sm","ml-2",3,"click"],["class","ms-2 fa-xl text-danger",3,"icon",4,"ngIf"],[1,"ms-2","fa-xl","text-danger",3,"icon"],[3,"tank","showId","toxicity",4,"ngFor","ngForOf"],[3,"tank","showId","toxicity"],["class","ms-2 fa-xl",3,"text-danger","text-warning","icon",4,"ngIf"],[1,"ms-2","fa-xl",3,"icon"]],template:function(r,i){if(r&1){let s=ar();se(0,"div",1)(1,"div",2)(2,"div",3),Nt(3,"fa-icon",4),se(4,"span"),Ie(5,"Dive info"),de()(),se(6,"div",5)(7,"button",6),Bt("click",function(){return Dn(s),Tn(i.sharePlan())}),Nt(8,"fa-icon",7),Ie(9,"Share "),de()()(),se(10,"div",8),tn(11,mee,8,1,"div",9),de(),se(12,"div",10)(13,"mdb-tabs",null,0)(15,"mdb-tab",11)(16,"div",12)(17,"table",13)(18,"tbody")(19,"tr")(20,"td"),Ie(21,"Total dive time [min]:"),de(),se(22,"td",14),tn(23,vee,3,4,"strong",15),de()(),se(24,"tr")(25,"td"),Ie(26,"Time to surface [min]:"),de(),se(27,"td",14),tn(28,gee,3,4,"strong",15),de()(),se(29,"tr")(30,"td"),Ie(31),de(),se(32,"td",14),tn(33,yee,3,4,"strong",15),de()(),se(34,"tr")(35,"td"),Ie(36,"Rock bottom at [min]:"),de(),se(37,"td",14),tn(38,xee,3,4,"strong",15),de()(),se(39,"tr")(40,"td"),Ie(41,"No decompression time [min]: "),tn(42,bee,2,0,"button",16),de(),se(43,"td",14),tn(44,Cee,3,4,"strong",15),de()(),tn(45,_ee,6,2,"tr",15)(46,Lee,7,3,"tr",15)(47,Tee,5,1,"tr",15)(48,zee,5,2,"tr",15)(49,Iee,5,1,"tr",15)(50,Nee,5,1,"tr",15),de()()(),Nt(51,"app-calculating",17),de(),se(52,"mdb-tab"),tn(53,Ree,3,1,"ng-template",18)(54,Fee,2,1,"ng-container",15),Nt(55,"app-calculating",17),de(),se(56,"mdb-tab"),tn(57,Vee,3,1,"ng-template",18),Nt(58,"app-dive-issues"),de()()()()}r&2&&(fe(3),Ne("icon",i.icon),fe(5),Ne("icon",i.iconShare),fe(3),Ne("ngIf",i.toastVisible),fe(12),Ne("ngIf",i.dive.calculated),fe(5),Ne("ngIf",i.dive.calculated),fe(3),Ft("Average depth [",i.units.length,"]:"),fe(2),Ne("ngIf",i.dive.profileCalculated),fe(5),Ne("ngIf",i.dive.calculated),fe(4),Ne("ngIf",i.showApply),fe(2),Ne("ngIf",i.dive.diveInfoCalculated),fe(),Ne("ngIf",i.dive.showMaxBottomTime),fe(),Ne("ngIf",i.isComplex),fe(),Ne("ngIf",i.dive.needsReturn),fe(),Ne("ngIf",i.dive.needsReturn),fe(),Ne("ngIf",i.dive.profileCalculated),fe(),Ne("ngIf",i.dive.profileCalculated),fe(),Ne("show",!i.dive.calculated),fe(3),Ne("ngIf",i.dive.showResults),fe(),Ne("show",!i.dive.calculated))},dependencies:[Ta,fr,xr,jc,e7,B4,c1,qb,tC,Jr,s2]})}}return t})();function Uee(t,n){if(t&1&&(se(0,"div",8),Ie(1),de()),t&2){let e=lt();fe(),Ft(" Needs to be number ",e.units.ranges.altitudeLabel," ")}}var a3=(()=>{class t{constructor(e,r,i,s){this.fb=e,this.inputs=r,this.validators=i,this.units=s,this.inputChange=new rr,this.altitude=0,this.controlName="altitude"}get smallHill(){return this.levelLabel(1)}get mountains(){return this.levelLabel(2)}get highMountains(){return this.levelLabel(3)}get altitudeInvalid(){let e=this.altitudeForm.get(this.controlName);return this.inputs.controlInValid(e)}ngOnInit(){if(!this.altitudeForm){this.altitudeForm=this.fb.group({});let e=this.units.fromMeters(this.altitude),r=this.fb.control(e,this.validators.altitude);this.altitudeForm.addControl(this.controlName,r)}}altitudeChanged(){if(this.altitudeForm.invalid)return;let e=this.altitudeForm.get(this.controlName),r=Number(e?.value);this.altitude=this.units.toMeters(r),this.inputChange.emit(this.altitude)}seaLevel(){this.setLevel(0)}setHill(){this.setLevel(1)}setMountains(){this.setLevel(2)}setHighMountains(){this.setLevel(3)}setLevel(e){let r=this.selectLevels()[e];this.altitudeForm.patchValue({[this.controlName]:r}),this.altitudeChanged()}levelLabel(e){return`${this.selectLevels()[e]} ${this.units.altitude}`}selectLevels(){return this.units.ranges.altitudeLevels}static{this.\u0275fac=function(r){return new(r||t)(ht(Fr),ht(qr),ht(Pr),ht(Fn))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-altitude"]],inputs:{altitude:"altitude",altitudeForm:"altitudeForm",controlName:"controlName"},outputs:{inputChange:"inputChange"},decls:20,vars:10,consts:[[1,"mb-2",3,"formGroup"],["for","altitudeField","mdbLabel","",1,"form-label"],["mdbDropdown","",1,"input-group","dropdown"],["id","altitudeField","type","number","required","","step","1","formControlName","altitude",1,"form-control",3,"input","min","max"],["type","button","aria-expanded","false","mdbDropdownToggle","",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],["class","text-danger form-text position-absolute",4,"ngIf"],[1,"text-danger","form-text","position-absolute"]],template:function(r,i){r&1&&(se(0,"div",0)(1,"label",1),Ie(2),de(),se(3,"div",2)(4,"input",3),Bt("input",function(){return i.altitudeChanged()}),de(),Nt(5,"button",4),se(6,"ul",5)(7,"li",6),Bt("click",function(){return i.seaLevel()}),se(8,"a"),Ie(9,"Sea level"),de()(),se(10,"li",6),Bt("click",function(){return i.setHill()}),se(11,"a"),Ie(12),de()(),se(13,"li",6),Bt("click",function(){return i.setMountains()}),se(14,"a"),Ie(15),de()(),se(16,"li",6),Bt("click",function(){return i.setHighMountains()}),se(17,"a"),Ie(18),de()()()(),tn(19,Uee,2,1,"div",7),de()),r&2&&(Ne("formGroup",i.altitudeForm),fe(2),Ft("Altitude [",i.units.altitude,"]:"),fe(2),Mn("is-invalid",i.altitudeInvalid),Ne("min",i.units.ranges.altitude[0])("max",i.units.ranges.altitude[1]),fe(8),Kn(i.smallHill),fe(3),Kn(i.mountains),fe(3),Kn(i.highMountains),fe(),Ne("ngIf",i.altitudeInvalid))},dependencies:[fr,Yr,vi,fi,Rr,ea,yi,gi,Or,oi,Vs,Ds,Ts,Oi]})}}return t})();var s3=(()=>{class t{constructor(e,r,i,s){this.fb=e,this.inputs=r,this.validators=i,this.units=s,this.maxPpO2=1.4,this.label="",this.controlName="maxPpO2",this.ppO2Change=new rr}get ppO2Invalid(){let e=this.pO2Form.get(this.controlName);return!e||this.inputs.controlInValid(e)}ngOnInit(){this.pO2Form||(this.pO2Form=this.fb.group({}));let e=this.fb.control(Qt.round(this.maxPpO2,2),this.validators.ppO2);this.pO2Form.addControl(this.controlName,e)}fireChanged(){if(this.ppO2Invalid)return;let e=this.pO2Form.get(this.controlName),r=Number(e?.value);this.ppO2Change.emit(r)}static{this.\u0275fac=function(r){return new(r||t)(ht(Fr),ht(qr),ht(Pr),ht(Fn))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-pp-o2"]],inputs:{maxPpO2:"maxPpO2",label:"label",controlName:"controlName",pO2Form:"pO2Form"},outputs:{ppO2Change:"ppO2Change"},decls:6,vars:7,consts:[[3,"formGroup"],["for","maxPpO2","mdbLabel","",1,"form-label"],["id","maxPpO2","type","number","step","0.1",1,"form-control",3,"input","formControlName","min","max"],[1,"invalid-feedback","position-absolute"]],template:function(r,i){r&1&&(Mi(0,0),se(1,"label",1),Ie(2),de(),se(3,"input",2),Bt("input",function(){return i.fireChanged()}),de(),se(4,"div",3),Ie(5,"Needs to be number 0.21-3"),de(),wi()),r&2&&(Ne("formGroup",i.pO2Form),fe(2),Kn(i.label),fe(),Mn("is-invalid",i.ppO2Invalid),Ne("formControlName",i.controlName)("min",i.units.ranges.ppO2[0])("max",i.units.ranges.ppO2[1]))},dependencies:[Yr,vi,fi,Rr,yi,gi,Or,oi,Oi]})}}return t})();var aC=(()=>{class t extends ji{constructor(e,r,i,s){super(),this.fb=e,this.inputs=r,this.validators=i,this.units=s,this.diver=new r3,this.changed=new rr,this._rmvStep=2}get ranges(){return this.units.ranges}get rmv(){let e=this.units.ranges.rmvRounding,r=this.diver.rmv,i=this.units.fromLiter(r);return Qt.round(i,e)}get stressRmv(){let e=this.units.ranges.rmvRounding,r=this.diver.stressRmv,i=this.units.fromLiter(r);return Qt.round(i,e)}get rmvInvalid(){let e=this.diverForm.controls.rmv;return this.inputs.controlInValid(e)}get stressRmvInvalid(){let e=this.diverForm.controls.srtessRmv;return this.inputs.controlInValid(e)}get rmvStep(){return this._rmvStep}ngOnInit(){this.diverForm||(this.diverForm=this.fb.group({}));let e=this.fb.control(this.rmv,this.validators.diverRmv);this.diverForm.addControl("rmv",e);let r=this.fb.control(this.stressRmv,this.validators.diverRmv);this.diverForm.addControl("stressRmv",r),this.units.ranges$.pipe(er(this.unsubscribe$)).subscribe(i=>this.rangeChanged(i))}inputChanged(){if(this.diverForm.invalid)return;let e=Number(this.diverForm.value.rmv);this.diver.rmv=this.units.toLiter(e);let r=Number(this.diverForm.value.stressRmv);this.diver.stressRmv=this.units.toLiter(r),this.changed.emit()}maxPpO2Changed(e){this.diver.maxPpO2=e,this.changed.emit()}maxDecoPpO2Changed(e){this.diver.maxDecoPpO2=e,this.changed.emit()}rangeChanged(e){let r=e.rmvRounding-1;this._rmvStep=Math.pow(10,-r),this.diverForm.patchValue({rmv:this.rmv})}static{this.\u0275fac=function(r){return new(r||t)(ht(Fr),ht(qr),ht(Pr),ht(Fn))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-diver"]],inputs:{diver:"diver",diverForm:"diverForm"},outputs:{changed:"changed"},features:[Nr],decls:18,vars:19,consts:[[1,"mt-3","row"],[3,"formGroup"],[1,"pt-2","mt-2","mb-4","col","col-12","col-md-6"],["for","rmv","mdbLabel","",1,"form-label"],["id","rmv","formControlName","rmv","type","number",1,"form-control",3,"input","min","max","step"],[1,"invalid-feedback","position-absolute"],["for","stressRmv","mdbLabel","",1,"form-label"],["id","stressRmv","formControlName","stressRmv","type","number",1,"form-control",3,"input","min","max","step"],["label","Maximum ppO2:","controlName","maxPO2",3,"ppO2Change","maxPpO2","pO2Form"],["label","Maximum deco ppO2:","controlName","maxDecoPO2",3,"ppO2Change","maxPpO2","pO2Form"]],template:function(r,i){r&1&&(se(0,"div",0),Mi(1,1),se(2,"div",2)(3,"label",3),Ie(4),de(),se(5,"input",4),Bt("input",function(){return i.inputChanged()}),de(),se(6,"div",5),Ie(7),de()(),se(8,"div",2)(9,"label",6),Ie(10),de(),se(11,"input",7),Bt("input",function(){return i.inputChanged()}),de(),se(12,"div",5),Ie(13),de()(),se(14,"div",2)(15,"app-pp-o2",8),Bt("ppO2Change",function(a){return i.maxPpO2Changed(a)}),de()(),se(16,"div",2)(17,"app-pp-o2",9),Bt("ppO2Change",function(a){return i.maxDecoPpO2Changed(a)}),de()(),wi(),de()),r&2&&(fe(),Ne("formGroup",i.diverForm),fe(3),Ft("RMV [",i.units.rmv,"]:"),fe(),Mn("is-invalid",i.rmvInvalid),Ne("min",i.ranges.diverRmv[0])("max",i.ranges.diverRmv[1])("step",i.rmvStep),fe(2),Ft("Needs to be number ",i.ranges.diverRmvLabel,""),fe(3),Ft("Stress RMV [",i.units.rmv,"]:"),fe(),Mn("is-invalid",i.stressRmvInvalid),Ne("min",i.ranges.diverRmv[0])("max",i.ranges.diverRmv[1])("step",i.rmvStep),fe(2),Ft("Needs to be number ",i.ranges.diverRmvLabel,""),fe(2),Ne("maxPpO2",i.diver.maxPpO2)("pO2Form",i.diverForm),fe(2),Ne("maxPpO2",i.diver.maxDecoPpO2)("pO2Form",i.diverForm))},dependencies:[Yr,vi,fi,Rr,yi,gi,Or,oi,Oi,s3]})}}return t})();var Gee=t=>({"col-sm-6":t});function $ee(t,n){t&1&&(se(0,"div",13)(1,"label",14),Ie(2,"Conservatism (Gradient factors):"),de()())}function Wee(t,n){t&1&&(se(0,"label",15),Ie(1,"Gradient low [%]:"),de())}function Yee(t,n){if(t&1&&Nt(0,"input",16),t&2){let e=lt();Ne("value",e.conservatism)("readonly",!0)}}function Zee(t,n){if(t&1){let e=ar();se(0,"input",17),Bt("input",function(){Dn(e);let i=lt();return Tn(i.gfLowChanged())}),de()}if(t&2){let e=lt();Mn("is-invalid",e.gfLowInvalid),Ne("min",e.minGradient)("max",e.maxGradient)}}function Xee(t,n){if(t&1&&(se(0,"div",18),Ie(1),de()),t&2){let e=lt();fe(),Ea(" Needs to be number ",e.minGradient," - ",e.maxGradient," lower than gradient high")}}function Kee(t,n){if(t&1){let e=ar();se(0,"div",19)(1,"label",20),Ie(2,"Gradient high [%]:"),de(),se(3,"input",21),Bt("input",function(){Dn(e);let i=lt();return Tn(i.gfHighChanged())}),de(),se(4,"div",22),Ie(5),de()()}if(t&2){let e=lt();fe(3),Mn("is-invalid",e.gfHighInvalid),Ne("min",e.minGradient)("max",e.maxGradient),fe(2),Ea(" Needs to be number ",e.minGradient," - ",e.maxGradient," higher than gradient low ")}}var Hf=(()=>{class t{constructor(e,r,i){this.fb=e,this.inputs=r,this.validators=i,this.showTitle=!1,this.simple=!1,this.gfLow=Br.gfLow,this.gfHigh=Br.gfHigh,this.inputChange=new rr,this.minGradient=Pr.minGradient,this.maxGradient=Pr.maxGradient,this.standards=new tp}get conservatism(){return this.standards.labelFor(this.gfLow,this.gfHigh)}get gfLowInvalid(){let e=this.gfForm.controls.gfLow;return this.inputs.controlInValid(e)}get gfHighInvalid(){let e=this.gfForm.controls.gfHigh;return this.inputs.controlInValid(e)}gfHighChanged(){if(this.gfHighInvalid)return;let e=Number(this.gfForm.controls.gfHigh.value);this.gfHigh=e/100,this.inputChange.emit(new B2(this.gfLow,this.gfHigh))}gfLowChanged(){if(this.gfLowInvalid)return;let e=Number(this.gfForm.controls.gfLow.value);this.gfLow=e/100,this.inputChange.emit(new B2(this.gfLow,this.gfHigh))}ngOnInit(){this.gfForm||(this.gfForm=this.fb.group({gfLow:[Qt.round(this.gfLow*100,1),this.validators.gradients],gfHigh:[Qt.round(this.gfHigh*100,1),this.validators.gradients]}))}lowConservatism(){this.applyStandards(this.standards.lowName)}mediumConservatism(){this.applyStandards(this.standards.mediumName)}highConservatism(){this.applyStandards(this.standards.highName)}applyStandards(e){let r=this.standards.get(e);this.gfLow=r.gfLow,this.gfHigh=r.gfHeigh,this.gfForm.patchValue({gfLow:Qt.round(this.gfLow*100,1),gfHigh:Qt.round(this.gfHigh*100,1),conservatism:this.conservatism}),this.inputChange.emit(new B2(this.gfLow,this.gfHigh))}static{this.\u0275fac=function(r){return new(r||t)(ht(Fr),ht(qr),ht(Pr))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-gradients"]],inputs:{showTitle:"showTitle",simple:"simple",gfLow:"gfLow",gfHigh:"gfHigh",gfForm:"gfForm"},outputs:{inputChange:"inputChange"},decls:21,vars:13,consts:[[1,"row",3,"formGroup"],["class","row",4,"ngIf"],[1,"mb-4","col","col-12",3,"ngClass"],["for","gfLowField","class","form-label","mdbLabel","",4,"ngIf"],["mdbDropdown","",1,"input-group","dropdown"],["id","gfLowField","class","form-control","type","text",3,"value","readonly",4,"ngIf"],["id","gfLowField","class","form-control","type","number","formControlName","gfLow","required","","step","1",3,"min","max","is-invalid","input",4,"ngIf"],["type","button","id","conservatismMenu","mdbDropdownToggle","","data-mdb-toggle","dropdown","aria-expanded","false",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[3,"click"],[1,"dropdown-item"],["class","text-danger form-text position-absolute",4,"ngIf"],["class","mb-4 col col-12 col-sm-6",4,"ngIf"],[1,"row"],["for","gfLowField",1,"form-label"],["for","gfLowField","mdbLabel","",1,"form-label"],["id","gfLowField","type","text",1,"form-control",3,"value","readonly"],["id","gfLowField","type","number","formControlName","gfLow","required","","step","1",1,"form-control",3,"input","min","max"],[1,"text-danger","form-text","position-absolute"],[1,"mb-4","col","col-12","col-sm-6"],["for","gfHighField","mdbLabel","",1,"form-label"],["id","gfHighField","formControlName","gfHigh","type","number","required","","step","1",1,"form-control",3,"input","min","max"],[1,"invalid-feedback","position-absolute"]],template:function(r,i){r&1&&(se(0,"div",0),tn(1,$ee,3,0,"div",1),se(2,"div",2)(3,"div"),tn(4,Wee,2,0,"label",3),se(5,"div",4),tn(6,Yee,1,2,"input",5)(7,Zee,1,4,"input",6),Nt(8,"button",7),se(9,"ul",8)(10,"li",9),Bt("click",function(){return i.lowConservatism()}),se(11,"a",10),Ie(12),de()(),se(13,"li",9),Bt("click",function(){return i.mediumConservatism()}),se(14,"a",10),Ie(15),de()(),se(16,"li",9),Bt("click",function(){return i.highConservatism()}),se(17,"a",10),Ie(18),de()()()(),tn(19,Xee,2,2,"div",11),de()(),tn(20,Kee,6,6,"div",12),de()),r&2&&(Ne("formGroup",i.gfForm),fe(),Ne("ngIf",i.showTitle),fe(),Ne("ngClass",T1(11,Gee,!i.simple)),fe(2),Ne("ngIf",!i.simple),fe(2),Ne("ngIf",i.simple),fe(),Ne("ngIf",!i.simple),fe(5),Kn(i.standards.lowName),fe(3),Kn(i.standards.mediumName),fe(3),Kn(i.standards.highName),fe(),Ne("ngIf",i.gfLowInvalid),fe(),Ne("ngIf",!i.simple))},dependencies:[Za,fr,Yr,vi,fi,Rr,ea,yi,gi,Or,oi,Vs,Ds,Ts,Oi]})}}return t})();var Uf=(()=>{class t{constructor(){this.salinity=ro.fresh,this.inputChange=new rr,this.freshName="Fresh",this.brackishName="Brackish (EN13319)",this.saltName="Salt"}get salinityOption(){switch(this.salinity){case ro.salt:return this.saltName;case ro.brackish:return this.brackishName;default:return this.freshName}}useFresh(){this.salinity=ro.fresh,this.inputChange.emit(this.salinity)}useBrackish(){this.salinity=ro.brackish,this.inputChange.emit(this.salinity)}useSalt(){this.salinity=ro.salt,this.inputChange.emit(this.salinity)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-salinity"]],inputs:{salinity:"salinity"},outputs:{inputChange:"inputChange"},decls:15,vars:5,consts:[["for","salinity","mdbLabel","",1,"form-label"],["mdbDropdown","",1,"input-group","dropdown"],["id","salinity","type","text",1,"form-control",3,"value","readonly"],["aria-expanded","false","id","salinityMenu","type","button","data-mdb-toggle","dropdown","mdbDropdownToggle","",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[3,"click"],[1,"dropdown-item"]],template:function(r,i){r&1&&(se(0,"label",0),Ie(1,"Water salinity:"),de(),se(2,"div",1),Nt(3,"input",2)(4,"button",3),se(5,"ul",4)(6,"li",5),Bt("click",function(){return i.useFresh()}),se(7,"a",6),Ie(8),de()(),se(9,"li",5),Bt("click",function(){return i.useBrackish()}),se(10,"a",6),Ie(11),de()(),se(12,"li",5),Bt("click",function(){return i.useSalt()}),se(13,"a",6),Ie(14),de()()()()),r&2&&(fe(3),Ne("value",i.salinityOption)("readonly",!0),fe(5),Kn(i.freshName),fe(3),Kn(i.brackishName),fe(3),Kn(i.saltName))},dependencies:[Vs,Ds,Ts,Oi]})}}return t})();function Qee(t,n){if(t&1){let e=ar();se(0,"div")(1,"div",12)(2,"div",13)(3,"app-salinity",14),Bt("inputChange",function(i){Dn(e);let s=lt();return Tn(s.salinityChanged(i))}),de()(),se(4,"div",13)(5,"app-altitude",15),Bt("inputChange",function(i){Dn(e);let s=lt();return Tn(s.altitudeChanged(i))}),de()(),se(6,"div",16)(7,"app-gradients",17),Bt("inputChange",function(i){Dn(e);let s=lt();return Tn(s.updateGradients(i))}),de()()()()}if(t&2){let e=lt();fe(3),Ne("salinity",e.options.salinity),fe(2),Ne("altitude",e.options.getOptions().altitude)("altitudeForm",e.optionsForm),fe(2),Ne("gfLow",e.options.gfLow)("gfHigh",e.options.gfHigh)("gfForm",e.optionsForm)("simple",!0)("showTitle",!0)}}function Jee(t,n){if(t&1){let e=ar();se(0,"div")(1,"mdb-tabs")(2,"mdb-tab",18)(3,"div",19)(4,"div",20)(5,"app-altitude",15),Bt("inputChange",function(i){Dn(e);let s=lt();return Tn(s.altitudeChanged(i))}),de()(),se(6,"div",20)(7,"app-salinity",14),Bt("inputChange",function(i){Dn(e);let s=lt();return Tn(s.salinityChanged(i))}),de()()()(),se(8,"mdb-tab",21)(9,"div",22)(10,"app-gradients",17),Bt("inputChange",function(i){Dn(e);let s=lt();return Tn(s.updateGradients(i))}),de()()(),se(11,"mdb-tab",23)(12,"div",19)(13,"div",24)(14,"label",25),Ie(15),de(),se(16,"input",26),Bt("input",function(){Dn(e);let i=lt();return Tn(i.applyOptions())}),de(),se(17,"div",27),Ie(18),de()(),se(19,"div",28)(20,"div",29)(21,"input",30),Bt("change",function(){Dn(e);let i=lt();return Tn(i.switchOxygenNarcotic())}),de(),se(22,"label",31),Ie(23,"Oxygen is narcotic"),de()()()()(),se(24,"mdb-tab",32)(25,"div",19)(26,"div",33)(27,"div",29)(28,"input",34),Bt("change",function(){Dn(e);let i=lt();return Tn(i.switchAirBreaks())}),de(),se(29,"label",31),Ie(30,"Generate Air breaks"),de()()()(),se(31,"div",19)(32,"div",35)(33,"label",36),Ie(34,"Maximum Oxygen stop duration [min]:"),de(),se(35,"input",37),Bt("input",function(){Dn(e);let i=lt();return Tn(i.applyOptions())}),de(),se(36,"div",27),Ie(37," Needs to be number 1-100. "),de()(),se(38,"div",35)(39,"label",38),Ie(40,"Back gas duration [min]:"),de(),se(41,"input",39),Bt("input",function(){Dn(e);let i=lt();return Tn(i.applyOptions())}),de(),se(42,"div",27),Ie(43," Needs to be number 1-100. "),de()()()(),se(44,"mdb-tab",40)(45,"div",41)(46,"div",42)(47,"label",43),Ie(48,"Solve problem [min]:"),de(),se(49,"input",44),Bt("input",function(){Dn(e);let i=lt();return Tn(i.applyOptions())}),de(),se(50,"div",27),Ie(51," Needs to be number 1 - 100 mim "),de()(),se(52,"div",42)(53,"label",45),Ie(54,"Gas switch [min]:"),de(),se(55,"input",46),Bt("input",function(){Dn(e);let i=lt();return Tn(i.applyOptions())}),de(),se(56,"div",27),Ie(57," Needs to be number 1 - 100 min "),de()(),se(58,"div",42)(59,"label",47),Ie(60,"Add 3 min safety stop:"),de(),se(61,"div",48),Nt(62,"input",49)(63,"button",50),se(64,"ul",51)(65,"li",52),Bt("click",function(){Dn(e);let i=lt();return Tn(i.useSafetyOff())}),se(66,"a",53),Ie(67),de()(),se(68,"li",52),Bt("click",function(){Dn(e);let i=lt();return Tn(i.useSafetyAuto())}),se(69,"a",53),Ie(70),de()(),se(71,"li",52),Bt("click",function(){Dn(e);let i=lt();return Tn(i.useSafetyOn())}),se(72,"a",53),Ie(73),de()()()()(),se(74,"div",42)(75,"label",54),Ie(76),de(),se(77,"input",55),Bt("input",function(){Dn(e);let i=lt();return Tn(i.applyOptions())}),de(),se(78,"div",27),Ie(79),de()(),se(80,"div",56)(81,"div",5)(82,"input",57),Bt("change",function(){Dn(e);let i=lt();return Tn(i.switchStopsRounding())}),de(),se(83,"label",31),Ie(84,"Round deco stops to minutes"),de()()()()(),se(85,"mdb-tab",58)(86,"div",41)(87,"div",59)(88,"label",60),Ie(89),de(),se(90,"input",61),Bt("input",function(){Dn(e);let i=lt();return Tn(i.applyOptions())}),de(),se(91,"div",27),Ie(92),de()(),se(93,"div",59)(94,"label",62),Ie(95),de(),se(96,"input",63),Bt("input",function(){Dn(e);let i=lt();return Tn(i.applyOptions())}),de(),se(97,"div",27),Ie(98),de()(),se(99,"div",59)(100,"label",64),Ie(101),de(),se(102,"input",65),Bt("input",function(){Dn(e);let i=lt();return Tn(i.applyOptions())}),de(),se(103,"div",27),Ie(104),de()(),se(105,"div",59)(106,"label",66),Ie(107),de(),se(108,"input",67),Bt("input",function(){Dn(e);let i=lt();return Tn(i.applyOptions())}),de(),se(109,"div",27),Ie(110),de()()()(),se(111,"mdb-tab",68)(112,"app-diver",69),Bt("changed",function(){Dn(e);let i=lt();return Tn(i.fireChanged())}),de()()()()}if(t&2){let e=lt();fe(5),Ne("altitude",e.options.getOptions().altitude)("altitudeForm",e.optionsForm),fe(2),Ne("salinity",e.options.salinity),fe(3),Ne("gfLow",e.options.gfLow)("gfHigh",e.options.gfHigh)("gfForm",e.optionsForm)("simple",!1)("showTitle",!1),fe(5),Ft("Max narcotic depth [",e.units.length,"]:"),fe(),Mn("is-invalid",e.narcoticDepthInvalid),Ne("min",e.ranges.narcoticDepth[0])("max",e.ranges.narcoticDepth[1]),fe(2),Ft(" Needs to be number ",e.ranges.narcoticDepthLabel," "),fe(3),Ne("checked",e.options.oxygenNarcotic),fe(7),Ne("checked",e.options.airBreaks.enabled),fe(7),Mn("is-invalid",e.maxOxygenDurationInvalid),fe(6),Mn("is-invalid",e.backGasDurationInvalid),fe(8),Mn("is-invalid",e.problemInvalid),fe(6),Mn("is-invalid",e.switchDurationInvalid),fe(7),Ne("value",e.options.safetyStopOption)("readonly",!0),fe(5),Kn(e.options.safetyOffName),fe(3),Kn(e.options.safetyAutoName),fe(3),Kn(e.options.safetyOnName),fe(3),Ft("Last stop depth [",e.units.length,"]:"),fe(),Mn("is-invalid",e.lastStopInvalid),Ne("min",e.ranges.lastStopDepth[0])("max",e.ranges.lastStopDepth[1]),fe(2),Ft(" Needs to be number ",e.ranges.lastStopDepthLabel," "),fe(3),Ne("checked",e.options.roundStopsToMinutes),fe(7),Ft("Descent [",e.units.speed,"]:"),fe(),Mn("is-invalid",e.descSpeedInvalid),Ne("min",e.ranges.speed[0])("max",e.ranges.speed[1]),fe(2),Ft(" Needs to be number ",e.ranges.speedLabel," "),fe(3),Ft("Ascent to 50% [",e.units.speed,"]:"),fe(),Mn("is-invalid",e.ascentSpeed50percInvalid),Ne("min",e.ranges.speed[0])("max",e.ranges.speed[1]),fe(2),Ft(" Needs to be number ",e.ranges.speedLabel," "),fe(3),Oa("Ascent to ",e.units.defaults.lastSpeedLevel," ",e.units.length," [",e.units.speed,"]:"),fe(),Mn("is-invalid",e.ascentSpeed50percTo6mInvalid),Ne("min",e.ranges.speed[0])("max",e.ranges.speed[1]),fe(2),Ft(" Needs to be number ",e.ranges.speedLabel," "),fe(3),Oa("Ascent ",e.units.defaults.lastSpeedLevel," ",e.units.length," to surface [",e.units.speed,"]:"),fe(),Mn("is-invalid",e.ascSpeedInvalid),Ne("min",e.ranges.speed[0])("max",e.ranges.speed[1]),fe(2),Ft(" Needs to be number ",e.ranges.speedLabel," "),fe(2),Ne("diver",e.options.diverOptions)("diverForm",e.optionsForm)}}var sC=(()=>{class t extends ji{constructor(e,r,i,s,a,o,c,l){super(),this.units=e,this.fb=r,this.inputs=i,this.validators=s,this.viewSwitch=a,this.schedules=o,this.preferences=c,this.dispatcher=l,this.formValid=!0,this.allUsableName="All usable",this.halfUsableName="Half usable",this.thirdUsableName="Thirds usable",this.strategy=this.allUsableName,this.icon=GE,this.rootForm=this.fb.group({})}get isComplex(){return this.viewSwitch.isComplex}get ranges(){return this.units.ranges}get narcoticDepthInvalid(){let e=this.optionsForm.controls.maxEND;return this.inputs.controlInValid(e)}get problemInvalid(){let e=this.optionsForm.controls.problem;return this.inputs.controlInValid(e)}get switchDurationInvalid(){let e=this.optionsForm.controls.gasSwitch;return this.inputs.controlInValid(e)}get lastStopInvalid(){let e=this.optionsForm.controls.lastStopDepth;return this.inputs.controlInValid(e)}get descSpeedInvalid(){let e=this.optionsForm.controls.descentSpeed;return this.inputs.controlInValid(e)}get ascSpeedInvalid(){let e=this.optionsForm.controls.ascentSpeed6m;return this.inputs.controlInValid(e)}get ascentSpeed50percTo6mInvalid(){let e=this.optionsForm.controls.ascentSpeed50percTo6m;return this.inputs.controlInValid(e)}get ascentSpeed50percInvalid(){let e=this.optionsForm.controls.ascentSpeed50perc;return this.inputs.controlInValid(e)}get maxOxygenDurationInvalid(){let e=this.optionsForm.controls.maxOxygenDuration;return this.inputs.controlInValid(e)}get backGasDurationInvalid(){let e=this.optionsForm.controls.backGasDuration;return this.inputs.controlInValid(e)}get options(){return this.schedules.selectedOptions}get airBreaks(){return this.options.airBreaks}get rmv(){let e=this.units.ranges.rmvRounding,r=this.options.diverOptions.rmv,i=this.units.fromLiter(r);return Qt.round(i,e)}set isComplex(e){e||this.setAllUsable(),this.viewSwitch.isComplex=e,e&&this.preferences.save()}ngOnInit(){this.optionsForm=this.fb.group({altitude:[this.options.altitude,this.validators.altitude],gfLow:[Qt.round(this.options.gfLow*100,1),this.validators.gradients],gfHigh:[Qt.round(this.options.gfHigh*100,1),this.validators.gradients],maxEND:[Qt.round(this.options.maxEND,1),this.validators.maxEnd],problem:[Qt.round(this.options.problemSolvingDuration,1),this.validators.duration100],gasSwitch:[Qt.round(this.options.gasSwitchDuration,1),this.validators.duration100],lastStopDepth:[Qt.round(this.options.lastStopDepth,1),this.validators.lastStopDepth],descentSpeed:[Qt.round(this.options.descentSpeed,1),this.validators.speed],ascentSpeed6m:[Qt.round(this.options.ascentSpeed6m,1),this.validators.speed],ascentSpeed50percTo6m:[Qt.round(this.options.ascentSpeed50percTo6m,1),this.validators.speed],ascentSpeed50perc:[Qt.round(this.options.ascentSpeed50perc,1),this.validators.speed],rmv:[this.rmv,this.validators.diverRmv],maxPO2:[Qt.round(this.options.diverOptions.maxPpO2,2),this.validators.ppO2],maxDecoPO2:[Qt.round(this.options.diverOptions.maxDecoPpO2,2),this.validators.ppO2],maxOxygenDuration:[Qt.round(this.airBreaks.oxygenDuration,0),this.validators.duration100],backGasDuration:[Qt.round(this.airBreaks.bottomGasDuration,0),this.validators.duration100]}),this.dispatcher.optionsReloaded$.pipe(er(this.unsubscribe$)).subscribe(e=>{this.options===e&&this.reload()}),this.dispatcher.selectedChanged$.pipe(er(this.unsubscribe$)).subscribe(()=>this.reload()),this.rootForm.addControl("diveOptions",this.optionsForm)}setAllUsable(){this.strategy=this.allUsableName}useRecreational(){this.rootForm.invalid||(this.options.useRecreational(),this.fireChanged(),this.reload())}useRecommended(){this.rootForm.invalid||(this.options.useRecommended(),this.fireChanged(),this.reload())}switchStopsRounding(){this.options.roundStopsToMinutes=!this.options.roundStopsToMinutes,this.applyOptions()}useSafetyOff(){this.options.useSafetyOff(),this.applyOptions()}useSafetyAuto(){this.options.useSafetyAuto(),this.applyOptions()}useSafetyOn(){this.options.useSafetyOn(),this.applyOptions()}switchOxygenNarcotic(){this.options.oxygenNarcotic=!this.options.oxygenNarcotic,this.applyOptions()}switchAirBreaks(){this.options.switchAirBreaks(),this.applyOptions()}updateGradients(e){this.options.gfLow=e.gfLow,this.options.gfHigh=e.gfHeigh,this.applyOptions()}salinityChanged(e){this.options.salinity=e,this.applyOptions()}altitudeChanged(e){this.options.altitude=this.units.fromMeters(e),this.applyOptions()}applyOptions(){if(this.rootForm.invalid)return;let e=this.optionsForm.value;this.options.maxEND=Number(e.maxEND),this.options.problemSolvingDuration=Number(e.problem),this.options.gasSwitchDuration=Number(e.gasSwitch),this.options.lastStopDepth=Number(e.lastStopDepth),this.options.descentSpeed=Number(e.descentSpeed),this.options.ascentSpeed6m=Number(e.ascentSpeed6m),this.options.ascentSpeed50percTo6m=Number(e.ascentSpeed50percTo6m),this.options.ascentSpeed50perc=Number(e.ascentSpeed50perc),this.airBreaks.oxygenDuration=Number(e.maxOxygenDuration),this.airBreaks.bottomGasDuration=Number(e.backGasDuration),this.fireChanged()}fireChanged(){this.dispatcher.sendOptionsChanged()}reload(){let e=this.options.diverOptions;this.optionsForm.patchValue({altitude:this.options.altitude,gfLow:Qt.round(this.options.gfLow*100,1),gfHigh:Qt.round(this.options.gfHigh*100,1),maxEND:Qt.round(this.options.maxEND,1),problem:Qt.round(this.options.problemSolvingDuration,1),gasSwitch:Qt.round(this.options.gasSwitchDuration,1),lastStopDepth:Qt.round(this.options.lastStopDepth,1),descentSpeed:Qt.round(this.options.descentSpeed,1),ascentSpeed6m:Qt.round(this.options.ascentSpeed6m,1),ascentSpeed50percTo6m:Qt.round(this.options.ascentSpeed50percTo6m,1),ascentSpeed50perc:Qt.round(this.options.ascentSpeed50perc,1),rmv:e.rmv,maxPO2:e.maxPpO2,maxDecoPO2:e.maxDecoPpO2,maxOxygenDuration:Qt.round(this.airBreaks.oxygenDuration),backGasDuration:Qt.round(this.airBreaks.bottomGasDuration)})}static{this.\u0275fac=function(r){return new(r||t)(ht(Fn),ht(Fr),ht(qr),ht(Pr),ht(Gs),ht(kr),ht(H2),ht(Ei))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-diveoptions"]],inputs:{formValid:"formValid",rootForm:"rootForm"},features:[Nr],decls:19,vars:5,consts:[[1,"card",3,"formGroup"],[1,"card-header"],[1,"float-start"],[1,"me-3",3,"icon"],[1,"float-end"],[1,"form-check","form-switch"],["type","checkbox","id","isComplex","mdbCheckbox","",1,"form-check-input",3,"change","checked"],["for","isComplex",1,"custom-control-label"],[1,"card-body"],[4,"ngIf"],["type","button",1,"btn","btn-secondary","me-2","mt-3",3,"click"],["type","button",1,"btn","btn-secondary","mt-3",3,"click"],[1,"mt-3","row"],[1,"mb-4","col","col-12","col-sm-6","col-md-4","col-lg-12","col-xl-6"],[3,"inputChange","salinity"],["controlName","altitude",3,"inputChange","altitude","altitudeForm"],[1,"mb-4","col","col-12","col-sm-12","col-md-4","col-lg-12","col-xxl-12"],[3,"inputChange","gfLow","gfHigh","gfForm","simple","showTitle"],["title","Environment"],[1,"pt-3","row"],[1,"mb-4","col","col-12","col-sm-6"],["title","Conservatism"],[1,"pt-3"],["title","Gases"],[1,"mb-3","col","col-12","col-sm-6"],["for","maxNarcoticDepth","mdbLabel","",1,"form-label"],["id","maxNarcoticDepth","type","number","formControlName","maxEND","required","","step","1",1,"form-control",3,"input","min","max"],[1,"invalid-feedback","position-absolute"],[1,"col","col-12","col-sm-6"],[1,"form-check","form-switch","pb-1"],["type","checkbox","id","oxygenNarcotic","mdbCheckbox","",1,"form-check-input",3,"change","checked"],["for","roundStops",1,"form-check-label"],["title","Air breaks"],[1,"coll"],["type","checkbox","id","enableAirBreaks","mdbCheckbox","",1,"form-check-input",3,"change","checked"],[1,"mb-4","col","col-12","col-sm-6","col-lg-12"],["for","maxOxygenDuration","mdbLabel","",1,"form-label"],["id","maxOxygenDuration","type","number","formControlName","maxOxygenDuration","required","","min","1","max","100","step","1",1,"form-control",3,"input"],["for","backGasDuration","mdbLabel","",1,"form-label"],["id","backGasDuration","type","number","formControlName","backGasDuration","required","","min","1","max","100","step","1",1,"form-control",3,"input"],["title","Stops"],[1,"row","pt-3"],[1,"mb-4","col","col-12","col-sm-6","col-md-3","col-xxl-6"],["for","problem","mdbLabel","",1,"form-label"],["id","problem","formControlName","problem","type","number","required","","min","1","max","100","step","1",1,"form-control",3,"input"],["for","switchDuration","mdbLabel","",1,"form-label"],["id","switchDuration","formControlName","gasSwitch","type","number","required","","min","1","max","100","step","1",1,"form-control",3,"input"],["for","safetyStop","mdbLabel","",1,"form-label"],["mdbDropdown","",1,"input-group","dropdown"],["id","safetyStop","type","text",1,"form-control",3,"value","readonly"],["type","button","id","safetyStopMenu","aria-expanded","false","data-mdb-toggle","dropdown","mdbDropdownToggle","",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[3,"click"],[1,"dropdown-item"],["for","lastStop","mdbLabel","",1,"form-label"],["id","lastStop","formControlName","lastStopDepth","type","number","required","","step","1",1,"form-control",3,"input","min","max"],[1,"row","ms-2"],["type","checkbox","id","roundStops","mdbCheckbox","",1,"form-check-input",3,"change","checked"],["title","Speeds"],[1,"mb-4","col","col-12","col-sm-6","col-md-3","col-lg-6"],["for","descSpeed","mdbLabel","",1,"form-label"],["id","descSpeed","formControlName","descentSpeed","type","number","required","","step","1",1,"form-control",3,"input","min","max"],["for","ascSpeed3","mdbLabel","",1,"form-label"],["id","ascSpeed3","formControlName","ascentSpeed50perc","type","number","required","","step","1",1,"form-control",3,"input","min","max"],["for","ascSpeed2","mdbLabel","",1,"form-label"],["id","ascSpeed2","formControlName","ascentSpeed50percTo6m","type","number","required","","step","1",1,"form-control",3,"input","min","max"],["for","ascSpeed","mdbLabel","",1,"form-label"],["id","ascSpeed","formControlName","ascentSpeed6m","type","number","required","","step","1",1,"form-control",3,"input","min","max"],["title","Diver"],[1,"col","col-12","col-sm-5","col-lg-4","col-xl-3","col-xxl-2",3,"changed","diver","diverForm"]],template:function(r,i){r&1&&(se(0,"div",0)(1,"div",1)(2,"div",2),Nt(3,"fa-icon",3),se(4,"span"),Ie(5,"Options"),de()(),se(6,"div",4)(7,"div",5)(8,"input",6),Bt("change",function(){return i.isComplex=!i.isComplex}),de(),se(9,"label",7),Ie(10,"Extended (Trimix)"),de()()()(),se(11,"div",8),tn(12,Qee,8,8,"div",9)(13,Jee,113,66,"div",9),se(14,"div")(15,"button",10),Bt("click",function(){return i.useRecreational()}),Ie(16,"Recreational"),de(),se(17,"button",11),Bt("click",function(){return i.useRecommended()}),Ie(18,"Recommended"),de()()()()),r&2&&(Ne("formGroup",i.optionsForm),fe(3),Ne("icon",i.icon),fe(5),Ne("checked",i.isComplex),fe(4),Ne("ngIf",!i.isComplex),fe(),Ne("ngIf",i.isComplex))},dependencies:[fr,xr,Yr,vi,fi,Rr,ea,yi,gi,Or,oi,Vs,Ds,Ts,Oi,jc,B4,a3,aC,Hf,Uf]})}}return t})();var vp=G1(DI()),TI=G1(n2());var o3=(()=>{class t{static{this.depthLineColorA="rgb(31, 119, 180)"}static{this.depthLineColorB="rgb(141, 143, 144)"}constructor(e,r){this.resampling=e,this.units=r,this.namePrefix="",this.averageDepthLineColor="rgb(62, 157, 223)",this.ceilingLineColor="rgb(255, 160, 73)",this.eventLineColor="rgba(31, 119, 180, 0.7)",this.eventFillColor="rgba(31, 119, 180, 0.5)",this.depthLineColor=t.depthLineColorA}createOptions(){return{displaylogo:!1,displayModeBar:!1,responsive:!0,autosizable:!0,scrollZoom:!1,editable:!1}}createCursor(){return{type:"line",xref:"x",yref:"y",x0:new Date("2001-06-12 12:30"),y0:0,x1:new Date("2001-06-12 12:30"),y1:1,fillcolor:"#d3d3d3",line:{color:t.depthLineColorA,width:5}}}createLayout(){return{autosize:!0,showlegend:!1,xaxis:{fixedrange:!0,title:{text:"Time [min]"}},yaxis:{fixedrange:!0,autorange:"reversed",title:{text:`Depth [${this.units.length}]`}},margin:{l:40,r:10,b:40,t:10},hovermode:"x unified",hoverlabel:{bgcolor:"rgba(200, 200, 200, 0.25)",bordercolor:"rgba(200, 200, 200, 0.25)"},shapes:[]}}wthNamePrefix(e){return this.namePrefix=e,this}wthAverageDepthColor(e){return this.averageDepthLineColor=e,this}wthDepthColor(e){return this.depthLineColor=e,this}wthCeilingColor(e){return this.ceilingLineColor=e,this}wthEventLineColor(e){return this.eventLineColor=e,this}wthEventFillColor(e){return this.eventFillColor=e,this}create(e){return new lC(e,this.resampling,this.units,this.namePrefix,this.averageDepthLineColor,this.depthLineColor,this.ceilingLineColor,this.eventLineColor,this.eventFillColor)}}return t})(),lC=class{constructor(n,e,r,i,s,a,o,c,l){this.dive=n,this.resampling=e,this.units=r,this.namePrefix="",this.averageDepthLineColor="rgb(62, 157, 223)",this.depthLineColor="rgb(31, 119, 180)",this.ceilingLineColor="rgb(255, 160, 73)",this.eventLineColor="rgba(31, 119, 180, 0.7)",this.eventFillColor="rgba(31, 119, 180, 0.5)",this.namePrefix=i,this.averageDepthLineColor=s,this.depthLineColor=a,this.ceilingLineColor=o,this.eventLineColor=c,this.eventFillColor=l}traces(){let n=this.dive(),e=this.plotAverageDepth(n.wayPoints),r=this.plotDepths(n.wayPoints),i=this.plotCeilings(n.ceilings),s=this.plotEvents(n.events);return[e,r,i,s]}plotAverageDepth(n){let e=this.resampling.resampleAverageDepth(n);return{x:e.xValues,y:e.yValues,type:"scatter",line:{dash:"dot"},name:this.namePrefix+"Avg. depth",marker:{color:this.averageDepthLineColor},hovertemplate:`%{y:.2f}  ${this.units.length}`}}plotDepths(n){let e=this.resampling.resampleWaypoints(n);return{x:e.xValues,y:e.yValues,type:"scatter",name:this.namePrefix+"Depth",marker:{color:this.depthLineColor},hovertemplate:`%{y:.2f}  ${this.units.length}`}}plotCeilings(n){let e=this.resampling.resampleCeilings(n);return{x:e.xValues,y:e.yValues,type:"scatter",fill:"tozeroy",name:this.namePrefix+"Ceiling",marker:{color:this.ceilingLineColor},hovertemplate:`%{y:.2f}  ${this.units.length}`}}plotEvents(n){let e=this.resampling.convertEvents(n);return{x:e.xValues,y:e.yValues,labels:e.labels,text:e.labels,type:"scatter",mode:"text+markers",fill:"tozeroy",name:this.namePrefix+"Event",hovertemplate:"%{text}",texttemplate:"%{text}",textposition:"top center",fillcolor:"rgba(0, 0, 0, 0)",marker:{color:this.eventFillColor,size:8,line:{color:this.eventLineColor,width:2}},showlegend:!1}}},h6=class{constructor(n,e,...r){this.elementName=n,this.builders=r,this.cursor1=e.createCursor(),this.layout=e.createLayout(),this.options=e.createOptions()}plotCharts(n){this.updateLayoutThickFormat(n);let e=(0,TI.default)(this.builders).map(r=>r.traces()).flatten().toArray().value();vp.react(this.elementName,e,this.layout,this.options)}plotCursor(n){let e={shapes:[]};n&&(this.updateCursor(n,this.cursor1),e.shapes.push(this.cursor1)),vp.relayout(this.elementName,e)}updateLayoutThickFormat(n){this.layout.xaxis.tickformat=Na.selectChartTimeFormat(n)}updateCursor(n,e){e.x0=Na.toDate(n.startTime),e.x1=Na.toDate(n.endTime),e.y0=n.startDepth,e.y1=n.endDepth}};var p6=(()=>{class t{constructor(e){this.units=e}resampleAverageDepth(e){let r=[],i=[];return e.length>0&&this.transformAverageDepth(e,r,i),{xValues:r,yValues:i}}convertEvents(e){let r=[],i=[],s=[];return e.forEach(a=>{if(this.isSupportedEvent(a)){r.push(Na.toDate(a.timeStamp));let o=this.convertDepth(a.depth);i.push(o);let c=this.formatChartEventText(a);s.push(c)}}),{xValues:r,yValues:i,labels:s}}resampleCeilings(e){let r=[],i=[];return e.forEach(s=>{r.push(Na.toDate(s.time));let a=this.convertDepth(s.depth);i.push(a)}),{xValues:r,yValues:i}}resampleWaypoints(e){let r=[],i=[];return e.forEach(s=>{this.resampleDepthsToSeconds(r,i,s)}),{xValues:r,yValues:i}}resampleDepthsToSeconds(e,r,i){let s=(i.endDepthMeters-i.startDepthMeters)/i.duration;for(let o=i.startTime;o<i.endTime;o++){e.push(Na.toDate(o));let c=i.startDepthMeters+(o-i.startTime)*s,l=this.convertDepth(c);r.push(l)}e.push(Na.toDate(i.endTime));let a=this.convertDepth(i.endDepthMeters);r.push(a)}transformAverageDepth(e,r,i){if(e.length<=0)return 0;let s=0,a=0;return e.forEach(o=>{if(o.duration>0)for(let c=0;c<o.duration;c++){r.push(Na.toDate(a));let u=o.depthAt(c)+a*s;a++,s=u/a;let f=this.convertDepth(s);i.push(f)}}),s}convertDepth(e){let r=this.units.fromMeters(e);return Qt.round(r,1)}isSupportedEvent(e){switch(e.type){case Ir.gasSwitch:case Ir.noDecoEnd:case Ir.safetyStop:return!0;default:return!1}}formatChartEventText(e){switch(e.type){case Ir.gasSwitch:{let r=e.gas;return r?ma.nameFor(r.fO2,r.fHe):""}case Ir.noDecoEnd:return"Deco";case Ir.safetyStop:return"Safety stop";default:return""}}static{this.\u0275fac=function(r){return new(r||t)($t(Fn))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();var m6=(()=>{class t{constructor(e){this.schedules=e,this.selectedChanged=new rr}set selectedTimeStamp(e){let r;if(e){let i=Na.secondsFromDate(e);r=this.schedules.selected.diveResult.wayPoints.find(a=>a.fits(i))}this.selected=r}set selected(e){this.lastSelected&&(this.lastSelected.selected=!1),this.lastSelected=e,e&&this.lastSelected&&(this.lastSelected.selected=!0),this.selectedChanged.emit(this.lastSelected)}static{this.\u0275fac=function(r){return new(r||t)($t(kr))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();var ete=(t,n)=>({"plot-display":t,"plot-hidden":n}),cC=(()=>{class t extends ji{constructor(e,r,i,s,a){super(),this.selectedWaypoint=i,this.dispatcher=s,this.schedules=a,this.icon=D7,this.elementName="diveplot";let o=new o3(r,e),c=o.wthNamePrefix("").create(()=>this.dive);this.plotter=new h6("diveplot",o,c),this.dispatcher.wayPointsCalculated$.pipe(er(this.unsubscribe$)).subscribe(l=>{this.schedules.selected.id===l&&(this.plotCharts(),this.plotlyHoverLeave())}),this.dispatcher.selectedChanged$.pipe(er(this.unsubscribe$)).subscribe(()=>this.plotCharts()),this.selectedWaypoint.selectedChanged.pipe(er(this.unsubscribe$)).subscribe(l=>this.selectWayPoint(l))}get profileCalculated(){return this.dive.profileCalculated}get dive(){return this.schedules.selected.diveResult}ngOnInit(){this.plotCharts(),this.hookChartEvents()}plotlyHover(e){let r=e.points[0].x.toString();this.selectedWaypoint.selectedTimeStamp=r}plotlyHoverLeave(){this.selectedWaypoint.selectedTimeStamp="",this.selectWayPoint(void 0)}selectWayPoint(e){this.plotter.plotCursor(e)}plotCharts(){this.plotter.plotCharts(this.dive.totalDuration)}hookChartEvents(){let e=document.getElementById(this.elementName);e.on("plotly_hover",r=>this.plotlyHover(r)),e.on("plotly_click",r=>this.plotlyHover(r)),e.on("plotly_unhover",()=>this.plotlyHoverLeave())}static{this.\u0275fac=function(r){return new(r||t)(ht(Fn),ht(p6),ht(m6),ht(Ei),ht(kr))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-profilechart"]],features:[Nr],decls:8,vars:6,consts:[[1,"card"],[1,"card-header"],["flip","vertical",1,"me-3",3,"icon"],[1,"card-body","card-minheight"],[3,"show"],["id","diveplot",1,"diveplot",3,"ngClass"]],template:function(r,i){r&1&&(se(0,"div",0)(1,"div",1),Nt(2,"fa-icon",2),se(3,"span"),Ie(4,"Profile chart"),de()(),se(5,"div",3),Nt(6,"app-calculating",4)(7,"div",5),de()()),r&2&&(fe(2),Ne("icon",i.icon),fe(4),Ne("show",!i.profileCalculated),fe(),Ne("ngClass",vo(3,ete,i.profileCalculated,!i.profileCalculated)))},dependencies:[Za,xr,c1],styles:[".dive-level[_ngcontent-%COMP%]{stroke:#4169e1;stroke-width:2}.dive-surface[_ngcontent-%COMP%]{stroke:navy;stroke-width:4}.dive-waypoint[_ngcontent-%COMP%]{text-anchor:end}.dive-nodeco[_ngcontent-%COMP%]{fill:red;r:6}.dive-plot[_ngcontent-%COMP%]{position:relative;width:100%;height:450px}.plot-display[_ngcontent-%COMP%]{display:block}.plot-hidden[_ngcontent-%COMP%]{display:none}"]})}}return t})();var EI=G1(n2());var xs=function(t){return t[t.hover=0]="hover",t[t.ascent=1]="ascent",t[t.descent=2]="descent",t[t.switch=3]="switch",t}(xs||{}),gp=class t{constructor(n,e,r,i=0){this.units=n,this.duration=e,this.selected=!1,this.startTime=0,this.endTime=0,this._startDepth=0,this._endDepth=0,this.speed=0,this.action=xs.hover,this._gasName="",this.endTime=Qt.roundTwoDecimals(e),this._endDepth=r,this._startDepth=i,this.updateSwimAction()}get gasName(){return this._gasName}get startDepth(){return this.units.fromMeters(this._startDepth)}get startDepthMeters(){return this._startDepth}get endDepth(){return this.units.fromMeters(this._endDepth)}get endDepthMeters(){return this._endDepth}get swimAction(){return this.action}static fromSegment(n,e){let r=new t(n,e.duration,e.endDepth),i=ma.nameFor(e.gas.fO2,e.gas.fHe);return r._gasName=i,r.speed=e.speed,r}asGasSwitch(){this.action=xs.switch}toLevel(n){let e=t.fromSegment(this.units,n);e.startTime=this.endTime;let r=this.endTime+n.duration;return e.endTime=Qt.roundTwoDecimals(r),e._startDepth=this._endDepth,e.updateSwimAction(),e}fits(n){return this.startTime<=n&&n<this.endTime}depthAt(n){return Ro.depthAt(this._startDepth,this.speed,n)}updateSwimAction(){this.action=xs.hover,this._startDepth<this._endDepth&&(this.action=xs.descent),this._startDepth>this._endDepth&&(this.action=xs.ascent)}};var yp=(()=>{class t{constructor(e){this.units=e}calculateWayPoints(e){let r=[];if(e.length===0)return[];let i=e[0],s=gp.fromSegment(this.units,i),a=i;return r.push(s),e.slice(1).forEach(c=>{let l=this.toWayPoint(c,s,a);s=l,a=c,r.push(l)}),r}toWayPoint(e,r,i){let s=r.toLevel(e);return!e.gas.compositionEquals(i.gas)&&s.asGasSwitch(),s}static{this.\u0275fac=function(r){return new(r||t)($t(Fn))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();var xp=(()=>{class t{constructor(e){this.appSettings=e}get ignoredIssues(){let e=[];return this.appSettings.icdIgnored&&e.push(Ir.isobaricCounterDiffusion),this.appSettings.densityIgnored&&e.push(Ir.highGasDensity),this.appSettings.noDecoIgnored&&e.push(Ir.noDecoEnd),this.appSettings.missingAirBreakIgnored&&e.push(Ir.missingAirBreak),e}filterIgnored(e){return e.filter(r=>!this.ignoredIssues.includes(r.type))}static{this.\u0275fac=function(r){return new(r||t)($t(Oo))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();var v6=class t{static calculateDecompression(n){let e=this.profileParametersFromTask(n),i=new O0().decompression(e),s=Gi.fromProfile(i),a={maxDensity:n.eventOptions.maxDensity,startAscentIndex:e.segments.startAscentIndex,profile:i.segments,ceilings:i.ceilings,profileOptions:e.options},o=X7.fromProfile(a),c=Gi.fromEvents(o.items);return{diveId:n.diveId,profile:s,events:c}}static diveInfo(n){let e=this.profileParametersFromTask(n),i=new O0().noDecoLimit(e),s=new R0(n.options).create(),a=e.segments.items,o=new a6(s).calculateForProfile(a),c=new $7(s).calculateForProfile(a),l=new i6(s).forProfile(a);return{diveId:n.diveId,noDeco:i,otu:o,cns:c,density:Gi.fromDensity(l)}}static calculateConsumption(n){let e=new R0(n.options).create(),r=new F2(e),i=Gi.toTanks(n.tanks),s=Gi.toSegments(n.profile,i),a=Gi.toSegments(n.plan,i),o=n.consumptionOptions.diver,c=new F1(o.rmv,o.stressRmv),l=Gi.toOptions(n.options),u=t.selectConsumptionPlan(a,n.isComplex),f={diver:c,primaryTankReserve:n.consumptionOptions.primaryTankReserve,stageTankReserve:n.consumptionOptions.stageTankReserve},h=r.calculateMaxBottomTime(u,i,f,l),p=F0.emergencyAscent(s,l,i),m=Es.duration(p);return m=mr.toMinutes(m),r.consumeFromTanks2(s,p,i,f),{diveId:n.diveId,maxTime:h,timeToSurface:m,tanks:Gi.toConsumed(i)}}static selectConsumptionPlan(n,e){if(e)return Es.fromCollection(n);let r=n.slice(0,1);return Es.fromCollection(r)}static profileParametersFromTask(n){let e=Gi.toTanks(n.tanks),r=Sl.fromTanks(e),i=Gi.toSegments(n.plan,e),s=Es.fromCollection(i),a=Gi.toOptions(n.options),o=Gi.toTissues(n.tissues),c=new Af(o,n.surfaceInterval);return Dl.forMultilevelDive(s,r,a,c)}};var zl=class{createProfileWorker(){let n=new nr,e=new nr;return{calculated$:n,calculate:r=>{this.tryAction(i=>v6.calculateDecompression(i),r,n,e)},failed$:e}}createDiveInfoWorker(){let n=new nr,e=new nr;return{calculated$:n,calculate:r=>{this.tryAction(i=>v6.diveInfo(i),r,n,e)},failed$:e}}createConsumptionWorker(){let n=new nr,e=new nr;return{calculated$:n,calculate:r=>{this.tryAction(i=>v6.calculateConsumption(i),r,n,e)},failed$:e}}tryAction(n,e,r,i){try{let s=n(e);r.next(s)}catch{i.next()}}};var bp=(()=>{class t extends ji{constructor(e,r,i,s,a,o){super(),this.schedules=e,this.dispatcher=r,this.viewSwitch=i,this.appSettings=s,this.waypoints=new yp(o),this.ignoredIssues=new xp(this.appSettings),this.profileTask=a.createProfileWorker(),this.profileTask.calculated$.pipe(er(this.unsubscribe$)).subscribe(c=>this.continueCalculation(c)),this.profileTask.failed$.pipe(er(this.unsubscribe$)).subscribe(()=>this.profileFailed()),this.diveInfoTask=a.createDiveInfoWorker(),this.diveInfoTask.calculated$.pipe(er(this.unsubscribe$)).subscribe(c=>this.finishDiveInfo(c)),this.diveInfoTask.failed$.pipe(er(this.unsubscribe$)).subscribe(()=>this.profileFailed()),this.consumptionTask=a.createConsumptionWorker(),this.consumptionTask.calculated$.pipe(er(this.unsubscribe$)).subscribe(c=>this.finishConsumption(c)),this.consumptionTask.failed$.pipe(er(this.unsubscribe$)).subscribe(()=>this.profileFailed())}calculate(e){if(!this.schedules.validId(e))return;io.debug(`Planner calculated: ${e}`);let r=this.diveById(e),i=r.diveResult;i.start(),setTimeout(()=>{i.showStillRunning()},500);let s=this.createProfileRequest(r);this.profileTask.calculate(s)}continueCalculation(e){if(!this.schedules.validId(e.diveId))return;let r=this.diveById(e.diveId),i=r.tanksService.tankData,s=Gi.toProfile(e.profile,i),a=Gi.toEvents(e.events),o=r.diveResult;o.wayPoints=this.wayPointsFromResult(s),o.ceilings=s.ceilings,o.events=this.ignoredIssues.filterIgnored(a.items),o.finalTissues=s.tissues,o.averageDepth=Es.averageDepth(s.segments),o.endsOnSurface?this.processCalculatedProfile(s,r):(o.endFailed(),this.sendFailedEvents())}processCalculatedProfile(e,r){let i=this.createProfileRequest(r);this.diveInfoTask.calculate(i);let s={diveId:r.id,isComplex:this.viewSwitch.isComplex,plan:i.plan,profile:Gi.fromSegments(e.segments),options:i.options,consumptionOptions:{diver:Gi.fromDiver(r.optionsService.getDiver()),primaryTankReserve:this.appSettings.primaryTankReserve,stageTankReserve:this.appSettings.stageTankReserve},tanks:i.tanks};r.diveResult.profileFinished(),this.consumptionTask.calculate(s),this.dispatcher.sendWayPointsCalculated(r.id)}createProfileRequest(e){let r=this.previousDiveTissues(e.id),i=e.tanksService.tanks;return{diveId:e.id,tanks:Gi.fromTanks(i),plan:Gi.fromSegments(e.depths.segments),options:Gi.fromOptions(e.optionsService.getOptions()),tissues:Gi.fromTissues(r),surfaceInterval:e.surfaceInterval,eventOptions:this.createEventOptions()}}previousDiveTissues(e){if(e>1){let r=e-1;return this.diveResult(r).finalTissues}return[]}wayPointsFromResult(e){return e.errors.length>0?[]:this.waypoints.calculateWayPoints(e.segments)}profileFailed(){this.schedules.dives.forEach(e=>e.diveResult.endFailed()),this.sendFailedEvents()}finishDiveInfo(e){if(!this.schedules.validId(e.diveId))return;let r=this.diveById(e.diveId),i=r.diveResult;i.noDecoTime=e.noDeco,i.otu=e.otu,i.cns=e.cns,i.planDuration=r.depths.planDuration,i.notEnoughTime=r.depths.notEnoughTime,i.highestDensity=Gi.toDensity(e.density),i.diveInfoFinished(),this.fireFinishedEvents(r)}finishConsumption(e){if(!this.schedules.validId(e.diveId))return;let r=this.diveById(e.diveId),i=r.tanksService;i.copyTanksConsumption(e.tanks);let s=r.diveResult;s.maxTime=e.maxTime,s.timeToSurface=e.timeToSurface,s.emergencyAscentStart=r.depths.startAscentTime,s.turnPressure=i.calculateTurnPressure(),s.turnTime=Qt.floor(r.depths.planDuration/2),s.needsReturn=r.depths.needsReturn&&i.singleTank,s.notEnoughGas=!i.enoughGas,s.consumptionFinished(),this.fireFinishedEvents(r)}createEventOptions(){return{maxDensity:this.appSettings.settings.maxGasDensity}}diveResult(e){return this.diveById(e).diveResult}diveById(e){let r=this.schedules.byId(e);if(r)return r;throw new Error(`Unable to find dive by Id '${e}'.`)}fireFinishedEvents(e){e.diveResult.running||this.dispatcher.sendInfoCalculated(e.id)}sendFailedEvents(){this.dispatcher.sendWayPointsCalculated(),this.dispatcher.sendInfoCalculated()}static{this.\u0275fac=function(r){return new(r||t)($t(kr),$t(Ei),$t(Gs),$t(Oo),$t(zl),$t(Fn))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();var Cp=(()=>{class t extends ji{constructor(e,r,i,s){super(),this.dispatcher=e,this.planner=r,this.diveSchedules=i,this.views=s,this.delayMilliseconds=100,this.scheduledDiveId=0}startScheduling(){this.scheduleAll(),this.registerEventListeners()}scheduleAll(){(0,EI.default)(this.diveSchedules.dives).filter(e=>!e.isRepetitive).forEach(e=>setTimeout(()=>this.scheduleDive(e.id),this.delayMilliseconds))}registerEventListeners(){this.dispatcher.tankChanged$.pipe(er(this.unsubscribe$)).subscribe(()=>this.scheduleSelected()),this.dispatcher.depthChanged$.pipe(er(this.unsubscribe$)).subscribe(()=>this.scheduleSelected()),this.dispatcher.optionsChanged$.pipe(er(this.unsubscribe$)).subscribe(()=>this.scheduleSelected()),this.dispatcher.depthsReloaded$.pipe(er(this.unsubscribe$)).subscribe(()=>this.scheduleSelected()),this.dispatcher.setToSimple$.pipe(er(this.unsubscribe$)).subscribe(()=>this.scheduleAll()),this.dispatcher.infoCalculated$.pipe(er(this.unsubscribe$)).subscribe(e=>this.scheduleNextDive(e))}schedule(e){this.views.saveMainView(),this.scheduledDiveId!==e&&(this.scheduledDiveId=e,setTimeout(()=>this.scheduleDive(e),this.delayMilliseconds))}scheduleSelected(){let e=this.diveSchedules.selected.id;this.schedule(e)}scheduleNextDive(e){if(!e)return;let r=e+1,i=this.diveSchedules.byId(r);i&&i.isRepetitive&&this.schedule(r)}scheduleDive(e){this.planner.calculate(e),this.scheduledDiveId=0}static{this.\u0275fac=function(r){return new(r||t)($t(Ei),$t(bp),$t(kr),$t(va))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();var g6=(()=>{class t{constructor(e,r,i,s){this.schedules=e,this.preferences=r,this.schedule=i,this.viewStore=s,this.preferences.ensureDefault(),this.loadAll()}get length(){return this.schedules.length}get empty(){return this.schedules.empty}get dives(){return this.schedules.dives}get selectedIndex(){return this.schedules.selected.index}add(){let e=this.schedules.add();this.loadDefaultTo(e)}remove(e){this.schedules.remove(e),this.preferences.save()}loadDefaults(){let e=this.schedules.selected;this.loadDefaultTo(e)}saveDefaults(){this.preferences.saveDefault()}loadAll(){this.preferences.load(),this.schedule.startScheduling()}select(e){this.viewStore.setSelectedDive(e),this.schedules.setSelectedIndex(e)}loadDefaultTo(e){this.preferences.loadDefault(e),this.preferences.save()}static{this.\u0275fac=function(r){return new(r||t)($t(kr),$t(H2),$t(Cp),$t(va))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();var ate=["tabs"];function ste(t,n){if(t&1&&Nt(0,"fa-icon",8),t&2){let e=lt(3);Ne("icon",e.reloadIcon)}}function ote(t,n){if(t&1){let e=ar();se(0,"button",9),Bt("click",function(){Dn(e);let i=lt(2).$implicit,s=lt();return Tn(s.closeTab(i))}),de()}}function lte(t,n){if(t&1&&(se(0,"div",4),tn(1,ste,1,1,"fa-icon",5),se(2,"div",6),Ie(3),de(),tn(4,ote,1,0,"button",7),de()),t&2){let e=lt().$implicit,r=lt();fe(),Ne("ngIf",!e.diveResult.calculated),fe(2),Kn(e.title),fe(),Ne("ngIf",!r.schedules.empty)}}function cte(t,n){t&1&&(se(0,"mdb-tab"),tn(1,lte,5,3,"ng-template",3),de())}function ute(t,n){if(t&1){let e=ar();se(0,"fa-icon",10),Bt("click",function(){Dn(e);let i=lt();return Tn(i.addTab())}),de()}if(t&2){let e=lt();Ne("icon",e.addIcon)}}var uC=(()=>{class t extends ji{constructor(e,r){super(),this.schedules=e,this.cd=r,this.addIcon=J4,this.reloadIcon=ZE}ngAfterViewInit(){let e=this.schedules.selectedIndex;this.tabs?.setActiveTab(e),this.cd.detectChanges(),this.tabs?.activeTabChange.pipe(er(this.unsubscribe$)).subscribe(r=>{this.selectedChanged(r)})}closeTab(e){this.schedules.remove(e)}addTab(){this.schedules.add()}selectedChanged(e){let r=e.index;e.index===this.schedules.length&&(r=e.index-1,this.tabs?.setActiveTab(r)),this.schedules.select(r)}static{this.\u0275fac=function(r){return new(r||t)(ht(g6),ht(Zs))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-plan-tabs"]],viewQuery:function(r,i){if(r&1&&D1(ate,5),r&2){let s;is(s=as())&&(i.tabs=s.first)}},features:[Nr],decls:6,vars:2,consts:[["tabs",""],[3,"pills"],[4,"ngFor","ngForOf"],["mdbTabTitle",""],[1,"d-flex","align-items-center"],["class","me-1 fa-xl small text-info",3,"icon",4,"ngIf"],[1,"justifycontent-center"],["type","button","class","btn-close ms-2","aria-label","Close",3,"click",4,"ngIf"],[1,"me-1","fa-xl","small","text-info",3,"icon"],["type","button","aria-label","Close",1,"btn-close","ms-2",3,"click"],[1,"p-0","m-0","fa-xl",3,"click","icon"]],template:function(r,i){r&1&&(se(0,"div")(1,"mdb-tabs",1,0),tn(3,cte,2,0,"mdb-tab",2),se(4,"mdb-tab"),tn(5,ute,1,1,"ng-template",3),de()()()),r&2&&(fe(),Ne("pills",!0),fe(2),Ne("ngForOf",i.schedules.dives))},dependencies:[Ta,fr,xr,jc,e7,B4]})}}return t})();function dte(t,n){t&1&&(se(0,"label",9),Ie(1,"O2 [%]:"),de())}function hte(t,n){if(t&1){let e=ar();se(0,"li",10),Bt("click",function(){Dn(e);let i=lt();return Tn(i.fireAssignBestMix())}),se(1,"a",11),Ie(2,"Best mix"),de()()}}function pte(t,n){if(t&1){let e=ar();se(0,"li",12),Bt("click",function(){let i=Dn(e).$implicit,s=lt();return Tn(s.assignStandardGas(i))}),se(1,"a",11),Ie(2),de()()}if(t&2){let e=n.$implicit;fe(2),Kn(e)}}function mte(t,n){if(t&1&&(se(0,"div",13),Ie(1),de()),t&2){let e=lt();fe(),Ft("Needs to be number ",e.o2RangeLabel,"")}}var o2=(()=>{class t{constructor(e,r,i,s){this.fb=e,this.inputs=r,this.validators=i,this.units=s,this.showBestMix=!0,this.showTitle=!0,this.showTrimixGases=!1,this.controlName="o2",this.tank=Yi.createDefault(),this.gasChange=new rr,this.assignBestMix=new rr,this.standardGasApplied=new rr}get standardGases(){return this.showTrimixGases?ma.allNames():ma.nitroxNames()}get o2Ranges(){let e=this.units.ranges;return this.showTrimixGases?e.trimixOxygen:e.nitroxOxygen}get o2RangeLabel(){let e=this.units.ranges;return this.showTrimixGases?e.trimixOxygenLabel:e.nitroxOxygenLabel}get gasO2Invalid(){let e=this.nitroxForm.get(this.controlName);return!e||this.inputs.controlInValid(e)}ngOnInit(){this.nitroxForm||(this.nitroxForm=this.fb.group({}));let e=this.fb.control(Qt.round(this.tank.o2,1),this.validators.nitroxOxygen);this.nitroxForm.addControl(this.controlName,e)}fireAssignBestMix(){this.assignBestMix.emit(),this.reload()}gasInputChanged(){this.gasO2Invalid||(this.updateOxygenValue(),this.gasChange.emit(this.tank.o2))}assignStandardGas(e){this.tank.assignStandardGas(e),this.reload(),this.standardGasApplied.emit(e)}updateOxygenValue(){let e=this.nitroxForm.get(this.controlName),r=Number(e?.value);this.tank.o2=r}reload(){this.nitroxForm.patchValue({[this.controlName]:Qt.round(this.tank.o2,1)})}static{this.\u0275fac=function(r){return new(r||t)(ht(Fr),ht(qr),ht(Pr),ht(Fn))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-oxygen-dropdown"]],inputs:{showBestMix:"showBestMix",showTitle:"showTitle",showTrimixGases:"showTrimixGases",controlName:"controlName",tank:"tank",nitroxForm:"nitroxForm"},outputs:{gasChange:"gasChange",assignBestMix:"assignBestMix",standardGasApplied:"standardGasApplied"},decls:9,vars:10,consts:[[3,"formGroup"],["for","gasO2","class","form-label","mdbLabel","",4,"ngIf"],["mdbDropdown","",1,"input-group","dropdown"],["type","number","required","","step","1","id","gasO2",1,"form-control",3,"input","formControlName","min","max"],["aria-expanded","false","id","o2Menu","type","button","data-mdb-toggle","dropdown","mdbDropdownToggle","",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],["id","btnBestMix",3,"click",4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],["class","text-danger form-text position-absolute",4,"ngIf"],["for","gasO2","mdbLabel","",1,"form-label"],["id","btnBestMix",3,"click"],[1,"dropdown-item"],[3,"click"],[1,"text-danger","form-text","position-absolute"]],template:function(r,i){r&1&&(Mi(0,0),tn(1,dte,2,0,"label",1),se(2,"div",2)(3,"input",3),Bt("input",function(){return i.gasInputChanged()}),de(),Nt(4,"button",4),se(5,"ul",5),tn(6,hte,3,0,"li",6)(7,pte,3,1,"li",7),de()(),tn(8,mte,2,1,"div",8),wi()),r&2&&(Ne("formGroup",i.nitroxForm),fe(),Ne("ngIf",i.showTitle),fe(2),Mn("is-invalid",i.gasO2Invalid),Ne("formControlName",i.controlName)("min",i.o2Ranges[0])("max",i.o2Ranges[1]),fe(3),Ne("ngIf",i.showBestMix),fe(),Ne("ngForOf",i.standardGases),fe(),Ne("ngIf",i.showTitle&&i.gasO2Invalid))},dependencies:[Ta,fr,Yr,vi,fi,Rr,ea,yi,gi,Or,oi,Vs,Ds,Ts,Oi]})}}return t})();function vte(t,n){if(t&1){let e=ar();se(0,"li",5),Bt("click",function(){let i=Dn(e).$implicit,s=lt();return Tn(s.assignTankTemplate(i))}),se(1,"a",6),Ie(2),de()()}if(t&2){let e=n.$implicit;fe(2),Kn(e.name)}}var l2=(()=>{class t{constructor(e,r,i,s){this.units=e,this.fb=r,this.inputs=i,this.validators=s,this.controlName="tankSize",this.sizeChange=new rr,this.applyTemplate=new rr;let a=Yi.createDefault();this.tank=new us(a,this.units);let o=this.units.defaults.tanks;this.tank.workingPressure=o.primary.workingPressure,this.tank.size=o.primary.size}get ranges(){return this.units.ranges}get allDefaultTanks(){return this.units.defaults.tanks.available}get tankSizeInvalid(){let e=this.sizeForm.get(this.controlName);return this.inputs.controlInValid(e)}ngOnInit(){this.sizeForm||(this.sizeForm=this.fb.group({}));let e=Qt.round(this.tank.size,1),r=this.fb.control(e,this.validators.tankSize);this.sizeForm.addControl(this.controlName,r)}sizeChanged(){if(this.sizeForm.invalid)return;let e=this.sizeForm.get(this.controlName),r=Number(e?.value);this.tank.size=r,this.sizeChange.emit(r)}assignTankTemplate(e){this.tank.assignTemplate(e),this.sizeForm.patchValue({[this.controlName]:Qt.round(this.tank.size,1)}),this.applyTemplate.emit(e)}static{this.\u0275fac=function(r){return new(r||t)(ht(Fn),ht(Fr),ht(qr),ht(Pr))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-tank-size"]],inputs:{sizeForm:"sizeForm",controlName:"controlName",tank:"tank"},outputs:{sizeChange:"sizeChange",applyTemplate:"applyTemplate"},decls:5,vars:7,consts:[["mdbDropdown","",1,"input-group",3,"formGroup"],["type","number","required","","step","1","id","tankSize",1,"form-control",3,"input","formControlName","min","max"],["id","sizeMenu","type","button","aria-expanded","false","data-mdb-toggle","dropdown","mdbDropdownToggle","",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"dropdown-item"]],template:function(r,i){r&1&&(se(0,"div",0)(1,"input",1),Bt("input",function(){return i.sizeChanged()}),de(),Nt(2,"button",2),se(3,"ul",3),tn(4,vte,3,1,"li",4),de()()),r&2&&(Ne("formGroup",i.sizeForm),fe(),Mn("is-invalid",i.tankSizeInvalid),Ne("formControlName",i.controlName)("min",i.ranges.tankSize[0])("max",i.ranges.tankSize[1]),fe(3),Ne("ngForOf",i.allDefaultTanks))},dependencies:[Ta,Yr,vi,fi,Rr,ea,yi,gi,Or,oi,Vs,Ds,Ts]})}}return t})();function gte(t,n){if(t&1){let e=ar();se(0,"button",26),Bt("click",function(){Dn(e);let i=lt(2).index,s=lt();return Tn(s.removeTank(i))}),Nt(1,"fa-icon",27),de()}if(t&2){let e=lt(3);fe(),Ne("icon",e.minusIcon)}}function yte(t,n){if(t&1&&(se(0,"div",13)(1,"div",23),Ie(2),de(),se(3,"div",24),tn(4,gte,2,1,"button",25),de()()),t&2){let e=lt().index,r=lt();fe(2),Ft(" ",r.tanks[e].label," "),fe(2),Ne("ngIf",e!==0)}}function xte(t,n){if(t&1&&(se(0,"div",36),Ie(1),de()),t&2){let e=lt(3);fe(),Ft("Needs to be number ",e.ranges.tankSizeLabel," ")}}function bte(t,n){if(t&1&&(se(0,"div",36),Ie(1),de()),t&2){let e=lt(4);fe(),Ft(" Needs to be number ",e.ranges.tankPressureLabel,"")}}function Cte(t,n){if(t&1){let e=ar();se(0,"div",28)(1,"label",29),Ie(2),de(),se(3,"input",37),Bt("input",function(){Dn(e);let i=lt(2).index,s=lt();return Tn(s.tankChanged(i))}),de(),tn(4,bte,2,1,"div",31),de()}if(t&2){let e=lt(2).index,r=lt();fe(),ua("for","workPressureItemB-",e,""),fe(),Ft("Work p. [",r.units.pressure,"]:"),fe(),Mn("is-invalid",r.workPressureInvalid(e)),ua("id","workPressureItemB-",e,""),Ne("min",r.ranges.tankPressure[0])("max",r.ranges.tankPressure[1]),fe(),Ne("ngIf",r.workPressureInvalid(e))}}function Mte(t,n){if(t&1&&(se(0,"div",36),Ie(1),de()),t&2){let e=lt(3);fe(),Ft(" Needs to be number ",e.ranges.tankPressureLabel,"")}}function wte(t,n){t&1&&Nt(0,"div",28)}function _te(t,n){if(t&1&&(se(0,"div",36),Ie(1),de()),t&2){let e=lt(3);fe(),Ft("Needs to be number ",e.ranges.tankHeLabel,"")}}function Ste(t,n){if(t&1){let e=ar();se(0,"div",13)(1,"div",28)(2,"label",29),Ie(3),de(),se(4,"app-tank-size",30),Bt("sizeChange",function(){Dn(e);let i=lt().index,s=lt();return Tn(s.tankChanged(i))})("applyTemplate",function(i){Dn(e);let s=lt().index,a=lt();return Tn(a.assignTankTemplate(s,i))}),de(),tn(5,xte,2,1,"div",31),de(),tn(6,Cte,5,10,"div",32),se(7,"div",28)(8,"label",29),Ie(9),de(),se(10,"input",33),Bt("input",function(){Dn(e);let i=lt().index,s=lt();return Tn(s.tankChanged(i))}),de(),tn(11,Mte,2,1,"div",31),de(),tn(12,wte,1,0,"div",32),se(13,"div",28)(14,"app-oxygen-dropdown",34),Bt("gasChange",function(){Dn(e);let i=lt().index,s=lt();return Tn(s.tankChanged(i))})("standardGasApplied",function(){Dn(e);let i=lt().index,s=lt();return Tn(s.standardGasApplied(i))}),de()(),se(15,"div",28)(16,"label",29),Ie(17,"He [%]:"),de(),se(18,"input",35),Bt("input",function(){Dn(e);let i=lt().index,s=lt();return Tn(s.tankChanged(i))}),de(),tn(19,_te,2,1,"div",31),de()()}if(t&2){let e=lt(),r=e.$implicit,i=e.index,s=lt();fe(2),ua("for","sizeItemB-",i,""),fe(),Ft("Size [",s.units.volume,"]:"),fe(),ua("id","sizeItemB-",i,""),Ne("sizeForm",r),fe(),Ne("ngIf",s.tankSizeInvalid(i)),fe(),Ne("ngIf",s.units.imperialUnits),fe(2),ua("for","pressureItemB-",i,""),fe(),Ft("Pressure [",s.units.pressure,"]:"),fe(),Mn("is-invalid",s.startPressureInvalid(i)),ua("id","pressureItemB-",i,""),Ne("min",s.ranges.tankPressure[0])("max",s.ranges.tankPressure[1]),fe(),Ne("ngIf",s.startPressureInvalid(i)),fe(),Ne("ngIf",s.units.imperialUnits),fe(2),ua("id","o2Item-",i,""),Ne("tank",s.tanks[i])("nitroxForm",r)("showBestMix",!1)("showTrimixGases",!0),fe(2),ua("for","heItemB-",i,""),fe(2),Mn("is-invalid",s.gasHeInvalid(i)),ua("id","heItemB-",i,""),Ne("min",s.ranges.tankHe[0])("max",s.ranges.tankHe[1]),fe(),Ne("ngIf",s.gasHeInvalid(i))}}function Lte(t,n){if(t&1&&(se(0,"mdb-accordion-item",20),tn(1,yte,5,2,"ng-template",21)(2,Ste,20,34,"ng-template",22),de()),t&2){let e=n.index;Ne("formGroupName",e)}}function Dte(t,n){if(t&1&&(se(0,"div",17),Ie(1),de()),t&2){let e=lt();fe(),Ft("Work p. [",e.units.pressure,"]")}}function Tte(t,n){if(t&1){let e=ar();se(0,"div",42)(1,"input",37),Bt("input",function(){Dn(e);let i=lt().index,s=lt();return Tn(s.tankChanged(i))}),de()()}if(t&2){let e=lt().index,r=lt();fe(),Mn("is-invalid",r.workPressureInvalid(e)),ua("id","workPressureItem-",e,""),Ne("min",r.ranges.tankPressure[0])("max",r.ranges.tankPressure[1])}}function Ate(t,n){if(t&1){let e=ar();se(0,"button",51),Bt("click",function(){Dn(e);let i=lt().index,s=lt();return Tn(s.removeTank(i))}),Nt(1,"fa-icon",27),de()}if(t&2){let e=lt().index,r=lt();ua("id","removeTank-",e,""),fe(),Ne("icon",r.minusIcon)}}function zte(t,n){if(t&1&&(se(0,"small",36),Ie(1),de()),t&2){let e=lt(2);fe(),Ft("Size needs to be number ",e.ranges.tankSizeLabel,". ")}}function Ete(t,n){if(t&1&&(se(0,"small",36),Ie(1),de()),t&2){let e=lt(2);fe(),Ft(" Working pressure needs to be number ",e.ranges.tankPressureLabel,". ")}}function Ite(t,n){if(t&1&&(se(0,"small",36),Ie(1),de()),t&2){let e=lt(2);fe(),Ft(" Start pressure needs to be number ",e.ranges.tankPressureLabel,". ")}}function kte(t,n){if(t&1&&(se(0,"small",36),Ie(1),de()),t&2){let e=lt(2);fe(),Ft(" O2 needs to be number ",e.ranges.trimixOxygenLabel,". ")}}function Nte(t,n){if(t&1&&(se(0,"small",36),Ie(1),de()),t&2){let e=lt(2);fe(),Ft(" He needs to be number ",e.ranges.tankHeLabel,".")}}function Pte(t,n){if(t&1){let e=ar();se(0,"div",38)(1,"div",39)(2,"div",40)(3,"div",13)(4,"div",14),Ie(5),de(),se(6,"div",15)(7,"app-tank-size",30),Bt("sizeChange",function(){let i=Dn(e).index,s=lt();return Tn(s.tankChanged(i))})("applyTemplate",function(i){let s=Dn(e).index,a=lt();return Tn(a.assignTankTemplate(s,i))}),de()()()(),tn(8,Tte,2,6,"div",41),se(9,"div",42)(10,"input",33),Bt("input",function(){let i=Dn(e).index,s=lt();return Tn(s.tankChanged(i))}),de()(),se(11,"div",42)(12,"app-oxygen-dropdown",43),Bt("gasChange",function(){let i=Dn(e).index,s=lt();return Tn(s.tankChanged(i))})("standardGasApplied",function(){let i=Dn(e).index,s=lt();return Tn(s.standardGasApplied(i))}),de()(),se(13,"div",42)(14,"input",35),Bt("input",function(){let i=Dn(e).index,s=lt();return Tn(s.tankChanged(i))}),de()(),se(15,"div",44),tn(16,Ate,2,3,"button",45),de()(),se(17,"div",39)(18,"div",46)(19,"div",13),Nt(20,"div",7),se(21,"div",47)(22,"small",48),Ie(23),cn(24,"number"),de(),Nt(25,"app-gaslabel",49),de()()(),Nt(26,"div",7),de(),se(27,"div",39)(28,"div",46)(29,"div",13),Nt(30,"div",7),se(31,"div",50),tn(32,zte,2,1,"small",31)(33,Ete,2,1,"small",31)(34,Ite,2,1,"small",31)(35,kte,2,1,"small",31)(36,Nte,2,1,"small",31),de()()(),Nt(37,"div",7),de()()}if(t&2){let e=n.$implicit,r=n.index,i=lt();Ne("formGroupName",r),fe(5),Ft(" ",i.tanks[r].id,". "),fe(2),ua("id","sizeItemB-",r,""),Ne("sizeForm",e),fe(),Ne("ngIf",i.units.imperialUnits),fe(2),Mn("is-invalid",i.startPressureInvalid(r)),ua("id","pressureItem-",r,""),Ne("min",i.ranges.tankPressure[0])("max",i.ranges.tankPressure[1]),fe(),Mn("col-4",!i.units.imperialUnits),fe(),ua("id","o2Item-",r,""),Ne("tank",i.tanks[r])("nitroxForm",e)("showBestMix",!1)("showTitle",!1)("showTrimixGases",!0),fe(2),Mn("is-invalid",i.gasHeInvalid(r)),ua("id","heItem-",r,""),Ne("min",i.ranges.tankHe[0])("max",i.ranges.tankHe[1]),fe(2),Ne("ngIf",r!==0),fe(7),Ea("SAC: ",un(24,37,i.gasSac(r),"1.0-2")," ",i.units.sac,""),fe(2),Ne("tank",i.tanks[r].tank)("toxicity",i.toxicity),fe(7),Ne("ngIf",i.tankSizeInvalid(r)),fe(),Ne("ngIf",i.workPressureInvalid(r)),fe(),Ne("ngIf",i.startPressureInvalid(r)),fe(),Ne("ngIf",i.gasO2Invalid(r)),fe(),Ne("ngIf",i.gasHeInvalid(r))}}var fC=(()=>{class t extends ji{constructor(e,r,i,s,a,o){super(),this.units=e,this.fb=r,this.inputs=i,this.validators=s,this.dispatcher=a,this.schedules=o,this.icon=k7,this.plusIcon=J4,this.minusIcon=_l,this.rootForm=this.fb.group({})}get ranges(){return this.units.ranges}get tanks(){return this.tanksService.tanks}get tanksGroup(){return this.tanksForm.controls.boundTanks}get toxicity(){return this.schedules.selectedToxicity}get tanksService(){return this.schedules.selectedTanks}ngOnInit(){let e=this.fb.array(this.createTankControls());this.tanksForm=this.fb.group({boundTanks:e}),this.dispatcher.tanksReloaded$.pipe(er(this.unsubscribe$)).subscribe(r=>{this.tanksService===r&&this.reloadAll()}),this.dispatcher.selectedChanged$.pipe(er(this.unsubscribe$)).subscribe(()=>this.reloadAll()),this.rootForm.addControl("tanksForm",this.tanksForm)}gasSac(e){let r=this.tanks[e],i=this.schedules.selectedOptions.diverOptions.gasSac(r.tank);return this.units.fromBar(i)}gasHeInvalid(e){let r=this.tanksGroup.at(e);return this.inputs.controlInValid(r.controls.tankHe)}gasO2Invalid(e){let r=this.tanksGroup.at(e);return this.inputs.controlInValid(r.controls.tankO2)}workPressureInvalid(e){let r=this.tanksGroup.at(e);return this.inputs.controlInValid(r.controls.tankWorkPressure)}startPressureInvalid(e){let r=this.tanksGroup.at(e);return this.inputs.controlInValid(r.controls.tankStartPressure)}tankSizeInvalid(e){let r=this.tanksGroup.at(e);return this.inputs.controlInValid(r.controls.tankSize)}addTank(){if(this.rootForm.invalid)return;this.tanksService.addTank();let e=this.tanks[this.tanks.length-1],r=this.createTankControl(e);this.tanksGroup.push(r)}removeTank(e){if(this.rootForm.invalid||this.tanks.length<=1)return;let r=this.tanks[e];this.tanksService.removeTank(r),this.tanksGroup.removeAt(e)}assignTankTemplate(e,r){let i=this.tanks[e];i.assignTemplate(r),this.reload(i,e),this.dispatcher.sendTankChanged()}tankChanged(e){if(this.rootForm.invalid)return;let r=this.tanksGroup.at(e),i=this.tanks[e],s=r.value;i.size=Number(s.tankSize),i.workingPressure=Number(s.tankWorkPressure),i.startPressure=Number(s.tankStartPressure),i.o2=Number(s.tankO2),i.he=Number(s.tankHe),this.reload(i,e),this.dispatcher.sendTankChanged()}standardGasApplied(e){let r=this.tanksGroup.at(e),i=this.tanks[e];r.patchValue({tankHe:i.he}),this.tankChanged(e)}reloadAll(){this.tanksGroup.clear(),this.createTankControls().forEach(e=>this.tanksGroup.push(e))}reload(e,r){this.tanksGroup.at(r).patchValue({tankSize:Qt.round(e.size,1),tankWorkPressure:e.workingPressure,tankStartPressure:e.startPressure,tankO2:e.o2,tankHe:e.he})}createTankControls(){let e=[];for(let r of this.tanks){let i=this.createTankControl(r);e.push(i)}return e}createTankControl(e){let r=this.fb.group({tankSize:[Qt.round(e.size,1),this.validators.tankSize],tankStartPressure:[Qt.round(e.startPressure,1),this.validators.tankPressure],tankO2:[Qt.round(e.o2,1),this.validators.trimixOxygen],tankHe:[Qt.round(e.he,1),this.validators.trimixHe]});if(this.units.imperialUnits){let i=this.fb.control(Qt.round(e.workingPressure,1),this.validators.tankPressure);r.addControl("tankWorkPressure",i)}return r}static{this.\u0275fac=function(r){return new(r||t)(ht(Fn),ht(Fr),ht(qr),ht(Pr),ht(Ei),ht(kr))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-tanks-complex"]],inputs:{rootForm:"rootForm"},features:[Nr],decls:30,vars:12,consts:[[1,"card",3,"formGroup"],[1,"card-header"],[1,"me-3",3,"icon"],["formArrayName","boundTanks",1,"card-body","d-md-none","d-block"],[3,"flush"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","justify-content-end","pe-2","m-3"],[1,"col","col-1"],["type","button",1,"p-1","btn","btn-secondary",3,"click"],[1,"fa-xl",3,"icon"],["formArrayName","boundTanks",1,"card-body","d-none","d-md-block"],[1,"row","pb-2"],[1,"col","col-3","m-0","px-1"],[1,"row"],[1,"col","col-1","p-0","m-0"],[1,"col","ps-0"],["class","col col-2 m-0 px-1",4,"ngIf"],[1,"col","col-2","m-0","px-1"],[1,"col","col-1","m-0","px-1"],["class","pb-2",3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],["mdbAccordionItemHeader",""],["mdbAccordionItemBody",""],[1,"col","col-auto","d-flex","align-items-center"],[1,"col","col-1","pe-1"],["class","m-0 p-1 btn btn-secondary","type","button",3,"click",4,"ngIf"],["type","button",1,"m-0","p-1","btn","btn-secondary",3,"click"],[1,"p-0","m-0","fa-xl",3,"icon"],[1,"col","col-12","col-sm-6","m-0","pb-0","px-1","mt-2"],[1,"form-label",3,"for"],[3,"sizeChange","applyTemplate","sizeForm","id"],["class","text-danger",4,"ngIf"],["class","col col-12 col-sm-6 m-0 pb-0 px-1 mt-2",4,"ngIf"],["formControlName","tankStartPressure","type","number","required","","step","1",1,"form-control",3,"input","min","max","id"],["controlName","tankO2",3,"gasChange","standardGasApplied","tank","id","nitroxForm","showBestMix","showTrimixGases"],["formControlName","tankHe","type","number","step","1","required","",1,"form-control",3,"input","min","max","id"],[1,"text-danger"],["formControlName","tankWorkPressure","type","number","required","","step","1",1,"form-control",3,"input","min","max","id"],[1,"pb-2",3,"formGroupName"],[1,"row","p-0"],[1,"col","col-3","m-0","pb-0","px-1"],["class","col col-2 m-0 pb-0 px-1",4,"ngIf"],[1,"col","col-2","m-0","pb-0","px-1"],["controlName","tankO2",3,"gasChange","standardGasApplied","tank","id","nitroxForm","showBestMix","showTitle","showTrimixGases"],[1,"col","col-1","m-0","pb-0","px-1","align-self-center"],["class","m-0 p-1 btn btn-secondary","type","button",3,"id","click",4,"ngIf"],[1,"col","col-11"],[1,"col","m-0","px-1"],[1,"form-text","text-muted"],[1,"float-end",3,"tank","toxicity"],[1,"col","m-0","px-0"],["type","button",1,"m-0","p-1","btn","btn-secondary",3,"click","id"]],template:function(r,i){r&1&&(se(0,"div",0)(1,"div",1),Nt(2,"fa-icon",2),se(3,"span"),Ie(4,"Tanks"),de()(),se(5,"div",3)(6,"mdb-accordion",4),tn(7,Lte,3,1,"mdb-accordion-item",5),de(),se(8,"div",6)(9,"div",7)(10,"button",8),Bt("click",function(){return i.addTank()}),Nt(11,"fa-icon",9),de()()()(),se(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),Nt(16,"div",14),se(17,"div",15),Ie(18),de()()(),tn(19,Dte,2,1,"div",16),se(20,"div",17),Ie(21),de(),se(22,"div",17),Ie(23,"O2 [%]"),de(),se(24,"div",17),Ie(25,"He [%]"),de(),se(26,"div",18)(27,"button",8),Bt("click",function(){return i.addTank()}),Nt(28,"fa-icon",9),de()()(),tn(29,Pte,38,40,"div",19),de()()),r&2&&(Ne("formGroup",i.tanksForm),fe(2),Ne("icon",i.icon),fe(4),Ne("flush",!0),fe(),Ne("ngForOf",i.tanksGroup.controls),fe(4),Ne("icon",i.plusIcon),fe(7),Ft(" Size [",i.units.volume,"] "),fe(),Ne("ngIf",i.units.imperialUnits),fe(2),Ft("Pressure [",i.units.pressure,"]"),fe(),Mn("col-4",!i.units.imperialUnits),fe(6),Ne("icon",i.plusIcon),fe(),Ne("ngForOf",i.tanksGroup.controls))},dependencies:[Ta,fr,xr,Yr,vi,fi,Rr,ea,yi,gi,Or,oi,D4,T4,r7,af,n7,t7,i3,o2,l2,Jr]})}}return t})();var $f=(()=>{class t{constructor(e,r){this.fb=e,this.units=r,this.tank=new us(new Yi(15,200,21),this.units),this.toxicity=new O1,this.showBestMix=!0,this.controlName="o2",this.gasChange=new rr,this.standardGasApplied=new rr,this.assignBestMix=new rr}ngOnInit(){this.nitroxForm||(this.nitroxForm=this.fb.group({}))}fireAssignBestMix(){this.assignBestMix.emit()}static{this.\u0275fac=function(r){return new(r||t)(ht(Fr),ht(Fn))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-oxygen"]],inputs:{tank:"tank",toxicity:"toxicity",showBestMix:"showBestMix",nitroxForm:"nitroxForm",controlName:"controlName"},outputs:{gasChange:"gasChange",standardGasApplied:"standardGasApplied",assignBestMix:"assignBestMix"},decls:4,vars:9,consts:[["oxygenDropdown",""],[3,"formGroup"],[3,"gasChange","standardGasApplied","assignBestMix","showBestMix","controlName","nitroxForm","tank"],[3,"tank","toxicity"]],template:function(r,i){if(r&1){let s=ar();Mi(0,1),se(1,"app-oxygen-dropdown",2,0),Bt("gasChange",function(o){return Dn(s),Tn(i.gasChange.emit(o))})("standardGasApplied",function(o){return Dn(s),Tn(i.standardGasApplied.emit(o))})("assignBestMix",function(){return Dn(s),Tn(i.fireAssignBestMix())}),de(),Nt(3,"app-gaslabel",3),wi()}if(r&2){let s=_c(2);Ne("formGroup",i.nitroxForm),fe(),Ne("showBestMix",i.showBestMix)("controlName",i.controlName)("nitroxForm",i.nitroxForm)("tank",i.tank),fe(2),Mn("invisible",s.gasO2Invalid),Ne("tank",i.tank.tank)("toxicity",i.toxicity)}},dependencies:[Rr,Or,i3,o2]})}}return t})();function Ote(t,n){if(t&1&&(se(0,"div",14),Ie(1),de()),t&2){let e=lt();fe(),Ft("Needs to be number ",e.ranges.tankSizeLabel,"")}}function Fte(t,n){if(t&1){let e=ar();se(0,"div",4)(1,"label",15),Ie(2),de(),se(3,"input",16),Bt("input",function(){Dn(e);let i=lt();return Tn(i.applySimple())}),de(),se(4,"div",12),Ie(5),de()()}if(t&2){let e=lt();fe(2),Ft("Working pressure [",e.units.pressure,"]: "),fe(),Mn("is-invalid",e.workPressureInvalid),Ne("min",e.ranges.tankPressure[0])("max",e.ranges.tankPressure[1]),fe(2),Ft("Needs to be number ",e.ranges.tankPressureLabel,"")}}var dC=(()=>{class t extends ji{constructor(e,r,i,s,a,o){super(),this.units=e,this.fb=r,this.inputs=i,this.validators=s,this.diveSchedules=a,this.dispatcher=o,this.icon=k7,this.rootForm=this.fb.group({})}get toxicity(){return this.diveSchedules.selectedToxicity}get firstTank(){return this.diveSchedules.selectedTanks.firstTank}get ranges(){return this.units.ranges}get firstTankSizeInvalid(){let e=this.tanksForm.controls.firstTankSize;return this.inputs.controlInValid(e)}get workPressureInvalid(){let e=this.tanksForm.controls.workPressure;return this.inputs.controlInValid(e)}get firstTankStartPressureInvalid(){let e=this.tanksForm.controls.firstTankStartPressure;return this.inputs.controlInValid(e)}ngOnInit(){if(this.tanksForm=this.fb.group({firstTankSize:[Qt.round(this.firstTank.size,1),this.validators.tankSize],firstTankStartPressure:[Qt.round(this.firstTank.startPressure,1),this.validators.tankPressure],o2:[Qt.round(this.firstTank.o2,1),this.validators.nitroxOxygen]}),this.units.imperialUnits){let e=this.fb.control(Qt.round(this.firstTank.workingPressure,1),this.validators.tankPressure);this.tanksForm.addControl("workPressure",e)}this.dispatcher.tanksReloaded$.pipe(er(this.unsubscribe$)).subscribe(e=>{this.diveSchedules.selectedTanks===e&&this.reload()}),this.dispatcher.selectedChanged$.pipe(er(this.unsubscribe$)).subscribe(()=>this.reload()),this.rootForm.addControl("tanks",this.tanksForm)}gasSac(){let e=this.firstTank.tank,r=this.diveSchedules.selectedOptions.diverOptions.gasSac(e);return this.units.fromBar(r)}assignBestMix(){if(this.rootForm.invalid)return;let e=this.diveSchedules.selectedDepths.plannedDepthMeters;this.firstTank.o2=this.toxicity.bestNitroxMix(e),this.dispatcher.sendTankChanged()}applyTemplate(e){this.rootForm.invalid||(this.tanksForm.patchValue({workPressure:e.workingPressure}),this.applySimple())}applySimple(){if(this.rootForm.invalid)return;let e=this.tanksForm.value;this.firstTank.size=Number(e.firstTankSize),this.firstTank.workingPressure=Number(e.workPressure),this.firstTank.startPressure=Number(e.firstTankStartPressure),this.dispatcher.sendTankChanged()}reload(){this.tanksForm.patchValue({firstTankSize:Qt.round(this.firstTank.size,1),workPressure:Qt.round(this.firstTank.workingPressure,1),firstTankStartPressure:Qt.round(this.firstTank.startPressure,1),o2:Qt.round(this.firstTank.o2,1)})}static{this.\u0275fac=function(r){return new(r||t)(ht(Fn),ht(Fr),ht(qr),ht(Pr),ht(kr),ht(Ei))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-tanks-simple"]],inputs:{rootForm:"rootForm"},features:[Nr],decls:23,vars:23,consts:[[1,"card",3,"formGroup"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body","row"],[1,"mb-4","col","col-12","col-md-6","col-lg-12","col-xl-6"],["for","sizeFirstTank","mdbLabel","",1,"form-label"],["controlName","firstTankSize",3,"sizeChange","applyTemplate","sizeForm","tank"],["class","text-danger form-text position-absolute",4,"ngIf"],[1,"form-text","text-muted"],["class","mb-4 col col-12 col-md-6 col-lg-12 col-xl-6",4,"ngIf"],["for","startPressureFirstTank","mdbLabel","",1,"form-label"],["type","number","id","startPressureFirstTank","formControlName","firstTankStartPressure","required","","step","1",1,"form-control",3,"input","min","max"],[1,"invalid-feedback","position-absolute"],["controlName","o2",3,"gasChange","assignBestMix","standardGasApplied","tank","toxicity","nitroxForm"],[1,"text-danger","form-text","position-absolute"],["for","workPressureFirstTank","mdbLabel","",1,"form-label"],["type","number","id","workPressureFirstTank","formControlName","workPressure","required","","step","1",1,"form-control",3,"input","min","max"]],template:function(r,i){r&1&&(se(0,"div",0)(1,"div",1),Nt(2,"fa-icon",2),se(3,"span"),Ie(4,"Bottom gas tank"),de()(),se(5,"div",3)(6,"div",4)(7,"label",5),Ie(8),de(),se(9,"app-tank-size",6),Bt("sizeChange",function(){return i.applySimple()})("applyTemplate",function(a){return i.applyTemplate(a)}),de(),tn(10,Ote,2,1,"div",7),se(11,"div",8),Ie(12),cn(13,"number"),de()(),tn(14,Fte,6,6,"div",9),se(15,"div",4)(16,"label",10),Ie(17),de(),se(18,"input",11),Bt("input",function(){return i.applySimple()}),de(),se(19,"div",12),Ie(20),de()(),se(21,"div",4)(22,"app-oxygen",13),Bt("gasChange",function(){return i.applySimple()})("assignBestMix",function(){return i.assignBestMix()})("standardGasApplied",function(){return i.applySimple()}),de()()()()),r&2&&(Ne("formGroup",i.tanksForm),fe(2),Ne("icon",i.icon),fe(6),Ft("Size [",i.units.volume,"]:"),fe(),Ne("sizeForm",i.tanksForm)("tank",i.firstTank),fe(),Ne("ngIf",i.firstTankSizeInvalid),fe(),Mn("invisible",i.firstTankSizeInvalid),fe(),Ea("SAC: ",un(13,20,i.gasSac(),"1.0-2")," ",i.units.sac,""),fe(2),Ne("ngIf",i.units.imperialUnits),fe(3),Ft("Start pressure [",i.units.pressure,"]: "),fe(),Mn("is-invalid",i.firstTankStartPressureInvalid),Ne("min",i.ranges.tankPressure[0])("max",i.ranges.tankPressure[1]),fe(2),Ft("Needs to be number ",i.ranges.tankPressureLabel,""),fe(2),Ne("tank",i.firstTank)("toxicity",i.toxicity)("nitroxForm",i.tanksForm))},dependencies:[fr,xr,Yr,vi,fi,Rr,ea,yi,gi,Or,oi,Oi,$f,l2,Jr]})}}return t})();var Mp=(()=>{class t{constructor(e){this.schedules=e,this._stopsOnly=!1}get stopsOnly(){return this._stopsOnly}get totalDuration(){return this.dive.totalDuration}get profileCalculated(){return this.dive.profileCalculated}get wayPoints(){let e=this.dive.wayPoints;if(!this.stopsOnly)return e;let r=this.schedules.selectedDepths;return e.filter((i,s)=>s<r.startAscentIndex||s===e.length-1||i.swimAction===xs.hover||i.swimAction===xs.switch)}get dive(){return this.schedules.selectedResult}switchFilter(){this._stopsOnly=!this._stopsOnly}static{this.\u0275fac=function(r){return new(r||t)($t(kr))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();var Hte=t=>({active:t}),Ute=t=>({"table-active":t});function jte(t,n){t&1&&(se(0,"th",10),Ie(1,"Gas"),de())}function Gte(t,n){t&1&&(se(0,"tr")(1,"td",14),Nt(2,"app-calculating",15),de()()),t&2&&(fe(2),Ne("show",!0))}function $te(t,n){if(t&1&&(se(0,"td",19),Ie(1),de()),t&2){let e=lt().$implicit;fe(),Kn(e.gasName)}}function Wte(t,n){if(t&1){let e=ar();se(0,"tr",16),Bt("mouseover",function(){let i=Dn(e).$implicit,s=lt();return Tn(s.highlightRow(i))})("mouseleave",function(){Dn(e);let i=lt();return Tn(i.highlightRow(void 0))}),se(1,"td",17),Nt(2,"fa-icon",18),de(),se(3,"td",19),Ie(4),cn(5,"number"),de(),se(6,"td",19),Ie(7),cn(8,"duration"),de(),se(9,"td",19),Ie(10),cn(11,"duration"),de(),tn(12,$te,2,1,"td",20),de()}if(t&2){let e=n.$implicit,r=lt();Ne("ngClass",T1(17,Ute,e.selected)),fe(2),Ne("icon",r.swimActionIcon(e))("ngClass",r.iconClasses(e))("title",r.iconTitle(e)),fe(2),Kn(un(5,8,e.endDepth,"1.0-0")),fe(3),Kn(un(8,11,e.duration,r.stops.totalDuration)),fe(3),Kn(un(11,14,e.endTime,r.stops.totalDuration)),fe(2),Ne("ngIf",r.isComplex)}}var hC=(()=>{class t{constructor(e,r,i,s){this.units=e,this.selectedWaypoint=r,this.viewSwitch=i,this.stops=s,this.down=P7,this.up=R7,this.hover=z7,this.tasks=O7,this.switch=BE,this.filterIcon=VE}get isComplex(){return this.viewSwitch.isComplex}swimActionIcon(e){switch(e.swimAction){case xs.ascent:return this.up;case xs.descent:return this.down;case xs.switch:return this.switch;default:return this.hover}}iconTitle(e){switch(e.swimAction){case xs.ascent:return"ascent";case xs.descent:return"descent";case xs.switch:return"switch";default:return"hover"}}iconClasses(e){return{"swim-down":e.swimAction===xs.descent,"swim-up":e.swimAction===xs.ascent,"swim-hover":e.swimAction===xs.hover||e.swimAction===xs.switch}}highlightRow(e){this.selectedWaypoint.selected=e}static{this.\u0275fac=function(r){return new(r||t)(ht(Fn),ht(m6),ht(Gs),ht(Mp))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-waypoints"]],decls:24,vars:10,consts:[[1,"card"],[1,"card-header"],[1,"float-start"],[1,"me-3",3,"icon"],[1,"float-end","me-1"],["type","button","data-toggle","button","autocomplete","off",1,"btn","btn-sm","btn-secondary",3,"click","ngClass"],[1,"fa-lg",3,"icon"],[1,"card-body","card-minheight","table-responsive"],[1,"table","table-sm","p-0"],[1,"table-light"],[1,"fw-bold","px-1"],["class","fw-bold px-1",4,"ngIf"],[4,"ngIf"],[3,"ngClass","mouseover","mouseleave",4,"ngFor","ngForOf"],["colspan","5"],[3,"show"],[3,"mouseover","mouseleave","ngClass"],[1,"px-1","text-center"],[3,"icon","ngClass","title"],[1,"px-1"],["class","px-1",4,"ngIf"]],template:function(r,i){r&1&&(se(0,"div",0)(1,"div",1)(2,"div",2),Nt(3,"fa-icon",3),se(4,"span"),Ie(5,"Dive way points"),de()(),se(6,"div",4)(7,"button",5),Bt("click",function(){return i.stops.switchFilter()}),Nt(8,"fa-icon",6),de()()(),se(9,"div",7)(10,"table",8)(11,"thead",9)(12,"tr"),Nt(13,"th"),se(14,"th",10),Ie(15),de(),se(16,"th",10),Ie(17,"Duration [min]"),de(),se(18,"th",10),Ie(19,"Run [min]"),de(),tn(20,jte,2,0,"th",11),de()(),se(21,"tbody"),tn(22,Gte,3,1,"tr",12)(23,Wte,13,19,"tr",13),de()()()()),r&2&&(fe(3),Ne("icon",i.tasks),fe(4),Ne("ngClass",T1(8,Hte,i.stops.stopsOnly)),vs("aria-pressed",i.stops.stopsOnly),fe(),Ne("icon",i.filterIcon),fe(7),Ft("Depth [",i.units.length,"]"),fe(5),Ne("ngIf",i.isComplex),fe(2),Ne("ngIf",!i.stops.profileCalculated),fe(),Ne("ngForOf",i.stops.wayPoints))},dependencies:[Za,Ta,fr,xr,c1,Jr,s2],styles:[".swim-down[_ngcontent-%COMP%]{color:#deb887}.swim-up[_ngcontent-%COMP%]{color:#8a2be2}.swim-hover[_ngcontent-%COMP%]{color:#1e90ff}"]})}}return t})();var Zte=(t,n)=>({"col-12 col-sm-6 col-lg-4 col-xl-4":t,"col-12":n}),Xte=(t,n)=>({"col-12 col-sm-6 col-lg-4 col-xl-4":t,"col-12 col-lg-7":n}),Kte=(t,n)=>({"col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4":t,"col-12 col-lg-5":n}),Qte=(t,n)=>({"col-12 col-sm-6 col-lg-4 col-xl-4":t,"col-12 col-xxl-5":n}),Jte=(t,n)=>({"col-12 col-sm-6 col-lg-4 col-xl-4":t,"col-12 col-lg-7 col-xxl-4":n}),qte=(t,n)=>({"col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4":t,"col-12 col-lg-5 col-xxl-3":n});function ene(t,n){if(t&1){let e=ar();se(0,"div",6),Nt(1,"fa-icon",7),se(2,"span")(3,"strong"),Ie(4,"Disclaimer:"),de(),Ie(5," None of the authors, contributors, administrators, or anyone else connected with this project can be responsible for your use of the information provided by this application or linked from these web pages. Use the results at your own risk."),de(),se(6,"button",8),Bt("click",function(){Dn(e);let i=lt();return Tn(i.startup.stopDisclaimer())}),de()()}if(t&2){let e=lt();fe(),Ne("icon",e.exclamation)}}function tne(t,n){t&1&&(se(0,"span"),Ie(1,'Tap "Share" button and than "Add to home screen".'),de())}function nne(t,n){if(t&1){let e=ar();se(0,"button",11),Bt("click",function(){Dn(e);let i=lt(2);return Tn(i.startup.addToHomeScreen())}),Ie(1,"Add to Home screen"),de()}}function rne(t,n){if(t&1){let e=ar();se(0,"div",9),Nt(1,"fa-icon",7),se(2,"span"),Ie(3,"To be able to use the application in offline mode, you need to add it (install) to your Home screen."),de(),tn(4,tne,2,0,"span",5)(5,nne,2,0,"button",10),se(6,"button",8),Bt("click",function(){Dn(e);let i=lt();return Tn(i.startup.stopShowInstallButton())}),de()()}if(t&2){let e=lt();fe(),Ne("icon",e.exclamation),fe(3),Ne("ngIf",e.startup.showAppleInstall),fe(),Ne("ngIf",!e.startup.showAppleInstall)}}function ine(t,n){if(t&1&&Nt(0,"app-tanks-simple",14),t&2){let e=lt(2);Ne("rootForm",e.rootForm)}}function ane(t,n){if(t&1&&Nt(0,"app-tanks-complex",14),t&2){let e=lt(2);Ne("rootForm",e.rootForm)}}function sne(t,n){if(t&1&&Nt(0,"app-depths-simple",14),t&2){let e=lt(2);Ne("rootForm",e.rootForm)}}function one(t,n){if(t&1&&Nt(0,"app-depths-complex",14),t&2){let e=lt(2);Ne("rootForm",e.rootForm)}}function lne(t,n){if(t&1&&(Mi(0),se(1,"div",12),tn(2,ine,1,1,"app-tanks-simple",13)(3,ane,1,1,"app-tanks-complex",13),de(),se(4,"div",12),tn(5,sne,1,1,"app-depths-simple",13)(6,one,1,1,"app-depths-complex",13),de(),se(7,"div",12),Nt(8,"app-diveoptions",14),de(),se(9,"div",15),Nt(10,"app-profilechart"),de(),se(11,"div",16),Nt(12,"app-waypoints"),de(),se(13,"div",17),Nt(14,"app-diveinfo"),de(),wi()),t&2){let e=lt();fe(),Ne("ngClass",vo(8,Zte,!e.isComplex,e.isComplex)),fe(),Ne("ngIf",!e.isComplex),fe(),Ne("ngIf",e.isComplex),fe(),Ne("ngClass",vo(11,Xte,!e.isComplex,e.isComplex)),fe(),Ne("ngIf",!e.isComplex),fe(),Ne("ngIf",e.isComplex),fe(),Ne("ngClass",vo(14,Kte,!e.isComplex,e.isComplex)),fe(),Ne("rootForm",e.rootForm)}}function cne(t,n){if(t&1&&Nt(0,"app-tanks-simple",14),t&2){let e=lt(2);Ne("rootForm",e.rootForm)}}function une(t,n){if(t&1&&Nt(0,"app-tanks-complex",14),t&2){let e=lt(2);Ne("rootForm",e.rootForm)}}function fne(t,n){if(t&1&&Nt(0,"app-depths-simple",14),t&2){let e=lt(2);Ne("rootForm",e.rootForm)}}function dne(t,n){if(t&1&&Nt(0,"app-depths-complex",14),t&2){let e=lt(2);Ne("rootForm",e.rootForm)}}function hne(t,n){if(t&1&&(Mi(0),se(1,"div",12),tn(2,cne,1,1,"app-tanks-simple",13)(3,une,1,1,"app-tanks-complex",13),de(),se(4,"div",12),tn(5,fne,1,1,"app-depths-simple",13)(6,dne,1,1,"app-depths-complex",13),de(),se(7,"div",12),Nt(8,"app-diveoptions",14),de(),se(9,"div",15),Nt(10,"app-profilechart"),de(),se(11,"div",18),Nt(12,"app-waypoints"),de(),se(13,"div",17),Nt(14,"app-diveinfo"),de(),wi()),t&2){let e=lt();fe(),Ne("ngClass",vo(8,Qte,!e.isComplex,e.isComplex)),fe(),Ne("ngIf",!e.isComplex),fe(),Ne("ngIf",e.isComplex),fe(),Ne("ngClass",vo(11,Jte,!e.isComplex,e.isComplex)),fe(),Ne("ngIf",!e.isComplex),fe(),Ne("ngIf",e.isComplex),fe(),Ne("ngClass",vo(14,qte,!e.isComplex,e.isComplex)),fe(),Ne("rootForm",e.rootForm)}}var pC=(()=>{class t extends ji{constructor(e,r,i,s,a,o){super(),this.viewSwitch=e,this.units=r,this.dispatcher=i,this.startup=s,this.schedules=a,this.fb=o,this.exclamation=P1,this.rootForm=this.fb.group({})}get isComplex(){return this.viewSwitch.isComplex}get imperialUnits(){return this.units.imperialUnits}ngOnInit(){this.startup.onDashboard(),this.dispatcher.infoCalculated$.pipe(er(this.unsubscribe$)).subscribe(e=>{this.schedules.selected.id===e&&this.startup.updateQueryParams()}),this.dispatcher.selectedChanged$.pipe(er(this.unsubscribe$)).subscribe(()=>{this.startup.updateQueryParams()})}onbeforeinstallprompt(e){this.startup.onbeforeinstallprompt(e)}static{this.\u0275fac=function(r){return new(r||t)(ht(Gs),ht(Fn),ht(Ei),ht(lp),ht(kr),ht(Fr))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-dashboard"]],hostBindings:function(r,i){r&1&&Bt("beforeinstallprompt",function(a){return i.onbeforeinstallprompt(a)},!1,rL)},features:[Nr],decls:9,vars:5,consts:[[3,"formGroup"],[1,"mt-5"],[1,"row"],["class","alert alert-warning alert-dismissible fade show mt-4","role","alert",4,"ngIf"],["class","alert alert-info alert-dismissible fade show mt-4","role","alert",4,"ngIf"],[4,"ngIf"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","mt-4"],[1,"me-2","fa-lg",3,"icon"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"],["role","alert",1,"alert","alert-info","alert-dismissible","fade","show","mt-4"],["class","btn btn-success btn-small mr-auto ms-3",3,"click",4,"ngIf"],[1,"btn","btn-success","btn-small","mr-auto","ms-3",3,"click"],[1,"mb-4",3,"ngClass"],[3,"rootForm",4,"ngIf"],[3,"rootForm"],[1,"col-12","col-lg-12","col-xl-5","col-xxl-6","mb-4"],[1,"col-md-6","col-xl-3","mt-4"],[1,"col-md-6","col-xl-4","col-xxl-3","mb-4"],[1,"col-md-6","col-xl-3","mb-4"]],template:function(r,i){r&1&&(se(0,"form",0)(1,"div",1)(2,"div",2)(3,"div"),tn(4,ene,7,1,"div",3)(5,rne,7,3,"div",4),de(),Nt(6,"app-plan-tabs"),tn(7,lne,15,17,"ng-container",5)(8,hne,15,17,"ng-container",5),de()()()),r&2&&(Ne("formGroup",i.rootForm),fe(4),Ne("ngIf",i.startup.showDisclaimer),fe(),Ne("ngIf",i.startup.showInstallButton),fe(2),Ne("ngIf",i.imperialUnits),fe(),Ne("ngIf",!i.imperialUnits))},dependencies:[Za,fr,xr,Xa,Rr,Or,Kb,Jb,nC,sC,cC,uC,fC,dC,hC]})}}return t})();var wp=(()=>{class t{constructor(){this._depth=15,this._tank=15,this._used=150,this._duration=45,this._rmv=0;let e=yo.simple();this.sacCalculator=new K7(e),this.calculate=this.calculateSac,this.calculate()}get depth(){return this._depth}get tankSize(){return this._tank}get rmv(){return this._rmv}get duration(){return this._duration}get used(){return this._used}get inDuration(){return this.calculate===this.calculateDuration}get inUsed(){return this.calculate===this.calculateUsed}get inSac(){return this.calculate===this.calculateSac}set depth(e){this._depth=e,this.calculate()}set tankSize(e){this._tank=e,this.calculate()}set rmv(e){this._rmv=e,this.calculate()}set duration(e){this._duration=e,this.calculate()}set used(e){this._used=e,this.calculate()}toDuration(){this.calculate=this.calculateDuration}toUsed(){this.calculate=this.calculateUsed}toSac(){this.calculate=this.calculateSac}calculateSac(){this._rmv=this.sacCalculator.calculateSac(this.depth,this.tankSize,this.used,this.duration)}calculateDuration(){this._duration=this.sacCalculator.calculateDuration(this.depth,this.tankSize,this.used,this.rmv)}calculateUsed(){this._used=this.sacCalculator.calculateUsed(this.depth,this.tankSize,this.duration,this.rmv)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();function mne(t,n){if(t&1&&(se(0,"div",23),Ie(1),de()),t&2){let e=lt();fe(),Ft("Needs to be number ",e.ranges.tankSizeLabel," ")}}function vne(t,n){if(t&1){let e=ar();se(0,"div",11)(1,"label",15),Ie(2),de(),se(3,"input",24),Bt("input",function(){Dn(e);let i=lt();return Tn(i.inputChanged())}),de(),se(4,"div",14),Ie(5),de()()}if(t&2){let e=lt();fe(2),Ft("Working pressure [",e.units.pressure,"]:"),fe(),Mn("is-invalid",e.workPressureInvalid),Ne("min",e.ranges.tankPressure[0])("max",e.ranges.tankPressure[1]),fe(2),Ft("Needs to be number ",e.ranges.tankPressureLabel," ")}}function gne(t,n){if(t&1){let e=ar();Mi(0),se(1,"div",11)(2,"label",25),Ie(3,"Dive time [min]:"),de(),se(4,"input",26),Bt("input",function(){Dn(e);let i=lt();return Tn(i.inputChanged())}),de(),se(5,"div",14),Ie(6),de()(),wi()}if(t&2){let e=lt();fe(4),Mn("is-invalid",e.durationInvalid),Ne("min",e.ranges.duration[0])("max",e.ranges.duration[1]),fe(2),Ft(" Needs to be number ",e.ranges.durationLabel,"")}}function yne(t,n){if(t&1){let e=ar();Mi(0),se(1,"div",11)(2,"label",27),Ie(3),de(),se(4,"input",28),Bt("input",function(){Dn(e);let i=lt();return Tn(i.inputChanged())}),de(),se(5,"div",14),Ie(6),de()(),wi()}if(t&2){let e=lt();fe(3),Ft("Gas consumed [",e.units.pressure,"]:"),fe(),Mn("is-invalid",e.usedInvalid),Ne("min",e.ranges.consumed[0])("max",e.ranges.consumed[1]),fe(2),Ft("Needs to be number ",e.ranges.consumedLabel," ")}}function xne(t,n){if(t&1){let e=ar();Mi(0),se(1,"div",11)(2,"label",29),Ie(3),de(),se(4,"input",30),Bt("input",function(){Dn(e);let i=lt();return Tn(i.inputChanged())}),de(),se(5,"div",14),Ie(6),de(),se(7,"div",31),Ie(8),cn(9,"number"),de()(),wi()}if(t&2){let e=lt();fe(3),Ft("RMV [",e.units.rmv,"]:"),fe(),Mn("is-invalid",e.rmvInvalid),Ne("min",e.ranges.diverRmv[0])("max",e.ranges.diverRmv[1]),fe(2),Ft("Needs to be number ",e.ranges.diverRmvLabel," "),fe(),Mn("invisible",e.rmvInvalid),fe(),Ea("SAC: ",un(9,10,e.gasSac,"1.0-2")," ",e.units.sac,"")}}function bne(t,n){if(t&1&&(Mi(0),se(1,"div",11)(2,"label",29),Ie(3),de(),Nt(4,"input",32),se(5,"small",33),Ie(6),cn(7,"number"),de()(),wi()),t&2){let e=lt();fe(3),Ft("RMV [",e.units.rmv,"]:"),fe(),Ne("readonly",!0)("value",e.calcRmv),fe(2),Ea("SAC: ",un(7,5,e.gasSac,"1.0-2")," ",e.units.sac,"")}}function Cne(t,n){if(t&1&&(Mi(0),se(1,"div",11)(2,"label",27),Ie(3),de(),Nt(4,"input",34),de(),wi()),t&2){let e=lt();fe(3),Ft("Gas consumed [",e.units.pressure,"]:"),fe(),Ne("readonly",!0)("value",e.calcUsed)}}function Mne(t,n){if(t&1&&(Mi(0),se(1,"div",11)(2,"label",25),Ie(3,"Dive time [min]:"),de(),Nt(4,"input",35),de(),wi()),t&2){let e=lt();fe(4),Ne("readonly",!0)("value",e.calcDuration)}}function wne(t,n){if(t&1){let e=ar();se(0,"button",36),Bt("click",function(){Dn(e);let i=lt();return Tn(i.use())}),Ie(1,"Use"),de()}}var mC=(()=>{class t{constructor(e,r,i,s,a,o,c,l,u){this.validators=e,this.inputs=r,this.formBuilder=i,this.options=s,this.cd=a,this.calc=o,this.units=c,this.location=l,this.viewStates=u,this.calcIcon=E7,this.depthConverterWarning=a2.depthConverterWarning,this.tank=new us(Yi.createDefault(),this.units)}get ranges(){return this.units.ranges}get depthInvalid(){let e=this.formSac.controls.depth;return this.inputs.controlInValid(e)}get tankInvalid(){let e=this.formSac.controls.tankSize;return this.inputs.controlInValid(e)}get workPressureInvalid(){let e=this.formSac.controls.workPressure;return this.inputs.controlInValid(e)}get usedInvalid(){let e=this.formSac.controls.used;return this.inputs.controlInValid(e)}get rmvInvalid(){let e=this.formSac.controls.rmv;return this.inputs.controlInValid(e)}get durationInvalid(){let e=this.formSac.controls.duration;return this.inputs.controlInValid(e)}get calcDepth(){let e=this.units.fromMeters(this.calc.depth);return Qt.round(e,1)}get calcTankSize(){let e=this.tank.size;return Qt.round(e,1)}get calcWorkingPressure(){let e=this.tank.workingPressure;return Qt.round(e,1)}get calcUsed(){let e=this.units.fromBar(this.calc.used);return Qt.round(e,1)}get calcRmv(){let e=this.units.fromLiter(this.calc.rmv),r=this.units.ranges.rmvRounding;return Qt.round(e,r)}get calcDuration(){let e=this.calc.duration;return Qt.round(e)}get gasSac(){let e=F1.gasSac(this.calc.rmv,this.calc.tankSize);return this.units.fromBar(e)}ngOnInit(){if(this.setDefaultValues(),this.loadState(),this.saveState(),this.durationControl=this.formBuilder.control(this.calcDuration,this.validators.duration),this.usedControl=this.formBuilder.control(this.calcUsed,this.validators.tankConsumed),this.rmvControl=this.formBuilder.control(this.calcRmv,this.validators.diverRmv),this.formSac=this.formBuilder.group({depth:[this.calcDepth,this.validators.depth],tankSize:[this.calcTankSize,this.validators.tankSize]}),this.units.imperialUnits){let e=this.formBuilder.control(this.calcWorkingPressure,this.validators.tankPressure);this.formSac.addControl("workPressure",e)}this.toSac()}applyTemplate(e){this.formSac.invalid||(this.formSac.patchValue({workPressure:e.workingPressure}),this.inputChanged())}inputChanged(){if(this.formSac.invalid)return;let e=this.formSac.value;this.tank.workingPressure=Number(e.workPressure),this.tank.size=Number(e.tankSize),this.calc.tankSize=this.tank.tank.size,this.calc.depth=this.units.toMeters(Number(e.depth)),this.calc.used=this.units.toBar(Number(e.used)),this.calc.rmv=this.units.toLiter(Number(e.rmv)),this.calc.duration=Number(e.duration),this.reload(),this.saveState()}toDuration(){this.calc.toDuration(),this.enableAll(),this.formSac.removeControl("duration"),this.cd.detectChanges()}toUsed(){this.calc.toUsed(),this.enableAll(),this.formSac.removeControl("used"),this.cd.detectChanges()}toSac(){this.calc.toSac(),this.enableAll(),this.formSac.removeControl("rmv"),this.cd.detectChanges()}use(){this.formSac.invalid||(this.options.diverOptions.rmv=this.calc.rmv)}enableAll(){this.formSac.addControl("used",this.usedControl),this.formSac.addControl("duration",this.durationControl),this.formSac.addControl("rmv",this.rmvControl),this.reload()}reload(){this.formSac.patchValue({depth:this.calcDepth,tankSize:this.calcTankSize,workPressure:this.calcWorkingPressure,used:this.calcUsed,duration:this.calcDuration,rmv:this.calcRmv})}setDefaultValues(){let e=this.units.defaults.stopsDistance;this.calc.depth=this.units.toMeters(e*5);let r=this.units.defaults.tanks;this.tank.workingPressure=r.primary.workingPressure,this.tank.size=r.primary.size,this.calc.tankSize=this.tank.tank.size,this.units.imperialUnits?this.calc.used=this.units.toBar(2200):this.calc.used=150}loadState(){let e=this.viewStates.loadView(Hr.sac);e||(e=this.createState()),this.calc.depth=e.avgDepth,this.tank.workingPressureBars=e.workPressure,this.calc.tankSize=e.tankSize,this.tank.tank.size=this.calc.tankSize,this.calc.used=e.used,this.calc.duration=e.duration}saveState(){let e=this.createState();this.viewStates.saveView(e)}createState(){return{avgDepth:this.calc.depth,tankSize:this.calc.tankSize,workPressure:this.tank.workingPressureBars,used:this.calc.used,duration:this.calc.duration,id:Hr.sac}}static{this.\u0275fac=function(r){return new(r||t)(ht(Pr),ht(qr),ht(Fr),ht(Tl),ht(Zs),ht(wp),ht(Fn),ht(pa),ht(va))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-sac"]],decls:41,vars:27,consts:[[1,"mt-5"],[1,"row"],[1,"col","col-sm-8","col-md-6","col-lg-5","col-xl-4","col-xxl-3","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[3,"formGroup"],[1,"mb-4"],["role","group",1,"btn-group","mb-3"],["type","button",1,"btn",3,"click"],[1,"pt-2","mb-4"],["for","depth","mdbLabel","",1,"form-label"],["formControlName","depth","name","depth","id","depth","type","number","step","1",1,"form-control",3,"input","min","max"],[1,"invalid-feedback","position-absolute"],["for","tank","mdbLabel","",1,"form-label"],["controlName","tankSize",3,"sizeChange","applyTemplate","tank","sizeForm"],["class","text-danger form-text position-absolute",4,"ngIf"],["class","pt-2 mb-4",4,"ngIf"],[4,"ngIf"],[1,"form-group","mt-2"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button","class","btn btn-secondary",3,"click",4,"ngIf"],[1,"text-danger","form-text","position-absolute"],["formControlName","workPressure","name","workPressure","id","workPressure","type","number","step","1",1,"form-control",3,"input","min","max"],["for","duration","mdbLabel","",1,"form-label"],["formControlName","duration","name","duration","id","duration","type","number","step","1",1,"form-control",3,"input","min","max"],["for","used","mdbLabel","",1,"form-label"],["formControlName","used","name","used","id","used","type","number","step","1",1,"form-control",3,"input","min","max"],["for","sac","mdbLabel","",1,"form-label"],["formControlName","rmv","name","sac","id","sac","type","number","step","1","aria-describedby","rmvDescribe",1,"form-control",3,"input","min","max"],["id","rmvDescribe",1,"form-text"],["id","sac",1,"form-control",3,"readonly","value"],[1,"form-text","text-muted"],["id","used",1,"form-control",3,"readonly","value"],["id","duration",1,"form-control",3,"readonly","value"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(r,i){r&1&&(se(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),Nt(5,"fa-icon",5),se(6,"span"),Ie(7,"Respiratory minute volume"),de()(),se(8,"div",6)(9,"form",7)(10,"div",8),Ie(11),de(),se(12,"div",9)(13,"button",10),Bt("click",function(){return i.toSac()}),Ie(14,"RMV"),de(),se(15,"button",10),Bt("click",function(){return i.toUsed()}),Ie(16,"Used"),de(),se(17,"button",10),Bt("click",function(){return i.toDuration()}),Ie(18,"Duration"),de()(),se(19,"div",11)(20,"label",12),Ie(21),de(),se(22,"input",13),Bt("input",function(){return i.inputChanged()}),de(),se(23,"div",14),Ie(24),de()(),se(25,"div",11)(26,"label",15),Ie(27),de(),se(28,"app-tank-size",16),Bt("sizeChange",function(){return i.inputChanged()})("applyTemplate",function(a){return i.applyTemplate(a)}),de(),tn(29,mne,2,1,"div",17),de(),tn(30,vne,6,6,"div",18)(31,gne,7,5,"ng-container",19)(32,yne,7,6,"ng-container",19)(33,xne,10,13,"ng-container",19)(34,bne,8,8,"ng-container",19)(35,Cne,5,3,"ng-container",19)(36,Mne,5,2,"ng-container",19),de()()(),se(37,"div",20)(38,"button",21),Bt("click",function(){return i.location.back()}),Ie(39,"Back"),de(),tn(40,wne,2,0,"button",22),de()()()()),r&2&&(fe(5),Ne("icon",i.calcIcon),fe(4),Ne("formGroup",i.formSac),fe(2),Kn(i.depthConverterWarning),fe(2),Mn("btn-primary",i.calc.inSac),fe(2),Mn("btn-primary",i.calc.inUsed),fe(2),Mn("btn-primary",i.calc.inDuration),fe(4),Ft("Average depth [",i.units.length,"]:"),fe(),Mn("is-invalid",i.depthInvalid),Ne("min",i.ranges.depth[0])("max",i.ranges.depth[1]),fe(2),Ft("Needs to be number ",i.ranges.depthLabel," "),fe(3),Ft("Tank size [",i.units.volume,"]:"),fe(),Ne("tank",i.tank)("sizeForm",i.formSac),fe(),Ne("ngIf",i.tankInvalid),fe(),Ne("ngIf",i.units.imperialUnits),fe(),Ne("ngIf",!i.calc.inDuration),fe(),Ne("ngIf",!i.calc.inUsed),fe(),Ne("ngIf",!i.calc.inSac),fe(),Ne("ngIf",i.calc.inSac),fe(),Ne("ngIf",i.calc.inUsed),fe(),Ne("ngIf",i.calc.inDuration),fe(4),Ne("ngIf",!i.formSac.invalid))},dependencies:[fr,xr,Xa,Yr,vi,fi,Rr,yi,gi,Or,oi,Oi,l2,Jr]})}}return t})();var _p=class{static lowMod(n){return()=>n()?{lowMod:!0}:null}};var Sp=(()=>{class t{constructor(){this._pO2=1.4,this._fO2=21,this._mod=30,this.calculateCurrentMod=()=>{this._mod=this.nitroxCalculator.mod(this._pO2,this._fO2)},this.calculateBestMix=()=>{this._fO2=this.nitroxCalculator.bestMix(this._pO2,this._mod)},this.calculatePartial=()=>{this._pO2=this.nitroxCalculator.partialPressure(this._fO2,this._mod)};let e=yo.simple();this.nitroxCalculator=new Ef(e,.21),this.calculate=this.calculateCurrentMod}get inMod(){return this.calculate===this.calculateCurrentMod}get inBestMix(){return this.calculate===this.calculateBestMix}get inPO2(){return this.calculate===this.calculatePartial}get pO2(){return this._pO2}get fO2(){return this._fO2}get ead(){return this.nitroxCalculator.ead(this._fO2,this._mod)}get mod(){return this._mod}set pO2(e){this._pO2=e,this.calculate()}set fO2(e){this._fO2=e,this.calculate()}set mod(e){this._mod=e,this.calculate()}toMod(){this.calculate=this.calculateCurrentMod}toBestMix(){this.calculate=this.calculateBestMix}toPO2(){this.calculate=this.calculatePartial}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();function Sne(t,n){if(t&1){let e=ar();Mi(0),se(1,"div",15)(2,"label",16),Ie(3,"ppO2:"),de(),se(4,"input",17),Bt("input",function(){Dn(e);let i=lt();return Tn(i.inputChanged())}),de(),se(5,"div",18),Ie(6,"Needs to be number 0.21-3 "),de()(),wi()}if(t&2){let e=lt();fe(4),Mn("is-invalid",e.pO2Invalid),Ne("min",e.ranges.ppO2[0])("max",e.ranges.ppO2[1])}}function Lne(t,n){if(t&1){let e=ar();Mi(0),se(1,"div",15)(2,"app-oxygen-dropdown",19),Bt("gasChange",function(){Dn(e);let i=lt();return Tn(i.inputChanged())})("standardGasApplied",function(){Dn(e);let i=lt();return Tn(i.inputChanged())}),de()(),wi()}if(t&2){let e=lt();fe(2),Ne("showBestMix",!1)("nitroxForm",e.nitroxForm)}}function Dne(t,n){if(t&1){let e=ar();Mi(0),se(1,"div",15)(2,"label",20),Ie(3),de(),se(4,"input",21),Bt("input",function(){Dn(e);let i=lt();return Tn(i.inputChanged())}),de(),se(5,"div",18),Ie(6),de(),se(7,"div",22),Ie(8),cn(9,"number"),de()(),wi()}if(t&2){let e=lt();fe(3),Ft("MOD [",e.units.length,"]:"),fe(),Mn("is-invalid",e.modInvalid),Ne("min",e.ranges.depth[0])("max",e.ranges.depth[1]),fe(2),Ft("Needs to be number ",e.ranges.depthLabel,""),fe(),Mn("invisible",e.modInvalid),fe(),Ea(" EAD: ",un(9,10,e.ead,"1.0-1")," ",e.units.length,"")}}function Tne(t,n){if(t&1&&(Mi(0),se(1,"div",15)(2,"label",20),Ie(3),de(),Nt(4,"input",23),cn(5,"number"),se(6,"small",24),Ie(7),cn(8,"number"),de()(),wi()),t&2){let e=lt();fe(3),Ft("MOD [",e.units.length,"]:"),fe(),Ne("readonly",!0)("value",un(5,5,e.calcMod,"1.0-1")),fe(3),Ea("EAD: ",un(8,8,e.ead,"1.0-1")," ",e.units.length,"")}}function Ane(t,n){if(t&1&&(Mi(0),se(1,"div",15)(2,"label",25),Ie(3,"O2 [%]:"),de(),Nt(4,"input",26),cn(5,"number"),de(),wi()),t&2){let e=lt();fe(4),Ne("readonly",!0)("value",un(5,2,e.calc.fO2,"1.0-1"))}}function zne(t,n){if(t&1&&(Mi(0),se(1,"div",15)(2,"label",16),Ie(3,"ppO2:"),de(),Nt(4,"input",27),cn(5,"number"),de(),wi()),t&2){let e=lt();fe(4),Ne("readonly",!0)("value",un(5,2,e.calc.pO2,"1.0-2"))}}function Ene(t,n){t&1&&(Mi(0),se(1,"div",28),Ie(2," Too small final operation depth. Increase ppO2 or reduce Percent O2. "),de(),wi())}function Ine(t,n){if(t&1){let e=ar();se(0,"button",29),Bt("click",function(){Dn(e);let i=lt();return Tn(i.use())}),Ie(1,"Use"),de()}}var vC=(()=>{class t{constructor(e,r,i,s,a,o,c,l){this.calc=e,this.units=r,this.location=i,this.fb=s,this.inputs=a,this.validators=o,this.schedules=c,this.viewStates=l,this.calcIcon=F7,this.depthConverterWarning=a2.depthConverterWarning,this.failingMod=!1,this.loadState(),this.saveState()}get ranges(){return this.units.ranges}get ead(){let e=this.calc.ead;return this.units.fromMeters(e)}get pO2Invalid(){let e=this.nitroxForm.controls.pO2;return this.inputs.controlInValid(e)}get modInvalid(){let e=this.nitroxForm.controls.mod;return this.inputs.controlInValid(e)}get fO2Invalid(){let e=this.nitroxForm.controls.fO2;return this.inputs.controlInValid(e)}get calcMod(){return this.failingMod?0:this.units.fromMeters(this.calc.mod)}ngOnInit(){this.fO2Control=this.fb.control(Qt.round(this.calc.fO2,1),this.validators.nitroxOxygen),this.pO2Control=this.fb.control(Qt.round(this.calc.pO2,2),this.validators.ppO2),this.modControl=this.fb.control(Qt.round(this.calcMod,1),this.validators.depth),this.nitroxForm=this.fb.group({},{validators:_p.lowMod(()=>this.failingMod)}),this.toMod()}inputChanged(){try{if(this.failingMod=!1,this.nitroxForm.updateValueAndValidity(),this.nitroxForm.invalid)return;let e=this.nitroxForm.value;this.calc.pO2=Number(e.pO2),this.calc.fO2=Number(e.fO2);let r=Number(e.mod);this.calc.mod=this.units.toMeters(r),this.reload(),this.saveState()}catch{this.failingMod=!0,this.nitroxForm.updateValueAndValidity()}}use(){if(this.nitroxForm.invalid)return;this.schedules.selected.applyNitrox(this.calc.fO2,this.calc.pO2)}toMod(){this.calc.toMod(),this.enableAll(),this.nitroxForm.removeControl("mod")}toBestMix(){this.calc.toBestMix(),this.enableAll(),this.nitroxForm.removeControl("fO2")}toPO2(){this.calc.toPO2(),this.enableAll(),this.nitroxForm.removeControl("pO2")}enableAll(){this.nitroxForm.addControl("mod",this.modControl),this.nitroxForm.addControl("fO2",this.fO2Control),this.nitroxForm.addControl("pO2",this.pO2Control),this.reload()}reload(){this.nitroxForm.patchValue({fO2:Qt.round(this.calc.fO2,1),pO2:Qt.round(this.calc.pO2,2),mod:Qt.round(this.calcMod,1)})}loadState(){let e=this.viewStates.loadView(Hr.nitrox);e||(e=this.createState()),this.calc.fO2=e.fO2,this.calc.pO2=e.pO2}saveState(){let e=this.createState(this.calc.fO2,this.calc.pO2);this.viewStates.saveView(e)}createState(e=21,r=1.4){return{fO2:e,pO2:r,id:Hr.nitrox}}static{this.\u0275fac=function(r){return new(r||t)(ht(Sp),ht(Fn),ht(pa),ht(Fr),ht(qr),ht(Pr),ht(kr),ht(va))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-nitrox"]],decls:30,vars:17,consts:[[1,"row","mt-5"],[1,"col","col-sm-8","col-md-6","col-lg-5","col-xl-4","col-xxl-3","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[3,"formGroup"],[1,"mb-4"],["role","group",1,"btn-group","mb-3"],["type","button",1,"btn",3,"click"],[4,"ngIf"],[1,"pt-2","pb-4","pe-3","mb-4"],[1,"form-group","mt-3"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button","class","btn btn-secondary",3,"click",4,"ngIf"],[1,"pt-2","mb-4"],["for","pO2","mdbLabel","",1,"form-label"],["name","pO2","id","pO2","type","number","formControlName","pO2","step","0.1",1,"form-control",3,"input","min","max"],[1,"invalid-feedback","position-absolute"],["controlName","fO2",3,"gasChange","standardGasApplied","showBestMix","nitroxForm"],["for","mod","mdbLabel","",1,"form-label"],["name","mod","id","mod","type","number","formControlName","mod","step","1","aria-describedby","eadDescribe",1,"form-control",3,"input","min","max"],["id","eadDescribe",1,"form-text"],["id","mod",1,"form-control",3,"readonly","value"],[1,"form-text","text-muted"],["for","fO2","mdbLabel","",1,"form-label"],["id","fO2",1,"form-control",3,"readonly","value"],["id","pO2",1,"form-control",3,"readonly","value"],[1,"text-danger","form-text","position-absolute"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(r,i){r&1&&(se(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Nt(4,"fa-icon",4),se(5,"span"),Ie(6,"Nitrox calculator"),de()(),se(7,"div",5)(8,"form",6)(9,"div",7),Ie(10),de(),se(11,"div",8)(12,"button",9),Bt("click",function(){return i.toMod()}),Ie(13,"MOD"),de(),se(14,"button",9),Bt("click",function(){return i.toBestMix()}),Ie(15,"Best mix"),de(),se(16,"button",9),Bt("click",function(){return i.toPO2()}),Ie(17,"ppO2"),de()(),tn(18,Sne,7,4,"ng-container",10)(19,Lne,3,2,"ng-container",10)(20,Dne,10,13,"ng-container",10)(21,Tne,9,11,"ng-container",10)(22,Ane,6,5,"ng-container",10)(23,zne,6,5,"ng-container",10),se(24,"div",11),tn(25,Ene,3,0,"ng-container",10),de()()()(),se(26,"div",12)(27,"button",13),Bt("click",function(){return i.location.back()}),Ie(28,"Back"),de(),tn(29,Ine,2,0,"button",14),de()()()),r&2&&(fe(4),Ne("icon",i.calcIcon),fe(4),Ne("formGroup",i.nitroxForm),fe(2),Kn(i.depthConverterWarning),fe(2),Mn("btn-primary",i.calc.inMod),fe(2),Mn("btn-primary",i.calc.inBestMix),fe(2),Mn("btn-primary",i.calc.inPO2),fe(2),Ne("ngIf",!i.calc.inPO2),fe(),Ne("ngIf",!i.calc.inBestMix),fe(),Ne("ngIf",!i.calc.inMod),fe(),Ne("ngIf",i.calc.inMod),fe(),Ne("ngIf",i.calc.inBestMix),fe(),Ne("ngIf",i.calc.inPO2),fe(2),Ne("ngIf",i.nitroxForm.errors==null?null:i.nitroxForm.errors.lowMod),fe(4),Ne("ngIf",!i.nitroxForm.invalid))},dependencies:[fr,xr,Xa,Yr,vi,fi,Rr,yi,gi,Or,oi,Oi,o2,Jr]})}}return t})();var El=class t{static{this.rootUrl="https://github.com/jirkapok/GasPlanner"}static{this.rootHelpUrl=t.rootUrl+"/blob/master/doc"}get projectUrl(){return t.rootUrl}get standardGases(){return t.rootHelpUrl+"/standard_gases.md"}get helpUrl(){return t.rootHelpUrl+"/readme.md"}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}};var PI={name:"planner",version:"0.1.31",license:"MIT",scripts:{start:"ng build scuba-physics && ng serve","start-pwa":"ng build --configuration production planner && npx http-server -p 9090 -c-1 dist/planner",build:"ng build --configuration production planner","build-lib":"ng build scuba-physics",test:"ng test","test-ci":"ng test --project planner --browsers=ChromeHeadless --no-watch","test-lib":"ng test --project scuba-physics","test-lib-ci":"ng test --project scuba-physics --browsers=ChromeHeadless --no-watch",lint:"ng lint"},private:!0,dependencies:{"@angular/animations":"^18.2.7","@angular/common":"^18.2.7","@angular/compiler":"^18.2.7","@angular/core":"^18.2.7","@angular/forms":"^18.2.7","@angular/localize":"^18.2.7","@angular/platform-browser":"^18.2.7","@angular/platform-browser-dynamic":"^18.2.7","@angular/router":"^18.2.7","@angular/service-worker":"^18.2.7","@fortawesome/angular-fontawesome":"^0.15.0","@fortawesome/fontawesome-svg-core":"^6.6.0","@fortawesome/free-regular-svg-icons":"^6.6.0","@fortawesome/free-solid-svg-icons":"^6.6.0","@maskito/angular":"^3.0.3","@maskito/kit":"^3.0.3","@popperjs/core":"^2.11.8","add-to-homescreen":"github:docluv/add-to-homescreen",lodash:"^4.17.21","mdb-angular-ui-kit":"^7.0.0","ngx-clipboard":"^16.0.0","plotly.js-basic-dist":"^2.35.2",rxjs:"^7.8.1",tslib:"^2.7.0","zone.js":"^0.14.10"},devDependencies:{"@angular-devkit/build-angular":"^18.2.7","@angular-eslint/builder":"^18.2.7","@angular-eslint/eslint-plugin":"^18.2.7","@angular-eslint/eslint-plugin-template":"^18.2.7","@angular-eslint/schematics":"^18.2.7","@angular-eslint/template-parser":"^18.2.7","@angular/cli":"^18.2.7","@angular/compiler-cli":"^18.2.7","@types/jasmine":"^5.1.4","@types/lodash":"^4.17.10","@types/node":"^22.7.4","@types/plotly.js":"^2.33.4","@typescript-eslint/eslint-plugin":"^7.18.0","@typescript-eslint/eslint-plugin-tslint":"^7.0.2","@typescript-eslint/parser":"^7.18.0",eslint:"^8.57.0","eslint-plugin-html":"^8.1.2","eslint-plugin-import":"^2.31.0","eslint-plugin-jasmine":"^4.2.2","http-server":"^14.1.1","jasmine-core":"^5.3.0",karma:"^6.4.4","karma-chrome-launcher":"^3.2.0","karma-coverage":"^2.2.1","karma-jasmine":"^5.1.0","karma-jasmine-html-reporter":"^2.1.0","karma-junit-reporter":"^2.0.1","ng-packagr":"^18.2.1",typescript:"^5.5.4"}};var Wf=(()=>{class t{constructor(){this.appVersion=PI.version}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-info"]],decls:2,vars:1,consts:[[1,"text-muted"]],template:function(r,i){r&1&&(se(0,"span",0),Ie(1),de()),r&2&&(fe(),Ft("\xA9 2020 JIRI POKORNY, Version ",i.appVersion,""))}})}}return t})();var gC=(()=>{class t{constructor(e){this.urls=e,this.exclamation=P1}static{this.\u0275fac=function(r){return new(r||t)(ht(El))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-about"]],decls:17,vars:2,consts:[[1,"jumbotron","m-4","pt-5"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","mt-4"],[1,"me-2","fa-lg",3,"icon"],[1,"mt-4"],["target","_blank",1,"btn","btn-primary","btn-lg",3,"href"]],template:function(r,i){r&1&&(se(0,"div",0)(1,"h1"),Ie(2,"About Gas Planner"),de(),se(3,"p"),Ie(4,"Open source Scuba diving application to help divers plan their dives."),Nt(5,"br"),Ie(6," Plan your dive and dive your plan!"),de(),Nt(7,"app-info"),se(8,"div",1),Nt(9,"fa-icon",2),se(10,"span")(11,"strong"),Ie(12,"Disclaimer:"),de(),Ie(13," None of the authors, contributors, administrators, or anyone else connected with this project can be responsible for your use of the information provided by this application or linked from these web pages. Use the results at your own risk."),de()(),se(14,"div",3)(15,"a",4),Ie(16,"Github project"),de()()()),r&2&&(fe(9),Ne("icon",i.exclamation),fe(6),x4("href",i.urls.projectUrl,g4))},dependencies:[xr,Wf]})}}return t})();var Lp=(()=>{class t{calculate(e,r){let i=[],s=yo.simple(),a=e.mod(r.maxPpO2),o=s.fromBar(a);o>42&&(o=42);let c=new O0;for(let l=12;l<=o;l+=r.decoStopDistance){let u=Dl.forSimpleDive(l,e,r),f=c.noDecoLimit(u),h={depth:l,limit:f};i.push(h)}return i}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();function Pne(t,n){t&1&&(se(0,"tr")(1,"td",22),Ie(2," No NDL limits found in meaningful depth range."),Nt(3,"br"),Ie(4," Change gas O2 content. "),de()())}function Rne(t,n){if(t&1&&(se(0,"tr")(1,"td"),Ie(2),de(),se(3,"td"),Ie(4),cn(5,"number"),de()()),t&2){let e=n.$implicit;fe(2),Kn(e.depth),fe(2),Kn(un(5,2,e.limit,"1.0-0"))}}var yC=(()=>{class t{constructor(e,r,i,s,a,o,c){this.units=e,this.location=r,this.ndl=i,this.viewStates=s,this.fb=a,this.validators=o,this.icon=S7,this.isComplex=!1,this.limits=[],this.tank=new us(Yi.createDefault(),this.units);let l=this.units.defaults.tanks;this.tank.workingPressure=l.primary.workingPressure,this.tank.size=l.primary.size,this.options=new R1;let u=c.selectedOptions.getOptions();this.options.loadFrom(u),this.toxicity=new O1(this.options)}get noResults(){return this.limits.length===0}ngOnInit(){this.loadState(),this.form=this.fb.group({o2:[Qt.round(this.tank.o2,1),this.validators.nitroxOxygen],maxPpO2:[Qt.round(this.options.maxPpO2,2),this.validators.ppO2],altitude:[this.units.fromMeters(this.options.altitude),this.validators.altitude],gfLow:[Qt.round(this.options.gfLow*100,1),this.validators.gradients],gfHigh:[Qt.round(this.options.gfHigh*100,1),this.validators.gradients]}),this.calculate()}calculate(){if(this.form.invalid)return;this.limits=this.ndl.calculate(this.tank.tank.gas,this.options);let e=4;for(let r=0;r<this.limits.length;r++){let i=this.limits[r];i.depth=this.units.defaults.stopsDistance*(r+e)}this.saveState()}ppO2Changed(e){this.options.maxPpO2=e,this.calculate()}salinityChanged(e){this.options.salinity=e,this.calculate()}altitudeChanged(e){this.options.altitude=e,this.calculate()}gradientsChanged(e){this.options.gfLow=e.gfLow,this.options.gfHigh=e.gfHeigh,this.calculate()}loadState(){let e=this.viewStates.loadView(Hr.ndl);e||(e=this.createState()),this.tank.o2=e.fO2,this.options.maxPpO2=e.pO2,this.options.altitude=e.altitude,this.options.salinity=e.salinity,this.options.gfLow=e.gfLow,this.options.gfHigh=e.gfHigh}saveState(){let e=this.createState();this.viewStates.saveView(e)}createState(){return{fO2:this.tank.o2,pO2:this.options.maxPpO2,altitude:this.options.altitude,salinity:this.options.salinity,gfLow:this.options.gfLow,gfHigh:this.options.gfHigh,id:Hr.ndl}}static{this.\u0275fac=function(r){return new(r||t)(ht(Fn),ht(pa),ht(Lp),ht(va),ht(Fr),ht(Pr),ht(kr))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-ndl-limits"]],decls:38,vars:18,consts:[[1,"row","mt-5"],[1,"col","col-12","col-sm-7","col-md-6","col-lg-5","col-xl-4","col-xxl-3","mt-3"],[1,"card","ndl-minheight"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[1,"pt-2","mb-4"],[3,"gasChange","standardGasApplied","tank","showBestMix","toxicity","nitroxForm"],["label","Maximum ppO2:",3,"ppO2Change","maxPpO2","pO2Form"],[3,"inputChange","salinity"],[3,"inputChange","altitude","altitudeForm"],[1,"pt-2"],[3,"inputChange","gfLow","gfHigh","gfForm","simple","showTitle"],[1,"col","col-12","col-sm-5","col-md-5","col-lg-3","col-xxl-2","mt-3"],[1,"table","table-sm","p-0"],[1,"table-light"],[1,"fw-bold","px-1"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"row"],[1,"form-group","mt-3"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["colspan","2"]],template:function(r,i){r&1&&(se(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Nt(4,"fa-icon",4),se(5,"span"),Ie(6,"Options"),de()(),se(7,"div",5)(8,"div",6)(9,"app-oxygen",7),Bt("gasChange",function(){return i.calculate()})("standardGasApplied",function(){return i.calculate()}),de()(),se(10,"div",6)(11,"app-pp-o2",8),Bt("ppO2Change",function(a){return i.ppO2Changed(a)}),de()(),se(12,"div",6)(13,"app-salinity",9),Bt("inputChange",function(a){return i.salinityChanged(a)}),de()(),se(14,"div",6)(15,"app-altitude",10),Bt("inputChange",function(a){return i.altitudeChanged(a)}),de()(),se(16,"div",11)(17,"app-gradients",12),Bt("inputChange",function(a){return i.gradientsChanged(a)}),de()()()()(),se(18,"div",13)(19,"div",2)(20,"div",3)(21,"span"),Ie(22,"No decompression limits"),de()(),se(23,"div",5)(24,"table",14)(25,"thead",15)(26,"tr")(27,"th",16),Ie(28),de(),se(29,"th",16),Ie(30,"Limit [min]"),de()()(),se(31,"tbody"),tn(32,Pne,5,0,"tr",17)(33,Rne,6,5,"tr",18),de()()()()()(),se(34,"div",19)(35,"div",20)(36,"button",21),Bt("click",function(){return i.location.back()}),Ie(37,"Back"),de()()()),r&2&&(fe(4),Ne("icon",i.icon),fe(5),Ne("tank",i.tank)("showBestMix",!1)("toxicity",i.toxicity)("nitroxForm",i.form),fe(2),Ne("maxPpO2",i.options.maxPpO2)("pO2Form",i.form),fe(2),Ne("salinity",i.options.salinity),fe(2),Ne("altitude",i.options.altitude)("altitudeForm",i.form),fe(2),Ne("gfLow",i.options.gfLow)("gfHigh",i.options.gfHigh)("gfForm",i.form)("simple",!1)("showTitle",!0),fe(11),Ft("Depth [",i.units.length,"]"),fe(4),Ne("ngIf",i.noResults),fe(),Ne("ngForOf",i.limits))},dependencies:[Ta,fr,xr,a3,Hf,$f,s3,Uf,Jr],styles:[".ndl-minheight[_ngcontent-%COMP%]{min-height:690px}"]})}}return t})();var xC=(()=>{class t{constructor(e,r,i,s,a,o){this.fb=e,this.validators=r,this.inputs=i,this.units=s,this.location=a,this.viewStates=o,this.calcIcon=N7,this.calc=new V7,this.loadState(),this.saveState()}get ranges(){return this.units.ranges}get pressureInvalid(){let e=this.altitudeForm.controls.pressure;return this.inputs.controlInValid(e)}get actualDepthInvalid(){let e=this.altitudeForm.controls.actualDepth;return this.inputs.controlInValid(e)}get calcAltitude(){let e=this.units.fromMeters(this.calc.altitude);return Qt.round(e)}get calcPressure(){let e=this.units.fromBar(this.calc.pressure);return Qt.round(e,6)}get calcAltitudeDepth(){let e=this.units.fromMeters(this.calc.altitudeDepth);return Qt.round(e,0)}get theoreticalDepth(){let e=this.units.fromMeters(this.calc.theoreticalDepth);return Qt.round(e,2)}ngOnInit(){this.altitudeForm=this.fb.group({pressure:[this.calcPressure,this.validators.rangeFor(this.ranges.altitudePressure)],altitude:[this.calcAltitude,this.validators.altitude],actualDepth:[this.calcAltitudeDepth,this.validators.depth]})}pressureChanged(){if(this.altitudeForm.invalid)return;let e=this.altitudeForm.value,r=this.units.toBar(Number(e.pressure));this.calc.pressure=r,this.altitudeForm.patchValue({altitude:this.calcAltitude}),this.saveState()}altitudeChanged(e){this.altitudeForm.invalid||(this.calc.altitude=e,this.saveState())}inputChanged(){if(this.altitudeForm.invalid)return;let e=this.altitudeForm.value,r=this.units.toMeters(Number(e.actualDepth));this.calc.altitudeDepth=r,this.saveState()}loadState(){let e=this.viewStates.loadView(Hr.altitude);e||(e=this.createState()),this.calc.altitudeDepth=e.actualDepth,this.calc.altitude=e.altitude}saveState(){let e=this.createState();this.viewStates.saveView(e)}createState(){return{altitude:this.calc.altitude,actualDepth:this.calc.altitudeDepth,id:Hr.altitude}}static{this.\u0275fac=function(r){return new(r||t)(ht(Fr),ht(Pr),ht(qr),ht(Fn),ht(pa),ht(va))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-altitude-calc"]],decls:31,vars:27,consts:[[1,"row","mt-5"],[1,"col","col-sm-8","col-md-6","col-lg-5","col-xl-4","col-xxl-3","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[3,"formGroup"],[1,"pt-2","mb-4"],["for","pressure","mdbLabel","",1,"form-label"],["name","pressure","id","pressure","type","number","formControlName","pressure","step","0.01",1,"form-control",3,"input","min","max","value"],[1,"invalid-feedback","position-absolute"],[3,"inputChange","altitude","altitudeForm"],["for","actualDepth","mdbLabel","",1,"form-label"],["name","actualDepth","id","actualDepth","type","number","formControlName","actualDepth","step","1",1,"form-control",3,"input","min","max"],["name","theoreticalDepth","id","theoreticalDepth","type","number","readonly","",1,"form-control","readonly",3,"readonly","value"],[1,"form-group","mt-3"],["type","button",1,"btn","btn-primary","me-2",3,"click"]],template:function(r,i){r&1&&(se(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Nt(4,"fa-icon",4),se(5,"span"),Ie(6,"Altitude calculator"),de()(),se(7,"div",5)(8,"form",6)(9,"div")(10,"div",7)(11,"label",8),Ie(12),de(),se(13,"input",9),cn(14,"number"),Bt("input",function(){return i.pressureChanged()}),de(),se(15,"div",10),Ie(16),de()()(),se(17,"div")(18,"app-altitude",11),Bt("inputChange",function(a){return i.altitudeChanged(a)}),de()(),se(19,"div",7)(20,"label",12),Ie(21),de(),se(22,"input",13),Bt("input",function(){return i.inputChanged()}),de()(),se(23,"div",7)(24,"label",12),Ie(25),de(),Nt(26,"input",14),cn(27,"number"),de()()()(),se(28,"div",15)(29,"button",16),Bt("click",function(){return i.location.back()}),Ie(30,"Back"),de()()()()),r&2&&(fe(4),Ne("icon",i.calcIcon),fe(4),Ne("formGroup",i.altitudeForm),fe(4),Ft("Atmospheric pressure [",i.units.pressure,"]:"),fe(),Mn("is-invalid",i.pressureInvalid),Ne("min",i.ranges.altitudePressure[0])("max",i.ranges.altitudePressure[1])("value",un(14,21,i.calcPressure,"1.0-6")),fe(3),Oa("Needs to be number ",i.ranges.altitudePressure[0]," - ",i.ranges.altitudePressure[1]," ",i.units.pressure," "),fe(2),Ne("altitude",i.calc.altitude)("altitudeForm",i.altitudeForm),fe(3),Ft("Actual depth [",i.units.length,"]:"),fe(),Mn("is-invalid",i.actualDepthInvalid),Ne("min",i.ranges.depth[0])("max",i.ranges.depth[1]),fe(3),Ft("Theoretical sea level depth [",i.units.length,"]:"),fe(),Ne("readonly",!0)("value",un(27,24,i.theoreticalDepth,"1.0-2")))},dependencies:[xr,Xa,Yr,vi,fi,Rr,yi,gi,Or,oi,Oi,a3,Jr]})}}return t})();function One(t,n){if(t&1&&(se(0,"div",19),Ie(1),de()),t&2){let e=lt();fe(),Ft("Needs to be number ",e.ranges.tankSizeLabel,"")}}function Fne(t,n){if(t&1){let e=ar();se(0,"div",7)(1,"label",20),Ie(2),de(),se(3,"input",21),Bt("input",function(){Dn(e);let i=lt();return Tn(i.inputChanged())}),de(),se(4,"div",14),Ie(5),de()()}if(t&2){let e=lt();fe(2),Ft("Working pressure [",e.units.pressure,"]: "),fe(),Mn("is-invalid",e.workPressureInvalid),Ne("min",e.ranges.tankPressure[0])("max",e.ranges.tankPressure[1]),fe(2),Ft("Needs to be number ",e.ranges.tankPressureLabel,"")}}var bC=(()=>{class t{constructor(e,r,i,s,a,o){this.fb=e,this.validators=r,this.inputs=i,this.units=s,this.location=a,this.viewStates=o,this.calcIcon=T7,this.tank=new us(Yi.createDefault(),this.units),this.loadState(),this.saveState()}get ranges(){return this.units.ranges}get consumedInvalid(){let e=this.weightForm.controls.consumed;return this.inputs.controlInValid(e)}get workPressureInvalid(){let e=this.weightForm.controls.workPressure;return this.inputs.controlInValid(e)}get tankSizeInvalid(){let e=this.weightForm.get("tankSize");return this.inputs.controlInValid(e)}get weight(){let e=qE.tankVolumeWeight(this.tank.tank);return e=this.units.fromKilogram(e),Qt.round(e,1)}get consumed(){let e=this.tank.tank.consumed;return this.units.fromBar(e)}ngOnInit(){if(this.weightForm=this.fb.group({consumed:[this.consumed,this.validators.rangeFor(this.ranges.consumed)]}),this.units.imperialUnits){let e=this.fb.control(Qt.round(this.tank.workingPressure,1),this.validators.tankPressure);this.weightForm.addControl("workPressure",e)}}applyTemplate(e){this.weightForm.invalid||(this.weightForm.patchValue({workPressure:e.workingPressure}),this.inputChanged())}inputChanged(){if(this.weightForm.invalid)return;let e=this.weightForm.value,r=Number(e.consumed);this.tank.tank.consumed=this.units.toBar(r),this.setWorkingPressure(Number(e.workPressure)),this.saveState()}loadState(){let e=this.viewStates.loadView(Hr.weight);e||(e=this.createState()),this.tank.tank.size=e.tankSize;let r=this.units.fromBar(e.workPressure);this.setWorkingPressure(r),this.tank.tank.consumed=e.consumed}saveState(){let e=this.createState();this.viewStates.saveView(e)}createState(){let e=this.tank.tank;return{tankSize:e.size,workPressure:this.tank.workingPressureBars,consumed:e.consumed,id:Hr.weight}}setWorkingPressure(e){this.units.imperialUnits&&(this.tank.workingPressure=Qt.round(e,1))}static{this.\u0275fac=function(r){return new(r||t)(ht(Fr),ht(Pr),ht(qr),ht(Fn),ht(pa),ht(va))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-weight-calc"]],decls:30,vars:19,consts:[[1,"row","mt-5"],[1,"col","col-sm-8","col-md-6","col-lg-5","col-xl-4","col-xxl-3","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[3,"formGroup"],[1,"pt-2","mb-4"],["for","tankSize","mdbLabel","",1,"form-label"],["controlName","tankSize",3,"sizeChange","applyTemplate","sizeForm","tank"],["class","text-danger form-text position-absolute",4,"ngIf"],["class","pt-2 mb-4",4,"ngIf"],["for","consumed","mdbLabel","",1,"form-label"],["type","number","id","consumed","formControlName","consumed","required","","step","1",1,"form-control",3,"input","min","max"],[1,"invalid-feedback","position-absolute"],["for","weight","mdbLabel","",1,"form-label"],["name","weight","id","weight","type","number","readonly","",1,"form-control","readonly",3,"readonly","value"],[1,"form-group","mt-3"],["type","button",1,"btn","btn-primary","me-2",3,"click"],[1,"text-danger","form-text","position-absolute"],["for","workPressure","mdbLabel","",1,"form-label"],["type","number","id","workPressure","formControlName","workPressure","required","","step","1",1,"form-control",3,"input","min","max"]],template:function(r,i){r&1&&(se(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Nt(4,"fa-icon",4),se(5,"span"),Ie(6,"Weight calculator"),de()(),se(7,"div",5)(8,"form",6)(9,"div")(10,"div",7)(11,"label",8),Ie(12),de(),se(13,"app-tank-size",9),Bt("sizeChange",function(){return i.inputChanged()})("applyTemplate",function(a){return i.applyTemplate(a)}),de(),tn(14,One,2,1,"div",10),de()(),tn(15,Fne,6,6,"div",11),se(16,"div",7)(17,"label",12),Ie(18),de(),se(19,"input",13),Bt("input",function(){return i.inputChanged()}),de(),se(20,"div",14),Ie(21),de()(),se(22,"div",7)(23,"label",15),Ie(24),de(),Nt(25,"input",16),cn(26,"number"),de()()()(),se(27,"div",17)(28,"button",18),Bt("click",function(){return i.location.back()}),Ie(29,"Back"),de()()()()),r&2&&(fe(4),Ne("icon",i.calcIcon),fe(4),Ne("formGroup",i.weightForm),fe(4),Ft("Tank size [",i.units.volume,"]:"),fe(),Ne("sizeForm",i.weightForm)("tank",i.tank),fe(),Ne("ngIf",i.tankSizeInvalid),fe(),Ne("ngIf",i.units.imperialUnits),fe(3),Ft("Consumed [",i.units.pressure,"]: "),fe(),Mn("is-invalid",i.consumedInvalid),Ne("min",i.ranges.consumed[0])("max",i.ranges.consumed[1]),fe(2),Ft("Needs to be number ",i.ranges.consumedLabel,""),fe(3),Ft("Lost weight [",i.units.weight,"]:"),fe(),Ne("readonly",!0)("value",un(26,16,i.weight,"1.0-2")))},dependencies:[fr,xr,Xa,Yr,vi,fi,Rr,ea,yi,gi,Or,oi,Oi,l2,Jr]})}}return t})();var Dp=class{constructor(n){this.units=n,this.calc=new Z7}get tank(){return this.calc.tank}get ppO2(){return this.calc.ppO2}get ppHe(){return this.calc.ppHe}get ppN2(){return this.calc.ppN2}get totalPp(){return this.calc.totalPp}get minDepth(){return this.units.fromMeters(this.calc.minDepth)}get maxDepth(){return this.units.fromMeters(this.calc.maxDepth)}get end(){return this.units.fromMeters(this.calc.end)}get mnd(){return this.units.fromMeters(this.calc.mnd)}get density(){return this.units.fromGramPerLiter(this.calc.density)}get depth(){return this.units.fromMeters(this.calc.depth)}get minPpO2(){return da.minPpO2}get maxPpO2(){return this.calc.maxPpO2}get oxygenNarcotic(){return this.calc.oxygenNarcotic}get minPpO2Exceeded(){return this.calc.minPpO2Exceeded}get maxPpO2Exceeded(){return this.calc.maxPpO2Exceeded}get mndExceeded(){return this.calc.mndExceeded}get densityExceeded(){return this.calc.densityExceeded}get maxDensity(){return this.units.fromGramPerLiter(B0.recommendedMaximum)}get mndLimit(){return this.units.fromMeters(this.calc.narcoticDepthLimit)}set depth(n){this.calc.depth=this.units.toMeters(n)}set maxPpO2(n){this.calc.maxPpO2=n}set mndLimit(n){this.calc.narcoticDepthLimit=this.units.toMeters(n)}switchOxygenNarcotic(){this.calc.oxygenNarcotic=!this.calc.oxygenNarcotic}};function Bne(t,n){if(t&1&&(se(0,"div",33),Ie(1),de()),t&2){let e=lt();fe(),Ft("Needs to be number ",e.ranges.tankHeLabel,"")}}function Vne(t,n){if(t&1&&Nt(0,"fa-icon",34),t&2){let e=lt();Ne("icon",e.warningIcon)}}function Hne(t,n){if(t&1&&Nt(0,"fa-icon",34),t&2){let e=lt();Ne("icon",e.warningIcon)}}function Une(t,n){if(t&1&&Nt(0,"fa-icon",34),t&2){let e=lt();Ne("icon",e.warningIcon)}}function jne(t,n){if(t&1&&Nt(0,"fa-icon",34),t&2){let e=lt();Ne("icon",e.warningIcon)}}function Gne(t,n){if(t&1&&(se(0,"div",35),Nt(1,"fa-icon",36),se(2,"strong"),Ie(3,"Minimum depth: "),de(),se(4,"span"),Ie(5),de()()),t&2){let e=lt();fe(),Ne("icon",e.warningIcon),fe(4),Ft("Exceeded minimum value of Oxygen partial pressure (",e.calc.minPpO2,"), which defines minimum depth. Add more oxygen content or reduce required depth.")}}function $ne(t,n){if(t&1&&(se(0,"div",35),Nt(1,"fa-icon",36),se(2,"strong"),Ie(3,"Maximum depth: "),de(),se(4,"span"),Ie(5),de()()),t&2){let e=lt();fe(),Ne("icon",e.warningIcon),fe(4),Ft("Exceeded maximum value of Oxygen partial pressure (",e.calc.maxPpO2,"). Increase the maximum ppO2, reduce oxygen content or reduce required depth.")}}function Wne(t,n){if(t&1&&(se(0,"div",35),Nt(1,"fa-icon",36),se(2,"strong"),Ie(3,"Equivalent narcotic depth: "),de(),se(4,"span"),Ie(5),de()()),t&2){let e=lt();fe(),Ne("icon",e.warningIcon),fe(4),Ea("Exceeded maximum value of narcotic depth (",e.calc.mndLimit," ",e.units.length,") controlled by partial pressure of toxic parts (oxygen and nitrogen). Reduce nitrogen content by adding helium, adding oxygen or reduce required depth.")}}function Yne(t,n){if(t&1&&(se(0,"div",35),Nt(1,"fa-icon",36),se(2,"strong"),Ie(3,"Maximum gas density: "),de(),se(4,"span"),Ie(5),de()()),t&2){let e=lt();fe(),Ne("icon",e.warningIcon),fe(4),Ea("Exceeded maximum value of gas density (",e.calc.maxDensity," ",e.units.density,"). Reduce oxygen content or add more helium.")}}var CC=(()=>{class t{constructor(e,r,i,s,a,o){this.fb=e,this.validators=r,this.inputs=i,this.units=s,this.location=a,this.viewStates=o,this.calcIcon=_7,this.warningIcon=P1,this.depthConverterWarning=a2.depthConverterWarning,this.calc=new Dp(this.units),this.loadState(),this.saveState()}get ranges(){return this.units.ranges}get tank(){return this.calc.tank}get gasHeInvalid(){let e=this.gasForm.controls.he;return this.inputs.controlInValid(e)}get depthInvalid(){let e=this.gasForm.controls.depth;return this.inputs.controlInValid(e)}get narcoticDepthInvalid(){let e=this.gasForm.controls.mndLimit;return this.inputs.controlInValid(e)}get nitrox(){return this.tank.n2}ngOnInit(){this.gasForm=this.fb.group({o2:[this.tank.o2,this.validators.rangeFor(this.ranges.trimixOxygen)],he:[this.tank.he,this.validators.rangeFor(this.ranges.tankHe)],maxPO2:[this.calc.maxPpO2,this.validators.rangeFor(this.ranges.ppO2)],depth:[Qt.round(this.calc.depth,1),this.validators.rangeFor(this.ranges.depth)],mndLimit:[Qt.round(this.calc.mndLimit,1),this.validators.rangeFor(this.ranges.narcoticDepth)]})}standardGasApplied(){this.gasForm.invalid||(this.reloadContent(),this.inputChanged(),this.saveState())}inputChanged(){if(this.gasForm.invalid)return;let e=this.gasForm.value;this.tank.o2=Number(e.o2),this.tank.he=Number(e.he),this.calc.maxPpO2=Number(e.maxPO2),this.calc.depth=Number(e.depth),this.calc.mndLimit=Number(e.mndLimit),this.reloadContent(),this.saveState()}switchOxygenNarcotic(){this.calc.switchOxygenNarcotic(),this.saveState()}reloadContent(){this.gasForm.patchValue({o2:this.tank.o2,he:this.tank.he})}loadState(){let e=this.viewStates.loadView(Hr.gas);e||(e=this.createState()),this.tank.he=e.he,this.tank.o2=e.o2,this.calc.maxPpO2=e.maxPO2,this.calc.depth=this.units.fromMeters(e.depth),e.mndLimit&&(this.calc.mndLimit=this.units.fromMeters(e.mndLimit)),this.calc.oxygenNarcotic!==e.oxygenNarcotic&&this.calc.switchOxygenNarcotic()}saveState(){let e=this.createState();this.viewStates.saveView(e)}createState(){return{o2:this.tank.o2,he:this.tank.he,maxPO2:this.calc.maxPpO2,depth:this.units.toMeters(this.calc.depth),mndLimit:this.units.toMeters(this.calc.mndLimit),oxygenNarcotic:this.calc.oxygenNarcotic,id:Hr.gas}}static{this.\u0275fac=function(r){return new(r||t)(ht(Fr),ht(Pr),ht(qr),ht(Fn),ht(pa),ht(va))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-gas-props-calc"]],decls:124,vars:81,consts:[[1,"row","mt-5"],[1,"col","col-12","col-md-7","col-lg-4","col-xl-5","col-xxl-4","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"col-12","col-sm-6","col-lg-12","col-xl-6"],[1,"pt-2","mb-4"],["id","o2Item","controlName","o2",3,"gasChange","standardGasApplied","tank","nitroxForm","showBestMix","showTrimixGases"],[1,"text-muted"],["for","heItem",1,"form-label"],["formControlName","he","type","number","step","1","required","","id","heItem",1,"form-control",3,"input","min","max"],["class","text-danger",4,"ngIf"],["label","Maximum ppO2:","controlName","maxPO2",3,"ppO2Change","maxPpO2","pO2Form"],["for","maxNarcoticDepth","mdbLabel","",1,"form-label"],["id","maxNarcoticDepth","type","number","formControlName","mndLimit","required","","step","1",1,"form-control",3,"input","min","max"],[1,"invalid-feedback","position-absolute"],[1,"form-check","form-switch","pb-1"],["type","checkbox","id","oxygenNarcotic","mdbCheckbox","",1,"form-check-input",3,"change","checked"],["for","oxygenNarcotic",1,"form-check-label"],["for","depth","mdbLabel","",1,"form-label"],["type","number","id","depth","formControlName","depth","required","","step","1",1,"form-control",3,"input","min","max"],[1,"col","col-12","col-md-5","col-lg-4","col-xl-4","col-xxl-3","mt-3"],[1,"table","table-sm","p-0"],[1,"table-active"],["class","me-2 text-warning",3,"icon",4,"ngIf"],[1,"col","col-12","col-md-12","col-lg-4","col-xl-3","col-xxl-5","mt-3"],[1,"mb-4"],["class","alert alert-warning",4,"ngIf"],[1,"form-group","mt-3"],["type","button",1,"btn","btn-primary","me-2",3,"click"],[1,"text-danger"],[1,"me-2","text-warning",3,"icon"],[1,"alert","alert-warning"],[1,"me-2",3,"icon"]],template:function(r,i){r&1&&(se(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Nt(4,"fa-icon",4),se(5,"span"),Ie(6,"Gas mixture"),de()(),se(7,"div",5)(8,"form",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"app-oxygen-dropdown",10),Bt("gasChange",function(){return i.inputChanged()})("standardGasApplied",function(){return i.standardGasApplied()}),de(),se(13,"small",11),Ie(14),cn(15,"number"),de()(),se(16,"div",9)(17,"label",12),Ie(18,"He [%]:"),de(),se(19,"input",13),Bt("input",function(){return i.inputChanged()}),de(),tn(20,Bne,2,1,"div",14),de(),se(21,"div",9)(22,"app-pp-o2",15),Bt("ppO2Change",function(){return i.inputChanged()}),de()()(),se(23,"div",8)(24,"div",9)(25,"label",16),Ie(26),de(),se(27,"input",17),Bt("input",function(){return i.inputChanged()}),de(),se(28,"div",18),Ie(29),de()(),se(30,"div",9)(31,"div",19)(32,"input",20),Bt("change",function(){return i.switchOxygenNarcotic()}),de(),se(33,"label",21),Ie(34,"Oxygen is narcotic"),de()()(),se(35,"div",9)(36,"label",22),Ie(37),de(),se(38,"input",23),Bt("input",function(){return i.inputChanged()}),de(),se(39,"div",18),Ie(40),de()()()()()()()(),se(41,"div",24)(42,"div",2)(43,"div",3)(44,"span"),Ie(45,"Gas properties"),de()(),se(46,"div",5)(47,"table",25)(48,"tbody")(49,"tr")(50,"td"),Ie(51,"Oxygen partial pressure"),de(),se(52,"td",26),Ie(53),cn(54,"number"),de()(),se(55,"tr")(56,"td"),Ie(57,"Helium partial pressure"),de(),se(58,"td",26),Ie(59),cn(60,"number"),de()(),se(61,"tr")(62,"td"),Ie(63,"Nitrogen partial pressure"),de(),se(64,"td",26),Ie(65),cn(66,"number"),de()(),se(67,"tr")(68,"td"),Ie(69,"Total partial pressure"),de(),se(70,"td",26),Ie(71),cn(72,"number"),de()(),se(73,"tr")(74,"td"),Ie(75),tn(76,Vne,1,1,"fa-icon",27),de(),se(77,"td",26),Ie(78),cn(79,"number"),de()(),se(80,"tr")(81,"td"),Ie(82),tn(83,Hne,1,1,"fa-icon",27),de(),se(84,"td",26),Ie(85),cn(86,"number"),de()(),se(87,"tr")(88,"td"),Ie(89),tn(90,Une,1,1,"fa-icon",27),de(),se(91,"td",26),Ie(92),cn(93,"number"),de()(),se(94,"tr")(95,"td"),Ie(96),de(),se(97,"td",26),Ie(98),cn(99,"number"),de()(),se(100,"tr")(101,"td"),Ie(102),tn(103,jne,1,1,"fa-icon",27),de(),se(104,"td",26),Ie(105),cn(106,"number"),de()()()()()()(),se(107,"div",28)(108,"div",2)(109,"div",3),Nt(110,"fa-icon",4),se(111,"span"),Ie(112,"Warnings"),de()(),se(113,"div",5)(114,"div",29),Ie(115),de(),tn(116,Gne,6,2,"div",30)(117,$ne,6,2,"div",30)(118,Wne,6,3,"div",30)(119,Yne,6,3,"div",30),de()()()(),se(120,"div",7)(121,"div",31)(122,"button",32),Bt("click",function(){return i.location.back()}),Ie(123,"Back"),de()()()),r&2&&(fe(4),Ne("icon",i.calcIcon),fe(4),Ne("formGroup",i.gasForm),fe(4),Ne("tank",i.tank)("nitroxForm",i.gasForm)("showBestMix",!1)("showTrimixGases",!0),fe(2),Ft("Nitrox ",un(15,51,i.nitrox,"1.0-2")," [%]"),fe(5),Mn("is-invalid",i.gasHeInvalid),Ne("min",i.ranges.tankHe[0])("max",i.ranges.tankHe[1]),fe(),Ne("ngIf",i.gasHeInvalid),fe(2),Ne("maxPpO2",i.calc.maxPpO2)("pO2Form",i.gasForm),fe(4),Ft("Max narcotic depth [",i.units.length,"]:"),fe(),Mn("is-invalid",i.narcoticDepthInvalid),Ne("min",i.ranges.narcoticDepth[0])("max",i.ranges.narcoticDepth[1]),fe(2),Ft(" Needs to be number ",i.ranges.narcoticDepthLabel," "),fe(3),Ne("checked",i.calc.oxygenNarcotic),fe(5),Ft("Properties at depth [",i.units.length,"]: "),fe(),Mn("is-invalid",i.depthInvalid),Ne("min",i.ranges.depth[0])("max",i.ranges.depth[1]),fe(2),Ft("Needs to be number ",i.ranges.depth,""),fe(13),Kn(un(54,54,i.calc.ppO2,"1.0-2")),fe(6),Kn(un(60,57,i.calc.ppHe,"1.0-2")),fe(6),Kn(un(66,60,i.calc.ppN2,"1.0-2")),fe(6),Kn(un(72,63,i.calc.totalPp,"1.0-2")),fe(4),Ft("Minimum depth [",i.units.length,"] "),fe(),Ne("ngIf",i.calc.minPpO2Exceeded),fe(2),Kn(un(79,66,i.calc.minDepth,"1.0-1")),fe(4),Ft("Maximum depth [",i.units.length,"] "),fe(),Ne("ngIf",i.calc.maxPpO2Exceeded),fe(2),Kn(un(86,69,i.calc.maxDepth,"1.0-1")),fe(4),Ft("Equivalent narcotic depth [",i.units.length,"] "),fe(),Ne("ngIf",i.calc.mndExceeded),fe(2),Kn(un(93,72,i.calc.end,"1.0-1")),fe(4),Ft("Maximum narcotic depth [",i.units.length,"]"),fe(2),Kn(un(99,75,i.calc.mnd,"1.0-1")),fe(4),Ft("Density [",i.units.density,"] "),fe(),Ne("ngIf",i.calc.densityExceeded),fe(2),Kn(un(106,78,i.calc.density,"1.0-2")),fe(5),Ne("icon",i.warningIcon),fe(5),Kn(i.depthConverterWarning),fe(),Ne("ngIf",i.calc.minPpO2Exceeded),fe(),Ne("ngIf",i.calc.maxPpO2Exceeded),fe(),Ne("ngIf",i.calc.mndExceeded),fe(),Ne("ngIf",i.calc.densityExceeded))},dependencies:[fr,xr,Xa,Yr,vi,fi,Rr,ea,yi,gi,Or,oi,Oi,o2,s3,Jr]})}}return t})();var Tp=class{constructor(n,e,r){this.wayPointA=e,this.wayPointB=r,this.selected=!1,this.runTime=n,this.depthA=this.wayPointA?.endDepth,this.durationA=this.wayPointA?.duration,this.depthB=this.wayPointB?.endDepth,this.durationB=this.wayPointB?.duration}fits(n){return this.runTime>=n}};var Qa=(()=>{class t extends ji{constructor(e,r){super(),this.schedules=e,this.dispatcher=r,this._profileAIndex=0,this._profileBIndex=0,this._onSelectionChanged=new nr,this._wayPoints=[],this._selectionChanged$=this._onSelectionChanged.asObservable(),this.hasTwoProfiles&&this.selectProfile(1),this.dispatcher.infoCalculated$.pipe(er(this.unsubscribe$)).subscribe(()=>this.updateWayPoints()),this.dispatcher.depthChanged$.pipe(er(this.unsubscribe$)).subscribe(()=>this.resetSelection())}get profileAIndex(){return this._profileAIndex}get profileA(){return this.schedules.dives[this._profileAIndex]}get profileATitle(){return this.profileA.title}get profileAResults(){return this.profileA.diveResult}get profileAConsumed(){return If.combine(this.profileA.tanksService.tankData)}get profileBIndex(){return this._profileBIndex}get profileB(){return this.schedules.dives[this._profileBIndex]}get profileBTitle(){return this.profileB.title}get profileBResults(){return this.profileB.diveResult}get profileBConsumed(){return If.combine(this.profileB.tanksService.tankData)}get selectionChanged$(){return this._selectionChanged$}get totalDuration(){return this.profileAResults.totalDuration>this.profileBResults.totalDuration?this.profileAResults.totalDuration:this.profileBResults.totalDuration}get bothResultsCalculated(){return this.profileAResults.calculated&&!this.profileAResults.failed&&this.profileBResults.calculated&&!this.profileBResults.failed}get difference(){return this._wayPoints}get hasTwoProfiles(){return this.schedules.length>1}get diveInfosCalculated(){return this.profileAResults.diveInfoCalculated&&this.profileBResults.diveInfoCalculated}get profilesCalculated(){return this.profileAResults.profileCalculated&&this.profileBResults.profileCalculated}get showConsumption(){return this.profileAResults.showResults&&this.profileBResults.showResults}get wayPointsA(){return this.profileAResults.wayPoints}get wayPointsB(){return this.profileBResults.wayPoints}selectProfile(e){(this._profileAIndex===e||this._profileBIndex===e)&&(e=this._profileAIndex),this._profileAIndex=this._profileBIndex,this._profileBIndex=e,this.updateWayPoints(),this._onSelectionChanged.next()}resetSelection(){let e=this.schedules.length;this._profileAIndex>=e&&(this._profileAIndex=0),this._profileBIndex>=e&&(this._profileBIndex=0),this.updateWayPoints()}updateWayPoints(){if(this._wayPoints=[],!this.bothResultsCalculated)return;let e=new MC([...this.wayPointsA],[...this.wayPointsB]);for(;e.hasNext;){let r=e.toRow();this._wayPoints.unshift(r),e.next()}}static{this.\u0275fac=function(r){return new(r||t)($t(kr),$t(Ei))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})(),MC=class{constructor(n,e){this.wayPointsA=n,this.wayPointsB=e,this.defaultTime=-1,this._endTimeA=this.defaultTime,this._endTimeB=this.defaultTime,this.updateA(),this.updateB()}get hasNext(){return!!(this.waypointA||this.waypointB)}get dominantA(){return this._endTimeA>this._endTimeB}get dominantB(){return this._endTimeB>this._endTimeA}next(){this.dominantA?this.updateA():this.dominantB?this.updateB():(this.updateA(),this.updateB())}toRow(){let n=this.dominantA?this._endTimeA:this._endTimeB,e=new Tp(n,this.waypointA,this.waypointB);return this.dominantA?(e.durationB=void 0,e.depthB=void 0):this.dominantB&&(e.durationA=void 0,e.depthA=void 0),e}updateA(){this.waypointA=this.wayPointsA.pop(),this._endTimeA=this.waypointA?.endTime??this.defaultTime}updateB(){this.waypointB=this.wayPointsB.pop(),this._endTimeB=this.waypointB?.endTime??this.defaultTime}};var y6=(()=>{class t{constructor(e){this.profilesDiff=e,this.selectedChanged=new rr}set selectedTimeStamp(e){let r;if(e){let i=Na.secondsFromDate(e);r=this.profilesDiff.difference.find(a=>a.fits(i))}this.selected=r}set selected(e){this.lastSelected&&(this.lastSelected.selected=!1),this.lastSelected=e,e&&this.lastSelected&&(this.lastSelected.selected=!0),this.selectedChanged.emit(this.lastSelected)}static{this.\u0275fac=function(r){return new(r||t)($t(Qa))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();var Zne=t=>({"table-active":t});function Xne(t,n){if(t&1){let e=ar();se(0,"tr",17),Bt("mouseover",function(){let i=Dn(e).$implicit,s=lt(2);return Tn(s.highlightRow(i))})("mouseleave",function(){Dn(e);let i=lt(2);return Tn(i.highlightRow(void 0))}),se(1,"td",18),Ie(2),cn(3,"duration"),de(),se(4,"td",19),Ie(5),cn(6,"number"),de(),se(7,"td",18),Ie(8),cn(9,"duration"),de(),se(10,"td",19),Ie(11),cn(12,"number"),de(),se(13,"td",19),Ie(14),cn(15,"duration"),de()()}if(t&2){let e=n.$implicit,r=lt(2);Ne("ngClass",T1(21,Zne,e.selected)),fe(2),Ft(" ",un(3,6,e.runTime,r.profileDiff.totalDuration)," "),fe(3),Ft(" ",un(6,9,e.depthA,"1.0-0")," "),fe(3),Ft(" ",un(9,12,e.durationA,r.profileDiff.totalDuration)," "),fe(3),Ft(" ",un(12,15,e.depthB,"1.0-0")," "),fe(3),Ft(" ",un(15,18,e.durationB,r.profileDiff.totalDuration)," ")}}function Kne(t,n){if(t&1&&(se(0,"table",7)(1,"thead",8)(2,"tr"),Nt(3,"th",9),se(4,"th",10)(5,"div",11),Ie(6,"Profile A"),de(),Ie(7),de(),se(8,"th",12)(9,"div",11),Ie(10,"Profile B"),de(),Ie(11),de()(),se(12,"tr")(13,"th",13),Ie(14,"Run [min]"),de(),se(15,"th",14),Ie(16),de(),se(17,"th",15),Ie(18,"Duration [min]"),de(),se(19,"th",13),Ie(20),de(),se(21,"th",13),Ie(22,"Duration [min]"),de()()(),se(23,"tbody"),tn(24,Xne,16,23,"tr",16),de()()),t&2){let e=lt();fe(7),Ft(" ",e.profileDiff.profileATitle," "),fe(4),Ft(" ",e.profileDiff.profileBTitle," "),fe(5),Ft("Depth [",e.units.length,"]"),fe(4),Ft("Depth [",e.units.length,"]"),fe(4),Ne("ngForOf",e.profileDiff.difference)}}var wC=(()=>{class t{constructor(e,r,i){this.units=e,this.profileDiff=r,this.selectedDiff=i,this.tasks=O7}highlightRow(e){this.selectedDiff.selected=e}static{this.\u0275fac=function(r){return new(r||t)(ht(Fn),ht(Qa),ht(y6))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-diff-waypoints"]],decls:9,vars:3,consts:[[1,"card"],[1,"card-header"],[1,"float-start"],[1,"me-3",3,"icon"],["id","body",1,"hide","card-minheight","card-max-height-md"],[3,"show"],["id","waypointsDiffTable","class","table table-sm p-0 text-center table-hover",4,"ngIf"],["id","waypointsDiffTable",1,"table","table-sm","p-0","text-center","table-hover"],[1,"table-light","sticky-top"],["colspan","1"],["colspan","2",1,"fw-bold","px-1","bg-primary","text-light"],[1,"profile-title"],["colspan","2",1,"fw-bold","px-1","bg-success","text-light"],[1,"fw-bold","px-1"],[1,"fw-bold","px-1","vertical-left-border"],[1,"fw-bold","px-1","vertical-right-border"],[3,"ngClass","mouseover","mouseleave",4,"ngFor","ngForOf"],[3,"mouseover","mouseleave","ngClass"],[1,"px-1","vertical-right-border"],[1,"px-1"]],template:function(r,i){r&1&&(se(0,"div",0)(1,"div",1)(2,"div",2),Nt(3,"fa-icon",3),se(4,"span"),Ie(5,"Dive way points"),de()()(),se(6,"div",4),Nt(7,"app-calculating",5),tn(8,Kne,25,5,"table",6),de()()),r&2&&(fe(3),Ne("icon",i.tasks),fe(4),Ne("show",!i.profileDiff.profilesCalculated),fe(),Ne("ngIf",i.profileDiff.profilesCalculated))},dependencies:[Za,Ta,fr,xr,c1,Jr,s2],styles:["#body[_ngcontent-%COMP%]{margin:24px;flex:1 1 auto}.card-max-height-md[_ngcontent-%COMP%]{max-height:450px;overflow-y:auto}.card-minheight[_ngcontent-%COMP%]{min-height:450px}#waypointsDiffTable[_ngcontent-%COMP%]   .vertical-right-border[_ngcontent-%COMP%]{border-right-width:medium}#waypointsDiffTable[_ngcontent-%COMP%]   .vertical-left-border[_ngcontent-%COMP%]{border-left-width:medium}#waypointsDiffTable[_ngcontent-%COMP%]   .vertical-borders[_ngcontent-%COMP%]{border-left-width:medium;border-right-width:medium}#waypointsDiffTable[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-top:hidden;border-bottom:hidden}",".profile-title[_ngcontent-%COMP%]{text-align:center}.diff-max-height[_ngcontent-%COMP%]{max-height:450px;overflow-y:scroll}"]})}}return t})();var c2=class{constructor(n,e,r,i){this.profileA=n,this.profileB=e,this.betterDirection=r,this.valueAccessor=i,this.arrowUp=R7,this.arrowDown=P7,this.dash=_l}get valueA(){return this.valueAccessor(this.profileA())}get valueB(){return this.valueAccessor(this.profileB())}get difference(){return this.valueB-this.valueA}get arrow(){return this.difference>0?this.arrowUp:this.difference<0?this.arrowDown:this.dash}get bgColor(){let n=this.betterDirection*this.difference;return n>0?"table-success":n<0?"table-danger":"table-active"}},Ap=(()=>{class t{constructor(e,r){this.units=e,this.profilesDiff=r,this.totalDuration=new c2(()=>this.profileA,()=>this.profileB,1,i=>i.totalDuration),this.timeToSurface=new c2(()=>this.profileA,()=>this.profileB,-1,i=>i.timeToSurface),this.averageDepth=new c2(()=>this.profileA,()=>this.profileB,-1,i=>this.units.fromMeters(i.averageDepth)),this.emergencyAscentStart=new c2(()=>this.profileA,()=>this.profileB,-1,i=>i.emergencyAscentStart),this.noDeco=new c2(()=>this.profileA,()=>this.profileB,1,i=>i.noDecoTime),this.maxTime=new c2(()=>this.profileA,()=>this.profileB,1,i=>i.maxTime),this.highestDensity=new c2(()=>this.profileA,()=>this.profileB,-1,i=>this.density(i)),this.otu=new c2(()=>this.profileA,()=>this.profileB,-1,i=>i.otu),this.cns=new c2(()=>this.profileA,()=>this.profileB,-1,i=>i.cns),this.maxCns=1e3,this.cnsDifferenceUnderMinusOneThousand="< -1000"}get densityGasA(){return this.densityFormatted(this.profileA)}get densityGasB(){return this.densityFormatted(this.profileA)}get cnsA(){return this.cnsFormatted(this.profileA)}get cnsB(){return this.cnsFormatted(this.profileA)}get cnsDifference(){let e=this.cns.difference;return e>=this.maxCns?a2.cnsOverOneThousand:e<=-this.maxCns?this.cnsDifferenceUnderMinusOneThousand:C4(e,"en","1.0-0")}get showMaxBottomTime(){return this.profileA.maxTime>0&&this.profileB.maxTime>0}get profileA(){return this.profilesDiff.profileAResults}get profileB(){return this.profilesDiff.profileBResults}densityFormatted(e){let r=e.highestDensity.gas.name,i=this.units.fromMeters(e.highestDensity.depth);return`${r} at ${i} ${this.units.length}`}density(e){let r=e.highestDensity.density;return this.units.fromGramPerLiter(r)}cnsFormatted(e){return e.cns>=this.maxCns?a2.cnsOverOneThousand:C4(e.cns,"en","1.0-0")}static{this.\u0275fac=function(r){return new(r||t)($t(Fn),$t(Qa))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();function qne(t,n){if(t&1&&(se(0,"tr")(1,"td"),Ie(2,"No decompression time [min]:"),de(),se(3,"td",9)(4,"div"),Ie(5),cn(6,"number"),de()(),se(7,"td",9)(8,"div"),Ie(9),cn(10,"number"),de()(),se(11,"td")(12,"div",11)(13,"strong"),Ie(14),cn(15,"number"),de(),Nt(16,"fa-icon",12),de()()()),t&2){let e=lt(2);fe(5),Ft(" ",un(6,7,e.resultsDiff.noDeco.valueA,"1.0-0")," "),fe(4),Ft(" ",un(10,10,e.resultsDiff.noDeco.valueB,"1.0-0")," "),fe(2),Q1("",e.resultsDiff.noDeco.bgColor," border-start border-end"),fe(3),Ft(" ",un(15,13,e.resultsDiff.noDeco.difference,"1.0-0")," "),fe(2),Ne("icon",e.resultsDiff.noDeco.arrow)}}function ere(t,n){if(t&1&&(se(0,"tr")(1,"td"),Ie(2,"Maximum bottom time [min]:"),de(),se(3,"td",9)(4,"div"),Ie(5),cn(6,"number"),de()(),se(7,"td",9)(8,"div"),Ie(9),cn(10,"number"),de()(),se(11,"td")(12,"div",11)(13,"strong"),Ie(14),cn(15,"number"),de(),Nt(16,"fa-icon",12),de()()()),t&2){let e=lt(2);fe(5),Ft(" ",un(6,7,e.resultsDiff.maxTime.valueA,"1.0-0")," "),fe(4),Ft(" ",un(10,10,e.resultsDiff.maxTime.valueB,"1.0-0")," "),fe(2),Q1("",e.resultsDiff.maxTime.bgColor," border-start border-end"),fe(3),Ft(" ",un(15,13,e.resultsDiff.maxTime.difference,"1.0-0")," "),fe(2),Ne("icon",e.resultsDiff.maxTime.arrow)}}function tre(t,n){if(t&1&&(se(0,"tr")(1,"td"),Ie(2),de(),se(3,"td",9)(4,"div"),Ie(5),cn(6,"number"),Nt(7,"br"),Ie(8),de()(),se(9,"td",9)(10,"div"),Ie(11),cn(12,"number"),Nt(13,"br"),Ie(14),de()(),se(15,"td")(16,"div",11)(17,"strong"),Ie(18),cn(19,"number"),de(),Nt(20,"fa-icon",12),de()()()),t&2){let e=lt(2);fe(2),Ft("Highest gas density [",e.units.density,"]:"),fe(3),Ft(" ",un(6,10,e.resultsDiff.highestDensity.valueA,"1.0-2")," "),fe(3),Ft(" (",e.resultsDiff.densityGasA,") "),fe(3),Ft(" ",un(12,13,e.resultsDiff.highestDensity.valueB,"1.0-2")," "),fe(3),Ft(" (",e.resultsDiff.densityGasB,") "),fe(),Q1("",e.resultsDiff.highestDensity.bgColor," border-start border-end"),fe(3),Ft(" ",un(19,16,e.resultsDiff.highestDensity.difference,"1.0-2")," "),fe(2),Ne("icon",e.resultsDiff.highestDensity.arrow)}}function nre(t,n){if(t&1&&(se(0,"tr")(1,"td"),Ie(2,"OTU toxicity [OTU]:"),de(),se(3,"td",9)(4,"div"),Ie(5),cn(6,"number"),de()(),se(7,"td",9)(8,"div"),Ie(9),cn(10,"number"),de()(),se(11,"td")(12,"div",11)(13,"strong"),Ie(14),cn(15,"number"),de(),Nt(16,"fa-icon",12),de()()()),t&2){let e=lt(2);fe(5),Ft(" ",un(6,7,e.resultsDiff.otu.valueA,"1.0-0")," "),fe(4),Ft(" ",un(10,10,e.resultsDiff.otu.valueB,"1.0-0")," "),fe(2),Q1("",e.resultsDiff.otu.bgColor," border-start border-end"),fe(3),Ft(" ",un(15,13,e.resultsDiff.otu.difference,"1.0-0")," "),fe(2),Ne("icon",e.resultsDiff.otu.arrow)}}function rre(t,n){if(t&1&&(se(0,"tr")(1,"td"),Ie(2,"CNS toxicity [%]:"),de(),se(3,"td",9)(4,"div"),Ie(5),de()(),se(6,"td",9)(7,"div"),Ie(8),de()(),se(9,"td")(10,"div",11)(11,"strong"),Ie(12),cn(13,"number"),de(),Nt(14,"fa-icon",12),de()()()),t&2){let e=lt(2);fe(5),Ft(" ",e.resultsDiff.cnsA," "),fe(3),Ft(" ",e.resultsDiff.cnsB," "),fe(),Q1("",e.resultsDiff.cns.bgColor," border-start border-end"),fe(3),Ft(" ",un(13,7,e.resultsDiff.cnsDifference,"1.0-0")," "),fe(2),Ne("icon",e.resultsDiff.cns.arrow)}}function ire(t,n){if(t&1&&(se(0,"table",2)(1,"tbody")(2,"tr",3),Nt(3,"td"),se(4,"td",4)(5,"div",5)(6,"strong")(7,"div",6),Ie(8,"Profile A"),de(),se(9,"div"),Ie(10),de()()()(),se(11,"td",7)(12,"div",5)(13,"strong")(14,"div",6),Ie(15,"Profile B"),de(),se(16,"div"),Ie(17),de()()()(),se(18,"td",8)(19,"div",5)(20,"strong")(21,"div",6),Nt(22,"br"),de(),se(23,"div"),Ie(24,"Difference"),de()()()()(),se(25,"tr")(26,"td"),Ie(27,"Total dive time [min]:"),de(),se(28,"td",9)(29,"div"),Ie(30),cn(31,"duration"),de()(),se(32,"td",9)(33,"div"),Ie(34),cn(35,"duration"),de()(),se(36,"td",10)(37,"div",11)(38,"strong"),Ie(39),cn(40,"duration"),de(),Nt(41,"fa-icon",12),de()()(),se(42,"tr")(43,"td"),Ie(44,"Time to surface [min]:"),de(),se(45,"td",9)(46,"div"),Ie(47),cn(48,"number"),de()(),se(49,"td",9)(50,"div"),Ie(51),cn(52,"number"),de()(),se(53,"td")(54,"div",11)(55,"strong"),Ie(56),cn(57,"number"),de(),Nt(58,"fa-icon",12),de()()(),se(59,"tr")(60,"td"),Ie(61),de(),se(62,"td",9)(63,"div"),Ie(64),cn(65,"number"),de()(),se(66,"td",9)(67,"div"),Ie(68),cn(69,"number"),de()(),se(70,"td")(71,"div",11)(72,"strong"),Ie(73),cn(74,"number"),de(),Nt(75,"fa-icon",12),de()()(),se(76,"tr")(77,"td"),Ie(78,"Rock bottom at [min]:"),de(),se(79,"td",9)(80,"div"),Ie(81),cn(82,"duration"),de()(),se(83,"td",9)(84,"div"),Ie(85),cn(86,"duration"),de()(),se(87,"td",10)(88,"div",11)(89,"strong"),Ie(90),cn(91,"duration"),de(),Nt(92,"fa-icon",12),de()()(),tn(93,qne,17,16,"tr",13)(94,ere,17,16,"tr",13)(95,tre,21,19,"tr",13)(96,nre,17,16,"tr",13)(97,rre,15,10,"tr",13),de()()),t&2){let e=lt();fe(10),Kn(e.profilesDiff.profileATitle),fe(7),Kn(e.profilesDiff.profileBTitle),fe(13),Ft(" ",un(31,30,e.resultsDiff.totalDuration.valueA,e.profileA.totalDuration)," "),fe(4),Ft(" ",un(35,33,e.resultsDiff.totalDuration.valueB,e.profileB.totalDuration)," "),fe(5),Ft(" ",un(40,36,e.resultsDiff.totalDuration.difference,e.resultsDiff.totalDuration.difference)," "),fe(2),Ne("icon",e.resultsDiff.totalDuration.arrow),fe(6),Ft(" ",un(48,39,e.resultsDiff.timeToSurface.valueA,"1.0-0")," "),fe(4),Ft(" ",un(52,42,e.resultsDiff.timeToSurface.valueB,"1.0-0")," "),fe(2),Q1("",e.resultsDiff.timeToSurface.bgColor," border-start border-end"),fe(3),Ft(" ",un(57,45,e.resultsDiff.timeToSurface.difference,"1.0-0")," "),fe(2),Ne("icon",e.resultsDiff.timeToSurface.arrow),fe(3),Ft("Average depth [",e.units.length,"]:"),fe(3),Ft(" ",un(65,48,e.resultsDiff.averageDepth.valueA,"1.0-1")," "),fe(4),Ft(" ",un(69,51,e.resultsDiff.averageDepth.valueB,"1.0-1")," "),fe(2),Q1("",e.resultsDiff.averageDepth.bgColor," border-start border-end"),fe(3),Ft(" ",un(74,54,e.resultsDiff.averageDepth.difference,"1.0-1")," "),fe(2),Ne("icon",e.resultsDiff.averageDepth.arrow),fe(6),Ft(" ",un(82,57,e.resultsDiff.emergencyAscentStart.valueA,e.profileA.emergencyAscentStart)," "),fe(4),Ft(" ",un(86,60,e.resultsDiff.emergencyAscentStart.valueB,e.profileB.emergencyAscentStart)," "),fe(5),Ft(" ",un(91,63,e.resultsDiff.emergencyAscentStart.difference,e.resultsDiff.emergencyAscentStart.difference)," "),fe(2),Ne("icon",e.resultsDiff.emergencyAscentStart.arrow),fe(),Ne("ngIf",e.diveInfosCalculated),fe(),Ne("ngIf",e.resultsDiff.showMaxBottomTime),fe(),Ne("ngIf",e.viewSwitch.isComplex),fe(),Ne("ngIf",e.areProfilesCalculated),fe(),Ne("ngIf",e.areProfilesCalculated)}}var _C=(()=>{class t{constructor(e,r,i,s){this.viewSwitch=e,this.units=r,this.profilesDiff=i,this.resultsDiff=s}get profileA(){return this.profilesDiff.profileAResults}get profileB(){return this.profilesDiff.profileBResults}get diveInfosCalculated(){return this.profilesDiff.diveInfosCalculated}get areProfilesCalculated(){return this.profilesDiff.profilesCalculated}static{this.\u0275fac=function(r){return new(r||t)(ht(Gs),ht(Fn),ht(Qa),ht(Ap))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-diff-diveresults-table"]],decls:2,vars:2,consts:[[3,"show"],["class","table table-sm",4,"ngIf"],[1,"table","table-sm"],["id","table-header"],[1,"bg-primary","text-light"],[1,"d-flex","justify-content-center","align-items-center"],[1,"profile-title"],[1,"bg-success","text-light"],[1,"bg-secondary","text-light"],[1,"border-start"],[1,"border-start","border-end"],[1,"delta","d-flex","justify-content-between","align-items-center"],[3,"icon"],[4,"ngIf"]],template:function(r,i){r&1&&(Nt(0,"app-calculating",0),tn(1,ire,98,66,"table",1)),r&2&&(Ne("show",!i.profilesDiff.bothResultsCalculated),fe(),Ne("ngIf",i.profilesDiff.bothResultsCalculated))},dependencies:[fr,xr,c1,Jr,s2],styles:["fa-icon[_ngcontent-%COMP%]{margin-left:.5rem!important;padding-left:.4rem}.delta[_ngcontent-%COMP%]{max-width:4.3rem}",".profile-title[_ngcontent-%COMP%]{text-align:center}.diff-max-height[_ngcontent-%COMP%]{max-height:450px;overflow-y:scroll}"]})}}return t})();var SC=(()=>{class t{constructor(){this.icon=Q4}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-diff-diveresults"]],decls:9,vars:1,consts:[[1,"card"],[1,"card-header"],[1,"float-start","mt-1"],[1,"me-3",3,"icon"],[1,"card-body","card-minheight","card-max-height-md"],[1,"pb-3"]],template:function(r,i){r&1&&(se(0,"div",0)(1,"div",1)(2,"div",2),Nt(3,"fa-icon",3),se(4,"span"),Ie(5,"Dive Results"),de()()(),se(6,"div",4)(7,"div",5),Nt(8,"app-diff-diveresults-table"),de()()()),r&2&&(fe(3),Ne("icon",i.icon))},dependencies:[xr,_C],styles:[".card-body[_ngcontent-%COMP%]{padding:.8rem}"]})}}return t})();var ore=(t,n)=>({"plot-display":t,"plot-hidden":n}),LC=(()=>{class t extends ji{constructor(e,r,i,s,a){super(),this.selectedWaypoints=i,this.profileComparatorService=s,this.reloadDispatcher=a,this.icon=D7;let o=new o3(r,e),c=o.wthNamePrefix("Profile A ").create(()=>this.profileA),l=o.wthNamePrefix("Profile B ").wthAverageDepthColor("rgb(188,191,192)").wthDepthColor(o3.depthLineColorB).wthCeilingColor(o3.depthLineColorB).wthEventFillColor(o3.depthLineColorB).wthEventLineColor("rgb(118,119,120)").create(()=>this.profileB);this.plotter=new h6("diveplotdiff",o,l,c),this.profileComparatorService.selectionChanged$.pipe(er(this.unsubscribe$)).subscribe(()=>{this.profilesCalculated&&this.plotCharts()}),this.selectedWaypoints.selectedChanged.pipe(er(this.unsubscribe$)).subscribe(u=>{this.selectWayPoint(u)}),this.reloadDispatcher.wayPointsCalculated$.pipe(er(this.unsubscribe$)).subscribe(()=>{this.profilesCalculated&&(this.plotCharts(),this.plotlyHoverLeave())})}get profilesCalculated(){return this.profileComparatorService.profilesCalculated}get profileA(){return this.profileComparatorService.profileAResults}get profileB(){return this.profileComparatorService.profileBResults}ngOnInit(){this.profilesCalculated&&(this.plotCharts(),this.hookChartEvents())}plotlyHover(e){let r=e.points[0].x.toString();this.selectedWaypoints.selectedTimeStamp=r}plotlyHoverLeave(){this.selectedWaypoints.selectedTimeStamp="",this.selectWayPoint(void 0)}selectWayPoint(e){if(!e){this.plotter.plotCursor(void 0);return}let r=e.durationA?e.wayPointA:e.wayPointB;this.plotter.plotCursor(r)}plotCharts(){this.plotter.plotCharts(this.profileComparatorService.totalDuration)}hookChartEvents(){let e=document.getElementById(this.plotter.elementName);e.on("plotly_hover",r=>this.plotlyHover(r)),e.on("plotly_click",r=>this.plotlyHover(r)),e.on("plotly_unhover",()=>this.plotlyHoverLeave())}static{this.\u0275fac=function(r){return new(r||t)(ht(Fn),ht(p6),ht(y6),ht(Qa),ht(Ei))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-diff-profilechart"]],features:[Nr],decls:8,vars:6,consts:[[1,"card"],[1,"card-header"],["flip","vertical",1,"me-3",3,"icon"],[1,"card-body","card-minheight"],[3,"show"],["id","diveplotdiff",1,"diveplot",3,"ngClass"]],template:function(r,i){r&1&&(se(0,"div",0)(1,"div",1),Nt(2,"fa-icon",2),se(3,"span"),Ie(4,"Profile chart"),de()(),se(5,"div",3),Nt(6,"app-calculating",4)(7,"div",5),de()()),r&2&&(fe(2),Ne("icon",i.icon),fe(4),Ne("show",!i.profilesCalculated),fe(),Ne("ngClass",vo(3,ore,i.profilesCalculated,!i.profilesCalculated)))},dependencies:[Za,xr,c1]})}}return t})();var cre=(t,n)=>({"btn-outline-secondary":t,"btn-secondary":n}),DC=(()=>{class t{constructor(e){this.profilesDiff=e,this.index=0,this.title="",this.disabled="disabled"}get state(){return this.index===this.profilesDiff.profileAIndex?"primary":this.index===this.profilesDiff.profileBIndex?"secondary":this.disabled}get selected(){return this.state!==this.disabled}selectProfile(){this.profilesDiff.selectProfile(this.index)}static{this.\u0275fac=function(r){return new(r||t)(ht(Qa))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-diff-tabs-button"]],inputs:{index:"index",title:"title"},decls:8,vars:6,consts:[[1,"no-wrap"],[1,"label-header"],[1,"profile-header","primary-header"],[1,"profile-header","secondary-header"],["type","button",1,"btn",3,"click","ngClass"]],template:function(r,i){r&1&&(se(0,"div",0)(1,"div",1)(2,"div",2),Ie(3," PROFILE A "),de(),se(4,"div",3),Ie(5," PROFILE B "),de()(),se(6,"button",4),Bt("click",function(){return i.selectProfile()}),Ie(7),de()()),r&2&&(fe(),Ne("@labelState",i.state),fe(5),Ne("ngClass",vo(3,cre,i.selected,!i.selected)),fe(),Ft(" ",i.title,""))},dependencies:[Za],styles:["button[_ngcontent-%COMP%]{margin-left:.5rem;position:relative;z-index:100}.btn-success[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{transition:color .6s}.profile-header[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;text-align:center;font-size:smaller;border-top-left-radius:5px;border-top-right-radius:5px}.primary-header[_ngcontent-%COMP%]{background-color:#3b71ca;color:#fff;transform:rotateX(180deg);backface-visibility:hidden}.secondary-header[_ngcontent-%COMP%]{background-color:#14a44d;color:#fff;backface-visibility:hidden}.label-header[_ngcontent-%COMP%]{position:relative;height:21px;margin-left:8px;transform-style:preserve-3d;z-index:1}.no-wrap[_ngcontent-%COMP%]{white-space:nowrap}"],data:{animation:[xh("labelState",[Tc("primary",qo({transform:"rotateX(180deg)",borderBottomLeftRadius:0,borderBottomRightRadius:0})),Tc("secondary",qo({transform:"none"})),Tc("disabled",qo({visibility:"hidden",transform:"translateY(21px)"})),Ac("disabled => secondary",[Dc("400ms")]),Ac("secondary => primary",[Dc("500ms")]),Ac("primary => disabled",[Dc("400ms",IT([qo({transform:"rotateX(180deg)",offset:0}),qo({transform:"rotateX(180deg) translateY(-21px)",offset:1})]))])])]}})}}return t})();function fre(t,n){if(t&1&&Nt(0,"app-diff-tabs-button",1),t&2){let e=n.$implicit,r=n.index;Ne("index",r)("title",e.title)}}var TC=(()=>{class t{constructor(e){this.schedules=e}static{this.\u0275fac=function(r){return new(r||t)(ht(kr))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-diff-tabs"]],decls:2,vars:1,consts:[[3,"index","title",4,"ngFor","ngForOf"],[3,"index","title"]],template:function(r,i){r&1&&(se(0,"form"),tn(1,fre,1,2,"app-diff-tabs-button",0),de()),r&2&&(fe(),Ne("ngForOf",i.schedules.dives))},dependencies:[Ta,Xa,Rr,DC],styles:["form[_ngcontent-%COMP%]{display:flex;padding-top:1.5rem!important;width:100%;flex-direction:row;flex-wrap:wrap;height:100%;position:relative}"]})}}return t})();var x6=class{constructor(n,e,r){this.gas=n,this.profileA=e,this.profileB=r,this.fiftyPercent=50}get remainingProfileA(){return this.profileA.total-this.profileA.consumed}get remainingProfileB(){return this.profileB.total-this.profileB.consumed}get gasRemainingDifference(){return this.remainingProfileA-this.remainingProfileB}get absoluteRemainingDifference(){return Math.abs(this.gasRemainingDifference)}get gasReserveDifference(){return this.profileA.reserve-this.profileB.reserve}get absoluteReserveDifference(){return Math.abs(this.gasReserveDifference)}get reserveRight(){return this.gasReserveDifference>0}get remainingRight(){return this.gasRemainingDifference>0}get gasRemainingPercentageDifference(){let n=this.remainingProfileA+this.remainingProfileB;if(n===0)return 0;let e=this.remainingProfileA/n,r=this.remainingProfileB/n;return Math.abs(e-r)*this.fiftyPercent}get gasReservePercentageDifference(){let n=this.profileA.reserve+this.profileB.reserve;if(n===0)return 0;let e=this.profileA.reserve/n,r=this.profileB.reserve/n;return Math.abs(e-r)*this.fiftyPercent}},zp=(()=>{class t{constructor(e,r){this.units=e,this.profileDiff=r}get gasesDifference(){let e=[],r={total:0,consumed:0,reserve:0};for(let i of this.profileDiff.profileAConsumed){let s=this.profileDiff.profileBConsumed.find(c=>c.gas.contentCode===i.gas.contentCode),a=s?this.toProfileConsumed(s):r,o=new x6(i.gas,this.toProfileConsumed(i),a);e.push(o)}for(let i of this.profileDiff.profileBConsumed)if(!e.find(s=>s.gas.contentCode===i.gas.contentCode)){let s=new x6(i.gas,r,this.toProfileConsumed(i));e.push(s)}return e}toProfileConsumed(e){return{total:this.units.fromLiter(e.total),consumed:this.units.fromLiter(e.consumed),reserve:this.units.fromLiter(e.reserve)}}static{this.\u0275fac=function(r){return new(r||t)($t(Fn),$t(Qa))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();var FI=t=>({flip:t});function pre(t,n){if(t&1&&Nt(0,"fa-icon",24),t&2){let e=lt();Ne("icon",e.faArrowLeft)}}function mre(t,n){if(t&1&&(se(0,"strong"),Ie(1),cn(2,"number"),de()),t&2){let e=lt();fe(),Ft(" ",un(2,1,e.gasDiff.absoluteRemainingDifference,"1.0-0")," ")}}function vre(t,n){if(t&1&&Nt(0,"fa-icon",24),t&2){let e=lt();Ne("icon",e.faArrowRight)}}function gre(t,n){if(t&1&&Nt(0,"fa-icon",25),t&2){let e=lt();Ne("icon",e.faMinus)}}function yre(t,n){if(t&1&&(se(0,"small",7),Ie(1),cn(2,"number"),cn(3,"number"),de()),t&2){let e=lt();fe(),Oa(" Gas remaining: ",un(2,3,e.gasDiff.remainingProfileA,"1.0-0"),"/",un(3,6,e.gasTotalProfileA,"1.0-0")," ",e.units.volume," ")}}function xre(t,n){if(t&1&&(se(0,"small",26),Ie(1),cn(2,"number"),cn(3,"number"),de()),t&2){let e=lt();fe(),Oa(" Gas remaining: ",un(2,3,e.gasDiff.remainingProfileB,"1.0-0"),"/",un(3,6,e.gasTotalProfileB,"1.0-0")," ",e.units.volume," ")}}function bre(t,n){if(t&1&&Nt(0,"fa-icon",24),t&2){let e=lt();Ne("icon",e.faArrowLeft)}}function Cre(t,n){if(t&1&&(se(0,"strong"),Ie(1),cn(2,"number"),de()),t&2){let e=lt();fe(),Ft(" ",un(2,1,e.gasDiff.absoluteReserveDifference,"1.0-0")," ")}}function Mre(t,n){if(t&1&&Nt(0,"fa-icon",24),t&2){let e=lt();Ne("icon",e.faArrowRight)}}function wre(t,n){if(t&1&&Nt(0,"fa-icon",25),t&2){let e=lt();Ne("icon",e.faMinus)}}function _re(t,n){if(t&1&&(se(0,"small",7),Ie(1),cn(2,"number"),cn(3,"number"),de()),t&2){let e=lt();fe(),Oa(" Reserve: ",un(2,3,e.gasReserveProfileA,"1.0-0"),"/",un(3,6,e.gasTotalProfileA,"1.0-0")," ",e.units.volume," ")}}function Sre(t,n){if(t&1&&(se(0,"small",26),Ie(1),cn(2,"number"),cn(3,"number"),de()),t&2){let e=lt();fe(),Oa(" Reserve: ",un(2,3,e.gasReserveProfileB,"1.0-0"),"/",un(3,6,e.gasTotalProfileB,"1.0-0")," ",e.units.volume," ")}}function Lre(t,n){t&1&&(se(0,"small",7),Ie(1," Not available "),de())}function Dre(t,n){t&1&&Nt(0,"small")}var AC=(()=>{class t{constructor(e,r){this.units=e,this.profileDiff=r,this.gasDiff=new x6(ma.air.copy(),{total:0,consumed:0,reserve:0},{total:0,consumed:0,reserve:0}),this.collapsed=!1,this.faArrowLeft=UE,this.faArrowRight=z7,this.faMinus=_l}get gasName(){return this.gasDiff.gas.name}get gasTotalProfileA(){return this.gasDiff.profileA.total}get gasTotalProfileB(){return this.gasDiff.profileB.total}get gasReserveProfileA(){return this.gasDiff.profileA.reserve}get gasReserveProfileB(){return this.gasDiff.profileB.reserve}static{this.\u0275fac=function(r){return new(r||t)(ht(Fn),ht(Qa))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-diff-gas-consumed-tank-chart"]],inputs:{gasDiff:"gasDiff",collapsed:"collapsed"},decls:54,vars:36,consts:[["missingTank",""],["whiteSpace",""],[1,"my-2"],[1,"text-start"],[2,"position","relative"],[1,"difference-text"],[1,"d-flex","flex-row","justify-content-around"],[1,"text-start","text-muted"],["class","text-success",3,"icon",4,"ngIf"],[4,"ngIf"],[3,"icon",4,"ngIf"],[1,"d-flex","flex-row","z-index-1"],[1,"legend-bars","rounded","bg-primary","m-1"],[1,"d-flex","flex-row","justify-content-between","w-100"],["class","text-start text-muted",4,"ngIf","ngIfElse"],["class","text-end text-muted",4,"ngIf","ngIfElse"],[1,"d-flex","flex-row"],[1,"legend-bars","rounded","bg-warning","m-1"],["class","text-end text-muted",4,"ngIf"],[1,"progress","gas-bar","mt-1","mb-2"],[1,"reserve-bar","rounded-progress"],[1,"combined_wrapper",3,"ngClass"],["role","progressbar",1,"progress-bar","rounded-progress","bg-primary"],["role","progressbar",1,"progress-bar","rounded-progress","bg-warning"],[1,"text-success",3,"icon"],[3,"icon"],[1,"text-end","text-muted"]],template:function(r,i){if(r&1&&(se(0,"div",2)(1,"div")(2,"strong",3),Ie(3),de()(),se(4,"div",4)(5,"div",5)(6,"small")(7,"strong"),Ie(8,"Difference"),de()()(),se(9,"div",6)(10,"small")(11,"strong",7),Ie(12),de()(),se(13,"small")(14,"strong",7),Ie(15),de()()()(),se(16,"div",4)(17,"div",5)(18,"small"),tn(19,pre,1,1,"fa-icon",8)(20,mre,3,4,"strong",9)(21,vre,1,1,"fa-icon",8)(22,gre,1,1,"fa-icon",10),de()(),se(23,"div",11),Nt(24,"div",12),se(25,"div",13),tn(26,yre,4,9,"small",14)(27,xre,4,9,"small",15),de()()(),se(28,"div",4)(29,"div",5)(30,"small"),tn(31,bre,1,1,"fa-icon",8)(32,Cre,3,4,"strong",9)(33,Mre,1,1,"fa-icon",8)(34,wre,1,1,"fa-icon",10),de()(),se(35,"div",16),Nt(36,"div",17),se(37,"div",13),tn(38,_re,4,9,"small",14)(39,Sre,4,9,"small",18),de()()(),se(40,"div",19),Nt(41,"div",20),se(42,"div",21)(43,"div",22),Ie(44),cn(45,"number"),de()(),se(46,"div",21)(47,"div",23),Ie(48),cn(49,"number"),de()()()(),tn(50,Lre,2,0,"ng-template",null,0,wu)(52,Dre,1,0,"ng-template",null,1,wu)),r&2){let s=_c(51),a=_c(53);fe(3),Kn(i.gasName),fe(9),Kn(i.profileDiff.profileATitle),fe(3),Kn(i.profileDiff.profileBTitle),fe(4),Ne("ngIf",i.gasDiff.gasRemainingDifference>0),fe(),Ne("ngIf",i.gasDiff.gasRemainingDifference!=0),fe(),Ne("ngIf",i.gasDiff.gasRemainingDifference<0),fe(),Ne("ngIf",i.gasDiff.gasRemainingDifference===0),fe(4),Ne("ngIf",i.gasTotalProfileA!=0)("ngIfElse",s),fe(),Ne("ngIf",i.gasTotalProfileB!=0)("ngIfElse",s),fe(4),Ne("ngIf",i.gasDiff.gasReserveDifference>0),fe(),Ne("ngIf",i.gasDiff.gasReserveDifference!=0),fe(),Ne("ngIf",i.gasDiff.gasReserveDifference<0),fe(),Ne("ngIf",i.gasDiff.gasReserveDifference===0),fe(4),Ne("ngIf",i.gasTotalProfileA!=0)("ngIfElse",a),fe(),Ne("ngIf",i.gasTotalProfileB!=0),fe(3),Ne("ngClass",T1(32,FI,i.gasDiff.remainingRight)),fe(),C0("width",i.gasDiff.gasRemainingPercentageDifference+"%"),fe(),Ft(" ",un(45,26,i.gasDiff.absoluteRemainingDifference,"1.0-0"),""),fe(2),Ne("ngClass",T1(34,FI,i.gasDiff.reserveRight)),fe(),C0("width",i.gasDiff.gasReservePercentageDifference+"%"),fe(),Ft(" ",un(49,29,i.gasDiff.absoluteReserveDifference,"1.0-0"),"")}},dependencies:[Za,fr,xr,Jr],styles:[".gas-bar[_ngcontent-%COMP%]{padding:5px 8px;height:4em;font-size:1em;border:1px solid #a1a1a1;border-radius:.5em;background:transparent;box-shadow:none;overflow:visible;position:relative;display:flex;flex-direction:column;justify-content:space-between}.rounded-progress[_ngcontent-%COMP%]{position:absolute;height:100%;left:50%}.reserve-overlay[_ngcontent-%COMP%]{position:relative}.reserve-value[_ngcontent-%COMP%]{position:absolute;bottom:-7.75em;right:5px;text-align:right}.reserve-bar[_ngcontent-%COMP%]{position:absolute;padding:0;height:5.25em;top:0;left:calc(50% - 2px);width:3px;background:#a9a9a9;text-align:right;font-size:.75em;z-index:101}.combined_wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:1.5em;z-index:100}.flip[_ngcontent-%COMP%], .flip[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{transform:scaleX(-1)}.legend-bars[_ngcontent-%COMP%]{width:16px;height:16px;align-content:center;display:flex;padding-right:.5em;padding-left:.5em}.z-index-1[_ngcontent-%COMP%]{z-index:1}.difference-text[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:2}.difference-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{padding-left:.2em;padding-right:.2em}"]})}}return t})();function Are(t,n){if(t&1&&Nt(0,"app-diff-gas-consumed-tank-chart",8),t&2){let e=n.$implicit;Ne("gasDiff",e)}}function zre(t,n){if(t&1&&(Mi(0),tn(1,Are,1,1,"app-diff-gas-consumed-tank-chart",7),wi()),t&2){let e=lt();fe(),Ne("ngForOf",e.gasesDifference)}}var zC=(()=>{class t{constructor(e,r){this.profileDif=e,this.gasesDiff=r,this.icon=Q4}get gasesDifference(){return this.gasesDiff.gasesDifference}static{this.\u0275fac=function(r){return new(r||t)(ht(Qa),ht(zp))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-diff-gas-consumed"]],decls:9,vars:2,consts:[[1,"card"],[1,"card-header"],[1,"float-start","mt-1"],[1,"me-3",3,"icon"],[1,"card-body","card-minheight","card-max-height-md"],[1,"pb-3"],[4,"ngIf"],[3,"gasDiff",4,"ngFor","ngForOf"],[3,"gasDiff"]],template:function(r,i){r&1&&(se(0,"div",0)(1,"div",1)(2,"div",2),Nt(3,"fa-icon",3),se(4,"span"),Ie(5,"Gas Consumed"),de()()(),se(6,"div",4)(7,"div",5),tn(8,zre,2,1,"ng-container",6),de()()()),r&2&&(fe(3),Ne("icon",i.icon),fe(5),Ne("ngIf",i.profileDif.showConsumption))},dependencies:[Ta,fr,xr,AC],styles:[".profile-title[_ngcontent-%COMP%]{text-align:center}.diff-max-height[_ngcontent-%COMP%]{max-height:450px;overflow-y:scroll}"]})}}return t})();function Ire(t,n){if(t&1){let e=ar();se(0,"div",6),Nt(1,"fa-icon",7),se(2,"span"),Ie(3,"There is only one dive planned. If you want to compare dives, define at least two."),de(),se(4,"button",8),Bt("click",function(){Dn(e);let i=lt();return Tn(i.goToDashboard())}),Ie(5,"Go to planner"),de()()}if(t&2){let e=lt();fe(),Ne("icon",e.exclamation)}}var EC=(()=>{class t extends ji{constructor(e,r,i,s){super(),this.diff=e,this.viewStates=r,this.schedules=i,this.router=s,this.exclamation=L7}ngOnInit(){this.loadState(),this.saveState(),this.diff.selectionChanged$.pipe(er(this.unsubscribe$)).subscribe(()=>this.saveState())}goToDashboard(){return J6(this,null,function*(){yield this.router.navigate(["/"])})}loadState(){let e=this.viewStates.loadView(Hr.diff);e||(e={id:Hr.diff,profileA:0,profileB:0});let r=this.resolveValidProfile(e.profileA);this.diff.selectProfile(r);let i=this.resolveValidProfile(e.profileB);this.diff.selectProfile(i)}resolveValidProfile(e){return e<0||this.schedules.length<=e?0:e}saveState(){let e={id:Hr.diff,profileA:this.diff.profileAIndex,profileB:this.diff.profileBIndex};this.viewStates.saveView(e)}static{this.\u0275fac=function(r){return new(r||t)(ht(Qa),ht(va),ht(kr),ht(N1))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-diff"]],features:[Nr],decls:13,vars:1,consts:[[1,"mt-5"],[1,"row"],["class","alert alert-info fade show mt-4","role","alert",4,"ngIf"],[1,"col-12","col-xl-6","col-xxl-6","mt-4","h-100"],[1,"col-xl-6","mt-4","h-100"],[1,"col-xl-6","col-xxl-6","mt-4","h-100"],["role","alert",1,"alert","alert-info","fade","show","mt-4"],[1,"me-2","fa-lg",3,"icon"],["type","button","data-bs-dismiss","alert",1,"btn","btn-sm","btn-primary","ms-2",3,"click"]],template:function(r,i){r&1&&(se(0,"div",0)(1,"div",1),Nt(2,"app-diff-tabs"),de(),tn(3,Ire,6,1,"div",2),se(4,"div",1)(5,"div",3),Nt(6,"app-diff-profilechart"),de(),se(7,"div",4),Nt(8,"app-diff-waypoints"),de(),se(9,"div",5),Nt(10,"app-diff-diveresults"),de(),se(11,"div",5),Nt(12,"app-diff-gas-consumed"),de()()()),r&2&&(fe(3),Ne("ngIf",!i.diff.hasTwoProfiles))},dependencies:[fr,xr,wC,SC,LC,TC,zC],styles:[".profile-title[_ngcontent-%COMP%]{text-align:center}.diff-max-height[_ngcontent-%COMP%]{max-height:450px;overflow-y:scroll}"]})}}return t})();var Ep=(()=>{class t{constructor(e){this.units=e,this._firstTank=new us(Yi.createDefault(),this.units),this._secondTank=new us(Yi.createDefault(),this.units)}get firstTank(){return this._firstTank}get secondTank(){return this._secondTank}get finalPressure(){let e=this._firstTank.tank,r=this._secondTank.tank,i=r6.redundancies(e,r);return i=this.units.fromBar(i),i}static{this.\u0275fac=function(r){return new(r||t)($t(Fn))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();function kre(t,n){if(t&1&&(se(0,"div",25),Ie(1),de()),t&2){let e=lt();fe(),Ft("Needs to be number ",e.ranges.tankSizeLabel,"")}}function Nre(t,n){if(t&1){let e=ar();se(0,"div",13)(1,"label",26),Ie(2),de(),se(3,"input",27),Bt("input",function(){Dn(e);let i=lt();return Tn(i.inputChanged())}),de(),se(4,"div",16),Ie(5),de()()}if(t&2){let e=lt();fe(2),Ft("Working pressure [",e.units.pressure,"]: "),fe(),Mn("is-invalid",e.firstTankWorkPressureInvalid),Ne("min",e.ranges.tankPressure[0])("max",e.ranges.tankPressure[1]),fe(2),Ft("Needs to be number ",e.ranges.tankPressureLabel,"")}}function Pre(t,n){if(t&1&&(se(0,"div",25),Ie(1),de()),t&2){let e=lt();fe(),Ft("Needs to be number ",e.ranges.tankSizeLabel,"")}}function Rre(t,n){if(t&1){let e=ar();se(0,"div",13)(1,"label",28),Ie(2),de(),se(3,"input",29),Bt("input",function(){Dn(e);let i=lt();return Tn(i.inputChanged())}),de(),se(4,"div",16),Ie(5),de()()}if(t&2){let e=lt();fe(2),Ft("Working pressure [",e.units.pressure,"]: "),fe(),Mn("is-invalid",e.secondTankWorkPressureInvalid),Ne("min",e.ranges.tankPressure[0])("max",e.ranges.tankPressure[1]),fe(2),Ft("Needs to be number ",e.ranges.tankPressureLabel,"")}}var IC=(()=>{class t{constructor(e,r,i,s,a,o){this.location=e,this.units=r,this.viewStates=i,this.fb=s,this.validators=a,this.inputs=o,this.calcIcon=$E,this.calc=new Ep(this.units)}get ranges(){return this.units.ranges}get firstTank(){return this.calc.firstTank}get secondTank(){return this.calc.secondTank}get firstTankSizeInvalid(){let e=this.redForm.controls.firstTankSize;return this.inputs.controlInValid(e)}get firstTankWorkPressureInvalid(){let e=this.redForm.controls.firstTankWorkPressure;return this.inputs.controlInValid(e)}get firstTankPressureInvalid(){let e=this.redForm.controls.firstTankPressure;return this.inputs.controlInValid(e)}get secondTankSizeInvalid(){let e=this.redForm.controls.secondTankSize;return this.inputs.controlInValid(e)}get secondTankWorkPressureInvalid(){let e=this.redForm.controls.secondTankWorkPressure;return this.inputs.controlInValid(e)}get secondTankPressureInvalid(){let e=this.redForm.controls.secondTankPressure;return this.inputs.controlInValid(e)}ngOnInit(){if(this.loadState(),this.saveState(),this.redForm=this.fb.group({firstTankSize:[Qt.round(this.firstTank.size,1),this.validators.tankSize],firstTankPressure:[Qt.round(this.firstTank.startPressure,1),this.validators.tankPressure],secondTankSize:[Qt.round(this.secondTank.size,1),this.validators.tankSize],secondTankPressure:[Qt.round(this.secondTank.startPressure,1),this.validators.tankPressure]}),this.units.imperialUnits){let e=this.fb.control(Qt.round(this.firstTank.workingPressure,1),this.validators.tankPressure);this.redForm.addControl("firstTankWorkPressure",e);let r=this.fb.control(Qt.round(this.secondTank.workingPressure,1),this.validators.tankPressure);this.redForm.addControl("secondTankWorkPressure",r)}}applyTemplate(e,r){this.redForm.invalid||(r.workingPressure=e.workingPressure,this.redForm.patchValue({firstTankWorkPressure:this.firstTank.workingPressure,secondTankWorkPressure:this.secondTank.workingPressure}),this.inputChanged())}inputChanged(){if(this.redForm.invalid)return;let e=this.redForm.value;this.calc.firstTank.size=Number(e.firstTankSize),this.calc.firstTank.startPressure=Number(e.firstTankPressure),this.calc.firstTank.workingPressure=Number(e.firstTankWorkPressure),this.calc.secondTank.size=Number(e.secondTankSize),this.calc.secondTank.startPressure=Number(e.secondTankPressure),this.calc.secondTank.workingPressure=Number(e.secondTankWorkPressure),this.saveState()}loadState(){let e=this.viewStates.loadView(Hr.redundancies);e||(e=this.createDefaultState()),this.loadTank(this.calc.firstTank,e.firstTank),this.loadTank(this.calc.secondTank,e.secondTank)}loadTank(e,r){e.startPressure=this.units.fromBar(r.startPressure),e.workingPressure=this.units.fromBar(r.workingPressure),e.size=this.units.fromTankLiters(r.size,r.workingPressure)}saveState(){let e=this.createTankStateFrom(this.calc.firstTank),r=this.createTankStateFrom(this.calc.secondTank),i=this.createState(e,r);this.viewStates.saveView(i)}createDefaultState(){let e=this.units.defaults.tanks.primary,r=this.units.toBar(e.workingPressure),i=this.units.toTankLiters(e.size,r),s=this.createTankState(200,r,i),a=this.createTankState(200,r,i);return this.createState(s,a)}createState(e,r){return{id:Hr.redundancies,firstTank:e,secondTank:r}}createTankStateFrom(e){let r=this.units.toBar(e.startPressure),i=this.units.toBar(e.workingPressure),s=this.units.toTankLiters(e.size,i);return this.createTankState(r,i,s)}createTankState(e=200,r=0,i=15){return{startPressure:e,workingPressure:r,size:i}}static{this.\u0275fac=function(r){return new(r||t)(ht(pa),ht(Fn),ht(va),ht(Fr),ht(Pr),ht(qr))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-redundancies"]],decls:50,vars:30,consts:[[3,"formGroup"],[1,"row","mt-5"],[1,"col","col-12","col-lg-8","col-xxl-6","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body","row"],[1,"col","col-12","col-sm-6","col-md-4"],[1,"pt-2","mb-4"],["for","tankSize","mdbLabel","",1,"form-label"],["controlName","firstTankSize",3,"sizeChange","applyTemplate","sizeForm","tank"],["class","text-danger form-text position-absolute",4,"ngIf"],["class","mb-4",4,"ngIf"],[1,"mb-4"],["for","firstTankPressure","mdbLabel","",1,"form-label"],["type","number","id","firstTankPressure","formControlName","firstTankPressure","required","","step","1",1,"form-control",3,"input","min","max"],[1,"invalid-feedback","position-absolute"],["controlName","secondTankSize",3,"sizeChange","applyTemplate","sizeForm","tank"],["for","secondTankPressure","mdbLabel","",1,"form-label"],["type","number","id","secondTankPressure","formControlName","secondTankPressure","required","","step","1",1,"form-control",3,"input","min","max"],["for","finalPressure","mdbLabel","",1,"form-label"],["name","finalPressure","id","finalPressure","readonly","",1,"form-control","readonly",3,"readonly","value"],[1,"row"],[1,"form-group","mt-3"],["type","button",1,"btn","btn-primary","me-2",3,"click"],[1,"text-danger","form-text","position-absolute"],["for","firstTankWorkPressure","mdbLabel","",1,"form-label"],["type","number","id","firstTankWorkPressure","formControlName","firstTankWorkPressure","required","","step","1",1,"form-control",3,"input","min","max"],["for","secondTankWorkPressure","mdbLabel","",1,"form-label"],["type","number","id","secondTankWorkPressure","formControlName","secondTankWorkPressure","required","","step","1",1,"form-control",3,"input","min","max"]],template:function(r,i){r&1&&(se(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),Nt(5,"fa-icon",5),se(6,"span"),Ie(7,"Gas mixture"),de()(),se(8,"div",6)(9,"div",7)(10,"div"),Ie(11,"First tank"),de(),se(12,"div")(13,"div",8)(14,"label",9),Ie(15),de(),se(16,"app-tank-size",10),Bt("sizeChange",function(){return i.inputChanged()})("applyTemplate",function(a){return i.applyTemplate(a,i.firstTank)}),de(),tn(17,kre,2,1,"div",11),de()(),tn(18,Nre,6,6,"div",12),se(19,"div",13)(20,"label",14),Ie(21),de(),se(22,"input",15),Bt("input",function(){return i.inputChanged()}),de(),se(23,"div",16),Ie(24),de()()(),se(25,"div",7)(26,"div"),Ie(27,"Second tank"),de(),se(28,"div")(29,"div",8)(30,"label",9),Ie(31),de(),se(32,"app-tank-size",17),Bt("sizeChange",function(){return i.inputChanged()})("applyTemplate",function(a){return i.applyTemplate(a,i.secondTank)}),de(),tn(33,Pre,2,1,"div",11),de()(),tn(34,Rre,6,6,"div",12),se(35,"div",13)(36,"label",18),Ie(37),de(),se(38,"input",19),Bt("input",function(){return i.inputChanged()}),de(),se(39,"div",16),Ie(40),de()()(),se(41,"div",7)(42,"label",20),Ie(43),de(),Nt(44,"input",21),cn(45,"number"),de()()()()(),se(46,"div",22)(47,"div",23)(48,"button",24),Bt("click",function(){return i.location.back()}),Ie(49,"Back"),de()()()()),r&2&&(Ne("formGroup",i.redForm),fe(5),Ne("icon",i.calcIcon),fe(10),Ft("Size [",i.units.volume,"]:"),fe(),Ne("sizeForm",i.redForm)("tank",i.firstTank),fe(),Ne("ngIf",i.firstTankSizeInvalid),fe(),Ne("ngIf",i.units.imperialUnits),fe(3),Ft("Start pressure [",i.units.pressure,"]: "),fe(),Mn("is-invalid",i.firstTankPressureInvalid),Ne("min",i.ranges.tankPressure[0])("max",i.ranges.tankPressure[1]),fe(2),Ft("Needs to be number ",i.ranges.tankPressureLabel,""),fe(7),Ft("Size [",i.units.volume,"]:"),fe(),Ne("sizeForm",i.redForm)("tank",i.secondTank),fe(),Ne("ngIf",i.secondTankSizeInvalid),fe(),Ne("ngIf",i.units.imperialUnits),fe(3),Ft("Start pressure [",i.units.pressure,"]: "),fe(),Mn("is-invalid",i.secondTankPressureInvalid),Ne("min",i.ranges.tankPressure[0])("max",i.ranges.tankPressure[1]),fe(2),Ft("Needs to be number ",i.ranges.tankPressureLabel,""),fe(3),Ft("Final pressure [",i.units.pressure,"]:"),fe(),Ne("readonly",!0)("value",un(45,27,i.calc.finalPressure,"1.0-1")))},dependencies:[fr,xr,Xa,Yr,vi,fi,Rr,ea,yi,gi,Or,oi,Oi,l2,Jr]})}}return t})();var b6=(()=>{class t{constructor(e){this.units=e,this._addO2=0,this._addHe=0,this._addTop=0,this._removeFromSource=0,this._unableToCalculate=!1,this._sourceTank=new us(Yi.createDefault(),this.units),this._sourceTank.startPressure=0,this._topMix=new us(Yi.createDefault(),this.units),this._topMix.assignStandardGas("EAN32"),this._targetTank=new us(Yi.createDefault(),this.units),this._targetTank.assignStandardGas("EAN32"),this.calculate()}get sourceTank(){return this._sourceTank}get topMix(){return this._topMix}get targetTank(){return this._targetTank}get addO2(){return this.units.fromBar(this._addO2)}get addHe(){return this.units.fromBar(this._addHe)}get addTop(){return this.units.fromBar(this._addTop)}get removeFromSource(){return this.units.fromBar(this._removeFromSource)}get needsRemove(){return this.removeFromSource>0}get unableToCalculate(){return this._unableToCalculate}calculate(){try{let e=this.createRequest(),r=r6.mix(e);this.applyResults(r),this._unableToCalculate=!1}catch{let e={addHe:0,addO2:0,addTop:0,removeFromSource:0};this.applyResults(e),this._unableToCalculate=!0}}createRequest(){let e=this._sourceTank.tank,r=this.targetTank.tank,i=this.topMix.tank;return{source:{pressure:e.startPressure,o2:e.gas.fO2,he:e.gas.fHe},target:{pressure:r.startPressure,o2:r.gas.fO2,he:r.gas.fHe},topMix:{o2:i.gas.fO2,he:i.gas.fHe}}}applyResults(e){this._addO2=e.addO2,this._addHe=e.addHe,this._addTop=e.addTop,this._removeFromSource=e.removeFromSource}static{this.\u0275fac=function(r){return new(r||t)($t(Fn))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();var Ip=(()=>{class t{constructor(e){this.gasBlender=e,this.o2UnitPrice=0,this.heUnitPrice=0,this.topMixUnitPrice=0,this.o2Price=0,this.hePrice=0,this.topMixPrice=0,this.totalPrice=0}calculate(){let e={addO2:this.gasBlender.addO2,addHe:this.gasBlender.addHe,addTop:this.gasBlender.addTop,o2UnitPrice:this.o2UnitPrice,heUnitPrice:this.heUnitPrice,topMixUnitPrice:this.topMixUnitPrice},r=Y7.price(e);this.o2Price=r.o2Price,this.hePrice=r.hePrice,this.topMixPrice=r.topMixPrice,this.totalPrice=r.totalPrice}static{this.\u0275fac=function(r){return new(r||t)($t(b6))}}static{this.\u0275prov=nn({token:t,factory:t.\u0275fac})}}return t})();var Fre=t=>({active:t});function Bre(t,n){if(t&1&&(se(0,"div",31),Ie(1),de()),t&2){let e=lt();fe(),Ft("Needs to be number ",e.ranges.tankHeLabel,"")}}function Vre(t,n){if(t&1&&(se(0,"div",31),Ie(1),de()),t&2){let e=lt();fe(),Ft(" Needs to be number ",e.ranges.tankPressureLabel,"")}}function Hre(t,n){if(t&1&&(se(0,"div",31),Ie(1),de()),t&2){let e=lt();fe(),Ft("Needs to be number ",e.ranges.tankHeLabel,"")}}function Ure(t,n){if(t&1&&(se(0,"div",31),Ie(1),de()),t&2){let e=lt();fe(),Ft("Needs to be number ",e.ranges.tankHeLabel,"")}}function jre(t,n){if(t&1&&(se(0,"div",31),Ie(1),de()),t&2){let e=lt();fe(),Ft(" Needs to be number ",e.ranges.tankPressureLabel,"")}}function Gre(t,n){if(t&1&&(se(0,"tr")(1,"td"),Ie(2),de(),se(3,"td",34),Ie(4),cn(5,"number"),de()()),t&2){let e=lt(2);fe(2),Ft("Remove from source [",e.units.pressure,"]"),fe(2),Kn(un(5,2,e.calc.removeFromSource,"1.0-1"))}}function $re(t,n){if(t&1&&(se(0,"table",32)(1,"tbody"),tn(2,Gre,6,5,"tr",33),se(3,"tr")(4,"td"),Ie(5),de(),se(6,"td",34),Ie(7),cn(8,"number"),de()(),se(9,"tr")(10,"td"),Ie(11),de(),se(12,"td",34),Ie(13),cn(14,"number"),de()(),se(15,"tr")(16,"td"),Ie(17),de(),se(18,"td",34),Ie(19),cn(20,"number"),de()()()()),t&2){let e=lt();fe(2),Ne("ngIf",e.calc.needsRemove),fe(3),Ft("Add O2 [",e.units.pressure,"]"),fe(2),Kn(un(8,7,e.calc.addO2,"1.0-1")),fe(4),Ft("Add He [",e.units.pressure,"]"),fe(2),Kn(un(14,10,e.calc.addHe,"1.0-1")),fe(4),Ft("Add Top mix [",e.units.pressure,"]"),fe(2),Kn(un(20,13,e.calc.addTop,"1.0-1"))}}function Wre(t,n){if(t&1&&(se(0,"div",35),Nt(1,"fa-icon",36),se(2,"span"),Ie(3,"Unable to calculate the required mix, because the Top mix contains more oxygen or helium, than target mix."),de()()),t&2){let e=lt();fe(),Ne("icon",e.exclamationIcon)}}function Yre(t,n){if(t&1&&(se(0,"div",31),Ie(1),de()),t&2){let e=lt(2);fe(),Ft("Needs to be number ",e.ranges.moneyLabel,"")}}function Zre(t,n){if(t&1&&(se(0,"div",31),Ie(1),de()),t&2){let e=lt(2);fe(),Ft("Needs to be number ",e.ranges.moneyLabel,"")}}function Xre(t,n){if(t&1&&(se(0,"div",31),Ie(1),de()),t&2){let e=lt(2);fe(),Ft("Needs to be number ",e.ranges.moneyLabel,"")}}function Kre(t,n){if(t&1){let e=ar();se(0,"div",2)(1,"div",3)(2,"div",4)(3,"span"),Ie(4,"Unit prices"),de()(),se(5,"div",10)(6,"div",11)(7,"label",37),Ie(8,"Unit price O2:"),de(),se(9,"input",38),Bt("input",function(){Dn(e);let i=lt();return Tn(i.applyChange())}),de(),tn(10,Yre,2,1,"div",16),de(),se(11,"div",11)(12,"label",39),Ie(13,"Unit price He:"),de(),se(14,"input",40),Bt("input",function(){Dn(e);let i=lt();return Tn(i.applyChange())}),de(),tn(15,Zre,2,1,"div",16),de(),se(16,"div",11)(17,"label",41),Ie(18,"Unit price Top mix:"),de(),se(19,"input",42),Bt("input",function(){Dn(e);let i=lt();return Tn(i.applyChange())}),de(),tn(20,Xre,2,1,"div",16),de()()()()}if(t&2){let e=lt();fe(9),Mn("is-invalid",e.o2UnitPriceInvalid),Ne("min",e.ranges.money[0])("max",e.ranges.money[1]),fe(),Ne("ngIf",e.o2UnitPriceInvalid),fe(4),Mn("is-invalid",e.heUnitPriceInvalid),Ne("min",e.ranges.money[0])("max",e.ranges.money[1]),fe(),Ne("ngIf",e.heUnitPriceInvalid),fe(4),Mn("is-invalid",e.topMixUnitPriceInvalid),Ne("min",e.ranges.money[0])("max",e.ranges.money[1]),fe(),Ne("ngIf",e.topMixUnitPriceInvalid)}}function Qre(t,n){if(t&1&&(se(0,"table",32)(1,"tbody")(2,"tr")(3,"td"),Ie(4,"O2 price"),de(),se(5,"td",34),Ie(6),cn(7,"number"),de()(),se(8,"tr")(9,"td"),Ie(10,"He price"),de(),se(11,"td",34),Ie(12),cn(13,"number"),de()(),se(14,"tr")(15,"td"),Ie(16,"Top mix price"),de(),se(17,"td",34),Ie(18),cn(19,"number"),de()(),se(20,"tr")(21,"td")(22,"strong"),Ie(23,"Total price"),de()(),se(24,"td",34)(25,"strong"),Ie(26),cn(27,"number"),de()()()()()),t&2){let e=lt(2);fe(6),Kn(un(7,4,e.pricing.o2Price,"1.0-1")),fe(6),Kn(un(13,7,e.pricing.hePrice,"1.0-1")),fe(6),Kn(un(19,10,e.pricing.topMixPrice,"1.0-1")),fe(8),Kn(un(27,13,e.pricing.totalPrice,"1.0-1"))}}function Jre(t,n){if(t&1&&(se(0,"div",25)(1,"div",3)(2,"div",4)(3,"span"),Ie(4,"Mix price"),de()(),se(5,"div",26),tn(6,Qre,28,16,"table",27),de()()()),t&2){let e=lt();fe(6),Ne("ngIf",!e.calc.unableToCalculate)}}var kC=(()=>{class t{constructor(e,r,i,s,a,o,c){this.units=e,this.calc=r,this.pricing=i,this.validators=s,this.inputs=a,this.viewStates=o,this.fb=c,this.calcIcon=I7,this.exclamationIcon=P1,this.dollarIcon=FE,this.showPricing=!1}get ranges(){return this.units.ranges}get sourceHeInvalid(){let e=this.blenderForm.controls.sourceHe;return this.inputs.controlInValid(e)}get topMixHeInvalid(){let e=this.blenderForm.controls.topMixHe;return this.inputs.controlInValid(e)}get targetHeInvalid(){let e=this.blenderForm.controls.targetHe;return this.inputs.controlInValid(e)}get sourcePressureInvalid(){let e=this.blenderForm.controls.sourcePressure;return this.inputs.controlInValid(e)}get targetPressureInvalid(){let e=this.blenderForm.controls.targetPressure;return this.inputs.controlInValid(e)}get o2UnitPriceInvalid(){let e=this.blenderForm.controls.o2UnitPrice;return this.inputs.controlInValid(e)}get heUnitPriceInvalid(){let e=this.blenderForm.controls.heUnitPrice;return this.inputs.controlInValid(e)}get topMixUnitPriceInvalid(){let e=this.blenderForm.controls.topMixUnitPrice;return this.inputs.controlInValid(e)}ngOnInit(){this.loadState(),this.saveState();let e=[0,this.ranges.tankPressure[1]],r=this.validators.rangeFor(e);this.blenderForm=this.fb.group({sourceO2:[this.calc.sourceTank.o2,this.validators.rangeFor(this.ranges.trimixOxygen)],sourceHe:[this.calc.sourceTank.he,this.validators.rangeFor(this.ranges.tankHe)],sourcePressure:[Qt.round(this.calc.sourceTank.startPressure,1),r],topMixO2:[this.calc.topMix.o2,this.validators.rangeFor(this.ranges.trimixOxygen)],topMixHe:[this.calc.topMix.he,this.validators.rangeFor(this.ranges.tankHe)],targetO2:[this.calc.targetTank.o2,this.validators.rangeFor(this.ranges.trimixOxygen)],targetHe:[this.calc.targetTank.he,this.validators.rangeFor(this.ranges.tankHe)],targetPressure:[Qt.round(this.calc.targetTank.startPressure,1),r],o2UnitPrice:[this.pricing.o2UnitPrice,this.validators.rangeFor(this.ranges.money)],heUnitPrice:[this.pricing.heUnitPrice,this.validators.rangeFor(this.ranges.money)],topMixUnitPrice:[this.pricing.topMixUnitPrice,this.validators.rangeFor(this.ranges.money)]})}applyChange(){if(this.blenderForm.invalid)return;let e=this.blenderForm.value;this.calc.sourceTank.o2=Number(e.sourceO2),this.calc.sourceTank.he=Number(e.sourceHe),this.calc.sourceTank.startPressure=Number(e.sourcePressure),this.calc.topMix.o2=Number(e.topMixO2),this.calc.topMix.he=Number(e.topMixHe),this.calc.targetTank.o2=Number(e.targetO2),this.calc.targetTank.he=Number(e.targetHe),this.calc.targetTank.startPressure=Number(e.targetPressure),this.pricing.o2UnitPrice=Number(e.o2UnitPrice),this.pricing.heUnitPrice=Number(e.heUnitPrice),this.pricing.topMixUnitPrice=Number(e.topMixUnitPrice),this.calculate(),this.saveState()}togglePricing(){this.showPricing=!this.showPricing}applyTemplate(){this.blenderForm.invalid||(this.blenderForm.patchValue({sourceO2:this.calc.sourceTank.o2,sourceHe:this.calc.sourceTank.he,topMixO2:this.calc.topMix.o2,topMixHe:this.calc.topMix.he,targetO2:this.calc.targetTank.o2,targetHe:this.calc.targetTank.he}),this.applyChange())}loadState(){let e=this.viewStates.loadView(Hr.blender);e||(e=this.createDefaultState()),this.applyState(e),this.calculate()}applyState(e){this.loadTankState(this.calc.sourceTank.tank,e.source),this.loadTankState(this.calc.targetTank.tank,e.target),this.calc.topMix.o2=e.topMix.o2,this.calc.topMix.he=e.topMix.he,e.prices&&(this.pricing.o2UnitPrice=e.prices.o2UnitPrice,this.pricing.heUnitPrice=e.prices.heUnitPrice,this.pricing.topMixUnitPrice=e.prices.topMixUnitPrice)}saveState(){let e={id:Hr.blender,source:this.toTankState(this.calc.sourceTank.tank),target:this.toTankState(this.calc.targetTank.tank),topMix:{o2:this.calc.topMix.tank.o2,he:this.calc.topMix.tank.he},prices:{o2UnitPrice:this.pricing.o2UnitPrice,heUnitPrice:this.pricing.heUnitPrice,topMixUnitPrice:this.pricing.topMixUnitPrice}};this.viewStates.saveView(e)}createDefaultState(){return{id:Hr.blender,source:{o2:da.o2InAir*100,he:0,pressure:0},target:{o2:ma.ean32.fO2*100,he:0,pressure:200},topMix:{o2:ma.ean32.fO2*100,he:0},prices:{o2UnitPrice:0,heUnitPrice:0,topMixUnitPrice:0}}}loadTankState(e,r){e.o2=r.o2,e.he=r.he,e.startPressure=r.pressure}toTankState(e){return{o2:e.o2,he:e.he,pressure:e.startPressure}}calculate(){this.calc.calculate(),this.pricing.calculate()}static{this.\u0275fac=function(r){return new(r||t)(ht(Fn),ht(b6),ht(Ip),ht(Pr),ht(qr),ht(va),ht(Fr))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-gas-blender"]],decls:63,vars:50,consts:[[3,"formGroup"],[1,"row","mt-5"],[1,"col","col-12","col-md-8","col-lg-6","col-xxl-5","mt-3"],[1,"card"],[1,"card-header"],[1,"float-start"],[1,"me-3",3,"icon"],[1,"float-end","me-1"],["type","button","data-toggle","button","autocomplete","off",1,"btn","btn-sm","btn-secondary",3,"click","ngClass"],[1,"fa-lg",3,"icon"],[1,"card-body","row"],[1,"col","col-12","col-sm-4","mb-2"],[1,"mb-2"],["controlName","sourceO2",3,"gasChange","standardGasApplied","tank","showBestMix","showTrimixGases","nitroxForm"],["for","sourceHe",1,"form-label"],["formControlName","sourceHe","type","number","step","1","required","","id","sourceHe",1,"form-control",3,"input","min","max"],["class","text-danger",4,"ngIf"],["for","sourcePressure",1,"form-label"],["formControlName","sourcePressure","type","number","required","","step","1","id","sourcePressure",1,"form-control",3,"input","min","max"],["controlName","topMixO2",3,"gasChange","standardGasApplied","tank","showBestMix","showTrimixGases","nitroxForm"],["for","topMixHe",1,"form-label"],["formControlName","topMixHe","type","number","step","1","required","","id","topMixHe",1,"form-control",3,"input","min","max"],["controlName","targetO2",3,"gasChange","standardGasApplied","tank","showBestMix","showTrimixGases","nitroxForm"],["formControlName","targetHe","type","number","step","1","required","","id","targetHe",1,"form-control",3,"input","min","max"],["formControlName","targetPressure","type","number","required","","step","1","id","targetPressure",1,"form-control",3,"input","min","max"],[1,"col","col-12","col-md-4","col-lg-4","col-xxl-3","mt-3"],[1,"card-body"],["class","table table-sm",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","col col-12 col-md-8 col-lg-6 col-xxl-5 mt-3",4,"ngIf"],["class","col col-12 col-md-4 col-lg-4 col-xxl-3 mt-3",4,"ngIf"],[1,"text-danger"],[1,"table","table-sm"],[4,"ngIf"],[1,"table-active"],[1,"alert","alert-danger"],[1,"me-2",3,"icon"],["for","o2UnitPrice",1,"form-label"],["formControlName","o2UnitPrice","type","number","step","1","required","","id","o2UnitPrice",1,"form-control",3,"input","min","max"],["for","heUnitPrice",1,"form-label"],["formControlName","heUnitPrice","type","number","step","1","required","","id","heUnitPrice",1,"form-control",3,"input","min","max"],["for","topMixUnitPrice",1,"form-label"],["formControlName","topMixUnitPrice","type","number","step","1","required","","id","topMixUnitPrice",1,"form-control",3,"input","min","max"]],template:function(r,i){r&1&&(se(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),Nt(6,"fa-icon",6),se(7,"span"),Ie(8,"Gas blender"),de()(),se(9,"div",7)(10,"button",8),Bt("click",function(){return i.togglePricing()}),Nt(11,"fa-icon",9),de()()(),se(12,"div",10)(13,"div",11)(14,"div"),Ie(15,"Source"),de(),se(16,"div",12)(17,"app-oxygen-dropdown",13),Bt("gasChange",function(){return i.applyChange()})("standardGasApplied",function(){return i.applyTemplate()}),de()(),se(18,"div",12)(19,"label",14),Ie(20,"He [%]:"),de(),se(21,"input",15),Bt("input",function(){return i.applyChange()}),de(),tn(22,Bre,2,1,"div",16),de(),se(23,"div")(24,"label",17),Ie(25),de(),se(26,"input",18),Bt("input",function(){return i.applyChange()}),de(),tn(27,Vre,2,1,"div",16),de()(),se(28,"div",11)(29,"div"),Ie(30,"Top mix"),de(),se(31,"div",12)(32,"app-oxygen-dropdown",19),Bt("gasChange",function(){return i.applyChange()})("standardGasApplied",function(){return i.applyTemplate()}),de()(),se(33,"div",12)(34,"label",20),Ie(35,"He [%]:"),de(),se(36,"input",21),Bt("input",function(){return i.applyChange()}),de(),tn(37,Hre,2,1,"div",16),de()(),se(38,"div",11)(39,"div"),Ie(40,"Target"),de(),se(41,"div",12)(42,"app-oxygen-dropdown",22),Bt("gasChange",function(){return i.applyChange()})("standardGasApplied",function(){return i.applyTemplate()}),de()(),se(43,"div",12)(44,"label",14),Ie(45,"He [%]:"),de(),se(46,"input",23),Bt("input",function(){return i.applyChange()}),de(),tn(47,Ure,2,1,"div",16),de(),se(48,"div")(49,"label",17),Ie(50),de(),se(51,"input",24),Bt("input",function(){return i.applyChange()}),de(),tn(52,jre,2,1,"div",16),de()()()()(),se(53,"div",25)(54,"div",3)(55,"div",4)(56,"span"),Ie(57,"Results"),de()(),se(58,"div",26),tn(59,$re,21,16,"table",27)(60,Wre,4,1,"div",28),de()()(),tn(61,Kre,21,15,"div",29)(62,Jre,7,1,"div",30),de()()),r&2&&(Ne("formGroup",i.blenderForm),fe(6),Ne("icon",i.calcIcon),fe(4),Ne("ngClass",T1(48,Fre,i.showPricing)),vs("aria-pressed",i.showPricing),fe(),Ne("icon",i.dollarIcon),fe(6),Ne("tank",i.calc.sourceTank)("showBestMix",!1)("showTrimixGases",!0)("nitroxForm",i.blenderForm),fe(4),Mn("is-invalid",i.sourceHeInvalid),Ne("min",i.ranges.tankHe[0])("max",i.ranges.tankHe[1]),fe(),Ne("ngIf",i.sourceHeInvalid),fe(3),Ft("Pressure [",i.units.pressure,"]:"),fe(),Mn("is-invalid",i.sourcePressureInvalid),Ne("min",0)("max",i.ranges.tankPressure[1]),fe(),Ne("ngIf",i.sourcePressureInvalid),fe(5),Ne("tank",i.calc.topMix)("showBestMix",!1)("showTrimixGases",!0)("nitroxForm",i.blenderForm),fe(4),Mn("is-invalid",i.topMixHeInvalid),Ne("min",i.ranges.tankHe[0])("max",i.ranges.tankHe[1]),fe(),Ne("ngIf",i.topMixHeInvalid),fe(5),Ne("tank",i.calc.targetTank)("showBestMix",!1)("showTrimixGases",!0)("nitroxForm",i.blenderForm),fe(4),Mn("is-invalid",i.targetHeInvalid),Ne("min",i.ranges.tankHe[0])("max",i.ranges.tankHe[1]),fe(),Ne("ngIf",i.targetHeInvalid),fe(3),Ft("Pressure [",i.units.pressure,"]:"),fe(),Mn("is-invalid",i.targetPressureInvalid),Ne("min",i.ranges.tankPressure[0])("max",i.ranges.tankPressure[1]),fe(),Ne("ngIf",i.targetPressureInvalid),fe(7),Ne("ngIf",!i.calc.unableToCalculate),fe(),Ne("ngIf",i.calc.unableToCalculate),fe(),Ne("ngIf",i.showPricing),fe(),Ne("ngIf",i.showPricing))},dependencies:[Za,fr,xr,Xa,Yr,vi,fi,Rr,ea,yi,gi,Or,oi,o2,Jr]})}}return t})();var qre=t=>{let n=Hn(N1),e=Hn(V2);if(t.queryParamMap.keys.length===0&&e.redirectToView){let i=`/${e.lastView}`;return Hn(pa).go(i),n.parseUrl(i)}return!0},eie=[{path:Hr.settings,component:Ub},{path:Hr.sac,component:mC},{path:Hr.nitrox,component:vC},{path:Hr.ndl,component:yC},{path:Hr.altitude,component:xC},{path:Hr.weight,component:bC},{path:Hr.gas,component:CC},{path:Hr.about,component:gC},{path:Hr.diff,component:EC},{path:Hr.redundancies,component:IC},{path:Hr.blender,component:kC},{path:"**",component:pC,canActivate:[qre]}],VI=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Qr({type:t})}static{this.\u0275inj=Kr({imports:[bb.forRoot(eie),bb]})}}return t})();var NC=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-footer"]],decls:4,vars:0,consts:[[1,"mt-5"],[1,"page-footer","font-small","bg-light","fixed-bottom","d-none","d-lg-block"],[1,"footer-copyright","text-center","py-2"]],template:function(r,i){r&1&&(Nt(0,"div",0),se(1,"footer",1)(2,"div",2),Nt(3,"app-info"),de()())},dependencies:[Wf]})}}return t})();var PC=(()=>{class t{constructor(e,r){this.schedules=e,this.urls=r,this.isNavbarCollapsed=!0,this.iconMenu=OE,this.iconAltitude=N7,this.iconRmv=E7,this.iconPlanner=WE,this.iconNdl=S7,this.iconWeight=T7,this.iconGasProperties=_7,this.iconNitrox=F7,this.iconBlender=I7}saveDefaults(){this.schedules.saveDefaults()}loadDefaults(){this.schedules.loadDefaults()}static{this.\u0275fac=function(r){return new(r||t)(ht(g6),ht(El))}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-mainmenu"]],decls:59,vars:11,consts:[["basicNavbar","mdbCollapse"],[1,"navbar","navbar-expand-md","navbar-dark","bg-primary","fixed-top"],[1,"container-fluid"],["routerLink","./",1,"navbar-brand","ps-3"],["type","button","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"me-3",3,"icon"],["id","navbarSupportedContent","mdbCollapse","",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],["mdbDropdown","",1,"nav-item","dropdown"],["id","id01","mdbDropdownToggle","",1,"nav-link","dropdown-toggle"],["aria-labelledby","id01","mdbDropdownMenu","",1,"dropdown-menu"],["routerLink","./",1,"dropdown-item"],[1,"me-2",3,"icon"],["routerLink","/sac",1,"dropdown-item"],["routerLink","/nitrox",1,"dropdown-item"],["routerLink","/gas",1,"dropdown-item"],["routerLink","/altitude",1,"dropdown-item"],["routerLink","/weight",1,"dropdown-item"],["routerLink","/ndl",1,"dropdown-item"],["routerLink","/redundancies",1,"dropdown-item"],["routerLink","/blender",1,"dropdown-item"],["id","id02","mdbDropdownToggle","",1,"nav-link","dropdown-toggle"],["aria-labelledby","id02","mdbDropdownMenu","",1,"dropdown-menu"],["routerLink","/settings",1,"dropdown-item"],[1,"dropdown-item",3,"click"],["routerLink","/diff",1,"nav-link"],["target","_blank",1,"nav-link",3,"href"],["routerLink","/about",1,"nav-link"],[1,"nav","navbar-nav","navbar-right"]],template:function(r,i){if(r&1){let s=ar();se(0,"nav",1)(1,"div",2)(2,"a",3),Ie(3,"Gas planner"),de(),se(4,"button",4),Bt("click",function(){Dn(s);let o=_c(7);return Tn(o.toggle())}),Nt(5,"fa-icon",5),de(),se(6,"div",6,0)(8,"ul",7)(9,"li",8)(10,"a",9),Ie(11,"Calculators"),de(),se(12,"div",10)(13,"a",11),Nt(14,"fa-icon",12),Ie(15,"Planner"),de(),se(16,"a",13),Nt(17,"fa-icon",12),Ie(18,"RMV/SAC"),de(),se(19,"a",14),Nt(20,"fa-icon",12),Ie(21,"Nitrox"),de(),se(22,"a",15),Nt(23,"fa-icon",12),Ie(24,"Gas properties"),de(),se(25,"a",16),Nt(26,"fa-icon",12),Ie(27,"Altitude"),de(),se(28,"a",17),Nt(29,"fa-icon",12),Ie(30,"Weight"),de(),se(31,"a",18),Nt(32,"fa-icon",12),Ie(33,"NDL table"),de(),se(34,"a",19),Ie(35,"Redundancies"),de(),se(36,"a",20),Nt(37,"fa-icon",12),Ie(38,"Gas blender"),de()()(),se(39,"li",8)(40,"a",21),Ie(41,"Settings"),de(),se(42,"div",22)(43,"a",23),Ie(44,"Edit"),de(),se(45,"a",24),Bt("click",function(){return Dn(s),Tn(i.saveDefaults())}),Ie(46,"Save defaults"),de(),se(47,"a",24),Bt("click",function(){return Dn(s),Tn(i.loadDefaults())}),Ie(48,"Reload defaults"),de()()(),se(49,"a",25),Ie(50,"Compare dives"),de(),se(51,"a",26),Ie(52,"Standard gases"),de(),se(53,"a",26),Ie(54,"Help/Learn"),de(),se(55,"a",27),Ie(56,"About"),de()(),se(57,"ul",28),Nt(58,"li"),de()()()()}r&2&&(fe(5),Ne("icon",i.iconMenu),fe(9),Ne("icon",i.iconPlanner),fe(3),Ne("icon",i.iconRmv),fe(3),Ne("icon",i.iconNitrox),fe(3),Ne("icon",i.iconGasProperties),fe(3),Ne("icon",i.iconAltitude),fe(3),Ne("icon",i.iconWeight),fe(3),Ne("icon",i.iconNdl),fe(5),Ne("icon",i.iconBlender),fe(14),x4("href",i.urls.standardGases,g4),fe(2),x4("href",i.urls.helpUrl,g4))},dependencies:[IE,xr,O4,Vs,Ds,Ts]})}}return t})();var HI=(()=>{class t{constructor(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Nn({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(r,i){r&1&&Nt(0,"app-mainmenu")(1,"router-outlet")(2,"app-footer")},dependencies:[pb,NC,PC]})}}return t})();var C6=class{constructor(n){this.worker=n,this.onCalculated=new nr,this.onFailed=new nr,this.calculated$=this.onCalculated.asObservable(),this.failed$=this.onFailed.asObservable(),this.worker.addEventListener("message",e=>this.processMessage(e)),this.worker.addEventListener("error",()=>this.onFailed.next())}calculate(n){this.worker.postMessage(n)}processMessage(n){this.onCalculated.next(n.data)}};var kp=class extends zl{createProfileWorker(){let n=new Worker(new URL("worker-FBE4NKPD.js",import.meta.url),{type:"module"});return new C6(n)}createDiveInfoWorker(){let n=new Worker(new URL("worker-LD5SRIZT.js",import.meta.url),{type:"module"});return new C6(n)}createConsumptionWorker(){let n=new Worker(new URL("worker-ZWAOOFCR.js",import.meta.url),{type:"module"});return new C6(n)}};var rie=[VI,lA,rh,mz,yh],iie=[Wh,Jh,qh,Vz,jz];var aie=[f6],sie=[{provide:zl,useClass:kp},q5,Jr,lp,Cp,rp,l6,kr,b6,qr,g6,Lp,Sp,Tl,op,bp,u6,H2,Ei,Ep,wp,m6,y6,c6,Mp,va,o6,Fn,El,Pr,V2,Gs,yp,Qa,zp,Ap,p6,Oo,xp,Ip],UI=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Qr({type:t,bootstrap:[HI]})}static{this.\u0275inj=Kr({providers:sie,imports:[rie,iie,aie,yz,zT.register("ngsw-worker.js",{enabled:Gc.production,registrationStrategy:"registerWhenStable:30000"})]})}}return t})();Gc.production&&void 0;WD().bootstrapModule(UI).catch(t=>console.error(t));
