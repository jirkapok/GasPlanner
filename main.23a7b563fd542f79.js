(self.webpackChunkplanner=self.webpackChunkplanner||[]).push([[792],{783:(Vo,B2,cs)=>{"use strict";function Ks(t,n,e,r,i,a,s){try{var l=t[a](s),x=l.value}catch(F){return void e(F)}l.done?n(x):Promise.resolve(x).then(r,i)}function Zt(t){return function(){var n=this,e=arguments;return new Promise(function(r,i){var a=t.apply(n,e);function s(x){Ks(a,r,i,s,l,"next",x)}function l(x){Ks(a,r,i,s,l,"throw",x)}s(void 0)})}}let j=null,p=1;const T=Symbol("SIGNAL");function h(t){const n=j;return j=t,n}function C(t){if((!b(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==p)){if(!t.producerMustRecompute(t)&&!_(t))return t.dirty=!1,void(t.lastCleanEpoch=p);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=p}}function _(t){P(t);for(let n=0;n<t.producerNode.length;n++){const e=t.producerNode[n],r=t.producerLastReadVersion[n];if(r!==e.version||(C(e),r!==e.version))return!0}return!1}function L(t,n){if(function I(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),P(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)L(t.producerNode[r],t.producerIndexOfThis[r]);const e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[n],i=t.liveConsumerNode[n];P(i),i.producerIndexOfThis[r]=n}}function b(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function P(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let U=null;function Se(t){return"function"==typeof t}function ye(t){const e=t(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const H=ye(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Y(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class te{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const a of e)a.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(Se(r))try{r()}catch(a){n=a instanceof H?a.errors:[a]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const a of i)try{ee(a)}catch(s){n=n??[],s instanceof H?n=[...n,...s.errors]:n.push(s)}}if(n)throw new H(n)}}add(n){var e;if(n&&n!==this)if(this.closed)ee(n);else{if(n instanceof te){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&Y(e,n)}remove(n){const{_finalizers:e}=this;e&&Y(e,n),n instanceof te&&n._removeParent(this)}}te.EMPTY=(()=>{const t=new te;return t.closed=!0,t})();const Z=te.EMPTY;function N(t){return t instanceof te||t&&"closed"in t&&Se(t.remove)&&Se(t.add)&&Se(t.unsubscribe)}function ee(t){Se(t)?t():t.unsubscribe()}const B={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},se={setTimeout(t,n,...e){const{delegate:r}=se;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=se;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function xe(t){se.setTimeout(()=>{const{onUnhandledError:n}=B;if(!n)throw t;n(t)})}function Te(){}const Ee=ct("C",void 0,void 0);function ct(t,n,e){return{kind:t,value:n,error:e}}let ft=null;function gt(t){if(B.useDeprecatedSynchronousErrorHandling){const n=!ft;if(n&&(ft={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:r}=ft;if(ft=null,e)throw r}}else t()}class Ve extends te{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,N(n)&&n.add(this)):this.destination=kt}static create(n,e,r){return new dt(n,e,r)}next(n){this.isStopped?Ot(function $e(t){return ct("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Ot(function Oe(t){return ct("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Ot(Ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pe=Function.prototype.bind;function Qe(t,n){return Pe.call(t,n)}class Ke{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){Dt(r)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){Dt(r)}else Dt(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){Dt(e)}}}class dt extends Ve{constructor(n,e,r){let i;if(super(),Se(n)||!n)i={next:n??void 0,error:e??void 0,complete:r??void 0};else{let a;this&&B.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Qe(n.next,a),error:n.error&&Qe(n.error,a),complete:n.complete&&Qe(n.complete,a)}):i=n}this.destination=new Ke(i)}}function Dt(t){B.useDeprecatedSynchronousErrorHandling?function ze(t){B.useDeprecatedSynchronousErrorHandling&&ft&&(ft.errorThrown=!0,ft.error=t)}(t):xe(t)}function Ot(t,n){const{onStoppedNotification:e}=B;e&&se.setTimeout(()=>e(t,n))}const kt={closed:!0,next:Te,error:function $t(t){throw t},complete:Te},At="function"==typeof Symbol&&Symbol.observable||"@@observable";function Gt(t){return t}function Qt(t){return 0===t.length?Gt:1===t.length?t[0]:function(e){return t.reduce((r,i)=>i(r),e)}}let Jt=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,i){const a=function pt(t){return t&&t instanceof Ve||function sn(t){return t&&Se(t.next)&&Se(t.error)&&Se(t.complete)}(t)&&N(t)}(e)?e:new dt(e,r,i);return gt(()=>{const{operator:s,source:l}=this;a.add(s?s.call(a,l):l?this._subscribe(a):this._trySubscribe(a))}),a}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=en(r))((i,a)=>{const s=new dt({next:l=>{try{e(l)}catch(x){a(x),s.unsubscribe()}},error:a,complete:i});this.subscribe(s)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[At](){return this}pipe(...e){return Qt(e)(this)}toPromise(e){return new(e=en(e))((r,i)=>{let a;this.subscribe(s=>a=s,s=>i(s),()=>r(a))})}}return t.create=n=>new t(n),t})();function en(t){var n;return null!==(n=t??B.Promise)&&void 0!==n?n:Promise}const xt=ye(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let yt=(()=>{class t extends Jt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new ke(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new xt}next(e){gt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){gt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){gt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:a}=this;return r||i?Z:(this.currentObservers=null,a.push(e),new te(()=>{this.currentObservers=null,Y(a,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:a}=this;r?e.error(i):a&&e.complete()}asObservable(){const e=new Jt;return e.source=this,e}}return t.create=(n,e)=>new ke(n,e),t})();class ke extends yt{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,n)}error(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==r?r:Z}}class Xe extends yt{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function Me(t){return Se(t?.lift)}function _e(t){return n=>{if(Me(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function He(t,n,e,r,i){return new We(t,n,e,r,i)}class We extends Ve{constructor(n,e,r,i,a,s){super(n),this.onFinalize=a,this.shouldUnsubscribe=s,this._next=e?function(l){try{e(l)}catch(x){n.error(x)}}:super._next,this._error=i?function(l){try{i(l)}catch(x){n.error(x)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Ze(t,n){return _e((e,r)=>{let i=0;e.subscribe(He(r,a=>{r.next(t.call(n,a,i++))}))})}const Bt="https://g.co/ng/security#xss";class Je extends Error{constructor(n,e){super(function Ct(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}function Vn(t){return{toString:t}.toString()}const fn="__parameters__";function Zn(t,n,e){return Vn(()=>{const r=function Pn(t){return function(...e){if(t){const r=t(...e);for(const i in r)this[i]=r[i]}}}(n);function i(...a){if(this instanceof i)return r.apply(this,a),this;const s=new i(...a);return l.annotation=s,l;function l(x,F,oe){const Le=x.hasOwnProperty(fn)?x[fn]:Object.defineProperty(x,fn,{value:[]})[fn];for(;Le.length<=oe;)Le.push(null);return(Le[oe]=Le[oe]||[]).push(s),x}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const mn=globalThis;function Fn(t){for(let n in t)if(t[n]===Fn)return n;throw Error("Could not find renamed property on target object.")}function vr(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function ir(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ir).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function On(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const rr=Fn({__forward_ref__:Fn});function bn(t){return t.__forward_ref__=bn,t.toString=function(){return ir(this())},t}function ve(t){return he(t)?t():t}function he(t){return"function"==typeof t&&t.hasOwnProperty(rr)&&t.__forward_ref__===bn}function nn(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function pr(t){return{providers:t.providers||[],imports:t.imports||[]}}function $r(t){return ka(t,li)||ka(t,Fi)}function ka(t,n){return t.hasOwnProperty(n)?t[n]:null}function Ci(t){return t&&(t.hasOwnProperty(br)||t.hasOwnProperty(ui))?t[br]:null}const li=Fn({\u0275prov:Fn}),br=Fn({\u0275inj:Fn}),Fi=Fn({ngInjectableDef:Fn}),ui=Fn({ngInjectorDef:Fn});class kn{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=nn({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function mi(t){return t&&!!t.\u0275providers}const qr=Fn({\u0275cmp:Fn}),da=Fn({\u0275dir:Fn}),Ua=Fn({\u0275pipe:Fn}),ls=Fn({\u0275mod:Fn}),Ei=Fn({\u0275fac:Fn}),ba=Fn({__NG_ELEMENT_ID__:Fn}),oa=Fn({__NG_ENV_ID__:Fn});function zr(t){return"string"==typeof t?t:null==t?"":String(t)}function Ni(t,n){throw new Je(-201,!1)}var Vr=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Vr||{});let gs;function F1(){return gs}function qa(t){const n=gs;return gs=t,n}function Ii(t,n,e){const r=$r(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&Vr.Optional?null:void 0!==n?n:void Ni()}const ro={},O1="__NG_DI_FLAG__",io="ngTempTokenPath",n3=/\n/gm,g2="__source";let ao;function Uo(t){const n=ao;return ao=t,n}function r3(t,n=Vr.Default){if(void 0===ao)throw new Je(-203,!1);return null===ao?Ii(t,void 0,n):ao.get(t,n&Vr.Optional?null:void 0,n)}function gn(t,n=Vr.Default){return(F1()||r3)(ve(t),n)}function Xn(t,n=Vr.Default){return gn(t,ol(n))}function ol(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function _1(t){const n=[];for(let e=0;e<t.length;e++){const r=ve(t[e]);if(Array.isArray(r)){if(0===r.length)throw new Je(900,!1);let i,a=Vr.Default;for(let s=0;s<r.length;s++){const l=r[s],x=i3(l);"number"==typeof x?-1===x?i=l.token:a|=x:i=l}n.push(gn(i,a))}else n.push(gn(r))}return n}function y2(t,n){return t[O1]=n,t.prototype[O1]=n,t}function i3(t){return t[O1]}const Go=y2(Zn("Optional"),8),cl=y2(Zn("SkipSelf"),4);function b2(t,n){return t.hasOwnProperty(Ei)?t[Ei]:null}function xc(t,n){t.forEach(e=>Array.isArray(e)?xc(e,n):n(e))}function V2(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Kl(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function L1(t,n,e){let r=Mc(t,n);return r>=0?t[1|r]=e:(r=~r,function $o(t,n,e,r){let i=t.length;if(i==n)t.push(e,r);else if(1===i)t.push(r,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>n;)t[i]=t[i-2],i--;t[n]=e,t[n+1]=r}}(t,r,n,e)),r}function s3(t,n){const e=Mc(t,n);if(e>=0)return t[1|e]}function Mc(t,n){return function S1(t,n,e){let r=0,i=t.length>>e;for(;i!==r;){const a=r+(i-r>>1),s=t[a<<e];if(n===s)return a<<e;s>n?i=a:r=a+1}return~(i<<e)}(t,n,1)}const B1={},Pi=[],C2=new kn(""),N4=new kn("",-1),o3=new kn("");class Wo{get(n,e=ro){if(e===ro){const r=new Error(`NullInjectorError: No provider for ${ir(n)}!`);throw r.name="NullInjectorError",r}return e}}var U2=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(U2||{}),on=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(on||{}),Cn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Cn||{});function Dn(t,n,e){let r=t.length;for(;;){const i=t.indexOf(n,e);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const a=n.length;if(i+a===r||t.charCodeAt(i+a)<=32)return i}e=i+1}}function gr(t,n,e){let r=0;for(;r<e.length;){const i=e[r];if("number"==typeof i){if(0!==i)break;r++;const a=e[r++],s=e[r++],l=e[r++];t.setAttribute(n,s,l,a)}else{const a=i,s=e[++r];Oi(a)?t.setProperty(n,a,s):t.setAttribute(n,a,s),r++}}return r}function Kr(t){return 3===t||4===t||6===t}function Oi(t){return 64===t.charCodeAt(0)}function Ca(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?e=i:0===e||$i(t,e,i,null,-1===e||2===e?n[++r]:null)}}return t}function $i(t,n,e,r,i){let a=0,s=t.length;if(-1===n)s=-1;else for(;a<t.length;){const l=t[a++];if("number"==typeof l){if(l===n){s=-1;break}if(l>n){s=a-1;break}}}for(;a<t.length;){const l=t[a];if("number"==typeof l)break;if(l===e){if(null===r)return void(null!==i&&(t[a+1]=i));if(r===t[a+1])return void(t[a+2]=i)}a++,null!==r&&a++,null!==i&&a++}-1!==s&&(t.splice(s,0,n),a=s+1),t.splice(a++,0,e),null!==r&&t.splice(a++,0,r),null!==i&&t.splice(a++,0,i)}const Jl="ng-template";function Qu(t,n,e,r){let i=0;if(r){for(;i<n.length&&"string"==typeof n[i];i+=2)if("class"===n[i]&&-1!==Dn(n[i+1].toLowerCase(),e,0))return!0}else if(h1(t))return!1;if(i=n.indexOf(1,i),i>-1){let a;for(;++i<n.length&&"string"==typeof(a=n[i]);)if(a.toLowerCase()===e)return!0}return!1}function h1(t){return 4===t.type&&t.value!==Jl}function ql(t,n,e){return n===(4!==t.type||e?t.value:Jl)}function Ju(t,n,e){let r=4;const i=t.attrs,a=null!==i?function dl(t){for(let n=0;n<t.length;n++)if(Kr(t[n]))return n;return t.length}(i):0;let s=!1;for(let l=0;l<n.length;l++){const x=n[l];if("number"!=typeof x){if(!s)if(4&r){if(r=2|1&r,""!==x&&!ql(t,x,e)||""===x&&1===n.length){if(Ss(r))return!1;s=!0}}else if(8&r){if(null===i||!Qu(t,i,x,e)){if(Ss(r))return!1;s=!0}}else{const F=n[++l],oe=e0(x,i,h1(t),e);if(-1===oe){if(Ss(r))return!1;s=!0;continue}if(""!==F){let Le;if(Le=oe>a?"":i[oe+1].toLowerCase(),2&r&&F!==Le){if(Ss(r))return!1;s=!0}}}}else{if(!s&&!Ss(r)&&!Ss(x))return!1;if(s&&Ss(x))continue;s=!1,r=x|1&r}}return Ss(r)||s}function Ss(t){return!(1&t)}function e0(t,n,e,r){if(null===n)return-1;let i=0;if(r||!e){let a=!1;for(;i<n.length;){const s=n[i];if(s===t)return i;if(3===s||6===s)a=!0;else{if(1===s||2===s){let l=n[++i];for(;"string"==typeof l;)l=n[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=a?1:2}return-1}return function wc(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const r=t[e];if("number"==typeof r)return-1;if(r===n)return e;e++}return-1}(n,t)}function fl(t,n,e=!1){for(let r=0;r<n.length;r++)if(Ju(t,n[r],e))return!0;return!1}function T1(t,n){e:for(let e=0;e<n.length;e++){const r=n[e];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function I4(t,n){return t?":not("+n.trim()+")":n}function qu(t){let n=t[0],e=1,r=2,i="",a=!1;for(;e<t.length;){let s=t[e];if("string"==typeof s)if(2&r){const l=t[++e];i+="["+s+(l.length>0?'="'+l+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Ss(s)&&(n+=I4(a,i),i=""),r=s,a=a||!Ss(r);e++}return""!==i&&(n+=I4(a,i)),n}function xr(t){return Vn(()=>{const n=l3(t),e={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===U2.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||on.Emulated,styles:t.styles||Pi,_:null,schemas:t.schemas||null,tView:null,id:""};R4(e);const r=t.dependencies;return e.directiveDefs=G2(r,!1),e.pipeDefs=G2(r,!0),e.id=function r0(t){let n=0;const e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of e)n=Math.imul(31,n)+i.charCodeAt(0)|0;return n+=2147483648,"c"+n}(e),e})}function n0(t){return ri(t)||xa(t)}function P4(t){return null!==t}function Qi(t){return Vn(()=>({type:t.type,bootstrap:t.bootstrap||Pi,declarations:t.declarations||Pi,imports:t.imports||Pi,exports:t.exports||Pi,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function c3(t,n){if(null==t)return B1;const e={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];let a,s,l=Cn.None;Array.isArray(i)?(l=i[0],a=i[1],s=i[2]??a):(a=i,s=i),n?(e[a]=l!==Cn.None?[r,l]:r,n[a]=s):e[a]=r}return e}function Lr(t){return Vn(()=>{const n=l3(t);return R4(n),n})}function es(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ri(t){return t[qr]||null}function xa(t){return t[da]||null}function Ma(t){return t[Ua]||null}function Fs(t,n){const e=t[ls]||null;if(!e&&!0===n)throw new Error(`Type ${ir(t)} does not have '\u0275mod' property.`);return e}function l3(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||B1,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Pi,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:c3(t.inputs,n),outputs:c3(t.outputs),debugInfo:null}}function R4(t){t.features?.forEach(n=>n(t))}function G2(t,n){if(!t)return null;const e=n?Ma:n0;return()=>("function"==typeof t?t():t).map(r=>e(r)).filter(P4)}function u3(...t){return{\u0275providers:f3(0,t),\u0275fromNgModule:!0}}function f3(t,...n){const e=[],r=new Set;let i;const a=s=>{e.push(s)};return xc(n,s=>{const l=s;wa(l,a,[],r)&&(i||=[],i.push(l))}),void 0!==i&&F4(i,a),e}function F4(t,n){for(let e=0;e<t.length;e++){const{ngModule:r,providers:i}=t[e];a0(i,a=>{n(a,r)})}}function wa(t,n,e,r){if(!(t=ve(t)))return!1;let i=null,a=Ci(t);const s=!a&&ri(t);if(a||s){if(s&&!s.standalone)return!1;i=t}else{const x=t.ngModule;if(a=Ci(x),!a)return!1;i=x}const l=r.has(i);if(s){if(l)return!1;if(r.add(i),s.dependencies){const x="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const F of x)wa(F,n,e,r)}}else{if(!a)return!1;{if(null!=a.imports&&!l){let F;r.add(i);try{xc(a.imports,oe=>{wa(oe,n,e,r)&&(F||=[],F.push(oe))})}finally{}void 0!==F&&F4(F,n)}if(!l){const F=b2(i)||(()=>new i);n({provide:i,useFactory:F,deps:Pi},i),n({provide:o3,useValue:i,multi:!0},i),n({provide:C2,useValue:()=>gn(i),multi:!0},i)}const x=a.providers;if(null!=x&&!l){const F=t;a0(x,oe=>{n(oe,F)})}}}return i!==t&&void 0!==t.providers}function a0(t,n){for(let e of t)mi(e)&&(e=e.\u0275providers),Array.isArray(e)?a0(e,n):n(e)}const d3=Fn({provide:String,useValue:Fn});function Sc(t){return null!==t&&"object"==typeof t&&d3 in t}function oo(t){return"function"==typeof t}const x2=new kn(""),jo={},Tc={};let M2;function So(){return void 0===M2&&(M2=new Wo),M2}class Ts{}class Yo extends Ts{get destroyed(){return this._destroyed}constructor(n,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,w2(n,s=>this.processProvider(s)),this.records.set(N4,To(void 0,this)),i.has("environment")&&this.records.set(Ts,To(void 0,this));const a=this.records.get(x2);null!=a&&"string"==typeof a.value&&this.scopes.add(a.value),this.injectorDefTypes=new Set(this.get(o3,Pi,Vr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=h(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of e)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),h(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const e=Uo(this),r=qa(void 0);try{return n()}finally{Uo(e),qa(r)}}get(n,e=ro,r=Vr.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(oa))return n[oa](this);r=ol(r);const a=Uo(this),s=qa(void 0);try{if(!(r&Vr.SkipSelf)){let x=this.records.get(n);if(void 0===x){const F=function $2(t){return"function"==typeof t||"object"==typeof t&&t instanceof kn}(n)&&$r(n);x=F&&this.injectableDefInScope(F)?To(p3(n),jo):null,this.records.set(n,x)}if(null!=x)return this.hydrate(n,x)}return(r&Vr.Self?So():this.parent).get(n,e=r&Vr.Optional&&e===ro?null:e)}catch(l){if("NullInjectorError"===l.name){if((l[io]=l[io]||[]).unshift(ir(n)),a)throw l;return function Xl(t,n,e,r){const i=t[io];throw n[g2]&&i.unshift(n[g2]),t.message=function us(t,n,e,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=ir(n);if(Array.isArray(n))i=n.map(ir).join(" -> ");else if("object"==typeof n){let a=[];for(let s in n)if(n.hasOwnProperty(s)){let l=n[s];a.push(s+":"+("string"==typeof l?JSON.stringify(l):ir(l)))}i=`{${a.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${t.replace(n3,"\n  ")}`}("\n"+t.message,i,e,r),t.ngTokenPath=i,t[io]=null,t}(l,n,"R3InjectorError",this.source)}throw l}finally{qa(s),Uo(a)}}resolveInjectorInitializers(){const n=h(null),e=Uo(this),r=qa(void 0);try{const a=this.get(C2,Pi,Vr.Self);for(const s of a)s()}finally{Uo(e),qa(r),h(n)}}toString(){const n=[],e=this.records;for(const r of e.keys())n.push(ir(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Je(205,!1)}processProvider(n){let e=oo(n=ve(n))?n:ve(n&&n.provide);const r=function B4(t){return Sc(t)?To(void 0,t.useValue):To(hl(t),jo)}(n);if(!oo(n)&&!0===n.multi){let i=this.records.get(e);i||(i=To(void 0,jo,!0),i.factory=()=>_1(i.multi),this.records.set(e,i)),e=n,i.multi.push(n)}this.records.set(e,r)}hydrate(n,e){const r=h(null);try{return e.value===jo&&(e.value=Tc,e.value=e.factory()),"object"==typeof e.value&&e.value&&function vt(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{h(r)}}injectableDefInScope(n){if(!n.providedIn)return!1;const e=ve(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){const e=this._onDestroyHooks.indexOf(n);-1!==e&&this._onDestroyHooks.splice(e,1)}}function p3(t){const n=$r(t),e=null!==n?n.factory:b2(t);if(null!==e)return e;if(t instanceof kn)throw new Je(204,!1);if(t instanceof Function)return function m3(t){if(t.length>0)throw new Je(204,!1);const e=function oi(t){return t&&(t[li]||t[Fi])||null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new Je(204,!1)}function hl(t,n,e){let r;if(oo(t)){const i=ve(t);return b2(i)||p3(i)}if(Sc(t))r=()=>ve(t.useValue);else if(function s0(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(..._1(t.deps||[]));else if(function O4(t){return!(!t||!t.useExisting)}(t))r=()=>gn(ve(t.useExisting));else{const i=ve(t&&(t.useClass||t.provide));if(!function v3(t){return!!t.deps}(t))return b2(i)||p3(i);r=()=>new i(..._1(t.deps))}return r}function To(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function w2(t,n){for(const e of t)Array.isArray(e)?w2(e,n):e&&mi(e)?w2(e.\u0275providers,n):n(e)}function Ea(t,n){t instanceof Yo&&t.assertNotDestroyed();const r=Uo(t),i=qa(void 0);try{return n()}finally{Uo(r),qa(i)}}function wi(){return void 0!==F1()||null!=function Zu(){return ao}()}const Ji=0,cr=1,Nr=2,Na=3,V1=4,Ia=5,Bs=6,Xo=7,_i=8,Ga=9,D1=10,Tr=11,Dc=12,W4=13,Ko=14,ra=15,yl=16,Ac=17,co=18,U1=19,j2=20,Qo=21,bl=22,Y2=23,Rr=25,Hs=1,Pa=7,Jo=9,ha=10;var Z2=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Z2||{});function _a(t){return Array.isArray(t)&&"object"==typeof t[Hs]}function Ds(t){return Array.isArray(t)&&!0===t[Hs]}function c0(t){return!!(4&t.flags)}function uo(t){return t.componentOffset>-1}function Cl(t){return!(1&~t.flags)}function A1(t){return!!t.template}function fs(t){return!!(512&t[Nr])}class C3{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function X4(t,n,e,r){null!==n?n.applyValueToInputSignal(n,r):t[e]=r}function As(){return f}function f(t){return t.type.prototype.ngOnChanges&&(t.setInput=V),R}function R(){const t=fe(this),n=t?.current;if(n){const e=t.previous;if(e===B1)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function V(t,n,e,r,i){const a=this.declaredInputs[r],s=fe(t)||function me(t,n){return t[ae]=n}(t,{previous:B1,current:null}),l=s.current||(s.current={}),x=s.previous,F=x[a];l[a]=new C3(F&&F.currentValue,e,x===B1),X4(t,n,i,e)}As.ngInherit=!0;const ae="__ngSimpleChanges__";function fe(t){return t[ae]||null}const Ue=function(t,n,e){};let wt=!1;function Xt(t){for(;Array.isArray(t);)t=t[Ji];return t}function Rt(t,n){return Xt(n[t])}function Ht(t,n){return Xt(n[t.index])}function tn(t,n){return t.data[n]}function jt(t,n){return t[n]}function Ln(t,n){const e=n[t];return _a(e)?e:e[Ji]}function sr(t){return!(128&~t[Nr])}function qn(t,n){return null==n?null:t[n]}function fr(t){t[Ac]=0}function kr(t){1024&t[Nr]||(t[Nr]|=1024,sr(t)&&vi(t))}function Mr(t){return!!(9216&t[Nr]||t[Y2]?.dirty)}function fi(t){t[D1].changeDetectionScheduler?.notify(1),Mr(t)?vi(t):64&t[Nr]&&(function _t(){return wt}()?(t[Nr]|=1024,vi(t)):t[D1].changeDetectionScheduler?.notify())}function vi(t){t[D1].changeDetectionScheduler?.notify();let n=wr(t);for(;null!==n&&!(8192&n[Nr])&&(n[Nr]|=8192,sr(n));)n=wr(n)}function ti(t,n){if(!(256&~t[Nr]))throw new Je(911,!1);null===t[Qo]&&(t[Qo]=[]),t[Qo].push(n)}function wr(t){const n=t[Na];return Ds(n)?n[Na]:n}const er={lFrame:lf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function La(){return er.bindingsEnabled}function $a(){return null!==er.skipHydrationRootTNode}function An(){return er.lFrame.lView}function Ir(){return er.lFrame.tView}function Qn(t){return er.lFrame.contextLView=t,t[_i]}function Jn(t){return er.lFrame.contextLView=null,t}function di(){let t=_2();for(;null!==t&&64===t.type;)t=t.parent;return t}function _2(){return er.lFrame.currentTNode}function Ui(t,n){const e=er.lFrame;e.currentTNode=t,e.isParent=n}function qs(){return er.lFrame.isParent}function h0(){er.lFrame.isParent=!1}function p1(){const t=er.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function L2(){return er.lFrame.bindingIndex}function Ao(){return er.lFrame.bindingIndex++}function j1(t){const n=er.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function h5(t,n){const e=er.lFrame;e.bindingIndex=e.bindingRootIndex=t,p0(n)}function p0(t){er.lFrame.currentDirectiveIndex=t}function m0(){return er.lFrame.currentQueryIndex}function v0(t){er.lFrame.currentQueryIndex=t}function Q4(t){const n=t[cr];return 2===n.type?n.declTNode:1===n.type?t[Ia]:null}function m5(t,n,e){if(e&Vr.SkipSelf){let i=n,a=t;for(;!(i=i.parent,null!==i||e&Vr.Host||(i=Q4(a),null===i||(a=a[Ko],10&i.type))););if(null===i)return!1;n=i,t=a}const r=er.lFrame=M3();return r.currentTNode=n,r.lView=t,!0}function J4(t){const n=M3(),e=t[cr];er.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function M3(){const t=er.lFrame,n=null===t?null:t.child;return null===n?lf(t):n}function lf(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function q4(){const t=er.lFrame;return er.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const v5=q4;function e6(){const t=q4();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function e1(){return er.lFrame.selectedIndex}function kc(t){er.lFrame.selectedIndex=t}function pa(){const t=er.lFrame;return tn(t.tView,t.selectedIndex)}let n6=!0;function _l(){return n6}function fo(t){n6=t}function Or(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){const a=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:l,ngAfterViewInit:x,ngAfterViewChecked:F,ngOnDestroy:oe}=a;s&&(t.contentHooks??=[]).push(-e,s),l&&((t.contentHooks??=[]).push(e,l),(t.contentCheckHooks??=[]).push(e,l)),x&&(t.viewHooks??=[]).push(-e,x),F&&((t.viewHooks??=[]).push(e,F),(t.viewCheckHooks??=[]).push(e,F)),null!=oe&&(t.destroyHooks??=[]).push(e,oe)}}function Ll(t,n,e){y5(t,n,3,e)}function y0(t,n,e,r){(3&t[Nr])===e&&y5(t,n,e,r)}function J2(t,n){let e=t[Nr];(3&e)===n&&(e&=16383,e+=1,t[Nr]=e)}function y5(t,n,e,r){const a=r??-1,s=n.length-1;let l=0;for(let x=void 0!==r?65535&t[Ac]:0;x<s;x++)if("number"==typeof n[x+1]){if(l=n[x],null!=r&&l>=r)break}else n[x]<0&&(t[Ac]+=65536),(l<a||-1==a)&&(b5(t,e,n,x),t[Ac]=(4294901760&t[Ac])+x+2),x++}function r6(t,n){Ue(4,t,n);const e=h(null);try{n.call(t)}finally{h(e),Ue(5,t,n)}}function b5(t,n,e,r){const i=e[r]<0,a=e[r+1],l=t[i?-e[r]:e[r]];i?t[Nr]>>14<t[Ac]>>16&&(3&t[Nr])===n&&(t[Nr]+=16384,r6(l,a)):r6(l,a)}const ds=-1;class w3{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function t2(t){return t!==ds}function zs(t){return 32767&t}function _3(t,n){let e=function uf(t){return t>>16}(t),r=n;for(;e>0;)r=r[Ko],e--;return r}let L3=!0;function a6(t){const n=L3;return L3=t,n}const b0=255,ff=5;let x5=0;const S2={};function s6(t,n){const e=hf(t,n);if(-1!==e)return e;const r=n[cr];r.firstCreatePass&&(t.injectorIndex=n.length,df(r.data,t),df(n,null),df(r.blueprint,null));const i=S3(t,n),a=t.injectorIndex;if(t2(i)){const s=zs(i),l=_3(i,n),x=l[cr].data;for(let F=0;F<8;F++)n[a+F]=l[s+F]|x[s+F]}return n[a+8]=i,a}function df(t,n){t.push(0,0,0,0,0,0,0,0,n)}function hf(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function S3(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,r=null,i=n;for(;null!==i;){if(r=_5(i),null===r)return ds;if(e++,i=i[Ko],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return ds}function pf(t,n,e){!function qm(t,n,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(ba)&&(r=e[ba]),null==r&&(r=e[ba]=x5++);const i=r&b0;n.data[t+(i>>ff)]|=1<<i}(t,n,e)}function vf(t,n,e){if(e&Vr.Optional||void 0!==t)return t;Ni()}function C0(t,n,e,r){if(e&Vr.Optional&&void 0===r&&(r=null),!(e&(Vr.Self|Vr.Host))){const i=t[Ga],a=qa(void 0);try{return i?i.get(n,r,e&Vr.Optional):Ii(n,r,e&Vr.Optional)}finally{qa(a)}}return vf(r,0,e)}function o6(t,n,e,r=Vr.Default,i){if(null!==t){if(2048&n[Nr]&&!(r&Vr.Self)){const s=function t9(t,n,e,r,i){let a=t,s=n;for(;null!==a&&null!==s&&2048&s[Nr]&&!(512&s[Nr]);){const l=gf(a,s,e,r|Vr.Self,S2);if(l!==S2)return l;let x=a.parent;if(!x){const F=s[j2];if(F){const oe=F.get(e,S2,r);if(oe!==S2)return oe}x=_5(s),s=s[Ko]}a=x}return i}(t,n,e,r,S2);if(s!==S2)return s}const a=gf(t,n,e,r,S2);if(a!==S2)return a}return C0(n,e,r,i)}function gf(t,n,e,r,i){const a=function T2(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(ba)?t[ba]:void 0;return"number"==typeof n?n>=0?n&b0:e9:n}(e);if("function"==typeof a){if(!m5(n,t,r))return r&Vr.Host?vf(i,0,r):C0(n,e,r,i);try{let s;if(s=a(r),null!=s||r&Vr.Optional)return s;Ni()}finally{v5()}}else if("number"==typeof a){let s=null,l=hf(t,n),x=ds,F=r&Vr.Host?n[ra][Ia]:null;for((-1===l||r&Vr.SkipSelf)&&(x=-1===l?S3(t,n):n[l+8],x!==ds&&w5(r,!1)?(s=n[cr],l=zs(x),n=_3(x,n)):l=-1);-1!==l;){const oe=n[cr];if(Nc(a,l,oe.data)){const Le=M5(l,n,e,s,r,F);if(Le!==S2)return Le}x=n[l+8],x!==ds&&w5(r,n[cr].data[l+8]===F)&&Nc(a,l,n)?(s=oe,l=zs(x),n=_3(x,n)):l=-1}}return i}function M5(t,n,e,r,i,a){const s=n[cr],l=s.data[t+8],oe=Sl(l,s,e,null==r?uo(l)&&L3:r!=s&&!!(3&l.type),i&Vr.Host&&a===l);return null!==oe?Ec(n,s,oe,l):S2}function Sl(t,n,e,r,i){const a=t.providerIndexes,s=n.data,l=1048575&a,x=t.directiveStart,oe=a>>20,je=i?l+oe:t.directiveEnd;for(let rt=r?l:l+oe;rt<je;rt++){const ht=s[rt];if(rt<x&&e===ht||rt>=x&&ht.type===e)return rt}if(i){const rt=s[x];if(rt&&A1(rt)&&rt.type===e)return x}return null}function Ec(t,n,e,r){let i=t[e];const a=n.data;if(function Km(t){return t instanceof w3}(i)){const s=i;s.resolving&&function ei(t,n){throw n&&n.join(" > "),new Je(-200,t)}(function Yr(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():zr(t)}(a[e]));const l=a6(s.canSeeViewProviders);s.resolving=!0;const F=s.injectImpl?qa(s.injectImpl):null;m5(t,r,Vr.Default);try{i=t[e]=s.factory(void 0,a,t,r),n.firstCreatePass&&e>=r.directiveStart&&function g0(t,n,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:a}=n.type.prototype;if(r){const s=f(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}i&&(e.preOrderHooks??=[]).push(0-t,i),a&&((e.preOrderHooks??=[]).push(t,a),(e.preOrderCheckHooks??=[]).push(t,a))}(e,a[e],n)}finally{null!==F&&qa(F),a6(l),s.resolving=!1,v5()}}return i}function Nc(t,n,e){return!!(e[n+(t>>ff)]&1<<t)}function w5(t,n){return!(t&Vr.Self||t&Vr.Host&&n)}class ks{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return o6(this._tNode,this._lView,n,ol(r),e)}}function e9(){return new ks(di(),An())}function Vs(t){return Vn(()=>{const n=t.prototype.constructor,e=n[Ei]||yf(n),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const a=i[Ei]||yf(i);if(a&&a!==e)return a;i=Object.getPrototypeOf(i)}return a=>new a})}function yf(t){return he(t)?()=>{const n=yf(ve(t));return n&&n()}:b2(t)}function _5(t){const n=t[cr],e=n.type;return 2===e?n.declTNode:1===e?t[Ia]:null}function z5(t,n=null,e=null,r){const i=k5(t,n,e,r);return i.resolveInjectorInitializers(),i}function k5(t,n=null,e=null,r,i=new Set){const a=[e||Pi,u3(t)];return r=r||("object"==typeof t?void 0:ir(t)),new Yo(a,n||So(),r||null,i)}let qi=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=ro;static#t=this.NULL=new Wo;static create(e,r){if(Array.isArray(e))return z5({name:""},r,e,"");{const i=e.name??"";return z5({name:i},e.parent,e.providers,i)}}static#n=this.\u0275prov=nn({token:t,providedIn:"any",factory:()=>gn(N4)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function c6(t){return t.ngOriginalError}class D2{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&c6(n);for(;e&&c6(e);)e=c6(e);return e||null}}const N5=new kn("",{providedIn:"root",factory:()=>Xn(D2).handleError.bind(void 0)});let M0=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=xf;static#t=this.__NG_ENV_ID__=e=>e}return t})();class o9 extends M0{constructor(n){super(),this._lView=n}onDestroy(n){return ti(this._lView,n),()=>function Kn(t,n){if(null===t[Qo])return;const e=t[Qo].indexOf(n);-1!==e&&t[Qo].splice(e,1)}(this._lView,n)}}function xf(){return new o9(An())}function c9(){return w0(di(),An())}function w0(t,n){return new is(Ht(t,n))}let is=(()=>{class t{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=c9}return t})();function P5(t){return t instanceof is?t.nativeElement:t}function Mf(t){return n=>{setTimeout(t,void 0,n)}}const Fr=class l9 extends yt{constructor(n=!1){super(),this.destroyRef=void 0,this.__isAsync=n,wi()&&(this.destroyRef=Xn(M0,{optional:!0})??void 0)}emit(n){const e=h(null);try{super.next(n)}finally{h(e)}}subscribe(n,e,r){let i=n,a=e||(()=>null),s=r;if(n&&"object"==typeof n){const x=n;i=x.next?.bind(x),a=x.error?.bind(x),s=x.complete?.bind(x)}this.__isAsync&&(a=Mf(a),i&&(i=Mf(i)),s&&(s=Mf(s)));const l=super.subscribe({next:i,error:a,complete:s});return n instanceof te&&n.add(l),l}};function u9(){return this._results[Symbol.iterator]()}class wf{static#e=Symbol.iterator;get changes(){return this._changes??=new Fr}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const e=wf.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=u9)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){this.dirty=!1;const r=function d1(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function E4(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],a=n[r];if(e&&(i=e(i),a=e(a)),a!==i)return!1}return!0}(this._results,r,e))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function l6(t){return!(128&~t.flags)}const u6=new Map;let d9=0;const Sf="__ngContext__";function Es(t,n){_a(n)?(t[Sf]=n[U1],function p9(t){u6.set(t[U1],t)}(n)):t[Sf]=n}function $5(t){return j5(t[Dc])}function W5(t){return j5(t[V1])}function j5(t){for(;null!==t&&!Ds(t);)t=t[V1];return t}let Df;function Ic(){if(void 0!==Df)return Df;if(typeof document<"u")return document;throw new Je(210,!1)}const E3=new kn("",{providedIn:"root",factory:()=>q5}),q5="ng",h6=new kn(""),n2=new kn("",{providedIn:"platform",factory:()=>"unknown"}),p6=new kn(""),m6=new kn("",{providedIn:"root",factory:()=>Ic().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let zo=()=>null;function q2(t,n,e=!1){return zo(t,n,e)}const th=new kn("",{providedIn:"root",factory:()=>!1});let y6,A0;function D0(t){return function Bf(){if(void 0===y6&&(y6=null,mn.trustedTypes))try{y6=mn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return y6}()?.createHTML(t)||t}function Hf(){if(void 0===A0&&(A0=null,mn.trustedTypes))try{A0=mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return A0}function Vf(t){return Hf()?.createHTML(t)||t}function X1(t){return Hf()?.createScriptURL(t)||t}class ko{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Bt})`}}class V9 extends ko{getTypeName(){return"HTML"}}class U9 extends ko{getTypeName(){return"Style"}}class G9 extends ko{getTypeName(){return"Script"}}class $9 extends ko{getTypeName(){return"URL"}}class W9 extends ko{getTypeName(){return"ResourceURL"}}function K1(t){return t instanceof ko?t.changingThisBreaksApplicationSecurity:t}function Us(t,n){const e=function yi(t){return t instanceof ko&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${Bt})`)}return e===n}class oh{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(D0(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}}class C6{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const e=this.inertDocument.createElement("template");return e.innerHTML=D0(n),e}}const Z9=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function x6(t){return(t=String(t)).match(Z9)?t:"unsafe:"+t}function tc(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function O3(...t){const n={};for(const e of t)for(const r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}const ch=tc("area,br,col,hr,img,wbr"),lh=tc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),uh=tc("rp,rt"),Uf=O3(ch,O3(lh,tc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),O3(uh,tc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),O3(uh,lh)),Gf=tc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),M6=O3(Gf,tc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),X9=tc("script,style,template");class K9{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,r=!0,i=[];for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)i.push(e),e=Q1(e);else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let a=Gs(e);if(a){e=a;break}e=i.pop()}return this.buf.join("")}startElement(n){const e=dh(n).toLowerCase();if(!Uf.hasOwnProperty(e))return this.sanitizedSomething=!0,!X9.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=n.attributes;for(let i=0;i<r.length;i++){const a=r.item(i),s=a.name,l=s.toLowerCase();if(!M6.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let x=a.value;Gf[l]&&(x=x6(x)),this.buf.push(" ",s,'="',mh(x),'"')}return this.buf.push(">"),!0}endElement(n){const e=dh(n).toLowerCase();Uf.hasOwnProperty(e)&&!ch.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(mh(n))}}function Gs(t){const n=t.nextSibling;if(n&&t!==n.previousSibling)throw hh(n);return n}function Q1(t){const n=t.firstChild;if(n&&function Q9(t,n){return(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,n))throw hh(n);return n}function dh(t){const n=t.nodeName;return"string"==typeof n?n:"FORM"}function hh(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const J9=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ph=/([^\#-~ |!])/g;function mh(t){return t.replace(/&/g,"&amp;").replace(J9,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(ph,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let w6;function vh(t,n){let e=null;try{w6=w6||function sh(t){const n=new C6(t);return function Y9(){try{return!!(new window.DOMParser).parseFromString(D0(""),"text/html")}catch{return!1}}()?new oh(n):n}(t);let r=n?String(n):"";e=w6.getInertBodyElement(r);let i=5,a=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=a,a=e.innerHTML,e=w6.getInertBodyElement(r)}while(r!==a);return D0((new K9).sanitizeChildren(_6(e)||e))}finally{if(e){const r=_6(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function _6(t){return"content"in t&&function q9(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var No=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(No||{});function gh(t){const n=B3();return n?Vf(n.sanitize(No.HTML,t)||""):Us(t,"HTML")?Vf(K1(t)):vh(Ic(),zr(t))}function z0(t){const n=B3();return n?n.sanitize(No.URL,t)||"":Us(t,"URL")?K1(t):x6(zr(t))}function bh(t){const n=B3();if(n)return X1(n.sanitize(No.RESOURCE_URL,t)||"");if(Us(t,"ResourceURL"))return X1(K1(t));throw new Je(904,!1)}function B3(){const t=An();return t&&t[D1].sanitizer}const rv=/^>|^->|<!--|-->|--!>|<!-$/g,xh=/(<|>)/g,Mh="\u200b$1\u200b";function Sh(t){return t.ownerDocument.defaultView}function J1(t){return t instanceof Function?t():t}var z2=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(z2||{});let Yf;function Zf(t,n){return Yf(t,n)}function E0(t,n,e,r,i){if(null!=r){let a,s=!1;Ds(r)?a=r:_a(r)&&(s=!0,r=r[Ji]);const l=Xt(r);0===t&&null!==e?null==i?Fh(n,e,l):kl(n,e,l,i||null,!0):1===t&&null!==e?kl(n,e,l,i||null,!0):2===t?function u(t,n,e){const r=D6(t,n);r&&function Cv(t,n,e,r){t.removeChild(n,e,r)}(t,r,n,e)}(n,l,s):3===t&&n.destroyNode(l),null!=a&&function Yt(t,n,e,r,i){const a=e[Pa];a!==Xt(e)&&E0(n,t,r,a,i);for(let l=ha;l<e.length;l++){const x=e[l];Ie(x[cr],x,t,n,r,a)}}(n,t,a,e,i)}}function V3(t,n){return t.createComment(function wh(t){return t.replace(rv,n=>n.replace(xh,Mh))}(n))}function T6(t,n,e){return t.createElement(n,e)}function Nh(t,n){n[D1].changeDetectionScheduler?.notify(1),Ie(t,n,n[Tr],2,null,null)}function Ph(t,n){const e=t[Jo],r=e.indexOf(n);e.splice(r,1)}function zl(t,n){if(t.length<=ha)return;const e=ha+n,r=t[e];if(r){const i=r[yl];null!==i&&i!==t&&Ph(i,r),n>0&&(t[e-1][V1]=r[V1]);const a=Kl(t,ha+n);!function pv(t,n){Nh(t,n),n[Ji]=null,n[Ia]=null}(r[cr],r);const s=a[co];null!==s&&s.detachView(a[cr]),r[Na]=null,r[V1]=null,r[Nr]&=-129}return r}function N0(t,n){if(!(256&n[Nr])){const e=n[Tr];e.destroyNode&&Ie(t,n,e,3,null,null),function Ih(t){let n=t[Dc];if(!n)return Xf(t[cr],t);for(;n;){let e=null;if(_a(n))e=n[Dc];else{const r=n[ha];r&&(e=r)}if(!e){for(;n&&!n[V1]&&n!==t;)_a(n)&&Xf(n[cr],n),n=n[Na];null===n&&(n=t),_a(n)&&Xf(n[cr],n),e=n&&n[V1]}n=e}}(n)}}function Xf(t,n){if(256&n[Nr])return;const e=h(null);try{n[Nr]&=-129,n[Nr]|=256,n[Y2]&&function E(t){if(P(t),b(t))for(let n=0;n<t.producerNode.length;n++)L(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(n[Y2]),function bv(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let r=0;r<e.length;r+=2){const i=n[e[r]];if(!(i instanceof w3)){const a=e[r+1];if(Array.isArray(a))for(let s=0;s<a.length;s+=2){const l=i[a[s]],x=a[s+1];Ue(4,l,x);try{x.call(l)}finally{Ue(5,l,x)}}else{Ue(4,i,a);try{a.call(i)}finally{Ue(5,i,a)}}}}}(t,n),function yv(t,n){const e=t.cleanup,r=n[Xo];if(null!==e)for(let a=0;a<e.length-1;a+=2)if("string"==typeof e[a]){const s=e[a+3];s>=0?r[s]():r[-s].unsubscribe(),a+=2}else e[a].call(r[e[a+1]]);null!==r&&(n[Xo]=null);const i=n[Qo];if(null!==i){n[Qo]=null;for(let a=0;a<i.length;a++)(0,i[a])()}}(t,n),1===n[cr].type&&n[Tr].destroy();const r=n[yl];if(null!==r&&Ds(n[Na])){r!==n[Na]&&Ph(r,n);const i=n[co];null!==i&&i.detachView(t)}!function m9(t){u6.delete(t[U1])}(n)}finally{h(e)}}function Kf(t,n,e){return function Rh(t,n,e){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return e[Ji];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:a}=t.data[r.directiveStart+i];if(a===on.None||a===on.Emulated)return null}return Ht(r,e)}}(t,n.parent,e)}function kl(t,n,e,r,i){t.insertBefore(n,e,r,i)}function Fh(t,n,e){t.appendChild(n,e)}function Oh(t,n,e,r,i){null!==r?kl(t,n,e,r,i):Fh(t,n,e)}function D6(t,n){return t.parentNode(n)}function Bh(t,n,e){return Vh(t,n,e)}let Qf,Vh=function Hh(t,n,e){return 40&t.type?Ht(t,e):null};function A6(t,n,e,r){const i=Kf(t,r,n),a=n[Tr],l=Bh(r.parent||n[Ia],r,n);if(null!=i)if(Array.isArray(e))for(let x=0;x<e.length;x++)Oh(a,i,e[x],l,!1);else Oh(a,i,e,l,!1);void 0!==Qf&&Qf(a,r,n,e,i)}function U3(t,n){if(null!==n){const e=n.type;if(3&e)return Ht(n,t);if(4&e)return Jf(-1,t[n.index]);if(8&e){const r=n.child;if(null!==r)return U3(t,r);{const i=t[n.index];return Ds(i)?Jf(-1,i):Xt(i)}}if(32&e)return Zf(n,t)()||Xt(t[n.index]);{const r=Gh(t,n);return null!==r?Array.isArray(r)?r[0]:U3(wr(t[ra]),r):U3(t,n.next)}}return null}function Gh(t,n){return null!==n?t[ra][Ia].projection[n.projection]:null}function Jf(t,n){const e=ha+t+1;if(e<n.length){const r=n[e],i=r[cr].firstChild;if(null!==i)return U3(r,i)}return n[Pa]}function q(t,n,e,r,i,a,s){for(;null!=e;){const l=r[e.index],x=e.type;if(s&&0===n&&(l&&Es(Xt(l),r),e.flags|=2),32&~e.flags)if(8&x)q(t,n,e.child,r,i,a,!1),E0(n,t,i,l,a);else if(32&x){const F=Zf(e,r);let oe;for(;oe=F();)E0(n,t,i,oe,a);E0(n,t,i,l,a)}else 16&x?Mt(t,n,r,e,i,a):E0(n,t,i,l,a);e=s?e.projectionNext:e.next}}function Ie(t,n,e,r,i,a){q(e,r,t.firstChild,n,i,a,!1)}function Mt(t,n,e,r,i,a){const s=e[ra],x=s[Ia].projection[r.projection];if(Array.isArray(x))for(let F=0;F<x.length;F++)E0(n,t,i,x[F],a);else{let F=x;const oe=s[Na];l6(r)&&(F.flags|=128),q(t,n,F,oe,i,a,!0)}}function Un(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function Gn(t,n,e){const{mergedAttrs:r,classes:i,styles:a}=e;null!==r&&gr(t,n,r),null!==i&&Un(t,n,i),null!==a&&function vn(t,n,e){t.setAttribute(n,"style",e)}(t,n,a)}const Sn={};function de(t=1){Sr(Ir(),An(),e1()+t,!1)}function Sr(t,n,e,r){if(!r)if(3&~n[Nr]){const a=t.preOrderHooks;null!==a&&y0(n,a,0,e)}else{const a=t.preOrderCheckHooks;null!==a&&Ll(n,a,e)}kc(e)}function lt(t,n=Vr.Default){const e=An();return null===e?gn(t,n):o6(di(),e,ve(t),n)}function Ur(t,n,e,r,i,a){const s=h(null);try{let l=null;i&Cn.SignalBased&&(l=n[r][T]),null!==l&&void 0!==l.transformFn&&(a=l.transformFn(a)),i&Cn.HasDecoratorInputTransform&&(a=t.inputTransforms[r].call(n,a)),null!==t.setInput?t.setInput(n,l,a,e,r):X4(n,l,r,a)}finally{h(s)}}function Ti(t,n,e,r,i,a,s,l,x,F,oe){const Le=n.blueprint.slice();return Le[Ji]=i,Le[Nr]=204|r,(null!==F||t&&2048&t[Nr])&&(Le[Nr]|=2048),fr(Le),Le[Na]=Le[Ko]=t,Le[_i]=e,Le[D1]=s||t&&t[D1],Le[Tr]=l||t&&t[Tr],Le[Ga]=x||t&&t[Ga]||null,Le[Ia]=a,Le[U1]=function h9(){return d9++}(),Le[Bs]=oe,Le[j2]=F,Le[ra]=2==n.type?t[ra]:Le,Le}function $s(t,n,e,r,i){let a=t.data[n];if(null===a)a=function t1(t,n,e,r,i){const a=_2(),s=qs(),x=t.data[n]=function P$(t,n,e,r,i,a){let s=n?n.injectorIndex:-1,l=0;return $a()&&(l|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?a:a&&a.parent,e,n,r,i);return null===t.firstChild&&(t.firstChild=x),null!==a&&(s?null==a.child&&null!==x.parent&&(a.child=x):null===a.next&&(a.next=x,x.prev=a)),x}(t,n,e,r,i),function x3(){return er.lFrame.inI18n}()&&(a.flags|=32);else if(64&a.type){a.type=e,a.value=r,a.attrs=i;const s=function W1(){const t=er.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();a.injectorIndex=null===s?-1:s.injectorIndex}return Ui(a,!0),a}function n1(t,n,e,r){if(0===e)return-1;const i=n.length;for(let a=0;a<e;a++)n.push(r),t.blueprint.push(r),t.data.push(null);return i}function as(t,n,e,r,i){const a=e1(),s=2&r;try{kc(-1),s&&n.length>Rr&&Sr(t,n,Rr,!1),Ue(s?2:0,i),e(r,i)}finally{kc(a),Ue(s?3:1,i)}}function po(t,n,e){if(c0(n)){const r=h(null);try{const a=n.directiveEnd;for(let s=n.directiveStart;s<a;s++){const l=t.data[s];l.contentQueries&&l.contentQueries(1,e[s],s)}}finally{h(r)}}}function r2(t,n,e){La()&&(function U$(t,n,e,r){const i=e.directiveStart,a=e.directiveEnd;uo(e)&&function X$(t,n,e){const r=Ht(n,t),i=pw(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const l=$h(t,Ti(t,i,null,s,r,n,null,t[D1].rendererFactory.createRenderer(r,e),null,null,null));t[n.index]=l}(n,e,t.data[i+e.componentOffset]),t.firstCreatePass||s6(e,n),Es(r,n);const s=e.initialInputs;for(let l=i;l<a;l++){const x=t.data[l],F=Ec(n,t,l,e);Es(F,n),null!==s&&K$(0,l-i,F,x,0,s),A1(x)&&(Ln(e.index,n)[_i]=Ec(n,t,l,e))}}(t,n,e,Ht(e,n)),!(64&~e.flags)&&bw(t,n,e))}function z6(t,n,e=Ht){const r=n.localNames;if(null!==r){let i=n.index+1;for(let a=0;a<r.length;a+=2){const s=r[a+1],l=-1===s?e(n,t):t[s];t[i++]=l}}}function pw(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Mv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Mv(t,n,e,r,i,a,s,l,x,F,oe){const Le=Rr+r,je=Le+i,rt=function A$(t,n){const e=[];for(let r=0;r<n;r++)e.push(r<t?null:Sn);return e}(Le,je),ht="function"==typeof F?F():F;return rt[cr]={type:t,blueprint:rt,template:e,queries:null,viewQuery:l,declTNode:n,data:rt.slice().fill(null,Le),bindingStartIndex:Le,expandoStartIndex:je,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:x,consts:ht,incompleteFirstPass:!1,ssrId:oe}}let mw=()=>null;function vw(t,n,e,r,i){for(let a in n){if(!n.hasOwnProperty(a))continue;const s=n[a];if(void 0===s)continue;r??={};let l,x=Cn.None;Array.isArray(s)?(l=s[0],x=s[1]):l=s;let F=a;if(null!==i){if(!i.hasOwnProperty(a))continue;F=i[a]}0===t?gw(r,e,F,l,x):gw(r,e,F,l)}return r}function gw(t,n,e,r,i){let a;t.hasOwnProperty(e)?(a=t[e]).push(n,r):a=t[e]=[n,r],void 0!==i&&a.push(i)}function Po(t,n,e,r,i,a,s,l){const x=Ht(n,e);let oe,F=n.inputs;!l&&null!=F&&(oe=F[r])?(Tv(t,e,oe,r,i),uo(n)&&function O$(t,n){const e=Ln(n,t);16&e[Nr]||(e[Nr]|=64)}(e,n.index)):3&n.type&&(r=function F$(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,n.value||"",r):i,a.setProperty(x,r,i))}function wv(t,n,e,r){if(La()){const i=null===r?null:{"":-1},a=function $$(t,n){const e=t.directiveRegistry;let r=null,i=null;if(e)for(let a=0;a<e.length;a++){const s=e[a];if(fl(n,s.selectors,!1))if(r||(r=[]),A1(s))if(null!==s.findHostDirectiveDefs){const l=[];i=i||new Map,s.findHostDirectiveDefs(s,l,i),r.unshift(...l,s),_v(t,n,l.length)}else r.unshift(s),_v(t,n,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,e);let s,l;null===a?s=l=null:[s,l]=a,null!==s&&yw(t,n,e,s,i,l),i&&function W$(t,n,e){if(n){const r=t.localNames=[];for(let i=0;i<n.length;i+=2){const a=e[n[i+1]];if(null==a)throw new Je(-301,!1);r.push(n[i],a)}}}(e,r,i)}e.mergedAttrs=Ca(e.mergedAttrs,e.attrs)}function yw(t,n,e,r,i,a){for(let F=0;F<r.length;F++)pf(s6(e,n),t,r[F].type);!function Y$(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}(e,t.data.length,r.length);for(let F=0;F<r.length;F++){const oe=r[F];oe.providersResolver&&oe.providersResolver(oe)}let s=!1,l=!1,x=n1(t,n,r.length,null);for(let F=0;F<r.length;F++){const oe=r[F];e.mergedAttrs=Ca(e.mergedAttrs,oe.hostAttrs),Z$(t,e,n,x,oe),j$(x,oe,i),null!==oe.contentQueries&&(e.flags|=4),(null!==oe.hostBindings||null!==oe.hostAttrs||0!==oe.hostVars)&&(e.flags|=64);const Le=oe.type.prototype;!s&&(Le.ngOnChanges||Le.ngOnInit||Le.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),s=!0),!l&&(Le.ngOnChanges||Le.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),l=!0),x++}!function R$(t,n,e){const i=n.directiveEnd,a=t.data,s=n.attrs,l=[];let x=null,F=null;for(let oe=n.directiveStart;oe<i;oe++){const Le=a[oe],je=e?e.get(Le):null,ht=je?je.outputs:null;x=vw(0,Le.inputs,oe,x,je?je.inputs:null),F=vw(1,Le.outputs,oe,F,ht);const Ft=null===x||null===s||h1(n)?null:Q$(x,oe,s);l.push(Ft)}null!==x&&(x.hasOwnProperty("class")&&(n.flags|=8),x.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=l,n.inputs=x,n.outputs=F}(t,e,a)}function bw(t,n,e){const r=e.directiveStart,i=e.directiveEnd,a=e.index,s=function p5(){return er.lFrame.currentDirectiveIndex}();try{kc(a);for(let l=r;l<i;l++){const x=t.data[l],F=n[l];p0(l),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&G$(x,F)}}finally{kc(-1),p0(s)}}function G$(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function _v(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function j$(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;A1(n)&&(e[""]=t)}}function Z$(t,n,e,r,i){t.data[r]=i;const a=i.factory||(i.factory=b2(i.type)),s=new w3(a,A1(i),lt);t.blueprint[r]=s,e[r]=s,function H$(t,n,e,r,i){const a=i.hostBindings;if(a){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const l=~n.index;(function V$(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(s)!=l&&s.push(l),s.push(e,r,a)}}(t,n,r,n1(t,e,i.hostVars,Sn),i)}function Rc(t,n,e,r,i,a){const s=Ht(t,n);!function Lv(t,n,e,r,i,a,s){if(null==a)t.removeAttribute(n,i,e);else{const l=null==s?zr(a):s(a,r||"",i);t.setAttribute(n,i,l,e)}}(n[Tr],s,a,t.value,e,r,i)}function K$(t,n,e,r,i,a){const s=a[n];if(null!==s)for(let l=0;l<s.length;)Ur(r,e,s[l++],s[l++],s[l++],s[l++])}function Q$(t,n,e){let r=null,i=0;for(;i<e.length;){const a=e[i];if(0!==a)if(5!==a){if("number"==typeof a)break;if(t.hasOwnProperty(a)){null===r&&(r=[]);const s=t[a];for(let l=0;l<s.length;l+=3)if(s[l]===n){r.push(a,s[l+1],s[l+2],e[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Cw(t,n,e,r){return[t,!0,0,n,null,r,null,e,null,null]}function xw(t,n){const e=t.contentQueries;if(null!==e){const r=h(null);try{for(let i=0;i<e.length;i+=2){const s=e[i+1];if(-1!==s){const l=t.data[s];v0(e[i]),l.contentQueries(2,n[s],s)}}}finally{h(r)}}}function $h(t,n){return t[Dc]?t[W4][V1]=n:t[Dc]=n,t[W4]=n,n}function Sv(t,n,e){v0(0);const r=h(null);try{n(t,e)}finally{h(r)}}function Mw(t){return t[Xo]||(t[Xo]=[])}function ww(t){return t.cleanup||(t.cleanup=[])}function Wh(t,n){const e=t[Ga],r=e?e.get(D2,null):null;r&&r.handleError(n)}function Tv(t,n,e,r,i){for(let a=0;a<e.length;){const s=e[a++],l=e[a++],x=e[a++];Ur(t.data[s],n[s],r,l,x,i)}}function El(t,n,e){const r=Rt(n,t);!function Eh(t,n,e){t.setValue(n,e)}(t[Tr],r,e)}function J$(t,n){const e=Ln(n,t),r=e[cr];!function q$(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}(r,e);const i=e[Ji];null!==i&&null===e[Bs]&&(e[Bs]=q2(i,e[Ga])),Dv(r,e,e[_i])}function Dv(t,n,e){J4(n);try{const r=t.viewQuery;null!==r&&Sv(1,r,e);const i=t.template;null!==i&&as(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[co]?.finishViewCreation(t),t.staticContentQueries&&xw(t,n),t.staticViewQueries&&Sv(2,t.viewQuery,e);const a=t.components;null!==a&&function eW(t,n){for(let e=0;e<n.length;e++)J$(t,n[e])}(n,a)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[Nr]&=-5,e6()}}function k6(t,n){return!n||null===n.firstChild||l6(t)}function e8(t,n,e,r=!0){const i=n[cr];if(function vv(t,n,e,r){const i=ha+r,a=e.length;r>0&&(e[i-1][V1]=n),r<a-ha?(n[V1]=e[i],V2(e,ha+r,n)):(e.push(n),n[V1]=null),n[Na]=e;const s=n[yl];null!==s&&e!==s&&function gv(t,n){const e=t[Jo];n[ra]!==n[Na][Na][ra]&&(t[Nr]|=Z2.HasTransplantedViews),null===e?t[Jo]=[n]:e.push(n)}(s,n);const l=n[co];null!==l&&l.insertView(t),fi(n),n[Nr]|=128}(i,n,t,e),r){const s=Jf(e,t),l=n[Tr],x=D6(l,t[Pa]);null!==x&&function mv(t,n,e,r,i,a){r[Ji]=i,r[Ia]=n,Ie(t,r,e,1,i,a)}(i,t[Ia],l,n,x,s)}const a=n[Bs];null!==a&&null!==a.firstChild&&(a.firstChild=null)}function t8(t,n,e,r,i=!1){for(;null!==e;){const a=n[e.index];null!==a&&r.push(Xt(a)),Ds(a)&&Sw(a,r);const s=e.type;if(8&s)t8(t,n,e.child,r);else if(32&s){const l=Zf(e,n);let x;for(;x=l();)r.push(x)}else if(16&s){const l=Gh(n,e);if(Array.isArray(l))r.push(...l);else{const x=wr(n[ra]);t8(x[cr],x,l,r,!0)}}e=i?e.projectionNext:e.next}return r}function Sw(t,n){for(let e=ha;e<t.length;e++){const r=t[e],i=r[cr].firstChild;null!==i&&t8(r[cr],r,i,n)}t[Pa]!==t[Ji]&&n.push(t[Pa])}let Tw=[];const iW={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{vi(t.lView)},consumerOnSignalRead(){this.lView[Y2]=this}},Dw=100;function jh(t,n=!0,e=0){const r=t[D1],i=r.rendererFactory;i.begin?.();try{!function aW(t,n){zv(t,n);let e=0;for(;Mr(t);){if(e===Dw)throw new Je(103,!1);e++,zv(t,1)}}(t,e)}catch(s){throw n&&Wh(t,s),s}finally{i.end?.(),r.inlineEffectRunner?.flush()}}function sW(t,n,e,r){const i=n[Nr];if(!(256&~i))return;n[D1].inlineEffectRunner?.flush(),J4(n);let s=null,l=null;(function oW(t){return 2!==t.type})(t)&&(l=function tW(t){return t[Y2]??function nW(t){const n=Tw.pop()??Object.create(iW);return n.lView=t,n}(t)}(n),s=function A(t){return t&&(t.nextProducerIndex=0),h(t)}(l));try{fr(n),function f5(t){return er.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&as(t,n,e,2,r);const x=!(3&~i);if(x){const Le=t.preOrderCheckHooks;null!==Le&&Ll(n,Le,null)}else{const Le=t.preOrderHooks;null!==Le&&y0(n,Le,0,null),J2(n,0)}if(function cW(t){for(let n=$5(t);null!==n;n=W5(n)){if(!(n[Nr]&Z2.HasTransplantedViews))continue;const e=n[Jo];for(let r=0;r<e.length;r++){kr(e[r])}}}(n),Aw(n,0),null!==t.contentQueries&&xw(t,n),x){const Le=t.contentCheckHooks;null!==Le&&Ll(n,Le)}else{const Le=t.contentHooks;null!==Le&&y0(n,Le,1),J2(n,1)}!function Ai(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const i=e[r];if(i<0)kc(~i);else{const a=i,s=e[++r],l=e[++r];h5(s,a),l(2,n[a])}}}finally{kc(-1)}}(t,n);const F=t.components;null!==F&&kw(n,F,0);const oe=t.viewQuery;if(null!==oe&&Sv(2,oe,r),x){const Le=t.viewCheckHooks;null!==Le&&Ll(n,Le)}else{const Le=t.viewHooks;null!==Le&&y0(n,Le,2),J2(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[bl]){for(const Le of n[bl])Le();n[bl]=null}n[Nr]&=-73}catch(x){throw vi(n),x}finally{null!==l&&(function D(t,n){if(h(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(b(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)L(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(l,s),function rW(t){t.lView[Y2]!==t&&(t.lView=null,Tw.push(t))}(l)),e6()}}function Aw(t,n){for(let e=$5(t);null!==e;e=W5(e))for(let r=ha;r<e.length;r++)zw(e[r],n)}function lW(t,n,e){zw(Ln(n,t),e)}function zw(t,n){sr(t)&&zv(t,n)}function zv(t,n){const r=t[cr],i=t[Nr],a=t[Y2];let s=!!(0===n&&16&i);if(s||=!!(64&i&&0===n),s||=!!(1024&i),s||=!(!a?.dirty||!_(a)),a&&(a.dirty=!1),t[Nr]&=-9217,s)sW(r,t,r.template,t[_i]);else if(8192&i){Aw(t,1);const l=r.components;null!==l&&kw(t,l,1)}}function kw(t,n,e){for(let r=0;r<n.length;r++)lW(t,n[r],e)}function n8(t){for(t[D1].changeDetectionScheduler?.notify();t;){t[Nr]|=64;const n=wr(t);if(fs(t)&&!n)return t;t=n}return null}class r8{get rootNodes(){const n=this._lView,e=n[cr];return t8(e,n,e.firstChild,[])}constructor(n,e,r=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_i]}set context(n){this._lView[_i]=n}get destroyed(){return!(256&~this._lView[Nr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Na];if(Ds(n)){const e=n[8],r=e?e.indexOf(this):-1;r>-1&&(zl(n,r),Kl(e,r))}this._attachedToViewContainer=!1}N0(this._lView[cr],this._lView)}onDestroy(n){ti(this._lView,n)}markForCheck(){n8(this._cdRefInjectingView||this._lView)}detach(){this._lView[Nr]&=-129}reattach(){fi(this._lView),this._lView[Nr]|=128}detectChanges(){this._lView[Nr]|=1024,jh(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Nh(this._lView[cr],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Je(902,!1);this._appRef=n,fi(this._lView)}}let z1=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=dW}return t})();const uW=z1,fW=class extends uW{constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,r){const i=function qf(t,n,e,r){const i=h(null);try{const a=n.tView,x=Ti(t,a,e,4096&t[Nr]?4096:16,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);x[yl]=t[n.index];const oe=t[co];return null!==oe&&(x[co]=oe.createEmbeddedView(a)),Dv(a,x,e),x}finally{h(i)}}(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:e,dehydratedView:r});return new r8(i)}};function dW(){return Yh(di(),An())}function Yh(t,n){return 4&t.type?new fW(n,t,w0(t,n)):null}class Jh{}class RW{}class Ow{}class OW{resolveComponentFactory(n){throw function FW(t){const n=Error(`No component factory found for ${ir(t)}.`);return n.ngComponent=t,n}(n)}}let G3=(()=>{class t{static#e=this.NULL=new OW}return t})();class Rv{}let a2=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function BW(){const t=An(),e=Ln(di().index,t);return(_a(e)?e:t)[Tr]}()}return t})(),HW=(()=>{class t{static#e=this.\u0275prov=nn({token:t,providedIn:"root",factory:()=>null})}return t})();const Fv={},Hw=new Set;function Fc(t){Hw.has(t)||(Hw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Vw(...t){}class Di{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fr(!1),this.onMicrotaskEmpty=new Fr(!1),this.onStable=new Fr(!1),this.onError=new Fr(!1),typeof Zone>"u")throw new Je(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function VW(){const t="function"==typeof mn.requestAnimationFrame;let n=mn[t?"requestAnimationFrame":"setTimeout"],e=mn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&e){const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function $W(t){const n=()=>{!function GW(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(mn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Bv(t),t.isCheckStableRunning=!0,Ov(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Bv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,a,s,l)=>{if(function WW(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(l))return e.invokeTask(i,a,s,l);try{return Uw(t),e.invokeTask(i,a,s,l)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||t.shouldCoalesceRunChangeDetection)&&n(),Gw(t)}},onInvoke:(e,r,i,a,s,l,x)=>{try{return Uw(t),e.invoke(i,a,s,l,x)}finally{t.shouldCoalesceRunChangeDetection&&n(),Gw(t)}},onHasTask:(e,r,i,a)=>{e.hasTask(i,a),r===i&&("microTask"==a.change?(t._hasPendingMicrotasks=a.microTask,Bv(t),Ov(t)):"macroTask"==a.change&&(t.hasPendingMacrotasks=a.macroTask))},onHandleError:(e,r,i,a)=>(e.handleError(i,a),t.runOutsideAngular(()=>t.onError.emit(a)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Di.isInAngularZone())throw new Je(909,!1)}static assertNotInAngularZone(){if(Di.isInAngularZone())throw new Je(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,i){const a=this._inner,s=a.scheduleEventTask("NgZoneEvent: "+i,n,UW,Vw,Vw);try{return a.runTask(s,e,r)}finally{a.cancelTask(s)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}}const UW={};function Ov(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Bv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Uw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Gw(t){t._nesting--,Ov(t)}class $w{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fr,this.onMicrotaskEmpty=new Fr,this.onStable=new Fr,this.onError=new Fr}run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,i){return n.apply(e,r)}}var $3=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}($3||{});const Ww={destroy(){}};function Vv(t,n){!n&&function pl(t){if(!wi())throw new Je(-203,!1)}();const e=n?.injector??Xn(qi);if(!function Io(t){return"browser"===(t??Xn(qi)).get(n2)}(e))return Ww;Fc("NgAfterNextRender");const r=e.get(c8),i=r.handler??=new Yw,a=n?.phase??$3.MixedReadWrite,s=()=>{i.unregister(x),l()},l=e.get(M0).onDestroy(s),x=Ea(e,()=>new jw(a,()=>{s(),t()}));return i.register(x),{destroy:s}}class jw{constructor(n,e){this.phase=n,this.callbackFn=e,this.zone=Xn(Di),this.errorHandler=Xn(D2,{optional:!0}),Xn(Jh,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(n){this.errorHandler?.handleError(n)}}}class Yw{constructor(){this.executingCallbacks=!1,this.buckets={[$3.EarlyRead]:new Set,[$3.Write]:new Set,[$3.MixedReadWrite]:new Set,[$3.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const e of n)e.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let c8=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const e=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of e)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=nn({token:t,providedIn:"root",factory:()=>new t})}return t})();function e7(t,n,e){let r=e?t.styles:null,i=e?t.classes:null,a=0;if(null!==n)for(let s=0;s<n.length;s++){const l=n[s];"number"==typeof l?a=l:1==a?i=On(i,l):2==a&&(r=On(r,l+": "+n[++s]+";"))}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=i:t.classesWithoutHost=i}class Kw extends G3{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=ri(n);return new f8(e,this.ngModule)}}function Qw(t){const n=[];for(const e in t){if(!t.hasOwnProperty(e))continue;const r=t[e];void 0!==r&&n.push({propName:Array.isArray(r)?r[0]:r,templateName:e})}return n}class t7{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){r=ol(r);const i=this.injector.get(n,Fv,r);return i!==Fv||e===Fv?i:this.parentInjector.get(n,e,r)}}class f8 extends Ow{get inputs(){const n=this.componentDef,e=n.inputTransforms,r=Qw(n.inputs);if(null!==e)for(const i of r)e.hasOwnProperty(i.propName)&&(i.transform=e[i.propName]);return r}get outputs(){return Qw(this.componentDef.outputs)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function ef(t){return t.map(qu).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,r,i){const a=h(null);try{let s=(i=i||this.ngModule)instanceof Ts?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const l=s?new t7(n,s):n,x=l.get(Rv,null);if(null===x)throw new Je(407,!1);const F=l.get(HW,null),je={rendererFactory:x,sanitizer:F,inlineEffectRunner:null,afterRenderEventManager:l.get(c8,null),changeDetectionScheduler:l.get(Jh,null)},rt=x.createRenderer(null,this.componentDef),ht=this.componentDef.selectors[0][0]||"div",Ft=r?function z$(t,n,e,r){const a=r.get(th,!1)||e===on.ShadowDom,s=t.selectRootElement(n,a);return function k$(t){mw(t)}(s),s}(rt,r,this.componentDef.encapsulation,l):T6(rt,ht,function KW(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(ht));let an=512;this.componentDef.signals?an|=4096:this.componentDef.onPush||(an|=16);let yn=null;null!==Ft&&(yn=q2(Ft,l,!0));const pn=Mv(0,null,null,1,0,null,null,null,null,null,null),tr=Ti(null,pn,null,an,null,null,je,rt,l,null,yn);let mr,Pr;J4(tr);try{const pi=this.componentDef;let Ri,Ja=null;pi.findHostDirectiveDefs?(Ri=[],Ja=new Map,pi.findHostDirectiveDefs(pi,Ri,Ja),Ri.push(pi)):Ri=[pi];const al=function JW(t,n){const e=t[cr],r=Rr;return t[r]=n,$s(e,r,2,"#host",null)}(tr,Ft),e3=function qW(t,n,e,r,i,a,s){const l=i[cr];!function ej(t,n,e,r){for(const i of t)n.mergedAttrs=Ca(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(e7(n,n.mergedAttrs,!0),null!==e&&Gn(r,e,n))}(r,t,n,s);let x=null;null!==n&&(x=q2(n,i[Ga]));const F=a.rendererFactory.createRenderer(n,e);let oe=16;e.signals?oe=4096:e.onPush&&(oe=64);const Le=Ti(i,pw(e),null,oe,i[t.index],t,a,F,null,null,x);return l.firstCreatePass&&_v(l,t,r.length-1),$h(i,Le),i[t.index]=Le}(al,Ft,pi,Ri,tr,je,rt);Pr=tn(pn,Rr),Ft&&function nj(t,n,e,r){if(r)gr(t,e,["ng-version","17.3.12"]);else{const{attrs:i,classes:a}=function t0(t){const n=[],e=[];let r=1,i=2;for(;r<t.length;){let a=t[r];if("string"==typeof a)2===i?""!==a&&n.push(a,t[++r]):8===i&&e.push(a);else{if(!Ss(i))break;i=a}r++}return{attrs:n,classes:e}}(n.selectors[0]);i&&gr(t,e,i),a&&a.length>0&&Un(t,e,a.join(" "))}}(rt,pi,Ft,r),void 0!==e&&function rj(t,n,e){const r=t.projection=[];for(let i=0;i<n.length;i++){const a=e[i];r.push(null!=a?Array.from(a):null)}}(Pr,this.ngContentSelectors,e),mr=function tj(t,n,e,r,i,a){const s=di(),l=i[cr],x=Ht(s,i);yw(l,i,s,e,null,r);for(let oe=0;oe<e.length;oe++)Es(Ec(i,l,s.directiveStart+oe,s),i);bw(l,i,s),x&&Es(x,i);const F=Ec(i,l,s.directiveStart+s.componentOffset,s);if(t[_i]=i[_i]=F,null!==a)for(const oe of a)oe(F,n);return po(l,s,i),F}(e3,pi,Ri,Ja,tr,[ij]),Dv(pn,tr,null)}finally{e6()}return new QW(this.componentType,mr,w0(Pr,tr),tr,Pr)}finally{h(a)}}}class QW extends RW{constructor(n,e,r,i,a){super(),this.location=r,this._rootLView=i,this._tNode=a,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new r8(i,void 0,!1),this.componentType=n}setInput(n,e){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;const a=this._rootLView;Tv(a[cr],a,i,n,e),this.previousInputValues.set(n,e),n8(Ln(this._tNode.index,a))}}get injector(){return new ks(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function ij(){const t=di();Or(An()[cr],t)}let mo=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=aj}return t})();function aj(){return e_(di(),An())}const sj=mo,Jw=class extends sj{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return w0(this._hostTNode,this._hostLView)}get injector(){return new ks(this._hostTNode,this._hostLView)}get parentInjector(){const n=S3(this._hostTNode,this._hostLView);if(t2(n)){const e=_3(n,this._hostLView),r=zs(n);return new ks(e[cr].data[r+8],e)}return new ks(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=qw(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-ha}createEmbeddedView(n,e,r){let i,a;"number"==typeof r?i=r:null!=r&&(i=r.index,a=r.injector);const l=n.createEmbeddedViewImpl(e||{},a,null);return this.insertImpl(l,i,k6(this._hostTNode,null)),l}createComponent(n,e,r,i,a){const s=n&&!function gl(t){return"function"==typeof t}(n);let l;if(s)l=e;else{const ht=e||{};l=ht.index,r=ht.injector,i=ht.projectableNodes,a=ht.environmentInjector||ht.ngModuleRef}const x=s?n:new f8(ri(n)),F=r||this.parentInjector;if(!a&&null==x.ngModule){const Ft=(s?F:this.parentInjector).get(Ts,null);Ft&&(a=Ft)}ri(x.componentType??{});const rt=x.create(F,i,null,a);return this.insertImpl(rt.hostView,l,k6(this._hostTNode,null)),rt}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,r){const i=n._lView;if(function ar(t){return Ds(t[Na])}(i)){const l=this.indexOf(n);if(-1!==l)this.detach(l);else{const x=i[Na],F=new Jw(x,x[Ia],x[Na]);F.detach(F.indexOf(n))}}const a=this._adjustIndex(e),s=this._lContainer;return e8(s,i,a,r),n.attachToViewContainerRef(),V2($v(s),a,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=qw(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),r=zl(this._lContainer,e);r&&(Kl($v(this._lContainer),e),N0(r[cr],r))}detach(n){const e=this._adjustIndex(n,-1),r=zl(this._lContainer,e);return r&&null!=Kl($v(this._lContainer),e)?new r8(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function qw(t){return t[8]}function $v(t){return t[8]||(t[8]=[])}function e_(t,n){let e;const r=n[t.index];return Ds(r)?e=r:(e=Cw(r,n,null,t),n[t.index]=e,$h(n,e)),t_(e,n,t,r),new Jw(e,t,n)}let t_=function r_(t,n,e,r){if(t[Pa])return;let i;i=8&e.type?Xt(r):function oj(t,n){const e=t[Tr],r=e.createComment(""),i=Ht(n,t);return kl(e,D6(e,i),r,function xv(t,n){return t.nextSibling(n)}(e,i),!1),r}(n,e),t[Pa]=i},Wv=()=>!1;class jv{constructor(n){this.queryList=n,this.matches=null}clone(){return new jv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Yv{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const r=null!==n.contentQueries?n.contentQueries[0]:e.length,i=[];for(let a=0;a<r;a++){const s=e.getByIndex(a);i.push(this.queries[s.indexInDeclarationView].clone())}return new Yv(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==Jv(n,e).matches&&this.queries[e].setDirty()}}class i_{constructor(n,e,r=null){this.flags=e,this.read=r,this.predicate="string"==typeof n?function mj(t){return t.split(",").map(n=>n.trim())}(n):n}}class Zv{constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,a=this.getByIndex(r).embeddedTView(n,i);a&&(a.indexInDeclarationView=r,null!==e?e.push(a):e=[a])}return null!==e?new Zv(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Xv{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new Xv(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const e=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const a=r[i];this.matchTNodeWithReadOption(n,e,fj(e,a)),this.matchTNodeWithReadOption(n,e,Sl(e,n,a,!1,!1))}else r===z1?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,Sl(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===is||i===mo||i===z1&&4&e.type)this.addMatch(e.index,-2);else{const a=Sl(e,n,i,!1,!1);null!==a&&this.addMatch(e.index,a)}else this.addMatch(e.index,r)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function fj(t,n){const e=t.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1];return null}function hj(t,n,e,r){return-1===e?function dj(t,n){return 11&t.type?w0(t,n):4&t.type?Yh(t,n):null}(n,t):-2===e?function pj(t,n,e){return e===is?w0(n,t):e===z1?Yh(n,t):e===mo?e_(n,t):void 0}(t,n,r):Ec(t,t[cr],e,n)}function a_(t,n,e,r){const i=n[co].queries[r];if(null===i.matches){const a=t.data,s=e.matches,l=[];for(let x=0;null!==s&&x<s.length;x+=2){const F=s[x];l.push(F<0?null:hj(n,a[F],s[x+1],e.metadata.read))}i.matches=l}return i.matches}function Kv(t,n,e,r){const i=t.queries.getByIndex(e),a=i.matches;if(null!==a){const s=a_(t,n,i,e);for(let l=0;l<a.length;l+=2){const x=a[l];if(x>0)r.push(s[l/2]);else{const F=a[l+1],oe=n[-x];for(let Le=ha;Le<oe.length;Le++){const je=oe[Le];je[yl]===je[Na]&&Kv(je[cr],je,F,r)}if(null!==oe[Jo]){const Le=oe[Jo];for(let je=0;je<Le.length;je++){const rt=Le[je];Kv(rt[cr],rt,F,r)}}}}}return r}function s_(t,n,e){const r=new wf(!(4&~e));return function I$(t,n,e,r){const i=Mw(n);i.push(e),t.firstCreatePass&&ww(t).push(r,i.length-1)}(t,n,r,r.destroy),(n[co]??=new Yv).queries.push(new jv(r))-1}function l_(t,n,e){null===t.queries&&(t.queries=new Zv),t.queries.track(new Xv(n,e))}function Jv(t,n){return t.queries.getByIndex(n)}function u_(t,n){const e=t[cr],r=Jv(e,n);return r.crossesNgTemplate?Kv(e,t,n,[]):a_(e,t,r,n)}function hi(t){let n=function __(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const r=[t];for(;n;){let i;if(A1(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Je(903,!1);i=n.\u0275dir}if(i){if(e){r.push(i);const s=t;s.inputs=r7(t.inputs),s.inputTransforms=r7(t.inputTransforms),s.declaredInputs=r7(t.declaredInputs),s.outputs=r7(t.outputs);const l=i.hostBindings;l&&kj(t,l);const x=i.viewQuery,F=i.contentQueries;if(x&&Aj(t,x),F&&zj(t,F),Tj(t,i),vr(t.outputs,i.outputs),A1(i)&&i.data.animation){const oe=t.data;oe.animation=(oe.animation||[]).concat(i.data.animation)}}const a=i.features;if(a)for(let s=0;s<a.length;s++){const l=a[s];l&&l.ngInherit&&l(t),l===hi&&(e=!1)}}n=Object.getPrototypeOf(n)}!function Dj(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Ca(i.hostAttrs,e=Ca(e,i.hostAttrs))}}(r)}function Tj(t,n){for(const e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;const r=n.inputs[e];if(void 0!==r&&(t.inputs[e]=r,t.declaredInputs[e]=n.declaredInputs[e],null!==n.inputTransforms)){const i=Array.isArray(r)?r[0]:r;if(!n.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=n.inputTransforms[i]}}}function r7(t){return t===B1?{}:t===Pi?[]:t}function Aj(t,n){const e=t.viewQuery;t.viewQuery=e?(r,i)=>{n(r,i),e(r,i)}:n}function zj(t,n){const e=t.contentQueries;t.contentQueries=e?(r,i,a)=>{n(r,i,a),e(r,i,a)}:n}function kj(t,n){const e=t.hostBindings;t.hostBindings=e?(r,i)=>{n(r,i),e(r,i)}:n}function eg(t){const n=t.inputConfig,e={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r];Array.isArray(i)&&i[3]&&(e[r]=i[3])}t.inputTransforms=e}class W3{}class D_{}class tg extends W3{constructor(n,e,r){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Kw(this);const i=Fs(n);this._bootstrapComponents=J1(i.bootstrap),this._r3Injector=k5(n,e,[{provide:W3,useValue:this},{provide:G3,useValue:this.componentFactoryResolver},...r],ir(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class ng extends D_{constructor(n){super(),this.moduleType=n}create(n){return new tg(this.moduleType,n,[])}}class A_ extends W3{constructor(n){super(),this.componentFactoryResolver=new Kw(this),this.instance=null;const e=new Yo([...n.providers,{provide:W3,useValue:this},{provide:G3,useValue:this.componentFactoryResolver}],n.parent||So(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function i7(t,n,e=null){return new A_({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}let I6=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Xe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function s7(t){return!!function rg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Oc(t,n,e){return t[n]=e}function Ns(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function j3(t,n,e,r){const i=Ns(t,n,e);return Ns(t,n+1,r)||i}function o7(t,n,e,r,i){const a=j3(t,n,e,r);return Ns(t,n+2,i)||a}function k2(t,n,e,r,i,a){const s=j3(t,n,e,r);return j3(t,n+2,i,a)||s}function zn(t,n,e,r,i,a,s,l){const x=An(),F=Ir(),oe=t+Rr,Le=F.firstCreatePass?function $j(t,n,e,r,i,a,s,l,x){const F=n.consts,oe=$s(n,t,4,s||null,qn(F,l));wv(n,e,oe,qn(F,x)),Or(n,oe);const Le=oe.tView=Mv(2,oe,r,i,a,n.directiveRegistry,n.pipeRegistry,null,n.schemas,F,null);return null!==n.queries&&(n.queries.template(n,oe),Le.queries=n.queries.embeddedTView(oe)),oe}(oe,F,x,n,e,r,i,a,s):F.data[oe];Ui(Le,!1);const je=z_(F,x,Le,t);_l()&&A6(F,x,je,Le),Es(je,x);const rt=Cw(je,x,je,Le);return x[oe]=rt,$h(x,rt),function n_(t,n,e){return Wv(t,n,e)}(rt,Le,x),Cl(Le)&&r2(F,x,Le),null!=s&&z6(x,Le,l),zn}let z_=function k_(t,n,e,r){return fo(!0),n[Tr].createComment("")};function k1(t,n,e,r){const i=An();return Ns(i,Ao(),n)&&(Ir(),Rc(pa(),i,t,n,e,r)),k1}function U6(t,n,e,r){return Ns(t,Ao(),e)?n+zr(e)+r:Sn}function h7(t,n){return t<<17|n<<2}function F0(t){return t>>17&32767}function hg(t){return 2|t}function Z3(t){return(131068&t)>>2}function pg(t,n){return-131069&t|n<<2}function mg(t){return 1|t}function cL(t,n,e,r){const i=t[e+1],a=null===n;let s=r?F0(i):Z3(i),l=!1;for(;0!==s&&(!1===l||a);){const F=t[s+1];zY(t[s],n)&&(l=!0,t[s+1]=r?mg(F):hg(F)),s=r?F0(F):Z3(F)}l&&(t[e+1]=r?hg(i):mg(i))}function zY(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Mc(t,n)>=0}const r1={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function lL(t){return t.substring(r1.key,r1.keyEnd)}function uL(t,n){const e=r1.textEnd;return e===n?-1:(n=r1.keyEnd=function IY(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}(t,r1.key=n,e),K6(t,n,e))}function K6(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function Ye(t,n,e){const r=An();return Ns(r,Ao(),n)&&Po(Ir(),pa(),r,t,n,r[Tr],e,!1),Ye}function vg(t,n,e,r,i){const s=i?"class":"style";Tv(t,e,n.inputs[s],s,r)}function Q6(t,n,e){return nc(t,n,e,!1),Q6}function lr(t,n){return nc(t,n,null,!0),lr}function Hc(t,n){for(let e=function EY(t){return function dL(t){r1.key=0,r1.keyEnd=0,r1.value=0,r1.valueEnd=0,r1.textEnd=t.length}(t),uL(t,K6(t,0,r1.textEnd))}(n);e>=0;e=uL(n,e))L1(t,lL(n),!0)}function nc(t,n,e,r){const i=An(),a=Ir(),s=j1(2);a.firstUpdatePass&&vL(a,t,s,r),n!==Sn&&Ns(i,s,n)&&yL(a,a.data[e1()],i,i[Tr],t,i[s+1]=function jY(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=ir(K1(t)))),t}(n,e),r,s)}function mL(t,n){return n>=t.expandoStartIndex}function vL(t,n,e,r){const i=t.data;if(null===i[e+1]){const a=i[e1()],s=mL(t,e);CL(a,r)&&null===n&&!s&&(n=!1),n=function BY(t,n,e,r){const i=function K4(t){const n=er.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let a=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(e=y8(e=gg(null,t,n,e,r),n.attrs,r),a=null);else{const s=n.directiveStylingLast;if(-1===s||t[s]!==i)if(e=gg(i,t,n,e,r),null===a){let x=function HY(t,n,e){const r=e?n.classBindings:n.styleBindings;if(0!==Z3(r))return t[F0(r)]}(t,n,r);void 0!==x&&Array.isArray(x)&&(x=gg(null,t,n,x[1],r),x=y8(x,n.attrs,r),function VY(t,n,e,r){t[F0(e?n.classBindings:n.styleBindings)]=r}(t,n,r,x))}else a=function UY(t,n,e){let r;const i=n.directiveEnd;for(let a=1+n.directiveStylingLast;a<i;a++)r=y8(r,t[a].hostAttrs,e);return y8(r,n.attrs,e)}(t,n,r)}return void 0!==a&&(r?n.residualClasses=a:n.residualStyles=a),e}(i,a,n,r),function DY(t,n,e,r,i,a){let s=a?n.classBindings:n.styleBindings,l=F0(s),x=Z3(s);t[r]=e;let oe,F=!1;if(Array.isArray(e)?(oe=e[1],(null===oe||Mc(e,oe)>0)&&(F=!0)):oe=e,i)if(0!==x){const je=F0(t[l+1]);t[r+1]=h7(je,l),0!==je&&(t[je+1]=pg(t[je+1],r)),t[l+1]=function SY(t,n){return 131071&t|n<<17}(t[l+1],r)}else t[r+1]=h7(l,0),0!==l&&(t[l+1]=pg(t[l+1],r)),l=r;else t[r+1]=h7(x,0),0===l?l=r:t[x+1]=pg(t[x+1],r),x=r;F&&(t[r+1]=hg(t[r+1])),cL(t,oe,r,!0),cL(t,oe,r,!1),function AY(t,n,e,r,i){const a=i?t.residualClasses:t.residualStyles;null!=a&&"string"==typeof n&&Mc(a,n)>=0&&(e[r+1]=mg(e[r+1]))}(n,oe,t,r,a),s=h7(l,x),a?n.classBindings=s:n.styleBindings=s}(i,a,n,e,s,r)}}function gg(t,n,e,r,i){let a=null;const s=e.directiveEnd;let l=e.directiveStylingLast;for(-1===l?l=e.directiveStart:l++;l<s&&(a=n[l],r=y8(r,a.hostAttrs,i),a!==t);)l++;return null!==t&&(e.directiveStylingLast=l),r}function y8(t,n,e){const r=e?1:2;let i=-1;if(null!==n)for(let a=0;a<n.length;a++){const s=n[a];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),L1(t,s,!!e||n[++a]))}return void 0===t?null:t}function yL(t,n,e,r,i,a,s,l){if(!(3&n.type))return;const x=t.data,F=x[l+1],oe=function TY(t){return!(1&~t)}(F)?bL(x,n,e,i,Z3(F),s):void 0;p7(oe)||(p7(a)||function LY(t){return!(2&~t)}(F)&&(a=bL(x,null,e,i,l,s)),function rn(t,n,e,r,i){if(n)i?t.addClass(e,r):t.removeClass(e,r);else{let a=-1===r.indexOf("-")?void 0:z2.DashCase;null==i?t.removeStyle(e,r,a):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),a|=z2.Important),t.setStyle(e,r,i,a))}}(r,s,Rt(e1(),e),i,a))}function bL(t,n,e,r,i,a){const s=null===n;let l;for(;i>0;){const x=t[i],F=Array.isArray(x),oe=F?x[1]:x,Le=null===oe;let je=e[i+1];je===Sn&&(je=Le?Pi:void 0);let rt=Le?s3(je,r):oe===r?je:void 0;if(F&&!p7(rt)&&(rt=s3(x,r)),p7(rt)&&(l=rt,s))return l;const ht=t[i+1];i=s?F0(ht):Z3(ht)}if(null!==n){let x=a?n.residualClasses:n.residualStyles;null!=x&&(l=s3(x,r))}return l}function p7(t){return void 0!==t}function CL(t,n){return!!(t.flags&(n?8:16))}function Vc(t,n,e){!function rc(t,n,e,r){const i=Ir(),a=j1(2);i.firstUpdatePass&&vL(i,null,a,r);const s=An();if(e!==Sn&&Ns(s,a,e)){const l=i.data[e1()];if(CL(l,r)&&!mL(i,a)){let x=r?l.classesWithoutHost:l.stylesWithoutHost;null!==x&&(e=On(x,e||"")),vg(i,l,s,e,r)}else!function WY(t,n,e,r,i,a,s,l){i===Sn&&(i=Pi);let x=0,F=0,oe=0<i.length?i[0]:null,Le=0<a.length?a[0]:null;for(;null!==oe||null!==Le;){const je=x<i.length?i[x+1]:void 0,rt=F<a.length?a[F+1]:void 0;let Ft,ht=null;oe===Le?(x+=2,F+=2,je!==rt&&(ht=Le,Ft=rt)):null===Le||null!==oe&&oe<Le?(x+=2,ht=oe):(F+=2,ht=Le,Ft=rt),null!==ht&&yL(t,n,e,r,ht,Ft,s,l),oe=x<i.length?i[x]:null,Le=F<a.length?a[F]:null}}(i,l,s,s[Tr],s[a+1],s[a+1]=function GY(t,n,e){if(null==e||""===e)return Pi;const r=[],i=K1(e);if(Array.isArray(i))for(let a=0;a<i.length;a++)t(r,i[a],!0);else if("object"==typeof i)for(const a in i)i.hasOwnProperty(a)&&t(r,a,i[a]);else"string"==typeof i&&n(r,i);return r}(t,n,e),r,a)}}(L1,Hc,U6(An(),t,n,e),!0)}function be(t,n,e,r){const i=An(),a=Ir(),s=Rr+t,l=i[Tr],x=a.firstCreatePass?function pZ(t,n,e,r,i,a){const s=n.consts,x=$s(n,t,2,r,qn(s,i));return wv(n,e,x,qn(s,a)),null!==x.attrs&&e7(x,x.attrs,!1),null!==x.mergedAttrs&&e7(x,x.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,x),x}(s,a,i,n,e,r):a.data[s],F=_L(a,i,x,l,n,t);i[s]=F;const oe=Cl(x);return Ui(x,!0),Gn(l,F,x),!function p8(t){return!(32&~t.flags)}(x)&&_l()&&A6(a,i,F,x),0===function Ra(){return er.lFrame.elementDepthCount}()&&Es(F,i),function rs(){er.lFrame.elementDepthCount++}(),oe&&(r2(a,i,x),po(a,x,i)),null!==r&&z6(i,x),be}function we(){let t=di();qs()?h0():(t=t.parent,Ui(t,!1));const n=t;(function Wa(t){return er.skipHydrationRootTNode===t})(n)&&function sf(){er.skipHydrationRootTNode=null}(),function ys(){er.lFrame.elementDepthCount--}();const e=Ir();return e.firstCreatePass&&(Or(e,t),c0(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function C5(t){return!!(8&t.flags)}(n)&&vg(e,n,An(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Jm(t){return!!(16&t.flags)}(n)&&vg(e,n,An(),n.stylesWithoutHost,!1),we}function un(t,n,e,r){return be(t,n,e,r),we(),un}let _L=(t,n,e,r,i,a)=>(fo(!0),T6(r,i,function t6(){return er.lFrame.currentNamespace}()));function la(t,n,e){const r=An(),i=Ir(),a=t+Rr,s=i.firstCreatePass?function gZ(t,n,e,r,i){const a=n.consts,s=qn(a,r),l=$s(n,t,8,"ng-container",s);return null!==s&&e7(l,s,!0),wv(n,e,l,qn(a,i)),null!==n.queries&&n.queries.elementStart(n,l),l}(a,i,r,n,e):i.data[a];Ui(s,!0);const l=SL(i,r,s,t);return r[a]=l,_l()&&A6(i,r,l,s),Es(l,r),Cl(s)&&(r2(i,r,s),po(i,s,r)),null!=e&&z6(r,s),la}function ua(){let t=di();const n=Ir();return qs()?h0():(t=t.parent,Ui(t,!1)),n.firstCreatePass&&(Or(n,t),c0(t)&&n.queries.elementEnd(t)),ua}let SL=(t,n,e,r)=>(fo(!0),V3(n[Tr],""));function Qr(){return An()}function Mg(t,n,e){const r=An();return Ns(r,Ao(),n)&&Po(Ir(),pa(),r,t,n,r[Tr],e,!0),Mg}const X3=void 0;var xZ=["en",[["a","p"],["AM","PM"],X3],[["AM","PM"],X3,X3],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],X3,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],X3,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",X3,"{1} 'at' {0}",X3],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function CZ(t){const e=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===r?1:5}];let J6={};function vo(t){const n=function MZ(t){return t.toLowerCase().replace(/_/g,"-")}(t);let e=AL(n);if(e)return e;const r=n.split("-")[0];if(e=AL(r),e)return e;if("en"===r)return xZ;throw new Je(701,!1)}function AL(t){return t in J6||(J6[t]=mn.ng&&mn.ng.common&&mn.ng.common.locales&&mn.ng.common.locales[t]),J6[t]}var Fa=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Fa||{});const q6="en-US";let zL=q6;function dn(t,n,e,r){const i=An(),a=Ir(),s=di();return function Lg(t,n,e,r,i,a,s){const l=Cl(r),F=t.firstCreatePass&&ww(t),oe=n[_i],Le=Mw(n);let je=!0;if(3&r.type||s){const Ft=Ht(r,n),an=s?s(Ft):Ft,yn=Le.length,pn=s?mr=>s(Xt(mr[r.index])):r.index;let tr=null;if(!s&&l&&(tr=function yX(t,n,e,r){const i=t.cleanup;if(null!=i)for(let a=0;a<i.length-1;a+=2){const s=i[a];if(s===e&&i[a+1]===r){const l=n[Xo],x=i[a+2];return l.length>x?l[x]:null}"string"==typeof s&&(a+=2)}return null}(t,n,i,r.index)),null!==tr)(tr.__ngLastListenerFn__||tr).__ngNextListenerFn__=a,tr.__ngLastListenerFn__=a,je=!1;else{a=iS(r,n,oe,a,!1);const mr=e.listen(an,i,a);Le.push(a,mr),F&&F.push(i,pn,yn,yn+1)}}else a=iS(r,n,oe,a,!1);const rt=r.outputs;let ht;if(je&&null!==rt&&(ht=rt[i])){const Ft=ht.length;if(Ft)for(let an=0;an<Ft;an+=2){const Pr=n[ht[an]][ht[an+1]].subscribe(a),pi=Le.length;Le.push(a,Pr),F&&F.push(i,r.index,pi,-(pi+1))}}}(a,i,i[Tr],s,t,n,r),dn}function rS(t,n,e,r){const i=h(null);try{return Ue(6,n,e),!1!==e(r)}catch(a){return Wh(t,a),!1}finally{Ue(7,n,e),h(i)}}function iS(t,n,e,r,i){return function a(s){if(s===Function)return r;n8(t.componentOffset>-1?Ln(t.index,n):n);let x=rS(n,e,r,s),F=a.__ngNextListenerFn__;for(;F;)x=rS(n,e,F,s)&&x,F=F.__ngNextListenerFn__;return i&&!1===x&&s.preventDefault(),x}}function zt(t=1){return function K2(t){return(er.lFrame.contextLView=function dr(t,n){for(;t>0;)n=n[Ko],t--;return n}(t,er.lFrame.contextLView))[_i]}(t)}function bX(t,n){let e=null;const r=function Wi(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(!(1&e))return n[e+1]}return null}(t);for(let i=0;i<n.length;i++){const a=n[i];if("*"!==a){if(null===r?fl(t,a,!0):T1(r,a))return i}else e=i}return e}function L8(t){const n=An()[ra][Ia];if(!n.projection){const r=n.projection=function Ql(t,n){const e=[];for(let r=0;r<t;r++)e.push(n);return e}(t?t.length:1,null),i=r.slice();let a=n.child;for(;null!==a;){const s=t?bX(a,t):0;null!==s&&(i[s]?i[s].projectionNext=a:r[s]=a,i[s]=a),a=a.next}}}function K3(t,n=0,e){const r=An(),i=Ir(),a=$s(i,Rr+t,16,null,e||null);null===a.projection&&(a.projection=n),h0(),(!r[Bs]||$a())&&32&~a.flags&&function qe(t,n,e){Mt(n[Tr],0,n,e,Kf(t,e,n),Bh(e.parent||n[Ia],e,n))}(i,r,a)}function S8(t,n,e){return va(t,"",n,"",e),S8}function va(t,n,e,r,i){const a=An(),s=U6(a,n,e,r);return s!==Sn&&Po(Ir(),pa(),a,t,s,a[Tr],i,!1),va}function Uc(t,n,e,r){!function c_(t,n,e,r){const i=Ir();if(i.firstCreatePass){const a=di();l_(i,new i_(n,e,r),a.index),function vj(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(i,t),!(2&~e)&&(i.staticContentQueries=!0)}return s_(i,An(),e)}(t,n,e,r)}function eu(t,n,e){!function o_(t,n,e){const r=Ir();return r.firstCreatePass&&(l_(r,new i_(t,n,e),-1),!(2&~n)&&(r.staticViewQueries=!0)),s_(r,An(),n)}(t,n,e)}function go(t){const n=An(),e=Ir(),r=m0();v0(r+1);const i=Jv(e,r);if(t.dirty&&function nr(t){return!(4&~t[Nr])}(n)===!(2&~i.metadata.flags)){if(null===i.matches)t.reset([]);else{const a=u_(n,r);t.reset(a,P5),t.notifyOnChanges()}return!0}return!1}function yo(){return function Qv(t,n){return t[co].queries[n].queryList}(An(),m0())}function T8(t){return jt(function Ym(){return er.lFrame.contextLView}(),Rr+t)}function Ge(t,n=""){const e=An(),r=Ir(),i=t+Rr,a=r.firstCreatePass?$s(r,i,1,n,null):r.data[i],s=MS(r,e,a,n,t);e[i]=s,_l()&&A6(r,e,s,a),Ui(a,!1)}let MS=(t,n,e,r,i)=>(fo(!0),function H3(t,n){return t.createText(n)}(n[Tr],r));function _r(t){return ln("",t,""),_r}function ln(t,n,e){const r=An(),i=U6(r,t,n,e);return i!==Sn&&El(r,e1(),i),ln}function E1(t,n,e,r,i){const a=An(),s=function G6(t,n,e,r,i,a){const l=j3(t,L2(),e,i);return j1(2),l?n+zr(e)+r+zr(i)+a:Sn}(a,t,n,e,r,i);return s!==Sn&&El(a,e1(),s),E1}function Ws(t,n,e,r,i,a,s){const l=An(),x=function $6(t,n,e,r,i,a,s,l){const F=o7(t,L2(),e,i,s);return j1(3),F?n+zr(e)+r+zr(i)+a+zr(s)+l:Sn}(l,t,n,e,r,i,a,s);return x!==Sn&&El(l,e1(),x),Ws}function Sg(t,n,e,r,i,a,s,l,x){const F=An(),oe=function W6(t,n,e,r,i,a,s,l,x,F){const Le=k2(t,L2(),e,i,s,x);return j1(4),Le?n+zr(e)+r+zr(i)+a+zr(s)+l+zr(x)+F:Sn}(F,t,n,e,r,i,a,s,l,x);return oe!==Sn&&El(F,e1(),oe),Sg}function Tg(t,n,e,r,i){if(t=ve(t),Array.isArray(t))for(let a=0;a<t.length;a++)Tg(t[a],n,e,r,i);else{const a=Ir(),s=An(),l=di();let x=oo(t)?t:ve(t.provide);const F=hl(t),oe=1048575&l.providerIndexes,Le=l.directiveStart,je=l.providerIndexes>>20;if(oo(t)||!t.multi){const rt=new w3(F,i,lt),ht=Ag(x,n,i?oe:oe+je,Le);-1===ht?(pf(s6(l,s),a,x),Dg(a,t,n.length),n.push(x),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),e.push(rt),s.push(rt)):(e[ht]=rt,s[ht]=rt)}else{const rt=Ag(x,n,oe+je,Le),ht=Ag(x,n,oe,oe+je),an=ht>=0&&e[ht];if(i&&!an||!i&&!(rt>=0&&e[rt])){pf(s6(l,s),a,x);const yn=function BX(t,n,e,r,i){const a=new w3(t,e,lt);return a.multi=[],a.index=n,a.componentProviders=0,zS(a,i,r&&!e),a}(i?OX:FX,e.length,i,r,F);!i&&an&&(e[ht].providerFactory=yn),Dg(a,t,n.length,0),n.push(x),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),e.push(yn),s.push(yn)}else Dg(a,t,rt>-1?rt:ht,zS(e[i?ht:rt],F,!i&&r));!i&&r&&an&&e[ht].componentProviders++}}}function Dg(t,n,e,r){const i=oo(n),a=function h3(t){return!!t.useClass}(n);if(i||a){const x=(a?ve(n.useClass):n).prototype.ngOnDestroy;if(x){const F=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){const oe=F.indexOf(e);-1===oe?F.push(e,[r,x]):F[oe+1].push(r,x)}else F.push(e,x)}}}function zS(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function Ag(t,n,e,r){for(let i=e;i<r;i++)if(n[i]===t)return i;return-1}function FX(t,n,e,r){return zg(this.multi,[])}function OX(t,n,e,r){const i=this.multi;let a;if(this.providerFactory){const s=this.providerFactory.componentProviders,l=Ec(e,e[cr],this.providerFactory.index,r);a=l.slice(0,s),zg(i,a);for(let x=s;x<l.length;x++)a.push(l[x])}else a=[],zg(i,a);return a}function zg(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function Da(t,n=[]){return e=>{e.providersResolver=(r,i)=>function RX(t,n,e){const r=Ir();if(r.firstCreatePass){const i=A1(t);Tg(e,r.data,r.blueprint,i,!0),Tg(n,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,n)}}let HX=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const r=f3(0,e.type),i=r.length>0?i7([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=nn({token:t,providedIn:"environment",factory:()=>new t(gn(Ts))})}return t})();function D8(t){Fc("NgStandalone"),t.getStandaloneInjector=n=>n.get(HX).getOrCreateStandaloneInjector(t)}function O0(t,n,e,r){return function IS(t,n,e,r,i,a){const s=n+e;return Ns(t,s,i)?Oc(t,s+1,a?r.call(a,i):r(i)):A8(t,s+1)}(An(),p1(),t,n,e,r)}function ic(t,n,e,r,i){return PS(An(),p1(),t,n,e,r,i)}function ES(t,n,e,r,i,a){return function RS(t,n,e,r,i,a,s,l){const x=n+e;return o7(t,x,i,a,s)?Oc(t,x+3,l?r.call(l,i,a,s):r(i,a,s)):A8(t,x+3)}(An(),p1(),t,n,e,r,i,a)}function A8(t,n){const e=t[n];return e===Sn?void 0:e}function PS(t,n,e,r,i,a,s){const l=n+e;return j3(t,l,i,a)?Oc(t,l+2,s?r.call(s,i,a):r(i,a)):A8(t,l+2)}function Bn(t,n){const e=Ir();let r;const i=t+Rr;e.firstCreatePass?(r=function XX(t,n){if(n)for(let e=n.length-1;e>=0;e--){const r=n[e];if(t===r.name)return r}}(n,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];const a=r.factory||(r.factory=b2(r.type)),l=qa(lt);try{const x=a6(!1),F=a();return a6(x),function wX(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}(e,An(),i,F),F}finally{qa(l)}}function Hn(t,n,e,r){const i=t+Rr,a=An(),s=jt(a,i);return function z8(t,n){return t[cr].data[n].pure}(a,i)?PS(a,p1(),n,s.transform,e,r,s):s.transform(e,r)}function C7(t,n){return Yh(t,n)}let eT=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const aT=new kn(""),w7=new kn("");let Og,Rg=(()=>{class t{constructor(e,r,i){this._ngZone=e,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Og||(function jK(t){Og=t}(i),i.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Di.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let a=-1;r&&r>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==a),e()},r)),this._callbacks.push({doneCb:e,timeoutId:a,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(gn(Di),gn(Fg),gn(w7))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})(),Fg=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return Og?.findTestabilityInTree(this,e,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function I8(t){return!!t&&"function"==typeof t.then}function sT(t){return!!t&&"function"==typeof t.subscribe}const _7=new kn("");let Bg=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r}),this.appInits=Xn(_7,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const i of this.appInits){const a=i();if(I8(a))e.push(a);else if(sT(a)){const s=new Promise((l,x)=>{a.subscribe({complete:l,error:x})});e.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Hg=new kn("");function lT(t,n){return Array.isArray(n)?n.reduce(lT,t):{...t,...n}}let Gc=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Xn(N5),this.afterRenderEffectManager=Xn(c8),this.externalTestViews=new Set,this.beforeRender=new yt,this.afterTick=new yt,this.componentTypes=[],this.components=[],this.isStable=Xn(I6).hasPendingTasks.pipe(Ze(e=>!e)),this._injector=Xn(Ts)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const i=e instanceof Ow;if(!this._injector.get(Bg).done)throw!i&&function so(t){const n=ri(t)||xa(t)||Ma(t);return null!==n&&n.standalone}(e),new Je(405,!1);let s;s=i?e:this._injector.get(G3).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const l=function YK(t){return t.isBoundToModule}(s)?void 0:this._injector.get(W3),F=s.create(qi.NULL,[],r||s.selector,l),oe=F.location.nativeElement,Le=F.injector.get(aT,null);return Le?.registerApplication(oe),F.onDestroy(()=>{this.detachView(F.hostView),L7(this.components,F),Le?.unregisterApplication(oe)}),this._loadComponent(F),F}tick(){this._tick(!0)}_tick(e){if(this._runningTick)throw new Je(101,!1);const r=h(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(e)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,h(r)}}detectChangesInAttachedViews(e){let r=0;const i=this.afterRenderEffectManager;for(;;){if(r===Dw)throw new Je(103,!1);if(e){const a=0===r;this.beforeRender.next(a);for(let{_lView:s,notifyErrorHandler:l}of this._views)XK(s,a,l)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:a})=>Vg(a))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:a})=>Vg(a))))break}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;L7(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const r=this._injector.get(Hg,[]);[...this._bootstrapListeners,...r].forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>L7(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Je(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function L7(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function XK(t,n,e){!n&&!Vg(t)||function KK(t,n,e){let r;e?(r=0,t[Nr]|=1024):r=64&t[Nr]?0:1,jh(t,n,r)}(t,e,n)}function Vg(t){return Mr(t)}class QK{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let uT=(()=>{class t{compileModuleSync(e){return new ng(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),a=J1(Fs(e).declarations).reduce((s,l)=>{const x=ri(l);return x&&s.push(new f8(x)),s},[]);return new QK(r,a)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),eQ=(()=>{class t{constructor(){this.zone=Xn(Di),this.applicationRef=Xn(Gc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function tQ(){const t=Xn(Di),n=Xn(D2);return e=>t.runOutsideAngular(()=>n.handleError(e))}let rQ=(()=>{class t{constructor(){this.subscription=new te,this.initialized=!1,this.zone=Xn(Di),this.pendingTasks=Xn(I6)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Di.assertNotInAngularZone(),queueMicrotask(()=>{null!==e&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Di.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Nl=new kn("",{providedIn:"root",factory:()=>Xn(Nl,Vr.Optional|Vr.SkipSelf)||function iQ(){return typeof $localize<"u"&&$localize.locale||q6}()}),Ug=new kn("");let pT=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const i=function jW(t="zone.js",n){return"noop"===t?new $w:"zone.js"===t?new Di(n):t}(r?.ngZone,function hT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const a=function Oj(t,n,e){return new tg(t,n,e)}(e.moduleType,this.injector,function dT(t){return[{provide:Di,useFactory:t},{provide:C2,multi:!0,useFactory:()=>{const n=Xn(eQ,{optional:!0});return()=>n.initialize()}},{provide:C2,multi:!0,useFactory:()=>{const n=Xn(rQ);return()=>{n.initialize()}}},{provide:N5,useFactory:tQ}]}(()=>i)),s=a.injector.get(D2,null);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:x=>{s.handleError(x)}});a.onDestroy(()=>{L7(this._modules,a),l.unsubscribe()})}),function cT(t,n,e){try{const r=e();return I8(r)?r.catch(i=>{throw n.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}(s,i,()=>{const l=a.injector.get(Bg);return l.runInitializers(),l.donePromise.then(()=>(function kL(t){"string"==typeof t&&(zL=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Nl,q6)||q6),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,r=[]){const i=lT({},r);return function qK(t,n,e){const r=new ng(e);return Promise.resolve(r)}(0,0,e).then(a=>this.bootstrapModuleFactory(a,i))}_moduleDoBootstrap(e){const r=e.injector.get(Gc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new Je(-403,!1);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Je(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(Ug,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(gn(qi))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),B0=null;const mT=new kn("");function vT(t,n,e=[]){const r=`Platform: ${n}`,i=new kn(r);return(a=[])=>{let s=Gg();if(!s||s.injector.get(mT,!1)){const l=[...e,...a,{provide:i,useValue:!0}];t?t(l):function oQ(t){if(B0&&!B0.get(mT,!1))throw new Je(400,!1);(function oT(){!function le(t){U=t}(()=>{throw new Je(600,!1)})})(),B0=t;const n=t.get(pT);(function yT(t){t.get(h6,null)?.forEach(e=>e())})(t)}(function gT(t=[],n){return qi.create({name:n,providers:[{provide:x2,useValue:"platform"},{provide:Ug,useValue:new Set([()=>B0=null])},...t]})}(l,r))}return function cQ(t){const n=Gg();if(!n)throw new Je(401,!1);return n}()}}function Gg(){return B0?.get(pT)??null}let $c=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=uQ}return t})();function uQ(t){return function fQ(t,n,e){if(uo(t)&&!e){const r=Ln(t.index,n);return new r8(r,r)}return 47&t.type?new r8(n[ra],n):null}(di(),An(),!(16&~t))}class wT{constructor(){}supports(n){return s7(n)}create(n){return new vQ(n)}}const mQ=(t,n)=>n;class vQ{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||mQ}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,i=0,a=null;for(;e||r;){const s=!r||e&&e.currentIndex<LT(r,i,a)?e:r,l=LT(s,i,a),x=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{a||(a=[]);const F=l-i,oe=x-i;if(F!=oe){for(let je=0;je<F;je++){const rt=je<a.length?a[je]:a[je]=0,ht=rt+je;oe<=ht&&ht<F&&(a[je]=rt+1)}a[s.previousIndex]=oe-F}}l!==x&&n(s,l,x)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!s7(n))throw new Je(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,a,s,e=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let l=0;l<this.length;l++)a=n[l],s=this._trackByFn(l,a),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,a,s,l)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,l),r=!0),e=e._next}else i=0,function Uj(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Symbol.iterator]();let r;for(;!(r=e.next()).done;)n(r.value)}}(n,l=>{s=this._trackByFn(i,l),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,l,s,i)),Object.is(e.item,l)||this._addIdentityChange(e,l)):(e=this._mismatch(e,l,s,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,i){let a;return null===n?a=this._itTail:(a=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,a,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,a,i)):n=this._addAfter(new gQ(e,r),a,i),n}_verifyReinsertion(n,e,r,i){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==a?n=this._reinsertAfter(a,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,a=n._nextRemoved;return null===i?this._removalsHead=a:i._nextRemoved=a,null===a?this._removalsTail=i:a._prevRemoved=i,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){const i=null===e?this._itHead:e._next;return n._next=i,n._prev=e,null===i?this._itTail=n:i._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new _T),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,r=n._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _T),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class gQ{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yQ{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const e=n._prevDup,r=n._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class _T{constructor(){this.map=new Map}put(n){const e=n.trackById;let r=this.map.get(e);r||(r=new yQ,this.map.set(e,r)),r.add(n)}get(n,e){const i=this.map.get(n);return i?i.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function LT(t,n,e){const r=t.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+n+i}function TT(){return new Zg([new wT])}let Zg=(()=>{class t{static#e=this.\u0275prov=nn({token:t,providedIn:"root",factory:TT});constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||TT()),deps:[[t,new cl,new Go]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new Je(901,!1)}}return t})();const wQ=vT(null,"core",[]);let _Q=(()=>{class t{constructor(e){}static#e=this.\u0275fac=function(r){return new(r||t)(gn(Gc))};static#t=this.\u0275mod=Qi({type:t});static#n=this.\u0275inj=pr({})}return t})();function ac(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function qQ(t,n=NaN){return isNaN(parseFloat(t))||isNaN(Number(t))?n:Number(t)}let QT=null;function H0(){return QT}class cJ{}const Aa=new kn("");let Qg=(()=>{class t{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:()=>Xn(uJ),providedIn:"platform"})}return t})();const lJ=new kn("");let uJ=(()=>{class t extends Qg{constructor(){super(),this._doc=Xn(Aa),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H0().getBaseHref(this._doc)}onPopState(e){const r=H0().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=H0().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Jg(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function JT(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function Il(t){return t&&"?"!==t[0]?"?"+t:t}let J3=(()=>{class t{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:()=>Xn(eD),providedIn:"root"})}return t})();const qT=new kn("");let eD=(()=>{class t extends J3{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Xn(Aa).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Jg(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Il(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,a){const s=this.prepareExternalUrl(i+Il(a));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,a){const s=this.prepareExternalUrl(i+Il(a));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(r){return new(r||t)(gn(Qg),gn(qT,8))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),fJ=(()=>{class t extends J3{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Jg(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,a){let s=this.prepareExternalUrl(i+Il(a));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,a){let s=this.prepareExternalUrl(i+Il(a));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(r){return new(r||t)(gn(Qg),gn(qT,8))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})(),q1=(()=>{class t{constructor(e){this._subject=new Fr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function pJ(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}(JT(tD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Il(r))}normalize(e){return t.stripTrailingSlash(function hJ(t,n){if(!t||!n.startsWith(t))return n;const e=n.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,tD(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Il(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Il(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}static#e=this.normalizeQueryParams=Il;static#t=this.joinWithSlash=Jg;static#n=this.stripTrailingSlash=JT;static#r=this.\u0275fac=function(r){return new(r||t)(gn(J3))};static#i=this.\u0275prov=nn({token:t,factory:()=>function dJ(){return new q1(gn(J3))}(),providedIn:"root"})}return t})();function tD(t){return t.replace(/\/index.html$/,"")}var P7=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(P7||{}),Co=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Co||{}),za=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(za||{}),o2=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(o2||{});const js={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function R7(t,n){return N2(vo(t)[Fa.DateFormat],n)}function F7(t,n){return N2(vo(t)[Fa.TimeFormat],n)}function O7(t,n){return N2(vo(t)[Fa.DateTimeFormat],n)}function E2(t,n){const e=vo(t),r=e[Fa.NumberSymbols][n];if(typeof r>"u"){if(n===js.CurrencyDecimal)return e[Fa.NumberSymbols][js.Decimal];if(n===js.CurrencyGroup)return e[Fa.NumberSymbols][js.Group]}return r}function rD(t){if(!t[Fa.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Fa.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function N2(t,n){for(let e=n;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new Error("Locale data API: locale data undefined")}function ey(t){const[n,e]=t.split(":");return{hours:+n,minutes:+e}}const DJ=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,B7={},AJ=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Pl=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Pl||{}),ea=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(ea||{}),ta=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(ta||{});function zJ(t,n,e,r){let i=function BJ(t){if(sD(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[i,a=1,s=1]=t.split("-").map(l=>+l);return H7(i,a-1,s)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let r;if(r=t.match(DJ))return function HJ(t){const n=new Date(0);let e=0,r=0;const i=t[8]?n.setUTCFullYear:n.setFullYear,a=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-e,l=Number(t[5]||0)-r,x=Number(t[6]||0),F=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return a.call(n,s,l,x,F),n}(r)}const n=new Date(t);if(!sD(n))throw new Error(`Unable to convert "${t}" into a date`);return n}(t);n=Rl(e,n)||n;let l,s=[];for(;n;){if(l=AJ.exec(n),!l){s.push(n);break}{s=s.concat(l.slice(1));const oe=s.pop();if(!oe)break;n=oe}}let x=i.getTimezoneOffset();r&&(x=aD(r,x),i=function OJ(t,n,e){const r=e?-1:1,i=t.getTimezoneOffset();return function FJ(t,n){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+n),t}(t,r*(aD(n,i)-i))}(i,r,!0));let F="";return s.forEach(oe=>{const Le=function RJ(t){if(ny[t])return ny[t];let n;switch(t){case"G":case"GG":case"GGG":n=Oa(ta.Eras,za.Abbreviated);break;case"GGGG":n=Oa(ta.Eras,za.Wide);break;case"GGGGG":n=Oa(ta.Eras,za.Narrow);break;case"y":n=Ys(ea.FullYear,1,0,!1,!0);break;case"yy":n=Ys(ea.FullYear,2,0,!0,!0);break;case"yyy":n=Ys(ea.FullYear,3,0,!1,!0);break;case"yyyy":n=Ys(ea.FullYear,4,0,!1,!0);break;case"Y":n=$7(1);break;case"YY":n=$7(2,!0);break;case"YYY":n=$7(3);break;case"YYYY":n=$7(4);break;case"M":case"L":n=Ys(ea.Month,1,1);break;case"MM":case"LL":n=Ys(ea.Month,2,1);break;case"MMM":n=Oa(ta.Months,za.Abbreviated);break;case"MMMM":n=Oa(ta.Months,za.Wide);break;case"MMMMM":n=Oa(ta.Months,za.Narrow);break;case"LLL":n=Oa(ta.Months,za.Abbreviated,Co.Standalone);break;case"LLLL":n=Oa(ta.Months,za.Wide,Co.Standalone);break;case"LLLLL":n=Oa(ta.Months,za.Narrow,Co.Standalone);break;case"w":n=ty(1);break;case"ww":n=ty(2);break;case"W":n=ty(1,!0);break;case"d":n=Ys(ea.Date,1);break;case"dd":n=Ys(ea.Date,2);break;case"c":case"cc":n=Ys(ea.Day,1);break;case"ccc":n=Oa(ta.Days,za.Abbreviated,Co.Standalone);break;case"cccc":n=Oa(ta.Days,za.Wide,Co.Standalone);break;case"ccccc":n=Oa(ta.Days,za.Narrow,Co.Standalone);break;case"cccccc":n=Oa(ta.Days,za.Short,Co.Standalone);break;case"E":case"EE":case"EEE":n=Oa(ta.Days,za.Abbreviated);break;case"EEEE":n=Oa(ta.Days,za.Wide);break;case"EEEEE":n=Oa(ta.Days,za.Narrow);break;case"EEEEEE":n=Oa(ta.Days,za.Short);break;case"a":case"aa":case"aaa":n=Oa(ta.DayPeriods,za.Abbreviated);break;case"aaaa":n=Oa(ta.DayPeriods,za.Wide);break;case"aaaaa":n=Oa(ta.DayPeriods,za.Narrow);break;case"b":case"bb":case"bbb":n=Oa(ta.DayPeriods,za.Abbreviated,Co.Standalone,!0);break;case"bbbb":n=Oa(ta.DayPeriods,za.Wide,Co.Standalone,!0);break;case"bbbbb":n=Oa(ta.DayPeriods,za.Narrow,Co.Standalone,!0);break;case"B":case"BB":case"BBB":n=Oa(ta.DayPeriods,za.Abbreviated,Co.Format,!0);break;case"BBBB":n=Oa(ta.DayPeriods,za.Wide,Co.Format,!0);break;case"BBBBB":n=Oa(ta.DayPeriods,za.Narrow,Co.Format,!0);break;case"h":n=Ys(ea.Hours,1,-12);break;case"hh":n=Ys(ea.Hours,2,-12);break;case"H":n=Ys(ea.Hours,1);break;case"HH":n=Ys(ea.Hours,2);break;case"m":n=Ys(ea.Minutes,1);break;case"mm":n=Ys(ea.Minutes,2);break;case"s":n=Ys(ea.Seconds,1);break;case"ss":n=Ys(ea.Seconds,2);break;case"S":n=Ys(ea.FractionalSeconds,1);break;case"SS":n=Ys(ea.FractionalSeconds,2);break;case"SSS":n=Ys(ea.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=U7(Pl.Short);break;case"ZZZZZ":n=U7(Pl.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=U7(Pl.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=U7(Pl.Long);break;default:return null}return ny[t]=n,n}(oe);F+=Le?Le(i,e,x):"''"===oe?"'":oe.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),F}function H7(t,n,e){const r=new Date(0);return r.setFullYear(t,n,e),r.setHours(0,0,0),r}function Rl(t,n){const e=function vJ(t){return vo(t)[Fa.LocaleId]}(t);if(B7[e]??={},B7[e][n])return B7[e][n];let r="";switch(n){case"shortDate":r=R7(t,o2.Short);break;case"mediumDate":r=R7(t,o2.Medium);break;case"longDate":r=R7(t,o2.Long);break;case"fullDate":r=R7(t,o2.Full);break;case"shortTime":r=F7(t,o2.Short);break;case"mediumTime":r=F7(t,o2.Medium);break;case"longTime":r=F7(t,o2.Long);break;case"fullTime":r=F7(t,o2.Full);break;case"short":const i=Rl(t,"shortTime"),a=Rl(t,"shortDate");r=V7(O7(t,o2.Short),[i,a]);break;case"medium":const s=Rl(t,"mediumTime"),l=Rl(t,"mediumDate");r=V7(O7(t,o2.Medium),[s,l]);break;case"long":const x=Rl(t,"longTime"),F=Rl(t,"longDate");r=V7(O7(t,o2.Long),[x,F]);break;case"full":const oe=Rl(t,"fullTime"),Le=Rl(t,"fullDate");r=V7(O7(t,o2.Full),[oe,Le])}return r&&(B7[e][n]=r),r}function V7(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,r){return null!=n&&r in n?n[r]:e})),t}function sc(t,n,e="-",r,i){let a="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,a=e));let s=String(t);for(;s.length<n;)s="0"+s;return r&&(s=s.slice(s.length-n)),a+s}function Ys(t,n,e=0,r=!1,i=!1){return function(a,s){let l=function EJ(t,n){switch(t){case ea.FullYear:return n.getFullYear();case ea.Month:return n.getMonth();case ea.Date:return n.getDate();case ea.Hours:return n.getHours();case ea.Minutes:return n.getMinutes();case ea.Seconds:return n.getSeconds();case ea.FractionalSeconds:return n.getMilliseconds();case ea.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,a);if((e>0||l>-e)&&(l+=e),t===ea.Hours)0===l&&-12===e&&(l=12);else if(t===ea.FractionalSeconds)return function kJ(t,n){return sc(t,3).substring(0,n)}(l,n);const x=E2(s,js.MinusSign);return sc(l,n,x,r,i)}}function Oa(t,n,e=Co.Format,r=!1){return function(i,a){return function NJ(t,n,e,r,i,a){switch(e){case ta.Months:return function bJ(t,n,e){const r=vo(t),a=N2([r[Fa.MonthsFormat],r[Fa.MonthsStandalone]],n);return N2(a,e)}(n,i,r)[t.getMonth()];case ta.Days:return function yJ(t,n,e){const r=vo(t),a=N2([r[Fa.DaysFormat],r[Fa.DaysStandalone]],n);return N2(a,e)}(n,i,r)[t.getDay()];case ta.DayPeriods:const s=t.getHours(),l=t.getMinutes();if(a){const F=function wJ(t){const n=vo(t);return rD(n),(n[Fa.ExtraData][2]||[]).map(r=>"string"==typeof r?ey(r):[ey(r[0]),ey(r[1])])}(n),oe=function _J(t,n,e){const r=vo(t);rD(r);const a=N2([r[Fa.ExtraData][0],r[Fa.ExtraData][1]],n)||[];return N2(a,e)||[]}(n,i,r),Le=F.findIndex(je=>{if(Array.isArray(je)){const[rt,ht]=je,Ft=s>=rt.hours&&l>=rt.minutes,an=s<ht.hours||s===ht.hours&&l<ht.minutes;if(rt.hours<ht.hours){if(Ft&&an)return!0}else if(Ft||an)return!0}else if(je.hours===s&&je.minutes===l)return!0;return!1});if(-1!==Le)return oe[Le]}return function gJ(t,n,e){const r=vo(t),a=N2([r[Fa.DayPeriodsFormat],r[Fa.DayPeriodsStandalone]],n);return N2(a,e)}(n,i,r)[s<12?0:1];case ta.Eras:return function CJ(t,n){return N2(vo(t)[Fa.Eras],n)}(n,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(i,a,t,n,e,r)}}function U7(t){return function(n,e,r){const i=-1*r,a=E2(e,js.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Pl.Short:return(i>=0?"+":"")+sc(s,2,a)+sc(Math.abs(i%60),2,a);case Pl.ShortGMT:return"GMT"+(i>=0?"+":"")+sc(s,1,a);case Pl.Long:return"GMT"+(i>=0?"+":"")+sc(s,2,a)+":"+sc(Math.abs(i%60),2,a);case Pl.Extended:return 0===r?"Z":(i>=0?"+":"")+sc(s,2,a)+":"+sc(Math.abs(i%60),2,a);default:throw new Error(`Unknown zone width "${t}"`)}}}const IJ=0,G7=4;function iD(t){const n=t.getDay(),e=0===n?-3:G7-n;return H7(t.getFullYear(),t.getMonth(),t.getDate()+e)}function ty(t,n=!1){return function(e,r){let i;if(n){const a=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();i=1+Math.floor((s+a)/7)}else{const a=iD(e),s=function PJ(t){const n=H7(t,IJ,1).getDay();return H7(t,0,1+(n<=G7?G7:G7+7)-n)}(a.getFullYear()),l=a.getTime()-s.getTime();i=1+Math.round(l/6048e5)}return sc(i,t,E2(r,js.MinusSign))}}function $7(t,n=!1){return function(e,r){return sc(iD(e).getFullYear(),t,E2(r,js.MinusSign),n)}}const ny={};function aD(t,n){t=t.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function sD(t){return t instanceof Date&&!isNaN(t.valueOf())}const VJ=/^(\d+)?\.((\d+)(-(\d+))?)?$/,oD=22,W7=".",F8="0",UJ=";",GJ=",",ry="#";function j7(t,n,e){return function iy(t,n,e,r,i,a,s=!1){let l="",x=!1;if(isFinite(t)){let F=function ZJ(t){let r,i,a,s,l,n=Math.abs(t)+"",e=0;for((i=n.indexOf(W7))>-1&&(n=n.replace(W7,"")),(a=n.search(/e/i))>0?(i<0&&(i=a),i+=+n.slice(a+1),n=n.substring(0,a)):i<0&&(i=n.length),a=0;n.charAt(a)===F8;a++);if(a===(l=n.length))r=[0],i=1;else{for(l--;n.charAt(l)===F8;)l--;for(i-=a,r=[],s=0;a<=l;a++,s++)r[s]=Number(n.charAt(a))}return i>oD&&(r=r.splice(0,oD-1),e=i-1,i=1),{digits:r,exponent:e,integerLen:i}}(t);s&&(F=function YJ(t){if(0===t.digits[0])return t;const n=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===n?t.digits.push(0,0):1===n&&t.digits.push(0),t.integerLen+=2),t}(F));let oe=n.minInt,Le=n.minFrac,je=n.maxFrac;if(a){const pn=a.match(VJ);if(null===pn)throw new Error(`${a} is not a valid digit info`);const tr=pn[1],mr=pn[3],Pr=pn[5];null!=tr&&(oe=sy(tr)),null!=mr&&(Le=sy(mr)),null!=Pr?je=sy(Pr):null!=mr&&Le>je&&(je=Le)}!function XJ(t,n,e){if(n>e)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${e}).`);let r=t.digits,i=r.length-t.integerLen;const a=Math.min(Math.max(n,i),e);let s=a+t.integerLen,l=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let Le=s;Le<r.length;Le++)r[Le]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=a+1),r[0]=0;for(let Le=1;Le<s;Le++)r[Le]=0}if(l>=5)if(s-1<0){for(let Le=0;Le>s;Le--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,a);i++)r.push(0);let x=0!==a;const F=n+t.integerLen,oe=r.reduceRight(function(Le,je,rt,ht){return ht[rt]=(je+=Le)<10?je:je-10,x&&(0===ht[rt]&&rt>=F?ht.pop():x=!1),je>=10?1:0},0);oe&&(r.unshift(oe),t.integerLen++)}(F,Le,je);let rt=F.digits,ht=F.integerLen;const Ft=F.exponent;let an=[];for(x=rt.every(pn=>!pn);ht<oe;ht++)rt.unshift(0);for(;ht<0;ht++)rt.unshift(0);ht>0?an=rt.splice(ht,rt.length):(an=rt,rt=[0]);const yn=[];for(rt.length>=n.lgSize&&yn.unshift(rt.splice(-n.lgSize,rt.length).join(""));rt.length>n.gSize;)yn.unshift(rt.splice(-n.gSize,rt.length).join(""));rt.length&&yn.unshift(rt.join("")),l=yn.join(E2(e,r)),an.length&&(l+=E2(e,i)+an.join("")),Ft&&(l+=E2(e,js.Exponential)+"+"+Ft)}else l=E2(e,js.Infinity);return l=t<0&&!x?n.negPre+l+n.negSuf:n.posPre+l+n.posSuf,l}(t,function ay(t,n="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(UJ),i=r[0],a=r[1],s=-1!==i.indexOf(W7)?i.split(W7):[i.substring(0,i.lastIndexOf(F8)+1),i.substring(i.lastIndexOf(F8)+1)],l=s[0],x=s[1]||"";e.posPre=l.substring(0,l.indexOf(ry));for(let oe=0;oe<x.length;oe++){const Le=x.charAt(oe);Le===F8?e.minFrac=e.maxFrac=oe+1:Le===ry?e.maxFrac=oe+1:e.posSuf+=Le}const F=l.split(GJ);if(e.gSize=F[1]?F[1].length:0,e.lgSize=F[2]||F[1]?(F[2]||F[1]).length:0,a){const oe=i.length-e.posPre.length-e.posSuf.length,Le=a.indexOf(ry);e.negPre=a.substring(0,Le).replace(/'/g,""),e.negSuf=a.slice(Le+oe).replace(/'/g,"")}else e.negPre=n+e.posPre,e.negSuf=e.posSuf;return e}(function qg(t,n){return vo(t)[Fa.NumberFormats][n]}(n,P7.Decimal),E2(n,js.MinusSign)),n,js.Group,js.Decimal,e)}function sy(t){const n=parseInt(t);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+t);return n}const cy=/\s+/,uD=[];let I2=(()=>{class t{constructor(e,r){this._ngEl=e,this._renderer=r,this.initialClasses=uD,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(cy):uD}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(cy):e}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const r of e)this._updateState(r,!0);else if(null!=e)for(const r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){const i=this.stateMap.get(e);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){(e=e.trim()).length>0&&e.split(cy).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||t)(lt(is),lt(a2))};static#t=this.\u0275dir=Lr({type:t,selectors:[["","ngClass",""]],inputs:{klass:[Cn.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}return t})();class qJ{constructor(n,e,r,i){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fo=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,a,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new qJ(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===a?void 0:a);else if(null!==a){const l=r.get(a);r.move(l,s),dD(l,i)}});for(let i=0,a=r.length;i<a;i++){const l=r.get(i).context;l.index=i,l.count=a,l.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{dD(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(lt(mo),lt(z1),lt(Zg))};static#t=this.\u0275dir=Lr({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function dD(t,n){t.context.$implicit=n.item}let ji=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new eq,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){hD("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){hD("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(lt(mo),lt(z1))};static#t=this.\u0275dir=Lr({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class eq{constructor(){this.$implicit=null,this.ngIf=null}}function hD(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${ir(n)}'.`)}let mD=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,r,i)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,r,i),get:(e,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static#e=this.\u0275fac=function(r){return new(r||t)(lt(mo))};static#t=this.\u0275dir=Lr({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[As]})}return t})();function oc(t,n){return new Je(2100,!1)}const vq=new kn(""),gq=new kn("");let fy=(()=>{class t{constructor(e,r,i){this.locale=e,this.defaultTimezone=r,this.defaultOptions=i}transform(e,r,i,a){if(null==e||""===e||e!=e)return null;try{return zJ(e,r??this.defaultOptions?.dateFormat??"mediumDate",a||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw oc()}}static#e=this.\u0275fac=function(r){return new(r||t)(lt(Nl,16),lt(vq,24),lt(gq,24))};static#t=this.\u0275pipe=es({name:"date",type:t,pure:!0,standalone:!0})}return t})(),hs=(()=>{class t{constructor(e){this._locale=e}transform(e,r,i){if(!function dy(t){return!(null==t||""===t||t!=t)}(e))return null;i||=this._locale;try{return j7(function hy(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),i,r)}catch(a){throw oc()}}static#e=this.\u0275fac=function(r){return new(r||t)(lt(Nl,16))};static#t=this.\u0275pipe=es({name:"number",type:t,pure:!0,standalone:!0})}return t})();let au=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Qi({type:t});static#n=this.\u0275inj=pr({})}return t})();const gD="browser";function Y7(t){return t===gD}function yD(t){return"server"===t}let Aq=(()=>{class t{static#e=this.\u0275prov=nn({token:t,providedIn:"root",factory:()=>Y7(Xn(n2))?new zq(Xn(Aa),window):new Eq})}return t})();class zq{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){const e=function kq(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const s=a.getElementById(n)||a.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){const e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}}class Eq{setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}}class oee extends cJ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class my extends oee{static makeCurrent(){!function oJ(t){QT??=t}(new my)}onAndCancel(n,e,r){return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function cee(){return H8=H8||document.querySelector("base"),H8?H8.getAttribute("href"):null}();return null==e?null:function lee(t){return new URL(t,document.baseURI).pathname}(e)}resetBaseElement(){H8=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function QJ(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const r=e.indexOf("="),[i,a]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===n)return decodeURIComponent(a)}return null}(document.cookie,n)}}let H8=null,fee=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})();const vy=new kn("");let TD=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(a=>a.supports(e)),!r)throw new Je(5101,!1);return this._eventNameToPlugin.set(e,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(gn(vy),gn(Di))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})();class DD{constructor(n){this._doc=n}}const gy="ng-app-id";let AD=(()=>{class t{constructor(e,r,i,a={}){this.doc=e,this.appId=r,this.nonce=i,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=yD(a),this.resetHostNodes()}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.elements?.forEach(i=>i.remove()),r.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${gy}="${this.appId}"]`);if(e?.length){const r=new Map;return e.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(e,r){const i=this.styleRef;if(i.has(e)){const a=i.get(e);return a.usage+=r,a.usage}return i.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){const i=this.styleNodesInDOM,a=i?.get(r);if(a?.parentNode===e)return i.delete(r),a.removeAttribute(gy),a;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(gy,this.appId),e.appendChild(s),s}}addStyleToHost(e,r){const i=this.getStyleElement(e,r),a=this.styleRef,s=a.get(r)?.elements;s?s.push(i):a.set(r,{elements:[i],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(gn(Aa),gn(E3),gn(m6,8),gn(n2))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})();const yy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},by=/%COMP%/g,mee=new kn("",{providedIn:"root",factory:()=>!0});function kD(t,n){return n.map(e=>e.replace(by,t))}let Cy=(()=>{class t{constructor(e,r,i,a,s,l,x,F=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=a,this.doc=s,this.platformId=l,this.ngZone=x,this.nonce=F,this.rendererByCompId=new Map,this.platformIsServer=yD(l),this.defaultRenderer=new xy(e,s,x,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===on.ShadowDom&&(r={...r,encapsulation:on.Emulated});const i=this.getOrCreateRenderer(e,r);return i instanceof ND?i.applyToHost(e):i instanceof My&&i.applyStyles(),i}getOrCreateRenderer(e,r){const i=this.rendererByCompId;let a=i.get(r.id);if(!a){const s=this.doc,l=this.ngZone,x=this.eventManager,F=this.sharedStylesHost,oe=this.removeStylesOnCompDestroy,Le=this.platformIsServer;switch(r.encapsulation){case on.Emulated:a=new ND(x,F,r,this.appId,oe,s,l,Le);break;case on.ShadowDom:return new bee(x,F,e,r,s,l,this.nonce,Le);default:a=new My(x,F,r,oe,s,l,Le)}i.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(gn(TD),gn(AD),gn(E3),gn(mee),gn(Aa),gn(n2),gn(Di),gn(m6))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})();class xy{constructor(n,e,r,i){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(yy[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(ED(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(ED(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new Je(-5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,i){if(i){e=i+":"+e;const a=yy[i];a?n.setAttributeNS(a,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const i=yy[r];i?n.removeAttributeNS(i,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,i){i&(z2.DashCase|z2.Important)?n.style.setProperty(e,r,i&z2.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&z2.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){null!=n&&(n[e]=r)}setValue(n,e){n.nodeValue=e}listen(n,e,r){if("string"==typeof n&&!(n=H0().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(r))}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&e.preventDefault()}}}function ED(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class bee extends xy{constructor(n,e,r,i,a,s,l,x){super(n,a,s,x),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const F=kD(i.id,i.styles);for(const oe of F){const Le=document.createElement("style");l&&Le.setAttribute("nonce",l),Le.textContent=oe,this.shadowRoot.appendChild(Le)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class My extends xy{constructor(n,e,r,i,a,s,l,x){super(n,a,s,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.styles=x?kD(x,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ND extends My{constructor(n,e,r,i,a,s,l,x){const F=i+"-"+r.id;super(n,e,r,a,s,l,x,F),this.contentAttr=function vee(t){return"_ngcontent-%COMP%".replace(by,t)}(F),this.hostAttr=function gee(t){return"_nghost-%COMP%".replace(by,t)}(F)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}let Cee=(()=>{class t extends DD{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(gn(Aa))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})();const ID=["alt","control","meta","shift"],xee={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Mee={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let wee=(()=>{class t extends DD{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,i){const a=t.parseEventName(r),s=t.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>H0().onAndCancel(e,a.domEventName,s))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=t._normalizeKey(r.pop());let s="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),s="code."),ID.forEach(F=>{const oe=r.indexOf(F);oe>-1&&(r.splice(oe,1),s+=F+".")}),s+=a,0!=r.length||0===a.length)return null;const x={};return x.domEventName=i,x.fullKey=s,x}static matchEventFullKeyCode(e,r){let i=xee[e.key]||e.key,a="";return r.indexOf("code.")>-1&&(i=e.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),ID.forEach(s=>{s!==i&&(0,Mee[s])(e)&&(a+=s+".")}),a+=i,a===r)}static eventCallback(e,r,i){return a=>{t.matchEventFullKeyCode(a,e)&&i.runGuarded(()=>r(a))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(r){return new(r||t)(gn(Aa))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})();const Tee=vT(wQ,"browser",[{provide:n2,useValue:gD},{provide:h6,useValue:function _ee(){my.makeCurrent()},multi:!0},{provide:Aa,useFactory:function See(){return function d6(t){Df=t}(document),document},deps:[]}]),Dee=new kn(""),FD=[{provide:w7,useClass:class uee{addToWindow(n){mn.getAngularTestability=(r,i=!0)=>{const a=n.findTestabilityInTree(r,i);if(null==a)throw new Je(5103,!1);return a},mn.getAllAngularTestabilities=()=>n.getAllTestabilities(),mn.getAllAngularRootElements=()=>n.getAllRootElements(),mn.frameworkStabilizers||(mn.frameworkStabilizers=[]),mn.frameworkStabilizers.push(r=>{const i=mn.getAllAngularTestabilities();let a=i.length;const s=function(){a--,0==a&&r()};i.forEach(l=>{l.whenStable(s)})})}findTestabilityInTree(n,e,r){return null==e?null:n.getTestability(e)??(r?H0().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:aT,useClass:Rg,deps:[Di,Fg,w7]},{provide:Rg,useClass:Rg,deps:[Di,Fg,w7]}],OD=[{provide:x2,useValue:"root"},{provide:D2,useFactory:function Lee(){return new D2},deps:[]},{provide:vy,useClass:Cee,multi:!0,deps:[Aa,Di,n2]},{provide:vy,useClass:wee,multi:!0,deps:[Aa]},Cy,AD,TD,{provide:Rv,useExisting:Cy},{provide:class Nq{},useClass:fee,deps:[]},[]];let BD=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:E3,useValue:e.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(gn(Dee,12))};static#t=this.\u0275mod=Qi({type:t});static#n=this.\u0275inj=pr({providers:[...OD,...FD],imports:[au,_Q]})}return t})(),Aee=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(r){return new(r||t)(gn(Aa))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),UD=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:function(r){let i=null;return i=r?new(r||t):gn(Nee),i},providedIn:"root"})}return t})(),Nee=(()=>{class t extends UD{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case No.NONE:return r;case No.HTML:return Us(r,"HTML")?K1(r):vh(this._doc,String(r)).toString();case No.STYLE:return Us(r,"Style")?K1(r):r;case No.SCRIPT:if(Us(r,"Script"))return K1(r);throw new Je(5200,!1);case No.URL:return Us(r,"URL")?K1(r):x6(String(r));case No.RESOURCE_URL:if(Us(r,"ResourceURL"))return K1(r);throw new Je(5201,!1);default:throw new Je(5202,!1)}}bypassSecurityTrustHtml(e){return function ih(t){return new V9(t)}(e)}bypassSecurityTrustStyle(e){return function Eo(t){return new U9(t)}(e)}bypassSecurityTrustScript(e){return function ah(t){return new G9(t)}(e)}bypassSecurityTrustUrl(e){return function j9(t){return new $9(t)}(e)}bypassSecurityTrustResourceUrl(e){return function Xi(t){return new W9(t)}(e)}static#e=this.\u0275fac=function(r){return new(r||t)(gn(Aa))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function V0(t){return this instanceof V0?(this.v=t,this):new V0(t)}function YD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function Sy(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(a){e[a]=t[a]&&function(s){return new Promise(function(l,x){!function i(a,s,l,x){Promise.resolve(x).then(function(F){a({value:F,done:l})},s)}(l,x,(s=t[a](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Ty=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function ZD(t){return Se(t?.then)}function XD(t){return Se(t[At])}function KD(t){return Symbol.asyncIterator&&Se(t?.[Symbol.asyncIterator])}function QD(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const JD=function tte(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function qD(t){return Se(t?.[JD])}function eA(t){return function jD(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(t,n||[]),a=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",function s(rt){return function(ht){return Promise.resolve(ht).then(rt,Le)}}),i[Symbol.asyncIterator]=function(){return this},i;function l(rt,ht){r[rt]&&(i[rt]=function(Ft){return new Promise(function(an,yn){a.push([rt,Ft,an,yn])>1||x(rt,Ft)})},ht&&(i[rt]=ht(i[rt])))}function x(rt,ht){try{!function F(rt){rt.value instanceof V0?Promise.resolve(rt.value.v).then(oe,Le):je(a[0][2],rt)}(r[rt](ht))}catch(Ft){je(a[0][3],Ft)}}function oe(rt){x("next",rt)}function Le(rt){x("throw",rt)}function je(rt,ht){rt(ht),a.shift(),a.length&&x(a[0][0],a[0][1])}}(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:r,done:i}=yield V0(e.read());if(i)return yield V0(void 0);yield yield V0(r)}}finally{e.releaseLock()}})}function tA(t){return Se(t?.getReader)}function xo(t){if(t instanceof Jt)return t;if(null!=t){if(XD(t))return function nte(t){return new Jt(n=>{const e=t[At]();if(Se(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Ty(t))return function rte(t){return new Jt(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(ZD(t))return function ite(t){return new Jt(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,xe)})}(t);if(KD(t))return nA(t);if(qD(t))return function ate(t){return new Jt(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(tA(t))return function ste(t){return nA(eA(t))}(t)}throw QD(t)}function nA(t){return new Jt(n=>{(function ote(t,n){var e,r,i,a;return function $D(t,n,e,r){return new(e||(e=Promise))(function(a,s){function l(oe){try{F(r.next(oe))}catch(Le){s(Le)}}function x(oe){try{F(r.throw(oe))}catch(Le){s(Le)}}function F(oe){oe.done?a(oe.value):function i(a){return a instanceof e?a:new e(function(s){s(a)})}(oe.value).then(l,x)}F((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=YD(t);!(r=yield e.next()).done;)if(n.next(r.value),n.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(a=e.return)&&(yield a.call(e))}finally{if(i)throw i.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function Fl(t,n,e,r=0,i=!1){const a=n.schedule(function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(a),!i)return a}function rA(t,n=0){return _e((e,r)=>{e.subscribe(He(r,i=>Fl(r,t,()=>r.next(i),n),()=>Fl(r,t,()=>r.complete(),n),i=>Fl(r,t,()=>r.error(i),n)))})}function iA(t,n=0){return _e((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function aA(t,n){if(!t)throw new Error("Iterable cannot be null");return new Jt(e=>{Fl(e,n,()=>{const r=t[Symbol.asyncIterator]();Fl(e,n,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function s1(t,n){return n?function hte(t,n){if(null!=t){if(XD(t))return function cte(t,n){return xo(t).pipe(iA(n),rA(n))}(t,n);if(Ty(t))return function ute(t,n){return new Jt(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}(t,n);if(ZD(t))return function lte(t,n){return xo(t).pipe(iA(n),rA(n))}(t,n);if(KD(t))return aA(t,n);if(qD(t))return function fte(t,n){return new Jt(e=>{let r;return Fl(e,n,()=>{r=t[JD](),Fl(e,n,()=>{let i,a;try{({value:i,done:a}=r.next())}catch(s){return void e.error(s)}a?e.complete():e.next(i)},0,!0)}),()=>Se(r?.return)&&r.return()})}(t,n);if(tA(t))return function dte(t,n){return aA(eA(t),n)}(t,n)}throw QD(t)}(t,n):xo(t)}const{isArray:pte}=Array,{getPrototypeOf:mte,prototype:vte,keys:gte}=Object;function sA(t){if(1===t.length){const n=t[0];if(pte(n))return{args:n,keys:null};if(function yte(t){return t&&"object"==typeof t&&mte(t)===vte}(n)){const e=gte(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}function oA(t){return t&&Se(t.schedule)}function Dy(t){return t[t.length-1]}function cA(t){return Se(Dy(t))?t.pop():void 0}function U8(t){return oA(Dy(t))?t.pop():void 0}const{isArray:Cte}=Array;function Ay(t){return Ze(n=>function xte(t,n){return Cte(n)?t(...n):t(n)}(t,n))}function lA(t,n){return t.reduce((e,r,i)=>(e[r]=n[i],e),{})}let uA=(()=>{class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(r){return new(r||t)(lt(a2),lt(is))};static#t=this.\u0275dir=Lr({type:t})}return t})(),q3=(()=>{class t extends uA{static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Vs(t)))(i||t)}})();static#t=this.\u0275dir=Lr({type:t,features:[hi]})}return t})();const Wc=new kn(""),wte={provide:Wc,useExisting:bn(()=>zy),multi:!0};let zy=(()=>{class t extends q3{writeValue(e){this.setProperty("checked",e)}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Vs(t)))(i||t)}})();static#t=this.\u0275dir=Lr({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&dn("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[Da([wte]),hi]})}return t})();const _te={provide:Wc,useExisting:bn(()=>ja),multi:!0},Ste=new kn("");let ja=(()=>{class t extends uA{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Lte(){const t=H0()?H0().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(r){return new(r||t)(lt(a2),lt(is),lt(Ste,8))};static#t=this.\u0275dir=Lr({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&dn("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Da([_te]),hi]})}return t})();function U0(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function fA(t){return null!=t&&"number"==typeof t.length}const eo=new kn(""),G0=new kn(""),Tte=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class N1{static min(n){return dA(n)}static max(n){return hA(n)}static required(n){return pA(n)}static requiredTrue(n){return function mA(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function vA(t){return U0(t.value)||Tte.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function gA(t){return n=>U0(n.value)||!fA(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function yA(t){return n=>fA(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static pattern(n){return function bA(t){if(!t)return Q7;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),r=>{if(U0(r.value))return null;const i=r.value;return n.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(n)}static nullValidator(n){return null}static compose(n){return LA(n)}static composeAsync(n){return SA(n)}}function dA(t){return n=>{if(U0(n.value)||U0(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function hA(t){return n=>{if(U0(n.value)||U0(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}function pA(t){return U0(t.value)?{required:!0}:null}function Q7(t){return null}function CA(t){return null!=t}function xA(t){return I8(t)?s1(t):t}function MA(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function wA(t,n){return n.map(e=>e(t))}function _A(t){return t.map(n=>function Dte(t){return!t.validate}(n)?n:e=>n.validate(e))}function LA(t){if(!t)return null;const n=t.filter(CA);return 0==n.length?null:function(e){return MA(wA(e,n))}}function ky(t){return null!=t?LA(_A(t)):null}function SA(t){if(!t)return null;const n=t.filter(CA);return 0==n.length?null:function(e){return function Mte(...t){const n=cA(t),{args:e,keys:r}=sA(t),i=new Jt(a=>{const{length:s}=e;if(!s)return void a.complete();const l=new Array(s);let x=s,F=s;for(let oe=0;oe<s;oe++){let Le=!1;xo(e[oe]).subscribe(He(a,je=>{Le||(Le=!0,F--),l[oe]=je},()=>x--,void 0,()=>{(!x||!Le)&&(F||a.next(r?lA(r,l):l),a.complete())}))}});return n?i.pipe(Ay(n)):i}(wA(e,n).map(xA)).pipe(Ze(MA))}}function Ey(t){return null!=t?SA(_A(t)):null}function TA(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function DA(t){return t._rawValidators}function AA(t){return t._rawAsyncValidators}function Ny(t){return t?Array.isArray(t)?t:[t]:[]}function J7(t,n){return Array.isArray(t)?t.includes(n):t===n}function zA(t,n){const e=Ny(n);return Ny(t).forEach(i=>{J7(e,i)||e.push(i)}),e}function kA(t,n){return Ny(n).filter(e=>!J7(t,e))}class EA{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=ky(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Ey(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class Mo extends EA{get formDirective(){return null}get path(){return null}}class $0 extends EA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class NA{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Cs=(()=>{class t extends NA{constructor(e){super(e)}static#e=this.\u0275fac=function(r){return new(r||t)(lt($0,2))};static#t=this.\u0275dir=Lr({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&lr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[hi]})}return t})(),Ya=(()=>{class t extends NA{constructor(e){super(e)}static#e=this.\u0275fac=function(r){return new(r||t)(lt(Mo,10))};static#t=this.\u0275dir=Lr({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&lr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[hi]})}return t})();const G8="VALID",ep="INVALID",su="PENDING",$8="DISABLED";function Ry(t){return(tp(t)?t.validators:t)||null}function Fy(t,n){return(tp(n)?n.asyncValidators:t)||null}function tp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function PA(t,n,e){const r=t.controls;if(!(n?Object.keys(r):r).length)throw new Je(1e3,"");if(!r[e])throw new Je(1001,"")}function RA(t,n,e){t._forEachChild((r,i)=>{if(void 0===e[i])throw new Je(1002,"")})}class np{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===G8}get invalid(){return this.status===ep}get pending(){return this.status==su}get disabled(){return this.status===$8}get enabled(){return this.status!==$8}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(zA(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(zA(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(kA(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(kA(n,this._rawAsyncValidators))}hasValidator(n){return J7(this._rawValidators,n)}hasAsyncValidator(n){return J7(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=su,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=$8,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=G8,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===G8||this.status===su)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$8:G8}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=su,this._hasOwnPendingAsyncValidator=!0;const e=xA(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(n,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Fr,this.statusChanges=new Fr}_calculateStatus(){return this._allControlsDisabled()?$8:this.errors?ep:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(su)?su:this._anyControlsHaveStatus(ep)?ep:G8}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){tp(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function Ete(t){return Array.isArray(t)?ky(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function Nte(t){return Array.isArray(t)?Ey(t):t||null}(this._rawAsyncValidators)}}class W8 extends np{constructor(n,e,r){super(Ry(e),Fy(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){RA(this,0,n),Object.keys(n).forEach(r=>{PA(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(r=>{const i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((i,a)=>{r=e(r,i,a)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}class FA extends W8{}const e4=new kn("CallSetDisabledState",{providedIn:"root",factory:()=>j8}),j8="always";function rp(t,n){return[...n.path,t]}function Y8(t,n,e=j8){Oy(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function Pte(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&OA(t,n)})}(t,n),function Fte(t,n){const e=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function Rte(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&OA(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function Ite(t,n){if(n.valueAccessor.setDisabledState){const e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function ip(t,n,e=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),sp(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function ap(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function Oy(t,n){const e=DA(t);null!==n.validator?t.setValidators(TA(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const r=AA(t);null!==n.asyncValidator?t.setAsyncValidators(TA(r,n.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();ap(n._rawValidators,i),ap(n._rawAsyncValidators,i)}function sp(t,n){let e=!1;if(null!==t){if(null!==n.validator){const i=DA(t);if(Array.isArray(i)&&i.length>0){const a=i.filter(s=>s!==n.validator);a.length!==i.length&&(e=!0,t.setValidators(a))}}if(null!==n.asyncValidator){const i=AA(t);if(Array.isArray(i)&&i.length>0){const a=i.filter(s=>s!==n.asyncValidator);a.length!==i.length&&(e=!0,t.setAsyncValidators(a))}}}const r=()=>{};return ap(n._rawValidators,r),ap(n._rawAsyncValidators,r),e}function OA(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function VA(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function UA(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}Promise.resolve();const X8=class extends np{constructor(n=null,e,r){super(Ry(e),Fy(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tp(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=UA(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){VA(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){VA(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){UA(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};let GA=(()=>{class t extends Mo{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return rp(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Vs(t)))(i||t)}})();static#t=this.\u0275dir=Lr({type:t,features:[hi]})}return t})();Promise.resolve();let P2=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Lr({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})();const jte={provide:Wc,useExisting:bn(()=>xs),multi:!0};let xs=(()=>{class t extends q3{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Vs(t)))(i||t)}})();static#t=this.\u0275dir=Lr({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&dn("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Da([jte]),hi]})}return t})();const Yte={provide:Wc,useExisting:bn(()=>Gy),multi:!0};let Zte=(()=>{class t{constructor(){this._accessors=[]}add(e,r){this._accessors.push([e,r])}remove(e){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===e)return void this._accessors.splice(r,1)}select(e){this._accessors.forEach(r=>{this._isSameGroup(r,e)&&r[1]!==e&&r[1].fireUncheck(e.value)})}_isSameGroup(e,r){return!!e[0].control&&e[0]._parent===r._control._parent&&e[1].name===r.name}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Gy=(()=>{class t extends q3{constructor(e,r,i,a){super(e,r),this._registry=i,this._injector=a,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=Xn(e4,{optional:!0})??j8}ngOnInit(){this._control=this._injector.get($0),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(r){return new(r||t)(lt(a2),lt(is),lt(Zte),lt(qi))};static#t=this.\u0275dir=Lr({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){1&r&&dn("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Da([Yte]),hi]})}return t})();const $y=new kn(""),Qte={provide:Mo,useExisting:bn(()=>Ha)};let Ha=(()=>{class t extends Mo{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Fr,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(sp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return Y8(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){ip(e.control||null,e,!1),function Vte(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function HA(t,n){t._syncPendingControls(),n.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(ip(r||null,e),(t=>t instanceof X8)(i)&&(Y8(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function BA(t,n){Oy(t,n)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function Ote(t,n){return sp(t,n)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Oy(this.form,this),this._oldForm&&sp(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(lt(eo,10),lt(G0,10),lt(e4,8))};static#t=this.\u0275dir=Lr({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&dn("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[Cn.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Da([Qte]),hi,As]})}return t})();const Jte={provide:Mo,useExisting:bn(()=>K8)};let K8=(()=>{class t extends GA{constructor(e,r,i){super(),this.name=null,this._parent=e,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){XA(this._parent)}static#e=this.\u0275fac=function(r){return new(r||t)(lt(Mo,13),lt(eo,10),lt(G0,10))};static#t=this.\u0275dir=Lr({type:t,selectors:[["","formGroupName",""]],inputs:{name:[Cn.None,"formGroupName","name"]},features:[Da([Jte]),hi]})}return t})();const qte={provide:Mo,useExisting:bn(()=>Q8)};let Q8=(()=>{class t extends Mo{constructor(e,r,i){super(),this.name=null,this._parent=e,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return rp(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){XA(this._parent)}static#e=this.\u0275fac=function(r){return new(r||t)(lt(Mo,13),lt(eo,10),lt(G0,10))};static#t=this.\u0275dir=Lr({type:t,selectors:[["","formArrayName",""]],inputs:{name:[Cn.None,"formArrayName","name"]},features:[Da([qte]),hi]})}return t})();function XA(t){return!(t instanceof K8||t instanceof Ha||t instanceof Q8)}const ene={provide:$0,useExisting:bn(()=>ps)};let ps=(()=>{class t extends $0{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,r,i,a,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Fr,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Vy(t,n){if(!n)return null;let e,r,i;return Array.isArray(n),n.forEach(a=>{a.constructor===ja?e=a:function Hte(t){return Object.getPrototypeOf(t.constructor)===q3}(a)?r=a:i=a}),i||r||e||null}(0,a)}ngOnChanges(e){this._added||this._setUpControl(),function Hy(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return rp(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(lt(Mo,13),lt(eo,10),lt(G0,10),lt(Wc,10),lt($y,8))};static#n=this.\u0275dir=Lr({type:t,selectors:[["","formControlName",""]],inputs:{name:[Cn.None,"formControlName","name"],isDisabled:[Cn.None,"disabled","isDisabled"],model:[Cn.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Da([ene]),hi,As]})}return t})();function qA(t){return"number"==typeof t?t:parseFloat(t)}let t4=(()=>{class t{constructor(){this._validator=Q7}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Q7,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Lr({type:t,features:[As]})}return t})();const one={provide:eo,useExisting:bn(()=>Ms),multi:!0};let Ms=(()=>{class t extends t4{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>qA(e),this.createValidator=e=>hA(e)}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Vs(t)))(i||t)}})();static#t=this.\u0275dir=Lr({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&k1("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[Da([one]),hi]})}return t})();const cne={provide:eo,useExisting:bn(()=>ws),multi:!0};let ws=(()=>{class t extends t4{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>qA(e),this.createValidator=e=>dA(e)}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Vs(t)))(i||t)}})();static#t=this.\u0275dir=Lr({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&k1("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[Da([cne]),hi]})}return t})();const lne={provide:eo,useExisting:bn(()=>m1),multi:!0};let m1=(()=>{class t extends t4{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ac,this.createValidator=e=>pA}enabled(e){return e}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Vs(t)))(i||t)}})();static#t=this.\u0275dir=Lr({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&k1("required",i._enabled?"":null)},inputs:{required:"required"},features:[Da([lne]),hi]})}return t})(),az=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Qi({type:t});static#n=this.\u0275inj=pr({})}return t})();class sz extends np{constructor(n,e,r){super(Ry(e),Fy(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,r={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,e={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,r={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){RA(this,0,n),n.forEach((r,i)=>{PA(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,r)=>{n(e,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}}function oz(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let mne=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new t;return e.useNonNullable=!0,e}group(e,r=null){const i=this._reduceControls(e);let a={};return oz(r)?a=r:null!==r&&(a.validators=r.validator,a.asyncValidators=r.asyncValidator),new W8(i,a)}record(e,r=null){const i=this._reduceControls(e);return new FA(i,r)}control(e,r,i){let a={};return this.useNonNullable?(oz(r)?a=r:(a.validators=r,a.asyncValidators=i),new X8(e,{...a,nonNullable:!0})):new X8(e,r,i)}array(e,r,i){const a=e.map(s=>this._createControl(s));return new sz(a,r,i)}_reduceControls(e){const r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){return e instanceof X8||e instanceof np?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ss=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:()=>Xn(mne).nonNullable,providedIn:"root"})}return t})(),vne=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:e4,useValue:e.callSetDisabledState??j8}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Qi({type:t});static#n=this.\u0275inj=pr({imports:[az]})}return t})(),cz=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:$y,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:e4,useValue:e.callSetDisabledState??j8}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Qi({type:t});static#n=this.\u0275inj=pr({imports:[az]})}return t})();function op(t){return new Jt(n=>{xo(t()).subscribe(n)})}function J8(t,n){const e=Se(t)?t:()=>t,r=i=>i.error(e());return new Jt(n?i=>n.schedule(r,0,i):r)}function v1(t,n,e=1/0){return Se(n)?v1((r,i)=>Ze((a,s)=>n(r,a,i,s))(xo(t(r,i))),e):("number"==typeof n&&(e=n),_e((r,i)=>function gne(t,n,e,r,i,a,s,l){const x=[];let F=0,oe=0,Le=!1;const je=()=>{Le&&!x.length&&!F&&n.complete()},rt=Ft=>F<r?ht(Ft):x.push(Ft),ht=Ft=>{a&&n.next(Ft),F++;let an=!1;xo(e(Ft,oe++)).subscribe(He(n,yn=>{i?.(yn),a?rt(yn):n.next(yn)},()=>{an=!0},void 0,()=>{if(an)try{for(F--;x.length&&F<r;){const yn=x.shift();s?Fl(n,s,()=>ht(yn)):ht(yn)}je()}catch(yn){n.error(yn)}}))};return t.subscribe(He(n,rt,()=>{Le=!0,je()})),()=>{l?.()}}(r,i,t,e)))}const yne=["addListener","removeListener"],bne=["addEventListener","removeEventListener"],Cne=["on","off"];function cc(t,n,e,r){if(Se(e)&&(r=e,e=void 0),r)return cc(t,n,e).pipe(Ay(r));const[i,a]=function wne(t){return Se(t.addEventListener)&&Se(t.removeEventListener)}(t)?bne.map(s=>l=>t[s](n,l,e)):function xne(t){return Se(t.addListener)&&Se(t.removeListener)}(t)?yne.map(lz(t,n)):function Mne(t){return Se(t.on)&&Se(t.off)}(t)?Cne.map(lz(t,n)):[];if(!i&&Ty(t))return v1(s=>cc(s,n,e))(xo(t));if(!i)throw new TypeError("Invalid event target");return new Jt(s=>{const l=(...x)=>s.next(1<x.length?x:x[0]);return i(l),()=>a(l)})}function lz(t,n){return e=>r=>t[e](n,r)}function Zr(...t){return s1(t,U8(t))}function ou(t=1/0){return v1(Gt,t)}function cu(...t){return function _ne(){return ou(1)}()(s1(t,U8(t)))}const lu=new Jt(Te),lc=new Jt(t=>t.complete());function cp(...t){const n=U8(t),e=function bte(t,n){return"number"==typeof Dy(t)?t.pop():n}(t,1/0),r=t;return r.length?1===r.length?xo(r[0]):ou(e)(s1(r,n)):lc}function g1(t,n){return _e((e,r)=>{let i=0;e.subscribe(He(r,a=>t.call(n,a,i++)&&r.next(a)))})}function wo(t,n){return _e((e,r)=>{let i=null,a=0,s=!1;const l=()=>s&&!i&&r.complete();e.subscribe(He(r,x=>{i?.unsubscribe();let F=0;const oe=a++;xo(t(x,oe)).subscribe(i=He(r,Le=>r.next(n?n(x,Le,oe,F++):Le),()=>{i=null,l()}))},()=>{s=!0,l()}))})}function Yy(){return _e((t,n)=>{let e=null;t._refCount++;const r=He(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const i=t._connection,a=e;e=null,i&&(!a||i===a)&&i.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}class Zy extends Jt{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Me(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new te;const e=this.getSubject();n.add(this.source.subscribe(He(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=te.EMPTY)}return n}refCount(){return Yy()(this)}}const Tne={connector:()=>new yt};function uz(t,n=Tne){const{connector:e}=n;return _e((r,i)=>{const a=e();xo(t(function Sne(t){return new Jt(n=>t.subscribe(n))}(a))).subscribe(i),i.add(r.subscribe(a))})}function o1(t){return t<=0?()=>lc:_e((n,e)=>{let r=0;n.subscribe(He(e,i=>{++r<=t&&(e.next(i),t<=r&&e.complete())}))})}function to(t,n,e){const r=Se(t)||n||e?{next:t,error:n,complete:e}:t;return r?_e((i,a)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let l=!0;i.subscribe(He(a,x=>{var F;null===(F=r.next)||void 0===F||F.call(r,x),a.next(x)},()=>{var x;l=!1,null===(x=r.complete)||void 0===x||x.call(r),a.complete()},x=>{var F;l=!1,null===(F=r.error)||void 0===F||F.call(r,x),a.error(x)},()=>{var x,F;l&&(null===(x=r.unsubscribe)||void 0===x||x.call(r)),null===(F=r.finalize)||void 0===F||F.call(r)}))}):Gt}class zne extends te{constructor(n,e){super()}schedule(n,e=0){return this}}const lp={setInterval(t,n,...e){const{delegate:r}=lp;return r?.setInterval?r.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=lp;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};class Xy extends zne{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var r;if(this.closed)return this;this.state=n;const i=this.id,a=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(a,i,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(a,this.id,e),this}requestAsyncId(n,e,r=0){return lp.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&lp.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let i,r=!1;try{this.work(n)}catch(a){r=!0,i=a||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Y(r,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}const fz={now:()=>(fz.delegate||Date).now(),delegate:void 0};class q8{constructor(n,e=q8.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,r){return new this.schedulerActionCtor(this,n).schedule(r,e)}}q8.now=fz.now;class Ky extends q8{constructor(n,e=q8.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,r){for(;n=e.shift();)n.unsubscribe();throw r}}}const up=new Ky(Xy),kne=up;function dz(t){return Ze(()=>t)}function hz(t,n){return n?e=>cu(n.pipe(o1(1),function Ene(){return _e((t,n)=>{t.subscribe(He(n,Te))})}()),e.pipe(hz(t))):v1((e,r)=>xo(t(e,r)).pipe(o1(1),dz(e)))}function pz(t=0,n,e=kne){let r=-1;return null!=n&&(oA(n)?e=n:r=n),new Jt(i=>{let a=function Nne(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;a<0&&(a=0);let s=0;return e.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},a)})}const ed="Service workers are disabled or not supported by this browser";class fp{constructor(n){if(this.serviceWorker=n,n){const r=cc(n,"controllerchange").pipe(Ze(()=>n.controller)),a=cu(op(()=>Zr(n.controller)),r);this.worker=a.pipe(g1(oe=>!!oe)),this.registration=this.worker.pipe(wo(()=>n.getRegistration()));const F=cc(n,"message").pipe(Ze(oe=>oe.data)).pipe(g1(oe=>oe&&oe.type)).pipe(function Ane(t){return t?n=>uz(t)(n):n=>function Dne(t,n){const e=Se(t)?t:()=>t;return Se(n)?uz(n,{connector:e}):r=>new Zy(r,e)}(new yt)(n)}());F.connect(),this.events=F}else this.worker=this.events=this.registration=function Pne(t){return op(()=>J8(new Error(t)))}(ed)}postMessage(n,e){return this.worker.pipe(o1(1),to(r=>{r.postMessage({action:n,...e})})).toPromise().then(()=>{})}postMessageWithOperation(n,e,r){const i=this.waitForOperationCompleted(r),a=this.postMessage(n,e);return Promise.all([a,i]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(n){let e;return e="string"==typeof n?r=>r.type===n:r=>n.includes(r.type),this.events.pipe(g1(e))}nextEventOfType(n){return this.eventsOfType(n).pipe(o1(1))}waitForOperationCompleted(n){return this.eventsOfType("OPERATION_COMPLETED").pipe(g1(e=>e.nonce===n),o1(1),Ze(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let mz=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,this.pushManager=null,this.subscriptionChanges=new yt,!e.isEnabled)return this.messages=lu,this.notificationClicks=lu,void(this.subscription=lu);this.messages=this.sw.eventsOfType("PUSH").pipe(Ze(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Ze(i=>i.data)),this.pushManager=this.sw.registration.pipe(Ze(i=>i.pushManager));const r=this.pushManager.pipe(wo(i=>i.getSubscription()));this.subscription=cp(r,this.subscriptionChanges)}requestSubscription(e){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(ed));const r={userVisibleOnly:!0};let i=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),a=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)a[s]=i.charCodeAt(s);return r.applicationServerKey=a,this.pushManager.pipe(wo(s=>s.subscribe(r)),o1(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(o1(1),wo(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(ed))}decodeBase64(e){return atob(e)}static#e=this.\u0275fac=function(r){return new(r||t)(gn(fp))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})(),vz=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=lu,void(this.unrecoverable=lu);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ed));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ed));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static#e=this.\u0275fac=function(r){return new(r||t)(gn(fp))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})();const gz=new kn("");function Rne(t,n,e,r){return()=>{if(!Y7(r)||!("serviceWorker"in navigator)||!1===e.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)i=e.registrationStrategy();else{const[s,...l]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=Zr(null);break;case"registerWithDelay":i=yz(+l[0]||0);break;case"registerWhenStable":i=l[0]?cp(bz(t),yz(+l[0])):bz(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}t.get(Di).runOutsideAngular(()=>i.pipe(o1(1)).subscribe(()=>navigator.serviceWorker.register(n,{scope:e.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function yz(t){return Zr(null).pipe(function Ine(t,n=up){const e=pz(t,n);return hz(()=>e)}(t))}function bz(t){return t.get(Gc).isStable.pipe(g1(e=>e))}function Fne(t,n){return new fp(Y7(n)&&!1!==t.enabled?navigator.serviceWorker:void 0)}class Qy{}function One(t,n={}){return function Lc(t){return{\u0275providers:t}}([mz,vz,{provide:gz,useValue:t},{provide:Qy,useValue:n},{provide:fp,useFactory:Fne,deps:[Qy,n2]},{provide:_7,useFactory:Rne,deps:[qi,gz,Qy,n2],multi:!0}])}let Bne=(()=>{class t{static register(e,r={}){return{ngModule:t,providers:[One(e,r)]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Qi({type:t});static#n=this.\u0275inj=pr({providers:[mz,vz]})}return t})();var ni=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(ni||{});const Ol="*";function Cz(t,n){return{type:ni.Trigger,name:t,definitions:n,options:{}}}function td(t,n=null){return{type:ni.Animate,styles:n,timings:t}}function jc(t){return{type:ni.Style,styles:t,offset:null}}function nd(t,n,e){return{type:ni.State,name:t,styles:n,options:e}}function Vne(t){return{type:ni.Keyframes,steps:t}}function rd(t,n,e=null){return{type:ni.Transition,expr:t,animation:n,options:e}}class id{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class xz{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,r=0,i=0;const a=this.players.length;0==a?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==a&&this._onFinish()}),s.onDestroy(()=>{++r==a&&this._onDestroy()}),s.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((s,l)=>Math.max(s,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const n=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function Mz(t){return new Je(3e3,!1)}function W0(t){switch(t.length){case 0:return new id;case 1:return t[0];default:return new xz(t)}}function wz(t,n,e=new Map,r=new Map){const i=[],a=[];let s=-1,l=null;if(n.forEach(x=>{const F=x.get("offset"),oe=F==s,Le=oe&&l||new Map;x.forEach((je,rt)=>{let ht=rt,Ft=je;if("offset"!==rt)switch(ht=t.normalizePropertyName(ht,i),Ft){case"!":Ft=e.get(rt);break;case Ol:Ft=r.get(rt);break;default:Ft=t.normalizeStyleValue(rt,ht,Ft,i)}Le.set(ht,Ft)}),oe||a.push(Le),l=Le,s=F}),i.length)throw function pre(t){return new Je(3502,!1)}();return a}function qy(t,n,e,r){switch(n){case"start":t.onStart(()=>r(e&&eb(e,"start",t)));break;case"done":t.onDone(()=>r(e&&eb(e,"done",t)));break;case"destroy":t.onDestroy(()=>r(e&&eb(e,"destroy",t)))}}function eb(t,n,e){const a=tb(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,e.totalTime??t.totalTime,!!e.disabled),s=t._data;return null!=s&&(a._data=s),a}function tb(t,n,e,r,i="",a=0,s){return{element:t,triggerName:n,fromState:e,toState:r,phaseName:i,totalTime:a,disabled:!!s}}function c2(t,n,e){let r=t.get(n);return r||t.set(n,r=e),r}function _z(t){const n=t.indexOf(":");return[t.substring(1,n),t.slice(n+1)]}const Sre=typeof document>"u"?null:document.documentElement;function nb(t){const n=t.parentNode||t.host||null;return n===Sre?null:n}let n4=null,Lz=!1;function Sz(t,n){for(;n;){if(n===t)return!0;n=nb(n)}return!1}function Tz(t,n,e){if(e)return Array.from(t.querySelectorAll(n));const r=t.querySelector(n);return r?[r]:[]}let rb=(()=>{class t{validateStyleProperty(e){return function Dre(t){n4||(n4=function Are(){return typeof document<"u"?document.body:null}()||{},Lz=!!n4.style&&"WebkitAppearance"in n4.style);let n=!0;return n4.style&&!function Tre(t){return"ebkit"==t.substring(1,6)}(t)&&(n=t in n4.style,!n&&Lz&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in n4.style)),n}(e)}matchesElement(e,r){return!1}containsElement(e,r){return Sz(e,r)}getParentElement(e){return nb(e)}query(e,r,i){return Tz(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,a,s,l=[],x){return new id(i,a)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})();class ib{static#e=this.NOOP=new rb}class ab{}const kre=1e3,sb="ng-enter",dp="ng-leave",hp="ng-trigger",pp=".ng-trigger",Az="ng-animating",ob=".ng-animating";function Bl(t){if("number"==typeof t)return t;const n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:cb(parseFloat(n[1]),n[2])}function cb(t,n){return"s"===n?t*kre:t}function mp(t,n,e){return t.hasOwnProperty("duration")?t:function Nre(t,n,e){let i,a=0,s="";if("string"==typeof t){const l=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return n.push(Mz()),{duration:0,delay:0,easing:""};i=cb(parseFloat(l[1]),l[2]);const x=l[3];null!=x&&(a=cb(parseFloat(x),l[4]));const F=l[5];F&&(s=F)}else i=t;if(!e){let l=!1,x=n.length;i<0&&(n.push(function jne(){return new Je(3100,!1)}()),l=!0),a<0&&(n.push(function Yne(){return new Je(3101,!1)}()),l=!0),l&&n.splice(x,0,Mz())}return{duration:i,delay:a,easing:s}}(t,n,e)}function Yc(t,n,e){n.forEach((r,i)=>{const a=ub(i);e&&!e.has(i)&&e.set(i,t.style[a]),t.style[a]=r})}function r4(t,n){n.forEach((e,r)=>{const i=ub(r);t.style[i]=""})}function ad(t){return Array.isArray(t)?1==t.length?t[0]:function Hne(t,n=null){return{type:ni.Sequence,steps:t,options:n}}(t):t}const lb=new RegExp("{{\\s*(.+?)\\s*}}","g");function kz(t){let n=[];if("string"==typeof t){let e;for(;e=lb.exec(t);)n.push(e[1]);lb.lastIndex=0}return n}function sd(t,n,e){const r=`${t}`,i=r.replace(lb,(a,s)=>{let l=n[s];return null==l&&(e.push(function Xne(t){return new Je(3003,!1)}()),l=""),l.toString()});return i==r?t:i}const Rre=/-+([a-z0-9])/g;function ub(t){return t.replace(Rre,(...n)=>n[1].toUpperCase())}function l2(t,n,e){switch(n.type){case ni.Trigger:return t.visitTrigger(n,e);case ni.State:return t.visitState(n,e);case ni.Transition:return t.visitTransition(n,e);case ni.Sequence:return t.visitSequence(n,e);case ni.Group:return t.visitGroup(n,e);case ni.Animate:return t.visitAnimate(n,e);case ni.Keyframes:return t.visitKeyframes(n,e);case ni.Style:return t.visitStyle(n,e);case ni.Reference:return t.visitReference(n,e);case ni.AnimateChild:return t.visitAnimateChild(n,e);case ni.AnimateRef:return t.visitAnimateRef(n,e);case ni.Query:return t.visitQuery(n,e);case ni.Stagger:return t.visitStagger(n,e);default:throw function Kne(t){return new Je(3004,!1)}()}}function fb(t,n){return window.getComputedStyle(t)[n]}const Bre=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ez extends ab{normalizePropertyName(n,e){return ub(n)}normalizeStyleValue(n,e,r,i){let a="";const s=r.toString().trim();if(Bre.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const l=r.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&i.push(function Qne(t,n){return new Je(3005,!1)}())}return s+a}}const vp="*";const gp=new Set(["true","1"]),yp=new Set(["false","0"]);function Nz(t,n){const e=gp.has(t)||yp.has(t),r=gp.has(n)||yp.has(n);return(i,a)=>{let s=t==vp||t==i,l=n==vp||n==a;return!s&&e&&"boolean"==typeof i&&(s=i?gp.has(t):yp.has(t)),!l&&r&&"boolean"==typeof a&&(l=a?gp.has(n):yp.has(n)),s&&l}}const Gre=new RegExp("s*:selfs*,?","g");function db(t,n,e,r){return new $re(t).build(n,e,r)}class $re{constructor(n){this._driver=n}build(n,e,r){const i=new Yre(e);return this._resetContextStyleTimingState(i),l2(this,ad(n),i)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let r=e.queryCount=0,i=e.depCount=0;const a=[],s=[];return"@"==n.name.charAt(0)&&e.errors.push(function Jne(){return new Je(3006,!1)}()),n.definitions.forEach(l=>{if(this._resetContextStyleTimingState(e),l.type==ni.State){const x=l,F=x.name;F.toString().split(/\s*,\s*/).forEach(oe=>{x.name=oe,a.push(this.visitState(x,e))}),x.name=F}else if(l.type==ni.Transition){const x=this.visitTransition(l,e);r+=x.queryCount,i+=x.depCount,s.push(x)}else e.errors.push(function qne(){return new Je(3007,!1)}())}),{type:ni.Trigger,name:n.name,states:a,transitions:s,queryCount:r,depCount:i,options:null}}visitState(n,e){const r=this.visitStyle(n.styles,e),i=n.options&&n.options.params||null;if(r.containsDynamicStyles){const a=new Set,s=i||{};r.styles.forEach(l=>{l instanceof Map&&l.forEach(x=>{kz(x).forEach(F=>{s.hasOwnProperty(F)||a.add(F)})})}),a.size&&e.errors.push(function ere(t,n){return new Je(3008,!1)}(0,a.values()))}return{type:ni.State,name:n.name,style:r,options:i?{params:i}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const r=l2(this,ad(n.animation),e),i=function Hre(t,n){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function Vre(t,n,e){if(":"==t[0]){const x=function Ure(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return n.push(function ure(t){return new Je(3016,!1)}()),"* => *"}}(t,e);if("function"==typeof x)return void n.push(x);t=x}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function lre(t){return new Je(3015,!1)}()),n;const i=r[1],a=r[2],s=r[3];n.push(Nz(i,s)),"<"==a[0]&&(i!=vp||s!=vp)&&n.push(Nz(s,i))}(r,e,n)):e.push(t),e}(n.expr,e.errors);return{type:ni.Transition,matchers:i,animation:r,queryCount:e.queryCount,depCount:e.depCount,options:i4(n.options)}}visitSequence(n,e){return{type:ni.Sequence,steps:n.steps.map(r=>l2(this,r,e)),options:i4(n.options)}}visitGroup(n,e){const r=e.currentTime;let i=0;const a=n.steps.map(s=>{e.currentTime=r;const l=l2(this,s,e);return i=Math.max(i,e.currentTime),l});return e.currentTime=i,{type:ni.Group,steps:a,options:i4(n.options)}}visitAnimate(n,e){const r=function Xre(t,n){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return hb(mp(t,n).duration,0,"");const e=t;if(e.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=hb(0,0,"");return a.dynamic=!0,a.strValue=e,a}const i=mp(e,n);return hb(i.duration,i.delay,i.easing)}(n.timings,e.errors);e.currentAnimateTimings=r;let i,a=n.styles?n.styles:jc({});if(a.type==ni.Keyframes)i=this.visitKeyframes(a,e);else{let s=n.styles,l=!1;if(!s){l=!0;const F={};r.easing&&(F.easing=r.easing),s=jc(F)}e.currentTime+=r.duration+r.delay;const x=this.visitStyle(s,e);x.isEmptyStep=l,i=x}return e.currentAnimateTimings=null,{type:ni.Animate,timings:r,style:i,options:null}}visitStyle(n,e){const r=this._makeStyleAst(n,e);return this._validateStyleAst(r,e),r}_makeStyleAst(n,e){const r=[],i=Array.isArray(n.styles)?n.styles:[n.styles];for(let l of i)"string"==typeof l?l===Ol?r.push(l):e.errors.push(new Je(3002,!1)):r.push(new Map(Object.entries(l)));let a=!1,s=null;return r.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(s=l.get("easing"),l.delete("easing")),!a))for(let x of l.values())if(x.toString().indexOf("{{")>=0){a=!0;break}}),{type:ni.Style,styles:r,easing:s,offset:n.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(n,e){const r=e.currentAnimateTimings;let i=e.currentTime,a=e.currentTime;r&&a>0&&(a-=r.duration+r.delay),n.styles.forEach(s=>{"string"!=typeof s&&s.forEach((l,x)=>{const F=e.collectedStyles.get(e.currentQuerySelector),oe=F.get(x);let Le=!0;oe&&(a!=i&&a>=oe.startTime&&i<=oe.endTime&&(e.errors.push(function nre(t,n,e,r,i){return new Je(3010,!1)}()),Le=!1),a=oe.startTime),Le&&F.set(x,{startTime:a,endTime:i}),e.options&&function Pre(t,n,e){const r=n.params||{},i=kz(t);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||e.push(function Zne(t){return new Je(3001,!1)}())})}(l,e.options,e.errors)})})}visitKeyframes(n,e){const r={type:ni.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function rre(){return new Je(3011,!1)}()),r;let a=0;const s=[];let l=!1,x=!1,F=0;const oe=n.steps.map(yn=>{const pn=this._makeStyleAst(yn,e);let tr=null!=pn.offset?pn.offset:function Zre(t){if("string"==typeof t)return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;n=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(pn.styles),mr=0;return null!=tr&&(a++,mr=pn.offset=tr),x=x||mr<0||mr>1,l=l||mr<F,F=mr,s.push(mr),pn});x&&e.errors.push(function ire(){return new Je(3012,!1)}()),l&&e.errors.push(function are(){return new Je(3200,!1)}());const Le=n.steps.length;let je=0;a>0&&a<Le?e.errors.push(function sre(){return new Je(3202,!1)}()):0==a&&(je=1/(Le-1));const rt=Le-1,ht=e.currentTime,Ft=e.currentAnimateTimings,an=Ft.duration;return oe.forEach((yn,pn)=>{const tr=je>0?pn==rt?1:je*pn:s[pn],mr=tr*an;e.currentTime=ht+Ft.delay+mr,Ft.duration=mr,this._validateStyleAst(yn,e),yn.offset=tr,r.styles.push(yn)}),r}visitReference(n,e){return{type:ni.Reference,animation:l2(this,ad(n.animation),e),options:i4(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:ni.AnimateChild,options:i4(n.options)}}visitAnimateRef(n,e){return{type:ni.AnimateRef,animation:this.visitReference(n.animation,e),options:i4(n.options)}}visitQuery(n,e){const r=e.currentQuerySelector,i=n.options||{};e.queryCount++,e.currentQuery=n;const[a,s]=function Wre(t){const n=!!t.split(/\s*,\s*/).find(e=>":self"==e);return n&&(t=t.replace(Gre,"")),t=t.replace(/@\*/g,pp).replace(/@\w+/g,e=>pp+"-"+e.slice(1)).replace(/:animating/g,ob),[t,n]}(n.selector);e.currentQuerySelector=r.length?r+" "+a:a,c2(e.collectedStyles,e.currentQuerySelector,new Map);const l=l2(this,ad(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:ni.Query,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:l,originalSelector:n.selector,options:i4(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function ore(){return new Je(3013,!1)}());const r="full"===n.timings?{duration:0,delay:0,easing:"full"}:mp(n.timings,e.errors,!0);return{type:ni.Stagger,animation:l2(this,ad(n.animation),e),timings:r,options:null}}}class Yre{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function i4(t){return t?(t={...t}).params&&(t.params=function jre(t){return t?{...t}:null}(t.params)):t={},t}function hb(t,n,e){return{duration:t,delay:n,easing:e}}function pb(t,n,e,r,i,a,s=null,l=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:s,subTimeline:l}}class bp{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let r=this._map.get(n);r||this._map.set(n,r=[]),r.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const Jre=new RegExp(":enter","g"),eie=new RegExp(":leave","g");function mb(t,n,e,r,i,a=new Map,s=new Map,l,x,F=[]){return(new tie).buildKeyframes(t,n,e,r,i,a,s,l,x,F)}class tie{buildKeyframes(n,e,r,i,a,s,l,x,F,oe=[]){F=F||new bp;const Le=new vb(n,e,F,i,a,oe,[]);Le.options=x;const je=x.delay?Bl(x.delay):0;Le.currentTimeline.delayNextStep(je),Le.currentTimeline.setStyles([s],null,Le.errors,x),l2(this,r,Le);const rt=Le.timelines.filter(ht=>ht.containsAnimation());if(rt.length&&l.size){let ht;for(let Ft=rt.length-1;Ft>=0;Ft--){const an=rt[Ft];if(an.element===e){ht=an;break}}ht&&!ht.allowOnlyTimelineStyles()&&ht.setStyles([l],null,Le.errors,x)}return rt.length?rt.map(ht=>ht.buildKeyframes()):[pb(e,[],[],[],0,je,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(n.options),a=e.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);a!=s&&e.transformIntoNewTimeline(s)}e.previousNode=n}visitAnimateRef(n,e){const r=e.createSubContext(n.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,r),this.visitReference(n.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,r){for(const i of n){const a=i?.delay;if(a){const s="number"==typeof a?a:Bl(sd(a,i?.params??{},e.errors));r.delayNextStep(s)}}}_visitSubInstructions(n,e,r){let a=e.currentTimeline.currentTime;const s=null!=r.duration?Bl(r.duration):null,l=null!=r.delay?Bl(r.delay):null;return 0!==s&&n.forEach(x=>{const F=e.appendInstructionToTimeline(x,s,l);a=Math.max(a,F.duration+F.delay)}),a}visitReference(n,e){e.updateOptions(n.options,!0),l2(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const r=e.subContextCount;let i=e;const a=n.options;if(a&&(a.params||a.delay)&&(i=e.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){i.previousNode.type==ni.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Cp);const s=Bl(a.delay);i.delayNextStep(s)}n.steps.length&&(n.steps.forEach(s=>l2(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const r=[];let i=e.currentTimeline.currentTime;const a=n.options&&n.options.delay?Bl(n.options.delay):0;n.steps.forEach(s=>{const l=e.createSubContext(n.options);a&&l.delayNextStep(a),l2(this,s,l),i=Math.max(i,l.currentTimeline.currentTime),r.push(l.currentTimeline)}),r.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(i),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const r=n.strValue;return mp(e.params?sd(r,e.params,e.errors):r,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const r=e.currentAnimateTimings=this._visitTiming(n.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const a=n.style;a.type==ni.Keyframes?this.visitKeyframes(a,e):(e.incrementTime(r.duration),this.visitStyle(a,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||n.easing;n.isEmptyStep?r.applyEmptyStep(a):r.setStyles(n.styles,a,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,a=r.duration,l=e.createSubContext().currentTimeline;l.easing=r.easing,n.styles.forEach(x=>{l.forwardTime((x.offset||0)*a),l.setStyles(x.styles,x.easing,e.errors,e.options),l.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(l),e.transformIntoNewTimeline(i+a),e.previousNode=n}visitQuery(n,e){const r=e.currentTimeline.currentTime,i=n.options||{},a=i.delay?Bl(i.delay):0;a&&(e.previousNode.type===ni.Style||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Cp);let s=r;const l=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=l.length;let x=null;l.forEach((F,oe)=>{e.currentQueryIndex=oe;const Le=e.createSubContext(n.options,F);a&&Le.delayNextStep(a),F===e.element&&(x=Le.currentTimeline),l2(this,n.animation,Le),Le.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,Le.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),x&&(e.currentTimeline.mergeTimelineCollectedStyles(x),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const r=e.parentContext,i=e.currentTimeline,a=n.timings,s=Math.abs(a.duration),l=s*(e.currentQueryTotal-1);let x=s*e.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":x=l-x;break;case"full":x=r.currentStaggerTime}const oe=e.currentTimeline;x&&oe.delayNextStep(x);const Le=oe.currentTime;l2(this,n.animation,e),e.previousNode=n,r.currentStaggerTime=i.currentTime-Le+(i.startTime-r.currentTimeline.startTime)}}const Cp={};class vb{constructor(n,e,r,i,a,s,l,x){this._driver=n,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=s,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Cp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=x||new xp(this._driver,e,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const r=n;let i=this.options;null!=r.duration&&(i.duration=Bl(r.duration)),null!=r.delay&&(i.delay=Bl(r.delay));const a=r.params;if(a){let s=i.params;s||(s=this.options.params={}),Object.keys(a).forEach(l=>{(!e||!s.hasOwnProperty(l))&&(s[l]=sd(a[l],s,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const r=n.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return n}createSubContext(n=null,e,r){const i=e||this.element,a=new vb(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(n),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(n){return this.previousNode=Cp,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,r){const i={duration:e??n.duration,delay:this.currentTimeline.currentTime+(r??0)+n.delay,easing:""},a=new nie(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,i,n.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,r,i,a,s){let l=[];if(i&&l.push(this.element),n.length>0){n=(n=n.replace(Jre,"."+this._enterClassName)).replace(eie,"."+this._leaveClassName);let F=this._driver.query(this.element,n,1!=r);0!==r&&(F=r<0?F.slice(F.length+r,F.length):F.slice(0,r)),l.push(...F)}return!a&&0==l.length&&s.push(function cre(t){return new Je(3014,!1)}()),l}}class xp{constructor(n,e,r,i){this._driver=n,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new xp(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||Ol),this._currentKeyframe.set(e,Ol);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,r,i){e&&this._previousKeyframe.set("easing",e);const a=i&&i.params||{},s=function rie(t,n){const e=new Map;let r;return t.forEach(i=>{if("*"===i){r??=n.keys();for(let a of r)e.set(a,Ol)}else for(let[a,s]of i)e.set(a,s)}),e}(n,this._globalTimelineStyles);for(let[l,x]of s){const F=sd(x,a,r);this._pendingStyles.set(l,F),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??Ol),this._updateStyle(l,F)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,r)=>{const i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((l,x)=>{const F=new Map([...this._backFill,...l]);F.forEach((oe,Le)=>{"!"===oe?n.add(Le):oe===Ol&&e.add(Le)}),r||F.set("offset",x/this.duration),i.push(F)});const a=[...n.values()],s=[...e.values()];if(r){const l=i[0],x=new Map(l);l.set("offset",0),x.set("offset",1),i=[l,x]}return pb(this.element,i,a,s,this.duration,this.startTime,this.easing,!1)}}class nie extends xp{constructor(n,e,r,i,a,s,l=!1){super(n,e,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=l,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const a=[],s=r+e,l=e/s,x=new Map(n[0]);x.set("offset",0),a.push(x);const F=new Map(n[0]);F.set("offset",Rz(l)),a.push(F);const oe=n.length-1;for(let Le=1;Le<=oe;Le++){let je=new Map(n[Le]);const rt=je.get("offset");je.set("offset",Rz((e+rt*r)/s)),a.push(je)}r=s,e=0,i="",n=a}return pb(this.element,n,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function Rz(t,n=3){const e=Math.pow(10,n-1);return Math.round(t*e)/e}function Fz(t,n,e,r,i,a,s,l,x,F,oe,Le,je){return{type:0,element:t,triggerName:n,isRemovalTransition:i,fromState:e,fromStyles:a,toState:r,toStyles:s,timelines:l,queriedElements:x,preStyleProps:F,postStyleProps:oe,totalTime:Le,errors:je}}const gb={};class Oz{constructor(n,e,r){this._triggerName=n,this.ast=e,this._stateStyles=r}match(n,e,r,i){return function iie(t,n,e,r,i){return t.some(a=>a(n,e,r,i))}(this.ast.matchers,n,e,r,i)}buildStyles(n,e,r){let i=this._stateStyles.get("*");return void 0!==n&&(i=this._stateStyles.get(n?.toString())||i),i?i.buildStyles(e,r):new Map}build(n,e,r,i,a,s,l,x,F,oe){const Le=[],je=this.ast.options&&this.ast.options.params||gb,ht=this.buildStyles(r,l&&l.params||gb,Le),Ft=x&&x.params||gb,an=this.buildStyles(i,Ft,Le),yn=new Set,pn=new Map,tr=new Map,mr="void"===i,Pr={params:Bz(Ft,je),delay:this.ast.options?.delay},pi=oe?[]:mb(n,e,this.ast.animation,a,s,ht,an,Pr,F,Le);let Ri=0;return pi.forEach(Ja=>{Ri=Math.max(Ja.duration+Ja.delay,Ri)}),Le.length?Fz(e,this._triggerName,r,i,mr,ht,an,[],[],pn,tr,Ri,Le):(pi.forEach(Ja=>{const al=Ja.element,e3=c2(pn,al,new Set);Ja.preStyleProps.forEach(T4=>e3.add(T4));const L$=c2(tr,al,new Set);Ja.postStyleProps.forEach(T4=>L$.add(T4)),al!==e&&yn.add(al)}),Fz(e,this._triggerName,r,i,mr,ht,an,pi,[...yn.values()],pn,tr,Ri))}}function Bz(t,n){const e={...n};return Object.entries(t).forEach(([r,i])=>{null!=i&&(e[r]=i)}),e}class aie{constructor(n,e,r){this.styles=n,this.defaultParams=e,this.normalizer=r}buildStyles(n,e){const r=new Map,i=Bz(n,this.defaultParams);return this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((s,l)=>{s&&(s=sd(s,i,e));const x=this.normalizer.normalizePropertyName(l,e);s=this.normalizer.normalizeStyleValue(l,x,s,e),r.set(l,s)})}),r}}class oie{constructor(n,e,r){this.name=n,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new aie(i.style,i.options&&i.options.params||{},r))}),Hz(this.states,"true","1"),Hz(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new Oz(n,i,this.states))}),this.fallbackTransition=function cie(t,n,e){return new Oz(t,{type:ni.Transition,animation:{type:ni.Sequence,steps:[],options:null},matchers:[(s,l)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,r,i){return this.transitionFactories.find(s=>s.match(n,e,r,i))||null}matchStyles(n,e,r){return this.fallbackTransition.buildStyles(n,e,r)}}function Hz(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}const lie=new bp;class uie{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const r=[],a=db(this._driver,e,r,[]);if(r.length)throw function mre(t){return new Je(3503,!1)}();this._animations.set(n,a)}_buildPlayer(n,e,r){const i=n.element,a=wz(this._normalizer,n.keyframes,e,r);return this._driver.animate(i,a,n.duration,n.delay,n.easing,[],!0)}create(n,e,r={}){const i=[],a=this._animations.get(n);let s;const l=new Map;if(a?(s=mb(this._driver,e,a,sb,dp,new Map,new Map,r,lie,i),s.forEach(oe=>{const Le=c2(l,oe.element,new Map);oe.postStyleProps.forEach(je=>Le.set(je,null))})):(i.push(function vre(){return new Je(3300,!1)}()),s=[]),i.length)throw function gre(t){return new Je(3504,!1)}();l.forEach((oe,Le)=>{oe.forEach((je,rt)=>{oe.set(rt,this._driver.computeStyle(Le,rt,Ol))})});const F=W0(s.map(oe=>{const Le=l.get(oe.element);return this._buildPlayer(oe,new Map,Le)}));return this._playersById.set(n,F),F.onDestroy(()=>this.destroy(n)),this.players.push(F),F}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function yre(t){return new Je(3301,!1)}();return e}listen(n,e,r,i){const a=tb(e,"","","");return qy(this._getPlayer(n),r,a,i),()=>{}}command(n,e,r,i){if("register"==r)return void this.register(n,i[0]);if("create"==r)return void this.create(n,e,i[0]||{});const a=this._getPlayer(n);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(n)}}}const Vz="ng-animate-queued",yb="ng-animate-disabled",mie=[],Uz={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},vie={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},uc="__ng_removed";class bb{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const r=n&&n.hasOwnProperty("value");if(this.value=function Cie(t){return t??null}(r?n.value:n),r){const{value:a,...s}=n;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const od="void",Cb=new bb(od);class gie{constructor(n,e,r){this.id=n,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,R2(e,this._hostClassName)}listen(n,e,r,i){if(!this._triggers.has(e))throw function bre(t,n){return new Je(3302,!1)}();if(null==r||0==r.length)throw function Cre(t){return new Je(3303,!1)}();if(!function xie(t){return"start"==t||"done"==t}(r))throw function xre(t,n){return new Je(3400,!1)}();const a=c2(this._elementListeners,n,[]),s={name:e,phase:r,callback:i};a.push(s);const l=c2(this._engine.statesByElement,n,new Map);return l.has(e)||(R2(n,hp),R2(n,hp+"-"+e),l.set(e,Cb)),()=>{this._engine.afterFlush(()=>{const x=a.indexOf(s);x>=0&&a.splice(x,1),this._triggers.has(e)||l.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function Mre(t){return new Je(3401,!1)}();return e}trigger(n,e,r,i=!0){const a=this._getTrigger(e),s=new xb(this.id,e,n);let l=this._engine.statesByElement.get(n);l||(R2(n,hp),R2(n,hp+"-"+e),this._engine.statesByElement.set(n,l=new Map));let x=l.get(e);const F=new bb(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&x&&F.absorbOptions(x.options),l.set(e,F),x||(x=Cb),F.value!==od&&x.value===F.value){if(!function _ie(t,n){const e=Object.keys(t),r=Object.keys(n);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const a=e[i];if(!n.hasOwnProperty(a)||t[a]!==n[a])return!1}return!0}(x.params,F.params)){const Ft=[],an=a.matchStyles(x.value,x.params,Ft),yn=a.matchStyles(F.value,F.params,Ft);Ft.length?this._engine.reportError(Ft):this._engine.afterFlush(()=>{r4(n,an),Yc(n,yn)})}return}const je=c2(this._engine.playersByElement,n,[]);je.forEach(Ft=>{Ft.namespaceId==this.id&&Ft.triggerName==e&&Ft.queued&&Ft.destroy()});let rt=a.matchTransition(x.value,F.value,n,F.params),ht=!1;if(!rt){if(!i)return;rt=a.fallbackTransition,ht=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:rt,fromState:x,toState:F,player:s,isFallbackTransition:ht}),ht||(R2(n,Vz),s.onStart(()=>{uu(n,Vz)})),s.onDone(()=>{let Ft=this.players.indexOf(s);Ft>=0&&this.players.splice(Ft,1);const an=this._engine.playersByElement.get(n);if(an){let yn=an.indexOf(s);yn>=0&&an.splice(yn,1)}}),this.players.push(s),je.push(s),s}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const r=this._engine.driver.query(n,pp,!0);r.forEach(i=>{if(i[uc])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(s=>s.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(n,e,r,i){const a=this._engine.statesByElement.get(n),s=new Map;if(a){const l=[];if(a.forEach((x,F)=>{if(s.set(F,x.value),this._triggers.has(F)){const oe=this.trigger(n,F,od,i);oe&&l.push(oe)}}),l.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,s),r&&W0(l).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),r=this._engine.statesByElement.get(n);if(e&&r){const i=new Set;e.forEach(a=>{const s=a.name;if(i.has(s))return;i.add(s);const x=this._triggers.get(s).fallbackTransition,F=r.get(s)||Cb,oe=new bb(od),Le=new xb(this.id,s,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:s,transition:x,fromState:F,toState:oe,player:Le,isFallbackTransition:!0})})}}removeNode(n,e){const r=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(n):[];if(a&&a.length)i=!0;else{let s=n;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(n),i)r.markElementAsRemoved(this.id,n,!1,e);else{const a=n[uc];(!a||a===Uz)&&(r.afterFlush(()=>this.clearElementCache(n)),r.destroyInnerAnimations(n),r._onRemovalComplete(n,e))}}insertNode(n,e){R2(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,s=this._elementListeners.get(a);s&&s.forEach(l=>{if(l.name==r.triggerName){const x=tb(a,r.triggerName,r.fromState.value,r.toState.value);x._data=n,qy(r.player,l.phase,x,l.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const a=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==a||0==s?a-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}}class yie{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,r,i){this.bodyNode=n,this.driver=e,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,s)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&n.push(r)})}),n}createNamespace(n,e){const r=new gie(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[n]=r}_balanceNamespaceList(n,e){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,l=this.driver.getParentElement(e);for(;l;){const x=i.get(l);if(x){const F=r.indexOf(x);r.splice(F+1,0,n),s=!0;break}l=this.driver.getParentElement(l)}s||r.unshift(n)}else r.push(n);return i.set(e,n),n}register(n,e){let r=this._namespaceLookup[n];return r||(r=this.createNamespace(n,e)),r}registerTrigger(n,e,r){let i=this._namespaceLookup[n];i&&i.register(e,r)&&this.totalAnimations++}destroy(n,e){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(n);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(e),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,r=this.statesByElement.get(n);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&e.add(a)}return e}trigger(n,e,r,i){if(Mp(e)){const a=this._fetchNamespace(n);if(a)return a.trigger(e,r,i),!0}return!1}insertNode(n,e,r,i){if(!Mp(e))return;const a=e[uc];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(n){const s=this._fetchNamespace(n);s&&s.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),R2(n,yb)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),uu(n,yb))}removeNode(n,e,r){if(Mp(e)){this.scheduler?.notify();const i=n?this._fetchNamespace(n):null;i?i.removeNode(e,r):this.markElementAsRemoved(n,e,!1,r);const a=this.namespacesByHostElement.get(e);a&&a.id!==n&&a.removeNode(e,r)}else this._onRemovalComplete(e,r)}markElementAsRemoved(n,e,r,i,a){this.collectedLeaveElements.push(e),e[uc]={namespaceId:n,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(n,e,r,i,a){return Mp(e)?this._fetchNamespace(n).listen(e,r,i,a):()=>{}}_buildInstruction(n,e,r,i,a){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,r,i,n.fromState.options,n.toState.options,e,a)}destroyInnerAnimations(n){let e=this.driver.query(n,pp,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,ob,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return W0(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[uc];if(e&&e.setForRemoval){if(n[uc]=Uz,e.namespaceId){this.destroyInnerAnimations(n);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(yb)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)R2(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,n)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?W0(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(n){throw function wre(t){return new Je(3402,!1)}()}_flushAnimations(n,e){const r=new bp,i=[],a=new Map,s=[],l=new Map,x=new Map,F=new Map,oe=new Set;this.disabledNodes.forEach(Ar=>{oe.add(Ar);const Gr=this.driver.query(Ar,".ng-animate-queued",!0);for(let Jr=0;Jr<Gr.length;Jr++)oe.add(Gr[Jr])});const Le=this.bodyNode,je=Array.from(this.statesByElement.keys()),rt=Wz(je,this.collectedEnterElements),ht=new Map;let Ft=0;rt.forEach((Ar,Gr)=>{const Jr=sb+Ft++;ht.set(Gr,Jr),Ar.forEach(Yi=>R2(Yi,Jr))});const an=[],yn=new Set,pn=new Set;for(let Ar=0;Ar<this.collectedLeaveElements.length;Ar++){const Gr=this.collectedLeaveElements[Ar],Jr=Gr[uc];Jr&&Jr.setForRemoval&&(an.push(Gr),yn.add(Gr),Jr.hasAnimation?this.driver.query(Gr,".ng-star-inserted",!0).forEach(Yi=>yn.add(Yi)):pn.add(Gr))}const tr=new Map,mr=Wz(je,Array.from(yn));mr.forEach((Ar,Gr)=>{const Jr=dp+Ft++;tr.set(Gr,Jr),Ar.forEach(Yi=>R2(Yi,Jr))}),n.push(()=>{rt.forEach((Ar,Gr)=>{const Jr=ht.get(Gr);Ar.forEach(Yi=>uu(Yi,Jr))}),mr.forEach((Ar,Gr)=>{const Jr=tr.get(Gr);Ar.forEach(Yi=>uu(Yi,Jr))}),an.forEach(Ar=>{this.processLeaveNode(Ar)})});const Pr=[],pi=[];for(let Ar=this._namespaceList.length-1;Ar>=0;Ar--)this._namespaceList[Ar].drainQueuedTransitions(e).forEach(Jr=>{const Yi=Jr.player,M1=Jr.element;if(Pr.push(Yi),this.collectedEnterElements.length){const no=M1[uc];if(no&&no.setForMove){if(no.previousTriggersValues&&no.previousTriggersValues.has(Jr.triggerName)){const D4=no.previousTriggersValues.get(Jr.triggerName),O2=this.statesByElement.get(Jr.element);if(O2&&O2.has(Jr.triggerName)){const jm=O2.get(Jr.triggerName);jm.value=D4,O2.set(Jr.triggerName,jm)}}return void Yi.destroy()}}const sl=!Le||!this.driver.containsElement(Le,M1),v2=tr.get(M1),t3=ht.get(M1),vs=this._buildInstruction(Jr,r,t3,v2,sl);if(vs.errors&&vs.errors.length)return void pi.push(vs);if(sl)return Yi.onStart(()=>r4(M1,vs.fromStyles)),Yi.onDestroy(()=>Yc(M1,vs.toStyles)),void i.push(Yi);if(Jr.isFallbackTransition)return Yi.onStart(()=>r4(M1,vs.fromStyles)),Yi.onDestroy(()=>Yc(M1,vs.toStyles)),void i.push(Yi);const D$=[];vs.timelines.forEach(no=>{no.stretchStartingKeyframe=!0,this.disabledNodes.has(no.element)||D$.push(no)}),vs.timelines=D$,r.append(M1,vs.timelines),s.push({instruction:vs,player:Yi,element:M1}),vs.queriedElements.forEach(no=>c2(l,no,[]).push(Yi)),vs.preStyleProps.forEach((no,D4)=>{if(no.size){let O2=x.get(D4);O2||x.set(D4,O2=new Set),no.forEach((jm,IM)=>O2.add(IM))}}),vs.postStyleProps.forEach((no,D4)=>{let O2=F.get(D4);O2||F.set(D4,O2=new Set),no.forEach((jm,IM)=>O2.add(IM))})});if(pi.length){const Ar=[];pi.forEach(Gr=>{Ar.push(function _re(t,n){return new Je(3505,!1)}())}),Pr.forEach(Gr=>Gr.destroy()),this.reportError(Ar)}const Ri=new Map,Ja=new Map;s.forEach(Ar=>{const Gr=Ar.element;r.has(Gr)&&(Ja.set(Gr,Gr),this._beforeAnimationBuild(Ar.player.namespaceId,Ar.instruction,Ri))}),i.forEach(Ar=>{const Gr=Ar.element;this._getPreviousPlayers(Gr,!1,Ar.namespaceId,Ar.triggerName,null).forEach(Yi=>{c2(Ri,Gr,[]).push(Yi),Yi.destroy()})});const al=an.filter(Ar=>Yz(Ar,x,F)),e3=new Map;$z(e3,this.driver,pn,F,Ol).forEach(Ar=>{Yz(Ar,x,F)&&al.push(Ar)});const T4=new Map;rt.forEach((Ar,Gr)=>{$z(T4,this.driver,new Set(Ar),x,"!")}),al.forEach(Ar=>{const Gr=e3.get(Ar),Jr=T4.get(Ar);e3.set(Ar,new Map([...Gr?.entries()??[],...Jr?.entries()??[]]))});const NM=[],S$=[],T$={};s.forEach(Ar=>{const{element:Gr,player:Jr,instruction:Yi}=Ar;if(r.has(Gr)){if(oe.has(Gr))return Jr.onDestroy(()=>Yc(Gr,Yi.toStyles)),Jr.disabled=!0,Jr.overrideTotalTime(Yi.totalTime),void i.push(Jr);let M1=T$;if(Ja.size>1){let v2=Gr;const t3=[];for(;v2=v2.parentNode;){const vs=Ja.get(v2);if(vs){M1=vs;break}t3.push(v2)}t3.forEach(vs=>Ja.set(vs,M1))}const sl=this._buildAnimation(Jr.namespaceId,Yi,Ri,a,T4,e3);if(Jr.setRealPlayer(sl),M1===T$)NM.push(Jr);else{const v2=this.playersByElement.get(M1);v2&&v2.length&&(Jr.parentPlayer=W0(v2)),i.push(Jr)}}else r4(Gr,Yi.fromStyles),Jr.onDestroy(()=>Yc(Gr,Yi.toStyles)),S$.push(Jr),oe.has(Gr)&&i.push(Jr)}),S$.forEach(Ar=>{const Gr=a.get(Ar.element);if(Gr&&Gr.length){const Jr=W0(Gr);Ar.setRealPlayer(Jr)}}),i.forEach(Ar=>{Ar.parentPlayer?Ar.syncPlayerEvents(Ar.parentPlayer):Ar.destroy()});for(let Ar=0;Ar<an.length;Ar++){const Gr=an[Ar],Jr=Gr[uc];if(uu(Gr,dp),Jr&&Jr.hasAnimation)continue;let Yi=[];if(l.size){let sl=l.get(Gr);sl&&sl.length&&Yi.push(...sl);let v2=this.driver.query(Gr,ob,!0);for(let t3=0;t3<v2.length;t3++){let vs=l.get(v2[t3]);vs&&vs.length&&Yi.push(...vs)}}const M1=Yi.filter(sl=>!sl.destroyed);M1.length?Mie(this,Gr,M1):this.processLeaveNode(Gr)}return an.length=0,NM.forEach(Ar=>{this.players.push(Ar),Ar.onDone(()=>{Ar.destroy();const Gr=this.players.indexOf(Ar);this.players.splice(Gr,1)}),Ar.play()}),NM}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,r,i,a){let s=[];if(e){const l=this.playersByQueriedElement.get(n);l&&(s=l)}else{const l=this.playersByElement.get(n);if(l){const x=!a||a==od;l.forEach(F=>{F.queued||!x&&F.triggerName!=i||s.push(F)})}}return(r||i)&&(s=s.filter(l=>!(r&&r!=l.namespaceId||i&&i!=l.triggerName))),s}_beforeAnimationBuild(n,e,r){const a=e.element,s=e.isRemovalTransition?void 0:n,l=e.isRemovalTransition?void 0:e.triggerName;for(const x of e.timelines){const F=x.element,oe=F!==a,Le=c2(r,F,[]);this._getPreviousPlayers(F,oe,s,l,e.toState).forEach(rt=>{const ht=rt.getRealPlayer();ht.beforeDestroy&&ht.beforeDestroy(),rt.destroy(),Le.push(rt)})}r4(a,e.fromStyles)}_buildAnimation(n,e,r,i,a,s){const l=e.triggerName,x=e.element,F=[],oe=new Set,Le=new Set,je=e.timelines.map(ht=>{const Ft=ht.element;oe.add(Ft);const an=Ft[uc];if(an&&an.removedBeforeQueried)return new id(ht.duration,ht.delay);const yn=Ft!==x,pn=function wie(t){const n=[];return jz(t,n),n}((r.get(Ft)||mie).map(Ri=>Ri.getRealPlayer())).filter(Ri=>!!Ri.element&&Ri.element===Ft),tr=a.get(Ft),mr=s.get(Ft),Pr=wz(this._normalizer,ht.keyframes,tr,mr),pi=this._buildPlayer(ht,Pr,pn);if(ht.subTimeline&&i&&Le.add(Ft),yn){const Ri=new xb(n,l,Ft);Ri.setRealPlayer(pi),F.push(Ri)}return pi});F.forEach(ht=>{c2(this.playersByQueriedElement,ht.element,[]).push(ht),ht.onDone(()=>function bie(t,n,e){let r=t.get(n);if(r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&t.delete(n)}return r}(this.playersByQueriedElement,ht.element,ht))}),oe.forEach(ht=>R2(ht,Az));const rt=W0(je);return rt.onDestroy(()=>{oe.forEach(ht=>uu(ht,Az)),Yc(x,e.toStyles)}),Le.forEach(ht=>{c2(i,ht,[]).push(rt)}),rt}_buildPlayer(n,e,r){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,r):new id(n.duration,n.delay)}}class xb{constructor(n,e,r){this.namespaceId=n,this.triggerName=e,this.element=r,this._player=new id,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>qy(n,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){c2(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function Mp(t){return t&&1===t.nodeType}function Gz(t,n){const e=t.style.display;return t.style.display=n??"none",e}function $z(t,n,e,r,i){const a=[];e.forEach(x=>a.push(Gz(x)));const s=[];r.forEach((x,F)=>{const oe=new Map;x.forEach(Le=>{const je=n.computeStyle(F,Le,i);oe.set(Le,je),(!je||0==je.length)&&(F[uc]=vie,s.push(F))}),t.set(F,oe)});let l=0;return e.forEach(x=>Gz(x,a[l++])),s}function Wz(t,n){const e=new Map;if(t.forEach(l=>e.set(l,[])),0==n.length)return e;const i=new Set(n),a=new Map;function s(l){if(!l)return 1;let x=a.get(l);if(x)return x;const F=l.parentNode;return x=e.has(F)?F:i.has(F)?1:s(F),a.set(l,x),x}return n.forEach(l=>{const x=s(l);1!==x&&e.get(x).push(l)}),e}function R2(t,n){t.classList?.add(n)}function uu(t,n){t.classList?.remove(n)}function Mie(t,n,e){W0(e).onDone(()=>t.processLeaveNode(n))}function jz(t,n){for(let e=0;e<t.length;e++){const r=t[e];r instanceof xz?jz(r.players,n):n.push(r)}}function Yz(t,n,e){const r=e.get(t);if(!r)return!1;let i=n.get(t);return i?r.forEach(a=>i.add(a)):n.set(t,r),e.delete(t),!0}class cd{constructor(n,e,r,i){this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(a,s)=>{},this._transitionEngine=new yie(n.body,e,r,i),this._timelineEngine=new uie(n.body,e,r),this._transitionEngine.onRemovalComplete=(a,s)=>this.onRemovalComplete(a,s)}registerTrigger(n,e,r,i,a){const s=n+"-"+i;let l=this._triggerCache[s];if(!l){const x=[],oe=db(this._driver,a,x,[]);if(x.length)throw function hre(t,n){return new Je(3404,!1)}();l=function sie(t,n,e){return new oie(t,n,e)}(i,oe,this._normalizer),this._triggerCache[s]=l}this._transitionEngine.registerTrigger(e,i,l)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,r,i){this._transitionEngine.insertNode(n,e,r,i)}onRemove(n,e,r){this._transitionEngine.removeNode(n,e,r)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,r,i){if("@"==r.charAt(0)){const[a,s]=_z(r);this._timelineEngine.command(a,e,s,i)}else this._transitionEngine.trigger(n,e,r,i)}listen(n,e,r,i,a){if("@"==r.charAt(0)){const[s,l]=_z(r);return this._timelineEngine.listen(s,e,l,a)}return this._transitionEngine.listen(n,e,r,i,a)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}class ld{static#e=this.initialStylesByElement=new WeakMap;constructor(n,e,r){this._element=n,this._startStyles=e,this._endStyles=r,this._state=0;let i=ld.initialStylesByElement.get(n);i||ld.initialStylesByElement.set(n,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Yc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Yc(this._element,this._initialStyles),this._endStyles&&(Yc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(ld.initialStylesByElement.delete(this._element),this._startStyles&&(r4(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(r4(this._element,this._endStyles),this._endStyles=null),Yc(this._element,this._initialStyles),this._state=3)}}function Mb(t){let n=null;return t.forEach((e,r)=>{(function Sie(t){return"display"===t||"position"===t})(r)&&(n=n||new Map,n.set(r,e))}),n}class Zz{constructor(n,e,r,i){this.element=n,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(n,e,r){return n.animate(this._convertKeyframesToObject(e),r)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&n.set(i,this._finished?r:fb(this.element,i))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class Xz{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return Sz(n,e)}getParentElement(n){return nb(n)}query(n,e,r){return Tz(n,e,r)}computeStyle(n,e,r){return fb(n,e)}animate(n,e,r,i,a,s=[]){const x={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(x.easing=a);const F=new Map,oe=s.filter(rt=>rt instanceof Zz);(function Fre(t,n){return 0===t||0===n})(r,i)&&oe.forEach(rt=>{rt.currentSnapshot.forEach((ht,Ft)=>F.set(Ft,ht))});let Le=function Ire(t){return t.length?t[0]instanceof Map?t:t.map(n=>new Map(Object.entries(n))):[]}(e).map(rt=>new Map(rt));Le=function Ore(t,n,e){if(e.size&&n.length){let r=n[0],i=[];if(e.forEach((a,s)=>{r.has(s)||i.push(s),r.set(s,a)}),i.length)for(let a=1;a<n.length;a++){let s=n[a];i.forEach(l=>s.set(l,fb(t,l)))}}return n}(n,Le,F);const je=function Lie(t,n){let e=null,r=null;return Array.isArray(n)&&n.length?(e=Mb(n[0]),n.length>1&&(r=Mb(n[n.length-1]))):n instanceof Map&&(e=Mb(n)),e||r?new ld(t,e,r):null}(n,Le);return new Zz(n,Le,x,je)}}const Kz="@.disabled";class Qz{constructor(n,e,r,i){this.namespaceId=n,this.delegate=e,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,r,i=!0){this.delegate.insertBefore(n,e,r),this.engine.onInsert(this.namespaceId,e,n,i)}removeChild(n,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,r,i){this.delegate.setAttribute(n,e,r,i)}removeAttribute(n,e,r){this.delegate.removeAttribute(n,e,r)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,r,i){this.delegate.setStyle(n,e,r,i)}removeStyle(n,e,r){this.delegate.removeStyle(n,e,r)}setProperty(n,e,r){"@"==e.charAt(0)&&e==Kz?this.disableAnimations(n,!!r):this.delegate.setProperty(n,e,r)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,r){return this.delegate.listen(n,e,r)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class Tie extends Qz{constructor(n,e,r,i,a){super(e,r,i,a),this.factory=n,this.namespaceId=e}setProperty(n,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Kz?this.disableAnimations(n,r=void 0===r||!!r):this.engine.process(this.namespaceId,n,e.slice(1),r):this.delegate.setProperty(n,e,r)}listen(n,e,r){if("@"==e.charAt(0)){const i=function Die(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(n);let a=e.slice(1),s="";return"@"!=a.charAt(0)&&([a,s]=function Aie(t){const n=t.indexOf(".");return[t.substring(0,n),t.slice(n+1)]}(a)),this.engine.listen(this.namespaceId,i,a,s,l=>{this.factory.scheduleListenerCallback(l._data||-1,r,l)})}return this.delegate.listen(n,e,r)}}class zie{constructor(n,e,r){this.delegate=n,this.engine=e,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(i,a)=>{const s=a?.parentNode(i);s&&a.removeChild(s,i)}}createRenderer(n,e){const i=this.delegate.createRenderer(n,e);if(!n||!e?.data?.animation){const F=this._rendererCache;let oe=F.get(i);return oe||(oe=new Qz("",i,this.engine,()=>F.delete(i)),F.set(i,oe)),oe}const a=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,n);const l=F=>{Array.isArray(F)?F.forEach(l):this.engine.registerTrigger(a,s,n,F.name,F)};return e.data.animation.forEach(l),new Tie(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,e,r){if(n>=0&&n<this._microtaskId)return void this._zone.run(()=>e(r));const i=this._animationCallbacksBuffer;0==i.length&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(a=>{const[s,l]=a;s(l)}),this._animationCallbacksBuffer=[]})}),i.push([e,r])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const Jz=[{provide:ab,useFactory:function Eie(){return new Ez}},{provide:cd,useClass:(()=>{class t extends cd{constructor(e,r,i){super(e,r,i,Xn(Jh,{optional:!0}))}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||t)(gn(Aa),gn(ib),gn(ab))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})()},{provide:Rv,useFactory:function Nie(t,n,e){return new zie(t,n,e)},deps:[Cy,cd,Di]}],wb=[{provide:ib,useFactory:()=>new Xz},{provide:p6,useValue:"BrowserAnimations"},...Jz],qz=[{provide:ib,useClass:rb},{provide:p6,useValue:"NoopAnimations"},...Jz];let Iie=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?qz:wb}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Qi({type:t});static#n=this.\u0275inj=pr({providers:wb,imports:[BD]})}return t})();const ek=()=>{};let _b={},tk={},nk=null,rk={mark:ek,measure:ek};try{typeof window<"u"&&(_b=window),typeof document<"u"&&(tk=document),typeof MutationObserver<"u"&&(nk=MutationObserver),typeof performance<"u"&&(rk=performance)}catch{}const{userAgent:ik=""}=_b.navigator||{},j0=_b,Za=tk,ak=nk,_p=rk,Hl=!!Za.documentElement&&!!Za.head&&"function"==typeof Za.addEventListener&&"function"==typeof Za.createElement,sk=~ik.indexOf("MSIE")||~ik.indexOf("Trident/");var os="classic",ok="duotone",u2="sharp",f2="sharp-duotone",Pie=[os,ok,u2,f2],lk={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid"}},uk=[1,2,3,4,5,6,7,8,9,10],Yie=uk.concat([11,12,13,14,15,16,17,18,19,20]),ud={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Zie=[...Object.keys({classic:["fas","far","fal","fat"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds"]}),"solid","regular","light","thin","duotone","brands","2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ud.GROUP,ud.SWAP_OPACITY,ud.PRIMARY,ud.SECONDARY].concat(uk.map(t=>"".concat(t,"x"))).concat(Yie.map(t=>"w-".concat(t)));const Vl="___FONT_AWESOME___",Lb=16,dk="fa",hk="svg-inline--fa",a4="data-fa-i2svg",Sb="data-fa-pseudo-element",Jie="data-fa-pseudo-element-pending",Tb="data-prefix",Db="data-icon",pk="fontawesome-i2svg",qie="async",eae=["HTML","HEAD","STYLE","SCRIPT"],mk=(()=>{try{return!0}catch{return!1}})(),vk=[os,u2,f2];function fd(t){return new Proxy(t,{get:(n,e)=>e in n?n[e]:n[os]})}const gk={...lk};gk[os]={...lk[os],fak:"kit","fa-kit":"kit",fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"};const s4=fd(gk),Ab={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds"}};Ab[os]={...Ab[os],kit:"fak","kit-duotone":"fakd"};const dd=fd(Ab),zb={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid"}};zb[os]={...zb[os],fak:"fa-kit"};const o4=fd(zb),kb={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds"}};kb[os]={...kb[os],"fa-kit":"fak"};const tae=fd(kb),nae=/fa(s|r|l|t|d|b|k|kd|ss|sr|sl|st|sds)?[\-\ ]/,yk="fa-layers-text",rae=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,aae=(fd({classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds"}}),["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"]),Eb=ud,fu=new Set;Object.keys(dd[os]).map(fu.add.bind(fu)),Object.keys(dd[u2]).map(fu.add.bind(fu)),Object.keys(dd[f2]).map(fu.add.bind(fu));const sae=["kit",...Zie],hd=j0.FontAwesomeConfig||{};Za&&"function"==typeof Za.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(n=>{let[e,r]=n;const i=function cae(t){return""===t||"false"!==t&&("true"===t||t)}(function oae(t){var n=Za.querySelector("script["+t+"]");if(n)return n.getAttribute(t)}(e));null!=i&&(hd[r]=i)});const bk={styleDefault:"solid",familyDefault:"classic",cssPrefix:dk,replacementClass:hk,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};hd.familyPrefix&&(hd.cssPrefix=hd.familyPrefix);const du={...bk,...hd};du.autoReplaceSvg||(du.observeMutations=!1);const Dr={};Object.keys(bk).forEach(t=>{Object.defineProperty(Dr,t,{enumerable:!0,set:function(n){du[t]=n,pd.forEach(e=>e(Dr))},get:function(){return du[t]}})}),Object.defineProperty(Dr,"familyPrefix",{enumerable:!0,set:function(t){du.cssPrefix=t,pd.forEach(n=>n(Dr))},get:function(){return du.cssPrefix}}),j0.FontAwesomeConfig=Dr;const pd=[],Y0=Lb,Zc={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},fae="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function md(){let t=12,n="";for(;t-- >0;)n+=fae[62*Math.random()|0];return n}function hu(t){const n=[];for(let e=(t||[]).length>>>0;e--;)n[e]=t[e];return n}function Nb(t){return t.classList?hu(t.classList):(t.getAttribute("class")||"").split(" ").filter(n=>n)}function Ck(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Lp(t){return Object.keys(t||{}).reduce((n,e)=>n+"".concat(e,": ").concat(t[e].trim(),";"),"")}function Ib(t){return t.size!==Zc.size||t.x!==Zc.x||t.y!==Zc.y||t.rotate!==Zc.rotate||t.flipX||t.flipY}var mae=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-counter-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(-1 * var(--fa-li-width, 2em));\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  animation-name: fa-beat;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  animation-name: fa-bounce;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  animation-name: fa-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  animation-name: fa-beat-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  animation-name: fa-flip;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  animation-name: fa-shake;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  animation-name: fa-spin;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 2s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  animation-name: fa-spin;\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    animation-delay: -1ms;\n    animation-duration: 1ms;\n    animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-shake {\n  0% {\n    transform: rotate(-15deg);\n  }\n  4% {\n    transform: rotate(15deg);\n  }\n  8%, 24% {\n    transform: rotate(-18deg);\n  }\n  12%, 28% {\n    transform: rotate(18deg);\n  }\n  16% {\n    transform: rotate(-22deg);\n  }\n  20% {\n    transform: rotate(22deg);\n  }\n  32% {\n    transform: rotate(-12deg);\n  }\n  36% {\n    transform: rotate(12deg);\n  }\n  40%, 100% {\n    transform: rotate(0deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function xk(){const t=dk,n=hk,e=Dr.cssPrefix,r=Dr.replacementClass;let i=mae;if(e!==t||r!==n){const a=new RegExp("\\.".concat(t,"\\-"),"g"),s=new RegExp("\\--".concat(t,"\\-"),"g"),l=new RegExp("\\.".concat(n),"g");i=i.replace(a,".".concat(e,"-")).replace(s,"--".concat(e,"-")).replace(l,".".concat(r))}return i}let Mk=!1;function Pb(){Dr.autoAddCss&&!Mk&&(function uae(t){if(!t||!Hl)return;const n=Za.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=t;const e=Za.head.childNodes;let r=null;for(let i=e.length-1;i>-1;i--){const a=e[i],s=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=a)}Za.head.insertBefore(n,r)}(xk()),Mk=!0)}var vae={mixout:()=>({dom:{css:xk,insertCss:Pb}}),hooks:()=>({beforeDOMElementCreation(){Pb()},beforeI2svg(){Pb()}})};const Ul=j0||{};Ul[Vl]||(Ul[Vl]={}),Ul[Vl].styles||(Ul[Vl].styles={}),Ul[Vl].hooks||(Ul[Vl].hooks={}),Ul[Vl].shims||(Ul[Vl].shims=[]);var Xc=Ul[Vl];const wk=[],_k=function(){Za.removeEventListener("DOMContentLoaded",_k),Sp=1,wk.map(t=>t())};let Sp=!1;function vd(t){const{tag:n,attributes:e={},children:r=[]}=t;return"string"==typeof t?Ck(t):"<".concat(n," ").concat(function dae(t){return Object.keys(t||{}).reduce((n,e)=>n+"".concat(e,'="').concat(Ck(t[e]),'" '),"").trim()}(e),">").concat(r.map(vd).join(""),"</").concat(n,">")}function Lk(t,n,e){if(t&&t[n]&&t[n][e])return{prefix:n,iconName:e,icon:t[n][e]}}Hl&&(Sp=(Za.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Za.readyState),Sp||Za.addEventListener("DOMContentLoaded",_k));var Rb=function(n,e,r,i){var x,F,oe,a=Object.keys(n),s=a.length,l=void 0!==i?function(n,e){return function(r,i,a,s){return n.call(e,r,i,a,s)}}(e,i):e;for(void 0===r?(x=1,oe=n[a[0]]):(x=0,oe=r);x<s;x++)oe=l(oe,n[F=a[x]],F,n);return oe};function Fb(t){const n=function bae(t){const n=[];let e=0;const r=t.length;for(;e<r;){const i=t.charCodeAt(e++);if(i>=55296&&i<=56319&&e<r){const a=t.charCodeAt(e++);56320==(64512&a)?n.push(((1023&i)<<10)+(1023&a)+65536):(n.push(i),e--)}else n.push(i)}return n}(t);return 1===n.length?n[0].toString(16):null}function Sk(t){return Object.keys(t).reduce((n,e)=>{const r=t[e];return r.icon?n[r.iconName]=r.icon:n[e]=r,n},{})}function Ob(t,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipHooks:r=!1}=e,i=Sk(n);"function"!=typeof Xc.hooks.addPack||r?Xc.styles[t]={...Xc.styles[t]||{},...i}:Xc.hooks.addPack(t,Sk(n)),"fas"===t&&Ob("fa",n)}const{styles:c4,shims:xae}=Xc,Mae={[os]:Object.values(o4[os]),[u2]:Object.values(o4[u2]),[f2]:Object.values(o4[f2])};let Bb=null,Tk={},Dk={},Ak={},zk={},kk={};const wae={[os]:Object.keys(s4[os]),[u2]:Object.keys(s4[u2]),[f2]:Object.keys(s4[f2])};const Ek=()=>{const t=r=>Rb(c4,(i,a,s)=>(i[s]=Rb(a,r,{}),i),{});Tk=t((r,i,a)=>(i[3]&&(r[i[3]]=a),i[2]&&i[2].filter(l=>"number"==typeof l).forEach(l=>{r[l.toString(16)]=a}),r)),Dk=t((r,i,a)=>(r[a]=a,i[2]&&i[2].filter(l=>"string"==typeof l).forEach(l=>{r[l]=a}),r)),kk=t((r,i,a)=>{const s=i[2];return r[a]=a,s.forEach(l=>{r[l]=a}),r});const n="far"in c4||Dr.autoFetchSvg,e=Rb(xae,(r,i)=>{const a=i[0];let s=i[1];const l=i[2];return"far"===s&&!n&&(s="fas"),"string"==typeof a&&(r.names[a]={prefix:s,iconName:l}),"number"==typeof a&&(r.unicodes[a.toString(16)]={prefix:s,iconName:l}),r},{names:{},unicodes:{}});Ak=e.names,zk=e.unicodes,Bb=Tp(Dr.styleDefault,{family:Dr.familyDefault})};function Hb(t,n){return(Tk[t]||{})[n]}function Z0(t,n){return(kk[t]||{})[n]}function Nk(t){return Ak[t]||{prefix:null,iconName:null}}function X0(){return Bb}(function lae(t){pd.push(t)})(t=>{Bb=Tp(t.styleDefault,{family:Dr.familyDefault})}),Ek();const Vb=()=>({prefix:null,iconName:null,rest:[]});function Tp(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{family:e=os}=n;return dd[e][t]||dd[e][s4[e][t]]||(t in Xc.styles?t:null)||null}const Dae={[os]:Object.keys(o4[os]),[u2]:Object.keys(o4[u2]),[f2]:Object.keys(o4[f2])};function Dp(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{skipLookups:e=!1}=n,r={[os]:"".concat(Dr.cssPrefix,"-").concat(os),[u2]:"".concat(Dr.cssPrefix,"-").concat(u2),[f2]:"".concat(Dr.cssPrefix,"-").concat(f2)};let i=null,a=os;const s=Pie.filter(x=>x!==ok);s.forEach(x=>{(t.includes(r[x])||t.some(F=>Dae[x].includes(F)))&&(a=x)});const l=t.reduce((x,F)=>{const oe=function Lae(t,n){const e=n.split("-"),r=e[0],i=e.slice(1).join("-");return r!==t||""===i||function _ae(t){return~sae.indexOf(t)}(i)?null:i}(Dr.cssPrefix,F);if(c4[F]?(F=Mae[a].includes(F)?tae[a][F]:F,i=F,x.prefix=F):wae[a].indexOf(F)>-1?(i=F,x.prefix=Tp(F,{family:a})):oe?x.iconName=oe:F!==Dr.replacementClass&&!s.some(Le=>F===r[Le])&&x.rest.push(F),!e&&x.prefix&&x.iconName){const Le="fa"===i?Nk(x.iconName):{},je=Z0(x.prefix,x.iconName);Le.prefix&&(i=null),x.iconName=Le.iconName||je||x.iconName,x.prefix=Le.prefix||x.prefix,"far"===x.prefix&&!c4.far&&c4.fas&&!Dr.autoFetchSvg&&(x.prefix="fas")}return x},Vb());return(t.includes("fa-brands")||t.includes("fab"))&&(l.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(l.prefix="fad"),!l.prefix&&a===u2&&(c4.fass||Dr.autoFetchSvg)&&(l.prefix="fass",l.iconName=Z0(l.prefix,l.iconName)||l.iconName),!l.prefix&&a===f2&&(c4.fasds||Dr.autoFetchSvg)&&(l.prefix="fasds",l.iconName=Z0(l.prefix,l.iconName)||l.iconName),("fa"===l.prefix||"fa"===i)&&(l.prefix=X0()||"fas"),l}let Ik=[],pu={};const mu={},zae=Object.keys(mu);function Ub(t,n){for(var e=arguments.length,r=new Array(e>2?e-2:0),i=2;i<e;i++)r[i-2]=arguments[i];return(pu[t]||[]).forEach(s=>{n=s.apply(null,[n,...r])}),n}function l4(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];(pu[t]||[]).forEach(a=>{a.apply(null,e)})}function K0(){const t=arguments[0],n=Array.prototype.slice.call(arguments,1);return mu[t]?mu[t].apply(null,n):void 0}function Gb(t){"fa"===t.prefix&&(t.prefix="fas");let{iconName:n}=t;const e=t.prefix||X0();if(n)return n=Z0(e,n)||n,Lk(Pk.definitions,e,n)||Lk(Xc.styles,e,n)}const Pk=new class Aae{constructor(){this.definitions={}}add(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];const i=e.reduce(this._pullDefinitions,{});Object.keys(i).forEach(a=>{this.definitions[a]={...this.definitions[a]||{},...i[a]},Ob(a,i[a]);const s=o4[os][a];s&&Ob(s,i[a]),Ek()})}reset(){this.definitions={}}_pullDefinitions(n,e){const r=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(r).map(i=>{const{prefix:a,iconName:s,icon:l}=r[i],x=l[2];n[a]||(n[a]={}),x.length>0&&x.forEach(F=>{"string"==typeof F&&(n[a][F]=l)}),n[a][s]=l}),n}},d2={noAuto:()=>{Dr.autoReplaceSvg=!1,Dr.observeMutations=!1,l4("noAuto")},config:Dr,dom:{i2svg:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Hl?(l4("beforeI2svg",t),K0("pseudoElements2svg",t),K0("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:n}=t;!1===Dr.autoReplaceSvg&&(Dr.autoReplaceSvg=!0),Dr.observeMutations=!0,function gae(t){Hl&&(Sp?setTimeout(t,0):wk.push(t))}(()=>{Eae({autoReplaceSvgRoot:n}),l4("watch",t)})}},parse:{icon:t=>{if(null===t)return null;if("object"==typeof t&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:Z0(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&2===t.length){const n=0===t[1].indexOf("fa-")?t[1].slice(3):t[1],e=Tp(t[0]);return{prefix:e,iconName:Z0(e,n)||n}}if("string"==typeof t&&(t.indexOf("".concat(Dr.cssPrefix,"-"))>-1||t.match(nae))){const n=Dp(t.split(" "),{skipLookups:!0});return{prefix:n.prefix||X0(),iconName:Z0(n.prefix,n.iconName)||n.iconName}}if("string"==typeof t){const n=X0();return{prefix:n,iconName:Z0(n,t)||t}}}},library:Pk,findIconDefinition:Gb,toHtml:vd},Eae=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:n=Za}=t;(Object.keys(Xc.styles).length>0||Dr.autoFetchSvg)&&Hl&&Dr.autoReplaceSvg&&d2.dom.i2svg({node:n})};function Ap(t,n){return Object.defineProperty(t,"abstract",{get:n}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(e=>vd(e))}}),Object.defineProperty(t,"node",{get:function(){if(!Hl)return;const e=Za.createElement("div");return e.innerHTML=t.html,e.children}}),t}function $b(t){const{icons:{main:n,mask:e},prefix:r,iconName:i,transform:a,symbol:s,title:l,maskId:x,titleId:F,extra:oe,watchable:Le=!1}=t,{width:je,height:rt}=e.found?e:n,ht="fak"===r,Ft=[Dr.replacementClass,i?"".concat(Dr.cssPrefix,"-").concat(i):""].filter(Pr=>-1===oe.classes.indexOf(Pr)).filter(Pr=>""!==Pr||!!Pr).concat(oe.classes).join(" ");let an={children:[],attributes:{...oe.attributes,"data-prefix":r,"data-icon":i,class:Ft,role:oe.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(je," ").concat(rt)}};const yn=ht&&!~oe.classes.indexOf("fa-fw")?{width:"".concat(je/rt*16*.0625,"em")}:{};Le&&(an.attributes[a4]=""),l&&(an.children.push({tag:"title",attributes:{id:an.attributes["aria-labelledby"]||"title-".concat(F||md())},children:[l]}),delete an.attributes.title);const pn={...an,prefix:r,iconName:i,main:n,mask:e,maskId:x,transform:a,symbol:s,styles:{...yn,...oe.styles}},{children:tr,attributes:mr}=e.found&&n.found?K0("generateAbstractMask",pn)||{children:[],attributes:{}}:K0("generateAbstractIcon",pn)||{children:[],attributes:{}};return pn.children=tr,pn.attributes=mr,s?function Iae(t){let{prefix:n,iconName:e,children:r,attributes:i,symbol:a}=t;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:{...i,id:!0===a?"".concat(n,"-").concat(Dr.cssPrefix,"-").concat(e):a},children:r}]}]}(pn):function Nae(t){let{children:n,main:e,mask:r,attributes:i,styles:a,transform:s}=t;if(Ib(s)&&e.found&&!r.found){const{width:l,height:x}=e,F={x:l/x/2,y:.5};i.style=Lp({...a,"transform-origin":"".concat(F.x+s.x/16,"em ").concat(F.y+s.y/16,"em")})}return[{tag:"svg",attributes:i,children:n}]}(pn)}function Rk(t){const{content:n,width:e,height:r,transform:i,title:a,extra:s,watchable:l=!1}=t,x={...s.attributes,...a?{title:a}:{},class:s.classes.join(" ")};l&&(x[a4]="");const F={...s.styles};Ib(i)&&(F.transform=function pae(t){let{transform:n,width:e=Lb,height:r=Lb,startCentered:i=!1}=t,a="";return a+=i&&sk?"translate(".concat(n.x/Y0-e/2,"em, ").concat(n.y/Y0-r/2,"em) "):i?"translate(calc(-50% + ".concat(n.x/Y0,"em), calc(-50% + ").concat(n.y/Y0,"em)) "):"translate(".concat(n.x/Y0,"em, ").concat(n.y/Y0,"em) "),a+="scale(".concat(n.size/Y0*(n.flipX?-1:1),", ").concat(n.size/Y0*(n.flipY?-1:1),") "),a+="rotate(".concat(n.rotate,"deg) "),a}({transform:i,startCentered:!0,width:e,height:r}),F["-webkit-transform"]=F.transform);const oe=Lp(F);oe.length>0&&(x.style=oe);const Le=[];return Le.push({tag:"span",attributes:x,children:[n]}),a&&Le.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),Le}const{styles:Wb}=Xc;function jb(t){const n=t[0],e=t[1],[r]=t.slice(4);let i=null;return i=Array.isArray(r)?{tag:"g",attributes:{class:"".concat(Dr.cssPrefix,"-").concat(Eb.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Dr.cssPrefix,"-").concat(Eb.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Dr.cssPrefix,"-").concat(Eb.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:n,height:e,icon:i}}const Rae={found:!1,width:512,height:512};function Yb(t,n){let e=n;return"fa"===n&&null!==Dr.styleDefault&&(n=X0()),new Promise((r,i)=>{if("fa"===e){const a=Nk(t)||{};t=a.iconName||t,n=a.prefix||n}if(t&&n&&Wb[n]&&Wb[n][t])return r(jb(Wb[n][t]));(function Fae(t,n){!mk&&!Dr.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(n,'" is missing.'))})(t,n),r({...Rae,icon:Dr.showMissingIcons&&t&&K0("missingIconAbstract")||{}})})}const Fk=()=>{},Zb=Dr.measurePerformance&&_p&&_p.mark&&_p.measure?_p:{mark:Fk,measure:Fk},gd='FA "6.6.0"',Ok=t=>{Zb.mark("".concat(gd," ").concat(t," ends")),Zb.measure("".concat(gd," ").concat(t),"".concat(gd," ").concat(t," begins"),"".concat(gd," ").concat(t," ends"))};var Xb={begin:t=>(Zb.mark("".concat(gd," ").concat(t," begins")),()=>Ok(t)),end:Ok};const zp=()=>{};function Bk(t){return"string"==typeof(t.getAttribute?t.getAttribute(a4):null)}function Uae(t){return Za.createElementNS("http://www.w3.org/2000/svg",t)}function Gae(t){return Za.createElement(t)}function Hk(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{ceFn:e=("svg"===t.tag?Uae:Gae)}=n;if("string"==typeof t)return Za.createTextNode(t);const r=e(t.tag);return Object.keys(t.attributes||[]).forEach(function(a){r.setAttribute(a,t.attributes[a])}),(t.children||[]).forEach(function(a){r.appendChild(Hk(a,{ceFn:e}))}),r}const kp={replace:function(t){const n=t[0];if(n.parentNode)if(t[1].forEach(e=>{n.parentNode.insertBefore(Hk(e),n)}),null===n.getAttribute(a4)&&Dr.keepOriginalSource){let e=Za.createComment(function $ae(t){let n=" ".concat(t.outerHTML," ");return n="".concat(n,"Font Awesome fontawesome.com "),n}(n));n.parentNode.replaceChild(e,n)}else n.remove()},nest:function(t){const n=t[0],e=t[1];if(~Nb(n).indexOf(Dr.replacementClass))return kp.replace(t);const r=new RegExp("".concat(Dr.cssPrefix,"-.*"));if(delete e[0].attributes.id,e[0].attributes.class){const a=e[0].attributes.class.split(" ").reduce((s,l)=>(l===Dr.replacementClass||l.match(r)?s.toSvg.push(l):s.toNode.push(l),s),{toNode:[],toSvg:[]});e[0].attributes.class=a.toSvg.join(" "),0===a.toNode.length?n.removeAttribute("class"):n.setAttribute("class",a.toNode.join(" "))}const i=e.map(a=>vd(a)).join("\n");n.setAttribute(a4,""),n.innerHTML=i}};function Vk(t){t()}function Uk(t,n){const e="function"==typeof n?n:zp;if(0===t.length)e();else{let r=Vk;Dr.mutateApproach===qie&&(r=j0.requestAnimationFrame||Vk),r(()=>{const i=function Vae(){return!0===Dr.autoReplaceSvg?kp.replace:kp[Dr.autoReplaceSvg]||kp.replace}(),a=Xb.begin("mutate");t.map(i),a(),e()})}}let Kb=!1;function Gk(){Kb=!0}function Qb(){Kb=!1}let Ep=null;function $k(t){if(!ak||!Dr.observeMutations)return;const{treeCallback:n=zp,nodeCallback:e=zp,pseudoElementsCallback:r=zp,observeMutationsRoot:i=Za}=t;Ep=new ak(a=>{if(Kb)return;const s=X0();hu(a).forEach(l=>{if("childList"===l.type&&l.addedNodes.length>0&&!Bk(l.addedNodes[0])&&(Dr.searchPseudoElements&&r(l.target),n(l.target)),"attributes"===l.type&&l.target.parentNode&&Dr.searchPseudoElements&&r(l.target.parentNode),"attributes"===l.type&&Bk(l.target)&&~aae.indexOf(l.attributeName))if("class"===l.attributeName&&function Bae(t){const n=t.getAttribute?t.getAttribute(Tb):null,e=t.getAttribute?t.getAttribute(Db):null;return n&&e}(l.target)){const{prefix:x,iconName:F}=Dp(Nb(l.target));l.target.setAttribute(Tb,x||s),F&&l.target.setAttribute(Db,F)}else(function Hae(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Dr.replacementClass)})(l.target)&&e(l.target)})}),Hl&&Ep.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function Wk(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0};const{iconName:e,prefix:r,rest:i}=function Yae(t){const n=t.getAttribute("data-prefix"),e=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"";let i=Dp(Nb(t));return i.prefix||(i.prefix=X0()),n&&e&&(i.prefix=n,i.iconName=e),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function Sae(t,n){return(Dk[t]||{})[n]}(i.prefix,t.innerText)||Hb(i.prefix,Fb(t.innerText))),!i.iconName&&Dr.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}(t),a=function Zae(t){const n=hu(t.attributes).reduce((i,a)=>("class"!==i.name&&"style"!==i.name&&(i[a.name]=a.value),i),{}),e=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Dr.autoA11y&&(e?n["aria-labelledby"]="".concat(Dr.replacementClass,"-title-").concat(r||md()):(n["aria-hidden"]="true",n.focusable="false")),n}(t),s=Ub("parseNodeAttributes",{},t);let l=n.styleParser?function jae(t){const n=t.getAttribute("style");let e=[];return n&&(e=n.split(";").reduce((r,i)=>{const a=i.split(":"),s=a[0],l=a.slice(1);return s&&l.length>0&&(r[s]=l.join(":").trim()),r},{})),e}(t):[];return{iconName:e,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:Zc,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:l,attributes:a},...s}}const{styles:Kae}=Xc;function jk(t){const n="nest"===Dr.autoReplaceSvg?Wk(t,{styleParser:!1}):Wk(t);return~n.extra.classes.indexOf(yk)?K0("generateLayersText",t,n):K0("generateSvgReplacementMutation",t,n)}let Kc=new Set;function Yk(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Hl)return Promise.resolve();const e=Za.documentElement.classList,r=oe=>e.add("".concat(pk,"-").concat(oe)),i=oe=>e.remove("".concat(pk,"-").concat(oe)),a=Dr.autoFetchSvg?Kc:vk.map(oe=>"fa-".concat(oe)).concat(Object.keys(Kae));a.includes("fa")||a.push("fa");const s=[".".concat(yk,":not([").concat(a4,"])")].concat(a.map(oe=>".".concat(oe,":not([").concat(a4,"])"))).join(", ");if(0===s.length)return Promise.resolve();let l=[];try{l=hu(t.querySelectorAll(s))}catch{}if(!(l.length>0))return Promise.resolve();r("pending"),i("complete");const x=Xb.begin("onTree"),F=l.reduce((oe,Le)=>{try{const je=jk(Le);je&&oe.push(je)}catch(je){mk||"MissingIcon"===je.name&&console.error(je)}return oe},[]);return new Promise((oe,Le)=>{Promise.all(F).then(je=>{Uk(je,()=>{r("active"),r("complete"),i("pending"),"function"==typeof n&&n(),x(),oe()})}).catch(je=>{x(),Le(je)})})}function Qae(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;jk(t).then(e=>{e&&Uk([e],n)})}vk.map(t=>{Kc.add("fa-".concat(t))}),Object.keys(s4[os]).map(Kc.add.bind(Kc)),Object.keys(s4[u2]).map(Kc.add.bind(Kc)),Object.keys(s4[f2]).map(Kc.add.bind(Kc)),Kc=[...Kc];const qae=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:e=Zc,symbol:r=!1,mask:i=null,maskId:a=null,title:s=null,titleId:l=null,classes:x=[],attributes:F={},styles:oe={}}=n;if(!t)return;const{prefix:Le,iconName:je,icon:rt}=t;return Ap({type:"icon",...t},()=>(l4("beforeDOMElementCreation",{iconDefinition:t,params:n}),Dr.autoA11y&&(s?F["aria-labelledby"]="".concat(Dr.replacementClass,"-title-").concat(l||md()):(F["aria-hidden"]="true",F.focusable="false")),$b({icons:{main:jb(rt),mask:i?jb(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:Le,iconName:je,transform:{...Zc,...e},symbol:r,title:s,maskId:a,titleId:l,extra:{attributes:F,styles:oe,classes:x}})))};var ese={mixout(){return{icon:(t=qae,function(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=(n||{}).icon?n:Gb(n||{});let{mask:i}=e;return i&&(i=(i||{}).icon?i:Gb(i||{})),t(r,{...e,mask:i})})};var t},hooks:()=>({mutationObserverCallbacks:t=>(t.treeCallback=Yk,t.nodeCallback=Qae,t)}),provides(t){t.i2svg=function(n){const{node:e=Za,callback:r=(()=>{})}=n;return Yk(e,r)},t.generateSvgReplacementMutation=function(n,e){const{iconName:r,title:i,titleId:a,prefix:s,transform:l,symbol:x,mask:F,maskId:oe,extra:Le}=e;return new Promise((je,rt)=>{Promise.all([Yb(r,s),F.iconName?Yb(F.iconName,F.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(ht=>{let[Ft,an]=ht;je([n,$b({icons:{main:Ft,mask:an},prefix:s,iconName:r,transform:l,symbol:x,maskId:oe,title:i,titleId:a,extra:Le,watchable:!0})])}).catch(rt)})},t.generateAbstractIcon=function(n){let{children:e,attributes:r,main:i,transform:a,styles:s}=n;const l=Lp(s);let x;return l.length>0&&(r.style=l),Ib(a)&&(x=K0("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),e.push(x||i.icon),{children:e,attributes:r}}}},tse={mixout:()=>({layer(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{classes:e=[]}=n;return Ap({type:"layer"},()=>{l4("beforeDOMElementCreation",{assembler:t,params:n});let r=[];return t(i=>{Array.isArray(i)?i.map(a=>{r=r.concat(a.abstract)}):r=r.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(Dr.cssPrefix,"-layers"),...e].join(" ")},children:r}]})}})},nse={mixout:()=>({counter(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{title:e=null,classes:r=[],attributes:i={},styles:a={}}=n;return Ap({type:"counter",content:t},()=>(l4("beforeDOMElementCreation",{content:t,params:n}),function Pae(t){const{content:n,title:e,extra:r}=t,i={...r.attributes,...e?{title:e}:{},class:r.classes.join(" ")},a=Lp(r.styles);a.length>0&&(i.style=a);const s=[];return s.push({tag:"span",attributes:i,children:[n]}),e&&s.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),s}({content:t.toString(),title:e,extra:{attributes:i,styles:a,classes:["".concat(Dr.cssPrefix,"-layers-counter"),...r]}})))}})},rse={mixout:()=>({text(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:e=Zc,title:r=null,classes:i=[],attributes:a={},styles:s={}}=n;return Ap({type:"text",content:t},()=>(l4("beforeDOMElementCreation",{content:t,params:n}),Rk({content:t,transform:{...Zc,...e},title:r,extra:{attributes:a,styles:s,classes:["".concat(Dr.cssPrefix,"-layers-text"),...i]}})))}}),provides(t){t.generateLayersText=function(n,e){const{title:r,transform:i,extra:a}=e;let s=null,l=null;if(sk){const x=parseInt(getComputedStyle(n).fontSize,10),F=n.getBoundingClientRect();s=F.width/x,l=F.height/x}return Dr.autoA11y&&!r&&(a.attributes["aria-hidden"]="true"),Promise.resolve([n,Rk({content:n.innerHTML,width:s,height:l,transform:i,title:r,extra:a,watchable:!0})])}}};const ise=new RegExp('"',"ug"),Zk=[1105920,1112319],Xk={FontAwesome:{normal:"fas",400:"fas"},"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds"},"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"},"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},Jb=Object.keys(Xk).reduce((t,n)=>(t[n.toLowerCase()]=Xk[n],t),{}),ase=Object.keys(Jb).reduce((t,n)=>{const e=Jb[n];return t[n]=e[900]||[...Object.entries(e)][0][1],t},{});function Kk(t,n){const e="".concat(Jie).concat(n.replace(":","-"));return new Promise((r,i)=>{if(null!==t.getAttribute(e))return r();const s=hu(t.children).filter(je=>je.getAttribute(Sb)===n)[0],l=j0.getComputedStyle(t,n),x=l.getPropertyValue("font-family"),F=x.match(rae),oe=l.getPropertyValue("font-weight"),Le=l.getPropertyValue("content");if(s&&!F)return t.removeChild(s),r();if(F&&"none"!==Le&&""!==Le){const je=l.getPropertyValue("content");let rt=function ose(t,n){const e=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(n),i=isNaN(r)?"normal":r;return(Jb[e]||{})[i]||ase[e]}(x,oe);const{value:ht,isSecondary:Ft}=function sse(t){const n=t.replace(ise,""),e=function Cae(t,n){const e=t.length;let i,r=t.charCodeAt(n);return r>=55296&&r<=56319&&e>n+1&&(i=t.charCodeAt(n+1),i>=56320&&i<=57343)?1024*(r-55296)+i-56320+65536:r}(n,0),r=e>=Zk[0]&&e<=Zk[1],i=2===n.length&&n[0]===n[1];return{value:Fb(i?n[0]:n),isSecondary:r||i}}(je),an=F[0].startsWith("FontAwesome");let yn=Hb(rt,ht),pn=yn;if(an){const tr=function Tae(t){const n=zk[t],e=Hb("fas",t);return n||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}(ht);tr.iconName&&tr.prefix&&(yn=tr.iconName,rt=tr.prefix)}if(!yn||Ft||s&&s.getAttribute(Tb)===rt&&s.getAttribute(Db)===pn)r();else{t.setAttribute(e,pn),s&&t.removeChild(s);const tr=function Xae(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Zc,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),{extra:mr}=tr;mr.attributes[Sb]=n,Yb(yn,rt).then(Pr=>{const pi=$b({...tr,icons:{main:Pr,mask:Vb()},prefix:rt,iconName:pn,extra:mr,watchable:!0}),Ri=Za.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===n?t.insertBefore(Ri,t.firstChild):t.appendChild(Ri),Ri.outerHTML=pi.map(Ja=>vd(Ja)).join("\n"),t.removeAttribute(e),r()}).catch(i)}}else r()})}function cse(t){return Promise.all([Kk(t,"::before"),Kk(t,"::after")])}function lse(t){return!(t.parentNode===document.head||~eae.indexOf(t.tagName.toUpperCase())||t.getAttribute(Sb)||t.parentNode&&"svg"===t.parentNode.tagName)}function Qk(t){if(Hl)return new Promise((n,e)=>{const r=hu(t.querySelectorAll("*")).filter(lse).map(cse),i=Xb.begin("searchPseudoElements");Gk(),Promise.all(r).then(()=>{i(),Qb(),n()}).catch(()=>{i(),Qb(),e()})})}let Jk=!1;const qk=t=>t.toLowerCase().split(" ").reduce((e,r)=>{const i=r.toLowerCase().split("-"),a=i[0];let s=i.slice(1).join("-");if(a&&"h"===s)return e.flipX=!0,e;if(a&&"v"===s)return e.flipY=!0,e;if(s=parseFloat(s),isNaN(s))return e;switch(a){case"grow":e.size=e.size+s;break;case"shrink":e.size=e.size-s;break;case"left":e.x=e.x-s;break;case"right":e.x=e.x+s;break;case"up":e.y=e.y-s;break;case"down":e.y=e.y+s;break;case"rotate":e.rotate=e.rotate+s}return e},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0}),qb={x:0,y:0,width:"100%",height:"100%"};function eE(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}function hse(t){return"g"===t.tag?t.children:[t]}!function kae(t,n){let{mixoutsTo:e}=n;Ik=t,pu={},Object.keys(mu).forEach(r=>{-1===zae.indexOf(r)&&delete mu[r]}),Ik.forEach(r=>{const i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(a=>{"function"==typeof i[a]&&(e[a]=i[a]),"object"==typeof i[a]&&Object.keys(i[a]).forEach(s=>{e[a]||(e[a]={}),e[a][s]=i[a][s]})}),r.hooks){const a=r.hooks();Object.keys(a).forEach(s=>{pu[s]||(pu[s]=[]),pu[s].push(a[s])})}r.provides&&r.provides(mu)})}([vae,ese,tse,nse,rse,{hooks:()=>({mutationObserverCallbacks:t=>(t.pseudoElementsCallback=Qk,t)}),provides(t){t.pseudoElements2svg=function(n){const{node:e=Za}=n;Dr.searchPseudoElements&&Qk(e)}}},{mixout:()=>({dom:{unwatch(){Gk(),Jk=!0}}}),hooks:()=>({bootstrap(){$k(Ub("mutationObserverCallbacks",{}))},noAuto(){!function Wae(){Ep&&Ep.disconnect()}()},watch(t){const{observeMutationsRoot:n}=t;Jk?Qb():$k(Ub("mutationObserverCallbacks",{observeMutationsRoot:n}))}})},{mixout:()=>({parse:{transform:t=>qk(t)}}),hooks:()=>({parseNodeAttributes(t,n){const e=n.getAttribute("data-fa-transform");return e&&(t.transform=qk(e)),t}}),provides(t){t.generateAbstractTransformGrouping=function(n){let{main:e,transform:r,containerWidth:i,iconWidth:a}=n;const s={transform:"translate(".concat(i/2," 256)")},l="translate(".concat(32*r.x,", ").concat(32*r.y,") "),x="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),F="rotate(".concat(r.rotate," 0 0)"),oe={transform:"".concat(l," ").concat(x," ").concat(F)},Le={transform:"translate(".concat(a/2*-1," -256)")};return{tag:"g",attributes:{...s},children:[{tag:"g",attributes:{...oe},children:[{tag:e.icon.tag,children:e.icon.children,attributes:{...e.icon.attributes,...Le}}]}]}}}},{hooks:()=>({parseNodeAttributes(t,n){const e=n.getAttribute("data-fa-mask"),r=e?Dp(e.split(" ").map(i=>i.trim())):Vb();return r.prefix||(r.prefix=X0()),t.mask=r,t.maskId=n.getAttribute("data-fa-mask-id"),t}}),provides(t){t.generateAbstractMask=function(n){let{children:e,attributes:r,main:i,mask:a,maskId:s,transform:l}=n;const{width:x,icon:F}=i,{width:oe,icon:Le}=a,je=function hae(t){let{transform:n,containerWidth:e,iconWidth:r}=t;const i={transform:"translate(".concat(e/2," 256)")},a="translate(".concat(32*n.x,", ").concat(32*n.y,") "),s="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(s," ").concat(l)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:l,containerWidth:oe,iconWidth:x}),rt={tag:"rect",attributes:{...qb,fill:"white"}},ht=F.children?{children:F.children.map(eE)}:{},Ft={tag:"g",attributes:{...je.inner},children:[eE({tag:F.tag,attributes:{...F.attributes,...je.path},...ht})]},an={tag:"g",attributes:{...je.outer},children:[Ft]},yn="mask-".concat(s||md()),pn="clip-".concat(s||md()),tr={tag:"mask",attributes:{...qb,id:yn,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"},children:[rt,an]},mr={tag:"defs",children:[{tag:"clipPath",attributes:{id:pn},children:hse(Le)},tr]};return e.push(mr,{tag:"rect",attributes:{fill:"currentColor","clip-path":"url(#".concat(pn,")"),mask:"url(#".concat(yn,")"),...qb}}),{children:e,attributes:r}}}},{provides(t){let n=!1;j0.matchMedia&&(n=j0.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const e=[],r={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:{...r,d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}});const a={...i,attributeName:"opacity"},s={tag:"circle",attributes:{...r,cx:"256",cy:"364",r:"28"},children:[]};return n||s.children.push({tag:"animate",attributes:{...i,attributeName:"r",values:"28;14;28;28;14;28;"}},{tag:"animate",attributes:{...a,values:"1;0;1;1;0;1;"}}),e.push(s),e.push({tag:"path",attributes:{...r,opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"},children:n?[]:[{tag:"animate",attributes:{...a,values:"1;0;0;0;0;1;"}}]}),n||e.push({tag:"path",attributes:{...r,opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"},children:[{tag:"animate",attributes:{...a,values:"0;0;1;1;0;0;"}}]}),{tag:"g",attributes:{class:"missing"},children:e}}}},{hooks:()=>({parseNodeAttributes(t,n){const e=n.getAttribute("data-fa-symbol");return t.symbol=null!==e&&(""===e||e),t}})}],{mixoutsTo:d2});const yse=d2.parse,bse=d2.icon,Cse=["*"],wse=t=>{const n={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(n).map(e=>n[e]?e:null).filter(e=>e)};let Sse=(()=>{class t{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Tse=(()=>{class t{constructor(){this.definitions={}}addIcons(...e){for(const r of e){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(const i of r.icon[2])"string"==typeof i&&(this.definitions[r.prefix][i]=r)}}addIconPacks(...e){for(const r of e){const i=Object.keys(r).map(a=>r[a]);this.addIcons(...i)}}getIconDefinition(e,r){return e in this.definitions&&r in this.definitions[e]?this.definitions[e][r]:null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Dse=(()=>{class t{constructor(){this.stackItemSize="1x"}ngOnChanges(e){if("size"in e)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Lr({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},standalone:!0,features:[As]})}return t})(),Ase=(()=>{class t{constructor(e,r){this.renderer=e,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(e){"size"in e&&(null!=e.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${e.size.currentValue}`),null!=e.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${e.size.previousValue}`))}static#e=this.\u0275fac=function(r){return new(r||t)(lt(a2),lt(is))};static#t=this.\u0275cmp=xr({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},standalone:!0,features:[As,D8],ngContentSelectors:Cse,decls:1,vars:0,template:function(r,i){1&r&&(L8(),K3(0))},encapsulation:2})}return t})(),fa=(()=>{class t{set spin(e){this.animation=e?"spin":void 0}set pulse(e){this.animation=e?"spin-pulse":void 0}constructor(e,r,i,a,s){this.sanitizer=e,this.config=r,this.iconLibrary=i,this.stackItem=a,this.classes=[],null!=s&&null==a&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(e){if(null!=this.icon||null!=this.config.fallbackIcon){if(e){const i=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=i){const a=this.buildParams();this.renderIcon(i,a)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(e){const r=((t,n)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:n,iconName:t}:{prefix:t[0],iconName:t[1]})(e,this.config.defaultPrefix);return"icon"in r?r:this.iconLibrary.getIconDefinition(r.prefix,r.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(r),null)}buildParams(){const e={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?yse.transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...wse(e),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(e,r){const i=bse(e,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(i.html.join("\n"))}static#e=this.\u0275fac=function(r){return new(r||t)(lt(UD),lt(Sse),lt(Tse),lt(Dse,8),lt(Ase,8))};static#t=this.\u0275cmp=xr({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){2&r&&(Mg("innerHTML",i.renderedIconHTML,gh),k1("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},standalone:!0,features:[As,D8],decls:0,vars:0,template:function(r,i){},encapsulation:2})}return t})(),zse=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Qi({type:t});static#n=this.\u0275inj=pr({})}return t})();const kse=new kn("WindowToken",typeof window<"u"&&window.document?{providedIn:"root",factory:()=>window}:{providedIn:"root",factory:()=>{}});let Ese=(()=>{class t{constructor(e,r,i){this.ngZone=e,this.document=r,this.window=i,this.copySubject=new yt,this.copyResponse$=this.copySubject.asObservable(),this.config={}}configure(e){this.config=e}copy(e){if(!this.isSupported||!e)return this.pushCopyResponse({isSuccess:!1,content:e});const r=this.copyFromContent(e);return this.pushCopyResponse(r?{content:e,isSuccess:r}:{isSuccess:!1,content:e})}get isSupported(){return!!this.document.queryCommandSupported&&!!this.document.queryCommandSupported("copy")&&!!this.window}isTargetValid(e){if(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement){if(e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');return!0}throw new Error("Target should be input or textarea")}copyFromInputElement(e,r=!0){try{this.selectTarget(e);const i=this.copyText();return this.clearSelection(r?e:void 0,this.window),i&&this.isCopySuccessInIE11()}catch{return!1}}isCopySuccessInIE11(){const e=this.window.clipboardData;return!(e&&e.getData&&!e.getData("Text"))}copyFromContent(e,r=this.document.body){if(this.tempTextArea&&!r.contains(this.tempTextArea)&&this.destroy(this.tempTextArea.parentElement||void 0),!this.tempTextArea){this.tempTextArea=this.createTempTextArea(this.document,this.window);try{r.appendChild(this.tempTextArea)}catch{throw new Error("Container should be a Dom element")}}this.tempTextArea.value=e;const i=this.copyFromInputElement(this.tempTextArea,!1);return this.config.cleanUpAfterCopy&&this.destroy(this.tempTextArea.parentElement||void 0),i}destroy(e=this.document.body){this.tempTextArea&&(e.removeChild(this.tempTextArea),this.tempTextArea=void 0)}selectTarget(e){return e.select(),e.setSelectionRange(0,e.value.length),e.value.length}copyText(){return this.document.execCommand("copy")}clearSelection(e,r){e&&e.focus(),r.getSelection()?.removeAllRanges()}createTempTextArea(e,r){const i="rtl"===e.documentElement.getAttribute("dir");let a;return a=e.createElement("textarea"),a.style.fontSize="12pt",a.style.border="0",a.style.padding="0",a.style.margin="0",a.style.position="absolute",a.style[i?"right":"left"]="-9999px",a.style.top=(r.pageYOffset||e.documentElement.scrollTop)+"px",a.setAttribute("readonly",""),a}pushCopyResponse(e){this.copySubject.observers.length>0&&this.ngZone.run(()=>{this.copySubject.next(e)})}pushCopyReponse(e){this.pushCopyResponse(e)}}return t.\u0275fac=function(e){return new(e||t)(gn(Di),gn(Aa),gn(kse,8))},t.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Nse=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Qi({type:t}),t.\u0275inj=pr({imports:[au]}),t})(),eC=(()=>{class t{_elementRef;_renderer;constructor(e,r){this._elementRef=e,this._renderer=r}collapseClass=!0;collapseShow=new Fr;collapseShown=new Fr;collapseHide=new Fr;collapseHidden=new Fr;set collapsed(e){e!==this._collapsed&&(e?this.hide():this.show(),this._collapsed=e)}get collapsed(){return this._collapsed}_collapsed=!0;get host(){return this._elementRef.nativeElement}_isTransitioning=!1;show(){if(this._isTransitioning||!this.collapsed)return;this.collapseShow.emit(this),this._renderer.removeClass(this.host,"collapse"),this._renderer.addClass(this.host,"collapsing"),this._renderer.setStyle(this.host,"height","0px"),this._isTransitioning=!0;const e=this.host.scrollHeight;cc(this.host,"transitionend").pipe(o1(1)).subscribe(()=>{this._isTransitioning=!1,this.collapsed=!1,this._renderer.removeClass(this.host,"collapsing"),this._renderer.addClass(this.host,"collapse"),this._renderer.addClass(this.host,"show"),this._renderer.removeStyle(this.host,"height"),this.collapseShown.emit(this)}),this._emulateTransitionEnd(this.host,350),this._renderer.setStyle(this.host,"height",`${e}px`)}hide(){if(this._isTransitioning||this.collapsed)return;this.collapseHide.emit(this);const e=this.host.getBoundingClientRect().height;this._renderer.setStyle(this.host,"height",`${e}px`),this._reflow(this.host),this._renderer.addClass(this.host,"collapsing"),this._renderer.removeClass(this.host,"collapse"),this._renderer.removeClass(this.host,"show"),this._isTransitioning=!0,cc(this.host,"transitionend").pipe(o1(1)).subscribe(()=>{this._renderer.removeClass(this.host,"collapsing"),this._renderer.addClass(this.host,"collapse"),this._isTransitioning=!1,this.collapsed=!0,this.collapseHidden.emit(this)}),this._renderer.removeStyle(this.host,"height"),this._emulateTransitionEnd(this.host,350)}toggle(){this._isTransitioning||(this.collapsed=!this.collapsed,this.collapsed?this.hide():this.show())}_reflow(e){return e.offsetHeight}_emulateTransitionEnd(e,r){let i=!1;const s=r+5;cc(e,"transitionend").pipe(o1(1)).subscribe(()=>{i=!0}),setTimeout(()=>{i||e.dispatchEvent(new Event("transitionend"))},s)}static \u0275fac=function(r){return new(r||t)(lt(is),lt(a2))};static \u0275dir=Lr({type:t,selectors:[["","mdbCollapse",""]],hostVars:2,hostBindings:function(r,i){2&r&&lr("collapse",i.collapseClass)},inputs:{collapsed:"collapsed"},outputs:{collapseShow:"collapseShow",collapseShown:"collapseShown",collapseHide:"collapseHide",collapseHidden:"collapseHidden"},exportAs:["mdbCollapse"]})}return t})(),nE=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Qi({type:t});static \u0275inj=pr({})}return t})();function F2(t){return null!=t&&"false"!=`${t}`}function Np(t){return Array.isArray(t)?t:[t]}function Zs(t){return null==t?"":"string"==typeof t?t:`${t}px`}const yd={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=yd;r&&(n=r.requestAnimationFrame,e=r.cancelAnimationFrame);const i=n(a=>{e=void 0,t(a)});return new te(()=>e?.(i))},requestAnimationFrame(...t){const{delegate:n}=yd;return(n?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:n}=yd;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};new class Fse extends Ky{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;n=n||r.shift();do{if(i=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===e&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===e&&r.shift();)n.unsubscribe();throw i}}}(class Rse extends Xy{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,r=0){return null!==r&&r>0?super.requestAsyncId(n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=yd.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,e,r);const{actions:a}=n;null!=e&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==e&&(yd.cancelAnimationFrame(e),n._scheduled=void 0)}});let tC,Bse=1;const Ip={};function rE(t){return t in Ip&&(delete Ip[t],!0)}const Hse={setImmediate(t){const n=Bse++;return Ip[n]=!0,tC||(tC=Promise.resolve()),tC.then(()=>rE(n)&&t()),n},clearImmediate(t){rE(t)}},{setImmediate:Vse,clearImmediate:Use}=Hse,Pp={setImmediate(...t){const{delegate:n}=Pp;return(n?.setImmediate||Vse)(...t)},clearImmediate(t){const{delegate:n}=Pp;return(n?.clearImmediate||Use)(t)},delegate:void 0};new class $se extends Ky{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;n=n||r.shift();do{if(i=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===e&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===e&&r.shift();)n.unsubscribe();throw i}}}(class Gse extends Xy{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,r=0){return null!==r&&r>0?super.requestAsyncId(n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=Pp.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,e,r);const{actions:a}=n;null!=e&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==e&&(Pp.clearImmediate(e),n._scheduled===e&&(n._scheduled=void 0))}});function iE(t,n=up){return function jse(t){return _e((n,e)=>{let r=!1,i=null,a=null,s=!1;const l=()=>{if(a?.unsubscribe(),a=null,r){r=!1;const F=i;i=null,e.next(F)}s&&e.complete()},x=()=>{a=null,s&&e.complete()};n.subscribe(He(e,F=>{r=!0,i=F,a||xo(t(F)).subscribe(a=He(e,l,x))},()=>{s=!0,(!r||!a||a.closed)&&e.complete()}))})}(()=>pz(t,n))}let nC;try{nC=typeof Intl<"u"&&Intl.v8BreakIterator}catch{nC=!1}let u4,vu=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Y7(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!nC)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||t)(gn(n2))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Zse(){if(null==u4){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return u4=!1,u4;if("scrollBehavior"in document.documentElement.style)u4=!0;else{const t=Element.prototype.scrollTo;u4=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return u4}function sE(t){return t.composedPath?t.composedPath()[0]:t.target}function oE(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const Kse=new kn("cdk-dir-doc",{providedIn:"root",factory:function Qse(){return Xn(Aa)}}),Jse=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let e1e=(()=>{class t{constructor(e){this.value="ltr",this.change=new Fr,e&&(this.value=function qse(t){const n=t?.toLowerCase()||"";return"auto"===n&&typeof navigator<"u"&&navigator?.language?Jse.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(r){return new(r||t)(gn(Kse,8))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),iC=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Qi({type:t});static#n=this.\u0275inj=pr({})}return t})(),n1e=(()=>{class t{constructor(e,r,i){this._ngZone=e,this._platform=r,this._scrolled=new yt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Jt(r=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(iE(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Zr()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(g1(a=>!a||i.indexOf(a)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((i,a)=>{this._scrollableContainsElement(a,e)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let i=function Pse(t){return t instanceof is?t.nativeElement:t}(r),a=e.getElementRef().nativeElement;do{if(i==a)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>cc(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(r){return new(r||t)(gn(Di),gn(vu),gn(Aa,8))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),cE=(()=>{class t{constructor(e,r,i){this._platform=e,this._change=new yt,this._changeListener=a=>{this._change.next(a)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,a=i.getBoundingClientRect();return{top:-a.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-a.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(iE(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(r){return new(r||t)(gn(vu),gn(Di),gn(Aa,8))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),lE=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Qi({type:t});static#n=this.\u0275inj=pr({})}return t})(),uE=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Qi({type:t});static#n=this.\u0275inj=pr({imports:[iC,lE,iC,lE]})}return t})();function Wr(t){return _e((n,e)=>{xo(t).subscribe(He(e,()=>e.complete(),Te)),!e.closed&&n.subscribe(e)})}class aC{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class i1e extends aC{constructor(n,e,r,i,a){super(),this.component=n,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=a}}class Fp extends aC{constructor(n,e,r,i){super(),this.templateRef=n,this.viewContainerRef=e,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class a1e extends aC{constructor(n){super(),this.element=n instanceof is?n.nativeElement:n}}class fE{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof i1e?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof Fp?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof a1e?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class s1e extends fE{constructor(n,e,r,i,a){super(),this.outletElement=n,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=s=>{const l=s.element,x=this._document.createComment("dom-portal");l.parentNode.insertBefore(x,l),this.outletElement.appendChild(l),this._attachedPortal=s,super.setDisposeFn(()=>{x.parentNode&&x.parentNode.replaceChild(l,x)})},this._document=a}attachComponentPortal(n){const r=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let i;return n.viewContainerRef?(i=n.viewContainerRef.createComponent(r,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector,n.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(n.injector||this._defaultInjector||qi.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=n,i}attachTemplatePortal(n){let e=n.viewContainerRef,r=e.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(r);-1!==i&&e.remove(i)}),this._attachedPortal=n,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let dE=(()=>{class t extends fE{constructor(e,r,i){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Fr,this.attachDomPortal=a=>{const s=a.element,l=this._document.createComment("dom-portal");a.setAttachedHost(this),s.parentNode.insertBefore(l,s),this._getRootNode().appendChild(s),this._attachedPortal=a,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(s,l)})},this._document=i}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,a=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=r.createComponent(a,r.length,e.injector||r.injector,e.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static#e=this.\u0275fac=function(r){return new(r||t)(lt(G3),lt(mo),lt(Aa))};static#t=this.\u0275dir=Lr({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[Cn.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[hi]})}return t})(),hE=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Qi({type:t});static#n=this.\u0275inj=pr({})}return t})();const pE=Zse();class o1e{constructor(n,e){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=Zs(-this._previousScrollPosition.left),n.style.top=Zs(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,r=n.style,i=this._document.body.style,a=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),pE&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),pE&&(r.scrollBehavior=a,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class c1e{constructor(n,e,r,i){this._scrollDispatcher=n,this._ngZone=e,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef=n}enable(){if(this._scrollSubscription)return;const n=this._scrollDispatcher.scrolled(0).pipe(g1(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class mE{enable(){}disable(){}attach(){}}function sC(t,n){return n.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function vE(t,n){return n.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class l1e{constructor(n,e,r,i){this._scrollDispatcher=n,this._viewportRuler=e,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();sC(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let u1e=(()=>{class t{constructor(e,r,i,a){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new mE,this.close=s=>new c1e(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new o1e(this._viewportRuler,this._document),this.reposition=s=>new l1e(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=a}static#e=this.\u0275fac=function(r){return new(r||t)(gn(n1e),gn(cE),gn(Di),gn(Aa))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class gE{constructor(n){if(this.scrollStrategy=new mE,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){const e=Object.keys(n);for(const r of e)void 0!==n[r]&&(this[r]=n[r])}}}class f1e{constructor(n,e){this.connectionPair=n,this.scrollableViewProperties=e}}let yE=(()=>{class t{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(r){return new(r||t)(gn(Aa))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),d1e=(()=>{class t extends yE{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=i=>{const a=this._attachedOverlays;for(let s=a.length-1;s>-1;s--)if(a[s]._keydownEvents.observers.length>0){const l=a[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(i)):l.next(i);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(r){return new(r||t)(gn(Aa),gn(Di,8))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),h1e=(()=>{class t extends yE{constructor(e,r,i){super(e),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=sE(a)},this._clickListener=a=>{const s=sE(a),l="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const x=this._attachedOverlays.slice();for(let F=x.length-1;F>-1;F--){const oe=x[F];if(oe._outsidePointerEvents.observers.length<1||!oe.hasAttached())continue;if(oe.overlayElement.contains(s)||oe.overlayElement.contains(l))break;const Le=oe._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Le.next(a)):Le.next(a)}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(r){return new(r||t)(gn(Aa),gn(vu),gn(Di,8))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),bE=(()=>{class t{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||oE()){const i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let a=0;a<i.length;a++)i[a].remove()}const r=this._document.createElement("div");r.classList.add(e),oE()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static#e=this.\u0275fac=function(r){return new(r||t)(gn(Aa),gn(vu))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class p1e{constructor(n,e,r,i,a,s,l,x,F,oe=!1){this._portalOutlet=n,this._host=e,this._pane=r,this._config=i,this._ngZone=a,this._keyboardDispatcher=s,this._document=l,this._location=x,this._outsideClickDispatcher=F,this._animationsDisabled=oe,this._backdropElement=null,this._backdropClick=new yt,this._attachments=new yt,this._detachments=new yt,this._locationChanges=te.EMPTY,this._backdropClickHandler=Le=>this._backdropClick.next(Le),this._backdropTransitionendHandler=Le=>{this._disposeBackdrop(Le.target)},this._keydownEvents=new yt,this._outsidePointerEvents=new yt,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(n);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(o1(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){const n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,n&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config={...this._config,...n},this._updateElementSize()}setDirection(n){this._config={...this._config,direction:n},this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=Zs(this._config.width),n.height=Zs(this._config.height),n.minWidth=Zs(this._config.minWidth),n.minHeight=Zs(this._config.minHeight),n.maxWidth=Zs(this._config.maxWidth),n.maxHeight=Zs(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const n=this._backdropElement;if(n){if(this._animationsDisabled)return void this._disposeBackdrop(n);n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",this._backdropTransitionendHandler)}),n.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(n)},500))}}_toggleClasses(n,e,r){const i=Np(e||[]).filter(a=>!!a);i.length&&(r?n.classList.add(...i):n.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const n=this._ngZone.onStable.pipe(Wr(cp(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){const n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",this._backdropTransitionendHandler),n.remove(),this._backdropElement===n&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const CE="cdk-overlay-connected-position-bounding-box",m1e=/([A-Za-z%]+)$/;class v1e{get positions(){return this._preferredPositions}constructor(n,e,r,i,a){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new yt,this._resizeSubscription=te.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}attach(n){this._validatePositions(),n.hostElement.classList.add(CE),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._originRect,e=this._overlayRect,r=this._viewportRect,i=this._containerRect,a=[];let s;for(let l of this._preferredPositions){let x=this._getOriginPoint(n,i,l),F=this._getOverlayPoint(x,e,l),oe=this._getOverlayFit(F,e,r,l);if(oe.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(l,x);this._canFitWithFlexibleDimensions(oe,F,r)?a.push({position:l,origin:x,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(x,l)}):(!s||s.overlayFit.visibleArea<oe.visibleArea)&&(s={overlayFit:oe,overlayPoint:F,originPoint:x,position:l,overlayRect:e})}if(a.length){let l=null,x=-1;for(const F of a){const oe=F.boundingBoxRect.width*F.boundingBoxRect.height*(F.position.weight||1);oe>x&&(x=oe,l=F)}return this._isPushed=!1,void this._applyPosition(l.position,l.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&f4(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(CE),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,e)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,e,r){let i,a;if("center"==r.originX)i=n.left+n.width/2;else{const s=this._isRtl()?n.right:n.left,l=this._isRtl()?n.left:n.right;i="start"==r.originX?s:l}return e.left<0&&(i-=e.left),a="center"==r.originY?n.top+n.height/2:"top"==r.originY?n.top:n.bottom,e.top<0&&(a-=e.top),{x:i,y:a}}_getOverlayPoint(n,e,r){let i,a;return i="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,a="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:n.x+i,y:n.y+a}}_getOverlayFit(n,e,r,i){const a=ME(e);let{x:s,y:l}=n,x=this._getOffset(i,"x"),F=this._getOffset(i,"y");x&&(s+=x),F&&(l+=F);let je=0-l,rt=l+a.height-r.height,ht=this._subtractOverflows(a.width,0-s,s+a.width-r.width),Ft=this._subtractOverflows(a.height,je,rt),an=ht*Ft;return{visibleArea:an,isCompletelyWithinViewport:a.width*a.height===an,fitsInViewportVertically:Ft===a.height,fitsInViewportHorizontally:ht==a.width}}_canFitWithFlexibleDimensions(n,e,r){if(this._hasFlexibleDimensions){const i=r.bottom-e.y,a=r.right-e.x,s=xE(this._overlayRef.getConfig().minHeight),l=xE(this._overlayRef.getConfig().minWidth);return(n.fitsInViewportVertically||null!=s&&s<=i)&&(n.fitsInViewportHorizontally||null!=l&&l<=a)}return!1}_pushOverlayOnScreen(n,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const i=ME(e),a=this._viewportRect,s=Math.max(n.x+i.width-a.width,0),l=Math.max(n.y+i.height-a.height,0),x=Math.max(a.top-r.top-n.y,0),F=Math.max(a.left-r.left-n.x,0);let oe=0,Le=0;return oe=i.width<=a.width?F||-s:n.x<this._viewportMargin?a.left-r.left-n.x:0,Le=i.height<=a.height?x||-l:n.y<this._viewportMargin?a.top-r.top-n.y:0,this._previousPushAmount={x:oe,y:Le},{x:n.x+oe,y:n.y+Le}}_applyPosition(n,e){if(this._setTransformOrigin(n),this._setOverlayElementStyles(e,n),this._setBoundingBoxStyles(e,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._lastPosition=n,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new f1e(n,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=n.overlayY;r="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let a=0;a<e.length;a++)e[a].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(n,e){const r=this._viewportRect,i=this._isRtl();let a,s,l,oe,Le,je;if("top"===e.overlayY)s=n.y,a=r.height-s+this._viewportMargin;else if("bottom"===e.overlayY)l=r.height-n.y+2*this._viewportMargin,a=r.height-l+this._viewportMargin;else{const rt=Math.min(r.bottom-n.y+r.top,n.y),ht=this._lastBoundingBoxSize.height;a=2*rt,s=n.y-rt,a>ht&&!this._isInitialRender&&!this._growAfterOpen&&(s=n.y-ht/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)je=r.width-n.x+this._viewportMargin,oe=n.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)Le=n.x,oe=r.right-n.x;else{const rt=Math.min(r.right-n.x+r.left,n.x),ht=this._lastBoundingBoxSize.width;oe=2*rt,Le=n.x-rt,oe>ht&&!this._isInitialRender&&!this._growAfterOpen&&(Le=n.x-ht/2)}return{top:s,left:Le,bottom:l,right:je,width:oe,height:a}}_setBoundingBoxStyles(n,e){const r=this._calculateBoundingBoxRect(n,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=Zs(r.height),i.top=Zs(r.top),i.bottom=Zs(r.bottom),i.width=Zs(r.width),i.left=Zs(r.left),i.right=Zs(r.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=Zs(a)),s&&(i.maxWidth=Zs(s))}this._lastBoundingBoxSize=r,f4(this._boundingBox.style,i)}_resetBoundingBoxStyles(){f4(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){f4(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,e){const r={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const oe=this._viewportRuler.getViewportScrollPosition();f4(r,this._getExactOverlayY(e,n,oe)),f4(r,this._getExactOverlayX(e,n,oe))}else r.position="static";let l="",x=this._getOffset(e,"x"),F=this._getOffset(e,"y");x&&(l+=`translateX(${x}px) `),F&&(l+=`translateY(${F}px)`),r.transform=l.trim(),s.maxHeight&&(i?r.maxHeight=Zs(s.maxHeight):a&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=Zs(s.maxWidth):a&&(r.maxWidth="")),f4(this._pane.style,r)}_getExactOverlayY(n,e,r){let i={top:"",bottom:""},a=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),"bottom"===n.overlayY?i.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":i.top=Zs(a.y),i}_getExactOverlayX(n,e,r){let s,i={left:"",right:""},a=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),s=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===s?i.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":i.left=Zs(a.x),i}_getScrollVisibility(){const n=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:vE(n,r),isOriginOutsideView:sC(n,r),isOverlayClipped:vE(e,r),isOverlayOutsideView:sC(e,r)}}_subtractOverflows(n,...e){return e.reduce((r,i)=>r-Math.max(i,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+n-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:n-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,e){return"x"===e?null==n.offsetX?this._offsetX:n.offsetX:null==n.offsetY?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&Np(n).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof is)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const e=n.width||0,r=n.height||0;return{top:n.y,bottom:n.y+r,left:n.x,right:n.x+e,height:r,width:e}}}function f4(t,n){for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}function xE(t){if("number"!=typeof t&&null!=t){const[n,e]=t.split(m1e);return e&&"px"!==e?null:parseFloat(n)}return t||null}function ME(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}const wE="cdk-global-overlay-wrapper";class g1e{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(n){const e=n.getConfig();this._overlayRef=n,this._width&&!e.width&&n.updateSize({width:this._width}),this._height&&!e.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(wE),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:a,maxWidth:s,maxHeight:l}=r,x=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),F=!("100%"!==a&&"100vh"!==a||l&&"100%"!==l&&"100vh"!==l),oe=this._xPosition,Le=this._xOffset,je="rtl"===this._overlayRef.getConfig().direction;let rt="",ht="",Ft="";x?Ft="flex-start":"center"===oe?(Ft="center",je?ht=Le:rt=Le):je?"left"===oe||"end"===oe?(Ft="flex-end",rt=Le):("right"===oe||"start"===oe)&&(Ft="flex-start",ht=Le):"left"===oe||"start"===oe?(Ft="flex-start",rt=Le):("right"===oe||"end"===oe)&&(Ft="flex-end",ht=Le),n.position=this._cssPosition,n.marginLeft=x?"0":rt,n.marginTop=F?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=x?"0":ht,e.justifyContent=Ft,e.alignItems=F?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(wE),r.justifyContent=r.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}let _E=(()=>{class t{constructor(e,r,i,a){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=a}global(){return new g1e}flexibleConnectedTo(e){return new v1e(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(r){return new(r||t)(gn(cE),gn(Aa),gn(vu),gn(bE))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),y1e=0,Op=(()=>{class t{constructor(e,r,i,a,s,l,x,F,oe,Le,je,rt){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=a,this._keyboardDispatcher=s,this._injector=l,this._ngZone=x,this._document=F,this._directionality=oe,this._location=Le,this._outsideClickDispatcher=je,this._animationsModuleType=rt}create(e){const r=this._createHostElement(),i=this._createPaneElement(r),a=this._createPortalOutlet(i),s=new gE(e);return s.direction=s.direction||this._directionality.value,new p1e(a,r,i,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+y1e++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Gc)),new s1e(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(r){return new(r||t)(gn(u1e),gn(bE),gn(G3),gn(_E),gn(d1e),gn(qi),gn(Di),gn(Aa),gn(e1e),gn(q1),gn(h1e),gn(p6,8))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const x1e={provide:new kn("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const t=Xn(Op);return()=>t.scrollStrategies.reposition()}}),deps:[Op],useFactory:function C1e(t){return()=>t.scrollStrategies.reposition()}};let M1e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Qi({type:t});static#n=this.\u0275inj=pr({providers:[Op,x1e],imports:[iC,hE,uE,uE]})}return t})();function Bp(...t){const n=U8(t),e=cA(t),{args:r,keys:i}=sA(t);if(0===r.length)return s1([],n);const a=new Jt(function w1e(t,n,e=Gt){return r=>{LE(n,()=>{const{length:i}=t,a=new Array(i);let s=i,l=i;for(let x=0;x<i;x++)LE(n,()=>{const F=s1(t[x],n);let oe=!1;F.subscribe(He(r,Le=>{a[x]=Le,oe||(oe=!0,l--),l||r.next(e(a.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,n,i?s=>lA(i,s):Gt));return e?a.pipe(Ay(e)):a}function LE(t,n,e){t?Fl(e,t,n):n()}function oC(...t){const n=U8(t);return _e((e,r)=>{(n?cu(t,e,n):cu(t,e)).subscribe(r)})}const SE=new Set;let d4,S1e=(()=>{class t{constructor(e,r){this._platform=e,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):D1e}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function T1e(t,n){if(!SE.has(t))try{d4||(d4=document.createElement("style"),n&&(d4.nonce=n),d4.setAttribute("type","text/css"),document.head.appendChild(d4)),d4.sheet&&(d4.sheet.insertRule(`@media ${t} {body{ }}`,0),SE.add(t))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(r){return new(r||t)(gn(vu),gn(m6,8))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function D1e(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let A1e=(()=>{class t{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new yt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return TE(Np(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let a=Bp(TE(Np(e)).map(s=>this._registerQuery(s).observable));return a=cu(a.pipe(o1(1)),a.pipe(function _1e(t){return g1((n,e)=>t<=e)}(1),function L1e(t,n=up){return _e((e,r)=>{let i=null,a=null,s=null;const l=()=>{if(i){i.unsubscribe(),i=null;const F=a;a=null,r.next(F)}};function x(){const F=s+t,oe=n.now();if(oe<F)return i=this.schedule(void 0,F-oe),void r.add(i);l()}e.subscribe(He(r,F=>{a=F,s=n.now(),i||(i=n.schedule(x,t),r.add(i))},()=>{l(),r.complete()},void 0,()=>{a=i=null}))})}(0))),a.pipe(Ze(s=>{const l={matches:!1,breakpoints:{}};return s.forEach(({matches:x,query:F})=>{l.matches=l.matches||x,l.breakpoints[F]=x}),l}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),a={observable:new Jt(s=>{const l=x=>this._zone.run(()=>s.next(x));return r.addListener(l),()=>{r.removeListener(l)}}).pipe(oC(r),Ze(({matches:s})=>({query:e,matches:s})),Wr(this._destroySubject)),mql:r};return this._queries.set(e,a),a}static#e=this.\u0275fac=function(r){return new(r||t)(gn(S1e),gn(Di))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function TE(t){return t.map(n=>n.split(",")).reduce((n,e)=>n.concat(e)).map(n=>n.trim())}const z1e=["dropdownTemplate"],k1e=["mdbDropdown",""],E1e=["*",[["",8,"dropdown-toggle"]],[["",8,"dropdown-menu"]]],N1e=["*",".dropdown-toggle",".dropdown-menu"];function I1e(t,n){if(1&t){const e=Qr();be(0,"div"),dn("@fade.done",function(i){return Qn(e),Jn(zt().onAnimationEnd(i))}),K3(1,2),we()}if(2&t){const e=zt();Ye("@fade",e._animationState)("@.disabled",!e.animation)}}let Qc=(()=>{class t{constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Lr({type:t,selectors:[["","mdbDropdownToggle",""]],exportAs:["mdbDropdownToggle"]})}return t})(),Jc=(()=>{class t{elementRef;_renderer;constructor(e,r){this.elementRef=e,this._renderer=r}menuPositionClassChanged=new Fr;get menuPositionClass(){return this._menuPositionClass}set menuPositionClass(e){const r=this.elementRef.nativeElement,i=r.classList.contains(e);this._menuPositionClass!==e&&!i&&(["dropdown-menu-start","dropdown-menu-sm-start","dropdown-menu-md-start","dropdown-menu-lg-start","dropdown-menu-xl-start","dropdown-menu-xxl-start","dropdown-menu-xxl-start","dropdown-menu-xxl-start","dropdown-menu-end","dropdown-menu-sm-end","dropdown-menu-md-end","dropdown-menu-lg-end","dropdown-menu-xl-end","dropdown-menu-xxl-end","dropdown-menu-xxl-end","dropdown-menu-xxl-end"].forEach(s=>{this._renderer.removeClass(r,s)}),this._renderer.addClass(r,e),this.menuPositionClassChanged.emit(this.menuPositionClass))}_menuPositionClass;static \u0275fac=function(r){return new(r||t)(lt(is),lt(a2))};static \u0275dir=Lr({type:t,selectors:[["","mdbDropdownMenu",""]],inputs:{menuPositionClass:"menuPositionClass"},outputs:{menuPositionClassChanged:"menuPositionClassChanged"},exportAs:["mdbDropdownMenu"]})}return t})(),Gl=(()=>{class t{_overlay;_overlayPositionBuilder;_elementRef;_vcr;_breakpointObserver;_cdRef;_renderer;_template;_dropdownToggle;_dropdownMenu;animation=!0;closeOnEsc=!0;closeOnItemClick=!0;closeOnOutsideClick=!0;offset=0;get positionClass(){return this._positionClass}set positionClass(e){const r=this.host.classList.contains(e);this._positionClass!==e&&!r&&(["dropdown","dropup","dropstart","dropend"].forEach(a=>{this._renderer.removeClass(this.host,a)}),this._renderer.addClass(this.host,e)),this._updateOverlay()}_positionClass;withPush=!1;dropdownShow=new Fr;dropdownShown=new Fr;dropdownHide=new Fr;dropdownHidden=new Fr;_overlayRef;_portal;_open=!1;_isDropUp;_isDropStart;_isDropEnd;_isDropdownMenuEnd;_xPosition;_breakpoints;_destroy$=new yt;get host(){return this._elementRef.nativeElement}_breakpointSubscription;_animationState="hidden";constructor(e,r,i,a,s,l,x){this._overlay=e,this._overlayPositionBuilder=r,this._elementRef=i,this._vcr=a,this._breakpointObserver=s,this._cdRef=l,this._renderer=x,this._breakpoints={isSm:this._breakpointObserver.isMatched("(min-width: 576px)"),isMd:this._breakpointObserver.isMatched("(min-width: 768px)"),isLg:this._breakpointObserver.isMatched("(min-width: 992px)"),isXl:this._breakpointObserver.isMatched("(min-width: 1200px)"),isXxl:this._breakpointObserver.isMatched("(min-width: 1400px)")}}ngAfterContentInit(){this._bindDropdownToggleClick(),this._listenToMenuPositionClassChange()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.detach(),this._overlayRef.dispose()),this._destroy$.next(),this._destroy$.complete()}_bindDropdownToggleClick(){cc(this._dropdownToggle.nativeElement,"click").pipe(Wr(this._destroy$)).subscribe(()=>this.toggle())}_listenToMenuPositionClassChange(){this._dropdownMenu.menuPositionClassChanged.pipe(Wr(this._destroy$)).subscribe(()=>this._updateOverlay())}_updateOverlay(){this._overlayRef?.updatePositionStrategy(this._createPositionStrategy())}_createOverlayConfig(){return new gE({hasBackdrop:!1,scrollStrategy:this._overlay.scrollStrategies.reposition(),positionStrategy:this._createPositionStrategy()})}_createOverlay(){this._overlayRef=this._overlay.create(this._createOverlayConfig())}_createPositionStrategy(){return this._overlayPositionBuilder.flexibleConnectedTo(this._dropdownToggle).withPositions(this._getPosition()).withFlexibleDimensions(!1).withPush(this.withPush)}_getPosition(){this._isDropUp=this.host.classList.contains("dropup"),this._isDropStart=this.host.classList.contains("dropstart"),this._isDropEnd=this.host.classList.contains("dropend"),this._isDropdownMenuEnd=this._dropdownMenu.elementRef.nativeElement.classList.contains("dropdown-menu-end"),this._xPosition=this._isDropdownMenuEnd?"end":"start";const e=new RegExp(/dropdown-menu-(sm|md|lg|xl|xxl)-(start|end)/,"g"),r=this._dropdownMenu.elementRef.nativeElement.className.match(e);if(r){this._subscribeBrakpoints();const F=new RegExp(/start|end/,"g"),oe=new RegExp(/(sm|md|lg|xl|xxl)/,"g"),Le=F.exec(r)[0],je=oe.exec(r)[0];switch(!0){case"xxl"===je&&this._breakpoints.isXxl:case"xl"===je&&this._breakpoints.isXl:case"lg"===je&&this._breakpoints.isLg:case"md"===je&&this._breakpoints.isMd:case"sm"===je&&this._breakpoints.isSm:this._xPosition=Le}}let i;const a={originX:this._xPosition,originY:"top",overlayX:this._xPosition,overlayY:"bottom",offsetY:-this.offset},s={originX:this._xPosition,originY:"bottom",overlayX:this._xPosition,overlayY:"top",offsetY:this.offset},l={originX:"start",originY:"top",overlayX:"end",overlayY:"top",offsetX:this.offset},x={originX:"end",originY:"top",overlayX:"start",overlayY:"top",offsetX:-this.offset};switch(!0){case this._isDropEnd:i=[x,l];break;case this._isDropStart:i=[l,x];break;case this._isDropUp:i=[a,s];break;default:i=[s,a]}return i}_listenToEscKeyup(e){return cc(document,"keyup").pipe(g1(r=>"Escape"===r.key),Wr(e.detachments()))}_listenToClick(e,r){return cc(document,"click").pipe(g1(i=>{const a=i.target,s=this._dropdownMenu.elementRef.nativeElement.contains(a),l=!this._dropdownToggle.nativeElement.contains(a),x=!s||a.classList&&a.classList.contains("dropdown-item");return a!==r&&l&&x}),Wr(e.detachments()))}onAnimationEnd(e){"visible"===e.fromState&&"hidden"===e.toState&&(this._overlayRef.detach(),this._open=!1,this.dropdownHidden.emit(this)),"hidden"===e.fromState&&"visible"===e.toState&&this.dropdownShown.emit(this)}_subscribeBrakpoints(){const e=["(min-width: 576px)","(min-width: 768px)","(min-width: 992px)","(min-width: 1200px)","(min-width: 1400px)"];this._breakpointSubscription=this._breakpointObserver.observe(e).pipe(Wr(this._destroy$)).subscribe(r=>{Object.keys(this._breakpoints).forEach((i,a)=>{const l=r.breakpoints[e[a]];l!==this._breakpoints[i]&&(this._breakpoints[i]=l,this._open&&this._updateOverlay())})})}show(){this._cdRef.markForCheck(),!this._open&&(this._overlayRef||this._createOverlay(),this._portal=new Fp(this._template,this._vcr),this.dropdownShow.emit(this),this._open=!0,this._overlayRef.attach(this._portal),this._listenToEscKeyup(this._overlayRef).subscribe(e=>{e&&this.closeOnEsc&&this.hide()}),this._overlayRef.keydownEvents().pipe(Wr(this._overlayRef.detachments())).subscribe(e=>{this._handleKeyboardNavigation(e)}),this._listenToClick(this._overlayRef,this._dropdownToggle.nativeElement).subscribe(e=>{const r=e.target,i=r.classList&&r.classList.contains("dropdown-item");this.closeOnItemClick&&i?this.hide():!this.closeOnOutsideClick||i||this.hide()}),this._animationState="visible")}_handleKeyboardNavigation(e){const r=Array.from(this._dropdownMenu.elementRef.nativeElement.querySelectorAll(".dropdown-item")),i=e.key;if(0===r.length)return;let s=r.indexOf(this._dropdownMenu.elementRef.nativeElement.ownerDocument.activeElement);switch(i){case"ArrowDown":e.preventDefault(),s=Math.min(s+1,r.length-1);break;case"ArrowUp":if(e.preventDefault(),-1===s){s=r.length-1;break}s=Math.max(s-1,0)}const l=r[s];l&&l.focus()}hide(){this._cdRef.markForCheck(),this._open&&(this.dropdownHide.emit(this),this._animationState="hidden")}toggle(){this._cdRef.markForCheck(),this._open?this.hide():this.show()}static \u0275fac=function(r){return new(r||t)(lt(Op),lt(_E),lt(is),lt(mo),lt(A1e),lt($c),lt(a2))};static \u0275cmp=xr({type:t,selectors:[["","mdbDropdown",""]],contentQueries:function(r,i,a){if(1&r&&(Uc(a,Qc,5,is),Uc(a,Jc,5)),2&r){let s;go(s=yo())&&(i._dropdownToggle=s.first),go(s=yo())&&(i._dropdownMenu=s.first)}},viewQuery:function(r,i){if(1&r&&eu(z1e,5),2&r){let a;go(a=yo())&&(i._template=a.first)}},inputs:{animation:[Cn.HasDecoratorInputTransform,"animation","animation",ac],closeOnEsc:[Cn.HasDecoratorInputTransform,"closeOnEsc","closeOnEsc",ac],closeOnItemClick:[Cn.HasDecoratorInputTransform,"closeOnItemClick","closeOnItemClick",ac],closeOnOutsideClick:[Cn.HasDecoratorInputTransform,"closeOnOutsideClick","closeOnOutsideClick",ac],offset:[Cn.HasDecoratorInputTransform,"offset","offset",qQ],positionClass:"positionClass",withPush:[Cn.HasDecoratorInputTransform,"withPush","withPush",ac]},outputs:{dropdownShow:"dropdownShow",dropdownShown:"dropdownShown",dropdownHide:"dropdownHide",dropdownHidden:"dropdownHidden"},features:[eg],attrs:k1e,ngContentSelectors:N1e,decls:4,vars:0,consts:[["dropdownTemplate",""]],template:function(r,i){1&r&&(L8(E1e),K3(0),K3(1,1),zn(2,I1e,2,2,"ng-template",null,0,C7))},encapsulation:2,data:{animation:[Cz("fade",[nd("visible",jc({opacity:1})),nd("hidden",jc({opacity:0})),rd("visible => hidden",td("150ms linear")),rd("hidden => visible",[jc({opacity:0}),td("150ms linear")])])]},changeDetection:0})}return t})(),DE=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Qi({type:t});static \u0275inj=pr({imports:[au,M1e]})}return t})(),y1=(()=>{class t{constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Lr({type:t,selectors:[["","mdbLabel",""]],exportAs:["mdbLabel"]})}return t})(),AE=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Qi({type:t});static \u0275inj=pr({imports:[au,vne]})}return t})();const P1e=["*"];function R1e(t,n){1&t&&K3(0)}const F1e=(t,n,e,r,i,a)=>({"nav-pills":t,"nav-tabs":n,"nav-fill":e,"nav-justified":r,"flex-column":i,"text-center":a}),O1e=(t,n,e)=>({fade:t,active:n,show:e});function B1e(t,n){}function H1e(t,n){1&t&&zn(0,B1e,0,0,"ng-template",6),2&t&&Ye("cdkPortalOutlet",zt().$implicit.titleContent)}function V1e(t,n){1&t&&Ge(0),2&t&&_r(zt().$implicit.title)}function U1e(t,n){if(1&t){const e=Qr();be(0,"li",3),dn("click",function(){const i=Qn(e).index;return Jn(zt().setActiveTab(i))}),be(1,"a",4),zn(2,H1e,1,1,"ng-template",5)(3,V1e,1,1,"ng-template",5),we()()}if(2&t){const e=n.$implicit;de(),lr("active",e.active)("disabled",e.disabled),de(),Ye("ngIf",e.titleContent),de(),Ye("ngIf",!e.titleContent)}}function G1e(t,n){}function $1e(t,n){if(1&t&&(la(0),be(1,"div",7),zn(2,G1e,0,0,"ng-template",8),we(),ua()),2&t){const e=n.$implicit;de(),Ye("ngClass",ES(2,O1e,e.fade,e.active,e.show)),de(),Ye("tab",e)}}const W1e=new kn("MdbTabContentDirective"),zE=new kn("MdbTabTitleDirective");let kE=(()=>{class t{template;constructor(e){this.template=e}static \u0275fac=function(r){return new(r||t)(lt(z1))};static \u0275dir=Lr({type:t,selectors:[["","mdbTabTitle",""]],features:[Da([{provide:zE,useExisting:t}])]})}return t})(),Hp=(()=>{class t{_vcr;_lazyContent;_titleContent;_content;activeStateChange$=new yt;get disabled(){return this._disabled}set disabled(e){this._disabled=F2(e)}_disabled=!1;get fade(){return this._fade}set fade(e){this._fade=F2(e)}_fade=!0;title;get content(){return this._contentPortal}get titleContent(){return this._titlePortal}get shouldAttach(){return void 0===this._lazyContent}_contentPortal=null;_titlePortal=null;get active(){return this._active}set active(e){this._active=F2(e),this.activeStateChange$.next(e)}_active=!1;get show(){return this._show}set show(e){setTimeout(()=>{this._show=F2(e)},155)}_show=!0;constructor(e){this._vcr=e}ngOnInit(){this._createContentPortal(),this._titleContent&&this._createTitlePortal()}_createContentPortal(){this._contentPortal=new Fp(this._lazyContent||this._content,this._vcr)}_createTitlePortal(){this._titlePortal=new Fp(this._titleContent,this._vcr)}static ngAcceptInputType_disabled;static \u0275fac=function(r){return new(r||t)(lt(mo))};static \u0275cmp=xr({type:t,selectors:[["mdb-tab"]],contentQueries:function(r,i,a){if(1&r&&(Uc(a,W1e,7,z1),Uc(a,zE,7,z1)),2&r){let s;go(s=yo())&&(i._lazyContent=s.first),go(s=yo())&&(i._titleContent=s.first)}},viewQuery:function(r,i){if(1&r&&eu(z1,7),2&r){let a;go(a=yo())&&(i._content=a.first)}},inputs:{disabled:"disabled",fade:"fade",title:"title"},ngContentSelectors:P1e,decls:1,vars:0,template:function(r,i){1&r&&(L8(),zn(0,R1e,1,0,"ng-template"))},encapsulation:2})}return t})(),Z1e=(()=>{class t extends dE{_destroy$=new yt;tab;constructor(e,r,i){super(e,r,i)}ngOnInit(){super.ngOnInit(),!this.tab.shouldAttach&&!this.tab.active||this.hasAttached()?this.tab.activeStateChange$.pipe(Wr(this._destroy$)).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this.tab.content)}):this.attach(this.tab.content)}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),super.ngOnDestroy()}static \u0275fac=function(r){return new(r||t)(lt(G3),lt(mo),lt(Aa))};static \u0275dir=Lr({type:t,selectors:[["","mdbTabPortalOutlet",""]],inputs:{tab:"tab"},features:[hi]})}return t})();class X1e{index;tab}let cC=(()=>{class t{tabs;_destroy$=new yt;get fill(){return this._fill}set fill(e){this._fill=F2(e)}_fill=!1;get justified(){return this._justified}set justified(e){this._justified=F2(e)}_justified=!1;get pills(){return this._pills}set pills(e){this._pills=F2(e)}_pills=!1;get vertical(){return this._vertical}set vertical(e){this._vertical=F2(e)}_vertical=!1;navColumnClass="col-3";contentColumnClass="col-9";get navColClass(){return this.vertical?this.navColumnClass:""}get contentColClass(){return this.vertical?this.contentColumnClass:""}_selectedIndex;activeTabChange=new Fr;constructor(){}ngAfterContentInit(){const e=this.tabs.toArray().findIndex(r=>!r.disabled);this.setActiveTab(e),this.tabs.changes.pipe(Wr(this._destroy$)).subscribe(()=>{if(!this.tabs.find(i=>i.active)){const i=this._getClosestTabIndex(this._selectedIndex);-1!==i&&this.setActiveTab(i)}})}setActiveTab(e){const r=this.tabs.toArray()[e];if(!r||r&&r.disabled)return;this.tabs.forEach(a=>a.active=a===r),this.tabs.forEach(a=>a.show=a===r),this._selectedIndex=e;const i=this._getTabChangeEvent(e,r);this.activeTabChange.emit(i)}_getTabChangeEvent(e,r){const i=new X1e;return i.index=e,i.tab=r,i}_getClosestTabIndex(e){const r=this.tabs.toArray(),i=r.length;if(!i)return-1;for(let a=1;a<=i;a+=1){const s=e-a,l=e+a;if(r[s]&&!r[s].disabled)return s;if(r[l]&&!r[l].disabled)return l}return-1}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}static ngAcceptInputType_fill;static ngAcceptInputType_justified;static ngAcceptInputType_pills;static ngAcceptInputType_vertical;static \u0275fac=function(r){return new(r||t)};static \u0275cmp=xr({type:t,selectors:[["mdb-tabs"]],contentQueries:function(r,i,a){if(1&r&&Uc(a,Hp,4),2&r){let s;go(s=yo())&&(i.tabs=s)}},hostVars:2,hostBindings:function(r,i){2&r&&lr("row",i.vertical)},inputs:{fill:"fill",justified:"justified",pills:"pills",vertical:"vertical",navColumnClass:"navColumnClass",contentColumnClass:"contentColumnClass"},outputs:{activeTabChange:"activeTabChange"},decls:4,vars:16,consts:[["role","tablist",3,"ngClass"],["class","nav-item","role","presentation",3,"click",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["role","presentation",1,"nav-item",3,"click"],["href","javascript:void(0)","role","tab",1,"nav-link"],[3,"ngIf"],[3,"cdkPortalOutlet"],[1,"tab-pane",3,"ngClass"],["mdbTabPortalOutlet","",3,"tab"]],template:function(r,i){1&r&&(be(0,"ul",0),zn(1,U1e,4,6,"li",1),we(),be(2,"div"),zn(3,$1e,3,6,"ng-container",2),we()),2&r&&(Vc("nav mb-3 flex-column ",i.navColClass,""),Ye("ngClass",function NS(t,n,e,r,i,a,s,l,x){const F=p1()+t,oe=An(),Le=k2(oe,F,e,r,i,a);return j3(oe,F+4,s,l)||Le?Oc(oe,F+6,x?n.call(x,e,r,i,a,s,l):n(e,r,i,a,s,l)):function h8(t,n){return t[n]}(oe,F+6)}(9,F1e,i.pills,!i.pills,i.fill,i.justified,i.vertical,i.vertical)),de(),Ye("ngForOf",i.tabs),de(),Vc("tab-content ",i.contentColClass,""),de(),Ye("ngForOf",i.tabs))},dependencies:[I2,Fo,ji,dE,Z1e],encapsulation:2})}return t})(),K1e=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Qi({type:t});static \u0275inj=pr({imports:[au,hE]})}return t})();function Q1e(t,n){}function J1e(t,n){1&t&&zn(0,Q1e,0,0,"ng-template",5),2&t&&Ye("ngTemplateOutlet",zt()._headerTemplate)}function q1e(t,n){}function eoe(t,n){1&t&&zn(0,q1e,0,0,"ng-template",5),2&t&&Ye("ngTemplateOutlet",zt()._bodyTemplate)}const toe=["*"],EE=new kn("MdbAccordionItemBodyDirective");let NE=(()=>{class t{template;constructor(e){this.template=e}static \u0275fac=function(r){return new(r||t)(lt(z1))};static \u0275dir=Lr({type:t,selectors:[["","mdbAccordionItemBody",""]],features:[Da([{provide:EE,useExisting:t}])]})}return t})();const IE=new kn("MdbAccordionItemHeaderDirective");let PE=(()=>{class t{template;constructor(e){this.template=e}static \u0275fac=function(r){return new(r||t)(lt(z1))};static \u0275dir=Lr({type:t,selectors:[["","mdbAccordionItemHeader",""]],features:[Da([{provide:IE,useExisting:t}])]})}return t})(),noe=0,roe=0,lC=(()=>{class t{_cdRef;_headerTemplate;_bodyTemplate;collapse;get disabled(){return this._disabled}set disabled(e){this._disabled=F2(e)}_disabled=!1;header;set collapsed(e){this._isInitialized?e?this.hide():this.show():e||(this._shouldOpenOnInit=!0)}id="mdb-accordion-item-"+roe++;_headerId="mdb-accordion-item-header-"+noe++;_isInitialized=!1;_shouldOpenOnInit=!1;itemShow=new Fr;itemShown=new Fr;itemHide=new Fr;itemHidden=new Fr;accordionItem=!0;accordionItemDisplayBlock=!0;ngOnInit(){this._isInitialized=!0,this._shouldOpenOnInit&&this.show()}show$=new yt;_collapsed=!0;_addCollapsedClass=!0;constructor(e){this._cdRef=e}toggle(){this.disabled||this.collapse.toggle()}show(){this.collapse.show(),this._cdRef.markForCheck()}hide(){this.collapse.hide(),this._cdRef.markForCheck()}onShow(){this._addCollapsedClass=!1,this.itemShow.emit(this),this.show$.next(this)}onHide(){this._addCollapsedClass=!0,this.itemHide.emit(this)}onShown(){this._collapsed=!1,this.itemShown.emit(this)}onHidden(){this._collapsed=!0,this.itemHidden.emit(this)}static ngAcceptInputType_disabled;static \u0275fac=function(r){return new(r||t)(lt($c))};static \u0275cmp=xr({type:t,selectors:[["mdb-accordion-item"]],contentQueries:function(r,i,a){if(1&r&&(Uc(a,IE,7,z1),Uc(a,EE,7,z1)),2&r){let s;go(s=yo())&&(i._headerTemplate=s.first),go(s=yo())&&(i._bodyTemplate=s.first)}},viewQuery:function(r,i){if(1&r&&eu(eC,7),2&r){let a;go(a=yo())&&(i.collapse=a.first)}},hostVars:4,hostBindings:function(r,i){2&r&&lr("accordion-item",i.accordionItem)("d-block",i.accordionItemDisplayBlock)},inputs:{disabled:"disabled",header:"header",collapsed:"collapsed",id:"id"},outputs:{itemShow:"itemShow",itemShown:"itemShown",itemHide:"itemHide",itemHidden:"itemHidden"},decls:7,vars:11,consts:[[1,"accordion-header",3,"id"],["type","button",1,"accordion-button",3,"click"],[4,"ngIf"],["mdbCollapse","",3,"collapseShow","collapseHide","collapseShown","collapseHidden"],[1,"accordion-body"],[3,"ngTemplateOutlet"]],template:function(r,i){1&r&&(be(0,"h2",0)(1,"button",1),dn("click",function(){return i.toggle()}),Ge(2),zn(3,J1e,1,1,null,2),we()(),be(4,"div",3),dn("collapseShow",function(){return i.onShow()})("collapseHide",function(){return i.onHide()})("collapseShown",function(){return i.onShown()})("collapseHidden",function(){return i.onHidden()}),be(5,"div",4),zn(6,eoe,1,1,null,2),we()()),2&r&&(Ye("id",i._headerId),de(),lr("collapsed",i._addCollapsedClass),k1("aria-expanded",!i._collapsed)("aria-controls",i.id)("disabled",i.disabled?"":null),de(),ln(" ",i.header," "),de(),Ye("ngIf",i._headerTemplate),de(),k1("id",i.id)("aria-labelledby",i._headerId),de(2),Ye("ngIf",i._bodyTemplate))},dependencies:[ji,mD,eC],encapsulation:2,changeDetection:0})}return t})(),RE=(()=>{class t{items;get borderless(){return this._borderless}set borderless(e){this._borderless=F2(e)}_borderless=!1;get flush(){return this._flush}set flush(e){this._flush=F2(e)}_flush=!1;get multiple(){return this._multiple}set multiple(e){this._multiple=F2(e)}_multiple=!1;accordion=!0;get addBorderlessClass(){return this.borderless}get addFlushClass(){return this.flush}constructor(){}ngAfterContentInit(){this.items.changes.pipe(oC(this.items),wo(e=>cp(...e.map(r=>r.show$)))).subscribe(e=>this._handleMultipleItems(e))}_handleMultipleItems(e){this.multiple||this.items.filter(i=>i!==e&&!i._collapsed).forEach(i=>i.hide())}static ngAcceptInputType_borderless;static ngAcceptInputType_flush;static ngAcceptInputType_multiple;static \u0275fac=function(r){return new(r||t)};static \u0275cmp=xr({type:t,selectors:[["mdb-accordion"]],contentQueries:function(r,i,a){if(1&r&&Uc(a,lC,4),2&r){let s;go(s=yo())&&(i.items=s)}},hostVars:6,hostBindings:function(r,i){2&r&&lr("accordion",i.accordion)("accordion-borderless",i.addBorderlessClass)("accordion-flush",i.addFlushClass)},inputs:{borderless:"borderless",flush:"flush",multiple:"multiple"},ngContentSelectors:toe,decls:1,vars:0,template:function(r,i){1&r&&(L8(),K3(0))},encapsulation:2,changeDetection:0})}return t})(),ioe=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Qi({type:t});static \u0275inj=pr({imports:[au,nE]})}return t})();const Up=ye(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Gp(t){return _e((n,e)=>{let r=!1;n.subscribe(He(e,i=>{r=!0,e.next(i)},()=>{r||e.next(t),e.complete()}))})}function FE(t=soe){return _e((n,e)=>{let r=!1;n.subscribe(He(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(t())))})}function soe(){return new Up}function h4(t,n){const e=arguments.length>=2;return r=>r.pipe(t?g1((i,a)=>t(i,a,r)):Gt,o1(1),e?Gp(n):FE(()=>new Up))}function xd(t,n){return Se(n)?v1(t,n,1):v1(t,1)}function yu(t){return _e((n,e)=>{let a,r=null,i=!1;r=n.subscribe(He(e,void 0,void 0,s=>{a=xo(t(s,yu(t)(n))),r?(r.unsubscribe(),r=null,a.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(e))})}function uC(t){return t<=0?()=>lc:_e((n,e)=>{let r=[];n.subscribe(He(e,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function fC(t){return _e((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}const Li="primary",Md=Symbol("RouteTitle");class uoe{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function bu(t){return new uoe(t)}function foe(t,n,e){const r=e.path.split("/");if(r.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||r.length<t.length))return null;const i={};for(let a=0;a<r.length;a++){const s=r[a],l=t[a];if(s.startsWith(":"))i[s.substring(1)]=l;else if(s!==l.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function qc(t,n){const e=t?dC(t):void 0,r=n?dC(n):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let a=0;a<e.length;a++)if(i=e[a],!OE(t[i],n[i]))return!1;return!0}function dC(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function OE(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),r=[...n].sort();return e.every((i,a)=>r[a]===i)}return t===n}function BE(t){return t.length>0?t[t.length-1]:null}function Q0(t){return function aoe(t){return!!t&&(t instanceof Jt||Se(t.lift)&&Se(t.subscribe))}(t)?t:I8(t)?s1(Promise.resolve(t)):Zr(t)}const hoe={exact:function UE(t,n,e){if(!p4(t.segments,n.segments)||!$p(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!t.children[r]||!UE(t.children[r],n.children[r],e))return!1;return!0},subset:GE},HE={exact:function poe(t,n){return qc(t,n)},subset:function moe(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>OE(t[e],n[e]))},ignored:()=>!0};function VE(t,n,e){return hoe[e.paths](t.root,n.root,e.matrixParams)&&HE[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function GE(t,n,e){return $E(t,n,n.segments,e)}function $E(t,n,e,r){if(t.segments.length>e.length){const i=t.segments.slice(0,e.length);return!(!p4(i,e)||n.hasChildren()||!$p(i,e,r))}if(t.segments.length===e.length){if(!p4(t.segments,e)||!$p(t.segments,e,r))return!1;for(const i in n.children)if(!t.children[i]||!GE(t.children[i],n.children[i],r))return!1;return!0}{const i=e.slice(0,t.segments.length),a=e.slice(t.segments.length);return!!(p4(t.segments,i)&&$p(t.segments,i,r)&&t.children[Li])&&$E(t.children[Li],n,a,r)}}function $p(t,n,e){return n.every((r,i)=>HE[e](t[i].parameters,r.parameters))}class Cu{constructor(n=new ga([],{}),e={},r=null){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=bu(this.queryParams),this._queryParamMap}toString(){return yoe.serialize(this)}}class ga{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wp(this)}}class wd{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=bu(this.parameters),this._parameterMap}toString(){return YE(this)}}function p4(t,n){return t.length===n.length&&t.every((e,r)=>e.path===n[r].path)}let xu=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:()=>new hC,providedIn:"root"})}return t})();class hC{parse(n){const e=new Aoe(n);return new Cu(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${_d(n.root,!0)}`,r=function xoe(t){const n=Object.entries(t).map(([e,r])=>Array.isArray(r)?r.map(i=>`${jp(e)}=${jp(i)}`).join("&"):`${jp(e)}=${jp(r)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${r}${"string"==typeof n.fragment?`#${function boe(t){return encodeURI(t)}(n.fragment)}`:""}`}}const yoe=new hC;function Wp(t){return t.segments.map(n=>YE(n)).join("/")}function _d(t,n){if(!t.hasChildren())return Wp(t);if(n){const e=t.children[Li]?_d(t.children[Li],!1):"",r=[];return Object.entries(t.children).forEach(([i,a])=>{i!==Li&&r.push(`${i}:${_d(a,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function goe(t,n){let e=[];return Object.entries(t.children).forEach(([r,i])=>{r===Li&&(e=e.concat(n(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Li&&(e=e.concat(n(i,r)))}),e}(t,(r,i)=>i===Li?[_d(t.children[Li],!1)]:[`${i}:${_d(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Li]?`${Wp(t)}/${e[0]}`:`${Wp(t)}/(${e.join("//")})`}}function WE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jp(t){return WE(t).replace(/%3B/gi,";")}function pC(t){return WE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yp(t){return decodeURIComponent(t)}function jE(t){return Yp(t.replace(/\+/g,"%20"))}function YE(t){return`${pC(t.path)}${function Coe(t){return Object.entries(t).map(([n,e])=>`;${pC(n)}=${pC(e)}`).join("")}(t.parameters)}`}const Moe=/^[^\/()?;#]+/;function mC(t){const n=t.match(Moe);return n?n[0]:""}const woe=/^[^\/()?;=#]+/,Loe=/^[^=?&#]+/,Toe=/^[^&#]+/;class Aoe{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ga([],{}):new ga([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[Li]=new ga(n,e)),r}parseSegment(){const n=mC(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Je(4009,!1);return this.capture(n),new wd(Yp(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=function _oe(t){const n=t.match(woe);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=mC(this.remaining);i&&(r=i,this.capture(r))}n[Yp(e)]=Yp(r)}parseQueryParam(n){const e=function Soe(t){const n=t.match(Loe);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const s=function Doe(t){const n=t.match(Toe);return n?n[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=jE(e),a=jE(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(a)}else n[i]=a}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=mC(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Je(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):n&&(a=Li);const s=this.parseChildren();e[a]=1===Object.keys(s).length?s[Li]:new ga([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Je(4011,!1)}}function ZE(t){return t.segments.length>0?new ga([],{[Li]:t}):t}function XE(t){const n={};for(const[r,i]of Object.entries(t.children)){const a=XE(i);if(r===Li&&0===a.segments.length&&a.hasChildren())for(const[s,l]of Object.entries(a.children))n[s]=l;else(a.segments.length>0||a.hasChildren())&&(n[r]=a)}return function zoe(t){if(1===t.numberOfChildren&&t.children[Li]){const n=t.children[Li];return new ga(t.segments.concat(n.segments),n.children)}return t}(new ga(t.segments,n))}function Mu(t){return t instanceof Cu}function KE(t){let n;const i=ZE(function e(a){const s={};for(const x of a.children){const F=e(x);s[x.outlet]=F}const l=new ga(a.url,s);return a===t&&(n=l),l}(t.root));return n??i}function QE(t,n,e,r){let i=t;for(;i.parent;)i=i.parent;if(0===n.length)return vC(i,i,i,e,r);const a=function Eoe(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new qE(!0,0,t);let n=0,e=!1;const r=t.reduce((i,a,s)=>{if("object"==typeof a&&null!=a){if(a.outlets){const l={};return Object.entries(a.outlets).forEach(([x,F])=>{l[x]="string"==typeof F?F.split("/"):F}),[...i,{outlets:l}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===s?(a.split("/").forEach((l,x)=>{0==x&&"."===l||(0==x&&""===l?e=!0:".."===l?n++:""!=l&&i.push(l))}),i):[...i,a]},[]);return new qE(e,n,r)}(n);if(a.toRoot())return vC(i,i,new ga([],{}),e,r);const s=function Noe(t,n,e){if(t.isAbsolute)return new Xp(n,!0,0);if(!e)return new Xp(n,!1,NaN);if(null===e.parent)return new Xp(e,!0,0);const r=Zp(t.commands[0])?0:1;return function Ioe(t,n,e){let r=t,i=n,a=e;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Je(4005,!1);i=r.segments.length}return new Xp(r,!1,i-a)}(e,e.segments.length-1+r,t.numberOfDoubleDots)}(a,i,t),l=s.processChildren?Sd(s.segmentGroup,s.index,a.commands):eN(s.segmentGroup,s.index,a.commands);return vC(i,s.segmentGroup,l,e,r)}function Zp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ld(t){return"object"==typeof t&&null!=t&&t.outlets}function vC(t,n,e,r,i){let s,a={};r&&Object.entries(r).forEach(([x,F])=>{a[x]=Array.isArray(F)?F.map(oe=>`${oe}`):`${F}`}),s=t===n?e:JE(t,n,e);const l=ZE(XE(s));return new Cu(l,a,i)}function JE(t,n,e){const r={};return Object.entries(t.children).forEach(([i,a])=>{r[i]=a===n?e:JE(a,n,e)}),new ga(t.segments,r)}class qE{constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&Zp(r[0]))throw new Je(4003,!1);const i=r.find(Ld);if(i&&i!==BE(r))throw new Je(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xp{constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}}function eN(t,n,e){if(t??=new ga([],{}),0===t.segments.length&&t.hasChildren())return Sd(t,n,e);const r=function Roe(t,n,e){let r=0,i=n;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=e.length)return a;const s=t.segments[i],l=e[r];if(Ld(l))break;const x=`${l}`,F=r<e.length-1?e[r+1]:null;if(i>0&&void 0===x)break;if(x&&F&&"object"==typeof F&&void 0===F.outlets){if(!nN(x,F,s))return a;r+=2}else{if(!nN(x,{},s))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,n,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const a=new ga(t.segments.slice(0,r.pathIndex),{});return a.children[Li]=new ga(t.segments.slice(r.pathIndex),t.children),Sd(a,0,i)}return r.match&&0===i.length?new ga(t.segments,{}):r.match&&!t.hasChildren()?gC(t,n,e):r.match?Sd(t,0,i):gC(t,n,e)}function Sd(t,n,e){if(0===e.length)return new ga(t.segments,{});{const r=function Poe(t){return Ld(t[0])?t[0].outlets:{[Li]:t}}(e),i={};if(Object.keys(r).some(a=>a!==Li)&&t.children[Li]&&1===t.numberOfChildren&&0===t.children[Li].segments.length){const a=Sd(t.children[Li],n,e);return new ga(t.segments,a.children)}return Object.entries(r).forEach(([a,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[a]=eN(t.children[a],n,s))}),Object.entries(t.children).forEach(([a,s])=>{void 0===r[a]&&(i[a]=s)}),new ga(t.segments,i)}}function gC(t,n,e){const r=t.segments.slice(0,n);let i=0;for(;i<e.length;){const a=e[i];if(Ld(a)){const x=Foe(a.outlets);return new ga(r,x)}if(0===i&&Zp(e[0])){r.push(new wd(t.segments[n].path,tN(e[0]))),i++;continue}const s=Ld(a)?a.outlets[Li]:`${a}`,l=i<e.length-1?e[i+1]:null;s&&l&&Zp(l)?(r.push(new wd(s,tN(l))),i+=2):(r.push(new wd(s,{})),i++)}return new ga(r,{})}function Foe(t){const n={};return Object.entries(t).forEach(([e,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[e]=gC(new ga([],{}),0,r))}),n}function tN(t){const n={};return Object.entries(t).forEach(([e,r])=>n[e]=`${r}`),n}function nN(t,n,e){return t==e.path&&qc(n,e.parameters)}const Td="imperative";var Hi=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Hi||{});class el{constructor(n,e){this.id=n,this.url=e}}class Kp extends el{constructor(n,e,r="imperative",i=null){super(n,e),this.type=Hi.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $l extends el{constructor(n,e,r){super(n,e),this.urlAfterRedirects=r,this.type=Hi.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var h2=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(h2||{}),Qp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Qp||{});class wu extends el{constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i,this.type=Hi.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _u extends el{constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i,this.type=Hi.NavigationSkipped}}class Jp extends el{constructor(n,e,r,i){super(n,e),this.error=r,this.target=i,this.type=Hi.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class rN extends el{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=Hi.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ooe extends el{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=Hi.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Boe extends el{constructor(n,e,r,i,a){super(n,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=Hi.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Hoe extends el{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=Hi.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Voe extends el{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=Hi.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uoe{constructor(n){this.route=n,this.type=Hi.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Goe{constructor(n){this.route=n,this.type=Hi.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $oe{constructor(n){this.snapshot=n,this.type=Hi.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Woe{constructor(n){this.snapshot=n,this.type=Hi.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class joe{constructor(n){this.snapshot=n,this.type=Hi.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yoe{constructor(n){this.snapshot=n,this.type=Hi.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iN{constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r,this.type=Hi.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class yC{}class bC{constructor(n){this.url=n}}class Zoe{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Dd,this.attachRef=null}}let Dd=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Zoe,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class aN{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=CC(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){const e=CC(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=xC(n,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return xC(n,this._root).map(e=>e.value)}}function CC(t,n){if(t===n.value)return n;for(const e of n.children){const r=CC(t,e);if(r)return r}return null}function xC(t,n){if(t===n.value)return[n];for(const e of n.children){const r=xC(t,e);if(r.length)return r.unshift(n),r}return[]}class fc{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function Lu(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class sN extends aN{constructor(n,e){super(n),this.snapshot=e,_C(this,n)}toString(){return this.snapshot.toString()}}function oN(t){const n=function Xoe(t){const a=new wC([],{},{},"",{},Li,t,null,{});return new cN("",new fc(a,[]))}(t),e=new Xe([new wd("",{})]),r=new Xe({}),i=new Xe({}),a=new Xe({}),s=new Xe(""),l=new Su(e,r,a,s,i,Li,t,n.root);return l.snapshot=n.root,new sN(new fc(l,[]),n)}class Su{constructor(n,e,r,i,a,s,l,x){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=a,this.outlet=s,this.component=l,this._futureSnapshot=x,this.title=this.dataSubject?.pipe(Ze(F=>F[Md]))??Zr(void 0),this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ze(n=>bu(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ze(n=>bu(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function MC(t,n,e="emptyOnly"){let r;const{routeConfig:i}=t;return r=null===n||"always"!==e&&""!==i?.path&&(n.component||n.routeConfig?.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}}:{params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.data,...i?.data,...t._resolvedData}},i&&uN(i)&&(r.resolve[Md]=i.title),r}class wC{get title(){return this.data?.[Md]}constructor(n,e,r,i,a,s,l,x,F){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=s,this.component=l,this.routeConfig=x,this._resolve=F}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=bu(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=bu(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cN extends aN{constructor(n,e){super(e),this.url=n,_C(this,e)}toString(){return lN(this._root)}}function _C(t,n){n.value._routerState=t,n.children.forEach(e=>_C(t,e))}function lN(t){const n=t.children.length>0?` { ${t.children.map(lN).join(", ")} } `:"";return`${t.value}${n}`}function LC(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,qc(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),qc(n.params,e.params)||t.paramsSubject.next(e.params),function doe(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!qc(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.urlSubject.next(e.url),qc(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function SC(t,n){const e=qc(t.params,n.params)&&function voe(t,n){return p4(t,n)&&t.every((e,r)=>qc(e.parameters,n[r].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||SC(t.parent,n.parent))}function uN(t){return"string"==typeof t.title||null===t.title}let TC=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Li,this.activateEvents=new Fr,this.deactivateEvents=new Fr,this.attachEvents=new Fr,this.detachEvents=new Fr,this.parentContexts=Xn(Dd),this.location=Xn(mo),this.changeDetector=Xn($c),this.environmentInjector=Xn(Ts),this.inputBinder=Xn(qp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Je(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Je(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Je(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Je(4013,!1);this._activatedRoute=e;const i=this.location,s=e.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,x=new DC(e,l,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:x,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=Lr({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[As]})}return t})();class DC{__ngOutletInjector(n){return new DC(this.route,this.childContexts,n)}constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===Su?this.route:n===Dd?this.childContexts:this.parent.get(n,e)}}const qp=new kn("");let fN=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:r}=e,i=Bp([r.queryParams,r.params,r.data]).pipe(wo(([a,s,l],x)=>(l={...a,...s,...l},0===x?Zr(l):Promise.resolve(l)))).subscribe(a=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(e);const s=function sJ(t){const n=ri(t);if(!n)return null;const e=new f8(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(r.component);if(s)for(const{templateName:l}of s.inputs)e.activatedComponentRef.setInput(l,a[l]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})();function Ad(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=n.value;const i=function Qoe(t,n,e){return n.children.map(r=>{for(const i of e.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ad(t,r,i);return Ad(t,r)})}(t,n,e);return new fc(r,i)}{if(t.shouldAttach(n.value)){const a=t.retrieve(n.value);if(null!==a){const s=a.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(l=>Ad(t,l)),s}}const r=function Joe(t){return new Su(new Xe(t.url),new Xe(t.params),new Xe(t.queryParams),new Xe(t.fragment),new Xe(t.data),t.outlet,t.component,t)}(n.value),i=n.children.map(a=>Ad(t,a));return new fc(r,i)}}const dN="ngNavigationCancelingError";function hN(t,n){const{redirectTo:e,navigationBehaviorOptions:r}=Mu(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=pN(!1,h2.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function pN(t,n){const e=new Error(`NavigationCancelingError: ${t||""}`);return e[dN]=!0,e.cancellationCode=n,e}function mN(t){return!!t&&t[dN]}let vN=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=xr({type:t,selectors:[["ng-component"]],standalone:!0,features:[D8],decls:1,vars:0,template:function(r,i){1&r&&un(0,"router-outlet")},dependencies:[TC],encapsulation:2})}return t})();function AC(t){const n=t.children&&t.children.map(AC),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Li&&(e.component=vN),e}function tl(t){return t.outlet||Li}function zd(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class s2e{constructor(n,e,r,i,a){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=a}activate(n){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),LC(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){const i=Lu(e);n.children.forEach(a=>{const s=a.value.outlet;this.deactivateRoutes(a,i[s],r),delete i[s]}),Object.values(i).forEach(a=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(n,e,r){const i=n.value,a=e?e.value:null;if(i===a)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,r);else a&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,a=Lu(n);for(const s of Object.values(a))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){const s=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:l})}}deactivateRouteAndOutlet(n,e){const r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,a=Lu(n);for(const s of Object.values(a))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,e,r){const i=Lu(e);n.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new Yoe(a.value.snapshot))}),n.children.length&&this.forwardEvent(new Woe(n.value.snapshot))}activateRoutes(n,e,r){const i=n.value,a=e?e.value:null;if(LC(i),i===a)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const l=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(l.contexts),s.attachRef=l.componentRef,s.route=l.route.value,s.outlet&&s.outlet.attach(l.componentRef,l.route.value),LC(l.route.value),this.activateChildRoutes(n,null,s.children)}else{const l=zd(i.snapshot);s.attachRef=null,s.route=i,s.injector=l,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,r)}}class gN{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class em{constructor(n,e){this.component=n,this.route=e}}function o2e(t,n,e){const r=t._root;return kd(r,n?n._root:null,e,[r.value])}function Tu(t,n){const e=Symbol(),r=n.get(t,e);return r===e?"function"!=typeof t||function na(t){return null!==$r(t)}(t)?n.get(t):t:r}function kd(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Lu(n);return t.children.forEach(s=>{(function l2e(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=t.value,s=n?n.value:null,l=e?e.getContext(t.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){const x=function u2e(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!p4(t.url,n.url);case"pathParamsOrQueryParamsChange":return!p4(t.url,n.url)||!qc(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!SC(t,n)||!qc(t.queryParams,n.queryParams);default:return!SC(t,n)}}(s,a,a.routeConfig.runGuardsAndResolvers);x?i.canActivateChecks.push(new gN(r)):(a.data=s.data,a._resolvedData=s._resolvedData),kd(t,n,a.component?l?l.children:null:e,r,i),x&&l&&l.outlet&&l.outlet.isActivated&&i.canDeactivateChecks.push(new em(l.outlet.component,s))}else s&&Ed(n,l,i),i.canActivateChecks.push(new gN(r)),kd(t,null,a.component?l?l.children:null:e,r,i)})(s,a[s.value.outlet],e,r.concat([s.value]),i),delete a[s.value.outlet]}),Object.entries(a).forEach(([s,l])=>Ed(l,e.getContext(s),i)),i}function Ed(t,n,e){const r=Lu(t),i=t.value;Object.entries(r).forEach(([a,s])=>{Ed(s,i.component?n?n.children.getContext(a):null:n,e)}),e.canDeactivateChecks.push(new em(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function Nd(t){return"function"==typeof t}function yN(t){return t instanceof Up||"EmptyError"===t?.name}const tm=Symbol("INITIAL_VALUE");function Du(){return wo(t=>Bp(t.map(n=>n.pipe(o1(1),oC(tm)))).pipe(Ze(n=>{for(const e of n)if(!0!==e){if(e===tm)return tm;if(!1===e||e instanceof Cu)return e}return!0}),g1(n=>n!==tm),o1(1)))}function bN(t){return function Lt(...t){return Qt(t)}(to(n=>{if(Mu(n))throw hN(0,n)}),Ze(n=>!0===n))}class zC{constructor(n){this.segmentGroup=n||null}}class kC extends Error{constructor(n){super(),this.urlTree=n}}function Au(t){return J8(new zC(t))}class A2e{constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Zr(r);if(i.numberOfChildren>1||!i.children[Li])return J8(new Je(4e3,!1));i=i.children[Li]}}applyRedirectCommands(n,e,r){const i=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,r);if(e.startsWith("/"))throw new kC(i);return i}applyRedirectCreateUrlTree(n,e,r,i){const a=this.createSegmentGroup(n,e.root,r,i);return new Cu(a,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const r={};return Object.entries(n).forEach(([i,a])=>{if("string"==typeof a&&a.startsWith(":")){const l=a.substring(1);r[i]=e[l]}else r[i]=a}),r}createSegmentGroup(n,e,r,i){const a=this.createSegments(n,e.segments,r,i);let s={};return Object.entries(e.children).forEach(([l,x])=>{s[l]=this.createSegmentGroup(n,x,r,i)}),new ga(a,s)}createSegments(n,e,r,i){return e.map(a=>a.path.startsWith(":")?this.findPosParam(n,a,i):this.findOrReturn(a,r))}findPosParam(n,e,r){const i=r[e.path.substring(1)];if(!i)throw new Je(4001,!1);return i}findOrReturn(n,e){let r=0;for(const i of e){if(i.path===n.path)return e.splice(r),i;r++}return n}}const EC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function z2e(t,n,e,r,i){const a=NC(t,n,e);return a.matched?(r=function e2e(t,n){return t.providers&&!t._injector&&(t._injector=i7(t.providers,n,`Route: ${t.path}`)),t._injector??n}(n,r),function S2e(t,n,e,r){const i=n.canMatch;return i&&0!==i.length?Zr(i.map(s=>{const l=Tu(s,t);return Q0(function v2e(t){return t&&Nd(t.canMatch)}(l)?l.canMatch(n,e):Ea(t,()=>l(n,e)))})).pipe(Du(),bN()):Zr(!0)}(r,n,e).pipe(Ze(s=>!0===s?a:{...EC}))):Zr(a)}function NC(t,n,e){if("**"===n.path)return function k2e(t){return{matched:!0,parameters:t.length>0?BE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(e);if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...EC}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(n.matcher||foe)(e,t,n);if(!i)return{...EC};const a={};Object.entries(i.posParams??{}).forEach(([l,x])=>{a[l]=x.path});const s=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function CN(t,n,e,r){return e.length>0&&function I2e(t,n,e){return e.some(r=>nm(t,n,r)&&tl(r)!==Li)}(t,e,r)?{segmentGroup:new ga(n,N2e(r,new ga(e,t.children))),slicedSegments:[]}:0===e.length&&function P2e(t,n,e){return e.some(r=>nm(t,n,r))}(t,e,r)?{segmentGroup:new ga(t.segments,E2e(t,e,r,t.children)),slicedSegments:e}:{segmentGroup:new ga(t.segments,t.children),slicedSegments:e}}function E2e(t,n,e,r){const i={};for(const a of e)if(nm(t,n,a)&&!r[tl(a)]){const s=new ga([],{});i[tl(a)]=s}return{...r,...i}}function N2e(t,n){const e={};e[Li]=n;for(const r of t)if(""===r.path&&tl(r)!==Li){const i=new ga([],{});e[tl(r)]=i}return e}function nm(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}class O2e{}class V2e{constructor(n,e,r,i,a,s,l){this.injector=n,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=a,this.paramsInheritanceStrategy=s,this.urlSerializer=l,this.applyRedirects=new A2e(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new Je(4002,`'${n.segmentGroup}'`)}recognize(){const n=CN(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(Ze(e=>{const r=new wC([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Li,this.rootComponentType,null,{}),i=new fc(r,e),a=new cN("",i),s=function koe(t,n,e=null,r=null){return QE(KE(t),n,e,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(a._root,null),{state:a,tree:s}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n,Li).pipe(yu(r=>{if(r instanceof kC)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof zC?this.noMatchError(r):r}))}inheritParamsAndData(n,e){const r=n.value,i=MC(r,e,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),n.children.forEach(a=>this.inheritParamsAndData(a,r))}processSegmentGroup(n,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,e,r):this.processSegment(n,e,r,r.segments,i,!0).pipe(Ze(a=>a instanceof fc?[a]:[]))}processChildren(n,e,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return s1(i).pipe(xd(a=>{const s=r.children[a],l=function i2e(t,n){const e=t.filter(r=>tl(r)===n);return e.push(...t.filter(r=>tl(r)!==n)),e}(e,a);return this.processSegmentGroup(n,l,s,a)}),function coe(t,n){return _e(function ooe(t,n,e,r,i){return(a,s)=>{let l=e,x=n,F=0;a.subscribe(He(s,oe=>{const Le=F++;x=l?t(x,oe,Le):(l=!0,oe),r&&s.next(x)},i&&(()=>{l&&s.next(x),s.complete()})))}}(t,n,arguments.length>=2,!0))}((a,s)=>(a.push(...s),a)),Gp(null),function loe(t,n){const e=arguments.length>=2;return r=>r.pipe(t?g1((i,a)=>t(i,a,r)):Gt,uC(1),e?Gp(n):FE(()=>new Up))}(),v1(a=>{if(null===a)return Au(r);const s=xN(a);return function U2e(t){t.sort((n,e)=>n.value.outlet===Li?-1:e.value.outlet===Li?1:n.value.outlet.localeCompare(e.value.outlet))}(s),Zr(s)}))}processSegment(n,e,r,i,a,s){return s1(e).pipe(xd(l=>this.processSegmentAgainstRoute(l._injector??n,e,l,r,i,a,s).pipe(yu(x=>{if(x instanceof zC)return Zr(null);throw x}))),h4(l=>!!l),yu(l=>{if(yN(l))return function F2e(t,n,e){return 0===n.length&&!t.children[e]}(r,i,a)?Zr(new O2e):Au(r);throw l}))}processSegmentAgainstRoute(n,e,r,i,a,s,l){return function R2e(t,n,e,r){return!!(tl(t)===r||r!==Li&&nm(n,e,t))&&NC(n,t,e).matched}(r,i,a,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,i,r,a,s):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(n,i,e,r,a,s):Au(i):Au(i)}expandSegmentAgainstRouteUsingRedirect(n,e,r,i,a,s){const{matched:l,consumedSegments:x,positionalParamSegments:F,remainingSegments:oe}=NC(e,i,a);if(!l)return Au(e);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Le=this.applyRedirects.applyRedirectCommands(x,i.redirectTo,F);return this.applyRedirects.lineralizeSegments(i,Le).pipe(v1(je=>this.processSegment(n,r,e,je.concat(oe),s,!1)))}matchSegmentAgainstRoute(n,e,r,i,a){const s=z2e(e,r,i,n);return"**"===r.path&&(e.children={}),s.pipe(wo(l=>l.matched?this.getChildConfig(n=r._injector??n,r,i).pipe(wo(({routes:x})=>{const F=r._loadedInjector??n,{consumedSegments:oe,remainingSegments:Le,parameters:je}=l,rt=new wC(oe,je,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function $2e(t){return t.data||{}}(r),tl(r),r.component??r._loadedComponent??null,r,function W2e(t){return t.resolve||{}}(r)),{segmentGroup:ht,slicedSegments:Ft}=CN(e,oe,Le,x);if(0===Ft.length&&ht.hasChildren())return this.processChildren(F,x,ht).pipe(Ze(yn=>null===yn?null:new fc(rt,yn)));if(0===x.length&&0===Ft.length)return Zr(new fc(rt,[]));const an=tl(r)===a;return this.processSegment(F,x,ht,Ft,an?Li:a,!0).pipe(Ze(yn=>new fc(rt,yn instanceof fc?[yn]:[])))})):Au(e)))}getChildConfig(n,e,r){return e.children?Zr({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?Zr({routes:e._loadedRoutes,injector:e._loadedInjector}):function L2e(t,n,e,r){const i=n.canLoad;return void 0===i||0===i.length?Zr(!0):Zr(i.map(s=>{const l=Tu(s,t);return Q0(function d2e(t){return t&&Nd(t.canLoad)}(l)?l.canLoad(n,e):Ea(t,()=>l(n,e)))})).pipe(Du(),bN())}(n,e,r).pipe(v1(i=>i?this.configLoader.loadChildren(n,e).pipe(to(a=>{e._loadedRoutes=a.routes,e._loadedInjector=a.injector})):function D2e(t){return J8(pN(!1,h2.GuardRejected))}())):Zr({routes:[],injector:n})}}function G2e(t){const n=t.value.routeConfig;return n&&""===n.path}function xN(t){const n=[],e=new Set;for(const r of t){if(!G2e(r)){n.push(r);continue}const i=n.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):n.push(r)}for(const r of e){const i=xN(r.children);n.push(new fc(r.value,i))}return n.filter(r=>!e.has(r))}function MN(t){const n=t.children.map(e=>MN(e)).flat();return[t,...n]}function IC(t){return wo(n=>{const e=t(n);return e?s1(e).pipe(Ze(()=>n)):Zr(n)})}let wN=(()=>{class t{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===Li);return r}getResolvedTitleForRoute(e){return e.data[Md]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:()=>Xn(Q2e),providedIn:"root"})}return t})(),Q2e=(()=>{class t extends wN{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(gn(Aee))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const zu=new kn("",{providedIn:"root",factory:()=>({})}),ku=new kn("");let PC=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Xn(uT)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Zr(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=Q0(e.loadComponent()).pipe(Ze(_N),to(a=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=a}),fC(()=>{this.componentLoaders.delete(e)})),i=new Zy(r,()=>new yt).pipe(Yy());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Zr({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=function J2e(t,n,e,r){return Q0(t.loadChildren()).pipe(Ze(_N),v1(i=>i instanceof D_||Array.isArray(i)?Zr(i):s1(n.compileModuleAsync(i))),Ze(i=>{r&&r(t);let a,s,l=!1;return Array.isArray(i)?(s=i,!0):(a=i.create(e).injector,s=a.get(ku,[],{optional:!0,self:!0}).flat()),{routes:s.map(AC),injector:a}}))}(r,this.compiler,e,this.onLoadEndListener).pipe(fC(()=>{this.childrenLoaders.delete(r)})),s=new Zy(a,()=>new yt).pipe(Yy());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _N(t){return function q2e(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let RC=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:()=>Xn(ece),providedIn:"root"})}return t})(),ece=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const LN=new kn(""),SN=new kn("");function tce(t,n,e){const r=t.get(SN),i=t.get(Aa);return t.get(Di).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(F=>setTimeout(F));let a;const s=new Promise(F=>{a=F}),l=i.startViewTransition(()=>(a(),function nce(t){return new Promise(n=>{Vv(n,{injector:t})})}(t))),{onViewTransitionCreated:x}=r;return x&&Ea(t,()=>x({transition:l,from:n,to:e})),s})}let rm=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new yt,this.transitionAbortSubject=new yt,this.configLoader=Xn(PC),this.environmentInjector=Xn(Ts),this.urlSerializer=Xn(xu),this.rootContexts=Xn(Dd),this.location=Xn(q1),this.inputBindingEnabled=null!==Xn(qp,{optional:!0}),this.titleStrategy=Xn(wN),this.options=Xn(zu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Xn(RC),this.createViewTransition=Xn(LN,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Zr(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Goe(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Uoe(i))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e,r,i){return this.transitions=new Xe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Td,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(g1(a=>0!==a.id),Ze(a=>({...a,extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),wo(a=>{let s=!1,l=!1;return Zr(a).pipe(wo(x=>{if(this.navigationId>a.id)return this.cancelNavigationTransition(a,"",h2.SupersededByNewNavigation),lc;this.currentTransition=a,this.currentNavigation={id:x.id,initialUrl:x.rawUrl,extractedUrl:x.extractedUrl,trigger:x.source,extras:x.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const F=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!F&&"reload"!==(x.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const Le="";return this.events.next(new _u(x.id,this.urlSerializer.serialize(x.rawUrl),Le,Qp.IgnoredSameUrlNavigation)),x.resolve(null),lc}if(this.urlHandlingStrategy.shouldProcessUrl(x.rawUrl))return Zr(x).pipe(wo(Le=>{const je=this.transitions?.getValue();return this.events.next(new Kp(Le.id,this.urlSerializer.serialize(Le.extractedUrl),Le.source,Le.restoredState)),je!==this.transitions?.getValue()?lc:Promise.resolve(Le)}),function j2e(t,n,e,r,i,a){return v1(s=>function B2e(t,n,e,r,i,a,s="emptyOnly"){return new V2e(t,n,e,r,i,s,a).recognize()}(t,n,e,r,s.extractedUrl,i,a).pipe(Ze(({state:l,tree:x})=>({...s,targetSnapshot:l,urlAfterRedirects:x}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),to(Le=>{a.targetSnapshot=Le.targetSnapshot,a.urlAfterRedirects=Le.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Le.urlAfterRedirects};const je=new rN(Le.id,this.urlSerializer.serialize(Le.extractedUrl),this.urlSerializer.serialize(Le.urlAfterRedirects),Le.targetSnapshot);this.events.next(je)}));if(F&&this.urlHandlingStrategy.shouldProcessUrl(x.currentRawUrl)){const{id:Le,extractedUrl:je,source:rt,restoredState:ht,extras:Ft}=x,an=new Kp(Le,this.urlSerializer.serialize(je),rt,ht);this.events.next(an);const yn=oN(this.rootComponentType).snapshot;return this.currentTransition=a={...x,targetSnapshot:yn,urlAfterRedirects:je,extras:{...Ft,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=je,Zr(a)}{const Le="";return this.events.next(new _u(x.id,this.urlSerializer.serialize(x.extractedUrl),Le,Qp.IgnoredByUrlHandlingStrategy)),x.resolve(null),lc}}),to(x=>{const F=new Ooe(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(F)}),Ze(x=>(this.currentTransition=a={...x,guards:o2e(x.targetSnapshot,x.currentSnapshot,this.rootContexts)},a)),function g2e(t,n){return v1(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:s}}=e;return 0===s.length&&0===a.length?Zr({...e,guardsResult:!0}):function y2e(t,n,e,r){return s1(t).pipe(v1(i=>function _2e(t,n,e,r,i){const a=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return a&&0!==a.length?Zr(a.map(l=>{const x=zd(n)??i,F=Tu(l,x);return Q0(function m2e(t){return t&&Nd(t.canDeactivate)}(F)?F.canDeactivate(t,n,e,r):Ea(x,()=>F(t,n,e,r))).pipe(h4())})).pipe(Du()):Zr(!0)}(i.component,i.route,e,n,r)),h4(i=>!0!==i,!0))}(s,r,i,t).pipe(v1(l=>l&&function f2e(t){return"boolean"==typeof t}(l)?function b2e(t,n,e,r){return s1(n).pipe(xd(i=>cu(function x2e(t,n){return null!==t&&n&&n(new $oe(t)),Zr(!0)}(i.route.parent,r),function C2e(t,n){return null!==t&&n&&n(new joe(t)),Zr(!0)}(i.route,r),function w2e(t,n,e){const r=n[n.length-1],a=n.slice(0,n.length-1).reverse().map(s=>function c2e(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(s)).filter(s=>null!==s).map(s=>op(()=>Zr(s.guards.map(x=>{const F=zd(s.node)??e,oe=Tu(x,F);return Q0(function p2e(t){return t&&Nd(t.canActivateChild)}(oe)?oe.canActivateChild(r,t):Ea(F,()=>oe(r,t))).pipe(h4())})).pipe(Du())));return Zr(a).pipe(Du())}(t,i.path,e),function M2e(t,n,e){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return Zr(!0);const i=r.map(a=>op(()=>{const s=zd(n)??e,l=Tu(a,s);return Q0(function h2e(t){return t&&Nd(t.canActivate)}(l)?l.canActivate(n,t):Ea(s,()=>l(n,t))).pipe(h4())}));return Zr(i).pipe(Du())}(t,i.route,e))),h4(i=>!0!==i,!0))}(r,a,t,n):Zr(l)),Ze(l=>({...e,guardsResult:l})))})}(this.environmentInjector,x=>this.events.next(x)),to(x=>{if(a.guardsResult=x.guardsResult,Mu(x.guardsResult))throw hN(0,x.guardsResult);const F=new Boe(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot,!!x.guardsResult);this.events.next(F)}),g1(x=>!!x.guardsResult||(this.cancelNavigationTransition(x,"",h2.GuardRejected),!1)),IC(x=>{if(x.guards.canActivateChecks.length)return Zr(x).pipe(to(F=>{const oe=new Hoe(F.id,this.urlSerializer.serialize(F.extractedUrl),this.urlSerializer.serialize(F.urlAfterRedirects),F.targetSnapshot);this.events.next(oe)}),wo(F=>{let oe=!1;return Zr(F).pipe(function Y2e(t,n){return v1(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return Zr(e);const a=new Set(i.map(x=>x.route)),s=new Set;for(const x of a)if(!s.has(x))for(const F of MN(x))s.add(F);let l=0;return s1(s).pipe(xd(x=>a.has(x)?function Z2e(t,n,e,r){const i=t.routeConfig,a=t._resolve;return void 0!==i?.title&&!uN(i)&&(a[Md]=i.title),function X2e(t,n,e,r){const i=dC(t);if(0===i.length)return Zr({});const a={};return s1(i).pipe(v1(s=>function K2e(t,n,e,r){const i=zd(n)??r,a=Tu(t,i);return Q0(a.resolve?a.resolve(n,e):Ea(i,()=>a(n,e)))}(t[s],n,e,r).pipe(h4(),to(l=>{a[s]=l}))),uC(1),dz(a),yu(s=>yN(s)?lc:J8(s)))}(a,t,n,r).pipe(Ze(s=>(t._resolvedData=s,t.data=MC(t,t.parent,e).resolve,null)))}(x,r,t,n):(x.data=MC(x,x.parent,t).resolve,Zr(void 0))),to(()=>l++),uC(1),v1(x=>l===s.size?Zr(e):lc))})}(this.paramsInheritanceStrategy,this.environmentInjector),to({next:()=>oe=!0,complete:()=>{oe||this.cancelNavigationTransition(F,"",h2.NoDataFromResolver)}}))}),to(F=>{const oe=new Voe(F.id,this.urlSerializer.serialize(F.extractedUrl),this.urlSerializer.serialize(F.urlAfterRedirects),F.targetSnapshot);this.events.next(oe)}))}),IC(x=>{const F=oe=>{const Le=[];oe.routeConfig?.loadComponent&&!oe.routeConfig._loadedComponent&&Le.push(this.configLoader.loadComponent(oe.routeConfig).pipe(to(je=>{oe.component=je}),Ze(()=>{})));for(const je of oe.children)Le.push(...F(je));return Le};return Bp(F(x.targetSnapshot.root)).pipe(Gp(null),o1(1))}),IC(()=>this.afterPreactivation()),wo(()=>{const{currentSnapshot:x,targetSnapshot:F}=a,oe=this.createViewTransition?.(this.environmentInjector,x.root,F.root);return oe?s1(oe).pipe(Ze(()=>a)):Zr(a)}),Ze(x=>{const F=function Koe(t,n,e){const r=Ad(t,n._root,e?e._root:void 0);return new sN(r,n)}(e.routeReuseStrategy,x.targetSnapshot,x.currentRouterState);return this.currentTransition=a={...x,targetRouterState:F},this.currentNavigation.targetRouterState=F,a}),to(()=>{this.events.next(new yC)}),((t,n,e,r)=>Ze(i=>(new s2e(n,i.targetRouterState,i.currentRouterState,e,r).activate(t),i)))(this.rootContexts,e.routeReuseStrategy,x=>this.events.next(x),this.inputBindingEnabled),o1(1),to({next:x=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $l(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects))),this.titleStrategy?.updateTitle(x.targetRouterState.snapshot),x.resolve(!0)},complete:()=>{s=!0}}),Wr(this.transitionAbortSubject.pipe(to(x=>{throw x}))),fC(()=>{!s&&!l&&this.cancelNavigationTransition(a,"",h2.SupersededByNewNavigation),this.currentTransition?.id===a.id&&(this.currentNavigation=null,this.currentTransition=null)}),yu(x=>{if(l=!0,mN(x))this.events.next(new wu(a.id,this.urlSerializer.serialize(a.extractedUrl),x.message,x.cancellationCode)),function qoe(t){return mN(t)&&Mu(t.url)}(x)?this.events.next(new bC(x.url)):a.resolve(!1);else{this.events.next(new Jp(a.id,this.urlSerializer.serialize(a.extractedUrl),x,a.targetSnapshot??void 0));try{a.resolve(e.errorHandler(x))}catch(F){this.options.resolveNavigationPromiseOnError?a.resolve(!1):a.reject(F)}}return lc}))}))}cancelNavigationTransition(e,r,i){const a=new wu(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(a),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rce(t){return t!==Td}let ice=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:()=>Xn(sce),providedIn:"root"})}return t})();class ace{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let sce=(()=>{class t extends ace{static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Vs(t)))(i||t)}})();static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),TN=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:()=>Xn(oce),providedIn:"root"})}return t})(),oce=(()=>{class t extends TN{constructor(){super(...arguments),this.location=Xn(q1),this.urlSerializer=Xn(xu),this.options=Xn(zu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Xn(RC),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Cu,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=oN(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{"popstate"===r.type&&e(r.url,r.state)})}handleRouterEvent(e,r){if(e instanceof Kp)this.stateMemento=this.createStateMemento();else if(e instanceof _u)this.rawUrlTree=r.initialUrl;else if(e instanceof rN){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else e instanceof yC?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):e instanceof wu&&(e.code===h2.GuardRejected||e.code===h2.NoDataFromResolver)?this.restoreHistory(r):e instanceof Jp?this.restoreHistory(r,!0):e instanceof $l&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const a={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",a)}}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-this.browserPageId;0!==a?this.location.historyGo(a):this.currentUrlTree===e.finalUrl&&0===a&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Vs(t)))(i||t)}})();static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Id=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Id||{});function DN(t,n){t.events.pipe(g1(e=>e instanceof $l||e instanceof wu||e instanceof Jp||e instanceof _u),Ze(e=>e instanceof $l||e instanceof _u?Id.COMPLETE:e instanceof wu&&(e.code===h2.Redirect||e.code===h2.SupersededByNewNavigation)?Id.REDIRECTING:Id.FAILED),g1(e=>e!==Id.REDIRECTING),o1(1)).subscribe(()=>{n()})}function cce(t){throw t}const lce={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uce={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let p2=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Xn(eT),this.stateManager=Xn(TN),this.options=Xn(zu,{optional:!0})||{},this.pendingTasks=Xn(I6),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Xn(rm),this.urlSerializer=Xn(xu),this.location=Xn(q1),this.urlHandlingStrategy=Xn(RC),this._events=new yt,this.errorHandler=this.options.errorHandler||cce,this.navigated=!1,this.routeReuseStrategy=Xn(ice),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Xn(ku,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Xn(qp,{optional:!0}),this.eventsSubscription=new te,this.isNgZoneEnabled=Xn(Di)instanceof Di&&Di.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(null!==i&&null!==a)if(this.stateManager.handleRouterEvent(r,a),r instanceof wu&&r.code!==h2.Redirect&&r.code!==h2.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof $l)this.navigated=!0;else if(r instanceof bC){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||rce(i.source)};this.scheduleNavigation(s,Td,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function dce(t){return!(t instanceof yC||t instanceof bC)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Td,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",r)},0)})}navigateToSyncWithBrowser(e,r,i){const a={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const x={...i};delete x.navigationId,delete x.\u0275routerPageId,0!==Object.keys(x).length&&(a.state=x)}const l=this.parseUrl(e);this.scheduleNavigation(l,r,s,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(AC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){const{relativeTo:i,queryParams:a,fragment:s,queryParamsHandling:l,preserveFragment:x}=r,F=x?this.currentUrlTree.fragment:s;let Le,oe=null;switch(l){case"merge":oe={...this.currentUrlTree.queryParams,...a};break;case"preserve":oe=this.currentUrlTree.queryParams;break;default:oe=a||null}null!==oe&&(oe=this.removeEmptyProps(oe));try{Le=KE(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),Le=this.currentUrlTree.root}return QE(Le,e,oe,F??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=Mu(e)?e:this.parseUrl(e),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,Td,null,r)}navigate(e,r={skipLocationChange:!1}){return function fce(t){for(let n=0;n<t.length;n++)if(null==t[n])throw new Je(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(i=!0===r?{...lce}:!1===r?{...uce}:r,Mu(e))return VE(this.currentUrlTree,e,i);const a=this.parseUrl(e);return VE(this.currentUrlTree,a,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,a])=>(null!=a&&(r[i]=a),r),{})}scheduleNavigation(e,r,i,a,s){if(this.disposed)return Promise.resolve(!1);let l,x,F;s?(l=s.resolve,x=s.reject,F=s.promise):F=new Promise((Le,je)=>{l=Le,x=je});const oe=this.pendingTasks.add();return DN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(oe))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:a,resolve:l,reject:x,promise:F,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),F.catch(Le=>Promise.reject(Le))}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),im=(()=>{class t{constructor(e,r,i,a,s,l){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=s,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new yt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const x=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===x||"area"===x,this.isAnchorElement?this.subscription=e.events.subscribe(F=>{F instanceof $l&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,r,i,a,s){const l=this.urlTree;return!!(null===l||this.isAnchorElement&&(0!==e||r||i||a||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(l,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const e=this.urlTree;this.href=null!==e&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;const r=null===this.href?null:function Ch(t,n,e){return function k0(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?bh:z0}(n,e)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){const i=this.renderer,a=this.el.nativeElement;null!==r?i.setAttribute(a,e,r):i.removeAttribute(a,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(lt(p2),lt(Su),function T3(t){return function mf(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const a=e[i];if(Kr(a))break;if(0===a)i+=2;else if("number"==typeof a)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(a===n)return e[i+1];i+=2}}}return null}(di(),t)}("tabindex"),lt(a2),lt(is),lt(J3))};static#t=this.\u0275dir=Lr({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&dn("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&k1("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Cn.HasDecoratorInputTransform,"preserveFragment","preserveFragment",ac],skipLocationChange:[Cn.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",ac],replaceUrl:[Cn.HasDecoratorInputTransform,"replaceUrl","replaceUrl",ac],routerLink:"routerLink"},standalone:!0,features:[eg,As]})}return t})();class AN{}let mce=(()=>{class t{constructor(e,r,i,a,s){this.router=e,this.injector=i,this.preloadingStrategy=a,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(g1(e=>e instanceof $l),xd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=i7(a.providers,e,`Route: ${a.path}`));const s=a._injector??e,l=a._loadedInjector??s;(a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent)&&i.push(this.preloadConfig(s,a)),(a.children||a._loadedRoutes)&&i.push(this.processRoutes(l,a.children??a._loadedRoutes))}return s1(i).pipe(ou())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):Zr(null);const a=i.pipe(v1(s=>null===s?Zr(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return r.loadComponent&&!r._loadedComponent?s1([a,this.loader.loadComponent(r)]).pipe(ou()):a})}static#e=this.\u0275fac=function(r){return new(r||t)(gn(p2),gn(uT),gn(Ts),gn(AN),gn(PC))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const FC=new kn("");let zN=(()=>{class t{constructor(e,r,i,a,s={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=Xn(Ts),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Kp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof $l?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof _u&&e.code===Qp.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof iN&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){var i=this;this.zone.runOutsideAngular(Zt(function*(){yield new Promise(a=>{setTimeout(()=>{a()}),Vv(()=>{a()},{injector:i.environmentInjector})}),i.zone.run(()=>{i.transitions.events.next(new iN(e,"popstate"===i.lastSource?i.store[i.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function bi(){throw new Error("invalid")}()};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})();function nl(t,n){return{\u0275kind:t,\u0275providers:n}}function EN(){const t=Xn(qi);return n=>{const e=t.get(Gc);if(n!==e.components[0])return;const r=t.get(p2),i=t.get(NN);1===t.get(OC)&&r.initialNavigation(),t.get(IN,null,Vr.Optional)?.setUpPreloading(),t.get(FC,null,Vr.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const NN=new kn("",{factory:()=>new yt}),OC=new kn("",{providedIn:"root",factory:()=>1}),IN=new kn("");function bce(t){return nl(0,[{provide:IN,useExisting:mce},{provide:AN,useExisting:t}])}function xce(t){return nl(9,[{provide:LN,useValue:tce},{provide:SN,useValue:{skipNextTransition:!!t?.skipInitialTransition,...t}}])}const PN=new kn("ROUTER_FORROOT_GUARD"),Mce=[q1,{provide:xu,useClass:hC},p2,Dd,{provide:Su,useFactory:function kN(t){return t.routerState.root},deps:[p2]},PC,[]];let RN=(()=>{class t{constructor(e){}static forRoot(e,r){return{ngModule:t,providers:[Mce,[],{provide:ku,multi:!0,useValue:e},{provide:PN,useFactory:Sce,deps:[[p2,new Go,new cl]]},{provide:zu,useValue:r||{}},r?.useHash?{provide:J3,useClass:fJ}:{provide:J3,useClass:eD},{provide:FC,useFactory:()=>{const t=Xn(Aq),n=Xn(Di),e=Xn(zu),r=Xn(rm),i=Xn(xu);return e.scrollOffset&&t.setOffset(e.scrollOffset),new zN(i,r,t,n,e)}},r?.preloadingStrategy?bce(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Tce(r):[],r?.bindToComponentInputs?nl(8,[fN,{provide:qp,useExisting:fN}]).\u0275providers:[],r?.enableViewTransitions?xce().\u0275providers:[],[{provide:FN,useFactory:EN},{provide:Hg,multi:!0,useExisting:FN}]]}}static forChild(e){return{ngModule:t,providers:[{provide:ku,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(r){return new(r||t)(gn(PN,8))};static#t=this.\u0275mod=Qi({type:t});static#n=this.\u0275inj=pr({})}return t})();function Sce(t){return"guarded"}function Tce(t){return["disabled"===t.initialNavigation?nl(3,[{provide:_7,multi:!0,useFactory:()=>{const n=Xn(p2);return()=>{n.setUpLocationChangeListener()}}},{provide:OC,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?nl(2,[{provide:OC,useValue:0},{provide:_7,multi:!0,deps:[qi],useFactory:n=>{const e=n.get(lJ,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const i=n.get(p2),a=n.get(NN);DN(i,()=>{r(!0)}),n.get(rm).afterPreactivation=()=>(r(!0),a.closed?Zr(void 0):a),i.initialNavigation()}))}}]).\u0275providers:[]]}const FN=new kn(""),QN={prefix:"far",iconName:"flag",icon:[448,512,[127988,61725],"f024","M48 24C48 10.7 37.3 0 24 0S0 10.7 0 24L0 64 0 350.5 0 400l0 88c0 13.3 10.7 24 24 24s24-10.7 24-24l0-100 80.3-20.1c41.1-10.3 84.6-5.5 122.5 13.4c44.2 22.1 95.5 24.8 141.7 7.4l34.7-13c12.5-4.7 20.8-16.6 20.8-30l0-279.7c0-23-24.2-38-44.8-27.7l-9.6 4.8c-46.3 23.2-100.8 23.2-147.1 0c-35.1-17.6-75.4-22-113.5-12.5L48 52l0-28zm0 77.5l96.6-24.2c27-6.7 55.5-3.6 80.4 8.8c54.9 27.4 118.7 29.7 175 6.8l0 241.8-24.4 9.1c-33.7 12.6-71.2 10.7-103.4-5.4c-48.2-24.1-103.3-30.1-155.6-17.1L48 338.5l0-237z"]},Pd={prefix:"fas",iconName:"file-lines",icon:[384,512,[128441,128462,61686,"file-alt","file-text"],"f15c","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-288-128 0c-17.7 0-32-14.3-32-32L224 0 64 0zM256 0l0 128 128 0L256 0zM112 256l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},YC={prefix:"fas",iconName:"table",icon:[512,512,[],"f0ce","M64 256l0-96 160 0 0 96L64 256zm0 64l160 0 0 96L64 416l0-96zm224 96l0-96 160 0 0 96-160 0zM448 256l-160 0 0-96 160 0 0 96zM64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32z"]},ZC={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},XC={prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24l0 112c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-112c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"]},wR={prefix:"fas",iconName:"sack-dollar",icon:[512,512,[128176],"f81d","M320 96L192 96 144.6 24.9C137.5 14.2 145.1 0 157.9 0L354.1 0c12.8 0 20.4 14.2 13.3 24.9L320 96zM192 128l128 0c3.8 2.5 8.1 5.3 13 8.4C389.7 172.7 512 250.9 512 416c0 53-43 96-96 96L96 512c-53 0-96-43-96-96C0 250.9 122.3 172.7 179 136.4c0 0 0 0 0 0s0 0 0 0c4.8-3.1 9.2-5.9 13-8.4zm84 88c0-11-9-20-20-20s-20 9-20 20l0 14c-7.6 1.7-15.2 4.4-22.2 8.5c-13.9 8.3-25.9 22.8-25.8 43.9c.1 20.3 12 33.1 24.7 40.7c11 6.6 24.7 10.8 35.6 14l1.7 .5c12.6 3.8 21.8 6.8 28 10.7c5.1 3.2 5.8 5.4 5.9 8.2c.1 5-1.8 8-5.9 10.5c-5 3.1-12.9 5-21.4 4.7c-11.1-.4-21.5-3.9-35.1-8.5c-2.3-.8-4.7-1.6-7.2-2.4c-10.5-3.5-21.8 2.2-25.3 12.6s2.2 21.8 12.6 25.3c1.9 .6 4 1.3 6.1 2.1c0 0 0 0 0 0s0 0 0 0c8.3 2.9 17.9 6.2 28.2 8.4l0 14.6c0 11 9 20 20 20s20-9 20-20l0-13.8c8-1.7 16-4.5 23.2-9c14.3-8.9 25.1-24.1 24.8-45c-.3-20.3-11.7-33.4-24.6-41.6c-11.5-7.2-25.9-11.6-37.1-15c0 0 0 0 0 0l-.7-.2c-12.8-3.9-21.9-6.7-28.3-10.5c-5.2-3.1-5.3-4.9-5.3-6.7c0-3.7 1.4-6.5 6.2-9.3c5.4-3.2 13.6-5.1 21.5-5c9.6 .1 20.2 2.2 31.2 5.2c10.7 2.8 21.6-3.5 24.5-14.2s-3.5-21.6-14.2-24.5c-6.5-1.7-13.7-3.4-21.1-4.7l0-13.9z"]},um={prefix:"fas",iconName:"chart-area",icon:[512,512,["area-chart"],"f1fe","M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64L0 400c0 44.2 35.8 80 80 80l400 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 416c-8.8 0-16-7.2-16-16L64 64zm96 288l288 0c17.7 0 32-14.3 32-32l0-68.2c0-7.6-2.7-15-7.7-20.8l-65.8-76.8c-12.1-14.2-33.7-15-46.9-1.8l-21 21c-10 10-26.4 9.2-35.4-1.6l-39.2-47c-12.6-15.1-35.7-15.4-48.7-.6L135.9 215c-5.1 5.8-7.9 13.3-7.9 21.1l0 84c0 17.7 14.3 32 32 32z"]},KR={prefix:"fas",iconName:"shuffle",icon:[512,512,[128256,"random"],"f074","M403.8 34.4c12-5 25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6l0-32-32 0c-10.1 0-19.6 4.7-25.6 12.8L284 229.3 244 176l31.2-41.6C293.3 110.2 321.8 96 352 96l32 0 0-32c0-12.9 7.8-24.6 19.8-29.6zM164 282.7L204 336l-31.2 41.6C154.7 401.8 126.2 416 96 416l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c10.1 0 19.6-4.7 25.6-12.8L164 282.7zm274.6 188c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6l0-32-32 0c-30.2 0-58.7-14.2-76.8-38.4L121.6 172.8c-6-8.1-15.5-12.8-25.6-12.8l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c30.2 0 58.7 14.2 76.8 38.4L326.4 339.2c6 8.1 15.5 12.8 25.6 12.8l32 0 0-32c0-12.9 7.8-24.6 19.8-29.6s25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64z"]},JC={prefix:"fas",iconName:"weight-hanging",icon:[512,512,[],"f5cd","M224 96a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm122.5 32c3.5-10 5.5-20.8 5.5-32c0-53-43-96-96-96s-96 43-96 96c0 11.2 1.9 22 5.5 32L120 128c-22 0-41.2 15-46.6 36.4l-72 288c-3.6 14.3-.4 29.5 8.7 41.2S33.2 512 48 512l416 0c14.8 0 28.7-6.8 37.8-18.5s12.3-26.8 8.7-41.2l-72-288C433.2 143 414 128 392 128l-45.5 0z"]},cx={prefix:"fas",iconName:"layer-group",icon:[576,512,[],"f5fd","M264.5 5.2c14.9-6.9 32.1-6.9 47 0l218.6 101c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 149.8C37.4 145.8 32 137.3 32 128s5.4-17.9 13.9-21.8L264.5 5.2zM476.9 209.6l53.2 24.6c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 277.8C37.4 273.8 32 265.3 32 256s5.4-17.9 13.9-21.8l53.2-24.6 152 70.2c23.4 10.8 50.4 10.8 73.8 0l152-70.2zm-152 198.2l152-70.2 53.2 24.6c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 405.8C37.4 401.8 32 393.3 32 384s5.4-17.9 13.9-21.8l53.2-24.6 152 70.2c23.4 10.8 50.4 10.8 73.8 0z"]},wO={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.9 54.9C10.5 40.9 24.5 32 40 32l432 0c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9 320 448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6l0-79.1L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"]},dx={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},xB={prefix:"fas",iconName:"user-gear",icon:[640,512,["user-cog"],"f4fe","M224 0a128 128 0 1 1 0 256A128 128 0 1 1 224 0zM178.3 304l91.4 0c11.8 0 23.4 1.2 34.5 3.3c-2.1 18.5 7.4 35.6 21.8 44.8c-16.6 10.6-26.7 31.6-20 53.3c4 12.9 9.4 25.5 16.4 37.6s15.2 23.1 24.4 33c15.7 16.9 39.6 18.4 57.2 8.7l0 .9c0 9.2 2.7 18.5 7.9 26.3L29.7 512C13.3 512 0 498.7 0 482.3C0 383.8 79.8 304 178.3 304zM436 218.2c0-7 4.5-13.3 11.3-14.8c10.5-2.4 21.5-3.7 32.7-3.7s22.2 1.3 32.7 3.7c6.8 1.5 11.3 7.8 11.3 14.8l0 30.6c7.9 3.4 15.4 7.7 22.3 12.8l24.9-14.3c6.1-3.5 13.7-2.7 18.5 2.4c7.6 8.1 14.3 17.2 20.1 27.2s10.3 20.4 13.5 31c2.1 6.7-1.1 13.7-7.2 17.2l-25 14.4c.4 4 .7 8.1 .7 12.3s-.2 8.2-.7 12.3l25 14.4c6.1 3.5 9.2 10.5 7.2 17.2c-3.3 10.6-7.8 21-13.5 31s-12.5 19.1-20.1 27.2c-4.8 5.1-12.5 5.9-18.5 2.4l-24.9-14.3c-6.9 5.1-14.3 9.4-22.3 12.8l0 30.6c0 7-4.5 13.3-11.3 14.8c-10.5 2.4-21.5 3.7-32.7 3.7s-22.2-1.3-32.7-3.7c-6.8-1.5-11.3-7.8-11.3-14.8l0-30.5c-8-3.4-15.6-7.7-22.5-12.9l-24.7 14.3c-6.1 3.5-13.7 2.7-18.5-2.4c-7.6-8.1-14.3-17.2-20.1-27.2s-10.3-20.4-13.5-31c-2.1-6.7 1.1-13.7 7.2-17.2l24.8-14.3c-.4-4.1-.7-8.2-.7-12.4s.2-8.3 .7-12.4L343.8 325c-6.1-3.5-9.2-10.5-7.2-17.2c3.3-10.6 7.7-21 13.5-31s12.5-19.1 20.1-27.2c4.8-5.1 12.4-5.9 18.5-2.4l24.8 14.3c6.9-5.1 14.5-9.4 22.5-12.9l0-30.5zm92.1 133.5a48.1 48.1 0 1 0 -96.1 0 48.1 48.1 0 1 0 96.1 0z"]},SB={prefix:"fas",iconName:"arrow-left",icon:[448,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},gx={prefix:"fas",iconName:"lungs",icon:[640,512,[129729],"f604","M320 0c17.7 0 32 14.3 32 32l0 132.1c0 16.4 8.4 31.7 22.2 40.5l9.8 6.2 0-45.5C384 127 415 96 453.3 96c21.7 0 42.8 10.2 55.8 28.8c15.4 22.1 44.3 65.4 71 116.9c26.5 50.9 52.4 112.5 59.6 170.3c.2 1.3 .2 2.6 .2 4l0 7c0 49.1-39.8 89-89 89c-7.3 0-14.5-.9-21.6-2.7l-72.7-18.2C414 480.5 384 442.1 384 398l0-73 90.5 57.6c7.5 4.7 17.3 2.5 22.1-4.9s2.5-17.3-4.9-22.1L384 287.1l0-.4-44.1-28.1c-7.3-4.6-13.9-10.1-19.9-16.1c-5.9 6-12.6 11.5-19.9 16.1L256 286.7 161.2 347l-13.5 8.6c0 0 0 0-.1 0c-7.4 4.8-9.6 14.6-4.8 22.1c4.7 7.5 14.6 9.7 22.1 4.9l91.1-58 0 73.4c0 44.1-30 82.5-72.7 93.1l-72.7 18.2c-7.1 1.8-14.3 2.7-21.6 2.7c-49.1 0-89-39.8-89-89l0-7c0-1.3 .1-2.7 .2-4c7.2-57.9 33.1-119.4 59.6-170.3c26.8-51.5 55.6-94.8 71-116.9c13-18.6 34-28.8 55.8-28.8C225 96 256 127 256 165.3l0 45.5 9.8-6.2c13.8-8.8 22.2-24.1 22.2-40.5L288 32c0-17.7 14.3-32 32-32z"]},VB={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},Eu={prefix:"fas",iconName:"minus",icon:[448,512,[8211,8722,10134,"subtract"],"f068","M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z"]},nH={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},xx={prefix:"fas",iconName:"faucet",icon:[512,512,[],"e005","M192 96l0 12L96 96c-17.7 0-32 14.3-32 32s14.3 32 32 32l96-12 31-3.9 1-.1 1 .1 31 3.9 96 12c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 12 0-12c0-17.7-14.3-32-32-32s-32 14.3-32 32zM32 256c-17.7 0-32 14.3-32 32l0 64c0 17.7 14.3 32 32 32l100.1 0c20.2 29 53.9 48 91.9 48s71.7-19 91.9-48l36.1 0c17.7 0 32 14.3 32 32s14.3 32 32 32l64 0c17.7 0 32-14.3 32-32c0-88.4-71.6-160-160-160l-32 0-22.6-22.6c-6-6-14.1-9.4-22.6-9.4L256 224l0-43.8-32-4-32 4 0 43.8-18.7 0c-8.5 0-16.6 3.4-22.6 9.4L128 256l-96 0z"]},gm={prefix:"fas",iconName:"battery-half",icon:[576,512,["battery-3"],"f242","M464 160c8.8 0 16 7.2 16 16l0 160c0 8.8-7.2 16-16 16L80 352c-8.8 0-16-7.2-16-16l0-160c0-8.8 7.2-16 16-16l384 0zM80 96C35.8 96 0 131.8 0 176L0 336c0 44.2 35.8 80 80 80l384 0c44.2 0 80-35.8 80-80l0-16c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l0-16c0-44.2-35.8-80-80-80L80 96zm208 96L96 192l0 128 192 0 0-128z"]},ym={prefix:"fas",iconName:"sliders",icon:[512,512,["sliders-h"],"f1de","M0 416c0 17.7 14.3 32 32 32l54.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 448c17.7 0 32-14.3 32-32s-14.3-32-32-32l-246.7 0c-12.3-28.3-40.5-48-73.3-48s-61 19.7-73.3 48L32 384c-17.7 0-32 14.3-32 32zm128 0a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zM320 256a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm32-80c-32.8 0-61 19.7-73.3 48L32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l246.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48l54.7 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-54.7 0c-12.3-28.3-40.5-48-73.3-48zM192 128a32 32 0 1 1 0-64 32 32 0 1 1 0 64zm73.3-64C253 35.7 224.8 16 192 16s-61 19.7-73.3 48L32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l86.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 128c17.7 0 32-14.3 32-32s-14.3-32-32-32L265.3 64z"]},vH={prefix:"fas",iconName:"calculator",icon:[384,512,[128425],"f1ec","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-384c0-35.3-28.7-64-64-64L64 0zM96 64l192 0c17.7 0 32 14.3 32 32l0 32c0 17.7-14.3 32-32 32L96 160c-17.7 0-32-14.3-32-32l0-32c0-17.7 14.3-32 32-32zm32 160a32 32 0 1 1 -64 0 32 32 0 1 1 64 0zM96 352a32 32 0 1 1 0-64 32 32 0 1 1 0 64zM64 416c0-17.7 14.3-32 32-32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-96 0c-17.7 0-32-14.3-32-32zM192 256a32 32 0 1 1 0-64 32 32 0 1 1 0 64zm32 64a32 32 0 1 1 -64 0 32 32 0 1 1 64 0zm64-64a32 32 0 1 1 0-64 32 32 0 1 1 0 64zm32 64a32 32 0 1 1 -64 0 32 32 0 1 1 64 0zM288 448a32 32 0 1 1 0-64 32 32 0 1 1 0 64z"]},Fd={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1l-32 0 .7 160.2c0 2.7-.2 5.4-.5 8.1l0 16.2c0 22.1-17.9 40-40 40l-16 0c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1L416 512l-24 0c-22.1 0-40-17.9-40-40l0-24 0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32l0 64 0 24c0 22.1-17.9 40-40 40l-24 0-31.9 0c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2l-16 0c-22.1 0-40-17.9-40-40l0-112c0-.9 0-1.9 .1-2.8l0-69.7-32 0c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]},Sx={prefix:"fas",iconName:"mountain-sun",icon:[640,512,[],"e52f","M560 160A80 80 0 1 0 560 0a80 80 0 1 0 0 160zM55.9 512l325.2 0 75 0 122.8 0c33.8 0 61.1-27.4 61.1-61.1c0-11.2-3.1-22.2-8.9-31.8l-132-216.3C495 196.1 487.8 192 480 192s-15 4.1-19.1 10.7l-48.2 79L286.8 81c-6.6-10.6-18.3-17-30.8-17s-24.1 6.4-30.8 17L8.6 426.4C3 435.3 0 445.6 0 456.1C0 487 25 512 55.9 512z"]},Tx={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},Px={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2 160 448c0 17.7 14.3 32 32 32s32-14.3 32-32l0-306.7L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]},Fx={prefix:"fas",iconName:"list-check",icon:[512,512,["tasks"],"f0ae","M152.1 38.2c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L7 113C-2.3 103.6-2.3 88.4 7 79s24.6-9.4 33.9 0l22.1 22.1 55.1-61.2c8.9-9.9 24-10.7 33.9-1.8zm0 160c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L7 273c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l22.1 22.1 55.1-61.2c8.9-9.9 24-10.7 33.9-1.8zM224 96c0-17.7 14.3-32 32-32l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32zm0 160c0-17.7 14.3-32 32-32l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32zM160 416c0-17.7 14.3-32 32-32l288 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-288 0c-17.7 0-32-14.3-32-32zM48 368a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},Bx={prefix:"fas",iconName:"share-from-square",icon:[576,512,[61509,"share-square"],"f14d","M352 224l-46.5 0c-45 0-81.5 36.5-81.5 81.5c0 22.3 10.3 34.3 19.2 40.5c6.8 4.7 12.8 12 12.8 20.3c0 9.8-8 17.8-17.8 17.8l-2.5 0c-2.4 0-4.8-.4-7.1-1.4C210.8 374.8 128 333.4 128 240c0-79.5 64.5-144 144-144l80 0 0-61.3C352 15.5 367.5 0 386.7 0c8.6 0 16.8 3.2 23.2 8.9L548.1 133.3c7.6 6.8 11.9 16.5 11.9 26.7s-4.3 19.9-11.9 26.7l-139 125.1c-5.9 5.3-13.5 8.2-21.4 8.2l-3.7 0c-17.7 0-32-14.3-32-32l0-64zM80 96c-8.8 0-16 7.2-16 16l0 320c0 8.8 7.2 16 16 16l320 0c8.8 0 16-7.2 16-16l0-48c0-17.7 14.3-32 32-32s32 14.3 32 32l0 48c0 44.2-35.8 80-80 80L80 512c-44.2 0-80-35.8-80-80L0 112C0 67.8 35.8 32 80 32l48 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L80 96z"]},Bd={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]},Mm={prefix:"fas",iconName:"percent",icon:[384,512,[62101,62785,"percentage"],"25","M374.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-320 320c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l320-320zM128 128A64 64 0 1 0 0 128a64 64 0 1 0 128 0zM384 384a64 64 0 1 0 -128 0 64 64 0 1 0 128 0z"]},Hx={prefix:"fas",iconName:"rotate",icon:[512,512,[128260,"sync-alt"],"f2f1","M142.9 142.9c-17.5 17.5-30.1 38-37.8 59.8c-5.9 16.7-24.2 25.4-40.8 19.5s-25.4-24.2-19.5-40.8C55.6 150.7 73.2 122 97.6 97.6c87.2-87.2 228.3-87.5 315.8-1L455 55c6.9-6.9 17.2-8.9 26.2-5.2s14.8 12.5 14.8 22.2l0 128c0 13.3-10.7 24-24 24l-8.4 0c0 0 0 0 0 0L344 224c-9.7 0-18.5-5.8-22.2-14.8s-1.7-19.3 5.2-26.2l41.1-41.1c-62.6-61.5-163.1-61.2-225.3 1zM16 312c0-13.3 10.7-24 24-24l7.6 0 .7 0L168 288c9.7 0 18.5 5.8 22.2 14.8s1.7 19.3-5.2 26.2l-41.1 41.1c62.6 61.5 163.1 61.2 225.3-1c17.5-17.5 30.1-38 37.8-59.8c5.9-16.7 24.2-25.4 40.8-19.5s25.4 24.2 19.5 40.8c-10.8 30.6-28.4 59.3-52.9 83.8c-87.2 87.2-228.3 87.5-315.8 1L57 457c-6.9 6.9-17.2 8.9-26.2 5.2S16 449.7 16 440l0-119.6 0-.7 0-7.6z"]},m4={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]};var v4=cs(376),_o=cs.n(v4),m2=function(t){return t[t.fresh=1]="fresh",t[t.brackish=2]="brackish",t[t.salt=3]="salt",t}(m2||{});let Lm=(()=>{class t{static#e=this.fresh=1e3;static#t=this.brackish=1020;static#n=this.salt=1030}return t})(),OU=(()=>{class t{static#e=this.standard=9.80665}return t})(),g4=(()=>{class t{static#e=this.coefficient=1e5;static pascalToBar(e){return e/t.coefficient}static barToPascal(e){return e*t.coefficient}}return t})();class _s{static#e=this.standard=1.01325;static#t=this.standardPascals=g4.barToPascal(_s.standard);static#n=this.gasConstant=8.31432;static#r=this.temperature=288.15;static#i=this.lapsRate=-.0065;static#a=this.molarMass=.0289644;static#s=this.exponent=OU.standard*_s.molarMass/(_s.gasConstant*_s.lapsRate);static#o=this.invertedExponent=1/_s.exponent;static pressure(n){return _s.standardPascals*Math.pow(_s.temperature/(_s.temperature+_s.lapsRate*n),_s.exponent)}static altitude(n){if(n>=_s.standardPascals)return 0;const r=Math.pow(n/_s.standardPascals,_s.invertedExponent);return(_s.temperature/r-_s.temperature)/_s.lapsRate}}class Uze{constructor(){this.altitudeDepth=20,this._altitude=300,this._pressure=this.toPressure(this.altitude)}get pressure(){return this._pressure}get altitude(){return this._altitude}get theoreticalDepth(){return this.altitudeDepth*(_s.standard/this.pressure)}set pressure(n){this._pressure=n,this._altitude=this.toAltitude(n)}set altitude(n){this._altitude=n,this._pressure=this.toPressure(n)}toAltitude(n){const e=g4.barToPascal(n);return _s.altitude(e)}toPressure(n){const e=_s.pressure(n);return g4.pascalToBar(e)}}class I1{constructor(n,e,r,i,a,s){this._n2HalfTime=n,this._n2A=e,this._n2B=r,this._heHalfTime=i,this._heA=a,this._heB=s}get n2HalfTime(){return this._n2HalfTime}get n2A(){return this._n2A}get n2B(){return this._n2B}get heHalfTime(){return this._heHalfTime}get heA(){return this._heA}get heB(){return this._heB}}class Gd{static#e=this.buhlmannZHL16C=[new I1(5,1.1696,.5578,1.88,1.6189,.477),new I1(8,1,.6514,3.02,1.383,.5747),new I1(12.5,.8618,.7222,4.72,1.1919,.6527),new I1(18.5,.7562,.7826,6.99,1.0458,.7223),new I1(27,.62,.8125,10.21,.922,.7582),new I1(38.3,.5043,.8434,14.48,.8205,.7957),new I1(54.3,.441,.8693,20.53,.7305,.8279),new I1(77,.4,.891,29.11,.6502,.8553),new I1(109,.375,.9092,41.2,.595,.8757),new I1(146,.35,.9222,55.19,.5545,.8903),new I1(187,.3295,.9319,70.69,.5333,.8997),new I1(239,.3065,.9403,90.34,.5189,.9073),new I1(305,.2835,.9477,115.29,.5181,.9122),new I1(390,.261,.9544,147.42,.5176,.9171),new I1(498,.248,.9602,188.24,.5172,.9217),new I1(635,.2327,.9653,240.03,.5119,.9267)]}class aa{static#e=this.o2InAir=.209;static#t=this.nitroxInAir=1-aa.o2InAir;static#n=this.minPpO2=.18;static#r=this.maxEnd=30;static partialPressure(n,e){return n*e}static mod(n,e){return n/e}static bestMix(n,e,r){const a=n/r.toBar(e);return a>1?1:a}static ead(n,e,r=aa.o2InAir){const a=1-r;return aa.end(e,1-n)/a}static end(n,e,r=0){return n*this.narcoticIndex(r,e)}static mnd(n,e,r=0){return n/this.narcoticIndex(r,e)}static ceiling(n,e){const i=aa.minPpO2/n*e;return i<e?e:i}static narcoticIndex(n,e=0){return e+n}}class $d extends I1{constructor(n,e){super(n.n2HalfTime,n.n2A,n.n2B,n.heHalfTime,n.heA,n.heB),this._pN2=0,this._pHe=0,this._pTotal=0,this._a=0,this._b=0;const r=this.pressureInLungs(e);this._pN2=aa.partialPressure(r,aa.nitroxInAir),this._pHe=0,this.updateTotal()}get pN2(){return this._pN2}get pHe(){return this._pHe}get pTotal(){return this._pTotal}get a(){return this._a}get b(){return this._b}static fromCurrent(n,e){const r=new $d(e,1);return r._pN2=n.pN2,r._pHe=n.pHe,r._a=n.a,r._b=n.b,r.updateTotal(),r}copy(){return $d.fromCurrent(this,this)}ceiling(n){return(this.pTotal-this.a*n)/(n/this.b+1-n)}load(n,e){this._pN2=this.loadGas(n,e.fN2,this.pN2,this.n2HalfTime),this._pHe=this.loadGas(n,e.fHe,this.pHe,this.heHalfTime);const r=this.pTotal;return this.updateTotal(),this._a=(this.n2A*this.pN2+this.heA*this.pHe)/this.pTotal,this._b=(this.n2B*this.pN2+this.heB*this.pHe)/this.pTotal,this.pTotal-r}loadGas(n,e,r,i){const a=n.speed*e,s=this.pressureInLungs(n.startPressure)*e;return this.schreinerEquation(r,s,n.duration,i,a)}pressureInLungs(n){return n-.0627}schreinerEquation(n,e,r,i,a){const l=.01155245301/i;return e+a*(r-1/l)-(e-n-a/l)*Math.exp(-l*r)}updateTotal(){this._pTotal=this.pN2+this.pHe}}class rl{constructor(n){this._compartments=n}get compartments(){return this._compartments}static createLoaded(n){if(n.length!==Gd.buhlmannZHL16C.length)throw new Error("Provided incompatible count of tissues");const e=v4(n).map((r,i)=>$d.fromCurrent(r,Gd.buhlmannZHL16C[i])).value();return new rl(e)}static create(n){const e=[];for(let r=0;r<Gd.buhlmannZHL16C.length;r++){const a=new $d(Gd.buhlmannZHL16C[r],n);e.push(a)}return new rl(e)}static createLoadedAt(n){const e=_s.pressure(n),r=g4.pascalToBar(e);return rl.create(r).finalState()}static copy(n){const e=[];for(let r=0;r<n.length;r++){const i=n[r].copy();e.push(i)}return e}restoreFrom(n){this._compartments=rl.copy(n)}finalState(){return rl.copy(this._compartments)}ceiling(n){let e=0;for(let r=0;r<this._compartments.length;r++){const i=this._compartments[r].ceiling(n);i>e&&(e=i)}return e}load(n,e){let r=0;for(let i=0;i<this._compartments.length;i++)r+=this._compartments[i].load(n,e);return r}}class Wd{static validTissue(n){return n.pN2>0&&n.pHe>=0&&n.a>=0&&n.b>=0}static validCount(n){return!!n&&n.length===Gd.buhlmannZHL16C.length}static valid(n){return!!Wd.validCount(n)&&v4(n).every(r=>Wd.validTissue(r))}}class xn{static fix(n){return Number(n.toFixed(10))}static roundTwoDecimals(n){return xn.round(n,2)}static round(n,e=0){return xn.adapt(Math.round,n,e)}static floorTwoDecimals(n){return xn.floor(n,2)}static floor(n,e=0){return xn.adapt(Math.floor,n,e)}static ceilTwoDecimals(n){return xn.ceil(n,2)}static ceil(n,e=0){return xn.adapt(Math.ceil,n,e)}static ceilDistance(n,e){return xn.adaptDistance(Math.ceil,n,e)}static roundDistance(n,e){return xn.adaptDistance(Math.round,n,e)}static floorDistance(n,e){return xn.adaptDistance(Math.floor,n,e)}static adapt(n,e,r){const i=Math.pow(10,r);return n(e*i)/i}static adaptDistance(n,e,r){return n(e/r)*r}}class Nu{constructor(n){this.options=n}create(){switch(this.options.salinity){case m2.salt:return Lo.forSaltWater(this.options.altitude);case m2.brackish:return Lo.forBrackishWater(this.options.altitude);default:return Lo.forFreshWater(this.options.altitude)}}}class Lo{constructor(n,e){this.density=n,this._gravity=OU.standard;const r=_s.pressure(e);this._surfacePressure=g4.pascalToBar(r)}get surfacePressure(){return this._surfacePressure}static forSaltWater(n=0){return new Lo(Lm.salt,n)}static forBrackishWater(n=0){return new Lo(Lm.brackish,n)}static forFreshWater(n=0){return new Lo(Lm.fresh,n)}static simple(){const n=new Lo(Lm.fresh,0);return n._surfacePressure=1,n._gravity=10,n}toBar(n){return g4.pascalToBar(n*(this.density*this._gravity))+this._surfacePressure}fromBar(n){if(n<this._surfacePressure)throw new Error("Lower pressure than altitude isn`t convertible to depth.");const e=this.density*this._gravity;return g4.barToPascal(n-this._surfacePressure)/e}}var dc=function(t){return t[t.never=1]="never",t[t.auto=2]="auto",t[t.always=3]="always",t}(dc||{});class Xr{static#e=this.altitude=0;static#t=this.saltWater=m2.salt;static#n=this.roundStopsToMinutes=!1;static#r=this.gasSwitchDuration=2;static#i=this.problemSolvingDuration=1;static#a=this.lastStopDepth=3;static#s=this.lastStopDepthRecre=5;static#o=this.safetyStopRecre=dc.auto;static#c=this.decoStopDistance=3;static#l=this.minimumAutoStopDepth=10;static#u=this.addSafetyStop=!0;static#f=this.maxEND=aa.maxEnd;static#d=this.oxygenNarcotic=!0;static#h=this.ascentSpeed6m=3;static#p=this.ascentSpeed50percTo6m=3;static#m=this.ascentSpeed50perc=9;static#v=this.descentSpeed=18;static#g=this.gfLow=.4;static#y=this.gfHigh=.85;static#b=this.maxPpO2=1.4;static#C=this.maxDecoPpO2=1.6;static#x=this.airBreakOxygenDuration=20;static#M=this.airBreakBottomGasDuration=5;static setMediumConservatism(n){n.gfLow=Xr.gfLow,n.gfHigh=Xr.gfHigh}static useGeneralRecommended(n){n.safetyStop=Xr.safetyStopRecre,n.roundStopsToMinutes=Xr.roundStopsToMinutes,n.gasSwitchDuration=Xr.gasSwitchDuration,n.oxygenNarcotic=Xr.oxygenNarcotic}}class Gze{constructor(n=!1,e=Xr.airBreakOxygenDuration,r=Xr.airBreakBottomGasDuration){this.enabled=n,this.oxygenDuration=e,this.bottomGasDuration=r}loadFrom(n){this.enabled=n.enabled,this.oxygenDuration=n.oxygenDuration,this.bottomGasDuration=n.bottomGasDuration}}class Iu{constructor(n=Xr.gfLow,e=Xr.gfHigh,r=Xr.maxPpO2,i=Xr.maxDecoPpO2,a=Xr.saltWater){this.gfLow=n,this.gfHigh=e,this.maxPpO2=r,this.maxDecoPpO2=i,this.salinity=a,this.altitude=Xr.altitude,this.roundStopsToMinutes=Xr.roundStopsToMinutes,this.gasSwitchDuration=Xr.gasSwitchDuration,this.safetyStop=Xr.safetyStopRecre,this.lastStopDepth=Xr.lastStopDepth,this.decoStopDistance=Xr.decoStopDistance,this.minimumAutoStopDepth=Xr.minimumAutoStopDepth,this.maxEND=Xr.maxEND,this.oxygenNarcotic=!0,this.ascentSpeed6m=Xr.ascentSpeed6m,this.ascentSpeed50percTo6m=Xr.ascentSpeed50percTo6m,this.ascentSpeed50perc=Xr.ascentSpeed50perc,this.descentSpeed=Xr.descentSpeed,this.problemSolvingDuration=Xr.problemSolvingDuration,this._airBreaks=new Gze,this.gfLow=n||Xr.gfLow,this.gfHigh=e||Xr.gfHigh,this.maxPpO2=r||Xr.maxPpO2,this.maxDecoPpO2=i||Xr.maxDecoPpO2,this.salinity=a||Xr.saltWater}get airBreaks(){return this._airBreaks}loadFrom(n){this.gfLow=n.gfLow||this.gfLow,this.gfHigh=n.gfHigh||this.gfHigh,this.maxPpO2=n.maxPpO2||this.maxPpO2,this.maxDecoPpO2=n.maxDecoPpO2||this.maxDecoPpO2,this.oxygenNarcotic=n.oxygenNarcotic,this.salinity=n.salinity||this.salinity,this.altitude=n.altitude||0===n.altitude?n.altitude:this.altitude,this.roundStopsToMinutes=n.roundStopsToMinutes,this.gasSwitchDuration=n.gasSwitchDuration||this.gasSwitchDuration,this.problemSolvingDuration=n.problemSolvingDuration||this.problemSolvingDuration,this.lastStopDepth=n.lastStopDepth||this.lastStopDepth,this.decoStopDistance=n.decoStopDistance||this.decoStopDistance,this.minimumAutoStopDepth=n.minimumAutoStopDepth||this.minimumAutoStopDepth,this.safetyStop=n.safetyStop||this.safetyStop,this.maxEND=n.maxEND||this.maxEND,this.ascentSpeed6m=n.ascentSpeed6m||this.ascentSpeed6m,this.ascentSpeed50percTo6m=n.ascentSpeed50percTo6m||this.ascentSpeed50percTo6m,this.ascentSpeed50perc=n.ascentSpeed50perc||this.ascentSpeed50perc,this.descentSpeed=n.descentSpeed||this.descentSpeed,this.airBreaks.loadFrom(n.airBreaks)}}class Sm{constructor(n,e){this.depthConverter=n,this.options=e}toDecoStop(n){const e=this.depthConverter.fromBar(n);return xn.roundDistance(e,this.options.decoStopDistance)}nextStop(n){if(n<=this.options.lastStopDepth)return 0;const e=xn.floorDistance(n,this.options.decoStopDistance);if(e!==n)return e;const r=n-this.options.decoStopDistance;return r<=this.options.lastStopDepth?this.options.lastStopDepth:r}addSafetyStop(n,e){return(this.options.safetyStop===dc.always||this.options.safetyStop===dc.auto&&e>this.options.minimumAutoStopDepth)&&n===this.options.lastStopDepth}}var ai=function(t){return t[t.noAction=0]="noAction",t[t.error=1]="error",t[t.gasSwitch=2]="gasSwitch",t[t.noDecoEnd=3]="noDecoEnd",t[t.lowPpO2=4]="lowPpO2",t[t.highPpO2=5]="highPpO2",t[t.highAscentSpeed=6]="highAscentSpeed",t[t.highDescentSpeed=7]="highDescentSpeed",t[t.brokenCeiling=8]="brokenCeiling",t[t.maxEndExceeded=9]="maxEndExceeded",t[t.isobaricCounterDiffusion=10]="isobaricCounterDiffusion",t[t.highGasDensity=11]="highGasDensity",t[t.safetyStop=12]="safetyStop",t[t.minDepth=13]="minDepth",t[t.maxDepth=14]="maxDepth",t[t.missingAirBreak=15]="missingAirBreak",t}(ai||{});class c1{constructor(n,e,r,i,a){this.timeStamp=n,this.depth=e,this.type=r,this.message=i,this.gas=a}static create(n,e,r,i){return new c1(e,r,n,"",i)}static createError(n){return new c1(0,0,ai.error,n)}}class l1{static createError(n){return c1.createError(n)}static createSafetyStopStart(n,e){return c1.create(ai.safetyStop,n,e)}static createNoDecoEnd(n,e){return c1.create(ai.noDecoEnd,n,e)}static createGasSwitch(n,e,r){return c1.create(ai.gasSwitch,n,e,r)}static createLowPpO2(n,e){return c1.create(ai.lowPpO2,n,e)}static createHighPpO2(n,e){return c1.create(ai.highPpO2,n,e)}static createHighAscentSpeed(n,e){return c1.create(ai.highAscentSpeed,n,e)}static createHighDescentSpeed(n,e){return c1.create(ai.highDescentSpeed,n,e)}static createBrokenCeiling(n,e){return c1.create(ai.brokenCeiling,n,e)}static createMaxEndExceeded(n,e,r){return c1.create(ai.maxEndExceeded,n,e,r)}static createIsobaricCounterDiffusion(n,e,r){return c1.create(ai.isobaricCounterDiffusion,n,e,r)}static createHighDensity(n,e,r){return c1.create(ai.highGasDensity,n,e,r)}static createShallowDepth(n){return c1.create(ai.minDepth,0,n)}static createMaxDepth(n){return c1.create(ai.maxDepth,0,n)}static createMissingAirBreak(n,e){return c1.create(ai.missingAirBreak,n,e)}}class BU{constructor(){this.items=[]}add(n){this.items.push(n)}}class $ze{constructor(n,e){this.time=n,this.depth=e}get notAtSurface(){return this.depth>0}static isDecoDive(n){for(const e of n)if(e.notAtSurface)return!0;return!1}}class y4{constructor(n,e,r,i){this.seg=n,this.ceil=e,this.tiss=r,this.err=i}get segments(){return this.seg}get ceilings(){return this.ceil}get tissues(){return this.tiss}get errors(){return this.err}static fromErrors(n,e){return new y4(n,[],[],e)}static fromProfile(n,e,r){return new y4(n,e,r,[])}}class Wze{static validate(n){const e=[];if(!n.hasBottomGas){const r=l1.createError("At least one bottom gas has to be defined.");return e.push(r),e}return e}}class jze{constructor(n,e){this.gases=n,this.depthConverter=Lo.simple(),this.depthLevels=new Sm(this.depthConverter,e)}bestGas(n){const e=this.depthConverter.toBar(n.currentDepth),r=this.depthConverter.toBar(n.maxEnd);let i=n.currentGas;return this.gases.all.forEach(a=>{const s=a.mod(n.maxDecoPpO2),l=this.depthLevels.toDecoStop(s),x=a.end(e,n.oxygenNarcotic);n.currentDepth<=l&&x<=r&&(!i||i.fO2<a.fO2)&&(i=a)}),i}airBreakGas(n,e){const r=this.depthConverter.toBar(n);return v4(this.gases.all).filter(a=>aa.partialPressure(r,a.fO2)>=aa.minPpO2).minBy(a=>a.fO2)||e}}class b4{constructor(){this.items=[]}get all(){return this.items.slice()}get hasBottomGas(){return this.items.length>=1}static fromTanks(n){const e=new b4;return n.forEach(r=>{e.add(r.gas)}),e}add(n){this.items.push(n)}isRegistered(n){return this.items.includes(n)}}class ms{constructor(n,e){if(this._fO2=n,this._fHe=e,this._contentCode=0,this.contentExceeds100percent())throw new Error("O2 + He can't exceed 100 %");this.updateContentCode()}get fN2(){return 1-this._fO2-this._fHe}get fO2(){return this._fO2}get fHe(){return this._fHe}get name(){return ms.nameFor(this.fO2,this.fHe)}get contentCode(){return this._contentCode}set fO2(n){this._fO2=n>1?1:n,this.contentExceeds100percent()&&(this._fHe=this.countRemaining(this._fO2)),this.updateContentCode()}set fHe(n){this._fHe=n>.99?.99:n,this.contentExceeds100percent()&&(this._fO2=this.countRemaining(this._fHe)),this.updateContentCode()}static init(n,e){ms.nameFor=n,ms.byName=e}copy(){return new ms(this._fO2,this._fHe)}mod(n){return aa.mod(n,this._fO2)}end(n,e){return aa.end(n,this.fN2,e?this._fO2:0)}mnd(n,e){return aa.mnd(n,this.fN2,e?this._fO2:0)}ceiling(n){return aa.ceiling(this._fO2,n)}compositionEquals(n){return!!n&&this._fO2===n._fO2&&this._fHe===n._fHe}assignStandardGas(n){const e=ms.byName(n);e&&(this.fO2=e.fO2,this.fHe=e.fHe)}contentExceeds100percent(){return this._fO2+this._fHe>1}countRemaining(n){return xn.round(1-n,5)}updateContentCode(){this._contentCode=xn.round(1e4*this._fO2*1e4)+xn.round(1e4*this._fHe)}}class Mi{static#e=this.oxygen=new ms(1,0);static#t=this.ean50=new ms(.5,0);static#n=this.ean38=new ms(.38,0);static#r=this.ean36=new ms(.36,0);static#i=this.ean32=new ms(.32,0);static#a=this.trimix3525=new ms(.35,.25);static#s=this.trimix2525=new ms(.25,.25);static#o=this.air=new ms(aa.o2InAir,0);static#c=this.trimix2135=new ms(.21,.35);static#l=this.trimix1845=new ms(.18,.45);static#u=this.trimix1555=new ms(.15,.55);static#f=this.trimix1260=new ms(.12,.6);static#d=this.trimix1070=new ms(.1,.7);static#h=this.airName="Air";static#p=this.oxygenName="Oxygen";static#m=this.namesRegEx=/[EAN](?<fO2>\d{2})|(?<fO2b>\d{2})\/(?<fHe>\d{2})/i;static#v=this.map=new Map([[Mi.airName,Mi.air],["EAN32",Mi.ean32],["EAN36",Mi.ean36],["EAN38",Mi.ean38],["EAN50",Mi.ean50],[Mi.oxygenName,Mi.oxygen],["Helitrox 35/25",Mi.trimix3525],["Helitrox 25/25",Mi.trimix2525],["Helitrox 21/35",Mi.trimix2135],["Trimix 18/45",Mi.trimix1845],["Trimix 15/55",Mi.trimix1555],["Trimix 12/60",Mi.trimix1260],["Trimix 10/70",Mi.trimix1070]]);static nitroxNames(){return Mi.allNames().slice(0,6)}static allNames(){return Array.from(Mi.map.keys())}static nameFor(n,e=0){const i=xn.round(100*n),a=xn.round(100*e);return i<=0?"":a<=0?i>=100?Mi.oxygenName:21===i?Mi.airName:"EAN"+i.toString():`${i>=21?"Helitrox":"Trimix"} ${i.toString()}/${a.toString()}`}static byName(n){const e=[...Mi.map.keys()],r=v4(e).filter(a=>a.toLowerCase()===n.toLowerCase()).first();if(r)return Mi.map.get(r)??null;const i=Mi.namesRegEx.exec(n);if(i){if(i[1]){const a=Number(i[1])/100;if(a>0)return new ms(a,0)}if(i[2]&&i[3]){const a=Number(i[2])/100,s=Number(i[3])/100;if(a>0&&s>0)return new ms(a,s)}}return null}}ms.init((t,n)=>Mi.nameFor(t,n),t=>Mi.byName(t));class Pu{static haveReserve(n){for(let e=0;e<n.length;e++)if(!n[e].hasReserve)return!1;return!0}static resetConsumption(n){n.forEach(e=>{e.consumed=0,e.reserve=0})}static removeTank(n,e){const r=n.filter(i=>i!==e);return Pu.renumberIds(r),r}static renumberIds(n){for(let e=0;e<n.length;e++)n[e].id=e+1}}class Xa{constructor(n,e,r){this.size=n,this.startPressure=e,this.id=0,this.consumed=0,this.reserve=0,this._gas=Mi.air.copy(),this.o2=r}get gas(){return this._gas}get o2(){return Ru.getO2(this.gas.fO2,this.gas.fHe)}get he(){return xn.roundTwoDecimals(100*this.gas.fHe)}get n2(){return xn.roundTwoDecimals(100-this.o2-this.he)}get volume(){return Xa.volume(this)}get reserveVolume(){return Xa.volume2(this.size,this.reserve)}get consumedVolume(){return Xa.volume2(this.size,this.consumed)}get name(){return this._gas.name}get endPressure(){const n=this.startPressure-this.consumed;return n>0?n:0}get percentsRemaining(){return this.endPressure/this.startPressure*100}get percentsReserve(){const n=this.reserve/this.startPressure*100;return n>100?100:n}get hasReserve(){return this.endPressure>=this.reserve}set o2(n){this._gas.fO2=Ru.setO2(n,this.gas.fHe)}set he(n){this.gas.fHe=n/100}static createDefault(){return new Xa(15,200,100*aa.o2InAir)}static volume(n){return Xa.volume2(n.size,n.startPressure)}static volume2(n,e){return n*e}assignStandardGas(n){this.gas.assignStandardGas(n)}loadFrom(n){this.size=n.size,this.startPressure=n.startPressure,this.consumed=n.consumed,this.reserve=n.reserve,this.gas.fO2=n._gas.fO2,this.gas.fHe=n._gas.fHe}}class Ru{static#e=this.pinnedO2=21;static#t=this.o2InAirPercent=100*aa.o2InAir;static getO2(n,e){const r=100*n;return this.isInAirRange(r,e)?Ru.pinnedO2:xn.roundTwoDecimals(r)}static setO2(n,e){return this.isInAirRange(n,e)?aa.o2InAir:n/100}static isInAirRange(n,e){return Ru.o2InAirPercent<=n&&n<=Ru.pinnedO2&&0===e}}class J0{static speed(n,e){return J0.speedByXChange(e.start,e.end,n.end-n.start)}static speedByXChange(n,e,r){return(e-n)/r}static yValueAt(n,e,r){return n+e*r}static xValueAtAbsolute(n,e,r){const i=this.speed(n,e);return n.start+J0.xValueAt(e.start,i,r)}static xValueAt(n,e,r){return 0===e?0:(r-n)/e}}class Xx{static validate(n,e){const r=[];if(!n.any()){const i=l1.createError("There needs to be at least one segment at depth.");r.push(i)}return n.withAll(i=>{Xx.validateRegisteredGas(r,e,i)}),r}static validateRegisteredGas(n,e,r){if(!e.isRegistered(r.gas)){const a=l1.createError(`Segment ${r.startDepth}-${r.endDepth} has gas not registered in gases.`);n.push(a)}}}class Oo{constructor(n,e,r,i){this._startDepth=n,this._endDepth=e,this._duration=i,r instanceof Xa?(this._tank=r,this._gas=r.gas):this._gas=r}get startDepth(){return this._startDepth}get endDepth(){return this._endDepth}get duration(){return this._duration}get gas(){return this._gas}get tank(){return this._tank}get speed(){return Oo.speed(this.startDepth,this.endDepth,this.duration)}get averageDepth(){return(this.startDepth+this.endDepth)/2}set startDepth(n){this._startDepth=n}set endDepth(n){this._endDepth=n}set duration(n){this._duration=n}set tank(n){this._tank=n,n&&(this._gas=n.gas)}static from(n){const e=new Oo(n.startDepth,n.endDepth,n._gas,n.duration);return e.tank=n.tank,e}static speed(n,e,r){return J0.speedByXChange(n,e,r)}static depthAt(n,e,r){return J0.yValueAt(n,e,r)}static timeAt(n,e,r){return J0.xValueAt(n,e,r)}contentEquals(n){return this.speed===n.speed&&this._gas.compositionEquals(n._gas)}depthAt(n){return Oo.depthAt(this.startDepth,this.speed,n)}mergeFrom(n){this.duration+=n.duration,this.endDepth=n.endDepth}}class Xs{constructor(){this.segments=[],this._maxDepth=0}get startAscentIndex(){return this.deepestPart().length}get startAscentTime(){const n=this.deepestPart();return Xs.duration(n)}get length(){return this.segments.length}get items(){return this.segments.slice()}get maxDepth(){return this._maxDepth}get currentDepth(){return this.any()?this.last().endDepth:0}get duration(){return Xs.duration(this.segments)}static from(n){return Xs.fromCollection(n.segments)}static fromCollection(n){const e=new Xs;return n.forEach(r=>{const i=Oo.from(r);e.segments.push(i),e.updateMaxDepth(i)}),e}static duration(n){let e=0;for(const r of n)e+=r.duration;return e}static averageDepth(n){if(n.length<=0)return 0;let e=0,r=0;return n.forEach(i=>{if(i.duration>0){const a=i.averageDepth*i.duration+r*e;r+=i.duration,e=a/r}}),e}add(n,e,r){const i=new Oo(this.currentDepth,n,e,r);return this.segments.push(i),this.updateMaxDepth(i),i}addFlat(n,e){return this.add(this.currentDepth,n,e)}mergeFlat(n=0){if(n<0)return this.items;const e=[];for(let r=this.segments.length-1;r>n;r--){const i=this.segments[r-1],a=this.segments[r];i.contentEquals(a)&&(i.mergeFrom(a),e.push(a))}return this.segments=this.segments.filter(r=>!e.includes(r)),this.items}remove(n){this.segments=this.segments.filter(e=>e!==n),this.fixStartDepths()}cutDown(n){this.segments=this.segments.slice(0,this.segments.length-n),this.fixStartDepths()}withAll(n){for(let e=0;e<this.segments.length;e++)n(this.segments[e])}any(){return 0!==this.segments.length}last(){return this.segments[this.segments.length-1]}copy(){return Xs.from(this)}fixStartDepths(){this.any()&&(this.segments[0].startDepth=0);for(let n=0;n<this.segments.length-1;n++){const r=this.segments[n+1];r.startDepth=this.segments[n].endDepth,this.updateMaxDepth(r)}}deepestPart(){for(let n=this.segments.length-1;n>=0;n--)if(this.segments[n].endDepth===this.maxDepth)return this.items.slice(0,n+1);return[]}updateMaxDepth(n){n.endDepth>this._maxDepth&&(this._maxDepth=n.endDepth)}}class Br{static#e=this.oneSecond=1;static#t=this.oneMinute=60;static#n=this.oneHour=60*Br.oneMinute;static#r=this.oneDay=24*Br.oneHour;static#i=this.safetyStopDuration=3*Br.oneMinute;static toSeconds(n){return n*Br.oneMinute}static toMinutes(n){return n/Br.oneMinute}static toHours(n){return n/Br.oneHour}}let HU=(()=>{class t{static#e=this.minimalStep=1;constructor(){}search(e){if(e.maxValue<e.initialValue)throw Error("Max value cant be smaller than initial value");if(e.estimationStep>e.maxValue-e.initialValue)throw Error("Step cant be larger than range");const r=this.findInitialLimit(e);return this.searchInsideInterval(e,r)}searchInsideInterval(e,r){for(;r.right-r.left>t.minimalStep;){let i=r.left+(r.right-r.left)/2;i=Math.round(i),e.doWork(i),e.meetsCondition()?r.left=i:r.right=i}return r.left}findInitialLimit(e){let r=e.initialValue;for(e.doWork(r);e.meetsCondition()&&r<=e.maxValue;)r+=e.estimationStep,e.doWork(r);let i=r-e.estimationStep;return i=i<e.initialValue?e.initialValue:i,{left:i,right:r>e.maxValue?e.maxValue:r}}}return t})();class Yze{constructor(n,e,r){this.depthConverter=n,this.options=e,this.tissues=r,this.lowestCeiling=0,this.lowestCeiling=this.depthConverter.surfacePressure+1}ceiling(){let n=this.tolerated();return n<this.depthConverter.surfacePressure&&(n=this.depthConverter.surfacePressure),this.depthConverter.fromBar(n)}toleratedTissues(n,e,r,i){const a=this.tissues.compartments;let s=0;for(let l=0;l<a.length;l++){const x=a[l];let F=s;(n/x.b+x.a-n)*r+n<(e/x.b+x.a-e)*i+e&&(F=(-x.a*x.b*(r*e-i*n)-(1-x.b)*(r-i)*e*n+x.b*(e-n)*x.pTotal)/(-x.a*x.b*(r-i)+(1-x.b)*(i*e-r*n)+x.b*(e-n))),F>=s&&(s=F)}return s}tolerated(){const n=this.options.gfLow,e=this.options.gfHigh,r=this.depthConverter.surfacePressure,i=this.tissues.ceiling(n);return i>this.lowestCeiling&&(this.lowestCeiling=i),this.toleratedTissues(r,this.lowestCeiling,e,n)}}let VU=(()=>{class t{static#e=this.sixMeters=6;constructor(e){this.options=e,this.averageDepth=0}markAverageDepth(e){const r=e.deepestPart();this.averageDepth=Xs.averageDepth(r)}ascent(e){return e>t.sixMeters?e>this.averageDepth/2?this.options.ascentSpeed50perc:this.options.ascentSpeed50percTo6m:this.options.ascentSpeed6m}}return t})();class Kx{constructor(n,e,r,i,a){this.gases=n,this.segments=e,this.options=r,this.depthConverter=i,this.ceilings=[],this.runTime=0,this._oxygenStarted=0,this.tissues=rl.createLoaded(a),this.gradients=new Yze(i,r,this.tissues);const s=e.last();this._currentGas=s.gas,this.bestGasOptions={currentDepth:this.currentDepth,maxDecoPpO2:this.options.maxDecoPpO2,oxygenNarcotic:this.options.oxygenNarcotic,maxEnd:this.options.maxEND,currentGas:this.currentGas},this.speeds=new VU(this.options),this.levels=new Sm(i,r),this.gasSource=new jze(n,r)}get currentGas(){return this._currentGas}get ascentSpeed(){return this.speeds.ascent(this.currentDepth)}get currentDepth(){return this.segments.currentDepth}get addSafetyStop(){return this.levels.addSafetyStop(this.currentDepth,this.segments.maxDepth)}get decoStopDuration(){return this.options.roundStopsToMinutes?Br.oneMinute:Br.oneSecond}get isAtSurface(){return 0===this.segments.last().endDepth}get shouldAddAirBreaks(){return this.isBreathingOxygen&&this.options.airBreaks.enabled}get runTimeOnOxygen(){return this.runTime-this._oxygenStarted}get isBreathingOxygen(){return this.currentGas.compositionEquals(Mi.oxygen)}set currentGas(n){n.compositionEquals(Mi.oxygen)&&!this.isBreathingOxygen&&(this._oxygenStarted=this.runTime),this._currentGas=n}markAverageDepth(){this.speeds.markAverageDepth(this.segments)}addCeiling(){const n=this.ceiling(),e=new $ze(this.runTime,n);this.ceilings.push(e)}ceiling(){return this.gradients.ceiling()}bestDecoGas(){return this.bestGasOptions.currentDepth=this.currentDepth,this.bestGasOptions.currentGas=this.currentGas,this.gasSource.bestGas(this.bestGasOptions)}createMemento(){return{runTime:this.runTime,oxygenStarted:this._oxygenStarted,tissues:rl.copy(this.tissues.compartments),ceilings:this.ceilings.length,segments:this.segments.length,lowestCeiling:this.gradients.lowestCeiling}}restore(n){this.tissues.restoreFrom(n.tissues),this.gradients.lowestCeiling=n.lowestCeiling,this.runTime=n.runTime,this._oxygenStarted=n.oxygenStarted,this.ceilings=this.ceilings.slice(0,n.ceilings),this.segments.cutDown(this.segments.length-n.segments)}nextStop(n){return this.levels.nextStop(n)}shouldSwitchTo(n){return n&&!this.currentGas.compositionEquals(n)}addAscentSegment(n,e){return this.segments.add(n,this.currentGas,e)}addGasSwitchSegment(){return this.addStopSegment(this.options.gasSwitchDuration*Br.oneMinute)}addStopSegment(n){return this.segments.addFlat(this.currentGas,n)}airBreakGas(){return this.gasSource.airBreakGas(this.currentDepth,this.currentGas)}}class Zze{constructor(n,e){this.context=n,this.remainingStopTime=e,this.maxOxygenTime=this.context.options.airBreaks.oxygenDuration*Br.oneMinute,this.maxBottomGasTime=this.context.options.airBreaks.bottomGasDuration*Br.oneMinute,this._initialStopDuration=Math.min(this.remainingStopTime,this.remainingOxygenTime)}get needsStop(){return this.remainingStopTime>0}get maxGasTime(){return this.context.isBreathingOxygen?this.maxOxygenTime:this.maxBottomGasTime}get stopDuration(){return this._initialStopDuration>0?this._initialStopDuration:Math.min(this.remainingStopTime,this.maxGasTime)}get remainingOxygenTime(){const n=this.maxOxygenTime-this.context.runTimeOnOxygen;return n>0?n:0}switchStopGas(){if(!(this._initialStopDuration>0)){if(this.context.isBreathingOxygen)return void(this.context.currentGas=this.context.airBreakGas());this.context.currentGas=this.context.bestDecoGas()}}subtractStopDuration(){if(this._initialStopDuration>0)return this.subtractRemainingStopTime(this._initialStopDuration),void(this._initialStopDuration=0);this.subtractRemainingStopTime(this.stopDuration)}subtractRemainingStopTime(n){this.remainingStopTime-=n}}const UU=(t,n)=>t/Br.toMinutes(n);class GU{constructor(n,e){this.current=n,this.surfaceInterval=e}}class Xze{constructor(n,e,r){this.previousTissues=n,this.altitude=e,this.surfaceInterval=r}}class C4{constructor(n,e,r,i){this._segments=n,this._gases=e,this._options=r,this._surface=this.resolveSurfaceParameters(i)}get segments(){return this._segments}get gases(){return this._gases}get options(){return this._options}get surfaceInterval(){return new Xze(this._surface.current,this.options.altitude,this._surface.surfaceInterval)}static forSimpleDive(n,e,r,i){const a=new b4;a.add(e);const s=new Xs,l=UU(n,r.descentSpeed);return s.add(n,e,l),new C4(s,a,r,i)}static forMultilevelDive(n,e,r,i){return new C4(n,e,r,i)}resolveSurfaceParameters(n){if(n&&Wd.validCount(n?.current))return n;const e=rl.createLoadedAt(this.options.altitude);return new GU(e,Number.POSITIVE_INFINITY)}}class jd{noDecoLimit({segments:n,gases:e,options:r,surfaceInterval:i}){const a=new Nu(r).create(),s=this.applySurfaceInterval(i),l=new Kx(e,n,r,a,s);return this.swimNoDecoLimit(n,e,l)}decompression({segments:n,gases:e,options:r,surfaceInterval:i}){const a=new Nu(r).create(),s=n.copy(),l=this.validate(n,e);if(l.length>0){const je=s.mergeFlat(n.length);return y4.fromErrors(je,l)}const x=this.applySurfaceInterval(i),F=new Kx(e,s,r,a,x);this.swimPlan(F),F.markAverageDepth();let oe=F.nextStop(F.currentDepth);for(;oe>=0&&!F.isAtSurface;)this.tryGasSwitch(F),this.stayAtDecoStop(F,oe),this.stayAtSafetyStop(F),this.ascentToNextStop(F,oe),oe=F.nextStop(oe);const Le=F.segments.mergeFlat(n.length);return y4.fromProfile(Le,F.ceilings,F.tissues.finalState())}applySurfaceInterval({previousTissues:n,altitude:e,surfaceInterval:r}){if(!Wd.valid(n))throw Error("Provided tissues collection isn`t valid. It needs have valid items of 16 compartments ordered by halftime.");if(e<0)throw Error("Altitude needs to be positive number or 0.");if(r<0)throw Error("Surface interval needs to be positive number or 0.");if(r===Number.POSITIVE_INFINITY)return rl.createLoadedAt(e);const i=new Xs,a=i.addFlat(Mi.air,r),s=new b4;s.add(Mi.air);const l=new Iu(1,1,1.6,1.6,m2.salt);l.altitude=e;const x=new Nu(l).create(),F=new Kx(s,i,l,x,n);return this.swim(F,a),F.tissues.finalState()}tryGasSwitch(n){const e=n.bestDecoGas();if(n.shouldSwitchTo(e)){n.currentGas=e;const r=n.addGasSwitchSegment();this.swim(n,r)}}stayAtDecoStop(n,e){if(this.needsDecoStop(n,e)){const r=n.createMemento(),i={estimationStep:20*Br.oneMinute,initialValue:0,maxValue:Br.oneDay,doWork:x=>this.swimDecoStop(n,r,x),meetsCondition:()=>this.needsDecoStop(n,e)},s=(new HU).search(i)+Br.oneSecond,l=xn.ceilDistance(s,n.decoStopDuration);this.swimDecoStop(n,r,l)}}swimDecoStop(n,e,r){n.restore(e),this.stayAtStop(n,r)}stayAtSafetyStop(n){n.addSafetyStop&&this.stayAtStop(n,Br.safetyStopDuration)}stayAtStop(n,e){n.shouldAddAirBreaks?this.swimOxygenStop(n,e):this.swimStopDuration(n,e)}swimOxygenStop(n,e){const r=new Zze(n,e);for(;r.needsStop;)r.switchStopGas(),this.swimStopDuration(n,r.stopDuration),r.subtractStopDuration();n.currentGas=Mi.oxygen}swimStopDuration(n,e){const r=n.addStopSegment(e);this.swim(n,r)}needsDecoStop(n,e){if(e>=n.ceiling())return!1;const r=n.createMemento();this.ascentToNextStop(n,e);const i=e<n.ceiling();return n.restore(r),i}ascentToNextStop(n,e){const i=UU(n.currentDepth-e,n.ascentSpeed),a=n.addAscentSegment(e,i);this.swim(n,a)}validate(n,e){const r=Xx.validate(n,e);if(r.length>0)return r;const i=Wze.validate(e);return i.length>0?i:[]}swimPlan(n){n.addCeiling(),n.segments.withAll(e=>{this.swim(n,e)})}swim(n,e){let r=e.startDepth;const i=Br.oneSecond;for(let a=0;a<e.duration;a+=i){const s=Oo.depthAt(r,e.speed,i),l=new Oo(r,s,e.gas,i);this.swimPart(n,l),r=l.endDepth}}swimPart(n,e){const r=this.toLoadSegment(n.depthConverter,e);n.tissues.load(r,e.gas),n.runTime+=e.duration,n.addCeiling()}swimNoDecoLimit(n,e,r){if(this.validate(n,e).length>0)return 0;this.swimPlan(r);const a=this.currentNdl(r.ceilings);return a!==Number.POSITIVE_INFINITY?a:this.predictNoDecoLimit(n,r)}predictNoDecoLimit(n,e){const r=n.last(),i=r.endDepth,a=new Oo(i,i,r.gas,Br.oneMinute),s=this.toLoadSegment(e.depthConverter,a);let l=1;for(;e.ceiling()<=0&&l>0;)l=e.tissues.load(s,r.gas),e.runTime+=Br.oneMinute;return 0===l||0===i?Number.POSITIVE_INFINITY:this.floorNdl(e.runTime)}floorNdl(n){let e=Br.toMinutes(n);return e=xn.floor(e),e-1}currentNdl(n){for(let e=0;e<n.length;e+=Br.oneMinute){const r=n[e];if(r.notAtSurface)return this.floorNdl(r.time)}return Number.POSITIVE_INFINITY}toLoadSegment(n,e){const r=n.toBar(e.speed)-n.surfacePressure;return{startPressure:n.toBar(e.startDepth),duration:e.duration,speed:r}}}class Wl{static createPlan(n,e,r,i){const a=new Xs,s=Wl.descentDuration(n,i);a.add(n,r,s);let l=Br.toSeconds(e)-s;return l=l<0?0:l,a.addFlat(r,l),a}static descentDuration(n,e){let r=n/e.descentSpeed;return r=xn.ceil(r,1),r=Br.toSeconds(r),xn.ceil(r)}static emergencyAscent(n,e,r){const a=Xs.fromCollection(n).deepestPart(),s=a.length;Wl.addSolvingSegment(a,e.problemSolvingDuration),Wl.addUserDefinedAscent(a,n,s);const l=Xs.fromCollection(a),x=b4.fromTanks(r),F=new jd,oe=C4.forMultilevelDive(l,x,e),je=F.decompression(oe).segments;return je.slice(s,je.length)}static addSolvingSegment(n,e){if(0===n.length)return;const i=n[n.length-1],a=i.endDepth,s=new Oo(a,a,i.gas,e*Br.oneMinute);n.push(s)}static addUserDefinedAscent(n,e,r){for(let i=r;i<e.length;i++){const a=e[i];if(!a.tank)return;n.push(a)}}}class $U{constructor(){this.remaining=new Map}get(n){return this.remaining.get(n)||0}set(n,e){this.remaining.set(n,e>0?e:0)}}let x4=(()=>{class t{static#e=this.defaultPrimaryReserve=30;static#t=this.defaultStageReserve=20;constructor(e){this.depthConverter=e}static calculateDecompression(e,r,i){const a=b4.fromTanks(r),s=new jd,l=e.copy(),x=C4.forMultilevelDive(l,a,i);return s.decompression(x)}consumeFromTanks(e,r,i,a){if(e.length<2)throw new Error("Profile needs to contain at least 2 segments.");const s=Wl.emergencyAscent(e,r,i);this.consumeFromTanks2(e,s,i,a)}consumeFromTanks2(e,r,i,a){if(e.length<2)throw new Error("Profile needs to contain at least 2 segments.");Pu.resetConsumption(i),this.updateReserve(r,i,a);const s=F=>F.reserve,l=a.diver.rmv;let x=this.toBeConsumedYet(e,l,new $U,F=>!!F.tank);x=this.consumeByTanks(e,x,l,s),x=this.consumeByTanksRemaining(e,x,()=>0),x=this.toBeConsumedYet(e,l,x,F=>!F.tank),x=this.consumeByGases(i,x,s),this.consumeByGases(i,x,()=>0),this.roundTanksConsumedToBars(i)}calculateMaxBottomTime(e,r,i,a){const s=this.createTestProfile(e),l=s.last(),x={estimationStep:40*Br.oneMinute,initialValue:0,maxValue:Br.oneDay,doWork:je=>{l.duration=je,this.consumeFromProfile(s,r,i,a)},meetsCondition:()=>Pu.haveReserve(r)},oe=(new HU).search(x);if(0===oe)return 0;const Le=Br.toMinutes(e.duration+oe);return xn.floor(Le)}consumeFromProfile(e,r,i,a){const s=t.calculateDecompression(e,r,a);this.consumeFromTanks(s.segments,a,r,i)}createTestProfile(e){const r=e.copy(),i=e.last();return r.addFlat(i.gas,0),r}updateReserve(e,r,i){const a=this.toBeConsumedYet(e,i.diver.teamStressRmv,new $U,()=>!0);for(let s=0;s<=r.length-1;s++){const l=r[s],x=l.gas.contentCode,F=a.get(x);this.updateTankReserve(l,s,i,F),a.set(x,F-l.reserve*l.size)}}updateTankReserve(e,r,i,a){const s=xn.ceil(a/e.size);e.reserve=this.ensureMinimalReserve(s>e.startPressure?e.startPressure:s,r,i)}ensureMinimalReserve(e,r,i){const a=0===r?i.primaryTankReserve:i.stageTankReserve;return e<a?a:e}consumeByGases(e,r,i){for(let a=e.length-1;a>=0;a--){const s=e[a],l=s.gas.contentCode;let x=r.get(l),F=this.consumeFromTank(s,x,i);F=F<0?0:F,x-=F,r.set(l,x)}return r}consumeByTanks(e,r,i,a){const s=Br.toMinutes(i);return this.consumeBySegmentTank(e,r,a,l=>this.consumedBySegment(l,s))}consumeByTanksRemaining(e,r,i){return this.consumeBySegmentTank(e,r,i,(a,s)=>s)}consumeBySegmentTank(e,r,i,a){return e.forEach(s=>{if(s.tank){const l=s.gas.contentCode;let x=r.get(l);const F=a(s,x);let oe=this.consumeFromTank(s.tank,F,i);oe=oe<0?0:oe,x-=oe,r.set(l,x)}}),r}consumeFromTank(e,r,i){let a=e.endPressure-i(e);a=a>0?a:0;const s=a*e.size,l=r>s?s:r;return e.consumed+=l/e.size,l}toBeConsumedYet(e,r,i,a){const s=Br.toMinutes(r);for(let l=0;l<e.length;l++){const x=e[l];if(a(x)){const oe=x.gas.contentCode,Le=this.consumedBySegment(x,s);let je=i.get(oe);je+=Le,i.set(oe,je)}}return i}consumedBySegment(e,r){const i=this.depthConverter.toBar(e.averageDepth);return xn.roundTwoDecimals(e.duration)*i*r}roundTanksConsumedToBars(e){e.forEach(r=>r.consumed=xn.ceil(r.consumed))}}return t})();class Kze{constructor(n){this.depthConverter=n,this.minimumPpO2=.5}calculateForProfile(n){let e=0;return n.forEach(r=>{const a=this.calculate(r.gas.fO2,r.startDepth,r.endDepth,r.duration);e+=a}),e}calculate(n,e,r,i){const l=n*this.depthConverter.toBar((e+r)/2);if(l<=this.minimumPpO2)return 0;const x=this.exponentByPpO2(l);return i*Math.exp(x)*100}exponentByPpO2(n){return n<=1.5?1.93873*n-11.7853:9.80829*n-23.6349}}let Fu=(()=>{class t{static#e=this.imperialTankSize=124.1;static#t=this.imperialTankWorkPressure=3442;static#n=this.imperialStageSize=80.1;static#r=this.imperialStageWorkPressure=3e3;static#i=this.mertricTankSize=15;static#a=this.metricStageSize=11.1}return t})();class Qze{get available(){return[this.primary,this.stage,{name:"2xLP85",size:165,workingPressure:2640},{name:"S40",size:41.3,workingPressure:3e3},{name:"LP85",size:82.5,workingPressure:2640},{name:"HP80",size:84.4,workingPressure:3442},{name:"HP100",size:106.7,workingPressure:3442}]}get primary(){return{name:"HP117",size:Fu.imperialTankSize,workingPressure:Fu.imperialTankWorkPressure}}get stage(){return{name:"S80",size:Fu.imperialStageSize,workingPressure:Fu.imperialStageWorkPressure}}}class Jze{get available(){return[this.primary,this.stage,{name:"2x12 L",size:24,workingPressure:0},{name:"S40",size:5.7,workingPressure:0},{name:"10L",size:10,workingPressure:0},{name:"12 L",size:12,workingPressure:0}]}get primary(){return{name:"15 L",size:Fu.mertricTankSize,workingPressure:0}}get stage(){return{name:"S80",size:Fu.metricStageSize,workingPressure:0}}}class WU{get tanks(){return new Jze}get lastSpeedLevel(){return 6}get autoStopLevel(){return 10}get stopsDistance(){return 3}get recreationalOptions(){return{ascentSpeed50perc:Xr.ascentSpeed50perc,ascentSpeed50percTo6m:Xr.ascentSpeed50perc,ascentSpeed6m:Xr.ascentSpeed50perc,descentSpeed:Xr.descentSpeed,lastStopDepth:Xr.lastStopDepthRecre,maxEND:Xr.maxEND}}get recommendedOptions(){return{ascentSpeed50perc:Xr.ascentSpeed50perc,ascentSpeed50percTo6m:Xr.ascentSpeed50percTo6m,ascentSpeed6m:Xr.ascentSpeed6m,descentSpeed:Xr.descentSpeed,lastStopDepth:Xr.lastStopDepth,maxEND:Xr.maxEND}}}class b1{static#e=this.lastStopDepth=15;static#t=this.depthDistance=10;static#n=this.descentSpeed=6*b1.depthDistance;static#r=this.recreSpeed=3*b1.depthDistance;static#i=this.maxEnd=10*b1.depthDistance;get tanks(){return new Qze}get lastSpeedLevel(){return 20}get autoStopLevel(){return 33}get stopsDistance(){return b1.depthDistance}get recreationalOptions(){return{ascentSpeed50perc:b1.recreSpeed,ascentSpeed50percTo6m:b1.recreSpeed,ascentSpeed6m:b1.recreSpeed,descentSpeed:b1.descentSpeed,lastStopDepth:b1.lastStopDepth,maxEND:b1.maxEnd}}get recommendedOptions(){return{ascentSpeed50perc:b1.recreSpeed,ascentSpeed50percTo6m:2*b1.depthDistance,ascentSpeed6m:b1.depthDistance,descentSpeed:b1.descentSpeed,lastStopDepth:b1.depthDistance,maxEND:b1.maxEnd}}}let Ou=(()=>{class t{static#e=this.defaultSac=20;constructor(e=t.defaultSac,r){this.rmv=e,this.stressRmv=r||1.5*e}get teamStressRmv(){return 2*this.stressRmv}static gasSac(e,r){return e/r}gasSac(e){return t.gasSac(this.rmv,e.size)}loadFrom(e){this.rmv=e.rmv,this.stressRmv=e.stressRmv}}return t})();class Va{static redundancies(n,e){if(Va.validateTankFill(n,"tankA"),Va.validateTankFill(e,"tankB"),0===n.size&&0===e.size)return 0;const r=n.size+e.size;return(Xa.volume(n)+Xa.volume(e))/r}static top(n){Va.validate(n.source,"Source"),Va.validate(n.topMix,"Target");const e=Va.pressureO2(n.source)+Va.pressureO2(n.topMix),r=Va.pressureHe(n.source)+Va.pressureHe(n.topMix),i=n.source.pressure+n.topMix.pressure;return 0===i?{o2:0,he:0,pressure:0}:{o2:e/i,he:r/i,pressure:i}}static mix(n){Va.validate(n.source,"Source"),Va.validate(n.target,"Target"),Va.validate(n.topMix,"Top");const r=Va.n2(n.target)*n.target.pressure,i=Va.n2(n.source);let s=r-i*n.source.pressure;if(s=xn.round(s,8),s<0)return Va.mixByRemoving(n,-s/i);const x=s/Va.n2(n.topMix);let je=Va.pressureHe(n.target)-Va.pressureHe(n.source)-x*n.topMix.he;if(je=xn.round(je,8),je<0)return Va.mixByRemoving(n,-je/n.source.he);let rt=n.target.pressure-n.source.pressure-je-x;return rt=xn.round(rt,8),rt<0?Va.mixByRemoving(n,-rt/n.source.o2):{addO2:rt,addHe:je,addTop:x,removeFromSource:0}}static mixByRemoving(n,e){const r=Va.copyRequest(n);if(e>n.source.pressure)throw new Error("Unable to mix required gas because target contains less he or oxygen than top mix.");r.source.pressure-=e;const i=Va.mix(r);return i.removeFromSource+=e,i}static n2(n){return 1-n.o2-n.he}static validate(n,e){if(n.o2<0||n.o2>1)throw new Error(`${e} mix contains invalid o2 content. Needs to be in range 0-1.`);if(n.he<0||n.he>1)throw new Error(`${e} mix contains invalid he content. Needs to be in range 0-1.`);if(n.o2+n.he>1)throw new Error(`${e} mix contains invalid N2 content. Needs to be in range 0-1.`)}static validateTankFill(n,e){if(n.size<0)throw new Error(`${e} Volume needs to be positive number.`);if(n.startPressure<0)throw new Error(`${e} Start pressure needs to be positive number.`)}static copyRequest(n){return{source:Va.copyTankMix(n.source),target:Va.copyTankMix(n.target),topMix:{o2:n.topMix.o2,he:n.topMix.he}}}static copyTankMix(n){return{o2:n.o2,he:n.he,pressure:n.pressure}}static pressureO2(n){return n.o2*n.pressure}static pressureHe(n){return n.he*n.pressure}}class Qx{static price(n){Qx.validateCosts(n);const e=n.addO2*n.o2UnitPrice,r=n.addHe*n.heUnitPrice,i=n.addTop*n.topMixUnitPrice;return{o2Price:e,hePrice:r,topMixPrice:i,totalPrice:e+r+i}}static validateCosts(n){if(n.addO2<0)throw new Error("addO2 must be positive number");if(n.o2UnitPrice<0)throw new Error("o2UnitPrice must be positive number");if(n.addHe<0)throw new Error("addHe must be positive number");if(n.heUnitPrice<0)throw new Error("heUnitPrice must be positive number");if(n.addTop<0)throw new Error("addTop must be positive number");if(n.topMixUnitPrice<0)throw new Error("topMixUnitPrice must be positive number")}}class Yd{constructor(n,e,r){this.gas=n,this.depth=e,this.density=r}static createDefault(){return new Yd(Mi.air,0,0)}applyHigher(n,e,r){r>this.density&&(this.gas=n,this.density=r,this.depth=e)}}let Bu=(()=>{class t{constructor(){this.helium=.179,this.nitrogen=1.251,this.oxygen=1.428}static#e=this.recommendedMaximum=5.7;forGas(e){return this.forContent(e.fO2,e.fHe)}forContent(e,r){return this.nitrogen*(1-e-r)+this.oxygen*e+this.helium*r}}return t})();class Jx{constructor(n){this.depthConverter=n,this.density=new Bu}forProfile(n){const e=Yd.createDefault();return n.forEach(r=>{const i=r.gas,a=this.density.forGas(i);this.applyHigher(e,i,r.startDepth,a),this.applyHigher(e,i,r.endDepth,a)}),e}atDepth(n,e){const r=this.density.forGas(n);return this.fromAtaDensity(r,e)}applyHigher(n,e,r,i){const a=this.fromAtaDensity(i,r);n.applyHigher(e,r,a)}fromAtaDensity(n,e){return n*this.depthConverter.toBar(e)}}class qze{constructor(){this.depth=0,this.maxPpO2=1.4,this.oxygenNarcotic=!0,this.narcDepthBars=4,this._tank=Xa.createDefault(),this.depthConverter=Lo.simple(),this.densityCalc=new Jx(this.depthConverter)}get tank(){return this._tank}get minPpO2Exceeded(){return this.ppO2<aa.minPpO2}get maxPpO2Exceeded(){return this.ppO2>this.maxPpO2}get mndExceeded(){return this.end>this.mnd}get densityExceeded(){return this.density>Bu.recommendedMaximum}get narcoticDepthLimit(){return this.depthConverter.fromBar(this.narcDepthBars)}get ppO2(){return aa.partialPressure(this.depthPressure,this.gas.fO2)}get ppHe(){return aa.partialPressure(this.depthPressure,this.gas.fHe)}get ppN2(){return aa.partialPressure(this.depthPressure,this.gas.fN2)}get totalPp(){return this.depthPressure}get minDepth(){const e=this.gas.ceiling(this.depthConverter.surfacePressure);return this.depthConverter.fromBar(e)}get maxDepth(){const n=this.gas.mod(this.maxPpO2);return this.depthConverter.fromBar(n)}get end(){let n=this.gas.end(this.depthPressure,this.oxygenNarcotic);return n<this.depthConverter.surfacePressure&&(n=this.depthConverter.surfacePressure),this.depthConverter.fromBar(n)}get mnd(){const n=this.gas.mnd(this.narcDepthBars,this.oxygenNarcotic);return this.depthConverter.fromBar(n)}get density(){return this.densityCalc.atDepth(this.gas,this.depth)}get gas(){return this.tank.gas}get depthPressure(){return this.depthConverter.toBar(this.depth)}set narcoticDepthLimit(n){this.narcDepthBars=this.depthConverter.toBar(n)}}class eke{constructor(n){this.depthLevels=n}gasSwitch(n,e){const i=aa.mod(n,e/100);return this.depthLevels.toDecoStop(i)}}class jU{constructor(n,e=aa.o2InAir){this.depthConverter=n,this.o2InAir=e}ead(n,e){const r=n/100,i=this.depthConverter.toBar(e),a=aa.ead(r,i,this.o2InAir);if(a<=this.depthConverter.surfacePressure)return 0;let s=this.depthConverter.fromBar(a);return s=xn.fix(s),xn.ceilTwoDecimals(s)}bestMix(n,e){let r=100*aa.bestMix(n,e,this.depthConverter);return r=xn.fix(r),xn.floor(r,2)}mod(n,e){let i=aa.mod(n,e/100);return i=this.depthConverter.fromBar(i),i=xn.fix(i),xn.floor(i,2)}partialPressure(n,e){const r=this.depthConverter.toBar(e);let i=aa.partialPressure(r,n)/100;return i=xn.fix(i),xn.ceilTwoDecimals(i)}}class Zd{constructor(n=new Iu){this.options=n,this.depthConverter=Lo.simple();const e=new Sm(this.depthConverter,this.options);this.gasSwitchesCalculator=new eke(e),this.nitroxCalculator=new jU(this.depthConverter)}modForGas(n){return this.nitroxCalculator.mod(this.options.maxPpO2,n.o2)}mndForGas(n){const e=this.depthConverter.toBar(this.options.maxEND),r=n.mnd(e,this.options.oxygenNarcotic),i=this.depthConverter.fromBar(r);let a=xn.fix(i);return a=xn.roundTwoDecimals(a),a}switchDepth(n){return this.gasSwitchesCalculator.gasSwitch(this.options.maxDecoPpO2,n.o2)}maxDepth(n){const e=this.mndForGas(n.gas),r=this.modForGas(n);return Math.min(e,r)}bestNitroxMix(n){const r=this.nitroxCalculator.bestMix(this.options.maxPpO2,n);return xn.round(r)}}let qx=(()=>{class t{static#e=this.dailyLimit=300;constructor(e){this.depthConverter=e,this.minPressure=.5}calculateForProfile(e){let r=0;return e.forEach(i=>{const s=this.calculate(i.duration,i.gas.fO2,i.startDepth,i.endDepth);r+=s}),r}calculate(e,r,i,a){let s=Br.toMinutes(e),F=this.depthConverter.toBar(i)*r,oe=this.depthConverter.toBar(a)*r;if(F<=this.minPressure&&oe<=this.minPressure)return 0;F<=this.minPressure?(s=s*(oe-this.minPressure)/(oe-F),F=.501):oe<=this.minPressure&&(s=s*(F-this.minPressure)/(F-oe),oe=.501);const Le=F+oe-1;return Math.pow(Le,5/6)*(1-5*Math.pow(oe-F,2)/216/Math.pow(Le,2))*s}}return t})();class tke{constructor(n,e,r){this.startDepth=n,this.endDepth=e,this.duration=r}get minDepth(){return Math.min(this.startDepth,this.endDepth)}get maxDepth(){return Math.max(this.startDepth,this.endDepth)}get isDescent(){return this.startDepth<this.endDepth}get isStop(){return this.startDepth===this.endDepth}get isAscent(){return this.startDepth>this.endDepth}timeAt(n){const e=Oo.speed(this.startDepth,this.endDepth,this.duration),r=Oo.timeAt(this.startDepth,e,n);return xn.round(r)}}class nke{constructor(n){this.simpleDepths=Lo.simple(),this.events=new BU,this.elapsed=0,this.index=0,this.fixedMnd=!0,this.profile=n.profile,this.options=n.profileOptions,this.startAscentIndex=n.startAscentIndex,this.maxDensity=n.maxDensity,this.exactDepths=new Nu(this.options).create(),this.levels=new Sm(this.exactDepths,this.options),this.densityAtDepth=new Jx(this.exactDepths),this.speeds=new VU(this.options);const e=Xs.fromCollection(this.profile);this._maxDepth=e.maxDepth,this._totalDuration=e.duration,this.speeds.markAverageDepth(e),this._mndBars=this.simpleDepths.toBar(this.options.maxEND)}get maxDepth(){return this._maxDepth}get totalDuration(){return this._totalDuration}get previous(){return this.index>0?this.profile[this.index-1]:null}get isBeforeDecoAscent(){return this.index<this.startAscentIndex}get maxPpo(){return this.isBeforeDecoAscent?this.options.maxPpO2:this.options.maxDecoPpO2}get current(){return this.profile[this.index]}get switchingGas(){return!!this.previous&&!this.current.gas.compositionEquals(this.previous.gas)}get switchingTank(){return!!this.previous&&!!this.previous.tank&&!!this.current.tank&&this.previous.tank!==this.current.tank}get brokenOxygenDuration(){return this.current.gas.compositionEquals(Mi.oxygen)&&this.current.duration>20*Br.oneMinute}get maxMnd(){return this._mndBars}get currentEndTime(){return this.elapsed+this.current.duration}get atSafetyStop(){return this.index===this.profile.length-2&&this.levels.addSafetyStop(this.current.startDepth,this.maxDepth)}gasEnd(n){return this.current.gas.end(n,this.options.oxygenNarcotic)}addElapsed(){this.elapsed=this.currentEndTime}}class eM{static fromProfile(n){const e=new nke(n),r=new rke(e.events,e.current);for(e.index=0;e.index<n.profile.length;e.index++){const i=this.toPressureSegment(e.current,e.simpleDepths);this.addHighPpO2(e,i),this.addLowPpO2(e,i),this.addGasSwitch(e),this.addUserTankSwitch(e),this.addHighDescentSpeed(e),this.addHighAscentSpeed(e),this.addIsobaricCounterDiffusion(e),this.addMndExceeded(e,i),this.addDensityExceeded(e),this.addSafetyStop(e),this.addMissingAirBreak(e,i),r.assignSegment(e.current),eM.addBrokenCeiling(r,n.ceilings),e.addElapsed()}return this.addShallowDepth(e),this.addMaximumDepth(e),e.events}static addHighAscentSpeed(n){const e=n.current;let r=Br.toSeconds(e.speed);if(r=xn.roundTwoDecimals(r),-r>n.speeds.ascent(e.startDepth)){const i=l1.createHighAscentSpeed(n.elapsed,e.startDepth);n.events.add(i)}}static addHighDescentSpeed(n){const e=n.current;if(Br.toSeconds(e.speed)>n.options.descentSpeed){const i=l1.createHighDescentSpeed(n.elapsed,e.startDepth);n.events.add(i)}}static addGasSwitch(n){if(n.switchingGas){const e=n.current,r=l1.createGasSwitch(n.elapsed,e.startDepth,e.gas);n.events.add(r)}}static addUserTankSwitch(n){if(n.switchingTank){const e=n.current,r=l1.createGasSwitch(n.elapsed,e.startDepth,e.gas);n.events.add(r)}}static toPressureSegment(n,e){const r=e.toBar(n.startDepth),i=e.toBar(n.endDepth);return new tke(r,i,n.duration)}static addHighPpO2(n,e){if(e.isDescent||n.isBeforeDecoAscent&&n.switchingGas){const r=n.current.gas.mod(n.maxPpo);if(e.maxDepth>r){let i=e.startDepth,a=n.elapsed;e.startDepth<r&&(i=r,a+=e.timeAt(i));const s=n.simpleDepths.fromBar(i),l=l1.createHighPpO2(a,s);n.events.add(l)}}}static addLowPpO2(n,e){const r=n.current,i=r.gas.ceiling(n.simpleDepths.surfacePressure);if(e.minDepth<i&&n.switchingGas||e.startDepth>i&&i>e.endDepth&&e.isAscent||0===r.startDepth&&e.startDepth<i&&e.isDescent){let s=e.startDepth,l=n.elapsed;e.startDepth>i&&(s=i,l+=e.timeAt(s));const x=n.simpleDepths.fromBar(s),F=l1.createLowPpO2(l,x);n.events.add(F)}}static addBrokenCeiling(n,e){for(;n.lastCeilingIndex<n.currentSegmentEndTime&&n.lastCeilingIndex<e.length-1;){const r=e[n.lastCeilingIndex];n.lastCeilingIndex++,this.addNdlEnd(n,r);const i=n.belowCeiling(r);if(!i&&n.fixedBrokenCeiling){const a=l1.createBrokenCeiling(r.time,r.depth);n.events.add(a),n.fixedBrokenCeiling=!1;break}if(i&&!n.fixedBrokenCeiling&&(n.fixedBrokenCeiling=!0),r.time>n.currentSegmentEndTime)break}}static addNdlEnd(n,e){if(!n.ndlCeilingMarked&&e.depth>0){n.ndlCeilingMarked=!0;const i=n.current.depthAt(e.time-n.currentSegmentStartTime),a=l1.createNoDecoEnd(e.time,i);n.events.add(a)}}static addIsobaricCounterDiffusion(n){const e=n.current,r=n.previous;if(n.switchingGas&&r&&r.gas.fHe>0&&5*(e.gas.fN2-r.gas.fN2)>-(e.gas.fHe-r.gas.fHe)){const s=l1.createIsobaricCounterDiffusion(n.elapsed,e.startDepth,e.gas);n.events.add(s)}}static addMndExceeded(n,e){const r=n.current,i=n.gasEnd(e.startDepth),a=n.gasEnd(e.endDepth);if(n.maxMnd<i&&n.fixedMnd||n.maxMnd<a&&n.fixedMnd)if(e.startDepth>n.maxMnd)this.addMndEvent(n,n.elapsed,r.startDepth);else{const x=J0.xValueAtAbsolute({start:n.elapsed,end:n.elapsed+r.duration},{start:e.startDepth,end:e.endDepth},n.maxMnd),F=r.depthAt(x-n.elapsed);this.addMndEvent(n,x,F)}n.fixedMnd=a<=n.maxMnd}static addMndEvent(n,e,r){const a=l1.createMaxEndExceeded(e,r,n.current.gas);n.events.add(a),n.fixedMnd=!0}static addDensityExceeded(n){const e=n.current,r=e.gas,a=e.endDepth,s=e.endDepth>e.startDepth,l=n.switchingGas,x=n.densityAtDepth.atDepth(r,e.startDepth),F=n.densityAtDepth.atDepth(r,a);if(l&&x>n.maxDensity||s&&F>n.maxDensity)if(e.startDepth>e.endDepth){const oe=l1.createHighDensity(n.elapsed,e.startDepth,e.gas);n.events.add(oe)}else{const je=J0.xValueAtAbsolute({start:n.elapsed,end:n.elapsed+e.duration},{start:x,end:F},n.maxDensity),rt=e.depthAt(je-n.elapsed),ht=l1.createHighDensity(je,rt,e.gas);n.events.add(ht)}}static addSafetyStop(n){const e=n.current;if(n.atSafetyStop&&e.duration>=Br.safetyStopDuration){const i=l1.createSafetyStopStart(n.elapsed+e.duration-Br.safetyStopDuration,e.endDepth);n.events.add(i)}}static addShallowDepth(n){if(n.maxDepth<9&&n.totalDuration>5*Br.oneHour){const e=l1.createShallowDepth(n.maxDepth);n.events.add(e)}}static addMaximumDepth(n){if(n.maxDepth>120){const e=l1.createMaxDepth(n.maxDepth);n.events.add(e)}}static addMissingAirBreak(n,e){if(n.brokenOxygenDuration&&e.isStop){const i=l1.createMissingAirBreak(n.elapsed+n.options.airBreaks.oxygenDuration,n.current.startDepth);n.events.add(i)}}}class rke{constructor(n,e){this.events=n,this.lastCeilingIndex=0,this.currentSegmentStartTime=0,this.currentSegmentEndTime=0,this.fixedBrokenCeiling=!0,this.ndlCeilingMarked=!1,this._current=e}get current(){return this._current}assignSegment(n){this.currentSegmentStartTime=this.currentSegmentEndTime,this.currentSegmentEndTime=this.currentSegmentStartTime+n.duration,this._current=n}belowCeiling(n){return this._current.depthAt(n.time-this.currentSegmentStartTime)>=n.depth}}class ike{constructor(n){this.depthConverter=n}calculateSac(n,e,r,i){const a=this.depthConverter.toBar(n);return xn.ceilTwoDecimals(e*r/i/a)}calculateDuration(n,e,r,i){const a=this.depthConverter.toBar(n);return xn.ceil(e*r/i/a)}calculateUsed(n,e,r,i){const a=this.depthConverter.toBar(n);return xn.ceil(r*a*i/e)}}class ake{get name(){return"Metric"}get lengthShortcut(){return"m"}get pressureShortcut(){return"bar"}get volumeShortcut(){return"l"}get weightShortcut(){return"kg"}get altitudeShortcut(){return"m.a.s.l"}get densityShortcut(){return"g/l"}toMeters(n){return n}fromMeters(n){return n}toBar(n){return n}fromBar(n){return n}toLiter(n){return n}fromLiter(n){return n}fromTankLiters(n){return n}toTankLiters(n){return n}fromGramPerLiter(n){return n}toGramPerLiter(n){return n}fromKilogram(n){return n}toKilogram(n){return n}}class Bo{static#e=this.psiRate=14.503773773022;static#t=this.cftRate=28.316846592;static#n=this.lbRate=2.20462262185;static#r=this.footRate=.3048;static#i=this.poundRate=.00220462262;static#a=this.lbPerCuftRate=Bo.poundRate*Bo.cftRate;get name(){return"Imperial"}get lengthShortcut(){return"ft"}get pressureShortcut(){return"psi"}get volumeShortcut(){return"cuft"}get weightShortcut(){return"lb"}get altitudeShortcut(){return"ft.a.s.l"}get densityShortcut(){return"lb/cuft"}toMeters(n){return n*Bo.footRate}fromMeters(n){return n/Bo.footRate}toBar(n){return n/Bo.psiRate}fromBar(n){return n*Bo.psiRate}toLiter(n){return n*Bo.cftRate}fromLiter(n){return n/Bo.cftRate}fromTankLiters(n,e){return this.fromLiter(n)*e}toTankLiters(n,e){return this.toLiter(n)/e}fromGramPerLiter(n){return n*Bo.lbPerCuftRate}toGramPerLiter(n){return n/Bo.lbPerCuftRate}fromKilogram(n){return n*Bo.lbRate}toKilogram(n){return n/Bo.lbRate}}let ske=(()=>{class t{static#e=this.airDensity=1.225;static tankVolumeWeight(e){return t.volumeWeight(e.size*e.consumed)}static volumeWeight(e){return e*t.airDensity/1e3}}return t})();class YU{static combine(n){return v4(n).groupBy(e=>e.gas.contentCode).map(e=>{const r={gas:e[0].gas,total:0,consumed:0,reserve:0};return v4(e).forEach(i=>{r.total+=i.volume,r.consumed+=i.consumedVolume,r.reserve+=i.reserveVolume}),r}).value()}}let jr=(()=>{class t{constructor(){this._imperialUnits=!1,this._ranges=t.createMetricRanges(),this.ranges$=new Xe(this.ranges),this._defaults=new WU}get ranges(){return this._ranges}get defaults(){return this._defaults}get length(){return this.current.lengthShortcut}get pressure(){return this.current.pressureShortcut}get volume(){return this.current.volumeShortcut}get weight(){return this.current.weightShortcut}get altitude(){return this.current.altitudeShortcut}get speed(){return this.length+M4}get sac(){return this.pressure+M4}get rmv(){return this.volume+M4}get density(){return this.current.densityShortcut}get imperialUnits(){return this._imperialUnits}get current(){return this.ranges.units}set imperialUnits(e){this._imperialUnits=e,this._imperialUnits?(this._ranges=t.createImperial(),this._defaults=new b1):(this._ranges=t.createMetricRanges(),this._defaults=new WU),this.ranges$.next(this.ranges)}static createMetricRanges(){return new oke}static createImperial(){return new cke}toLiter(e){return this.current.toLiter(e)}fromLiter(e){return this.current.fromLiter(e)}toMeters(e){return this.current.toMeters(e)}fromMeters(e){return this.current.fromMeters(e)}toBar(e){return this.current.toBar(e)}fromBar(e){return this.current.fromBar(e)}fromTankLiters(e,r){return this.current.fromTankLiters(e,r)}toTankLiters(e,r){return this.current.toTankLiters(e,r)}fromGramPerLiter(e){return this.current.fromGramPerLiter(e)}toGramPerLiter(e){return this.current.toGramPerLiter(e)}fromKilogram(e){return this.current.fromKilogram(e)}toKilogram(e){return this.current.toKilogram(e)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})();const M4="/min",sa=(t,n)=>`${t[0]} - ${t[1]} ${n}`;class oke{constructor(){this.units=new ake,this.altitude=[0,5e3],this.altitudeLevels=[0,300,800,1500],this.altitudeLabel=sa(this.altitude,this.units.altitudeShortcut),this.altitudePressure=[.7,1.2],this.consumed=[0,350],this.consumedLabel=sa(this.consumed,this.units.pressureShortcut),this.depth=[0,350],this.depthLabel=sa(this.depth,this.units.lengthShortcut),this.diverRmv=[5,90],this.diverRmvLabel=sa(this.diverRmv,this.units.volumeShortcut+M4),this.duration=[1,1440],this.durationLabel=sa(this.duration,"min"),this.maxDensity=[1,10],this.maxDensityLabel=sa(this.maxDensity,this.units.densityShortcut),this.densityRounding=1,this.narcoticDepth=[1,100],this.narcoticDepthLabel=sa(this.narcoticDepth,this.units.lengthShortcut),this.nitroxOxygen=[21,100],this.nitroxOxygenLabel=sa(this.nitroxOxygen,"%"),this.lastStopDepth=[3,6],this.lastStopDepthLabel=sa(this.lastStopDepth,this.units.lengthShortcut),this.ppO2=[.21,3],this.rmvRounding=2,this.tankHe=[0,99],this.tankHeLabel=sa(this.tankHe,"%"),this.tankPressure=[1,350],this.tankPressureLabel=sa(this.tankPressure,this.units.pressureShortcut),this.tankSize=[1,50],this.tankSizeLabel=sa(this.tankSize,this.units.volumeShortcut),this.trimixOxygen=[1,100],this.trimixOxygenLabel=sa(this.trimixOxygen,"%"),this.speed=[.1,100],this.speedLabel=sa(this.speed,this.units.lengthShortcut+M4),this.money=[0,1e6],this.moneyLabel=sa(this.money,"")}}class cke{constructor(){this.units=new Bo,this.altitude=[0,16500],this.altitudeLevels=[0,1e3,2600,5e3],this.altitudeLabel=sa(this.altitude,this.units.altitudeShortcut),this.altitudePressure=[10,18],this.consumed=[0,5100],this.consumedLabel=sa(this.consumed,this.units.pressureShortcut),this.depth=[0,1150],this.depthLabel=sa(this.depth,this.units.lengthShortcut),this.diverRmv=[.17,3.178],this.diverRmvLabel=sa(this.diverRmv,this.units.volumeShortcut+M4),this.duration=[1,1440],this.durationLabel=sa(this.duration,"min"),this.maxDensity=[.0624,.624],this.maxDensityLabel=sa(this.maxDensity,this.units.densityShortcut),this.densityRounding=4,this.narcoticDepth=[1,300],this.narcoticDepthLabel=sa(this.narcoticDepth,this.units.lengthShortcut),this.nitroxOxygen=[21,100],this.nitroxOxygenLabel=sa(this.nitroxOxygen,"%"),this.lastStopDepth=[10,20],this.lastStopDepthLabel=sa(this.lastStopDepth,this.units.lengthShortcut),this.ppO2=[.21,3],this.rmvRounding=4,this.tankHe=[0,99],this.tankHeLabel=sa(this.tankHe,"%"),this.tankPressure=[1,5100],this.tankPressureLabel=sa(this.tankPressure,this.units.pressureShortcut),this.tankSize=[1,300],this.tankSizeLabel=sa(this.tankSize,this.units.volumeShortcut),this.trimixOxygen=[1,100],this.trimixOxygenLabel=sa(this.trimixOxygen,"%"),this.speed=[1,300],this.speedLabel=sa(this.speed,this.units.lengthShortcut+M4),this.money=[0,1e6],this.moneyLabel=sa(this.money,"")}}var Tm=function(t){return t[t.ALL=1]="ALL",t[t.HALF=2]="HALF",t[t.THIRD=3]="THIRD",t}(Tm||{});class lke{constructor(n,e,r){this.units=n,this.segment=e,this.tankBound=r}get duration(){return Br.toMinutes(this.segment.duration)}get startDepth(){return this.units.fromMeters(this.segment.startDepth)}get endDepth(){return this.units.fromMeters(this.segment.endDepth)}get tank(){return this.tankBound}get tankLabel(){return this.tank.label}set duration(n){this.segment.duration=Br.toSeconds(n)}set endDepth(n){const e=this.units.toMeters(n);this.segment.endDepth=e}set tank(n){this.segment.tank=n.tank,this.tankBound=n}}class uke{constructor(){this.maxGasDensity=Bu.recommendedMaximum,this.primaryTankReserve=x4.defaultPrimaryReserve,this.stageTankReserve=x4.defaultStageReserve,this.icdIgnored=!1,this.noDecoIgnored=!1,this.densityIgnored=!1,this.missingAirBreakIgnored=!1}}class tM{constructor(n=new Iu,e=new Ou){this.options=n,this.diver=e}get maxPpO2(){return this.options.maxPpO2}get maxDecoPpO2(){return this.options.maxDecoPpO2}get rmv(){return this.diver.rmv}get stressRmv(){return this.diver.stressRmv}set maxPpO2(n){this.options.maxPpO2=n}set maxDecoPpO2(n){this.options.maxDecoPpO2=n}set rmv(n){this.diver.rmv=n}set stressRmv(n){this.diver.stressRmv=n}loadFrom(n){this.rmv=n.rmv,this.stressRmv=n.stressRmv,this.maxPpO2=n.maxPpO2,this.maxDecoPpO2=n.maxDecoPpO2}gasSac(n){return this.diver.gasSac(n)}}class hc{constructor(n,e){this.tank=n,this.units=e,this._workingPressure=this.units.toBar(this.units.defaults.tanks.primary.workingPressure)}get id(){return this.tank.id}get size(){return this.units.fromTankLiters(this.tank.size,this._workingPressure)}get startPressure(){return this.units.fromBar(this.tank.startPressure)}get workingPressure(){return this.units.fromBar(this._workingPressure)}get workingPressureBars(){return this._workingPressure}get o2(){return this.tank.o2}get he(){return this.tank.he}get n2(){return this.tank.n2}get label(){let n=this.units.fromTankLiters(this.tank.size,this._workingPressure);n=xn.round(n,1);let e=this.units.fromBar(this.tank.startPressure);return e=xn.round(e,1),`${this.tank.id}. ${this.tank.name}/${n}/${e}`}set id(n){this.tank.id=n}set size(n){this.tank.size=this.units.toTankLiters(n,this._workingPressure)}set startPressure(n){this.tank.startPressure=this.units.toBar(n)}set workingPressure(n){if(isNaN(n))return;const e=this.size;this._workingPressure=this.units.toBar(n),this.size=e}set workingPressureBars(n){if(isNaN(n))return;const e=this.size;this._workingPressure=n,this.size=e}set o2(n){this.tank.o2=n}set he(n){this.tank.he=n}assignTemplate(n){this.workingPressure=n.workingPressure,this.size=n.size}assignStandardGas(n){this.tank.assignStandardGas(n)}}let w4=(()=>{class t{constructor(e){this.units=e,this.appSettings=new uke}get settings(){return this.appSettings}get maxGasDensity(){return this.units.fromGramPerLiter(this.appSettings.maxGasDensity)}get primaryTankReserve(){return this.units.fromBar(this.appSettings.primaryTankReserve)}get stageTankReserve(){return this.units.fromBar(this.appSettings.stageTankReserve)}get defaultMaxGasDensity(){return this.units.fromGramPerLiter(Bu.recommendedMaximum)}get defaultPrimaryTankReserve(){return this.units.fromBar(x4.defaultPrimaryReserve)}get defaultStageTankReserve(){return this.units.fromBar(x4.defaultStageReserve)}get icdIgnored(){return this.appSettings.icdIgnored}get densityIgnored(){return this.appSettings.densityIgnored}get noDecoIgnored(){return this.appSettings.noDecoIgnored}get missingAirBreakIgnored(){return this.appSettings.missingAirBreakIgnored}set maxGasDensity(e){this.appSettings.maxGasDensity=this.units.toGramPerLiter(e)}set primaryTankReserve(e){this.appSettings.primaryTankReserve=this.units.toBar(e)}set stageTankReserve(e){this.appSettings.stageTankReserve=this.units.toBar(e)}set icdIgnored(e){this.appSettings.icdIgnored=e}set densityIgnored(e){this.appSettings.densityIgnored=e}set noDecoIgnored(e){this.appSettings.noDecoIgnored=e}set missingAirBreakIgnored(e){this.appSettings.missingAirBreakIgnored=e}loadFrom(e){this.settings.maxGasDensity=e.maxDensity||Bu.recommendedMaximum,this.settings.primaryTankReserve=e.primaryTankReserve||x4.defaultPrimaryReserve,this.settings.stageTankReserve=e.stageTankReserve||x4.defaultStageReserve,this.settings.icdIgnored=e.icdIgnored||!1,this.settings.densityIgnored=e.densityIgnored||!1,this.settings.noDecoIgnored=e.noDecoIgnored||!1,this.settings.missingAirBreakIgnored=e.missingAirBreakIgnored||!1}static#e=this.\u0275fac=function(r){return new(r||t)(gn(jr))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})();class _4{constructor(n,e){this.gfLow=n,this.gfHeigh=e}}let ZU=(()=>{class t{constructor(){this.lowName="Low (45/95)",this.mediumName="Medium (40/85)",this.highName="High (30/75)",this.empty=new _4(1,1),this.gfMap=new Map,this.gfMap.set(this.lowName,new _4(.45,.95)),this.gfMap.set(this.mediumName,new _4(Xr.gfLow,Xr.gfHigh)),this.gfMap.set(this.highName,new _4(.3,.75))}labelFor(e,r){for(const i of this.gfMap.keys()){const a=this.gfMap.get(i)||this.empty;if(a.gfLow===e&&a.gfHeigh===r)return i}return""}get(e){return this.gfMap.get(e)||this.empty}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})();class pc{static debug(n){}static warn(n){}}let u1=(()=>{class t{constructor(){this.onTanksReloaded=new yt,this.onTankChanged=new yt,this.onTankRemoved=new yt,this.onDepthsReloaded=new yt,this.onDepthChanged=new yt,this.onOptionsReloaded=new yt,this.onOptionsChanged=new yt,this.onSelectedChanged=new yt,this.onInfoCalculated=new yt,this.onWayPointsCalculated=new yt,this.onSetToSimple=new yt,this.tanksReloaded$=this.onTanksReloaded.asObservable(),this.tankRemoved$=this.onTankRemoved.asObservable(),this.tankChanged$=this.onTankChanged.asObservable(),this.depthsReloaded$=this.onDepthsReloaded.asObservable(),this.depthChanged$=this.onDepthChanged.asObservable(),this.optionsReloaded$=this.onOptionsReloaded.asObservable(),this.optionsChanged$=this.onOptionsChanged.asObservable(),this.selectedChanged$=this.onSelectedChanged.asObservable(),this.infoCalculated$=this.onInfoCalculated.asObservable(),this.wayPointsCalculated$=this.onWayPointsCalculated.asObservable(),this.setToSimple$=this.onSetToSimple.asObservable()}sendTanksReloaded(e){pc.debug("Tanks reloaded"),this.onTanksReloaded.next(e)}sendTanksRemoved(e){pc.debug("Tank removed"),this.onTankRemoved.next(e)}sendTankChanged(){pc.debug("Tank changed"),this.onTankChanged.next()}sendDepthChanged(){pc.debug("Depth changed"),this.onDepthChanged.next()}sendOptionsReloaded(e){pc.debug("Options reloaded"),this.onOptionsReloaded.next(e)}sendOptionsChanged(){pc.debug("Options changed"),this.onOptionsChanged.next()}sendSelectedChanged(e){pc.debug(`Selected dive changed to ${e}`),this.onSelectedChanged.next()}sendDepthsReloaded(e){pc.debug("Depths reloaded"),this.onDepthsReloaded.next(e)}sendWayPointsCalculated(e){this.onWayPointsCalculated.next(e)}sendInfoCalculated(e){this.onInfoCalculated.next(e)}sendSetSimple(){this.onSetToSimple.next()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})(),Dm=(()=>{class t{static#e=this.minimumSpeed=.1;constructor(e,r){this.units=e,this.dispatcher=r,this.safetyOffName="Never",this.safetyOnName="Always",this.standardGradients=new ZU,this.options=new Iu,this._diver=new Ou,this._toxicity=new Zd(this.options),this.options.salinity=m2.fresh,this.options.safetyStop=dc.auto}get toxicity(){return this._toxicity}get diverOptions(){return new tM(this.options,this._diver)}get maxEND(){return this.units.fromMeters(this.options.maxEND)}get lastStopDepth(){return this.units.fromMeters(this.options.lastStopDepth)}get descentSpeed(){return this.units.fromMeters(this.options.descentSpeed)}get ascentSpeed6m(){return this.units.fromMeters(this.options.ascentSpeed6m)}get ascentSpeed50percTo6m(){return this.units.fromMeters(this.options.ascentSpeed50percTo6m)}get ascentSpeed50perc(){return this.units.fromMeters(this.options.ascentSpeed50perc)}get altitude(){return this.units.fromMeters(this.options.altitude)}get gasSwitchDuration(){return this.options.gasSwitchDuration}get gfLow(){return this.options.gfLow}get gfHigh(){return this.options.gfHigh}get maxDecoPpO2(){return this.options.maxDecoPpO2}get maxPpO2(){return this.options.maxPpO2}get oxygenNarcotic(){return this.options.oxygenNarcotic}get problemSolvingDuration(){return this.options.problemSolvingDuration}get roundStopsToMinutes(){return this.options.roundStopsToMinutes}get salinity(){return this.options.salinity}get safetyAutoName(){return`Auto (> ${this.units.defaults.autoStopLevel} ${this.units.length})`}get safetyStopOption(){switch(this.options.safetyStop){case dc.never:return this.safetyOffName;case dc.always:return this.safetyOnName;default:return this.safetyAutoName}}get airBreaks(){return this.options.airBreaks}set maxEND(e){this.options.maxEND=this.units.toMeters(e)}set lastStopDepth(e){this.options.lastStopDepth=this.units.toMeters(e)}set descentSpeed(e){const r=this.units.toMeters(e);r<t.minimumSpeed||(this.options.descentSpeed=r)}set ascentSpeed6m(e){const r=this.units.toMeters(e);r<t.minimumSpeed||(this.options.ascentSpeed6m=r)}set ascentSpeed50percTo6m(e){const r=this.units.toMeters(e);r<t.minimumSpeed||(this.options.ascentSpeed50percTo6m=r)}set ascentSpeed50perc(e){const r=this.units.toMeters(e);r<t.minimumSpeed||(this.options.ascentSpeed50perc=r)}set altitude(e){this.options.altitude=this.units.toMeters(e)}set gasSwitchDuration(e){this.options.gasSwitchDuration=e}set gfLow(e){this.options.gfLow=e}set gfHigh(e){this.options.gfHigh=e}set maxDecoPpO2(e){this.options.maxDecoPpO2=e}set maxPpO2(e){this.options.maxPpO2=e}set oxygenNarcotic(e){this.options.oxygenNarcotic=e}set problemSolvingDuration(e){this.options.problemSolvingDuration=e}set roundStopsToMinutes(e){this.options.roundStopsToMinutes=e}set salinity(e){this.options.salinity=e}useRecreational(){this.applyValues(this.units.defaults.recreationalOptions)}useRecommended(){this.applyValues(this.units.defaults.recommendedOptions)}useSafetyOff(){this.options.safetyStop=dc.never}useSafetyAuto(){this.options.safetyStop=dc.auto}useSafetyOn(){this.options.safetyStop=dc.always}loadFrom(e,r){this.options.loadFrom(e);const i=new tM(e,r);this.applyDiver(i),this.dispatcher.sendOptionsReloaded(this)}applyDiver(e){this.diverOptions.loadFrom(e)}resetToSimple(){""===this.standardGradients.labelFor(this.gfLow,this.gfHigh)&&Xr.setMediumConservatism(this.options)}getOptions(){return this.options}getDiver(){return this._diver}switchAirBreaks(){this.airBreaks.enabled=!this.airBreaks.enabled}applyValues(e){this.options.ascentSpeed50perc=this.units.toMeters(e.ascentSpeed50perc),this.options.ascentSpeed50percTo6m=this.units.toMeters(e.ascentSpeed50percTo6m),this.options.ascentSpeed6m=this.units.toMeters(e.ascentSpeed6m),this.options.descentSpeed=this.units.toMeters(e.descentSpeed),this.options.lastStopDepth=this.units.toMeters(e.lastStopDepth),this.options.maxEND=this.units.toMeters(e.maxEND),Xr.useGeneralRecommended(this.options)}static#t=this.\u0275fac=function(r){return new(r||t)(gn(jr),gn(u1))};static#n=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})(),nM=(()=>{class t{constructor(e,r){this.units=e,this.dispatcher=r,this._tanks=[];const i=this.units.defaults.tanks;this.addTankBy(i.primary.size,i.primary.workingPressure)}get defaults(){return this.units.defaults}get tanks(){return this._tanks.slice()}get firstTank(){return this._tanks[0]}get singleTank(){return 1===this._tanks.length}get enoughGas(){return Pu.haveReserve(this.tankData)}get tankData(){return _o()(this._tanks).map(e=>e.tank).value()}addTank(){const e=this.units.defaults.tanks;this.addTankBy(e.stage.size,e.stage.workingPressure),this.dispatcher.sendTankChanged()}removeTank(e){this._tanks=this._tanks.filter(r=>r!==e),this.renumberIds(),this.dispatcher.sendTanksRemoved(e.tank)}loadFrom(e){if(e.length>0){const r=[];for(let i=0;i<e.length;i++)this.addTankFor(r,e[i]);this._tanks=r}this.dispatcher.sendTanksReloaded(this)}copyTanksConsumption(e){for(let r=0;r<this.tanks.length;r++){const i=e[r],a=this.tanks[r];a.tank.consumed=i.consumed,a.tank.reserve=i.reserve}}calculateTurnPressure(){return this.firstTank.startPressure-xn.floor(this.firstTank.tank.consumed/2)}resetToSimple(){this._tanks=this._tanks.slice(0,1),this.firstTank.he>0&&this.firstTank.tank.assignStandardGas(Mi.airName)}firstBy(e){return _o()(this._tanks).find(r=>r.tank===e)}addTankBy(e,r){const i=Xa.createDefault(),a=this.addTankFor(this._tanks,i);a.workingPressure=r,a.size=e}addTankFor(e,r){const i=new hc(r,this.units);return e.push(i),i.id=e.length,i}renumberIds(){for(let e=0;e<this._tanks.length;e++)this._tanks[e].id=e+1}static#e=this.\u0275fac=function(r){return new(r||t)(gn(jr),gn(u1))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})(),rM=(()=>{class t{constructor(){this.noDecoTime=0,this.maxTime=0,this.timeToSurface=0,this.turnPressure=0,this.turnTime=0,this.needsReturn=!1,this.notEnoughGas=!1,this.notEnoughTime=!1,this.planDuration=0,this.emergencyAscentStart=0,this.averageDepth=0,this.otu=0,this.cns=0,this.highestDensity=Yd.createDefault(),this.wayPoints=[],this.ceilings=[],this.finalTissues=[],this.events=[],this._calculatingProfile=!1,this._calculatingDiveInfo=!1,this._calculatingConsumption=!1,this._profileCalculated=!1,this._diveInfoCalculated=!1,this._consumptionCalculated=!1,this._calculationFailed=!1}static#e=this.maxAcceptableNdl=1e3;get diveInfoCalculated(){return this._diveInfoCalculated}get calculated(){return this._consumptionCalculated&&this.diveInfoCalculated}get running(){return!this.calculated||this._calculatingConsumption||this._calculatingDiveInfo}get profileCalculated(){return this._profileCalculated}get failed(){return this._calculationFailed}get totalDuration(){return 0===this.wayPoints.length?0:this.wayPoints[this.wayPoints.length-1].endTime}get ndlValid(){return this._diveInfoCalculated&&this.noDecoTime<t.maxAcceptableNdl}get noDecoExceeded(){return this.planDuration>this.noDecoTime}get hasErrors(){return this.calculated&&(this.failed||this.notEnoughTime)}get showResults(){return this._consumptionCalculated&&!this.hasErrors}get otuExceeded(){return this.otu>.8*qx.dailyLimit}get cnsExceeded(){return this.cns>80}get showMaxDuration(){return this._consumptionCalculated&&this.showMaxBottomTime}get showMaxBottomTime(){return this.maxTime>0}get hasErrorEvent(){return this.hasErrors||this.notEnoughGas}get hasWarningEvent(){return this.otuExceeded||this.cnsExceeded||!this.events.every(e=>{switch(e.type){case ai.lowPpO2:case ai.highPpO2:case ai.highAscentSpeed:case ai.highDescentSpeed:case ai.brokenCeiling:case ai.isobaricCounterDiffusion:case ai.maxEndExceeded:case ai.highGasDensity:return!1;default:return!0}})}get endsOnSurface(){const e=this.wayPoints.length;return e>0&&0===this.wayPoints[e-1].endDepthMeters}start(){this._calculatingConsumption=!0,this._calculatingProfile=!0,this._calculatingDiveInfo=!0,this._calculationFailed=!1}showStillRunning(){this._calculatingProfile&&(this._profileCalculated=!1,this.emptyProfile()),this._calculatingDiveInfo&&(this._diveInfoCalculated=!1),this._calculatingConsumption&&(this._consumptionCalculated=!1)}profileFinished(){this._profileCalculated=!0,this._calculatingProfile=!1}diveInfoFinished(){this._diveInfoCalculated=!0,this._calculatingDiveInfo=!1}consumptionFinished(){this._consumptionCalculated=!0,this._calculatingConsumption=!1}endFailed(){this.profileFinished(),this.diveInfoFinished(),this.consumptionFinished(),this.emptyProfile(),this._calculationFailed=!0}emptyProfile(){this.wayPoints=[],this.ceilings=[],this.events=[]}static#t=this.\u0275fac=function(r){return new(r||t)};static#n=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})();class Hu{static#e=this.defaultDuration=10*Br.oneMinute;constructor(){this.strategy=Tm.ALL,this._segments=new Xs}get length(){return this._segments.length}get minimumSegments(){return this.length>1}get notEnoughTime(){return 2===this.length&&0===this.segments[1].duration}get segments(){return this._segments.items}get maxDepth(){return this._segments.maxDepth}get startAscentIndex(){return this._segments.startAscentIndex}get startAscentTime(){return this._segments.startAscentTime}get duration(){return Br.toMinutes(this._segments.duration)}get availablePressureRatio(){return this.strategy===Tm.THIRD?2/3:1}get needsReturn(){return this.strategy!==Tm.ALL}copySegments(){return this._segments.copy()}setSimple(n,e,r,i){this.reset(n,e,r,i)}assignDepth(n,e,r){this._segments=Wl.createPlan(n,this.duration,e,r)}assignDuration(n,e,r){this._segments=Wl.createPlan(this.maxDepth,n,e,r)}addSegment(n){const e=this._segments.last();this._segments.add(e.endDepth,n.gas,Hu.defaultDuration).tank=n}removeSegment(n){this._segments.remove(n)}fixDepths(){this._segments.fixStartDepths()}loadFrom(n){n.length<=1||(this._segments=Xs.fromCollection(n))}resetSegments(n,e){this.segments.forEach(r=>{r.tank===n&&(r.tank=e)})}reset(n,e,r,i){this._segments=Wl.createPlan(n,e,r,i)}static#t=this.\u0275fac=function(e){return new(e||Hu)};static#n=this.\u0275prov=nn({token:Hu,factory:Hu.\u0275fac})}let P1=(()=>{class t{constructor(){this.unsubscribe$=new yt}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})(),XU=(()=>{class t extends P1{constructor(e,r,i,a,s){if(super(),this.units=e,this.tanksService=r,this.dive=i,this.optionsService=a,this.dispatcher=s,this._levels=[],this.plan=new Hu,this.toxicity=this.optionsService.toxicity,0===this.plan.maxDepth){let l=10*this.units.defaults.stopsDistance;l=this.units.toMeters(l);const x=this.optionsService.getOptions();this.plan.setSimple(l,12,this.firstTank,x)}this.dispatcher.tankRemoved$.pipe(Wr(this.unsubscribe$)).subscribe(l=>this.tankRemoved(l)),this.updateLevels()}get levels(){return this._levels}get segments(){return this.plan.segments}get bestNitroxMix(){const e=this.toxicity.bestNitroxMix(this.plan.maxDepth)/100;return Mi.nameFor(e)}get plannedDepth(){return this.units.fromMeters(this.plannedDepthMeters)}get plannedDepthMeters(){return this.plan.maxDepth}get planDuration(){return this.plan.duration}get notEnoughTime(){return this.plan.notEnoughTime}get startAscentTime(){return this.plan.startAscentTime}get needsReturn(){return this.plan.needsReturn}get startAscentIndex(){return this.plan.startAscentIndex}get minimumSegments(){return this.plan.minimumSegments}get firstTank(){return this.tanksService.firstTank.tank}set plannedDepth(e){const r=this.units.toMeters(e);this.assignDepth(r),this.levelChanged()}set planDuration(e){this.plan.assignDuration(e,this.firstTank,this.optionsService.getOptions()),this.updateLevels(),this.apply()}addSegment(){this.addSegmentToPlan(),this.updateLevels(),this.levelChanged()}removeSegment(e){this.plan.removeSegment(e.segment),this.updateLevels(),this.levelChanged()}applyMaxDuration(){this.planDuration=this.dive.maxTime}applyNdlDuration(){this.planDuration=this.dive.noDecoTime}applyMaxDepth(){let e=this.toxicity.maxDepth(this.firstTank),r=this.units.fromMeters(e);r=xn.floor(r,1),e=this.units.toMeters(r),this.assignDepth(e),this.levelChanged()}levelChanged(){this.plan.fixDepths(),this.apply()}assignTank(e,r){e.tank=r,this.apply()}loadFrom(e){this.plan.loadFrom(e),this.depthsReloaded()}setSimple(){this.plan.setSimple(this.plan.maxDepth,this.plan.duration,this.firstTank,this.optionsService.getOptions()),this.updateLevels()}fixDepths(){this.plan.fixDepths()}assignDepth(e){const r=this.optionsService.getOptions();this.plan.assignDepth(e,this.firstTank,r),this.updateLevels()}addSegmentToPlan(){const e=this.plan.segments;this.plan.addSegment(e[e.length-1].tank)}apply(){this.dispatcher.sendDepthChanged()}tankRemoved(e){this.plan.resetSegments(e,this.firstTank),this.dispatcher.sendDepthChanged()}updateLevels(){const r=[];this.plan.segments.forEach(i=>{const s=this.tanksService.firstBy(i.tank),l=new lke(this.units,i,s);r.push(l)}),this._levels=r}depthsReloaded(){this.updateLevels(),this.dispatcher.sendDepthsReloaded(this)}static#e=this.\u0275fac=function(r){return new(r||t)(gn(jr),gn(nM),gn(rM),gn(Dm),gn(u1))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})();class C1{static selectChartTimeFormat(n){return C1.hasHoursRuntime(n)?"%H:%M:%S":"%M:%S"}static selectTimeFormat(n){return C1.hasHoursRuntime(n)?"mm:ss":"m:ss"}static toDate(n){return new Date(1970,1,1,0,0,n,0)}static secondsFromDate(n){const e=new Date(n);let r=e.getSeconds();return r+=e.getMinutes()*Br.oneMinute,r+=e.getHours()*Br.oneHour,r}static parseToShortTime(n){if(!n)return null;const r=n.match(/(\d{2})[:](\d{2})/);return r?Number(r[1])*Br.oneHour+Number(r[2])*Br.oneMinute:null}static formatShortTime(n){const r=xn.floor(n/Br.oneHour).toString().padStart(2,"0");let i=n%Br.oneHour/Br.oneMinute;return i=xn.floor(i),`${r}:${i.toString().padStart(2,"0")}`}static hasHoursRuntime(n){return Br.toHours(n)>=1}}class fke{constructor(n,e,r){this._index=n,this.units=e,this.dispatcher=r,this._id=0,this._surfaceInterval=Number.POSITIVE_INFINITY,this._diveResult=new rM,this.assignIndex(n),this._tanks=new nM(e,r),this._optionsService=new Dm(this.units,this.dispatcher),this._depths=new XU(this.units,this.tanksService,this._diveResult,this._optionsService,this.dispatcher)}get index(){return this._index}get id(){return this._id}get isFirst(){return 1===this.id}get surfaceInterval(){return this._surfaceInterval}get surfaceIntervalText(){return this.isRepetitive?C1.formatShortTime(this.surfaceInterval):null}get isRepetitive(){return this.surfaceInterval!==Number.POSITIVE_INFINITY}get tanksService(){return this._tanks}get diveResult(){return this._diveResult}get depths(){return this._depths}get optionsService(){return this._optionsService}get title(){const n=xn.round(this.depths.plannedDepth);return`${this.id}. ${n} ${this.units.length}, ${this.depths.planDuration} min`}set surfaceInterval(n){this.isFirst||n<0||(this._surfaceInterval=n,this.dispatcher.sendDepthChanged())}assignIndex(n){this._index=n,this._id=n+1}applyNitrox(n,e){this.tanksService.firstTank.tank.o2=n,this.optionsService.diverOptions.maxPpO2=e}setSimple(){this.optionsService.resetToSimple(),this.tanksService.resetToSimple(),this.depths.setSimple()}applyPrimarySurfaceInterval(){this.surfaceInterval=Number.POSITIVE_INFINITY}applyOneHourSurfaceInterval(){this.surfaceInterval=Br.oneHour}apply30MinutesSurfaceInterval(){this.surfaceInterval=30*Br.oneMinute}apply2HourSurfaceInterval(){this.surfaceInterval=2*Br.oneHour}}let Ka=(()=>{class t{constructor(e,r){this.units=e,this.dispatcher=r,this._dives=[],this.add(),this._selected=this._dives[0]}get dives(){return this._dives.slice()}get selected(){return this._selected}get length(){return this._dives.length}get hasMany(){return this._dives.length>1}get empty(){return this.length<=1}get selectedTanks(){return this.selected.tanksService}get selectedResult(){return this.selected.diveResult}get selectedDepths(){return this.selected.depths}get selectedOptions(){return this.selected.optionsService}get selectedToxicity(){return this.selected.optionsService.toxicity}set selected(e){this._dives.includes(e)&&(this._selected=e,this.dispatcher.sendSelectedChanged(e.id))}setSelectedIndex(e){e>=0&&e<this._dives.length&&(this.selected=this._dives[e])}add(){const e=this.createDiveSchedule();return this._dives.push(e),this._selected=e,e}remove(e){this.empty||(this._dives=this._dives.filter(r=>r!==e),this.renumber(),this.selectPreviousDive(e),this.dispatcher.sendDepthChanged())}clear(){this._dives.splice(1,this._dives.length)}setSimple(){this._dives.forEach(e=>{e.setSimple()}),this.dispatcher.sendSetSimple()}validId(e){return this._dives[this._dives.length-1].id>=e&&e>0}byId(e){return _o()(this.dives).filter(r=>r.id===e).first()}createDiveSchedule(){return new fke(this.length,this.units,this.dispatcher)}renumber(){this._dives.forEach((e,r)=>{e.assignIndex(r)})}selectPreviousDive(e){const r=e.id-1;this._selected=this._dives[r>0?r-1:0]}static#e=this.\u0275fac=function(r){return new(r||t)(gn(jr),gn(u1))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})(),iM=(()=>{class t{constructor(e,r,i){this.units=e,this.appSettings=r,this.schedules=i}get ranges(){return this.units.ranges}apply(){this.applyToAppSettings(),this.schedules.dives.forEach(e=>this.applyDive(e))}applyDive(e){this.applyToOptions(e.optionsService),this.normalizeTanks(e.tanksService),this.normalizeSegments(e.depths)}applyToAppSettings(){const e=this.appSettings.settings;e.maxGasDensity=this.fitUnit(i=>this.units.fromGramPerLiter(i),i=>this.units.toGramPerLiter(i),e.maxGasDensity,this.units.ranges.maxDensity,this.units.ranges.densityRounding),e.primaryTankReserve=this.fitPressureToRange(e.primaryTankReserve,this.ranges.tankPressure),e.stageTankReserve=this.fitPressureToRange(e.stageTankReserve,this.ranges.tankPressure)}applyToOptions(e){const r=e.diverOptions,i=this.units.ranges.rmvRounding;e.diverOptions.rmv=this.fitUnit(a=>this.units.fromLiter(a),a=>this.units.toLiter(a),r.rmv,this.units.ranges.diverRmv,i),e.diverOptions.stressRmv=this.fitUnit(a=>this.units.fromLiter(a),a=>this.units.toLiter(a),r.stressRmv,this.units.ranges.diverRmv,i),this.applyOptionsCalculationValues(e),this.normalizeOptions(e)}applyOptionsCalculationValues(e){const r=this.units.defaults,i=e.getOptions();i.decoStopDistance=this.units.toMeters(r.stopsDistance),i.minimumAutoStopDepth=this.units.toMeters(r.autoStopLevel),i.lastStopDepth=this.units.toMeters(r.stopsDistance)}normalizeOptions(e){const i=this.ranges.speed;e.altitude=this.fitUnit(a=>a,a=>a,e.altitude,this.ranges.altitude),e.ascentSpeed50perc=this.fitUnit(a=>a,a=>a,e.ascentSpeed50perc,i),e.ascentSpeed50percTo6m=this.fitUnit(a=>a,a=>a,e.ascentSpeed50percTo6m,i),e.ascentSpeed6m=this.fitUnit(a=>a,a=>a,e.ascentSpeed6m,i),e.descentSpeed=this.fitUnit(a=>a,a=>a,e.descentSpeed,i),e.lastStopDepth=this.fitUnit(a=>a,a=>a,e.lastStopDepth,this.ranges.lastStopDepth),e.maxEND=this.fitUnit(a=>a,a=>a,e.maxEND,this.ranges.narcoticDepth)}normalizeTanks(e){const i=this.units.defaults.tanks;e.tanks.forEach(a=>{const s=a.tank;if(this.units.imperialUnits){const l=s.size;0===a.workingPressure&&(a.workingPressure=i.primary.workingPressure),a.workingPressureBars=this.fitPressureToRange(a.workingPressureBars,this.ranges.tankPressure),a.size=this.units.fromTankLiters(l,a.workingPressureBars)}else a.workingPressureBars=0;s.startPressure=this.fitPressureToRange(s.startPressure,this.ranges.tankPressure),s.size=this.fitTankSizeToRange(s.size,a.workingPressureBars,this.ranges.tankSize)})}normalizeSegments(e){e.segments.forEach(i=>{i.startDepth=this.fitLengthToRange(i.startDepth,this.ranges.depth),i.endDepth=this.fitLengthToRange(i.endDepth,this.ranges.depth)}),e.fixDepths()}fitLengthToRange(e,r){return this.fitUnit(i=>this.units.fromMeters(i),i=>this.units.toMeters(i),e,r)}fitPressureToRange(e,r){return this.fitUnit(i=>this.units.fromBar(i),i=>this.units.toBar(i),e,r)}fitTankSizeToRange(e,r,i){return this.fitUnit(a=>this.units.fromTankLiters(a,r),a=>this.units.toTankLiters(a,r),e,i,1)}fitUnit(e,r,i,a,s=0){let l=e(i);return l=xn.round(l,s),l=this.fitToRange(l,a[0],a[1]),r(l)}fitToRange(e,r,i){return e>i?i:e<r?r:e}static#e=this.\u0275fac=function(r){return new(r||t)(gn(jr),gn(w4),gn(Ka))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})(),Bi=(()=>{class t{static#e=this.dashboard="dashboard";static#t=this.nitrox="nitrox";static#n=this.sac="sac";static#r=this.ndl="ndl";static#i=this.settings="settings";static#a=this.about="about";static#s=this.altitude="altitude";static#o=this.weight="weight";static#c=this.gas="gas";static#l=this.diff="diff";static#u=this.redundancies="redundancies";static#f=this.blender="blender"}return t})(),Xd=(()=>{class t{constructor(){this.states=new Map,this._lastView=Bi.dashboard,this._started=!1}get lastView(){return this._lastView}get started(){return this._started}get redirectToView(){return!this._started&&this._lastView!==Bi.dashboard&&"/"!==this._lastView}get all(){return[...this.states.values()]}get(e){return this.states.get(e)}set(e){this._started=!0,this.states.set(e.id,e),this._lastView=e.id}reset(){this.loadFrom({lastScreen:Bi.dashboard,states:[]})}loadFrom(e){!e||!e.states||(this._lastView=e.lastScreen,this.states.clear(),e.states.forEach(r=>{this.states.set(r.id,r)}))}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})();class ci{static toTanks(n){const e=[];return n.forEach(r=>{const i=new Xa(r.size,r.startPressure,0);i.id=r.id,i.gas.fO2=r.gas.fO2,i.gas.fHe=r.gas.fHe,e.push(i)}),Pu.renumberIds(e),e}static fromTanks(n){const e=[];return n.forEach(r=>{const i=r.tank,a={id:i.id,size:i.size,workPressure:r.workingPressureBars,startPressure:i.startPressure,gas:ci.fromGas(i.gas)};e.push(a)}),e}static toConsumed(n){const e=[];for(let r=0;r<n.length;r++){const i=n[r];e.push({id:i.id,consumed:i.consumed,reserve:i.reserve})}return e}static toSegments(n,e){const r=[];for(let i=0;i<n.length;i++){const a=n[i],s=ci.toGas(a.gas),l=new Oo(a.startDepth,a.endDepth,s,a.duration);a.tankId>0&&a.tankId<=e.length&&(l.tank=e[a.tankId-1]),r.push(l)}return r}static fromSegments(n){const e=[];return n.forEach(r=>{const a={startDepth:r.startDepth,endDepth:r.endDepth,duration:r.duration,tankId:r.tank?r.tank.id:0,gas:ci.fromGas(r.gas)};e.push(a)}),e}static toProfile(n,e){const r=ci.toSegments(n.segments,e);if(n.errors.length>0){const a=ci.toEvents(n.errors);return y4.fromErrors(r,a.items)}const i=ci.toTissues(n.tissues);return y4.fromProfile(r,n.ceilings,i)}static fromProfile(n){return{segments:ci.fromSegments(n.segments),ceilings:n.ceilings,tissues:ci.fromTissues(n.tissues),errors:ci.fromEvents(n.errors)}}static toTissues(n){return _o()(n).map(e=>({pN2:e.pN2,pHe:e.pHe,a:e.a,b:e.b})).value()}static fromTissues(n){return _o()(n).map(e=>({pN2:e.pN2,pHe:e.pHe,a:e.a,b:e.b})).value()}static toEvents(n){const e=new BU;return n.forEach(r=>{const i=c1.create(r.type,r.timeStamp,r.depth);i.message=r.message,r.gas&&(i.gas=ci.toGas(r.gas)),e.add(i)}),e}static fromEvents(n){const e=[];return n.forEach(r=>{const i={timeStamp:r.timeStamp,depth:r.depth,type:r.type,message:r.message};r.gas&&(i.gas=ci.fromGas(r.gas)),e.push(i)}),e}static fromDiver(n){return{rmv:n.rmv,stressRmv:n.stressRmv}}static toDiver(n){return new Ou(n.rmv,n.stressRmv)}static fromOptions(n){return{gfLow:n.gfLow,gfHigh:n.gfHigh,maxPpO2:n.maxPpO2,maxDecoPpO2:n.maxDecoPpO2,salinity:n.salinity,altitude:n.altitude,roundStopsToMinutes:n.roundStopsToMinutes,gasSwitchDuration:n.gasSwitchDuration,safetyStop:n.safetyStop,lastStopDepth:n.lastStopDepth,decoStopDistance:n.decoStopDistance,minimumAutoStopDepth:n.minimumAutoStopDepth,maxEND:n.maxEND,oxygenNarcotic:n.oxygenNarcotic,ascentSpeed6m:n.ascentSpeed6m,ascentSpeed50percTo6m:n.ascentSpeed50percTo6m,ascentSpeed50perc:n.ascentSpeed50perc,descentSpeed:n.descentSpeed,problemSolvingDuration:n.problemSolvingDuration,airBreaks:ci.fromAirBreaks(n.airBreaks)}}static toOptions(n){const e=new Iu(n.gfLow,n.gfHigh,n.maxPpO2,n.maxDecoPpO2,n.salinity);return e.altitude=n.altitude,e.roundStopsToMinutes=n.roundStopsToMinutes,e.gasSwitchDuration=n.gasSwitchDuration,e.safetyStop=n.safetyStop,e.lastStopDepth=n.lastStopDepth,e.decoStopDistance=n.decoStopDistance,e.minimumAutoStopDepth=n.minimumAutoStopDepth,e.maxEND=n.maxEND,e.oxygenNarcotic=n.oxygenNarcotic,e.ascentSpeed6m=n.ascentSpeed6m,e.ascentSpeed50percTo6m=n.ascentSpeed50percTo6m,e.ascentSpeed50perc=n.ascentSpeed50perc,e.descentSpeed=n.descentSpeed,e.problemSolvingDuration=n.problemSolvingDuration,ci.toAirBreaks(e.airBreaks,n.airBreaks),e}static fromDensity(n){return{gas:ci.fromGas(n.gas),depth:n.depth,density:n.density}}static toDensity(n){const e=ci.toGas(n.gas);return new Yd(e,n.depth,n.density)}static toGas(n){return new ms(n.fO2,n.fHe)}static fromGas(n){return{fO2:n.fO2,fHe:n.fHe}}static fromAirBreaks(n){return{enabled:n.enabled,oxygenDuration:n.oxygenDuration,bottomGasDuration:n.bottomGasDuration}}static toAirBreaks(n,e){e&&(n.enabled=e.enabled,n.oxygenDuration=e.oxygenDuration,n.bottomGasDuration=e.bottomGasDuration)}}let jl=(()=>{class t{constructor(e){this.schedules=e,this._isComplex=!1}get isComplex(){return this._isComplex}set isComplex(e){this._isComplex=e,e||this.schedules.setSimple()}static#e=this.\u0275fac=function(r){return new(r||t)(gn(Ka))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})(),aM=(()=>{class t{constructor(e,r,i,a,s){this.viewSwitch=e,this.units=r,this.schedules=i,this.appSettings=a,this.viewStates=s}static loadWorkingPressure(e,r){for(let i=0;i<r.length;i++){const a=e[i].workPressure;a>0&&(r[i].workingPressureBars=a)}}toPreferences(){return{states:this.toStates(),options:this.toAppSettings(),dives:this.toDives()}}applyApp(e){this.applyLoaded(e),this.viewStates.loadFrom(e.states);const r=this.viewStates.get(Bi.dashboard);r&&this.schedules.setSelectedIndex(r.selectedDiveIndex)}toDive(){return this.toDiveFrom(this.schedules.selected)}loadDive(e,r){const i=this.toDiveSetup(r);e.optionsService.loadFrom(i.options,i.diver),e.tanksService.loadFrom(i.tanks),t.loadWorkingPressure(r.tanks,e.tanksService.tanks),e.depths.loadFrom(i.segments),r.surfaceInterval&&(e.surfaceInterval=r.surfaceInterval)}addLoaded(e){const r=this.schedules.add();return this.loadDive(r,e),r}applyLoaded(e){this.units.imperialUnits=e.options.imperialUnits,this.applyDives(e.dives),this.appSettings.loadFrom(e.options),this.viewSwitch.isComplex=e.options.isComplex}applyDives(e){if(e.length>0){this.schedules.clear(),this.loadDive(this.schedules.dives[0],e[0]);for(let r=1;r<e.length;r++)this.addLoaded(e[r])}}toDiveSetup(e){const r=ci.toTanks(e.tanks);return{diver:ci.toDiver(e.diver),options:ci.toOptions(e.options),tanks:r,segments:ci.toSegments(e.plan,r)}}toAppSettings(){const e=this.appSettings.settings;return{imperialUnits:this.units.imperialUnits,isComplex:this.viewSwitch.isComplex,language:"en",maxDensity:e.maxGasDensity,primaryTankReserve:e.primaryTankReserve,stageTankReserve:e.stageTankReserve,icdIgnored:e.icdIgnored,densityIgnored:e.densityIgnored,noDecoIgnored:e.noDecoIgnored,missingAirBreakIgnored:e.missingAirBreakIgnored}}toDiveFrom(e){const r=e.isRepetitive?e.surfaceInterval:void 0;return{options:ci.fromOptions(e.optionsService.getOptions()),diver:ci.fromDiver(e.optionsService.getDiver()),tanks:ci.fromTanks(e.tanksService.tanks),plan:ci.fromSegments(e.depths.segments),surfaceInterval:r}}toDives(){return _o()(this.schedules.dives).map(e=>this.toDiveFrom(e)).value()}toStates(){return{lastScreen:this.viewStates.lastView,states:this.viewStates.all}}static#e=this.\u0275fac=function(r){return new(r||t)(gn(jl),gn(jr),gn(Ka),gn(w4),gn(Xd))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})(),Kd=(()=>{class t{static#e=this.disclaimerValue="confirmed";static#t=this.storageKey="preferences";static#n=this.storageDefaultsKey="defaults";static#r=this.disclaimerKey="disclaimer";constructor(e){this.preferencesFactory=e}load(){const e=localStorage.getItem(t.storageKey);if(!e)return;const r=JSON.parse(e);this.preferencesFactory.applyApp(r)}loadDefault(e){const r=localStorage.getItem(t.storageDefaultsKey);if(!r)return;const i=JSON.parse(r);i&&this.preferencesFactory.loadDive(e,i)}save(){const e=this.preferencesFactory.toPreferences(),r=JSON.stringify(e);localStorage.setItem(t.storageKey,r)}saveDefault(){const e=this.preferencesFactory.toDive(),r=JSON.stringify(e);localStorage.setItem(t.storageDefaultsKey,r)}ensureDefault(){localStorage.getItem(t.storageDefaultsKey)||this.saveDefault()}disableDisclaimer(){localStorage.setItem(t.disclaimerKey,t.disclaimerValue)}disclaimerEnabled(){return localStorage.getItem(t.disclaimerKey)!==t.disclaimerValue}static#i=this.\u0275fac=function(r){return new(r||t)(gn(aM))};static#a=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})(),Ho=(()=>{class t{constructor(e,r){this.views=e,this.preferences=r,this._mainViewState={id:Bi.dashboard,selectedDiveIndex:0}}reset(){this.views.reset(),this.saveMainView()}saveMainView(){this.saveView(this._mainViewState)}saveView(e){this.views.set(e),this.preferences.save()}loadView(e){return this.views.get(e)}setSelectedDive(e){this._mainViewState.selectedDiveIndex=e}static#e=this.\u0275fac=function(r){return new(r||t)(gn(Xd),gn(Kd))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})(),Ls=(()=>{class t{constructor(e){this.numberPipe=e}controlInValid(e){return!!e&&e.invalid&&(e.dirty||e.touched)}static#e=this.\u0275fac=function(r){return new(r||t)(gn(hs))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})(),Qa=(()=>{class t{static#e=this.minGradient=10;static#t=this.maxGradient=120;constructor(e){this.units=e}get nitroxOxygen(){return this.rangeFor(this.ranges.nitroxOxygen)}get trimixOxygen(){return this.rangeFor(this.ranges.trimixOxygen)}get trimixHe(){return this.rangeFor(this.ranges.tankHe)}get ppO2(){return this.rangeFor(this.ranges.ppO2)}get depth(){return this.rangeFor(this.ranges.depth)}get depthFromSurface(){return this.rangeFor([0,this.ranges.depth[1]])}get duration(){return this.rangeFor(this.ranges.duration)}get tankConsumed(){return this.rangeFor(this.ranges.consumed)}get tankSize(){return this.rangeFor(this.ranges.tankSize)}get altitude(){return this.rangeFor(this.ranges.altitude)}get gradients(){return this.rangeFor([t.minGradient,t.maxGradient])}get speed(){return this.rangeFor(this.ranges.speed)}get lastStopDepth(){return this.rangeFor(this.ranges.lastStopDepth)}get duration100(){return this.rangeFor([1,100])}get maxEnd(){return this.rangeFor(this.ranges.narcoticDepth)}get diverRmv(){return[N1.required,this.validateMinRmv,this.validateMaxRmv]}get maxDensity(){return[N1.required,this.validateMinDensity,this.validateMaxDensity]}get tankPressure(){return[N1.required,this.validateMinPressure,this.validateMaxPressure]}get ranges(){return this.units.ranges}rangeFor(e){return[N1.required,N1.min(e[0]),N1.max(e[1])]}surfaceInterval(){return e=>{const i=e?.value,a=C1.parseToShortTime(i);return null===i||0!==i.length&&a?null:{surfaceInterval:!0}}}validateMinRmv(){return e=>N1.min(this.ranges.diverRmv[0])(e)}validateMaxRmv(){return e=>N1.max(this.ranges.diverRmv[1])(e)}validateMinDensity(){return e=>N1.min(this.ranges.maxDensity[0])(e)}validateMaxDensity(){return e=>N1.max(this.ranges.maxDensity[1])(e)}validateMinPressure(){return e=>N1.min(this.ranges.tankPressure[0])(e)}validateMaxPressure(){return e=>N1.max(this.ranges.tankPressure[1])(e)}static#n=this.\u0275fac=function(r){return new(r||t)(gn(jr))};static#r=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})(),KU=(()=>{class t{constructor(e,r,i,a,s,l,x,F,oe,Le){this.units=e,this.settingsNormalization=r,this.views=i,this.appSettings=a,this.dispatcher=s,this.formBuilder=l,this.cd=x,this.inputs=F,this.validators=oe,this.location=Le,this.flagIcon=QN,this.diverIcon=xB}get ranges(){return this.units.ranges}get maxDensityInvalid(){return this.inputs.controlInValid(this.settingsForm.controls.maxDensity)}get primaryTankReserveInvalid(){return this.inputs.controlInValid(this.settingsForm.controls.primaryTankReserve)}get stageTankReserveInvalid(){return this.inputs.controlInValid(this.settingsForm.controls.stageTankReserve)}get densityStep(){return Math.pow(.1,this.ranges.densityRounding)}get maxDensity(){return xn.round(this.appSettings.maxGasDensity,this.ranges.densityRounding)}get primaryTankReserve(){return xn.round(this.appSettings.primaryTankReserve)}get stageTankReserve(){return xn.round(this.appSettings.stageTankReserve)}ngOnInit(){this.settingsForm=this.formBuilder.group({imperialUnits:[this.units.imperialUnits,[N1.required]],maxDensity:[this.maxDensity,this.validators.maxDensity],primaryTankReserve:[this.primaryTankReserve,this.validators.tankPressure],stageTankReserve:[this.stageTankReserve,this.validators.tankPressure],densityIgnored:[this.appSettings.densityIgnored,[N1.required]],icdIgnored:[this.appSettings.icdIgnored,[N1.required]],noDecoIgnored:[this.appSettings.noDecoIgnored,[N1.required]],missingAirBreak:[this.appSettings.missingAirBreakIgnored,[N1.required]]})}use(){if(this.settingsForm.invalid)return;const e=this.settingsForm.value;this.appSettings.icdIgnored=!!e.icdIgnored,this.appSettings.densityIgnored=!!e.densityIgnored,this.appSettings.noDecoIgnored=!!e.noDecoIgnored,this.appSettings.missingAirBreakIgnored=!!e.missingAirBreak,this.appSettings.maxGasDensity=Number(e.maxDensity),this.appSettings.primaryTankReserve=Number(e.primaryTankReserve),this.appSettings.stageTankReserve=Number(e.stageTankReserve),this.units.imperialUnits=!!e.imperialUnits,this.settingsNormalization.apply(),this.views.reset(),this.reLoad(),this.dispatcher.sendSetSimple(),this.cd.detectChanges()}resetToDefault(){this.settingsForm.patchValue({imperialUnits:!1,maxDensity:xn.round(this.appSettings.defaultMaxGasDensity,this.ranges.densityRounding),primaryTankReserve:xn.round(this.appSettings.defaultPrimaryTankReserve),stageTankReserve:xn.round(this.appSettings.defaultStageTankReserve),icdIgnored:!1,densityIgnored:!1,noDecoIgnored:!1,missingAirBreak:!1})}reLoad(){this.settingsForm.patchValue({maxDensity:this.maxDensity,primaryTankReserve:this.primaryTankReserve,stageTankReserve:this.stageTankReserve})}static#e=this.\u0275fac=function(r){return new(r||t)(lt(jr),lt(iM),lt(Ho),lt(w4),lt(u1),lt(ss),lt($c),lt(Ls),lt(Qa),lt(q1))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-app-settings"]],decls:75,vars:26,consts:[[1,"row","mt-5"],[1,"row",3,"formGroup"],[1,"col","col-12","col-sm-7","col-lg-5","col-xl-4","col-xxl-3","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[1,"form-check"],["type","radio","id","metricRadio","formControlName","imperialUnits",1,"form-check-input",3,"value"],["for","metricRadio","value","metric",1,"custom-control-label"],["type","radio","id","imperialRadio","formControlName","imperialUnits",1,"form-check-input",3,"value"],["for","imperialRadio",1,"custom-control-label"],[1,"mb-4","col","col-12","col-md-6","col-lg-12","col-xl-6"],["for","maxDensity","mdbLabel","",1,"form-label"],["type","number","id","maxDensity","formControlName","maxDensity","required","",1,"form-control",3,"min","max","step"],[1,"invalid-feedback","position-absolute"],["for","primaryTankReserve","mdbLabel","",1,"form-label"],["type","number","id","primaryTankReserve","formControlName","primaryTankReserve","required","","step","1",1,"form-control",3,"min","max"],["for","stageTankReserve","mdbLabel","",1,"form-label"],["type","number","id","stageTankReserve","formControlName","stageTankReserve","required","","step","1",1,"form-control",3,"min","max"],[1,"form-check","form-switch"],["type","checkbox","id","icdIgnored","formControlName","icdIgnored","mdbCheckbox","",1,"form-check-input"],["for","icdIgnored",1,"custom-control-label"],["type","checkbox","id","densityIgnored","formControlName","densityIgnored","mdbCheckbox","",1,"form-check-input"],["for","densityIgnored",1,"custom-control-label"],["type","checkbox","id","noDecoIgnored","formControlName","noDecoIgnored","mdbCheckbox","",1,"form-check-input"],["for","noDecoIgnored",1,"custom-control-label"],["type","checkbox","id","missingAirBreak","formControlName","missingAirBreak","mdbCheckbox","",1,"form-check-input"],["for","missingAirBreak",1,"custom-control-label"],[1,"row"],[1,"form-group","mt-3"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","button",1,"btn","btn-secondary",3,"click","hidden"]],template:function(r,i){1&r&&(be(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4),un(5,"fa-icon",5),be(6,"span"),Ge(7,"Units"),we()(),be(8,"div",6)(9,"div",7),un(10,"input",8),be(11,"label",9),Ge(12,"Metric units (m, l, bar)"),we()(),be(13,"div",7),un(14,"input",10),be(15,"label",11),Ge(16,"Imperial units (ft, cuft, psi)"),un(17,"br"),Ge(18," (Experimental, not recommended)"),we()()()()(),be(19,"div",2)(20,"div",3)(21,"div",4),un(22,"fa-icon",5),be(23,"span"),Ge(24,"Limits"),we()(),be(25,"div",6)(26,"div",12)(27,"label",13),Ge(28),we(),un(29,"input",14),be(30,"div",15),Ge(31),we()(),be(32,"div",12)(33,"label",16),Ge(34),we(),un(35,"input",17),be(36,"div",15),Ge(37),we()(),be(38,"div",12)(39,"label",18),Ge(40),we(),un(41,"input",19),be(42,"div",15),Ge(43),we()()()()(),be(44,"div",2)(45,"div",3)(46,"div",4),un(47,"fa-icon",5),be(48,"span"),Ge(49,"Ignored Issues (warnings/errors)"),we()(),be(50,"div",6)(51,"div",20),un(52,"input",21),be(53,"label",22),Ge(54,"Isobaric counter diffusion (ICD)"),we()(),be(55,"div",20),un(56,"input",23),be(57,"label",24),Ge(58,"Maximum gas density Exceeded"),we()(),be(59,"div",20),un(60,"input",25),be(61,"label",26),Ge(62,"No decompression limit reached"),we()(),be(63,"div",20),un(64,"input",27),be(65,"label",28),Ge(66,"Missing air break"),we()()()()()()(),be(67,"div",29)(68,"div",30)(69,"button",31),dn("click",function(){return i.location.back()}),Ge(70,"Back"),we(),be(71,"button",32),dn("click",function(){return i.resetToDefault()}),Ge(72,"Reset to Default"),we(),be(73,"button",33),dn("click",function(){return i.use()}),Ge(74,"Use"),we()()()),2&r&&(de(),Ye("formGroup",i.settingsForm),de(4),Ye("icon",i.flagIcon),de(5),Ye("value",!1),de(4),Ye("value",!0),de(8),Ye("icon",i.diverIcon),de(6),ln("Max gas density [",i.units.density,"]: "),de(),lr("is-invalid",i.maxDensityInvalid),Ye("min",i.ranges.maxDensity[0])("max",i.ranges.maxDensity[1])("step",i.densityStep),de(2),ln("Needs to be number ",i.ranges.maxDensityLabel,""),de(3),ln("Minimum Primary tank reserve [",i.units.pressure,"]: "),de(),lr("is-invalid",i.primaryTankReserveInvalid),Ye("min",i.ranges.tankPressure[0])("max",i.ranges.tankPressure[1]),de(2),ln("Needs to be number ",i.ranges.tankPressureLabel,""),de(3),ln("Minimum Stage tank reserve [",i.units.pressure,"]: "),de(),lr("is-invalid",i.stageTankReserveInvalid),Ye("min",i.ranges.tankPressure[0])("max",i.ranges.tankPressure[1]),de(2),ln("Needs to be number ",i.ranges.tankPressureLabel,""),de(4),Ye("icon",i.diverIcon),de(26),Ye("hidden",!i.settingsForm.valid))},dependencies:[fa,P2,ja,xs,zy,Gy,Cs,Ya,m1,ws,Ms,Ha,ps,y1]})}return t})();class dke{constructor(n){this.ranges=this.createUnits(n),this.units=this.ranges.units;const e=Br.toSeconds(this.ranges.duration[1]);this.durationRange=[Br.oneSecond,e]}validate(n){if(0===n.dives.length)return!1;const e=n.options.isComplex,r=n.options.imperialUnits,i=n.dives.every(s=>this.isValidPlan(s,e,r)),a=this.complexModeValid(n);return i&&a}createUnits(n){return n?jr.createImperial():jr.createMetricRanges()}isValidPlan(n,e,r){const i=n.tanks.length,a=this.selectContentRanges(e),s=this.allTanksValid(r,n.tanks,i,a),l=this.allSegmentsValid(n.plan,i,a),x=this.optionsValid(n.options),F=this.diverValid(n.diver);return s&&l&&x&&F}selectContentRanges(n){return n?[this.ranges.trimixOxygen,this.ranges.tankHe]:[this.ranges.nitroxOxygen,[0,0]]}allTanksValid(n,e,r,i){const a=e.length>0,s=_o()(e).every(F=>this.isValidTank(n,F,r,i)),x=_o()(e).map(F=>F.id).uniq().size()===e.length;return a&&s&&x}isValidTank(n,e,r,i){const a=this.isInRange(e.id,[1,r]),s=this.isTankSizeValid(e),l=this.isPressureInRange(e.startPressure,this.ranges.tankPressure),x=this.workingPressureValid(n,e),F=this.isValidGas(e.gas,i);return a&&s&&l&&F&&x}workingPressureValid(n,e){return n?this.isPressureInRange(e.workPressure,this.ranges.tankPressure):0===e.workPressure}isValidGas(n,e){const r=.209===n.fO2&&0===n.fHe,i=this.isInRange(100*n.fO2,e[0]),a=this.isInRange(100*n.fHe,e[1]);return r||i&&a&&n.fO2+n.fHe<=1}allSegmentsValid(n,e,r){return n.length>0&&_o()(n).every(i=>this.isValidSegment(i,e,r))}isValidSegment(n,e,r){const i=this.isInRange(n.tankId,[1,e]),a=[0,this.ranges.depth[1]],s=this.isLengthInRange(n.startDepth,a),l=this.isLengthInRange(n.endDepth,a),x=this.isInRange(n.duration,this.durationRange),F=this.isValidGas(n.gas,r);return i&&s&&l&&x&&F}optionsValid(n){return this.isLengthInRange(n.altitude,this.ranges.altitude)&&this.isLengthInRange(n.ascentSpeed50perc,this.ranges.speed)&&this.isLengthInRange(n.ascentSpeed50percTo6m,this.ranges.speed)&&this.isLengthInRange(n.ascentSpeed6m,this.ranges.speed)&&this.isLengthInRange(n.descentSpeed,this.ranges.speed)&&this.isInRange(n.gasSwitchDuration,[1,10])&&this.isInRange(n.gfHigh,[.1,1])&&this.isInRange(n.gfLow,[.1,1])&&this.isLengthInRange(n.maxEND,this.ranges.narcoticDepth)&&this.isInRange(n.maxPpO2,this.ranges.ppO2)&&this.isInRange(n.maxDecoPpO2,this.ranges.ppO2)&&this.isInRange(n.problemSolvingDuration,[1,100])&&n.safetyStop in dc&&n.salinity in m2}diverValid(n){return this.isRmvValid(n.rmv)&&this.isRmvValid(n.stressRmv)}complexModeValid(n){return n.options.isComplex||this.allDivesSimple(n.dives)}allDivesSimple(n){return _o()(n).every(e=>2===e.plan.length&&1===e.tanks.length)}isRmvValid(n){const e=this.units.fromLiter(n);return this.isInRange(e,this.ranges.diverRmv)}isTankSizeValid(n){const e=this.units.fromTankLiters(n.size,n.workPressure);return this.isInRange(e,this.ranges.tankSize)}isPressureInRange(n,e){const r=this.units.fromBar(n);return this.isInRange(r,e)}isLengthInRange(n,e){const r=this.units.fromMeters(n);return this.isInRange(r,e)}isInRange(n,e){const r=xn.round(n,6);return e[0]<=r&&r<=e[1]}}var QU=function(t){return t[t.fresh=1]="fresh",t[t.brackish=2]="brackish",t[t.salt=3]="salt",t}(QU||{});let hke=(()=>{class t{static#e=this.standard=9.80665}return t})(),pke=(()=>{class t{static#e=this.coefficient=1e5;static pascalToBar(e){return e/t.coefficient}static barToPascal(e){return e*t.coefficient}}return t})();class R1{static#e=this.standard=1.01325;static#t=this.standardPascals=pke.barToPascal(R1.standard);static#n=this.gasConstant=8.31432;static#r=this.temperature=288.15;static#i=this.lapsRate=-.0065;static#a=this.molarMass=.0289644;static#s=this.exponent=hke.standard*R1.molarMass/(R1.gasConstant*R1.lapsRate);static#o=this.invertedExponent=1/R1.exponent;static pressure(n){return R1.standardPascals*Math.pow(R1.temperature/(R1.temperature+R1.lapsRate*n),R1.exponent)}static altitude(n){if(n>=R1.standardPascals)return 0;const r=Math.pow(n/R1.standardPascals,R1.invertedExponent);return(R1.temperature/r-R1.temperature)/R1.lapsRate}}class Vu{static#e=this.o2InAir=.209;static#t=this.nitroxInAir=1-Vu.o2InAir;static#n=this.minPpO2=.18;static#r=this.maxEnd=30;static partialPressure(n,e){return n*e}static mod(n,e){return n/e}static bestMix(n,e,r){const a=n/r.toBar(e);return a>1?1:a}static ead(n,e,r=Vu.o2InAir){const a=1-r;return Vu.end(e,1-n)/a}static end(n,e,r=0){return n*this.narcoticIndex(r,e)}static mnd(n,e,r=0){return n/this.narcoticIndex(r,e)}static ceiling(n,e){const i=Vu.minPpO2/n*e;return i<e?e:i}static narcoticIndex(n,e=0){return e+n}}var JU=function(t){return t[t.never=1]="never",t[t.auto=2]="auto",t[t.always=3]="always",t}(JU||{});class Gi{static#e=this.altitude=0;static#t=this.saltWater=QU.salt;static#n=this.roundStopsToMinutes=!1;static#r=this.gasSwitchDuration=2;static#i=this.problemSolvingDuration=1;static#a=this.lastStopDepth=3;static#s=this.lastStopDepthRecre=5;static#o=this.safetyStopRecre=JU.auto;static#c=this.decoStopDistance=3;static#l=this.minimumAutoStopDepth=10;static#u=this.addSafetyStop=!0;static#f=this.maxEND=Vu.maxEnd;static#d=this.oxygenNarcotic=!0;static#h=this.ascentSpeed6m=3;static#p=this.ascentSpeed50percTo6m=3;static#m=this.ascentSpeed50perc=9;static#v=this.descentSpeed=18;static#g=this.gfLow=.4;static#y=this.gfHigh=.85;static#b=this.maxPpO2=1.4;static#C=this.maxDecoPpO2=1.6;static#x=this.airBreakOxygenDuration=20;static#M=this.airBreakBottomGasDuration=5;static setMediumConservatism(n){n.gfLow=Gi.gfLow,n.gfHigh=Gi.gfHigh}static useGeneralRecommended(n){n.safetyStop=Gi.safetyStopRecre,n.roundStopsToMinutes=Gi.roundStopsToMinutes,n.gasSwitchDuration=Gi.gasSwitchDuration,n.oxygenNarcotic=Gi.oxygenNarcotic}}let mc=(()=>{class t{static#e=this.trueValue="1";constructor(e,r){this.paramValues=e.split(r)}static serializeBoolean(e){return e?t.trueValue:"0"}static deserializeBoolean(e){return e===t.trueValue}parseNullableNumber(e){const r=this.paramValues[e];if(""!==r)return Number(r)}parseNumber(e){return Number(this.paramValues[e])}parseEnum(e){return Number(this.paramValues[e])}parseBoolean(e){return t.deserializeBoolean(this.paramValues[e])}processValues(e,r){for(let i=0;i<this.paramValues.length;i++)r(this.toPartContext(i,e))}toPartContext(e,r){return new t(this.paramValues[e],r)}}return t})(),qU=(()=>{class t{constructor(e,r,i,a,s,l){this.viewSwitch=e,this.units=r,this.normalization=i,this.schedules=a,this.appSettings=s,this.preferences=l}static fromOptionsParam(e){const r=new mc(e,",");return{altitude:r.parseNumber(0),ascentSpeed50perc:r.parseNumber(1),ascentSpeed50percTo6m:r.parseNumber(2),ascentSpeed6m:r.parseNumber(3),decoStopDistance:r.parseNumber(4),descentSpeed:r.parseNumber(5),gasSwitchDuration:r.parseNumber(6),gfHigh:r.parseNumber(7),gfLow:r.parseNumber(8),lastStopDepth:r.parseNumber(9),maxDecoPpO2:r.parseNumber(10),maxEND:r.parseNumber(11),maxPpO2:r.parseNumber(12),minimumAutoStopDepth:r.parseNumber(13),oxygenNarcotic:r.parseBoolean(14),problemSolvingDuration:r.parseNumber(15),roundStopsToMinutes:r.parseBoolean(16),safetyStop:r.parseEnum(17),salinity:r.parseEnum(18),airBreaks:t.fromAirBreakParam(r)}}static toOptionsParam(e){const r=mc.serializeBoolean(e.oxygenNarcotic),i=mc.serializeBoolean(e.roundStopsToMinutes),a=t.toAirBreakParams(e.airBreaks);return`${e.altitude},${e.ascentSpeed50perc},${e.ascentSpeed50percTo6m},${e.ascentSpeed6m},${e.decoStopDistance},${e.descentSpeed},${e.gasSwitchDuration},${e.gfHigh},${e.gfLow},${e.lastStopDepth},${e.maxDecoPpO2},${e.maxEND},${e.maxPpO2},${e.minimumAutoStopDepth},${r},${e.problemSolvingDuration},${i},${e.safetyStop},${e.salinity},${a}`}static toAirBreakParams(e){return`${mc.serializeBoolean(e.enabled)},${e.oxygenDuration},${e.bottomGasDuration}`}static fromAirBreakParam(e){return e.paramValues.length>21?{enabled:e.parseBoolean(19),oxygenDuration:e.parseNumber(20),bottomGasDuration:e.parseNumber(21)}:{enabled:!0,oxygenDuration:Gi.airBreakOxygenDuration,bottomGasDuration:Gi.airBreakBottomGasDuration}}static fromDiverParam(e){const r=new mc(e,","),i={rmv:r.parseNumber(0),stressRmv:r.parseNumber(1)};return i.stressRmv||(i.stressRmv=new Ou(i.rmv).stressRmv),i}static toDiverParam(e){return`${e.rmv},${e.stressRmv}`}static fromTanksParam(e){let r=[];return new mc(e,",").processValues("-",a=>{const s={id:a.parseNumber(0),size:a.parseNumber(1),workPressure:a.parseNumber(2),startPressure:a.parseNumber(3),gas:{fO2:a.parseNumber(4),fHe:a.parseNumber(5)}};r.push(s)}),r=_o().sortBy(r,[a=>a.id]),r}static toTanksParam(e){const r=[];return e.forEach(i=>{const a=i.tank,s=a.gas;r.push(`${a.id}-${a.size}-${i.workingPressureBars}-${a.startPressure}-${s.fO2}-${s.fHe}`)}),r.join(",")}static fromDepthsParam(e,r){const i=[];let s;return new mc(r,",").processValues("-",l=>{const F=this.toSegment(l,e,s?s.endDepth:0);s=F,i.push(F)}),i}static toSegment(e,r,i){const a={startDepth:i,endDepth:e.parseNumber(1),duration:e.parseNumber(2),tankId:1,gas:{fO2:0,fHe:0}},s=e.parseNumber(3);if(0<s&&s<=r.length){const l=r[s-1];a.tankId=s,a.gas.fO2=l.gas.fO2,a.gas.fHe=l.gas.fHe}return a}static toDepthsParam(e){const r=[];return e.forEach(i=>{r.push(`${i.startDepth}-${i.endDepth}-${i.duration}-${i.tank?i.tank.id:0}`)}),r.join(",")}toUrl(){return this.toUrlFor(this.schedules.selected.id)}toUrlFor(e){return`${this.toDiveUrl(e)}&ao=${this.toAppOptions()}`}fromUrl(e){try{if(!e)return;const r=decodeURIComponent(e),i=this.parseDto(r);new dke(i.options.imperialUnits).validate(i)?this.applyDiveUrl(r,i):pc.warn("Unable to load planner from url parameters, due to invalid data.")}catch{pc.warn("Failed loading of planner from url parameters.")}}applyDiveUrl(e,r){const i=this.subtractDiveUrl(e),a=_o()(this.schedules.dives).find(s=>{const l=this.toDiveUrl(s.id);return i===l});if(!a){const s=this.preferences.addLoaded(r.dives[0]);return this.normalization.applyDive(s),void(r.options.isComplex&&(this.viewSwitch.isComplex=!0))}this.schedules.selected=a}subtractDiveUrl(e){const r=e.indexOf("&ao=");let i=e;return r>0&&(i=e.substring(0,r)),i.replace("?","")}toAppOptions(){return`${mc.serializeBoolean(this.viewSwitch.isComplex)},${mc.serializeBoolean(this.units.imperialUnits)}`}toDiveUrl(e){const r=this.schedules.byId(e);let x=`t=${t.toTanksParam(r.tanksService.tanks)}&de=${t.toDepthsParam(r.depths.segments)}&di=${t.toDiverParam(r.optionsService.getDiver())}&o=${t.toOptionsParam(r.optionsService.getOptions())}`;return r.isRepetitive&&(x+=`&si=${r.surfaceInterval}`),x}parseDto(e){const r=new URLSearchParams(e),i=r.get("ao")||"",a=r.get("o")||"",s=r.get("di")||"",l=r.get("t")||"",x=r.get("de")||"",F=r.get("si")||"",oe=new mc(F,","),Le=t.fromTanksParam(l);return{options:this.fromAppSettingsParam(i),dives:[{options:t.fromOptionsParam(a),diver:t.fromDiverParam(s),tanks:Le,plan:t.fromDepthsParam(Le,x),surfaceInterval:oe.parseNullableNumber(0)}]}}fromAppSettingsParam(e){const r=new mc(e,",");return{isComplex:r.parseBoolean(0),imperialUnits:r.parseBoolean(1),language:"en",maxDensity:this.appSettings.settings.maxGasDensity,primaryTankReserve:this.appSettings.settings.primaryTankReserve,stageTankReserve:this.appSettings.settings.stageTankReserve,icdIgnored:this.appSettings.settings.icdIgnored,densityIgnored:this.appSettings.settings.densityIgnored,noDecoIgnored:this.appSettings.settings.noDecoIgnored,missingAirBreakIgnored:this.appSettings.settings.missingAirBreakIgnored}}static#e=this.\u0275fac=function(r){return new(r||t)(gn(jl),gn(jr),gn(iM),gn(Ka),gn(w4),gn(aM))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})(),eG=(()=>{class t{constructor(e,r,i,a,s){this.location=e,this.preferences=r,this.urlSerialization=i,this.viewStore=a,this.views=s,this._showDisclaimer=!0,this._showDisclaimer=this.preferences.disclaimerEnabled()}get showDisclaimer(){return this._showDisclaimer}onDashboard(){const e=window.location.search;""===e||this.views.started||this.urlSerialization.fromUrl(e),this.viewStore.saveMainView(),this.updateQueryParams()}stopDisclaimer(){this._showDisclaimer=!1,this.preferences.disableDisclaimer()}updateQueryParams(){let e=this.urlSerialization.toUrl();e.length>2048&&console.warn("Created url parameters with length longer than acceptable in some browsers"),e.length>0&&(e="?"+e),this.location.go(e)}static#e=this.\u0275fac=function(r){return new(r||t)(gn(q1),gn(Kd),gn(qU),gn(Ho),gn(Xd))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})();function tG(t){const{anchorOffset:n=0,focusOffset:e=0}=t.ownerDocument.getSelection()||{};return[Math.min(n,e),Math.max(n,e)]}class gke{constructor(n){this.element=n,this.maxLength=1/0}get value(){return this.element.innerText.replace(/\n\n$/,"\n")}set value(n){this.element.innerHTML=n.replace(/\n$/,"\n\n")}get selectionStart(){return tG(this.element)[0]}get selectionEnd(){return tG(this.element)[1]}setSelectionRange(n,e){!function vke(t,[n,e]){var r,i;const a=t.ownerDocument,s=a.createRange();s.setStart(t.firstChild||t,Math.min(n,(null===(r=t.textContent)||void 0===r?void 0:r.length)||0)),s.setEnd(t.lastChild||t,Math.min(e,(null===(i=t.textContent)||void 0===i?void 0:i.length)||0));const l=a.getSelection();l&&(l.removeAllRanges(),l.addRange(s))}(this.element,[n||0,e||0])}select(){this.setSelectionRange(0,this.value.length)}}const bke=t=>t.isContentEditable?function yke(t){const n=new gke(t);return new Proxy(t,{get(e,r){if(r in n)return n[r];const i=e[r];return"function"==typeof i?i.bind(e):i},set:(e,r,i,a)=>Reflect.set(r in n?n:e,r,i,a)})}(t):t.querySelector("input,textarea")||t,sM={mask:/^.*$/,preprocessors:[],postprocessors:[],plugins:[],overwriteMode:"shift"};class Cke{constructor(){this.now=null,this.past=[],this.future=[]}undo(){const n=this.past.pop();n&&this.now&&(this.future.push(this.now),this.updateElement(n,"historyUndo"))}redo(){const n=this.future.pop();n&&this.now&&(this.past.push(this.now),this.updateElement(n,"historyRedo"))}updateHistory(n){if(!this.now)return void(this.now=n);const e=this.now.value!==n.value,r=this.now.selection.some((i,a)=>i!==n.selection[a]);!e&&!r||(e&&(this.past.push(this.now),this.future=[]),this.now=n)}updateElement(n,e){this.now=n,this.updateElementState(n,{inputType:e,data:null})}}function Am(t){return"string"==typeof t}function rG(t,n,e,r){let i="";for(let a=n.length;a<t.length;a++){const s=t[a],l=r?.value[a]===s;if(!Am(s)||s===e&&!l)return i;i+=s}return i}function iG(t,n){return Array.isArray(n)?t.length===n.length&&Array.from(t).every((e,r)=>{const i=n[r];return Am(i)?e===i:e.match(i)}):n.test(t)}function zm(t,n,e=null){if(iG(t.value,n))return t;const{value:r,selection:i}=Array.isArray(n)?function wke(t,n,e){let r=null,i=null;const a=Array.from(t.value).reduce((l,x,F)=>{const Le=l+rG(n,l,x,e),je=n[Le.length];return Am(je)?Le+je:x.match(je)?(null===r&&F>=t.selection[0]&&(r=Le.length),null===i&&F>=t.selection[1]&&(i=Le.length),Le+x):Le},""),s=rG(n,a,"",e);return{value:iG(a+s,n)?a+s:a,selection:[r??a.length,i??a.length]}}(t,n,e):function _ke({value:t,selection:n},e){const[r,i]=n;let a=r,s=i;return{value:Array.from(t).reduce((x,F,oe)=>{const Le=x+F;return r===oe&&(a=x.length),i===oe&&(s=x.length),Le.match(e)?Le:x},""),selection:[a,s]}}(t,n);return{selection:i,value:Array.isArray(n)?r.slice(0,n.length):r}}function aG(t,n){if(!Array.isArray(n))return t;const[e,r]=t.selection,i=[],a=Array.from(t.value).reduce((s,l,x)=>{const F=n[x];return x===e&&i.push(s.length),x===r&&i.push(s.length),Am(F)&&F===l?s:s+l},"");return i.length<2&&i.push(...new Array(2-i.length).fill(a.length)),{value:a,selection:[i[0],i[1]]}}class oM{constructor(n,e){this.initialElementState=n,this.maskOptions=e,this.value="",this.selection=[0,0];const{value:r,selection:i}=zm(this.initialElementState,this.getMaskExpression(this.initialElementState));this.value=r,this.selection=i}addCharacters([n,e],r){const{value:i}=this,a=this.getMaskExpression({value:i.slice(0,n)+r+i.slice(e),selection:[n+r.length,n+r.length]}),s={value:i,selection:[n,e]},l=aG(s,a),[x,F]=function Mke({value:t,selection:n},e,r){const[i,a]=n;return{value:t,selection:"replace"===("function"==typeof r?r({value:t,selection:n}):r)?[i,i+e.length]:[i,a]}}(l,r,this.maskOptions.overwriteMode).selection,oe=l.value.slice(0,x)+r,Le=oe.length,je=zm({value:oe+l.value.slice(F),selection:[Le,Le]},a,s);if(i.slice(0,x)===zm({value:oe,selection:[Le,Le]},a,s).value||function nG(t,...n){return n.every(({value:e,selection:r})=>e===t.value&&r[0]===t.selection[0]&&r[1]===t.selection[1])}(this,je))throw new Error("Invalid mask value");this.value=je.value,this.selection=je.selection}deleteCharacters([n,e]){if(n===e||!e)return;const{value:r}=this,i=this.getMaskExpression({value:r.slice(0,n)+r.slice(e),selection:[n,n]}),a={value:r,selection:[n,e]},s=aG(a,i),[l,x]=s.selection,oe=zm({value:s.value.slice(0,l)+s.value.slice(x),selection:[l,l]},i,a);this.value=oe.value,this.selection=oe.selection}getMaskExpression(n){const{mask:e}=this.maskOptions;return"function"==typeof e?e(n):e}}class Lke{constructor(n){this.element=n,this.listeners=[]}listen(n,e,r){const i=e;this.element.addEventListener(n,i,r),this.listeners.push(()=>this.element.removeEventListener(n,i))}destroy(){this.listeners.forEach(n=>n())}}const vc_CTRL=1,vc_ALT=2,vc_SHIFT=4,vc_META=8;function Jd(t,n,e){return t.ctrlKey===!!(n&vc_CTRL)&&t.altKey===!!(n&vc_ALT)&&t.shiftKey===!!(n&vc_SHIFT)&&t.metaKey===!!(n&vc_META)&&t.keyCode===e}function Dke({value:t,selection:n},e){const[r,i]=n;if(r!==i)return[r,i];const a=e?t.slice(r).indexOf("\n")+1||t.length:t.slice(0,i).lastIndexOf("\n")+1;return[e?r:a,e?a:i]}function Ake({value:t,selection:n},e){const[r,i]=n;return r!==i?[r,i]:(e?[r,i+1]:[r-1,i]).map(s=>Math.min(Math.max(s,0),t.length))}const zke=/\s+$/g,kke=/^\s+/g,sG=/\s/;function Eke({value:t,selection:n},e){const[r,i]=n;if(r!==i)return[r,i];if(e){const x=t.slice(r),[F]=x.match(kke)||[""],oe=x.trimStart().search(sG);return[r,-1!==oe?r+F.length+oe:t.length]}const a=t.slice(0,i),[s]=a.match(zke)||[""],l=a.trimEnd().split("").reverse().findIndex(x=>x.match(sG));return[-1!==l?i-s.length-l:0,i]}function km(t=[]){return(n,...e)=>t.reduce((r,i)=>Object.assign(Object.assign({},r),i(r,...e)),n)}function Em(t,n){const e=Object.assign(Object.assign({},sM),n),r=km(e.preprocessors),i=km(e.postprocessors),a="string"==typeof t?{value:t,selection:[0,0]}:t,{elementState:s}=r({elementState:a,data:""},"validation"),l=new oM(s,e),{value:x,selection:F}=i(l,a);return"string"==typeof t?x:{value:x,selection:F}}class Nke extends Cke{constructor(n,e){super(),this.element=n,this.maskitoOptions=e,this.isTextArea="TEXTAREA"===this.element.nodeName,this.eventListener=new Lke(this.element),this.options=Object.assign(Object.assign({},sM),this.maskitoOptions),this.preprocessor=km(this.options.preprocessors),this.postprocessor=km(this.options.postprocessors),this.teardowns=this.options.plugins.map(r=>r(this.element,this.options)),this.updateHistory(this.elementState),this.eventListener.listen("keydown",r=>function Ske(t){return Jd(t,vc_CTRL,89)||Jd(t,vc_CTRL|vc_SHIFT,90)||Jd(t,vc_META|vc_SHIFT,90)}(r)?(r.preventDefault(),this.redo()):function Tke(t){return Jd(t,vc_CTRL,90)||Jd(t,vc_META,90)}(r)?(r.preventDefault(),this.undo()):void 0),this.eventListener.listen("beforeinput",r=>{var i;const a=r.inputType.includes("Forward");switch(this.updateHistory(this.elementState),r.inputType){case"historyUndo":return r.preventDefault(),this.undo();case"historyRedo":return r.preventDefault(),this.redo();case"deleteByCut":case"deleteContentBackward":case"deleteContentForward":return this.handleDelete({event:r,isForward:a,selection:Ake(this.elementState,a)});case"deleteWordForward":case"deleteWordBackward":return this.handleDelete({event:r,isForward:a,selection:Eke(this.elementState,a),force:!0});case"deleteSoftLineBackward":case"deleteSoftLineForward":case"deleteHardLineBackward":case"deleteHardLineForward":return this.handleDelete({event:r,isForward:a,selection:Dke(this.elementState,a),force:!0});case"insertCompositionText":case"insertReplacementText":return;case"insertLineBreak":case"insertParagraph":return this.handleEnter(r);default:return this.handleInsert(r,r.data||(null===(i=r.dataTransfer)||void 0===i?void 0:i.getData("text/plain"))||"")}}),this.eventListener.listen("input",({inputType:r})=>{"insertCompositionText"!==r&&(this.ensureValueFitsMask(),this.updateHistory(this.elementState))}),this.eventListener.listen("compositionend",()=>{this.ensureValueFitsMask(),this.updateHistory(this.elementState)})}get elementState(){const{value:n,selectionStart:e,selectionEnd:r}=this.element;return{value:n,selection:[e||0,r||0]}}get maxLength(){const{maxLength:n}=this.element;return-1===n?1/0:n}destroy(){this.eventListener.destroy(),this.teardowns.forEach(n=>n?.())}updateElementState({value:n,selection:e},r={inputType:"insertText",data:null}){const i=this.elementState.value;this.updateValue(n),this.updateSelectionRange(e),i!==n&&this.dispatchInputEvent(r)}updateSelectionRange([n,e]){var r;const{element:i}=this;i.matches(":focus")&&(i.selectionStart!==n||i.selectionEnd!==e)&&(null===(r=i.setSelectionRange)||void 0===r||r.call(i,n,e))}updateValue(n){this.element.value=n}ensureValueFitsMask(){this.updateElementState(Em(this.elementState,this.options))}dispatchInputEvent(n={inputType:"insertText",data:null}){globalThis.InputEvent&&this.element.dispatchEvent(new InputEvent("input",Object.assign(Object.assign({},n),{bubbles:!0,cancelable:!1})))}handleDelete({event:n,selection:e,isForward:r,force:i=!1}){const a={value:this.elementState.value,selection:e},[s,l]=a.selection,{elementState:x}=this.preprocessor({elementState:a,data:""},r?"deleteForward":"deleteBackward"),F=new oM(x,this.options),[oe,Le]=x.selection;F.deleteCharacters([oe,Le]);const je=this.postprocessor(F,a);if(a.value.slice(0,s)+a.value.slice(l)!==je.value||i||this.element.isContentEditable){if(n.preventDefault(),function xke(t,...n){return n.every(({value:e})=>e===t.value)}(a,x,F,je))return this.updateSelectionRange(r?[Le,Le]:[oe,oe]);this.updateElementState(je,{inputType:n.inputType,data:null}),this.updateHistory(je)}}handleInsert(n,e){const r=this.elementState,{elementState:i,data:a=e}=this.preprocessor({data:e,elementState:r},"insert"),s=new oM(i,this.options);try{s.addCharacters(i.selection,a)}catch{return n.preventDefault()}const[l,x]=i.selection,F=r.value.slice(0,l)+e+r.value.slice(x),oe=this.postprocessor(s,r);if(oe.value.length>this.maxLength)return n.preventDefault();(F!==oe.value||this.element.isContentEditable)&&(n.preventDefault(),this.updateElementState(oe,{data:e,inputType:n.inputType}),this.updateHistory(oe))}handleEnter(n){(this.isTextArea||this.element.isContentEditable)&&this.handleInsert(n,"\n")}}const t5={hours:23,minutes:59,seconds:59,milliseconds:999},n5=[":","."],dG={hours:2,minutes:2,seconds:2,milliseconds:3},Fke=":",Oke="\uff1a",pG=/[\\^$.*+?()[\]{}|]/g,Bke=new RegExp(pG.source);function f1(t){return t&&Bke.test(t)?t.replaceAll(pG,"\\$&"):t}function Om(t,n,e=0){return Number(t.padEnd(n.length,"0"))<=Number(n)?{validatedSegmentValue:t,prefixedZeroesCount:e}:t.endsWith("0")?Om(`0${t.slice(0,n.length-1)}`,n,e+1):Om(`${t.slice(0,n.length-1)}0`,n,e)}function mG(t){return t.replaceAll(new RegExp(Oke,"g"),Fke)}function vG(t){return t.replaceAll(/[\uff10-\uff19]/g,n=>String.fromCharCode(n.charCodeAt(0)-65248))}const Wke=()=>{};function MG({step:t,fullMode:n,timeSegmentMaxValues:e}){const r=function jke(t){return new Map([["hours",Bm(t,"HH")],["minutes",Bm(t,"MM")],["seconds",Bm(t,"SS")],["milliseconds",Bm(t,"MSS")]])}(n);return t<=0?Wke:i=>{const a=s=>{if("ArrowUp"!==s.key&&"ArrowDown"!==s.key)return;s.preventDefault();const l=i.selectionStart||0,x=function Yke({segmentsIndexes:t,selectionStart:n}){for(const[e,r]of t.entries()){const[i,a]=r;if(i<=n&&n<=a)return e}return null}({segmentsIndexes:r,selectionStart:l});if(!x)return;const F=function Zke({selection:t,value:n,toAdd:e,max:r}){const[i,a]=t,l=function Xke(t,n){return t<0&&(t+=Math.floor(Math.abs(t)/n+1)*n),t%n}(Number(n.slice(i,a).padEnd(a-i,"0"))+e,r+1);return n.slice(0,i)+String(l).padStart(a-i,"0")+n.slice(a,n.length)}({selection:r.get(x),value:i.value,toAdd:"ArrowUp"===s.key?t:-t,max:e[x]});!function cM(t,n){var e;const r=t.value;if("string"==typeof n)t.value=n;else{const[i,a]=n.selection;t.value=n.value,t.matches(":focus")&&(null===(e=t.setSelectionRange)||void 0===e||e.call(t,i,a))}t.value!==r&&t.dispatchEvent(new Event("input",{bubbles:!0}))}(i,{value:F,selection:[l,l]})};return i.addEventListener("keydown",a),()=>i.removeEventListener("keydown",a)}}function Bm(t,n){const e=t.indexOf(n);return-1===e?[-1,-1]:[e,e+n.length]}const eEe={HH:"hours",MM:"minutes",SS:"seconds",MSS:"milliseconds"};const tEe=/^\D*/,nEe=/\D*$/;function wG({hours:t="",minutes:n="",seconds:e="",milliseconds:r=""}){return`${t}:${n}:${e}.${r}`.replace(tEe,"").replace(nEe,"")}const rEe=new RegExp(`[${n5.map(f1).join("")}]$`);function gM({timeString:t,paddedMaxValues:n,offset:e,selection:[r,i],timeMode:a}){const s=function vM(t,n){const e=t.replaceAll(/\D+/g,"");let r=0;return Object.fromEntries(n.split(/\W/).map(i=>{const a=e.slice(r,r+i.length);return r+=i.length,[eEe[i],a]}))}(t,a),l=Object.entries(s),x={};let F=0;for(const[rt,ht]of l){const Ft=wG(x),an=n[rt],pn=e+Ft.length+(Ft.length&&1)+dG[rt];if(pn>=r&&pn<=i&&Number(ht)>Number(an))return{validatedTimeString:"",updatedTimeSelection:[r,i]};const{validatedSegmentValue:mr,prefixedZeroesCount:Pr}=Om(ht,`${an}`);F+=Pr,x[rt]=mr}const[oe=""]=t.match(rEe)||[],Le=wG(x)+oe,je=Math.max(Le.length-t.length,0);return{validatedTimeString:Le,updatedTimeSelection:[r+F+je,i+F+je]}}function wEe(t,n){const e=function Vm(t){return Object.fromEntries(Object.entries(t).map(([n,e])=>[n,`${e}`.padEnd(dG[n],"0")]))}(t),r=new RegExp(`[^\\d${n5.map(f1).join("")}]+`);return({elementState:i,data:a},s)=>{if("deleteBackward"===s||"deleteForward"===s)return{elementState:i,data:a};const{value:l,selection:x}=i;if("validation"===s){const{validatedTimeString:yn,updatedTimeSelection:pn}=gM({timeString:l,paddedMaxValues:e,offset:0,selection:x,timeMode:n});return{elementState:{value:yn,selection:pn},data:a}}const F=a.replace(r,""),[oe,Le]=x;let je=Le+F.length;const rt=l.slice(0,oe)+F+l.slice(je),{validatedTimeString:ht,updatedTimeSelection:Ft}=gM({timeString:rt,paddedMaxValues:e,offset:0,selection:[oe,je],timeMode:n});if(rt&&!ht)return{elementState:i,data:""};je=Ft[1];const an=ht.slice(oe,je);return{elementState:{selection:x,value:ht.slice(0,oe)+"0".repeat(an.length)+ht.slice(je)},data:an}}}let LEe=(()=>{class t{constructor(){this.elementRef=Xn(is).nativeElement,this.ngZone=Xn(Di),this.maskedElement=null,this.options=null,this.elementPredicate=bke;const e=Xn(ja,{self:!0,optional:!0});if(e){const r=e.writeValue.bind(e);e.writeValue=i=>{r(this.options?Em(String(i??""),this.options):i)}}}ngOnChanges(){var e=this;return Zt(function*(){const{elementPredicate:r,options:i}=e;if(e.maskedElement?.destroy(),!i)return;const a=yield r(e.elementRef);e.elementPredicate===r&&e.ngZone.runOutsideAngular(()=>{e.maskedElement=new Nke(a,i)})})()}ngOnDestroy(){this.maskedElement?.destroy()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Lr({type:t,selectors:[["","maskito",""]],inputs:{options:[Cn.None,"maskito","options"],elementPredicate:[Cn.None,"maskitoElement","elementPredicate"]},standalone:!0,features:[As]}),t})();function SEe(t,n){1&t&&(be(0,"div",12),Ge(1,"Needs to be a text in form hh:mm"),we())}let CM=(()=>{class t extends P1{constructor(e,r,i,a,s){super(),this.schedules=e,this.fb=r,this.dispatcher=i,this.inputs=a,this.validators=s,this.controlName="surfaceInterval",this.maskitoTimeOptions=function _Ee({mode:t,timeSegmentMaxValues:n={},step:e=0}){const r=Object.assign(Object.assign({},t5),n);return Object.assign(Object.assign({},sM),{mask:Array.from(t).map(i=>n5.includes(i)?i:/\d/),preprocessors:[({elementState:t,data:n})=>{const{value:e,selection:r}=t;return{elementState:{selection:r,value:vG(e)},data:vG(n)}},({elementState:t,data:n})=>{const{value:e,selection:r}=t;return{elementState:{selection:r,value:mG(e)},data:mG(n)}},({elementState:t},n)=>{const{value:e,selection:r}=t;if(!e||function Kke(t,[n,e]){return e===t.length}(e,r))return{elementState:t};const[i,a]=r,s=e.slice(i,a).replaceAll(/\d/g,"0"),l=e.slice(0,i)+s+e.slice(a);return"validation"===n||"insert"===n&&i===a?{elementState:{selection:r,value:l}}:{elementState:{selection:"deleteBackward"===n||"insert"===n?[i,i]:[a,a],value:l}}},wEe(r,t)],plugins:[MG({fullMode:t,step:e,timeSegmentMaxValues:r})],overwriteMode:"replace"})}({mode:"HH:MM",timeSegmentMaxValues:{hours:48}})}get surfaceIntervalInvalid(){const e=this.form.get(this.controlName);return this.inputs.controlInValid(e)}get surfaceReadOnly(){return!this.schedules.selected.isRepetitive}get placeHolder(){return this.surfaceReadOnly?"First dive":"HH:MM"}get surfaceInterval(){return this.schedules.selected.surfaceIntervalText}ngOnInit(){if(!this.form){this.form=this.fb.group([]);const e=this.fb.control(this.surfaceInterval,[this.validators.surfaceInterval()]);this.form.addControl(this.controlName,e)}this.dispatcher.depthChanged$.pipe(Wr(this.unsubscribe$)).subscribe(()=>{this.reload()})}applyPrimary(){this.schedules.selected.applyPrimarySurfaceInterval(),this.reload()}applyOneHour(){this.schedules.selected.applyOneHourSurfaceInterval(),this.reload()}apply30Minutes(){this.schedules.selected.apply30MinutesSurfaceInterval(),this.reload()}apply2Hour(){this.schedules.selected.apply2HourSurfaceInterval(),this.reload()}surfaceIntervalChanged(){if(this.form.invalid)return;const e=this.form.get(this.controlName);this.setSurfaceInterval(e?.value)}setSurfaceInterval(e){const r=C1.parseToShortTime(e);r&&(this.schedules.selected.surfaceInterval=r)}reload(){this.form.patchValue({[this.controlName]:this.surfaceInterval})}static#e=this.\u0275fac=function(r){return new(r||t)(lt(Ka),lt(ss),lt(u1),lt(Ls),lt(Qa))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-surface-interval"]],inputs:{form:"form",controlName:"controlName"},standalone:!0,features:[hi,D8],decls:20,vars:8,consts:[[3,"formGroup"],["for","surfaceInterval","mdbLabel","",1,"form-label"],["mdbDropdown","",1,"input-group","dropdown"],["id","surfaceInterval","type","text",1,"form-control",3,"input","formControlName","maskito","placeholder","readonly"],["aria-expanded","false","id","surfaceIntervalMenu","type","button","data-mdb-toggle","dropdown","mdbDropdownToggle","",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],["id","btnApplyFirst",3,"click"],[1,"dropdown-item"],["id","btnApply30Minutes",3,"click"],["id","btnApplyOneHour",3,"click"],["id","btnApply2Hour",3,"click"],["class","text-danger form-text position-absolute",4,"ngIf"],[1,"text-danger","form-text","position-absolute"]],template:function(r,i){1&r&&(la(0,0),be(1,"label",1),Ge(2,"Surface interval [min]:"),we(),be(3,"div",2)(4,"input",3),dn("input",function(){return i.surfaceIntervalChanged()}),we(),un(5,"button",4),be(6,"ul",5)(7,"li",6),dn("click",function(){return i.applyPrimary()}),be(8,"a",7),Ge(9,"First dive"),we()(),be(10,"li",8),dn("click",function(){return i.apply30Minutes()}),be(11,"a",7),Ge(12,"30 minutes"),we()(),be(13,"li",9),dn("click",function(){return i.applyOneHour()}),be(14,"a",7),Ge(15,"1 Hour"),we()(),be(16,"li",10),dn("click",function(){return i.apply2Hour()}),be(17,"a",7),Ge(18,"2 Hours"),we()()()(),zn(19,SEe,2,0,"div",11),ua()),2&r&&(Ye("formGroup",i.form),de(4),lr("is-invalid",i.surfaceIntervalInvalid),Ye("formControlName",i.controlName)("maskito",i.maskitoTimeOptions)("placeholder",i.placeHolder)("readonly",i.surfaceReadOnly),de(15),Ye("ngIf",i.surfaceIntervalInvalid))},dependencies:[LEe,cz,ja,Cs,Ya,Ha,ps,DE,Gl,Qc,Jc,AE,y1,ji]})}return t})();function TEe(t,n){if(1&t&&(be(0,"div",21),un(1,"app-surface-interval",22),we()),2&t){const e=zt();de(),Ye("form",e.complexForm)}}function DEe(t,n){if(1&t){const e=Qr();be(0,"button",29),dn("click",function(){Qn(e);const i=zt(2).index;return Jn(zt().removeLevel(i))}),un(1,"fa-icon",30),we()}if(2&t){const e=zt(3);de(),Ye("icon",e.removeIcon)}}function AEe(t,n){if(1&t&&(be(0,"div",14)(1,"div",26),Ge(2),we(),be(3,"div",27),zn(4,DEe,2,1,"button",28),we()()),2&t){const e=zt().index,r=zt();de(2),ln(" ",r.labelFor(e)," "),de(2),Ye("ngIf",r.minimumSegments)}}function zEe(t,n){if(1&t&&(be(0,"div",42),Ge(1),we()),2&t){const e=zt(3);de(),ln(" Needs to be number ",e.ranges.depthLabel,"")}}function kEe(t,n){if(1&t&&(be(0,"div",42),Ge(1),we()),2&t){const e=zt(3);de(),ln("Needs to be number ",e.ranges.durationLabel,"")}}function EEe(t,n){if(1&t){const e=Qr();be(0,"li",43),dn("click",function(){const i=Qn(e).$implicit,a=zt(2).index;return Jn(zt().assignTank(a,i))}),be(1,"a",44),Ge(2),we()()}if(2&t){const e=n.$implicit;de(2),_r(e.label)}}function NEe(t,n){if(1&t){const e=Qr();be(0,"div",14)(1,"div",31)(2,"label",32),Ge(3),we(),be(4,"input",33),dn("input",function(){Qn(e);const i=zt().index;return Jn(zt().levelChanged(i))}),we(),zn(5,zEe,2,1,"div",34),we(),be(6,"div",31)(7,"label",32),Ge(8,"Duration [min]:"),we(),be(9,"input",35),dn("input",function(){Qn(e);const i=zt().index;return Jn(zt().levelChanged(i))}),we(),zn(10,kEe,2,1,"div",34),we(),be(11,"div",36)(12,"label",32),Ge(13,"Tank:"),we(),be(14,"div",37),un(15,"input",38)(16,"button",39),be(17,"ul",40),zn(18,EEe,3,1,"li",41),we()()()()}if(2&t){const e=zt().index,r=zt();de(2),va("for","depthItemB-",e,""),de(),E1("From ",r.startDepth(e)," To [",r.units.length,"]:"),de(),lr("is-invalid",r.depthItemInvalid(e)),va("id","depthItemB-",e,""),Ye("min",0)("max",r.ranges.depth[1]),de(),Ye("ngIf",r.depthItemInvalid(e)),de(2),va("for","durationItemB-",e,""),de(2),lr("is-invalid",r.durationItemInvalid(e)),va("id","durationItemB-",e,""),Ye("min",r.ranges.duration[0])("max",r.ranges.duration[1]),de(),Ye("ngIf",r.durationItemInvalid(e)),de(2),va("for","tanksB-",e,""),de(3),va("id","tanksB-",e,""),Ye("value",r.tankLabelFor(e)),de(3),Ye("ngForOf",r.tanks)}}function IEe(t,n){1&t&&(be(0,"mdb-accordion-item",23),zn(1,AEe,5,2,"ng-template",24)(2,NEe,19,26,"ng-template",25),we()),2&t&&Ye("formGroupName",n.index)}function PEe(t,n){if(1&t){const e=Qr();be(0,"li",43),dn("click",function(){const i=Qn(e).$implicit,a=zt().index;return Jn(zt().assignTank(a,i))}),be(1,"a",44),Ge(2),we()()}if(2&t){const e=n.$implicit;de(2),_r(e.label)}}function REe(t,n){if(1&t){const e=Qr();be(0,"button",54),dn("click",function(){Qn(e);const i=zt().index;return Jn(zt().removeLevel(i))}),un(1,"fa-icon",30),we()}if(2&t){const e=zt().index,r=zt();va("id","removeLevel-",e,""),de(),Ye("icon",r.removeIcon)}}function FEe(t,n){if(1&t&&(be(0,"small",42),Ge(1),we()),2&t){const e=zt(2);de(),ln(" End depth needs to be number ",e.ranges.depthLabel,". ")}}function OEe(t,n){if(1&t&&(be(0,"small",42),Ge(1),we()),2&t){const e=zt(2);de(),ln(" Duration needs to be number ",e.ranges.durationLabel,".")}}function BEe(t,n){if(1&t){const e=Qr();be(0,"div",45)(1,"div",46)(2,"div",47),Ge(3),Bn(4,"number"),we(),be(5,"div",48)(6,"input",33),dn("input",function(){const i=Qn(e).index;return Jn(zt().levelChanged(i))}),we()(),be(7,"div",48)(8,"input",35),dn("input",function(){const i=Qn(e).index;return Jn(zt().levelChanged(i))}),we()(),be(9,"div",31)(10,"div",37),un(11,"input",38)(12,"button",39),be(13,"ul",40),zn(14,PEe,3,1,"li",41),we()()(),be(15,"div",49),zn(16,REe,2,3,"button",50),we()(),be(17,"div",51)(18,"div",52)(19,"div",14),un(20,"div",10),be(21,"div",53),zn(22,FEe,2,1,"small",34)(23,OEe,2,1,"small",34),we()()(),un(24,"div",10),we()()}if(2&t){const e=n.index,r=zt();Ye("formGroupName",e),de(3),_r(Hn(4,21,r.startDepth(e),"1.0-0")),de(3),lr("is-invalid",r.depthItemInvalid(e)),va("id","depthItem-",e,""),Ye("min",0)("max",r.ranges.depth[1]),de(2),lr("is-invalid",r.durationItemInvalid(e)),va("id","durationItem-",e,""),Ye("min",r.ranges.duration[0])("max",r.ranges.duration[1]),de(3),va("id","tanks-",e,""),Ye("value",r.tankLabelFor(e)),de(3),Ye("ngForOf",r.tanks),de(2),Ye("ngIf",r.minimumSegments),de(6),Ye("ngIf",r.depthItemInvalid(e)),de(),Ye("ngIf",r.durationItemInvalid(e))}}let AG=(()=>{class t extends P1{constructor(e,r,i,a,s,l){super(),this.fb=e,this.inputs=r,this.validators=i,this.units=a,this.schedules=s,this.dispatcher=l,this.cardIcon=cx,this.addIcon=Bd,this.removeIcon=Eu,this.rootForm=this.fb.group({})}get ranges(){return this.units.ranges}get isFirstDive(){return this.schedules.selected.isFirst}get minimumSegments(){return this.depths.minimumSegments}get tanks(){return this.schedules.selectedTanks.tanks}get levelControls(){return this.complexForm.controls.levels}get depths(){return this.schedules.selectedDepths}get surfaceInterval(){return this.schedules.selected.surfaceIntervalText}depthItemInvalid(e){const i=this.levelControls.at(e).controls.endDepth;return this.inputs.controlInValid(i)}durationItemInvalid(e){const i=this.levelControls.at(e).controls.duration;return this.inputs.controlInValid(i)}startDepth(e){return this.levelAt(e).startDepth}labelFor(e){const r=this.levelAt(e);return`${r.startDepth}-${r.endDepth} ${this.units.length} ${r.duration} min`}tankLabelFor(e){return this.levelAt(e).tankLabel}assignTank(e,r){const i=this.levelAt(e);this.depths.assignTank(i,r)}ngOnInit(){this.complexForm=this.fb.group({surfaceInterval:[this.surfaceInterval,this.validators.surfaceInterval()],levels:this.fb.array(this.createLevelControls())}),this.dispatcher.selectedChanged$.pipe(Wr(this.unsubscribe$)).subscribe(()=>{this.reload()}),this.dispatcher.depthsReloaded$.pipe(Wr(this.unsubscribe$)).subscribe(e=>{this.depths===e&&this.reload()}),this.rootForm.addControl("depths",this.complexForm)}addLevel(){if(this.rootForm.invalid)return;this.depths.addSegment();const r=this.levelAt(this.depths.levels.length-1),i=this.createLevelControl(r);this.levelControls.push(i)}removeLevel(e){if(this.rootForm.invalid||!this.minimumSegments)return;const r=this.levelAt(e);this.depths.removeSegment(r),this.levelControls.removeAt(e)}levelChanged(e){if(this.rootForm.invalid)return;const r=this.levelAt(e),a=this.levelControls.at(e).value;r.duration=Number(a.duration),r.endDepth=Number(a.endDepth),this.depths.levelChanged()}reload(){this.complexForm.patchValue({surfaceInterval:this.surfaceInterval}),this.levelControls.clear(),this.createLevelControls().forEach(e=>this.levelControls.push(e))}createLevelControls(){const e=[];for(const r of this.depths.levels){const i=this.createLevelControl(r);e.push(i)}return e}createLevelControl(e){return this.fb.group({duration:[xn.round(e.duration,1),this.validators.duration],endDepth:[xn.round(e.endDepth,1),this.validators.depthFromSurface]})}levelAt(e){return this.depths.levels[e]}static#e=this.\u0275fac=function(r){return new(r||t)(lt(ss),lt(Ls),lt(Qa),lt(jr),lt(Ka),lt(u1))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-depths-complex"]],inputs:{rootForm:"rootForm"},features:[hi],decls:29,vars:10,consts:[[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[3,"formGroup"],[1,"card-body"],["class","row col-md-6 col-lg-12 col-xl-6 pb-2 mb-4",4,"ngIf"],["formArrayName","levels",1,"d-md-none","d-block"],[3,"flush"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","justify-content-end","pe-2","m-3"],[1,"col","col-1"],["type","button",1,"p-1","btn","btn-secondary",3,"click"],[1,"fa-xl",3,"icon"],["formArrayName","levels",1,"d-none","d-md-block"],[1,"row"],[1,"col","col-1","m-0","px-1","text-end"],[1,"col","col-2","m-0","px-1"],[1,"col","col-6","m-0","px-1"],[1,"col","col-1","m-0","px-1"],["id","addLevel","type","button",1,"p-1","btn","btn-secondary",3,"click"],["class","px-0 pb-2",3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","col-md-6","col-lg-12","col-xl-6","pb-2","mb-4"],["controlName","surfaceInterval",3,"form"],[3,"formGroupName"],["mdbAccordionItemHeader",""],["mdbAccordionItemBody",""],[1,"col","col-auto","d-flex","align-items-center"],[1,"col","col-1","pe-1"],["class","m-0 p-1 btn btn-secondary","type","button",3,"click",4,"ngIf"],["type","button",1,"m-0","p-1","btn","btn-secondary",3,"click"],[1,"p-0","m-0","fa-xl",3,"icon"],[1,"col","col-6","m-0","pb-0","px-1"],[1,"form-label","mt-2",3,"for"],["formControlName","endDepth","type","number","required","","step","1",1,"form-control",3,"input","id","min","max"],["class","text-danger",4,"ngIf"],["formControlName","duration","type","number","required","","step","1",1,"form-control",3,"input","id","min","max"],[1,"col","col-12","m-0","pb-0","px-1"],["mdbDropdown","",1,"input-group","dropdown"],["type","text","readonly","",1,"form-control",3,"id","value"],["id","tankMenu","type","button","mdbDropdownToggle","","aria-expanded","false","data-mdb-toggle","dropdown",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[3,"click",4,"ngFor","ngForOf"],[1,"text-danger"],[3,"click"],[1,"dropdown-item"],[1,"px-0","pb-2",3,"formGroupName"],[1,"row","p-0","pb-1"],[1,"col","col-12","col-sm-1","m-0","pb-0","px-1","text-end","align-self-center"],[1,"col","col-12","col-sm-2","m-0","pb-0","px-1"],[1,"col","col-12","col-sm-1","m-0","pb-0","px-1","align-self-center"],["type","button","class","m-0 p-1 btn btn-secondary",3,"id","click",4,"ngIf"],[1,"row","p-0","pb-2"],[1,"col","col-11"],[1,"col","m-0","px-0"],["type","button",1,"m-0","p-1","btn","btn-secondary",3,"click","id"]],template:function(r,i){1&r&&(be(0,"div",0)(1,"div",1),un(2,"fa-icon",2),be(3,"span"),Ge(4,"Depths"),we()(),be(5,"form",3)(6,"div",4),zn(7,TEe,2,1,"div",5),be(8,"div",6)(9,"mdb-accordion",7),zn(10,IEe,3,1,"mdb-accordion-item",8),we(),be(11,"div",9)(12,"div",10)(13,"button",11),dn("click",function(){return i.addLevel()}),un(14,"fa-icon",12),we()()()(),be(15,"div",13)(16,"div",14)(17,"div",15),Ge(18),we(),be(19,"div",16),Ge(20),we(),be(21,"div",16),Ge(22,"Duration [min]"),we(),be(23,"div",17),Ge(24,"Tank"),we(),be(25,"div",18)(26,"button",19),dn("click",function(){return i.addLevel()}),un(27,"fa-icon",12),we()()(),zn(28,BEe,25,24,"div",20),we()()()()),2&r&&(de(2),Ye("icon",i.cardIcon),de(3),Ye("formGroup",i.complexForm),de(2),Ye("ngIf",!i.isFirstDive),de(2),Ye("flush",!0),de(),Ye("ngForOf",i.levelControls.controls),de(4),Ye("icon",i.addIcon),de(4),ln("From [",i.units.length,"]"),de(2),ln("To [",i.units.length,"]"),de(7),Ye("icon",i.addIcon),de(),Ye("ngForOf",i.levelControls.controls))},dependencies:[Fo,ji,fa,P2,ja,xs,Cs,Ya,m1,ws,Ms,Ha,ps,K8,Q8,Gl,Qc,Jc,RE,lC,PE,NE,CM,hs]})}return t})(),zG=(()=>{class t{constructor(e,r,i,a){this.fb=e,this.inputs=r,this.validators=i,this.units=a,this.controlName="depth",this.bestNitroxMix="",this.plannedDepth=0,this.depthChange=new Fr,this.assignMaxDepth=new Fr}get depthInvalid(){const e=this.depthForm.get(this.controlName);return!e||this.inputs.controlInValid(e)}depthChanged(){if(this.depthForm.invalid)return;const e=this.depthForm.get(this.controlName),r=Number(e?.value);this.depthChange.next(Number(r))}applyMaxDepth(){this.assignMaxDepth.next({})}ngOnInit(){if(!this.depthForm){this.depthForm=this.fb.group({});const e=this.fb.control(xn.round(this.plannedDepth,1),this.validators.depth);this.depthForm.addControl(this.controlName,e)}}static#e=this.\u0275fac=function(r){return new(r||t)(lt(ss),lt(Ls),lt(Qa),lt(jr))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-depth"]],inputs:{depthForm:"depthForm",controlName:"controlName",bestNitroxMix:"bestNitroxMix",plannedDepth:"plannedDepth"},outputs:{depthChange:"depthChange",assignMaxDepth:"assignMaxDepth"},decls:10,vars:11,consts:[[3,"formGroup"],["for","depthField","mdbLabel","",1,"form-label"],["id","depthField","type","number","required","","step","1",1,"form-control",3,"input","formControlName","min","max"],[1,"invalid-feedback","position-absolute"],[1,"text-muted","form-text"],["type","button","id","applyMaxDepthBtn",1,"btn","btn-secondary","mt-2",3,"click"]],template:function(r,i){1&r&&(la(0,0),be(1,"label",1),Ge(2),we(),be(3,"input",2),dn("input",function(){return i.depthChanged()}),we(),be(4,"div",3),Ge(5),we(),be(6,"div",4),Ge(7),we(),be(8,"button",5),dn("click",function(){return i.applyMaxDepth()}),Ge(9,"Max"),we(),ua()),2&r&&(Ye("formGroup",i.depthForm),de(2),ln("Depth [",i.units.length,"]:"),de(),lr("is-invalid",i.depthInvalid),Ye("formControlName",i.controlName)("min",i.units.ranges.depth[0])("max",i.units.ranges.depth[1]),de(2),ln("Needs to be number ",i.units.ranges.depthLabel,""),de(),lr("invisible",i.depthInvalid),de(),ln("Best mix is ",i.bestNitroxMix,""))},dependencies:[ja,xs,Cs,Ya,m1,ws,Ms,Ha,ps,y1]})}return t})();function HEe(t,n){if(1&t&&(be(0,"div",4),un(1,"app-surface-interval",14),we()),2&t){const e=zt();de(),Ye("form",e.simpleForm)}}let kG=(()=>{class t extends P1{constructor(e,r,i,a,s,l){super(),this.fb=e,this.inputs=r,this.validators=i,this.units=a,this.schedules=s,this.dispatcher=l,this.cardIcon=cx,this.rootForm=this.fb.group({})}get ranges(){return this.units.ranges}get noDecoTime(){return this.diveResult.noDecoTime}get durationInvalid(){return this.inputs.controlInValid(this.simpleForm.controls.planDuration)}get depths(){return this.schedules.selectedDepths}get diveResult(){return this.schedules.selectedResult}get isFirstDive(){return this.schedules.selected.isFirst}get surfaceInterval(){return this.schedules.selected.surfaceIntervalText}ngOnInit(){this.simpleForm=this.fb.group({surfaceInterval:[this.surfaceInterval,this.validators.surfaceInterval()],planDuration:[xn.round(this.depths.planDuration,1),this.validators.duration],depth:[xn.round(this.depths.plannedDepth,1),this.validators.depth]}),this.dispatcher.depthChanged$.pipe(Wr(this.unsubscribe$)).subscribe(()=>{this.reload()}),this.dispatcher.setToSimple$.pipe(Wr(this.unsubscribe$)).subscribe(()=>{this.reload()}),this.dispatcher.depthsReloaded$.pipe(Wr(this.unsubscribe$)).subscribe(e=>{this.depths===e&&this.reload()}),this.dispatcher.selectedChanged$.pipe(Wr(this.unsubscribe$)).subscribe(()=>this.reload()),this.rootForm.addControl("simpleDepths",this.simpleForm)}valuesChanged(){if(this.rootForm.invalid)return;const e=this.simpleForm.value;this.depths.planDuration=Number(e.planDuration),this.depths.plannedDepth=Number(e.depth)}depthChanged(e){this.depths.plannedDepth=e}assignMaxDepth(){this.depths.applyMaxDepth(),this.reload()}reload(){this.simpleForm.patchValue({surfaceInterval:this.surfaceInterval,planDuration:xn.round(this.depths.planDuration,1),depth:xn.round(this.depths.plannedDepth,1)})}static#e=this.\u0275fac=function(r){return new(r||t)(lt(ss),lt(Ls),lt(Qa),lt(jr),lt(Ka),lt(u1))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-depths-simple"]],inputs:{rootForm:"rootForm"},features:[hi],decls:22,vars:21,consts:[[1,"card",3,"formGroup"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body","row"],[1,"mb-4","col","col-12","col-md-6","col-lg-12","col-xl-6"],["for","duration","mdbLabel","",1,"form-label"],["id","duration","formControlName","planDuration","type","number","required","","step","1",1,"form-control",3,"input","min","max"],[1,"invalid-feedback","position-absolute"],[1,"text-muted","form-text"],["type","button","id","btnApplyDuration",1,"btn","btn-secondary","mt-2","me-2","col","col-auto",3,"click"],["type","button","id","btnApplyNdl",1,"btn","btn-secondary","mt-2","col","col-auto",3,"click"],[1,"col","col-12","col-md-6","col-lg-12","col-xl-6"],["controlName","depth",3,"depthChange","assignMaxDepth","plannedDepth","bestNitroxMix","depthForm"],["class","mb-4 col col-12 col-md-6 col-lg-12 col-xl-6",4,"ngIf"],["controlName","surfaceInterval",3,"form"]],template:function(r,i){1&r&&(be(0,"div",0)(1,"div",1),un(2,"fa-icon",2),be(3,"span"),Ge(4,"Depth"),we()(),be(5,"div",3)(6,"div",4)(7,"label",5),Ge(8,"Bottom time [min]:"),we(),be(9,"input",6),dn("input",function(){return i.valuesChanged()}),we(),be(10,"div",7),Ge(11),we(),be(12,"div",8),Ge(13),Bn(14,"number"),we(),be(15,"button",9),dn("click",function(){return i.depths.applyMaxDuration()}),Ge(16,"Max"),we(),be(17,"button",10),dn("click",function(){return i.depths.applyNdlDuration()}),Ge(18,"No deco"),we()(),be(19,"div",11)(20,"app-depth",12),dn("depthChange",function(s){return i.depthChanged(s)})("assignMaxDepth",function(){return i.assignMaxDepth()}),we()(),zn(21,HEe,2,1,"div",13),we()()),2&r&&(Ye("formGroup",i.simpleForm),de(2),Ye("icon",i.cardIcon),de(7),lr("is-invalid",i.durationInvalid),Ye("min",i.ranges.duration[0])("max",i.ranges.duration[1]),de(2),ln("Needs to be number ",i.ranges.durationLabel," "),de(),lr("invisible",i.durationInvalid),de(),ln("No deco limit ",Hn(14,18,i.noDecoTime,"1.0-0")," min"),de(2),lr("invisible",!i.diveResult.showMaxDuration),de(2),lr("invisible",!i.diveResult.ndlValid),de(3),Ye("plannedDepth",i.depths.plannedDepth)("bestNitroxMix",i.depths.bestNitroxMix)("depthForm",i.simpleForm),de(),Ye("ngIf",!i.isFirstDive))},dependencies:[ji,fa,ja,xs,Cs,Ya,m1,ws,Ms,Ha,ps,y1,CM,zG,hs]})}return t})(),$u=(()=>{class t{static#e=this.depthConverterWarning="This calculator uses simple depth conversion (where 1 ATM = 1 bar), so thevalues shown here are less precise, than in rest of the application.";static#t=this.cnsOverOneThousand="> 1000"}return t})();function VEe(t,n){1&t&&(be(0,"div",1),un(1,"div",2),Ge(2," Calculating ...\n"),we())}let S4=(()=>{class t{constructor(){this.show=!1}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-calculating"]],inputs:{show:"show"},decls:1,vars:1,consts:[["class","mb-2 container",4,"ngIf"],[1,"mb-2","container"],[1,"spinner-grow","spinner-grow-sm","text-info","me-2"]],template:function(r,i){1&r&&zn(0,VEe,3,0,"div",0),2&r&&Ye("ngIf",i.show)},dependencies:[ji]})}return t})(),Wu=(()=>{class t{constructor(e){this.datePipe=e}transform(e,r){if(!e)return"";e=Math.abs(e),r=Math.abs(r);const i=C1.toDate(e),a=C1.selectTimeFormat(r),s=this.datePipe.transform(i,a)||"";let l=Br.toHours(e);return l=Math.trunc(l),l>=1?`${l}:${s}`:s}static#e=this.\u0275fac=function(r){return new(r||t)(lt(fy,16))};static#t=this.\u0275pipe=es({name:"duration",type:t,pure:!0})}return t})();function UEe(t,n){if(1&t&&(be(0,"div",2),un(1,"fa-icon",3),be(2,"span"),Ge(3,"There was an error while calculating profile."),we()()),2&t){const e=zt();de(),Ye("icon",e.exclamation)}}function GEe(t,n){if(1&t&&(be(0,"div",2),un(1,"fa-icon",3),be(2,"span"),Ge(3),Bn(4,"number"),we()()),2&t){const e=zt();de(),Ye("icon",e.exclamation),de(2),ln("Not enough time to realize the dive (duration needs to be at least ",Hn(4,2,e.minimumDuration,"1.0-0")," min)! Set longer planed dive time.")}}function $Ee(t,n){if(1&t&&(be(0,"span"),Ge(1),Bn(2,"number"),we()),2&t){const e=zt(3);de(),ln("Not enough gas to realize the dive! Maximum bottom time for current amount of gas is ",Hn(2,1,e.dive.maxTime,"1.0-0")," min. Use larger tank, fill it with more gas, reduce dive duration or planned depth.")}}function WEe(t,n){1&t&&(be(0,"span"),Ge(1,"Not enough gas to realize the dive! Maximum bottom time for current amount of gas is shorter than currently planned dive. Use larger tank, fill it with more gas, reduce dive duration or planned depth."),we())}function jEe(t,n){if(1&t&&(be(0,"div",2),un(1,"fa-icon",3),zn(2,$Ee,3,4,"span",1)(3,WEe,2,0,"span",1),we()),2&t){const e=zt(2);de(),Ye("icon",e.exclamation),de(),Ye("ngIf",e.dive.showMaxBottomTime),de(),Ye("ngIf",!e.dive.showMaxBottomTime)}}function YEe(t,n){if(1&t&&(be(0,"div",6),un(1,"fa-icon",3),be(2,"span"),Ge(3),Bn(4,"number"),we()()),2&t){const e=zt(2);de(),Ye("icon",e.warning),de(2),E1("Exceeded 80 % of maximum single exposure oxygen toxicity units (",Hn(4,3,e.dive.otu,"1.0-0"),"/",e.otuLimit," OTU)! There is a high risk of lungs injury. Reduce amount of oxygen in your gases, dive duration or target depths.")}}function ZEe(t,n){if(1&t&&(be(0,"div",6),un(1,"fa-icon",3),be(2,"span"),Ge(3),Bn(4,"number"),we()()),2&t){const e=zt(2);de(),Ye("icon",e.warning),de(2),ln("Exceeded 80 % of maximum single exposure oxygen toxicity (",Hn(4,2,e.dive.cns,"1.0-0")," %)! There is a high risk of CNS injury. Reduce amount of oxygen in your gases, dive duration or target depths.")}}function XEe(t,n){if(1&t&&(be(0,"div",8),un(1,"fa-icon",3),be(2,"strong"),Ge(3),Bn(4,"duration"),Bn(5,"number"),we(),be(6,"span"),Ge(7),Bn(8,"number"),we()()),2&t){const e=zt().$implicit,r=zt(2);de(),Ye("icon",r.info),de(2),Ws("",Hn(4,5,e.timeStamp,e.timeStamp)," min, ",Hn(5,8,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": "),de(4),ln("No decompression time for current depth exceeded (For no decompression dive set dive time maximum to ",Hn(8,11,r.noDeco,"1.0-0")," min)!")}}function KEe(t,n){if(1&t&&(be(0,"div",6),un(1,"fa-icon",3),be(2,"strong"),Ge(3),Bn(4,"duration"),Bn(5,"number"),we(),be(6,"span"),Ge(7,"Reached low partial pressure of oxygen (minimum depth exceeded)! There is a risk of hypoxia. Use gas with higher oxygen content."),we()()),2&t){const e=zt().$implicit,r=zt(2);de(),Ye("icon",r.warning),de(2),Ws("",Hn(4,4,e.timeStamp,e.timeStamp)," min, ",Hn(5,7,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": ")}}function QEe(t,n){if(1&t&&(be(0,"div",6),un(1,"fa-icon",3),be(2,"strong"),Ge(3),Bn(4,"duration"),Bn(5,"number"),we(),be(6,"span"),Ge(7,"Reached high partial pressure of oxygen (maximum depth exceeded)! There is a risk of oxygen toxicity. Reduce the depth or use gas with lower oxygen content."),we()()),2&t){const e=zt().$implicit,r=zt(2);de(),Ye("icon",r.warning),de(2),Ws("",Hn(4,4,e.timeStamp,e.timeStamp)," min, ",Hn(5,7,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": ")}}function JEe(t,n){if(1&t&&(be(0,"div",6),un(1,"fa-icon",3),be(2,"strong"),Ge(3),Bn(4,"duration"),Bn(5,"number"),we(),be(6,"span"),Ge(7,"High descent speed! Descent longer time or descent to lower depth."),we()()),2&t){const e=zt().$implicit,r=zt(2);de(),Ye("icon",r.warning),de(2),Ws("",Hn(4,4,e.timeStamp,e.timeStamp)," min, ",Hn(5,7,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": ")}}function qEe(t,n){if(1&t&&(be(0,"div",6),un(1,"fa-icon",3),be(2,"strong"),Ge(3),Bn(4,"duration"),Bn(5,"number"),we(),be(6,"span"),Ge(7,"High ascent speed! Ascent to higher depth only or ascent longer time."),we()()),2&t){const e=zt().$implicit,r=zt(2);de(),Ye("icon",r.warning),de(2),Ws("",Hn(4,4,e.timeStamp,e.timeStamp)," min, ",Hn(5,7,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": ")}}function eNe(t,n){if(1&t&&(be(0,"div",6),un(1,"fa-icon",3),be(2,"strong"),Ge(3),Bn(4,"duration"),Bn(5,"number"),we(),be(6,"span"),Ge(7,"Exceeded minimum safe (ceiling) depth! Change your plan to higher depth at this point."),we()()),2&t){const e=zt().$implicit,r=zt(2);de(),Ye("icon",r.warning),de(2),Ws("",Hn(4,4,e.timeStamp,e.timeStamp)," min, ",Hn(5,7,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": ")}}function tNe(t,n){if(1&t&&(be(0,"div",6),un(1,"fa-icon",3),be(2,"strong"),Ge(3),Bn(4,"duration"),Bn(5,"number"),we(),be(6,"span"),Ge(7,"Gas switch to gas with higher nitrogen content is not recommended! There is a risk od isobaric counter diffusion (IDC). Switch to another gas with higher helium content or lower nitrogen content."),we()()),2&t){const e=zt().$implicit,r=zt(2);de(),Ye("icon",r.warning),de(2),Ws("",Hn(4,4,e.timeStamp,e.timeStamp)," min, ",Hn(5,7,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": ")}}function nNe(t,n){if(1&t&&(be(0,"div",6),un(1,"fa-icon",3),be(2,"strong"),Ge(3),Bn(4,"duration"),Bn(5,"number"),we(),be(6,"span"),Ge(7,"Exceeded maximum narcotic depth for selected gas! Reduce the depth or use gas with higher helium content."),we()()),2&t){const e=zt().$implicit,r=zt(2);de(),Ye("icon",r.warning),de(2),Ws("",Hn(4,4,e.timeStamp,e.timeStamp)," min, ",Hn(5,7,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": ")}}function rNe(t,n){if(1&t&&(be(0,"div",6),un(1,"fa-icon",3),be(2,"strong"),Ge(3),Bn(4,"duration"),Bn(5,"number"),we(),be(6,"span"),Ge(7,"Exceeded maximum recommended gas density! Reduce the depth or use gas with higher helium content (i.e. lower density)."),we()()),2&t){const e=zt().$implicit,r=zt(2);de(),Ye("icon",r.warning),de(2),Ws("",Hn(4,4,e.timeStamp,e.timeStamp)," min, ",Hn(5,7,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": ")}}function iNe(t,n){if(1&t&&(be(0,"div",6),un(1,"fa-icon",3),be(2,"strong"),Ge(3),Bn(4,"number"),we(),be(5,"span"),Ge(6,"Dives planned to shallow depth for long time may lead to saturation diving! Reduce the dive duration shorter than 5 hours."),we()()),2&t){const e=zt().$implicit,r=zt(2);de(),Ye("icon",r.warning),de(2),E1("",Hn(4,3,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": ")}}function aNe(t,n){if(1&t&&(be(0,"div",6),un(1,"fa-icon",3),be(2,"strong"),Ge(3),Bn(4,"number"),we(),be(5,"span"),Ge(6,"Exceeded maximum depth where the algorithm was well tested on real life data! Reduce the maximum depth."),we()()),2&t){const e=zt().$implicit,r=zt(2);de(),Ye("icon",r.warning),de(2),E1("",Hn(4,3,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": ")}}function sNe(t,n){if(1&t&&(be(0,"div",6),un(1,"fa-icon",3),be(2,"strong"),Ge(3),Bn(4,"duration"),Bn(5,"number"),we(),be(6,"span"),Ge(7,"It is recommended to don't breath pure oxygen longer than 20 minutes. Use air break option to generate proper gas switches or manually add switch to bottom gas."),we()()),2&t){const e=zt().$implicit,r=zt(2);de(),Ye("icon",r.warning),de(2),Ws("",Hn(4,4,e.timeStamp,e.timeStamp)," min, ",Hn(5,7,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": ")}}function oNe(t,n){if(1&t&&(la(0),zn(1,XEe,9,14,"div",7)(2,KEe,8,10,"div",4)(3,QEe,8,10,"div",4)(4,JEe,8,10,"div",4)(5,qEe,8,10,"div",4)(6,eNe,8,10,"div",4)(7,tNe,8,10,"div",4)(8,nNe,8,10,"div",4)(9,rNe,8,10,"div",4)(10,iNe,7,6,"div",4)(11,aNe,7,6,"div",4)(12,sNe,8,10,"div",4),ua()),2&t){const e=n.$implicit,r=zt(2);de(),Ye("ngIf",r.showNoDeco(e)),de(),Ye("ngIf",r.isLowPpO2(e)),de(),Ye("ngIf",r.isHighPpO2(e)),de(),Ye("ngIf",r.isHighDescentSpeed(e)),de(),Ye("ngIf",r.isHighAscentSpeed(e)),de(),Ye("ngIf",r.isBrokenCeiling(e)),de(),Ye("ngIf",r.isHighN2Switch(e)),de(),Ye("ngIf",r.isMndExceeded(e)),de(),Ye("ngIf",r.isHighDensity(e)),de(),Ye("ngIf",r.isMinDepth(e)),de(),Ye("ngIf",r.isMaxDepth(e)),de(),Ye("ngIf",r.isMissingAirbreak(e))}}function cNe(t,n){if(1&t&&(la(0),zn(1,jEe,4,3,"div",0)(2,YEe,5,6,"div",4)(3,ZEe,5,5,"div",4)(4,oNe,13,12,"ng-container",5),ua()),2&t){const e=zt();de(),Ye("ngIf",e.dive.calculated&&e.dive.notEnoughGas),de(),Ye("ngIf",e.dive.diveInfoCalculated&&e.dive.otuExceeded),de(),Ye("ngIf",e.dive.diveInfoCalculated&&e.dive.cnsExceeded),de(),Ye("ngForOf",e.events)}}let EG=(()=>{class t{constructor(e,r){this.units=e,this.schedules=r,this.exclamation=XC,this.warning=m4,this.info=VB,this.otuLimit=qx.dailyLimit}get events(){return _o()(this.dive.events).sortBy(e=>e.timeStamp).value()}get minimumDuration(){return this.schedules.selectedDepths.planDuration+1}get noDeco(){return this.dive.noDecoTime}get dive(){return this.schedules.selectedResult}showNoDeco(e){return e.type===ai.noDecoEnd&&this.dive.noDecoExceeded}isLowPpO2(e){return e.type===ai.lowPpO2}isHighPpO2(e){return e.type===ai.highPpO2}isHighAscentSpeed(e){return e.type===ai.highAscentSpeed}isHighDescentSpeed(e){return e.type===ai.highDescentSpeed}isBrokenCeiling(e){return e.type===ai.brokenCeiling}isHighN2Switch(e){return e.type===ai.isobaricCounterDiffusion}isMndExceeded(e){return e.type===ai.maxEndExceeded}isHighDensity(e){return e.type===ai.highGasDensity}isMinDepth(e){return e.type===ai.minDepth}isMaxDepth(e){return e.type===ai.maxDepth}isMissingAirbreak(e){return e.type===ai.missingAirBreak}eventDepthFor(e){return this.units.fromMeters(e.depth)}static#e=this.\u0275fac=function(r){return new(r||t)(lt(jr),lt(Ka))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-dive-issues"]],decls:3,vars:3,consts:[["class","alert alert-danger",4,"ngIf"],[4,"ngIf"],[1,"alert","alert-danger"],[1,"me-2",3,"icon"],["class","alert alert-warning",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"alert","alert-warning"],["class","alert alert-info",4,"ngIf"],[1,"alert","alert-info"]],template:function(r,i){1&r&&zn(0,UEe,4,1,"div",0)(1,GEe,5,5,"div",0)(2,cNe,5,4,"ng-container",1),2&r&&(Ye("ngIf",i.dive.calculated&&i.dive.failed),de(),Ye("ngIf",i.dive.diveInfoCalculated&&i.dive.notEnoughTime),de(),Ye("ngIf",!i.dive.hasErrors))},dependencies:[Fo,ji,fa,hs,Wu]})}return t})();function lNe(t,n){if(1&t&&(be(0,"span",3),Ge(1),we()),2&t){const e=zt();de(),ln("",e.tank.name," ")}}function uNe(t,n){if(1&t&&(be(0,"span"),Ge(1),Bn(2,"number"),we()),2&t){const e=zt();de(),E1(", MND: ",Hn(2,2,e.gasMnd,"1.0-0")," ",e.units.length,"")}}let Um=(()=>{class t{constructor(e){this.units=e,this.tank=Xa.createDefault(),this.showName=!0,this.toxicity=new Zd}get gasMod(){const e=this.toxicity.modForGas(this.tank),r=this.units.fromMeters(e);return xn.floor(r)}get gasMnd(){const e=this.toxicity.mndForGas(this.tank.gas),r=this.units.fromMeters(e);return xn.floor(r)}get isTrimix(){return this.tank.he>0}get gasDecoMod(){const e=this.toxicity.switchDepth(this.tank),r=this.units.fromMeters(e);return xn.floor(r)}static#e=this.\u0275fac=function(r){return new(r||t)(lt(jr))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-gaslabel"]],inputs:{tank:"tank",showName:"showName",toxicity:"toxicity"},decls:6,vars:12,consts:[[1,"text-muted"],["class","fw-bold",4,"ngIf"],[4,"ngIf"],[1,"fw-bold"]],template:function(r,i){1&r&&(be(0,"small",0),zn(1,lNe,2,1,"span",1),Ge(2),Bn(3,"number"),Bn(4,"number"),zn(5,uNe,3,5,"span",2),we()),2&r&&(de(),Ye("ngIf",i.showName),de(),Sg(" MOD: ",Hn(3,6,i.gasMod,"1.0-0")," ",i.units.length,", switch ",Hn(4,9,i.gasDecoMod,"1.0-0")," ",i.units.length," "),de(3),Ye("ngIf",i.isTrimix))},dependencies:[ji,hs]})}return t})();const fNe=(t,n)=>({"progress-bar rounded-progress":!0,"bg-success":t,"bg-danger":n});function dNe(t,n){if(1&t&&(be(0,"span"),Ge(1),we()),2&t){const e=zt();de(),ln(" ",e.tank.id,".")}}let NG=(()=>{class t{constructor(e){this.units=e,this.tank=Xa.createDefault(),this.toxicity=new Zd,this.showId=!1}get endPressure(){return this.units.fromBar(this.tank.endPressure)}get startPressure(){return this.units.fromBar(this.tank.startPressure)}get reserve(){return this.units.fromBar(this.tank.reserve)}static#e=this.\u0275fac=function(r){return new(r||t)(lt(jr))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-tankchart"]],inputs:{tank:"tank",toxicity:"toxicity",showId:"showId"},decls:27,vars:39,consts:[[1,"my-4"],[1,"d-flex","flex-row","justify-content-between"],[1,"text-start"],[4,"ngIf"],[1,"text-end",3,"tank","toxicity","showName"],[1,"text-start","text-muted"],[1,"text-end","text-muted"],[1,"progress","gas-bar","mt-1","mb-2"],[1,"combined_wrapper"],["role","progressbar","aria-valuemin","0",1,"reserve-bar","rounded-progress"],[1,"reserve-overlay"],[1,"reserve-value"],["role","progressbar","aria-valuemin","0",3,"ngClass"]],template:function(r,i){1&r&&(be(0,"div",0)(1,"div",1)(2,"strong",2),zn(3,dNe,2,1,"span",3),Ge(4),we(),un(5,"app-gaslabel",4),we(),be(6,"div",1)(7,"small",5),Ge(8),Bn(9,"number"),Bn(10,"number"),we(),be(11,"small",6),Ge(12,"Rock bottom: "),be(13,"strong"),Ge(14),Bn(15,"number"),we(),Ge(16),we()(),be(17,"div",7)(18,"div",8)(19,"div",9)(20,"div",10)(21,"div",11),Ge(22),Bn(23,"number"),we()()(),be(24,"div",12),Ge(25),Bn(26,"number"),we()()()()),2&r&&(de(3),Ye("ngIf",i.showId),de(),ln(" ",i.tank.name,""),de(),Ye("tank",i.tank)("toxicity",i.toxicity)("showName",!1),de(3),Ws("Gas remaining: ",Hn(9,21,i.endPressure,"1.0-0"),"/",Hn(10,24,i.startPressure,"1.0-0")," ",i.units.pressure,""),de(6),_r(Hn(15,27,i.reserve,"1.0-0")),de(2),ln(" ",i.units.pressure,""),de(3),Q6("width",i.tank.percentsReserve+"%"),k1("aria-valuemax",i.tank.startPressure)("aria-valuenow",i.tank.reserve),de(3),_r(Hn(23,30,i.reserve,"1.0-0")),de(2),Q6("width",i.tank.percentsRemaining+"%"),Ye("ngClass",ic(36,fNe,i.tank.hasReserve,!i.tank.hasReserve)),k1("aria-valuemax",i.tank.startPressure)("aria-valuenow",i.tank.endPressure),de(),ln(" ",Hn(26,33,i.endPressure,"1.0-0"),""))},dependencies:[I2,ji,Um,hs],styles:[".gas-bar[_ngcontent-%COMP%]{padding:5px 8px;height:2em;font-size:1em;border:1px solid #a1a1a1;border-radius:.5em;background:transparent;box-shadow:none;overflow:visible;position:static}.rounded-progress[_ngcontent-%COMP%]{height:100%}.reserve-overlay[_ngcontent-%COMP%]{position:relative}.reserve-value[_ngcontent-%COMP%]{position:absolute;bottom:-3.75em;right:3px;text-align:right}.reserve-bar[_ngcontent-%COMP%]{position:absolute;padding:0;height:4em;top:-.1em;left:0;text-align:right;font-size:.75em;border-right:2px solid darkorange}.combined_wrapper[_ngcontent-%COMP%]{position:relative;width:100%}"]})}return t})();const hNe=["tabs"];function pNe(t,n){if(1&t){const e=Qr();be(0,"div",19)(1,"div",20),un(2,"fa-icon",7),be(3,"strong",21),Ge(4,"Share plan"),we(),be(5,"button",22),dn("click",function(){return Qn(e),Jn(zt().hideToast())}),we()(),be(6,"div",23),Ge(7," URL address of this dive plan was copied to the clipboard. "),we()()}if(2&t){const e=zt();de(2),Ye("icon",e.iconShare)}}function mNe(t,n){if(1&t&&(be(0,"strong"),Ge(1),Bn(2,"duration"),we()),2&t){const e=zt();de(),ln("",Hn(2,1,e.dive.totalDuration,e.dive.totalDuration)," ")}}function vNe(t,n){if(1&t&&(be(0,"strong"),Ge(1),Bn(2,"number"),we()),2&t){const e=zt();de(),_r(Hn(2,1,e.dive.timeToSurface,"1.0-0"))}}function gNe(t,n){if(1&t&&(be(0,"strong"),Ge(1),Bn(2,"number"),we()),2&t){const e=zt();de(),_r(Hn(2,1,e.averageDepth,"1.0-1"))}}function yNe(t,n){if(1&t&&(be(0,"strong"),Ge(1),Bn(2,"duration"),we()),2&t){const e=zt();de(),ln("",Hn(2,1,e.dive.emergencyAscentStart,e.dive.emergencyAscentStart)," ")}}function bNe(t,n){if(1&t){const e=Qr();be(0,"button",24),dn("click",function(){return Qn(e),Jn(zt().applyNdlDuration())}),Ge(1,"Use"),we()}}function CNe(t,n){if(1&t&&(be(0,"strong"),Ge(1),Bn(2,"number"),we()),2&t){const e=zt();de(),_r(Hn(2,1,e.noDeco,"1.0-0"))}}function xNe(t,n){if(1&t){const e=Qr();be(0,"button",24),dn("click",function(){return Qn(e),Jn(zt(2).applyMaxDuration())}),Ge(1,"Use"),we()}}function MNe(t,n){if(1&t&&(be(0,"strong"),Ge(1),Bn(2,"number"),we()),2&t){const e=zt(2);de(),_r(Hn(2,1,e.dive.maxTime,"1.0-0"))}}function wNe(t,n){if(1&t&&(be(0,"tr")(1,"td"),Ge(2,"Maximum bottom time [min]: "),zn(3,xNe,2,0,"button",16),we(),be(4,"td",14),zn(5,MNe,3,4,"strong",15),we()()),2&t){const e=zt();de(3),Ye("ngIf",e.showApply),de(2),Ye("ngIf",e.dive.calculated)}}function _Ne(t,n){if(1&t&&(be(0,"strong"),Ge(1),Bn(2,"number"),we()),2&t){const e=zt(2);de(),_r(Hn(2,1,e.highestDensity,"1.0-2"))}}function LNe(t,n){if(1&t&&(be(0,"tr")(1,"td"),Ge(2),un(3,"br"),Ge(4),we(),be(5,"td",14),zn(6,_Ne,3,4,"strong",15),we()()),2&t){const e=zt();de(2),ln(" Highest gas density [",e.units.density,"]:"),de(2),ln(" (",e.densityText,") "),de(2),Ye("ngIf",e.dive.calculated)}}function SNe(t,n){if(1&t&&(be(0,"strong"),Ge(1),Bn(2,"number"),we()),2&t){const e=zt(2);de(),_r(Hn(2,1,e.dive.turnTime,"1.0-0"))}}function TNe(t,n){if(1&t&&(be(0,"tr")(1,"td"),Ge(2,"Turn time [min]:"),we(),be(3,"td",14),zn(4,SNe,3,4,"strong",15),we()()),2&t){const e=zt();de(4),Ye("ngIf",e.dive.calculated)}}function DNe(t,n){if(1&t&&(be(0,"strong"),Ge(1),Bn(2,"number"),we()),2&t){const e=zt(2);de(),_r(Hn(2,1,e.dive.turnPressure,"1.0-0"))}}function ANe(t,n){if(1&t&&(be(0,"tr")(1,"td"),Ge(2),we(),be(3,"td",14),zn(4,DNe,3,4,"strong",15),we()()),2&t){const e=zt();de(2),ln("Turn pressure [",e.units.pressure,"]:"),de(2),Ye("ngIf",e.dive.calculated)}}function zNe(t,n){if(1&t&&(be(0,"strong"),Ge(1),Bn(2,"number"),we()),2&t){const e=zt(2);de(),_r(Hn(2,1,e.dive.otu,"1.0-0"))}}function kNe(t,n){if(1&t&&(be(0,"tr")(1,"td"),Ge(2,"OTU toxicity [OTU]:"),we(),be(3,"td",14),zn(4,zNe,3,4,"strong",15),we()()),2&t){const e=zt();de(4),Ye("ngIf",e.dive.calculated)}}function ENe(t,n){if(1&t&&(be(0,"strong"),Ge(1),we()),2&t){const e=zt(2);de(),_r(e.cnsText)}}function NNe(t,n){if(1&t&&(be(0,"tr")(1,"td"),Ge(2,"CNS toxicity [%]:"),we(),be(3,"td",14),zn(4,ENe,2,1,"strong",15),we()()),2&t){const e=zt();de(4),Ye("ngIf",e.dive.calculated)}}function INe(t,n){1&t&&un(0,"fa-icon",26),2&t&&Ye("icon",zt(2).warnIcon)}function PNe(t,n){if(1&t&&(be(0,"span"),Ge(1,"Consumed"),we(),zn(2,INe,1,1,"fa-icon",25)),2&t){const e=zt();de(2),Ye("ngIf",e.dive.notEnoughGas)}}function RNe(t,n){if(1&t&&un(0,"app-tankchart",28),2&t){const e=n.$implicit,r=zt(2);Ye("tank",e)("showId",r.isComplex)("toxicity",r.toxicity)}}function FNe(t,n){if(1&t&&(la(0),zn(1,RNe,1,3,"app-tankchart",27),ua()),2&t){const e=zt();de(),Ye("ngForOf",e.tanks)}}function ONe(t,n){if(1&t&&un(0,"fa-icon",30),2&t){const e=zt(2);lr("text-danger",e.dive.hasErrorEvent)("text-warning",!e.dive.hasErrorEvent&&e.dive.hasWarningEvent),Ye("icon",e.warnIcon)}}function BNe(t,n){if(1&t&&(be(0,"span"),Ge(1,"Issues"),we(),zn(2,ONe,1,5,"fa-icon",29)),2&t){const e=zt();de(2),Ye("ngIf",e.dive.hasErrorEvent||e.dive.hasWarningEvent)}}let IG=(()=>{class t extends P1{constructor(e,r,i,a,s){super(),this.clipboard=e,this.viewSwitch=r,this.units=i,this.dispatcher=a,this.schedules=s,this.icon=ym,this.iconShare=Bx,this.warnIcon=m4,this.toastVisible=!1,this.clipboard.copyResponse$.pipe(Wr(this.unsubscribe$)).subscribe(l=>{this.copyToClipBoard(l)}),this.dispatcher.infoCalculated$.pipe(Wr(this.unsubscribe$)).subscribe(l=>{this.checkIssuesTab(l)})}get isComplex(){return this.viewSwitch.isComplex}get tanks(){return this.schedules.selectedTanks.tankData}get noDeco(){return this.dive.noDecoTime}get showApply(){return!this.isComplex&&this.dive.calculated}get averageDepth(){return this.units.fromMeters(this.dive.averageDepth)}get highestDensity(){return this.units.fromGramPerLiter(this.dive.highestDensity.density)}get densityText(){return`${this.dive.highestDensity.gas.name} at ${this.units.fromMeters(this.dive.highestDensity.depth)} ${this.units.length}`}get cnsText(){return this.dive.cns>=1e3?$u.cnsOverOneThousand:j7(this.dive.cns,"en","1.0-0")}get dive(){return this.schedules.selectedResult}get toxicity(){return this.schedules.selectedToxicity}get depthsService(){return this.schedules.selectedDepths}applyMaxDuration(){this.depthsService.applyMaxDuration()}applyNdlDuration(){this.depthsService.applyNdlDuration()}sharePlan(){this.clipboard.copy(window.location.href)}hideToast(){this.toastVisible=!1}checkIssuesTab(e){const r=this.schedules.selected;r.id===e&&(r.diveResult.hasErrorEvent||r.diveResult.hasErrorEvent)&&this.tabs?.setActiveTab(2)}copyToClipBoard(e){e.isSuccess&&(this.toastVisible=!0,setTimeout(()=>{this.hideToast()},5e3))}static#e=this.\u0275fac=function(r){return new(r||t)(lt(Ese),lt(jl),lt(jr),lt(u1),lt(Ka))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-diveinfo"]],viewQuery:function(r,i){if(1&r&&eu(hNe,5),2&r){let a;go(a=yo())&&(i.tabs=a.first)}},features:[hi],decls:59,vars:19,consts:[["tabs",""],[1,"card"],[1,"card-header"],[1,"float-start","mt-1"],[1,"me-3",3,"icon"],[1,"float-end"],["type","button",1,"btn","btn-sm","btn-secondary",3,"click"],[1,"me-2",3,"icon"],[1,"position-fixed","top-0","end-0","px-3","py-2","m-16","mt-5","success"],["role","alert","aria-live","assertive","aria-atomic","true","class","toast fade text-light mt-2 bg-success success","data-autohide","true",4,"ngIf"],[1,"card-body","card-minheight"],["title","Results"],[1,"pb-3"],[1,"table","table-sm"],[1,"table-active"],[4,"ngIf"],["type","button","class","btn btn-secondary btn-sm ml-2",3,"click",4,"ngIf"],[3,"show"],["mdbTabTitle",""],["role","alert","aria-live","assertive","aria-atomic","true","data-autohide","true",1,"toast","fade","text-light","mt-2","bg-success","success"],[1,"toast-header","bg-success","success","text-light"],[1,"me-auto"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"toast-body","alert-success"],["type","button",1,"btn","btn-secondary","btn-sm","ml-2",3,"click"],["class","ms-2 fa-xl text-danger",3,"icon",4,"ngIf"],[1,"ms-2","fa-xl","text-danger",3,"icon"],[3,"tank","showId","toxicity",4,"ngFor","ngForOf"],[3,"tank","showId","toxicity"],["class","ms-2 fa-xl",3,"text-danger","text-warning","icon",4,"ngIf"],[1,"ms-2","fa-xl",3,"icon"]],template:function(r,i){if(1&r){const a=Qr();be(0,"div",1)(1,"div",2)(2,"div",3),un(3,"fa-icon",4),be(4,"span"),Ge(5,"Dive info"),we()(),be(6,"div",5)(7,"button",6),dn("click",function(){return Qn(a),Jn(i.sharePlan())}),un(8,"fa-icon",7),Ge(9,"Share "),we()()(),be(10,"div",8),zn(11,pNe,8,1,"div",9),we(),be(12,"div",10)(13,"mdb-tabs",null,0)(15,"mdb-tab",11)(16,"div",12)(17,"table",13)(18,"tbody")(19,"tr")(20,"td"),Ge(21,"Total dive time [min]:"),we(),be(22,"td",14),zn(23,mNe,3,4,"strong",15),we()(),be(24,"tr")(25,"td"),Ge(26,"Time to surface [min]:"),we(),be(27,"td",14),zn(28,vNe,3,4,"strong",15),we()(),be(29,"tr")(30,"td"),Ge(31),we(),be(32,"td",14),zn(33,gNe,3,4,"strong",15),we()(),be(34,"tr")(35,"td"),Ge(36,"Rock bottom at [min]:"),we(),be(37,"td",14),zn(38,yNe,3,4,"strong",15),we()(),be(39,"tr")(40,"td"),Ge(41,"No decompression time [min]: "),zn(42,bNe,2,0,"button",16),we(),be(43,"td",14),zn(44,CNe,3,4,"strong",15),we()(),zn(45,wNe,6,2,"tr",15)(46,LNe,7,3,"tr",15)(47,TNe,5,1,"tr",15)(48,ANe,5,2,"tr",15)(49,kNe,5,1,"tr",15)(50,NNe,5,1,"tr",15),we()()(),un(51,"app-calculating",17),we(),be(52,"mdb-tab"),zn(53,PNe,3,1,"ng-template",18)(54,FNe,2,1,"ng-container",15),un(55,"app-calculating",17),we(),be(56,"mdb-tab"),zn(57,BNe,3,1,"ng-template",18),un(58,"app-dive-issues"),we()()()()}2&r&&(de(3),Ye("icon",i.icon),de(5),Ye("icon",i.iconShare),de(3),Ye("ngIf",i.toastVisible),de(12),Ye("ngIf",i.dive.calculated),de(5),Ye("ngIf",i.dive.calculated),de(3),ln("Average depth [",i.units.length,"]:"),de(2),Ye("ngIf",i.dive.profileCalculated),de(5),Ye("ngIf",i.dive.calculated),de(4),Ye("ngIf",i.showApply),de(2),Ye("ngIf",i.dive.diveInfoCalculated),de(),Ye("ngIf",i.dive.showMaxBottomTime),de(),Ye("ngIf",i.isComplex),de(),Ye("ngIf",i.dive.needsReturn),de(),Ye("ngIf",i.dive.needsReturn),de(),Ye("ngIf",i.dive.profileCalculated),de(),Ye("ngIf",i.dive.profileCalculated),de(),Ye("show",!i.dive.calculated),de(3),Ye("ngIf",i.dive.showResults),de(),Ye("show",!i.dive.calculated))},dependencies:[Fo,ji,fa,Hp,kE,cC,S4,EG,NG,hs,Wu]})}return t})();function HNe(t,n){if(1&t&&(be(0,"div",8),Ge(1),we()),2&t){const e=zt();de(),ln(" Needs to be number ",e.units.ranges.altitudeLabel," ")}}let Gm=(()=>{class t{constructor(e,r,i,a){this.fb=e,this.inputs=r,this.validators=i,this.units=a,this.inputChange=new Fr,this.altitude=0,this.controlName="altitude"}get smallHill(){return this.levelLabel(1)}get mountains(){return this.levelLabel(2)}get highMountains(){return this.levelLabel(3)}get altitudeInvalid(){const e=this.altitudeForm.get(this.controlName);return this.inputs.controlInValid(e)}ngOnInit(){if(!this.altitudeForm){this.altitudeForm=this.fb.group({});const e=this.units.fromMeters(this.altitude),r=this.fb.control(e,this.validators.altitude);this.altitudeForm.addControl(this.controlName,r)}}altitudeChanged(){if(this.altitudeForm.invalid)return;const e=this.altitudeForm.get(this.controlName),r=Number(e?.value);this.altitude=this.units.toMeters(r),this.inputChange.emit(this.altitude)}seaLevel(){this.setLevel(0)}setHill(){this.setLevel(1)}setMountains(){this.setLevel(2)}setHighMountains(){this.setLevel(3)}setLevel(e){const r=this.selectLevels()[e];this.altitudeForm.patchValue({[this.controlName]:r}),this.altitudeChanged()}levelLabel(e){return`${this.selectLevels()[e]} ${this.units.altitude}`}selectLevels(){return this.units.ranges.altitudeLevels}static#e=this.\u0275fac=function(r){return new(r||t)(lt(ss),lt(Ls),lt(Qa),lt(jr))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-altitude"]],inputs:{altitude:"altitude",altitudeForm:"altitudeForm",controlName:"controlName"},outputs:{inputChange:"inputChange"},decls:20,vars:10,consts:[[1,"mb-2",3,"formGroup"],["for","altitudeField","mdbLabel","",1,"form-label"],["mdbDropdown","",1,"input-group","dropdown"],["id","altitudeField","type","number","required","","step","1","formControlName","altitude",1,"form-control",3,"input","min","max"],["type","button","aria-expanded","false","mdbDropdownToggle","",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],["class","text-danger form-text position-absolute",4,"ngIf"],[1,"text-danger","form-text","position-absolute"]],template:function(r,i){1&r&&(be(0,"div",0)(1,"label",1),Ge(2),we(),be(3,"div",2)(4,"input",3),dn("input",function(){return i.altitudeChanged()}),we(),un(5,"button",4),be(6,"ul",5)(7,"li",6),dn("click",function(){return i.seaLevel()}),be(8,"a"),Ge(9,"Sea level"),we()(),be(10,"li",6),dn("click",function(){return i.setHill()}),be(11,"a"),Ge(12),we()(),be(13,"li",6),dn("click",function(){return i.setMountains()}),be(14,"a"),Ge(15),we()(),be(16,"li",6),dn("click",function(){return i.setHighMountains()}),be(17,"a"),Ge(18),we()()()(),zn(19,HNe,2,1,"div",7),we()),2&r&&(Ye("formGroup",i.altitudeForm),de(2),ln("Altitude [",i.units.altitude,"]:"),de(2),lr("is-invalid",i.altitudeInvalid),Ye("min",i.units.ranges.altitude[0])("max",i.units.ranges.altitude[1]),de(8),_r(i.smallHill),de(3),_r(i.mountains),de(3),_r(i.highMountains),de(),Ye("ngIf",i.altitudeInvalid))},dependencies:[ji,ja,xs,Cs,Ya,m1,ws,Ms,Ha,ps,Gl,Qc,Jc,y1]})}return t})(),$m=(()=>{class t{constructor(e,r,i,a){this.fb=e,this.inputs=r,this.validators=i,this.units=a,this.maxPpO2=1.4,this.label="",this.controlName="maxPpO2",this.ppO2Change=new Fr}get ppO2Invalid(){const e=this.pO2Form.get(this.controlName);return!e||this.inputs.controlInValid(e)}ngOnInit(){this.pO2Form||(this.pO2Form=this.fb.group({}));const e=this.fb.control(xn.round(this.maxPpO2,2),this.validators.ppO2);this.pO2Form.addControl(this.controlName,e)}fireChanged(){if(this.ppO2Invalid)return;const e=this.pO2Form.get(this.controlName),r=Number(e?.value);this.ppO2Change.emit(r)}static#e=this.\u0275fac=function(r){return new(r||t)(lt(ss),lt(Ls),lt(Qa),lt(jr))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-pp-o2"]],inputs:{maxPpO2:"maxPpO2",label:"label",controlName:"controlName",pO2Form:"pO2Form"},outputs:{ppO2Change:"ppO2Change"},decls:6,vars:7,consts:[[3,"formGroup"],["for","maxPpO2","mdbLabel","",1,"form-label"],["id","maxPpO2","type","number","step","0.1",1,"form-control",3,"input","formControlName","min","max"],[1,"invalid-feedback","position-absolute"]],template:function(r,i){1&r&&(la(0,0),be(1,"label",1),Ge(2),we(),be(3,"input",2),dn("input",function(){return i.fireChanged()}),we(),be(4,"div",3),Ge(5,"Needs to be number 0.21-3"),we(),ua()),2&r&&(Ye("formGroup",i.pO2Form),de(2),_r(i.label),de(),lr("is-invalid",i.ppO2Invalid),Ye("formControlName",i.controlName)("min",i.units.ranges.ppO2[0])("max",i.units.ranges.ppO2[1]))},dependencies:[ja,xs,Cs,Ya,ws,Ms,Ha,ps,y1]})}return t})(),PG=(()=>{class t extends P1{constructor(e,r,i,a){super(),this.fb=e,this.inputs=r,this.validators=i,this.units=a,this.diver=new tM,this.changed=new Fr,this._rmvStep=2}get ranges(){return this.units.ranges}get rmv(){const e=this.units.ranges.rmvRounding,i=this.units.fromLiter(this.diver.rmv);return xn.round(i,e)}get stressRmv(){const e=this.units.ranges.rmvRounding,i=this.units.fromLiter(this.diver.stressRmv);return xn.round(i,e)}get rmvInvalid(){return this.inputs.controlInValid(this.diverForm.controls.rmv)}get stressRmvInvalid(){return this.inputs.controlInValid(this.diverForm.controls.srtessRmv)}get rmvStep(){return this._rmvStep}ngOnInit(){this.diverForm||(this.diverForm=this.fb.group({}));const e=this.fb.control(this.rmv,this.validators.diverRmv);this.diverForm.addControl("rmv",e);const r=this.fb.control(this.stressRmv,this.validators.diverRmv);this.diverForm.addControl("stressRmv",r),this.units.ranges$.pipe(Wr(this.unsubscribe$)).subscribe(i=>this.rangeChanged(i))}inputChanged(){if(this.diverForm.invalid)return;const e=Number(this.diverForm.value.rmv);this.diver.rmv=this.units.toLiter(e);const r=Number(this.diverForm.value.stressRmv);this.diver.stressRmv=this.units.toLiter(r),this.changed.emit()}maxPpO2Changed(e){this.diver.maxPpO2=e,this.changed.emit()}maxDecoPpO2Changed(e){this.diver.maxDecoPpO2=e,this.changed.emit()}rangeChanged(e){this._rmvStep=Math.pow(10,-(e.rmvRounding-1)),this.diverForm.patchValue({rmv:this.rmv})}static#e=this.\u0275fac=function(r){return new(r||t)(lt(ss),lt(Ls),lt(Qa),lt(jr))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-diver"]],inputs:{diver:"diver",diverForm:"diverForm"},outputs:{changed:"changed"},features:[hi],decls:18,vars:19,consts:[[1,"mt-3","row"],[3,"formGroup"],[1,"pt-2","mt-2","mb-4","col","col-12","col-md-6"],["for","rmv","mdbLabel","",1,"form-label"],["id","rmv","formControlName","rmv","type","number",1,"form-control",3,"input","min","max","step"],[1,"invalid-feedback","position-absolute"],["for","stressRmv","mdbLabel","",1,"form-label"],["id","stressRmv","formControlName","stressRmv","type","number",1,"form-control",3,"input","min","max","step"],["label","Maximum ppO2:","controlName","maxPO2",3,"ppO2Change","maxPpO2","pO2Form"],["label","Maximum deco ppO2:","controlName","maxDecoPO2",3,"ppO2Change","maxPpO2","pO2Form"]],template:function(r,i){1&r&&(be(0,"div",0),la(1,1),be(2,"div",2)(3,"label",3),Ge(4),we(),be(5,"input",4),dn("input",function(){return i.inputChanged()}),we(),be(6,"div",5),Ge(7),we()(),be(8,"div",2)(9,"label",6),Ge(10),we(),be(11,"input",7),dn("input",function(){return i.inputChanged()}),we(),be(12,"div",5),Ge(13),we()(),be(14,"div",2)(15,"app-pp-o2",8),dn("ppO2Change",function(s){return i.maxPpO2Changed(s)}),we()(),be(16,"div",2)(17,"app-pp-o2",9),dn("ppO2Change",function(s){return i.maxDecoPpO2Changed(s)}),we()(),ua(),we()),2&r&&(de(),Ye("formGroup",i.diverForm),de(3),ln("RMV [",i.units.rmv,"]:"),de(),lr("is-invalid",i.rmvInvalid),Ye("min",i.ranges.diverRmv[0])("max",i.ranges.diverRmv[1])("step",i.rmvStep),de(2),ln("Needs to be number ",i.ranges.diverRmvLabel,""),de(3),ln("Stress RMV [",i.units.rmv,"]:"),de(),lr("is-invalid",i.stressRmvInvalid),Ye("min",i.ranges.diverRmv[0])("max",i.ranges.diverRmv[1])("step",i.rmvStep),de(2),ln("Needs to be number ",i.ranges.diverRmvLabel,""),de(2),Ye("maxPpO2",i.diver.maxPpO2)("pO2Form",i.diverForm),de(2),Ye("maxPpO2",i.diver.maxDecoPpO2)("pO2Form",i.diverForm))},dependencies:[ja,xs,Cs,Ya,ws,Ms,Ha,ps,y1,$m]})}return t})();const VNe=t=>({"col-sm-6":t});function UNe(t,n){1&t&&(be(0,"div",13)(1,"label",14),Ge(2,"Conservatism (Gradient factors):"),we()())}function GNe(t,n){1&t&&(be(0,"label",15),Ge(1,"Gradient low [%]:"),we())}function $Ne(t,n){1&t&&un(0,"input",16),2&t&&Ye("value",zt().conservatism)("readonly",!0)}function WNe(t,n){if(1&t){const e=Qr();be(0,"input",17),dn("input",function(){return Qn(e),Jn(zt().gfLowChanged())}),we()}if(2&t){const e=zt();lr("is-invalid",e.gfLowInvalid),Ye("min",e.minGradient)("max",e.maxGradient)}}function jNe(t,n){if(1&t&&(be(0,"div",18),Ge(1),we()),2&t){const e=zt();de(),E1(" Needs to be number ",e.minGradient," - ",e.maxGradient," lower than gradient high")}}function YNe(t,n){if(1&t){const e=Qr();be(0,"div",19)(1,"label",20),Ge(2,"Gradient high [%]:"),we(),be(3,"input",21),dn("input",function(){return Qn(e),Jn(zt().gfHighChanged())}),we(),be(4,"div",22),Ge(5),we()()}if(2&t){const e=zt();de(3),lr("is-invalid",e.gfHighInvalid),Ye("min",e.minGradient)("max",e.maxGradient),de(2),E1(" Needs to be number ",e.minGradient," - ",e.maxGradient," higher than gradient low ")}}let xM=(()=>{class t{constructor(e,r,i){this.fb=e,this.inputs=r,this.validators=i,this.showTitle=!1,this.simple=!1,this.gfLow=Xr.gfLow,this.gfHigh=Xr.gfHigh,this.inputChange=new Fr,this.minGradient=Qa.minGradient,this.maxGradient=Qa.maxGradient,this.standards=new ZU}get conservatism(){return this.standards.labelFor(this.gfLow,this.gfHigh)}get gfLowInvalid(){return this.inputs.controlInValid(this.gfForm.controls.gfLow)}get gfHighInvalid(){return this.inputs.controlInValid(this.gfForm.controls.gfHigh)}gfHighChanged(){if(this.gfHighInvalid)return;const e=Number(this.gfForm.controls.gfHigh.value);this.gfHigh=e/100,this.inputChange.emit(new _4(this.gfLow,this.gfHigh))}gfLowChanged(){if(this.gfLowInvalid)return;const e=Number(this.gfForm.controls.gfLow.value);this.gfLow=e/100,this.inputChange.emit(new _4(this.gfLow,this.gfHigh))}ngOnInit(){this.gfForm||(this.gfForm=this.fb.group({gfLow:[xn.round(100*this.gfLow,1),this.validators.gradients],gfHigh:[xn.round(100*this.gfHigh,1),this.validators.gradients]}))}lowConservatism(){this.applyStandards(this.standards.lowName)}mediumConservatism(){this.applyStandards(this.standards.mediumName)}highConservatism(){this.applyStandards(this.standards.highName)}applyStandards(e){const r=this.standards.get(e);this.gfLow=r.gfLow,this.gfHigh=r.gfHeigh,this.gfForm.patchValue({gfLow:xn.round(100*this.gfLow,1),gfHigh:xn.round(100*this.gfHigh,1),conservatism:this.conservatism}),this.inputChange.emit(new _4(this.gfLow,this.gfHigh))}static#e=this.\u0275fac=function(r){return new(r||t)(lt(ss),lt(Ls),lt(Qa))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-gradients"]],inputs:{showTitle:"showTitle",simple:"simple",gfLow:"gfLow",gfHigh:"gfHigh",gfForm:"gfForm"},outputs:{inputChange:"inputChange"},decls:21,vars:13,consts:[[1,"row",3,"formGroup"],["class","row",4,"ngIf"],[1,"mb-4","col","col-12",3,"ngClass"],["for","gfLowField","class","form-label","mdbLabel","",4,"ngIf"],["mdbDropdown","",1,"input-group","dropdown"],["id","gfLowField","class","form-control","type","text",3,"value","readonly",4,"ngIf"],["id","gfLowField","class","form-control","type","number","formControlName","gfLow","required","","step","1",3,"min","max","is-invalid","input",4,"ngIf"],["type","button","id","conservatismMenu","mdbDropdownToggle","","data-mdb-toggle","dropdown","aria-expanded","false",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[3,"click"],[1,"dropdown-item"],["class","text-danger form-text position-absolute",4,"ngIf"],["class","mb-4 col col-12 col-sm-6",4,"ngIf"],[1,"row"],["for","gfLowField",1,"form-label"],["for","gfLowField","mdbLabel","",1,"form-label"],["id","gfLowField","type","text",1,"form-control",3,"value","readonly"],["id","gfLowField","type","number","formControlName","gfLow","required","","step","1",1,"form-control",3,"input","min","max"],[1,"text-danger","form-text","position-absolute"],[1,"mb-4","col","col-12","col-sm-6"],["for","gfHighField","mdbLabel","",1,"form-label"],["id","gfHighField","formControlName","gfHigh","type","number","required","","step","1",1,"form-control",3,"input","min","max"],[1,"invalid-feedback","position-absolute"]],template:function(r,i){1&r&&(be(0,"div",0),zn(1,UNe,3,0,"div",1),be(2,"div",2)(3,"div"),zn(4,GNe,2,0,"label",3),be(5,"div",4),zn(6,$Ne,1,2,"input",5)(7,WNe,1,4,"input",6),un(8,"button",7),be(9,"ul",8)(10,"li",9),dn("click",function(){return i.lowConservatism()}),be(11,"a",10),Ge(12),we()(),be(13,"li",9),dn("click",function(){return i.mediumConservatism()}),be(14,"a",10),Ge(15),we()(),be(16,"li",9),dn("click",function(){return i.highConservatism()}),be(17,"a",10),Ge(18),we()()()(),zn(19,jNe,2,2,"div",11),we()(),zn(20,YNe,6,6,"div",12),we()),2&r&&(Ye("formGroup",i.gfForm),de(),Ye("ngIf",i.showTitle),de(),Ye("ngClass",O0(11,VNe,!i.simple)),de(2),Ye("ngIf",!i.simple),de(2),Ye("ngIf",i.simple),de(),Ye("ngIf",!i.simple),de(5),_r(i.standards.lowName),de(3),_r(i.standards.mediumName),de(3),_r(i.standards.highName),de(),Ye("ngIf",i.gfLowInvalid),de(),Ye("ngIf",!i.simple))},dependencies:[I2,ji,ja,xs,Cs,Ya,m1,ws,Ms,Ha,ps,Gl,Qc,Jc,y1]})}return t})(),MM=(()=>{class t{constructor(){this.salinity=m2.fresh,this.inputChange=new Fr,this.freshName="Fresh",this.brackishName="Brackish (EN13319)",this.saltName="Salt"}get salinityOption(){switch(this.salinity){case m2.salt:return this.saltName;case m2.brackish:return this.brackishName;default:return this.freshName}}useFresh(){this.salinity=m2.fresh,this.inputChange.emit(this.salinity)}useBrackish(){this.salinity=m2.brackish,this.inputChange.emit(this.salinity)}useSalt(){this.salinity=m2.salt,this.inputChange.emit(this.salinity)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-salinity"]],inputs:{salinity:"salinity"},outputs:{inputChange:"inputChange"},decls:15,vars:5,consts:[["for","salinity","mdbLabel","",1,"form-label"],["mdbDropdown","",1,"input-group","dropdown"],["id","salinity","type","text",1,"form-control",3,"value","readonly"],["aria-expanded","false","id","salinityMenu","type","button","data-mdb-toggle","dropdown","mdbDropdownToggle","",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[3,"click"],[1,"dropdown-item"]],template:function(r,i){1&r&&(be(0,"label",0),Ge(1,"Water salinity:"),we(),be(2,"div",1),un(3,"input",2)(4,"button",3),be(5,"ul",4)(6,"li",5),dn("click",function(){return i.useFresh()}),be(7,"a",6),Ge(8),we()(),be(9,"li",5),dn("click",function(){return i.useBrackish()}),be(10,"a",6),Ge(11),we()(),be(12,"li",5),dn("click",function(){return i.useSalt()}),be(13,"a",6),Ge(14),we()()()()),2&r&&(de(3),Ye("value",i.salinityOption)("readonly",!0),de(5),_r(i.freshName),de(3),_r(i.brackishName),de(3),_r(i.saltName))},dependencies:[Gl,Qc,Jc,y1]})}return t})();function ZNe(t,n){if(1&t){const e=Qr();be(0,"div")(1,"div",12)(2,"div",13)(3,"app-salinity",14),dn("inputChange",function(i){return Qn(e),Jn(zt().salinityChanged(i))}),we()(),be(4,"div",13)(5,"app-altitude",15),dn("inputChange",function(i){return Qn(e),Jn(zt().altitudeChanged(i))}),we()(),be(6,"div",16)(7,"app-gradients",17),dn("inputChange",function(i){return Qn(e),Jn(zt().updateGradients(i))}),we()()()()}if(2&t){const e=zt();de(3),Ye("salinity",e.options.salinity),de(2),Ye("altitude",e.options.getOptions().altitude)("altitudeForm",e.optionsForm),de(2),Ye("gfLow",e.options.gfLow)("gfHigh",e.options.gfHigh)("gfForm",e.optionsForm)("simple",!0)("showTitle",!0)}}function XNe(t,n){if(1&t){const e=Qr();be(0,"div")(1,"mdb-tabs")(2,"mdb-tab",18)(3,"div",19)(4,"div",20)(5,"app-altitude",15),dn("inputChange",function(i){return Qn(e),Jn(zt().altitudeChanged(i))}),we()(),be(6,"div",20)(7,"app-salinity",14),dn("inputChange",function(i){return Qn(e),Jn(zt().salinityChanged(i))}),we()()()(),be(8,"mdb-tab",21)(9,"div",22)(10,"app-gradients",17),dn("inputChange",function(i){return Qn(e),Jn(zt().updateGradients(i))}),we()()(),be(11,"mdb-tab",23)(12,"div",19)(13,"div",24)(14,"label",25),Ge(15),we(),be(16,"input",26),dn("input",function(){return Qn(e),Jn(zt().applyOptions())}),we(),be(17,"div",27),Ge(18),we()(),be(19,"div",28)(20,"div",29)(21,"input",30),dn("change",function(){return Qn(e),Jn(zt().switchOxygenNarcotic())}),we(),be(22,"label",31),Ge(23,"Oxygen is narcotic"),we()()()()(),be(24,"mdb-tab",32)(25,"div",19)(26,"div",33)(27,"div",29)(28,"input",34),dn("change",function(){return Qn(e),Jn(zt().switchAirBreaks())}),we(),be(29,"label",31),Ge(30,"Generate Air breaks"),we()()()(),be(31,"div",19)(32,"div",35)(33,"label",36),Ge(34,"Maximum Oxygen stop duration [min]:"),we(),be(35,"input",37),dn("input",function(){return Qn(e),Jn(zt().applyOptions())}),we(),be(36,"div",27),Ge(37," Needs to be number 1-100. "),we()(),be(38,"div",35)(39,"label",38),Ge(40,"Back gas duration [min]:"),we(),be(41,"input",39),dn("input",function(){return Qn(e),Jn(zt().applyOptions())}),we(),be(42,"div",27),Ge(43," Needs to be number 1-100. "),we()()()(),be(44,"mdb-tab",40)(45,"div",41)(46,"div",42)(47,"label",43),Ge(48,"Solve problem [min]:"),we(),be(49,"input",44),dn("input",function(){return Qn(e),Jn(zt().applyOptions())}),we(),be(50,"div",27),Ge(51," Needs to be number 1 - 100 mim "),we()(),be(52,"div",42)(53,"label",45),Ge(54,"Gas switch [min]:"),we(),be(55,"input",46),dn("input",function(){return Qn(e),Jn(zt().applyOptions())}),we(),be(56,"div",27),Ge(57," Needs to be number 1 - 100 min "),we()(),be(58,"div",42)(59,"label",47),Ge(60,"Add 3 min safety stop:"),we(),be(61,"div",48),un(62,"input",49)(63,"button",50),be(64,"ul",51)(65,"li",52),dn("click",function(){return Qn(e),Jn(zt().useSafetyOff())}),be(66,"a",53),Ge(67),we()(),be(68,"li",52),dn("click",function(){return Qn(e),Jn(zt().useSafetyAuto())}),be(69,"a",53),Ge(70),we()(),be(71,"li",52),dn("click",function(){return Qn(e),Jn(zt().useSafetyOn())}),be(72,"a",53),Ge(73),we()()()()(),be(74,"div",42)(75,"label",54),Ge(76),we(),be(77,"input",55),dn("input",function(){return Qn(e),Jn(zt().applyOptions())}),we(),be(78,"div",27),Ge(79),we()(),be(80,"div",56)(81,"div",5)(82,"input",57),dn("change",function(){return Qn(e),Jn(zt().switchStopsRounding())}),we(),be(83,"label",31),Ge(84,"Round deco stops to minutes"),we()()()()(),be(85,"mdb-tab",58)(86,"div",41)(87,"div",59)(88,"label",60),Ge(89),we(),be(90,"input",61),dn("input",function(){return Qn(e),Jn(zt().applyOptions())}),we(),be(91,"div",27),Ge(92),we()(),be(93,"div",59)(94,"label",62),Ge(95),we(),be(96,"input",63),dn("input",function(){return Qn(e),Jn(zt().applyOptions())}),we(),be(97,"div",27),Ge(98),we()(),be(99,"div",59)(100,"label",64),Ge(101),we(),be(102,"input",65),dn("input",function(){return Qn(e),Jn(zt().applyOptions())}),we(),be(103,"div",27),Ge(104),we()(),be(105,"div",59)(106,"label",66),Ge(107),we(),be(108,"input",67),dn("input",function(){return Qn(e),Jn(zt().applyOptions())}),we(),be(109,"div",27),Ge(110),we()()()(),be(111,"mdb-tab",68)(112,"app-diver",69),dn("changed",function(){return Qn(e),Jn(zt().fireChanged())}),we()()()()}if(2&t){const e=zt();de(5),Ye("altitude",e.options.getOptions().altitude)("altitudeForm",e.optionsForm),de(2),Ye("salinity",e.options.salinity),de(3),Ye("gfLow",e.options.gfLow)("gfHigh",e.options.gfHigh)("gfForm",e.optionsForm)("simple",!1)("showTitle",!1),de(5),ln("Max narcotic depth [",e.units.length,"]:"),de(),lr("is-invalid",e.narcoticDepthInvalid),Ye("min",e.ranges.narcoticDepth[0])("max",e.ranges.narcoticDepth[1]),de(2),ln(" Needs to be number ",e.ranges.narcoticDepthLabel," "),de(3),Ye("checked",e.options.oxygenNarcotic),de(7),Ye("checked",e.options.airBreaks.enabled),de(7),lr("is-invalid",e.maxOxygenDurationInvalid),de(6),lr("is-invalid",e.backGasDurationInvalid),de(8),lr("is-invalid",e.problemInvalid),de(6),lr("is-invalid",e.switchDurationInvalid),de(7),Ye("value",e.options.safetyStopOption)("readonly",!0),de(5),_r(e.options.safetyOffName),de(3),_r(e.options.safetyAutoName),de(3),_r(e.options.safetyOnName),de(3),ln("Last stop depth [",e.units.length,"]:"),de(),lr("is-invalid",e.lastStopInvalid),Ye("min",e.ranges.lastStopDepth[0])("max",e.ranges.lastStopDepth[1]),de(2),ln(" Needs to be number ",e.ranges.lastStopDepthLabel," "),de(3),Ye("checked",e.options.roundStopsToMinutes),de(7),ln("Descent [",e.units.speed,"]:"),de(),lr("is-invalid",e.descSpeedInvalid),Ye("min",e.ranges.speed[0])("max",e.ranges.speed[1]),de(2),ln(" Needs to be number ",e.ranges.speedLabel," "),de(3),ln("Ascent to 50% [",e.units.speed,"]:"),de(),lr("is-invalid",e.ascentSpeed50percInvalid),Ye("min",e.ranges.speed[0])("max",e.ranges.speed[1]),de(2),ln(" Needs to be number ",e.ranges.speedLabel," "),de(3),Ws("Ascent to ",e.units.defaults.lastSpeedLevel," ",e.units.length," [",e.units.speed,"]:"),de(),lr("is-invalid",e.ascentSpeed50percTo6mInvalid),Ye("min",e.ranges.speed[0])("max",e.ranges.speed[1]),de(2),ln(" Needs to be number ",e.ranges.speedLabel," "),de(3),Ws("Ascent ",e.units.defaults.lastSpeedLevel," ",e.units.length," to surface [",e.units.speed,"]:"),de(),lr("is-invalid",e.ascSpeedInvalid),Ye("min",e.ranges.speed[0])("max",e.ranges.speed[1]),de(2),ln(" Needs to be number ",e.ranges.speedLabel," "),de(2),Ye("diver",e.options.diverOptions)("diverForm",e.optionsForm)}}let RG=(()=>{class t extends P1{constructor(e,r,i,a,s,l,x,F){super(),this.units=e,this.fb=r,this.inputs=i,this.validators=a,this.viewSwitch=s,this.schedules=l,this.preferences=x,this.dispatcher=F,this.formValid=!0,this.allUsableName="All usable",this.halfUsableName="Half usable",this.thirdUsableName="Thirds usable",this.strategy=this.allUsableName,this.icon=nH,this.rootForm=this.fb.group({})}get isComplex(){return this.viewSwitch.isComplex}get ranges(){return this.units.ranges}get narcoticDepthInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.maxEND)}get problemInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.problem)}get switchDurationInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.gasSwitch)}get lastStopInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.lastStopDepth)}get descSpeedInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.descentSpeed)}get ascSpeedInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.ascentSpeed6m)}get ascentSpeed50percTo6mInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.ascentSpeed50percTo6m)}get ascentSpeed50percInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.ascentSpeed50perc)}get maxOxygenDurationInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.maxOxygenDuration)}get backGasDurationInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.backGasDuration)}get options(){return this.schedules.selectedOptions}get airBreaks(){return this.options.airBreaks}get rmv(){const e=this.units.ranges.rmvRounding,i=this.units.fromLiter(this.options.diverOptions.rmv);return xn.round(i,e)}set isComplex(e){e||this.setAllUsable(),this.viewSwitch.isComplex=e,e&&this.preferences.save()}ngOnInit(){this.optionsForm=this.fb.group({altitude:[this.options.altitude,this.validators.altitude],gfLow:[xn.round(100*this.options.gfLow,1),this.validators.gradients],gfHigh:[xn.round(100*this.options.gfHigh,1),this.validators.gradients],maxEND:[xn.round(this.options.maxEND,1),this.validators.maxEnd],problem:[xn.round(this.options.problemSolvingDuration,1),this.validators.duration100],gasSwitch:[xn.round(this.options.gasSwitchDuration,1),this.validators.duration100],lastStopDepth:[xn.round(this.options.lastStopDepth,1),this.validators.lastStopDepth],descentSpeed:[xn.round(this.options.descentSpeed,1),this.validators.speed],ascentSpeed6m:[xn.round(this.options.ascentSpeed6m,1),this.validators.speed],ascentSpeed50percTo6m:[xn.round(this.options.ascentSpeed50percTo6m,1),this.validators.speed],ascentSpeed50perc:[xn.round(this.options.ascentSpeed50perc,1),this.validators.speed],rmv:[this.rmv,this.validators.diverRmv],maxPO2:[xn.round(this.options.diverOptions.maxPpO2,2),this.validators.ppO2],maxDecoPO2:[xn.round(this.options.diverOptions.maxDecoPpO2,2),this.validators.ppO2],maxOxygenDuration:[xn.round(this.airBreaks.oxygenDuration,0),this.validators.duration100],backGasDuration:[xn.round(this.airBreaks.bottomGasDuration,0),this.validators.duration100]}),this.dispatcher.optionsReloaded$.pipe(Wr(this.unsubscribe$)).subscribe(e=>{this.options===e&&this.reload()}),this.dispatcher.selectedChanged$.pipe(Wr(this.unsubscribe$)).subscribe(()=>this.reload()),this.rootForm.addControl("diveOptions",this.optionsForm)}setAllUsable(){this.strategy=this.allUsableName}useRecreational(){this.rootForm.invalid||(this.options.useRecreational(),this.fireChanged(),this.reload())}useRecommended(){this.rootForm.invalid||(this.options.useRecommended(),this.fireChanged(),this.reload())}switchStopsRounding(){this.options.roundStopsToMinutes=!this.options.roundStopsToMinutes,this.applyOptions()}useSafetyOff(){this.options.useSafetyOff(),this.applyOptions()}useSafetyAuto(){this.options.useSafetyAuto(),this.applyOptions()}useSafetyOn(){this.options.useSafetyOn(),this.applyOptions()}switchOxygenNarcotic(){this.options.oxygenNarcotic=!this.options.oxygenNarcotic,this.applyOptions()}switchAirBreaks(){this.options.switchAirBreaks(),this.applyOptions()}updateGradients(e){this.options.gfLow=e.gfLow,this.options.gfHigh=e.gfHeigh,this.applyOptions()}salinityChanged(e){this.options.salinity=e,this.applyOptions()}altitudeChanged(e){this.options.altitude=this.units.fromMeters(e),this.applyOptions()}applyOptions(){if(this.rootForm.invalid)return;const e=this.optionsForm.value;this.options.maxEND=Number(e.maxEND),this.options.problemSolvingDuration=Number(e.problem),this.options.gasSwitchDuration=Number(e.gasSwitch),this.options.lastStopDepth=Number(e.lastStopDepth),this.options.descentSpeed=Number(e.descentSpeed),this.options.ascentSpeed6m=Number(e.ascentSpeed6m),this.options.ascentSpeed50percTo6m=Number(e.ascentSpeed50percTo6m),this.options.ascentSpeed50perc=Number(e.ascentSpeed50perc),this.airBreaks.oxygenDuration=Number(e.maxOxygenDuration),this.airBreaks.bottomGasDuration=Number(e.backGasDuration),this.fireChanged()}fireChanged(){this.dispatcher.sendOptionsChanged()}reload(){const e=this.options.diverOptions;this.optionsForm.patchValue({altitude:this.options.altitude,gfLow:xn.round(100*this.options.gfLow,1),gfHigh:xn.round(100*this.options.gfHigh,1),maxEND:xn.round(this.options.maxEND,1),problem:xn.round(this.options.problemSolvingDuration,1),gasSwitch:xn.round(this.options.gasSwitchDuration,1),lastStopDepth:xn.round(this.options.lastStopDepth,1),descentSpeed:xn.round(this.options.descentSpeed,1),ascentSpeed6m:xn.round(this.options.ascentSpeed6m,1),ascentSpeed50percTo6m:xn.round(this.options.ascentSpeed50percTo6m,1),ascentSpeed50perc:xn.round(this.options.ascentSpeed50perc,1),rmv:e.rmv,maxPO2:e.maxPpO2,maxDecoPO2:e.maxDecoPpO2,maxOxygenDuration:xn.round(this.airBreaks.oxygenDuration),backGasDuration:xn.round(this.airBreaks.bottomGasDuration)})}static#e=this.\u0275fac=function(r){return new(r||t)(lt(jr),lt(ss),lt(Ls),lt(Qa),lt(jl),lt(Ka),lt(Kd),lt(u1))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-diveoptions"]],inputs:{formValid:"formValid",rootForm:"rootForm"},features:[hi],decls:19,vars:5,consts:[[1,"card",3,"formGroup"],[1,"card-header"],[1,"float-start"],[1,"me-3",3,"icon"],[1,"float-end"],[1,"form-check","form-switch"],["type","checkbox","id","isComplex","mdbCheckbox","",1,"form-check-input",3,"change","checked"],["for","isComplex",1,"custom-control-label"],[1,"card-body"],[4,"ngIf"],["type","button",1,"btn","btn-secondary","me-2","mt-3",3,"click"],["type","button",1,"btn","btn-secondary","mt-3",3,"click"],[1,"mt-3","row"],[1,"mb-4","col","col-12","col-sm-6","col-md-4","col-lg-12","col-xl-6"],[3,"inputChange","salinity"],["controlName","altitude",3,"inputChange","altitude","altitudeForm"],[1,"mb-4","col","col-12","col-sm-12","col-md-4","col-lg-12","col-xxl-12"],[3,"inputChange","gfLow","gfHigh","gfForm","simple","showTitle"],["title","Environment"],[1,"pt-3","row"],[1,"mb-4","col","col-12","col-sm-6"],["title","Conservatism"],[1,"pt-3"],["title","Gases"],[1,"mb-3","col","col-12","col-sm-6"],["for","maxNarcoticDepth","mdbLabel","",1,"form-label"],["id","maxNarcoticDepth","type","number","formControlName","maxEND","required","","step","1",1,"form-control",3,"input","min","max"],[1,"invalid-feedback","position-absolute"],[1,"col","col-12","col-sm-6"],[1,"form-check","form-switch","pb-1"],["type","checkbox","id","oxygenNarcotic","mdbCheckbox","",1,"form-check-input",3,"change","checked"],["for","roundStops",1,"form-check-label"],["title","Air breaks"],[1,"coll"],["type","checkbox","id","enableAirBreaks","mdbCheckbox","",1,"form-check-input",3,"change","checked"],[1,"mb-4","col","col-12","col-sm-6","col-lg-12"],["for","maxOxygenDuration","mdbLabel","",1,"form-label"],["id","maxOxygenDuration","type","number","formControlName","maxOxygenDuration","required","","min","1","max","100","step","1",1,"form-control",3,"input"],["for","backGasDuration","mdbLabel","",1,"form-label"],["id","backGasDuration","type","number","formControlName","backGasDuration","required","","min","1","max","100","step","1",1,"form-control",3,"input"],["title","Stops"],[1,"row","pt-3"],[1,"mb-4","col","col-12","col-sm-6","col-md-3","col-xxl-6"],["for","problem","mdbLabel","",1,"form-label"],["id","problem","formControlName","problem","type","number","required","","min","1","max","100","step","1",1,"form-control",3,"input"],["for","switchDuration","mdbLabel","",1,"form-label"],["id","switchDuration","formControlName","gasSwitch","type","number","required","","min","1","max","100","step","1",1,"form-control",3,"input"],["for","safetyStop","mdbLabel","",1,"form-label"],["mdbDropdown","",1,"input-group","dropdown"],["id","safetyStop","type","text",1,"form-control",3,"value","readonly"],["type","button","id","safetyStopMenu","aria-expanded","false","data-mdb-toggle","dropdown","mdbDropdownToggle","",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[3,"click"],[1,"dropdown-item"],["for","lastStop","mdbLabel","",1,"form-label"],["id","lastStop","formControlName","lastStopDepth","type","number","required","","step","1",1,"form-control",3,"input","min","max"],[1,"row","ms-2"],["type","checkbox","id","roundStops","mdbCheckbox","",1,"form-check-input",3,"change","checked"],["title","Speeds"],[1,"mb-4","col","col-12","col-sm-6","col-md-3","col-lg-6"],["for","descSpeed","mdbLabel","",1,"form-label"],["id","descSpeed","formControlName","descentSpeed","type","number","required","","step","1",1,"form-control",3,"input","min","max"],["for","ascSpeed3","mdbLabel","",1,"form-label"],["id","ascSpeed3","formControlName","ascentSpeed50perc","type","number","required","","step","1",1,"form-control",3,"input","min","max"],["for","ascSpeed2","mdbLabel","",1,"form-label"],["id","ascSpeed2","formControlName","ascentSpeed50percTo6m","type","number","required","","step","1",1,"form-control",3,"input","min","max"],["for","ascSpeed","mdbLabel","",1,"form-label"],["id","ascSpeed","formControlName","ascentSpeed6m","type","number","required","","step","1",1,"form-control",3,"input","min","max"],["title","Diver"],[1,"col","col-12","col-sm-5","col-lg-4","col-xl-3","col-xxl-2",3,"changed","diver","diverForm"]],template:function(r,i){1&r&&(be(0,"div",0)(1,"div",1)(2,"div",2),un(3,"fa-icon",3),be(4,"span"),Ge(5,"Options"),we()(),be(6,"div",4)(7,"div",5)(8,"input",6),dn("change",function(){return i.isComplex=!i.isComplex}),we(),be(9,"label",7),Ge(10,"Extended (Trimix)"),we()()()(),be(11,"div",8),zn(12,ZNe,8,8,"div",9)(13,XNe,113,66,"div",9),be(14,"div")(15,"button",10),dn("click",function(){return i.useRecreational()}),Ge(16,"Recreational"),we(),be(17,"button",11),dn("click",function(){return i.useRecommended()}),Ge(18,"Recommended"),we()()()()),2&r&&(Ye("formGroup",i.optionsForm),de(3),Ye("icon",i.icon),de(5),Ye("checked",i.isComplex),de(4),Ye("ngIf",!i.isComplex),de(),Ye("ngIf",i.isComplex))},dependencies:[ji,fa,ja,xs,Cs,Ya,m1,ws,Ms,Ha,ps,Gl,Qc,Jc,y1,Hp,cC,Gm,PG,xM,MM]})}return t})();var FG=cs(634);let s5=(()=>{class t{static#e=this.depthLineColorA="rgb(31, 119, 180)";static#t=this.depthLineColorB="rgb(141, 143, 144)";constructor(e,r){this.resampling=e,this.units=r,this.namePrefix="",this.averageDepthLineColor="rgb(62, 157, 223)",this.ceilingLineColor="rgb(255, 160, 73)",this.eventLineColor="rgba(31, 119, 180, 0.7)",this.eventFillColor="rgba(31, 119, 180, 0.5)",this.depthLineColor=t.depthLineColorA}createOptions(){return{displaylogo:!1,displayModeBar:!1,responsive:!0,autosizable:!0,scrollZoom:!1,editable:!1}}createCursor(){return{type:"line",xref:"x",yref:"y",x0:new Date("2001-06-12 12:30"),y0:0,x1:new Date("2001-06-12 12:30"),y1:1,fillcolor:"#d3d3d3",line:{color:t.depthLineColorA,width:5}}}createLayout(){return{autosize:!0,showlegend:!1,xaxis:{fixedrange:!0,title:{text:"Time [min]"}},yaxis:{fixedrange:!0,autorange:"reversed",title:{text:`Depth [${this.units.length}]`}},margin:{l:40,r:10,b:40,t:10},hovermode:"x unified",hoverlabel:{bgcolor:"rgba(200, 200, 200, 0.25)",bordercolor:"rgba(200, 200, 200, 0.25)"},shapes:[]}}wthNamePrefix(e){return this.namePrefix=e,this}wthAverageDepthColor(e){return this.averageDepthLineColor=e,this}wthDepthColor(e){return this.depthLineColor=e,this}wthCeilingColor(e){return this.ceilingLineColor=e,this}wthEventLineColor(e){return this.eventLineColor=e,this}wthEventFillColor(e){return this.eventFillColor=e,this}create(e){return new KNe(e,this.resampling,this.units,this.namePrefix,this.averageDepthLineColor,this.depthLineColor,this.ceilingLineColor,this.eventLineColor,this.eventFillColor)}}return t})();class KNe{constructor(n,e,r,i,a,s,l,x,F){this.dive=n,this.resampling=e,this.units=r,this.namePrefix="",this.averageDepthLineColor="rgb(62, 157, 223)",this.depthLineColor="rgb(31, 119, 180)",this.ceilingLineColor="rgb(255, 160, 73)",this.eventLineColor="rgba(31, 119, 180, 0.7)",this.eventFillColor="rgba(31, 119, 180, 0.5)",this.namePrefix=i,this.averageDepthLineColor=a,this.depthLineColor=s,this.ceilingLineColor=l,this.eventLineColor=x,this.eventFillColor=F}traces(){const n=this.dive();return[this.plotAverageDepth(n.wayPoints),this.plotDepths(n.wayPoints),this.plotCeilings(n.ceilings),this.plotEvents(n.events)]}plotAverageDepth(n){const e=this.resampling.resampleAverageDepth(n);return{x:e.xValues,y:e.yValues,type:"scatter",line:{dash:"dot"},name:this.namePrefix+"Avg. depth",marker:{color:this.averageDepthLineColor},hovertemplate:`%{y:.2f}  ${this.units.length}`}}plotDepths(n){const e=this.resampling.resampleWaypoints(n);return{x:e.xValues,y:e.yValues,type:"scatter",name:this.namePrefix+"Depth",marker:{color:this.depthLineColor},hovertemplate:`%{y:.2f}  ${this.units.length}`}}plotCeilings(n){const e=this.resampling.resampleCeilings(n);return{x:e.xValues,y:e.yValues,type:"scatter",fill:"tozeroy",name:this.namePrefix+"Ceiling",marker:{color:this.ceilingLineColor},hovertemplate:`%{y:.2f}  ${this.units.length}`}}plotEvents(n){const e=this.resampling.convertEvents(n);return{x:e.xValues,y:e.yValues,labels:e.labels,text:e.labels,type:"scatter",mode:"text+markers",fill:"tozeroy",name:this.namePrefix+"Event",hovertemplate:"%{text}",texttemplate:"%{text}",textposition:"top center",fillcolor:"rgba(0, 0, 0, 0)",marker:{color:this.eventFillColor,size:8,line:{color:this.eventLineColor,width:2}},showlegend:!1}}}class OG{constructor(n,e,...r){this.elementName=n,this.builders=r,this.cursor1=e.createCursor(),this.layout=e.createLayout(),this.options=e.createOptions()}plotCharts(n){this.updateLayoutThickFormat(n);const e=_o()(this.builders).map(r=>r.traces()).flatten().toArray().value();FG.react(this.elementName,e,this.layout,this.options)}plotCursor(n){const e={shapes:[]};n&&(this.updateCursor(n,this.cursor1),e.shapes.push(this.cursor1)),FG.relayout(this.elementName,e)}updateLayoutThickFormat(n){this.layout.xaxis.tickformat=C1.selectChartTimeFormat(n)}updateCursor(n,e){e.x0=C1.toDate(n.startTime),e.x1=C1.toDate(n.endTime),e.y0=n.startDepth,e.y1=n.endDepth}}let wM=(()=>{class t{constructor(e){this.units=e}resampleAverageDepth(e){const r=[],i=[];return e.length>0&&this.transformAverageDepth(e,r,i),{xValues:r,yValues:i}}convertEvents(e){const r=[],i=[],a=[];return e.forEach(s=>{if(this.isSupportedEvent(s)){r.push(C1.toDate(s.timeStamp));const l=this.convertDepth(s.depth);i.push(l);const x=this.formatChartEventText(s);a.push(x)}}),{xValues:r,yValues:i,labels:a}}resampleCeilings(e){const r=[],i=[];return e.forEach(a=>{r.push(C1.toDate(a.time));const s=this.convertDepth(a.depth);i.push(s)}),{xValues:r,yValues:i}}resampleWaypoints(e){const r=[],i=[];return e.forEach(a=>{this.resampleDepthsToSeconds(r,i,a)}),{xValues:r,yValues:i}}resampleDepthsToSeconds(e,r,i){const a=(i.endDepthMeters-i.startDepthMeters)/i.duration;for(let l=i.startTime;l<i.endTime;l++){e.push(C1.toDate(l));const F=this.convertDepth(i.startDepthMeters+(l-i.startTime)*a);r.push(F)}e.push(C1.toDate(i.endTime));const s=this.convertDepth(i.endDepthMeters);r.push(s)}transformAverageDepth(e,r,i){if(e.length<=0)return 0;let a=0,s=0;return e.forEach(l=>{if(l.duration>0)for(let x=0;x<l.duration;x++){r.push(C1.toDate(s));const oe=l.depthAt(x)+s*a;s++,a=oe/s;const Le=this.convertDepth(a);i.push(Le)}}),a}convertDepth(e){const r=this.units.fromMeters(e);return xn.round(r,1)}isSupportedEvent(e){switch(e.type){case ai.gasSwitch:case ai.noDecoEnd:case ai.safetyStop:return!0;default:return!1}}formatChartEventText(e){switch(e.type){case ai.gasSwitch:{const r=e.gas;return r?Mi.nameFor(r.fO2,r.fHe):""}case ai.noDecoEnd:return"Deco";case ai.safetyStop:return"Safety stop";default:return""}}static#e=this.\u0275fac=function(r){return new(r||t)(gn(jr))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})(),_M=(()=>{class t{constructor(e){this.schedules=e,this.selectedChanged=new Fr}set selectedTimeStamp(e){let r;if(e){const i=C1.secondsFromDate(e);r=this.schedules.selected.diveResult.wayPoints.find(s=>s.fits(i))}this.selected=r}set selected(e){this.lastSelected&&(this.lastSelected.selected=!1),this.lastSelected=e,e&&this.lastSelected&&(this.lastSelected.selected=!0),this.selectedChanged.emit(this.lastSelected)}static#e=this.\u0275fac=function(r){return new(r||t)(gn(Ka))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})();const QNe=(t,n)=>({"plot-display":t,"plot-hidden":n});let BG=(()=>{class t extends P1{constructor(e,r,i,a,s){super(),this.selectedWaypoint=i,this.dispatcher=a,this.schedules=s,this.icon=um,this.elementName="diveplot";const l=new s5(r,e),x=l.wthNamePrefix("").create(()=>this.dive);this.plotter=new OG("diveplot",l,x),this.dispatcher.wayPointsCalculated$.pipe(Wr(this.unsubscribe$)).subscribe(F=>{this.schedules.selected.id===F&&(this.plotCharts(),this.plotlyHoverLeave())}),this.dispatcher.selectedChanged$.pipe(Wr(this.unsubscribe$)).subscribe(()=>this.plotCharts()),this.selectedWaypoint.selectedChanged.pipe(Wr(this.unsubscribe$)).subscribe(F=>this.selectWayPoint(F))}get profileCalculated(){return this.dive.profileCalculated}get dive(){return this.schedules.selected.diveResult}ngOnInit(){this.plotCharts(),this.hookChartEvents()}plotlyHover(e){const r=e.points[0].x.toString();this.selectedWaypoint.selectedTimeStamp=r}plotlyHoverLeave(){this.selectedWaypoint.selectedTimeStamp="",this.selectWayPoint(void 0)}selectWayPoint(e){this.plotter.plotCursor(e)}plotCharts(){this.plotter.plotCharts(this.dive.totalDuration)}hookChartEvents(){const e=document.getElementById(this.elementName);e.on("plotly_hover",r=>this.plotlyHover(r)),e.on("plotly_click",r=>this.plotlyHover(r)),e.on("plotly_unhover",()=>this.plotlyHoverLeave())}static#e=this.\u0275fac=function(r){return new(r||t)(lt(jr),lt(wM),lt(_M),lt(u1),lt(Ka))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-profilechart"]],features:[hi],decls:8,vars:6,consts:[[1,"card"],[1,"card-header"],["flip","vertical",1,"me-3",3,"icon"],[1,"card-body","card-minheight"],[3,"show"],["id","diveplot",1,"diveplot",3,"ngClass"]],template:function(r,i){1&r&&(be(0,"div",0)(1,"div",1),un(2,"fa-icon",2),be(3,"span"),Ge(4,"Profile chart"),we()(),be(5,"div",3),un(6,"app-calculating",4)(7,"div",5),we()()),2&r&&(de(2),Ye("icon",i.icon),de(4),Ye("show",!i.profileCalculated),de(),Ye("ngClass",ic(3,QNe,i.profileCalculated,!i.profileCalculated)))},dependencies:[I2,fa,S4],styles:[".dive-level[_ngcontent-%COMP%]{stroke:#4169e1;stroke-width:2}.dive-surface[_ngcontent-%COMP%]{stroke:navy;stroke-width:4}.dive-waypoint[_ngcontent-%COMP%]{text-anchor:end}.dive-nodeco[_ngcontent-%COMP%]{fill:red;r:6}.dive-plot[_ngcontent-%COMP%]{position:relative;width:100%;height:450px}.plot-display[_ngcontent-%COMP%]{display:block}.plot-hidden[_ngcontent-%COMP%]{display:none}"]})}return t})();var x1=function(t){return t[t.hover=0]="hover",t[t.ascent=1]="ascent",t[t.descent=2]="descent",t[t.switch=3]="switch",t}(x1||{});class Wm{constructor(n,e,r,i=0){this.units=n,this.duration=e,this.selected=!1,this.startTime=0,this.endTime=0,this._startDepth=0,this._endDepth=0,this.speed=0,this.action=x1.hover,this._gasName="",this.endTime=xn.roundTwoDecimals(e),this._endDepth=r,this._startDepth=i,this.updateSwimAction()}get gasName(){return this._gasName}get startDepth(){return this.units.fromMeters(this._startDepth)}get startDepthMeters(){return this._startDepth}get endDepth(){return this.units.fromMeters(this._endDepth)}get endDepthMeters(){return this._endDepth}get swimAction(){return this.action}static fromSegment(n,e){const r=new Wm(n,e.duration,e.endDepth),i=Mi.nameFor(e.gas.fO2,e.gas.fHe);return r._gasName=i,r.speed=e.speed,r}asGasSwitch(){this.action=x1.switch}toLevel(n){const e=Wm.fromSegment(this.units,n);return e.startTime=this.endTime,e.endTime=xn.roundTwoDecimals(this.endTime+n.duration),e._startDepth=this._endDepth,e.updateSwimAction(),e}fits(n){return this.startTime<=n&&n<this.endTime}depthAt(n){return Oo.depthAt(this._startDepth,this.speed,n)}updateSwimAction(){this.action=x1.hover,this._startDepth<this._endDepth&&(this.action=x1.descent),this._startDepth>this._endDepth&&(this.action=x1.ascent)}}let HG=(()=>{class t{constructor(e){this.units=e}calculateWayPoints(e){const r=[];if(0===e.length)return[];const i=e[0];let a=Wm.fromSegment(this.units,i),s=i;return r.push(a),e.slice(1).forEach(x=>{const F=this.toWayPoint(x,a,s);a=F,s=x,r.push(F)}),r}toWayPoint(e,r,i){const a=r.toLevel(e);return!e.gas.compositionEquals(i.gas)&&a.asGasSwitch(),a}static#e=this.\u0275fac=function(r){return new(r||t)(gn(jr))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})(),VG=(()=>{class t{constructor(e){this.appSettings=e}get ignoredIssues(){const e=[];return this.appSettings.icdIgnored&&e.push(ai.isobaricCounterDiffusion),this.appSettings.densityIgnored&&e.push(ai.highGasDensity),this.appSettings.noDecoIgnored&&e.push(ai.noDecoEnd),this.appSettings.missingAirBreakIgnored&&e.push(ai.missingAirBreak),e}filterIgnored(e){return e.filter(r=>!this.ignoredIssues.includes(r.type))}static#e=this.\u0275fac=function(r){return new(r||t)(gn(w4))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})();class o5{static calculateDecompression(n){const e=this.profileParametersFromTask(n),i=(new jd).decompression(e),a=ci.fromProfile(i),l=eM.fromProfile({maxDensity:n.eventOptions.maxDensity,startAscentIndex:e.segments.startAscentIndex,profile:i.segments,ceilings:i.ceilings,profileOptions:e.options}),x=ci.fromEvents(l.items);return{diveId:n.diveId,profile:a,events:x}}static diveInfo(n){const e=this.profileParametersFromTask(n),i=(new jd).noDecoLimit(e),a=new Nu(n.options).create(),s=e.segments.items,l=new qx(a).calculateForProfile(s),x=new Kze(a).calculateForProfile(s),F=new Jx(a).forProfile(s);return{diveId:n.diveId,noDeco:i,otu:l,cns:x,density:ci.fromDensity(F)}}static calculateConsumption(n){const e=new Nu(n.options).create(),r=new x4(e),i=ci.toTanks(n.tanks),a=ci.toSegments(n.profile,i),s=ci.toSegments(n.plan,i),l=n.consumptionOptions.diver,x=new Ou(l.rmv,l.stressRmv),F=ci.toOptions(n.options),oe=o5.selectConsumptionPlan(s,n.isComplex),Le={diver:x,primaryTankReserve:n.consumptionOptions.primaryTankReserve,stageTankReserve:n.consumptionOptions.stageTankReserve},je=r.calculateMaxBottomTime(oe,i,Le,F),rt=Wl.emergencyAscent(a,F,i);let ht=Xs.duration(rt);return ht=Br.toMinutes(ht),r.consumeFromTanks2(a,rt,i,Le),{diveId:n.diveId,maxTime:je,timeToSurface:ht,tanks:ci.toConsumed(i)}}static selectConsumptionPlan(n,e){if(e)return Xs.fromCollection(n);const r=n.slice(0,1);return Xs.fromCollection(r)}static profileParametersFromTask(n){const e=ci.toTanks(n.tanks),r=b4.fromTanks(e),i=ci.toSegments(n.plan,e),a=Xs.fromCollection(i),s=ci.toOptions(n.options),l=ci.toTissues(n.tissues),x=new GU(l,n.surfaceInterval);return C4.forMultilevelDive(a,r,s,x)}}class LM{createProfileWorker(){const n=new yt,e=new yt;return{calculated$:n,calculate:r=>{this.tryAction(i=>o5.calculateDecompression(i),r,n,e)},failed$:e}}createDiveInfoWorker(){const n=new yt,e=new yt;return{calculated$:n,calculate:r=>{this.tryAction(i=>o5.diveInfo(i),r,n,e)},failed$:e}}createConsumptionWorker(){const n=new yt,e=new yt;return{calculated$:n,calculate:r=>{this.tryAction(i=>o5.calculateConsumption(i),r,n,e)},failed$:e}}tryAction(n,e,r,i){try{const a=n(e);r.next(a)}catch{i.next()}}}let UG=(()=>{class t extends P1{constructor(e,r,i,a,s,l){super(),this.schedules=e,this.dispatcher=r,this.viewSwitch=i,this.appSettings=a,this.waypoints=new HG(l),this.ignoredIssues=new VG(this.appSettings),this.profileTask=s.createProfileWorker(),this.profileTask.calculated$.pipe(Wr(this.unsubscribe$)).subscribe(x=>this.continueCalculation(x)),this.profileTask.failed$.pipe(Wr(this.unsubscribe$)).subscribe(()=>this.profileFailed()),this.diveInfoTask=s.createDiveInfoWorker(),this.diveInfoTask.calculated$.pipe(Wr(this.unsubscribe$)).subscribe(x=>this.finishDiveInfo(x)),this.diveInfoTask.failed$.pipe(Wr(this.unsubscribe$)).subscribe(()=>this.profileFailed()),this.consumptionTask=s.createConsumptionWorker(),this.consumptionTask.calculated$.pipe(Wr(this.unsubscribe$)).subscribe(x=>this.finishConsumption(x)),this.consumptionTask.failed$.pipe(Wr(this.unsubscribe$)).subscribe(()=>this.profileFailed())}calculate(e){if(!this.schedules.validId(e))return;pc.debug(`Planner calculated: ${e}`);const r=this.diveById(e),i=r.diveResult;i.start(),setTimeout(()=>{i.showStillRunning()},500);const a=this.createProfileRequest(r);this.profileTask.calculate(a)}continueCalculation(e){if(!this.schedules.validId(e.diveId))return;const r=this.diveById(e.diveId),a=ci.toProfile(e.profile,r.tanksService.tankData),s=ci.toEvents(e.events),l=r.diveResult;l.wayPoints=this.wayPointsFromResult(a),l.ceilings=a.ceilings,l.events=this.ignoredIssues.filterIgnored(s.items),l.finalTissues=a.tissues,l.averageDepth=Xs.averageDepth(a.segments),l.endsOnSurface?this.processCalculatedProfile(a,r):(l.endFailed(),this.sendFailedEvents())}processCalculatedProfile(e,r){const i=this.createProfileRequest(r);this.diveInfoTask.calculate(i);const a={diveId:r.id,isComplex:this.viewSwitch.isComplex,plan:i.plan,profile:ci.fromSegments(e.segments),options:i.options,consumptionOptions:{diver:ci.fromDiver(r.optionsService.getDiver()),primaryTankReserve:this.appSettings.primaryTankReserve,stageTankReserve:this.appSettings.stageTankReserve},tanks:i.tanks};r.diveResult.profileFinished(),this.consumptionTask.calculate(a),this.dispatcher.sendWayPointsCalculated(r.id)}createProfileRequest(e){const r=this.previousDiveTissues(e.id);return{diveId:e.id,tanks:ci.fromTanks(e.tanksService.tanks),plan:ci.fromSegments(e.depths.segments),options:ci.fromOptions(e.optionsService.getOptions()),tissues:ci.fromTissues(r),surfaceInterval:e.surfaceInterval,eventOptions:this.createEventOptions()}}previousDiveTissues(e){return e>1?this.diveResult(e-1).finalTissues:[]}wayPointsFromResult(e){return e.errors.length>0?[]:this.waypoints.calculateWayPoints(e.segments)}profileFailed(){this.schedules.dives.forEach(e=>e.diveResult.endFailed()),this.sendFailedEvents()}finishDiveInfo(e){if(!this.schedules.validId(e.diveId))return;const r=this.diveById(e.diveId),i=r.diveResult;i.noDecoTime=e.noDeco,i.otu=e.otu,i.cns=e.cns,i.planDuration=r.depths.planDuration,i.notEnoughTime=r.depths.notEnoughTime,i.highestDensity=ci.toDensity(e.density),i.diveInfoFinished(),this.fireFinishedEvents(r)}finishConsumption(e){if(!this.schedules.validId(e.diveId))return;const r=this.diveById(e.diveId),i=r.tanksService;i.copyTanksConsumption(e.tanks);const a=r.diveResult;a.maxTime=e.maxTime,a.timeToSurface=e.timeToSurface,a.emergencyAscentStart=r.depths.startAscentTime,a.turnPressure=i.calculateTurnPressure(),a.turnTime=xn.floor(r.depths.planDuration/2),a.needsReturn=r.depths.needsReturn&&i.singleTank,a.notEnoughGas=!i.enoughGas,a.consumptionFinished(),this.fireFinishedEvents(r)}createEventOptions(){return{maxDensity:this.appSettings.settings.maxGasDensity}}diveResult(e){return this.diveById(e).diveResult}diveById(e){const r=this.schedules.byId(e);if(r)return r;throw new Error(`Unable to find dive by Id '${e}'.`)}fireFinishedEvents(e){e.diveResult.running||this.dispatcher.sendInfoCalculated(e.id)}sendFailedEvents(){this.dispatcher.sendWayPointsCalculated(),this.dispatcher.sendInfoCalculated()}static#e=this.\u0275fac=function(r){return new(r||t)(gn(Ka),gn(u1),gn(jl),gn(w4),gn(LM),gn(jr))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})(),GG=(()=>{class t extends P1{constructor(e,r,i,a){super(),this.dispatcher=e,this.planner=r,this.diveSchedules=i,this.views=a,this.delayMilliseconds=100,this.scheduledDiveId=0}startScheduling(){this.scheduleAll(),this.registerEventListeners()}scheduleAll(){_o()(this.diveSchedules.dives).filter(e=>!e.isRepetitive).forEach(e=>setTimeout(()=>this.scheduleDive(e.id),this.delayMilliseconds))}registerEventListeners(){this.dispatcher.tankChanged$.pipe(Wr(this.unsubscribe$)).subscribe(()=>this.scheduleSelected()),this.dispatcher.depthChanged$.pipe(Wr(this.unsubscribe$)).subscribe(()=>this.scheduleSelected()),this.dispatcher.optionsChanged$.pipe(Wr(this.unsubscribe$)).subscribe(()=>this.scheduleSelected()),this.dispatcher.depthsReloaded$.pipe(Wr(this.unsubscribe$)).subscribe(()=>this.scheduleSelected()),this.dispatcher.setToSimple$.pipe(Wr(this.unsubscribe$)).subscribe(()=>this.scheduleAll()),this.dispatcher.infoCalculated$.pipe(Wr(this.unsubscribe$)).subscribe(e=>this.scheduleNextDive(e))}schedule(e){this.views.saveMainView(),this.scheduledDiveId!==e&&(this.scheduledDiveId=e,setTimeout(()=>this.scheduleDive(e),this.delayMilliseconds))}scheduleSelected(){this.schedule(this.diveSchedules.selected.id)}scheduleNextDive(e){if(!e)return;const r=e+1,i=this.diveSchedules.byId(r);i&&i.isRepetitive&&this.schedule(r)}scheduleDive(e){this.planner.calculate(e),this.scheduledDiveId=0}static#e=this.\u0275fac=function(r){return new(r||t)(gn(u1),gn(UG),gn(Ka),gn(Ho))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})(),SM=(()=>{class t{constructor(e,r,i,a){this.schedules=e,this.preferences=r,this.schedule=i,this.viewStore=a,this.preferences.ensureDefault(),this.loadAll()}get length(){return this.schedules.length}get empty(){return this.schedules.empty}get dives(){return this.schedules.dives}get selectedIndex(){return this.schedules.selected.index}add(){const e=this.schedules.add();this.loadDefaultTo(e)}remove(e){this.schedules.remove(e),this.preferences.save()}loadDefaults(){this.loadDefaultTo(this.schedules.selected)}saveDefaults(){this.preferences.saveDefault()}loadAll(){this.preferences.load(),this.schedule.startScheduling()}select(e){this.viewStore.setSelectedDive(e),this.schedules.setSelectedIndex(e)}loadDefaultTo(e){this.preferences.loadDefault(e),this.preferences.save()}static#e=this.\u0275fac=function(r){return new(r||t)(gn(Ka),gn(Kd),gn(GG),gn(Ho))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})();const JNe=["tabs"];function qNe(t,n){1&t&&un(0,"fa-icon",8),2&t&&Ye("icon",zt(3).reloadIcon)}function eIe(t,n){if(1&t){const e=Qr();be(0,"button",9),dn("click",function(){Qn(e);const i=zt(2).$implicit;return Jn(zt().closeTab(i))}),we()}}function tIe(t,n){if(1&t&&(be(0,"div",4),zn(1,qNe,1,1,"fa-icon",5),be(2,"div",6),Ge(3),we(),zn(4,eIe,1,0,"button",7),we()),2&t){const e=zt().$implicit,r=zt();de(),Ye("ngIf",!e.diveResult.calculated),de(2),_r(e.title),de(),Ye("ngIf",!r.schedules.empty)}}function nIe(t,n){1&t&&(be(0,"mdb-tab"),zn(1,tIe,5,3,"ng-template",3),we())}function rIe(t,n){if(1&t){const e=Qr();be(0,"fa-icon",10),dn("click",function(){return Qn(e),Jn(zt().addTab())}),we()}2&t&&Ye("icon",zt().addIcon)}let $G=(()=>{class t extends P1{constructor(e,r){super(),this.schedules=e,this.cd=r,this.addIcon=Bd,this.reloadIcon=Hx}ngAfterViewInit(){const e=this.schedules.selectedIndex;this.tabs?.setActiveTab(e),this.cd.detectChanges(),this.tabs?.activeTabChange.pipe(Wr(this.unsubscribe$)).subscribe(r=>{this.selectedChanged(r)})}closeTab(e){this.schedules.remove(e)}addTab(){this.schedules.add()}selectedChanged(e){let r=e.index;e.index===this.schedules.length&&(r=e.index-1,this.tabs?.setActiveTab(r)),this.schedules.select(r)}static#e=this.\u0275fac=function(r){return new(r||t)(lt(SM),lt($c))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-plan-tabs"]],viewQuery:function(r,i){if(1&r&&eu(JNe,5),2&r){let a;go(a=yo())&&(i.tabs=a.first)}},features:[hi],decls:6,vars:2,consts:[["tabs",""],[3,"pills"],[4,"ngFor","ngForOf"],["mdbTabTitle",""],[1,"d-flex","align-items-center"],["class","me-1 fa-xl small text-info",3,"icon",4,"ngIf"],[1,"justifycontent-center"],["type","button","class","btn-close ms-2","aria-label","Close",3,"click",4,"ngIf"],[1,"me-1","fa-xl","small","text-info",3,"icon"],["type","button","aria-label","Close",1,"btn-close","ms-2",3,"click"],[1,"p-0","m-0","fa-xl",3,"click","icon"]],template:function(r,i){1&r&&(be(0,"div")(1,"mdb-tabs",1,0),zn(3,nIe,2,0,"mdb-tab",2),be(4,"mdb-tab"),zn(5,rIe,1,1,"ng-template",3),we()()()),2&r&&(de(),Ye("pills",!0),de(2),Ye("ngForOf",i.schedules.dives))},dependencies:[Fo,ji,fa,Hp,kE,cC]})}return t})();function iIe(t,n){1&t&&(be(0,"label",9),Ge(1,"O2 [%]:"),we())}function aIe(t,n){if(1&t){const e=Qr();be(0,"li",10),dn("click",function(){return Qn(e),Jn(zt().fireAssignBestMix())}),be(1,"a",11),Ge(2,"Best mix"),we()()}}function sIe(t,n){if(1&t){const e=Qr();be(0,"li",12),dn("click",function(){const i=Qn(e).$implicit;return Jn(zt().assignStandardGas(i))}),be(1,"a",11),Ge(2),we()()}if(2&t){const e=n.$implicit;de(2),_r(e)}}function oIe(t,n){if(1&t&&(be(0,"div",13),Ge(1),we()),2&t){const e=zt();de(),ln("Needs to be number ",e.o2RangeLabel,"")}}let ju=(()=>{class t{constructor(e,r,i,a){this.fb=e,this.inputs=r,this.validators=i,this.units=a,this.showBestMix=!0,this.showTitle=!0,this.showTrimixGases=!1,this.controlName="o2",this.tank=Xa.createDefault(),this.gasChange=new Fr,this.assignBestMix=new Fr,this.standardGasApplied=new Fr}get standardGases(){return this.showTrimixGases?Mi.allNames():Mi.nitroxNames()}get o2Ranges(){const e=this.units.ranges;return this.showTrimixGases?e.trimixOxygen:e.nitroxOxygen}get o2RangeLabel(){const e=this.units.ranges;return this.showTrimixGases?e.trimixOxygenLabel:e.nitroxOxygenLabel}get gasO2Invalid(){const e=this.nitroxForm.get(this.controlName);return!e||this.inputs.controlInValid(e)}ngOnInit(){this.nitroxForm||(this.nitroxForm=this.fb.group({}));const e=this.fb.control(xn.round(this.tank.o2,1),this.validators.nitroxOxygen);this.nitroxForm.addControl(this.controlName,e)}fireAssignBestMix(){this.assignBestMix.emit(),this.reload()}gasInputChanged(){this.gasO2Invalid||(this.updateOxygenValue(),this.gasChange.emit(this.tank.o2))}assignStandardGas(e){this.tank.assignStandardGas(e),this.reload(),this.standardGasApplied.emit(e)}updateOxygenValue(){const e=this.nitroxForm.get(this.controlName),r=Number(e?.value);this.tank.o2=r}reload(){this.nitroxForm.patchValue({[this.controlName]:xn.round(this.tank.o2,1)})}static#e=this.\u0275fac=function(r){return new(r||t)(lt(ss),lt(Ls),lt(Qa),lt(jr))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-oxygen-dropdown"]],inputs:{showBestMix:"showBestMix",showTitle:"showTitle",showTrimixGases:"showTrimixGases",controlName:"controlName",tank:"tank",nitroxForm:"nitroxForm"},outputs:{gasChange:"gasChange",assignBestMix:"assignBestMix",standardGasApplied:"standardGasApplied"},decls:9,vars:10,consts:[[3,"formGroup"],["for","gasO2","class","form-label","mdbLabel","",4,"ngIf"],["mdbDropdown","",1,"input-group","dropdown"],["type","number","required","","step","1","id","gasO2",1,"form-control",3,"input","formControlName","min","max"],["aria-expanded","false","id","o2Menu","type","button","data-mdb-toggle","dropdown","mdbDropdownToggle","",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],["id","btnBestMix",3,"click",4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],["class","text-danger form-text position-absolute",4,"ngIf"],["for","gasO2","mdbLabel","",1,"form-label"],["id","btnBestMix",3,"click"],[1,"dropdown-item"],[3,"click"],[1,"text-danger","form-text","position-absolute"]],template:function(r,i){1&r&&(la(0,0),zn(1,iIe,2,0,"label",1),be(2,"div",2)(3,"input",3),dn("input",function(){return i.gasInputChanged()}),we(),un(4,"button",4),be(5,"ul",5),zn(6,aIe,3,0,"li",6)(7,sIe,3,1,"li",7),we()(),zn(8,oIe,2,1,"div",8),ua()),2&r&&(Ye("formGroup",i.nitroxForm),de(),Ye("ngIf",i.showTitle),de(2),lr("is-invalid",i.gasO2Invalid),Ye("formControlName",i.controlName)("min",i.o2Ranges[0])("max",i.o2Ranges[1]),de(3),Ye("ngIf",i.showBestMix),de(),Ye("ngForOf",i.standardGases),de(),Ye("ngIf",i.showTitle&&i.gasO2Invalid))},dependencies:[Fo,ji,ja,xs,Cs,Ya,m1,ws,Ms,Ha,ps,Gl,Qc,Jc,y1]})}return t})();function cIe(t,n){if(1&t){const e=Qr();be(0,"li",5),dn("click",function(){const i=Qn(e).$implicit;return Jn(zt().assignTankTemplate(i))}),be(1,"a",6),Ge(2),we()()}if(2&t){const e=n.$implicit;de(2),_r(e.name)}}let Yu=(()=>{class t{constructor(e,r,i,a){this.units=e,this.fb=r,this.inputs=i,this.validators=a,this.controlName="tankSize",this.sizeChange=new Fr,this.applyTemplate=new Fr;const s=Xa.createDefault();this.tank=new hc(s,this.units);const l=this.units.defaults.tanks;this.tank.workingPressure=l.primary.workingPressure,this.tank.size=l.primary.size}get ranges(){return this.units.ranges}get allDefaultTanks(){return this.units.defaults.tanks.available}get tankSizeInvalid(){const e=this.sizeForm.get(this.controlName);return this.inputs.controlInValid(e)}ngOnInit(){this.sizeForm||(this.sizeForm=this.fb.group({}));const e=xn.round(this.tank.size,1),r=this.fb.control(e,this.validators.tankSize);this.sizeForm.addControl(this.controlName,r)}sizeChanged(){if(this.sizeForm.invalid)return;const e=this.sizeForm.get(this.controlName),r=Number(e?.value);this.tank.size=r,this.sizeChange.emit(r)}assignTankTemplate(e){this.tank.assignTemplate(e),this.sizeForm.patchValue({[this.controlName]:xn.round(this.tank.size,1)}),this.applyTemplate.emit(e)}static#e=this.\u0275fac=function(r){return new(r||t)(lt(jr),lt(ss),lt(Ls),lt(Qa))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-tank-size"]],inputs:{sizeForm:"sizeForm",controlName:"controlName",tank:"tank"},outputs:{sizeChange:"sizeChange",applyTemplate:"applyTemplate"},decls:5,vars:7,consts:[["mdbDropdown","",1,"input-group",3,"formGroup"],["type","number","required","","step","1","id","tankSize",1,"form-control",3,"input","formControlName","min","max"],["id","sizeMenu","type","button","aria-expanded","false","data-mdb-toggle","dropdown","mdbDropdownToggle","",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"dropdown-item"]],template:function(r,i){1&r&&(be(0,"div",0)(1,"input",1),dn("input",function(){return i.sizeChanged()}),we(),un(2,"button",2),be(3,"ul",3),zn(4,cIe,3,1,"li",4),we()()),2&r&&(Ye("formGroup",i.sizeForm),de(),lr("is-invalid",i.tankSizeInvalid),Ye("formControlName",i.controlName)("min",i.ranges.tankSize[0])("max",i.ranges.tankSize[1]),de(3),Ye("ngForOf",i.allDefaultTanks))},dependencies:[Fo,ja,xs,Cs,Ya,m1,ws,Ms,Ha,ps,Gl,Qc,Jc]})}return t})();function lIe(t,n){if(1&t){const e=Qr();be(0,"button",26),dn("click",function(){Qn(e);const i=zt(2).index;return Jn(zt().removeTank(i))}),un(1,"fa-icon",27),we()}if(2&t){const e=zt(3);de(),Ye("icon",e.minusIcon)}}function uIe(t,n){if(1&t&&(be(0,"div",13)(1,"div",23),Ge(2),we(),be(3,"div",24),zn(4,lIe,2,1,"button",25),we()()),2&t){const e=zt().index,r=zt();de(2),ln(" ",r.tanks[e].label," "),de(2),Ye("ngIf",0!==e)}}function fIe(t,n){if(1&t&&(be(0,"div",36),Ge(1),we()),2&t){const e=zt(3);de(),ln("Needs to be number ",e.ranges.tankSizeLabel," ")}}function dIe(t,n){if(1&t&&(be(0,"div",36),Ge(1),we()),2&t){const e=zt(4);de(),ln(" Needs to be number ",e.ranges.tankPressureLabel,"")}}function hIe(t,n){if(1&t){const e=Qr();be(0,"div",28)(1,"label",29),Ge(2),we(),be(3,"input",37),dn("input",function(){Qn(e);const i=zt(2).index;return Jn(zt().tankChanged(i))}),we(),zn(4,dIe,2,1,"div",31),we()}if(2&t){const e=zt(2).index,r=zt();de(),va("for","workPressureItemB-",e,""),de(),ln("Work p. [",r.units.pressure,"]:"),de(),lr("is-invalid",r.workPressureInvalid(e)),va("id","workPressureItemB-",e,""),Ye("min",r.ranges.tankPressure[0])("max",r.ranges.tankPressure[1]),de(),Ye("ngIf",r.workPressureInvalid(e))}}function pIe(t,n){if(1&t&&(be(0,"div",36),Ge(1),we()),2&t){const e=zt(3);de(),ln(" Needs to be number ",e.ranges.tankPressureLabel,"")}}function mIe(t,n){1&t&&un(0,"div",28)}function vIe(t,n){if(1&t&&(be(0,"div",36),Ge(1),we()),2&t){const e=zt(3);de(),ln("Needs to be number ",e.ranges.tankHeLabel,"")}}function gIe(t,n){if(1&t){const e=Qr();be(0,"div",13)(1,"div",28)(2,"label",29),Ge(3),we(),be(4,"app-tank-size",30),dn("sizeChange",function(){Qn(e);const i=zt().index;return Jn(zt().tankChanged(i))})("applyTemplate",function(i){Qn(e);const a=zt().index;return Jn(zt().assignTankTemplate(a,i))}),we(),zn(5,fIe,2,1,"div",31),we(),zn(6,hIe,5,10,"div",32),be(7,"div",28)(8,"label",29),Ge(9),we(),be(10,"input",33),dn("input",function(){Qn(e);const i=zt().index;return Jn(zt().tankChanged(i))}),we(),zn(11,pIe,2,1,"div",31),we(),zn(12,mIe,1,0,"div",32),be(13,"div",28)(14,"app-oxygen-dropdown",34),dn("gasChange",function(){Qn(e);const i=zt().index;return Jn(zt().tankChanged(i))})("standardGasApplied",function(){Qn(e);const i=zt().index;return Jn(zt().standardGasApplied(i))}),we()(),be(15,"div",28)(16,"label",29),Ge(17,"He [%]:"),we(),be(18,"input",35),dn("input",function(){Qn(e);const i=zt().index;return Jn(zt().tankChanged(i))}),we(),zn(19,vIe,2,1,"div",31),we()()}if(2&t){const e=zt(),r=e.$implicit,i=e.index,a=zt();de(2),va("for","sizeItemB-",i,""),de(),ln("Size [",a.units.volume,"]:"),de(),va("id","sizeItemB-",i,""),Ye("sizeForm",r),de(),Ye("ngIf",a.tankSizeInvalid(i)),de(),Ye("ngIf",a.units.imperialUnits),de(2),va("for","pressureItemB-",i,""),de(),ln("Pressure [",a.units.pressure,"]:"),de(),lr("is-invalid",a.startPressureInvalid(i)),va("id","pressureItemB-",i,""),Ye("min",a.ranges.tankPressure[0])("max",a.ranges.tankPressure[1]),de(),Ye("ngIf",a.startPressureInvalid(i)),de(),Ye("ngIf",a.units.imperialUnits),de(2),va("id","o2Item-",i,""),Ye("tank",a.tanks[i])("nitroxForm",r)("showBestMix",!1)("showTrimixGases",!0),de(2),va("for","heItemB-",i,""),de(2),lr("is-invalid",a.gasHeInvalid(i)),va("id","heItemB-",i,""),Ye("min",a.ranges.tankHe[0])("max",a.ranges.tankHe[1]),de(),Ye("ngIf",a.gasHeInvalid(i))}}function yIe(t,n){1&t&&(be(0,"mdb-accordion-item",20),zn(1,uIe,5,2,"ng-template",21)(2,gIe,20,34,"ng-template",22),we()),2&t&&Ye("formGroupName",n.index)}function bIe(t,n){if(1&t&&(be(0,"div",17),Ge(1),we()),2&t){const e=zt();de(),ln("Work p. [",e.units.pressure,"]")}}function CIe(t,n){if(1&t){const e=Qr();be(0,"div",42)(1,"input",37),dn("input",function(){Qn(e);const i=zt().index;return Jn(zt().tankChanged(i))}),we()()}if(2&t){const e=zt().index,r=zt();de(),lr("is-invalid",r.workPressureInvalid(e)),va("id","workPressureItem-",e,""),Ye("min",r.ranges.tankPressure[0])("max",r.ranges.tankPressure[1])}}function xIe(t,n){if(1&t){const e=Qr();be(0,"button",51),dn("click",function(){Qn(e);const i=zt().index;return Jn(zt().removeTank(i))}),un(1,"fa-icon",27),we()}if(2&t){const e=zt().index,r=zt();va("id","removeTank-",e,""),de(),Ye("icon",r.minusIcon)}}function MIe(t,n){if(1&t&&(be(0,"small",36),Ge(1),we()),2&t){const e=zt(2);de(),ln("Size needs to be number ",e.ranges.tankSizeLabel,". ")}}function wIe(t,n){if(1&t&&(be(0,"small",36),Ge(1),we()),2&t){const e=zt(2);de(),ln(" Working pressure needs to be number ",e.ranges.tankPressureLabel,". ")}}function _Ie(t,n){if(1&t&&(be(0,"small",36),Ge(1),we()),2&t){const e=zt(2);de(),ln(" Start pressure needs to be number ",e.ranges.tankPressureLabel,". ")}}function LIe(t,n){if(1&t&&(be(0,"small",36),Ge(1),we()),2&t){const e=zt(2);de(),ln(" O2 needs to be number ",e.ranges.trimixOxygenLabel,". ")}}function SIe(t,n){if(1&t&&(be(0,"small",36),Ge(1),we()),2&t){const e=zt(2);de(),ln(" He needs to be number ",e.ranges.tankHeLabel,".")}}function TIe(t,n){if(1&t){const e=Qr();be(0,"div",38)(1,"div",39)(2,"div",40)(3,"div",13)(4,"div",14),Ge(5),we(),be(6,"div",15)(7,"app-tank-size",30),dn("sizeChange",function(){const i=Qn(e).index;return Jn(zt().tankChanged(i))})("applyTemplate",function(i){const a=Qn(e).index;return Jn(zt().assignTankTemplate(a,i))}),we()()()(),zn(8,CIe,2,6,"div",41),be(9,"div",42)(10,"input",33),dn("input",function(){const i=Qn(e).index;return Jn(zt().tankChanged(i))}),we()(),be(11,"div",42)(12,"app-oxygen-dropdown",43),dn("gasChange",function(){const i=Qn(e).index;return Jn(zt().tankChanged(i))})("standardGasApplied",function(){const i=Qn(e).index;return Jn(zt().standardGasApplied(i))}),we()(),be(13,"div",42)(14,"input",35),dn("input",function(){const i=Qn(e).index;return Jn(zt().tankChanged(i))}),we()(),be(15,"div",44),zn(16,xIe,2,3,"button",45),we()(),be(17,"div",39)(18,"div",46)(19,"div",13),un(20,"div",7),be(21,"div",47)(22,"small",48),Ge(23),Bn(24,"number"),we(),un(25,"app-gaslabel",49),we()()(),un(26,"div",7),we(),be(27,"div",39)(28,"div",46)(29,"div",13),un(30,"div",7),be(31,"div",50),zn(32,MIe,2,1,"small",31)(33,wIe,2,1,"small",31)(34,_Ie,2,1,"small",31)(35,LIe,2,1,"small",31)(36,SIe,2,1,"small",31),we()()(),un(37,"div",7),we()()}if(2&t){const e=n.$implicit,r=n.index,i=zt();Ye("formGroupName",r),de(5),ln(" ",i.tanks[r].id,". "),de(2),va("id","sizeItemB-",r,""),Ye("sizeForm",e),de(),Ye("ngIf",i.units.imperialUnits),de(2),lr("is-invalid",i.startPressureInvalid(r)),va("id","pressureItem-",r,""),Ye("min",i.ranges.tankPressure[0])("max",i.ranges.tankPressure[1]),de(),lr("col-4",!i.units.imperialUnits),de(),va("id","o2Item-",r,""),Ye("tank",i.tanks[r])("nitroxForm",e)("showBestMix",!1)("showTitle",!1)("showTrimixGases",!0),de(2),lr("is-invalid",i.gasHeInvalid(r)),va("id","heItem-",r,""),Ye("min",i.ranges.tankHe[0])("max",i.ranges.tankHe[1]),de(2),Ye("ngIf",0!==r),de(7),E1("SAC: ",Hn(24,37,i.gasSac(r),"1.0-2")," ",i.units.sac,""),de(2),Ye("tank",i.tanks[r].tank)("toxicity",i.toxicity),de(7),Ye("ngIf",i.tankSizeInvalid(r)),de(),Ye("ngIf",i.workPressureInvalid(r)),de(),Ye("ngIf",i.startPressureInvalid(r)),de(),Ye("ngIf",i.gasO2Invalid(r)),de(),Ye("ngIf",i.gasHeInvalid(r))}}let WG=(()=>{class t extends P1{constructor(e,r,i,a,s,l){super(),this.units=e,this.fb=r,this.inputs=i,this.validators=a,this.dispatcher=s,this.schedules=l,this.icon=gm,this.plusIcon=Bd,this.minusIcon=Eu,this.rootForm=this.fb.group({})}get ranges(){return this.units.ranges}get tanks(){return this.tanksService.tanks}get tanksGroup(){return this.tanksForm.controls.boundTanks}get toxicity(){return this.schedules.selectedToxicity}get tanksService(){return this.schedules.selectedTanks}ngOnInit(){const e=this.fb.array(this.createTankControls());this.tanksForm=this.fb.group({boundTanks:e}),this.dispatcher.tanksReloaded$.pipe(Wr(this.unsubscribe$)).subscribe(r=>{this.tanksService===r&&this.reloadAll()}),this.dispatcher.selectedChanged$.pipe(Wr(this.unsubscribe$)).subscribe(()=>this.reloadAll()),this.rootForm.addControl("tanksForm",this.tanksForm)}gasSac(e){const i=this.schedules.selectedOptions.diverOptions.gasSac(this.tanks[e].tank);return this.units.fromBar(i)}gasHeInvalid(e){const r=this.tanksGroup.at(e);return this.inputs.controlInValid(r.controls.tankHe)}gasO2Invalid(e){const r=this.tanksGroup.at(e);return this.inputs.controlInValid(r.controls.tankO2)}workPressureInvalid(e){const r=this.tanksGroup.at(e);return this.inputs.controlInValid(r.controls.tankWorkPressure)}startPressureInvalid(e){const r=this.tanksGroup.at(e);return this.inputs.controlInValid(r.controls.tankStartPressure)}tankSizeInvalid(e){const r=this.tanksGroup.at(e);return this.inputs.controlInValid(r.controls.tankSize)}addTank(){if(this.rootForm.invalid)return;this.tanksService.addTank();const r=this.createTankControl(this.tanks[this.tanks.length-1]);this.tanksGroup.push(r)}removeTank(e){this.rootForm.invalid||this.tanks.length<=1||(this.tanksService.removeTank(this.tanks[e]),this.tanksGroup.removeAt(e))}assignTankTemplate(e,r){const i=this.tanks[e];i.assignTemplate(r),this.reload(i,e),this.dispatcher.sendTankChanged()}tankChanged(e){if(this.rootForm.invalid)return;const r=this.tanksGroup.at(e),i=this.tanks[e],a=r.value;i.size=Number(a.tankSize),i.workingPressure=Number(a.tankWorkPressure),i.startPressure=Number(a.tankStartPressure),i.o2=Number(a.tankO2),i.he=Number(a.tankHe),this.reload(i,e),this.dispatcher.sendTankChanged()}standardGasApplied(e){this.tanksGroup.at(e).patchValue({tankHe:this.tanks[e].he}),this.tankChanged(e)}reloadAll(){this.tanksGroup.clear(),this.createTankControls().forEach(e=>this.tanksGroup.push(e))}reload(e,r){this.tanksGroup.at(r).patchValue({tankSize:xn.round(e.size,1),tankWorkPressure:e.workingPressure,tankStartPressure:e.startPressure,tankO2:e.o2,tankHe:e.he})}createTankControls(){const e=[];for(const r of this.tanks){const i=this.createTankControl(r);e.push(i)}return e}createTankControl(e){const r=this.fb.group({tankSize:[xn.round(e.size,1),this.validators.tankSize],tankStartPressure:[xn.round(e.startPressure,1),this.validators.tankPressure],tankO2:[xn.round(e.o2,1),this.validators.trimixOxygen],tankHe:[xn.round(e.he,1),this.validators.trimixHe]});if(this.units.imperialUnits){const i=this.fb.control(xn.round(e.workingPressure,1),this.validators.tankPressure);r.addControl("tankWorkPressure",i)}return r}static#e=this.\u0275fac=function(r){return new(r||t)(lt(jr),lt(ss),lt(Ls),lt(Qa),lt(u1),lt(Ka))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-tanks-complex"]],inputs:{rootForm:"rootForm"},features:[hi],decls:30,vars:12,consts:[[1,"card",3,"formGroup"],[1,"card-header"],[1,"me-3",3,"icon"],["formArrayName","boundTanks",1,"card-body","d-md-none","d-block"],[3,"flush"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","justify-content-end","pe-2","m-3"],[1,"col","col-1"],["type","button",1,"p-1","btn","btn-secondary",3,"click"],[1,"fa-xl",3,"icon"],["formArrayName","boundTanks",1,"card-body","d-none","d-md-block"],[1,"row","pb-2"],[1,"col","col-3","m-0","px-1"],[1,"row"],[1,"col","col-1","p-0","m-0"],[1,"col","ps-0"],["class","col col-2 m-0 px-1",4,"ngIf"],[1,"col","col-2","m-0","px-1"],[1,"col","col-1","m-0","px-1"],["class","pb-2",3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],["mdbAccordionItemHeader",""],["mdbAccordionItemBody",""],[1,"col","col-auto","d-flex","align-items-center"],[1,"col","col-1","pe-1"],["class","m-0 p-1 btn btn-secondary","type","button",3,"click",4,"ngIf"],["type","button",1,"m-0","p-1","btn","btn-secondary",3,"click"],[1,"p-0","m-0","fa-xl",3,"icon"],[1,"col","col-12","col-sm-6","m-0","pb-0","px-1","mt-2"],[1,"form-label",3,"for"],[3,"sizeChange","applyTemplate","sizeForm","id"],["class","text-danger",4,"ngIf"],["class","col col-12 col-sm-6 m-0 pb-0 px-1 mt-2",4,"ngIf"],["formControlName","tankStartPressure","type","number","required","","step","1",1,"form-control",3,"input","min","max","id"],["controlName","tankO2",3,"gasChange","standardGasApplied","tank","id","nitroxForm","showBestMix","showTrimixGases"],["formControlName","tankHe","type","number","step","1","required","",1,"form-control",3,"input","min","max","id"],[1,"text-danger"],["formControlName","tankWorkPressure","type","number","required","","step","1",1,"form-control",3,"input","min","max","id"],[1,"pb-2",3,"formGroupName"],[1,"row","p-0"],[1,"col","col-3","m-0","pb-0","px-1"],["class","col col-2 m-0 pb-0 px-1",4,"ngIf"],[1,"col","col-2","m-0","pb-0","px-1"],["controlName","tankO2",3,"gasChange","standardGasApplied","tank","id","nitroxForm","showBestMix","showTitle","showTrimixGases"],[1,"col","col-1","m-0","pb-0","px-1","align-self-center"],["class","m-0 p-1 btn btn-secondary","type","button",3,"id","click",4,"ngIf"],[1,"col","col-11"],[1,"col","m-0","px-1"],[1,"form-text","text-muted"],[1,"float-end",3,"tank","toxicity"],[1,"col","m-0","px-0"],["type","button",1,"m-0","p-1","btn","btn-secondary",3,"click","id"]],template:function(r,i){1&r&&(be(0,"div",0)(1,"div",1),un(2,"fa-icon",2),be(3,"span"),Ge(4,"Tanks"),we()(),be(5,"div",3)(6,"mdb-accordion",4),zn(7,yIe,3,1,"mdb-accordion-item",5),we(),be(8,"div",6)(9,"div",7)(10,"button",8),dn("click",function(){return i.addTank()}),un(11,"fa-icon",9),we()()()(),be(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13),un(16,"div",14),be(17,"div",15),Ge(18),we()()(),zn(19,bIe,2,1,"div",16),be(20,"div",17),Ge(21),we(),be(22,"div",17),Ge(23,"O2 [%]"),we(),be(24,"div",17),Ge(25,"He [%]"),we(),be(26,"div",18)(27,"button",8),dn("click",function(){return i.addTank()}),un(28,"fa-icon",9),we()()(),zn(29,TIe,38,40,"div",19),we()()),2&r&&(Ye("formGroup",i.tanksForm),de(2),Ye("icon",i.icon),de(4),Ye("flush",!0),de(),Ye("ngForOf",i.tanksGroup.controls),de(4),Ye("icon",i.plusIcon),de(7),ln(" Size [",i.units.volume,"] "),de(),Ye("ngIf",i.units.imperialUnits),de(2),ln("Pressure [",i.units.pressure,"]"),de(),lr("col-4",!i.units.imperialUnits),de(6),Ye("icon",i.plusIcon),de(),Ye("ngForOf",i.tanksGroup.controls))},dependencies:[Fo,ji,fa,ja,xs,Cs,Ya,m1,ws,Ms,Ha,ps,K8,Q8,RE,lC,PE,NE,Um,ju,Yu,hs]})}return t})(),TM=(()=>{class t{constructor(e,r){this.fb=e,this.units=r,this.tank=new hc(new Xa(15,200,21),this.units),this.toxicity=new Zd,this.showBestMix=!0,this.controlName="o2",this.gasChange=new Fr,this.standardGasApplied=new Fr,this.assignBestMix=new Fr}ngOnInit(){this.nitroxForm||(this.nitroxForm=this.fb.group({}))}fireAssignBestMix(){this.assignBestMix.emit()}static#e=this.\u0275fac=function(r){return new(r||t)(lt(ss),lt(jr))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-oxygen"]],inputs:{tank:"tank",toxicity:"toxicity",showBestMix:"showBestMix",nitroxForm:"nitroxForm",controlName:"controlName"},outputs:{gasChange:"gasChange",standardGasApplied:"standardGasApplied",assignBestMix:"assignBestMix"},decls:4,vars:9,consts:[["oxygenDropdown",""],[3,"formGroup"],[3,"gasChange","standardGasApplied","assignBestMix","showBestMix","controlName","nitroxForm","tank"],[3,"tank","toxicity"]],template:function(r,i){if(1&r){const a=Qr();la(0,1),be(1,"app-oxygen-dropdown",2,0),dn("gasChange",function(l){return Qn(a),Jn(i.gasChange.emit(l))})("standardGasApplied",function(l){return Qn(a),Jn(i.standardGasApplied.emit(l))})("assignBestMix",function(){return Qn(a),Jn(i.fireAssignBestMix())}),we(),un(3,"app-gaslabel",3),ua()}if(2&r){const a=T8(2);Ye("formGroup",i.nitroxForm),de(),Ye("showBestMix",i.showBestMix)("controlName",i.controlName)("nitroxForm",i.nitroxForm)("tank",i.tank),de(2),lr("invisible",a.gasO2Invalid),Ye("tank",i.tank.tank)("toxicity",i.toxicity)}},dependencies:[Ya,Ha,Um,ju]})}return t})();function DIe(t,n){if(1&t&&(be(0,"div",14),Ge(1),we()),2&t){const e=zt();de(),ln("Needs to be number ",e.ranges.tankSizeLabel,"")}}function AIe(t,n){if(1&t){const e=Qr();be(0,"div",4)(1,"label",15),Ge(2),we(),be(3,"input",16),dn("input",function(){return Qn(e),Jn(zt().applySimple())}),we(),be(4,"div",12),Ge(5),we()()}if(2&t){const e=zt();de(2),ln("Working pressure [",e.units.pressure,"]: "),de(),lr("is-invalid",e.workPressureInvalid),Ye("min",e.ranges.tankPressure[0])("max",e.ranges.tankPressure[1]),de(2),ln("Needs to be number ",e.ranges.tankPressureLabel,"")}}let jG=(()=>{class t extends P1{constructor(e,r,i,a,s,l){super(),this.units=e,this.fb=r,this.inputs=i,this.validators=a,this.diveSchedules=s,this.dispatcher=l,this.icon=gm,this.rootForm=this.fb.group({})}get toxicity(){return this.diveSchedules.selectedToxicity}get firstTank(){return this.diveSchedules.selectedTanks.firstTank}get ranges(){return this.units.ranges}get firstTankSizeInvalid(){return this.inputs.controlInValid(this.tanksForm.controls.firstTankSize)}get workPressureInvalid(){return this.inputs.controlInValid(this.tanksForm.controls.workPressure)}get firstTankStartPressureInvalid(){return this.inputs.controlInValid(this.tanksForm.controls.firstTankStartPressure)}ngOnInit(){if(this.tanksForm=this.fb.group({firstTankSize:[xn.round(this.firstTank.size,1),this.validators.tankSize],firstTankStartPressure:[xn.round(this.firstTank.startPressure,1),this.validators.tankPressure],o2:[xn.round(this.firstTank.o2,1),this.validators.nitroxOxygen]}),this.units.imperialUnits){const e=this.fb.control(xn.round(this.firstTank.workingPressure,1),this.validators.tankPressure);this.tanksForm.addControl("workPressure",e)}this.dispatcher.tanksReloaded$.pipe(Wr(this.unsubscribe$)).subscribe(e=>{this.diveSchedules.selectedTanks===e&&this.reload()}),this.dispatcher.selectedChanged$.pipe(Wr(this.unsubscribe$)).subscribe(()=>this.reload()),this.rootForm.addControl("tanks",this.tanksForm)}gasSac(){const r=this.diveSchedules.selectedOptions.diverOptions.gasSac(this.firstTank.tank);return this.units.fromBar(r)}assignBestMix(){this.rootForm.invalid||(this.firstTank.o2=this.toxicity.bestNitroxMix(this.diveSchedules.selectedDepths.plannedDepthMeters),this.dispatcher.sendTankChanged())}applyTemplate(e){this.rootForm.invalid||(this.tanksForm.patchValue({workPressure:e.workingPressure}),this.applySimple())}applySimple(){if(this.rootForm.invalid)return;const e=this.tanksForm.value;this.firstTank.size=Number(e.firstTankSize),this.firstTank.workingPressure=Number(e.workPressure),this.firstTank.startPressure=Number(e.firstTankStartPressure),this.dispatcher.sendTankChanged()}reload(){this.tanksForm.patchValue({firstTankSize:xn.round(this.firstTank.size,1),workPressure:xn.round(this.firstTank.workingPressure,1),firstTankStartPressure:xn.round(this.firstTank.startPressure,1),o2:xn.round(this.firstTank.o2,1)})}static#e=this.\u0275fac=function(r){return new(r||t)(lt(jr),lt(ss),lt(Ls),lt(Qa),lt(Ka),lt(u1))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-tanks-simple"]],inputs:{rootForm:"rootForm"},features:[hi],decls:23,vars:23,consts:[[1,"card",3,"formGroup"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body","row"],[1,"mb-4","col","col-12","col-md-6","col-lg-12","col-xl-6"],["for","sizeFirstTank","mdbLabel","",1,"form-label"],["controlName","firstTankSize",3,"sizeChange","applyTemplate","sizeForm","tank"],["class","text-danger form-text position-absolute",4,"ngIf"],[1,"form-text","text-muted"],["class","mb-4 col col-12 col-md-6 col-lg-12 col-xl-6",4,"ngIf"],["for","startPressureFirstTank","mdbLabel","",1,"form-label"],["type","number","id","startPressureFirstTank","formControlName","firstTankStartPressure","required","","step","1",1,"form-control",3,"input","min","max"],[1,"invalid-feedback","position-absolute"],["controlName","o2",3,"gasChange","assignBestMix","standardGasApplied","tank","toxicity","nitroxForm"],[1,"text-danger","form-text","position-absolute"],["for","workPressureFirstTank","mdbLabel","",1,"form-label"],["type","number","id","workPressureFirstTank","formControlName","workPressure","required","","step","1",1,"form-control",3,"input","min","max"]],template:function(r,i){1&r&&(be(0,"div",0)(1,"div",1),un(2,"fa-icon",2),be(3,"span"),Ge(4,"Bottom gas tank"),we()(),be(5,"div",3)(6,"div",4)(7,"label",5),Ge(8),we(),be(9,"app-tank-size",6),dn("sizeChange",function(){return i.applySimple()})("applyTemplate",function(s){return i.applyTemplate(s)}),we(),zn(10,DIe,2,1,"div",7),be(11,"div",8),Ge(12),Bn(13,"number"),we()(),zn(14,AIe,6,6,"div",9),be(15,"div",4)(16,"label",10),Ge(17),we(),be(18,"input",11),dn("input",function(){return i.applySimple()}),we(),be(19,"div",12),Ge(20),we()(),be(21,"div",4)(22,"app-oxygen",13),dn("gasChange",function(){return i.applySimple()})("assignBestMix",function(){return i.assignBestMix()})("standardGasApplied",function(){return i.applySimple()}),we()()()()),2&r&&(Ye("formGroup",i.tanksForm),de(2),Ye("icon",i.icon),de(6),ln("Size [",i.units.volume,"]:"),de(),Ye("sizeForm",i.tanksForm)("tank",i.firstTank),de(),Ye("ngIf",i.firstTankSizeInvalid),de(),lr("invisible",i.firstTankSizeInvalid),de(),E1("SAC: ",Hn(13,20,i.gasSac(),"1.0-2")," ",i.units.sac,""),de(2),Ye("ngIf",i.units.imperialUnits),de(3),ln("Start pressure [",i.units.pressure,"]: "),de(),lr("is-invalid",i.firstTankStartPressureInvalid),Ye("min",i.ranges.tankPressure[0])("max",i.ranges.tankPressure[1]),de(2),ln("Needs to be number ",i.ranges.tankPressureLabel,""),de(2),Ye("tank",i.firstTank)("toxicity",i.toxicity)("nitroxForm",i.tanksForm))},dependencies:[ji,fa,ja,xs,Cs,Ya,m1,ws,Ms,Ha,ps,y1,TM,Yu,hs]})}return t})(),YG=(()=>{class t{constructor(e){this.schedules=e,this._stopsOnly=!1}get stopsOnly(){return this._stopsOnly}get totalDuration(){return this.dive.totalDuration}get profileCalculated(){return this.dive.profileCalculated}get wayPoints(){const e=this.dive.wayPoints;if(!this.stopsOnly)return e;const r=this.schedules.selectedDepths;return e.filter((i,a)=>a<r.startAscentIndex||a===e.length-1||i.swimAction===x1.hover||i.swimAction===x1.switch)}get dive(){return this.schedules.selectedResult}switchFilter(){this._stopsOnly=!this._stopsOnly}static#e=this.\u0275fac=function(r){return new(r||t)(gn(Ka))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})();const zIe=t=>({active:t}),kIe=t=>({"table-active":t});function EIe(t,n){1&t&&(be(0,"th",10),Ge(1,"Gas"),we())}function NIe(t,n){1&t&&(be(0,"tr")(1,"td",14),un(2,"app-calculating",15),we()()),2&t&&(de(2),Ye("show",!0))}function IIe(t,n){if(1&t&&(be(0,"td",19),Ge(1),we()),2&t){const e=zt().$implicit;de(),_r(e.gasName)}}function PIe(t,n){if(1&t){const e=Qr();be(0,"tr",16),dn("mouseover",function(){const i=Qn(e).$implicit;return Jn(zt().highlightRow(i))})("mouseleave",function(){return Qn(e),Jn(zt().highlightRow(void 0))}),be(1,"td",17),un(2,"fa-icon",18),we(),be(3,"td",19),Ge(4),Bn(5,"number"),we(),be(6,"td",19),Ge(7),Bn(8,"duration"),we(),be(9,"td",19),Ge(10),Bn(11,"duration"),we(),zn(12,IIe,2,1,"td",20),we()}if(2&t){const e=n.$implicit,r=zt();Ye("ngClass",O0(17,kIe,e.selected)),de(2),Ye("icon",r.swimActionIcon(e))("ngClass",r.iconClasses(e))("title",r.iconTitle(e)),de(2),_r(Hn(5,8,e.endDepth,"1.0-0")),de(3),_r(Hn(8,11,e.duration,r.stops.totalDuration)),de(3),_r(Hn(11,14,e.endTime,r.stops.totalDuration)),de(2),Ye("ngIf",r.isComplex)}}let ZG=(()=>{class t{constructor(e,r,i,a){this.units=e,this.selectedWaypoint=r,this.viewSwitch=i,this.stops=a,this.down=Tx,this.up=Px,this.hover=dx,this.tasks=Fx,this.switch=KR,this.filterIcon=wO}get isComplex(){return this.viewSwitch.isComplex}swimActionIcon(e){switch(e.swimAction){case x1.ascent:return this.up;case x1.descent:return this.down;case x1.switch:return this.switch;default:return this.hover}}iconTitle(e){switch(e.swimAction){case x1.ascent:return"ascent";case x1.descent:return"descent";case x1.switch:return"switch";default:return"hover"}}iconClasses(e){return{"swim-down":e.swimAction===x1.descent,"swim-up":e.swimAction===x1.ascent,"swim-hover":e.swimAction===x1.hover||e.swimAction===x1.switch}}highlightRow(e){this.selectedWaypoint.selected=e}static#e=this.\u0275fac=function(r){return new(r||t)(lt(jr),lt(_M),lt(jl),lt(YG))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-waypoints"]],decls:24,vars:10,consts:[[1,"card"],[1,"card-header"],[1,"float-start"],[1,"me-3",3,"icon"],[1,"float-end","me-1"],["type","button","data-toggle","button","autocomplete","off",1,"btn","btn-sm","btn-secondary",3,"click","ngClass"],[1,"fa-lg",3,"icon"],[1,"card-body","card-minheight","table-responsive"],[1,"table","table-sm","p-0"],[1,"table-light"],[1,"fw-bold","px-1"],["class","fw-bold px-1",4,"ngIf"],[4,"ngIf"],[3,"ngClass","mouseover","mouseleave",4,"ngFor","ngForOf"],["colspan","5"],[3,"show"],[3,"mouseover","mouseleave","ngClass"],[1,"px-1","text-center"],[3,"icon","ngClass","title"],[1,"px-1"],["class","px-1",4,"ngIf"]],template:function(r,i){1&r&&(be(0,"div",0)(1,"div",1)(2,"div",2),un(3,"fa-icon",3),be(4,"span"),Ge(5,"Dive way points"),we()(),be(6,"div",4)(7,"button",5),dn("click",function(){return i.stops.switchFilter()}),un(8,"fa-icon",6),we()()(),be(9,"div",7)(10,"table",8)(11,"thead",9)(12,"tr"),un(13,"th"),be(14,"th",10),Ge(15),we(),be(16,"th",10),Ge(17,"Duration [min]"),we(),be(18,"th",10),Ge(19,"Run [min]"),we(),zn(20,EIe,2,0,"th",11),we()(),be(21,"tbody"),zn(22,NIe,3,1,"tr",12)(23,PIe,13,19,"tr",13),we()()()()),2&r&&(de(3),Ye("icon",i.tasks),de(4),Ye("ngClass",O0(8,zIe,i.stops.stopsOnly)),k1("aria-pressed",i.stops.stopsOnly),de(),Ye("icon",i.filterIcon),de(7),ln("Depth [",i.units.length,"]"),de(5),Ye("ngIf",i.isComplex),de(2),Ye("ngIf",!i.stops.profileCalculated),de(),Ye("ngForOf",i.stops.wayPoints))},dependencies:[I2,Fo,ji,fa,S4,hs,Wu],styles:[".swim-down[_ngcontent-%COMP%]{color:#deb887}.swim-up[_ngcontent-%COMP%]{color:#8a2be2}.swim-hover[_ngcontent-%COMP%]{color:#1e90ff}"]})}return t})();const RIe=(t,n)=>({"col-12 col-sm-6 col-lg-4 col-xl-4":t,"col-12":n}),FIe=(t,n)=>({"col-12 col-sm-6 col-lg-4 col-xl-4":t,"col-12 col-lg-7":n}),OIe=(t,n)=>({"col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4":t,"col-12 col-lg-5":n}),BIe=(t,n)=>({"col-12 col-sm-6 col-lg-4 col-xl-4":t,"col-12 col-xxl-5":n}),HIe=(t,n)=>({"col-12 col-sm-6 col-lg-4 col-xl-4":t,"col-12 col-lg-7 col-xxl-4":n}),VIe=(t,n)=>({"col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4":t,"col-12 col-lg-5 col-xxl-3":n});function UIe(t,n){if(1&t){const e=Qr();be(0,"div",5),un(1,"fa-icon",6),be(2,"span")(3,"strong"),Ge(4,"Disclaimer:"),we(),Ge(5," None of the authors, contributors, administrators, or anyone else connected with this project can be responsible for your use of the information provided by this application or linked from these web pages. Use the results at your own risk."),we(),be(6,"button",7),dn("click",function(){return Qn(e),Jn(zt().startup.stopDisclaimer())}),we()()}if(2&t){const e=zt();de(),Ye("icon",e.exclamation)}}function GIe(t,n){1&t&&un(0,"app-tanks-simple",10),2&t&&Ye("rootForm",zt(2).rootForm)}function $Ie(t,n){1&t&&un(0,"app-tanks-complex",10),2&t&&Ye("rootForm",zt(2).rootForm)}function WIe(t,n){1&t&&un(0,"app-depths-simple",10),2&t&&Ye("rootForm",zt(2).rootForm)}function jIe(t,n){1&t&&un(0,"app-depths-complex",10),2&t&&Ye("rootForm",zt(2).rootForm)}function YIe(t,n){if(1&t&&(la(0),be(1,"div",8),zn(2,GIe,1,1,"app-tanks-simple",9)(3,$Ie,1,1,"app-tanks-complex",9),we(),be(4,"div",8),zn(5,WIe,1,1,"app-depths-simple",9)(6,jIe,1,1,"app-depths-complex",9),we(),be(7,"div",8),un(8,"app-diveoptions",10),we(),be(9,"div",11),un(10,"app-profilechart"),we(),be(11,"div",12),un(12,"app-waypoints"),we(),be(13,"div",13),un(14,"app-diveinfo"),we(),ua()),2&t){const e=zt();de(),Ye("ngClass",ic(8,RIe,!e.isComplex,e.isComplex)),de(),Ye("ngIf",!e.isComplex),de(),Ye("ngIf",e.isComplex),de(),Ye("ngClass",ic(11,FIe,!e.isComplex,e.isComplex)),de(),Ye("ngIf",!e.isComplex),de(),Ye("ngIf",e.isComplex),de(),Ye("ngClass",ic(14,OIe,!e.isComplex,e.isComplex)),de(),Ye("rootForm",e.rootForm)}}function ZIe(t,n){1&t&&un(0,"app-tanks-simple",10),2&t&&Ye("rootForm",zt(2).rootForm)}function XIe(t,n){1&t&&un(0,"app-tanks-complex",10),2&t&&Ye("rootForm",zt(2).rootForm)}function KIe(t,n){1&t&&un(0,"app-depths-simple",10),2&t&&Ye("rootForm",zt(2).rootForm)}function QIe(t,n){1&t&&un(0,"app-depths-complex",10),2&t&&Ye("rootForm",zt(2).rootForm)}function JIe(t,n){if(1&t&&(la(0),be(1,"div",8),zn(2,ZIe,1,1,"app-tanks-simple",9)(3,XIe,1,1,"app-tanks-complex",9),we(),be(4,"div",8),zn(5,KIe,1,1,"app-depths-simple",9)(6,QIe,1,1,"app-depths-complex",9),we(),be(7,"div",8),un(8,"app-diveoptions",10),we(),be(9,"div",11),un(10,"app-profilechart"),we(),be(11,"div",14),un(12,"app-waypoints"),we(),be(13,"div",13),un(14,"app-diveinfo"),we(),ua()),2&t){const e=zt();de(),Ye("ngClass",ic(8,BIe,!e.isComplex,e.isComplex)),de(),Ye("ngIf",!e.isComplex),de(),Ye("ngIf",e.isComplex),de(),Ye("ngClass",ic(11,HIe,!e.isComplex,e.isComplex)),de(),Ye("ngIf",!e.isComplex),de(),Ye("ngIf",e.isComplex),de(),Ye("ngClass",ic(14,VIe,!e.isComplex,e.isComplex)),de(),Ye("rootForm",e.rootForm)}}let XG=(()=>{class t extends P1{constructor(e,r,i,a,s,l){super(),this.viewSwitch=e,this.units=r,this.dispatcher=i,this.startup=a,this.schedules=s,this.fb=l,this.exclamation=m4,this.rootForm=this.fb.group({})}get isComplex(){return this.viewSwitch.isComplex}get imperialUnits(){return this.units.imperialUnits}ngOnInit(){this.startup.onDashboard(),this.dispatcher.infoCalculated$.pipe(Wr(this.unsubscribe$)).subscribe(e=>{this.schedules.selected.id===e&&this.startup.updateQueryParams()}),this.dispatcher.selectedChanged$.pipe(Wr(this.unsubscribe$)).subscribe(()=>{this.startup.updateQueryParams()})}static#e=this.\u0275fac=function(r){return new(r||t)(lt(jl),lt(jr),lt(u1),lt(eG),lt(Ka),lt(ss))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-dashboard"]],features:[hi],decls:8,vars:4,consts:[[3,"formGroup"],[1,"mt-5"],[1,"row"],["class","alert alert-warning alert-dismissible fade show mt-4","role","alert",4,"ngIf"],[4,"ngIf"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","mt-4"],[1,"me-2","fa-lg",3,"icon"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"],[1,"mb-4",3,"ngClass"],[3,"rootForm",4,"ngIf"],[3,"rootForm"],[1,"col-12","col-lg-12","col-xl-5","col-xxl-6","mb-4"],[1,"col-md-6","col-xl-3","mt-4"],[1,"col-md-6","col-xl-4","col-xxl-3","mb-4"],[1,"col-md-6","col-xl-3","mb-4"]],template:function(r,i){1&r&&(be(0,"form",0)(1,"div",1)(2,"div",2)(3,"div"),zn(4,UIe,7,1,"div",3),we(),un(5,"app-plan-tabs"),zn(6,YIe,15,17,"ng-container",4)(7,JIe,15,17,"ng-container",4),we()()()),2&r&&(Ye("formGroup",i.rootForm),de(4),Ye("ngIf",i.startup.showDisclaimer),de(2),Ye("ngIf",i.imperialUnits),de(),Ye("ngIf",!i.imperialUnits))},dependencies:[I2,ji,fa,P2,Ya,Ha,AG,kG,IG,RG,BG,$G,WG,jG,ZG]})}return t})(),KG=(()=>{class t{constructor(){this._depth=15,this._tank=15,this._used=150,this._duration=45,this._rmv=0;const e=Lo.simple();this.sacCalculator=new ike(e),this.calculate=this.calculateSac,this.calculate()}get depth(){return this._depth}get tankSize(){return this._tank}get rmv(){return this._rmv}get duration(){return this._duration}get used(){return this._used}get inDuration(){return this.calculate===this.calculateDuration}get inUsed(){return this.calculate===this.calculateUsed}get inSac(){return this.calculate===this.calculateSac}set depth(e){this._depth=e,this.calculate()}set tankSize(e){this._tank=e,this.calculate()}set rmv(e){this._rmv=e,this.calculate()}set duration(e){this._duration=e,this.calculate()}set used(e){this._used=e,this.calculate()}toDuration(){this.calculate=this.calculateDuration}toUsed(){this.calculate=this.calculateUsed}toSac(){this.calculate=this.calculateSac}calculateSac(){this._rmv=this.sacCalculator.calculateSac(this.depth,this.tankSize,this.used,this.duration)}calculateDuration(){this._duration=this.sacCalculator.calculateDuration(this.depth,this.tankSize,this.used,this.rmv)}calculateUsed(){this._used=this.sacCalculator.calculateUsed(this.depth,this.tankSize,this.duration,this.rmv)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})();function qIe(t,n){if(1&t&&(be(0,"div",23),Ge(1),we()),2&t){const e=zt();de(),ln("Needs to be number ",e.ranges.tankSizeLabel," ")}}function ePe(t,n){if(1&t){const e=Qr();be(0,"div",11)(1,"label",15),Ge(2),we(),be(3,"input",24),dn("input",function(){return Qn(e),Jn(zt().inputChanged())}),we(),be(4,"div",14),Ge(5),we()()}if(2&t){const e=zt();de(2),ln("Working pressure [",e.units.pressure,"]:"),de(),lr("is-invalid",e.workPressureInvalid),Ye("min",e.ranges.tankPressure[0])("max",e.ranges.tankPressure[1]),de(2),ln("Needs to be number ",e.ranges.tankPressureLabel," ")}}function tPe(t,n){if(1&t){const e=Qr();la(0),be(1,"div",11)(2,"label",25),Ge(3,"Dive time [min]:"),we(),be(4,"input",26),dn("input",function(){return Qn(e),Jn(zt().inputChanged())}),we(),be(5,"div",14),Ge(6),we()(),ua()}if(2&t){const e=zt();de(4),lr("is-invalid",e.durationInvalid),Ye("min",e.ranges.duration[0])("max",e.ranges.duration[1]),de(2),ln(" Needs to be number ",e.ranges.durationLabel,"")}}function nPe(t,n){if(1&t){const e=Qr();la(0),be(1,"div",11)(2,"label",27),Ge(3),we(),be(4,"input",28),dn("input",function(){return Qn(e),Jn(zt().inputChanged())}),we(),be(5,"div",14),Ge(6),we()(),ua()}if(2&t){const e=zt();de(3),ln("Gas consumed [",e.units.pressure,"]:"),de(),lr("is-invalid",e.usedInvalid),Ye("min",e.ranges.consumed[0])("max",e.ranges.consumed[1]),de(2),ln("Needs to be number ",e.ranges.consumedLabel," ")}}function rPe(t,n){if(1&t){const e=Qr();la(0),be(1,"div",11)(2,"label",29),Ge(3),we(),be(4,"input",30),dn("input",function(){return Qn(e),Jn(zt().inputChanged())}),we(),be(5,"div",14),Ge(6),we(),be(7,"div",31),Ge(8),Bn(9,"number"),we()(),ua()}if(2&t){const e=zt();de(3),ln("RMV [",e.units.rmv,"]:"),de(),lr("is-invalid",e.rmvInvalid),Ye("min",e.ranges.diverRmv[0])("max",e.ranges.diverRmv[1]),de(2),ln("Needs to be number ",e.ranges.diverRmvLabel," "),de(),lr("invisible",e.rmvInvalid),de(),E1("SAC: ",Hn(9,10,e.gasSac,"1.0-2")," ",e.units.sac,"")}}function iPe(t,n){if(1&t&&(la(0),be(1,"div",11)(2,"label",29),Ge(3),we(),un(4,"input",32),be(5,"small",33),Ge(6),Bn(7,"number"),we()(),ua()),2&t){const e=zt();de(3),ln("RMV [",e.units.rmv,"]:"),de(),Ye("readonly",!0)("value",e.calcRmv),de(2),E1("SAC: ",Hn(7,5,e.gasSac,"1.0-2")," ",e.units.sac,"")}}function aPe(t,n){if(1&t&&(la(0),be(1,"div",11)(2,"label",27),Ge(3),we(),un(4,"input",34),we(),ua()),2&t){const e=zt();de(3),ln("Gas consumed [",e.units.pressure,"]:"),de(),Ye("readonly",!0)("value",e.calcUsed)}}function sPe(t,n){if(1&t&&(la(0),be(1,"div",11)(2,"label",25),Ge(3,"Dive time [min]:"),we(),un(4,"input",35),we(),ua()),2&t){const e=zt();de(4),Ye("readonly",!0)("value",e.calcDuration)}}function oPe(t,n){if(1&t){const e=Qr();be(0,"button",36),dn("click",function(){return Qn(e),Jn(zt().use())}),Ge(1,"Use"),we()}}let QG=(()=>{class t{constructor(e,r,i,a,s,l,x,F,oe){this.validators=e,this.inputs=r,this.formBuilder=i,this.options=a,this.cd=s,this.calc=l,this.units=x,this.location=F,this.viewStates=oe,this.calcIcon=gx,this.depthConverterWarning=$u.depthConverterWarning,this.tank=new hc(Xa.createDefault(),this.units)}get ranges(){return this.units.ranges}get depthInvalid(){return this.inputs.controlInValid(this.formSac.controls.depth)}get tankInvalid(){return this.inputs.controlInValid(this.formSac.controls.tankSize)}get workPressureInvalid(){return this.inputs.controlInValid(this.formSac.controls.workPressure)}get usedInvalid(){return this.inputs.controlInValid(this.formSac.controls.used)}get rmvInvalid(){return this.inputs.controlInValid(this.formSac.controls.rmv)}get durationInvalid(){return this.inputs.controlInValid(this.formSac.controls.duration)}get calcDepth(){const e=this.units.fromMeters(this.calc.depth);return xn.round(e,1)}get calcTankSize(){return xn.round(this.tank.size,1)}get calcWorkingPressure(){return xn.round(this.tank.workingPressure,1)}get calcUsed(){const e=this.units.fromBar(this.calc.used);return xn.round(e,1)}get calcRmv(){const e=this.units.fromLiter(this.calc.rmv);return xn.round(e,this.units.ranges.rmvRounding)}get calcDuration(){return xn.round(this.calc.duration)}get gasSac(){const e=Ou.gasSac(this.calc.rmv,this.calc.tankSize);return this.units.fromBar(e)}ngOnInit(){if(this.setDefaultValues(),this.loadState(),this.saveState(),this.durationControl=this.formBuilder.control(this.calcDuration,this.validators.duration),this.usedControl=this.formBuilder.control(this.calcUsed,this.validators.tankConsumed),this.rmvControl=this.formBuilder.control(this.calcRmv,this.validators.diverRmv),this.formSac=this.formBuilder.group({depth:[this.calcDepth,this.validators.depth],tankSize:[this.calcTankSize,this.validators.tankSize]}),this.units.imperialUnits){const e=this.formBuilder.control(this.calcWorkingPressure,this.validators.tankPressure);this.formSac.addControl("workPressure",e)}this.toSac()}applyTemplate(e){this.formSac.invalid||(this.formSac.patchValue({workPressure:e.workingPressure}),this.inputChanged())}inputChanged(){if(this.formSac.invalid)return;const e=this.formSac.value;this.tank.workingPressure=Number(e.workPressure),this.tank.size=Number(e.tankSize),this.calc.tankSize=this.tank.tank.size,this.calc.depth=this.units.toMeters(Number(e.depth)),this.calc.used=this.units.toBar(Number(e.used)),this.calc.rmv=this.units.toLiter(Number(e.rmv)),this.calc.duration=Number(e.duration),this.reload(),this.saveState()}toDuration(){this.calc.toDuration(),this.enableAll(),this.formSac.removeControl("duration"),this.cd.detectChanges()}toUsed(){this.calc.toUsed(),this.enableAll(),this.formSac.removeControl("used"),this.cd.detectChanges()}toSac(){this.calc.toSac(),this.enableAll(),this.formSac.removeControl("rmv"),this.cd.detectChanges()}use(){this.formSac.invalid||(this.options.diverOptions.rmv=this.calc.rmv)}enableAll(){this.formSac.addControl("used",this.usedControl),this.formSac.addControl("duration",this.durationControl),this.formSac.addControl("rmv",this.rmvControl),this.reload()}reload(){this.formSac.patchValue({depth:this.calcDepth,tankSize:this.calcTankSize,workPressure:this.calcWorkingPressure,used:this.calcUsed,duration:this.calcDuration,rmv:this.calcRmv})}setDefaultValues(){this.calc.depth=this.units.toMeters(5*this.units.defaults.stopsDistance);const r=this.units.defaults.tanks;this.tank.workingPressure=r.primary.workingPressure,this.tank.size=r.primary.size,this.calc.tankSize=this.tank.tank.size,this.calc.used=this.units.imperialUnits?this.units.toBar(2200):150}loadState(){let e=this.viewStates.loadView(Bi.sac);e||(e=this.createState()),this.calc.depth=e.avgDepth,this.tank.workingPressureBars=e.workPressure,this.calc.tankSize=e.tankSize,this.tank.tank.size=this.calc.tankSize,this.calc.used=e.used,this.calc.duration=e.duration}saveState(){const e=this.createState();this.viewStates.saveView(e)}createState(){return{avgDepth:this.calc.depth,tankSize:this.calc.tankSize,workPressure:this.tank.workingPressureBars,used:this.calc.used,duration:this.calc.duration,id:Bi.sac}}static#e=this.\u0275fac=function(r){return new(r||t)(lt(Qa),lt(Ls),lt(ss),lt(Dm),lt($c),lt(KG),lt(jr),lt(q1),lt(Ho))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-sac"]],decls:41,vars:27,consts:[[1,"mt-5"],[1,"row"],[1,"col","col-sm-8","col-md-6","col-lg-5","col-xl-4","col-xxl-3","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[3,"formGroup"],[1,"mb-4"],["role","group",1,"btn-group","mb-3"],["type","button",1,"btn",3,"click"],[1,"pt-2","mb-4"],["for","depth","mdbLabel","",1,"form-label"],["formControlName","depth","name","depth","id","depth","type","number","step","1",1,"form-control",3,"input","min","max"],[1,"invalid-feedback","position-absolute"],["for","tank","mdbLabel","",1,"form-label"],["controlName","tankSize",3,"sizeChange","applyTemplate","tank","sizeForm"],["class","text-danger form-text position-absolute",4,"ngIf"],["class","pt-2 mb-4",4,"ngIf"],[4,"ngIf"],[1,"form-group","mt-2"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button","class","btn btn-secondary",3,"click",4,"ngIf"],[1,"text-danger","form-text","position-absolute"],["formControlName","workPressure","name","workPressure","id","workPressure","type","number","step","1",1,"form-control",3,"input","min","max"],["for","duration","mdbLabel","",1,"form-label"],["formControlName","duration","name","duration","id","duration","type","number","step","1",1,"form-control",3,"input","min","max"],["for","used","mdbLabel","",1,"form-label"],["formControlName","used","name","used","id","used","type","number","step","1",1,"form-control",3,"input","min","max"],["for","sac","mdbLabel","",1,"form-label"],["formControlName","rmv","name","sac","id","sac","type","number","step","1","aria-describedby","rmvDescribe",1,"form-control",3,"input","min","max"],["id","rmvDescribe",1,"form-text"],["id","sac",1,"form-control",3,"readonly","value"],[1,"form-text","text-muted"],["id","used",1,"form-control",3,"readonly","value"],["id","duration",1,"form-control",3,"readonly","value"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(r,i){1&r&&(be(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),un(5,"fa-icon",5),be(6,"span"),Ge(7,"Respiratory minute volume"),we()(),be(8,"div",6)(9,"form",7)(10,"div",8),Ge(11),we(),be(12,"div",9)(13,"button",10),dn("click",function(){return i.toSac()}),Ge(14,"RMV"),we(),be(15,"button",10),dn("click",function(){return i.toUsed()}),Ge(16,"Used"),we(),be(17,"button",10),dn("click",function(){return i.toDuration()}),Ge(18,"Duration"),we()(),be(19,"div",11)(20,"label",12),Ge(21),we(),be(22,"input",13),dn("input",function(){return i.inputChanged()}),we(),be(23,"div",14),Ge(24),we()(),be(25,"div",11)(26,"label",15),Ge(27),we(),be(28,"app-tank-size",16),dn("sizeChange",function(){return i.inputChanged()})("applyTemplate",function(s){return i.applyTemplate(s)}),we(),zn(29,qIe,2,1,"div",17),we(),zn(30,ePe,6,6,"div",18)(31,tPe,7,5,"ng-container",19)(32,nPe,7,6,"ng-container",19)(33,rPe,10,13,"ng-container",19)(34,iPe,8,8,"ng-container",19)(35,aPe,5,3,"ng-container",19)(36,sPe,5,2,"ng-container",19),we()()(),be(37,"div",20)(38,"button",21),dn("click",function(){return i.location.back()}),Ge(39,"Back"),we(),zn(40,oPe,2,0,"button",22),we()()()()),2&r&&(de(5),Ye("icon",i.calcIcon),de(4),Ye("formGroup",i.formSac),de(2),_r(i.depthConverterWarning),de(2),lr("btn-primary",i.calc.inSac),de(2),lr("btn-primary",i.calc.inUsed),de(2),lr("btn-primary",i.calc.inDuration),de(4),ln("Average depth [",i.units.length,"]:"),de(),lr("is-invalid",i.depthInvalid),Ye("min",i.ranges.depth[0])("max",i.ranges.depth[1]),de(2),ln("Needs to be number ",i.ranges.depthLabel," "),de(3),ln("Tank size [",i.units.volume,"]:"),de(),Ye("tank",i.tank)("sizeForm",i.formSac),de(),Ye("ngIf",i.tankInvalid),de(),Ye("ngIf",i.units.imperialUnits),de(),Ye("ngIf",!i.calc.inDuration),de(),Ye("ngIf",!i.calc.inUsed),de(),Ye("ngIf",!i.calc.inSac),de(),Ye("ngIf",i.calc.inSac),de(),Ye("ngIf",i.calc.inUsed),de(),Ye("ngIf",i.calc.inDuration),de(4),Ye("ngIf",!i.formSac.invalid))},dependencies:[ji,fa,P2,ja,xs,Cs,Ya,ws,Ms,Ha,ps,y1,Yu,hs]})}return t})();class cPe{static lowMod(n){return()=>n()?{lowMod:!0}:null}}let JG=(()=>{class t{constructor(){this._pO2=1.4,this._fO2=21,this._mod=30,this.calculateCurrentMod=()=>{this._mod=this.nitroxCalculator.mod(this._pO2,this._fO2)},this.calculateBestMix=()=>{this._fO2=this.nitroxCalculator.bestMix(this._pO2,this._mod)},this.calculatePartial=()=>{this._pO2=this.nitroxCalculator.partialPressure(this._fO2,this._mod)};const e=Lo.simple();this.nitroxCalculator=new jU(e,.21),this.calculate=this.calculateCurrentMod}get inMod(){return this.calculate===this.calculateCurrentMod}get inBestMix(){return this.calculate===this.calculateBestMix}get inPO2(){return this.calculate===this.calculatePartial}get pO2(){return this._pO2}get fO2(){return this._fO2}get ead(){return this.nitroxCalculator.ead(this._fO2,this._mod)}get mod(){return this._mod}set pO2(e){this._pO2=e,this.calculate()}set fO2(e){this._fO2=e,this.calculate()}set mod(e){this._mod=e,this.calculate()}toMod(){this.calculate=this.calculateCurrentMod}toBestMix(){this.calculate=this.calculateBestMix}toPO2(){this.calculate=this.calculatePartial}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})();function lPe(t,n){if(1&t){const e=Qr();la(0),be(1,"div",15)(2,"label",16),Ge(3,"ppO2:"),we(),be(4,"input",17),dn("input",function(){return Qn(e),Jn(zt().inputChanged())}),we(),be(5,"div",18),Ge(6,"Needs to be number 0.21-3 "),we()(),ua()}if(2&t){const e=zt();de(4),lr("is-invalid",e.pO2Invalid),Ye("min",e.ranges.ppO2[0])("max",e.ranges.ppO2[1])}}function uPe(t,n){if(1&t){const e=Qr();la(0),be(1,"div",15)(2,"app-oxygen-dropdown",19),dn("gasChange",function(){return Qn(e),Jn(zt().inputChanged())})("standardGasApplied",function(){return Qn(e),Jn(zt().inputChanged())}),we()(),ua()}if(2&t){const e=zt();de(2),Ye("showBestMix",!1)("nitroxForm",e.nitroxForm)}}function fPe(t,n){if(1&t){const e=Qr();la(0),be(1,"div",15)(2,"label",20),Ge(3),we(),be(4,"input",21),dn("input",function(){return Qn(e),Jn(zt().inputChanged())}),we(),be(5,"div",18),Ge(6),we(),be(7,"div",22),Ge(8),Bn(9,"number"),we()(),ua()}if(2&t){const e=zt();de(3),ln("MOD [",e.units.length,"]:"),de(),lr("is-invalid",e.modInvalid),Ye("min",e.ranges.depth[0])("max",e.ranges.depth[1]),de(2),ln("Needs to be number ",e.ranges.depthLabel,""),de(),lr("invisible",e.modInvalid),de(),E1(" EAD: ",Hn(9,10,e.ead,"1.0-1")," ",e.units.length,"")}}function dPe(t,n){if(1&t&&(la(0),be(1,"div",15)(2,"label",20),Ge(3),we(),un(4,"input",23),Bn(5,"number"),be(6,"small",24),Ge(7),Bn(8,"number"),we()(),ua()),2&t){const e=zt();de(3),ln("MOD [",e.units.length,"]:"),de(),Ye("readonly",!0)("value",Hn(5,5,e.calcMod,"1.0-1")),de(3),E1("EAD: ",Hn(8,8,e.ead,"1.0-1")," ",e.units.length,"")}}function hPe(t,n){if(1&t&&(la(0),be(1,"div",15)(2,"label",25),Ge(3,"O2 [%]:"),we(),un(4,"input",26),Bn(5,"number"),we(),ua()),2&t){const e=zt();de(4),Ye("readonly",!0)("value",Hn(5,2,e.calc.fO2,"1.0-1"))}}function pPe(t,n){if(1&t&&(la(0),be(1,"div",15)(2,"label",16),Ge(3,"ppO2:"),we(),un(4,"input",27),Bn(5,"number"),we(),ua()),2&t){const e=zt();de(4),Ye("readonly",!0)("value",Hn(5,2,e.calc.pO2,"1.0-2"))}}function mPe(t,n){1&t&&(la(0),be(1,"div",28),Ge(2," Too small final operation depth. Increase ppO2 or reduce Percent O2. "),we(),ua())}function vPe(t,n){if(1&t){const e=Qr();be(0,"button",29),dn("click",function(){return Qn(e),Jn(zt().use())}),Ge(1,"Use"),we()}}let qG=(()=>{class t{constructor(e,r,i,a,s,l,x,F){this.calc=e,this.units=r,this.location=i,this.fb=a,this.inputs=s,this.validators=l,this.schedules=x,this.viewStates=F,this.calcIcon=Mm,this.depthConverterWarning=$u.depthConverterWarning,this.failingMod=!1,this.loadState(),this.saveState()}get ranges(){return this.units.ranges}get ead(){return this.units.fromMeters(this.calc.ead)}get pO2Invalid(){return this.inputs.controlInValid(this.nitroxForm.controls.pO2)}get modInvalid(){return this.inputs.controlInValid(this.nitroxForm.controls.mod)}get fO2Invalid(){return this.inputs.controlInValid(this.nitroxForm.controls.fO2)}get calcMod(){return this.failingMod?0:this.units.fromMeters(this.calc.mod)}ngOnInit(){this.fO2Control=this.fb.control(xn.round(this.calc.fO2,1),this.validators.nitroxOxygen),this.pO2Control=this.fb.control(xn.round(this.calc.pO2,2),this.validators.ppO2),this.modControl=this.fb.control(xn.round(this.calcMod,1),this.validators.depth),this.nitroxForm=this.fb.group({},{validators:cPe.lowMod(()=>this.failingMod)}),this.toMod()}inputChanged(){try{if(this.failingMod=!1,this.nitroxForm.updateValueAndValidity(),this.nitroxForm.invalid)return;const e=this.nitroxForm.value;this.calc.pO2=Number(e.pO2),this.calc.fO2=Number(e.fO2);const r=Number(e.mod);this.calc.mod=this.units.toMeters(r),this.reload(),this.saveState()}catch{this.failingMod=!0,this.nitroxForm.updateValueAndValidity()}}use(){this.nitroxForm.invalid||this.schedules.selected.applyNitrox(this.calc.fO2,this.calc.pO2)}toMod(){this.calc.toMod(),this.enableAll(),this.nitroxForm.removeControl("mod")}toBestMix(){this.calc.toBestMix(),this.enableAll(),this.nitroxForm.removeControl("fO2")}toPO2(){this.calc.toPO2(),this.enableAll(),this.nitroxForm.removeControl("pO2")}enableAll(){this.nitroxForm.addControl("mod",this.modControl),this.nitroxForm.addControl("fO2",this.fO2Control),this.nitroxForm.addControl("pO2",this.pO2Control),this.reload()}reload(){this.nitroxForm.patchValue({fO2:xn.round(this.calc.fO2,1),pO2:xn.round(this.calc.pO2,2),mod:xn.round(this.calcMod,1)})}loadState(){let e=this.viewStates.loadView(Bi.nitrox);e||(e=this.createState()),this.calc.fO2=e.fO2,this.calc.pO2=e.pO2}saveState(){const e=this.createState(this.calc.fO2,this.calc.pO2);this.viewStates.saveView(e)}createState(e=21,r=1.4){return{fO2:e,pO2:r,id:Bi.nitrox}}static#e=this.\u0275fac=function(r){return new(r||t)(lt(JG),lt(jr),lt(q1),lt(ss),lt(Ls),lt(Qa),lt(Ka),lt(Ho))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-nitrox"]],decls:30,vars:17,consts:[[1,"row","mt-5"],[1,"col","col-sm-8","col-md-6","col-lg-5","col-xl-4","col-xxl-3","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[3,"formGroup"],[1,"mb-4"],["role","group",1,"btn-group","mb-3"],["type","button",1,"btn",3,"click"],[4,"ngIf"],[1,"pt-2","pb-4","pe-3","mb-4"],[1,"form-group","mt-3"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button","class","btn btn-secondary",3,"click",4,"ngIf"],[1,"pt-2","mb-4"],["for","pO2","mdbLabel","",1,"form-label"],["name","pO2","id","pO2","type","number","formControlName","pO2","step","0.1",1,"form-control",3,"input","min","max"],[1,"invalid-feedback","position-absolute"],["controlName","fO2",3,"gasChange","standardGasApplied","showBestMix","nitroxForm"],["for","mod","mdbLabel","",1,"form-label"],["name","mod","id","mod","type","number","formControlName","mod","step","1","aria-describedby","eadDescribe",1,"form-control",3,"input","min","max"],["id","eadDescribe",1,"form-text"],["id","mod",1,"form-control",3,"readonly","value"],[1,"form-text","text-muted"],["for","fO2","mdbLabel","",1,"form-label"],["id","fO2",1,"form-control",3,"readonly","value"],["id","pO2",1,"form-control",3,"readonly","value"],[1,"text-danger","form-text","position-absolute"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(r,i){1&r&&(be(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),un(4,"fa-icon",4),be(5,"span"),Ge(6,"Nitrox calculator"),we()(),be(7,"div",5)(8,"form",6)(9,"div",7),Ge(10),we(),be(11,"div",8)(12,"button",9),dn("click",function(){return i.toMod()}),Ge(13,"MOD"),we(),be(14,"button",9),dn("click",function(){return i.toBestMix()}),Ge(15,"Best mix"),we(),be(16,"button",9),dn("click",function(){return i.toPO2()}),Ge(17,"ppO2"),we()(),zn(18,lPe,7,4,"ng-container",10)(19,uPe,3,2,"ng-container",10)(20,fPe,10,13,"ng-container",10)(21,dPe,9,11,"ng-container",10)(22,hPe,6,5,"ng-container",10)(23,pPe,6,5,"ng-container",10),be(24,"div",11),zn(25,mPe,3,0,"ng-container",10),we()()()(),be(26,"div",12)(27,"button",13),dn("click",function(){return i.location.back()}),Ge(28,"Back"),we(),zn(29,vPe,2,0,"button",14),we()()()),2&r&&(de(4),Ye("icon",i.calcIcon),de(4),Ye("formGroup",i.nitroxForm),de(2),_r(i.depthConverterWarning),de(2),lr("btn-primary",i.calc.inMod),de(2),lr("btn-primary",i.calc.inBestMix),de(2),lr("btn-primary",i.calc.inPO2),de(2),Ye("ngIf",!i.calc.inPO2),de(),Ye("ngIf",!i.calc.inBestMix),de(),Ye("ngIf",!i.calc.inMod),de(),Ye("ngIf",i.calc.inMod),de(),Ye("ngIf",i.calc.inBestMix),de(),Ye("ngIf",i.calc.inPO2),de(2),Ye("ngIf",null==i.nitroxForm.errors?null:i.nitroxForm.errors.lowMod),de(4),Ye("ngIf",!i.nitroxForm.invalid))},dependencies:[ji,fa,P2,ja,xs,Cs,Ya,ws,Ms,Ha,ps,y1,ju,hs]})}return t})();class yc{static#e=this.rootUrl="https://github.com/jirkapok/GasPlanner";static#t=this.rootHelpUrl=yc.rootUrl+"/blob/master/doc";get projectUrl(){return yc.rootUrl}get standardGases(){return yc.rootHelpUrl+"/standard_gases.md"}get helpUrl(){return yc.rootHelpUrl+"/readme.md"}static#n=this.\u0275fac=function(e){return new(e||yc)};static#r=this.\u0275prov=nn({token:yc,factory:yc.\u0275fac})}let DM=(()=>{class t{constructor(){this.appVersion="0.1.30"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-info"]],decls:2,vars:1,consts:[[1,"text-muted"]],template:function(r,i){1&r&&(be(0,"span",0),Ge(1),we()),2&r&&(de(),ln("\xa9 2020 JIRI POKORNY, Version ",i.appVersion,""))}})}return t})(),e$=(()=>{class t{constructor(e){this.urls=e,this.exclamation=m4}static#e=this.\u0275fac=function(r){return new(r||t)(lt(yc))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-about"]],decls:17,vars:2,consts:[[1,"jumbotron","m-4","pt-5"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","mt-4"],[1,"me-2","fa-lg",3,"icon"],[1,"mt-4"],["target","_blank",1,"btn","btn-primary","btn-lg",3,"href"]],template:function(r,i){1&r&&(be(0,"div",0)(1,"h1"),Ge(2,"About Gas Planner"),we(),be(3,"p"),Ge(4,"Open source Scuba diving application to help divers plan their dives."),un(5,"br"),Ge(6," Plan your dive and dive your plan!"),we(),un(7,"app-info"),be(8,"div",1),un(9,"fa-icon",2),be(10,"span")(11,"strong"),Ge(12,"Disclaimer:"),we(),Ge(13," None of the authors, contributors, administrators, or anyone else connected with this project can be responsible for your use of the information provided by this application or linked from these web pages. Use the results at your own risk."),we()(),be(14,"div",3)(15,"a",4),Ge(16,"Github project"),we()()()),2&r&&(de(9),Ye("icon",i.exclamation),de(6),S8("href",i.urls.projectUrl,z0))},dependencies:[fa,DM]})}return t})(),t$=(()=>{class t{calculate(e,r){const i=[],a=Lo.simple(),s=e.mod(r.maxPpO2);let l=a.fromBar(s);l>42&&(l=42);const x=new jd;for(let F=12;F<=l;F+=r.decoStopDistance){const oe=C4.forSimpleDive(F,e,r),Le=x.noDecoLimit(oe);i.push({depth:F,limit:Le})}return i}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})();function yPe(t,n){1&t&&(be(0,"tr")(1,"td",22),Ge(2," No NDL limits found in meaningful depth range."),un(3,"br"),Ge(4," Change gas O2 content. "),we()())}function bPe(t,n){if(1&t&&(be(0,"tr")(1,"td"),Ge(2),we(),be(3,"td"),Ge(4),Bn(5,"number"),we()()),2&t){const e=n.$implicit;de(2),_r(e.depth),de(2),_r(Hn(5,2,e.limit,"1.0-0"))}}let n$=(()=>{class t{constructor(e,r,i,a,s,l,x){this.units=e,this.location=r,this.ndl=i,this.viewStates=a,this.fb=s,this.validators=l,this.icon=YC,this.isComplex=!1,this.limits=[],this.tank=new hc(Xa.createDefault(),this.units);const F=this.units.defaults.tanks;this.tank.workingPressure=F.primary.workingPressure,this.tank.size=F.primary.size,this.options=new Iu;const oe=x.selectedOptions.getOptions();this.options.loadFrom(oe),this.toxicity=new Zd(this.options)}get noResults(){return 0===this.limits.length}ngOnInit(){this.loadState(),this.form=this.fb.group({o2:[xn.round(this.tank.o2,1),this.validators.nitroxOxygen],maxPpO2:[xn.round(this.options.maxPpO2,2),this.validators.ppO2],altitude:[this.units.fromMeters(this.options.altitude),this.validators.altitude],gfLow:[xn.round(100*this.options.gfLow,1),this.validators.gradients],gfHigh:[xn.round(100*this.options.gfHigh,1),this.validators.gradients]}),this.calculate()}calculate(){if(!this.form.invalid){this.limits=this.ndl.calculate(this.tank.tank.gas,this.options);for(let r=0;r<this.limits.length;r++)this.limits[r].depth=this.units.defaults.stopsDistance*(r+4);this.saveState()}}ppO2Changed(e){this.options.maxPpO2=e,this.calculate()}salinityChanged(e){this.options.salinity=e,this.calculate()}altitudeChanged(e){this.options.altitude=e,this.calculate()}gradientsChanged(e){this.options.gfLow=e.gfLow,this.options.gfHigh=e.gfHeigh,this.calculate()}loadState(){let e=this.viewStates.loadView(Bi.ndl);e||(e=this.createState()),this.tank.o2=e.fO2,this.options.maxPpO2=e.pO2,this.options.altitude=e.altitude,this.options.salinity=e.salinity,this.options.gfLow=e.gfLow,this.options.gfHigh=e.gfHigh}saveState(){const e=this.createState();this.viewStates.saveView(e)}createState(){return{fO2:this.tank.o2,pO2:this.options.maxPpO2,altitude:this.options.altitude,salinity:this.options.salinity,gfLow:this.options.gfLow,gfHigh:this.options.gfHigh,id:Bi.ndl}}static#e=this.\u0275fac=function(r){return new(r||t)(lt(jr),lt(q1),lt(t$),lt(Ho),lt(ss),lt(Qa),lt(Ka))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-ndl-limits"]],decls:38,vars:18,consts:[[1,"row","mt-5"],[1,"col","col-12","col-sm-7","col-md-6","col-lg-5","col-xl-4","col-xxl-3","mt-3"],[1,"card","ndl-minheight"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[1,"pt-2","mb-4"],[3,"gasChange","standardGasApplied","tank","showBestMix","toxicity","nitroxForm"],["label","Maximum ppO2:",3,"ppO2Change","maxPpO2","pO2Form"],[3,"inputChange","salinity"],[3,"inputChange","altitude","altitudeForm"],[1,"pt-2"],[3,"inputChange","gfLow","gfHigh","gfForm","simple","showTitle"],[1,"col","col-12","col-sm-5","col-md-5","col-lg-3","col-xxl-2","mt-3"],[1,"table","table-sm","p-0"],[1,"table-light"],[1,"fw-bold","px-1"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"row"],[1,"form-group","mt-3"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["colspan","2"]],template:function(r,i){1&r&&(be(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),un(4,"fa-icon",4),be(5,"span"),Ge(6,"Options"),we()(),be(7,"div",5)(8,"div",6)(9,"app-oxygen",7),dn("gasChange",function(){return i.calculate()})("standardGasApplied",function(){return i.calculate()}),we()(),be(10,"div",6)(11,"app-pp-o2",8),dn("ppO2Change",function(s){return i.ppO2Changed(s)}),we()(),be(12,"div",6)(13,"app-salinity",9),dn("inputChange",function(s){return i.salinityChanged(s)}),we()(),be(14,"div",6)(15,"app-altitude",10),dn("inputChange",function(s){return i.altitudeChanged(s)}),we()(),be(16,"div",11)(17,"app-gradients",12),dn("inputChange",function(s){return i.gradientsChanged(s)}),we()()()()(),be(18,"div",13)(19,"div",2)(20,"div",3)(21,"span"),Ge(22,"No decompression limits"),we()(),be(23,"div",5)(24,"table",14)(25,"thead",15)(26,"tr")(27,"th",16),Ge(28),we(),be(29,"th",16),Ge(30,"Limit [min]"),we()()(),be(31,"tbody"),zn(32,yPe,5,0,"tr",17)(33,bPe,6,5,"tr",18),we()()()()()(),be(34,"div",19)(35,"div",20)(36,"button",21),dn("click",function(){return i.location.back()}),Ge(37,"Back"),we()()()),2&r&&(de(4),Ye("icon",i.icon),de(5),Ye("tank",i.tank)("showBestMix",!1)("toxicity",i.toxicity)("nitroxForm",i.form),de(2),Ye("maxPpO2",i.options.maxPpO2)("pO2Form",i.form),de(2),Ye("salinity",i.options.salinity),de(2),Ye("altitude",i.options.altitude)("altitudeForm",i.form),de(2),Ye("gfLow",i.options.gfLow)("gfHigh",i.options.gfHigh)("gfForm",i.form)("simple",!1)("showTitle",!0),de(11),ln("Depth [",i.units.length,"]"),de(4),Ye("ngIf",i.noResults),de(),Ye("ngForOf",i.limits))},dependencies:[Fo,ji,fa,Gm,xM,TM,$m,MM,hs],styles:[".ndl-minheight[_ngcontent-%COMP%]{min-height:690px}"]})}return t})(),r$=(()=>{class t{constructor(e,r,i,a,s,l){this.fb=e,this.validators=r,this.inputs=i,this.units=a,this.location=s,this.viewStates=l,this.calcIcon=Sx,this.calc=new Uze,this.loadState(),this.saveState()}get ranges(){return this.units.ranges}get pressureInvalid(){return this.inputs.controlInValid(this.altitudeForm.controls.pressure)}get actualDepthInvalid(){return this.inputs.controlInValid(this.altitudeForm.controls.actualDepth)}get calcAltitude(){const e=this.units.fromMeters(this.calc.altitude);return xn.round(e)}get calcPressure(){const e=this.units.fromBar(this.calc.pressure);return xn.round(e,6)}get calcAltitudeDepth(){const e=this.units.fromMeters(this.calc.altitudeDepth);return xn.round(e,0)}get theoreticalDepth(){const e=this.units.fromMeters(this.calc.theoreticalDepth);return xn.round(e,2)}ngOnInit(){this.altitudeForm=this.fb.group({pressure:[this.calcPressure,this.validators.rangeFor(this.ranges.altitudePressure)],altitude:[this.calcAltitude,this.validators.altitude],actualDepth:[this.calcAltitudeDepth,this.validators.depth]})}pressureChanged(){if(this.altitudeForm.invalid)return;const r=this.units.toBar(Number(this.altitudeForm.value.pressure));this.calc.pressure=r,this.altitudeForm.patchValue({altitude:this.calcAltitude}),this.saveState()}altitudeChanged(e){this.altitudeForm.invalid||(this.calc.altitude=e,this.saveState())}inputChanged(){if(this.altitudeForm.invalid)return;const r=this.units.toMeters(Number(this.altitudeForm.value.actualDepth));this.calc.altitudeDepth=r,this.saveState()}loadState(){let e=this.viewStates.loadView(Bi.altitude);e||(e=this.createState()),this.calc.altitudeDepth=e.actualDepth,this.calc.altitude=e.altitude}saveState(){const e=this.createState();this.viewStates.saveView(e)}createState(){return{altitude:this.calc.altitude,actualDepth:this.calc.altitudeDepth,id:Bi.altitude}}static#e=this.\u0275fac=function(r){return new(r||t)(lt(ss),lt(Qa),lt(Ls),lt(jr),lt(q1),lt(Ho))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-altitude-calc"]],decls:31,vars:27,consts:[[1,"row","mt-5"],[1,"col","col-sm-8","col-md-6","col-lg-5","col-xl-4","col-xxl-3","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[3,"formGroup"],[1,"pt-2","mb-4"],["for","pressure","mdbLabel","",1,"form-label"],["name","pressure","id","pressure","type","number","formControlName","pressure","step","0.01",1,"form-control",3,"input","min","max","value"],[1,"invalid-feedback","position-absolute"],[3,"inputChange","altitude","altitudeForm"],["for","actualDepth","mdbLabel","",1,"form-label"],["name","actualDepth","id","actualDepth","type","number","formControlName","actualDepth","step","1",1,"form-control",3,"input","min","max"],["name","theoreticalDepth","id","theoreticalDepth","type","number","readonly","",1,"form-control","readonly",3,"readonly","value"],[1,"form-group","mt-3"],["type","button",1,"btn","btn-primary","me-2",3,"click"]],template:function(r,i){1&r&&(be(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),un(4,"fa-icon",4),be(5,"span"),Ge(6,"Altitude calculator"),we()(),be(7,"div",5)(8,"form",6)(9,"div")(10,"div",7)(11,"label",8),Ge(12),we(),be(13,"input",9),Bn(14,"number"),dn("input",function(){return i.pressureChanged()}),we(),be(15,"div",10),Ge(16),we()()(),be(17,"div")(18,"app-altitude",11),dn("inputChange",function(s){return i.altitudeChanged(s)}),we()(),be(19,"div",7)(20,"label",12),Ge(21),we(),be(22,"input",13),dn("input",function(){return i.inputChanged()}),we()(),be(23,"div",7)(24,"label",12),Ge(25),we(),un(26,"input",14),Bn(27,"number"),we()()()(),be(28,"div",15)(29,"button",16),dn("click",function(){return i.location.back()}),Ge(30,"Back"),we()()()()),2&r&&(de(4),Ye("icon",i.calcIcon),de(4),Ye("formGroup",i.altitudeForm),de(4),ln("Atmospheric pressure [",i.units.pressure,"]:"),de(),lr("is-invalid",i.pressureInvalid),Ye("min",i.ranges.altitudePressure[0])("max",i.ranges.altitudePressure[1])("value",Hn(14,21,i.calcPressure,"1.0-6")),de(3),Ws("Needs to be number ",i.ranges.altitudePressure[0]," - ",i.ranges.altitudePressure[1]," ",i.units.pressure," "),de(2),Ye("altitude",i.calc.altitude)("altitudeForm",i.altitudeForm),de(3),ln("Actual depth [",i.units.length,"]:"),de(),lr("is-invalid",i.actualDepthInvalid),Ye("min",i.ranges.depth[0])("max",i.ranges.depth[1]),de(3),ln("Theoretical sea level depth [",i.units.length,"]:"),de(),Ye("readonly",!0)("value",Hn(27,24,i.theoreticalDepth,"1.0-2")))},dependencies:[fa,P2,ja,xs,Cs,Ya,ws,Ms,Ha,ps,y1,Gm,hs]})}return t})();function CPe(t,n){if(1&t&&(be(0,"div",19),Ge(1),we()),2&t){const e=zt();de(),ln("Needs to be number ",e.ranges.tankSizeLabel,"")}}function xPe(t,n){if(1&t){const e=Qr();be(0,"div",7)(1,"label",20),Ge(2),we(),be(3,"input",21),dn("input",function(){return Qn(e),Jn(zt().inputChanged())}),we(),be(4,"div",14),Ge(5),we()()}if(2&t){const e=zt();de(2),ln("Working pressure [",e.units.pressure,"]: "),de(),lr("is-invalid",e.workPressureInvalid),Ye("min",e.ranges.tankPressure[0])("max",e.ranges.tankPressure[1]),de(2),ln("Needs to be number ",e.ranges.tankPressureLabel,"")}}let i$=(()=>{class t{constructor(e,r,i,a,s,l){this.fb=e,this.validators=r,this.inputs=i,this.units=a,this.location=s,this.viewStates=l,this.calcIcon=JC,this.tank=new hc(Xa.createDefault(),this.units),this.loadState(),this.saveState()}get ranges(){return this.units.ranges}get consumedInvalid(){return this.inputs.controlInValid(this.weightForm.controls.consumed)}get workPressureInvalid(){return this.inputs.controlInValid(this.weightForm.controls.workPressure)}get tankSizeInvalid(){const e=this.weightForm.get("tankSize");return this.inputs.controlInValid(e)}get weight(){let e=ske.tankVolumeWeight(this.tank.tank);return e=this.units.fromKilogram(e),xn.round(e,1)}get consumed(){return this.units.fromBar(this.tank.tank.consumed)}ngOnInit(){if(this.weightForm=this.fb.group({consumed:[this.consumed,this.validators.rangeFor(this.ranges.consumed)]}),this.units.imperialUnits){const e=this.fb.control(xn.round(this.tank.workingPressure,1),this.validators.tankPressure);this.weightForm.addControl("workPressure",e)}}applyTemplate(e){this.weightForm.invalid||(this.weightForm.patchValue({workPressure:e.workingPressure}),this.inputChanged())}inputChanged(){if(this.weightForm.invalid)return;const e=this.weightForm.value,r=Number(e.consumed);this.tank.tank.consumed=this.units.toBar(r),this.setWorkingPressure(Number(e.workPressure)),this.saveState()}loadState(){let e=this.viewStates.loadView(Bi.weight);e||(e=this.createState()),this.tank.tank.size=e.tankSize;const r=this.units.fromBar(e.workPressure);this.setWorkingPressure(r),this.tank.tank.consumed=e.consumed}saveState(){const e=this.createState();this.viewStates.saveView(e)}createState(){const e=this.tank.tank;return{tankSize:e.size,workPressure:this.tank.workingPressureBars,consumed:e.consumed,id:Bi.weight}}setWorkingPressure(e){this.units.imperialUnits&&(this.tank.workingPressure=xn.round(e,1))}static#e=this.\u0275fac=function(r){return new(r||t)(lt(ss),lt(Qa),lt(Ls),lt(jr),lt(q1),lt(Ho))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-weight-calc"]],decls:30,vars:19,consts:[[1,"row","mt-5"],[1,"col","col-sm-8","col-md-6","col-lg-5","col-xl-4","col-xxl-3","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[3,"formGroup"],[1,"pt-2","mb-4"],["for","tankSize","mdbLabel","",1,"form-label"],["controlName","tankSize",3,"sizeChange","applyTemplate","sizeForm","tank"],["class","text-danger form-text position-absolute",4,"ngIf"],["class","pt-2 mb-4",4,"ngIf"],["for","consumed","mdbLabel","",1,"form-label"],["type","number","id","consumed","formControlName","consumed","required","","step","1",1,"form-control",3,"input","min","max"],[1,"invalid-feedback","position-absolute"],["for","weight","mdbLabel","",1,"form-label"],["name","weight","id","weight","type","number","readonly","",1,"form-control","readonly",3,"readonly","value"],[1,"form-group","mt-3"],["type","button",1,"btn","btn-primary","me-2",3,"click"],[1,"text-danger","form-text","position-absolute"],["for","workPressure","mdbLabel","",1,"form-label"],["type","number","id","workPressure","formControlName","workPressure","required","","step","1",1,"form-control",3,"input","min","max"]],template:function(r,i){1&r&&(be(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),un(4,"fa-icon",4),be(5,"span"),Ge(6,"Weight calculator"),we()(),be(7,"div",5)(8,"form",6)(9,"div")(10,"div",7)(11,"label",8),Ge(12),we(),be(13,"app-tank-size",9),dn("sizeChange",function(){return i.inputChanged()})("applyTemplate",function(s){return i.applyTemplate(s)}),we(),zn(14,CPe,2,1,"div",10),we()(),zn(15,xPe,6,6,"div",11),be(16,"div",7)(17,"label",12),Ge(18),we(),be(19,"input",13),dn("input",function(){return i.inputChanged()}),we(),be(20,"div",14),Ge(21),we()(),be(22,"div",7)(23,"label",15),Ge(24),we(),un(25,"input",16),Bn(26,"number"),we()()()(),be(27,"div",17)(28,"button",18),dn("click",function(){return i.location.back()}),Ge(29,"Back"),we()()()()),2&r&&(de(4),Ye("icon",i.calcIcon),de(4),Ye("formGroup",i.weightForm),de(4),ln("Tank size [",i.units.volume,"]:"),de(),Ye("sizeForm",i.weightForm)("tank",i.tank),de(),Ye("ngIf",i.tankSizeInvalid),de(),Ye("ngIf",i.units.imperialUnits),de(3),ln("Consumed [",i.units.pressure,"]: "),de(),lr("is-invalid",i.consumedInvalid),Ye("min",i.ranges.consumed[0])("max",i.ranges.consumed[1]),de(2),ln("Needs to be number ",i.ranges.consumedLabel,""),de(3),ln("Lost weight [",i.units.weight,"]:"),de(),Ye("readonly",!0)("value",Hn(26,16,i.weight,"1.0-2")))},dependencies:[ji,fa,P2,ja,xs,Cs,Ya,m1,ws,Ms,Ha,ps,y1,Yu,hs]})}return t})();class MPe{constructor(n){this.units=n,this.calc=new qze}get tank(){return this.calc.tank}get ppO2(){return this.calc.ppO2}get ppHe(){return this.calc.ppHe}get ppN2(){return this.calc.ppN2}get totalPp(){return this.calc.totalPp}get minDepth(){return this.units.fromMeters(this.calc.minDepth)}get maxDepth(){return this.units.fromMeters(this.calc.maxDepth)}get end(){return this.units.fromMeters(this.calc.end)}get mnd(){return this.units.fromMeters(this.calc.mnd)}get density(){return this.units.fromGramPerLiter(this.calc.density)}get depth(){return this.units.fromMeters(this.calc.depth)}get minPpO2(){return aa.minPpO2}get maxPpO2(){return this.calc.maxPpO2}get oxygenNarcotic(){return this.calc.oxygenNarcotic}get minPpO2Exceeded(){return this.calc.minPpO2Exceeded}get maxPpO2Exceeded(){return this.calc.maxPpO2Exceeded}get mndExceeded(){return this.calc.mndExceeded}get densityExceeded(){return this.calc.densityExceeded}get maxDensity(){return this.units.fromGramPerLiter(Bu.recommendedMaximum)}get mndLimit(){return this.units.fromMeters(this.calc.narcoticDepthLimit)}set depth(n){this.calc.depth=this.units.toMeters(n)}set maxPpO2(n){this.calc.maxPpO2=n}set mndLimit(n){this.calc.narcoticDepthLimit=this.units.toMeters(n)}switchOxygenNarcotic(){this.calc.oxygenNarcotic=!this.calc.oxygenNarcotic}}function wPe(t,n){if(1&t&&(be(0,"div",33),Ge(1),we()),2&t){const e=zt();de(),ln("Needs to be number ",e.ranges.tankHeLabel,"")}}function _Pe(t,n){1&t&&un(0,"fa-icon",34),2&t&&Ye("icon",zt().warningIcon)}function LPe(t,n){1&t&&un(0,"fa-icon",34),2&t&&Ye("icon",zt().warningIcon)}function SPe(t,n){1&t&&un(0,"fa-icon",34),2&t&&Ye("icon",zt().warningIcon)}function TPe(t,n){1&t&&un(0,"fa-icon",34),2&t&&Ye("icon",zt().warningIcon)}function DPe(t,n){if(1&t&&(be(0,"div",35),un(1,"fa-icon",36),be(2,"strong"),Ge(3,"Minimum depth: "),we(),be(4,"span"),Ge(5),we()()),2&t){const e=zt();de(),Ye("icon",e.warningIcon),de(4),ln("Exceeded minimum value of Oxygen partial pressure (",e.calc.minPpO2,"), which defines minimum depth. Add more oxygen content or reduce required depth.")}}function APe(t,n){if(1&t&&(be(0,"div",35),un(1,"fa-icon",36),be(2,"strong"),Ge(3,"Maximum depth: "),we(),be(4,"span"),Ge(5),we()()),2&t){const e=zt();de(),Ye("icon",e.warningIcon),de(4),ln("Exceeded maximum value of Oxygen partial pressure (",e.calc.maxPpO2,"). Increase the maximum ppO2, reduce oxygen content or reduce required depth.")}}function zPe(t,n){if(1&t&&(be(0,"div",35),un(1,"fa-icon",36),be(2,"strong"),Ge(3,"Equivalent narcotic depth: "),we(),be(4,"span"),Ge(5),we()()),2&t){const e=zt();de(),Ye("icon",e.warningIcon),de(4),E1("Exceeded maximum value of narcotic depth (",e.calc.mndLimit," ",e.units.length,") controlled by partial pressure of toxic parts (oxygen and nitrogen). Reduce nitrogen content by adding helium, adding oxygen or reduce required depth.")}}function kPe(t,n){if(1&t&&(be(0,"div",35),un(1,"fa-icon",36),be(2,"strong"),Ge(3,"Maximum gas density: "),we(),be(4,"span"),Ge(5),we()()),2&t){const e=zt();de(),Ye("icon",e.warningIcon),de(4),E1("Exceeded maximum value of gas density (",e.calc.maxDensity," ",e.units.density,"). Reduce oxygen content or add more helium.")}}let a$=(()=>{class t{constructor(e,r,i,a,s,l){this.fb=e,this.validators=r,this.inputs=i,this.units=a,this.location=s,this.viewStates=l,this.calcIcon=Pd,this.warningIcon=m4,this.depthConverterWarning=$u.depthConverterWarning,this.calc=new MPe(this.units),this.loadState(),this.saveState()}get ranges(){return this.units.ranges}get tank(){return this.calc.tank}get gasHeInvalid(){return this.inputs.controlInValid(this.gasForm.controls.he)}get depthInvalid(){return this.inputs.controlInValid(this.gasForm.controls.depth)}get narcoticDepthInvalid(){return this.inputs.controlInValid(this.gasForm.controls.mndLimit)}get nitrox(){return this.tank.n2}ngOnInit(){this.gasForm=this.fb.group({o2:[this.tank.o2,this.validators.rangeFor(this.ranges.trimixOxygen)],he:[this.tank.he,this.validators.rangeFor(this.ranges.tankHe)],maxPO2:[this.calc.maxPpO2,this.validators.rangeFor(this.ranges.ppO2)],depth:[xn.round(this.calc.depth,1),this.validators.rangeFor(this.ranges.depth)],mndLimit:[xn.round(this.calc.mndLimit,1),this.validators.rangeFor(this.ranges.narcoticDepth)]})}standardGasApplied(){this.gasForm.invalid||(this.reloadContent(),this.inputChanged(),this.saveState())}inputChanged(){if(this.gasForm.invalid)return;const e=this.gasForm.value;this.tank.o2=Number(e.o2),this.tank.he=Number(e.he),this.calc.maxPpO2=Number(e.maxPO2),this.calc.depth=Number(e.depth),this.calc.mndLimit=Number(e.mndLimit),this.reloadContent(),this.saveState()}switchOxygenNarcotic(){this.calc.switchOxygenNarcotic(),this.saveState()}reloadContent(){this.gasForm.patchValue({o2:this.tank.o2,he:this.tank.he})}loadState(){let e=this.viewStates.loadView(Bi.gas);e||(e=this.createState()),this.tank.he=e.he,this.tank.o2=e.o2,this.calc.maxPpO2=e.maxPO2,this.calc.depth=this.units.fromMeters(e.depth),e.mndLimit&&(this.calc.mndLimit=this.units.fromMeters(e.mndLimit)),this.calc.oxygenNarcotic!==e.oxygenNarcotic&&this.calc.switchOxygenNarcotic()}saveState(){const e=this.createState();this.viewStates.saveView(e)}createState(){return{o2:this.tank.o2,he:this.tank.he,maxPO2:this.calc.maxPpO2,depth:this.units.toMeters(this.calc.depth),mndLimit:this.units.toMeters(this.calc.mndLimit),oxygenNarcotic:this.calc.oxygenNarcotic,id:Bi.gas}}static#e=this.\u0275fac=function(r){return new(r||t)(lt(ss),lt(Qa),lt(Ls),lt(jr),lt(q1),lt(Ho))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-gas-props-calc"]],decls:124,vars:81,consts:[[1,"row","mt-5"],[1,"col","col-12","col-md-7","col-lg-4","col-xl-5","col-xxl-4","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[3,"formGroup"],[1,"row"],[1,"col-12","col-sm-6","col-lg-12","col-xl-6"],[1,"pt-2","mb-4"],["id","o2Item","controlName","o2",3,"gasChange","standardGasApplied","tank","nitroxForm","showBestMix","showTrimixGases"],[1,"text-muted"],["for","heItem",1,"form-label"],["formControlName","he","type","number","step","1","required","","id","heItem",1,"form-control",3,"input","min","max"],["class","text-danger",4,"ngIf"],["label","Maximum ppO2:","controlName","maxPO2",3,"ppO2Change","maxPpO2","pO2Form"],["for","maxNarcoticDepth","mdbLabel","",1,"form-label"],["id","maxNarcoticDepth","type","number","formControlName","mndLimit","required","","step","1",1,"form-control",3,"input","min","max"],[1,"invalid-feedback","position-absolute"],[1,"form-check","form-switch","pb-1"],["type","checkbox","id","oxygenNarcotic","mdbCheckbox","",1,"form-check-input",3,"change","checked"],["for","oxygenNarcotic",1,"form-check-label"],["for","depth","mdbLabel","",1,"form-label"],["type","number","id","depth","formControlName","depth","required","","step","1",1,"form-control",3,"input","min","max"],[1,"col","col-12","col-md-5","col-lg-4","col-xl-4","col-xxl-3","mt-3"],[1,"table","table-sm","p-0"],[1,"table-active"],["class","me-2 text-warning",3,"icon",4,"ngIf"],[1,"col","col-12","col-md-12","col-lg-4","col-xl-3","col-xxl-5","mt-3"],[1,"mb-4"],["class","alert alert-warning",4,"ngIf"],[1,"form-group","mt-3"],["type","button",1,"btn","btn-primary","me-2",3,"click"],[1,"text-danger"],[1,"me-2","text-warning",3,"icon"],[1,"alert","alert-warning"],[1,"me-2",3,"icon"]],template:function(r,i){1&r&&(be(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),un(4,"fa-icon",4),be(5,"span"),Ge(6,"Gas mixture"),we()(),be(7,"div",5)(8,"form",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"app-oxygen-dropdown",10),dn("gasChange",function(){return i.inputChanged()})("standardGasApplied",function(){return i.standardGasApplied()}),we(),be(13,"small",11),Ge(14),Bn(15,"number"),we()(),be(16,"div",9)(17,"label",12),Ge(18,"He [%]:"),we(),be(19,"input",13),dn("input",function(){return i.inputChanged()}),we(),zn(20,wPe,2,1,"div",14),we(),be(21,"div",9)(22,"app-pp-o2",15),dn("ppO2Change",function(){return i.inputChanged()}),we()()(),be(23,"div",8)(24,"div",9)(25,"label",16),Ge(26),we(),be(27,"input",17),dn("input",function(){return i.inputChanged()}),we(),be(28,"div",18),Ge(29),we()(),be(30,"div",9)(31,"div",19)(32,"input",20),dn("change",function(){return i.switchOxygenNarcotic()}),we(),be(33,"label",21),Ge(34,"Oxygen is narcotic"),we()()(),be(35,"div",9)(36,"label",22),Ge(37),we(),be(38,"input",23),dn("input",function(){return i.inputChanged()}),we(),be(39,"div",18),Ge(40),we()()()()()()()(),be(41,"div",24)(42,"div",2)(43,"div",3)(44,"span"),Ge(45,"Gas properties"),we()(),be(46,"div",5)(47,"table",25)(48,"tbody")(49,"tr")(50,"td"),Ge(51,"Oxygen partial pressure"),we(),be(52,"td",26),Ge(53),Bn(54,"number"),we()(),be(55,"tr")(56,"td"),Ge(57,"Helium partial pressure"),we(),be(58,"td",26),Ge(59),Bn(60,"number"),we()(),be(61,"tr")(62,"td"),Ge(63,"Nitrogen partial pressure"),we(),be(64,"td",26),Ge(65),Bn(66,"number"),we()(),be(67,"tr")(68,"td"),Ge(69,"Total partial pressure"),we(),be(70,"td",26),Ge(71),Bn(72,"number"),we()(),be(73,"tr")(74,"td"),Ge(75),zn(76,_Pe,1,1,"fa-icon",27),we(),be(77,"td",26),Ge(78),Bn(79,"number"),we()(),be(80,"tr")(81,"td"),Ge(82),zn(83,LPe,1,1,"fa-icon",27),we(),be(84,"td",26),Ge(85),Bn(86,"number"),we()(),be(87,"tr")(88,"td"),Ge(89),zn(90,SPe,1,1,"fa-icon",27),we(),be(91,"td",26),Ge(92),Bn(93,"number"),we()(),be(94,"tr")(95,"td"),Ge(96),we(),be(97,"td",26),Ge(98),Bn(99,"number"),we()(),be(100,"tr")(101,"td"),Ge(102),zn(103,TPe,1,1,"fa-icon",27),we(),be(104,"td",26),Ge(105),Bn(106,"number"),we()()()()()()(),be(107,"div",28)(108,"div",2)(109,"div",3),un(110,"fa-icon",4),be(111,"span"),Ge(112,"Warnings"),we()(),be(113,"div",5)(114,"div",29),Ge(115),we(),zn(116,DPe,6,2,"div",30)(117,APe,6,2,"div",30)(118,zPe,6,3,"div",30)(119,kPe,6,3,"div",30),we()()()(),be(120,"div",7)(121,"div",31)(122,"button",32),dn("click",function(){return i.location.back()}),Ge(123,"Back"),we()()()),2&r&&(de(4),Ye("icon",i.calcIcon),de(4),Ye("formGroup",i.gasForm),de(4),Ye("tank",i.tank)("nitroxForm",i.gasForm)("showBestMix",!1)("showTrimixGases",!0),de(2),ln("Nitrox ",Hn(15,51,i.nitrox,"1.0-2")," [%]"),de(5),lr("is-invalid",i.gasHeInvalid),Ye("min",i.ranges.tankHe[0])("max",i.ranges.tankHe[1]),de(),Ye("ngIf",i.gasHeInvalid),de(2),Ye("maxPpO2",i.calc.maxPpO2)("pO2Form",i.gasForm),de(4),ln("Max narcotic depth [",i.units.length,"]:"),de(),lr("is-invalid",i.narcoticDepthInvalid),Ye("min",i.ranges.narcoticDepth[0])("max",i.ranges.narcoticDepth[1]),de(2),ln(" Needs to be number ",i.ranges.narcoticDepthLabel," "),de(3),Ye("checked",i.calc.oxygenNarcotic),de(5),ln("Properties at depth [",i.units.length,"]: "),de(),lr("is-invalid",i.depthInvalid),Ye("min",i.ranges.depth[0])("max",i.ranges.depth[1]),de(2),ln("Needs to be number ",i.ranges.depth,""),de(13),_r(Hn(54,54,i.calc.ppO2,"1.0-2")),de(6),_r(Hn(60,57,i.calc.ppHe,"1.0-2")),de(6),_r(Hn(66,60,i.calc.ppN2,"1.0-2")),de(6),_r(Hn(72,63,i.calc.totalPp,"1.0-2")),de(4),ln("Minimum depth [",i.units.length,"] "),de(),Ye("ngIf",i.calc.minPpO2Exceeded),de(2),_r(Hn(79,66,i.calc.minDepth,"1.0-1")),de(4),ln("Maximum depth [",i.units.length,"] "),de(),Ye("ngIf",i.calc.maxPpO2Exceeded),de(2),_r(Hn(86,69,i.calc.maxDepth,"1.0-1")),de(4),ln("Equivalent narcotic depth [",i.units.length,"] "),de(),Ye("ngIf",i.calc.mndExceeded),de(2),_r(Hn(93,72,i.calc.end,"1.0-1")),de(4),ln("Maximum narcotic depth [",i.units.length,"]"),de(2),_r(Hn(99,75,i.calc.mnd,"1.0-1")),de(4),ln("Density [",i.units.density,"] "),de(),Ye("ngIf",i.calc.densityExceeded),de(2),_r(Hn(106,78,i.calc.density,"1.0-2")),de(5),Ye("icon",i.warningIcon),de(5),_r(i.depthConverterWarning),de(),Ye("ngIf",i.calc.minPpO2Exceeded),de(),Ye("ngIf",i.calc.maxPpO2Exceeded),de(),Ye("ngIf",i.calc.mndExceeded),de(),Ye("ngIf",i.calc.densityExceeded))},dependencies:[ji,fa,P2,ja,xs,Cs,Ya,m1,ws,Ms,Ha,ps,y1,ju,$m,hs]})}return t})();class EPe{constructor(n,e,r){this.wayPointA=e,this.wayPointB=r,this.selected=!1,this.runTime=n,this.depthA=this.wayPointA?.endDepth,this.durationA=this.wayPointA?.duration,this.depthB=this.wayPointB?.endDepth,this.durationB=this.wayPointB?.duration}fits(n){return this.runTime>=n}}let bc=(()=>{class t extends P1{constructor(e,r){super(),this.schedules=e,this.dispatcher=r,this._profileAIndex=0,this._profileBIndex=0,this._onSelectionChanged=new yt,this._wayPoints=[],this._selectionChanged$=this._onSelectionChanged.asObservable(),this.hasTwoProfiles&&this.selectProfile(1),this.dispatcher.infoCalculated$.pipe(Wr(this.unsubscribe$)).subscribe(()=>this.updateWayPoints()),this.dispatcher.depthChanged$.pipe(Wr(this.unsubscribe$)).subscribe(()=>this.resetSelection())}get profileAIndex(){return this._profileAIndex}get profileA(){return this.schedules.dives[this._profileAIndex]}get profileATitle(){return this.profileA.title}get profileAResults(){return this.profileA.diveResult}get profileAConsumed(){return YU.combine(this.profileA.tanksService.tankData)}get profileBIndex(){return this._profileBIndex}get profileB(){return this.schedules.dives[this._profileBIndex]}get profileBTitle(){return this.profileB.title}get profileBResults(){return this.profileB.diveResult}get profileBConsumed(){return YU.combine(this.profileB.tanksService.tankData)}get selectionChanged$(){return this._selectionChanged$}get totalDuration(){return this.profileAResults.totalDuration>this.profileBResults.totalDuration?this.profileAResults.totalDuration:this.profileBResults.totalDuration}get bothResultsCalculated(){return this.profileAResults.calculated&&!this.profileAResults.failed&&this.profileBResults.calculated&&!this.profileBResults.failed}get difference(){return this._wayPoints}get hasTwoProfiles(){return this.schedules.length>1}get diveInfosCalculated(){return this.profileAResults.diveInfoCalculated&&this.profileBResults.diveInfoCalculated}get profilesCalculated(){return this.profileAResults.profileCalculated&&this.profileBResults.profileCalculated}get showConsumption(){return this.profileAResults.showResults&&this.profileBResults.showResults}get wayPointsA(){return this.profileAResults.wayPoints}get wayPointsB(){return this.profileBResults.wayPoints}selectProfile(e){(this._profileAIndex===e||this._profileBIndex===e)&&(e=this._profileAIndex),this._profileAIndex=this._profileBIndex,this._profileBIndex=e,this.updateWayPoints(),this._onSelectionChanged.next()}resetSelection(){const e=this.schedules.length;this._profileAIndex>=e&&(this._profileAIndex=0),this._profileBIndex>=e&&(this._profileBIndex=0),this.updateWayPoints()}updateWayPoints(){if(this._wayPoints=[],!this.bothResultsCalculated)return;const e=new NPe([...this.wayPointsA],[...this.wayPointsB]);for(;e.hasNext;){const r=e.toRow();this._wayPoints.unshift(r),e.next()}}static#e=this.\u0275fac=function(r){return new(r||t)(gn(Ka),gn(u1))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})();class NPe{constructor(n,e){this.wayPointsA=n,this.wayPointsB=e,this.defaultTime=-1,this._endTimeA=this.defaultTime,this._endTimeB=this.defaultTime,this.updateA(),this.updateB()}get hasNext(){return!(!this.waypointA&&!this.waypointB)}get dominantA(){return this._endTimeA>this._endTimeB}get dominantB(){return this._endTimeB>this._endTimeA}next(){this.dominantA?this.updateA():(this.dominantB||this.updateA(),this.updateB())}toRow(){const e=new EPe(this.dominantA?this._endTimeA:this._endTimeB,this.waypointA,this.waypointB);return this.dominantA?(e.durationB=void 0,e.depthB=void 0):this.dominantB&&(e.durationA=void 0,e.depthA=void 0),e}updateA(){this.waypointA=this.wayPointsA.pop(),this._endTimeA=this.waypointA?.endTime??this.defaultTime}updateB(){this.waypointB=this.wayPointsB.pop(),this._endTimeB=this.waypointB?.endTime??this.defaultTime}}let AM=(()=>{class t{constructor(e){this.profilesDiff=e,this.selectedChanged=new Fr}set selectedTimeStamp(e){let r;if(e){const i=C1.secondsFromDate(e);r=this.profilesDiff.difference.find(s=>s.fits(i))}this.selected=r}set selected(e){this.lastSelected&&(this.lastSelected.selected=!1),this.lastSelected=e,e&&this.lastSelected&&(this.lastSelected.selected=!0),this.selectedChanged.emit(this.lastSelected)}static#e=this.\u0275fac=function(r){return new(r||t)(gn(bc))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})();const IPe=t=>({"table-active":t});function PPe(t,n){if(1&t){const e=Qr();be(0,"tr",17),dn("mouseover",function(){const i=Qn(e).$implicit;return Jn(zt(2).highlightRow(i))})("mouseleave",function(){return Qn(e),Jn(zt(2).highlightRow(void 0))}),be(1,"td",18),Ge(2),Bn(3,"duration"),we(),be(4,"td",19),Ge(5),Bn(6,"number"),we(),be(7,"td",18),Ge(8),Bn(9,"duration"),we(),be(10,"td",19),Ge(11),Bn(12,"number"),we(),be(13,"td",19),Ge(14),Bn(15,"duration"),we()()}if(2&t){const e=n.$implicit,r=zt(2);Ye("ngClass",O0(21,IPe,e.selected)),de(2),ln(" ",Hn(3,6,e.runTime,r.profileDiff.totalDuration)," "),de(3),ln(" ",Hn(6,9,e.depthA,"1.0-0")," "),de(3),ln(" ",Hn(9,12,e.durationA,r.profileDiff.totalDuration)," "),de(3),ln(" ",Hn(12,15,e.depthB,"1.0-0")," "),de(3),ln(" ",Hn(15,18,e.durationB,r.profileDiff.totalDuration)," ")}}function RPe(t,n){if(1&t&&(be(0,"table",7)(1,"thead",8)(2,"tr"),un(3,"th",9),be(4,"th",10)(5,"div",11),Ge(6,"Profile A"),we(),Ge(7),we(),be(8,"th",12)(9,"div",11),Ge(10,"Profile B"),we(),Ge(11),we()(),be(12,"tr")(13,"th",13),Ge(14,"Run [min]"),we(),be(15,"th",14),Ge(16),we(),be(17,"th",15),Ge(18,"Duration [min]"),we(),be(19,"th",13),Ge(20),we(),be(21,"th",13),Ge(22,"Duration [min]"),we()()(),be(23,"tbody"),zn(24,PPe,16,23,"tr",16),we()()),2&t){const e=zt();de(7),ln(" ",e.profileDiff.profileATitle," "),de(4),ln(" ",e.profileDiff.profileBTitle," "),de(5),ln("Depth [",e.units.length,"]"),de(4),ln("Depth [",e.units.length,"]"),de(4),Ye("ngForOf",e.profileDiff.difference)}}let s$=(()=>{class t{constructor(e,r,i){this.units=e,this.profileDiff=r,this.selectedDiff=i,this.tasks=Fx}highlightRow(e){this.selectedDiff.selected=e}static#e=this.\u0275fac=function(r){return new(r||t)(lt(jr),lt(bc),lt(AM))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-diff-waypoints"]],decls:9,vars:3,consts:[[1,"card"],[1,"card-header"],[1,"float-start"],[1,"me-3",3,"icon"],["id","body",1,"hide","card-minheight","card-max-height-md"],[3,"show"],["id","waypointsDiffTable","class","table table-sm p-0 text-center table-hover",4,"ngIf"],["id","waypointsDiffTable",1,"table","table-sm","p-0","text-center","table-hover"],[1,"table-light","sticky-top"],["colspan","1"],["colspan","2",1,"fw-bold","px-1","bg-primary","text-light"],[1,"profile-title"],["colspan","2",1,"fw-bold","px-1","bg-success","text-light"],[1,"fw-bold","px-1"],[1,"fw-bold","px-1","vertical-left-border"],[1,"fw-bold","px-1","vertical-right-border"],[3,"ngClass","mouseover","mouseleave",4,"ngFor","ngForOf"],[3,"mouseover","mouseleave","ngClass"],[1,"px-1","vertical-right-border"],[1,"px-1"]],template:function(r,i){1&r&&(be(0,"div",0)(1,"div",1)(2,"div",2),un(3,"fa-icon",3),be(4,"span"),Ge(5,"Dive way points"),we()()(),be(6,"div",4),un(7,"app-calculating",5),zn(8,RPe,25,5,"table",6),we()()),2&r&&(de(3),Ye("icon",i.tasks),de(4),Ye("show",!i.profileDiff.profilesCalculated),de(),Ye("ngIf",i.profileDiff.profilesCalculated))},dependencies:[I2,Fo,ji,fa,S4,hs,Wu],styles:["#body[_ngcontent-%COMP%]{margin:24px;flex:1 1 auto}.card-max-height-md[_ngcontent-%COMP%]{max-height:450px;overflow-y:auto}.card-minheight[_ngcontent-%COMP%]{min-height:450px}#waypointsDiffTable[_ngcontent-%COMP%]   .vertical-right-border[_ngcontent-%COMP%]{border-right-width:medium}#waypointsDiffTable[_ngcontent-%COMP%]   .vertical-left-border[_ngcontent-%COMP%]{border-left-width:medium}#waypointsDiffTable[_ngcontent-%COMP%]   .vertical-borders[_ngcontent-%COMP%]{border-left-width:medium;border-right-width:medium}#waypointsDiffTable[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-top:hidden;border-bottom:hidden}",".profile-title[_ngcontent-%COMP%]{text-align:center}.diff-max-height[_ngcontent-%COMP%]{max-height:450px;overflow-y:scroll}"]})}return t})();class Yl{constructor(n,e,r,i){this.profileA=n,this.profileB=e,this.betterDirection=r,this.valueAccessor=i,this.arrowUp=Px,this.arrowDown=Tx,this.dash=Eu}get valueA(){return this.valueAccessor(this.profileA())}get valueB(){return this.valueAccessor(this.profileB())}get difference(){return this.valueB-this.valueA}get arrow(){return this.difference>0?this.arrowUp:this.difference<0?this.arrowDown:this.dash}get bgColor(){const n=this.betterDirection*this.difference;return n>0?"table-success":n<0?"table-danger":"table-active"}}let o$=(()=>{class t{constructor(e,r){this.units=e,this.profilesDiff=r,this.totalDuration=new Yl(()=>this.profileA,()=>this.profileB,1,i=>i.totalDuration),this.timeToSurface=new Yl(()=>this.profileA,()=>this.profileB,-1,i=>i.timeToSurface),this.averageDepth=new Yl(()=>this.profileA,()=>this.profileB,-1,i=>this.units.fromMeters(i.averageDepth)),this.emergencyAscentStart=new Yl(()=>this.profileA,()=>this.profileB,-1,i=>i.emergencyAscentStart),this.noDeco=new Yl(()=>this.profileA,()=>this.profileB,1,i=>i.noDecoTime),this.maxTime=new Yl(()=>this.profileA,()=>this.profileB,1,i=>i.maxTime),this.highestDensity=new Yl(()=>this.profileA,()=>this.profileB,-1,i=>this.density(i)),this.otu=new Yl(()=>this.profileA,()=>this.profileB,-1,i=>i.otu),this.cns=new Yl(()=>this.profileA,()=>this.profileB,-1,i=>i.cns),this.maxCns=1e3,this.cnsDifferenceUnderMinusOneThousand="< -1000"}get densityGasA(){return this.densityFormatted(this.profileA)}get densityGasB(){return this.densityFormatted(this.profileA)}get cnsA(){return this.cnsFormatted(this.profileA)}get cnsB(){return this.cnsFormatted(this.profileA)}get cnsDifference(){const e=this.cns.difference;return e>=this.maxCns?$u.cnsOverOneThousand:e<=-this.maxCns?this.cnsDifferenceUnderMinusOneThousand:j7(e,"en","1.0-0")}get showMaxBottomTime(){return this.profileA.maxTime>0&&this.profileB.maxTime>0}get profileA(){return this.profilesDiff.profileAResults}get profileB(){return this.profilesDiff.profileBResults}densityFormatted(e){return`${e.highestDensity.gas.name} at ${this.units.fromMeters(e.highestDensity.depth)} ${this.units.length}`}density(e){return this.units.fromGramPerLiter(e.highestDensity.density)}cnsFormatted(e){return e.cns>=this.maxCns?$u.cnsOverOneThousand:j7(e.cns,"en","1.0-0")}static#e=this.\u0275fac=function(r){return new(r||t)(gn(jr),gn(bc))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})();function FPe(t,n){if(1&t&&(be(0,"tr")(1,"td"),Ge(2,"No decompression time [min]:"),we(),be(3,"td",9)(4,"div"),Ge(5),Bn(6,"number"),we()(),be(7,"td",9)(8,"div"),Ge(9),Bn(10,"number"),we()(),be(11,"td")(12,"div",11)(13,"strong"),Ge(14),Bn(15,"number"),we(),un(16,"fa-icon",12),we()()()),2&t){const e=zt(2);de(5),ln(" ",Hn(6,7,e.resultsDiff.noDeco.valueA,"1.0-0")," "),de(4),ln(" ",Hn(10,10,e.resultsDiff.noDeco.valueB,"1.0-0")," "),de(2),Vc("",e.resultsDiff.noDeco.bgColor," border-start border-end"),de(3),ln(" ",Hn(15,13,e.resultsDiff.noDeco.difference,"1.0-0")," "),de(2),Ye("icon",e.resultsDiff.noDeco.arrow)}}function OPe(t,n){if(1&t&&(be(0,"tr")(1,"td"),Ge(2,"Maximum bottom time [min]:"),we(),be(3,"td",9)(4,"div"),Ge(5),Bn(6,"number"),we()(),be(7,"td",9)(8,"div"),Ge(9),Bn(10,"number"),we()(),be(11,"td")(12,"div",11)(13,"strong"),Ge(14),Bn(15,"number"),we(),un(16,"fa-icon",12),we()()()),2&t){const e=zt(2);de(5),ln(" ",Hn(6,7,e.resultsDiff.maxTime.valueA,"1.0-0")," "),de(4),ln(" ",Hn(10,10,e.resultsDiff.maxTime.valueB,"1.0-0")," "),de(2),Vc("",e.resultsDiff.maxTime.bgColor," border-start border-end"),de(3),ln(" ",Hn(15,13,e.resultsDiff.maxTime.difference,"1.0-0")," "),de(2),Ye("icon",e.resultsDiff.maxTime.arrow)}}function BPe(t,n){if(1&t&&(be(0,"tr")(1,"td"),Ge(2),we(),be(3,"td",9)(4,"div"),Ge(5),Bn(6,"number"),un(7,"br"),Ge(8),we()(),be(9,"td",9)(10,"div"),Ge(11),Bn(12,"number"),un(13,"br"),Ge(14),we()(),be(15,"td")(16,"div",11)(17,"strong"),Ge(18),Bn(19,"number"),we(),un(20,"fa-icon",12),we()()()),2&t){const e=zt(2);de(2),ln("Highest gas density [",e.units.density,"]:"),de(3),ln(" ",Hn(6,10,e.resultsDiff.highestDensity.valueA,"1.0-2")," "),de(3),ln(" (",e.resultsDiff.densityGasA,") "),de(3),ln(" ",Hn(12,13,e.resultsDiff.highestDensity.valueB,"1.0-2")," "),de(3),ln(" (",e.resultsDiff.densityGasB,") "),de(),Vc("",e.resultsDiff.highestDensity.bgColor," border-start border-end"),de(3),ln(" ",Hn(19,16,e.resultsDiff.highestDensity.difference,"1.0-2")," "),de(2),Ye("icon",e.resultsDiff.highestDensity.arrow)}}function HPe(t,n){if(1&t&&(be(0,"tr")(1,"td"),Ge(2,"OTU toxicity [OTU]:"),we(),be(3,"td",9)(4,"div"),Ge(5),Bn(6,"number"),we()(),be(7,"td",9)(8,"div"),Ge(9),Bn(10,"number"),we()(),be(11,"td")(12,"div",11)(13,"strong"),Ge(14),Bn(15,"number"),we(),un(16,"fa-icon",12),we()()()),2&t){const e=zt(2);de(5),ln(" ",Hn(6,7,e.resultsDiff.otu.valueA,"1.0-0")," "),de(4),ln(" ",Hn(10,10,e.resultsDiff.otu.valueB,"1.0-0")," "),de(2),Vc("",e.resultsDiff.otu.bgColor," border-start border-end"),de(3),ln(" ",Hn(15,13,e.resultsDiff.otu.difference,"1.0-0")," "),de(2),Ye("icon",e.resultsDiff.otu.arrow)}}function VPe(t,n){if(1&t&&(be(0,"tr")(1,"td"),Ge(2,"CNS toxicity [%]:"),we(),be(3,"td",9)(4,"div"),Ge(5),we()(),be(6,"td",9)(7,"div"),Ge(8),we()(),be(9,"td")(10,"div",11)(11,"strong"),Ge(12),Bn(13,"number"),we(),un(14,"fa-icon",12),we()()()),2&t){const e=zt(2);de(5),ln(" ",e.resultsDiff.cnsA," "),de(3),ln(" ",e.resultsDiff.cnsB," "),de(),Vc("",e.resultsDiff.cns.bgColor," border-start border-end"),de(3),ln(" ",Hn(13,7,e.resultsDiff.cnsDifference,"1.0-0")," "),de(2),Ye("icon",e.resultsDiff.cns.arrow)}}function UPe(t,n){if(1&t&&(be(0,"table",2)(1,"tbody")(2,"tr",3),un(3,"td"),be(4,"td",4)(5,"div",5)(6,"strong")(7,"div",6),Ge(8,"Profile A"),we(),be(9,"div"),Ge(10),we()()()(),be(11,"td",7)(12,"div",5)(13,"strong")(14,"div",6),Ge(15,"Profile B"),we(),be(16,"div"),Ge(17),we()()()(),be(18,"td",8)(19,"div",5)(20,"strong")(21,"div",6),un(22,"br"),we(),be(23,"div"),Ge(24,"Difference"),we()()()()(),be(25,"tr")(26,"td"),Ge(27,"Total dive time [min]:"),we(),be(28,"td",9)(29,"div"),Ge(30),Bn(31,"duration"),we()(),be(32,"td",9)(33,"div"),Ge(34),Bn(35,"duration"),we()(),be(36,"td",10)(37,"div",11)(38,"strong"),Ge(39),Bn(40,"duration"),we(),un(41,"fa-icon",12),we()()(),be(42,"tr")(43,"td"),Ge(44,"Time to surface [min]:"),we(),be(45,"td",9)(46,"div"),Ge(47),Bn(48,"number"),we()(),be(49,"td",9)(50,"div"),Ge(51),Bn(52,"number"),we()(),be(53,"td")(54,"div",11)(55,"strong"),Ge(56),Bn(57,"number"),we(),un(58,"fa-icon",12),we()()(),be(59,"tr")(60,"td"),Ge(61),we(),be(62,"td",9)(63,"div"),Ge(64),Bn(65,"number"),we()(),be(66,"td",9)(67,"div"),Ge(68),Bn(69,"number"),we()(),be(70,"td")(71,"div",11)(72,"strong"),Ge(73),Bn(74,"number"),we(),un(75,"fa-icon",12),we()()(),be(76,"tr")(77,"td"),Ge(78,"Rock bottom at [min]:"),we(),be(79,"td",9)(80,"div"),Ge(81),Bn(82,"duration"),we()(),be(83,"td",9)(84,"div"),Ge(85),Bn(86,"duration"),we()(),be(87,"td",10)(88,"div",11)(89,"strong"),Ge(90),Bn(91,"duration"),we(),un(92,"fa-icon",12),we()()(),zn(93,FPe,17,16,"tr",13)(94,OPe,17,16,"tr",13)(95,BPe,21,19,"tr",13)(96,HPe,17,16,"tr",13)(97,VPe,15,10,"tr",13),we()()),2&t){const e=zt();de(10),_r(e.profilesDiff.profileATitle),de(7),_r(e.profilesDiff.profileBTitle),de(13),ln(" ",Hn(31,30,e.resultsDiff.totalDuration.valueA,e.profileA.totalDuration)," "),de(4),ln(" ",Hn(35,33,e.resultsDiff.totalDuration.valueB,e.profileB.totalDuration)," "),de(5),ln(" ",Hn(40,36,e.resultsDiff.totalDuration.difference,e.resultsDiff.totalDuration.difference)," "),de(2),Ye("icon",e.resultsDiff.totalDuration.arrow),de(6),ln(" ",Hn(48,39,e.resultsDiff.timeToSurface.valueA,"1.0-0")," "),de(4),ln(" ",Hn(52,42,e.resultsDiff.timeToSurface.valueB,"1.0-0")," "),de(2),Vc("",e.resultsDiff.timeToSurface.bgColor," border-start border-end"),de(3),ln(" ",Hn(57,45,e.resultsDiff.timeToSurface.difference,"1.0-0")," "),de(2),Ye("icon",e.resultsDiff.timeToSurface.arrow),de(3),ln("Average depth [",e.units.length,"]:"),de(3),ln(" ",Hn(65,48,e.resultsDiff.averageDepth.valueA,"1.0-1")," "),de(4),ln(" ",Hn(69,51,e.resultsDiff.averageDepth.valueB,"1.0-1")," "),de(2),Vc("",e.resultsDiff.averageDepth.bgColor," border-start border-end"),de(3),ln(" ",Hn(74,54,e.resultsDiff.averageDepth.difference,"1.0-1")," "),de(2),Ye("icon",e.resultsDiff.averageDepth.arrow),de(6),ln(" ",Hn(82,57,e.resultsDiff.emergencyAscentStart.valueA,e.profileA.emergencyAscentStart)," "),de(4),ln(" ",Hn(86,60,e.resultsDiff.emergencyAscentStart.valueB,e.profileB.emergencyAscentStart)," "),de(5),ln(" ",Hn(91,63,e.resultsDiff.emergencyAscentStart.difference,e.resultsDiff.emergencyAscentStart.difference)," "),de(2),Ye("icon",e.resultsDiff.emergencyAscentStart.arrow),de(),Ye("ngIf",e.diveInfosCalculated),de(),Ye("ngIf",e.resultsDiff.showMaxBottomTime),de(),Ye("ngIf",e.viewSwitch.isComplex),de(),Ye("ngIf",e.areProfilesCalculated),de(),Ye("ngIf",e.areProfilesCalculated)}}let c$=(()=>{class t{constructor(e,r,i,a){this.viewSwitch=e,this.units=r,this.profilesDiff=i,this.resultsDiff=a}get profileA(){return this.profilesDiff.profileAResults}get profileB(){return this.profilesDiff.profileBResults}get diveInfosCalculated(){return this.profilesDiff.diveInfosCalculated}get areProfilesCalculated(){return this.profilesDiff.profilesCalculated}static#e=this.\u0275fac=function(r){return new(r||t)(lt(jl),lt(jr),lt(bc),lt(o$))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-diff-diveresults-table"]],decls:2,vars:2,consts:[[3,"show"],["class","table table-sm",4,"ngIf"],[1,"table","table-sm"],["id","table-header"],[1,"bg-primary","text-light"],[1,"d-flex","justify-content-center","align-items-center"],[1,"profile-title"],[1,"bg-success","text-light"],[1,"bg-secondary","text-light"],[1,"border-start"],[1,"border-start","border-end"],[1,"delta","d-flex","justify-content-between","align-items-center"],[3,"icon"],[4,"ngIf"]],template:function(r,i){1&r&&(un(0,"app-calculating",0),zn(1,UPe,98,66,"table",1)),2&r&&(Ye("show",!i.profilesDiff.bothResultsCalculated),de(),Ye("ngIf",i.profilesDiff.bothResultsCalculated))},dependencies:[ji,fa,S4,hs,Wu],styles:["fa-icon[_ngcontent-%COMP%]{margin-left:.5rem!important;padding-left:.4rem}.delta[_ngcontent-%COMP%]{max-width:4.3rem}",".profile-title[_ngcontent-%COMP%]{text-align:center}.diff-max-height[_ngcontent-%COMP%]{max-height:450px;overflow-y:scroll}"]})}return t})(),l$=(()=>{class t{constructor(){this.icon=ym}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-diff-diveresults"]],decls:9,vars:1,consts:[[1,"card"],[1,"card-header"],[1,"float-start","mt-1"],[1,"me-3",3,"icon"],[1,"card-body","card-minheight","card-max-height-md"],[1,"pb-3"]],template:function(r,i){1&r&&(be(0,"div",0)(1,"div",1)(2,"div",2),un(3,"fa-icon",3),be(4,"span"),Ge(5,"Dive Results"),we()()(),be(6,"div",4)(7,"div",5),un(8,"app-diff-diveresults-table"),we()()()),2&r&&(de(3),Ye("icon",i.icon))},dependencies:[fa,c$],styles:[".card-body[_ngcontent-%COMP%]{padding:.8rem}"]})}return t})();const GPe=(t,n)=>({"plot-display":t,"plot-hidden":n});let u$=(()=>{class t extends P1{constructor(e,r,i,a,s){super(),this.selectedWaypoints=i,this.profileComparatorService=a,this.reloadDispatcher=s,this.icon=um;const l=new s5(r,e),x=l.wthNamePrefix("Profile A ").create(()=>this.profileA),F=l.wthNamePrefix("Profile B ").wthAverageDepthColor("rgb(188,191,192)").wthDepthColor(s5.depthLineColorB).wthCeilingColor(s5.depthLineColorB).wthEventFillColor(s5.depthLineColorB).wthEventLineColor("rgb(118,119,120)").create(()=>this.profileB);this.plotter=new OG("diveplotdiff",l,F,x),this.profileComparatorService.selectionChanged$.pipe(Wr(this.unsubscribe$)).subscribe(()=>{this.profilesCalculated&&this.plotCharts()}),this.selectedWaypoints.selectedChanged.pipe(Wr(this.unsubscribe$)).subscribe(oe=>{this.selectWayPoint(oe)}),this.reloadDispatcher.wayPointsCalculated$.pipe(Wr(this.unsubscribe$)).subscribe(()=>{this.profilesCalculated&&(this.plotCharts(),this.plotlyHoverLeave())})}get profilesCalculated(){return this.profileComparatorService.profilesCalculated}get profileA(){return this.profileComparatorService.profileAResults}get profileB(){return this.profileComparatorService.profileBResults}ngOnInit(){this.profilesCalculated&&(this.plotCharts(),this.hookChartEvents())}plotlyHover(e){const r=e.points[0].x.toString();this.selectedWaypoints.selectedTimeStamp=r}plotlyHoverLeave(){this.selectedWaypoints.selectedTimeStamp="",this.selectWayPoint(void 0)}selectWayPoint(e){this.plotter.plotCursor(e?e.durationA?e.wayPointA:e.wayPointB:void 0)}plotCharts(){this.plotter.plotCharts(this.profileComparatorService.totalDuration)}hookChartEvents(){const e=document.getElementById(this.plotter.elementName);e.on("plotly_hover",r=>this.plotlyHover(r)),e.on("plotly_click",r=>this.plotlyHover(r)),e.on("plotly_unhover",()=>this.plotlyHoverLeave())}static#e=this.\u0275fac=function(r){return new(r||t)(lt(jr),lt(wM),lt(AM),lt(bc),lt(u1))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-diff-profilechart"]],features:[hi],decls:8,vars:6,consts:[[1,"card"],[1,"card-header"],["flip","vertical",1,"me-3",3,"icon"],[1,"card-body","card-minheight"],[3,"show"],["id","diveplotdiff",1,"diveplot",3,"ngClass"]],template:function(r,i){1&r&&(be(0,"div",0)(1,"div",1),un(2,"fa-icon",2),be(3,"span"),Ge(4,"Profile chart"),we()(),be(5,"div",3),un(6,"app-calculating",4)(7,"div",5),we()()),2&r&&(de(2),Ye("icon",i.icon),de(4),Ye("show",!i.profilesCalculated),de(),Ye("ngClass",ic(3,GPe,i.profilesCalculated,!i.profilesCalculated)))},dependencies:[I2,fa,S4]})}return t})();const $Pe=(t,n)=>({"btn-outline-secondary":t,"btn-secondary":n});let f$=(()=>{class t{constructor(e){this.profilesDiff=e,this.index=0,this.title="",this.disabled="disabled"}get state(){return this.index===this.profilesDiff.profileAIndex?"primary":this.index===this.profilesDiff.profileBIndex?"secondary":this.disabled}get selected(){return this.state!==this.disabled}selectProfile(){this.profilesDiff.selectProfile(this.index)}static#e=this.\u0275fac=function(r){return new(r||t)(lt(bc))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-diff-tabs-button"]],inputs:{index:"index",title:"title"},decls:8,vars:6,consts:[[1,"no-wrap"],[1,"label-header"],[1,"profile-header","primary-header"],[1,"profile-header","secondary-header"],["type","button",1,"btn",3,"click","ngClass"]],template:function(r,i){1&r&&(be(0,"div",0)(1,"div",1)(2,"div",2),Ge(3," PROFILE A "),we(),be(4,"div",3),Ge(5," PROFILE B "),we()(),be(6,"button",4),dn("click",function(){return i.selectProfile()}),Ge(7),we()()),2&r&&(de(),Ye("@labelState",i.state),de(5),Ye("ngClass",ic(3,$Pe,i.selected,!i.selected)),de(),ln(" ",i.title,""))},dependencies:[I2],styles:["button[_ngcontent-%COMP%]{margin-left:.5rem;position:relative;z-index:100}.btn-success[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{transition:color .6s}.profile-header[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;text-align:center;font-size:smaller;border-top-left-radius:5px;border-top-right-radius:5px}.primary-header[_ngcontent-%COMP%]{background-color:#3b71ca;color:#fff;transform:rotateX(180deg);backface-visibility:hidden}.secondary-header[_ngcontent-%COMP%]{background-color:#14a44d;color:#fff;backface-visibility:hidden}.label-header[_ngcontent-%COMP%]{position:relative;height:21px;margin-left:8px;transform-style:preserve-3d;z-index:1}.no-wrap[_ngcontent-%COMP%]{white-space:nowrap}"],data:{animation:[Cz("labelState",[nd("primary",jc({transform:"rotateX(180deg)",borderBottomLeftRadius:0,borderBottomRightRadius:0})),nd("secondary",jc({transform:"none"})),nd("disabled",jc({visibility:"hidden",transform:"translateY(21px)"})),rd("disabled => secondary",[td("400ms")]),rd("secondary => primary",[td("500ms")]),rd("primary => disabled",[td("400ms",Vne([jc({transform:"rotateX(180deg)",offset:0}),jc({transform:"rotateX(180deg) translateY(-21px)",offset:1})]))])])]}})}return t})();function WPe(t,n){if(1&t&&un(0,"app-diff-tabs-button",1),2&t){const e=n.$implicit;Ye("index",n.index)("title",e.title)}}let d$=(()=>{class t{constructor(e){this.schedules=e}static#e=this.\u0275fac=function(r){return new(r||t)(lt(Ka))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-diff-tabs"]],decls:2,vars:1,consts:[[3,"index","title",4,"ngFor","ngForOf"],[3,"index","title"]],template:function(r,i){1&r&&(be(0,"form"),zn(1,WPe,1,2,"app-diff-tabs-button",0),we()),2&r&&(de(),Ye("ngForOf",i.schedules.dives))},dependencies:[Fo,P2,Ya,f$],styles:["form[_ngcontent-%COMP%]{display:flex;padding-top:1.5rem!important;width:100%;flex-direction:row;flex-wrap:wrap;height:100%;position:relative}"]})}return t})();class zM{constructor(n,e,r){this.gas=n,this.profileA=e,this.profileB=r,this.fiftyPercent=50}get remainingProfileA(){return this.profileA.total-this.profileA.consumed}get remainingProfileB(){return this.profileB.total-this.profileB.consumed}get gasRemainingDifference(){return this.remainingProfileA-this.remainingProfileB}get absoluteRemainingDifference(){return Math.abs(this.gasRemainingDifference)}get gasReserveDifference(){return this.profileA.reserve-this.profileB.reserve}get absoluteReserveDifference(){return Math.abs(this.gasReserveDifference)}get reserveRight(){return this.gasReserveDifference>0}get remainingRight(){return this.gasRemainingDifference>0}get gasRemainingPercentageDifference(){const n=this.remainingProfileA+this.remainingProfileB;return 0===n?0:Math.abs(this.remainingProfileA/n-this.remainingProfileB/n)*this.fiftyPercent}get gasReservePercentageDifference(){const n=this.profileA.reserve+this.profileB.reserve;return 0===n?0:Math.abs(this.profileA.reserve/n-this.profileB.reserve/n)*this.fiftyPercent}}let h$=(()=>{class t{constructor(e,r){this.units=e,this.profileDiff=r}get gasesDifference(){const e=[],r={total:0,consumed:0,reserve:0};for(const i of this.profileDiff.profileAConsumed){const a=this.profileDiff.profileBConsumed.find(x=>x.gas.contentCode===i.gas.contentCode),s=a?this.toProfileConsumed(a):r,l=new zM(i.gas,this.toProfileConsumed(i),s);e.push(l)}for(const i of this.profileDiff.profileBConsumed)if(!e.find(a=>a.gas.contentCode===i.gas.contentCode)){const a=new zM(i.gas,r,this.toProfileConsumed(i));e.push(a)}return e}toProfileConsumed(e){return{total:this.units.fromLiter(e.total),consumed:this.units.fromLiter(e.consumed),reserve:this.units.fromLiter(e.reserve)}}static#e=this.\u0275fac=function(r){return new(r||t)(gn(jr),gn(bc))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})();const p$=t=>({flip:t});function jPe(t,n){1&t&&un(0,"fa-icon",24),2&t&&Ye("icon",zt().faArrowLeft)}function YPe(t,n){if(1&t&&(be(0,"strong"),Ge(1),Bn(2,"number"),we()),2&t){const e=zt();de(),ln(" ",Hn(2,1,e.gasDiff.absoluteRemainingDifference,"1.0-0")," ")}}function ZPe(t,n){1&t&&un(0,"fa-icon",24),2&t&&Ye("icon",zt().faArrowRight)}function XPe(t,n){1&t&&un(0,"fa-icon",25),2&t&&Ye("icon",zt().faMinus)}function KPe(t,n){if(1&t&&(be(0,"small",7),Ge(1),Bn(2,"number"),Bn(3,"number"),we()),2&t){const e=zt();de(),Ws(" Gas remaining: ",Hn(2,3,e.gasDiff.remainingProfileA,"1.0-0"),"/",Hn(3,6,e.gasTotalProfileA,"1.0-0")," ",e.units.volume," ")}}function QPe(t,n){if(1&t&&(be(0,"small",26),Ge(1),Bn(2,"number"),Bn(3,"number"),we()),2&t){const e=zt();de(),Ws(" Gas remaining: ",Hn(2,3,e.gasDiff.remainingProfileB,"1.0-0"),"/",Hn(3,6,e.gasTotalProfileB,"1.0-0")," ",e.units.volume," ")}}function JPe(t,n){1&t&&un(0,"fa-icon",24),2&t&&Ye("icon",zt().faArrowLeft)}function qPe(t,n){if(1&t&&(be(0,"strong"),Ge(1),Bn(2,"number"),we()),2&t){const e=zt();de(),ln(" ",Hn(2,1,e.gasDiff.absoluteReserveDifference,"1.0-0")," ")}}function eRe(t,n){1&t&&un(0,"fa-icon",24),2&t&&Ye("icon",zt().faArrowRight)}function tRe(t,n){1&t&&un(0,"fa-icon",25),2&t&&Ye("icon",zt().faMinus)}function nRe(t,n){if(1&t&&(be(0,"small",7),Ge(1),Bn(2,"number"),Bn(3,"number"),we()),2&t){const e=zt();de(),Ws(" Reserve: ",Hn(2,3,e.gasReserveProfileA,"1.0-0"),"/",Hn(3,6,e.gasTotalProfileA,"1.0-0")," ",e.units.volume," ")}}function rRe(t,n){if(1&t&&(be(0,"small",26),Ge(1),Bn(2,"number"),Bn(3,"number"),we()),2&t){const e=zt();de(),Ws(" Reserve: ",Hn(2,3,e.gasReserveProfileB,"1.0-0"),"/",Hn(3,6,e.gasTotalProfileB,"1.0-0")," ",e.units.volume," ")}}function iRe(t,n){1&t&&(be(0,"small",7),Ge(1," Not available "),we())}function aRe(t,n){1&t&&un(0,"small")}let m$=(()=>{class t{constructor(e,r){this.units=e,this.profileDiff=r,this.gasDiff=new zM(Mi.air.copy(),{total:0,consumed:0,reserve:0},{total:0,consumed:0,reserve:0}),this.collapsed=!1,this.faArrowLeft=SB,this.faArrowRight=dx,this.faMinus=Eu}get gasName(){return this.gasDiff.gas.name}get gasTotalProfileA(){return this.gasDiff.profileA.total}get gasTotalProfileB(){return this.gasDiff.profileB.total}get gasReserveProfileA(){return this.gasDiff.profileA.reserve}get gasReserveProfileB(){return this.gasDiff.profileB.reserve}static#e=this.\u0275fac=function(r){return new(r||t)(lt(jr),lt(bc))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-diff-gas-consumed-tank-chart"]],inputs:{gasDiff:"gasDiff",collapsed:"collapsed"},decls:54,vars:36,consts:[["missingTank",""],["whiteSpace",""],[1,"my-2"],[1,"text-start"],[2,"position","relative"],[1,"difference-text"],[1,"d-flex","flex-row","justify-content-around"],[1,"text-start","text-muted"],["class","text-success",3,"icon",4,"ngIf"],[4,"ngIf"],[3,"icon",4,"ngIf"],[1,"d-flex","flex-row","z-index-1"],[1,"legend-bars","rounded","bg-primary","m-1"],[1,"d-flex","flex-row","justify-content-between","w-100"],["class","text-start text-muted",4,"ngIf","ngIfElse"],["class","text-end text-muted",4,"ngIf","ngIfElse"],[1,"d-flex","flex-row"],[1,"legend-bars","rounded","bg-warning","m-1"],["class","text-end text-muted",4,"ngIf"],[1,"progress","gas-bar","mt-1","mb-2"],[1,"reserve-bar","rounded-progress"],[1,"combined_wrapper",3,"ngClass"],["role","progressbar",1,"progress-bar","rounded-progress","bg-primary"],["role","progressbar",1,"progress-bar","rounded-progress","bg-warning"],[1,"text-success",3,"icon"],[3,"icon"],[1,"text-end","text-muted"]],template:function(r,i){if(1&r&&(be(0,"div",2)(1,"div")(2,"strong",3),Ge(3),we()(),be(4,"div",4)(5,"div",5)(6,"small")(7,"strong"),Ge(8,"Difference"),we()()(),be(9,"div",6)(10,"small")(11,"strong",7),Ge(12),we()(),be(13,"small")(14,"strong",7),Ge(15),we()()()(),be(16,"div",4)(17,"div",5)(18,"small"),zn(19,jPe,1,1,"fa-icon",8)(20,YPe,3,4,"strong",9)(21,ZPe,1,1,"fa-icon",8)(22,XPe,1,1,"fa-icon",10),we()(),be(23,"div",11),un(24,"div",12),be(25,"div",13),zn(26,KPe,4,9,"small",14)(27,QPe,4,9,"small",15),we()()(),be(28,"div",4)(29,"div",5)(30,"small"),zn(31,JPe,1,1,"fa-icon",8)(32,qPe,3,4,"strong",9)(33,eRe,1,1,"fa-icon",8)(34,tRe,1,1,"fa-icon",10),we()(),be(35,"div",16),un(36,"div",17),be(37,"div",13),zn(38,nRe,4,9,"small",14)(39,rRe,4,9,"small",18),we()()(),be(40,"div",19),un(41,"div",20),be(42,"div",21)(43,"div",22),Ge(44),Bn(45,"number"),we()(),be(46,"div",21)(47,"div",23),Ge(48),Bn(49,"number"),we()()()(),zn(50,iRe,2,0,"ng-template",null,0,C7)(52,aRe,1,0,"ng-template",null,1,C7)),2&r){const a=T8(51),s=T8(53);de(3),_r(i.gasName),de(9),_r(i.profileDiff.profileATitle),de(3),_r(i.profileDiff.profileBTitle),de(4),Ye("ngIf",i.gasDiff.gasRemainingDifference>0),de(),Ye("ngIf",0!=i.gasDiff.gasRemainingDifference),de(),Ye("ngIf",i.gasDiff.gasRemainingDifference<0),de(),Ye("ngIf",0===i.gasDiff.gasRemainingDifference),de(4),Ye("ngIf",0!=i.gasTotalProfileA)("ngIfElse",a),de(),Ye("ngIf",0!=i.gasTotalProfileB)("ngIfElse",a),de(4),Ye("ngIf",i.gasDiff.gasReserveDifference>0),de(),Ye("ngIf",0!=i.gasDiff.gasReserveDifference),de(),Ye("ngIf",i.gasDiff.gasReserveDifference<0),de(),Ye("ngIf",0===i.gasDiff.gasReserveDifference),de(4),Ye("ngIf",0!=i.gasTotalProfileA)("ngIfElse",s),de(),Ye("ngIf",0!=i.gasTotalProfileB),de(3),Ye("ngClass",O0(32,p$,i.gasDiff.remainingRight)),de(),Q6("width",i.gasDiff.gasRemainingPercentageDifference+"%"),de(),ln(" ",Hn(45,26,i.gasDiff.absoluteRemainingDifference,"1.0-0"),""),de(2),Ye("ngClass",O0(34,p$,i.gasDiff.reserveRight)),de(),Q6("width",i.gasDiff.gasReservePercentageDifference+"%"),de(),ln(" ",Hn(49,29,i.gasDiff.absoluteReserveDifference,"1.0-0"),"")}},dependencies:[I2,ji,fa,hs],styles:[".gas-bar[_ngcontent-%COMP%]{padding:5px 8px;height:4em;font-size:1em;border:1px solid #a1a1a1;border-radius:.5em;background:transparent;box-shadow:none;overflow:visible;position:relative;display:flex;flex-direction:column;justify-content:space-between}.rounded-progress[_ngcontent-%COMP%]{position:absolute;height:100%;left:50%}.reserve-overlay[_ngcontent-%COMP%]{position:relative}.reserve-value[_ngcontent-%COMP%]{position:absolute;bottom:-7.75em;right:5px;text-align:right}.reserve-bar[_ngcontent-%COMP%]{position:absolute;padding:0;height:5.25em;top:0;left:calc(50% - 2px);width:3px;background:#a9a9a9;text-align:right;font-size:.75em;z-index:101}.combined_wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:1.5em;z-index:100}.flip[_ngcontent-%COMP%], .flip[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{transform:scaleX(-1)}.legend-bars[_ngcontent-%COMP%]{width:16px;height:16px;align-content:center;display:flex;padding-right:.5em;padding-left:.5em}.z-index-1[_ngcontent-%COMP%]{z-index:1}.difference-text[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:2}.difference-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{padding-left:.2em;padding-right:.2em}"]})}return t})();function sRe(t,n){1&t&&un(0,"app-diff-gas-consumed-tank-chart",8),2&t&&Ye("gasDiff",n.$implicit)}function oRe(t,n){if(1&t&&(la(0),zn(1,sRe,1,1,"app-diff-gas-consumed-tank-chart",7),ua()),2&t){const e=zt();de(),Ye("ngForOf",e.gasesDifference)}}let v$=(()=>{class t{constructor(e,r){this.profileDif=e,this.gasesDiff=r,this.icon=ym}get gasesDifference(){return this.gasesDiff.gasesDifference}static#e=this.\u0275fac=function(r){return new(r||t)(lt(bc),lt(h$))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-diff-gas-consumed"]],decls:9,vars:2,consts:[[1,"card"],[1,"card-header"],[1,"float-start","mt-1"],[1,"me-3",3,"icon"],[1,"card-body","card-minheight","card-max-height-md"],[1,"pb-3"],[4,"ngIf"],[3,"gasDiff",4,"ngFor","ngForOf"],[3,"gasDiff"]],template:function(r,i){1&r&&(be(0,"div",0)(1,"div",1)(2,"div",2),un(3,"fa-icon",3),be(4,"span"),Ge(5,"Gas Consumed"),we()()(),be(6,"div",4)(7,"div",5),zn(8,oRe,2,1,"ng-container",6),we()()()),2&r&&(de(3),Ye("icon",i.icon),de(5),Ye("ngIf",i.profileDif.showConsumption))},dependencies:[Fo,ji,fa,m$],styles:[".profile-title[_ngcontent-%COMP%]{text-align:center}.diff-max-height[_ngcontent-%COMP%]{max-height:450px;overflow-y:scroll}"]})}return t})();function cRe(t,n){if(1&t){const e=Qr();be(0,"div",6),un(1,"fa-icon",7),be(2,"span"),Ge(3,"There is only one dive planned. If you want to compare dives, define at least two."),we(),be(4,"button",8),dn("click",function(){return Qn(e),Jn(zt().goToDashboard())}),Ge(5,"Go to planner"),we()()}if(2&t){const e=zt();de(),Ye("icon",e.exclamation)}}let g$=(()=>{class t extends P1{constructor(e,r,i,a){super(),this.diff=e,this.viewStates=r,this.schedules=i,this.router=a,this.exclamation=XC}ngOnInit(){this.loadState(),this.saveState(),this.diff.selectionChanged$.pipe(Wr(this.unsubscribe$)).subscribe(()=>this.saveState())}goToDashboard(){var e=this;return Zt(function*(){yield e.router.navigate(["/"])})()}loadState(){let e=this.viewStates.loadView(Bi.diff);e||(e={id:Bi.diff,profileA:0,profileB:0});const r=this.resolveValidProfile(e.profileA);this.diff.selectProfile(r);const i=this.resolveValidProfile(e.profileB);this.diff.selectProfile(i)}resolveValidProfile(e){return e<0||this.schedules.length<=e?0:e}saveState(){this.viewStates.saveView({id:Bi.diff,profileA:this.diff.profileAIndex,profileB:this.diff.profileBIndex})}static#e=this.\u0275fac=function(r){return new(r||t)(lt(bc),lt(Ho),lt(Ka),lt(p2))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-diff"]],features:[hi],decls:13,vars:1,consts:[[1,"mt-5"],[1,"row"],["class","alert alert-info fade show mt-4","role","alert",4,"ngIf"],[1,"col-12","col-xl-6","col-xxl-6","mt-4","h-100"],[1,"col-xl-6","mt-4","h-100"],[1,"col-xl-6","col-xxl-6","mt-4","h-100"],["role","alert",1,"alert","alert-info","fade","show","mt-4"],[1,"me-2","fa-lg",3,"icon"],["type","button","data-bs-dismiss","alert",1,"btn","btn-sm","btn-primary","ms-2",3,"click"]],template:function(r,i){1&r&&(be(0,"div",0)(1,"div",1),un(2,"app-diff-tabs"),we(),zn(3,cRe,6,1,"div",2),be(4,"div",1)(5,"div",3),un(6,"app-diff-profilechart"),we(),be(7,"div",4),un(8,"app-diff-waypoints"),we(),be(9,"div",5),un(10,"app-diff-diveresults"),we(),be(11,"div",5),un(12,"app-diff-gas-consumed"),we()()()),2&r&&(de(3),Ye("ngIf",!i.diff.hasTwoProfiles))},dependencies:[ji,fa,s$,l$,u$,d$,v$],styles:[".profile-title[_ngcontent-%COMP%]{text-align:center}.diff-max-height[_ngcontent-%COMP%]{max-height:450px;overflow-y:scroll}"]})}return t})(),y$=(()=>{class t{constructor(e){this.units=e,this._firstTank=new hc(Xa.createDefault(),this.units),this._secondTank=new hc(Xa.createDefault(),this.units)}get firstTank(){return this._firstTank}get secondTank(){return this._secondTank}get finalPressure(){let i=Va.redundancies(this._firstTank.tank,this._secondTank.tank);return i=this.units.fromBar(i),i}static#e=this.\u0275fac=function(r){return new(r||t)(gn(jr))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})();function lRe(t,n){if(1&t&&(be(0,"div",25),Ge(1),we()),2&t){const e=zt();de(),ln("Needs to be number ",e.ranges.tankSizeLabel,"")}}function uRe(t,n){if(1&t){const e=Qr();be(0,"div",13)(1,"label",26),Ge(2),we(),be(3,"input",27),dn("input",function(){return Qn(e),Jn(zt().inputChanged())}),we(),be(4,"div",16),Ge(5),we()()}if(2&t){const e=zt();de(2),ln("Working pressure [",e.units.pressure,"]: "),de(),lr("is-invalid",e.firstTankWorkPressureInvalid),Ye("min",e.ranges.tankPressure[0])("max",e.ranges.tankPressure[1]),de(2),ln("Needs to be number ",e.ranges.tankPressureLabel,"")}}function fRe(t,n){if(1&t&&(be(0,"div",25),Ge(1),we()),2&t){const e=zt();de(),ln("Needs to be number ",e.ranges.tankSizeLabel,"")}}function dRe(t,n){if(1&t){const e=Qr();be(0,"div",13)(1,"label",28),Ge(2),we(),be(3,"input",29),dn("input",function(){return Qn(e),Jn(zt().inputChanged())}),we(),be(4,"div",16),Ge(5),we()()}if(2&t){const e=zt();de(2),ln("Working pressure [",e.units.pressure,"]: "),de(),lr("is-invalid",e.secondTankWorkPressureInvalid),Ye("min",e.ranges.tankPressure[0])("max",e.ranges.tankPressure[1]),de(2),ln("Needs to be number ",e.ranges.tankPressureLabel,"")}}let b$=(()=>{class t{constructor(e,r,i,a,s,l){this.location=e,this.units=r,this.viewStates=i,this.fb=a,this.validators=s,this.inputs=l,this.calcIcon=vH,this.calc=new y$(this.units)}get ranges(){return this.units.ranges}get firstTank(){return this.calc.firstTank}get secondTank(){return this.calc.secondTank}get firstTankSizeInvalid(){return this.inputs.controlInValid(this.redForm.controls.firstTankSize)}get firstTankWorkPressureInvalid(){return this.inputs.controlInValid(this.redForm.controls.firstTankWorkPressure)}get firstTankPressureInvalid(){return this.inputs.controlInValid(this.redForm.controls.firstTankPressure)}get secondTankSizeInvalid(){return this.inputs.controlInValid(this.redForm.controls.secondTankSize)}get secondTankWorkPressureInvalid(){return this.inputs.controlInValid(this.redForm.controls.secondTankWorkPressure)}get secondTankPressureInvalid(){return this.inputs.controlInValid(this.redForm.controls.secondTankPressure)}ngOnInit(){if(this.loadState(),this.saveState(),this.redForm=this.fb.group({firstTankSize:[xn.round(this.firstTank.size,1),this.validators.tankSize],firstTankPressure:[xn.round(this.firstTank.startPressure,1),this.validators.tankPressure],secondTankSize:[xn.round(this.secondTank.size,1),this.validators.tankSize],secondTankPressure:[xn.round(this.secondTank.startPressure,1),this.validators.tankPressure]}),this.units.imperialUnits){const e=this.fb.control(xn.round(this.firstTank.workingPressure,1),this.validators.tankPressure);this.redForm.addControl("firstTankWorkPressure",e);const r=this.fb.control(xn.round(this.secondTank.workingPressure,1),this.validators.tankPressure);this.redForm.addControl("secondTankWorkPressure",r)}}applyTemplate(e,r){this.redForm.invalid||(r.workingPressure=e.workingPressure,this.redForm.patchValue({firstTankWorkPressure:this.firstTank.workingPressure,secondTankWorkPressure:this.secondTank.workingPressure}),this.inputChanged())}inputChanged(){if(this.redForm.invalid)return;const e=this.redForm.value;this.calc.firstTank.size=Number(e.firstTankSize),this.calc.firstTank.startPressure=Number(e.firstTankPressure),this.calc.firstTank.workingPressure=Number(e.firstTankWorkPressure),this.calc.secondTank.size=Number(e.secondTankSize),this.calc.secondTank.startPressure=Number(e.secondTankPressure),this.calc.secondTank.workingPressure=Number(e.secondTankWorkPressure),this.saveState()}loadState(){let e=this.viewStates.loadView(Bi.redundancies);e||(e=this.createDefaultState()),this.loadTank(this.calc.firstTank,e.firstTank),this.loadTank(this.calc.secondTank,e.secondTank)}loadTank(e,r){e.startPressure=this.units.fromBar(r.startPressure),e.workingPressure=this.units.fromBar(r.workingPressure),e.size=this.units.fromTankLiters(r.size,r.workingPressure)}saveState(){const e=this.createTankStateFrom(this.calc.firstTank),r=this.createTankStateFrom(this.calc.secondTank),i=this.createState(e,r);this.viewStates.saveView(i)}createDefaultState(){const e=this.units.defaults.tanks.primary,r=this.units.toBar(e.workingPressure),i=this.units.toTankLiters(e.size,r),a=this.createTankState(200,r,i),s=this.createTankState(200,r,i);return this.createState(a,s)}createState(e,r){return{id:Bi.redundancies,firstTank:e,secondTank:r}}createTankStateFrom(e){const r=this.units.toBar(e.startPressure),i=this.units.toBar(e.workingPressure),a=this.units.toTankLiters(e.size,i);return this.createTankState(r,i,a)}createTankState(e=200,r=0,i=15){return{startPressure:e,workingPressure:r,size:i}}static#e=this.\u0275fac=function(r){return new(r||t)(lt(q1),lt(jr),lt(Ho),lt(ss),lt(Qa),lt(Ls))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-redundancies"]],decls:50,vars:30,consts:[[3,"formGroup"],[1,"row","mt-5"],[1,"col","col-12","col-lg-8","col-xxl-6","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body","row"],[1,"col","col-12","col-sm-6","col-md-4"],[1,"pt-2","mb-4"],["for","tankSize","mdbLabel","",1,"form-label"],["controlName","firstTankSize",3,"sizeChange","applyTemplate","sizeForm","tank"],["class","text-danger form-text position-absolute",4,"ngIf"],["class","mb-4",4,"ngIf"],[1,"mb-4"],["for","firstTankPressure","mdbLabel","",1,"form-label"],["type","number","id","firstTankPressure","formControlName","firstTankPressure","required","","step","1",1,"form-control",3,"input","min","max"],[1,"invalid-feedback","position-absolute"],["controlName","secondTankSize",3,"sizeChange","applyTemplate","sizeForm","tank"],["for","secondTankPressure","mdbLabel","",1,"form-label"],["type","number","id","secondTankPressure","formControlName","secondTankPressure","required","","step","1",1,"form-control",3,"input","min","max"],["for","finalPressure","mdbLabel","",1,"form-label"],["name","finalPressure","id","finalPressure","readonly","",1,"form-control","readonly",3,"readonly","value"],[1,"row"],[1,"form-group","mt-3"],["type","button",1,"btn","btn-primary","me-2",3,"click"],[1,"text-danger","form-text","position-absolute"],["for","firstTankWorkPressure","mdbLabel","",1,"form-label"],["type","number","id","firstTankWorkPressure","formControlName","firstTankWorkPressure","required","","step","1",1,"form-control",3,"input","min","max"],["for","secondTankWorkPressure","mdbLabel","",1,"form-label"],["type","number","id","secondTankWorkPressure","formControlName","secondTankWorkPressure","required","","step","1",1,"form-control",3,"input","min","max"]],template:function(r,i){1&r&&(be(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),un(5,"fa-icon",5),be(6,"span"),Ge(7,"Gas mixture"),we()(),be(8,"div",6)(9,"div",7)(10,"div"),Ge(11,"First tank"),we(),be(12,"div")(13,"div",8)(14,"label",9),Ge(15),we(),be(16,"app-tank-size",10),dn("sizeChange",function(){return i.inputChanged()})("applyTemplate",function(s){return i.applyTemplate(s,i.firstTank)}),we(),zn(17,lRe,2,1,"div",11),we()(),zn(18,uRe,6,6,"div",12),be(19,"div",13)(20,"label",14),Ge(21),we(),be(22,"input",15),dn("input",function(){return i.inputChanged()}),we(),be(23,"div",16),Ge(24),we()()(),be(25,"div",7)(26,"div"),Ge(27,"Second tank"),we(),be(28,"div")(29,"div",8)(30,"label",9),Ge(31),we(),be(32,"app-tank-size",17),dn("sizeChange",function(){return i.inputChanged()})("applyTemplate",function(s){return i.applyTemplate(s,i.secondTank)}),we(),zn(33,fRe,2,1,"div",11),we()(),zn(34,dRe,6,6,"div",12),be(35,"div",13)(36,"label",18),Ge(37),we(),be(38,"input",19),dn("input",function(){return i.inputChanged()}),we(),be(39,"div",16),Ge(40),we()()(),be(41,"div",7)(42,"label",20),Ge(43),we(),un(44,"input",21),Bn(45,"number"),we()()()()(),be(46,"div",22)(47,"div",23)(48,"button",24),dn("click",function(){return i.location.back()}),Ge(49,"Back"),we()()()()),2&r&&(Ye("formGroup",i.redForm),de(5),Ye("icon",i.calcIcon),de(10),ln("Size [",i.units.volume,"]:"),de(),Ye("sizeForm",i.redForm)("tank",i.firstTank),de(),Ye("ngIf",i.firstTankSizeInvalid),de(),Ye("ngIf",i.units.imperialUnits),de(3),ln("Start pressure [",i.units.pressure,"]: "),de(),lr("is-invalid",i.firstTankPressureInvalid),Ye("min",i.ranges.tankPressure[0])("max",i.ranges.tankPressure[1]),de(2),ln("Needs to be number ",i.ranges.tankPressureLabel,""),de(7),ln("Size [",i.units.volume,"]:"),de(),Ye("sizeForm",i.redForm)("tank",i.secondTank),de(),Ye("ngIf",i.secondTankSizeInvalid),de(),Ye("ngIf",i.units.imperialUnits),de(3),ln("Start pressure [",i.units.pressure,"]: "),de(),lr("is-invalid",i.secondTankPressureInvalid),Ye("min",i.ranges.tankPressure[0])("max",i.ranges.tankPressure[1]),de(2),ln("Needs to be number ",i.ranges.tankPressureLabel,""),de(3),ln("Final pressure [",i.units.pressure,"]:"),de(),Ye("readonly",!0)("value",Hn(45,27,i.calc.finalPressure,"1.0-1")))},dependencies:[ji,fa,P2,ja,xs,Cs,Ya,m1,ws,Ms,Ha,ps,y1,Yu,hs]})}return t})(),kM=(()=>{class t{constructor(e){this.units=e,this._addO2=0,this._addHe=0,this._addTop=0,this._removeFromSource=0,this._unableToCalculate=!1,this._sourceTank=new hc(Xa.createDefault(),this.units),this._sourceTank.startPressure=0,this._topMix=new hc(Xa.createDefault(),this.units),this._topMix.assignStandardGas("EAN32"),this._targetTank=new hc(Xa.createDefault(),this.units),this._targetTank.assignStandardGas("EAN32"),this.calculate()}get sourceTank(){return this._sourceTank}get topMix(){return this._topMix}get targetTank(){return this._targetTank}get addO2(){return this.units.fromBar(this._addO2)}get addHe(){return this.units.fromBar(this._addHe)}get addTop(){return this.units.fromBar(this._addTop)}get removeFromSource(){return this.units.fromBar(this._removeFromSource)}get needsRemove(){return this.removeFromSource>0}get unableToCalculate(){return this._unableToCalculate}calculate(){try{const e=this.createRequest(),r=Va.mix(e);this.applyResults(r),this._unableToCalculate=!1}catch{this.applyResults({addHe:0,addO2:0,addTop:0,removeFromSource:0}),this._unableToCalculate=!0}}createRequest(){const e=this._sourceTank.tank,r=this.targetTank.tank,i=this.topMix.tank;return{source:{pressure:e.startPressure,o2:e.gas.fO2,he:e.gas.fHe},target:{pressure:r.startPressure,o2:r.gas.fO2,he:r.gas.fHe},topMix:{o2:i.gas.fO2,he:i.gas.fHe}}}applyResults(e){this._addO2=e.addO2,this._addHe=e.addHe,this._addTop=e.addTop,this._removeFromSource=e.removeFromSource}static#e=this.\u0275fac=function(r){return new(r||t)(gn(jr))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})(),C$=(()=>{class t{constructor(e){this.gasBlender=e,this.o2UnitPrice=0,this.heUnitPrice=0,this.topMixUnitPrice=0,this.o2Price=0,this.hePrice=0,this.topMixPrice=0,this.totalPrice=0}calculate(){const r=Qx.price({addO2:this.gasBlender.addO2,addHe:this.gasBlender.addHe,addTop:this.gasBlender.addTop,o2UnitPrice:this.o2UnitPrice,heUnitPrice:this.heUnitPrice,topMixUnitPrice:this.topMixUnitPrice});this.o2Price=r.o2Price,this.hePrice=r.hePrice,this.topMixPrice=r.topMixPrice,this.totalPrice=r.totalPrice}static#e=this.\u0275fac=function(r){return new(r||t)(gn(kM))};static#t=this.\u0275prov=nn({token:t,factory:t.\u0275fac})}return t})();const hRe=t=>({active:t});function pRe(t,n){if(1&t&&(be(0,"div",31),Ge(1),we()),2&t){const e=zt();de(),ln("Needs to be number ",e.ranges.tankHeLabel,"")}}function mRe(t,n){if(1&t&&(be(0,"div",31),Ge(1),we()),2&t){const e=zt();de(),ln(" Needs to be number ",e.ranges.tankPressureLabel,"")}}function vRe(t,n){if(1&t&&(be(0,"div",31),Ge(1),we()),2&t){const e=zt();de(),ln("Needs to be number ",e.ranges.tankHeLabel,"")}}function gRe(t,n){if(1&t&&(be(0,"div",31),Ge(1),we()),2&t){const e=zt();de(),ln("Needs to be number ",e.ranges.tankHeLabel,"")}}function yRe(t,n){if(1&t&&(be(0,"div",31),Ge(1),we()),2&t){const e=zt();de(),ln(" Needs to be number ",e.ranges.tankPressureLabel,"")}}function bRe(t,n){if(1&t&&(be(0,"tr")(1,"td"),Ge(2),we(),be(3,"td",34),Ge(4),Bn(5,"number"),we()()),2&t){const e=zt(2);de(2),ln("Remove from source [",e.units.pressure,"]"),de(2),_r(Hn(5,2,e.calc.removeFromSource,"1.0-1"))}}function CRe(t,n){if(1&t&&(be(0,"table",32)(1,"tbody"),zn(2,bRe,6,5,"tr",33),be(3,"tr")(4,"td"),Ge(5),we(),be(6,"td",34),Ge(7),Bn(8,"number"),we()(),be(9,"tr")(10,"td"),Ge(11),we(),be(12,"td",34),Ge(13),Bn(14,"number"),we()(),be(15,"tr")(16,"td"),Ge(17),we(),be(18,"td",34),Ge(19),Bn(20,"number"),we()()()()),2&t){const e=zt();de(2),Ye("ngIf",e.calc.needsRemove),de(3),ln("Add O2 [",e.units.pressure,"]"),de(2),_r(Hn(8,7,e.calc.addO2,"1.0-1")),de(4),ln("Add He [",e.units.pressure,"]"),de(2),_r(Hn(14,10,e.calc.addHe,"1.0-1")),de(4),ln("Add Top mix [",e.units.pressure,"]"),de(2),_r(Hn(20,13,e.calc.addTop,"1.0-1"))}}function xRe(t,n){if(1&t&&(be(0,"div",35),un(1,"fa-icon",36),be(2,"span"),Ge(3,"Unable to calculate the required mix, because the Top mix contains more oxygen or helium, than target mix."),we()()),2&t){const e=zt();de(),Ye("icon",e.exclamationIcon)}}function MRe(t,n){if(1&t&&(be(0,"div",31),Ge(1),we()),2&t){const e=zt(2);de(),ln("Needs to be number ",e.ranges.moneyLabel,"")}}function wRe(t,n){if(1&t&&(be(0,"div",31),Ge(1),we()),2&t){const e=zt(2);de(),ln("Needs to be number ",e.ranges.moneyLabel,"")}}function _Re(t,n){if(1&t&&(be(0,"div",31),Ge(1),we()),2&t){const e=zt(2);de(),ln("Needs to be number ",e.ranges.moneyLabel,"")}}function LRe(t,n){if(1&t){const e=Qr();be(0,"div",2)(1,"div",3)(2,"div",4)(3,"span"),Ge(4,"Unit prices"),we()(),be(5,"div",10)(6,"div",11)(7,"label",37),Ge(8,"Unit price O2:"),we(),be(9,"input",38),dn("input",function(){return Qn(e),Jn(zt().applyChange())}),we(),zn(10,MRe,2,1,"div",16),we(),be(11,"div",11)(12,"label",39),Ge(13,"Unit price He:"),we(),be(14,"input",40),dn("input",function(){return Qn(e),Jn(zt().applyChange())}),we(),zn(15,wRe,2,1,"div",16),we(),be(16,"div",11)(17,"label",41),Ge(18,"Unit price Top mix:"),we(),be(19,"input",42),dn("input",function(){return Qn(e),Jn(zt().applyChange())}),we(),zn(20,_Re,2,1,"div",16),we()()()()}if(2&t){const e=zt();de(9),lr("is-invalid",e.o2UnitPriceInvalid),Ye("min",e.ranges.money[0])("max",e.ranges.money[1]),de(),Ye("ngIf",e.o2UnitPriceInvalid),de(4),lr("is-invalid",e.heUnitPriceInvalid),Ye("min",e.ranges.money[0])("max",e.ranges.money[1]),de(),Ye("ngIf",e.heUnitPriceInvalid),de(4),lr("is-invalid",e.topMixUnitPriceInvalid),Ye("min",e.ranges.money[0])("max",e.ranges.money[1]),de(),Ye("ngIf",e.topMixUnitPriceInvalid)}}function SRe(t,n){if(1&t&&(be(0,"table",32)(1,"tbody")(2,"tr")(3,"td"),Ge(4,"O2 price"),we(),be(5,"td",34),Ge(6),Bn(7,"number"),we()(),be(8,"tr")(9,"td"),Ge(10,"He price"),we(),be(11,"td",34),Ge(12),Bn(13,"number"),we()(),be(14,"tr")(15,"td"),Ge(16,"Top mix price"),we(),be(17,"td",34),Ge(18),Bn(19,"number"),we()(),be(20,"tr")(21,"td")(22,"strong"),Ge(23,"Total price"),we()(),be(24,"td",34)(25,"strong"),Ge(26),Bn(27,"number"),we()()()()()),2&t){const e=zt(2);de(6),_r(Hn(7,4,e.pricing.o2Price,"1.0-1")),de(6),_r(Hn(13,7,e.pricing.hePrice,"1.0-1")),de(6),_r(Hn(19,10,e.pricing.topMixPrice,"1.0-1")),de(8),_r(Hn(27,13,e.pricing.totalPrice,"1.0-1"))}}function TRe(t,n){if(1&t&&(be(0,"div",25)(1,"div",3)(2,"div",4)(3,"span"),Ge(4,"Mix price"),we()(),be(5,"div",26),zn(6,SRe,28,16,"table",27),we()()()),2&t){const e=zt();de(6),Ye("ngIf",!e.calc.unableToCalculate)}}const ARe=[{path:Bi.settings,component:KU},{path:Bi.sac,component:QG},{path:Bi.nitrox,component:qG},{path:Bi.ndl,component:n$},{path:Bi.altitude,component:r$},{path:Bi.weight,component:i$},{path:Bi.gas,component:a$},{path:Bi.about,component:e$},{path:Bi.diff,component:g$},{path:Bi.redundancies,component:b$},{path:Bi.blender,component:(()=>{class t{constructor(e,r,i,a,s,l,x){this.units=e,this.calc=r,this.pricing=i,this.validators=a,this.inputs=s,this.viewStates=l,this.fb=x,this.calcIcon=xx,this.exclamationIcon=m4,this.dollarIcon=wR,this.showPricing=!1}get ranges(){return this.units.ranges}get sourceHeInvalid(){return this.inputs.controlInValid(this.blenderForm.controls.sourceHe)}get topMixHeInvalid(){return this.inputs.controlInValid(this.blenderForm.controls.topMixHe)}get targetHeInvalid(){return this.inputs.controlInValid(this.blenderForm.controls.targetHe)}get sourcePressureInvalid(){return this.inputs.controlInValid(this.blenderForm.controls.sourcePressure)}get targetPressureInvalid(){return this.inputs.controlInValid(this.blenderForm.controls.targetPressure)}get o2UnitPriceInvalid(){return this.inputs.controlInValid(this.blenderForm.controls.o2UnitPrice)}get heUnitPriceInvalid(){return this.inputs.controlInValid(this.blenderForm.controls.heUnitPrice)}get topMixUnitPriceInvalid(){return this.inputs.controlInValid(this.blenderForm.controls.topMixUnitPrice)}ngOnInit(){this.loadState(),this.saveState();const r=this.validators.rangeFor([0,this.ranges.tankPressure[1]]);this.blenderForm=this.fb.group({sourceO2:[this.calc.sourceTank.o2,this.validators.rangeFor(this.ranges.trimixOxygen)],sourceHe:[this.calc.sourceTank.he,this.validators.rangeFor(this.ranges.tankHe)],sourcePressure:[xn.round(this.calc.sourceTank.startPressure,1),r],topMixO2:[this.calc.topMix.o2,this.validators.rangeFor(this.ranges.trimixOxygen)],topMixHe:[this.calc.topMix.he,this.validators.rangeFor(this.ranges.tankHe)],targetO2:[this.calc.targetTank.o2,this.validators.rangeFor(this.ranges.trimixOxygen)],targetHe:[this.calc.targetTank.he,this.validators.rangeFor(this.ranges.tankHe)],targetPressure:[xn.round(this.calc.targetTank.startPressure,1),r],o2UnitPrice:[this.pricing.o2UnitPrice,this.validators.rangeFor(this.ranges.money)],heUnitPrice:[this.pricing.heUnitPrice,this.validators.rangeFor(this.ranges.money)],topMixUnitPrice:[this.pricing.topMixUnitPrice,this.validators.rangeFor(this.ranges.money)]})}applyChange(){if(this.blenderForm.invalid)return;const e=this.blenderForm.value;this.calc.sourceTank.o2=Number(e.sourceO2),this.calc.sourceTank.he=Number(e.sourceHe),this.calc.sourceTank.startPressure=Number(e.sourcePressure),this.calc.topMix.o2=Number(e.topMixO2),this.calc.topMix.he=Number(e.topMixHe),this.calc.targetTank.o2=Number(e.targetO2),this.calc.targetTank.he=Number(e.targetHe),this.calc.targetTank.startPressure=Number(e.targetPressure),this.pricing.o2UnitPrice=Number(e.o2UnitPrice),this.pricing.heUnitPrice=Number(e.heUnitPrice),this.pricing.topMixUnitPrice=Number(e.topMixUnitPrice),this.calculate(),this.saveState()}togglePricing(){this.showPricing=!this.showPricing}applyTemplate(){this.blenderForm.invalid||(this.blenderForm.patchValue({sourceO2:this.calc.sourceTank.o2,sourceHe:this.calc.sourceTank.he,topMixO2:this.calc.topMix.o2,topMixHe:this.calc.topMix.he,targetO2:this.calc.targetTank.o2,targetHe:this.calc.targetTank.he}),this.applyChange())}loadState(){let e=this.viewStates.loadView(Bi.blender);e||(e=this.createDefaultState()),this.applyState(e),this.calculate()}applyState(e){this.loadTankState(this.calc.sourceTank.tank,e.source),this.loadTankState(this.calc.targetTank.tank,e.target),this.calc.topMix.o2=e.topMix.o2,this.calc.topMix.he=e.topMix.he,e.prices&&(this.pricing.o2UnitPrice=e.prices.o2UnitPrice,this.pricing.heUnitPrice=e.prices.heUnitPrice,this.pricing.topMixUnitPrice=e.prices.topMixUnitPrice)}saveState(){const e={id:Bi.blender,source:this.toTankState(this.calc.sourceTank.tank),target:this.toTankState(this.calc.targetTank.tank),topMix:{o2:this.calc.topMix.tank.o2,he:this.calc.topMix.tank.he},prices:{o2UnitPrice:this.pricing.o2UnitPrice,heUnitPrice:this.pricing.heUnitPrice,topMixUnitPrice:this.pricing.topMixUnitPrice}};this.viewStates.saveView(e)}createDefaultState(){return{id:Bi.blender,source:{o2:100*aa.o2InAir,he:0,pressure:0},target:{o2:100*Mi.ean32.fO2,he:0,pressure:200},topMix:{o2:100*Mi.ean32.fO2,he:0},prices:{o2UnitPrice:0,heUnitPrice:0,topMixUnitPrice:0}}}loadTankState(e,r){e.o2=r.o2,e.he=r.he,e.startPressure=r.pressure}toTankState(e){return{o2:e.o2,he:e.he,pressure:e.startPressure}}calculate(){this.calc.calculate(),this.pricing.calculate()}static#e=this.\u0275fac=function(r){return new(r||t)(lt(jr),lt(kM),lt(C$),lt(Qa),lt(Ls),lt(Ho),lt(ss))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-gas-blender"]],decls:63,vars:50,consts:[[3,"formGroup"],[1,"row","mt-5"],[1,"col","col-12","col-md-8","col-lg-6","col-xxl-5","mt-3"],[1,"card"],[1,"card-header"],[1,"float-start"],[1,"me-3",3,"icon"],[1,"float-end","me-1"],["type","button","data-toggle","button","autocomplete","off",1,"btn","btn-sm","btn-secondary",3,"click","ngClass"],[1,"fa-lg",3,"icon"],[1,"card-body","row"],[1,"col","col-12","col-sm-4","mb-2"],[1,"mb-2"],["controlName","sourceO2",3,"gasChange","standardGasApplied","tank","showBestMix","showTrimixGases","nitroxForm"],["for","sourceHe",1,"form-label"],["formControlName","sourceHe","type","number","step","1","required","","id","sourceHe",1,"form-control",3,"input","min","max"],["class","text-danger",4,"ngIf"],["for","sourcePressure",1,"form-label"],["formControlName","sourcePressure","type","number","required","","step","1","id","sourcePressure",1,"form-control",3,"input","min","max"],["controlName","topMixO2",3,"gasChange","standardGasApplied","tank","showBestMix","showTrimixGases","nitroxForm"],["for","topMixHe",1,"form-label"],["formControlName","topMixHe","type","number","step","1","required","","id","topMixHe",1,"form-control",3,"input","min","max"],["controlName","targetO2",3,"gasChange","standardGasApplied","tank","showBestMix","showTrimixGases","nitroxForm"],["formControlName","targetHe","type","number","step","1","required","","id","targetHe",1,"form-control",3,"input","min","max"],["formControlName","targetPressure","type","number","required","","step","1","id","targetPressure",1,"form-control",3,"input","min","max"],[1,"col","col-12","col-md-4","col-lg-4","col-xxl-3","mt-3"],[1,"card-body"],["class","table table-sm",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","col col-12 col-md-8 col-lg-6 col-xxl-5 mt-3",4,"ngIf"],["class","col col-12 col-md-4 col-lg-4 col-xxl-3 mt-3",4,"ngIf"],[1,"text-danger"],[1,"table","table-sm"],[4,"ngIf"],[1,"table-active"],[1,"alert","alert-danger"],[1,"me-2",3,"icon"],["for","o2UnitPrice",1,"form-label"],["formControlName","o2UnitPrice","type","number","step","1","required","","id","o2UnitPrice",1,"form-control",3,"input","min","max"],["for","heUnitPrice",1,"form-label"],["formControlName","heUnitPrice","type","number","step","1","required","","id","heUnitPrice",1,"form-control",3,"input","min","max"],["for","topMixUnitPrice",1,"form-label"],["formControlName","topMixUnitPrice","type","number","step","1","required","","id","topMixUnitPrice",1,"form-control",3,"input","min","max"]],template:function(r,i){1&r&&(be(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),un(6,"fa-icon",6),be(7,"span"),Ge(8,"Gas blender"),we()(),be(9,"div",7)(10,"button",8),dn("click",function(){return i.togglePricing()}),un(11,"fa-icon",9),we()()(),be(12,"div",10)(13,"div",11)(14,"div"),Ge(15,"Source"),we(),be(16,"div",12)(17,"app-oxygen-dropdown",13),dn("gasChange",function(){return i.applyChange()})("standardGasApplied",function(){return i.applyTemplate()}),we()(),be(18,"div",12)(19,"label",14),Ge(20,"He [%]:"),we(),be(21,"input",15),dn("input",function(){return i.applyChange()}),we(),zn(22,pRe,2,1,"div",16),we(),be(23,"div")(24,"label",17),Ge(25),we(),be(26,"input",18),dn("input",function(){return i.applyChange()}),we(),zn(27,mRe,2,1,"div",16),we()(),be(28,"div",11)(29,"div"),Ge(30,"Top mix"),we(),be(31,"div",12)(32,"app-oxygen-dropdown",19),dn("gasChange",function(){return i.applyChange()})("standardGasApplied",function(){return i.applyTemplate()}),we()(),be(33,"div",12)(34,"label",20),Ge(35,"He [%]:"),we(),be(36,"input",21),dn("input",function(){return i.applyChange()}),we(),zn(37,vRe,2,1,"div",16),we()(),be(38,"div",11)(39,"div"),Ge(40,"Target"),we(),be(41,"div",12)(42,"app-oxygen-dropdown",22),dn("gasChange",function(){return i.applyChange()})("standardGasApplied",function(){return i.applyTemplate()}),we()(),be(43,"div",12)(44,"label",14),Ge(45,"He [%]:"),we(),be(46,"input",23),dn("input",function(){return i.applyChange()}),we(),zn(47,gRe,2,1,"div",16),we(),be(48,"div")(49,"label",17),Ge(50),we(),be(51,"input",24),dn("input",function(){return i.applyChange()}),we(),zn(52,yRe,2,1,"div",16),we()()()()(),be(53,"div",25)(54,"div",3)(55,"div",4)(56,"span"),Ge(57,"Results"),we()(),be(58,"div",26),zn(59,CRe,21,16,"table",27)(60,xRe,4,1,"div",28),we()()(),zn(61,LRe,21,15,"div",29)(62,TRe,7,1,"div",30),we()()),2&r&&(Ye("formGroup",i.blenderForm),de(6),Ye("icon",i.calcIcon),de(4),Ye("ngClass",O0(48,hRe,i.showPricing)),k1("aria-pressed",i.showPricing),de(),Ye("icon",i.dollarIcon),de(6),Ye("tank",i.calc.sourceTank)("showBestMix",!1)("showTrimixGases",!0)("nitroxForm",i.blenderForm),de(4),lr("is-invalid",i.sourceHeInvalid),Ye("min",i.ranges.tankHe[0])("max",i.ranges.tankHe[1]),de(),Ye("ngIf",i.sourceHeInvalid),de(3),ln("Pressure [",i.units.pressure,"]:"),de(),lr("is-invalid",i.sourcePressureInvalid),Ye("min",0)("max",i.ranges.tankPressure[1]),de(),Ye("ngIf",i.sourcePressureInvalid),de(5),Ye("tank",i.calc.topMix)("showBestMix",!1)("showTrimixGases",!0)("nitroxForm",i.blenderForm),de(4),lr("is-invalid",i.topMixHeInvalid),Ye("min",i.ranges.tankHe[0])("max",i.ranges.tankHe[1]),de(),Ye("ngIf",i.topMixHeInvalid),de(5),Ye("tank",i.calc.targetTank)("showBestMix",!1)("showTrimixGases",!0)("nitroxForm",i.blenderForm),de(4),lr("is-invalid",i.targetHeInvalid),Ye("min",i.ranges.tankHe[0])("max",i.ranges.tankHe[1]),de(),Ye("ngIf",i.targetHeInvalid),de(3),ln("Pressure [",i.units.pressure,"]:"),de(),lr("is-invalid",i.targetPressureInvalid),Ye("min",i.ranges.tankPressure[0])("max",i.ranges.tankPressure[1]),de(),Ye("ngIf",i.targetPressureInvalid),de(7),Ye("ngIf",!i.calc.unableToCalculate),de(),Ye("ngIf",i.calc.unableToCalculate),de(),Ye("ngIf",i.showPricing),de(),Ye("ngIf",i.showPricing))},dependencies:[I2,ji,fa,P2,ja,xs,Cs,Ya,m1,ws,Ms,Ha,ps,ju,hs]})}return t})()},{path:"**",component:XG,canActivate:[t=>{const n=Xn(p2),e=Xn(Xd);if(0===t.queryParamMap.keys.length&&e.redirectToView){const i=`/${e.lastView}`;return Xn(q1).go(i),n.parseUrl(i)}return!0}]}];let zRe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Qi({type:t});static#n=this.\u0275inj=pr({imports:[RN.forRoot(ARe),RN]})}return t})(),M$=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-footer"]],decls:4,vars:0,consts:[[1,"mt-5"],[1,"page-footer","font-small","bg-light","fixed-bottom","d-none","d-lg-block"],[1,"footer-copyright","text-center","py-2"]],template:function(r,i){1&r&&(un(0,"div",0),be(1,"footer",1)(2,"div",2),un(3,"app-info"),we()())},dependencies:[DM]})}return t})();function kRe(t,n){if(1&t){const e=Qr();be(0,"button",30),dn("click",function(){return Qn(e),Jn(zt().addToHomeScreen())}),Ge(1,"Add to Home screen"),we()}}let w$=(()=>{class t{constructor(e,r){this.schedules=e,this.urls=r,this.isNavbarCollapsed=!0,this.iconMenu=ZC,this.iconAltitude=Sx,this.iconRmv=gx,this.iconPlanner=Fd,this.iconNdl=YC,this.iconWeight=JC,this.iconGasProperties=Pd,this.iconNitrox=Mm,this.iconBlender=xx,this.showInstallButton=!1}onbeforeinstallprompt(e){e.preventDefault(),this.deferredPrompt=e,this.showInstallButton=!0}saveDefaults(){this.schedules.saveDefaults()}loadDefaults(){this.schedules.loadDefaults()}addToHomeScreen(){this.showInstallButton=!1,this.deferredPrompt&&(this.deferredPrompt.prompt(),this.deferredPrompt.userChoice.then(e=>{this.deferredPrompt=null}))}static#e=this.\u0275fac=function(r){return new(r||t)(lt(SM),lt(yc))};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-mainmenu"]],hostBindings:function(r,i){1&r&&dn("beforeinstallprompt",function(s){return i.onbeforeinstallprompt(s)},0,Sh)},decls:60,vars:12,consts:[["basicNavbar","mdbCollapse"],[1,"navbar","navbar-expand-md","navbar-dark","bg-primary","fixed-top"],[1,"container-fluid"],["routerLink","./",1,"navbar-brand","ps-3"],["type","button","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"me-3",3,"icon"],["id","navbarSupportedContent","mdbCollapse","",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],["mdbDropdown","",1,"nav-item","dropdown"],["id","id01","mdbDropdownToggle","",1,"nav-link","dropdown-toggle"],["aria-labelledby","id01","mdbDropdownMenu","",1,"dropdown-menu"],["routerLink","./",1,"dropdown-item"],[1,"me-2",3,"icon"],["routerLink","/sac",1,"dropdown-item"],["routerLink","/nitrox",1,"dropdown-item"],["routerLink","/gas",1,"dropdown-item"],["routerLink","/altitude",1,"dropdown-item"],["routerLink","/weight",1,"dropdown-item"],["routerLink","/ndl",1,"dropdown-item"],["routerLink","/redundancies",1,"dropdown-item"],["routerLink","/blender",1,"dropdown-item"],["id","id02","mdbDropdownToggle","",1,"nav-link","dropdown-toggle"],["aria-labelledby","id02","mdbDropdownMenu","",1,"dropdown-menu"],["routerLink","/settings",1,"dropdown-item"],[1,"dropdown-item",3,"click"],["routerLink","/diff",1,"nav-link"],["target","_blank",1,"nav-link",3,"href"],["routerLink","/about",1,"nav-link"],[1,"nav","navbar-nav","navbar-right"],["class","btn btn-success btn-small mr-auto",3,"click",4,"ngIf"],[1,"btn","btn-success","btn-small","mr-auto",3,"click"]],template:function(r,i){if(1&r){const a=Qr();be(0,"nav",1)(1,"div",2)(2,"a",3),Ge(3,"Gas planner"),we(),be(4,"button",4),dn("click",function(){return Qn(a),Jn(T8(7).toggle())}),un(5,"fa-icon",5),we(),be(6,"div",6,0)(8,"ul",7)(9,"li",8)(10,"a",9),Ge(11,"Calculators"),we(),be(12,"div",10)(13,"a",11),un(14,"fa-icon",12),Ge(15,"Planner"),we(),be(16,"a",13),un(17,"fa-icon",12),Ge(18,"RMV/SAC"),we(),be(19,"a",14),un(20,"fa-icon",12),Ge(21,"Nitrox"),we(),be(22,"a",15),un(23,"fa-icon",12),Ge(24,"Gas properties"),we(),be(25,"a",16),un(26,"fa-icon",12),Ge(27,"Altitude"),we(),be(28,"a",17),un(29,"fa-icon",12),Ge(30,"Weight"),we(),be(31,"a",18),un(32,"fa-icon",12),Ge(33,"NDL table"),we(),be(34,"a",19),Ge(35,"Redundancies"),we(),be(36,"a",20),un(37,"fa-icon",12),Ge(38,"Gas blender"),we()()(),be(39,"li",8)(40,"a",21),Ge(41,"Settings"),we(),be(42,"div",22)(43,"a",23),Ge(44,"Edit"),we(),be(45,"a",24),dn("click",function(){return Qn(a),Jn(i.saveDefaults())}),Ge(46,"Save defaults"),we(),be(47,"a",24),dn("click",function(){return Qn(a),Jn(i.loadDefaults())}),Ge(48,"Reload defaults"),we()()(),be(49,"a",25),Ge(50,"Compare dives"),we(),be(51,"a",26),Ge(52,"Standard gases"),we(),be(53,"a",26),Ge(54,"Help/Learn"),we(),be(55,"a",27),Ge(56,"About"),we()(),be(57,"ul",28)(58,"li"),zn(59,kRe,2,0,"button",29),we()()()()()}2&r&&(de(5),Ye("icon",i.iconMenu),de(9),Ye("icon",i.iconPlanner),de(3),Ye("icon",i.iconRmv),de(3),Ye("icon",i.iconNitrox),de(3),Ye("icon",i.iconGasProperties),de(3),Ye("icon",i.iconAltitude),de(3),Ye("icon",i.iconWeight),de(3),Ye("icon",i.iconNdl),de(5),Ye("icon",i.iconBlender),de(14),S8("href",i.urls.standardGases,z0),de(2),S8("href",i.urls.helpUrl,z0),de(6),Ye("ngIf",i.showInstallButton))},dependencies:[im,ji,fa,eC,Gl,Qc,Jc]})}return t})(),_$=(()=>{class t{constructor(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=xr({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(r,i){1&r&&un(0,"app-mainmenu")(1,"router-outlet")(2,"app-footer")},dependencies:[TC,M$,w$]})}return t})();class EM{constructor(n){this.worker=n,this.onCalculated=new yt,this.onFailed=new yt,this.calculated$=this.onCalculated.asObservable(),this.failed$=this.onFailed.asObservable(),this.worker.addEventListener("message",e=>this.processMessage(e)),this.worker.addEventListener("error",()=>this.onFailed.next())}calculate(n){this.worker.postMessage(n)}processMessage(n){this.onCalculated.next(n.data)}}const NRe=[zRe,Iie,BD,zse,cz],IRe=[nE,DE,AE,K1e,ioe],PRe=[CM],RRe=[{provide:LM,useClass:class ERe extends LM{createProfileWorker(){const n=new Worker(cs.tu(new URL(cs.p+cs.u(369),cs.b)));return new EM(n)}createDiveInfoWorker(){const n=new Worker(cs.tu(new URL(cs.p+cs.u(198),cs.b)));return new EM(n)}createConsumptionWorker(){const n=new Worker(cs.tu(new URL(cs.p+cs.u(559),cs.b)));return new EM(n)}}},fy,hs,eG,GG,XU,rM,Ka,kM,Ls,SM,t$,JG,Dm,qU,UG,aM,Kd,u1,y$,KG,_M,AM,iM,YG,Ho,nM,jr,yc,Qa,Xd,jl,HG,bc,h$,o$,wM,w4,VG,C$];let FRe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Qi({type:t,bootstrap:[_$]});static#n=this.\u0275inj=pr({providers:RRe,imports:[NRe,IRe,PRe,Nse,Bne.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"})]})}return t})();Tee().bootstrapModule(FRe).catch(t=>console.error(t))},376:function(Vo,B2,cs){var Ks;Vo=cs.nmd(Vo),function(){var Zt,p="Expected a function",h="__lodash_hash_undefined__",d="__lodash_placeholder__",_=32,M=128,Q=1/0,U=9007199254740991,pe=4294967295,X=[["ary",M],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",_],["partialRight",64],["rearg",256]],ie="[object Arguments]",ue="[object Array]",ge="[object Boolean]",De="[object Date]",Be="[object Error]",Fe="[object Function]",Se="[object GeneratorFunction]",ye="[object Map]",H="[object Number]",te="[object Object]",Z="[object Promise]",ee="[object RegExp]",B="[object Set]",se="[object String]",xe="[object Symbol]",Ee="[object WeakMap]",$e="[object ArrayBuffer]",ct="[object DataView]",ft="[object Float32Array]",gt="[object Float64Array]",ze="[object Int8Array]",Ve="[object Int16Array]",Pe="[object Int32Array]",Qe="[object Uint8Array]",Ke="[object Uint8ClampedArray]",dt="[object Uint16Array]",Dt="[object Uint32Array]",$t=/\b__p \+= '';/g,Ot=/\b(__p \+=) '' \+/g,kt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,At=/&(?:amp|lt|gt|quot|#39);/g,Gt=/[&<>"']/g,Lt=RegExp(At.source),Qt=RegExp(Gt.source),Jt=/<%-([\s\S]+?)%>/g,en=/<%([\s\S]+?)%>/g,sn=/<%=([\s\S]+?)%>/g,pt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xt=/^\w*$/,yt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ke=/[\\^$.*+?()[\]{}|]/g,Xe=RegExp(ke.source),Me=/^\s+/,_e=/\s/,He=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,We=/\{\n\/\* \[wrapped with (.+)\] \*/,Ze=/,? & /,nt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Bt=/[()=,{}\[\]\/\s]/,Je=/\\(\\)?/g,Ct=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,st=/\w*$/,Pt=/^[-+]0x[0-9a-f]+$/i,cn=/^0b[01]+$/i,_n=/^\[object .+?Constructor\]$/,Nn=/^0o[0-7]+$/i,Vn=/^(?:0|[1-9]\d*)$/,$n=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,fn=/($^)/,Rn=/['\n\r\u2028\u2029\\]/g,En="\\ud800-\\udfff",mn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Wn="\\u2700-\\u27bf",In="a-z\\xdf-\\xf6\\xf8-\\xff",hr="A-Z\\xc0-\\xd6\\xd8-\\xde",rr="\\ufe0e\\ufe0f",bn="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",he="["+En+"]",ut="["+bn+"]",mt="["+mn+"]",at="\\d+",it="["+Wn+"]",ot="["+In+"]",St="[^"+En+bn+at+Wn+In+hr+"]",bt="\\ud83c[\\udffb-\\udfff]",Nt="[^"+En+"]",It="(?:\\ud83c[\\udde6-\\uddff]){2}",qt="[\\ud800-\\udbff][\\udc00-\\udfff]",hn="["+hr+"]",Mn="(?:"+ot+"|"+St+")",Wt="(?:"+hn+"|"+St+")",wn="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Tn="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",jn="(?:"+mt+"|"+bt+")?",or="["+rr+"]?",pr=or+jn+"(?:\\u200d(?:"+[Nt,It,qt].join("|")+")"+or+jn+")*",$r="(?:"+[it,It,qt].join("|")+")"+pr,na="(?:"+[Nt+mt+"?",mt,It,qt,he].join("|")+")",ka=RegExp("['\u2019]","g"),oi=RegExp(mt,"g"),Ci=RegExp(bt+"(?="+bt+")|"+na+pr,"g"),li=RegExp([hn+"?"+ot+"+"+wn+"(?="+[ut,hn,"$"].join("|")+")",Wt+"+"+Tn+"(?="+[ut,hn+Mn,"$"].join("|")+")",hn+"?"+Mn+"+"+wn,hn+"+"+Tn,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",at,$r].join("|"),"g"),br=RegExp("[\\u200d"+En+mn+rr+"]"),Fi=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ui=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],kn=-1,yr={};yr[ft]=yr[gt]=yr[ze]=yr[Ve]=yr[Pe]=yr[Qe]=yr[Ke]=yr[dt]=yr[Dt]=!0,yr[ie]=yr[ue]=yr[$e]=yr[ge]=yr[ct]=yr[De]=yr[Be]=yr[Fe]=yr[ye]=yr[H]=yr[te]=yr[ee]=yr[B]=yr[se]=yr[Ee]=!1;var ur={};ur[ie]=ur[ue]=ur[$e]=ur[ct]=ur[ge]=ur[De]=ur[ft]=ur[gt]=ur[ze]=ur[Ve]=ur[Pe]=ur[ye]=ur[H]=ur[te]=ur[ee]=ur[B]=ur[se]=ur[xe]=ur[Qe]=ur[Ke]=ur[dt]=ur[Dt]=!0,ur[Be]=ur[Fe]=ur[Ee]=!1;var Si={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},zi=parseFloat,ya=parseInt,ki="object"==typeof global&&global&&global.Object===Object&&global,Zi="object"==typeof self&&self&&self.Object===Object&&self,mi=ki||Zi||Function("return this")(),qr=B2&&!B2.nodeType&&B2,da=qr&&Vo&&!Vo.nodeType&&Vo,Ua=da&&da.exports===qr,ls=Ua&&ki.process,Ei=function(){try{return da&&da.require&&da.require("util").types||ls&&ls.binding&&ls.binding("util")}catch{}}(),ba=Ei&&Ei.isArrayBuffer,oa=Ei&&Ei.isDate,zr=Ei&&Ei.isMap,Yr=Ei&&Ei.isRegExp,ca=Ei&&Ei.isSet,Rs=Ei&&Ei.isTypedArray;function ei(on,Cn,Dn){switch(Dn.length){case 0:return on.call(Cn);case 1:return on.call(Cn,Dn[0]);case 2:return on.call(Cn,Dn[0],Dn[1]);case 3:return on.call(Cn,Dn[0],Dn[1],Dn[2])}return on.apply(Cn,Dn)}function Ki(on,Cn,Dn,gr){for(var Kr=-1,Oi=null==on?0:on.length;++Kr<Oi;){var Ca=on[Kr];Cn(gr,Ca,Dn(Ca),on)}return gr}function Er(on,Cn){for(var Dn=-1,gr=null==on?0:on.length;++Dn<gr&&!1!==Cn(on[Dn],Dn,on););return on}function Ni(on,Cn){for(var Dn=null==on?0:on.length;Dn--&&!1!==Cn(on[Dn],Dn,on););return on}function Vr(on,Cn){for(var Dn=-1,gr=null==on?0:on.length;++Dn<gr;)if(!Cn(on[Dn],Dn,on))return!1;return!0}function gs(on,Cn){for(var Dn=-1,gr=null==on?0:on.length,Kr=0,Oi=[];++Dn<gr;){var Ca=on[Dn];Cn(Ca,Dn,on)&&(Oi[Kr++]=Ca)}return Oi}function F1(on,Cn){return!(null==on||!on.length)&&ao(on,Cn,0)>-1}function qa(on,Cn,Dn){for(var gr=-1,Kr=null==on?0:on.length;++gr<Kr;)if(Dn(Cn,on[gr]))return!0;return!1}function Ii(on,Cn){for(var Dn=-1,gr=null==on?0:on.length,Kr=Array(gr);++Dn<gr;)Kr[Dn]=Cn(on[Dn],Dn,on);return Kr}function w1(on,Cn){for(var Dn=-1,gr=Cn.length,Kr=on.length;++Dn<gr;)on[Kr+Dn]=Cn[Dn];return on}function H2(on,Cn,Dn,gr){var Kr=-1,Oi=null==on?0:on.length;for(gr&&Oi&&(Dn=on[++Kr]);++Kr<Oi;)Dn=Cn(Dn,on[Kr],Kr,on);return Dn}function ro(on,Cn,Dn,gr){var Kr=null==on?0:on.length;for(gr&&Kr&&(Dn=on[--Kr]);Kr--;)Dn=Cn(Dn,on[Kr],Kr,on);return Dn}function O1(on,Cn){for(var Dn=-1,gr=null==on?0:on.length;++Dn<gr;)if(Cn(on[Dn],Dn,on))return!0;return!1}var io=gn("length");function z4(on,Cn,Dn){var gr;return Dn(on,function(Kr,Oi,Ca){if(Cn(Kr,Oi,Ca))return gr=Oi,!1}),gr}function g2(on,Cn,Dn,gr){for(var Kr=on.length,Oi=Dn+(gr?1:-1);gr?Oi--:++Oi<Kr;)if(Cn(on[Oi],Oi,on))return Oi;return-1}function ao(on,Cn,Dn){return Cn==Cn?function s3(on,Cn,Dn){for(var gr=Dn-1,Kr=on.length;++gr<Kr;)if(on[gr]===Cn)return gr;return-1}(on,Cn,Dn):g2(on,Uo,Dn)}function Zu(on,Cn,Dn,gr){for(var Kr=Dn-1,Oi=on.length;++Kr<Oi;)if(gr(on[Kr],Cn))return Kr;return-1}function Uo(on){return on!=on}function r3(on,Cn){var Dn=null==on?0:on.length;return Dn?_1(on,Cn)/Dn:NaN}function gn(on){return function(Cn){return null==Cn?Zt:Cn[on]}}function Zl(on){return function(Cn){return null==on?Zt:on[Cn]}}function Xn(on,Cn,Dn,gr,Kr){return Kr(on,function(Oi,Ca,$i){Dn=gr?(gr=!1,Oi):Cn(Dn,Oi,Ca,$i)}),Dn}function _1(on,Cn){for(var Dn,gr=-1,Kr=on.length;++gr<Kr;){var Oi=Cn(on[gr]);Oi!==Zt&&(Dn=Dn===Zt?Oi:Dn+Oi)}return Dn}function y2(on,Cn){for(var Dn=-1,gr=Array(on);++Dn<on;)gr[Dn]=Cn(Dn);return gr}function Xl(on){return on&&on.slice(0,B1(on)+1).replace(Me,"")}function us(on){return function(Cn){return on(Cn)}}function Cc(on,Cn){return Ii(Cn,function(Dn){return on[Dn]})}function Go(on,Cn){return on.has(Cn)}function k4(on,Cn){for(var Dn=-1,gr=on.length;++Dn<gr&&ao(Cn,on[Dn],0)>-1;);return Dn}function cl(on,Cn){for(var Dn=on.length;Dn--&&ao(Cn,on[Dn],0)>-1;);return Dn}var b2=Zl({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),E4=Zl({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function d1(on){return"\\"+Si[on]}function V2(on){return br.test(on)}function ll(on){var Cn=-1,Dn=Array(on.size);return on.forEach(function(gr,Kr){Dn[++Cn]=[Kr,gr]}),Dn}function Ku(on,Cn){return function(Dn){return on(Cn(Dn))}}function $o(on,Cn){for(var Dn=-1,gr=on.length,Kr=0,Oi=[];++Dn<gr;){var Ca=on[Dn];(Ca===Cn||Ca===d)&&(on[Dn]=d,Oi[Kr++]=Dn)}return Oi}function a3(on){var Cn=-1,Dn=Array(on.size);return on.forEach(function(gr){Dn[++Cn]=gr}),Dn}function ul(on){return V2(on)?function C2(on){for(var Cn=Ci.lastIndex=0;Ci.test(on);)++Cn;return Cn}(on):io(on)}function S1(on){return V2(on)?function N4(on){return on.match(Ci)||[]}(on):function A4(on){return on.split("")}(on)}function B1(on){for(var Cn=on.length;Cn--&&_e.test(on.charAt(Cn)););return Cn}var Pi=Zl({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),U2=function on(Cn){var u,Dn=(Cn=null==Cn?mi:U2.defaults(mi.Object(),Cn,U2.pick(mi,ui))).Array,gr=Cn.Date,Kr=Cn.Error,Oi=Cn.Function,Ca=Cn.Math,$i=Cn.Object,Jl=Cn.RegExp,Qu=Cn.String,h1=Cn.TypeError,ql=Dn.prototype,Ss=$i.prototype,e0=Cn["__core-js_shared__"],fl=Oi.prototype.toString,Wi=Ss.hasOwnProperty,dl=0,wc=(u=/[^.]+$/.exec(e0&&e0.keys&&e0.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"",T1=Ss.toString,I4=fl.call($i),qu=mi._,ef=Jl("^"+fl.call(Wi).replace(ke,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),t0=Ua?Cn.Buffer:Zt,xr=Cn.Symbol,n0=Cn.Uint8Array,P4=t0?t0.allocUnsafe:Zt,Qi=Ku($i.getPrototypeOf,$i),c3=$i.create,Lr=Ss.propertyIsEnumerable,es=ql.splice,ri=xr?xr.isConcatSpreadable:Zt,xa=xr?xr.iterator:Zt,Ma=xr?xr.toStringTag:Zt,so=function(){try{var u=J2($i,"defineProperty");return u({},"",{}),u}catch{}}(),Fs=Cn.clearTimeout!==mi.clearTimeout&&Cn.clearTimeout,l3=gr&&gr.now!==mi.Date.now&&gr.now,R4=Cn.setTimeout!==mi.setTimeout&&Cn.setTimeout,G2=Ca.ceil,_c=Ca.floor,r0=$i.getOwnPropertySymbols,Lc=t0?t0.isBuffer:Zt,u3=Cn.isFinite,f3=ql.join,F4=Ku($i.keys,$i),wa=Ca.max,Os=Ca.min,a0=gr.now,d3=Cn.parseInt,Sc=Ca.random,O4=ql.reverse,s0=J2(Cn,"DataView"),oo=J2(Cn,"Map"),h3=J2(Cn,"Promise"),x2=J2(Cn,"Set"),jo=J2(Cn,"WeakMap"),Tc=J2($i,"create"),M2=jo&&new jo,So={},Ts=Nc(s0),Yo=Nc(oo),p3=Nc(h3),m3=Nc(x2),B4=Nc(jo),hl=xr?xr.prototype:Zt,To=hl?hl.valueOf:Zt,v3=hl?hl.toString:Zt;function vt(u){if(Ta(u)&&!ii(u)&&!(u instanceof wi)){if(u instanceof Ea)return u;if(Wi.call(u,"__wrapped__"))return Tl(u)}return new Ea(u)}var $2=function(){function u(){}return function(k){if(!ma(k))return{};if(c3)return c3(k);u.prototype=k;var q=new u;return u.prototype=Zt,q}}();function w2(){}function Ea(u,k){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!k,this.__index__=0,this.__values__=Zt}function wi(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=pe,this.__views__=[]}function W2(u){var k=-1,q=null==u?0:u.length;for(this.clear();++k<q;){var Ie=u[k];this.set(Ie[0],Ie[1])}}function Zo(u){var k=-1,q=null==u?0:u.length;for(this.clear();++k<q;){var Ie=u[k];this.set(Ie[0],Ie[1])}}function H1(u){var k=-1,q=null==u?0:u.length;for(this.clear();++k<q;){var Ie=u[k];this.set(Ie[0],Ie[1])}}function Ia(u){var k=-1,q=null==u?0:u.length;for(this.__data__=new H1;++k<q;)this.add(u[k])}function _i(u){var k=this.__data__=new Zo(u);this.size=k.size}function Ko(u,k){var q=ii(u),Ie=!q&&q2(u),qe=!q&&!Ie&&A2(u),Mt=!q&&!Ie&&!qe&&ko(u),Yt=q||Ie||qe||Mt,rn=Yt?y2(u.length,Qu):[],vn=rn.length;for(var Un in u)(k||Wi.call(u,Un))&&(!Yt||!("length"==Un||qe&&("offset"==Un||"parent"==Un)||Mt&&("buffer"==Un||"byteLength"==Un||"byteOffset"==Un)||t2(Un,vn)))&&rn.push(Un);return rn}function ra(u){var k=u.length;return k?u[Tt(0,k-1)]:Zt}function yl(u,k){return Sl(Ui(u),G1(k,0,u.length))}function Ac(u){return Sl(Ui(u))}function co(u,k,q){(q!==Zt&&!zo(u[k],q)||q===Zt&&!(k in u))&&Rr(u,k,q)}function U1(u,k,q){var Ie=u[k];(!Wi.call(u,k)||!zo(Ie,q)||q===Zt&&!(k in u))&&Rr(u,k,q)}function j2(u,k){for(var q=u.length;q--;)if(zo(u[q][0],k))return q;return-1}function Qo(u,k,q,Ie){return _a(u,function(qe,Mt,Yt){k(Ie,qe,q(qe),Yt)}),Ie}function bl(u,k){return u&&qs(k,Gs(k),u)}function Rr(u,k,q){"__proto__"==k&&so?so(u,k,{configurable:!0,enumerable:!0,value:q,writable:!0}):u[k]=q}function Hs(u,k){for(var q=-1,Ie=k.length,qe=Dn(Ie),Mt=null==u;++q<Ie;)qe[q]=Mt?Zt:fh(u,k[q]);return qe}function G1(u,k,q){return u==u&&(q!==Zt&&(u=u<=q?u:q),k!==Zt&&(u=u>=k?u:k)),u}function Pa(u,k,q,Ie,qe,Mt){var Yt,rn=1&k,vn=2&k,Un=4&k;if(q&&(Yt=qe?q(u,Ie,qe,Mt):q(u)),Yt!==Zt)return Yt;if(!ma(u))return u;var Gn=ii(u);if(Gn){if(Yt=function Qm(u){var k=u.length,q=new u.constructor(k);return k&&"string"==typeof u[0]&&Wi.call(u,"index")&&(q.index=u.index,q.input=u.input),q}(u),!rn)return Ui(u,Yt)}else{var Sn=ds(u),de=Sn==Fe||Sn==Se;if(A2(u))return Js(u,rn);if(Sn==te||Sn==ie||de&&!qe){if(Yt=vn||de?{}:C5(u),!rn)return vn?function Ym(u,k){return qs(u,b5(u),k)}(u,function Y2(u,k){return u&&qs(k,Q1(k),u)}(Yt,u)):function h0(u,k){return qs(u,r6(u),k)}(u,bl(Yt,u))}else{if(!ur[Sn])return qe?u:{};Yt=function Jm(u,k,q){var Ie=u.constructor;switch(k){case $e:return e2(u);case ge:case De:return new Ie(+u);case ct:return function sf(u,k){var q=k?e2(u.buffer):u.buffer;return new u.constructor(q,u.byteOffset,u.byteLength)}(u,q);case ft:case gt:case ze:case Ve:case Pe:case Qe:case Ke:case dt:case Dt:return Qn(u,q);case ye:return new Ie;case H:case se:return new Ie(u);case ee:return function An(u){var k=new u.constructor(u.source,st.exec(u));return k.lastIndex=u.lastIndex,k}(u);case B:return new Ie;case xe:return function Ir(u){return To?$i(To.call(u)):{}}(u)}}(u,Sn,rn)}}Mt||(Mt=new _i);var Sr=Mt.get(u);if(Sr)return Sr;Mt.set(u,Yt),Vf(u)?u.forEach(function(Ur){Yt.add(Pa(Ur,k,q,Ur,u,Mt))}):Of(u)&&u.forEach(function(Ur,Ai){Yt.set(Ai,Pa(Ur,k,q,Ai,u,Mt))});var bi=Gn?Zt:(Un?vn?n6:t6:vn?Q1:Gs)(u);return Er(bi||u,function(Ur,Ai){bi&&(Ur=u[Ai=Ur]),U1(Yt,Ai,Pa(Ur,k,q,Ai,u,Mt))}),Yt}function Jo(u,k,q){var Ie=q.length;if(null==u)return!Ie;for(u=$i(u);Ie--;){var qe=q[Ie],Yt=u[qe];if(Yt===Zt&&!(qe in u)||!(0,k[qe])(Yt))return!1}return!0}function ha(u,k,q){if("function"!=typeof u)throw new h1(p);return C0(function(){u.apply(Zt,q)},k)}function Z2(u,k,q,Ie){var qe=-1,Mt=F1,Yt=!0,rn=u.length,vn=[],Un=k.length;if(!rn)return vn;q&&(k=Ii(k,us(q))),Ie?(Mt=qa,Yt=!1):k.length>=200&&(Mt=Go,Yt=!1,k=new Ia(k));e:for(;++qe<rn;){var Gn=u[qe],Sn=null==q?Gn:q(Gn);if(Gn=Ie||0!==Gn?Gn:0,Yt&&Sn==Sn){for(var de=Un;de--;)if(k[de]===Sn)continue e;vn.push(Gn)}else Mt(k,Sn,Ie)||vn.push(Gn)}return vn}vt.templateSettings={escape:Jt,evaluate:en,interpolate:sn,variable:"",imports:{_:vt}},(vt.prototype=w2.prototype).constructor=vt,(Ea.prototype=$2(w2.prototype)).constructor=Ea,(wi.prototype=$2(w2.prototype)).constructor=wi,W2.prototype.clear=function ts(){this.__data__=Tc?Tc(null):{},this.size=0},W2.prototype.delete=function vl(u){var k=this.has(u)&&delete this.__data__[u];return this.size-=k?1:0,k},W2.prototype.get=function V4(u){var k=this.__data__;if(Tc){var q=k[u];return q===h?Zt:q}return Wi.call(k,u)?k[u]:Zt},W2.prototype.has=function gl(u){var k=this.__data__;return Tc?k[u]!==Zt:Wi.call(k,u)},W2.prototype.set=function tf(u,k){var q=this.__data__;return this.size+=this.has(u)?0:1,q[u]=Tc&&k===Zt?h:k,this},Zo.prototype.clear=function nf(){this.__data__=[],this.size=0},Zo.prototype.delete=function U4(u){var k=this.__data__,q=j2(k,u);return!(q<0||(q==k.length-1?k.pop():es.call(k,q,1),--this.size,0))},Zo.prototype.get=function G4(u){var k=this.__data__,q=j2(k,u);return q<0?Zt:k[q][1]},Zo.prototype.has=function $4(u){return j2(this.__data__,u)>-1},Zo.prototype.set=function o0(u,k){var q=this.__data__,Ie=j2(q,u);return Ie<0?(++this.size,q.push([u,k])):q[Ie][1]=k,this},H1.prototype.clear=function Ji(){this.size=0,this.__data__={hash:new W2,map:new(oo||Zo),string:new W2}},H1.prototype.delete=function cr(u){var k=Ll(this,u).delete(u);return this.size-=k?1:0,k},H1.prototype.get=function Nr(u){return Ll(this,u).get(u)},H1.prototype.has=function Na(u){return Ll(this,u).has(u)},H1.prototype.set=function V1(u,k){var q=Ll(this,u),Ie=q.size;return q.set(u,k),this.size+=q.size==Ie?0:1,this},Ia.prototype.add=Ia.prototype.push=function Bs(u){return this.__data__.set(u,h),this},Ia.prototype.has=function Xo(u){return this.__data__.has(u)},_i.prototype.clear=function Ga(){this.__data__=new Zo,this.size=0},_i.prototype.delete=function D1(u){var k=this.__data__,q=k.delete(u);return this.size=k.size,q},_i.prototype.get=function Tr(u){return this.__data__.get(u)},_i.prototype.has=function Dc(u){return this.__data__.has(u)},_i.prototype.set=function W4(u,k){var q=this.__data__;if(q instanceof Zo){var Ie=q.__data__;if(!oo||Ie.length<199)return Ie.push([u,k]),this.size=++q.size,this;q=this.__data__=new H1(Ie)}return q.set(u,k),this.size=q.size,this};var _a=p1($1),Ds=p1(u0,!0);function c0(u,k){var q=!0;return _a(u,function(Ie,qe,Mt){return q=!!k(Ie,qe,Mt)}),q}function uo(u,k,q){for(var Ie=-1,qe=u.length;++Ie<qe;){var Mt=u[Ie],Yt=k(Mt);if(null!=Yt&&(rn===Zt?Yt==Yt&&!X1(Yt):q(Yt,rn)))var rn=Yt,vn=Mt}return vn}function A1(u,k){var q=[];return _a(u,function(Ie,qe,Mt){k(Ie,qe,Mt)&&q.push(Ie)}),q}function fs(u,k,q,Ie,qe){var Mt=-1,Yt=u.length;for(q||(q=RM),qe||(qe=[]);++Mt<Yt;){var rn=u[Mt];k>0&&q(rn)?k>1?fs(rn,k-1,q,Ie,qe):w1(qe,rn):Ie||(qe[qe.length]=rn)}return qe}var l0=L2(),j4=L2(!0);function $1(u,k){return u&&l0(u,k,Gs)}function u0(u,k){return u&&j4(u,k,Gs)}function xl(u,k){return gs(k,function(q){return ec(u[q])})}function Do(u,k){for(var q=0,Ie=(k=La(k,u)).length;null!=u&&q<Ie;)u=u[T2(k[q++])];return q&&q==Ie?u:Zt}function f0(u,k,q){var Ie=k(u);return ii(u)?Ie:w1(Ie,q(u))}function Qs(u){return null==u?u===Zt?"[object Undefined]":"[object Null]":Ma&&Ma in $i(u)?function y5(u){var k=Wi.call(u,Ma),q=u[Ma];try{u[Ma]=Zt;var Ie=!0}catch{}var qe=T1.call(u);return Ie&&(k?u[Ma]=q:delete u[Ma]),qe}(u):function df(u){return T1.call(u)}(u)}function Ml(u,k){return u>k}function rf(u,k){return null!=u&&Wi.call(u,k)}function d0(u,k){return null!=u&&k in $i(u)}function g3(u,k,q){for(var Ie=q?qa:F1,qe=u[0].length,Mt=u.length,Yt=Mt,rn=Dn(Mt),vn=1/0,Un=[];Yt--;){var Gn=u[Yt];Yt&&k&&(Gn=Ii(Gn,us(k))),vn=Os(Gn.length,vn),rn[Yt]=!q&&(k||qe>=120&&Gn.length>=120)?new Ia(Yt&&Gn):Zt}Gn=u[0];var Sn=-1,de=rn[0];e:for(;++Sn<qe&&Un.length<vn;){var Sr=Gn[Sn],lt=k?k(Sr):Sr;if(Sr=q||0!==Sr?Sr:0,!(de?Go(de,lt):Ie(Un,lt,q))){for(Yt=Mt;--Yt;){var bi=rn[Yt];if(!(bi?Go(bi,lt):Ie(u[Yt],lt,q)))continue e}de&&de.push(lt),Un.push(Sr)}}return Un}function X2(u,k,q){var Ie=null==(u=S3(u,k=La(k,u)))?u:u[T2(qi(k))];return null==Ie?Zt:ei(Ie,u,q)}function y3(u){return Ta(u)&&Qs(u)==ie}function qo(u,k,q,Ie,qe){return u===k||(null==u||null==k||!Ta(u)&&!Ta(k)?u!=u&&k!=k:function b3(u,k,q,Ie,qe,Mt){var Yt=ii(u),rn=ii(k),vn=Yt?ue:ds(u),Un=rn?ue:ds(k),Gn=(vn=vn==ie?te:vn)==te,Sn=(Un=Un==ie?te:Un)==te,de=vn==Un;if(de&&A2(u)){if(!A2(k))return!1;Yt=!0,Gn=!1}if(de&&!Gn)return Mt||(Mt=new _i),Yt||ko(u)?g5(u,k,q,Ie,qe,Mt):function Zm(u,k,q,Ie,qe,Mt,Yt){switch(q){case ct:if(u.byteLength!=k.byteLength||u.byteOffset!=k.byteOffset)return!1;u=u.buffer,k=k.buffer;case $e:return!(u.byteLength!=k.byteLength||!Mt(new n0(u),new n0(k)));case ge:case De:case H:return zo(+u,+k);case Be:return u.name==k.name&&u.message==k.message;case ee:case se:return u==k+"";case ye:var rn=ll;case B:if(rn||(rn=a3),u.size!=k.size&&!(1&Ie))return!1;var Un=Yt.get(u);if(Un)return Un==k;Ie|=2,Yt.set(u,k);var Gn=g5(rn(u),rn(k),Ie,qe,Mt,Yt);return Yt.delete(u),Gn;case xe:if(To)return To.call(u)==To.call(k)}return!1}(u,k,vn,q,Ie,qe,Mt);if(!(1&q)){var Sr=Gn&&Wi.call(u,"__wrapped__"),lt=Sn&&Wi.call(k,"__wrapped__");if(Sr||lt){var bi=Sr?u.value():u,Ur=lt?k.value():k;return Mt||(Mt=new _i),qe(bi,Ur,q,Ie,Mt)}}return!!de&&(Mt||(Mt=new _i),function Xm(u,k,q,Ie,qe,Mt){var Yt=1&q,rn=t6(u),vn=rn.length;if(vn!=t6(k).length&&!Yt)return!1;for(var Sn=vn;Sn--;){var de=rn[Sn];if(!(Yt?de in k:Wi.call(k,de)))return!1}var Sr=Mt.get(u),lt=Mt.get(k);if(Sr&&lt)return Sr==k&&lt==u;var bi=!0;Mt.set(u,k),Mt.set(k,u);for(var Ur=Yt;++Sn<vn;){var Ai=u[de=rn[Sn]],Ti=k[de];if(Ie)var $s=Yt?Ie(Ti,Ai,de,k,u,Mt):Ie(Ai,Ti,de,u,k,Mt);if(!($s===Zt?Ai===Ti||qe(Ai,Ti,q,Ie,Mt):$s)){bi=!1;break}Ur||(Ur="constructor"==de)}if(bi&&!Ur){var t1=u.constructor,n1=k.constructor;t1!=n1&&"constructor"in u&&"constructor"in k&&!("function"==typeof t1&&t1 instanceof t1&&"function"==typeof n1&&n1 instanceof n1)&&(bi=!1)}return Mt.delete(u),Mt.delete(k),bi}(u,k,q,Ie,qe,Mt))}(u,k,q,Ie,qo,qe))}function Z4(u,k,q,Ie){var qe=q.length,Mt=qe,Yt=!Ie;if(null==u)return!Mt;for(u=$i(u);qe--;){var rn=q[qe];if(Yt&&rn[2]?rn[1]!==u[rn[0]]:!(rn[0]in u))return!1}for(;++qe<Mt;){var vn=(rn=q[qe])[0],Un=u[vn],Gn=rn[1];if(Yt&&rn[2]){if(Un===Zt&&!(vn in u))return!1}else{var Sn=new _i;if(Ie)var de=Ie(Un,Gn,vn,u,k,Sn);if(!(de===Zt?qo(Gn,Un,3,Ie,Sn):de))return!1}}return!0}function af(u){return!(!ma(u)||function a6(u){return!!wc&&wc in u}(u))&&(ec(u)?ef:_n).test(Nc(u))}function As(u){return"function"==typeof u?u:null==u?ho:"object"==typeof u?ii(u)?me(u[0],u[1]):fe(u):Ih(u)}function f(u){if(!b0(u))return F4(u);var k=[];for(var q in $i(u))Wi.call(u,q)&&"constructor"!=q&&k.push(q);return k}function V(u,k){return u<k}function ae(u,k){var q=-1,Ie=Z1(u)?Dn(u.length):[];return _a(u,function(qe,Mt,Yt){Ie[++q]=k(qe,Mt,Yt)}),Ie}function fe(u){var k=y0(u);return 1==k.length&&k[0][2]?x5(k[0][0],k[0][1]):function(q){return q===u||Z4(q,u,k)}}function me(u,k){return uf(u)&&ff(k)?x5(T2(u),k):function(q){var Ie=fh(q,u);return Ie===Zt&&Ie===k?M6(q,u):qo(k,Ie,3)}}function Re(u,k,q,Ie,qe){u!==k&&l0(k,function(Mt,Yt){if(qe||(qe=new _i),ma(Mt))!function Ae(u,k,q,Ie,qe,Mt,Yt){var rn=mf(u,q),vn=mf(k,q),Un=Yt.get(vn);if(Un)co(u,q,Un);else{var Gn=Mt?Mt(rn,vn,q+"",u,k,Yt):Zt,Sn=Gn===Zt;if(Sn){var de=ii(vn),Sr=!de&&A2(vn),lt=!de&&!Sr&&ko(vn);Gn=vn,de||Sr||lt?ii(rn)?Gn=rn:Sa(rn)?Gn=Ui(rn):Sr?(Sn=!1,Gn=Js(vn,!0)):lt?(Sn=!1,Gn=Qn(vn,!0)):Gn=[]:b6(vn)||q2(vn)?(Gn=rn,q2(rn)?Gn=ah(rn):(!ma(rn)||ec(rn))&&(Gn=C5(vn))):Sn=!1}Sn&&(Yt.set(vn,Gn),qe(Gn,vn,Ie,Mt,Yt),Yt.delete(vn)),co(u,q,Gn)}}(u,k,Yt,q,Re,Ie,qe);else{var rn=Ie?Ie(mf(u,Yt),Mt,Yt+"",u,k,qe):Zt;rn===Zt&&(rn=Mt),co(u,Yt,rn)}},Q1)}function Ue(u,k){var q=u.length;if(q)return t2(k+=k<0?q:0,q)?u[k]:Zt}function et(u,k,q){k=k.length?Ii(k,function(Mt){return ii(Mt)?function(Yt){return Do(Yt,1===Mt.length?Mt[0]:Mt)}:Mt}):[ho];var Ie=-1;return k=Ii(k,us(Or())),function ol(on,Cn){var Dn=on.length;for(on.sort(Cn);Dn--;)on[Dn]=on[Dn].value;return on}(ae(u,function(Mt,Yt,rn){return{criteria:Ii(k,function(Un){return Un(Mt)}),index:++Ie,value:Mt}}),function(Mt,Yt){return function di(u,k,q){for(var Ie=-1,qe=u.criteria,Mt=k.criteria,Yt=qe.length,rn=q.length;++Ie<Yt;){var vn=Jn(qe[Ie],Mt[Ie]);if(vn)return Ie>=rn?vn:vn*("desc"==q[Ie]?-1:1)}return u.index-k.index}(Mt,Yt,q)})}function wt(u,k,q){for(var Ie=-1,qe=k.length,Mt={};++Ie<qe;){var Yt=k[Ie],rn=Do(u,Yt);q(rn,Yt)&&Ln(Mt,La(Yt,u),rn)}return Mt}function Kt(u,k,q,Ie){var qe=Ie?Zu:ao,Mt=-1,Yt=k.length,rn=u;for(u===k&&(k=Ui(k)),q&&(rn=Ii(u,us(q)));++Mt<Yt;)for(var vn=0,Un=k[Mt],Gn=q?q(Un):Un;(vn=qe(rn,Gn,vn,Ie))>-1;)rn!==u&&es.call(rn,vn,1),es.call(u,vn,1);return u}function Xt(u,k){for(var q=u?k.length:0,Ie=q-1;q--;){var qe=k[q];if(q==Ie||qe!==Mt){var Mt=qe;t2(qe)?es.call(u,qe,1):Kn(u,qe)}}return u}function Tt(u,k){return u+_c(Sc()*(k-u+1))}function Ht(u,k){var q="";if(!u||k<1||k>U)return q;do{k%2&&(q+=u),(k=_c(k/2))&&(u+=u)}while(k);return q}function Ut(u,k){return o6(hf(u,k,ho),u+"")}function tn(u){return ra(k0(u))}function jt(u,k){var q=k0(u);return Sl(q,G1(k,0,q.length))}function Ln(u,k,q,Ie){if(!ma(u))return u;for(var qe=-1,Mt=(k=La(k,u)).length,Yt=Mt-1,rn=u;null!=rn&&++qe<Mt;){var vn=T2(k[qe]),Un=q;if("__proto__"===vn||"constructor"===vn||"prototype"===vn)return u;if(qe!=Yt){var Gn=rn[vn];(Un=Ie?Ie(Gn,vn,rn):Zt)===Zt&&(Un=ma(Gn)?Gn:t2(k[qe+1])?[]:{})}U1(rn,vn,Un),rn=rn[vn]}return u}var nr=M2?function(u,k){return M2.set(u,k),u}:ho,sr=so?function(u,k){return so(u,"toString",{configurable:!0,enumerable:!1,value:Ah(k),writable:!0})}:ho;function ar(u){return Sl(k0(u))}function qn(u,k,q){var Ie=-1,qe=u.length;k<0&&(k=-k>qe?0:qe+k),(q=q>qe?qe:q)<0&&(q+=qe),qe=k>q?0:q-k>>>0,k>>>=0;for(var Mt=Dn(qe);++Ie<qe;)Mt[Ie]=u[Ie+k];return Mt}function fr(u,k){var q;return _a(u,function(Ie,qe,Mt){return!(q=k(Ie,qe,Mt))}),!!q}function kr(u,k,q){var Ie=0,qe=null==u?Ie:u.length;if("number"==typeof k&&k==k&&qe<=2147483647){for(;Ie<qe;){var Mt=Ie+qe>>>1,Yt=u[Mt];null!==Yt&&!X1(Yt)&&(q?Yt<=k:Yt<k)?Ie=Mt+1:qe=Mt}return qe}return dr(u,k,ho,q)}function dr(u,k,q,Ie){var qe=0,Mt=null==u?0:u.length;if(0===Mt)return 0;for(var Yt=(k=q(k))!=k,rn=null===k,vn=X1(k),Un=k===Zt;qe<Mt;){var Gn=_c((qe+Mt)/2),Sn=q(u[Gn]),de=Sn!==Zt,Sr=null===Sn,lt=Sn==Sn,bi=X1(Sn);if(Yt)var Ur=Ie||lt;else Ur=Un?lt&&(Ie||de):rn?lt&&de&&(Ie||!Sr):vn?lt&&de&&!Sr&&(Ie||!bi):!Sr&&!bi&&(Ie?Sn<=k:Sn<k);Ur?qe=Gn+1:Mt=Gn}return Os(Mt,4294967294)}function Mr(u,k){for(var q=-1,Ie=u.length,qe=0,Mt=[];++q<Ie;){var Yt=u[q],rn=k?k(Yt):Yt;if(!q||!zo(rn,vn)){var vn=rn;Mt[qe++]=0===Yt?0:Yt}}return Mt}function fi(u){return"number"==typeof u?u:X1(u)?NaN:+u}function vi(u){if("string"==typeof u)return u;if(ii(u))return Ii(u,vi)+"";if(X1(u))return v3?v3.call(u):"";var k=u+"";return"0"==k&&1/u==-Q?"-0":k}function ti(u,k,q){var Ie=-1,qe=F1,Mt=u.length,Yt=!0,rn=[],vn=rn;if(q)Yt=!1,qe=qa;else if(Mt>=200){var Un=k?null:v5(u);if(Un)return a3(Un);Yt=!1,qe=Go,vn=new Ia}else vn=k?[]:rn;e:for(;++Ie<Mt;){var Gn=u[Ie],Sn=k?k(Gn):Gn;if(Gn=q||0!==Gn?Gn:0,Yt&&Sn==Sn){for(var de=vn.length;de--;)if(vn[de]===Sn)continue e;k&&vn.push(Sn),rn.push(Gn)}else qe(vn,Sn,q)||(vn!==rn&&vn.push(Sn),rn.push(Gn))}return rn}function Kn(u,k){return null==(u=S3(u,k=La(k,u)))||delete u[T2(qi(k))]}function wr(u,k,q,Ie){return Ln(u,k,q(Do(u,k)),Ie)}function er(u,k,q,Ie){for(var qe=u.length,Mt=Ie?qe:-1;(Ie?Mt--:++Mt<qe)&&k(u[Mt],Mt,u););return q?qn(u,Ie?0:Mt,Ie?Mt+1:qe):qn(u,Ie?Mt+1:0,Ie?qe:Mt)}function gi(u,k){var q=u;return q instanceof wi&&(q=q.value()),H2(k,function(Ie,qe){return qe.func.apply(qe.thisArg,w1([Ie],qe.args))},q)}function ia(u,k,q){var Ie=u.length;if(Ie<2)return Ie?ti(u[0]):[];for(var qe=-1,Mt=Dn(Ie);++qe<Ie;)for(var Yt=u[qe],rn=-1;++rn<Ie;)rn!=qe&&(Mt[qe]=Z2(Mt[qe]||Yt,u[rn],k,q));return ti(fs(Mt,1),k,q)}function Ra(u,k,q){for(var Ie=-1,qe=u.length,Mt=k.length,Yt={};++Ie<qe;)q(Yt,u[Ie],Ie<Mt?k[Ie]:Zt);return Yt}function rs(u){return Sa(u)?u:[]}function ys(u){return"function"==typeof u?u:ho}function La(u,k){return ii(u)?u:uf(u,k)?[u]:Ec(Xi(u))}var $a=Ut;function Wa(u,k,q){var Ie=u.length;return q=q===Zt?Ie:q,!k&&q>=Ie?u:qn(u,k,q)}var bs=Fs||function(u){return mi.clearTimeout(u)};function Js(u,k){if(k)return u.slice();var q=u.length,Ie=P4?P4(q):new u.constructor(q);return u.copy(Ie),Ie}function e2(u){var k=new u.constructor(u.byteLength);return new n0(k).set(new n0(u)),k}function Qn(u,k){var q=k?e2(u.buffer):u.buffer;return new u.constructor(q,u.byteOffset,u.length)}function Jn(u,k){if(u!==k){var q=u!==Zt,Ie=null===u,qe=u==u,Mt=X1(u),Yt=k!==Zt,rn=null===k,vn=k==k,Un=X1(k);if(!rn&&!Un&&!Mt&&u>k||Mt&&Yt&&vn&&!rn&&!Un||Ie&&Yt&&vn||!q&&vn||!qe)return 1;if(!Ie&&!Mt&&!Un&&u<k||Un&&q&&qe&&!Ie&&!Mt||rn&&q&&qe||!Yt&&qe||!vn)return-1}return 0}function _2(u,k,q,Ie){for(var qe=-1,Mt=u.length,Yt=q.length,rn=-1,vn=k.length,Un=wa(Mt-Yt,0),Gn=Dn(vn+Un),Sn=!Ie;++rn<vn;)Gn[rn]=k[rn];for(;++qe<Yt;)(Sn||qe<Mt)&&(Gn[q[qe]]=u[qe]);for(;Un--;)Gn[rn++]=u[qe++];return Gn}function W1(u,k,q,Ie){for(var qe=-1,Mt=u.length,Yt=-1,rn=q.length,vn=-1,Un=k.length,Gn=wa(Mt-rn,0),Sn=Dn(Gn+Un),de=!Ie;++qe<Gn;)Sn[qe]=u[qe];for(var Sr=qe;++vn<Un;)Sn[Sr+vn]=k[vn];for(;++Yt<rn;)(de||qe<Mt)&&(Sn[Sr+q[Yt]]=u[qe++]);return Sn}function Ui(u,k){var q=-1,Ie=u.length;for(k||(k=Dn(Ie));++q<Ie;)k[q]=u[q];return k}function qs(u,k,q,Ie){var qe=!q;q||(q={});for(var Mt=-1,Yt=k.length;++Mt<Yt;){var rn=k[Mt],vn=Ie?Ie(q[rn],u[rn],rn,q,u):Zt;vn===Zt&&(vn=u[rn]),qe?Rr(q,rn,vn):U1(q,rn,vn)}return q}function cf(u,k){return function(q,Ie){var qe=ii(q)?Ki:Qo,Mt=k?k():{};return qe(q,u,Or(Ie,2),Mt)}}function wl(u){return Ut(function(k,q){var Ie=-1,qe=q.length,Mt=qe>1?q[qe-1]:Zt,Yt=qe>2?q[2]:Zt;for(Mt=u.length>3&&"function"==typeof Mt?(qe--,Mt):Zt,Yt&&zs(q[0],q[1],Yt)&&(Mt=qe<3?Zt:Mt,qe=1),k=$i(k);++Ie<qe;){var rn=q[Ie];rn&&u(k,rn,Ie,Mt)}return k})}function p1(u,k){return function(q,Ie){if(null==q)return q;if(!Z1(q))return u(q,Ie);for(var qe=q.length,Mt=k?qe:-1,Yt=$i(q);(k?Mt--:++Mt<qe)&&!1!==Ie(Yt[Mt],Mt,Yt););return q}}function L2(u){return function(k,q,Ie){for(var qe=-1,Mt=$i(k),Yt=Ie(k),rn=Yt.length;rn--;){var vn=Yt[u?rn:++qe];if(!1===q(Mt[vn],vn,Mt))break}return k}}function Ao(u){return function(k){var q=V2(k=Xi(k))?S1(k):Zt,Ie=q?q[0]:k.charAt(0),qe=q?Wa(q,1).join(""):k.slice(1);return Ie[u]()+qe}}function j1(u){return function(k){return H2(J1(Mh(k).replace(ka,"")),u,"")}}function x3(u){return function(){var k=arguments;switch(k.length){case 0:return new u;case 1:return new u(k[0]);case 2:return new u(k[0],k[1]);case 3:return new u(k[0],k[1],k[2]);case 4:return new u(k[0],k[1],k[2],k[3]);case 5:return new u(k[0],k[1],k[2],k[3],k[4]);case 6:return new u(k[0],k[1],k[2],k[3],k[4],k[5]);case 7:return new u(k[0],k[1],k[2],k[3],k[4],k[5],k[6])}var q=$2(u.prototype),Ie=u.apply(q,k);return ma(Ie)?Ie:q}}function h5(u){return function(k,q,Ie){var qe=$i(k);if(!Z1(k)){var Mt=Or(q,3);k=Gs(k),q=function(rn){return Mt(qe[rn],rn,qe)}}var Yt=u(k,q,Ie);return Yt>-1?qe[Mt?k[Yt]:Yt]:Zt}}function p5(u){return Q2(function(k){var q=k.length,Ie=q,qe=Ea.prototype.thru;for(u&&k.reverse();Ie--;){var Mt=k[Ie];if("function"!=typeof Mt)throw new h1(p);if(qe&&!Yt&&"wrapper"==fo(Mt))var Yt=new Ea([],!0)}for(Ie=Yt?Ie:q;++Ie<q;){var rn=fo(Mt=k[Ie]),vn="wrapper"==rn?_l(Mt):Zt;Yt=vn&&L3(vn[0])&&424==vn[1]&&!vn[4].length&&1==vn[9]?Yt[fo(vn[0])].apply(Yt,vn[3]):1==Mt.length&&L3(Mt)?Yt[rn]():Yt.thru(Mt)}return function(){var Un=arguments,Gn=Un[0];if(Yt&&1==Un.length&&ii(Gn))return Yt.plant(Gn).value();for(var Sn=0,de=q?k[Sn].apply(this,Un):Gn;++Sn<q;)de=k[Sn].call(this,de);return de}})}function p0(u,k,q,Ie,qe,Mt,Yt,rn,vn,Un){var Gn=k&M,Sn=1&k,de=2&k,Sr=24&k,lt=512&k,bi=de?Zt:x3(u);return function Ur(){for(var Ai=arguments.length,Ti=Dn(Ai),$s=Ai;$s--;)Ti[$s]=arguments[$s];if(Sr)var t1=g0(Ur),n1=function Xu(on,Cn){for(var Dn=on.length,gr=0;Dn--;)on[Dn]===Cn&&++gr;return gr}(Ti,t1);if(Ie&&(Ti=_2(Ti,Ie,qe,Sr)),Mt&&(Ti=W1(Ti,Mt,Yt,Sr)),Ai-=n1,Sr&&Ai<Un){var as=$o(Ti,t1);return lf(u,k,p0,Ur.placeholder,q,Ti,as,rn,vn,Un-Ai)}var po=Sn?q:this,r2=de?po[u]:u;return Ai=Ti.length,rn?Ti=function pf(u,k){for(var q=u.length,Ie=Os(k.length,q),qe=Ui(u);Ie--;){var Mt=k[Ie];u[Ie]=t2(Mt,q)?qe[Mt]:Zt}return u}(Ti,rn):lt&&Ai>1&&Ti.reverse(),Gn&&vn<Ai&&(Ti.length=vn),this&&this!==mi&&this instanceof Ur&&(r2=bi||x3(r2)),r2.apply(po,Ti)}}function K4(u,k){return function(q,Ie){return function zc(u,k,q,Ie){return $1(u,function(qe,Mt,Yt){k(Ie,q(qe),Mt,Yt)}),Ie}(q,u,k(Ie),{})}}function m0(u,k){return function(q,Ie){var qe;if(q===Zt&&Ie===Zt)return k;if(q!==Zt&&(qe=q),Ie!==Zt){if(qe===Zt)return Ie;"string"==typeof q||"string"==typeof Ie?(q=vi(q),Ie=vi(Ie)):(q=fi(q),Ie=fi(Ie)),qe=u(q,Ie)}return qe}}function v0(u){return Q2(function(k){return k=Ii(k,us(Or())),Ut(function(q){var Ie=this;return u(k,function(qe){return ei(qe,Ie,q)})})})}function Q4(u,k){var q=(k=k===Zt?" ":vi(k)).length;if(q<2)return q?Ht(k,u):k;var Ie=Ht(k,G2(u/ul(k)));return V2(k)?Wa(S1(Ie),0,u).join(""):Ie.slice(0,u)}function J4(u){return function(k,q,Ie){return Ie&&"number"!=typeof Ie&&zs(k,q,Ie)&&(q=Ie=Zt),k=Us(k),q===Zt?(q=k,k=0):q=Us(q),function Rt(u,k,q,Ie){for(var qe=-1,Mt=wa(G2((k-u)/(q||1)),0),Yt=Dn(Mt);Mt--;)Yt[Ie?Mt:++qe]=u,u+=q;return Yt}(k,q,Ie=Ie===Zt?k<q?1:-1:Us(Ie),u)}}function M3(u){return function(k,q){return"string"==typeof k&&"string"==typeof q||(k=Eo(k),q=Eo(q)),u(k,q)}}function lf(u,k,q,Ie,qe,Mt,Yt,rn,vn,Un){var Gn=8&k;k|=Gn?_:64,4&(k&=~(Gn?64:_))||(k&=-4);var bi=[u,k,qe,Gn?Mt:Zt,Gn?Yt:Zt,Gn?Zt:Mt,Gn?Zt:Yt,rn,vn,Un],Ur=q.apply(Zt,bi);return L3(u)&&vf(Ur,bi),Ur.placeholder=Ie,gf(Ur,u,k)}function q4(u){var k=Ca[u];return function(q,Ie){if(q=Eo(q),(Ie=null==Ie?0:Os(yi(Ie),292))&&u3(q)){var qe=(Xi(q)+"e").split("e");return+((qe=(Xi(k(qe[0]+"e"+(+qe[1]+Ie)))+"e").split("e"))[0]+"e"+(+qe[1]-Ie))}return k(q)}}var v5=x2&&1/a3(new x2([,-0]))[1]==Q?function(u){return new x2(u)}:V3;function e6(u){return function(k){var q=ds(k);return q==ye?ll(k):q==B?function L1(on){var Cn=-1,Dn=Array(on.size);return on.forEach(function(gr){Dn[++Cn]=[gr,gr]}),Dn}(k):function i3(on,Cn){return Ii(Cn,function(Dn){return[Dn,on[Dn]]})}(k,u(k))}}function K2(u,k,q,Ie,qe,Mt,Yt,rn){var vn=2&k;if(!vn&&"function"!=typeof u)throw new h1(p);var Un=Ie?Ie.length:0;if(Un||(k&=-97,Ie=qe=Zt),Yt=Yt===Zt?Yt:wa(yi(Yt),0),rn=rn===Zt?rn:yi(rn),Un-=qe?qe.length:0,64&k){var Gn=Ie,Sn=qe;Ie=qe=Zt}var de=vn?Zt:_l(u),Sr=[u,k,q,Ie,qe,Gn,Sn,Mt,Yt,rn];if(de&&function qm(u,k){var q=u[1],Ie=k[1],qe=q|Ie;if(!(qe<131)&&!(Ie==M&&8==q||Ie==M&&256==q&&u[7].length<=k[8]||384==Ie&&k[7].length<=k[8]&&8==q))return u;1&Ie&&(u[2]=k[2],qe|=1&q?0:4);var rn=k[3];if(rn){var vn=u[3];u[3]=vn?_2(vn,rn,k[4]):rn,u[4]=vn?$o(u[3],d):k[4]}(rn=k[5])&&(u[5]=(vn=u[5])?W1(vn,rn,k[6]):rn,u[6]=vn?$o(u[5],d):k[6]),(rn=k[7])&&(u[7]=rn),Ie&M&&(u[8]=null==u[8]?k[8]:Os(u[8],k[8])),null==u[9]&&(u[9]=k[9]),u[0]=k[0],u[1]=qe}(Sr,de),u=Sr[0],k=Sr[1],q=Sr[2],Ie=Sr[3],qe=Sr[4],!(rn=Sr[9]=Sr[9]===Zt?vn?0:u.length:wa(Sr[9]-Un,0))&&24&k&&(k&=-25),k&&1!=k)lt=8==k||16==k?function d5(u,k,q){var Ie=x3(u);return function qe(){for(var Mt=arguments.length,Yt=Dn(Mt),rn=Mt,vn=g0(qe);rn--;)Yt[rn]=arguments[rn];var Un=Mt<3&&Yt[0]!==vn&&Yt[Mt-1]!==vn?[]:$o(Yt,vn);return(Mt-=Un.length)<q?lf(u,k,p0,qe.placeholder,Zt,Yt,Un,Zt,Zt,q-Mt):ei(this&&this!==mi&&this instanceof qe?Ie:u,this,Yt)}}(u,k,rn):k!=_&&33!=k||qe.length?p0.apply(Zt,Sr):function m5(u,k,q,Ie){var qe=1&k,Mt=x3(u);return function Yt(){for(var rn=-1,vn=arguments.length,Un=-1,Gn=Ie.length,Sn=Dn(Gn+vn),de=this&&this!==mi&&this instanceof Yt?Mt:u;++Un<Gn;)Sn[Un]=Ie[Un];for(;vn--;)Sn[Un++]=arguments[++rn];return ei(de,qe?q:this,Sn)}}(u,k,q,Ie);else var lt=function f5(u,k,q){var Ie=1&k,qe=x3(u);return function Mt(){return(this&&this!==mi&&this instanceof Mt?qe:u).apply(Ie?q:this,arguments)}}(u,k,q);return gf((de?nr:vf)(lt,Sr),u,k)}function e1(u,k,q,Ie){return u===Zt||zo(u,Ss[q])&&!Wi.call(Ie,q)?k:u}function kc(u,k,q,Ie,qe,Mt){return ma(u)&&ma(k)&&(Mt.set(k,u),Re(u,k,Zt,kc,Mt),Mt.delete(k)),u}function pa(u){return b6(u)?Zt:u}function g5(u,k,q,Ie,qe,Mt){var Yt=1&q,rn=u.length,vn=k.length;if(rn!=vn&&!(Yt&&vn>rn))return!1;var Un=Mt.get(u),Gn=Mt.get(k);if(Un&&Gn)return Un==k&&Gn==u;var Sn=-1,de=!0,Sr=2&q?new Ia:Zt;for(Mt.set(u,k),Mt.set(k,u);++Sn<rn;){var lt=u[Sn],bi=k[Sn];if(Ie)var Ur=Yt?Ie(bi,lt,Sn,k,u,Mt):Ie(lt,bi,Sn,u,k,Mt);if(Ur!==Zt){if(Ur)continue;de=!1;break}if(Sr){if(!O1(k,function(Ai,Ti){if(!Go(Sr,Ti)&&(lt===Ai||qe(lt,Ai,q,Ie,Mt)))return Sr.push(Ti)})){de=!1;break}}else if(lt!==bi&&!qe(lt,bi,q,Ie,Mt)){de=!1;break}}return Mt.delete(u),Mt.delete(k),de}function Q2(u){return o6(hf(u,Zt,S5),u+"")}function t6(u){return f0(u,Gs,r6)}function n6(u){return f0(u,Q1,b5)}var _l=M2?function(u){return M2.get(u)}:V3;function fo(u){for(var k=u.name+"",q=So[k],Ie=Wi.call(So,k)?q.length:0;Ie--;){var qe=q[Ie],Mt=qe.func;if(null==Mt||Mt==u)return qe.name}return k}function g0(u){return(Wi.call(vt,"placeholder")?vt:u).placeholder}function Or(){var u=vt.iteratee||z2;return u=u===z2?As:u,arguments.length?u(arguments[0],arguments[1]):u}function Ll(u,k){var q=u.__data__;return function _3(u){var k=typeof u;return"string"==k||"number"==k||"symbol"==k||"boolean"==k?"__proto__"!==u:null===u}(k)?q["string"==typeof k?"string":"hash"]:q.map}function y0(u){for(var k=Gs(u),q=k.length;q--;){var Ie=k[q],qe=u[Ie];k[q]=[Ie,qe,ff(qe)]}return k}function J2(u,k){var q=function xc(on,Cn){return null==on?Zt:on[Cn]}(u,k);return af(q)?q:Zt}var r6=r0?function(u){return null==u?[]:(u=$i(u),gs(r0(u),function(k){return Lr.call(u,k)}))}:zl,b5=r0?function(u){for(var k=[];u;)w1(k,r6(u)),u=Qi(u);return k}:zl,ds=Qs;function i6(u,k,q){for(var Ie=-1,qe=(k=La(k,u)).length,Mt=!1;++Ie<qe;){var Yt=T2(k[Ie]);if(!(Mt=null!=u&&q(u,Yt)))break;u=u[Yt]}return Mt||++Ie!=qe?Mt:!!(qe=null==u?0:u.length)&&T0(qe)&&t2(Yt,qe)&&(ii(u)||q2(u))}function C5(u){return"function"!=typeof u.constructor||b0(u)?{}:$2(Qi(u))}function RM(u){return ii(u)||q2(u)||!!(ri&&u&&u[ri])}function t2(u,k){var q=typeof u;return!!(k=k??U)&&("number"==q||"symbol"!=q&&Vn.test(u))&&u>-1&&u%1==0&&u<k}function zs(u,k,q){if(!ma(q))return!1;var Ie=typeof k;return!!("number"==Ie?Z1(q)&&t2(k,q.length):"string"==Ie&&k in q)&&zo(q[k],u)}function uf(u,k){if(ii(u))return!1;var q=typeof u;return!("number"!=q&&"symbol"!=q&&"boolean"!=q&&null!=u&&!X1(u))||xt.test(u)||!pt.test(u)||null!=k&&u in $i(k)}function L3(u){var k=fo(u),q=vt[k];if("function"!=typeof q||!(k in wi.prototype))return!1;if(u===q)return!0;var Ie=_l(q);return!!Ie&&u===Ie[0]}(s0&&ds(new s0(new ArrayBuffer(1)))!=ct||oo&&ds(new oo)!=ye||h3&&ds(h3.resolve())!=Z||x2&&ds(new x2)!=B||jo&&ds(new jo)!=Ee)&&(ds=function(u){var k=Qs(u),q=k==te?u.constructor:Zt,Ie=q?Nc(q):"";if(Ie)switch(Ie){case Ts:return ct;case Yo:return ye;case p3:return Z;case m3:return B;case B4:return Ee}return k});var FM=e0?ec:N0;function b0(u){var k=u&&u.constructor;return u===("function"==typeof k&&k.prototype||Ss)}function ff(u){return u==u&&!ma(u)}function x5(u,k){return function(q){return null!=q&&q[u]===k&&(k!==Zt||u in $i(q))}}function hf(u,k,q){return k=wa(k===Zt?u.length-1:k,0),function(){for(var Ie=arguments,qe=-1,Mt=wa(Ie.length-k,0),Yt=Dn(Mt);++qe<Mt;)Yt[qe]=Ie[k+qe];qe=-1;for(var rn=Dn(k+1);++qe<k;)rn[qe]=Ie[qe];return rn[k]=q(Yt),ei(u,this,rn)}}function S3(u,k){return k.length<2?u:Do(u,qn(k,0,-1))}function mf(u,k){if(("constructor"!==k||"function"!=typeof u[k])&&"__proto__"!=k)return u[k]}var vf=M5(nr),C0=R4||function(u,k){return mi.setTimeout(u,k)},o6=M5(sr);function gf(u,k,q){var Ie=k+"";return o6(u,function PM(u,k){var q=k.length;if(!q)return u;var Ie=q-1;return k[Ie]=(q>1?"& ":"")+k[Ie],k=k.join(q>2?", ":" "),u.replace(He,"{\n/* [wrapped with "+k+"] */\n")}(Ie,function w5(u,k){return Er(X,function(q){var Ie="_."+q[0];k&q[1]&&!F1(u,Ie)&&u.push(Ie)}),u.sort()}(function Km(u){var k=u.match(We);return k?k[1].split(Ze):[]}(Ie),q)))}function M5(u){var k=0,q=0;return function(){var Ie=a0(),qe=16-(Ie-q);if(q=Ie,qe>0){if(++k>=800)return arguments[0]}else k=0;return u.apply(Zt,arguments)}}function Sl(u,k){var q=-1,Ie=u.length,qe=Ie-1;for(k=k===Zt?Ie:k;++q<k;){var Mt=Tt(q,qe),Yt=u[Mt];u[Mt]=u[q],u[q]=Yt}return u.length=k,u}var Ec=function S2(u){var k=Af(u,function(Ie){return 500===q.size&&q.clear(),Ie}),q=k.cache;return k}(function(u){var k=[];return 46===u.charCodeAt(0)&&k.push(""),u.replace(yt,function(q,Ie,qe,Mt){k.push(qe?Mt.replace(Je,"$1"):Ie||q)}),k});function T2(u){if("string"==typeof u||X1(u))return u;var k=u+"";return"0"==k&&1/u==-Q?"-0":k}function Nc(u){if(null!=u){try{return fl.call(u)}catch{}try{return u+""}catch{}}return""}function Tl(u){if(u instanceof wi)return u.clone();var k=new Ea(u.__wrapped__,u.__chain__);return k.__actions__=Ui(u.__actions__),k.__index__=u.__index__,k.__values__=u.__values__,k}var Vs=Ut(function(u,k){return Sa(u)?Z2(u,fs(k,1,Sa,!0)):[]}),yf=Ut(function(u,k){var q=qi(k);return Sa(q)&&(q=Zt),Sa(u)?Z2(u,fs(k,1,Sa,!0),Or(q,2)):[]}),t9=Ut(function(u,k){var q=qi(k);return Sa(q)&&(q=Zt),Sa(u)?Z2(u,fs(k,1,Sa,!0),Zt,q):[]});function D3(u,k,q){var Ie=null==u?0:u.length;if(!Ie)return-1;var qe=null==q?0:yi(q);return qe<0&&(qe=wa(Ie+qe,0)),g2(u,Or(k,3),qe)}function Cf(u,k,q){var Ie=null==u?0:u.length;if(!Ie)return-1;var qe=Ie-1;return q!==Zt&&(qe=yi(q),qe=q<0?wa(Ie+qe,0):Os(qe,Ie-1)),g2(u,Or(k,3),qe,!0)}function S5(u){return null!=u&&u.length?fs(u,1):[]}function D5(u){return u&&u.length?u[0]:Zt}var s9=Ut(function(u){var k=Ii(u,rs);return k.length&&k[0]===u[0]?g3(k):[]}),OM=Ut(function(u){var k=qi(u),q=Ii(u,rs);return k===qi(q)?k=Zt:q.pop(),q.length&&q[0]===u[0]?g3(q,Or(k,2)):[]}),z5=Ut(function(u){var k=qi(u),q=Ii(u,rs);return(k="function"==typeof k?k:Zt)&&q.pop(),q.length&&q[0]===u[0]?g3(q,Zt,k):[]});function qi(u){var k=null==u?0:u.length;return k?u[k-1]:Zt}var HM=Ut(c6);function c6(u,k){return u&&u.length&&k&&k.length?Kt(u,k):u}var M0=Q2(function(u,k){var q=null==u?0:u.length,Ie=Hs(u,k);return Xt(u,Ii(k,function(qe){return t2(qe,q)?+qe:qe}).sort(Jn)),Ie});function xf(u){return null==u?u:O4.call(u)}var wf=Ut(function(u){return ti(fs(u,1,Sa,!0))}),A3=Ut(function(u){var k=qi(u);return Sa(k)&&(k=Zt),ti(fs(u,1,Sa,!0),Or(k,2))}),f9=Ut(function(u){var k=qi(u);return k="function"==typeof k?k:Zt,ti(fs(u,1,Sa,!0),Zt,k)});function _0(u){if(!u||!u.length)return[];var k=0;return u=gs(u,function(q){if(Sa(q))return k=wa(q.length,k),!0}),y2(k,function(q){return Ii(u,gn(q))})}function u6(u,k){if(!u||!u.length)return[];var q=_0(u);return null==k?q:Ii(q,function(Ie){return ei(k,Zt,Ie)})}var d9=Ut(function(u,k){return Sa(u)?Z2(u,k):[]}),h9=Ut(function(u){return ia(gs(u,Sa))}),p9=Ut(function(u){var k=qi(u);return Sa(k)&&(k=Zt),ia(gs(u,Sa),Or(k,2))}),O5=Ut(function(u){var k=qi(u);return k="function"==typeof k?k:Zt,ia(gs(u,Sa),Zt,k)}),m9=Ut(_0),_f=Ut(function(u){var k=u.length,q=k>1?u[k-1]:Zt;return q="function"==typeof q?(u.pop(),q):Zt,u6(u,q)});function Lf(u){var k=vt(u);return k.__chain__=!0,k}function Es(u,k){return k(u)}var z3=Q2(function(u){var k=u.length,q=k?u[0]:0,Ie=this.__wrapped__,qe=function(Mt){return Hs(Mt,u)};return!(k>1||this.__actions__.length)&&Ie instanceof wi&&t2(q)?((Ie=Ie.slice(q,+q+(k?1:0))).__actions__.push({func:Es,args:[qe],thisArg:Zt}),new Ea(Ie,this.__chain__).thru(function(Mt){return k&&!Mt.length&&Mt.push(Zt),Mt})):this.thru(qe)}),G5=cf(function(u,k,q){Wi.call(u,q)?++u[q]:Rr(u,q,1)}),M9=h5(D3),w9=h5(Cf);function k3(u,k){return(ii(u)?Er:_a)(u,Or(k,3))}function Tf(u,k){return(ii(u)?Ni:Ds)(u,Or(k,3))}var Y5=cf(function(u,k,q){Wi.call(u,q)?u[q].push(k):Rr(u,q,[k])}),X5=Ut(function(u,k,q){var Ie=-1,qe="function"==typeof k,Mt=Z1(u)?Dn(u.length):[];return _a(u,function(Yt){Mt[++Ie]=qe?ei(k,Yt,q):X2(Yt,k,q)}),Mt}),_9=cf(function(u,k,q){Rr(u,q,k)});function f6(u,k){return(ii(u)?Ii:ae)(u,Or(k,3))}var S9=cf(function(u,k,q){u[q?0:1].push(k)},function(){return[[],[]]}),Df=Ut(function(u,k){if(null==u)return[];var q=k.length;return q>1&&zs(u,k[0],k[1])?k=[]:q>2&&zs(k[0],k[1],k[2])&&(k=[k[0]]),et(u,fs(k,1),[])}),d6=l3||function(){return mi.Date.now()};function E3(u,k,q){return k=q?Zt:k,K2(u,M,Zt,Zt,Zt,Zt,k=u&&null==k?u.length:k)}function q5(u,k){var q;if("function"!=typeof k)throw new h1(p);return u=yi(u),function(){return--u>0&&(q=k.apply(this,arguments)),u<=1&&(k=Zt),q}}var h6=Ut(function(u,k,q){var Ie=1;if(q.length){var qe=$o(q,g0(h6));Ie|=_}return K2(u,Ie,k,q,qe)}),n2=Ut(function(u,k,q){var Ie=3;if(q.length){var qe=$o(q,g0(n2));Ie|=_}return K2(k,Ie,u,q,qe)});function m6(u,k,q){var Ie,qe,Mt,Yt,rn,vn,Un=0,Gn=!1,Sn=!1,de=!0;if("function"!=typeof u)throw new h1(p);function Sr(as){var po=Ie,r2=qe;return Ie=qe=Zt,Un=as,Yt=u.apply(r2,po)}function Ur(as){var po=as-vn;return vn===Zt||po>=k||po<0||Sn&&as-Un>=Mt}function Ai(){var as=d6();if(Ur(as))return Ti(as);rn=C0(Ai,function bi(as){var z6=k-(as-vn);return Sn?Os(z6,Mt-(as-Un)):z6}(as))}function Ti(as){return rn=Zt,de&&Ie?Sr(as):(Ie=qe=Zt,Yt)}function n1(){var as=d6(),po=Ur(as);if(Ie=arguments,qe=this,vn=as,po){if(rn===Zt)return function lt(as){return Un=as,rn=C0(Ai,k),Gn?Sr(as):Yt}(vn);if(Sn)return bs(rn),rn=C0(Ai,k),Sr(vn)}return rn===Zt&&(rn=C0(Ai,k)),Yt}return k=Eo(k)||0,ma(q)&&(Gn=!!q.leading,Mt=(Sn="maxWait"in q)?wa(Eo(q.maxWait)||0,k):Mt,de="trailing"in q?!!q.trailing:de),n1.cancel=function $s(){rn!==Zt&&bs(rn),Un=0,Ie=vn=qe=rn=Zt},n1.flush=function t1(){return rn===Zt?Yt:Ti(d6())},n1}var k9=Ut(function(u,k){return ha(u,1,k)}),E9=Ut(function(u,k,q){return ha(u,Eo(k)||0,q)});function Af(u,k){if("function"!=typeof u||null!=k&&"function"!=typeof k)throw new h1(p);var q=function(){var Ie=arguments,qe=k?k.apply(this,Ie):Ie[0],Mt=q.cache;if(Mt.has(qe))return Mt.get(qe);var Yt=u.apply(this,Ie);return q.cache=Mt.set(qe,Yt)||Mt,Yt};return q.cache=new(Af.Cache||H1),q}function Dl(u){if("function"!=typeof u)throw new h1(p);return function(){var k=arguments;switch(k.length){case 0:return!u.call(this);case 1:return!u.call(this,k[0]);case 2:return!u.call(this,k[0],k[1]);case 3:return!u.call(this,k[0],k[1],k[2])}return!u.apply(this,k)}}Af.Cache=H1;var zf=$a(function(u,k){var q=(k=1==k.length&&ii(k[0])?Ii(k[0],us(Or())):Ii(fs(k,1),us(Or()))).length;return Ut(function(Ie){for(var qe=-1,Mt=Os(Ie.length,q);++qe<Mt;)Ie[qe]=k[qe].call(this,Ie[qe]);return ei(u,this,Ie)})}),N3=Ut(function(u,k){var q=$o(k,g0(N3));return K2(u,_,Zt,k,q)}),Al=Ut(function(u,k){var q=$o(k,g0(Al));return K2(u,64,Zt,k,q)}),kf=Q2(function(u,k){return K2(u,256,Zt,Zt,Zt,k)});function zo(u,k){return u===k||u!=u&&k!=k}var P9=M3(Ml),R9=M3(function(u,k){return u>=k}),q2=y3(function(){return arguments}())?y3:function(u){return Ta(u)&&Wi.call(u,"callee")&&!Lr.call(u,"callee")},ii=Dn.isArray,F9=ba?us(ba):function c5(u){return Ta(u)&&Qs(u)==$e};function Z1(u){return null!=u&&T0(u.length)&&!ec(u)}function Sa(u){return Ta(u)&&Z1(u)}var A2=Lc||N0,O9=oa?us(oa):function Y4(u){return Ta(u)&&Qs(u)==De};function S0(u){if(!Ta(u))return!1;var k=Qs(u);return k==Be||"[object DOMException]"==k||"string"==typeof u.message&&"string"==typeof u.name&&!b6(u)}function ec(u){if(!ma(u))return!1;var k=Qs(u);return k==Fe||k==Se||"[object AsyncFunction]"==k||"[object Proxy]"==k}function Ff(u){return"number"==typeof u&&u==yi(u)}function T0(u){return"number"==typeof u&&u>-1&&u%1==0&&u<=U}function ma(u){var k=typeof u;return null!=u&&("object"==k||"function"==k)}function Ta(u){return null!=u&&"object"==typeof u}var Of=zr?us(zr):function l5(u){return Ta(u)&&ds(u)==ye};function rh(u){return"number"==typeof u||Ta(u)&&Qs(u)==H}function b6(u){if(!Ta(u)||Qs(u)!=te)return!1;var k=Qi(u);if(null===k)return!0;var q=Wi.call(k,"constructor")&&k.constructor;return"function"==typeof q&&q instanceof q&&fl.call(q)==I4}var A0=Yr?us(Yr):function u5(u){return Ta(u)&&Qs(u)==ee},Vf=ca?us(ca):function C3(u){return Ta(u)&&ds(u)==B};function F3(u){return"string"==typeof u||!ii(u)&&Ta(u)&&Qs(u)==se}function X1(u){return"symbol"==typeof u||Ta(u)&&Qs(u)==xe}var ko=Rs?us(Rs):function X4(u){return Ta(u)&&T0(u.length)&&!!yr[Qs(u)]},$9=M3(V),W9=M3(function(u,k){return u<=k});function K1(u){if(!u)return[];if(Z1(u))return F3(u)?S1(u):Ui(u);if(xa&&u[xa])return function Ql(on){for(var Cn,Dn=[];!(Cn=on.next()).done;)Dn.push(Cn.value);return Dn}(u[xa]());var k=ds(u);return(k==ye?ll:k==B?a3:k0)(u)}function Us(u){return u?(u=Eo(u))===Q||u===-Q?17976931348623157e292*(u<0?-1:1):u==u?u:0:0===u?u:0}function yi(u){var k=Us(u),q=k%1;return k==k?q?k-q:k:0}function ih(u){return u?G1(yi(u),0,pe):0}function Eo(u){if("number"==typeof u)return u;if(X1(u))return NaN;if(ma(u)){var k="function"==typeof u.valueOf?u.valueOf():u;u=ma(k)?k+"":k}if("string"!=typeof u)return 0===u?u:+u;u=Xl(u);var q=cn.test(u);return q||Nn.test(u)?ya(u.slice(2),q?2:8):Pt.test(u)?NaN:+u}function ah(u){return qs(u,Q1(u))}function Xi(u){return null==u?"":vi(u)}var sh=wl(function(u,k){if(b0(k)||Z1(k))qs(k,Gs(k),u);else for(var q in k)Wi.call(k,q)&&U1(u,q,k[q])}),oh=wl(function(u,k){qs(k,Q1(k),u)}),C6=wl(function(u,k,q,Ie){qs(k,Q1(k),u,Ie)}),Y9=wl(function(u,k,q,Ie){qs(k,Gs(k),u,Ie)}),Z9=Q2(Hs),tc=Ut(function(u,k){u=$i(u);var q=-1,Ie=k.length,qe=Ie>2?k[2]:Zt;for(qe&&zs(k[0],k[1],qe)&&(Ie=1);++q<Ie;)for(var Mt=k[q],Yt=Q1(Mt),rn=-1,vn=Yt.length;++rn<vn;){var Un=Yt[rn],Gn=u[Un];(Gn===Zt||zo(Gn,Ss[Un])&&!Wi.call(u,Un))&&(u[Un]=Mt[Un])}return u}),O3=Ut(function(u){return u.push(Zt,kc),ei(ph,Zt,u)});function fh(u,k,q){var Ie=null==u?Zt:Do(u,k);return Ie===Zt?q:Ie}function M6(u,k){return null!=u&&i6(u,k,d0)}var X9=K4(function(u,k,q){null!=k&&"function"!=typeof k.toString&&(k=T1.call(k)),u[k]=q},Ah(ho)),K9=K4(function(u,k,q){null!=k&&"function"!=typeof k.toString&&(k=T1.call(k)),Wi.call(u,k)?u[k].push(q):u[k]=[q]},Or),Q9=Ut(X2);function Gs(u){return Z1(u)?Ko(u):f(u)}function Q1(u){return Z1(u)?Ko(u,!0):function R(u){if(!ma(u))return function s6(u){var k=[];if(null!=u)for(var q in $i(u))k.push(q);return k}(u);var k=b0(u),q=[];for(var Ie in u)"constructor"==Ie&&(k||!Wi.call(u,Ie))||q.push(Ie);return q}(u)}var J9=wl(function(u,k,q){Re(u,k,q)}),ph=wl(function(u,k,q,Ie){Re(u,k,q,Ie)}),mh=Q2(function(u,k){var q={};if(null==u)return q;var Ie=!1;k=Ii(k,function(Mt){return Mt=La(Mt,u),Ie||(Ie=Mt.length>1),Mt}),qs(u,n6(u),q),Ie&&(q=Pa(q,7,pa));for(var qe=k.length;qe--;)Kn(q,k[qe]);return q}),vh=Q2(function(u,k){return null==u?{}:function tt(u,k){return wt(u,k,function(q,Ie){return M6(u,Ie)})}(u,k)});function _6(u,k){if(null==u)return{};var q=Ii(n6(u),function(Ie){return[Ie]});return k=Or(k),wt(u,q,function(Ie,qe){return k(Ie,qe[0])})}var yh=e6(Gs),z0=e6(Q1);function k0(u){return null==u?[]:Cc(u,Gs(u))}var rv=j1(function(u,k,q){return k=k.toLowerCase(),u+(q?xh(k):k)});function xh(u){return Pc(Xi(u).toLowerCase())}function Mh(u){return(u=Xi(u))&&u.replace($n,b2).replace(oi,"")}var sv=j1(function(u,k,q){return u+(q?"-":"")+k.toLowerCase()}),ov=j1(function(u,k,q){return u+(q?" ":"")+k.toLowerCase()}),cv=Ao("toLowerCase"),ow=j1(function(u,k,q){return u+(q?"_":"")+k.toLowerCase()}),lw=j1(function(u,k,q){return u+(q?" ":"")+Pc(k)}),Th=j1(function(u,k,q){return u+(q?" ":"")+k.toUpperCase()}),Pc=Ao("toUpperCase");function J1(u,k,q){return u=Xi(u),(k=q?Zt:k)===Zt?function Kl(on){return Fi.test(on)}(u)?function o3(on){return on.match(li)||[]}(u):function n3(on){return on.match(nt)||[]}(u):u.match(k)||[]}var Io=Ut(function(u,k){try{return ei(u,Zt,k)}catch(q){return S0(q)?q:new Kr(q)}}),Dh=Q2(function(u,k){return Er(k,function(q){q=T2(q),Rr(u,q,h6(u[q],u))}),u});function Ah(u){return function(){return u}}var zh=p5(),kh=p5(!0);function ho(u){return u}function z2(u){return As("function"==typeof u?u:Pa(u,1))}var hv=Ut(function(u,k){return function(q){return X2(q,u,k)}}),E0=Ut(function(u,k){return function(q){return X2(u,q,k)}});function H3(u,k,q){var Ie=Gs(k),qe=xl(k,Ie);null==q&&(!ma(k)||!qe.length&&Ie.length)&&(q=k,k=u,u=this,qe=xl(k,Gs(k)));var Mt=!(ma(q)&&"chain"in q&&!q.chain),Yt=ec(u);return Er(qe,function(rn){var vn=k[rn];u[rn]=vn,Yt&&(u.prototype[rn]=function(){var Un=this.__chain__;if(Mt||Un){var Gn=u(this.__wrapped__);return(Gn.__actions__=Ui(this.__actions__)).push({func:vn,args:arguments,thisArg:u}),Gn.__chain__=Un,Gn}return vn.apply(u,w1([this.value()],arguments))})}),u}function V3(){}var pv=v0(Ii),mv=v0(Vr),Nh=v0(O1);function Ih(u){return uf(u)?gn(T2(u)):function _t(u){return function(k){return Do(k,u)}}(u)}var gv=J4(),Ph=J4(!0);function zl(){return[]}function N0(){return!1}var Fh=m0(function(u,k){return u+k},0),Oh=q4("ceil"),Cv=m0(function(u,k){return u/k},1),hw=q4("floor"),Uh=m0(function(u,k){return u*k},1),A6=q4("round"),U3=m0(function(u,k){return u-k},0);return vt.after=function Ic(u,k){if("function"!=typeof k)throw new h1(p);return u=yi(u),function(){if(--u<1)return k.apply(this,arguments)}},vt.ary=E3,vt.assign=sh,vt.assignIn=oh,vt.assignInWith=C6,vt.assignWith=Y9,vt.at=Z9,vt.before=q5,vt.bind=h6,vt.bindAll=Dh,vt.bindKey=n2,vt.castArray=function If(){if(!arguments.length)return[];var u=arguments[0];return ii(u)?u:[u]},vt.chain=Lf,vt.chunk=function x0(u,k,q){k=(q?zs(u,k,q):k===Zt)?1:wa(yi(k),0);var Ie=null==u?0:u.length;if(!Ie||k<1)return[];for(var qe=0,Mt=0,Yt=Dn(G2(Ie/k));qe<Ie;)Yt[Mt++]=qn(u,qe,qe+=k);return Yt},vt.compact=function ks(u){for(var k=-1,q=null==u?0:u.length,Ie=0,qe=[];++k<q;){var Mt=u[k];Mt&&(qe[Ie++]=Mt)}return qe},vt.concat=function e9(){var u=arguments.length;if(!u)return[];for(var k=Dn(u-1),q=arguments[0],Ie=u;Ie--;)k[Ie-1]=arguments[Ie];return w1(ii(q)?Ui(q):[q],fs(k,1))},vt.cond=function fw(u){var k=null==u?0:u.length,q=Or();return u=k?Ii(u,function(Ie){if("function"!=typeof Ie[1])throw new h1(p);return[q(Ie[0]),Ie[1]]}):[],Ut(function(Ie){for(var qe=-1;++qe<k;){var Mt=u[qe];if(ei(Mt[0],this,Ie))return ei(Mt[1],this,Ie)}})},vt.conforms=function dv(u){return function lo(u){var k=Gs(u);return function(q){return Jo(q,u,k)}}(Pa(u,1))},vt.constant=Ah,vt.countBy=G5,vt.create=function x6(u,k){var q=$2(u);return null==k?q:bl(q,k)},vt.curry=function z9(u,k,q){var Ie=K2(u,8,Zt,Zt,Zt,Zt,Zt,k=q?Zt:k);return Ie.placeholder=z9.placeholder,Ie},vt.curryRight=function p6(u,k,q){var Ie=K2(u,16,Zt,Zt,Zt,Zt,Zt,k=q?Zt:k);return Ie.placeholder=p6.placeholder,Ie},vt.debounce=m6,vt.defaults=tc,vt.defaultsDeep=O3,vt.defer=k9,vt.delay=E9,vt.difference=Vs,vt.differenceBy=yf,vt.differenceWith=t9,vt.drop=function _5(u,k,q){var Ie=null==u?0:u.length;return Ie?qn(u,(k=q||k===Zt?1:yi(k))<0?0:k,Ie):[]},vt.dropRight=function T3(u,k,q){var Ie=null==u?0:u.length;return Ie?qn(u,0,(k=Ie-(k=q||k===Zt?1:yi(k)))<0?0:k):[]},vt.dropRightWhile=function n9(u,k){return u&&u.length?er(u,Or(k,3),!0,!0):[]},vt.dropWhile=function L5(u,k){return u&&u.length?er(u,Or(k,3),!0):[]},vt.fill=function bf(u,k,q,Ie){var qe=null==u?0:u.length;return qe?(q&&"number"!=typeof q&&zs(u,k,q)&&(q=0,Ie=qe),function Cl(u,k,q,Ie){var qe=u.length;for((q=yi(q))<0&&(q=-q>qe?0:qe+q),(Ie=Ie===Zt||Ie>qe?qe:yi(Ie))<0&&(Ie+=qe),Ie=q>Ie?0:ih(Ie);q<Ie;)u[q++]=k;return u}(u,k,q,Ie)):[]},vt.filter=function x9(u,k){return(ii(u)?gs:A1)(u,Or(k,3))},vt.flatMap=function $5(u,k){return fs(f6(u,k),1)},vt.flatMapDeep=function W5(u,k){return fs(f6(u,k),Q)},vt.flatMapDepth=function j5(u,k,q){return q=q===Zt?1:yi(q),fs(f6(u,k),q)},vt.flatten=S5,vt.flattenDeep=function r9(u){return null!=u&&u.length?fs(u,Q):[]},vt.flattenDepth=function i9(u,k){return null!=u&&u.length?fs(u,k=k===Zt?1:yi(k)):[]},vt.flip=function ZM(u){return K2(u,512)},vt.flow=zh,vt.flowRight=kh,vt.fromPairs=function T5(u){for(var k=-1,q=null==u?0:u.length,Ie={};++k<q;){var qe=u[k];Ie[qe[0]]=qe[1]}return Ie},vt.functions=function Uf(u){return null==u?[]:xl(u,Gs(u))},vt.functionsIn=function Gf(u){return null==u?[]:xl(u,Q1(u))},vt.groupBy=Y5,vt.initial=function a9(u){return null!=u&&u.length?qn(u,0,-1):[]},vt.intersection=s9,vt.intersectionBy=OM,vt.intersectionWith=z5,vt.invert=X9,vt.invertBy=K9,vt.invokeMap=X5,vt.iteratee=z2,vt.keyBy=_9,vt.keys=Gs,vt.keysIn=Q1,vt.map=f6,vt.mapKeys=function dh(u,k){var q={};return k=Or(k,3),$1(u,function(Ie,qe,Mt){Rr(q,k(Ie,qe,Mt),Ie)}),q},vt.mapValues=function hh(u,k){var q={};return k=Or(k,3),$1(u,function(Ie,qe,Mt){Rr(q,qe,k(Ie,qe,Mt))}),q},vt.matches=function Yf(u){return fe(Pa(u,1))},vt.matchesProperty=function Zf(u,k){return me(u,Pa(k,1))},vt.memoize=Af,vt.merge=J9,vt.mergeWith=ph,vt.method=hv,vt.methodOf=E0,vt.mixin=H3,vt.negate=Dl,vt.nthArg=function T6(u){return u=yi(u),Ut(function(k){return Ue(k,u)})},vt.omit=mh,vt.omitBy=function w6(u,k){return _6(u,Dl(Or(k)))},vt.once=function N9(u){return q5(2,u)},vt.orderBy=function L9(u,k,q,Ie){return null==u?[]:(ii(k)||(k=null==k?[]:[k]),ii(q=Ie?Zt:q)||(q=null==q?[]:[q]),et(u,k,q))},vt.over=pv,vt.overArgs=zf,vt.overEvery=mv,vt.overSome=Nh,vt.partial=N3,vt.partialRight=Al,vt.partition=S9,vt.pick=vh,vt.pickBy=_6,vt.property=Ih,vt.propertyOf=function vv(u){return function(k){return null==u?Zt:Do(u,k)}},vt.pull=HM,vt.pullAll=c6,vt.pullAllBy=function D2(u,k,q){return u&&u.length&&k&&k.length?Kt(u,k,Or(q,2)):u},vt.pullAllWith=function N5(u,k,q){return u&&u.length&&k&&k.length?Kt(u,k,Zt,q):u},vt.pullAt=M0,vt.range=gv,vt.rangeRight=Ph,vt.rearg=kf,vt.reject=function Q5(u,k){return(ii(u)?gs:A1)(u,Dl(Or(k,3)))},vt.remove=function o9(u,k){var q=[];if(!u||!u.length)return q;var Ie=-1,qe=[],Mt=u.length;for(k=Or(k,3);++Ie<Mt;){var Yt=u[Ie];k(Yt,Ie,u)&&(q.push(Yt),qe.push(Ie))}return Xt(u,qe),q},vt.rest=function Ef(u,k){if("function"!=typeof u)throw new h1(p);return Ut(u,k=k===Zt?k:yi(k))},vt.reverse=xf,vt.sampleSize=function D9(u,k,q){return k=(q?zs(u,k,q):k===Zt)?1:yi(k),(ii(u)?yl:jt)(u,k)},vt.set=function No(u,k,q){return null==u?u:Ln(u,k,q)},vt.setWith=function gh(u,k,q,Ie){return Ie="function"==typeof Ie?Ie:Zt,null==u?u:Ln(u,k,q,Ie)},vt.shuffle=function YM(u){return(ii(u)?Ac:ar)(u)},vt.slice=function I5(u,k,q){var Ie=null==u?0:u.length;return Ie?(q&&"number"!=typeof q&&zs(u,k,q)?(k=0,q=Ie):(k=null==k?0:yi(k),q=q===Zt?Ie:yi(q)),qn(u,k,q)):[]},vt.sortBy=Df,vt.sortedUniq=function w0(u){return u&&u.length?Mr(u):[]},vt.sortedUniqBy=function is(u,k){return u&&u.length?Mr(u,Or(k,2)):[]},vt.split=function cw(u,k,q){return q&&"number"!=typeof q&&zs(u,k,q)&&(k=q=Zt),(q=q===Zt?pe:q>>>0)?(u=Xi(u))&&("string"==typeof k||null!=k&&!A0(k))&&!(k=vi(k))&&V2(u)?Wa(S1(u),0,q):u.split(k,q):[]},vt.spread=function I3(u,k){if("function"!=typeof u)throw new h1(p);return k=null==k?0:wa(yi(k),0),Ut(function(q){var Ie=q[k],qe=Wa(q,0,k);return Ie&&w1(qe,Ie),ei(u,this,qe)})},vt.tail=function P5(u){var k=null==u?0:u.length;return k?qn(u,1,k):[]},vt.take=function l9(u,k,q){return u&&u.length?qn(u,0,(k=q||k===Zt?1:yi(k))<0?0:k):[]},vt.takeRight=function Mf(u,k,q){var Ie=null==u?0:u.length;return Ie?qn(u,(k=Ie-(k=q||k===Zt?1:yi(k)))<0?0:k,Ie):[]},vt.takeRightWhile=function Fr(u,k){return u&&u.length?er(u,Or(k,3),!1,!0):[]},vt.takeWhile=function u9(u,k){return u&&u.length?er(u,Or(k,3)):[]},vt.tap=function Sf(u,k){return k(u),u},vt.throttle=function v6(u,k,q){var Ie=!0,qe=!0;if("function"!=typeof u)throw new h1(p);return ma(q)&&(Ie="leading"in q?!!q.leading:Ie,qe="trailing"in q?!!q.trailing:qe),m6(u,k,{leading:Ie,maxWait:k,trailing:qe})},vt.thru=Es,vt.toArray=K1,vt.toPairs=yh,vt.toPairsIn=z0,vt.toPath=function Rh(u){return ii(u)?Ii(u,T2):X1(u)?[u]:Ui(Ec(Xi(u)))},vt.toPlainObject=ah,vt.transform=function bh(u,k,q){var Ie=ii(u),qe=Ie||A2(u)||ko(u);if(k=Or(k,4),null==q){var Mt=u&&u.constructor;q=qe?Ie?new Mt:[]:ma(u)&&ec(Mt)?$2(Qi(u)):{}}return(qe?Er:$1)(u,function(Yt,rn,vn){return k(q,Yt,rn,vn)}),q},vt.unary=function L0(u){return E3(u,1)},vt.union=wf,vt.unionBy=A3,vt.unionWith=f9,vt.uniq=function R5(u){return u&&u.length?ti(u):[]},vt.uniqBy=function F5(u,k){return u&&u.length?ti(u,Or(k,2)):[]},vt.uniqWith=function l6(u,k){return k="function"==typeof k?k:Zt,u&&u.length?ti(u,Zt,k):[]},vt.unset=function ev(u,k){return null==u||Kn(u,k)},vt.unzip=_0,vt.unzipWith=u6,vt.update=function tv(u,k,q){return null==u?u:wr(u,k,ys(q))},vt.updateWith=function nv(u,k,q,Ie){return Ie="function"==typeof Ie?Ie:Zt,null==u?u:wr(u,k,ys(q),Ie)},vt.values=k0,vt.valuesIn=function Ch(u){return null==u?[]:Cc(u,Q1(u))},vt.without=d9,vt.words=J1,vt.wrap=function Nf(u,k){return N3(ys(k),u)},vt.xor=h9,vt.xorBy=p9,vt.xorWith=O5,vt.zip=m9,vt.zipObject=function v9(u,k){return Ra(u||[],k||[],U1)},vt.zipObjectDeep=function Y1(u,k){return Ra(u||[],k||[],Ln)},vt.zipWith=_f,vt.entries=yh,vt.entriesIn=z0,vt.extend=oh,vt.extendWith=C6,H3(vt,vt),vt.add=Fh,vt.attempt=Io,vt.camelCase=rv,vt.capitalize=xh,vt.ceil=Oh,vt.clamp=function nw(u,k,q){return q===Zt&&(q=k,k=Zt),q!==Zt&&(q=(q=Eo(q))==q?q:0),k!==Zt&&(k=(k=Eo(k))==k?k:0),G1(Eo(u),k,q)},vt.clone=function g6(u){return Pa(u,4)},vt.cloneDeep=function Pf(u){return Pa(u,5)},vt.cloneDeepWith=function P3(u,k){return Pa(u,5,k="function"==typeof k?k:Zt)},vt.cloneWith=function XM(u,k){return Pa(u,4,k="function"==typeof k?k:Zt)},vt.conformsTo=function I9(u,k){return null==k||Jo(u,k,Gs(k))},vt.deburr=Mh,vt.defaultTo=function dw(u,k){return null==u||u!=u?k:u},vt.divide=Cv,vt.endsWith=function wh(u,k,q){u=Xi(u),k=vi(k);var Ie=u.length,qe=q=q===Zt?Ie:G1(yi(q),0,Ie);return(q-=k.length)>=0&&u.slice(q,qe)==k},vt.eq=zo,vt.escape=function iv(u){return(u=Xi(u))&&Qt.test(u)?u.replace(Gt,E4):u},vt.escapeRegExp=function av(u){return(u=Xi(u))&&Xe.test(u)?u.replace(ke,"\\$&"):u},vt.every=function C9(u,k,q){var Ie=ii(u)?Vr:c0;return q&&zs(u,k,q)&&(k=Zt),Ie(u,Or(k,3))},vt.find=M9,vt.findIndex=D3,vt.findKey=function ch(u,k){return z4(u,Or(k,3),$1)},vt.findLast=w9,vt.findLastIndex=Cf,vt.findLastKey=function lh(u,k){return z4(u,Or(k,3),u0)},vt.floor=hw,vt.forEach=k3,vt.forEachRight=Tf,vt.forIn=function uh(u,k){return null==u?u:l0(u,Or(k,3),Q1)},vt.forInRight=function JM(u,k){return null==u?u:j4(u,Or(k,3),Q1)},vt.forOwn=function qM(u,k){return u&&$1(u,Or(k,3))},vt.forOwnRight=function ew(u,k){return u&&u0(u,Or(k,3))},vt.get=fh,vt.gt=P9,vt.gte=R9,vt.has=function tw(u,k){return null!=u&&i6(u,k,rf)},vt.hasIn=M6,vt.head=D5,vt.identity=ho,vt.includes=function Z5(u,k,q,Ie){u=Z1(u)?u:k0(u),q=q&&!Ie?yi(q):0;var qe=u.length;return q<0&&(q=wa(qe+q,0)),F3(u)?q<=qe&&u.indexOf(k,q)>-1:!!qe&&ao(u,k,q)>-1},vt.indexOf=function A5(u,k,q){var Ie=null==u?0:u.length;if(!Ie)return-1;var qe=null==q?0:yi(q);return qe<0&&(qe=wa(Ie+qe,0)),ao(u,k,qe)},vt.inRange=function rw(u,k,q){return k=Us(k),q===Zt?(q=k,k=0):q=Us(q),function ns(u,k,q){return u>=Os(k,q)&&u<wa(k,q)}(u=Eo(u),k,q)},vt.invoke=Q9,vt.isArguments=q2,vt.isArray=ii,vt.isArrayBuffer=F9,vt.isArrayLike=Z1,vt.isArrayLikeObject=Sa,vt.isBoolean=function eh(u){return!0===u||!1===u||Ta(u)&&Qs(u)==ge},vt.isBuffer=A2,vt.isDate=O9,vt.isElement=function KM(u){return Ta(u)&&1===u.nodeType&&!b6(u)},vt.isEmpty=function QM(u){if(null==u)return!0;if(Z1(u)&&(ii(u)||"string"==typeof u||"function"==typeof u.splice||A2(u)||ko(u)||q2(u)))return!u.length;var k=ds(u);if(k==ye||k==B)return!u.size;if(b0(u))return!f(u).length;for(var q in u)if(Wi.call(u,q))return!1;return!0},vt.isEqual=function R3(u,k){return qo(u,k)},vt.isEqualWith=function B9(u,k,q){var Ie=(q="function"==typeof q?q:Zt)?q(u,k):Zt;return Ie===Zt?qo(u,k,Zt,q):!!Ie},vt.isError=S0,vt.isFinite=function Rf(u){return"number"==typeof u&&u3(u)},vt.isFunction=ec,vt.isInteger=Ff,vt.isLength=T0,vt.isMap=Of,vt.isMatch=function th(u,k){return u===k||Z4(u,k,y0(k))},vt.isMatchWith=function nh(u,k,q){return q="function"==typeof q?q:Zt,Z4(u,k,y0(k),q)},vt.isNaN=function y6(u){return rh(u)&&u!=+u},vt.isNative=function Bf(u){if(FM(u))throw new Kr("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return af(u)},vt.isNil=function H9(u){return null==u},vt.isNull=function D0(u){return null===u},vt.isNumber=rh,vt.isObject=ma,vt.isObjectLike=Ta,vt.isPlainObject=b6,vt.isRegExp=A0,vt.isSafeInteger=function Hf(u){return Ff(u)&&u>=-U&&u<=U},vt.isSet=Vf,vt.isString=F3,vt.isSymbol=X1,vt.isTypedArray=ko,vt.isUndefined=function V9(u){return u===Zt},vt.isWeakMap=function U9(u){return Ta(u)&&ds(u)==Ee},vt.isWeakSet=function G9(u){return Ta(u)&&"[object WeakSet]"==Qs(u)},vt.join=function k5(u,k){return null==u?"":f3.call(u,k)},vt.kebabCase=sv,vt.last=qi,vt.lastIndexOf=function BM(u,k,q){var Ie=null==u?0:u.length;if(!Ie)return-1;var qe=Ie;return q!==Zt&&(qe=(qe=yi(q))<0?wa(Ie+qe,0):Os(qe,Ie-1)),k==k?function Mc(on,Cn,Dn){for(var gr=Dn+1;gr--;)if(on[gr]===Cn)return gr;return gr}(u,k,qe):g2(u,Uo,qe,!0)},vt.lowerCase=ov,vt.lowerFirst=cv,vt.lt=$9,vt.lte=W9,vt.max=function D6(u){return u&&u.length?uo(u,ho,Ml):Zt},vt.maxBy=function xv(u,k){return u&&u.length?uo(u,Or(k,2),Ml):Zt},vt.mean=function Bh(u){return r3(u,ho)},vt.meanBy=function Hh(u,k){return r3(u,Or(k,2))},vt.min=function Vh(u){return u&&u.length?uo(u,ho,V):Zt},vt.minBy=function Qf(u,k){return u&&u.length?uo(u,Or(k,2),V):Zt},vt.stubArray=zl,vt.stubFalse=N0,vt.stubObject=function Xf(){return{}},vt.stubString=function yv(){return""},vt.stubTrue=function bv(){return!0},vt.multiply=Uh,vt.nth=function E5(u,k){return u&&u.length?Ue(u,yi(k)):Zt},vt.noConflict=function Eh(){return mi._===this&&(mi._=qu),this},vt.noop=V3,vt.now=d6,vt.pad=function lv(u,k,q){u=Xi(u);var Ie=(k=yi(k))?ul(u):0;if(!k||Ie>=k)return u;var qe=(k-Ie)/2;return Q4(_c(qe),q)+u+Q4(G2(qe),q)},vt.padEnd=function $f(u,k,q){u=Xi(u);var Ie=(k=yi(k))?ul(u):0;return k&&Ie<k?u+Q4(k-Ie,q):u},vt.padStart=function iw(u,k,q){u=Xi(u);var Ie=(k=yi(k))?ul(u):0;return k&&Ie<k?Q4(k-Ie,q)+u:u},vt.parseInt=function aw(u,k,q){return q||null==k?k=0:k&&(k=+k),d3(Xi(u).replace(Me,""),k||0)},vt.random=function B3(u,k,q){if(q&&"boolean"!=typeof q&&zs(u,k,q)&&(k=q=Zt),q===Zt&&("boolean"==typeof k?(q=k,k=Zt):"boolean"==typeof u&&(q=u,u=Zt)),u===Zt&&k===Zt?(u=0,k=1):(u=Us(u),k===Zt?(k=u,u=0):k=Us(k)),u>k){var Ie=u;u=k,k=Ie}if(q||u%1||k%1){var qe=Sc();return Os(u+qe*(k-u+zi("1e-"+((qe+"").length-1))),k)}return Tt(u,k)},vt.reduce=function K5(u,k,q){var Ie=ii(u)?H2:Xn,qe=arguments.length<3;return Ie(u,Or(k,4),q,qe,_a)},vt.reduceRight=function jM(u,k,q){var Ie=ii(u)?ro:Xn,qe=arguments.length<3;return Ie(u,Or(k,4),q,qe,Ds)},vt.repeat=function Wf(u,k,q){return k=(q?zs(u,k,q):k===Zt)?1:yi(k),Ht(Xi(u),k)},vt.replace=function sw(){var u=arguments,k=Xi(u[0]);return u.length<3?k:k.replace(u[1],u[2])},vt.result=function q9(u,k,q){var Ie=-1,qe=(k=La(k,u)).length;for(qe||(qe=1,u=Zt);++Ie<qe;){var Mt=null==u?Zt:u[T2(k[Ie])];Mt===Zt&&(Ie=qe,Mt=q),u=ec(Mt)?Mt.call(u):Mt}return u},vt.round=A6,vt.runInContext=on,vt.sample=function T9(u){return(ii(u)?ra:tn)(u)},vt.size=function A9(u){if(null==u)return 0;if(Z1(u))return F3(u)?ul(u):u.length;var k=ds(u);return k==ye||k==B?u.size:f(u).length},vt.snakeCase=ow,vt.some=function J5(u,k,q){var Ie=ii(u)?O1:fr;return q&&zs(u,k,q)&&(k=Zt),Ie(u,Or(k,3))},vt.sortedIndex=function VM(u,k){return kr(u,k)},vt.sortedIndexBy=function UM(u,k,q){return dr(u,k,Or(q,2))},vt.sortedIndexOf=function GM(u,k){var q=null==u?0:u.length;if(q){var Ie=kr(u,k);if(Ie<q&&zo(u[Ie],k))return Ie}return-1},vt.sortedLastIndex=function $M(u,k){return kr(u,k,!0)},vt.sortedLastIndexBy=function WM(u,k,q){return dr(u,k,Or(q,2),!0)},vt.sortedLastIndexOf=function c9(u,k){if(null!=u&&u.length){var Ie=kr(u,k,!0)-1;if(zo(u[Ie],k))return Ie}return-1},vt.startCase=lw,vt.startsWith=function uw(u,k,q){return u=Xi(u),q=null==q?0:G1(yi(q),0,u.length),k=vi(k),u.slice(q,q+k.length)==k},vt.subtract=U3,vt.sum=function Gh(u){return u&&u.length?_1(u,ho):0},vt.sumBy=function Jf(u,k){return u&&u.length?_1(u,Or(k,2)):0},vt.template=function uv(u,k,q){var Ie=vt.templateSettings;q&&zs(u,k,q)&&(k=Zt),u=Xi(u),k=C6({},k,Ie,e1);var rn,vn,qe=C6({},k.imports,Ie.imports,e1),Mt=Gs(qe),Yt=Cc(qe,Mt),Un=0,Gn=k.interpolate||fn,Sn="__p += '",de=Jl((k.escape||fn).source+"|"+Gn.source+"|"+(Gn===sn?Ct:fn).source+"|"+(k.evaluate||fn).source+"|$","g"),Sr="//# sourceURL="+(Wi.call(k,"sourceURL")?(k.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++kn+"]")+"\n";u.replace(de,function(Ur,Ai,Ti,$s,t1,n1){return Ti||(Ti=$s),Sn+=u.slice(Un,n1).replace(Rn,d1),Ai&&(rn=!0,Sn+="' +\n__e("+Ai+") +\n'"),t1&&(vn=!0,Sn+="';\n"+t1+";\n__p += '"),Ti&&(Sn+="' +\n((__t = ("+Ti+")) == null ? '' : __t) +\n'"),Un=n1+Ur.length,Ur}),Sn+="';\n";var lt=Wi.call(k,"variable")&&k.variable;if(lt){if(Bt.test(lt))throw new Kr("Invalid `variable` option passed into `_.template`")}else Sn="with (obj) {\n"+Sn+"\n}\n";Sn=(vn?Sn.replace($t,""):Sn).replace(Ot,"$1").replace(kt,"$1;"),Sn="function("+(lt||"obj")+") {\n"+(lt?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(rn?", __e = _.escape":"")+(vn?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Sn+"return __p\n}";var bi=Io(function(){return Oi(Mt,Sr+"return "+Sn).apply(Zt,Yt)});if(bi.source=Sn,S0(bi))throw bi;return bi},vt.times=function Kf(u,k){if((u=yi(u))<1||u>U)return[];var q=pe,Ie=Os(u,pe);k=Or(k),u-=pe;for(var qe=y2(Ie,k);++q<u;)k(q);return qe},vt.toFinite=Us,vt.toInteger=yi,vt.toLength=ih,vt.toLower=function L6(u){return Xi(u).toLowerCase()},vt.toNumber=Eo,vt.toSafeInteger=function j9(u){return u?G1(yi(u),-U,U):0===u?u:0},vt.toString=Xi,vt.toUpper=function S6(u){return Xi(u).toUpperCase()},vt.trim=function jf(u,k,q){if((u=Xi(u))&&(q||k===Zt))return Xl(u);if(!u||!(k=vi(k)))return u;var Ie=S1(u),qe=S1(k);return Wa(Ie,k4(Ie,qe),cl(Ie,qe)+1).join("")},vt.trimEnd=function _h(u,k,q){if((u=Xi(u))&&(q||k===Zt))return u.slice(0,B1(u)+1);if(!u||!(k=vi(k)))return u;var Ie=S1(u);return Wa(Ie,0,cl(Ie,S1(k))+1).join("")},vt.trimStart=function Lh(u,k,q){if((u=Xi(u))&&(q||k===Zt))return u.replace(Me,"");if(!u||!(k=vi(k)))return u;var Ie=S1(u);return Wa(Ie,k4(Ie,S1(k))).join("")},vt.truncate=function Sh(u,k){var q=30,Ie="...";if(ma(k)){var qe="separator"in k?k.separator:qe;q="length"in k?yi(k.length):q,Ie="omission"in k?vi(k.omission):Ie}var Mt=(u=Xi(u)).length;if(V2(u)){var Yt=S1(u);Mt=Yt.length}if(q>=Mt)return u;var rn=q-ul(Ie);if(rn<1)return Ie;var vn=Yt?Wa(Yt,0,rn).join(""):u.slice(0,rn);if(qe===Zt)return vn+Ie;if(Yt&&(rn+=vn.length-rn),A0(qe)){if(u.slice(rn).search(qe)){var Un,Gn=vn;for(qe.global||(qe=Jl(qe.source,Xi(st.exec(qe))+"g")),qe.lastIndex=0;Un=qe.exec(Gn);)var Sn=Un.index;vn=vn.slice(0,Sn===Zt?rn:Sn)}}else if(u.indexOf(vi(qe),rn)!=rn){var de=vn.lastIndexOf(qe);de>-1&&(vn=vn.slice(0,de))}return vn+Ie},vt.unescape=function fv(u){return(u=Xi(u))&&Lt.test(u)?u.replace(At,Pi):u},vt.uniqueId=function kl(u){var k=++dl;return Xi(u)+k},vt.upperCase=Th,vt.upperFirst=Pc,vt.each=k3,vt.eachRight=Tf,vt.first=D5,H3(vt,function(){var u={};return $1(vt,function(k,q){Wi.call(vt.prototype,q)||(u[q]=k)}),u}(),{chain:!1}),vt.VERSION="4.17.21",Er(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){vt[u].placeholder=vt}),Er(["drop","take"],function(u,k){wi.prototype[u]=function(q){q=q===Zt?1:wa(yi(q),0);var Ie=this.__filtered__&&!k?new wi(this):this.clone();return Ie.__filtered__?Ie.__takeCount__=Os(q,Ie.__takeCount__):Ie.__views__.push({size:Os(q,pe),type:u+(Ie.__dir__<0?"Right":"")}),Ie},wi.prototype[u+"Right"]=function(q){return this.reverse()[u](q).reverse()}}),Er(["filter","map","takeWhile"],function(u,k){var q=k+1,Ie=1==q||3==q;wi.prototype[u]=function(qe){var Mt=this.clone();return Mt.__iteratees__.push({iteratee:Or(qe,3),type:q}),Mt.__filtered__=Mt.__filtered__||Ie,Mt}}),Er(["head","last"],function(u,k){var q="take"+(k?"Right":"");wi.prototype[u]=function(){return this[q](1).value()[0]}}),Er(["initial","tail"],function(u,k){var q="drop"+(k?"":"Right");wi.prototype[u]=function(){return this.__filtered__?new wi(this):this[q](1)}}),wi.prototype.compact=function(){return this.filter(ho)},wi.prototype.find=function(u){return this.filter(u).head()},wi.prototype.findLast=function(u){return this.reverse().find(u)},wi.prototype.invokeMap=Ut(function(u,k){return"function"==typeof u?new wi(this):this.map(function(q){return X2(q,u,k)})}),wi.prototype.reject=function(u){return this.filter(Dl(Or(u)))},wi.prototype.slice=function(u,k){u=yi(u);var q=this;return q.__filtered__&&(u>0||k<0)?new wi(q):(u<0?q=q.takeRight(-u):u&&(q=q.drop(u)),k!==Zt&&(q=(k=yi(k))<0?q.dropRight(-k):q.take(k-u)),q)},wi.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},wi.prototype.toArray=function(){return this.take(pe)},$1(wi.prototype,function(u,k){var q=/^(?:filter|find|map|reject)|While$/.test(k),Ie=/^(?:head|last)$/.test(k),qe=vt[Ie?"take"+("last"==k?"Right":""):k],Mt=Ie||/^find/.test(k);qe&&(vt.prototype[k]=function(){var Yt=this.__wrapped__,rn=Ie?[1]:arguments,vn=Yt instanceof wi,Un=rn[0],Gn=vn||ii(Yt),Sn=function(Ai){var Ti=qe.apply(vt,w1([Ai],rn));return Ie&&de?Ti[0]:Ti};Gn&&q&&"function"==typeof Un&&1!=Un.length&&(vn=Gn=!1);var de=this.__chain__,lt=Mt&&!de,bi=vn&&!this.__actions__.length;if(!Mt&&Gn){Yt=bi?Yt:new wi(this);var Ur=u.apply(Yt,rn);return Ur.__actions__.push({func:Es,args:[Sn],thisArg:Zt}),new Ea(Ur,de)}return lt&&bi?u.apply(this,rn):(Ur=this.thru(Sn),lt?Ie?Ur.value()[0]:Ur.value():Ur)})}),Er(["pop","push","shift","sort","splice","unshift"],function(u){var k=ql[u],q=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",Ie=/^(?:pop|shift)$/.test(u);vt.prototype[u]=function(){var qe=arguments;if(Ie&&!this.__chain__){var Mt=this.value();return k.apply(ii(Mt)?Mt:[],qe)}return this[q](function(Yt){return k.apply(ii(Yt)?Yt:[],qe)})}}),$1(wi.prototype,function(u,k){var q=vt[k];if(q){var Ie=q.name+"";Wi.call(So,Ie)||(So[Ie]=[]),So[Ie].push({name:k,func:q})}}),So[p0(Zt,2).name]=[{name:"wrapper",func:Zt}],wi.prototype.clone=function pl(){var u=new wi(this.__wrapped__);return u.__actions__=Ui(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Ui(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Ui(this.__views__),u},wi.prototype.reverse=function ml(){if(this.__filtered__){var u=new wi(this);u.__dir__=-1,u.__filtered__=!0}else(u=this.clone()).__dir__*=-1;return u},wi.prototype.value=function H4(){var u=this.__wrapped__.value(),k=this.__dir__,q=ii(u),Ie=k<0,qe=q?u.length:0,Mt=function w3(u,k,q){for(var Ie=-1,qe=q.length;++Ie<qe;){var Mt=q[Ie],Yt=Mt.size;switch(Mt.type){case"drop":u+=Yt;break;case"dropRight":k-=Yt;break;case"take":k=Os(k,u+Yt);break;case"takeRight":u=wa(u,k-Yt)}}return{start:u,end:k}}(0,qe,this.__views__),Yt=Mt.start,rn=Mt.end,vn=rn-Yt,Un=Ie?rn:Yt-1,Gn=this.__iteratees__,Sn=Gn.length,de=0,Sr=Os(vn,this.__takeCount__);if(!q||!Ie&&qe==vn&&Sr==vn)return gi(u,this.__actions__);var lt=[];e:for(;vn--&&de<Sr;){for(var bi=-1,Ur=u[Un+=k];++bi<Sn;){var Ai=Gn[bi],$s=Ai.type,t1=(0,Ai.iteratee)(Ur);if(2==$s)Ur=t1;else if(!t1){if(1==$s)continue e;break e}}lt[de++]=Ur}return lt},vt.prototype.at=z3,vt.prototype.chain=function B5(){return Lf(this)},vt.prototype.commit=function H5(){return new Ea(this.value(),this.__chain__)},vt.prototype.next=function g9(){this.__values__===Zt&&(this.__values__=K1(this.value()));var u=this.__index__>=this.__values__.length;return{done:u,value:u?Zt:this.__values__[this.__index__++]}},vt.prototype.plant=function y9(u){for(var k,q=this;q instanceof w2;){var Ie=Tl(q);Ie.__index__=0,Ie.__values__=Zt,k?qe.__wrapped__=Ie:k=Ie;var qe=Ie;q=q.__wrapped__}return qe.__wrapped__=u,k},vt.prototype.reverse=function U5(){var u=this.__wrapped__;if(u instanceof wi){var k=u;return this.__actions__.length&&(k=new wi(this)),(k=k.reverse()).__actions__.push({func:Es,args:[xf],thisArg:Zt}),new Ea(k,this.__chain__)}return this.thru(xf)},vt.prototype.toJSON=vt.prototype.valueOf=vt.prototype.value=function b9(){return gi(this.__wrapped__,this.__actions__)},vt.prototype.first=vt.prototype.head,xa&&(vt.prototype[xa]=function V5(){return this}),vt}();mi._=U2,(Ks=function(){return U2}.call(B2,cs,B2,Vo))!==Zt&&(Vo.exports=Ks)}.call(this)},634:Vo=>{self,Vo.exports=function(){var B2={9288:function(Ce,j,o){"use strict";var p=o(3400),T={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var h in T){var v=h.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");p.addStyleRule(v,T[h])}},6712:function(Ce,j,o){"use strict";Ce.exports=o(1843)},7240:function(Ce,j,o){"use strict";Ce.exports=o(1132)},6144:function(Ce,j,o){"use strict";Ce.exports=o(7776)},2016:function(Ce,j,o){"use strict";Ce.exports=o(4884)},5556:function(Ce,j,o){"use strict";Ce.exports=o(6744)},6489:function(Ce,j,o){"use strict";Ce.exports=o(2028)},3472:function(Ce,j,o){"use strict";var p=o(2016);p.register([o(7240),o(260),o(6712),o(5556),o(6489),o(7312),o(6144)]),Ce.exports=p},260:function(Ce,j,o){"use strict";Ce.exports=o(5792)},7312:function(Ce,j,o){"use strict";Ce.exports=o(6272)},2196:function(Ce){"use strict";Ce.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},3916:function(Ce,j,o){"use strict";var p=o(2196),T=o(5376),h=o(3816),v=o(1780).templatedArray;o(6208),Ce.exports=v("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:T({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:p.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:p.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",h.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",h.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",h.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",h.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:T({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},272:function(Ce,j,o){"use strict";var p=o(3400),T=o(4460),h=o(6196).draw;function v(y){p.filterVisible(y._fullLayout.annotations).forEach(function(m){var c=T.getFromId(y,m.xref),C=T.getFromId(y,m.yref),w=T.getRefType(m.xref),S=T.getRefType(m.yref);m._extremes={},"range"===w&&d(m,c),"range"===S&&d(m,C)})}function d(y,g){var G,m=g._id,c=m.charAt(0),C=y[c],w=y["a"+c],A=y["_"+c+"padplus"],D=y["_"+c+"padminus"],_={x:1,y:-1}[c]*y[c+"shift"],E=3*y.arrowsize*y.arrowwidth||0,M=E+_,L=E-_,b=3*y.startarrowsize*y.arrowwidth||0,P=b+_,I=b-_;if(y["a"+c+"ref"]===y[c+"ref"]){var $=T.findExtremes(g,[g.r2c(C)],{ppadplus:M,ppadminus:L}),J=T.findExtremes(g,[g.r2c(w)],{ppadplus:Math.max(A,P),ppadminus:Math.max(D,I)});G={min:[$.min[0],J.min[0]],max:[$.max[0],J.max[0]]}}else P=w?P+w:P,I=w?I-w:I,G=T.findExtremes(g,[g.r2c(C)],{ppadplus:Math.max(A,M,P),ppadminus:Math.max(D,L,I)});y._extremes[m]=G}Ce.exports=function(g){if(p.filterVisible(g._fullLayout.annotations).length&&g._fullData.length)return p.syncOrAsync([h,v],g)}},2300:function(Ce,j,o){"use strict";var p=o(3400),T=o(4040),h=o(1780).arrayEditor;function y(m,c){var D,_,E,M,L,b,P,C=m._fullLayout.annotations,w=[],S=[],z=[],A=(c||[]).length;for(D=0;D<C.length;D++)if(M=(E=C[D]).clicktoshow){for(_=0;_<A;_++)if(P=(L=c[_]).yaxis,(b=L.xaxis)._id===E.xref&&P._id===E.yref&&b.d2r(L.x)===g(E._xclick,b)&&P.d2r(L.y)===g(E._yclick,P)){(E.visible?"onout"===M?S:z:w).push(D);break}_===A&&E.visible&&"onout"===M&&S.push(D)}return{on:w,off:S,explicitOff:z}}function g(m,c){return"log"===c.type?c.l2r(m):c.d2r(m)}Ce.exports={hasClickToShow:function v(m,c){var C=y(m,c);return C.on.length>0||C.explicitOff.length>0},onClick:function d(m,c){var D,_,C=y(m,c),w=C.on,S=C.off.concat(C.explicitOff),z={},A=m._fullLayout.annotations;if(w.length||S.length){for(D=0;D<w.length;D++)(_=h(m.layout,"annotations",A[w[D]])).modifyItem("visible",!0),p.extendFlat(z,_.getUpdateObj());for(D=0;D<S.length;D++)(_=h(m.layout,"annotations",A[S[D]])).modifyItem("visible",!1),p.extendFlat(z,_.getUpdateObj());return T.call("update",m,{},z)}}}},7192:function(Ce,j,o){"use strict";var p=o(3400),T=o(6308);Ce.exports=function(v,d,y,g){g("opacity");var m=g("bgcolor"),c=g("bordercolor"),C=T.opacity(c);g("borderpad");var w=g("borderwidth"),S=g("showarrow");if(g("text",S?" ":y._dfltTitle.annotation),g("textangle"),p.coerceFont(g,"font",y.font),g("width"),g("align"),g("height")&&g("valign"),S){var D,_,A=g("arrowside");-1!==A.indexOf("end")&&(D=g("arrowhead"),_=g("arrowsize")),-1!==A.indexOf("start")&&(g("startarrowhead",D),g("startarrowsize",_)),g("arrowcolor",C?d.bordercolor:T.defaultLine),g("arrowwidth",2*(C&&w||1)),g("standoff"),g("startstandoff")}var E=g("hovertext"),M=y.hoverlabel||{};if(E){var L=g("hoverlabel.bgcolor",M.bgcolor||(T.opacity(m)?T.rgb(m):T.defaultLine)),b=g("hoverlabel.bordercolor",M.bordercolor||T.contrast(L)),P=p.extendFlat({},M.font);P.color||(P.color=b),p.coerceFont(g,"hoverlabel.font",P)}g("captureevents",!!E)}},9208:function(Ce,j,o){"use strict";var p=o(8248),T=o(6896);Ce.exports=function(v,d,y,g){d=d||{};var m="log"===y&&"linear"===d.type;if(m||"linear"===y&&"log"===d.type)for(var S,z,C=v._fullLayout.annotations,w=d._id.charAt(0),D=0;D<C.length;D++)z="annotations["+D+"].",(S=C[D])[w+"ref"]===d._id&&A(w),S["a"+w+"ref"]===d._id&&A("a"+w);function A(_){var E=S[_],M=null;M=m?T(E,d.range):Math.pow(10,E),p(M)||(M=null),g(z+_,M)}}},5216:function(Ce,j,o){"use strict";var p=o(3400),T=o(4460),h=o(1272),v=o(7192),d=o(3916);function y(g,m,c){function C(re,O){return p.coerce(g,m,d,re,O)}var w=C("visible"),S=C("clicktoshow");if(w||S){v(g,m,c,C);for(var z=m.showarrow,A=["x","y"],D=[-10,-30],_={_fullLayout:c},E=0;E<2;E++){var M=A[E],L=T.coerceRef(g,m,_,M,"","paper");if("paper"!==L&&T.getFromId(_,L)._annIndices.push(m._index),T.coercePosition(m,_,C,L,M,.5),z){var P="a"+M,I=T.coerceRef(g,m,_,P,"pixel",["pixel","paper"]);"pixel"!==I&&I!==L&&(I=m[P]="pixel"),T.coercePosition(m,_,C,I,P,"pixel"===I?D[E]:.4)}C(M+"anchor"),C(M+"shift")}if(p.noneOrAll(g,m,["x","y"]),z&&p.noneOrAll(g,m,["ax","ay"]),S){var $=C("xclick"),J=C("yclick");m._xclick=void 0===$?m.x:T.cleanPosition($,_,m.xref),m._yclick=void 0===J?m.y:T.cleanPosition(J,_,m.yref)}}}Ce.exports=function(m,c){h(m,c,{name:"annotations",handleItemDefaults:y})}},6196:function(Ce,j,o){"use strict";var p=o(3428),T=o(4040),h=o(7316),v=o(3400),d=v.strTranslate,y=o(4460),g=o(6308),m=o(3616),c=o(3024),C=o(2736),w=o(3972),S=o(6476),z=o(1780).arrayEditor,A=o(3652);function _(L,b){var I=L._fullLayout.annotations[b]||{},G=y.getFromId(L,I.xref),$=y.getFromId(L,I.yref);G&&G.setScale(),$&&$.setScale(),M(L,I,b,!1,G,$)}function E(L,b,P,I,G){var $=G[P],J=G[P+"ref"],re=-1!==P.indexOf("y"),O="domain"===y.getRefType(J),Q=re?I.h:I.w;return L?O?$+(re?-b:b)/L._length:L.p2r(L.r2p($)+b):$+(re?-b:b)/Q}function M(L,b,P,I,G,$){var Q,U,J=L._fullLayout,re=L._fullLayout._size,O=L._context.edits;I?(Q="annotation-"+I,U=I+".annotations"):(Q="annotation",U="annotations");var ne=z(L.layout,U,b),le=ne.modifyBase,pe=ne.modifyItem,W=ne.getUpdateObj;J._infolayer.selectAll("."+Q+'[data-index="'+P+'"]').remove();var K="clip"+J._uid+"_ann"+P;if(b._input&&!1!==b.visible){var X={x:{},y:{}},ie=+b.textangle||0,ue=J._infolayer.append("g").classed(Q,!0).attr("data-index",String(P)).style("opacity",b.opacity),ce=ue.append("g").classed("annotation-text-g",!0),ge=O[b.showarrow?"annotationTail":"annotationPosition"],De=b.captureevents||O.annotationText||ge,Be=ce.append("g").style("pointer-events",De?"all":null).call(w,"pointer").on("click",function(){L._dragging=!1,L.emit("plotly_clickannotation",Ne(p.event))});b.hovertext&&Be.on("mouseover",function(){var xe=b.hoverlabel,Te=xe.font,Ee=this.getBoundingClientRect(),Oe=L.getBoundingClientRect();c.loneHover({x0:Ee.left-Oe.left,x1:Ee.right-Oe.left,y:(Ee.top+Ee.bottom)/2-Oe.top,text:b.hovertext,color:xe.bgcolor,borderColor:xe.bordercolor,fontFamily:Te.family,fontSize:Te.size,fontColor:Te.color,fontWeight:Te.weight,fontStyle:Te.style,fontVariant:Te.variant,fontShadow:Te.fontShadow,fontLineposition:Te.fontLineposition,fontTextcase:Te.fontTextcase},{container:J._hoverlayer.node(),outerContainer:J._paper.node(),gd:L})}).on("mouseout",function(){c.loneUnhover(J._hoverlayer.node())});var Fe=b.borderwidth,ye=Fe+b.borderpad,H=Be.append("rect").attr("class","bg").style("stroke-width",Fe+"px").call(g.stroke,b.bordercolor).call(g.fill,b.bgcolor),Y=b.width||b.height,te=J._topclips.selectAll("#"+K).data(Y?[0]:[]);te.enter().append("clipPath").classed("annclip",!0).attr("id",K).append("rect"),te.exit().remove();var Z=b.font,N=J._meta?v.templateString(b.text,J._meta):b.text,ee=Be.append("text").classed("annotation-text",!0).text(N);O.annotationText?ee.call(C.makeEditable,{delegate:Be,gd:L}).call(B).on("edit",function(xe){b.text=xe,this.call(B),pe("text",xe),G&&G.autorange&&le(G._name+".autorange",!0),$&&$.autorange&&le($._name+".autorange",!0),T.call("_guiRelayout",L,W())}):ee.call(B)}else p.selectAll("#"+K).remove();function Ne(xe){var Te={index:P,annotation:b._input,fullAnnotation:b,event:xe};return I&&(Te.subplotId=I),Te}function B(xe){return xe.call(m.font,Z).attr({"text-anchor":{left:"start",right:"end"}[b.align]||"middle"}),C.convertToTspans(xe,L,se),xe}function se(){var xe=ee.selectAll("a");1===xe.size()&&xe.text()===ee.text()&&Be.insert("a",":first-child").attr({"xlink:xlink:href":xe.attr("xlink:href"),"xlink:xlink:show":xe.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(H.node());var Ee=Be.select(".annotation-text-math-group"),Oe=!Ee.empty(),$e=m.bBox((Oe?Ee:ee).node()),ct=$e.width,ft=$e.height,gt=b.width||ct,ze=b.height||ft,Ve=Math.round(gt+2*ye),Pe=Math.round(ze+2*ye);function Qe($n,fn){return"auto"===fn&&(fn=$n<.3333333333333333?"left":$n>.6666666666666666?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[fn]}for(var Ke=!1,dt=["x","y"],Dt=0;Dt<dt.length;Dt++){var xt,yt,ke,Xe,Me,$t=dt[Dt],Ot=b[$t+"ref"]||$t,kt=b["a"+$t+"ref"],At={x:G,y:$}[$t],Gt=(ie+("x"===$t?0:-90))*Math.PI/180,Lt=Ve*Math.cos(Gt),Qt=Pe*Math.sin(Gt),Jt=Math.abs(Lt)+Math.abs(Qt),en=b[$t+"anchor"],sn=b[$t+"shift"]*("x"===$t?1:-1),pt=X[$t],_e=y.getRefType(Ot);if(At&&"domain"!==_e){var He=At.r2fraction(b[$t]);(He<0||He>1)&&(kt===Ot?((He=At.r2fraction(b["a"+$t]))<0||He>1)&&(Ke=!0):Ke=!0),xt=At._offset+At.r2p(b[$t]),Xe=.5}else{var We="domain"===_e;"x"===$t?(ke=b[$t],xt=We?At._offset+At._length*ke:xt=re.l+re.w*ke):(ke=1-b[$t],xt=We?At._offset+At._length*ke:xt=re.t+re.h*ke),Xe=b.showarrow?.5:ke}if(b.showarrow){pt.head=xt;var Ze=b["a"+$t];if(Me=Lt*Qe(.5,b.xanchor)-Qt*Qe(.5,b.yanchor),kt===Ot){var nt=y.getRefType(kt);"domain"===nt?("y"===$t&&(Ze=1-Ze),pt.tail=At._offset+At._length*Ze):pt.tail="paper"===nt?"y"===$t?re.t+re.h*(Ze=1-Ze):re.l+re.w*Ze:At._offset+At.r2p(Ze),yt=Me}else pt.tail=xt+Ze,yt=Me+Ze;pt.text=pt.tail+Me;var Bt=J["x"===$t?"width":"height"];if("paper"===Ot&&(pt.head=v.constrain(pt.head,1,Bt-1)),"pixel"===kt){var Je=-Math.max(pt.tail-3,pt.text),Ct=Math.min(pt.tail+3,pt.text)-Bt;Je>0?(pt.tail+=Je,pt.text+=Je):Ct>0&&(pt.tail-=Ct,pt.text-=Ct)}pt.tail+=sn,pt.head+=sn}else yt=Me=Jt*Qe(Xe,en),pt.text=xt+Me;pt.text+=sn,Me+=sn,b["_"+$t+"padplus"]=Jt/2+(yt+=sn),b["_"+$t+"padminus"]=Jt/2-yt,b["_"+$t+"size"]=Jt,b["_"+$t+"shift"]=Me}if(Ke)Be.remove();else{var st=0,Pt=0;"left"!==b.align&&(st=(gt-ct)*("center"===b.align?.5:1)),"top"!==b.valign&&(Pt=(ze-ft)*("middle"===b.valign?.5:1)),Oe?Ee.select("svg").attr({x:ye+st-1,y:ye+Pt}).call(m.setClipUrl,Y?K:null,L):ee.call(C.positionText,ye+st-$e.left,ye+Pt-$e.top).call(m.setClipUrl,Y?K:null,L),te.select("rect").call(m.setRect,ye,ye,gt,ze),H.call(m.setRect,Fe/2,Fe/2,Ve-Fe,Pe-Fe),Be.call(m.setTranslate,Math.round(X.x.text-Ve/2),Math.round(X.y.text-Pe/2)),ce.attr({transform:"rotate("+ie+","+X.x.text+","+X.y.text+")"});var Vn,Nn=function($n,fn){ue.selectAll(".annotation-arrow-g").remove();var Rn=X.x.head,En=X.y.head,Pn=X.x.tail+$n,Zn=X.y.tail+fn,Yn=X.x.text+$n,mn=X.y.text+fn,Wn=v.rotationXYMatrix(ie,Yn,mn),In=v.apply2DTransform(Wn),Fn=v.apply2DTransform2(Wn),vr=+H.attr("width"),ir=+H.attr("height"),On=Yn-.5*vr,hr=On+vr,rr=mn-.5*ir,bn=rr+ir,ve=[[On,rr,On,bn],[On,bn,hr,bn],[hr,bn,hr,rr],[hr,rr,On,rr]].map(Fn);if(!ve.reduce(function(qt,hn){return qt^!!v.segmentsIntersect(Rn,En,Rn+1e6,En+1e6,hn[0],hn[1],hn[2],hn[3])},!1)){ve.forEach(function(qt){var hn=v.segmentsIntersect(Pn,Zn,Rn,En,qt[0],qt[1],qt[2],qt[3]);hn&&(Pn=hn.x,Zn=hn.y)});var he=b.arrowwidth,ut=b.arrowcolor,mt=b.arrowside,at=ue.append("g").style({opacity:g.opacity(ut)}).classed("annotation-arrow-g",!0),it=at.append("path").attr("d","M"+Pn+","+Zn+"L"+Rn+","+En).style("stroke-width",he+"px").call(g.stroke,g.rgb(ut));if(A(it,mt,b),O.annotationPosition&&it.node().parentNode&&!I){var ot=Rn,St=En;if(b.standoff){var bt=Math.sqrt(Math.pow(Rn-Pn,2)+Math.pow(En-Zn,2));ot+=b.standoff*(Pn-Rn)/bt,St+=b.standoff*(Zn-En)/bt}var Nt,It,Et=at.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Pn-ot)+","+(Zn-St),transform:d(ot,St)}).style("stroke-width",he+6+"px").call(g.stroke,"rgba(0,0,0,0)").call(g.fill,"rgba(0,0,0,0)");S.init({element:Et.node(),gd:L,prepFn:function(){var qt=m.getTranslate(Be);Nt=qt.x,It=qt.y,G&&G.autorange&&le(G._name+".autorange",!0),$&&$.autorange&&le($._name+".autorange",!0)},moveFn:function(qt,hn){var Vt=In(Nt,It),Mn=Vt[0]+qt,Wt=Vt[1]+hn;Be.call(m.setTranslate,Mn,Wt),pe("x",E(G,qt,"x",re,b)),pe("y",E($,hn,"y",re,b)),b.axref===b.xref&&pe("ax",E(G,qt,"ax",re,b)),b.ayref===b.yref&&pe("ay",E($,hn,"ay",re,b)),at.attr("transform",d(qt,hn)),ce.attr({transform:"rotate("+ie+","+Mn+","+Wt+")"})},doneFn:function(){T.call("_guiRelayout",L,W());var qt=document.querySelector(".js-notes-box-panel");qt&&qt.redraw(qt.selectedObj)}})}}};b.showarrow&&Nn(0,0),ge&&S.init({element:Be.node(),gd:L,prepFn:function(){Vn=ce.attr("transform")},moveFn:function($n,fn){var Rn="pointer";if(b.showarrow)pe("ax",b.axref===b.xref?E(G,$n,"ax",re,b):b.ax+$n),pe("ay",b.ayref===b.yref?E($,fn,"ay",re.w,b):b.ay+fn),Nn($n,fn);else{if(I)return;var En,Pn;if(G)En=E(G,$n,"x",re,b);else{var Zn=b._xsize/re.w;En=S.align(b.x+(b._xshift-b.xshift)/re.w-Zn/2+$n/re.w,Zn,0,1,b.xanchor)}if($)Pn=E($,fn,"y",re,b);else{var mn=b._ysize/re.h;Pn=S.align(b.y-(b._yshift+b.yshift)/re.h-mn/2-fn/re.h,mn,0,1,b.yanchor)}pe("x",En),pe("y",Pn),(!G||!$)&&(Rn=S.getCursor(G?.5:En,$?.5:Pn,b.xanchor,b.yanchor))}ce.attr({transform:d($n,fn)+Vn}),w(Be,Rn)},clickFn:function($n,fn){b.captureevents&&L.emit("plotly_clickannotation",Ne(fn))},doneFn:function(){w(Be),T.call("_guiRelayout",L,W());var $n=document.querySelector(".js-notes-box-panel");$n&&$n.redraw($n.selectedObj)}})}}}Ce.exports={draw:function D(L){var b=L._fullLayout;b._infolayer.selectAll(".annotation").remove();for(var P=0;P<b.annotations.length;P++)b.annotations[P].visible&&_(L,P);return h.previousPromises(L)},drawOne:_,drawRaw:M}},3652:function(Ce,j,o){"use strict";var p=o(3428),T=o(6308),h=o(2196),v=o(3400),d=v.strScale,y=v.strRotate,g=v.strTranslate;Ce.exports=function(c,C,w){var P,I,G,$,S=c.node(),z=h[w.arrowhead||0],A=h[w.startarrowhead||0],D=(w.arrowwidth||1)*(w.arrowsize||1),_=(w.arrowwidth||1)*(w.startarrowsize||1),E=C.indexOf("start")>=0,M=C.indexOf("end")>=0,L=z.backoff*D+w.standoff,b=A.backoff*_+w.startstandoff;if("line"===S.nodeName){P={x:+c.attr("x1"),y:+c.attr("y1")},I={x:+c.attr("x2"),y:+c.attr("y2")};var J=P.x-I.x,re=P.y-I.y;if($=(G=Math.atan2(re,J))+Math.PI,L&&b&&L+b>Math.sqrt(J*J+re*re))return void ce();if(L){if(L*L>J*J+re*re)return void ce();var O=L*Math.cos(G),Q=L*Math.sin(G);I.x+=O,I.y+=Q,c.attr({x2:I.x,y2:I.y})}if(b){if(b*b>J*J+re*re)return void ce();var U=b*Math.cos(G),ne=b*Math.sin(G);P.x-=U,P.y-=ne,c.attr({x1:P.x,y1:P.y})}}else if("path"===S.nodeName){var le=S.getTotalLength(),pe="";if(le<L+b)return void ce();var W=S.getPointAtLength(0),K=S.getPointAtLength(.1);G=Math.atan2(W.y-K.y,W.x-K.x),P=S.getPointAtLength(Math.min(b,le)),pe="0px,"+b+"px,";var X=S.getPointAtLength(le),ie=S.getPointAtLength(le-.1);$=Math.atan2(X.y-ie.y,X.x-ie.x),I=S.getPointAtLength(Math.max(0,le-L)),c.style("stroke-dasharray",pe+=le-(pe?b+L:L)+"px,"+le+"px")}function ce(){c.style("stroke-dasharray","0px,100px")}function ge(De,Ne,Be,Fe){De.path&&(De.noRotate&&(Be=0),p.select(S.parentNode).append("path").attr({class:c.attr("class"),d:De.path,transform:g(Ne.x,Ne.y)+y(180*Be/Math.PI)+d(Fe)}).style({fill:T.rgb(w.arrowcolor),"stroke-width":0}))}E&&ge(A,P,G,_),M&&ge(z,I,$,D)}},9180:function(Ce,j,o){"use strict";var p=o(6196),T=o(2300);Ce.exports={moduleType:"component",name:"annotations",layoutAttributes:o(3916),supplyLayoutDefaults:o(5216),includeBasePlot:o(6632)("annotations"),calcAutorange:o(272),draw:p.draw,drawOne:p.drawOne,drawRaw:p.drawRaw,hasClickToShow:T.hasClickToShow,onClick:T.onClick,convertCoords:o(9208)}},5899:function(Ce,j,o){"use strict";var p=o(3916),T=o(7824).overrideAll,h=o(1780).templatedArray;Ce.exports=T(h("annotation",{visible:p.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:p.xanchor,xshift:p.xshift,yanchor:p.yanchor,yshift:p.yshift,text:p.text,textangle:p.textangle,font:p.font,width:p.width,height:p.height,opacity:p.opacity,align:p.align,valign:p.valign,bgcolor:p.bgcolor,bordercolor:p.bordercolor,borderpad:p.borderpad,borderwidth:p.borderwidth,showarrow:p.showarrow,arrowcolor:p.arrowcolor,arrowhead:p.arrowhead,startarrowhead:p.startarrowhead,arrowside:p.arrowside,arrowsize:p.arrowsize,startarrowsize:p.startarrowsize,arrowwidth:p.arrowwidth,standoff:p.standoff,startstandoff:p.startstandoff,hovertext:p.hovertext,hoverlabel:p.hoverlabel,captureevents:p.captureevents}),"calc","from-root")},76:function(Ce,j,o){"use strict";var p=o(3400),T=o(4460);function h(v,d){var g=d.fullSceneLayout.domain,m=d.fullLayout._size,c={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};v._xa={},p.extendFlat(v._xa,c),T.setConvert(v._xa),v._xa._offset=m.l+g.x[0]*m.w,v._xa.l2p=function(){return.5*(1+v._pdata[0]/v._pdata[3])*m.w*(g.x[1]-g.x[0])},v._ya={},p.extendFlat(v._ya,c),T.setConvert(v._ya),v._ya._offset=m.t+(1-g.y[1])*m.h,v._ya.l2p=function(){return.5*(1-v._pdata[1]/v._pdata[3])*m.h*(g.y[1]-g.y[0])}}Ce.exports=function(d){for(var g=d.fullSceneLayout.annotations,m=0;m<g.length;m++)h(g[m],d);d.fullLayout._infolayer.selectAll(".annotation-"+d.id).remove()}},2808:function(Ce,j,o){"use strict";var p=o(3400),T=o(4460),h=o(1272),v=o(7192),d=o(5899);function y(g,m,c,C){function w(A,D){return p.coerce(g,m,d,A,D)}function S(A){var D=A+"axis",_={_fullLayout:{}};return _._fullLayout[D]=c[D],T.coercePosition(m,_,w,A,A,.5)}w("visible")&&(v(g,m,C.fullLayout,w),S("x"),S("y"),S("z"),p.noneOrAll(g,m,["x","y","z"]),m.xref="x",m.yref="y",m.zref="z",w("xanchor"),w("yanchor"),w("xshift"),w("yshift"),m.showarrow&&(m.axref="pixel",m.ayref="pixel",w("ax",-10),w("ay",-30),p.noneOrAll(g,m,["ax","ay"])))}Ce.exports=function(m,c,C){h(m,c,{name:"annotations",handleItemDefaults:y,fullLayout:C.fullLayout})}},1836:function(Ce,j,o){"use strict";var p=o(6196).drawRaw,T=o(4424),h=["x","y","z"];Ce.exports=function(d){for(var y=d.fullSceneLayout,g=d.dataScale,m=y.annotations,c=0;c<m.length;c++){for(var C=m[c],w=!1,S=0;S<3;S++){var z=h[S],_=y[z+"axis"].r2fraction(C[z]);if(_<0||_>1){w=!0;break}}w?d.fullLayout._infolayer.select(".annotation-"+d.id+'[data-index="'+c+'"]').remove():(C._pdata=T(d.glplot.cameraParams,[y.xaxis.r2l(C.x)*g[0],y.yaxis.r2l(C.y)*g[1],y.zaxis.r2l(C.z)*g[2]]),p(d.graphDiv,C,c,d.id,C._xa,C._ya))}}},6864:function(Ce,j,o){"use strict";var p=o(4040),T=o(3400);Ce.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:o(5899)}}},layoutAttributes:o(5899),handleDefaults:o(2808),includeBasePlot:function h(v,d){var y=p.subplotsRegistry.gl3d;if(y)for(var g=y.attrRegex,m=Object.keys(v),c=0;c<m.length;c++){var C=m[c];g.test(C)&&(v[C].annotations||[]).length&&(T.pushUnique(d._basePlotModules,y),T.pushUnique(d._subplots.gl3d,C))}},convert:o(76),draw:o(1836)}},4976:function(Ce,j,o){"use strict";Ce.exports=o(8700),o(5168),o(7020),o(7411),o(5668),o(2787),o(2084),o(6368),o(4747),o(5616),o(632),o(3040),o(1104),o(9075),o(4592),o(5348)},7776:function(Ce,j,o){"use strict";var p=o(4976),T=o(3400),h=o(9032),v=h.EPOCHJD,d=h.ONEDAY,y={valType:"enumerated",values:T.sortObjectKeys(p.calendars),editType:"calc",dflt:"gregorian"},g=function(G,$,J,re){var O={};return O[J]=y,T.coerce(G,$,O,J,re)},S="##",z={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:S,w:S,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};var D={};function _(G){var $=D[G];return $||(D[G]=p.instance(G))}function E(G){return T.extendFlat({},y,{description:G})}function M(G){return"Sets the calendar system to use with `"+G+"` date data."}var L={xcalendar:E(M("x"))},b=T.extendFlat({},L,{ycalendar:E(M("y"))}),P=T.extendFlat({},b,{zcalendar:E(M("z"))}),I=E(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));Ce.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:b,bar:b,box:b,heatmap:b,contour:b,histogram:b,histogram2d:b,histogram2dcontour:b,scatter3d:P,surface:P,mesh3d:P,scattergl:b,ohlc:L,candlestick:L},layout:{calendar:E(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:I},yaxis:{calendar:I},scene:{xaxis:{calendar:I},yaxis:{calendar:I},zaxis:{calendar:I}},polar:{radialaxis:{calendar:I}}},transforms:{filter:{valuecalendar:E(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:E(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:y,handleDefaults:g,handleTraceDefaults:function(G,$,J,re){for(var O=0;O<J.length;O++)g(G,$,J[O]+"calendar",re.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:_,worldCalFmt:function A(G,$,J){for(var U,ne,le,pe,W,re=Math.floor(($+.05)/d)+v,O=_(J).fromJD(re),Q=0;-1!==(Q=G.indexOf("%",Q));)"0"===(U=G.charAt(Q+1))||"-"===U||"_"===U?(le=3,ne=G.charAt(Q+2),"_"===U&&(U="-")):(ne=U,U="0",le=2),(pe=z[ne])?(W=pe===S?S:O.formatDate(pe[U]),G=G.substr(0,Q)+W+G.substr(Q+le),Q+=W.length):Q+=le;return G}}},2548:function(Ce,j){"use strict";j.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],j.defaultLine="#444",j.lightLine="#eee",j.background="#fff",j.borderLine="#BEC8D9",j.lightFraction=90.9090909090909},6308:function(Ce,j,o){"use strict";var p=o(9760),T=o(8248),h=o(8116).isTypedArray,v=Ce.exports={},d=o(2548);v.defaults=d.defaults;var y=v.defaultLine=d.defaultLine;v.lightLine=d.lightLine;var g=v.background=d.background;function m(c){if(T(c)||"string"!=typeof c)return c;var C=c.trim();if("rgb"!==C.substr(0,3))return c;var w=C.match(/^rgba?\s*\(([^()]*)\)$/);if(!w)return c;var S=w[1].trim().split(/\s*[\s,]\s*/),z="a"===C.charAt(3)&&4===S.length;if(!z&&3!==S.length)return c;for(var A=0;A<S.length;A++){if(!(S[A].length&&(S[A]=Number(S[A]),S[A]>=0)))return c;if(3===A)S[A]>1&&(S[A]=1);else if(S[A]>=1)return c}var D=Math.round(255*S[0])+", "+Math.round(255*S[1])+", "+Math.round(255*S[2]);return z?"rgba("+D+", "+S[3]+")":"rgb("+D+")"}v.tinyRGB=function(c){var C=c.toRgb();return"rgb("+Math.round(C.r)+", "+Math.round(C.g)+", "+Math.round(C.b)+")"},v.rgb=function(c){return v.tinyRGB(p(c))},v.opacity=function(c){return c?p(c).getAlpha():0},v.addOpacity=function(c,C){var w=p(c).toRgb();return"rgba("+Math.round(w.r)+", "+Math.round(w.g)+", "+Math.round(w.b)+", "+C+")"},v.combine=function(c,C){var w=p(c).toRgb();if(1===w.a)return p(c).toRgbString();var S=p(C||g).toRgb(),z=1===S.a?S:{r:255*(1-S.a)+S.r*S.a,g:255*(1-S.a)+S.g*S.a,b:255*(1-S.a)+S.b*S.a};return p({r:z.r*(1-w.a)+w.r*w.a,g:z.g*(1-w.a)+w.g*w.a,b:z.b*(1-w.a)+w.b*w.a}).toRgbString()},v.interpolate=function(c,C,w){var S=p(c).toRgb(),z=p(C).toRgb();return p({r:w*S.r+(1-w)*z.r,g:w*S.g+(1-w)*z.g,b:w*S.b+(1-w)*z.b}).toRgbString()},v.contrast=function(c,C,w){var S=p(c);return 1!==S.getAlpha()&&(S=p(v.combine(c,g))),(S.isDark()?C?S.lighten(C):g:w?S.darken(w):y).toString()},v.stroke=function(c,C){var w=p(C);c.style({stroke:v.tinyRGB(w),"stroke-opacity":w.getAlpha()})},v.fill=function(c,C){var w=p(C);c.style({fill:v.tinyRGB(w),"fill-opacity":w.getAlpha()})},v.clean=function(c){if(c&&"object"==typeof c){var w,S,z,A,C=Object.keys(c);for(w=0;w<C.length;w++)if(A=c[z=C[w]],"color"===z.substr(z.length-5))if(Array.isArray(A))for(S=0;S<A.length;S++)A[S]=m(A[S]);else c[z]=m(A);else if("colorscale"===z.substr(z.length-10)&&Array.isArray(A))for(S=0;S<A.length;S++)Array.isArray(A[S])&&(A[S][1]=m(A[S][1]));else if(Array.isArray(A)){var D=A[0];if(!Array.isArray(D)&&D&&"object"==typeof D)for(S=0;S<A.length;S++)v.clean(A[S])}else A&&"object"==typeof A&&!h(A)&&v.clean(A)}}},616:function(Ce,j,o){"use strict";var p=o(4724),T=o(5376),h=o(2880).extendFlat,v=o(7824).overrideAll;Ce.exports=v({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:p.linecolor,outlinewidth:p.linewidth,bordercolor:p.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:p.minor.tickmode,nticks:p.nticks,tick0:p.tick0,dtick:p.dtick,tickvals:p.tickvals,ticktext:p.ticktext,ticks:h({},p.ticks,{dflt:""}),ticklabeloverflow:h({},p.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:p.ticklen,tickwidth:p.tickwidth,tickcolor:p.tickcolor,ticklabelstep:p.ticklabelstep,showticklabels:p.showticklabels,labelalias:p.labelalias,tickfont:T({}),tickangle:p.tickangle,tickformat:p.tickformat,tickformatstops:p.tickformatstops,tickprefix:p.tickprefix,showtickprefix:p.showtickprefix,ticksuffix:p.ticksuffix,showticksuffix:p.showticksuffix,separatethousands:p.separatethousands,exponentformat:p.exponentformat,minexponent:p.minexponent,showexponent:p.showexponent,title:{text:{valType:"string"},font:T({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:T({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},3964:function(Ce){"use strict";Ce.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},4013:function(Ce,j,o){"use strict";var p=o(3400),T=o(1780),h=o(6332),v=o(5404),d=o(5936),y=o(2568),g=o(616);Ce.exports=function(c,C,w){var S=T.newContainer(C,"colorbar"),z=c.colorbar||{};function A(X,ie){return p.coerce(z,S,g,X,ie)}var D=w.margin||{t:0,b:0,l:0,r:0},_=w.width-D.l-D.r,E=w.height-D.t-D.b,L="v"===A("orientation"),b=A("thicknessmode");A("thickness","fraction"===b?30/(L?_:E):30);var P=A("lenmode");A("len","fraction"===P?1:L?E:_);var re,O,Q,$="paper"===A("yref"),J="paper"===A("xref"),U="left";L?(Q="middle",U=J?"left":"right",re=J?1.02:1,O=.5):(Q=$?"bottom":"top",U="center",re=.5,O=$?1.02:1),p.coerce(z,S,{x:{valType:"number",min:J?-2:0,max:J?3:1,dflt:re}},"x"),p.coerce(z,S,{y:{valType:"number",min:$?-2:0,max:$?3:1,dflt:O}},"y"),A("xanchor",U),A("xpad"),A("yanchor",Q),A("ypad"),p.noneOrAll(z,S,["x","y"]),A("outlinecolor"),A("outlinewidth"),A("bordercolor"),A("borderwidth"),A("bgcolor");var ne=p.coerce(z,S,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:L?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");A("ticklabeloverflow",-1!==ne.indexOf("inside")?"hide past domain":"hide past div"),h(z,S,A,"linear");var le=w.font,pe={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,outerTicks:!1,font:le};-1!==ne.indexOf("inside")&&(pe.bgColor="black"),y(z,S,A,"linear",pe),d(z,S,A,"linear",pe),v(z,S,A,"linear",pe),A("title.text",w._dfltTitle.colorbar);var W=S.showticklabels?S.tickfont:le,K=p.extendFlat({},le,{family:W.family,size:p.bigFont(W.size)});p.coerceFont(A,"title.font",K),A("title.side",L?"top":"right")}},7848:function(Ce,j,o){"use strict";var p=o(3428),T=o(9760),h=o(7316),v=o(4040),d=o(4460),y=o(6476),g=o(3400),m=g.strTranslate,c=o(2880).extendFlat,C=o(3972),w=o(3616),S=o(6308),z=o(1668),A=o(2736),D=o(4288).flipScale,_=o(5955),E=o(7668),M=o(4724),L=o(4284),b=L.LINE_SPACING,P=L.FROM_TL,I=L.FROM_BR,G=o(3964).cn;Ce.exports={draw:function $(ne){var pe=ne._fullLayout._infolayer.selectAll("g."+G.colorbar).data(function J(ne){var K,X,ie,ue,le=ne._fullLayout,pe=ne.calcdata,W=[];function ce(Z){return c(Z,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function ge(){"function"==typeof ue.calc?ue.calc(ne,ie,K):(K._fillgradient=X.reversescale?D(X.colorscale):X.colorscale,K._zrange=[X[ue.min],X[ue.max]])}for(var De=0;De<pe.length;De++)if((ie=pe[De][0].trace)._module){var Be=ie._module.colorbar;if(!0===ie.visible&&Be)for(var Fe=Array.isArray(Be),Se=Fe?Be:[Be],ye=0;ye<Se.length;ye++){var H=(ue=Se[ye]).container;(X=H?ie[H]:ie)&&X.showscale&&((K=ce(X.colorbar))._id="cb"+ie.uid+(Fe&&H?"-"+H:""),K._traceIndex=ie.index,K._propPrefix=(H?H+".":"")+"colorbar.",K._meta=ie._meta,ge(),W.push(K))}}for(var Y in le._colorAxes)if((X=le[Y]).showscale){var te=le._colorAxes[Y];(K=ce(X.colorbar))._id="cb"+Y,K._propPrefix=Y+".colorbar.",K._meta=le._meta,ue={min:"cmin",max:"cmax"},"heatmap"!==te[0]&&(ue.calc=(ie=te[1])._module.colorbar.calc),ge(),W.push(K)}return W}(ne),function(W){return W._id});pe.enter().append("g").attr("class",function(W){return W._id}).classed(G.colorbar,!0),pe.each(function(W){var K=p.select(this);g.ensureSingle(K,"rect",G.cbbg),g.ensureSingle(K,"g",G.cbfills),g.ensureSingle(K,"g",G.cblines),g.ensureSingle(K,"g",G.cbaxis,function(ie){ie.classed(G.crisp,!0)}),g.ensureSingle(K,"g",G.cbtitleunshift,function(ie){ie.append("g").classed(G.cbtitle,!0)}),g.ensureSingle(K,"rect",G.cboutline);var X=function re(ne,le,pe){var W="v"===le.orientation,K=le.len,X=le.lenmode,ie=le.thickness,ue=le.thicknessmode,ce=le.outlinewidth,ge=le.borderwidth,De=le.bgcolor,Ne=le.xanchor,Be=le.yanchor,Fe=le.xpad,Se=le.ypad,ye=le.x,H=W?le.y:1-le.y,Y="paper"===le.yref,te="paper"===le.xref,Z=pe._fullLayout,N=Z._size,ee=le._fillcolor,B=le._line,se=le.title,xe=se.side,Te=le._zrange||p.extent(("function"==typeof ee?ee:B.color).domain()),Ee="function"==typeof B.color?B.color:function(){return B.color},Oe="function"==typeof ee?ee:function(){return ee},$e=le._levels,ct=function Q(ne,le,pe){var ie,ue,W=le._levels,K=[],X=[],ce=W.end+W.size/100,ge=W.size,De=1.001*pe[0]-.001*pe[1],Ne=1.001*pe[1]-.001*pe[0];for(ue=0;ue<1e5&&(ie=W.start+ue*ge,!(ge>0?ie>=ce:ie<=ce));ue++)ie>De&&ie<Ne&&K.push(ie);if(le._fillgradient)X=[0];else if("function"==typeof le._fillcolor){var Be=le._filllevels;if(Be)for(ce=Be.end+Be.size/100,ge=Be.size,ue=0;ue<1e5&&(ie=Be.start+ue*ge,!(ge>0?ie>=ce:ie<=ce));ue++)ie>pe[0]&&ie<pe[1]&&X.push(ie);else(X=K.map(function(Fe){return Fe-W.size/2})).push(X[X.length-1]+W.size)}else le._fillcolor&&"string"==typeof le._fillcolor&&(X=[0]);return W.size<0&&(K.reverse(),X.reverse()),{line:K,fill:X}}(0,le,Te),ft=ct.fill,gt=ct.line,ze=Math.round(ie*("fraction"===ue?W?N.w:N.h:1)),Ve=ze/(W?N.w:N.h),Pe=Math.round(K*("fraction"===X?W?N.h:N.w:1)),Qe=Pe/(W?N.h:N.w),Ke=te?N.w:pe._fullLayout.width,dt=Y?N.h:pe._fullLayout.height,Dt=Math.round(W?ye*Ke+Fe:H*dt+Se),$t={center:.5,right:1}[Ne]||0,Ot={top:1,middle:.5}[Be]||0,kt=W?ye-$t*Ve:H-Ot*Ve,At=W?H-Ot*Qe:ye-$t*Qe,Gt=Math.round(W?dt*(1-At):Ke*At);le._lenFrac=Qe,le._thickFrac=Ve,le._uFrac=kt,le._vFrac=At;var Lt=le._axis=function U(ne,le,pe){var W=ne._fullLayout,K="v"===le.orientation,X={type:"linear",range:pe,tickmode:le.tickmode,nticks:le.nticks,tick0:le.tick0,dtick:le.dtick,tickvals:le.tickvals,ticktext:le.ticktext,ticks:le.ticks,ticklen:le.ticklen,tickwidth:le.tickwidth,tickcolor:le.tickcolor,showticklabels:le.showticklabels,labelalias:le.labelalias,ticklabelposition:le.ticklabelposition,ticklabeloverflow:le.ticklabeloverflow,ticklabelstep:le.ticklabelstep,tickfont:le.tickfont,tickangle:le.tickangle,tickformat:le.tickformat,exponentformat:le.exponentformat,minexponent:le.minexponent,separatethousands:le.separatethousands,showexponent:le.showexponent,showtickprefix:le.showtickprefix,tickprefix:le.tickprefix,showticksuffix:le.showticksuffix,ticksuffix:le.ticksuffix,title:le.title,showline:!0,anchor:"free",side:K?"right":"bottom",position:1},ie=K?"y":"x",ue={type:"linear",_id:ie+le._id},ce={letter:ie,font:W.font,noAutotickangles:"y"===ie,noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:W.calendar};function ge(De,Ne){return g.coerce(X,ue,M,De,Ne)}return _(X,ue,ge,ce,W),E(X,ue,ge,ce),ue}(pe,le,Te);Lt.position=Ve+(W?ye+Fe/N.w:H+Se/N.h);var Qt=-1!==["top","bottom"].indexOf(xe);if(W&&Qt&&(Lt.title.side=xe,Lt.titlex=ye+Fe/N.w,Lt.titley=At+("top"===se.side?Qe-Se/N.h:Se/N.h)),!W&&!Qt&&(Lt.title.side=xe,Lt.titley=H+Se/N.h,Lt.titlex=At+Fe/N.w),B.color&&"auto"===le.tickmode){Lt.tickmode="linear",Lt.tick0=$e.start;var Jt=$e.size,en=g.constrain(Pe/50,4,15)+1,sn=(Te[1]-Te[0])/((le.nticks||en)*Jt);if(sn>1){var pt=Math.pow(10,Math.floor(Math.log(sn)/Math.LN10));Jt*=pt*g.roundUp(sn/pt,[2,5,10]),(Math.abs($e.start)/$e.size+1e-6)%1<2e-6&&(Lt.tick0=0)}Lt.dtick=Jt}Lt.domain=W?[At+Se/N.h,At+Qe-Se/N.h]:[At+Fe/N.w,At+Qe-Fe/N.w],Lt.setScale(),ne.attr("transform",m(Math.round(N.l),Math.round(N.t)));var Me,xt=ne.select("."+G.cbtitleunshift).attr("transform",m(-Math.round(N.l),-Math.round(N.t))),yt=Lt.ticklabelposition,ke=Lt.title.font.size,Xe=ne.select("."+G.cbaxis),_e=0,He=0;function We(Ct,st){var Pt={propContainer:Lt,propName:le._propPrefix+"title",traceIndex:le._traceIndex,_meta:le._meta,placeholder:Z._dfltTitle.colorbar,containerGroup:ne.select("."+G.cbtitle)},cn="h"===Ct.charAt(0)?Ct.substr(1):"h"+Ct;ne.selectAll("."+cn+",."+cn+"-math-group").remove(),z.draw(pe,Ct,c(Pt,st||{}))}function Ze(){var Ct,st;(W&&Qt||!W&&!Qt)&&("top"===xe&&(Ct=Fe+N.l+Ke*ye,st=Se+N.t+dt*(1-At-Qe)+3+.75*ke),"bottom"===xe&&(Ct=Fe+N.l+Ke*ye,st=Se+N.t+dt*(1-At)-3-.25*ke),"right"===xe&&(st=Se+N.t+dt*H+3+.75*ke,Ct=Fe+N.l+Ke*At),We(Lt._id+"title",{attributes:{x:Ct,y:st,"text-anchor":W?"start":"middle"}}))}function nt(){if(W&&!Qt||!W&&Qt){var Pt,cn,Ct=Lt.position||0,st=Lt._offset+Lt._length/2;if("right"===xe)cn=st,Pt=N.l+Ke*Ct+10+ke*(Lt.showticklabels?1:.5);else if(Pt=st,"bottom"===xe&&(cn=N.t+dt*Ct+10+(-1===yt.indexOf("inside")?Lt.tickfont.size:0)+("intside"!==Lt.ticks&&le.ticklen||0)),"top"===xe){var _n=se.text.split("<br>").length;cn=N.t+dt*Ct+10-ze-b*ke*_n}We((W?"h":"v")+Lt._id+"title",{avoid:{selection:p.select(pe).selectAll("g."+Lt._id+"tick"),side:xe,offsetTop:W?0:N.t,offsetLeft:W?N.l:0,maxShift:W?Z.width:Z.height},attributes:{x:Pt,y:cn,"text-anchor":"middle"},transform:{rotate:W?-90:0,offset:0}})}}function Bt(){if(!W&&!Qt||W&&Qt){var Nn,Ct=ne.select("."+G.cbtitle),st=Ct.select("text"),Pt=[-ce/2,ce/2],cn=Ct.select(".h"+Lt._id+"title-math-group").node(),_n=15.6;if(st.node()&&(_n=parseInt(st.node().style.fontSize,10)*b),cn?(Nn=w.bBox(cn),He=Nn.width,(_e=Nn.height)>_n&&(Pt[1]-=(_e-_n)/2)):st.node()&&!st.classed(G.jsPlaceholder)&&(Nn=w.bBox(st.node()),He=Nn.width,_e=Nn.height),W){if(_e){if(_e+=5,"top"===xe)Lt.domain[1]-=_e/N.h,Pt[1]*=-1;else{Lt.domain[0]+=_e/N.h;var Vn=A.lineCount(st);Pt[1]+=(1-Vn)*_n}Ct.attr("transform",m(Pt[0],Pt[1])),Lt.setScale()}}else He&&("right"===xe&&(Lt.domain[0]+=(He+ke/2)/N.w),Ct.attr("transform",m(Pt[0],Pt[1])),Lt.setScale())}ne.selectAll("."+G.cbfills+",."+G.cblines).attr("transform",W?m(0,Math.round(N.h*(1-Lt.domain[1]))):m(Math.round(N.w*Lt.domain[0]),0)),Xe.attr("transform",W?m(0,Math.round(-N.t)):m(Math.round(-N.l),0));var $n=ne.select("."+G.cbfills).selectAll("rect."+G.cbfill).attr("style","").data(ft);$n.enter().append("rect").classed(G.cbfill,!0).attr("style",""),$n.exit().remove();var fn=Te.map(Lt.c2p).map(Math.round).sort(function(Yn,mn){return Yn-mn});$n.each(function(Yn,mn){var Wn=[0===mn?Te[0]:(ft[mn]+ft[mn-1])/2,mn===ft.length-1?Te[1]:(ft[mn]+ft[mn+1])/2].map(Lt.c2p).map(Math.round);W&&(Wn[1]=g.constrain(Wn[1]+(Wn[1]>Wn[0])?1:-1,fn[0],fn[1]));var In=p.select(this).attr(W?"x":"y",Dt).attr(W?"y":"x",p.min(Wn)).attr(W?"width":"height",Math.max(ze,2)).attr(W?"height":"width",Math.max(p.max(Wn)-p.min(Wn),2));if(le._fillgradient)w.gradient(In,pe,le._id,W?"vertical":"horizontalreversed",le._fillgradient,"fill");else{var Fn=Oe(Yn).replace("e-","");In.attr("fill",T(Fn).toHexString())}});var Rn=ne.select("."+G.cblines).selectAll("path."+G.cbline).data(B.color&&B.width?gt:[]);Rn.enter().append("path").classed(G.cbline,!0),Rn.exit().remove(),Rn.each(function(Yn){var mn=Dt,Wn=Math.round(Lt.c2p(Yn))+B.width/2%1;p.select(this).attr("d","M"+(W?mn+","+Wn:Wn+","+mn)+(W?"h":"v")+ze).call(w.lineGroupStyle,B.width,Ee(Yn),B.dash)}),Xe.selectAll("g."+Lt._id+"tick,path").remove();var En=Dt+ze+(ce||0)/2-("outside"===le.ticks?1:0),Pn=d.calcTicks(Lt),Zn=d.getTickSigns(Lt)[2];return d.drawTicks(pe,Lt,{vals:"inside"===Lt.ticks?d.clipEnds(Lt,Pn):Pn,layer:Xe,path:d.makeTickPath(Lt,En,Zn),transFn:d.makeTransTickFn(Lt)}),d.drawLabels(pe,Lt,{vals:Pn,layer:Xe,transFn:d.makeTransTickLabelFn(Lt),labelFns:d.makeLabelFns(Lt,En)})}function Je(){var Ct,st=ze+ce/2;-1===yt.indexOf("inside")&&(Ct=w.bBox(Xe.node()),st+=W?Ct.width:Ct.height),Me=xt.select("text");var Pt=0,cn=W&&"top"===xe,_n=!W&&"right"===xe,Nn=0;if(Me.node()&&!Me.classed(G.jsPlaceholder)){var Vn,$n=xt.select(".h"+Lt._id+"title-math-group").node();$n&&(W&&Qt||!W&&!Qt)?(Pt=(Ct=w.bBox($n)).width,Vn=Ct.height):(Pt=(Ct=w.bBox(xt.node())).right-N.l-(W?Dt:Gt),Vn=Ct.bottom-N.t-(W?Gt:Dt),!W&&"top"===xe&&(st+=Ct.height,Nn=Ct.height)),_n&&(Me.attr("transform",m(Pt/2+ke/2,0)),Pt*=2),st=Math.max(st,W?Pt:Vn)}var fn=2*(W?Fe:Se)+st+ge+ce/2,Rn=0;!W&&se.text&&"bottom"===Be&&H<=0&&(fn+=Rn=fn/2,Nn+=Rn),Z._hColorbarMoveTitle=Rn,Z._hColorbarMoveCBTitle=Nn;var En=ge+ce,Pn=(W?Dt:Gt)-En/2-(W?Fe:0),Zn=(W?Gt:Dt)-(W?Pe:Se+Nn-Rn);ne.select("."+G.cbbg).attr("x",Pn).attr("y",Zn).attr(W?"width":"height",Math.max(fn-Rn,2)).attr(W?"height":"width",Math.max(Pe+En,2)).call(S.fill,De).call(S.stroke,le.bordercolor).style("stroke-width",ge);var Yn=_n?Math.max(Pt-10,0):0;ne.selectAll("."+G.cboutline).attr("x",(W?Dt:Gt+Fe)+Yn).attr("y",(W?Gt+Se-Pe:Dt)+(cn?_e:0)).attr(W?"width":"height",Math.max(ze,2)).attr(W?"height":"width",Math.max(Pe-(W?2*Se+_e:2*Fe+Yn),2)).call(S.stroke,le.outlinecolor).style({fill:"none","stroke-width":ce});var mn=W?$t*fn:0,Wn=W?0:(1-Ot)*fn-Nn;if(ne.attr("transform",m(mn=te?N.l-mn:-mn,Wn=Y?N.t-Wn:-Wn)),!W&&(ge||T(De).getAlpha()&&!T.equals(Z.paper_bgcolor,De))){var In=Xe.selectAll("text"),Fn=In[0].length,vr=ne.select("."+G.cbbg).node(),ir=w.bBox(vr),On=w.getTranslate(ne),hr=2;In.each(function(St,bt){var Et=0,Nt=Fn-1;if(bt===Et||bt===Nt){var hn,It=w.bBox(this),qt=w.getTranslate(this);bt===Nt?(hn=ir.right+On.x+Gt-ge-hr+ye-(It.right+qt.x))>0&&(hn=0):bt===Et&&(hn=ir.left+On.x+Gt+ge+hr-(It.left+qt.x))<0&&(hn=0),hn&&(Fn<3?this.setAttribute("transform","translate("+hn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var rr={},bn=P[Ne],ve=I[Ne],he=P[Be],ut=I[Be],mt=fn-ze;W?("pixels"===X?(rr.y=H,rr.t=Pe*he,rr.b=Pe*ut):(rr.t=rr.b=0,rr.yt=H+K*he,rr.yb=H-K*ut),"pixels"===ue?(rr.x=ye,rr.l=fn*bn,rr.r=fn*ve):(rr.l=mt*bn,rr.r=mt*ve,rr.xl=ye-ie*bn,rr.xr=ye+ie*ve)):("pixels"===X?(rr.x=ye,rr.l=Pe*bn,rr.r=Pe*ve):(rr.l=rr.r=0,rr.xl=ye+K*bn,rr.xr=ye-K*ve),"pixels"===ue?(rr.y=1-H,rr.t=fn*he,rr.b=fn*ut):(rr.t=mt*he,rr.b=mt*ut,rr.yt=H-ie*he,rr.yb=H+ie*ut));var at=le.y<.5?"b":"t",it=le.x<.5?"l":"r";pe._fullLayout._reservedMargin[le._id]={};var ot={r:Z.width-Pn-mn,l:Pn+rr.r,b:Z.height-Zn-Wn,t:Zn+rr.b};te&&Y?h.autoMargin(pe,le._id,rr):te?pe._fullLayout._reservedMargin[le._id][at]=ot[at]:Y||W?pe._fullLayout._reservedMargin[le._id][it]=ot[it]:pe._fullLayout._reservedMargin[le._id][at]=ot[at]}return g.syncOrAsync([h.previousPromises,Ze,Bt,nt,h.previousPromises,Je],pe)}(K,W,ne);X&&X.then&&(ne._promises||[]).push(X),ne._context.edits.colorbarPosition&&function O(ne,le,pe){var ie,ue,ce,W="v"===le.orientation,X=pe._fullLayout._size;y.init({element:ne.node(),gd:pe,prepFn:function(){ie=ne.attr("transform"),C(ne)},moveFn:function(ge,De){ne.attr("transform",ie+m(ge,De)),ue=y.align((W?le._uFrac:le._vFrac)+ge/X.w,W?le._thickFrac:le._lenFrac,0,1,le.xanchor),ce=y.align((W?le._vFrac:1-le._uFrac)-De/X.h,W?le._lenFrac:le._thickFrac,0,1,le.yanchor);var Ne=y.getCursor(ue,ce,le.xanchor,le.yanchor);C(ne,Ne)},doneFn:function(){if(C(ne),void 0!==ue&&void 0!==ce){var ge={};ge[le._propPrefix+"x"]=ue,ge[le._propPrefix+"y"]=ce,void 0!==le._traceIndex?v.call("_guiRestyle",pe,ge,le._traceIndex):v.call("_guiRelayout",pe,ge)}}})}(K,W,ne)}),pe.exit().each(function(W){h.autoMargin(ne,W._id)}).remove(),pe.order()}}},553:function(Ce,j,o){"use strict";var p=o(3400);Ce.exports=function(h){return p.isPlainObject(h.colorbar)}},5080:function(Ce,j,o){"use strict";Ce.exports={moduleType:"component",name:"colorbar",attributes:o(616),supplyDefaults:o(4013),draw:o(7848).draw,hasColorbar:o(553)}},9084:function(Ce,j,o){"use strict";var p=o(616),T=o(3756).counter,h=o(2996),v=o(8304).scales;function y(g){return"`"+g+"`"}h(v),Ce.exports=function(m,c){m=m||"";var E,C=(c=c||{}).cLetter||"c",S="noScale"in c?c.noScale:"marker.line"===m,z="showScaleDflt"in c?c.showScaleDflt:"z"===C,A="string"==typeof c.colorscaleDflt?v[c.colorscaleDflt]:null,D=c.editTypeOverride||"",_=m?m+".":"";"colorAttr"in c?E=c.colorAttr:y(_+(E={z:"z",c:"color"}[C]));var b=C+"auto",P=C+"min",I=C+"max",G=C+"mid",Q=(y(_+b),y(_+P),y(_+I),{});Q[P]=Q[I]=void 0;var U={};U[b]=!1;var ne={};return"color"===E&&(ne.color={valType:"color",arrayOk:!0,editType:D||"style"},c.anim&&(ne.color.anim=!0)),ne[b]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:Q},ne[P]={valType:"number",dflt:null,editType:D||"plot",impliedEdits:U},ne[I]={valType:"number",dflt:null,editType:D||"plot",impliedEdits:U},ne[G]={valType:"number",dflt:null,editType:"calc",impliedEdits:Q},ne.colorscale={valType:"colorscale",editType:"calc",dflt:A,impliedEdits:{autocolorscale:!1}},ne.autocolorscale={valType:"boolean",dflt:!1!==c.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},ne.reversescale={valType:"boolean",dflt:!1,editType:"plot"},S||(ne.showscale={valType:"boolean",dflt:z,editType:"calc"},ne.colorbar=p),c.noColorAxis||(ne.coloraxis={valType:"subplotid",regex:T("coloraxis"),dflt:null,editType:"calc"}),ne}},7128:function(Ce,j,o){"use strict";var p=o(8248),T=o(3400),h=o(4288).extractOpts;Ce.exports=function(d,y,g){var m=d._fullLayout,c=g.vals,C=g.containerStr,w=C?T.nestedProperty(y,C).get():y,S=h(w),z=!1!==S.auto,A=S.min,D=S.max,_=S.mid,E=function(){return T.aggNums(Math.min,null,c)},M=function(){return T.aggNums(Math.max,null,c)};void 0===A?A=E():z&&(A=w._colorAx&&p(A)?Math.min(A,E()):E()),void 0===D?D=M():z&&(D=w._colorAx&&p(D)?Math.max(D,M()):M()),z&&void 0!==_&&(D-_>_-A?A=_-(D-_):D-_<_-A&&(D=_+(_-A))),A===D&&(A-=.5,D+=.5),S._sync("min",A),S._sync("max",D),S.autocolorscale&&S._sync("colorscale",A*D<0?m.colorscale.diverging:A>=0?m.colorscale.sequential:m.colorscale.sequentialminus)}},5504:function(Ce,j,o){"use strict";var p=o(3400),T=o(4288).hasColorscale,h=o(4288).extractOpts;Ce.exports=function(d,y){function g(A,D){var _=A["_"+D];void 0!==_&&(A[D]=_)}function m(A,D){var _=D.container?p.nestedProperty(A,D.container).get():A;if(_)if(_.coloraxis)_._colorAx=y[_.coloraxis];else{var E=h(_),M=E.auto;(M||void 0===E.min)&&g(_,D.min),(M||void 0===E.max)&&g(_,D.max),E.autocolorscale&&g(_,"colorscale")}}for(var c=0;c<d.length;c++){var C=d[c],w=C._module.colorbar;if(w)if(Array.isArray(w))for(var S=0;S<w.length;S++)m(C,w[S]);else m(C,w);T(C,"marker.line")&&m(C,{container:"marker.line",min:"cmin",max:"cmax"})}for(var z in y._colorAxes)m(y[z],{min:"cmin",max:"cmax"})}},7260:function(Ce,j,o){"use strict";var p=o(8248),T=o(3400),h=o(553),v=o(4013),d=o(8304).isValid,y=o(4040).traceIs;function g(m,c){var C=c.slice(0,c.length-1);return c?T.nestedProperty(m,C).get()||{}:m}Ce.exports=function m(c,C,w,S,z){var A=z.prefix,D=z.cLetter,_="_module"in C,E=g(c,A),M=g(C,A),L=g(C._template||{},A)||{},b=function(){return delete c.coloraxis,delete C.coloraxis,m(c,C,w,S,z)};if(_){var P=w._colorAxes||{},I=S(A+"coloraxis");if(I){var G=y(C,"contour")&&T.nestedProperty(C,"contours.coloring").get()||"heatmap",$=P[I];return void($?($[2].push(b),$[0]!==G&&($[0]=!1,T.warn(["Ignoring coloraxis:",I,"setting","as it is linked to incompatible colorscales."].join(" ")))):P[I]=[G,C,[b]])}}var J=E[D+"min"],re=E[D+"max"],O=p(J)&&p(re)&&J<re;S(A+D+"auto",!O)?S(A+D+"mid"):(S(A+D+"min"),S(A+D+"max"));var le,pe,U=E.colorscale,ne=L.colorscale;void 0!==U&&(le=!d(U)),void 0!==ne&&(le=!d(ne)),S(A+"autocolorscale",le),S(A+"colorscale"),S(A+"reversescale"),"marker.line."!==A&&(A&&_&&(pe=h(E)),S(A+"showscale",pe)&&(A&&L&&(M._template=L),v(E,M,w)))}},4288:function(Ce,j,o){"use strict";var p=o(3428),T=o(9760),h=o(8248),v=o(3400),d=o(6308),y=o(8304).isValid;var m=["showscale","autocolorscale","colorscale","reversescale","colorbar"],c=["min","max","mid","auto"];function C(_){var b,P,I,E=_._colorAx,M=E||_,L={};for(P=0;P<m.length;P++)L[I=m[P]]=M[I];if(E)for(b="c",P=0;P<c.length;P++)L[I=c[P]]=M["c"+I];else{var G;for(P=0;P<c.length;P++)((G="c"+(I=c[P]))in M||(G="z"+I)in M)&&(L[I]=M[G]);b=G.charAt(0)}return L._sync=function($,J){var re=-1!==c.indexOf($)?b+$:$;M[re]=M["_"+re]=J},L}function w(_){for(var E=C(_),M=E.min,L=E.max,b=E.reversescale?S(E.colorscale):E.colorscale,P=b.length,I=new Array(P),G=new Array(P),$=0;$<P;$++){var J=b[$];I[$]=M+J[0]*(L-M),G[$]=J[1]}return{domain:I,range:G}}function S(_){for(var E=_.length,M=new Array(E),L=E-1,b=0;L>=0;L--,b++){var P=_[L];M[b]=[1-P[0],P[1]]}return M}function z(_,E){E=E||{};for(var M=_.domain,L=_.range,b=L.length,P=new Array(b),I=0;I<b;I++){var G=T(L[I]).toRgb();P[I]=[G.r,G.g,G.b,G.a]}var O,$=p.scale.linear().domain(M).range(P).clamp(!0),J=E.noNumericCheck,re=E.returnArray;return(O=J&&re?$:J?function(Q){return D($(Q))}:re?function(Q){return h(Q)?$(Q):T(Q).isValid()?Q:d.defaultLine}:function(Q){return h(Q)?D($(Q)):T(Q).isValid()?Q:d.defaultLine}).domain=$.domain,O.range=function(){return L},O}function D(_){return T({r:_[0],g:_[1],b:_[2],a:_[3]}).toRgbString()}Ce.exports={hasColorscale:function g(_,E,M){var L=E?v.nestedProperty(_,E).get()||{}:_,b=L[M||"color"];b&&b._inputArray&&(b=b._inputArray);var P=!1;if(v.isArrayOrTypedArray(b))for(var I=0;I<b.length;I++)if(h(b[I])){P=!0;break}return v.isPlainObject(L)&&(P||!0===L.showscale||h(L.cmin)&&h(L.cmax)||y(L.colorscale)||v.isPlainObject(L.colorbar))},extractOpts:C,extractScale:w,flipScale:S,makeColorScaleFunc:z,makeColorScaleFuncFromTrace:function A(_,E){return z(w(_),E)}}},8932:function(Ce,j,o){"use strict";var p=o(8304),T=o(4288);Ce.exports={moduleType:"component",name:"colorscale",attributes:o(9084),layoutAttributes:o(2332),supplyLayoutDefaults:o(1608),handleDefaults:o(7260),crossTraceDefaults:o(5504),calc:o(7128),scales:p.scales,defaultScale:p.defaultScale,getScale:p.get,isValidScale:p.isValid,hasColorscale:T.hasColorscale,extractOpts:T.extractOpts,extractScale:T.extractScale,flipScale:T.flipScale,makeColorScaleFunc:T.makeColorScaleFunc,makeColorScaleFuncFromTrace:T.makeColorScaleFuncFromTrace}},2332:function(Ce,j,o){"use strict";var p=o(2880).extendFlat,T=o(9084),h=o(8304).scales;Ce.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:h.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:h.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:h.RdBu,editType:"calc"}},coloraxis:p({_isSubplotObj:!0,editType:"calc"},T("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},1608:function(Ce,j,o){"use strict";var p=o(3400),T=o(1780),h=o(2332),v=o(7260);Ce.exports=function(y,g){function m(_,E){return p.coerce(y,g,h,_,E)}m("colorscale.sequential"),m("colorscale.sequentialminus"),m("colorscale.diverging");var C,w,c=g._colorAxes;function S(_,E){return p.coerce(C,w,h.coloraxis,_,E)}for(var z in c){var A=c[z];if(A[0])C=y[z]||{},(w=T.newContainer(g,z,"coloraxis"))._name=z,v(C,w,g,S,{prefix:"",cLetter:"c"});else{for(var D=0;D<A[2].length;D++)A[2][D]();delete g._colorAxes[z]}}}},8304:function(Ce,j,o){"use strict";var p=o(9760),T={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},h=T.RdBu;function d(g){var m=0;if(!Array.isArray(g)||g.length<2||!g[0]||!g[g.length-1]||0!=+g[0][0]||1!=+g[g.length-1][0])return!1;for(var c=0;c<g.length;c++){var C=g[c];if(2!==C.length||+C[0]<m||!p(C[1]).isValid())return!1;m=+C[0]}return!0}Ce.exports={scales:T,defaultScale:h,get:function v(g,m){if(m||(m=h),!g)return m;function c(){try{g=T[g]||JSON.parse(g)}catch{g=m}}return"string"==typeof g&&(c(),"string"==typeof g&&c()),d(g)?g:m},isValid:function y(g){return void 0!==T[g]||d(g)}}},8316:function(Ce){"use strict";Ce.exports=function(o,p,T,h,v){var d=(o-T)/(h-T),y=d+p/(h-T),g=(d+y)/2;return"left"===v||"bottom"===v?d:"center"===v||"middle"===v?g:"right"===v||"top"===v?y:d<.6666666666666666-g?d:y>1.3333333333333333-g?y:g}},7416:function(Ce,j,o){"use strict";var p=o(3400),T=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];Ce.exports=function(v,d,y,g){return v="left"===y?0:"center"===y?1:"right"===y?2:p.constrain(Math.floor(3*v),0,2),d="bottom"===g?0:"middle"===g?1:"top"===g?2:p.constrain(Math.floor(3*d),0,2),T[d][v]}},2760:function(Ce,j){"use strict";j.selectMode=function(o){return"lasso"===o||"select"===o},j.drawMode=function(o){return"drawclosedpath"===o||"drawopenpath"===o||"drawline"===o||"drawrect"===o||"drawcircle"===o},j.openMode=function(o){return"drawline"===o||"drawopenpath"===o},j.rectMode=function(o){return"select"===o||"drawline"===o||"drawrect"===o||"drawcircle"===o},j.freeMode=function(o){return"lasso"===o||"drawclosedpath"===o||"drawopenpath"===o},j.selectingOrDrawing=function(o){return j.freeMode(o)||j.rectMode(o)}},6476:function(Ce,j,o){"use strict";var p=o(9128),T=o(2264),h=o(9184),v=o(3400).removeElement,d=o(3816),y=Ce.exports={};y.align=o(8316),y.getCursor=o(7416);var g=o(2616);function m(){var C=document.createElement("div");C.className="dragcover";var w=C.style;return w.position="fixed",w.left=0,w.right=0,w.top=0,w.bottom=0,w.zIndex=999999999,w.background="none",document.body.appendChild(C),C}function c(C){return p(C.changedTouches?C.changedTouches[0]:C,document.body)}y.unhover=g.wrapped,y.unhoverRaw=g.raw,y.init=function(w){var _,E,M,L,b,P,I,G,S=w.gd,z=1,A=S._context.doubleClickDelay,D=w.element;S._mouseDownTime||(S._mouseDownTime=0),D.style.pointerEvents="all",D.onmousedown=re,h?(D._ontouchstart&&D.removeEventListener("touchstart",D._ontouchstart),D._ontouchstart=re,D.addEventListener("touchstart",re,{passive:!1})):D.ontouchstart=re;var J=w.clampFn||function $(U,ne,le){return Math.abs(U)<le&&(U=0),Math.abs(ne)<le&&(ne=0),[U,ne]};function re(U){S._dragged=!1,S._dragging=!0;var ne=c(U);_=ne[0],E=ne[1],I=U.target,P=U,G=2===U.buttons||U.ctrlKey,typeof U.clientX>"u"&&typeof U.clientY>"u"&&(U.clientX=_,U.clientY=E),(M=(new Date).getTime())-S._mouseDownTime<A?z+=1:(z=1,S._mouseDownTime=M),w.prepFn&&w.prepFn(U,_,E),T&&!G?(b=m()).style.cursor=window.getComputedStyle(D).cursor:T||(b=document,L=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(D).cursor),document.addEventListener("mouseup",Q),document.addEventListener("touchend",Q),!1!==w.dragmode&&(U.preventDefault(),document.addEventListener("mousemove",O),document.addEventListener("touchmove",O,{passive:!1}))}function O(U){U.preventDefault();var ne=c(U),pe=J(ne[0]-_,ne[1]-E,w.minDrag||d.MINDRAG),W=pe[0],K=pe[1];(W||K)&&(S._dragged=!0,y.unhover(S,U)),S._dragged&&w.moveFn&&!G&&(S._dragdata={element:D,dx:W,dy:K},w.moveFn(W,K))}function Q(U){if(delete S._dragdata,!1!==w.dragmode&&(U.preventDefault(),document.removeEventListener("mousemove",O),document.removeEventListener("touchmove",O)),document.removeEventListener("mouseup",Q),document.removeEventListener("touchend",Q),T?v(b):L&&(b.documentElement.style.cursor=L,L=null),S._dragging){if(S._dragging=!1,(new Date).getTime()-S._mouseDownTime>A&&(z=Math.max(z-1,1)),S._dragged)w.doneFn&&w.doneFn();else if(w.clickFn&&w.clickFn(z,P),!G){var ne;try{ne=new MouseEvent("click",U)}catch{var le=c(U);(ne=document.createEvent("MouseEvents")).initMouseEvent("click",U.bubbles,U.cancelable,U.view,U.detail,U.screenX,U.screenY,le[0],le[1],U.ctrlKey,U.altKey,U.shiftKey,U.metaKey,U.button,U.relatedTarget)}I.dispatchEvent(ne)}S._dragging=!1,S._dragged=!1}else S._dragged=!1}},y.coverSlip=m},2616:function(Ce,j,o){"use strict";var p=o(5924),T=o(1200),h=o(2200).getGraphDiv,v=o(2456),d=Ce.exports={};d.wrapped=function(y,g,m){(y=h(y))._fullLayout&&T.clear(y._fullLayout._uid+v.HOVERID),d.raw(y,g,m)},d.raw=function(g,m){var c=g._fullLayout,C=g._hoverdata;m||(m={}),(!m.target||g._dragged||!1!==p.triggerHandler(g,"plotly_beforehover",m))&&(c._hoverlayer.selectAll("g").remove(),c._hoverlayer.selectAll("line").remove(),c._hoverlayer.selectAll("circle").remove(),g._hoverdata=void 0,m.target&&C&&g.emit("plotly_unhover",{event:m,points:C}))}},8192:function(Ce,j){"use strict";j.u={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},j.c={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},3616:function(Ce,j,o){"use strict";var p=o(3428),T=o(3400),h=T.numberFormat,v=o(8248),d=o(9760),y=o(4040),g=o(6308),m=o(8932),c=T.strTranslate,C=o(2736),w=o(9616),z=o(4284).LINE_SPACING,A=o(3448).DESELECTDIM,D=o(3028),_=o(7152),E=o(624).appendArrayPointValue,M=Ce.exports={};function L(ze){return"none"===ze?void 0:ze}M.font=function(ze,Ve){var Pe=Ve.variant,Qe=Ve.style,Ke=Ve.weight,dt=Ve.color,Dt=Ve.size,$t=Ve.family,Ot=Ve.shadow,kt=Ve.lineposition,At=Ve.textcase;$t&&ze.style("font-family",$t),Dt+1&&ze.style("font-size",Dt+"px"),dt&&ze.call(g.fill,dt),Ke&&ze.style("font-weight",Ke),Qe&&ze.style("font-style",Qe),Pe&&ze.style("font-variant",Pe),At&&ze.style("text-transform",L(function P(ze){return b[ze]}(At))),Ot&&ze.style("text-shadow","auto"===Ot?C.makeTextShadow(g.contrast(dt)):L(Ot)),kt&&ze.style("text-decoration-line",L(function I(ze){return ze.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}(kt)))};var b={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function G(ze,Ve,Pe,Qe){var Ke=Ve.fillpattern,dt=Ve.fillgradient,Dt=Ke&&M.getPatternAttr(Ke.shape,0,"");if(Dt){var $t=M.getPatternAttr(Ke.bgcolor,0,null),Ot=M.getPatternAttr(Ke.fgcolor,0,null),kt=Ke.fgopacity,At=M.getPatternAttr(Ke.size,0,8),Gt=M.getPatternAttr(Ke.solidity,0,.3);M.pattern(ze,"point",Pe,Ve.uid,Dt,At,Gt,void 0,Ke.fillmode,$t,Ot,kt)}else if(dt&&"none"!==dt.type){var en,sn,Qt=dt.type,Jt="scatterfill-"+Ve.uid;Qe&&(Jt="legendfill-"+Ve.uid),Qe||void 0===dt.start&&void 0===dt.stop?("horizontal"===Qt&&(Qt+="reversed"),ze.call(M.gradient,Pe,Jt,Qt,dt.colorscale,"fill")):("horizontal"===Qt?(en={x:dt.start,y:0},sn={x:dt.stop,y:0}):"vertical"===Qt&&(en={x:0,y:dt.start},sn={x:0,y:dt.stop}),en.x=Ve._xA.c2p(void 0===en.x?Ve._extremes.x.min[0].val:en.x,!0),en.y=Ve._yA.c2p(void 0===en.y?Ve._extremes.y.min[0].val:en.y,!0),sn.x=Ve._xA.c2p(void 0===sn.x?Ve._extremes.x.max[0].val:sn.x,!0),sn.y=Ve._yA.c2p(void 0===sn.y?Ve._extremes.y.max[0].val:sn.y,!0),ze.call(ne,Pe,Jt,"linear",dt.colorscale,"fill",en,sn,!0,!1))}else Ve.fillcolor&&ze.call(g.fill,Ve.fillcolor)}M.setPosition=function(ze,Ve,Pe){ze.attr("x",Ve).attr("y",Pe)},M.setSize=function(ze,Ve,Pe){ze.attr("width",Ve).attr("height",Pe)},M.setRect=function(ze,Ve,Pe,Qe,Ke){ze.call(M.setPosition,Ve,Pe).call(M.setSize,Qe,Ke)},M.translatePoint=function(ze,Ve,Pe,Qe){var Ke=Pe.c2p(ze.x),dt=Qe.c2p(ze.y);return!!(v(Ke)&&v(dt)&&Ve.node())&&("text"===Ve.node().nodeName?Ve.attr("x",Ke).attr("y",dt):Ve.attr("transform",c(Ke,dt)),!0)},M.translatePoints=function(ze,Ve,Pe){ze.each(function(Qe){var Ke=p.select(this);M.translatePoint(Qe,Ke,Ve,Pe)})},M.hideOutsideRangePoint=function(ze,Ve,Pe,Qe,Ke,dt){Ve.attr("display",Pe.isPtWithinRange(ze,Ke)&&Qe.isPtWithinRange(ze,dt)?null:"none")},M.hideOutsideRangePoints=function(ze,Ve){if(Ve._hasClipOnAxisFalse){var Pe=Ve.xaxis,Qe=Ve.yaxis;ze.each(function(Ke){var dt=Ke[0].trace,Dt=dt.xcalendar,$t=dt.ycalendar,Ot=y.traceIs(dt,"bar-like")?".bartext":".point,.textpoint";ze.selectAll(Ot).each(function(kt){M.hideOutsideRangePoint(kt,p.select(this),Pe,Qe,Dt,$t)})})}},M.crispRound=function(ze,Ve,Pe){return Ve&&v(Ve)?ze._context.staticPlot?Ve:Ve<1?1:Math.round(Ve):Pe||0},M.singleLineStyle=function(ze,Ve,Pe,Qe,Ke){Ve.style("fill","none");var dt=(((ze||[])[0]||{}).trace||{}).line||{},Dt=Pe||dt.width||0,$t=Ke||dt.dash||"";g.stroke(Ve,Qe||dt.color),M.dashLine(Ve,$t,Dt)},M.lineGroupStyle=function(ze,Ve,Pe,Qe){ze.style("fill","none").each(function(Ke){var dt=(((Ke||[])[0]||{}).trace||{}).line||{},Dt=Ve||dt.width||0,$t=Qe||dt.dash||"";p.select(this).call(g.stroke,Pe||dt.color).call(M.dashLine,$t,Dt)})},M.dashLine=function(ze,Ve,Pe){Ve=M.dashStyle(Ve,Pe=+Pe||0),ze.style({"stroke-dasharray":Ve,"stroke-width":Pe+"px"})},M.dashStyle=function(ze,Ve){Ve=+Ve||1;var Pe=Math.max(Ve,3);return"solid"===ze?ze="":"dot"===ze?ze=Pe+"px,"+Pe+"px":"dash"===ze?ze=3*Pe+"px,"+3*Pe+"px":"longdash"===ze?ze=5*Pe+"px,"+5*Pe+"px":"dashdot"===ze?ze=3*Pe+"px,"+Pe+"px,"+Pe+"px,"+Pe+"px":"longdashdot"===ze&&(ze=5*Pe+"px,"+2*Pe+"px,"+Pe+"px,"+2*Pe+"px"),ze},M.singleFillStyle=function(ze,Ve){var Pe=p.select(ze.node());G(ze,((Pe.data()[0]||[])[0]||{}).trace||{},Ve,!1)},M.fillGroupStyle=function(ze,Ve,Pe){ze.style("stroke-width",0).each(function(Qe){var Ke=p.select(this);Qe[0].trace&&G(Ke,Qe[0].trace,Ve,Pe)})};var $=o(1984);M.symbolNames=[],M.symbolFuncs=[],M.symbolBackOffs=[],M.symbolNeedLines={},M.symbolNoDot={},M.symbolNoFill={},M.symbolList=[],Object.keys($).forEach(function(ze){var Ve=$[ze],Pe=Ve.n;M.symbolList.push(Pe,String(Pe),ze,Pe+100,String(Pe+100),ze+"-open"),M.symbolNames[Pe]=ze,M.symbolFuncs[Pe]=Ve.f,M.symbolBackOffs[Pe]=Ve.backoff||0,Ve.needLine&&(M.symbolNeedLines[Pe]=!0),Ve.noDot?M.symbolNoDot[Pe]=!0:M.symbolList.push(Pe+200,String(Pe+200),ze+"-dot",Pe+300,String(Pe+300),ze+"-open-dot"),Ve.noFill&&(M.symbolNoFill[Pe]=!0)});var J=M.symbolNames.length;function O(ze,Ve,Pe,Qe){return M.symbolFuncs[ze%100](Ve,Pe,Qe)+(ze>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}M.symbolNumber=function(ze){if(v(ze))ze=+ze;else if("string"==typeof ze){var Ve=0;ze.indexOf("-open")>0&&(Ve=100,ze=ze.replace("-open","")),ze.indexOf("-dot")>0&&(Ve+=200,ze=ze.replace("-dot","")),(ze=M.symbolNames.indexOf(ze))>=0&&(ze+=Ve)}return ze%100>=J||ze>=400?0:Math.floor(Math.max(ze,0))};var Q=h("~f"),U={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};function ne(ze,Ve,Pe,Qe,Ke,dt,Dt,$t,Ot,kt){var Gt,At=Ke.length;"linear"===Qe?Gt={node:"linearGradient",attrs:{x1:Dt.x,y1:Dt.y,x2:$t.x,y2:$t.y,gradientUnits:Ot?"userSpaceOnUse":"objectBoundingBox"},reversed:kt}:"radial"===Qe&&(Gt={node:"radialGradient",reversed:kt});for(var Lt=new Array(At),Qt=0;Qt<At;Qt++)Gt.reversed?Lt[At-1-Qt]=[Q(100*(1-Ke[Qt][0])),Ke[Qt][1]]:Lt[Qt]=[Q(100*Ke[Qt][0]),Ke[Qt][1]];var Jt=Ve._fullLayout,en="g"+Jt._uid+"-"+Pe,sn=Jt._defs.select(".gradients").selectAll("#"+en).data([Qe+Lt.join(";")],T.identity);sn.exit().remove(),sn.enter().append(Gt.node).each(function(){var pt=p.select(this);Gt.attrs&&pt.attr(Gt.attrs),pt.attr("id",en);var xt=pt.selectAll("stop").data(Lt);xt.exit().remove(),xt.enter().append("stop"),xt.each(function(yt){var ke=d(yt[1]);p.select(this).attr({offset:yt[0]+"%","stop-color":g.tinyRGB(ke),"stop-opacity":ke.getAlpha()})})}),ze.style(dt,Y(en,Ve)).style(dt+"-opacity",null),ze.classed("gradient_filled",!0)}M.gradient=function(ze,Ve,Pe,Qe,Ke,dt){var Dt=U[Qe];return ne(ze,Ve,Pe,Dt.type,Ke,dt,Dt.start,Dt.stop,!1,Dt.reversed)},M.pattern=function(ze,Ve,Pe,Qe,Ke,dt,Dt,$t,Ot,kt,At,Gt){var Lt="legend"===Ve;$t&&("overlay"===Ot?At=g.contrast(kt=$t):(kt=void 0,At=$t));var en,sn,xt,yt,ke,Xe,Je,Ct,st,Pt,cn,Qt=Pe._fullLayout,Jt="p"+Qt._uid+"-"+Qe,Me={},_e=d(At),He=g.tinyRGB(_e),Ze=Gt*_e.getAlpha();switch(Ke){case"/":en=dt*Math.sqrt(2),sn=dt*Math.sqrt(2),Xe="path",Me={d:xt="M-"+en/4+","+sn/4+"l"+en/2+",-"+sn/2+"M0,"+sn+"L"+en+",0M"+en/4*3+","+sn/4*5+"l"+en/2+",-"+sn/2,opacity:Ze,stroke:He,"stroke-width":(yt=Dt*dt)+"px"};break;case"\\":en=dt*Math.sqrt(2),sn=dt*Math.sqrt(2),Xe="path",Me={d:xt="M"+en/4*3+",-"+sn/4+"l"+en/2+","+sn/2+"M0,0L"+en+","+sn+"M-"+en/4+","+sn/4*3+"l"+en/2+","+sn/2,opacity:Ze,stroke:He,"stroke-width":(yt=Dt*dt)+"px"};break;case"x":en=dt*Math.sqrt(2),sn=dt*Math.sqrt(2),xt="M-"+en/4+","+sn/4+"l"+en/2+",-"+sn/2+"M0,"+sn+"L"+en+",0M"+en/4*3+","+sn/4*5+"l"+en/2+",-"+sn/2+"M"+en/4*3+",-"+sn/4+"l"+en/2+","+sn/2+"M0,0L"+en+","+sn+"M-"+en/4+","+sn/4*3+"l"+en/2+","+sn/2,yt=dt-dt*Math.sqrt(1-Dt),Xe="path",Me={d:xt,opacity:Ze,stroke:He,"stroke-width":yt+"px"};break;case"|":Xe="path",Xe="path",Me={d:xt="M"+(en=dt)/2+",0L"+en/2+","+(sn=dt),opacity:Ze,stroke:He,"stroke-width":(yt=Dt*dt)+"px"};break;case"-":Xe="path",Xe="path",Me={d:xt="M0,"+(sn=dt)/2+"L"+(en=dt)+","+sn/2,opacity:Ze,stroke:He,"stroke-width":(yt=Dt*dt)+"px"};break;case"+":Xe="path",xt="M"+(en=dt)/2+",0L"+en/2+","+(sn=dt)+"M0,"+sn/2+"L"+en+","+sn/2,yt=dt-dt*Math.sqrt(1-Dt),Xe="path",Me={d:xt,opacity:Ze,stroke:He,"stroke-width":yt+"px"};break;case".":en=dt,sn=dt,ke=Dt<Math.PI/4?Math.sqrt(Dt*dt*dt/Math.PI):(Je=Dt,Ct=Math.PI/4,st=1,Pt=dt/2,cn=dt/Math.sqrt(2),Pt+(cn-Pt)*(Je-Ct)/(st-Ct)),Xe="circle",Me={cx:en/2,cy:sn/2,r:ke,opacity:Ze,fill:He}}var nt=[Ke||"noSh",kt||"noBg",At||"noFg",dt,Dt].join(";"),Bt=Qt._defs.select(".patterns").selectAll("#"+Jt).data([nt],T.identity);Bt.exit().remove(),Bt.enter().append("pattern").each(function(){var Je=p.select(this);if(Je.attr({id:Jt,width:en+"px",height:sn+"px",patternUnits:"userSpaceOnUse",patternTransform:Lt?"scale(0.8)":""}),kt){var Ct=d(kt),st=g.tinyRGB(Ct),Pt=Ct.getAlpha(),cn=Je.selectAll("rect").data([0]);cn.exit().remove(),cn.enter().append("rect").attr({width:en+"px",height:sn+"px",fill:st,"fill-opacity":Pt})}var _n=Je.selectAll(Xe).data([0]);_n.exit().remove(),_n.enter().append(Xe).attr(Me)}),ze.style("fill",Y(Jt,Pe)).style("fill-opacity",null),ze.classed("pattern_filled",!0)},M.initGradients=function(ze){T.ensureSingle(ze._fullLayout._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),p.select(ze).selectAll(".gradient_filled").classed("gradient_filled",!1)},M.initPatterns=function(ze){T.ensureSingle(ze._fullLayout._defs,"g","patterns").selectAll("pattern").remove(),p.select(ze).selectAll(".pattern_filled").classed("pattern_filled",!1)},M.getPatternAttr=function(ze,Ve,Pe){return ze&&T.isArrayOrTypedArray(ze)?Ve<ze.length?ze[Ve]:Pe:ze},M.pointStyle=function(ze,Ve,Pe,Qe){if(ze.size()){var Ke=M.makePointStyleFns(Ve);ze.each(function(dt){M.singlePointStyle(dt,p.select(this),Ve,Ke,Pe,Qe)})}},M.singlePointStyle=function(ze,Ve,Pe,Qe,Ke,dt){var Dt=Pe.marker,$t=Dt.line;if(dt&&dt.i>=0&&void 0===ze.i&&(ze.i=dt.i),Ve.style("opacity",Qe.selectedOpacityFn?Qe.selectedOpacityFn(ze):void 0===ze.mo?Dt.opacity:ze.mo),Qe.ms2mrc){var Ot;Ot="various"===ze.ms||"various"===Dt.size?3:Qe.ms2mrc(ze.ms),ze.mrc=Ot,Qe.selectedSizeFn&&(Ot=ze.mrc=Qe.selectedSizeFn(ze));var kt=M.symbolNumber(ze.mx||Dt.symbol)||0;ze.om=kt%200>=100;var At=gt(ze,Pe),Gt=N(ze,Pe);Ve.attr("d",O(kt,Ot,At,Gt))}var Qt,Jt,en,Lt=!1;if(ze.so?(en=$t.outlierwidth,Jt=$t.outliercolor,Qt=Dt.outliercolor):(en=(ze.mlw+1||($t||{}).width+1||(ze.trace?(ze.trace.marker.line||{}).width:0)+1)-1||0,Jt="mlc"in ze?ze.mlcc=Qe.lineScale(ze.mlc):T.isArrayOrTypedArray($t.color)?g.defaultLine:$t.color,T.isArrayOrTypedArray(Dt.color)&&(Qt=g.defaultLine,Lt=!0),Qt="mc"in ze?ze.mcc=Qe.markerScale(ze.mc):Dt.color||Dt.colors||"rgba(0,0,0,0)",Qe.selectedColorFn&&(Qt=Qe.selectedColorFn(ze))),ze.om)Ve.call(g.stroke,Qt).style({"stroke-width":(en||1)+"px",fill:"none"});else{Ve.style("stroke-width",(ze.isBlank?0:en)+"px");var pt=Dt.gradient,xt=ze.mgt;xt?Lt=!0:xt=pt&&pt.type,T.isArrayOrTypedArray(xt)&&(U[xt=xt[0]]||(xt=0));var yt=Dt.pattern,ke=yt&&M.getPatternAttr(yt.shape,ze.i,"");if(xt&&"none"!==xt){var Xe=ze.mgc;Xe?Lt=!0:Xe=pt.color;var Me=Pe.uid;Lt&&(Me+="-"+ze.i),M.gradient(Ve,Ke,Me,xt,[[0,Xe],[1,Qt]],"fill")}else if(ke){var _e=!1,He=yt.fgcolor;!He&&dt&&dt.color&&(He=dt.color,_e=!0);var We=M.getPatternAttr(He,ze.i,dt&&dt.color||null),Ze=M.getPatternAttr(yt.bgcolor,ze.i,null),nt=yt.fgopacity,Bt=M.getPatternAttr(yt.size,ze.i,8),Je=M.getPatternAttr(yt.solidity,ze.i,.3);_e=_e||ze.mcc||T.isArrayOrTypedArray(yt.shape)||T.isArrayOrTypedArray(yt.bgcolor)||T.isArrayOrTypedArray(yt.fgcolor)||T.isArrayOrTypedArray(yt.size)||T.isArrayOrTypedArray(yt.solidity);var Ct=Pe.uid;_e&&(Ct+="-"+ze.i),M.pattern(Ve,"point",Ke,Ct,ke,Bt,Je,ze.mcc,yt.fillmode,Ze,We,nt)}else T.isArrayOrTypedArray(Qt)?g.fill(Ve,Qt[ze.i]):g.fill(Ve,Qt);en&&g.stroke(Ve,Jt)}},M.makePointStyleFns=function(ze){var Ve={},Pe=ze.marker;return Ve.markerScale=M.tryColorscale(Pe,""),Ve.lineScale=M.tryColorscale(Pe,"line"),y.traceIs(ze,"symbols")&&(Ve.ms2mrc=D.isBubble(ze)?_(ze):function(){return(Pe.size||6)/2}),ze.selectedpoints&&T.extendFlat(Ve,M.makeSelectedPointStyleFns(ze)),Ve},M.makeSelectedPointStyleFns=function(ze){var Ve={},Ke=ze.marker||{},dt=(ze.selected||{}).marker||{},Dt=(ze.unselected||{}).marker||{},Ot=dt.opacity,kt=Dt.opacity,At=void 0!==Ot,Gt=void 0!==kt;(T.isArrayOrTypedArray(Ke.opacity)||At||Gt)&&(Ve.selectedOpacityFn=function(ke){var Xe=void 0===ke.mo?Ke.opacity:ke.mo;return ke.selected?At?Ot:Xe:Gt?kt:A*Xe});var Lt=Ke.color,Qt=dt.color,Jt=Dt.color;(Qt||Jt)&&(Ve.selectedColorFn=function(ke){var Xe=ke.mcc||Lt;return ke.selected?Qt||Xe:Jt||Xe});var en=Ke.size,sn=dt.size,pt=Dt.size,xt=void 0!==sn,yt=void 0!==pt;return y.traceIs(ze,"symbols")&&(xt||yt)&&(Ve.selectedSizeFn=function(ke){var Xe=ke.mrc||en/2;return ke.selected?xt?sn/2:Xe:yt?pt/2:Xe}),Ve},M.makeSelectedTextStyleFns=function(ze){var Ve={},$t=(ze.textfont||{}).color,Ot=((ze.selected||{}).textfont||{}).color,kt=((ze.unselected||{}).textfont||{}).color;return Ve.selectedTextColorFn=function(At){var Gt=At.tc||$t;return At.selected?Ot||Gt:kt||(Ot?Gt:g.addOpacity(Gt,A))},Ve},M.selectedPointStyle=function(ze,Ve){if(ze.size()&&Ve.selectedpoints){var Pe=M.makeSelectedPointStyleFns(Ve),Qe=Ve.marker||{},Ke=[];Pe.selectedOpacityFn&&Ke.push(function(dt,Dt){dt.style("opacity",Pe.selectedOpacityFn(Dt))}),Pe.selectedColorFn&&Ke.push(function(dt,Dt){g.fill(dt,Pe.selectedColorFn(Dt))}),Pe.selectedSizeFn&&Ke.push(function(dt,Dt){var $t=Dt.mx||Qe.symbol||0,Ot=Pe.selectedSizeFn(Dt);dt.attr("d",O(M.symbolNumber($t),Ot,gt(Dt,Ve),N(Dt,Ve))),Dt.mrc2=Ot}),Ke.length&&ze.each(function(dt){for(var Dt=p.select(this),$t=0;$t<Ke.length;$t++)Ke[$t](Dt,dt)})}},M.tryColorscale=function(ze,Ve){var Pe=Ve?T.nestedProperty(ze,Ve).get():ze;return Pe&&(Pe.colorscale||Pe._colorAx)&&T.isArrayOrTypedArray(Pe.color)?m.makeColorScaleFuncFromTrace(Pe):T.identity};var le={start:1,end:-1,middle:0,bottom:1,top:-1};function pe(ze,Ve,Pe,Qe,Ke){var dt=p.select(ze.node().parentNode),Dt=-1!==Ve.indexOf("top")?"top":-1!==Ve.indexOf("bottom")?"bottom":"middle",$t=-1!==Ve.indexOf("left")?"end":-1!==Ve.indexOf("right")?"start":"middle",Ot=Qe?Qe/.8+1:0,kt=(C.lineCount(ze)-1)*z+1,At=le[$t]*Ot,Gt=.75*Pe+le[Dt]*Ot+(le[Dt]-1)*kt*Pe/2;ze.attr("text-anchor",$t),Ke||dt.attr("transform",c(At,Gt))}function W(ze,Ve){var Pe=ze.ts||Ve.textfont.size;return v(Pe)&&Pe>0?Pe:0}M.textPointStyle=function(ze,Ve,Pe){if(ze.size()){var Qe;if(Ve.selectedpoints){var Ke=M.makeSelectedTextStyleFns(Ve);Qe=Ke.selectedTextColorFn}var dt=Ve.texttemplate,Dt=Pe._fullLayout;ze.each(function($t){var Ot=p.select(this),kt=dt?T.extractOption($t,Ve,"txt","texttemplate"):T.extractOption($t,Ve,"tx","text");if(kt||0===kt){if(dt){var At=Ve._module.formatLabels,Gt=At?At($t,Ve,Dt):{},Lt={};E(Lt,Ve,$t.i),kt=T.texttemplateString(kt,Gt,Dt._d3locale,Lt,$t,Ve._meta||{})}var Jt=$t.tp||Ve.textposition,en=W($t,Ve),sn=Qe?Qe($t):$t.tc||Ve.textfont.color;Ot.call(M.font,{family:$t.tf||Ve.textfont.family,weight:$t.tw||Ve.textfont.weight,style:$t.ty||Ve.textfont.style,variant:$t.tv||Ve.textfont.variant,textcase:$t.tC||Ve.textfont.textcase,lineposition:$t.tE||Ve.textfont.lineposition,shadow:$t.tS||Ve.textfont.shadow,size:en,color:sn}).text(kt).call(C.convertToTspans,Pe).call(pe,Jt,en,$t.mrc)}else Ot.remove()})}},M.selectedTextStyle=function(ze,Ve){if(ze.size()&&Ve.selectedpoints){var Pe=M.makeSelectedTextStyleFns(Ve);ze.each(function(Qe){var Ke=p.select(this),dt=Pe.selectedTextColorFn(Qe),Dt=Qe.tp||Ve.textposition,$t=W(Qe,Ve);g.fill(Ke,dt);var Ot=y.traceIs(Ve,"bar-like");pe(Ke,Dt,$t,Qe.mrc2||Qe.mrc,Ot)})}};var X,ie;function ue(ze,Ve,Pe){return Pe&&(ze=Fe(ze)),Ve?ge(ze[1]):ce(ze[0])}function ce(ze){var Ve=p.round(ze,2);return X=Ve,Ve}function ge(ze){var Ve=p.round(ze,2);return ie=Ve,Ve}function De(ze,Ve,Pe,Qe){var Ke=ze[0]-Ve[0],dt=ze[1]-Ve[1],Dt=Pe[0]-Ve[0],$t=Pe[1]-Ve[1],Ot=Math.pow(Ke*Ke+dt*dt,.25),kt=Math.pow(Dt*Dt+$t*$t,.25),At=(kt*kt*Ke-Ot*Ot*Dt)*Qe,Gt=(kt*kt*dt-Ot*Ot*$t)*Qe,Lt=3*kt*(Ot+kt),Qt=3*Ot*(Ot+kt);return[[ce(Ve[0]+(Lt&&At/Lt)),ge(Ve[1]+(Lt&&Gt/Lt))],[ce(Ve[0]-(Qt&&At/Qt)),ge(Ve[1]-(Qt&&Gt/Qt))]]}M.smoothopen=function(ze,Ve){if(ze.length<3)return"M"+ze.join("L");var Ke,Pe="M"+ze[0],Qe=[];for(Ke=1;Ke<ze.length-1;Ke++)Qe.push(De(ze[Ke-1],ze[Ke],ze[Ke+1],Ve));for(Pe+="Q"+Qe[0][0]+" "+ze[1],Ke=2;Ke<ze.length-1;Ke++)Pe+="C"+Qe[Ke-2][1]+" "+Qe[Ke-1][0]+" "+ze[Ke];return Pe+"Q"+Qe[ze.length-3][1]+" "+ze[ze.length-1]},M.smoothclosed=function(ze,Ve){if(ze.length<3)return"M"+ze.join("L")+"Z";var dt,Pe="M"+ze[0],Qe=ze.length-1,Ke=[De(ze[Qe],ze[0],ze[1],Ve)];for(dt=1;dt<Qe;dt++)Ke.push(De(ze[dt-1],ze[dt],ze[dt+1],Ve));for(Ke.push(De(ze[Qe-1],ze[Qe],ze[0],Ve)),dt=1;dt<=Qe;dt++)Pe+="C"+Ke[dt-1][1]+" "+Ke[dt][0]+" "+ze[dt];return Pe+"C"+Ke[Qe][1]+" "+Ke[0][0]+" "+ze[0]+"Z"};var Ne={hv:function(ze,Ve,Pe){return"H"+ce(Ve[0])+"V"+ue(Ve,1,Pe)},vh:function(ze,Ve,Pe){return"V"+ge(Ve[1])+"H"+ue(Ve,0,Pe)},hvh:function(ze,Ve,Pe){return"H"+ce((ze[0]+Ve[0])/2)+"V"+ge(Ve[1])+"H"+ue(Ve,0,Pe)},vhv:function(ze,Ve,Pe){return"V"+ge((ze[1]+Ve[1])/2)+"H"+ce(Ve[0])+"V"+ue(Ve,1,Pe)}},Be=function(ze,Ve,Pe){return"L"+ue(Ve,0,Pe)+","+ue(Ve,1,Pe)};function Fe(ze,Ve){var Pe=ze.backoff,Qe=ze.trace,Ke=ze.d,dt=ze.i;if(Pe&&Qe&&Qe.marker&&Qe.marker.angle%360==0&&Qe.line&&"spline"!==Qe.line.shape){var Dt=T.isArrayOrTypedArray(Pe),$t=ze,Ot=Ve?Ve[0]:X||0,kt=Ve?Ve[1]:ie||0,At=$t[0],Gt=$t[1],Jt=Math.atan2(Gt-kt,At-Ot),en=Dt?Pe[dt]:Pe;if("auto"===en){var sn=$t.i;"scatter"===Qe.type&&sn--;var pt=$t.marker,xt=pt.symbol;T.isArrayOrTypedArray(xt)&&(xt=xt[sn]);var yt=pt.size;T.isArrayOrTypedArray(yt)&&(yt=yt[sn]),en=pt?M.symbolBackOffs[M.symbolNumber(xt)]*yt:0,en+=M.getMarkerStandoff(Ke[sn],Qe)||0}var ke=At-en*Math.cos(Jt),Xe=Gt-en*Math.sin(Jt);(ke<=At&&ke>=Ot||ke>=At&&ke<=Ot)&&(Xe<=Gt&&Xe>=kt||Xe>=Gt&&Xe<=kt)&&(ze=[ke,Xe])}return ze}M.steps=function(ze){var Ve=Ne[ze]||Be;return function(Pe){for(var Qe="M"+ce(Pe[0][0])+","+ge(Pe[0][1]),Ke=Pe.length,dt=1;dt<Ke;dt++)Qe+=Ve(Pe[dt-1],Pe[dt],dt===Ke-1);return Qe}},M.applyBackoff=Fe,M.makeTester=function(){var ze=T.ensureSingleById(p.select("body"),"svg","js-plotly-tester",function(Pe){Pe.attr(w.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Ve=T.ensureSingle(ze,"path","js-reference-point",function(Pe){Pe.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});M.tester=ze,M.testref=Ve},M.savedBBoxes={};var Se=0;function H(ze){var Ve=ze.getAttribute("data-unformatted");if(null!==Ve)return Ve+ze.getAttribute("data-math")+ze.getAttribute("text-anchor")+ze.getAttribute("style")}function Y(ze,Ve){if(!ze)return null;var Pe=Ve._context,Qe=Pe._exportedPlot?"":Pe._baseUrl||"";return Qe?"url('"+Qe+"#"+ze+"')":"url(#"+ze+")"}M.bBox=function(ze,Ve,Pe){var Qe,kt,At;if(Pe||(Pe=H(ze)),Pe){if(Qe=M.savedBBoxes[Pe])return T.extendFlat({},Qe)}else if(1===ze.childNodes.length){var Ke=ze.childNodes[0];if(Pe=H(Ke)){var dt=+Ke.getAttribute("x")||0,Dt=+Ke.getAttribute("y")||0,$t=Ke.getAttribute("transform");if(!$t){var Ot=M.bBox(Ke,!1,Pe);return dt&&(Ot.left+=dt,Ot.right+=dt),Dt&&(Ot.top+=Dt,Ot.bottom+=Dt),Ot}if(Qe=M.savedBBoxes[Pe+="~"+dt+"~"+Dt+"~"+$t])return T.extendFlat({},Qe)}}Ve?kt=ze:(At=M.tester.node(),kt=ze.cloneNode(!0),At.appendChild(kt)),p.select(kt).attr("transform",null).call(C.positionText,0,0);var Gt=kt.getBoundingClientRect(),Lt=M.testref.node().getBoundingClientRect();Ve||At.removeChild(kt);var Qt={height:Gt.height,width:Gt.width,left:Gt.left-Lt.left,top:Gt.top-Lt.top,right:Gt.right-Lt.left,bottom:Gt.bottom-Lt.top};return Se>=1e4&&(M.savedBBoxes={},Se=0),Pe&&(M.savedBBoxes[Pe]=Qt),Se++,T.extendFlat({},Qt)},M.setClipUrl=function(ze,Ve,Pe){ze.attr("clip-path",Y(Ve,Pe))},M.getTranslate=function(ze){var Ke=(ze[ze.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(dt,Dt,$t){return[Dt,$t].join(" ")}).split(" ");return{x:+Ke[0]||0,y:+Ke[1]||0}},M.setTranslate=function(ze,Ve,Pe){var dt=ze.attr?"attr":"setAttribute",Dt=ze[ze.attr?"attr":"getAttribute"]("transform")||"";return Ve=Ve||0,Pe=Pe||0,Dt=Dt.replace(/(\btranslate\(.*?\);?)/,"").trim(),Dt=(Dt+=c(Ve,Pe)).trim(),ze[dt]("transform",Dt),Dt},M.getScale=function(ze){var Ke=(ze[ze.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(dt,Dt,$t){return[Dt,$t].join(" ")}).split(" ");return{x:+Ke[0]||1,y:+Ke[1]||1}},M.setScale=function(ze,Ve,Pe){var dt=ze.attr?"attr":"setAttribute",Dt=ze[ze.attr?"attr":"getAttribute"]("transform")||"";return Ve=Ve||1,Pe=Pe||1,Dt=Dt.replace(/(\bscale\(.*?\);?)/,"").trim(),Dt=(Dt+="scale("+Ve+","+Pe+")").trim(),ze[dt]("transform",Dt),Dt};var te=/\s*sc.*/;M.setPointGroupScale=function(ze,Ve,Pe){if(Ve=Ve||1,Pe=Pe||1,ze){var Qe=1===Ve&&1===Pe?"":"scale("+Ve+","+Pe+")";ze.each(function(){var Ke=(this.getAttribute("transform")||"").replace(te,"");Ke=(Ke+=Qe).trim(),this.setAttribute("transform",Ke)})}};var Z=/translate\([^)]*\)\s*$/;function N(ze,Ve){var Pe;return ze&&(Pe=ze.mf),void 0===Pe&&(Pe=Ve.marker&&Ve.marker.standoff||0),Ve._geo||Ve._xA?Pe:-Pe}M.setTextPointsScale=function(ze,Ve,Pe){ze&&ze.each(function(){var Qe,Ke=p.select(this),dt=Ke.select("text");if(dt.node()){var Dt=parseFloat(dt.attr("x")||0),$t=parseFloat(dt.attr("y")||0),Ot=(Ke.attr("transform")||"").match(Z);Qe=1===Ve&&1===Pe?[]:[c(Dt,$t),"scale("+Ve+","+Pe+")",c(-Dt,-$t)],Ot&&Qe.push(Ot),Ke.attr("transform",Qe.join(""))}})},M.getMarkerStandoff=N;var Te,Ee,Oe,$e,ct,ft,ee=Math.atan2,B=Math.cos,se=Math.sin;function xe(ze,Ve){var Pe=Ve[0],Qe=Ve[1];return[Pe*B(ze)-Qe*se(ze),Pe*se(ze)+Qe*B(ze)]}function gt(ze,Ve){var Pe=ze.ma;void 0===Pe&&(!(Pe=Ve.marker.angle)||T.isArrayOrTypedArray(Pe))&&(Pe=0);var Qe,Ke,dt=Ve.marker.angleref;if("previous"===dt||"north"===dt){if(Ve._geo){var Dt=Ve._geo.project(ze.lonlat);Qe=Dt[0],Ke=Dt[1]}else{var $t=Ve._xA,Ot=Ve._yA;if(!$t||!Ot)return 90;Qe=$t.c2p(ze.x),Ke=Ot.c2p(ze.y)}if(Ve._geo){var en,kt=ze.lonlat[0],At=ze.lonlat[1],Gt=Ve._geo.project([kt,At+1e-5]),Lt=Ve._geo.project([kt+1e-5,At]),Qt=ee(Lt[1]-Ke,Lt[0]-Qe),Jt=ee(Gt[1]-Ke,Gt[0]-Qe);if("north"===dt)en=Pe/180*Math.PI;else if("previous"===dt){var sn=kt/180*Math.PI,pt=At/180*Math.PI,xt=Te/180*Math.PI,yt=Ee/180*Math.PI,ke=xt-sn,Xe=B(yt)*se(ke),Me=se(yt)*B(pt)-B(yt)*se(pt)*B(ke);en=-ee(Xe,Me)-Math.PI,Te=kt,Ee=At}var _e=xe(Qt,[B(en),0]),He=xe(Jt,[se(en),0]);Pe=ee(_e[1]+He[1],_e[0]+He[0])/Math.PI*180,"previous"===dt&&(ft!==Ve.uid||ze.i!==ct+1)&&(Pe=null)}if("previous"===dt&&!Ve._geo)if(ft===Ve.uid&&ze.i===ct+1&&v(Qe)&&v(Ke)){var We=Qe-Oe,Ze=Ke-$e,nt=Ve.line&&Ve.line.shape||"",Bt=nt.slice(nt.length-1);"h"===Bt&&(Ze=0),"v"===Bt&&(We=0),Pe+=ee(Ze,We)/Math.PI*180+90}else Pe=null}return Oe=Qe,$e=Ke,ct=ze.i,ft=Ve.uid,Pe}M.getMarkerAngle=gt},1984:function(Ce,j,o){"use strict";var C,w,S,z,p=o(9604),T=o(3428).round,h="M0,0Z",v=Math.sqrt(2),d=Math.sqrt(3),y=Math.PI,g=Math.cos,m=Math.sin;function c(D){return null===D}function A(D,_,E){if(!(D&&D%360!=0||_))return E;if(S===D&&z===_&&C===E)return w;function M(le,pe){var W=g(le),K=m(le),X=pe[0],ie=pe[1]+(_||0);return[X*W-ie*K,X*K+ie*W]}S=D,z=_,C=E;for(var L=D/180*y,b=0,P=0,I=p(E),G="",$=0;$<I.length;$++){var J=I[$],re=J[0],O=b,Q=P;if("M"===re||"L"===re)b=+J[1],P=+J[2];else if("m"===re||"l"===re)b+=+J[1],P+=+J[2];else if("H"===re)b=+J[1];else if("h"===re)b+=+J[1];else if("V"===re)P=+J[1];else if("v"===re)P+=+J[1];else if("A"===re){b=+J[1],P=+J[2];var U=M(L,[+J[6],+J[7]]);J[6]=U[0],J[7]=U[1],J[3]=+J[3]+D}("H"===re||"V"===re)&&(re="L"),("h"===re||"v"===re)&&(re="l"),("m"===re||"l"===re)&&(b-=O,P-=Q);var ne=M(L,[b,P]);("H"===re||"V"===re)&&(re="L"),("M"===re||"L"===re||"m"===re||"l"===re)&&(J[1]=ne[0],J[2]=ne[1]),J[0]=re,G+=J[0]+J.slice(1).join(",")}return w=G,G}Ce.exports={circle:{n:0,f:function(D,_,E){if(c(_))return h;var M=T(D,2),L="M"+M+",0A"+M+","+M+" 0 1,1 0,-"+M+"A"+M+","+M+" 0 0,1 "+M+",0Z";return E?A(_,E,L):L}},square:{n:1,f:function(D,_,E){if(c(_))return h;var M=T(D,2);return A(_,E,"M"+M+","+M+"H-"+M+"V-"+M+"H"+M+"Z")}},diamond:{n:2,f:function(D,_,E){if(c(_))return h;var M=T(1.3*D,2);return A(_,E,"M"+M+",0L0,"+M+"L-"+M+",0L0,-"+M+"Z")}},cross:{n:3,f:function(D,_,E){if(c(_))return h;var M=T(.4*D,2),L=T(1.2*D,2);return A(_,E,"M"+L+","+M+"H"+M+"V"+L+"H-"+M+"V"+M+"H-"+L+"V-"+M+"H-"+M+"V-"+L+"H"+M+"V-"+M+"H"+L+"Z")}},x:{n:4,f:function(D,_,E){if(c(_))return h;var M=T(.8*D/v,2),L="l"+M+","+M,b="l"+M+",-"+M,P="l-"+M+",-"+M,I="l-"+M+","+M;return A(_,E,"M0,"+M+L+b+P+b+P+I+P+I+L+I+L+"Z")}},"triangle-up":{n:5,f:function(D,_,E){if(c(_))return h;var M=T(2*D/d,2);return A(_,E,"M-"+M+","+T(D/2,2)+"H"+M+"L0,-"+T(D,2)+"Z")}},"triangle-down":{n:6,f:function(D,_,E){if(c(_))return h;var M=T(2*D/d,2);return A(_,E,"M-"+M+",-"+T(D/2,2)+"H"+M+"L0,"+T(D,2)+"Z")}},"triangle-left":{n:7,f:function(D,_,E){if(c(_))return h;var M=T(2*D/d,2);return A(_,E,"M"+T(D/2,2)+",-"+M+"V"+M+"L-"+T(D,2)+",0Z")}},"triangle-right":{n:8,f:function(D,_,E){if(c(_))return h;var M=T(2*D/d,2);return A(_,E,"M-"+T(D/2,2)+",-"+M+"V"+M+"L"+T(D,2)+",0Z")}},"triangle-ne":{n:9,f:function(D,_,E){if(c(_))return h;var M=T(.6*D,2),L=T(1.2*D,2);return A(_,E,"M-"+L+",-"+M+"H"+M+"V"+L+"Z")}},"triangle-se":{n:10,f:function(D,_,E){if(c(_))return h;var M=T(.6*D,2),L=T(1.2*D,2);return A(_,E,"M"+M+",-"+L+"V"+M+"H-"+L+"Z")}},"triangle-sw":{n:11,f:function(D,_,E){if(c(_))return h;var M=T(.6*D,2),L=T(1.2*D,2);return A(_,E,"M"+L+","+M+"H-"+M+"V-"+L+"Z")}},"triangle-nw":{n:12,f:function(D,_,E){if(c(_))return h;var M=T(.6*D,2),L=T(1.2*D,2);return A(_,E,"M-"+M+","+L+"V-"+M+"H"+L+"Z")}},pentagon:{n:13,f:function(D,_,E){if(c(_))return h;var M=T(.951*D,2),L=T(.588*D,2),b=T(-D,2),P=T(-.309*D,2);return A(_,E,"M"+M+","+P+"L"+L+","+T(.809*D,2)+"H-"+L+"L-"+M+","+P+"L0,"+b+"Z")}},hexagon:{n:14,f:function(D,_,E){if(c(_))return h;var M=T(D,2),L=T(D/2,2),b=T(D*d/2,2);return A(_,E,"M"+b+",-"+L+"V"+L+"L0,"+M+"L-"+b+","+L+"V-"+L+"L0,-"+M+"Z")}},hexagon2:{n:15,f:function(D,_,E){if(c(_))return h;var M=T(D,2),L=T(D/2,2),b=T(D*d/2,2);return A(_,E,"M-"+L+","+b+"H"+L+"L"+M+",0L"+L+",-"+b+"H-"+L+"L-"+M+",0Z")}},octagon:{n:16,f:function(D,_,E){if(c(_))return h;var M=T(.924*D,2),L=T(.383*D,2);return A(_,E,"M-"+L+",-"+M+"H"+L+"L"+M+",-"+L+"V"+L+"L"+L+","+M+"H-"+L+"L-"+M+","+L+"V-"+L+"Z")}},star:{n:17,f:function(D,_,E){if(c(_))return h;var M=1.4*D,L=T(.225*M,2),b=T(.951*M,2),P=T(.363*M,2),I=T(.588*M,2),G=T(-M,2),$=T(-.309*M,2),J=T(.118*M,2),re=T(.809*M,2);return A(_,E,"M"+L+","+$+"H"+b+"L"+P+","+J+"L"+I+","+re+"L0,"+T(.382*M,2)+"L-"+I+","+re+"L-"+P+","+J+"L-"+b+","+$+"H-"+L+"L0,"+G+"Z")}},hexagram:{n:18,f:function(D,_,E){if(c(_))return h;var M=T(.66*D,2),L=T(.38*D,2),b=T(.76*D,2);return A(_,E,"M-"+b+",0l-"+L+",-"+M+"h"+b+"l"+L+",-"+M+"l"+L+","+M+"h"+b+"l-"+L+","+M+"l"+L+","+M+"h-"+b+"l-"+L+","+M+"l-"+L+",-"+M+"h-"+b+"Z")}},"star-triangle-up":{n:19,f:function(D,_,E){if(c(_))return h;var M=T(D*d*.8,2),L=T(.8*D,2),b=T(1.6*D,2),P=T(4*D,2),I="A "+P+","+P+" 0 0 1 ";return A(_,E,"M-"+M+","+L+I+M+","+L+I+"0,-"+b+I+"-"+M+","+L+"Z")}},"star-triangle-down":{n:20,f:function(D,_,E){if(c(_))return h;var M=T(D*d*.8,2),L=T(.8*D,2),b=T(1.6*D,2),P=T(4*D,2),I="A "+P+","+P+" 0 0 1 ";return A(_,E,"M"+M+",-"+L+I+"-"+M+",-"+L+I+"0,"+b+I+M+",-"+L+"Z")}},"star-square":{n:21,f:function(D,_,E){if(c(_))return h;var M=T(1.1*D,2),L=T(2*D,2),b="A "+L+","+L+" 0 0 1 ";return A(_,E,"M-"+M+",-"+M+b+"-"+M+","+M+b+M+","+M+b+M+",-"+M+b+"-"+M+",-"+M+"Z")}},"star-diamond":{n:22,f:function(D,_,E){if(c(_))return h;var M=T(1.4*D,2),L=T(1.9*D,2),b="A "+L+","+L+" 0 0 1 ";return A(_,E,"M-"+M+",0"+b+"0,"+M+b+M+",0"+b+"0,-"+M+b+"-"+M+",0Z")}},"diamond-tall":{n:23,f:function(D,_,E){if(c(_))return h;var M=T(.7*D,2),L=T(1.4*D,2);return A(_,E,"M0,"+L+"L"+M+",0L0,-"+L+"L-"+M+",0Z")}},"diamond-wide":{n:24,f:function(D,_,E){if(c(_))return h;var M=T(1.4*D,2),L=T(.7*D,2);return A(_,E,"M0,"+L+"L"+M+",0L0,-"+L+"L-"+M+",0Z")}},hourglass:{n:25,f:function(D,_,E){if(c(_))return h;var M=T(D,2);return A(_,E,"M"+M+","+M+"H-"+M+"L"+M+",-"+M+"H-"+M+"Z")},noDot:!0},bowtie:{n:26,f:function(D,_,E){if(c(_))return h;var M=T(D,2);return A(_,E,"M"+M+","+M+"V-"+M+"L-"+M+","+M+"V-"+M+"Z")},noDot:!0},"circle-cross":{n:27,f:function(D,_,E){if(c(_))return h;var M=T(D,2);return A(_,E,"M0,"+M+"V-"+M+"M"+M+",0H-"+M+"M"+M+",0A"+M+","+M+" 0 1,1 0,-"+M+"A"+M+","+M+" 0 0,1 "+M+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(D,_,E){if(c(_))return h;var M=T(D,2),L=T(D/v,2);return A(_,E,"M"+L+","+L+"L-"+L+",-"+L+"M"+L+",-"+L+"L-"+L+","+L+"M"+M+",0A"+M+","+M+" 0 1,1 0,-"+M+"A"+M+","+M+" 0 0,1 "+M+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(D,_,E){if(c(_))return h;var M=T(D,2);return A(_,E,"M0,"+M+"V-"+M+"M"+M+",0H-"+M+"M"+M+","+M+"H-"+M+"V-"+M+"H"+M+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(D,_,E){if(c(_))return h;var M=T(D,2);return A(_,E,"M"+M+","+M+"L-"+M+",-"+M+"M"+M+",-"+M+"L-"+M+","+M+"M"+M+","+M+"H-"+M+"V-"+M+"H"+M+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(D,_,E){if(c(_))return h;var M=T(1.3*D,2);return A(_,E,"M"+M+",0L0,"+M+"L-"+M+",0L0,-"+M+"ZM0,-"+M+"V"+M+"M-"+M+",0H"+M)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(D,_,E){if(c(_))return h;var M=T(1.3*D,2),L=T(.65*D,2);return A(_,E,"M"+M+",0L0,"+M+"L-"+M+",0L0,-"+M+"ZM-"+L+",-"+L+"L"+L+","+L+"M-"+L+","+L+"L"+L+",-"+L)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(D,_,E){if(c(_))return h;var M=T(1.4*D,2);return A(_,E,"M0,"+M+"V-"+M+"M"+M+",0H-"+M)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(D,_,E){if(c(_))return h;var M=T(D,2);return A(_,E,"M"+M+","+M+"L-"+M+",-"+M+"M"+M+",-"+M+"L-"+M+","+M)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(D,_,E){if(c(_))return h;var M=T(1.2*D,2),L=T(.85*D,2);return A(_,E,"M0,"+M+"V-"+M+"M"+M+",0H-"+M+"M"+L+","+L+"L-"+L+",-"+L+"M"+L+",-"+L+"L-"+L+","+L)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(D,_,E){if(c(_))return h;var M=T(D/2,2),L=T(D,2);return A(_,E,"M"+M+","+L+"V-"+L+"M"+(M-L)+",-"+L+"V"+L+"M"+L+","+M+"H-"+L+"M-"+L+","+(M-L)+"H"+L)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(D,_,E){if(c(_))return h;var M=T(1.2*D,2),L=T(1.6*D,2),b=T(.8*D,2);return A(_,E,"M-"+M+","+b+"L0,0M"+M+","+b+"L0,0M0,-"+L+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(D,_,E){if(c(_))return h;var M=T(1.2*D,2),L=T(1.6*D,2),b=T(.8*D,2);return A(_,E,"M-"+M+",-"+b+"L0,0M"+M+",-"+b+"L0,0M0,"+L+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(D,_,E){if(c(_))return h;var M=T(1.2*D,2),L=T(1.6*D,2),b=T(.8*D,2);return A(_,E,"M"+b+","+M+"L0,0M"+b+",-"+M+"L0,0M-"+L+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(D,_,E){if(c(_))return h;var M=T(1.2*D,2),L=T(1.6*D,2),b=T(.8*D,2);return A(_,E,"M-"+b+","+M+"L0,0M-"+b+",-"+M+"L0,0M"+L+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(D,_,E){if(c(_))return h;var M=T(1.4*D,2);return A(_,E,"M"+M+",0H-"+M)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(D,_,E){if(c(_))return h;var M=T(1.4*D,2);return A(_,E,"M0,"+M+"V-"+M)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(D,_,E){if(c(_))return h;var M=T(D,2);return A(_,E,"M"+M+",-"+M+"L-"+M+","+M)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(D,_,E){if(c(_))return h;var M=T(D,2);return A(_,E,"M"+M+","+M+"L-"+M+",-"+M)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(D,_,E){if(c(_))return h;var M=T(D,2);return A(_,E,"M0,0L-"+M+","+T(2*D,2)+"H"+M+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(D,_,E){if(c(_))return h;var M=T(D,2);return A(_,E,"M0,0L-"+M+",-"+T(2*D,2)+"H"+M+"Z")},noDot:!0},"arrow-left":{n:47,f:function(D,_,E){if(c(_))return h;var M=T(2*D,2),L=T(D,2);return A(_,E,"M0,0L"+M+",-"+L+"V"+L+"Z")},noDot:!0},"arrow-right":{n:48,f:function(D,_,E){if(c(_))return h;var M=T(2*D,2),L=T(D,2);return A(_,E,"M0,0L-"+M+",-"+L+"V"+L+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(D,_,E){if(c(_))return h;var M=T(D,2);return A(_,E,"M-"+M+",0H"+M+"M0,0L-"+M+","+T(2*D,2)+"H"+M+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(D,_,E){if(c(_))return h;var M=T(D,2);return A(_,E,"M-"+M+",0H"+M+"M0,0L-"+M+",-"+T(2*D,2)+"H"+M+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(D,_,E){if(c(_))return h;var M=T(2*D,2),L=T(D,2);return A(_,E,"M0,-"+L+"V"+L+"M0,0L"+M+",-"+L+"V"+L+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(D,_,E){if(c(_))return h;var M=T(2*D,2),L=T(D,2);return A(_,E,"M0,-"+L+"V"+L+"M0,0L-"+M+",-"+L+"V"+L+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(D,_,E){if(c(_))return h;var M=y/2.5,L=2*D*g(M),b=2*D*m(M);return A(_,E,"M0,0L"+-L+","+b+"L"+L+","+b+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(D,_,E){if(c(_))return h;var M=y/4,L=2*D*g(M),b=2*D*m(M);return A(_,E,"M0,0L"+-L+","+b+"A "+2*D+","+2*D+" 0 0 1 "+L+","+b+"Z")},backoff:.4,noDot:!0}}},7644:function(Ce){"use strict";Ce.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},4880:function(Ce,j,o){"use strict";var p=o(8248),T=o(4040),h=o(4460),v=o(3400),d=o(3792);function y(g,m,c,C){var w=m["error_"+C]||{},z=[];if(w.visible&&-1!==["linear","log"].indexOf(c.type)){for(var A=d(w),D=0;D<g.length;D++){var _=g[D],E=_.i;if(void 0===E)E=D;else if(null===E)continue;var M=_[C];if(p(c.c2l(M))){var L=A(M,E);if(p(L[0])&&p(L[1])){var b=_[C+"s"]=M-L[0],P=_[C+"h"]=M+L[1];z.push(b,P)}}}var G=m._extremes[c._id],$=h.findExtremes(c,z,v.extendFlat({tozero:G.opts.tozero},{padded:!0}));G.min=G.min.concat($.min),G.max=G.max.concat($.max)}}Ce.exports=function(m){for(var c=m.calcdata,C=0;C<c.length;C++){var w=c[C],S=w[0].trace;if(!0===S.visible&&T.traceIs(S,"errorBarsOK")){var z=h.getFromId(m,S.xaxis),A=h.getFromId(m,S.yaxis);y(w,S,z,"x"),y(w,S,A,"y")}}}},3792:function(Ce){"use strict";function j(o,p){return"percent"===o?function(T){return Math.abs(T*p/100)}:"constant"===o?function(){return Math.abs(p)}:"sqrt"===o?function(T){return Math.sqrt(Math.abs(T))}:void 0}Ce.exports=function(p){var T=p.type,h=p.symmetric;if("data"===T){var v=p.array||[];if(h)return function(c,C){var w=+v[C];return[w,w]};var d=p.arrayminus||[];return function(c,C){var w=+v[C],S=+d[C];return isNaN(w)&&isNaN(S)?[NaN,NaN]:[S||0,w||0]}}var y=j(T,p.value),g=j(T,p.valueminus);return h||void 0===p.valueminus?function(c){var C=y(c);return[C,C]}:function(c){return[g(c),y(c)]}}},5200:function(Ce,j,o){"use strict";var p=o(8248),T=o(4040),h=o(3400),v=o(1780),d=o(7644);Ce.exports=function(y,g,m,c){var C="error_"+c.axis,w=v.newContainer(g,C),S=y[C]||{};function z(b,P){return h.coerce(S,w,d,b,P)}if(!1!==z("visible",void 0!==S.array||void 0!==S.value||"sqrt"===S.type)){var _=z("type","array"in S?"data":"percent"),E=!0;"sqrt"!==_&&(E=z("symmetric",!(("data"===_?"arrayminus":"valueminus")in S))),"data"===_?(z("array"),z("traceref"),E||(z("arrayminus"),z("tracerefminus"))):("percent"===_||"constant"===_)&&(z("value"),E||z("valueminus"));var M="copy_"+c.inherit+"style";c.inherit&&(g["error_"+c.inherit]||{}).visible&&z(M,!(S.color||p(S.thickness)||p(S.width))),(!c.inherit||!w[M])&&(z("color",m),z("thickness"),z("width",T.traceIs(g,"gl3d")?0:4))}}},4968:function(Ce,j,o){"use strict";var p=o(3400),T=o(7824).overrideAll,h=o(7644),v={error_x:p.extendFlat({},h),error_y:p.extendFlat({},h)};delete v.error_x.copy_zstyle,delete v.error_y.copy_zstyle,delete v.error_y.copy_ystyle;var d={error_x:p.extendFlat({},h),error_y:p.extendFlat({},h),error_z:p.extendFlat({},h)};delete d.error_x.copy_ystyle,delete d.error_y.copy_ystyle,delete d.error_z.copy_ystyle,delete d.error_z.copy_zstyle,Ce.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:v,bar:v,histogram:v,scatter3d:T(d,"calc","nested"),scattergl:T(v,"calc","nested")}},supplyDefaults:o(5200),calc:o(4880),makeComputeError:o(3792),plot:o(8512),style:o(2036),hoverInfo:function y(g,m,c){(m.error_y||{}).visible&&(c.yerr=g.yh-g.y,m.error_y.symmetric||(c.yerrneg=g.y-g.ys)),(m.error_x||{}).visible&&(c.xerr=g.xh-g.x,m.error_x.symmetric||(c.xerrneg=g.x-g.xs))}}},8512:function(Ce,j,o){"use strict";var p=o(3428),T=o(8248),h=o(3616),v=o(3028);Ce.exports=function(g,m,c,C){var S=c.xaxis,z=c.yaxis,A=C&&C.duration>0,D=g._context.staticPlot;m.each(function(_){var b,E=_[0].trace,M=E.error_x||{},L=E.error_y||{};E.ids&&(b=function($){return $.id});var P=v.hasMarkers(E)&&E.marker.maxdisplayed>0;!L.visible&&!M.visible&&(_=[]);var I=p.select(this).selectAll("g.errorbar").data(_,b);if(I.exit().remove(),_.length){M.visible||I.selectAll("path.xerror").remove(),L.visible||I.selectAll("path.yerror").remove(),I.style("opacity",1);var G=I.enter().append("g").classed("errorbar",!0);A&&G.style("opacity",0).transition().duration(C.duration).style("opacity",1),h.setClipUrl(I,c.layerClipId,g),I.each(function($){var J=p.select(this),re=function d(y,g,m){var c={x:g.c2p(y.x),y:m.c2p(y.y)};return void 0!==y.yh&&(c.yh=m.c2p(y.yh),c.ys=m.c2p(y.ys),T(c.ys)||(c.noYS=!0,c.ys=m.c2p(y.ys,!0))),void 0!==y.xh&&(c.xh=g.c2p(y.xh),c.xs=g.c2p(y.xs),T(c.xs)||(c.noXS=!0,c.xs=g.c2p(y.xs,!0))),c}($,S,z);if(!P||$.vis){var O,Q=J.select("path.yerror");if(L.visible&&T(re.x)&&T(re.yh)&&T(re.ys)){var U=L.width;O="M"+(re.x-U)+","+re.yh+"h"+2*U+"m-"+U+",0V"+re.ys,re.noYS||(O+="m-"+U+",0h"+2*U),Q.size()?A&&(Q=Q.transition().duration(C.duration).ease(C.easing)):Q=J.append("path").style("vector-effect",D?"none":"non-scaling-stroke").classed("yerror",!0),Q.attr("d",O)}else Q.remove();var ne=J.select("path.xerror");if(M.visible&&T(re.y)&&T(re.xh)&&T(re.xs)){var le=(M.copy_ystyle?L:M).width;O="M"+re.xh+","+(re.y-le)+"v"+2*le+"m0,-"+le+"H"+re.xs,re.noXS||(O+="m0,-"+le+"v"+2*le),ne.size()?A&&(ne=ne.transition().duration(C.duration).ease(C.easing)):ne=J.append("path").style("vector-effect",D?"none":"non-scaling-stroke").classed("xerror",!0),ne.attr("d",O)}else ne.remove()}})}})}},2036:function(Ce,j,o){"use strict";var p=o(3428),T=o(6308);Ce.exports=function(v){v.each(function(d){var y=d[0].trace,g=y.error_y||{},m=y.error_x||{},c=p.select(this);c.selectAll("path.yerror").style("stroke-width",g.thickness+"px").call(T.stroke,g.color),m.copy_ystyle&&(m=g),c.selectAll("path.xerror").style("stroke-width",m.thickness+"px").call(T.stroke,m.color)})}},5756:function(Ce,j,o){"use strict";var p=o(5376),T=o(5460).hoverlabel,h=o(2880).extendFlat;Ce.exports={hoverlabel:{bgcolor:h({},T.bgcolor,{arrayOk:!0}),bordercolor:h({},T.bordercolor,{arrayOk:!0}),font:p({arrayOk:!0,editType:"none"}),align:h({},T.align,{arrayOk:!0}),namelength:h({},T.namelength,{arrayOk:!0}),editType:"none"}}},5056:function(Ce,j,o){"use strict";var p=o(3400),T=o(4040);function h(v,d,y,g){g=g||p.identity,Array.isArray(v)&&(d[0][y]=g(v))}Ce.exports=function(d){var y=d.calcdata,g=d._fullLayout;function m(z){return function(A){return p.coerceHoverinfo({hoverinfo:A},{_module:z._module},g)}}for(var c=0;c<y.length;c++){var C=y[c],w=C[0].trace;if(!T.traceIs(w,"pie-like")){var S=T.traceIs(w,"2dMap")?h:p.fillArray;S(w.hoverinfo,C,"hi",m(w)),w.hovertemplate&&S(w.hovertemplate,C,"ht"),w.hoverlabel&&(S(w.hoverlabel.bgcolor,C,"hbg"),S(w.hoverlabel.bordercolor,C,"hbc"),S(w.hoverlabel.font.size,C,"hts"),S(w.hoverlabel.font.color,C,"htc"),S(w.hoverlabel.font.family,C,"htf"),S(w.hoverlabel.font.weight,C,"htw"),S(w.hoverlabel.font.style,C,"hty"),S(w.hoverlabel.font.variant,C,"htv"),S(w.hoverlabel.namelength,C,"hnl"),S(w.hoverlabel.align,C,"hta"))}}}},2376:function(Ce,j,o){"use strict";var p=o(4040),T=o(3292).hover;Ce.exports=function(v,d,y){var g=p.getComponentMethod("annotations","onClick")(v,v._hoverdata);function m(){v.emit("plotly_click",{points:v._hoverdata,event:d})}void 0!==y&&T(v,d,y,!0),v._hoverdata&&d&&d.target&&(g&&g.then?g.then(m):m(),d.stopImmediatePropagation&&d.stopImmediatePropagation())}},2456:function(Ce){"use strict";Ce.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},5448:function(Ce,j,o){"use strict";var p=o(3400),T=o(5756),h=o(6132);Ce.exports=function(d,y,g,m){var C=p.extendFlat({},m.hoverlabel);y.hovertemplate&&(C.namelength=-1),h(d,y,function c(w,S){return p.coerce(d,y,T,w,S)},C)}},624:function(Ce,j,o){"use strict";var p=o(3400);j.getSubplot=function(g){return g.subplot||g.xaxis+g.yaxis||g.geo},j.isTraceInSubplots=function(g,m){if("splom"===g.type){for(var c=g.xaxes||[],C=g.yaxes||[],w=0;w<c.length;w++)for(var S=0;S<C.length;S++)if(-1!==m.indexOf(c[w]+C[S]))return!0;return!1}return-1!==m.indexOf(j.getSubplot(g))},j.flat=function(g,m){for(var c=new Array(g.length),C=0;C<g.length;C++)c[C]=m;return c},j.p2c=function(g,m){for(var c=new Array(g.length),C=0;C<g.length;C++)c[C]=g[C].p2c(m);return c},j.getDistanceFunction=function(g,m,c,C){return"closest"===g?C||j.quadrature(m,c):"x"===g.charAt(0)?m:c},j.getClosest=function(g,m,c){if(!1!==c.index)c.index>=0&&c.index<g.length?c.distance=0:c.index=!1;else for(var C=0;C<g.length;C++){var w=m(g[C]);w<=c.distance&&(c.index=C,c.distance=w)}return c},j.inbox=function(g,m,c){return g*m<0||0===g?c:1/0},j.quadrature=function(g,m){return function(c){var C=g(c),w=m(c);return Math.sqrt(C*C+w*w)}},j.makeEventData=function(g,m,c){var C="index"in g?g.index:g.pointNumber,w={data:m._input,fullData:m,curveNumber:m.index,pointNumber:C};if(m._indexToPoints){var S=m._indexToPoints[C];1===S.length?w.pointIndex=S[0]:w.pointIndices=S}else w.pointIndex=C;return m._module.eventData?w=m._module.eventData(w,g,m,c,C):("xVal"in g?w.x=g.xVal:"x"in g&&(w.x=g.x),"yVal"in g?w.y=g.yVal:"y"in g&&(w.y=g.y),g.xa&&(w.xaxis=g.xa),g.ya&&(w.yaxis=g.ya),void 0!==g.zLabelVal&&(w.z=g.zLabelVal)),j.appendArrayPointValue(w,m,C),w},j.appendArrayPointValue=function(g,m,c){var C=m._arrayAttrs;if(C)for(var w=0;w<C.length;w++){var S=C[w],z=h(S);if(void 0===g[z]){var D=v(p.nestedProperty(m,S).get(),c);void 0!==D&&(g[z]=D)}}},j.appendArrayMultiPointValues=function(g,m,c){var C=m._arrayAttrs;if(C)for(var w=0;w<C.length;w++){var S=C[w],z=h(S);if(void 0===g[z]){for(var A=p.nestedProperty(m,S).get(),D=new Array(c.length),_=0;_<c.length;_++)D[_]=v(A,c[_]);g[z]=D}}};var T={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function h(g){return T[g]||g}function v(g,m){return Array.isArray(m)?Array.isArray(g)&&Array.isArray(g[m[0]])?g[m[0]][m[1]]:void 0:g[m]}var d={x:!0,y:!0},y={"x unified":!0,"y unified":!0};j.isUnifiedHover=function(g){return"string"==typeof g&&!!y[g]},j.isXYhover=function(g){return"string"==typeof g&&!!d[g]}},3292:function(Ce,j,o){"use strict";var p=o(3428),T=o(8248),h=o(9760),v=o(3400),d=v.pushUnique,y=v.strTranslate,g=v.strRotate,m=o(5924),c=o(2736),C=o(2213),w=o(3616),S=o(6308),z=o(6476),A=o(4460),D=o(3816).zindexSeparator,_=o(4040),E=o(624),M=o(2456),L=o(7864),b=o(1140),P=M.YANGLE,I=Math.PI*P/180,G=1/Math.sin(I),$=Math.cos(I),J=Math.sin(I),re=M.HOVERARROWSIZE,O=M.HOVERTEXTPAD,Q={box:!0,ohlc:!0,violin:!0,candlestick:!0},U={scatter:!0,scattergl:!0,splom:!0};function ne(N,ee){return N.distance-ee.distance}function le(N,ee,B,se,xe){B||(B="xy"),"string"==typeof B&&(B=B.split(D)[0]);var Ee,Qe,Ke,Te=Array.isArray(B)?B:[B],Oe=N._fullLayout,$e=Oe.hoversubplots,ct=Oe._plots||[],ft=ct[B],gt=Oe._has("cartesian"),ze=ee.hovermode||Oe.hovermode,Ve="x"===(ze||"").charAt(0),Pe="y"===(ze||"").charAt(0);if(gt&&(Ve||Pe)&&"axis"===$e)for(var dt=Te.length,Dt=0;Dt<dt;Dt++)if(ct[Ee=Te[Dt]]){Qe=A.getFromId(N,Ee,"x"),Ke=A.getFromId(N,Ee,"y");var $t=(Ve?Qe:Ke)._subplotsWith;if($t&&$t.length)for(var Ot=0;Ot<$t.length;Ot++)d(Te,$t[Ot])}if(ft&&"single"!==$e){var kt=ft.overlays.map(function(br){return br.id});Te=Te.concat(kt)}for(var At=Te.length,Gt=new Array(At),Lt=new Array(At),Qt=!1,Jt=0;Jt<At;Jt++)if(ct[Ee=Te[Jt]])Qt=!0,Gt[Jt]=ct[Ee].xaxis,Lt[Jt]=ct[Ee].yaxis;else{if(!Oe[Ee]||!Oe[Ee]._subplot)return void v.warn("Unrecognized subplot: "+Ee);var en=Oe[Ee]._subplot;Gt[Jt]=en.xaxis,Lt[Jt]=en.yaxis}if(ze&&!Qt&&(ze="closest"),-1===["x","y","closest","x unified","y unified"].indexOf(ze)||!N.calcdata||N.querySelector(".zoombox")||N._dragging)return z.unhoverRaw(N,ee);var sn=Oe.hoverdistance;-1===sn&&(sn=1/0);var pt=Oe.spikedistance;-1===pt&&(pt=1/0);var ke,Xe,Me,_e,He,We,Ze,nt,Bt,Je,Ct,st,Pt,xt=[],yt=[],cn={hLinePoint:null,vLinePoint:null},_n=!1;if(Array.isArray(ee))for(ze="array",Me=0;Me<ee.length;Me++)(He=N.calcdata[ee[Me].curveNumber||0])&&(We=He[0].trace,"skip"!==He[0].trace.hoverinfo&&(yt.push(He),"h"===We.orientation&&(_n=!0)));else{var $n,fn,Nn=N.calcdata.slice();for(Nn.sort(function(br,Fi){return(br[0].trace.zorder||0)-(Fi[0].trace.zorder||0)}),_e=0;_e<Nn.length;_e++)"skip"!==(We=(He=Nn[_e])[0].trace).hoverinfo&&E.isTraceInSubplots(We,Te)&&(yt.push(He),"h"===We.orientation&&(_n=!0));if(xe){if(!1===m.triggerHandler(N,"plotly_beforehover",ee))return;var Rn=xe.getBoundingClientRect();$n=ee.clientX-Rn.left,fn=ee.clientY-Rn.top,Oe._calcInverseTransform(N);var En=v.apply3DTransform(Oe._invTransform)($n,fn);if(fn=En[1],($n=En[0])<0||$n>Gt[0]._length||fn<0||fn>Lt[0]._length)return z.unhoverRaw(N,ee)}else $n="xpx"in ee?ee.xpx:Gt[0]._length/2,fn="ypx"in ee?ee.ypx:Lt[0]._length/2;if(ee.pointerX=$n+Gt[0]._offset,ee.pointerY=fn+Lt[0]._offset,ke="xval"in ee?E.flat(Te,ee.xval):E.p2c(Gt,$n),Xe="yval"in ee?E.flat(Te,ee.yval):E.p2c(Lt,fn),!T(ke[0])||!T(Xe[0]))return v.warn("Fx.hover failed",ee,N),z.unhoverRaw(N,ee)}var Pn=1/0;function Zn(br,Fi){for(_e=0;_e<yt.length;_e++)if((He=yt[_e])&&He[0]&&He[0].trace&&!0===(We=He[0].trace).visible&&0!==We._length&&-1===["carpet","contourcarpet"].indexOf(We._module.name)){if(E.isUnifiedHover(Bt=ze)&&(Bt=Bt.charAt(0)),"splom"===We.type?Ze=Te[nt=0]:(Ze=E.getSubplot(We),nt=Te.indexOf(Ze)),st={cd:He,trace:We,xa:Gt[nt],ya:Lt[nt],maxHoverDistance:sn,maxSpikeDistance:pt,index:!1,distance:Math.min(Pn,sn),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:S.defaultLine,name:We.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},Oe[Ze]&&(st.subplot=Oe[Ze]._subplot),Oe._splomScenes&&Oe._splomScenes[We.uid]&&(st.scene=Oe._splomScenes[We.uid]),"array"===Bt){var ui=ee[_e];"pointNumber"in ui?(st.index=ui.pointNumber,Bt="closest"):(Bt="","xval"in ui&&(Je=ui.xval,Bt="x"),"yval"in ui&&(Ct=ui.yval,Bt=Bt?"closest":"y"))}else void 0!==br&&void 0!==Fi?(Je=br,Ct=Fi):(Je=ke[nt],Ct=Xe[nt]);if(Pt=xt.length,0!==sn)if(We._module&&We._module.hoverPoints){var kn=We._module.hoverPoints(st,Je,Ct,Bt,{finiteRange:!0,hoverLayer:Oe._hoverlayer,hoversubplots:$e,gd:N});if(kn)for(var yr,ur=0;ur<kn.length;ur++)T((yr=kn[ur]).x0)&&T(yr.y0)&&xt.push(De(yr,ze))}else v.log("Unrecognized trace type in hover:",We);if("closest"===ze&&xt.length>Pt&&(xt.splice(0,Pt),Pn=xt[0].distance),gt&&0!==pt&&0===xt.length){st.distance=pt,st.index=!1;var Hr=We._module.hoverPoints(st,Je,Ct,"closest",{hoverLayer:Oe._hoverlayer});if(Hr&&(Hr=Hr.filter(function(ki){return ki.spikeDistance<=pt})),Hr&&Hr.length){var xi,Vi=Hr.filter(function(ki){return ki.xa.showspikes&&"hovered data"!==ki.xa.spikesnap});if(Vi.length){var Si=Vi[0];T(Si.x0)&&T(Si.y0)&&(xi=mn(Si),(!cn.vLinePoint||cn.vLinePoint.spikeDistance>xi.spikeDistance)&&(cn.vLinePoint=xi))}var zi=Hr.filter(function(ki){return ki.ya.showspikes&&"hovered data"!==ki.ya.spikesnap});if(zi.length){var ya=zi[0];T(ya.x0)&&T(ya.y0)&&(xi=mn(ya),(!cn.hLinePoint||cn.hLinePoint.spikeDistance>xi.spikeDistance)&&(cn.hLinePoint=xi))}}}}}function Yn(br,Fi,ui){for(var ur,kn=null,yr=1/0,Hr=0;Hr<br.length;Hr++)Qe&&Qe._id!==br[Hr].xa._id||Ke&&Ke._id!==br[Hr].ya._id||(ur=br[Hr].spikeDistance,ui&&0===Hr&&(ur=-1/0),ur<=yr&&ur<=Fi&&(kn=br[Hr],yr=ur));return kn}function mn(br){return br?{xa:br.xa,ya:br.ya,x:void 0!==br.xSpike?br.xSpike:(br.x0+br.x1)/2,y:void 0!==br.ySpike?br.ySpike:(br.y0+br.y1)/2,distance:br.distance,spikeDistance:br.spikeDistance,curveNumber:br.trace.index,color:br.color,pointNumber:br.index}:null}Zn();var Wn={fullLayout:Oe,container:Oe._hoverlayer,event:ee},In=N._spikepoints;N._spikepoints={vLinePoint:cn.vLinePoint,hLinePoint:cn.hLinePoint};var vr=function(){var br=xt.filter(function(ui){return Qe&&Qe._id===ui.xa._id&&Ke&&Ke._id===ui.ya._id}),Fi=xt.filter(function(ui){return!(Qe&&Qe._id===ui.xa._id&&Ke&&Ke._id===ui.ya._id)});br.sort(ne),Fi.sort(ne),xt=function ye(N,ee){for(var B=ee.charAt(0),se=[],xe=[],Te=[],Ee=0;Ee<N.length;Ee++){var Oe=N[Ee];_.traceIs(Oe.trace,"bar-like")||_.traceIs(Oe.trace,"box-violin")?Te.push(Oe):Oe.trace[B+"period"]?xe.push(Oe):se.push(Oe)}return se.concat(xe).concat(Te)}(xt=br.concat(Fi),ze)};vr();var ir=ze.charAt(0),On=("x"===ir||"y"===ir)&&xt[0]&&U[xt[0].trace.type];if(gt&&0!==pt&&0!==xt.length){var rr=Yn(xt.filter(function(br){return br.ya.showspikes}),pt,On);cn.hLinePoint=mn(rr);var ve=Yn(xt.filter(function(br){return br.xa.showspikes}),pt,On);cn.vLinePoint=mn(ve)}if(0===xt.length){var he=z.unhoverRaw(N,ee);return gt&&(null!==cn.hLinePoint||null!==cn.vLinePoint)&&Fe(In)&&Ne(N,cn,Wn),he}if(gt&&Fe(In)&&Ne(N,cn,Wn),E.isXYhover(Bt)&&0!==xt[0].length&&"splom"!==xt[0].trace.type){var ut=xt[0],mt=(xt=Q[ut.trace.type]?xt.filter(function(br){return br.trace.index===ut.trace.index}):[ut]).length;Zn(H("x",ut,Oe),H("y",ut,Oe));var Nt,ot=[],St={},bt=0,Et=function(br){var Fi=Q[br.trace.type]?pe(br):br.trace.index;if(St[Fi]){var ui=St[Fi]-1,kn=ot[ui];ui>0&&Math.abs(br.distance)<Math.abs(kn.distance)&&(ot[ui]=br)}else bt++,St[Fi]=bt,ot.push(br)};for(Nt=0;Nt<mt;Nt++)Et(xt[Nt]);for(Nt=xt.length-1;Nt>mt-1;Nt--)Et(xt[Nt]);xt=ot,vr()}var It=N._hoverdata,qt=[],hn=Y(N),Vt=te(N);for(Me=0;Me<xt.length;Me++){var Mn=xt[Me],Wt=E.makeEventData(Mn,Mn.trace,Mn.cd);if(!1!==Mn.hovertemplate){var wn=!1;Mn.cd[Mn.index]&&Mn.cd[Mn.index].ht&&(wn=Mn.cd[Mn.index].ht),Mn.hovertemplate=wn||Mn.trace.hovertemplate||!1}if(Mn.xa&&Mn.ya){var Tn=Mn.x0+Mn.xa._offset,jn=Mn.x1+Mn.xa._offset,or=Mn.y0+Mn.ya._offset,Cr=Mn.y1+Mn.ya._offset,nn=Math.min(Tn,jn),si=Math.max(Tn,jn),pr=Math.min(or,Cr),$r=Math.max(or,Cr);Wt.bbox={x0:nn+Vt,x1:si+Vt,y0:pr+hn,y1:$r+hn}}Mn.eventData=[Wt],qt.push(Wt)}N._hoverdata=qt;var na="y"===ze&&(yt.length>1||xt.length>1)||"closest"===ze&&_n&&xt.length>1,ka=S.combine(Oe.plot_bgcolor||S.background,Oe.paper_bgcolor),oi=K(xt,{gd:N,hovermode:ze,rotateLabels:na,bgColor:ka,container:Oe._hoverlayer,outerContainer:Oe._paper.node(),commonLabelOpts:Oe.hoverlabel,hoverdistance:Oe.hoverdistance}),Ci=oi.hoverLabels;if(E.isUnifiedHover(ze)||(function ie(N,ee,B,se){var dt,Dt,$t,Ot,kt,At,Gt,xe=ee?"xa":"ya",Te=ee?"ya":"xa",Ee=0,Oe=1,$e=N.size(),ct=new Array($e),ft=0,gt=se.minX,ze=se.maxX,Ve=se.minY,Pe=se.maxY,Qe=function(ke){return ke*B._invScaleX},Ke=function(ke){return ke*B._invScaleY};function Lt(ke){var Xe=ke[0],Me=ke[ke.length-1];if($t=Me.pos+Me.dp+Me.size-Xe.pmax,(Dt=Xe.pmin-Xe.pos-Xe.dp+Xe.size)>.01){for(kt=ke.length-1;kt>=0;kt--)ke[kt].dp+=Dt;dt=!1}if(!($t<.01)){if(Dt<-.01){for(kt=ke.length-1;kt>=0;kt--)ke[kt].dp-=$t;dt=!1}if(dt){var _e=0;for(Ot=0;Ot<ke.length;Ot++)(At=ke[Ot]).pos+At.dp+At.size>Xe.pmax&&_e++;for(Ot=ke.length-1;Ot>=0&&!(_e<=0);Ot--)(At=ke[Ot]).pos>Xe.pmax-1&&(At.del=!0,_e--);for(Ot=0;Ot<ke.length&&!(_e<=0);Ot++)if((At=ke[Ot]).pos<Xe.pmin+1)for(At.del=!0,_e--,$t=2*At.size,kt=ke.length-1;kt>=0;kt--)ke[kt].dp-=$t;for(Ot=ke.length-1;Ot>=0&&!(_e<=0);Ot--)(At=ke[Ot]).pos+At.dp+At.size>Xe.pmax&&(At.del=!0,_e--)}}}for(N.each(function(ke){var Xe=ke[xe],Me=ke[Te],_e="x"===Xe._id.charAt(0),He=Xe.range;0===ft&&He&&He[0]>He[1]!==_e&&(Oe=-1);var We=0,Ze=_e?B.width:B.height;if("x"===B.hovermode||"y"===B.hovermode){var Ct,st,nt=ue(ke,ee),Bt=ke.anchor,Je="end"===Bt?-1:1;if("middle"===Bt)st=(Ct=ke.crossPos+(_e?Ke(nt.y-ke.by/2):Qe(ke.bx/2+ke.tx2width/2)))+(_e?Ke(ke.by):Qe(ke.bx));else if(_e)st=(Ct=ke.crossPos+Ke(re+nt.y)-Ke(ke.by/2-re))+Ke(ke.by);else{var Pt=Qe(Je*re+nt.x),cn=Pt+Qe(Je*ke.bx);Ct=ke.crossPos+Math.min(Pt,cn),st=ke.crossPos+Math.max(Pt,cn)}_e?void 0!==Ve&&void 0!==Pe&&Math.min(st,Pe)-Math.max(Ct,Ve)>1&&("left"===Me.side?(We=Me._mainLinePosition,Ze=B.width):Ze=Me._mainLinePosition):void 0!==gt&&void 0!==ze&&Math.min(st,ze)-Math.max(Ct,gt)>1&&("top"===Me.side?(We=Me._mainLinePosition,Ze=B.height):Ze=Me._mainLinePosition)}ct[ft++]=[{datum:ke,traceIndex:ke.trace.index,dp:0,pos:ke.pos,posref:ke.posref,size:ke.by*(_e?G:1)/2,pmin:We,pmax:Ze}]}),ct.sort(function(ke,Xe){return ke[0].posref-Xe[0].posref||Oe*(Xe[0].traceIndex-ke[0].traceIndex)});!dt&&Ee<=$e;){for(Ee++,dt=!0,Ot=0;Ot<ct.length-1;){var Qt=ct[Ot],Jt=ct[Ot+1],en=Qt[Qt.length-1],sn=Jt[0];if((Dt=en.pos+en.dp+en.size-sn.pos-sn.dp+sn.size)>.01){for(kt=Jt.length-1;kt>=0;kt--)Jt[kt].dp+=Dt;for(Qt.push.apply(Qt,Jt),ct.splice(Ot+1,1),Gt=0,kt=Qt.length-1;kt>=0;kt--)Gt+=Qt[kt].dp;for($t=Gt/Qt.length,kt=Qt.length-1;kt>=0;kt--)Qt[kt].dp-=$t;dt=!1}else Ot++}ct.forEach(Lt)}for(Ot=ct.length-1;Ot>=0;Ot--){var pt=ct[Ot];for(kt=pt.length-1;kt>=0;kt--){var xt=pt[kt],yt=xt.datum;yt.offset=xt.dp,yt.del=xt.del}}}(Ci,na,Oe,oi.commonLabelBoundingBox),ge(Ci,na,Oe._invScaleX,Oe._invScaleY)),xe&&xe.tagName){var li=_.getComponentMethod("annotations","hasClickToShow")(N,qt);C(p.select(xe),li?"pointer":"")}!xe||se||!function Be(N,ee,B){if(!B||B.length!==N._hoverdata.length)return!0;for(var se=B.length-1;se>=0;se--){var xe=B[se],Te=N._hoverdata[se];if(xe.curveNumber!==Te.curveNumber||String(xe.pointNumber)!==String(Te.pointNumber)||String(xe.pointNumbers)!==String(Te.pointNumbers))return!0}return!1}(N,0,It)||(It&&N.emit("plotly_unhover",{event:ee,points:It}),N.emit("plotly_hover",{event:ee,points:N._hoverdata,xaxes:Gt,yaxes:Lt,xvals:ke,yvals:Xe}))}function pe(N){return[N.trace.index,N.index,N.x0,N.y0,N.name,N.attr,N.xa?N.xa._id:"",N.ya?N.ya._id:""].join(",")}j.hover=function(ee,B,se,xe){ee=v.getGraphDiv(ee);var Te=B.target;v.throttle(ee._fullLayout._uid+M.HOVERID,M.HOVERMINTIME,function(){le(ee,B,se,xe,Te)})},j.loneHover=function(ee,B){var se=!0;Array.isArray(ee)||(se=!1,ee=[ee]);var xe=B.gd,Te=Y(xe),Ee=te(xe),ft=K(ee.map(function(Ke){var dt=Ke._x0||Ke.x0||Ke.x||0,Dt=Ke._x1||Ke.x1||Ke.x||0,$t=Ke._y0||Ke.y0||Ke.y||0,Ot=Ke._y1||Ke.y1||Ke.y||0,kt=Ke.eventData;if(kt){var At=Math.min(dt,Dt),Gt=Math.max(dt,Dt),Lt=Math.min($t,Ot),Qt=Math.max($t,Ot),Jt=Ke.trace;if(_.traceIs(Jt,"gl3d")){var en=xe._fullLayout[Jt.scene]._scene.container,sn=en.offsetLeft,pt=en.offsetTop;At+=sn,Gt+=sn,Lt+=pt,Qt+=pt}kt.bbox={x0:At+Ee,x1:Gt+Ee,y0:Lt+Te,y1:Qt+Te},B.inOut_bbox&&B.inOut_bbox.push(kt.bbox)}else kt=!1;return{color:Ke.color||S.defaultLine,x0:Ke.x0||Ke.x||0,x1:Ke.x1||Ke.x||0,y0:Ke.y0||Ke.y||0,y1:Ke.y1||Ke.y||0,xLabel:Ke.xLabel,yLabel:Ke.yLabel,zLabel:Ke.zLabel,text:Ke.text,name:Ke.name,idealAlign:Ke.idealAlign,borderColor:Ke.borderColor,fontFamily:Ke.fontFamily,fontSize:Ke.fontSize,fontColor:Ke.fontColor,fontWeight:Ke.fontWeight,fontStyle:Ke.fontStyle,fontVariant:Ke.fontVariant,nameLength:Ke.nameLength,textAlign:Ke.textAlign,trace:Ke.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Ke.hovertemplate||!1,hovertemplateLabels:Ke.hovertemplateLabels||!1,eventData:kt}}),{gd:xe,hovermode:"closest",rotateLabels:false,bgColor:B.bgColor||S.background,container:p.select(B.container),outerContainer:B.outerContainer||B.container}).hoverLabels,ze=0,Ve=0;return ft.sort(function(Ke,dt){return Ke.y0-dt.y0}).each(function(Ke,dt){var Dt=Ke.y0-Ke.by/2;Ke.offset=Dt-5<ze?ze-Dt+5:0,ze=Dt+Ke.by+Ke.offset,dt===B.anchorIndex&&(Ve=Ke.offset)}).each(function(Ke){Ke.offset-=Ve}),ge(ft,false,xe._fullLayout._invScaleX,xe._fullLayout._invScaleY),se?ft:ft.node()};var W=/<extra>([\s\S]*)<\/extra>/;function K(N,ee){var B=ee.gd,se=B._fullLayout,xe=ee.hovermode,Te=ee.rotateLabels,Ee=ee.bgColor,Oe=ee.container,$e=ee.outerContainer,ct=ee.commonLabelOpts||{};if(0===N.length)return[[]];var ft=ee.fontFamily||M.HOVERFONT,gt=ee.fontSize||M.HOVERFONTSIZE,ze=ee.fontWeight||se.font.weight,Ve=ee.fontStyle||se.font.style,Pe=ee.fontVariant||se.font.variant,Qe=ee.fontTextcase||se.font.textcase,Ke=ee.fontLineposition||se.font.lineposition,dt=ee.fontShadow||se.font.shadow,Dt=N[0],$t=Dt.xa,Ot=Dt.ya,kt=xe.charAt(0),At=kt+"Label",Gt=Dt[At];if(void 0===Gt&&"multicategory"===$t.type)for(var Lt=0;Lt<N.length&&void 0===(Gt=N[Lt][At]);Lt++);var Qt=Z(B,$e),Jt=Qt.top,en=Qt.width,sn=Qt.height,pt=void 0!==Gt&&Dt.distance<=ee.hoverdistance&&("x"===xe||"y"===xe);if(pt){var yt,ke,xt=!0;for(yt=0;yt<N.length;yt++)if(xt&&void 0===N[yt].zLabel&&(xt=!1),ke=N[yt].hoverinfo||N[yt].trace.hoverinfo){var Xe=Array.isArray(ke)?ke:ke.split("+");if(-1===Xe.indexOf("all")&&-1===Xe.indexOf(xe)){pt=!1;break}}xt&&(pt=!1)}var Me=Oe.selectAll("g.axistext").data(pt?[0]:[]);Me.enter().append("g").classed("axistext",!0),Me.exit().remove();var _e={minX:0,maxX:0,minY:0,maxY:0};if(Me.each(function(){var bn=p.select(this),ve=v.ensureSingle(bn,"path","",function(nn){nn.style({"stroke-width":"1px"})}),he=v.ensureSingle(bn,"text","",function(nn){nn.attr("data-notex",1)}),ut=ct.bgcolor||S.defaultLine,mt=ct.bordercolor||S.contrast(ut),at=S.contrast(ut),it=ct.font,ot={weight:it.weight||ze,style:it.style||Ve,variant:it.variant||Pe,textcase:it.textcase||Qe,lineposition:it.lineposition||Ke,shadow:it.shadow||dt,family:it.family||ft,size:it.size||gt,color:it.color||at};ve.style({fill:ut,stroke:mt}),he.text(Gt).call(w.font,ot).call(c.positionText,0,0).call(c.convertToTspans,B),bn.attr("transform","");var bt,Et,St=Z(B,he.node());if("x"===xe){var Nt="top"===$t.side?"-":"";he.attr("text-anchor","middle").call(c.positionText,0,"top"===$t.side?Jt-St.bottom-re-O:Jt-St.top+re+O),Et=Ot._offset+("top"===$t.side?0:Ot._length);var It=St.width/2+O,qt=bt=$t._offset+(Dt.x0+Dt.x1)/2;bt<It?qt=It:bt>se.width-It&&(qt=se.width-It),ve.attr("d","M"+(bt-qt)+",0L"+(bt-qt+re)+","+Nt+re+"H"+It+"v"+Nt+(2*O+St.height)+"H"+-It+"V"+Nt+re+"H"+(bt-qt-re)+"Z"),_e.minX=(bt=qt)-It,_e.maxX=bt+It,"top"===$t.side?(_e.minY=Et-(2*O+St.height),_e.maxY=Et-O):(_e.minY=Et+O,_e.maxY=Et+(2*O+St.height))}else{var hn,Vt,Mn;"right"===Ot.side?(hn="start",Vt=1,Mn="",bt=$t._offset+$t._length):(hn="end",Vt=-1,Mn="-",bt=$t._offset),Et=Ot._offset+(Dt.y0+Dt.y1)/2,he.attr("text-anchor",hn),ve.attr("d","M0,0L"+Mn+re+","+re+"V"+(O+St.height/2)+"h"+Mn+(2*O+St.width)+"V-"+(O+St.height/2)+"H"+Mn+re+"V-"+re+"Z"),_e.minY=Et-(O+St.height/2),_e.maxY=Et+(O+St.height/2),"right"===Ot.side?(_e.minX=bt+re,_e.maxX=bt+re+(2*O+St.width)):(_e.minX=bt-re-(2*O+St.width),_e.maxX=bt-re);var jn,Wt=St.height/2,wn=Jt-St.top-Wt,Tn="clip"+se._uid+"commonlabel"+Ot._id;if(bt<St.width+2*O+re){jn="M-"+(re+O)+"-"+Wt+"h-"+(St.width-O)+"V"+Wt+"h"+(St.width-O)+"Z";var or=St.width-bt+O;c.positionText(he,or,wn),"end"===hn&&he.selectAll("tspan").each(function(){var nn=p.select(this),si=w.tester.append("text").text(nn.text()).call(w.font,ot),pr=Z(B,si.node());Math.round(pr.width)<Math.round(St.width)&&nn.attr("x",or-pr.width),si.remove()})}else c.positionText(he,Vt*(O+re),wn),jn=null;var Cr=se._topclips.selectAll("#"+Tn).data(jn?[0]:[]);Cr.enter().append("clipPath").attr("id",Tn).append("path"),Cr.exit().remove(),Cr.select("path").attr("d",jn),w.setClipUrl(he,jn?Tn:null,B)}bn.attr("transform",y(bt,Et))}),E.isUnifiedHover(xe)){Oe.selectAll("g.hovertext").remove();var He=N.filter(function(bn){return"none"!==bn.hoverinfo});if(0===He.length)return[];var We=se.hoverlabel,Ze=We.font,Bt={font:Ze};L({showlegend:!0,legend:{title:{text:Gt,font:Ze},font:Ze,bgcolor:We.bgcolor,bordercolor:We.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:se.legend?se.legend.traceorder:void 0,orientation:"v"}},Bt,B._fullData);var Je=Bt.legend;Je.entries=[];for(var Ct=0;Ct<He.length;Ct++){var st=He[Ct];if("none"!==st.hoverinfo){var Pt=X(st,!0,xe,se,Gt),cn=Pt[0],_n=Pt[1];st.name=_n,st.text=""!==_n?_n+" : "+cn:cn;var Nn=st.cd[st.index];Nn&&(Nn.mc&&(st.mc=Nn.mc),Nn.mcc&&(st.mc=Nn.mcc),Nn.mlc&&(st.mlc=Nn.mlc),Nn.mlcc&&(st.mlc=Nn.mlcc),Nn.mlw&&(st.mlw=Nn.mlw),Nn.mrc&&(st.mrc=Nn.mrc),Nn.dir&&(st.dir=Nn.dir)),st._distinct=!0,Je.entries.push([st])}}Je.entries.sort(function(bn,ve){return bn[0].trace.index-ve[0].trace.index}),Je.layer=Oe,Je._inHover=!0,Je._groupTitleFont=We.grouptitlefont,b(B,Je);var mn,Wn,In,Fn,Vn=Oe.select("g.legend"),$n=Z(B,Vn.node()),fn=$n.width+2*O,Rn=$n.height+2*O,En=He[0],Pn=(En.x0+En.x1)/2,Zn=(En.y0+En.y1)/2,Yn=!(_.traceIs(En.trace,"bar-like")||_.traceIs(En.trace,"box-violin"));"y"===kt?Yn?(Wn=Zn-O,mn=Zn+O):(Wn=Math.min.apply(null,He.map(function(bn){return Math.min(bn.y0,bn.y1)})),mn=Math.max.apply(null,He.map(function(bn){return Math.max(bn.y0,bn.y1)}))):Wn=mn=v.mean(He.map(function(bn){return(bn.y0+bn.y1)/2}))-Rn/2,"x"===kt?Yn?(In=Pn+O,Fn=Pn-O):(In=Math.max.apply(null,He.map(function(bn){return Math.max(bn.x0,bn.x1)})),Fn=Math.min.apply(null,He.map(function(bn){return Math.min(bn.x0,bn.x1)}))):In=Fn=v.mean(He.map(function(bn){return(bn.x0+bn.x1)/2}))-fn/2;var On,hr,vr=$t._offset,ir=Ot._offset;return Fn+=vr-fn,Wn+=ir-Rn,On=(In+=vr)+fn<en&&In>=0?In:Fn+fn<en&&Fn>=0?Fn:vr+fn<en?vr:In-Pn<Pn-Fn+fn?en-fn:0,hr=(mn+=ir)+Rn<sn&&mn>=0?mn:Wn+Rn<sn&&Wn>=0?Wn:ir+Rn<sn?ir:mn-Zn<Zn-Wn+Rn?sn-Rn:0,Vn.attr("transform",y((On+=O)-1,(hr+=O)-1)),Vn}var rr=Oe.selectAll("g.hovertext").data(N,function(bn){return pe(bn)});return rr.enter().append("g").classed("hovertext",!0).each(function(){var bn=p.select(this);bn.append("rect").call(S.fill,S.addOpacity(Ee,.8)),bn.append("text").classed("name",!0),bn.append("path").style("stroke-width","1px"),bn.append("text").classed("nums",!0).call(w.font,{weight:ze,style:Ve,variant:Pe,textcase:Qe,lineposition:Ke,shadow:dt,family:ft,size:gt})}),rr.exit().remove(),rr.each(function(bn){var ve=p.select(this).attr("transform",""),he=bn.color;Array.isArray(he)&&(he=he[bn.eventData[0].pointNumber]);var ut=bn.bgcolor||he,mt=S.combine(S.opacity(ut)?ut:S.defaultLine,Ee),at=S.combine(S.opacity(he)?he:S.defaultLine,Ee),it=bn.borderColor||S.contrast(mt),ot=X(bn,pt,xe,se,Gt,ve),St=ot[0],bt=ot[1],Et=ve.select("text.nums").call(w.font,{family:bn.fontFamily||ft,size:bn.fontSize||gt,color:bn.fontColor||it,weight:bn.fontWeight||ze,style:bn.fontStyle||Ve,variant:bn.fontVariant||Pe,textcase:bn.fontTextcase||Qe,lineposition:bn.fontLineposition||Ke,shadow:bn.fontShadow||dt}).text(St).attr("data-notex",1).call(c.positionText,0,0).call(c.convertToTspans,B),Nt=ve.select("text.name"),It=0,qt=0;if(bt&&bt!==St){Nt.call(w.font,{family:bn.fontFamily||ft,size:bn.fontSize||gt,color:at,weight:bn.fontWeight||ze,style:bn.fontStyle||Ve,variant:bn.fontVariant||Pe,textcase:bn.fontTextcase||Qe,lineposition:bn.fontLineposition||Ke,shadow:bn.fontShadow||dt}).text(bt).attr("data-notex",1).call(c.positionText,0,0).call(c.convertToTspans,B);var hn=Z(B,Nt.node());It=hn.width+2*O,qt=hn.height+2*O}else Nt.remove(),ve.select("rect").remove();ve.select("path").style({fill:mt,stroke:it});var Vt=bn.xa._offset+(bn.x0+bn.x1)/2,Mn=bn.ya._offset+(bn.y0+bn.y1)/2,Wt=Math.abs(bn.x1-bn.x0),wn=Math.abs(bn.y1-bn.y0),Tn=Z(B,Et.node()),jn=Tn.width/se._invScaleX,or=Tn.height/se._invScaleY;bn.ty0=(Jt-Tn.top)/se._invScaleY,bn.bx=jn+2*O,bn.by=Math.max(or+2*O,qt),bn.anchor="start",bn.txwidth=jn,bn.tx2width=It,bn.offset=0;var nn,si,Cr=(jn+re+O+It)*se._invScaleX;if(Te)bn.pos=Vt,nn=Mn+wn/2+Cr<=sn,si=Mn-wn/2-Cr>=0,"top"!==bn.idealAlign&&nn||!si?nn?(Mn+=wn/2,bn.anchor="start"):bn.anchor="middle":(Mn-=wn/2,bn.anchor="end"),bn.crossPos=Mn;else{if(bn.pos=Mn,nn=Vt+Wt/2+Cr<=en,si=Vt-Wt/2-Cr>=0,"left"!==bn.idealAlign&&nn||!si)if(nn)Vt+=Wt/2,bn.anchor="start";else{bn.anchor="middle";var pr=Cr/2,$r=Vt+pr-en,na=Vt-pr;$r>0&&(Vt-=$r),na<0&&(Vt+=-na)}else Vt-=Wt/2,bn.anchor="end";bn.crossPos=Vt}Et.attr("text-anchor",bn.anchor),It&&Nt.attr("text-anchor",bn.anchor),ve.attr("transform",y(Vt,Mn)+(Te?g(P):""))}),{hoverLabels:rr,commonLabelBoundingBox:_e}}function X(N,ee,B,se,xe,Te){var Ee="",Oe="";void 0!==N.nameOverride&&(N.name=N.nameOverride),N.name&&(N.trace._meta&&(N.name=v.templateString(N.name,N.trace._meta)),Ee=Se(N.name,N.nameLength));var $e=B.charAt(0);void 0!==N.zLabel?(void 0!==N.xLabel&&(Oe+="x: "+N.xLabel+"<br>"),void 0!==N.yLabel&&(Oe+="y: "+N.yLabel+"<br>"),"choropleth"!==N.trace.type&&"choroplethmapbox"!==N.trace.type&&(Oe+=(Oe?"z: ":"")+N.zLabel)):ee&&N[$e+"Label"]===xe?Oe=N[("x"===$e?"y":"x")+"Label"]||"":void 0===N.xLabel?void 0!==N.yLabel&&"scattercarpet"!==N.trace.type&&(Oe=N.yLabel):Oe=void 0===N.yLabel?N.xLabel:"("+N.xLabel+", "+N.yLabel+")",(N.text||0===N.text)&&!Array.isArray(N.text)&&(Oe+=(Oe?"<br>":"")+N.text),void 0!==N.extraText&&(Oe+=(Oe?"<br>":"")+N.extraText),Te&&""===Oe&&!N.hovertemplate&&(""===Ee&&Te.remove(),Oe=Ee);var ft=N.hovertemplate||!1;if(ft){var gt=N.hovertemplateLabels||N;N[$e+"Label"]!==xe&&(gt[$e+"other"]=gt[$e+"Val"],gt[$e+"otherLabel"]=gt[$e+"Label"]),Oe=(Oe=v.hovertemplateString(ft,gt,se._d3locale,N.eventData[0]||{},N.trace._meta)).replace(W,function(ze,Ve){return Ee=Se(Ve,N.nameLength),""})}return[Oe,Ee]}function ue(N,ee){var B=0,se=N.offset;return ee&&(se*=-J,B=N.offset*$),{x:B,y:se}}function ge(N,ee,B,se){var xe=function(Ee){return Ee*B},Te=function(Ee){return Ee*se};N.each(function(Ee){var Oe=p.select(this);if(Ee.del)return Oe.remove();var $e=Oe.select("text.nums"),ct=Ee.anchor,ft="end"===ct?-1:1,gt=function ce(N){var ee={start:1,end:-1,middle:0}[N.anchor],B=ee*(re+O),se=B+ee*(N.txwidth+O);return"middle"===N.anchor&&(B-=N.tx2width/2,se+=N.txwidth/2+O),{alignShift:ee,textShiftX:B,text2ShiftX:se}}(Ee),ze=ue(Ee,ee),Ve=ze.x,Pe=ze.y,Qe="middle"===ct;Oe.select("path").attr("d",Qe?"M-"+xe(Ee.bx/2+Ee.tx2width/2)+","+Te(Pe-Ee.by/2)+"h"+xe(Ee.bx)+"v"+Te(Ee.by)+"h-"+xe(Ee.bx)+"Z":"M0,0L"+xe(ft*re+Ve)+","+Te(re+Pe)+"v"+Te(Ee.by/2-re)+"h"+xe(ft*Ee.bx)+"v-"+Te(Ee.by)+"H"+xe(ft*re+Ve)+"V"+Te(Pe-re)+"Z");var Ke=Ve+gt.textShiftX,dt=Pe+Ee.ty0-Ee.by/2+O,Dt=Ee.textAlign||"auto";"auto"!==Dt&&("left"===Dt&&"start"!==ct?($e.attr("text-anchor","start"),Ke=Qe?-Ee.bx/2-Ee.tx2width/2+O:-Ee.bx-O):"right"===Dt&&"end"!==ct&&($e.attr("text-anchor","end"),Ke=Qe?Ee.bx/2-Ee.tx2width/2-O:Ee.bx+O)),$e.call(c.positionText,xe(Ke),Te(dt)),Ee.tx2width&&(Oe.select("text.name").call(c.positionText,xe(gt.text2ShiftX+gt.alignShift*O+Ve),Te(Pe+Ee.ty0-Ee.by/2+O)),Oe.select("rect").call(w.setRect,xe(gt.text2ShiftX+(gt.alignShift-1)*Ee.tx2width/2+Ve),Te(Pe-Ee.by/2-1),xe(Ee.tx2width),Te(Ee.by+2)))})}function De(N,ee){var B=N.index,se=N.trace||{},xe=N.cd[0],Te=N.cd[B]||{};function Ee(ze){return ze||T(ze)&&0===ze}var Oe=Array.isArray(B)?function(ze,Ve){var Pe=v.castOption(xe,B,ze);return Ee(Pe)?Pe:v.extractOption({},se,"",Ve)}:function(ze,Ve){return v.extractOption(Te,se,ze,Ve)};function $e(ze,Ve,Pe){var Qe=Oe(Ve,Pe);Ee(Qe)&&(N[ze]=Qe)}if($e("hoverinfo","hi","hoverinfo"),$e("bgcolor","hbg","hoverlabel.bgcolor"),$e("borderColor","hbc","hoverlabel.bordercolor"),$e("fontFamily","htf","hoverlabel.font.family"),$e("fontSize","hts","hoverlabel.font.size"),$e("fontColor","htc","hoverlabel.font.color"),$e("fontWeight","htw","hoverlabel.font.weight"),$e("fontStyle","hty","hoverlabel.font.style"),$e("fontVariant","htv","hoverlabel.font.variant"),$e("nameLength","hnl","hoverlabel.namelength"),$e("textAlign","hta","hoverlabel.align"),N.posref="y"===ee||"closest"===ee&&"h"===se.orientation?N.xa._offset+(N.x0+N.x1)/2:N.ya._offset+(N.y0+N.y1)/2,N.x0=v.constrain(N.x0,0,N.xa._length),N.x1=v.constrain(N.x1,0,N.xa._length),N.y0=v.constrain(N.y0,0,N.ya._length),N.y1=v.constrain(N.y1,0,N.ya._length),void 0!==N.xLabelVal&&(N.xLabel="xLabel"in N?N.xLabel:A.hoverLabelText(N.xa,N.xLabelVal,se.xhoverformat),N.xVal=N.xa.c2d(N.xLabelVal)),void 0!==N.yLabelVal&&(N.yLabel="yLabel"in N?N.yLabel:A.hoverLabelText(N.ya,N.yLabelVal,se.yhoverformat),N.yVal=N.ya.c2d(N.yLabelVal)),void 0!==N.zLabelVal&&void 0===N.zLabel&&(N.zLabel=String(N.zLabelVal)),!(isNaN(N.xerr)||"log"===N.xa.type&&N.xerr<=0)){var ct=A.tickText(N.xa,N.xa.c2l(N.xerr),"hover").text;N.xLabel+=void 0!==N.xerrneg?" +"+ct+" / -"+A.tickText(N.xa,N.xa.c2l(N.xerrneg),"hover").text:" \xb1 "+ct,"x"===ee&&(N.distance+=1)}if(!(isNaN(N.yerr)||"log"===N.ya.type&&N.yerr<=0)){var ft=A.tickText(N.ya,N.ya.c2l(N.yerr),"hover").text;N.yLabel+=void 0!==N.yerrneg?" +"+ft+" / -"+A.tickText(N.ya,N.ya.c2l(N.yerrneg),"hover").text:" \xb1 "+ft,"y"===ee&&(N.distance+=1)}var gt=N.hoverinfo||N.trace.hoverinfo;return gt&&"all"!==gt&&(-1===(gt=Array.isArray(gt)?gt:gt.split("+")).indexOf("x")&&(N.xLabel=void 0),-1===gt.indexOf("y")&&(N.yLabel=void 0),-1===gt.indexOf("z")&&(N.zLabel=void 0),-1===gt.indexOf("text")&&(N.text=void 0),-1===gt.indexOf("name")&&(N.name=void 0)),N}function Ne(N,ee,B){var ct,ft,se=B.container,xe=B.fullLayout,Te=xe._size,Ee=B.event,Oe=!!ee.hLinePoint,$e=!!ee.vLinePoint;if(se.selectAll(".spikeline").remove(),$e||Oe){var gt=S.combine(xe.plot_bgcolor,xe.paper_bgcolor);if(Oe){var Ve,Pe,ze=ee.hLinePoint;ct=ze&&ze.xa,"cursor"===(ft=ze&&ze.ya).spikesnap?(Ve=Ee.pointerX,Pe=Ee.pointerY):(Ve=ct._offset+ze.x,Pe=ft._offset+ze.y);var kt,At,Ke=h.readability(ze.color,gt)<1.5?S.contrast(gt):ze.color,dt=ft.spikemode,Dt=ft.spikethickness,$t=ft.spikecolor||Ke,Ot=A.getPxPosition(N,ft);if(-1!==dt.indexOf("toaxis")||-1!==dt.indexOf("across")){if(-1!==dt.indexOf("toaxis")&&(kt=Ot,At=Ve),-1!==dt.indexOf("across")){var Gt=ft._counterDomainMin,Lt=ft._counterDomainMax;"free"===ft.anchor&&(Gt=Math.min(Gt,ft.position),Lt=Math.max(Lt,ft.position)),kt=Te.l+Gt*Te.w,At=Te.l+Lt*Te.w}se.insert("line",":first-child").attr({x1:kt,x2:At,y1:Pe,y2:Pe,"stroke-width":Dt,stroke:$t,"stroke-dasharray":w.dashStyle(ft.spikedash,Dt)}).classed("spikeline",!0).classed("crisp",!0),se.insert("line",":first-child").attr({x1:kt,x2:At,y1:Pe,y2:Pe,"stroke-width":Dt+2,stroke:gt}).classed("spikeline",!0).classed("crisp",!0)}-1!==dt.indexOf("marker")&&se.insert("circle",":first-child").attr({cx:Ot+("right"!==ft.side?Dt:-Dt),cy:Pe,r:Dt,fill:$t}).classed("spikeline",!0)}if($e){var Jt,en,Qt=ee.vLinePoint;ft=Qt&&Qt.ya,"cursor"===(ct=Qt&&Qt.xa).spikesnap?(Jt=Ee.pointerX,en=Ee.pointerY):(Jt=ct._offset+Qt.x,en=ft._offset+Qt.y);var Me,_e,pt=h.readability(Qt.color,gt)<1.5?S.contrast(gt):Qt.color,xt=ct.spikemode,yt=ct.spikethickness,ke=ct.spikecolor||pt,Xe=A.getPxPosition(N,ct);if(-1!==xt.indexOf("toaxis")||-1!==xt.indexOf("across")){if(-1!==xt.indexOf("toaxis")&&(Me=Xe,_e=en),-1!==xt.indexOf("across")){var He=ct._counterDomainMin,We=ct._counterDomainMax;"free"===ct.anchor&&(He=Math.min(He,ct.position),We=Math.max(We,ct.position)),Me=Te.t+(1-We)*Te.h,_e=Te.t+(1-He)*Te.h}se.insert("line",":first-child").attr({x1:Jt,x2:Jt,y1:Me,y2:_e,"stroke-width":yt,stroke:ke,"stroke-dasharray":w.dashStyle(ct.spikedash,yt)}).classed("spikeline",!0).classed("crisp",!0),se.insert("line",":first-child").attr({x1:Jt,x2:Jt,y1:Me,y2:_e,"stroke-width":yt+2,stroke:gt}).classed("spikeline",!0).classed("crisp",!0)}-1!==xt.indexOf("marker")&&se.insert("circle",":first-child").attr({cx:Jt,cy:Xe-("top"!==ct.side?yt:-yt),r:yt,fill:ke}).classed("spikeline",!0)}}}function Fe(N,ee){return!ee||ee.vLinePoint!==N._spikepoints.vLinePoint||ee.hLinePoint!==N._spikepoints.hLinePoint}function Se(N,ee){return c.plainText(N||"",{len:ee,allowedTags:["br","sub","sup","b","i","em","s","u"]})}function H(N,ee,B){var se=ee[N+"a"],xe=ee[N+"Val"],Te=ee.cd[0];if("category"===se.type||"multicategory"===se.type)xe=se._categoriesMap[xe];else if("date"===se.type){var Ee=ee.trace[N+"periodalignment"];if(Ee){var Oe=ee.cd[ee.index],$e=Oe[N+"Start"];void 0===$e&&($e=Oe[N]);var ct=Oe[N+"End"];void 0===ct&&(ct=Oe[N]);var ft=ct-$e;"end"===Ee?xe+=ft:"middle"===Ee&&(xe+=ft/2)}xe=se.d2c(xe)}return Te&&Te.t&&Te.t.posLetter===se._id&&("group"===B.boxmode||"group"===B.violinmode)&&(xe+=Te.t.dPos),xe}function Y(N){return N.offsetTop+N.clientTop}function te(N){return N.offsetLeft+N.clientLeft}function Z(N,ee){var B=N._fullLayout,se=ee.getBoundingClientRect(),xe=se.left,Te=se.top,Ee=xe+se.width,Oe=Te+se.height,$e=v.apply3DTransform(B._invTransform)(xe,Te),ct=v.apply3DTransform(B._invTransform)(Ee,Oe),ft=$e[0],gt=$e[1],ze=ct[0],Ve=ct[1];return{x:ft,y:gt,width:ze-ft,height:Ve-gt,top:Math.min(gt,Ve),left:Math.min(ft,ze),right:Math.max(ft,ze),bottom:Math.max(gt,Ve)}}},6132:function(Ce,j,o){"use strict";var p=o(3400),T=o(6308),h=o(624).isUnifiedHover;Ce.exports=function(d,y,g,m){m=m||{};var c=y.legend;function C(w){m.font[w]||(m.font[w]=c?y.legend.font[w]:y.font[w])}y&&h(y.hovermode)&&(m.font||(m.font={}),C("size"),C("family"),C("color"),C("weight"),C("style"),C("variant"),c?(m.bgcolor||(m.bgcolor=T.combine(y.legend.bgcolor,y.paper_bgcolor)),m.bordercolor||(m.bordercolor=y.legend.bordercolor)):m.bgcolor||(m.bgcolor=y.paper_bgcolor)),g("hoverlabel.bgcolor",m.bgcolor),g("hoverlabel.bordercolor",m.bordercolor),g("hoverlabel.namelength",m.namelength),p.coerceFont(g,"hoverlabel.font",m.font),g("hoverlabel.align",m.align)}},1008:function(Ce,j,o){"use strict";var p=o(3400),T=o(5460);Ce.exports=function(v,d){function y(g,m){return void 0!==d[g]?d[g]:p.coerce(v,d,T,g,m)}return y("clickmode"),y("hoversubplots"),y("hovermode")}},3024:function(Ce,j,o){"use strict";var p=o(3428),T=o(3400),h=o(6476),v=o(624),d=o(5460),y=o(3292);Ce.exports={moduleType:"component",name:"fx",constants:o(2456),schema:{layout:d},attributes:o(5756),layoutAttributes:d,supplyLayoutGlobalDefaults:o(1976),supplyDefaults:o(5448),supplyLayoutDefaults:o(8336),calc:o(5056),getDistanceFunction:v.getDistanceFunction,getClosest:v.getClosest,inbox:v.inbox,quadrature:v.quadrature,appendArrayPointValue:v.appendArrayPointValue,castHoverOption:function m(C,w,S){return T.castOption(C,w,"hoverlabel."+S)},castHoverinfo:function c(C,w,S){return T.castOption(C,S,"hoverinfo",function z(A){return T.coerceHoverinfo({hoverinfo:A},{_module:C._module},w)})},hover:y.hover,unhover:h.unhover,loneHover:y.loneHover,loneUnhover:function g(C){var w=T.isD3Selection(C)?C:p.select(C);w.selectAll("g.hovertext").remove(),w.selectAll(".spikeline").remove()},click:o(2376)}},5460:function(Ce,j,o){"use strict";var p=o(2456),T=o(5376),h=T({editType:"none"});h.family.dflt=p.HOVERFONT,h.size.dflt=p.HOVERFONTSIZE,Ce.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:h,grouptitlefont:T({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},8336:function(Ce,j,o){"use strict";var p=o(3400),T=o(5460),h=o(1008),v=o(6132);Ce.exports=function(y,g){function m(A,D){return p.coerce(y,g,T,A,D)}h(y,g)&&(m("hoverdistance"),m("spikedistance")),"select"===m("dragmode")&&m("selectdirection");var w=g._has("mapbox"),S=g._has("geo"),z=g._basePlotModules.length;"zoom"===g.dragmode&&((w||S)&&1===z||w&&S&&2===z)&&(g.dragmode="pan"),v(y,g,m),p.coerceFont(m,"hoverlabel.grouptitlefont",g.hoverlabel.font)}},1976:function(Ce,j,o){"use strict";var p=o(3400),T=o(6132),h=o(5460);Ce.exports=function(d,y){T(d,y,function g(m,c){return p.coerce(d,y,h,m,c)})}},2704:function(Ce,j,o){"use strict";var p=o(3400),T=o(3756).counter,h=o(6968).u,v=o(3816).idRegex,d=o(1780),y={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[T("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[v.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[v.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:h({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function g(S,z,A){var D=z[A+"axes"],_=Object.keys((S._splomAxes||{})[A]||{});return Array.isArray(D)?D:_.length?_:void 0}function c(S,z,A,D,_,E){var M=z(S+"gap",A),L=z("domain."+S);z(S+"side",D);for(var b=new Array(_),P=L[0],I=(L[1]-P)/(_-M),G=I*(1-M),$=0;$<_;$++){var J=P+I*$;b[E?_-1-$:$]=[J,J+G]}return b}function w(S,z,A,D,_){var M,E=new Array(A);function L(b,P){-1!==z.indexOf(P)&&void 0===D[P]?(E[b]=P,D[P]=b):E[b]=""}if(Array.isArray(S))for(M=0;M<A;M++)L(M,S[M]);else for(L(0,_),M=1;M<A;M++)L(M,_+(M+1));return E}Ce.exports={moduleType:"component",name:"grid",schema:{layout:{grid:y}},layoutAttributes:y,sizeDefaults:function m(S,z){var A=S.grid||{},D=g(z,A,"x"),_=g(z,A,"y");if(S.grid||D||_){var P,I,E=Array.isArray(A.subplots)&&Array.isArray(A.subplots[0]),M=Array.isArray(D),L=Array.isArray(_),b=M&&D!==A.xaxes&&L&&_!==A.yaxes;E?(P=A.subplots.length,I=A.subplots[0].length):(L&&(P=_.length),M&&(I=D.length));var G=d.newContainer(z,"grid"),J=$("rows",P),re=$("columns",I);if(J*re>1){E||M||L||"independent"===$("pattern")&&(E=!0),G._hasSubplotGrid=E;var pe,W,U="top to bottom"===$("roworder"),le=E?.3:.1;b&&z._splomGridDflt&&(pe=z._splomGridDflt.xside,W=z._splomGridDflt.yside),G._domains={x:c("x",$,E?.2:.1,pe,re),y:c("y",$,le,W,J,U)}}else delete z.grid}function $(K,X){return p.coerce(A,G,y,K,X)}},contentDefaults:function C(S,z){var A=z.grid;if(A&&A._domains){var P,I,G,$,J,re,O,D=S.grid||{},_=z._subplots,E=A._hasSubplotGrid,M=A.rows,L=A.columns,b="independent"===A.pattern,Q=A._axisMap={};if(E){var U=D.subplots||[];re=A.subplots=new Array(M);var ne=1;for(P=0;P<M;P++){var le=re[P]=new Array(L),pe=U[P]||[];for(I=0;I<L;I++)if(b?(J=1===ne?"xy":"x"+ne+"y"+ne,ne++):J=pe[I],le[I]="",-1!==_.cartesian.indexOf(J)){if(O=J.indexOf("y"),G=J.slice(0,O),$=J.slice(O),void 0!==Q[G]&&Q[G]!==I||void 0!==Q[$]&&Q[$]!==P)continue;le[I]=J,Q[G]=I,Q[$]=P}}}else{var W=g(z,D,"x"),K=g(z,D,"y");A.xaxes=w(W,_.xaxis,L,Q,"x"),A.yaxes=w(K,_.yaxis,M,Q,"y")}var X=A._anchors={},ie="top to bottom"===A.roworder;for(var ue in Q){var De,Ne,Be,ce=ue.charAt(0),ge=A[ce+"side"];if(ge.length<8)X[ue]="free";else if("x"===ce){if("t"===ge.charAt(0)===ie?(De=0,Ne=1,Be=M):(De=M-1,Ne=-1,Be=-1),E){var Fe=Q[ue];for(P=De;P!==Be;P+=Ne)if((J=re[P][Fe])&&(O=J.indexOf("y"),J.slice(0,O)===ue)){X[ue]=J.slice(O);break}}else for(P=De;P!==Be;P+=Ne)if(-1!==_.cartesian.indexOf(ue+($=A.yaxes[P]))){X[ue]=$;break}}else if("l"===ge.charAt(0)?(De=0,Ne=1,Be=L):(De=L-1,Ne=-1,Be=-1),E){var Se=Q[ue];for(P=De;P!==Be;P+=Ne)if((J=re[Se][P])&&(O=J.indexOf("y"),J.slice(O)===ue)){X[ue]=J.slice(0,O);break}}else for(P=De;P!==Be;P+=Ne)if(-1!==_.cartesian.indexOf((G=A.xaxes[P])+ue)){X[ue]=G;break}}}}}},5760:function(Ce,j,o){"use strict";var p=o(3816),T=o(1780).templatedArray;o(6208),Ce.exports=T("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",p.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",p.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},3556:function(Ce,j,o){"use strict";var p=o(8248),T=o(6896);Ce.exports=function(v,d,y,g){d=d||{};var m="log"===y&&"linear"===d.type;if(m||"linear"===y&&"log"===d.type)for(var S,z,C=v._fullLayout.images,w=d._id.charAt(0),A=0;A<C.length;A++)if(z="images["+A+"].",(S=C[A])[w+"ref"]===d._id){var D=S[w],_=S["size"+w],E=null,M=null;if(m){E=T(D,d.range);var L=_/Math.pow(10,E)/2;M=2*Math.log(L+Math.sqrt(1+L*L))/Math.LN10}else M=(E=Math.pow(10,D))*(Math.pow(10,_/2)-Math.pow(10,-_/2));p(E)?p(M)||(M=null):(E=null,M=null),g(z+w,E),g(z+"size"+w,M)}}},7404:function(Ce,j,o){"use strict";var p=o(3400),T=o(4460),h=o(1272),v=o(5760);function y(g,m,c){function C(L,b){return p.coerce(g,m,v,L,b)}var w=C("source");if(!C("visible",!!w))return m;C("layer"),C("xanchor"),C("yanchor"),C("sizex"),C("sizey"),C("sizing"),C("opacity");for(var z={_fullLayout:c},A=["x","y"],D=0;D<2;D++){var _=A[D],E=T.coerceRef(g,m,z,_,"paper",void 0);"paper"!==E&&T.getFromId(z,E)._imgIndices.push(m._index),T.coercePosition(m,z,C,E,_,0)}return m}Ce.exports=function(m,c){h(m,c,{name:"images",handleItemDefaults:y})}},963:function(Ce,j,o){"use strict";var p=o(3428),T=o(3616),h=o(4460),v=o(9811),d=o(9616);Ce.exports=function(g){var S,z,m=g._fullLayout,c=[],C={},w=[];for(z=0;z<m.images.length;z++){var A=m.images[z];if(A.visible)if("below"===A.layer&&"paper"!==A.xref&&"paper"!==A.yref){S=v.ref2id(A.xref)+v.ref2id(A.yref);var D=m._plots[S];if(!D){w.push(A);continue}D.mainplot&&(S=D.mainplot.id),C[S]||(C[S]=[]),C[S].push(A)}else"above"===A.layer?c.push(A):w.push(A)}var __x={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},__y={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function E($){var J=p.select(this);if(this._imgSrc!==$.source)if(J.attr("xmlns",d.svg),$.source&&"data:"===$.source.slice(0,5))J.attr("xlink:href",$.source),this._imgSrc=$.source;else{var re=new Promise(function(O){var Q=new Image;function U(){J.remove(),O()}this.img=Q,Q.setAttribute("crossOrigin","anonymous"),Q.onerror=U,Q.onload=function(){var ne=document.createElement("canvas");ne.width=this.width,ne.height=this.height,ne.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var pe=ne.toDataURL("image/png");J.attr("xlink:href",pe),O()},J.on("error",U),Q.src=$.source,this._imgSrc=$.source}.bind(this));g._promises.push(re)}}function M($){var le,pe,J=p.select(this),re=h.getFromId(g,$.xref),O=h.getFromId(g,$.yref),Q="domain"===h.getRefType($.xref),U="domain"===h.getRefType($.yref),ne=m._size;le=void 0!==re?"string"==typeof $.xref&&Q?re._length*$.sizex:Math.abs(re.l2p($.sizex)-re.l2p(0)):$.sizex*ne.w,pe=void 0!==O?"string"==typeof $.yref&&U?O._length*$.sizey:Math.abs(O.l2p($.sizey)-O.l2p(0)):$.sizey*ne.h;var ie,ue,W=le*__x[$.xanchor].offset,K=pe*__y[$.yanchor].offset,X=__x[$.xanchor].sizing+__y[$.yanchor].sizing;switch(ie=void 0!==re?"string"==typeof $.xref&&Q?re._length*$.x+re._offset:re.r2p($.x)+re._offset:$.x*ne.w+ne.l,ie+=W,ue=void 0!==O?"string"==typeof $.yref&&U?O._length*(1-$.y)+O._offset:O.r2p($.y)+O._offset:ne.h-$.y*ne.h+ne.t,ue+=K,$.sizing){case"fill":X+=" slice";break;case"stretch":X="none"}J.attr({x:ie,y:ue,width:le,height:pe,preserveAspectRatio:X,opacity:$.opacity});var De=(re&&"domain"!==h.getRefType($.xref)?re._id:"")+(O&&"domain"!==h.getRefType($.yref)?O._id:"");T.setClipUrl(J,De?"clip"+m._uid+De:null,g)}var L=m._imageLowerLayer.selectAll("image").data(w),b=m._imageUpperLayer.selectAll("image").data(c);L.enter().append("image"),b.enter().append("image"),L.exit().remove(),b.exit().remove(),L.each(function($){E.bind(this)($),M.bind(this)($)}),b.each(function($){E.bind(this)($),M.bind(this)($)});var P=Object.keys(m._plots);for(z=0;z<P.length;z++){var I=m._plots[S=P[z]];if(I.imagelayer){var G=I.imagelayer.selectAll("image").data(C[S]||[]);G.enter().append("image"),G.exit().remove(),G.each(function($){E.bind(this)($),M.bind(this)($)})}}}},7402:function(Ce,j,o){"use strict";Ce.exports={moduleType:"component",name:"images",layoutAttributes:o(5760),supplyLayoutDefaults:o(7404),includeBasePlot:o(6632)("images"),draw:o(963),convertCoords:o(3556)}},3800:function(Ce,j,o){"use strict";var p=o(5376),T=o(2548);Ce.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:T.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:p({editType:"legend"}),grouptitlefont:p({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:p({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},5196:function(Ce){"use strict";Ce.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},7864:function(Ce,j,o){"use strict";var p=o(4040),T=o(3400),h=o(1780),v=o(5464),d=o(3800),y=o(4859),g=o(2451);function m(c,C,w,S){var z=C[c]||{},A=h.newContainer(w,c);function D(Be,Fe){return T.coerce(z,A,d,Be,Fe)}var _=T.coerceFont(D,"font",w.font);if(D("bgcolor",w.paper_bgcolor),D("bordercolor"),D("visible")){for(var M,L=function(Be,Fe){return T.coerce(M._input,M,v,Be,Fe)},b=w.font||{},P=T.coerceFont(D,"grouptitlefont",b,{overrideDflt:{size:Math.round(1.1*b.size)}}),I=0,G=!1,$="normal",J=(w.shapes||[]).filter(function(Be){return Be.showlegend}),re=S.concat(J).filter(function(Be){return c===(Be.legend||"legend")}),O=0;O<re.length;O++)if((M=re[O]).visible){var Q=M._isShape;(M.showlegend||M._dfltShowLegend&&!(M._module&&M._module.attributes&&M._module.attributes.showlegend&&!1===M._module.attributes.showlegend.dflt))&&(I++,M.showlegend&&(G=!0,(!Q&&p.traceIs(M,"pie-like")||!0===M._input.showlegend)&&I++),T.coerceFont(L,"legendgrouptitle.font",P)),(!Q&&p.traceIs(M,"bar")&&"stack"===w.barmode||-1!==["tonextx","tonexty"].indexOf(M.fill))&&($=g.isGrouped({traceorder:$})?"grouped+reversed":"reversed"),void 0!==M.legendgroup&&""!==M.legendgroup&&($=g.isReversed({traceorder:$})?"reversed+grouped":"grouped")}var U=T.coerce(C,w,y,"showlegend",G&&I>("legend"===c?1:0));if(!1===U&&(w[c]=void 0),(!1!==U||z.uirevision)&&(D("uirevision",w.uirevision),!1!==U)){D("borderwidth");var ie,ue,ce,W="h"===D("orientation"),K="paper"===D("yref"),X="paper"===D("xref"),ge="left";if(W?(ie=0,p.getComponentMethod("rangeslider","isVisible")(C.xaxis)?K?(ue=1.1,ce="bottom"):(ue=1,ce="top"):K?(ue=-.1,ce="top"):(ue=0,ce="bottom")):(ue=1,ce="auto",X?ie=1.02:(ie=1,ge="right")),T.coerce(z,A,{x:{valType:"number",editType:"legend",min:X?-2:0,max:X?3:1,dflt:ie}},"x"),T.coerce(z,A,{y:{valType:"number",editType:"legend",min:K?-2:0,max:K?3:1,dflt:ue}},"y"),D("traceorder",$),g.isGrouped(w[c])&&D("tracegroupgap"),D("entrywidth"),D("entrywidthmode"),D("indentation"),D("itemsizing"),D("itemwidth"),D("itemclick"),D("itemdoubleclick"),D("groupclick"),D("xanchor",ge),D("yanchor",ce),D("valign"),T.noneOrAll(z,A,["x","y"]),D("title.text")){D("title.side",W?"left":"top");var Ne=T.extendFlat({},_,{size:T.bigFont(_.size)});T.coerceFont(D,"title.font",Ne)}}}}Ce.exports=function(C,w,S){var z,A=S.slice(),D=w.shapes;if(D)for(z=0;z<D.length;z++){var _=D[z];_.showlegend&&A.push({_input:_._input,visible:_.visible,showlegend:_.showlegend,legend:_.legend})}var M=["legend"];for(z=0;z<A.length;z++)T.pushUnique(M,A[z].legend);for(w._legends=[],z=0;z<M.length;z++){var L=M[z];m(L,C,w,A),w[L]&&w[L].visible&&(w[L]._id=L),w._legends.push(L)}}},1140:function(Ce,j,o){"use strict";var p=o(3428),T=o(3400),h=o(7316),v=o(4040),d=o(5924),y=o(6476),g=o(3616),m=o(6308),c=o(2736),C=o(3048),w=o(5196),S=o(4284),z=S.LINE_SPACING,A=S.FROM_TL,D=S.FROM_BR,_=o(3076),E=o(2012),M=o(2451),L=1,b=/^legend[0-9]*$/;function I(ie,ue){var Ne,Be,ce=ue||{},ge=ie._fullLayout,De=X(ce),Fe=ce._inHover;if(Fe?(Be=ce.layer,Ne="hover"):(Be=ge._infolayer,Ne=De),Be){var Se;if(Ne+=ge._uid,ie._legendMouseDownTime||(ie._legendMouseDownTime=0),Fe){if(!ce.entries)return;Se=_(ce.entries,ce)}else{for(var ye=(ie.calcdata||[]).slice(),H=ge.shapes,Y=0;Y<H.length;Y++){var te=H[Y];te.showlegend&&ye.push([{trace:{_isShape:!0,_fullInput:te,index:te._index,name:te.name||te.label.text||"shape "+te._index,legend:te.legend,legendgroup:te.legendgroup,legendgrouptitle:te.legendgrouptitle,legendrank:te.legendrank,legendwidth:te.legendwidth,showlegend:te.showlegend,visible:te.visible,opacity:te.opacity,mode:"line"===te.type?"lines":"markers",line:te.line,marker:{line:te.line,color:te.fillcolor,size:12,symbol:"rect"===te.type?"square":"circle"===te.type?"circle":"hexagon2"}}}])}Se=ge.showlegend&&_(ye,ce,ge._legends.length>1)}var N=ge.hiddenlabels||[];if(!(Fe||ge.showlegend&&Se.length))return Be.selectAll("."+De).remove(),ge._topdefs.select("#"+Ne).remove(),h.autoMargin(ie,De);var ee=T.ensureSingle(Be,"g",De,function(ft){Fe||ft.attr("pointer-events","all")}),B=T.ensureSingleById(ge._topdefs,"clipPath",Ne,function(ft){ft.append("rect")}),se=T.ensureSingle(ee,"rect","bg",function(ft){ft.attr("shape-rendering","crispEdges")});se.call(m.stroke,ce.bordercolor).call(m.fill,ce.bgcolor).style("stroke-width",ce.borderwidth+"px");var Ee,xe=T.ensureSingle(ee,"g","scrollbox"),Te=ce.title;ce._titleWidth=0,ce._titleHeight=0,Te.text?((Ee=T.ensureSingle(xe,"text",De+"titletext")).attr("text-anchor","start").call(g.font,Te.font).text(Te.text),Q(Ee,xe,ie,ce,L)):xe.selectAll("."+De+"titletext").remove();var Oe=T.ensureSingle(ee,"rect","scrollbar",function(ft){ft.attr(w.scrollBarEnterAttrs).call(m.fill,w.scrollBarColor)}),$e=xe.selectAll("g.groups").data(Se);$e.enter().append("g").attr("class","groups"),$e.exit().remove();var ct=$e.selectAll("g.traces").data(T.identity);ct.enter().append("g").attr("class","traces"),ct.exit().remove(),ct.style("opacity",function(ft){var gt=ft[0].trace;return v.traceIs(gt,"pie-like")?-1!==N.indexOf(ft[0].label)?.5:1:"legendonly"===gt.visible?.5:1}).each(function(){p.select(this).call(J,ie,ce)}).call(E,ie,ce).each(function(){Fe||p.select(this).call(O,ie,De)}),T.syncOrAsync([h.previousPromises,function(){return function le(ie,ue,ce,ge){var De=ie._fullLayout,Ne=X(ge);ge||(ge=De[Ne]);var Be=De._size,Fe=M.isVertical(ge),Se=M.isGrouped(ge),ye="fraction"===ge.entrywidthmode,H=ge.borderwidth,Y=2*H,te=w.itemGap,Z=ge.indentation+ge.itemwidth+2*te,N=2*(H+te),ee=K(ge),B=ge.y<0||0===ge.y&&"top"===ee,se=ge.y>1||1===ge.y&&"bottom"===ee,xe=ge.tracegroupgap,Te={};ge._maxHeight=Math.max(B||se?De.height/2:Be.h,30);var Ee=0;ge._width=0,ge._height=0;var Oe=function ne(ie){var ue=0,ce=0,ge=ie.title.side;return ge&&(-1!==ge.indexOf("left")&&(ue=ie._titleWidth),-1!==ge.indexOf("top")&&(ce=ie._titleHeight)),[ue,ce]}(ge);if(Fe)ce.each(function(en){var sn=en[0].height;g.setTranslate(this,H+Oe[0],H+Oe[1]+ge._height+sn/2+te),ge._height+=sn,ge._width=Math.max(ge._width,en[0].width)}),Ee=Z+ge._width,ge._width+=te+Z+Y,ge._height+=N,Se&&(ue.each(function(en,sn){g.setTranslate(this,0,sn*ge.tracegroupgap)}),ge._height+=(ge._lgroupsLength-1)*ge.tracegroupgap);else{var $e=W(ge),gt=se||B,ze=De.width/2;ge._maxWidth=Math.max(ge.x<0||0===ge.x&&"right"===$e?gt&&"left"===$e?Be.l+Be.w:ze:ge.x>1||1===ge.x&&"left"===$e?gt&&"right"===$e?Be.r+Be.w:ze:Be.w,2*Z);var Ve=0,Pe=0;ce.each(function(en){var sn=G(en,ge,Z);Ve=Math.max(Ve,sn),Pe+=sn}),Ee=null;var Qe=0;if(Se){var Ke=0,dt=0,Dt=0;ue.each(function(){var en=0,sn=0;p.select(this).selectAll("g.traces").each(function(xt){var yt=G(xt,ge,Z),ke=xt[0].height;g.setTranslate(this,Oe[0],Oe[1]+H+te+ke/2+sn),sn+=ke,en=Math.max(en,yt),Te[xt[0].trace.legendgroup]=en});var pt=en+te;dt>0&&pt+H+dt>ge._maxWidth?(Qe=Math.max(Qe,dt),dt=0,Dt+=Ke+xe,Ke=sn):Ke=Math.max(Ke,sn),g.setTranslate(this,dt,Dt),dt+=pt}),ge._width=Math.max(Qe,dt)+H,ge._height=Dt+Ke+N}else{var $t=ce.size(),Ot=Pe+Y+($t-1)*te<ge._maxWidth,kt=0,At=0,Gt=0,Lt=0;ce.each(function(en){var sn=en[0].height,pt=G(en,ge,Z),xt=Ot?pt:Ve;ye||(xt+=te),xt+H+At-te>=ge._maxWidth&&(Qe=Math.max(Qe,Lt),At=0,Gt+=kt,ge._height+=kt,kt=0),g.setTranslate(this,Oe[0]+H+At,Oe[1]+H+Gt+sn/2+te),Lt=At+pt+te,At+=xt,kt=Math.max(kt,sn)}),Ot?(ge._width=At+Y,ge._height=kt+N):(ge._width=Math.max(Qe,Lt)+Y,ge._height+=kt+N)}}ge._width=Math.ceil(Math.max(ge._width+Oe[0],ge._titleWidth+2*(H+w.titlePad))),ge._height=Math.ceil(Math.max(ge._height+Oe[1],ge._titleHeight+2*(H+w.itemGap))),ge._effHeight=Math.min(ge._height,ge._maxHeight);var Qt=ie._context.edits,Jt=Qt.legendText||Qt.legendPosition;ce.each(function(en){var sn=p.select(this).select("."+Ne+"toggle"),pt=en[0].height,xt=en[0].trace.legendgroup,yt=G(en,ge,Z);Se&&""!==xt&&(yt=Te[xt]);var ke=Jt?Z:Ee||yt;!Fe&&!ye&&(ke+=te/2),g.setRect(sn,0,-pt/2,ke,pt)})}(ie,$e,ct,ce)},function(){var Xe,Me,_e,He,ft=ge._size,gt=ce.borderwidth,ze="paper"===ce.xref,Ve="paper"===ce.yref;if(Te.text&&function P(ie,ue,ce){if("top center"===ue.title.side||"top right"===ue.title.side){var De=ue.title.font.size*z,Ne=0,Be=ie.node(),Fe=g.bBox(Be).width;"top center"===ue.title.side?Ne=.5*(ue._width-2*ce-2*w.titlePad-Fe):"top right"===ue.title.side&&(Ne=ue._width-2*ce-2*w.titlePad-Fe),c.positionText(ie,ce+w.titlePad+Ne,ce+De)}}(Ee,ce,gt),!Fe){var Pe,Qe;if(Pe=ze?ft.l+ft.w*ce.x-A[W(ce)]*ce._width:ge.width*ce.x-A[W(ce)]*ce._width,Qe=Ve?ft.t+ft.h*(1-ce.y)-A[K(ce)]*ce._effHeight:ge.height*(1-ce.y)-A[K(ce)]*ce._effHeight,function pe(ie,ue,ce,ge){var De=ie._fullLayout,Ne=De[ue],Be=W(Ne),Fe=K(Ne),Se="paper"===Ne.xref,ye="paper"===Ne.yref;ie._fullLayout._reservedMargin[ue]={};var H=Ne.y<.5?"b":"t",Y=Ne.x<.5?"l":"r",te={r:De.width-ce,l:ce+Ne._width,b:De.height-ge,t:ge+Ne._effHeight};if(Se&&ye)return h.autoMargin(ie,ue,{x:Ne.x,y:Ne.y,l:Ne._width*A[Be],r:Ne._width*D[Be],b:Ne._effHeight*D[Fe],t:Ne._effHeight*A[Fe]});Se?ie._fullLayout._reservedMargin[ue][H]=te[H]:ye||"v"===Ne.orientation?ie._fullLayout._reservedMargin[ue][Y]=te[Y]:ie._fullLayout._reservedMargin[ue][H]=te[H]}(ie,De,Pe,Qe))return;if(ge.margin.autoexpand){var dt=Pe,Dt=Qe;Pe=ze?T.constrain(Pe,0,ge.width-ce._width):dt,Qe=Ve?T.constrain(Qe,0,ge.height-ce._effHeight):Dt,Pe!==dt&&T.log("Constrain "+De+".x to make legend fit inside graph"),Qe!==Dt&&T.log("Constrain "+De+".y to make legend fit inside graph")}g.setTranslate(ee,Pe,Qe)}if(Oe.on(".drag",null),ee.on("wheel",null),Fe||ce._height<=ce._maxHeight||ie._context.staticPlot){var $t=ce._effHeight;Fe&&($t=ce._height),se.attr({width:ce._width-gt,height:$t-gt,x:gt/2,y:gt/2}),g.setTranslate(xe,0,0),B.select("rect").attr({width:ce._width-2*gt,height:$t-2*gt,x:gt,y:gt}),g.setClipUrl(xe,Ne,ie),g.setRect(Oe,0,0,0,0),delete ce._scrollY}else{var Ot=Math.max(w.scrollBarMinHeight,ce._effHeight*ce._effHeight/ce._height),kt=ce._effHeight-Ot-2*w.scrollBarMargin,At=ce._height-ce._effHeight,Gt=kt/At,Lt=Math.min(ce._scrollY||0,At);se.attr({width:ce._width-2*gt+w.scrollBarWidth+w.scrollBarMargin,height:ce._effHeight-gt,x:gt/2,y:gt/2}),B.select("rect").attr({width:ce._width-2*gt+w.scrollBarWidth+w.scrollBarMargin,height:ce._effHeight-2*gt,x:gt,y:gt+Lt}),g.setClipUrl(xe,Ne,ie),ke(Lt,Ot,Gt),ee.on("wheel",function(){ke(Lt=T.constrain(ce._scrollY+p.event.deltaY/kt*At,0,At),Ot,Gt),0!==Lt&&Lt!==At&&p.event.preventDefault()});var Qt,en,xt=p.behavior.drag().on("dragstart",function(){var We=p.event.sourceEvent;Qt="touchstart"===We.type?We.changedTouches[0].clientY:We.clientY,en=Lt}).on("drag",function(){var We=p.event.sourceEvent;2===We.buttons||We.ctrlKey||ke(Lt=function(We,Ze,nt){return T.constrain((nt-Ze)/Gt+We,0,At)}(en,Qt,"touchmove"===We.type?We.changedTouches[0].clientY:We.clientY),Ot,Gt)});Oe.call(xt);var yt=p.behavior.drag().on("dragstart",function(){var We=p.event.sourceEvent;"touchstart"===We.type&&(Qt=We.changedTouches[0].clientY,en=Lt)}).on("drag",function(){var We=p.event.sourceEvent;"touchmove"===We.type&&ke(Lt=function(We,Ze,nt){return T.constrain((Ze-nt)/Gt+We,0,At)}(en,Qt,We.changedTouches[0].clientY),Ot,Gt)});xe.call(yt)}function ke(We,Ze,nt){ce._scrollY=ie._fullLayout[De]._scrollY=We,g.setTranslate(xe,0,-We),g.setRect(Oe,ce._width,w.scrollBarMargin+We*nt,w.scrollBarWidth,Ze),B.select("rect").attr("y",gt+We)}ie._context.edits.legendPosition&&(ee.classed("cursor-move",!0),y.init({element:ee.node(),gd:ie,prepFn:function(We){if(We.target!==Oe.node()){var Ze=g.getTranslate(ee);_e=Ze.x,He=Ze.y}},moveFn:function(We,Ze){if(void 0!==_e&&void 0!==He){var nt=_e+We,Bt=He+Ze;g.setTranslate(ee,nt,Bt),Xe=y.align(nt,ce._width,ft.l,ft.l+ft.w,ce.xanchor),Me=y.align(Bt+ce._height,-ce._height,ft.t+ft.h,ft.t,ce.yanchor)}},doneFn:function(){if(void 0!==Xe&&void 0!==Me){var We={};We[De+".x"]=Xe,We[De+".y"]=Me,v.call("_guiRelayout",ie,We)}},clickFn:function(We,Ze){var nt=Be.selectAll("g.traces").filter(function(){var Bt=this.getBoundingClientRect();return Ze.clientX>=Bt.left&&Ze.clientX<=Bt.right&&Ze.clientY>=Bt.top&&Ze.clientY<=Bt.bottom});nt.size()>0&&$(ie,ee,nt,We,Ze)}}))}],ie)}}function G(ie,ue,ce){var ge=ie[0],Be=ge.trace.legendwidth||ue.entrywidth;return"fraction"===ue.entrywidthmode?ue._maxWidth*Be:ce+(Be||ge.width)}function $(ie,ue,ce,ge,De){var Ne=ce.data()[0][0].trace,Be={event:De,node:ce.node(),curveNumber:Ne.index,expandedIndex:Ne._expandedIndex,data:ie.data,layout:ie.layout,frames:ie._transitionData._frames,config:ie._context,fullData:ie._fullData,fullLayout:ie._fullLayout};Ne._group&&(Be.group=Ne._group),v.traceIs(Ne,"pie-like")&&(Be.label=ce.datum()[0].label);var Fe=d.triggerHandler(ie,"plotly_legendclick",Be);if(1===ge){if(!1===Fe)return;ue._clickTimeout=setTimeout(function(){ie._fullLayout&&C(ce,ie,ge)},ie._context.doubleClickDelay)}else 2===ge&&(ue._clickTimeout&&clearTimeout(ue._clickTimeout),ie._legendMouseDownTime=0,!1!==d.triggerHandler(ie,"plotly_legenddoubleclick",Be)&&!1!==Fe&&C(ce,ie,ge))}function J(ie,ue,ce){var ye,H,ge=X(ce),De=ie.data()[0][0],Ne=De.trace,Be=v.traceIs(Ne,"pie-like"),Fe=!ce._inHover&&ue._context.edits.legendText&&!Be,Se=ce._maxNameLength;De.groupTitle?(ye=De.groupTitle.text,H=De.groupTitle.font):(H=ce.font,ce.entries?ye=De.text:(ye=Be?De.label:Ne.name,Ne._meta&&(ye=T.templateString(ye,Ne._meta))));var Y=T.ensureSingle(ie,"text",ge+"text");Y.attr("text-anchor","start").call(g.font,H).text(Fe?re(ye,Se):ye),c.positionText(Y,ce.indentation+ce.itemwidth+2*w.itemGap,0),Fe?Y.call(c.makeEditable,{gd:ue,text:ye}).call(Q,ie,ue,ce).on("edit",function(Z){this.text(re(Z,Se)).call(Q,ie,ue,ce);var N=De.trace._fullInput||{},ee={};if(v.hasTransform(N,"groupby")){var B=v.getTransformIndices(N,"groupby"),xe=T.keyedContainer(N,"transforms["+B[B.length-1]+"].styles","target","value.name");xe.set(De.trace._group,Z),ee=xe.constructUpdate()}else ee.name=Z;return N._isShape?v.call("_guiRelayout",ue,"shapes["+Ne.index+"].name",ee.name):v.call("_guiRestyle",ue,ee,Ne.index)}):Q(Y,ie,ue,ce)}function re(ie,ue){var ce=Math.max(4,ue);if(ie&&ie.trim().length>=ce/2)return ie;for(var ge=ce-(ie=ie||"").length;ge>0;ge--)ie+=" ";return ie}function O(ie,ue,ce){var De,ge=ue._context.doubleClickDelay,Ne=1,Be=T.ensureSingle(ie,"rect",ce+"toggle",function(Fe){ue._context.staticPlot||Fe.style("cursor","pointer").attr("pointer-events","all"),Fe.call(m.fill,"rgba(0,0,0,0)")});ue._context.staticPlot||(Be.on("mousedown",function(){(De=(new Date).getTime())-ue._legendMouseDownTime<ge?Ne+=1:(Ne=1,ue._legendMouseDownTime=De)}),Be.on("mouseup",function(){if(!ue._dragged&&!ue._editing){var Fe=ue._fullLayout[ce];(new Date).getTime()-ue._legendMouseDownTime>ge&&(Ne=Math.max(Ne-1,1)),$(ue,Fe,ie,Ne,p.event)}}))}function Q(ie,ue,ce,ge,De){ge._inHover&&ie.attr("data-notex",!0),c.convertToTspans(ie,ce,function(){!function U(ie,ue,ce,ge){var De=ie.data()[0][0];if(ce._inHover||!De||De.trace.showlegend){var Ne=ie.select("g[class*=math-group]"),Be=Ne.node(),Fe=X(ce);ce||(ce=ue._fullLayout[Fe]);var Y,te,Se=ce.borderwidth,H=(ge===L?ce.title.font:De.groupTitle?De.groupTitle.font:ce.font).size*z;if(Be){var Z=g.bBox(Be);Y=Z.height,te=Z.width,ge===L?g.setTranslate(Ne,Se,Se+.75*Y):g.setTranslate(Ne,0,.25*Y)}else{var ee=ie.select("."+Fe+(ge===L?"title":"")+"text"),B=c.lineCount(ee),se=ee.node();if(Y=H*B,te=se?g.bBox(se).width:0,ge===L)"left"===ce.title.side&&(te+=2*w.itemGap),c.positionText(ee,Se+w.titlePad,Se+H);else{var xe=2*w.itemGap+ce.indentation+ce.itemwidth;De.groupTitle&&(xe=w.itemGap,te-=ce.indentation+ce.itemwidth),c.positionText(ee,xe,-H*((B-1)/2-.3))}}ge===L?(ce._titleWidth=te,ce._titleHeight=Y):(De.lineHeight=H,De.height=Math.max(Y,16)+3,De.width=te)}else ie.remove()}(ue,ce,ge,De)})}function W(ie){return T.isRightAnchor(ie)?"right":T.isCenterAnchor(ie)?"center":"left"}function K(ie){return T.isBottomAnchor(ie)?"bottom":T.isMiddleAnchor(ie)?"middle":"top"}function X(ie){return ie._id||"legend"}Ce.exports=function(ue,ce){if(ce)I(ue,ce);else{var ge=ue._fullLayout,De=ge._legends;ge._infolayer.selectAll('[class^="legend"]').each(function(){var ye=p.select(this),Y=ye.attr("class").split(" ")[0];Y.match(b)&&-1===De.indexOf(Y)&&ye.remove()});for(var Be=0;Be<De.length;Be++)I(ue,ue._fullLayout[De[Be]])}}},3076:function(Ce,j,o){"use strict";var p=o(4040),T=o(2451);Ce.exports=function(v,d,y){var _,E,g=d._inHover,m=T.isGrouped(d),c=T.isReversed(d),C={},w=[],S=!1,z={},A=0,D=0;function M(ie,ue,ce){if(!1!==d.visible&&(!y||ie===d._id))if(""!==ue&&T.isGrouped(d))-1===w.indexOf(ue)?(w.push(ue),S=!0,C[ue]=[ce]):C[ue].push(ce);else{var ge="~~i"+A;w.push(ge),C[ge]=[ce],A++}}for(_=0;_<v.length;_++){var L=v[_],b=L[0],P=b.trace,I=P.legend,G=P.legendgroup;if(g||P.visible&&P.showlegend)if(p.traceIs(P,"pie-like"))for(z[G]||(z[G]={}),E=0;E<L.length;E++){var $=L[E].label;z[G][$]||(M(I,G,{label:$,color:L[E].color,i:L[E].i,trace:P,pts:L[E].pts}),z[G][$]=!0,D=Math.max(D,($||"").length))}else M(I,G,b),D=Math.max(D,(P.name||"").length)}if(!w.length)return[];var J=!S||!m,re=[];for(_=0;_<w.length;_++){var O=C[w[_]];re.push(J?O[0]:O)}for(J&&(re=[re]),_=0;_<re.length;_++){var Q=1/0;for(E=0;E<re[_].length;E++){var U=re[_][E].trace.legendrank;Q>U&&(Q=U)}re[_][0]._groupMinRank=Q,re[_][0]._preGroupSort=_}var le=function(ie,ue){return ie.trace.legendrank-ue.trace.legendrank||ie._preSort-ue._preSort};for(re.forEach(function(ie,ue){ie[0]._preGroupSort=ue}),re.sort(function(ie,ue){return ie[0]._groupMinRank-ue[0]._groupMinRank||ie[0]._preGroupSort-ue[0]._preGroupSort}),_=0;_<re.length;_++){re[_].forEach(function(ie,ue){ie._preSort=ue}),re[_].sort(le);var pe=re[_][0].trace,W=null;for(E=0;E<re[_].length;E++){var K=re[_][E].trace.legendgrouptitle;if(K&&K.text){W=K,g&&(K.font=d._groupTitleFont);break}}if(c&&re[_].reverse(),W){var X=!1;for(E=0;E<re[_].length;E++)if(p.traceIs(re[_][E].trace,"pie-like")){X=!0;break}re[_].unshift({i:-1,groupTitle:W,noClick:X,trace:{showlegend:pe.showlegend,legendgroup:pe.legendgroup,visible:"toggleitem"===d.groupclick||pe.visible}})}for(E=0;E<re[_].length;E++)re[_][E]=[re[_][E]]}return d._lgroupsLength=re.length,d._maxNameLength=D,re}},3048:function(Ce,j,o){"use strict";var p=o(4040),T=o(3400),h=T.pushUnique,v=!0;Ce.exports=function(y,g,m){var c=g._fullLayout;if(!g._dragged&&!g._editing){var z,C=c.legend.itemclick,w=c.legend.itemdoubleclick,S=c.legend.groupclick;if(1===m&&"toggle"===C&&"toggleothers"===w&&v&&g.data&&g._context.showTips&&T.notifier(T._(g,"Double-click on legend to isolate one trace"),"long"),v=!1,1===m?z=C:2===m&&(z=w),z){var A="togglegroup"===S,D=c.hiddenlabels?c.hiddenlabels.slice():[],_=y.data()[0][0];if(!_.groupTitle||!_.noClick){var E=g._fullData,M=(c.shapes||[]).filter(function(ze){return ze.showlegend}),L=E.concat(M),b=_.trace;b._isShape&&(b=b._fullInput);var I,G,$,J,re,P=b.legendgroup,Q={},U=[],ne=[],le=[],W=(c.shapes||[]).map(function(ze){return ze._input}),K=!1,ue=b.legend,ce=b._fullInput;if(ce&&ce._isShape||!p.traceIs(b,"pie-like")){var ee,Z=P&&P.length,N=[];if(Z)for(I=0;I<L.length;I++)(ee=L[I]).visible&&ee.legendgroup===P&&N.push(I);if("toggle"===z){var B;switch(b.visible){case!0:B="legendonly";break;case!1:B=!1;break;case"legendonly":B=!0}if(Z)if(A)for(I=0;I<L.length;I++){var se=L[I];!1!==se.visible&&se.legendgroup===P&&ie(se,B)}else ie(b,B);else ie(b,B)}else if("toggleothers"===z){var Te,Ee,$e,ct=!0;for(I=0;I<L.length;I++)if(Ee=!0!==($e=L[I]).showlegend,!($e===b||Ee||(Te=Z&&$e.legendgroup===P,Te||$e.legend!==ue||!0!==$e.visible||p.traceIs($e,"notLegendIsolatable")))){ct=!1;break}for(I=0;I<L.length;I++)if(!1!==($e=L[I]).visible&&$e.legend===ue&&!p.traceIs($e,"notLegendIsolatable"))switch(b.visible){case"legendonly":ie($e,!0);break;case!0:Ee=!0!==$e.showlegend&&!$e.legendgroup,ie($e,!(!(Te=$e===b||Z&&$e.legendgroup===P)&&!Ee)||!!ct||"legendonly")}}for(I=0;I<ne.length;I++)if($=ne[I]){var ft=$.constructUpdate(),gt=Object.keys(ft);for(G=0;G<gt.length;G++)(Q[J=gt[G]]=Q[J]||[])[le[I]]=ft[J]}for(re=Object.keys(Q),I=0;I<re.length;I++)for(J=re[I],G=0;G<U.length;G++)Q[J].hasOwnProperty(G)||(Q[J][G]=void 0);K?p.call("_guiUpdate",g,Q,{shapes:W},U):p.call("_guiRestyle",g,Q,U)}else{var De=_.label,Ne=D.indexOf(De);if("toggle"===z)-1===Ne?D.push(De):D.splice(Ne,1);else if("toggleothers"===z){var Be=-1!==Ne,Fe=[];for(I=0;I<g.calcdata.length;I++){var Se=g.calcdata[I];for(G=0;G<Se.length;G++){var H=Se[G].label;ue===Se[0].trace.legend&&De!==H&&(-1===D.indexOf(H)&&(Be=!0),h(D,H),Fe.push(H))}}if(!Be)for(var Y=0;Y<Fe.length;Y++){var te=D.indexOf(Fe[Y]);-1!==te&&D.splice(te,1)}}p.call("_guiRelayout",g,"hiddenlabels",D)}}}}function pe(ze,Ve){var Pe=U.indexOf(ze),Qe=Q.visible;return Qe||(Qe=Q.visible=[]),-1===U.indexOf(ze)&&(U.push(ze),Pe=U.length-1),Qe[Pe]=Ve,Pe}function ie(ze,Ve){if(!_.groupTitle||A){var Pe=ze._fullInput||ze,Qe=Pe._isShape,Ke=Pe.index;if(void 0===Ke&&(Ke=Pe._index),p.hasTransform(Pe,"groupby")){var dt=ne[Ke];if(!dt){var Dt=p.getTransformIndices(Pe,"groupby");dt=T.keyedContainer(Pe,"transforms["+Dt[Dt.length-1]+"].styles","target","value.visible"),ne[Ke]=dt}var Ot=dt.get(ze._group);void 0===Ot&&(Ot=!0),!1!==Ot&&dt.set(ze._group,Ve),le[Ke]=pe(Ke,!1!==Pe.visible)}else{var kt=!1!==Pe.visible&&Ve;Qe?function X(ze,Ve){W[ze].visible=Ve,K=!0}(Ke,kt):pe(Ke,kt)}}}}},2451:function(Ce,j){"use strict";j.isGrouped=function(p){return-1!==(p.traceorder||"").indexOf("grouped")},j.isVertical=function(p){return"h"!==p.orientation},j.isReversed=function(p){return-1!==(p.traceorder||"").indexOf("reversed")}},2780:function(Ce,j,o){"use strict";Ce.exports={moduleType:"component",name:"legend",layoutAttributes:o(3800),supplyLayoutDefaults:o(7864),draw:o(1140),style:o(2012)}},2012:function(Ce,j,o){"use strict";var p=o(3428),T=o(4040),h=o(3400),v=h.strTranslate,d=o(3616),y=o(6308),g=o(4288).extractOpts,m=o(3028),c=o(528),C=o(9656).castOption,w=o(5196);function E(b,P){return(P?"radial":"horizontal")+(b?"":"reversed")}function M(b){var P=b[0].trace,I=P.contours,G=m.hasLines(P),$=m.hasMarkers(P),J=P.visible&&P.fill&&"none"!==P.fill,re=!1,O=!1;if(I){var Q=I.coloring;"lines"===Q?re=!0:G="none"===Q||"heatmap"===Q||I.showlines,"constraint"===I.type?J="="!==I._operation:("fill"===Q||"heatmap"===Q)&&(O=!0)}return{showMarker:$,showLine:G,showFill:J,showGradientLine:re,showGradientFill:O,anyLine:G||re,anyFill:J||O}}function L(b,P,I){return b&&h.isArrayOrTypedArray(b)?P:b>I?I:b}Ce.exports=function(P,I,G){G||(G=I._fullLayout.legend);var J="constant"===G.itemsizing,re=G.itemwidth,Q=v((re+2*w.itemGap)/2,0),U=function(Fe,Se,ye,H){var Y;if(Fe+1)Y=Fe;else{if(!(Se&&Se.width>0))return 0;Y=Se.width}return J?H:Math.min(Y,ye)};function X(Fe,Se,ye){var H=Fe[0].trace,Y=H.marker||{},te=Y.line||{},Z=Y.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",N=ye?H.visible&&H.type===ye:T.traceIs(H,"bar"),ee=p.select(Se).select("g.legendpoints").selectAll("path.legend"+ye).data(N?[Fe]:[]);ee.enter().append("path").classed("legend"+ye,!0).attr("d",Z).attr("transform",Q),ee.exit().remove(),ee.each(function(B){var se=p.select(this),xe=B[0],Te=U(xe.mlw,Y.line,5,2);se.style("stroke-width",Te+"px");var Ee=xe.mcc;if(!G._inHover&&"mc"in xe){var Oe=g(Y),$e=Oe.mid;void 0===$e&&($e=(Oe.max+Oe.min)/2),Ee=d.tryColorscale(Y,"")($e)}var ct=Ee||xe.mc||Y.color,ft=Y.pattern,gt=ft&&d.getPatternAttr(ft.shape,0,"");if(gt){var ze=d.getPatternAttr(ft.bgcolor,0,null),Ve=d.getPatternAttr(ft.fgcolor,0,null),Pe=ft.fgopacity,Qe=L(ft.size,8,10),Ke=L(ft.solidity,.5,1);se.call(d.pattern,"legend",I,"legend-"+H.uid,gt,Qe,Ke,Ee,ft.fillmode,ze,Ve,Pe)}else se.call(y.fill,ct);Te&&y.stroke(se,xe.mlc||te.color)})}function Ne(Fe,Se,ye){var H=Fe[0],Y=H.trace,te=ye?Y.visible&&Y.type===ye:T.traceIs(Y,ye),Z=p.select(Se).select("g.legendpoints").selectAll("path.legend"+ye).data(te?[Fe]:[]);if(Z.enter().append("path").classed("legend"+ye,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",Q),Z.exit().remove(),Z.size()){var N=Y.marker||{},ee=U(C(N.line.width,H.pts),N.line,5,2),B="pieLike",se=h.minExtend(Y,{marker:{line:{width:ee}}},B),xe=h.minExtend(H,{trace:se},B);c(Z,xe,se,I)}}P.each(function(Fe){var Se=p.select(this),ye=h.ensureSingle(Se,"g","layers");ye.style("opacity",Fe[0].trace.opacity);var Y=G.valign,te=Fe[0].lineHeight,Z=Fe[0].height;ye.attr("transform","middle"===Y&&0===G.indentation||!te||!Z?null:v(G.indentation,{top:1,bottom:-1}[Y]*(.5*(te-Z+3))||0)),ye.selectAll("g.legendfill").data([Fe]).enter().append("g").classed("legendfill",!0),ye.selectAll("g.legendlines").data([Fe]).enter().append("g").classed("legendlines",!0);var Te=ye.selectAll("g.legendsymbols").data([Fe]);Te.enter().append("g").classed("legendsymbols",!0),Te.selectAll("g.legendpoints").data([Fe]).enter().append("g").classed("legendpoints",!0)}).each(function Be(Fe){var ye,Se=Fe[0].trace,H=[];if(Se.visible)switch(Se.type){case"histogram2d":case"heatmap":H=[["M-15,-2V4H15V-2Z"]],ye=!0;break;case"choropleth":case"choroplethmapbox":H=[["M-6,-6V6H6V-6Z"]],ye=!0;break;case"densitymapbox":H=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],ye="radial";break;case"cone":H=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],ye=!1;break;case"streamtube":H=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],ye=!1;break;case"surface":H=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],ye=!0;break;case"mesh3d":H=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],ye=!1;break;case"volume":H=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],ye=!0;break;case"isosurface":H=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],ye=!1}var Y=p.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(H);Y.enter().append("path").classed("legend3dandfriends",!0).attr("transform",Q).style("stroke-miterlimit",1),Y.exit().remove(),Y.each(function(te,Z){var Te,N=p.select(this),ee=g(Se),B=ee.colorscale,se=ee.reversescale;if(B){if(!ye){var Oe=B.length;Te=0===Z?B[se?Oe-1:0][1]:1===Z?B[se?0:Oe-1][1]:B[Math.floor((Oe-1)/2)][1]}}else{var Ee=Se.vertexcolor||Se.facecolor||Se.color;Te=h.isArrayOrTypedArray(Ee)?Ee[Z]||Ee[0]:Ee}N.attr("d",te[0]),Te?N.call(y.fill,Te):N.call(function($e){$e.size()&&d.gradient($e,I,"legendfill-"+Se.uid,E(se,"radial"===ye),B,"fill")})})}).each(function pe(Fe){var Se=Fe[0].trace,ye="waterfall"===Se.type;if(Fe[0]._distinct&&ye){var H=Fe[0].trace[Fe[0].dir].marker;return Fe[0].mc=H.color,Fe[0].mlw=H.line.width,Fe[0].mlc=H.line.color,X(Fe,this,"waterfall")}var Y=[];Se.visible&&ye&&(Y=Fe[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var te=p.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(Y);te.enter().append("path").classed("legendwaterfall",!0).attr("transform",Q).style("stroke-miterlimit",1),te.exit().remove(),te.each(function(Z){var N=p.select(this),ee=Se[Z[0]].marker,B=U(void 0,ee.line,5,2);N.attr("d",Z[1]).style("stroke-width",B+"px").call(y.fill,ee.color),B&&N.call(y.stroke,ee.line.color)})}).each(function K(Fe){X(Fe,this,"funnel")}).each(function W(Fe){X(Fe,this)}).each(function ie(Fe){var Se=Fe[0].trace,ye=p.select(this).select("g.legendpoints").selectAll("path.legendbox").data(Se.visible&&T.traceIs(Se,"box-violin")?[Fe]:[]);ye.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",Q),ye.exit().remove(),ye.each(function(){var H=p.select(this);if("all"!==Se.boxpoints&&"all"!==Se.points||0!==y.opacity(Se.fillcolor)||0!==y.opacity((Se.line||{}).color)){var te=U(void 0,Se.line,5,2);H.style("stroke-width",te+"px").call(y.fill,Se.fillcolor),te&&y.stroke(H,Se.line.color)}else{var Y=h.minExtend(Se,{marker:{size:J?12:h.constrain(Se.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});ye.call(d.pointStyle,Y,I)}})}).each(function De(Fe){Ne(Fe,this,"funnelarea")}).each(function ge(Fe){Ne(Fe,this,"pie")}).each(function ne(Fe){var se,xe,Se=M(Fe),ye=Se.showFill,H=Se.showLine,Y=Se.showGradientLine,te=Se.showGradientFill,Z=Se.anyFill,N=Se.anyLine,ee=Fe[0],B=ee.trace,Te=g(B),Ee=Te.colorscale,Oe=Te.reversescale,ft=m.hasMarkers(B)||!Z?"M5,0":N?"M5,-2":"M5,-3",gt=p.select(this),ze=gt.select(".legendfill").selectAll("path").data(ye||te?[Fe]:[]);if(ze.enter().append("path").classed("js-fill",!0),ze.exit().remove(),ze.attr("d",ft+"h"+re+"v6h-"+re+"z").call(function(Qe){Qe.size()&&(ye?d.fillGroupStyle(Qe,I,!0):d.gradient(Qe,I,"legendfill-"+B.uid,E(Oe),Ee,"fill"))}),H||Y){var Ve=U(void 0,B.line,10,5);xe=h.minExtend(B,{line:{width:Ve}}),se=[h.minExtend(ee,{trace:xe})]}var Pe=gt.select(".legendlines").selectAll("path").data(H||Y?[se]:[]);Pe.enter().append("path").classed("js-line",!0),Pe.exit().remove(),Pe.attr("d",ft+(Y?"l"+re+",0.0001":"h"+re)).call(H?d.lineGroupStyle:function(Qe){if(Qe.size()){var Ke="legendline-"+B.uid;d.lineGroupStyle(Qe),d.gradient(Qe,I,Ke,E(Oe),Ee,"stroke")}})}).each(function le(Fe){var B,se,Se=M(Fe),Y=Se.showLine,te=Se.showMarker,Z=Fe[0],N=Z.trace,ee=!te&&!Se.anyLine&&!Se.anyFill&&m.hasText(N);function xe(ze,Ve,Pe,Qe){var Ke=h.nestedProperty(N,ze).get(),dt=h.isArrayOrTypedArray(Ke)&&Ve?Ve(Ke):Ke;if(J&&dt&&void 0!==Qe&&(dt=Qe),Pe){if(dt<Pe[0])return Pe[0];if(dt>Pe[1])return Pe[1]}return dt}function Te(ze){return Z._distinct&&Z.index&&ze[Z.index]?ze[Z.index]:ze[0]}if(te||ee||Y){var Ee={},Oe={};if(te){Ee.mc=xe("marker.color",Te),Ee.mx=xe("marker.symbol",Te),Ee.mo=xe("marker.opacity",h.mean,[.2,1]),Ee.mlc=xe("marker.line.color",Te),Ee.mlw=xe("marker.line.width",h.mean,[0,5],2),Oe.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var $e=xe("marker.size",h.mean,[2,16],12);Ee.ms=$e,Oe.marker.size=$e}Y&&(Oe.line={width:xe("line.width",Te,[0,10],5)}),ee&&(Ee.tx="Aa",Ee.tp=xe("textposition",Te),Ee.ts=10,Ee.tc=xe("textfont.color",Te),Ee.tf=xe("textfont.family",Te),Ee.tw=xe("textfont.weight",Te),Ee.ty=xe("textfont.style",Te),Ee.tv=xe("textfont.variant",Te),Ee.tC=xe("textfont.textcase",Te),Ee.tE=xe("textfont.lineposition",Te),Ee.tS=xe("textfont.shadow",Te)),B=[h.minExtend(Z,Ee)],(se=h.minExtend(N,Oe)).selectedpoints=null,se.texttemplate=null}var ct=p.select(this).select("g.legendpoints"),ft=ct.selectAll("path.scatterpts").data(te?B:[]);ft.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",Q),ft.exit().remove(),ft.call(d.pointStyle,se,I),te&&(B[0].mrc=3);var gt=ct.selectAll("g.pointtext").data(ee?B:[]);gt.enter().append("g").classed("pointtext",!0).append("text").attr("transform",Q),gt.exit().remove(),gt.selectAll("text").call(d.textPointStyle,se,I)}).each(function ue(Fe){var Se=Fe[0].trace,ye=p.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(Se.visible&&"candlestick"===Se.type?[Fe,Fe]:[]);ye.enter().append("path").classed("legendcandle",!0).attr("d",function(H,Y){return Y?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",Q).style("stroke-miterlimit",1),ye.exit().remove(),ye.each(function(H,Y){var te=p.select(this),Z=Se[Y?"increasing":"decreasing"],N=U(void 0,Z.line,5,2);te.style("stroke-width",N+"px").call(y.fill,Z.fillcolor),N&&y.stroke(te,Z.line.color)})}).each(function ce(Fe){var Se=Fe[0].trace,ye=p.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(Se.visible&&"ohlc"===Se.type?[Fe,Fe]:[]);ye.enter().append("path").classed("legendohlc",!0).attr("d",function(H,Y){return Y?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",Q).style("stroke-miterlimit",1),ye.exit().remove(),ye.each(function(H,Y){var te=p.select(this),Z=Se[Y?"increasing":"decreasing"],N=U(void 0,Z.line,5,2);te.style("fill","none").call(d.dashLine,Z.line.dash,N),N&&y.stroke(te,Z.line.color)})})}},6540:function(Ce,j,o){"use strict";o(6052),Ce.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},1868:function(Ce,j,o){"use strict";var p=o(4040),T=o(7316),h=o(9811),v=o(9224),d=o(4016).eraseActiveShape,y=o(3400),g=y._,m=Ce.exports={};function c(b,P){var U,ne,I=P.currentTarget,G=I.getAttribute("data-attr"),$=I.getAttribute("data-val")||!0,J=b._fullLayout,re={},O=h.list(b,null,!0),Q=J._cartesianSpikesEnabled;if("zoom"===G){var K,le="in"===$?.5:2,pe=(1+le)/2,W=(1-le)/2;for(ne=0;ne<O.length;ne++)if(!(U=O[ne]).fixedrange)if(K=U._name,"auto"===$)re[K+".autorange"]=!0;else if("reset"===$)void 0===U._rangeInitial0&&void 0===U._rangeInitial1?re[K+".autorange"]=!0:void 0===U._rangeInitial0?(re[K+".autorange"]=U._autorangeInitial,re[K+".range"]=[null,U._rangeInitial1]):void 0===U._rangeInitial1?(re[K+".range"]=[U._rangeInitial0,null],re[K+".autorange"]=U._autorangeInitial):re[K+".range"]=[U._rangeInitial0,U._rangeInitial1],void 0!==U._showSpikeInitial&&(re[K+".showspikes"]=U._showSpikeInitial,"on"===Q&&!U._showSpikeInitial&&(Q="off"));else{var X=[U.r2l(U.range[0]),U.r2l(U.range[1])],ie=[pe*X[0]+W*X[1],pe*X[1]+W*X[0]];re[K+".range[0]"]=U.l2r(ie[0]),re[K+".range[1]"]=U.l2r(ie[1])}}else"hovermode"===G&&("x"===$||"y"===$)&&I.setAttribute("data-val",$=J._isHoriz?"y":"x"),re[G]=$;J._cartesianSpikesEnabled=Q,p.call("_guiRelayout",b,re)}function C(b,P){for(var I=P.currentTarget,G=I.getAttribute("data-attr"),$=I.getAttribute("data-val")||!0,J=b._fullLayout._subplots.gl3d||[],re={},O=G.split("."),Q=0;Q<J.length;Q++)re[J[Q]+"."+O[1]]=$;re.dragmode="pan"===$?$:"zoom",p.call("_guiRelayout",b,re)}function w(b,P){for(var G=P.currentTarget.getAttribute("data-attr"),$="resetLastSave"===G,J="resetDefault"===G,re=b._fullLayout,O=re._subplots.gl3d||[],Q={},U=0;U<O.length;U++){var X,ne=O[U],le=ne+".camera",pe=ne+".aspectratio",W=ne+".aspectmode",K=re[ne]._scene;$?(Q[le+".up"]=K.viewInitial.up,Q[le+".eye"]=K.viewInitial.eye,Q[le+".center"]=K.viewInitial.center,X=!0):J&&(Q[le+".up"]=null,Q[le+".eye"]=null,Q[le+".center"]=null,X=!0),X&&(Q[pe+".x"]=K.viewInitial.aspectratio.x,Q[pe+".y"]=K.viewInitial.aspectratio.y,Q[pe+".z"]=K.viewInitial.aspectratio.z,Q[W]=K.viewInitial.aspectmode)}p.call("_guiRelayout",b,Q)}function S(b,P){var I=P.currentTarget,G=I._previousVal,$=b._fullLayout,J=$._subplots.gl3d||[],re=["xaxis","yaxis","zaxis"],O={},Q={};if(G)Q=G,I._previousVal=null;else{for(var U=0;U<J.length;U++){var ne=J[U],le=$[ne],pe=ne+".hovermode";O[pe]=le.hovermode,Q[pe]=!1;for(var W=0;W<3;W++){var K=re[W],X=ne+"."+K+".showspikes";Q[X]=!1,O[X]=le[K].showspikes}}I._previousVal=O}return Q}function A(b,P){for(var I=P.currentTarget,G=I.getAttribute("data-attr"),$=I.getAttribute("data-val")||!0,J=b._fullLayout,re=J._subplots.geo||[],O=0;O<re.length;O++){var Q=re[O];if("zoom"===G){var ne=J[Q].projection.scale;p.call("_guiRelayout",b,Q+".projection.scale","in"===$?2*ne:.5*ne)}}"reset"===G&&L(b,"geo")}function D(b){var P=b._fullLayout;return!P.hovermode&&(P._has("cartesian")?P._isHoriz?"y":"x":"closest")}function _(b){var P=D(b);p.call("_guiRelayout",b,"hovermode",P)}function M(b,P){for(var G=P.currentTarget.getAttribute("data-val"),$=b._fullLayout,J=$._subplots.mapbox||[],O={},Q=0;Q<J.length;Q++){var U=J[Q],ne=$[U].zoom;O[U+".zoom"]="in"===G?1.05*ne:ne/1.05}p.call("_guiRelayout",b,O)}function L(b,P){for(var I=b._fullLayout,G=I._subplots[P]||[],$={},J=0;J<G.length;J++)for(var re=G[J],Q=I[re]._subplot.viewInitial,U=Object.keys(Q),ne=0;ne<U.length;ne++){var le=U[ne];$[re+"."+le]=Q[le]}p.call("_guiRelayout",b,$)}m.toImage={name:"toImage",title:function(b){return g(b,"png"===((b._context.toImageButtonOptions||{}).format||"png")?"Download plot as a png":"Download plot")},icon:v.camera,click:function(b){var P=b._context.toImageButtonOptions,I={format:P.format||"png"};y.notifier(g(b,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==I.format&&y.isIE()&&(y.notifier(g(b,"IE only supports svg.  Changing format to svg."),"long"),I.format="svg"),["filename","width","height","scale"].forEach(function(G){G in P&&(I[G]=P[G])}),p.call("downloadImage",b,I).then(function(G){y.notifier(g(b,"Snapshot succeeded")+" - "+G,"long")}).catch(function(){y.notifier(g(b,"Sorry, there was a problem downloading your snapshot!"),"long")})}},m.sendDataToCloud={name:"sendDataToCloud",title:function(b){return g(b,"Edit in Chart Studio")},icon:v.disk,click:function(b){T.sendDataToCloud(b)}},m.editInChartStudio={name:"editInChartStudio",title:function(b){return g(b,"Edit in Chart Studio")},icon:v.pencil,click:function(b){T.sendDataToCloud(b)}},m.zoom2d={name:"zoom2d",_cat:"zoom",title:function(b){return g(b,"Zoom")},attr:"dragmode",val:"zoom",icon:v.zoombox,click:c},m.pan2d={name:"pan2d",_cat:"pan",title:function(b){return g(b,"Pan")},attr:"dragmode",val:"pan",icon:v.pan,click:c},m.select2d={name:"select2d",_cat:"select",title:function(b){return g(b,"Box Select")},attr:"dragmode",val:"select",icon:v.selectbox,click:c},m.lasso2d={name:"lasso2d",_cat:"lasso",title:function(b){return g(b,"Lasso Select")},attr:"dragmode",val:"lasso",icon:v.lasso,click:c},m.drawclosedpath={name:"drawclosedpath",title:function(b){return g(b,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:v.drawclosedpath,click:c},m.drawopenpath={name:"drawopenpath",title:function(b){return g(b,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:v.drawopenpath,click:c},m.drawline={name:"drawline",title:function(b){return g(b,"Draw line")},attr:"dragmode",val:"drawline",icon:v.drawline,click:c},m.drawrect={name:"drawrect",title:function(b){return g(b,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:v.drawrect,click:c},m.drawcircle={name:"drawcircle",title:function(b){return g(b,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:v.drawcircle,click:c},m.eraseshape={name:"eraseshape",title:function(b){return g(b,"Erase active shape")},icon:v.eraseshape,click:d},m.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(b){return g(b,"Zoom in")},attr:"zoom",val:"in",icon:v.zoom_plus,click:c},m.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(b){return g(b,"Zoom out")},attr:"zoom",val:"out",icon:v.zoom_minus,click:c},m.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(b){return g(b,"Autoscale")},attr:"zoom",val:"auto",icon:v.autoscale,click:c},m.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(b){return g(b,"Reset axes")},attr:"zoom",val:"reset",icon:v.home,click:c},m.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(b){return g(b,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:v.tooltip_basic,gravity:"ne",click:c},m.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(b){return g(b,"Compare data on hover")},attr:"hovermode",val:function(b){return b._fullLayout._isHoriz?"y":"x"},icon:v.tooltip_compare,gravity:"ne",click:c},m.zoom3d={name:"zoom3d",_cat:"zoom",title:function(b){return g(b,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:v.zoombox,click:C},m.pan3d={name:"pan3d",_cat:"pan",title:function(b){return g(b,"Pan")},attr:"scene.dragmode",val:"pan",icon:v.pan,click:C},m.orbitRotation={name:"orbitRotation",title:function(b){return g(b,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:v["3d_rotate"],click:C},m.tableRotation={name:"tableRotation",title:function(b){return g(b,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:v["z-axis"],click:C},m.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(b){return g(b,"Reset camera to default")},attr:"resetDefault",icon:v.home,click:w},m.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(b){return g(b,"Reset camera to last save")},attr:"resetLastSave",icon:v.movie,click:w},m.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(b){return g(b,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:v.tooltip_basic,gravity:"ne",click:function z(b,P){var I=S(b,P);p.call("_guiRelayout",b,I)}},m.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(b){return g(b,"Zoom in")},attr:"zoom",val:"in",icon:v.zoom_plus,click:A},m.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(b){return g(b,"Zoom out")},attr:"zoom",val:"out",icon:v.zoom_minus,click:A},m.resetGeo={name:"resetGeo",_cat:"reset",title:function(b){return g(b,"Reset")},attr:"reset",val:null,icon:v.autoscale,click:A},m.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(b){return g(b,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:v.tooltip_basic,gravity:"ne",click:_},m.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(b){return g(b,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:v.tooltip_basic,gravity:"ne",click:_},m.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(b){return g(b,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:v.tooltip_basic,gravity:"ne",click:_},m.resetViewSankey={name:"resetSankeyGroup",title:function(b){return g(b,"Reset view")},icon:v.home,click:function(b){for(var P={"node.groups":[],"node.x":[],"node.y":[]},I=0;I<b._fullData.length;I++){var G=b._fullData[I]._viewInitial;P["node.groups"].push(G.node.groups.slice()),P["node.x"].push(G.node.x.slice()),P["node.y"].push(G.node.y.slice())}p.call("restyle",b,P)}},m.toggleHover={name:"toggleHover",title:function(b){return g(b,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:v.tooltip_basic,gravity:"ne",click:function(b,P){var I=S(b,P);I.hovermode=D(b),p.call("_guiRelayout",b,I)}},m.resetViews={name:"resetViews",title:function(b){return g(b,"Reset views")},icon:v.home,click:function(b,P){var I=P.currentTarget;I.setAttribute("data-attr","zoom"),I.setAttribute("data-val","reset"),c(b,P),I.setAttribute("data-attr","resetLastSave"),w(b,P),L(b,"geo"),L(b,"mapbox")}},m.toggleSpikelines={name:"toggleSpikelines",title:function(b){return g(b,"Toggle Spike Lines")},icon:v.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(b){var P=b._fullLayout;P._cartesianSpikesEnabled="on"===P._cartesianSpikesEnabled?"off":"on",p.call("_guiRelayout",b,function E(b){for(var I="on"===b._fullLayout._cartesianSpikesEnabled,G=h.list(b,null,!0),$={},J=0;J<G.length;J++){var re=G[J];$[re._name+".showspikes"]=!!I||re._showSpikeInitial}return $}(b))}},m.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(b){return g(b,"Reset view")},attr:"reset",icon:v.home,click:function(b){L(b,"mapbox")}},m.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(b){return g(b,"Zoom in")},attr:"zoom",val:"in",icon:v.zoom_plus,click:M},m.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(b){return g(b,"Zoom out")},attr:"zoom",val:"out",icon:v.zoom_minus,click:M}},6052:function(Ce,j,o){"use strict";var p=o(1868),T=Object.keys(p),h=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],v=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(h),d=[];T.forEach(function(g){!function(g){if(-1===v.indexOf(g._cat||g.name)){var m=g.name,c=(g._cat||g.name).toLowerCase();-1===d.indexOf(m)&&d.push(m),-1===d.indexOf(c)&&d.push(c)}}(p[g])}),d.sort(),Ce.exports={DRAW_MODES:h,backButtons:v,foreButtons:d}},824:function(Ce,j,o){"use strict";var p=o(3400),T=o(6308),h=o(1780),v=o(6540);Ce.exports=function(y,g){var m=y.modebar||{},c=h.newContainer(g,"modebar");function C(S,z){return p.coerce(m,c,v,S,z)}C("orientation"),C("bgcolor",T.addOpacity(g.paper_bgcolor,.5));var w=T.contrast(T.rgb(g.modebar.bgcolor));C("color",T.addOpacity(w,.3)),C("activecolor",T.addOpacity(w,.7)),C("uirevision",g.uirevision),C("add"),C("remove")}},3080:function(Ce,j,o){"use strict";Ce.exports={moduleType:"component",name:"modebar",layoutAttributes:o(6540),supplyLayoutDefaults:o(824),manage:o(8816)}},8816:function(Ce,j,o){"use strict";var p=o(9811),T=o(3028),h=o(4040),v=o(624).isUnifiedHover,d=o(6400),y=o(1868),g=o(6052).DRAW_MODES,m=o(3400).extendDeep;function c(D){var _=D._fullLayout,E=D._fullData,M=D._context;function L(Z,N){if("string"==typeof N){if(N.toLowerCase()===Z.toLowerCase())return!0}else if(N.name===Z||(N._cat||N.name)===Z.toLowerCase())return!0;return!1}var b=_.modebar.add;"string"==typeof b&&(b=[b]);var P=_.modebar.remove;"string"==typeof P&&(P=[P]);var I=M.modeBarButtonsToAdd.concat(b.filter(function(Z){for(var N=0;N<M.modeBarButtonsToRemove.length;N++)if(L(Z,M.modeBarButtonsToRemove[N]))return!1;return!0})),G=M.modeBarButtonsToRemove.concat(P.filter(function(Z){for(var N=0;N<M.modeBarButtonsToAdd.length;N++)if(L(Z,M.modeBarButtonsToAdd[N]))return!1;return!0})),$=_._has("cartesian"),J=_._has("gl3d"),re=_._has("geo"),O=_._has("pie"),Q=_._has("funnelarea"),U=_._has("gl2d"),ne=_._has("ternary"),le=_._has("mapbox"),pe=_._has("polar"),W=_._has("smith"),K=_._has("sankey"),X=function C(D){for(var _=p.list({_fullLayout:D},null,!0),E=0;E<_.length;E++)if(!_[E].fixedrange)return!1;return!0}(_),ie=v(_.hovermode),ue=[];function ce(Z){if(Z.length){for(var N=[],ee=0;ee<Z.length;ee++){for(var B=Z[ee],se=y[B],xe=se.name.toLowerCase(),Te=(se._cat||se.name).toLowerCase(),Ee=!1,Oe=0;Oe<G.length;Oe++){var $e=G[Oe].toLowerCase();if($e===xe||$e===Te){Ee=!0;break}}Ee||N.push(y[B])}ue.push(N)}}var ge=["toImage"];M.showEditInChartStudio?ge.push("editInChartStudio"):M.showSendToCloud&&ge.push("sendDataToCloud"),ce(ge);var De=[],Ne=[],Be=[],Fe=[];($||U||O||Q||ne)+re+J+le+pe+W>1?(Ne=["toggleHover"],Be=["resetViews"]):re?(De=["zoomInGeo","zoomOutGeo"],Ne=["hoverClosestGeo"],Be=["resetGeo"]):J?(Ne=["hoverClosest3d"],Be=["resetCameraDefault3d","resetCameraLastSave3d"]):le?(De=["zoomInMapbox","zoomOutMapbox"],Ne=["toggleHover"],Be=["resetViewMapbox"]):U?Ne=["hoverClosestGl2d"]:O?Ne=["hoverClosestPie"]:K?(Ne=["hoverClosestCartesian","hoverCompareCartesian"],Be=["resetViewSankey"]):Ne=["toggleHover"],$&&Ne.push("toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"),(function S(D){for(var _=0;_<D.length;_++)if(!h.traceIs(D[_],"noHover"))return!1;return!0}(E)||ie)&&(Ne=[]),($||U)&&!X&&(De=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==Be[0]&&(Be=["resetScale2d"])),J?Fe=["zoom3d","pan3d","orbitRotation","tableRotation"]:($||U)&&!X||ne?Fe=["zoom2d","pan2d"]:le||re?Fe=["pan2d"]:pe&&(Fe=["zoom2d"]),function w(D){for(var _=!1,E=0;E<D.length&&!_;E++){var M=D[E];!M._module||!M._module.selectPoints||(h.traceIs(M,"scatter-like")?(T.hasMarkers(M)||T.hasText(M))&&(_=!0):h.traceIs(M,"box-violin")?("all"===M.boxpoints||"all"===M.points)&&(_=!0):_=!0)}return _}(E)&&Fe.push("select2d","lasso2d");var Se=[],ye=function(Z){-1===Se.indexOf(Z)&&-1!==Ne.indexOf(Z)&&Se.push(Z)};if(Array.isArray(I)){for(var H=[],Y=0;Y<I.length;Y++){var te=I[Y];"string"==typeof te?(te=te.toLowerCase(),-1!==g.indexOf(te)?(_._has("mapbox")||_._has("cartesian"))&&Fe.push(te):"togglespikelines"===te?ye("toggleSpikelines"):"togglehover"===te?ye("toggleHover"):"hovercompare"===te?ye("hoverCompareCartesian"):"hoverclosest"===te?(ye("hoverClosestCartesian"),ye("hoverClosestGeo"),ye("hoverClosest3d"),ye("hoverClosestGl2d"),ye("hoverClosestPie")):"v1hovermode"===te&&(ye("hoverClosestCartesian"),ye("hoverCompareCartesian"),ye("hoverClosestGeo"),ye("hoverClosest3d"),ye("hoverClosestGl2d"),ye("hoverClosestPie"))):H.push(te)}I=H}return ce(Fe),ce(De.concat(Be)),ce(Se),function z(D,_){if(_.length)if(Array.isArray(_[0]))for(var E=0;E<_.length;E++)D.push(_[E]);else D.push(_);return D}(ue,I)}Ce.exports=function(_){var E=_._fullLayout,M=_._context,L=E._modeBar;if(M.displayModeBar||M.watermark){if(!Array.isArray(M.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(M.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var P,b=M.modeBarButtons;P=Array.isArray(b)&&b.length?function A(D){for(var _=m([],D),E=0;E<_.length;E++)for(var M=_[E],L=0;L<M.length;L++){var b=M[L];if("string"==typeof b){if(void 0===y[b])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));_[E][L]=y[b]}}return _}(b):!M.displayModeBar&&M.watermark?[]:c(_),L?L.update(_,P):E._modeBar=d(_,P)}else L&&(L.destroy(),delete E._modeBar)}},6400:function(Ce,j,o){"use strict";var p=o(3428),T=o(8248),h=o(3400),v=o(9224),d=o(5788).version,y=new DOMParser;function g(w){this.container=w.container,this.element=document.createElement("div"),this.update(w.graphInfo,w.buttons),this.container.appendChild(this.element)}var m=g.prototype;m.update=function(w,S){this.graphInfo=w;var z=this.graphInfo._context,A=this.graphInfo._fullLayout,D="modebar-"+A._uid;this.element.setAttribute("id",D),this._uid=D,this.element.className="modebar","hover"===z.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===A.modebar.orientation&&(this.element.className+=" vertical",S=S.reverse());var _=A.modebar,E="hover"===z.displayModeBar?".js-plotly-plot .plotly:hover ":"";h.deleteRelatedStyleRule(D),h.addRelatedStyleRule(D,E+"#"+D+" .modebar-group","background-color: "+_.bgcolor),h.addRelatedStyleRule(D,"#"+D+" .modebar-btn .icon path","fill: "+_.color),h.addRelatedStyleRule(D,"#"+D+" .modebar-btn:hover .icon path","fill: "+_.activecolor),h.addRelatedStyleRule(D,"#"+D+" .modebar-btn.active .icon path","fill: "+_.activecolor);var M=!this.hasButtons(S),L=this.hasLogo!==z.displaylogo,b=this.locale!==z.locale;if(this.locale=z.locale,(M||L||b)&&(this.removeAllButtons(),this.updateButtons(S),z.watermark||z.displaylogo)){var P=this.getLogo();z.watermark&&(P.className=P.className+" watermark"),"v"===A.modebar.orientation?this.element.insertBefore(P,this.element.childNodes[0]):this.element.appendChild(P),this.hasLogo=!0}this.updateActiveButton()},m.updateButtons=function(w){var S=this;this.buttons=w,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(z){var A=S.createGroup();z.forEach(function(D){var _=D.name;if(!_)throw new Error("must provide button 'name' in button config");if(-1!==S.buttonsNames.indexOf(_))throw new Error("button name '"+_+"' is taken");S.buttonsNames.push(_);var E=S.createButton(D);S.buttonElements.push(E),A.appendChild(E)}),S.element.appendChild(A)})},m.createGroup=function(){var w=document.createElement("div");return w.className="modebar-group",w},m.createButton=function(w){var S=this,z=document.createElement("a");z.setAttribute("rel","tooltip"),z.className="modebar-btn";var A=w.title;void 0===A?A=w.name:"function"==typeof A&&(A=A(this.graphInfo)),(A||0===A)&&z.setAttribute("data-title",A),void 0!==w.attr&&z.setAttribute("data-attr",w.attr);var D=w.val;if(void 0!==D&&("function"==typeof D&&(D=D(this.graphInfo)),z.setAttribute("data-val",D)),"function"!=typeof w.click)throw new Error("must provide button 'click' function in button config");z.addEventListener("click",function(M){w.click(S.graphInfo,M),S.updateActiveButton(M.currentTarget)}),z.setAttribute("data-toggle",w.toggle||!1),w.toggle&&p.select(z).classed("active",!0);var E=w.icon;return z.appendChild("function"==typeof E?E():this.createIcon(E||v.question)),z.setAttribute("data-gravity",w.gravity||"n"),z},m.createIcon=function(w){var A,S=T(w.height)?Number(w.height):w.ascent-w.descent,z="http://www.w3.org/2000/svg";if(w.path){(A=document.createElementNS(z,"svg")).setAttribute("viewBox",[0,0,w.width,S].join(" ")),A.setAttribute("class","icon");var D=document.createElementNS(z,"path");D.setAttribute("d",w.path),w.transform?D.setAttribute("transform",w.transform):void 0!==w.ascent&&D.setAttribute("transform","matrix(1 0 0 -1 0 "+w.ascent+")"),A.appendChild(D)}return w.svg&&(A=y.parseFromString(w.svg,"application/xml").childNodes[0]),A.setAttribute("height","1em"),A.setAttribute("width","1em"),A},m.updateActiveButton=function(w){var S=this.graphInfo._fullLayout,z=void 0!==w?w.getAttribute("data-attr"):null;this.buttonElements.forEach(function(A){var D=A.getAttribute("data-val")||!0,_=A.getAttribute("data-attr"),E="true"===A.getAttribute("data-toggle"),M=p.select(A);if(E)_===z&&M.classed("active",!M.classed("active"));else{var L=null===_?_:h.nestedProperty(S,_).get();M.classed("active",L===D)}})},m.hasButtons=function(w){var S=this.buttons;if(!S||w.length!==S.length)return!1;for(var z=0;z<w.length;++z){if(w[z].length!==S[z].length)return!1;for(var A=0;A<w[z].length;A++)if(w[z][A].name!==S[z][A].name)return!1}return!0},m.getLogo=function(){var w=this.createGroup(),S=document.createElement("a");return S.href="https://plotly.com/",S.target="_blank",S.setAttribute("data-title",function c(w){return w+" (v"+d+")"}(h._(this.graphInfo,"Produced with Plotly.js"))),S.className="modebar-btn plotlyjsicon modebar-btn--logo",S.appendChild(this.createIcon(v.newplotlylogo)),w.appendChild(S),w},m.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},m.destroy=function(){h.removeElement(this.container.querySelector(".modebar")),h.deleteRelatedStyleRule(this._uid)},Ce.exports=function C(w,S){var z=w._fullLayout,A=new g({graphInfo:w,container:z._modebardiv.node(),buttons:S});return z._privateplot&&p.select(A.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),A}},6680:function(Ce,j,o){"use strict";var p=o(5376),T=o(2548),v=(0,o(1780).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});Ce.exports={visible:{valType:"boolean",editType:"plot"},buttons:v,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:p({editType:"plot"}),bgcolor:{valType:"color",dflt:T.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:T.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},5984:function(Ce){"use strict";Ce.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},2148:function(Ce,j,o){"use strict";var p=o(3400),T=o(6308),h=o(1780),v=o(1272),d=o(6680),y=o(5984);function g(c,C,w,S){var z=S.calendar;function A(E,M){return p.coerce(c,C,d.buttons,E,M)}if(A("visible")){var _=A("step");"all"!==_&&(!z||"gregorian"===z||"month"!==_&&"year"!==_?A("stepmode"):C.stepmode="backward",A("count")),A("label")}}Ce.exports=function(C,w,S,z,A){var D=C.rangeselector||{},_=h.newContainer(w,"rangeselector");function E(I,G){return p.coerce(D,_,d,I,G)}if(E("visible",v(D,_,{name:"buttons",handleItemDefaults:g,calendar:A}).length>0)){var b=function m(c,C,w){for(var S=w.filter(function(_){return C[_].anchor===c._id}),z=0,A=0;A<S.length;A++){var D=C[S[A]].domain;D&&(z=Math.max(D[1],z))}return[c.domain[0],z+y.yPad]}(w,S,z);E("x",b[0]),E("y",b[1]),p.noneOrAll(C,w,["x","y"]),E("xanchor"),E("yanchor"),p.coerceFont(E,"font",S.font);var P=E("bgcolor");E("activecolor",T.contrast(P,y.lightAmount,y.darkAmount)),E("bordercolor"),E("borderwidth")}}},216:function(Ce,j,o){"use strict";var p=o(3428),T=o(4040),h=o(7316),v=o(6308),d=o(3616),y=o(3400),g=y.strTranslate,m=o(2736),c=o(9811),C=o(4284),w=C.LINE_SPACING,S=C.FROM_TL,z=C.FROM_BR,A=o(5984),D=o(8040);function E($){return $._id}function L($,J,re){var O=y.ensureSingle($,"rect","selector-rect",function(Q){Q.attr("shape-rendering","crispEdges")});O.attr({rx:A.rx,ry:A.ry}),O.call(v.stroke,J.bordercolor).call(v.fill,function b($,J){return J._isActive||J._isHovered?$.activecolor:$.bgcolor}(J,re)).style("stroke-width",J.borderwidth+"px")}function P($,J,re,O){y.ensureSingle($,"text","selector-text",function(ne){ne.attr("text-anchor","middle")}).call(d.font,J.font).text(function I($,J){return $.label?J?y.templateString($.label,J):$.label:"all"===$.step?"all":$.count+$.step.charAt(0)}(re,O._fullLayout._meta)).call(function Q(ne){m.convertToTspans(ne,O)})}Ce.exports=function(J){var O=J._fullLayout._infolayer.selectAll(".rangeselector").data(function _($){for(var J=c.list($,"x",!0),re=[],O=0;O<J.length;O++){var Q=J[O];Q.rangeselector&&Q.rangeselector.visible&&re.push(Q)}return re}(J),E);O.enter().append("g").classed("rangeselector",!0),O.exit().remove(),O.style({cursor:"pointer","pointer-events":"all"}),O.each(function(Q){var U=p.select(this),ne=Q,le=ne.rangeselector,pe=U.selectAll("g.button").data(y.filterVisible(le.buttons));pe.enter().append("g").classed("button",!0),pe.exit().remove(),pe.each(function(W){var K=p.select(this),X=D(ne,W);W._isActive=function M($,J,re){if("all"===J.step)return!0===$.autorange;var O=Object.keys(re);return $.range[0]===re[O[0]]&&$.range[1]===re[O[1]]}(ne,W,X),K.call(L,le,W),K.call(P,le,W,J),K.on("click",function(){J._dragged||T.call("_guiRelayout",J,X)}),K.on("mouseover",function(){W._isHovered=!0,K.call(L,le,W)}),K.on("mouseout",function(){W._isHovered=!1,K.call(L,le,W)})}),function G($,J,re,O,Q){var U=0,ne=0,le=re.borderwidth;J.each(function(){var ce=p.select(this).select(".selector-text"),De=Math.max(re.font.size*w*m.lineCount(ce),16)+3;ne=Math.max(ne,De)}),J.each(function(){var ue=p.select(this),ce=ue.select(".selector-rect"),ge=ue.select(".selector-text"),De=ge.node()&&d.bBox(ge.node()).width,Ne=re.font.size*w,Be=m.lineCount(ge),Fe=Math.max(De+10,A.minButtonWidth);ue.attr("transform",g(le+U,le)),ce.attr({x:0,y:0,width:Fe,height:ne}),m.positionText(ge,Fe/2,ne/2-(Be-1)*Ne/2+3),U+=Fe+5});var pe=$._fullLayout._size,W=pe.l+pe.w*re.x,K=pe.t+pe.h*(1-re.y),X="left";y.isRightAnchor(re)&&(W-=U,X="right"),y.isCenterAnchor(re)&&(W-=U/2,X="center");var ie="top";y.isBottomAnchor(re)&&(K-=ne,ie="bottom"),y.isMiddleAnchor(re)&&(K-=ne/2,ie="middle"),U=Math.ceil(U),ne=Math.ceil(ne),W=Math.round(W),K=Math.round(K),h.autoMargin($,O+"-range-selector",{x:re.x,y:re.y,l:U*S[X],r:U*z[X],b:ne*z[ie],t:ne*S[ie]}),Q.attr("transform",g(W,K))}(J,pe,le,ne._name,U)})}},8040:function(Ce,j,o){"use strict";var p=o(3220),T=o(3400).titleCase;Ce.exports=function(d,y){var g=d._name,m={};if("all"===y.step)m[g+".autorange"]=!0;else{var c=function h(v,d){var w,y=v.range,g=new Date(v.r2l(y[1])),c=p["utc"+T(d.step)],C=d.count;switch(d.stepmode){case"backward":w=v.l2r(+c.offset(g,-C));break;case"todate":var S=c.offset(g,-C);w=v.l2r(+c.ceil(S))}return[w,y[1]]}(d,y);m[g+".range[0]"]=c[0],m[g+".range[1]"]=c[1]}return m}},1152:function(Ce,j,o){"use strict";Ce.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:o(6680)}}},layoutAttributes:o(6680),handleDefaults:o(2148),draw:o(216)}},8820:function(Ce,j,o){"use strict";var p=o(2548);Ce.exports={bgcolor:{valType:"color",dflt:p.background,editType:"plot"},bordercolor:{valType:"color",dflt:p.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},6652:function(Ce,j,o){"use strict";var p=o(9811).list,T=o(9280).getAutoRange,h=o(4636);Ce.exports=function(d){for(var y=p(d,"x",!0),g=0;g<y.length;g++){var m=y[g],c=m[h.name];c&&c.visible&&c.autorange&&(c._input.autorange=!0,c._input.range=c.range=T(d,m))}}},4636:function(Ce){"use strict";Ce.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},1659:function(Ce,j,o){"use strict";var p=o(3400),T=o(1780),h=o(9811),v=o(8820),d=o(936);Ce.exports=function(g,m,c){var C=g[c],w=m[c];if(C.rangeslider||m._requestRangeslider[w._id]){p.isPlainObject(C.rangeslider)||(C.rangeslider={});var D,_,S=C.rangeslider,z=T.newContainer(w,"rangeslider");if(A("visible")){A("bgcolor",m.plot_bgcolor),A("bordercolor"),A("borderwidth"),A("thickness"),A("autorange",!w.isValidRange(S.range)),A("range");var L=m._subplots;if(L)for(var b=L.cartesian.filter(function(O){return O.substr(0,O.indexOf("y"))===h.name2id(c)}).map(function(O){return O.substr(O.indexOf("y"),O.length)}),P=p.simpleMap(b,h.id2name),I=0;I<P.length;I++){var G=P[I];D=S[G]||{},_=T.newContainer(z,G,"yaxis");var J,$=m[G];D.range&&$.isValidRange(D.range)&&(J="fixed"),"match"!==E("rangemode",J)&&E("range",$.range.slice())}z._input=S}}function A(O,Q){return p.coerce(S,z,v,O,Q)}function E(O,Q){return p.coerce(D,_,d,O,Q)}}},60:function(Ce,j,o){"use strict";var p=o(3428),T=o(4040),h=o(7316),v=o(3400),d=v.strTranslate,y=o(3616),g=o(6308),m=o(1668),c=o(7952),C=o(9811),w=o(6476),S=o(3972),z=o(4636);function A(J){return"number"==typeof J.clientX?J.clientX:J.touches&&J.touches.length>0?J.touches[0].clientX:0}function D(J,re,O,Q){if(!re._context.staticPlot){var U=J.select("rect."+z.slideBoxClassName).node(),ne=J.select("rect."+z.grabAreaMinClassName).node(),le=J.select("rect."+z.grabAreaMaxClassName).node();J.on("mousedown",pe),J.on("touchstart",pe)}function pe(){var W=p.event,K=W.target,X=A(W),ie=X-J.node().getBoundingClientRect().left,ue=Q.d2p(O._rl[0]),ce=Q.d2p(O._rl[1]),ge=w.coverSlip();function De(Be){var ye,H,Y,Se=+A(Be)-X;switch(K){case U:if(Y="ew-resize",ue+Se>O._length||ce+Se<0)return;ye=ue+Se,H=ce+Se;break;case ne:if(Y="col-resize",ue+Se>O._length)return;ye=ue+Se,H=ce;break;case le:if(Y="col-resize",ce+Se<0)return;ye=ue,H=ce+Se;break;default:Y="ew-resize",ye=ie,H=ie+Se}if(H<ye){var te=H;H=ye,ye=te}Q._pixelMin=ye,Q._pixelMax=H,S(p.select(ge),Y),function _(J,re,O,Q){function U(pe){return O.l2r(v.constrain(pe,Q._rl[0],Q._rl[1]))}var ne=U(Q.p2d(Q._pixelMin)),le=U(Q.p2d(Q._pixelMax));window.requestAnimationFrame(function(){T.call("_guiRelayout",re,O._name+".range",[ne,le])})}(0,re,O,Q)}function Ne(){ge.removeEventListener("mousemove",De),ge.removeEventListener("mouseup",Ne),this.removeEventListener("touchmove",De),this.removeEventListener("touchend",Ne),v.removeElement(ge)}this.addEventListener("touchmove",De),this.addEventListener("touchend",Ne),ge.addEventListener("mousemove",De),ge.addEventListener("mouseup",Ne)}}function M(J,re,O,Q){var U=v.ensureSingle(J,"rect",z.bgClassName,function(W){W.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),ne=Q.borderwidth%2==0?Q.borderwidth:Q.borderwidth-1,le=-Q._offsetShift,pe=y.crispRound(re,Q.borderwidth);U.attr({width:Q._width+ne,height:Q._height+ne,transform:d(le,le),"stroke-width":pe}).call(g.stroke,Q.bordercolor).call(g.fill,Q.bgcolor)}function L(J,re,O,Q){v.ensureSingleById(re._fullLayout._topdefs,"clipPath",Q._clipId,function(le){le.append("rect").attr({x:0,y:0})}).select("rect").attr({width:Q._width,height:Q._height})}function b(J,re,O,Q){var le,U=re.calcdata,ne=J.selectAll("g."+z.rangePlotClassName).data(O._subplotsWith,v.identity);ne.enter().append("g").attr("class",function(pe){return z.rangePlotClassName+" "+pe}).call(y.setClipUrl,Q._clipId,re),ne.order(),ne.exit().remove(),ne.each(function(pe,W){var K=p.select(this),X=0===W,ie=C.getFromId(re,pe,"y"),ue=ie._name,ce=Q[ue],ge={data:[],layout:{xaxis:{type:O.type,domain:[0,1],range:Q.range.slice(),calendar:O.calendar},width:Q._width,height:Q._height,margin:{t:0,b:0,l:0,r:0}},_context:re._context};O.rangebreaks&&(ge.layout.xaxis.rangebreaks=O.rangebreaks),ge.layout[ue]={type:ie.type,domain:[0,1],range:"match"!==ce.rangemode?ce.range.slice():ie.range.slice(),calendar:ie.calendar},ie.rangebreaks&&(ge.layout[ue].rangebreaks=ie.rangebreaks),h.supplyDefaults(ge);var De=ge._fullLayout.xaxis,Ne=ge._fullLayout[ue];De.clearCalc(),De.setScale(),Ne.clearCalc(),Ne.setScale();var Be={id:pe,plotgroup:K,xaxis:De,yaxis:Ne,isRangePlot:!0};X?le=Be:(Be.mainplot="xy",Be.mainplotinfo=le),c.rangePlot(re,Be,function P(J,re){for(var O=[],Q=0;Q<J.length;Q++){var U=J[Q],ne=U[0].trace;ne.xaxis+ne.yaxis===re&&O.push(U)}return O}(U,pe))})}function I(J,re,O,Q,U){v.ensureSingle(J,"rect",z.maskMinClassName,function(K){K.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",Q._height).call(g.fill,z.maskColor),v.ensureSingle(J,"rect",z.maskMaxClassName,function(K){K.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",Q._height).call(g.fill,z.maskColor),"match"!==U.rangemode&&(v.ensureSingle(J,"rect",z.maskMinOppAxisClassName,function(K){K.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",Q._width).call(g.fill,z.maskOppAxisColor),v.ensureSingle(J,"rect",z.maskMaxOppAxisClassName,function(K){K.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",Q._width).style("border-top",z.maskOppBorder).call(g.fill,z.maskOppAxisColor))}function G(J,re,O,Q){re._context.staticPlot||v.ensureSingle(J,"rect",z.slideBoxClassName,function(ne){ne.attr({y:0,cursor:z.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:Q._height,fill:z.slideBoxFill})}function $(J,re,O,Q){var U=v.ensureSingle(J,"g",z.grabberMinClassName),ne=v.ensureSingle(J,"g",z.grabberMaxClassName),le={x:0,width:z.handleWidth,rx:z.handleRadius,fill:g.background,stroke:g.defaultLine,"stroke-width":z.handleStrokeWidth,"shape-rendering":"crispEdges"},pe={y:Math.round(Q._height/4),height:Math.round(Q._height/2)};v.ensureSingle(U,"rect",z.handleMinClassName,function(ce){ce.attr(le)}).attr(pe),v.ensureSingle(ne,"rect",z.handleMaxClassName,function(ce){ce.attr(le)}).attr(pe);var X={width:z.grabAreaWidth,x:0,y:0,fill:z.grabAreaFill,cursor:re._context.staticPlot?void 0:z.grabAreaCursor};v.ensureSingle(U,"rect",z.grabAreaMinClassName,function(ce){ce.attr(X)}).attr("height",Q._height),v.ensureSingle(ne,"rect",z.grabAreaMaxClassName,function(ce){ce.attr(X)}).attr("height",Q._height)}Ce.exports=function(J){for(var re=J._fullLayout,O=re._rangeSliderData,Q=0;Q<O.length;Q++){var U=O[Q][z.name];U._clipId=U._id+"-"+re._uid}var le=re._infolayer.selectAll("g."+z.containerClassName).data(O,function ne(pe){return pe._name});le.exit().each(function(pe){re._topdefs.select("#"+pe[z.name]._clipId).remove()}).remove(),0!==O.length&&(le.enter().append("g").classed(z.containerClassName,!0).attr("pointer-events","all"),le.each(function(pe){var W=p.select(this),K=pe[z.name],X=re[C.id2name(pe.anchor)],ie=K[C.id2name(pe.anchor)];if(K.range){var ge,ue=v.simpleMap(K.range,pe.r2l),ce=v.simpleMap(pe.range,pe.r2l);ge=ce[0]<ce[1]?[Math.min(ue[0],ce[0]),Math.max(ue[1],ce[1])]:[Math.max(ue[0],ce[0]),Math.min(ue[1],ce[1])],K.range=K._input.range=v.simpleMap(ge,pe.l2r)}pe.cleanRange("rangeslider.range");var De=re._size,Ne=pe.domain;K._width=De.w*(Ne[1]-Ne[0]);var Be=Math.round(De.l+De.w*Ne[0]),Fe=Math.round(De.t+De.h*(1-pe._counterDomainMin)+("bottom"===pe.side?pe._depth:0)+K._offsetShift+z.extraPad);W.attr("transform",d(Be,Fe)),K._rl=v.simpleMap(K.range,pe.r2l);var Se=K._rl[0],ye=K._rl[1],H=ye-Se;if(K.p2d=function(Ee){return Ee/K._width*H+Se},K.d2p=function(Ee){return(Ee-Se)/H*K._width},pe.rangebreaks){var Y=pe.locateBreaks(Se,ye);if(Y.length){var te,Z,N=0;for(te=0;te<Y.length;te++)N+=(Z=Y[te]).max-Z.min;var ee=K._width/(ye-Se-N),B=[-ee*Se];for(te=0;te<Y.length;te++)B.push(B[B.length-1]-ee*((Z=Y[te]).max-Z.min));for(K.d2p=function(Ee){for(var Oe=B[0],$e=0;$e<Y.length;$e++){var ct=Y[$e];if(Ee>=ct.max)Oe=B[$e+1];else if(Ee<ct.min)break}return Oe+ee*Ee},te=0;te<Y.length;te++)(Z=Y[te]).pmin=K.d2p(Z.min),Z.pmax=K.d2p(Z.max);K.p2d=function(Ee){for(var Oe=B[0],$e=0;$e<Y.length;$e++){var ct=Y[$e];if(Ee>=ct.pmax)Oe=B[$e+1];else if(Ee<ct.pmin)break}return(Ee-Oe)/ee}}}if("match"!==ie.rangemode){var se=X.r2l(ie.range[0]),Te=X.r2l(ie.range[1])-se;K.d2pOppAxis=function(Ee){return(Ee-se)/Te*K._height}}W.call(M,J,pe,K).call(L,J,pe,K).call(b,J,pe,K).call(I,J,pe,K,ie).call(G,J,pe,K).call($,J,pe,K),D(W,J,pe,K),function E(J,re,O,Q,U,ne){var le=z.handleWidth/2;function pe(Be){return v.constrain(Be,0,Q._width)}function W(Be){return v.constrain(Be,0,Q._height)}function K(Be){return v.constrain(Be,-le,Q._width+le)}var X=pe(Q.d2p(O._rl[0])),ie=pe(Q.d2p(O._rl[1]));if(J.select("rect."+z.slideBoxClassName).attr("x",X).attr("width",ie-X),J.select("rect."+z.maskMinClassName).attr("width",X),J.select("rect."+z.maskMaxClassName).attr("x",ie).attr("width",Q._width-ie),"match"!==ne.rangemode){var ue=Q._height-W(Q.d2pOppAxis(U._rl[1])),ce=Q._height-W(Q.d2pOppAxis(U._rl[0]));J.select("rect."+z.maskMinOppAxisClassName).attr("x",X).attr("height",ue).attr("width",ie-X),J.select("rect."+z.maskMaxOppAxisClassName).attr("x",X).attr("y",ce).attr("height",Q._height-ce).attr("width",ie-X),J.select("rect."+z.slideBoxClassName).attr("y",ue).attr("height",ce-ue)}var De=Math.round(K(X-le))-.5,Ne=Math.round(K(ie-le))+.5;J.select("g."+z.grabberMinClassName).attr("transform",d(De,.5)),J.select("g."+z.grabberMaxClassName).attr("transform",d(Ne,.5))}(W,0,pe,K,X,ie),"bottom"===pe.side&&m.draw(J,pe._id+"title",{propContainer:pe,propName:pe._name+".title",placeholder:re._dfltTitle.x,attributes:{x:pe._offset+pe._length/2,y:Fe+K._height+K._offsetShift+10+1.5*pe.title.font.size,"text-anchor":"middle"}})}))}},7944:function(Ce,j,o){"use strict";var p=o(9811),T=o(2736),h=o(4636),v=o(4284).LINE_SPACING,d=h.name;function y(g){var m=g&&g[d];return m&&m.visible}j.isVisible=y,j.makeData=function(g){var m=p.list({_fullLayout:g},"x",!0),c=g.margin,C=[];if(!g._has("gl2d"))for(var w=0;w<m.length;w++){var S=m[w];if(y(S)){C.push(S);var z=S[d];z._id=d+S._id,z._height=(g.height-c.b-c.t)*z.thickness,z._offsetShift=Math.floor(z.borderwidth/2)}}g._rangeSliderData=C},j.autoMarginOpts=function(g,m){var c=g._fullLayout,C=m[d],w=m._id.charAt(0),S=0,z=0;return"bottom"===m.side&&(S=m._depth,m.title.text!==c._dfltTitle[w])&&(z=1.5*m.title.font.size+10+C._offsetShift,z+=(m.title.text.match(T.BR_TAG_ALL)||[]).length*m.title.font.size*v),{x:0,y:m._counterDomainMin,l:0,r:0,t:0,b:C._height+S+Math.max(c.margin.b,z),pad:h.extraPad+2*C._offsetShift}}},9692:function(Ce,j,o){"use strict";var p=o(3400),T=o(8820),h=o(936),v=o(7944);Ce.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:p.extendFlat({},T,{yaxis:h})}}},layoutAttributes:o(8820),handleDefaults:o(1659),calcAutorange:o(6652),draw:o(60),isVisible:v.isVisible,makeData:v.makeData,autoMarginOpts:v.autoMarginOpts}},936:function(Ce){"use strict";Ce.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},3956:function(Ce,j,o){"use strict";var p=o(3916),T=o(2904).line,h=o(8192).u,v=o(2880).extendFlat,d=o(7824).overrideAll,y=o(1780).templatedArray;o(6208),Ce.exports=d(y("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:v({},p.xref,{}),yref:v({},p.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:T.color,width:v({},T.width,{min:1,dflt:1}),dash:v({},h,{dflt:"dot"})}}),"arraydraw","from-root")},3280:function(Ce){"use strict";Ce.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},4224:function(Ce,j,o){"use strict";var p=o(3400),T=o(4460),h=o(1272),v=o(3956),d=o(5152);function y(g,m,c){function C(U,ne){return p.coerce(g,m,v,U,ne)}var w=C("path"),A="path"!==C("type",w?"path":"rect");A&&delete m.path,C("opacity"),C("line.color"),C("line.width"),C("line.dash");for(var D=["x","y"],_=0;_<2;_++){var L,b,P,E=D[_],M={_fullLayout:c},I=T.coerceRef(g,m,M,E);if((L=T.getFromId(M,I))._selectionIndices.push(m._index),P=d.rangeToShapePosition(L),b=d.shapePositionToRange(L),A){var G=E+"0",$=E+"1",J=g[G],re=g[$];g[G]=b(g[G],!0),g[$]=b(g[$],!0),T.coercePosition(m,M,C,I,G),T.coercePosition(m,M,C,I,$);var O=m[G],Q=m[$];void 0!==O&&void 0!==Q&&(m[G]=P(O),m[$]=P(Q),g[G]=J,g[$]=re)}}A&&p.noneOrAll(g,m,["x0","x1","y0","y1"])}Ce.exports=function(m,c){h(m,c,{name:"selections",handleItemDefaults:y});for(var C=c.selections,w=0;w<C.length;w++){var S=C[w];S&&void 0===S.path&&(void 0===S.x0||void 0===S.x1||void 0===S.y0||void 0===S.y1)&&(c.selections[w]=null)}}},3640:function(Ce,j,o){"use strict";var p=o(9856).readPaths,T=o(5496),h=o(1936).clearOutlineControllers,v=o(6308),d=o(3616),y=o(1780).arrayEditor,g=o(5152),m=g.getPathString;function c(_){var E=_._fullLayout;for(var M in h(_),E._selectionLayer.selectAll("path").remove(),E._plots){var L=E._plots[M].selectionLayer;L&&L.selectAll("path").remove()}for(var b=0;b<E.selections.length;b++)w(_,b)}function C(_){return _._context.editSelection}function w(_,E){_._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+E+'"]').remove();var M=g.makeSelectionsOptionsAndPlotinfo(_,E),L=M.options,b=M.plotinfo;L._input&&function P(I){var G=m(_,L),$={"data-index":E,"fill-rule":"evenodd",d:G},J=L.opacity,re="rgba(0,0,0,0)",O=L.line.color||v.contrast(_._fullLayout.plot_bgcolor),Q=L.line.width,U=L.line.dash;Q||(Q=5,U="solid");var ne=C(_)&&_._fullLayout._activeSelectionIndex===E;ne&&(re=_._fullLayout.activeselection.fillcolor,J=_._fullLayout.activeselection.opacity);for(var le=[],pe=1;pe>=0;pe--){var W=I.append("path").attr($).style("opacity",pe?.1:J).call(v.stroke,O).call(v.fill,re).call(d.dashLine,pe?"solid":U,pe?4+Q:Q);if(S(W,_,L),ne){var K=y(_.layout,"selections",L);W.style({cursor:"move"});var X={element:W.node(),plotinfo:b,gd:_,editHelpers:K,isActiveSelection:!0},ie=p(G,_);T(ie,W,X)}else W.style("pointer-events",pe?"all":"none");le[pe]=W}var ue=le[0];le[1].node().addEventListener("click",function(){return function z(_,E){if(C(_)){var L=+E.node().getAttribute("data-index");if(L>=0){if(L===_._fullLayout._activeSelectionIndex)return void D(_);_._fullLayout._activeSelectionIndex=L,_._fullLayout._deactivateSelection=D,c(_)}}}(_,ue)})}(_._fullLayout._selectionLayer)}function S(_,E,M){d.setClipUrl(_,"clip"+E._fullLayout._uid+(M.xref+M.yref),E)}function D(_){C(_)&&_._fullLayout._activeSelectionIndex>=0&&(h(_),delete _._fullLayout._activeSelectionIndex,c(_))}Ce.exports={draw:c,drawOne:w,activateLastSelection:function A(_){C(_)&&(_._fullLayout._activeSelectionIndex=_._fullLayout.selections.length-1,_._fullLayout._deactivateSelection=D,c(_))}}},4200:function(Ce,j,o){"use strict";var p=o(8192).u,T=o(2880).extendFlat;Ce.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:T({},p,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},1004:function(Ce){"use strict";Ce.exports=function(o,p,T){T("newselection.mode"),T("newselection.line.width")&&(T("newselection.line.color"),T("newselection.line.dash")),T("activeselection.fillcolor"),T("activeselection.opacity")}},5968:function(Ce,j,o){"use strict";var T=o(2760).selectMode,v=o(1936).clearOutline,d=o(9856),y=d.readPaths,g=d.writePaths,m=d.fixDatesForPaths;Ce.exports=function(C,w){if(C.length){var S=C[0][0];if(S){var z=S.getAttribute("d"),A=w.gd,D=A._fullLayout.newselection,_=w.plotinfo,E=_.xaxis,M=_.yaxis,L=w.isActiveSelection,b=w.dragmode,P=(A.layout||{}).selections||[];if(!T(b)&&void 0!==L){var I=A._fullLayout._activeSelectionIndex;if(I<P.length)switch(A._fullLayout.selections[I].type){case"rect":b="select";break;case"path":b="lasso"}}var J,G=y(z,A,_,L),$={xref:E._id,yref:M._id,opacity:D.opacity,line:{color:D.line.color,width:D.line.width,dash:D.line.dash}};1===G.length&&(J=G[0]),J&&5===J.length&&"select"===b?($.type="rect",$.x0=J[0][1],$.y0=J[0][2],$.x1=J[2][1],$.y1=J[2][2]):($.type="path",E&&M&&m(G,E,M),$.path=g(G),J=null),v(A);for(var re=w.editHelpers,O=(re||{}).modifyItem,Q=[],U=0;U<P.length;U++){var ne=A._fullLayout.selections[U];if(ne){if(Q[U]=ne._input,void 0!==L&&U===A._fullLayout._activeSelectionIndex){var le=$;switch(ne.type){case"rect":O("x0",le.x0),O("x1",le.x1),O("y0",le.y0),O("y1",le.y1);break;case"path":O("path",le.path)}}}else Q[U]=ne}return void 0===L?(Q.push($),Q):re?re.getUpdateObj():{}}}}},5840:function(Ce,j,o){"use strict";var p=o(3400).strTranslate;function T(y,g){switch(y.type){case"log":return y.p2d(g);case"date":return y.p2r(g,0,y.calendar);default:return y.p2r(g)}}Ce.exports={p2r:T,r2p:function h(y,g){switch(y.type){case"log":return y.d2p(g);case"date":return y.r2p(g,0,y.calendar);default:return y.r2p(g)}},axValue:function v(y){var g="y"===y._id.charAt(0)?1:0;return function(m){return T(y,m[g])}},getTransform:function d(y){return p(y.xaxis._offset,y.yaxis._offset)}}},2676:function(Ce,j,o){"use strict";var p=o(3640),T=o(3156);Ce.exports={moduleType:"component",name:"selections",layoutAttributes:o(3956),supplyLayoutDefaults:o(4224),supplyDrawNewSelectionDefaults:o(1004),includeBasePlot:o(6632)("selections"),draw:p.draw,drawOne:p.drawOne,reselect:T.reselect,prepSelect:T.prepSelect,clearOutline:T.clearOutline,clearSelectionsCache:T.clearSelectionsCache,selectOnClick:T.selectOnClick}},3156:function(Ce,j,o){"use strict";var p=o(4756),T=o(1456),h=o(4040),v=o(3616).dashStyle,d=o(6308),y=o(3024),g=o(624).makeEventData,m=o(2760),c=m.freeMode,C=m.rectMode,w=m.drawMode,S=m.openMode,z=m.selectMode,A=o(5152),D=o(3068),_=o(5496),E=o(1936).clearOutline,M=o(9856),L=M.handleEllipse,b=M.readPaths,P=o(3940).newShapes,I=o(5968),G=o(3640).activateLastSelection,$=o(3400),J=$.sorterAsc,re=o(2065),O=o(1200),Q=o(9811).getFromId,U=o(3696),ne=o(9172).redrawReglTraces,le=o(3280),pe=le.MINSELECT,W=re.filter,K=re.tester,X=o(5840),ie=X.p2r,ue=X.axValue,ce=X.getTransform;function ge(pt){return void 0!==pt.subplot}function Ne(pt,xt,yt,ke,Xe,Me,_e){var Je,Ct,st,Pt,_n,Nn,Vn,$n,fn,He=xt._hoverdata,nt=xt._fullLayout.clickmode.indexOf("event")>-1,Bt=[];if(function se(pt){return pt&&Array.isArray(pt)&&!0!==pt[0].hoverOnBox}(He)){H(pt,xt,Me);var Rn=function xe(pt,xt){var Me,_e,yt=pt[0],ke=-1,Xe=[];for(_e=0;_e<xt.length;_e++)if(yt.fullData._expandedIndex===(Me=xt[_e]).cd[0].trace._expandedIndex){if(!0===yt.hoverOnBox)break;void 0!==yt.pointNumber?ke=yt.pointNumber:void 0!==yt.binNumber&&(ke=yt.binNumber,Xe=yt.pointNumbers);break}return{pointNumber:ke,pointNumbers:Xe,searchInfo:Me}}(He,Je=ee(xt,yt,ke,Xe));if(Rn.pointNumbers.length>0?function Ee(pt,xt){var ke,Xe,_e,yt=[];for(_e=0;_e<pt.length;_e++)(ke=pt[_e]).cd[0].trace.selectedpoints&&ke.cd[0].trace.selectedpoints.length>0&&yt.push(ke);if(1===yt.length&&yt[0]===xt.searchInfo&&(Xe=xt.searchInfo.cd[0].trace).selectedpoints.length===xt.pointNumbers.length){for(_e=0;_e<xt.pointNumbers.length;_e++)if(Xe.selectedpoints.indexOf(xt.pointNumbers[_e])<0)return!1;return!0}return!1}(Je,Rn):function Oe(pt){var ke,Xe,xt=0;for(Xe=0;Xe<pt.length;Xe++)if((ke=pt[Xe].cd[0].trace).selectedpoints&&(ke.selectedpoints.length>1||(xt+=ke.selectedpoints.length)>1))return!1;return 1===xt}(Je)&&(Nn=Te(Rn))){for(_e&&_e.remove(),fn=0;fn<Je.length;fn++)(Ct=Je[fn])._module.selectPoints(Ct,!1);$e(xt,Je),Z(Me),nt&&sn(xt)}else{for(Vn=pt.shiftKey&&(void 0!==Nn?Nn:Te(Rn)),st=function Be(pt,xt,yt){return{pointNumber:pt,searchInfo:xt,subtract:!!yt}}(Rn.pointNumber,Rn.searchInfo,Vn),Pt=ye(Me.selectionDefs.concat([st])),fn=0;fn<Je.length;fn++)if(_n=gt(Je[fn]._module.selectPoints(Je[fn],Pt),Je[fn]),Bt.length)for(var Zn=0;Zn<_n.length;Zn++)Bt.push(_n[Zn]);else Bt=_n;if($e(xt,Je,$n={points:Bt}),st&&Me&&Me.selectionDefs.push(st),_e){var Yn=Me.mergedPolygons,mn=S(Me.dragmode);_(ze(Yn,mn),_e,Me)}nt&&en(xt,$n)}}}function Fe(pt){return"pointNumber"in pt&&"searchInfo"in pt}function Se(pt){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(xt,yt,ke,Xe){return Xe.cd[0].trace._expandedIndex===pt.searchInfo.cd[0].trace._expandedIndex&&ke===pt.pointNumber},isRect:!1,degenerate:!1,subtract:!!pt.subtract}}function ye(pt){if(pt.length){for(var xt=[],yt=Fe(pt[0])?0:pt[0][0][0],ke=yt,Xe=Fe(pt[0])?0:pt[0][0][1],Me=Xe,_e=0;_e<pt.length;_e++)if(Fe(pt[_e]))xt.push(Se(pt[_e]));else{var He=K(pt[_e]);He.subtract=!!pt[_e].subtract,xt.push(He),yt=Math.min(yt,He.xmin),ke=Math.max(ke,He.xmax),Xe=Math.min(Xe,He.ymin),Me=Math.max(Me,He.ymax)}return{xmin:yt,xmax:ke,ymin:Xe,ymax:Me,pts:[],contains:function We(Ze,nt,Bt,Je){for(var Ct=!1,st=0;st<xt.length;st++)xt[st].contains(Ze,nt,Bt,Je)&&(Ct=!xt[st].subtract);return Ct},isRect:!1,degenerate:!1}}}function H(pt,xt,yt){var ke=xt._fullLayout,Xe=yt.plotinfo,Me=yt.dragmode,_e=ke._lastSelectedSubplot&&ke._lastSelectedSubplot===Xe.id,He=(pt.shiftKey||pt.altKey)&&!(w(Me)&&S(Me));_e&&He&&Xe.selection&&Xe.selection.selectionDefs&&!yt.selectionDefs?(yt.selectionDefs=Xe.selection.selectionDefs,yt.mergedPolygons=Xe.selection.mergedPolygons):(!He||!Xe.selection)&&Z(yt),_e||(E(xt),ke._lastSelectedSubplot=Xe.id)}function Z(pt,xt){var yt=pt.dragmode,ke=pt.plotinfo,Xe=pt.gd;(function Y(pt){return pt._fullLayout._activeShapeIndex>=0})(Xe)&&Xe._fullLayout._deactivateShape(Xe),function te(pt){return pt._fullLayout._activeSelectionIndex>=0}(Xe)&&Xe._fullLayout._deactivateSelection(Xe);var _e=Xe._fullLayout._zoomlayer,He=w(yt),We=z(yt);if(He||We){var nt,Bt,Ze=_e.selectAll(".select-outline-"+ke.id);Ze&&Xe._fullLayout._outlining&&(He&&(nt=P(Ze,pt)),nt&&h.call("_guiRelayout",Xe,{shapes:nt}),We&&!ge(pt)&&(Bt=I(Ze,pt)),Bt&&(Xe._fullLayout._noEmitSelectedAtStart=!0,h.call("_guiRelayout",Xe,{selections:Bt}).then(function(){xt&&G(Xe)})),Xe._fullLayout._outlining=!1)}ke.selection={},ke.selection.selectionDefs=pt.selectionDefs=[],ke.selection.mergedPolygons=pt.mergedPolygons=[]}function N(pt){return pt._id}function ee(pt,xt,yt,ke){if(!pt.calcdata)return[];var He,We,Ze,Xe=[],Me=xt.map(N),_e=yt.map(N);for(Ze=0;Ze<pt.calcdata.length;Ze++)if(!0===(We=(He=pt.calcdata[Ze])[0].trace).visible&&We._module&&We._module.selectPoints)if(!ge({subplot:ke})||We.subplot!==ke&&We.geo!==ke)if("splom"===We.type){if(We._xaxes[Me[0]]&&We._yaxes[_e[0]]){var nt=B(We._module,He,xt[0],yt[0]);nt.scene=pt._fullLayout._splomScenes[We.uid],Xe.push(nt)}}else if("sankey"===We.type){var Bt=B(We._module,He,xt[0],yt[0]);Xe.push(Bt)}else{if(!(-1!==Me.indexOf(We.xaxis)||We._xA&&We._xA.overlaying)||!(-1!==_e.indexOf(We.yaxis)||We._yA&&We._yA.overlaying))continue;Xe.push(B(We._module,He,Q(pt,We.xaxis),Q(pt,We.yaxis)))}else Xe.push(B(We._module,He,xt[0],yt[0]));return Xe}function B(pt,xt,yt,ke){return{_module:pt,cd:xt,xaxis:yt,yaxis:ke}}function Te(pt){var xt=pt.searchInfo.cd[0].trace,ke=pt.pointNumbers;return!!xt.selectedpoints&&xt.selectedpoints.indexOf(ke.length>0?ke[0]:pt.pointNumber)>-1}function $e(pt,xt,yt){var ke,_e;for(ke=0;ke<xt.length;ke++){var Xe=xt[ke].cd[0].trace._fullInput,Me=pt._fullLayout._tracePreGUI[Xe.uid]||{};void 0===Me.selectedpoints&&(Me.selectedpoints=Xe._input.selectedpoints||null)}if(yt){var He=yt.points||[];for(ke=0;ke<xt.length;ke++)(_e=xt[ke].cd[0].trace)._input.selectedpoints=_e._fullInput.selectedpoints=[],_e._fullInput!==_e&&(_e.selectedpoints=[]);for(var We=0;We<He.length;We++){var Ze=He[We],nt=Ze.data,Bt=Ze.fullData,Je=Ze.pointIndex,Ct=Ze.pointIndices;Ct?([].push.apply(nt.selectedpoints,Ct),_e._fullInput!==_e&&[].push.apply(Bt.selectedpoints,Ct)):(nt.selectedpoints.push(Je),_e._fullInput!==_e&&Bt.selectedpoints.push(Je))}}else for(ke=0;ke<xt.length;ke++)delete(_e=xt[ke].cd[0].trace).selectedpoints,delete _e._input.selectedpoints,_e._fullInput!==_e&&delete _e._fullInput.selectedpoints;!function ct(pt,xt){for(var yt=!1,ke=0;ke<xt.length;ke++){var Xe=xt[ke],Me=Xe.cd;h.traceIs(Me[0].trace,"regl")&&(yt=!0);var _e=Xe._module,He=_e.styleOnSelect||_e.style;He&&(He(pt,Me,Me[0].node3),Me[0].nodeRangePlot3&&He(pt,Me,Me[0].nodeRangePlot3))}yt&&(U(pt),ne(pt))}(pt,xt)}function ft(pt,xt,yt){for(var Me=(yt?p.difference:p.union)({regions:pt},{regions:[xt]}).regions.reverse(),_e=0;_e<Me.length;_e++){var He=Me[_e];He.subtract=Ot(He,Me.slice(0,_e))}return Me}function gt(pt,xt){if(Array.isArray(pt))for(var yt=xt.cd,ke=xt.cd[0].trace,Xe=0;Xe<pt.length;Xe++)pt[Xe]=g(pt[Xe],ke,yt);return pt}function ze(pt,xt){for(var yt=[],ke=0;ke<pt.length;ke++){yt[ke]=[];for(var Xe=0;Xe<pt[ke].length;Xe++){yt[ke][Xe]=[],yt[ke][Xe][0]=Xe?"L":"M";for(var Me=0;Me<pt[ke][Xe].length;Me++)yt[ke][Xe].push(pt[ke][Xe][Me])}xt||yt[ke].push(["Z",yt[ke][0][1],yt[ke][0][2]])}return yt}function Ve(pt,xt){for(var ke,Me,yt=[],Xe=[],_e=0;_e<xt.length;_e++){var He=xt[_e];Me=He._module.selectPoints(He,pt),Xe.push(Me),ke=gt(Me,He),yt=yt.concat(ke)}return yt}function Pe(pt,xt,yt,ke,Xe){var _e,He,We,Me=!!ke;Xe&&(_e=Xe.plotinfo,He=Xe.xaxes[0]._id,We=Xe.yaxes[0]._id);var Ze=[],nt=[],Bt=$t(pt),Je=pt._fullLayout;if(_e){var Ct=Je._zoomlayer,st=Je.dragmode,Pt=w(st),cn=z(st);if(Pt||cn){var _n=Q(pt,He,"x"),Nn=Q(pt,We,"y");if(_n&&Nn){var Vn=Ct.selectAll(".select-outline-"+_e.id);if(Vn&&pt._fullLayout._outlining&&Vn.length){for(var fn=Vn[0][0].getAttribute("d"),Rn=b(fn,pt,_e),En=[],Pn=0;Pn<Rn.length;Pn++){for(var Zn=Rn[Pn],Yn=[],mn=0;mn<Zn.length;mn++)Yn.push([kt(_n,Zn[mn][1]),kt(Nn,Zn[mn][2])]);Yn.xref=He,Yn.yref=We,Yn.subtract=Ot(Yn,En),En.push(Yn)}Bt=Bt.concat(En)}}}}var Wn=He&&We?[He+We]:Je._subplots.cartesian;!function Qe(pt){var xt=pt.calcdata;if(xt)for(var yt=0;yt<xt.length;yt++){var Me=pt._fullLayout._splomScenes;if(Me){var _e=Me[xt[yt][0].trace.uid];_e&&(_e.selectBatch=[])}}}(pt);for(var In={},Fn=0;Fn<Wn.length;Fn++){var vr=Wn[Fn],ir=vr.indexOf("y"),On=vr.slice(0,ir),hr=vr.slice(ir),rr=He&&We?yt:void 0;if(rr=Dt(Bt,On,hr,rr)){var bn=ke;if(!Me){var ve=Q(pt,On,"x"),he=Q(pt,hr,"y");bn=ee(pt,[ve],[he],vr);for(var ut=0;ut<bn.length;ut++){var mt=bn[ut],at=mt.cd[0],it=at.trace;if("scattergl"===mt._module.name&&!at.t.xpx){var ot=it.x,St=it.y,bt=it._length;at.t.xpx=[],at.t.ypx=[];for(var Et=0;Et<bt;Et++)at.t.xpx[Et]=ve.c2p(ot[Et]),at.t.ypx[Et]=he.c2p(St[Et])}"splom"===mt._module.name&&(In[it.uid]||(In[it.uid]=!0))}}var Nt=Ve(rr,bn);Ze=Ze.concat(Nt),nt=nt.concat(bn)}}var It={points:Ze};$e(pt,nt,It);var hn=Je.clickmode.indexOf("event")>-1&&xt;if(!_e&&xt){var Vt=$t(pt,!0);if(Vt.length){var Mn=Vt[0].xref,Wt=Vt[0].yref;if(Mn&&Wt){var wn=At(Vt);Lt([Q(pt,Mn,"x"),Q(pt,Wt,"y")])(It,wn)}}pt._fullLayout._noEmitSelectedAtStart?pt._fullLayout._noEmitSelectedAtStart=!1:hn&&en(pt,It),Je._reselect=!1}if(!_e&&Je._deselect){var jn=Je._deselect;(function Ke(pt,xt,yt){for(var ke=0;ke<yt.length;ke++){var Xe=yt[ke];if(Xe.xaxis&&Xe.xaxis._id===pt&&Xe.yaxis&&Xe.yaxis._id===xt)return!0}return!1})(He=jn.xref,We=jn.yref,nt)||dt(pt,He,We,ke),hn&&(It.points.length?en(pt,It):sn(pt)),Je._deselect=!1}return{eventData:It,selectionTesters:yt}}function dt(pt,xt,yt,ke){ke=ee(pt,[Q(pt,xt,"x")],[Q(pt,yt,"y")],xt+yt);for(var Xe=0;Xe<ke.length;Xe++){var Me=ke[Xe];Me._module.selectPoints(Me,!1)}$e(pt,ke)}function Dt(pt,xt,yt,ke){for(var Xe,Me=0;Me<pt.length;Me++){var _e=pt[Me];xt===_e.xref&&yt===_e.yref&&(Xe?ke=ye(Xe=ft(Xe,_e,!!_e.subtract)):(Xe=[_e],ke=K(_e)))}return ke}function $t(pt,xt){for(var yt=[],ke=pt._fullLayout,Xe=ke.selections,Me=Xe.length,_e=0;_e<Me;_e++)if(!xt||_e===ke._activeSelectionIndex){var He=Xe[_e];if(He){var Je,Ct,st,Pt,cn,We=He.xref,Ze=He.yref,nt=Q(pt,We,"x"),Bt=Q(pt,Ze,"y");if("rect"===He.type){cn=[];var _n=kt(nt,He.x0),Nn=kt(nt,He.x1),Vn=kt(Bt,He.y0),$n=kt(Bt,He.y1);cn=[[_n,Vn],[_n,$n],[Nn,$n],[Nn,Vn]],Je=Math.min(_n,Nn),Ct=Math.max(_n,Nn),st=Math.min(Vn,$n),Pt=Math.max(Vn,$n),cn.xmin=Je,cn.xmax=Ct,cn.ymin=st,cn.ymax=Pt,cn.xref=We,cn.yref=Ze,cn.subtract=!1,cn.isRect=!0,yt.push(cn)}else if("path"===He.type)for(var fn=He.path.split("Z"),Rn=[],En=0;En<fn.length;En++){var Pn=fn[En];if(Pn){var Zn=A.extractPathCoords(Pn+="Z",D.paramIsX,"raw"),Yn=A.extractPathCoords(Pn,D.paramIsY,"raw");Je=1/0,Ct=-1/0,st=1/0,Pt=-1/0,cn=[];for(var mn=0;mn<Zn.length;mn++){var Wn=kt(nt,Zn[mn]),In=kt(Bt,Yn[mn]);cn.push([Wn,In]),Je=Math.min(Wn,Je),Ct=Math.max(Wn,Ct),st=Math.min(In,st),Pt=Math.max(In,Pt)}cn.xmin=Je,cn.xmax=Ct,cn.ymin=st,cn.ymax=Pt,cn.xref=We,cn.yref=Ze,cn.subtract=Ot(cn,Rn),Rn.push(cn),yt.push(cn)}}}}return yt}function Ot(pt,xt){for(var yt=!1,ke=0;ke<xt.length;ke++)for(var Xe=xt[ke],Me=0;Me<pt.length;Me++)if(T(pt[Me],Xe)){yt=!yt;break}return yt}function kt(pt,xt){return"date"===pt.type&&(xt=xt.replace("_"," ")),"log"===pt.type?pt.c2p(xt):pt.r2p(xt,null,pt.calendar)}function At(pt){for(var xt=pt.length,yt=[],ke=0;ke<xt;ke++){var Xe=pt[ke];yt=(yt=yt.concat(Xe)).concat([Xe[0]])}return function Gt(pt){return pt.isRect=5===pt.length&&pt[0][0]===pt[4][0]&&pt[0][1]===pt[4][1]&&pt[0][0]===pt[1][0]&&pt[2][0]===pt[3][0]&&pt[0][1]===pt[3][1]&&pt[1][1]===pt[2][1]||pt[0][1]===pt[1][1]&&pt[2][1]===pt[3][1]&&pt[0][0]===pt[3][0]&&pt[1][0]===pt[2][0],pt.isRect&&(pt.xmin=Math.min(pt[0][0],pt[2][0]),pt.xmax=Math.max(pt[0][0],pt[2][0]),pt.ymin=Math.min(pt[0][1],pt[2][1]),pt.ymax=Math.max(pt[0][1],pt[2][1])),pt}(yt)}function Lt(pt){return function(xt,yt){for(var ke,Xe,Me=0;Me<pt.length;Me++){var _e=pt[Me],He=_e._id,We=He.charAt(0);if(yt.isRect){ke||(ke={});var Ze=yt[We+"min"],nt=yt[We+"max"];void 0!==Ze&&void 0!==nt&&(ke[He]=[ie(_e,Ze),ie(_e,nt)].sort(J))}else Xe||(Xe={}),Xe[He]=yt.map(ue(_e))}ke&&(xt.range=ke),Xe&&(xt.lassoPoints=Xe)}}function en(pt,xt){xt&&(xt.selections=(pt.layout||{}).selections||[]),pt.emit("plotly_selected",xt)}function sn(pt){pt.emit("plotly_deselect",null)}Ce.exports={reselect:Pe,prepSelect:function De(pt,xt,yt,ke,Xe){var Me=!ge(ke),_e=c(Xe),He=C(Xe),We=S(Xe),Ze=w(Xe),nt=z(Xe),Je="drawcircle"===Xe,Ct="drawline"===Xe||Je,st=ke.gd,Pt=st._fullLayout,cn=nt&&"immediate"===Pt.newselection.mode&&Me,_n=Pt._zoomlayer,Nn=ke.element.getBoundingClientRect(),Vn=ke.plotinfo,$n=ce(Vn),fn=xt-Nn.left,Rn=yt-Nn.top;Pt._calcInverseTransform(st);var hr,rr,bn,ve,he,ut,mt,En=$.apply3DTransform(Pt._invTransform)(fn,Rn),Pn=Pt._invScaleX,Zn=Pt._invScaleY,Yn=fn=En[0],mn=Rn=En[1],Wn="M"+fn+","+Rn,In=ke.xaxes[0],Fn=ke.yaxes[0],vr=In._length,ir=Fn._length,On=pt.altKey&&!(w(Xe)&&We);H(pt,st,ke),_e&&(hr=W([[fn,Rn]],le.BENDPX));var at=_n.selectAll("path.select-outline-"+Vn.id).data([1]),it=Ze?Pt.newshape:Pt.newselection;Ze&&(ke.hasText=it.label.text||it.label.texttemplate);var ot=Ze&&!We?it.fillcolor:"rgba(0,0,0,0)",St=it.line.color||(Me?d.contrast(st._fullLayout.plot_bgcolor):"#7f7f7f");at.enter().append("path").attr("class","select-outline select-outline-"+Vn.id).style({opacity:Ze?it.opacity/2:1,"stroke-dasharray":v(it.line.dash,it.line.width),"stroke-width":it.line.width+"px","shape-rendering":"crispEdges"}).call(d.stroke,St).call(d.fill,ot).attr("fill-rule","evenodd").classed("cursor-move",!!Ze).attr("transform",$n).attr("d",Wn+"Z");var bt=_n.append("path").attr("class","zoombox-corners").style({fill:d.background,stroke:d.defaultLine,"stroke-width":1}).attr("transform",$n).attr("d","M0,0Z");if(Ze&&ke.hasText){var Et=_n.select(".label-temp");Et.empty()&&(Et=_n.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Nt=Pt._uid+le.SELECTID,It=[],qt=ee(st,ke.xaxes,ke.yaxes,ke.subplot);cn&&!pt.shiftKey&&(ke._clearSubplotSelections=function(){if(Me){var Vt=In._id,Mn=Fn._id;dt(st,Vt,Mn,qt);for(var Wt=(st.layout||{}).selections||[],wn=[],Tn=!1,jn=0;jn<Wt.length;jn++){var or=Pt.selections[jn];or.xref!==Vt||or.yref!==Mn?wn.push(Wt[jn]):Tn=!0}Tn&&(st._fullLayout._noEmitSelectedAtStart=!0,h.call("_guiRelayout",st,{selections:wn}))}});var hn=function Qt(pt){return pt.plotinfo.fillRangeItems||Lt(pt.xaxes.concat(pt.yaxes))}(ke);ke.moveFn=function(Vt,Mn){ke._clearSubplotSelections&&(ke._clearSubplotSelections(),ke._clearSubplotSelections=void 0),Yn=Math.max(0,Math.min(vr,Pn*Vt+fn)),mn=Math.max(0,Math.min(ir,Zn*Mn+Rn));var Wt=Math.abs(Yn-fn),wn=Math.abs(mn-Rn);if(He){var Tn,jn,or;if(nt){var Cr=Pt.selectdirection;switch(Tn="any"===Cr?wn<Math.min(.6*Wt,pe)?"h":Wt<Math.min(.6*wn,pe)?"v":"d":Cr){case"h":jn=Je?ir/2:0,or=ir;break;case"v":jn=Je?vr/2:0,or=vr}}if(Ze)switch(Pt.newshape.drawdirection){case"vertical":Tn="h",jn=Je?ir/2:0,or=ir;break;case"horizontal":Tn="v",jn=Je?vr/2:0,or=vr;break;case"ortho":Wt<wn?(Tn="h",jn=Rn,or=mn):(Tn="v",jn=fn,or=Yn);break;default:Tn="d"}"h"===Tn?((ve=Ct?L(Je,[Yn,jn],[Yn,or]):[[fn,jn],[fn,or],[Yn,or],[Yn,jn]]).xmin=Ct?Yn:Math.min(fn,Yn),ve.xmax=Ct?Yn:Math.max(fn,Yn),ve.ymin=Math.min(jn,or),ve.ymax=Math.max(jn,or),bt.attr("d","M"+ve.xmin+","+(Rn-pe)+"h-4v"+2*pe+"h4ZM"+(ve.xmax-1)+","+(Rn-pe)+"h4v"+2*pe+"h-4Z")):"v"===Tn?((ve=Ct?L(Je,[jn,mn],[or,mn]):[[jn,Rn],[jn,mn],[or,mn],[or,Rn]]).xmin=Math.min(jn,or),ve.xmax=Math.max(jn,or),ve.ymin=Ct?mn:Math.min(Rn,mn),ve.ymax=Ct?mn:Math.max(Rn,mn),bt.attr("d","M"+(fn-pe)+","+ve.ymin+"v-4h"+2*pe+"v4ZM"+(fn-pe)+","+(ve.ymax-1)+"v4h"+2*pe+"v-4Z")):"d"===Tn&&((ve=Ct?L(Je,[fn,Rn],[Yn,mn]):[[fn,Rn],[fn,mn],[Yn,mn],[Yn,Rn]]).xmin=Math.min(fn,Yn),ve.xmax=Math.max(fn,Yn),ve.ymin=Math.min(Rn,mn),ve.ymax=Math.max(Rn,mn),bt.attr("d","M0,0Z"))}else _e&&(hr.addPt([Yn,mn]),ve=hr.filtered);if(ke.selectionDefs&&ke.selectionDefs.length?(bn=ft(ke.mergedPolygons,ve,On),ve.subtract=On,rr=ye(ke.selectionDefs.concat([ve]))):(bn=[ve],rr=K(ve)),_(ze(bn,We),at,ke),nt){var pr,nn=Pe(st,!1),si=nn.eventData?nn.eventData.points.slice():[];nn=Pe(st,!1,rr,qt,ke),rr=nn.selectionTesters,mt=nn.eventData,pr=hr?hr.filtered:At(bn),O.throttle(Nt,le.SELECTDELAY,function(){for(var $r=(It=Ve(rr,qt)).slice(),na=0;na<si.length;na++){for(var ka=si[na],oi=!1,Ci=0;Ci<$r.length;Ci++)if($r[Ci].curveNumber===ka.curveNumber&&$r[Ci].pointNumber===ka.pointNumber){oi=!0;break}oi||$r.push(ka)}$r.length&&(mt||(mt={}),mt.points=$r),hn(mt,pr),function Jt(pt,xt){pt.emit("plotly_selecting",xt)}(st,mt)})}},ke.clickFn=function(Vt,Mn){if(bt.remove(),st._fullLayout._activeShapeIndex>=0)st._fullLayout._deactivateShape(st);else if(!Ze){var Wt=Pt.clickmode;O.done(Nt).then(function(){if(O.clear(Nt),2===Vt){for(at.remove(),he=0;he<qt.length;he++)(ut=qt[he])._module.selectPoints(ut,!1);if($e(st,qt),Z(ke),sn(st),qt.length){var wn=qt[0].xaxis,Tn=qt[0].yaxis;if(wn&&Tn){for(var jn=[],or=st._fullLayout.selections,Cr=0;Cr<or.length;Cr++){var nn=or[Cr];nn&&(nn.xref!==wn._id||nn.yref!==Tn._id)&&jn.push(nn)}jn.length<or.length&&(st._fullLayout._noEmitSelectedAtStart=!0,h.call("_guiRelayout",st,{selections:jn}))}}}else Wt.indexOf("select")>-1&&Ne(Mn,st,ke.xaxes,ke.yaxes,ke.subplot,ke,at),"event"===Wt&&en(st,void 0);y.click(st,Mn,Vn.id)}).catch($.error)}},ke.doneFn=function(){bt.remove(),O.done(Nt).then(function(){O.clear(Nt),!cn&&ve&&ke.selectionDefs&&(ve.subtract=On,ke.selectionDefs.push(ve),ke.mergedPolygons.length=0,[].push.apply(ke.mergedPolygons,bn)),(cn||Ze)&&Z(ke,cn),ke.doneFnCompleted&&ke.doneFnCompleted(It),nt&&en(st,mt)}).catch($.error)}},clearOutline:E,clearSelectionsCache:Z,selectOnClick:Ne}},6056:function(Ce,j,o){"use strict";var p=o(3916),T=o(5376),h=o(2904).line,v=o(8192).u,d=o(2880).extendFlat,y=o(1780).templatedArray,m=(o(6208),o(5464)),c=o(1776).ye,C=o(7728);Ce.exports=y("shape",{visible:d({},m.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:d({},m.legend,{editType:"calc+arraydraw"}),legendgroup:d({},m.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:d({},m.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:T({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:d({},m.legendrank,{editType:"calc+arraydraw"}),legendwidth:d({},m.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:d({},p.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},x0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},x1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},yref:d({},p.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},y0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},y1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:d({},h.color,{editType:"arraydraw"}),width:d({},h.width,{editType:"calc+arraydraw"}),dash:d({},v,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:c({},{keys:Object.keys(C)}),font:T({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},6084:function(Ce,j,o){"use strict";var p=o(3400),T=o(4460),h=o(3068),v=o(5152);function y(c){return g(c.line.width,c.ysizemode,c.y0,c.y1,c.path,!0)}function g(c,C,w,S,z,A){var D=c/2,_=A;if("pixel"===C){var E=z?v.extractPathCoords(z,A?h.paramIsY:h.paramIsX):[w,S],M=p.aggNums(Math.max,null,E),L=p.aggNums(Math.min,null,E),b=L<0?Math.abs(L)+D:D,P=M>0?M+D:D;return{ppad:D,ppadplus:_?b:P,ppadminus:_?P:b}}return{ppad:D}}function m(c,C,w){var A,D,S="x"===c._id.charAt(0)?"x":"y",z="category"===c.type||"multicategory"===c.type,_=0,E=0,M=z?c.r2c:c.d2c;if("scaled"===C[S+"sizemode"]?(A=C[S+"0"],D=C[S+"1"],z&&(_=C[S+"0shift"],E=C[S+"1shift"])):(A=C[S+"anchor"],D=C[S+"anchor"]),void 0!==A)return[M(A)+_,M(D)+E];if(C.path){var G,J,re,O,b=1/0,P=-1/0,I=C.path.match(h.segmentRE);for("date"===c.type&&(M=v.decodeDate(M)),G=0;G<I.length;G++)void 0!==(J=w[I[G].charAt(0)].drawn)&&(re=I[G].substr(1).match(h.paramRE))&&!(re.length<J)&&((O=M(re[J]))<b&&(b=O),O>P&&(P=O));if(P>=b)return[b,P]}}Ce.exports=function(C){var c,S=p.filterVisible(C._fullLayout.shapes);if(S.length&&C._fullData.length)for(var z=0;z<S.length;z++){var A=S[z];A._extremes={};var D,_,E=T.getRefType(A.xref),M=T.getRefType(A.yref);"paper"!==A.xref&&"domain"!==E&&(_=m(D=T.getFromId(C,A.xref),A,h.paramIsX))&&(A._extremes[D._id]=T.findExtremes(D,_,g((c=A).line.width,c.xsizemode,c.x0,c.x1,c.path,!1))),"paper"!==A.yref&&"domain"!==M&&(_=m(D=T.getFromId(C,A.yref),A,h.paramIsY))&&(A._extremes[D._id]=T.findExtremes(D,_,y(A)))}}},3068:function(Ce){"use strict";Ce.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},3712:function(Ce,j,o){"use strict";var p=o(3400),T=o(4460),h=o(1272),v=o(6056),d=o(5152);function g(m,c,C){function w(Fe,Se){return p.coerce(m,c,v,Fe,Se)}if(c._isShape=!0,w("visible")){w("showlegend")&&(w("legend"),w("legendwidth"),w("legendgroup"),w("legendgrouptitle.text"),p.coerceFont(w,"legendgrouptitle.font"),w("legendrank"));var A=w("path"),_=w("type",A?"path":"rect"),E="path"!==_;E&&delete c.path,w("editable"),w("layer"),w("opacity"),w("fillcolor"),w("fillrule"),w("line.width")&&(w("line.color"),w("line.dash"));for(var L=w("xsizemode"),b=w("ysizemode"),P=["x","y"],I=0;I<2;I++){var O,Q,U,G=P[I],$=G+"anchor",J="x"===G?L:b,re={_fullLayout:C},ne=T.coerceRef(m,c,re,G,void 0,"paper");if("range"===T.getRefType(ne)?((O=T.getFromId(re,ne))._shapeIndices.push(c._index),U=d.rangeToShapePosition(O),Q=d.shapePositionToRange(O),("category"===O.type||"multicategory"===O.type)&&(w(G+"0shift"),w(G+"1shift"))):Q=U=p.identity,E){var K=G+"0",X=G+"1",ie=m[K],ue=m[X];m[K]=Q(m[K],!0),m[X]=Q(m[X],!0),"pixel"===J?(w(K,0),w(X,10)):(T.coercePosition(c,re,w,ne,K,.25),T.coercePosition(c,re,w,ne,X,.75)),c[K]=U(c[K]),c[X]=U(c[X]),m[K]=ie,m[X]=ue}if("pixel"===J){var ce=m[$];m[$]=Q(m[$],!0),T.coercePosition(c,re,w,ne,$,.25),c[$]=U(c[$]),m[$]=ce}}E&&p.noneOrAll(m,c,["x0","x1","y0","y1"]);var De,Ne,ge="line"===_;if(E&&(De=w("label.texttemplate")),De||(Ne=w("label.text")),Ne||De){w("label.textangle");var Be=w("label.textposition",ge?"middle":"middle center");w("label.xanchor"),w("label.yanchor",function y(m,c){return m?"bottom":-1!==c.indexOf("top")?"top":-1!==c.indexOf("bottom")?"bottom":"middle"}(ge,Be)),w("label.padding"),p.coerceFont(w,"label.font",C.font)}}}Ce.exports=function(c,C){h(c,C,{name:"shapes",handleItemDefaults:g})}},728:function(Ce,j,o){"use strict";var p=o(3400),T=o(4460),h=o(2736),v=o(3616),d=o(9856).readPaths,y=o(5152),g=y.getPathString,m=o(7728),c=o(4284).FROM_TL;Ce.exports=function(z,A,D,_){if(_.selectAll(".shape-label").remove(),D.label.text||D.label.texttemplate){var E;if(D.label.texttemplate){var M={};if("path"!==D.type){var L=T.getFromId(z,D.xref),b=T.getFromId(z,D.yref);for(var P in m){var I=m[P](D,L,b);void 0!==I&&(M[P]=I)}}E=p.texttemplateStringForShapes(D.label.texttemplate,{},z._fullLayout._d3locale,M)}else E=D.label.text;var Q,U,ne,le,G={"data-index":A},$=D.label.font,O=_.append("g").attr(G).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(E);if(D.path){var pe=g(z,D),W=d(pe,z);Q=1/0,ne=1/0,U=-1/0,le=-1/0;for(var K=0;K<W.length;K++)for(var X=0;X<W[K].length;X++)for(var ie=W[K][X],ue=1;ue<ie.length;ue+=2){var ce=ie[ue],ge=ie[ue+1];Q=Math.min(Q,ce),U=Math.max(U,ce),ne=Math.min(ne,ge),le=Math.max(le,ge)}}else{var De=T.getFromId(z,D.xref),Ne=D.x0shift,Be=D.x1shift,Fe=T.getRefType(D.xref),Se=T.getFromId(z,D.yref),ye=D.y0shift,H=D.y1shift,Y=T.getRefType(D.yref),te=function(Ee,Oe){return y.getDataToPixel(z,De,Oe,!1,Fe)(Ee)},Z=function(Ee,Oe){return y.getDataToPixel(z,Se,Oe,!0,Y)(Ee)};Q=te(D.x0,Ne),U=te(D.x1,Be),ne=Z(D.y0,ye),le=Z(D.y1,H)}var N=D.label.textangle;"auto"===N&&(N="line"===D.type?function C(S,z,A,D){var E;return E=Math.abs(A-S),-180/Math.PI*Math.atan2(A>=S?z-D:D-z,E)}(Q,ne,U,le):0),O.call(function(Ee){return Ee.call(v.font,$).attr({}),h.convertToTspans(Ee,z),Ee});var B=function w(S,z,A,D,_,E,M){var Q,U,ne,le,L=_.label.textposition,b=_.label.textangle,P=_.label.padding,I=_.type,G=Math.PI/180*E,$=Math.sin(G),J=Math.cos(G),re=_.label.xanchor,O=_.label.yanchor;if("line"===I){"start"===L?(Q=S,U=z):"end"===L?(Q=A,U=D):(Q=(S+A)/2,U=(z+D)/2),"auto"===re&&(re="start"===L?"auto"===b?A>S?"left":A<S?"right":"center":A>S?"right":A<S?"left":"center":"end"===L?"auto"===b?A>S?"right":A<S?"left":"center":A>S?"left":A<S?"right":"center":"center");var W={bottom:-1,middle:0,top:1};if("auto"===b){var K=W[O];ne=-P*$*K,le=P*J*K}else ne=P*{left:1,center:0,right:-1}[re],le=P*W[O];Q+=ne,U+=le}else ne=P+3,-1!==L.indexOf("right")?(Q=Math.max(S,A)-ne,"auto"===re&&(re="right")):-1!==L.indexOf("left")?(Q=Math.min(S,A)+ne,"auto"===re&&(re="left")):(Q=(S+A)/2,"auto"===re&&(re="center")),U=-1!==L.indexOf("top")?Math.min(z,D):-1!==L.indexOf("bottom")?Math.max(z,D):(z+D)/2,le=P,"bottom"===O?U-=le:"top"===O&&(U+=le);var ue=c[O],ce=_.label.font.size,ge=M.height;return{textx:Q+(ge*ue-ce)*$,texty:U+-(ge*ue-ce)*J,xanchor:re}}(Q,ne,U,le,D,N,v.bBox(O.node())),se=B.textx,xe=B.texty;O.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[B.xanchor],y:xe,x:se,transform:"rotate("+N+","+se+","+xe+")"}).call(h.positionText,se,xe)}}},5496:function(Ce,j,o){"use strict";var T=o(3400).strTranslate,h=o(6476),v=o(2760),d=v.drawMode,y=v.selectMode,g=o(4040),m=o(6308),c=o(7e3),C=c.i000,w=c.i090,S=c.i180,z=c.i270,D=o(1936).clearOutlineControllers,_=o(9856),E=_.pointsOnRectangle,M=_.pointsOnEllipse,L=_.writePaths,b=o(3940).newShapes,P=o(3940).createShapeObj,I=o(5968),G=o(728);function J(O,Q){var pe,W,K,le=O.length;return K=O[pe=(Q+1)%le][2],(W=O[pe][1])===O[Q][1]&&K===O[Q][2]&&(W=O[pe=(Q+2)%le][1],K=O[pe][2]),[pe,W,K]}Ce.exports=function O(Q,U,ne,le){le||(le=0);var pe=ne.gd;function W(){O(Q,U,ne,le++),(M(Q[0])||ne.hasText)&&K({redrawing:!0})}function K(ft){var gt={};void 0!==ne.isActiveShape&&(ne.isActiveShape=!1,gt=b(U,ne)),void 0!==ne.isActiveSelection&&(ne.isActiveSelection=!1,gt=I(U,ne),pe._fullLayout._reselect=!0),Object.keys(gt).length&&g.call((ft||{}).redrawing?"relayout":"_guiRelayout",pe,gt)}var De,Ne,Be,Fe,Se,ie=pe._fullLayout._zoomlayer,ue=ne.dragmode,ce=d(ue),ge=y(ue);if((ce||ge)&&(pe._fullLayout._outlining=!0),D(pe),U.attr("d",L(Q)),le||!ne.isActiveShape&&!ne.isActiveSelection||(Se=function $(O,Q){for(var U=0;U<Q.length;U++){var ne=Q[U];O[U]=[];for(var le=0;le<ne.length;le++){O[U][le]=[];for(var pe=0;pe<ne[le].length;pe++)O[U][le][pe]=ne[le][pe]}}return O}([],Q),function se(ft){De=[];for(var gt=0;gt<Q.length;gt++){var ze=Q[gt],Ve=E(ze),Pe=!Ve&&M(ze);De[gt]=[];for(var Qe=ze.length,Ke=0;Ke<Qe;Ke++)if("Z"!==ze[Ke][0]&&(!Pe||Ke===C||Ke===w||Ke===S||Ke===z)){var Dt,dt=Ve&&ne.isActiveSelection;dt&&(Dt=J(ze,Ke));var $t=ze[Ke][1],Ot=ze[Ke][2],kt=ft.append(dt?"rect":"circle").attr("data-i",gt).attr("data-j",Ke).style({fill:m.background,stroke:m.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(dt){var At=Dt[1]-$t,Gt=Dt[2]-Ot,Lt=Gt?5:Math.max(Math.min(25,Math.abs(At)-5),5),Qt=At?5:Math.max(Math.min(25,Math.abs(Gt)-5),5);kt.classed(Gt?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Lt).attr("height",Qt).attr("x",$t-Lt/2).attr("y",Ot-Qt/2).attr("transform",T(At/2,Gt/2))}else kt.classed("cursor-grab",!0).attr("r",5).attr("cx",$t).attr("cy",Ot);De[gt][Ke]={element:kt.node(),gd:pe,prepFn:te,doneFn:N,clickFn:B},h.init(De[gt][Ke])}}}(ie.append("g").attr("class","outline-controllers")),function ct(){if(Ne=[],Q.length){Ne[0]={element:U[0][0],gd:pe,prepFn:Ee,doneFn:Oe,clickFn:$e},h.init(Ne[0])}}()),ce&&ne.hasText){var H=ie.select(".label-temp"),Y=P(U,ne,ne.dragmode);G(pe,"label-temp",Y,H)}function te(ft){Be=+ft.srcElement.getAttribute("data-i"),Fe=+ft.srcElement.getAttribute("data-j"),De[Be][Fe].moveFn=Z}function Z(ft,gt){if(Q.length){var ze=Se[Be][Fe][1],Ve=Se[Be][Fe][2],Pe=Q[Be],Qe=Pe.length;if(E(Pe)){var Ke=ft,dt=gt;ne.isActiveSelection&&(J(Pe,Fe)[1]===Pe[Fe][1]?dt=0:Ke=0);for(var $t=0;$t<Qe;$t++)if($t!==Fe){var Ot=Pe[$t];Ot[1]===Pe[Fe][1]&&(Ot[1]=ze+Ke),Ot[2]===Pe[Fe][2]&&(Ot[2]=Ve+dt)}if(Pe[Fe][1]=ze+Ke,Pe[Fe][2]=Ve+dt,!E(Pe))for(var kt=0;kt<Qe;kt++)for(var At=0;At<Pe[kt].length;At++)Pe[kt][At]=Se[Be][kt][At]}else Pe[Fe][1]=ze+ft,Pe[Fe][2]=Ve+gt;W()}}function N(){K()}function B(ft,gt){if(2===ft){Be=+gt.srcElement.getAttribute("data-i"),Fe=+gt.srcElement.getAttribute("data-j");var ze=Q[Be];!E(ze)&&!M(ze)&&function ee(){if(Q.length&&Q[Be]&&Q[Be].length){for(var ft=[],gt=0;gt<Q[Be].length;gt++)gt!==Fe&&ft.push(Q[Be][gt]);ft.length>1&&(2!==ft.length||"Z"!==ft[1][0])&&(0===Fe&&(ft[0][0]="M"),Q[Be]=ft,W(),K())}}()}}function Te(ft,gt){(function xe(ft,gt){if(Q.length)for(var ze=0;ze<Q.length;ze++)for(var Ve=0;Ve<Q[ze].length;Ve++)for(var Pe=0;Pe+2<Q[ze][Ve].length;Pe+=2)Q[ze][Ve][Pe+1]=Se[ze][Ve][Pe+1]+ft,Q[ze][Ve][Pe+2]=Se[ze][Ve][Pe+2]+gt})(ft,gt),W()}function Ee(ft){(Be=+ft.srcElement.getAttribute("data-i"))||(Be=0),Ne[Be].moveFn=Te}function Oe(){K()}function $e(ft){2===ft&&function re(O){if(y(O._fullLayout.dragmode)){D(O);var Q=O._fullLayout._activeSelectionIndex,U=(O.layout||{}).selections||[];if(Q<U.length){for(var ne=[],le=0;le<U.length;le++)le!==Q&&ne.push(U[le]);delete O._fullLayout._activeSelectionIndex;var pe=O._fullLayout.selections[Q];O._fullLayout._deselect={xref:pe.xref,yref:pe.yref},g.call("_guiRelayout",O,{selections:ne})}}}(pe)}}},4016:function(Ce,j,o){"use strict";var p=o(3428),T=o(4040),h=o(3400),v=o(4460),d=o(9856).readPaths,y=o(5496),g=o(728),m=o(1936).clearOutlineControllers,c=o(6308),C=o(3616),w=o(1780).arrayEditor,S=o(6476),z=o(3972),A=o(3068),D=o(5152),_=D.getPathString;function E(O){var Q=O._fullLayout;for(var U in Q._shapeUpperLayer.selectAll("path").remove(),Q._shapeLowerLayer.selectAll("path").remove(),Q._shapeUpperLayer.selectAll("text").remove(),Q._shapeLowerLayer.selectAll("text").remove(),Q._plots){var ne=Q._plots[U].shapelayer;ne&&(ne.selectAll("path").remove(),ne.selectAll("text").remove())}for(var le=0;le<Q.shapes.length;le++)!0===Q.shapes[le].visible&&b(O,le)}function M(O){return!!O._fullLayout._outlining}function L(O){return!O._context.edits.shapePosition}function b(O,Q){O._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+Q+'"]').remove();var U=D.makeShapesOptionsAndPlotinfo(O,Q),ne=U.options,le=U.plotinfo;ne._input&&!0===ne.visible&&function W(K){var X=_(O,ne),ie={"data-index":Q,"fill-rule":ne.fillrule,d:X},ue=ne.opacity,ce=ne.fillcolor,ge=ne.line.width?ne.line.color:"rgba(0,0,0,0)",De=ne.line.width,Ne=ne.line.dash;!De&&!0===ne.editable&&(De=5,Ne="solid");var Be="Z"!==X[X.length-1],Fe=L(O)&&ne.editable&&O._fullLayout._activeShapeIndex===Q;Fe&&(ce=Be?"rgba(0,0,0,0)":O._fullLayout.activeshape.fillcolor,ue=O._fullLayout.activeshape.opacity);var H,Se=K.append("g").classed("shape-group",!0).attr({"data-index":Q}),ye=Se.append("path").attr(ie).style("opacity",ue).call(c.stroke,ge).call(c.fill,ce).call(C.dashLine,Ne,De);if(P(Se,O,ne),g(O,Q,ne,Se),(Fe||O._context.edits.shapePosition)&&(H=w(O.layout,"shapes",ne)),Fe){ye.style({cursor:"move"});var Y={element:ye.node(),plotinfo:le,gd:O,editHelpers:H,hasText:ne.label.text||ne.label.texttemplate,isActiveShape:!0},te=d(X,O);y(te,ye,Y)}else O._context.edits.shapePosition?function I(O,Q,U,ne,le,pe){var De,Ne,Be,Fe,Se,ye,H,Y,te,Z,N,ee,B,se,xe,Ot,W=10,K=10,X="pixel"===U.xsizemode,ie="pixel"===U.ysizemode,ue="line"===U.type,ce="path"===U.type,ge=pe.modifyItem,Te=p.select(Q.node().parentNode),Ee=v.getFromId(O,U.xref),Oe=v.getRefType(U.xref),$e=v.getFromId(O,U.yref),ct=v.getRefType(U.yref),ft=U.x0shift,gt=U.x1shift,ze=U.y0shift,Ve=U.y1shift,Pe=function(ke,Xe){return D.getDataToPixel(O,Ee,Xe,!1,Oe)(ke)},Qe=function(ke,Xe){return D.getDataToPixel(O,$e,Xe,!0,ct)(ke)},Ke=D.getPixelToData(O,Ee,!1,Oe),dt=D.getPixelToData(O,$e,!0,ct),Dt=kt(),$t={element:Dt.node(),gd:O,prepFn:Lt,doneFn:Qt,clickFn:Jt};function kt(){return ue?At():Q}function At(){var ke=10,Xe=Math.max(U.line.width,ke),Me=le.append("g").attr("data-index",ne).attr("drag-helper",!0);Me.append("path").attr("d",Q.attr("d")).style({cursor:"move","stroke-width":Xe,"stroke-opacity":"0"});var _e={"fill-opacity":"0"},He=Math.max(Xe/2,ke);return Me.append("circle").attr({"data-line-point":"start-point",cx:X?Pe(U.xanchor)+U.x0:Pe(U.x0,ft),cy:ie?Qe(U.yanchor)-U.y0:Qe(U.y0,ze),r:He}).style(_e).classed("cursor-grab",!0),Me.append("circle").attr({"data-line-point":"end-point",cx:X?Pe(U.xanchor)+U.x1:Pe(U.x1,gt),cy:ie?Qe(U.yanchor)-U.y1:Qe(U.y1,Ve),r:He}).style(_e).classed("cursor-grab",!0),Me}function Gt(ke){if(M(O))Ot=null;else if(ue)Ot="path"===ke.target.tagName?"move":"start-point"===ke.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var Xe=$t.element.getBoundingClientRect(),Me=Xe.right-Xe.left,_e=Xe.bottom-Xe.top,Ze=!ce&&Me>W&&_e>K&&!ke.shiftKey?S.getCursor((ke.clientX-Xe.left)/Me,1-(ke.clientY-Xe.top)/_e):"move";z(Q,Ze),Ot=Ze.split("-")[0]}}function Lt(ke){M(O)||(X&&(Se=Pe(U.xanchor)),ie&&(ye=Qe(U.yanchor)),"path"===U.type?xe=U.path:(De=X?U.x0:Pe(U.x0),Ne=ie?U.y0:Qe(U.y0),Be=X?U.x1:Pe(U.x1),Fe=ie?U.y1:Qe(U.y1)),De<Be?(te=De,B="x0",Z=Be,se="x1"):(te=Be,B="x1",Z=De,se="x0"),!ie&&Ne<Fe||ie&&Ne>Fe?(H=Ne,N="y0",Y=Fe,ee="y1"):(H=Fe,N="y1",Y=Ne,ee="y0"),Gt(ke),pt(le,U),yt(Q,U,O),$t.moveFn="move"===Ot?en:sn,$t.altKey=ke.altKey)}function Qt(){M(O)||(z(Q),xt(le),P(Q,O,U),T.call("_guiRelayout",O,pe.getUpdateObj()))}function Jt(){M(O)||xt(le)}function en(ke,Xe){if("path"===U.type){var Me=function(We){return We},_e=Me,He=Me;X?ge("xanchor",U.xanchor=Ke(Se+ke)):(_e=function(Ze){return Ke(Pe(Ze)+ke)},Ee&&"date"===Ee.type&&(_e=D.encodeDate(_e))),ie?ge("yanchor",U.yanchor=dt(ye+Xe)):(He=function(Ze){return dt(Qe(Ze)+Xe)},$e&&"date"===$e.type&&(He=D.encodeDate(He))),ge("path",U.path=G(xe,_e,He))}else X?ge("xanchor",U.xanchor=Ke(Se+ke)):(ge("x0",U.x0=Ke(De+ke)),ge("x1",U.x1=Ke(Be+ke))),ie?ge("yanchor",U.yanchor=dt(ye+Xe)):(ge("y0",U.y0=dt(Ne+Xe)),ge("y1",U.y1=dt(Fe+Xe)));Q.attr("d",_(O,U)),pt(le,U),g(O,ne,U,Te)}function sn(ke,Xe){if(ce){var Me=function(fn){return fn},_e=Me,He=Me;X?ge("xanchor",U.xanchor=Ke(Se+ke)):(_e=function(Rn){return Ke(Pe(Rn)+ke)},Ee&&"date"===Ee.type&&(_e=D.encodeDate(_e))),ie?ge("yanchor",U.yanchor=dt(ye+Xe)):(He=function(Rn){return dt(Qe(Rn)+Xe)},$e&&"date"===$e.type&&(He=D.encodeDate(He))),ge("path",U.path=G(xe,_e,He))}else if(ue){if("resize-over-start-point"===Ot){var We=De+ke,Ze=ie?Ne-Xe:Ne+Xe;ge("x0",U.x0=X?We:Ke(We)),ge("y0",U.y0=ie?Ze:dt(Ze))}else if("resize-over-end-point"===Ot){var nt=Be+ke,Bt=ie?Fe-Xe:Fe+Xe;ge("x1",U.x1=X?nt:Ke(nt)),ge("y1",U.y1=ie?Bt:dt(Bt))}}else{var Je=function(fn){return-1!==Ot.indexOf(fn)},Ct=Je("n"),st=Je("s"),Pt=Je("w"),cn=Je("e"),_n=Ct?H+Xe:H,Nn=st?Y+Xe:Y,Vn=Pt?te+ke:te,$n=cn?Z+ke:Z;ie&&(Ct&&(_n=H-Xe),st&&(Nn=Y-Xe)),(!ie&&Nn-_n>K||ie&&_n-Nn>K)&&(ge(N,U[N]=ie?_n:dt(_n)),ge(ee,U[ee]=ie?Nn:dt(Nn))),$n-Vn>W&&(ge(B,U[B]=X?Vn:Ke(Vn)),ge(se,U[se]=X?$n:Ke($n)))}Q.attr("d",_(O,U)),pt(le,U),g(O,ne,U,Te)}function pt(ke,Xe){function Me(){var _e="path"!==Xe.type,He=ke.selectAll(".visual-cue").data([0]),We=1;He.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":We}).classed("visual-cue",!0);var Ze=Pe(X?Xe.xanchor:h.midRange(_e?[Xe.x0,Xe.x1]:D.extractPathCoords(Xe.path,A.paramIsX))),nt=Qe(ie?Xe.yanchor:h.midRange(_e?[Xe.y0,Xe.y1]:D.extractPathCoords(Xe.path,A.paramIsY)));Ze=D.roundPositionForSharpStrokeRendering(Ze,We),nt=D.roundPositionForSharpStrokeRendering(nt,We),He.attr("d",X&&ie?"M"+(Ze-1-We)+","+(nt-1-We)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z":X?"M"+(Ze-1-We)+","+(nt-9-We)+"v18 h2 v-18 Z":"M"+(Ze-9-We)+","+(nt-1-We)+"h18 v2 h-18 Z")}(X||ie)&&Me()}function xt(ke){ke.selectAll(".visual-cue").remove()}function yt(ke,Xe,Me){var _e=Xe.xref,He=Xe.yref,We=v.getFromId(Me,_e),Ze=v.getFromId(Me,He),nt="";"paper"!==_e&&!We.autorange&&(nt+=_e),"paper"!==He&&!Ze.autorange&&(nt+=He),C.setClipUrl(ke,nt?"clip"+Me._fullLayout._uid+nt:null,Me)}S.init($t),Dt.node().onmousemove=Gt}(O,ye,ne,Q,K,H):!0===ne.editable&&ye.style("pointer-events",Be||c.opacity(ce)*ue<=.5?"stroke":"all");ye.node().addEventListener("click",function(){return function $(O,Q){if(L(O)){var ne=+Q.node().getAttribute("data-index");if(ne>=0){if(ne===O._fullLayout._activeShapeIndex)return void J(O);O._fullLayout._activeShapeIndex=ne,O._fullLayout._deactivateShape=J,E(O)}}}(O,ye)})}("above"===ne.layer?O._fullLayout._shapeUpperLayer:"paper"===ne.xref||"paper"===ne.yref?O._fullLayout._shapeLowerLayer:"between"===ne.layer?le.shapelayerBetween:le._hadPlotinfo?(le.mainplotinfo||le).shapelayer:O._fullLayout._shapeLowerLayer)}function P(O,Q,U){var ne=(U.xref+U.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");C.setClipUrl(O,ne?"clip"+Q._fullLayout._uid+ne:null,Q)}function G(O,Q,U){return O.replace(A.segmentRE,function(ne){var le=0,pe=ne.charAt(0),W=A.paramIsX[pe],K=A.paramIsY[pe],X=A.numParams[pe];return pe+ne.substr(1).replace(A.paramRE,function(ue){return le>=X||(W[le]?ue=Q(ue):K[le]&&(ue=U(ue)),le++),ue})})}function J(O){L(O)&&O._fullLayout._activeShapeIndex>=0&&(m(O),delete O._fullLayout._activeShapeIndex,E(O))}Ce.exports={draw:E,drawOne:b,eraseActiveShape:function re(O){if(L(O)){m(O);var Q=O._fullLayout._activeShapeIndex,U=(O.layout||{}).shapes||[];if(Q<U.length){for(var ne=[],le=0;le<U.length;le++)le!==Q&&ne.push(U[le]);return delete O._fullLayout._activeShapeIndex,T.call("_guiRelayout",O,{shapes:ne})}}},drawLabel:g}},2872:function(Ce,j,o){"use strict";var p=o(7824).overrideAll,T=o(5464),h=o(5376),v=o(8192).u,d=o(2880).extendFlat,y=o(1776).ye,g=o(7728);Ce.exports=p({newshape:{visible:d({},T.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:d({},T.legend,{}),legendgroup:d({},T.legendgroup,{}),legendgrouptitle:{text:d({},T.legendgrouptitle.text,{}),font:h({})},legendrank:d({},T.legendrank,{}),legendwidth:d({},T.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:d({},v,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:d({},T.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:y({newshape:!0},{keys:Object.keys(g)}),font:h({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},7e3:function(Ce){"use strict";Ce.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},5144:function(Ce,j,o){"use strict";var p=o(6308),T=o(3400);Ce.exports=function(d,y,g){g("newshape.visible"),g("newshape.name"),g("newshape.showlegend"),g("newshape.legend"),g("newshape.legendwidth"),g("newshape.legendgroup"),g("newshape.legendgrouptitle.text"),T.coerceFont(g,"newshape.legendgrouptitle.font"),g("newshape.legendrank"),g("newshape.drawdirection"),g("newshape.layer"),g("newshape.fillcolor"),g("newshape.fillrule"),g("newshape.opacity"),g("newshape.line.width")&&(g("newshape.line.color",p.contrast((d||{}).plot_bgcolor||"#FFF")),g("newshape.line.dash"));var C="drawline"===d.dragmode,w=g("newshape.label.text"),S=g("newshape.label.texttemplate");if(w||S){g("newshape.label.textangle");var z=g("newshape.label.textposition",C?"middle":"middle center");g("newshape.label.xanchor"),g("newshape.label.yanchor",function h(v,d){return v?"bottom":-1!==d.indexOf("top")?"top":-1!==d.indexOf("bottom")?"bottom":"middle"}(C,z)),g("newshape.label.padding"),T.coerceFont(g,"newshape.label.font",y.font)}g("activeshape.fillcolor"),g("activeshape.opacity")}},9856:function(Ce,j,o){"use strict";var p=o(9604),T=o(7e3),h=T.CIRCLE_SIDES,v=T.SQRT2,d=o(5840),y=d.p2r,g=d.r2p,m=[0,3,4,5,6,1,2],c=[0,3,4,1,2];function C(S,z){return Math.abs(S-z)<=1e-6}function w(S,z){var A=z[1]-S[1],D=z[2]-S[2];return Math.sqrt(A*A+D*D)}j.writePaths=function(S){var z=S.length;if(!z)return"M0,0Z";for(var A="",D=0;D<z;D++)for(var _=S[D].length,E=0;E<_;E++){var M=S[D][E][0];if("Z"===M)A+="Z";else for(var L=S[D][E].length,b=0;b<L;b++){var P=b;"Q"===M||"S"===M?P=c[b]:"C"===M&&(P=m[b]),A+=S[D][E][P],b>0&&b<L-1&&(A+=",")}}return A},j.readPaths=function(S,z,A,D){var b,G,$,_=p(S),E=[],M=-1,P=0,I=0,J=function(){G=P,$=I};J();for(var re=0;re<_.length;re++){var O=[],pe=_[re][0],W=pe;switch(pe){case"M":M++,E[M]=[],O.push([W,P=+_[re][1],I=+_[re][2]]),J();break;case"Q":case"S":O.push([W,P=+_[re][3],I=+_[re][4],+_[re][1],+_[re][2]]);break;case"C":O.push([W,P=+_[re][5],I=+_[re][6],+_[re][1],+_[re][2],+_[re][3],+_[re][4]]);break;case"T":case"L":O.push([W,P=+_[re][1],I=+_[re][2]]);break;case"H":O.push([W="L",P=+_[re][1],I]);break;case"V":O.push([W="L",P,I=+_[re][1]]);break;case"A":W="L";var K=+_[re][1],X=+_[re][2];+_[re][4]||(K=-K,X=-X);var ie=P-K,ue=I;for(b=1;b<=h/2;b++){var ce=2*Math.PI*b/h;O.push([W,ie+K*Math.cos(ce),ue+X*Math.sin(ce)])}break;case"Z":(P!==G||I!==$)&&O.push([W,P=G,I=$])}for(var ge=(A||{}).domain,De=z._fullLayout._size,Ne=A&&"pixel"===A.xsizemode,Be=A&&"pixel"===A.ysizemode,Fe=!1===D,Se=0;Se<O.length;Se++){for(b=0;b+2<7;b+=2){var ye=O[Se][b+1],H=O[Se][b+2];void 0===ye||void 0===H||(P=ye,I=H,A&&(A.xaxis&&A.xaxis.p2r?(Fe&&(ye-=A.xaxis._offset),ye=Ne?g(A.xaxis,A.xanchor)+ye:y(A.xaxis,ye)):(Fe&&(ye-=De.l),ge?ye=ge.x[0]+ye/De.w:ye/=De.w),A.yaxis&&A.yaxis.p2r?(Fe&&(H-=A.yaxis._offset),H=Be?g(A.yaxis,A.yanchor)-H:y(A.yaxis,H)):(Fe&&(H-=De.t),H=ge?ge.y[1]-H/De.h:1-H/De.h)),O[Se][b+1]=ye,O[Se][b+2]=H)}E[M].push(O[Se].slice())}}return E},j.pointsOnRectangle=function(S){if(5!==S.length)return!1;for(var A=1;A<3;A++){if(!C(S[0][A]-S[1][A],S[3][A]-S[2][A]))return!1;if(!C(S[0][A]-S[3][A],S[1][A]-S[2][A]))return!1}return!(!C(S[0][1],S[1][1])&&!C(S[0][1],S[3][1])||!(w(S[0],S[1])*w(S[0],S[3])))},j.pointsOnEllipse=function(S){var z=S.length;if(z!==h+1)return!1;z=h;for(var A=0;A<z;A++){var D=(2*z-A)%z,_=(z/2+D)%z;if(!C(w(S[A],S[(z/2+A)%z]),w(S[D],S[_])))return!1}return!0},j.handleEllipse=function(S,z,A){if(!S)return[z,A];var D=j.ellipseOver({x0:z[0],y0:z[1],x1:A[0],y1:A[1]}),_=(D.x1+D.x0)/2,E=(D.y1+D.y0)/2,M=(D.x1-D.x0)/2,L=(D.y1-D.y0)/2;M||(M=L/=v),L||(L=M/=v);for(var b=[],P=0;P<h;P++){var I=2*P*Math.PI/h;b.push([_+M*Math.cos(I),E+L*Math.sin(I)])}return b},j.ellipseOver=function(S){var z=S.x0,A=S.y0,D=S.x1,_=S.y1,E=D-z,M=_-A,L=((z-=E)+D)/2,b=((A-=M)+_)/2;return{x0:L-(E*=v),y0:b-(M*=v),x1:L+E,y1:b+M}},j.fixDatesForPaths=function(S,z,A){var D="date"===z.type,_="date"===A.type;if(!D&&!_)return S;for(var E=0;E<S.length;E++)for(var M=0;M<S[E].length;M++)for(var L=0;L+2<S[E][M].length;L+=2)D&&(S[E][M][L+1]=S[E][M][L+1].replace(" ","_")),_&&(S[E][M][L+2]=S[E][M][L+2].replace(" ","_"));return S}},3940:function(Ce,j,o){"use strict";var p=o(2760),T=p.drawMode,h=p.openMode,v=o(7e3),d=v.i000,y=v.i090,g=v.i180,m=v.i270,c=v.cos45,C=v.sin45,w=o(5840),S=w.p2r,z=w.r2p,D=o(1936).clearOutline,_=o(9856),E=_.readPaths,M=_.writePaths,L=_.ellipseOver,b=_.fixDatesForPaths;function I(G,$,J){var ge,O=$.gd,Q=G[0][0].getAttribute("d"),U=O._fullLayout.newshape,ne=$.plotinfo,le=$.isActiveShape,pe=ne.xaxis,W=ne.yaxis,K=!!ne.domain||!ne.xaxis,X=!!ne.domain||!ne.yaxis,ie=h(J),ue=E(Q,O,ne,le),ce={editable:!0,visible:U.visible,name:U.name,showlegend:U.showlegend,legend:U.legend,legendwidth:U.legendwidth,legendgroup:U.legendgroup,legendgrouptitle:{text:U.legendgrouptitle.text,font:U.legendgrouptitle.font},legendrank:U.legendrank,label:U.label,xref:K?"paper":pe._id,yref:X?"paper":W._id,layer:U.layer,opacity:U.opacity,line:{color:U.line.color,width:U.line.width,dash:U.line.dash}};if(ie||(ce.fillcolor=U.fillcolor,ce.fillrule=U.fillrule),1===ue.length&&(ge=ue[0]),ge&&5===ge.length&&"drawrect"===J)ce.type="rect",ce.x0=ge[0][1],ce.y0=ge[0][2],ce.x1=ge[2][1],ce.y1=ge[2][2];else if(ge&&"drawline"===J)ce.type="line",ce.x0=ge[0][1],ce.y0=ge[0][2],ce.x1=ge[1][1],ce.y1=ge[1][2];else if(ge&&"drawcircle"===J){ce.type="circle";var De=ge[d][1],Ne=ge[y][1],Be=ge[g][1],Fe=ge[m][1],Se=ge[d][2],ye=ge[y][2],H=ge[g][2],Y=ge[m][2],te=ne.xaxis&&("date"===ne.xaxis.type||"log"===ne.xaxis.type),Z=ne.yaxis&&("date"===ne.yaxis.type||"log"===ne.yaxis.type);te&&(De=z(ne.xaxis,De),Ne=z(ne.xaxis,Ne),Be=z(ne.xaxis,Be),Fe=z(ne.xaxis,Fe)),Z&&(Se=z(ne.yaxis,Se),ye=z(ne.yaxis,ye),H=z(ne.yaxis,H),Y=z(ne.yaxis,Y));var N=(Ne+Fe)/2,ee=(Se+H)/2,xe=L({x0:N,y0:ee,x1:N+(Fe-Ne+Be-De)/2*c,y1:ee+(Y-ye+H-Se)/2*C});te&&(xe.x0=S(ne.xaxis,xe.x0),xe.x1=S(ne.xaxis,xe.x1)),Z&&(xe.y0=S(ne.yaxis,xe.y0),xe.y1=S(ne.yaxis,xe.y1)),ce.x0=xe.x0,ce.y0=xe.y0,ce.x1=xe.x1,ce.y1=xe.y1}else ce.type="path",pe&&W&&b(ue,pe,W),ce.path=M(ue),ge=null;return ce}Ce.exports={newShapes:function P(G,$){if(G.length&&G[0][0]){var re=$.gd,O=$.isActiveShape,Q=$.dragmode,U=(re.layout||{}).shapes||[];if(!T(Q)&&void 0!==O){var ne=re._fullLayout._activeShapeIndex;if(ne<U.length)switch(re._fullLayout.shapes[ne].type){case"rect":Q="drawrect";break;case"circle":Q="drawcircle";break;case"line":Q="drawline";break;case"path":var le=U[ne].path||"";Q="Z"===le[le.length-1]?"drawclosedpath":"drawopenpath"}}var pe=I(G,$,Q);D(re);for(var W=$.editHelpers,K=(W||{}).modifyItem,X=[],ie=0;ie<U.length;ie++){var ue=re._fullLayout.shapes[ie];if(X[ie]=ue._input,void 0!==O&&ie===re._fullLayout._activeShapeIndex){var ce=pe;switch(ue.type){case"line":case"rect":case"circle":K("x0",ce.x0-(ue.x0shift||0)),K("x1",ce.x1-(ue.x1shift||0)),K("y0",ce.y0-(ue.y0shift||0)),K("y1",ce.y1-(ue.y1shift||0));break;case"path":K("path",ce.path)}}}return void 0===O?(X.push(pe),X):W?W.getUpdateObj():{}}},createShapeObj:I}},1936:function(Ce){"use strict";Ce.exports={clearOutlineControllers:function j(p){var T=p._fullLayout._zoomlayer;T&&T.selectAll(".outline-controllers").remove()},clearOutline:function o(p){var T=p._fullLayout._zoomlayer;T&&T.selectAll(".select-outline").remove(),p._fullLayout._outlining=!1}}},5152:function(Ce,j,o){"use strict";var p=o(3068),T=o(3400),h=o(4460);function d(y,g){var m=0;return(g=g||0)&&y&&("category"===y.type||"multicategory"===y.type)&&(m=(y.r2p(1)-y.r2p(0))*g),m}j.rangeToShapePosition=function(y){return"log"===y.type?y.r2d:function(g){return g}},j.shapePositionToRange=function(y){return"log"===y.type?y.d2r:function(g){return g}},j.decodeDate=function(y){return function(g){return g.replace&&(g=g.replace("_"," ")),y(g)}},j.encodeDate=function(y){return function(g){return y(g).replace(" ","_")}},j.extractPathCoords=function(y,g,m){var c=[];return y.match(p.segmentRE).forEach(function(w){var S=g[w.charAt(0)].drawn;if(void 0!==S){var z=w.substr(1).match(p.paramRE);if(z&&!(z.length<S)){var A=z[S],D=m?A:T.cleanNumber(A);c.push(D)}}}),c},j.getDataToPixel=function(y,g,m,c,C){var S,w=y._fullLayout._size;if(g)if("domain"===C)S=function(A){return g._length*(c?1-A:A)+g._offset};else{var z=j.shapePositionToRange(g);S=function(A){var D=d(g,m);return g._offset+g.r2p(z(A,!0))+D},"date"===g.type&&(S=j.decodeDate(S))}else S=c?function(A){return w.t+w.h*(1-A)}:function(A){return w.l+w.w*A};return S},j.getPixelToData=function(y,g,m,c){var w,C=y._fullLayout._size;if(g)if("domain"===c)w=function(z){var A=(z-g._offset)/g._length;return m?1-A:A};else{var S=j.rangeToShapePosition(g);w=function(z){return S(g.p2r(z-g._offset))}}else w=m?function(z){return 1-(z-C.t)/C.h}:function(z){return(z-C.l)/C.w};return w},j.roundPositionForSharpStrokeRendering=function(y,g){var m=1===Math.round(g%2),c=Math.round(y);return m?c+.5:c},j.makeShapesOptionsAndPlotinfo=function(y,g){var m=y._fullLayout.shapes[g]||{},c=y._fullLayout._plots[m.xref+m.yref];return c?c._hadPlotinfo=!0:(c={},m.xref&&"paper"!==m.xref&&(c.xaxis=y._fullLayout[m.xref+"axis"]),m.yref&&"paper"!==m.yref&&(c.yaxis=y._fullLayout[m.yref+"axis"])),c.xsizemode=m.xsizemode,c.ysizemode=m.ysizemode,c.xanchor=m.xanchor,c.yanchor=m.yanchor,{options:m,plotinfo:c}},j.makeSelectionsOptionsAndPlotinfo=function(y,g){var m=y._fullLayout.selections[g]||{},c=y._fullLayout._plots[m.xref+m.yref];return c?c._hadPlotinfo=!0:(c={},m.xref&&(c.xaxis=y._fullLayout[m.xref+"axis"]),m.yref&&(c.yaxis=y._fullLayout[m.yref+"axis"])),{options:m,plotinfo:c}},j.getPathString=function(y,g){var A,D,_,E,I,G,$,J,m=g.type,c=h.getRefType(g.xref),C=h.getRefType(g.yref),w=h.getFromId(y,g.xref),S=h.getFromId(y,g.yref),z=y._fullLayout._size,M=d(w,g.x0shift),L=d(w,g.x1shift),b=d(S,g.y0shift),P=d(S,g.y1shift);if(w?"domain"===c?D=function(X){return w._offset+w._length*X}:(A=j.shapePositionToRange(w),D=function(X){return w._offset+w.r2p(A(X,!0))}):D=function(X){return z.l+z.w*X},S?"domain"===C?E=function(X){return S._offset+S._length*(1-X)}:(_=j.shapePositionToRange(S),E=function(X){return S._offset+S.r2p(_(X,!0))}):E=function(X){return z.t+z.h*(1-X)},"path"===m)return w&&"date"===w.type&&(D=j.decodeDate(D)),S&&"date"===S.type&&(E=j.decodeDate(E)),function v(y,g,m){var C=y.xsizemode,w=y.ysizemode,S=y.xanchor,z=y.yanchor;return y.path.replace(p.segmentRE,function(A){var D=0,_=A.charAt(0),E=p.paramIsX[_],M=p.paramIsY[_],L=p.numParams[_],b=A.substr(1).replace(p.paramRE,function(P){return E[D]?P="pixel"===C?g(S)+Number(P):g(P):M[D]&&(P="pixel"===w?m(z)-Number(P):m(P)),++D>L&&(P="X"),P});return D>L&&(b=b.replace(/[\s,]*X.*/,""),T.log("Ignoring extra params in segment "+A)),_+b})}(g,D,E);if("pixel"===g.xsizemode){var re=D(g.xanchor);I=re+g.x0+M,G=re+g.x1+L}else I=D(g.x0)+M,G=D(g.x1)+L;if("pixel"===g.ysizemode){var O=E(g.yanchor);$=O-g.y0+b,J=O-g.y1+P}else $=E(g.y0)+b,J=E(g.y1)+P;if("line"===m)return"M"+I+","+$+"L"+G+","+J;if("rect"===m)return"M"+I+","+$+"H"+G+"V"+J+"H"+I+"Z";var Q=(I+G)/2,U=($+J)/2,ne=Math.abs(Q-I),le=Math.abs(U-$),pe="A"+ne+","+le,W=Q+ne+","+U;return"M"+W+pe+" 0 1,1 "+Q+","+(U-le)+pe+" 0 0,1 "+W+"Z"}},1592:function(Ce,j,o){"use strict";var p=o(4016);Ce.exports={moduleType:"component",name:"shapes",layoutAttributes:o(6056),supplyLayoutDefaults:o(3712),supplyDrawNewShapeDefaults:o(5144),includeBasePlot:o(6632)("shapes"),calcAutorange:o(6084),draw:p.draw,drawOne:p.drawOne}},7728:function(Ce){"use strict";function j(E,M){return M?M.d2l(E):E}function o(E,M){return M?M.l2d(E):E}function d(E){return E.x0shift||0}function y(E){return E.x1shift||0}function g(E){return E.y0shift||0}function m(E){return E.y1shift||0}function c(E,M){return j(E.x1,M)+y(E)-j(E.x0,M)-d(E)}function C(E,M,L){return j(E.y1,L)+m(E)-j(E.y0,L)-g(E)}Ce.exports={x0:function p(E){return E.x0},x1:function T(E){return E.x1},y0:function h(E){return E.y0},y1:function v(E){return E.y1},slope:function _(E,M,L){return"line"!==E.type?void 0:C(E,0,L)/c(E,M)},dx:c,dy:C,width:function w(E,M){return Math.abs(c(E,M))},height:function S(E,M,L){return Math.abs(C(E,0,L))},length:function z(E,M,L){return"line"!==E.type?void 0:Math.sqrt(Math.pow(c(E,M),2)+Math.pow(C(E,0,L),2))},xcenter:function A(E,M){return o((j(E.x1,M)+y(E)+j(E.x0,M)+d(E))/2,M)},ycenter:function D(E,M,L){return o((j(E.y1,L)+m(E)+j(E.y0,L)+g(E))/2,L)}}},9861:function(Ce,j,o){"use strict";var p=o(5376),T=o(6741),h=o(2880).extendDeepAll,v=o(7824).overrideAll,d=o(5656),y=o(1780).templatedArray,g=o(876),m=y("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});Ce.exports=v(y("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:m,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:h(T({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:d.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:p({})},font:p({}),activebgcolor:{valType:"color",dflt:g.gripBgActiveColor},bgcolor:{valType:"color",dflt:g.railBgColor},bordercolor:{valType:"color",dflt:g.railBorderColor},borderwidth:{valType:"number",min:0,dflt:g.railBorderWidth},ticklen:{valType:"number",min:0,dflt:g.tickLength},tickcolor:{valType:"color",dflt:g.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:g.minorTickLength}}),"arraydraw","from-root")},876:function(Ce){"use strict";Ce.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},8132:function(Ce,j,o){"use strict";var p=o(3400),T=o(1272),h=o(9861),d=o(876).name,y=h.steps;function g(c,C,w){function S(b,P){return p.coerce(c,C,h,b,P)}for(var z=T(c,C,{name:"steps",handleItemDefaults:m}),A=0,D=0;D<z.length;D++)z[D].visible&&A++;if(A<2?C.visible=!1:S("visible")){C._stepCount=A;var E=C._visibleSteps=p.filterVisible(z);(z[S("active")]||{}).visible||(C.active=E[0]._index),S("x"),S("y"),p.noneOrAll(c,C,["x","y"]),S("xanchor"),S("yanchor"),S("len"),S("lenmode"),S("pad.t"),S("pad.r"),S("pad.b"),S("pad.l"),p.coerceFont(S,"font",w.font),S("currentvalue.visible")&&(S("currentvalue.xanchor"),S("currentvalue.prefix"),S("currentvalue.suffix"),S("currentvalue.offset"),p.coerceFont(S,"currentvalue.font",C.font)),S("transition.duration"),S("transition.easing"),S("bgcolor"),S("activebgcolor"),S("bordercolor"),S("borderwidth"),S("ticklen"),S("tickwidth"),S("tickcolor"),S("minorticklen")}}function m(c,C){function w(A,D){return p.coerce(c,C,y,A,D)}if("skip"===c.method||Array.isArray(c.args)?w("visible"):C.visible=!1){w("method"),w("args");var z=w("label","step-"+C._index);w("value",z),w("execute")}}Ce.exports=function(C,w){T(C,w,{name:d,handleItemDefaults:g})}},9664:function(Ce,j,o){"use strict";var p=o(3428),T=o(7316),h=o(6308),v=o(3616),d=o(3400),y=d.strTranslate,g=o(2736),m=o(1780).arrayEditor,c=o(876),C=o(4284),w=C.LINE_SPACING,S=C.FROM_TL,z=C.FROM_BR;function A(W){return c.autoMarginIdRoot+W._index}function _(W){return W._index}function E(W,K){var X=v.tester.selectAll("g."+c.labelGroupClass).data(K._visibleSteps);X.enter().append("g").classed(c.labelGroupClass,!0);var ie=0,ue=0;X.each(function(Y){var N=P(p.select(this),{step:Y},K).node();if(N){var ee=v.bBox(N);ue=Math.max(ue,ee.height),ie=Math.max(ie,ee.width)}}),X.remove();var ce=K._dims={};ce.inputAreaWidth=Math.max(c.railWidth,c.gripHeight);var ge=W._fullLayout._size;if(ce.lx=ge.l+ge.w*K.x,ce.ly=ge.t+ge.h*(1-K.y),ce.outerLength="fraction"===K.lenmode?Math.round(ge.w*K.len):K.len,ce.inputAreaStart=0,ce.inputAreaLength=Math.round(ce.outerLength-K.pad.l-K.pad.r),ce.labelStride=Math.max(1,Math.ceil((ie+c.labelPadding)/((ce.inputAreaLength-2*c.stepInset)/(K._stepCount-1)))),ce.labelHeight=ue,ce.currentValueMaxWidth=0,ce.currentValueHeight=0,ce.currentValueTotalHeight=0,ce.currentValueMaxLines=1,K.currentvalue.visible){var Fe=v.tester.append("g");X.each(function(Y){var te=L(Fe,K,Y.label),Z=te.node()&&v.bBox(te.node())||{width:0,height:0},N=g.lineCount(te);ce.currentValueMaxWidth=Math.max(ce.currentValueMaxWidth,Math.ceil(Z.width)),ce.currentValueHeight=Math.max(ce.currentValueHeight,Math.ceil(Z.height)),ce.currentValueMaxLines=Math.max(ce.currentValueMaxLines,N)}),ce.currentValueTotalHeight=ce.currentValueHeight+K.currentvalue.offset,Fe.remove()}ce.height=ce.currentValueTotalHeight+c.tickOffset+K.ticklen+c.labelOffset+ce.labelHeight+K.pad.t+K.pad.b;var Se="left";d.isRightAnchor(K)&&(ce.lx-=ce.outerLength,Se="right"),d.isCenterAnchor(K)&&(ce.lx-=ce.outerLength/2,Se="center");var ye="top";d.isBottomAnchor(K)&&(ce.ly-=ce.height,ye="bottom"),d.isMiddleAnchor(K)&&(ce.ly-=ce.height/2,ye="middle"),ce.outerLength=Math.ceil(ce.outerLength),ce.height=Math.ceil(ce.height),ce.lx=Math.round(ce.lx),ce.ly=Math.round(ce.ly);var H={y:K.y,b:ce.height*z[ye],t:ce.height*S[ye]};"fraction"===K.lenmode?(H.l=0,H.xl=K.x-K.len*S[Se],H.r=0,H.xr=K.x+K.len*z[Se]):(H.x=K.x,H.l=ce.outerLength*S[Se],H.r=ce.outerLength*z[Se]),T.autoMargin(W,A(K),H)}function L(W,K,X){if(K.currentvalue.visible){var ue,ce,ie=K._dims;switch(K.currentvalue.xanchor){case"right":ue=ie.inputAreaLength-c.currentValueInset-ie.currentValueMaxWidth,ce="left";break;case"center":ue=.5*ie.inputAreaLength,ce="middle";break;default:ue=c.currentValueInset,ce="left"}var ge=d.ensureSingle(W,"text",c.labelClass,function(ye){ye.attr({"text-anchor":ce,"data-notex":1})}),De=K.currentvalue.prefix?K.currentvalue.prefix:"";if("string"==typeof X)De+=X;else{var Ne=K.steps[K.active].label,Be=K._gd._fullLayout._meta;Be&&(Ne=d.templateString(Ne,Be)),De+=Ne}K.currentvalue.suffix&&(De+=K.currentvalue.suffix),ge.call(v.font,K.currentvalue.font).text(De).call(g.convertToTspans,K._gd);var Fe=g.lineCount(ge);return g.positionText(ge,ue,(ie.currentValueMaxLines+1-Fe)*K.currentvalue.font.size*w),ge}}function b(W,K,X){d.ensureSingle(W,"rect",c.gripRectClass,function(ue){ue.call(J,K,W,X).style("pointer-events","all")}).attr({width:c.gripWidth,height:c.gripHeight,rx:c.gripRadius,ry:c.gripRadius}).call(h.stroke,X.bordercolor).call(h.fill,X.bgcolor).style("stroke-width",X.borderwidth+"px")}function P(W,K,X){var ie=d.ensureSingle(W,"text",c.labelClass,function(ge){ge.attr({"text-anchor":"middle","data-notex":1})}),ue=K.step.label,ce=X._gd._fullLayout._meta;return ce&&(ue=d.templateString(ue,ce)),ie.call(v.font,X.font).text(ue).call(g.convertToTspans,X._gd),ie}function I(W,K){var X=d.ensureSingle(W,"g",c.labelsClass),ie=K._dims,ue=X.selectAll("g."+c.labelGroupClass).data(ie.labelSteps);ue.enter().append("g").classed(c.labelGroupClass,!0),ue.exit().remove(),ue.each(function(ce){var ge=p.select(this);ge.call(P,ce,K),v.setTranslate(ge,U(K,ce.fraction),c.tickOffset+K.ticklen+K.font.size*w+c.labelOffset+ie.currentValueTotalHeight)})}function G(W,K,X,ie,ue){var ce=Math.round(ie*(X._stepCount-1)),ge=X._visibleSteps[ce]._index;ge!==X.active&&$(W,K,X,ge,!0,ue)}function $(W,K,X,ie,ue,ce){var ge=X.active;X.active=ie,m(W.layout,c.name,X).applyUpdate("active",ie);var De=X.steps[X.active];K.call(Q,X,ce),K.call(L,X),W.emit("plotly_sliderchange",{slider:X,step:X.steps[X.active],interaction:ue,previousActive:ge}),De&&De.method&&ue&&(K._nextMethod?(K._nextMethod.step=De,K._nextMethod.doCallback=ue,K._nextMethod.doTransition=ce):(K._nextMethod={step:De,doCallback:ue,doTransition:ce},K._nextMethodRaf=window.requestAnimationFrame(function(){var Ne=K._nextMethod.step;Ne.method&&(Ne.execute&&T.executeAPICommand(W,Ne.method,Ne.args),K._nextMethod=null,K._nextMethodRaf=null)})))}function J(W,K,X){if(!K._context.staticPlot){var ie=X.node(),ue=p.select(K);W.on("mousedown",ge),W.on("touchstart",ge)}function ce(){return X.data()[0]}function ge(){var De=ce();K.emit("plotly_sliderstart",{slider:De});var Ne=X.select("."+c.gripRectClass);p.event.stopPropagation(),p.event.preventDefault(),Ne.call(h.fill,De.activebgcolor);var Be=ne(De,p.mouse(ie)[0]);function Fe(){var ye=ce(),H=ne(ye,p.mouse(ie)[0]);G(K,X,ye,H,!1)}function Se(){var ye=ce();ye._dragging=!1,Ne.call(h.fill,ye.bgcolor),ue.on("mouseup",null),ue.on("mousemove",null),ue.on("touchend",null),ue.on("touchmove",null),K.emit("plotly_sliderend",{slider:ye,step:ye.steps[ye.active]})}G(K,X,De,Be,!0),De._dragging=!0,ue.on("mousemove",Fe),ue.on("touchmove",Fe),ue.on("mouseup",Se),ue.on("touchend",Se)}}function re(W,K){var X=W.selectAll("rect."+c.tickRectClass).data(K._visibleSteps),ie=K._dims;X.enter().append("rect").classed(c.tickRectClass,!0),X.exit().remove(),X.attr({width:K.tickwidth+"px","shape-rendering":"crispEdges"}),X.each(function(ue,ce){var ge=ce%ie.labelStride==0,De=p.select(this);De.attr({height:ge?K.ticklen:K.minorticklen}).call(h.fill,K.tickcolor),v.setTranslate(De,U(K,ce/(K._stepCount-1))-.5*K.tickwidth,(ge?c.tickOffset:c.minorTickOffset)+ie.currentValueTotalHeight)})}function Q(W,K,X){for(var ie=W.select("rect."+c.gripRectClass),ue=0,ce=0;ce<K._stepCount;ce++)if(K._visibleSteps[ce]._index===K.active){ue=ce;break}var ge=U(K,ue/(K._stepCount-1));if(!K._invokingCommand){var De=ie;X&&K.transition.duration>0&&(De=De.transition().duration(K.transition.duration).ease(K.transition.easing)),De.attr("transform",y(ge-.5*c.gripWidth,K._dims.currentValueTotalHeight))}}function U(W,K){var X=W._dims;return X.inputAreaStart+c.stepInset+(X.inputAreaLength-2*c.stepInset)*Math.min(1,Math.max(0,K))}function ne(W,K){var X=W._dims;return Math.min(1,Math.max(0,(K-c.stepInset-X.inputAreaStart)/(X.inputAreaLength-2*c.stepInset-2*X.inputAreaStart)))}function le(W,K,X){var ie=X._dims,ue=d.ensureSingle(W,"rect",c.railTouchRectClass,function(ce){ce.call(J,K,W,X).style("pointer-events","all")});ue.attr({width:ie.inputAreaLength,height:Math.max(ie.inputAreaWidth,c.tickOffset+X.ticklen+ie.labelHeight)}).call(h.fill,X.bgcolor).attr("opacity",0),v.setTranslate(ue,0,ie.currentValueTotalHeight)}function pe(W,K){var X=K._dims,ie=X.inputAreaLength-2*c.railInset,ue=d.ensureSingle(W,"rect",c.railRectClass);ue.attr({width:ie,height:c.railWidth,rx:c.railRadius,ry:c.railRadius,"shape-rendering":"crispEdges"}).call(h.stroke,K.bordercolor).call(h.fill,K.bgcolor).style("stroke-width",K.borderwidth+"px"),v.setTranslate(ue,c.railInset,.5*(X.inputAreaWidth-c.railWidth)+X.currentValueTotalHeight)}Ce.exports=function(K){var X=K._context.staticPlot,ie=K._fullLayout,ue=function D(W,K){for(var X=W[c.name],ie=[],ue=0;ue<X.length;ue++){var ce=X[ue];ce.visible&&(ce._gd=K,ie.push(ce))}return ie}(ie,K),ce=ie._infolayer.selectAll("g."+c.containerClassName).data(ue.length>0?[0]:[]);function ge(Fe){Fe._commandObserver&&(Fe._commandObserver.remove(),delete Fe._commandObserver),T.autoMargin(K,A(Fe))}if(ce.enter().append("g").classed(c.containerClassName,!0).style("cursor",X?null:"ew-resize"),ce.exit().each(function(){p.select(this).selectAll("g."+c.groupClassName).each(ge)}).remove(),0!==ue.length){var De=ce.selectAll("g."+c.groupClassName).data(ue,_);De.enter().append("g").classed(c.groupClassName,!0),De.exit().each(ge).remove();for(var Ne=0;Ne<ue.length;Ne++)E(K,ue[Ne]);De.each(function(Fe){var Se=p.select(this);(function O(W){var K=W._dims;K.labelSteps=[];for(var X=W._stepCount,ie=0;ie<X;ie+=K.labelStride)K.labelSteps.push({fraction:ie/(X-1),step:W._visibleSteps[ie]})})(Fe),T.manageCommandObserver(K,Fe,Fe._visibleSteps,function(ye){var H=Se.data()[0];H.active!==ye.index&&(H._dragging||$(K,Se,H,ye.index,!1,!0))}),function M(W,K,X){(X.steps[X.active]||{}).visible||(X.active=X._visibleSteps[0]._index),K.call(L,X).call(pe,X).call(I,X).call(re,X).call(le,W,X).call(b,W,X);var ie=X._dims;v.setTranslate(K,ie.lx+X.pad.l,ie.ly+X.pad.t),K.call(Q,X,!1),K.call(L,X)}(K,p.select(this),Fe)})}}},7544:function(Ce,j,o){"use strict";var p=o(876);Ce.exports={moduleType:"component",name:p.name,layoutAttributes:o(9861),supplyLayoutDefaults:o(8132),draw:o(9664)}},1668:function(Ce,j,o){"use strict";var p=o(3428),T=o(8248),h=o(7316),v=o(4040),d=o(3400),y=d.strTranslate,g=o(3616),m=o(6308),c=o(2736),C=o(3448),w=o(4284).OPPOSITE_SIDE,S=/ [XY][0-9]* /;Ce.exports={draw:function D(_,E,M){var ct,L=_._fullLayout,b=M.propContainer,P=M.propName,I=M.placeholder,G=M.traceIndex,$=M.avoid||{},J=M.attributes,re=M.transform,O=M.containerGroup,Q=1,U=b.title,ne=(U&&U.text?U.text:"").trim(),le=!1,pe=U&&U.font?U.font:{},W=pe.family,K=pe.size,X=pe.color,ie=pe.weight,ue=pe.style,ce=pe.variant,ge=pe.textcase,De=pe.lineposition,Ne=pe.shadow,Fe=!!M.subtitlePropName,Se=M.subtitlePlaceholder,ye=(b.title||{}).subtitle||{text:"",font:{}},H=ye.text.trim(),Y=!1,te=1,Z=ye.font,N=Z.family,ee=Z.size,B=Z.color,se=Z.weight,xe=Z.style,Te=Z.variant,Ee=Z.textcase,Oe=Z.lineposition,$e=Z.shadow;"title.text"===P?ct="titleText":-1!==P.indexOf("axis")?ct="axisTitleText":P.indexOf(!0)&&(ct="colorbarTitleText");var ft=_._context.edits[ct];function gt(Lt,Qt){return void 0!==Lt&&void 0!==Qt&&Lt.replace(S," % ")===Qt.replace(S," % ")}""===ne?Q=0:gt(ne,I)&&(ft||(ne=""),Q=.2,le=!0),Fe&&(""===H?te=0:gt(H,Se)&&(ft||(H=""),te=.2,Y=!0)),M._meta?ne=d.templateString(ne,M._meta):L._meta&&(ne=d.templateString(ne,L._meta));var Ve,ze=ne||H||ft;O||(O=d.ensureSingle(L._infolayer,"g","g-"+E),Ve=L._hColorbarMoveTitle);var Pe=O.selectAll("text."+E).data(ze?[0]:[]);Pe.enter().append("text"),Pe.text(ne).attr("class",E),Pe.exit().remove();var Qe=null,Ke=E+"-subtitle",dt=H||ft;if(Fe&&dt&&((Qe=O.selectAll("text."+Ke).data(dt?[0]:[])).enter().append("text"),Qe.text(H).attr("class",Ke),Qe.exit().remove()),!ze)return O;function Dt(Lt,Qt){d.syncOrAsync([$t,Ot],{title:Lt,subtitle:Qt})}function $t(Lt){var en,Qt=Lt.title,Jt=Lt.subtitle;if(!re&&Ve&&(re={}),re?(en="",re.rotate&&(en+="rotate("+[re.rotate,J.x,J.y]+")"),(re.offset||Ve)&&(en+=y(0,(re.offset||0)-(Ve||0)))):en=null,Qt.attr("transform",en),Qt.style("opacity",Q*m.opacity(X)).call(g.font,{color:m.rgb(X),size:p.round(K,2),family:W,weight:ie,style:ue,variant:ce,textcase:ge,shadow:Ne,lineposition:De}).attr(J).call(c.convertToTspans,_,function sn(Me){if(Me){var _e=p.select(Me.node().parentNode).select("."+Ke);if(!_e.empty()){var He=Me.node().getBBox();He.height&&_e.attr("y",He.y+He.height+1.6*ee)}}}),Jt){var pt=O.select("."+E+"-math-group"),xt=Qt.node().getBBox(),yt=pt.node()?pt.node().getBBox():void 0,Xe=d.extendFlat({},J,{y:yt?yt.y+yt.height+1.6*ee:xt.y+xt.height+1.6*ee});Jt.attr("transform",en),Jt.style("opacity",te*m.opacity(B)).call(g.font,{color:m.rgb(B),size:p.round(ee,2),family:N,weight:se,style:xe,variant:Te,textcase:Ee,shadow:$e,lineposition:Oe}).attr(Xe).call(c.convertToTspans,_)}return h.previousPromises(_)}function Ot(Lt){var Jt=p.select(Lt.title.node().parentNode);if($&&$.selection&&$.side&&ne){Jt.attr("transform",null);var en=w[$.side],sn="left"===$.side||"top"===$.side?-1:1,pt=T($.pad)?$.pad:2,xt=g.bBox(Jt.node()),yt={t:0,b:0,l:0,r:0},ke=_._fullLayout._reservedMargin;for(var Xe in ke)for(var Me in ke[Xe])yt[Me]=Math.max(yt[Me],ke[Xe][Me]);var We=$.maxShift||sn*({left:yt.l,top:yt.t,right:L.width-yt.r,bottom:L.height-yt.b}[$.side]-xt[$.side]),Ze=0;if(We<0)Ze=We;else{var nt=$.offsetLeft||0,Bt=$.offsetTop||0;xt.left-=nt,xt.right-=nt,xt.top-=Bt,xt.bottom-=Bt,$.selection.each(function(){var Ct=g.bBox(this);d.bBoxIntersect(xt,Ct,pt)&&(Ze=Math.max(Ze,sn*(Ct[$.side]-xt[en])+pt))}),Ze=Math.min(We,Ze),b._titleScoot=Math.abs(Ze)}if(Ze>0||We<0){var Je={left:[-Ze,0],right:[Ze,0],top:[0,-Ze],bottom:[0,Ze]}[$.side];Jt.attr("transform",y(Je[0],Je[1]))}}}function kt(Lt,Qt){Lt.text(Qt).on("mouseover.opacity",function(){p.select(this).transition().duration(C.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){p.select(this).transition().duration(C.HIDE_PLACEHOLDER).style("opacity",0)})}if(Pe.call(Dt,Qe),ft&&(ne?Pe.on(".opacity",null):(kt(Pe,I),le=!0),Pe.call(c.makeEditable,{gd:_}).on("edit",function(Lt){void 0!==G?v.call("_guiRestyle",_,P,Lt,G):v.call("_guiRelayout",_,P,Lt)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(Dt)}).on("input",function(Lt){this.text(Lt||" ").call(c.positionText,J.x,J.y)}),Fe)){if(Fe&&!ne){var At=Pe.node().getBBox();Qe.attr("y",At.y+At.height+1.6*ee)}H?Qe.on(".opacity",null):(kt(Qe,Se),Y=!0),Qe.call(c.makeEditable,{gd:_}).on("edit",function(Lt){v.call("_guiRelayout",_,"title.subtitle.text",Lt)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(Dt)}).on("input",function(Lt){this.text(Lt||" ").call(c.positionText,Qe.attr("x"),Qe.attr("y"))})}return Pe.classed("js-placeholder",le),Qe&&Qe.classed("js-placeholder",Y),O},SUBTITLE_PADDING_EM:1.6,SUBTITLE_PADDING_MATHJAX_EM:1.6}},8444:function(Ce,j,o){"use strict";var p=o(5376),T=o(2548),h=o(2880).extendFlat,v=o(7824).overrideAll,d=o(6741),y=o(1780).templatedArray,g=y("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});Ce.exports=v(y("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:g,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:h(d({editType:"arraydraw"}),{}),font:p({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:T.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},1331:function(Ce){"use strict";Ce.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25c4",right:"\u25ba",up:"\u25b2",down:"\u25bc"}}},1384:function(Ce,j,o){"use strict";var p=o(3400),T=o(1272),h=o(8444),d=o(1331).name,y=h.buttons;function g(c,C,w){function S(D,_){return p.coerce(c,C,h,D,_)}S("visible",T(c,C,{name:"buttons",handleItemDefaults:m}).length>0)&&(S("active"),S("direction"),S("type"),S("showactive"),S("x"),S("y"),p.noneOrAll(c,C,["x","y"]),S("xanchor"),S("yanchor"),S("pad.t"),S("pad.r"),S("pad.b"),S("pad.l"),p.coerceFont(S,"font",w.font),S("bgcolor",w.paper_bgcolor),S("bordercolor"),S("borderwidth"))}function m(c,C){function w(z,A){return p.coerce(c,C,y,z,A)}w("visible","skip"===c.method||Array.isArray(c.args))&&(w("method"),w("args"),w("args2"),w("label"),w("execute"))}Ce.exports=function(C,w){T(C,w,{name:d,handleItemDefaults:g})}},4420:function(Ce,j,o){"use strict";var p=o(3428),T=o(7316),h=o(6308),v=o(3616),d=o(3400),y=o(2736),g=o(1780).arrayEditor,m=o(4284).LINE_SPACING,c=o(1331),C=o(7400);function w(U){return U._index}function z(U,ne){return+U.attr(c.menuIndexAttrName)===ne._index}function A(U,ne,le,pe,W,K,X,ie){ne.active=X,g(U.layout,c.name,ne).applyUpdate("active",X),"buttons"===ne.type?_(U,pe,null,null,ne):"dropdown"===ne.type&&(W.attr(c.menuIndexAttrName,"-1"),D(U,pe,W,K,ne),ie||_(U,pe,W,K,ne))}function D(U,ne,le,pe,W){var K=d.ensureSingle(ne,"g",c.headerClassName,function(Ne){Ne.style("pointer-events","all")}),X=W._dims,ce={y:W.pad.t,yPad:0,x:W.pad.l,xPad:0,index:0},ge={width:X.headerWidth,height:X.headerHeight};K.call(L,W,W.buttons[W.active]||c.blankHeaderOpts,U).call(O,W,ce,ge),d.ensureSingle(ne,"text",c.headerArrowClassName,function(Ne){Ne.attr("text-anchor","end").call(v.font,W.font).text(c.arrowSymbol[W.direction])}).attr({x:X.headerWidth-c.arrowOffsetX+W.pad.l,y:X.headerHeight/2+c.textOffsetY+W.pad.t}),K.on("click",function(){le.call(Q,String(z(le,W)?-1:W._index)),_(U,ne,le,pe,W)}),K.on("mouseover",function(){K.call(G)}),K.on("mouseout",function(){K.call($,W)}),v.setTranslate(ne,X.lx,X.ly)}function _(U,ne,le,pe,W){le||(le=ne).attr("pointer-events","all");var K=function S(U){return-1==+U.attr(c.menuIndexAttrName)}(le)&&"buttons"!==W.type?[]:W.buttons,X="dropdown"===W.type?c.dropdownButtonClassName:c.buttonClassName,ie=le.selectAll("g."+X).data(d.filterVisible(K)),ue=ie.enter().append("g").classed(X,!0),ce=ie.exit();"dropdown"===W.type?(ue.attr("opacity","0").transition().attr("opacity","1"),ce.transition().attr("opacity","0").remove()):ce.remove();var ge=0,De=0,Ne=W._dims,Be=-1!==["up","down"].indexOf(W.direction);"dropdown"===W.type&&(Be?De=Ne.headerHeight+c.gapButtonHeader:ge=Ne.headerWidth+c.gapButtonHeader),"dropdown"===W.type&&"up"===W.direction&&(De=-c.gapButtonHeader+c.gapButton-Ne.openHeight),"dropdown"===W.type&&"left"===W.direction&&(ge=-c.gapButtonHeader+c.gapButton-Ne.openWidth);var Fe={x:Ne.lx+ge+W.pad.l,y:Ne.ly+De+W.pad.t,yPad:c.gapButton,xPad:c.gapButton,index:0},Se={l:Fe.x+W.borderwidth,t:Fe.y+W.borderwidth};ie.each(function(ye,H){var Y=p.select(this);Y.call(L,W,ye,U).call(O,W,Fe),Y.on("click",function(){p.event.defaultPrevented||(ye.execute&&(ye.args2&&W.active===H?(A(U,W,0,ne,le,pe,-1),T.executeAPICommand(U,ye.method,ye.args2)):(A(U,W,0,ne,le,pe,H),T.executeAPICommand(U,ye.method,ye.args))),U.emit("plotly_buttonclicked",{menu:W,button:ye,active:W.active}))}),Y.on("mouseover",function(){Y.call(G)}),Y.on("mouseout",function(){Y.call($,W),ie.call(I,W)})}),ie.call(I,W),Be?(Se.w=Math.max(Ne.openWidth,Ne.headerWidth),Se.h=Fe.y-Se.t):(Se.w=Fe.x-Se.l,Se.h=Math.max(Ne.openHeight,Ne.headerHeight)),Se.direction=W.direction,pe&&(ie.size()?function E(U,ne,le,pe,W,K){var ge,De,Ne,X=W.direction,ue=W._dims,ce=W.active;if("up"===X||"down"===X)for(De=0,Ne=0;Ne<ce;Ne++)De+=ue.heights[Ne]+c.gapButton;else for(ge=0,Ne=0;Ne<ce;Ne++)ge+=ue.widths[Ne]+c.gapButton;pe.enable(K,ge,De),pe.hbar&&pe.hbar.attr("opacity","0").transition().attr("opacity","1"),pe.vbar&&pe.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,pe,W,Se):function M(U){var ne=!!U.hbar,le=!!U.vbar;ne&&U.hbar.transition().attr("opacity","0").each("end",function(){ne=!1,le||U.disable()}),le&&U.vbar.transition().attr("opacity","0").each("end",function(){le=!1,ne||U.disable()})}(pe))}function L(U,ne,le,pe){U.call(b,ne).call(P,ne,le,pe)}function b(U,ne){d.ensureSingle(U,"rect",c.itemRectClassName,function(pe){pe.attr({rx:c.rx,ry:c.ry,"shape-rendering":"crispEdges"})}).call(h.stroke,ne.bordercolor).call(h.fill,ne.bgcolor).style("stroke-width",ne.borderwidth+"px")}function P(U,ne,le,pe){var W=d.ensureSingle(U,"text",c.itemTextClassName,function(ie){ie.attr({"text-anchor":"start","data-notex":1})}),K=le.label,X=pe._fullLayout._meta;X&&(K=d.templateString(K,X)),W.call(v.font,ne.font).text(K).call(y.convertToTspans,pe)}function I(U,ne){var le=ne.active;U.each(function(pe,W){var K=p.select(this);W===le&&ne.showactive&&K.select("rect."+c.itemRectClassName).call(h.fill,c.activeColor)})}function G(U){U.select("rect."+c.itemRectClassName).call(h.fill,c.hoverColor)}function $(U,ne){U.select("rect."+c.itemRectClassName).call(h.fill,ne.bgcolor)}function J(U,ne){var le=ne._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},pe=v.tester.selectAll("g."+c.dropdownButtonClassName).data(d.filterVisible(ne.buttons));pe.enter().append("g").classed(c.dropdownButtonClassName,!0);var W=-1!==["up","down"].indexOf(ne.direction);pe.each(function(ge,De){var Ne=p.select(this);Ne.call(L,ne,ge,U);var Be=Ne.select("."+c.itemTextClassName),Fe=Be.node()&&v.bBox(Be.node()).width,Se=Math.max(Fe+c.textPadX,c.minWidth),ye=ne.font.size*m,H=y.lineCount(Be),Y=Math.max(ye*H,c.minHeight)+c.textOffsetY;Y=Math.ceil(Y),Se=Math.ceil(Se),le.widths[De]=Se,le.heights[De]=Y,le.height1=Math.max(le.height1,Y),le.width1=Math.max(le.width1,Se),W?(le.totalWidth=Math.max(le.totalWidth,Se),le.openWidth=le.totalWidth,le.totalHeight+=Y+c.gapButton,le.openHeight+=Y+c.gapButton):(le.totalWidth+=Se+c.gapButton,le.openWidth+=Se+c.gapButton,le.totalHeight=Math.max(le.totalHeight,Y),le.openHeight=le.totalHeight)}),W?le.totalHeight-=c.gapButton:le.totalWidth-=c.gapButton,le.headerWidth=le.width1+c.arrowPadX,le.headerHeight=le.height1,"dropdown"===ne.type&&(W?(le.width1+=c.arrowPadX,le.totalHeight=le.height1):le.totalWidth=le.width1,le.totalWidth+=c.arrowPadX),pe.remove();var K=le.totalWidth+ne.pad.l+ne.pad.r,X=le.totalHeight+ne.pad.t+ne.pad.b,ie=U._fullLayout._size;le.lx=ie.l+ie.w*ne.x,le.ly=ie.t+ie.h*(1-ne.y);var ue="left";d.isRightAnchor(ne)&&(le.lx-=K,ue="right"),d.isCenterAnchor(ne)&&(le.lx-=K/2,ue="center");var ce="top";d.isBottomAnchor(ne)&&(le.ly-=X,ce="bottom"),d.isMiddleAnchor(ne)&&(le.ly-=X/2,ce="middle"),le.totalWidth=Math.ceil(le.totalWidth),le.totalHeight=Math.ceil(le.totalHeight),le.lx=Math.round(le.lx),le.ly=Math.round(le.ly),T.autoMargin(U,re(ne),{x:ne.x,y:ne.y,l:K*({right:1,center:.5}[ue]||0),r:K*({left:1,center:.5}[ue]||0),b:X*({top:1,middle:.5}[ce]||0),t:X*({bottom:1,middle:.5}[ce]||0)})}function re(U){return c.autoMarginIdRoot+U._index}function O(U,ne,le,pe){pe=pe||{};var W=U.select("."+c.itemRectClassName),K=U.select("."+c.itemTextClassName),X=ne.borderwidth,ie=le.index,ue=ne._dims;v.setTranslate(U,X+le.x,X+le.y);var ce=-1!==["up","down"].indexOf(ne.direction),ge=pe.height||(ce?ue.heights[ie]:ue.height1);W.attr({x:0,y:0,width:pe.width||(ce?ue.width1:ue.widths[ie]),height:ge});var De=ne.font.size*m,Ne=y.lineCount(K);y.positionText(K,c.textOffsetX,ge/2-(Ne-1)*De/2+c.textOffsetY),ce?le.y+=ue.heights[ie]+le.yPad:le.x+=ue.widths[ie]+le.xPad,le.index++}function Q(U,ne){U.attr(c.menuIndexAttrName,ne||"-1").selectAll("g."+c.dropdownButtonClassName).remove()}Ce.exports=function(ne){var le=ne._fullLayout,pe=d.filterVisible(le[c.name]);function W(Ne){T.autoMargin(ne,re(Ne))}var K=le._menulayer.selectAll("g."+c.containerClassName).data(pe.length>0?[0]:[]);if(K.enter().append("g").classed(c.containerClassName,!0).style("cursor","pointer"),K.exit().each(function(){p.select(this).selectAll("g."+c.headerGroupClassName).each(W)}).remove(),0!==pe.length){var X=K.selectAll("g."+c.headerGroupClassName).data(pe,w);X.enter().append("g").classed(c.headerGroupClassName,!0);for(var ie=d.ensureSingle(K,"g",c.dropdownButtonGroupClassName,function(Ne){Ne.style("pointer-events","all")}),ue=0;ue<pe.length;ue++)J(ne,pe[ue]);var De=new C(ne,ie,"updatemenus"+le._uid);X.enter().size()&&(ie.node().parentNode.appendChild(ie.node()),ie.call(Q)),X.exit().each(function(Ne){ie.call(Q),W(Ne)}).remove(),X.each(function(Ne){var Be=p.select(this),Fe="dropdown"===Ne.type?ie:null;T.manageCommandObserver(ne,Ne,Ne.buttons,function(Se){A(ne,Ne,0,Be,Fe,De,Se.index,!0)}),"dropdown"===Ne.type?(D(ne,Be,ie,De,Ne),z(ie,Ne)&&_(ne,Be,ie,De,Ne)):_(ne,Be,null,null,Ne)})}}},6908:function(Ce,j,o){"use strict";var p=o(1331);Ce.exports={moduleType:"component",name:p.name,layoutAttributes:o(8444),supplyLayoutDefaults:o(1384),draw:o(4420)}},7400:function(Ce,j,o){"use strict";Ce.exports=d;var p=o(3428),T=o(6308),h=o(3616),v=o(3400);function d(y,g,m){this.gd=y,this.container=g,this.id=m,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}d.barWidth=2,d.barLength=20,d.barRadius=2,d.barPad=1,d.barColor="#808BA4",d.prototype.enable=function(g,m,c){var C=this.gd._fullLayout,w=C.width,S=C.height;this.position=g;var $,J,re,O,z=this.position.l,A=this.position.w,D=this.position.t,_=this.position.h,E=this.position.direction,M="down"===E,L="left"===E,P="up"===E,I=A,G=_;!M&&!L&&!("right"===E)&&!P&&(this.position.direction="down",M=!0),M||P?(J=($=z)+I,M?(re=D,G=(O=Math.min(re+G,S))-re):G=(O=D+G)-(re=Math.max(O-G,0))):(O=(re=D)+G,L?I=(J=z+I)-($=Math.max(J-I,0)):($=z,I=(J=Math.min($+I,w))-$)),this._box={l:$,t:re,w:I,h:G};var U=A>I,ne=d.barLength+2*d.barPad,le=d.barWidth+2*d.barPad,pe=z,W=D+_;W+le>S&&(W=S-le);var K=this.container.selectAll("rect.scrollbar-horizontal").data(U?[0]:[]);K.exit().on(".drag",null).remove(),K.enter().append("rect").classed("scrollbar-horizontal",!0).call(T.fill,d.barColor),U?(this.hbar=K.attr({rx:d.barRadius,ry:d.barRadius,x:pe,y:W,width:ne,height:le}),this._hbarXMin=pe+ne/2,this._hbarTranslateMax=I-ne):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var X=_>G,ie=d.barWidth+2*d.barPad,ue=d.barLength+2*d.barPad,ce=z+A,ge=D;ce+ie>w&&(ce=w-ie);var De=this.container.selectAll("rect.scrollbar-vertical").data(X?[0]:[]);De.exit().on(".drag",null).remove(),De.enter().append("rect").classed("scrollbar-vertical",!0).call(T.fill,d.barColor),X?(this.vbar=De.attr({rx:d.barRadius,ry:d.barRadius,x:ce,y:ge,width:ie,height:ue}),this._vbarYMin=ge+ue/2,this._vbarTranslateMax=G-ue):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var Ne=this.id,Be=$-.5,Fe=X?J+ie+.5:J+.5,Se=re-.5,ye=U?O+le+.5:O+.5,H=C._topdefs.selectAll("#"+Ne).data(U||X?[0]:[]);if(H.exit().remove(),H.enter().append("clipPath").attr("id",Ne).append("rect"),U||X?(this._clipRect=H.select("rect").attr({x:Math.floor(Be),y:Math.floor(Se),width:Math.ceil(Fe)-Math.floor(Be),height:Math.ceil(ye)-Math.floor(Se)}),this.container.call(h.setClipUrl,Ne,this.gd),this.bg.attr({x:z,y:D,width:A,height:_})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(h.setClipUrl,null),delete this._clipRect),U||X){var Y=p.behavior.drag().on("dragstart",function(){p.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(Y);var te=p.behavior.drag().on("dragstart",function(){p.event.sourceEvent.preventDefault(),p.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));U&&this.hbar.on(".drag",null).call(te),X&&this.vbar.on(".drag",null).call(te)}this.setTranslate(m,c)},d.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(h.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},d.prototype._onBoxDrag=function(){var g=this.translateX,m=this.translateY;this.hbar&&(g-=p.event.dx),this.vbar&&(m-=p.event.dy),this.setTranslate(g,m)},d.prototype._onBoxWheel=function(){var g=this.translateX,m=this.translateY;this.hbar&&(g+=p.event.deltaY),this.vbar&&(m+=p.event.deltaY),this.setTranslate(g,m)},d.prototype._onBarDrag=function(){var g=this.translateX,m=this.translateY;if(this.hbar){var c=g+this._hbarXMin,C=c+this._hbarTranslateMax;g=(v.constrain(p.event.x,c,C)-c)/(C-c)*(this.position.w-this._box.w)}if(this.vbar){var A=m+this._vbarYMin,D=A+this._vbarTranslateMax;m=(v.constrain(p.event.y,A,D)-A)/(D-A)*(this.position.h-this._box.h)}this.setTranslate(g,m)},d.prototype.setTranslate=function(g,m){var c=this.position.w-this._box.w,C=this.position.h-this._box.h;g=v.constrain(g||0,0,c),m=v.constrain(m||0,0,C),this.translateX=g,this.translateY=m,this.container.call(h.setTranslate,this._box.l-this.position.l-g,this._box.t-this.position.t-m),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+g-.5),y:Math.floor(this.position.t+m-.5)}),this.hbar&&this.hbar.call(h.setTranslate,g+g/c*this._hbarTranslateMax,m),this.vbar&&this.vbar.call(h.setTranslate,g,m+m/C*this._vbarTranslateMax)}},4284:function(Ce){"use strict";Ce.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},6208:function(Ce){"use strict";Ce.exports={axisRefDescription:function(j,o,p){return["If set to a",j,"axis id (e.g. *"+j+"* or","*"+j+"2*), the `"+j+"` position refers to a",j,"coordinate. If set to *paper*, the `"+j+"`","position refers to the distance from the",o,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",o,"("+p+"). If set to a",j,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",o,"of the domain of that axis: e.g.,","*"+j+"2 domain* refers to the domain of the second",j," axis and a",j,"position of 0.5 refers to the","point between the",o,"and the",p,"of the domain of the","second",j,"axis."].join(" ")}}},6880:function(Ce){"use strict";Ce.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},9104:function(Ce){"use strict";Ce.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},3448:function(Ce){"use strict";Ce.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},9032:function(Ce){"use strict";Ce.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,ONEMILLI:1,ONEMICROSEC:.001,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},9616:function(Ce,j){"use strict";j.xmlns="http://www.w3.org/2000/xmlns/",j.svg="http://www.w3.org/2000/svg",j.xlink="http://www.w3.org/1999/xlink",j.svgAttrs={xmlns:j.svg,"xmlns:xlink":j.xlink}},4884:function(Ce,j,o){"use strict";j.version=o(5788).version,o(8324),o(9288);for(var p=o(4040),T=j.register=p.register,h=o(2448),v=Object.keys(h),d=0;d<v.length;d++){var y=v[d];"_"!==y.charAt(0)&&(j[y]=h[y]),T({moduleType:"apiMethod",name:y,fn:h[y]})}T(o(5875)),T([o(9180),o(6864),o(2676),o(1592),o(7402),o(6908),o(7544),o(9692),o(1152),o(2704),o(4968),o(8932),o(5080),o(2780),o(3024),o(3080)]),T([o(6580),o(1680)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(T(window.PlotlyLocales),delete window.PlotlyLocales),j.Icons=o(9224);var g=o(3024),m=o(7316);j.Plots={resize:m.resize,graphJson:m.graphJson,sendDataToCloud:m.sendDataToCloud},j.Fx={hover:g.hover,unhover:g.unhover,loneHover:g.loneHover,loneUnhover:g.loneUnhover},j.Snapshot=o(8904),j.PlotSchema=o(3060)},9224:function(Ce){"use strict";Ce.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},8308:function(Ce,j){"use strict";j.isLeftAnchor=function(p){return"left"===p.xanchor||"auto"===p.xanchor&&p.x<=.3333333333333333},j.isCenterAnchor=function(p){return"center"===p.xanchor||"auto"===p.xanchor&&p.x>.3333333333333333&&p.x<.6666666666666666},j.isRightAnchor=function(p){return"right"===p.xanchor||"auto"===p.xanchor&&p.x>=.6666666666666666},j.isTopAnchor=function(p){return"top"===p.yanchor||"auto"===p.yanchor&&p.y>=.6666666666666666},j.isMiddleAnchor=function(p){return"middle"===p.yanchor||"auto"===p.yanchor&&p.y>.3333333333333333&&p.y<.6666666666666666},j.isBottomAnchor=function(p){return"bottom"===p.yanchor||"auto"===p.yanchor&&p.y<=.3333333333333333}},1864:function(Ce,j,o){"use strict";var p=o(435),T=p.mod,h=p.modHalf,v=Math.PI,d=2*v;function m(E){return Math.abs(E[1]-E[0])>d-1e-14}function c(E,M){return h(M-E,d)}function w(E,M){if(m(M))return!0;var L,b;M[0]<M[1]?(L=M[0],b=M[1]):(L=M[1],b=M[0]),(L=T(L,d))>(b=T(b,d))&&(b+=d);var P=T(E,d),I=P+d;return P>=L&&P<=b||I>=L&&I<=b}function z(E,M,L,b,P,I,G){P=P||0,I=I||0;var J,re,O,Q,U,$=m([L,b]);function ne(K,X){return[K*Math.cos(X)+P,I-K*Math.sin(X)]}$?(J=0,re=v,O=d):L<b?(J=L,O=b):(J=b,O=L),E<M?(Q=E,U=M):(Q=M,U=E);var W,le=Math.abs(O-J)<=v?0:1;function pe(K,X,ie){return"A"+[K,K]+" "+[0,le,ie]+" "+ne(K,X)}return $?W=null===Q?"M"+ne(U,J)+pe(U,re,0)+pe(U,O,0)+"Z":"M"+ne(Q,J)+pe(Q,re,0)+pe(Q,O,0)+"ZM"+ne(U,J)+pe(U,re,1)+pe(U,O,1)+"Z":null===Q?(W="M"+ne(U,J)+pe(U,O,0),G&&(W+="L0,0Z")):W="M"+ne(Q,J)+"L"+ne(U,J)+pe(U,O,0)+"L"+ne(Q,O)+pe(Q,J,1)+"Z",W}Ce.exports={deg2rad:function y(E){return E/180*v},rad2deg:function g(E){return E/v*180},angleDelta:c,angleDist:function C(E,M){return Math.abs(c(E,M))},isFullCircle:m,isAngleInsideSector:w,isPtInsideSector:function S(E,M,L,b){return!!w(M,b)&&(L[0]<L[1]?(P=L[0],I=L[1]):(P=L[1],I=L[0]),E>=P&&E<=I);var P,I},pathArc:function A(E,M,L,b,P){return z(null,E,M,L,b,P,0)},pathSector:function D(E,M,L,b,P){return z(null,E,M,L,b,P,1)},pathAnnulus:function _(E,M,L,b,P,I){return z(E,M,L,b,P,I,1)}}},8116:function(Ce,j,o){"use strict";var p=o(3160).decode,T=o(3620),h=Array.isArray,v=ArrayBuffer,d=DataView;function y(z){return v.isView(z)&&!(z instanceof d)}function g(z){return h(z)||y(z)}j.isTypedArray=y,j.isArrayOrTypedArray=g,j.isArray1D=function m(z){return!g(z[0])},j.ensureArray=function(z,A){return h(z)||(z=[]),z.length=A,z};var c={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};function C(z){return z.constructor===ArrayBuffer}function S(z,A,D){if(g(z)){if(g(z[0])){for(var _=D,E=0;E<z.length;E++)_=A(_,z[E].length);return _}return z.length}return 0}c.uint8c=c.u1c,c.uint8=c.u1,c.int8=c.i1,c.uint16=c.u2,c.int16=c.i2,c.uint32=c.u4,c.int32=c.i4,c.float32=c.f4,c.float64=c.f8,j.isArrayBuffer=C,j.decodeTypedArraySpec=function(z){var A=[],D=function w(z){return{bdata:z.bdata,dtype:z.dtype,shape:z.shape}}(z),_=D.dtype,E=c[_];if(!E)throw new Error('Error in dtype: "'+_+'"');var M=E.BYTES_PER_ELEMENT,L=D.bdata;C(L)||(L=p(L));var b=void 0===D.shape?[L.byteLength/M]:(""+D.shape).split(",");b.reverse();var I,G,P=b.length,$=+b[0],J=M*$,re=0;if(1===P)A=new E(L);else if(2===P)for(I=+b[1],G=0;G<I;G++)A[G]=new E(L,re,$),re+=J;else{if(3!==P)throw new Error("ndim: "+P+'is not supported with the shape:"'+D.shape+'"');I=+b[1];for(var O=+b[2],Q=0;Q<O;Q++)for(A[Q]=[],G=0;G<I;G++)A[Q][G]=new E(L,re,$),re+=J}return A.bdata=D.bdata,A.dtype=D.dtype,A.shape=b.reverse().join(","),z._inputArray=A,A},j.isTypedArraySpec=function(z){return T(z)&&z.hasOwnProperty("dtype")&&"string"==typeof z.dtype&&z.hasOwnProperty("bdata")&&("string"==typeof z.bdata||C(z.bdata))&&(void 0===z.shape||z.hasOwnProperty("shape")&&("string"==typeof z.shape||"number"==typeof z.shape))},j.concat=function(){var _,E,M,L,b,P,I,G,z=[],A=!0,D=0;for(M=0;M<arguments.length;M++)(P=(L=arguments[M]).length)&&(E?z.push(L):(E=L,b=P),h(L)?_=!1:(A=!1,D?_!==L.constructor&&(_=!1):_=L.constructor),D+=P);if(!D)return[];if(!z.length)return E;if(A)return E.concat.apply(E,z);if(_){for((I=new _(D)).set(E),M=0;M<z.length;M++)I.set(L=z[M],b),b+=L.length;return I}for(I=new Array(D),G=0;G<E.length;G++)I[G]=E[G];for(M=0;M<z.length;M++){for(L=z[M],G=0;G<L.length;G++)I[b+G]=L[G];b+=G}return I},j.maxRowLength=function(z){return S(z,Math.max,0)},j.minRowLength=function(z){return S(z,Math.min,1/0)}},4037:function(Ce,j,o){"use strict";var p=o(8248),T=o(9032).BADNUM,h=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;Ce.exports=function(d){return"string"==typeof d&&(d=d.replace(h,"")),p(d)?Number(d):T}},3696:function(Ce){"use strict";Ce.exports=function(o){var p=o._fullLayout;p._glcanvas&&p._glcanvas.size()&&p._glcanvas.each(function(T){T.regl&&T.regl.clear({color:!0,depth:!0})})}},5352:function(Ce){"use strict";Ce.exports=function(o){o._responsiveChartHandler&&(window.removeEventListener("resize",o._responsiveChartHandler),delete o._responsiveChartHandler)}},3064:function(Ce,j,o){"use strict";var p=o(8248),T=o(9760),h=o(2880).extendFlat,v=o(5464),d=o(8304),y=o(6308),g=o(3448).DESELECTDIM,m=o(2296),c=o(3756).counter,C=o(435).modHalf,w=o(8116).isArrayOrTypedArray,S=o(8116).isTypedArraySpec,z=o(8116).decodeTypedArraySpec;function A(D,_){var E=j.valObjectMeta[_.valType];if(_.arrayOk&&w(D))return!0;if(E.validateFunction)return E.validateFunction(D,_);var M={},L=M;return E.coerceFunction(D,{set:function(P){L=P}},M,_),L!==M}j.valObjectMeta={data_array:{coerceFunction:function(D,_,E){_.set(w(D)?D:S(D)?z(D):E)}},enumerated:{coerceFunction:function(D,_,E,M){M.coerceNumber&&(D=+D),-1===M.values.indexOf(D)?_.set(E):_.set(D)},validateFunction:function(D,_){_.coerceNumber&&(D=+D);for(var E=_.values,M=0;M<E.length;M++){var L=String(E[M]);if("/"===L.charAt(0)&&"/"===L.charAt(L.length-1)){if(new RegExp(L.substr(1,L.length-2)).test(D))return!0}else if(D===E[M])return!0}return!1}},boolean:{coerceFunction:function(D,_,E){_.set(!0===D||!1===D?D:E)}},number:{coerceFunction:function(D,_,E,M){S(D)&&(D=z(D)),!p(D)||void 0!==M.min&&D<M.min||void 0!==M.max&&D>M.max?_.set(E):_.set(+D)}},integer:{coerceFunction:function(D,_,E,M){-1===(M.extras||[]).indexOf(D)?(S(D)&&(D=z(D)),D%1||!p(D)||void 0!==M.min&&D<M.min||void 0!==M.max&&D>M.max?_.set(E):_.set(+D)):_.set(D)}},string:{coerceFunction:function(D,_,E,M){_.set("string"!=typeof D?!0!==M.strict&&"number"==typeof D?String(D):E:M.noBlank&&!D?E:D)}},color:{coerceFunction:function(D,_,E){S(D)&&(D=z(D)),T(D).isValid()?_.set(D):_.set(E)}},colorlist:{coerceFunction:function(D,_,E){Array.isArray(D)&&D.length&&D.every(function M(L){return T(L).isValid()})?_.set(D):_.set(E)}},colorscale:{coerceFunction:function(D,_,E){_.set(d.get(D,E))}},angle:{coerceFunction:function(D,_,E){S(D)&&(D=z(D)),"auto"===D?_.set("auto"):p(D)?_.set(C(+D,360)):_.set(E)}},subplotid:{coerceFunction:function(D,_,E,M){var L=M.regex||c(E);"string"==typeof D&&L.test(D)?_.set(D):_.set(E)},validateFunction:function(D,_){var E=_.dflt;return D===E||"string"==typeof D&&!!c(E).test(D)}},flaglist:{coerceFunction:function(D,_,E,M){if(-1===(M.extras||[]).indexOf(D))if("string"==typeof D){for(var L=D.split("+"),b=0;b<L.length;){var P=L[b];-1===M.flags.indexOf(P)||L.indexOf(P)<b?L.splice(b,1):b++}_.set(L.length?L.join("+"):E)}else _.set(E);else _.set(D)}},any:{coerceFunction:function(D,_,E){_.set(void 0===D?E:S(D)?z(D):D)}},info_array:{coerceFunction:function(D,_,E,M){function L(W,K,X){var ie;return void 0===X&&(X=K.dflt),j.valObjectMeta[K.valType].coerceFunction(W,{set:function(ce){ie=ce}},X,K),ie}if(S(D)&&(D=z(D)),w(D)){var O,Q,U,le,pe,b=2===M.dimensions||"1-2"===M.dimensions&&Array.isArray(D)&&w(D[0]),P=M.items,I=[],G=Array.isArray(P),$=G&&b&&w(P[0]),J=b&&G&&!$,re=G&&!J?P.length:D.length;if(E=Array.isArray(E)?E:[],b)for(O=0;O<re;O++)for(I[O]=[],U=w(D[O])?D[O]:[],le=J?P.length:G?P[O].length:U.length,Q=0;Q<le;Q++)void 0!==(pe=L(U[Q],J?P[Q]:G?P[O][Q]:P,(E[O]||[])[Q]))&&(I[O][Q]=pe);else for(O=0;O<re;O++)void 0!==(pe=L(D[O],G?P[O]:P,E[O]))&&(I[O]=pe);_.set(I)}else _.set(E)},validateFunction:function(D,_){if(!w(D))return!1;var E=_.items,M=Array.isArray(E),L=2===_.dimensions;if(!_.freeLength&&D.length!==E.length)return!1;for(var b=0;b<D.length;b++)if(L){if(!w(D[b])||!_.freeLength&&D[b].length!==E[b].length)return!1;for(var P=0;P<D[b].length;P++)if(!A(D[b][P],M?E[b][P]:E))return!1}else if(!A(D[b],M?E[b]:E))return!1;return!0}}},j.coerce=function(D,_,E,M,L){var b=m(E,M).get(),P=m(D,M),I=m(_,M),G=P.get(),$=_._template;if(void 0===G&&$&&(G=m($,M).get(),$=0),void 0===L&&(L=b.dflt),b.arrayOk){if(w(G))return I.set(G),G;if(S(G))return G=z(G),I.set(G),G}var J=j.valObjectMeta[b.valType].coerceFunction;J(G,I,L,b);var re=I.get();return $&&re===L&&!A(G,b)&&(J(G=m($,M).get(),I,L,b),re=I.get()),re},j.coerce2=function(D,_,E,M,L){var b=m(D,M),P=j.coerce(D,_,E,M,L);return null!=b.get()&&P},j.coerceFont=function(D,_,E,M){M||(M={}),E=h({},E);var L={family:D(_+".family",(E=h(E,M.overrideDflt||{})).family),size:D(_+".size",E.size),color:D(_+".color",E.color),weight:D(_+".weight",E.weight),style:D(_+".style",E.style)};if(M.noFontVariant||(L.variant=D(_+".variant",E.variant)),M.noFontLineposition||(L.lineposition=D(_+".lineposition",E.lineposition)),M.noFontTextcase||(L.textcase=D(_+".textcase",E.textcase)),!M.noFontShadow){var b=E.shadow;"none"===b&&M.autoShadowDflt&&(b="auto"),L.shadow=D(_+".shadow",b)}return L},j.coercePattern=function(D,_,E,M){if(D(_+".shape")){D(_+".solidity"),D(_+".size");var P="overlay"===D(_+".fillmode");if(!M){var I=D(_+".bgcolor",P?E:void 0);D(_+".fgcolor",P?y.contrast(I):E)}D(_+".fgopacity",P?.5:1)}},j.coerceHoverinfo=function(D,_,E){var P,M=_._module.attributes,L=M.hoverinfo?M:v,b=L.hoverinfo;if(1===E._dataLength){var I="all"===b.dflt?b.flags.slice():b.dflt.split("+");I.splice(I.indexOf("name"),1),P=I.join("+")}return j.coerce(D,_,L,"hoverinfo",P)},j.coerceSelectionMarkerOpacity=function(D,_){if(D.marker){var M,L,E=D.marker.opacity;void 0!==E&&(!w(E)&&!D.selected&&!D.unselected&&(M=E,L=g*E),_("selected.marker.opacity",M),_("unselected.marker.opacity",L))}},j.validate=A},7555:function(Ce,j,o){"use strict";var L,b,p=o(4336).Yn,T=o(8248),h=o(4248),v=o(435).mod,d=o(9032),y=d.BADNUM,g=d.ONEDAY,m=d.ONEHOUR,c=d.ONEMIN,C=d.ONESEC,w=d.EPOCHJD,S=o(4040),z=o(4336).E9,A=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,D=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,_=(new Date).getFullYear()-70;function E(W){return W&&S.componentsRegistry.calendars&&"string"==typeof W&&"gregorian"!==W}function P(W,K){return String(W+Math.pow(10,K)).substr(1)}j.dateTick0=function(W,K){var X=function M(W,K){return E(W)?K?S.getComponentMethod("calendars","CANONICAL_SUNDAY")[W]:S.getComponentMethod("calendars","CANONICAL_TICK")[W]:K?"2000-01-02":"2000-01-01"}(W,!!K);if(K<2)return X;var ie=j.dateTime2ms(X,W);return j.ms2DateTime(ie+=g*(K-1),0,W)},j.dfltRange=function(W){return E(W)?S.getComponentMethod("calendars","DFLTRANGE")[W]:["2000-01-01","2001-01-01"]},j.isJSDate=function(W){return"object"==typeof W&&null!==W&&"function"==typeof W.getTime},j.dateTime2ms=function(W,K){if(j.isJSDate(W)){var X=W.getTimezoneOffset()*c,ie=(W.getUTCMinutes()-W.getMinutes())*c+(W.getUTCSeconds()-W.getSeconds())*C+(W.getUTCMilliseconds()-W.getMilliseconds());if(ie){var ue=3*c;X=X-ue/2+v(ie-X+ue/2,ue)}return(W=Number(W)-X)>=L&&W<=b?W:y}if("string"!=typeof W&&"number"!=typeof W)return y;W=String(W);var ce=E(K),ge=W.charAt(0);ce&&("G"===ge||"g"===ge)&&(W=W.substr(1),K="");var De=ce&&"chinese"===K.substr(0,7),Ne=W.match(De?D:A);if(!Ne)return y;var Be=Ne[1],Fe=Ne[3]||"1",Se=Number(Ne[5]||1),ye=Number(Ne[7]||0),H=Number(Ne[9]||0),Y=Number(Ne[11]||0);if(ce){if(2===Be.length)return y;var te;Be=Number(Be);try{var Z=S.getComponentMethod("calendars","getCal")(K);if(De){var N="i"===Fe.charAt(Fe.length-1);Fe=parseInt(Fe,10),te=Z.newDate(Be,Z.toMonthIndex(Be,Fe,N),Se)}else te=Z.newDate(Be,Number(Fe),Se)}catch{return y}return te?(te.toJD()-w)*g+ye*m+H*c+Y*C:y}Be=2===Be.length?(Number(Be)+2e3-_)%100+_:Number(Be),Fe-=1;var ee=new Date(Date.UTC(2e3,Fe,Se,ye,H));return ee.setUTCFullYear(Be),ee.getUTCMonth()!==Fe||ee.getUTCDate()!==Se?y:ee.getTime()+Y*C},L=j.MIN_MS=j.dateTime2ms("-9999"),b=j.MAX_MS=j.dateTime2ms("9999-12-31 23:59:59.9999"),j.isDateTime=function(W,K){return j.dateTime2ms(W,K)!==y};var I=90*g,G=3*m,$=5*c;function J(W,K,X,ie,ue){if((K||X||ie||ue)&&(W+=" "+P(K,2)+":"+P(X,2),(ie||ue)&&(W+=":"+P(ie,2),ue))){for(var ce=4;ue%10==0;)ce-=1,ue/=10;W+="."+P(ue,ce)}return W}j.ms2DateTime=function(W,K,X){if("number"!=typeof W||!(W>=L&&W<=b))return y;K||(K=0);var ce,ge,De,Ne,Be,Fe,ie=Math.floor(10*v(W+.05,1)),ue=Math.round(W-ie/10);if(E(X)){var Se=Math.floor(ue/g)+w,ye=Math.floor(v(W,g));try{ce=S.getComponentMethod("calendars","getCal")(X).fromJD(Se).formatDate("yyyy-mm-dd")}catch{ce=z("G%Y-%m-%d")(new Date(ue))}if("-"===ce.charAt(0))for(;ce.length<11;)ce="-0"+ce.substr(1);else for(;ce.length<10;)ce="0"+ce;ge=K<I?Math.floor(ye/m):0,De=K<I?Math.floor(ye%m/c):0,Ne=K<G?Math.floor(ye%c/C):0,Be=K<$?ye%C*10+ie:0}else Fe=new Date(ue),ce=z("%Y-%m-%d")(Fe),ge=K<I?Fe.getUTCHours():0,De=K<I?Fe.getUTCMinutes():0,Ne=K<G?Fe.getUTCSeconds():0,Be=K<$?10*Fe.getUTCMilliseconds()+ie:0;return J(ce,ge,De,Ne,Be)},j.ms2DateTimeLocal=function(W){if(!(W>=L+g&&W<=b-g))return y;var K=Math.floor(10*v(W+.05,1)),X=new Date(Math.round(W-K/10));return J(p("%Y-%m-%d")(X),X.getHours(),X.getMinutes(),X.getSeconds(),10*X.getUTCMilliseconds()+K)},j.cleanDate=function(W,K,X){if(W===y)return K;if(j.isJSDate(W)||"number"==typeof W&&isFinite(W)){if(E(X))return h.error("JS Dates and milliseconds are incompatible with world calendars",W),K;if(!(W=j.ms2DateTimeLocal(+W))&&void 0!==K)return K}else if(!j.isDateTime(W,X))return h.error("unrecognized date",W),K;return W};var re=/%\d?f/g,O=/%h/g,Q={1:"1",2:"1",3:"2",4:"2"};function U(W,K,X,ie){W=W.replace(re,function(ce){var ge=Math.min(+ce.charAt(1)||6,6);return(K/1e3%1+2).toFixed(ge).substr(2).replace(/0+$/,"")||"0"});var ue=new Date(Math.floor(K+.05));if(W=W.replace(O,function(){return Q[X("%q")(ue)]}),E(ie))try{W=S.getComponentMethod("calendars","worldCalFmt")(W,K,ie)}catch{return"Invalid"}return X(W)(ue)}var ne=[59,59.9,59.99,59.999,59.9999];j.formatDate=function(W,K,X,ie,ue,ce){if(ue=E(ue)&&ue,!K)if("y"===X)K=ce.year;else if("m"===X)K=ce.month;else{if("d"!==X)return function le(W,K){var X=v(W+.05,g),ie=P(Math.floor(X/m),2)+":"+P(v(Math.floor(X/c),60),2);if("M"!==K){T(K)||(K=0);var ce=(100+Math.min(v(W/C,60),ne[K])).toFixed(K).substr(1);K>0&&(ce=ce.replace(/0+$/,"").replace(/[\.]$/,"")),ie+=":"+ce}return ie}(W,X)+"\n"+U(ce.dayMonthYear,W,ie,ue);K=ce.dayMonth+"\n"+ce.year}return U(K,W,ie,ue)};var pe=3*g;j.incrementMonth=function(W,K,X){X=E(X)&&X;var ie=v(W,g);if(W=Math.round(W-ie),X)try{var ue=Math.round(W/g)+w,ce=S.getComponentMethod("calendars","getCal")(X),ge=ce.fromJD(ue);return K%12?ce.add(ge,K,"m"):ce.add(ge,K/12,"y"),(ge.toJD()-w)*g+ie}catch{h.error("invalid ms "+W+" in calendar "+X)}var De=new Date(W+pe);return De.setUTCMonth(De.getUTCMonth()+K)+ie-pe},j.findExactDates=function(W,K){for(var ge,De,X=0,ie=0,ue=0,ce=0,Ne=E(K)&&S.getComponentMethod("calendars","getCal")(K),Be=0;Be<W.length;Be++)if(T(De=W[Be])){if(!(De%g))if(Ne)try{1===(ge=Ne.fromJD(De/g+w)).day()?1===ge.month()?X++:ie++:ue++}catch{}else 1===(ge=new Date(De)).getUTCDate()?0===ge.getUTCMonth()?X++:ie++:ue++}else ce++;var Fe=W.length-ce;return{exactYears:X/Fe,exactMonths:(ie+=X)/Fe,exactDays:(ue+=ie)/Fe}}},2200:function(Ce,j,o){"use strict";var p=o(3428),T=o(4248),h=o(2248),v=o(6524);function g(_){var E=_&&_.parentNode;E&&E.removeChild(_)}function c(_,E,M){var L="plotly.js-style-"+_,b=document.getElementById(L);b||((b=document.createElement("style")).setAttribute("id",L),b.appendChild(document.createTextNode("")),document.head.appendChild(b));var P=b.sheet;P.insertRule?P.insertRule(E+"{"+M+"}",0):P.addRule?P.addRule(E,M,0):T.warn("addStyleRule failed")}function S(_){var E=window.getComputedStyle(_,null),M=E.getPropertyValue("-webkit-transform")||E.getPropertyValue("-moz-transform")||E.getPropertyValue("-ms-transform")||E.getPropertyValue("-o-transform")||E.getPropertyValue("transform");return"none"===M?null:M.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(L){return+L})}function z(_){for(var E=[];A(_);)E.push(_),_=_.parentNode,"function"==typeof ShadowRoot&&_ instanceof ShadowRoot&&(_=_.host);return E}function A(_){return _&&(_ instanceof Element||_ instanceof HTMLElement)}Ce.exports={getGraphDiv:function d(_){var E;if("string"==typeof _){if(null===(E=document.getElementById(_)))throw new Error("No DOM element with id '"+_+"' exists on the page.");return E}if(null==_)throw new Error("DOM element provided is null or undefined");return _},isPlotDiv:function y(_){var E=p.select(_);return E.node()instanceof HTMLElement&&E.size()&&E.classed("js-plotly-plot")},removeElement:g,addStyleRule:function m(_,E){c("global",_,E)},addRelatedStyleRule:c,deleteRelatedStyleRule:function C(_){var M=document.getElementById("plotly.js-style-"+_);M&&g(M)},getFullTransformMatrix:function w(_){var E=z(_),M=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return E.forEach(function(L){var b=S(L);if(b){var P=h.convertCssMatrix(b);M=v.multiply(M,M,P)}}),M},getElementTransformMatrix:S,getElementAndAncestors:z,equalDomRects:function D(_,E){return _&&E&&_.top===E.top&&_.left===E.left&&_.right===E.right&&_.bottom===E.bottom}}},5924:function(Ce,j,o){"use strict";var p=o(1252).EventEmitter;Ce.exports={init:function(h){if(h._ev instanceof p)return h;var v=new p,d=new p;return h._ev=v,h._internalEv=d,h.on=v.on.bind(v),h.once=v.once.bind(v),h.removeListener=v.removeListener.bind(v),h.removeAllListeners=v.removeAllListeners.bind(v),h._internalOn=d.on.bind(d),h._internalOnce=d.once.bind(d),h._removeInternalListener=d.removeListener.bind(d),h._removeAllInternalListeners=d.removeAllListeners.bind(d),h.emit=function(y,g){typeof jQuery<"u"&&jQuery(h).trigger(y,g),v.emit(y,g),d.emit(y,g)},h},triggerHandler:function(h,v,d){var y,g;typeof jQuery<"u"&&(y=jQuery(h).triggerHandler(v,d));var m=h._ev;if(!m)return y;var w,c=m._events[v];if(!c)return y;function C(S){return S.listener?(m.removeListener(v,S.listener),S.fired?void 0:(S.fired=!0,S.listener.apply(m,[d]))):S.apply(m,[d])}for(c=Array.isArray(c)?c:[c],w=0;w<c.length-1;w++)C(c[w]);return g=C(c[w]),void 0!==y?y:g},purge:function(h){return delete h._ev,delete h.on,delete h.once,delete h.removeListener,delete h.removeAllListeners,delete h.emit,delete h._ev,delete h._internalEv,delete h._internalOn,delete h._internalOnce,delete h._removeInternalListener,delete h._removeAllInternalListeners,h}}},2880:function(Ce,j,o){"use strict";var p=o(3620),T=Array.isArray;function v(d,y,g,m){var w,S,z,A,D,_,c=d[0],C=d.length;if(2===C&&T(c)&&T(d[1])&&0===c.length){if(function h(d,y){var g,m;for(g=0;g<d.length;g++){if(null!==(m=d[g])&&"object"==typeof m)return!1;void 0!==m&&(y[g]=m)}return!0}(d[1],c))return c;c.splice(0,c.length)}for(var M=1;M<C;M++)for(S in w=d[M])z=c[S],A=w[S],m&&T(A)?c[S]=A:y&&A&&(p(A)||(D=T(A)))?(D?(D=!1,_=z&&T(z)?z:[]):_=z&&p(z)?z:{},c[S]=v([_,A],y,g,m)):(typeof A<"u"||g)&&(c[S]=A);return c}j.extendFlat=function(){return v(arguments,!1,!1,!1)},j.extendDeep=function(){return v(arguments,!0,!1,!1)},j.extendDeepAll=function(){return v(arguments,!0,!0,!1)},j.extendDeepNoArrays=function(){return v(arguments,!0,!1,!0)}},8944:function(Ce){"use strict";Ce.exports=function(o){for(var p={},T=[],h=0,v=0;v<o.length;v++){var d=o[v];1!==p[d]&&(p[d]=1,T[h++]=d)}return T}},3880:function(Ce){"use strict";function j(T){return!0===T.visible}function o(T){var h=T[0].trace;return!0===h.visible&&0!==h._length}Ce.exports=function(h){for(var v=function p(T){return Array.isArray(T)&&Array.isArray(T[0])&&T[0][0]&&T[0][0].trace}(h)?o:j,d=[],y=0;y<h.length;y++){var g=h[y];v(g)&&d.push(g)}return d}},2348:function(Ce,j,o){"use strict";var v,d,y,p=o(435).mod;function T(g,m,c,C,w,S,z,A){var D=c-g,_=w-g,E=z-w,M=C-m,L=S-m,b=A-S,P=D*b-E*M;if(0===P)return null;var I=(_*b-E*L)/P,G=(_*M-D*L)/P;return G<0||G>1||I<0||I>1?null:{x:g+D*I,y:m+M*I}}function h(g,m,c,C,w){var S=C*g+w*m;if(S<0)return C*C+w*w;if(S>c){var z=C-g,A=w-m;return z*z+A*A}var D=C*m-w*g;return D*D/c}j.segmentsIntersect=T,j.segmentDistance=function(m,c,C,w,S,z,A,D){if(T(m,c,C,w,S,z,A,D))return 0;var _=C-m,E=w-c,M=A-S,L=D-z,b=_*_+E*E,P=M*M+L*L,I=Math.min(h(_,E,b,S-m,z-c),h(_,E,b,A-m,D-c),h(M,L,P,m-S,c-z),h(M,L,P,C-S,w-z));return Math.sqrt(I)},j.getTextLocation=function(m,c,C,w){if((m!==d||w!==y)&&(v={},d=m,y=w),v[C])return v[C];var S=m.getPointAtLength(p(C-w/2,c)),z=m.getPointAtLength(p(C+w/2,c)),A=Math.atan((z.y-S.y)/(z.x-S.x)),D=m.getPointAtLength(p(C,c)),M={x:(4*D.x+S.x+z.x)/6,y:(4*D.y+S.y+z.y)/6,theta:A};return v[C]=M,M},j.clearLocationCache=function(){d=null},j.getVisibleSegment=function(m,c,C){var M,L,w=c.left,S=c.right,z=c.top,A=c.bottom,D=0,_=m.getTotalLength(),E=_;function b(I){var G=m.getPointAtLength(I);0===I?M=G:I===_&&(L=G);var $=G.x<w?w-G.x:G.x>S?G.x-S:0,J=G.y<z?z-G.y:G.y>A?G.y-A:0;return Math.sqrt($*$+J*J)}for(var P=b(D);P;){if((D+=P+C)>E)return;P=b(D)}for(P=b(E);P;){if(D>(E-=P+C))return;P=b(E)}return{min:D,max:E,len:E-D,total:_,isClosed:0===D&&E===_&&Math.abs(M.x-L.x)<.1&&Math.abs(M.y-L.y)<.1}},j.findPointOnPath=function(m,c,C,w){for(var L,b,P,S=(w=w||{}).pathLength||m.getTotalLength(),z=w.tolerance||.001,A=w.iterationLimit||30,D=m.getPointAtLength(0)[C]>m.getPointAtLength(S)[C]?-1:1,_=0,E=0,M=S;_<A;){if(P=(b=m.getPointAtLength(L=(E+M)/2))[C]-c,Math.abs(P)<z)return b;D*P>0?M=L:E=L,_++}return b}},5536:function(Ce){"use strict";Ce.exports=function(o){return o}},1396:function(Ce){"use strict";Ce.exports=function(o,p){if(!p)return o;var T=1/Math.abs(p),h=T>1?(T*o+T*p)/T:o+p,v=String(h).length;if(v>16){var d=String(p).length;if(v>=String(o).length+d){var g=parseFloat(h).toPrecision(12);-1===g.indexOf("e+")&&(h=+g)}}return h}},3400:function(Ce,j,o){"use strict";var p=o(3428),T=o(4336).E9,h=o(7624).E9,v=o(8248),d=o(9032),y=d.FP_SAFE,g=-y,m=d.BADNUM,c=Ce.exports={};c.adjustFormat=function(te){return!te||/^\d[.]\df/.test(te)||/[.]\d%/.test(te)?te:"0.f"===te?"~f":/^\d%/.test(te)?"~%":/^\ds/.test(te)?"~s":!/^[~,.0$]/.test(te)&&/[&fps]/.test(te)?"~"+te:te};var C={};c.warnBadFormat=function(Y){var te=String(Y);C[te]||(C[te]=1,c.warn('encountered bad format: "'+te+'"'))},c.noFormat=function(Y){return String(Y)},c.numberFormat=function(Y){var te;try{te=h(c.adjustFormat(Y))}catch{return c.warnBadFormat(Y),c.noFormat}return te},c.nestedProperty=o(2296),c.keyedContainer=o(7804),c.relativeAttr=o(3193),c.isPlainObject=o(3620),c.toLogRange=o(6896),c.relinkPrivateKeys=o(1528);var w=o(8116);c.isArrayBuffer=w.isArrayBuffer,c.isTypedArray=w.isTypedArray,c.isArrayOrTypedArray=w.isArrayOrTypedArray,c.isArray1D=w.isArray1D,c.ensureArray=w.ensureArray,c.concat=w.concat,c.maxRowLength=w.maxRowLength,c.minRowLength=w.minRowLength;var S=o(435);c.mod=S.mod,c.modHalf=S.modHalf;var z=o(3064);c.valObjectMeta=z.valObjectMeta,c.coerce=z.coerce,c.coerce2=z.coerce2,c.coerceFont=z.coerceFont,c.coercePattern=z.coercePattern,c.coerceHoverinfo=z.coerceHoverinfo,c.coerceSelectionMarkerOpacity=z.coerceSelectionMarkerOpacity,c.validate=z.validate;var A=o(7555);c.dateTime2ms=A.dateTime2ms,c.isDateTime=A.isDateTime,c.ms2DateTime=A.ms2DateTime,c.ms2DateTimeLocal=A.ms2DateTimeLocal,c.cleanDate=A.cleanDate,c.isJSDate=A.isJSDate,c.formatDate=A.formatDate,c.incrementMonth=A.incrementMonth,c.dateTick0=A.dateTick0,c.dfltRange=A.dfltRange,c.findExactDates=A.findExactDates,c.MIN_MS=A.MIN_MS,c.MAX_MS=A.MAX_MS;var D=o(4952);c.findBin=D.findBin,c.sorterAsc=D.sorterAsc,c.sorterDes=D.sorterDes,c.distinctVals=D.distinctVals,c.roundUp=D.roundUp,c.sort=D.sort,c.findIndexOfMin=D.findIndexOfMin,c.sortObjectKeys=o(2996);var _=o(3084);c.aggNums=_.aggNums,c.len=_.len,c.mean=_.mean,c.geometricMean=_.geometricMean,c.median=_.median,c.midRange=_.midRange,c.variance=_.variance,c.stdev=_.stdev,c.interp=_.interp;var E=o(2248);c.init2dArray=E.init2dArray,c.transposeRagged=E.transposeRagged,c.dot=E.dot,c.translationMatrix=E.translationMatrix,c.rotationMatrix=E.rotationMatrix,c.rotationXYMatrix=E.rotationXYMatrix,c.apply3DTransform=E.apply3DTransform,c.apply2DTransform=E.apply2DTransform,c.apply2DTransform2=E.apply2DTransform2,c.convertCssMatrix=E.convertCssMatrix,c.inverseTransformMatrix=E.inverseTransformMatrix;var M=o(1864);c.deg2rad=M.deg2rad,c.rad2deg=M.rad2deg,c.angleDelta=M.angleDelta,c.angleDist=M.angleDist,c.isFullCircle=M.isFullCircle,c.isAngleInsideSector=M.isAngleInsideSector,c.isPtInsideSector=M.isPtInsideSector,c.pathArc=M.pathArc,c.pathSector=M.pathSector,c.pathAnnulus=M.pathAnnulus;var L=o(8308);c.isLeftAnchor=L.isLeftAnchor,c.isCenterAnchor=L.isCenterAnchor,c.isRightAnchor=L.isRightAnchor,c.isTopAnchor=L.isTopAnchor,c.isMiddleAnchor=L.isMiddleAnchor,c.isBottomAnchor=L.isBottomAnchor;var b=o(2348);c.segmentsIntersect=b.segmentsIntersect,c.segmentDistance=b.segmentDistance,c.getTextLocation=b.getTextLocation,c.clearLocationCache=b.clearLocationCache,c.getVisibleSegment=b.getVisibleSegment,c.findPointOnPath=b.findPointOnPath;var P=o(2880);c.extendFlat=P.extendFlat,c.extendDeep=P.extendDeep,c.extendDeepAll=P.extendDeepAll,c.extendDeepNoArrays=P.extendDeepNoArrays;var I=o(4248);c.log=I.log,c.warn=I.warn,c.error=I.error;var G=o(3756);c.counterRegex=G.counter;var $=o(1200);c.throttle=$.throttle,c.throttleDone=$.done,c.clearThrottle=$.clear;var J=o(2200);function re(Y){var te={};for(var Z in Y)for(var N=Y[Z],ee=0;ee<N.length;ee++)te[N[ee]]=+Z;return te}c.getGraphDiv=J.getGraphDiv,c.isPlotDiv=J.isPlotDiv,c.removeElement=J.removeElement,c.addStyleRule=J.addStyleRule,c.addRelatedStyleRule=J.addRelatedStyleRule,c.deleteRelatedStyleRule=J.deleteRelatedStyleRule,c.getFullTransformMatrix=J.getFullTransformMatrix,c.getElementTransformMatrix=J.getElementTransformMatrix,c.getElementAndAncestors=J.getElementAndAncestors,c.equalDomRects=J.equalDomRects,c.clearResponsive=o(5352),c.preserveDrawingBuffer=o(4296),c.makeTraceGroups=o(988),c._=o(8356),c.notifier=o(1792),c.filterUnique=o(8944),c.filterVisible=o(3880),c.pushUnique=o(2416),c.increment=o(1396),c.cleanNumber=o(4037),c.ensureNumber=function(te){return v(te)?(te=Number(te))>y||te<g?m:te:m},c.isIndex=function(Y,te){return!(void 0!==te&&Y>=te)&&v(Y)&&Y>=0&&Y%1==0},c.noop=o(6628),c.identity=o(5536),c.repeat=function(Y,te){for(var Z=new Array(te),N=0;N<te;N++)Z[N]=Y;return Z},c.swapAttrs=function(Y,te,Z,N){Z||(Z="x"),N||(N="y");for(var ee=0;ee<te.length;ee++){var B=te[ee],se=c.nestedProperty(Y,B.replace("?",Z)),xe=c.nestedProperty(Y,B.replace("?",N)),Te=se.get();se.set(xe.get()),xe.set(Te)}},c.raiseToTop=function(te){te.parentNode.appendChild(te)},c.cancelTransition=function(Y){return Y.transition().duration(0)},c.constrain=function(Y,te,Z){return te>Z?Math.max(Z,Math.min(te,Y)):Math.max(te,Math.min(Z,Y))},c.bBoxIntersect=function(Y,te,Z){return Y.left<=te.right+(Z=Z||0)&&te.left<=Y.right+Z&&Y.top<=te.bottom+Z&&te.top<=Y.bottom+Z},c.simpleMap=function(Y,te,Z,N,ee){for(var B=Y.length,se=new Array(B),xe=0;xe<B;xe++)se[xe]=te(Y[xe],Z,N,ee);return se},c.randstr=function Y(te,Z,N,ee){if(N||(N=16),void 0===Z&&(Z=24),Z<=0)return"0";var xe,Te,B=Math.log(Math.pow(2,Z))/Math.log(N),se="";for(xe=2;B===1/0;xe*=2)B=Math.log(Math.pow(2,Z/xe))/Math.log(N)*xe;var Oe=B-Math.floor(B);for(xe=0;xe<Math.floor(B);xe++)se=Math.floor(Math.random()*N).toString(N)+se;Oe&&(Te=Math.pow(N,Oe),se=Math.floor(Math.random()*Te).toString(N)+se);var $e=parseInt(se,N);return te&&te[se]||$e!==1/0&&$e>=Math.pow(2,Z)?ee>10?(c.warn("randstr failed uniqueness"),se):Y(te,Z,N,(ee||0)+1):se},c.OptionControl=function(Y,te){Y||(Y={}),te||(te="opt");var Z={optionList:[],_newoption:function(N){N[te]=Y,Z[N.name]=N,Z.optionList.push(N)}};return Z["_"+te]=Y,Z},c.smooth=function(Y,te){if((te=Math.round(te)||0)<2)return Y;var xe,Te,Ee,Oe,Z=Y.length,N=2*Z,ee=2*te-1,B=new Array(ee),se=new Array(Z);for(xe=0;xe<ee;xe++)B[xe]=(1-Math.cos(Math.PI*(xe+1)/te))/(2*te);for(xe=0;xe<Z;xe++){for(Oe=0,Te=0;Te<ee;Te++)(Ee=xe+Te+1-te)<-Z?Ee-=N*Math.round(Ee/N):Ee>=N&&(Ee-=N*Math.floor(Ee/N)),Ee<0?Ee=-1-Ee:Ee>=Z&&(Ee=N-1-Ee),Oe+=Y[Ee]*B[Te];se[xe]=Oe}return se},c.syncOrAsync=function(Y,te,Z){var N;function B(){return c.syncOrAsync(Y,te,Z)}for(;Y.length;)if((N=(0,Y.splice(0,1)[0])(te))&&N.then)return N.then(B);return Z&&Z(te)},c.stripTrailingSlash=function(Y){return"/"===Y.substr(-1)?Y.substr(0,Y.length-1):Y},c.noneOrAll=function(Y,te,Z){if(Y){var B,N=!1,ee=!0;for(B=0;B<Z.length;B++)null!=Y[Z[B]]?N=!0:ee=!1;if(N&&!ee)for(B=0;B<Z.length;B++)Y[Z[B]]=te[Z[B]]}},c.mergeArray=function(Y,te,Z,N){var ee="function"==typeof N;if(c.isArrayOrTypedArray(Y))for(var B=Math.min(Y.length,te.length),se=0;se<B;se++){var xe=Y[se];te[se][Z]=ee?N(xe):xe}},c.mergeArrayCastPositive=function(Y,te,Z){return c.mergeArray(Y,te,Z,function(N){var ee=+N;return isFinite(ee)&&ee>0?ee:0})},c.fillArray=function(Y,te,Z,N){if(N=N||c.identity,c.isArrayOrTypedArray(Y))for(var ee=0;ee<te.length;ee++)te[ee][Z]=N(Y[ee])},c.castOption=function(Y,te,Z,N){N=N||c.identity;var ee=c.nestedProperty(Y,Z).get();return c.isArrayOrTypedArray(ee)?Array.isArray(te)&&c.isArrayOrTypedArray(ee[te[0]])?N(ee[te[0]][te[1]]):N(ee[te]):ee},c.extractOption=function(Y,te,Z,N){if(Z in Y)return Y[Z];var ee=c.nestedProperty(te,N).get();return Array.isArray(ee)?void 0:ee},c.tagSelected=function(Y,te,Z){var B,$e,N=te.selectedpoints,ee=te._indexToPoints;ee&&(B=re(ee));for(var xe=0;xe<N.length;xe++){var Te=N[xe];if(c.isIndex(Te)||c.isArrayOrTypedArray(Te)&&c.isIndex(Te[0])&&c.isIndex(Te[1])){var Ee=B?B[Te]:Te,Oe=Z?Z[Ee]:Ee;void 0!==($e=Oe)&&$e<Y.length&&(Y[Oe].selected=1)}}},c.selIndices2selPoints=function(Y){var te=Y.selectedpoints,Z=Y._indexToPoints;if(Z){for(var N=re(Z),ee=[],B=0;B<te.length;B++){var se=te[B];if(c.isIndex(se)){var xe=N[se];c.isIndex(xe)&&ee.push(xe)}}return ee}return te},c.getTargetArray=function(Y,te){var Z=te.target;if("string"==typeof Z&&Z){var N=c.nestedProperty(Y,Z).get();return!!c.isArrayOrTypedArray(N)&&N}return!!c.isArrayOrTypedArray(Z)&&Z},c.minExtend=function O(Y,te,Z){var N={};"object"!=typeof te&&(te={});var se,xe,Te,ee="pieLike"===Z?-1:3,B=Object.keys(Y);for(se=0;se<B.length;se++)Te=Y[xe=B[se]],"_"!==xe.charAt(0)&&"function"!=typeof Te&&(N[xe]="module"===xe?Te:Array.isArray(Te)?"colorscale"===xe||-1===ee?Te.slice():Te.slice(0,ee):c.isTypedArray(Te)?-1===ee?Te.subarray():Te.subarray(0,ee):Te&&"object"==typeof Te?O(Y[xe],te[xe],Z):Te);for(B=Object.keys(te),se=0;se<B.length;se++)("object"!=typeof(Te=te[xe=B[se]])||!(xe in N)||"object"!=typeof N[xe])&&(N[xe]=Te);return N},c.titleCase=function(Y){return Y.charAt(0).toUpperCase()+Y.substr(1)},c.containsAny=function(Y,te){for(var Z=0;Z<te.length;Z++)if(-1!==Y.indexOf(te[Z]))return!0;return!1},c.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var Q=/Version\/[\d\.]+.*Safari/;c.isSafari=function(){return Q.test(window.navigator.userAgent)};var U=/iPad|iPhone|iPod/;c.isIOS=function(){return U.test(window.navigator.userAgent)};var ne=/Firefox\/(\d+)\.\d+/;c.getFirefoxVersion=function(){var Y=ne.exec(window.navigator.userAgent);if(Y&&2===Y.length){var te=parseInt(Y[1]);if(!isNaN(te))return te}return null},c.isD3Selection=function(Y){return Y instanceof p.selection},c.ensureSingle=function(Y,te,Z,N){var ee=Y.select(te+(Z?"."+Z:""));if(ee.size())return ee;var B=Y.append(te);return Z&&B.classed(Z,!0),N&&B.call(N),B},c.ensureSingleById=function(Y,te,Z,N){var ee=Y.select(te+"#"+Z);if(ee.size())return ee;var B=Y.append(te).attr("id",Z);return N&&B.call(N),B},c.objectFromPath=function(Y,te){for(var N,Z=Y.split("."),ee=N={},B=0;B<Z.length;B++){var se=Z[B],xe=null,Te=Z[B].match(/(.*)\[([0-9]+)\]/);Te?(xe=Te[2],(N=N[se=Te[1]]=[])[xe]=B===Z.length-1?te:{},N=N[xe]):(N[se]=B===Z.length-1?te:{},N=N[se])}return ee};var le=/^([^\[\.]+)\.(.+)?/,pe=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function W(Y){return"__"===Y.slice(0,2)}c.expandObjectPaths=function(Y){var te,Z,N,ee,B,se,xe;if("object"==typeof Y&&!Array.isArray(Y))for(Z in Y)if(Y.hasOwnProperty(Z))if(te=Z.match(le)){if(ee=Y[Z],W(N=te[1]))continue;delete Y[Z],Y[N]=c.extendDeepNoArrays(Y[N]||{},c.objectFromPath(Z,c.expandObjectPaths(ee))[N])}else if(te=Z.match(pe)){if(ee=Y[Z],W(N=te[1]))continue;if(B=parseInt(te[2]),delete Y[Z],Y[N]=Y[N]||[],"."===te[3])xe=te[4],se=Y[N][B]=Y[N][B]||{},c.extendDeepNoArrays(se,c.objectFromPath(xe,c.expandObjectPaths(ee)));else{if(W(N))continue;Y[N][B]=c.expandObjectPaths(ee)}}else{if(W(Z))continue;Y[Z]=c.expandObjectPaths(Y[Z])}return Y},c.numSeparate=function(Y,te,Z){if(Z||(Z=!1),"string"!=typeof te||0===te.length)throw new Error("Separator string required for formatting!");"number"==typeof Y&&(Y=String(Y));var N=/(\d+)(\d{3})/,ee=te.charAt(0),B=te.charAt(1),se=Y.split("."),xe=se[0],Te=se.length>1?ee+se[1]:"";if(B&&(se.length>1||xe.length>4||Z))for(;N.test(xe);)xe=xe.replace(N,"$1"+B+"$2");return xe+Te},c.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var K=/^\w*$/;c.templateString=function(Y,te){var Z={};return Y.replace(c.TEMPLATE_STRING_REGEX,function(N,ee){var B;return K.test(ee)?B=te[ee]:(Z[ee]=Z[ee]||c.nestedProperty(te,ee).get,B=Z[ee]()),c.isValidTextValue(B)?B:""})};var X={max:10,count:0,name:"hovertemplate"};c.hovertemplateString=function(){return Ne.apply(X,arguments)};var ie={max:10,count:0,name:"texttemplate"};c.texttemplateString=function(){return Ne.apply(ie,arguments)};var ue=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;var ge={max:10,count:0,name:"texttemplate",parseMultDiv:!0};c.texttemplateStringForShapes=function(){return Ne.apply(ge,arguments)};var De=/^[:|\|]/;function Ne(Y,te,Z){var N=this,ee=arguments;te||(te={});var B={};return Y.replace(c.TEMPLATE_STRING_REGEX,function(se,xe,Te){var Oe="_xother"===xe||"_yother"===xe,$e="_xother_"===xe||"_yother_"===xe,ct="xother_"===xe||"yother_"===xe,ft="xother"===xe||"yother"===xe||Oe||ct||$e,gt=xe;(Oe||$e)&&(gt=gt.substring(1)),(ct||$e)&&(gt=gt.substring(0,gt.length-1));var Qe,Ke,dt,ze=null,Ve=null;if(N.parseMultDiv){var Pe=function ce(Y){var te=Y.match(ue);return te?{key:te[1],op:te[2],number:Number(te[3])}:{key:Y,op:null,number:null}}(gt);gt=Pe.key,ze=Pe.op,Ve=Pe.number}if(ft){if(void 0===(Qe=te[gt]))return""}else for(dt=3;dt<ee.length;dt++)if(Ke=ee[dt]){if(Ke.hasOwnProperty(gt)){Qe=Ke[gt];break}if(K.test(gt)||(Qe=c.nestedProperty(Ke,gt).get(),(Qe=B[gt]||c.nestedProperty(Ke,gt).get())&&(B[gt]=Qe)),void 0!==Qe)break}if(void 0!==Qe&&("*"===ze&&(Qe*=Ve),"/"===ze&&(Qe/=Ve)),void 0===Qe&&N)return N.count<N.max&&(c.warn("Variable '"+gt+"' in "+N.name+" could not be found!"),Qe=se),N.count===N.max&&c.warn("Too many "+N.name+" warnings - additional warnings will be suppressed"),N.count++,se;if(Te){var Dt;if(":"===Te[0]&&(Dt=Z?Z.numberFormat:c.numberFormat,""!==Qe&&(Qe=Dt(Te.replace(De,""))(Qe))),"|"===Te[0]){Dt=Z?Z.timeFormat:T;var $t=c.dateTime2ms(Qe);Qe=c.formatDate($t,Te.replace(De,""),!1,Dt)}}else{var Ot=gt+"Label";te.hasOwnProperty(Ot)&&(Qe=te[Ot])}return ft&&(Qe="("+Qe+")",(Oe||$e)&&(Qe=" "+Qe),(ct||$e)&&(Qe+=" ")),Qe})}c.subplotSort=function(Y,te){for(var Z=Math.min(Y.length,te.length)+1,N=0,ee=0,B=0;B<Z;B++){var se=Y.charCodeAt(B)||0,xe=te.charCodeAt(B)||0,Te=se>=48&&se<=57,Ee=xe>=48&&xe<=57;if(Te&&(N=10*N+se-48),Ee&&(ee=10*ee+xe-48),!Te||!Ee){if(N!==ee)return N-ee;if(se!==xe)return se-xe}}return ee-N};var Se=2e9;c.seedPseudoRandom=function(){Se=2e9},c.pseudoRandom=function(){var Y=Se;return Se=(69069*Se+1)%4294967296,Math.abs(Se-Y)<429496729?c.pseudoRandom():Se/4294967296},c.fillText=function(Y,te,Z){var N=Array.isArray(Z)?function(se){Z.push(se)}:function(se){Z.text=se},ee=c.extractOption(Y,te,"htx","hovertext");if(c.isValidTextValue(ee))return N(ee);var B=c.extractOption(Y,te,"tx","text");return c.isValidTextValue(B)?N(B):void 0},c.isValidTextValue=function(Y){return Y||0===Y},c.formatPercent=function(Y,te){te=te||0;for(var Z=(Math.round(100*Y*Math.pow(10,te))*Math.pow(.1,te)).toFixed(te)+"%",N=0;N<te;N++)-1!==Z.indexOf(".")&&(Z=(Z=Z.replace("0%","%")).replace(".%","%"));return Z},c.isHidden=function(Y){var te=window.getComputedStyle(Y).display;return!te||"none"===te},c.strTranslate=function(Y,te){return Y||te?"translate("+Y+","+te+")":""},c.strRotate=function(Y){return Y?"rotate("+Y+")":""},c.strScale=function(Y){return 1!==Y?"scale("+Y+")":""},c.getTextTransform=function(Y){var te=Y.noCenter,Z=Y.textX,N=Y.textY,Te=Y.rotate,Ee=Y.scale;return Ee?Ee>1&&(Ee=1):Ee=0,c.strTranslate(Y.targetX-Ee*(Z+(Y.anchorX||0)),Y.targetY-Ee*(N+(Y.anchorY||0)))+c.strScale(Ee)+(Te?"rotate("+Te+(te?"":" "+Z+" "+N)+")":"")},c.setTransormAndDisplay=function(Y,te){Y.attr("transform",c.getTextTransform(te)),Y.style("display",te.scale?null:"none")},c.ensureUniformFontSize=function(Y,te){var Z=c.extendFlat({},te);return Z.size=Math.max(te.size,Y._fullLayout.uniformtext.minsize||0),Z},c.join2=function(Y,te,Z){var N=Y.length;return N>1?Y.slice(0,-1).join(te)+Z+Y[N-1]:Y.join(te)},c.bigFont=function(Y){return Math.round(1.2*Y)};var ye=c.getFirefoxVersion(),H=null!==ye&&ye<86;c.getPositionFromD3Event=function(){return H?[p.event.layerX,p.event.layerY]:[p.event.offsetX,p.event.offsetY]}},3620:function(Ce){"use strict";Ce.exports=function(o){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(o):"[object Object]"===Object.prototype.toString.call(o)&&Object.getPrototypeOf(o).hasOwnProperty("hasOwnProperty")}},7804:function(Ce,j,o){"use strict";var p=o(2296),T=/^\w*$/;Ce.exports=function(c,C,w,S){w=w||"name",S=S||"value";var z,A,D,_={};C&&C.length?(D=p(c,C),A=D.get()):A=c,C=C||"";var E={};if(A)for(z=0;z<A.length;z++)E[A[z][w]]=z;var M=T.test(S),L={set:function(b,P){var I=null===P?4:0;if(!A){if(!D||4===I)return;D.set(A=[])}var G=E[b];if(void 0===G){if(4===I)return;I|=3,E[b]=G=A.length}else P!==(M?A[G][S]:p(A[G],S).get())&&(I|=2);var $=A[G]=A[G]||{};return $[w]=b,M?$[S]=P:p($,S).set(P),null!==P&&(I&=-5),_[G]=_[G]|I,L},get:function(b){if(A){var P=E[b];if(void 0!==P)return M?A[P][S]:p(A[P],S).get()}},rename:function(b,P){var I=E[b];return void 0===I||(_[I]=1|_[I],E[P]=I,delete E[b],A[I][w]=P),L},remove:function(b){var P=E[b];if(void 0===P)return L;var I=A[P];if(Object.keys(I).length>2)return _[P]=2|_[P],L.set(b,null);if(M){for(z=P;z<A.length;z++)_[z]=3|_[z];for(z=P;z<A.length;z++)E[A[z][w]]--;A.splice(P,1),delete E[b]}else p(I,S).set(null),_[P]=6|_[P];return L},constructUpdate:function(){for(var b,P,I={},G=Object.keys(_),$=0;$<G.length;$++)b=C+"["+(P=G[$])+"]",A[P]?(1&_[P]&&(I[b+"."+w]=A[P][w]),2&_[P]&&(I[b+"."+S]=M?4&_[P]?null:A[P][S]:4&_[P]?null:p(A[P],S).get())):I[b]=null;return I}};return L}},8356:function(Ce,j,o){"use strict";var p=o(4040);Ce.exports=function(h,v){for(var d=h._context.locale,y=0;y<2;y++){for(var g=h._context.locales,m=0;m<2;m++){var c=(g[d]||{}).dictionary;if(c){var C=c[v];if(C)return C}g=p.localeRegistry}var w=d.split("-")[0];if(w===d)break;d=w}return v}},4248:function(Ce,j,o){"use strict";var p=o(556).dfltConfig,T=o(1792),h=Ce.exports={};h.log=function(){var v;if(p.logging>1){var d=["LOG:"];for(v=0;v<arguments.length;v++)d.push(arguments[v]);console.trace.apply(console,d)}if(p.notifyOnLogging>1){var y=[];for(v=0;v<arguments.length;v++)y.push(arguments[v]);T(y.join("<br>"),"long")}},h.warn=function(){var v;if(p.logging>0){var d=["WARN:"];for(v=0;v<arguments.length;v++)d.push(arguments[v]);console.trace.apply(console,d)}if(p.notifyOnLogging>0){var y=[];for(v=0;v<arguments.length;v++)y.push(arguments[v]);T(y.join("<br>"),"stick")}},h.error=function(){var v;if(p.logging>0){var d=["ERROR:"];for(v=0;v<arguments.length;v++)d.push(arguments[v]);console.error.apply(console,d)}if(p.notifyOnLogging>0){var y=[];for(v=0;v<arguments.length;v++)y.push(arguments[v]);T(y.join("<br>"),"stick")}}},988:function(Ce,j,o){"use strict";var p=o(3428);Ce.exports=function(h,v,d){var y=h.selectAll("g."+d.replace(/\s/g,".")).data(v,function(m){return m[0].trace.uid});y.exit().remove(),y.enter().append("g").attr("class",d),y.order();var g=h.classed("rangeplot")?"nodeRangePlot3":"node3";return y.each(function(m){m[0][g]=p.select(this)}),y}},2248:function(Ce,j,o){"use strict";var p=o(6524);j.init2dArray=function(T,h){for(var v=new Array(T),d=0;d<T;d++)v[d]=new Array(h);return v},j.transposeRagged=function(T){var d,y,h=0,v=T.length;for(d=0;d<v;d++)h=Math.max(h,T[d].length);var g=new Array(h);for(d=0;d<h;d++)for(g[d]=new Array(v),y=0;y<v;y++)g[d][y]=T[y][d];return g},j.dot=function(T,h){if(!T.length||!h.length||T.length!==h.length)return null;var d,y,v=T.length;if(T[0].length)for(d=new Array(v),y=0;y<v;y++)d[y]=j.dot(T[y],h);else if(h[0].length){var g=j.transposeRagged(h);for(d=new Array(g.length),y=0;y<g.length;y++)d[y]=j.dot(T,g[y])}else for(d=0,y=0;y<v;y++)d+=T[y]*h[y];return d},j.translationMatrix=function(T,h){return[[1,0,T],[0,1,h],[0,0,1]]},j.rotationMatrix=function(T){var h=T*Math.PI/180;return[[Math.cos(h),-Math.sin(h),0],[Math.sin(h),Math.cos(h),0],[0,0,1]]},j.rotationXYMatrix=function(T,h,v){return j.dot(j.dot(j.translationMatrix(h,v),j.rotationMatrix(T)),j.translationMatrix(-h,-v))},j.apply3DTransform=function(T){return function(){var h=arguments,v=1===arguments.length?h[0]:[h[0],h[1],h[2]||0];return j.dot(T,[v[0],v[1],v[2],1]).slice(0,3)}},j.apply2DTransform=function(T){return function(){var h=arguments;3===h.length&&(h=h[0]);var v=1===arguments.length?h[0]:[h[0],h[1]];return j.dot(T,[v[0],v[1],1]).slice(0,2)}},j.apply2DTransform2=function(T){var h=j.apply2DTransform(T);return function(v){return h(v.slice(0,2)).concat(h(v.slice(2,4)))}},j.convertCssMatrix=function(T){if(T){var h=T.length;if(16===h)return T;if(6===h)return[T[0],T[1],0,0,T[2],T[3],0,0,0,0,1,0,T[4],T[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},j.inverseTransformMatrix=function(T){var h=[];return p.invert(h,T),[[h[0],h[1],h[2],h[3]],[h[4],h[5],h[6],h[7]],[h[8],h[9],h[10],h[11]],[h[12],h[13],h[14],h[15]]]}},435:function(Ce){"use strict";Ce.exports={mod:function j(p,T){var h=p%T;return h<0?h+T:h},modHalf:function o(p,T){return Math.abs(p)>T/2?p-Math.round(p/T)*T:p}}},2296:function(Ce,j,o){"use strict";var p=o(8248),T=o(8116).isArrayOrTypedArray;function h(w,S){return function(){var A,D,_,E,M,z=w;for(E=0;E<S.length-1;E++){if(-1===(A=S[E])){for(D=!0,_=[],M=0;M<z.length;M++)_[M]=h(z[M],S.slice(E+1))(),_[M]!==_[0]&&(D=!1);return D?_[0]:_}if("number"==typeof A&&!T(z)||"object"!=typeof(z=z[A])||null===z)return}if("object"==typeof z&&null!==z&&null!==(_=z[S[E]]))return _}}Ce.exports=function(S,z){if(p(z))z=String(z);else if("string"!=typeof z||"[-1]"===z.substr(z.length-4))throw"bad property string";var D,_,E,M,A=z.split(".");for(M=0;M<A.length;M++)if("__"===String(A[M]).slice(0,2))throw"bad property string";for(M=0;M<A.length;){if(D=String(A[M]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(D[1])A[M]=D[1];else{if(0!==M)throw"bad property string";A.splice(0,1)}for(_=D[2].substr(1,D[2].length-2).split("]["),E=0;E<_.length;E++)M++,A.splice(M,0,Number(_[E]))}M++}return"object"!=typeof S?function C(w,S,z){return{set:function(){throw"bad container"},get:function(){},astr:S,parts:z,obj:w}}(S,z,A):{set:y(S,A,z),get:h(S,A),astr:z,parts:A,obj:S}};var v=/(^|\.)args\[/;function d(w,S){return void 0===w||null===w&&!S.match(v)}function y(w,S,z){return function(A){var L,b,D=w,_="",E=[[w,_]],M=d(A,z);for(b=0;b<S.length-1;b++){if("number"==typeof(L=S[b])&&!T(D))throw"array index but container is not an array";if(-1===L){if(M=!m(D,S.slice(b+1),A,z))break;return}if(!c(D,L,S[b+1],M))break;if("object"!=typeof(D=D[L])||null===D)throw"container is not an object";_=g(_,L),E.push([D,_])}if(M){if(b===S.length-1&&(delete D[S[b]],Array.isArray(D)&&+S[b]==D.length-1))for(;D.length&&void 0===D[D.length-1];)D.pop()}else D[S[b]]=A}}function g(w,S){var z=S;return p(S)?z="["+S+"]":w&&(z="."+S),w+z}function m(w,S,z,A){var P,D=T(z),_=!0,E=z,M=A.replace("-1",0),L=!D&&d(z,M),b=S[0];for(P=0;P<w.length;P++)M=A.replace("-1",P),D&&(L=d(E=z[P%z.length],M)),L&&(_=!1),c(w,P,b,L)&&y(w[P],S,A.replace("-1",P))(E);return _}function c(w,S,z,A){if(void 0===w[S]){if(A)return!1;w[S]="number"==typeof z?[]:{}}return!0}},6628:function(Ce){"use strict";Ce.exports=function(){}},1792:function(Ce,j,o){"use strict";var p=o(3428),T=o(8248),h=[];Ce.exports=function(v,d){if(-1===h.indexOf(v)){h.push(v);var y=1e3;T(d)?y=d:"long"===d&&(y=3e3);var g=p.select("body").selectAll(".plotly-notifier").data([0]);g.enter().append("div").classed("plotly-notifier",!0),g.selectAll(".notifier-note").data(h).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(C){var w=p.select(this);w.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){w.transition().call(c)});for(var S=w.append("p"),z=C.split(/<br\s*\/?>/g),A=0;A<z.length;A++)A&&S.append("br"),S.append("span").text(z[A]);"stick"===d?w.transition().duration(350).style("opacity",1):w.transition().duration(700).style("opacity",1).transition().delay(y).call(c)})}function c(C){C.duration(700).style("opacity",0).each("end",function(w){var S=h.indexOf(w);-1!==S&&h.splice(S,1),p.select(this).remove()})}}},2213:function(Ce,j,o){"use strict";var p=o(3972),T="data-savedcursor";Ce.exports=function(d,y){var g=d.attr(T);if(y){if(!g){for(var m=(d.attr("class")||"").split(" "),c=0;c<m.length;c++){var C=m[c];0===C.indexOf("cursor-")&&d.attr(T,C.substr(7)).classed(C,!1)}d.attr(T)||d.attr(T,"!!")}p(d,y)}else g&&(d.attr(T,null),"!!"===g?p(d):p(d,g))}},2065:function(Ce,j,o){"use strict";var p=o(2248).dot,T=o(9032).BADNUM,h=Ce.exports={};h.tester=function(d){var w,y=d.slice(),g=y[0][0],m=g,c=y[0][1],C=c;for((y[y.length-1][0]!==y[0][0]||y[y.length-1][1]!==y[0][1])&&y.push(y[0]),w=1;w<y.length;w++)g=Math.min(g,y[w][0]),m=Math.max(m,y[w][0]),c=Math.min(c,y[w][1]),C=Math.max(C,y[w][1]);var z,S=!1;5===y.length&&(y[0][0]===y[1][0]?y[2][0]===y[3][0]&&y[0][1]===y[3][1]&&y[1][1]===y[2][1]&&(S=!0,z=function(M){return M[0]===y[0][0]}):y[0][1]===y[1][1]&&y[2][1]===y[3][1]&&y[0][0]===y[3][0]&&y[1][0]===y[2][0]&&(S=!0,z=function(M){return M[1]===y[0][1]}));var _=!0,E=y[0];for(w=1;w<y.length;w++)if(E[0]!==y[w][0]||E[1]!==y[w][1]){_=!1;break}return{xmin:g,xmax:m,ymin:c,ymax:C,pts:y,contains:S?function A(M,L){var b=M[0],P=M[1];return!(b===T||b<g||b>m||P===T||P<c||P>C||L&&z(M))}:function D(M,L){var b=M[0],P=M[1];if(b===T||b<g||b>m||P===T||P<c||P>C)return!1;var re,O,Q,U,ne,I=y.length,G=y[0][0],$=y[0][1],J=0;for(re=1;re<I;re++)if(O=G,Q=$,G=y[re][0],$=y[re][1],!(b<(U=Math.min(O,G))||b>Math.max(O,G)||P>Math.max(Q,$)))if(P<Math.min(Q,$))b!==U&&J++;else{if(P===(ne=G===O?P:Q+(b-O)*($-Q)/(G-O)))return!(1===re&&L);P<=ne&&b!==U&&J++}return J%2==1},isRect:S,degenerate:_}},h.isSegmentBent=function(d,y,g,m){var A,D,_,c=d[y],C=[d[g][0]-c[0],d[g][1]-c[1]],w=p(C,C),S=Math.sqrt(w),z=[-C[1]/S,C[0]/S];for(A=y+1;A<g;A++)if((_=p(D=[d[A][0]-c[0],d[A][1]-c[1]],C))<0||_>w||Math.abs(p(D,z))>m)return!0;return!1},h.filter=function(d,y){var g=[d[0]],m=0,c=0;function C(S){d.push(S);var z=g.length,A=m;g.splice(c+1);for(var D=A+1;D<d.length;D++)(D===d.length-1||h.isSegmentBent(d,A,D+1,y))&&(g.push(d[D]),g.length<z-2&&(m=D,c=g.length-1),A=D)}return d.length>1&&C(d.pop()),{addPt:C,raw:d,filtered:g}}},4296:function(Ce,j,o){"use strict";var p=o(8248),T=o(5928);Ce.exports=function(d){var y;if("string"!=typeof(y=d&&d.hasOwnProperty("userAgent")?d.userAgent:function h(){var v;return typeof navigator<"u"&&(v=navigator.userAgent),v&&v.headers&&"string"==typeof v.headers["user-agent"]&&(v=v.headers["user-agent"]),v}()))return!0;var g=T({ua:{headers:{"user-agent":y}},tablet:!0,featureDetect:!1});if(!g)for(var m=y.split(" "),c=1;c<m.length;c++)if(-1!==m[c].indexOf("Safari"))for(var w=c-1;w>-1;w--){var S=m[w];if("Version/"===S.substr(0,8)){var z=S.substr(8).split(".")[0];if(p(z)&&(z=+z),z>=13)return!0}}return g}},2416:function(Ce){"use strict";Ce.exports=function(o,p){if(p instanceof RegExp){for(var T=p.toString(),h=0;h<o.length;h++)if(o[h]instanceof RegExp&&o[h].toString()===T)return o;o.push(p)}else(p||0===p)&&-1===o.indexOf(p)&&o.push(p);return o}},4552:function(Ce,j,o){"use strict";var p=o(3400),T=o(556).dfltConfig;var v={add:function(d,y,g,m,c){var C,w;d.undoQueue=d.undoQueue||{index:0,queue:[],sequence:!1},w=d.undoQueue.index,d.autoplay?d.undoQueue.inSequence||(d.autoplay=!1):(!d.undoQueue.sequence||d.undoQueue.beginSequence?(d.undoQueue.queue.splice(w,d.undoQueue.queue.length-w,C={undo:{calls:[],args:[]},redo:{calls:[],args:[]}}),d.undoQueue.index+=1):C=d.undoQueue.queue[w-1],d.undoQueue.beginSequence=!1,C&&(C.undo.calls.unshift(y),C.undo.args.unshift(g),C.redo.calls.push(m),C.redo.args.push(c)),d.undoQueue.queue.length>T.queueLength&&(d.undoQueue.queue.shift(),d.undoQueue.index--))},startSequence:function(d){d.undoQueue=d.undoQueue||{index:0,queue:[],sequence:!1},d.undoQueue.sequence=!0,d.undoQueue.beginSequence=!0},stopSequence:function(d){d.undoQueue=d.undoQueue||{index:0,queue:[],sequence:!1},d.undoQueue.sequence=!1,d.undoQueue.beginSequence=!1},undo:function(y){var g,m;if(!(void 0===y.undoQueue||isNaN(y.undoQueue.index)||y.undoQueue.index<=0)){for(y.undoQueue.index--,g=y.undoQueue.queue[y.undoQueue.index],y.undoQueue.inSequence=!0,m=0;m<g.undo.calls.length;m++)v.plotDo(y,g.undo.calls[m],g.undo.args[m]);y.undoQueue.inSequence=!1,y.autoplay=!1}},redo:function(y){var g,m;if(!(void 0===y.undoQueue||isNaN(y.undoQueue.index)||y.undoQueue.index>=y.undoQueue.queue.length)){for(g=y.undoQueue.queue[y.undoQueue.index],y.undoQueue.inSequence=!0,m=0;m<g.redo.calls.length;m++)v.plotDo(y,g.redo.calls[m],g.redo.args[m]);y.undoQueue.inSequence=!1,y.autoplay=!1,y.undoQueue.index++}},plotDo:function(d,y,g){d.autoplay=!0,g=function h(d,y){for(var m,g=[],c=0;c<y.length;c++)g[c]=(m=y[c])===d?m:"object"==typeof m?Array.isArray(m)?p.extendDeep([],m):p.extendDeepAll({},m):m;return g}(d,g),y.apply(null,g)}};Ce.exports=v},3756:function(Ce,j){"use strict";j.counter=function(o,p,T,h){var v=(p||"")+(T?"":"$"),d=!1===h?"":"^";return"xy"===o?new RegExp(d+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+v):new RegExp(d+o+"([2-9]|[1-9][0-9]+)?"+v)}},3193:function(Ce){"use strict";var j=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,o=/^[^\.\[\]]+$/;Ce.exports=function(p,T){for(;T;){var h=p.match(j);if(h)p=h[1];else{if(!p.match(o))throw new Error("bad relativeAttr call:"+[p,T]);p=""}if("^"!==T.charAt(0))break;T=T.slice(1)}return p&&"["!==T.charAt(0)?p+"."+T:p+T}},1528:function(Ce,j,o){"use strict";var p=o(8116).isArrayOrTypedArray,T=o(3620);Ce.exports=function h(v,d){for(var y in d){var g=d[y],m=v[y];if(m!==g)if("_"===y.charAt(0)||"function"==typeof g){if(y in v)continue;v[y]=g}else if(p(g)&&p(m)&&T(g[0])){if("customdata"===y||"ids"===y)continue;for(var c=Math.min(g.length,m.length),C=0;C<c;C++)m[C]!==g[C]&&T(g[C])&&T(m[C])&&h(m[C],g[C])}else T(g)&&T(m)&&(h(m,g),Object.keys(m).length||delete v[y])}}},4952:function(Ce,j,o){"use strict";var p=o(8248),T=o(4248),h=o(5536),v=o(9032).BADNUM,d=1e-9;function y(C,w){return C<w}function g(C,w){return C<=w}function m(C,w){return C>w}function c(C,w){return C>=w}j.findBin=function(C,w,S){if(p(w.start))return S?Math.ceil((C-w.start)/w.size-d)-1:Math.floor((C-w.start)/w.size+d);var E,M,z=0,A=w.length,D=0,_=A>1?(w[A-1]-w[0])/(A-1):1;for(M=_>=0?S?y:g:S?c:m,C+=_*d*(S?-1:1)*(_>=0?1:-1);z<A&&D++<100;)M(w[E=Math.floor((z+A)/2)],C)?z=E+1:A=E;return D>90&&T.log("Long binary search..."),z-1},j.sorterAsc=function(C,w){return C-w},j.sorterDes=function(C,w){return w-C},j.distinctVals=function(C){var S,w=C.slice();for(w.sort(j.sorterAsc),S=w.length-1;S>-1&&w[S]===v;S--);for(var _,z=w[S]-w[0]||1,A=z/(S||1)/1e4,D=[],E=0;E<=S;E++){var M=w[E],L=M-_;void 0===_?(D.push(M),_=M):L>A&&(z=Math.min(z,L),D.push(M),_=M)}return{vals:D,minDiff:z}},j.roundUp=function(C,w,S){for(var D,z=0,A=w.length-1,_=0,E=S?0:1,M=S?1:0,L=S?Math.ceil:Math.floor;z<A&&_++<100;)w[D=L((z+A)/2)]<=C?z=D+E:A=D-M;return w[z]},j.sort=function(C,w){for(var S=0,z=0,A=1;A<C.length;A++){var D=w(C[A],C[A-1]);if(D<0?S=1:D>0&&(z=1),S&&z)return C.sort(w)}return z?C:C.reverse()},j.findIndexOfMin=function(C,w){w=w||h;for(var z,S=1/0,A=0;A<C.length;A++){var D=w(C[A]);D<S&&(S=D,z=A)}return z}},3972:function(Ce){"use strict";Ce.exports=function(o,p){(o.attr("class")||"").split(" ").forEach(function(T){0===T.indexOf("cursor-")&&o.classed(T,!1)}),p&&o.classed("cursor-"+p,!0)}},2996:function(Ce){"use strict";Ce.exports=function(o){return Object.keys(o).sort()}},3084:function(Ce,j,o){"use strict";var p=o(8248),T=o(8116).isArrayOrTypedArray;j.aggNums=function(h,v,d,y){var g,m;if((!y||y>d.length)&&(y=d.length),p(v)||(v=!1),T(d[0])){for(m=new Array(y),g=0;g<y;g++)m[g]=j.aggNums(h,v,d[g]);d=m}for(g=0;g<y;g++)p(v)?p(d[g])&&(v=h(+v,+d[g])):v=d[g];return v},j.len=function(h){return j.aggNums(function(v){return v+1},0,h)},j.mean=function(h,v){return v||(v=j.len(h)),j.aggNums(function(d,y){return d+y},0,h)/v},j.geometricMean=function(h,v){return v||(v=j.len(h)),Math.pow(j.aggNums(function(d,y){return d*y},1,h),1/v)},j.midRange=function(h){if(void 0!==h&&0!==h.length)return(j.aggNums(Math.max,null,h)+j.aggNums(Math.min,null,h))/2},j.variance=function(h,v,d){return v||(v=j.len(h)),p(d)||(d=j.mean(h,v)),j.aggNums(function(y,g){return y+Math.pow(g-d,2)},0,h)/v},j.stdev=function(h,v,d){return Math.sqrt(j.variance(h,v,d))},j.median=function(h){var v=h.slice().sort();return j.interp(v,.5)},j.interp=function(h,v){if(!p(v))throw"n should be a finite number";if((v=v*h.length-.5)<0)return h[0];if(v>h.length-1)return h[h.length-1];var d=v%1;return d*h[Math.ceil(v)]+(1-d)*h[Math.floor(v)]}},2736:function(Ce,j,o){"use strict";var p=o(3428),T=o(3400),h=T.strTranslate,v=o(9616),d=o(4284).LINE_SPACING,y=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;j.convertToTspans=function(X,ie,ue){var ce=X.text(),ge=!X.attr("data-notex")&&ie&&ie._context.typesetMath&&typeof MathJax<"u"&&ce.match(y),De=p.select(X.node().parentNode);if(!De.empty()){var Ne=X.attr("class")?X.attr("class").split(" ")[0]:"text";return De.selectAll("svg."+(Ne+="-math")).remove(),De.selectAll("g."+Ne+"-group").remove(),X.style("display",null).attr({"data-unformatted":ce,"data-math":"N"}),ge?(ie&&ie._promises||[]).push(new Promise(function(Fe){X.style("display","none");var Se=parseInt(X.node().style.fontSize,10);!function w(X,ie,ue){var ce=parseInt((MathJax.version||"").split(".")[0]);if(2===ce||3===ce){var ge,De,Ne,Be,Fe=function(){return De=T.extendDeepAll({},MathJax.Hub.config),Ne=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:C},displayAlign:"left"})},Se=function(){De=T.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=C},ye=function(){if("SVG"!==(ge=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")},H=function(){"svg"!==(ge=MathJax.config.startup.output)&&(MathJax.config.startup.output="svg")},Y=function(){var se="math-output-"+T.randstr({},64),xe=(Be=p.select("body").append("div").attr({id:se}).style({visibility:"hidden",position:"absolute","font-size":ie.fontSize+"px"}).text(function c(X){return X.replace(g,"\\lt ").replace(m,"\\gt ")}(X))).node();return 2===ce?MathJax.Hub.Typeset(xe):MathJax.typeset([xe])},te=function(){var se=Be.select(2===ce?".MathJax_SVG":".MathJax"),xe=!se.empty()&&Be.select("svg").node();if(xe){var Ee,Te=xe.getBoundingClientRect();Ee=2===ce?p.select("body").select("#MathJax_SVG_glyphs"):se.select("defs"),ue(se,Ee,Te)}else T.log("There was an error in the tex syntax.",X),ue();Be.remove()},Z=function(){if("SVG"!==ge)return MathJax.Hub.setRenderer(ge)},N=function(){"svg"!==ge&&(MathJax.config.startup.output=ge)},ee=function(){return void 0!==Ne&&(MathJax.Hub.processSectionDelay=Ne),MathJax.Hub.Config(De)},B=function(){MathJax.config=De};2===ce?MathJax.Hub.Queue(Fe,ye,Y,te,Z,ee):3===ce&&(Se(),H(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){Y(),te(),N(),B()}))}else T.warn("No MathJax version:",MathJax.version)}(ge[2],{fontSize:Se},function(H,Y,te){De.selectAll("svg."+Ne).remove(),De.selectAll("g."+Ne+"-group").remove();var Z=H&&H.select("svg");if(!Z||!Z.node())return Be(),void Fe();var N=De.append("g").classed(Ne+"-group",!0).attr({"pointer-events":"none","data-unformatted":ce,"data-math":"Y"});N.node().appendChild(Z.node()),Y&&Y.node()&&Z.node().insertBefore(Y.node().cloneNode(!0),Z.node().firstChild);var ee=te.width,B=te.height;Z.attr({class:Ne,height:B,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var se=X.node().style.fill||"black",xe=Z.select("g");xe.attr({fill:se,stroke:se});var Te=xe.node().getBoundingClientRect(),Ee=Te.width,Oe=Te.height;(Ee>ee||Oe>B)&&(Z.style("overflow","hidden"),Ee=(Te=Z.node().getBoundingClientRect()).width,Oe=Te.height);var $e=+X.attr("x"),ct=+X.attr("y"),gt=-(Se||X.node().getBoundingClientRect().height)/4;if("y"===Ne[0])N.attr({transform:"rotate("+[-90,$e,ct]+")"+h(-Ee/2,gt-Oe/2)});else if("l"===Ne[0])ct=gt-Oe/2;else if("a"===Ne[0]&&0!==Ne.indexOf("atitle"))$e=0,ct=gt;else{var ze=X.attr("text-anchor");$e-=Ee*("middle"===ze?.5:"end"===ze?1:0),ct=ct+gt-Oe/2}Z.attr({x:$e,y:ct}),ue&&ue.call(X,N),Fe(N)})})):Be(),X}function Be(){De.empty()||(Ne=X.attr("class")+"-math",De.select("svg."+Ne).remove()),X.text("").style("white-space","pre"),function le(X,ie){ie=ie.replace(E," ");var ge,ue=!1,ce=[],De=-1;function Ne(){De++;var Oe=document.createElementNS(v.svg,"tspan");p.select(Oe).attr({class:"line",dy:De*d+"em"}),X.appendChild(Oe),ge=Oe;var $e=ce;if(ce=[{node:Oe}],$e.length>1)for(var ct=1;ct<$e.length;ct++)Be($e[ct])}function Be(Oe){var ft,$e=Oe.type,ct={};if("a"===$e){ft="a";var gt=Oe.target,ze=Oe.href,Ve=Oe.popup;ze&&(ct={"xlink:xlink:show":"_blank"===gt||"_"!==gt.charAt(0)?"new":"replace",target:gt,"xlink:xlink:href":ze},Ve&&(ct.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Ve+'");return false;'))}else ft="tspan";Oe.style&&(ct.style=Oe.style);var Pe=document.createElementNS(v.svg,ft);if("sup"===$e||"sub"===$e){Fe(ge,D),ge.appendChild(Pe);var Qe=document.createElementNS(v.svg,"tspan");Fe(Qe,D),p.select(Qe).attr("dy",A[$e]),ct.dy=z[$e],ge.appendChild(Pe),ge.appendChild(Qe)}else ge.appendChild(Pe);p.select(Pe).attr(ct),ge=Oe.node=Pe,ce.push(Oe)}function Fe(Oe,$e){Oe.appendChild(document.createTextNode($e))}function Se(Oe){if(1!==ce.length){var $e=ce.pop();Oe!==$e.type&&T.log("Start tag <"+$e.type+"> doesnt match end tag <"+Oe+">. Pretending it did match.",ie),ge=ce[ce.length-1].node}else T.log("Ignoring unexpected end tag </"+Oe+">.",ie)}b.test(ie)?Ne():(ge=X,ce=[{node:X}]);for(var H=ie.split(M),Y=0;Y<H.length;Y++){var te=H[Y],Z=te.match(L),N=Z&&Z[2].toLowerCase(),ee=S[N];if("br"===N)Ne();else if(void 0===ee)Fe(ge,U(te));else if(Z[1])Se(N);else{var B=Z[4],se={type:N},xe=J(B,P);if(xe?(xe=xe.replace(re,"$1 fill:"),ee&&(xe+=";"+ee)):ee&&(xe=ee),xe&&(se.style=xe),"a"===N){ue=!0;var Te=J(B,I);if(Te){var Ee=pe(Te);Ee&&(se.href=Ee,se.target=J(B,G)||"_blank",se.popup=J(B,$))}}Be(se)}}return ue}(X.node(),ce)&&X.style("pointer-events","all"),j.positionText(X),ue&&ue.call(X)}};var g=/(<|&lt;|&#60;)/g,m=/(>|&gt;|&#62;)/g;var C=[["$","$"],["\\(","\\)"]];var S={sup:"font-size:70%",sub:"font-size:70%",s:"text-decoration:line-through",u:"text-decoration:underline",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},z={sub:"0.3em",sup:"-0.6em"},A={sub:"-0.21em",sup:"0.42em"},D="\u200b",_=["http:","https:","mailto:","",void 0,":"],E=j.NEWLINES=/(\r\n?|\n)/g,M=/(<[^<>]*>)/,L=/<(\/?)([^ >]*)(\s+(.*))?>/i,b=/<br(\s+.*)?>/i;j.BR_TAG_ALL=/<br(\s+.*)?>/gi;var P=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,I=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,G=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,$=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function J(X,ie){if(!X)return null;var ue=X.match(ie),ce=ue&&(ue[3]||ue[4]);return ce&&U(ce)}var re=/(^|;)\s*color:/;j.plainText=function(X,ie){for(var ue=void 0!==(ie=ie||{}).len&&-1!==ie.len?ie.len:1/0,ce=void 0!==ie.allowedTags?ie.allowedTags:["br"],Ne=X.split(M),Be=[],Fe="",Se=0,ye=0;ye<Ne.length;ye++){var H=Ne[ye],Y=H.match(L),te=Y&&Y[2].toLowerCase();if(te)-1!==ce.indexOf(te)&&(Be.push(H),Fe=te);else{var Z=H.length;if(Se+Z<ue)Be.push(H),Se+=Z;else if(Se<ue){var N=ue-Se;Fe&&("br"!==Fe||N<=3||Z<=3)&&Be.pop(),Be.push(ue>3?H.substr(0,N-3)+"...":H.substr(0,N));break}Fe=""}}return Be.join("")};var O={mu:"\u03bc",amp:"&",lt:"<",gt:">",nbsp:"\xa0",times:"\xd7",plusmn:"\xb1",deg:"\xb0"},Q=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function U(X){return X.replace(Q,function(ie,ue){return("#"===ue.charAt(0)?function ne(X){if(!(X>1114111)){var ie=String.fromCodePoint;if(ie)return ie(X);var ue=String.fromCharCode;return X<=65535?ue(X):ue(55232+(X>>10),X%1024+56320)}}("x"===ue.charAt(1)?parseInt(ue.substr(2),16):parseInt(ue.substr(1),10)):O[ue])||ie})}function pe(X){var ie=encodeURI(decodeURI(X)),ue=document.createElement("a"),ce=document.createElement("a");ue.href=X,ce.href=ie;var De=ce.protocol;return-1!==_.indexOf(ue.protocol)&&-1!==_.indexOf(De)?ie:""}function W(X,ie,ue){var Be,Fe,Se,ce=ue.horizontalAlign,ge=ue.verticalAlign||"top",De=X.node().getBoundingClientRect(),Ne=ie.node().getBoundingClientRect();return Fe="bottom"===ge?function(){return De.bottom-Be.height}:"middle"===ge?function(){return De.top+(De.height-Be.height)/2}:function(){return De.top},Se="right"===ce?function(){return De.right-Be.width}:"center"===ce?function(){return De.left+(De.width-Be.width)/2}:function(){return De.left},function(){Be=this.node().getBoundingClientRect();var ye=Se()-Ne.left,H=Fe()-Ne.top,Y=ue.gd||{};if(ue.gd){Y._fullLayout._calcInverseTransform(Y);var te=T.apply3DTransform(Y._fullLayout._invTransform)(ye,H);ye=te[0],H=te[1]}return this.style({top:H+"px",left:ye+"px","z-index":1e3}),this}}j.convertEntities=U,j.sanitizeHTML=function(ie){ie=ie.replace(E," ");for(var ue=document.createElement("p"),ce=ue,ge=[],De=ie.split(M),Ne=0;Ne<De.length;Ne++){var Be=De[Ne],Fe=Be.match(L),Se=Fe&&Fe[2].toLowerCase();if(Se in S)if(Fe[1])ge.length&&(ce=ge.pop());else{var ye=Fe[4],H=J(ye,P),Y=H?{style:H}:{};if("a"===Se){var te=J(ye,I);if(te){var Z=pe(te);if(Z){Y.href=Z;var N=J(ye,G);N&&(Y.target=N)}}}var ee=document.createElement(Se);ce.appendChild(ee),p.select(ee).attr(Y),ce=ee,ge.push(ee)}else ce.appendChild(document.createTextNode(U(Be)))}return ue.innerHTML},j.lineCount=function(ie){return ie.selectAll("tspan.line").size()||1},j.positionText=function(ie,ue,ce){return ie.each(function(){var ge=p.select(this);function De(Fe,Se){return void 0===Se?null===(Se=ge.attr(Fe))&&(ge.attr(Fe,0),Se=0):ge.attr(Fe,Se),Se}var Ne=De("x",ue),Be=De("y",ce);"text"===this.nodeName&&ge.selectAll("tspan.line").attr({x:Ne,y:Be})})};var K="1px ";j.makeTextShadow=function(X){return K+K+K+X+", -"+K+"-"+K+K+X+", "+K+"-"+K+K+X+", -"+K+K+K+X},j.makeEditable=function(X,ie){var ue=ie.gd,ce=ie.delegate,ge=p.dispatch("edit","input","cancel"),De=ce||X;if(X.style({"pointer-events":ce?"none":"all"}),1!==X.size())throw new Error("boo");function Ne(){(function Fe(){var ye=p.select(ue).select(".svg-container"),H=ye.append("div"),Y=X.node().style,te=parseFloat(Y.fontSize||12),Z=ie.text;void 0===Z&&(Z=X.attr("data-unformatted")),H.classed("plugin-editable editable",!0).style({position:"absolute","font-family":Y.fontFamily||"Arial","font-size":te,color:ie.fill||Y.fill||"black",opacity:1,"background-color":ie.background||"transparent",outline:"#ffffff33 1px solid",margin:[-te/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(Z).call(W(X,ye,ie)).on("blur",function(){ue._editing=!1,X.text(this.textContent).style({opacity:1});var ee,N=p.select(this).attr("class");(ee=N?"."+N.split(" ")[0]+"-math-group":"[class*=-math-group]")&&p.select(X.node().parentNode).select(ee).style({opacity:0});var B=this.textContent;p.select(this).transition().duration(0).remove(),p.select(document).on("mouseup",null),ge.edit.call(X,B)}).on("focus",function(){var N=this;ue._editing=!0,p.select(document).on("mouseup",function(){if(p.event.target===N)return!1;document.activeElement===H.node()&&H.node().blur()})}).on("keyup",function(){27===p.event.which?(ue._editing=!1,X.style({opacity:1}),p.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),ge.cancel.call(X,this.textContent)):(ge.input.call(X,this.textContent),p.select(this).call(W(X,ye,ie)))}).on("keydown",function(){13===p.event.which&&this.blur()}).call(Be)})(),X.style({opacity:0});var ye,Se=De.attr("class");(ye=Se?"."+Se.split(" ")[0]+"-math-group":"[class*=-math-group]")&&p.select(X.node().parentNode).select(ye).style({opacity:0})}function Be(Se){var ye=Se.node(),H=document.createRange();H.selectNodeContents(ye);var Y=window.getSelection();Y.removeAllRanges(),Y.addRange(H),ye.focus()}return ie.immediate?Ne():De.on("click",Ne),p.rebind(X,ge,"on")}},1200:function(Ce,j){"use strict";var o={};function p(T){T&&null!==T.timer&&(clearTimeout(T.timer),T.timer=null)}j.throttle=function(h,v,d){var y=o[h],g=Date.now();if(!y){for(var m in o)o[m].ts<g-6e4&&delete o[m];y=o[h]={ts:0,timer:null}}function c(){d(),y.ts=Date.now(),y.onDone&&(y.onDone(),y.onDone=null)}p(y),g>y.ts+v?c():y.timer=setTimeout(function(){c(),y.timer=null},v)},j.done=function(T){var h=o[T];return h&&h.timer?new Promise(function(v){var d=h.onDone;h.onDone=function(){d&&d(),v(),h.onDone=null}}):Promise.resolve()},j.clear=function(T){if(T)p(o[T]),delete o[T];else for(var h in o)j.clear(h)}},6896:function(Ce,j,o){"use strict";var p=o(8248);Ce.exports=function(h,v){if(h>0)return Math.log(h)/Math.LN10;var d=Math.log(Math.min(v[0],v[1]))/Math.LN10;return p(d)||(d=Math.log(Math.max(v[0],v[1]))/Math.LN10-6),d}},1680:function(Ce){"use strict";Ce.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},6580:function(Ce){"use strict";Ce.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},9820:function(Ce,j,o){"use strict";var p=o(4040);Ce.exports=function(h){for(var g,m,v=p.layoutArrayContainers,d=p.layoutArrayRegexes,y=h.split("[")[0],c=0;c<d.length;c++)if((m=h.match(d[c]))&&0===m.index){g=m[0];break}if(g||(g=v[v.indexOf(y)]),!g)return!1;var C=h.substr(g.length);return C?!!(m=C.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:g,index:Number(m[1]),property:m[3]||""}:{array:g,index:"",property:""}}},7824:function(Ce,j,o){"use strict";var p=o(2880).extendFlat,T=o(3620),h={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},v={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},d=h.flags.slice().concat(["fullReplot"]),y=v.flags.slice().concat("layoutReplot");function g(C){for(var w={},S=0;S<C.length;S++)w[C[S]]=!1;return w}function m(C,w,S){var z=p({},C);for(var A in z){var D=z[A];T(D)&&(z[A]=c(D,w,0,A))}return"from-root"===S&&(z.editType=w),z}function c(C,w,S,z){if(C.valType){var A=p({},C);if(A.editType=w,Array.isArray(C.items)){A.items=new Array(C.items.length);for(var D=0;D<C.items.length;D++)A.items[D]=c(C.items[D],w)}return A}return m(C,w,"_"===z.charAt(0)?"nested":"from-root")}Ce.exports={traces:h,layout:v,traceFlags:function(){return g(d)},layoutFlags:function(){return g(y)},update:function(C,w){var S=w.editType;if(S&&"none"!==S)for(var z=S.split("+"),A=0;A<z.length;A++)C[z[A]]=!0},overrideAll:m}},3404:function(Ce,j,o){"use strict";var p=o(8248),T=o(1784),h=o(4040),v=o(3400),d=o(7316),y=o(9811),g=o(6308),m=y.cleanId,c=y.getFromTrace,C=h.traceIs;function w(b,P){var I=b[P],G=P.charAt(0);I&&"paper"!==I&&(b[P]=m(I,G,!0))}function S(b){function P(I,G){b[I]&&(!b.title||!b.title[G])&&(b.title||(b.title={}),b.title[G]=b[I],delete b[I])}b&&(("string"==typeof b.title||"number"==typeof b.title)&&(b.title={text:b.title}),P("titlefont","font"),P("titleposition","position"),P("titleside","side"),P("titleoffset","offset"))}function z(b){if(!v.isPlainObject(b))return!1;var P=b.name;return delete b.name,delete b.showlegend,("string"==typeof P||"number"==typeof P)&&String(P)}function A(b,P,I,G){if(I&&!G)return b;if(G&&!I||!b.trim())return P;if(!P.trim())return b;var J,$=Math.min(b.length,P.length);for(J=0;J<$&&b.charAt(J)===P.charAt(J);J++);return b.substr(0,J).trim()}function D(b){var P="middle",I="center";return"string"==typeof b&&(-1!==b.indexOf("top")?P="top":-1!==b.indexOf("bottom")&&(P="bottom"),-1!==b.indexOf("left")?I="left":-1!==b.indexOf("right")&&(I="right")),P+" "+I}function _(b,P){return P in b&&"object"==typeof b[P]&&0===Object.keys(b[P]).length}j.clearPromiseQueue=function(b){Array.isArray(b._promises)&&b._promises.length>0&&v.log("Clearing previous rejected promises from queue."),b._promises=[]},j.cleanLayout=function(b){var P,I;b||(b={}),b.xaxis1&&(b.xaxis||(b.xaxis=b.xaxis1),delete b.xaxis1),b.yaxis1&&(b.yaxis||(b.yaxis=b.yaxis1),delete b.yaxis1),b.scene1&&(b.scene||(b.scene=b.scene1),delete b.scene1);var G=(d.subplotsRegistry.cartesian||{}).attrRegex,$=(d.subplotsRegistry.polar||{}).attrRegex,J=(d.subplotsRegistry.ternary||{}).attrRegex,re=(d.subplotsRegistry.gl3d||{}).attrRegex,O=Object.keys(b);for(P=0;P<O.length;P++){var Q=O[P];if(G&&G.test(Q)){var U=b[Q];U.anchor&&"free"!==U.anchor&&(U.anchor=m(U.anchor)),U.overlaying&&(U.overlaying=m(U.overlaying)),U.type||(U.isdate?U.type="date":U.islog?U.type="log":!1===U.isdate&&!1===U.islog&&(U.type="linear")),("withzero"===U.autorange||"tozero"===U.autorange)&&(U.autorange=!0,U.rangemode="tozero"),U.insiderange&&delete U.range,delete U.islog,delete U.isdate,delete U.categories,_(U,"domain")&&delete U.domain,void 0!==U.autotick&&(void 0===U.tickmode&&(U.tickmode=U.autotick?"auto":"linear"),delete U.autotick),S(U)}else if($&&$.test(Q))S(b[Q].radialaxis);else if(J&&J.test(Q)){var le=b[Q];S(le.aaxis),S(le.baxis),S(le.caxis)}else if(re&&re.test(Q)){var pe=b[Q],W=pe.cameraposition;if(Array.isArray(W)&&4===W[0].length){var X=W[1],ie=W[2],ue=T([],W[0]),ce=[];for(I=0;I<3;++I)ce[I]=X[I]+ie*ue[2+4*I];pe.camera={eye:{x:ce[0],y:ce[1],z:ce[2]},center:{x:X[0],y:X[1],z:X[2]},up:{x:0,y:0,z:1}},delete pe.cameraposition}S(pe.xaxis),S(pe.yaxis),S(pe.zaxis)}}var ge=Array.isArray(b.annotations)?b.annotations.length:0;for(P=0;P<ge;P++){var De=b.annotations[P];v.isPlainObject(De)&&(De.ref&&("paper"===De.ref?(De.xref="paper",De.yref="paper"):"data"===De.ref&&(De.xref="x",De.yref="y"),delete De.ref),w(De,"xref"),w(De,"yref"))}var Ne=Array.isArray(b.shapes)?b.shapes.length:0;for(P=0;P<Ne;P++){var Be=b.shapes[P];v.isPlainObject(Be)&&(w(Be,"xref"),w(Be,"yref"))}var Fe=Array.isArray(b.images)?b.images.length:0;for(P=0;P<Fe;P++){var Se=b.images[P];v.isPlainObject(Se)&&(w(Se,"xref"),w(Se,"yref"))}var ye=b.legend;return ye&&(ye.x>3?(ye.x=1.02,ye.xanchor="left"):ye.x<-2&&(ye.x=-.02,ye.xanchor="right"),ye.y>3?(ye.y=1.02,ye.yanchor="bottom"):ye.y<-2&&(ye.y=-.02,ye.yanchor="top")),S(b),"rotate"===b.dragmode&&(b.dragmode="orbit"),g.clean(b),b.template&&b.template.layout&&j.cleanLayout(b.template.layout),b},j.cleanData=function(b){for(var P=0;P<b.length;P++){var G,I=b[P];if("histogramy"===I.type&&"xbins"in I&&!("ybins"in I)&&(I.ybins=I.xbins,delete I.xbins),I.error_y&&"opacity"in I.error_y){var $=g.defaults,J=I.error_y.color||(C(I,"bar")?g.defaultLine:$[P%$.length]);I.error_y.color=g.addOpacity(g.rgb(J),g.opacity(J)*I.error_y.opacity),delete I.error_y.opacity}if("bardir"in I&&("h"===I.bardir&&(C(I,"bar")||"histogram"===I.type.substr(0,9))&&(I.orientation="h",j.swapXYData(I)),delete I.bardir),"histogramy"===I.type&&j.swapXYData(I),("histogramx"===I.type||"histogramy"===I.type)&&(I.type="histogram"),"scl"in I&&!("colorscale"in I)&&(I.colorscale=I.scl,delete I.scl),"reversescl"in I&&!("reversescale"in I)&&(I.reversescale=I.reversescl,delete I.reversescl),I.xaxis&&(I.xaxis=m(I.xaxis,"x")),I.yaxis&&(I.yaxis=m(I.yaxis,"y")),C(I,"gl3d")&&I.scene&&(I.scene=d.subplotsRegistry.gl3d.cleanId(I.scene)),!C(I,"pie-like")&&!C(I,"bar-like"))if(Array.isArray(I.textposition))for(G=0;G<I.textposition.length;G++)I.textposition[G]=D(I.textposition[G]);else I.textposition&&(I.textposition=D(I.textposition));var re=h.getModule(I);if(re&&re.colorbar){var O=re.colorbar.container,Q=O?I[O]:I;Q&&Q.colorscale&&("YIGnBu"===Q.colorscale&&(Q.colorscale="YlGnBu"),"YIOrRd"===Q.colorscale&&(Q.colorscale="YlOrRd"))}if("surface"===I.type&&v.isPlainObject(I.contours)){var U=["x","y","z"];for(G=0;G<U.length;G++){var ne=I.contours[U[G]];v.isPlainObject(ne)&&(ne.highlightColor&&(ne.highlightcolor=ne.highlightColor,delete ne.highlightColor),ne.highlightWidth&&(ne.highlightwidth=ne.highlightWidth,delete ne.highlightWidth))}}if("candlestick"===I.type||"ohlc"===I.type){var le=!1!==(I.increasing||{}).showlegend,pe=!1!==(I.decreasing||{}).showlegend,W=z(I.increasing),K=z(I.decreasing);if(!1!==W&&!1!==K){var X=A(W,K,le,pe);X&&(I.name=X)}else(W||K)&&!I.name&&(I.name=W||K)}if(Array.isArray(I.transforms)){var ie=I.transforms;for(G=0;G<ie.length;G++){var ue=ie[G];if(v.isPlainObject(ue))switch(ue.type){case"filter":ue.filtersrc&&(ue.target=ue.filtersrc,delete ue.filtersrc),ue.calendar&&(ue.valuecalendar||(ue.valuecalendar=ue.calendar),delete ue.calendar);break;case"groupby":if(ue.styles=ue.styles||ue.style,ue.styles&&!Array.isArray(ue.styles)){var ce=ue.styles,ge=Object.keys(ce);ue.styles=[];for(var De=0;De<ge.length;De++)ue.styles.push({target:ge[De],value:ce[ge[De]]})}}}}_(I,"line")&&delete I.line,"marker"in I&&(_(I.marker,"line")&&delete I.marker.line,_(I,"marker")&&delete I.marker),g.clean(I),I.autobinx&&(delete I.autobinx,delete I.xbins),I.autobiny&&(delete I.autobiny,delete I.ybins),S(I),I.colorbar&&S(I.colorbar),I.marker&&I.marker.colorbar&&S(I.marker.colorbar),I.line&&I.line.colorbar&&S(I.line.colorbar),I.aaxis&&S(I.aaxis),I.baxis&&S(I.baxis)}},j.swapXYData=function(b){var P;if(v.swapAttrs(b,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(b.z)&&Array.isArray(b.z[0])&&(b.transpose?delete b.transpose:b.transpose=!0),b.error_x&&b.error_y){var I=b.error_y,G="copy_ystyle"in I?I.copy_ystyle:!(I.color||I.thickness||I.width);v.swapAttrs(b,["error_?.copy_ystyle"]),G&&v.swapAttrs(b,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof b.hoverinfo){var $=b.hoverinfo.split("+");for(P=0;P<$.length;P++)"x"===$[P]?$[P]="y":"y"===$[P]&&($[P]="x");b.hoverinfo=$.join("+")}},j.coerceTraceIndices=function(b,P){if(p(P))return[P];if(!Array.isArray(P)||!P.length)return b.data.map(function($,J){return J});if(Array.isArray(P)){for(var I=[],G=0;G<P.length;G++)v.isIndex(P[G],b.data.length)?I.push(P[G]):v.warn("trace index (",P[G],") is not a number or is out of bounds");return I}return P},j.manageArrayContainers=function(b,P,I){var G=b.obj,$=b.parts,J=$.length,re=$[J-1],O=p(re);if(O&&null===P){var Q=$.slice(0,J-1).join(".");v.nestedProperty(G,Q).get().splice(re,1)}else O&&void 0===b.get()&&void 0===b.get()&&(I[b.astr]=null),b.set(P)};var E=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function M(b){var P=b.search(E);if(P>0)return b.substr(0,P)}j.hasParent=function(b,P){for(var I=M(P);I;){if(I in b)return!0;I=M(I)}return!1};var L=["x","y","z"];j.clearAxisTypes=function(b,P,I){for(var G=0;G<P.length;G++)for(var $=b._fullData[G],J=0;J<3;J++){var re=c(b,$,L[J]);if(re&&"log"!==re.type){var O=re._name,Q=re._id.substr(1);if("scene"===Q.substr(0,5)){if(void 0!==I[Q])continue;O=Q+"."+O}var U=O+".type";void 0===I[O]&&void 0===I[U]&&v.nestedProperty(b.layout,U).set(null)}}}},2448:function(Ce,j,o){"use strict";var p=o(6424);j._doPlot=p._doPlot,j.newPlot=p.newPlot,j.restyle=p.restyle,j.relayout=p.relayout,j.redraw=p.redraw,j.update=p.update,j._guiRestyle=p._guiRestyle,j._guiRelayout=p._guiRelayout,j._guiUpdate=p._guiUpdate,j._storeDirectGUIEdit=p._storeDirectGUIEdit,j.react=p.react,j.extendTraces=p.extendTraces,j.prependTraces=p.prependTraces,j.addTraces=p.addTraces,j.deleteTraces=p.deleteTraces,j.moveTraces=p.moveTraces,j.purge=p.purge,j.addFrames=p.addFrames,j.deleteFrames=p.deleteFrames,j.animate=p.animate,j.setPlotConfig=p.setPlotConfig;var T=o(2200).getGraphDiv,h=o(4016).eraseActiveShape;j.deleteActiveShape=function(d){return h(T(d))},j.toImage=o(7024),j.validate=o(1480),j.downloadImage=o(7412);var v=o(4828);j.makeTemplate=v.makeTemplate,j.validateTemplate=v.validateTemplate},7680:function(Ce,j,o){"use strict";var p=o(3620),T=o(6628),h=o(4248),v=o(4952).sorterAsc,d=o(4040);j.containerArrayMatch=o(9820);var y=j.isAddVal=function(c){return"add"===c||p(c)},g=j.isRemoveVal=function(c){return null===c||"remove"===c};j.applyContainerArrayChanges=function(c,C,w,S,z){var A=C.astr,D=d.getComponentMethod(A,"supplyLayoutDefaults"),_=d.getComponentMethod(A,"draw"),E=d.getComponentMethod(A,"drawOne"),M=S.replot||S.recalc||D===T||_===T,L=c.layout,b=c._fullLayout;if(w[""]){Object.keys(w).length>1&&h.warn("Full array edits are incompatible with other edits",A);var P=w[""][""];if(g(P))C.set(null);else{if(!Array.isArray(P))return h.warn("Unrecognized full array edit value",A,P),!0;C.set(P)}return!M&&(D(L,b),_(c),!0)}var U,ne,le,pe,W,K,X,I=Object.keys(w).map(Number).sort(v),G=C.get(),$=G||[],J=z(b,A).get(),re=[],O=-1,Q=$.length;for(U=0;U<I.length;U++)if(pe=w[le=I[U]],W=Object.keys(pe),X=y(K=pe[""]),le<0||le>$.length-(X?0:1))h.warn("index out of range",A,le);else if(void 0!==K)W.length>1&&h.warn("Insertion & removal are incompatible with edits to the same index.",A,le),g(K)?re.push(le):X?("add"===K&&(K={}),$.splice(le,0,K),J&&J.splice(le,0,{})):h.warn("Unrecognized full object edit value",A,le,K),-1===O&&(O=le);else for(ne=0;ne<W.length;ne++)z($[le],W[ne],A+"["+le+"].").set(pe[W[ne]]);for(U=re.length-1;U>=0;U--)$.splice(re[U],1),J&&J.splice(re[U],1);if($.length?G||C.set($):C.set(null),M)return!1;if(D(L,b),E!==T){var ue;if(-1===O)ue=I;else{for(Q=Math.max($.length,Q),ue=[],U=0;U<I.length&&!((le=I[U])>=O);U++)ue.push(le);for(U=O;U<Q;U++)ue.push(U)}for(U=0;U<ue.length;U++)E(c,ue[U])}else _(c);return!0}},6424:function(Ce,j,o){"use strict";var p=o(3428),T=o(8248),h=o(2264),v=o(3400),d=v.nestedProperty,y=o(5924),g=o(4552),m=o(4040),c=o(3060),C=o(7316),w=o(4460),S=o(6312),z=o(4724),A=o(3616),D=o(6308),_=o(2464).initInteractions,E=o(9616),M=o(2676).clearOutline,L=o(556).dfltConfig,b=o(7680),P=o(3404),I=o(9172),G=o(7824),$=o(3816).AX_NAME_PATTERN,J=0;function Q(Me){var _e=Me._fullLayout;_e._redrawFromAutoMarginCount?_e._redrawFromAutoMarginCount--:Me.emit("plotly_afterplot")}function ne(Me,_e){try{Me._fullLayout._paper.style("background",_e)}catch(He){v.error(He)}}function le(Me,_e){ne(Me,D.combine(_e,"white"))}function pe(Me,_e){if(!Me._context){Me._context=v.extendDeep({},L);var He=p.select("base");Me._context._baseUrl=He.size()&&He.attr("href")?window.location.href.split("#")[0]:""}var Ze,nt,Bt,We=Me._context;if(_e){for(nt=Object.keys(_e),Ze=0;Ze<nt.length;Ze++)"editable"!==(Bt=nt[Ze])&&"edits"!==Bt&&Bt in We&&(We[Bt]="setBackground"===Bt&&"opaque"===_e[Bt]?le:_e[Bt]);_e.plot3dPixelRatio&&!We.plotGlPixelRatio&&(We.plotGlPixelRatio=We.plot3dPixelRatio);var Je=_e.editable;if(void 0!==Je)for(We.editable=Je,nt=Object.keys(We.edits),Ze=0;Ze<nt.length;Ze++)We.edits[nt[Ze]]=Je;if(_e.edits)for(nt=Object.keys(_e.edits),Ze=0;Ze<nt.length;Ze++)(Bt=nt[Ze])in We.edits&&(We.edits[Bt]=_e.edits[Bt]);We._exportedPlot=_e._exportedPlot}We.staticPlot&&(We.editable=!1,We.edits={},We.autosizable=!1,We.scrollZoom=!1,We.doubleClick=!1,We.showTips=!1,We.showLink=!1,We.displayModeBar=!1),"hover"===We.displayModeBar&&!h&&(We.displayModeBar=!0),("transparent"===We.setBackground||"function"!=typeof We.setBackground)&&(We.setBackground=ne),We._hasZeroHeight=We._hasZeroHeight||0===Me.clientHeight,We._hasZeroWidth=We._hasZeroWidth||0===Me.clientWidth;var Ct=We.scrollZoom,st=We._scrollZoom={};if(!0===Ct)st.cartesian=1,st.gl3d=1,st.geo=1,st.mapbox=1;else if("string"==typeof Ct){var Pt=Ct.split("+");for(Ze=0;Ze<Pt.length;Ze++)st[Pt[Ze]]=1}else!1!==Ct&&(st.gl3d=1,st.geo=1,st.mapbox=1)}function X(Me,_e){var Ze,nt,He=_e+1,We=[];for(Ze=0;Ze<Me.length;Ze++)We.push((nt=Me[Ze])<0?He+nt:nt);return We}function ie(Me,_e,He){var We,Ze;for(We=0;We<_e.length;We++){if((Ze=_e[We])!==parseInt(Ze,10))throw new Error("all values in "+He+" must be integers");if(Ze>=Me.data.length||Ze<-Me.data.length)throw new Error(He+" must be valid indices for gd.data.");if(_e.indexOf(Ze,We+1)>-1||Ze>=0&&_e.indexOf(-Me.data.length+Ze)>-1||Ze<0&&_e.indexOf(Me.data.length+Ze)>-1)throw new Error("each index in "+He+" must be unique.")}}function ue(Me,_e,He){if(!Array.isArray(Me.data))throw new Error("gd.data must be an array.");if(typeof _e>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(_e)||(_e=[_e]),ie(Me,_e,"currentIndices"),typeof He<"u"&&!Array.isArray(He)&&(He=[He]),typeof He<"u"&&ie(Me,He,"newIndices"),typeof He<"u"&&_e.length!==He.length)throw new Error("current and new indices must be of equal length.")}function Ne(Me,_e,He,We,Ze){!function ge(Me,_e,He,We){var Ze=v.isPlainObject(We);if(!Array.isArray(Me.data))throw new Error("gd.data must be an array");if(!v.isPlainObject(_e))throw new Error("update must be a key:value object");if(typeof He>"u")throw new Error("indices must be an integer or array of integers");for(var nt in ie(Me,He,"indices"),_e){if(!Array.isArray(_e[nt])||_e[nt].length!==He.length)throw new Error("attribute "+nt+" must be an array of length equal to indices array length");if(Ze&&(!(nt in We)||!Array.isArray(We[nt])||We[nt].length!==_e[nt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(Me,_e,He,We);for(var nt=function De(Me,_e,He,We){var Je,Ct,st,Pt,Ze=v.isPlainObject(We),nt=[];for(var cn in Array.isArray(He)||(He=[He]),He=X(He,Me.data.length-1),_e)for(var _n=0;_n<He.length;_n++){if(Je=(Ct=d(Me.data[He[_n]],cn)).get(),!v.isArrayOrTypedArray(st=_e[cn][_n]))throw new Error("attribute: "+cn+" index: "+_n+" must be an array");if(!v.isArrayOrTypedArray(Je))throw new Error("cannot extend missing or non-array attribute: "+cn);if(Je.constructor!==st.constructor)throw new Error("cannot extend array with an array of a different type: "+cn);T(Pt=Ze?We[cn][_n]:We)||(Pt=-1),nt.push({prop:Ct,target:Je,insert:st,maxp:Math.floor(Pt)})}return nt}(Me,_e,He,We),Bt={},Je={},Ct=0;Ct<nt.length;Ct++){var st=nt[Ct].prop,cn=Ze(nt[Ct].target,nt[Ct].insert,nt[Ct].maxp);st.set(cn[0]),Array.isArray(Bt[st.astr])||(Bt[st.astr]=[]),Bt[st.astr].push(cn[1]),Array.isArray(Je[st.astr])||(Je[st.astr]=[]),Je[st.astr].push(nt[Ct].target.length)}return{update:Bt,maxPoints:Je}}function Be(Me,_e){var He=new Me.constructor(Me.length+_e.length);return He.set(Me),He.set(_e,Me.length),He}function te(Me,_e,He,We){Me=v.getGraphDiv(Me),P.clearPromiseQueue(Me);var Ze={};if("string"==typeof _e)Ze[_e]=He;else{if(!v.isPlainObject(_e))return v.warn("Restyle fail.",_e,He,We),Promise.reject();Ze=v.extendFlat({},_e),void 0===We&&(We=He)}Object.keys(Ze).length&&(Me.changed=!0);var nt=P.coerceTraceIndices(Me,We),Bt=se(Me,Ze,nt),Je=Bt.flags;Je.calc&&(Me.calcdata=void 0),Je.clearAxisTypes&&P.clearAxisTypes(Me,nt,{});var Ct=[];Je.fullReplot?Ct.push(j._doPlot):(Ct.push(C.previousPromises),C.supplyDefaults(Me),Je.markerSize&&(C.doCalcdata(Me),Oe(Ct)),Je.style&&Ct.push(I.doTraceStyle),Je.colorbars&&Ct.push(I.doColorBars),Ct.push(Q)),Ct.push(C.rehover,C.redrag,C.reselect),g.add(Me,te,[Me,Bt.undoit,Bt.traces],te,[Me,Bt.redoit,Bt.traces]);var st=v.syncOrAsync(Ct,Me);return(!st||!st.then)&&(st=Promise.resolve()),st.then(function(){return Me.emit("plotly_restyle",Bt.eventData),Me})}function Z(Me){return void 0===Me?null:Me}function N(Me,_e){return _e?function(He,We,Ze){var nt=d(He,We),Bt=nt.set;return nt.set=function(Je){ee((Ze||"")+We,nt.get(),Je,Me),Bt(Je)},nt}:d}function ee(Me,_e,He,We){if(Array.isArray(_e)||Array.isArray(He))for(var Ze=Array.isArray(_e)?_e:[],nt=Array.isArray(He)?He:[],Bt=Math.max(Ze.length,nt.length),Je=0;Je<Bt;Je++)ee(Me+"["+Je+"]",Ze[Je],nt[Je],We);else if(v.isPlainObject(_e)||v.isPlainObject(He)){var Ct=v.isPlainObject(_e)?_e:{},st=v.isPlainObject(He)?He:{},Pt=v.extendFlat({},Ct,st);for(var cn in Pt)ee(Me+"."+cn,Ct[cn],st[cn],We)}else void 0===We[Me]&&(We[Me]=Z(_e))}function se(Me,_e,He){var st,We=Me._fullLayout,Ze=Me._fullData,nt=Me.data,Bt=We._guiEditing,Je=N(We._preGUI,Bt),Ct=v.extendDeepAll({},_e);xe(_e);var Nn,Pt=G.traceFlags(),cn={},_n={};function Vn(){return He.map(function(){})}function $n(Wt){var wn=w.id2name(Wt);-1===Nn.indexOf(wn)&&Nn.push(wn)}function fn(Wt){return"LAYOUT"+Wt+".autorange"}function Rn(Wt){return"LAYOUT"+Wt+".range"}function En(Wt){for(var wn=Wt;wn<Ze.length;wn++)if(Ze[wn]._input===nt[Wt])return Ze[wn]}function Pn(Wt,wn,Tn){if(Array.isArray(Wt))Wt.forEach(function(nn){Pn(nn,wn,Tn)});else if(!(Wt in _e)&&!P.hasParent(_e,Wt)){var jn;if("LAYOUT"===Wt.substr(0,6))jn=Je(Me.layout,Wt.replace("LAYOUT",""));else{var or=He[Tn];jn=N(We._tracePreGUI[En(or)._fullInput.uid],Bt)(nt[or],Wt)}Wt in _n||(_n[Wt]=Vn()),void 0===_n[Wt][Tn]&&(_n[Wt][Tn]=Z(jn.get())),void 0!==wn&&jn.set(wn)}}function Zn(Wt){return function(wn){return Ze[wn][Wt]}}function Yn(Wt){return function(wn,Tn){return!1===wn?Ze[He[Tn]][Wt]:null}}for(var mn in _e){if(P.hasParent(_e,mn))throw new Error("cannot set "+mn+" and a parent attribute simultaneously");var In,Fn,vr,ir,On,hr,Wn=_e[mn];if(("autobinx"===mn||"autobiny"===mn)&&(mn=mn.charAt(mn.length-1)+"bins",Wn=Array.isArray(Wn)?Wn.map(Yn(mn)):!1===Wn?He.map(Zn(mn)):null),cn[mn]=Wn,"LAYOUT"!==mn.substr(0,6)){for(_n[mn]=Vn(),st=0;st<He.length;st++)if(In=nt[He[st]],Fn=En(He[st]),ir=(vr=N(We._tracePreGUI[Fn._fullInput.uid],Bt)(In,mn)).get(),void 0!==(On=Array.isArray(Wn)?Wn[st%Wn.length]:Wn)){var bn=vr.parts[vr.parts.length-1],ve=mn.substr(0,mn.length-bn.length-1),he=ve?ve+".":"",ut=ve?d(Fn,ve).get():Fn;if((hr=c.getTraceValObject(Fn,vr.parts))&&hr.impliedEdits&&null!==On)for(var mt in hr.impliedEdits)Pn(v.relativeAttr(mn,mt),hr.impliedEdits[mt],st);else if("thicknessmode"!==bn&&"lenmode"!==bn||ir===On||"fraction"!==On&&"pixels"!==On||!ut){if("type"===mn&&("pie"===On!=("pie"===ir)||"funnelarea"===On!=("funnelarea"===ir))){var Et="x",Nt="y";("bar"===On||"bar"===ir)&&"h"===In.orientation&&(Et="y",Nt="x"),v.swapAttrs(In,["?","?src"],"labels",Et),v.swapAttrs(In,["d?","?0"],"label",Et),v.swapAttrs(In,["?","?src"],"values",Nt),"pie"===ir||"funnelarea"===ir?(d(In,"marker.color").set(d(In,"marker.colors").get()),We._pielayer.selectAll("g.trace").remove()):m.traceIs(In,"cartesian")&&d(In,"marker.colors").set(d(In,"marker.color").get())}}else{var at=We._size,it=ut.orient,ot="top"===it||"bottom"===it;if("thicknessmode"===bn){var St=ot?at.h:at.w;Pn(he+"thickness",ut.thickness*("fraction"===On?1/St:St),st)}else{var bt=ot?at.w:at.h;Pn(he+"len",ut.len*("fraction"===On?1/bt:bt),st)}}if(_n[mn][st]=Z(ir),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(mn)){if("orientation"===mn){vr.set(On);var qt=In.x&&!In.y?"h":"v";if((vr.get()||qt)===Fn.orientation)continue}else"orientationaxes"===mn&&(In.orientation={v:"h",h:"v"}[Fn.orientation]);P.swapXYData(In),Pt.calc=Pt.clearAxisTypes=!0}else-1!==C.dataArrayContainers.indexOf(vr.parts[0])?(P.manageArrayContainers(vr,On,_n),Pt.calc=!0):(hr?hr.arrayOk&&!m.traceIs(Fn,"regl")&&(v.isArrayOrTypedArray(On)||v.isArrayOrTypedArray(ir))?Pt.calc=!0:G.update(Pt,hr):Pt.calc=!0,vr.set(On))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(mn)&&w.swap(Me,He),"orientationaxes"===mn){var hn=d(Me.layout,"hovermode"),Vt=hn.get();"x"===Vt?hn.set("y"):"y"===Vt?hn.set("x"):"x unified"===Vt?hn.set("y unified"):"y unified"===Vt&&hn.set("x unified")}if(-1!==["orientation","type"].indexOf(mn)){for(Nn=[],st=0;st<He.length;st++){var Mn=nt[He[st]];m.traceIs(Mn,"cartesian")&&($n(Mn.xaxis||"x"),$n(Mn.yaxis||"y"))}Pn(Nn.map(fn),!0,0),Pn(Nn.map(Rn),[0,1],0)}}else vr=Je(Me.layout,mn.replace("LAYOUT","")),_n[mn]=[Z(vr.get())],vr.set(Array.isArray(Wn)?Wn[0]:Wn),Pt.calc=!0}return(Pt.calc||Pt.plot)&&(Pt.fullReplot=!0),{flags:Pt,undoit:_n,redoit:cn,traces:He,eventData:v.extendDeepNoArrays([],[Ct,He])}}function xe(Me){var Ze,nt,Bt,_e=v.counterRegex("axis",".title",!1,!1),He=/colorbar\.title$/,We=Object.keys(Me);for(Ze=0;Ze<We.length;Ze++)Bt=Me[nt=We[Ze]],"title"!==nt&&!_e.test(nt)&&!He.test(nt)||"string"!=typeof Bt&&"number"!=typeof Bt?nt.indexOf("titlefont")>-1&&-1===nt.indexOf("grouptitlefont")?Je(nt,nt.replace("titlefont","title.font")):nt.indexOf("titleposition")>-1?Je(nt,nt.replace("titleposition","title.position")):nt.indexOf("titleside")>-1?Je(nt,nt.replace("titleside","title.side")):nt.indexOf("titleoffset")>-1&&Je(nt,nt.replace("titleoffset","title.offset")):Je(nt,nt.replace("title","title.text"));function Je(Ct,st){Me[st]=Me[Ct],delete Me[Ct]}}function Te(Me,_e,He){Me=v.getGraphDiv(Me),P.clearPromiseQueue(Me);var We={};if("string"==typeof _e)We[_e]=He;else{if(!v.isPlainObject(_e))return v.warn("Relayout fail.",_e,He),Promise.reject();We=v.extendFlat({},_e)}Object.keys(We).length&&(Me.changed=!0);var Ze=gt(Me,We),nt=Ze.flags;nt.calc&&(Me.calcdata=void 0);var Bt=[C.previousPromises];nt.layoutReplot?Bt.push(I.layoutReplot):Object.keys(We).length&&(Ee(Me,nt,Ze)||C.supplyDefaults(Me),nt.legend&&Bt.push(I.doLegend),nt.layoutstyle&&Bt.push(I.layoutStyles),nt.axrange&&Oe(Bt,Ze.rangesAltered),nt.ticks&&Bt.push(I.doTicksRelayout),nt.modebar&&Bt.push(I.doModeBar),nt.camera&&Bt.push(I.doCamera),nt.colorbars&&Bt.push(I.doColorBars),Bt.push(Q)),Bt.push(C.rehover,C.redrag,C.reselect),g.add(Me,Te,[Me,Ze.undoit],Te,[Me,Ze.redoit]);var Je=v.syncOrAsync(Bt,Me);return(!Je||!Je.then)&&(Je=Promise.resolve(Me)),Je.then(function(){return Me.emit("plotly_relayout",Ze.eventData),Me})}function Ee(Me,_e,He){var We=Me._fullLayout;if(!_e.axrange)return!1;for(var Ze in _e)if("axrange"!==Ze&&_e[Ze])return!1;var nt,Bt,Je=function(Nn,Vn){return v.coerce(nt,Bt,z,Nn,Vn)},Ct={};for(var st in He.rangesAltered){var Pt=w.id2name(st);if(S(nt=Me.layout[Pt],Bt=We[Pt],Je,Ct),Bt._matchGroup)for(var cn in Bt._matchGroup)if(cn!==st){var _n=We[w.id2name(cn)];_n.autorange=Bt.autorange,_n.range=Bt.range.slice(),_n._input.range=Bt.range.slice()}}return!0}function Oe(Me,_e){Me.push(M,I.doAutoRangeAndConstraints,_e?function(We){var Ze=[];for(var Bt in _e){var Je=w.getFromId(We,Bt);if(Ze.push(Bt),-1!==(Je.ticklabelposition||"").indexOf("inside")&&Je._anchorAxis&&Ze.push(Je._anchorAxis._id),Je._matchGroup)for(var Ct in Je._matchGroup)_e[Ct]||Ze.push(Ct)}return w.draw(We,Ze,{skipTitle:!0})}:function(We){return w.draw(We,"redraw")},I.drawData,I.finalDraw)}var $e=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,ct=/^[xyz]axis[0-9]*\.autorange$/,ft=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function gt(Me,_e){var Pt,cn,_n,He=Me.layout,We=Me._fullLayout,nt=N(We._preGUI,We._guiEditing),Bt=Object.keys(_e),Je=w.list(Me),Ct=v.extendDeepAll({},_e),st={};for(xe(_e),Bt=Object.keys(_e),cn=0;cn<Bt.length;cn++)if(0===Bt[cn].indexOf("allaxes")){for(_n=0;_n<Je.length;_n++){var Nn=Je[_n]._id.substr(1),Vn=-1!==Nn.indexOf("scene")?Nn+".":"",$n=Bt[cn].replace("allaxes",Vn+Je[_n]._name);_e[$n]||(_e[$n]=_e[Bt[cn]])}delete _e[Bt[cn]]}var fn=G.layoutFlags(),Rn={},En={};function Pn(Cr,nn){if(Array.isArray(Cr))Cr.forEach(function(pr){Pn(pr,nn)});else if(!(Cr in _e)&&!P.hasParent(_e,Cr)){var si=nt(He,Cr);Cr in En||(En[Cr]=Z(si.get())),void 0!==nn&&si.set(nn)}}var Yn,Zn={};function mn(Cr){var nn=w.name2id(Cr.split(".")[0]);return Zn[nn]=1,nn}for(var Wn in _e){if(P.hasParent(_e,Wn))throw new Error("cannot set "+Wn+" and a parent attribute simultaneously");for(var In=nt(He,Wn),Fn=_e[Wn],ir=In.parts.length-1;ir>0&&"string"!=typeof In.parts[ir];)ir--;var On=In.parts[ir],hr=In.parts[ir-1]+"."+On,rr=In.parts.slice(0,ir).join("."),bn=d(Me.layout,rr).get(),ve=d(We,rr).get(),he=In.get();if(void 0!==Fn){Rn[Wn]=Fn,En[Wn]="reverse"===On?Fn:Z(he);var ut=c.getLayoutValObject(We,In.parts);if(ut&&ut.impliedEdits&&null!==Fn)for(var mt in ut.impliedEdits)Pn(v.relativeAttr(Wn,mt),ut.impliedEdits[mt]);if(-1!==["width","height"].indexOf(Wn))if(Fn){Pn("autosize",null);var at="height"===Wn?"width":"height";Pn(at,We[at])}else We[Wn]=Me._initialAutoSize[Wn];else if("autosize"===Wn)Pn("width",Fn?null:We.width),Pn("height",Fn?null:We.height);else if(hr.match($e))mn(hr),d(We,rr+"._inputRange").set(null);else if(hr.match(ct)){mn(hr),d(We,rr+"._inputRange").set(null);var it=d(We,rr).get();it._inputDomain&&(it._input.domain=it._inputDomain.slice())}else hr.match(ft)&&d(We,rr+"._inputDomain").set(null);if("type"===On){Yn=bn;var ot="linear"===ve.type&&"log"===Fn;if(ot||"log"===ve.type&&"linear"===Fn){if(Yn&&Yn.range)if(ve.autorange)ot&&(Yn.range=Yn.range[1]>Yn.range[0]?[1,2]:[2,1]);else{var bt=Yn.range[0],Et=Yn.range[1];ot?(bt<=0&&Et<=0&&Pn(rr+".autorange",!0),bt<=0?bt=Et/1e6:Et<=0&&(Et=bt/1e6),Pn(rr+".range[0]",Math.log(bt)/Math.LN10),Pn(rr+".range[1]",Math.log(Et)/Math.LN10)):(Pn(rr+".range[0]",Math.pow(10,bt)),Pn(rr+".range[1]",Math.pow(10,Et)))}else Pn(rr+".autorange",!0);Array.isArray(We._subplots.polar)&&We._subplots.polar.length&&We[In.parts[0]]&&"radialaxis"===In.parts[1]&&delete We[In.parts[0]]._subplot.viewInitial["radialaxis.range"],m.getComponentMethod("annotations","convertCoords")(Me,ve,Fn,Pn),m.getComponentMethod("images","convertCoords")(Me,ve,Fn,Pn)}else Pn(rr+".autorange",!0),Pn(rr+".range",null);d(We,rr+"._inputRange").set(null)}else if(On.match($)){var Nt=d(We,Wn).get(),It=(Fn||{}).type;(!It||"-"===It)&&(It="linear"),m.getComponentMethod("annotations","convertCoords")(Me,Nt,It,Pn),m.getComponentMethod("images","convertCoords")(Me,Nt,It,Pn)}var qt=b.containerArrayMatch(Wn);if(qt){Pt=qt.array;var hn=qt.property,Vt=ut||{editType:"calc"};""!==(cn=qt.index)&&""===hn&&(b.isAddVal(Fn)?En[Wn]=null:b.isRemoveVal(Fn)?En[Wn]=(d(He,Pt).get()||[])[cn]:v.warn("unrecognized full object value",_e)),G.update(fn,Vt),st[Pt]||(st[Pt]={});var Mn=st[Pt][cn];Mn||(Mn=st[Pt][cn]={}),Mn[hn]=Fn,delete _e[Wn]}else"reverse"===On?(bn.range?bn.range.reverse():(Pn(rr+".autorange",!0),bn.range=[1,0]),ve.autorange?fn.calc=!0:fn.plot=!0):("dragmode"===Wn&&(!1===Fn&&!1!==he||!1!==Fn&&!1===he)||We._has("scatter-like")&&We._has("regl")&&"dragmode"===Wn&&("lasso"===Fn||"select"===Fn)&&"lasso"!==he&&"select"!==he||We._has("gl2d")?fn.plot=!0:ut?G.update(fn,ut):fn.calc=!0,In.set(Fn))}}for(Pt in st)b.applyContainerArrayChanges(Me,nt(He,Pt),st[Pt],fn,nt)||(fn.plot=!0);for(var wn in Zn){var Tn=(Yn=w.getFromId(Me,wn))&&Yn._constraintGroup;if(Tn)for(var jn in fn.calc=!0,Tn)Zn[jn]||(w.getFromId(Me,jn)._constraintShrinkable=!0)}(ze(Me)||_e.height||_e.width)&&(fn.plot=!0);var or=We.shapes;for(cn=0;cn<or.length;cn++)if(or[cn].showlegend){fn.calc=!0;break}return(fn.plot||fn.calc)&&(fn.layoutReplot=!0),{flags:fn,rangesAltered:Zn,undoit:En,redoit:Rn,eventData:Ct}}function ze(Me){var _e=Me._fullLayout,He=_e.width,We=_e.height;return Me.layout.autosize&&C.plotAutoSize(Me,Me.layout,_e),_e.width!==He||_e.height!==We}function Ve(Me,_e,He,We){Me=v.getGraphDiv(Me),P.clearPromiseQueue(Me),v.isPlainObject(_e)||(_e={}),v.isPlainObject(He)||(He={}),Object.keys(_e).length&&(Me.changed=!0),Object.keys(He).length&&(Me.changed=!0);var Ze=P.coerceTraceIndices(Me,We),nt=se(Me,v.extendFlat({},_e),Ze),Bt=nt.flags,Je=gt(Me,v.extendFlat({},He)),Ct=Je.flags;(Bt.calc||Ct.calc)&&(Me.calcdata=void 0),Bt.clearAxisTypes&&P.clearAxisTypes(Me,Ze,He);var st=[];Ct.layoutReplot?st.push(I.layoutReplot):Bt.fullReplot?st.push(j._doPlot):(st.push(C.previousPromises),Ee(Me,Ct,Je)||C.supplyDefaults(Me),Bt.style&&st.push(I.doTraceStyle),(Bt.colorbars||Ct.colorbars)&&st.push(I.doColorBars),Ct.legend&&st.push(I.doLegend),Ct.layoutstyle&&st.push(I.layoutStyles),Ct.axrange&&Oe(st,Je.rangesAltered),Ct.ticks&&st.push(I.doTicksRelayout),Ct.modebar&&st.push(I.doModeBar),Ct.camera&&st.push(I.doCamera),st.push(Q)),st.push(C.rehover,C.redrag,C.reselect),g.add(Me,Ve,[Me,nt.undoit,Je.undoit,nt.traces],Ve,[Me,nt.redoit,Je.redoit,nt.traces]);var Pt=v.syncOrAsync(st,Me);return(!Pt||!Pt.then)&&(Pt=Promise.resolve(Me)),Pt.then(function(){return Me.emit("plotly_update",{data:nt.eventData,layout:Je.eventData}),Me})}function Pe(Me){return function(He){He._fullLayout._guiEditing=!0;var We=Me.apply(null,arguments);return He._fullLayout._guiEditing=!1,We}}var Qe=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],Ke=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function dt(Me,_e){for(var He=0;He<_e.length;He++){var We=_e[He],Ze=Me.match(We.pattern);if(Ze){var nt=Ze[1]||"";return{head:nt,tail:Me.substr(nt.length+1),attr:We.attr}}}}function Dt(Me,_e){var He=d(_e,Me).get();if(void 0!==He)return He;var We=Me.split(".");for(We.pop();We.length>1;)if(We.pop(),void 0!==(He=d(_e,We.join(".")+".uirevision").get()))return He;return _e.uirevision}function $t(Me,_e){for(var He=0;He<_e.length;He++)if(_e[He]._fullInput.uid===Me)return He;return-1}function Ot(Me,_e,He){for(var We=0;We<_e.length;We++)if(_e[We].uid===Me)return We;return!_e[He]||_e[He].uid?-1:He}function kt(Me,_e){var He=v.isPlainObject(Me),We=Array.isArray(Me);return He||We?(He&&v.isPlainObject(_e)||We&&Array.isArray(_e))&&JSON.stringify(Me)===JSON.stringify(_e):Me===_e}function Jt(Me,_e,He,We){var Ze,nt,Bt,Je=We.getValObject,Ct=We.flags,st=We.immutable,Pt=We.inArray,cn=We.arrayIndex;function _n(){var rr=Ze.editType;Pt&&-1!==rr.indexOf("arraydraw")?v.pushUnique(Ct.arrays[Pt],cn):(G.update(Ct,Ze),"none"!==rr&&Ct.nChanges++,We.transition&&Ze.anim&&Ct.nChangesAnim++,($e.test(Bt)||ct.test(Bt))&&(Ct.rangesAltered[He[0]]=1),ft.test(Bt)&&d(_e,"_inputDomain").set(null),"datarevision"===nt&&(Ct.newDataRevision=1))}function Nn(rr){return"data_array"===rr.valType||rr.arrayOk}for(nt in Me){if(Ct.calc&&!We.transition)return;var Vn=Me[nt],$n=_e[nt],fn=He.concat(nt);if(Bt=fn.join("."),"_"!==nt.charAt(0)&&"function"!=typeof Vn&&Vn!==$n){if(("tick0"===nt||"dtick"===nt)&&"geo"!==He[0]){var Rn=_e.tickmode;if("auto"===Rn||"array"===Rn||!Rn)continue}if(("range"!==nt||!_e.autorange)&&("zmin"!==nt&&"zmax"!==nt||"contourcarpet"!==_e.type)&&(Ze=Je(fn))&&(!Ze._compareAsJSON||JSON.stringify(Vn)!==JSON.stringify($n))){var Pn,En=Ze.valType,Zn=Nn(Ze),Yn=Array.isArray(Vn),mn=Array.isArray($n);if(Yn&&mn){var Wn="_input_"+nt,In=Me[Wn],Fn=_e[Wn];if(Array.isArray(In)&&In===Fn)continue}if(void 0===$n)Zn&&Yn?Ct.calc=!0:_n();else if(Ze._isLinkedToArray){var vr=[],ir=!1;Pt||(Ct.arrays[nt]=vr);var On=Math.min(Vn.length,$n.length),hr=Math.max(Vn.length,$n.length);if(On!==hr){if("arraydraw"!==Ze.editType){_n();continue}ir=!0}for(Pn=0;Pn<On;Pn++)Jt(Vn[Pn],$n[Pn],fn.concat(Pn),v.extendFlat({inArray:nt,arrayIndex:Pn},We));if(ir)for(Pn=On;Pn<hr;Pn++)vr.push(Pn)}else!En&&v.isPlainObject(Vn)?Jt(Vn,$n,fn,We):Zn?Yn&&mn?(st&&(Ct.calc=!0),(st||We.newDataRevision)&&_n()):Yn!==mn?Ct.calc=!0:_n():Yn&&mn?(Vn.length!==$n.length||String(Vn)!==String($n))&&_n():_n()}}}for(nt in _e)if(!(nt in Me)&&"_"!==nt.charAt(0)&&"function"!=typeof _e[nt]){if(Nn(Ze=Je(He.concat(nt)))&&Array.isArray(_e[nt]))return void(Ct.calc=!0);_n()}}function en(Me,_e){var He;for(He in Me)if("_"!==He.charAt(0)){var We=Me[He],Ze=_e[He];if(We!==Ze)if(v.isPlainObject(We)&&v.isPlainObject(Ze)){if(en(We,Ze))return!0}else{if(!Array.isArray(We)||!Array.isArray(Ze))return!0;if(We.length!==Ze.length)return!0;for(var nt=0;nt<We.length;nt++)if(We[nt]!==Ze[nt]){if(!v.isPlainObject(We[nt])||!v.isPlainObject(Ze[nt]))return!0;if(en(We[nt],Ze[nt]))return!0}}}}function ke(Me){var _e=Me._fullLayout,He=Me.getBoundingClientRect();if(!v.equalDomRects(He,_e._lastBBox)){var We=_e._invTransform=v.inverseTransformMatrix(v.getFullTransformMatrix(Me));_e._invScaleX=Math.sqrt(We[0][0]*We[0][0]+We[0][1]*We[0][1]+We[0][2]*We[0][2]),_e._invScaleY=Math.sqrt(We[1][0]*We[1][0]+We[1][1]*We[1][1]+We[1][2]*We[1][2]),_e._lastBBox=He}}j.animate=function sn(Me,_e,He){if(Me=v.getGraphDiv(Me),!v.isPlotDiv(Me))throw new Error("This element is not a Plotly plot: "+Me+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var We=Me._transitionData;We._frameQueue||(We._frameQueue=[]);var Ze=(He=C.supplyAnimationDefaults(He)).transition,nt=He.frame;function Bt(st){return Array.isArray(Ze)?st>=Ze.length?Ze[0]:Ze[st]:Ze}function Je(st){return Array.isArray(nt)?st>=nt.length?nt[0]:nt[st]:nt}function Ct(st,Pt){var cn=0;return function(){if(st&&++cn===Pt)return st()}}return void 0===We._frameWaitingCnt&&(We._frameWaitingCnt=0),new Promise(function(st,Pt){var fn=0;function Rn(On){return On.transitionOpts=Array.isArray(Ze)?fn>=Ze.length?Ze[fn]:Ze[0]:Ze,fn++,On}var En,Pn,Zn=[],Yn=null==_e,mn=Array.isArray(_e);if(Yn||mn||!v.isPlainObject(_e)){if(Yn||-1!==["string","number"].indexOf(typeof _e))for(En=0;En<We._frames.length;En++)(Pn=We._frames[En])&&(Yn||String(Pn.group)===String(_e))&&Zn.push({type:"byname",name:String(Pn.name),data:Rn({name:Pn.name})});else if(mn)for(En=0;En<_e.length;En++){var In=_e[En];-1!==["number","string"].indexOf(typeof In)?(In=String(In),Zn.push({type:"byname",name:In,data:Rn({name:In})})):v.isPlainObject(In)&&Zn.push({type:"object",data:Rn(v.extendFlat({},In))})}}else Zn.push({type:"object",data:Rn(v.extendFlat({},_e))});for(En=0;En<Zn.length;En++)if("byname"===(Pn=Zn[En]).type&&!We._frameHash[Pn.data.name])return v.warn('animate failure: frame not found: "'+Pn.data.name+'"'),void Pt();-1!==["next","immediate"].indexOf(He.mode)&&function cn(){if(0!==We._frameQueue.length){for(;We._frameQueue.length;){var On=We._frameQueue.pop();On.onInterrupt&&On.onInterrupt()}Me.emit("plotly_animationinterrupted",[])}}(),"reverse"===He.direction&&Zn.reverse();var Fn=Me._fullLayout._currentFrame;if(Fn&&He.fromcurrent){var vr=-1;for(En=0;En<Zn.length;En++)if("byname"===(Pn=Zn[En]).type&&Pn.name===Fn){vr=En;break}if(vr>0&&vr<Zn.length-1){var ir=[];for(En=0;En<Zn.length;En++)Pn=Zn[En],("byname"!==Zn[En].type||En>vr)&&ir.push(Pn);Zn=ir}}Zn.length>0?function _n(On){if(0!==On.length){for(var hr=0;hr<On.length;hr++){var rr;rr="byname"===On[hr].type?C.computeFrame(Me,On[hr].name):On[hr].data;var bn=Je(hr),ve=Bt(hr);ve.duration=Math.min(ve.duration,bn.duration);var he={frame:rr,name:On[hr].name,frameOpts:bn,transitionOpts:ve};hr===On.length-1&&(he.onComplete=Ct(st,2),he.onInterrupt=Pt),We._frameQueue.push(he)}"immediate"===He.mode&&(We._lastFrameAt=-1/0),We._animationRaf||function $n(){Me.emit("plotly_animating"),We._lastFrameAt=-1/0,We._timeToNext=0,We._runningTransitions=0,We._currentFrame=null;var On=function(){We._animationRaf=window.requestAnimationFrame(On),Date.now()-We._lastFrameAt>We._timeToNext&&function Vn(){We._currentFrame&&We._currentFrame.onComplete&&We._currentFrame.onComplete();var On=We._currentFrame=We._frameQueue.shift();if(On){var hr=On.name?On.name.toString():null;Me._fullLayout._currentFrame=hr,We._lastFrameAt=Date.now(),We._timeToNext=On.frameOpts.duration,C.transition(Me,On.frame.data,On.frame.layout,P.coerceTraceIndices(Me,On.frame.traces),On.frameOpts,On.transitionOpts).then(function(){On.onComplete&&On.onComplete()}),Me.emit("plotly_animatingframe",{name:hr,frame:On.frame,animation:{frame:On.frameOpts,transition:On.transitionOpts}})}else!function Nn(){Me.emit("plotly_animated"),window.cancelAnimationFrame(We._animationRaf),We._animationRaf=null}()}()};On()}()}}(Zn):(Me.emit("plotly_animated"),st())})},j.addFrames=function pt(Me,_e,He){if(Me=v.getGraphDiv(Me),null==_e)return Promise.resolve();if(!v.isPlotDiv(Me))throw new Error("This element is not a Plotly plot: "+Me+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var We,Ze,nt,Bt,Je=Me._transitionData._frames,Ct=Me._transitionData._frameHash;if(!Array.isArray(_e))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+_e);var st=Je.length+2*_e.length,Pt=[],cn={};for(We=_e.length-1;We>=0;We--)if(v.isPlainObject(_e[We])){var _n=_e[We].name,Nn=(Ct[_n]||cn[_n]||{}).name,Vn=_e[We].name;Nn&&Vn&&"number"==typeof Vn&&(Ct[Nn]||cn[Nn])&&J<5&&(J++,v.warn('addFrames: overwriting frame "'+(Ct[Nn]||cn[Nn]).name+'" with a frame whose name of type "number" also equates to "'+Nn+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===J&&v.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),cn[_n]={name:_n},Pt.push({frame:C.supplyFrameDefaults(_e[We]),index:He&&null!=He[We]?He[We]:st+We})}Pt.sort(function(Wn,In){return Wn.index>In.index?-1:Wn.index<In.index?1:0});var fn=[],Rn=[],En=Je.length;for(We=Pt.length-1;We>=0;We--){if("number"==typeof(Ze=Pt[We].frame).name&&v.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Ze.name)for(;Ct[Ze.name="frame "+Me._transitionData._counter++];);if(Ct[Ze.name]){for(nt=0;nt<Je.length&&(Je[nt]||{}).name!==Ze.name;nt++);fn.push({type:"replace",index:nt,value:Ze}),Rn.unshift({type:"replace",index:nt,value:Je[nt]})}else Bt=Math.max(0,Math.min(Pt[We].index,En)),fn.push({type:"insert",index:Bt,value:Ze}),Rn.unshift({type:"delete",index:Bt}),En++}return g&&g.add(Me,C.modifyFrames,[Me,Rn],C.modifyFrames,[Me,fn]),C.modifyFrames(Me,fn)},j.deleteFrames=function xt(Me,_e){if(Me=v.getGraphDiv(Me),!v.isPlotDiv(Me))throw new Error("This element is not a Plotly plot: "+Me);var He,We,Ze=Me._transitionData._frames,nt=[],Bt=[];if(!_e)for(_e=[],He=0;He<Ze.length;He++)_e.push(He);for((_e=_e.slice()).sort(),He=_e.length-1;He>=0;He--)nt.push({type:"delete",index:We=_e[He]}),Bt.unshift({type:"insert",index:We,value:Ze[We]});return g&&g.add(Me,C.modifyFrames,[Me,Bt],C.modifyFrames,[Me,nt]),C.modifyFrames(Me,nt)},j.addTraces=function ye(Me,_e,He){Me=v.getGraphDiv(Me);var Ct,st,We=[],Ze=j.deleteTraces,nt=ye,Bt=[Me,We],Je=[Me,_e];for(function ce(Me,_e,He){var We,Ze;if(!Array.isArray(Me.data))throw new Error("gd.data must be an array.");if(typeof _e>"u")throw new Error("traces must be defined.");for(Array.isArray(_e)||(_e=[_e]),We=0;We<_e.length;We++)if("object"!=typeof(Ze=_e[We])||Array.isArray(Ze)||null===Ze)throw new Error("all values in traces array must be non-array objects");if(typeof He<"u"&&!Array.isArray(He)&&(He=[He]),typeof He<"u"&&He.length!==_e.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(Me,_e,He),Array.isArray(_e)||(_e=[_e]),_e=_e.map(function(Pt){return v.extendFlat({},Pt)}),P.cleanData(_e),Ct=0;Ct<_e.length;Ct++)Me.data.push(_e[Ct]);for(Ct=0;Ct<_e.length;Ct++)We.push(-_e.length+Ct);if(typeof He>"u")return st=j.redraw(Me),g.add(Me,Ze,Bt,nt,Je),st;Array.isArray(He)||(He=[He]);try{ue(Me,We,He)}catch(Pt){throw Me.data.splice(Me.data.length-_e.length,_e.length),Pt}return g.startSequence(Me),g.add(Me,Ze,Bt,nt,Je),st=j.moveTraces(Me,We,He),g.stopSequence(Me),st},j.deleteTraces=function H(Me,_e){Me=v.getGraphDiv(Me);var Je,Ct,He=[],We=j.addTraces,Ze=H,nt=[Me,He,_e],Bt=[Me,_e];if(typeof _e>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(_e)||(_e=[_e]),ie(Me,_e,"indices"),(_e=X(_e,Me.data.length-1)).sort(v.sorterDes),Je=0;Je<_e.length;Je+=1)Ct=Me.data.splice(_e[Je],1)[0],He.push(Ct);var st=j.redraw(Me);return g.add(Me,We,nt,Ze,Bt),st},j.extendTraces=function Fe(Me,_e,He,We){var nt=Ne(Me=v.getGraphDiv(Me),_e,He,We,function Ze(Ct,st,Pt){var cn,_n;if(v.isTypedArray(Ct))if(Pt<0){var Nn=new Ct.constructor(0),Vn=Be(Ct,st);Pt<0?(cn=Vn,_n=Nn):(cn=Nn,_n=Vn)}else if(cn=new Ct.constructor(Pt),_n=new Ct.constructor(Ct.length+st.length-Pt),Pt===st.length)cn.set(st),_n.set(Ct);else if(Pt<st.length){var $n=st.length-Pt;cn.set(st.subarray($n)),_n.set(Ct),_n.set(st.subarray(0,$n),Ct.length)}else{var fn=Pt-st.length,Rn=Ct.length-fn;cn.set(Ct.subarray(Rn)),cn.set(st,fn),_n.set(Ct.subarray(0,Rn))}else cn=Ct.concat(st),_n=Pt>=0&&Pt<cn.length?cn.splice(0,cn.length-Pt):[];return[cn,_n]}),Bt=j.redraw(Me);return g.add(Me,j.prependTraces,[Me,nt.update,He,nt.maxPoints],Fe,arguments),Bt},j.moveTraces=function Y(Me,_e,He){var st,We=[],Ze=[],nt=Y,Bt=Y,Je=[Me=v.getGraphDiv(Me),He,_e],Ct=[Me,_e,He];if(ue(Me,_e,He),_e=Array.isArray(_e)?_e:[_e],typeof He>"u")for(He=[],st=0;st<_e.length;st++)He.push(-_e.length+st);for(He=Array.isArray(He)?He:[He],_e=X(_e,Me.data.length-1),He=X(He,Me.data.length-1),st=0;st<Me.data.length;st++)-1===_e.indexOf(st)&&We.push(Me.data[st]);for(st=0;st<_e.length;st++)Ze.push({newIndex:He[st],trace:Me.data[_e[st]]});for(Ze.sort(function(cn,_n){return cn.newIndex-_n.newIndex}),st=0;st<Ze.length;st+=1)We.splice(Ze[st].newIndex,0,Ze[st].trace);Me.data=We;var Pt=j.redraw(Me);return g.add(Me,nt,Je,Bt,Ct),Pt},j.prependTraces=function Se(Me,_e,He,We){var nt=Ne(Me=v.getGraphDiv(Me),_e,He,We,function Ze(Ct,st,Pt){var cn,_n;if(v.isTypedArray(Ct))if(Pt<=0){var Nn=new Ct.constructor(0),Vn=Be(st,Ct);Pt<0?(cn=Vn,_n=Nn):(cn=Nn,_n=Vn)}else if(cn=new Ct.constructor(Pt),_n=new Ct.constructor(Ct.length+st.length-Pt),Pt===st.length)cn.set(st),_n.set(Ct);else if(Pt<st.length){var $n=st.length-Pt;cn.set(st.subarray(0,$n)),_n.set(st.subarray($n)),_n.set(Ct,$n)}else{var fn=Pt-st.length;cn.set(st),cn.set(Ct.subarray(0,fn),st.length),_n.set(Ct.subarray(fn))}else cn=st.concat(Ct),_n=Pt>=0&&Pt<cn.length?cn.splice(Pt,cn.length):[];return[cn,_n]}),Bt=j.redraw(Me);return g.add(Me,j.extendTraces,[Me,nt.update,He,nt.maxPoints],Se,arguments),Bt},j.newPlot=function K(Me,_e,He,We){return Me=v.getGraphDiv(Me),C.cleanPlot([],{},Me._fullData||[],Me._fullLayout||{}),C.purge(Me),j._doPlot(Me,_e,He,We)},j._doPlot=function O(Me,_e,He,We){var Ze;if(Me=v.getGraphDiv(Me),y.init(Me),v.isPlainObject(_e)){var nt=_e;_e=nt.data,He=nt.layout,We=nt.config,Ze=nt.frames}if(!1===y.triggerHandler(Me,"plotly_beforeplot",[_e,He,We]))return Promise.reject();!_e&&!He&&!v.isPlotDiv(Me)&&v.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",Me),pe(Me,We),He||(He={}),p.select(Me).classed("js-plotly-plot",!0),A.makeTester(),Array.isArray(Me._promises)||(Me._promises=[]);var Ct=0===(Me.data||[]).length&&Array.isArray(_e);Array.isArray(_e)&&(P.cleanData(_e),Ct?Me.data=_e:Me.data.push.apply(Me.data,_e),Me.empty=!1),(!Me.layout||Ct)&&(Me.layout=P.cleanLayout(He)),C.supplyDefaults(Me);var st=Me._fullLayout,Pt=st._has("cartesian");st._replotting=!0,(Ct||st._shouldCreateBgLayer)&&(function Xe(Me){var _e=p.select(Me),He=Me._fullLayout;if(He._calcInverseTransform=ke,He._calcInverseTransform(Me),He._container=_e.selectAll(".plot-container").data([0]),He._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),He._paperdiv=He._container.selectAll(".svg-container").data([0]),He._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),He._glcontainer=He._paperdiv.selectAll(".gl-container").data([{}]),He._glcontainer.enter().append("div").classed("gl-container",!0),He._paperdiv.selectAll(".main-svg").remove(),He._paperdiv.select(".modebar-container").remove(),He._paper=He._paperdiv.insert("svg",":first-child").classed("main-svg",!0),He._toppaper=He._paperdiv.append("svg").classed("main-svg",!0),He._modebardiv=He._paperdiv.append("div"),delete He._modeBar,He._hoverpaper=He._paperdiv.append("svg").classed("main-svg",!0),!He._uid){var We={};p.selectAll("defs").each(function(){this.id&&(We[this.id.split("-")[1]]=1)}),He._uid=v.randstr(We)}He._paperdiv.selectAll(".main-svg").attr(E.svgAttrs),He._defs=He._paper.append("defs").attr("id","defs-"+He._uid),He._clips=He._defs.append("g").classed("clips",!0),He._topdefs=He._toppaper.append("defs").attr("id","topdefs-"+He._uid),He._topclips=He._topdefs.append("g").classed("clips",!0),He._bgLayer=He._paper.append("g").classed("bglayer",!0),He._draggers=He._paper.append("g").classed("draglayer",!0);var Ze=He._paper.append("g").classed("layer-below",!0);He._imageLowerLayer=Ze.append("g").classed("imagelayer",!0),He._shapeLowerLayer=Ze.append("g").classed("shapelayer",!0),He._cartesianlayer=He._paper.append("g").classed("cartesianlayer",!0),He._polarlayer=He._paper.append("g").classed("polarlayer",!0),He._smithlayer=He._paper.append("g").classed("smithlayer",!0),He._ternarylayer=He._paper.append("g").classed("ternarylayer",!0),He._geolayer=He._paper.append("g").classed("geolayer",!0),He._funnelarealayer=He._paper.append("g").classed("funnelarealayer",!0),He._pielayer=He._paper.append("g").classed("pielayer",!0),He._iciclelayer=He._paper.append("g").classed("iciclelayer",!0),He._treemaplayer=He._paper.append("g").classed("treemaplayer",!0),He._sunburstlayer=He._paper.append("g").classed("sunburstlayer",!0),He._indicatorlayer=He._toppaper.append("g").classed("indicatorlayer",!0),He._glimages=He._paper.append("g").classed("glimages",!0);var nt=He._toppaper.append("g").classed("layer-above",!0);He._imageUpperLayer=nt.append("g").classed("imagelayer",!0),He._shapeUpperLayer=nt.append("g").classed("shapelayer",!0),He._selectionLayer=He._toppaper.append("g").classed("selectionlayer",!0),He._infolayer=He._toppaper.append("g").classed("infolayer",!0),He._menulayer=He._toppaper.append("g").classed("menulayer",!0),He._zoomlayer=He._toppaper.append("g").classed("zoomlayer",!0),He._hoverlayer=He._hoverpaper.append("g").classed("hoverlayer",!0),He._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),Me.emit("plotly_framework")}(Me),st._shouldCreateBgLayer&&delete st._shouldCreateBgLayer),A.initGradients(Me),A.initPatterns(Me),Ct&&w.saveShowSpikeInitial(Me);var cn=!Me.calcdata||Me.calcdata.length!==(Me._fullData||[]).length;cn&&C.doCalcdata(Me);for(var _n=0;_n<Me.calcdata.length;_n++)Me.calcdata[_n][0].trace=Me._fullData[_n];Me._context.responsive?Me._responsiveChartHandler||(Me._responsiveChartHandler=function(){v.isHidden(Me)||C.resize(Me)},window.addEventListener("resize",Me._responsiveChartHandler)):v.clearResponsive(Me);var Nn=v.extendFlat({},st._size),Vn=0;function fn(){if(C.clearAutoMarginIds(Me),I.drawMarginPushers(Me),w.allowAutoMargin(Me),Me._fullLayout.title.text&&Me._fullLayout.title.automargin&&C.allowAutoMargin(Me,"title.automargin"),st._has("pie"))for(var Wn=Me._fullData,In=0;In<Wn.length;In++){var Fn=Wn[In];"pie"===Fn.type&&Fn.automargin&&C.allowAutoMargin(Me,"pie."+Fn.uid+".automargin")}return C.doAutoMargin(Me),C.previousPromises(Me)}function Pn(){Me._transitioning||(I.doAutoRangeAndConstraints(Me),Ct&&w.saveRangeInitial(Me),m.getComponentMethod("rangeslider","calcAutorange")(Me))}var Yn=[C.previousPromises,function Je(){if(Ze)return j.addFrames(Me,Ze)},function $n(){for(var Wn=st._basePlotModules,In=0;In<Wn.length;In++)Wn[In].drawFramework&&Wn[In].drawFramework(Me);!st._glcanvas&&st._has("gl")&&(st._glcanvas=st._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(On){return On.key}),st._glcanvas.enter().append("canvas").attr("class",function(On){return"gl-canvas gl-canvas-"+On.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Fn=Me._context.plotGlPixelRatio;if(st._glcanvas){st._glcanvas.attr("width",st.width*Fn).attr("height",st.height*Fn).style("width",st.width+"px").style("height",st.height+"px");var vr=st._glcanvas.data()[0].regl;if(vr&&(Math.floor(st.width*Fn)!==vr._gl.drawingBufferWidth||Math.floor(st.height*Fn)!==vr._gl.drawingBufferHeight)){var ir="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!Vn)return v.log(ir+" Clearing graph and plotting again."),C.cleanPlot([],{},Me._fullData,st),C.supplyDefaults(Me),st=Me._fullLayout,C.doCalcdata(Me),Vn++,$n();v.error(ir)}}return"h"===st.modebar.orientation?st._modebardiv.style("height",null).style("width","100%"):st._modebardiv.style("width",null).style("height",st.height+"px"),C.previousPromises(Me)},fn,function Rn(){if(C.didMarginChange(Nn,st._size))return v.syncOrAsync([fn,I.layoutStyles],Me)}];Pt&&Yn.push(function En(){if(cn)return v.syncOrAsync([m.getComponentMethod("shapes","calcAutorange"),m.getComponentMethod("annotations","calcAutorange"),Pn],Me);Pn()}),Yn.push(I.layoutStyles),Pt&&Yn.push(function Zn(){return w.draw(Me,Ct?"":"redraw")},function(In){var Fn=In._fullLayout._insideTickLabelsUpdaterange;if(Fn)return In._fullLayout._insideTickLabelsUpdaterange=void 0,Te(In,Fn).then(function(){w.saveRangeInitial(In,!0)})}),Yn.push(I.drawData,I.finalDraw,_,C.addLinks,C.rehover,C.redrag,C.reselect,C.doAutoMargin,C.previousPromises);var mn=v.syncOrAsync(Yn,Me);return(!mn||!mn.then)&&(mn=Promise.resolve()),mn.then(function(){return Q(Me),Me})},j.purge=function yt(Me){var _e=(Me=v.getGraphDiv(Me))._fullLayout||{};return C.cleanPlot([],{},Me._fullData||[],_e),C.purge(Me),y.purge(Me),_e._container&&_e._container.remove(),delete Me._context,Me},j.react=function Gt(Me,_e,He,We){var Ze,nt;Me=v.getGraphDiv(Me),P.clearPromiseQueue(Me);var Je=Me._fullData,Ct=Me._fullLayout;if(v.isPlotDiv(Me)&&Je&&Ct){if(v.isPlainObject(_e)){var st=_e;_e=st.data,He=st.layout,We=st.config,Ze=st.frames}var Pt=!1;if(We){var cn=v.extendDeep({},Me._context);Me._context=void 0,pe(Me,We),Pt=en(cn,Me._context)}Me.data=_e||[],P.cleanData(Me.data),Me.layout=He||{},P.cleanLayout(Me.layout),function At(Me,_e,He,We){var nt,Bt,Je,Ct,st,Pt,cn,_n,Nn,Vn,Ze=We._preGUI,$n=[],fn={},Rn={};for(nt in Ze){if(st=dt(nt,Qe)){if(Nn=st.head,Vn=st.tail,(Ct=(Je=d(We,Bt=st.attr||Nn+".uirevision").get())&&Dt(Bt,_e))&&Ct===Je){if(null===(Pt=Ze[nt])&&(Pt=void 0),kt(_n=(cn=d(_e,nt)).get(),Pt)){void 0===_n&&"autorange"===Vn&&$n.push(Nn),cn.set(Z(d(We,nt).get()));continue}if("autorange"===Vn||"range["===Vn.substr(0,6)){var Zn=Ze[Nn+".autorange"];if(Zn||null===Zn&&null===Ze[Nn+".range[0]"]&&null===Ze[Nn+".range[1]"]){if(!(Nn in fn)){var Yn=d(_e,Nn).get();fn[Nn]=Yn&&(Yn.autorange||!1!==Yn.autorange&&(!Yn.range||2!==Yn.range.length))}if(fn[Nn]){cn.set(Z(d(We,nt).get()));continue}}}}}else v.warn("unrecognized GUI edit: "+nt);delete Ze[nt],st&&"range["===st.tail.substr(0,6)&&(Rn[st.head]=1)}for(var mn=0;mn<$n.length;mn++){var Wn=$n[mn];if(Rn[Wn]){var In=d(_e,Wn).get();In&&delete In.autorange}}var Fn=We._tracePreGUI;for(var vr in Fn){var hr,ir=Fn[vr],On=null;for(nt in ir){if(!On){var rr=$t(vr,He);if(rr<0){delete Fn[vr];break}var ve=Ot(vr,Me,(hr=He[rr]._fullInput).index);if(ve<0){delete Fn[vr];break}On=Me[ve]}if(st=dt(nt,Ke)){if(st.attr?Ct=(Je=d(We,st.attr).get())&&Dt(st.attr,_e):(Je=hr.uirevision,void 0===(Ct=On.uirevision)&&(Ct=_e.uirevision)),Ct&&Ct===Je&&(null===(Pt=ir[nt])&&(Pt=void 0),kt(_n=(cn=d(On,nt)).get(),Pt))){cn.set(Z(d(hr,nt).get()));continue}}else v.warn("unrecognized GUI edit: "+nt+" in trace uid "+vr);delete ir[nt]}}}(Me.data,Me.layout,Je,Ct),C.supplyDefaults(Me,{skipUpdateCalc:!0});var _n=Me._fullData,Nn=Me._fullLayout,Vn=void 0===Nn.datarevision,$n=Nn.transition,fn=function Qt(Me,_e,He,We,Ze){var nt=G.layoutFlags();function Bt(Ct){return c.getLayoutValObject(He,Ct)}return nt.arrays={},nt.rangesAltered={},nt.nChanges=0,nt.nChangesAnim=0,Jt(_e,He,[],{getValObject:Bt,flags:nt,immutable:We,transition:Ze,gd:Me}),(nt.plot||nt.calc)&&(nt.layoutReplot=!0),Ze&&nt.nChanges&&nt.nChangesAnim&&(nt.anim=nt.nChanges===nt.nChangesAnim?"all":"some"),nt}(Me,Ct,Nn,Vn,$n),En=function Lt(Me,_e,He,We,Ze,nt){var Bt=_e.length===He.length;if(!Ze&&!Bt)return{fullReplot:!0,calc:!0};var Ct,st,Je=G.traceFlags();function Pt(Nn){var Vn=c.getTraceValObject(st,Nn);return!st._module.animatable&&Vn.anim&&(Vn.anim=!1),Vn}Je.arrays={},Je.nChanges=0,Je.nChangesAnim=0;var cn={getValObject:Pt,flags:Je,immutable:We,transition:Ze,newDataRevision:nt,gd:Me},_n={};for(Ct=0;Ct<_e.length;Ct++)if(He[Ct]){if(C.hasMakesDataTransform(st=He[Ct]._fullInput)&&(st=He[Ct]),_n[st.uid])continue;_n[st.uid]=1,Jt(_e[Ct]._fullInput,st,[],cn)}return(Je.calc||Je.plot)&&(Je.fullReplot=!0),Ze&&Je.nChanges&&Je.nChangesAnim&&(Je.anim=Je.nChanges===Je.nChangesAnim&&Bt?"all":"some"),Je}(Me,Je,_n,Vn,$n,fn.newDataRevision);if(ze(Me)&&(fn.layoutReplot=!0),En.calc||fn.calc){Me.calcdata=void 0;for(var Pn=Object.getOwnPropertyNames(Nn),Zn=0;Zn<Pn.length;Zn++){var Yn=Pn[Zn],mn=Yn.substring(0,5);if("xaxis"===mn||"yaxis"===mn){var Wn=Nn[Yn]._emptyCategories;Wn&&Wn()}}}else C.supplyDefaultsUpdateCalc(Me.calcdata,_n);var In=[];if(Ze&&(Me._transitionData={},C.createTransitionData(Me),In.push(function Bt(){return j.addFrames(Me,Ze)})),Nn.transition&&!Pt&&(En.anim||fn.anim))fn.ticks&&In.push(I.doTicksRelayout),C.doCalcdata(Me),I.doAutoRangeAndConstraints(Me),In.push(function(){return C.transitionFromReact(Me,En,fn,Ct)});else if(En.fullReplot||fn.layoutReplot||Pt)Me._fullLayout._skipDefaults=!0,In.push(j._doPlot);else{for(var Fn in fn.arrays){var vr=fn.arrays[Fn];if(vr.length){var ir=m.getComponentMethod(Fn,"drawOne");if(ir!==v.noop)for(var On=0;On<vr.length;On++)ir(Me,vr[On]);else{var hr=m.getComponentMethod(Fn,"draw");if(hr===v.noop)throw new Error("cannot draw components: "+Fn);hr(Me)}}}In.push(C.previousPromises),En.style&&In.push(I.doTraceStyle),(En.colorbars||fn.colorbars)&&In.push(I.doColorBars),fn.legend&&In.push(I.doLegend),fn.layoutstyle&&In.push(I.layoutStyles),fn.axrange&&Oe(In),fn.ticks&&In.push(I.doTicksRelayout),fn.modebar&&In.push(I.doModeBar),fn.camera&&In.push(I.doCamera),In.push(Q)}In.push(C.rehover,C.redrag,C.reselect),(!(nt=v.syncOrAsync(In,Me))||!nt.then)&&(nt=Promise.resolve(Me))}else nt=j.newPlot(Me,_e,He,We);return nt.then(function(){return Me.emit("plotly_react",{data:_e,layout:He}),Me})},j.redraw=function W(Me){if(Me=v.getGraphDiv(Me),!v.isPlotDiv(Me))throw new Error("This element is not a Plotly plot: "+Me);return P.cleanData(Me.data),P.cleanLayout(Me.layout),Me.calcdata=void 0,j._doPlot(Me).then(function(){return Me.emit("plotly_redraw"),Me})},j.relayout=Te,j.restyle=te,j.setPlotConfig=function U(Me){return v.extendFlat(L,Me)},j.update=Ve,j._guiRelayout=Pe(Te),j._guiRestyle=Pe(te),j._guiUpdate=Pe(Ve),j._storeDirectGUIEdit=function B(Me,_e,He){for(var We in He)ee(We,d(Me,We).get(),He[We],_e)}},556:function(Ce){"use strict";var j={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},o={};(function p(T,h){for(var v in T){var d=T[v];d.valType?h[v]=d.dflt:(h[v]||(h[v]={}),p(d,h[v]))}})(j,o),Ce.exports={configAttributes:j,dfltConfig:o}},3060:function(Ce,j,o){"use strict";var p=o(4040),T=o(3400),h=o(5464),v=o(4859),d=o(6672),y=o(5656),g=o(556).configAttributes,m=o(7824),c=T.extendDeepAll,C=T.isPlainObject,w=T.isArrayOrTypedArray,S=T.nestedProperty,z=T.valObjectMeta,A="_isSubplotObj",D="_isLinkedToArray",E="_deprecated",M=[A,D,"_arrayAttrRegexps",E];function b(pe,W,K){if(!pe)return!1;if(pe._isLinkedToArray)if(P(W[K]))K++;else if(K<W.length)return!1;for(;K<W.length;K++){var X=pe[W[K]];if(!C(X))break;if(pe=X,K===W.length-1)break;if(pe._isLinkedToArray){if(!P(W[++K]))return!1}else if("info_array"===pe.valType){var ie=W[++K];if(!P(ie))return!1;var ue=pe.items;if(Array.isArray(ue)){if(ie>=ue.length)return!1;if(2===pe.dimensions){if(K++,W.length===K)return pe;var ce=W[K];if(!P(ce))return!1;pe=ue[ie][ce]}else pe=ue[ie]}else pe=ue}}return pe}function P(pe){return pe===Math.round(pe)&&pe>=0}function G(){var W,K,pe={};for(W in c(pe,v),p.subplotsRegistry)if((K=p.subplotsRegistry[W]).layoutAttributes)if(Array.isArray(K.attr))for(var X=0;X<K.attr.length;X++)ne(pe,K,K.attr[X]);else ne(pe,K,"subplot"===K.attr?K.name:K.attr);for(W in p.componentsRegistry){var ue=(K=p.componentsRegistry[W]).schema;if(ue&&(ue.subplots||ue.layout)){var ce=ue.subplots;if(ce&&ce.xaxis&&!ce.yaxis)for(var ge in ce.xaxis)delete pe.yaxis[ge];delete pe.xaxis.shift,delete pe.xaxis.autoshift}else"colorscale"===K.name?c(pe,K.layoutAttributes):K.layoutAttributes&&le(pe,K.layoutAttributes,K.name)}return{layoutAttributes:re(pe)}}function J(){var pe={frames:c({},d)};return re(pe),pe.frames}function re(pe){return function O(pe){function W(X){return{valType:"string",editType:"none"}}function K(X,ie,ue){j.isValObject(X)?(!0===X.arrayOk||"data_array"===X.valType)&&(ue[ie+"src"]=W(ie)):C(X)&&(X.role="object")}j.crawl(pe,K)}(pe),function Q(pe){function W(K,X,ie){if(K){var ue=K[D];ue&&(delete K[D],ie[X]={items:{}},ie[X].items[ue]=K,ie[X].role="object")}}j.crawl(pe,W)}(pe),function U(pe){function W(K){for(var X in K)if(C(K[X]))W(K[X]);else if(Array.isArray(K[X]))for(var ie=0;ie<K[X].length;ie++)W(K[X][ie]);else K[X]instanceof RegExp&&(K[X]=K[X].toString())}W(pe)}(pe),pe}function ne(pe,W,K){var X=S(pe,K),ie=c({},W.layoutAttributes);ie[A]=!0,X.set(ie)}function le(pe,W,K){var X=S(pe,K);X.set(c(X.get()||{},W))}j.IS_SUBPLOT_OBJ=A,j.IS_LINKED_TO_ARRAY=D,j.DEPRECATED=E,j.UNDERSCORE_ATTRS=M,j.get=function(){var pe={};p.allTypes.forEach(function(K){pe[K]=function I(pe){var W,K;K=(W=p.modules[pe]._module).basePlotModule;var X={type:null},ie=c({},h),ue=c({},W.attributes);j.crawl(ue,function(De,Ne,Be,Fe,Se){S(ie,Se).set(void 0),void 0===De&&S(ue,Se).set(void 0)}),c(X,ie),p.traceIs(pe,"noOpacity")&&delete X.opacity,p.traceIs(pe,"showLegend")||(delete X.showlegend,delete X.legendgroup),p.traceIs(pe,"noHover")&&(delete X.hoverinfo,delete X.hoverlabel),W.selectPoints||delete X.selectedpoints,c(X,ue),K.attributes&&c(X,K.attributes),X.type=pe;var ce={meta:W.meta||{},categories:W.categories||{},animatable:!!W.animatable,type:pe,attributes:re(X)};if(W.layoutAttributes){var ge={};c(ge,W.layoutAttributes),ce.layoutAttributes=re(ge)}return W.animatable||j.crawl(ce,function(De){j.isValObject(De)&&"anim"in De&&delete De.anim}),ce}(K)});var W={};return Object.keys(p.transformsRegistry).forEach(function(K){W[K]=function $(pe){var K=c({},p.transformsRegistry[pe].attributes);return Object.keys(p.componentsRegistry).forEach(function(X){var ie=p.componentsRegistry[X];ie.schema&&ie.schema.transforms&&ie.schema.transforms[pe]&&Object.keys(ie.schema.transforms[pe]).forEach(function(ue){le(K,ie.schema.transforms[pe][ue],ue)})}),{attributes:re(K)}}(K)}),{defs:{valObjects:z,metaKeys:M.concat(["description","role","editType","impliedEdits"]),editType:{traces:m.traces,layout:m.layout},impliedEdits:{}},traces:pe,layout:G(),transforms:W,frames:J(),animation:re(y),config:re(g)}},j.crawl=function(pe,W,K,X){var ie=K||0;X=X||"",Object.keys(pe).forEach(function(ue){var ce=pe[ue];if(-1===M.indexOf(ue)){var ge=(X?X+".":"")+ue;W(ce,ue,pe,ie,ge),!j.isValObject(ce)&&C(ce)&&"impliedEdits"!==ue&&j.crawl(ce,W,ie+1,ge)}})},j.isValObject=function(pe){return pe&&void 0!==pe.valType},j.findArrayAttributes=function(pe){var ie,ue,W=[],K=[],X=[];function ce(Se,ye,H,Y){K=K.slice(0,Y).concat([ye]),X=X.slice(0,Y).concat([Se&&Se._isLinkedToArray]),Se&&("data_array"===Se.valType||!0===Se.arrayOk)&&("colorbar"!==K[Y-1]||"ticktext"!==ye&&"tickvals"!==ye)&&ge(ie,0,"")}function ge(Se,ye,H){var Y=Se[K[ye]],te=H+K[ye];if(ye===K.length-1)w(Y)&&W.push(ue+te);else if(X[ye]){if(Array.isArray(Y))for(var Z=0;Z<Y.length;Z++)C(Y[Z])&&ge(Y[Z],ye+1,te+"["+Z+"].")}else C(Y)&&ge(Y,ye+1,te+".")}ie=pe,ue="",j.crawl(h,ce),pe._module&&pe._module.attributes&&j.crawl(pe._module.attributes,ce);var De=pe.transforms;if(De)for(var Ne=0;Ne<De.length;Ne++){var Be=De[Ne],Fe=Be._module;Fe&&(ue="transforms["+Ne+"].",ie=Be,j.crawl(Fe.attributes,ce))}return W},j.getTraceValObject=function(pe,W){var ie,ue,K=W[0],X=1;if("transforms"===K){if(1===W.length)return h.transforms;var ce=pe.transforms;if(!Array.isArray(ce)||!ce.length)return!1;var ge=W[1];if(!P(ge)||ge>=ce.length)return!1;ue=(ie=(p.transformsRegistry[ce[ge].type]||{}).attributes)&&ie[W[2]],X=3}else{var De=pe._module;if(De||(De=(p.modules[pe.type||h.type.dflt]||{})._module),!De)return!1;if(!(ue=(ie=De.attributes)&&ie[K])){var Ne=De.basePlotModule;Ne&&Ne.attributes&&(ue=Ne.attributes[K])}ue||(ue=h[K])}return b(ue,W,X)},j.getLayoutValObject=function(pe,W){return b(function L(pe,W){var K,X,ie,ue,ce=pe._basePlotModules;if(ce){var ge;for(K=0;K<ce.length;K++){if((ie=ce[K]).attrRegex&&ie.attrRegex.test(W)){if(ie.layoutAttrOverrides)return ie.layoutAttrOverrides;!ge&&ie.layoutAttributes&&(ge=ie.layoutAttributes)}var De=ie.baseLayoutAttrOverrides;if(De&&W in De)return De[W]}if(ge)return ge}var Ne=pe._modules;if(Ne)for(K=0;K<Ne.length;K++)if((ue=Ne[K].layoutAttributes)&&W in ue)return ue[W];for(X in p.componentsRegistry){if("colorscale"===(ie=p.componentsRegistry[X]).name&&0===W.indexOf("coloraxis"))return ie.layoutAttributes[W];if(!ie.schema&&W===ie.name)return ie.layoutAttributes}return W in v&&v[W]}(pe,W[0]),W,1)}},1780:function(Ce,j,o){"use strict";var p=o(3400),T=o(5464),h="templateitemname",v={name:{valType:"string",editType:"none"}};function d(g){return g&&"string"==typeof g}function y(g){return"s"!==g.charAt(g.length-1)&&p.warn("bad argument to arrayDefaultKey: "+g),g.substr(0,g.length-1)+"defaults"}v[h]={valType:"string",editType:"calc"},j.templatedArray=function(g,m){return m._isLinkedToArray=g,m.name=v.name,m[h]=v[h],m},j.traceTemplater=function(g){var c,C,m={};for(c in g)C=g[c],Array.isArray(C)&&C.length&&(m[c]=0);return{newTrace:function w(S){var z={type:c=p.coerce(S,{},T,"type"),_template:null};if(c in m){var A=m[c]%(C=g[c]).length;m[c]++,z._template=C[A]}return z}}},j.newContainer=function(g,m,c){var C=g._template,w=C&&(C[m]||c&&C[c]);return p.isPlainObject(w)||(w=null),g[m]={_template:w}},j.arrayTemplater=function(g,m,c){var C=g._template,w=C&&C[y(m)],S=C&&C[m];(!Array.isArray(S)||!S.length)&&(S=[]);var z={};return{newItem:function A(_){var E={name:_.name,_input:_},M=E[h]=_[h];if(!d(M))return E._template=w,E;for(var L=0;L<S.length;L++){var b=S[L];if(b.name===M)return z[M]=1,E._template=b,E}return E[c]=_[c]||!1,E._template=!1,E},defaultItems:function D(){for(var _=[],E=0;E<S.length;E++){var M=S[E],L=M.name;if(d(L)&&!z[L]){var b={_template:M,name:L,_input:{_templateitemname:L}};b[h]=M[h],_.push(b),z[L]=1}}return _}}},j.arrayDefaultKey=y,j.arrayEditor=function(g,m,c){var C=(p.nestedProperty(g,m).get()||[]).length,w=c._index,S=w>=C&&(c._input||{})._templateitemname;S&&(w=C);var A,z=m+"["+w+"]";function D(){A={},S&&(A[z]={},A[z][h]=S)}function E(b,P){S?p.nestedProperty(A[z],b).set(P):A[z+"."+b]=P}function M(){var b=A;return D(),b}return D(),{modifyBase:function _(b,P){A[b]=P},modifyItem:E,getUpdateObj:M,applyUpdate:function L(b,P){b&&E(b,P);var I=M();for(var G in I)p.nestedProperty(g,G).set(I[G])}}}},9172:function(Ce,j,o){"use strict";var p=o(3428),T=o(4040),h=o(7316),v=o(3400),d=o(2736),y=o(3696),g=o(6308),m=o(3616),c=o(1668),C=o(3080),w=o(4460),S=o(4284),z=o(1888),A=z.enforce,D=z.clean,_=o(9280).doAutoRange,E="start",b=o(3816).zindexSeparator;function P(X,ie,ue){for(var ce=0;ce<ue.length;ce++){var ge=ue[ce][0],De=ue[ce][1];if(!(ge[0]>=X[1]||ge[1]<=X[0])&&De[0]<ie[1]&&De[1]>ie[0])return!0}return!1}function I(X){var De,Ne,Be,Fe,Se,ye,ie=X._fullLayout,ue=ie._size,ce=ue.p,ge=w.list(X,"",!0);if(ie._paperdiv.style({width:X._context.responsive&&ie.autosize&&!X._context._hasZeroWidth&&!X.layout.width?"100%":ie.width+"px",height:X._context.responsive&&ie.autosize&&!X._context._hasZeroHeight&&!X.layout.height?"100%":ie.height+"px"}).selectAll(".main-svg").call(m.setSize,ie.width,ie.height),X._context.setBackground(X,ie.paper_bgcolor),j.drawMainTitle(X),C.manage(X),!ie._has("cartesian"))return h.previousPromises(X);function H(ke,Xe,Me){var _e=ke._lw/2;return"x"===ke._id.charAt(0)?Xe?"top"===Me?Xe._offset-ce-_e:Xe._offset+Xe._length+ce+_e:ue.t+ue.h*(1-(ke.position||0))+_e%1:Xe?"right"===Me?Xe._offset+Xe._length+ce+_e:Xe._offset-ce-_e:ue.l+ue.w*(ke.position||0)+_e%1}for(De=0;De<ge.length;De++){var Y=(Fe=ge[De])._anchorAxis;Fe._linepositions={},Fe._lw=m.crispRound(X,Fe.linewidth,1),Fe._mainLinePosition=H(Fe,Y,Fe.side),Fe._mainMirrorPosition=Fe.mirror&&Y?H(Fe,Y,S.OPPOSITE_SIDE[Fe.side]):null}var te=[],Z=[],N=[],ee=1===g.opacity(ie.paper_bgcolor)&&1===g.opacity(ie.plot_bgcolor)&&ie.paper_bgcolor===ie.plot_bgcolor;for(Ne in ie._plots)if((Be=ie._plots[Ne]).mainplot)Be.bg&&Be.bg.remove(),Be.bg=void 0;else{var B=Be.xaxis.domain,se=Be.yaxis.domain,xe=Be.plotgroup;if(P(B,se,N)&&-1===Ne.indexOf(b)){var Te=xe.node(),Ee=Be.bg=v.ensureSingle(xe,"rect","bg");Te.insertBefore(Ee.node(),Te.childNodes[0]),Z.push(Ne)}else xe.select("rect.bg").remove(),N.push([B,se]),ee||(te.push(Ne),Z.push(Ne))}var ze,Ve,Pe,Qe,Ke,dt,Dt,$t,Ot,kt,At,Gt,Lt,Oe=ie._bgLayer.selectAll(".bg").data(te);for(Oe.enter().append("rect").classed("bg",!0),Oe.exit().remove(),Oe.each(function(ke){ie._plots[ke].bg=p.select(this)}),De=0;De<Z.length;De++)Se=(Be=ie._plots[Z[De]]).xaxis,ye=Be.yaxis,Be.bg&&void 0!==Se._offset&&void 0!==ye._offset&&Be.bg.call(m.setRect,Se._offset-ce,ye._offset-ce,Se._length+2*ce,ye._length+2*ce).call(g.fill,ie.plot_bgcolor).style("stroke-width",0);if(!ie._hasOnlyLargeSploms)for(Ne in ie._plots){Se=(Be=ie._plots[Ne]).xaxis,ye=Be.yaxis;var ft,gt,$e=Be.clipId="clip"+ie._uid+Ne+"plot",ct=v.ensureSingleById(ie._clips,"clipPath",$e,function(ke){ke.classed("plotclip",!0).append("rect")});Be.clipRect=ct.select("rect").attr({width:Se._length,height:ye._length}),m.setTranslate(Be.plot,Se._offset,ye._offset),Be._hasClipOnAxisFalse?(ft=null,gt=$e):(ft=$e,gt=null),m.setClipUrl(Be.plot,ft,X),Be.layerClipId=gt}function Qt(ke){return"M"+ze+","+ke+"H"+Ve}function Jt(ke){return"M"+Se._offset+","+ke+"h"+Se._length}function en(ke){return"M"+ke+","+$t+"V"+Dt}function sn(ke){return void 0!==ye._shift&&(ke+=ye._shift),"M"+ke+","+ye._offset+"v"+ye._length}function pt(ke,Xe,Me){if(!ke.showline||Ne!==ke._mainSubplot)return"";if(!ke._anchorAxis)return Me(ke._mainLinePosition);var _e=Xe(ke._mainLinePosition);return ke.mirror&&(_e+=Xe(ke._mainMirrorPosition)),_e}for(Ne in ie._plots){ye=(Be=ie._plots[Ne]).yaxis;var xt="M0,0";G(Se=Be.xaxis,Ne)&&(Ke=J(Se,"left",ye,ge),ze=Se._offset-(Ke?ce+Ke:0),dt=J(Se,"right",ye,ge),Ve=Se._offset+Se._length+(dt?ce+dt:0),Pe=H(Se,ye,"bottom"),Qe=H(Se,ye,"top"),(Lt=!Se._anchorAxis||Ne!==Se._mainSubplot)&&("allticks"===Se.mirror||"all"===Se.mirror)&&(Se._linepositions[Ne]=[Pe,Qe]),xt=pt(Se,Qt,Jt),Lt&&Se.showline&&("all"===Se.mirror||"allticks"===Se.mirror)&&(xt+=Qt(Pe)+Qt(Qe)),Be.xlines.style("stroke-width",Se._lw+"px").call(g.stroke,Se.showline?Se.linecolor:"rgba(0,0,0,0)")),Be.xlines.attr("d",xt);var yt="M0,0";G(ye,Ne)&&(At=J(ye,"bottom",Se,ge),Dt=ye._offset+ye._length+(At?ce:0),Gt=J(ye,"top",Se,ge),$t=ye._offset-(Gt?ce:0),Ot=H(ye,Se,"left"),kt=H(ye,Se,"right"),(Lt=!ye._anchorAxis||Ne!==ye._mainSubplot)&&("allticks"===ye.mirror||"all"===ye.mirror)&&(ye._linepositions[Ne]=[Ot,kt]),yt=pt(ye,en,sn),Lt&&ye.showline&&("all"===ye.mirror||"allticks"===ye.mirror)&&(yt+=en(Ot)+en(kt)),Be.ylines.style("stroke-width",ye._lw+"px").call(g.stroke,ye.showline?ye.linecolor:"rgba(0,0,0,0)")),Be.ylines.attr("d",yt)}return w.makeClipPaths(X),h.previousPromises(X)}function G(X,ie){return(X.ticks||X.showline)&&(ie===X._mainSubplot||"all"===X.mirror||"allticks"===X.mirror)}function $(X,ie,ue){if(!ue.showline||!ue._lw)return!1;if("all"===ue.mirror||"allticks"===ue.mirror)return!0;var ce=ue._anchorAxis;if(!ce)return!1;var ge=S.FROM_BL[ie];return ue.side===ie?ce.domain[ge]===X.domain[ge]:ue.mirror&&ce.domain[1-ge]===X.domain[1-ge]}function J(X,ie,ue,ce){if($(X,ie,ue))return ue._lw;for(var ge=0;ge<ce.length;ge++){var De=ce[ge];if(De._mainAxis===ue._mainAxis&&$(X,ie,De))return De._lw}return 0}function U(X,ie,ue,ce){var ge="title.automargin",De=X._fullLayout.title,Ne=De.y>.5?"t":"b",Be={x:De.x,y:De.y,t:0,b:0},Fe={};"paper"===De.yref&&function re(X,ie,ue,ce,ge){var De="paper"===ie.yref?X._fullLayout._size.h:X._fullLayout.height,Ne=v.isTopAnchor(ie)?ce:ce-ge,Be="b"===ue?De-Ne:Ne;return!(v.isTopAnchor(ie)&&"t"===ue||v.isBottomAnchor(ie)&&"b"===ue)&&Be<ge}(X,De,Ne,ie,ce)?Be[Ne]=ue:"container"===De.yref&&(Fe[Ne]=ue,X._fullLayout._reservedMargin[ge]=Fe),h.allowAutoMargin(X,ge),h.autoMargin(X,ge,Be)}function pe(X){return"top"===X?S.CAP_SHIFT+.3+"em":"bottom"===X?"-0.3em":S.MID_SHIFT+"em"}j.layoutStyles=function(X){return v.syncOrAsync([h.doAutoMargin,I],X)},j.drawMainTitle=function(X){var ie=X._fullLayout.title,ue=X._fullLayout,ce=function W(X){var ie=X.title,ue="middle";return v.isRightAnchor(ie)?ue="end":v.isLeftAnchor(ie)&&(ue=E),ue}(ue),ge=function K(X){var ie=X.title,ue="0em";return v.isTopAnchor(ie)?ue=S.CAP_SHIFT+"em":v.isMiddleAnchor(ie)&&(ue=S.MID_SHIFT+"em"),ue}(ue),De=function le(X,ie){var ue=X.title,ce=X._size,ge=0;return"0em"!==ie&&ie?ie===S.CAP_SHIFT+"em"&&(ge=ue.pad.t):ge=-ue.pad.b,"auto"===ue.y?ce.t/2:"paper"===ue.yref?ce.t+ce.h-ce.h*ue.y+ge:X.height-X.height*ue.y+ge}(ue,ge),Ne=function ne(X,ie){var ue=X.title,ce=X._size,ge=0;return"paper"===(ie===E?ge=ue.pad.l:"end"===ie&&(ge=-ue.pad.r),ue.xref)?ce.l+ce.w*ue.x+ge:X.width*ue.x+ge}(ue,ce);if(c.draw(X,"gtitle",{propContainer:ue,propName:"title.text",subtitlePropName:"title.subtitle.text",placeholder:ue._dfltTitle.plot,subtitlePlaceholder:ue._dfltTitle.subtitle,attributes:{x:Ne,y:De,"text-anchor":ce,dy:ge}}),ie.text&&ie.automargin){var Be=p.selectAll(".gtitle"),Fe=m.bBox(p.selectAll(".g-gtitle").node()).height,Se=function Q(X,ie,ue){var ce=ie.y,De=ce>.5?"t":"b",Ne=X._fullLayout.margin[De],Be=0;return"paper"===ie.yref?Be=ue+ie.pad.t+ie.pad.b:"container"===ie.yref&&(Be=function O(X,ie,ue,ce,ge){var De=0;return"middle"===ue&&(De+=ge/2),"t"===X?("top"===ue&&(De+=ge),De+=ce-ie*ce):("bottom"===ue&&(De+=ge),De+=ie*ce),De}(De,ce,ie.yanchor,X._fullLayout.height,ue)+ie.pad.t+ie.pad.b),Be>Ne?Be:0}(X,ie,Fe);if(Se>0){U(X,De,Se,Fe),Be.attr({x:Ne,y:De,"text-anchor":ce,dy:pe(ie.yanchor)}).call(d.positionText,Ne,De);var ye=(ie.text.match(d.BR_TAG_ALL)||[]).length;if(ye){var H=S.LINE_SPACING*ye+S.MID_SHIFT;0===ie.y&&(H=-H),Be.selectAll(".line").each(function(){var ee=+this.getAttribute("dy").slice(0,-2)-H+"em";this.setAttribute("dy",ee)})}var Y=p.selectAll(".gtitle-subtitle");if(Y.node()){var te=Be.node().getBBox(),N=te.y+te.height+c.SUBTITLE_PADDING_EM*ie.subtitle.font.size;Y.attr({x:Ne,y:N,"text-anchor":ce,dy:pe(ie.yanchor)}).call(d.positionText,Ne,N)}}}},j.doTraceStyle=function(X){var ce,ie=X.calcdata,ue=[];for(ce=0;ce<ie.length;ce++){var ge=ie[ce],De=ge[0]||{},Ne=De.trace||{},Be=Ne._module||{},Fe=Be.arraysToCalcdata;Fe&&Fe(ge,Ne);var Se=Be.editStyle;Se&&ue.push({fn:Se,cd0:De})}if(ue.length){for(ce=0;ce<ue.length;ce++){var ye=ue[ce];ye.fn(X,ye.cd0)}y(X),j.redrawReglTraces(X)}return h.style(X),T.getComponentMethod("legend","draw")(X),h.previousPromises(X)},j.doColorBars=function(X){return T.getComponentMethod("colorbar","draw")(X),h.previousPromises(X)},j.layoutReplot=function(X){var ie=X.layout;return X.layout=void 0,T.call("_doPlot",X,"",ie)},j.doLegend=function(X){return T.getComponentMethod("legend","draw")(X),h.previousPromises(X)},j.doTicksRelayout=function(X){return w.draw(X,"redraw"),X._fullLayout._hasOnlyLargeSploms&&(T.subplotsRegistry.splom.updateGrid(X),y(X),j.redrawReglTraces(X)),j.drawMainTitle(X),h.previousPromises(X)},j.doModeBar=function(X){var ie=X._fullLayout;C.manage(X);for(var ue=0;ue<ie._basePlotModules.length;ue++){var ce=ie._basePlotModules[ue].updateFx;ce&&ce(X)}return h.previousPromises(X)},j.doCamera=function(X){for(var ie=X._fullLayout,ue=ie._subplots.gl3d,ce=0;ce<ue.length;ce++){var ge=ie[ue[ce]];ge._scene.setViewport(ge)}},j.drawData=function(X){var ie=X._fullLayout;y(X);for(var ue=ie._basePlotModules,ce=0;ce<ue.length;ce++)ue[ce].plot(X);return j.redrawReglTraces(X),h.style(X),T.getComponentMethod("selections","draw")(X),T.getComponentMethod("shapes","draw")(X),T.getComponentMethod("annotations","draw")(X),T.getComponentMethod("images","draw")(X),ie._replotting=!1,h.previousPromises(X)},j.redrawReglTraces=function(X){var ie=X._fullLayout;if(ie._has("regl")){var De,Ne,ue=X._fullData,ce=[],ge=[];for(ie._hasOnlyLargeSploms&&ie._splomGrid.draw(),De=0;De<ue.length;De++){var Be=ue[De];!0===Be.visible&&0!==Be._length&&("splom"===Be.type?ie._splomScenes[Be.uid].draw():"scattergl"===Be.type?v.pushUnique(ce,Be.xaxis+Be.yaxis):"scatterpolargl"===Be.type&&v.pushUnique(ge,Be.subplot))}for(De=0;De<ce.length;De++)(Ne=ie._plots[ce[De]])._scene&&Ne._scene.draw();for(De=0;De<ge.length;De++)(Ne=ie[ge[De]]._subplot)._scene&&Ne._scene.draw()}},j.doAutoRangeAndConstraints=function(X){for(var ue,ie=w.list(X,"",!0),ce={},ge=0;ge<ie.length;ge++)if(!ce[(ue=ie[ge])._id]){ce[ue._id]=1,D(X,ue),_(X,ue);var De=ue._matchGroup;if(De)for(var Ne in De){var Be=w.getFromId(X,Ne);_(X,Be,ue.range),ce[Ne]=1}}A(X)},j.finalDraw=function(X){T.getComponentMethod("rangeslider","draw")(X),T.getComponentMethod("rangeselector","draw")(X)},j.drawMarginPushers=function(X){T.getComponentMethod("legend","draw")(X),T.getComponentMethod("rangeselector","draw")(X),T.getComponentMethod("sliders","draw")(X),T.getComponentMethod("updatemenus","draw")(X),T.getComponentMethod("colorbar","draw")(X)}},4828:function(Ce,j,o){"use strict";var p=o(3400),T=p.isPlainObject,h=o(3060),v=o(7316),d=o(5464),y=o(1780),g=o(556).dfltConfig;function m(_,E){_=p.extendDeep({},_);var L,b,M=Object.keys(_).sort();function P(re,O,Q){if(T(O)&&T(re))m(re,O);else if(Array.isArray(O)&&Array.isArray(re)){var U=y.arrayTemplater({_template:_},Q);for(b=0;b<O.length;b++){var ne=O[b],le=U.newItem(ne)._template;le&&m(le,ne)}var pe=U.defaultItems();for(b=0;b<pe.length;b++)O.push(pe[b]._template);for(b=0;b<O.length;b++)delete O[b].templateitemname}}for(L=0;L<M.length;L++){var I=M[L],G=_[I];if(I in E?P(G,E[I],I):E[I]=G,c(I)===I)for(var $ in E){var J=c($);$!==J&&J===I&&!($ in _)&&P(G,E[$],I)}}}function c(_){return _.replace(/[0-9]+$/,"")}function C(_,E,M,L,b){var P=b&&M(b);for(var I in _){var G=_[I],$=z(_,I,L),J=z(_,I,b),re=M(J);if(!re){var O=c(I);O!==I&&(re=M(J=z(_,O,b)))}if(!(P&&P===re||!re||re._noTemplating||"data_array"===re.valType||re.arrayOk&&Array.isArray(G)))if(!re.valType&&T(G))C(G,E,M,$,J);else if(re._isLinkedToArray&&Array.isArray(G))for(var Q=!1,U=0,ne={},le=0;le<G.length;le++){var pe=G[le];if(T(pe)){var W=pe.name;if(W)ne[W]||(C(pe,E,M,z(G,U,$),z(G,U,J)),U++,ne[W]=1);else if(!Q){var X=z(_,y.arrayDefaultKey(I),L),ie=z(G,U,$);C(pe,E,M,ie,z(G,U,J));var ue=p.nestedProperty(E,ie);p.nestedProperty(E,X).set(ue.get()),ue.set(null),Q=!0}}}else p.nestedProperty(E,$).set(G)}}function w(_,E){return h.getLayoutValObject(_,p.nestedProperty({},E).parts)}function S(_,E){return h.getTraceValObject(_,p.nestedProperty({},E).parts)}function z(_,E,M){return M?Array.isArray(_)?M+"["+E+"]":M+"."+E:E}function A(_){for(var E=0;E<_.length;E++)if(T(_[E]))return!0}function D(_){var E;switch(_.code){case"data":E="The template has no key data.";break;case"layout":E="The template has no key layout.";break;case"missing":E=_.path?"There are no templates for item "+_.path+" with name "+_.templateitemname:"There are no templates for trace "+_.index+", of type "+_.traceType+".";break;case"unused":E=_.path?"The template item at "+_.path+" was not used in constructing the plot.":_.dataCount?"Some of the templates of type "+_.traceType+" were not used. The template has "+_.templateCount+" traces, the data only has "+_.dataCount+" of this type.":"The template has "+_.templateCount+" traces of type "+_.traceType+" but there are none in the data.";break;case"reused":E="Some of the templates of type "+_.traceType+" were used more than once. The template has "+_.templateCount+" traces, the data has "+_.dataCount+" of this type."}return _.msg=E,_}j.makeTemplate=function(_){_=p.isPlainObject(_)?_:p.getGraphDiv(_),_=p.extendDeep({_context:g},{data:_.data,layout:_.layout}),v.supplyDefaults(_);var E=_.data||[],M=_.layout||{};M._basePlotModules=_._fullLayout._basePlotModules,M._modules=_._fullLayout._modules;var L={data:{},layout:{}};E.forEach(function(U){var ne={};C(U,ne,S.bind(null,U));var le=p.coerce(U,{},d,"type"),pe=L.data[le];pe||(pe=L.data[le]=[]),pe.push(ne)}),C(M,L.layout,w.bind(null,M)),delete L.layout.template;var b=M.template;if(T(b)){var I,G,$,J,re,O,P=b.layout;T(P)&&m(P,L.layout);var Q=b.data;if(T(Q)){for(G in L.data)if($=Q[G],Array.isArray($)){for(O=(re=L.data[G]).length,J=$.length,I=0;I<O;I++)m($[I%J],re[I]);for(I=O;I<J;I++)re.push(p.extendDeep({},$[I]))}for(G in Q)G in L.data||(L.data[G]=p.extendDeep([],Q[G]))}}return L},j.validateTemplate=function(_,E){var M=p.extendDeep({},{_context:g,data:_.data,layout:_.layout}),L=M.layout||{};T(E)||(E=L.template||{});var b=E.layout,P=E.data,I=[];M.layout=L,M.layout.template=E,v.supplyDefaults(M);var G=M._fullLayout,$=M._fullData,J={};if(T(b)?(function re(X,ie){for(var ue in X)if("_"!==ue.charAt(0)&&T(X[ue])){var De,ce=c(ue),ge=[];for(De=0;De<ie.length;De++)ge.push(z(X,ue,ie[De])),ce!==ue&&ge.push(z(X,ce,ie[De]));for(De=0;De<ge.length;De++)J[ge[De]]=1;re(X[ue],ge)}}(G,["layout"]),function O(X,ie){for(var ue in X)if(-1===ue.indexOf("defaults")&&T(X[ue])){var ce=z(X,ue,ie);J[ce]?O(X[ue],ce):I.push({code:"unused",path:ce})}}(b,"layout")):I.push({code:"layout"}),T(P)){for(var U,Q={},ne=0;ne<$.length;ne++){var le=$[ne];Q[U=le.type]=(Q[U]||0)+1,le._fullInput._template||I.push({code:"missing",index:le._fullInput.index,traceType:U})}for(U in P){var pe=P[U].length,W=Q[U]||0;pe>W?I.push({code:"unused",traceType:U,templateCount:pe,dataCount:W}):W>pe&&I.push({code:"reused",traceType:U,templateCount:pe,dataCount:W})}}else I.push({code:"data"});if(function K(X,ie){for(var ue in X)if("_"!==ue.charAt(0)){var ce=X[ue],ge=z(X,ue,ie);T(ce)?(Array.isArray(X)&&!1===ce._template&&ce.templateitemname&&I.push({code:"missing",path:ge,templateitemname:ce.templateitemname}),K(ce,ge)):Array.isArray(ce)&&A(ce)&&K(ce,ge)}}({data:$,layout:G},""),I.length)return I.map(D)}},7024:function(Ce,j,o){"use strict";var p=o(8248),T=o(6424),h=o(7316),v=o(3400),d=o(7030),y=o(7164),g=o(3268),m=o(5788).version,c={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};Ce.exports=function C(w,S){var z,A,D,_;function E(W){return!(W in S)||v.validate(S[W],c[W])}if(S=S||{},v.isPlainObject(w)?(z=w.data||[],A=w.layout||{},D=w.config||{},_={}):(w=v.getGraphDiv(w),z=v.extendDeep([],w.data),A=v.extendDeep({},w.layout),D=w._context,_=w._fullLayout||{}),!E("width")&&null!==S.width||!E("height")&&null!==S.height)throw new Error("Height and width should be pixel values.");if(!E("format"))throw new Error("Export format is not "+v.join2(c.format.values,", "," or ")+".");var M={};function L(W,K){return v.coerce(S,M,c,W,K)}var b=L("format"),P=L("width"),I=L("height"),G=L("scale"),$=L("setBackground"),J=L("imageDataOnly"),re=document.createElement("div");re.style.position="absolute",re.style.left="-5000px",document.body.appendChild(re);var O=v.extendFlat({},A);P?O.width=P:null===S.width&&p(_.width)&&(O.width=_.width),I?O.height=I:null===S.height&&p(_.height)&&(O.height=_.height);var Q=v.extendFlat({},D,{_exportedPlot:!0,staticPlot:!0,setBackground:$}),U=d.getRedrawFunc(re);function ne(){return new Promise(function(W){setTimeout(W,d.getDelay(re._fullLayout))})}function le(){return new Promise(function(W,K){var X=y(re,b,G),ie=re._fullLayout.width,ue=re._fullLayout.height;function ce(){T.purge(re),document.body.removeChild(re)}if("full-json"===b){var ge=h.graphJson(re,!1,"keepdata","object",!0,!0);return ge.version=m,ge=JSON.stringify(ge),ce(),W(J?ge:d.encodeJSON(ge))}if(ce(),"svg"===b)return W(J?X:d.encodeSVG(X));var De=document.createElement("canvas");De.id=v.randstr(),g({format:b,width:ie,height:ue,scale:G,canvas:De,svg:X,promise:!0}).then(W).catch(K)})}return new Promise(function(W,K){T.newPlot(re,z,O,Q).then(U).then(ne).then(le).then(function(X){W(function pe(W){return J?W.replace(d.IMAGE_URL_PREFIX,""):W}(X))}).catch(function(X){K(X)})})}},1480:function(Ce,j,o){"use strict";var p=o(3400),T=o(7316),h=o(3060),v=o(556).dfltConfig,d=p.isPlainObject,y=Array.isArray,g=p.isArrayOrTypedArray;function m(M,L,b,P,I,G){G=G||[];for(var $=Object.keys(M),J=0;J<$.length;J++){var re=$[J];if("transforms"!==re){var O=G.slice();O.push(re);var Q=M[re],U=L[re],ne=A(b,re),le=(ne||{}).valType,pe="info_array"===le,W="colorscale"===le,K=(ne||{}).items;if(z(b,re))if(d(Q)&&d(U)&&"any"!==le)m(Q,U,ne,P,I,O);else if(pe&&y(Q)){Q.length>U.length&&P.push(S("unused",I,O.concat(U.length)));var ue,ce,De,Ne,X=U.length,ie=Array.isArray(K);if(ie&&(X=Math.min(X,K.length)),2===ne.dimensions)for(ce=0;ce<X;ce++)if(y(Q[ce])){Q[ce].length>U[ce].length&&P.push(S("unused",I,O.concat(ce,U[ce].length)));var Be=U[ce].length;for(ue=0;ue<(ie?Math.min(Be,K[ce].length):Be);ue++)Ne=U[ce][ue],p.validate(De=Q[ce][ue],ie?K[ce][ue]:K)?Ne!==De&&Ne!==+De&&P.push(S("dynamic",I,O.concat(ce,ue),De,Ne)):P.push(S("value",I,O.concat(ce,ue),De))}else P.push(S("array",I,O.concat(ce),Q[ce]));else for(ce=0;ce<X;ce++)Ne=U[ce],p.validate(De=Q[ce],ie?K[ce]:K)?Ne!==De&&Ne!==+De&&P.push(S("dynamic",I,O.concat(ce),De,Ne)):P.push(S("value",I,O.concat(ce),De))}else if(ne.items&&!pe&&y(Q)){var ye,H,Fe=K[Object.keys(K)[0]],Se=[];for(ye=0;ye<U.length;ye++){var Y=U[ye]._index||ye;if((H=O.slice()).push(Y),d(Q[Y])&&d(U[ye])){Se.push(Y);var te=Q[Y],Z=U[ye];d(te)&&!1!==te.visible&&!1===Z.visible?P.push(S("invisible",I,H)):m(te,Z,Fe,P,I,H)}}for(ye=0;ye<Q.length;ye++)(H=O.slice()).push(ye),d(Q[ye])?-1===Se.indexOf(ye)&&P.push(S("unused",I,H)):P.push(S("object",I,H,Q[ye]))}else!d(Q)&&d(U)?P.push(S("object",I,O,Q)):g(Q)||!g(U)||pe||W?re in L?p.validate(Q,ne)?"enumerated"===ne.valType&&(ne.coerceNumber&&Q!==+U||Q!==U)&&P.push(S("dynamic",I,O,Q,U)):P.push(S("value",I,O,Q)):P.push(S("unused",I,O,Q)):P.push(S("array",I,O,Q));else P.push(S("schema",I,O))}}return P}Ce.exports=function(L,b){void 0===L&&(L=[]),void 0===b&&(b={});var $,J,P=h.get(),I=[],G={_context:p.extendFlat({},v)};y(L)?(G.data=p.extendDeep([],L),$=L):(G.data=[],$=[],I.push(S("array","data"))),d(b)?(G.layout=p.extendDeep({},b),J=b):(G.layout={},J={},arguments.length>1&&I.push(S("object","layout"))),T.supplyDefaults(G);for(var re=G._fullData,O=$.length,Q=0;Q<O;Q++){var U=$[Q],ne=["data",Q];if(d(U)){var le=re[Q],pe=le.type,W=P.traces[pe].attributes;W.type={valType:"enumerated",values:[pe]},!1===le.visible&&!1!==U.visible&&I.push(S("invisible",ne)),m(U,le,W,I,ne);var K=U.transforms,X=le.transforms;if(K){y(K)||I.push(S("array",ne,["transforms"])),ne.push("transforms");for(var ie=0;ie<K.length;ie++){var ue=["transforms",ie],ce=K[ie].type;if(d(K[ie])){var ge=P.transforms[ce]?P.transforms[ce].attributes:{};ge.type={valType:"enumerated",values:Object.keys(P.transforms)},m(K[ie],X[ie],ge,I,ne,ue)}else I.push(S("object",ne,ue))}}}else I.push(S("object",ne))}return m(J,G._fullLayout,function c(M,L){for(var b=M.layout.layoutAttributes,P=0;P<L.length;P++){var I=L[P],G=M.traces[I.type],$=G.layoutAttributes;$&&p.extendFlat(I.subplot?b[G.attributes.subplot.dflt]:b,$)}return b}(P,re),I,"layout"),0===I.length?void 0:I};var C={object:function(M,L){return("layout"===M&&""===L?"The layout argument":"data"===M[0]&&""===L?"Trace "+M[1]+" in the data argument":w(M)+"key "+L)+" must be linked to an object container"},array:function(M,L){return("data"===M?"The data argument":w(M)+"key "+L)+" must be linked to an array container"},schema:function(M,L){return w(M)+"key "+L+" is not part of the schema"},unused:function(M,L,b){var P=d(b)?"container":"key";return w(M)+P+" "+L+" did not get coerced"},dynamic:function(M,L,b,P){return[w(M)+"key",L,"(set to '"+b+"')","got reset to","'"+P+"'","during defaults."].join(" ")},invisible:function(M,L){return(L?w(M)+"item "+L:"Trace "+M[1])+" got defaulted to be not visible"},value:function(M,L,b){return[w(M)+"key "+L,"is set to an invalid value ("+b+")"].join(" ")}};function w(M){return y(M)?"In data trace "+M[1]+", ":"In "+M+", "}function S(M,L,b,P,I){var G,$;b=b||"",y(L)?(G=L[0],$=L[1]):(G=L,$=null);var J=function E(M){if(!y(M))return String(M);for(var L="",b=0;b<M.length;b++){var P=M[b];"number"==typeof P?L=L.substr(0,L.length-1)+"["+P+"]":L+=P,b<M.length-1&&(L+=".")}return L}(b),re=C[M](L,J,P,I);return p.log(re),{code:M,container:G,trace:$,path:b,astr:J,msg:re}}function z(M,L){var b=_(L),P=b.keyMinusId;return!!(P in M&&M[P]._isSubplotObj&&b.id)||L in M}function A(M,L){return L in M?M[L]:M[_(L).keyMinusId]}var D=p.counterRegex("([a-z]+)");function _(M){var L=M.match(D);return{keyMinusId:L&&L[1],id:L&&L[2]}}},5656:function(Ce){"use strict";Ce.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},1272:function(Ce,j,o){"use strict";var p=o(3400),T=o(1780);Ce.exports=function(v,d,y){var z,A,g=y.name,m=y.inclusionAttr||"visible",c=d[g],C=p.isArrayOrTypedArray(v[g])?v[g]:[],w=d[g]=[],S=T.arrayTemplater(d,g,m);for(z=0;z<C.length;z++){var D=C[z];p.isPlainObject(D)?A=S.newItem(D):(A=S.newItem({}))[m]=!1,A._index=z,!1!==A[m]&&y.handleItemDefaults(D,A,d,y),w.push(A)}var _=S.defaultItems();for(z=0;z<_.length;z++)(A=_[z])._index=w.length,y.handleItemDefaults({},A,d,y,{}),w.push(A);if(p.isArrayOrTypedArray(c)){var E=Math.min(c.length,w.length);for(z=0;z<E;z++)p.relinkPrivateKeys(w[z],c[z])}return w}},5464:function(Ce,j,o){"use strict";var p=o(5376),T=o(5756);Ce.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:p({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:T.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},1220:function(Ce,j,o){"use strict";var p=o(8248),T=o(3400),h=T.dateTime2ms,v=T.incrementMonth,y=o(9032).ONEAVGMONTH;Ce.exports=function(m,c,C,w){if("date"!==c.type)return{vals:w};var S=m[C+"periodalignment"];if(!S)return{vals:w};var A,z=m[C+"period"];if(p(z)){if((z=+z)<=0)return{vals:w}}else if("string"==typeof z&&"M"===z.charAt(0)){var D=+z.substring(1);if(!(D>0&&Math.round(D)===D))return{vals:w};A=D}for(var _=c.calendar,E="start"===S,M="end"===S,b=h(m[C+"period0"],_)||0,P=[],I=[],G=[],$=w.length,J=0;J<$;J++){var O,Q,U,re=w[J];if(A){for(O=Math.round((re-b)/(A*y)),U=v(b,A*O,_);U>re;)U=v(U,-A,_);for(;U<=re;)U=v(U,A,_);Q=v(U,-A,_)}else{for(U=b+(O=Math.round((re-b)/z))*z;U>re;)U-=z;for(;U<=re;)U+=z;Q=U-z}P[J]=E?Q:M?U:(Q+U)/2,I[J]=Q,G[J]=U}return{vals:P,starts:I,ends:G}}},6720:function(Ce){"use strict";Ce.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},9280:function(Ce,j,o){"use strict";var p=o(3428),T=o(8248),h=o(3400),v=o(9032).FP_SAFE,d=o(4040),y=o(3616),g=o(9811),m=g.getFromId,c=g.isLinked;function C(Q,U){var ne,le,pe=[],W=Q._fullLayout,K=S(W,U,0),X=S(W,U,1),ie=D(Q,U),ue=ie.min,ce=ie.max;if(0===ue.length||0===ce.length)return h.simpleMap(U.range,U.r2l);var ge=ue[0].val,De=ce[0].val;for(ne=1;ne<ue.length&&ge===De;ne++)ge=Math.min(ge,ue[ne].val);for(ne=1;ne<ce.length&&ge===De;ne++)De=Math.max(De,ce[ne].val);var Ne=U.autorange,Be="reversed"===Ne||"min reversed"===Ne||"max reversed"===Ne;if(!Be&&U.range){var Fe=h.simpleMap(U.range,U.r2l);Be=Fe[1]<Fe[0]}"reversed"===U.autorange&&(U.autorange=!0);var N,ee,B,se,xe,Te,Se=U.rangemode,ye="tozero"===Se,H="nonnegative"===Se,Y=U._length,te=Y/10,Z=0;for(ne=0;ne<ue.length;ne++)for(N=ue[ne],le=0;le<ce.length;le++)(Te=(ee=ce[le]).val-N.val-w(U,N.val,ee.val))>0&&((xe=Y-K(N)-X(ee))>te?Te/xe>Z&&(B=N,se=ee,Z=Te/xe):Te/Y>Z&&(B={val:N.val,nopad:1},se={val:ee.val,nopad:1},Z=Te/Y));if(ge===De){var Oe=ge-1,$e=ge+1;if(ye)if(0===ge)pe=[0,1];else{var ct=(ge>0?ce:ue).reduce(function Ee(gt,ze){return Math.max(gt,X(ze))},0),ft=ge/(1-Math.min(.5,ct/Y));pe=ge>0?[0,ft]:[ft,0]}else pe=H?[Math.max(0,Oe),Math.max(1,$e)]:[Oe,$e]}else ye?(B.val>=0&&(B={val:0,nopad:1}),se.val<=0&&(se={val:0,nopad:1})):H&&(B.val-Z*K(B)<0&&(B={val:0,nopad:1}),se.val<=0&&(se={val:1,nopad:1})),Z=(se.val-B.val-w(U,N.val,ee.val))/(Y-K(B)-X(se)),pe=[B.val-Z*K(B),se.val+Z*X(se)];return pe=O(pe,U),U.limitRange&&U.limitRange(),Be&&pe.reverse(),h.simpleMap(pe,U.l2r||Number)}function w(Q,U,ne){var le=0;if(Q.rangebreaks)for(var pe=Q.locateBreaks(U,ne),W=0;W<pe.length;W++){var K=pe[W];le+=K.max-K.min}return le}function S(Q,U,ne){var le=.05*U._length,pe=U._anchorAxis||{};if(-1!==(U.ticklabelposition||"").indexOf("inside")||-1!==(pe.ticklabelposition||"").indexOf("inside")){var W=U.isReversed();if(!W){var K=h.simpleMap(U.range,U.r2l);W=K[1]<K[0]}W&&(ne=!ne)}var X=0;return c(Q,U._id)||(X=function A(Q,U,ne){var le=0,pe="x"===U._id.charAt(0);for(var W in Q._plots){var K=Q._plots[W];if(U._id===K.xaxis._id||U._id===K.yaxis._id){var X=(pe?K.yaxis:K.xaxis)||{};if(-1!==(X.ticklabelposition||"").indexOf("inside")&&(!ne&&("left"===X.side||"bottom"===X.side)||ne&&("top"===X.side||"right"===X.side))){if(X._vals){var ie=h.deg2rad(X._tickAngles[X._id+"tick"]||0),ue=Math.abs(Math.cos(ie)),ce=Math.abs(Math.sin(ie));X._vals[0].bb||X._selections[X._id+"tick"].each(function(H){var Y=p.select(this);Y.select(".text-math-group").empty()&&(H.bb=y.bBox(Y.node()))});for(var Ne=0;Ne<X._vals.length;Ne++){var Fe=X._vals[Ne].bb;if(Fe){var Se=2*z+Fe.width,ye=2*z+Fe.height;le=Math.max(le,pe?Math.max(Se*ue,ye*ce):Math.max(ye*ue,Se*ce))}}}"inside"===X.ticks&&"inside"===X.ticklabelposition&&(le+=X.ticklen||0)}}}return le}(Q,U,ne)),le=Math.max(X,le),"domain"===U.constrain&&U._inputDomain&&(le*=(U._inputDomain[1]-U._inputDomain[0])/(U.domain[1]-U.domain[0])),function(ue){return ue.nopad?0:ue.pad+(ue.extrapad?le:X)}}Ce.exports={applyAutorangeOptions:O,getAutoRange:C,makePadFn:S,doAutoRange:function _(Q,U,ne){if(U.setScale(),U.autorange){U.range=ne?ne.slice():C(Q,U),U._r=U.range.slice(),U._rl=h.simpleMap(U._r,U.r2l);var le=U._input,pe={};pe[U._attr+".range"]=U.range,pe[U._attr+".autorange"]=U.autorange,d.call("_storeDirectGUIEdit",Q.layout,Q._fullLayout._preGUI,pe),le.range=U.range.slice(),le.autorange=U.autorange}var W=U._anchorAxis;if(W&&W.rangeslider){var K=W.rangeslider[U._name];K&&"auto"===K.rangemode&&(K.range=C(Q,U)),W._input.rangeslider[U._name]=h.extendFlat({},K)}},findExtremes:function E(Q,U,ne){ne||(ne={}),Q._m||Q.setScale();var ge,De,Ne,Be,Fe,Se,ye,H,Y,le=[],pe=[],W=U.length,K=ne.padded||!1,X=ne.tozero&&("linear"===Q.type||"-"===Q.type),ie="log"===Q.type,ue=!1,ce=ne.vpadLinearized||!1;function te(Ee){if(Array.isArray(Ee))return ue=!0,function($e){return Math.max(Number(Ee[$e]||0),0)};var Oe=Math.max(Number(Ee||0),0);return function(){return Oe}}var Z=te((Q._m>0?ne.ppadplus:ne.ppadminus)||ne.ppad||0),N=te((Q._m>0?ne.ppadminus:ne.ppadplus)||ne.ppad||0),ee=te(ne.vpadplus||ne.vpad),B=te(ne.vpadminus||ne.vpad);if(!ue){if(H=1/0,Y=-1/0,ie)for(ge=0;ge<W;ge++)(De=U[ge])<H&&De>0&&(H=De),De>Y&&De<v&&(Y=De);else for(ge=0;ge<W;ge++)(De=U[ge])<H&&De>-v&&(H=De),De>Y&&De<v&&(Y=De);U=[H,Y],W=2}var se={tozero:X,extrapad:K};function xe(Ee){T(Ne=U[Ee])&&(Se=Z(Ee),ye=N(Ee),ce?(Be=Q.c2l(Ne)-B(Ee),Fe=Q.c2l(Ne)+ee(Ee)):(H=Ne-B(Ee),Y=Ne+ee(Ee),ie&&H<Y/10&&(H=Y/10),Be=Q.c2l(H),Fe=Q.c2l(Y)),X&&(Be=Math.min(0,Be),Fe=Math.max(0,Fe)),P(Be)&&M(le,Be,ye,se),P(Fe)&&L(pe,Fe,Se,se))}var Te=Math.min(6,W);for(ge=0;ge<Te;ge++)xe(ge);for(ge=W-1;ge>=Te;ge--)xe(ge);return{min:le,max:pe,opts:ne}},concatExtremes:D};var z=3;function D(Q,U,ne){var ie,ue,ce,le=U._id,W=Q._fullLayout,K=[],X=[];function ge(Se,ye){for(ie=0;ie<ye.length;ie++){var H=Se[ye[ie]],Y=(H._extremes||{})[le];if(!0===H.visible&&Y){for(ue=0;ue<Y.min.length;ue++)M(K,(ce=Y.min[ue]).val,ce.pad,{extrapad:ce.extrapad});for(ue=0;ue<Y.max.length;ue++)L(X,(ce=Y.max[ue]).val,ce.pad,{extrapad:ce.extrapad})}}}if(ge(Q._fullData,U._traceIndices),ge(W.annotations||[],U._annIndices||[]),ge(W.shapes||[],U._shapeIndices||[]),U._matchGroup&&!ne)for(var De in U._matchGroup)if(De!==U._id){var Ne=m(Q,De),Be=D(Q,Ne,!0),Fe=U._length/Ne._length;for(ue=0;ue<Be.min.length;ue++)M(K,(ce=Be.min[ue]).val,ce.pad*Fe,{extrapad:ce.extrapad});for(ue=0;ue<Be.max.length;ue++)L(X,(ce=Be.max[ue]).val,ce.pad*Fe,{extrapad:ce.extrapad})}return{min:K,max:X}}function M(Q,U,ne,le){b(Q,U,ne,le,I)}function L(Q,U,ne,le){b(Q,U,ne,le,G)}function b(Q,U,ne,le,pe){for(var W=le.tozero,K=le.extrapad,X=!0,ie=0;ie<Q.length&&X;ie++){var ue=Q[ie];if(pe(ue.val,U)&&ue.pad>=ne&&(ue.extrapad||!K)){X=!1;break}pe(U,ue.val)&&ue.pad<=ne&&(K||!ue.extrapad)&&(Q.splice(ie,1),ie--)}if(X){var ce=W&&0===U;Q.push({val:U,pad:ce?0:ne,extrapad:!ce&&K})}}function P(Q){return T(Q)&&Math.abs(Q)<v}function I(Q,U){return Q<=U}function G(Q,U){return Q>=U}function $(Q,U){var ne=U.autorangeoptions;return ne&&void 0!==ne.minallowed&&re(U,ne.minallowed,ne.maxallowed)?ne.minallowed:ne&&void 0!==ne.clipmin&&re(U,ne.clipmin,ne.clipmax)?Math.max(Q,U.d2l(ne.clipmin)):Q}function J(Q,U){var ne=U.autorangeoptions;return ne&&void 0!==ne.maxallowed&&re(U,ne.minallowed,ne.maxallowed)?ne.maxallowed:ne&&void 0!==ne.clipmax&&re(U,ne.clipmin,ne.clipmax)?Math.min(Q,U.d2l(ne.clipmax)):Q}function re(Q,U,ne){return void 0===U||void 0===ne||(U=Q.d2l(U))<Q.d2l(ne)}function O(Q,U){if(!U||!U.autorangeoptions)return Q;var ne=Q[0],le=Q[1],pe=U.autorangeoptions.include;if(void 0!==pe){var W=U.d2l(ne),K=U.d2l(le);h.isArrayOrTypedArray(pe)||(pe=[pe]);for(var X=0;X<pe.length;X++){var ie=U.d2l(pe[X]);W>=ie&&(W=ie,ne=ie),K<=ie&&(K=ie,le=ie)}}return[ne=$(ne,U),le=J(le,U)]}},6808:function(Ce){"use strict";Ce.exports=function(o,p,T){var h,v;if(T){var d="reversed"===p||"min reversed"===p||"max reversed"===p;h=T[d?1:0],v=T[d?0:1]}var y=o("autorangeoptions.minallowed",null===v?h:void 0),g=o("autorangeoptions.maxallowed",null===h?v:void 0);void 0===y&&o("autorangeoptions.clipmin"),void 0===g&&o("autorangeoptions.clipmax"),o("autorangeoptions.include")}},4460:function(Ce,j,o){"use strict";var p=o(3428),T=o(8248),h=o(7316),v=o(4040),d=o(3400),y=d.strTranslate,g=o(2736),m=o(1668),c=o(6308),C=o(3616),w=o(4724),S=o(8728),z=o(9032),A=z.ONEMAXYEAR,D=z.ONEAVGYEAR,_=z.ONEMINYEAR,E=z.ONEMAXQUARTER,M=z.ONEAVGQUARTER,L=z.ONEMINQUARTER,b=z.ONEMAXMONTH,P=z.ONEAVGMONTH,I=z.ONEMINMONTH,G=z.ONEWEEK,$=z.ONEDAY,J=$/2,re=z.ONEHOUR,O=z.ONEMIN,Q=z.ONESEC,U=z.ONEMILLI,ne=z.ONEMICROSEC,le=z.MINUS_SIGN,pe=z.BADNUM,W={K:"zeroline"},K={K:"gridline",L:"path"},X={K:"minor-gridline",L:"path"},ie={K:"tick",L:"path"},ue={K:"tick",L:"text"},ce={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},ge=o(4284),De=ge.MID_SHIFT,Ne=ge.CAP_SHIFT,Be=ge.LINE_SPACING,Fe=ge.OPPOSITE_SIDE,ye=Ce.exports={};ye.setConvert=o(8344);var H=o(2976),Y=o(9811),te=Y.idSort,Z=Y.isLinked;ye.id2name=Y.id2name,ye.name2id=Y.name2id,ye.cleanId=Y.cleanId,ye.list=Y.list,ye.listIds=Y.listIds,ye.getFromId=Y.getFromId,ye.getFromTrace=Y.getFromTrace;var N=o(9280);ye.getAutoRange=N.getAutoRange,ye.findExtremes=N.findExtremes;var ee=1e-4;function B(ve){var he=(ve[1]-ve[0])*ee;return[ve[0]-he,ve[1]+he]}ye.coerceRef=function(ve,he,ut,mt,at,it){var ot=mt.charAt(mt.length-1),St=ut._fullLayout._subplots[ot+"axis"],bt=mt+"ref",Et={};return at||(at=St[0]||("string"==typeof it?it:it[0])),it||(it=at),St=St.concat(St.map(function(Nt){return Nt+" domain"})),Et[bt]={valType:"enumerated",values:St.concat(it?"string"==typeof it?[it]:it:[]),dflt:at},d.coerce(ve,he,Et,bt)},ye.getRefType=function(ve){return void 0===ve?ve:"paper"===ve?"paper":"pixel"===ve?"pixel":/( domain)$/.test(ve)?"domain":"range"},ye.coercePosition=function(ve,he,ut,mt,at,it){var ot,St;if("range"!==ye.getRefType(mt))ot=d.ensureNumber,St=ut(at,it);else{var Et=ye.getFromId(he,mt);St=ut(at,it=Et.fraction2r(it)),ot=Et.cleanPos}ve[at]=ot(St)},ye.cleanPosition=function(ve,he,ut){return("paper"===ut||"pixel"===ut?d.ensureNumber:ye.getFromId(he,ut).cleanPos)(ve)},ye.redrawComponents=function(ve,he){he=he||ye.listIds(ve);var ut=ve._fullLayout;function mt(at,it,ot,St){for(var bt=v.getComponentMethod(at,it),Et={},Nt=0;Nt<he.length;Nt++)for(var qt=ut[ye.id2name(he[Nt])][ot],hn=0;hn<qt.length;hn++){var Vt=qt[hn];if(!Et[Vt]&&(bt(ve,Vt),Et[Vt]=1,St))return}}mt("annotations","drawOne","_annIndices"),mt("shapes","drawOne","_shapeIndices"),mt("images","draw","_imgIndices",!0),mt("selections","drawOne","_selectionIndices")};var se=ye.getDataConversions=function(ve,he,ut,mt){var at,it="x"===ut||"y"===ut||"z"===ut?ut:mt;if(d.isArrayOrTypedArray(it)){if(at={type:H(mt,void 0,{autotypenumbers:ve._fullLayout.autotypenumbers}),_categories:[]},ye.setConvert(at),"category"===at.type)for(var ot=0;ot<mt.length;ot++)at.d2c(mt[ot])}else at=ye.getFromTrace(ve,he,it);return at?{d2c:at.d2c,c2d:at.c2d}:"ids"===it?{d2c:Te,c2d:Te}:{d2c:xe,c2d:xe}};function xe(ve){return+ve}function Te(ve){return String(ve)}function $e(ve,he){return Math.abs((ve/he+.5)%1-.5)<.001}function ct(ve,he){return Math.abs(ve/he-1)<.001}function ft(ve){return+ve.substring(1)}function Ve(ve,he){return ve.rangebreaks&&(he=he.filter(function(ut){return ve.maskBreaks(ut.x)!==pe})),he}function Pe(ve){var he=ve._mainAxis,ut=[];if(he._vals)for(var mt=0;mt<he._vals.length;mt++)if(!he._vals[mt].noTick){var at=he.l2p(he._vals[mt].x),it=ve.p2l(at),ot=ye.tickText(ve,it);he._vals[mt].minor&&(ot.minor=!0,ot.text=""),ut.push(ot)}return Ve(ve,ut)}function Qe(ve,he){var mt=B(d.simpleMap(ve.range,ve.r2l)),at=Math.min(mt[0],mt[1]),it=Math.max(mt[0],mt[1]),ot="category"===ve.type?ve.d2l_noadd:ve.d2l;"log"===ve.type&&"L"!==String(ve.dtick).charAt(0)&&(ve.dtick="L"+Math.pow(10,Math.floor(Math.min(ve.range[0],ve.range[1]))-1));for(var St=[],bt=0;bt<=1;bt++)if((void 0===he||!(he&&bt||!1===he&&!bt))&&(!bt||ve.minor)){var Et=bt?ve.minor.tickvals:ve.tickvals,Nt=bt?[]:ve.ticktext;if(Et){d.isArrayOrTypedArray(Nt)||(Nt=[]);for(var It=0;It<Et.length;It++){var qt=ot(Et[It]);if(qt>at&&qt<it){var hn=ye.tickText(ve,qt,!1,String(Nt[It]));bt&&(hn.minor=!0,hn.text=""),St.push(hn)}}}}return Ve(ve,St)}ye.getDataToCoordFunc=function(ve,he,ut,mt){return se(ve,he,ut,mt).d2c},ye.counterLetter=function(ve){var he=ve.charAt(0);return"x"===he?"y":"y"===he?"x":void 0},ye.minDtick=function(ve,he,ut,mt){-1===["log","category","multicategory"].indexOf(ve.type)&&mt?void 0===ve._minDtick?(ve._minDtick=he,ve._forceTick0=ut):ve._minDtick&&((ve._minDtick/he+1e-6)%1<2e-6&&((ut-ve._forceTick0)/he%1+1.000001)%1<2e-6?(ve._minDtick=he,ve._forceTick0=ut):((he/ve._minDtick+1e-6)%1>2e-6||((ut-ve._forceTick0)/ve._minDtick%1+1.000001)%1>2e-6)&&(ve._minDtick=0)):ve._minDtick=0},ye.saveRangeInitial=function(ve,he){for(var ut=ye.list(ve,"",!0),mt=!1,at=0;at<ut.length;at++){var it=ut[at],ot=void 0===it._rangeInitial0&&void 0===it._rangeInitial1,bt=it.autorange;(ot&&!0!==bt||he&&(ot||it.range[0]!==it._rangeInitial0||it.range[1]!==it._rangeInitial1))&&(it._rangeInitial0="min"===bt||"max reversed"===bt?void 0:it.range[0],it._rangeInitial1="max"===bt||"min reversed"===bt?void 0:it.range[1],it._autorangeInitial=bt,mt=!0)}return mt},ye.saveShowSpikeInitial=function(ve,he){for(var ut=ye.list(ve,"",!0),mt=!1,at="on",it=0;it<ut.length;it++){var ot=ut[it],St=void 0===ot._showSpikeInitial;(St||he&&(St||ot.showspikes!==ot._showspikes))&&(ot._showSpikeInitial=ot.showspikes,mt=!0),"on"===at&&!ot.showspikes&&(at="off")}return ve._fullLayout._cartesianSpikesEnabled=at,mt},ye.autoBin=function(ve,he,ut,mt,at,it){var bt,ot=d.aggNums(Math.min,null,ve),St=d.aggNums(Math.max,null,ve);if("category"===he.type||"multicategory"===he.type)return{start:ot-.5,end:St+.5,size:Math.max(1,Math.round(it)||1),_dataSpan:St-ot};if(at||(at=he.calendar),bt="log"===he.type?{type:"linear",range:[ot,St]}:{type:he.type,range:d.simpleMap([ot,St],he.c2r,0,at),calendar:at},ye.setConvert(bt),it=it&&S.dtick(it,bt.type))bt.dtick=it,bt.tick0=S.tick0(void 0,bt.type,at);else{var Et;if(ut)Et=(St-ot)/ut;else{var Nt=d.distinctVals(ve),It=Math.pow(10,Math.floor(Math.log(Nt.minDiff)/Math.LN10)),qt=It*d.roundUp(Nt.minDiff/It,[.9,1.9,4.9,9.9],!0);Et=Math.max(qt,2*d.stdev(ve)/Math.pow(ve.length,mt?.25:.4)),T(Et)||(Et=1)}ye.autoTicks(bt,Et)}var Mn,hn=bt.dtick,Vt=ye.tickIncrement(ye.tickFirst(bt),hn,"reverse",at);if("number"==typeof hn)Mn=(Vt=function Ee(ve,he,ut,mt,at){var it=0,ot=0,St=0,bt=0;function Et(hn){return(1+100*(hn-ve)/ut.dtick)%100<2}for(var Nt=0;Nt<he.length;Nt++)he[Nt]%1==0?St++:T(he[Nt])||bt++,Et(he[Nt])&&it++,Et(he[Nt]+ut.dtick/2)&&ot++;var It=he.length-bt;if(St===It&&"date"!==ut.type)ut.dtick<1?ve=mt-.5*ut.dtick:(ve-=.5)+ut.dtick<mt&&(ve+=ut.dtick);else if(ot<.1*It&&(it>.3*It||Et(mt)||Et(at))){var qt=ut.dtick/2;ve+=ve+qt<mt?qt:-qt}return ve}(Vt,ve,bt,ot,St))+(1+Math.floor((St-Vt)/hn))*hn;else for("M"===bt.dtick.charAt(0)&&(Vt=function Oe(ve,he,ut,mt,at){var it=d.findExactDates(he,at);if(it.exactDays>.8){var St=Number(ut.substr(1));it.exactYears>.8&&St%12==0?ve=ye.tickIncrement(ve,"M6","reverse")+1.5*$:it.exactMonths>.8?ve=ye.tickIncrement(ve,"M1","reverse")+15.5*$:ve-=J;var bt=ye.tickIncrement(ve,ut);if(bt<=mt)return bt}return ve}(Vt,ve,hn,ot,at)),Mn=Vt;Mn<=St;)Mn=ye.tickIncrement(Mn,hn,!1,at);return{start:he.c2r(Vt,0,at),end:he.c2r(Mn,0,at),size:hn,_dataSpan:St-ot}},ye.prepMinorTicks=function(ve,he,ut){if(!he.minor.dtick){delete ve.dtick;var at,mt=he.dtick&&T(he._tmin);if(mt){var it=ye.tickIncrement(he._tmin,he.dtick,!0);at=[he._tmin,.99*it+.01*he._tmin]}else{var ot=d.simpleMap(he.range,he.r2l);at=[ot[0],.8*ot[0]+.2*ot[1]]}if(ve.range=d.simpleMap(at,he.l2r),ve._isMinor=!0,ye.prepTicks(ve,ut),mt){var St=T(he.dtick),bt=T(ve.dtick),Et=St?he.dtick:+he.dtick.substring(1),Nt=bt?ve.dtick:+ve.dtick.substring(1);St&&bt?$e(Et,Nt)?Et===2*G&&Nt===2*$&&(ve.dtick=G):ve.dtick=Et===2*G&&Nt===3*$?G:Et!==G||(he._input.minor||{}).nticks?ct(Et/Nt,2.5)?Et/2:Et:$:"M"===String(he.dtick).charAt(0)?bt?ve.dtick="M1":$e(Et,Nt)?Et>=12&&2===Nt&&(ve.dtick="M3"):ve.dtick=he.dtick:"L"===String(ve.dtick).charAt(0)?"L"===String(he.dtick).charAt(0)?$e(Et,Nt)||(ve.dtick=ct(Et/Nt,2.5)?he.dtick/2:he.dtick):ve.dtick="D1":"D2"===ve.dtick&&+he.dtick>1&&(ve.dtick=1)}ve.range=he.range}void 0===he.minor._tick0Init&&(ve.tick0=he.tick0)},ye.prepTicks=function(ve,he){var ut=d.simpleMap(ve.range,ve.r2l,void 0,void 0,he);if("auto"===ve.tickmode||!ve.dtick){var at,mt=ve.nticks;mt||("category"===ve.type||"multicategory"===ve.type?(at=ve.tickfont?d.bigFont(ve.tickfont.size||12):15,mt=ve._length/at):(at="y"===ve._id.charAt(0)?40:80,mt=d.constrain(ve._length/at,4,9)+1),"radialaxis"===ve._name&&(mt*=2)),ve.minor&&"array"!==ve.minor.tickmode||"array"===ve.tickmode&&(mt*=100),ve._roughDTick=Math.abs(ut[1]-ut[0])/mt,ye.autoTicks(ve,ve._roughDTick),ve._minDtick>0&&ve.dtick<2*ve._minDtick&&(ve.dtick=ve._minDtick,ve.tick0=ve.l2r(ve._forceTick0))}"period"===ve.ticklabelmode&&function gt(ve){var he;function ut(){return!(T(ve.dtick)||"M"!==ve.dtick.charAt(0))}var mt=ut(),at=ye.getTickFormat(ve);if(at){var it=ve._dtickInit!==ve.dtick;/%[fLQsSMX]/.test(at)||(/%[HI]/.test(at)?(he=re,it&&!mt&&ve.dtick<re&&(ve.dtick=re)):/%p/.test(at)?(he=J,it&&!mt&&ve.dtick<J&&(ve.dtick=J)):/%[Aadejuwx]/.test(at)?(he=$,it&&!mt&&ve.dtick<$&&(ve.dtick=$)):/%[UVW]/.test(at)?(he=G,it&&!mt&&ve.dtick<G&&(ve.dtick=G)):/%[Bbm]/.test(at)?(he=P,it&&(mt?ft(ve.dtick)<1:ve.dtick<I)&&(ve.dtick="M1")):/%[q]/.test(at)?(he=M,it&&(mt?ft(ve.dtick)<3:ve.dtick<L)&&(ve.dtick="M3")):/%[Yy]/.test(at)&&(he=D,it&&(mt?ft(ve.dtick)<12:ve.dtick<_)&&(ve.dtick="M12")))}(mt=ut())&&ve.tick0===ve._dowTick0&&(ve.tick0=ve._rawTick0),ve._definedDelta=he}(ve),ve.tick0||(ve.tick0="date"===ve.type?"2000-01-01":0),"date"===ve.type&&ve.dtick<.1&&(ve.dtick=.1),Lt(ve)},ye.calcTicks=function(he,ut){for(var mt=he.type,at=he.calendar,it=he.ticklabelstep,ot="period"===he.ticklabelmode,St=he.range[0]>he.range[1],bt=!he.ticklabelindex||d.isArrayOrTypedArray(he.ticklabelindex)?he.ticklabelindex:[he.ticklabelindex],Et=d.simpleMap(he.range,he.r2l,void 0,void 0,ut),Nt=Et[1]<Et[0],It=Math.min(Et[0],Et[1]),qt=Math.max(Et[0],Et[1]),hn=Math.max(1e3,he._length||0),Vt=[],Mn=[],Wt=[],wn=[],Tn=[],jn=he.minor&&(he.minor.ticks||he.minor.showgrid),or=1;or>=(jn?0:1);or--){var Cr=!or;or?(he._dtickInit=he.dtick,he._tick0Init=he.tick0):(he.minor._dtickInit=he.minor.dtick,he.minor._tick0Init=he.minor.tick0);var nn=or?he:d.extendFlat({},he,he.minor);if(Cr?ye.prepMinorTicks(nn,he,ut):ye.prepTicks(nn,ut),"array"!==nn.tickmode)if("sync"!==nn.tickmode){var si=B(Et),pr=si[0],$r=si[1],na=T(nn.dtick),ka="log"===mt&&!(na||"L"===nn.dtick.charAt(0)),oi=ye.tickFirst(nn,ut);if(or){if(he._tmin=oi,oi<pr!==Nt)break;("category"===mt||"multicategory"===mt)&&($r=Nt?Math.max(-.5,$r):Math.min(he._categories.length-.5,$r))}var br,Fi,Ci=null,li=oi;or&&(na?Fi=he.dtick:"date"===mt?"string"==typeof he.dtick&&"M"===he.dtick.charAt(0)&&(Fi=P*he.dtick.substring(1)):Fi=he._roughDTick,br=Math.round((he.r2l(li)-he.r2l(he.tick0))/Fi)-1);var ui=nn.dtick;for(nn.rangebreaks&&nn._tick0Init!==nn.tick0&&(li=vr(li,he),Nt||(li=ye.tickIncrement(li,ui,!Nt,at))),or&&ot&&(li=ye.tickIncrement(li,ui,!Nt,at),br--);Nt?li>=$r:li<=$r;li=ye.tickIncrement(li,ui,Nt,at)){if(or&&br++,nn.rangebreaks&&!Nt){if(li<pr)continue;if(nn.maskBreaks(li)===pe&&vr(li,nn)>=qt)break}if(Wt.length>hn||li===Ci)break;Ci=li;var kn={value:li};or?(ka&&li!==(0|li)&&(kn.simpleLabel=!0),it>1&&br%it&&(kn.skipLabel=!0),Wt.push(kn)):(kn.minor=!0,wn.push(kn))}}else Wt=[],Vt=Pe(he);else or?(Wt=[],Vt=Qe(he,!Cr)):(wn=[],Mn=Qe(he,!Cr))}var qr;if(!wn||wn.length<2?bt=!1:function bn(ve,he){return/%f/.test(he)?ve>=ne:/%L/.test(he)?ve>=U:/%[SX]/.test(he)?ve>=Q:/%M/.test(he)?ve>=O:/%[HI]/.test(he)?ve>=re:/%p/.test(he)?ve>=J:/%[Aadejuwx]/.test(he)?ve>=$:/%[UVW]/.test(he)?ve>=G:/%[Bbm]/.test(he)?ve>=I:/%[q]/.test(he)?ve>=L:!/%[Yy]/.test(he)||ve>=_}((wn[1].value-wn[0].value)*(St?-1:1),he.tickformat)||(bt=!1),bt){var ur=Wt.concat(wn);ot&&Wt.length&&(ur=ur.slice(1)),(ur=ur.sort(function(ei,Ki){return ei.value-Ki.value}).filter(function(ei,Ki,Er){return 0===Ki||ei.value!==Er[Ki-1].value})).map(function(ei,Ki){return void 0!==ei.minor||ei.skipLabel?null:Ki}).filter(function(ei){return null!==ei}).forEach(function(ei){bt.map(function(Ki){var Er=ei+Ki;Er>=0&&Er<ur.length&&d.pushUnique(Tn,ur[Er])})})}else Tn=Wt;if(jn&&!("inside"===he.minor.ticks&&"outside"===he.ticks||"outside"===he.minor.ticks&&"inside"===he.ticks)){for(var Vi=Wt.map(function(ei){return ei.value}),Si=[],zi=0;zi<wn.length;zi++){var ya=wn[zi],ki=ya.value;if(-1===Vi.indexOf(ki)){for(var Zi=!1,mi=0;!Zi&&mi<Wt.length;mi++)1e7+Wt[mi].value===1e7+ki&&(Zi=!0);Zi||Si.push(ya)}}wn=Si}if(ot&&function ze(ve,he,ut){for(var mt=0;mt<ve.length;mt++){var at=ve[mt].value,it=mt,ot=mt+1;mt<ve.length-1?(it=mt,ot=mt+1):mt>0?(it=mt-1,ot=mt):(it=mt,ot=mt);var qt,Et=Math.abs(ve[ot].value-ve[it].value),Nt=ut||Et,It=0;Nt>=_?It=Et>=_&&Et<=A?Et:D:ut===M&&Nt>=L?It=Et>=L&&Et<=E?Et:M:Nt>=I?It=Et>=I&&Et<=b?Et:P:ut===G&&Nt>=G?It=G:Nt>=$?It=$:ut===J&&Nt>=J?It=J:ut===re&&Nt>=re&&(It=re),It>=Et&&(It=Et,qt=!0);var hn=at+It;if(he.rangebreaks&&It>0){for(var Mn=0,Wt=0;Wt<84;Wt++){var wn=(Wt+.5)/84;he.maskBreaks(at*(1-wn)+wn*hn)!==pe&&Mn++}(It*=Mn/84)||(ve[mt].drop=!0),qt&&Et>G&&(It=Et)}(It>0||0===mt)&&(ve[mt].periodX=at+It/2)}}(Tn,he,he._definedDelta),he.rangebreaks){var da="y"===he._id.charAt(0),Ua=1;"auto"===he.tickmode&&(Ua=he.tickfont?he.tickfont.size:12);var ls=NaN;for(qr=Wt.length-1;qr>-1;qr--)if(Wt[qr].drop)Wt.splice(qr,1);else{Wt[qr].value=vr(Wt[qr].value,he);var Ei=he.c2p(Wt[qr].value);(da?ls>Ei-Ua:ls<Ei+Ua)?Wt.splice(Nt?qr+1:qr,1):ls=Ei}}Fn(he)&&360===Math.abs(Et[1]-Et[0])&&Wt.pop(),he._tmax=(Wt[Wt.length-1]||{}).value,he._prevDateHead="",he._inCalcTicks=!0;var ba,Yr,oa=function(ei){ei.text="",he._prevDateHead=ba};function zr(ei,Ki){var Er=ye.tickText(ei,Ki.value,!1,Ki.simpleLabel),Ni=Ki.periodX;return void 0!==Ni&&(Er.periodX=Ni,(Ni>qt||Ni<It)&&(Ni>qt&&(Er.periodX=qt),Ni<It&&(Er.periodX=It),oa(Er))),Er}for(Wt=Wt.concat(wn),qr=0;qr<Wt.length;qr++){var Rs=Wt[qr].value;Wt[qr].minor?((Yr=bt&&-1!==Tn.indexOf(Wt[qr])?zr(he,Wt[qr]):{x:Rs}).minor=!0,Mn.push(Yr)):(ba=he._prevDateHead,Yr=zr(he,Wt[qr]),(Wt[qr].skipLabel||bt&&-1===Tn.indexOf(Wt[qr]))&&oa(Yr),Vt.push(Yr))}return Vt=Vt.concat(Mn),he._inCalcTicks=!1,ot&&Vt.length&&(Vt[0].noTick=!0),Vt};var Ke=[2,5,10],dt=[1,2,3,6,12],Dt=[1,2,5,10,15,30],$t=[1,2,3,7,14],Ot=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],kt=[-.301,0,.301,.699,1],At=[15,30,45,90,180];function Gt(ve,he,ut){return he*d.roundUp(ve/he,ut)}function Lt(ve){var he=ve.dtick;if(ve._tickexponent=0,!T(he)&&"string"!=typeof he&&(he=1),("category"===ve.type||"multicategory"===ve.type)&&(ve._tickround=null),"date"===ve.type){var ut=ve.r2l(ve.tick0),mt=ve.l2r(ut).replace(/(^-|i)/g,""),at=mt.length;if("M"===String(he).charAt(0))ve._tickround=at>10||"01-01"!==mt.substr(5)?"d":+he.substr(1)%12==0?"y":"m";else if(he>=$&&at<=10||he>=15*$)ve._tickround="d";else if(he>=O&&at<=16||he>=re)ve._tickround="M";else if(he>=Q&&at<=19||he>=O)ve._tickround="S";else{var it=ve.l2r(ut+he).replace(/^-/,"").length;ve._tickround=Math.max(at,it)-20,ve._tickround<0&&(ve._tickround=4)}}else if(T(he)||"L"===he.charAt(0)){var ot=ve.range.map(ve.r2d||Number);T(he)||(he=Number(he.substr(1))),ve._tickround=2-Math.floor(Math.log(he)/Math.LN10+.01);var St=Math.max(Math.abs(ot[0]),Math.abs(ot[1])),bt=Math.floor(Math.log(St)/Math.LN10+.01),Et=void 0===ve.minexponent?3:ve.minexponent;Math.abs(bt)>Et&&(ve._tickexponent=Me(ve.exponentformat)&&!_e(bt)?3*Math.round((bt-1)/3):bt)}else ve._tickround=null}function Qt(ve,he,ut){var mt=ve.tickfont||{};return{x:he,dx:0,dy:0,text:ut||"",fontSize:mt.size,font:mt.family,fontWeight:mt.weight,fontStyle:mt.style,fontVariant:mt.variant,fontTextcase:mt.textcase,fontLineposition:mt.lineposition,fontShadow:mt.shadow,fontColor:mt.color}}function yt(ve,he,ut,mt,at){if("radians"!==ve.thetaunit||ut)he.text=He(he.x,ve,at,mt);else{var it=he.x/180;if(0===it)he.text="0";else{var ot=function ke(ve){function he(St,bt){return Math.abs(St-bt)<=1e-6}function ut(St,bt){return he(bt,0)?St:ut(bt,St%bt)}function mt(St){for(var bt=1;!he(Math.round(St*bt)/bt,St);)bt*=10;return bt}var at=mt(ve),it=ve*at,ot=Math.abs(ut(it,at));return[Math.round(it/ot),Math.round(at/ot)]}(it);if(ot[1]>=100)he.text=He(d.deg2rad(he.x),ve,at,mt);else{var St=he.x<0;he.text=1===ot[1]?1===ot[0]?"\u03c0":ot[0]+"\u03c0":["<sup>",ot[0],"</sup>","\u2044","<sub>",ot[1],"</sub>","\u03c0"].join(""),St&&(he.text=le+he.text)}}}}ye.autoTicks=function(ve,he,ut){var mt;function at(It){return Math.pow(It,Math.floor(Math.log(he)/Math.LN10))}if("date"===ve.type){ve.tick0=d.dateTick0(ve.calendar,0);var it=2*he;if(it>D)he/=D,mt=at(10),ve.dtick="M"+12*Gt(he,mt,Ke);else if(it>P)ve.dtick="M"+Gt(he/=P,1,dt);else if(it>$){if(ve.dtick=Gt(he,$,ve._hasDayOfWeekBreaks?[1,2,7,14]:$t),!ut){var ot=ye.getTickFormat(ve),St="period"===ve.ticklabelmode;St&&(ve._rawTick0=ve.tick0),ve.tick0=/%[uVW]/.test(ot)?d.dateTick0(ve.calendar,2):d.dateTick0(ve.calendar,1),St&&(ve._dowTick0=ve.tick0)}}else it>re?ve.dtick=Gt(he,re,dt):it>O?ve.dtick=Gt(he,O,Dt):it>Q?ve.dtick=Gt(he,Q,Dt):(mt=at(10),ve.dtick=Gt(he,mt,Ke))}else if("log"===ve.type){ve.tick0=0;var bt=d.simpleMap(ve.range,ve.r2l);if(ve._isMinor&&(he*=1.5),he>.7)ve.dtick=Math.ceil(he);else if(Math.abs(bt[1]-bt[0])<1){var Et=1.5*Math.abs((bt[1]-bt[0])/he);he=Math.abs(Math.pow(10,bt[1])-Math.pow(10,bt[0]))/Et,mt=at(10),ve.dtick="L"+Gt(he,mt,Ke)}else ve.dtick=he>.3?"D2":"D1"}else"category"===ve.type||"multicategory"===ve.type?(ve.tick0=0,ve.dtick=Math.ceil(Math.max(he,1))):Fn(ve)?(ve.tick0=0,ve.dtick=Gt(he,mt=1,At)):(ve.tick0=0,mt=at(10),ve.dtick=Gt(he,mt,Ke));if(0===ve.dtick&&(ve.dtick=1),!T(ve.dtick)&&"string"!=typeof ve.dtick){var Nt=ve.dtick;throw ve.dtick=1,"ax.dtick error: "+String(Nt)}},ye.tickIncrement=function(ve,he,ut,mt){var at=ut?-1:1;if(T(he))return d.increment(ve,at*he);var it=he.charAt(0),ot=at*Number(he.substr(1));if("M"===it)return d.incrementMonth(ve,ot,mt);if("L"===it)return Math.log(Math.pow(10,ve)+ot)/Math.LN10;if("D"===it){var St="D2"===he?kt:Ot,bt=ve+.01*at,Et=d.roundUp(d.mod(bt,1),St,ut);return Math.floor(bt)+Math.log(p.round(Math.pow(10,Et),1))/Math.LN10}throw"unrecognized dtick "+String(he)},ye.tickFirst=function(ve,he){var ut=ve.r2l||Number,mt=d.simpleMap(ve.range,ut,void 0,void 0,he),at=mt[1]<mt[0],it=at?Math.floor:Math.ceil,ot=B(mt)[0],St=ve.dtick,bt=ut(ve.tick0);if(T(St)){var Et=it((ot-bt)/St)*St+bt;return("category"===ve.type||"multicategory"===ve.type)&&(Et=d.constrain(Et,0,ve._categories.length-1)),Et}var Nt=St.charAt(0),It=Number(St.substr(1));if("M"===Nt){for(var Vt,Mn,Wt,qt=0,hn=bt;qt<10;){if(((Vt=ye.tickIncrement(hn,St,at,ve.calendar))-ot)*(hn-ot)<=0)return at?Math.min(hn,Vt):Math.max(hn,Vt);Mn=(ot-(hn+Vt)/2)/(Vt-hn),Wt=Nt+(Math.abs(Math.round(Mn))||1)*It,hn=ye.tickIncrement(hn,Wt,Mn<0?!at:at,ve.calendar),qt++}return d.error("tickFirst did not converge",ve),hn}if("L"===Nt)return Math.log(it((Math.pow(10,ot)-bt)/It)*It+bt)/Math.LN10;if("D"===Nt){var wn="D2"===St?kt:Ot,Tn=d.roundUp(d.mod(ot,1),wn,at);return Math.floor(ot)+Math.log(p.round(Math.pow(10,Tn),1))/Math.LN10}throw"unrecognized dtick "+String(St)},ye.tickText=function(ve,he,ut,mt){var Et,at=Qt(ve,he),it="array"===ve.tickmode,ot=ut||it,St=ve.type,bt="category"===St?ve.d2l_noadd:ve.d2l,Nt=function(Wt){var wn=ve.l2p(Wt);return wn>=0&&wn<=ve._length?Wt:null};if(it&&d.isArrayOrTypedArray(ve.ticktext)){var It=d.simpleMap(ve.range,ve.r2l),qt=(Math.abs(It[1]-It[0])-(ve._lBreaks||0))/1e4;for(Et=0;Et<ve.ticktext.length&&!(Math.abs(he-bt(ve.tickvals[Et]))<qt);Et++);if(Et<ve.ticktext.length)return at.text=String(ve.ticktext[Et]),at.xbnd=[Nt(at.x-.5),Nt(at.x+ve.dtick-.5)],at}function hn(Wt){return void 0===Wt||(ut?"none"===Wt:"all"!==Wt&&he!=={first:ve._tmin,last:ve._tmax}[Wt])}var Vt=ut?"never":"none"!==ve.exponentformat&&hn(ve.showexponent)?"hide":"";if("date"===St?function Jt(ve,he,ut,mt){var at=ve._tickround,it=ut&&ve.hoverformat||ye.getTickFormat(ve);(mt=!it&&mt)&&(at=T(at)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[at]);var St,ot=d.formatDate(he.x,it,at,ve._dateFormat,ve.calendar,ve._extraFormat),bt=ot.indexOf("\n");if(-1!==bt&&(St=ot.substr(bt+1),ot=ot.substr(0,bt)),mt&&(void 0===St||"00:00:00"!==ot&&"00:00"!==ot?8===ot.length&&(ot=ot.replace(/:00$/,"")):(ot=St,St="")),St)if(ut)"d"===at?ot+=", "+St:ot=St+(ot?", "+ot:"");else if(ve._inCalcTicks&&ve._prevDateHead===St){var Et=ir(ve),Nt=ve._trueSide||ve.side;(!Et&&"top"===Nt||Et&&"bottom"===Nt)&&(ot+="<br> ")}else ve._prevDateHead=St,ot+="<br>"+St;he.text=ot}(ve,at,ut,ot):"log"===St?function en(ve,he,ut,mt,at){var it=ve.dtick,ot=he.x,St=ve.tickformat,bt="string"==typeof it&&it.charAt(0);if("never"===at&&(at=""),mt&&"L"!==bt&&(it="L3",bt="L"),St||"L"===bt)he.text=He(Math.pow(10,ot),ve,at,mt);else if(T(it)||"D"===bt&&d.mod(ot+.01,1)<.1){var Et=Math.round(ot),Nt=Math.abs(Et),It=ve.exponentformat;"power"===It||Me(It)&&_e(Et)?(he.text=0===Et?1:1===Et?"10":"10<sup>"+(Et>1?"":le)+Nt+"</sup>",he.fontSize*=1.25):("e"===It||"E"===It)&&Nt>2?he.text="1"+It+(Et>0?"+":le)+Nt:(he.text=He(Math.pow(10,ot),ve,"","fakehover"),"D1"===it&&"y"===ve._id.charAt(0)&&(he.dy-=he.fontSize/6))}else{if("D"!==bt)throw"unrecognized dtick "+String(it);he.text=String(Math.round(Math.pow(10,d.mod(ot,1)))),he.fontSize*=.75}if("D1"===ve.dtick){var qt=String(he.text).charAt(0);("0"===qt||"1"===qt)&&("y"===ve._id.charAt(0)?he.dx-=he.fontSize/4:(he.dy+=he.fontSize/2,he.dx+=(ve.range[1]>ve.range[0]?1:-1)*he.fontSize*(ot<0?.5:.25)))}}(ve,at,0,ot,Vt):"category"===St?function sn(ve,he){var ut=ve._categories[Math.round(he.x)];void 0===ut&&(ut=""),he.text=String(ut)}(ve,at):"multicategory"===St?function pt(ve,he,ut){var mt=Math.round(he.x),at=ve._categories[mt]||[],it=void 0===at[1]?"":String(at[1]),ot=void 0===at[0]?"":String(at[0]);ut?he.text=ot+" - "+it:(he.text=it,he.text2=ot)}(ve,at,ut):Fn(ve)?yt(ve,at,ut,ot,Vt):function xt(ve,he,ut,mt,at){"never"===at?at="":"all"===ve.showexponent&&Math.abs(he.x/ve.dtick)<1e-6&&(at="hide"),he.text=He(he.x,ve,at,mt)}(ve,at,0,ot,Vt),mt||(ve.tickprefix&&!hn(ve.showtickprefix)&&(at.text=ve.tickprefix+at.text),ve.ticksuffix&&!hn(ve.showticksuffix)&&(at.text+=ve.ticksuffix)),ve.labelalias&&ve.labelalias.hasOwnProperty(at.text)){var Mn=ve.labelalias[at.text];"string"==typeof Mn&&(at.text=Mn)}return("boundaries"===ve.tickson||ve.showdividers)&&(at.xbnd=[Nt(at.x-.5),Nt(at.x+ve.dtick-.5)]),at},ye.hoverLabelText=function(ve,he,ut){ut&&(ve=d.extendFlat({},ve,{hoverformat:ut}));var mt=d.isArrayOrTypedArray(he)?he[0]:he,at=d.isArrayOrTypedArray(he)?he[1]:void 0;if(void 0!==at&&at!==mt)return ye.hoverLabelText(ve,mt,ut)+" - "+ye.hoverLabelText(ve,at,ut);var it="log"===ve.type&&mt<=0,ot=ye.tickText(ve,ve.c2l(it?-mt:mt),"hover").text;return it?0===mt?"0":le+ot:ot};var Xe=["f","p","n","\u03bc","m","","k","M","G","T"];function Me(ve){return"SI"===ve||"B"===ve}function _e(ve){return ve>14||ve<-15}function He(ve,he,ut,mt){var at=ve<0,it=he._tickround,ot=ut||he.exponentformat||"B",St=he._tickexponent,bt=ye.getTickFormat(he),Et=he.separatethousands;if(mt){var Nt={exponentformat:ot,minexponent:he.minexponent,dtick:"none"===he.showexponent?he.dtick:T(ve)&&Math.abs(ve)||1,range:"none"===he.showexponent?he.range.map(he.r2d):[0,ve||1]};Lt(Nt),it=(Number(Nt._tickround)||0)+4,St=Nt._tickexponent,he.hoverformat&&(bt=he.hoverformat)}if(bt)return he._numFormat(bt)(ve).replace(/-/g,le);var Vt,It=Math.pow(10,-it)/2;if("none"===ot&&(St=0),(ve=Math.abs(ve))<It)ve="0",at=!1;else{if(ve+=It,St&&(ve*=Math.pow(10,-St),it+=St),0===it)ve=String(Math.floor(ve));else if(it<0){ve=(ve=String(Math.round(ve))).substr(0,ve.length+it);for(var qt=it;qt<0;qt++)ve+="0"}else{var hn=(ve=String(ve)).indexOf(".")+1;hn&&(ve=ve.substr(0,hn+it).replace(/\.?0+$/,""))}ve=d.numSeparate(ve,he._separators,Et)}return St&&"hide"!==ot&&(Me(ot)&&_e(St)&&(ot="power"),Vt=St<0?le+-St:"power"!==ot?"+"+St:String(St),"e"===ot||"E"===ot?ve+=ot+Vt:"power"===ot?ve+="\xd710<sup>"+Vt+"</sup>":"B"===ot&&9===St?ve+="B":Me(ot)&&(ve+=Xe[St/3+5])),at?le+ve:ve}function We(ve,he){if(ve){var ut=Object.keys(ce).reduce(function(mt,at){return-1!==he.indexOf(at)&&ce[at].forEach(function(it){mt[it]=1}),mt},{});Object.keys(ve).forEach(function(mt){ut[mt]||(1===mt.length?ve[mt]=0:delete ve[mt])})}}function nt(ve,he){for(var ut=[],mt={},at=0;at<he.length;at++){var it=he[at];mt[it.text2]?mt[it.text2].push(it.x):mt[it.text2]=[it.x]}for(var ot in mt)ut.push(Qt(ve,d.interp(mt[ot],.5),ot));return ut}function Ct(ve){return void 0!==ve.periodX?ve.periodX:ve.x}function Pt(ve){return[ve.text,ve.x,ve.axInfo,ve.font,ve.fontSize,ve.fontColor].join("_")}function _n(ve){var he=ve.title.font.size,ut=(ve.title.text.match(g.BR_TAG_ALL)||[]).length;return ve.title.hasOwnProperty("standoff")?he*(Ne+ut*Be):ut?he*(ut+1)*Be:he}function Vn(ve,he){var ut=ve.l2p(he);return ut>1&&ut<ve._length-1}function Rn(ve){var he=p.select(ve),ut=he.select(".text-math-group");return ut.empty()?he.select("text"):ut}function En(ve){return ve._id+".automargin"}function Pn(ve){return En(ve)+".mirror"}function Zn(ve){return ve._id+".rangeslider"}function mn(ve,he){for(var ut=0;ut<he.length;ut++)-1===ve.indexOf(he[ut])&&ve.push(he[ut])}function Wn(ve,he,ut){var ot,St,mt=[],at=[],it=ve.layout;for(ot=0;ot<he.length;ot++)mt.push(ye.getFromId(ve,he[ot]));for(ot=0;ot<ut.length;ot++)at.push(ye.getFromId(ve,ut[ot]));var bt=Object.keys(w),Et=["anchor","domain","overlaying","position","side","tickangle","editType"],Nt=["linear","log"];for(ot=0;ot<bt.length;ot++){var It=bt[ot],qt=mt[0][It],hn=at[0][It],Vt=!0,Mn=!1,Wt=!1;if("_"!==It.charAt(0)&&"function"!=typeof qt&&-1===Et.indexOf(It)){for(St=1;St<mt.length&&Vt;St++){var wn=mt[St][It];"type"===It&&-1!==Nt.indexOf(qt)&&-1!==Nt.indexOf(wn)&&qt!==wn?Mn=!0:wn!==qt&&(Vt=!1)}for(St=1;St<at.length&&Vt;St++){var Tn=at[St][It];"type"===It&&-1!==Nt.indexOf(hn)&&-1!==Nt.indexOf(Tn)&&hn!==Tn?Wt=!0:at[St][It]!==hn&&(Vt=!1)}Vt&&(Mn&&(it[mt[0]._name].type="linear"),Wt&&(it[at[0]._name].type="linear"),In(it,It,mt,at,ve._fullLayout._dfltTitle))}}for(ot=0;ot<ve._fullLayout.annotations.length;ot++){var jn=ve._fullLayout.annotations[ot];-1!==he.indexOf(jn.xref)&&-1!==ut.indexOf(jn.yref)&&d.swapAttrs(it.annotations[ot],["?"])}}function In(ve,he,ut,mt,at){var bt,it=d.nestedProperty,ot=it(ve[ut[0]._name],he).get(),St=it(ve[mt[0]._name],he).get();for("title"===he&&(ot&&ot.text===at.x&&(ot.text=at.y),St&&St.text===at.y&&(St.text=at.x)),bt=0;bt<ut.length;bt++)it(ve,ut[bt]._name+"."+he).set(St);for(bt=0;bt<mt.length;bt++)it(ve,mt[bt]._name+"."+he).set(ot)}function Fn(ve){return"angularaxis"===ve._id}function vr(ve,he){for(var ut=he._rangebreaks.length,mt=0;mt<ut;mt++){var at=he._rangebreaks[mt];if(ve>=at.min&&ve<at.max)return at.max}return ve}function ir(ve){return-1!==(ve.ticklabelposition||"").indexOf("inside")}function On(ve,he){ir(ve._anchorAxis||{})&&ve._hideCounterAxisInsideTickLabels&&ve._hideCounterAxisInsideTickLabels(he)}function hr(ve,he,ut,mt){var it,at="free"===ve.anchor||void 0!==ve.overlaying&&!1!==ve.overlaying?ve.overlaying:ve._id;it=mt?"right"===ve.side?he:-he:he,at in ut||(ut[at]={}),ve.side in ut[at]||(ut[at][ve.side]=0),ut[at][ve.side]+=it}ye.getTickFormat=function(ve){var he,ot,St,bt,Et,It,qt,hn;function ut(bt){return"string"!=typeof bt?bt:Number(bt.replace("M",""))*P}function mt(bt,Et){var Nt=["L","D"];if(typeof bt==typeof Et){if("number"==typeof bt)return bt-Et;var It=Nt.indexOf(bt.charAt(0)),qt=Nt.indexOf(Et.charAt(0));return It===qt?Number(bt.replace(/(L|D)/g,""))-Number(Et.replace(/(L|D)/g,"")):It-qt}return"number"==typeof bt?1:-1}function it(bt,Et){var Nt=null===Et[0],It=null===Et[1],qt=mt(bt,Et[0])>=0,hn=mt(bt,Et[1])<=0;return(Nt||qt)&&(It||hn)}if(ve.tickformatstops&&ve.tickformatstops.length>0)switch(ve.type){case"date":case"linear":for(he=0;he<ve.tickformatstops.length;he++)if((St=ve.tickformatstops[he]).enabled&&(bt=ve.dtick,It=void 0,qt=void 0,hn=void 0,It=ut||function(Vt){return Vt},hn=(Et=St.dtickrange)[1],(!(qt=Et[0])&&"number"!=typeof qt||It(qt)<=It(bt))&&(!hn&&"number"!=typeof hn||It(hn)>=It(bt)))){ot=St;break}break;case"log":for(he=0;he<ve.tickformatstops.length;he++)if((St=ve.tickformatstops[he]).enabled&&it(ve.dtick,St.dtickrange)){ot=St;break}}return ot?ot.value:ve.tickformat},ye.getSubplots=function(ve,he){var ut=ve._fullLayout._subplots,mt=ut.cartesian.concat(ut.gl2d||[]),at=he?ye.findSubplotsWithAxis(mt,he):mt;return at.sort(function(it,ot){var St=it.substr(1).split("y"),bt=ot.substr(1).split("y");return St[0]===bt[0]?+St[1]-+bt[1]:+St[0]-+bt[0]}),at},ye.findSubplotsWithAxis=function(ve,he){for(var ut=new RegExp("x"===he._id.charAt(0)?"^"+he._id+"y":he._id+"$"),mt=[],at=0;at<ve.length;at++){var it=ve[at];ut.test(it)&&mt.push(it)}return mt},ye.makeClipPaths=function(ve){var he=ve._fullLayout;if(!he._hasOnlyLargeSploms){var St,bt,ut={_offset:0,_length:he.width,_id:""},mt={_offset:0,_length:he.height,_id:""},at=ye.list(ve,"x",!0),it=ye.list(ve,"y",!0),ot=[];for(St=0;St<at.length;St++)for(ot.push({x:at[St],y:mt}),bt=0;bt<it.length;bt++)0===St&&ot.push({x:ut,y:it[bt]}),ot.push({x:at[St],y:it[bt]});var Et=he._clips.selectAll(".axesclip").data(ot,function(Nt){return Nt.x._id+Nt.y._id});Et.enter().append("clipPath").classed("axesclip",!0).attr("id",function(Nt){return"clip"+he._uid+Nt.x._id+Nt.y._id}).append("rect"),Et.exit().remove(),Et.each(function(Nt){p.select(this).select("rect").attr({x:Nt.x._offset||0,y:Nt.y._offset||0,width:Nt.x._length||1,height:Nt.y._length||1})})}},ye.draw=function(ve,he,ut){var mt=ve._fullLayout;"redraw"===he&&mt._paper.selectAll("g.subplot").each(function(bt){var Nt=mt._plots[bt[0]];if(Nt){var It=Nt.xaxis,qt=Nt.yaxis;Nt.xaxislayer.selectAll("."+It._id+"tick").remove(),Nt.yaxislayer.selectAll("."+qt._id+"tick").remove(),Nt.xaxislayer.selectAll("."+It._id+"tick2").remove(),Nt.yaxislayer.selectAll("."+qt._id+"tick2").remove(),Nt.xaxislayer.selectAll("."+It._id+"divider").remove(),Nt.yaxislayer.selectAll("."+qt._id+"divider").remove(),Nt.minorGridlayer&&Nt.minorGridlayer.selectAll("path").remove(),Nt.gridlayer&&Nt.gridlayer.selectAll("path").remove(),Nt.zerolinelayer&&Nt.zerolinelayer.selectAll("path").remove(),mt._infolayer.select(".g-"+It._id+"title").remove(),mt._infolayer.select(".g-"+qt._id+"title").remove()}});var at=he&&"redraw"!==he?he:ye.listIds(ve),ot=ye.list(ve).filter(function(bt){return bt.autoshift}).map(function(bt){return bt.overlaying});at.map(function(bt){var Et=ye.getFromId(ve,bt);if("sync"===Et.tickmode&&Et.overlaying){var Nt=at.findIndex(function(It){return It===Et.overlaying});Nt>=0&&at.unshift(at.splice(Nt,1).shift())}});var St={false:{left:0,right:0}};return d.syncOrAsync(at.map(function(bt){return function(){if(bt){var Et=ye.getFromId(ve,bt);ut||(ut={}),ut.axShifts=St,ut.overlayingShiftedAx=ot;var Nt=ye.drawOne(ve,Et,ut);return Et._shiftPusher&&hr(Et,Et._fullDepth||0,St,!0),Et._r=Et.range.slice(),Et._rl=d.simpleMap(Et._r,Et.r2l),Nt}}}))},ye.drawOne=function(ve,he,ut){var it,ot,St,mt=(ut=ut||{}).axShifts||{},at=ut.overlayingShiftedAx||[];he.setScale();var bt=ve._fullLayout,Et=he._id,Nt=Et.charAt(0),It=ye.counterLetter(Et),qt=bt._plots[he._mainSubplot];if(qt){if(he._shiftPusher=he.autoshift||-1!==at.indexOf(he._id)||-1!==at.indexOf(he.overlaying),he._shiftPusher&"free"===he.anchor){var hn=he.linewidth/2||0;"inside"===he.ticks&&(hn+=he.ticklen),hr(he,hn,mt,!0),hr(he,he.shift||0,mt,!1)}(!0!==ut.skipTitle||void 0===he._shift)&&(he._shift=function rr(ve,he){return ve.autoshift?he[ve.overlaying][ve.side]:ve.shift||0}(he,mt));var Vt=qt[Nt+"axislayer"],Mn=he._mainLinePosition,Wt=Mn+=he._shift,wn=he._mainMirrorPosition,Tn=he._vals=ye.calcTicks(he),jn=[he.mirror,Wt,wn].join("_");for(it=0;it<Tn.length;it++)Tn[it].axInfo=jn;he._selections={},he._tickAngles&&(he._prevTickAngles=he._tickAngles),he._tickAngles={},he._depth=null;var or={};if(he.visible){var pr,$r,nn=ye.makeTransTickFn(he),si=ye.makeTransTickLabelFn(he),na="inside"===he.ticks,ka="outside"===he.ticks;if("boundaries"===he.tickson){var oi=function Ze(ve,he){var mt,ut=[],at=function(it,ot){var St=it.xbnd[ot];null!==St&&ut.push(d.extendFlat({},it,{x:St}))};if(he.length){for(mt=0;mt<he.length;mt++)at(he[mt],0);at(he[mt-1],1)}return ut}(0,Tn);$r=ye.clipEnds(he,oi),pr=na?$r:oi}else $r=ye.clipEnds(he,Tn),pr=na&&"period"!==he.ticklabelmode?$r:Tn;var Ci=he._gridVals=$r,li=function Bt(ve,he){var mt,at,ut=[],it=he.length&&he[he.length-1].x<he[0].x,ot=function(bt,Et){var Nt=bt.xbnd[Et];null!==Nt&&ut.push(d.extendFlat({},bt,{x:Nt}))};if(ve.showdividers&&he.length){for(mt=0;mt<he.length;mt++){var St=he[mt];St.text2!==at&&ot(St,it?1:0),at=St.text2}ot(he[mt-1],it?0:1)}return ut}(he,Tn);if(!bt._hasOnlyLargeSploms){var br=he._subplotsWith,Fi={};for(it=0;it<br.length;it++){var ui=(St=bt._plots[ot=br[it]])[It+"axis"],kn=ui._mainAxis._id;if(!Fi[kn]){Fi[kn]=1;var yr="x"===Nt?"M0,"+ui._offset+"v"+ui._length:"M"+ui._offset+",0h"+ui._length;ye.drawGrid(ve,he,{vals:Ci,counterAxis:ui,layer:St.gridlayer.select("."+Et),minorLayer:St.minorGridlayer.select("."+Et),path:yr,transFn:nn}),ye.drawZeroLine(ve,he,{counterAxis:ui,layer:St.zerolinelayer,path:yr,transFn:nn})}}}var ur,Hr=ye.getTickSigns(he),xi=ye.getTickSigns(he,"minor");if(he.ticks||he.minor&&he.minor.ticks){var zi,ya,ki,Zi,Vi=ye.makeTickPath(he,Wt,Hr[2]),Si=ye.makeTickPath(he,Wt,xi[2],{minor:!0});if(he._anchorAxis&&he.mirror&&!0!==he.mirror?(zi=ye.makeTickPath(he,wn,Hr[3]),ya=ye.makeTickPath(he,wn,xi[3],{minor:!0}),ki=Vi+zi,Zi=Si+ya):(zi="",ya="",ki=Vi,Zi=Si),he.showdividers&&ka&&"boundaries"===he.tickson){var mi={};for(it=0;it<li.length;it++)mi[li[it].x]=1;ur=function(ca){return mi[ca.x]?zi:ki}}else ur=function(ca){return ca.minor?Zi:ki}}if(ye.drawTicks(ve,he,{vals:pr,layer:Vt,path:ur,transFn:nn}),"allticks"===he.mirror){var qr=Object.keys(he._linepositions||{});for(it=0;it<qr.length;it++){St=bt._plots[ot=qr[it]];var da=he._linepositions[ot]||[],ls=da[1],Ei=da[2],ba=ye.makeTickPath(he,da[0],Ei?Hr[0]:xi[0],{minor:Ei})+ye.makeTickPath(he,ls,Ei?Hr[1]:xi[1],{minor:Ei});ye.drawTicks(ve,he,{vals:pr,layer:St[Nt+"axislayer"],path:ba,transFn:nn})}}var oa=[];if(oa.push(function(){return ye.drawLabels(ve,he,{vals:Tn,layer:Vt,plotinfo:St,transFn:si,labelFns:ye.makeLabelFns(he,Wt)})}),"multicategory"===he.type){var zr={x:2,y:10}[Nt];oa.push(function(){var ca={x:"height",y:"width"}[Nt],Rs=Cr()[ca]+zr+(he._tickAngles[Et+"tick"]?he.tickfont.size*Be:0);return ye.drawLabels(ve,he,{vals:nt(he,Tn),layer:Vt,cls:Et+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:nn,labelFns:ye.makeLabelFns(he,Wt+Rs*Hr[4])})}),oa.push(function(){return he._depth=Hr[4]*(Cr("tick2")[he.side]-Wt),function cn(ve,he,ut){var mt=he._id+"divider",at=ut.vals,it=ut.layer.selectAll("path."+mt).data(at,Pt);it.exit().remove(),it.enter().insert("path",":first-child").classed(mt,1).classed("crisp",1).call(c.stroke,he.dividercolor).style("stroke-width",C.crispRound(ve,he.dividerwidth,1)+"px"),it.attr("transform",ut.transFn).attr("d",ut.path)}(ve,he,{vals:li,layer:Vt,path:ye.makeTickPath(he,Wt,Hr[4],{len:he._depth}),transFn:nn})})}else he.title.hasOwnProperty("standoff")&&oa.push(function(){he._depth=Hr[4]*(Cr()[he.side]-Wt)});var Yr=v.getComponentMethod("rangeslider","isVisible")(he);return!ut.skipTitle&&!(Yr&&"bottom"===he.side)&&oa.push(function(){return function Nn(ve,he){var ot,ut=ve._fullLayout,mt=he._id,at=mt.charAt(0),it=he.title.font.size,St=(he.title.text.match(g.BR_TAG_ALL)||[]).length;if(he.title.hasOwnProperty("standoff"))"bottom"===he.side||"right"===he.side?ot=he._depth+he.title.standoff+it*Ne:("top"===he.side||"left"===he.side)&&(ot=he._depth+he.title.standoff+it*(De+St*Be));else{var bt=ir(he);if("multicategory"===he.type)ot=he._depth;else{var Et=1.5*it;bt&&(Et=.5*it,"outside"===he.ticks&&(Et+=he.ticklen)),ot=10+Et+(he.linewidth?he.linewidth-1:0)}bt||(ot+="x"===at?"top"===he.side?it*(he.showticklabels?1:0):it*(he.showticklabels?1.5:.5):"right"===he.side?it*(he.showticklabels?1:.5):it*(he.showticklabels?.5:0))}var It,qt,hn,Vt,Nt=ye.getPxPosition(ve,he);if("x"===at?(qt=he._offset+he._length/2,hn="top"===he.side?Nt-ot:Nt+ot):(hn=he._offset+he._length/2,qt="right"===he.side?Nt+ot:Nt-ot,It={rotate:"-90",offset:0}),"multicategory"!==he.type){var Mn=he._selections[he._id+"tick"];if(Vt={selection:Mn,side:he.side},Mn&&Mn.node()&&Mn.node().parentNode){var Wt=C.getTranslate(Mn.node().parentNode);Vt.offsetLeft=Wt.x,Vt.offsetTop=Wt.y}he.title.hasOwnProperty("standoff")&&(Vt.pad=0)}return he._titleStandoff=ot,m.draw(ve,mt+"title",{propContainer:he,propName:he._name+".title.text",placeholder:ut._dfltTitle[at],avoid:Vt,transform:It,attributes:{x:qt,y:hn,"text-anchor":"middle"}})}(ve,he)}),oa.push(function(){var Er,Ni,Vr,gs,ca=he.side.charAt(0),Rs=Fe[he.side].charAt(0),ei=ye.getPxPosition(ve,he),Ki=ka?he.ticklen:0;(he.automargin||Yr||he._shiftPusher)&&("multicategory"===he.type?Er=Cr("tick2"):(Er=Cr(),"x"===Nt&&"b"===ca&&(he._depth=Math.max(Er.width>0?Er.bottom-ei:0,Ki))));var F1=0,qa=0;if(he._shiftPusher&&(F1=Math.max(Ki,Er.height>0?"l"===ca?ei-Er.left:Er.right-ei:0),he.title.text!==bt._dfltTitle[Nt]&&(qa=(he._titleStandoff||0)+(he._titleScoot||0),"l"===ca&&(qa+=_n(he))),he._fullDepth=Math.max(F1,qa)),he.automargin){Ni={x:0,y:0,r:0,l:0,t:0,b:0};var Ii=[0,1],w1="number"==typeof he._shift?he._shift:0;if("x"===Nt){if("b"===ca?Ni[ca]=he._depth:(Ni[ca]=he._depth=Math.max(Er.width>0?ei-Er.top:0,Ki),Ii.reverse()),Er.width>0){var H2=Er.right-(he._offset+he._length);H2>0&&(Ni.xr=1,Ni.r=H2);var ro=he._offset-Er.left;ro>0&&(Ni.xl=0,Ni.l=ro)}}else if("l"===ca?(he._depth=Math.max(Er.height>0?ei-Er.left:0,Ki),Ni[ca]=he._depth-w1):(he._depth=Math.max(Er.height>0?Er.right-ei:0,Ki),Ni[ca]=he._depth+w1,Ii.reverse()),Er.height>0){var O1=Er.bottom-(he._offset+he._length);O1>0&&(Ni.yb=0,Ni.b=O1);var io=he._offset-Er.top;io>0&&(Ni.yt=1,Ni.t=io)}Ni[It]="free"===he.anchor?he.position:he._anchorAxis.domain[Ii[0]],he.title.text!==bt._dfltTitle[Nt]&&(Ni[ca]+=_n(he)+(he.title.standoff||0)),he.mirror&&"free"!==he.anchor&&((Vr={x:0,y:0,r:0,l:0,t:0,b:0})[Rs]=he.linewidth,he.mirror&&!0!==he.mirror&&(Vr[Rs]+=Ki),!0===he.mirror||"ticks"===he.mirror?Vr[It]=he._anchorAxis.domain[Ii[1]]:("all"===he.mirror||"allticks"===he.mirror)&&(Vr[It]=[he._counterDomainMin,he._counterDomainMax][Ii[1]]))}Yr&&(gs=v.getComponentMethod("rangeslider","autoMarginOpts")(ve,he)),"string"==typeof he.automargin&&(We(Ni,he.automargin),We(Vr,he.automargin)),h.autoMargin(ve,En(he),Ni),h.autoMargin(ve,Pn(he),Vr),h.autoMargin(ve,Zn(he),gs)}),d.syncOrAsync(oa)}}function Cr(ca){var Rs=Et+(ca||"tick");return or[Rs]||(or[Rs]=function Je(ve,he,ut){var mt,at,it,ot;if(ve._selections[he].size())mt=1/0,at=-1/0,it=1/0,ot=-1/0,ve._selections[he].each(function(){var bt=Rn(this),Et=C.bBox(bt.node().parentNode);mt=Math.min(mt,Et.top),at=Math.max(at,Et.bottom),it=Math.min(it,Et.left),ot=Math.max(ot,Et.right)});else{var St=ye.makeLabelFns(ve,ut);mt=at=St.yFn({dx:0,dy:0,fontSize:0}),it=ot=St.xFn({dx:0,dy:0,fontSize:0})}return{top:mt,bottom:at,left:it,right:ot,height:at-mt,width:ot-it}}(he,Rs,Wt)),or[Rs]}},ye.getTickSigns=function(ve,he){var ut=ve._id.charAt(0),at=ve.side==={x:"top",y:"right"}[ut]?1:-1,it=[-1,1,at,-at];return"inside"!==(he?(ve.minor||{}).ticks:ve.ticks)==("x"===ut)&&(it=it.map(function(St){return-St})),ve.side&&it.push({l:-1,t:-1,r:1,b:1}[ve.side.charAt(0)]),it},ye.makeTransTickFn=function(ve){return"x"===ve._id.charAt(0)?function(he){return y(ve._offset+ve.l2p(he.x),0)}:function(he){return y(0,ve._offset+ve.l2p(he.x))}},ye.makeTransTickLabelFn=function(ve){var he=function st(ve){var he=ve.ticklabelposition||"",ut=function(hn){return-1!==he.indexOf(hn)},mt=ut("top"),at=ut("left"),it=ut("right"),ot=ut("bottom"),St=ut("inside"),bt=ot||at||mt||it;if(!bt&&!St)return[0,0];var Et=ve.side,Nt=bt?(ve.tickwidth||0)/2:0,It=3,qt=ve.tickfont?ve.tickfont.size:12;return(ot||mt)&&(Nt+=qt*Ne,It+=(ve.linewidth||0)/2),(at||it)&&(Nt+=(ve.linewidth||0)/2,It+=3),St&&"top"===Et&&(It-=qt*(1-Ne)),(at||mt)&&(Nt=-Nt),("bottom"===Et||"right"===Et)&&(It=-It),[bt?Nt:0,St?It:0]}(ve),ut=ve.ticklabelshift||0,mt=ve.ticklabelstandoff||0,at=he[0],it=he[1],ot=ve.range[0]>ve.range[1],St=ve.ticklabelposition&&-1!==ve.ticklabelposition.indexOf("inside");if(ut&&(ut*=ot?-1:1),mt){var Nt=ve.side;mt*=St&&("top"===Nt||"left"===Nt)||!St&&("bottom"===Nt||"right"===Nt)?1:-1}return"x"===ve._id.charAt(0)?function(qt){return y(at+ve._offset+ve.l2p(Ct(qt))+ut,it+mt)}:function(qt){return y(it+mt,at+ve._offset+ve.l2p(Ct(qt))+ut)}},ye.makeTickPath=function(ve,he,ut,mt){mt||(mt={});var at=mt.minor;if(at&&!ve.minor)return"";var it=void 0!==mt.len?mt.len:at?ve.minor.ticklen:ve.ticklen,ot=ve._id.charAt(0),St=(ve.linewidth||1)/2;return"x"===ot?"M0,"+(he+St*ut)+"v"+it*ut:"M"+(he+St*ut)+",0h"+it*ut},ye.makeLabelFns=function(ve,he,ut){var mt=ve.ticklabelposition||"",at=function(oi){return-1!==mt.indexOf(oi)},it=at("top"),ot=at("left"),St=at("right"),Et=at("bottom")||ot||it||St,Nt=at("inside"),It="inside"===mt&&"inside"===ve.ticks||!Nt&&"outside"===ve.ticks&&"boundaries"!==ve.tickson,qt=0,hn=0,Vt=It?ve.ticklen:0;if(Nt?Vt*=-1:Et&&(Vt=0),It&&(qt+=Vt,ut)){var Mn=d.deg2rad(ut);qt=Vt*Math.cos(Mn)+1,hn=Vt*Math.sin(Mn)}ve.showticklabels&&(It||ve.showline)&&(qt+=.2*ve.tickfont.size);var wn,Tn,jn,or,$r,Wt={labelStandoff:qt+=(ve.linewidth||1)/2*(Nt?-1:1),labelShift:hn},Cr=0,nn=ve.side,si=ve._id.charAt(0),pr=ve.tickangle;if("x"===si)or=($r=!Nt&&"bottom"===nn||Nt&&"top"===nn)?1:-1,Nt&&(or*=-1),wn=hn*or,Tn=he+qt*or,jn=$r?1:-.2,90===Math.abs(pr)&&(Nt?jn+=De:jn=-90===pr&&"bottom"===nn?Ne:90===pr&&"top"===nn?De:.5,Cr=De/2*(pr/90)),Wt.xFn=function(oi){return oi.dx+wn+Cr*oi.fontSize},Wt.yFn=function(oi){return oi.dy+Tn+oi.fontSize*jn},Wt.anchorFn=function(oi,Ci){if(Et){if(ot)return"end";if(St)return"start"}return T(Ci)&&0!==Ci&&180!==Ci?Ci*or<0!==Nt?"end":"start":"middle"},Wt.heightFn=function(oi,Ci,li){return Ci<-60||Ci>60?-.5*li:"top"===ve.side!==Nt?-li:0};else if("y"===si){if(or=($r=!Nt&&"left"===nn||Nt&&"right"===nn)?1:-1,Nt&&(or*=-1),wn=qt,Tn=hn*or,jn=0,!Nt&&90===Math.abs(pr)&&(jn=-90===pr&&"left"===nn||90===pr&&"right"===nn?Ne:.5),Nt){var na=T(pr)?+pr:0;if(0!==na){var ka=d.deg2rad(na);Cr=Math.abs(Math.sin(ka))*Ne*or,jn=0}}Wt.xFn=function(oi){return oi.dx+he-(wn+oi.fontSize*jn)*or+Cr*oi.fontSize},Wt.yFn=function(oi){return oi.dy+Tn+oi.fontSize*De},Wt.anchorFn=function(oi,Ci){return T(Ci)&&90===Math.abs(Ci)?"middle":$r?"end":"start"},Wt.heightFn=function(oi,Ci,li){return"right"===ve.side&&(Ci*=-1),Ci<-30?-li:Ci<30?-.5*li:0}}return Wt},ye.drawTicks=function(ve,he,ut){ut=ut||{};var mt=he._id+"tick",at=[].concat(he.minor&&he.minor.ticks?ut.vals.filter(function(ot){return ot.minor&&!ot.noTick}):[]).concat(he.ticks?ut.vals.filter(function(ot){return!ot.minor&&!ot.noTick}):[]),it=ut.layer.selectAll("path."+mt).data(at,Pt);it.exit().remove(),it.enter().append("path").classed(mt,1).classed("ticks",1).classed("crisp",!1!==ut.crisp).each(function(ot){return c.stroke(p.select(this),ot.minor?he.minor.tickcolor:he.tickcolor)}).style("stroke-width",function(ot){return C.crispRound(ve,ot.minor?he.minor.tickwidth:he.tickwidth,1)+"px"}).attr("d",ut.path).style("display",null),On(he,[ie]),it.attr("transform",ut.transFn)},ye.drawGrid=function(ve,he,ut){if(ut=ut||{},"sync"!==he.tickmode){var mt=he._id+"grid",at=he.minor&&he.minor.showgrid,it=at?ut.vals.filter(function(wn){return wn.minor}):[],ot=he.showgrid?ut.vals.filter(function(wn){return!wn.minor}):[],St=ut.counterAxis;if(St&&ye.shouldShowZeroLine(ve,he,St))for(var bt="array"===he.tickmode,Et=0;Et<ot.length;Et++){var Nt=ot[Et].x;if(bt?!Nt:Math.abs(Nt)<he.dtick/100){if(ot=ot.slice(0,Et).concat(ot.slice(Et+1)),!bt)break;Et--}}he._gw=C.crispRound(ve,he.gridwidth,1);for(var It=at?C.crispRound(ve,he.minor.gridwidth,1):0,qt=ut.layer,hn=ut.minorLayer,Vt=1;Vt>=0;Vt--){var Mn=Vt?qt:hn;if(Mn){var Wt=Mn.selectAll("path."+mt).data(Vt?ot:it,Pt);Wt.exit().remove(),Wt.enter().append("path").classed(mt,1).classed("crisp",!1!==ut.crisp),Wt.attr("transform",ut.transFn).attr("d",ut.path).each(function(wn){return c.stroke(p.select(this),wn.minor?he.minor.gridcolor:he.gridcolor||"#ddd")}).style("stroke-dasharray",function(wn){return C.dashStyle(wn.minor?he.minor.griddash:he.griddash,wn.minor?he.minor.gridwidth:he.gridwidth)}).style("stroke-width",function(wn){return(wn.minor?It:he._gw)+"px"}).style("display",null),"function"==typeof ut.path&&Wt.attr("d",ut.path)}}On(he,[K,X])}},ye.drawZeroLine=function(ve,he,ut){var mt=he._id+"zl",at=ye.shouldShowZeroLine(ve,he,(ut=ut||ut).counterAxis),it=ut.layer.selectAll("path."+mt).data(at?[{x:0,id:he._id}]:[]);it.exit().remove(),it.enter().append("path").classed(mt,1).classed("zl",1).classed("crisp",!1!==ut.crisp).each(function(){ut.layer.selectAll("path").sort(function(ot,St){return te(ot.id,St.id)})}),it.attr("transform",ut.transFn).attr("d",ut.path).call(c.stroke,he.zerolinecolor||c.defaultLine).style("stroke-width",C.crispRound(ve,he.zerolinewidth,he._gw||1)+"px").style("display",null),On(he,[W])},ye.drawLabels=function(ve,he,ut){var mt=ve._fullLayout,it=(ut=ut||{}).cls||he._id+"tick",ot=ut.vals.filter(function(kn){return kn.text}),St=ut.labelFns,bt=ut.secondary?0:he.tickangle,Et=(he._prevTickAngles||{})[it],Nt=ut.layer.selectAll("g."+it).data(he.showticklabels?ot:[],Pt),It=[];function qt(kn,yr){kn.each(function(ur){var Hr=p.select(this),xi=Hr.select(".text-math-group"),Vi=St.anchorFn(ur,yr),Si=ut.transFn.call(Hr.node(),ur)+(T(yr)&&0!=+yr?" rotate("+yr+","+St.xFn(ur)+","+(St.yFn(ur)-ur.fontSize/2)+")":""),zi=g.lineCount(Hr),ya=Be*ur.fontSize,ki=St.heightFn(ur,T(yr)?+yr:0,(zi-1)*ya);if(ki&&(Si+=y(0,ki)),xi.empty()){var Zi=Hr.select("text");Zi.attr({transform:Si,"text-anchor":Vi}),Zi.style("opacity",1),he._adjustTickLabelsOverflow&&he._adjustTickLabelsOverflow()}else{var mi=C.bBox(xi.node()).width;xi.attr("transform",Si+y(mi*{end:-.5,start:.5}[Vi],0))}})}Nt.enter().append("g").classed(it,1).append("text").attr("text-anchor","middle").each(function(kn){var yr=p.select(this),ur=ve._promises.length;yr.call(g.positionText,St.xFn(kn),St.yFn(kn)).call(C.font,{family:kn.font,size:kn.fontSize,color:kn.fontColor,weight:kn.fontWeight,style:kn.fontStyle,variant:kn.fontVariant,textcase:kn.fontTextcase,lineposition:kn.fontLineposition,shadow:kn.fontShadow}).text(kn.text).call(g.convertToTspans,ve),ve._promises[ur]?It.push(ve._promises.pop().then(function(){qt(yr,bt)})):qt(yr,bt)}),On(he,[ue]),Nt.exit().remove(),ut.repositionOnUpdate&&Nt.each(function(kn){p.select(this).select("text").call(g.positionText,St.xFn(kn),St.yFn(kn))}),he._adjustTickLabelsOverflow=function(){var kn=he.ticklabeloverflow;if(kn&&"allow"!==kn){var yr=-1!==kn.indexOf("hide"),ur="x"===he._id.charAt(0),Hr=0,xi=ur?ve._fullLayout.width:ve._fullLayout.height;if(-1!==kn.indexOf("domain")){var Vi=d.simpleMap(he.range,he.r2l);Hr=he.l2p(Vi[0])+he._offset,xi=he.l2p(Vi[1])+he._offset}var Si=Math.min(Hr,xi),zi=Math.max(Hr,xi),ya=he.side,ki=1/0,Zi=-1/0;for(var mi in Nt.each(function(Ua){var ls=p.select(this);if(ls.select(".text-math-group").empty()){var ba=C.bBox(ls.node()),oa=0;ur?(ba.right>zi||ba.left<Si)&&(oa=1):(ba.bottom>zi||ba.top+(he.tickangle?0:Ua.fontSize/4)<Si)&&(oa=1);var zr=ls.select("text");oa?yr&&zr.style("opacity",0):(zr.style("opacity",1),ki="bottom"===ya||"right"===ya?Math.min(ki,ur?ba.top:ba.left):-1/0,Zi="top"===ya||"left"===ya?Math.max(Zi,ur?ba.bottom:ba.right):1/0)}}),mt._plots){var qr=mt._plots[mi];if(he._id===qr.xaxis._id||he._id===qr.yaxis._id){var da=ur?qr.yaxis:qr.xaxis;da&&(da["_visibleLabelMin_"+he._id]=ki,da["_visibleLabelMax_"+he._id]=Zi)}}}},he._hideCounterAxisInsideTickLabels=function(kn){var yr="x"===he._id.charAt(0),ur=[];for(var Hr in mt._plots){var xi=mt._plots[Hr];he._id!==xi.xaxis._id&&he._id!==xi.yaxis._id||ur.push(yr?xi.yaxis:xi.xaxis)}ur.forEach(function(Vi,Si){Vi&&ir(Vi)&&(kn||[W,X,K,ie,ue]).forEach(function(zi){var ya="tick"===zi.K&&"text"===zi.L&&"period"===he.ticklabelmode,ki=mt._plots[he._mainSubplot];(zi.K===W.K?ki.zerolinelayer.selectAll("."+he._id+"zl"):zi.K===X.K?ki.minorGridlayer.selectAll("."+he._id):zi.K===K.K?ki.gridlayer.selectAll("."+he._id):ki[he._id.charAt(0)+"axislayer"]).each(function(){var mi=p.select(this);zi.L&&(mi=mi.selectAll(zi.L)),mi.each(function(qr){var da=he.l2p(ya?Ct(qr):qr.x)+he._offset,Ua=p.select(this);da<he["_visibleLabelMax_"+Vi._id]&&da>he["_visibleLabelMin_"+Vi._id]?Ua.style("display","none"):"tick"===zi.K&&!Si&&Ua.style("display",null)})})})})},qt(Nt,Et+1?Et:bt);var Vt=null;he._selections&&(he._selections[it]=Nt);var Wt=[function hn(){return It.length&&Promise.all(It)}];he.automargin&&mt._redrawFromAutoMarginCount&&90===Et?(Vt=Et,Wt.push(function(){qt(Nt,Et)})):Wt.push(function Mn(){if(qt(Nt,bt),ot.length&&he.autotickangles&&("log"!==he.type||"D"!==String(he.dtick).charAt(0))){Vt=he.autotickangles[0];var ur,kn=0,yr=[],Hr=1;Nt.each(function(Er){kn=Math.max(kn,Er.fontSize);var Ni=he.l2p(Er.x),Vr=Rn(this),gs=C.bBox(Vr.node());Hr=Math.max(Hr,g.lineCount(Vr)),yr.push({top:0,bottom:10,height:10,left:Ni-gs.width/2,right:Ni+gs.width/2+2,width:gs.width+2})});var xi=("boundaries"===he.tickson||he.showdividers)&&!ut.secondary,Vi=ot.length,Si=Math.abs((ot[Vi-1].x-ot[0].x)*he._m)/(Vi-1),zi=xi?Si/2:Si,ya=xi?he.ticklen:1.25*kn*Hr,Zi=zi/Math.sqrt(Math.pow(zi,2)+Math.pow(ya,2)),mi=he.autotickangles.map(function(Er){return Er*Math.PI/180}),qr=mi.find(function(Er){return Math.abs(Math.cos(Er))<=Zi});void 0===qr&&(qr=mi.reduce(function(Er,Ni){return Math.abs(Math.cos(Er))<Math.abs(Math.cos(Ni))?Er:Ni},mi[0]));var da=qr*(180/Math.PI);if(xi){var Ua=2;for(he.ticks&&(Ua+=he.tickwidth/2),ur=0;ur<yr.length;ur++){var ls=ot[ur].xbnd,Ei=yr[ur];if(null!==ls[0]&&Ei.left-he.l2p(ls[0])<Ua||null!==ls[1]&&he.l2p(ls[1])-Ei.right<Ua){Vt=da;break}}}else{var ba=he.ticklabelposition||"",oa=function(Er){return-1!==ba.indexOf(Er)},zr=oa("top"),Yr=oa("left"),ca=oa("right"),Ki=oa("bottom")||Yr||zr||ca?(he.tickwidth||0)+6:0;for(ur=0;ur<yr.length-1;ur++)if(d.bBoxIntersect(yr[ur],yr[ur+1],Ki)){Vt=da;break}}Vt&&qt(Nt,Vt)}}),he._tickAngles&&Wt.push(function(){he._tickAngles[it]=null===Vt?T(bt)?bt:0:Vt});var wn=function(){var kn=0,yr=0;return Nt.each(function(ur,Hr){var Si,xi=Rn(this);xi.select(".text-math-group").empty()&&(he._vals[Hr]&&(Si=he._vals[Hr].bb||C.bBox(xi.node()),he._vals[Hr].bb=Si),kn=Math.max(kn,Si.width),yr=Math.max(yr,Si.height))}),{labelsMaxW:kn,labelsMaxH:yr}},Tn=he._anchorAxis;if(Tn&&(Tn.autorange||Tn.insiderange)&&ir(he)&&!Z(mt,he._id)&&(mt._insideTickLabelsUpdaterange||(mt._insideTickLabelsUpdaterange={}),Tn.autorange&&(mt._insideTickLabelsUpdaterange[Tn._name+".autorange"]=Tn.autorange,Wt.push(wn)),Tn.insiderange)){var jn=wn(),or="y"===he._id.charAt(0)?jn.labelsMaxW:jn.labelsMaxH;or+=6,"inside"===he.ticklabelposition&&(or+=he.ticklen||0);var Cr="right"===he.side||"top"===he.side?1:-1,nn=1===Cr?1:0,si=1===Cr?0:1,pr=[];pr[si]=Tn.range[si];var $r=Tn.range,na=Tn.r2p($r[nn]),ka=Tn.r2p($r[si]),oi=mt._insideTickLabelsUpdaterange[Tn._name+".range"];if(oi){var Ci=Tn.r2p(oi[nn]),li=Tn.r2p(oi[si]),br=Cr*("y"===he._id.charAt(0)?1:-1);br*na<br*Ci&&(na=Ci,pr[nn]=$r[nn]=oi[nn]),br*ka>br*li&&(ka=li,pr[si]=$r[si]=oi[si])}var Fi=Math.abs(ka-na);Fi-or>0?or*=1+or/(Fi-=or):or=0,"y"!==he._id.charAt(0)&&(or=-or),pr[nn]=Tn.p2r(Tn.r2p($r[nn])+Cr*or),"min"===Tn.autorange||"max reversed"===Tn.autorange?(pr[0]=null,Tn._rangeInitial0=void 0,Tn._rangeInitial1=void 0):("max"===Tn.autorange||"min reversed"===Tn.autorange)&&(pr[1]=null,Tn._rangeInitial0=void 0,Tn._rangeInitial1=void 0),mt._insideTickLabelsUpdaterange[Tn._name+".range"]=pr}var ui=d.syncOrAsync(Wt);return ui&&ui.then&&ve._promises.push(ui),ui},ye.getPxPosition=function(ve,he){var it,ut=ve._fullLayout._size,mt=he._id.charAt(0),at=he.side;return"free"!==he.anchor?it=he._anchorAxis:"x"===mt?it={_offset:ut.t+(1-(he.position||0))*ut.h,_length:0}:"y"===mt&&(it={_offset:ut.l+(he.position||0)*ut.w+he._shift,_length:0}),"top"===at||"left"===at?it._offset:"bottom"===at||"right"===at?it._offset+it._length:void 0},ye.shouldShowZeroLine=function(ve,he,ut){var mt=d.simpleMap(he.range,he.r2l);return mt[0]*mt[1]<=0&&he.zeroline&&("linear"===he.type||"-"===he.type)&&!(he.rangebreaks&&he.maskBreaks(0)===pe)&&(Vn(he,0)||!function $n(ve,he,ut,mt){var at=ut._mainAxis;if(at){var it=ve._fullLayout,ot=he._id.charAt(0),St=ye.counterLetter(he._id),bt=he._offset+(Math.abs(mt[0])<Math.abs(mt[1])==("x"===ot)?0:he._length),Nt=it._plots[ut._mainSubplot];if(!(Nt.mainplotinfo||Nt).overlays.length)return Et(ut);for(var It=ye.list(ve,St),qt=0;qt<It.length;qt++){var hn=It[qt];if(hn._mainAxis===at&&Et(hn))return!0}}function Et(Vt){if(!Vt.showline||!Vt.linewidth)return!1;var Mn=Math.max((Vt.linewidth+he.zerolinewidth)/2,1);function Wt(jn){return"number"==typeof jn&&Math.abs(jn-bt)<Mn}if(Wt(Vt._mainLinePosition)||Wt(Vt._mainMirrorPosition))return!0;var wn=Vt._linepositions||{};for(var Tn in wn)if(Wt(wn[Tn][0])||Wt(wn[Tn][1]))return!0}}(ve,he,ut,mt)||function fn(ve,he){for(var ut=ve._fullData,mt=he._mainSubplot,at=he._id.charAt(0),it=0;it<ut.length;it++){var ot=ut[it];if(!0===ot.visible&&ot.xaxis+ot.yaxis===mt&&(v.traceIs(ot,"bar-like")&&ot.orientation==={x:"h",y:"v"}[at]||ot.fill&&ot.fill.charAt(ot.fill.length-1)===at))return!0}return!1}(ve,he))},ye.clipEnds=function(ve,he){return he.filter(function(ut){return Vn(ve,ut.x)})},ye.allowAutoMargin=function(ve){for(var he=ye.list(ve,"",!0),ut=0;ut<he.length;ut++){var mt=he[ut];mt.automargin&&(h.allowAutoMargin(ve,En(mt)),mt.mirror&&h.allowAutoMargin(ve,Pn(mt))),v.getComponentMethod("rangeslider","isVisible")(mt)&&h.allowAutoMargin(ve,Zn(mt))}},ye.swap=function(ve,he){for(var ut=function Yn(ve,he){var mt,at,ut=[];for(mt=0;mt<he.length;mt++){var it=[],ot=ve._fullData[he[mt]].xaxis,St=ve._fullData[he[mt]].yaxis;if(ot&&St){for(at=0;at<ut.length;at++)(-1!==ut[at].x.indexOf(ot)||-1!==ut[at].y.indexOf(St))&&it.push(at);if(!it.length){ut.push({x:[ot],y:[St]});continue}var Et,bt=ut[it[0]];if(it.length>1)for(at=1;at<it.length;at++)mn(bt.x,(Et=ut[it[at]]).x),mn(bt.y,Et.y);mn(bt.x,[ot]),mn(bt.y,[St])}}return ut}(ve,he),mt=0;mt<ut.length;mt++)Wn(ve,ut[mt].x,ut[mt].y)}},2976:function(Ce,j,o){"use strict";var p=o(8248),T=o(3400),h=o(9032).BADNUM,v=T.isArrayOrTypedArray,d=T.isDateTime,y=T.cleanNumber,g=Math.round;function m(A,D){return D?p(A):"number"==typeof A}function w(A){return Math.max(1,(A-1)/1e3)}Ce.exports=function(D,_,E){var M=D,L=E.noMultiCategory;if(v(M)&&!M.length)return"-";if(!L&&function z(A){return v(A[0])&&v(A[1])}(M))return"multicategory";if(L&&Array.isArray(M[0])){for(var b=[],P=0;P<M.length;P++)if(v(M[P]))for(var I=0;I<M[P].length;I++)b.push(M[P][I]);M=b}if(function C(A,D){for(var _=A.length,E=w(_),M=0,L=0,b={},P=0;P<_;P+=E){var G=A[g(P)],$=String(G);b[$]||(b[$]=1,d(G,D)&&M++,p(G)&&L++)}return M>2*L}(M,_))return"date";var G="strict"!==E.autotypenumbers;return function S(A,D){for(var _=A.length,E=w(_),M=0,L=0,b={},P=0;P<_;P+=E){var G=A[g(P)],$=String(G);if(!b[$]){b[$]=1;var J=typeof G;"boolean"===J?L++:(D?y(G)!==h:"number"===J)?M++:"string"===J&&L++}}return L>2*M}(M,G)?"category":function c(A,D){for(var _=A.length,E=0;E<_;E++)if(m(A[E],D))return!0;return!1}(M,G)?"linear":"-"}},5955:function(Ce,j,o){"use strict";var p=o(8248),T=o(4040),h=o(3400),v=o(1780),d=o(1272),y=o(4724),g=o(6332),m=o(5404),c=o(5936),C=o(2568),w=o(4796),S=o(2136),z=o(6312),A=o(8344),D=o(3816).WEEKDAY_PATTERN,_=o(3816).HOUR_PATTERN;function E(b,P,I){function G(pe,W){return h.coerce(b,P,y.rangebreaks,pe,W)}if(G("enabled")){var J=G("bounds");if(J&&J.length>=2){var O,Q,re="";if(2===J.length)for(O=0;O<2;O++)if(Q=L(J[O])){re=D;break}var U=G("pattern",re);if(U===D)for(O=0;O<2;O++)(Q=L(J[O]))&&(P.bounds[O]=J[O]=Q-1);if(U)for(O=0;O<2;O++)switch(Q=J[O],U){case D:if(!p(Q))return void(P.enabled=!1);if((Q=+Q)!==Math.floor(Q)||Q<0||Q>=7)return void(P.enabled=!1);P.bounds[O]=J[O]=Q;break;case _:if(!p(Q))return void(P.enabled=!1);if((Q=+Q)<0||Q>24)return void(P.enabled=!1);P.bounds[O]=J[O]=Q}if(!1===I.autorange){var ne=I.range;if(ne[0]<ne[1]){if(J[0]<ne[0]&&J[1]>ne[1])return void(P.enabled=!1)}else if(J[0]>ne[0]&&J[1]<ne[1])return void(P.enabled=!1)}}else{var le=G("values");if(!le||!le.length)return void(P.enabled=!1);G("dvalue")}}}Ce.exports=function(P,I,G,$,J){var pe,re=$.letter,O=$.font||{},Q=$.splomStash||{},U=G("visible",!$.visibleDflt),le=I.type||(I._template||{}).type||"-";"date"===le&&(T.getComponentMethod("calendars","handleDefaults")(P,I,"calendar",$.calendar),$.noTicklabelmode||(pe=G("ticklabelmode"))),!$.noTicklabelindex&&("date"===le||"linear"===le)&&G("ticklabelindex");var K="";(!$.noTicklabelposition||"multicategory"===le)&&(K=h.coerce(P,I,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===pe?["outside","inside"]:"x"===re?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),$.noTicklabeloverflow||G("ticklabeloverflow",-1!==K.indexOf("inside")?"hide past domain":"category"===le||"multicategory"===le?"allow":"hide past div"),A(I,J),z(P,I,G,$),w(P,I,G,$),"category"!==le&&!$.noHover&&G("hoverformat");var X=G("color"),ie=X!==y.color.dflt?X:O.color,ue=Q.label||J._dfltTitle[re];if(C(P,I,G,le,$),!U)return I;G("title.text",ue),h.coerceFont(G,"title.font",O,{overrideDflt:{size:h.bigFont(O.size),color:ie}}),g(P,I,G,le);var ce=$.hasMinor;if(ce&&(v.newContainer(I,"minor"),g(P,I,G,le,{isMinor:!0})),c(P,I,G,le,$),m(P,I,G,$),ce){var ge=$.isMinor;$.isMinor=!0,m(P,I,G,$),$.isMinor=ge}S(P,I,G,{dfltColor:X,bgColor:$.bgColor,showGrid:$.showGrid,hasMinor:ce,attributes:y}),ce&&!I.minor.ticks&&!I.minor.showgrid&&delete I.minor,(I.showline||I.ticks)&&G("mirror");var Ne,De="multicategory"===le;if($.noTickson||"category"!==le&&!De||!I.ticks&&!I.showgrid||(De&&(Ne="boundaries"),"boundaries"===G("tickson",Ne)&&delete I.ticklabelposition),De&&G("showdividers")&&(G("dividercolor"),G("dividerwidth")),"date"===le)if(d(P,I,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:E}),I.rangebreaks.length){for(var Se=0;Se<I.rangebreaks.length;Se++)if(I.rangebreaks[Se].pattern===D){I._hasDayOfWeekBreaks=!0;break}if(A(I,J),J._has("scattergl")||J._has("splom"))for(var ye=0;ye<$.data.length;ye++){var H=$.data[ye];("scattergl"===H.type||"splom"===H.type)&&(H.visible=!1,h.warn(H.type+" traces do not work on axes with rangebreaks. Setting trace "+H.index+" to `visible: false`."))}}else delete I.rangebreaks;return I};var M={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function L(b){if("string"==typeof b)return M[b.substr(0,3).toLowerCase()]}},9736:function(Ce,j,o){"use strict";var p=o(6880),T=p.FORMAT_LINK,h=p.DATE_FORMAT_LINK;function d(g,m){return["Sets the "+g+" formatting rule"+(m?"for `"+m+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+T+"."].join(" ")}function y(g,m){return d(g,m)+[" And for dates see: "+h+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}Ce.exports={axisHoverFormat:function v(g,m){return{valType:"string",dflt:"",editType:"none",description:(m?d:y)("hover text",g)+["By default the values are formatted using "+(m?"generic number format":"`"+g+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:d,descriptionWithDates:y}},9811:function(Ce,j,o){"use strict";var p=o(4040),T=o(3816);function h(v,d){if(d&&d.length)for(var y=0;y<d.length;y++)if(d[y][v])return!0;return!1}j.id2name=function(d){if("string"==typeof d&&d.match(T.AX_ID_PATTERN)){var y=d.split(" ")[0].substr(1);return"1"===y&&(y=""),d.charAt(0)+"axis"+y}},j.name2id=function(d){if(d.match(T.AX_NAME_PATTERN)){var y=d.substr(5);return"1"===y&&(y=""),d.charAt(0)+y}},j.cleanId=function(d,y,g){var m=/( domain)$/.test(d);if("string"==typeof d&&d.match(T.AX_ID_PATTERN)&&(!y||d.charAt(0)===y)&&(!m||g)){var c=d.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===c&&(c=""),d.charAt(0)+c+(m&&g?" domain":"")}},j.list=function(v,d,y){var g=v._fullLayout;if(!g)return[];var C,m=j.listIds(v,d),c=new Array(m.length);for(C=0;C<m.length;C++){var w=m[C];c[C]=g[w.charAt(0)+"axis"+w.substr(1)]}if(!y){var S=g._subplots.gl3d||[];for(C=0;C<S.length;C++){var z=g[S[C]];d?c.push(z[d+"axis"]):c.push(z.xaxis,z.yaxis,z.zaxis)}}return c},j.listIds=function(v,d){var y=v._fullLayout;if(!y)return[];var g=y._subplots;return d?g[d+"axis"]:g.xaxis.concat(g.yaxis)},j.getFromId=function(v,d,y){var g=v._fullLayout;return d=void 0===d||"string"!=typeof d?d:d.replace(" domain",""),"x"===y?d=d.replace(/y[0-9]*/,""):"y"===y&&(d=d.replace(/x[0-9]*/,"")),g[j.id2name(d)]},j.getFromTrace=function(v,d,y){var g=v._fullLayout,m=null;if(p.traceIs(d,"gl3d")){var c=d.scene;"scene"===c.substr(0,5)&&(m=g[c][y+"axis"])}else m=j.getFromId(v,d[y+"axis"]||y);return m},j.idSort=function(v,d){var y=v.charAt(0),g=d.charAt(0);return y!==g?y>g?1:-1:+(v.substr(1)||1)-+(d.substr(1)||1)},j.ref2id=function(v){return!!/^[xyz]/.test(v)&&v.split(" ")[0]},j.isLinked=function(v,d){return h(d,v._axisMatchGroups)||h(d,v._axisConstraintGroups)}},4796:function(Ce,j,o){"use strict";var p=o(8116).isTypedArraySpec;Ce.exports=function(v,d,y,g){if("category"===d.type){var C,m=v.categoryarray,c=Array.isArray(m)&&m.length>0||p(m);c&&(C="array");var S,w=y("categoryorder",C);"array"===w&&(S=y("categoryarray")),!c&&"array"===w&&(w=d.categoryorder="trace"),"trace"===w?d._initialCategories=[]:"array"===w?d._initialCategories=S.slice():(S=function T(h,v){var g,m,c,d=v.dataAttr||h._id.charAt(0),y={};if(v.axData)g=v.axData;else for(g=[],m=0;m<v.data.length;m++){var C=v.data[m];C[d+"axis"]===h._id&&g.push(C)}for(m=0;m<g.length;m++){var w=g[m][d];for(c=0;c<w.length;c++){var S=w[c];null!=S&&(y[S]=1)}}return Object.keys(y)}(d,g).sort(),"category ascending"===w?d._initialCategories=S:"category descending"===w&&(d._initialCategories=S.reverse()))}}},8728:function(Ce,j,o){"use strict";var p=o(8248),T=o(3400),h=o(9032),v=h.ONEDAY,d=h.ONEWEEK;j.dtick=function(y,g){var m="log"===g,c="date"===g,C="category"===g,w=c?v:1;if(!y)return w;if(p(y))return(y=Number(y))<=0?w:C?Math.max(1,Math.round(y)):c?Math.max(.1,y):y;if("string"!=typeof y||!c&&!m)return w;var S=y.charAt(0),z=y.substr(1);return(z=p(z)?Number(z):0)<=0||!(c&&"M"===S&&z===Math.round(z)||m&&"L"===S||m&&"D"===S&&(1===z||2===z))?w:y},j.tick0=function(y,g,m,c){return"date"===g?T.cleanDate(y,T.dateTick0(m,c%d==0?1:0)):"D1"!==c&&"D2"!==c?p(y)?Number(y):0:void 0}},3816:function(Ce,j,o){"use strict";var p=o(3756).counter;Ce.exports={idRegex:{x:p("x","( domain)?"),y:p("y","( domain)?")},attrRegex:p("[xy]axis"),xAxisMatch:p("xaxis"),yAxisMatch:p("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"},zindexSeparator:"z"}},1888:function(Ce,j,o){"use strict";var p=o(3400),T=o(9280),h=o(9811).id2name,v=o(4724),d=o(1160),y=o(8344),g=o(9032).ALMOST_EQUAL,m=o(4284).FROM_BL;function c(_,E,M){var L=M.axIds,b=M.layoutOut,P=M.hasImage,I=b._axisConstraintGroups,G=b._axisMatchGroups,$=E._id,J=$.charAt(0),re=((b._splomAxes||{})[J]||{})[$]||{},O=E._id,Q="x"===O.charAt(0);function U(Se,ye){return p.coerce(_,E,v,Se,ye)}E._matchGroup=null,E._constraintGroup=null,U("constrain",P?"domain":"range"),p.coerce(_,E,{constraintoward:{valType:"enumerated",values:Q?["left","center","right"]:["bottom","middle","top"],dflt:Q?"center":"middle"}},"constraintoward");var le,pe,ne=E.type,W=[];for(le=0;le<L.length;le++)(pe=L[le])!==O&&b[h(pe)].type===ne&&W.push(pe);var X=w(I,O);if(X){var ie=[];for(le=0;le<W.length;le++)X[pe=W[le]]||ie.push(pe);W=ie}var ce,ge,ue=W.length;ue&&(_.matches||re.matches)&&(ce=p.coerce(_,E,{matches:{valType:"enumerated",values:W,dflt:-1!==W.indexOf(re.matches)?re.matches:void 0}},"matches"));var De=P&&!Q?E.anchor:void 0;if(ue&&!ce&&(_.scaleanchor||De)&&(ge=p.coerce(_,E,{scaleanchor:{valType:"enumerated",values:W.concat([!1])}},"scaleanchor",De)),ce){E._matchGroup=S(G,O,ce,1);var Ne=b[h(ce)],Be=C(b,E)/C(b,Ne);Q!==("x"===ce.charAt(0))&&(Be=(Q?"x":"y")+Be),S(I,O,ce,Be)}else _.matches&&-1!==L.indexOf(_.matches)&&p.warn("ignored "+E._name+'.matches: "'+_.matches+'" to avoid an infinite loop');if(ge){var Fe=U("scaleratio");Fe||(Fe=E.scaleratio=1),S(I,O,ge,Fe)}else _.scaleanchor&&-1!==L.indexOf(_.scaleanchor)&&p.warn("ignored "+E._name+'.scaleanchor: "'+_.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function C(_,E){var M=E.domain;return M||(M=_[h(E.overlaying)].domain),M[1]-M[0]}function w(_,E){for(var M=0;M<_.length;M++)if(_[M][E])return _[M];return null}function S(_,E,M,L){var b,P,I,G,$,J=w(_,E);null===J?((J={})[E]=1,$=_.length,_.push(J)):$=_.indexOf(J);var re=Object.keys(J);for(b=0;b<_.length;b++)if(I=_[b],b!==$&&I[M]){var O=I[M];for(P=0;P<re.length;P++)I[G=re[P]]=z(O,z(L,J[G]));return void _.splice($,1)}if(1!==L)for(P=0;P<re.length;P++){var Q=re[P];J[Q]=z(L,J[Q])}J[M]=1}function z(_,E){var b,P,M="",L="";"string"==typeof _&&(M=_.match(/^[xy]*/)[0],_=+_.substr(b=M.length)),"string"==typeof E&&(L=E.match(/^[xy]*/)[0],E=+E.substr(P=L.length));var I=_*E;return b||P?b&&P&&M.charAt(0)!==L.charAt(0)?b===P?I:(b>P?M.substr(P):L.substr(b))+I:M+L+_*E:I}function A(_,E){for(var M=E._size,L=M.h/M.w,b={},P=Object.keys(_),I=0;I<P.length;I++){var G=P[I],$=_[G];if("string"==typeof $){var J=$.match(/^[xy]*/)[0],re=J.length;$=+$.substr(re);for(var O="y"===J.charAt(0)?L:1/L,Q=0;Q<re;Q++)$*=O}b[G]=$}return b}function D(_,E){var M=_._inputDomain,b=M[0]+(M[1]-M[0])*m[_.constraintoward];_.domain=_._input.domain=[b+(M[0]-b)/E,b+(M[1]-b)/E],_.setScale()}j.handleDefaults=function(_,E,M){var G,$,J,re,O,Q,U,ne,L=M.axIds,b=M.axHasImage,P=E._axisConstraintGroups=[],I=E._axisMatchGroups=[];for(G=0;G<L.length;G++)c(O=_[re=h(L[G])],Q=E[re],{axIds:L,layoutOut:E,hasImage:b[re]});function le(De,Ne){for(G=0;G<De.length;G++)for(J in $=De[G])E[h(J)][Ne]=$}for(le(I,"_matchGroup"),G=0;G<P.length;G++)for(J in $=P[G])if((Q=E[h(J)]).fixedrange){for(var pe in $){var W=h(pe);!1===(_[W]||{}).fixedrange&&p.warn("fixedrange was specified as false for axis "+W+" but was overridden because another axis in its constraint group has fixedrange true"),E[W].fixedrange=!0}break}for(G=0;G<P.length;){for(J in $=P[G]){(Q=E[h(J)])._matchGroup&&Object.keys(Q._matchGroup).length===Object.keys($).length&&(P.splice(G,1),G--);break}G++}le(P,"_constraintGroup");var K=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],X=!1,ie=!1;function ue(){ne=Q[U],"rangebreaks"===U&&(ie=Q._hasDayOfWeekBreaks)}for(G=0;G<I.length;G++){$=I[G];for(var ce=0;ce<K.length;ce++){var ge;for(J in U=K[ce],ne=null,$)if(O=_[re=h(J)],U in(Q=E[re])){if(!Q.matches&&(ge=Q,U in O)){ue();break}null===ne&&U in O&&ue()}if("range"===U&&ne&&O.range&&2===O.range.length&&null!==O.range[0]&&null!==O.range[1]&&(X=!0),"autorange"===U&&null===ne&&X&&(ne=!1),null===ne&&U in ge&&(ne=ge[U]),null!==ne)for(J in $)(Q=E[h(J)])[U]="range"===U?ne.slice():ne,"rangebreaks"===U&&(Q._hasDayOfWeekBreaks=ie,y(Q,E))}}},j.enforce=function(E){var b,P,I,G,$,J,re,O,M=E._fullLayout,L=M._axisConstraintGroups||[];for(b=0;b<L.length;b++){I=A(L[b],M);var Q=Object.keys(I),U=1/0,ne=0,le=1/0,pe={},W={},K=!1;for(P=0;P<Q.length;P++)W[G=Q[P]]=$=M[h(G)],$._inputDomain?$.domain=$._inputDomain.slice():$._inputDomain=$.domain.slice(),$._inputRange||($._inputRange=$.range.slice()),$.setScale(),pe[G]=J=Math.abs($._m)/I[G],U=Math.min(U,J),("domain"===$.constrain||!$._constraintShrinkable)&&(le=Math.min(le,J)),delete $._constraintShrinkable,ne=Math.max(ne,J),"domain"===$.constrain&&(K=!0);if(!(U>g*ne)||K)for(P=0;P<Q.length;P++)if(re=($=W[G=Q[P]]).constrain,(J=pe[G])!==le||"domain"===re)if(O=J/le,"range"===re)d($,O);else{var X=$._inputDomain,ie=($.domain[1]-$.domain[0])/(X[1]-X[0]),ue=($.r2l($.range[1])-$.r2l($.range[0]))/($.r2l($._inputRange[1])-$.r2l($._inputRange[0]));if((O/=ie)*ue<1){$.domain=$._input.domain=X.slice(),d($,O);continue}if(ue<1&&($.range=$._input.range=$._inputRange.slice(),O*=ue),$.autorange){var ce=$.r2l($.range[0]),ge=$.r2l($.range[1]),De=(ce+ge)/2,Ne=De,Be=De,Fe=Math.abs(ge-De),Se=De-Fe*O*1.0001,ye=De+Fe*O*1.0001,H=T.makePadFn(M,$,0),Y=T.makePadFn(M,$,1);D($,O);var B,se,te=Math.abs($._m),Z=T.concatExtremes(E,$),N=Z.min,ee=Z.max;for(se=0;se<N.length;se++)(B=N[se].val-H(N[se])/te)>Se&&B<Ne&&(Ne=B);for(se=0;se<ee.length;se++)(B=ee[se].val+Y(ee[se])/te)<ye&&B>Be&&(Be=B);O/=(Be-Ne)/(2*Fe),Ne=$.l2r(Ne),Be=$.l2r(Be),$.range=$._input.range=ce<ge?[Ne,Be]:[Be,Ne]}D($,O)}}},j.getAxisGroup=function(E,M){for(var L=E._axisMatchGroups,b=0;b<L.length;b++)if(L[b][M])return"g"+b;return M},j.clean=function(E,M){if(M._inputDomain){for(var L=!1,b=M._id,P=E._fullLayout._axisConstraintGroups,I=0;I<P.length;I++)if(P[I][b]){L=!0;break}(!L||"domain"!==M.constrain)&&(M._input.domain=M.domain=M._inputDomain,delete M._inputDomain)}}},1184:function(Ce,j,o){"use strict";var p=o(3428),T=o(3400),h=T.numberFormat,v=o(9760),d=o(9184),y=o(4040),g=T.strTranslate,m=o(2736),c=o(6308),C=o(3616),w=o(3024),S=o(4460),z=o(3972),A=o(6476),D=o(2760),_=D.selectingOrDrawing,E=D.freeMode,M=o(4284).FROM_TL,L=o(3696),b=o(9172).redrawReglTraces,P=o(7316),I=o(9811).getFromId,G=o(2676).prepSelect,$=o(2676).clearOutline,J=o(2676).selectOnClick,re=o(1160),O=o(3816),Q=O.MINDRAG,U=O.MINZOOM,ne=!0;function pe(B,se,xe,Te){var Ee=T.ensureSingle(B.draglayer,se,xe,function(Oe){Oe.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",B.id)});return Ee.call(z,Te),Ee.node()}function W(B,se,xe,Te,Ee,Oe,$e){var ct=pe(B,"rect",se,xe);return p.select(ct).call(C.setRect,Te,Ee,Oe,$e),ct}function K(B,se){for(var xe=0;xe<B.length;xe++)if(!B[xe].fixedrange)return se;return""}function ie(B,se,xe,Te,Ee){for(var Oe=0;Oe<B.length;Oe++){var $e=B[Oe];if(!$e.fixedrange)if($e.rangebreaks){var ct="y"===$e._id.charAt(0),gt=ct?1-xe:xe;Te[$e._name+".range[0]"]=$e.l2r($e.p2l((ct?1-se:se)*$e._length)),Te[$e._name+".range[1]"]=$e.l2r($e.p2l(gt*$e._length))}else{var ze=$e._rl[0],Ve=$e._rl[1]-ze;Te[$e._name+".range[0]"]=$e.l2r(ze+Ve*se),Te[$e._name+".range[1]"]=$e.l2r(ze+Ve*xe)}}if(Ee&&Ee.length){var Pe=(se+(1-xe))/2;ie(Ee,Pe,1-Pe,Te,[])}}function ue(B,se){for(var xe=0;xe<B.length;xe++){var Te=B[xe];if(!Te.fixedrange){if(Te.rangebreaks){var Oe=Te._length,ft=(Te.p2l(0+se)-Te.p2l(0)+(Te.p2l(Oe+se)-Te.p2l(Oe)))/2;Te.range=[Te.l2r(Te._rl[0]-ft),Te.l2r(Te._rl[1]-ft)]}else Te.range=[Te.l2r(Te._rl[0]-se/Te._m),Te.l2r(Te._rl[1]-se/Te._m)];Te.limitRange&&Te.limitRange()}}}function ce(B){return 1-(B>=0?Math.min(B,.9):1/(1/Math.max(B,-.3)+3.222))}function De(B,se,xe,Te,Ee){return B.append("path").attr("class","zoombox").style({fill:se>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",g(xe,Te)).attr("d",Ee+"Z")}function Ne(B,se,xe){return B.append("path").attr("class","zoombox-corners").style({fill:c.background,stroke:c.defaultLine,"stroke-width":1,opacity:0}).attr("transform",g(se,xe)).attr("d","M0,0Z")}function Be(B,se,xe,Te,Ee,Oe){B.attr("d",Te+"M"+xe.l+","+xe.t+"v"+xe.h+"h"+xe.w+"v-"+xe.h+"h-"+xe.w+"Z"),Fe(B,se,Ee,Oe)}function Fe(B,se,xe,Te){xe||(B.transition().style("fill",Te>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),se.transition().style("opacity",1).duration(200))}function Se(B){p.select(B).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function ye(B){ne&&B.data&&B._context.showTips&&(T.notifier(T._(B,"Double-click to zoom back out"),"long"),ne=!1)}function te(B){var se=Math.floor(Math.min(B.b-B.t,B.r-B.l,U)/2);return"M"+(B.l-3.5)+","+(B.t-.5+se)+"h3v"+-se+"h"+se+"v-3h-"+(se+3)+"ZM"+(B.r+3.5)+","+(B.t-.5+se)+"h-3v"+-se+"h"+-se+"v-3h"+(se+3)+"ZM"+(B.r+3.5)+","+(B.b+.5-se)+"h-3v"+se+"h"+-se+"v3h"+(se+3)+"ZM"+(B.l-3.5)+","+(B.b+.5-se)+"h3v"+se+"h"+se+"v3h-"+(se+3)+"Z"}function Z(B,se,xe,Te,Ee){for(var ft,gt,ze,Ve,Oe=!1,$e={},ct={},Pe=(Ee||{}).xaHash,Qe=(Ee||{}).yaHash,Ke=0;Ke<se.length;Ke++){var dt=se[Ke];for(ft in xe)if(dt[ft]){for(ze in dt)(!Ee||!Pe[ze]&&!Qe[ze])&&!("x"===ze.charAt(0)?xe:Te)[ze]&&($e[ze]=ft);for(gt in Te)(!Ee||!Pe[gt]&&!Qe[gt])&&dt[gt]&&(Oe=!0)}for(gt in Te)if(dt[gt])for(Ve in dt)(!Ee||!Pe[Ve]&&!Qe[Ve])&&!("x"===Ve.charAt(0)?xe:Te)[Ve]&&(ct[Ve]=gt)}Oe&&(T.extendFlat($e,ct),ct={});var Dt={},$t=[];for(ze in $e){var Ot=I(B,ze);$t.push(Ot),Dt[Ot._id]=Ot}var kt={},At=[];for(Ve in ct){var Gt=I(B,Ve);At.push(Gt),kt[Gt._id]=Gt}return{xaHash:Dt,yaHash:kt,xaxes:$t,yaxes:At,xLinks:$e,yLinks:ct,isSubplotConstrained:Oe}}function N(B,se){if(d){var xe=void 0!==B.onwheel?"wheel":"mousewheel";B._onwheel&&B.removeEventListener(xe,B._onwheel),B._onwheel=se,B.addEventListener(xe,se,{passive:!1})}else void 0!==B.onwheel?B.onwheel=se:void 0!==B.onmousewheel?B.onmousewheel=se:B.isAddedWheelEvent||(B.isAddedWheelEvent=!0,B.addEventListener("wheel",se,{passive:!1}))}function ee(B){var se=[];for(var xe in B)se.push(B[xe]);return se}Ce.exports={makeDragBox:function le(B,se,xe,Te,Ee,Oe,$e,ct){var Ve,Pe,Qe,Ke,dt,Dt,$t,Ot,kt,At,Gt,Lt,Qt,Jt,en,sn,pt,xt,yt,ke,Xe,Me,_e,ft=B._fullLayout._zoomlayer,gt=$e+ct==="nsew",ze=1===($e+ct).length;function He(){if(kt=(Ve=se.xaxis)._length,At=(Pe=se.yaxis)._length,$t=Ve._offset,Ot=Pe._offset,(Qe={})[Ve._id]=Ve,(Ke={})[Pe._id]=Pe,$e&&ct)for(var at=se.overlays,it=0;it<at.length;it++){var ot=at[it].xaxis;Qe[ot._id]=ot;var St=at[it].yaxis;Ke[St._id]=St}dt=ee(Qe),Dt=ee(Ke),Qt=K(dt,ct),Jt=K(Dt,$e),en=!Jt&&!Qt,Lt=Z(B,B._fullLayout._axisMatchGroups,Qe,Ke);var bt=(Gt=Z(B,B._fullLayout._axisConstraintGroups,Qe,Ke,Lt)).isSubplotConstrained||Lt.isSubplotConstrained;sn=ct||bt,pt=$e||bt;var Et=B._fullLayout;xt=Et._has("scattergl"),yt=Et._has("splom"),ke=Et._has("svg")}xe+=se.yaxis._shift,He();var We=function ge(B,se,xe){return B?"nsew"===B?xe?"":"pan"===se?"move":"crosshair":B.toLowerCase()+"-resize":"pointer"}(Jt+Qt,B._fullLayout.dragmode,gt),Ze=W(se,$e+ct+"drag",We,xe,Te,Ee,Oe);if(en&&!gt)return Ze.onmousedown=null,Ze.style.pointerEvents="none",Ze;var Ct,st,Pt,cn,_n,Nn,Vn,$n,fn,Rn,nt={element:Ze,gd:B,plotinfo:se};function Bt(){nt.plotinfo.selection=!1,$(B)}function Je(at,it){var ot=nt.gd;if(ot._fullLayout._activeShapeIndex>=0)ot._fullLayout._deactivateShape(ot);else{var St=ot._fullLayout.clickmode;if(Se(ot),2===at&&!ze&&function rr(){if(!B._transitioningWithDuration){var at=B._context.doubleClick,it=[];Qt&&(it=it.concat(dt)),Jt&&(it=it.concat(Dt)),Lt.xaxes&&(it=it.concat(Lt.xaxes)),Lt.yaxes&&(it=it.concat(Lt.yaxes));var St,bt,ot={};if("reset+autosize"===at)for(at="autosize",bt=0;bt<it.length;bt++){var Et=(St=it[bt])._rangeInitial0,Nt=St._rangeInitial1,It=void 0!==Et||void 0!==Nt;if(It&&(void 0!==Et&&Et!==St.range[0]||void 0!==Nt&&Nt!==St.range[1])||!It&&!0!==St.autorange){at="reset";break}}if("autosize"===at)for(bt=0;bt<it.length;bt++)(St=it[bt]).fixedrange||(ot[St._name+".autorange"]=!0);else if("reset"===at)for((Qt||Gt.isSubplotConstrained)&&(it=it.concat(Gt.xaxes)),Jt&&!Gt.isSubplotConstrained&&(it=it.concat(Gt.yaxes)),Gt.isSubplotConstrained&&(Qt?Jt||(it=it.concat(Dt)):it=it.concat(dt)),bt=0;bt<it.length;bt++)if(!(St=it[bt]).fixedrange){var qt=St._name,hn=St._autorangeInitial;void 0===St._rangeInitial0&&void 0===St._rangeInitial1?ot[qt+".autorange"]=!0:void 0===St._rangeInitial0?(ot[qt+".autorange"]=hn,ot[qt+".range"]=[null,St._rangeInitial1]):void 0===St._rangeInitial1?(ot[qt+".range"]=[St._rangeInitial0,null],ot[qt+".autorange"]=hn):ot[qt+".range"]=[St._rangeInitial0,St._rangeInitial1]}B.emit("plotly_doubleclick",null),y.call("_guiRelayout",B,ot)}}(),gt)St.indexOf("select")>-1&&J(it,ot,dt,Dt,se.id,nt),St.indexOf("event")>-1&&w.click(ot,it,se.id);else if(1===at&&ze){var bt=$e?Pe:Ve,Et="s"===$e||"w"===ct?0:1,Nt=bt._name+".range["+Et+"]",It=function X(B,se){var Ee,xe=B.range[se],Te=Math.abs(xe-B.range[1-se]);return"date"===B.type?xe:"log"===B.type?(Ee=Math.ceil(Math.max(0,-Math.log(Te)/Math.LN10))+3,h("."+Ee+"g")(Math.pow(10,xe))):(Ee=Math.floor(Math.log(Math.abs(xe))/Math.LN10)-Math.floor(Math.log(Te)/Math.LN10)+4,h("."+String(Ee)+"g")(xe))}(bt,Et),qt="left",hn="middle";if(bt.fixedrange)return;$e?(hn="n"===$e?"top":"bottom","right"===bt.side&&(qt="right")):"e"===ct&&(qt="right"),ot._context.showAxisRangeEntryBoxes&&p.select(Ze).call(m.makeEditable,{gd:ot,immediate:!0,background:ot._fullLayout.paper_bgcolor,text:String(It),fill:bt.tickfont?bt.tickfont.color:"#444",horizontalAlign:qt,verticalAlign:hn}).on("edit",function(Vt){var Mn=bt.d2r(Vt);void 0!==Mn&&y.call("_guiRelayout",ot,Nt,Mn)})}}}function Pn(at,it){if(B._transitioningWithDuration)return!1;var ot=Math.max(0,Math.min(kt,Me*at+Ct)),St=Math.max(0,Math.min(At,_e*it+st)),bt=Math.abs(ot-Ct),Et=Math.abs(St-st);function Nt(){Vn="",Pt.r=Pt.l,Pt.t=Pt.b,fn.attr("d","M0,0Z")}if(Pt.l=Math.min(Ct,ot),Pt.r=Math.max(Ct,ot),Pt.t=Math.min(st,St),Pt.b=Math.max(st,St),Gt.isSubplotConstrained)bt>U||Et>U?(Vn="xy",bt/kt>Et/At?(Et=bt*At/kt,st>St?Pt.t=st-Et:Pt.b=st+Et):(bt=Et*kt/At,Ct>ot?Pt.l=Ct-bt:Pt.r=Ct+bt),fn.attr("d",te(Pt))):Nt();else if(Lt.isSubplotConstrained)if(bt>U||Et>U){Vn="xy";var It=Math.min(Pt.l/kt,(At-Pt.b)/At),qt=Math.max(Pt.r/kt,(At-Pt.t)/At);Pt.l=It*kt,Pt.r=qt*kt,Pt.b=(1-It)*At,Pt.t=(1-qt)*At,fn.attr("d",te(Pt))}else Nt();else!Jt||Et<Math.min(Math.max(.6*bt,Q),U)?bt<Q||!Qt?Nt():(Pt.t=0,Pt.b=At,Vn="x",fn.attr("d",function H(B,se){return"M"+(B.l-.5)+","+(se-U-.5)+"h-3v"+(2*U+1)+"h3ZM"+(B.r+.5)+","+(se-U-.5)+"h3v"+(2*U+1)+"h-3Z"}(Pt,st))):!Qt||bt<Math.min(.6*Et,U)?(Pt.l=0,Pt.r=kt,Vn="y",fn.attr("d",function Y(B,se){return"M"+(se-U-.5)+","+(B.t-.5)+"v-3h"+(2*U+1)+"v3ZM"+(se-U-.5)+","+(B.b+.5)+"v3h"+(2*U+1)+"v-3Z"}(Pt,Ct))):(Vn="xy",fn.attr("d",te(Pt)));Pt.w=Pt.r-Pt.l,Pt.h=Pt.b-Pt.t,Vn&&(Rn=!0),B._dragged=Rn,Be($n,fn,Pt,_n,Nn,cn),Zn(),B.emit("plotly_relayouting",Xe),Nn=!0}function Zn(){Xe={},("xy"===Vn||"x"===Vn)&&(ie(dt,Pt.l/kt,Pt.r/kt,Xe,Gt.xaxes),On("x",Xe)),("xy"===Vn||"y"===Vn)&&(ie(Dt,(At-Pt.b)/At,(At-Pt.t)/At,Xe,Gt.yaxes),On("y",Xe))}function Yn(){Zn(),Se(B),bn(),ye(B)}nt.prepFn=function(at,it,ot){var St=nt.dragmode,bt=B._fullLayout.dragmode;bt!==St&&(nt.dragmode=bt),He(),Me=B._fullLayout._invScaleX,_e=B._fullLayout._invScaleY,en||(gt?at.shiftKey?"pan"===bt?bt="zoom":_(bt)||(bt="pan"):at.ctrlKey&&(bt="pan"):bt="pan"),nt.minDrag=E(bt)?1:void 0,_(bt)?(nt.xaxes=dt,nt.yaxes=Dt,G(at,it,ot,nt,bt)):(nt.clickFn=Je,_(St)&&Bt(),en||("zoom"===bt?(nt.moveFn=Pn,nt.doneFn=Yn,nt.minDrag=1,function En(at,it,ot){var St=Ze.getBoundingClientRect();Ct=it-St.left,st=ot-St.top,B._fullLayout._calcInverseTransform(B);var bt=T.apply3DTransform(B._fullLayout._invTransform)(Ct,st);Pt={l:Ct=bt[0],r:Ct,w:0,t:st=bt[1],b:st,h:0},cn=B._hmpixcount?B._hmlumcount/B._hmpixcount:v(B._fullLayout.plot_bgcolor).getLuminance(),Nn=!1,Vn="xy",Rn=!1,$n=De(ft,cn,$t,Ot,_n="M0,0H"+kt+"V"+At+"H0V0"),fn=Ne(ft,$t,Ot)}(0,it,ot)):"pan"===bt&&(nt.moveFn=ir,nt.doneFn=bn))),B._fullLayout._redrag=function(){var Et=B._dragdata;Et&&Et.element===Ze&&(_(B._fullLayout.dragmode)||(He(),ve([0,0,kt,At]),nt.moveFn(Et.dx,Et.dy)))}},A.init(nt);var mn=[0,0,kt,At],Wn=null,In=O.REDRAWDELAY,Fn=se.mainplot?B._fullLayout._plots[se.mainplot]:se;function ir(at,it){if(at*=Me,it*=_e,!B._transitioningWithDuration){if(B._fullLayout._replotting=!0,"ew"===Qt||"ns"===Jt){var ot=Qt?-at:0,St=Jt?-it:0;if(Lt.isSubplotConstrained){if(Qt&&Jt){var bt=(at/kt-it/At)/2;ot=-(at=bt*kt),St=-(it=-bt*At)}Jt?ot=-St*kt/At:St=-ot*At/kt}return Qt&&(ue(dt,at),On("x")),Jt&&(ue(Dt,it),On("y")),ve([ot,St,kt,At]),hr(),void B.emit("plotly_relayouting",Xe)}var qt,hn,Nt="w"===Qt==("n"===Jt)?1:-1;if(Qt&&Jt&&(Gt.isSubplotConstrained||Lt.isSubplotConstrained)){var It=(at/kt+Nt*it/At)/2;at=It*kt,it=Nt*It*At}if("w"===Qt?at=Et(dt,0,at):"e"===Qt?at=Et(dt,1,-at):Qt||(at=0),"n"===Jt?it=Et(Dt,1,it):"s"===Jt?it=Et(Dt,0,-it):Jt||(it=0),qt="w"===Qt?at:0,hn="n"===Jt?it:0,Gt.isSubplotConstrained&&!Lt.isSubplotConstrained||Lt.isSubplotConstrained&&Qt&&Jt&&Nt>0){var Vt;if(Lt.isSubplotConstrained||!Qt&&1===Jt.length){for(Vt=0;Vt<dt.length;Vt++)dt[Vt].range=dt[Vt]._r.slice(),re(dt[Vt],1-it/At);qt=(at=it*kt/At)/2}if(Lt.isSubplotConstrained||!Jt&&1===Qt.length){for(Vt=0;Vt<Dt.length;Vt++)Dt[Vt].range=Dt[Vt]._r.slice(),re(Dt[Vt],1-at/kt);hn=(it=at*At/kt)/2}}(!Lt.isSubplotConstrained||!Jt)&&On("x"),(!Lt.isSubplotConstrained||!Qt)&&On("y");var Mn=kt-at,Wt=At-it;Lt.isSubplotConstrained&&!(Qt&&Jt)&&(Qt?(hn=qt?0:at*At/kt,Wt=Mn*At/kt):(qt=hn?0:it*kt/At,Mn=Wt*kt/At)),ve([qt,hn,Mn,Wt]),hr(),B.emit("plotly_relayouting",Xe)}function Et(wn,Tn,jn){for(var Cr,nn,or=1-Tn,si=0;si<wn.length;si++){var pr=wn[si];if(!pr.fixedrange){Cr=pr,nn=pr._rl[or]+(pr._rl[Tn]-pr._rl[or])/ce(jn/pr._length);var $r=pr.l2r(nn);!1!==$r&&void 0!==$r&&(pr.range[Tn]=$r)}}return Cr._length*(Cr._rl[Tn]-nn)/(Cr._rl[Tn]-Cr._rl[or])}}function On(at,it){for(var ot=Lt.isSubplotConstrained?{x:Dt,y:dt}[at]:Lt[at+"axes"],St=Lt.isSubplotConstrained?{x:dt,y:Dt}[at]:[],bt=0;bt<ot.length;bt++){var Et=ot[bt],Nt=Et._id,It=Lt.xLinks[Nt]||Lt.yLinks[Nt],qt=St[0]||Qe[It]||Ke[It];qt&&(it?(it[Et._name+".range[0]"]=it[qt._name+".range[0]"],it[Et._name+".range[1]"]=it[qt._name+".range[1]"]):Et.range=qt.range.slice())}}function hr(){var it,at=[];function ot(Nt){for(it=0;it<Nt.length;it++)Nt[it].fixedrange||at.push(Nt[it]._id)}function St(Nt,It){for(it=0;it<Nt.length;it++){var qt=Nt[it],hn=qt[It];!qt.fixedrange&&"sync"===hn.tickmode&&at.push(hn._id)}}for(sn&&(ot(dt),ot(Gt.xaxes),ot(Lt.xaxes),St(se.overlays,"xaxis")),pt&&(ot(Dt),ot(Gt.yaxes),ot(Lt.yaxes),St(se.overlays,"yaxis")),Xe={},it=0;it<at.length;it++){var Et=I(B,at[it]);S.drawOne(B,Et,{skipTitle:!0}),Xe[Et._name+".range[0]"]=Et.range[0],Xe[Et._name+".range[1]"]=Et.range[1]}S.redrawComponents(B,at)}function bn(){ve([0,0,kt,At]),T.syncOrAsync([P.previousPromises,function(){B._fullLayout._replotting=!1,y.call("_guiRelayout",B,Xe)}],B)}function ve(at){var bt,Et,Nt,It,it=B._fullLayout,ot=it._plots,St=it._subplots.cartesian;if(yt&&y.subplotsRegistry.splom.drag(B),xt)for(bt=0;bt<St.length;bt++)if(Nt=(Et=ot[St[bt]]).xaxis,It=Et.yaxis,Et._scene){Nt.limitRange&&Nt.limitRange(),It.limitRange&&It.limitRange();var qt=T.simpleMap(Nt.range,Nt.r2l),hn=T.simpleMap(It.range,It.r2l);Et._scene.update({range:[qt[0],hn[0],qt[1],hn[1]]})}if((yt||xt)&&(L(B),b(B)),ke){var Vt=at[2]/Ve._length,Mn=at[3]/Pe._length;for(bt=0;bt<St.length;bt++){Nt=(Et=ot[St[bt]]).xaxis,It=Et.yaxis;var Tn,jn,or,Cr,wn=(pt||Lt.isSubplotConstrained)&&!It.fixedrange&&Ke[It._id];if((sn||Lt.isSubplotConstrained)&&!Nt.fixedrange&&Qe[Nt._id]?(Tn=Vt,or=ct||Lt.isSubplotConstrained?at[0]:mt(Nt,Tn)):Lt.xaHash[Nt._id]?(Tn=Vt,or=at[0]*Nt._length/Ve._length):Lt.yaHash[Nt._id]?(Tn=Mn,or="ns"===Jt?-at[1]*Nt._length/Pe._length:mt(Nt,Tn,{n:"top",s:"bottom"}[Jt])):or=ut(Nt,Tn=he(Nt,Vt,Mn)),Tn>1&&(void 0!==Nt.maxallowed&&sn===(Nt.range[0]<Nt.range[1]?"e":"w")||void 0!==Nt.minallowed&&sn===(Nt.range[0]<Nt.range[1]?"w":"e"))&&(Tn=1,or=0),wn?(jn=Mn,Cr=$e||Lt.isSubplotConstrained?at[1]:mt(It,jn)):Lt.yaHash[It._id]?(jn=Mn,Cr=at[1]*It._length/Pe._length):Lt.xaHash[It._id]?(jn=Vt,Cr="ew"===Qt?-at[0]*It._length/Ve._length:mt(It,jn,{e:"right",w:"left"}[Qt])):Cr=ut(It,jn=he(It,Vt,Mn)),jn>1&&(void 0!==It.maxallowed&&pt===(It.range[0]<It.range[1]?"n":"s")||void 0!==It.minallowed&&pt===(It.range[0]<It.range[1]?"s":"n"))&&(jn=1,Cr=0),Tn||jn){Tn||(Tn=1),jn||(jn=1);var nn=Nt._offset-or/Tn,si=It._offset-Cr/jn;Et.clipRect.call(C.setTranslate,or,Cr).call(C.setScale,Tn,jn),Et.plot.call(C.setTranslate,nn,si).call(C.setScale,1/Tn,1/jn),(Tn!==Et.xScaleFactor||jn!==Et.yScaleFactor)&&(C.setPointGroupScale(Et.zoomScalePts,Tn,jn),C.setTextPointsScale(Et.zoomScaleTxt,Tn,jn)),C.hideOutsideRangePoints(Et.clipOnAxisFalseTraces,Et),Et.xScaleFactor=Tn,Et.yScaleFactor=jn}}}}function he(at,it,ot){return at.fixedrange?0:sn&&Gt.xaHash[at._id]?it:pt&&(Gt.isSubplotConstrained?Gt.xaHash:Gt.yaHash)[at._id]?ot:0}function ut(at,it){return it?(at.range=at._r.slice(),re(at,it),mt(at,it)):0}function mt(at,it,ot){return at._length*(1-it)*M[ot||at.constraintoward||"middle"]}return $e.length*ct.length!=1&&N(Ze,function vr(at){if(B._context._scrollZoom.cartesian||B._fullLayout._enablescrollzoom){if(Bt(),B._transitioningWithDuration)return at.preventDefault(),void at.stopPropagation();He(),clearTimeout(Wn);var it=-at.deltaY;if(isFinite(it)||(it=at.wheelDelta/10),isFinite(it)){var Nt,ot=Math.exp(-Math.min(Math.max(it,-20),20)/200),St=Fn.draglayer.select(".nsewdrag").node().getBoundingClientRect(),bt=(at.clientX-St.left)/St.width,Et=(St.bottom-at.clientY)/St.height;if(sn){for(ct||(bt=.5),Nt=0;Nt<dt.length;Nt++)It(dt[Nt],bt,ot);On("x"),mn[2]*=ot,mn[0]+=mn[2]*bt*(1/ot-1)}if(pt){for($e||(Et=.5),Nt=0;Nt<Dt.length;Nt++)It(Dt[Nt],Et,ot);On("y"),mn[3]*=ot,mn[1]+=mn[3]*(1-Et)*(1/ot-1)}ve(mn),hr(),B.emit("plotly_relayouting",Xe),Wn=setTimeout(function(){B._fullLayout&&(mn=[0,0,kt,At],bn())},In),at.preventDefault()}else T.log("Did not find wheel motion attributes: ",at)}function It(qt,hn,Vt){if(!qt.fixedrange){var Mn=T.simpleMap(qt.range,qt.r2l),Wt=Mn[0]+(Mn[1]-Mn[0])*hn;qt.range=Mn.map(function wn(Tn){return qt.l2r(Wt+(Tn-Wt)*Vt)})}}}),Ze},makeDragger:pe,makeRectDragger:W,makeZoombox:De,makeCorners:Ne,updateZoombox:Be,xyCorners:te,transitionZoombox:Fe,removeZoombox:Se,showDoubleClickNotifier:ye,attachWheelEventHandler:N}},2464:function(Ce,j,o){"use strict";var p=o(3428),T=o(3024),h=o(6476),v=o(3972),d=o(1184).makeDragBox,y=o(3816).DRAGGERSIZE;j.initInteractions=function(m){var c=m._fullLayout;if(m._context.staticPlot)p.select(m).selectAll(".drag").remove();else if(c._has("cartesian")||c._has("splom")){Object.keys(c._plots||{}).sort(function(S,z){if((c._plots[S].mainplot&&!0)===(c._plots[z].mainplot&&!0)){var A=S.split("y"),D=z.split("y");return A[0]===D[0]?Number(A[1]||1)-Number(D[1]||1):Number(A[0]||1)-Number(D[0]||1)}return c._plots[S].mainplot?1:-1}).forEach(function(S){var z=c._plots[S],A=z.xaxis,D=z.yaxis;if(!z.mainplot){var _=d(m,z,A._offset,D._offset,A._length,D._length,"ns","ew");_.onmousemove=function(L){m._fullLayout._rehover=function(){m._fullLayout._hoversubplot===S&&m._fullLayout._plots[S]&&T.hover(m,L,S)},T.hover(m,L,S),m._fullLayout._lasthover=_,m._fullLayout._hoversubplot=S},_.onmouseout=function(L){m._dragging||(m._fullLayout._hoversubplot=null,h.unhover(m,L))},m._context.showAxisDragHandles&&(d(m,z,A._offset-y,D._offset-y,y,y,"n","w"),d(m,z,A._offset+A._length,D._offset-y,y,y,"n","e"),d(m,z,A._offset-y,D._offset+D._length,y,y,"s","w"),d(m,z,A._offset+A._length,D._offset+D._length,y,y,"s","e"))}if(m._context.showAxisDragHandles){if(S===A._mainSubplot){var E=A._mainLinePosition;"top"===A.side&&(E-=y),d(m,z,A._offset+.1*A._length,E,.8*A._length,y,"","ew"),d(m,z,A._offset,E,.1*A._length,y,"","w"),d(m,z,A._offset+.9*A._length,E,.1*A._length,y,"","e")}if(S===D._mainSubplot){var M=D._mainLinePosition;"right"!==D.side&&(M-=y),d(m,z,M,D._offset+.1*D._length,y,.8*D._length,"ns",""),d(m,z,M,D._offset+.9*D._length,y,.1*D._length,"s",""),d(m,z,M,D._offset,y,.1*D._length,"n","")}}});var w=c._hoverlayer.node();w.onmousemove=function(S){S.target=m._fullLayout._lasthover,T.hover(m,S,c._hoversubplot)},w.onclick=function(S){S.target=m._fullLayout._lasthover,T.click(m,S)},w.onmousedown=function(S){m._fullLayout._lasthover.onmousedown(S)},j.updateFx(m)}},j.updateFx=function(g){var m=g._fullLayout;v(m._draggers,"pan"===m.dragmode?"move":"crosshair")}},6632:function(Ce,j,o){"use strict";var p=o(4040),T=o(3400),h=o(9811);Ce.exports=function(d){return function(g,m){var c=g[d];if(Array.isArray(c))for(var C=p.subplotsRegistry.cartesian,w=C.idRegex,S=m._subplots,z=S.xaxis,A=S.yaxis,D=S.cartesian,_=m._has("cartesian")||m._has("gl2d"),E=0;E<c.length;E++){var M=c[E];if(T.isPlainObject(M)){var L=h.cleanId(M.xref,"x",!1),b=h.cleanId(M.yref,"y",!1),P=w.x.test(L),I=w.y.test(b);if(P||I){_||T.pushUnique(m._basePlotModules,C);var G=!1;P&&-1===z.indexOf(L)&&(z.push(L),G=!0),I&&-1===A.indexOf(b)&&(A.push(b),G=!0),G&&P&&I&&D.push(L+b)}}}}}},7952:function(Ce,j,o){"use strict";var p=o(3428),T=o(4040),h=o(3400),v=o(7316),d=o(3616),y=o(4888)._M,g=o(9811),m=o(3816),c=o(9616),C=h.ensureSingle;function w(M,L,b){return h.ensureSingle(M,L,b,function(P){P.datum(b)})}var S=m.zindexSeparator;function z(M,L,b,P,I){for(var O,Q,U,G=m.traceLayerClasses,$=M._fullLayout,J=$._zindices,re=$._modules,ne=[],le=[],pe=0;pe<J.length;pe++)for(var W=J[pe],K=0;K<re.length;K++){var X=(O=re[K]).name,ie=T.modules[X].categories;if(ie.svg){var ue=O.layerName||X+"layer",ce=ue+(pe?Number(pe)+1:""),ge=O.plot;b=(Q=y(b,ge,W))[1],(U=Q[0]).length&&ne.push({i:G.indexOf(ue),zorder:pe,className:ce,plotMethod:ge,cdModule:U}),ie.zoomScale&&le.push("."+ce)}}ne.sort(function(Be,Fe){return(Be.zorder||0)-(Fe.zorder||0)||Be.i-Fe.i});var De=L.plot.selectAll("g.mlayer").data(ne,function(Be){return Be.className});if(De.enter().append("g").attr("class",function(Be){return Be.className}).classed("mlayer",!0).classed("rangeplot",L.isRangePlot),De.exit().remove(),De.order(),De.each(function(Be){var Fe=p.select(this),Se=Be.className;Be.plotMethod(M,L,Be.cdModule,Fe,P,I),-1===m.clipOnAxisFalseQuery.indexOf("."+Se)&&d.setClipUrl(Fe,L.layerClipId,M)}),$._has("scattergl")&&(O=T.getModule("scattergl"),U=y(b,O)[0],O.plot(M,L,U)),!M._context.staticPlot&&(L._hasClipOnAxisFalse&&(L.clipOnAxisFalseTraces=L.plot.selectAll(m.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),le.length)){var Ne=L.plot.selectAll(le.join(",")).selectAll(".trace");L.zoomScalePts=Ne.selectAll("path.point"),L.zoomScaleTxt=Ne.selectAll(".textpoint")}}function D(M,L){var b=L.plotgroup,P=L.id,G=-1!==P.indexOf(S),$=m.layerValue2layerClass[L.xaxis.layer],J=m.layerValue2layerClass[L.yaxis.layer],re=M._fullLayout._hasOnlyLargeSploms;if(L.mainplot){var U=L.mainplotinfo,ne=U.plotgroup,le=P+"-x",pe=P+"-y";L.minorGridlayer=U.minorGridlayer,L.gridlayer=U.gridlayer,L.zerolinelayer=U.zerolinelayer,C(U.overlinesBelow,"path",le),C(U.overlinesBelow,"path",pe),C(U.overaxesBelow,"g",le),C(U.overaxesBelow,"g",pe),L.plot=C(U.overplot,"g",P),C(U.overlinesAbove,"path",le),C(U.overlinesAbove,"path",pe),C(U.overaxesAbove,"g",le),C(U.overaxesAbove,"g",pe),L.xlines=ne.select(".overlines-"+$).select("."+le),L.ylines=ne.select(".overlines-"+J).select("."+pe),L.xaxislayer=ne.select(".overaxes-"+$).select("."+le),L.yaxislayer=ne.select(".overaxes-"+J).select("."+pe)}else if(re)L.xlines=C(b,"path","xlines-above"),L.ylines=C(b,"path","ylines-above"),L.xaxislayer=C(b,"g","xaxislayer-above"),L.yaxislayer=C(b,"g","yaxislayer-above");else{if(!G){var O=C(b,"g","layer-subplot");L.shapelayer=C(O,"g","shapelayer"),L.imagelayer=C(O,"g","imagelayer"),L.minorGridlayer=C(b,"g","minor-gridlayer"),L.gridlayer=C(b,"g","gridlayer"),L.zerolinelayer=C(b,"g","zerolinelayer");var Q=C(b,"g","layer-between");L.shapelayerBetween=C(Q,"g","shapelayer"),L.imagelayerBetween=C(Q,"g","imagelayer"),C(b,"path","xlines-below"),C(b,"path","ylines-below"),L.overlinesBelow=C(b,"g","overlines-below"),C(b,"g","xaxislayer-below"),C(b,"g","yaxislayer-below"),L.overaxesBelow=C(b,"g","overaxes-below")}L.overplot=C(b,"g","overplot"),L.plot=C(L.overplot,"g",P),G||(L.xlines=C(b,"path","xlines-above"),L.ylines=C(b,"path","ylines-above"),L.overlinesAbove=C(b,"g","overlines-above"),C(b,"g","xaxislayer-above"),C(b,"g","yaxislayer-above"),L.overaxesAbove=C(b,"g","overaxes-above"),L.xlines=b.select(".xlines-"+$),L.ylines=b.select(".ylines-"+J),L.xaxislayer=b.select(".xaxislayer-"+$),L.yaxislayer=b.select(".yaxislayer-"+J))}G||(re||(w(L.minorGridlayer,"g",L.xaxis._id),w(L.minorGridlayer,"g",L.yaxis._id),L.minorGridlayer.selectAll("g").map(function(W){return W[0]}).sort(g.idSort),w(L.gridlayer,"g",L.xaxis._id),w(L.gridlayer,"g",L.yaxis._id),L.gridlayer.selectAll("g").map(function(W){return W[0]}).sort(g.idSort)),L.xlines.style("fill","none").classed("crisp",!0),L.ylines.style("fill","none").classed("crisp",!0))}function _(M,L){if(M){var b={};for(var P in M.each(function(re){var O=re[0];p.select(this).remove(),E(O,L),b[O]=!0}),L._plots)for(var G=L._plots[P].overlays||[],$=0;$<G.length;$++){var J=G[$];b[J.id]&&J.plot.selectAll(".trace").remove()}}}function E(M,L){L._draggers.selectAll("g."+M).remove(),L._defs.select("#clip"+L._uid+M+"plot").remove()}j.name="cartesian",j.attr=["xaxis","yaxis"],j.idRoot=["x","y"],j.idRegex=m.idRegex,j.attrRegex=m.attrRegex,j.attributes=o(6720),j.layoutAttributes=o(4724),j.supplyLayoutDefaults=o(7352),j.transitionAxes=o(3736),j.finalizeSubplots=function(M,L){var O,Q,U,b=L._subplots,P=b.xaxis,I=b.yaxis,G=b.cartesian,$=G.concat(b.gl2d||[]),J={},re={};for(O=0;O<$.length;O++){var ne=$[O].split("y");J[ne[0]]=1,re["y"+ne[1]]=1}for(O=0;O<P.length;O++)J[Q=P[O]]||(U=(M[g.id2name(Q)]||{}).anchor,m.idRegex.y.test(U)||(U="y"),G.push(Q+U),$.push(Q+U),re[U]||(re[U]=1,h.pushUnique(I,U)));for(O=0;O<I.length;O++)re[U=I[O]]||(Q=(M[g.id2name(U)]||{}).anchor,m.idRegex.x.test(Q)||(Q="x"),G.push(Q+U),$.push(Q+U),J[Q]||(J[Q]=1,h.pushUnique(P,Q)));if(!$.length){for(var le in Q="",U="",M)m.attrRegex.test(le)&&("x"===le.charAt(0)?(!Q||+le.substr(5)<+Q.substr(5))&&(Q=le):(!U||+le.substr(5)<+U.substr(5))&&(U=le));Q=Q?g.name2id(Q):"x",U=U?g.name2id(U):"y",P.push(Q),I.push(U),G.push(Q+U)}},j.plot=function(M,L,b,P){var J,I=M._fullLayout,G=I._subplots.cartesian,$=M.calcdata;if(!Array.isArray(L))for(L=[],J=0;J<$.length;J++)L.push(J);for(var re=I._zindices,O=0;O<re.length;O++){var Q=re[O];for(J=0;J<G.length;J++){var U=G[J],ne=I._plots[U];if(O>0){var le=ne.id;if(-1!==le.indexOf(S))continue;ne=h.extendFlat({},ne,{id:le+=S+(O+1),plot:I._cartesianlayer.selectAll(".subplot").select("."+le)})}for(var W,pe=[],K=0;K<$.length;K++){var X=$[K],ie=X[0].trace;Q===(ie.zorder||0)&&ie.xaxis+ie.yaxis===U&&((-1!==L.indexOf(ie.index)||ie.carpet)&&(W&&W[0].trace.xaxis+W[0].trace.yaxis===U&&-1!==["tonextx","tonexty","tonext"].indexOf(ie.fill)&&-1===pe.indexOf(W)&&pe.push(W),pe.push(X)),W=X)}z(M,ne,pe,b,P)}}},j.clean=function(M,L,b,P){var J,re,O,I=P._plots||{},G=L._plots||{},$=P._subplots||{};if(P._hasOnlyLargeSploms&&!L._hasOnlyLargeSploms)for(O in I)(J=I[O]).plotgroup&&J.plotgroup.remove();var Q=P._has&&P._has("gl"),U=L._has&&L._has("gl");if(Q&&!U)for(O in I)(J=I[O])._scene&&J._scene.destroy();if($.xaxis&&$.yaxis){var ne=g.listIds({_fullLayout:P});for(re=0;re<ne.length;re++){var le=ne[re];L[g.id2name(le)]||P._infolayer.selectAll(".g-"+le+"title").remove()}}var pe=P._has&&P._has("cartesian"),W=L._has&&L._has("cartesian");if(pe&&!W)_(P._cartesianlayer.selectAll(".subplot"),P),P._defs.selectAll(".axesclip").remove(),delete P._axisConstraintGroups,delete P._axisMatchGroups;else if($.cartesian)for(re=0;re<$.cartesian.length;re++){var K=$.cartesian[re];-1!==K.indexOf(S)||G[K]||(P._cartesianlayer.selectAll("."+K+",."+K+"-x,."+K+"-y").remove(),E(K,P))}},j.drawFramework=function(M){var P,L=M._fullLayout,b=M.calcdata,I={};for(P=0;P<b.length;P++){var G=b[P][0],J=G.trace.zorder||0;I[J]||(I[J]=[]),I[J].push(G)}var re=Object.keys(I).map(Number).sort(h.sorterAsc);re.length||(re=[0]),L._zindices=re;var O=function A(M){var G,$,J,re,O,Q,L=M._fullLayout,b=L._zindices.length,P=L._subplots.cartesian,I=P.length,U=[],ne=[];for(G=0;G<I;G++){var W=(O=(re=L._plots[J=P[G]]).xaxis)._mainAxis._id+(Q=re.yaxis)._mainAxis._id,K=L._plots[W];re.overlays=[],W!==J&&K?(re.mainplot=W,re.mainplotinfo=K,ne.push(J)):(re.mainplot=void 0,re.mainplotinfo=void 0,U.push(J))}for(G=0;G<ne.length;G++)(re=L._plots[J=ne[G]]).mainplotinfo.overlays.push(re);var X=U.concat(ne),ie=[];for(G=0;G<I;G++){O=(re=L._plots[J=X[G]]).xaxis,Q=re.yaxis;for(var ue=[],ce=1;ce<=b;ce++){var ge="";for(ce>1&&(ge+=S+ce),ue.push(J+ge),$=0;$<re.overlays.length;$++)ue.push(re.overlays[$].id+ge)}ue=ue.concat([O.layer,Q.layer,O.overlaying||"",Q.overlaying||""]),ie.push(ue)}return ie}(M),Q=O.length,U=[];for(P=0;P<Q;P++)U[P]=O[P].slice();for(var ne=1;ne<re.length;ne++){var le=[];for(P=0;P<Q;P++)le[P]=O[P].slice(),le[P][0]+=S+(ne+1);U=U.concat(le)}var pe=L._cartesianlayer.selectAll(".subplot").data(U,String);pe.enter().append("g").attr("class",function(W){return"subplot "+W[0]}),pe.order(),pe.exit().call(_,L),pe.each(function(W){var K=W[0],X=K.indexOf(S),ie=-1!==X,ue=ie?K.slice(0,X):K,ce=L._plots[K];ce||(ce=h.extendFlat({},L._plots[ue]))&&(ce.id=K,L._plots[K]=ce,L._subplots.cartesian.push(K)),ce&&(ce.plotgroup=p.select(this),D(M,ce),ie||(ce.draglayer=C(L._draggers,"g",K)))})},j.rangePlot=function(M,L,b){D(M,L),z(M,L,b),v.style(M)},j.toSVG=function(M){var L=M._fullLayout._glimages,b=p.select(M).selectAll(".svg-container");b.filter(function(G,$){return $===b.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function I(){var G=this,$=G.toDataURL("image/png");L.append("svg:image").attr({xmlns:c.svg,"xlink:href":$,preserveAspectRatio:"none",x:0,y:0,width:G.style.width,height:G.style.height})})},j.updateFx=o(2464).updateFx},4724:function(Ce,j,o){"use strict";var p=o(5376),T=o(2548),h=o(8192).u,v=o(2880).extendFlat,d=o(1780).templatedArray,y=o(9736).descriptionWithDates,g=o(9032).ONEDAY,m=o(3816),c=m.HOUR_PATTERN,C=m.WEEKDAY_PATTERN,w={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},S=v({},w,{values:w.values.slice().concat(["sync"])});function z(J){return{valType:"integer",min:0,dflt:J?5:0,editType:"ticks"}}var A={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},D={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},_={valType:"data_array",editType:"ticks"},E={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function M(J){var re={valType:"number",min:0,editType:"ticks"};return J||(re.dflt=5),re}function L(J){var re={valType:"number",min:0,editType:"ticks"};return J||(re.dflt=1),re}var b={valType:"color",dflt:T.defaultLine,editType:"ticks"},P={valType:"color",dflt:T.lightLine,editType:"ticks"};function I(J){var re={valType:"number",min:0,editType:"ticks"};return J||(re.dflt=1),re}var G=v({},h,{editType:"ticks"}),$={valType:"boolean",editType:"ticks"};Ce.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:T.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:p({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[m.idRegex.x.toString(),m.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[m.idRegex.x.toString(),m.idRegex.y.toString()],editType:"calc"},rangebreaks:d("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[C,c,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:g},editType:"calc"}),tickmode:S,nticks:z(),tick0:A,dtick:D,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:_,ticktext:{valType:"data_array",editType:"ticks"},ticks:E,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},ticklabelshift:{valType:"integer",dflt:0,editType:"ticks"},ticklabelstandoff:{valType:"integer",dflt:0,editType:"ticks"},ticklabelindex:{valType:"integer",arrayOk:!0,editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:M(),tickwidth:L(),tickcolor:b,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:v({},h,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:p({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:y("tick label")},tickformatstops:d("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:y("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:T.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:$,gridcolor:P,gridwidth:I(),griddash:G,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:T.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:T.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",m.idRegex.x.toString(),m.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",m.idRegex.x.toString(),m.idRegex.y.toString()],editType:"plot"},minor:{tickmode:w,nticks:z("minor"),tick0:A,dtick:D,tickvals:_,ticks:E,ticklen:M("minor"),tickwidth:L("minor"),tickcolor:b,gridcolor:P,gridwidth:I("minor"),griddash:G,showgrid:$,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","geometric mean ascending","geometric mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:p({editType:"ticks"})}}},7352:function(Ce,j,o){"use strict";var p=o(3400),T=o(6308),h=o(624).isUnifiedHover,v=o(1008),d=o(1780),y=o(4859),g=o(4724),m=o(4944),c=o(5955),C=o(1888),w=o(7668),S=o(9811),z=S.id2name,A=S.name2id,D=o(3816).AX_ID_PATTERN,_=o(4040),E=_.traceIs,M=_.getComponentMethod;function L(b,P,I){Array.isArray(b[P])?b[P].push(I):b[P]=[I]}Ce.exports=function(P,I,G){var X,ie,$=I.autotypenumbers,J={},re={},O={},Q={},U={},ne={},le={},pe={},W={},K={};for(X=0;X<G.length;X++){var ue=G[X];if(E(ue,"cartesian")||E(ue,"gl2d")){var ce,ge;if(ue.xaxis)ce=z(ue.xaxis),L(J,ce,ue);else if(ue.xaxes)for(ie=0;ie<ue.xaxes.length;ie++)L(J,z(ue.xaxes[ie]),ue);if(ue.yaxis)ge=z(ue.yaxis),L(J,ge,ue);else if(ue.yaxes)for(ie=0;ie<ue.yaxes.length;ie++)L(J,z(ue.yaxes[ie]),ue);"funnel"===ue.type?"h"===ue.orientation?(ce&&(re[ce]=!0),ge&&(le[ge]=!0)):ge&&(O[ge]=!0):"image"===ue.type?(ge&&(pe[ge]=!0),ce&&(pe[ce]=!0)):(ge&&(U[ge]=!0,ne[ge]=!0),(!E(ue,"carpet")||"carpet"===ue.type&&!ue._cheater)&&ce&&(Q[ce]=!0)),"carpet"===ue.type&&ue._cheater&&ce&&(re[ce]=!0),E(ue,"2dMap")&&(W[ce]=!0,W[ge]=!0),E(ue,"oriented")&&(K["h"===ue.orientation?ge:ce]=!0)}}var Ne=I._subplots,Be=Ne.xaxis,Fe=Ne.yaxis,Se=p.simpleMap(Be,z),ye=p.simpleMap(Fe,z),H=Se.concat(ye),Y=T.background;Be.length&&Fe.length&&(Y=p.coerce(P,I,y,"plot_bgcolor"));var Z,N,ee,B,se,te=T.combine(Y,I.paper_bgcolor);function xe(){se._traceIndices=(J[Z]||[]).map(function(_e){return _e._expandedIndex}),se._annIndices=[],se._shapeIndices=[],se._selectionIndices=[],se._imgIndices=[],se._subplotsWith=[],se._counterAxes=[],se._name=se._attr=Z,se._id=N}function Te(Me,_e){return p.coerce(B,se,g,Me,_e)}function Ee(Me,_e){return p.coerce2(B,se,g,Me,_e)}function Oe(Me){return"x"===Me?Fe:Be}function $e(Me,_e){for(var He="x"===Me?Se:ye,We=[],Ze=0;Ze<He.length;Ze++){var nt=He[Ze];nt!==_e&&!(P[nt]||{}).overlaying&&We.push(A(nt))}return We}var ct={x:Oe("x"),y:Oe("y")},ft=ct.x.concat(ct.y),gt={},ze=[];function Ve(){var Me=B.matches;D.test(Me)&&-1===ft.indexOf(Me)&&(gt[Me]=B.type,ze=Object.keys(gt))}var Pe=v(P,I),Qe=h(Pe);for(X=0;X<H.length;X++){N=A(Z=H[X]),ee=Z.charAt(0),p.isPlainObject(P[Z])||(P[Z]={}),B=P[Z],se=d.newContainer(I,Z,ee+"axis"),xe();var Dt={hasMinor:!0,letter:ee,font:I.font,outerTicks:W[Z],showGrid:!K[Z],data:J[Z]||[],bgColor:te,calendar:I.calendar,automargin:!0,visibleDflt:"x"===ee&&!Q[Z]&&re[Z]||"y"===ee&&!U[Z]&&O[Z],reverseDflt:"y"===ee&&(!ne[Z]&&le[Z]||pe[Z]),autotypenumbersDflt:$,splomStash:((I._splomAxes||{})[ee]||{})[N],noAutotickangles:"y"===ee};Te("uirevision",I.uirevision),m(B,se,Te,Dt),c(B,se,Te,Dt,I);var $t=Qe&&ee===Pe.charAt(0),Ot=Ee("spikecolor",Qe?se.color:void 0),kt=Ee("spikethickness",Qe?1.5:void 0),At=Ee("spikedash",Qe?"dot":void 0),Gt=Ee("spikemode",Qe?"across":void 0),Lt=Ee("spikesnap");Te("showspikes",!!($t||Ot||kt||At||Gt||Lt))||(delete se.spikecolor,delete se.spikethickness,delete se.spikedash,delete se.spikemode,delete se.spikesnap);var Jt=z(B.overlaying),en=[0,1];if(void 0!==I[Jt]){var sn=z(I[Jt].anchor);void 0!==I[sn]&&(en=I[sn].domain)}w(B,se,Te,{letter:ee,counterAxes:ct[ee],overlayableAxes:$e(ee,Z),grid:I.grid,overlayingDomain:en}),Te("title.standoff"),Ve(),se._input=B}for(X=0;X<ze.length;){N=ze[X++],ee=(Z=z(N)).charAt(0),p.isPlainObject(P[Z])||(P[Z]={}),B=P[Z],se=d.newContainer(I,Z,ee+"axis"),xe();var pt={letter:ee,font:I.font,outerTicks:W[Z],showGrid:!K[Z],data:[],bgColor:te,calendar:I.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:$,splomStash:((I._splomAxes||{})[ee]||{})[N]};Te("uirevision",I.uirevision),se.type=gt[N]||"linear",c(B,se,Te,pt,I),w(B,se,Te,{letter:ee,counterAxes:ct[ee],overlayableAxes:$e(ee,Z),grid:I.grid}),Te("fixedrange"),Ve(),se._input=B}var xt=M("rangeslider","handleDefaults"),yt=M("rangeselector","handleDefaults");for(X=0;X<Se.length;X++)B=P[Z=Se[X]],se=I[Z],xt(P,I,Z),"date"===se.type&&yt(B,se,I,ye,se.calendar),Te("fixedrange");for(X=0;X<ye.length;X++){B=P[Z=ye[X]];var ke=I[z((se=I[Z]).anchor)];Te("fixedrange",M("rangeslider","isVisible")(ke))}C.handleDefaults(P,I,{axIds:ft.concat(ze).sort(S.idSort),axHasImage:pe})}},2136:function(Ce,j,o){"use strict";var p=o(9760).mix,T=o(2548),h=o(3400);Ce.exports=function(d,y,g,m){var c=(m=m||{}).dfltColor;function C(O,Q){return h.coerce2(d,y,m.attributes,O,Q)}var w=C("linecolor",c),S=C("linewidth");g("showline",m.showLine||!!w||!!S)||(delete y.linecolor,delete y.linewidth);var D=C("gridcolor",p(c,m.bgColor,m.blend||T.lightFraction).toRgbString()),_=C("gridwidth"),E=C("griddash");if(g("showgrid",m.showGrid||!!D||!!_||!!E)||(delete y.gridcolor,delete y.gridwidth,delete y.griddash),m.hasMinor){var b=C("minor.gridcolor",p(y.gridcolor,m.bgColor,67).toRgbString()),P=C("minor.gridwidth",y.gridwidth||1),I=C("minor.griddash",y.griddash||"solid");g("minor.showgrid",!!b||!!P||!!I)||(delete y.minor.gridcolor,delete y.minor.gridwidth,delete y.minor.griddash)}if(!m.noZeroLine){var $=C("zerolinecolor",c),J=C("zerolinewidth");g("zeroline",m.showGrid||!!$||!!J)||(delete y.zerolinecolor,delete y.zerolinewidth)}}},7668:function(Ce,j,o){"use strict";var p=o(8248),T=o(3400);Ce.exports=function(v,d,y,g){var z,A,D,_,E,M,m=g.counterAxes||[],c=g.overlayableAxes||[],C=g.letter,w=g.grid,S=g.overlayingDomain;w&&(z=w._anchors[d._id],(A=w._domains[C][w._axisMap[d._id]])&&(D=w[C+"side"].split(" ")[0],_=w.domain[C]["right"===D||"top"===D?1:0])),A=A||[0,1],z=z||(p(v.position)?"free":m[0]||"free"),D=D||("x"===C?"bottom":"left"),_=_||0,E=0,M=!1;var L=T.coerce(v,d,{anchor:{valType:"enumerated",values:["free"].concat(m),dflt:z}},"anchor"),b=T.coerce(v,d,{side:{valType:"enumerated",values:"x"===C?["bottom","top"]:["left","right"],dflt:D}},"side");"free"===L&&("y"===C&&(y("autoshift")&&(_="left"===b?S[0]:S[1],M=!d.automargin||d.automargin,E="left"===b?-3:3),y("shift",E)),y("position",_)),y("automargin",M);var I=!1;if(c.length&&(I=T.coerce(v,d,{overlaying:{valType:"enumerated",values:[!1].concat(c),dflt:!1}},"overlaying")),!I){var G=y("domain",A);G[0]>G[1]-.000244140625&&(d.domain=A),T.noneOrAll(v.domain,d.domain,A),"sync"===d.tickmode&&(d.tickmode="auto")}return y("layer"),d}},2568:function(Ce,j,o){"use strict";var p=o(5024);Ce.exports=function(h,v,d,y,g){g||(g={});var m=g.tickSuffixDflt,c=p(h);d("tickprefix")&&d("showtickprefix",c),d("ticksuffix",m)&&d("showticksuffix",c)}},6312:function(Ce,j,o){"use strict";var p=o(6808);Ce.exports=function(h,v,d,y){var m=v.type||(v._template||{}).type||"-";d("minallowed"),d("maxallowed");var C,c=d("range");c||!y.noInsiderange&&"log"!==m&&((C=d("insiderange"))&&(null===C[0]||null===C[1])&&(v.insiderange=!1,C=void 0),C&&(c=d("range",C)));var z,w=v.getAutorangeDflt(c,y),S=d("autorange",w);c&&(null===c[0]&&null===c[1]||(null===c[0]||null===c[1])&&("reversed"===S||!0===S)||null!==c[0]&&("min"===S||"max reversed"===S)||null!==c[1]&&("max"===S||"min reversed"===S))&&(c=void 0,delete v.range,v.autorange=!0,z=!0),z||(S=d("autorange",w=v.getAutorangeDflt(c,y))),S&&(p(d,S,c),("linear"===m||"-"===m)&&d("rangemode")),v.cleanRange()}},1160:function(Ce,j,o){"use strict";var p=o(4284).FROM_BL;Ce.exports=function(h,v,d){void 0===d&&(d=p[h.constraintoward||"center"]);var y=[h.r2l(h.range[0]),h.r2l(h.range[1])],g=y[0]+(y[1]-y[0])*d;h.range=h._input.range=[h.l2r(g+(y[0]-g)*v),h.l2r(g+(y[1]-g)*v)],h.setScale()}},8344:function(Ce,j,o){"use strict";var p=o(3428),T=o(4336).E9,h=o(3400),v=h.numberFormat,d=o(8248),y=h.cleanNumber,g=h.ms2DateTime,m=h.dateTime2ms,c=h.ensureNumber,C=h.isArrayOrTypedArray,w=o(9032),S=w.FP_SAFE,z=w.BADNUM,A=w.LOG_CLIP,D=w.ONEWEEK,_=w.ONEDAY,E=w.ONEHOUR,M=w.ONEMIN,L=w.ONESEC,b=o(9811),P=o(3816),I=P.HOUR_PATTERN,G=P.WEEKDAY_PATTERN;function $(re){return Math.pow(10,re)}function J(re){return null!=re}Ce.exports=function(O,Q){Q=Q||{};var U=O._id||"x",ne=U.charAt(0);function le(H,Y){if(H>0)return Math.log(H)/Math.LN10;if(H<=0&&Y&&O.range&&2===O.range.length){var te=O.range[0],Z=O.range[1];return.5*(te+Z-2*A*Math.abs(te-Z))}return z}function pe(H,Y,te,Z){if((Z||{}).msUTC&&d(H))return+H;var N=m(H,te||O.calendar);if(N===z){if(!d(H))return z;H=+H;var ee=Math.floor(10*h.mod(H+.05,1)),B=Math.round(H-ee/10);N=m(new Date(B))+ee/10}return N}function W(H,Y,te){return g(H,Y,te||O.calendar)}function K(H){return O._categories[Math.round(H)]}function X(H){if(J(H)){if(void 0===O._categoriesMap&&(O._categoriesMap={}),void 0!==O._categoriesMap[H])return O._categoriesMap[H];O._categories.push("number"==typeof H?String(H):H);var Y=O._categories.length-1;return O._categoriesMap[H]=Y,Y}return z}function ue(H){if(O._categoriesMap)return O._categoriesMap[H]}function ce(H){var Y=ue(H);return void 0!==Y?Y:d(H)?+H:void 0}function ge(H){return d(H)?+H:ue(H)}function De(H,Y,te){return p.round(te+Y*H,2)}function Ne(H,Y,te){return(H-te)/Y}var Be=function(Y){return d(Y)?De(Y,O._m,O._b):z},Fe=function(H){return Ne(H,O._m,O._b)};if(O.rangebreaks){var Se="y"===ne;Be=function(H){if(!d(H))return z;var Y=O._rangebreaks.length;if(!Y)return De(H,O._m,O._b);var te=Se;O.range[0]>O.range[1]&&(te=!te);for(var Z=te?-1:1,N=Z*H,ee=0,B=0;B<Y;B++){var se=Z*O._rangebreaks[B].min,xe=Z*O._rangebreaks[B].max;if(N<se)break;if(!(N>xe)){ee=N<(se+xe)/2?B:B+1;break}ee=B+1}var Te=O._B[ee]||0;return isFinite(Te)?De(H,O._m2,Te):0},Fe=function(H){var Y=O._rangebreaks.length;if(!Y)return Ne(H,O._m,O._b);for(var te=0,Z=0;Z<Y&&!(H<O._rangebreaks[Z].pmin);Z++)H>O._rangebreaks[Z].pmax&&(te=Z+1);return Ne(H,O._m2,O._B[te])}}O.c2l="log"===O.type?le:c,O.l2c="log"===O.type?$:c,O.l2p=Be,O.p2l=Fe,O.c2p="log"===O.type?function(H,Y){return Be(le(H,Y))}:Be,O.p2c="log"===O.type?function(H){return $(Fe(H))}:Fe,-1!==["linear","-"].indexOf(O.type)?(O.d2r=O.r2d=O.d2c=O.r2c=O.d2l=O.r2l=y,O.c2d=O.c2r=O.l2d=O.l2r=c,O.d2p=O.r2p=function(H){return O.l2p(y(H))},O.p2d=O.p2r=Fe,O.cleanPos=c):"log"===O.type?(O.d2r=O.d2l=function(H,Y){return le(y(H),Y)},O.r2d=O.r2c=function(H){return $(y(H))},O.d2c=O.r2l=y,O.c2d=O.l2r=c,O.c2r=le,O.l2d=$,O.d2p=function(H,Y){return O.l2p(O.d2r(H,Y))},O.p2d=function(H){return $(Fe(H))},O.r2p=function(H){return O.l2p(y(H))},O.p2r=Fe,O.cleanPos=c):"date"===O.type?(O.d2r=O.r2d=h.identity,O.d2c=O.r2c=O.d2l=O.r2l=pe,O.c2d=O.c2r=O.l2d=O.l2r=W,O.d2p=O.r2p=function(H,Y,te){return O.l2p(pe(H,0,te))},O.p2d=O.p2r=function(H,Y,te){return W(Fe(H),Y,te)},O.cleanPos=function(H){return h.cleanDate(H,z,O.calendar)}):"category"===O.type?(O.d2c=O.d2l=X,O.r2d=O.c2d=O.l2d=K,O.d2r=O.d2l_noadd=ce,O.r2c=function(H){var Y=ge(H);return void 0!==Y?Y:O.fraction2r(.5)},O.l2r=O.c2r=c,O.r2l=ge,O.d2p=function(H){return O.l2p(O.r2c(H))},O.p2d=function(H){return K(Fe(H))},O.r2p=O.d2p,O.p2r=Fe,O.cleanPos=function(H){return"string"==typeof H&&""!==H?H:c(H)}):"multicategory"===O.type&&(O.r2d=O.c2d=O.l2d=K,O.d2r=O.d2l_noadd=ce,O.r2c=function(H){var Y=ce(H);return void 0!==Y?Y:O.fraction2r(.5)},O.r2c_just_indices=ue,O.l2r=O.c2r=c,O.r2l=ce,O.d2p=function(H){return O.l2p(O.r2c(H))},O.p2d=function(H){return K(Fe(H))},O.r2p=O.d2p,O.p2r=Fe,O.cleanPos=function(H){return Array.isArray(H)||"string"==typeof H&&""!==H?H:c(H)},O.setupMultiCategory=function(H){var te,Z,Y=O._traceIndices,N=O._matchGroup;if(N&&0===O._categories.length)for(var ee in N)if(ee!==U){var B=Q[b.id2name(ee)];Y=Y.concat(B._traceIndices)}var se=[[0,{}],[0,{}]],xe=[];for(te=0;te<Y.length;te++){var Te=H[Y[te]];if(ne in Te){var Ee=Te[ne],Oe=Te._length||h.minRowLength(Ee);if(C(Ee[0])&&C(Ee[1]))for(Z=0;Z<Oe;Z++){var $e=Ee[0][Z],ct=Ee[1][Z];J($e)&&J(ct)&&(xe.push([$e,ct]),$e in se[0][1]||(se[0][1][$e]=se[0][0]++),ct in se[1][1]||(se[1][1][ct]=se[1][0]++))}}}for(xe.sort(function(ft,gt){var ze=se[0][1],Ve=ze[ft[0]]-ze[gt[0]];if(Ve)return Ve;var Pe=se[1][1];return Pe[ft[1]]-Pe[gt[1]]}),te=0;te<xe.length;te++)X(xe[te])}),O.fraction2r=function(H){var Y=O.r2l(O.range[0]),te=O.r2l(O.range[1]);return O.l2r(Y+H*(te-Y))},O.r2fraction=function(H){var Y=O.r2l(O.range[0]),te=O.r2l(O.range[1]);return(O.r2l(H)-Y)/(te-Y)},O.limitRange=function(H){var Y=O.minallowed,te=O.maxallowed;if(void 0!==Y||void 0!==te){H||(H="range");var Z=h.nestedProperty(O,H).get(),N=h.simpleMap(Z,O.r2l),ee=N[1]<N[0];ee&&N.reverse();var B=h.simpleMap([Y,te],O.r2l);if(void 0!==Y&&N[0]<B[0]&&(Z[ee?1:0]=Y),void 0!==te&&N[1]>B[1]&&(Z[ee?0:1]=te),Z[0]===Z[1]){var se=O.l2r(Y),xe=O.l2r(te);if(void 0!==Y){var Te=se+1;void 0!==te&&(Te=Math.min(Te,xe)),Z[ee?1:0]=Te}if(void 0!==te){var Ee=xe+1;void 0!==Y&&(Ee=Math.max(Ee,se)),Z[ee?0:1]=Ee}}}},O.cleanRange=function(H,Y){O._cleanRange(H,Y),O.limitRange(H)},O._cleanRange=function(H,Y){Y||(Y={}),H||(H="range");var Z,N,te=h.nestedProperty(O,H).get();if(N=(N="date"===O.type?h.dfltRange(O.calendar):"y"===ne?P.DFLTRANGEY:"realaxis"===O._name?[0,1]:Y.dfltRange||P.DFLTRANGEX).slice(),("tozero"===O.rangemode||"nonnegative"===O.rangemode)&&(N[0]=0),te&&2===te.length){var ee=null===te[0],B=null===te[1];for("date"===O.type&&!O.autorange&&(te[0]=h.cleanDate(te[0],z,O.calendar),te[1]=h.cleanDate(te[1],z,O.calendar)),Z=0;Z<2;Z++)if("date"===O.type){if(!h.isDateTime(te[Z],O.calendar)){O[H]=N;break}if(O.r2l(te[0])===O.r2l(te[1])){var se=h.constrain(O.r2l(te[0]),h.MIN_MS+1e3,h.MAX_MS-1e3);te[0]=O.l2r(se-1e3),te[1]=O.l2r(se+1e3);break}}else{if(!d(te[Z])){if(ee||B||!d(te[1-Z])){O[H]=N;break}te[Z]=te[1-Z]*(Z?10:.1)}if(te[Z]<-S?te[Z]=-S:te[Z]>S&&(te[Z]=S),te[0]===te[1]){var xe=Math.max(1,Math.abs(1e-6*te[0]));te[0]-=xe,te[1]+=xe}}}else h.nestedProperty(O,H).set(N)},O.setScale=function(H){var Y=Q._size;if(O.overlaying){var te=b.getFromId({_fullLayout:Q},O.overlaying);O.domain=te.domain}var Z=H&&O._r?"_r":"range",N=O.calendar;O.cleanRange(Z);var xe,Te,ee=O.r2l(O[Z][0],N),B=O.r2l(O[Z][1],N),se="y"===ne;if(se?(O._offset=Y.t+(1-O.domain[1])*Y.h,O._length=Y.h*(O.domain[1]-O.domain[0]),O._m=O._length/(ee-B),O._b=-O._m*B):(O._offset=Y.l+O.domain[0]*Y.w,O._length=Y.w*(O.domain[1]-O.domain[0]),O._m=O._length/(B-ee),O._b=-O._m*ee),O._rangebreaks=[],O._lBreaks=0,O._m2=0,O._B=[],O.rangebreaks&&(O._rangebreaks=O.locateBreaks(Math.min(ee,B),Math.max(ee,B)),O._rangebreaks.length)){for(xe=0;xe<O._rangebreaks.length;xe++)Te=O._rangebreaks[xe],O._lBreaks+=Math.abs(Te.max-Te.min);var Ee=se;ee>B&&(Ee=!Ee),Ee&&O._rangebreaks.reverse();var Oe=Ee?-1:1;for(O._m2=Oe*O._length/(Math.abs(B-ee)-O._lBreaks),O._B.push(-O._m2*(se?B:ee)),xe=0;xe<O._rangebreaks.length;xe++)O._B.push(O._B[O._B.length-1]-Oe*O._m2*((Te=O._rangebreaks[xe]).max-Te.min));for(xe=0;xe<O._rangebreaks.length;xe++)(Te=O._rangebreaks[xe]).pmin=Be(Te.min),Te.pmax=Be(Te.max)}if(!isFinite(O._m)||!isFinite(O._b)||O._length<0)throw Q._replotting=!1,new Error("Something went wrong with axis scaling")},O.maskBreaks=function(H){var te,Z,N,ee,B,Y=O.rangebreaks||[];Y._cachedPatterns||(Y._cachedPatterns=Y.map(function(ze){return ze.enabled&&ze.bounds?h.simpleMap(ze.bounds,ze.pattern?y:O.d2c):null})),Y._cachedValues||(Y._cachedValues=Y.map(function(ze){return ze.enabled&&ze.values?h.simpleMap(ze.values,O.d2c).sort(h.sorterAsc):null}));for(var se=0;se<Y.length;se++){var xe=Y[se];if(xe.enabled)if(xe.bounds){switch(Z=(te=Y._cachedPatterns[se])[0],N=te[1],xe.pattern){case G:ee=(B=new Date(H)).getUTCDay(),Z>N&&(N+=7,ee<Z&&(ee+=7));break;case I:ee=(B=new Date(H)).getUTCHours()+(B.getUTCMinutes()/60+B.getUTCSeconds()/3600+B.getUTCMilliseconds()/36e5),Z>N&&(N+=24,ee<Z&&(ee+=24));break;case"":ee=H}if(ee>=Z&&ee<N)return z}else for(var ft=Y._cachedValues[se],gt=0;gt<ft.length;gt++)if(N=(Z=ft[gt])+xe.dvalue,H>=Z&&H<N)return z}return H},O.locateBreaks=function(H,Y){var te,Z,N,ee,B=[];if(!O.rangebreaks)return B;var se=O.rangebreaks.slice().sort(function(Pe,Qe){return Pe.pattern===G&&Qe.pattern===I?-1:Qe.pattern===G&&Pe.pattern===I?1:0}),xe=function(Pe,Qe){if((Pe=h.constrain(Pe,H,Y))!==(Qe=h.constrain(Qe,H,Y))){for(var Ke=!0,dt=0;dt<B.length;dt++){var Dt=B[dt];Pe<Dt.max&&Qe>=Dt.min&&(Pe<Dt.min&&(Dt.min=Pe),Qe>Dt.max&&(Dt.max=Qe),Ke=!1)}Ke&&B.push({min:Pe,max:Qe})}};for(te=0;te<se.length;te++){var Te=se[te];if(Te.enabled)if(Te.bounds){var Ee=H,Oe=Y;Te.pattern&&(Ee=Math.floor(Ee)),N=(Z=h.simpleMap(Te.bounds,Te.pattern?y:O.r2l))[0],ee=Z[1];var ct,ft,$e=new Date(Ee);switch(Te.pattern){case G:ft=D,ct=(ee-N+(ee<N?7:0))*_,Ee+=N*_-($e.getUTCDay()*_+$e.getUTCHours()*E+$e.getUTCMinutes()*M+$e.getUTCSeconds()*L+$e.getUTCMilliseconds());break;case I:ft=_,ct=(ee-N+(ee<N?24:0))*E,Ee+=N*E-($e.getUTCHours()*E+$e.getUTCMinutes()*M+$e.getUTCSeconds()*L+$e.getUTCMilliseconds());break;default:Ee=Math.min(Z[0],Z[1]),ct=ft=(Oe=Math.max(Z[0],Z[1]))-Ee}for(var gt=Ee;gt<Oe;gt+=ft)xe(gt,gt+ct)}else for(var ze=h.simpleMap(Te.values,O.d2c),Ve=0;Ve<ze.length;Ve++)xe(N=ze[Ve],ee=N+Te.dvalue)}return B.sort(function(Pe,Qe){return Pe.min-Qe.min}),B},O.makeCalcdata=function(H,Y,te){var Z,N,ee,B,se=O.type,xe="date"===se&&H[Y+"calendar"];if(Y in H){if(Z=H[Y],B=H._length||h.minRowLength(Z),h.isTypedArray(Z)&&("linear"===se||"log"===se)){if(B===Z.length)return Z;if(Z.subarray)return Z.subarray(0,B)}if("multicategory"===se)return function ie(H,Y){for(var te=new Array(Y),Z=0;Z<Y;Z++)te[Z]=ue([(H[0]||[])[Z],(H[1]||[])[Z]]);return te}(Z,B);for(N=new Array(B),ee=0;ee<B;ee++)N[ee]=O.d2c(Z[ee],0,xe,te)}else{var Te=Y+"0"in H?O.d2c(H[Y+"0"],0,xe):0,Ee=H["d"+Y]?Number(H["d"+Y]):1;for(Z=H[{x:"y",y:"x"}[Y]],B=H._length||Z.length,N=new Array(B),ee=0;ee<B;ee++)N[ee]=Te+ee*Ee}if(O.rangebreaks)for(ee=0;ee<B;ee++)N[ee]=O.maskBreaks(N[ee]);return N},O.isValidRange=function(H,Y){return Array.isArray(H)&&2===H.length&&(Y&&null===H[0]||d(O.r2l(H[0])))&&(Y&&null===H[1]||d(O.r2l(H[1])))},O.getAutorangeDflt=function(H,Y){var te=!O.isValidRange(H,"nullOk");return te&&Y&&Y.reverseDflt?te="reversed":H&&(null===H[0]&&null===H[1]?te=!0:null===H[0]&&null!==H[1]?te="min":null!==H[0]&&null===H[1]&&(te="max")),te},O.isReversed=function(){var H=O.autorange;return"reversed"===H||"min reversed"===H||"max reversed"===H},O.isPtWithinRange=function(H,Y){var te=O.c2l(H[ne],null,Y),Z=O.r2l(O.range[0]),N=O.r2l(O.range[1]);return Z<N?Z<=te&&te<=N:N<=te&&te<=Z},O._emptyCategories=function(){O._categories=[],O._categoriesMap={}},O.clearCalc=function(){var H=O._matchGroup;if(H){var Y=null,te=null;for(var Z in H){var N=Q[b.id2name(Z)];if(N._categories){Y=N._categories,te=N._categoriesMap;break}}Y&&te?(O._categories=Y,O._categoriesMap=te):O._emptyCategories()}else O._emptyCategories();if(O._initialCategories)for(var ee=0;ee<O._initialCategories.length;ee++)X(O._initialCategories[ee])},O.sortByInitialCategories=function(){var H=[];if(O._emptyCategories(),O._initialCategories)for(var Y=0;Y<O._initialCategories.length;Y++)X(O._initialCategories[Y]);H=H.concat(O._traceIndices);var te=O._matchGroup;for(var Z in te)if(U!==Z){var N=Q[b.id2name(Z)];N._categories=O._categories,N._categoriesMap=O._categoriesMap,H=H.concat(N._traceIndices)}return H};var ye=Q._d3locale;"date"===O.type&&(O._dateFormat=ye?ye.timeFormat:T,O._extraFormat=Q._extraFormat),O._separators=Q.separators,O._numFormat=ye?ye.numberFormat:v,delete O._minDtick,delete O._forceTick0}},5024:function(Ce){"use strict";Ce.exports=function(o){var T=["showexponent","showtickprefix","showticksuffix"].filter(function(v){return void 0!==o[v]});if(T.every(function(v){return o[v]===o[T[0]]})||1===T.length)return o[T[0]]}},5936:function(Ce,j,o){"use strict";var p=o(3400),T=o(6308).contrast,h=o(4724),v=o(5024),d=o(1272);function y(g,m){function c(w,S){return p.coerce(g,m,h.tickformatstops,w,S)}c("enabled")&&(c("dtickrange"),c("value"))}Ce.exports=function(m,c,C,w,S){S||(S={});var z=C("labelalias");p.isPlainObject(z)||delete c.labelalias;var A=v(m);if(C("showticklabels")){S.noTicklabelshift||C("ticklabelshift"),S.noTicklabelstandoff||C("ticklabelstandoff");var _=S.font||{},E=c.color,L=-1!==(c.ticklabelposition||"").indexOf("inside")?T(S.bgColor):E&&E!==h.color.dflt?E:_.color;if(p.coerceFont(C,"tickfont",_,{overrideDflt:{color:L}}),!S.noTicklabelstep&&"multicategory"!==w&&"log"!==w&&C("ticklabelstep"),!S.noAng){var b=C("tickangle");!S.noAutotickangles&&"auto"===b&&C("autotickangles")}if("category"!==w){var P=C("tickformat");d(m,c,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:y}),c.tickformatstops.length||delete c.tickformatstops,!S.noExp&&!P&&"date"!==w&&(C("showexponent",A),C("exponentformat"),C("minexponent"),C("separatethousands"))}}}},5404:function(Ce,j,o){"use strict";var p=o(3400),T=o(4724);Ce.exports=function(v,d,y,g){var m=g.isMinor,c=m?v.minor||{}:v,C=m?d.minor:d,w=m?T.minor:T,S=m?"minor.":"",z=p.coerce2(c,C,w,"ticklen",m?.6*(d.ticklen||5):void 0),A=p.coerce2(c,C,w,"tickwidth",m?d.tickwidth||1:void 0),D=p.coerce2(c,C,w,"tickcolor",(m?d.tickcolor:void 0)||C.color);y(S+"ticks",!m&&g.outerTicks||z||A||D?"outside":"")||(delete C.ticklen,delete C.tickwidth,delete C.tickcolor)}},6332:function(Ce,j,o){"use strict";var p=o(8728),T=o(3400).isArrayOrTypedArray,h=o(8116).isTypedArraySpec,v=o(8116).decodeTypedArraySpec;Ce.exports=function(y,g,m,c,C){C||(C={});var w=C.isMinor,S=w?y.minor||{}:y,z=w?g.minor:g,A=w?"minor.":"";function D(G){var $=S[G];return h($)&&($=v($)),void 0!==$?$:(z._template||{})[G]}var _=D("tick0"),E=D("dtick"),M=D("tickvals"),b=m(A+"tickmode",T(M)?"array":E?"linear":"auto");if("auto"===b||"sync"===b)m(A+"nticks");else if("linear"===b){var P=z.dtick=p.dtick(E,c);z.tick0=p.tick0(_,c,g.calendar,P)}else"multicategory"!==c&&(void 0===m(A+"tickvals")?z.tickmode="auto":w||m("ticktext"))}},3736:function(Ce,j,o){"use strict";var p=o(3428),T=o(4040),h=o(3400),v=o(3616),d=o(4460);Ce.exports=function(g,m,c,C){var w=g._fullLayout;if(0!==m.length){var A;C&&(A=C());var E,M,L,b=p.ease(c.easing);return g._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(L),L=null,function _(){for(var I={},G=0;G<m.length;G++){var $=m[G],re=$.plotinfo.yaxis;$.xr0&&(I[$.plotinfo.xaxis._name+".range"]=$.xr0.slice()),$.yr0&&(I[re._name+".range"]=$.yr0.slice())}return T.call("relayout",g,I).then(function(){for(var O=0;O<m.length;O++)S(m[O].plotinfo)})}()}),E=Date.now(),L=window.requestAnimationFrame(function P(){M=Date.now();for(var I=Math.min(1,(M-E)/c.duration),G=b(I),$=0;$<m.length;$++)z(m[$],G);M-E>c.duration?(function D(){for(var I={},G=0;G<m.length;G++){var $=m[G],re=$.plotinfo.yaxis;$.xr1&&(I[$.plotinfo.xaxis._name+".range"]=$.xr1.slice()),$.yr1&&(I[re._name+".range"]=$.yr1.slice())}return A&&A(),T.call("relayout",g,I).then(function(){for(var O=0;O<m.length;O++)S(m[O].plotinfo)})}(),L=window.cancelAnimationFrame(P)):L=window.requestAnimationFrame(P)}),Promise.resolve()}function S(I){var G=I.xaxis,$=I.yaxis;w._defs.select("#"+I.clipId+"> rect").call(v.setTranslate,0,0).call(v.setScale,1,1),I.plot.call(v.setTranslate,G._offset,$._offset).call(v.setScale,1,1);var J=I.plot.selectAll(".scatterlayer .trace");J.selectAll(".point").call(v.setPointGroupScale,1,1),J.selectAll(".textpoint").call(v.setTextPointsScale,1,1),J.call(v.hideOutsideRangePoints,I)}function z(I,G){var $=I.plotinfo,J=$.xaxis,re=$.yaxis,O=J._length,Q=re._length,U=!!I.xr1,ne=!!I.yr1,le=[];if(U){var pe=h.simpleMap(I.xr0,J.r2l),W=h.simpleMap(I.xr1,J.r2l),K=pe[1]-pe[0],X=W[1]-W[0];le[0]=(pe[0]*(1-G)+G*W[0]-pe[0])/(pe[1]-pe[0])*O,le[2]=O*(1-G+G*X/K),J.range[0]=J.l2r(pe[0]*(1-G)+G*W[0]),J.range[1]=J.l2r(pe[1]*(1-G)+G*W[1])}else le[0]=0,le[2]=O;if(ne){var ie=h.simpleMap(I.yr0,re.r2l),ue=h.simpleMap(I.yr1,re.r2l),ce=ie[1]-ie[0],ge=ue[1]-ue[0];le[1]=(ie[1]*(1-G)+G*ue[1]-ie[1])/(ie[0]-ie[1])*Q,le[3]=Q*(1-G+G*ge/ce),re.range[0]=J.l2r(ie[0]*(1-G)+G*ue[0]),re.range[1]=re.l2r(ie[1]*(1-G)+G*ue[1])}else le[1]=0,le[3]=Q;d.drawOne(g,J,{skipTitle:!0}),d.drawOne(g,re,{skipTitle:!0}),d.redrawComponents(g,[J._id,re._id]);var De=U?O/le[2]:1,Ne=ne?Q/le[3]:1,H=J._offset-(U?le[0]/le[2]*O:0),Y=re._offset-(ne?le[1]/le[3]*Q:0);$.clipRect.call(v.setTranslate,U?le[0]:0,ne?le[1]:0).call(v.setScale,1/De,1/Ne),$.plot.call(v.setTranslate,H,Y).call(v.setScale,De,Ne),v.setPointGroupScale($.zoomScalePts,1/De,1/Ne),v.setTextPointsScale($.zoomScaleTxt,1/De,1/Ne)}d.redrawComponents(g)}},4944:function(Ce,j,o){"use strict";var p=o(4040).traceIs,T=o(2976);function h(g,m){if("-"===g.type){var w,c=g._id,C=c.charAt(0);-1!==c.indexOf("scene")&&(c=C);var S=function v(g,m,c){for(var C=0;C<g.length;C++){var w=g[C];if("splom"===w.type&&w._length>0&&(w["_"+c+"axes"]||{})[m])return w;if((w[c+"axis"]||c)===m){if(y(w,c))return w;if((w[c]||[]).length||w[c+"0"])return w}}}(m,c,C);if(S){if("histogram"===S.type&&C==={v:"y",h:"x"}[S.orientation||"v"])return void(g.type="linear");var z=C+"calendar",A=S[z],D={noMultiCategory:!p(S,"cartesian")||p(S,"noMultiCategory")};if("box"===S.type&&S._hasPreCompStats&&C==={h:"x",v:"y"}[S.orientation||"v"]&&(D.noMultiCategory=!0),D.autotypenumbers=g.autotypenumbers,y(S,C)){var _=d(S),E=[];for(w=0;w<m.length;w++){var M=m[w];!p(M,"box-violin")||(M[C+"axis"]||C)!==c||(E.push(void 0!==M[_]?M[_][0]:void 0!==M.name?M.name:"text"),M[z]!==A&&(A=void 0))}g.type=T(E,A,D)}else if("splom"===S.type){var b=S.dimensions[S._axesDim[c]];b.visible&&(g.type=T(b.values,A,D))}else g.type=T(S[C]||[S[C+"0"]],A,D)}}}function d(g){return{v:"x",h:"y"}[g.orientation||"v"]}function y(g,m){var c=d(g),C=p(g,"box-violin"),w=p(g._fullInput||{},"candlestick");return C&&!w&&m===c&&void 0===g[c]&&void 0===g[c+"0"]}Ce.exports=function(m,c,C,w){C("autotypenumbers",w.autotypenumbersDflt),"-"===C("type",(w.splomStash||{}).type)&&(h(c,w.data),"-"===c.type?c.type="linear":m.type=c.type)}},2460:function(Ce,j,o){"use strict";var p=o(4040),T=o(3400);function h(m,c,C){var w,S,z,A=!1;if("data"===c.type)w=m._fullData[null!==c.traces?c.traces[0]:0];else{if("layout"!==c.type)return!1;w=m._fullLayout}return S=T.nestedProperty(w,c.prop).get(),(z=C[c.type]=C[c.type]||{}).hasOwnProperty(c.prop)&&z[c.prop]!==S&&(A=!0),z[c.prop]=S,{changed:A,value:S}}function d(m,c){var C=[],w=c[0],S={};if("string"==typeof w)S[w]=c[1];else{if(!T.isPlainObject(w))return C;S=w}return g(S,function(z,A,D){C.push({type:"layout",prop:z,value:D})},"",0),C}function y(m,c){var C,w,S,z,A=[];if(S=c[1],C=c[2],z={},"string"==typeof(w=c[0]))z[w]=S;else{if(!T.isPlainObject(w))return A;z=w,void 0===C&&(C=S)}return void 0===C&&(C=null),g(z,function(D,_,E){var M,L;if(Array.isArray(E)){L=E.slice();var b=Math.min(L.length,m.data.length);C&&(b=Math.min(b,C.length)),M=[];for(var P=0;P<b;P++)M[P]=C?C[P]:P}else L=E,M=C?C.slice():null;if(null===M)Array.isArray(L)&&(L=L[0]);else if(Array.isArray(M)){if(!Array.isArray(L)){var I=L;L=[];for(var G=0;G<M.length;G++)L[G]=I}L.length=Math.min(M.length,L.length)}A.push({type:"data",prop:D,traces:M,value:L})},"",0),A}function g(m,c,C,w){Object.keys(m).forEach(function(S){var z=m[S];if("_"!==S[0]){var A=C+(w>0?".":"")+S;T.isPlainObject(z)?g(z,c,A,w+1):c(A,S,z)}})}j.manageCommandObserver=function(m,c,C,w){var S={},z=!0;c&&c._commandObserver&&(S=c._commandObserver),S.cache||(S.cache={}),S.lookupTable={};var A=j.hasSimpleAPICommandBindings(m,C,S.lookupTable);if(c&&c._commandObserver){if(A)return S;if(c._commandObserver.remove)return c._commandObserver.remove(),c._commandObserver=null,S}if(A){h(m,A,S.cache),S.check=function(){if(z){var M=h(m,A,S.cache);return M.changed&&w&&void 0!==S.lookupTable[M.value]&&(S.disable(),Promise.resolve(w({value:M.value,type:A.type,prop:A.prop,traces:A.traces,index:S.lookupTable[M.value]})).then(S.enable,S.enable)),M.changed}};for(var D=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],_=0;_<D.length;_++)m._internalOn(D[_],S.check);S.remove=function(){for(var E=0;E<D.length;E++)m._removeInternalListener(D[E],S.check)}}else T.log("Unable to automatically bind plot updates to API command"),S.lookupTable={},S.remove=function(){};return S.disable=function(){z=!1},S.enable=function(){z=!0},c&&(c._commandObserver=S),S},j.hasSimpleAPICommandBindings=function(m,c,C){var w,z,S=c.length;for(w=0;w<S;w++){var A,D=c[w],_=D.method,E=D.args;if(Array.isArray(E)||(E=[]),!_)return!1;var M=j.computeAPICommandBindings(m,_,E);if(1!==M.length)return!1;if(z){if((A=M[0]).type!==z.type||A.prop!==z.prop)return!1;if(Array.isArray(z.traces)){if(!Array.isArray(A.traces))return!1;A.traces.sort();for(var L=0;L<z.traces.length;L++)if(z.traces[L]!==A.traces[L])return!1}else if(A.prop!==z.prop)return!1}else z=M[0],Array.isArray(z.traces)&&z.traces.sort();var b=(A=M[0]).value;if(Array.isArray(b)){if(1!==b.length)return!1;b=b[0]}C&&(C[b]=w)}return z},j.executeAPICommand=function(m,c,C){if("skip"===c)return Promise.resolve();var w=p.apiMethodRegistry[c],S=[m];Array.isArray(C)||(C=[]);for(var z=0;z<C.length;z++)S.push(C[z]);return w.apply(null,S).catch(function(A){return T.warn("API call to Plotly."+c+" rejected.",A),Promise.reject(A)})},j.computeAPICommandBindings=function(m,c,C){var w;switch(Array.isArray(C)||(C=[]),c){case"restyle":w=y(m,C);break;case"relayout":w=d(0,C);break;case"update":w=y(m,[C[0],C[2]]).concat(d(0,[C[1]]));break;case"animate":w=function v(m,c){return Array.isArray(c[0])&&1===c[0].length&&-1!==["string","number"].indexOf(typeof c[0][0])?[{type:"layout",prop:"_currentFrame",value:c[0][0].toString()}]:[]}(0,C);break;default:w=[]}return w}},6968:function(Ce,j,o){"use strict";var p=o(2880).extendFlat;j.u=function(T,h){var v={valType:"info_array",editType:(T=T||{}).editType,items:[{valType:"number",min:0,max:1,editType:T.editType},{valType:"number",min:0,max:1,editType:T.editType}],dflt:[0,1]},m=(h=h||{},{x:p({},v,{}),y:p({},v,{}),editType:T.editType});return T.noGridCell||(m.row={valType:"integer",min:0,dflt:0,editType:T.editType},m.column={valType:"integer",min:0,dflt:0,editType:T.editType}),m},j.Q=function(T,h,v,d){var y=d&&d.x||[0,1],g=d&&d.y||[0,1],m=h.grid;if(m){var c=v("domain.column");void 0!==c&&(c<m.columns?y=m._domains.x[c]:delete T.domain.column);var C=v("domain.row");void 0!==C&&(C<m.rows?g=m._domains.y[C]:delete T.domain.row)}var w=v("domain.x",y),S=v("domain.y",g);w[0]<w[1]||(T.domain.x=y.slice()),S[0]<S[1]||(T.domain.y=g.slice())}},5376:function(Ce){"use strict";Ce.exports=function(j){var o=j.variantValues,p=j.editType,T=j.colorEditType;void 0===T&&(T=p);var h={editType:p,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};j.noNumericWeightValues&&(h.valType="enumerated",h.values=h.extras,h.extras=void 0,h.min=void 0,h.max=void 0);var v={family:{valType:"string",noBlank:!0,strict:!0,editType:p},size:{valType:"number",min:1,editType:p},color:{valType:"color",editType:T},weight:h,style:{editType:p,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:j.noFontVariant?void 0:{editType:p,valType:"enumerated",values:o||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:j.noFontTextcase?void 0:{editType:p,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:j.noFontLineposition?void 0:{editType:p,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:j.noFontShadow?void 0:{editType:p,valType:"string",dflt:j.autoShadowDflt?"auto":"none"},editType:p};return j.autoSize&&(v.size.dflt="auto"),j.autoColor&&(v.color.dflt="auto"),j.arrayOk&&(v.family.arrayOk=!0,v.weight.arrayOk=!0,v.style.arrayOk=!0,j.noFontVariant||(v.variant.arrayOk=!0),j.noFontTextcase||(v.textcase.arrayOk=!0),j.noFontLineposition||(v.lineposition.arrayOk=!0),j.noFontShadow||(v.shadow.arrayOk=!0),v.size.arrayOk=!0,v.color.arrayOk=!0),v}},6672:function(Ce){"use strict";Ce.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},4888:function(Ce,j,o){"use strict";var T=o(4040);o(3816),j._M=function(v,d,y){var c,g=[],m=[];if(!(c="string"==typeof d?T.getModule(d).plot:"function"==typeof d?d:d.plot))return[g,v];for(var C=y,w=0;w<v.length;w++){var S=v[w],z=S[0].trace;!0!==z.visible||0===z._length||(!z._module||z._module.plot!==c||void 0!==z.zorder&&z.zorder!==C?m.push(S):g.push(S))}return[g,m]}},4424:function(Ce){"use strict";function j(p,T){var v,d,h=[0,0,0,0];for(v=0;v<4;++v)for(d=0;d<4;++d)h[d]+=p[4*v+d]*T[v];return h}Ce.exports=function o(p,T){return j(p.projection,j(p.view,j(p.model,[T[0],T[1],T[2],1])))}},4859:function(Ce,j,o){"use strict";var p=o(5376),T=o(5656),h=o(2548),v=o(2872),d=o(4200),y=o(6741),g=o(2880).extendFlat,m=p({editType:"calc"});m.family.dflt='"Open Sans", verdana, arial, sans-serif',m.size.dflt=12,m.color.dflt=h.defaultLine,Ce.exports={font:m,title:{text:{valType:"string",editType:"layoutstyle"},font:p({editType:"layoutstyle"}),subtitle:{text:{valType:"string",editType:"layoutstyle"},font:p({editType:"layoutstyle"}),editType:"layoutstyle"},xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:g(y({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:h.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:h.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:h.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:v.newshape,activeshape:v.activeshape,newselection:d.newselection,activeselection:d.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:g({},T.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:p({editType:"layoutstyle"})}}},6741:function(Ce){"use strict";Ce.exports=function(j){var o=j.editType;return{t:{valType:"number",dflt:0,editType:o},r:{valType:"number",dflt:0,editType:o},b:{valType:"number",dflt:0,editType:o},l:{valType:"number",dflt:0,editType:o},editType:o}}},7316:function(Ce,j,o){"use strict";var p=o(3428),T=o(4336).m_,h=o(7624).SO,v=o(8248),d=o(3160),y=o(4040),g=o(3060),m=o(1780),c=o(3400),C=o(6308),w=o(9032).BADNUM,S=o(9811),z=o(1936).clearOutline,A=o(5308),D=o(5656),_=o(6672),E=o(4888)._M,M=c.relinkPrivateKeys,L=c._,b=Ce.exports={};c.extendFlat(b,y),b.attributes=o(5464),b.attributes.type.values=b.allTypes,b.fontAttrs=o(5376),b.layoutAttributes=o(4859);var P=b.transformsRegistry,I=o(2460);b.executeAPICommand=I.executeAPICommand,b.computeAPICommandBindings=I.computeAPICommandBindings,b.manageCommandObserver=I.manageCommandObserver,b.hasSimpleAPICommandBindings=I.hasSimpleAPICommandBindings,b.redrawText=function(H){return H=c.getGraphDiv(H),new Promise(function(Y){setTimeout(function(){H._fullLayout&&(y.getComponentMethod("annotations","draw")(H),y.getComponentMethod("legend","draw")(H),y.getComponentMethod("colorbar","draw")(H),Y(b.previousPromises(H)))},300)})},b.resize=function(H){H=c.getGraphDiv(H);var Y,te=new Promise(function(Z,N){(!H||c.isHidden(H))&&N(new Error("Resize must be passed a displayed plot div element.")),H._redrawTimer&&clearTimeout(H._redrawTimer),H._resolveResize&&(Y=H._resolveResize),H._resolveResize=Z,H._redrawTimer=setTimeout(function(){if(!H.layout||H.layout.width&&H.layout.height||c.isHidden(H))Z(H);else{delete H.layout.width,delete H.layout.height;var ee=H.changed;H.autoplay=!0,y.call("relayout",H,{autosize:!0}).then(function(){H.changed=ee,H._resolveResize===Z&&(delete H._resolveResize,Z(H))})}},100)});return Y&&Y(te),te},b.previousPromises=function(H){if((H._promises||[]).length)return Promise.all(H._promises).then(function(){H._promises=[]})},b.addLinks=function(H){if(H._context.showLink||H._context.showSources){var Y=H._fullLayout,te=c.ensureSingle(Y._paper,"text","js-plot-link-container",function(xe){xe.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:C.defaultLine,"pointer-events":"all"}).each(function(){var Te=p.select(this);Te.append("tspan").classed("js-link-to-tool",!0),Te.append("tspan").classed("js-link-spacer",!0),Te.append("tspan").classed("js-sourcelinks",!0)})}),Z=te.node(),N={y:Y._paper.attr("height")-9};document.body.contains(Z)&&Z.getComputedTextLength()>=Y.width-20?(N["text-anchor"]="start",N.x=5):(N["text-anchor"]="end",N.x=Y._paper.attr("width")-7),te.attr(N);var ee=te.select(".js-link-to-tool"),B=te.select(".js-link-spacer"),se=te.select(".js-sourcelinks");H._context.showSources&&H._context.showSources(H),H._context.showLink&&function G(H,Y){Y.text("");var te=Y.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(H._context.linkText+" \xbb");if(H._context.sendData)te.on("click",function(){b.sendDataToCloud(H)});else{var Z=window.location.pathname.split("/"),N=window.location.search;te.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+Z[2].split(".")[0]+"/"+Z[1]+N})}}(H,ee),B.text(ee.text()&&se.text()?" - ":"")}},b.sendDataToCloud=function(H){var Y=(window.PLOTLYENV||{}).BASE_URL||H._context.plotlyServerURL;if(Y){H.emit("plotly_beforeexport");var te=p.select(H).append("div").attr("id","hiddenform").style("display","none"),Z=te.append("form").attr({action:Y+"/external",method:"post",target:"_blank"});return Z.append("input").attr({type:"text",name:"data"}).node().value=b.graphJson(H,!1,"keepdata"),Z.node().submit(),te.remove(),H.emit("plotly_afterexport"),!1}};var $=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],J=["year","month","dayMonth","dayMonthYear"];function Q(H,Y){var te=H._context.locale;te||(te="en-US");var Z=!1,N={};function ee(Oe){for(var $e=!0,ct=0;ct<Y.length;ct++){var ft=Y[ct];N[ft]||(Oe[ft]?N[ft]=Oe[ft]:$e=!1)}$e&&(Z=!0)}for(var B=0;B<2;B++){for(var se=H._context.locales,xe=0;xe<2;xe++){var Te=(se[te]||{}).format;if(Te&&(ee(Te),Z))break;se=y.localeRegistry}var Ee=te.split("-")[0];if(Z||Ee===te)break;te=Ee}return Z||ee(y.localeRegistry.en.format),N}function le(H,Y){var te={_fullLayout:Y},Z="x"===H._id.charAt(0),N=H._mainAxis._anchorAxis,ee="",B="",se="";if(N&&(se=N._mainAxis._id,ee=Z?H._id+se:se+H._id),!ee||!Y._plots[ee]){ee="";for(var xe=H._counterAxes,Te=0;Te<xe.length;Te++){var Ee=xe[Te],Oe=Z?H._id+Ee:Ee+H._id;B||(B=Oe);var $e=S.getFromId(te,Ee);if(se&&$e.overlaying===se){ee=Oe;break}}}return ee||B}function pe(H){var Y=H.transforms;if(Array.isArray(Y)&&Y.length)for(var te=0;te<Y.length;te++){var Z=Y[te],N=Z._module||P[Z.type];if(N&&N.makesData)return!0}return!1}function W(H,Y,te,Z){for(var N=H.transforms,ee=[H],B=0;B<N.length;B++){var se=N[B],xe=P[se.type];xe&&xe.transform&&(ee=xe.transform(ee,{transform:se,fullTrace:H,fullData:Y,layout:te,fullLayout:Z,transformIndex:B}))}return ee}function K(H){return"string"==typeof H&&"px"===H.substr(H.length-2)&&parseFloat(H)}function X(H){var Y=H.margin;if(!H._size){var te=H._size={l:Math.round(Y.l),r:Math.round(Y.r),t:Math.round(Y.t),b:Math.round(Y.b),p:Math.round(Y.pad)};te.w=Math.round(H.width)-te.l-te.r,te.h=Math.round(H.height)-te.t-te.b}H._pushmargin||(H._pushmargin={}),H._pushmarginIds||(H._pushmarginIds={}),H._reservedMargin||(H._reservedMargin={})}b.supplyDefaults=function(H,Y){var te=Y&&Y.skipUpdateCalc,Z=H._fullLayout||{};if(Z._skipDefaults)delete Z._skipDefaults;else{var Oe,N=H._fullLayout={},ee=H.layout||{},B=H._fullData||[],se=H._fullData=[],xe=H.data||[],Te=H.calcdata||[],Ee=H._context||{};H._transitionData||b.createTransitionData(H),N._dfltTitle={plot:L(H,"Click to enter Plot title"),subtitle:L(H,"Click to enter Plot subtitle"),x:L(H,"Click to enter X axis title"),y:L(H,"Click to enter Y axis title"),colorbar:L(H,"Click to enter Colorscale title"),annotation:L(H,"new text")},N._traceWord=L(H,"trace");var $e=Q(H,$);if(N._mapboxAccessToken=Ee.mapboxAccessToken,Z._initialAutoSizeIsDone){var ct=Z.width,ft=Z.height;b.supplyLayoutGlobalDefaults(ee,N,$e),ee.width||(N.width=ct),ee.height||(N.height=ft),b.sanitizeMargins(N)}else{b.supplyLayoutGlobalDefaults(ee,N,$e);var gt=!ee.width||!ee.height,ze=N.autosize;gt&&(ze||Ee.autosizable)?b.plotAutoSize(H,ee,N):gt&&b.sanitizeMargins(N),!ze&&gt&&(ee.width=N.width,ee.height=N.height)}N._d3locale=function U(H,Y){return H.decimal=Y.charAt(0),H.thousands=Y.charAt(1),{numberFormat:function(te){try{te=h(H).format(c.adjustFormat(te))}catch{return c.warnBadFormat(te),c.noFormat}return te},timeFormat:T(H).utcFormat}}($e,N.separators),N._extraFormat=Q(H,J),N._initialAutoSizeIsDone=!0,N._dataLength=xe.length,N._modules=[],N._visibleModules=[],N._basePlotModules=[];var Qe=N._subplots=function O(){var te,Z,H=y.collectableSubplotTypes,Y={};if(!H){H=[];var N=y.subplotsRegistry;for(var ee in N){var se=N[ee].attr;if(se&&(H.push(ee),Array.isArray(se)))for(Z=0;Z<se.length;Z++)c.pushUnique(H,se[Z])}}for(te=0;te<H.length;te++)Y[H[te]]=[];return Y}(),Ke=N._splomAxes={x:{},y:{}},dt=N._splomSubplots={};N._splomGridDflt={},N._scatterStackOpts={},N._firstScatter={},N._alignmentOpts={},N._colorAxes={},N._requestRangeslider={},N._traceUids=function re(H,Y){var N,ee,te=Y.length,Z=[];for(N=0;N<H.length;N++){var B=H[N]._fullInput;B!==ee&&Z.push(B),ee=B}var se=Z.length,xe=new Array(te),Te={};function Ee(ct,ft){xe[ft]=ct,Te[ct]=1}function Oe(ct,ft){if(ct&&"string"==typeof ct&&!Te[ct])return Ee(ct,ft),!0}for(N=0;N<te;N++){var $e=Y[N].uid;"number"==typeof $e&&($e=String($e)),!Oe($e,N)&&(N<se&&Oe(Z[N].uid,N)||Ee(c.randstr(Te),N))}return xe}(B,xe),N._globalTransforms=(H._context||{}).globalTransforms,b.supplyDataDefaults(xe,se,ee,N);var Dt=Object.keys(Ke.x),$t=Object.keys(Ke.y);if(Dt.length>1&&$t.length>1){for(y.getComponentMethod("grid","sizeDefaults")(ee,N),Oe=0;Oe<Dt.length;Oe++)c.pushUnique(Qe.xaxis,Dt[Oe]);for(Oe=0;Oe<$t.length;Oe++)c.pushUnique(Qe.yaxis,$t[Oe]);for(var Ot in dt)c.pushUnique(Qe.cartesian,Ot)}if(N._has=b._hasPlotType.bind(N),B.length===se.length)for(Oe=0;Oe<se.length;Oe++)M(se[Oe],B[Oe]);b.supplyLayoutModuleDefaults(ee,N,se,H._transitionData);var kt=N._visibleModules,At=[];for(Oe=0;Oe<kt.length;Oe++){var Gt=kt[Oe].crossTraceDefaults;Gt&&c.pushUnique(At,Gt)}for(Oe=0;Oe<At.length;Oe++)At[Oe](se,N);N._hasOnlyLargeSploms=1===N._basePlotModules.length&&"splom"===N._basePlotModules[0].name&&Dt.length>15&&$t.length>15&&0===N.shapes.length&&0===N.images.length,b.linkSubplots(se,N,B,Z),b.cleanPlot(se,N,B,Z);var Lt=!(!Z._has||!Z._has("gl2d")),Qt=!(!N._has||!N._has("gl2d")),sn=!(!Z._has||!Z._has("cartesian"))||Lt,pt=!(!N._has||!N._has("cartesian"))||Qt;sn&&!pt?Z._bgLayer.remove():pt&&!sn&&(N._shouldCreateBgLayer=!0),Z._zoomlayer&&!H._dragging&&z({_fullLayout:Z}),function ne(H,Y){var te,Z=[];Y.meta&&(te=Y._meta={meta:Y.meta,layout:{meta:Y.meta}});for(var N=0;N<H.length;N++){var ee=H[N];ee.meta?Z[ee.index]=ee._meta={meta:ee.meta}:Y.meta&&(ee._meta={meta:Y.meta}),Y.meta&&(ee._meta.layout={meta:Y.meta})}Z.length&&(te||(te=Y._meta={}),te.data=Z)}(se,N),M(N,Z),y.getComponentMethod("colorscale","crossTraceDefaults")(se,N),N._preGUI||(N._preGUI={}),N._tracePreGUI||(N._tracePreGUI={});var ke,xt=N._tracePreGUI,yt={};for(ke in xt)yt[ke]="old";for(Oe=0;Oe<se.length;Oe++)yt[ke=se[Oe]._fullInput.uid]||(xt[ke]={}),yt[ke]="new";for(ke in yt)"old"===yt[ke]&&delete xt[ke];X(N),y.getComponentMethod("rangeslider","makeData")(N),!te&&Te.length===se.length&&b.supplyDefaultsUpdateCalc(Te,se)}},b.supplyDefaultsUpdateCalc=function(H,Y){for(var te=0;te<Y.length;te++){var Z=Y[te],N=(H[te]||[])[0];if(N&&N.trace){var ee=N.trace;if(ee._hasCalcTransform){var se,xe,Te,B=ee._arrayAttrs;for(se=0;se<B.length;se++)Te=c.nestedProperty(ee,xe=B[se]).get().slice(),c.nestedProperty(Z,xe).set(Te)}N.trace=Z}}},b.createTransitionData=function(H){H._transitionData||(H._transitionData={}),H._transitionData._frames||(H._transitionData._frames=[]),H._transitionData._frameHash||(H._transitionData._frameHash={}),H._transitionData._counter||(H._transitionData._counter=0),H._transitionData._interruptCallbacks||(H._transitionData._interruptCallbacks=[])},b._hasPlotType=function(H){var Y,te=this._basePlotModules||[];for(Y=0;Y<te.length;Y++)if(te[Y].name===H)return!0;var Z=this._modules||[];for(Y=0;Y<Z.length;Y++){var N=Z[Y].name;if(N===H)return!0;var ee=y.modules[N];if(ee&&ee.categories[H])return!0}return!1},b.cleanPlot=function(H,Y,te,Z){var N,ee,B=Z._basePlotModules||[];for(N=0;N<B.length;N++){var se=B[N];se.clean&&se.clean(H,Y,te,Z)}var xe=Z._has&&Z._has("gl"),Te=Y._has&&Y._has("gl");xe&&!Te&&void 0!==Z._glcontainer&&(Z._glcontainer.selectAll(".gl-canvas").remove(),Z._glcontainer.selectAll(".no-webgl").remove(),Z._glcanvas=null);var Ee=!!Z._infolayer;e:for(N=0;N<te.length;N++){var $e=te[N].uid;for(ee=0;ee<H.length;ee++)if($e===H[ee].uid)continue e;Ee&&Z._infolayer.select(".cb"+$e).remove()}},b.linkSubplots=function(H,Y,te,Z){var N,ee,B=Z._plots||{},se=Y._plots={},xe=Y._subplots,Te={_fullData:H,_fullLayout:Y},Ee=xe.cartesian.concat(xe.gl2d||[]);for(N=0;N<Ee.length;N++){var gt,Oe=Ee[N],$e=B[Oe],ct=S.getFromId(Te,Oe,"x"),ft=S.getFromId(Te,Oe,"y");for($e?gt=se[Oe]=$e:(gt=se[Oe]={}).id=Oe,ct._counterAxes.push(ft._id),ft._counterAxes.push(ct._id),ct._subplotsWith.push(Oe),ft._subplotsWith.push(Oe),gt.xaxis=ct,gt.yaxis=ft,gt._hasClipOnAxisFalse=!1,ee=0;ee<H.length;ee++){var ze=H[ee];if(ze.xaxis===gt.xaxis._id&&ze.yaxis===gt.yaxis._id&&!1===ze.cliponaxis){gt._hasClipOnAxisFalse=!0;break}}}var Pe,Ve=S.list(Te,null,!0);for(N=0;N<Ve.length;N++){var Qe=null;(Pe=Ve[N]).overlaying&&(Qe=S.getFromId(Te,Pe.overlaying))&&Qe.overlaying&&(Pe.overlaying=!1,Qe=null),Pe._mainAxis=Qe||Pe,Qe&&(Pe.domain=Qe.domain.slice()),Pe._anchorAxis="free"===Pe.anchor?null:S.getFromId(Te,Pe.anchor)}for(N=0;N<Ve.length;N++)if((Pe=Ve[N])._counterAxes.sort(S.idSort),Pe._subplotsWith.sort(c.subplotSort),Pe._mainSubplot=le(Pe,Y),Pe._counterAxes.length&&(Pe.spikemode&&-1!==Pe.spikemode.indexOf("across")||Pe.automargin&&Pe.mirror&&"free"!==Pe.anchor||y.getComponentMethod("rangeslider","isVisible")(Pe))){var Ke=1,dt=0;for(ee=0;ee<Pe._counterAxes.length;ee++){var Dt=S.getFromId(Te,Pe._counterAxes[ee]);Ke=Math.min(Ke,Dt.domain[0]),dt=Math.max(dt,Dt.domain[1])}Ke<dt&&(Pe._counterDomainMin=Ke,Pe._counterDomainMax=dt)}},b.clearExpandedTraceDefaultColors=function(H){var Y,te,Z;for(te=[],(Y=H._module._colorAttrs)||(H._module._colorAttrs=Y=[],g.crawl(H._module.attributes,function N(B,se,xe,Te){te[Te]=se,te.length=Te+1,"color"===B.valType&&void 0===B.dflt&&Y.push(te.join("."))})),Z=0;Z<Y.length;Z++)c.nestedProperty(H,"_input."+Y[Z]).get()||c.nestedProperty(H,Y[Z]).set(null)},b.supplyDataDefaults=function(H,Y,te,Z){var Te,Ee,Oe,N=Z._modules,ee=Z._visibleModules,B=Z._basePlotModules,se=0,xe=0;function $e($t){Y.push($t);var Ot=$t._module;Ot&&(c.pushUnique(N,Ot),!0===$t.visible&&c.pushUnique(ee,Ot),c.pushUnique(B,$t._module.basePlotModule),se++,!1!==$t._input.visible&&xe++)}Z._transformModules=[];var ct={},ft=[],ze=m.traceTemplater((te.template||{}).data||{});for(Te=0;Te<H.length;Te++){if((Ee=ze.newTrace(Oe=H[Te])).uid=Z._traceUids[Te],b.supplyTraceDefaults(Oe,Ee,xe,Z,Te),Ee.index=Te,Ee._input=Oe,Ee._expandedIndex=se,Ee.transforms&&Ee.transforms.length)for(var Ve=!1!==Oe.visible&&!1===Ee.visible,Pe=W(Ee,Y,te,Z),Qe=0;Qe<Pe.length;Qe++){var Ke=Pe[Qe],dt={_template:Ee._template,type:Ee.type,uid:Ee.uid+Qe};Ve&&!1===Ke.visible&&delete Ke.visible,b.supplyTraceDefaults(Ke,dt,se,Z,Te),M(dt,Ke),dt.index=Te,dt._input=Oe,dt._fullInput=Ee,dt._expandedIndex=se,dt._expandedInput=Ke,$e(dt)}else Ee._fullInput=Ee,Ee._expandedInput=Ee,$e(Ee);y.traceIs(Ee,"carpetAxis")&&(ct[Ee.carpet]=Ee),y.traceIs(Ee,"carpetDependent")&&ft.push(Te)}for(Te=0;Te<ft.length;Te++)if((Ee=Y[ft[Te]]).visible){var Dt=ct[Ee.carpet];if(Ee._carpet=Dt,!Dt||!Dt.visible){Ee.visible=!1;continue}Ee.xaxis=Dt.xaxis,Ee.yaxis=Dt.yaxis}},b.supplyAnimationDefaults=function(H){H=H||{};var Y,te={};function Z(N,ee){return c.coerce(H||{},te,D,N,ee)}if(Z("mode"),Z("direction"),Z("fromcurrent"),Array.isArray(H.frame))for(te.frame=[],Y=0;Y<H.frame.length;Y++)te.frame[Y]=b.supplyAnimationFrameDefaults(H.frame[Y]||{});else te.frame=b.supplyAnimationFrameDefaults(H.frame||{});if(Array.isArray(H.transition))for(te.transition=[],Y=0;Y<H.transition.length;Y++)te.transition[Y]=b.supplyAnimationTransitionDefaults(H.transition[Y]||{});else te.transition=b.supplyAnimationTransitionDefaults(H.transition||{});return te},b.supplyAnimationFrameDefaults=function(H){var Y={};function te(Z,N){return c.coerce(H||{},Y,D.frame,Z,N)}return te("duration"),te("redraw"),Y},b.supplyAnimationTransitionDefaults=function(H){var Y={};function te(Z,N){return c.coerce(H||{},Y,D.transition,Z,N)}return te("duration"),te("easing"),Y},b.supplyFrameDefaults=function(H){var Y={};function te(Z,N){return c.coerce(H,Y,_,Z,N)}return te("group"),te("name"),te("traces"),te("baseframe"),te("data"),te("layout"),Y},b.supplyTraceDefaults=function(H,Y,te,Z,N){var se,ee=Z.colorway||C.defaults,B=ee[te%ee.length];function xe(Qe,Ke){return c.coerce(H,Y,b.attributes,Qe,Ke)}var Te=xe("visible");xe("type"),xe("name",Z._traceWord+" "+N),xe("uirevision",Z.uirevision);var Ee=b.getModule(Y);if(Y._module=Ee,Ee){var Oe=Ee.basePlotModule,$e=Oe.attr,ct=Oe.attributes;if($e&&ct){var ft=Z._subplots,gt="";if(Te||"gl2d"!==Oe.name){if(Array.isArray($e))for(se=0;se<$e.length;se++){var ze=$e[se],Ve=c.coerce(H,Y,ct,ze);ft[ze]&&c.pushUnique(ft[ze],Ve),gt+=Ve}else gt=c.coerce(H,Y,ct,$e);ft[Oe.name]&&c.pushUnique(ft[Oe.name],gt)}}}if(Te){if(xe("customdata"),xe("ids"),xe("meta"),y.traceIs(Y,"showLegend")?(c.coerce(H,Y,Ee.attributes.showlegend?Ee.attributes:b.attributes,"showlegend"),xe("legend"),xe("legendwidth"),xe("legendgroup"),xe("legendgrouptitle.text"),xe("legendrank"),Y._dfltShowLegend=!0):Y._dfltShowLegend=!1,Ee&&Ee.supplyDefaults(H,Y,B,Z),y.traceIs(Y,"noOpacity")||xe("opacity"),y.traceIs(Y,"notLegendIsolatable")&&(Y.visible=!!Y.visible),y.traceIs(Y,"noHover")||(Y.hovertemplate||c.coerceHoverinfo(H,Y,Z),"parcats"!==Y.type&&y.getComponentMethod("fx","supplyDefaults")(H,Y,B,Z)),Ee&&Ee.selectPoints){var Pe=xe("selectedpoints");c.isTypedArray(Pe)&&(Y.selectedpoints=Array.from(Pe))}b.supplyTransformDefaults(H,Y,Z)}return Y},b.hasMakesDataTransform=pe,b.supplyTransformDefaults=function(H,Y,te){if(Y._length||pe(H)){var Z=te._globalTransforms||[],N=te._transformModules||[];if(Array.isArray(H.transforms)||0!==Z.length)for(var B=Z.concat(H.transforms||[]),se=Y.transforms=[],xe=0;xe<B.length;xe++){var $e,Te=B[xe],Ee=Te.type,Oe=P[Ee],ct=!(Te._module&&Te._module===Oe),ft=Oe&&"function"==typeof Oe.transform;Oe||c.warn("Unrecognized transform type "+Ee+"."),Oe&&Oe.supplyDefaults&&(ct||ft)?(($e=Oe.supplyDefaults(Te,Y,te,H)).type=Ee,$e._module=Oe,c.pushUnique(N,Oe)):$e=c.extendFlat({},Te),se.push($e)}}},b.supplyLayoutGlobalDefaults=function(H,Y,te){function Z(Oe,$e){return c.coerce(H,Y,b.layoutAttributes,Oe,$e)}var N=H.template;c.isPlainObject(N)&&(Y.template=N,Y._template=N.layout,Y._dataTemplate=N.data),Z("autotypenumbers");var ee=c.coerceFont(Z,"font");c.coerceFont(Z,"title.font",ee,{overrideDflt:{size:Math.round(1.4*ee.size)}}),Z("title.text",Y._dfltTitle.plot),Z("title.xref");var se=Z("title.yref");Z("title.pad.t"),Z("title.pad.r"),Z("title.pad.b"),Z("title.pad.l");var xe=Z("title.automargin");Z("title.x"),Z("title.xanchor"),Z("title.y"),Z("title.yanchor"),Z("title.subtitle.text",Y._dfltTitle.subtitle),c.coerceFont(Z,"title.subtitle.font",ee,{overrideDflt:{size:Math.round(.7*Y.title.font.size)}}),xe&&("paper"===se&&(0!==Y.title.y&&(Y.title.y=1),"auto"===Y.title.yanchor&&(Y.title.yanchor=0===Y.title.y?"top":"bottom")),"container"===se&&("auto"===Y.title.y&&(Y.title.y=1),"auto"===Y.title.yanchor&&(Y.title.yanchor=Y.title.y<.5?"bottom":"top"))),Z("uniformtext.mode")&&Z("uniformtext.minsize"),Z("autosize",!(H.width&&H.height)),Z("width"),Z("height"),Z("minreducedwidth"),Z("minreducedheight"),Z("margin.l"),Z("margin.r"),Z("margin.t"),Z("margin.b"),Z("margin.pad"),Z("margin.autoexpand"),H.width&&H.height&&b.sanitizeMargins(Y),y.getComponentMethod("grid","sizeDefaults")(H,Y),Z("paper_bgcolor"),Z("separators",te.decimal+te.thousands),Z("hidesources"),Z("colorway"),Z("datarevision");var Ee=Z("uirevision");Z("editrevision",Ee),Z("selectionrevision",Ee),y.getComponentMethod("modebar","supplyLayoutDefaults")(H,Y),y.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(H,Y,Z),y.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(H,Y,Z),Z("meta"),c.isPlainObject(H.transition)&&(Z("transition.duration"),Z("transition.easing"),Z("transition.ordering")),y.getComponentMethod("calendars","handleDefaults")(H,Y,"calendar"),y.getComponentMethod("fx","supplyLayoutGlobalDefaults")(H,Y,Z),c.coerce(H,Y,A,"scattermode")},b.plotAutoSize=function(Y,te,Z){var B,se,N=Y._context||{},ee=N.frameMargins,xe=c.isPlotDiv(Y);if(xe&&Y.emit("plotly_autosize"),N.fillFrame)B=window.innerWidth,se=window.innerHeight,document.body.style.overflow="hidden";else{var Te=xe?window.getComputedStyle(Y):{};if(B=K(Te.width)||K(Te.maxWidth)||Z.width,se=K(Te.height)||K(Te.maxHeight)||Z.height,v(ee)&&ee>0){var Ee=1-2*ee;B=Math.round(Ee*B),se=Math.round(Ee*se)}}var Oe=b.layoutAttributes.width.min,$e=b.layoutAttributes.height.min;B<Oe&&(B=Oe),se<$e&&(se=$e);var ct=!te.width&&Math.abs(Z.width-B)>1,ft=!te.height&&Math.abs(Z.height-se)>1;(ft||ct)&&(ct&&(Z.width=B),ft&&(Z.height=se)),Y._initialAutoSize||(Y._initialAutoSize={width:B,height:se}),b.sanitizeMargins(Z)},b.supplyLayoutModuleDefaults=function(H,Y,te,Z){var B,se,xe,N=y.componentsRegistry,ee=Y._basePlotModules,Te=y.subplotsRegistry.cartesian;for(B in N)(xe=N[B]).includeBasePlot&&xe.includeBasePlot(H,Y);for(var Ee in ee.length||ee.push(Te),Y._has("cartesian")&&(y.getComponentMethod("grid","contentDefaults")(H,Y),Te.finalizeSubplots(H,Y)),Y._subplots)Y._subplots[Ee].sort(c.subplotSort);for(se=0;se<ee.length;se++)(xe=ee[se]).supplyLayoutDefaults&&xe.supplyLayoutDefaults(H,Y,te);var Oe=Y._modules;for(se=0;se<Oe.length;se++)(xe=Oe[se]).supplyLayoutDefaults&&xe.supplyLayoutDefaults(H,Y,te);var $e=Y._transformModules;for(se=0;se<$e.length;se++)(xe=$e[se]).supplyLayoutDefaults&&xe.supplyLayoutDefaults(H,Y,te,Z);for(B in N)(xe=N[B]).supplyLayoutDefaults&&xe.supplyLayoutDefaults(H,Y,te)},b.purge=function(H){var Y=H._fullLayout||{};void 0!==Y._glcontainer&&(Y._glcontainer.selectAll(".gl-canvas").remove(),Y._glcontainer.remove(),Y._glcanvas=null),Y._modeBar&&Y._modeBar.destroy(),H._transitionData&&(H._transitionData._interruptCallbacks&&(H._transitionData._interruptCallbacks.length=0),H._transitionData._animationRaf&&window.cancelAnimationFrame(H._transitionData._animationRaf)),c.clearThrottle(),c.clearResponsive(H),delete H.data,delete H.layout,delete H._fullData,delete H._fullLayout,delete H.calcdata,delete H.empty,delete H.fid,delete H.undoqueue,delete H.undonum,delete H.autoplay,delete H.changed,delete H._promises,delete H._redrawTimer,delete H._hmlumcount,delete H._hmpixcount,delete H._transitionData,delete H._transitioning,delete H._initialAutoSize,delete H._transitioningWithDuration,delete H._dragging,delete H._dragged,delete H._dragdata,delete H._hoverdata,delete H._snapshotInProgress,delete H._editing,delete H._mouseDownTime,delete H._legendMouseDownTime,H.removeAllListeners&&H.removeAllListeners()},b.style=function(H){var Z,Y=H._fullLayout._visibleModules,te=[];for(Z=0;Z<Y.length;Z++){var N=Y[Z];N.style&&c.pushUnique(te,N.style)}for(Z=0;Z<te.length;Z++)te[Z](H)},b.sanitizeMargins=function(H){if(H&&H.margin){var B,Y=H.width,te=H.height,Z=H.margin,ee=te-(Z.t+Z.b);Y-(Z.l+Z.r)<0&&(B=(Y-1)/(Z.l+Z.r),Z.l=Math.floor(B*Z.l),Z.r=Math.floor(B*Z.r)),ee<0&&(B=(te-1)/(Z.t+Z.b),Z.t=Math.floor(B*Z.t),Z.b=Math.floor(B*Z.b))}},b.clearAutoMarginIds=function(H){H._fullLayout._pushmarginIds={}},b.allowAutoMargin=function(H,Y){H._fullLayout._pushmarginIds[Y]=1};b.autoMargin=function(H,Y,te){var Z=H._fullLayout,N=Z.width,ee=Z.height,B=Z.margin,xe=Z.minreducedheight,Te=c.constrain(N-B.l-B.r,2,Z.minreducedwidth),Ee=c.constrain(ee-B.t-B.b,2,xe),Oe=Math.max(0,N-Te),$e=Math.max(0,ee-Ee),ct=Z._pushmargin,ft=Z._pushmarginIds;if(!1!==B.autoexpand){if(te){var gt=te.pad;if(void 0===gt&&(gt=Math.min(12,B.l,B.r,B.t,B.b)),Oe){var ze=(te.l+te.r)/Oe;ze>1&&(te.l/=ze,te.r/=ze)}if($e){var Ve=(te.t+te.b)/$e;Ve>1&&(te.t/=Ve,te.b/=Ve)}ct[Y]={l:{val:void 0!==te.xl?te.xl:te.x,size:te.l+gt},r:{val:void 0!==te.xr?te.xr:te.x,size:te.r+gt},b:{val:void 0!==te.yb?te.yb:te.y,size:te.b+gt},t:{val:void 0!==te.yt?te.yt:te.y,size:te.t+gt}},ft[Y]=1}else delete ct[Y],delete ft[Y];if(!Z._replotting)return b.doAutoMargin(H)}},b.doAutoMargin=function(H){var Y=H._fullLayout,te=Y.width,Z=Y.height;Y._size||(Y._size={}),X(Y);var N=Y._size,ee=Y.margin,B={t:0,b:0,l:0,r:0},se=c.extendFlat({},N),xe=ee.l,Te=ee.r,Ee=ee.t,Oe=ee.b,$e=Y._pushmargin,ct=Y._pushmarginIds,ft=Y.minreducedwidth,gt=Y.minreducedheight;if(!1!==ee.autoexpand){for(var ze in $e)ct[ze]||delete $e[ze];var Ve=H._fullLayout._reservedMargin;for(var Pe in Ve)for(var Qe in Ve[Pe])B[Qe]=Math.max(B[Qe],Ve[Pe][Qe]);for(var dt in $e.base={l:{val:0,size:xe},r:{val:1,size:Te},t:{val:1,size:Ee},b:{val:0,size:Oe}},B){var Dt=0;for(var $t in $e)"base"!==$t&&v($e[$t][dt].size)&&(Dt=$e[$t][dt].size>Dt?$e[$t][dt].size:Dt);var Ot=Math.max(0,ee[dt]-Dt);B[dt]=Math.max(0,B[dt]-Ot)}for(var kt in $e){var At=$e[kt].l||{},Gt=$e[kt].b||{},Lt=At.val,Qt=At.size,Jt=Gt.val,en=Gt.size,sn=te-B.r-B.l,pt=Z-B.t-B.b;for(var xt in $e){if(v(Qt)&&$e[xt].r){var yt=$e[xt].r.val,ke=$e[xt].r.size;if(yt>Lt){var Xe=(Qt*yt+(ke-sn)*Lt)/(yt-Lt),Me=(ke*(1-Lt)+(Qt-sn)*(1-yt))/(yt-Lt);Xe+Me>xe+Te&&(xe=Xe,Te=Me)}}if(v(en)&&$e[xt].t){var _e=$e[xt].t.val,He=$e[xt].t.size;if(_e>Jt){var We=(en*_e+(He-pt)*Jt)/(_e-Jt),Ze=(He*(1-Jt)+(en-pt)*(1-_e))/(_e-Jt);We+Ze>Oe+Ee&&(Oe=We,Ee=Ze)}}}}}var nt=c.constrain(te-ee.l-ee.r,2,ft),Bt=c.constrain(Z-ee.t-ee.b,2,gt),Je=Math.max(0,te-nt),Ct=Math.max(0,Z-Bt);if(Je){var st=(xe+Te)/Je;st>1&&(xe/=st,Te/=st)}if(Ct){var Pt=(Oe+Ee)/Ct;Pt>1&&(Oe/=Pt,Ee/=Pt)}if(N.l=Math.round(xe)+B.l,N.r=Math.round(Te)+B.r,N.t=Math.round(Ee)+B.t,N.b=Math.round(Oe)+B.b,N.p=Math.round(ee.pad),N.w=Math.round(te)-N.l-N.r,N.h=Math.round(Z)-N.t-N.b,!Y._replotting&&(b.didMarginChange(se,N)||function ce(H){if("_redrawFromAutoMarginCount"in H._fullLayout)return!1;var Y=S.list(H,"",!0);for(var te in Y)if(Y[te].autoshift||Y[te].shift)return!0;return!1}(H))){"_redrawFromAutoMarginCount"in Y?Y._redrawFromAutoMarginCount++:Y._redrawFromAutoMarginCount=1;var cn=3*(1+Object.keys(ct).length);if(Y._redrawFromAutoMarginCount<cn)return y.call("_doPlot",H);Y._size=se,c.warn("Too many auto-margin redraws.")}!function ge(H){var Y=S.list(H,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(te){for(var Z=0;Z<Y.length;Z++){var N=Y[Z][te];N&&N()}})}(H)};var De=["l","r","t","b","p","w","h"];function Ne(H,Y,te){var Z=!1;var Ee=c.syncOrAsync([b.previousPromises,function xe(){if(H._transitionData)return H._transitioning=!1,function N(Oe){var $e=Promise.resolve();if(!Oe)return $e;for(;Oe.length;)$e=$e.then(Oe.shift());return $e}(H._transitionData._interruptCallbacks)},te.prepareFn,b.rehover,b.reselect,function B(){return H.emit("plotly_transitioning",[]),new Promise(function(Oe){H._transitioning=!0,Y.duration>0&&(H._transitioningWithDuration=!0),H._transitionData._interruptCallbacks.push(function(){Z=!0}),te.redraw&&H._transitionData._interruptCallbacks.push(function(){return y.call("redraw",H)}),H._transitionData._interruptCallbacks.push(function(){H.emit("plotly_transitioninterrupted",[])});var $e=0,ct=0;function ft(){return $e++,function(){ct++,!Z&&ct===$e&&function se(Oe){if(H._transitionData)return function ee(Oe){if(Oe)for(;Oe.length;)Oe.shift()}(H._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(te.redraw)return y.call("redraw",H)}).then(function(){H._transitioning=!1,H._transitioningWithDuration=!1,H.emit("plotly_transitioned",[])}).then(Oe)}(Oe)}}te.runFn(ft),setTimeout(ft())})}],H);return(!Ee||!Ee.then)&&(Ee=Promise.resolve()),Ee.then(function(){return H})}b.didMarginChange=function(H,Y){for(var te=0;te<De.length;te++){var Z=De[te],N=H[Z],ee=Y[Z];if(!v(N)||Math.abs(ee-N)>1)return!0}return!1},b.graphJson=function(H,Y,te,Z,N,ee){(N&&Y&&!H._fullData||N&&!Y&&!H._fullLayout)&&b.supplyDefaults(H);var se=N?H._fullLayout:H.layout,xe=(H._transitionData||{})._frames;function Te($e,ct){if("function"==typeof $e)return ct?"_function_":null;if(c.isPlainObject($e)){var gt,ft={};return Object.keys($e).sort().forEach(function(Qe){if(-1===["_","["].indexOf(Qe.charAt(0))){if("function"==typeof $e[Qe])return void(ct&&(ft[Qe]="_function"));if("keepdata"===te){if("src"===Qe.substr(Qe.length-3))return}else if("keepstream"===te){if("string"==typeof(gt=$e[Qe+"src"])&&gt.indexOf(":")>0&&!c.isPlainObject($e.stream))return}else if("keepall"!==te&&"string"==typeof(gt=$e[Qe+"src"])&&gt.indexOf(":")>0)return;ft[Qe]=Te($e[Qe],ct)}}),ft}var ze=Array.isArray($e),Ve=c.isTypedArray($e);if((ze||Ve)&&$e.dtype&&$e.shape){var Pe=$e.bdata;return Te({dtype:$e.dtype,shape:$e.shape,bdata:c.isArrayBuffer(Pe)?d.encode(Pe):Pe},ct)}return ze?$e.map(function(Qe){return Te(Qe,ct)}):Ve?c.simpleMap($e,c.identity):c.isJSDate($e)?c.ms2DateTimeLocal(+$e):$e}var Ee={data:((N?H._fullData:H.data)||[]).map(function($e){var ct=Te($e);return Y&&delete ct.fit,ct})};if(!Y&&(Ee.layout=Te(se),N)){var Oe=se._size;Ee.layout.computed={margin:{b:Oe.b,l:Oe.l,r:Oe.r,t:Oe.t}}}return xe&&(Ee.frames=Te(xe)),ee&&(Ee.config=Te(H._context,!0)),"object"===Z?Ee:JSON.stringify(Ee)},b.modifyFrames=function(H,Y){var te,Z,N,ee=H._transitionData._frames,B=H._transitionData._frameHash;for(te=0;te<Y.length;te++)switch(Z=Y[te],Z.type){case"replace":var se=(ee[Z.index]||{}).name,xe=(N=Z.value).name;ee[Z.index]=B[xe]=N,xe!==se&&(delete B[se],B[xe]=N);break;case"insert":B[(N=Z.value).name]=N,ee.splice(Z.index,0,N);break;case"delete":delete B[(N=ee[Z.index]).name],ee.splice(Z.index,1)}return Promise.resolve()},b.computeFrame=function(H,Y){var Z,N,ee,B,te=H._transitionData._frameHash;if(!Y)throw new Error("computeFrame must be given a string frame name");var se=te[Y.toString()];if(!se)return!1;for(var xe=[se],Te=[se.name];se.baseframe&&(se=te[se.baseframe.toString()])&&-1===Te.indexOf(se.name);)xe.push(se),Te.push(se.name);for(var Ee={};se=xe.pop();)if(se.layout&&(Ee.layout=b.extendLayout(Ee.layout,se.layout)),se.data){if(Ee.data||(Ee.data=[]),!(N=se.traces))for(N=[],Z=0;Z<se.data.length;Z++)N[Z]=Z;for(Ee.traces||(Ee.traces=[]),Z=0;Z<se.data.length;Z++)null!=(ee=N[Z])&&(-1===(B=Ee.traces.indexOf(ee))&&(Ee.traces[B=Ee.data.length]=ee),Ee.data[B]=b.extendTrace(Ee.data[B],se.data[Z]))}return Ee},b.recomputeFrameHash=function(H){for(var Y=H._transitionData._frameHash={},te=H._transitionData._frames,Z=0;Z<te.length;Z++){var N=te[Z];N&&N.name&&(Y[N.name]=N)}},b.extendObjectWithContainers=function(H,Y,te){var Z,N,ee,B,xe,Te,Ee,Oe=c.extendDeepNoArrays({},Y||{}),$e=c.expandObjectPaths(Oe),ct={};if(te&&te.length)for(ee=0;ee<te.length;ee++)void 0===(N=(Z=c.nestedProperty($e,te[ee])).get())?c.nestedProperty(ct,te[ee]).set(null):(Z.set(null),c.nestedProperty(ct,te[ee]).set(N));if(H=c.extendDeepNoArrays(H||{},$e),te&&te.length)for(ee=0;ee<te.length;ee++)if(Te=c.nestedProperty(ct,te[ee]).get()){for(Ee=(xe=c.nestedProperty(H,te[ee])).get(),Array.isArray(Ee)||xe.set(Ee=[]),B=0;B<Te.length;B++){var ft=Te[B];Ee[B]=null===ft?null:b.extendObjectWithContainers(Ee[B],ft)}xe.set(Ee)}return H},b.dataArrayContainers=["transforms","dimensions"],b.layoutArrayContainers=y.layoutArrayContainers,b.extendTrace=function(H,Y){return b.extendObjectWithContainers(H,Y,b.dataArrayContainers)},b.extendLayout=function(H,Y){return b.extendObjectWithContainers(H,Y,b.layoutArrayContainers)},b.transition=function(H,Y,te,Z,N,ee){var B={redraw:N.redraw},se={},xe=[];return B.prepareFn=function(){for(var Te=Array.isArray(Y)?Y.length:0,Ee=Z.slice(0,Te),Oe=0;Oe<Ee.length;Oe++){var $e=Ee[Oe],ft=H._fullData[$e]._module;if(ft){if(ft.animatable){var gt=ft.basePlotModule.name;se[gt]||(se[gt]=[]),se[gt].push($e)}H.data[Ee[Oe]]=b.extendTrace(H.data[Ee[Oe]],Y[Oe])}}var ze=c.expandObjectPaths(c.extendDeepNoArrays({},te)),Ve=/^[xy]axis[0-9]*$/;for(var Pe in ze)Ve.test(Pe)&&delete ze[Pe].range;b.extendLayout(H.layout,ze),delete H.calcdata,b.supplyDefaults(H),b.doCalcdata(H);var Qe=c.expandObjectPaths(te);if(Qe){var Ke=H._fullLayout._plots;for(var dt in Ke){var Dt=Ke[dt],$t=Dt.xaxis,Ot=Dt.yaxis,kt=$t.range.slice(),At=Ot.range.slice(),Gt=null,Lt=null,Qt=null,Jt=null;Array.isArray(Qe[$t._name+".range"])?Gt=Qe[$t._name+".range"].slice():Array.isArray((Qe[$t._name]||{}).range)&&(Gt=Qe[$t._name].range.slice()),Array.isArray(Qe[Ot._name+".range"])?Lt=Qe[Ot._name+".range"].slice():Array.isArray((Qe[Ot._name]||{}).range)&&(Lt=Qe[Ot._name].range.slice()),kt&&Gt&&($t.r2l(kt[0])!==$t.r2l(Gt[0])||$t.r2l(kt[1])!==$t.r2l(Gt[1]))&&(Qt={xr0:kt,xr1:Gt}),At&&Lt&&(Ot.r2l(At[0])!==Ot.r2l(Lt[0])||Ot.r2l(At[1])!==Ot.r2l(Lt[1]))&&(Jt={yr0:At,yr1:Lt}),(Qt||Jt)&&xe.push(c.extendFlat({plotinfo:Dt},Qt,Jt))}}return Promise.resolve()},B.runFn=function(Te){var Ee,ct,Oe=H._fullLayout._basePlotModules,$e=xe.length;if(te)for(ct=0;ct<Oe.length;ct++)Oe[ct].transitionAxes&&Oe[ct].transitionAxes(H,xe,ee,Te);for(var ft in $e?((Ee=c.extendFlat({},ee)).duration=0,delete se.cartesian):Ee=ee,se){var gt=se[ft];H._fullData[gt[0]]._module.basePlotModule.plot(H,gt,Ee,Te)}},Ne(H,ee,B)},b.transitionFromReact=function(H,Y,te,Z){var N=H._fullLayout,ee=N.transition,B={},se=[];return B.prepareFn=function(){var xe=N._plots;for(var Te in B.redraw=!1,"some"===Y.anim&&(B.redraw=!0),"some"===te.anim&&(B.redraw=!0),xe){var Ee=xe[Te],Oe=Ee.xaxis,$e=Ee.yaxis,ct=Z[Oe._name].range.slice(),ft=Z[$e._name].range.slice(),gt=Oe.range.slice(),ze=$e.range.slice();Oe.setScale(),$e.setScale();var Ve=null,Pe=null;(Oe.r2l(ct[0])!==Oe.r2l(gt[0])||Oe.r2l(ct[1])!==Oe.r2l(gt[1]))&&(Ve={xr0:ct,xr1:gt}),($e.r2l(ft[0])!==$e.r2l(ze[0])||$e.r2l(ft[1])!==$e.r2l(ze[1]))&&(Pe={yr0:ft,yr1:ze}),(Ve||Pe)&&se.push(c.extendFlat({plotinfo:Ee},Ve,Pe))}return Promise.resolve()},B.runFn=function(xe){for(var $e,ct,ft,Te=H._fullData,Oe=H._fullLayout._basePlotModules,gt=[],ze=0;ze<Te.length;ze++)gt.push(ze);function Ve(){if(H._fullLayout)for(var Qe=0;Qe<Oe.length;Qe++)Oe[Qe].transitionAxes&&Oe[Qe].transitionAxes(H,se,$e,xe)}function Pe(){if(H._fullLayout)for(var Qe=0;Qe<Oe.length;Qe++)Oe[Qe].plot(H,ft,ct,xe)}se.length&&Y.anim?"traces first"===ee.ordering?($e=c.extendFlat({},ee,{duration:0}),ft=gt,ct=ee,setTimeout(Ve,ee.duration),Pe()):($e=ee,ft=null,ct=c.extendFlat({},ee,{duration:0}),setTimeout(Pe,$e.duration),Ve()):se.length?($e=ee,Ve()):Y.anim&&(ft=gt,ct=ee,Pe())},Ne(H,ee,B)},b.doCalcdata=function(H,Y){var ee,B,se,xe,te=S.list(H),Z=H._fullData,N=H._fullLayout,Te=new Array(Z.length),Ee=(H.calcdata||[]).slice();for(H.calcdata=Te,N._numBoxes=0,N._numViolins=0,N._violinScaleGroupStats={},H._hmpixcount=0,H._hmlumcount=0,N._piecolormap={},N._sunburstcolormap={},N._treemapcolormap={},N._iciclecolormap={},N._funnelareacolormap={},se=0;se<Z.length;se++)if(Array.isArray(Y)&&-1===Y.indexOf(se)){Te[se]=Ee[se];continue}for(se=0;se<Z.length;se++)(ee=Z[se])._arrayAttrs=g.findArrayAttributes(ee),ee._extremes={};var Oe=N._subplots.polar||[];for(se=0;se<Oe.length;se++)te.push(N[Oe[se]].radialaxis,N[Oe[se]].angularaxis);for(var $e in N._colorAxes){var ct=N[$e];!1!==ct.cauto&&(delete ct.cmin,delete ct.cmax)}var ft=!1;function gt(Pe){if(B=(ee=Z[Pe])._module,!0===ee.visible&&ee.transforms){if(B&&B.calc){var Qe=B.calc(H,ee);Qe[0]&&Qe[0].t&&Qe[0].t._scene&&delete Qe[0].t._scene.dirty}for(xe=0;xe<ee.transforms.length;xe++){var Ke=ee.transforms[xe];(B=P[Ke.type])&&B.calcTransform&&(ee._hasCalcTransform=!0,ft=!0,B.calcTransform(H,ee,Ke))}}}function ze(Pe,Qe){if(!!(B=(ee=Z[Pe])._module).isContainer===Qe){var Ke=[];if(!0===ee.visible&&0!==ee._length){delete ee._indexToPoints;var dt=ee.transforms||[];for(xe=dt.length-1;xe>=0;xe--)if(dt[xe].enabled){ee._indexToPoints=dt[xe]._indexToPoints;break}B&&B.calc&&(Ke=B.calc(H,ee))}(!Array.isArray(Ke)||!Ke[0])&&(Ke=[{x:w,y:w}]),Ke[0].t||(Ke[0].t={}),Ke[0].trace=ee,Te[Pe]=Ke}}for(Se(te,Z,N),se=0;se<Z.length;se++)ze(se,!0);for(se=0;se<Z.length;se++)gt(se);for(ft&&Se(te,Z,N),se=0;se<Z.length;se++)ze(se,!0);for(se=0;se<Z.length;se++)ze(se,!1);ye(H);var Ve=function Fe(H,Y){var Z,N,ee,B,se,te=[];function xe(xt,yt,ke){var Xe=yt._id.charAt(0);if("histogram2dcontour"===xt){var Me=yt._counterAxes[0],_e=S.getFromId(Y,Me),He="x"===Xe||"x"===Me&&"category"===_e.type,We="y"===Xe||"y"===Me&&"category"===_e.type;return function(Ze,nt){return 0===Ze||0===nt||He&&Ze===ke[nt].length-1||We&&nt===ke.length-1?-1:("y"===Xe?nt:Ze)-1}}return function(Ze,nt){return"y"===Xe?nt:Ze}}var Te={min:function(xt){return c.aggNums(Math.min,null,xt)},max:function(xt){return c.aggNums(Math.max,null,xt)},sum:function(xt){return c.aggNums(function(yt,ke){return yt+ke},null,xt)},total:function(xt){return c.aggNums(function(yt,ke){return yt+ke},null,xt)},mean:function(xt){return c.mean(xt)},"geometric mean":function(xt){return c.geometricMean(xt)},median:function(xt){return c.median(xt)}};function Ee(xt,yt){return xt[1]-yt[1]}function Oe(xt,yt){return yt[1]-xt[1]}for(Z=0;Z<H.length;Z++){var $e=H[Z];if("category"===$e.type){var ct=$e.categoryorder.match(Be);if(ct){var ft=ct[1],gt=ct[2],ze=$e._id.charAt(0),Ve="x"===ze,Pe=[];for(N=0;N<$e._categories.length;N++)Pe.push([$e._categories[N],[]]);for(N=0;N<$e._traceIndices.length;N++){var Qe=$e._traceIndices[N],Ke=Y._fullData[Qe];if(!0===Ke.visible){var dt=Ke.type;y.traceIs(Ke,"histogram")&&(delete Ke._xautoBinFinished,delete Ke._yautoBinFinished);var Dt="splom"===dt,$t="scattergl"===dt,Ot=Y.calcdata[Qe];for(ee=0;ee<Ot.length;ee++){var At,Gt,kt=Ot[ee];if(Dt){var Lt=Ke._axesDim[$e._id];if(!Ve){var Qt=Ke._diag[Lt][0];Qt&&($e=Y._fullLayout[S.id2name(Qt)])}var Jt=kt.trace.dimensions[Lt].values;for(B=0;B<Jt.length;B++)for(At=$e._categoriesMap[Jt[B]],se=0;se<kt.trace.dimensions.length;se++)se!==Lt&&Pe[At][1].push(kt.trace.dimensions[se].values[B])}else if($t){for(B=0;B<kt.t.x.length;B++)Ve?(At=kt.t.x[B],Gt=kt.t.y[B]):(At=kt.t.y[B],Gt=kt.t.x[B]),Pe[At][1].push(Gt);kt.t&&kt.t._scene&&delete kt.t._scene.dirty}else if(kt.hasOwnProperty("z")){var sn=xe(Ke.type,$e,Gt=kt.z);for(B=0;B<Gt.length;B++)for(se=0;se<Gt[B].length;se++)(At=sn(se,B))+1&&Pe[At][1].push(Gt[B][se])}else for(void 0===(At=kt.p)&&(At=kt[ze]),void 0===(Gt=kt.s)&&(Gt=kt.v),void 0===Gt&&(Gt=Ve?kt.y:kt.x),Array.isArray(Gt)||(Gt=void 0===Gt?[]:[Gt]),B=0;B<Gt.length;B++)Pe[At][1].push(Gt[B])}}}$e._categoriesValue=Pe;var pt=[];for(N=0;N<Pe.length;N++)pt.push([Pe[N][0],Te[ft](Pe[N][1])]);pt.sort("descending"===gt?Oe:Ee),$e._categoriesAggregatedValue=pt,$e._initialCategories=pt.map(function(xt){return xt[0]}),te=te.concat($e.sortByInitialCategories())}}}return te}(te,H);if(Ve.length){for(N._numBoxes=0,N._numViolins=0,se=0;se<Ve.length;se++)ze(Ve[se],!0);for(se=0;se<Ve.length;se++)ze(Ve[se],!1);ye(H)}y.getComponentMethod("fx","calc")(H),y.getComponentMethod("errorbars","calc")(H)};var Be=/(total|sum|min|max|mean|geometric mean|median) (ascending|descending)/;function Se(H,Y,te){var Z={};function N(xe){xe.clearCalc(),"multicategory"===xe.type&&xe.setupMultiCategory(Y),Z[xe._id]=1}c.simpleMap(H,N);for(var ee=te._axisMatchGroups||[],B=0;B<ee.length;B++)for(var se in ee[B])Z[se]||N(te[S.id2name(se)])}function ye(H){var N,ee,B,Y=H._fullLayout,te=Y._visibleModules,Z={};for(ee=0;ee<te.length;ee++){var se=te[ee],xe=se.crossTraceCalc;if(xe){var Te=se.basePlotModule.name;Z[Te]?c.pushUnique(Z[Te],xe):Z[Te]=[xe]}}for(B in Z){var Ee=Z[B],Oe=Y._subplots[B];if(Array.isArray(Oe))for(N=0;N<Oe.length;N++){var $e=Oe[N],ct="cartesian"===B?Y._plots[$e]:Y[$e];for(ee=0;ee<Ee.length;ee++)Ee[ee](H,ct,$e)}else for(ee=0;ee<Ee.length;ee++)Ee[ee](H)}}b.rehover=function(H){H._fullLayout._rehover&&H._fullLayout._rehover()},b.redrag=function(H){H._fullLayout._redrag&&H._fullLayout._redrag()},b.reselect=function(H){var Y=H._fullLayout,te=(H.layout||{}).selections,Z=Y._previousSelections;Y._previousSelections=te;var N=Y._reselect||JSON.stringify(te)!==JSON.stringify(Z);y.getComponentMethod("selections","reselect")(H,N)},b.generalUpdatePerTraceModule=function(H,Y,te,Z){var B,N=Y.traceHash,ee={};for(B=0;B<te.length;B++){var se=te[B],xe=se[0].trace;xe.visible&&(ee[xe.type]=ee[xe.type]||[],ee[xe.type].push(se))}for(var Te in N)if(!ee[Te]){var Ee=N[Te][0];Ee[0].trace.visible=!1,ee[Te]=[Ee]}for(var $e in ee){var ct=ee[$e];ct[0][0].trace._module.plot(H,Y,c.filterVisible(ct),Z)}Y.traceHash=ee},b.plotBasePlot=function(H,Y,te,Z,N){var ee=y.getModule(H),B=E(Y.calcdata,ee)[0];ee.plot(Y,B,Z,N)},b.cleanBasePlot=function(H,Y,te,Z,N){var ee=N._has&&N._has(H),B=te._has&&te._has(H);ee&&!B&&N["_"+H+"layer"].selectAll("g.trace").remove()}},1776:function(Ce,j,o){"use strict";function y(g){var m=g.description?" "+g.description:"",c=g.keys||[];if(c.length>0){for(var C=[],w=0;w<c.length;w++)C[w]="`"+c[w]+"`";m+="Finally, the template string has access to ",m=1===c.length?m+"variable "+C[0]:m+"variables "+C.slice(0,-1).join(", ")+" and "+C.slice(-1)+"."}return m}o(6880),j.Ks=function(g,m){g=g||{},y(m=m||{});var C={valType:"string",dflt:"",editType:g.editType||"none"};return!1!==g.arrayOk&&(C.arrayOk=!0),C},j.Gw=function(g,m){g=g||{},y(m=m||{});var C={valType:"string",dflt:"",editType:g.editType||"calc"};return!1!==g.arrayOk&&(C.arrayOk=!0),C},j.ye=function(g,m){return g=g||{},y(m=m||{}),{valType:"string",dflt:"",editType:g.editType||"arraydraw"}}},4040:function(Ce,j,o){"use strict";var p=o(4248),T=o(6628),h=o(2416),v=o(3620),d=o(2200).addStyleRule,y=o(2880),g=o(5464),m=o(4859),c=y.extendFlat,C=y.extendDeepAll;function w(P){var I=P.name,G=P.categories,$=P.meta;if(j.modules[I])p.log("Type "+I+" already registered");else{j.subplotsRegistry[P.basePlotModule.name]||function S(P){var I=P.name;if(j.subplotsRegistry[I])p.log("Plot type "+I+" already registered.");else for(var G in _(P),j.subplotsRegistry[I]=P,j.componentsRegistry)L(G,P.name)}(P.basePlotModule);for(var J={},re=0;re<G.length;re++)J[G[re]]=!0,j.allCategories[G[re]]=!0;for(var O in j.modules[I]={_module:P,categories:J},$&&Object.keys($).length&&(j.modules[I].meta=$),j.allTypes.push(I),j.componentsRegistry)E(O,I);P.layoutAttributes&&c(j.traceLayoutAttributes,P.layoutAttributes);var Q=P.basePlotModule,U=Q.name;if("mapbox"===U){var ne=Q.constants.styleRules;for(var le in ne)d(".js-plotly-plot .plotly .mapboxgl-"+le,ne[le])}("geo"===U||"mapbox"===U)&&void 0===window.PlotlyGeoAssets&&(window.PlotlyGeoAssets={topojson:{}})}}function z(P){if("string"!=typeof P.name)throw new Error("Component module *name* must be a string.");var I=P.name;for(var G in j.componentsRegistry[I]=P,P.layoutAttributes&&(P.layoutAttributes._isLinkedToArray&&h(j.layoutArrayContainers,I),_(P)),j.modules)E(I,G);for(var $ in j.subplotsRegistry)L(I,$);for(var J in j.transformsRegistry)M(I,J);P.schema&&P.schema.layout&&C(m,P.schema.layout)}function A(P){if("string"!=typeof P.name)throw new Error("Transform module *name* must be a string.");var I="Transform module "+P.name,G="function"==typeof P.transform,$="function"==typeof P.calcTransform;if(!G&&!$)throw new Error(I+" is missing a *transform* or *calcTransform* method.");for(var J in G&&$&&p.log([I+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),v(P.attributes)||p.log(I+" registered without an *attributes* object."),"function"!=typeof P.supplyDefaults&&p.log(I+" registered without a *supplyDefaults* method."),j.transformsRegistry[P.name]=P,j.componentsRegistry)M(J,P.name)}function D(P){var I=P.name,G=I.split("-")[0],$=P.dictionary,J=P.format,re=$&&Object.keys($).length,O=J&&Object.keys(J).length,Q=j.localeRegistry,U=Q[I];if(U||(Q[I]=U={}),G!==I){var ne=Q[G];ne||(Q[G]=ne={}),re&&ne.dictionary===U.dictionary&&(ne.dictionary=$),O&&ne.format===U.format&&(ne.format=J)}re&&(U.dictionary=$),O&&(U.format=J)}function _(P){if(P.layoutAttributes){var I=P.layoutAttributes._arrayAttrRegexps;if(I)for(var G=0;G<I.length;G++)h(j.layoutArrayRegexes,I[G])}}function E(P,I){var G=j.componentsRegistry[P].schema;if(G&&G.traces){var $=G.traces[I];$&&C(j.modules[I]._module.attributes,$)}}function M(P,I){var G=j.componentsRegistry[P].schema;if(G&&G.transforms){var $=G.transforms[I];$&&C(j.transformsRegistry[I].attributes,$)}}function L(P,I){var G=j.componentsRegistry[P].schema;if(G&&G.subplots){var $=j.subplotsRegistry[I],J=$.layoutAttributes,re="subplot"===$.attr?$.name:$.attr;Array.isArray(re)&&(re=re[0]);var O=G.subplots[re];J&&O&&C(J,O)}}function b(P){return"object"==typeof P&&(P=P.type),P}j.modules={},j.allCategories={},j.allTypes=[],j.subplotsRegistry={},j.transformsRegistry={},j.componentsRegistry={},j.layoutArrayContainers=[],j.layoutArrayRegexes=[],j.traceLayoutAttributes={},j.localeRegistry={},j.apiMethodRegistry={},j.collectableSubplotTypes=null,j.register=function(I){if(j.collectableSubplotTypes=null,!I)throw new Error("No argument passed to Plotly.register.");I&&!Array.isArray(I)&&(I=[I]);for(var G=0;G<I.length;G++){var $=I[G];if(!$)throw new Error("Invalid module was attempted to be registered!");switch($.moduleType){case"trace":w($);break;case"transform":A($);break;case"component":z($);break;case"locale":D($);break;case"apiMethod":j.apiMethodRegistry[$.name]=$.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},j.getModule=function(P){var I=j.modules[b(P)];return!!I&&I._module},j.traceIs=function(P,I){if("various"===(P=b(P)))return!1;var G=j.modules[P];return G||(P&&p.log("Unrecognized trace type "+P+"."),G=j.modules[g.type.dflt]),!!G.categories[I]},j.getTransformIndices=function(P,I){for(var G=[],$=P.transforms||[],J=0;J<$.length;J++)$[J].type===I&&G.push(J);return G},j.hasTransform=function(P,I){for(var G=P.transforms||[],$=0;$<G.length;$++)if(G[$].type===I)return!0;return!1},j.getComponentMethod=function(P,I){var G=j.componentsRegistry[P];return G&&G[I]||T},j.call=function(){var P=arguments[0],I=[].slice.call(arguments,1);return j.apiMethodRegistry[P].apply(null,I)}},1536:function(Ce,j,o){"use strict";var p=o(4040),T=o(3400),h=T.extendFlat,v=T.extendDeep;function d(g){var m;switch(g){case"themes__thumb":m={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":m={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:m={}}return m}Ce.exports=function(m,c){var C,S=m.layout,z=v([],m.data),A=v({},S,d(c.tileClass)),D=m._context||{};if(c.width&&(A.width=c.width),c.height&&(A.height=c.height),"thumbnail"===c.tileClass||"themes__thumb"===c.tileClass){A.annotations=[];var _=Object.keys(A);for(C=0;C<_.length;C++)["xaxis","yaxis","zaxis"].indexOf(_[C].slice(0,5))>-1&&(A[_[C]].title={text:""});for(C=0;C<z.length;C++){var E=z[C];E.showscale=!1,E.marker&&(E.marker.showscale=!1),p.traceIs(E,"pie-like")&&(E.textposition="none")}}if(Array.isArray(c.annotations))for(C=0;C<c.annotations.length;C++)A.annotations.push(c.annotations[C]);var M=Object.keys(A).filter(function(G){return G.match(/^scene\d*$/)});if(M.length){var L={};for("thumbnail"===c.tileClass&&(L={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),C=0;C<M.length;C++){var b=A[M[C]];b.xaxis||(b.xaxis={}),b.yaxis||(b.yaxis={}),b.zaxis||(b.zaxis={}),h(b.xaxis,L),h(b.yaxis,L),h(b.zaxis,L),b._scene=null}}var P=document.createElement("div");c.tileClass&&(P.className=c.tileClass);var I={gd:P,td:P,layout:A,data:z,config:{staticPlot:void 0===c.staticPlot||c.staticPlot,plotGlPixelRatio:void 0===c.plotGlPixelRatio?2:c.plotGlPixelRatio,displaylogo:c.displaylogo||!1,showLink:c.showLink||!1,showTips:c.showTips||!1,mapboxAccessToken:D.mapboxAccessToken}};return"transparent"!==c.setBackground&&(I.config.setBackground=c.setBackground||"opaque"),I.gd.defaultLayout=d(c.tileClass),I}},7412:function(Ce,j,o){"use strict";var p=o(3400),T=o(7024),h=o(8616),v=o(7030);Ce.exports=function d(y,g){var m;return p.isPlainObject(y)||(m=p.getGraphDiv(y)),(g=g||{}).format=g.format||"png",g.width=g.width||null,g.height=g.height||null,g.imageDataOnly=!0,new Promise(function(c,C){m&&m._snapshotInProgress&&C(new Error("Snapshotting already in progress.")),p.isIE()&&"svg"!==g.format&&C(new Error(v.MSG_IE_BAD_FORMAT)),m&&(m._snapshotInProgress=!0);var w=T(y,g),S=g.filename||y.fn||"newplot";S+="."+g.format.replace("-","."),w.then(function(z){return m&&(m._snapshotInProgress=!1),h(z,S,g.format)}).then(function(z){c(z)}).catch(function(z){m&&(m._snapshotInProgress=!1),C(z)})})}},8616:function(Ce,j,o){"use strict";var p=o(3400),T=o(7030);Ce.exports=function h(v,d,y){var g=document.createElement("a"),m="download"in g;return new Promise(function(C,w){var S,z;return p.isIE()?(S=T.createBlob(v,"svg"),window.navigator.msSaveBlob(S,d),S=null,C(d)):m?(S=T.createBlob(v,y),z=T.createObjectURL(S),g.href=z,g.download=d,document.body.appendChild(g),g.click(),document.body.removeChild(g),T.revokeObjectURL(z),S=null,C(d)):p.isSafari()?(T.octetStream(("svg"===y?",":";base64,")+encodeURIComponent(v)),C(d)):void w(new Error("download error"))})}},7030:function(Ce,j,o){"use strict";var p=o(4040);j.getDelay=function(v){return v._has&&(v._has("gl3d")||v._has("gl2d")||v._has("mapbox"))?500:0},j.getRedrawFunc=function(v){return function(){p.getComponentMethod("colorbar","draw")(v)}},j.encodeSVG=function(v){return"data:image/svg+xml,"+encodeURIComponent(v)},j.encodeJSON=function(v){return"data:application/json,"+encodeURIComponent(v)};var T=window.URL||window.webkitURL;j.createObjectURL=function(v){return T.createObjectURL(v)},j.revokeObjectURL=function(v){return T.revokeObjectURL(v)},j.createBlob=function(v,d){if("svg"===d)return new window.Blob([v],{type:"image/svg+xml;charset=utf-8"});if("full-json"===d)return new window.Blob([v],{type:"application/json;charset=utf-8"});var y=function h(v){for(var d=v.length,y=new ArrayBuffer(d),g=new Uint8Array(y),m=0;m<d;m++)g[m]=v.charCodeAt(m);return y}(window.atob(v));return new window.Blob([y],{type:"image/"+d})},j.octetStream=function(v){document.location.href="data:application/octet-stream"+v},j.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,j.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},8904:function(Ce,j,o){"use strict";var p=o(7030),T={getDelay:p.getDelay,getRedrawFunc:p.getRedrawFunc,clone:o(1536),toSVG:o(7164),svgToImg:o(3268),toImage:o(1808),downloadImage:o(7412)};Ce.exports=T},3268:function(Ce,j,o){"use strict";var p=o(3400),T=o(1252).EventEmitter,h=o(7030);Ce.exports=function v(d){var y=d.emitter||new T,g=new Promise(function(m,c){var C=window.Image,w=d.svg,S=d.format||"png";if(p.isIE()&&"svg"!==S){var z=new Error(h.MSG_IE_BAD_FORMAT);return c(z),d.promise?g:y.emit("error",z)}var I,G,A=d.canvas,D=d.scale||1,M=D*(d.width||300),L=D*(d.height||150),b=A.getContext("2d",{willReadFrequently:!0}),P=new C;"svg"===S||p.isSafari()?G=h.encodeSVG(w):(I=h.createBlob(w,"svg"),G=h.createObjectURL(I)),A.width=M,A.height=L,P.onload=function(){var $;switch(I=null,h.revokeObjectURL(G),"svg"!==S&&b.drawImage(P,0,0,M,L),S){case"jpeg":$=A.toDataURL("image/jpeg");break;case"png":$=A.toDataURL("image/png");break;case"webp":$=A.toDataURL("image/webp");break;case"svg":$=G;break;default:var J="Image format is not jpeg, png, svg or webp.";if(c(new Error(J)),!d.promise)return y.emit("error",J)}m($),d.promise||y.emit("success",$)},P.onerror=function($){if(I=null,h.revokeObjectURL(G),c($),!d.promise)return y.emit("error",$)},P.src=G});return d.promise?g:y}},1808:function(Ce,j,o){"use strict";var p=o(1252).EventEmitter,T=o(4040),h=o(3400),v=o(7030),d=o(1536),y=o(7164),g=o(3268);Ce.exports=function m(c,C){var w=new p,S=d(c,{format:"png"}),z=S.gd;z.style.position="absolute",z.style.left="-5000px",document.body.appendChild(z);var D=v.getRedrawFunc(z);return T.call("_doPlot",z,S.data,S.layout,S.config).then(D).then(function A(){var _=v.getDelay(z._fullLayout);setTimeout(function(){var E=y(z),M=document.createElement("canvas");M.id=h.randstr(),(w=g({format:C.format,width:z._fullLayout.width,height:z._fullLayout.height,canvas:M,emitter:w,svg:E})).clean=function(){z&&document.body.removeChild(z)}},_)}).catch(function(_){w.emit("error",_)}),w}},7164:function(Ce,j,o){"use strict";var p=o(3428),T=o(3400),h=o(3616),v=o(6308),d=o(9616),y=/"/g,g="TOBESTRIPPED",m=new RegExp('("'+g+")|("+g+'")',"g");Ce.exports=function(S,z,A){var b,D=S._fullLayout,_=D._paper,E=D._toppaper,M=D.width,L=D.height;_.insert("rect",":first-child").call(h.setRect,0,0,M,L).call(v.fill,D.paper_bgcolor);var P=D._basePlotModules||[];for(b=0;b<P.length;b++){var I=P[b];I.toSVG&&I.toSVG(S)}if(E){var G=E.node().childNodes,$=Array.prototype.slice.call(G);for(b=0;b<$.length;b++){var J=$[b];J.childNodes.length&&_.node().appendChild(J)}}D._draggers&&D._draggers.remove(),_.node().style.background="",_.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var O=p.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){O.style({visibility:null,display:null});var Q=this.style.fontFamily;Q&&-1!==Q.indexOf('"')&&O.style("font-family",Q.replace(y,g));var U=this.style.fontWeight;U&&("normal"===U||"400"===U)&&O.style("font-weight",void 0);var ne=this.style.fontStyle;ne&&"normal"===ne&&O.style("font-style",void 0);var le=this.style.fontVariant;le&&"normal"===le&&O.style("font-variant",void 0)}else O.remove()}),_.selectAll(".gradient_filled,.pattern_filled").each(function(){var O=p.select(this),Q=this.style.fill;Q&&-1!==Q.indexOf("url(")&&O.style("fill",Q.replace(y,g));var U=this.style.stroke;U&&-1!==U.indexOf("url(")&&O.style("stroke",U.replace(y,g))}),("pdf"===z||"eps"===z)&&_.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),_.node().setAttributeNS(d.xmlns,"xmlns",d.svg),_.node().setAttributeNS(d.xmlns,"xmlns:xlink",d.xlink),"svg"===z&&A&&(_.attr("width",A*M),_.attr("height",A*L),_.attr("viewBox","0 0 "+M+" "+L));var re=(new window.XMLSerializer).serializeToString(_.node());return re=(re=function C(w){return w.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}(re=function c(w){var S=p.select("body").append("div").style({display:"none"}).html(""),z=w.replace(/(&[^;]*;)/gi,function(A){return"&lt;"===A?"&#60;":"&rt;"===A?"&#62;":-1!==A.indexOf("<")||-1!==A.indexOf(">")?"":S.html(A).text()});return S.remove(),z}(re))).replace(m,"'"),T.isIE()&&(re=(re=(re=re.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),re}},4664:function(Ce,j,o){"use strict";var p=o(3400);Ce.exports=function(h,v){for(var d=0;d<h.length;d++)h[d].i=d;p.mergeArray(v.text,h,"tx"),p.mergeArray(v.hovertext,h,"htx");var y=v.marker;if(y){p.mergeArray(y.opacity,h,"mo",!0),p.mergeArray(y.color,h,"mc");var g=y.line;g&&(p.mergeArray(g.color,h,"mlc"),p.mergeArrayCastPositive(g.width,h,"mlw"))}}},832:function(Ce,j,o){"use strict";var p=o(2904),T=o(9736).axisHoverFormat,h=o(1776).Ks,v=o(1776).Gw,d=o(9084),y=o(5376),g=o(8048),m=o(8192).c,c=o(2880).extendFlat,C=y({editType:"calc",arrayOk:!0,colorEditType:"style"}),z=c({},p.marker.line.width,{dflt:0}),A=c({width:z,editType:"calc"},d("marker.line")),D=c({line:A,editType:"calc"},d("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:m,cornerradius:{valType:"any",editType:"calc"}});Ce.exports={x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:p.xperiod0,yperiod0:p.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,xhoverformat:T("x"),yhoverformat:T("y"),text:p.text,texttemplate:v({editType:"plot"},{keys:g.eventDataKeys}),hovertext:p.hovertext,hovertemplate:h({},{keys:g.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:c({},C,{}),insidetextfont:c({},C,{}),outsidetextfont:c({},C,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:c({},p.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:D,offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup,selected:{marker:{opacity:p.selected.marker.opacity,color:p.selected.marker.color,editType:"style"},textfont:p.selected.textfont,editType:"style"},unselected:{marker:{opacity:p.unselected.marker.opacity,color:p.unselected.marker.color,editType:"style"},textfont:p.unselected.textfont,editType:"style"},zorder:p.zorder,_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},9439:function(Ce,j,o){"use strict";var p=o(4460),T=o(1220),h=o(4288).hasColorscale,v=o(7128),d=o(4664),y=o(4500);Ce.exports=function(m,c){var S,z,A,D,_,E,C=p.getFromId(m,c.xaxis||"x"),w=p.getFromId(m,c.yaxis||"y"),M={msUTC:!(!c.base&&0!==c.base)};"h"===c.orientation?(S=C.makeCalcdata(c,"x",M),A=w.makeCalcdata(c,"y"),D=T(c,w,"y",A),_=!!c.yperiodalignment,E="y"):(S=w.makeCalcdata(c,"y",M),A=C.makeCalcdata(c,"x"),D=T(c,C,"x",A),_=!!c.xperiodalignment,E="x"),z=D.vals;for(var L=Math.min(z.length,S.length),b=new Array(L),P=0;P<L;P++)b[P]={p:z[P],s:S[P]},_&&(b[P].orig_p=A[P],b[P][E+"End"]=D.ends[P],b[P][E+"Start"]=D.starts[P]),c.ids&&(b[P].id=String(c.ids[P]));return h(c,"marker")&&v(m,c,{vals:c.marker.color,containerStr:"marker",cLetter:"c"}),h(c,"marker.line")&&v(m,c,{vals:c.marker.line.color,containerStr:"marker.line",cLetter:"c"}),d(b,c),y(b,c),b}},8048:function(Ce){"use strict";Ce.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},6376:function(Ce,j,o){"use strict";var p=o(8248),T=o(3400).isArrayOrTypedArray,h=o(9032).BADNUM,v=o(4040),d=o(4460),y=o(1888).getAxisGroup,g=o(2592);function c(U,ne,le,pe,W){if(pe.length){var K,X,ie,ue;switch(function S(U,ne){var le,pe;for(le=0;le<ne.length;le++){var ie,W=ne[le],K=W[0].trace,X="funnel"===K.type?K._base:K.base,ue="h"===K.orientation?K.xcalendar:K.ycalendar,ce="category"===U.type||"multicategory"===U.type?function(){return null}:U.d2c;if(T(X)){for(pe=0;pe<Math.min(X.length,W.length);pe++)ie=ce(X[pe],0,ue),p(ie)?(W[pe].b=+ie,W[pe].hasB=1):W[pe].b=0;for(;pe<W.length;pe++)W[pe].b=0}else{ie=ce(X,0,ue);var ge=p(ie);for(ie=ge?ie:0,pe=0;pe<W.length;pe++)W[pe].b=ie,ge&&(W[pe].hasB=1)}}}(le,pe),W.mode){case"overlay":z(ne,le,pe,W);break;case"group":for(K=[],X=[],ie=0;ie<pe.length;ie++)void 0===(ue=pe[ie])[0].trace.offset?X.push(ue):K.push(ue);X.length&&function A(U,ne,le,pe,W){var K=new g(pe,{posAxis:ne,sepNegVal:!1,overlapNoMerge:!W.norm});(function E(U,ne,le,pe){for(var W=U._fullLayout,ie=le.minDiff,ue=le.traces,ce=ue.length,ge=le.positions.length!==le.distinctPositions.length,De=ie*(1-pe.gap),Ne=y(W,ne._id)+ue[0][0].trace.orientation,Be=W._alignmentOpts[Ne]||{},Fe=0;Fe<ce;Fe++){var te,N,Se=ue[Fe],ye=Se[0].trace,Y=Object.keys((Be[ye.alignmentgroup]||{}).offsetGroups||{}).length,Z=(te=Y?De/Y:ge?De/ce:De)*(1-(pe.groupgap||0));N=Y?((2*ye._offsetIndex+1-Y)*te-Z)/2:ge?((2*Fe+1-ce)*te-Z)/2:-Z/2;var ee=Se[0].t;ee.barwidth=Z,ee.poffset=N,ee.bargroupwidth=De,ee.bardelta=ie}le.binWidth=ue[0][0].t.barwidth/100,M(le),L(ne,le),b(ne,le,ge)})(U,ne,K,W),function $(U,ne){for(var le=U.traces,pe=0;pe<le.length;pe++){var W=le[pe];if(void 0===W[0].trace.base)for(var X=new g([W],{posAxis:ne,sepNegVal:!0,overlapNoMerge:!0}),ie=0;ie<W.length;ie++){var ue=W[ie];if(ue.p!==h){var ce=X.put(ue.p,ue.b+ue.s);ce&&(ue.b=ce)}}}}(K,ne),W.norm?(G(K),J(le,K,W)):P(le,K)}(U,ne,le,X,W),K.length&&z(ne,le,K,W);break;case"stack":case"relative":for(K=[],X=[],ie=0;ie<pe.length;ie++)void 0===(ue=pe[ie])[0].trace.base?X.push(ue):K.push(ue);(function w(U){if(!(U.length<2)){var ne,pe,W,K,X,ie;for(ne=0;ne<U.length&&void 0===(K=(pe=U[ne][0].trace).marker?pe.marker.cornerradius:void 0);ne++);if(void 0!==K)for(X=p(K)?+K:+K.slice(0,-1),ie=p(K)?"px":"%",ne=0;ne<U.length;ne++)(W=U[ne][0].t).cornerradiusvalue=X,W.cornerradiusform=ie}})(X),X.length&&function D(U,ne,le,pe,W){var K=new g(pe,{posAxis:ne,sepNegVal:"relative"===W.mode,overlapNoMerge:!(W.norm||"stack"===W.mode||"relative"===W.mode)});_(ne,K,W),function I(U,ne,le){var K,X,ie,ue,ce,ge,pe=Q(U),W=ne.traces;for(ue=0;ue<W.length;ue++)if("funnel"===(X=(K=W[ue])[0].trace).type)for(ce=0;ce<K.length;ce++)(ge=K[ce]).s!==h&&ne.put(ge.p,-.5*ge.s);for(ue=0;ue<W.length;ue++){ie="funnel"===(X=(K=W[ue])[0].trace).type;var De=[];for(ce=0;ce<K.length;ce++)if((ge=K[ce]).s!==h){var Ne,Be=ne.put(ge.p,Ne=ie?ge.s:ge.s+ge.b),Fe=Be+Ne;ge.b=Be,ge[pe]=Fe,le.norm||(De.push(Fe),ge.hasB&&De.push(Be))}le.norm||(X._extremes[U._id]=d.findExtremes(U,De,{tozero:!0,padded:!0}))}}(le,K,W);for(var X=0;X<pe.length;X++)for(var ie=pe[X],ue=0;ue<ie.length;ue++){var ce=ie[ue];ce.s!==h&&ce.b+ce.s===K.get(ce.p,ce.s)&&(ce._outmost=!0)}W.norm&&J(le,K,W)}(0,ne,le,X,W),K.length&&z(ne,le,K,W)}(function C(U){var ne,le,pe,W,K,X,ie;for(ne=0;ne<U.length;ne++)pe=(le=U[ne])[0].trace,void 0===(W=le[0].t).cornerradiusvalue&&void 0!==(K=pe.marker?pe.marker.cornerradius:void 0)&&(X=p(K)?+K:+K.slice(0,-1),ie=p(K)?"px":"%",W.cornerradiusvalue=X,W.cornerradiusform=ie)})(pe),function O(U,ne){var W,K,X,le=Q(ne),pe={},ie=1/0,ue=-1/0;for(W=0;W<U.length;W++)for(X=U[W],K=0;K<X.length;K++){var ce=X[K].p;p(ce)&&(ie=Math.min(ie,ce),ue=Math.max(ue,ce))}var ge=1e4/(ue-ie),De=pe.round=function(se){return String(Math.round(ge*(se-ie)))},Ne={},Be={},Fe=U.some(function(se){var xe=se[0].trace;return"marker"in xe&&xe.marker.cornerradius});for(W=0;W<U.length;W++){(X=U[W])[0].t.extents=pe;var Se=X[0].t.poffset,ye=T(Se);for(K=0;K<X.length;K++){var H=X[K],Y=H[le]-H.w/2;if(p(Y)){var te=H[le]+H.w/2,Z=De(H.p);pe[Z]=pe[Z]?[Math.min(Y,pe[Z][0]),Math.max(te,pe[Z][1])]:[Y,te]}if(H.p0=H.p+(ye?Se[K]:Se),H.p1=H.p0+H.w,H.s0=H.b,H.s1=H.s0+H.s,Fe){var N=Math.min(H.s0,H.s1)||0,ee=Math.max(H.s0,H.s1)||0,B=H[le];Ne[B]=B in Ne?Math.min(Ne[B],N):N,Be[B]=B in Be?Math.max(Be[B],ee):ee}}}Fe&&function re(U,ne,le,pe){for(var W=Q(pe),K=0;K<U.length;K++)for(var X=U[K],ie=0;ie<X.length;ie++){var ue=X[ie],ce=ue[W];ue._sMin=ne[ce],ue._sMax=le[ce]}}(U,Ne,Be,ne)}(pe,ne)}}function z(U,ne,le,pe){for(var W=0;W<le.length;W++){var X=new g([le[W]],{posAxis:U,sepNegVal:!1,overlapNoMerge:!pe.norm});_(U,X,pe),pe.norm?(G(X),J(ne,X,pe)):P(ne,X)}}function _(U,ne,le){for(var pe=ne.minDiff,W=ne.traces,K=pe*(1-le.gap),ie=K*(1-(le.groupgap||0)),ue=-ie/2,ce=0;ce<W.length;ce++){var De=W[ce][0].t;De.barwidth=ie,De.poffset=ue,De.bargroupwidth=K,De.bardelta=pe}ne.binWidth=W[0][0].t.barwidth/100,M(ne),L(U,ne),b(U,ne)}function M(U){var le,pe,ne=U.traces;for(le=0;le<ne.length;le++){var ge,W=ne[le],K=W[0],X=K.trace,ie=K.t,ue=X._offset||X.offset,ce=ie.poffset;if(T(ue)){for(ge=Array.prototype.slice.call(ue,0,W.length),pe=0;pe<ge.length;pe++)p(ge[pe])||(ge[pe]=ce);for(pe=ge.length;pe<W.length;pe++)ge.push(ce);ie.poffset=ge}else void 0!==ue&&(ie.poffset=ue);var De=X._width||X.width,Ne=ie.barwidth;if(T(De)){var Be=Array.prototype.slice.call(De,0,W.length);for(pe=0;pe<Be.length;pe++)p(Be[pe])||(Be[pe]=Ne);for(pe=Be.length;pe<W.length;pe++)Be.push(Ne);if(ie.barwidth=Be,void 0===ue){for(ge=[],pe=0;pe<W.length;pe++)ge.push(ce+(Ne-Be[pe])/2);ie.poffset=ge}}else void 0!==De&&(ie.barwidth=De,void 0===ue&&(ie.poffset=ce+(Ne-De)/2))}}function L(U,ne){for(var le=ne.traces,pe=Q(U),W=0;W<le.length;W++)for(var K=le[W],X=K[0].t,ie=X.poffset,ue=T(ie),ce=X.barwidth,ge=T(ce),De=0;De<K.length;De++){var Ne=K[De],Be=Ne.w=ge?ce[De]:ce;void 0===Ne.p&&(Ne.p=Ne[pe],Ne["orig_"+pe]=Ne[pe]),Ne[pe]=Ne.p+((ue?ie[De]:ie)+Be/2)}}function b(U,ne,le){var pe=ne.traces,K=ne.minDiff/2;d.minDtick(U,ne.minDiff,ne.distinctPositions[0],le);for(var X=0;X<pe.length;X++){var De,Ne,Fe,ie=pe[X],ue=ie[0],ce=ue.trace,ge=[];for(Fe=0;Fe<ie.length;Fe++)ge.push(Ne=(De=ie[Fe]).p-K,De.p+K);if(ce.width||ce.offset){var Se=ue.t,ye=Se.poffset,H=Se.barwidth,Y=T(ye),te=T(H);for(Fe=0;Fe<ie.length;Fe++)ge.push(Ne=(De=ie[Fe]).p+(Y?ye[Fe]:ye),Ne+(te?H[Fe]:H))}ce._extremes[U._id]=d.findExtremes(U,ge,{padded:!1})}}function P(U,ne){for(var le=ne.traces,pe=Q(U),W=0;W<le.length;W++){for(var K=le[W],X=K[0].trace,ie="scatter"===X.type,ue="v"===X.orientation,ce=[],ge=!1,De=0;De<K.length;De++){var Ne=K[De],Be=ie?0:Ne.b,Fe=ie?ue?Ne.y:Ne.x:Be+Ne.s;Ne[pe]=Fe,ce.push(Fe),Ne.hasB&&ce.push(Be),(!Ne.hasB||!Ne.b)&&(ge=!0)}X._extremes[U._id]=d.findExtremes(U,ce,{tozero:ge,padded:!0})}}function G(U){for(var ne=U.traces,le=0;le<ne.length;le++)for(var pe=ne[le],W=0;W<pe.length;W++){var K=pe[W];K.s!==h&&U.put(K.p,K.b+K.s)}}function J(U,ne,le){var pe=ne.traces,W=Q(U),K="fraction"===le.norm?1:100,X=K/1e9,ie=U.l2c(U.c2l(0)),ue="stack"===le.mode?K:ie;function ce(N){return p(U.c2l(N))&&(N<ie-X||N>ue+X||!p(ie))}for(var ge=0;ge<pe.length;ge++){for(var De=pe[ge],Ne=De[0].trace,Be=[],Fe=!1,Se=!1,ye=0;ye<De.length;ye++){var H=De[ye];if(H.s!==h){var Y=Math.abs(K/ne.get(H.p,H.s));H.b*=Y,H.s*=Y;var te=H.b,Z=te+H.s;H[W]=Z,Be.push(Z),Se=Se||ce(Z),H.hasB&&(Be.push(te),Se=Se||ce(te)),(!H.hasB||!H.b)&&(Fe=!0)}}Ne._extremes[U._id]=d.findExtremes(U,Be,{tozero:Fe,padded:Se})}}function Q(U){return U._id.charAt(0)}Ce.exports={crossTraceCalc:function m(U,ne){for(var le=ne.xaxis,pe=ne.yaxis,W=U._fullLayout,K=U._fullData,X=U.calcdata,ie=[],ue=[],ce=0;ce<K.length;ce++){var ge=K[ce];if(!0===ge.visible&&v.traceIs(ge,"bar")&&ge.xaxis===le._id&&ge.yaxis===pe._id&&("h"===ge.orientation?ie.push(X[ce]):ue.push(X[ce]),ge._computePh))for(var De=U.calcdata[ce],Ne=0;Ne<De.length;Ne++)"function"==typeof De[Ne].ph0&&(De[Ne].ph0=De[Ne].ph0()),"function"==typeof De[Ne].ph1&&(De[Ne].ph1=De[Ne].ph1())}var Be={xCat:"category"===le.type||"multicategory"===le.type,yCat:"category"===pe.type||"multicategory"===pe.type,mode:W.barmode,norm:W.barnorm,gap:W.bargap,groupgap:W.bargroupgap};c(U,le,pe,ue,Be),c(U,pe,le,ie,Be)},setGroupPositions:c}},1508:function(Ce,j,o){"use strict";var p=o(8248),T=o(3400),h=o(6308),v=o(4040),d=o(3980),y=o(1147),g=o(5592),m=o(11),c=o(832),C=T.coerceFont;function z(D){if(p(D)){if((D=+D)>=0)return D}else if("string"==typeof D&&"%"===(D=D.trim()).slice(-1)&&p(D.slice(0,-1))&&(D=+D.slice(0,-1))>=0)return D+"%"}function A(D,_,E,M,L,b){var P=!1!==(b=b||{}).moduleHasSelected,I=!1!==b.moduleHasUnselected,G=!1!==b.moduleHasConstrain,$=!1!==b.moduleHasCliponaxis,J=!1!==b.moduleHasTextangle,re=!1!==b.moduleHasInsideanchor,O=!!b.hasPathbar,Q=Array.isArray(L)||"auto"===L,U=Q||"inside"===L,ne=Q||"outside"===L;if(U||ne){var le=C(M,"textfont",E.font),pe=T.extendFlat({},le),K=!(D.textfont&&D.textfont.color);if(K&&delete pe.color,C(M,"insidetextfont",pe),O){var X=T.extendFlat({},le);K&&delete X.color,C(M,"pathbar.textfont",X)}ne&&C(M,"outsidetextfont",le),P&&M("selected.textfont.color"),I&&M("unselected.textfont.color"),G&&M("constraintext"),$&&M("cliponaxis"),J&&M("textangle"),M("texttemplate")}U&&re&&M("insidetextanchor")}Ce.exports={supplyDefaults:function w(D,_,E,M){function L($,J){return T.coerce(D,_,c,$,J)}if(d(D,_,M,L)){y(D,_,M,L),L("xhoverformat"),L("yhoverformat"),L("zorder"),L("orientation",_.x&&!_.y?"h":"v"),L("base"),L("offset"),L("width"),L("text"),L("hovertext"),L("hovertemplate");var P=L("textposition");A(D,0,M,L,P,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),g(D,_,L,E,M);var I=(_.marker.line||{}).color,G=v.getComponentMethod("errorbars","supplyDefaults");G(D,_,I||h.defaultLine,{axis:"y"}),G(D,_,I||h.defaultLine,{axis:"x",inherit:"y"}),T.coerceSelectionMarkerOpacity(_,L)}else _.visible=!1},crossTraceDefaults:function S(D,_){var E,M;function L(I,G){return T.coerce(M._input,M,c,I,G)}for(var b=0;b<D.length;b++)if("bar"===(M=D[b]).type){E=M._input;var P=L("marker.cornerradius",_.barcornerradius);M.marker&&(M.marker.cornerradius=z(P)),"group"===_.barmode&&m(E,M,_,L)}},handleText:A,validateCornerradius:z}},2160:function(Ce){"use strict";Ce.exports=function(o,p,T){return o.x="xVal"in p?p.xVal:p.x,o.y="yVal"in p?p.yVal:p.y,p.xa&&(o.xaxis=p.xa),p.ya&&(o.yaxis=p.ya),"h"===T.orientation?(o.label=o.y,o.value=o.x):(o.label=o.x,o.value=o.y),o}},444:function(Ce,j,o){"use strict";var p=o(8248),T=o(9760),h=o(3400).isArrayOrTypedArray;j.coerceString=function(v,d,y){if("string"==typeof d){if(d||!v.noBlank)return d}else if(("number"==typeof d||!0===d)&&!v.strict)return String(d);return void 0!==y?y:v.dflt},j.coerceNumber=function(v,d,y){if(p(d)){d=+d;var g=v.min,m=v.max;if(!(void 0!==g&&d<g||void 0!==m&&d>m))return d}return void 0!==y?y:v.dflt},j.coerceColor=function(v,d,y){return T(d).isValid()?d:void 0!==y?y:v.dflt},j.coerceEnumerated=function(v,d,y){return v.coerceNumber&&(d=+d),-1!==v.values.indexOf(d)?d:void 0!==y?y:v.dflt},j.getValue=function(v,d){var y;return h(v)?d<v.length&&(y=v[d]):y=v,y},j.getLineWidth=function(v,d){return 0<d.mlw?d.mlw:h(v.marker.line.width)?0:v.marker.line.width}},1020:function(Ce,j,o){"use strict";var p=o(3024),T=o(4040),h=o(6308),v=o(3400).fillText,d=o(444).getLineWidth,y=o(4460).hoverLabelText,g=o(9032).BADNUM;function c(w,S,z,A,D){var G,$,J,re,O,Q,U,_=w.cd,E=_[0].trace,M=_[0].t,L="closest"===A,b="waterfall"===E.type,P=w.maxHoverDistance,I=w.maxSpikeDistance;"h"===E.orientation?(G=z,$=S,J="y",re="x",O=Be,Q=ge):(G=S,$=z,J="x",re="y",Q=Be,O=ge);var ne=E[J+"period"],le=L||ne;function pe(se){return K(se,-1)}function W(se){return K(se,1)}function K(se,xe){return se[J]+xe*se.w/2}function X(se){return se[J+"End"]-se[J+"Start"]}var ie=L?pe:ne?function(se){return se.p-X(se)/2}:function(se){return Math.min(pe(se),se.p-M.bardelta/2)},ue=L?W:ne?function(se){return se.p+X(se)/2}:function(se){return Math.max(W(se),se.p+M.bardelta/2)};function ce(se,xe,Te){return D.finiteRange&&(Te=0),p.inbox(se-G,xe-G,Te+Math.min(1,Math.abs(xe-se)/U)-1)}function ge(se){return ce(ie(se),ue(se),P)}function Ne(se){var xe=se[re];if(b){var Te=Math.abs(se.rawS)||0;$>0?xe+=Te:$<0&&(xe-=Te)}return xe}function Be(se){var xe=$,Te=se.b,Ee=Ne(se);return p.inbox(Te-xe,Ee-xe,P+(Ee-xe)/(Ee-Te)-1)}var Se=w[J+"a"],ye=w[re+"a"];U=Math.abs(Se.r2c(Se.range[1])-Se.r2c(Se.range[0]));var Y=p.getDistanceFunction(A,O,Q,function H(se){return(O(se)+Q(se))/2});if(p.getClosest(_,Y,w),!1!==w.index&&_[w.index].p!==g){le||(ie=function(se){return Math.min(pe(se),se.p-M.bargroupwidth/2)},ue=function(se){return Math.max(W(se),se.p+M.bargroupwidth/2)});var Z=_[w.index],N=E.base?Z.b+Z.s:Z.s;w[re+"0"]=w[re+"1"]=ye.c2p(Z[re],!0),w[re+"LabelVal"]=N;var ee=M.extents[M.extents.round(Z.p)];return w[J+"0"]=Se.c2p(L?ie(Z):ee[0],!0),w[J+"1"]=Se.c2p(L?ue(Z):ee[1],!0),w[J+"LabelVal"]=void 0!==Z.orig_p?Z.orig_p:Z.p,w.labelLabel=y(Se,w[J+"LabelVal"],E[J+"hoverformat"]),w.valueLabel=y(ye,w[re+"LabelVal"],E[re+"hoverformat"]),w.baseLabel=y(ye,Z.b,E[re+"hoverformat"]),w.spikeDistance=(function Fe(se){var xe=$,Te=se.b,Ee=Ne(se);return p.inbox(Te-xe,Ee-xe,I+(Ee-xe)/(Ee-Te)-1)}(Z)+function De(se){return ce(pe(se),W(se),I)}(Z))/2,w[J+"Spike"]=Se.c2p(Z.p,!0),v(Z,E,w),w.hovertemplate=E.hovertemplate,w}}function C(w,S){var z=S.mcc||w.marker.color,A=S.mlcc||w.marker.line.color,D=d(w,S);return h.opacity(z)?z:h.opacity(A)&&D?A:void 0}Ce.exports={hoverPoints:function m(w,S,z,A,D){var _=c(w,S,z,A,D);if(_){var E=_.cd,M=E[0].trace,L=E[_.index];return _.color=C(M,L),T.getComponentMethod("errorbars","hoverInfo")(L,M,_),[_]}},hoverOnBars:c,getTraceColor:C}},1132:function(Ce,j,o){"use strict";Ce.exports={attributes:o(832),layoutAttributes:o(9324),supplyDefaults:o(1508).supplyDefaults,crossTraceDefaults:o(1508).crossTraceDefaults,supplyLayoutDefaults:o(7156),calc:o(9439),crossTraceCalc:o(6376).crossTraceCalc,colorbar:o(5528),arraysToCalcdata:o(4664),plot:o(8184).plot,style:o(100).style,styleOnSelect:o(100).styleOnSelect,hoverPoints:o(1020).hoverPoints,eventData:o(2160),selectPoints:o(5784),moduleType:"trace",name:"bar",basePlotModule:o(7952),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},9324:function(Ce){"use strict";Ce.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},7156:function(Ce,j,o){"use strict";var p=o(4040),T=o(4460),h=o(3400),v=o(9324),d=o(1508).validateCornerradius;Ce.exports=function(y,g,m){function c(b,P){return h.coerce(y,g,v,b,P)}for(var C=!1,w=!1,S=!1,z={},A=c("barmode"),D=0;D<m.length;D++){var _=m[D];if(p.traceIs(_,"bar")&&_.visible){if(C=!0,"group"===A){var E=_.xaxis+_.yaxis;z[E]&&(S=!0),z[E]=!0}_.visible&&"histogram"===_.type&&"category"!==T.getFromId({_fullLayout:g},_["v"===_.orientation?"xaxis":"yaxis"]).type&&(w=!0)}}if(C){"overlay"!==A&&c("barnorm"),c("bargap",w&&!S?0:.2),c("bargroupgap");var L=c("barcornerradius");g.barcornerradius=d(L)}else delete g.barmode}},8184:function(Ce,j,o){"use strict";var p=o(3428),T=o(8248),h=o(3400),v=o(2736),d=o(6308),y=o(3616),g=o(4040),m=o(4460).tickText,c=o(2744),C=c.recordMinTextSize,w=c.clearMinTextSize,S=o(100),z=o(444),A=o(8048),D=o(832),_=D.text,E=D.textposition,M=o(624).appendArrayPointValue,L=A.TEXTPAD;function b(ge){return ge.id}function I(ge){return(ge>0)-(ge<0)}function G(ge,De){return ge<De?1:-1}function J(ge,De,Ne,Be){var Fe;return!De.uniformtext.mode&&re(Ne)?(Be&&(Fe=Be()),ge.transition().duration(Ne.duration).ease(Ne.easing).each("end",function(){Fe&&Fe()}).each("interrupt",function(){Fe&&Fe()})):ge}function re(ge){return ge&&ge.duration>0}function U(ge,De,Ne,Be,Fe){return!(ge<0||De<0)&&(Ne<=ge&&Be<=De||Ne<=De&&Be<=ge||(Fe?ge>=Ne*(De/Be):De>=Be*(ge/Ne)))}function ne(ge){return"auto"===ge?0:ge}function le(ge,De){var Ne=Math.PI/180*De,Be=Math.abs(Math.sin(Ne)),Fe=Math.abs(Math.cos(Ne));return{x:ge.width*Fe+ge.height*Be,y:ge.width*Be+ge.height*Fe}}function pe(ge,De,Ne,Be,Fe,Se){var ye=!!Se.isHorizontal,H=!!Se.constrained,Y=Se.angle||0,te=Se.anchor,Z="end"===te,N="start"===te,B=((Se.leftToRight||0)+1)/2,se=1-B,xe=Se.hasB,Te=Se.r,Ee=Se.overhead,Oe=Fe.width,$e=Fe.height,ct=Math.abs(De-ge),ft=Math.abs(Be-Ne),gt=ct>2*L&&ft>2*L?L:0;ct-=2*gt,ft-=2*gt;var ze=ne(Y);"auto"===Y&&!(Oe<=ct&&$e<=ft)&&(Oe>ct||$e>ft)&&(!(Oe>ft||$e>ct)||Oe<$e!=ct<ft)&&(ze+=90);var Pe,Qe,Ve=le(Fe,ze);if(Te&&Te-Ee>L){var Ke=function W(ge,De,Ne,Be,Fe,Se,ye,H,Y){var xe,Te,Ee,Oe,te=Math.max(0,Math.abs(De-ge)-2*L),Z=Math.max(0,Math.abs(Be-Ne)-2*L),N=Se-L,ee=ye?N-Math.sqrt(N*N-(N-ye)*(N-ye)):N;return Fe.y/Fe.x>=Z/(te-(Y?2*N:H?N-ye:2*ee))?Oe=Z/Fe.y:Fe.y/Fe.x<=(Z-(Y?2*N:H?2*ee:N-ye))/te?Oe=te/Fe.x:!Y&&H?(xe=Fe.x*Fe.x+Fe.y*Fe.y/4,Ee=(te-N)*(te-N)+(Z/2-N)*(Z/2-N)-N*N,Oe=(-(Te=-2*Fe.x*(te-N)-Fe.y*(Z/2-N))+Math.sqrt(Te*Te-4*xe*Ee))/(2*xe)):Y?(xe=(Fe.x*Fe.x+Fe.y*Fe.y)/4,Ee=(te/2-N)*(te/2-N)+(Z/2-N)*(Z/2-N)-N*N,Oe=(-(Te=-Fe.x*(te/2-N)-Fe.y*(Z/2-N))+Math.sqrt(Te*Te-4*xe*Ee))/(2*xe)):(xe=Fe.x*Fe.x/4+Fe.y*Fe.y,Ee=(te/2-N)*(te/2-N)+(Z-N)*(Z-N)-N*N,Oe=(-(Te=-Fe.x*(te/2-N)-2*Fe.y*(Z-N))+Math.sqrt(Te*Te-4*xe*Ee))/(2*xe)),{scale:Oe=Math.min(1,Oe),pad:H?Math.max(0,N-Math.sqrt(Math.max(0,N*N-(N-(Z-Fe.y*Oe)/2)*(N-(Z-Fe.y*Oe)/2)))-ye):Math.max(0,N-Math.sqrt(Math.max(0,N*N-(N-(te-Fe.x*Oe)/2)*(N-(te-Fe.x*Oe)/2)))-ye)}}(ge,De,Ne,Be,Ve,Te,Ee,ye,xe);Pe=Ke.scale,Qe=Ke.pad}else Pe=1,H&&(Pe=Math.min(1,ct/Ve.x,ft/Ve.y)),Qe=0;var dt=Fe.left*se+Fe.right*B,Dt=(Fe.top+Fe.bottom)/2,$t=(ge+L)*se+(De-L)*B,Ot=(Ne+Be)/2,kt=0,At=0;if(N||Z){var Gt=(ye?Ve.x:Ve.y)/2;Te&&(Z||xe)&&(gt+=Qe);var Lt=ye?G(ge,De):G(Ne,Be);ye?N?($t=ge+Lt*gt,kt=-Lt*Gt):($t=De-Lt*gt,kt=Lt*Gt):N?(Ot=Ne+Lt*gt,At=-Lt*Gt):(Ot=Be-Lt*gt,At=Lt*Gt)}return{textX:dt,textY:Dt,targetX:$t,targetY:Ot,anchorX:kt,anchorY:At,scale:Pe,rotate:ze}}Ce.exports={plot:function O(ge,De,Ne,Be,Fe,Se){var ye=De.xaxis,H=De.yaxis,Y=ge._fullLayout,te=ge._context.staticPlot;Fe||(Fe={mode:Y.barmode,norm:Y.barmode,gap:Y.bargap,groupgap:Y.bargroupgap},w("bar",Y));var Z=h.makeTraceGroups(Be,Ne,"trace bars").each(function(N){var ee=p.select(this),B=N[0].trace,se=N[0].t,Ee="histogram"===B.type,Oe="bar"===B.type,$e=Oe||"funnel"===B.type,ct=0;"waterfall"===B.type&&B.connector.visible&&"between"===B.connector.mode&&(ct=B.connector.line.width/2);var ft="h"===B.orientation,gt=re(Fe),ze=h.ensureSingle(ee,"g","points"),Ve=function P(ge){if(ge.ids)return b}(B),Pe=ze.selectAll("g.point").data(h.identity,Ve);Pe.enter().append("g").classed("point",!0),Pe.exit().remove(),Pe.each(function(Ke,dt){var Qt,Jt,Dt=p.select(this),$t=function $(ge,De,Ne,Be){var Fe=[],Se=[],ye=Be?De:Ne,H=Be?Ne:De;return Fe[0]=ye.c2p(ge.s0,!0),Se[0]=H.c2p(ge.p0,!0),Fe[1]=ye.c2p(ge.s1,!0),Se[1]=H.c2p(ge.p1,!0),Be?[Fe,Se]:[Se,Fe]}(Ke,ye,H,ft),Ot=$t[0][0],kt=$t[0][1],At=$t[1][0],Gt=$t[1][1],Lt=0==(ft?kt-Ot:Gt-At);if(Lt&&$e&&z.getLineWidth(B,Ke)&&(Lt=!1),Lt||(Lt=!(T(Ot)&&T(kt)&&T(At)&&T(Gt))),Ke.isBlank=Lt,Lt&&(ft?kt=Ot:Gt=At),ct&&!Lt&&(ft?(Ot-=G(Ot,kt)*ct,kt+=G(Ot,kt)*ct):(At-=G(At,Gt)*ct,Gt+=G(At,Gt)*ct)),"waterfall"===B.type){if(!Lt){var en=B[Ke.dir].marker;Qt=en.line.width,Jt=en.color}}else Qt=z.getLineWidth(B,Ke),Jt=Ke.mc||B.marker.color;function sn(En){var Pn=p.round(Qt/2%1,2);return 0===Fe.gap&&0===Fe.groupgap?p.round(Math.round(En)-Pn,2):En}var yt=d.opacity(Jt)<1||Qt>.01?sn:function pt(En,Pn,Zn){return Zn&&En===Pn?En:Math.abs(En-Pn)>=2?sn(En):En>Pn?Math.ceil(En):Math.floor(En)};ge._context.staticPlot||(Ot=yt(Ot,kt,ft),kt=yt(kt,Ot,ft),At=yt(At,Gt,!ft),Gt=yt(Gt,At,!ft));var Xe,ke=ft?ye.c2p:H.c2p;Xe=Ke.s0>0?Ke._sMax:Ke.s0<0?Ke._sMin:Ke.s1>0?Ke._sMax:Ke._sMin;var He,We,_e=Oe||Ee?function Me(En,Pn){if(!En)return 0;var In,Zn=Math.abs(ft?Gt-At:kt-Ot),Yn=Math.abs(ft?kt-Ot:Gt-At),mn=yt(Math.abs(ke(Xe,!0)-ke(0,!0))),Wn=Ke.hasB?Math.min(Zn/2,Yn/2):Math.min(Zn/2,mn);return In="%"===Pn?Zn*(Math.min(50,En)/100):En,yt(Math.max(Math.min(In,Wn),0))}(se.cornerradiusvalue,se.cornerradiusform):0,Ze="M"+Ot+","+At+"V"+Gt+"H"+kt+"V"+At+"Z",nt=0;if(_e&&Ke.s){var Bt=0===I(Ke.s0)||I(Ke.s)===I(Ke.s0)?Ke.s1:Ke.s0;if((nt=yt(Ke.hasB?0:Math.abs(ke(Xe,!0)-ke(Bt,!0))))<_e){var Je=G(Ot,kt),Ct=G(At,Gt),st=Je===-Ct?1:0;if(ft)if(Ke.hasB)He="M"+(Ot+_e*Je)+","+At+"A "+_e+","+_e+" 0 0 "+st+" "+Ot+","+(At+_e*Ct)+"V"+(Gt-_e*Ct)+"A "+_e+","+_e+" 0 0 "+st+" "+(Ot+_e*Je)+","+Gt+"H"+(kt-_e*Je)+"A "+_e+","+_e+" 0 0 "+st+" "+kt+","+(Gt-_e*Ct)+"V"+(At+_e*Ct)+"A "+_e+","+_e+" 0 0 "+st+" "+(kt-_e*Je)+","+At+"Z";else{var Pt=(We=Math.abs(kt-Ot)+nt)<_e?_e-Math.sqrt(We*(2*_e-We)):0,cn=nt>0?Math.sqrt(nt*(2*_e-nt)):0,_n=Je>0?Math.max:Math.min;He="M"+Ot+","+At+"V"+(Gt-Pt*Ct)+"H"+_n(kt-(_e-nt)*Je,Ot)+"A "+_e+","+_e+" 0 0 "+st+" "+kt+","+(Gt-_e*Ct-cn)+"V"+(At+_e*Ct+cn)+"A "+_e+","+_e+" 0 0 "+st+" "+_n(kt-(_e-nt)*Je,Ot)+","+(At+Pt*Ct)+"Z"}else if(Ke.hasB)He="M"+(Ot+_e*Je)+","+At+"A "+_e+","+_e+" 0 0 "+st+" "+Ot+","+(At+_e*Ct)+"V"+(Gt-_e*Ct)+"A "+_e+","+_e+" 0 0 "+st+" "+(Ot+_e*Je)+","+Gt+"H"+(kt-_e*Je)+"A "+_e+","+_e+" 0 0 "+st+" "+kt+","+(Gt-_e*Ct)+"V"+(At+_e*Ct)+"A "+_e+","+_e+" 0 0 "+st+" "+(kt-_e*Je)+","+At+"Z";else{var Nn=(We=Math.abs(Gt-At)+nt)<_e?_e-Math.sqrt(We*(2*_e-We)):0,Vn=nt>0?Math.sqrt(nt*(2*_e-nt)):0,$n=Ct>0?Math.max:Math.min;He="M"+(Ot+Nn*Je)+","+At+"V"+$n(Gt-(_e-nt)*Ct,At)+"A "+_e+","+_e+" 0 0 "+st+" "+(Ot+_e*Je-Vn)+","+Gt+"H"+(kt-_e*Je+Vn)+"A "+_e+","+_e+" 0 0 "+st+" "+(kt-Nn*Je)+","+$n(Gt-(_e-nt)*Ct,At)+"V"+At+"Z"}}else He=Ze}else He=Ze;var fn=J(h.ensureSingle(Dt,"path"),Y,Fe,Se);if(fn.style("vector-effect",te?"none":"non-scaling-stroke").attr("d",isNaN((kt-Ot)*(Gt-At))||Lt&&ge._context.staticPlot?"M0,0Z":He).call(y.setClipUrl,De.layerClipId,ge),!Y.uniformtext.mode&&gt){var Rn=y.makePointStyleFns(B);y.singlePointStyle(Ke,fn,B,Rn,ge)}(function Q(ge,De,Ne,Be,Fe,Se,ye,H,Y,te,Z,N,ee){var Te,B=De.xaxis,se=De.yaxis,xe=ge._fullLayout;function Ee(We,Ze,nt){return h.ensureSingle(We,"text").text(Ze).attr({class:"bartext bartext-"+Te,"text-anchor":"middle","data-notex":1}).call(y.font,nt).call(v.convertToTspans,ge)}var Oe=Be[0].trace,$e="h"===Oe.orientation,ct=function X(ge,De,Ne,Be,Fe){var H,Se=De[0].trace;return H=Se.texttemplate?function ue(ge,De,Ne,Be,Fe){var Se=De[0].trace,ye=h.castOption(Se,Ne,"texttemplate");if(!ye)return"";var N,ee,B,se,H="histogram"===Se.type,Y="waterfall"===Se.type,te="funnel"===Se.type,Z="h"===Se.orientation;function xe(gt){return m(ee,ee.c2l(gt),!0).text}function Te(gt){return m(se,se.c2l(gt),!0).text}Z?(N="y",ee=Fe,B="x",se=Be):(N="x",ee=Be,B="y",se=Fe);var Ee=De[Ne],Oe={};Oe.label=Ee.p,Oe.labelLabel=Oe[N+"Label"]=xe(Ee.p);var $e=h.castOption(Se,Ee.i,"text");(0===$e||$e)&&(Oe.text=$e),Oe.value=Ee.s,Oe.valueLabel=Oe[B+"Label"]=Te(Ee.s);var ct={};M(ct,Se,Ee.i),(H||void 0===ct.x)&&(ct.x=Z?Oe.value:Oe.label),(H||void 0===ct.y)&&(ct.y=Z?Oe.label:Oe.value),(H||void 0===ct.xLabel)&&(ct.xLabel=Z?Oe.valueLabel:Oe.labelLabel),(H||void 0===ct.yLabel)&&(ct.yLabel=Z?Oe.labelLabel:Oe.valueLabel),Y&&(Oe.delta=+Ee.rawS||Ee.s,Oe.deltaLabel=Te(Oe.delta),Oe.final=Ee.v,Oe.finalLabel=Te(Oe.final),Oe.initial=Oe.final-Oe.delta,Oe.initialLabel=Te(Oe.initial)),te&&(Oe.value=Ee.s,Oe.valueLabel=Te(Oe.value),Oe.percentInitial=Ee.begR,Oe.percentInitialLabel=h.formatPercent(Ee.begR),Oe.percentPrevious=Ee.difR,Oe.percentPreviousLabel=h.formatPercent(Ee.difR),Oe.percentTotal=Ee.sumR,Oe.percenTotalLabel=h.formatPercent(Ee.sumR));var ft=h.castOption(Se,Ee.i,"customdata");return ft&&(Oe.customdata=ft),h.texttemplateString(ye,Oe,ge._d3locale,ct,Oe,Se._meta||{})}(ge,De,Ne,Be,Fe):Se.textinfo?function ce(ge,De,Ne,Be){var Fe=ge[0].trace,Se="h"===Fe.orientation,ye="waterfall"===Fe.type,H="funnel"===Fe.type;function Y(ft){return m(Se?Be:Ne,ft,!0).text}function te(ft){return m(Se?Ne:Be,+ft,!0).text}var se,N=ge[De],ee=Fe.textinfo.split("+"),B=[],xe=function(ft){return-1!==ee.indexOf(ft)};if(xe("label")&&B.push(Y(ge[De].p)),xe("text")&&(0===(se=h.castOption(Fe,N.i,"text"))||se)&&B.push(se),ye){var Te=+N.rawS||N.s,Ee=N.v,Oe=Ee-Te;xe("initial")&&B.push(te(Oe)),xe("delta")&&B.push(te(Te)),xe("final")&&B.push(te(Ee))}if(H){xe("value")&&B.push(te(N.s));var $e=0;xe("percent initial")&&$e++,xe("percent previous")&&$e++,xe("percent total")&&$e++;var ct=$e>1;xe("percent initial")&&(se=h.formatPercent(N.begR),ct&&(se+=" of initial"),B.push(se)),xe("percent previous")&&(se=h.formatPercent(N.difR),ct&&(se+=" of previous"),B.push(se)),xe("percent total")&&(se=h.formatPercent(N.sumR),ct&&(se+=" of total"),B.push(se))}return B.join("<br>")}(De,Ne,Be,Fe):z.getValue(Se.text,Ne),z.coerceString(_,H)}(xe,Be,Fe,B,se);Te=function ie(ge,De){var Ne=z.getValue(ge.textposition,De);return z.coerceEnumerated(E,Ne)}(Oe,Fe);var gt=Be[Fe],ze=!("stack"===N.mode||"relative"===N.mode)||gt._outmost,Ve=gt.hasB,Pe=te&&te-Z>L;if(ct&&"none"!==Te&&(!gt.isBlank&&Se!==ye&&H!==Y||"auto"!==Te&&"inside"!==Te)){var Qe=xe.font,Ke=S.getBarColor(Be[Fe],Oe),dt=S.getInsideTextFont(Oe,Fe,Qe,Ke),Dt=S.getOutsideTextFont(Oe,Fe,Qe),$t=Oe.insidetextanchor||"end",Ot=Ne.datum();$e?"log"===B.type&&Ot.s0<=0&&(Se=B.range[0]<B.range[1]?0:B._length):"log"===se.type&&Ot.s0<=0&&(H=se.range[0]<se.range[1]?se._length:0);var Qt,Jt,en,sn,pt,kt=Math.abs(ye-Se),At=Math.abs(Y-H),Gt=kt-2*L,Lt=At-2*L;if("outside"===Te&&!ze&&!gt.hasB&&(Te="inside"),"auto"===Te)if(ze){Te="inside",Qt=Ee(Ne,ct,pt=h.ensureUniformFontSize(ge,dt)),sn=(Jt=y.bBox(Qt.node())).height;var yt,xt=(en=Jt.width)>0&&sn>0;yt=Pe?Ve?U(Gt-2*te,Lt,en,sn,$e)||U(Gt,Lt-2*te,en,sn,$e):$e?U(Gt-(te-Z),Lt,en,sn,$e)||U(Gt,Lt-2*(te-Z),en,sn,$e):U(Gt,Lt-(te-Z),en,sn,$e)||U(Gt-2*(te-Z),Lt,en,sn,$e):U(Gt,Lt,en,sn,$e),xt&&yt?Te="inside":(Te="outside",Qt.remove(),Qt=null)}else Te="inside";if(!Qt){var ke=(Qt=Ee(Ne,ct,pt=h.ensureUniformFontSize(ge,"outside"===Te?Dt:dt))).attr("transform");if(Qt.attr("transform",""),en=(Jt=y.bBox(Qt.node())).width,sn=Jt.height,Qt.attr("transform",ke),en<=0||sn<=0)return void Qt.remove()}var Me,Xe=Oe.textangle;(Me="outside"===Te?function K(ge,De,Ne,Be,Fe,Se){var B,ye=!!Se.isHorizontal,H=!!Se.constrained,Y=Se.angle||0,te=Fe.width,Z=Fe.height,N=Math.abs(De-ge),ee=Math.abs(Be-Ne);B=ye?ee>2*L?L:0:N>2*L?L:0;var se=1;H&&(se=ye?Math.min(1,ee/Z):Math.min(1,N/te));var xe=ne(Y),Te=le(Fe,xe),Ee=(ye?Te.x:Te.y)/2,Oe=(Fe.left+Fe.right)/2,$e=(Fe.top+Fe.bottom)/2,ct=(ge+De)/2,ft=(Ne+Be)/2,gt=0,ze=0,Ve=ye?G(De,ge):G(Ne,Be);return ye?(ct=De-Ve*B,gt=Ve*Ee):(ft=Be+Ve*B,ze=-Ve*Ee),{textX:Oe,textY:$e,targetX:ct,targetY:ft,anchorX:gt,anchorY:ze,scale:se,rotate:xe}}(Se,ye,H,Y,Jt,{isHorizontal:$e,constrained:"both"===Oe.constraintext||"outside"===Oe.constraintext,angle:Xe}):pe(Se,ye,H,Y,Jt,{isHorizontal:$e,constrained:"both"===Oe.constraintext||"inside"===Oe.constraintext,angle:Xe,anchor:$t,hasB:Ve,r:te,overhead:Z})).fontSize=pt.size,C("histogram"===Oe.type?"bar":Oe.type,Me,xe),gt.transform=Me;var He=J(Qt,xe,N,ee);h.setTransormAndDisplay(He,Me)}else Ne.select("text").remove()})(ge,De,Dt,N,dt,Ot,kt,At,Gt,_e,nt,Fe,Se),De.layerClipId&&y.hideOutsideRangePoint(Ke,Dt.select("text"),ye,H,B.xcalendar,B.ycalendar)}),y.setClipUrl(ee,!1===B.cliponaxis?null:De.layerClipId,ge)});g.getComponentMethod("errorbars","plot")(ge,Z,De,Fe)},toMoveInsideBar:pe}},5784:function(Ce){"use strict";function j(o,p,T,h,v){var d=p.c2p(h?o.s0:o.p0,!0),y=p.c2p(h?o.s1:o.p1,!0),g=T.c2p(h?o.p0:o.s0,!0),m=T.c2p(h?o.p1:o.s1,!0);return v?[(d+y)/2,(g+m)/2]:h?[y,(g+m)/2]:[(d+y)/2,m]}Ce.exports=function(p,T){var C,h=p.cd,v=p.xaxis,d=p.yaxis,y=h[0].trace,g="funnel"===y.type,m="h"===y.orientation,c=[];if(!1===T)for(C=0;C<h.length;C++)h[C].selected=0;else for(C=0;C<h.length;C++){var w=h[C],S="ct"in w?w.ct:j(w,v,d,m,g);T.contains(S,!1,C,p)?(c.push({pointNumber:C,x:v.c2d(w.x),y:d.c2d(w.y)}),w.selected=1):w.selected=0}return c}},2592:function(Ce,j,o){"use strict";Ce.exports=T;var p=o(3400).distinctVals;function T(h,v){this.traces=h,this.sepNegVal=v.sepNegVal,this.overlapNoMerge=v.overlapNoMerge;for(var d=1/0,y=v.posAxis._id.charAt(0),g=[],m=0;m<h.length;m++){for(var c=h[m],C=0;C<c.length;C++){var w=c[C],S=w.p;void 0===S&&(S=w[y]),void 0!==S&&g.push(S)}c[0]&&c[0].width1&&(d=Math.min(c[0].width1,d))}this.positions=g;var z=p(g);this.distinctPositions=z.vals,this.minDiff=1===z.vals.length&&d!==1/0?d:Math.min(z.minDiff,d);var A=(v.posAxis||{}).type;("category"===A||"multicategory"===A)&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}T.prototype.put=function(v,d){var y=this.getLabel(v,d),g=this.bins[y]||0;return this.bins[y]=g+d,g},T.prototype.get=function(v,d){var y=this.getLabel(v,d);return this.bins[y]||0},T.prototype.getLabel=function(v,d){return(d<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?v:Math.round(v/this.binWidth))}},100:function(Ce,j,o){"use strict";var p=o(3428),T=o(6308),h=o(3616),v=o(3400),d=o(4040),y=o(2744).resizeText,g=o(832),m=g.textfont,c=g.insidetextfont,C=g.outsidetextfont,w=o(444);function z($,J,re){h.pointStyle($.selectAll("path"),J,re),A($,J,re)}function A($,J,re){$.selectAll("text").each(function(O){var Q=p.select(this),U=v.ensureUniformFontSize(re,M(Q,O,J,re));h.font(Q,U)})}function M($,J,re,O){var Q=O._fullLayout.font,U=re.textfont;if($.classed("bartext-inside")){var ne=G(J,re);U=b(re,J.i,Q,ne)}else $.classed("bartext-outside")&&(U=P(re,J.i,Q));return U}function L($,J,re){return I(m,$.textfont,J,re)}function b($,J,re,O){var Q=L($,J,re);return(void 0===$._input.textfont||void 0===$._input.textfont.color||Array.isArray($.textfont.color)&&void 0===$.textfont.color[J])&&(Q={color:T.contrast(O),family:Q.family,size:Q.size,weight:Q.weight,style:Q.style,variant:Q.variant,textcase:Q.textcase,lineposition:Q.lineposition,shadow:Q.shadow}),I(c,$.insidetextfont,J,Q)}function P($,J,re){var O=L($,J,re);return I(C,$.outsidetextfont,J,O)}function I($,J,re,O){var Q=w.getValue((J=J||{}).family,re),U=w.getValue(J.size,re),ne=w.getValue(J.color,re),le=w.getValue(J.weight,re),pe=w.getValue(J.style,re),W=w.getValue(J.variant,re),K=w.getValue(J.textcase,re),X=w.getValue(J.lineposition,re),ie=w.getValue(J.shadow,re);return{family:w.coerceString($.family,Q,O.family),size:w.coerceNumber($.size,U,O.size),color:w.coerceColor($.color,ne,O.color),weight:w.coerceString($.weight,le,O.weight),style:w.coerceString($.style,pe,O.style),variant:w.coerceString($.variant,W,O.variant),textcase:w.coerceString($.variant,K,O.textcase),lineposition:w.coerceString($.variant,X,O.lineposition),shadow:w.coerceString($.variant,ie,O.shadow)}}function G($,J){return"waterfall"===J.type?J[$.dir].marker.color:$.mcc||$.mc||J.marker.color}Ce.exports={style:function S($){var J=p.select($).selectAll('g[class^="barlayer"]').selectAll("g.trace");y($,J,"bar");var re=J.size(),O=$._fullLayout;J.style("opacity",function(Q){return Q[0].trace.opacity}).each(function(Q){("stack"===O.barmode&&re>1||0===O.bargap&&0===O.bargroupgap&&!Q[0].trace.marker.line.width)&&p.select(this).attr("shape-rendering","crispEdges")}),J.selectAll("g.points").each(function(Q){z(p.select(this),Q[0].trace,$)}),d.getComponentMethod("errorbars","style")(J)},styleTextPoints:A,styleOnSelect:function D($,J,re){var O=J[0].trace;O.selectedpoints?function _($,J,re){h.selectedPointStyle($.selectAll("path"),J),function E($,J,re){$.each(function(O){var U,Q=p.select(this);if(O.selected){U=v.ensureUniformFontSize(re,M(Q,O,J,re));var ne=J.selected.textfont&&J.selected.textfont.color;ne&&(U.color=ne),h.font(Q,U)}else h.selectedTextStyle(Q,J)})}($.selectAll("text"),J,re)}(re,O,$):(z(re,O,$),d.getComponentMethod("errorbars","style")(re))},getInsideTextFont:b,getOutsideTextFont:P,getBarColor:G,resizeText:y}},5592:function(Ce,j,o){"use strict";var p=o(6308),T=o(4288).hasColorscale,h=o(7260),v=o(3400).coercePattern;Ce.exports=function(y,g,m,c,C){var w=m("marker.color",c),S=T(y,"marker");S&&h(y,g,C,m,{prefix:"marker.",cLetter:"c"}),m("marker.line.color",p.defaultLine),T(y,"marker.line")&&h(y,g,C,m,{prefix:"marker.line.",cLetter:"c"}),m("marker.line.width"),m("marker.opacity"),v(m,"marker.pattern",w,S),m("selected.marker.color"),m("unselected.marker.color")}},2744:function(Ce,j,o){"use strict";var p=o(3428),T=o(3400);function y(g){return"_"+g+"Text_minsize"}Ce.exports={recordMinTextSize:function v(g,m,c){if(c.uniformtext.mode){var C=y(g),w=c.uniformtext.minsize,S=m.scale*m.fontSize;m.hide=S<w,c[C]=c[C]||1/0,m.hide||(c[C]=Math.min(c[C],Math.max(S,w)))}},clearMinTextSize:function d(g,m){m[y(g)]=void 0},resizeText:function h(g,m,c){var C=g._fullLayout,w=C["_"+c+"Text_minsize"];if(w){var z,S="hide"===C.uniformtext.mode;switch(c){case"funnelarea":case"pie":case"sunburst":z="g.slice";break;case"treemap":case"icicle":z="g.slice, g.pathbar";break;default:z="g.points > g.point"}m.selectAll(z).each(function(A){var D=A.transform;if(D){D.scale=S&&D.hide?0:w/D.fontSize;var _=p.select(this).select("text");T.setTransormAndDisplay(_,D)}})}}}},4996:function(Ce,j,o){"use strict";var p=o(5464),T=o(6968).u,h=o(5376),v=o(2548),d=o(1776).Ks,y=o(1776).Gw,g=o(2880).extendFlat,m=o(8192).c,c=h({editType:"plot",arrayOk:!0,colorEditType:"plot"});Ce.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:v.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:m,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:g({},p.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:d({},{keys:["label","color","value","percent","text"]}),texttemplate:y({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:g({},c,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:g({},c,{}),outsidetextfont:g({},c,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:g({},c,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:T({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:g({},c,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},36:function(Ce,j,o){"use strict";var p=o(7316);j.name="pie",j.plot=function(T,h,v,d){p.plotBasePlot(j.name,T,h,v,d)},j.clean=function(T,h,v,d){p.cleanBasePlot(j.name,T,h,v,d)}},5768:function(Ce,j,o){"use strict";var p=o(8248),T=o(9760),h=o(6308),v={};function y(c){return function(w,S){return!(!w||(w=T(w),!w.isValid()))&&(w=h.addOpacity(w,w.getAlpha()),c[S]||(c[S]=w),w)}}function m(c,C){var w,S=JSON.stringify(c),z=C[S];if(!z){for(z=c.slice(),w=0;w<c.length;w++)z.push(T(c[w]).lighten(20).toHexString());for(w=0;w<c.length;w++)z.push(T(c[w]).darken(20).toHexString());C[S]=z}return z}Ce.exports={calc:function d(c,C){var L,b,w=[],S=c._fullLayout,z=S.hiddenlabels||[],A=C.labels,D=C.marker.colors||[],_=C.values,E=C._length,M=C._hasValues&&E;if(C.dlabel)for(A=new Array(E),L=0;L<E;L++)A[L]=String(C.label0+L*C.dlabel);var P={},I=y(S["_"+C.type+"colormap"]),G=0,$=!1;for(L=0;L<E;L++){var J,re,O;if(M){if(!p(J=_[L]))continue;J=+J}else J=1;(void 0===(re=A[L])||""===re)&&(re=L);var Q=P[re=String(re)];void 0===Q?(P[re]=w.length,(O=-1!==z.indexOf(re))||(G+=J),w.push({v:J,label:re,color:I(D[L],re),i:L,pts:[L],hidden:O})):($=!0,(b=w[Q]).v+=J,b.pts.push(L),b.hidden||(G+=J),!1===b.color&&D[L]&&(b.color=I(D[L],re)))}return w=w.filter(function(ne){return ne.v>=0}),("funnelarea"===C.type?$:C.sort)&&w.sort(function(ne,le){return le.v-ne.v}),w[0]&&(w[0].vTotal=G),w},crossTraceCalc:function g(c,C){var w=(C||{}).type;w||(w="pie");var S=c._fullLayout,z=c.calcdata,A=S[w+"colorway"],D=S["_"+w+"colormap"];S["extend"+w+"colors"]&&(A=m(A,v));for(var _=0,E=0;E<z.length;E++){var M=z[E];if(M[0].trace.type===w)for(var b=0;b<M.length;b++){var P=M[b];!1===P.color&&(D[P.label]?P.color=D[P.label]:(D[P.label]=P.color=A[_%A.length],_++))}}},makePullColorFn:y,generateExtendedColors:m}},4174:function(Ce,j,o){"use strict";var p=o(8248),T=o(3400),h=o(4996),v=o(6968).Q,d=o(1508).handleText,y=o(3400).coercePattern;function g(C,w){var S=T.isArrayOrTypedArray(C),z=T.isArrayOrTypedArray(w),A=Math.min(S?C.length:1/0,z?w.length:1/0);if(isFinite(A)||(A=0),A&&z){for(var D,_=0;_<A;_++){var E=w[_];if(p(E)&&E>0){D=!0;break}}D||(A=0)}return{hasLabels:S,hasValues:z,len:A}}function m(C,w,S,z,A){z("marker.line.width")&&z("marker.line.color",A?void 0:S.paper_bgcolor);var _=z("marker.colors");y(z,"marker.pattern",_),C.marker&&!w.marker.pattern.fgcolor&&(w.marker.pattern.fgcolor=C.marker.colors),w.marker.pattern.bgcolor||(w.marker.pattern.bgcolor=S.paper_bgcolor)}Ce.exports={handleLabelsAndValues:g,handleMarkerDefaults:m,supplyDefaults:function c(C,w,S,z){function A(Q,U){return T.coerce(C,w,h,Q,U)}var E=g(A("labels"),A("values")),M=E.len;if(w._hasLabels=E.hasLabels,w._hasValues=E.hasValues,!w._hasLabels&&w._hasValues&&(A("label0"),A("dlabel")),M){w._length=M,m(C,w,z,A,!0),A("scalegroup");var P,L=A("text"),b=A("texttemplate");if(b||(P=A("textinfo",T.isArrayOrTypedArray(L)?"text+percent":"percent")),A("hovertext"),A("hovertemplate"),b||P&&"none"!==P){var I=A("textposition");d(C,w,z,A,I,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(I)||"auto"===I||"outside"===I)&&A("automargin"),("inside"===I||"auto"===I||Array.isArray(I))&&A("insidetextorientation")}else"none"===P&&A("textposition","none");v(w,z,A);var J=A("hole");if(A("title.text")){var O=A("title.position",J?"middle center":"top center");!J&&"middle center"===O&&(w.title.position="top center"),T.coerceFont(A,"title.font",z.font)}A("sort"),A("direction"),A("rotation"),A("pull")}else w.visible=!1}}},3644:function(Ce,j,o){"use strict";var p=o(624).appendArrayMultiPointValues;Ce.exports=function(h,v){var d={curveNumber:v.index,pointNumbers:h.pts,data:v._input,fullData:v,label:h.label,color:h.color,value:h.v,percent:h.percent,text:h.text,bbox:h.bbox,v:h.v};return 1===h.pts.length&&(d.pointNumber=d.i=h.pts[0]),p(d,v,h.pts),"funnelarea"===v.type&&(delete d.v,delete d.i),d}},1552:function(Ce,j,o){"use strict";var p=o(3616),T=o(6308);Ce.exports=function(v,d,y,g){var m=y.marker.pattern;m&&m.shape?p.pointStyle(v,y,g,d):T.fill(v,d.color)}},9656:function(Ce,j,o){"use strict";var p=o(3400);function T(h){return-1!==h.indexOf("e")?h.replace(/[.]?0+e/,"e"):-1!==h.indexOf(".")?h.replace(/[.]?0+$/,""):h}j.formatPiePercent=function(v,d){var y=T((100*v).toPrecision(3));return p.numSeparate(y,d)+"%"},j.formatPieValue=function(v,d){var y=T(v.toPrecision(10));return p.numSeparate(y,d)},j.getFirstFilled=function(v,d){if(p.isArrayOrTypedArray(v))for(var y=0;y<d.length;y++){var g=v[d[y]];if(g||0===g||""===g)return g}},j.castOption=function(v,d){return p.isArrayOrTypedArray(v)?j.getFirstFilled(v,d):v||void 0},j.getRotationAngle=function(h){return("auto"===h?0:h)*Math.PI/180}},5792:function(Ce,j,o){"use strict";Ce.exports={attributes:o(4996),supplyDefaults:o(4174).supplyDefaults,supplyLayoutDefaults:o(248),layoutAttributes:o(5204),calc:o(5768).calc,crossTraceCalc:o(5768).crossTraceCalc,plot:o(7820).plot,style:o(2152),styleOne:o(528),moduleType:"trace",name:"pie",basePlotModule:o(36),categories:["pie-like","pie","showLegend"],meta:{}}},5204:function(Ce){"use strict";Ce.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},248:function(Ce,j,o){"use strict";var p=o(3400),T=o(5204);Ce.exports=function(v,d){function y(g,m){return p.coerce(v,d,T,g,m)}y("hiddenlabels"),y("piecolorway",d.colorway),y("extendpiecolors")}},7820:function(Ce,j,o){"use strict";var p=o(3428),T=o(7316),h=o(3024),v=o(6308),d=o(3616),y=o(3400),g=y.strScale,m=y.strTranslate,c=o(2736),C=o(2744),w=C.recordMinTextSize,S=C.clearMinTextSize,z=o(8048).TEXTPAD,A=o(9656),D=o(3644),_=o(3400).isValidTextValue;function L(Se,ye,H){var Y=H[0],te=Y.cx,Z=Y.cy,N=Y.trace,ee="funnelarea"===N.type;"_hasHoverLabel"in N||(N._hasHoverLabel=!1),"_hasHoverEvent"in N||(N._hasHoverEvent=!1),Se.on("mouseover",function(B){var se=ye._fullLayout,xe=ye._fullData[N.index];if(!ye._dragging&&!1!==se.hovermode){var Te=xe.hoverinfo;if(Array.isArray(Te)&&(Te=h.castHoverinfo({hoverinfo:[A.castOption(Te,B.pts)],_module:N._module},se,0)),"all"===Te&&(Te="label+text+value+percent+name"),xe.hovertemplate||"none"!==Te&&"skip"!==Te&&Te){var Ee=B.rInscribed||0,Oe=te+B.pxmid[0]*(1-Ee),$e=Z+B.pxmid[1]*(1-Ee),ct=se.separators,ft=[];if(Te&&-1!==Te.indexOf("label")&&ft.push(B.label),B.text=A.castOption(xe.hovertext||xe.text,B.pts),Te&&-1!==Te.indexOf("text")){var gt=B.text;y.isValidTextValue(gt)&&ft.push(gt)}B.value=B.v,B.valueLabel=A.formatPieValue(B.v,ct),Te&&-1!==Te.indexOf("value")&&ft.push(B.valueLabel),B.percent=B.v/Y.vTotal,B.percentLabel=A.formatPiePercent(B.percent,ct),Te&&-1!==Te.indexOf("percent")&&ft.push(B.percentLabel);var ze=xe.hoverlabel,Ve=ze.font,Pe=[];h.loneHover({trace:N,x0:Oe-Ee*Y.r,x1:Oe+Ee*Y.r,y:$e,_x0:ee?te+B.TL[0]:Oe-Ee*Y.r,_x1:ee?te+B.TR[0]:Oe+Ee*Y.r,_y0:ee?Z+B.TL[1]:$e-Ee*Y.r,_y1:ee?Z+B.BL[1]:$e+Ee*Y.r,text:ft.join("<br>"),name:xe.hovertemplate||-1!==Te.indexOf("name")?xe.name:void 0,idealAlign:B.pxmid[0]<0?"left":"right",color:A.castOption(ze.bgcolor,B.pts)||B.color,borderColor:A.castOption(ze.bordercolor,B.pts),fontFamily:A.castOption(Ve.family,B.pts),fontSize:A.castOption(Ve.size,B.pts),fontColor:A.castOption(Ve.color,B.pts),nameLength:A.castOption(ze.namelength,B.pts),textAlign:A.castOption(ze.align,B.pts),hovertemplate:A.castOption(xe.hovertemplate,B.pts),hovertemplateLabels:B,eventData:[D(B,xe)]},{container:se._hoverlayer.node(),outerContainer:se._paper.node(),gd:ye,inOut_bbox:Pe}),B.bbox=Pe[0],N._hasHoverLabel=!0}N._hasHoverEvent=!0,ye.emit("plotly_hover",{points:[D(B,xe)],event:p.event})}}),Se.on("mouseout",function(B){var se=ye._fullLayout,xe=ye._fullData[N.index],Te=p.select(this).datum();N._hasHoverEvent&&(B.originalEvent=p.event,ye.emit("plotly_unhover",{points:[D(Te,xe)],event:p.event}),N._hasHoverEvent=!1),N._hasHoverLabel&&(h.loneUnhover(se._hoverlayer.node()),N._hasHoverLabel=!1)}),Se.on("click",function(B){ye._dragging||!1===ye._fullLayout.hovermode||(ye._hoverdata=[D(B,ye._fullData[N.index])],h.click(ye,p.event))})}function P(Se,ye,H){var Y=A.castOption(Se.insidetextfont.color,ye.pts);!Y&&Se._input.textfont&&(Y=A.castOption(Se._input.textfont.color,ye.pts));var te=A.castOption(Se.insidetextfont.family,ye.pts)||A.castOption(Se.textfont.family,ye.pts)||H.family,Z=A.castOption(Se.insidetextfont.size,ye.pts)||A.castOption(Se.textfont.size,ye.pts)||H.size,N=A.castOption(Se.insidetextfont.weight,ye.pts)||A.castOption(Se.textfont.weight,ye.pts)||H.weight,ee=A.castOption(Se.insidetextfont.style,ye.pts)||A.castOption(Se.textfont.style,ye.pts)||H.style,B=A.castOption(Se.insidetextfont.variant,ye.pts)||A.castOption(Se.textfont.variant,ye.pts)||H.variant,se=A.castOption(Se.insidetextfont.textcase,ye.pts)||A.castOption(Se.textfont.textcase,ye.pts)||H.textcase,xe=A.castOption(Se.insidetextfont.lineposition,ye.pts)||A.castOption(Se.textfont.lineposition,ye.pts)||H.lineposition,Te=A.castOption(Se.insidetextfont.shadow,ye.pts)||A.castOption(Se.textfont.shadow,ye.pts)||H.shadow;return{color:Y||v.contrast(ye.color),family:te,size:Z,weight:N,style:ee,variant:B,textcase:se,lineposition:xe,shadow:Te}}function I(Se,ye){for(var H,Y,te=0;te<Se.length;te++)if((Y=(H=Se[te][0]).trace).title.text){var Z=Y.title.text;Y._meta&&(Z=y.templateString(Z,Y._meta));var N=d.tester.append("text").attr("data-notex",1).text(Z).call(d.font,Y.title.font).call(c.convertToTspans,ye),ee=d.bBox(N.node(),!0);H.titleBox={width:ee.width,height:ee.height},N.remove()}}function G(Se,ye,H){var Y=H.r||ye.rpx1,te=ye.rInscribed;if(ye.startangle===ye.stopangle)return{rCenter:1-te,scale:0,rotate:0,textPosAngle:0};var ft,N=ye.ring,ee=1===N&&Math.abs(ye.startangle-ye.stopangle)===2*Math.PI,B=ye.halfangle,se=ye.midangle,xe=H.trace.insidetextorientation,Te="horizontal"===xe,Ee="tangential"===xe,Oe="radial"===xe,$e="auto"===xe,ct=[];if(!$e){var ze,gt=function(Dt,$t){if(function $(Se,ye){var H=Se.startangle,Y=Se.stopangle;return H>ye&&ye>Y||H<ye&&ye<Y}(ye,Dt)){var Ot=Math.abs(Dt-ye.startangle),kt=Math.abs(Dt-ye.stopangle),At=Ot<kt?Ot:kt;(ft="tan"===$t?re(Se,Y,N,At,0):J(Se,Y,N,At,Math.PI/2)).textPosAngle=Dt,ct.push(ft)}};if(Te||Ee){for(ze=4;ze>=-4;ze-=2)gt(Math.PI*ze,"tan");for(ze=4;ze>=-4;ze-=2)gt(Math.PI*(ze+1),"tan")}if(Te||Oe){for(ze=4;ze>=-4;ze-=2)gt(Math.PI*(ze+1.5),"rad");for(ze=4;ze>=-4;ze-=2)gt(Math.PI*(ze+.5),"rad")}}if(ee||$e||Te){var Ve=Math.sqrt(Se.width*Se.width+Se.height*Se.height);if((ft={scale:te*Y*2/Ve,rCenter:1-te,rotate:0}).textPosAngle=(ye.startangle+ye.stopangle)/2,ft.scale>=1)return ft;ct.push(ft)}($e||Oe)&&((ft=J(Se,Y,N,B,se)).textPosAngle=(ye.startangle+ye.stopangle)/2,ct.push(ft)),($e||Ee)&&((ft=re(Se,Y,N,B,se)).textPosAngle=(ye.startangle+ye.stopangle)/2,ct.push(ft));for(var Pe=0,Qe=0,Ke=0;Ke<ct.length;Ke++){var dt=ct[Ke].scale;if(Qe<dt&&(Qe=dt,Pe=Ke),!$e&&Qe>=1)break}return ct[Pe]}function J(Se,ye,H,Y,te){ye=Math.max(0,ye-2*z);var Z=Se.width/Se.height,N=U(Z,Y,ye,H);return{scale:2*N/Se.height,rCenter:O(Z,N/ye),rotate:Q(te)}}function re(Se,ye,H,Y,te){ye=Math.max(0,ye-2*z);var Z=Se.height/Se.width,N=U(Z,Y,ye,H);return{scale:2*N/Se.width,rCenter:O(Z,N/ye),rotate:Q(te+Math.PI/2)}}function O(Se,ye){return Math.cos(ye)-Se*ye}function Q(Se){return(180/Math.PI*Se+720)%180-90}function U(Se,ye,H,Y){var te=Se+1/(2*Math.tan(ye));return H*Math.min(1/(Math.sqrt(te*te+.5)+te),Y/(Math.sqrt(Se*Se+Y/2)+Se))}function ne(Se,ye){return Se.v!==ye.vTotal||ye.trace.hole?Math.min(1/(1+1/Math.sin(Se.halfangle)),Se.ring/2):1}function le(Se,ye){var H=ye.pxmid[0],Y=ye.pxmid[1],te=Se.width/2,Z=Se.height/2;return H<0&&(te*=-1),Y<0&&(Z*=-1),{scale:1,rCenter:1,rotate:0,x:te+Math.abs(Z)*(te>0?1:-1)/2,y:Z/(1+H*H/(Y*Y)),outside:!0}}function W(Se,ye){var te,H,Y,Z=Se.trace,N={x:Se.cx,y:Se.cy},ee={tx:0,ty:0};ee.ty+=Z.title.font.size,te=ie(Z),-1!==Z.title.position.indexOf("top")?(N.y-=(1+te)*Se.r,ee.ty-=Se.titleBox.height):-1!==Z.title.position.indexOf("bottom")&&(N.y+=(1+te)*Se.r);var B=function K(Se,ye){return Se/(void 0===ye?1:ye)}(Se.r,Se.trace.aspectratio),se=ye.w*(Z.domain.x[1]-Z.domain.x[0])/2;return-1!==Z.title.position.indexOf("left")?(se+=B,N.x-=(1+te)*B,ee.tx+=Se.titleBox.width/2):-1!==Z.title.position.indexOf("center")?se*=2:-1!==Z.title.position.indexOf("right")&&(se+=B,N.x+=(1+te)*B,ee.tx-=Se.titleBox.width/2),H=se/Se.titleBox.width,Y=X(Se,ye)/Se.titleBox.height,{x:N.x,y:N.y,scale:Math.min(H,Y),tx:ee.tx,ty:ee.ty}}function X(Se,ye){var H=Se.trace;return Math.min(Se.titleBox.height,ye.h*(H.domain.y[1]-H.domain.y[0])/2)}function ie(Se){var H,ye=Se.pull;if(!ye)return 0;if(y.isArrayOrTypedArray(ye))for(ye=0,H=0;H<Se.pull.length;H++)Se.pull[H]>ye&&(ye=Se.pull[H]);return ye}function ce(Se,ye){for(var H=[],Y=0;Y<Se.length;Y++){var te=Se[Y][0],Z=te.trace,N=Z.domain,ee=ye.w*(N.x[1]-N.x[0]),B=ye.h*(N.y[1]-N.y[0]);Z.title.text&&"middle center"!==Z.title.position&&(B-=X(te,ye));var xe=B/2;"funnelarea"===Z.type&&!Z.scalegroup&&(xe/=Z.aspectratio),te.r=Math.min(ee/2,xe)/(1+ie(Z)),te.cx=ye.l+ye.w*(Z.domain.x[1]+Z.domain.x[0])/2,te.cy=ye.t+ye.h*(1-Z.domain.y[0])-B/2,Z.title.text&&-1!==Z.title.position.indexOf("bottom")&&(te.cy-=X(te,ye)),Z.scalegroup&&-1===H.indexOf(Z.scalegroup)&&H.push(Z.scalegroup)}!function ge(Se,ye){for(var H,Y,te,Z=0;Z<ye.length;Z++){var N=1/0,ee=ye[Z];for(Y=0;Y<Se.length;Y++)if((te=(H=Se[Y][0]).trace).scalegroup===ee){var B;if("pie"===te.type)B=H.r*H.r;else if("funnelarea"===te.type){var se,xe;te.aspectratio>1?xe=(se=H.r)/te.aspectratio:se=(xe=H.r)*te.aspectratio,B=(se*=(1+te.baseratio)/2)*xe}N=Math.min(N,B/H.vTotal)}for(Y=0;Y<Se.length;Y++)if((te=(H=Se[Y][0]).trace).scalegroup===ee){var Te=N*H.vTotal;"funnelarea"===te.type&&(Te/=(1+te.baseratio)/2,Te/=te.aspectratio),H.r=Math.sqrt(Te)}}}(Se,H)}function Ne(Se,ye){return[Se*Math.sin(ye),-Se*Math.cos(ye)]}function Be(Se,ye,H){var Y=Se._fullLayout,te=H.trace,Z=te.texttemplate,N=te.textinfo;if(!Z&&N&&"none"!==N){var $e,ee=N.split("+"),B=function(Pe){return-1!==ee.indexOf(Pe)},se=B("label"),xe=B("text"),Te=B("value"),Ee=B("percent"),Oe=Y.separators;if($e=se?[ye.label]:[],xe){var ct=A.getFirstFilled(te.text,ye.pts);_(ct)&&$e.push(ct)}Te&&$e.push(A.formatPieValue(ye.v,Oe)),Ee&&$e.push(A.formatPiePercent(ye.v/H.vTotal,Oe)),ye.text=$e.join("<br>")}if(Z){var gt=y.castOption(te,ye.i,"texttemplate");if(gt){var ze=function ft(Pe){return{label:Pe.label,value:Pe.v,valueLabel:A.formatPieValue(Pe.v,Y.separators),percent:Pe.v/H.vTotal,percentLabel:A.formatPiePercent(Pe.v/H.vTotal,Y.separators),color:Pe.color,text:Pe.text,customdata:y.castOption(te,Pe.i,"customdata")}}(ye),Ve=A.getFirstFilled(te.text,ye.pts);(_(Ve)||""===Ve)&&(ze.text=Ve),ye.text=y.texttemplateString(gt,ze,Se._fullLayout._d3locale,ze,te._meta||{})}else ye.text=""}}function Fe(Se,ye){var H=Se.rotate*Math.PI/180,Y=Math.cos(H),te=Math.sin(H),Z=(ye.left+ye.right)/2,N=(ye.top+ye.bottom)/2;Se.textX=Z*Y-N*te,Se.textY=Z*te+N*Y,Se.noCenter=!0}Ce.exports={plot:function E(Se,ye){var H=Se._context.staticPlot,Y=Se._fullLayout,te=Y._size;S("pie",Y),I(ye,Se),ce(ye,te);var Z=y.makeTraceGroups(Y._pielayer,ye,"trace").each(function(N){var ee=p.select(this),B=N[0],se=B.trace;(function De(Se){var B,se,xe,ye=Se[0],H=ye.r,Y=ye.trace,te=A.getRotationAngle(Y.rotation),Z=2*Math.PI/ye.vTotal,N="px0",ee="px1";if("counterclockwise"===Y.direction){for(B=0;B<Se.length&&Se[B].hidden;B++);if(B===Se.length)return;te+=Z*Se[B].v,Z*=-1,N="px1",ee="px0"}for(xe=Ne(H,te),B=0;B<Se.length;B++)!(se=Se[B]).hidden&&(se[N]=xe,se.startangle=te,se.pxmid=Ne(H,te+=Z*se.v/2),se.midangle=te,xe=Ne(H,te+=Z*se.v/2),se.stopangle=te,se[ee]=xe,se.largeArc=se.v>ye.vTotal/2?1:0,se.halfangle=Math.PI*Math.min(se.v/ye.vTotal,.5),se.ring=1-Y.hole,se.rInscribed=ne(se,ye))})(N),ee.attr("stroke-linejoin","round"),ee.each(function(){var xe=p.select(this).selectAll("g.slice").data(N);xe.enter().append("g").classed("slice",!0),xe.exit().remove();var Te=[[[],[]],[[],[]]],Ee=!1;xe.each(function(Pe,Qe){if(Pe.hidden)p.select(this).selectAll("path,g").remove();else{Pe.pointNumber=Pe.i,Pe.curveNumber=se.index,Te[Pe.pxmid[1]<0?0:1][Pe.pxmid[0]<0?0:1].push(Pe);var Ke=B.cx,dt=B.cy,Dt=p.select(this),$t=Dt.selectAll("path.surface").data([Pe]);if($t.enter().append("path").classed("surface",!0).style({"pointer-events":H?"none":"all"}),Dt.call(L,Se,N),se.pull){var Ot=+A.castOption(se.pull,Pe.pts)||0;Ot>0&&(Ke+=Ot*Pe.pxmid[0],dt+=Ot*Pe.pxmid[1])}Pe.cxFinal=Ke,Pe.cyFinal=dt;var At=se.hole;if(Pe.v===B.vTotal){var Gt="M"+(Ke+Pe.px0[0])+","+(dt+Pe.px0[1])+kt(Pe.px0,Pe.pxmid,!0,1)+kt(Pe.pxmid,Pe.px0,!0,1)+"Z";$t.attr("d",At?"M"+(Ke+At*Pe.px0[0])+","+(dt+At*Pe.px0[1])+kt(Pe.px0,Pe.pxmid,!1,At)+kt(Pe.pxmid,Pe.px0,!1,At)+"Z"+Gt:Gt)}else{var Lt=kt(Pe.px0,Pe.px1,!0,1);if(At){var Qt=1-At;$t.attr("d","M"+(Ke+At*Pe.px1[0])+","+(dt+At*Pe.px1[1])+kt(Pe.px1,Pe.px0,!1,At)+"l"+Qt*Pe.px0[0]+","+Qt*Pe.px0[1]+Lt+"Z")}else $t.attr("d","M"+Ke+","+dt+"l"+Pe.px0[0]+","+Pe.px0[1]+Lt+"Z")}Be(Se,Pe,B);var Jt=A.castOption(se.textposition,Pe.pts),en=Dt.selectAll("g.slicetext").data(Pe.text&&"none"!==Jt?[0]:[]);en.enter().append("g").classed("slicetext",!0),en.exit().remove(),en.each(function(){var sn=y.ensureSingle(p.select(this),"text","",function(He){He.attr("data-notex",1)}),pt=y.ensureUniformFontSize(Se,"outside"===Jt?function b(Se,ye,H){return{color:A.castOption(Se.outsidetextfont.color,ye.pts)||A.castOption(Se.textfont.color,ye.pts)||H.color,family:A.castOption(Se.outsidetextfont.family,ye.pts)||A.castOption(Se.textfont.family,ye.pts)||H.family,size:A.castOption(Se.outsidetextfont.size,ye.pts)||A.castOption(Se.textfont.size,ye.pts)||H.size,weight:A.castOption(Se.outsidetextfont.weight,ye.pts)||A.castOption(Se.textfont.weight,ye.pts)||H.weight,style:A.castOption(Se.outsidetextfont.style,ye.pts)||A.castOption(Se.textfont.style,ye.pts)||H.style,variant:A.castOption(Se.outsidetextfont.variant,ye.pts)||A.castOption(Se.textfont.variant,ye.pts)||H.variant,textcase:A.castOption(Se.outsidetextfont.textcase,ye.pts)||A.castOption(Se.textfont.textcase,ye.pts)||H.textcase,lineposition:A.castOption(Se.outsidetextfont.lineposition,ye.pts)||A.castOption(Se.textfont.lineposition,ye.pts)||H.lineposition,shadow:A.castOption(Se.outsidetextfont.shadow,ye.pts)||A.castOption(Se.textfont.shadow,ye.pts)||H.shadow}}(se,Pe,Y.font):P(se,Pe,Y.font));sn.text(Pe.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(d.font,pt).call(c.convertToTspans,Se);var yt,xt=d.bBox(sn.node());if("outside"===Jt)yt=le(xt,Pe);else if(yt=G(xt,Pe,B),"auto"===Jt&&yt.scale<1){var ke=y.ensureUniformFontSize(Se,se.outsidetextfont);sn.call(d.font,ke),yt=le(xt=d.bBox(sn.node()),Pe)}var Xe=yt.textPosAngle,Me=void 0===Xe?Pe.pxmid:Ne(B.r,Xe);if(yt.targetX=Ke+Me[0]*yt.rCenter+(yt.x||0),yt.targetY=dt+Me[1]*yt.rCenter+(yt.y||0),Fe(yt,xt),yt.outside){var _e=yt.targetY;Pe.yLabelMin=_e-xt.height/2,Pe.yLabelMid=_e,Pe.yLabelMax=_e+xt.height/2,Pe.labelExtraX=0,Pe.labelExtraY=0,Ee=!0}yt.fontSize=pt.size,w(se.type,yt,Y),N[Qe].transform=yt,y.setTransormAndDisplay(sn,yt)})}function kt(sn,pt,xt,yt){return"a"+yt*B.r+","+yt*B.r+" 0 "+Pe.largeArc+(xt?" 1 ":" 0 ")+yt*(pt[0]-sn[0])+","+yt*(pt[1]-sn[1])}});var Oe=p.select(this).selectAll("g.titletext").data(se.title.text?[0]:[]);if(Oe.enter().append("g").classed("titletext",!0),Oe.exit().remove(),Oe.each(function(){var Ke,Pe=y.ensureSingle(p.select(this),"text","",function(dt){dt.attr("data-notex",1)}),Qe=se.title.text;se._meta&&(Qe=y.templateString(Qe,se._meta)),Pe.text(Qe).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(d.font,se.title.font).call(c.convertToTspans,Se),Ke="middle center"===se.title.position?function pe(Se){var ye=Math.sqrt(Se.titleBox.width*Se.titleBox.width+Se.titleBox.height*Se.titleBox.height);return{x:Se.cx,y:Se.cy,scale:Se.trace.hole*Se.r*2/ye,tx:0,ty:-Se.titleBox.height/2+Se.trace.title.font.size}}(B):W(B,te),Pe.attr("transform",m(Ke.x,Ke.y)+g(Math.min(1,Ke.scale))+m(Ke.tx,Ke.ty))}),Ee&&function ue(Se,ye){var H,Y,te,Z,N,ee,B,se,xe,Te,Ee,Oe,$e;function ct(Ve,Pe){return Ve.pxmid[1]-Pe.pxmid[1]}function ft(Ve,Pe){return Pe.pxmid[1]-Ve.pxmid[1]}function gt(Ve,Pe){Pe||(Pe={});var Ot,kt,At,Qt,Qe=Pe.labelExtraY+(Y?Pe.yLabelMax:Pe.yLabelMin),Ke=Y?Ve.yLabelMin:Ve.yLabelMax,dt=Y?Ve.yLabelMax:Ve.yLabelMin,Dt=Ve.cyFinal+N(Ve.px0[1],Ve.px1[1]),$t=Qe-Ke;if($t*B>0&&(Ve.labelExtraY=$t),y.isArrayOrTypedArray(ye.pull))for(kt=0;kt<Te.length;kt++)!((At=Te[kt])===Ve||(A.castOption(ye.pull,Ve.pts)||0)>=(A.castOption(ye.pull,At.pts)||0))&&((Ve.pxmid[1]-At.pxmid[1])*B>0?($t=At.cyFinal+N(At.px0[1],At.px1[1])-Ke-Ve.labelExtraY)*B>0&&(Ve.labelExtraY+=$t):(dt+Ve.labelExtraY-Dt)*B>0&&(Ot=3*ee*Math.abs(kt-Te.indexOf(Ve)),(Qt=At.cxFinal+Z(At.px0[0],At.px1[0])+Ot-(Ve.cxFinal+Ve.pxmid[0])-Ve.labelExtraX)*ee>0&&(Ve.labelExtraX+=Qt)))}for(Y=0;Y<2;Y++)for(te=Y?ct:ft,N=Y?Math.max:Math.min,B=Y?1:-1,H=0;H<2;H++){for(Z=H?Math.max:Math.min,ee=H?1:-1,(se=Se[Y][H]).sort(te),Te=(xe=Se[1-Y][H]).concat(se),Oe=[],Ee=0;Ee<se.length;Ee++)void 0!==se[Ee].yLabelMid&&Oe.push(se[Ee]);for($e=!1,Ee=0;Y&&Ee<xe.length;Ee++)if(void 0!==xe[Ee].yLabelMid){$e=xe[Ee];break}for(Ee=0;Ee<Oe.length;Ee++){var ze=Ee&&Oe[Ee-1];$e&&!Ee&&(ze=$e),gt(Oe[Ee],ze)}}}(Te,se),function M(Se,ye){Se.each(function(H){var Y=p.select(this);if(H.labelExtraX||H.labelExtraY){var te=Y.select("g.slicetext text");H.transform.targetX+=H.labelExtraX,H.transform.targetY+=H.labelExtraY,y.setTransormAndDisplay(te,H.transform);var Z=H.cxFinal+H.pxmid[0],ee="M"+Z+","+(H.cyFinal+H.pxmid[1]),B=(H.yLabelMax-H.yLabelMin)*(H.pxmid[0]<0?-1:1)/4;if(H.labelExtraX){var se=H.labelExtraX*H.pxmid[1]/H.pxmid[0],xe=H.yLabelMid+H.labelExtraY-(H.cyFinal+H.pxmid[1]);Math.abs(se)>Math.abs(xe)?ee+="l"+xe*H.pxmid[0]/H.pxmid[1]+","+xe+"H"+(Z+H.labelExtraX+B):ee+="l"+H.labelExtraX+","+se+"v"+(xe-se)+"h"+B}else ee+="V"+(H.yLabelMid+H.labelExtraY)+"h"+B;y.ensureSingle(Y,"path","textline").call(v.stroke,ye.outsidetextfont.color).attr({"stroke-width":Math.min(2,ye.outsidetextfont.size/8),d:ee,fill:"none"})}else Y.select("path.textline").remove()})}(xe,se),Ee&&se.automargin){var $e=d.bBox(ee.node()),ct=se.domain,ze=(te.w*(ct.x[1]-ct.x[0])*.5-B.r)/te.w,Ve=(te.h*(ct.y[1]-ct.y[0])*.5-B.r)/te.h;T.autoMargin(Se,"pie."+se.uid+".automargin",{xl:ct.x[0]-ze,xr:ct.x[1]+ze,yb:ct.y[0]-Ve,yt:ct.y[1]+Ve,l:Math.max(B.cx-B.r-$e.left,0),r:Math.max($e.right-(B.cx+B.r),0),b:Math.max($e.bottom-(B.cy+B.r),0),t:Math.max(B.cy-B.r-$e.top,0),pad:5})}})});setTimeout(function(){Z.selectAll("tspan").each(function(){var N=p.select(this);N.attr("dy")&&N.attr("dy",N.attr("dy"))})},0)},formatSliceLabel:Be,transformInsideText:G,determineInsideTextFont:P,positionTitleOutside:W,prerenderTitles:I,layoutAreas:ce,attachFxHandlers:L,computeTransform:Fe}},2152:function(Ce,j,o){"use strict";var p=o(3428),T=o(528),h=o(2744).resizeText;Ce.exports=function(d){var y=d._fullLayout._pielayer.selectAll(".trace");h(d,y,"pie"),y.each(function(g){var c=g[0].trace,C=p.select(this);C.style({opacity:c.opacity}),C.selectAll("path.surface").each(function(w){p.select(this).call(T,w,c,d)})})}},528:function(Ce,j,o){"use strict";var p=o(6308),T=o(9656).castOption,h=o(1552);Ce.exports=function(d,y,g,m){var c=g.marker.line,C=T(c.color,y.pts)||p.defaultLine,w=T(c.width,y.pts)||0;d.call(h,y,g,m).style("stroke-width",w).call(p.stroke,C)}},148:function(Ce,j,o){"use strict";var p=o(3400);Ce.exports=function(h,v){for(var d=0;d<h.length;d++)h[d].i=d;p.mergeArray(v.text,h,"tx"),p.mergeArray(v.texttemplate,h,"txt"),p.mergeArray(v.hovertext,h,"htx"),p.mergeArray(v.customdata,h,"data"),p.mergeArray(v.textposition,h,"tp"),v.textfont&&(p.mergeArrayCastPositive(v.textfont.size,h,"ts"),p.mergeArray(v.textfont.color,h,"tc"),p.mergeArray(v.textfont.family,h,"tf"),p.mergeArray(v.textfont.weight,h,"tw"),p.mergeArray(v.textfont.style,h,"ty"),p.mergeArray(v.textfont.variant,h,"tv"),p.mergeArray(v.textfont.textcase,h,"tC"),p.mergeArray(v.textfont.lineposition,h,"tE"),p.mergeArray(v.textfont.shadow,h,"tS"));var y=v.marker;if(y){p.mergeArrayCastPositive(y.size,h,"ms"),p.mergeArrayCastPositive(y.opacity,h,"mo"),p.mergeArray(y.symbol,h,"mx"),p.mergeArray(y.angle,h,"ma"),p.mergeArray(y.standoff,h,"mf"),p.mergeArray(y.color,h,"mc");var g=y.line;y.line&&(p.mergeArray(g.color,h,"mlc"),p.mergeArrayCastPositive(g.width,h,"mlw"));var m=y.gradient;m&&"none"!==m.type&&(p.mergeArray(m.type,h,"mgt"),p.mergeArray(m.color,h,"mgc"))}}},2904:function(Ce,j,o){"use strict";var p=o(9736).axisHoverFormat,T=o(1776).Gw,h=o(1776).Ks,v=o(9084),d=o(5376),y=o(8192).u,g=o(8192).c,m=o(3616),c=o(8200),C=o(2880).extendFlat,w=o(3544);Ce.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:p("x"),yhoverformat:p("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:T({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:h({},{keys:c.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:C({},y,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:w(!0),fillgradient:C({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:g,marker:C({symbol:{valType:"enumerated",values:m.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:C({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},v("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},v("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:d({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}},6356:function(Ce,j,o){"use strict";var p=o(8248),T=o(3400),h=o(4460),v=o(1220),d=o(9032).BADNUM,y=o(3028),g=o(136),m=o(148),c=o(4500);function w(_,E,M,L,b,P,I){var G=E._length,$=_._fullLayout,J=M._id,re=L._id,O=$._firstScatter[A(E)]===E.uid,Q=(D(E,$,M,L)||{}).orientation,U=E.fill;M._minDtick=0,L._minDtick=0;var ne={padded:!0},le={padded:!0};I&&(ne.ppad=le.ppad=I);var pe=G<2||b[0]!==b[G-1]||P[0]!==P[G-1];pe&&("tozerox"===U||"tonextx"===U&&(O||"h"===Q))?ne.tozero=!0:!(E.error_y||{}).visible&&("tonexty"===U||"tozeroy"===U||!y.hasMarkers(E)&&!y.hasText(E))&&(ne.padded=!1,ne.ppad=0),pe&&("tozeroy"===U||"tonexty"===U&&(O||"v"===Q))?le.tozero=!0:("tonextx"===U||"tozerox"===U)&&(le.padded=!1),J&&(E._extremes[J]=h.findExtremes(M,b,ne)),re&&(E._extremes[re]=h.findExtremes(L,P,le))}function S(_,E){if(y.hasMarkers(_)){var b,M=_.marker,L=1.6*(_.marker.sizeref||1);if(b="area"===_.marker.sizemode?function(J){return Math.max(Math.sqrt((J||0)/L),3)}:function(J){return Math.max((J||0)/L,3)},T.isArrayOrTypedArray(M.size)){var P={type:"linear"};h.setConvert(P);for(var I=P.makeCalcdata(_.marker,"size"),G=new Array(E),$=0;$<E;$++)G[$]=b(I[$]);return G}return b(M.size)}}function z(_,E){var M=A(E),L=_._firstScatter;L[M]||(L[M]=E.uid)}function A(_){var E=_.stackgroup;return _.xaxis+_.yaxis+_.type+(E?"-"+E:"")}function D(_,E,M,L){var b=_.stackgroup;if(b){var P=E._scatterStackOpts[M._id+L._id][b],I="v"===P.orientation?L:M;if("linear"===I.type||"log"===I.type)return P}}Ce.exports={calc:function C(_,E){var pe,W,K,X,ie,ue,M=_._fullLayout,L=E._xA=h.getFromId(_,E.xaxis||"x","x"),b=E._yA=h.getFromId(_,E.yaxis||"y","y"),P=L.makeCalcdata(E,"x"),I=b.makeCalcdata(E,"y"),G=v(E,L,"x",P),$=v(E,b,"y",I),J=G.vals,re=$.vals,O=E._length,Q=new Array(O),U=E.ids,ne=D(E,M,L,b),le=!1;z(M,E);var De,ce="x",ge="y";ne?(T.pushUnique(ne.traceIndices,E._expandedIndex),(pe="v"===ne.orientation)?(ge="s",De="x"):(ce="s",De="y"),ie="interpolate"===ne.stackgaps):w(_,E,L,b,J,re,S(E,O));var Be=!!E.xperiodalignment,Fe=!!E.yperiodalignment;for(W=0;W<O;W++){var Se=Q[W]={},ye=p(J[W]),H=p(re[W]);ye&&H?(Se[ce]=J[W],Se[ge]=re[W],Be&&(Se.orig_x=P[W],Se.xEnd=G.ends[W],Se.xStart=G.starts[W]),Fe&&(Se.orig_y=I[W],Se.yEnd=$.ends[W],Se.yStart=$.starts[W])):ne&&(pe?ye:H)?(Se[De]=pe?J[W]:re[W],Se.gap=!0,ie?(Se.s=d,le=!0):Se.s=0):Se[ce]=Se[ge]=d,U&&(Se.id=String(U[W]))}if(m(Q,E),g(_,E),c(Q,E),ne){for(W=0;W<Q.length;)Q[W][De]===d?Q.splice(W,1):W++;if(T.sort(Q,function(N,ee){return N[De]-ee[De]||N.i-ee.i}),le){for(W=0;W<Q.length-1&&Q[W].gap;)W++;for((ue=Q[W].s)||(ue=Q[W].s=0),K=0;K<W;K++)Q[K].s=ue;for(X=Q.length-1;X>W&&Q[X].gap;)X--;for(ue=Q[X].s,K=Q.length-1;K>X;K--)Q[K].s=ue;for(;W<X;)if(Q[++W].gap){for(K=W+1;Q[K].gap;)K++;for(var Y=Q[W-1][De],te=Q[W-1].s,Z=(Q[K].s-te)/(Q[K][De]-Y);W<K;)Q[W].s=te+(Q[W][De]-Y)*Z,W++}}}return Q},calcMarkerSize:S,calcAxisExpansion:w,setFirstScatter:z,getStackOpts:D}},4500:function(Ce,j,o){"use strict";var p=o(3400);Ce.exports=function(h,v){p.isArrayOrTypedArray(v.selectedpoints)&&p.tagSelected(h,v)}},136:function(Ce,j,o){"use strict";var p=o(4288).hasColorscale,T=o(7128),h=o(3028);Ce.exports=function(d,y){h.hasLines(y)&&p(y,"line")&&T(d,y,{vals:y.line.color,containerStr:"line",cLetter:"c"}),h.hasMarkers(y)&&(p(y,"marker")&&T(d,y,{vals:y.marker.color,containerStr:"marker",cLetter:"c"}),p(y,"marker.line")&&T(d,y,{vals:y.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},8200:function(Ce){"use strict";Ce.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},6664:function(Ce,j,o){"use strict";var p=o(6356),T=o(6376).setGroupPositions;function v(y,g,m,c,C,w,S){C[c]=!0;var z={i:null,gap:!0,s:0};if(z[S]=m,y.splice(g,0,z),g&&m===y[g-1][S]){var A=y[g-1];z.s=A.s,z.i=A.i,z.gap=A.gap}else w&&(z.s=function d(y,g,m,c){var C=y[g-1],w=y[g+1];return w?C?C.s+(w.s-C.s)*(m-C[c])/(w[c]-C[c]):w.s:C.s}(y,g,m,S));g||(y[0].t=y[1].t,y[0].trace=y[1].trace,delete y[1].t,delete y[1].trace)}Ce.exports=function(g,m){"group"===g._fullLayout.scattermode&&function h(y,g){for(var m=g.xaxis,c=g.yaxis,C=y._fullLayout,w=y._fullData,S=y.calcdata,z=[],A=[],D=0;D<w.length;D++){var _=w[D];!0===_.visible&&"scatter"===_.type&&_.xaxis===m._id&&_.yaxis===c._id&&("h"===_.orientation?z.push(S[D]):"v"===_.orientation&&A.push(S[D]))}var E={mode:C.scattermode,gap:C.scattergap};T(y,m,c,A,E),T(y,c,m,z,E)}(g,m);var c=m.xaxis,C=m.yaxis,S=g._fullLayout._scatterStackOpts[c._id+C._id];if(S){var A,D,_,E,M,L,b,P,I,G,$,J,re,O,Q,z=g.calcdata;for(var U in S){var ne=(G=S[U]).traceIndices;if(ne.length){for($="interpolate"===G.stackgaps,J=G.groupnorm,"v"===G.orientation?(re="x",O="y"):(re="y",O="x"),Q=new Array(ne.length),A=0;A<Q.length;A++)Q[A]=!1;L=z[ne[0]];var le=new Array(L.length);for(A=0;A<L.length;A++)le[A]=L[A][re];for(A=1;A<ne.length;A++){for(M=z[ne[A]],D=_=0;D<M.length;D++){for(b=M[D][re];b>le[_]&&_<le.length;_++)v(M,D,le[_],A,Q,$,re),D++;if(b!==le[_]){for(E=0;E<A;E++)v(z[ne[E]],_,b,E,Q,$,re);le.splice(_,0,b)}_++}for(;_<le.length;_++)v(M,D,le[_],A,Q,$,re),D++}var pe=le.length;for(D=0;D<L.length;D++){for(P=L[D][O]=L[D].s,A=1;A<ne.length;A++)(M=z[ne[A]])[0].trace._rawLength=M[0].trace._length,M[0].trace._length=pe,M[D][O]=P+=M[D].s;if(J)for(I=("fraction"===J?P:P/100)||1,A=0;A<ne.length;A++){var W=z[ne[A]][D];W[O]/=I,W.sNorm=W.s/I}}for(A=0;A<ne.length;A++){var K=(M=z[ne[A]])[0].trace,X=p.calcMarkerSize(K,K._rawLength),ie=Array.isArray(X);if(X&&Q[A]||ie){var ue=X;for(X=new Array(pe),D=0;D<pe;D++)X[D]=M[D].gap?0:ie?ue[M[D].i]:ue}var ce=new Array(pe),ge=new Array(pe);for(D=0;D<pe;D++)ce[D]=M[D].x,ge[D]=M[D].y;p.calcAxisExpansion(g,K,c,C,ce,ge,X),M[0].t.orientation=G.orientation}}}}}},5036:function(Ce,j,o){"use strict";var p=o(3400),T=o(11),h=o(2904);Ce.exports=function(d,y){var m,c;function C(D){return p.coerce(m._input,m,h,D)}if("group"===y.scattermode)for(c=0;c<d.length;c++)"scatter"===(m=d[c]).type&&T(m._input,m,y,C);for(c=0;c<d.length;c++){var w=d[c];if("scatter"===w.type){var S=w.fill;if("none"!==S&&"toself"!==S&&(w.opacity=void 0,"tonexty"===S||"tonextx"===S))for(var z=c-1;z>=0;z--){var A=d[z];if("scatter"===A.type&&A.xaxis===w.xaxis&&A.yaxis===w.yaxis){A.opacity=void 0;break}}}}}},8800:function(Ce,j,o){"use strict";var p=o(3400),T=o(4040),h=o(2904),v=o(8200),d=o(3028),y=o(3980),g=o(1147),m=o(3912),c=o(4428),C=o(6828),w=o(1731),S=o(124),z=o(840),A=o(3400).coercePattern;Ce.exports=function(_,E,M,L){function b(Q,U){return p.coerce(_,E,h,Q,U)}var P=y(_,E,L,b);if(P||(E.visible=!1),E.visible){g(_,E,L,b),b("xhoverformat"),b("yhoverformat"),b("zorder");var I=m(_,E,L,b);"group"===L.scattermode&&void 0===E.orientation&&b("orientation","v");var G=!I&&P<v.PTS_LINESONLY?"lines+markers":"lines";b("text"),b("hovertext"),b("mode",G),d.hasMarkers(E)&&c(_,E,M,L,b,{gradient:!0}),d.hasLines(E)&&(C(_,E,M,L,b,{backoff:!0}),w(_,E,b),b("connectgaps"),b("line.simplify")),d.hasText(E)&&(b("texttemplate"),S(_,E,L,b));var $=[];(d.hasMarkers(E)||d.hasText(E))&&(b("cliponaxis"),b("marker.maxdisplayed"),$.push("points")),b("fill",I?I.fillDflt:"none"),"none"!==E.fill&&(z(_,E,M,b,{moduleHasFillgradient:!0}),d.hasLines(E)||w(_,E,b),A(b,"fillpattern",E.fillcolor,!1));var J=(E.line||{}).color,re=(E.marker||{}).color;("tonext"===E.fill||"toself"===E.fill)&&$.push("fills"),b("hoveron",$.join("+")||"points"),"fills"!==E.hoveron&&b("hovertemplate");var O=T.getComponentMethod("errorbars","supplyDefaults");O(_,E,J||re||M,{axis:"y"}),O(_,E,J||re||M,{axis:"x",inherit:"y"}),p.coerceSelectionMarkerOpacity(E,b)}}},3544:function(Ce){"use strict";Ce.exports=function(o){return{valType:"color",editType:"style",anim:!0}}},840:function(Ce,j,o){"use strict";var p=o(6308),T=o(3400).isArrayOrTypedArray;Ce.exports=function(d,y,g,m,c){c||(c={});var z,C=!1;if(y.marker){var w=y.marker.color,S=(y.marker.line||{}).color;w&&!T(w)?C=w:S&&!T(S)&&(C=S)}if(c.moduleHasFillgradient&&"none"!==m("fillgradient.type")){m("fillgradient.start"),m("fillgradient.stop");var D=m("fillgradient.colorscale");D&&(z=function h(v){for(var d=p.interpolate(v[0][1],v[1][1],.5),y=2;y<v.length;y++){var g=p.interpolate(v[y-1][1],v[y][1],.5);d=p.interpolate(d,g,v[y-1][0]/v[y][0])}return d}(D))}m("fillcolor",p.addOpacity((y.line||{}).color||C||z||g,.5))}},6688:function(Ce,j,o){"use strict";var p=o(4460);Ce.exports=function(h,v,d){var y={},g={_fullLayout:d},m=p.getFromTrace(g,v,"x"),c=p.getFromTrace(g,v,"y"),C=h.orig_x;void 0===C&&(C=h.x);var w=h.orig_y;return void 0===w&&(w=h.y),y.xLabel=p.tickText(m,m.c2l(C),!0).text,y.yLabel=p.tickText(c,c.c2l(w),!0).text,y}},4928:function(Ce,j,o){"use strict";var p=o(6308),T=o(3028);Ce.exports=function(v,d){var y,g;if("lines"===v.mode)return(y=v.line.color)&&p.opacity(y)?y:v.fillcolor;if("none"===v.mode)return v.fill?v.fillcolor:"";var m=d.mcc||(v.marker||{}).color,c=d.mlcc||((v.marker||{}).line||{}).color;return(g=m&&p.opacity(m)?m:c&&p.opacity(c)&&(d.mlw||((v.marker||{}).line||{}).width)?c:"")?p.opacity(g)<.3?p.addOpacity(g,.3):g:(y=(v.line||{}).color)&&p.opacity(y)&&T.hasLines(v)&&v.line.width?y:v.fillcolor}},11:function(Ce,j,o){"use strict";var p=o(1888).getAxisGroup;Ce.exports=function(h,v,d,y){var g=v.orientation,c=p(d,v[{v:"x",h:"y"}[g]+"axis"])+g,C=d._alignmentOpts||{},w=y("alignmentgroup"),S=C[c];S||(S=C[c]={});var z=S[w];z?z.traces.push(v):z=S[w]={traces:[v],alignmentIndex:Object.keys(S).length,offsetGroups:{}};var A=y("offsetgroup"),D=z.offsetGroups,_=D[A];A&&(_||(_=D[A]={offsetIndex:Object.keys(D).length}),v._offsetIndex=_.offsetIndex)}},8723:function(Ce,j,o){"use strict";var p=o(3400),T=o(3024),h=o(4040),v=o(4928),d=o(6308),y=p.fillText;Ce.exports=function(m,c,C,w){var S=m.cd,z=S[0].trace,A=m.xa,D=m.ya,_=A.c2p(c),E=D.c2p(C),M=[_,E],L=z.hoveron||"",b=-1!==z.mode.indexOf("markers")?3:.5,P=!!z.xperiodalignment,I=!!z.yperiodalignment;if(-1!==L.indexOf("points")){var J=function(De){var Ne=Math.max(b,De.mrc||0),Be=A.c2p(De.x)-_,Fe=D.c2p(De.y)-E;return Math.max(Math.sqrt(Be*Be+Fe*Fe)-Ne,1-b/Ne)},re=T.getDistanceFunction(w,function(De){if(P){var Ne=A.c2p(De.xStart),Be=A.c2p(De.xEnd);return _>=Math.min(Ne,Be)&&_<=Math.max(Ne,Be)?0:1/0}var Fe=Math.max(3,De.mrc||0),Se=1-1/Fe,ye=Math.abs(A.c2p(De.x)-_);return ye<Fe?Se*ye/Fe:ye-Fe+Se},function(De){if(I){var Ne=D.c2p(De.yStart),Be=D.c2p(De.yEnd);return E>=Math.min(Ne,Be)&&E<=Math.max(Ne,Be)?0:1/0}var Fe=Math.max(3,De.mrc||0),Se=1-1/Fe,ye=Math.abs(D.c2p(De.y)-E);return ye<Fe?Se*ye/Fe:ye-Fe+Se},J);if(T.getClosest(S,re,m),!1!==m.index){var O=S[m.index],Q=A.c2p(O.x,!0),U=D.c2p(O.y,!0),ne=O.mrc||1;m.index=O.i;var le=S[0].t.orientation,pe=le&&(O.sNorm||O.s),W="h"===le?pe:void 0!==O.orig_x?O.orig_x:O.x,K="v"===le?pe:void 0!==O.orig_y?O.orig_y:O.y;return p.extendFlat(m,{color:v(z,O),x0:Q-ne,x1:Q+ne,xLabelVal:W,y0:U-ne,y1:U+ne,yLabelVal:K,spikeDistance:J(O),hovertemplate:z.hovertemplate}),y(O,z,m),h.getComponentMethod("errorbars","hoverInfo")(O,z,m),[m]}}function X(De){if(!De)return!1;var Ne=De.node();try{var Be=new DOMPoint(M[0],M[1]);return Ne.isPointInFill(Be)}catch{var Fe=Ne.ownerSVGElement.createSVGPoint();return Fe.x=M[0],Fe.y=M[1],Ne.isPointInFill(Fe)}}if(-1!==L.indexOf("fills")&&z._fillElement&&X(z._fillElement)&&!X(z._fillExclusionElement)){var ce=function ie(De){var Ne,Y,Z,N,ee,B,xe,Te,Be=[],Fe=1/0,Se=-1/0,ye=1/0,H=-1/0;for(Ne=0;Ne<De.length;Ne++){var te=De[Ne];te.contains(M)&&(Be.push(te),ye=Math.min(ye,te.ymin),H=Math.max(H,te.ymax))}if(0===Be.length)return null;for(Y=((ye=Math.max(ye,0))+(H=Math.min(H,D._length)))/2,Ne=0;Ne<Be.length;Ne++)for(N=Be[Ne].pts,Z=1;Z<N.length;Z++)(xe=N[Z-1][1])>Y!=(Te=N[Z][1])>=Y&&(B=N[Z-1][0],Te-xe&&(ee=B+(N[Z][0]-B)*(Y-xe)/(Te-xe),Fe=Math.min(Fe,ee),Se=Math.max(Se,ee)));return{x0:Fe=Math.max(Fe,0),x1:Se=Math.min(Se,A._length),y0:Y,y1:Y}}(z._polygons);null===ce&&(ce={x0:M[0],x1:M[0],y0:M[1],y1:M[1]});var ge=d.defaultLine;return d.opacity(z.fillcolor)?ge=z.fillcolor:d.opacity((z.line||{}).color)&&(ge=z.line.color),p.extendFlat(m,{distance:m.maxHoverDistance,x0:ce.x0,x1:ce.x1,y0:ce.y0,y1:ce.y1,color:ge,hovertemplate:!1}),delete m.index,m.text=z.text&&!p.isArrayOrTypedArray(z.text)?String(z.text):z.name,[m]}}},5875:function(Ce,j,o){"use strict";var p=o(3028);Ce.exports={hasLines:p.hasLines,hasMarkers:p.hasMarkers,hasText:p.hasText,isBubble:p.isBubble,attributes:o(2904),layoutAttributes:o(5308),supplyDefaults:o(8800),crossTraceDefaults:o(5036),supplyLayoutDefaults:o(9748),calc:o(6356).calc,crossTraceCalc:o(6664),arraysToCalcdata:o(148),plot:o(6504),colorbar:o(5528),formatLabels:o(6688),style:o(6844).style,styleOnSelect:o(6844).styleOnSelect,hoverPoints:o(8723),selectPoints:o(1560),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:o(7952),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},5308:function(Ce){"use strict";Ce.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},9748:function(Ce,j,o){"use strict";var p=o(3400),T=o(5308);Ce.exports=function(h,v){"group"===v.scattermode&&function d(g,m){return p.coerce(h,v,T,g,m)}("scattergap","group"===v.barmode?v.bargap:.2)}},6828:function(Ce,j,o){"use strict";var p=o(3400).isArrayOrTypedArray,T=o(4288).hasColorscale,h=o(7260);Ce.exports=function(d,y,g,m,c,C){C||(C={});var w=(d.marker||{}).color;w&&w._inputArray&&(w=w._inputArray),c("line.color",g),T(d,"line")?h(d,y,m,c,{prefix:"line.",cLetter:"c"}):c("line.color",!p(w)&&w||g),c("line.width"),C.noDash||c("line.dash"),C.backoff&&c("line.backoff")}},2340:function(Ce,j,o){"use strict";var p=o(3616),T=o(9032),h=T.BADNUM,v=T.LOG_CLIP,d=v+.5,y=v-.5,g=o(3400),m=g.segmentsIntersect,c=g.constrain,C=o(8200);Ce.exports=function(S,z){var W,K,X,ie,ue,ce,ge,De,Ne,Be,Fe,Se,ye,H,Y,te,ee,B,A=z.trace||{},D=z.xaxis,_=z.yaxis,E="log"===D.type,M="log"===_.type,L=D._length,b=_._length,P=z.backoff,I=A.marker,G=z.connectGaps,$=z.baseTolerance,J=z.shape,re="linear"===J,O=A.fill&&"none"!==A.fill,Q=[],U=C.minTolerance,ne=S.length,le=new Array(ne),pe=0;function Z(Ze){var nt=S[Ze];if(!nt)return!1;var Bt=z.linearized?D.l2p(nt.x):D.c2p(nt.x),Je=z.linearized?_.l2p(nt.y):_.c2p(nt.y);if(Bt===h){if(E&&(Bt=D.c2p(nt.x,!0)),Bt===h)return!1;M&&Je===h&&(Bt*=Math.abs(D._m*b*(D._m>0?d:y)/(_._m*L*(_._m>0?d:y)))),Bt*=1e3}if(Je===h){if(M&&(Je=_.c2p(nt.y,!0)),Je===h)return!1;Je*=1e3}return[Bt,Je]}function N(Ze,nt,Bt,Je){var Ct=Bt-Ze,st=Je-nt,Pt=.5-Ze,cn=.5-nt,_n=Ct*Ct+st*st,Nn=Ct*Pt+st*cn;if(Nn>0&&Nn<_n){var Vn=Pt*st-cn*Ct;if(Vn*Vn<_n)return!0}}function se(Ze,nt){var Bt=Ze[0]/L,Je=Ze[1]/b,Ct=Math.max(0,-Bt,Bt-1,-Je,Je-1);return Ct&&void 0!==ee&&N(Bt,Je,ee,B)&&(Ct=0),Ct&&nt&&N(Bt,Je,nt[0]/L,nt[1]/b)&&(Ct=0),(1+C.toleranceGrowth*Ct)*$}function xe(Ze,nt){var Bt=Ze[0]-nt[0],Je=Ze[1]-nt[1];return Math.sqrt(Bt*Bt+Je*Je)}var gt,ze,Ve,Pe,Qe,Ke,At,Te=C.maxScreensAway,Ee=-L*Te,Oe=L*(1+Te),$e=-b*Te,ct=b*(1+Te),ft=[[Ee,$e,Oe,$e],[Oe,$e,Oe,ct],[Oe,ct,Ee,ct],[Ee,ct,Ee,$e]];function Dt(Ze){if(Ze[0]<Ee||Ze[0]>Oe||Ze[1]<$e||Ze[1]>ct)return[c(Ze[0],Ee,Oe),c(Ze[1],$e,ct)]}function $t(Ze,nt){if(Ze[0]===nt[0]&&(Ze[0]===Ee||Ze[0]===Oe)||Ze[1]===nt[1]&&(Ze[1]===$e||Ze[1]===ct))return!0}function kt(Ze,nt,Bt){return function(Je,Ct){var st=Dt(Je),Pt=Dt(Ct),cn=[];if(st&&Pt&&$t(st,Pt))return cn;st&&cn.push(st),Pt&&cn.push(Pt);var _n=2*g.constrain((Je[Ze]+Ct[Ze])/2,nt,Bt)-((st||Je)[Ze]+(Pt||Ct)[Ze]);return _n&&((st&&Pt?_n>0==st[Ze]>Pt[Ze]?st:Pt:st||Pt)[Ze]+=_n),cn}}function Lt(Ze){var nt=Ze[0],Bt=Ze[1],Je=nt===le[pe-1][0],Ct=Bt===le[pe-1][1];if(!Je||!Ct)if(pe>1){var st=nt===le[pe-2][0],Pt=Bt===le[pe-2][1];Je&&(nt===Ee||nt===Oe)&&st?Pt?pe--:le[pe-1]=Ze:Ct&&(Bt===$e||Bt===ct)&&Pt?st?pe--:le[pe-1]=Ze:le[pe++]=Ze}else le[pe++]=Ze}function Qt(Ze){le[pe-1][0]!==Ze[0]&&le[pe-1][1]!==Ze[1]&&Lt([Ve,Pe]),Lt(Ze),Qe=null,Ve=Pe=0}"linear"===J||"spline"===J?At=function dt(Ze,nt){for(var Bt=[],Je=0,Ct=0;Ct<4;Ct++){var st=ft[Ct],Pt=m(Ze[0],Ze[1],nt[0],nt[1],st[0],st[1],st[2],st[3]);Pt&&(!Je||Math.abs(Pt.x-Bt[0][0])>1||Math.abs(Pt.y-Bt[0][1])>1)&&(Pt=[Pt.x,Pt.y],Je&&xe(Pt,Ze)<xe(Bt[0],Ze)?Bt.unshift(Pt):Bt.push(Pt),Je++)}return Bt}:"hv"===J||"vh"===J?At=function Ot(Ze,nt){var Bt=[],Je=Dt(Ze),Ct=Dt(nt);return Je&&Ct&&$t(Je,Ct)||(Je&&Bt.push(Je),Ct&&Bt.push(Ct)),Bt}:"hvh"===J?At=kt(0,Ee,Oe):"vhv"===J&&(At=kt(1,$e,ct));var Jt=g.isArrayOrTypedArray(I);function en(Ze){if(Ze&&P&&(Ze.i=W,Ze.d=S,Ze.trace=A,Ze.marker=Jt?I[Ze.i]:I,Ze.backoff=P),ee=Ze[0]/L,B=Ze[1]/b,ze=Ze[1]<$e?$e:Ze[1]>ct?ct:0,(gt=Ze[0]<Ee?Ee:Ze[0]>Oe?Oe:0)||ze){if(pe)if(Qe){var nt=At(Qe,Ze);nt.length>1&&(Qt(nt[0]),le[pe++]=nt[1])}else Ke=At(le[pe-1],Ze)[0],le[pe++]=Ke;else le[pe++]=[gt||Ze[0],ze||Ze[1]];var Bt=le[pe-1];gt&&ze&&(Bt[0]!==gt||Bt[1]!==ze)?(Qe&&(Ve!==gt&&Pe!==ze?Lt(Ve&&Pe?function Gt(Ze,nt){var Bt=nt[0]-Ze[0],Je=(nt[1]-Ze[1])/Bt;return(Ze[1]*nt[0]-nt[1]*Ze[0])/Bt>0?[Je>0?Ee:Oe,ct]:[Je>0?Oe:Ee,$e]}(Qe,Ze):[Ve||gt,Pe||ze]):Ve&&Pe&&Lt([Ve,Pe])),Lt([gt,ze])):Ve-gt&&Pe-ze&&Lt([gt||Ve,ze||Pe]),Qe=Ze,Ve=gt,Pe=ze}else Qe&&Qt(At(Qe,Ze)[0]),le[pe++]=Ze}for(W=0;W<ne;W++)if(K=Z(W)){for(pe=0,Qe=null,en(K),W++;W<ne;W++){if(!(ie=Z(W))){if(G)continue;break}if(re&&z.simplify){var sn=Z(W+1);if(Be=xe(ie,K),O&&(0===pe||pe===ne-1)||!(Be<se(ie,sn)*U)){for(De=[(ie[0]-K[0])/Be,(ie[1]-K[1])/Be],ue=K,Fe=Be,Se=H=Y=0,ge=!1,X=ie,W++;W<S.length;W++){if(ce=sn,sn=Z(W+1),!ce){if(G)continue;break}if(te=(Ne=[ce[0]-K[0],ce[1]-K[1]])[0]*De[1]-Ne[1]*De[0],H=Math.min(H,te),(Y=Math.max(Y,te))-H>se(ce,sn))break;X=ce,(ye=Ne[0]*De[0]+Ne[1]*De[1])>Fe?(Fe=ye,ie=ce,ge=!1):ye<Se&&(Se=ye,ue=ce,ge=!0)}if(ge?(en(ie),X!==ue&&en(ue)):(ue!==K&&en(ue),X!==ie&&en(ie)),en(X),W>=S.length||!ce)break;en(ce),K=ce}}else en(ie)}Qe&&Lt([Ve||Qe[0],Pe||Qe[1]]),Q.push(le.slice(0,pe))}var pt=J.slice(J.length-1);if(P&&"h"!==pt&&"v"!==pt){for(var xt=!1,yt=-1,ke=[],Xe=0;Xe<Q.length;Xe++)for(var Me=0;Me<Q[Xe].length-1;Me++){var _e=Q[Xe][Me],He=Q[Xe][Me+1],We=p.applyBackoff(He,_e);(We[0]!==He[0]||We[1]!==He[1])&&(xt=!0),ke[yt+1]||(ke[++yt]=[_e,[We[0],We[1]]])}return xt?ke:Q}return Q}},1731:function(Ce){"use strict";Ce.exports=function(o,p,T){"spline"===T("line.shape")&&T("line.smoothing")}},4328:function(Ce){"use strict";var j={tonextx:1,tonexty:1,tonext:1};Ce.exports=function(p,T,h){var v,d,y,g,m,c={},C=!1,w=-1,S=0,z=-1;for(d=0;d<h.length;d++)(y=(v=h[d][0].trace).stackgroup||"")?y in c?m=c[y]:(m=c[y]=S,S++):v.fill in j&&z>=0?m=z:(m=z=S,S++),m<w&&(C=!0),v._groupIndex=w=m;var A=h.slice();C&&A.sort(function(_,E){var M=_[0].trace,L=E[0].trace;return M._groupIndex-L._groupIndex||M.index-L.index});var D={};for(d=0;d<A.length;d++)y=(v=A[d][0].trace).stackgroup||"",!0===v.visible?(v._nexttrace=null,v.fill in j&&(v._prevtrace=(g=D[y])||null,g&&(g._nexttrace=v)),v._ownfill=v.fill&&("tozero"===v.fill.substr(0,6)||"toself"===v.fill||"to"===v.fill.substr(0,2)&&!v._prevtrace),D[y]=v):v._prevtrace=v._nexttrace=v._ownfill=null;return A}},7152:function(Ce,j,o){"use strict";var p=o(8248);Ce.exports=function(h,v){v||(v=2);var d=h.marker,y=d.sizeref||1,g=d.sizemin||0,m="area"===d.sizemode?function(c){return Math.sqrt(c/y)}:function(c){return c/y};return function(c){var C=m(c/v);return p(C)&&C>0?Math.max(C,g):0}}},5528:function(Ce){"use strict";Ce.exports={container:"marker",min:"cmin",max:"cmax"}},4428:function(Ce,j,o){"use strict";var p=o(6308),T=o(4288).hasColorscale,h=o(7260),v=o(3028);Ce.exports=function(y,g,m,c,C,w){var S=v.isBubble(y),z=(y.line||{}).color;w=w||{},z&&(m=z),C("marker.symbol"),C("marker.opacity",S?.7:1),C("marker.size"),w.noAngle||(C("marker.angle"),w.noAngleRef||C("marker.angleref"),w.noStandOff||C("marker.standoff")),C("marker.color",m),T(y,"marker")&&h(y,g,c,C,{prefix:"marker.",cLetter:"c"}),w.noSelect||(C("selected.marker.color"),C("unselected.marker.color"),C("selected.marker.size"),C("unselected.marker.size")),w.noLine||(C("marker.line.color",z&&!Array.isArray(z)&&g.marker.color!==z?z:S?p.background:p.defaultLine),T(y,"marker.line")&&h(y,g,c,C,{prefix:"marker.line.",cLetter:"c"}),C("marker.line.width",S?1:0)),S&&(C("marker.sizeref"),C("marker.sizemin"),C("marker.sizemode")),w.gradient&&"none"!==C("marker.gradient.type")&&C("marker.gradient.color")}},1147:function(Ce,j,o){"use strict";var p=o(3400).dateTick0,h=o(9032).ONEWEEK;function v(d,y){return p(y,d%h==0?1:0)}Ce.exports=function(y,g,m,c,C){if(C||(C={x:!0,y:!0}),C.x){var w=c("xperiod");w&&(c("xperiod0",v(w,g.xcalendar)),c("xperiodalignment"))}if(C.y){var S=c("yperiod");S&&(c("yperiod0",v(S,g.ycalendar)),c("yperiodalignment"))}}},6504:function(Ce,j,o){"use strict";var p=o(3428),T=o(4040),h=o(3400),v=h.ensureSingle,d=h.identity,y=o(3616),g=o(3028),m=o(2340),c=o(4328),C=o(2065).tester;function S(A,D,_,E,M,L,b){var I,P=A._context.staticPlot;!function z(A,D,_,E,M){var L=_.xaxis,b=_.yaxis,P=p.extent(h.simpleMap(L.range,L.r2c)),I=p.extent(h.simpleMap(b.range,b.r2c)),G=E[0].trace;if(g.hasMarkers(G)){var $=G.marker.maxdisplayed;if(0!==$){var J=E.filter(function(U){return U.x>=P[0]&&U.x<=P[1]&&U.y>=I[0]&&U.y<=I[1]}),re=Math.ceil(J.length/$),O=0;M.forEach(function(U,ne){var le=U[0].trace;g.hasMarkers(le)&&le.marker.maxdisplayed>0&&ne<D&&O++});var Q=Math.round(O*re/3+Math.floor(O/3)*re/7.1);E.forEach(function(U){delete U.vis}),J.forEach(function(U,ne){0===Math.round((ne+Q)%re)&&(U.vis=!0)})}}}(0,D,_,E,M);var G=!!b&&b.duration>0;function $(Lt){return G?Lt.transition():Lt}var J=_.xaxis,re=_.yaxis,O=E[0].trace,Q=O.line,U=p.select(L),ne=v(U,"g","errorbars"),le=v(U,"g","lines"),pe=v(U,"g","points"),W=v(U,"g","text");if(T.getComponentMethod("errorbars","plot")(A,ne,_,b),!0===O.visible){$(U).style("opacity",O.opacity);var K,X,ue,ce,ie=O.fill.charAt(O.fill.length-1);"x"!==ie&&"y"!==ie&&(ie=""),"y"===ie?(ue=1,ce=re.c2p(0,!0)):"x"===ie&&(ue=0,ce=J.c2p(0,!0)),E[0][_.isRangePlot?"nodeRangePlot3":"node3"]=U;var ge="",De=[],Ne=O._prevtrace,Be=null,Fe=null;Ne&&(ge=Ne._prevRevpath||"",X=Ne._nextFill,De=Ne._ownPolygons,Be=Ne._fillsegments,Fe=Ne._fillElement);var Se,ye,te,Z,N,ee,B,se,H="",Y="",xe=[];O._polygons=[];var Te=[],Ee=[],Oe=h.noop;if(K=O._ownFill,g.hasLines(O)||"none"!==O.fill){X&&X.datum(E),-1!==["hv","vh","hvh","vhv"].indexOf(Q.shape)?(te=y.steps(Q.shape),Z=y.steps(Q.shape.split("").reverse().join(""))):te=Z="spline"===Q.shape?function(Lt){var Qt=Lt[Lt.length-1];return Lt.length>1&&Lt[0][0]===Qt[0]&&Lt[0][1]===Qt[1]?y.smoothclosed(Lt.slice(1),Q.smoothing):y.smoothopen(Lt,Q.smoothing)}:function(Lt){return"M"+Lt.join("L")},N=function(Lt){return Z(Lt.reverse())},Ee=m(E,{xaxis:J,yaxis:re,trace:O,connectGaps:O.connectgaps,baseTolerance:Math.max(Q.width||1,3)/4,shape:Q.shape,backoff:Q.backoff,simplify:Q.simplify,fill:O.fill}),Te=new Array(Ee.length);var $e=0;for(I=0;I<Ee.length;I++){var ct,ft=Ee[I];ct&&ie?ct.push.apply(ct,ft):(ct=ft.slice(),Te[$e]=ct,$e++)}O._fillElement=null,O._fillExclusionElement=Fe,O._fillsegments=Te.slice(0,$e),Te=O._fillsegments,Ee.length&&(ee=Ee[0][0].slice(),se=(B=Ee[Ee.length-1])[B.length-1].slice()),Oe=function(Lt){return function(Qt){if(Se=te(Qt),ye=N(Qt),H?ie?(H+="L"+Se.substr(1),Y=ye+"L"+Y.substr(1)):(H+="Z"+Se,Y=ye+"Z"+Y):(H=Se,Y=ye),g.hasLines(O)){var Jt=p.select(this);if(Jt.datum(E),Lt)$(Jt.style("opacity",0).attr("d",Se).call(y.lineGroupStyle)).style("opacity",1);else{var en=$(Jt);en.attr("d",Se),y.singleLineStyle(E,en)}}}}}var gt=le.selectAll(".js-line").data(Ee);$(gt.exit()).style("opacity",0).remove(),gt.each(Oe(!1)),gt.enter().append("path").classed("js-line",!0).style("vector-effect",P?"none":"non-scaling-stroke").call(y.lineGroupStyle).each(Oe(!0)),y.setClipUrl(gt,_.layerClipId,A);var Ve=function(){var Lt=new Array(Te.length);for(I=0;I<Te.length;I++)Lt[I]=C(Te[I]);return Lt},Pe=function(Lt){var Qt,Jt;if(Lt&&0!==Lt.length){for(Qt=new Array(Lt.length-1+Te.length),Jt=0;Jt<Lt.length-1;Jt++)Qt[Jt]=C(Lt[Jt]);var yt=Lt[Lt.length-1].slice();for(yt.reverse(),Jt=0;Jt<Te.length;Jt++)Qt[Lt.length-1+Jt]=C(Te[Jt].concat(yt))}else for(Qt=new Array(Te.length),Jt=0;Jt<Te.length;Jt++){var en=Te[Jt][0].slice(),sn=Te[Jt][Te[Jt].length-1].slice();en[ue]=sn[ue]=ce;var xt=[sn,en].concat(Te[Jt]);Qt[Jt]=C(xt)}return Qt};Ee.length?(K?(K.datum(E),ee&&se&&(ie?(ee[ue]=se[ue]=ce,$(K).attr("d","M"+se+"L"+ee+"L"+H.substr(1)).call(y.singleFillStyle,A),xe=Pe(null)):($(K).attr("d",H+"Z").call(y.singleFillStyle,A),xe=Ve())),O._polygons=xe,O._fillElement=K):X&&("tonext"===O.fill.substr(0,6)&&H&&ge?("tonext"===O.fill?($(X).attr("d",H+"Z"+ge+"Z").call(y.singleFillStyle,A),xe=Ve(),O._polygons=xe.concat(De)):($(X).attr("d",H+"L"+ge.substr(1)+"Z").call(y.singleFillStyle,A),xe=Pe(Be),O._polygons=xe),O._fillElement=X):ze(X)),O._prevRevpath=Y):(K?ze(K):X&&ze(X),O._prevRevpath=null),O._ownPolygons=xe,pe.datum(E),W.datum(E),function kt(Lt,Qt,Jt){var en,xt=Jt[0].trace,yt=g.hasMarkers(xt),ke=g.hasText(xt),Xe=function $t(Lt){if(Lt.ids)return Dt}(xt),Me=Ot,_e=Ot;if(yt||ke){var He=d,We=xt.stackgroup,Ze=We&&"infer zero"===A._fullLayout._scatterStackOpts[J._id+re._id][We].stackgaps;xt.marker.maxdisplayed||xt._needsCull?He=Ze?Ke:Qe:We&&!Ze&&(He=dt),yt&&(Me=He),ke&&(_e=He)}var Bt,nt=(en=Lt.selectAll("path.point").data(Me,Xe)).enter().append("path").classed("point",!0);G&&nt.call(y.pointStyle,xt,A).call(y.translatePoints,J,re).style("opacity",0).transition().style("opacity",1),en.order(),yt&&(Bt=y.makePointStyleFns(xt)),en.each(function(Je){var Ct=p.select(this),st=$(Ct);y.translatePoint(Je,st,J,re)?(y.singlePointStyle(Je,st,xt,Bt,A),_.layerClipId&&y.hideOutsideRangePoint(Je,st,J,re,xt.xcalendar,xt.ycalendar),xt.customdata&&Ct.classed("plotly-customdata",null!=Je.data)):st.remove()}),G?en.exit().transition().style("opacity",0).remove():en.exit().remove(),(en=Qt.selectAll("g").data(_e,Xe)).enter().append("g").classed("textpoint",!0).append("text"),en.order(),en.each(function(Je){var Ct=p.select(this),st=$(Ct.select("text"));y.translatePoint(Je,st,J,re)?_.layerClipId&&y.hideOutsideRangePoint(Je,Ct,J,re,xt.xcalendar,xt.ycalendar):Ct.remove()}),en.selectAll("text").call(y.textPointStyle,xt,A).each(function(Je){var Ct=J.c2p(Je.x),st=re.c2p(Je.y);p.select(this).selectAll("tspan.line").each(function(){$(p.select(this)).attr({x:Ct,y:st})})}),en.exit().remove()}(pe,W,E);var Gt=!1===O.cliponaxis?null:_.layerClipId;y.setClipUrl(pe,Gt,A),y.setClipUrl(W,Gt,A)}function ze(Lt){$(Lt).attr("d","M0,0Z")}function Qe(Lt){return Lt.filter(function(Qt){return!Qt.gap&&Qt.vis})}function Ke(Lt){return Lt.filter(function(Qt){return Qt.vis})}function dt(Lt){return Lt.filter(function(Qt){return!Qt.gap})}function Dt(Lt){return Lt.id}function Ot(){return!1}}Ce.exports=function(D,_,E,M,L,b){var P,I,G=!L,$=!!L&&L.duration>0,J=c(D,_,E);(P=M.selectAll("g.trace").data(J,function(O){return O[0].trace.uid})).enter().append("g").attr("class",function(O){return"trace scatter trace"+O[0].trace.uid}).style("stroke-miterlimit",2),P.order(),function w(A,D,_){D.each(function(E){var M=v(p.select(this),"g","fills");y.setClipUrl(M,_.layerClipId,A);var L=E[0].trace,b=[];L._ownfill&&b.push("_ownFill"),L._nexttrace&&b.push("_nextFill");var P=M.selectAll("g").data(b,d);P.enter().append("g"),P.exit().each(function(I){L[I]=null}).remove(),P.order().each(function(I){L[I]=v(p.select(this),"path","js-fill")})})}(D,P,_),$?(b&&(I=b()),p.transition().duration(L.duration).ease(L.easing).each("end",function(){I&&I()}).each("interrupt",function(){I&&I()}).each(function(){M.selectAll("g.trace").each(function(O,Q){S(D,Q,_,O,J,this,L)})})):P.each(function(O,Q){S(D,Q,_,O,J,this,L)}),G&&P.exit().remove(),M.selectAll("path:not([d])").remove()}},1560:function(Ce,j,o){"use strict";var p=o(3028);Ce.exports=function(h,v){var C,w,S,z,d=h.cd,y=h.xaxis,g=h.yaxis,m=[],c=d[0].trace;if(!p.hasMarkers(c)&&!p.hasText(c))return[];if(!1===v)for(C=0;C<d.length;C++)d[C].selected=0;else for(C=0;C<d.length;C++)S=y.c2p((w=d[C]).x),z=g.c2p(w.y),null!==w.i&&v.contains([S,z],!1,C,h)?(m.push({pointNumber:w.i,x:y.c2d(w.x),y:g.c2d(w.y)}),w.selected=1):w.selected=0;return m}},3912:function(Ce){"use strict";var j=["orientation","groupnorm","stackgaps"];Ce.exports=function(p,T,h,v){var d=h._scatterStackOpts,y=v("stackgroup");if(y){var g=T.xaxis+T.yaxis,m=d[g];m||(m=d[g]={});var c=m[y],C=!1;c?c.traces.push(T):(c=m[y]={traceIndices:[],traces:[T]},C=!0);for(var w={orientation:T.x&&!T.y?"h":"v"},S=0;S<j.length;S++){var z=j[S],A=z+"Found";if(!c[A]){var D=void 0!==p[z],_="orientation"===z;if((D||C)&&(c[z]=v(z,w[z]),_&&(c.fillDflt="h"===c[z]?"tonextx":"tonexty"),D&&(c[A]=!0,!C&&(delete c.traces[0][z],_))))for(var E=0;E<c.traces.length-1;E++){var M=c.traces[E];M._input.fill!==M.fill&&(M.fill=c.fillDflt)}}}return c}}},6844:function(Ce,j,o){"use strict";var p=o(3428),T=o(3616),h=o(4040);function d(m,c,C){T.pointStyle(m.selectAll("path.point"),c,C)}function y(m,c,C){T.textPointStyle(m.selectAll("text"),c,C)}Ce.exports={style:function v(m){var c=p.select(m).selectAll("g.trace.scatter");c.style("opacity",function(C){return C[0].trace.opacity}),c.selectAll("g.points").each(function(C){d(p.select(this),C.trace||C[0].trace,m)}),c.selectAll("g.text").each(function(C){y(p.select(this),C.trace||C[0].trace,m)}),c.selectAll("g.trace path.js-line").call(T.lineGroupStyle),c.selectAll("g.trace path.js-fill").call(T.fillGroupStyle,m,!1),h.getComponentMethod("errorbars","style")(c)},stylePoints:d,styleText:y,styleOnSelect:function g(m,c,C){var w=c[0].trace;w.selectedpoints?(T.selectedPointStyle(C.selectAll("path.point"),w),T.selectedTextStyle(C.selectAll("text"),w)):(d(C,w,m),y(C,w,m))}}},3028:function(Ce,j,o){"use strict";var p=o(3400),T=o(8116).isTypedArraySpec;Ce.exports={hasLines:function(h){return h.visible&&h.mode&&-1!==h.mode.indexOf("lines")},hasMarkers:function(h){return h.visible&&(h.mode&&-1!==h.mode.indexOf("markers")||"splom"===h.type)},hasText:function(h){return h.visible&&h.mode&&-1!==h.mode.indexOf("text")},isBubble:function(h){var v=h.marker;return p.isPlainObject(v)&&(p.isArrayOrTypedArray(v.size)||T(v.size))}}},124:function(Ce,j,o){"use strict";var p=o(3400);Ce.exports=function(T,h,v,d,y){y=y||{},d("textposition"),p.coerceFont(d,"textfont",y.font||v.font,y),y.noSelect||(d("selected.textfont.color"),d("unselected.textfont.color"))}},3980:function(Ce,j,o){"use strict";var p=o(3400),T=o(4040);Ce.exports=function(v,d,y,g){var C,m=g("x"),c=g("y");if(T.getComponentMethod("calendars","handleTraceDefaults")(v,d,["x","y"],y),m){var S=p.minRowLength(m);c?C=Math.min(S,p.minRowLength(c)):(C=S,g("y0"),g("dy"))}else{if(!c)return 0;C=p.minRowLength(c),g("x0"),g("dx")}return d._length=C,C}},1843:function(Ce,j,o){"use strict";var p=o(4460),T=o(3400),h=o(3060),v=o(468).W,d=o(9032).BADNUM;j.moduleType="transform",j.name="aggregate";var y=j.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},g=y.aggregations;function m(z,A,D,_){if(_.enabled){for(var E=_.target,M=T.nestedProperty(A,E),L=M.get(),P=function c(z,A){var _=A.d2c,E=A.c2d;switch(z.func){case"count":return C;case"first":return w;case"last":return S;case"sum":return function(M,L){for(var b=0,P=0;P<L.length;P++){var I=_(M[L[P]]);I!==d&&(b+=I)}return E(b)};case"avg":return function(M,L){for(var b=0,P=0,I=0;I<L.length;I++){var G=_(M[L[I]]);G!==d&&(b+=G,P++)}return P?E(b/P):d};case"min":return function(M,L){for(var b=1/0,P=0;P<L.length;P++){var I=_(M[L[P]]);I!==d&&(b=Math.min(b,I))}return b===1/0?d:E(b)};case"max":return function(M,L){for(var b=-1/0,P=0;P<L.length;P++){var I=_(M[L[P]]);I!==d&&(b=Math.max(b,I))}return b===-1/0?d:E(b)};case"range":return function(M,L){for(var b=1/0,P=-1/0,I=0;I<L.length;I++){var G=_(M[L[I]]);G!==d&&(b=Math.min(b,G),P=Math.max(P,G))}return P===-1/0||b===1/0?d:E(P-b)};case"change":return function(M,L){var b=_(M[L[0]]),P=_(M[L[L.length-1]]);return b===d||P===d?d:E(P-b)};case"median":return function(M,L){for(var b=[],P=0;P<L.length;P++){var I=_(M[L[P]]);I!==d&&b.push(I)}if(!b.length)return d;b.sort(T.sorterAsc);var G=(b.length-1)/2;return E((b[Math.floor(G)]+b[Math.ceil(G)])/2)};case"mode":return function(M,L){for(var b={},P=0,I=d,G=0;G<L.length;G++){var $=_(M[L[G]]);if($!==d){var J=b[$]=(b[$]||0)+1;J>P&&(P=J,I=$)}}return P?E(I):d};case"rms":return function(M,L){for(var b=0,P=0,I=0;I<L.length;I++){var G=_(M[L[I]]);G!==d&&(b+=G*G,P++)}return P?E(Math.sqrt(b/P)):d};case"stddev":return function(M,L){var $,b=0,P=0,I=1,G=d;for($=0;$<L.length&&G===d;$++)G=_(M[L[$]]);if(G===d)return d;for(;$<L.length;$++){var J=_(M[L[$]]);if(J!==d){var re=J-G;b+=re,P+=re*re,I++}}var O="sample"===z.funcmode?I-1:I;return O?Math.sqrt((P-b*b/I)/O):0}}}(_,p.getDataConversions(z,A,E,L)),I=new Array(D.length),G=0;G<D.length;G++)I[G]=P(L,D[G]);M.set(I),"count"===_.func&&T.pushUnique(A._arrayAttrs,E)}}function C(z,A){return A.length}function w(z,A){return z[A[0]]}function S(z,A){return z[A[A.length-1]]}j.supplyDefaults=function(z,A){var _,D={};function E(U,ne){return T.coerce(z,D,y,U,ne)}if(!E("enabled"))return D;var L=h.findArrayAttributes(A),b={};for(_=0;_<L.length;_++)b[L[_]]=1;var P=E("groups");if(!Array.isArray(P)){if(!b[P])return D.enabled=!1,D;b[P]=0}var $,I=z.aggregations||[],G=D.aggregations=new Array(I.length);function J(U,ne){return T.coerce(I[_],$,g,U,ne)}for(_=0;_<I.length;_++){$={_index:_};var re=J("target"),O=J("func");J("enabled")&&re&&(b[re]||"count"===O&&void 0===b[re])?("stddev"===O&&J("funcmode"),b[re]=0,G[_]=$):G[_]={enabled:!1,_index:_}}for(_=0;_<L.length;_++)b[L[_]]&&G.push({target:L[_],func:g.func.dflt,enabled:!0,_index:-1});return D},j.calcTransform=function(z,A,D){if(D.enabled){var _=D.groups,E=T.getTargetArray(A,{target:_});if(E){var M,L,b,I={},G={},$=[],J=v(A.transforms,D),re=E.length;for(A._length&&(re=Math.min(re,A._length)),M=0;M<re;M++)void 0===(b=I[L=E[M]])?(I[L]=$.length,$.push([M]),G[I[L]]=J(M)):($[b].push(M),G[I[L]]=(G[I[L]]||[]).concat(J(M)));D._indexToPoints=G;var O=D.aggregations;for(M=0;M<O.length;M++)m(z,A,$,O[M]);"string"==typeof _&&m(z,A,$,{target:_,func:"first",enabled:!0}),A._length=$.length}}}},6744:function(Ce,j,o){"use strict";var p=o(3400),T=o(4040),h=o(4460),v=o(468).W,d=o(9104),y=d.COMPARISON_OPS,g=d.INTERVAL_OPS,m=d.SET_OPS;j.moduleType="transform",j.name="filter",j.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(y).concat(g).concat(m),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},j.supplyDefaults=function(C){var w={};function S(_,E){return p.coerce(C,w,j.attributes,_,E)}if(S("enabled")){var A=S("target");if(p.isArrayOrTypedArray(A)&&0===A.length)return w.enabled=!1,w;S("preservegaps"),S("operation"),S("value");var D=T.getComponentMethod("calendars","handleDefaults");D(C,w,"valuecalendar",null),D(C,w,"targetcalendar",null)}return w},j.calcTransform=function(C,w,S){if(S.enabled){var z=p.getTargetArray(w,S);if(z){var A=S.target,D=z.length;w._length&&(D=Math.min(D,w._length));var _=S.targetcalendar,E=w._arrayAttrs,M=S.preservegaps;if("string"==typeof A){var L=p.nestedProperty(w,A+"calendar").get();L&&(_=L)}var re,O,P=function c(C,w,S){var z=C.operation,A=C.value,D=p.isArrayOrTypedArray(A);function _(b){return-1!==b.indexOf(z)}var L,E=function(b){return w(b,0,C.valuecalendar)},M=function(b){return w(b,0,S)};switch(_(y)?L=E(D?A[0]:A):_(g)?L=D?[E(A[0]),E(A[1])]:[E(A),E(A)]:_(m)&&(L=D?A.map(E):[E(A)]),z){case"=":return function(b){return M(b)===L};case"!=":return function(b){return M(b)!==L};case"<":return function(b){return M(b)<L};case"<=":return function(b){return M(b)<=L};case">":return function(b){return M(b)>L};case">=":return function(b){return M(b)>=L};case"[]":return function(b){var P=M(b);return P>=L[0]&&P<=L[1]};case"()":return function(b){var P=M(b);return P>L[0]&&P<L[1]};case"[)":return function(b){var P=M(b);return P>=L[0]&&P<L[1]};case"(]":return function(b){var P=M(b);return P>L[0]&&P<=L[1]};case"][":return function(b){var P=M(b);return P<=L[0]||P>=L[1]};case")(":return function(b){var P=M(b);return P<L[0]||P>L[1]};case"](":return function(b){var P=M(b);return P<=L[0]||P>L[1]};case")[":return function(b){var P=M(b);return P<L[0]||P>=L[1]};case"{}":return function(b){return-1!==L.indexOf(M(b))};case"}{":return function(b){return-1===L.indexOf(M(b))}}}(S,h.getDataToCoordFunc(C,w,A,z),_),I={},G={},$=0;M?(re=function(le){I[le.astr]=p.extendDeep([],le.get()),le.set(new Array(D))},O=function(le,pe){var W=I[le.astr][pe];le.get()[pe]=W}):(re=function(le){I[le.astr]=p.extendDeep([],le.get()),le.set([])},O=function(le,pe){var W=I[le.astr][pe];le.get().push(W)}),J(re);for(var Q=v(w.transforms,S),U=0;U<D;U++)P(z[U])?(J(O,U),G[$++]=Q(U)):M&&$++;S._indexToPoints=G,w._length=$}}function J(le,pe){for(var W=0;W<E.length;W++)le(p.nestedProperty(w,E[W]),pe)}}},2028:function(Ce,j,o){"use strict";var p=o(3400),T=o(3060),h=o(7316),v=o(468).W;function d(y,g){var m,c,C,w,S,z,A,D,_,E,M=g.transform,L=g.transformIndex,b=y.transforms[L].groups,P=v(y.transforms,M);if(!p.isArrayOrTypedArray(b)||0===b.length)return[y];var I=p.filterUnique(b),G=new Array(I.length),$=b.length,J=T.findArrayAttributes(y),re=M.styles||[],O={};for(m=0;m<re.length;m++)O[re[m].target]=re[m].value;M.styles&&(E=p.keyedContainer(M,"styles","target","value.name"));var Q={},U={};for(m=0;m<I.length;m++){Q[z=I[m]]=m,U[z]=0,(A=G[m]=p.extendDeepNoArrays({},y))._group=z,A.transforms[L]._indexToPoints={};var ne=null;for(E&&(ne=E.get(z)),A.name=ne||""===ne?ne:p.templateString(M.nameformat,{trace:y.name,group:z}),D=A.transforms,A.transforms=[],c=0;c<D.length;c++)A.transforms[c]=p.extendDeepNoArrays({},D[c]);for(c=0;c<J.length;c++)p.nestedProperty(A,J[c]).set([])}for(C=0;C<J.length;C++){for(w=J[C],c=0,_=[];c<I.length;c++)_[c]=p.nestedProperty(G[c],w).get();for(S=p.nestedProperty(y,w).get(),c=0;c<$;c++)_[Q[b[c]]].push(S[c])}for(c=0;c<$;c++)(A=G[Q[b[c]]]).transforms[L]._indexToPoints[U[b[c]]]=P(c),U[b[c]]++;for(m=0;m<I.length;m++)z=I[m],h.clearExpandedTraceDefaultColors(A=G[m]),A=p.extendDeepNoArrays(A,O[z]||{});return G}j.moduleType="transform",j.name="groupby",j.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},j.supplyDefaults=function(y,g,m){var c,C={};function w(E,M){return p.coerce(y,C,j.attributes,E,M)}if(!w("enabled"))return C;w("groups"),w("nameformat",m._dataLength>1?"%{group} (%{trace})":"%{group}");var z=y.styles,A=C.styles=[];if(z)for(c=0;c<z.length;c++){var D=A[c]={};p.coerce(z[c],A[c],j.attributes.styles,"target");var _=p.coerce(z[c],A[c],j.attributes.styles,"value");p.isPlainObject(_)?D.value=p.extendDeep({},_):_&&delete D.value}return C},j.transform=function(y,g){var m,c,C,w=[];for(c=0;c<y.length;c++)for(m=d(y[c],g),C=0;C<m.length;C++)w.push(m[C]);return w}},468:function(Ce,j){"use strict";j.W=function(o,p){for(var T,h,v=0;v<o.length&&(T=o[v])!==p;v++)!T._indexToPoints||!1===T.enabled||(h=T._indexToPoints);return h?function(y){return h[y]}:function(y){return[y]}}},6272:function(Ce,j,o){"use strict";var p=o(3400),T=o(4460),h=o(468).W,v=o(9032).BADNUM;function d(g,m,c,C){var z,w=new Array(C),S=new Array(C);for(z=0;z<C;z++)w[z]={v:m[z],i:z};for(w.sort(function y(g,m){switch(g.order){case"ascending":return function(c,C){var w=m(c.v),S=m(C.v);return w===v?1:S===v?-1:w-S};case"descending":return function(c,C){var w=m(c.v),S=m(C.v);return w===v?1:S===v?-1:S-w}}}(g,c)),z=0;z<C;z++)S[z]=w[z].i;return S}j.moduleType="transform",j.name="sort",j.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},j.supplyDefaults=function(g){var m={};function c(w,S){return p.coerce(g,m,j.attributes,w,S)}return c("enabled")&&(c("target"),c("order")),m},j.calcTransform=function(g,m,c){if(c.enabled){var C=p.getTargetArray(m,c);if(C){var w=c.target,S=C.length;m._length&&(S=Math.min(S,m._length));var M,L,z=m._arrayAttrs,D=d(c,C,T.getDataToCoordFunc(g,m,w,C),S),_=h(m.transforms,c),E={};for(M=0;M<z.length;M++){var b=p.nestedProperty(m,z[M]),P=b.get(),I=new Array(S);for(L=0;L<S;L++)I[L]=P[D[L]];b.set(I)}for(L=0;L<S;L++)E[L]=_(D[L]);c._indexToPoints=E,m._length=S}}}},5788:function(Ce,j){"use strict";j.version="2.34.0"},5928:function(Ce){"use strict";Ce.exports=T,Ce.exports.isMobile=T,Ce.exports.default=T;var j=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,o=/CrOS/,p=/android|ipad|playbook|silk/i;function T(h){h||(h={});var v=h.ua;if(!v&&typeof navigator<"u"&&(v=navigator.userAgent),v&&v.headers&&"string"==typeof v.headers["user-agent"]&&(v=v.headers["user-agent"]),"string"!=typeof v)return!1;var d=j.test(v)&&!o.test(v)||!!h.tablet&&p.test(v);return!d&&h.tablet&&h.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==v.indexOf("Macintosh")&&-1!==v.indexOf("Safari")&&(d=!0),d}},3428:function(Ce,j,o){var p,T;(function(){var h={version:"3.8.2"},v=[].slice,d=function(f){return v.call(f)},y=self.document;function g(f){return f&&(f.ownerDocument||f.document||f).documentElement}function m(f){return f&&(f.ownerDocument&&f.ownerDocument.defaultView||f.document&&f||f.defaultView)}if(y)try{d(y.documentElement.childNodes)}catch{d=function(R){for(var V=R.length,ae=new Array(V);V--;)ae[V]=R[V];return ae}}if(Date.now||(Date.now=function(){return+new Date}),y)try{y.createElement("DIV").style.setProperty("opacity",0,"")}catch{var c=this.Element.prototype,C=c.setAttribute,w=c.setAttributeNS,S=this.CSSStyleDeclaration.prototype,z=S.setProperty;c.setAttribute=function(R,V){C.call(this,R,V+"")},c.setAttributeNS=function(R,V,ae){w.call(this,R,V,ae+"")},S.setProperty=function(R,V,ae){z.call(this,R,V+"",ae)}}function A(f,R){return f<R?-1:f>R?1:f>=R?0:NaN}function D(f){return null===f?NaN:+f}function _(f){return!isNaN(f)}function E(f){return{left:function(R,V,ae,fe){for(arguments.length<3&&(ae=0),arguments.length<4&&(fe=R.length);ae<fe;){var me=ae+fe>>>1;f(R[me],V)<0?ae=me+1:fe=me}return ae},right:function(R,V,ae,fe){for(arguments.length<3&&(ae=0),arguments.length<4&&(fe=R.length);ae<fe;){var me=ae+fe>>>1;f(R[me],V)>0?fe=me:ae=me+1}return ae}}}h.ascending=A,h.descending=function(f,R){return R<f?-1:R>f?1:R>=f?0:NaN},h.min=function(f,R){var fe,me,V=-1,ae=f.length;if(1===arguments.length){for(;++V<ae;)if(null!=(me=f[V])&&me>=me){fe=me;break}for(;++V<ae;)null!=(me=f[V])&&fe>me&&(fe=me)}else{for(;++V<ae;)if(null!=(me=R.call(f,f[V],V))&&me>=me){fe=me;break}for(;++V<ae;)null!=(me=R.call(f,f[V],V))&&fe>me&&(fe=me)}return fe},h.max=function(f,R){var fe,me,V=-1,ae=f.length;if(1===arguments.length){for(;++V<ae;)if(null!=(me=f[V])&&me>=me){fe=me;break}for(;++V<ae;)null!=(me=f[V])&&me>fe&&(fe=me)}else{for(;++V<ae;)if(null!=(me=R.call(f,f[V],V))&&me>=me){fe=me;break}for(;++V<ae;)null!=(me=R.call(f,f[V],V))&&me>fe&&(fe=me)}return fe},h.extent=function(f,R){var fe,me,Re,V=-1,ae=f.length;if(1===arguments.length){for(;++V<ae;)if(null!=(me=f[V])&&me>=me){fe=Re=me;break}for(;++V<ae;)null!=(me=f[V])&&(fe>me&&(fe=me),Re<me&&(Re=me))}else{for(;++V<ae;)if(null!=(me=R.call(f,f[V],V))&&me>=me){fe=Re=me;break}for(;++V<ae;)null!=(me=R.call(f,f[V],V))&&(fe>me&&(fe=me),Re<me&&(Re=me))}return[fe,Re]},h.sum=function(f,R){var fe,V=0,ae=f.length,me=-1;if(1===arguments.length)for(;++me<ae;)_(fe=+f[me])&&(V+=fe);else for(;++me<ae;)_(fe=+R.call(f,f[me],me))&&(V+=fe);return V},h.mean=function(f,R){var fe,V=0,ae=f.length,me=-1,Re=ae;if(1===arguments.length)for(;++me<ae;)_(fe=D(f[me]))?V+=fe:--Re;else for(;++me<ae;)_(fe=D(R.call(f,f[me],me)))?V+=fe:--Re;if(Re)return V/Re},h.quantile=function(f,R){var V=(f.length-1)*R+1,ae=Math.floor(V),fe=+f[ae-1],me=V-ae;return me?fe+me*(f[ae]-fe):fe},h.median=function(f,R){var fe,V=[],ae=f.length,me=-1;if(1===arguments.length)for(;++me<ae;)_(fe=D(f[me]))&&V.push(fe);else for(;++me<ae;)_(fe=D(R.call(f,f[me],me)))&&V.push(fe);if(V.length)return h.quantile(V.sort(A),.5)},h.variance=function(f,R){var fe,me,V=f.length,ae=0,Re=0,Ae=-1,Ue=0;if(1===arguments.length)for(;++Ae<V;)_(fe=D(f[Ae]))&&(Re+=(me=fe-ae)*(fe-(ae+=me/++Ue)));else for(;++Ae<V;)_(fe=D(R.call(f,f[Ae],Ae)))&&(Re+=(me=fe-ae)*(fe-(ae+=me/++Ue)));if(Ue>1)return Re/(Ue-1)},h.deviation=function(){var f=h.variance.apply(this,arguments);return f&&Math.sqrt(f)};var M=E(A);function L(f){return f.length}h.bisectLeft=M.left,h.bisect=h.bisectRight=M.right,h.bisector=function(f){return E(1===f.length?function(R,V){return A(f(R),V)}:f)},h.shuffle=function(f,R,V){(ae=arguments.length)<3&&(V=f.length,ae<2&&(R=0));for(var fe,me,ae=V-R;ae;)me=Math.random()*ae--|0,fe=f[ae+R],f[ae+R]=f[me+R],f[me+R]=fe;return f},h.permute=function(f,R){for(var V=R.length,ae=new Array(V);V--;)ae[V]=f[R[V]];return ae},h.pairs=function(f){for(var R=0,V=f.length-1,fe=f[0],me=new Array(V<0?0:V);R<V;)me[R]=[fe,fe=f[++R]];return me},h.transpose=function(f){if(!(me=f.length))return[];for(var R=-1,V=h.min(f,L),ae=new Array(V);++R<V;)for(var me,fe=-1,Re=ae[R]=new Array(me);++fe<me;)Re[fe]=f[fe][R];return ae},h.zip=function(){return h.transpose(arguments)},h.keys=function(f){var R=[];for(var V in f)R.push(V);return R},h.values=function(f){var R=[];for(var V in f)R.push(f[V]);return R},h.entries=function(f){var R=[];for(var V in f)R.push({key:V,value:f[V]});return R},h.merge=function(f){for(var V,me,Re,R=f.length,ae=-1,fe=0;++ae<R;)fe+=f[ae].length;for(me=new Array(fe);--R>=0;)for(V=(Re=f[R]).length;--V>=0;)me[--fe]=Re[V];return me};var b=Math.abs;function I(f,R){for(var V in R)Object.defineProperty(f.prototype,V,{value:R[V],enumerable:!1})}function G(){this._=Object.create(null)}h.range=function(f,R,V){if(arguments.length<3&&(V=1,arguments.length<2&&(R=f,f=0)),(R-f)/V==1/0)throw new Error("infinite range");var Re,ae=[],fe=function P(f){for(var R=1;f*R%1;)R*=10;return R}(b(V)),me=-1;if(f*=fe,R*=fe,(V*=fe)<0)for(;(Re=f+V*++me)>R;)ae.push(Re/fe);else for(;(Re=f+V*++me)<R;)ae.push(Re/fe);return ae},h.map=function(f,R){var V=new G;if(f instanceof G)f.forEach(function(Ae,Ue){V.set(Ae,Ue)});else if(Array.isArray(f)){var me,ae=-1,fe=f.length;if(1===arguments.length)for(;++ae<fe;)V.set(ae,f[ae]);else for(;++ae<fe;)V.set(R.call(f,me=f[ae],ae),me)}else for(var Re in f)V.set(Re,f[Re]);return V};var $="__proto__",J="\0";function re(f){return(f+="")===$||f[0]===J?J+f:f}function O(f){return(f+="")[0]===J?f.slice(1):f}function Q(f){return re(f)in this._}function U(f){return(f=re(f))in this._&&delete this._[f]}function ne(){var f=[];for(var R in this._)f.push(O(R));return f}function le(){var f=0;for(var R in this._)++f;return f}function pe(){for(var f in this._)return!1;return!0}function W(){this._=Object.create(null)}function K(f){return f}function X(f,R,V){return function(){var ae=V.apply(R,arguments);return ae===R?f:ae}}function ie(f,R){if(R in f)return R;R=R.charAt(0).toUpperCase()+R.slice(1);for(var V=0,ae=ue.length;V<ae;++V){var fe=ue[V]+R;if(fe in f)return fe}}I(G,{has:Q,get:function(f){return this._[re(f)]},set:function(f,R){return this._[re(f)]=R},remove:U,keys:ne,values:function(){var f=[];for(var R in this._)f.push(this._[R]);return f},entries:function(){var f=[];for(var R in this._)f.push({key:O(R),value:this._[R]});return f},size:le,empty:pe,forEach:function(f){for(var R in this._)f.call(this,O(R),this._[R])}}),h.nest=function(){var ae,fe,f={},R=[],V=[];function me(Ae,Ue,et){if(et>=R.length)return fe?fe.call(f,Ue):ae?Ue.sort(ae):Ue;for(var Kt,Xt,Tt,Ht,tt=-1,wt=Ue.length,_t=R[et++],Rt=new G;++tt<wt;)(Ht=Rt.get(Kt=_t(Xt=Ue[tt])))?Ht.push(Xt):Rt.set(Kt,[Xt]);return Ae?(Xt=Ae(),Tt=function(Ut,tn){Xt.set(Ut,me(Ae,tn,et))}):(Xt={},Tt=function(Ut,tn){Xt[Ut]=me(Ae,tn,et)}),Rt.forEach(Tt),Xt}function Re(Ae,Ue){if(Ue>=R.length)return Ae;var et=[],tt=V[Ue++];return Ae.forEach(function(wt,_t){et.push({key:wt,values:Re(_t,Ue)})}),tt?et.sort(function(wt,_t){return tt(wt.key,_t.key)}):et}return f.map=function(Ae,Ue){return me(Ue,Ae,0)},f.entries=function(Ae){return Re(me(h.map,Ae,0),0)},f.key=function(Ae){return R.push(Ae),f},f.sortKeys=function(Ae){return V[R.length-1]=Ae,f},f.sortValues=function(Ae){return ae=Ae,f},f.rollup=function(Ae){return fe=Ae,f},f},h.set=function(f){var R=new W;if(f)for(var V=0,ae=f.length;V<ae;++V)R.add(f[V]);return R},I(W,{has:Q,add:function(f){return this._[re(f+="")]=!0,f},remove:U,values:ne,size:le,empty:pe,forEach:function(f){for(var R in this._)f.call(this,O(R))}}),h.behavior={},h.rebind=function(f,R){for(var fe,V=1,ae=arguments.length;++V<ae;)f[fe=arguments[V]]=X(f,R,R[fe]);return f};var ue=["webkit","ms","moz","Moz","o","O"];function ce(){}function ge(){}function De(f){var R=[],V=new G;function ae(){for(var Ae,fe=R,me=-1,Re=fe.length;++me<Re;)(Ae=fe[me].on)&&Ae.apply(this,arguments);return f}return ae.on=function(fe,me){var Ae,Re=V.get(fe);return arguments.length<2?Re&&Re.on:(Re&&(Re.on=null,R=R.slice(0,Ae=R.indexOf(Re)).concat(R.slice(Ae+1)),V.remove(fe)),me&&R.push(V.set(fe,{on:me})),f)},ae}function Ne(){h.event.preventDefault()}function Be(){for(var R,f=h.event;R=f.sourceEvent;)f=R;return f}function Fe(f){for(var R=new ge,V=0,ae=arguments.length;++V<ae;)R[arguments[V]]=De(R);return R.of=function(fe,me){return function(Re){try{var Ae=Re.sourceEvent=h.event;Re.target=f,h.event=Re,R[Re.type].apply(fe,me)}finally{h.event=Ae}}},R}h.dispatch=function(){for(var f=new ge,R=-1,V=arguments.length;++R<V;)f[arguments[R]]=De(f);return f},ge.prototype.on=function(f,R){var V=f.indexOf("."),ae="";if(V>=0&&(ae=f.slice(V+1),f=f.slice(0,V)),f)return arguments.length<2?this[f].on(ae):this[f].on(ae,R);if(2===arguments.length){if(null==R)for(f in this)this.hasOwnProperty(f)&&this[f].on(ae,null);return this}},h.event=null,h.requote=function(f){return f.replace(Se,"\\$&")};var Se=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ye={}.__proto__?function(f,R){f.__proto__=R}:function(f,R){for(var V in R)f[V]=R[V]};function H(f){return ye(f,N),f}var Y=function(f,R){return R.querySelector(f)},te=function(f,R){return R.querySelectorAll(f)},Z=function(f,R){var V=f.matches||f[ie(f,"matchesSelector")];return(Z=function(ae,fe){return V.call(ae,fe)})(f,R)};"function"==typeof Sizzle&&(Y=function(f,R){return Sizzle(f,R)[0]||null},te=Sizzle,Z=Sizzle.matchesSelector),h.selection=function(){return h.select(y.documentElement)};var N=h.selection.prototype=[];function ee(f){return"function"==typeof f?f:function(){return Y(f,this)}}function B(f){return"function"==typeof f?f:function(){return te(f,this)}}N.select=function(f){var V,ae,fe,me,R=[];f=ee(f);for(var Re=-1,Ae=this.length;++Re<Ae;){R.push(V=[]),V.parentNode=(fe=this[Re]).parentNode;for(var Ue=-1,et=fe.length;++Ue<et;)(me=fe[Ue])?(V.push(ae=f.call(me,me.__data__,Ue,Re)),ae&&"__data__"in me&&(ae.__data__=me.__data__)):V.push(null)}return H(R)},N.selectAll=function(f){var V,ae,R=[];f=B(f);for(var fe=-1,me=this.length;++fe<me;)for(var Re=this[fe],Ae=-1,Ue=Re.length;++Ae<Ue;)(ae=Re[Ae])&&(R.push(V=d(f.call(ae,ae.__data__,Ae,fe))),V.parentNode=ae);return H(R)};var se="http://www.w3.org/1999/xhtml",xe={svg:"http://www.w3.org/2000/svg",xhtml:se,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Te(f,R){return f=h.ns.qualify(f),null==R?f.local?function ae(){this.removeAttributeNS(f.space,f.local)}:function V(){this.removeAttribute(f)}:"function"==typeof R?f.local?function Ae(){var Ue=R.apply(this,arguments);null==Ue?this.removeAttributeNS(f.space,f.local):this.setAttributeNS(f.space,f.local,Ue)}:function Re(){var Ue=R.apply(this,arguments);null==Ue?this.removeAttribute(f):this.setAttribute(f,Ue)}:f.local?function me(){this.setAttributeNS(f.space,f.local,R)}:function fe(){this.setAttribute(f,R)}}function Ee(f){return f.trim().replace(/\s+/g," ")}function Oe(f){return new RegExp("(?:^|\\s+)"+h.requote(f)+"(?:\\s+|$)","g")}function $e(f){return(f+"").trim().split(/^|\s+/)}function ct(f,R){var V=(f=$e(f).map(ft)).length;return"function"==typeof R?function fe(){for(var me=-1,Re=R.apply(this,arguments);++me<V;)f[me](this,Re)}:function ae(){for(var me=-1;++me<V;)f[me](this,R)}}function ft(f){var R=Oe(f);return function(V,ae){if(fe=V.classList)return ae?fe.add(f):fe.remove(f);var fe=V.getAttribute("class")||"";ae?(R.lastIndex=0,R.test(fe)||V.setAttribute("class",Ee(fe+" "+f))):V.setAttribute("class",Ee(fe.replace(R," ")))}}function gt(f,R,V){return null==R?function ae(){this.style.removeProperty(f)}:"function"==typeof R?function me(){var Re=R.apply(this,arguments);null==Re?this.style.removeProperty(f):this.style.setProperty(f,Re,V)}:function fe(){this.style.setProperty(f,R,V)}}function ze(f,R){return null==R?function V(){delete this[f]}:"function"==typeof R?function fe(){var me=R.apply(this,arguments);null==me?delete this[f]:this[f]=me}:function ae(){this[f]=R}}function Ve(f){return"function"==typeof f?f:(f=h.ns.qualify(f)).local?function V(){return this.ownerDocument.createElementNS(f.space,f.local)}:function R(){var ae=this.ownerDocument,fe=this.namespaceURI;return fe===se&&ae.documentElement.namespaceURI===se?ae.createElement(f):ae.createElementNS(fe,f)}}function Pe(){var f=this.parentNode;f&&f.removeChild(this)}function Qe(f){return{__data__:f}}function Ke(f){return function(){return Z(this,f)}}function dt(f){return arguments.length||(f=A),function(R,V){return R&&V?f(R.__data__,V.__data__):!R-!V}}function Dt(f,R){for(var V=0,ae=f.length;V<ae;V++)for(var Ae,fe=f[V],me=0,Re=fe.length;me<Re;me++)(Ae=fe[me])&&R(Ae,me,V);return f}function $t(f){return ye(f,Ot),f}h.ns={prefix:xe,qualify:function(f){var R=f.indexOf(":"),V=f;return R>=0&&"xmlns"!==(V=f.slice(0,R))&&(f=f.slice(R+1)),xe.hasOwnProperty(V)?{space:xe[V],local:f}:f}},N.attr=function(f,R){if(arguments.length<2){if("string"==typeof f){var V=this.node();return(f=h.ns.qualify(f)).local?V.getAttributeNS(f.space,f.local):V.getAttribute(f)}for(R in f)this.each(Te(R,f[R]));return this}return this.each(Te(f,R))},N.classed=function(f,R){if(arguments.length<2){if("string"==typeof f){var V=this.node(),ae=(f=$e(f)).length,fe=-1;if(R=V.classList){for(;++fe<ae;)if(!R.contains(f[fe]))return!1}else for(R=V.getAttribute("class");++fe<ae;)if(!Oe(f[fe]).test(R))return!1;return!0}for(R in f)this.each(ct(R,f[R]));return this}return this.each(ct(f,R))},N.style=function(f,R,V){var ae=arguments.length;if(ae<3){if("string"!=typeof f){for(V in ae<2&&(R=""),f)this.each(gt(V,f[V],R));return this}if(ae<2){var fe=this.node();return m(fe).getComputedStyle(fe,null).getPropertyValue(f)}V=""}return this.each(gt(f,R,V))},N.property=function(f,R){if(arguments.length<2){if("string"==typeof f)return this.node()[f];for(R in f)this.each(ze(R,f[R]));return this}return this.each(ze(f,R))},N.text=function(f){return arguments.length?this.each("function"==typeof f?function(){var R=f.apply(this,arguments);this.textContent=R??""}:null==f?function(){this.textContent=""}:function(){this.textContent=f}):this.node().textContent},N.html=function(f){return arguments.length?this.each("function"==typeof f?function(){var R=f.apply(this,arguments);this.innerHTML=R??""}:null==f?function(){this.innerHTML=""}:function(){this.innerHTML=f}):this.node().innerHTML},N.append=function(f){return f=Ve(f),this.select(function(){return this.appendChild(f.apply(this,arguments))})},N.insert=function(f,R){return f=Ve(f),R=ee(R),this.select(function(){return this.insertBefore(f.apply(this,arguments),R.apply(this,arguments)||null)})},N.remove=function(){return this.each(Pe)},N.data=function(f,R){var fe,me,V=-1,ae=this.length;if(!arguments.length){for(f=new Array(ae=(fe=this[0]).length);++V<ae;)(me=fe[V])&&(f[V]=me.__data__);return f}function Re(tt,wt){var _t,tn,jt,Kt=tt.length,Xt=wt.length,Tt=Math.min(Kt,Xt),Rt=new Array(Xt),Ht=new Array(Xt),Ut=new Array(Kt);if(R){var sr,Ln=new G,nr=new Array(Kt);for(_t=-1;++_t<Kt;)(tn=tt[_t])&&(Ln.has(sr=R.call(tn,tn.__data__,_t))?Ut[_t]=tn:Ln.set(sr,tn),nr[_t]=sr);for(_t=-1;++_t<Xt;)(tn=Ln.get(sr=R.call(wt,jt=wt[_t],_t)))?!0!==tn&&(Rt[_t]=tn,tn.__data__=jt):Ht[_t]=Qe(jt),Ln.set(sr,!0);for(_t=-1;++_t<Kt;)_t in nr&&!0!==Ln.get(nr[_t])&&(Ut[_t]=tt[_t])}else{for(_t=-1;++_t<Tt;)jt=wt[_t],(tn=tt[_t])?(tn.__data__=jt,Rt[_t]=tn):Ht[_t]=Qe(jt);for(;_t<Xt;++_t)Ht[_t]=Qe(wt[_t]);for(;_t<Kt;++_t)Ut[_t]=tt[_t]}Ht.update=Rt,Ht.parentNode=Rt.parentNode=Ut.parentNode=tt.parentNode,Ae.push(Ht),Ue.push(Rt),et.push(Ut)}var Ae=$t([]),Ue=H([]),et=H([]);if("function"==typeof f)for(;++V<ae;)Re(fe=this[V],f.call(fe,fe.parentNode.__data__,V));else for(;++V<ae;)Re(fe=this[V],f);return Ue.enter=function(){return Ae},Ue.exit=function(){return et},Ue},N.datum=function(f){return arguments.length?this.property("__data__",f):this.property("__data__")},N.filter=function(f){var V,ae,fe,R=[];"function"!=typeof f&&(f=Ke(f));for(var me=0,Re=this.length;me<Re;me++){R.push(V=[]),V.parentNode=(ae=this[me]).parentNode;for(var Ae=0,Ue=ae.length;Ae<Ue;Ae++)(fe=ae[Ae])&&f.call(fe,fe.__data__,Ae,me)&&V.push(fe)}return H(R)},N.order=function(){for(var f=-1,R=this.length;++f<R;)for(var me,V=this[f],ae=V.length-1,fe=V[ae];--ae>=0;)(me=V[ae])&&(fe&&fe!==me.nextSibling&&fe.parentNode.insertBefore(me,fe),fe=me);return this},N.sort=function(f){f=dt.apply(this,arguments);for(var R=-1,V=this.length;++R<V;)this[R].sort(f);return this.order()},N.each=function(f){return Dt(this,function(R,V,ae){f.call(R,R.__data__,V,ae)})},N.call=function(f){var R=d(arguments);return f.apply(R[0]=this,R),this},N.empty=function(){return!this.node()},N.node=function(){for(var f=0,R=this.length;f<R;f++)for(var V=this[f],ae=0,fe=V.length;ae<fe;ae++){var me=V[ae];if(me)return me}return null},N.size=function(){var f=0;return Dt(this,function(){++f}),f};var Ot=[];function At(f,R,V){var ae="__on"+f,fe=f.indexOf("."),me=Lt;fe>0&&(f=f.slice(0,fe));var Re=Gt.get(f);function Ae(){var tt=this[ae];tt&&(this.removeEventListener(f,tt,tt.$),delete this[ae])}return Re&&(f=Re,me=Qt),fe?R?function Ue(){var tt=me(R,d(arguments));Ae.call(this),this.addEventListener(f,this[ae]=tt,tt.$=V),tt._=R}:Ae:R?ce:function et(){var wt,tt=new RegExp("^__on([^.]+)"+h.requote(f)+"$");for(var _t in this)if(wt=_t.match(tt)){var Kt=this[_t];this.removeEventListener(wt[1],Kt,Kt.$),delete this[_t]}}}h.selection.enter=$t,h.selection.enter.prototype=Ot,Ot.append=N.append,Ot.empty=N.empty,Ot.node=N.node,Ot.call=N.call,Ot.size=N.size,Ot.select=function(f){for(var V,ae,fe,me,Re,R=[],Ae=-1,Ue=this.length;++Ae<Ue;){fe=(me=this[Ae]).update,R.push(V=[]),V.parentNode=me.parentNode;for(var et=-1,tt=me.length;++et<tt;)(Re=me[et])?(V.push(fe[et]=ae=f.call(me.parentNode,Re.__data__,et,Ae)),ae.__data__=Re.__data__):V.push(null)}return H(R)},Ot.insert=function(f,R){return arguments.length<2&&(R=function kt(f){var R,V;return function(ae,fe,me){var Ue,Re=f[me].update,Ae=Re.length;for(me!=V&&(V=me,R=0),fe>=R&&(R=fe+1);!(Ue=Re[R])&&++R<Ae;);return Ue}}(this)),N.insert.call(this,f,R)},h.select=function(f){var R;return"string"==typeof f?(R=[Y(f,y)]).parentNode=y.documentElement:(R=[f]).parentNode=g(f),H([R])},h.selectAll=function(f){var R;return"string"==typeof f?(R=d(te(f,y))).parentNode=y.documentElement:(R=d(f)).parentNode=null,H([R])},N.on=function(f,R,V){var ae=arguments.length;if(ae<3){if("string"!=typeof f){for(V in ae<2&&(R=!1),f)this.each(At(V,f[V],R));return this}if(ae<2)return(ae=this.node()["__on"+f])&&ae._;V=!1}return this.each(At(f,R,V))};var Gt=h.map({mouseenter:"mouseover",mouseleave:"mouseout"});function Lt(f,R){return function(V){var ae=h.event;h.event=V,R[0]=this.__data__;try{f.apply(this,R)}finally{h.event=ae}}}function Qt(f,R){var V=Lt(f,R);return function(ae){var me=ae.relatedTarget;(!me||me!==this&&!(8&me.compareDocumentPosition(this)))&&V.call(this,ae)}}y&&Gt.forEach(function(f){"on"+f in y&&Gt.remove(f)});var Jt,en=0;function sn(f){var R=".dragsuppress-"+ ++en,V="click"+R,ae=h.select(m(f)).on("touchmove"+R,Ne).on("dragstart"+R,Ne).on("selectstart"+R,Ne);if(null==Jt&&(Jt=!("onselectstart"in f)&&ie(f.style,"userSelect")),Jt){var fe=g(f).style,me=fe[Jt];fe[Jt]="none"}return function(Re){if(ae.on(R,null),Jt&&(fe[Jt]=me),Re){var Ae=function(){ae.on(V,null)};ae.on(V,function(){Ne(),Ae()},!0),setTimeout(Ae,0)}}}h.mouse=function(f){return xt(f,Be())};var pt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function xt(f,R){R.changedTouches&&(R=R.changedTouches[0]);var V=f.ownerSVGElement||f;if(V.createSVGPoint){var ae=V.createSVGPoint();if(pt<0){var fe=m(f);if(fe.scrollX||fe.scrollY){var me=(V=h.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();pt=!(me.f||me.e),V.remove()}}return pt?(ae.x=R.pageX,ae.y=R.pageY):(ae.x=R.clientX,ae.y=R.clientY),[(ae=ae.matrixTransform(f.getScreenCTM().inverse())).x,ae.y]}var Re=f.getBoundingClientRect();return[R.clientX-Re.left-f.clientLeft,R.clientY-Re.top-f.clientTop]}function yt(){return h.event.changedTouches[0].identifier}h.touch=function(f,R,V){if(arguments.length<3&&(V=R,R=Be().changedTouches),R)for(var me,ae=0,fe=R.length;ae<fe;++ae)if((me=R[ae]).identifier===V)return xt(f,me)},h.behavior.drag=function(){var f=Fe(fe,"drag","dragstart","dragend"),R=null,V=me(ce,h.mouse,m,"mousemove","mouseup"),ae=me(yt,h.touch,K,"touchmove","touchend");function fe(){this.on("mousedown.drag",V).on("touchstart.drag",ae)}function me(Re,Ae,Ue,et,tt){return function(){var Ut,_t=h.event.target.correspondingElement||h.event.target,Kt=this.parentNode,Xt=f.of(this,arguments),Tt=0,Rt=Re(),Ht=".drag"+(null==Rt?"":"-"+Rt),tn=h.select(Ue(_t)).on(et+Ht,function nr(){var qn,fr,ar=Ae(Kt,Rt);ar&&(Tt|=(qn=ar[0]-Ln[0])|(fr=ar[1]-Ln[1]),Ln=ar,Xt({type:"drag",x:ar[0]+Ut[0],y:ar[1]+Ut[1],dx:qn,dy:fr}))}).on(tt+Ht,function sr(){Ae(Kt,Rt)&&(tn.on(et+Ht,null).on(tt+Ht,null),jt(Tt),Xt({type:"dragend"}))}),jt=sn(_t),Ln=Ae(Kt,Rt);Ut=R?[(Ut=R.apply(this,arguments)).x-Ln[0],Ut.y-Ln[1]]:[0,0],Xt({type:"dragstart"})}}return fe.origin=function(Re){return arguments.length?(R=Re,fe):R},h.rebind(fe,f,"on")},h.touches=function(f,R){return arguments.length<2&&(R=Be().touches),R?d(R).map(function(V){var ae=xt(f,V);return ae.identifier=V.identifier,ae}):[]};var ke=1e-6,Xe=ke*ke,Me=Math.PI,_e=2*Me,He=_e-ke,We=Me/2,Ze=Me/180,nt=180/Me;function Je(f,R,V){return(R[0]-f[0])*(V[1]-f[1])-(R[1]-f[1])*(V[0]-f[0])}function st(f){return f>1?We:f<-1?-We:Math.asin(f)}function cn(f){return((f=Math.exp(f))+1/f)/2}var Vn=Math.SQRT2;h.interpolateZoom=function(f,R){var wt,_t,V=f[0],ae=f[1],fe=f[2],Ae=R[2],Ue=R[0]-V,et=R[1]-ae,tt=Ue*Ue+et*et;if(tt<Xe)_t=Math.log(Ae/fe)/Vn,wt=function(Ut){return[V+Ut*Ue,ae+Ut*et,fe*Math.exp(Vn*Ut*_t)]};else{var Kt=Math.sqrt(tt),Xt=(Ae*Ae-fe*fe+4*tt)/(2*fe*2*Kt),Tt=(Ae*Ae-fe*fe-4*tt)/(2*Ae*2*Kt),Rt=Math.log(Math.sqrt(Xt*Xt+1)-Xt),Ht=Math.log(Math.sqrt(Tt*Tt+1)-Tt);_t=(Ht-Rt)/Vn,wt=function(Ut){var tn=Ut*_t,jt=cn(Rt),Ln=fe/(2*Kt)*(jt*function _n(f){return((f=Math.exp(2*f))-1)/(f+1)}(Vn*tn+Rt)-function Pt(f){return((f=Math.exp(f))-1/f)/2}(Rt));return[V+Ln*Ue,ae+Ln*et,fe*jt/cn(Vn*tn+Rt)]}}return wt.duration=1e3*_t,wt},h.behavior.zoom=function(){var R,V,ae,wt,Kt,Tt,Rt,Ht,Ut,f={x:0,y:0,k:1},fe=[960,500],me=Rn,Re=250,Ae=0,Ue="mousedown.zoom",et="mousemove.zoom",tt="mouseup.zoom",_t="touchstart.zoom",Xt=Fe(tn,"zoomstart","zoom","zoomend");function tn(Kn){Kn.on(Ue,Mr).on(Pn+".zoom",vi).on("dblclick.zoom",ti).on(_t,fi)}function jt(Kn){return[(Kn[0]-f.x)/f.k,(Kn[1]-f.y)/f.k]}function nr(Kn){f.k=Math.max(me[0],Math.min(me[1],Kn))}function sr(Kn,wr){wr=function Ln(Kn){return[Kn[0]*f.k+f.x,Kn[1]*f.k+f.y]}(wr),f.x+=Kn[0]-wr[0],f.y+=Kn[1]-wr[1]}function ar(Kn,wr,er,gi){Kn.__chart__={x:f.x,y:f.y,k:f.k},nr(Math.pow(2,gi)),sr(V=wr,er),Kn=h.select(Kn),Re>0&&(Kn=Kn.transition().duration(Re)),Kn.call(tn.event)}function qn(){Rt&&Rt.domain(Tt.range().map(function(Kn){return(Kn-f.x)/f.k}).map(Tt.invert)),Ut&&Ut.domain(Ht.range().map(function(Kn){return(Kn-f.y)/f.k}).map(Ht.invert))}function fr(Kn){Ae++||Kn({type:"zoomstart"})}function kr(Kn){qn(),Kn({type:"zoom",scale:f.k,translate:[f.x,f.y]})}function dr(Kn){--Ae||(Kn({type:"zoomend"}),V=null)}function Mr(){var Kn=this,wr=Xt.of(Kn,arguments),er=0,gi=h.select(m(Kn)).on(et,function rs(){er=1,sr(h.mouse(Kn),ia),kr(wr)}).on(tt,function ys(){gi.on(et,null).on(tt,null),Ra(er),dr(wr)}),ia=jt(h.mouse(Kn)),Ra=sn(Kn);Ml.call(Kn),fr(wr)}function fi(){var ia,Kn=this,wr=Xt.of(Kn,arguments),er={},gi=0,Ra=".zoom-"+h.event.changedTouches[0].identifier,rs="touchmove"+Ra,ys="touchend"+Ra,La=[],$a=h.select(Kn),Wa=sn(Kn);function bs(){var An=h.touches(Kn);return ia=f.k,An.forEach(function(Ir){Ir.identifier in er&&(er[Ir.identifier]=jt(Ir))}),An}function Js(){var An=h.event.target;h.select(An).on(rs,e2).on(ys,sf),La.push(An);for(var Ir=h.event.changedTouches,Qn=0,Jn=Ir.length;Qn<Jn;++Qn)er[Ir[Qn].identifier]=null;var di=bs(),_2=Date.now();if(1===di.length)_2-Kt<500&&(ar(Kn,W1=di[0],er[W1.identifier],Math.floor(Math.log(f.k)/Math.LN2)+1),Ne()),Kt=_2;else if(di.length>1){var W1,Ui=di[1],qs=(W1=di[0])[0]-Ui[0],h0=W1[1]-Ui[1];gi=qs*qs+h0*h0}}function e2(){var Ir,Qn,Jn,di,An=h.touches(Kn);Ml.call(Kn);for(var _2=0,W1=An.length;_2<W1;++_2,di=null)if(di=er[(Jn=An[_2]).identifier]){if(Qn)break;Ir=Jn,Qn=di}if(di){var Ui=(Ui=Jn[0]-Ir[0])*Ui+(Ui=Jn[1]-Ir[1])*Ui,qs=gi&&Math.sqrt(Ui/gi);Ir=[(Ir[0]+Jn[0])/2,(Ir[1]+Jn[1])/2],Qn=[(Qn[0]+di[0])/2,(Qn[1]+di[1])/2],nr(qs*ia)}Kt=null,sr(Ir,Qn),kr(wr)}function sf(){if(h.event.touches.length){for(var An=h.event.changedTouches,Ir=0,Qn=An.length;Ir<Qn;++Ir)delete er[An[Ir].identifier];for(var Jn in er)return void bs()}h.selectAll(La).on(Ra,null),$a.on(Ue,Mr).on(_t,fi),Wa(),dr(wr)}Js(),fr(wr),$a.on(Ue,null).on(_t,Js)}function vi(){var Kn=Xt.of(this,arguments);wt?clearTimeout(wt):(Ml.call(this),R=jt(V=ae||h.mouse(this)),fr(Kn)),wt=setTimeout(function(){wt=null,dr(Kn)},50),Ne(),nr(Math.pow(2,.002*En())*f.k),sr(V,R),kr(Kn)}function ti(){var Kn=h.mouse(this),wr=Math.log(f.k)/Math.LN2;ar(this,Kn,jt(Kn),h.event.shiftKey?Math.ceil(wr)-1:Math.floor(wr)+1)}return Pn||(Pn="onwheel"in y?(En=function(){return-h.event.deltaY*(h.event.deltaMode?120:1)},"wheel"):"onmousewheel"in y?(En=function(){return h.event.wheelDelta},"mousewheel"):(En=function(){return-h.event.detail},"MozMousePixelScroll")),tn.event=function(Kn){Kn.each(function(){var wr=Xt.of(this,arguments),er=f;zc?h.select(this).transition().each("start.zoom",function(){f=this.__chart__||{x:0,y:0,k:1},fr(wr)}).tween("zoom:zoom",function(){var gi=fe[0],Ra=V?V[0]:gi/2,rs=V?V[1]:fe[1]/2,ys=h.interpolateZoom([(Ra-f.x)/f.k,(rs-f.y)/f.k,gi/f.k],[(Ra-er.x)/er.k,(rs-er.y)/er.k,gi/er.k]);return function(La){var $a=ys(La),Wa=gi/$a[2];this.__chart__=f={x:Ra-$a[0]*Wa,y:rs-$a[1]*Wa,k:Wa},kr(wr)}}).each("interrupt.zoom",function(){dr(wr)}).each("end.zoom",function(){dr(wr)}):(this.__chart__=f,fr(wr),kr(wr),dr(wr))})},tn.translate=function(Kn){return arguments.length?(f={x:+Kn[0],y:+Kn[1],k:f.k},qn(),tn):[f.x,f.y]},tn.scale=function(Kn){return arguments.length?(f={x:f.x,y:f.y,k:null},nr(+Kn),qn(),tn):f.k},tn.scaleExtent=function(Kn){return arguments.length?(me=null==Kn?Rn:[+Kn[0],+Kn[1]],tn):me},tn.center=function(Kn){return arguments.length?(ae=Kn&&[+Kn[0],+Kn[1]],tn):ae},tn.size=function(Kn){return arguments.length?(fe=Kn&&[+Kn[0],+Kn[1]],tn):fe},tn.duration=function(Kn){return arguments.length?(Re=+Kn,tn):Re},tn.x=function(Kn){return arguments.length?(Rt=Kn,Tt=Kn.copy(),f={x:0,y:0,k:1},tn):Rt},tn.y=function(Kn){return arguments.length?(Ut=Kn,Ht=Kn.copy(),f={x:0,y:0,k:1},tn):Ut},h.rebind(tn,Xt,"on")};var En,Pn,Rn=[0,1/0];function Zn(){}function Yn(f,R,V){return this instanceof Yn?(this.h=+f,this.s=+R,void(this.l=+V)):arguments.length<2?f instanceof Yn?new Yn(f.h,f.s,f.l):It(""+f,qt,Yn):new Yn(f,R,V)}h.color=Zn,Zn.prototype.toString=function(){return this.rgb()+""},h.hsl=Yn;var mn=Yn.prototype=new Zn;function Wn(f,R,V){var ae,fe;function Re(Ae){return Math.round(255*function me(Ae){return Ae>360?Ae-=360:Ae<0&&(Ae+=360),Ae<60?ae+(fe-ae)*Ae/60:Ae<180?fe:Ae<240?ae+(fe-ae)*(240-Ae)/60:ae}(Ae))}return f=isNaN(f)?0:(f%=360)<0?f+360:f,R=isNaN(R)||R<0?0:R>1?1:R,ae=2*(V=V<0?0:V>1?1:V)-(fe=V<=.5?V*(1+R):V+R-V*R),new ot(Re(f+120),Re(f),Re(f-120))}function In(f,R,V){return this instanceof In?(this.h=+f,this.c=+R,void(this.l=+V)):arguments.length<2?f instanceof In?new In(f.h,f.c,f.l):function ut(f,R,V){return f>0?new In(Math.atan2(V,R)*nt,Math.sqrt(R*R+V*V),f):new In(NaN,NaN,f)}(f instanceof ir?f.l:(f=hn((f=h.rgb(f)).r,f.g,f.b)).l,f.a,f.b):new In(f,R,V)}mn.brighter=function(f){return f=Math.pow(.7,arguments.length?f:1),new Yn(this.h,this.s,this.l/f)},mn.darker=function(f){return f=Math.pow(.7,arguments.length?f:1),new Yn(this.h,this.s,f*this.l)},mn.rgb=function(){return Wn(this.h,this.s,this.l)},h.hcl=In;var Fn=In.prototype=new Zn;function vr(f,R,V){return isNaN(f)&&(f=0),isNaN(R)&&(R=0),new ir(V,Math.cos(f*=Ze)*R,Math.sin(f)*R)}function ir(f,R,V){return this instanceof ir?(this.l=+f,this.a=+R,void(this.b=+V)):arguments.length<2?f instanceof ir?new ir(f.l,f.a,f.b):f instanceof In?vr(f.h,f.c,f.l):hn((f=ot(f)).r,f.g,f.b):new ir(f,R,V)}Fn.brighter=function(f){return new In(this.h,this.c,Math.min(100,this.l+On*(arguments.length?f:1)))},Fn.darker=function(f){return new In(this.h,this.c,Math.max(0,this.l-On*(arguments.length?f:1)))},Fn.rgb=function(){return vr(this.h,this.c,this.l).rgb()},h.lab=ir;var On=18,hr=.95047,rr=1,bn=1.08883,ve=ir.prototype=new Zn;function he(f,R,V){var ae=(f+16)/116,fe=ae+R/500,me=ae-V/200;return new ot(it(3.2404542*(fe=mt(fe)*hr)-1.5371385*(ae=mt(ae)*rr)-.4985314*(me=mt(me)*bn)),it(-.969266*fe+1.8760108*ae+.041556*me),it(.0556434*fe-.2040259*ae+1.0572252*me))}function mt(f){return f>.206893034?f*f*f:(f-.13793103448275862)/7.787037}function at(f){return f>.008856?Math.pow(f,.3333333333333333):7.787037*f+.13793103448275862}function it(f){return Math.round(255*(f<=.00304?12.92*f:1.055*Math.pow(f,.4166666666666667)-.055))}function ot(f,R,V){return this instanceof ot?(this.r=~~f,this.g=~~R,void(this.b=~~V)):arguments.length<2?f instanceof ot?new ot(f.r,f.g,f.b):It(""+f,ot,Wn):new ot(f,R,V)}function St(f){return new ot(f>>16,f>>8&255,255&f)}function bt(f){return St(f)+""}ve.brighter=function(f){return new ir(Math.min(100,this.l+On*(arguments.length?f:1)),this.a,this.b)},ve.darker=function(f){return new ir(Math.max(0,this.l-On*(arguments.length?f:1)),this.a,this.b)},ve.rgb=function(){return he(this.l,this.a,this.b)},h.rgb=ot;var Et=ot.prototype=new Zn;function Nt(f){return f<16?"0"+Math.max(0,f).toString(16):Math.min(255,f).toString(16)}function It(f,R,V){var Re,Ae,Ue,ae=0,fe=0,me=0;if(Re=/([a-z]+)\((.*)\)/.exec(f=f.toLowerCase()))switch(Ae=Re[2].split(","),Re[1]){case"hsl":return V(parseFloat(Ae[0]),parseFloat(Ae[1])/100,parseFloat(Ae[2])/100);case"rgb":return R(Mn(Ae[0]),Mn(Ae[1]),Mn(Ae[2]))}return(Ue=Wt.get(f))?R(Ue.r,Ue.g,Ue.b):(null!=f&&"#"===f.charAt(0)&&!isNaN(Ue=parseInt(f.slice(1),16))&&(4===f.length?(ae=(3840&Ue)>>4,ae|=ae>>4,fe=240&Ue,fe|=fe>>4,me=15&Ue,me|=me<<4):7===f.length&&(ae=(16711680&Ue)>>16,fe=(65280&Ue)>>8,me=255&Ue)),R(ae,fe,me))}function qt(f,R,V){var Re,Ae,ae=Math.min(f/=255,R/=255,V/=255),fe=Math.max(f,R,V),me=fe-ae,Ue=(fe+ae)/2;return me?(Ae=Ue<.5?me/(fe+ae):me/(2-fe-ae),Re=f==fe?(R-V)/me+(R<V?6:0):R==fe?(V-f)/me+2:(f-R)/me+4,Re*=60):(Re=NaN,Ae=Ue>0&&Ue<1?0:Re),new Yn(Re,Ae,Ue)}function hn(f,R,V){var ae=at((.4124564*(f=Vt(f))+.3575761*(R=Vt(R))+.1804375*(V=Vt(V)))/hr),fe=at((.2126729*f+.7151522*R+.072175*V)/rr);return ir(116*fe-16,500*(ae-fe),200*(fe-at((.0193339*f+.119192*R+.9503041*V)/bn)))}function Vt(f){return(f/=255)<=.04045?f/12.92:Math.pow((f+.055)/1.055,2.4)}function Mn(f){var R=parseFloat(f);return"%"===f.charAt(f.length-1)?Math.round(2.55*R):R}Et.brighter=function(f){f=Math.pow(.7,arguments.length?f:1);var R=this.r,V=this.g,ae=this.b;return R||V||ae?(R&&R<30&&(R=30),V&&V<30&&(V=30),ae&&ae<30&&(ae=30),new ot(Math.min(255,R/f),Math.min(255,V/f),Math.min(255,ae/f))):new ot(30,30,30)},Et.darker=function(f){return new ot((f=Math.pow(.7,arguments.length?f:1))*this.r,f*this.g,f*this.b)},Et.hsl=function(){return qt(this.r,this.g,this.b)},Et.toString=function(){return"#"+Nt(this.r)+Nt(this.g)+Nt(this.b)};var Wt=h.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function wn(f){return"function"==typeof f?f:function(){return f}}function Tn(f){return function(R,V,ae){return 2===arguments.length&&"function"==typeof V&&(ae=V,V=null),jn(R,V,f,ae)}}function jn(f,R,V,ae){var fe={},me=h.dispatch("beforesend","progress","load","error"),Re={},Ae=new XMLHttpRequest,Ue=null;function et(){var wt,tt=Ae.status;if(!tt&&function Cr(f){var R=f.responseType;return R&&"text"!==R?f.response:f.responseText}(Ae)||tt>=200&&tt<300||304===tt){try{wt=V.call(fe,Ae)}catch(_t){return void me.error.call(fe,_t)}me.load.call(fe,wt)}else me.error.call(fe,Ae)}return self.XDomainRequest&&!("withCredentials"in Ae)&&/^(http(s)?:)?\/\//.test(f)&&(Ae=new XDomainRequest),"onload"in Ae?Ae.onload=Ae.onerror=et:Ae.onreadystatechange=function(){Ae.readyState>3&&et()},Ae.onprogress=function(tt){var wt=h.event;h.event=tt;try{me.progress.call(fe,Ae)}finally{h.event=wt}},fe.header=function(tt,wt){return tt=(tt+"").toLowerCase(),arguments.length<2?Re[tt]:(null==wt?delete Re[tt]:Re[tt]=wt+"",fe)},fe.mimeType=function(tt){return arguments.length?(R=null==tt?null:tt+"",fe):R},fe.responseType=function(tt){return arguments.length?(Ue=tt,fe):Ue},fe.response=function(tt){return V=tt,fe},["get","post"].forEach(function(tt){fe[tt]=function(){return fe.send.apply(fe,[tt].concat(d(arguments)))}}),fe.send=function(tt,wt,_t){if(2===arguments.length&&"function"==typeof wt&&(_t=wt,wt=null),Ae.open(tt,f,!0),null!=R&&!("accept"in Re)&&(Re.accept=R+",*/*"),Ae.setRequestHeader)for(var Kt in Re)Ae.setRequestHeader(Kt,Re[Kt]);return null!=R&&Ae.overrideMimeType&&Ae.overrideMimeType(R),null!=Ue&&(Ae.responseType=Ue),null!=_t&&fe.on("error",_t).on("load",function(Xt){_t(null,Xt)}),me.beforesend.call(fe,Ae),Ae.send(wt??null),fe},fe.abort=function(){return Ae.abort(),fe},h.rebind(fe,me,"on"),null==ae?fe:fe.get(function or(f){return 1===f.length?function(R,V){f(null==R?V:null)}:f}(ae))}Wt.forEach(function(f,R){Wt.set(f,St(R))}),h.functor=wn,h.xhr=Tn(K),h.dsv=function(f,R){var V=new RegExp('["'+f+"\n]"),ae=f.charCodeAt(0);function fe(et,tt,wt){arguments.length<3&&(wt=tt,tt=null);var _t=jn(et,R,null==tt?me:Re(tt),wt);return _t.row=function(Kt){return arguments.length?_t.response(null==(tt=Kt)?me:Re(Kt)):tt},_t}function me(et){return fe.parse(et.responseText)}function Re(et){return function(tt){return fe.parse(tt.responseText,et)}}function Ae(et){return et.map(Ue).join(f)}function Ue(et){return V.test(et)?'"'+et.replace(/\"/g,'""')+'"':et}return fe.parse=function(et,tt){var wt;return fe.parseRows(et,function(_t,Kt){if(wt)return wt(_t,Kt-1);var Xt=function(Tt){for(var Rt={},Ht=_t.length,Ut=0;Ut<Ht;++Ut)Rt[_t[Ut]]=Tt[Ut];return Rt};wt=tt?function(Tt,Rt){return tt(Xt(Tt),Rt)}:Xt})},fe.parseRows=function(et,tt){var Ht,Ut,wt={},_t={},Kt=[],Xt=et.length,Tt=0,Rt=0;function tn(){if(Tt>=Xt)return _t;if(Ut)return Ut=!1,wt;var Ln=Tt;if(34===et.charCodeAt(Ln)){for(var nr=Ln;nr++<Xt;)if(34===et.charCodeAt(nr)){if(34!==et.charCodeAt(nr+1))break;++nr}return Tt=nr+2,13===(sr=et.charCodeAt(nr+1))?(Ut=!0,10===et.charCodeAt(nr+2)&&++Tt):10===sr&&(Ut=!0),et.slice(Ln+1,nr).replace(/""/g,'"')}for(;Tt<Xt;){var sr,ar=1;if(10===(sr=et.charCodeAt(Tt++)))Ut=!0;else if(13===sr)Ut=!0,10===et.charCodeAt(Tt)&&(++Tt,++ar);else if(sr!==ae)continue;return et.slice(Ln,Tt-ar)}return et.slice(Ln)}for(;(Ht=tn())!==_t;){for(var jt=[];Ht!==wt&&Ht!==_t;)jt.push(Ht),Ht=tn();tt&&null==(jt=tt(jt,Rt++))||Kt.push(jt)}return Kt},fe.format=function(et){if(Array.isArray(et[0]))return fe.formatRows(et);var tt=new W,wt=[];return et.forEach(function(_t){for(var Kt in _t)tt.has(Kt)||wt.push(tt.add(Kt))}),[wt.map(Ue).join(f)].concat(et.map(function(_t){return wt.map(function(Kt){return Ue(_t[Kt])}).join(f)})).join("\n")},fe.formatRows=function(et){return et.map(Ae).join("\n")},fe},h.csv=h.dsv(",","text/csv"),h.tsv=h.dsv("\t","text/tab-separated-values");var nn,si,pr,$r,na=this[ie(this,"requestAnimationFrame")]||function(f){setTimeout(f,17)};function ka(f,R,V){var ae=arguments.length;ae<2&&(R=0),ae<3&&(V=Date.now());var me={c:f,t:V+R,n:null};return si?si.n=me:nn=me,si=me,pr||($r=clearTimeout($r),pr=1,na(oi)),me}function oi(){var f=Ci(),R=li()-f;R>24?(isFinite(R)&&(clearTimeout($r),$r=setTimeout(oi,R)),pr=0):(pr=1,na(oi))}function Ci(){for(var f=Date.now(),R=nn;R;)f>=R.t&&R.c(f-R.t)&&(R.c=null),R=R.n;return f}function li(){for(var f,R=nn,V=1/0;R;)R.c?(R.t<V&&(V=R.t),R=(f=R).n):R=f?f.n=R.n:nn=R.n;return si=f,V}function br(f){return f[0]}function Fi(f){return f[1]}function ui(f){for(var R=f.length,V=[0,1],ae=2,fe=2;fe<R;fe++){for(;ae>1&&Je(f[V[ae-2]],f[V[ae-1]],f[fe])<=0;)--ae;V[ae++]=fe}return V.slice(0,ae)}function kn(f,R){return f[0]-R[0]||f[1]-R[1]}h.timer=function(){ka.apply(this,arguments)},h.timer.flush=function(){Ci(),li()},h.round=function(f,R){return R?Math.round(f*(R=Math.pow(10,R)))/R:Math.round(f)},h.geom={},h.geom.hull=function(f){var R=br,V=Fi;if(arguments.length)return ae(f);function ae(fe){if(fe.length<3)return[];var Ae,me=wn(R),Re=wn(V),Ue=fe.length,et=[],tt=[];for(Ae=0;Ae<Ue;Ae++)et.push([+me.call(this,fe[Ae],Ae),+Re.call(this,fe[Ae],Ae),Ae]);for(et.sort(kn),Ae=0;Ae<Ue;Ae++)tt.push([et[Ae][0],-et[Ae][1]]);var wt=ui(et),_t=ui(tt),Kt=_t[0]===wt[0],Xt=_t[_t.length-1]===wt[wt.length-1],Tt=[];for(Ae=wt.length-1;Ae>=0;--Ae)Tt.push(fe[et[wt[Ae]][2]]);for(Ae=+Kt;Ae<_t.length-Xt;++Ae)Tt.push(fe[et[_t[Ae]][2]]);return Tt}return ae.x=function(fe){return arguments.length?(R=fe,ae):R},ae.y=function(fe){return arguments.length?(V=fe,ae):V},ae},h.geom.polygon=function(f){return ye(f,yr),f};var yr=h.geom.polygon.prototype=[];function ur(f,R,V){return(V[0]-R[0])*(f[1]-R[1])<(V[1]-R[1])*(f[0]-R[0])}function Hr(f,R,V,ae){var fe=f[0],me=V[0],Re=R[0]-fe,Ae=ae[0]-me,Ue=f[1],et=V[1],tt=R[1]-Ue,wt=ae[1]-et,_t=(Ae*(Ue-et)-wt*(fe-me))/(wt*Re-Ae*tt);return[fe+_t*Re,Ue+_t*tt]}function xi(f){var R=f[0],V=f[f.length-1];return!(R[0]-V[0]||R[1]-V[1])}yr.area=function(){for(var V,f=-1,R=this.length,ae=this[R-1],fe=0;++f<R;)fe+=(V=ae)[1]*(ae=this[f])[0]-V[0]*ae[1];return.5*fe},yr.centroid=function(f){var me,Ae,R=-1,V=this.length,ae=0,fe=0,Re=this[V-1];for(arguments.length||(f=-1/(6*this.area()));++R<V;)ae+=((me=Re)[0]+(Re=this[R])[0])*(Ae=me[0]*Re[1]-Re[0]*me[1]),fe+=(me[1]+Re[1])*Ae;return[ae*f,fe*f]},yr.clip=function(f){for(var R,me,Re,Ue,et,tt,V=xi(f),ae=-1,fe=this.length-xi(this),Ae=this[fe-1];++ae<fe;){for(R=f.slice(),f.length=0,Ue=this[ae],et=R[(Re=R.length-V)-1],me=-1;++me<Re;)ur(tt=R[me],Ae,Ue)?(ur(et,Ae,Ue)||f.push(Hr(et,tt,Ae,Ue)),f.push(tt)):ur(et,Ae,Ue)&&f.push(Hr(et,tt,Ae,Ue)),et=tt;V&&f.push(f[0]),Ae=Ue}return f};var Vi,Si,zi,ki,Zi,ya=[],mi=[];function qr(){ro(this),this.edge=this.site=this.circle=null}function da(f){var R=ya.pop()||new qr;return R.site=f,R}function Ua(f){Ki(f),zi.remove(f),ya.push(f),ro(f)}function ls(f){var R=f.circle,V=R.x,ae=R.cy,fe={x:V,y:ae},me=f.P,Re=f.N,Ae=[f];Ua(f);for(var Ue=me;Ue.circle&&b(V-Ue.circle.x)<ke&&b(ae-Ue.circle.cy)<ke;)me=Ue.P,Ae.unshift(Ue),Ua(Ue),Ue=me;Ae.unshift(Ue),Ki(Ue);for(var et=Re;et.circle&&b(V-et.circle.x)<ke&&b(ae-et.circle.cy)<ke;)Re=et.N,Ae.push(et),Ua(et),et=Re;Ae.push(et),Ki(et);var wt,tt=Ae.length;for(wt=1;wt<tt;++wt)Ii((et=Ae[wt]).edge,(Ue=Ae[wt-1]).site,et.site,fe);(et=Ae[tt-1]).edge=F1((Ue=Ae[0]).site,et.site,null,fe),ei(Ue),ei(et)}function Ei(f){for(var ae,fe,me,Re,R=f.x,V=f.y,Ae=zi._;Ae;)if((me=ba(Ae,V)-R)>ke)Ae=Ae.L;else{if(!((Re=R-oa(Ae,V))>ke)){me>-ke?(ae=Ae.P,fe=Ae):Re>-ke?(ae=Ae,fe=Ae.N):ae=fe=Ae;break}if(!Ae.R){ae=Ae;break}Ae=Ae.R}var Ue=da(f);if(zi.insert(ae,Ue),ae||fe){if(ae===fe)return Ki(ae),fe=da(ae.site),zi.insert(Ue,fe),Ue.edge=fe.edge=F1(ae.site,Ue.site),ei(ae),void ei(fe);if(!fe)return void(Ue.edge=F1(ae.site,Ue.site));Ki(ae),Ki(fe);var et=ae.site,tt=et.x,wt=et.y,_t=f.x-tt,Kt=f.y-wt,Xt=fe.site,Tt=Xt.x-tt,Rt=Xt.y-wt,Ht=2*(_t*Rt-Kt*Tt),Ut=_t*_t+Kt*Kt,tn=Tt*Tt+Rt*Rt,jt={x:(Rt*Ut-Kt*tn)/Ht+tt,y:(_t*tn-Tt*Ut)/Ht+wt};Ii(fe.edge,et,Xt,jt),Ue.edge=F1(et,f,null,jt),fe.edge=F1(f,Xt,null,jt),ei(ae),ei(fe)}}function ba(f,R){var V=f.site,ae=V.x,fe=V.y,me=fe-R;if(!me)return ae;var Re=f.P;if(!Re)return-1/0;var Ae=(V=Re.site).x,Ue=V.y,et=Ue-R;if(!et)return Ae;var tt=Ae-ae,wt=1/me-1/et,_t=tt/et;return wt?(-_t+Math.sqrt(_t*_t-2*wt*(tt*tt/(-2*et)-Ue+et/2+fe-me/2)))/wt+ae:(ae+Ae)/2}function oa(f,R){var V=f.N;if(V)return ba(V,R);var ae=f.site;return ae.y===R?ae.x:1/0}function zr(f){this.site=f,this.edges=[]}function ca(f,R){return R.angle-f.angle}function Rs(){ro(this),this.x=this.y=this.arc=this.site=this.cy=null}function ei(f){var R=f.P,V=f.N;if(R&&V){var ae=R.site,fe=f.site,me=V.site;if(ae!==me){var Re=fe.x,Ae=fe.y,Ue=ae.x-Re,et=ae.y-Ae,tt=me.x-Re,wt=2*(Ue*(Rt=me.y-Ae)-et*tt);if(!(wt>=-Xe)){var _t=Ue*Ue+et*et,Kt=tt*tt+Rt*Rt,Xt=(Rt*_t-et*Kt)/wt,Tt=(Ue*Kt-tt*_t)/wt,Rt=Tt+Ae,Ht=mi.pop()||new Rs;Ht.arc=f,Ht.site=fe,Ht.x=Xt+Re,Ht.y=Rt+Math.sqrt(Xt*Xt+Tt*Tt),Ht.cy=Rt,f.circle=Ht;for(var Ut=null,tn=Zi._;tn;)if(Ht.y<tn.y||Ht.y===tn.y&&Ht.x<=tn.x){if(!tn.L){Ut=tn.P;break}tn=tn.L}else{if(!tn.R){Ut=tn;break}tn=tn.R}Zi.insert(Ut,Ht),Ut||(ki=Ht)}}}}function Ki(f){var R=f.circle;R&&(R.P||(ki=R.N),Zi.remove(R),mi.push(R),ro(R),f.circle=null)}function Vr(f,R){var V=f.b;if(V)return!0;var Rt,Ht,ae=f.a,fe=R[0][0],me=R[1][0],Re=R[0][1],Ae=R[1][1],Ue=f.l,et=f.r,tt=Ue.x,wt=Ue.y,_t=et.x,Kt=et.y,Xt=(tt+_t)/2;if(Kt===wt){if(Xt<fe||Xt>=me)return;if(tt>_t){if(ae){if(ae.y>=Ae)return}else ae={x:Xt,y:Re};V={x:Xt,y:Ae}}else{if(ae){if(ae.y<Re)return}else ae={x:Xt,y:Ae};V={x:Xt,y:Re}}}else if(Ht=(wt+Kt)/2-(Rt=(tt-_t)/(Kt-wt))*Xt,Rt<-1||Rt>1)if(tt>_t){if(ae){if(ae.y>=Ae)return}else ae={x:(Re-Ht)/Rt,y:Re};V={x:(Ae-Ht)/Rt,y:Ae}}else{if(ae){if(ae.y<Re)return}else ae={x:(Ae-Ht)/Rt,y:Ae};V={x:(Re-Ht)/Rt,y:Re}}else if(wt<Kt){if(ae){if(ae.x>=me)return}else ae={x:fe,y:Rt*fe+Ht};V={x:me,y:Rt*me+Ht}}else{if(ae){if(ae.x<fe)return}else ae={x:me,y:Rt*me+Ht};V={x:fe,y:Rt*fe+Ht}}return f.a=ae,f.b=V,!0}function gs(f,R){this.l=f,this.r=R,this.a=this.b=null}function F1(f,R,V,ae){var fe=new gs(f,R);return Vi.push(fe),V&&Ii(fe,f,R,V),ae&&Ii(fe,R,f,ae),Si[f.i].edges.push(new w1(fe,f,R)),Si[R.i].edges.push(new w1(fe,R,f)),fe}function qa(f,R,V){var ae=new gs(f,null);return ae.a=R,ae.b=V,Vi.push(ae),ae}function Ii(f,R,V,ae){f.a||f.b?f.l===V?f.b=ae:f.a=ae:(f.a=ae,f.l=R,f.r=V)}function w1(f,R,V){var ae=f.a,fe=f.b;this.edge=f,this.site=R,this.angle=V?Math.atan2(V.y-R.y,V.x-R.x):f.l===R?Math.atan2(fe.x-ae.x,ae.y-fe.y):Math.atan2(ae.x-fe.x,fe.y-ae.y)}function H2(){this._=null}function ro(f){f.U=f.C=f.L=f.R=f.P=f.N=null}function O1(f,R){var V=R,ae=R.R,fe=V.U;fe?fe.L===V?fe.L=ae:fe.R=ae:f._=ae,ae.U=fe,V.U=ae,V.R=ae.L,V.R&&(V.R.U=V),ae.L=V}function io(f,R){var V=R,ae=R.L,fe=V.U;fe?fe.L===V?fe.L=ae:fe.R=ae:f._=ae,ae.U=fe,V.U=ae,V.L=ae.R,V.L&&(V.L.U=V),ae.R=V}function A4(f){for(;f.L;)f=f.L;return f}function n3(f,R){var ae,fe,me,V=f.sort(z4).pop();for(Vi=[],Si=new Array(f.length),zi=new H2,Zi=new H2;;)if(me=ki,V&&(!me||V.y<me.y||V.y===me.y&&V.x<me.x))(V.x!==ae||V.y!==fe)&&(Si[V.i]=new zr(V),Ei(V),ae=V.x,fe=V.y),V=f.pop();else{if(!me)break;ls(me.arc)}R&&(function Ni(f){for(var fe,R=Vi,V=function Er(f,R,V,ae){return function(fe){var Tt,me=fe.a,Re=fe.b,Ae=me.x,Ue=me.y,wt=0,_t=1,Kt=Re.x-Ae,Xt=Re.y-Ue;if(Tt=f-Ae,Kt||!(Tt>0)){if(Tt/=Kt,Kt<0){if(Tt<wt)return;Tt<_t&&(_t=Tt)}else if(Kt>0){if(Tt>_t)return;Tt>wt&&(wt=Tt)}if(Tt=V-Ae,Kt||!(Tt<0)){if(Tt/=Kt,Kt<0){if(Tt>_t)return;Tt>wt&&(wt=Tt)}else if(Kt>0){if(Tt<wt)return;Tt<_t&&(_t=Tt)}if(Tt=R-Ue,Xt||!(Tt>0)){if(Tt/=Xt,Xt<0){if(Tt<wt)return;Tt<_t&&(_t=Tt)}else if(Xt>0){if(Tt>_t)return;Tt>wt&&(wt=Tt)}if(Tt=ae-Ue,Xt||!(Tt<0)){if(Tt/=Xt,Xt<0){if(Tt>_t)return;Tt>wt&&(wt=Tt)}else if(Xt>0){if(Tt<wt)return;Tt<_t&&(_t=Tt)}return wt>0&&(fe.a={x:Ae+wt*Kt,y:Ue+wt*Xt}),_t<1&&(fe.b={x:Ae+_t*Kt,y:Ue+_t*Xt}),fe}}}}}}(f[0][0],f[0][1],f[1][0],f[1][1]),ae=R.length;ae--;)(!Vr(fe=R[ae],f)||!V(fe)||b(fe.a.x-fe.b.x)<ke&&b(fe.a.y-fe.b.y)<ke)&&(fe.a=fe.b=null,R.splice(ae,1))}(R),function Yr(f){for(var me,Re,Ae,Ue,wt,_t,Kt,Xt,Tt,Rt,R=f[0][0],V=f[1][0],ae=f[0][1],fe=f[1][1],et=Si,tt=et.length;tt--;)if((wt=et[tt])&&wt.prepare())for(Xt=(Kt=wt.edges).length,_t=0;_t<Xt;)Ae=(Rt=Kt[_t].end()).x,Ue=Rt.y,Re=(Tt=Kt[++_t%Xt].start()).y,(b(Ae-(me=Tt.x))>ke||b(Ue-Re)>ke)&&(Kt.splice(_t,0,new w1(qa(wt.site,Rt,b(Ae-R)<ke&&fe-Ue>ke?{x:R,y:b(me-R)<ke?Re:fe}:b(Ue-fe)<ke&&V-Ae>ke?{x:b(Re-fe)<ke?me:V,y:fe}:b(Ae-V)<ke&&Ue-ae>ke?{x:V,y:b(me-V)<ke?Re:ae}:b(Ue-ae)<ke&&Ae-R>ke?{x:b(Re-ae)<ke?me:R,y:ae}:null),wt.site,null)),++Xt)}(R));var Re={cells:Si,edges:Vi};return zi=Zi=Vi=Si=null,Re}function z4(f,R){return R.y-f.y||R.x-f.x}zr.prototype.prepare=function(){for(var V,f=this.edges,R=f.length;R--;)(!(V=f[R].edge).b||!V.a)&&f.splice(R,1);return f.sort(ca),f.length},w1.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},H2.prototype={insert:function(f,R){var V,ae,fe;if(f){if(R.P=f,R.N=f.N,f.N&&(f.N.P=R),f.N=R,f.R){for(f=f.R;f.L;)f=f.L;f.L=R}else f.R=R;V=f}else this._?(f=A4(this._),R.P=null,R.N=f,f.P=f.L=R,V=f):(R.P=R.N=null,this._=R,V=null);for(R.L=R.R=null,R.U=V,R.C=!0,f=R;V&&V.C;)V===(ae=V.U).L?(fe=ae.R)&&fe.C?(V.C=fe.C=!1,ae.C=!0,f=ae):(f===V.R&&(O1(this,V),V=(f=V).U),V.C=!1,ae.C=!0,io(this,ae)):(fe=ae.L)&&fe.C?(V.C=fe.C=!1,ae.C=!0,f=ae):(f===V.L&&(io(this,V),V=(f=V).U),V.C=!1,ae.C=!0,O1(this,ae)),V=f.U;this._.C=!1},remove:function(f){f.N&&(f.N.P=f.P),f.P&&(f.P.N=f.N),f.N=f.P=null;var V,me,Re,R=f.U,ae=f.L,fe=f.R;if(me=ae?fe?A4(fe):ae:fe,R?R.L===f?R.L=me:R.R=me:this._=me,ae&&fe?(Re=me.C,me.C=f.C,me.L=ae,ae.U=me,me!==fe?(R=me.U,me.U=f.U,R.L=f=me.R,me.R=fe,fe.U=me):(me.U=R,R=me,f=me.R)):(Re=f.C,f=me),f&&(f.U=R),!Re){if(f&&f.C)return void(f.C=!1);do{if(f===this._)break;if(f===R.L){if((V=R.R).C&&(V.C=!1,R.C=!0,O1(this,R),V=R.R),V.L&&V.L.C||V.R&&V.R.C){(!V.R||!V.R.C)&&(V.L.C=!1,V.C=!0,io(this,V),V=R.R),V.C=R.C,R.C=V.R.C=!1,O1(this,R),f=this._;break}}else if((V=R.L).C&&(V.C=!1,R.C=!0,io(this,R),V=R.L),V.L&&V.L.C||V.R&&V.R.C){(!V.L||!V.L.C)&&(V.R.C=!1,V.C=!0,O1(this,V),V=R.L),V.C=R.C,R.C=V.L.C=!1,io(this,R),f=this._;break}V.C=!0,f=R,R=R.U}while(!f.C);f&&(f.C=!1)}}},h.geom.voronoi=function(f){var R=br,V=Fi,ae=R,fe=V,me=g2;if(f)return Re(f);function Re(Ue){var et=new Array(Ue.length),tt=me[0][0],wt=me[0][1],_t=me[1][0],Kt=me[1][1];return n3(Ae(Ue),me).cells.forEach(function(Xt,Tt){var Rt=Xt.edges,Ht=Xt.site;(et[Tt]=Rt.length?Rt.map(function(tn){var jt=tn.start();return[jt.x,jt.y]}):Ht.x>=tt&&Ht.x<=_t&&Ht.y>=wt&&Ht.y<=Kt?[[tt,Kt],[_t,Kt],[_t,wt],[tt,wt]]:[]).point=Ue[Tt]}),et}function Ae(Ue){return Ue.map(function(et,tt){return{x:Math.round(ae(et,tt)/ke)*ke,y:Math.round(fe(et,tt)/ke)*ke,i:tt}})}return Re.links=function(Ue){return n3(Ae(Ue)).edges.filter(function(et){return et.l&&et.r}).map(function(et){return{source:Ue[et.l.i],target:Ue[et.r.i]}})},Re.triangles=function(Ue){var et=[];return n3(Ae(Ue)).cells.forEach(function(tt,wt){for(var Ht,_t=tt.site,Kt=tt.edges.sort(ca),Xt=-1,Tt=Kt.length,Ut=Kt[Tt-1].edge,tn=Ut.l===_t?Ut.r:Ut.l;++Xt<Tt;)Ht=tn,tn=(Ut=Kt[Xt].edge).l===_t?Ut.r:Ut.l,wt<Ht.i&&wt<tn.i&&ao(_t,Ht,tn)<0&&et.push([Ue[wt],Ue[Ht.i],Ue[tn.i]])}),et},Re.x=function(Ue){return arguments.length?(ae=wn(R=Ue),Re):R},Re.y=function(Ue){return arguments.length?(fe=wn(V=Ue),Re):V},Re.clipExtent=function(Ue){return arguments.length?(me=Ue??g2,Re):me===g2?null:me},Re.size=function(Ue){return arguments.length?Re.clipExtent(Ue&&[[0,0],Ue]):me===g2?null:me&&me[1]},Re};var g2=[[-1e6,-1e6],[1e6,1e6]];function ao(f,R,V){return(f.x-V.x)*(R.y-f.y)-(f.x-R.x)*(V.y-f.y)}function Zu(f){return f.x}function Uo(f){return f.y}function gn(f,R,V,ae,fe,me){if(!f(R,V,ae,fe,me)){var Re=.5*(V+fe),Ae=.5*(ae+me),Ue=R.nodes;Ue[0]&&gn(f,Ue[0],V,ae,Re,Ae),Ue[1]&&gn(f,Ue[1],Re,ae,fe,Ae),Ue[2]&&gn(f,Ue[2],V,Ae,Re,me),Ue[3]&&gn(f,Ue[3],Re,Ae,fe,me)}}function Xn(f,R){f=h.rgb(f),R=h.rgb(R);var V=f.r,ae=f.g,fe=f.b,me=R.r-V,Re=R.g-ae,Ae=R.b-fe;return function(Ue){return"#"+Nt(Math.round(V+me*Ue))+Nt(Math.round(ae+Re*Ue))+Nt(Math.round(fe+Ae*Ue))}}function ol(f,R){var fe,V={},ae={};for(fe in f)fe in R?V[fe]=us(f[fe],R[fe]):ae[fe]=f[fe];for(fe in R)fe in f||(ae[fe]=R[fe]);return function(me){for(fe in V)ae[fe]=V[fe](me);return ae}}function _1(f,R){return f=+f,R=+R,function(V){return f*(1-V)+R*V}}function y2(f,R){var ae,fe,me,V=i3.lastIndex=Xl.lastIndex=0,Re=-1,Ae=[],Ue=[];for(f+="",R+="";(ae=i3.exec(f))&&(fe=Xl.exec(R));)(me=fe.index)>V&&(me=R.slice(V,me),Ae[Re]?Ae[Re]+=me:Ae[++Re]=me),(ae=ae[0])===(fe=fe[0])?Ae[Re]?Ae[Re]+=fe:Ae[++Re]=fe:(Ae[++Re]=null,Ue.push({i:Re,x:_1(ae,fe)})),V=Xl.lastIndex;return V<R.length&&(me=R.slice(V),Ae[Re]?Ae[Re]+=me:Ae[++Re]=me),Ae.length<2?Ue[0]?(R=Ue[0].x,function(et){return R(et)+""}):function(){return R}:(R=Ue.length,function(et){for(var wt,tt=0;tt<R;++tt)Ae[(wt=Ue[tt]).i]=wt.x(et);return Ae.join("")})}h.geom.delaunay=function(f){return h.geom.voronoi().triangles(f)},h.geom.quadtree=function(f,R,V,ae,fe){var Ae,me=br,Re=Fi;if(Ae=arguments.length)return me=Zu,Re=Uo,3===Ae&&(fe=V,ae=R,V=R=0),Ue(f);function Ue(et){var tt,Kt,Xt,Tt,Rt,Ht,Ut,tn,jt,wt=wn(me),_t=wn(Re);if(null!=R)Ht=R,Ut=V,tn=ae,jt=fe;else if(tn=jt=-(Ht=Ut=1/0),Kt=[],Xt=[],Rt=et.length,Ae)for(Tt=0;Tt<Rt;++Tt)(tt=et[Tt]).x<Ht&&(Ht=tt.x),tt.y<Ut&&(Ut=tt.y),tt.x>tn&&(tn=tt.x),tt.y>jt&&(jt=tt.y),Kt.push(tt.x),Xt.push(tt.y);else for(Tt=0;Tt<Rt;++Tt){var Ln=+wt(tt=et[Tt],Tt),nr=+_t(tt,Tt);Ln<Ht&&(Ht=Ln),nr<Ut&&(Ut=nr),Ln>tn&&(tn=Ln),nr>jt&&(jt=nr),Kt.push(Ln),Xt.push(nr)}var sr=tn-Ht,ar=jt-Ut;function qn(dr,Mr,fi,vi,ti,Kn,wr,er){if(!isNaN(fi)&&!isNaN(vi))if(dr.leaf){var gi=dr.x,ia=dr.y;if(null!=gi)if(b(gi-fi)+b(ia-vi)<.01)fr(dr,Mr,fi,vi,ti,Kn,wr,er);else{var Ra=dr.point;dr.x=dr.y=dr.point=null,fr(dr,Ra,gi,ia,ti,Kn,wr,er),fr(dr,Mr,fi,vi,ti,Kn,wr,er)}else dr.x=fi,dr.y=vi,dr.point=Mr}else fr(dr,Mr,fi,vi,ti,Kn,wr,er)}function fr(dr,Mr,fi,vi,ti,Kn,wr,er){var gi=.5*(ti+wr),ia=.5*(Kn+er),Ra=fi>=gi,rs=vi>=ia,ys=rs<<1|Ra;dr.leaf=!1,Ra?ti=gi:wr=gi,rs?Kn=ia:er=ia,qn(dr=dr.nodes[ys]||(dr.nodes[ys]={leaf:!0,nodes:[],point:null,x:null,y:null}),Mr,fi,vi,ti,Kn,wr,er)}sr>ar?jt=Ut+sr:tn=Ht+ar;var kr={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(dr){qn(kr,dr,+wt(dr,++Tt),+_t(dr,Tt),Ht,Ut,tn,jt)}};if(kr.visit=function(dr){gn(dr,kr,Ht,Ut,tn,jt)},kr.find=function(dr){return function Zl(f,R,V,ae,fe,me,Re){var Ue,Ae=1/0;return function et(tt,wt,_t,Kt,Xt){if(!(wt>me||_t>Re||Kt<ae||Xt<fe)){if(Tt=tt.point){var Tt,Rt=R-tt.x,Ht=V-tt.y,Ut=Rt*Rt+Ht*Ht;if(Ut<Ae){var tn=Math.sqrt(Ae=Ut);ae=R-tn,fe=V-tn,me=R+tn,Re=V+tn,Ue=Tt}}for(var jt=tt.nodes,Ln=.5*(wt+Kt),nr=.5*(_t+Xt),qn=(V>=nr)<<1|R>=Ln,fr=qn+4;qn<fr;++qn)if(tt=jt[3&qn])switch(3&qn){case 0:et(tt,wt,_t,Ln,nr);break;case 1:et(tt,Ln,_t,Kt,nr);break;case 2:et(tt,wt,nr,Ln,Xt);break;case 3:et(tt,Ln,nr,Kt,Xt)}}}(f,ae,fe,me,Re),Ue}(kr,dr[0],dr[1],Ht,Ut,tn,jt)},Tt=-1,null==R){for(;++Tt<Rt;)qn(kr,et[Tt],Kt[Tt],Xt[Tt],Ht,Ut,tn,jt);--Tt}else et.forEach(kr.add);return Kt=Xt=et=tt=null,kr}return Ue.x=function(et){return arguments.length?(me=et,Ue):me},Ue.y=function(et){return arguments.length?(Re=et,Ue):Re},Ue.extent=function(et){return arguments.length?(null==et?R=V=ae=fe=null:(R=+et[0][0],V=+et[0][1],ae=+et[1][0],fe=+et[1][1]),Ue):null==R?null:[[R,V],[ae,fe]]},Ue.size=function(et){return arguments.length?(null==et?R=V=ae=fe=null:(R=V=0,ae=+et[0],fe=+et[1]),Ue):null==R?null:[ae-R,fe-V]},Ue},h.interpolateRgb=Xn,h.interpolateObject=ol,h.interpolateNumber=_1,h.interpolateString=y2;var i3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xl=new RegExp(i3.source,"g");function us(f,R){for(var ae,V=h.interpolators.length;--V>=0&&!(ae=h.interpolators[V](f,R)););return ae}function Cc(f,R){var Ae,V=[],ae=[],fe=f.length,me=R.length,Re=Math.min(f.length,R.length);for(Ae=0;Ae<Re;++Ae)V.push(us(f[Ae],R[Ae]));for(;Ae<fe;++Ae)ae[Ae]=f[Ae];for(;Ae<me;++Ae)ae[Ae]=R[Ae];return function(Ue){for(Ae=0;Ae<Re;++Ae)ae[Ae]=V[Ae](Ue);return ae}}h.interpolate=us,h.interpolators=[function(f,R){var V=typeof R;return("string"===V?Wt.has(R.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(R)?Xn:y2:R instanceof Zn?Xn:Array.isArray(R)?Cc:"object"===V&&isNaN(R)?ol:_1)(f,R)}],h.interpolateArray=Cc;var Go=function(){return K},k4=h.map({linear:Go,poly:function Kl(f){return function(R){return Math.pow(R,f)}},quad:function(){return d1},cubic:function(){return xc},sin:function(){return Ql},exp:function(){return ll},circle:function(){return Ku},elastic:function $o(f,R){var V;return arguments.length<2&&(R=.45),arguments.length?V=R/_e*Math.asin(1/f):(f=1,V=R/4),function(ae){return 1+f*Math.pow(2,-10*ae)*Math.sin((ae-V)*_e/R)}},back:function a3(f){return f||(f=1.70158),function(R){return R*R*((f+1)*R-f)}},bounce:function(){return L1}}),cl=h.map({in:K,out:b2,"in-out":E4,"out-in":function(f){return E4(b2(f))}});function b2(f){return function(R){return 1-f(1-R)}}function E4(f){return function(R){return.5*(R<.5?f(2*R):2-f(2-2*R))}}function d1(f){return f*f}function xc(f){return f*f*f}function V2(f){if(f<=0)return 0;if(f>=1)return 1;var R=f*f,V=R*f;return 4*(f<.5?V:3*(f-R)+V-.75)}function Ql(f){return 1-Math.cos(f*We)}function ll(f){return Math.pow(2,10*(f-1))}function Ku(f){return 1-Math.sqrt(1-f*f)}function L1(f){return f<.36363636363636365?7.5625*f*f:f<.7272727272727273?7.5625*(f-=.5454545454545454)*f+.75:f<.9090909090909091?7.5625*(f-=.8181818181818182)*f+.9375:7.5625*(f-=.9545454545454546)*f+.984375}function S1(f,R){return R-=f,function(V){return Math.round(f+R*V)}}function B1(f){var R=[f.a,f.b],V=[f.c,f.d],ae=C2(R),fe=Pi(R,V),me=C2(function N4(f,R,V){return f[0]+=V*R[0],f[1]+=V*R[1],f}(V,R,-fe))||0;R[0]*V[1]<V[0]*R[1]&&(R[0]*=-1,R[1]*=-1,ae*=-1,fe*=-1),this.rotate=(ae?Math.atan2(R[1],R[0]):Math.atan2(-V[0],V[1]))*nt,this.translate=[f.e,f.f],this.scale=[ae,me],this.skew=me?Math.atan2(fe,me)*nt:0}function Pi(f,R){return f[0]*R[0]+f[1]*R[1]}function C2(f){var R=Math.sqrt(Pi(f,f));return R&&(f[0]/=R,f[1]/=R),R}h.ease=function(f){var R=f.indexOf("-"),V=R>=0?f.slice(0,R):f,ae=R>=0?f.slice(R+1):"in";return V=k4.get(V)||Go,function Xu(f){return function(R){return R<=0?0:R>=1?1:f(R)}}((ae=cl.get(ae)||K)(V.apply(null,v.call(arguments,1))))},h.interpolateHcl=function s3(f,R){f=h.hcl(f),R=h.hcl(R);var V=f.h,ae=f.c,fe=f.l,me=R.h-V,Re=R.c-ae,Ae=R.l-fe;return isNaN(Re)&&(Re=0,ae=isNaN(ae)?R.c:ae),isNaN(me)?(me=0,V=isNaN(V)?R.h:V):me>180?me-=360:me<-180&&(me+=360),function(Ue){return vr(V+me*Ue,ae+Re*Ue,fe+Ae*Ue)+""}},h.interpolateHsl=function Mc(f,R){f=h.hsl(f),R=h.hsl(R);var V=f.h,ae=f.s,fe=f.l,me=R.h-V,Re=R.s-ae,Ae=R.l-fe;return isNaN(Re)&&(Re=0,ae=isNaN(ae)?R.s:ae),isNaN(me)?(me=0,V=isNaN(V)?R.h:V):me>180?me-=360:me<-180&&(me+=360),function(Ue){return Wn(V+me*Ue,ae+Re*Ue,fe+Ae*Ue)+""}},h.interpolateLab=function ul(f,R){f=h.lab(f),R=h.lab(R);var V=f.l,ae=f.a,fe=f.b,me=R.l-V,Re=R.a-ae,Ae=R.b-fe;return function(Ue){return he(V+me*Ue,ae+Re*Ue,fe+Ae*Ue)+""}},h.interpolateRound=S1,h.transform=function(f){var R=y.createElementNS(h.ns.prefix.svg,"g");return(h.transform=function(V){if(null!=V){R.setAttribute("transform",V);var ae=R.transform.baseVal.consolidate()}return new B1(ae?ae.matrix:o3)})(f)},B1.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var o3={a:1,b:0,c:0,d:1,e:0,f:0};function Wo(f){return f.length?f.pop()+",":""}function gr(f,R){var V=[],ae=[];return f=h.transform(f),R=h.transform(R),function U2(f,R,V,ae){if(f[0]!==R[0]||f[1]!==R[1]){var fe=V.push("translate(",null,",",null,")");ae.push({i:fe-4,x:_1(f[0],R[0])},{i:fe-2,x:_1(f[1],R[1])})}else(R[0]||R[1])&&V.push("translate("+R+")")}(f.translate,R.translate,V,ae),function on(f,R,V,ae){f!==R?(f-R>180?R+=360:R-f>180&&(f+=360),ae.push({i:V.push(Wo(V)+"rotate(",null,")")-2,x:_1(f,R)})):R&&V.push(Wo(V)+"rotate("+R+")")}(f.rotate,R.rotate,V,ae),function Cn(f,R,V,ae){f!==R?ae.push({i:V.push(Wo(V)+"skewX(",null,")")-2,x:_1(f,R)}):R&&V.push(Wo(V)+"skewX("+R+")")}(f.skew,R.skew,V,ae),function Dn(f,R,V,ae){if(f[0]!==R[0]||f[1]!==R[1]){var fe=V.push(Wo(V)+"scale(",null,",",null,")");ae.push({i:fe-4,x:_1(f[0],R[0])},{i:fe-2,x:_1(f[1],R[1])})}else(1!==R[0]||1!==R[1])&&V.push(Wo(V)+"scale("+R+")")}(f.scale,R.scale,V,ae),f=R=null,function(fe){for(var Ae,me=-1,Re=ae.length;++me<Re;)V[(Ae=ae[me]).i]=Ae.x(fe);return V.join("")}}function Kr(f,R){return R=(R-=f=+f)||1/R,function(V){return(V-f)/R}}function Oi(f,R){return R=(R-=f=+f)||1/R,function(V){return Math.max(0,Math.min(1,(V-f)/R))}}function Ca(f){for(var R=f.source,V=f.target,ae=function Jl(f,R){if(f===R)return f;for(var V=$i(f),ae=$i(R),fe=V.pop(),me=ae.pop(),Re=null;fe===me;)Re=fe,fe=V.pop(),me=ae.pop();return Re}(R,V),fe=[R];R!==ae;)fe.push(R=R.parent);for(var me=fe.length;V!==ae;)fe.splice(me,0,V),V=V.parent;return fe}function $i(f){for(var R=[],V=f.parent;null!=V;)R.push(f),f=V,V=V.parent;return R.push(f),R}function Qu(f){f.fixed|=2}function h1(f){f.fixed&=-7}function ql(f){f.fixed|=4,f.px=f.x,f.py=f.y}function Ju(f){f.fixed&=-5}function Ss(f,R,V){var ae=0,fe=0;if(f.charge=0,!f.leaf)for(var Ue,me=f.nodes,Re=me.length,Ae=-1;++Ae<Re;)null!=(Ue=me[Ae])&&(Ss(Ue,R,V),f.charge+=Ue.charge,ae+=Ue.charge*Ue.cx,fe+=Ue.charge*Ue.cy);if(f.point){f.leaf||(f.point.x+=Math.random()-.5,f.point.y+=Math.random()-.5);var et=R*V[f.point.index];f.charge+=f.pointCharge=et,ae+=et*f.point.x,fe+=et*f.point.y}f.cx=ae/f.charge,f.cy=fe/f.charge}h.interpolateTransform=gr,h.layout={},h.layout.bundle=function(){return function(f){for(var R=[],V=-1,ae=f.length;++V<ae;)R.push(Ca(f[V]));return R}},h.layout.chord=function(){var R,V,ae,fe,Re,Ae,Ue,f={},me=0;function et(){var Tt,Rt,Ht,Ut,tn,wt={},_t=[],Kt=h.range(fe),Xt=[];for(R=[],V=[],Tt=0,Ut=-1;++Ut<fe;){for(Rt=0,tn=-1;++tn<fe;)Rt+=ae[Ut][tn];_t.push(Rt),Xt.push(h.range(fe)),Tt+=Rt}for(Re&&Kt.sort(function(kr,dr){return Re(_t[kr],_t[dr])}),Ae&&Xt.forEach(function(kr,dr){kr.sort(function(Mr,fi){return Ae(ae[dr][Mr],ae[dr][fi])})}),Tt=(_e-me*fe)/Tt,Rt=0,Ut=-1;++Ut<fe;){for(Ht=Rt,tn=-1;++tn<fe;){var jt=Kt[Ut],Ln=Xt[jt][tn],nr=ae[jt][Ln],sr=Rt,ar=Rt+=nr*Tt;wt[jt+"-"+Ln]={index:jt,subindex:Ln,startAngle:sr,endAngle:ar,value:nr}}V[jt]={index:jt,startAngle:Ht,endAngle:Rt,value:_t[jt]},Rt+=me}for(Ut=-1;++Ut<fe;)for(tn=Ut-1;++tn<fe;){var qn=wt[Ut+"-"+tn],fr=wt[tn+"-"+Ut];(qn.value||fr.value)&&R.push(qn.value<fr.value?{source:fr,target:qn}:{source:qn,target:fr})}Ue&&tt()}function tt(){R.sort(function(wt,_t){return Ue((wt.source.value+wt.target.value)/2,(_t.source.value+_t.target.value)/2)})}return f.matrix=function(wt){return arguments.length?(fe=(ae=wt)&&ae.length,R=V=null,f):ae},f.padding=function(wt){return arguments.length?(me=wt,R=V=null,f):me},f.sortGroups=function(wt){return arguments.length?(Re=wt,R=V=null,f):Re},f.sortSubgroups=function(wt){return arguments.length?(Ae=wt,R=null,f):Ae},f.sortChords=function(wt){return arguments.length?(Ue=wt,R&&tt(),f):Ue},f.chords=function(){return R||et(),R},f.groups=function(){return V||et(),V},f},h.layout.force=function(){var V,fe,me,Tt,Rt,Ht,f={},R=h.dispatch("start","tick","end"),ae=[1,1],Re=.9,Ae=e0,Ue=fl,et=-30,tt=Wi,wt=.1,_t=.64,Kt=[],Xt=[];function Ut(jt){return function(Ln,nr,sr,ar){if(Ln.point!==jt){var Mr,qn=Ln.cx-jt.x,fr=Ln.cy-jt.y,kr=ar-nr,dr=qn*qn+fr*fr;if(kr*kr/_t<dr)return dr<tt&&(jt.px-=qn*(Mr=Ln.charge/dr),jt.py-=fr*Mr),!0;Ln.point&&dr&&dr<tt&&(jt.px-=qn*(Mr=Ln.pointCharge/dr),jt.py-=fr*Mr)}return!Ln.charge}}function tn(jt){jt.px=h.event.x,jt.py=h.event.y,f.resume()}return f.tick=function(){if((me*=.99)<.005)return V=null,R.end({type:"end",alpha:me=0}),!0;var nr,sr,ar,qn,fr,kr,dr,Mr,fi,jt=Kt.length,Ln=Xt.length;for(sr=0;sr<Ln;++sr)(kr=(Mr=(fr=(ar=Xt[sr]).target).x-(qn=ar.source).x)*Mr+(fi=fr.y-qn.y)*fi)&&(fi*=kr=me*Rt[sr]*((kr=Math.sqrt(kr))-Tt[sr])/kr,fr.x-=(Mr*=kr)*(dr=qn.weight+fr.weight?qn.weight/(qn.weight+fr.weight):.5),fr.y-=fi*dr,qn.x+=Mr*(dr=1-dr),qn.y+=fi*dr);if((dr=me*wt)&&(Mr=ae[0]/2,fi=ae[1]/2,sr=-1,dr))for(;++sr<jt;)(ar=Kt[sr]).x+=(Mr-ar.x)*dr,ar.y+=(fi-ar.y)*dr;if(et)for(Ss(nr=h.geom.quadtree(Kt),me,Ht),sr=-1;++sr<jt;)(ar=Kt[sr]).fixed||nr.visit(Ut(ar));for(sr=-1;++sr<jt;)(ar=Kt[sr]).fixed?(ar.x=ar.px,ar.y=ar.py):(ar.x-=(ar.px-(ar.px=ar.x))*Re,ar.y-=(ar.py-(ar.py=ar.y))*Re);R.tick({type:"tick",alpha:me})},f.nodes=function(jt){return arguments.length?(Kt=jt,f):Kt},f.links=function(jt){return arguments.length?(Xt=jt,f):Xt},f.size=function(jt){return arguments.length?(ae=jt,f):ae},f.linkDistance=function(jt){return arguments.length?(Ae="function"==typeof jt?jt:+jt,f):Ae},f.distance=f.linkDistance,f.linkStrength=function(jt){return arguments.length?(Ue="function"==typeof jt?jt:+jt,f):Ue},f.friction=function(jt){return arguments.length?(Re=+jt,f):Re},f.charge=function(jt){return arguments.length?(et="function"==typeof jt?jt:+jt,f):et},f.chargeDistance=function(jt){return arguments.length?(tt=jt*jt,f):Math.sqrt(tt)},f.gravity=function(jt){return arguments.length?(wt=+jt,f):wt},f.theta=function(jt){return arguments.length?(_t=jt*jt,f):Math.sqrt(_t)},f.alpha=function(jt){return arguments.length?(jt=+jt,me?jt>0?me=jt:(V.c=null,V.t=NaN,V=null,R.end({type:"end",alpha:me=0})):jt>0&&(R.start({type:"start",alpha:me=jt}),V=ka(f.tick)),f):me},f.start=function(){var jt,qn,fr,Ln=Kt.length,nr=Xt.length,sr=ae[0],ar=ae[1];for(jt=0;jt<Ln;++jt)(fr=Kt[jt]).index=jt,fr.weight=0;for(jt=0;jt<nr;++jt)"number"==typeof(fr=Xt[jt]).source&&(fr.source=Kt[fr.source]),"number"==typeof fr.target&&(fr.target=Kt[fr.target]),++fr.source.weight,++fr.target.weight;for(jt=0;jt<Ln;++jt)fr=Kt[jt],isNaN(fr.x)&&(fr.x=kr("x",sr)),isNaN(fr.y)&&(fr.y=kr("y",ar)),isNaN(fr.px)&&(fr.px=fr.x),isNaN(fr.py)&&(fr.py=fr.y);if(Tt=[],"function"==typeof Ae)for(jt=0;jt<nr;++jt)Tt[jt]=+Ae.call(this,Xt[jt],jt);else for(jt=0;jt<nr;++jt)Tt[jt]=Ae;if(Rt=[],"function"==typeof Ue)for(jt=0;jt<nr;++jt)Rt[jt]=+Ue.call(this,Xt[jt],jt);else for(jt=0;jt<nr;++jt)Rt[jt]=Ue;if(Ht=[],"function"==typeof et)for(jt=0;jt<Ln;++jt)Ht[jt]=+et.call(this,Kt[jt],jt);else for(jt=0;jt<Ln;++jt)Ht[jt]=et;function kr(dr,Mr){if(!qn){for(qn=new Array(Ln),ti=0;ti<Ln;++ti)qn[ti]=[];for(ti=0;ti<nr;++ti){var fi=Xt[ti];qn[fi.source.index].push(fi.target),qn[fi.target.index].push(fi.source)}}for(var wr,vi=qn[jt],ti=-1,Kn=vi.length;++ti<Kn;)if(!isNaN(wr=vi[ti][dr]))return wr;return Math.random()*Mr}return f.resume()},f.resume=function(){return f.alpha(.1)},f.stop=function(){return f.alpha(0)},f.drag=function(){if(fe||(fe=h.behavior.drag().origin(K).on("dragstart.force",Qu).on("drag.force",tn).on("dragend.force",h1)),!arguments.length)return fe;this.on("mouseover.force",ql).on("mouseout.force",Ju).call(fe)},h.rebind(f,R,"on")};var e0=20,fl=1,Wi=1/0;function dl(f,R){return h.rebind(f,R,"sort","children","value"),f.nodes=f,f.links=t0,f}function wc(f,R){for(var V=[f];null!=(f=V.pop());)if(R(f),(fe=f.children)&&(ae=fe.length))for(var ae,fe;--ae>=0;)V.push(fe[ae])}function T1(f,R){for(var V=[f],ae=[];null!=(f=V.pop());)if(ae.push(f),(Re=f.children)&&(me=Re.length))for(var me,Re,fe=-1;++fe<me;)V.push(Re[fe]);for(;null!=(f=ae.pop());)R(f)}function I4(f){return f.children}function qu(f){return f.value}function ef(f,R){return R.value-f.value}function t0(f){return h.merge(f.map(function(R){return(R.children||[]).map(function(V){return{source:R,target:V}})}))}h.layout.hierarchy=function(){var f=ef,R=I4,V=qu;function ae(fe){var Ae,me=[fe],Re=[];for(fe.depth=0;null!=(Ae=me.pop());)if(Re.push(Ae),(et=R.call(ae,Ae,Ae.depth))&&(Ue=et.length)){for(var Ue,et,tt;--Ue>=0;)me.push(tt=et[Ue]),tt.parent=Ae,tt.depth=Ae.depth+1;V&&(Ae.value=0),Ae.children=et}else V&&(Ae.value=+V.call(ae,Ae,Ae.depth)||0),delete Ae.children;return T1(fe,function(wt){var _t,Kt;f&&(_t=wt.children)&&_t.sort(f),V&&(Kt=wt.parent)&&(Kt.value+=wt.value)}),Re}return ae.sort=function(fe){return arguments.length?(f=fe,ae):f},ae.children=function(fe){return arguments.length?(R=fe,ae):R},ae.value=function(fe){return arguments.length?(V=fe,ae):V},ae.revalue=function(fe){return V&&(wc(fe,function(me){me.children&&(me.value=0)}),T1(fe,function(me){var Re;me.children||(me.value=+V.call(ae,me,me.depth)||0),(Re=me.parent)&&(Re.value+=me.value)})),fe},ae},h.layout.partition=function(){var f=h.layout.hierarchy(),R=[1,1];function V(me,Re,Ae,Ue){var et=me.children;if(me.x=Re,me.y=me.depth*Ue,me.dx=Ae,me.dy=Ue,et&&(wt=et.length)){var wt,_t,Kt,tt=-1;for(Ae=me.value?Ae/me.value:0;++tt<wt;)V(_t=et[tt],Re,Kt=_t.value*Ae,Ue),Re+=Kt}}function ae(me){var Re=me.children,Ae=0;if(Re&&(et=Re.length))for(var et,Ue=-1;++Ue<et;)Ae=Math.max(Ae,ae(Re[Ue]));return 1+Ae}function fe(me,Re){var Ae=f.call(this,me,Re);return V(Ae[0],0,R[0],R[1]/ae(Ae[0])),Ae}return fe.size=function(me){return arguments.length?(R=me,fe):R},dl(fe,f)},h.layout.pie=function(){var f=Number,R=xr,V=0,ae=_e,fe=0;function me(Re){var Ht,Ae=Re.length,Ue=Re.map(function(Ut,tn){return+f.call(me,Ut,tn)}),et=+("function"==typeof V?V.apply(this,arguments):V),tt=("function"==typeof ae?ae.apply(this,arguments):ae)-et,wt=Math.min(Math.abs(tt)/Ae,+("function"==typeof fe?fe.apply(this,arguments):fe)),_t=wt*(tt<0?-1:1),Kt=h.sum(Ue),Xt=Kt?(tt-Ae*_t)/Kt:0,Tt=h.range(Ae),Rt=[];return null!=R&&Tt.sort(R===xr?function(Ut,tn){return Ue[tn]-Ue[Ut]}:function(Ut,tn){return R(Re[Ut],Re[tn])}),Tt.forEach(function(Ut){Rt[Ut]={data:Re[Ut],value:Ht=Ue[Ut],startAngle:et,endAngle:et+=Ht*Xt+_t,padAngle:wt}}),Rt}return me.value=function(Re){return arguments.length?(f=Re,me):f},me.sort=function(Re){return arguments.length?(R=Re,me):R},me.startAngle=function(Re){return arguments.length?(V=Re,me):V},me.endAngle=function(Re){return arguments.length?(ae=Re,me):ae},me.padAngle=function(Re){return arguments.length?(fe=Re,me):fe},me};var xr={};function n0(f){return f.x}function P4(f){return f.y}function Qi(f,R,V){f.y0=R,f.y=V}h.layout.stack=function(){var f=K,R=es,V=ri,ae=Qi,fe=n0,me=P4;function Re(Ae,Ue){if(!(Xt=Ae.length))return Ae;var et=Ae.map(function(Ut,tn){return f.call(Re,Ut,tn)}),tt=et.map(function(Ut){return Ut.map(function(tn,jt){return[fe.call(Re,tn,jt),me.call(Re,tn,jt)]})}),wt=R.call(Re,tt,Ue);et=h.permute(et,wt),tt=h.permute(tt,wt);var Xt,Tt,Rt,Ht,_t=V.call(Re,tt,Ue),Kt=et[0].length;for(Rt=0;Rt<Kt;++Rt)for(ae.call(Re,et[0][Rt],Ht=_t[Rt],tt[0][Rt][1]),Tt=1;Tt<Xt;++Tt)ae.call(Re,et[Tt][Rt],Ht+=tt[Tt-1][Rt][1],tt[Tt][Rt][1]);return Ae}return Re.values=function(Ae){return arguments.length?(f=Ae,Re):f},Re.order=function(Ae){return arguments.length?(R="function"==typeof Ae?Ae:c3.get(Ae)||es,Re):R},Re.offset=function(Ae){return arguments.length?(V="function"==typeof Ae?Ae:Lr.get(Ae)||ri,Re):V},Re.x=function(Ae){return arguments.length?(fe=Ae,Re):fe},Re.y=function(Ae){return arguments.length?(me=Ae,Re):me},Re.out=function(Ae){return arguments.length?(ae=Ae,Re):ae},Re};var c3=h.map({"inside-out":function(f){var V,ae,R=f.length,fe=f.map(xa),me=f.map(Ma),Re=h.range(R).sort(function(wt,_t){return fe[wt]-fe[_t]}),Ae=0,Ue=0,et=[],tt=[];for(V=0;V<R;++V)ae=Re[V],Ae<Ue?(Ae+=me[ae],et.push(ae)):(Ue+=me[ae],tt.push(ae));return tt.reverse().concat(et)},reverse:function(f){return h.range(f.length).reverse()},default:es}),Lr=h.map({silhouette:function(f){var me,Re,Ae,R=f.length,V=f[0].length,ae=[],fe=0,Ue=[];for(Re=0;Re<V;++Re){for(me=0,Ae=0;me<R;me++)Ae+=f[me][Re][1];Ae>fe&&(fe=Ae),ae.push(Ae)}for(Re=0;Re<V;++Re)Ue[Re]=(fe-ae[Re])/2;return Ue},wiggle:function(f){var fe,me,Re,Ae,Ue,et,tt,wt,_t,R=f.length,V=f[0],ae=V.length,Kt=[];for(Kt[0]=wt=_t=0,me=1;me<ae;++me){for(fe=0,Ae=0;fe<R;++fe)Ae+=f[fe][me][1];for(fe=0,Ue=0,tt=V[me][0]-V[me-1][0];fe<R;++fe){for(Re=0,et=(f[fe][me][1]-f[fe][me-1][1])/(2*tt);Re<fe;++Re)et+=(f[Re][me][1]-f[Re][me-1][1])/tt;Ue+=et*f[fe][me][1]}Kt[me]=wt-=Ae?Ue/Ae*tt:0,wt<_t&&(_t=wt)}for(me=0;me<ae;++me)Kt[me]-=_t;return Kt},expand:function(f){var fe,me,Re,R=f.length,V=f[0].length,ae=1/R,Ae=[];for(me=0;me<V;++me){for(fe=0,Re=0;fe<R;fe++)Re+=f[fe][me][1];if(Re)for(fe=0;fe<R;fe++)f[fe][me][1]/=Re;else for(fe=0;fe<R;fe++)f[fe][me][1]=ae}for(me=0;me<V;++me)Ae[me]=0;return Ae},zero:ri});function es(f){return h.range(f.length)}function ri(f){for(var R=-1,V=f[0].length,ae=[];++R<V;)ae[R]=0;return ae}function xa(f){for(var fe,R=1,V=0,ae=f[0][1],me=f.length;R<me;++R)(fe=f[R][1])>ae&&(V=R,ae=fe);return V}function Ma(f){return f.reduce(so,0)}function so(f,R){return f+R[1]}function Fs(f,R){return l3(f,Math.ceil(Math.log(R.length)/Math.LN2+1))}function l3(f,R){for(var V=-1,ae=+f[0],fe=(f[1]-ae)/R,me=[];++V<=R;)me[V]=fe*V+ae;return me}function R4(f){return[h.min(f),h.max(f)]}function G2(f,R){return f.value-R.value}function _c(f,R){var V=f._pack_next;f._pack_next=R,R._pack_prev=f,R._pack_next=V,V._pack_prev=R}function r0(f,R){f._pack_next=R,R._pack_prev=f}function Lc(f,R){var V=R.x-f.x,ae=R.y-f.y,fe=f.r+R.r;return.999*fe*fe>V*V+ae*ae}function u3(f){if((R=f.children)&&(_t=R.length)){var R,Re,Ae,Ue,et,tt,wt,_t,V=1/0,ae=-1/0,fe=1/0,me=-1/0;if(R.forEach(f3),(Re=R[0]).x=-Re.r,Re.y=0,Kt(Re),_t>1&&((Ae=R[1]).x=Ae.r,Ae.y=0,Kt(Ae),_t>2))for(Os(Re,Ae,Ue=R[2]),Kt(Ue),_c(Re,Ue),Re._pack_prev=Ue,_c(Ue,Ae),Ae=Re._pack_next,et=3;et<_t;et++){Os(Re,Ae,Ue=R[et]);var Xt=0,Tt=1,Rt=1;for(tt=Ae._pack_next;tt!==Ae;tt=tt._pack_next,Tt++)if(Lc(tt,Ue)){Xt=1;break}if(1==Xt)for(wt=Re._pack_prev;wt!==tt._pack_prev&&!Lc(wt,Ue);wt=wt._pack_prev,Rt++);Xt?(Tt<Rt||Tt==Rt&&Ae.r<Re.r?r0(Re,Ae=tt):r0(Re=wt,Ae),et--):(_c(Re,Ue),Ae=Ue,Kt(Ue))}var Ht=(V+ae)/2,Ut=(fe+me)/2,tn=0;for(et=0;et<_t;et++)(Ue=R[et]).x-=Ht,Ue.y-=Ut,tn=Math.max(tn,Ue.r+Math.sqrt(Ue.x*Ue.x+Ue.y*Ue.y));f.r=tn,R.forEach(F4)}function Kt(jt){V=Math.min(jt.x-jt.r,V),ae=Math.max(jt.x+jt.r,ae),fe=Math.min(jt.y-jt.r,fe),me=Math.max(jt.y+jt.r,me)}}function f3(f){f._pack_next=f._pack_prev=f}function F4(f){delete f._pack_next,delete f._pack_prev}function wa(f,R,V,ae){var fe=f.children;if(f.x=R+=ae*f.x,f.y=V+=ae*f.y,f.r*=ae,fe)for(var me=-1,Re=fe.length;++me<Re;)wa(fe[me],R,V,ae)}function Os(f,R,V){var ae=f.r+V.r,fe=R.x-f.x,me=R.y-f.y;if(ae&&(fe||me)){var Re=R.r+V.r,Ae=fe*fe+me*me,Ue=.5+((ae*=ae)-(Re*=Re))/(2*Ae),et=Math.sqrt(Math.max(0,2*Re*(ae+Ae)-(ae-=Ae)*ae-Re*Re))/(2*Ae);V.x=f.x+Ue*fe+et*me,V.y=f.y+Ue*me-et*fe}else V.x=f.x+ae,V.y=f.y}function a0(f,R){return f.parent==R.parent?1:2}function d3(f){var R=f.children;return R.length?R[0]:f.t}function Sc(f){var V,R=f.children;return(V=R.length)?R[V-1]:f.t}function O4(f,R,V){var ae=V/(R.i-f.i);R.c-=ae,R.s+=V,f.c+=ae,R.z+=V,R.m+=V}function oo(f,R,V){return f.a.parent===R.parent?f.a:V}function jo(f){var R=f.children;return R&&R.length?jo(R[0]):f}function Tc(f){var V,R=f.children;return R&&(V=R.length)?Tc(R[V-1]):f}function M2(f){return{x:f.x,y:f.y,dx:f.dx,dy:f.dy}}function So(f,R){var V=f.x+R[3],ae=f.y+R[0],fe=f.dx-R[1]-R[3],me=f.dy-R[0]-R[2];return fe<0&&(V+=fe/2,fe=0),me<0&&(ae+=me/2,me=0),{x:V,y:ae,dx:fe,dy:me}}function Ts(f){var R=f[0],V=f[f.length-1];return R<V?[R,V]:[V,R]}function Yo(f){return f.rangeExtent?f.rangeExtent():Ts(f.range())}function p3(f,R,V,ae){var fe=V(f[0],f[1]),me=ae(R[0],R[1]);return function(Re){return me(fe(Re))}}function m3(f,R){var Re,V=0,ae=f.length-1,fe=f[V],me=f[ae];return me<fe&&(Re=V,V=ae,ae=Re,Re=fe,fe=me,me=Re),f[V]=R.floor(fe),f[ae]=R.ceil(me),f}function B4(f){return f?{floor:function(R){return Math.floor(R/f)*f},ceil:function(R){return Math.ceil(R/f)*f}}:hl}h.layout.histogram=function(){var f=!0,R=Number,V=R4,ae=Fs;function fe(me,_t){for(var wt,Rt,Ae=[],Ue=me.map(R,this),et=V.call(this,Ue,_t),tt=ae.call(this,et,Ue,_t),Kt=(_t=-1,Ue.length),Xt=tt.length-1,Tt=f?1:1/Kt;++_t<Xt;)(wt=Ae[_t]=[]).dx=tt[_t+1]-(wt.x=tt[_t]),wt.y=0;if(Xt>0)for(_t=-1;++_t<Kt;)(Rt=Ue[_t])>=et[0]&&Rt<=et[1]&&((wt=Ae[h.bisect(tt,Rt,1,Xt)-1]).y+=Tt,wt.push(me[_t]));return Ae}return fe.value=function(me){return arguments.length?(R=me,fe):R},fe.range=function(me){return arguments.length?(V=wn(me),fe):V},fe.bins=function(me){return arguments.length?(ae="number"==typeof me?function(Re){return l3(Re,me)}:wn(me),fe):ae},fe.frequency=function(me){return arguments.length?(f=!!me,fe):f},fe},h.layout.pack=function(){var ae,f=h.layout.hierarchy().sort(G2),R=0,V=[1,1];function fe(me,Re){var Ae=f.call(this,me,Re),Ue=Ae[0],et=V[0],tt=V[1],wt=null==ae?Math.sqrt:"function"==typeof ae?ae:function(){return ae};if(Ue.x=Ue.y=0,T1(Ue,function(Kt){Kt.r=+wt(Kt.value)}),T1(Ue,u3),R){var _t=R*(ae?1:Math.max(2*Ue.r/et,2*Ue.r/tt))/2;T1(Ue,function(Kt){Kt.r+=_t}),T1(Ue,u3),T1(Ue,function(Kt){Kt.r-=_t})}return wa(Ue,et/2,tt/2,ae?1:1/Math.max(2*Ue.r/et,2*Ue.r/tt)),Ae}return fe.size=function(me){return arguments.length?(V=me,fe):V},fe.radius=function(me){return arguments.length?(ae=null==me||"function"==typeof me?me:+me,fe):ae},fe.padding=function(me){return arguments.length?(R=+me,fe):R},dl(fe,f)},h.layout.tree=function(){var f=h.layout.hierarchy().sort(null).value(null),R=a0,V=[1,1],ae=null;function fe(tt,wt){var _t=f.call(this,tt,wt),Kt=_t[0],Xt=function me(tt){for(var Kt,wt={A:null,children:[tt]},_t=[wt];null!=(Kt=_t.pop());)for(var Tt,Xt=Kt.children,Rt=0,Ht=Xt.length;Rt<Ht;++Rt)_t.push((Xt[Rt]=Tt={_:Xt[Rt],parent:Kt,children:(Tt=Xt[Rt].children)&&Tt.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Rt}).a=Tt);return wt.children[0]}(Kt);if(T1(Xt,Re),Xt.parent.m=-Xt.z,wc(Xt,Ae),ae)wc(Kt,et);else{var Tt=Kt,Rt=Kt,Ht=Kt;wc(Kt,function(Ln){Ln.x<Tt.x&&(Tt=Ln),Ln.x>Rt.x&&(Rt=Ln),Ln.depth>Ht.depth&&(Ht=Ln)});var Ut=R(Tt,Rt)/2-Tt.x,tn=V[0]/(Rt.x+R(Rt,Tt)/2+Ut),jt=V[1]/(Ht.depth||1);wc(Kt,function(Ln){Ln.x=(Ln.x+Ut)*tn,Ln.y=Ln.depth*jt})}return _t}function Re(tt){var wt=tt.children,_t=tt.parent.children,Kt=tt.i?_t[tt.i-1]:null;if(wt.length){!function s0(f){for(var me,R=0,V=0,ae=f.children,fe=ae.length;--fe>=0;)(me=ae[fe]).z+=R,me.m+=R,R+=me.s+(V+=me.c)}(tt);var Xt=(wt[0].z+wt[wt.length-1].z)/2;Kt?(tt.z=Kt.z+R(tt._,Kt._),tt.m=tt.z-Xt):tt.z=Xt}else Kt&&(tt.z=Kt.z+R(tt._,Kt._));tt.parent.A=function Ue(tt,wt,_t){if(wt){for(var Ln,Kt=tt,Xt=tt,Tt=wt,Rt=Kt.parent.children[0],Ht=Kt.m,Ut=Xt.m,tn=Tt.m,jt=Rt.m;Tt=Sc(Tt),Kt=d3(Kt),Tt&&Kt;)Rt=d3(Rt),(Xt=Sc(Xt)).a=tt,(Ln=Tt.z+tn-Kt.z-Ht+R(Tt._,Kt._))>0&&(O4(oo(Tt,tt,_t),tt,Ln),Ht+=Ln,Ut+=Ln),tn+=Tt.m,Ht+=Kt.m,jt+=Rt.m,Ut+=Xt.m;Tt&&!Sc(Xt)&&(Xt.t=Tt,Xt.m+=tn-Ut),Kt&&!d3(Rt)&&(Rt.t=Kt,Rt.m+=Ht-jt,_t=tt)}return _t}(tt,Kt,tt.parent.A||_t[0])}function Ae(tt){tt._.x=tt.z+tt.parent.m,tt.m+=tt.parent.m}function et(tt){tt.x*=V[0],tt.y=tt.depth*V[1]}return fe.separation=function(tt){return arguments.length?(R=tt,fe):R},fe.size=function(tt){return arguments.length?(ae=null==(V=tt)?et:null,fe):ae?null:V},fe.nodeSize=function(tt){return arguments.length?(ae=null==(V=tt)?null:et,fe):ae?V:null},dl(fe,f)},h.layout.cluster=function(){var f=h.layout.hierarchy().sort(null).value(null),R=a0,V=[1,1],ae=!1;function fe(me,Re){var et,Ae=f.call(this,me,Re),Ue=Ae[0],tt=0;T1(Ue,function(Tt){var Rt=Tt.children;Rt&&Rt.length?(Tt.x=function x2(f){return f.reduce(function(R,V){return R+V.x},0)/f.length}(Rt),Tt.y=function h3(f){return 1+h.max(f,function(R){return R.y})}(Rt)):(Tt.x=et?tt+=R(Tt,et):0,Tt.y=0,et=Tt)});var wt=jo(Ue),_t=Tc(Ue),Kt=wt.x-R(wt,_t)/2,Xt=_t.x+R(_t,wt)/2;return T1(Ue,ae?function(Tt){Tt.x=(Tt.x-Ue.x)*V[0],Tt.y=(Ue.y-Tt.y)*V[1]}:function(Tt){Tt.x=(Tt.x-Kt)/(Xt-Kt)*V[0],Tt.y=(1-(Ue.y?Tt.y/Ue.y:1))*V[1]}),Ae}return fe.separation=function(me){return arguments.length?(R=me,fe):R},fe.size=function(me){return arguments.length?(ae=null==(V=me),fe):ae?null:V},fe.nodeSize=function(me){return arguments.length?(ae=null!=(V=me),fe):ae?V:null},dl(fe,f)},h.layout.treemap=function(){var Re,f=h.layout.hierarchy(),R=Math.round,V=[1,1],ae=null,fe=M2,me=!1,Ae="squarify",Ue=.5*(1+Math.sqrt(5));function et(Tt,Rt){for(var tn,jt,Ht=-1,Ut=Tt.length;++Ht<Ut;)jt=(tn=Tt[Ht]).value*(Rt<0?0:Rt),tn.area=isNaN(jt)||jt<=0?0:jt}function tt(Tt){var Rt=Tt.children;if(Rt&&Rt.length){var jt,nr,ar,Ht=fe(Tt),Ut=[],tn=Rt.slice(),Ln=1/0,sr="slice"===Ae?Ht.dx:"dice"===Ae?Ht.dy:"slice-dice"===Ae?1&Tt.depth?Ht.dy:Ht.dx:Math.min(Ht.dx,Ht.dy);for(et(tn,Ht.dx*Ht.dy/Tt.value),Ut.area=0;(ar=tn.length)>0;)Ut.push(jt=tn[ar-1]),Ut.area+=jt.area,"squarify"!==Ae||(nr=_t(Ut,sr))<=Ln?(tn.pop(),Ln=nr):(Ut.area-=Ut.pop().area,Kt(Ut,sr,Ht,!1),sr=Math.min(Ht.dx,Ht.dy),Ut.length=Ut.area=0,Ln=1/0);Ut.length&&(Kt(Ut,sr,Ht,!0),Ut.length=Ut.area=0),Rt.forEach(tt)}}function wt(Tt){var Rt=Tt.children;if(Rt&&Rt.length){var tn,Ht=fe(Tt),Ut=Rt.slice(),jt=[];for(et(Ut,Ht.dx*Ht.dy/Tt.value),jt.area=0;tn=Ut.pop();)jt.push(tn),jt.area+=tn.area,null!=tn.z&&(Kt(jt,tn.z?Ht.dx:Ht.dy,Ht,!Ut.length),jt.length=jt.area=0);Rt.forEach(wt)}}function _t(Tt,Rt){for(var Ut,Ht=Tt.area,tn=0,jt=1/0,Ln=-1,nr=Tt.length;++Ln<nr;)(Ut=Tt[Ln].area)&&(Ut<jt&&(jt=Ut),Ut>tn&&(tn=Ut));return Rt*=Rt,(Ht*=Ht)?Math.max(Rt*tn*Ue/Ht,Ht/(Rt*jt*Ue)):1/0}function Kt(Tt,Rt,Ht,Ut){var ar,tn=-1,jt=Tt.length,Ln=Ht.x,nr=Ht.y,sr=Rt?R(Tt.area/Rt):0;if(Rt==Ht.dx){for((Ut||sr>Ht.dy)&&(sr=Ht.dy);++tn<jt;)(ar=Tt[tn]).x=Ln,ar.y=nr,ar.dy=sr,Ln+=ar.dx=Math.min(Ht.x+Ht.dx-Ln,sr?R(ar.area/sr):0);ar.z=!0,ar.dx+=Ht.x+Ht.dx-Ln,Ht.y+=sr,Ht.dy-=sr}else{for((Ut||sr>Ht.dx)&&(sr=Ht.dx);++tn<jt;)(ar=Tt[tn]).x=Ln,ar.y=nr,ar.dx=sr,nr+=ar.dy=Math.min(Ht.y+Ht.dy-nr,sr?R(ar.area/sr):0);ar.z=!1,ar.dy+=Ht.y+Ht.dy-nr,Ht.x+=sr,Ht.dx-=sr}}function Xt(Tt){var Rt=Re||f(Tt),Ht=Rt[0];return Ht.x=Ht.y=0,Ht.value?(Ht.dx=V[0],Ht.dy=V[1]):Ht.dx=Ht.dy=0,Re&&f.revalue(Ht),et([Ht],Ht.dx*Ht.dy/Ht.value),(Re?wt:tt)(Ht),me&&(Re=Rt),Rt}return Xt.size=function(Tt){return arguments.length?(V=Tt,Xt):V},Xt.padding=function(Tt){if(!arguments.length)return ae;var Ut;return fe=null==(ae=Tt)?M2:"function"==(Ut=typeof Tt)?function Rt(tn){var jt=Tt.call(Xt,tn,tn.depth);return null==jt?M2(tn):So(tn,"number"==typeof jt?[jt,jt,jt,jt]:jt)}:("number"===Ut&&(Tt=[Tt,Tt,Tt,Tt]),function Ht(tn){return So(tn,Tt)}),Xt},Xt.round=function(Tt){return arguments.length?(R=Tt?Math.round:Number,Xt):R!=Number},Xt.sticky=function(Tt){return arguments.length?(me=Tt,Re=null,Xt):me},Xt.ratio=function(Tt){return arguments.length?(Ue=Tt,Xt):Ue},Xt.mode=function(Tt){return arguments.length?(Ae=Tt+"",Xt):Ae},dl(Xt,f)},h.random={normal:function(f,R){var V=arguments.length;return V<2&&(R=1),V<1&&(f=0),function(){var ae,fe,me;do{me=(ae=2*Math.random()-1)*ae+(fe=2*Math.random()-1)*fe}while(!me||me>1);return f+R*ae*Math.sqrt(-2*Math.log(me)/me)}},logNormal:function(){var f=h.random.normal.apply(h,arguments);return function(){return Math.exp(f())}},bates:function(f){var R=h.random.irwinHall(f);return function(){return R()/f}},irwinHall:function(f){return function(){for(var R=0,V=0;V<f;V++)R+=Math.random();return R}}},h.scale={};var hl={floor:K,ceil:K};function To(f,R,V,ae){var fe=[],me=[],Re=0,Ae=Math.min(f.length,R.length)-1;for(f[Ae]<f[0]&&(f=f.slice().reverse(),R=R.slice().reverse());++Re<=Ae;)fe.push(V(f[Re-1],f[Re])),me.push(ae(R[Re-1],R[Re]));return function(Ue){var et=h.bisect(f,Ue,1,Ae)-1;return me[et](fe[et](Ue))}}function v3(f,R,V,ae){var fe,me;function Re(){var Ue=Math.min(f.length,R.length)>2?To:p3,et=ae?Oi:Kr;return fe=Ue(f,R,et,V),me=Ue(R,f,et,us),Ae}function Ae(Ue){return fe(Ue)}return Ae.invert=function(Ue){return me(Ue)},Ae.domain=function(Ue){return arguments.length?(f=Ue.map(Number),Re()):f},Ae.range=function(Ue){return arguments.length?(R=Ue,Re()):R},Ae.rangeRound=function(Ue){return Ae.range(Ue).interpolate(S1)},Ae.clamp=function(Ue){return arguments.length?(ae=Ue,Re()):ae},Ae.interpolate=function(Ue){return arguments.length?(V=Ue,Re()):V},Ae.ticks=function(Ue){return Ea(f,Ue)},Ae.tickFormat=function(Ue,et){return d3_scale_linearTickFormat(f,Ue,et)},Ae.nice=function(Ue){return $2(f,Ue),Re()},Ae.copy=function(){return v3(f,R,V,ae)},Re()}function vt(f,R){return h.rebind(f,R,"range","rangeRound","interpolate","clamp")}function $2(f,R){return m3(f,B4(w2(f,R)[2])),m3(f,B4(w2(f,R)[2])),f}function w2(f,R){null==R&&(R=10);var V=Ts(f),ae=V[1]-V[0],fe=Math.pow(10,Math.floor(Math.log(ae/R)/Math.LN10)),me=R/ae*fe;return me<=.15?fe*=10:me<=.35?fe*=5:me<=.75&&(fe*=2),V[0]=Math.ceil(V[0]/fe)*fe,V[1]=Math.floor(V[1]/fe)*fe+.5*fe,V[2]=fe,V}function Ea(f,R){return h.range.apply(h,w2(f,R))}function H4(f,R,V,ae){function fe(Ae){return(V?Math.log(Ae<0?0:Ae):-Math.log(Ae>0?0:-Ae))/Math.log(R)}function me(Ae){return V?Math.pow(R,Ae):-Math.pow(R,-Ae)}function Re(Ae){return f(fe(Ae))}return Re.invert=function(Ae){return me(f.invert(Ae))},Re.domain=function(Ae){return arguments.length?(V=Ae[0]>=0,f.domain((ae=Ae.map(Number)).map(fe)),Re):ae},Re.base=function(Ae){return arguments.length?(R=+Ae,f.domain(ae.map(fe)),Re):R},Re.nice=function(){var Ae=m3(ae.map(fe),V?Math:W2);return f.domain(Ae),ae=Ae.map(me),Re},Re.ticks=function(){var Ae=Ts(ae),Ue=[],et=Ae[0],tt=Ae[1],wt=Math.floor(fe(et)),_t=Math.ceil(fe(tt)),Kt=R%1?2:R;if(isFinite(_t-wt)){if(V){for(;wt<_t;wt++)for(var Xt=1;Xt<Kt;Xt++)Ue.push(me(wt)*Xt);Ue.push(me(wt))}else for(Ue.push(me(wt));wt++<_t;)for(Xt=Kt-1;Xt>0;Xt--)Ue.push(me(wt)*Xt);for(wt=0;Ue[wt]<et;wt++);for(_t=Ue.length;Ue[_t-1]>tt;_t--);Ue=Ue.slice(wt,_t)}return Ue},Re.copy=function(){return H4(f.copy(),R,V,ae)},vt(Re,f)}h.scale.linear=function(){return v3([0,1],[0,1],us,!1)},h.scale.log=function(){return H4(h.scale.linear().domain([0,1]),10,!0,[1,10])};var W2={floor:function(f){return-Math.ceil(-f)},ceil:function(f){return-Math.floor(-f)}};function ts(f,R,V){var ae=vl(R),fe=vl(1/R);function me(Re){return f(ae(Re))}return me.invert=function(Re){return fe(f.invert(Re))},me.domain=function(Re){return arguments.length?(f.domain((V=Re.map(Number)).map(ae)),me):V},me.ticks=function(Re){return Ea(V,Re)},me.tickFormat=function(Re,Ae){return d3_scale_linearTickFormat(V,Re,Ae)},me.nice=function(Re){return me.domain($2(V,Re))},me.exponent=function(Re){return arguments.length?(ae=vl(R=Re),fe=vl(1/R),f.domain(V.map(ae)),me):R},me.copy=function(){return ts(f.copy(),R,V)},vt(me,f)}function vl(f){return function(R){return R<0?-Math.pow(-R,f):Math.pow(R,f)}}function V4(f,R){var V,ae,fe;function me(Ae){return ae[((V.get(Ae)||("range"===R.t?V.set(Ae,f.push(Ae)):NaN))-1)%ae.length]}function Re(Ae,Ue){return h.range(f.length).map(function(et){return Ae+Ue*et})}return me.domain=function(Ae){if(!arguments.length)return f;f=[],V=new G;for(var tt,Ue=-1,et=Ae.length;++Ue<et;)V.has(tt=Ae[Ue])||V.set(tt,f.push(tt));return me[R.t].apply(me,R.a)},me.range=function(Ae){return arguments.length?(ae=Ae,fe=0,R={t:"range",a:arguments},me):ae},me.rangePoints=function(Ae,Ue){arguments.length<2&&(Ue=0);var et=Ae[0],tt=Ae[1],wt=f.length<2?(et=(et+tt)/2,0):(tt-et)/(f.length-1+Ue);return ae=Re(et+wt*Ue/2,wt),fe=0,R={t:"rangePoints",a:arguments},me},me.rangeRoundPoints=function(Ae,Ue){arguments.length<2&&(Ue=0);var et=Ae[0],tt=Ae[1],wt=f.length<2?(et=tt=Math.round((et+tt)/2),0):(tt-et)/(f.length-1+Ue)|0;return ae=Re(et+Math.round(wt*Ue/2+(tt-et-(f.length-1+Ue)*wt)/2),wt),fe=0,R={t:"rangeRoundPoints",a:arguments},me},me.rangeBands=function(Ae,Ue,et){arguments.length<2&&(Ue=0),arguments.length<3&&(et=Ue);var tt=Ae[1]<Ae[0],wt=Ae[tt-0],Kt=(Ae[1-tt]-wt)/(f.length-Ue+2*et);return ae=Re(wt+Kt*et,Kt),tt&&ae.reverse(),fe=Kt*(1-Ue),R={t:"rangeBands",a:arguments},me},me.rangeRoundBands=function(Ae,Ue,et){arguments.length<2&&(Ue=0),arguments.length<3&&(et=Ue);var tt=Ae[1]<Ae[0],wt=Ae[tt-0],_t=Ae[1-tt],Kt=Math.floor((_t-wt)/(f.length-Ue+2*et));return ae=Re(wt+Math.round((_t-wt-(f.length-Ue)*Kt)/2),Kt),tt&&ae.reverse(),fe=Math.round(Kt*(1-Ue)),R={t:"rangeRoundBands",a:arguments},me},me.rangeBand=function(){return fe},me.rangeExtent=function(){return Ts(R.a[0])},me.copy=function(){return V4(f,R)},me.domain(f)}h.scale.pow=function(){return ts(h.scale.linear(),1,[0,1])},h.scale.sqrt=function(){return h.scale.pow().exponent(.5)},h.scale.ordinal=function(){return V4([],{t:"range",a:[[]]})},h.scale.category10=function(){return h.scale.ordinal().range(gl)},h.scale.category20=function(){return h.scale.ordinal().range(tf)},h.scale.category20b=function(){return h.scale.ordinal().range(Zo)},h.scale.category20c=function(){return h.scale.ordinal().range(nf)};var gl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(bt),tf=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(bt),Zo=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(bt),nf=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(bt);function U4(f,R){var V;function ae(){var me=0,Re=R.length;for(V=[];++me<Re;)V[me-1]=h.quantile(f,me/Re);return fe}function fe(me){if(!isNaN(me=+me))return R[h.bisect(V,me)]}return fe.domain=function(me){return arguments.length?(f=me.map(D).filter(_).sort(A),ae()):f},fe.range=function(me){return arguments.length?(R=me,ae()):R},fe.quantiles=function(){return V},fe.invertExtent=function(me){return(me=R.indexOf(me))<0?[NaN,NaN]:[me>0?V[me-1]:f[0],me<V.length?V[me]:f[f.length-1]]},fe.copy=function(){return U4(f,R)},ae()}function G4(f,R,V){var ae,fe;function me(Ae){return V[Math.max(0,Math.min(fe,Math.floor(ae*(Ae-f))))]}function Re(){return ae=V.length/(R-f),fe=V.length-1,me}return me.domain=function(Ae){return arguments.length?(f=+Ae[0],R=+Ae[Ae.length-1],Re()):[f,R]},me.range=function(Ae){return arguments.length?(V=Ae,Re()):V},me.invertExtent=function(Ae){return[Ae=(Ae=V.indexOf(Ae))<0?NaN:Ae/ae+f,Ae+1/ae]},me.copy=function(){return G4(f,R,V)},Re()}function $4(f,R){function V(ae){if(ae<=ae)return R[h.bisect(f,ae)]}return V.domain=function(ae){return arguments.length?(f=ae,V):f},V.range=function(ae){return arguments.length?(R=ae,V):R},V.invertExtent=function(ae){return ae=R.indexOf(ae),[f[ae-1],f[ae]]},V.copy=function(){return $4(f,R)},V}function o0(f){function R(V){return+V}return R.invert=R,R.domain=R.range=function(V){return arguments.length?(f=V.map(R),R):f},R.ticks=function(V){return Ea(f,V)},R.tickFormat=function(V,ae){return d3_scale_linearTickFormat(f,V,ae)},R.copy=function(){return o0(f)},R}function H1(){return 0}h.scale.quantile=function(){return U4([],[])},h.scale.quantize=function(){return G4(0,1,[0,1])},h.scale.threshold=function(){return $4([.5],[0,1])},h.scale.identity=function(){return o0([0,1])},h.svg={},h.svg.arc=function(){var f=cr,R=Nr,V=H1,ae=Ji,fe=Na,me=V1,Re=Ia;function Ae(){var et=Math.max(0,+f.apply(this,arguments)),tt=Math.max(0,+R.apply(this,arguments)),wt=fe.apply(this,arguments)-We,_t=me.apply(this,arguments)-We,Kt=Math.abs(_t-wt),Xt=wt>_t?0:1;if(tt<et&&(Tt=tt,tt=et,et=Tt),Kt>=He)return Ue(tt,Xt)+(et?Ue(et,1-Xt):"")+"Z";var Tt,Rt,Ht,Ut,Ln,nr,sr,ar,qn,fr,kr,dr,tn=0,jt=0,Mr=[];if((Ut=(+Re.apply(this,arguments)||0)/2)&&(Ht=ae===Ji?Math.sqrt(et*et+tt*tt):+ae.apply(this,arguments),Xt||(jt*=-1),tt&&(jt=st(Ht/tt*Math.sin(Ut))),et&&(tn=st(Ht/et*Math.sin(Ut)))),tt){Ln=tt*Math.cos(wt+jt),nr=tt*Math.sin(wt+jt),sr=tt*Math.cos(_t-jt),ar=tt*Math.sin(_t-jt);var fi=Math.abs(_t-wt-2*jt)<=Me?0:1;if(jt&&Bs(Ln,nr,sr,ar)===Xt^fi){var vi=(wt+_t)/2;Ln=tt*Math.cos(vi),nr=tt*Math.sin(vi),sr=ar=null}}else Ln=nr=0;if(et){qn=et*Math.cos(_t-tn),fr=et*Math.sin(_t-tn),kr=et*Math.cos(wt+tn),dr=et*Math.sin(wt+tn);var ti=Math.abs(wt-_t+2*tn)<=Me?0:1;if(tn&&Bs(qn,fr,kr,dr)===1-Xt^ti){var Kn=(wt+_t)/2;qn=et*Math.cos(Kn),fr=et*Math.sin(Kn),kr=dr=null}}else qn=fr=0;if(Kt>ke&&(Tt=Math.min(Math.abs(tt-et)/2,+V.apply(this,arguments)))>.001){Rt=et<tt^Xt?0:1;var wr=Tt,er=Tt;if(Kt<Me){var gi=null==kr?[qn,fr]:null==sr?[Ln,nr]:Hr([Ln,nr],[kr,dr],[sr,ar],[qn,fr]),ia=Ln-gi[0],Ra=nr-gi[1],rs=sr-gi[0],ys=ar-gi[1],La=1/Math.sin(Math.acos((ia*rs+Ra*ys)/(Math.sqrt(ia*ia+Ra*Ra)*Math.sqrt(rs*rs+ys*ys)))/2),$a=Math.sqrt(gi[0]*gi[0]+gi[1]*gi[1]);er=Math.min(Tt,(et-$a)/(La-1)),wr=Math.min(Tt,(tt-$a)/(La+1))}if(null!=sr){var Wa=Xo(null==kr?[qn,fr]:[kr,dr],[Ln,nr],tt,wr,Xt),bs=Xo([sr,ar],[qn,fr],tt,wr,Xt);Tt===wr?Mr.push("M",Wa[0],"A",wr,",",wr," 0 0,",Rt," ",Wa[1],"A",tt,",",tt," 0 ",1-Xt^Bs(Wa[1][0],Wa[1][1],bs[1][0],bs[1][1]),",",Xt," ",bs[1],"A",wr,",",wr," 0 0,",Rt," ",bs[0]):Mr.push("M",Wa[0],"A",wr,",",wr," 0 1,",Rt," ",bs[0])}else Mr.push("M",Ln,",",nr);if(null!=kr){var Js=Xo([Ln,nr],[kr,dr],et,-er,Xt),e2=Xo([qn,fr],null==sr?[Ln,nr]:[sr,ar],et,-er,Xt);Tt===er?Mr.push("L",e2[0],"A",er,",",er," 0 0,",Rt," ",e2[1],"A",et,",",et," 0 ",Xt^Bs(e2[1][0],e2[1][1],Js[1][0],Js[1][1]),",",1-Xt," ",Js[1],"A",er,",",er," 0 0,",Rt," ",Js[0]):Mr.push("L",e2[0],"A",er,",",er," 0 0,",Rt," ",Js[0])}else Mr.push("L",qn,",",fr)}else Mr.push("M",Ln,",",nr),null!=sr&&Mr.push("A",tt,",",tt," 0 ",fi,",",Xt," ",sr,",",ar),Mr.push("L",qn,",",fr),null!=kr&&Mr.push("A",et,",",et," 0 ",ti,",",1-Xt," ",kr,",",dr);return Mr.push("Z"),Mr.join("")}function Ue(et,tt){return"M0,"+et+"A"+et+","+et+" 0 1,"+tt+" 0,"+-et+"A"+et+","+et+" 0 1,"+tt+" 0,"+et}return Ae.innerRadius=function(et){return arguments.length?(f=wn(et),Ae):f},Ae.outerRadius=function(et){return arguments.length?(R=wn(et),Ae):R},Ae.cornerRadius=function(et){return arguments.length?(V=wn(et),Ae):V},Ae.padRadius=function(et){return arguments.length?(ae=et==Ji?Ji:wn(et),Ae):ae},Ae.startAngle=function(et){return arguments.length?(fe=wn(et),Ae):fe},Ae.endAngle=function(et){return arguments.length?(me=wn(et),Ae):me},Ae.padAngle=function(et){return arguments.length?(Re=wn(et),Ae):Re},Ae.centroid=function(){var et=(+f.apply(this,arguments)+ +R.apply(this,arguments))/2,tt=(+fe.apply(this,arguments)+ +me.apply(this,arguments))/2-We;return[Math.cos(tt)*et,Math.sin(tt)*et]},Ae};var Ji="auto";function cr(f){return f.innerRadius}function Nr(f){return f.outerRadius}function Na(f){return f.startAngle}function V1(f){return f.endAngle}function Ia(f){return f&&f.padAngle}function Bs(f,R,V,ae){return(f-V)*R-(R-ae)*f>0?0:1}function Xo(f,R,V,ae,fe){var me=f[0]-R[0],Re=f[1]-R[1],Ae=(fe?ae:-ae)/Math.sqrt(me*me+Re*Re),Ue=Ae*Re,et=-Ae*me,tt=f[0]+Ue,wt=f[1]+et,_t=R[0]+Ue,Kt=R[1]+et,Xt=(tt+_t)/2,Tt=(wt+Kt)/2,Rt=_t-tt,Ht=Kt-wt,Ut=Rt*Rt+Ht*Ht,tn=V-ae,jt=tt*Kt-_t*wt,Ln=(Ht<0?-1:1)*Math.sqrt(Math.max(0,tn*tn*Ut-jt*jt)),nr=(jt*Ht-Rt*Ln)/Ut,sr=(-jt*Rt-Ht*Ln)/Ut,ar=(jt*Ht+Rt*Ln)/Ut,qn=(-jt*Rt+Ht*Ln)/Ut,fr=nr-Xt,kr=sr-Tt,dr=ar-Xt,Mr=qn-Tt;return fr*fr+kr*kr>dr*dr+Mr*Mr&&(nr=ar,sr=qn),[[nr-Ue,sr-et],[nr*V/tn,sr*V/tn]]}function _i(){return!0}function Ga(f){var R=br,V=Fi,ae=_i,fe=Tr,me=fe.key,Re=.7;function Ae(Ue){var Kt,et=[],tt=[],wt=-1,_t=Ue.length,Xt=wn(R),Tt=wn(V);function Rt(){et.push("M",fe(f(tt),Re))}for(;++wt<_t;)ae.call(this,Kt=Ue[wt],wt)?tt.push([+Xt.call(this,Kt,wt),+Tt.call(this,Kt,wt)]):tt.length&&(Rt(),tt=[]);return tt.length&&Rt(),et.length?et.join(""):null}return Ae.x=function(Ue){return arguments.length?(R=Ue,Ae):R},Ae.y=function(Ue){return arguments.length?(V=Ue,Ae):V},Ae.defined=function(Ue){return arguments.length?(ae=Ue,Ae):ae},Ae.interpolate=function(Ue){return arguments.length?(me="function"==typeof Ue?fe=Ue:(fe=D1.get(Ue)||Tr).key,Ae):me},Ae.tension=function(Ue){return arguments.length?(Re=Ue,Ae):Re},Ae}h.svg.line=function(){return Ga(K)};var D1=h.map({linear:Tr,"linear-closed":Dc,step:function W4(f){for(var R=0,V=f.length,ae=f[0],fe=[ae[0],",",ae[1]];++R<V;)fe.push("H",(ae[0]+(ae=f[R])[0])/2,"V",ae[1]);return V>1&&fe.push("H",ae[0]),fe.join("")},"step-before":Ko,"step-after":ra,basis:Qo,"basis-open":function bl(f){if(f.length<4)return Tr(f);for(var fe,R=[],V=-1,ae=f.length,me=[0],Re=[0];++V<3;)me.push((fe=f[V])[0]),Re.push(fe[1]);for(R.push(Hs(lo,me)+","+Hs(lo,Re)),--V;++V<ae;)fe=f[V],me.shift(),me.push(fe[0]),Re.shift(),Re.push(fe[1]),Jo(R,me,Re);return R.join("")},"basis-closed":function Y2(f){for(var R,me,V=-1,ae=f.length,fe=ae+4,Re=[],Ae=[];++V<4;)Re.push((me=f[V%ae])[0]),Ae.push(me[1]);for(R=[Hs(lo,Re),",",Hs(lo,Ae)],--V;++V<fe;)me=f[V%ae],Re.shift(),Re.push(me[0]),Ae.shift(),Ae.push(me[1]),Jo(R,Re,Ae);return R.join("")},bundle:function Rr(f,R){var V=f.length-1;if(V)for(var Ue,et,ae=f[0][0],fe=f[0][1],me=f[V][0]-ae,Re=f[V][1]-fe,Ae=-1;++Ae<=V;)(Ue=f[Ae])[0]=R*Ue[0]+(1-R)*(ae+(et=Ae/V)*me),Ue[1]=R*Ue[1]+(1-R)*(fe+et*Re);return Qo(f)},cardinal:function co(f,R){return f.length<3?Tr(f):f[0]+U1(f,j2(f,R))},"cardinal-open":function yl(f,R){return f.length<4?Tr(f):f[1]+U1(f.slice(1,-1),j2(f,R))},"cardinal-closed":function Ac(f,R){return f.length<3?Dc(f):f[0]+U1((f.push(f[0]),f),j2([f[f.length-2]].concat(f,[f[1]]),R))},monotone:function Ds(f){return f.length<3?Tr(f):f[0]+U1(f,function _a(f){for(var V,ae,fe,me,R=[],Re=function Z2(f){for(var R=0,V=f.length-1,ae=[],fe=f[0],me=f[1],Re=ae[0]=ha(fe,me);++R<V;)ae[R]=(Re+(Re=ha(fe=me,me=f[R+1])))/2;return ae[R]=Re,ae}(f),Ae=-1,Ue=f.length-1;++Ae<Ue;)V=ha(f[Ae],f[Ae+1]),b(V)<ke?Re[Ae]=Re[Ae+1]=0:(me=(ae=Re[Ae]/V)*ae+(fe=Re[Ae+1]/V)*fe)>9&&(me=3*V/Math.sqrt(me),Re[Ae]=me*ae,Re[Ae+1]=me*fe);for(Ae=-1;++Ae<=Ue;)me=(f[Math.min(Ue,Ae+1)][0]-f[Math.max(0,Ae-1)][0])/(6*(1+Re[Ae]*Re[Ae])),R.push([me||0,Re[Ae]*me||0]);return R}(f))}});function Tr(f){return f.length>1?f.join("L"):f+"Z"}function Dc(f){return f.join("L")+"Z"}function Ko(f){for(var R=0,V=f.length,ae=f[0],fe=[ae[0],",",ae[1]];++R<V;)fe.push("V",(ae=f[R])[1],"H",ae[0]);return fe.join("")}function ra(f){for(var R=0,V=f.length,ae=f[0],fe=[ae[0],",",ae[1]];++R<V;)fe.push("H",(ae=f[R])[0],"V",ae[1]);return fe.join("")}function U1(f,R){if(R.length<1||f.length!=R.length&&f.length!=R.length+2)return Tr(f);var V=f.length!=R.length,ae="",fe=f[0],me=f[1],Re=R[0],Ae=Re,Ue=1;if(V&&(ae+="Q"+(me[0]-2*Re[0]/3)+","+(me[1]-2*Re[1]/3)+","+me[0]+","+me[1],fe=f[1],Ue=2),R.length>1){me=f[Ue],Ue++,ae+="C"+(fe[0]+Re[0])+","+(fe[1]+Re[1])+","+(me[0]-(Ae=R[1])[0])+","+(me[1]-Ae[1])+","+me[0]+","+me[1];for(var et=2;et<R.length;et++,Ue++)ae+="S"+((me=f[Ue])[0]-(Ae=R[et])[0])+","+(me[1]-Ae[1])+","+me[0]+","+me[1]}if(V){var tt=f[Ue];ae+="Q"+(me[0]+2*Ae[0]/3)+","+(me[1]+2*Ae[1]/3)+","+tt[0]+","+tt[1]}return ae}function j2(f,R){for(var fe,V=[],ae=(1-R)/2,me=f[0],Re=f[1],Ae=1,Ue=f.length;++Ae<Ue;)fe=me,me=Re,V.push([ae*((Re=f[Ae])[0]-fe[0]),ae*(Re[1]-fe[1])]);return V}function Qo(f){if(f.length<3)return Tr(f);var R=1,V=f.length,ae=f[0],fe=ae[0],me=ae[1],Re=[fe,fe,fe,(ae=f[1])[0]],Ae=[me,me,me,ae[1]],Ue=[fe,",",me,"L",Hs(lo,Re),",",Hs(lo,Ae)];for(f.push(f[V-1]);++R<=V;)ae=f[R],Re.shift(),Re.push(ae[0]),Ae.shift(),Ae.push(ae[1]),Jo(Ue,Re,Ae);return f.pop(),Ue.push("L",ae),Ue.join("")}function Hs(f,R){return f[0]*R[0]+f[1]*R[1]+f[2]*R[2]+f[3]*R[3]}D1.forEach(function(f,R){R.key=f,R.closed=/-closed$/.test(f)});var G1=[0,2/3,1/3,0],Pa=[0,1/3,2/3,0],lo=[0,1/6,2/3,1/6];function Jo(f,R,V){f.push("C",Hs(G1,R),",",Hs(G1,V),",",Hs(Pa,R),",",Hs(Pa,V),",",Hs(lo,R),",",Hs(lo,V))}function ha(f,R){return(R[1]-f[1])/(R[0]-f[0])}function c0(f){for(var R,fe,me,V=-1,ae=f.length;++V<ae;)me=(R=f[V])[1]-We,R[0]=(fe=R[0])*Math.cos(me),R[1]=fe*Math.sin(me);return f}function uo(f){var R=br,V=br,ae=0,fe=Fi,me=_i,Re=Tr,Ae=Re.key,Ue=Re,et="L",tt=.7;function wt(_t){var Ut,sr,ar,Kt=[],Xt=[],Tt=[],Rt=-1,Ht=_t.length,tn=wn(R),jt=wn(ae),Ln=R===V?function(){return sr}:wn(V),nr=ae===fe?function(){return ar}:wn(fe);function qn(){Kt.push("M",Re(f(Tt),tt),et,Ue(f(Xt.reverse()),tt),"Z")}for(;++Rt<Ht;)me.call(this,Ut=_t[Rt],Rt)?(Xt.push([sr=+tn.call(this,Ut,Rt),ar=+jt.call(this,Ut,Rt)]),Tt.push([+Ln.call(this,Ut,Rt),+nr.call(this,Ut,Rt)])):Xt.length&&(qn(),Xt=[],Tt=[]);return Xt.length&&qn(),Kt.length?Kt.join(""):null}return wt.x=function(_t){return arguments.length?(R=V=_t,wt):V},wt.x0=function(_t){return arguments.length?(R=_t,wt):R},wt.x1=function(_t){return arguments.length?(V=_t,wt):V},wt.y=function(_t){return arguments.length?(ae=fe=_t,wt):fe},wt.y0=function(_t){return arguments.length?(ae=_t,wt):ae},wt.y1=function(_t){return arguments.length?(fe=_t,wt):fe},wt.defined=function(_t){return arguments.length?(me=_t,wt):me},wt.interpolate=function(_t){return arguments.length?(Ae="function"==typeof _t?Re=_t:(Re=D1.get(_t)||Tr).key,Ue=Re.reverse||Re,et=Re.closed?"M":"L",wt):Ae},wt.tension=function(_t){return arguments.length?(tt=_t,wt):tt},wt}function Cl(f){return f.source}function A1(f){return f.target}function fs(f){return f.radius}function l0(f){return[f.x,f.y]}function $1(){return 64}function u0(){return"circle"}function xl(f){var R=Math.sqrt(f/Me);return"M0,"+R+"A"+R+","+R+" 0 1,1 0,"+-R+"A"+R+","+R+" 0 1,1 0,"+R+"Z"}h.svg.line.radial=function(){var f=Ga(c0);return f.radius=f.x,delete f.x,f.angle=f.y,delete f.y,f},Ko.reverse=ra,ra.reverse=Ko,h.svg.area=function(){return uo(K)},h.svg.area.radial=function(){var f=uo(c0);return f.radius=f.x,delete f.x,f.innerRadius=f.x0,delete f.x0,f.outerRadius=f.x1,delete f.x1,f.angle=f.y,delete f.y,f.startAngle=f.y0,delete f.y0,f.endAngle=f.y1,delete f.y1,f},h.svg.chord=function(){var f=Cl,R=A1,V=fs,ae=Na,fe=V1;function me(tt,wt){var _t=Re(this,f,tt,wt),Kt=Re(this,R,tt,wt);return"M"+_t.p0+Ue(_t.r,_t.p1,_t.a1-_t.a0)+(function Ae(tt,wt){return tt.a0==wt.a0&&tt.a1==wt.a1}(_t,Kt)?et(0,0,0,_t.p0):et(0,0,0,Kt.p0)+Ue(Kt.r,Kt.p1,Kt.a1-Kt.a0)+et(0,0,0,_t.p0))+"Z"}function Re(tt,wt,_t,Kt){var Xt=wt.call(tt,_t,Kt),Tt=V.call(tt,Xt,Kt),Rt=ae.call(tt,Xt,Kt)-We,Ht=fe.call(tt,Xt,Kt)-We;return{r:Tt,a0:Rt,a1:Ht,p0:[Tt*Math.cos(Rt),Tt*Math.sin(Rt)],p1:[Tt*Math.cos(Ht),Tt*Math.sin(Ht)]}}function Ue(tt,wt,_t){return"A"+tt+","+tt+" 0 "+ +(_t>Me)+",1 "+wt}function et(tt,wt,_t,Kt){return"Q 0,0 "+Kt}return me.radius=function(tt){return arguments.length?(V=wn(tt),me):V},me.source=function(tt){return arguments.length?(f=wn(tt),me):f},me.target=function(tt){return arguments.length?(R=wn(tt),me):R},me.startAngle=function(tt){return arguments.length?(ae=wn(tt),me):ae},me.endAngle=function(tt){return arguments.length?(fe=wn(tt),me):fe},me},h.svg.diagonal=function(){var f=Cl,R=A1,V=l0;function ae(fe,me){var Re=f.call(this,fe,me),Ae=R.call(this,fe,me),Ue=(Re.y+Ae.y)/2,et=[Re,{x:Re.x,y:Ue},{x:Ae.x,y:Ue},Ae];return"M"+(et=et.map(V))[0]+"C"+et[1]+" "+et[2]+" "+et[3]}return ae.source=function(fe){return arguments.length?(f=wn(fe),ae):f},ae.target=function(fe){return arguments.length?(R=wn(fe),ae):R},ae.projection=function(fe){return arguments.length?(V=fe,ae):V},ae},h.svg.diagonal.radial=function(){var f=h.svg.diagonal(),R=l0,V=f.projection;return f.projection=function(ae){return arguments.length?V(function j4(f){return function(){var R=f.apply(this,arguments),V=R[0],ae=R[1]-We;return[V*Math.cos(ae),V*Math.sin(ae)]}}(R=ae)):R},f},h.svg.symbol=function(){var f=u0,R=$1;function V(ae,fe){return(Do.get(f.call(this,ae,fe))||xl)(R.call(this,ae,fe))}return V.type=function(ae){return arguments.length?(f=wn(ae),V):f},V.size=function(ae){return arguments.length?(R=wn(ae),V):R},V};var Do=h.map({circle:xl,cross:function(f){var R=Math.sqrt(f/5)/2;return"M"+-3*R+","+-R+"H"+-R+"V"+-3*R+"H"+R+"V"+-R+"H"+3*R+"V"+R+"H"+R+"V"+3*R+"H"+-R+"V"+R+"H"+-3*R+"Z"},diamond:function(f){var R=Math.sqrt(f/(2*Qs)),V=R*Qs;return"M0,"+-R+"L"+V+",0 0,"+R+" "+-V+",0Z"},square:function(f){var R=Math.sqrt(f)/2;return"M"+-R+","+-R+"L"+R+","+-R+" "+R+","+R+" "+-R+","+R+"Z"},"triangle-down":function(f){var R=Math.sqrt(f/f0),V=R*f0/2;return"M0,"+V+"L"+R+","+-V+" "+-R+","+-V+"Z"},"triangle-up":function(f){var R=Math.sqrt(f/f0),V=R*f0/2;return"M0,"+-V+"L"+R+","+V+" "+-R+","+V+"Z"}});h.svg.symbolTypes=Do.keys();var f0=Math.sqrt(3),Qs=Math.tan(30*Ze);N.transition=function(f){for(var fe,me,R=zc||++g3,V=Y4(f),ae=[],Re=X2||{time:Date.now(),ease:V2,delay:0,duration:250},Ae=-1,Ue=this.length;++Ae<Ue;){ae.push(fe=[]);for(var et=this[Ae],tt=-1,wt=et.length;++tt<wt;)(me=et[tt])&&qo(me,tt,V,R,Re),fe.push(me)}return d0(ae,V,R)},N.interrupt=function(f){return this.each(null==f?Ml:rf(Y4(f)))};var Ml=rf(Y4());function rf(f){return function(){var R,V,ae;(R=this[f])&&(ae=R[V=R.active])&&(ae.timer.c=null,ae.timer.t=NaN,--R.count?delete R[V]:delete this[f],R.active+=.5,ae.event&&ae.event.interrupt.call(this,this.__data__,ae.index))}}function d0(f,R,V){return ye(f,ns),f.namespace=R,f.id=V,f}var zc,X2,ns=[],g3=0;function y3(f,R,V,ae){var fe=f.id,me=f.namespace;return Dt(f,"function"==typeof V?function(Re,Ae,Ue){Re[me][fe].tween.set(R,ae(V.call(Re,Re.__data__,Ae,Ue)))}:(V=ae(V),function(Re){Re[me][fe].tween.set(R,V)}))}function c5(f){return null==f&&(f=""),function(){this.textContent=f}}function Y4(f){return null==f?"__transition__":"__transition_"+f+"__"}function qo(f,R,V,ae,fe){var Ae,Ue,et,tt,wt,me=f[V]||(f[V]={active:0,count:0}),Re=me[ae];function Kt(Tt){var Rt=me.active,Ht=me[Rt];for(var Ut in Ht&&(Ht.timer.c=null,Ht.timer.t=NaN,--me.count,delete me[Rt],Ht.event&&Ht.event.interrupt.call(f,f.__data__,Ht.index)),me)if(+Ut<ae){var tn=me[Ut];tn.timer.c=null,tn.timer.t=NaN,--me.count,delete me[Ut]}Ue.c=Xt,ka(function(){return Ue.c&&Xt(Tt||1)&&(Ue.c=null,Ue.t=NaN),1},0,Ae),me.active=ae,Re.event&&Re.event.start.call(f,f.__data__,R),wt=[],Re.tween.forEach(function(jt,Ln){(Ln=Ln.call(f,f.__data__,R))&&wt.push(Ln)}),tt=Re.ease,et=Re.duration}function Xt(Tt){for(var Rt=Tt/et,Ht=tt(Rt),Ut=wt.length;Ut>0;)wt[--Ut].call(f,Ht);if(Rt>=1)return Re.event&&Re.event.end.call(f,f.__data__,R),--me.count?delete me[ae]:delete f[V],1}Re||(Ue=ka(function _t(Tt){var Rt=Re.delay;if(Ue.t=Rt+Ae,Rt<=Tt)return Kt(Tt-Rt);Ue.c=Kt},0,Ae=fe.time),Re=me[ae]={tween:new G,time:Ae,timer:Ue,delay:fe.delay,duration:fe.duration,ease:fe.ease,index:R},fe=null,++me.count)}ns.call=N.call,ns.empty=N.empty,ns.node=N.node,ns.size=N.size,h.transition=function(f,R){return f&&f.transition?zc?f.transition(R):f:h.selection().transition(f)},h.transition.prototype=ns,ns.select=function(f){var fe,me,Re,R=this.id,V=this.namespace,ae=[];f=ee(f);for(var Ae=-1,Ue=this.length;++Ae<Ue;){ae.push(fe=[]);for(var et=this[Ae],tt=-1,wt=et.length;++tt<wt;)(Re=et[tt])&&(me=f.call(Re,Re.__data__,tt,Ae))?("__data__"in Re&&(me.__data__=Re.__data__),qo(me,tt,V,R,Re[V][R]),fe.push(me)):fe.push(null)}return d0(ae,V,R)},ns.selectAll=function(f){var fe,me,Re,Ae,Ue,R=this.id,V=this.namespace,ae=[];f=B(f);for(var et=-1,tt=this.length;++et<tt;)for(var wt=this[et],_t=-1,Kt=wt.length;++_t<Kt;)if(Re=wt[_t]){Ue=Re[V][R],me=f.call(Re,Re.__data__,_t,et),ae.push(fe=[]);for(var Xt=-1,Tt=me.length;++Xt<Tt;)(Ae=me[Xt])&&qo(Ae,Xt,V,R,Ue),fe.push(Ae)}return d0(ae,V,R)},ns.filter=function(f){var V,fe,R=[];"function"!=typeof f&&(f=Ke(f));for(var me=0,Re=this.length;me<Re;me++){R.push(V=[]);for(var ae,Ae=0,Ue=(ae=this[me]).length;Ae<Ue;Ae++)(fe=ae[Ae])&&f.call(fe,fe.__data__,Ae,me)&&V.push(fe)}return d0(R,this.namespace,this.id)},ns.tween=function(f,R){var V=this.id,ae=this.namespace;return arguments.length<2?this.node()[ae][V].tween.get(f):Dt(this,null==R?function(fe){fe[ae][V].tween.remove(f)}:function(fe){fe[ae][V].tween.set(f,R)})},ns.attr=function(f,R){if(arguments.length<2){for(R in f)this.attr(R,f[R]);return this}var V="transform"==f?gr:us,ae=h.ns.qualify(f);function fe(){this.removeAttribute(ae)}function me(){this.removeAttributeNS(ae.space,ae.local)}return y3(this,"attr."+f,R,ae.local?function Ae(Ue){return null==Ue?me:(Ue+="",function(){var tt,et=this.getAttributeNS(ae.space,ae.local);return et!==Ue&&(tt=V(et,Ue),function(wt){this.setAttributeNS(ae.space,ae.local,tt(wt))})})}:function Re(Ue){return null==Ue?fe:(Ue+="",function(){var tt,et=this.getAttribute(ae);return et!==Ue&&(tt=V(et,Ue),function(wt){this.setAttribute(ae,tt(wt))})})})},ns.attrTween=function(f,R){var V=h.ns.qualify(f);return this.tween("attr."+f,V.local?function fe(me,Re){var Ae=R.call(this,me,Re,this.getAttributeNS(V.space,V.local));return Ae&&function(Ue){this.setAttributeNS(V.space,V.local,Ae(Ue))}}:function ae(me,Re){var Ae=R.call(this,me,Re,this.getAttribute(V));return Ae&&function(Ue){this.setAttribute(V,Ae(Ue))}})},ns.style=function(f,R,V){var ae=arguments.length;if(ae<3){if("string"!=typeof f){for(V in ae<2&&(R=""),f)this.style(V,f[V],R);return this}V=""}function fe(){this.style.removeProperty(f)}return y3(this,"style."+f,R,function me(Re){return null==Re?fe:(Re+="",function(){var Ue,Ae=m(this).getComputedStyle(this,null).getPropertyValue(f);return Ae!==Re&&(Ue=us(Ae,Re),function(et){this.style.setProperty(f,Ue(et),V)})})})},ns.styleTween=function(f,R,V){return arguments.length<3&&(V=""),this.tween("style."+f,function ae(fe,me){var Re=R.call(this,fe,me,m(this).getComputedStyle(this,null).getPropertyValue(f));return Re&&function(Ae){this.style.setProperty(f,Re(Ae),V)}})},ns.text=function(f){return y3(this,"text",f,c5)},ns.remove=function(){var f=this.namespace;return this.each("end.transition",function(){var R;this[f].count<2&&(R=this.parentNode)&&R.removeChild(this)})},ns.ease=function(f){var R=this.id,V=this.namespace;return arguments.length<1?this.node()[V][R].ease:("function"!=typeof f&&(f=h.ease.apply(h,arguments)),Dt(this,function(ae){ae[V][R].ease=f}))},ns.delay=function(f){var R=this.id,V=this.namespace;return arguments.length<1?this.node()[V][R].delay:Dt(this,"function"==typeof f?function(ae,fe,me){ae[V][R].delay=+f.call(ae,ae.__data__,fe,me)}:(f=+f,function(ae){ae[V][R].delay=f}))},ns.duration=function(f){var R=this.id,V=this.namespace;return arguments.length<1?this.node()[V][R].duration:Dt(this,"function"==typeof f?function(ae,fe,me){ae[V][R].duration=Math.max(1,f.call(ae,ae.__data__,fe,me))}:(f=Math.max(1,f),function(ae){ae[V][R].duration=f}))},ns.each=function(f,R){var V=this.id,ae=this.namespace;if(arguments.length<2){var fe=X2,me=zc;try{zc=V,Dt(this,function(Re,Ae,Ue){X2=Re[ae][V],f.call(Re,Re.__data__,Ae,Ue)})}finally{X2=fe,zc=me}}else Dt(this,function(Re){var Ae=Re[ae][V];(Ae.event||(Ae.event=h.dispatch("start","end","interrupt"))).on(f,R)});return this},ns.transition=function(){for(var fe,Re,Ae,f=this.id,R=++g3,V=this.namespace,ae=[],Ue=0,et=this.length;Ue<et;Ue++){ae.push(fe=[]);for(var me,tt=0,wt=(me=this[Ue]).length;tt<wt;tt++)(Re=me[tt])&&qo(Re,tt,V,R,{time:(Ae=Re[V][f]).time,ease:Ae.ease,delay:Ae.delay+Ae.duration,duration:Ae.duration}),fe.push(Re)}return d0(ae,V,R)},h.svg.axis=function(){var Ae,f=h.scale.linear(),R=b3,V=6,ae=6,fe=3,me=[10],Re=null;function Ue(et){et.each(function(){var jt,tt=h.select(this),wt=this.__chart__||f,_t=this.__chart__=f.copy(),Kt=Re??(_t.ticks?_t.ticks.apply(_t,me):_t.domain()),Xt=Ae??(_t.tickFormat?_t.tickFormat.apply(_t,me):K),Tt=tt.selectAll(".tick").data(Kt,_t),Rt=Tt.enter().insert("g",".domain").attr("class","tick").style("opacity",ke),Ht=h.transition(Tt.exit()).style("opacity",ke).remove(),Ut=h.transition(Tt.order()).style("opacity",1),tn=Math.max(V,0)+fe,Ln=Yo(_t),nr=tt.selectAll(".domain").data([0]),sr=(nr.enter().append("path").attr("class","domain"),h.transition(nr));Rt.append("line"),Rt.append("text");var fi,vi,ti,Kn,ar=Rt.select("line"),qn=Ut.select("line"),fr=Tt.select("text").text(Xt),kr=Rt.select("text"),dr=Ut.select("text"),Mr="top"===R||"left"===R?-1:1;if("bottom"===R||"top"===R?(jt=Z4,fi="x",ti="y",vi="x2",Kn="y2",fr.attr("dy",Mr<0?"0em":".71em").style("text-anchor","middle"),sr.attr("d","M"+Ln[0]+","+Mr*ae+"V0H"+Ln[1]+"V"+Mr*ae)):(jt=af,fi="y",ti="x",vi="y2",Kn="x2",fr.attr("dy",".32em").style("text-anchor",Mr<0?"end":"start"),sr.attr("d","M"+Mr*ae+","+Ln[0]+"H0V"+Ln[1]+"H"+Mr*ae)),ar.attr(Kn,Mr*V),kr.attr(ti,Mr*tn),qn.attr(vi,0).attr(Kn,Mr*V),dr.attr(fi,0).attr(ti,Mr*tn),_t.rangeBand){var wr=_t,er=wr.rangeBand()/2;wt=_t=function(gi){return wr(gi)+er}}else wt.rangeBand?wt=_t:Ht.call(jt,_t,wt);Rt.call(jt,wt,_t),Ut.call(jt,_t,_t)})}return Ue.scale=function(et){return arguments.length?(f=et,Ue):f},Ue.orient=function(et){return arguments.length?(R=et in l5?et+"":b3,Ue):R},Ue.ticks=function(){return arguments.length?(me=d(arguments),Ue):me},Ue.tickValues=function(et){return arguments.length?(Re=et,Ue):Re},Ue.tickFormat=function(et){return arguments.length?(Ae=et,Ue):Ae},Ue.tickSize=function(et){var tt=arguments.length;return tt?(V=+et,ae=+arguments[tt-1],Ue):V},Ue.innerTickSize=function(et){return arguments.length?(V=+et,Ue):V},Ue.outerTickSize=function(et){return arguments.length?(ae=+et,Ue):ae},Ue.tickPadding=function(et){return arguments.length?(fe=+et,Ue):fe},Ue.tickSubdivide=function(){return arguments.length&&Ue},Ue};var b3="bottom",l5={top:1,right:1,bottom:1,left:1};function Z4(f,R,V){f.attr("transform",function(ae){var fe=R(ae);return"translate("+(isFinite(fe)?fe:V(ae))+",0)"})}function af(f,R,V){f.attr("transform",function(ae){var fe=R(ae);return"translate(0,"+(isFinite(fe)?fe:V(ae))+")"})}h.svg.brush=function(){var me,Re,f=Fe(tt,"brushstart","brush","brushend"),R=null,V=null,ae=[0,0],fe=[0,0],Ae=!0,Ue=!0,et=C3[0];function tt(Tt){Tt.each(function(){var Rt=h.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Xt).on("touchstart.brush",Xt),Ht=Rt.selectAll(".background").data([0]);Ht.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Rt.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Ut=Rt.selectAll(".resize").data(et,K);Ut.exit().remove(),Ut.enter().append("g").attr("class",function(nr){return"resize "+nr}).style("cursor",function(nr){return u5[nr]}).append("rect").attr("x",function(nr){return/[ew]$/.test(nr)?-3:null}).attr("y",function(nr){return/^[ns]/.test(nr)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),Ut.style("display",tt.empty()?"none":null);var Ln,tn=h.transition(Rt),jt=h.transition(Ht);R&&(Ln=Yo(R),jt.attr("x",Ln[0]).attr("width",Ln[1]-Ln[0]),_t(tn)),V&&(Ln=Yo(V),jt.attr("y",Ln[0]).attr("height",Ln[1]-Ln[0]),Kt(tn)),wt(tn)})}function wt(Tt){Tt.selectAll(".resize").attr("transform",function(Rt){return"translate("+ae[+/e$/.test(Rt)]+","+fe[+/^s/.test(Rt)]+")"})}function _t(Tt){Tt.select(".extent").attr("x",ae[0]),Tt.selectAll(".extent,.n>rect,.s>rect").attr("width",ae[1]-ae[0])}function Kt(Tt){Tt.select(".extent").attr("y",fe[0]),Tt.selectAll(".extent,.e>rect,.w>rect").attr("height",fe[1]-fe[0])}function Xt(){var ar,fr,Tt=this,Rt=h.select(h.event.target),Ht=f.of(Tt,arguments),Ut=h.select(Tt),tn=Rt.datum(),jt=!/^(n|s)$/.test(tn)&&R,Ln=!/^(e|w)$/.test(tn)&&V,nr=Rt.classed("extent"),sr=sn(Tt),qn=h.mouse(Tt),kr=h.select(m(Tt)).on("keydown.brush",function fi(){32==h.event.keyCode&&(nr||(ar=null,qn[0]-=ae[1],qn[1]-=fe[1],nr=2),Ne())}).on("keyup.brush",function vi(){32==h.event.keyCode&&2==nr&&(qn[0]+=ae[1],qn[1]+=fe[1],nr=0,Ne())});if(h.event.changedTouches?kr.on("touchmove.brush",ti).on("touchend.brush",wr):kr.on("mousemove.brush",ti).on("mouseup.brush",wr),Ut.interrupt().selectAll("*").interrupt(),nr)qn[0]=ae[0]-qn[0],qn[1]=fe[0]-qn[1];else if(tn){var dr=+/w$/.test(tn),Mr=+/^n/.test(tn);fr=[ae[1-dr]-qn[0],fe[1-Mr]-qn[1]],qn[0]=ae[dr],qn[1]=fe[Mr]}else h.event.altKey&&(ar=qn.slice());function ti(){var er=h.mouse(Tt),gi=!1;fr&&(er[0]+=fr[0],er[1]+=fr[1]),nr||(h.event.altKey?(ar||(ar=[(ae[0]+ae[1])/2,(fe[0]+fe[1])/2]),qn[0]=ae[+(er[0]<ar[0])],qn[1]=fe[+(er[1]<ar[1])]):ar=null),jt&&Kn(er,R,0)&&(_t(Ut),gi=!0),Ln&&Kn(er,V,1)&&(Kt(Ut),gi=!0),gi&&(wt(Ut),Ht({type:"brush",mode:nr?"move":"resize"}))}function Kn(er,gi,ia){var bs,Js,Ra=Yo(gi),rs=Ra[0],ys=Ra[1],La=qn[ia],$a=ia?fe:ae,Wa=$a[1]-$a[0];if(nr&&(rs-=La,ys-=Wa+La),bs=(ia?Ue:Ae)?Math.max(rs,Math.min(ys,er[ia])):er[ia],nr?Js=(bs+=La)+Wa:(ar&&(La=Math.max(rs,Math.min(ys,2*ar[ia]-bs))),La<bs?(Js=bs,bs=La):Js=La),$a[0]!=bs||$a[1]!=Js)return ia?Re=null:me=null,$a[0]=bs,$a[1]=Js,!0}function wr(){ti(),Ut.style("pointer-events","all").selectAll(".resize").style("display",tt.empty()?"none":null),h.select("body").style("cursor",null),kr.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),sr(),Ht({type:"brushend"})}Ut.style("pointer-events","none").selectAll(".resize").style("display",null),h.select("body").style("cursor",Rt.style("cursor")),Ht({type:"brushstart"}),ti()}return tt.event=function(Tt){Tt.each(function(){var Rt=f.of(this,arguments),Ht={x:ae,y:fe,i:me,j:Re},Ut=this.__chart__||Ht;this.__chart__=Ht,zc?h.select(this).transition().each("start.brush",function(){me=Ut.i,Re=Ut.j,ae=Ut.x,fe=Ut.y,Rt({type:"brushstart"})}).tween("brush:brush",function(){var tn=Cc(ae,Ht.x),jt=Cc(fe,Ht.y);return me=Re=null,function(Ln){ae=Ht.x=tn(Ln),fe=Ht.y=jt(Ln),Rt({type:"brush",mode:"resize"})}}).each("end.brush",function(){me=Ht.i,Re=Ht.j,Rt({type:"brush",mode:"resize"}),Rt({type:"brushend"})}):(Rt({type:"brushstart"}),Rt({type:"brush",mode:"resize"}),Rt({type:"brushend"}))})},tt.x=function(Tt){return arguments.length?(et=C3[!(R=Tt)<<1|!V],tt):R},tt.y=function(Tt){return arguments.length?(et=C3[!R<<1|!(V=Tt)],tt):V},tt.clamp=function(Tt){return arguments.length?(R&&V?(Ae=!!Tt[0],Ue=!!Tt[1]):R?Ae=!!Tt:V&&(Ue=!!Tt),tt):R&&V?[Ae,Ue]:R?Ae:V?Ue:null},tt.extent=function(Tt){var Rt,Ht,Ut,tn,jt;return arguments.length?(R&&(Rt=Tt[0],Ht=Tt[1],V&&(Rt=Rt[0],Ht=Ht[0]),me=[Rt,Ht],R.invert&&(Rt=R(Rt),Ht=R(Ht)),Ht<Rt&&(jt=Rt,Rt=Ht,Ht=jt),(Rt!=ae[0]||Ht!=ae[1])&&(ae=[Rt,Ht])),V&&(Ut=Tt[0],tn=Tt[1],R&&(Ut=Ut[1],tn=tn[1]),Re=[Ut,tn],V.invert&&(Ut=V(Ut),tn=V(tn)),tn<Ut&&(jt=Ut,Ut=tn,tn=jt),(Ut!=fe[0]||tn!=fe[1])&&(fe=[Ut,tn])),tt):(R&&(me?(Rt=me[0],Ht=me[1]):(Rt=ae[0],Ht=ae[1],R.invert&&(Rt=R.invert(Rt),Ht=R.invert(Ht)),Ht<Rt&&(jt=Rt,Rt=Ht,Ht=jt))),V&&(Re?(Ut=Re[0],tn=Re[1]):(Ut=fe[0],tn=fe[1],V.invert&&(Ut=V.invert(Ut),tn=V.invert(tn)),tn<Ut&&(jt=Ut,Ut=tn,tn=jt))),R&&V?[[Rt,Ut],[Ht,tn]]:R?[Rt,Ht]:V&&[Ut,tn])},tt.clear=function(){return tt.empty()||(ae=[0,0],fe=[0,0],me=Re=null),tt},tt.empty=function(){return!!R&&ae[0]==ae[1]||!!V&&fe[0]==fe[1]},h.rebind(tt,f,"on")};var u5={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},C3=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function X4(f){return JSON.parse(f.responseText)}function As(f){var R=y.createRange();return R.selectNode(y.body),R.createContextualFragment(f.responseText)}h.text=Tn(function(f){return f.responseText}),h.json=function(f,R){return jn(f,"application/json",X4,R)},h.html=function(f,R){return jn(f,"text/html",As,R)},h.xml=Tn(function(f){return f.responseXML}),void 0!==(T="function"==typeof(p=h)?p.call(j,o,j,Ce):p)&&(Ce.exports=T)}).apply(self)},3160:function(Ce,j,o){"use strict";o.r(j),o.d(j,{decode:function(){return d},encode:function(){return v}});for(var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=typeof Uint8Array>"u"?[]:new Uint8Array(256),h=0;h<64;h++)T[p.charCodeAt(h)]=h;var v=function(y){var m,g=new Uint8Array(y),c=g.length,C="";for(m=0;m<c;m+=3)C+=p[g[m]>>2],C+=p[(3&g[m])<<4|g[m+1]>>4],C+=p[(15&g[m+1])<<2|g[m+2]>>6],C+=p[63&g[m+2]];return c%3==2?C=C.substring(0,C.length-1)+"=":c%3==1&&(C=C.substring(0,C.length-2)+"=="),C},d=function(y){var c,w,S,z,A,g=.75*y.length,m=y.length,C=0;"="===y[y.length-1]&&(g--,"="===y[y.length-2]&&g--);var D=new ArrayBuffer(g),_=new Uint8Array(D);for(c=0;c<m;c+=4)w=T[y.charCodeAt(c)],S=T[y.charCodeAt(c+1)],z=T[y.charCodeAt(c+2)],A=T[y.charCodeAt(c+3)],_[C++]=w<<2|S>>4,_[C++]=(15&S)<<4|z>>2,_[C++]=(3&z)<<6|63&A;return D}},7624:function(Ce,j,o){"use strict";function T(I,G){if(($=(I=G?I.toExponential(G-1):I.toExponential()).indexOf("e"))<0)return null;var $,J=I.slice(0,$);return[J.length>1?J[0]+J.slice(2):J,+I.slice($+1)]}o.d(j,{E9:function(){return L},SO:function(){return E}});var C,y=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function g(I){if(!(G=y.exec(I)))throw new Error("invalid format: "+I);var G;return new m({fill:G[1],align:G[2],sign:G[3],symbol:G[4],zero:G[5],width:G[6],comma:G[7],precision:G[8]&&G[8].slice(1),trim:G[9],type:G[10]})}function m(I){this.fill=void 0===I.fill?" ":I.fill+"",this.align=void 0===I.align?">":I.align+"",this.sign=void 0===I.sign?"-":I.sign+"",this.symbol=void 0===I.symbol?"":I.symbol+"",this.zero=!!I.zero,this.width=void 0===I.width?void 0:+I.width,this.comma=!!I.comma,this.precision=void 0===I.precision?void 0:+I.precision,this.trim=!!I.trim,this.type=void 0===I.type?"":I.type+""}function S(I,G){var $=T(I,G);if(!$)return I+"";var J=$[0],re=$[1];return re<0?"0."+new Array(-re).join("0")+J:J.length>re+1?J.slice(0,re+1)+"."+J.slice(re+1):J+new Array(re-J.length+2).join("0")}g.prototype=m.prototype,m.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var z={"%":function(I,G){return(100*I).toFixed(G)},b:function(I){return Math.round(I).toString(2)},c:function(I){return I+""},d:function p(I){return Math.abs(I=Math.round(I))>=1e21?I.toLocaleString("en").replace(/,/g,""):I.toString(10)},e:function(I,G){return I.toExponential(G)},f:function(I,G){return I.toFixed(G)},g:function(I,G){return I.toPrecision(G)},o:function(I){return Math.round(I).toString(8)},p:function(I,G){return S(100*I,G)},r:S,s:function w(I,G){var $=T(I,G);if(!$)return I+"";var J=$[0],re=$[1],O=re-(C=3*Math.max(-8,Math.min(8,Math.floor(re/3))))+1,Q=J.length;return O===Q?J:O>Q?J+new Array(O-Q+1).join("0"):O>0?J.slice(0,O)+"."+J.slice(O):"0."+new Array(1-O).join("0")+T(I,Math.max(0,G+O-1))[0]},X:function(I){return Math.round(I).toString(16).toUpperCase()},x:function(I){return Math.round(I).toString(16)}};function A(I){return I}var M,L,D=Array.prototype.map,_=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function E(I){var G=void 0===I.grouping||void 0===I.thousands?A:function v(I,G){return function($,J){for(var re=$.length,O=[],Q=0,U=I[0],ne=0;re>0&&U>0&&(ne+U+1>J&&(U=Math.max(1,J-ne)),O.push($.substring(re-=U,re+U)),!((ne+=U+1)>J));)U=I[Q=(Q+1)%I.length];return O.reverse().join(G)}}(D.call(I.grouping,Number),I.thousands+""),$=void 0===I.currency?"":I.currency[0]+"",J=void 0===I.currency?"":I.currency[1]+"",re=void 0===I.decimal?".":I.decimal+"",O=void 0===I.numerals?A:function d(I){return function(G){return G.replace(/[0-9]/g,function($){return I[+$]})}}(D.call(I.numerals,String)),Q=void 0===I.percent?"%":I.percent+"",U=void 0===I.minus?"-":I.minus+"",ne=void 0===I.nan?"NaN":I.nan+"";function le(W){var K=(W=g(W)).fill,X=W.align,ie=W.sign,ue=W.symbol,ce=W.zero,ge=W.width,De=W.comma,Ne=W.precision,Be=W.trim,Fe=W.type;"n"===Fe?(De=!0,Fe="g"):z[Fe]||(void 0===Ne&&(Ne=12),Be=!0,Fe="g"),(ce||"0"===K&&"="===X)&&(ce=!0,K="0",X="=");var Se="$"===ue?$:"#"===ue&&/[boxX]/.test(Fe)?"0"+Fe.toLowerCase():"",ye="$"===ue?J:/[%p]/.test(Fe)?Q:"",H=z[Fe],Y=/[defgprs%]/.test(Fe);function te(Z){var B,se,xe,N=Se,ee=ye;if("c"===Fe)ee=H(Z)+ee,Z="";else{var Te=(Z=+Z)<0||1/Z<0;if(Z=isNaN(Z)?ne:H(Math.abs(Z),Ne),Be&&(Z=function c(I){e:for(var re,G=I.length,$=1,J=-1;$<G;++$)switch(I[$]){case".":J=re=$;break;case"0":0===J&&(J=$),re=$;break;default:if(!+I[$])break e;J>0&&(J=0)}return J>0?I.slice(0,J)+I.slice(re+1):I}(Z)),Te&&0==+Z&&"+"!==ie&&(Te=!1),N=(Te?"("===ie?ie:U:"-"===ie||"("===ie?"":ie)+N,ee=("s"===Fe?_[8+C/3]:"")+ee+(Te&&"("===ie?")":""),Y)for(B=-1,se=Z.length;++B<se;)if(48>(xe=Z.charCodeAt(B))||xe>57){ee=(46===xe?re+Z.slice(B+1):Z.slice(B))+ee,Z=Z.slice(0,B);break}}De&&!ce&&(Z=G(Z,1/0));var Ee=N.length+Z.length+ee.length,Oe=Ee<ge?new Array(ge-Ee+1).join(K):"";switch(De&&ce&&(Z=G(Oe+Z,Oe.length?ge-ee.length:1/0),Oe=""),X){case"<":Z=N+Z+ee+Oe;break;case"=":Z=N+Oe+Z+ee;break;case"^":Z=Oe.slice(0,Ee=Oe.length>>1)+N+Z+ee+Oe.slice(Ee);break;default:Z=Oe+N+Z+ee}return O(Z)}return Ne=void 0===Ne?6:/[gprs]/.test(Fe)?Math.max(1,Math.min(21,Ne)):Math.max(0,Math.min(20,Ne)),te.toString=function(){return W+""},te}return{format:le,formatPrefix:function pe(W,K){var X=le(((W=g(W)).type="f",W)),ie=3*Math.max(-8,Math.min(8,Math.floor(function h(I){return(I=T(Math.abs(I)))?I[1]:NaN}(K)/3))),ue=Math.pow(10,-ie),ce=_[8+ie/3];return function(ge){return X(ue*ge)+ce}}}}!function P(I){return M=E(I),L=M.format,M}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"})},4336:function(Ce,j,o){"use strict";o.d(j,{Yn:function(){return en},m_:function(){return C},E9:function(){return pt}});var p=o(8208),T=o(8931),h=o(6192),v=o(8936),d=o(2171),y=o(3528);function g(ke){if(0<=ke.y&&ke.y<100){var Xe=new Date(-1,ke.m,ke.d,ke.H,ke.M,ke.S,ke.L);return Xe.setFullYear(ke.y),Xe}return new Date(ke.y,ke.m,ke.d,ke.H,ke.M,ke.S,ke.L)}function m(ke){if(0<=ke.y&&ke.y<100){var Xe=new Date(Date.UTC(-1,ke.m,ke.d,ke.H,ke.M,ke.S,ke.L));return Xe.setUTCFullYear(ke.y),Xe}return new Date(Date.UTC(ke.y,ke.m,ke.d,ke.H,ke.M,ke.S,ke.L))}function c(ke,Xe,Me){return{y:ke,m:Xe,d:Me,H:0,M:0,S:0,L:0}}function C(ke){var Xe=ke.dateTime,Me=ke.date,_e=ke.time,He=ke.periods,We=ke.days,Ze=ke.shortDays,nt=ke.months,Bt=ke.shortMonths,Je=E(He),Ct=M(He),st=E(We),Pt=M(We),cn=E(Ze),_n=M(Ze),Nn=E(nt),Vn=M(nt),$n=E(Bt),fn=M(Bt),Rn={a:function bn(It){return Ze[It.getDay()]},A:function ve(It){return We[It.getDay()]},b:function he(It){return Bt[It.getMonth()]},B:function ut(It){return nt[It.getMonth()]},c:null,d:ge,e:ge,f:Se,H:De,I:Ne,j:Be,L:Fe,m:ye,M:H,p:function mt(It){return He[+(It.getHours()>=12)]},q:function at(It){return 1+~~(It.getMonth()/3)},Q:Lt,s:Qt,S:Y,u:te,U:Z,V:N,w:ee,W:B,x:null,X:null,y:se,Y:xe,Z:Te,"%":Gt},En={a:function it(It){return Ze[It.getUTCDay()]},A:function ot(It){return We[It.getUTCDay()]},b:function St(It){return Bt[It.getUTCMonth()]},B:function bt(It){return nt[It.getUTCMonth()]},c:null,d:Ee,e:Ee,f:gt,H:Oe,I:$e,j:ct,L:ft,m:ze,M:Ve,p:function Et(It){return He[+(It.getUTCHours()>=12)]},q:function Nt(It){return 1+~~(It.getUTCMonth()/3)},Q:Lt,s:Qt,S:Pe,u:Qe,U:Ke,V:dt,w:Dt,W:$t,x:null,X:null,y:Ot,Y:kt,Z:At,"%":Gt},Pn={a:function In(It,qt,hn){var Vt=cn.exec(qt.slice(hn));return Vt?(It.w=_n[Vt[0].toLowerCase()],hn+Vt[0].length):-1},A:function Fn(It,qt,hn){var Vt=st.exec(qt.slice(hn));return Vt?(It.w=Pt[Vt[0].toLowerCase()],hn+Vt[0].length):-1},b:function vr(It,qt,hn){var Vt=$n.exec(qt.slice(hn));return Vt?(It.m=fn[Vt[0].toLowerCase()],hn+Vt[0].length):-1},B:function ir(It,qt,hn){var Vt=Nn.exec(qt.slice(hn));return Vt?(It.m=Vn[Vt[0].toLowerCase()],hn+Vt[0].length):-1},c:function On(It,qt,hn){return mn(It,Xe,qt,hn)},d:U,e:U,f:X,H:le,I:le,j:ne,L:K,m:Q,M:pe,p:function Wn(It,qt,hn){var Vt=Je.exec(qt.slice(hn));return Vt?(It.p=Ct[Vt[0].toLowerCase()],hn+Vt[0].length):-1},q:O,Q:ue,s:ce,S:W,u:b,U:P,V:I,w:L,W:G,x:function hr(It,qt,hn){return mn(It,Me,qt,hn)},X:function rr(It,qt,hn){return mn(It,_e,qt,hn)},y:J,Y:$,Z:re,"%":ie};function Zn(It,qt){return function(hn){var Tn,jn,or,Vt=[],Mn=-1,Wt=0,wn=It.length;for(hn instanceof Date||(hn=new Date(+hn));++Mn<wn;)37===It.charCodeAt(Mn)&&(Vt.push(It.slice(Wt,Mn)),null!=(jn=w[Tn=It.charAt(++Mn)])?Tn=It.charAt(++Mn):jn="e"===Tn?" ":"0",(or=qt[Tn])&&(Tn=or(hn,jn)),Vt.push(Tn),Wt=Mn+1);return Vt.push(It.slice(Wt,Mn)),Vt.join("")}}function Yn(It,qt){return function(hn){var Wt,wn,Vt=c(1900,void 0,1);if(mn(Vt,It,hn+="",0)!=hn.length)return null;if("Q"in Vt)return new Date(Vt.Q);if("s"in Vt)return new Date(1e3*Vt.s+("L"in Vt?Vt.L:0));if(qt&&!("Z"in Vt)&&(Vt.Z=0),"p"in Vt&&(Vt.H=Vt.H%12+12*Vt.p),void 0===Vt.m&&(Vt.m="q"in Vt?Vt.q:0),"V"in Vt){if(Vt.V<1||Vt.V>53)return null;"w"in Vt||(Vt.w=1),"Z"in Vt?(wn=(Wt=m(c(Vt.y,0,1))).getUTCDay(),Wt=wn>4||0===wn?p.ot.ceil(Wt):(0,p.ot)(Wt),Wt=T.c.offset(Wt,7*(Vt.V-1)),Vt.y=Wt.getUTCFullYear(),Vt.m=Wt.getUTCMonth(),Vt.d=Wt.getUTCDate()+(Vt.w+6)%7):(wn=(Wt=g(c(Vt.y,0,1))).getDay(),Wt=wn>4||0===wn?h.qT.ceil(Wt):(0,h.qT)(Wt),Wt=v.c.offset(Wt,7*(Vt.V-1)),Vt.y=Wt.getFullYear(),Vt.m=Wt.getMonth(),Vt.d=Wt.getDate()+(Vt.w+6)%7)}else("W"in Vt||"U"in Vt)&&("w"in Vt||(Vt.w="u"in Vt?Vt.u%7:"W"in Vt?1:0),wn="Z"in Vt?m(c(Vt.y,0,1)).getUTCDay():g(c(Vt.y,0,1)).getDay(),Vt.m=0,Vt.d="W"in Vt?(Vt.w+6)%7+7*Vt.W-(wn+5)%7:Vt.w+7*Vt.U-(wn+6)%7);return"Z"in Vt?(Vt.H+=Vt.Z/100|0,Vt.M+=Vt.Z%100,m(Vt)):g(Vt)}}function mn(It,qt,hn,Vt){for(var Tn,jn,Mn=0,Wt=qt.length,wn=hn.length;Mn<Wt;){if(Vt>=wn)return-1;if(37===(Tn=qt.charCodeAt(Mn++))){if(Tn=qt.charAt(Mn++),!(jn=Pn[Tn in w?qt.charAt(Mn++):Tn])||(Vt=jn(It,hn,Vt))<0)return-1}else if(Tn!=hn.charCodeAt(Vt++))return-1}return Vt}return Rn.x=Zn(Me,Rn),Rn.X=Zn(_e,Rn),Rn.c=Zn(Xe,Rn),En.x=Zn(Me,En),En.X=Zn(_e,En),En.c=Zn(Xe,En),{format:function(It){var qt=Zn(It+="",Rn);return qt.toString=function(){return It},qt},parse:function(It){var qt=Yn(It+="",!1);return qt.toString=function(){return It},qt},utcFormat:function(It){var qt=Zn(It+="",En);return qt.toString=function(){return It},qt},utcParse:function(It){var qt=Yn(It+="",!0);return qt.toString=function(){return It},qt}}}var Jt,en,pt,w={"-":"",_:" ",0:"0"},S=/^\s*\d+/,z=/^%/,A=/[\\^$*+?|[\]().{}]/g;function D(ke,Xe,Me){var _e=ke<0?"-":"",He=(_e?-ke:ke)+"",We=He.length;return _e+(We<Me?new Array(Me-We+1).join(Xe)+He:He)}function _(ke){return ke.replace(A,"\\$&")}function E(ke){return new RegExp("^(?:"+ke.map(_).join("|")+")","i")}function M(ke){for(var Xe={},Me=-1,_e=ke.length;++Me<_e;)Xe[ke[Me].toLowerCase()]=Me;return Xe}function L(ke,Xe,Me){var _e=S.exec(Xe.slice(Me,Me+1));return _e?(ke.w=+_e[0],Me+_e[0].length):-1}function b(ke,Xe,Me){var _e=S.exec(Xe.slice(Me,Me+1));return _e?(ke.u=+_e[0],Me+_e[0].length):-1}function P(ke,Xe,Me){var _e=S.exec(Xe.slice(Me,Me+2));return _e?(ke.U=+_e[0],Me+_e[0].length):-1}function I(ke,Xe,Me){var _e=S.exec(Xe.slice(Me,Me+2));return _e?(ke.V=+_e[0],Me+_e[0].length):-1}function G(ke,Xe,Me){var _e=S.exec(Xe.slice(Me,Me+2));return _e?(ke.W=+_e[0],Me+_e[0].length):-1}function $(ke,Xe,Me){var _e=S.exec(Xe.slice(Me,Me+4));return _e?(ke.y=+_e[0],Me+_e[0].length):-1}function J(ke,Xe,Me){var _e=S.exec(Xe.slice(Me,Me+2));return _e?(ke.y=+_e[0]+(+_e[0]>68?1900:2e3),Me+_e[0].length):-1}function re(ke,Xe,Me){var _e=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Xe.slice(Me,Me+6));return _e?(ke.Z=_e[1]?0:-(_e[2]+(_e[3]||"00")),Me+_e[0].length):-1}function O(ke,Xe,Me){var _e=S.exec(Xe.slice(Me,Me+1));return _e?(ke.q=3*_e[0]-3,Me+_e[0].length):-1}function Q(ke,Xe,Me){var _e=S.exec(Xe.slice(Me,Me+2));return _e?(ke.m=_e[0]-1,Me+_e[0].length):-1}function U(ke,Xe,Me){var _e=S.exec(Xe.slice(Me,Me+2));return _e?(ke.d=+_e[0],Me+_e[0].length):-1}function ne(ke,Xe,Me){var _e=S.exec(Xe.slice(Me,Me+3));return _e?(ke.m=0,ke.d=+_e[0],Me+_e[0].length):-1}function le(ke,Xe,Me){var _e=S.exec(Xe.slice(Me,Me+2));return _e?(ke.H=+_e[0],Me+_e[0].length):-1}function pe(ke,Xe,Me){var _e=S.exec(Xe.slice(Me,Me+2));return _e?(ke.M=+_e[0],Me+_e[0].length):-1}function W(ke,Xe,Me){var _e=S.exec(Xe.slice(Me,Me+2));return _e?(ke.S=+_e[0],Me+_e[0].length):-1}function K(ke,Xe,Me){var _e=S.exec(Xe.slice(Me,Me+3));return _e?(ke.L=+_e[0],Me+_e[0].length):-1}function X(ke,Xe,Me){var _e=S.exec(Xe.slice(Me,Me+6));return _e?(ke.L=Math.floor(_e[0]/1e3),Me+_e[0].length):-1}function ie(ke,Xe,Me){var _e=z.exec(Xe.slice(Me,Me+1));return _e?Me+_e[0].length:-1}function ue(ke,Xe,Me){var _e=S.exec(Xe.slice(Me));return _e?(ke.Q=+_e[0],Me+_e[0].length):-1}function ce(ke,Xe,Me){var _e=S.exec(Xe.slice(Me));return _e?(ke.s=+_e[0],Me+_e[0].length):-1}function ge(ke,Xe){return D(ke.getDate(),Xe,2)}function De(ke,Xe){return D(ke.getHours(),Xe,2)}function Ne(ke,Xe){return D(ke.getHours()%12||12,Xe,2)}function Be(ke,Xe){return D(1+v.c.count((0,d.c)(ke),ke),Xe,3)}function Fe(ke,Xe){return D(ke.getMilliseconds(),Xe,3)}function Se(ke,Xe){return Fe(ke,Xe)+"000"}function ye(ke,Xe){return D(ke.getMonth()+1,Xe,2)}function H(ke,Xe){return D(ke.getMinutes(),Xe,2)}function Y(ke,Xe){return D(ke.getSeconds(),Xe,2)}function te(ke){var Xe=ke.getDay();return 0===Xe?7:Xe}function Z(ke,Xe){return D(h.uU.count((0,d.c)(ke)-1,ke),Xe,2)}function N(ke,Xe){var Me=ke.getDay();return ke=Me>=4||0===Me?(0,h.kD)(ke):h.kD.ceil(ke),D(h.kD.count((0,d.c)(ke),ke)+(4===(0,d.c)(ke).getDay()),Xe,2)}function ee(ke){return ke.getDay()}function B(ke,Xe){return D(h.qT.count((0,d.c)(ke)-1,ke),Xe,2)}function se(ke,Xe){return D(ke.getFullYear()%100,Xe,2)}function xe(ke,Xe){return D(ke.getFullYear()%1e4,Xe,4)}function Te(ke){var Xe=ke.getTimezoneOffset();return(Xe>0?"-":(Xe*=-1,"+"))+D(Xe/60|0,"0",2)+D(Xe%60,"0",2)}function Ee(ke,Xe){return D(ke.getUTCDate(),Xe,2)}function Oe(ke,Xe){return D(ke.getUTCHours(),Xe,2)}function $e(ke,Xe){return D(ke.getUTCHours()%12||12,Xe,2)}function ct(ke,Xe){return D(1+T.c.count((0,y.c)(ke),ke),Xe,3)}function ft(ke,Xe){return D(ke.getUTCMilliseconds(),Xe,3)}function gt(ke,Xe){return ft(ke,Xe)+"000"}function ze(ke,Xe){return D(ke.getUTCMonth()+1,Xe,2)}function Ve(ke,Xe){return D(ke.getUTCMinutes(),Xe,2)}function Pe(ke,Xe){return D(ke.getUTCSeconds(),Xe,2)}function Qe(ke){var Xe=ke.getUTCDay();return 0===Xe?7:Xe}function Ke(ke,Xe){return D(p.EV.count((0,y.c)(ke)-1,ke),Xe,2)}function dt(ke,Xe){var Me=ke.getUTCDay();return ke=Me>=4||0===Me?(0,p.yA)(ke):p.yA.ceil(ke),D(p.yA.count((0,y.c)(ke),ke)+(4===(0,y.c)(ke).getUTCDay()),Xe,2)}function Dt(ke){return ke.getUTCDay()}function $t(ke,Xe){return D(p.ot.count((0,y.c)(ke)-1,ke),Xe,2)}function Ot(ke,Xe){return D(ke.getUTCFullYear()%100,Xe,2)}function kt(ke,Xe){return D(ke.getUTCFullYear()%1e4,Xe,4)}function At(){return"+0000"}function Gt(){return"%"}function Lt(ke){return+ke}function Qt(ke){return Math.floor(+ke/1e3)}!function yt(ke){return Jt=C(ke),en=Jt.format,pt=Jt.utcFormat,Jt}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})},8936:function(Ce,j,o){"use strict";o.d(j,{m:function(){return v}});var p=o(1628),T=o(9792),h=(0,p.c)(function(d){d.setHours(0,0,0,0)},function(d,y){d.setDate(d.getDate()+y)},function(d,y){return(y-d-(y.getTimezoneOffset()-d.getTimezoneOffset())*T.iy)/T.SK},function(d){return d.getDate()-1});j.c=h;var v=h.range},9792:function(Ce,j,o){"use strict";o.d(j,{KK:function(){return d},SK:function(){return v},cg:function(){return h},iy:function(){return T},yc:function(){return p}});var p=1e3,T=6e4,h=36e5,v=864e5,d=6048e5},3220:function(Ce,j,o){"use strict";o.r(j),o.d(j,{timeDay:function(){return D.c},timeDays:function(){return D.m},timeFriday:function(){return _.iB},timeFridays:function(){return _.sJ},timeHour:function(){return z},timeHours:function(){return A},timeInterval:function(){return p.c},timeMillisecond:function(){return h},timeMilliseconds:function(){return v},timeMinute:function(){return C},timeMinutes:function(){return w},timeMonday:function(){return _.qT},timeMondays:function(){return _.QP},timeMonth:function(){return M},timeMonths:function(){return L},timeSaturday:function(){return _.Wc},timeSaturdays:function(){return _.aI},timeSecond:function(){return g},timeSeconds:function(){return m},timeSunday:function(){return _.uU},timeSundays:function(){return _.Ab},timeThursday:function(){return _.kD},timeThursdays:function(){return _.eC},timeTuesday:function(){return _.Mf},timeTuesdays:function(){return _.Oc},timeWednesday:function(){return _.eg},timeWednesdays:function(){return _.sn},timeWeek:function(){return _.uU},timeWeeks:function(){return _.Ab},timeYear:function(){return b.c},timeYears:function(){return b.Q},utcDay:function(){return O.c},utcDays:function(){return O.o},utcFriday:function(){return Q.od},utcFridays:function(){return Q.iG},utcHour:function(){return J},utcHours:function(){return re},utcMillisecond:function(){return h},utcMilliseconds:function(){return v},utcMinute:function(){return I},utcMinutes:function(){return G},utcMonday:function(){return Q.ot},utcMondays:function(){return Q.iO},utcMonth:function(){return ne},utcMonths:function(){return le},utcSaturday:function(){return Q.Ad},utcSaturdays:function(){return Q.K8},utcSecond:function(){return g},utcSeconds:function(){return m},utcSunday:function(){return Q.EV},utcSundays:function(){return Q.Wq},utcThursday:function(){return Q.yA},utcThursdays:function(){return Q.ob},utcTuesday:function(){return Q.sG},utcTuesdays:function(){return Q.kl},utcWednesday:function(){return Q._6},utcWednesdays:function(){return Q.W_},utcWeek:function(){return Q.EV},utcWeeks:function(){return Q.Wq},utcYear:function(){return pe.c},utcYears:function(){return pe.i}});var p=o(1628),T=(0,p.c)(function(){},function(W,K){W.setTime(+W+K)},function(W,K){return K-W});T.every=function(W){return W=Math.floor(W),isFinite(W)&&W>0?W>1?(0,p.c)(function(K){K.setTime(Math.floor(K/W)*W)},function(K,X){K.setTime(+K+X*W)},function(K,X){return(X-K)/W}):T:null};var h=T,v=T.range,d=o(9792),y=(0,p.c)(function(W){W.setTime(W-W.getMilliseconds())},function(W,K){W.setTime(+W+K*d.yc)},function(W,K){return(K-W)/d.yc},function(W){return W.getUTCSeconds()}),g=y,m=y.range,c=(0,p.c)(function(W){W.setTime(W-W.getMilliseconds()-W.getSeconds()*d.yc)},function(W,K){W.setTime(+W+K*d.iy)},function(W,K){return(K-W)/d.iy},function(W){return W.getMinutes()}),C=c,w=c.range,S=(0,p.c)(function(W){W.setTime(W-W.getMilliseconds()-W.getSeconds()*d.yc-W.getMinutes()*d.iy)},function(W,K){W.setTime(+W+K*d.cg)},function(W,K){return(K-W)/d.cg},function(W){return W.getHours()}),z=S,A=S.range,D=o(8936),_=o(6192),E=(0,p.c)(function(W){W.setDate(1),W.setHours(0,0,0,0)},function(W,K){W.setMonth(W.getMonth()+K)},function(W,K){return K.getMonth()-W.getMonth()+12*(K.getFullYear()-W.getFullYear())},function(W){return W.getMonth()}),M=E,L=E.range,b=o(2171),P=(0,p.c)(function(W){W.setUTCSeconds(0,0)},function(W,K){W.setTime(+W+K*d.iy)},function(W,K){return(K-W)/d.iy},function(W){return W.getUTCMinutes()}),I=P,G=P.range,$=(0,p.c)(function(W){W.setUTCMinutes(0,0,0)},function(W,K){W.setTime(+W+K*d.cg)},function(W,K){return(K-W)/d.cg},function(W){return W.getUTCHours()}),J=$,re=$.range,O=o(8931),Q=o(8208),U=(0,p.c)(function(W){W.setUTCDate(1),W.setUTCHours(0,0,0,0)},function(W,K){W.setUTCMonth(W.getUTCMonth()+K)},function(W,K){return K.getUTCMonth()-W.getUTCMonth()+12*(K.getUTCFullYear()-W.getUTCFullYear())},function(W){return W.getUTCMonth()}),ne=U,le=U.range,pe=o(3528)},1628:function(Ce,j,o){"use strict";o.d(j,{c:function(){return h}});var p=new Date,T=new Date;function h(v,d,y,g){function m(c){return v(c=0===arguments.length?new Date:new Date(+c)),c}return m.floor=function(c){return v(c=new Date(+c)),c},m.ceil=function(c){return v(c=new Date(c-1)),d(c,1),v(c),c},m.round=function(c){var C=m(c),w=m.ceil(c);return c-C<w-c?C:w},m.offset=function(c,C){return d(c=new Date(+c),null==C?1:Math.floor(C)),c},m.range=function(c,C,w){var z,S=[];if(c=m.ceil(c),w=null==w?1:Math.floor(w),!(c<C&&w>0))return S;do{S.push(z=new Date(+c)),d(c,w),v(c)}while(z<c&&c<C);return S},m.filter=function(c){return h(function(C){if(C>=C)for(;v(C),!c(C);)C.setTime(C-1)},function(C,w){if(C>=C)if(w<0)for(;++w<=0;)for(;d(C,-1),!c(C););else for(;--w>=0;)for(;d(C,1),!c(C););})},y&&(m.count=function(c,C){return p.setTime(+c),T.setTime(+C),v(p),v(T),Math.floor(y(p,T))},m.every=function(c){return c=Math.floor(c),isFinite(c)&&c>0?c>1?m.filter(g?function(C){return g(C)%c==0}:function(C){return m.count(0,C)%c==0}):m:null}),m}},8931:function(Ce,j,o){"use strict";o.d(j,{o:function(){return v}});var p=o(1628),T=o(9792),h=(0,p.c)(function(d){d.setUTCHours(0,0,0,0)},function(d,y){d.setUTCDate(d.getUTCDate()+y)},function(d,y){return(y-d)/T.SK},function(d){return d.getUTCDate()-1});j.c=h;var v=h.range},8208:function(Ce,j,o){"use strict";o.d(j,{Ad:function(){return C},EV:function(){return v},K8:function(){return E},W_:function(){return A},Wq:function(){return w},_6:function(){return g},iG:function(){return _},iO:function(){return S},kl:function(){return z},ob:function(){return D},od:function(){return c},ot:function(){return d},sG:function(){return y},yA:function(){return m}});var p=o(1628),T=o(9792);function h(M){return(0,p.c)(function(L){L.setUTCDate(L.getUTCDate()-(L.getUTCDay()+7-M)%7),L.setUTCHours(0,0,0,0)},function(L,b){L.setUTCDate(L.getUTCDate()+7*b)},function(L,b){return(b-L)/T.KK})}var v=h(0),d=h(1),y=h(2),g=h(3),m=h(4),c=h(5),C=h(6),w=v.range,S=d.range,z=y.range,A=g.range,D=m.range,_=c.range,E=C.range},3528:function(Ce,j,o){"use strict";o.d(j,{i:function(){return h}});var p=o(1628),T=(0,p.c)(function(v){v.setUTCMonth(0,1),v.setUTCHours(0,0,0,0)},function(v,d){v.setUTCFullYear(v.getUTCFullYear()+d)},function(v,d){return d.getUTCFullYear()-v.getUTCFullYear()},function(v){return v.getUTCFullYear()});T.every=function(v){return isFinite(v=Math.floor(v))&&v>0?(0,p.c)(function(d){d.setUTCFullYear(Math.floor(d.getUTCFullYear()/v)*v),d.setUTCMonth(0,1),d.setUTCHours(0,0,0,0)},function(d,y){d.setUTCFullYear(d.getUTCFullYear()+y*v)}):null},j.c=T;var h=T.range},6192:function(Ce,j,o){"use strict";o.d(j,{Ab:function(){return w},Mf:function(){return y},Oc:function(){return z},QP:function(){return S},Wc:function(){return C},aI:function(){return E},eC:function(){return D},eg:function(){return g},iB:function(){return c},kD:function(){return m},qT:function(){return d},sJ:function(){return _},sn:function(){return A},uU:function(){return v}});var p=o(1628),T=o(9792);function h(M){return(0,p.c)(function(L){L.setDate(L.getDate()-(L.getDay()+7-M)%7),L.setHours(0,0,0,0)},function(L,b){L.setDate(L.getDate()+7*b)},function(L,b){return(b-L-(b.getTimezoneOffset()-L.getTimezoneOffset())*T.iy)/T.KK})}var v=h(0),d=h(1),y=h(2),g=h(3),m=h(4),c=h(5),C=h(6),w=v.range,S=d.range,z=y.range,A=g.range,D=m.range,_=c.range,E=C.range},2171:function(Ce,j,o){"use strict";o.d(j,{Q:function(){return h}});var p=o(1628),T=(0,p.c)(function(v){v.setMonth(0,1),v.setHours(0,0,0,0)},function(v,d){v.setFullYear(v.getFullYear()+d)},function(v,d){return d.getFullYear()-v.getFullYear()},function(v){return v.getFullYear()});T.every=function(v){return isFinite(v=Math.floor(v))&&v>0?(0,p.c)(function(d){d.setFullYear(Math.floor(d.getFullYear()/v)*v),d.setMonth(0,1),d.setHours(0,0,0,0)},function(d,y){d.setFullYear(d.getFullYear()+y*v)}):null},j.c=T;var h=T.range},1252:function(Ce){"use strict";var p,j="object"==typeof Reflect?Reflect:null,o=j&&"function"==typeof j.apply?j.apply:function(b,P,I){return Function.prototype.apply.call(b,P,I)};p=j&&"function"==typeof j.ownKeys?j.ownKeys:Object.getOwnPropertySymbols?function(b){return Object.getOwnPropertyNames(b).concat(Object.getOwnPropertySymbols(b))}:function(b){return Object.getOwnPropertyNames(b)};var h=Number.isNaN||function(b){return b!=b};function v(){v.init.call(this)}Ce.exports=v,Ce.exports.once=function _(L,b){return new Promise(function(P,I){function G(J){L.removeListener(b,$),I(J)}function $(){"function"==typeof L.removeListener&&L.removeListener("error",G),P([].slice.call(arguments))}M(L,b,$,{once:!0}),"error"!==b&&function E(L,b,P){"function"==typeof L.on&&M(L,"error",b,P)}(L,G,{once:!0})})},v.EventEmitter=v,v.prototype._events=void 0,v.prototype._eventsCount=0,v.prototype._maxListeners=void 0;var d=10;function y(L){if("function"!=typeof L)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof L)}function g(L){return void 0===L._maxListeners?v.defaultMaxListeners:L._maxListeners}function m(L,b,P,I){var G,$,J;if(y(P),void 0===($=L._events)?($=L._events=Object.create(null),L._eventsCount=0):(void 0!==$.newListener&&(L.emit("newListener",b,P.listener?P.listener:P),$=L._events),J=$[b]),void 0===J)J=$[b]=P,++L._eventsCount;else if("function"==typeof J?J=$[b]=I?[P,J]:[J,P]:I?J.unshift(P):J.push(P),(G=g(L))>0&&J.length>G&&!J.warned){J.warned=!0;var re=new Error("Possible EventEmitter memory leak detected. "+J.length+" "+String(b)+" listeners added. Use emitter.setMaxListeners() to increase limit");re.name="MaxListenersExceededWarning",re.emitter=L,re.type=b,re.count=J.length,function T(L){console&&console.warn&&console.warn(L)}(re)}return L}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function C(L,b,P){var I={fired:!1,wrapFn:void 0,target:L,type:b,listener:P},G=c.bind(I);return G.listener=P,I.wrapFn=G,G}function w(L,b,P){var I=L._events;if(void 0===I)return[];var G=I[b];return void 0===G?[]:"function"==typeof G?P?[G.listener||G]:[G]:P?function D(L){for(var b=new Array(L.length),P=0;P<b.length;++P)b[P]=L[P].listener||L[P];return b}(G):z(G,G.length)}function S(L){var b=this._events;if(void 0!==b){var P=b[L];if("function"==typeof P)return 1;if(void 0!==P)return P.length}return 0}function z(L,b){for(var P=new Array(b),I=0;I<b;++I)P[I]=L[I];return P}function M(L,b,P,I){if("function"==typeof L.on)I.once?L.once(b,P):L.on(b,P);else{if("function"!=typeof L.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof L);L.addEventListener(b,function G($){I.once&&L.removeEventListener(b,G),P($)})}}Object.defineProperty(v,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(L){if("number"!=typeof L||L<0||h(L))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+L+".");d=L}}),v.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},v.prototype.setMaxListeners=function(b){if("number"!=typeof b||b<0||h(b))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+b+".");return this._maxListeners=b,this},v.prototype.getMaxListeners=function(){return g(this)},v.prototype.emit=function(b){for(var P=[],I=1;I<arguments.length;I++)P.push(arguments[I]);var G="error"===b,$=this._events;if(void 0!==$)G=G&&void 0===$.error;else if(!G)return!1;if(G){var J;if(P.length>0&&(J=P[0]),J instanceof Error)throw J;var re=new Error("Unhandled error."+(J?" ("+J.message+")":""));throw re.context=J,re}var O=$[b];if(void 0===O)return!1;if("function"==typeof O)o(O,this,P);else{var Q=O.length,U=z(O,Q);for(I=0;I<Q;++I)o(U[I],this,P)}return!0},v.prototype.on=v.prototype.addListener=function(b,P){return m(this,b,P,!1)},v.prototype.prependListener=function(b,P){return m(this,b,P,!0)},v.prototype.once=function(b,P){return y(P),this.on(b,C(this,b,P)),this},v.prototype.prependOnceListener=function(b,P){return y(P),this.prependListener(b,C(this,b,P)),this},v.prototype.off=v.prototype.removeListener=function(b,P){var I,G,$,J,re;if(y(P),void 0===(G=this._events))return this;if(void 0===(I=G[b]))return this;if(I===P||I.listener===P)0==--this._eventsCount?this._events=Object.create(null):(delete G[b],G.removeListener&&this.emit("removeListener",b,I.listener||P));else if("function"!=typeof I){for($=-1,J=I.length-1;J>=0;J--)if(I[J]===P||I[J].listener===P){re=I[J].listener,$=J;break}if($<0)return this;0===$?I.shift():function A(L,b){for(;b+1<L.length;b++)L[b]=L[b+1];L.pop()}(I,$),1===I.length&&(G[b]=I[0]),void 0!==G.removeListener&&this.emit("removeListener",b,re||P)}return this},v.prototype.removeAllListeners=function(b){var P,I,G;if(void 0===(I=this._events))return this;if(void 0===I.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==I[b]&&(0==--this._eventsCount?this._events=Object.create(null):delete I[b]),this;if(0===arguments.length){var J,$=Object.keys(I);for(G=0;G<$.length;++G)"removeListener"!==(J=$[G])&&this.removeAllListeners(J);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(P=I[b]))this.removeListener(b,P);else if(void 0!==P)for(G=P.length-1;G>=0;G--)this.removeListener(b,P[G]);return this},v.prototype.listeners=function(b){return w(this,b,!0)},v.prototype.rawListeners=function(b){return w(this,b,!1)},v.listenerCount=function(L,b){return"function"==typeof L.listenerCount?L.listenerCount(b):S.call(L,b)},v.prototype.listenerCount=S,v.prototype.eventNames=function(){return this._eventsCount>0?p(this._events):[]}},8248:function(Ce,j,o){"use strict";var p=o(4576);Ce.exports=function(T){var h=typeof T;if("string"===h){var v=T;if(0==(T=+T)&&p(v))return!1}else if("number"!==h)return!1;return T-T<1}},2408:function(Ce){Ce.exports=function j(o,p){var T=p[0],h=p[1],v=p[2],d=p[3],y=p[4],g=p[5],m=p[6],c=p[7],C=p[8],w=p[9],S=p[10],z=p[11],A=p[12],D=p[13],_=p[14],E=p[15];return o[0]=g*(S*E-z*_)-w*(m*E-c*_)+D*(m*z-c*S),o[1]=-(h*(S*E-z*_)-w*(v*E-d*_)+D*(v*z-d*S)),o[2]=h*(m*E-c*_)-g*(v*E-d*_)+D*(v*c-d*m),o[3]=-(h*(m*z-c*S)-g*(v*z-d*S)+w*(v*c-d*m)),o[4]=-(y*(S*E-z*_)-C*(m*E-c*_)+A*(m*z-c*S)),o[5]=T*(S*E-z*_)-C*(v*E-d*_)+A*(v*z-d*S),o[6]=-(T*(m*E-c*_)-y*(v*E-d*_)+A*(v*c-d*m)),o[7]=T*(m*z-c*S)-y*(v*z-d*S)+C*(v*c-d*m),o[8]=y*(w*E-z*D)-C*(g*E-c*D)+A*(g*z-c*w),o[9]=-(T*(w*E-z*D)-C*(h*E-d*D)+A*(h*z-d*w)),o[10]=T*(g*E-c*D)-y*(h*E-d*D)+A*(h*c-d*g),o[11]=-(T*(g*z-c*w)-y*(h*z-d*w)+C*(h*c-d*g)),o[12]=-(y*(w*_-S*D)-C*(g*_-m*D)+A*(g*S-m*w)),o[13]=T*(w*_-S*D)-C*(h*_-v*D)+A*(h*S-v*w),o[14]=-(T*(g*_-m*D)-y*(h*_-v*D)+A*(h*m-v*g)),o[15]=T*(g*S-m*w)-y*(h*S-v*w)+C*(h*m-v*g),o}},6860:function(Ce){Ce.exports=function j(o){var p=new Float32Array(16);return p[0]=o[0],p[1]=o[1],p[2]=o[2],p[3]=o[3],p[4]=o[4],p[5]=o[5],p[6]=o[6],p[7]=o[7],p[8]=o[8],p[9]=o[9],p[10]=o[10],p[11]=o[11],p[12]=o[12],p[13]=o[13],p[14]=o[14],p[15]=o[15],p}},4492:function(Ce){Ce.exports=function j(o,p){return o[0]=p[0],o[1]=p[1],o[2]=p[2],o[3]=p[3],o[4]=p[4],o[5]=p[5],o[6]=p[6],o[7]=p[7],o[8]=p[8],o[9]=p[9],o[10]=p[10],o[11]=p[11],o[12]=p[12],o[13]=p[13],o[14]=p[14],o[15]=p[15],o}},4212:function(Ce){Ce.exports=function j(){var o=new Float32Array(16);return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},800:function(Ce){Ce.exports=function j(o){var p=o[0],T=o[1],h=o[2],v=o[3],d=o[4],y=o[5],g=o[6],m=o[7],c=o[8],C=o[9],w=o[10],S=o[11],z=o[12],A=o[13],D=o[14],_=o[15];return(p*y-T*d)*(w*_-S*D)-(p*g-h*d)*(C*_-S*A)+(p*m-v*d)*(C*D-w*A)+(T*g-h*y)*(c*_-S*z)-(T*m-v*y)*(c*D-w*z)+(h*m-v*g)*(c*A-C*z)}},1784:function(Ce){Ce.exports=function j(o,p){var T=p[0],h=p[1],v=p[2],d=p[3],y=T+T,g=h+h,m=v+v,c=T*y,C=h*y,w=h*g,S=v*y,z=v*g,A=v*m,D=d*y,_=d*g,E=d*m;return o[0]=1-w-A,o[1]=C+E,o[2]=S-_,o[3]=0,o[4]=C-E,o[5]=1-c-A,o[6]=z+D,o[7]=0,o[8]=S+_,o[9]=z-D,o[10]=1-c-w,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},1616:function(Ce){Ce.exports=function j(o,p,T){var h,v,d,y=T[0],g=T[1],m=T[2],c=Math.sqrt(y*y+g*g+m*m);return Math.abs(c)<1e-6?null:(y*=c=1/c,g*=c,m*=c,h=Math.sin(p),v=Math.cos(p),o[0]=y*y*(d=1-v)+v,o[1]=g*y*d+m*h,o[2]=m*y*d-g*h,o[3]=0,o[4]=y*g*d-m*h,o[5]=g*g*d+v,o[6]=m*g*d+y*h,o[7]=0,o[8]=y*m*d+g*h,o[9]=g*m*d-y*h,o[10]=m*m*d+v,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o)}},1944:function(Ce){Ce.exports=function j(o,p,T){var h=p[0],v=p[1],d=p[2],y=p[3],g=h+h,m=v+v,c=d+d,C=h*g,w=h*m,S=h*c,z=v*m,A=v*c,D=d*c,_=y*g,E=y*m,M=y*c;return o[0]=1-(z+D),o[1]=w+M,o[2]=S-E,o[3]=0,o[4]=w-M,o[5]=1-(C+D),o[6]=A+_,o[7]=0,o[8]=S+E,o[9]=A-_,o[10]=1-(C+z),o[11]=0,o[12]=T[0],o[13]=T[1],o[14]=T[2],o[15]=1,o}},9444:function(Ce){Ce.exports=function j(o,p){return o[0]=p[0],o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=p[1],o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=p[2],o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},8268:function(Ce){Ce.exports=function j(o,p){return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=p[0],o[13]=p[1],o[14]=p[2],o[15]=1,o}},1856:function(Ce){Ce.exports=function j(o,p){var T=Math.sin(p),h=Math.cos(p);return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=h,o[6]=T,o[7]=0,o[8]=0,o[9]=-T,o[10]=h,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},9216:function(Ce){Ce.exports=function j(o,p){var T=Math.sin(p),h=Math.cos(p);return o[0]=h,o[1]=0,o[2]=-T,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=T,o[9]=0,o[10]=h,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},7736:function(Ce){Ce.exports=function j(o,p){var T=Math.sin(p),h=Math.cos(p);return o[0]=h,o[1]=T,o[2]=0,o[3]=0,o[4]=-T,o[5]=h,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},8848:function(Ce){Ce.exports=function j(o,p,T,h,v,d,y){var g=1/(T-p),m=1/(v-h),c=1/(d-y);return o[0]=2*d*g,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2*d*m,o[6]=0,o[7]=0,o[8]=(T+p)*g,o[9]=(v+h)*m,o[10]=(y+d)*c,o[11]=-1,o[12]=0,o[13]=0,o[14]=y*d*2*c,o[15]=0,o}},6635:function(Ce){Ce.exports=function j(o){return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},6524:function(Ce,j,o){Ce.exports={create:o(4212),clone:o(6860),copy:o(4492),identity:o(6635),transpose:o(6520),invert:o(4308),adjoint:o(2408),determinant:o(800),multiply:o(944),translate:o(5176),scale:o(8152),rotate:o(16),rotateX:o(5456),rotateY:o(4840),rotateZ:o(4192),fromRotation:o(1616),fromRotationTranslation:o(1944),fromScaling:o(9444),fromTranslation:o(8268),fromXRotation:o(1856),fromYRotation:o(9216),fromZRotation:o(7736),fromQuat:o(1784),frustum:o(8848),perspective:o(1296),perspectiveFromFieldOfView:o(3688),ortho:o(7688),lookAt:o(6508),str:o(9412)}},4308:function(Ce){Ce.exports=function j(o,p){var T=p[0],h=p[1],v=p[2],d=p[3],y=p[4],g=p[5],m=p[6],c=p[7],C=p[8],w=p[9],S=p[10],z=p[11],A=p[12],D=p[13],_=p[14],E=p[15],M=T*g-h*y,L=T*m-v*y,b=T*c-d*y,P=h*m-v*g,I=h*c-d*g,G=v*c-d*m,$=C*D-w*A,J=C*_-S*A,re=C*E-z*A,O=w*_-S*D,Q=w*E-z*D,U=S*E-z*_,ne=M*U-L*Q+b*O+P*re-I*J+G*$;return ne?(o[0]=(g*U-m*Q+c*O)*(ne=1/ne),o[1]=(v*Q-h*U-d*O)*ne,o[2]=(D*G-_*I+E*P)*ne,o[3]=(S*I-w*G-z*P)*ne,o[4]=(m*re-y*U-c*J)*ne,o[5]=(T*U-v*re+d*J)*ne,o[6]=(_*b-A*G-E*L)*ne,o[7]=(C*G-S*b+z*L)*ne,o[8]=(y*Q-g*re+c*$)*ne,o[9]=(h*re-T*Q-d*$)*ne,o[10]=(A*I-D*b+E*M)*ne,o[11]=(w*b-C*I-z*M)*ne,o[12]=(g*J-y*O-m*$)*ne,o[13]=(T*O-h*J+v*$)*ne,o[14]=(D*L-A*P-_*M)*ne,o[15]=(C*P-w*L+S*M)*ne,o):null}},6508:function(Ce,j,o){var p=o(6635);Ce.exports=function T(h,v,d,y){var g,m,c,C,w,S,z,A,D,_,E=v[0],M=v[1],L=v[2],b=y[0],P=y[1],I=y[2],G=d[0],$=d[1],J=d[2];return Math.abs(E-G)<1e-6&&Math.abs(M-$)<1e-6&&Math.abs(L-J)<1e-6?p(h):(z=E-G,A=M-$,D=L-J,g=P*(D*=_=1/Math.sqrt(z*z+A*A+D*D))-I*(A*=_),m=I*(z*=_)-b*D,c=b*A-P*z,(_=Math.sqrt(g*g+m*m+c*c))?(g*=_=1/_,m*=_,c*=_):(g=0,m=0,c=0),C=A*c-D*m,w=D*g-z*c,S=z*m-A*g,(_=Math.sqrt(C*C+w*w+S*S))?(C*=_=1/_,w*=_,S*=_):(C=0,w=0,S=0),h[0]=g,h[1]=C,h[2]=z,h[3]=0,h[4]=m,h[5]=w,h[6]=A,h[7]=0,h[8]=c,h[9]=S,h[10]=D,h[11]=0,h[12]=-(g*E+m*M+c*L),h[13]=-(C*E+w*M+S*L),h[14]=-(z*E+A*M+D*L),h[15]=1,h)}},944:function(Ce){Ce.exports=function j(o,p,T){var h=p[0],v=p[1],d=p[2],y=p[3],g=p[4],m=p[5],c=p[6],C=p[7],w=p[8],S=p[9],z=p[10],A=p[11],D=p[12],_=p[13],E=p[14],M=p[15],L=T[0],b=T[1],P=T[2],I=T[3];return o[0]=L*h+b*g+P*w+I*D,o[1]=L*v+b*m+P*S+I*_,o[2]=L*d+b*c+P*z+I*E,o[3]=L*y+b*C+P*A+I*M,o[4]=(L=T[4])*h+(b=T[5])*g+(P=T[6])*w+(I=T[7])*D,o[5]=L*v+b*m+P*S+I*_,o[6]=L*d+b*c+P*z+I*E,o[7]=L*y+b*C+P*A+I*M,o[8]=(L=T[8])*h+(b=T[9])*g+(P=T[10])*w+(I=T[11])*D,o[9]=L*v+b*m+P*S+I*_,o[10]=L*d+b*c+P*z+I*E,o[11]=L*y+b*C+P*A+I*M,o[12]=(L=T[12])*h+(b=T[13])*g+(P=T[14])*w+(I=T[15])*D,o[13]=L*v+b*m+P*S+I*_,o[14]=L*d+b*c+P*z+I*E,o[15]=L*y+b*C+P*A+I*M,o}},7688:function(Ce){Ce.exports=function j(o,p,T,h,v,d,y){var g=1/(p-T),m=1/(h-v),c=1/(d-y);return o[0]=-2*g,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*m,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*c,o[11]=0,o[12]=(p+T)*g,o[13]=(v+h)*m,o[14]=(y+d)*c,o[15]=1,o}},1296:function(Ce){Ce.exports=function j(o,p,T,h,v){var d=1/Math.tan(p/2),y=1/(h-v);return o[0]=d/T,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=d,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=(v+h)*y,o[11]=-1,o[12]=0,o[13]=0,o[14]=2*v*h*y,o[15]=0,o}},3688:function(Ce){Ce.exports=function j(o,p,T,h){var v=Math.tan(p.upDegrees*Math.PI/180),d=Math.tan(p.downDegrees*Math.PI/180),y=Math.tan(p.leftDegrees*Math.PI/180),g=Math.tan(p.rightDegrees*Math.PI/180),m=2/(y+g),c=2/(v+d);return o[0]=m,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=c,o[6]=0,o[7]=0,o[8]=-(y-g)*m*.5,o[9]=(v-d)*c*.5,o[10]=h/(T-h),o[11]=-1,o[12]=0,o[13]=0,o[14]=h*T/(T-h),o[15]=0,o}},16:function(Ce){Ce.exports=function j(o,p,T,h){var m,c,C,w,S,z,A,D,_,E,M,L,b,P,I,G,$,J,re,O,Q,U,ne,le,v=h[0],d=h[1],y=h[2],g=Math.sqrt(v*v+d*d+y*y);return Math.abs(g)<1e-6?null:(v*=g=1/g,d*=g,y*=g,m=Math.sin(T),c=Math.cos(T),S=p[1],z=p[2],A=p[3],_=p[5],E=p[6],M=p[7],b=p[9],P=p[10],I=p[11],re=v*d*(C=1-c)-y*m,O=d*d*C+c,Q=y*d*C+v*m,U=v*y*C+d*m,ne=d*y*C-v*m,le=y*y*C+c,o[0]=(w=p[0])*(G=v*v*C+c)+(D=p[4])*($=d*v*C+y*m)+(L=p[8])*(J=y*v*C-d*m),o[1]=S*G+_*$+b*J,o[2]=z*G+E*$+P*J,o[3]=A*G+M*$+I*J,o[4]=w*re+D*O+L*Q,o[5]=S*re+_*O+b*Q,o[6]=z*re+E*O+P*Q,o[7]=A*re+M*O+I*Q,o[8]=w*U+D*ne+L*le,o[9]=S*U+_*ne+b*le,o[10]=z*U+E*ne+P*le,o[11]=A*U+M*ne+I*le,p!==o&&(o[12]=p[12],o[13]=p[13],o[14]=p[14],o[15]=p[15]),o)}},5456:function(Ce){Ce.exports=function j(o,p,T){var h=Math.sin(T),v=Math.cos(T),d=p[4],y=p[5],g=p[6],m=p[7],c=p[8],C=p[9],w=p[10],S=p[11];return p!==o&&(o[0]=p[0],o[1]=p[1],o[2]=p[2],o[3]=p[3],o[12]=p[12],o[13]=p[13],o[14]=p[14],o[15]=p[15]),o[4]=d*v+c*h,o[5]=y*v+C*h,o[6]=g*v+w*h,o[7]=m*v+S*h,o[8]=c*v-d*h,o[9]=C*v-y*h,o[10]=w*v-g*h,o[11]=S*v-m*h,o}},4840:function(Ce){Ce.exports=function j(o,p,T){var h=Math.sin(T),v=Math.cos(T),d=p[0],y=p[1],g=p[2],m=p[3],c=p[8],C=p[9],w=p[10],S=p[11];return p!==o&&(o[4]=p[4],o[5]=p[5],o[6]=p[6],o[7]=p[7],o[12]=p[12],o[13]=p[13],o[14]=p[14],o[15]=p[15]),o[0]=d*v-c*h,o[1]=y*v-C*h,o[2]=g*v-w*h,o[3]=m*v-S*h,o[8]=d*h+c*v,o[9]=y*h+C*v,o[10]=g*h+w*v,o[11]=m*h+S*v,o}},4192:function(Ce){Ce.exports=function j(o,p,T){var h=Math.sin(T),v=Math.cos(T),d=p[0],y=p[1],g=p[2],m=p[3],c=p[4],C=p[5],w=p[6],S=p[7];return p!==o&&(o[8]=p[8],o[9]=p[9],o[10]=p[10],o[11]=p[11],o[12]=p[12],o[13]=p[13],o[14]=p[14],o[15]=p[15]),o[0]=d*v+c*h,o[1]=y*v+C*h,o[2]=g*v+w*h,o[3]=m*v+S*h,o[4]=c*v-d*h,o[5]=C*v-y*h,o[6]=w*v-g*h,o[7]=S*v-m*h,o}},8152:function(Ce){Ce.exports=function j(o,p,T){var h=T[0],v=T[1],d=T[2];return o[0]=p[0]*h,o[1]=p[1]*h,o[2]=p[2]*h,o[3]=p[3]*h,o[4]=p[4]*v,o[5]=p[5]*v,o[6]=p[6]*v,o[7]=p[7]*v,o[8]=p[8]*d,o[9]=p[9]*d,o[10]=p[10]*d,o[11]=p[11]*d,o[12]=p[12],o[13]=p[13],o[14]=p[14],o[15]=p[15],o}},9412:function(Ce){Ce.exports=function j(o){return"mat4("+o[0]+", "+o[1]+", "+o[2]+", "+o[3]+", "+o[4]+", "+o[5]+", "+o[6]+", "+o[7]+", "+o[8]+", "+o[9]+", "+o[10]+", "+o[11]+", "+o[12]+", "+o[13]+", "+o[14]+", "+o[15]+")"}},5176:function(Ce){Ce.exports=function j(o,p,T){var y,g,m,c,C,w,S,z,A,D,_,E,h=T[0],v=T[1],d=T[2];return p===o?(o[12]=p[0]*h+p[4]*v+p[8]*d+p[12],o[13]=p[1]*h+p[5]*v+p[9]*d+p[13],o[14]=p[2]*h+p[6]*v+p[10]*d+p[14],o[15]=p[3]*h+p[7]*v+p[11]*d+p[15]):(g=p[1],m=p[2],c=p[3],C=p[4],w=p[5],S=p[6],z=p[7],A=p[8],D=p[9],_=p[10],E=p[11],o[0]=y=p[0],o[1]=g,o[2]=m,o[3]=c,o[4]=C,o[5]=w,o[6]=S,o[7]=z,o[8]=A,o[9]=D,o[10]=_,o[11]=E,o[12]=y*h+C*v+A*d+p[12],o[13]=g*h+w*v+D*d+p[13],o[14]=m*h+S*v+_*d+p[14],o[15]=c*h+z*v+E*d+p[15]),o}},6520:function(Ce){Ce.exports=function j(o,p){if(o===p){var T=p[1],h=p[2],v=p[3],d=p[6],y=p[7],g=p[11];o[1]=p[4],o[2]=p[8],o[3]=p[12],o[4]=T,o[6]=p[9],o[7]=p[13],o[8]=h,o[9]=d,o[11]=p[14],o[12]=v,o[13]=y,o[14]=g}else o[0]=p[0],o[1]=p[4],o[2]=p[8],o[3]=p[12],o[4]=p[1],o[5]=p[5],o[6]=p[9],o[7]=p[13],o[8]=p[2],o[9]=p[6],o[10]=p[10],o[11]=p[14],o[12]=p[3],o[13]=p[7],o[14]=p[11],o[15]=p[15];return o}},2264:function(Ce,j,o){"use strict";var T,p=o(1820);T="function"==typeof o.g.matchMedia?!o.g.matchMedia("(hover: none)").matches:p,Ce.exports=T},9184:function(Ce,j,o){"use strict";var p=o(1820);Ce.exports=p&&function T(){var h=!1;try{var v=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("test",null,v),window.removeEventListener("test",null,v)}catch{h=!1}return h}()},1820:function(Ce){Ce.exports=!0},4576:function(Ce){"use strict";Ce.exports=function(j){for(var p,o=j.length,T=0;T<o;T++)if(((p=j.charCodeAt(T))<9||p>13)&&32!==p&&133!==p&&160!==p&&5760!==p&&6158!==p&&(p<8192||p>8205)&&8232!==p&&8233!==p&&8239!==p&&8287!==p&&8288!==p&&12288!==p&&65279!==p)return!1;return!0}},9128:function(Ce){var j={left:0,top:0};Ce.exports=function o(T,h,v){h=h||T.currentTarget||T.srcElement,Array.isArray(v)||(v=[0,0]);var d=T.clientX||0,y=T.clientY||0,g=function p(T){return T===window||T===document||T===document.body?j:T.getBoundingClientRect()}(h);return v[0]=d-g.left,v[1]=y-g.top,v}},8324:function(Ce,j,o){var p,h,v,d;d=function(){"use strict";var h,v,d,y=Object.prototype.toString,g=typeof setImmediate<"u"?function(b){return setImmediate(b)}:setTimeout;try{Object.defineProperty({},"x",{}),h=function(b,P,I,G){return Object.defineProperty(b,P,{value:I,writable:!0,configurable:!1!==G})}}catch{h=function(P,I,G){return P[I]=G,P}}function m(L,b){d.add(L,b),v||(v=g(d.drain))}function c(L){var b,P=typeof L;return null!=L&&("object"==P||"function"==P)&&(b=L.then),"function"==typeof b&&b}function C(){for(var L=0;L<this.chain.length;L++)w(this,1===this.state?this.chain[L].success:this.chain[L].failure,this.chain[L]);this.chain.length=0}function w(L,b,P){var I,G;try{!1===b?P.reject(L.msg):(I=!0===b?L.msg:b.call(void 0,L.msg))===P.promise?P.reject(TypeError("Promise-chain cycle")):(G=c(I))?G.call(I,P.resolve,P.reject):P.resolve(I)}catch($){P.reject($)}}function S(L){var b,P=this;if(!P.triggered){P.triggered=!0,P.def&&(P=P.def);try{(b=c(L))?m(function(){var I=new D(P);try{b.call(L,function(){S.apply(I,arguments)},function(){z.apply(I,arguments)})}catch(G){z.call(I,G)}}):(P.msg=L,P.state=1,P.chain.length>0&&m(C,P))}catch(I){z.call(new D(P),I)}}}function z(L){var b=this;b.triggered||(b.triggered=!0,b.def&&(b=b.def),b.msg=L,b.state=2,b.chain.length>0&&m(C,b))}function A(L,b,P,I){for(var G=0;G<b.length;G++)!function(J){L.resolve(b[J]).then(function(O){P(J,O)},I)}(G)}function D(L){this.def=L,this.triggered=!1}function _(L){this.promise=L,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function E(L){if("function"!=typeof L)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var b=new _(this);this.then=function(I,G){var $={success:"function"!=typeof I||I,failure:"function"==typeof G&&G};return $.promise=new this.constructor(function(re,O){if("function"!=typeof re||"function"!=typeof O)throw TypeError("Not a function");$.resolve=re,$.reject=O}),b.chain.push($),0!==b.state&&m(C,b),$.promise},this.catch=function(I){return this.then(void 0,I)};try{L.call(void 0,function(I){S.call(b,I)},function(I){z.call(b,I)})}catch(P){z.call(b,P)}}d=function(){var b,P,I;function G($,J){this.fn=$,this.self=J,this.next=void 0}return{add:function(J,re){I=new G(J,re),P?P.next=I:b=I,P=I,I=void 0},drain:function(){var J=b;for(b=P=v=void 0;J;)J.fn.call(J.self),J=J.next}}}();var M=h({},"constructor",E,!1);return E.prototype=M,h(M,"__NPO__",0,!1),h(E,"resolve",function(b){return b&&"object"==typeof b&&1===b.__NPO__?b:new this(function(G,$){if("function"!=typeof G||"function"!=typeof $)throw TypeError("Not a function");G(b)})}),h(E,"reject",function(b){return new this(function(I,G){if("function"!=typeof I||"function"!=typeof G)throw TypeError("Not a function");G(b)})}),h(E,"all",function(b){var P=this;return"[object Array]"!=y.call(b)?P.reject(TypeError("Not an array")):0===b.length?P.resolve([]):new P(function(G,$){if("function"!=typeof G||"function"!=typeof $)throw TypeError("Not a function");var J=b.length,re=Array(J),O=0;A(P,b,function(U,ne){re[U]=ne,++O===J&&G(re)},$)})}),h(E,"race",function(b){var P=this;return"[object Array]"!=y.call(b)?P.reject(TypeError("Not an array")):new P(function(G,$){if("function"!=typeof G||"function"!=typeof $)throw TypeError("Not a function");A(P,b,function(re,O){G(O)},$)})}),E},(v=typeof o.g<"u"?o.g:this)[h="Promise"]=v[h]||d(),Ce.exports?Ce.exports=v[h]:void 0!==(p=function(){return v[h]}.call(j,o,j,Ce))&&(Ce.exports=p)},896:function(Ce){"use strict";var j=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;Ce.exports=function h(){try{if(!Object.assign)return!1;var v=new String("abc");if(v[5]="de","5"===Object.getOwnPropertyNames(v)[0])return!1;for(var d={},y=0;y<10;y++)d["_"+String.fromCharCode(y)]=y;if("0123456789"!==Object.getOwnPropertyNames(d).map(function(c){return d[c]}).join(""))return!1;var m={};return"abcdefghijklmnopqrst".split("").forEach(function(c){m[c]=c}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},m)).join("")}catch{return!1}}()?Object.assign:function(v,d){for(var y,m,g=function T(v){if(null==v)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(v)}(v),c=1;c<arguments.length;c++){for(var C in y=Object(arguments[c]))o.call(y,C)&&(g[C]=y[C]);if(j){m=j(y);for(var w=0;w<m.length;w++)p.call(y,m[w])&&(g[m[w]]=y[m[w]])}}return g}},9604:function(Ce){Ce.exports=function p(v){var d=[];return v.replace(o,function(y,g,m){var c=g.toLowerCase();for(m=function h(v){var d=v.match(T);return d?d.map(Number):[]}(m),"m"==c&&m.length>2&&(d.push([g].concat(m.splice(0,2))),c="l",g="m"==g?"l":"L");;){if(m.length==j[c])return m.unshift(g),d.push(m);if(m.length<j[c])throw new Error("malformed path data");d.push([g].concat(m.splice(0,j[c])))}}),d};var j={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},o=/([astvzqmhlc])([^astvzqmhlc]*)/gi;var T=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},1456:function(Ce){Ce.exports=function(o,p,T,h){var v=o[0],d=o[1],y=!1;void 0===T&&(T=0),void 0===h&&(h=p.length);for(var g=h-T,m=0,c=g-1;m<g;c=m++){var C=p[m+T][0],w=p[m+T][1],z=p[c+T][1];w>d!=z>d&&v<(p[c+T][0]-C)*(d-w)/(z-w)+C&&(y=!y)}return y}},4756:function(Ce,j,o){var c,p=o(2928),T=o(8648),h=o(9819),v=o(1403),d=o(2368),y=o(7792),g=!1,m=T();function C(w,S,z){var A=c.segments(w),D=c.segments(S),E=z(c.combine(A,D));return c.polygon(E)}c={buildLog:function(w){return!0===w?g=p():!1===w&&(g=!1),!1!==g&&g.list},epsilon:function(w){return m.epsilon(w)},segments:function(w){var S=h(!0,m,g);return w.regions.forEach(S.addRegion),{segments:S.calculate(w.inverted),inverted:w.inverted}},combine:function(w,S){return{combined:h(!1,m,g).calculate(w.segments,w.inverted,S.segments,S.inverted),inverted1:w.inverted,inverted2:S.inverted}},selectUnion:function(w){return{segments:d.union(w.combined,g),inverted:w.inverted1||w.inverted2}},selectIntersect:function(w){return{segments:d.intersect(w.combined,g),inverted:w.inverted1&&w.inverted2}},selectDifference:function(w){return{segments:d.difference(w.combined,g),inverted:w.inverted1&&!w.inverted2}},selectDifferenceRev:function(w){return{segments:d.differenceRev(w.combined,g),inverted:!w.inverted1&&w.inverted2}},selectXor:function(w){return{segments:d.xor(w.combined,g),inverted:w.inverted1!==w.inverted2}},polygon:function(w){return{regions:v(w.segments,m,g),inverted:w.inverted}},polygonFromGeoJSON:function(w){return y.toPolygon(c,w)},polygonToGeoJSON:function(w){return y.fromPolygon(c,m,w)},union:function(w,S){return C(w,S,c.selectUnion)},intersect:function(w,S){return C(w,S,c.selectIntersect)},difference:function(w,S){return C(w,S,c.selectDifference)},differenceRev:function(w,S){return C(w,S,c.selectDifferenceRev)},xor:function(w,S){return C(w,S,c.selectXor)}},"object"==typeof window&&(window.PolyBool=c),Ce.exports=c},2928:function(Ce){Ce.exports=function j(){var o,p=0,T=!1;function h(v,d){return o.list.push({type:v,data:d?JSON.parse(JSON.stringify(d)):void 0}),o}return o={list:[],segmentId:function(){return p++},checkIntersection:function(v,d){return h("check",{seg1:v,seg2:d})},segmentChop:function(v,d){return h("div_seg",{seg:v,pt:d}),h("chop",{seg:v,pt:d})},statusRemove:function(v){return h("pop_seg",{seg:v})},segmentUpdate:function(v){return h("seg_update",{seg:v})},segmentNew:function(v,d){return h("new_seg",{seg:v,primary:d})},segmentRemove:function(v){return h("rem_seg",{seg:v})},tempStatus:function(v,d,y){return h("temp_status",{seg:v,above:d,below:y})},rewind:function(v){return h("rewind",{seg:v})},status:function(v,d,y){return h("status",{seg:v,above:d,below:y})},vert:function(v){return v===T?o:(T=v,h("vert",{x:v}))},log:function(v){return"string"!=typeof v&&(v=JSON.stringify(v,!1,"  ")),h("log",{txt:v})},reset:function(){return h("reset")},selected:function(v){return h("selected",{segs:v})},chainStart:function(v){return h("chain_start",{seg:v})},chainRemoveHead:function(v,d){return h("chain_rem_head",{index:v,pt:d})},chainRemoveTail:function(v,d){return h("chain_rem_tail",{index:v,pt:d})},chainNew:function(v,d){return h("chain_new",{pt1:v,pt2:d})},chainMatch:function(v){return h("chain_match",{index:v})},chainClose:function(v){return h("chain_close",{index:v})},chainAddHead:function(v,d){return h("chain_add_head",{index:v,pt:d})},chainAddTail:function(v,d){return h("chain_add_tail",{index:v,pt:d})},chainConnect:function(v,d){return h("chain_con",{index1:v,index2:d})},chainReverse:function(v){return h("chain_rev",{index:v})},chainJoin:function(v,d){return h("chain_join",{index1:v,index2:d})},done:function(){return h("done")}}}},8648:function(Ce){Ce.exports=function j(o){"number"!=typeof o&&(o=1e-10);var p={epsilon:function(T){return"number"==typeof T&&(o=T),o},pointAboveOrOnLine:function(T,h,v){var d=h[0],y=h[1];return(v[0]-d)*(T[1]-y)-(v[1]-y)*(T[0]-d)>=-o},pointBetween:function(T,h,v){var y=v[0]-h[0],m=v[1]-h[1],c=(T[0]-h[0])*y+(T[1]-h[1])*m;return!(c<o||c-(y*y+m*m)>-o)},pointsSameX:function(T,h){return Math.abs(T[0]-h[0])<o},pointsSameY:function(T,h){return Math.abs(T[1]-h[1])<o},pointsSame:function(T,h){return p.pointsSameX(T,h)&&p.pointsSameY(T,h)},pointsCompare:function(T,h){return p.pointsSameX(T,h)?p.pointsSameY(T,h)?0:T[1]<h[1]?-1:1:T[0]<h[0]?-1:1},pointsCollinear:function(T,h,v){return Math.abs((T[0]-h[0])*(h[1]-v[1])-(h[0]-v[0])*(T[1]-h[1]))<o},linesIntersect:function(T,h,v,d){var y=h[0]-T[0],g=h[1]-T[1],m=d[0]-v[0],c=d[1]-v[1],C=y*c-g*m;if(Math.abs(C)<o)return!1;var w=T[0]-v[0],S=T[1]-v[1],z=(m*S-c*w)/C,A=(y*S-g*w)/C,D={alongA:0,alongB:0,pt:[T[0]+z*y,T[1]+z*g]};return D.alongA=z<=-o?-2:z<o?-1:z-1<=-o?0:z-1<o?1:2,D.alongB=A<=-o?-2:A<o?-1:A-1<=-o?0:A-1<o?1:2,D},pointInsideRegion:function(T,h){for(var v=T[0],d=T[1],y=h[h.length-1][0],g=h[h.length-1][1],m=!1,c=0;c<h.length;c++){var C=h[c][0],w=h[c][1];w-d>o!=g-d>o&&(y-C)*(d-w)/(g-w)+C-v>o&&(m=!m),y=C,g=w}return m}};return p}},7792:function(Ce){Ce.exports={toPolygon:function(o,p){function T(d){if(d.length<=0)return o.segments({inverted:!1,regions:[]});function y(c){var C=c.slice(0,c.length-1);return o.segments({inverted:!1,regions:[C]})}for(var g=y(d[0]),m=1;m<d.length;m++)g=o.selectDifference(o.combine(g,y(d[m])));return g}if("Polygon"===p.type)return o.polygon(T(p.coordinates));if("MultiPolygon"===p.type){for(var h=o.segments({inverted:!1,regions:[]}),v=0;v<p.coordinates.length;v++)h=o.selectUnion(o.combine(h,T(p.coordinates[v])));return o.polygon(h)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(o,p,T){function h(z,A){return p.pointInsideRegion([.5*(z[0][0]+z[1][0]),.5*(z[0][1]+z[1][1])],A)}function v(z){return{region:z,children:[]}}T=o.polygon(o.segments(T));var d=v(null);function y(z,A){for(var D=0;D<z.children.length;D++)if(h(A,(_=z.children[D]).region))return void y(_,A);var E=v(A);for(D=0;D<z.children.length;D++){var _;h((_=z.children[D]).region,A)&&(E.children.push(_),z.children.splice(D,1),D--)}z.children.push(E)}for(var g=0;g<T.regions.length;g++){var m=T.regions[g];m.length<3||y(d,m)}function c(z,A){for(var D=0,_=z[z.length-1][0],E=z[z.length-1][1],M=[],L=0;L<z.length;L++){var b=z[L][0],P=z[L][1];M.push([b,P]),D+=P*_-b*E,_=b,E=P}return D<0!==A&&M.reverse(),M.push([M[0][0],M[0][1]]),M}var C=[];function w(z){var A=[c(z.region,!1)];C.push(A);for(var D=0;D<z.children.length;D++)A.push(S(z.children[D]))}function S(z){for(var A=0;A<z.children.length;A++)w(z.children[A]);return c(z.region,!0)}for(g=0;g<d.children.length;g++)w(d.children[g]);return C.length<=0?{type:"Polygon",coordinates:[]}:1==C.length?{type:"Polygon",coordinates:C[0]}:{type:"MultiPolygon",coordinates:C}}}},9819:function(Ce,j,o){var p=o(8088);Ce.exports=function T(h,v,d){function y(E,M){return{id:d?d.segmentId():-1,start:E,end:M,myFill:{above:null,below:null},otherFill:null}}function g(E,M,L){return{id:d?d.segmentId():-1,start:E,end:M,myFill:{above:L.myFill.above,below:L.myFill.below},otherFill:null}}var m=p.create();function C(E,M){m.insertBefore(E,function(L){return function c(E,M,L,b,P,I){var G=v.pointsCompare(M,P);return 0!==G?G:v.pointsSame(L,I)?0:E!==b?E?1:-1:v.pointAboveOrOnLine(L,b?P:I,b?I:P)?1:-1}(E.isStart,E.pt,M,L.isStart,L.pt,L.other.pt)<0})}function z(E,M){var L=function w(E,M){var L=p.node({isStart:!0,pt:E.start,seg:E,primary:M,other:null,status:null});return C(L,E.end),L}(E,M);return function S(E,M,L){var b=p.node({isStart:!1,pt:M.end,seg:M,primary:L,other:E,status:null});E.other=b,C(b,E.pt)}(L,E,M),L}function D(E,M){var L=g(M,E.seg.end,E.seg);return function A(E,M){d&&d.segmentChop(E.seg,M),E.other.remove(),E.seg.end=M,E.other.pt=M,C(E.other,E.pt)}(E,M),z(L,E.primary)}function _(E,M){var L=p.create();function P(K){return L.findTransition(function(X){return function b(K,X){var ie=K.seg.start,ue=K.seg.end,ce=X.seg.start,ge=X.seg.end;return v.pointsCollinear(ie,ce,ge)?v.pointsCollinear(ue,ce,ge)||v.pointAboveOrOnLine(ue,ce,ge)?1:-1:v.pointAboveOrOnLine(ie,ce,ge)?1:-1}(K,X.ev)>0})}function I(K,X){var ie=K.seg,ue=X.seg,ce=ie.start,ge=ie.end,De=ue.start,Ne=ue.end;d&&d.checkIntersection(ie,ue);var Be=v.linesIntersect(ce,ge,De,Ne);if(!1===Be){if(!v.pointsCollinear(ce,ge,De)||v.pointsSame(ce,Ne)||v.pointsSame(ge,De))return!1;var Fe=v.pointsSame(ce,De),Se=v.pointsSame(ge,Ne);if(Fe&&Se)return X;var ye=!Fe&&v.pointBetween(ce,De,Ne),H=!Se&&v.pointBetween(ge,De,Ne);if(Fe)return H?D(X,ge):D(K,Ne),X;ye&&(Se||(H?D(X,ge):D(K,Ne)),D(X,ce))}else 0===Be.alongA&&(-1===Be.alongB?D(K,De):0===Be.alongB?D(K,Be.pt):1===Be.alongB&&D(K,Ne)),0===Be.alongB&&(-1===Be.alongA?D(X,ce):0===Be.alongA?D(X,Be.pt):1===Be.alongA&&D(X,ge));return!1}for(var G=[];!m.isEmpty();){var $=m.getHead();if(d&&d.vert($.pt[0]),$.isStart){let K=function(){if(re){var X=I($,re);if(X)return X}return!!O&&I($,O)};d&&d.segmentNew($.seg,$.primary);var J=P($),re=J.before?J.before.ev:null,O=J.after?J.after.ev:null;d&&d.tempStatus($.seg,!!re&&re.seg,!!O&&O.seg);var U,Q=K();if(Q&&(h?(U=null===$.seg.myFill.below||$.seg.myFill.above!==$.seg.myFill.below)&&(Q.seg.myFill.above=!Q.seg.myFill.above):Q.seg.otherFill=$.seg.myFill,d&&d.segmentUpdate(Q.seg),$.other.remove(),$.remove()),m.getHead()!==$){d&&d.rewind($.seg);continue}if(h)U=null===$.seg.myFill.below||$.seg.myFill.above!==$.seg.myFill.below,$.seg.myFill.below=O?O.seg.myFill.above:E,$.seg.myFill.above=U?!$.seg.myFill.below:$.seg.myFill.below;else if(null===$.seg.otherFill){var ne;$.seg.otherFill={above:ne=O?$.primary===O.primary?O.seg.otherFill.above:O.seg.myFill.above:$.primary?M:E,below:ne}}d&&d.status($.seg,!!re&&re.seg,!!O&&O.seg),$.other.status=J.insert(p.node({ev:$}))}else{var le=$.status;if(null===le)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(L.exists(le.prev)&&L.exists(le.next)&&I(le.prev.ev,le.next.ev),d&&d.statusRemove(le.ev.seg),le.remove(),!$.primary){var pe=$.seg.myFill;$.seg.myFill=$.seg.otherFill,$.seg.otherFill=pe}G.push($.seg)}m.getHead().remove()}return d&&d.done(),G}return h?{addRegion:function(E){for(var M,L=E[E.length-1],b=0;b<E.length;b++){var P=v.pointsCompare(M=L,L=E[b]);0!==P&&z(y(P<0?M:L,P<0?L:M),!0)}},calculate:function(E){return _(E,!1)}}:{calculate:function(E,M,L,b){return E.forEach(function(P){z(g(P.start,P.end,P),!0)}),L.forEach(function(P){z(g(P.start,P.end,P),!1)}),_(M,b)}}}},8088:function(Ce){Ce.exports={create:function(){var o={root:{root:!0,next:null},exists:function(p){return!(null===p||p===o.root)},isEmpty:function(){return null===o.root.next},getHead:function(){return o.root.next},insertBefore:function(p,T){for(var h=o.root,v=o.root.next;null!==v;){if(T(v))return p.prev=v.prev,p.next=v,v.prev.next=p,void(v.prev=p);h=v,v=v.next}h.next=p,p.prev=h,p.next=null},findTransition:function(p){for(var T=o.root,h=o.root.next;null!==h&&!p(h);)T=h,h=h.next;return{before:T===o.root?null:T,after:h,insert:function(v){return v.prev=T,v.next=h,T.next=v,null!==h&&(h.prev=v),v}}}};return o},node:function(o){return o.prev=null,o.next=null,o.remove=function(){o.prev.next=o.next,o.next&&(o.next.prev=o.prev),o.prev=null,o.next=null},o}}},1403:function(Ce){Ce.exports=function j(o,p,T){var h=[],v=[];return o.forEach(function(d){var y=d.start,g=d.end;if(p.pointsSame(y,g))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{T&&T.chainStart(d);for(var m={index:0,matches_head:!1,matches_pt1:!1},c={index:0,matches_head:!1,matches_pt1:!1},C=m,S=0;S<h.length;S++){var A=(z=h[S])[0],_=z[z.length-1];if(p.pointsSame(A,y)){if(w(S,!0,!0))break}else if(p.pointsSame(A,g)){if(w(S,!0,!1))break}else if(p.pointsSame(_,y)){if(w(S,!1,!0))break}else if(p.pointsSame(_,g)&&w(S,!1,!1))break}if(C===m)return h.push([y,g]),void(T&&T.chainNew(y,g));if(C===c){T&&T.chainMatch(m.index);var M=m.index,L=m.matches_pt1?g:y,b=m.matches_head,z=h[M],P=b?z[0]:z[z.length-1],I=b?z[1]:z[z.length-2],G=b?z[z.length-1]:z[0],$=b?z[z.length-2]:z[1];return p.pointsCollinear(I,P,L)&&(b?(T&&T.chainRemoveHead(m.index,L),z.shift()):(T&&T.chainRemoveTail(m.index,L),z.pop()),P=I),p.pointsSame(G,L)?(h.splice(M,1),p.pointsCollinear($,G,P)&&(b?(T&&T.chainRemoveTail(m.index,P),z.pop()):(T&&T.chainRemoveHead(m.index,P),z.shift())),T&&T.chainClose(m.index),void v.push(z)):void(b?(T&&T.chainAddHead(m.index,L),z.unshift(L)):(T&&T.chainAddTail(m.index,L),z.push(L)))}var O=m.index,Q=c.index;T&&T.chainConnect(O,Q);var U=h[O].length<h[Q].length;m.matches_head?c.matches_head?U?(J(O),re(O,Q)):(J(Q),re(Q,O)):re(Q,O):c.matches_head?re(O,Q):U?(J(O),re(Q,O)):(J(Q),re(O,Q))}function w(ne,le,pe){return C.index=ne,C.matches_head=le,C.matches_pt1=pe,C===m?(C=c,!1):(C=null,!0)}function J(ne){T&&T.chainReverse(ne),h[ne].reverse()}function re(ne,le){var pe=h[ne],W=h[le],K=pe[pe.length-1],X=pe[pe.length-2],ie=W[0],ue=W[1];p.pointsCollinear(X,K,ie)&&(T&&T.chainRemoveTail(ne,K),pe.pop(),K=X),p.pointsCollinear(K,ie,ue)&&(T&&T.chainRemoveHead(le,ie),W.shift()),T&&T.chainJoin(ne,le),h[ne]=pe.concat(W),h.splice(le,1)}}),v}},2368:function(Ce){function j(p,T,h){var v=[];return p.forEach(function(d){var y=(d.myFill.above?8:0)+(d.myFill.below?4:0)+(d.otherFill&&d.otherFill.above?2:0)+(d.otherFill&&d.otherFill.below?1:0);0!==T[y]&&v.push({id:h?h.segmentId():-1,start:d.start,end:d.end,myFill:{above:1===T[y],below:2===T[y]},otherFill:null})}),h&&h.selected(v),v}Ce.exports={union:function(p,T){return j(p,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],T)},intersect:function(p,T){return j(p,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],T)},difference:function(p,T){return j(p,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],T)},differenceRev:function(p,T){return j(p,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],T)},xor:function(p,T){return j(p,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],T)}}},9760:function(Ce,j,o){var p;!function(T){var h=/^\s+/,v=/\s+$/,d=0,y=T.round,g=T.min,m=T.max,c=T.random;function C(N,ee){if(ee=ee||{},(N=N||"")instanceof C)return N;if(!(this instanceof C))return new C(N,ee);var B=function w(N){var ee={r:0,g:0,b:0},B=1,se=null,xe=null,Te=null,Ee=!1,Oe=!1;return"string"==typeof N&&(N=function te(N){N=N.replace(h,"").replace(v,"").toLowerCase();var B,ee=!1;if(W[N])N=W[N],ee=!0;else if("transparent"==N)return{r:0,g:0,b:0,a:0,format:"name"};return(B=H.rgb.exec(N))?{r:B[1],g:B[2],b:B[3]}:(B=H.rgba.exec(N))?{r:B[1],g:B[2],b:B[3],a:B[4]}:(B=H.hsl.exec(N))?{h:B[1],s:B[2],l:B[3]}:(B=H.hsla.exec(N))?{h:B[1],s:B[2],l:B[3],a:B[4]}:(B=H.hsv.exec(N))?{h:B[1],s:B[2],v:B[3]}:(B=H.hsva.exec(N))?{h:B[1],s:B[2],v:B[3],a:B[4]}:(B=H.hex8.exec(N))?{r:ge(B[1]),g:ge(B[2]),b:ge(B[3]),a:ye(B[4]),format:ee?"name":"hex8"}:(B=H.hex6.exec(N))?{r:ge(B[1]),g:ge(B[2]),b:ge(B[3]),format:ee?"name":"hex"}:(B=H.hex4.exec(N))?{r:ge(B[1]+""+B[1]),g:ge(B[2]+""+B[2]),b:ge(B[3]+""+B[3]),a:ye(B[4]+""+B[4]),format:ee?"name":"hex8"}:!!(B=H.hex3.exec(N))&&{r:ge(B[1]+""+B[1]),g:ge(B[2]+""+B[2]),b:ge(B[3]+""+B[3]),format:ee?"name":"hex"}}(N)),"object"==typeof N&&(Y(N.r)&&Y(N.g)&&Y(N.b)?(ee=function S(N,ee,B){return{r:255*ue(N,255),g:255*ue(ee,255),b:255*ue(B,255)}}(N.r,N.g,N.b),Ee=!0,Oe="%"===String(N.r).substr(-1)?"prgb":"rgb"):Y(N.h)&&Y(N.s)&&Y(N.v)?(se=Fe(N.s),xe=Fe(N.v),ee=function _(N,ee,B){N=6*ue(N,360),ee=ue(ee,100),B=ue(B,100);var se=T.floor(N),xe=N-se,Te=B*(1-ee),Ee=B*(1-xe*ee),Oe=B*(1-(1-xe)*ee),$e=se%6;return{r:255*[B,Ee,Te,Te,Oe,B][$e],g:255*[Oe,B,B,Ee,Te,Te][$e],b:255*[Te,Te,Oe,B,B,Ee][$e]}}(N.h,se,xe),Ee=!0,Oe="hsv"):Y(N.h)&&Y(N.s)&&Y(N.l)&&(se=Fe(N.s),Te=Fe(N.l),ee=function A(N,ee,B){var se,xe,Te;function Ee(ct,ft,gt){return gt<0&&(gt+=1),gt>1&&(gt-=1),gt<.16666666666666666?ct+6*(ft-ct)*gt:gt<.5?ft:gt<.6666666666666666?ct+(ft-ct)*(.6666666666666666-gt)*6:ct}if(N=ue(N,360),ee=ue(ee,100),B=ue(B,100),0===ee)se=xe=Te=B;else{var Oe=B<.5?B*(1+ee):B+ee-B*ee,$e=2*B-Oe;se=Ee($e,Oe,N+.3333333333333333),xe=Ee($e,Oe,N),Te=Ee($e,Oe,N-.3333333333333333)}return{r:255*se,g:255*xe,b:255*Te}}(N.h,se,Te),Ee=!0,Oe="hsl"),N.hasOwnProperty("a")&&(B=N.a)),B=ie(B),{ok:Ee,format:N.format||Oe,r:g(255,m(ee.r,0)),g:g(255,m(ee.g,0)),b:g(255,m(ee.b,0)),a:B}}(N);this._originalInput=N,this._r=B.r,this._g=B.g,this._b=B.b,this._a=B.a,this._roundA=y(100*this._a)/100,this._format=ee.format||B.format,this._gradientType=ee.gradientType,this._r<1&&(this._r=y(this._r)),this._g<1&&(this._g=y(this._g)),this._b<1&&(this._b=y(this._b)),this._ok=B.ok,this._tc_id=d++}function z(N,ee,B){N=ue(N,255),ee=ue(ee,255),B=ue(B,255);var Te,Ee,se=m(N,ee,B),xe=g(N,ee,B),Oe=(se+xe)/2;if(se==xe)Te=Ee=0;else{var $e=se-xe;switch(Ee=Oe>.5?$e/(2-se-xe):$e/(se+xe),se){case N:Te=(ee-B)/$e+(ee<B?6:0);break;case ee:Te=(B-N)/$e+2;break;case B:Te=(N-ee)/$e+4}Te/=6}return{h:Te,s:Ee,l:Oe}}function D(N,ee,B){N=ue(N,255),ee=ue(ee,255),B=ue(B,255);var Te,Ee,se=m(N,ee,B),xe=g(N,ee,B),Oe=se,$e=se-xe;if(Ee=0===se?0:$e/se,se==xe)Te=0;else{switch(se){case N:Te=(ee-B)/$e+(ee<B?6:0);break;case ee:Te=(B-N)/$e+2;break;case B:Te=(N-ee)/$e+4}Te/=6}return{h:Te,s:Ee,v:Oe}}function E(N,ee,B,se){var xe=[Be(y(N).toString(16)),Be(y(ee).toString(16)),Be(y(B).toString(16))];return se&&xe[0].charAt(0)==xe[0].charAt(1)&&xe[1].charAt(0)==xe[1].charAt(1)&&xe[2].charAt(0)==xe[2].charAt(1)?xe[0].charAt(0)+xe[1].charAt(0)+xe[2].charAt(0):xe.join("")}function L(N,ee,B,se){return[Be(Se(se)),Be(y(N).toString(16)),Be(y(ee).toString(16)),Be(y(B).toString(16))].join("")}function b(N,ee){ee=0===ee?0:ee||10;var B=C(N).toHsl();return B.s-=ee/100,B.s=ce(B.s),C(B)}function P(N,ee){ee=0===ee?0:ee||10;var B=C(N).toHsl();return B.s+=ee/100,B.s=ce(B.s),C(B)}function I(N){return C(N).desaturate(100)}function G(N,ee){ee=0===ee?0:ee||10;var B=C(N).toHsl();return B.l+=ee/100,B.l=ce(B.l),C(B)}function $(N,ee){ee=0===ee?0:ee||10;var B=C(N).toRgb();return B.r=m(0,g(255,B.r-y(-ee/100*255))),B.g=m(0,g(255,B.g-y(-ee/100*255))),B.b=m(0,g(255,B.b-y(-ee/100*255))),C(B)}function J(N,ee){ee=0===ee?0:ee||10;var B=C(N).toHsl();return B.l-=ee/100,B.l=ce(B.l),C(B)}function re(N,ee){var B=C(N).toHsl(),se=(B.h+ee)%360;return B.h=se<0?360+se:se,C(B)}function O(N){var ee=C(N).toHsl();return ee.h=(ee.h+180)%360,C(ee)}function Q(N){var ee=C(N).toHsl(),B=ee.h;return[C(N),C({h:(B+120)%360,s:ee.s,l:ee.l}),C({h:(B+240)%360,s:ee.s,l:ee.l})]}function U(N){var ee=C(N).toHsl(),B=ee.h;return[C(N),C({h:(B+90)%360,s:ee.s,l:ee.l}),C({h:(B+180)%360,s:ee.s,l:ee.l}),C({h:(B+270)%360,s:ee.s,l:ee.l})]}function ne(N){var ee=C(N).toHsl(),B=ee.h;return[C(N),C({h:(B+72)%360,s:ee.s,l:ee.l}),C({h:(B+216)%360,s:ee.s,l:ee.l})]}function le(N,ee,B){ee=ee||6,B=B||30;var se=C(N).toHsl(),xe=360/B,Te=[C(N)];for(se.h=(se.h-(xe*ee>>1)+720)%360;--ee;)se.h=(se.h+xe)%360,Te.push(C(se));return Te}function pe(N,ee){ee=ee||6;for(var B=C(N).toHsv(),se=B.h,xe=B.s,Te=B.v,Ee=[],Oe=1/ee;ee--;)Ee.push(C({h:se,s:xe,v:Te})),Te=(Te+Oe)%1;return Ee}C.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var N=this.toRgb();return(299*N.r+587*N.g+114*N.b)/1e3},getLuminance:function(){var ee,B,se,N=this.toRgb();return B=N.g/255,se=N.b/255,.2126*((ee=N.r/255)<=.03928?ee/12.92:T.pow((ee+.055)/1.055,2.4))+.7152*(B<=.03928?B/12.92:T.pow((B+.055)/1.055,2.4))+.0722*(se<=.03928?se/12.92:T.pow((se+.055)/1.055,2.4))},setAlpha:function(N){return this._a=ie(N),this._roundA=y(100*this._a)/100,this},toHsv:function(){var N=D(this._r,this._g,this._b);return{h:360*N.h,s:N.s,v:N.v,a:this._a}},toHsvString:function(){var N=D(this._r,this._g,this._b),ee=y(360*N.h),B=y(100*N.s),se=y(100*N.v);return 1==this._a?"hsv("+ee+", "+B+"%, "+se+"%)":"hsva("+ee+", "+B+"%, "+se+"%, "+this._roundA+")"},toHsl:function(){var N=z(this._r,this._g,this._b);return{h:360*N.h,s:N.s,l:N.l,a:this._a}},toHslString:function(){var N=z(this._r,this._g,this._b),ee=y(360*N.h),B=y(100*N.s),se=y(100*N.l);return 1==this._a?"hsl("+ee+", "+B+"%, "+se+"%)":"hsla("+ee+", "+B+"%, "+se+"%, "+this._roundA+")"},toHex:function(N){return E(this._r,this._g,this._b,N)},toHexString:function(N){return"#"+this.toHex(N)},toHex8:function(N){return function M(N,ee,B,se,xe){var Te=[Be(y(N).toString(16)),Be(y(ee).toString(16)),Be(y(B).toString(16)),Be(Se(se))];return xe&&Te[0].charAt(0)==Te[0].charAt(1)&&Te[1].charAt(0)==Te[1].charAt(1)&&Te[2].charAt(0)==Te[2].charAt(1)&&Te[3].charAt(0)==Te[3].charAt(1)?Te[0].charAt(0)+Te[1].charAt(0)+Te[2].charAt(0)+Te[3].charAt(0):Te.join("")}(this._r,this._g,this._b,this._a,N)},toHex8String:function(N){return"#"+this.toHex8(N)},toRgb:function(){return{r:y(this._r),g:y(this._g),b:y(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+y(this._r)+", "+y(this._g)+", "+y(this._b)+")":"rgba("+y(this._r)+", "+y(this._g)+", "+y(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:y(100*ue(this._r,255))+"%",g:y(100*ue(this._g,255))+"%",b:y(100*ue(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+y(100*ue(this._r,255))+"%, "+y(100*ue(this._g,255))+"%, "+y(100*ue(this._b,255))+"%)":"rgba("+y(100*ue(this._r,255))+"%, "+y(100*ue(this._g,255))+"%, "+y(100*ue(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(K[E(this._r,this._g,this._b,!0)]||!1)},toFilter:function(N){var ee="#"+L(this._r,this._g,this._b,this._a),B=ee,se=this._gradientType?"GradientType = 1, ":"";if(N){var xe=C(N);B="#"+L(xe._r,xe._g,xe._b,xe._a)}return"progid:DXImageTransform.Microsoft.gradient("+se+"startColorstr="+ee+",endColorstr="+B+")"},toString:function(N){var ee=!!N;N=N||this._format;var B=!1;return!ee&&this._a<1&&this._a>=0&&("hex"===N||"hex6"===N||"hex3"===N||"hex4"===N||"hex8"===N||"name"===N)?"name"===N&&0===this._a?this.toName():this.toRgbString():("rgb"===N&&(B=this.toRgbString()),"prgb"===N&&(B=this.toPercentageRgbString()),("hex"===N||"hex6"===N)&&(B=this.toHexString()),"hex3"===N&&(B=this.toHexString(!0)),"hex4"===N&&(B=this.toHex8String(!0)),"hex8"===N&&(B=this.toHex8String()),"name"===N&&(B=this.toName()),"hsl"===N&&(B=this.toHslString()),"hsv"===N&&(B=this.toHsvString()),B||this.toHexString())},clone:function(){return C(this.toString())},_applyModification:function(N,ee){var B=N.apply(null,[this].concat([].slice.call(ee)));return this._r=B._r,this._g=B._g,this._b=B._b,this.setAlpha(B._a),this},lighten:function(){return this._applyModification(G,arguments)},brighten:function(){return this._applyModification($,arguments)},darken:function(){return this._applyModification(J,arguments)},desaturate:function(){return this._applyModification(b,arguments)},saturate:function(){return this._applyModification(P,arguments)},greyscale:function(){return this._applyModification(I,arguments)},spin:function(){return this._applyModification(re,arguments)},_applyCombination:function(N,ee){return N.apply(null,[this].concat([].slice.call(ee)))},analogous:function(){return this._applyCombination(le,arguments)},complement:function(){return this._applyCombination(O,arguments)},monochromatic:function(){return this._applyCombination(pe,arguments)},splitcomplement:function(){return this._applyCombination(ne,arguments)},triad:function(){return this._applyCombination(Q,arguments)},tetrad:function(){return this._applyCombination(U,arguments)}},C.fromRatio=function(N,ee){if("object"==typeof N){var B={};for(var se in N)N.hasOwnProperty(se)&&(B[se]="a"===se?N[se]:Fe(N[se]));N=B}return C(N,ee)},C.equals=function(N,ee){return!(!N||!ee)&&C(N).toRgbString()==C(ee).toRgbString()},C.random=function(){return C.fromRatio({r:c(),g:c(),b:c()})},C.mix=function(N,ee,B){B=0===B?0:B||50;var se=C(N).toRgb(),xe=C(ee).toRgb(),Te=B/100;return C({r:(xe.r-se.r)*Te+se.r,g:(xe.g-se.g)*Te+se.g,b:(xe.b-se.b)*Te+se.b,a:(xe.a-se.a)*Te+se.a})},C.readability=function(N,ee){var B=C(N),se=C(ee);return(T.max(B.getLuminance(),se.getLuminance())+.05)/(T.min(B.getLuminance(),se.getLuminance())+.05)},C.isReadable=function(N,ee,B){var xe,Te,se=C.readability(N,ee);switch(Te=!1,(xe=function Z(N){var ee,B;return"AA"!==(ee=((N=N||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==ee&&(ee="AA"),"small"!==(B=(N.size||"small").toLowerCase())&&"large"!==B&&(B="small"),{level:ee,size:B}}(B)).level+xe.size){case"AAsmall":case"AAAlarge":Te=se>=4.5;break;case"AAlarge":Te=se>=3;break;case"AAAsmall":Te=se>=7}return Te},C.mostReadable=function(N,ee,B){var Te,Ee,Oe,$e,se=null,xe=0;Ee=(B=B||{}).includeFallbackColors,Oe=B.level,$e=B.size;for(var ct=0;ct<ee.length;ct++)(Te=C.readability(N,ee[ct]))>xe&&(xe=Te,se=C(ee[ct]));return C.isReadable(N,se,{level:Oe,size:$e})||!Ee?se:(B.includeFallbackColors=!1,C.mostReadable(N,["#fff","#000"],B))};var W=C.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},K=C.hexNames=function X(N){var ee={};for(var B in N)N.hasOwnProperty(B)&&(ee[N[B]]=B);return ee}(W);function ie(N){return N=parseFloat(N),(isNaN(N)||N<0||N>1)&&(N=1),N}function ue(N,ee){(function De(N){return"string"==typeof N&&-1!=N.indexOf(".")&&1===parseFloat(N)})(N)&&(N="100%");var B=function Ne(N){return"string"==typeof N&&-1!=N.indexOf("%")}(N);return N=g(ee,m(0,parseFloat(N))),B&&(N=parseInt(N*ee,10)/100),T.abs(N-ee)<1e-6?1:N%ee/parseFloat(ee)}function ce(N){return g(1,m(0,N))}function ge(N){return parseInt(N,16)}function Be(N){return 1==N.length?"0"+N:""+N}function Fe(N){return N<=1&&(N=100*N+"%"),N}function Se(N){return T.round(255*parseFloat(N)).toString(16)}function ye(N){return ge(N)/255}var B,se,xe,H=(se="[\\s|\\(]+("+(B="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+B+")[,|\\s]+("+B+")\\s*\\)?",xe="[\\s|\\(]+("+B+")[,|\\s]+("+B+")[,|\\s]+("+B+")[,|\\s]+("+B+")\\s*\\)?",{CSS_UNIT:new RegExp(B),rgb:new RegExp("rgb"+se),rgba:new RegExp("rgba"+xe),hsl:new RegExp("hsl"+se),hsla:new RegExp("hsla"+xe),hsv:new RegExp("hsv"+se),hsva:new RegExp("hsva"+xe),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function Y(N){return!!H.CSS_UNIT.exec(N)}Ce.exports?Ce.exports=C:void 0!==(p=function(){return C}.call(j,o,j,Ce))&&(Ce.exports=p)}(Math)},7020:function(Ce,j,o){var p=o(8700),T=o(896),h=p.instance();function v(z){this.local=this.regionalOptions[z||""]||this.regionalOptions[""]}T(v.prototype=new p.baseCalendar,{name:"Chinese",jdEpoch:1721425.5,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(z,A){if("string"==typeof z){var D=z.match(y);return D?D[0]:""}var _=this._validateYear(z),E=z.month(),M=""+this.toChineseMonth(_,E);return A&&M.length<2&&(M="0"+M),this.isIntercalaryMonth(_,E)&&(M+="i"),M},monthNames:function(z){if("string"==typeof z){var A=z.match(g);return A?A[0]:""}var D=this._validateYear(z),_=z.month(),M=["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"][this.toChineseMonth(D,_)-1];return this.isIntercalaryMonth(D,_)&&(M="\u95f0"+M),M},monthNamesShort:function(z){if("string"==typeof z){var A=z.match(m);return A?A[0]:""}var D=this._validateYear(z),_=z.month(),M=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"][this.toChineseMonth(D,_)-1];return this.isIntercalaryMonth(D,_)&&(M="\u95f0"+M),M},parseMonth:function(z,A){z=this._validateYear(z);var _,D=parseInt(A);if(isNaN(D))"\u95f0"===A[0]&&(_=!0,A=A.substring(1)),"\u6708"===A[A.length-1]&&(A=A.substring(0,A.length-1)),D=1+["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"].indexOf(A);else{var E=A[A.length-1];_="i"===E||"I"===E}return this.toMonthIndex(z,D,_)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(z,A){if(z.year&&(z=z.year()),"number"!=typeof z||z<1888||z>2111)throw A.replace(/\{0\}/,this.local.name);return z},toMonthIndex:function(z,A,D){var _=this.intercalaryMonth(z);if(D&&A!==_||A<1||A>12)throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);return _?!D&&A<=_?A-1:A:A-1},toChineseMonth:function(z,A){z.year&&(A=(z=z.year()).month());var D=this.intercalaryMonth(z);if(A<0||A>(D?12:11))throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);return D?A<D?A+1:A:A+1},intercalaryMonth:function(z){return z=this._validateYear(z),c[z-c[0]]>>13},isIntercalaryMonth:function(z,A){z.year&&(A=(z=z.year()).month());var D=this.intercalaryMonth(z);return!!D&&D===A},leapYear:function(z){return 0!==this.intercalaryMonth(z)},weekOfYear:function(z,A,D){var P,_=this._validateYear(z,p.local.invalidyear),E=C[_-C[0]];(P=h.newDate(E>>9&4095,E>>5&15,31&E)).add(4-(P.dayOfWeek()||7),"d");var I=this.toJD(z,A,D)-P.toJD();return 1+Math.floor(I/7)},monthsInYear:function(z){return this.leapYear(z)?13:12},daysInMonth:function(z,A){z.year&&(A=z.month(),z=z.year()),z=this._validateYear(z);var D=c[z-c[0]];if(A>(D>>13?12:11))throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);return D&1<<12-A?30:29},weekDay:function(z,A,D){return(this.dayOfWeek(z,A,D)||7)<6},toJD:function(z,A,D){var _=this._validate(z,M,D,p.local.invalidDate);z=this._validateYear(_.year()),A=_.month(),D=_.day();var E=this.isIntercalaryMonth(z,A),M=this.toChineseMonth(z,A),L=function S(z,A,D,_,E){var M,L,$;if("object"==typeof z)L=z,M=A||{};else{var G;if(!("number"==typeof z&&z>=1888&&z<=2111))throw new Error("Lunar year outside range 1888-2111");if(!("number"==typeof A&&A>=1&&A<=12))throw new Error("Lunar month outside range 1 - 12");if(!("number"==typeof D&&D>=1&&D<=30))throw new Error("Lunar day outside range 1 - 30");"object"==typeof _?(G=!1,M=_):(G=!!_,M=E||{}),L={year:z,month:A,day:D,isIntercalary:G}}$=L.day-1;var O,J=c[L.year-c[0]],re=J>>13;O=re&&(L.month>re||L.isIntercalary)?L.month:L.month-1;for(var Q=0;Q<O;Q++)$+=J&1<<12-Q?30:29;var ne=C[L.year-C[0]],K=new Date(ne>>9&4095,(ne>>5&15)-1,(31&ne)+$);return M.year=K.getFullYear(),M.month=1+K.getMonth(),M.day=K.getDate(),M}(z,M,D,E);return h.toJD(L.year,L.month,L.day)},fromJD:function(z){var A=h.fromJD(z),D=function w(z,A,D,_){var E,M;if("object"==typeof z)E=z,M=A||{};else{if(!("number"==typeof z&&z>=1888&&z<=2111))throw new Error("Solar year outside range 1888-2111");if(!("number"==typeof A&&A>=1&&A<=12))throw new Error("Solar month outside range 1 - 12");if(!("number"==typeof D&&D>=1&&D<=31))throw new Error("Solar day outside range 1 - 31");E={year:z,month:A,day:D},M=_||{}}var I=C[E.year-C[0]];M.year=(E.year<<9|E.month<<5|E.day)>=I?E.year:E.year-1,I=C[M.year-C[0]];var O,Q=new Date(I>>9&4095,(I>>5&15)-1,31&I),U=new Date(E.year,E.month-1,E.day);O=Math.round((U-Q)/864e5);var le,ne=c[M.year-c[0]];for(le=0;le<13;le++){var pe=ne&1<<12-le?30:29;if(O<pe)break;O-=pe}var W=ne>>13;return!W||le<W?(M.isIntercalary=!1,M.month=1+le):le===W?(M.isIntercalary=!0,M.month=le):(M.isIntercalary=!1,M.month=le),M.day=1+O,M}(A.year(),A.month(),A.day()),_=this.toMonthIndex(D.year,D.month,D.isIntercalary);return this.newDate(D.year,_,D.day)},fromString:function(z){var A=z.match(d),D=this._validateYear(+A[1]),M=this.toMonthIndex(D,+A[2],!!A[3]);return this.newDate(D,M,+A[4])},add:function(z,A,D){var _=z.year(),E=z.month(),M=this.isIntercalaryMonth(_,E),L=this.toChineseMonth(_,E),b=Object.getPrototypeOf(v.prototype).add.call(this,z,A,D);if("y"===D){var P=b.year(),I=b.month(),G=this.isIntercalaryMonth(P,L),$=this.toMonthIndex(P,L,!(!M||!G));$!==I&&b.month($)}return b}});var d=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,y=/^\d?\d[iI]?/m,g=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?\u6708/m,m=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?/m;p.calendars.chinese=v;var c=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],C=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},7411:function(Ce,j,o){var p=o(8700);function h(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}o(896)(h.prototype=new p.baseCalendar,{name:"Coptic",jdEpoch:1825029.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(y){var d=this._validate(y,this.minMonth,this.minDay,p.local.invalidYear);return(y=d.year()+(d.year()<0?1:0))%4==3||y%4==-1},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),13},weekOfYear:function(v,d,y){var g=this.newDate(v,d,y);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInMonth:function(v,d){var y=this._validate(v,d,this.minDay,p.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(13===y.month()&&this.leapYear(y.year())?1:0)},weekDay:function(v,d,y){return(this.dayOfWeek(v,d,y)||7)<6},toJD:function(v,d,y){var g=this._validate(v,d,y,p.local.invalidDate);return(v=g.year())<0&&v++,g.day()+30*(g.month()-1)+365*(v-1)+Math.floor(v/4)+this.jdEpoch-1},fromJD:function(v){var d=Math.floor(v)+.5-this.jdEpoch,y=Math.floor((d-Math.floor((d+366)/1461))/365)+1;y<=0&&y--,d=Math.floor(v)+.5-this.newDate(y,1,1).toJD();var g=Math.floor(d/30)+1;return this.newDate(y,g,d-30*(g-1)+1)}}),p.calendars.coptic=h},5668:function(Ce,j,o){var p=o(8700);function h(d){this.local=this.regionalOptions[d||""]||this.regionalOptions[""]}o(896)(h.prototype=new p.baseCalendar,{name:"Discworld",jdEpoch:1721425.5,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(d){return this._validate(d,this.minMonth,this.minDay,p.local.invalidYear),!1},monthsInYear:function(d){return this._validate(d,this.minMonth,this.minDay,p.local.invalidYear),13},daysInYear:function(d){return this._validate(d,this.minMonth,this.minDay,p.local.invalidYear),400},weekOfYear:function(d,y,g){var m=this.newDate(d,y,g);return m.add(-m.dayOfWeek(),"d"),Math.floor((m.dayOfYear()-1)/8)+1},daysInMonth:function(d,y){var g=this._validate(d,y,this.minDay,p.local.invalidMonth);return this.daysPerMonth[g.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(d,y,g){return(this._validate(d,y,g,p.local.invalidDate).day()+1)%8},weekDay:function(d,y,g){var m=this.dayOfWeek(d,y,g);return m>=2&&m<=6},extraInfo:function(d,y,g){var m=this._validate(d,y,g,p.local.invalidDate);return{century:v[Math.floor((m.year()-1)/100)+1]||""}},toJD:function(d,y,g){var m=this._validate(d,y,g,p.local.invalidDate);return d=m.year()+(m.year()<0?1:0),y=m.month(),(g=m.day())+(y>1?16:0)+(y>2?32*(y-2):0)+400*(d-1)+this.jdEpoch-1},fromJD:function(d){d=Math.floor(d+.5)-Math.floor(this.jdEpoch)-1;var y=Math.floor(d/400)+1;d-=400*(y-1),d+=d>15?16:0;var g=Math.floor(d/32)+1;return this.newDate(y<=0?y-1:y,g,d-32*(g-1)+1)}});var v={20:"Fruitbat",21:"Anchovy"};p.calendars.discworld=h},2787:function(Ce,j,o){var p=o(8700);function h(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}o(896)(h.prototype=new p.baseCalendar,{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(y){var d=this._validate(y,this.minMonth,this.minDay,p.local.invalidYear);return(y=d.year()+(d.year()<0?1:0))%4==3||y%4==-1},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),13},weekOfYear:function(v,d,y){var g=this.newDate(v,d,y);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInMonth:function(v,d){var y=this._validate(v,d,this.minDay,p.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(13===y.month()&&this.leapYear(y.year())?1:0)},weekDay:function(v,d,y){return(this.dayOfWeek(v,d,y)||7)<6},toJD:function(v,d,y){var g=this._validate(v,d,y,p.local.invalidDate);return(v=g.year())<0&&v++,g.day()+30*(g.month()-1)+365*(v-1)+Math.floor(v/4)+this.jdEpoch-1},fromJD:function(v){var d=Math.floor(v)+.5-this.jdEpoch,y=Math.floor((d-Math.floor((d+366)/1461))/365)+1;y<=0&&y--,d=Math.floor(v)+.5-this.newDate(y,1,1).toJD();var g=Math.floor(d/30)+1;return this.newDate(y,g,d-30*(g-1)+1)}}),p.calendars.ethiopian=h},2084:function(Ce,j,o){var p=o(8700);function h(d){this.local=this.regionalOptions[d||""]||this.regionalOptions[""]}function v(d,y){return d-y*Math.floor(d/y)}o(896)(h.prototype=new p.baseCalendar,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(d){var y=this._validate(d,this.minMonth,this.minDay,p.local.invalidYear);return this._leapYear(y.year())},_leapYear:function(d){return v(7*(d=d<0?d+1:d)+1,19)<7},monthsInYear:function(d){return this._validate(d,this.minMonth,this.minDay,p.local.invalidYear),this._leapYear(d.year?d.year():d)?13:12},weekOfYear:function(d,y,g){var m=this.newDate(d,y,g);return m.add(-m.dayOfWeek(),"d"),Math.floor((m.dayOfYear()-1)/7)+1},daysInYear:function(d){return d=this._validate(d,this.minMonth,this.minDay,p.local.invalidYear).year(),this.toJD(-1===d?1:d+1,7,1)-this.toJD(d,7,1)},daysInMonth:function(d,y){return d.year&&(y=d.month(),d=d.year()),this._validate(d,y,this.minDay,p.local.invalidMonth),12===y&&this.leapYear(d)||8===y&&5===v(this.daysInYear(d),10)?30:9===y&&3===v(this.daysInYear(d),10)?29:this.daysPerMonth[y-1]},weekDay:function(d,y,g){return 6!==this.dayOfWeek(d,y,g)},extraInfo:function(d,y,g){var m=this._validate(d,y,g,p.local.invalidDate);return{yearType:(this.leapYear(m)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(m)%10-3]}},toJD:function(d,y,g){var m=this._validate(d,y,g,p.local.invalidDate);d=m.year(),y=m.month(),g=m.day();var c=d<=0?d+1:d,C=this.jdEpoch+this._delay1(c)+this._delay2(c)+g+1;if(y<7){for(var w=7;w<=this.monthsInYear(d);w++)C+=this.daysInMonth(d,w);for(w=1;w<y;w++)C+=this.daysInMonth(d,w)}else for(w=7;w<y;w++)C+=this.daysInMonth(d,w);return C},_delay1:function(d){var y=Math.floor((235*d-234)/19),m=29*y+Math.floor((12084+13753*y)/25920);return v(3*(m+1),7)<3&&m++,m},_delay2:function(d){var y=this._delay1(d-1),g=this._delay1(d);return this._delay1(d+1)-g==356?2:g-y==382?1:0},fromJD:function(d){d=Math.floor(d)+.5;for(var y=Math.floor(98496*(d-this.jdEpoch)/35975351)-1;d>=this.toJD(-1===y?1:y+1,7,1);)y++;for(var g=d<this.toJD(y,1,1)?7:1;d>this.toJD(y,g,this.daysInMonth(y,g));)g++;var m=d-this.toJD(y,g,1)+1;return this.newDate(y,g,m)}}),p.calendars.hebrew=h},6368:function(Ce,j,o){var p=o(8700);function h(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}o(896)(h.prototype=new p.baseCalendar,{name:"Islamic",jdEpoch:1948439.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(v){return(11*this._validate(v,this.minMonth,this.minDay,p.local.invalidYear).year()+14)%30<11},weekOfYear:function(v,d,y){var g=this.newDate(v,d,y);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInYear:function(v){return this.leapYear(v)?355:354},daysInMonth:function(v,d){var y=this._validate(v,d,this.minDay,p.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(12===y.month()&&this.leapYear(y.year())?1:0)},weekDay:function(v,d,y){return 5!==this.dayOfWeek(v,d,y)},toJD:function(v,d,y){var g=this._validate(v,d,y,p.local.invalidDate);return v=g.year(),d=g.month(),v=v<=0?v+1:v,(y=g.day())+Math.ceil(29.5*(d-1))+354*(v-1)+Math.floor((3+11*v)/30)+this.jdEpoch-1},fromJD:function(v){v=Math.floor(v)+.5;var d=Math.floor((30*(v-this.jdEpoch)+10646)/10631);d=d<=0?d-1:d;var y=Math.min(12,Math.ceil((v-29-this.toJD(d,1,1))/29.5)+1),g=v-this.toJD(d,y,1)+1;return this.newDate(d,y,g)}}),p.calendars.islamic=h},4747:function(Ce,j,o){var p=o(8700);function h(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}o(896)(h.prototype=new p.baseCalendar,{name:"Julian",jdEpoch:1721423.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(y){var d=this._validate(y,this.minMonth,this.minDay,p.local.invalidYear);return(y=d.year()<0?d.year()+1:d.year())%4==0},weekOfYear:function(v,d,y){var g=this.newDate(v,d,y);return g.add(4-(g.dayOfWeek()||7),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInMonth:function(v,d){var y=this._validate(v,d,this.minDay,p.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(2===y.month()&&this.leapYear(y.year())?1:0)},weekDay:function(v,d,y){return(this.dayOfWeek(v,d,y)||7)<6},toJD:function(v,d,y){var g=this._validate(v,d,y,p.local.invalidDate);return v=g.year(),d=g.month(),y=g.day(),v<0&&v++,d<=2&&(v--,d+=12),Math.floor(365.25*(v+4716))+Math.floor(30.6001*(d+1))+y-1524.5},fromJD:function(v){var y=Math.floor(v+.5)+1524,g=Math.floor((y-122.1)/365.25),m=Math.floor(365.25*g),c=Math.floor((y-m)/30.6001),C=c-Math.floor(c<14?1:13),w=g-Math.floor(C>2?4716:4715),S=y-m-Math.floor(30.6001*c);return w<=0&&w--,this.newDate(w,C,S)}}),p.calendars.julian=h},5616:function(Ce,j,o){var p=o(8700);function h(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}function v(y,g){return y-g*Math.floor(y/g)}function d(y,g){return v(y-1,g)+1}o(896)(h.prototype=new p.baseCalendar,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(y){return this._validate(y,this.minMonth,this.minDay,p.local.invalidYear),!1},formatYear:function(y){y=this._validate(y,this.minMonth,this.minDay,p.local.invalidYear).year();var m=Math.floor(y/400);return y%=400,y+=y<0?400:0,m+"."+Math.floor(y/20)+"."+y%20},forYear:function(y){if((y=y.split(".")).length<3)throw"Invalid Mayan year";for(var g=0,m=0;m<y.length;m++){var c=parseInt(y[m],10);if(Math.abs(c)>19||m>0&&c<0)throw"Invalid Mayan year";g=20*g+c}return g},monthsInYear:function(y){return this._validate(y,this.minMonth,this.minDay,p.local.invalidYear),18},weekOfYear:function(y,g,m){return this._validate(y,g,m,p.local.invalidDate),0},daysInYear:function(y){return this._validate(y,this.minMonth,this.minDay,p.local.invalidYear),360},daysInMonth:function(y,g){return this._validate(y,g,this.minDay,p.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(y,g,m){return this._validate(y,g,m,p.local.invalidDate).day()},weekDay:function(y,g,m){return this._validate(y,g,m,p.local.invalidDate),!0},extraInfo:function(y,g,m){var C=this._validate(y,g,m,p.local.invalidDate).toJD(),w=this._toHaab(C),S=this._toTzolkin(C);return{haabMonthName:this.local.haabMonths[w[0]-1],haabMonth:w[0],haabDay:w[1],tzolkinDayName:this.local.tzolkinMonths[S[0]-1],tzolkinDay:S[0],tzolkinTrecena:S[1]}},_toHaab:function(y){var g=v(8+(y-=this.jdEpoch)+340,365);return[Math.floor(g/20)+1,v(g,20)]},_toTzolkin:function(y){return[d(20+(y-=this.jdEpoch),20),d(y+4,13)]},toJD:function(y,g,m){var c=this._validate(y,g,m,p.local.invalidDate);return c.day()+20*c.month()+360*c.year()+this.jdEpoch},fromJD:function(y){y=Math.floor(y)+.5-this.jdEpoch;var g=Math.floor(y/360);y%=360,y+=y<0?360:0;var m=Math.floor(y/20);return this.newDate(g,m,y%20)}}),p.calendars.mayan=h},632:function(Ce,j,o){var p=o(8700),T=o(896);function h(d){this.local=this.regionalOptions[d||""]||this.regionalOptions[""]}h.prototype=new p.baseCalendar;var v=p.instance("gregorian");T(h.prototype,{name:"Nanakshahi",jdEpoch:2257673.5,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(d){var y=this._validate(d,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return v.leapYear(y.year()+(y.year()<1?1:0)+1469)},weekOfYear:function(d,y,g){var m=this.newDate(d,y,g);return m.add(1-(m.dayOfWeek()||7),"d"),Math.floor((m.dayOfYear()-1)/7)+1},daysInMonth:function(d,y){var g=this._validate(d,y,this.minDay,p.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(12===g.month()&&this.leapYear(g.year())?1:0)},weekDay:function(d,y,g){return(this.dayOfWeek(d,y,g)||7)<6},toJD:function(c,y,g){var m=this._validate(c,y,g,p.local.invalidMonth);(c=m.year())<0&&c++;for(var C=m.day(),w=1;w<m.month();w++)C+=this.daysPerMonth[w-1];return C+v.toJD(c+1468,3,13)},fromJD:function(d){d=Math.floor(d+.5);for(var y=Math.floor((d-(this.jdEpoch-1))/366);d>=this.toJD(y+1,1,1);)y++;for(var g=d-Math.floor(this.toJD(y,1,1)+.5)+1,m=1;g>this.daysInMonth(y,m);)g-=this.daysInMonth(y,m),m++;return this.newDate(y,m,g)}}),p.calendars.nanakshahi=h},3040:function(Ce,j,o){var p=o(8700);function h(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}o(896)(h.prototype=new p.baseCalendar,{name:"Nepali",jdEpoch:1700709.5,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(v){return this.daysInYear(v)!==this.daysPerYear},weekOfYear:function(v,d,y){var g=this.newDate(v,d,y);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInYear:function(v){if(v=this._validate(v,this.minMonth,this.minDay,p.local.invalidYear).year(),typeof this.NEPALI_CALENDAR_DATA[v]>"u")return this.daysPerYear;for(var y=0,g=this.minMonth;g<=12;g++)y+=this.NEPALI_CALENDAR_DATA[v][g];return y},daysInMonth:function(v,d){return v.year&&(d=v.month(),v=v.year()),this._validate(v,d,this.minDay,p.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[v]>"u"?this.daysPerMonth[d-1]:this.NEPALI_CALENDAR_DATA[v][d]},weekDay:function(v,d,y){return 6!==this.dayOfWeek(v,d,y)},toJD:function(v,d,y){var g=this._validate(v,d,y,p.local.invalidDate);v=g.year(),d=g.month(),y=g.day();var m=p.instance(),c=0,C=d,w=v;this._createMissingCalendarData(v);var S=v-(C>9||9===C&&y>=this.NEPALI_CALENDAR_DATA[w][0]?56:57);for(9!==d&&(c=y,C--);9!==C;)C<=0&&(C=12,w--),c+=this.NEPALI_CALENDAR_DATA[w][C],C--;return 9===d?(c+=y-this.NEPALI_CALENDAR_DATA[w][0])<0&&(c+=m.daysInYear(S)):c+=this.NEPALI_CALENDAR_DATA[w][9]-this.NEPALI_CALENDAR_DATA[w][0],m.newDate(S,1,1).add(c,"d").toJD()},fromJD:function(v){var y=p.instance().fromJD(v),g=y.year(),m=y.dayOfYear(),c=g+56;this._createMissingCalendarData(c);for(var C=9,S=this.NEPALI_CALENDAR_DATA[c][C]-this.NEPALI_CALENDAR_DATA[c][0]+1;m>S;)++C>12&&(C=1,c++),S+=this.NEPALI_CALENDAR_DATA[c][C];return this.newDate(c,C,this.NEPALI_CALENDAR_DATA[c][C]-(S-m))},_createMissingCalendarData:function(v){var d=this.daysPerMonth.slice(0);d.unshift(17);for(var y=v-1;y<v+2;y++)typeof this.NEPALI_CALENDAR_DATA[y]>"u"&&(this.NEPALI_CALENDAR_DATA[y]=d)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),p.calendars.nepali=h},1104:function(Ce,j,o){var p=o(8700);function h(d){this.local=this.regionalOptions[d||""]||this.regionalOptions[""]}function v(d,y){return d-y*Math.floor(d/y)}o(896)(h.prototype=new p.baseCalendar,{name:"Persian",jdEpoch:1948320.5,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xe6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xe6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(d){var y=this._validate(d,this.minMonth,this.minDay,p.local.invalidYear);return 682*((y.year()-(y.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(d,y,g){var m=this.newDate(d,y,g);return m.add(-(m.dayOfWeek()+1)%7,"d"),Math.floor((m.dayOfYear()-1)/7)+1},daysInMonth:function(d,y){var g=this._validate(d,y,this.minDay,p.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(12===g.month()&&this.leapYear(g.year())?1:0)},weekDay:function(d,y,g){return 5!==this.dayOfWeek(d,y,g)},toJD:function(d,y,g){var m=this._validate(d,y,g,p.local.invalidDate);d=m.year(),y=m.month(),g=m.day();var c=d-(d>=0?474:473),C=474+v(c,2820);return g+(y<=7?31*(y-1):30*(y-1)+6)+Math.floor((682*C-110)/2816)+365*(C-1)+1029983*Math.floor(c/2820)+this.jdEpoch-1},fromJD:function(d){var y=(d=Math.floor(d)+.5)-this.toJD(475,1,1),g=Math.floor(y/1029983),m=v(y,1029983),c=2820;if(1029982!==m){var C=Math.floor(m/366),w=v(m,366);c=Math.floor((2134*C+2816*w+2815)/1028522)+C+1}var S=c+2820*g+474,z=d-this.toJD(S=S<=0?S-1:S,1,1)+1,A=z<=186?Math.ceil(z/31):Math.ceil((z-6)/30),D=d-this.toJD(S,A,1)+1;return this.newDate(S,A,D)}}),p.calendars.persian=h,p.calendars.jalali=h},9075:function(Ce,j,o){var p=o(8700),T=o(896),h=p.instance();function v(d){this.local=this.regionalOptions[d||""]||this.regionalOptions[""]}T(v.prototype=new p.baseCalendar,{name:"Taiwan",jdEpoch:2419402.5,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(g){var y=this._validate(g,this.minMonth,this.minDay,p.local.invalidYear);return g=this._t2gYear(y.year()),h.leapYear(g)},weekOfYear:function(c,y,g){var m=this._validate(c,this.minMonth,this.minDay,p.local.invalidYear);return c=this._t2gYear(m.year()),h.weekOfYear(c,m.month(),m.day())},daysInMonth:function(d,y){var g=this._validate(d,y,this.minDay,p.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(2===g.month()&&this.leapYear(g.year())?1:0)},weekDay:function(d,y,g){return(this.dayOfWeek(d,y,g)||7)<6},toJD:function(c,y,g){var m=this._validate(c,y,g,p.local.invalidDate);return c=this._t2gYear(m.year()),h.toJD(c,m.month(),m.day())},fromJD:function(d){var y=h.fromJD(d),g=this._g2tYear(y.year());return this.newDate(g,y.month(),y.day())},_t2gYear:function(d){return d+this.yearsOffset+(d>=-this.yearsOffset&&d<=-1?1:0)},_g2tYear:function(d){return d-this.yearsOffset-(d>=1&&d<=this.yearsOffset?1:0)}}),p.calendars.taiwan=v},4592:function(Ce,j,o){var p=o(8700),T=o(896),h=p.instance();function v(d){this.local=this.regionalOptions[d||""]||this.regionalOptions[""]}T(v.prototype=new p.baseCalendar,{name:"Thai",jdEpoch:1523098.5,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(g){var y=this._validate(g,this.minMonth,this.minDay,p.local.invalidYear);return g=this._t2gYear(y.year()),h.leapYear(g)},weekOfYear:function(c,y,g){var m=this._validate(c,this.minMonth,this.minDay,p.local.invalidYear);return c=this._t2gYear(m.year()),h.weekOfYear(c,m.month(),m.day())},daysInMonth:function(d,y){var g=this._validate(d,y,this.minDay,p.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(2===g.month()&&this.leapYear(g.year())?1:0)},weekDay:function(d,y,g){return(this.dayOfWeek(d,y,g)||7)<6},toJD:function(c,y,g){var m=this._validate(c,y,g,p.local.invalidDate);return c=this._t2gYear(m.year()),h.toJD(c,m.month(),m.day())},fromJD:function(d){var y=h.fromJD(d),g=this._g2tYear(y.year());return this.newDate(g,y.month(),y.day())},_t2gYear:function(d){return d-this.yearsOffset-(d>=1&&d<=this.yearsOffset?1:0)},_g2tYear:function(d){return d+this.yearsOffset+(d>=-this.yearsOffset&&d<=-1?1:0)}}),p.calendars.thai=v},5348:function(Ce,j,o){var p=o(8700);function h(d){this.local=this.regionalOptions[d||""]||this.regionalOptions[""]}o(896)(h.prototype=new p.baseCalendar,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(d){var y=this._validate(d,this.minMonth,this.minDay,p.local.invalidYear);return 355===this.daysInYear(y.year())},weekOfYear:function(d,y,g){var m=this.newDate(d,y,g);return m.add(-m.dayOfWeek(),"d"),Math.floor((m.dayOfYear()-1)/7)+1},daysInYear:function(d){for(var y=0,g=1;g<=12;g++)y+=this.daysInMonth(d,g);return y},daysInMonth:function(d,y){for(var m=this._validate(d,y,this.minDay,p.local.invalidMonth).toJD()-24e5+.5,c=0,C=0;C<v.length;C++){if(v[C]>m)return v[c]-v[c-1];c++}return 30},weekDay:function(d,y,g){return 5!==this.dayOfWeek(d,y,g)},toJD:function(d,y,g){var m=this._validate(d,y,g,p.local.invalidDate),c=12*(m.year()-1)+m.month()-15292;return m.day()+v[c-1]-1+24e5-.5},fromJD:function(d){for(var y=d-24e5+.5,g=0,m=0;m<v.length&&!(v[m]>y);m++)g++;var c=g+15292,C=Math.floor((c-1)/12);return this.newDate(C+1,c-12*C,y-v[g-1]+1)},isValid:function(d,y,g){var m=p.baseCalendar.prototype.isValid.apply(this,arguments);return m&&(m=(d=null!=d.year?d.year:d)>=1276&&d<=1500),m},_validate:function(d,y,g,m){var c=p.baseCalendar.prototype._validate.apply(this,arguments);if(c.year<1276||c.year>1500)throw m.replace(/\{0\}/,this.local.name);return c}}),p.calendars.ummalqura=h;var v=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},8700:function(Ce,j,o){var p=o(896);function T(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function h(m,c,C,w){if(this._calendar=m,this._year=c,this._month=C,this._day=w,0===this._calendar._validateLevel&&!this._calendar.isValid(this._year,this._month,this._day))throw(g.local.invalidDate||g.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function v(m,c){return"000000".substring(0,c-(m=""+m).length)+m}function d(){this.shortYearCutoff="+10"}function y(m){this.local=this.regionalOptions[m]||this.regionalOptions[""]}p(T.prototype,{instance:function(m,c){m=(m||"gregorian").toLowerCase();var C=this._localCals[m+"-"+(c=c||"")];if(!C&&this.calendars[m]&&(C=new this.calendars[m](c),this._localCals[m+"-"+c]=C),!C)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,m);return C},newDate:function(m,c,C,w,S){return(w=(null!=m&&m.year?m.calendar():"string"==typeof w?this.instance(w,S):w)||this.instance()).newDate(m,c,C)},substituteDigits:function(m){return function(c){return(c+"").replace(/[0-9]/g,function(C){return m[C]})}},substituteChineseDigits:function(m,c){return function(C){for(var w="",S=0;C>0;){var z=C%10;w=(0===z?"":m[z]+c[S])+w,S++,C=Math.floor(C/10)}return 0===w.indexOf(m[1]+c[1])&&(w=w.substr(1)),w||m[0]}}}),p(h.prototype,{newDate:function(m,c,C){return this._calendar.newDate(m??this,c,C)},year:function(m){return 0===arguments.length?this._year:this.set(m,"y")},month:function(m){return 0===arguments.length?this._month:this.set(m,"m")},day:function(m){return 0===arguments.length?this._day:this.set(m,"d")},date:function(m,c,C){if(!this._calendar.isValid(m,c,C))throw(g.local.invalidDate||g.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=m,this._month=c,this._day=C,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(m,c){return this._calendar.add(this,m,c)},set:function(m,c){return this._calendar.set(this,m,c)},compareTo:function(m){if(this._calendar.name!==m._calendar.name)throw(g.local.differentCalendars||g.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,m._calendar.local.name);var c=this._year!==m._year?this._year-m._year:this._month!==m._month?this.monthOfYear()-m.monthOfYear():this._day-m._day;return 0===c?0:c<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(m){return this._calendar.fromJD(m)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(m){return this._calendar.fromJSDate(m)},toString:function(){return(this.year()<0?"-":"")+v(Math.abs(this.year()),4)+"-"+v(this.month(),2)+"-"+v(this.day(),2)}}),p(d.prototype,{_validateLevel:0,newDate:function(m,c,C){return null==m?this.today():(m.year&&(this._validate(m,c,C,g.local.invalidDate||g.regionalOptions[""].invalidDate),C=m.day(),c=m.month(),m=m.year()),new h(this,m,c,C))},today:function(){return this.fromJSDate(new Date)},epoch:function(m){return this._validate(m,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(m){var c=this._validate(m,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return(c.year()<0?"-":"")+v(Math.abs(c.year()),4)},monthsInYear:function(m){return this._validate(m,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),12},monthOfYear:function(m,c){var C=this._validate(m,c,this.minDay,g.local.invalidMonth||g.regionalOptions[""].invalidMonth);return(C.month()+this.monthsInYear(C)-this.firstMonth)%this.monthsInYear(C)+this.minMonth},fromMonthOfYear:function(m,c){var C=(c+this.firstMonth-2*this.minMonth)%this.monthsInYear(m)+this.minMonth;return this._validate(m,C,this.minDay,g.local.invalidMonth||g.regionalOptions[""].invalidMonth),C},daysInYear:function(m){var c=this._validate(m,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return this.leapYear(c)?366:365},dayOfYear:function(m,c,C){var w=this._validate(m,c,C,g.local.invalidDate||g.regionalOptions[""].invalidDate);return w.toJD()-this.newDate(w.year(),this.fromMonthOfYear(w.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(m,c,C){var w=this._validate(m,c,C,g.local.invalidDate||g.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(w))+2)%this.daysInWeek()},extraInfo:function(m,c,C){return this._validate(m,c,C,g.local.invalidDate||g.regionalOptions[""].invalidDate),{}},add:function(m,c,C){return this._validate(m,this.minMonth,this.minDay,g.local.invalidDate||g.regionalOptions[""].invalidDate),this._correctAdd(m,this._add(m,c,C),c,C)},_add:function(m,c,C){if(this._validateLevel++,"d"===C||"w"===C){var w=m.toJD()+c*("w"===C?this.daysInWeek():1),S=m.calendar().fromJD(w);return this._validateLevel--,[S.year(),S.month(),S.day()]}try{var z=m.year()+("y"===C?c:0),A=m.monthOfYear()+("m"===C?c:0),D=(S=m.day(),function(M){for(;A<M.minMonth;)z--,A+=M.monthsInYear(z);for(var L=M.monthsInYear(z);A>L-1+M.minMonth;)z++,A-=L,L=M.monthsInYear(z)});"y"===C?(m.month()!==this.fromMonthOfYear(z,A)&&(A=this.newDate(z,m.month(),this.minDay).monthOfYear()),A=Math.min(A,this.monthsInYear(z)),S=Math.min(S,this.daysInMonth(z,this.fromMonthOfYear(z,A)))):"m"===C&&(D(this),S=Math.min(S,this.daysInMonth(z,this.fromMonthOfYear(z,A))));var _=[z,this.fromMonthOfYear(z,A),S];return this._validateLevel--,_}catch(E){throw this._validateLevel--,E}},_correctAdd:function(m,c,C,w){if(!(this.hasYearZero||"y"!==w&&"m"!==w||0!==c[0]&&m.year()>0==c[0]>0)){var S={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[w];c=this._add(m,C*S[0]+(C<0?-1:1)*S[1],S[2])}return m.date(c[0],c[1],c[2])},set:function(m,c,C){this._validate(m,this.minMonth,this.minDay,g.local.invalidDate||g.regionalOptions[""].invalidDate);var w="y"===C?c:m.year(),S="m"===C?c:m.month(),z="d"===C?c:m.day();return("y"===C||"m"===C)&&(z=Math.min(z,this.daysInMonth(w,S))),m.date(w,S,z)},isValid:function(m,c,C){this._validateLevel++;var w=this.hasYearZero||0!==m;if(w){var S=this.newDate(m,c,this.minDay);w=c>=this.minMonth&&c-this.minMonth<this.monthsInYear(S)&&C>=this.minDay&&C-this.minDay<this.daysInMonth(S)}return this._validateLevel--,w},toJSDate:function(m,c,C){var w=this._validate(m,c,C,g.local.invalidDate||g.regionalOptions[""].invalidDate);return g.instance().fromJD(this.toJD(w)).toJSDate()},fromJSDate:function(m){return this.fromJD(g.instance().fromJSDate(m).toJD())},_validate:function(m,c,C,w){if(m.year){if(0===this._validateLevel&&this.name!==m.calendar().name)throw(g.local.differentCalendars||g.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,m.calendar().local.name);return m}try{if(this._validateLevel++,1===this._validateLevel&&!this.isValid(m,c,C))throw w.replace(/\{0\}/,this.local.name);var S=this.newDate(m,c,C);return this._validateLevel--,S}catch(z){throw this._validateLevel--,z}}}),p(y.prototype=new d,{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(C){var c=this._validate(C,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return(C=c.year()+(c.year()<0?1:0))%4==0&&(C%100!=0||C%400==0)},weekOfYear:function(m,c,C){var w=this.newDate(m,c,C);return w.add(4-(w.dayOfWeek()||7),"d"),Math.floor((w.dayOfYear()-1)/7)+1},daysInMonth:function(m,c){var C=this._validate(m,c,this.minDay,g.local.invalidMonth||g.regionalOptions[""].invalidMonth);return this.daysPerMonth[C.month()-1]+(2===C.month()&&this.leapYear(C.year())?1:0)},weekDay:function(m,c,C){return(this.dayOfWeek(m,c,C)||7)<6},toJD:function(m,c,C){var w=this._validate(m,c,C,g.local.invalidDate||g.regionalOptions[""].invalidDate);m=w.year(),c=w.month(),C=w.day(),m<0&&m++,c<3&&(c+=12,m--);var S=Math.floor(m/100),z=2-S+Math.floor(S/4);return Math.floor(365.25*(m+4716))+Math.floor(30.6001*(c+1))+C+z-1524.5},fromJD:function(m){var c=Math.floor(m+.5),C=Math.floor((c-1867216.25)/36524.25),w=1524+(C=c+1+C-Math.floor(C/4)),S=Math.floor((w-122.1)/365.25),z=Math.floor(365.25*S),A=Math.floor((w-z)/30.6001),D=w-z-Math.floor(30.6001*A),_=A-(A>13.5?13:1),E=S-(_>2.5?4716:4715);return E<=0&&E--,this.newDate(E,_,D)},toJSDate:function(m,c,C){var w=this._validate(m,c,C,g.local.invalidDate||g.regionalOptions[""].invalidDate),S=new Date(w.year(),w.month()-1,w.day());return S.setHours(0),S.setMinutes(0),S.setSeconds(0),S.setMilliseconds(0),S.setHours(S.getHours()>12?S.getHours()+2:0),S},fromJSDate:function(m){return this.newDate(m.getFullYear(),m.getMonth()+1,m.getDate())}});var g=Ce.exports=new T;g.cdate=h,g.baseCalendar=d,g.calendars.gregorian=y},5168:function(Ce,j,o){var p=o(896),T=o(8700);p(T.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),T.local=T.regionalOptions[""],p(T.cdate.prototype,{formatDate:function(h,v){return"string"!=typeof h&&(v=h,h=""),this._calendar.formatDate(h||"",this,v)}}),p(T.baseCalendar.prototype,{UNIX_EPOCH:T.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:T.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(h,v,d){if("string"!=typeof h&&(d=v,v=h,h=""),!v)return"";if(v.calendar()!==this)throw T.local.invalidFormat||T.regionalOptions[""].invalidFormat;h=h||this.local.dateFormat;for(var y=(d=d||{}).dayNamesShort||this.local.dayNamesShort,g=d.dayNames||this.local.dayNames,m=d.monthNumbers||this.local.monthNumbers,c=d.monthNamesShort||this.local.monthNamesShort,C=d.monthNames||this.local.monthNames,S=function(G,$){for(var J=1;I+J<h.length&&h.charAt(I+J)===G;)J++;return I+=J-1,Math.floor(J/($||1))>1},z=function(G,$,J,re){var O=""+$;if(S(G,re))for(;O.length<J;)O="0"+O;return O},D=this,_=function(G){return"function"==typeof m?m.call(D,G,S("m")):L(z("m",G.month(),2))},E=function(G,$){return $?"function"==typeof C?C.call(D,G):C[G.month()-D.minMonth]:"function"==typeof c?c.call(D,G):c[G.month()-D.minMonth]},M=this.local.digits,L=function(G){return d.localNumbers&&M?M(G):G},b="",P=!1,I=0;I<h.length;I++)if(P)"'"!==h.charAt(I)||S("'")?b+=h.charAt(I):P=!1;else switch(h.charAt(I)){case"d":b+=L(z("d",v.day(),2));break;case"D":b+=(G="D",$=v.dayOfWeek(),J=y,re=g,S(G)?re[$]:J[$]);break;case"o":b+=z("o",v.dayOfYear(),3);break;case"w":b+=z("w",v.weekOfYear(),2);break;case"m":b+=_(v);break;case"M":b+=E(v,S("M"));break;case"y":b+=S("y",2)?v.year():(v.year()%100<10?"0":"")+v.year()%100;break;case"Y":S("Y",2),b+=v.formatYear();break;case"J":b+=v.toJD();break;case"@":b+=(v.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":b+=(v.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":S("'")?b+="'":P=!0;break;default:b+=h.charAt(I)}var G,$,J,re;return b},parseDate:function(h,v,d){if(null==v)throw T.local.invalidArguments||T.regionalOptions[""].invalidArguments;if(""===(v="object"==typeof v?v.toString():v+""))return null;h=h||this.local.dateFormat;var y=(d=d||{}).shortYearCutoff||this.shortYearCutoff;y="string"!=typeof y?y:this.today().year()%100+parseInt(y,10);for(var g=d.dayNamesShort||this.local.dayNamesShort,m=d.dayNames||this.local.dayNames,c=d.parseMonth||this.local.parseMonth,C=d.monthNumbers||this.local.monthNumbers,w=d.monthNamesShort||this.local.monthNamesShort,S=d.monthNames||this.local.monthNames,z=-1,A=-1,D=-1,_=-1,E=-1,M=!1,L=!1,b=function(le,pe){for(var W=1;Q+W<h.length&&h.charAt(Q+W)===le;)W++;return Q+=W-1,Math.floor(W/(pe||1))>1},P=function(le,pe){var W=b(le,pe),K=[2,3,W?4:2,W?4:2,10,11,20]["oyYJ@!".indexOf(le)+1],X=new RegExp("^-?\\d{1,"+K+"}"),ie=v.substring(O).match(X);if(!ie)throw(T.local.missingNumberAt||T.regionalOptions[""].missingNumberAt).replace(/\{0\}/,O);return O+=ie[0].length,parseInt(ie[0],10)},I=this,G=function(){if("function"==typeof C){b("m");var le=C.call(I,v.substring(O));return O+=le.length,le}return P("m")},$=function(le,pe,W,K){for(var X=b(le,K)?W:pe,ie=0;ie<X.length;ie++)if(v.substr(O,X[ie].length).toLowerCase()===X[ie].toLowerCase())return O+=X[ie].length,ie+I.minMonth;throw(T.local.unknownNameAt||T.regionalOptions[""].unknownNameAt).replace(/\{0\}/,O)},J=function(){if("function"==typeof S){var le=b("M")?S.call(I,v.substring(O)):w.call(I,v.substring(O));return O+=le.length,le}return $("M",w,S)},re=function(){if(v.charAt(O)!==h.charAt(Q))throw(T.local.unexpectedLiteralAt||T.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,O);O++},O=0,Q=0;Q<h.length;Q++)if(L)"'"!==h.charAt(Q)||b("'")?re():L=!1;else switch(h.charAt(Q)){case"d":_=P("d");break;case"D":$("D",g,m);break;case"o":E=P("o");break;case"w":P("w");break;case"m":D=G();break;case"M":D=J();break;case"y":var U=Q;M=!b("y",2),Q=U,A=P("y",2);break;case"Y":A=P("Y",2);break;case"J":z=P("J")+.5,"."===v.charAt(O)&&(O++,P("J"));break;case"@":z=P("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":z=P("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":O=v.length;break;case"'":b("'")?re():L=!0;break;default:re()}if(O<v.length)throw T.local.unexpectedText||T.regionalOptions[""].unexpectedText;if(-1===A?A=this.today().year():A<100&&M&&(A+=-1===y?1900:this.today().year()-this.today().year()%100-(A<=y?0:100)),"string"==typeof D&&(D=c.call(this,A,D)),E>-1){_=E;for(var ne=this.daysInMonth(A,D=1);_>ne;ne=this.daysInMonth(A,D))D++,_-=ne}return z>-1?this.fromJD(z):this.newDate(A,D,_)},determineDate:function(h,v,d,y,g){d&&"object"!=typeof d&&(g=y,y=d,d=null),"string"!=typeof y&&(g=y,y="");var m=this;return v=v?v.newDate():null,null==h?v:"string"==typeof h?function(C){try{return m.parseDate(y,C,g)}catch{}for(var w=((C=C.toLowerCase()).match(/^c/)&&d?d.newDate():null)||m.today(),S=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,z=S.exec(C);z;)w.add(parseInt(z[1],10),z[2]||"d"),z=S.exec(C);return w}(h):"number"==typeof h?isNaN(h)||h===1/0||h===-1/0?v:m.today().add(h,"d"):m.newDate(h)}})}},cs={};function Ks(Ce){var j=cs[Ce];if(void 0!==j)return j.exports;var o=cs[Ce]={exports:{}};return B2[Ce].call(o.exports,o,o.exports,Ks),o.exports}return Ks.d=function(Ce,j){for(var o in j)Ks.o(j,o)&&!Ks.o(Ce,o)&&Object.defineProperty(Ce,o,{enumerable:!0,get:j[o]})},Ks.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),Ks.o=function(Ce,j){return Object.prototype.hasOwnProperty.call(Ce,j)},Ks.r=function(Ce){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Ce,"__esModule",{value:!0})},Ks(3472)}()}},Vo=>{Vo(Vo.s=783)}]);