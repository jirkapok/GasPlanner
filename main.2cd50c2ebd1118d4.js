var iSe=Object.defineProperty,oSe=Object.defineProperties,sSe=Object.getOwnPropertyDescriptors,bR=Object.getOwnPropertySymbols,lSe=Object.prototype.hasOwnProperty,cSe=Object.prototype.propertyIsEnumerable,MR=(x3,m,de)=>m in x3?iSe(x3,m,{enumerable:!0,configurable:!0,writable:!0,value:de}):x3[m]=de,fn=(x3,m)=>{for(var de in m||(m={}))lSe.call(m,de)&&MR(x3,de,m[de]);if(bR)for(var de of bR(m))cSe.call(m,de)&&MR(x3,de,m[de]);return x3},zd=(x3,m)=>oSe(x3,sSe(m));(self.webpackChunkplanner=self.webpackChunkplanner||[]).push([[179],{333:(x3,m,de)=>{"use strict";var te={};function o(n){return"function"==typeof n}function g(n){const e=n(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}de.r(te),de.d(te,{afterMain:()=>uw,afterRead:()=>sw,afterWrite:()=>hw,applyStyles:()=>zg,arrow:()=>Hg,auto:()=>Ku,basePlacements:()=>V5,beforeMain:()=>lw,beforeRead:()=>iw,beforeWrite:()=>fw,bottom:()=>B4,clippingParents:()=>rw,computeStyles:()=>kg,createPopper:()=>dy,createPopperBase:()=>Hq,createPopperLite:()=>Dw,detectOverflow:()=>I5,end:()=>A5,eventListeners:()=>Vg,flip:()=>Dg,hide:()=>BI,left:()=>c4,main:()=>cw,modifierPhases:()=>pw,offset:()=>Ng,placements:()=>yg,popper:()=>k5,popperGenerator:()=>Xu,popperOffsets:()=>Ag,preventOverflow:()=>Tg,read:()=>ow,reference:()=>aw,right:()=>U4,start:()=>O0,top:()=>l4,variationPlacements:()=>vg,viewport:()=>mg,write:()=>dw});const p=g(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,a)=>`${a+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function l(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class c{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const i of e)i.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(o(r))try{r()}catch(i){t=i instanceof p?i.errors:[i]}const{_finalizers:a}=this;if(a){this._finalizers=null;for(const i of a)try{h(i)}catch(s){t=null!=t?t:[],s instanceof p?t=[...t,...s.errors]:t.push(s)}}if(t)throw new p(t)}}add(t){var e;if(t&&t!==this)if(this.closed)h(t);else{if(t instanceof c){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&l(e,t)}remove(t){const{_finalizers:e}=this;e&&l(e,t),t instanceof c&&t._removeParent(this)}}c.EMPTY=(()=>{const n=new c;return n.closed=!0,n})();const C=c.EMPTY;function d(n){return n instanceof c||n&&"closed"in n&&o(n.remove)&&o(n.add)&&o(n.unsubscribe)}function h(n){o(n)?n():n.unsubscribe()}const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},_={setTimeout(n,t,...e){const{delegate:r}=_;return(null==r?void 0:r.setTimeout)?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=_;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function b(n){_.setTimeout(()=>{const{onUnhandledError:t}=u;if(!t)throw n;t(n)})}function M(){}const L=k("C",void 0,void 0);function k(n,t,e){return{kind:n,value:t,error:e}}let D=null;function S(n){if(u.useDeprecatedSynchronousErrorHandling){const t=!D;if(t&&(D={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:r}=D;if(D=null,e)throw r}}else n()}class H extends c{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,d(t)&&t.add(this)):this.destination=W}static create(t,e,r){return new B(t,e,r)}next(t){this.isStopped?Y(function z(n){return k("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Y(function N(n){return k("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Y(L,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const E=Function.prototype.bind;function I(n,t){return E.call(n,t)}class w{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){$(r)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){$(r)}else $(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){$(e)}}}class B extends H{constructor(t,e,r){let a;if(super(),o(t)||!t)a={next:null!=t?t:void 0,error:null!=e?e:void 0,complete:null!=r?r:void 0};else{let i;this&&u.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),a={next:t.next&&I(t.next,i),error:t.error&&I(t.error,i),complete:t.complete&&I(t.complete,i)}):a=t}this.destination=new w(a)}}function $(n){u.useDeprecatedSynchronousErrorHandling?function P(n){u.useDeprecatedSynchronousErrorHandling&&D&&(D.errorThrown=!0,D.error=n)}(n):b(n)}function Y(n,t){const{onStoppedNotification:e}=u;e&&_.setTimeout(()=>e(n,t))}const W={closed:!0,next:M,error:function T(n){throw n},complete:M},q="function"==typeof Symbol&&Symbol.observable||"@@observable";function X(n){return n}let me=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,a){const i=function le(n){return n&&n instanceof H||function K(n){return n&&o(n.next)&&o(n.error)&&o(n.complete)}(n)&&d(n)}(e)?e:new B(e,r,a);return S(()=>{const{operator:s,source:y}=this;i.add(s?s.call(i,y):y?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=ae(r))((a,i)=>{const s=new B({next:y=>{try{e(y)}catch(V){i(V),s.unsubscribe()}},error:i,complete:a});this.subscribe(s)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[q](){return this}pipe(...e){return function ce(n){return 0===n.length?X:1===n.length?n[0]:function(e){return n.reduce((r,a)=>a(r),e)}}(e)(this)}toPromise(e){return new(e=ae(e))((r,a)=>{let i;this.subscribe(s=>i=s,s=>a(s),()=>r(i))})}}return n.create=t=>new n(t),n})();function ae(n){var t;return null!==(t=null!=n?n:u.Promise)&&void 0!==t?t:Promise}const G=g(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let j=(()=>{class n extends me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new oe(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new G}next(e){S(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){S(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){S(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:a,observers:i}=this;return r||a?C:(this.currentObservers=null,i.push(e),new c(()=>{this.currentObservers=null,l(i,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:a,isStopped:i}=this;r?e.error(a):i&&e.complete()}asObservable(){const e=new me;return e.source=this,e}}return n.create=(t,e)=>new oe(t,e),n})();class oe extends j{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)}error(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:C}}function re(n){return o(null==n?void 0:n.lift)}function F(n){return t=>{if(re(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function O(n,t,e,r,a){return new J(n,t,e,r,a)}class J extends H{constructor(t,e,r,a,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=e?function(y){try{e(y)}catch(V){t.error(V)}}:super._next,this._error=a?function(y){try{a(y)}catch(V){t.error(V)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(y){t.error(y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function R(n,t){return F((e,r)=>{let a=0;e.subscribe(O(r,i=>{r.next(n.call(t,i,a++))}))})}function Ve(n){return this instanceof Ve?(this.v=n,this):new Ve(n)}function Ye(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,r=e.apply(n,t||[]),i=[];return a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a;function s(ke){r[ke]&&(a[ke]=function(qe){return new Promise(function(S1,y1){i.push([ke,qe,S1,y1])>1||y(ke,qe)})})}function y(ke,qe){try{!function V(ke){ke.value instanceof Ve?Promise.resolve(ke.value.v).then(ne,pe):we(i[0][2],ke)}(r[ke](qe))}catch(S1){we(i[0][3],S1)}}function ne(ke){y("next",ke)}function pe(ke){y("throw",ke)}function we(ke,qe){ke(qe),i.shift(),i.length&&y(i[0][0],i[0][1])}}function Ie(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function Xe(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(i){e[i]=n[i]&&function(s){return new Promise(function(y,V){!function a(i,s,y,V){Promise.resolve(V).then(function(ne){i({value:ne,done:y})},s)}(y,V,(s=n[i](s)).done,s.value)})}}}const b1=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function _1(n){return o(null==n?void 0:n.then)}function I1(n){return o(n[q])}function M1(n){return Symbol.asyncIterator&&o(null==n?void 0:n[Symbol.asyncIterator])}function Re(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const C1=function Be(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function O1(n){return o(null==n?void 0:n[C1])}function Q1(n){return Ye(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:r,done:a}=yield Ve(e.read());if(a)return yield Ve(void 0);yield yield Ve(r)}}finally{e.releaseLock()}})}function l2(n){return o(null==n?void 0:n.getReader)}function G1(n){if(n instanceof me)return n;if(null!=n){if(I1(n))return function K1(n){return new me(t=>{const e=n[q]();if(o(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(b1(n))return function N1(n){return new me(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(_1(n))return function ge(n){return new me(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,b)})}(n);if(M1(n))return je(n);if(O1(n))return function ye(n){return new me(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(l2(n))return function e1(n){return je(Q1(n))}(n)}throw Re(n)}function je(n){return new me(t=>{(function d1(n,t){var e,r,a,i;return function ze(n,t,e,r){return new(e||(e=Promise))(function(i,s){function y(pe){try{ne(r.next(pe))}catch(we){s(we)}}function V(pe){try{ne(r.throw(pe))}catch(we){s(we)}}function ne(pe){pe.done?i(pe.value):function a(i){return i instanceof e?i:new e(function(s){s(i)})}(pe.value).then(y,V)}ne((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Ie(n);!(r=yield e.next()).done;)if(t.next(r.value),t.closed)return}catch(s){a={error:s}}finally{try{r&&!r.done&&(i=e.return)&&(yield i.call(e))}finally{if(a)throw a.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function i1(n,t,e,r=0,a=!1){const i=t.schedule(function(){e(),a?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(i),!a)return i}function c1(n,t,e=1/0){return o(t)?c1((r,a)=>R((i,s)=>t(r,i,a,s))(G1(n(r,a))),e):("number"==typeof t&&(e=t),F((r,a)=>function l1(n,t,e,r,a,i,s,y){const V=[];let ne=0,pe=0,we=!1;const ke=()=>{we&&!V.length&&!ne&&t.complete()},qe=y1=>ne<r?S1(y1):V.push(y1),S1=y1=>{i&&t.next(y1),ne++;let c2=!1;G1(e(y1,pe++)).subscribe(O(t,h2=>{null==a||a(h2),i?qe(h2):t.next(h2)},()=>{c2=!0},void 0,()=>{if(c2)try{for(ne--;V.length&&ne<r;){const h2=V.shift();s?i1(t,s,()=>S1(h2)):S1(h2)}ke()}catch(h2){t.error(h2)}}))};return n.subscribe(O(t,qe,()=>{we=!0,ke()})),()=>{null==y||y()}}(r,a,n,e)))}function L1(n=1/0){return c1(X,n)}const H1=new me(n=>n.complete());function V1(n){return n&&o(n.schedule)}function q1(n){return n[n.length-1]}function f2(n){return o(q1(n))?n.pop():void 0}function z1(n){return V1(q1(n))?n.pop():void 0}function a2(n,t=0){return F((e,r)=>{e.subscribe(O(r,a=>i1(r,n,()=>r.next(a),t),()=>i1(r,n,()=>r.complete(),t),a=>i1(r,n,()=>r.error(a),t)))})}function J1(n,t=0){return F((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function y2(n,t){if(!n)throw new Error("Iterable cannot be null");return new me(e=>{i1(e,t,()=>{const r=n[Symbol.asyncIterator]();i1(e,t,()=>{r.next().then(a=>{a.done?e.complete():e.next(a.value)})},0,!0)})})}function O2(n,t){return t?function F2(n,t){if(null!=n){if(I1(n))return function U1(n,t){return G1(n).pipe(J1(t),a2(t))}(n,t);if(b1(n))return function R1(n,t){return new me(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}(n,t);if(_1(n))return function e2(n,t){return G1(n).pipe(J1(t),a2(t))}(n,t);if(M1(n))return y2(n,t);if(O1(n))return function L2(n,t){return new me(e=>{let r;return i1(e,t,()=>{r=n[C1](),i1(e,t,()=>{let a,i;try{({value:a,done:i}=r.next())}catch(s){return void e.error(s)}i?e.complete():e.next(a)},0,!0)}),()=>o(null==r?void 0:r.return)&&r.return()})}(n,t);if(l2(n))return function w2(n,t){return y2(Q1(n),t)}(n,t)}throw Re(n)}(n,t):G1(n)}function S2(...n){const t=z1(n),e=function w1(n,t){return"number"==typeof q1(n)?n.pop():t}(n,1/0),r=n;return r.length?1===r.length?G1(r[0]):L1(e)(O2(r,t)):H1}function j1(n){return n<=0?()=>H1:F((t,e)=>{let r=0;t.subscribe(O(e,a=>{++r<=n&&(e.next(a),n<=r&&e.complete())}))})}function t2(n,t,...e){return!0===t?(n(),null):!1===t?null:t(...e).pipe(j1(1)).subscribe(()=>n())}function d2(n){for(let t in n)if(n[t]===d2)return t;throw Error("Could not find renamed property on target object.")}function s2(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function C2(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(C2).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function G2(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const Q2=d2({__forward_ref__:d2});function A2(n){return n.__forward_ref__=A2,n.toString=function(){return C2(this())},n}function z2(n){return dt(n)?n():n}function dt(n){return"function"==typeof n&&n.hasOwnProperty(Q2)&&n.__forward_ref__===A2}class B2 extends Error{constructor(t,e){super(function Y2(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function P2(n){return"string"==typeof n?n:null==n?"":String(n)}function mt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():P2(n)}function E2(n,t){const e=t?` in ${t}`:"";throw new B2(-201,`No provider for ${mt(n)} found${e}`)}function Nt(n,t){null==n&&function Kt(n,t,e,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${e} ${r} ${t} <=Actual]`))}(t,n,null,"!=")}function ot(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function wt(n){return{providers:n.providers||[],imports:n.imports||[]}}function U3(n){return Pt(n,Vo)||Pt(n,Ii)}function Pt(n,t){return n.hasOwnProperty(t)?n[t]:null}function ii(n){return n&&(n.hasOwnProperty(oi)||n.hasOwnProperty(Is))?n[oi]:null}const Vo=d2({\u0275prov:d2}),oi=d2({\u0275inj:d2}),Ii=d2({ngInjectableDef:d2}),Is=d2({ngInjectorDef:d2});var St=(()=>((St=St||{})[St.Default=0]="Default",St[St.Host=1]="Host",St[St.Self=2]="Self",St[St.SkipSelf=4]="SkipSelf",St[St.Optional=8]="Optional",St))();let _a;function d4(n){const t=_a;return _a=n,t}function $4(n,t,e){const r=U3(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&St.Optional?null:void 0!==t?t:void E2(C2(n),"Injector")}function vr(n){return{toString:n}.toString()}var e3=(()=>((e3=e3||{})[e3.OnPush=0]="OnPush",e3[e3.Default=1]="Default",e3))(),jr=(()=>{return(n=jr||(jr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",jr;var n})();const Ao="undefined"!=typeof globalThis&&globalThis,Ps="undefined"!=typeof window&&window,h4="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,wn=Ao||"undefined"!=typeof global&&global||Ps||h4,p4={},dn=[],ba=d2({\u0275cmp:d2}),Ri=d2({\u0275dir:d2}),Pn=d2({\u0275pipe:d2}),C4=d2({\u0275mod:d2}),zr=d2({\u0275fac:d2}),Fi=d2({__NG_ELEMENT_ID__:d2});let Rs=0;function Hn(n){return vr(()=>{const e={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===e3.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||dn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||jr.Emulated,id:"c",styles:n.styles||dn,_:null,setInput:null,schemas:n.schemas||null,tView:null},a=n.directives,i=n.features,s=n.pipes;return r.id+=Rs++,r.inputs=ko(n.inputs,e),r.outputs=ko(n.outputs),i&&i.forEach(y=>y(r)),r.directiveDefs=a?()=>("function"==typeof a?a():a).map(p6):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(Fs):null,r})}function p6(n){return Yn(n)||function g4(n){return n[Ri]||null}(n)}function Fs(n){return function Ma(n){return n[Pn]||null}(n)}const Bi={};function en(n){return vr(()=>{const t={type:n.type,bootstrap:n.bootstrap||dn,declarations:n.declarations||dn,imports:n.imports||dn,exports:n.exports||dn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Bi[n.id]=n.type),t})}function ko(n,t){if(null==n)return p4;const e={};for(const r in n)if(n.hasOwnProperty(r)){let a=n[r],i=a;Array.isArray(a)&&(i=a[1],a=a[0]),e[a]=r,t&&(t[a]=i)}return e}const U2=Hn;function E3(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Yn(n){return n[ba]||null}function fr(n,t){const e=n[C4]||null;if(!e&&!0===t)throw new Error(`Type ${C2(n)} does not have '\u0275mod' property.`);return e}function m4(n){return Array.isArray(n)&&"object"==typeof n[1]}function G3(n){return Array.isArray(n)&&!0===n[1]}function $1(n){return 0!=(8&n.flags)}function p2(n){return 2==(2&n.flags)}function u2(n){return 1==(1&n.flags)}function K2(n){return null!==n.template}function Ot(n){return 0!=(512&n[2])}function v4(n,t){return n.hasOwnProperty(zr)?n[zr]:null}class v6{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function Zn(){return ji}function ji(n){return n.type.prototype.ngOnChanges&&(n.setInput=$i),Gi}function Gi(){const n=hi(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===p4)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function $i(n,t,e,r){const a=hi(n)||function y6(n,t){return n[Z4]=t}(n,{previous:p4,current:null}),i=a.current||(a.current={}),s=a.previous,y=this.declaredInputs[e],V=s[y];i[y]=new v6(V&&V.currentValue,t,s===p4),n[r]=t}Zn.ngInherit=!0;const Z4="__ngSimpleChanges__";function hi(n){return n[Z4]||null}let qi;function u3(){return void 0!==qi?qi:"undefined"!=typeof document?document:void 0}function Jn(n){return!!n.listen}const dr={createRenderer:(n,t)=>u3()};function Xn(n){for(;Array.isArray(n);)n=n[0];return n}function Wr(n,t){return Xn(t[n])}function O3(n,t){return Xn(t[n.index])}function Va(n,t){return n.data[t]}function Or(n,t){return n[t]}function Mr(n,t){const e=t[n];return m4(e)?e:e[0]}function $s(n){return 4==(4&n[2])}function Ws(n){return 128==(128&n[2])}function J4(n,t){return null==t?null:n[t]}function Ci(n){n[18]=0}function X4(n,t){n[5]+=t;let e=n,r=n[3];for(;null!==r&&(1===t&&1===e[5]||-1===t&&0===e[5]);)r[5]+=t,e=r,r=r[3]}const Dt={lFrame:u1(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Rt(){return Dt.bindingsEnabled}function T2(){return Dt.lFrame.lView}function $t(){return Dt.lFrame.tView}function $2(n){return Dt.lFrame.contextLView=n,n[8]}function d3(){let n=Ki();for(;null!==n&&64===n.type;)n=n.parent;return n}function Ki(){return Dt.lFrame.currentTNode}function y4(n,t){const e=Dt.lFrame;e.currentTNode=n,e.isParent=t}function qr(){return Dt.lFrame.isParent}function qs(){Dt.lFrame.isParent=!1}function Fo(){return Dt.isInCheckNoChangesMode}function Bo(n){Dt.isInCheckNoChangesMode=n}function v(){const n=Dt.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function A(){return Dt.lFrame.bindingIndex}function Q(){return Dt.lFrame.bindingIndex++}function se(n){const t=Dt.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function Te(n,t){const e=Dt.lFrame;e.bindingIndex=e.bindingRootIndex=n,He(t)}function He(n){Dt.lFrame.currentDirectiveIndex=n}function a1(){return Dt.lFrame.currentQueryIndex}function s1(n){Dt.lFrame.currentQueryIndex=n}function v1(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function k1(n,t,e){if(e&St.SkipSelf){let a=t,i=n;for(;!(a=a.parent,null!==a||e&St.Host||(a=v1(i),null===a||(i=i[15],10&a.type))););if(null===a)return!1;t=a,n=i}const r=Dt.lFrame=x1();return r.currentTNode=t,r.lView=n,!0}function p1(n){const t=x1(),e=n[1];Dt.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function x1(){const n=Dt.lFrame,t=null===n?null:n.child;return null===t?u1(n):t}function u1(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function F1(){const n=Dt.lFrame;return Dt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const D1=F1;function h1(){const n=F1();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function v2(){return Dt.lFrame.selectedIndex}function D2(n){Dt.lFrame.selectedIndex=n}function H2(){const n=Dt.lFrame;return Va(n.tView,n.selectedIndex)}function b2(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){const i=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:y,ngAfterViewInit:V,ngAfterViewChecked:ne,ngOnDestroy:pe}=i;s&&(n.contentHooks||(n.contentHooks=[])).push(-e,s),y&&((n.contentHooks||(n.contentHooks=[])).push(e,y),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,y)),V&&(n.viewHooks||(n.viewHooks=[])).push(-e,V),ne&&((n.viewHooks||(n.viewHooks=[])).push(e,ne),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,ne)),null!=pe&&(n.destroyHooks||(n.destroyHooks=[])).push(e,pe)}}function q2(n,t,e){Zt(n,t,3,e)}function Mt(n,t,e,r){(3&n[2])===e&&Zt(n,t,e,r)}function bt(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function Zt(n,t,e,r){const i=null!=r?r:-1,s=t.length-1;let y=0;for(let V=void 0!==r?65535&n[18]:0;V<s;V++)if("number"==typeof t[V+1]){if(y=t[V],null!=r&&y>=r)break}else t[V]<0&&(n[18]+=65536),(y<i||-1==i)&&(ln(n,e,t,V),n[18]=(4294901760&n[18])+V+2),V++}function ln(n,t,e,r){const a=e[r]<0,i=e[r+1],y=n[a?-e[r]:e[r]];if(a){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{i.call(y)}finally{}}}else try{i.call(y)}finally{}}class Jt{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function n3(n,t,e){const r=Jn(n);let a=0;for(;a<e.length;){const i=e[a];if("number"==typeof i){if(0!==i)break;a++;const s=e[a++],y=e[a++],V=e[a++];r?n.setAttribute(t,y,V,s):t.setAttributeNS(s,y,V)}else{const s=i,y=e[++a];Yr(s)?r&&n.setProperty(t,s,y):r?n.setAttribute(t,s,y):t.setAttribute(s,y),a++}}return a}function hr(n){return 3===n||4===n||6===n}function Yr(n){return 64===n.charCodeAt(0)}function Kr(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){const a=t[r];"number"==typeof a?e=a:0===e||z4(n,e,a,null,-1===e||2===e?t[++r]:null)}}return n}function z4(n,t,e,r,a){let i=0,s=n.length;if(-1===t)s=-1;else for(;i<n.length;){const y=n[i++];if("number"==typeof y){if(y===t){s=-1;break}if(y>t){s=i-1;break}}}for(;i<n.length;){const y=n[i];if("number"==typeof y)break;if(y===e){if(null===r)return void(null!==a&&(n[i+1]=a));if(r===n[i+1])return void(n[i+2]=a)}i++,null!==r&&i++,null!==a&&i++}-1!==s&&(n.splice(s,0,t),i=s+1),n.splice(i++,0,e),null!==r&&n.splice(i++,0,r),null!==a&&n.splice(i++,0,a)}function Q4(n){return-1!==n}function I3(n){return 32767&n}function ka(n,t){let e=function Zi(n){return n>>16}(n),r=t;for(;e>0;)r=r[15],e--;return r}let v8=!0;function mi(n){const t=v8;return v8=n,t}let v7=0;function Ks(n,t){const e=L6(n,t);if(-1!==e)return e;const r=t[1];r.firstCreatePass&&(n.injectorIndex=t.length,y8(r.data,n),y8(t,null),y8(r.blueprint,null));const a=Uo(n,t),i=n.injectorIndex;if(Q4(a)){const s=I3(a),y=ka(a,t),V=y[1].data;for(let ne=0;ne<8;ne++)t[i+ne]=y[s+ne]|V[s+ne]}return t[i+8]=a,i}function y8(n,t){n.push(0,0,0,0,0,0,0,0,t)}function L6(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Uo(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,r=null,a=t;for(;null!==a;){const i=a[1],s=i.type;if(r=2===s?i.declTNode:1===s?a[6]:null,null===r)return-1;if(e++,a=a[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function w6(n,t,e){!function Nd(n,t,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(Fi)&&(r=e[Fi]),null==r&&(r=e[Fi]=v7++);const a=255&r;t.data[n+(a>>5)]|=1<<a}(n,t,e)}function b8(n,t,e){if(e&St.Optional)return n;E2(t,"NodeInjector")}function M8(n,t,e,r){if(e&St.Optional&&void 0===r&&(r=null),0==(e&(St.Self|St.Host))){const a=n[9],i=d4(void 0);try{return a?a.get(t,r,e&St.Optional):$4(t,r,e&St.Optional)}finally{d4(i)}}return b8(r,t,e)}function x8(n,t,e,r=St.Default,a){if(null!==n){const i=function _7(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Fi)?n[Fi]:void 0;return"number"==typeof t?t>=0?255&t:Ed:t}(e);if("function"==typeof i){if(!k1(t,n,r))return r&St.Host?b8(a,e,r):M8(t,e,r,a);try{const s=i(r);if(null!=s||r&St.Optional)return s;E2(e)}finally{D1()}}else if("number"==typeof i){let s=null,y=L6(n,t),V=-1,ne=r&St.Host?t[16][6]:null;for((-1===y||r&St.SkipSelf)&&(V=-1===y?Uo(n,t):t[y+8],-1!==V&&D6(r,!1)?(s=t[1],y=I3(V),t=ka(V,t)):y=-1);-1!==y;){const pe=t[1];if(b7(i,y,pe.data)){const we=y7(y,t,e,s,r,ne);if(we!==Zs)return we}V=t[y+8],-1!==V&&D6(r,t[1].data[y+8]===ne)&&b7(i,y,t)?(s=pe,y=I3(V),t=ka(V,t)):y=-1}}}return M8(t,e,r,a)}const Zs={};function Ed(){return new Ji(d3(),T2())}function y7(n,t,e,r,a,i){const s=t[1],y=s.data[n+8],pe=Js(y,s,e,null==r?p2(y)&&v8:r!=s&&0!=(3&y.type),a&St.Host&&i===y);return null!==pe?Xs(t,s,pe,y):Zs}function Js(n,t,e,r,a){const i=n.providerIndexes,s=t.data,y=1048575&i,V=n.directiveStart,pe=i>>20,ke=a?y+pe:n.directiveEnd;for(let qe=r?y:y+pe;qe<ke;qe++){const S1=s[qe];if(qe<V&&e===S1||qe>=V&&S1.type===e)return qe}if(a){const qe=s[V];if(qe&&K2(qe)&&qe.type===e)return V}return null}function Xs(n,t,e,r){let a=n[e];const i=t.data;if(function L3(n){return n instanceof Jt}(a)){const s=a;s.resolving&&function N2(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new B2(-200,`Circular dependency in DI detected for ${n}${e}`)}(mt(i[e]));const y=mi(s.canSeeViewProviders);s.resolving=!0;const V=s.injectImpl?d4(s.injectImpl):null;k1(n,r,St.Default);try{a=n[e]=s.factory(void 0,i,n,r),t.firstCreatePass&&e>=r.directiveStart&&function Gn(n,t,e){const{ngOnChanges:r,ngOnInit:a,ngDoCheck:i}=t.type.prototype;if(r){const s=ji(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s)}a&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,a),i&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,i),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,i))}(e,i[e],t)}finally{null!==V&&d4(V),mi(y),s.resolving=!1,D1()}}return a}function b7(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function D6(n,t){return!(n&St.Self||n&St.Host&&t)}class Ji{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return x8(this._tNode,this._lView,t,r,e)}}function q3(n){return vr(()=>{const t=n.prototype.constructor,e=t[zr]||L8(t),r=Object.prototype;let a=Object.getPrototypeOf(n.prototype).constructor;for(;a&&a!==r;){const i=a[zr]||L8(a);if(i&&i!==e)return i;a=Object.getPrototypeOf(a)}return i=>new i})}function L8(n){return dt(n)?()=>{const t=L8(z2(n));return t&&t()}:v4(n)}const jo="__parameters__";function Wo(n,t,e){return vr(()=>{const r=function S6(n){return function(...e){if(n){const r=n(...e);for(const a in r)this[a]=r[a]}}}(t);function a(...i){if(this instanceof a)return r.apply(this,i),this;const s=new a(...i);return y.annotation=s,y;function y(V,ne,pe){const we=V.hasOwnProperty(jo)?V[jo]:Object.defineProperty(V,jo,{value:[]})[jo];for(;we.length<=pe;)we.push(null);return(we[pe]=we[pe]||[]).push(s),V}}return e&&(a.prototype=Object.create(e.prototype)),a.prototype.ngMetadataName=n,a.annotationCls=a,a})}class tn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ot({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const T6=new tn("AnalyzeForEntryComponents");function P3(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let r=n[e];Array.isArray(r)?(t===n&&(t=n.slice(0,e)),P3(r,t)):t!==n&&t.push(r)}return t}function ea(n,t){n.forEach(e=>Array.isArray(e)?ea(e,t):t(e))}function Na(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function e0(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Ko(n,t){const e=[];for(let r=0;r<n;r++)e.push(t);return e}function Zr(n,t,e){let r=Qi(n,t);return r>=0?n[1|r]=e:(r=~r,function Rd(n,t,e,r){let a=n.length;if(a==t)n.push(e,r);else if(1===a)n.push(r,n[0]),n[0]=e;else{for(a--,n.push(n[a-1],n[a]);a>t;)n[a]=n[a-2],a--;n[t]=e,n[t+1]=r}}(n,r,t,e)),r}function V6(n,t){const e=Qi(n,t);if(e>=0)return n[1|e]}function Qi(n,t){return function N4(n,t,e){let r=0,a=n.length>>e;for(;a!==r;){const i=r+(a-r>>1),s=n[i<<e];if(t===s)return i<<e;s>t?a=i:r=i+1}return~(a<<e)}(n,t,1)}const Ea={},V8="__NG_DI_FLAG__",r0="ngTempTokenPath",k6=/\n/gm,a0="__source",A8=d2({provide:String,useValue:d2});let vi;function T7(n){const t=vi;return vi=n,t}function H7(n,t=St.Default){if(void 0===vi)throw new B2(203,"");return null===vi?$4(n,void 0,t):vi.get(n,t&St.Optional?null:void 0,t)}function J2(n,t=St.Default){return(function o3(){return _a}()||H7)(z2(n),t)}const z8=J2;function N8(n){const t=[];for(let e=0;e<n.length;e++){const r=z2(n[e]);if(Array.isArray(r)){if(0===r.length)throw new B2(900,"");let a,i=St.Default;for(let s=0;s<r.length;s++){const y=r[s],V=Oa(y);"number"==typeof V?-1===V?a=y.token:i|=V:a=y}t.push(J2(a,i))}else t.push(J2(r))}return t}function Jo(n,t){return n[V8]=t,n.prototype[V8]=t,n}function Oa(n){return n[V8]}const z6=Jo(Wo("Inject",n=>({token:n})),-1),Ia=Jo(Wo("Optional"),8),o0=Jo(Wo("SkipSelf"),4);let O6,Y3;function es(n){var t;return(null===(t=function I6(){if(void 0===O6&&(O6=null,wn.trustedTypes))try{O6=wn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return O6}())||void 0===t?void 0:t.createHTML(n))||n}function E7(n){var t;return(null===(t=function c0(){if(void 0===Y3&&(Y3=null,wn.trustedTypes))try{Y3=wn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Y3}())||void 0===t?void 0:t.createHTML(n))||n}class no{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class u0 extends no{getTypeName(){return"HTML"}}class I7 extends no{getTypeName(){return"Style"}}class P7 extends no{getTypeName(){return"Script"}}class qd extends no{getTypeName(){return"URL"}}class Yd extends no{getTypeName(){return"ResourceURL"}}function Xr(n){return n instanceof no?n.changingThisBreaksApplicationSecurity:n}function ta(n,t){const e=E8(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function E8(n){return n instanceof no&&n.getTypeName()||null}class B7{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(es(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class U7{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const r=this.inertDocument.createElement("body");e.appendChild(r)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=es(t),e;const r=this.inertDocument.createElement("body");return r.innerHTML=es(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const e=t.attributes;for(let a=e.length-1;0<a;a--){const s=e.item(a).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&t.removeAttribute(s)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const j7=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ro=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function d0(n){return(n=String(n)).match(j7)||n.match(ro)?n:"unsafe:"+n}function na(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function h0(...n){const t={};for(const e of n)for(const r in e)e.hasOwnProperty(r)&&(t[r]=!0);return t}const G7=na("area,br,col,hr,img,wbr"),$7=na("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),W7=na("rp,rt"),P8=h0(G7,h0($7,na("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),h0(W7,na("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),h0(W7,$7)),R8=na("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),F8=na("srcset"),B8=h0(R8,F8,na("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),na("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Xd=na("script,style,template");class Qd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let a=this.checkClobberedElement(e,e.nextSibling);if(a){e=a;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!P8.hasOwnProperty(e))return this.sanitizedSomething=!0,!Xd.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=t.attributes;for(let a=0;a<r.length;a++){const i=r.item(a),s=i.name,y=s.toLowerCase();if(!B8.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let V=i.value;R8[y]&&(V=d0(V)),F8[y]&&(n=V,V=(n=String(n)).split(",").map(t=>d0(t.trim())).join(", ")),this.buf.push(" ",s,'="',Y7(V),'"')}var n;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();P8.hasOwnProperty(e)&&!G7.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Y7(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const eh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,q7=/([^\#-~ |!])/g;function Y7(n){return n.replace(/&/g,"&amp;").replace(eh,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(q7,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let B6;function K7(n,t){let e=null;try{B6=B6||function R6(n){const t=new U7(n);return function F6(){try{return!!(new window.DOMParser).parseFromString(es(""),"text/html")}catch(n){return!1}}()?new B7(t):t}(n);let r=t?String(t):"";e=B6.getInertBodyElement(r);let a=5,i=r;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,r=i,i=e.innerHTML,e=B6.getInertBodyElement(r)}while(r!==i);return es((new Qd).sanitizeChildren(U8(e)||e))}finally{if(e){const r=U8(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function U8(n){return"content"in n&&function th(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var $n=(()=>(($n=$n||{})[$n.NONE=0]="NONE",$n[$n.HTML=1]="HTML",$n[$n.STYLE=2]="STYLE",$n[$n.SCRIPT=3]="SCRIPT",$n[$n.URL=4]="URL",$n[$n.RESOURCE_URL=5]="RESOURCE_URL",$n))();function Qr(n){const t=p0();return t?E7(t.sanitize($n.HTML,n)||""):ta(n,"HTML")?E7(Xr(n)):K7(u3(),P2(n))}function ts(n){const t=p0();return t?t.sanitize($n.URL,n)||"":ta(n,"URL")?Xr(n):d0(P2(n))}function p0(){const n=T2();return n&&n[12]}const e9="__ngContext__";function pr(n,t){n[e9]=t}function G8(n){const t=function C0(n){return n[e9]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function U6(n){return n.ngOriginalError}function Ch(n,...t){n.error(...t)}class g0{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),r=function ph(n){return n&&n.ngErrorLogger||Ch}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&U6(t);for(;e&&U6(e);)e=U6(e);return e||null}}const Lh=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(wn))();function a9(n){return n.ownerDocument.defaultView}function ra(n){return n instanceof Function?n():n}var e4=(()=>((e4=e4||{})[e4.Important=1]="Important",e4[e4.DashCase=2]="DashCase",e4))();function K8(n,t){return undefined(n,t)}function rs(n){const t=n[3];return G3(t)?t[3]:t}function J8(n){return m0(n[13])}function X8(n){return m0(n[4])}function m0(n){for(;null!==n&&!G3(n);)n=n[4];return n}function as(n,t,e,r,a){if(null!=r){let i,s=!1;G3(r)?i=r:m4(r)&&(s=!0,r=r[0]);const y=Xn(r);0===n&&null!==e?null==a?d9(t,e,y):ao(t,e,y,a||null,!0):1===n&&null!==e?ao(t,e,y,a||null,!0):2===n?function m9(n,t,e){const r=io(n,t);r&&function W6(n,t,e,r){Jn(n)?n.removeChild(t,e,r):t.removeChild(e)}(n,r,t,e)}(t,y,s):3===n&&t.destroyNode(y),null!=i&&function Oh(n,t,e,r,a){const i=e[7];i!==Xn(e)&&as(t,n,r,i,a);for(let y=10;y<e.length;y++){const V=e[y];y0(V[1],V,n,t,r,i)}}(t,n,i,e,a)}}function el(n,t,e){if(Jn(n))return n.createElement(t,e);{const r=null!==e?function _6(n){const t=n.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(e):null;return null===r?n.createElement(t):n.createElementNS(r,t)}}function c9(n,t){const e=n[9],r=e.indexOf(t),a=t[3];1024&t[2]&&(t[2]&=-1025,X4(a,-1)),e.splice(r,1)}function $6(n,t){if(n.length<=10)return;const e=10+t,r=n[e];if(r){const a=r[17];null!==a&&a!==n&&c9(a,r),t>0&&(n[e-1][4]=r[4]);const i=e0(n,10+t);!function Hh(n,t){y0(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const s=i[19];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function tl(n,t){if(!(256&t[2])){const e=t[11];Jn(e)&&e.destroyNode&&y0(n,t,e,3,null,null),function kh(n){let t=n[13];if(!t)return v0(n[1],n);for(;t;){let e=null;if(m4(t))e=t[13];else{const r=t[10];r&&(e=r)}if(!e){for(;t&&!t[4]&&t!==n;)m4(t)&&v0(t[1],t),t=t[3];null===t&&(t=n),m4(t)&&v0(t[1],t),e=t&&t[4]}t=e}}(t)}}function v0(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function f9(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let r=0;r<e.length;r+=2){const a=t[e[r]];if(!(a instanceof Jt)){const i=e[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const y=a[i[s]],V=i[s+1];try{V.call(y)}finally{}}else try{i.call(a)}finally{}}}}(n,t),function u9(n,t){const e=n.cleanup,r=t[7];let a=-1;if(null!==e)for(let i=0;i<e.length-1;i+=2)if("string"==typeof e[i]){const s=e[i+1],y="function"==typeof s?s(t):Xn(t[s]),V=r[a=e[i+2]],ne=e[i+3];"boolean"==typeof ne?y.removeEventListener(e[i],V,ne):ne>=0?r[a=ne]():r[a=-ne].unsubscribe(),i+=2}else{const s=r[a=e[i+1]];e[i].call(s)}if(null!==r){for(let i=a+1;i<r.length;i++)r[i]();t[7]=null}}(n,t),1===t[1].type&&Jn(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&G3(t[3])){e!==t[3]&&c9(e,t);const r=t[19];null!==r&&r.detachView(n)}}}function nl(n,t,e){return function rl(n,t,e){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return e[0];if(2&r.flags){const a=n.data[r.directiveStart].encapsulation;if(a===jr.None||a===jr.Emulated)return null}return O3(r,e)}(n,t.parent,e)}function ao(n,t,e,r,a){Jn(n)?n.insertBefore(t,e,r,a):t.insertBefore(e,r,a)}function d9(n,t,e){Jn(n)?n.appendChild(t,e):t.appendChild(e)}function h9(n,t,e,r,a){null!==r?ao(n,t,e,r,a):d9(n,t,e)}function io(n,t){return Jn(n)?n.parentNode(t):t.parentNode}function p9(n,t,e){return al(n,t,e)}let al=function q6(n,t,e){return 40&n.type?O3(n,e):null};function Y6(n,t,e,r){const a=nl(n,r,t),i=t[11],y=p9(r.parent||t[6],r,t);if(null!=a)if(Array.isArray(e))for(let V=0;V<e.length;V++)h9(i,a,e[V],y,!1);else h9(i,a,e,y,!1)}function K6(n,t){if(null!==t){const e=t.type;if(3&e)return O3(t,n);if(4&e)return ol(-1,n[t.index]);if(8&e){const r=t.child;if(null!==r)return K6(n,r);{const a=n[t.index];return G3(a)?ol(-1,a):Xn(a)}}if(32&e)return K8(t,n)()||Xn(n[t.index]);{const r=g9(n,t);return null!==r?Array.isArray(r)?r[0]:K6(rs(n[16]),r):K6(n,t.next)}}return null}function g9(n,t){return null!==t?n[16][6].projection[t.projection]:null}function ol(n,t){const e=10+n+1;if(e<t.length){const r=t[e],a=r[1].firstChild;if(null!==a)return K6(r,a)}return t[7]}function sl(n,t,e,r,a,i,s){for(;null!=e;){const y=r[e.index],V=e.type;if(s&&0===t&&(y&&pr(Xn(y),r),e.flags|=4),64!=(64&e.flags))if(8&V)sl(n,t,e.child,r,a,i,!1),as(t,n,a,y,i);else if(32&V){const ne=K8(e,r);let pe;for(;pe=ne();)as(t,n,a,pe,i);as(t,n,a,y,i)}else 16&V?v9(n,t,r,e,a,i):as(t,n,a,y,i);e=s?e.projectionNext:e.next}}function y0(n,t,e,r,a,i){sl(e,r,n.firstChild,t,a,i,!1)}function v9(n,t,e,r,a,i){const s=e[16],V=s[6].projection[r.projection];if(Array.isArray(V))for(let ne=0;ne<V.length;ne++)as(t,n,a,V[ne],i);else sl(n,t,V,s[3],a,i,!0)}function y9(n,t,e){Jn(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function ll(n,t,e){Jn(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function _i(n,t,e){let r=n.length;for(;;){const a=n.indexOf(t,e);if(-1===a)return a;if(0===a||n.charCodeAt(a-1)<=32){const i=t.length;if(a+i===r||n.charCodeAt(a+i)<=32)return a}e=a+1}}const _9="ng-template";function Ir(n,t,e){let r=0;for(;r<n.length;){let a=n[r++];if(e&&"class"===a){if(a=n[r],-1!==_i(a.toLowerCase(),t,0))return!0}else if(1===a){for(;r<n.length&&"string"==typeof(a=n[r++]);)if(a.toLowerCase()===t)return!0;return!1}}return!1}function v3(n){return 4===n.type&&n.value!==_9}function Ih(n,t,e){return t===(4!==n.type||e?n.value:_9)}function bi(n,t,e){let r=4;const a=n.attrs||[],i=function Fh(n){for(let t=0;t<n.length;t++)if(hr(n[t]))return t;return n.length}(a);let s=!1;for(let y=0;y<t.length;y++){const V=t[y];if("number"!=typeof V){if(!s)if(4&r){if(r=2|1&r,""!==V&&!Ih(n,V,e)||""===V&&1===t.length){if(O4(r))return!1;s=!0}}else{const ne=8&r?V:t[++y];if(8&r&&null!==n.attrs){if(!Ir(n.attrs,ne,e)){if(O4(r))return!1;s=!0}continue}const we=Ph(8&r?"class":V,a,v3(n),e);if(-1===we){if(O4(r))return!1;s=!0;continue}if(""!==ne){let ke;ke=we>i?"":a[we+1].toLowerCase();const qe=8&r?ke:null;if(qe&&-1!==_i(qe,ne,0)||2&r&&ne!==ke){if(O4(r))return!1;s=!0}}}}else{if(!s&&!O4(r)&&!O4(V))return!1;if(s&&O4(V))continue;s=!1,r=V|1&r}}return O4(r)||s}function O4(n){return 0==(1&n)}function Ph(n,t,e,r){if(null===t)return-1;let a=0;if(r||!e){let i=!1;for(;a<t.length;){const s=t[a];if(s===n)return a;if(3===s||6===s)i=!0;else{if(1===s||2===s){let y=t[++a];for(;"string"==typeof y;)y=t[++a];continue}if(4===s)break;if(0===s){a+=4;continue}}a+=i?1:2}return-1}return function cl(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const r=n[e];if("number"==typeof r)return-1;if(r===t)return e;e++}return-1}(t,n)}function b9(n,t,e=!1){for(let r=0;r<t.length;r++)if(bi(n,t[r],e))return!0;return!1}function Bh(n,t){e:for(let e=0;e<t.length;e++){const r=t[e];if(n.length===r.length){for(let a=0;a<n.length;a++)if(n[a]!==r[a])continue e;return!0}}return!1}function aa(n,t){return n?":not("+t.trim()+")":t}function M9(n){let t=n[0],e=1,r=2,a="",i=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&r){const y=n[++e];a+="["+s+(y.length>0?'="'+y+'"':"")+"]"}else 8&r?a+="."+s:4&r&&(a+=" "+s);else""!==a&&!O4(s)&&(t+=aa(i,a),a=""),r=s,i=i||!O4(r);e++}return""!==a&&(t+=aa(i,a)),t}const lt={};function $e(n){x9($t(),T2(),v2()+n,Fo())}function x9(n,t,e,r){if(!r)if(3==(3&t[2])){const i=n.preOrderCheckHooks;null!==i&&q2(t,i,e)}else{const i=n.preOrderHooks;null!==i&&Mt(t,i,0,e)}D2(e)}function J6(n,t){return n<<17|t<<2}function I4(n){return n>>17&32767}function X6(n){return 2|n}function t4(n){return(131068&n)>>2}function _0(n,t){return-131069&n|t<<2}function Q6(n){return 1|n}function A9(n,t){const e=n.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const a=e[r],i=e[r+1];if(-1!==i){const s=n.data[i];s1(a),s.contentQueries(2,t[i],i)}}}function is(n,t,e,r,a,i,s,y,V,ne){const pe=t.blueprint.slice();return pe[0]=a,pe[2]=140|r,Ci(pe),pe[3]=pe[15]=n,pe[8]=e,pe[10]=s||n&&n[10],pe[11]=y||n&&n[11],pe[12]=V||n&&n[12]||null,pe[9]=ne||n&&n[9]||null,pe[6]=i,pe[16]=2==t.type?n[16]:pe,pe}function os(n,t,e,r,a){let i=n.data[t];if(null===i)i=function _l(n,t,e,r,a){const i=Ki(),s=qr(),V=n.data[t]=function Jh(n,t,e,r,a,i){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:a,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,e,t,r,a);return null===n.firstChild&&(n.firstChild=V),null!==i&&(s?null==i.child&&null!==V.parent&&(i.child=V):null===i.next&&(i.next=V)),V}(n,t,e,r,a),function Ce(){return Dt.lFrame.inI18n}()&&(i.flags|=64);else if(64&i.type){i.type=e,i.value=r,i.attrs=a;const s=function gi(){const n=Dt.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return y4(i,!0),i}function ss(n,t,e,r){if(0===e)return-1;const a=t.length;for(let i=0;i<e;i++)t.push(r),n.blueprint.push(r),n.data.push(null);return a}function ls(n,t,e){p1(t);try{const r=n.viewQuery;null!==r&&Al(1,r,e);const a=n.template;null!==a&&k9(n,t,a,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&A9(n,t),n.staticViewQueries&&Al(2,n.viewQuery,e);const i=n.components;null!==i&&function Yh(n,t){for(let e=0;e<t.length;e++)Rr(n,t[e])}(t,i)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[2]&=-5,h1()}}function oo(n,t,e,r){const a=t[2];if(256==(256&a))return;p1(t);const i=Fo();try{Ci(t),function U(n){return Dt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&k9(n,t,e,2,r);const s=3==(3&a);if(!i)if(s){const ne=n.preOrderCheckHooks;null!==ne&&q2(t,ne,null)}else{const ne=n.preOrderHooks;null!==ne&&Mt(t,ne,0,null),bt(t,0)}if(function fp(n){for(let t=J8(n);null!==t;t=X8(t)){if(!t[2])continue;const e=t[9];for(let r=0;r<e.length;r++){const a=e[r],i=a[3];0==(1024&a[2])&&X4(i,1),a[2]|=1024}}}(t),function wl(n){for(let t=J8(n);null!==t;t=X8(t))for(let e=10;e<t.length;e++){const r=t[e],a=r[1];Ws(r)&&oo(a,r,a.template,r[8])}}(t),null!==n.contentQueries&&A9(n,t),!i)if(s){const ne=n.contentCheckHooks;null!==ne&&q2(t,ne)}else{const ne=n.contentHooks;null!==ne&&Mt(t,ne,1),bt(t,1)}!function V9(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const a=e[r];if(a<0)D2(~a);else{const i=a,s=e[++r],y=e[++r];Te(s,i),y(2,t[i])}}}finally{D2(-1)}}(n,t);const y=n.components;null!==y&&function qh(n,t){for(let e=0;e<t.length;e++)dp(n,t[e])}(t,y);const V=n.viewQuery;if(null!==V&&Al(2,V,r),!i)if(s){const ne=n.viewCheckHooks;null!==ne&&q2(t,ne)}else{const ne=n.viewHooks;null!==ne&&Mt(t,ne,2),bt(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,X4(t[3],-1))}finally{h1()}}function Kh(n,t,e,r){const a=t[10],i=!Fo(),s=$s(t);try{i&&!s&&a.begin&&a.begin(),s&&ls(n,t,r),oo(n,t,e,r)}finally{i&&!s&&a.end&&a.end()}}function k9(n,t,e,r,a){const i=v2(),s=2&r;try{D2(-1),s&&t.length>20&&x9(n,t,20,Fo()),e(r,a)}finally{D2(i)}}function z9(n,t,e){if($1(t)){const a=t.directiveEnd;for(let i=t.directiveStart;i<a;i++){const s=n.data[i];s.contentQueries&&s.contentQueries(1,e[i],i)}}}function bl(n,t,e){!Rt()||(function ap(n,t,e,r){const a=e.directiveStart,i=e.directiveEnd;n.firstCreatePass||Ks(e,t),pr(r,t);const s=e.initialInputs;for(let y=a;y<i;y++){const V=n.data[y],ne=K2(V);ne&&cp(t,e,V);const pe=Xs(t,n,y,e);pr(pe,t),null!==s&&j9(0,y-a,pe,V,0,s),ne&&(Mr(e.index,t)[8]=pe)}}(n,t,e,O3(e,t)),128==(128&e.flags)&&function ip(n,t,e){const r=e.directiveStart,a=e.directiveEnd,s=e.index,y=function Se(){return Dt.lFrame.currentDirectiveIndex}();try{D2(s);for(let V=r;V<a;V++){const ne=n.data[V],pe=t[V];He(V),(null!==ne.hostBindings||0!==ne.hostVars||null!==ne.hostAttrs)&&R9(ne,pe)}}finally{D2(-1),He(y)}}(n,t,e))}function xi(n,t,e=O3){const r=t.localNames;if(null!==r){let a=t.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],y=-1===s?e(t,n):n[s];n[a++]=y}}}function N9(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=r5(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function r5(n,t,e,r,a,i,s,y,V,ne){const pe=20+r,we=pe+a,ke=function Zh(n,t){const e=[];for(let r=0;r<t;r++)e.push(r<n?null:lt);return e}(pe,we),qe="function"==typeof ne?ne():ne;return ke[1]={type:n,blueprint:ke,template:e,queries:null,viewQuery:y,declTNode:t,data:ke.slice().fill(null,pe),bindingStartIndex:pe,expandoStartIndex:we,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:V,consts:qe,incompleteFirstPass:!1}}function xl(n,t,e,r){const a=kl(t);null===e?a.push(r):(a.push(e),n.firstCreatePass&&W9(n).push(r,a.length-1))}function O9(n,t,e){for(let r in n)if(n.hasOwnProperty(r)){const a=n[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(t,a):e[r]=[t,a]}return e}function n4(n,t,e,r,a,i,s,y){const V=O3(t,e);let pe,ne=t.inputs;!y&&null!=ne&&(pe=ne[r])?(o5(n,e,pe,r,a),p2(t)&&function ep(n,t){const e=Mr(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(r=function Qh(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),a=null!=s?s(a,t.value||"",r):a,Jn(i)?i.setProperty(V,r,a):Yr(r)||(V.setProperty?V.setProperty(r,a):V[r]=a))}function Ll(n,t,e,r){let a=!1;if(Rt()){const i=function op(n,t,e){const r=n.directiveRegistry;let a=null;if(r)for(let i=0;i<r.length;i++){const s=r[i];b9(e,s.selectors,!1)&&(a||(a=[]),w6(Ks(e,t),n,s.type),K2(s)?(F9(n,e),a.unshift(s)):a.push(s))}return a}(n,t,e),s=null===r?null:{"":-1};if(null!==i){a=!0,B9(e,n.data.length,i.length);for(let pe=0;pe<i.length;pe++){const we=i[pe];we.providersResolver&&we.providersResolver(we)}let y=!1,V=!1,ne=ss(n,t,i.length,null);for(let pe=0;pe<i.length;pe++){const we=i[pe];e.mergedAttrs=Kr(e.mergedAttrs,we.hostAttrs),U9(n,e,t,ne,we),lp(ne,we,s),null!==we.contentQueries&&(e.flags|=8),(null!==we.hostBindings||null!==we.hostAttrs||0!==we.hostVars)&&(e.flags|=128);const ke=we.type.prototype;!y&&(ke.ngOnChanges||ke.ngOnInit||ke.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),y=!0),!V&&(ke.ngOnChanges||ke.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),V=!0),ne++}!function Xh(n,t){const r=t.directiveEnd,a=n.data,i=t.attrs,s=[];let y=null,V=null;for(let ne=t.directiveStart;ne<r;ne++){const pe=a[ne],we=pe.inputs,ke=null===i||v3(t)?null:up(we,i);s.push(ke),y=O9(we,ne,y),V=O9(pe.outputs,ne,V)}null!==y&&(y.hasOwnProperty("class")&&(t.flags|=16),y.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=y,t.outputs=V}(n,e)}s&&function sp(n,t,e){if(t){const r=n.localNames=[];for(let a=0;a<t.length;a+=2){const i=e[t[a+1]];if(null==i)throw new B2(-301,!1);r.push(t[a],i)}}}(e,r,s)}return e.mergedAttrs=Kr(e.mergedAttrs,e.attrs),a}function P9(n,t,e,r,a,i){const s=i.hostBindings;if(s){let y=n.hostBindingOpCodes;null===y&&(y=n.hostBindingOpCodes=[]);const V=~t.index;(function rp(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(y)!=V&&y.push(V),y.push(r,a,s)}}function R9(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function F9(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function lp(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;K2(t)&&(e[""]=n)}}function B9(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function U9(n,t,e,r,a){n.data[r]=a;const i=a.factory||(a.factory=v4(a.type)),s=new Jt(i,K2(a),null);n.blueprint[r]=s,e[r]=s,P9(n,t,0,r,ss(n,e,a.hostVars,lt),a)}function cp(n,t,e){const r=O3(t,n),a=N9(e),i=n[10],s=i5(n,is(n,a,null,e.onPush?64:16,r,t,i,i.createRenderer(r,e),null,null));n[t.index]=s}function x4(n,t,e,r,a,i){const s=O3(n,t);!function a5(n,t,e,r,a,i,s){if(null==i)Jn(n)?n.removeAttribute(t,a,e):t.removeAttribute(a);else{const y=null==s?P2(i):s(i,r||"",a);Jn(n)?n.setAttribute(t,a,y,e):e?t.setAttributeNS(e,a,y):t.setAttribute(a,y)}}(t[11],s,i,n.value,e,r,a)}function j9(n,t,e,r,a,i){const s=i[t];if(null!==s){const y=r.setInput;for(let V=0;V<s.length;){const ne=s[V++],pe=s[V++],we=s[V++];null!==y?r.setInput(e,we,ne,pe):e[pe]=we}}}function up(n,t){let e=null,r=0;for(;r<t.length;){const a=t[r];if(0!==a)if(5!==a){if("number"==typeof a)break;n.hasOwnProperty(a)&&(null===e&&(e=[]),e.push(a,n[a],t[r+1])),r+=2}else r+=2;else r+=4}return e}function G9(n,t,e,r){return new Array(n,!0,!1,t,null,0,r,e,null,null)}function dp(n,t){const e=Mr(t,n);if(Ws(e)){const r=e[1];80&e[2]?oo(r,e,r.template,e[8]):e[5]>0&&Dl(e)}}function Dl(n){for(let r=J8(n);null!==r;r=X8(r))for(let a=10;a<r.length;a++){const i=r[a];if(1024&i[2]){const s=i[1];oo(s,i,s.template,i[8])}else i[5]>0&&Dl(i)}const e=n[1].components;if(null!==e)for(let r=0;r<e.length;r++){const a=Mr(e[r],n);Ws(a)&&a[5]>0&&Dl(a)}}function Rr(n,t){const e=Mr(t,n),r=e[1];(function Sl(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(r,e),ls(r,e,e[8])}function i5(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Tl(n){for(;n;){n[2]|=64;const t=rs(n);if(Ot(n)&&!t)return n;n=t}return null}function L0(n,t,e){const r=t[10];r.begin&&r.begin();try{oo(n,t,n.template,e)}catch(a){throw Y9(t,a),a}finally{r.end&&r.end()}}function $9(n){!function Hl(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],r=G8(e),a=r[1];Kh(a,r,a.template,e)}}(n[8])}function Al(n,t,e){s1(0),t(n,e)}const Cp=(()=>Promise.resolve(null))();function kl(n){return n[7]||(n[7]=[])}function W9(n){return n.cleanup||(n.cleanup=[])}function Y9(n,t){const e=n[9],r=e?e.get(g0,null):null;r&&r.handleError(t)}function o5(n,t,e,r,a){for(let i=0;i<e.length;){const s=e[i++],y=e[i++],V=t[s],ne=n.data[s];null!==ne.setInput?ne.setInput(V,a,r,y):V[y]=a}}function P4(n,t,e){const r=Wr(t,n);!function l9(n,t,e){Jn(n)?n.setValue(t,e):t.textContent=e}(n[11],r,e)}function s5(n,t,e){let r=e?n.styles:null,a=e?n.classes:null,i=0;if(null!==t)for(let s=0;s<t.length;s++){const y=t[s];"number"==typeof y?i=y:1==i?a=G2(a,y):2==i&&(r=G2(r,y+": "+t[++s]+";"))}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=a:n.classesWithoutHost=a}const zl=new tn("INJECTOR",-1);class K9{get(t,e=Ea){if(e===Ea){const r=new Error(`NullInjectorError: No provider for ${C2(t)}!`);throw r.name="NullInjectorError",r}return e}}const Nl=new tn("Set Injector scope."),w0={},vp={};let El;function Z9(){return void 0===El&&(El=new K9),El}function J9(n,t=null,e=null,r){const a=X9(n,t,e,r);return a._resolveInjectorDefTypes(),a}function X9(n,t=null,e=null,r){return new yp(n,e,t||Z9(),r)}class yp{constructor(t,e,r,a=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&ea(e,y=>this.processProvider(y,t,e)),ea([t],y=>this.processInjectorType(y,[],i)),this.records.set(zl,cs(void 0,this));const s=this.records.get(Nl);this.scope=null!=s?s.value:null,this.source=a||("object"==typeof t?null:C2(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Ea,r=St.Default){this.assertNotDestroyed();const a=T7(this),i=d4(void 0);try{if(!(r&St.SkipSelf)){let y=this.records.get(t);if(void 0===y){const V=function o1(n){return"function"==typeof n||"object"==typeof n&&n instanceof tn}(t)&&U3(t);y=V&&this.injectableDefInScope(V)?cs(Ol(t),w0):null,this.records.set(t,y)}if(null!=y)return this.hydrate(t,y)}return(r&St.Self?Z9():this.parent).get(t,e=r&St.Optional&&e===Ea?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[r0]=s[r0]||[]).unshift(C2(t)),a)throw s;return function V7(n,t,e,r){const a=n[r0];throw t[a0]&&a.unshift(t[a0]),n.message=function A7(n,t,e,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let a=C2(t);if(Array.isArray(t))a=t.map(C2).join(" -> ");else if("object"==typeof t){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let y=t[s];i.push(s+":"+("string"==typeof y?JSON.stringify(y):C2(y)))}a=`{${i.join(", ")}}`}return`${e}${r?"("+r+")":""}[${a}]: ${n.replace(k6,"\n  ")}`}("\n"+n.message,a,e,r),n.ngTokenPath=a,n[r0]=null,n}(s,t,"R3InjectorError",this.source)}throw s}finally{d4(i),T7(a)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,a)=>t.push(C2(a))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new B2(205,!1)}processInjectorType(t,e,r){if(!(t=z2(t)))return!1;let a=ii(t);const i=null==a&&t.ngModule||void 0,s=void 0===i?t:i,y=-1!==r.indexOf(s);if(void 0!==i&&(a=ii(i)),null==a)return!1;if(null!=a.imports&&!y){let pe;r.push(s);try{ea(a.imports,we=>{this.processInjectorType(we,e,r)&&(void 0===pe&&(pe=[]),pe.push(we))})}finally{}if(void 0!==pe)for(let we=0;we<pe.length;we++){const{ngModule:ke,providers:qe}=pe[we];ea(qe,S1=>this.processProvider(S1,ke,qe||dn))}}this.injectorDefTypes.add(s);const V=v4(s)||(()=>new s);this.records.set(s,cs(V,w0));const ne=a.providers;if(null!=ne&&!y){const pe=t;ea(ne,we=>this.processProvider(we,pe,ne))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,r){let a=x(t=z2(t))?t:z2(t&&t.provide);const i=function bp(n,t,e){return eu(n)?cs(void 0,n.useValue):cs(Q9(n),w0)}(t);if(x(t)||!0!==t.multi)this.records.get(a);else{let s=this.records.get(a);s||(s=cs(void 0,w0,!0),s.factory=()=>N8(s.multi),this.records.set(a,s)),a=t,s.multi.push(t)}this.records.set(a,i)}hydrate(t,e){return e.value===w0&&(e.value=vp,e.value=e.factory()),"object"==typeof e.value&&e.value&&function Ne(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=z2(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Ol(n){const t=U3(n),e=null!==t?t.factory:v4(n);if(null!==e)return e;if(n instanceof tn)throw new B2(204,!1);if(n instanceof Function)return function _p(n){const t=n.length;if(t>0)throw Ko(t,"?"),new B2(204,!1);const e=function In(n){const t=n&&(n[Vo]||n[Ii]);if(t){const e=function h6(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new B2(204,!1)}function Q9(n,t,e){let r;if(x(n)){const a=z2(n);return v4(a)||Ol(a)}if(eu(n))r=()=>z2(n.useValue);else if(function f(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...N8(n.deps||[]));else if(function Mp(n){return!(!n||!n.useExisting)}(n))r=()=>J2(z2(n.useExisting));else{const a=z2(n&&(n.useClass||n.provide));if(!function Le(n){return!!n.deps}(n))return v4(a)||Ol(a);r=()=>new a(...N8(n.deps))}return r}function cs(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function eu(n){return null!==n&&"object"==typeof n&&A8 in n}function x(n){return"function"==typeof n}let m1=(()=>{class n{static create(e,r){var a;if(Array.isArray(e))return J9({name:""},r,e,"");{const i=null!==(a=e.name)&&void 0!==a?a:"";return J9({name:i},e.parent,e.providers,i)}}}return n.THROW_IF_NOT_FOUND=Ea,n.NULL=new K9,n.\u0275prov=ot({token:n,providedIn:"any",factory:()=>J2(zl)}),n.__NG_ELEMENT_ID__=-1,n})();function xR(n,t){b2(G8(n)[1],d3())}function Fn(n){let t=function y_(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const r=[n];for(;t;){let a;if(K2(n))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new B2(903,"");a=t.\u0275dir}if(a){if(e){r.push(a);const s=n;s.inputs=xp(n.inputs),s.declaredInputs=xp(n.declaredInputs),s.outputs=xp(n.outputs);const y=a.hostBindings;y&&SR(n,y);const V=a.viewQuery,ne=a.contentQueries;if(V&&wR(n,V),ne&&DR(n,ne),s2(n.inputs,a.inputs),s2(n.declaredInputs,a.declaredInputs),s2(n.outputs,a.outputs),K2(a)&&a.data.animation){const pe=n.data;pe.animation=(pe.animation||[]).concat(a.data.animation)}}const i=a.features;if(i)for(let s=0;s<i.length;s++){const y=i[s];y&&y.ngInherit&&y(n),y===Fn&&(e=!1)}}t=Object.getPrototypeOf(t)}!function LR(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){const a=n[r];a.hostVars=t+=a.hostVars,a.hostAttrs=Kr(a.hostAttrs,e=Kr(e,a.hostAttrs))}}(r)}function xp(n){return n===p4?{}:n===dn?[]:n}function wR(n,t){const e=n.viewQuery;n.viewQuery=e?(r,a)=>{t(r,a),e(r,a)}:t}function DR(n,t){const e=n.contentQueries;n.contentQueries=e?(r,a,i)=>{t(r,a,i),e(r,a,i)}:t}function SR(n,t){const e=n.hostBindings;n.hostBindings=e?(r,a)=>{t(r,a),e(r,a)}:t}let tu=null;function l5(){if(!tu){const n=wn.Symbol;if(n&&n.iterator)tu=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const r=t[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(tu=r)}}}return tu}function Pl(n){return!!Lp(n)&&(Array.isArray(n)||!(n instanceof Map)&&l5()in n)}function Lp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Li(n,t,e){return n[t]=e}function Fr(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function D0(n,t,e,r){const a=Fr(n,t,e);return Fr(n,t+1,r)||a}function nu(n,t,e,r,a){const i=D0(n,t,e,r);return Fr(n,t+2,a)||i}function Bn(n,t,e,r){const a=T2();return Fr(a,Q(),t)&&($t(),x4(H2(),a,n,t,e,r)),Bn}function u5(n,t,e,r){return Fr(n,Q(),e)?t+P2(e)+r:lt}function h5(n,t,e,r,a,i,s,y,V,ne){const we=function ia(n,t,e,r,a,i){const s=D0(n,t,e,r);return D0(n,t+2,a,i)||s}(n,A(),e,a,s,V);return se(4),we?t+P2(e)+r+P2(a)+i+P2(s)+y+P2(V)+ne:lt}function m2(n,t,e,r,a,i,s,y){const V=T2(),ne=$t(),pe=n+20,we=ne.firstCreatePass?function NR(n,t,e,r,a,i,s,y,V){const ne=t.consts,pe=os(t,n,4,s||null,J4(ne,y));Ll(t,e,pe,J4(ne,V)),b2(t,pe);const we=pe.tViews=r5(2,pe,r,a,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,ne);return null!==t.queries&&(t.queries.template(t,pe),we.queries=t.queries.embeddedTView(pe)),pe}(pe,ne,V,t,e,r,a,i,s):ne.data[pe];y4(we,!1);const ke=V[11].createComment("");Y6(ne,V,ke,we),pr(ke,V),i5(V,V[pe]=G9(ke,V,ke,we)),u2(we)&&bl(ne,V,we),null!=s&&xi(V,we,y)}function Ft(n){return Or(function Ys(){return Dt.lFrame.contextLView}(),20+n)}function P1(n,t=St.Default){const e=T2();return null===e?J2(n,t):x8(d3(),e,z2(n),t)}function Hp(){throw new Error("invalid")}function T1(n,t,e){const r=T2();return Fr(r,Q(),t)&&n4($t(),H2(),r,n,t,r[11],e,!1),T1}function Vp(n,t,e,r,a){const s=a?"class":"style";o5(n,e,t.inputs[s],s,r)}function Ge(n,t,e,r){const a=T2(),i=$t(),s=20+n,y=a[11],V=a[s]=el(y,t,function An(){return Dt.lFrame.currentNamespace}()),ne=i.firstCreatePass?function tF(n,t,e,r,a,i,s){const y=t.consts,ne=os(t,n,2,a,J4(y,i));return Ll(t,e,ne,J4(y,s)),null!==ne.attrs&&s5(ne,ne.attrs,!1),null!==ne.mergedAttrs&&s5(ne,ne.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,ne),ne}(s,i,a,0,t,e,r):i.data[s];y4(ne,!0);const pe=ne.mergedAttrs;null!==pe&&n3(y,V,pe);const we=ne.classes;null!==we&&ll(y,V,we);const ke=ne.styles;return null!==ke&&y9(y,V,ke),64!=(64&ne.flags)&&Y6(i,a,V,ne),0===function k4(){return Dt.lFrame.elementDepthCount}()&&pr(V,a),function Yi(){Dt.lFrame.elementDepthCount++}(),u2(ne)&&(bl(i,a,ne),z9(i,ne,a)),null!==r&&xi(a,ne),Ge}function We(){let n=d3();qr()?qs():(n=n.parent,y4(n,!1));const t=n;!function $3(){Dt.lFrame.elementDepthCount--}();const e=$t();return e.firstCreatePass&&(b2(e,n),$1(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function V3(n){return 0!=(16&n.flags)}(t)&&Vp(e,t,T2(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function W3(n){return 0!=(32&n.flags)}(t)&&Vp(e,t,T2(),t.stylesWithoutHost,!1),We}function rt(n,t,e,r){return Ge(n,t,e,r),We(),rt}function Fl(n,t,e){const r=T2(),a=$t(),i=n+20,s=a.firstCreatePass?function nF(n,t,e,r,a){const i=t.consts,s=J4(i,r),y=os(t,n,8,"ng-container",s);return null!==s&&s5(y,s,!0),Ll(t,e,y,J4(i,a)),null!==t.queries&&t.queries.elementStart(t,y),y}(i,a,r,t,e):a.data[i];y4(s,!0);const y=r[i]=r[11].createComment("");return Y6(a,r,y,s),pr(y,r),u2(s)&&(bl(a,r,s),z9(a,s,r)),null!=e&&xi(r,s),Fl}function Bl(){let n=d3();const t=$t();return qr()?qs():(n=n.parent,y4(n,!1)),t.firstCreatePass&&(b2(t,n),$1(n)&&t.queries.elementEnd(n)),Bl}function On(){return T2()}function Ul(n){return!!n&&"function"==typeof n.then}function F_(n){return!!n&&"function"==typeof n.subscribe}const Ap=F_;function _2(n,t,e,r){const a=T2(),i=$t(),s=d3();return function U_(n,t,e,r,a,i,s,y){const V=u2(r),pe=n.firstCreatePass&&W9(n),we=t[8],ke=kl(t);let qe=!0;if(3&r.type||y){const c2=O3(r,t),h2=y?y(c2):c2,W1=ke.length,k2=y?W2=>y(Xn(W2[r.index])):r.index;if(Jn(e)){let W2=null;if(!y&&V&&(W2=function rF(n,t,e,r){const a=n.cleanup;if(null!=a)for(let i=0;i<a.length-1;i+=2){const s=a[i];if(s===e&&a[i+1]===r){const y=t[7],V=a[i+2];return y.length>V?y[V]:null}"string"==typeof s&&(i+=2)}return null}(n,t,a,r.index)),null!==W2)(W2.__ngLastListenerFn__||W2).__ngNextListenerFn__=i,W2.__ngLastListenerFn__=i,qe=!1;else{i=kp(r,t,we,i,!1);const X2=e.listen(h2,a,i);ke.push(i,X2),pe&&pe.push(a,k2,W1,W1+1)}}else i=kp(r,t,we,i,!0),h2.addEventListener(a,i,s),ke.push(i),pe&&pe.push(a,k2,W1,s)}else i=kp(r,t,we,i,!1);const S1=r.outputs;let y1;if(qe&&null!==S1&&(y1=S1[a])){const c2=y1.length;if(c2)for(let h2=0;h2<c2;h2+=2){const Lt=t[y1[h2]][y1[h2+1]].subscribe(i),rn=ke.length;ke.push(i,Lt),pe&&pe.push(a,r.index,rn,-(rn+1))}}}(i,a,a[11],s,n,t,!!e,r),_2}function j_(n,t,e,r){try{return!1!==e(r)}catch(a){return Y9(n,a),!1}}function kp(n,t,e,r,a){return function i(s){if(s===Function)return r;const y=2&n.flags?Mr(n.index,t):t;0==(32&t[2])&&Tl(y);let V=j_(t,0,r,s),ne=i.__ngNextListenerFn__;for(;ne;)V=j_(t,0,ne,s)&&V,ne=ne.__ngNextListenerFn__;return a&&!1===V&&(s.preventDefault(),s.returnValue=!1),V}}function X1(n=1){return function n2(n){return(Dt.lFrame.contextLView=function o2(n,t){for(;n>0;)t=t[15],n--;return t}(n,Dt.lFrame.contextLView))[8]}(n)}function aF(n,t){let e=null;const r=function Rh(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let a=0;a<t.length;a++){const i=t[a];if("*"!==i){if(null===r?b9(n,i,!0):Bh(r,i))return a}else e=a}return e}function zp(n){const t=T2()[16][6];if(!t.projection){const r=t.projection=Ko(n?n.length:1,null),a=r.slice();let i=t.child;for(;null!==i;){const s=n?aF(i,n):0;null!==s&&(a[s]?a[s].projectionNext=i:r[s]=i,a[s]=i),i=i.next}}}function Np(n,t=0,e){const r=T2(),a=$t(),i=os(a,20+n,16,null,e||null);null===i.projection&&(i.projection=t),qs(),64!=(64&i.flags)&&function Eh(n,t,e){v9(t[11],0,t,e,nl(n,e,t),p9(e.parent||t[6],e,t))}(a,r,i)}function au(n,t,e){return y5(n,"",t,"",e),au}function y5(n,t,e,r,a){const i=T2(),s=u5(i,t,e,r);return s!==lt&&n4($t(),H2(),i,n,s,i[11],a,!1),y5}function X_(n,t,e,r,a){const i=n[e+1],s=null===t;let y=r?I4(i):t4(i),V=!1;for(;0!==y&&(!1===V||s);){const pe=n[y+1];sF(n[y],t)&&(V=!0,n[y+1]=r?Q6(pe):X6(pe)),y=r?I4(pe):t4(pe)}V&&(n[e+1]=r?X6(i):Q6(i))}function sF(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Qi(n,t)>=0}const nr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Q_(n){return n.substring(nr.key,nr.keyEnd)}function eb(n,t){const e=nr.textEnd;return e===t?-1:(t=nr.keyEnd=function fF(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,nr.key=t,e),_5(n,t,e))}function _5(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function jl(n,t,e){return Ga(n,t,e,!1),jl}function ft(n,t){return Ga(n,t,null,!0),ft}function S0(n){!function $a(n,t,e,r){const a=$t(),i=se(2);a.firstUpdatePass&&ob(a,null,i,r);const s=T2();if(e!==lt&&Fr(s,i,e)){const y=a.data[v2()];if(ub(y,r)&&!ib(a,i)){let V=r?y.classesWithoutHost:y.stylesWithoutHost;null!==V&&(e=G2(V,e||"")),Vp(a,y,s,e,r)}else!function _F(n,t,e,r,a,i,s,y){a===lt&&(a=dn);let V=0,ne=0,pe=0<a.length?a[0]:null,we=0<i.length?i[0]:null;for(;null!==pe||null!==we;){const ke=V<a.length?a[V+1]:void 0,qe=ne<i.length?i[ne+1]:void 0;let y1,S1=null;pe===we?(V+=2,ne+=2,ke!==qe&&(S1=we,y1=qe)):null===we||null!==pe&&pe<we?(V+=2,S1=pe):(ne+=2,S1=we,y1=qe),null!==S1&&lb(n,t,e,r,S1,y1,s,y),pe=V<a.length?a[V]:null,we=ne<i.length?i[ne]:null}}(a,y,s,s[11],s[i+1],s[i+1]=function yF(n,t,e){if(null==e||""===e)return dn;const r=[],a=Xr(e);if(Array.isArray(a))for(let i=0;i<a.length;i++)n(r,a[i],!0);else if("object"==typeof a)for(const i in a)a.hasOwnProperty(i)&&n(r,i,a[i]);else"string"==typeof a&&t(r,a);return r}(n,t,e),r,i)}}(Zr,Di,n,!0)}function Di(n,t){for(let e=function cF(n){return function nb(n){nr.key=0,nr.keyEnd=0,nr.value=0,nr.valueEnd=0,nr.textEnd=n.length}(n),eb(n,_5(n,0,nr.textEnd))}(t);e>=0;e=eb(t,e))Zr(n,Q_(t),!0)}function Ga(n,t,e,r){const a=T2(),i=$t(),s=se(2);i.firstUpdatePass&&ob(i,n,s,r),t!==lt&&Fr(a,s,t)&&lb(i,i.data[v2()],a,a[11],n,a[s+1]=function bF(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=C2(Xr(n)))),n}(t,e),r,s)}function ib(n,t){return t>=n.expandoStartIndex}function ob(n,t,e,r){const a=n.data;if(null===a[e+1]){const i=a[v2()],s=ib(n,e);ub(i,r)&&null===t&&!s&&(t=!1),t=function CF(n,t,e,r){const a=function Ee(n){const t=Dt.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let i=r?t.residualClasses:t.residualStyles;if(null===a)0===(r?t.classBindings:t.styleBindings)&&(e=Gl(e=Ep(null,n,t,e,r),t.attrs,r),i=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==a)if(e=Ep(a,n,t,e,r),null===i){let V=function gF(n,t,e){const r=e?t.classBindings:t.styleBindings;if(0!==t4(r))return n[I4(r)]}(n,t,r);void 0!==V&&Array.isArray(V)&&(V=Ep(null,n,t,V[1],r),V=Gl(V,t.attrs,r),function mF(n,t,e,r){n[I4(e?t.classBindings:t.styleBindings)]=r}(n,t,r,V))}else i=function vF(n,t,e){let r;const a=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<a;i++)r=Gl(r,n[i].hostAttrs,e);return Gl(r,t.attrs,e)}(n,t,r)}return void 0!==i&&(r?t.residualClasses=i:t.residualStyles=i),e}(a,i,t,r),function iF(n,t,e,r,a,i){let s=i?t.classBindings:t.styleBindings,y=I4(s),V=t4(s);n[r]=e;let pe,ne=!1;if(Array.isArray(e)){const we=e;pe=we[1],(null===pe||Qi(we,pe)>0)&&(ne=!0)}else pe=e;if(a)if(0!==V){const ke=I4(n[y+1]);n[r+1]=J6(ke,y),0!==ke&&(n[ke+1]=_0(n[ke+1],r)),n[y+1]=function Uh(n,t){return 131071&n|t<<17}(n[y+1],r)}else n[r+1]=J6(y,0),0!==y&&(n[y+1]=_0(n[y+1],r)),y=r;else n[r+1]=J6(V,0),0===y?y=r:n[V+1]=_0(n[V+1],r),V=r;ne&&(n[r+1]=X6(n[r+1])),X_(n,pe,r,!0),X_(n,pe,r,!1),function oF(n,t,e,r,a){const i=a?n.residualClasses:n.residualStyles;null!=i&&"string"==typeof t&&Qi(i,t)>=0&&(e[r+1]=Q6(e[r+1]))}(t,pe,n,r,i),s=J6(y,V),i?t.classBindings=s:t.styleBindings=s}(a,i,t,e,s,r)}}function Ep(n,t,e,r,a){let i=null;const s=e.directiveEnd;let y=e.directiveStylingLast;for(-1===y?y=e.directiveStart:y++;y<s&&(i=t[y],r=Gl(r,i.hostAttrs,a),i!==n);)y++;return null!==n&&(e.directiveStylingLast=y),r}function Gl(n,t,e){const r=e?1:2;let a=-1;if(null!==t)for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?a=s:a===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Zr(n,s,!!e||t[++i]))}return void 0===n?null:n}function lb(n,t,e,r,a,i,s,y){if(!(3&t.type))return;const V=n.data,ne=V[y+1];iu(function D9(n){return 1==(1&n)}(ne)?cb(V,t,e,a,t4(ne),s):void 0)||(iu(i)||function w9(n){return 2==(2&n)}(ne)&&(i=cb(V,null,e,a,y,s)),function E4(n,t,e,r,a){const i=Jn(n);if(t)a?i?n.addClass(e,r):e.classList.add(r):i?n.removeClass(e,r):e.classList.remove(r);else{let s=-1===r.indexOf("-")?void 0:e4.DashCase;if(null==a)i?n.removeStyle(e,r,s):e.style.removeProperty(r);else{const y="string"==typeof a&&a.endsWith("!important");y&&(a=a.slice(0,-10),s|=e4.Important),i?n.setStyle(e,r,a,s):e.style.setProperty(r,a,y?"important":"")}}}(r,s,Wr(v2(),e),a,i))}function cb(n,t,e,r,a,i){const s=null===t;let y;for(;a>0;){const V=n[a],ne=Array.isArray(V),pe=ne?V[1]:V,we=null===pe;let ke=e[a+1];ke===lt&&(ke=we?dn:void 0);let qe=we?V6(ke,r):pe===r?ke:void 0;if(ne&&!iu(qe)&&(qe=V6(V,r)),iu(qe)&&(y=qe,s))return y;const S1=n[a+1];a=s?I4(S1):t4(S1)}if(null!==t){let V=i?t.residualClasses:t.residualStyles;null!=V&&(y=V6(V,r))}return y}function iu(n){return void 0!==n}function ub(n,t){return 0!=(n.flags&(t?16:32))}function A1(n,t=""){const e=T2(),r=$t(),a=n+20,i=r.firstCreatePass?os(r,a,1,t,null):r.data[a],s=e[a]=function Q8(n,t){return Jn(n)?n.createText(t):n.createTextNode(t)}(e[11],t);Y6(r,e,s,i),y4(i,!1)}function zn(n){return it("",n,""),zn}function it(n,t,e){const r=T2(),a=u5(r,n,t,e);return a!==lt&&P4(r,v2(),a),it}function Wa(n,t,e,r,a){const i=T2(),s=function f5(n,t,e,r,a,i){const y=D0(n,A(),e,a);return se(2),y?t+P2(e)+r+P2(a)+i:lt}(i,n,t,e,r,a);return s!==lt&&P4(i,v2(),s),Wa}function us(n,t,e,r,a,i,s){const y=T2(),V=function d5(n,t,e,r,a,i,s,y){const ne=nu(n,A(),e,a,s);return se(3),ne?t+P2(e)+r+P2(a)+i+P2(s)+y:lt}(y,n,t,e,r,a,i,s);return V!==lt&&P4(y,v2(),V),us}function Op(n,t,e,r,a,i,s,y,V){const ne=T2(),pe=h5(ne,n,t,e,r,a,i,s,y,V);return pe!==lt&&P4(ne,v2(),pe),Op}function so(n,t,e){const r=T2();return Fr(r,Q(),t)&&n4($t(),H2(),r,n,t,r[11],e,!0),so}const T0=void 0;var BF=["en",[["a","p"],["AM","PM"],T0],[["AM","PM"],T0,T0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],T0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],T0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",T0,"{1} 'at' {0}",T0],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function FF(n){const e=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===r?1:5}];let b5={};function i4(n){const t=function UF(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=Sb(t);if(e)return e;const r=t.split("-")[0];if(e=Sb(r),e)return e;if("en"===r)return BF;throw new Error(`Missing locale data for the locale "${n}".`)}function Sb(n){return n in b5||(b5[n]=wn.ng&&wn.ng.common&&wn.ng.common.locales&&wn.ng.common.locales[n]),b5[n]}var at=(()=>((at=at||{})[at.LocaleId=0]="LocaleId",at[at.DayPeriodsFormat=1]="DayPeriodsFormat",at[at.DayPeriodsStandalone=2]="DayPeriodsStandalone",at[at.DaysFormat=3]="DaysFormat",at[at.DaysStandalone=4]="DaysStandalone",at[at.MonthsFormat=5]="MonthsFormat",at[at.MonthsStandalone=6]="MonthsStandalone",at[at.Eras=7]="Eras",at[at.FirstDayOfWeek=8]="FirstDayOfWeek",at[at.WeekendRange=9]="WeekendRange",at[at.DateFormat=10]="DateFormat",at[at.TimeFormat=11]="TimeFormat",at[at.DateTimeFormat=12]="DateTimeFormat",at[at.NumberSymbols=13]="NumberSymbols",at[at.NumberFormats=14]="NumberFormats",at[at.CurrencyCode=15]="CurrencyCode",at[at.CurrencySymbol=16]="CurrencySymbol",at[at.CurrencyName=17]="CurrencyName",at[at.Currencies=18]="Currencies",at[at.Directionality=19]="Directionality",at[at.PluralCase=20]="PluralCase",at[at.ExtraData=21]="ExtraData",at))();const ou="en-US";let Tb=ou;function Fp(n,t,e,r,a){if(n=z2(n),Array.isArray(n))for(let i=0;i<n.length;i++)Fp(n[i],t,e,r,a);else{const i=$t(),s=T2();let y=x(n)?n:z2(n.provide),V=Q9(n);const ne=d3(),pe=1048575&ne.providerIndexes,we=ne.directiveStart,ke=ne.providerIndexes>>20;if(x(n)||!n.multi){const qe=new Jt(V,a,P1),S1=Up(y,t,a?pe:pe+ke,we);-1===S1?(w6(Ks(ne,s),i,y),Bp(i,n,t.length),t.push(y),ne.directiveStart++,ne.directiveEnd++,a&&(ne.providerIndexes+=1048576),e.push(qe),s.push(qe)):(e[S1]=qe,s[S1]=qe)}else{const qe=Up(y,t,pe+ke,we),S1=Up(y,t,pe,pe+ke),y1=qe>=0&&e[qe],c2=S1>=0&&e[S1];if(a&&!c2||!a&&!y1){w6(Ks(ne,s),i,y);const h2=function PB(n,t,e,r,a){const i=new Jt(n,e,P1);return i.multi=[],i.index=t,i.componentProviders=0,Xb(i,a,r&&!e),i}(a?IB:OB,e.length,a,r,V);!a&&c2&&(e[S1].providerFactory=h2),Bp(i,n,t.length,0),t.push(y),ne.directiveStart++,ne.directiveEnd++,a&&(ne.providerIndexes+=1048576),e.push(h2),s.push(h2)}else Bp(i,n,qe>-1?qe:S1,Xb(e[a?S1:qe],V,!a&&r));!a&&r&&c2&&e[S1].componentProviders++}}}function Bp(n,t,e,r){const a=x(t),i=function Z(n){return!!n.useClass}(t);if(a||i){const V=(i?z2(t.useClass):t).prototype.ngOnDestroy;if(V){const ne=n.destroyHooks||(n.destroyHooks=[]);if(!a&&t.multi){const pe=ne.indexOf(e);-1===pe?ne.push(e,[r,V]):ne[pe+1].push(r,V)}else ne.push(e,V)}}}function Xb(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Up(n,t,e,r){for(let a=e;a<r;a++)if(t[a]===n)return a;return-1}function OB(n,t,e,r){return jp(this.multi,[])}function IB(n,t,e,r){const a=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,y=Xs(e,e[1],this.providerFactory.index,r);i=y.slice(0,s),jp(a,i);for(let V=s;V<y.length;V++)i.push(y[V])}else i=[],jp(a,i);return i}function jp(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Un(n,t=[]){return e=>{e.providersResolver=(r,a)=>function EB(n,t,e){const r=$t();if(r.firstCreatePass){const a=K2(n);Fp(e,r.data,r.blueprint,a,!0),Fp(t,r.data,r.blueprint,a,!1)}}(r,a?a(n):n,t)}}class Qb{}class BB{resolveComponentFactory(t){throw function FB(n){const t=Error(`No component factory found for ${C2(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let x5=(()=>{class n{}return n.NULL=new BB,n})();function UB(){return L5(d3(),T2())}function L5(n,t){return new Wn(O3(n,t))}let Wn=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=UB,n})();function jB(n){return n instanceof Wn?n.nativeElement:n}class Gp{}let R4=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function $B(){const n=T2(),e=Mr(d3().index,n);return function GB(n){return n[11]}(m4(e)?e:n)}(),n})(),WB=(()=>{class n{}return n.\u0275prov=ot({token:n,providedIn:"root",factory:()=>null}),n})();class Kl{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const qB=new Kl("13.3.6"),$p={};function fu(n,t,e,r,a=!1){for(;null!==e;){const i=t[e.index];if(null!==i&&r.push(Xn(i)),G3(i))for(let y=10;y<i.length;y++){const V=i[y],ne=V[1].firstChild;null!==ne&&fu(V[1],V,ne,r)}const s=e.type;if(8&s)fu(n,t,e.child,r);else if(32&s){const y=K8(e,t);let V;for(;V=y();)r.push(V)}else if(16&s){const y=g9(t,e);if(Array.isArray(y))r.push(...y);else{const V=rs(t[16]);fu(V[1],V,y,r,!0)}}e=a?e.projectionNext:e.next}return r}class Zl{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return fu(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(G3(t)){const e=t[8],r=e?e.indexOf(this):-1;r>-1&&($6(t,r),e0(e,r))}this._attachedToViewContainer=!1}tl(this._lView[1],this._lView)}onDestroy(t){xl(this._lView[1],this._lView,null,t)}markForCheck(){Tl(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){L0(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Vl(n,t,e){Bo(!0);try{L0(n,t,e)}finally{Bo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new B2(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ah(n,t){y0(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new B2(902,"");this._appRef=t}}class YB extends Zl{constructor(t){super(t),this._view=t}detectChanges(){$9(this._view)}checkNoChanges(){!function pp(n){Bo(!0);try{$9(n)}finally{Bo(!1)}}(this._view)}get context(){return null}}class tM extends x5{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Yn(t);return new Wp(e,this.ngModule)}}function nM(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class Wp extends Qb{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function Z6(n){return n.map(M9).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return nM(this.componentDef.inputs)}get outputs(){return nM(this.componentDef.outputs)}create(t,e,r,a){const i=(a=a||this.ngModule)?function ZB(n,t){return{get:(e,r,a)=>{const i=n.get(e,$p,a);return i!==$p||r===$p?i:t.get(e,r,a)}}}(t,a.injector):t,s=i.get(Gp,dr),y=i.get(WB,null),V=s.createRenderer(null,this.componentDef),ne=this.componentDef.selectors[0][0]||"div",pe=r?function Ml(n,t,e){if(Jn(n))return n.selectRootElement(t,e===jr.ShadowDom);let r="string"==typeof t?n.querySelector(t):t;return r.textContent="",r}(V,r,this.componentDef.encapsulation):el(s.createRenderer(null,this.componentDef),ne,function KB(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(ne)),we=this.componentDef.onPush?576:528,ke=function v_(n,t){return{components:[],scheduler:n||Lh,clean:Cp,playerHandler:t||null,flags:0}}(),qe=r5(0,null,null,1,0,null,null,null,null,null),S1=is(null,qe,ke,we,null,null,s,V,y,i);let y1,c2;p1(S1);try{const h2=function g_(n,t,e,r,a,i){const s=e[1];e[20]=n;const V=os(s,20,2,"#host",null),ne=V.mergedAttrs=t.hostAttrs;null!==ne&&(s5(V,ne,!0),null!==n&&(n3(a,n,ne),null!==V.classes&&ll(a,n,V.classes),null!==V.styles&&y9(a,n,V.styles)));const pe=r.createRenderer(n,t),we=is(e,N9(t),null,t.onPush?64:16,e[20],V,r,pe,i||null,null);return s.firstCreatePass&&(w6(Ks(V,e),s,t.type),F9(s,V),B9(V,e.length,1)),i5(e,we),e[20]=we}(pe,this.componentDef,S1,s,V);if(pe)if(r)n3(V,pe,["ng-version",qB.full]);else{const{attrs:W1,classes:k2}=function h3(n){const t=[],e=[];let r=1,a=2;for(;r<n.length;){let i=n[r];if("string"==typeof i)2===a?""!==i&&t.push(i,n[++r]):8===a&&e.push(i);else{if(!O4(a))break;a=i}r++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);W1&&n3(V,pe,W1),k2&&k2.length>0&&ll(V,pe,k2.join(" "))}if(c2=Va(qe,20),void 0!==e){const W1=c2.projection=[];for(let k2=0;k2<this.ngContentSelectors.length;k2++){const W2=e[k2];W1.push(null!=W2?Array.from(W2):null)}}y1=function m_(n,t,e,r,a){const i=e[1],s=function np(n,t,e){const r=d3();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),U9(n,r,t,ss(n,t,1,null),e));const a=Xs(t,n,r.directiveStart,r);pr(a,t);const i=O3(r,t);return i&&pr(i,t),a}(i,e,t);if(r.components.push(s),n[8]=s,a&&a.forEach(V=>V(s,t)),t.contentQueries){const V=d3();t.contentQueries(1,s,V.directiveStart)}const y=d3();return!i.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(D2(y.index),P9(e[1],y,0,y.directiveStart,y.directiveEnd,t),R9(t,s)),s}(h2,this.componentDef,S1,ke,[xR]),ls(qe,S1,null)}finally{h1()}return new XB(this.componentType,y1,L5(c2,S1),S1,c2)}}class XB extends class RB{}{constructor(t,e,r,a,i){super(),this.location=r,this._rootLView=a,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new YB(a),this.componentType=t}get injector(){return new Ji(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class lo{}class rM{}const w5=new Map;class oM extends lo{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new tM(this);const r=fr(t);this._bootstrapComponents=ra(r.bootstrap),this._r3Injector=X9(t,e,[{provide:lo,useValue:this},{provide:x5,useValue:this.componentFactoryResolver}],C2(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=m1.THROW_IF_NOT_FOUND,r=St.Default){return t===m1||t===lo||t===zl?this:this._r3Injector.get(t,e,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class qp extends rM{constructor(t){super(),this.moduleType=t,null!==fr(t)&&function eU(n){const t=new Set;!function e(r){const a=fr(r,!0),i=a.id;null!==i&&(function aM(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${C2(t)} vs ${C2(t.name)}`)}(i,w5.get(i),r),w5.set(i,r));const s=ra(a.imports);for(const y of s)t.has(y)||(t.add(y),e(y))}(n)}(t)}create(t){return new oM(this.moduleType,t)}}function Jl(n,t,e){const r=v()+n,a=T2();return a[r]===lt?Li(a,r,e?t.call(e):t()):function Rl(n,t){return n[t]}(a,r)}function co(n,t,e,r,a){return lM(T2(),v(),n,t,e,r,a)}function Ql(n,t,e,r,a,i){return function cM(n,t,e,r,a,i,s,y){const V=t+e;return nu(n,V,a,i,s)?Li(n,V+3,y?r.call(y,a,i,s):r(a,i,s)):ec(n,V+3)}(T2(),v(),n,t,e,r,a,i)}function ec(n,t){const e=n[t];return e===lt?void 0:e}function sM(n,t,e,r,a,i){const s=t+e;return Fr(n,s,a)?Li(n,s+1,i?r.call(i,a):r(a)):ec(n,s+1)}function lM(n,t,e,r,a,i,s){const y=t+e;return D0(n,y,a,i)?Li(n,y+2,s?r.call(s,a,i):r(a,i)):ec(n,y+2)}function mn(n,t){const e=$t();let r;const a=n+20;e.firstCreatePass?(r=function sU(n,t){if(t)for(let e=t.length-1;e>=0;e--){const r=t[e];if(n===r.name)return r}}(t,e.pipeRegistry),e.data[a]=r,r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(a,r.onDestroy)):r=e.data[a];const i=r.factory||(r.factory=v4(r.type)),s=d4(P1);try{const y=mi(!1),V=i();return mi(y),function ER(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}(e,T2(),a,V),V}finally{d4(s)}}function yn(n,t,e,r){const a=n+20,i=T2(),s=Or(i,a);return tc(i,a)?lM(i,v(),t,s.transform,e,r,s):s.transform(e,r)}function tc(n,t){return n[1].data[t].pure}function Yp(n){return t=>{setTimeout(n,void 0,t)}}const Yt=class fU extends j{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,r){var a,i,s;let y=t,V=e||(()=>null),ne=r;if(t&&"object"==typeof t){const we=t;y=null===(a=we.next)||void 0===a?void 0:a.bind(we),V=null===(i=we.error)||void 0===i?void 0:i.bind(we),ne=null===(s=we.complete)||void 0===s?void 0:s.bind(we)}this.__isAsync&&(V=Yp(V),y&&(y=Yp(y)),ne&&(ne=Yp(ne)));const pe=super.subscribe({next:y,error:V,complete:ne});return t instanceof c&&t.add(pe),pe}};function dU(){return this._results[l5()]()}class Kp{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=l5(),r=Kp.prototype;r[e]||(r[e]=dU)}get changes(){return this._changes||(this._changes=new Yt)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const r=this;r.dirty=!1;const a=P3(t);(this._changesDetected=!function D8(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let a=n[r],i=t[r];if(e&&(a=e(a),i=e(i)),i!==a)return!1}return!0}(r._results,a,e))&&(r._results=a,r.length=a.length,r.last=a[this.length-1],r.first=a[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let N3=(()=>{class n{}return n.__NG_ELEMENT_ID__=CU,n})();const hU=N3,pU=class extends hU{constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(t){const e=this._declarationTContainer.tViews,r=is(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const i=this._declarationLView[19];return null!==i&&(r[19]=i.createEmbeddedView(e)),ls(e,r,t),new Zl(r)}};function CU(){return du(d3(),T2())}function du(n,t){return 4&n.type?new pU(t,n,L5(n,t)):null}let qa=(()=>{class n{}return n.__NG_ELEMENT_ID__=gU,n})();function gU(){return CM(d3(),T2())}const mU=qa,hM=class extends mU{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return L5(this._hostTNode,this._hostLView)}get injector(){return new Ji(this._hostTNode,this._hostLView)}get parentInjector(){const t=Uo(this._hostTNode,this._hostLView);if(Q4(t)){const e=ka(t,this._hostLView),r=I3(t);return new Ji(e[1].data[r+8],e)}return new Ji(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=pM(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,r){const a=t.createEmbeddedView(e||{});return this.insert(a,r),a}createComponent(t,e,r,a,i){const s=t&&!function Yo(n){return"function"==typeof n}(t);let y;if(s)y=e;else{const we=e||{};y=we.index,r=we.injector,a=we.projectableNodes,i=we.ngModuleRef}const V=s?t:new Wp(Yn(t)),ne=r||this.parentInjector;if(!i&&null==V.ngModule){const ke=(s?ne:this.parentInjector).get(lo,null);ke&&(i=ke)}const pe=V.create(ne,a,void 0,i);return this.insert(pe.hostView,y),pe}insert(t,e){const r=t._lView,a=r[1];if(function m8(n){return G3(n[3])}(r)){const pe=this.indexOf(t);if(-1!==pe)this.detach(pe);else{const we=r[3],ke=new hM(we,we[6],we[3]);ke.detach(ke.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function zh(n,t,e,r){const a=10+r,i=e.length;r>0&&(e[a-1][4]=t),r<i-10?(t[4]=e[a],Na(e,10+r,t)):(e.push(t),t[4]=null),t[3]=e;const s=t[17];null!==s&&e!==s&&function G6(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(s,t);const y=t[19];null!==y&&y.insertView(n),t[2]|=128}(a,r,s,i);const y=ol(i,s),V=r[11],ne=io(V,s[7]);return null!==ne&&function Vh(n,t,e,r,a,i){r[0]=a,r[6]=t,y0(n,r,e,1,a,i)}(a,s[6],V,r,ne,y),t.attachToViewContainerRef(),Na(Zp(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=pM(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),r=$6(this._lContainer,e);r&&(e0(Zp(this._lContainer),e),tl(r[1],r))}detach(t){const e=this._adjustIndex(t,-1),r=$6(this._lContainer,e);return r&&null!=e0(Zp(this._lContainer),e)?new Zl(r):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function pM(n){return n[8]}function Zp(n){return n[8]||(n[8]=[])}function CM(n,t){let e;const r=t[n.index];if(G3(r))e=r;else{let a;if(8&n.type)a=Xn(r);else{const i=t[11];a=i.createComment("");const s=O3(n,t);ao(i,io(i,s),a,function Nh(n,t){return Jn(n)?n.nextSibling(t):t.nextSibling}(i,s),!1)}t[n.index]=e=G9(r,t,a,n),i5(t,e)}return new hM(e,n,t)}class Jp{constructor(t){this.queryList=t,this.matches=null}clone(){return new Jp(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xp{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const r=null!==t.contentQueries?t.contentQueries[0]:e.length,a=[];for(let i=0;i<r;i++){const s=e.getByIndex(i);a.push(this.queries[s.indexInDeclarationView].clone())}return new Xp(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==_M(t,e).matches&&this.queries[e].setDirty()}}class gM{constructor(t,e,r=null){this.predicate=t,this.flags=e,this.read=r}}class Qp{constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){const a=null!==e?e.length:0,i=this.getByIndex(r).embeddedTView(t,a);i&&(i.indexInDeclarationView=r,null!==e?e.push(i):e=[i])}return null!==e?new Qp(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class eC{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new eC(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let a=0;a<r.length;a++){const i=r[a];this.matchTNodeWithReadOption(t,e,_U(e,i)),this.matchTNodeWithReadOption(t,e,Js(e,t,i,!1,!1))}else r===N3?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Js(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(null!==r){const a=this.metadata.read;if(null!==a)if(a===Wn||a===qa||a===N3&&4&e.type)this.addMatch(e.index,-2);else{const i=Js(e,t,a,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,r)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function _U(n,t){const e=n.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1];return null}function MU(n,t,e,r){return-1===e?function bU(n,t){return 11&n.type?L5(n,t):4&n.type?du(n,t):null}(t,n):-2===e?function xU(n,t,e){return e===Wn?L5(t,n):e===N3?du(t,n):e===qa?CM(t,n):void 0}(n,t,r):Xs(n,n[1],e,t)}function mM(n,t,e,r){const a=t[19].queries[r];if(null===a.matches){const i=n.data,s=e.matches,y=[];for(let V=0;V<s.length;V+=2){const ne=s[V];y.push(ne<0?null:MU(t,i[ne],s[V+1],e.metadata.read))}a.matches=y}return a.matches}function tC(n,t,e,r){const a=n.queries.getByIndex(e),i=a.matches;if(null!==i){const s=mM(n,t,a,e);for(let y=0;y<i.length;y+=2){const V=i[y];if(V>0)r.push(s[y/2]);else{const ne=i[y+1],pe=t[-V];for(let we=10;we<pe.length;we++){const ke=pe[we];ke[17]===ke[3]&&tC(ke[1],ke,ne,r)}if(null!==pe[9]){const we=pe[9];for(let ke=0;ke<we.length;ke++){const qe=we[ke];tC(qe[1],qe,ne,r)}}}}}return r}function y3(n){const t=T2(),e=$t(),r=a1();s1(r+1);const a=_M(e,r);if(n.dirty&&$s(t)===(2==(2&a.metadata.flags))){if(null===a.matches)n.reset([]);else{const i=a.crossesNgTemplate?tC(e,t,r,[]):mM(e,t,a,r);n.reset(i,jB),n.notifyOnChanges()}return!0}return!1}function hu(n,t,e){const r=$t();r.firstCreatePass&&(yM(r,new gM(n,t,e),-1),2==(2&t)&&(r.staticViewQueries=!0)),vM(r,T2(),t)}function R3(n,t,e,r){const a=$t();if(a.firstCreatePass){const i=d3();yM(a,new gM(t,e,r),i.index),function wU(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(a,n),2==(2&e)&&(a.staticContentQueries=!0)}vM(a,T2(),e)}function _3(){return function LU(n,t){return n[19].queries[t].queryList}(T2(),a1())}function vM(n,t,e){const r=new Kp(4==(4&e));xl(n,t,r,r.destroy),null===t[19]&&(t[19]=new Xp),t[19].queries.push(new Jp(r))}function yM(n,t,e){null===n.queries&&(n.queries=new Qp),n.queries.track(new eC(t,e))}function _M(n,t){return n.queries.getByIndex(t)}function gu(...n){}const mu=new tn("Application Initializer");let sC=(()=>{class n{constructor(e){this.appInits=e,this.resolve=gu,this.reject=gu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,a)=>{this.resolve=r,this.reject=a})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let a=0;a<this.appInits.length;a++){const i=this.appInits[a]();if(Ul(i))e.push(i);else if(Ap(i)){const s=new Promise((y,V)=>{i.subscribe({complete:y,error:V})});e.push(s)}}Promise.all(e).then(()=>{r()}).catch(a=>{this.reject(a)}),0===e.length&&r(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(J2(mu,8))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rc=new tn("AppId",{providedIn:"root",factory:function IM(){return`${lC()}${lC()}${lC()}`}});function lC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const PM=new tn("Platform Initializer"),ac=new tn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),RM=new tn("appBootstrapListener");let UU=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ds=new tn("LocaleId",{providedIn:"root",factory:()=>z8(ds,St.Optional|St.SkipSelf)||function jU(){return"undefined"!=typeof $localize&&$localize.locale||ou}()});class $U{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let FM=(()=>{class n{compileModuleSync(e){return new qp(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),i=ra(fr(e).declarations).reduce((s,y)=>{const V=Yn(y);return V&&s.push(new Wp(V)),s},[]);return new $U(r,i)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qU=(()=>Promise.resolve(0))();function cC(n){"undefined"==typeof Zone?qU.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Qn{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yt(!1),this.onMicrotaskEmpty=new Yt(!1),this.onStable=new Yt(!1),this.onError=new Yt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!r&&e,a.shouldCoalesceRunChangeDetection=r,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function YU(){let n=wn.requestAnimationFrame,t=wn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function JU(n){const t=()=>{!function ZU(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(wn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,fC(n),n.isCheckStableRunning=!0,uC(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),fC(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,a,i,s,y)=>{try{return BM(n),e.invokeTask(a,i,s,y)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||n.shouldCoalesceRunChangeDetection)&&t(),UM(n)}},onInvoke:(e,r,a,i,s,y,V)=>{try{return BM(n),e.invoke(a,i,s,y,V)}finally{n.shouldCoalesceRunChangeDetection&&t(),UM(n)}},onHasTask:(e,r,a,i)=>{e.hasTask(a,i),r===a&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,fC(n),uC(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,r,a,i)=>(e.handleError(a,i),n.runOutsideAngular(()=>n.onError.emit(i)),!1)})}(a)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qn.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Qn.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,a){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+a,t,KU,gu,gu);try{return i.runTask(s,e,r)}finally{i.cancelTask(s)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}}const KU={};function uC(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function fC(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function BM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function UM(n){n._nesting--,uC(n)}class XU{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yt,this.onMicrotaskEmpty=new Yt,this.onStable=new Yt,this.onError=new Yt}run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,a){return t.apply(e,r)}}let dC=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qn.assertNotInAngularZone(),cC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())cC(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,a){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:a})}whenStable(e,r,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,a),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,r,a){return[]}}return n.\u0275fac=function(e){return new(e||n)(J2(Qn))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})(),QU=(()=>{class n{constructor(){this._applications=new Map,hC.addToWindow(this)}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return hC.findTestabilityInTree(this,e,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class ej{addToWindow(t){}findTestabilityInTree(t,e,r){return null}}let hC=new ej,H0=null;const jM=new tn("AllowMultipleToken"),GM=new tn("PlatformOnDestroy");class $M{constructor(t,e){this.name=t,this.token=e}}function WM(n,t,e=[]){const r=`Platform: ${t}`,a=new tn(r);return(i=[])=>{let s=pC();if(!s||s.injector.get(jM,!1)){const y=[...e,...i,{provide:a,useValue:!0}];n?n(y):function aj(n){if(H0&&!H0.get(jM,!1))throw new B2(400,"");H0=n;const t=n.get(qM),e=n.get(PM,null);e&&e.forEach(r=>r())}(function oj(n=[],t){return m1.create({name:t,providers:[{provide:Nl,useValue:"platform"},{provide:GM,useValue:()=>H0=null},...n]})}(y,r))}return function ij(n){const t=pC();if(!t)throw new B2(401,"");return t}()}}function pC(){var n;return null!==(n=null==H0?void 0:H0.get(qM))&&void 0!==n?n:null}let qM=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const y=function sj(n,t){let e;return e="noop"===n?new XU:("zone.js"===n?void 0:n)||new Qn({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),V=[{provide:Qn,useValue:y}];return y.run(()=>{const ne=m1.create({providers:V,parent:this.injector,name:e.moduleType.name}),pe=e.create(ne),we=pe.injector.get(g0,null);if(!we)throw new B2(402,"");return y.runOutsideAngular(()=>{const ke=y.onError.subscribe({next:qe=>{we.handleError(qe)}});pe.onDestroy(()=>{CC(this._modules,pe),ke.unsubscribe()})}),function lj(n,t,e){try{const r=e();return Ul(r)?r.catch(a=>{throw t.runOutsideAngular(()=>n.handleError(a)),a}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}(we,y,()=>{const ke=pe.injector.get(sC);return ke.runInitializers(),ke.donePromise.then(()=>(function WF(n){Nt(n,"Expected localeId to be defined"),"string"==typeof n&&(Tb=n.toLowerCase().replace(/_/g,"-"))}(pe.injector.get(ds,ou)||ou),this._moduleDoBootstrap(pe),pe))})})}bootstrapModule(e,r=[]){const a=YM({},r);return function nj(n,t,e){const r=new qp(e);return Promise.resolve(r)}(0,0,e).then(i=>this.bootstrapModuleFactory(i,a))}_moduleDoBootstrap(e){const r=e.injector.get(ic);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(a=>r.bootstrap(a));else{if(!e.instance.ngDoBootstrap)throw new B2(403,"");e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new B2(404,"");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(GM,null);null==e||e(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(J2(m1))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function YM(n,t){return Array.isArray(t)?t.reduce(YM,n):Object.assign(Object.assign({},n),t)}let ic=(()=>{class n{constructor(e,r,a,i){this._zone=e,this._injector=r,this._exceptionHandler=a,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new me(V=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{V.next(this._stable),V.complete()})}),y=new me(V=>{let ne;this._zone.runOutsideAngular(()=>{ne=this._zone.onStable.subscribe(()=>{Qn.assertNotInAngularZone(),cC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,V.next(!0))})})});const pe=this._zone.onUnstable.subscribe(()=>{Qn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{V.next(!1)}))});return()=>{ne.unsubscribe(),pe.unsubscribe()}});this.isStable=S2(s,y.pipe(function Y1(n={}){const{connector:t=(()=>new j),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:a=!0}=n;return i=>{let s=null,y=null,V=null,ne=0,pe=!1,we=!1;const ke=()=>{null==y||y.unsubscribe(),y=null},qe=()=>{ke(),s=V=null,pe=we=!1},S1=()=>{const y1=s;qe(),null==y1||y1.unsubscribe()};return F((y1,c2)=>{ne++,!we&&!pe&&ke();const h2=V=null!=V?V:t();c2.add(()=>{ne--,0===ne&&!we&&!pe&&(y=t2(S1,a))}),h2.subscribe(c2),s||(s=new B({next:W1=>h2.next(W1),error:W1=>{we=!0,ke(),y=t2(qe,e,W1),h2.error(W1)},complete:()=>{pe=!0,ke(),y=t2(qe,r),h2.complete()}}),O2(y1).subscribe(s))})(i)}}()))}bootstrap(e,r){if(!this._initStatus.done)throw new B2(405,"");let a;a=e instanceof Qb?e:this._injector.get(x5).resolveComponentFactory(e),this.componentTypes.push(a.componentType);const i=function rj(n){return n.isBoundToModule}(a)?void 0:this._injector.get(lo),y=a.create(m1.NULL,[],r||a.selector,i),V=y.location.nativeElement,ne=y.injector.get(dC,null),pe=ne&&y.injector.get(QU);return ne&&pe&&pe.registerApplication(V,ne),y.onDestroy(()=>{this.detachView(y.hostView),CC(this.components,y),pe&&pe.unregisterApplication(V)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new B2(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;CC(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(RM,[]).concat(this._bootstrapListeners).forEach(a=>a(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(J2(Qn),J2(m1),J2(g0),J2(sC))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function CC(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let ZM=!0,Ya=(()=>{class n{}return n.__NG_ELEMENT_ID__=fj,n})();function fj(n){return function dj(n,t,e){if(p2(n)&&!e){const r=Mr(n.index,t);return new Zl(r,r)}return 47&n.type?new Zl(t[16],t):null}(d3(),T2(),16==(16&n))}class tx{constructor(){}supports(t){return Pl(t)}create(t){return new vj(t)}}const mj=(n,t)=>t;class vj{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||mj}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,a=0,i=null;for(;e||r;){const s=!r||e&&e.currentIndex<rx(r,a,i)?e:r,y=rx(s,a,i),V=s.currentIndex;if(s===r)a--,r=r._nextRemoved;else if(e=e._next,null==s.previousIndex)a++;else{i||(i=[]);const ne=y-a,pe=V-a;if(ne!=pe){for(let ke=0;ke<ne;ke++){const qe=ke<i.length?i[ke]:i[ke]=0,S1=qe+ke;pe<=S1&&S1<ne&&(i[ke]=qe+1)}i[s.previousIndex]=pe-ne}}y!==V&&t(s,y,V)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Pl(t))throw new B2(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,i,s,e=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let y=0;y<this.length;y++)i=t[y],s=this._trackByFn(y,i),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,i,s,y)),Object.is(e.item,i)||this._addIdentityChange(e,i)):(e=this._mismatch(e,i,s,y),r=!0),e=e._next}else a=0,function zR(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[l5()]();let r;for(;!(r=e.next()).done;)t(r.value)}}(t,y=>{s=this._trackByFn(a,y),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,y,s,a)),Object.is(e.item,y)||this._addIdentityChange(e,y)):(e=this._mismatch(e,y,s,a),r=!0),e=e._next,a++}),this.length=a;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,a){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,a))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,a)):t=this._addAfter(new yj(e,r),i,a),t}_verifyReinsertion(t,e,r,a){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?t=this._reinsertAfter(i,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,i=t._nextRemoved;return null===a?this._removalsHead=i:a._nextRemoved=i,null===i?this._removalsTail=a:i._prevRemoved=a,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){const a=null===e?this._itHead:e._next;return t._next=a,t._prev=e,null===a?this._itTail=t:a._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new nx),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,r=t._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nx),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class yj{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _j{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const e=t._prevDup,r=t._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class nx{constructor(){this.map=new Map}put(t){const e=t.trackById;let r=this.map.get(e);r||(r=new _j,this.map.set(e,r)),r.add(t)}get(t,e){const a=this.map.get(t);return a?a.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rx(n,t,e){const r=n.previousIndex;if(null===r)return r;let a=0;return e&&r<e.length&&(a=e[r]),r+t+a}class ax{constructor(){}supports(t){return t instanceof Map||Lp(t)}create(){return new bj}}class bj{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Lp(t)))throw new B2(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,a)=>{if(e&&e.key===a)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(a,r);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const r=t._prev;return e._next=t,e._prev=r,t._prev=e,r&&(r._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,e);const i=a._prev,s=a._next;return i&&(i._next=s),s&&(s._prev=i),a._next=null,a._prev=null,a}const r=new Mj(t);return this._records.set(t,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(r=>e(t[r],r))}}class Mj{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ix(){return new _u([new tx])}let _u=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(null!=r){const a=r.factories.slice();e=e.concat(a)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||ix()),deps:[[n,new o0,new Ia]]}}find(e){const r=this.factories.find(a=>a.supports(e));if(null!=r)return r;throw new B2(901,"")}}return n.\u0275prov=ot({token:n,providedIn:"root",factory:ix}),n})();function ox(){return new oc([new ax])}let oc=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(r){const a=r.factories.slice();e=e.concat(a)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||ox()),deps:[[n,new o0,new Ia]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(r)return r;throw new B2(901,"")}}return n.\u0275prov=ot({token:n,providedIn:"root",factory:ox}),n})();const wj=WM(null,"core",[]);let Dj=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(J2(ic))},n.\u0275mod=en({type:n}),n.\u0275inj=wt({}),n})(),bu=null;function Si(){return bu}const Z3=new tn("DocumentToken");let A0=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:function(){return function Vj(){return J2(sx)}()},providedIn:"platform"}),n})();const Aj=new tn("Location Initialized");let sx=(()=>{class n extends A0{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Si().getBaseHref(this._doc)}onPopState(e){const r=Si().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Si().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,a){lx()?this._history.pushState(e,r,a):this.location.hash=a}replaceState(e,r,a){lx()?this._history.replaceState(e,r,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(J2(Z3))},n.\u0275prov=ot({token:n,factory:function(){return function kj(){return new sx(J2(Z3))}()},providedIn:"platform"}),n})();function lx(){return!!window.history.pushState}function _C(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function cx(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function fo(n){return n&&"?"!==n[0]?"?"+n:n}let S5=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:function(){return function zj(n){const t=J2(Z3).location;return new ux(J2(A0),t&&t.origin||"")}()},providedIn:"root"}),n})();const bC=new tn("appBaseHref");let ux=(()=>{class n extends S5{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return _C(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+fo(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${r}${a}`:r}pushState(e,r,a,i){const s=this.prepareExternalUrl(a+fo(i));this._platformLocation.pushState(e,r,s)}replaceState(e,r,a,i){const s=this.prepareExternalUrl(a+fo(i));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(J2(A0),J2(bC,8))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})(),Nj=(()=>{class n extends S5{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=_C(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,a,i){let s=this.prepareExternalUrl(a+fo(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,a,i){let s=this.prepareExternalUrl(a+fo(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(J2(A0),J2(bC,8))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})(),MC=(()=>{class n{constructor(e,r){this._subject=new Yt,this._urlChangeListeners=[],this._platformStrategy=e;const a=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=cx(fx(a)),this._platformStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+fo(r))}normalize(e){return n.stripTrailingSlash(function Oj(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,fx(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",a=null){this._platformStrategy.pushState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fo(r)),a)}replaceState(e,r="",a=null){this._platformStrategy.replaceState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fo(r)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformStrategy).historyGo)||void 0===a||a.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(a=>a(e,r))}subscribe(e,r,a){return this._subject.subscribe({next:e,error:r,complete:a})}}return n.normalizeQueryParams=fo,n.joinWithSlash=_C,n.stripTrailingSlash=cx,n.\u0275fac=function(e){return new(e||n)(J2(S5),J2(A0))},n.\u0275prov=ot({token:n,factory:function(){return function Ej(){return new MC(J2(S5),J2(A0))}()},providedIn:"root"}),n})();function fx(n){return n.replace(/\/index.html$/,"")}var w4=(()=>((w4=w4||{})[w4.Decimal=0]="Decimal",w4[w4.Percent=1]="Percent",w4[w4.Currency=2]="Currency",w4[w4.Scientific=3]="Scientific",w4))(),F3=(()=>((F3=F3||{})[F3.Format=0]="Format",F3[F3.Standalone=1]="Standalone",F3))(),_n=(()=>((_n=_n||{})[_n.Narrow=0]="Narrow",_n[_n.Abbreviated=1]="Abbreviated",_n[_n.Wide=2]="Wide",_n[_n.Short=3]="Short",_n))(),D3=(()=>((D3=D3||{})[D3.Short=0]="Short",D3[D3.Medium=1]="Medium",D3[D3.Long=2]="Long",D3[D3.Full=3]="Full",D3))(),zt=(()=>((zt=zt||{})[zt.Decimal=0]="Decimal",zt[zt.Group=1]="Group",zt[zt.List=2]="List",zt[zt.PercentSign=3]="PercentSign",zt[zt.PlusSign=4]="PlusSign",zt[zt.MinusSign=5]="MinusSign",zt[zt.Exponential=6]="Exponential",zt[zt.SuperscriptingExponent=7]="SuperscriptingExponent",zt[zt.PerMille=8]="PerMille",zt[zt.Infinity=9]="Infinity",zt[zt.NaN=10]="NaN",zt[zt.TimeSeparator=11]="TimeSeparator",zt[zt.CurrencyDecimal=12]="CurrencyDecimal",zt[zt.CurrencyGroup=13]="CurrencyGroup",zt))();function Mu(n,t){return sa(i4(n)[at.DateFormat],t)}function xu(n,t){return sa(i4(n)[at.TimeFormat],t)}function Lu(n,t){return sa(i4(n)[at.DateTimeFormat],t)}function oa(n,t){const e=i4(n),r=e[at.NumberSymbols][t];if(void 0===r){if(t===zt.CurrencyDecimal)return e[at.NumberSymbols][zt.Decimal];if(t===zt.CurrencyGroup)return e[at.NumberSymbols][zt.Group]}return r}function hx(n){if(!n[at.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[at.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function sa(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function LC(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Kj=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,sc={},Zj=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var rr=(()=>((rr=rr||{})[rr.Short=0]="Short",rr[rr.ShortGMT=1]="ShortGMT",rr[rr.Long=2]="Long",rr[rr.Extended=3]="Extended",rr))(),Et=(()=>((Et=Et||{})[Et.FullYear=0]="FullYear",Et[Et.Month=1]="Month",Et[Et.Date=2]="Date",Et[Et.Hours=3]="Hours",Et[Et.Minutes=4]="Minutes",Et[Et.Seconds=5]="Seconds",Et[Et.FractionalSeconds=6]="FractionalSeconds",Et[Et.Day=7]="Day",Et))(),sn=(()=>((sn=sn||{})[sn.DayPeriods=0]="DayPeriods",sn[sn.Days=1]="Days",sn[sn.Months=2]="Months",sn[sn.Eras=3]="Eras",sn))();function Jj(n,t,e,r){let a=function oG(n){if(gx(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[a,i=1,s=1]=n.split("-").map(y=>+y);return wu(a,i-1,s)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(Kj))return function sG(n){const t=new Date(0);let e=0,r=0;const a=n[8]?t.setUTCFullYear:t.setFullYear,i=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),a.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-e,y=Number(n[5]||0)-r,V=Number(n[6]||0),ne=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return i.call(t,s,y,V,ne),t}(r)}const t=new Date(n);if(!gx(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=ho(e,t)||t;let y,s=[];for(;t;){if(y=Zj.exec(t),!y){s.push(t);break}{s=s.concat(y.slice(1));const pe=s.pop();if(!pe)break;t=pe}}let V=a.getTimezoneOffset();r&&(V=Cx(r,V),a=function iG(n,t,e){const r=e?-1:1,a=n.getTimezoneOffset();return function aG(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,r*(Cx(t,a)-a))}(a,r,!0));let ne="";return s.forEach(pe=>{const we=function rG(n){if(DC[n])return DC[n];let t;switch(n){case"G":case"GG":case"GGG":t=r3(sn.Eras,_n.Abbreviated);break;case"GGGG":t=r3(sn.Eras,_n.Wide);break;case"GGGGG":t=r3(sn.Eras,_n.Narrow);break;case"y":t=X3(Et.FullYear,1,0,!1,!0);break;case"yy":t=X3(Et.FullYear,2,0,!0,!0);break;case"yyy":t=X3(Et.FullYear,3,0,!1,!0);break;case"yyyy":t=X3(Et.FullYear,4,0,!1,!0);break;case"Y":t=Hu(1);break;case"YY":t=Hu(2,!0);break;case"YYY":t=Hu(3);break;case"YYYY":t=Hu(4);break;case"M":case"L":t=X3(Et.Month,1,1);break;case"MM":case"LL":t=X3(Et.Month,2,1);break;case"MMM":t=r3(sn.Months,_n.Abbreviated);break;case"MMMM":t=r3(sn.Months,_n.Wide);break;case"MMMMM":t=r3(sn.Months,_n.Narrow);break;case"LLL":t=r3(sn.Months,_n.Abbreviated,F3.Standalone);break;case"LLLL":t=r3(sn.Months,_n.Wide,F3.Standalone);break;case"LLLLL":t=r3(sn.Months,_n.Narrow,F3.Standalone);break;case"w":t=wC(1);break;case"ww":t=wC(2);break;case"W":t=wC(1,!0);break;case"d":t=X3(Et.Date,1);break;case"dd":t=X3(Et.Date,2);break;case"c":case"cc":t=X3(Et.Day,1);break;case"ccc":t=r3(sn.Days,_n.Abbreviated,F3.Standalone);break;case"cccc":t=r3(sn.Days,_n.Wide,F3.Standalone);break;case"ccccc":t=r3(sn.Days,_n.Narrow,F3.Standalone);break;case"cccccc":t=r3(sn.Days,_n.Short,F3.Standalone);break;case"E":case"EE":case"EEE":t=r3(sn.Days,_n.Abbreviated);break;case"EEEE":t=r3(sn.Days,_n.Wide);break;case"EEEEE":t=r3(sn.Days,_n.Narrow);break;case"EEEEEE":t=r3(sn.Days,_n.Short);break;case"a":case"aa":case"aaa":t=r3(sn.DayPeriods,_n.Abbreviated);break;case"aaaa":t=r3(sn.DayPeriods,_n.Wide);break;case"aaaaa":t=r3(sn.DayPeriods,_n.Narrow);break;case"b":case"bb":case"bbb":t=r3(sn.DayPeriods,_n.Abbreviated,F3.Standalone,!0);break;case"bbbb":t=r3(sn.DayPeriods,_n.Wide,F3.Standalone,!0);break;case"bbbbb":t=r3(sn.DayPeriods,_n.Narrow,F3.Standalone,!0);break;case"B":case"BB":case"BBB":t=r3(sn.DayPeriods,_n.Abbreviated,F3.Format,!0);break;case"BBBB":t=r3(sn.DayPeriods,_n.Wide,F3.Format,!0);break;case"BBBBB":t=r3(sn.DayPeriods,_n.Narrow,F3.Format,!0);break;case"h":t=X3(Et.Hours,1,-12);break;case"hh":t=X3(Et.Hours,2,-12);break;case"H":t=X3(Et.Hours,1);break;case"HH":t=X3(Et.Hours,2);break;case"m":t=X3(Et.Minutes,1);break;case"mm":t=X3(Et.Minutes,2);break;case"s":t=X3(Et.Seconds,1);break;case"ss":t=X3(Et.Seconds,2);break;case"S":t=X3(Et.FractionalSeconds,1);break;case"SS":t=X3(Et.FractionalSeconds,2);break;case"SSS":t=X3(Et.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Su(rr.Short);break;case"ZZZZZ":t=Su(rr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Su(rr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Su(rr.Long);break;default:return null}return DC[n]=t,t}(pe);ne+=we?we(a,e,V):"''"===pe?"'":pe.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ne}function wu(n,t,e){const r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function ho(n,t){const e=function Ij(n){return i4(n)[at.LocaleId]}(n);if(sc[e]=sc[e]||{},sc[e][t])return sc[e][t];let r="";switch(t){case"shortDate":r=Mu(n,D3.Short);break;case"mediumDate":r=Mu(n,D3.Medium);break;case"longDate":r=Mu(n,D3.Long);break;case"fullDate":r=Mu(n,D3.Full);break;case"shortTime":r=xu(n,D3.Short);break;case"mediumTime":r=xu(n,D3.Medium);break;case"longTime":r=xu(n,D3.Long);break;case"fullTime":r=xu(n,D3.Full);break;case"short":const a=ho(n,"shortTime"),i=ho(n,"shortDate");r=Du(Lu(n,D3.Short),[a,i]);break;case"medium":const s=ho(n,"mediumTime"),y=ho(n,"mediumDate");r=Du(Lu(n,D3.Medium),[s,y]);break;case"long":const V=ho(n,"longTime"),ne=ho(n,"longDate");r=Du(Lu(n,D3.Long),[V,ne]);break;case"full":const pe=ho(n,"fullTime"),we=ho(n,"fullDate");r=Du(Lu(n,D3.Full),[pe,we])}return r&&(sc[e][t]=r),r}function Du(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return null!=t&&r in t?t[r]:e})),n}function Ka(n,t,e="-",r,a){let i="";(n<0||a&&n<=0)&&(a?n=1-n:(n=-n,i=e));let s=String(n);for(;s.length<t;)s="0"+s;return r&&(s=s.substr(s.length-t)),i+s}function X3(n,t,e=0,r=!1,a=!1){return function(i,s){let y=function Qj(n,t){switch(n){case Et.FullYear:return t.getFullYear();case Et.Month:return t.getMonth();case Et.Date:return t.getDate();case Et.Hours:return t.getHours();case Et.Minutes:return t.getMinutes();case Et.Seconds:return t.getSeconds();case Et.FractionalSeconds:return t.getMilliseconds();case Et.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,i);if((e>0||y>-e)&&(y+=e),n===Et.Hours)0===y&&-12===e&&(y=12);else if(n===Et.FractionalSeconds)return function Xj(n,t){return Ka(n,3).substr(0,t)}(y,t);const V=oa(s,zt.MinusSign);return Ka(y,t,V,r,a)}}function r3(n,t,e=F3.Format,r=!1){return function(a,i){return function eG(n,t,e,r,a,i){switch(e){case sn.Months:return function Fj(n,t,e){const r=i4(n),i=sa([r[at.MonthsFormat],r[at.MonthsStandalone]],t);return sa(i,e)}(t,a,r)[n.getMonth()];case sn.Days:return function Rj(n,t,e){const r=i4(n),i=sa([r[at.DaysFormat],r[at.DaysStandalone]],t);return sa(i,e)}(t,a,r)[n.getDay()];case sn.DayPeriods:const s=n.getHours(),y=n.getMinutes();if(i){const ne=function Gj(n){const t=i4(n);return hx(t),(t[at.ExtraData][2]||[]).map(r=>"string"==typeof r?LC(r):[LC(r[0]),LC(r[1])])}(t),pe=function $j(n,t,e){const r=i4(n);hx(r);const i=sa([r[at.ExtraData][0],r[at.ExtraData][1]],t)||[];return sa(i,e)||[]}(t,a,r),we=ne.findIndex(ke=>{if(Array.isArray(ke)){const[qe,S1]=ke,y1=s>=qe.hours&&y>=qe.minutes,c2=s<S1.hours||s===S1.hours&&y<S1.minutes;if(qe.hours<S1.hours){if(y1&&c2)return!0}else if(y1||c2)return!0}else if(ke.hours===s&&ke.minutes===y)return!0;return!1});if(-1!==we)return pe[we]}return function Pj(n,t,e){const r=i4(n),i=sa([r[at.DayPeriodsFormat],r[at.DayPeriodsStandalone]],t);return sa(i,e)}(t,a,r)[s<12?0:1];case sn.Eras:return function Bj(n,t){return sa(i4(n)[at.Eras],t)}(t,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(a,i,n,t,e,r)}}function Su(n){return function(t,e,r){const a=-1*r,i=oa(e,zt.MinusSign),s=a>0?Math.floor(a/60):Math.ceil(a/60);switch(n){case rr.Short:return(a>=0?"+":"")+Ka(s,2,i)+Ka(Math.abs(a%60),2,i);case rr.ShortGMT:return"GMT"+(a>=0?"+":"")+Ka(s,1,i);case rr.Long:return"GMT"+(a>=0?"+":"")+Ka(s,2,i)+":"+Ka(Math.abs(a%60),2,i);case rr.Extended:return 0===r?"Z":(a>=0?"+":"")+Ka(s,2,i)+":"+Ka(Math.abs(a%60),2,i);default:throw new Error(`Unknown zone width "${n}"`)}}}function px(n){return wu(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function wC(n,t=!1){return function(e,r){let a;if(t){const i=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();a=1+Math.floor((s+i)/7)}else{const i=px(e),s=function nG(n){const t=wu(n,0,1).getDay();return wu(n,0,1+(t<=4?4:11)-t)}(i.getFullYear()),y=i.getTime()-s.getTime();a=1+Math.round(y/6048e5)}return Ka(a,n,oa(r,zt.MinusSign))}}function Hu(n,t=!1){return function(e,r){return Ka(px(e).getFullYear(),n,oa(r,zt.MinusSign),t)}}const DC={};function Cx(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function gx(n){return n instanceof Date&&!isNaN(n.valueOf())}const lG=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function VC(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}let cc=(()=>{class n{constructor(e,r,a,i){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=a,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Pl(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${C2(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(a=>{r?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}}return n.\u0275fac=function(e){return new(e||n)(P1(_u),P1(oc),P1(Wn),P1(R4))},n.\u0275dir=U2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class bG{constructor(t,e,r,a){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let po=(()=>{class n{constructor(e,r,a){this._viewContainer=e,this._template=r,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((a,i,s)=>{if(null==a.previousIndex)r.createEmbeddedView(this._template,new bG(a.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const y=r.get(i);r.move(y,s),_x(y,a)}});for(let a=0,i=r.length;a<i;a++){const y=r.get(a).context;y.index=a,y.count=i,y.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{_x(r.get(a.currentIndex),a)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(P1(qa),P1(N3),P1(_u))},n.\u0275dir=U2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function _x(n,t){n.context.$implicit=t.item}let ar=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new MG,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){bx("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){bx("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(P1(qa),P1(N3))},n.\u0275dir=U2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class MG{constructor(){this.$implicit=null,this.ngIf=null}}function bx(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${C2(t)}'.`)}function Za(n,t){return new B2(2100,"")}class SG{createSubscription(t,e){return t.subscribe({next:e,error:r=>{throw r}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class TG{createSubscription(t,e){return t.then(e,r=>{throw r})}dispose(t){}onDestroy(t){}}const HG=new TG,VG=new SG;let xx=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if(Ul(e))return HG;if(F_(e))return VG;throw Za()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(P1(Ya,16))},n.\u0275pipe=E3({name:"async",type:n,pure:!1}),n})();const EG=new tn("DATE_PIPE_DEFAULT_TIMEZONE");let NC=(()=>{class n{constructor(e,r){this.locale=e,this.defaultTimezone=r}transform(e,r="mediumDate",a,i){var s;if(null==e||""===e||e!=e)return null;try{return Jj(e,r,i||this.locale,null!==(s=null!=a?a:this.defaultTimezone)&&void 0!==s?s:void 0)}catch(y){throw Za()}}}return n.\u0275fac=function(e){return new(e||n)(P1(ds,16),P1(EG,24))},n.\u0275pipe=E3({name:"date",type:n,pure:!0}),n})(),k0=(()=>{class n{constructor(e){this._locale=e}transform(e,r,a){if(!function EC(n){return!(null==n||""===n||n!=n)}(e))return null;a=a||this._locale;try{return function pG(n,t,e){return function TC(n,t,e,r,a,i,s=!1){let y="",V=!1;if(isFinite(n)){let ne=function gG(n){let r,a,i,s,y,t=Math.abs(n)+"",e=0;for((a=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(a<0&&(a=i),a+=+t.slice(i+1),t=t.substring(0,i)):a<0&&(a=t.length),i=0;"0"===t.charAt(i);i++);if(i===(y=t.length))r=[0],a=1;else{for(y--;"0"===t.charAt(y);)y--;for(a-=i,r=[],s=0;i<=y;i++,s++)r[s]=Number(t.charAt(i))}return a>22&&(r=r.splice(0,21),e=a-1,a=1),{digits:r,exponent:e,integerLen:a}}(n);s&&(ne=function CG(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(ne));let pe=t.minInt,we=t.minFrac,ke=t.maxFrac;if(i){const W1=i.match(lG);if(null===W1)throw new Error(`${i} is not a valid digit info`);const k2=W1[1],W2=W1[3],X2=W1[5];null!=k2&&(pe=VC(k2)),null!=W2&&(we=VC(W2)),null!=X2?ke=VC(X2):null!=W2&&we>ke&&(ke=we)}!function mG(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let r=n.digits,a=r.length-n.integerLen;const i=Math.min(Math.max(t,a),e);let s=i+n.integerLen,y=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let we=s;we<r.length;we++)r[we]=0}else{a=Math.max(0,a),n.integerLen=1,r.length=Math.max(1,s=i+1),r[0]=0;for(let we=1;we<s;we++)r[we]=0}if(y>=5)if(s-1<0){for(let we=0;we>s;we--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;a<Math.max(0,i);a++)r.push(0);let V=0!==i;const ne=t+n.integerLen,pe=r.reduceRight(function(we,ke,qe,S1){return S1[qe]=(ke+=we)<10?ke:ke-10,V&&(0===S1[qe]&&qe>=ne?S1.pop():V=!1),ke>=10?1:0},0);pe&&(r.unshift(pe),n.integerLen++)}(ne,we,ke);let qe=ne.digits,S1=ne.integerLen;const y1=ne.exponent;let c2=[];for(V=qe.every(W1=>!W1);S1<pe;S1++)qe.unshift(0);for(;S1<0;S1++)qe.unshift(0);S1>0?c2=qe.splice(S1,qe.length):(c2=qe,qe=[0]);const h2=[];for(qe.length>=t.lgSize&&h2.unshift(qe.splice(-t.lgSize,qe.length).join(""));qe.length>t.gSize;)h2.unshift(qe.splice(-t.gSize,qe.length).join(""));qe.length&&h2.unshift(qe.join("")),y=h2.join(oa(e,r)),c2.length&&(y+=oa(e,a)+c2.join("")),y1&&(y+=oa(e,zt.Exponential)+"+"+y1)}else y=oa(e,zt.Infinity);return y=n<0&&!V?t.negPre+y+t.negSuf:t.posPre+y+t.posSuf,y}(n,function HC(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),a=r[0],i=r[1],s=-1!==a.indexOf(".")?a.split("."):[a.substring(0,a.lastIndexOf("0")+1),a.substring(a.lastIndexOf("0")+1)],y=s[0],V=s[1]||"";e.posPre=y.substr(0,y.indexOf("#"));for(let pe=0;pe<V.length;pe++){const we=V.charAt(pe);"0"===we?e.minFrac=e.maxFrac=pe+1:"#"===we?e.maxFrac=pe+1:e.posSuf+=we}const ne=y.split(",");if(e.gSize=ne[1]?ne[1].length:0,e.lgSize=ne[2]||ne[1]?(ne[2]||ne[1]).length:0,i){const pe=a.length-e.posPre.length-e.posSuf.length,we=i.indexOf("#");e.negPre=i.substr(0,we).replace(/'/g,""),e.negSuf=i.substr(we+pe).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function xC(n,t){return i4(n)[at.NumberFormats][t]}(t,w4.Decimal),oa(t,zt.MinusSign)),t,zt.Group,zt.Decimal,e)}(function OC(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),a,r)}catch(i){throw Za()}}}return n.\u0275fac=function(e){return new(e||n)(P1(ds,16))},n.\u0275pipe=E3({name:"number",type:n,pure:!0}),n})();let D4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=en({type:n}),n.\u0275inj=wt({}),n})();const wx="browser";function IC(n){return n===wx}let YG=(()=>{class n{}return n.\u0275prov=ot({token:n,providedIn:"root",factory:()=>new KG(J2(Z3),window)}),n})();class KG{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function ZG(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=r.currentNode;for(;a;){const i=a.shadowRoot;if(i){const s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}a=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],a-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Dx(this.window.history)||Dx(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Dx(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class PC extends class XG extends class Hj{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Tj(n){bu||(bu=n)}(new PC)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function QG(){return fc=fc||document.querySelector("base"),fc?fc.getAttribute("href"):null}();return null==e?null:function e$(n){Au=Au||document.createElement("a"),Au.setAttribute("href",n);const t=Au.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){fc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function yG(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[a,i]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(a.trim()===t)return decodeURIComponent(i)}return null}(document.cookie,t)}}let Au,fc=null;const Sx=new tn("TRANSITION_ID"),n$=[{provide:mu,useFactory:function t$(n,t,e){return()=>{e.get(sC).donePromise.then(()=>{const r=Si(),a=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let i=0;i<a.length;i++)r.remove(a[i])})}},deps:[Sx,Z3,m1],multi:!0}];class RC{static init(){!function tj(n){hC=n}(new RC)}addToWindow(t){wn.getAngularTestability=(r,a=!0)=>{const i=t.findTestabilityInTree(r,a);if(null==i)throw new Error("Could not find testability for element.");return i},wn.getAllAngularTestabilities=()=>t.getAllTestabilities(),wn.getAllAngularRootElements=()=>t.getAllRootElements(),wn.frameworkStabilizers||(wn.frameworkStabilizers=[]),wn.frameworkStabilizers.push(r=>{const a=wn.getAllAngularTestabilities();let i=a.length,s=!1;const y=function(V){s=s||V,i--,0==i&&r(s)};a.forEach(function(V){V.whenStable(y)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const a=t.getTestability(e);return null!=a?a:r?Si().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let r$=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();const ku=new tn("EventManagerPlugins");let zu=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,a){return this._findPluginFor(r).addEventListener(e,r,a)}addGlobalEventListener(e,r,a){return this._findPluginFor(r).addGlobalEventListener(e,r,a)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const a=this._plugins;for(let i=0;i<a.length;i++){const s=a[i];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(J2(ku),J2(Qn))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();class Tx{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const a=Si().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,r)}}let Hx=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),r.add(a))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})(),dc=(()=>{class n extends Hx{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,a){e.forEach(i=>{const s=this._doc.createElement("style");s.textContent=i,a.push(r.appendChild(s))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(Vx),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,a)=>{this._addStylesToHost(e,a,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Vx))}}return n.\u0275fac=function(e){return new(e||n)(J2(Z3))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();function Vx(n){Si().remove(n)}const FC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},BC=/%COMP%/g;function Nu(n,t,e){for(let r=0;r<t.length;r++){let a=t[r];Array.isArray(a)?Nu(n,a,e):(a=a.replace(BC,n),e.push(a))}return e}function zx(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let UC=(()=>{class n{constructor(e,r,a){this.eventManager=e,this.sharedStylesHost=r,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new jC(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case jr.Emulated:{let a=this.rendererByCompId.get(r.id);return a||(a=new c$(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,a)),a.applyToHost(e),a}case 1:case jr.ShadowDom:return new u$(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const a=Nu(r.id,r.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(J2(zu),J2(dc),J2(rc))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();class jC{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(FC[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,a){if(a){e=a+":"+e;const i=FC[a];i?t.setAttributeNS(i,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const a=FC[r];a?t.removeAttributeNS(a,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,a){a&(e4.DashCase|e4.Important)?t.style.setProperty(e,r,a&e4.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&e4.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,zx(r)):this.eventManager.addEventListener(t,e,zx(r))}}class c$ extends jC{constructor(t,e,r,a){super(t),this.component=r;const i=Nu(a+"-"+r.id,r.styles,[]);e.addStyles(i),this.contentAttr=function o$(n){return"_ngcontent-%COMP%".replace(BC,n)}(a+"-"+r.id),this.hostAttr=function s$(n){return"_nghost-%COMP%".replace(BC,n)}(a+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class u$ extends jC{constructor(t,e,r,a){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Nu(a.id,a.styles,[]);for(let s=0;s<i.length;s++){const y=document.createElement("style");y.textContent=i[s],this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let f$=(()=>{class n extends Tx{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,a){return e.addEventListener(r,a,!1),()=>this.removeEventListener(e,r,a)}removeEventListener(e,r,a){return e.removeEventListener(r,a)}}return n.\u0275fac=function(e){return new(e||n)(J2(Z3))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();const Ex=["alt","control","meta","shift"],h$={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ox={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},p$={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let C$=(()=>{class n extends Tx{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,a){const i=n.parseEventName(r),s=n.eventCallback(i.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Si().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const r=e.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const i=n._normalizeKey(r.pop());let s="";if(Ex.forEach(V=>{const ne=r.indexOf(V);ne>-1&&(r.splice(ne,1),s+=V+".")}),s+=i,0!=r.length||0===i.length)return null;const y={};return y.domEventName=a,y.fullKey=s,y}static getEventFullKey(e){let r="",a=function g$(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Ox.hasOwnProperty(t)&&(t=Ox[t]))}return h$[t]||t}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Ex.forEach(i=>{i!=a&&p$[i](e)&&(r+=i+".")}),r+=a,r}static eventCallback(e,r,a){return i=>{n.getEventFullKey(i)===e&&a.runGuarded(()=>r(i))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(J2(Z3))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();const _$=WM(wj,"browser",[{provide:ac,useValue:wx},{provide:PM,useValue:function m$(){PC.makeCurrent(),RC.init()},multi:!0},{provide:Z3,useFactory:function y$(){return function c3(n){qi=n}(document),document},deps:[]}]),b$=[{provide:Nl,useValue:"root"},{provide:g0,useFactory:function v$(){return new g0},deps:[]},{provide:ku,useClass:f$,multi:!0,deps:[Z3,Qn,ac]},{provide:ku,useClass:C$,multi:!0,deps:[Z3]},{provide:UC,useClass:UC,deps:[zu,dc,rc]},{provide:Gp,useExisting:UC},{provide:Hx,useExisting:dc},{provide:dc,useClass:dc,deps:[Z3]},{provide:dC,useClass:dC,deps:[Qn]},{provide:zu,useClass:zu,deps:[ku,Qn]},{provide:class JG{},useClass:r$,deps:[]}];let M$=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:rc,useValue:e.appId},{provide:Sx,useExisting:rc},n$]}}}return n.\u0275fac=function(e){return new(e||n)(J2(n,12))},n.\u0275mod=en({type:n}),n.\u0275inj=wt({providers:b$,imports:[D4,Dj]}),n})();"undefined"!=typeof window&&window;let Rx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:function(e){let r=null;return r=e?new(e||n):J2(Fx),r},providedIn:"root"}),n})(),Fx=(()=>{class n extends Rx{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case $n.NONE:return r;case $n.HTML:return ta(r,"HTML")?Xr(r):K7(this._doc,String(r)).toString();case $n.STYLE:return ta(r,"Style")?Xr(r):r;case $n.SCRIPT:if(ta(r,"Script"))return Xr(r);throw new Error("unsafe value used in a script context");case $n.URL:return E8(r),ta(r,"URL")?Xr(r):d0(String(r));case $n.RESOURCE_URL:if(ta(r,"ResourceURL"))return Xr(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function R7(n){return new u0(n)}(e)}bypassSecurityTrustStyle(e){return function Kd(n){return new I7(n)}(e)}bypassSecurityTrustScript(e){return function O8(n){return new P7(n)}(e)}bypassSecurityTrustUrl(e){return function F7(n){return new qd(n)}(e)}bypassSecurityTrustResourceUrl(e){return function f0(n){return new Yd(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(J2(Z3))},n.\u0275prov=ot({token:n,factory:function(e){let r=null;return r=e?new e:function k$(n){return new Fx(n.get(Z3))}(J2(m1)),r},providedIn:"root"}),n})();const{isArray:z$}=Array,{getPrototypeOf:N$,prototype:E$,keys:O$}=Object;function Bx(n){if(1===n.length){const t=n[0];if(z$(t))return{args:t,keys:null};if(function I$(n){return n&&"object"==typeof n&&N$(n)===E$}(t)){const e=O$(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}const{isArray:P$}=Array;function $C(n){return R(t=>function R$(n,t){return P$(t)?n(...t):n(t)}(n,t))}function Ux(n,t){return n.reduce((e,r,a)=>(e[r]=t[a],e),{})}let jx=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(P1(R4),P1(Wn))},n.\u0275dir=U2({type:n}),n})(),z0=(()=>{class n extends jx{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=q3(n)))(r||n)}}(),n.\u0275dir=U2({type:n,features:[Fn]}),n})();const la=new tn("NgValueAccessor"),U$={provide:la,useExisting:A2(()=>Co),multi:!0},G$=new tn("CompositionEventMode");let Co=(()=>{class n extends jx{constructor(e,r,a){super(e,r),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function j$(){const n=Si()?Si().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(P1(R4),P1(Wn),P1(G$,8))},n.\u0275dir=U2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&_2("input",function(i){return r._handleInput(i.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(i){return r._compositionEnd(i.target.value)})},features:[Un([U$]),Fn]}),n})();function ps(n){return null==n||0===n.length}function $x(n){return null!=n&&"number"==typeof n.length}const ir=new tn("NgValidators"),Cs=new tn("NgAsyncValidators"),$$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class WC{static min(t){return Wx(t)}static max(t){return qx(t)}static required(t){return Yx(t)}static requiredTrue(t){return function Kx(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function Zx(n){return ps(n.value)||$$.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function Jx(n){return t=>ps(t.value)||!$x(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function Xx(n){return t=>$x(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Qx(n){if(!n)return Eu;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(ps(r.value))return null;const a=r.value;return t.test(a)?null:{pattern:{requiredPattern:e,actualValue:a}}}}(t)}static nullValidator(t){return null}static compose(t){return iL(t)}static composeAsync(t){return oL(t)}}function Wx(n){return t=>{if(ps(t.value)||ps(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function qx(n){return t=>{if(ps(t.value)||ps(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function Yx(n){return ps(n.value)?{required:!0}:null}function Eu(n){return null}function eL(n){return null!=n}function tL(n){const t=Ul(n)?O2(n):n;return Ap(t),t}function nL(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function rL(n,t){return t.map(e=>e(n))}function aL(n){return n.map(t=>function W$(n){return!n.validate}(t)?t:e=>t.validate(e))}function iL(n){if(!n)return null;const t=n.filter(eL);return 0==t.length?null:function(e){return nL(rL(e,t))}}function qC(n){return null!=n?iL(aL(n)):null}function oL(n){if(!n)return null;const t=n.filter(eL);return 0==t.length?null:function(e){return function F$(...n){const t=f2(n),{args:e,keys:r}=Bx(n),a=new me(i=>{const{length:s}=e;if(!s)return void i.complete();const y=new Array(s);let V=s,ne=s;for(let pe=0;pe<s;pe++){let we=!1;G1(e[pe]).subscribe(O(i,ke=>{we||(we=!0,ne--),y[pe]=ke},()=>V--,void 0,()=>{(!V||!we)&&(ne||i.next(r?Ux(r,y):y),i.complete())}))}});return t?a.pipe($C(t)):a}(rL(e,t).map(tL)).pipe(R(nL))}}function YC(n){return null!=n?oL(aL(n)):null}function sL(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function KC(n){return n?Array.isArray(n)?n:[n]:[]}function Ou(n,t){return Array.isArray(n)?n.includes(t):n===t}function uL(n,t){const e=KC(t);return KC(n).forEach(a=>{Ou(e,a)||e.push(a)}),e}function fL(n,t){return KC(t).filter(e=>!Ou(n,e))}class dL{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=qC(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=YC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class gs extends dL{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class s4 extends dL{get formDirective(){return null}get path(){return null}}class hL{constructor(t){this._cd=t}is(t){var e,r,a;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(a=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===a?void 0:a[t])}}let N0=(()=>{class n extends hL{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(P1(gs,2))},n.\u0275dir=U2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&ft("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[Fn]}),n})(),pL=(()=>{class n extends hL{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(P1(s4,10))},n.\u0275dir=U2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&ft("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[Fn]}),n})();function hc(n,t){XC(n,t),t.valueAccessor.writeValue(n.value),function eW(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&gL(n,t)})}(n,t),function nW(n,t){const e=(r,a)=>{t.valueAccessor.writeValue(r),a&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function tW(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&gL(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Q$(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Fu(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function XC(n,t){const e=function lL(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(sL(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=function cL(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(sL(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const a=()=>n.updateValueAndValidity();Fu(t._rawValidators,a),Fu(t._rawAsyncValidators,a)}function gL(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function tg(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const pc="VALID",Uu="INVALID",T5="PENDING",Cc="DISABLED";function rg(n){return(ju(n)?n.validators:n)||null}function _L(n){return Array.isArray(n)?qC(n):n||null}function ag(n,t){return(ju(t)?t.asyncValidators:n)||null}function bL(n){return Array.isArray(n)?YC(n):n||null}function ju(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const ig=n=>n instanceof sg;function xL(n){return(n=>n instanceof DL)(n)?n.value:n.getRawValue()}function LL(n,t){const e=ig(n),r=n.controls;if(!(e?Object.keys(r):r).length)throw new B2(1e3,"");if(!r[t])throw new B2(1001,"")}function wL(n,t){ig(n),n._forEachChild((r,a)=>{if(void 0===t[a])throw new B2(1002,"")})}class og{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=_L(this._rawValidators),this._composedAsyncValidatorFn=bL(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===pc}get invalid(){return this.status===Uu}get pending(){return this.status==T5}get disabled(){return this.status===Cc}get enabled(){return this.status!==Cc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=_L(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=bL(t)}addValidators(t){this.setValidators(uL(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(uL(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(fL(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(fL(t,this._rawAsyncValidators))}hasValidator(t){return Ou(this._rawValidators,t)}hasAsyncValidator(t){return Ou(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=T5,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Cc,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=pc,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pc||this.status===T5)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cc:pc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=T5,this._hasOwnPendingAsyncValidator=!0;const e=tL(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function oW(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let r=n;return t.forEach(a=>{r=ig(r)?r.controls.hasOwnProperty(a)?r.controls[a]:null:(n=>n instanceof lW)(r)&&r.at(a)||null}),r}(this,t,".")}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Yt,this.statusChanges=new Yt}_calculateStatus(){return this._allControlsDisabled()?Cc:this.errors?Uu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(T5)?T5:this._anyControlsHaveStatus(Uu)?Uu:pc}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ju(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class DL extends og{constructor(t=null,e,r){super(rg(e),ag(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ju(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){tg(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){tg(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class sg extends og{constructor(t,e,r){super(rg(e),ag(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){wL(this,t),Object.keys(t).forEach(r=>{LL(this,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,a)=>{r.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=xL(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const r=this.controls[e];if(this.contains(e)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,r)=>((e.enabled||this.disabled)&&(t[r]=e.value),t))}_reduceChildren(t,e){let r=t;return this._forEachChild((a,i)=>{r=e(r,a,i)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class lW extends og{constructor(t,e,r){super(rg(e),ag(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){wL(this,t),t.forEach((r,a)=>{LL(this,a),this.at(a).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,a)=>{this.at(a)&&this.at(a).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,a)=>{r.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>xL(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const cW={provide:s4,useExisting:A2(()=>Gu)},gc=(()=>Promise.resolve(null))();let Gu=(()=>{class n extends s4{constructor(e,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new Yt,this.form=new sg({},qC(e),YC(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){gc.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),hc(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){gc.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){gc.then(()=>{const r=this._findContainer(e.path),a=new sg({});(function mL(n,t){XC(n,t)})(a,e),r.registerControl(e.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){gc.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){gc.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function yL(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(P1(ir,10),P1(Cs,10))},n.\u0275dir=U2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&_2("submit",function(i){return r.onSubmit(i)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Un([cW]),Fn]}),n})();const fW={provide:gs,useExisting:A2(()=>ms)},HL=(()=>Promise.resolve(null))();let ms=(()=>{class n extends gs{constructor(e,r,a,i,s){super(),this._changeDetectorRef=s,this.control=new DL,this._registered=!1,this.update=new Yt,this._parent=e,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=function eg(n,t){if(!t)return null;let e,r,a;return Array.isArray(t),t.forEach(i=>{i.constructor===Co?e=i:function iW(n){return Object.getPrototypeOf(n.constructor)===z0}(i)?r=i:a=i}),a||r||e||null}(0,i)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function QC(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){hc(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){HL.then(()=>{var r;this.control.setValue(e,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,a=""===r||r&&"false"!==r;HL.then(()=>{var i;a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_getPath(e){return this._parent?function Pu(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(P1(s4,9),P1(ir,10),P1(Cs,10),P1(la,10),P1(Ya,8))},n.\u0275dir=U2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Un([fW]),Fn,Zn]}),n})(),VL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=U2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const dW={provide:la,useExisting:A2(()=>vs),multi:!0};let vs=(()=>{class n extends z0{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=q3(n)))(r||n)}}(),n.\u0275dir=U2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,r){1&e&&_2("input",function(i){return r.onChange(i.target.value)})("blur",function(){return r.onTouched()})},features:[Un([dW]),Fn]}),n})(),AL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=en({type:n}),n.\u0275inj=wt({}),n})();function BL(n){return"number"==typeof n?n:parseFloat(n)}let E0=(()=>{class n{constructor(){this._validator=Eu}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Eu,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=U2({type:n,features:[Zn]}),n})();const TW={provide:ir,useExisting:A2(()=>ys),multi:!0};let ys=(()=>{class n extends E0{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>BL(e),this.createValidator=e=>qx(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=q3(n)))(r||n)}}(),n.\u0275dir=U2({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&Bn("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[Un([TW]),Fn]}),n})();const HW={provide:ir,useExisting:A2(()=>_s),multi:!0};let _s=(()=>{class n extends E0{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>BL(e),this.createValidator=e=>Wx(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=q3(n)))(r||n)}}(),n.\u0275dir=U2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&Bn("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[Un([HW]),Fn]}),n})();const VW={provide:ir,useExisting:A2(()=>go),multi:!0};let go=(()=>{class n extends E0{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e=>function SW(n){return null!=n&&!1!==n&&"false"!=`${n}`}(e),this.createValidator=e=>Yx}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=q3(n)))(r||n)}}(),n.\u0275dir=U2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,r){2&e&&Bn("required",r._enabled?"":null)},inputs:{required:"required"},features:[Un([VW]),Fn]}),n})(),OW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=en({type:n}),n.\u0275inj=wt({imports:[[AL]]}),n})(),qL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=en({type:n}),n.\u0275inj=wt({imports:[OW]}),n})();function Bt(...n){return O2(n,z1(n))}const IW=["addListener","removeListener"],PW=["addEventListener","removeEventListener"],RW=["on","off"];function Dr(n,t,e,r){if(o(e)&&(r=e,e=void 0),r)return Dr(n,t,e).pipe($C(r));const[a,i]=function UW(n){return o(n.addEventListener)&&o(n.removeEventListener)}(n)?PW.map(s=>y=>n[s](t,y,e)):function FW(n){return o(n.addListener)&&o(n.removeListener)}(n)?IW.map(YL(n,t)):function BW(n){return o(n.on)&&o(n.off)}(n)?RW.map(YL(n,t)):[];if(!a&&b1(n))return c1(s=>Dr(s,t,e))(G1(n));if(!a)throw new TypeError("Invalid event target");return new me(s=>{const y=(...V)=>s.next(1<V.length?V:V[0]);return a(y),()=>i(y)})}function YL(n,t){return e=>r=>n[e](t,r)}class jW extends c{constructor(t,e){super()}schedule(t,e=0){return this}}const $u={setInterval(n,t,...e){const{delegate:r}=$u;return(null==r?void 0:r.setInterval)?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=$u;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0},KL={now:()=>(KL.delegate||Date).now(),delegate:void 0};class mc{constructor(t,e=mc.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}}mc.now=KL.now;const ZL=new class $W extends mc{constructor(t,e=mc.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}(class GW extends jW{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const r=this.id,a=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(a,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(a,this.id,e),this}requestAsyncId(t,e,r=0){return $u.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;$u.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let a,r=!1;try{this.work(t)}catch(i){r=!0,a=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),a}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,l(r,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}),WW=ZL;function hg(n=0,t,e=WW){let r=-1;return null!=t&&(V1(t)?e=t:r=t),new me(a=>{let i=function qW(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;i<0&&(i=0);let s=0;return e.schedule(function(){a.closed||(a.next(s++),0<=r?this.schedule(void 0,r):a.complete())},i)})}const{isArray:YW}=Array;function JL(n){return 1===n.length&&YW(n[0])?n[0]:n}function XL(...n){return 1===(n=JL(n)).length?G1(n[0]):new me(function KW(n){return t=>{let e=[];for(let r=0;e&&!t.closed&&r<n.length;r++)e.push(G1(n[r]).subscribe(O(t,a=>{if(e){for(let i=0;i<e.length;i++)i!==r&&e[i].unsubscribe();e=null}t.next(a)})))}}(n))}class or extends j{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function QL(n,t,e){n?i1(e,n,t):t()}const mo=new me(M);function Wu(...n){const t=f2(n),e=JL(n);return e.length?new me(r=>{let a=e.map(()=>[]),i=e.map(()=>!1);r.add(()=>{a=i=null});for(let s=0;!r.closed&&s<e.length;s++)G1(e[s]).subscribe(O(r,y=>{if(a[s].push(y),a.every(V=>V.length)){const V=a.map(ne=>ne.shift());r.next(t?t(...V):V),a.some((ne,pe)=>!ne.length&&i[pe])&&r.complete()}},()=>{i[s]=!0,!a[s].length&&r.complete()}));return()=>{a=i=null}}):H1}function H5(...n){return function JW(){return L1(1)}()(O2(n,z1(n)))}function sr(n){return F((t,e)=>{G1(n).subscribe(O(e,()=>e.complete(),M)),!e.closed&&t.subscribe(e)})}function lr(n,t){return F((e,r)=>{let a=0;e.subscribe(O(r,i=>n.call(t,i,a++)&&r.next(i)))})}function F4(n,t){return F((e,r)=>{let a=null,i=0,s=!1;const y=()=>s&&!a&&r.complete();e.subscribe(O(r,V=>{null==a||a.unsubscribe();let ne=0;const pe=i++;G1(n(V,pe)).subscribe(a=O(r,we=>r.next(t?t(V,we,pe,ne++):we),()=>{a=null,y()}))},()=>{s=!0,y()}))})}function Br(n,t,e){const r=o(n)||t||e?{next:n,error:t,complete:e}:n;return r?F((a,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let y=!0;a.subscribe(O(i,V=>{var ne;null===(ne=r.next)||void 0===ne||ne.call(r,V),i.next(V)},()=>{var V;y=!1,null===(V=r.complete)||void 0===V||V.call(r),i.complete()},V=>{var ne;y=!1,null===(ne=r.error)||void 0===ne||ne.call(r,V),i.error(V)},()=>{var V,ne;y&&(null===(V=r.unsubscribe)||void 0===V||V.call(r)),null===(ne=r.finalize)||void 0===ne||ne.call(r)}))}):X}function gg(...n){const t=f2(n);return F((e,r)=>{const a=n.length,i=new Array(a);let s=n.map(()=>!1),y=!1;for(let V=0;V<a;V++)G1(n[V]).subscribe(O(r,ne=>{i[V]=ne,!y&&!s[V]&&(s[V]=!0,(y=s.every(X))&&(s=null))},M));e.subscribe(O(r,V=>{if(y){const ne=[V,...i];r.next(t?t(...ne):ne)}}))})}function ew(n,t){return t?e=>H5(t.pipe(j1(1),function eq(){return F((n,t)=>{n.subscribe(O(t,M))})}()),e.pipe(ew(n))):c1((e,r)=>n(e,r).pipe(j1(1),function tq(n){return R(()=>n)}(e)))}function tw(n,t=ZL){const e=hg(n,t);return ew(()=>e)}var rq={left:"right",right:"left",bottom:"top",top:"bottom"};function Yu(n){return n.replace(/left|right|bottom|top/g,function(t){return rq[t]})}function Ti(n){return n.split("-")[0]}var aq={start:"end",end:"start"};function nw(n){return n.replace(/start|end/g,function(t){return aq[t]})}var l4="top",B4="bottom",U4="right",c4="left",Ku="auto",V5=[l4,B4,U4,c4],O0="start",A5="end",rw="clippingParents",mg="viewport",k5="popper",aw="reference",vg=V5.reduce(function(n,t){return n.concat([t+"-"+O0,t+"-"+A5])},[]),yg=[].concat(V5,[Ku]).reduce(function(n,t){return n.concat([t,t+"-"+O0,t+"-"+A5])},[]),iw="beforeRead",ow="read",sw="afterRead",lw="beforeMain",cw="main",uw="afterMain",fw="beforeWrite",dw="write",hw="afterWrite",pw=[iw,ow,sw,lw,cw,uw,fw,dw,hw];function Ja(n){if(null==n)return window;if("[object Window]"!==n.toString()){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function z5(n){return n instanceof Ja(n).Element||n instanceof Element}function ca(n){return n instanceof Ja(n).HTMLElement||n instanceof HTMLElement}function _g(n){return"undefined"!=typeof ShadowRoot&&(n instanceof Ja(n).ShadowRoot||n instanceof ShadowRoot)}function bs(n){return((z5(n)?n.ownerDocument:n.document)||window.document).documentElement}var I0=Math.max,Zu=Math.min,N5=Math.round;function E5(n,t){void 0===t&&(t=!1);var e=n.getBoundingClientRect(),r=1,a=1;if(ca(n)&&t){var i=n.offsetHeight,s=n.offsetWidth;s>0&&(r=N5(e.width)/s||1),i>0&&(a=N5(e.height)/i||1)}return{width:e.width/r,height:e.height/a,top:e.top/a,right:e.right/r,bottom:e.bottom/a,left:e.left/r,x:e.left/r,y:e.top/a}}function bg(n){var t=Ja(n);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Mg(n){return E5(bs(n)).left+bg(n).scrollLeft}function vo(n){return Ja(n).getComputedStyle(n)}function Hi(n){return n?(n.nodeName||"").toLowerCase():null}function Ju(n){return"html"===Hi(n)?n:n.assignedSlot||n.parentNode||(_g(n)?n.host:null)||bs(n)}function xg(n){var t=vo(n);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function Cw(n){return["html","body","#document"].indexOf(Hi(n))>=0?n.ownerDocument.body:ca(n)&&xg(n)?n:Cw(Ju(n))}function vc(n,t){var e;void 0===t&&(t=[]);var r=Cw(n),a=r===(null==(e=n.ownerDocument)?void 0:e.body),i=Ja(r),s=a?[i].concat(i.visualViewport||[],xg(r)?r:[]):r,y=t.concat(s);return a?y:y.concat(vc(Ju(s)))}function sq(n){return["table","td","th"].indexOf(Hi(n))>=0}function gw(n){return ca(n)&&"fixed"!==vo(n).position?n.offsetParent:null}function yc(n){for(var t=Ja(n),e=gw(n);e&&sq(e)&&"static"===vo(e).position;)e=gw(e);return e&&("html"===Hi(e)||"body"===Hi(e)&&"static"===vo(e).position)?t:e||function lq(n){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&ca(n)&&"fixed"===vo(n).position)return null;var a=Ju(n);for(_g(a)&&(a=a.host);ca(a)&&["html","body"].indexOf(Hi(a))<0;){var i=vo(a);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return a;a=a.parentNode}return null}(n)||t}function mw(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&_g(e)){var r=t;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Lg(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function vw(n,t){return t===mg?Lg(function iq(n){var t=Ja(n),e=bs(n),r=t.visualViewport,a=e.clientWidth,i=e.clientHeight,s=0,y=0;return r&&(a=r.width,i=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,y=r.offsetTop)),{width:a,height:i,x:s+Mg(n),y}}(n)):z5(t)?function cq(n){var t=E5(n);return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}(t):Lg(function oq(n){var t,e=bs(n),r=bg(n),a=null==(t=n.ownerDocument)?void 0:t.body,i=I0(e.scrollWidth,e.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),s=I0(e.scrollHeight,e.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),y=-r.scrollLeft+Mg(n),V=-r.scrollTop;return"rtl"===vo(a||e).direction&&(y+=I0(e.clientWidth,a?a.clientWidth:0)-i),{width:i,height:s,x:y,y:V}}(bs(n)))}function O5(n){return n.split("-")[1]}function wg(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function yw(n){var V,t=n.reference,e=n.element,r=n.placement,a=r?Ti(r):null,i=r?O5(r):null,s=t.x+t.width/2-e.width/2,y=t.y+t.height/2-e.height/2;switch(a){case l4:V={x:s,y:t.y-e.height};break;case B4:V={x:s,y:t.y+t.height};break;case U4:V={x:t.x+t.width,y};break;case c4:V={x:t.x-e.width,y};break;default:V={x:t.x,y:t.y}}var ne=a?wg(a):null;if(null!=ne){var pe="y"===ne?"height":"width";switch(i){case O0:V[ne]=V[ne]-(t[pe]/2-e[pe]/2);break;case A5:V[ne]=V[ne]+(t[pe]/2-e[pe]/2)}}return V}function bw(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function Mw(n,t){return t.reduce(function(e,r){return e[r]=n,e},{})}function I5(n,t){void 0===t&&(t={});var r=t.placement,a=void 0===r?n.placement:r,i=t.boundary,s=void 0===i?rw:i,y=t.rootBoundary,V=void 0===y?mg:y,ne=t.elementContext,pe=void 0===ne?k5:ne,we=t.altBoundary,ke=void 0!==we&&we,qe=t.padding,S1=void 0===qe?0:qe,y1=bw("number"!=typeof S1?S1:Mw(S1,V5)),h2=n.rects.popper,W1=n.elements[ke?pe===k5?aw:k5:pe],k2=function fq(n,t,e){var r="clippingParents"===t?function uq(n){var t=vc(Ju(n)),r=["absolute","fixed"].indexOf(vo(n).position)>=0&&ca(n)?yc(n):n;return z5(r)?t.filter(function(a){return z5(a)&&mw(a,r)&&"body"!==Hi(a)}):[]}(n):[].concat(t),a=[].concat(r,[e]),s=a.reduce(function(y,V){var ne=vw(n,V);return y.top=I0(ne.top,y.top),y.right=Zu(ne.right,y.right),y.bottom=Zu(ne.bottom,y.bottom),y.left=I0(ne.left,y.left),y},vw(n,a[0]));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}(z5(W1)?W1:W1.contextElement||bs(n.elements.popper),s,V),W2=E5(n.elements.reference),X2=yw({reference:W2,element:h2,strategy:"absolute",placement:a}),Lt=Lg(Object.assign({},h2,X2)),rn=pe===k5?Lt:W2,un={top:k2.top-rn.top+y1.top,bottom:rn.bottom-k2.bottom+y1.bottom,left:k2.left-rn.left+y1.left,right:rn.right-k2.right+y1.right},qn=n.modifiersData.offset;if(pe===k5&&qn){var B3=qn[a];Object.keys(un).forEach(function(a3){var f4=[U4,B4].indexOf(a3)>=0?1:-1,Ar=[l4,B4].indexOf(a3)>=0?"y":"x";un[a3]+=B3[Ar]*f4})}return un}const Dg={name:"flip",enabled:!0,phase:"main",fn:function pq(n){var t=n.state,e=n.options,r=n.name;if(!t.modifiersData[r]._skip){for(var a=e.mainAxis,i=void 0===a||a,s=e.altAxis,y=void 0===s||s,V=e.fallbackPlacements,ne=e.padding,pe=e.boundary,we=e.rootBoundary,ke=e.altBoundary,qe=e.flipVariations,S1=void 0===qe||qe,y1=e.allowedAutoPlacements,c2=t.options.placement,h2=Ti(c2),k2=V||(h2!==c2&&S1?function hq(n){if(Ti(n)===Ku)return[];var t=Yu(n);return[nw(n),t,nw(t)]}(c2):[Yu(c2)]),W2=[c2].concat(k2).reduce(function(o8,Os){return o8.concat(Ti(Os)===Ku?function dq(n,t){void 0===t&&(t={});var a=t.boundary,i=t.rootBoundary,s=t.padding,y=t.flipVariations,V=t.allowedAutoPlacements,ne=void 0===V?yg:V,pe=O5(t.placement),we=pe?y?vg:vg.filter(function(S1){return O5(S1)===pe}):V5,ke=we.filter(function(S1){return ne.indexOf(S1)>=0});0===ke.length&&(ke=we);var qe=ke.reduce(function(S1,y1){return S1[y1]=I5(n,{placement:y1,boundary:a,rootBoundary:i,padding:s})[Ti(y1)],S1},{});return Object.keys(qe).sort(function(S1,y1){return qe[S1]-qe[y1]})}(t,{placement:Os,boundary:pe,rootBoundary:we,padding:ne,flipVariations:S1,allowedAutoPlacements:y1}):Os)},[]),X2=t.rects.reference,Lt=t.rects.popper,rn=new Map,un=!0,qn=W2[0],B3=0;B3<W2.length;B3++){var a3=W2[B3],f4=Ti(a3),Ar=O5(a3)===O0,To=[l4,B4].indexOf(f4)>=0,Ho=To?"width":"height",kr=I5(t,{placement:a3,boundary:pe,rootBoundary:we,altBoundary:ke,padding:ne}),ai=To?Ar?U4:c4:Ar?B4:l4;X2[Ho]>Lt[Ho]&&(ai=Yu(ai));var Td=Yu(ai),u6=[];if(i&&u6.push(kr[f4]<=0),y&&u6.push(kr[ai]<=0,kr[Td]<=0),u6.every(function(o8){return o8})){qn=a3,un=!1;break}rn.set(a3,u6)}if(un)for(var Ny=function(Os){var p7=W2.find(function(Ad){var f6=rn.get(Ad);if(f6)return f6.slice(0,Os).every(function(Ey){return Ey})});if(p7)return qn=p7,"break"},h7=S1?3:1;h7>0&&"break"!==Ny(h7);h7--);t.placement!==qn&&(t.modifiersData[r]._skip=!0,t.placement=qn,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function _c(n,t,e){return I0(n,Zu(t,e))}function Sg(n){var t=E5(n),e=n.offsetWidth,r=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:r}}const Tg={name:"preventOverflow",enabled:!0,phase:"main",fn:function mq(n){var t=n.state,e=n.options,r=n.name,a=e.mainAxis,i=void 0===a||a,s=e.altAxis,y=void 0!==s&&s,ke=e.tether,qe=void 0===ke||ke,S1=e.tetherOffset,y1=void 0===S1?0:S1,c2=I5(t,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),h2=Ti(t.placement),W1=O5(t.placement),k2=!W1,W2=wg(h2),X2=function Cq(n){return"x"===n?"y":"x"}(W2),Lt=t.modifiersData.popperOffsets,rn=t.rects.reference,un=t.rects.popper,qn="function"==typeof y1?y1(Object.assign({},t.rects,{placement:t.placement})):y1,B3="number"==typeof qn?{mainAxis:qn,altAxis:qn}:Object.assign({mainAxis:0,altAxis:0},qn),a3=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,f4={x:0,y:0};if(Lt){if(i){var Ar,To="y"===W2?l4:c4,Ho="y"===W2?B4:U4,kr="y"===W2?"height":"width",ai=Lt[W2],Td=ai+c2[To],u6=ai-c2[Ho],Hd=qe?-un[kr]/2:0,Ny=W1===O0?rn[kr]:un[kr],h7=W1===O0?-un[kr]:-rn[kr],Vd=t.elements.arrow,o8=qe&&Vd?Sg(Vd):{width:0,height:0},Os=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},p7=Os[To],Ad=Os[Ho],f6=_c(0,rn[kr],o8[kr]),Ey=k2?rn[kr]/2-Hd-f6-p7-B3.mainAxis:Ny-f6-p7-B3.mainAxis,QDe=k2?-rn[kr]/2+Hd+f6+Ad+B3.mainAxis:h7+f6+Ad+B3.mainAxis,Oy=t.elements.arrow&&yc(t.elements.arrow),dR=null!=(Ar=null==a3?void 0:a3[W2])?Ar:0,nSe=ai+QDe-dR,hR=_c(qe?Zu(Td,ai+Ey-dR-(Oy?"y"===W2?Oy.clientTop||0:Oy.clientLeft||0:0)):Td,ai,qe?I0(u6,nSe):u6);Lt[W2]=hR,f4[W2]=hR-ai}if(y){var pR,d6=Lt[X2],kd="y"===X2?"height":"width",CR=d6+c2["x"===W2?l4:c4],gR=d6-c2["x"===W2?B4:U4],Iy=-1!==[l4,c4].indexOf(h2),mR=null!=(pR=null==a3?void 0:a3[X2])?pR:0,vR=Iy?CR:d6-rn[kd]-un[kd]-mR+B3.altAxis,yR=Iy?d6+rn[kd]+un[kd]-mR-B3.altAxis:gR,_R=qe&&Iy?function gq(n,t,e){var r=_c(n,t,e);return r>e?e:r}(vR,d6,yR):_c(qe?vR:CR,d6,qe?yR:gR);Lt[X2]=_R,f4[X2]=_R-d6}t.modifiersData[r]=f4}},requiresIfExists:["offset"]},Hg={name:"arrow",enabled:!0,phase:"main",fn:function yq(n){var t,e=n.state,r=n.name,a=n.options,i=e.elements.arrow,s=e.modifiersData.popperOffsets,y=Ti(e.placement),V=wg(y),pe=[c4,U4].indexOf(y)>=0?"height":"width";if(i&&s){var we=function(t,e){return bw("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:Mw(t,V5))}(a.padding,e),ke=Sg(i),qe="y"===V?l4:c4,S1="y"===V?B4:U4,y1=e.rects.reference[pe]+e.rects.reference[V]-s[V]-e.rects.popper[pe],c2=s[V]-e.rects.reference[V],h2=yc(i),W1=h2?"y"===V?h2.clientHeight||0:h2.clientWidth||0:0,Lt=W1/2-ke[pe]/2+(y1/2-c2/2),rn=_c(we[qe],Lt,W1-ke[pe]-we[S1]);e.modifiersData[r]=((t={})[V]=rn,t.centerOffset=rn-Lt,t)}},effect:function _q(n){var t=n.state,r=n.options.element,a=void 0===r?"[data-popper-arrow]":r;null!=a&&("string"==typeof a&&!(a=t.elements.popper.querySelector(a))||!mw(t.elements.popper,a)||(t.elements.arrow=a))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Lq(n,t,e){void 0===e&&(e=!1);var r=ca(t),a=ca(t)&&function xq(n){var t=n.getBoundingClientRect(),e=N5(t.width)/n.offsetWidth||1,r=N5(t.height)/n.offsetHeight||1;return 1!==e||1!==r}(t),i=bs(t),s=E5(n,a),y={scrollLeft:0,scrollTop:0},V={x:0,y:0};return(r||!r&&!e)&&(("body"!==Hi(t)||xg(i))&&(y=function Mq(n){return n!==Ja(n)&&ca(n)?function bq(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):bg(n)}(t)),ca(t)?((V=E5(t,!0)).x+=t.clientLeft,V.y+=t.clientTop):i&&(V.x=Mg(i))),{x:s.left+y.scrollLeft-V.x,y:s.top+y.scrollTop-V.y,width:s.width,height:s.height}}function wq(n){var t=new Map,e=new Set,r=[];function a(i){e.add(i.name),[].concat(i.requires||[],i.requiresIfExists||[]).forEach(function(y){if(!e.has(y)){var V=t.get(y);V&&a(V)}}),r.push(i)}return n.forEach(function(i){t.set(i.name,i)}),n.forEach(function(i){e.has(i.name)||a(i)}),r}function Sq(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}var xw={placement:"bottom",modifiers:[],strategy:"absolute"};function Lw(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(r){return!(r&&"function"==typeof r.getBoundingClientRect)})}function Xu(n){void 0===n&&(n={});var e=n.defaultModifiers,r=void 0===e?[]:e,a=n.defaultOptions,i=void 0===a?xw:a;return function(y,V,ne){void 0===ne&&(ne=i);var pe={placement:"bottom",orderedModifiers:[],options:Object.assign({},xw,i),modifiersData:{},elements:{reference:y,popper:V},attributes:{},styles:{}},we=[],ke=!1,qe={state:pe,setOptions:function(h2){var W1="function"==typeof h2?h2(pe.options):h2;y1(),pe.options=Object.assign({},i,pe.options,W1),pe.scrollParents={reference:z5(y)?vc(y):y.contextElement?vc(y.contextElement):[],popper:vc(V)};var k2=function Dq(n){var t=wq(n);return pw.reduce(function(e,r){return e.concat(t.filter(function(a){return a.phase===r}))},[])}(function Tq(n){var t=n.reduce(function(e,r){var a=e[r.name];return e[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(r,pe.options.modifiers)));return pe.orderedModifiers=k2.filter(function(a3){return a3.enabled}),function S1(){pe.orderedModifiers.forEach(function(c2){var W1=c2.options,W2=c2.effect;if("function"==typeof W2){var X2=W2({state:pe,name:c2.name,instance:qe,options:void 0===W1?{}:W1});we.push(X2||function(){})}})}(),qe.update()},forceUpdate:function(){if(!ke){var h2=pe.elements,W1=h2.reference,k2=h2.popper;if(Lw(W1,k2)){pe.rects={reference:Lq(W1,yc(k2),"fixed"===pe.options.strategy),popper:Sg(k2)},pe.reset=!1,pe.placement=pe.options.placement,pe.orderedModifiers.forEach(function(a3){return pe.modifiersData[a3.name]=Object.assign({},a3.data)});for(var X2=0;X2<pe.orderedModifiers.length;X2++)if(!0!==pe.reset){var Lt=pe.orderedModifiers[X2],rn=Lt.fn,un=Lt.options;"function"==typeof rn&&(pe=rn({state:pe,options:void 0===un?{}:un,name:Lt.name,instance:qe})||pe)}else pe.reset=!1,X2=-1}}},update:Sq(function(){return new Promise(function(c2){qe.forceUpdate(),c2(pe)})}),destroy:function(){y1(),ke=!0}};if(!Lw(y,V))return qe;function y1(){we.forEach(function(c2){return c2()}),we=[]}return qe.setOptions(ne).then(function(c2){!ke&&ne.onFirstUpdate&&ne.onFirstUpdate(c2)}),qe}}var Hq=Xu(),Qu={passive:!0};const Vg={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Vq(n){var t=n.state,e=n.instance,r=n.options,a=r.scroll,i=void 0===a||a,s=r.resize,y=void 0===s||s,V=Ja(t.elements.popper),ne=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&ne.forEach(function(pe){pe.addEventListener("scroll",e.update,Qu)}),y&&V.addEventListener("resize",e.update,Qu),function(){i&&ne.forEach(function(pe){pe.removeEventListener("scroll",e.update,Qu)}),y&&V.removeEventListener("resize",e.update,Qu)}},data:{}},Ag={name:"popperOffsets",enabled:!0,phase:"read",fn:function Aq(n){var t=n.state;t.modifiersData[n.name]=yw({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var kq={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ww(n){var t,e=n.popper,r=n.popperRect,a=n.placement,i=n.variation,s=n.offsets,y=n.position,V=n.gpuAcceleration,ne=n.adaptive,pe=n.roundOffsets,we=n.isFixed,ke=s.x,qe=void 0===ke?0:ke,S1=s.y,y1=void 0===S1?0:S1,c2="function"==typeof pe?pe({x:qe,y:y1}):{x:qe,y:y1};qe=c2.x,y1=c2.y;var h2=s.hasOwnProperty("x"),W1=s.hasOwnProperty("y"),k2=c4,W2=l4,X2=window;if(ne){var Lt=yc(e),rn="clientHeight",un="clientWidth";Lt===Ja(e)&&"static"!==vo(Lt=bs(e)).position&&"absolute"===y&&(rn="scrollHeight",un="scrollWidth"),Lt=Lt,(a===l4||(a===c4||a===U4)&&i===A5)&&(W2=B4,y1-=(we&&Lt===X2&&X2.visualViewport?X2.visualViewport.height:Lt[rn])-r.height,y1*=V?1:-1),a!==c4&&(a!==l4&&a!==B4||i!==A5)||(k2=U4,qe-=(we&&Lt===X2&&X2.visualViewport?X2.visualViewport.width:Lt[un])-r.width,qe*=V?1:-1)}var Ar,a3=Object.assign({position:y},ne&&kq),f4=!0===pe?function zq(n){var e=n.y,a=window.devicePixelRatio||1;return{x:N5(n.x*a)/a||0,y:N5(e*a)/a||0}}({x:qe,y:y1}):{x:qe,y:y1};return qe=f4.x,y1=f4.y,Object.assign({},a3,V?((Ar={})[W2]=W1?"0":"",Ar[k2]=h2?"0":"",Ar.transform=(X2.devicePixelRatio||1)<=1?"translate("+qe+"px, "+y1+"px)":"translate3d("+qe+"px, "+y1+"px, 0)",Ar):((t={})[W2]=W1?y1+"px":"",t[k2]=h2?qe+"px":"",t.transform="",t))}const kg={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Nq(n){var t=n.state,e=n.options,r=e.gpuAcceleration,a=void 0===r||r,i=e.adaptive,s=void 0===i||i,y=e.roundOffsets,V=void 0===y||y,pe={placement:Ti(t.placement),variation:O5(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ww(Object.assign({},pe,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:V})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ww(Object.assign({},pe,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:V})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},zg={name:"applyStyles",enabled:!0,phase:"write",fn:function Eq(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var r=t.styles[e]||{},a=t.attributes[e]||{},i=t.elements[e];!ca(i)||!Hi(i)||(Object.assign(i.style,r),Object.keys(a).forEach(function(s){var y=a[s];!1===y?i.removeAttribute(s):i.setAttribute(s,!0===y?"":y)}))})},effect:function Oq(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(r){var a=t.elements[r],i=t.attributes[r]||{},y=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:e[r]).reduce(function(V,ne){return V[ne]="",V},{});!ca(a)||!Hi(a)||(Object.assign(a.style,y),Object.keys(i).forEach(function(V){a.removeAttribute(V)}))})}},requires:["computeStyles"]};var Dw=Xu({defaultModifiers:[Vg,Ag,kg,zg]});const Ng={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Rq(n){var t=n.state,r=n.name,a=n.options.offset,i=void 0===a?[0,0]:a,s=yg.reduce(function(pe,we){return pe[we]=function Pq(n,t,e){var r=Ti(n),a=[c4,l4].indexOf(r)>=0?-1:1,i="function"==typeof e?e(Object.assign({},t,{placement:n})):e,s=i[0],y=i[1];return s=s||0,y=(y||0)*a,[c4,U4].indexOf(r)>=0?{x:y,y:s}:{x:s,y}}(we,t.rects,i),pe},{}),y=s[t.placement],ne=y.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=y.x,t.modifiersData.popperOffsets.y+=ne),t.modifiersData[r]=s}},qq=["*"],fY=["dialog"];function Og(n){return"string"==typeof n}function P0(n){return null!=n}function P5(n){return(n||document.body).getBoundingClientRect()}const Tw={animation:!0,transitionTimerDelayMs:5},iK=()=>{},{transitionTimerDelayMs:oK}=Tw,bc=new Map,Ur=(n,t,e,r)=>{let a=r.context||{};const i=bc.get(t);if(i)switch(r.runningTransition){case"continue":return H1;case"stop":n.run(()=>i.transition$.complete()),a=Object.assign(i.context,a),bc.delete(t)}const s=e(t,r.animation,a)||iK;if(!r.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>s()),Bt(void 0).pipe(function rK(n){return t=>new me(e=>t.subscribe({next:s=>n.run(()=>e.next(s)),error:s=>n.run(()=>e.error(s)),complete:()=>n.run(()=>e.complete())}))}(n));const y=new j,V=new j,ne=y.pipe(function XW(...n){return t=>H5(t,Bt(...n))}(!0));bc.set(t,{transition$:y,complete:()=>{V.next(),V.complete()},context:a});const pe=function aK(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const we=Dr(t,"transitionend").pipe(sr(ne),lr(({target:qe})=>qe===t));XL(hg(pe+oK).pipe(sr(ne)),we,V).pipe(sr(ne)).subscribe(()=>{bc.delete(t),n.run(()=>{s(),y.next(),y.complete()})})}),y.asObservable()},Pg=(n,t,e)=>{let{direction:r,maxHeight:a}=e;const{classList:i}=n;function s(){i.add("collapse"),"show"===r?i.add("show"):i.remove("show")}if(t)return a||(a=function lK(n){if("undefined"==typeof navigator)return"0px";const{classList:t}=n,e=t.contains("show");e||t.add("show"),n.style.height="";const r=n.getBoundingClientRect().height+"px";return e||t.remove("show"),r}(n),e.maxHeight=a,n.style.height="show"!==r?a:"0px",i.remove("collapse"),i.remove("collapsing"),i.remove("show"),P5(n),i.add("collapsing")),n.style.height="show"===r?a:"0px",()=>{s(),i.remove("collapsing"),n.style.height=""};s()};let Mc=(()=>{class n{constructor(){this.animation=Tw.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=en({type:n}),n.\u0275inj=wt({imports:[[D4]]}),n})(),Nw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=en({type:n}),n.\u0275inj=wt({imports:[[D4]]}),n})(),Ow=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=en({type:n}),n.\u0275inj=wt({}),n})(),Rw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=en({type:n}),n.\u0275inj=wt({imports:[[D4]]}),n})(),yK=(()=>{class n{constructor(e){this._ngbConfig=e}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(J2(Mc))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_K=(()=>{class n{constructor(e,r,a){this._element=e,this._zone=a,this.collapsed=!1,this.ngbCollapseChange=new Yt,this.shown=new Yt,this.hidden=new Yt,this.animation=r.animation}ngOnInit(){this._runTransition(this.collapsed,!1)}ngOnChanges({collapsed:e}){e.firstChange||this._runTransitionWithEvents(this.collapsed,this.animation)}toggle(e=this.collapsed){this.collapsed=!e,this.ngbCollapseChange.next(this.collapsed),this._runTransitionWithEvents(this.collapsed,this.animation)}_runTransition(e,r){return Ur(this._zone,this._element.nativeElement,Pg,{animation:r,runningTransition:"stop",context:{direction:e?"hide":"show"}})}_runTransitionWithEvents(e,r){this._runTransition(e,r).subscribe(()=>{e?this.hidden.emit():this.shown.emit()})}}return n.\u0275fac=function(e){return new(e||n)(P1(Wn),P1(yK),P1(Qn))},n.\u0275dir=U2({type:n,selectors:[["","ngbCollapse",""]],inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"]},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],features:[Zn]}),n})(),Fw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=en({type:n}),n.\u0275inj=wt({}),n})();var cr=(()=>{return(n=cr||(cr={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",cr;var n})();const nf=(n,t)=>!!t&&t.some(e=>e.contains(n)),Bw=(n,t)=>!t||null!=function nK(n,t){return t&&void 0!==n.closest?n.closest(t):null}(n,t),SK="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Uw=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function jw(n){const t=Array.from(n.querySelectorAll(Uw)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}const AK=/\s+/,kK=/  +/gi,zK=/^start/,NK=/^end/,EK=/-(top|left)$/,OK=/-(bottom|right)$/,PK=/^left/,RK=/^right/,FK=/^start/,BK=/^end/;function Gw({placement:n,baseClass:t}){let e=Array.isArray(n)?n:n.split(AK),a=e.findIndex(V=>"auto"===V);a>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(V){null==e.find(ne=>-1!==ne.search("^"+V))&&e.splice(a++,1,V)});const i=e.map(V=>function IK(n){return n.replace(zK,"left").replace(NK,"right").replace(EK,"-start").replace(OK,"-end")}(V));return{placement:i.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!t,phase:"write",fn({state:V}){const ne=new RegExp(t+"-[a-z]+","gi"),pe=V.elements.popper,we=V.placement;let ke=pe.className;ke=ke.replace(ne,""),ke+=` ${function UK(n,t){let[e,r]=t.split("-");const a=e.replace(PK,"start").replace(RK,"end");let i=[a];if(r){let s=r;("left"===e||"right"===e)&&(s=s.replace(FK,"top").replace(BK,"bottom")),i.push(`${a}-${s}`)}return n&&(i=i.map(s=>`${n}-${s}`)),i.join(" ")}(t,we)}`,ke=ke.trim().replace(kK," "),pe.className=ke}},Dg,Tg,Hg,{enabled:!0,name:"flip",options:{fallbackPlacements:i}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function $w(n){return n}function GK(n){return t=>(t.modifiers.push(Ng,{name:"offset",options:{offset:()=>n}}),t)}new Date(1882,10,12),new Date(2174,10,25);let Jw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=en({type:n}),n.\u0275inj=wt({imports:[[D4,qL]]}),n})(),QK=(()=>{class n{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$g=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=U2({type:n,selectors:[["",8,"navbar"]]}),n})(),Xw=(()=>{class n{constructor(e,r){this.elementRef=e,this._renderer=r,this._disabled=!1}set disabled(e){this._disabled=""===e||!0===e,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}}return n.\u0275fac=function(e){return new(e||n)(P1(Wn),P1(R4))},n.\u0275dir=U2({type:n,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(e,r){2&e&&(so("tabIndex",r.disabled?-1:0),ft("disabled",r.disabled))},inputs:{disabled:"disabled"}}),n})(),F5=(()=>{class n{constructor(e,r){this.dropdown=e,this.placement="bottom",this.isOpen=!1,this.nativeElement=r.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(P1(A2(()=>xs)),P1(Wn))},n.\u0275dir=U2({type:n,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(e,r,a){if(1&e&&R3(a,Xw,4),2&e){let i;y3(i=_3())&&(r.menuItems=i)}},hostVars:4,hostBindings:function(e,r){1&e&&_2("keydown.ArrowUp",function(i){return r.dropdown.onKeyDown(i)})("keydown.ArrowDown",function(i){return r.dropdown.onKeyDown(i)})("keydown.Home",function(i){return r.dropdown.onKeyDown(i)})("keydown.End",function(i){return r.dropdown.onKeyDown(i)})("keydown.Enter",function(i){return r.dropdown.onKeyDown(i)})("keydown.Space",function(i){return r.dropdown.onKeyDown(i)})("keydown.Tab",function(i){return r.dropdown.onKeyDown(i)})("keydown.Shift.Tab",function(i){return r.dropdown.onKeyDown(i)}),2&e&&ft("dropdown-menu",!0)("show",r.dropdown.isOpen())}}),n})(),lf=(()=>{class n{constructor(e,r){this.dropdown=e,this.nativeElement=r.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(P1(A2(()=>xs)),P1(Wn))},n.\u0275dir=U2({type:n,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,r){2&e&&Bn("aria-expanded",r.dropdown.isOpen())}}),n})(),Dc=(()=>{class n extends lf{constructor(e,r){super(e,r)}}return n.\u0275fac=function(e){return new(e||n)(P1(A2(()=>xs)),P1(Wn))},n.\u0275dir=U2({type:n,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,r){1&e&&_2("click",function(){return r.dropdown.toggle()})("keydown.ArrowUp",function(i){return r.dropdown.onKeyDown(i)})("keydown.ArrowDown",function(i){return r.dropdown.onKeyDown(i)})("keydown.Home",function(i){return r.dropdown.onKeyDown(i)})("keydown.End",function(i){return r.dropdown.onKeyDown(i)})("keydown.Tab",function(i){return r.dropdown.onKeyDown(i)})("keydown.Shift.Tab",function(i){return r.dropdown.onKeyDown(i)}),2&e&&Bn("aria-expanded",r.dropdown.isOpen())},features:[Un([{provide:lf,useExisting:A2(()=>n)}]),Fn]}),n})(),xs=(()=>{class n{constructor(e,r,a,i,s,y,V){this._changeDetector=e,this._document=a,this._ngZone=i,this._elementRef=s,this._renderer=y,this._destroyCloseHandlers$=new j,this._bodyContainer=null,this._positioning=function jK(){let n=null;return{createPopper(t){if(!n){let r=(t.updatePopperOptions||$w)(Gw(t));n=Dw(t.hostElement,t.targetElement,r)}},update(){n&&n.update()},setOptions(t){if(n){let r=(t.updatePopperOptions||$w)(Gw(t));n.setOptions(r)}},destroy(){n&&(n.destroy(),n=null)}}}(),this._open=!1,this.openChange=new Yt,this.placement=r.placement,this.container=r.container,this.autoClose=r.autoClose,this.display=V?"static":"dynamic",this._zoneSubscription=i.onStable.subscribe(()=>{this._positionMenu()})}ngAfterContentInit(){this._ngZone.onStable.pipe(j1(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(e){if(e.container&&this._open&&this._applyContainer(this.container),e.placement&&!e.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),e.dropdownClass){const{currentValue:r,previousValue:a}=e.dropdownClass;this._applyCustomDropdownClass(r,a)}e.autoClose&&this._open&&(this.autoClose=e.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.onStable.pipe(j1(1)).subscribe(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:GK([0,2])}),this._applyPlacementClasses()})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),function HK(n,t,e,r,a,i,s,y){e&&n.runOutsideAngular((n=>SK?()=>setTimeout(()=>n(),100):n)(()=>{const ne=Dr(t,"keydown").pipe(sr(a),lr(ke=>ke.which===cr.Escape),Br(ke=>ke.preventDefault())),pe=Dr(t,"mousedown").pipe(R(ke=>{const qe=ke.target;return 2!==ke.button&&!nf(qe,s)&&("inside"===e?nf(qe,i)&&Bw(qe,y):"outside"===e?!nf(qe,i):Bw(qe,y)||!nf(qe,i))}),sr(a)),we=Dr(t,"mouseup").pipe(gg(pe),lr(([ke,qe])=>qe),tw(0),sr(a));XL([ne.pipe(R(ke=>0)),we.pipe(R(ke=>1))]).subscribe(ke=>n.run(()=>r(ke)))}))}(this._ngZone,this._document,this.autoClose,e=>{this.close(),0===e&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._positioning.destroy(),this._resetContainer(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this._resetContainer(),this._destroyCloseHandlers$.next(),this._zoneSubscription.unsubscribe()}onKeyDown(e){const r=e.which,a=this._getMenuElements();let i=-1,s=null;const y=this._isEventFromToggle(e);if(!y&&a.length&&a.forEach((V,ne)=>{V.contains(e.target)&&(s=V),V===this._document.activeElement&&(i=ne)}),r!==cr.Space&&r!==cr.Enter){if(r!==cr.Tab){if(y||s){if(this.open(),a.length){switch(r){case cr.ArrowDown:i=Math.min(i+1,a.length-1);break;case cr.ArrowUp:if(this._isDropup()&&-1===i){i=a.length-1;break}i=Math.max(i-1,0);break;case cr.Home:i=0;break;case cr.End:i=a.length-1}a[i].focus()}e.preventDefault()}}else if(e.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===e.target)return void("body"!==this.container||e.shiftKey?e.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const V=this._menu.nativeElement.querySelectorAll(Uw);e.shiftKey&&e.target===V[0]?(this._anchor.nativeElement.focus(),e.preventDefault()):!e.shiftKey&&e.target===V[V.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else Dr(e.target,"focusout").pipe(j1(1)).subscribe(({relatedTarget:V})=>{this._elementRef.nativeElement.contains(V)||this.close()})}}else s&&(!0===this.autoClose||"inside"===this.autoClose)&&Dr(s,"click").pipe(j1(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(e){return this._anchor.nativeElement.contains(e.target)}_getMenuElements(){const e=this._menu;return null==e?[]:e.menuItems.filter(r=>!r.disabled).map(r=>r.elementRef.nativeElement)}_positionMenu(){const e=this._menu;this.isOpen()&&e&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(e){return Array.isArray(e)?e[0]:e.split(" ")[0]}_resetContainer(){const e=this._renderer;this._menu&&e.appendChild(this._elementRef.nativeElement,this._menu.nativeElement),this._bodyContainer&&(e.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(e=null){if(this._resetContainer(),"body"===e){const r=this._renderer,a=this._menu.nativeElement,i=this._bodyContainer=this._bodyContainer||r.createElement("div");r.setStyle(i,"position","absolute"),r.setStyle(a,"position","static"),r.setStyle(i,"z-index","1055"),r.appendChild(i,a),r.appendChild(this._document.body,i)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(e,r){const a="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;a&&(r&&this._renderer.removeClass(a,r),e&&this._renderer.addClass(a,e))}_applyPlacementClasses(e){const r=this._menu;if(r){e||(e=this._getFirstPlacement(this.placement));const a=this._renderer,i=this._elementRef.nativeElement;a.removeClass(i,"dropup"),a.removeClass(i,"dropdown");const{nativeElement:s}=r;"static"===this.display?(r.placement=null,a.setAttribute(s,"data-bs-popper","static")):(r.placement=e,a.removeAttribute(s,"data-bs-popper"));const y=-1!==e.search("^top")?"dropup":"dropdown";a.addClass(i,y);const V=this._bodyContainer;V&&(a.removeClass(V,"dropup"),a.removeClass(V,"dropdown"),a.addClass(V,y))}}}return n.\u0275fac=function(e){return new(e||n)(P1(Ya),P1(QK),P1(Z3),P1(Qn),P1(Wn),P1(R4),P1($g,8))},n.\u0275dir=U2({type:n,selectors:[["","ngbDropdown",""]],contentQueries:function(e,r,a){if(1&e&&(R3(a,F5,5),R3(a,lf,5)),2&e){let i;y3(i=_3())&&(r._menu=i.first),y3(i=_3())&&(r._anchor=i.first)}},hostVars:2,hostBindings:function(e,r){2&e&&ft("show",r.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[Zn]}),n})(),Qw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=en({type:n}),n.\u0275inj=wt({}),n})();class U0{constructor(t,e,r){this.nodes=t,this.viewRef=e,this.componentRef=r}}let eZ=(()=>{class n{constructor(e,r){this._el=e,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(j1(1)).subscribe(()=>{Ur(this._zone,this._el.nativeElement,(e,r)=>{r&&P5(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ur(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(P1(Wn),P1(Qn))},n.\u0275cmp=Hn({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,r){2&e&&(S0("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),ft("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,r){},encapsulation:2}),n})();class eD{close(t){}dismiss(t){}}class tZ{constructor(t,e,r,a){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=r,this._beforeDismiss=a,this._closed=new j,this._dismissed=new j,this._hidden=new j,t.instance.dismissEvent.subscribe(i=>{this.dismiss(i)}),this.result=new Promise((i,s)=>{this._resolve=i,this._reject=s}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(sr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(sr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function Sw(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(r=>{!1!==r&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Bt(void 0);t.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Wu(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Sc=(()=>{return(n=Sc||(Sc={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",Sc;var n})();let nZ=(()=>{class n{constructor(e,r,a){this._document=e,this._elRef=r,this._zone=a,this._closed$=new j,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Yt,this.shown=new j,this.hidden=new j}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Og(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(j1(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,r={animation:this.animation,runningTransition:"stop"},s=Wu(Ur(this._zone,e,()=>e.classList.remove("show"),r),Ur(this._zone,this._dialogEl.nativeElement,()=>{},r));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const e={animation:this.animation,runningTransition:"continue"};Wu(Ur(this._zone,this._elRef.nativeElement,(i,s)=>{s&&P5(i),i.classList.add("show")},e),Ur(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Dr(e,"keydown").pipe(sr(this._closed$),lr(a=>a.which===cr.Escape)).subscribe(a=>{this.keyboard?requestAnimationFrame(()=>{a.defaultPrevented||this._zone.run(()=>this.dismiss(Sc.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Dr(this._dialogEl.nativeElement,"mousedown").pipe(sr(this._closed$),Br(()=>r=!1),F4(()=>Dr(e,"mouseup").pipe(sr(this._closed$),j1(1))),lr(({target:a})=>e===a)).subscribe(()=>{r=!0}),Dr(e,"click").pipe(sr(this._closed$)).subscribe(({target:a})=>{e===a&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(Sc.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const r=e.querySelector("[ngbAutofocus]"),a=jw(e)[0];(r||a||e).focus()}}_restoreFocus(){const e=this._document.body,r=this._elWithFocus;let a;a=r&&r.focus&&e.contains(r)?r:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>a.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ur(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(P1(Z3),P1(Wn),P1(Qn))},n.\u0275cmp=Hn({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,r){if(1&e&&hu(fY,7),2&e){let a;y3(a=_3())&&(r._dialogEl=a.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,r){2&e&&(Bn("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),S0("modal d-block"+(r.windowClass?" "+r.windowClass:"")),ft("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:qq,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,r){1&e&&(zp(),Ge(0,"div",0,1)(2,"div",2),Np(3),We()()),2&e&&S0("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),rZ=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,a=r.style,{overflow:i,paddingRight:s}=a;if(e>0){const y=parseFloat(window.getComputedStyle(r).paddingRight);a.paddingRight=`${y+e}px`}return a.overflow="hidden",()=>{e>0&&(a.paddingRight=s),a.overflow=i}}}return n.\u0275fac=function(e){return new(e||n)(J2(Z3))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aZ=(()=>{class n{constructor(e,r,a,i,s,y){this._applicationRef=e,this._injector=r,this._document=a,this._scrollBar=i,this._rendererFactory=s,this._ngZone=y,this._activeWindowCmptHasChanged=new j,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new Yt,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const V=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const a=Dr(t,"focusin").pipe(sr(e),R(i=>i.target));Dr(t,"keydown").pipe(sr(e),lr(i=>i.which===cr.Tab),gg(a)).subscribe(([i,s])=>{const[y,V]=jw(t);(s===y||s===t)&&i.shiftKey&&(V.focus(),i.preventDefault()),s===V&&!i.shiftKey&&(y.focus(),i.preventDefault())}),r&&Dr(t,"click").pipe(sr(e),gg(a),R(i=>i[1])).subscribe(i=>i.focus())})})(0,V.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(V.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,r,a,i){const s=i.container instanceof HTMLElement?i.container:P0(i.container)?this._document.querySelector(i.container):this._document.body,y=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const V=new eD,ne=this._getContentRef(e,i.injector||r,a,V,i);let pe=!1!==i.backdrop?this._attachBackdrop(e,s):void 0,we=this._attachWindowComponent(e,s,ne),ke=new tZ(we,ne,pe,i.beforeDismiss);return this._registerModalRef(ke),this._registerWindowCmpt(we),ke.hidden.pipe(j1(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(y.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),V.close=qe=>{ke.close(qe)},V.dismiss=qe=>{ke.dismiss(qe)},this._applyWindowOptions(we.instance,i),1===this._modalRefs.length&&y.addClass(this._document.body,"modal-open"),pe&&pe.instance&&(this._applyBackdropOptions(pe.instance,i),pe.changeDetectorRef.detectChanges()),we.changeDetectorRef.detectChanges(),ke}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(r=>r.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,r){let i=e.resolveComponentFactory(eZ).create(this._injector);return this._applicationRef.attachView(i.hostView),r.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,r,a){let s=e.resolveComponentFactory(nZ).create(this._injector,a.nodes);return this._applicationRef.attachView(s.hostView),r.appendChild(s.location.nativeElement),s}_applyWindowOptions(e,r){this._windowAttributes.forEach(a=>{P0(r[a])&&(e[a]=r[a])})}_applyBackdropOptions(e,r){this._backdropAttributes.forEach(a=>{P0(r[a])&&(e[a]=r[a])})}_getContentRef(e,r,a,i,s){return a?a instanceof N3?this._createFromTemplateRef(a,i):Og(a)?this._createFromString(a):this._createFromComponent(e,r,a,i,s):new U0([])}_createFromTemplateRef(e,r){const i=e.createEmbeddedView({$implicit:r,close(s){r.close(s)},dismiss(s){r.dismiss(s)}});return this._applicationRef.attachView(i),new U0([i.rootNodes],i)}_createFromString(e){const r=this._document.createTextNode(`${e}`);return new U0([[r]])}_createFromComponent(e,r,a,i,s){const y=e.resolveComponentFactory(a),V=m1.create({providers:[{provide:eD,useValue:i}],parent:r}),ne=y.create(V),pe=ne.location.nativeElement;return s.scrollable&&pe.classList.add("component-host-scrollable"),this._applicationRef.attachView(ne.hostView),new U0([[pe]],ne.hostView,ne)}_setAriaHidden(e){const r=e.parentElement;r&&e!==this._document.body&&(Array.from(r.children).forEach(a=>{a!==e&&"SCRIPT"!==a.nodeName&&(this._ariaHiddenValues.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,r)=>{e?r.setAttribute("aria-hidden",e):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const r=()=>{const a=this._modalRefs.indexOf(e);a>-1&&(this._modalRefs.splice(a,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(r,r)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const r=this._windowCmpts.indexOf(e);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(J2(ic),J2(m1),J2(Z3),J2(rZ),J2(Gp),J2(Qn))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iZ=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(J2(Mc))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oZ=(()=>{class n{constructor(e,r,a,i){this._moduleCFR=e,this._injector=r,this._modalStack=a,this._config=i}open(e,r={}){const a=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,e,a)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(J2(x5),J2(m1),J2(aZ),J2(iZ))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=en({type:n}),n.\u0275inj=wt({providers:[oZ]}),n})(),iD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=en({type:n}),n.\u0275inj=wt({imports:[[D4]]}),n})(),hD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=en({type:n}),n.\u0275inj=wt({imports:[[D4]]}),n})(),CD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=en({type:n}),n.\u0275inj=wt({imports:[[D4]]}),n})(),gD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=en({type:n}),n.\u0275inj=wt({imports:[[D4]]}),n})(),mD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=en({type:n}),n.\u0275inj=wt({imports:[[D4]]}),n})(),vD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=en({type:n}),n.\u0275inj=wt({imports:[[D4]]}),n})(),yD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=en({type:n}),n.\u0275inj=wt({imports:[[D4]]}),n})(),_D=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=en({type:n}),n.\u0275inj=wt({}),n})();new tn("live announcer delay",{providedIn:"root",factory:function yZ(){return 100}});let bD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=en({type:n}),n.\u0275inj=wt({imports:[[D4]]}),n})(),MD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=en({type:n}),n.\u0275inj=wt({}),n})();const _Z=[zw,Nw,Ow,Rw,Fw,Jw,Qw,tD,iD,MD,hD,CD,gD,mD,vD,yD,_D,bD];let bZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=en({type:n}),n.\u0275inj=wt({imports:[_Z,zw,Nw,Ow,Rw,Fw,Jw,Qw,tD,iD,MD,hD,CD,gD,mD,vD,yD,_D,bD]}),n})();function B5(n){return null!=n}const Kg=n=>t=>!B5(n)||B5(WC.required(t))||+t.value<=+n?null:{max:{value:n}},MZ={provide:ir,useExisting:A2(()=>xD),multi:!0};let xD=(()=>{class n{ngOnInit(){this.validator=Kg(this.maxVal)}ngOnChanges(e){for(const r in e)"max"===r&&(this.validator=Kg(e[r].currentValue),this.onChange&&this.onChange())}validate(e){return this.validator(e)}registerOnValidatorChange(e){this.onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=U2({type:n,selectors:[["","maxVal","","formControlName",""],["","maxVal","","formControl",""],["","maxVal","","ngModel",""]],inputs:{maxVal:"maxVal"},features:[Un([MZ]),Zn]}),n})();const Zg=n=>t=>!B5(n)||B5(WC.required(t))||+t.value>=+n?null:{min:{value:n}},xZ={provide:ir,useExisting:A2(()=>LD),multi:!0};let LD=(()=>{class n{ngOnInit(){this.validator=Zg(this.minVal)}ngOnChanges(e){for(const r in e)"minVal"===r&&(this.validator=Zg(e[r].currentValue),this.onChange&&this.onChange())}validate(e){return this.validator(e)}registerOnValidatorChange(e){this.onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=U2({type:n,selectors:[["","minVal","","formControlName",""],["","minVal","","formControl",""],["","minVal","","ngModel",""]],inputs:{minVal:"minVal"},features:[Un([xZ]),Zn]}),n})();const Jg=n=>t=>{if(!B5(n)||B5(WC.required(t)))return null;const e=+t.value;return e>=n[0]&&e<=n[1]?null:{range:{value:n}}},LZ={provide:ir,useExisting:A2(()=>Ls),multi:!0};let Ls=(()=>{class n{ngOnInit(){this.validator=Jg(this.rangeVal)}ngOnChanges(e){for(const r in e)"range"===r&&(this.validator=Jg(e[r].currentValue),this.onChange&&this.onChange())}validate(e){return this.validator(e)}registerOnValidatorChange(e){this.onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=U2({type:n,selectors:[["","rangeVal","","formControlName",""],["","rangeVal","","formControl",""],["","rangeVal","","ngModel",""]],inputs:{rangeVal:"rangeVal"},features:[Un([LZ]),Zn]}),n})(),wZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=en({type:n}),n.\u0275inj=wt({}),n})();function wD(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,r)}return e}function ct(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?wD(Object(e),!0).forEach(function(r){TZ(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):wD(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function cf(n){return(cf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function DD(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function TZ(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Xg(n,t){return function AZ(n){if(Array.isArray(n))return n}(n)||function zZ(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var s,y,r=[],a=!0,i=!1;try{for(e=e.call(n);!(a=(s=e.next()).done)&&(r.push(s.value),!t||r.length!==t);a=!0);}catch(V){i=!0,y=V}finally{try{!a&&null!=e.return&&e.return()}finally{if(i)throw y}}return r}}(n,t)||SD(n,t)||function EZ(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ff(n){return function VZ(n){if(Array.isArray(n))return Qg(n)}(n)||function kZ(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||SD(n)||function NZ(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SD(n,t){if(n){if("string"==typeof n)return Qg(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if("Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Qg(n,t)}}function Qg(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var TD=function(){},em={},HD={},VD=null,AD={mark:TD,measure:TD};try{"undefined"!=typeof window&&(em=window),"undefined"!=typeof document&&(HD=document),"undefined"!=typeof MutationObserver&&(VD=MutationObserver),"undefined"!=typeof performance&&(AD=performance)}catch(n){}var kD=(em.navigator||{}).userAgent,zD=void 0===kD?"":kD,ws=em,p3=HD,ND=VD,df=AD,_o=!!p3.documentElement&&!!p3.head&&"function"==typeof p3.addEventListener&&"function"==typeof p3.createElement,ED=~zD.indexOf("MSIE")||~zD.indexOf("Trident/"),bo="___FONT_AWESOME___",ID="svg-inline--fa",j0="data-fa-i2svg",nm="data-fa-pseudo-element",rm="data-prefix",am="data-icon",PD="fontawesome-i2svg",RZ=["HTML","HEAD","STYLE","SCRIPT"],RD=function(){try{return!0}catch(n){return!1}}(),im={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},hf={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},FD={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},FZ={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},BZ=/fa[srltdbk\-\ ]/,BD="fa-layers-text",UZ=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,jZ={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},UD=[1,2,3,4,5,6,7,8,9,10],GZ=UD.concat([11,12,13,14,15,16,17,18,19,20]),$Z=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],WZ=[].concat(ff(Object.keys(hf)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","duotone-group","swap-opacity","primary","secondary"]).concat(UD.map(function(n){return"".concat(n,"x")})).concat(GZ.map(function(n){return"w-".concat(n)})),jD=ws.FontAwesomeConfig||{};p3&&"function"==typeof p3.querySelector&&[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var t=Xg(n,2),r=t[1],a=function YZ(n){return""===n||"false"!==n&&("true"===n||n)}(function qZ(n){var t=p3.querySelector("script["+n+"]");if(t)return t.getAttribute(n)}(t[0]));null!=a&&(jD[r]=a)});var Hc=ct(ct({},{familyPrefix:"fa",styleDefault:"solid",replacementClass:ID,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),jD);Hc.autoReplaceSvg||(Hc.observeMutations=!1);var kt={};Object.keys(Hc).forEach(function(n){Object.defineProperty(kt,n,{enumerable:!0,set:function(e){Hc[n]=e,pf.forEach(function(r){return r(kt)})},get:function(){return Hc[n]}})}),ws.FontAwesomeConfig=kt;var pf=[],Ai={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Vc(){for(var n=12,t="";n-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function U5(n){for(var t=[],e=(n||[]).length>>>0;e--;)t[e]=n[e];return t}function om(n){return n.classList?U5(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(t){return t})}function GD(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Cf(n){return Object.keys(n||{}).reduce(function(t,e){return t+"".concat(e,": ").concat(n[e].trim(),";")},"")}function sm(n){return n.size!==Ai.size||n.x!==Ai.x||n.y!==Ai.y||n.rotate!==Ai.rotate||n.flipX||n.flipY}function $D(){var n="fa",t=ID,e=kt.familyPrefix,r=kt.replacementClass,a=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(e!==n||r!==t){var i=new RegExp("\\.".concat(n,"\\-"),"g"),s=new RegExp("\\--".concat(n,"\\-"),"g"),y=new RegExp("\\.".concat(t),"g");a=a.replace(i,".".concat(e,"-")).replace(s,"--".concat(e,"-")).replace(y,".".concat(r))}return a}var WD=!1;function lm(){kt.autoAddCss&&!WD&&(function XZ(n){if(n&&_o){var t=p3.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=n;for(var e=p3.head.childNodes,r=null,a=e.length-1;a>-1;a--){var i=e[a],s=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=i)}p3.head.insertBefore(t,r)}}($D()),WD=!0)}var aJ={mixout:function(){return{dom:{css:$D,insertCss:lm}}},hooks:function(){return{beforeDOMElementCreation:function(){lm()},beforeI2svg:function(){lm()}}}},Mo=ws||{};Mo[bo]||(Mo[bo]={}),Mo[bo].styles||(Mo[bo].styles={}),Mo[bo].hooks||(Mo[bo].hooks={}),Mo[bo].shims||(Mo[bo].shims=[]);var Qa=Mo[bo],qD=[],gf=!1;function oJ(n){!_o||(gf?setTimeout(n,0):qD.push(n))}function Ac(n){var t=n.tag,e=n.attributes,r=void 0===e?{}:e,a=n.children,i=void 0===a?[]:a;return"string"==typeof n?GD(n):"<".concat(t," ").concat(function eJ(n){return Object.keys(n||{}).reduce(function(t,e){return t+"".concat(e,'="').concat(GD(n[e]),'" ')},"").trim()}(r),">").concat(i.map(Ac).join(""),"</").concat(t,">")}function YD(n,t,e){if(n&&n[t]&&n[t][e])return{prefix:t,iconName:e,icon:n[t][e]}}_o&&((gf=(p3.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(p3.readyState))||p3.addEventListener("DOMContentLoaded",function n(){p3.removeEventListener("DOMContentLoaded",n),gf=1,qD.map(function(t){return t()})}));var cm=function(t,e,r,a){var V,ne,pe,i=Object.keys(t),s=i.length,y=void 0!==a?function(t,e){return function(r,a,i,s){return t.call(e,r,a,i,s)}}(e,a):e;for(void 0===r?(V=1,pe=t[i[0]]):(V=0,pe=r);V<s;V++)pe=y(pe,t[ne=i[V]],ne,t);return pe};function um(n){var t=function lJ(n){for(var t=[],e=0,r=n.length;e<r;){var a=n.charCodeAt(e++);if(a>=55296&&a<=56319&&e<r){var i=n.charCodeAt(e++);56320==(64512&i)?t.push(((1023&a)<<10)+(1023&i)+65536):(t.push(a),e--)}else t.push(a)}return t}(n);return 1===t.length?t[0].toString(16):null}function KD(n){return Object.keys(n).reduce(function(t,e){var r=n[e];return r.icon?t[r.iconName]=r.icon:t[e]=r,t},{})}function fm(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.skipHooks,a=void 0!==r&&r,i=KD(t);"function"!=typeof Qa.hooks.addPack||a?Qa.styles[n]=ct(ct({},Qa.styles[n]||{}),i):Qa.hooks.addPack(n,KD(t)),"fas"===n&&fm("fa",t)}var kc=Qa.styles,uJ=Qa.shims,fJ=Object.values(FD),dm=null,ZD={},JD={},XD={},QD={},eS={},dJ=Object.keys(im);function pJ(n,t){var e=t.split("-"),r=e[0],a=e.slice(1).join("-");return r!==n||""===a||function hJ(n){return~WZ.indexOf(n)}(a)?null:a}var tS=function(){var t=function(i){return cm(kc,function(s,y,V){return s[V]=cm(y,i,{}),s},{})};ZD=t(function(a,i,s){return i[3]&&(a[i[3]]=s),i[2]&&i[2].filter(function(V){return"number"==typeof V}).forEach(function(V){a[V.toString(16)]=s}),a}),JD=t(function(a,i,s){return a[s]=s,i[2]&&i[2].filter(function(V){return"string"==typeof V}).forEach(function(V){a[V]=s}),a}),eS=t(function(a,i,s){var y=i[2];return a[s]=s,y.forEach(function(V){a[V]=s}),a});var e="far"in kc||kt.autoFetchSvg,r=cm(uJ,function(a,i){var s=i[0],y=i[1],V=i[2];return"far"===y&&!e&&(y="fas"),"string"==typeof s&&(a.names[s]={prefix:y,iconName:V}),"number"==typeof s&&(a.unicodes[s.toString(16)]={prefix:y,iconName:V}),a},{names:{},unicodes:{}});XD=r.names,QD=r.unicodes,dm=mf(kt.styleDefault)};function hm(n,t){return(ZD[n]||{})[t]}function j5(n,t){return(eS[n]||{})[t]}function nS(n){return XD[n]||{prefix:null,iconName:null}}function Ss(){return dm}function mf(n){return hf[n]||hf[im[n]]||(n in Qa.styles?n:null)||null}function vf(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.skipLookups,r=void 0!==e&&e,a=null,i=n.reduce(function(s,y){var V=pJ(kt.familyPrefix,y);if(kc[y]?(y=fJ.includes(y)?FZ[y]:y,a=y,s.prefix=y):dJ.indexOf(y)>-1?(a=y,s.prefix=mf(y)):V?s.iconName=V:y!==kt.replacementClass&&s.rest.push(y),!r&&s.prefix&&s.iconName){var ne="fa"===a?nS(s.iconName):{},pe=j5(s.prefix,s.iconName);ne.prefix&&(a=null),s.iconName=ne.iconName||pe||s.iconName,s.prefix=ne.prefix||s.prefix,"far"===s.prefix&&!kc.far&&kc.fas&&!kt.autoFetchSvg&&(s.prefix="fas")}return s},{prefix:null,iconName:null,rest:[]});return("fa"===i.prefix||"fa"===a)&&(i.prefix=Ss()||"fas"),i}(function JZ(n){pf.push(n)})(function(n){dm=mf(n.styleDefault)}),tS();var mJ=function(){function n(){(function DZ(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function SZ(n,t,e){t&&DD(n.prototype,t),e&&DD(n,e),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var e=this,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var s=a.reduce(this._pullDefinitions,{});Object.keys(s).forEach(function(y){e.definitions[y]=ct(ct({},e.definitions[y]||{}),s[y]),fm(y,s[y]);var V=FD[y];V&&fm(V,s[y]),tS()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,r){var a=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(a).map(function(i){var s=a[i],y=s.prefix,V=s.iconName,ne=s.icon,pe=ne[2];e[y]||(e[y]={}),pe.length>0&&pe.forEach(function(we){"string"==typeof we&&(e[y][we]=ne)}),e[y][V]=ne}),e}}]),n}(),rS=[],G5={},$5={},vJ=Object.keys($5);function Cm(n,t){for(var e=arguments.length,r=new Array(e>2?e-2:0),a=2;a<e;a++)r[a-2]=arguments[a];var i=G5[n]||[];return i.forEach(function(s){t=s.apply(null,[t].concat(r))}),t}function $0(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];var a=G5[n]||[];a.forEach(function(i){i.apply(null,e)})}function xo(){var n=arguments[0],t=Array.prototype.slice.call(arguments,1);return $5[n]?$5[n].apply(null,t):void 0}function gm(n){"fa"===n.prefix&&(n.prefix="fas");var t=n.iconName,e=n.prefix||Ss();if(t)return t=j5(e,t)||t,YD(aS.definitions,e,t)||YD(Qa.styles,e,t)}var aS=new mJ,bJ={i2svg:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _o?($0("beforeI2svg",t),xo("pseudoElements2svg",t),xo("i2svg",t)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.autoReplaceSvgRoot;!1===kt.autoReplaceSvg&&(kt.autoReplaceSvg=!0),kt.observeMutations=!0,oJ(function(){xJ({autoReplaceSvgRoot:e}),$0("watch",t)})}},j4={noAuto:function(){kt.autoReplaceSvg=!1,kt.observeMutations=!1,$0("noAuto")},config:kt,dom:bJ,parse:{icon:function(t){if(null===t)return null;if("object"===cf(t)&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:j5(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&2===t.length){var e=0===t[1].indexOf("fa-")?t[1].slice(3):t[1],r=mf(t[0]);return{prefix:r,iconName:j5(r,e)||e}}if("string"==typeof t&&(t.indexOf("".concat(kt.familyPrefix,"-"))>-1||t.match(BZ))){var a=vf(t.split(" "),{skipLookups:!0});return{prefix:a.prefix||Ss(),iconName:j5(a.prefix,a.iconName)||a.iconName}}if("string"==typeof t){var i=Ss();return{prefix:i,iconName:j5(i,t)||t}}}},library:aS,findIconDefinition:gm,toHtml:Ac},xJ=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.autoReplaceSvgRoot,r=void 0===e?p3:e;(Object.keys(Qa.styles).length>0||kt.autoFetchSvg)&&_o&&kt.autoReplaceSvg&&j4.dom.i2svg({node:r})};function yf(n,t){return Object.defineProperty(n,"abstract",{get:t}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(r){return Ac(r)})}}),Object.defineProperty(n,"node",{get:function(){if(_o){var r=p3.createElement("div");return r.innerHTML=n.html,r.children}}}),n}function mm(n){var t=n.icons,e=t.main,r=t.mask,a=n.prefix,i=n.iconName,s=n.transform,y=n.symbol,V=n.title,ne=n.maskId,pe=n.titleId,we=n.extra,ke=n.watchable,qe=void 0!==ke&&ke,S1=r.found?r:e,y1=S1.width,c2=S1.height,h2="fak"===a,W1=[kt.replacementClass,i?"".concat(kt.familyPrefix,"-").concat(i):""].filter(function(qn){return-1===we.classes.indexOf(qn)}).filter(function(qn){return""!==qn||!!qn}).concat(we.classes).join(" "),k2={children:[],attributes:ct(ct({},we.attributes),{},{"data-prefix":a,"data-icon":i,class:W1,role:we.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(y1," ").concat(c2)})},W2=h2&&!~we.classes.indexOf("fa-fw")?{width:"".concat(y1/c2*16*.0625,"em")}:{};qe&&(k2.attributes[j0]=""),V&&(k2.children.push({tag:"title",attributes:{id:k2.attributes["aria-labelledby"]||"title-".concat(pe||Vc())},children:[V]}),delete k2.attributes.title);var X2=ct(ct({},k2),{},{prefix:a,iconName:i,main:e,mask:r,maskId:ne,transform:s,symbol:y,styles:ct(ct({},W2),we.styles)}),Lt=r.found&&e.found?xo("generateAbstractMask",X2)||{children:[],attributes:{}}:xo("generateAbstractIcon",X2)||{children:[],attributes:{}},un=Lt.attributes;return X2.children=Lt.children,X2.attributes=un,y?function wJ(n){var e=n.iconName,r=n.children,a=n.attributes,i=n.symbol,s=!0===i?"".concat(n.prefix,"-").concat(kt.familyPrefix,"-").concat(e):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ct(ct({},a),{},{id:s}),children:r}]}]}(X2):function LJ(n){var t=n.children,e=n.main,r=n.mask,a=n.attributes,i=n.styles,s=n.transform;if(sm(s)&&e.found&&!r.found){var ne={x:e.width/e.height/2,y:.5};a.style=Cf(ct(ct({},i),{},{"transform-origin":"".concat(ne.x+s.x/16,"em ").concat(ne.y+s.y/16,"em")}))}return[{tag:"svg",attributes:a,children:t}]}(X2)}function iS(n){var t=n.content,e=n.width,r=n.height,a=n.transform,i=n.title,s=n.extra,y=n.watchable,V=void 0!==y&&y,ne=ct(ct(ct({},s.attributes),i?{title:i}:{}),{},{class:s.classes.join(" ")});V&&(ne[j0]="");var pe=ct({},s.styles);sm(a)&&(pe.transform=function nJ(n){var t=n.transform,e=n.width,a=n.height,i=void 0===a?16:a,s=n.startCentered,y=void 0!==s&&s,V="";return V+=y&&ED?"translate(".concat(t.x/16-(void 0===e?16:e)/2,"em, ").concat(t.y/16-i/2,"em) "):y?"translate(calc(-50% + ".concat(t.x/16,"em), calc(-50% + ").concat(t.y/16,"em)) "):"translate(".concat(t.x/16,"em, ").concat(t.y/16,"em) "),(V+="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "))+"rotate(".concat(t.rotate,"deg) ")}({transform:a,startCentered:!0,width:e,height:r}),pe["-webkit-transform"]=pe.transform);var we=Cf(pe);we.length>0&&(ne.style=we);var ke=[];return ke.push({tag:"span",attributes:ne,children:[t]}),i&&ke.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),ke}function DJ(n){var t=n.content,e=n.title,r=n.extra,a=ct(ct(ct({},r.attributes),e?{title:e}:{}),{},{class:r.classes.join(" ")}),i=Cf(r.styles);i.length>0&&(a.style=i);var s=[];return s.push({tag:"span",attributes:a,children:[t]}),e&&s.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),s}var vm=Qa.styles;function ym(n){var t=n[0],e=n[1],i=Xg(n.slice(4),1)[0];return{found:!0,width:t,height:e,icon:Array.isArray(i)?{tag:"g",attributes:{class:"".concat(kt.familyPrefix,"-").concat("duotone-group")},children:[{tag:"path",attributes:{class:"".concat(kt.familyPrefix,"-").concat("secondary"),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(kt.familyPrefix,"-").concat("primary"),fill:"currentColor",d:i[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:i}}}}var SJ={found:!1,width:512,height:512};function _m(n,t){var e=t;return"fa"===t&&null!==kt.styleDefault&&(t=Ss()),new Promise(function(r,a){if(xo("missingIconAbstract"),"fa"===e){var s=nS(n)||{};n=s.iconName||n,t=s.prefix||t}if(n&&t&&vm[t]&&vm[t][n])return r(ym(vm[t][n]));(function TJ(n,t){!RD&&!kt.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(t,'" is missing.'))})(n,t),r(ct(ct({},SJ),{},{icon:kt.showMissingIcons&&n&&xo("missingIconAbstract")||{}}))})}var oS=function(){},bm=kt.measurePerformance&&df&&df.mark&&df.measure?df:{mark:oS,measure:oS},zc='FA "6.1.1"',Mm_begin=function(t){return bm.mark("".concat(zc," ").concat(t," begins")),function(){return function(t){bm.mark("".concat(zc," ").concat(t," ends")),bm.measure("".concat(zc," ").concat(t),"".concat(zc," ").concat(t," begins"),"".concat(zc," ").concat(t," ends"))}(t)}},_f=function(){};function lS(n){return"string"==typeof(n.getAttribute?n.getAttribute(j0):null)}function zJ(n){return p3.createElementNS("http://www.w3.org/2000/svg",n)}function NJ(n){return p3.createElement(n)}function cS(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.ceFn,r=void 0===e?"svg"===n.tag?zJ:NJ:e;if("string"==typeof n)return p3.createTextNode(n);var a=r(n.tag);Object.keys(n.attributes||[]).forEach(function(s){a.setAttribute(s,n.attributes[s])});var i=n.children||[];return i.forEach(function(s){a.appendChild(cS(s,{ceFn:r}))}),a}var bf={replace:function(t){var e=t[0];if(e.parentNode)if(t[1].forEach(function(a){e.parentNode.insertBefore(cS(a),e)}),null===e.getAttribute(j0)&&kt.keepOriginalSource){var r=p3.createComment(function EJ(n){var t=" ".concat(n.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(e));e.parentNode.replaceChild(r,e)}else e.remove()},nest:function(t){var e=t[0],r=t[1];if(~om(e).indexOf(kt.replacementClass))return bf.replace(t);var a=new RegExp("".concat(kt.familyPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var i=r[0].attributes.class.split(" ").reduce(function(y,V){return V===kt.replacementClass||V.match(a)?y.toSvg.push(V):y.toNode.push(V),y},{toNode:[],toSvg:[]});r[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?e.removeAttribute("class"):e.setAttribute("class",i.toNode.join(" "))}var s=r.map(function(y){return Ac(y)}).join("\n");e.setAttribute(j0,""),e.innerHTML=s}};function uS(n){n()}function fS(n,t){var e="function"==typeof t?t:_f;if(0===n.length)e();else{var r=uS;"async"===kt.mutateApproach&&(r=ws.requestAnimationFrame||uS),r(function(){var a=function kJ(){return!0===kt.autoReplaceSvg?bf.replace:bf[kt.autoReplaceSvg]||bf.replace}(),i=Mm_begin("mutate");n.map(a),i(),e()})}}var xm=!1;function dS(){xm=!0}function Lm(){xm=!1}var Mf=null;function hS(n){if(ND&&kt.observeMutations){var t=n.treeCallback,e=void 0===t?_f:t,r=n.nodeCallback,a=void 0===r?_f:r,i=n.pseudoElementsCallback,s=void 0===i?_f:i,y=n.observeMutationsRoot,V=void 0===y?p3:y;Mf=new ND(function(ne){if(!xm){var pe=Ss();U5(ne).forEach(function(we){if("childList"===we.type&&we.addedNodes.length>0&&!lS(we.addedNodes[0])&&(kt.searchPseudoElements&&s(we.target),e(we.target)),"attributes"===we.type&&we.target.parentNode&&kt.searchPseudoElements&&s(we.target.parentNode),"attributes"===we.type&&lS(we.target)&&~$Z.indexOf(we.attributeName))if("class"===we.attributeName&&function VJ(n){var t=n.getAttribute?n.getAttribute(rm):null,e=n.getAttribute?n.getAttribute(am):null;return t&&e}(we.target)){var ke=vf(om(we.target)),S1=ke.iconName;we.target.setAttribute(rm,ke.prefix||pe),S1&&we.target.setAttribute(am,S1)}else(function AJ(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(kt.replacementClass)})(we.target)&&a(we.target)})}}),_o&&Mf.observe(V,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function IJ(n){var t=n.getAttribute("style"),e=[];return t&&(e=t.split(";").reduce(function(r,a){var i=a.split(":"),s=i[0],y=i.slice(1);return s&&y.length>0&&(r[s]=y.join(":").trim()),r},{})),e}function PJ(n){var t=n.getAttribute("data-prefix"),e=n.getAttribute("data-icon"),r=void 0!==n.innerText?n.innerText.trim():"",a=vf(om(n));return a.prefix||(a.prefix=Ss()),t&&e&&(a.prefix=t,a.iconName=e),a.iconName&&a.prefix||a.prefix&&r.length>0&&(a.iconName=function CJ(n,t){return(JD[n]||{})[t]}(a.prefix,n.innerText)||hm(a.prefix,um(n.innerText))),a}function RJ(n){var t=U5(n.attributes).reduce(function(a,i){return"class"!==a.name&&"style"!==a.name&&(a[i.name]=i.value),a},{}),e=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return kt.autoA11y&&(e?t["aria-labelledby"]="".concat(kt.replacementClass,"-title-").concat(r||Vc()):(t["aria-hidden"]="true",t.focusable="false")),t}function pS(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},e=PJ(n),r=e.iconName,a=e.prefix,i=e.rest,s=RJ(n),y=Cm("parseNodeAttributes",{},n),V=t.styleParser?IJ(n):[];return ct({iconName:r,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:a,transform:Ai,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:V,attributes:s}},y)}var BJ=Qa.styles;function CS(n){var t="nest"===kt.autoReplaceSvg?pS(n,{styleParser:!1}):pS(n);return~t.extra.classes.indexOf(BD)?xo("generateLayersText",n,t):xo("generateSvgReplacementMutation",n,t)}function gS(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!_o)return Promise.resolve();var e=p3.documentElement.classList,r=function(we){return e.add("".concat(PD,"-").concat(we))},a=function(we){return e.remove("".concat(PD,"-").concat(we))},i=Object.keys(kt.autoFetchSvg?im:BJ),s=[".".concat(BD,":not([").concat(j0,"])")].concat(i.map(function(pe){return".".concat(pe,":not([").concat(j0,"])")})).join(", ");if(0===s.length)return Promise.resolve();var y=[];try{y=U5(n.querySelectorAll(s))}catch(pe){}if(!(y.length>0))return Promise.resolve();r("pending"),a("complete");var V=Mm_begin("onTree"),ne=y.reduce(function(pe,we){try{var ke=CS(we);ke&&pe.push(ke)}catch(qe){RD||"MissingIcon"===qe.name&&console.error(qe)}return pe},[]);return new Promise(function(pe,we){Promise.all(ne).then(function(ke){fS(ke,function(){r("active"),r("complete"),a("pending"),"function"==typeof t&&t(),V(),pe()})}).catch(function(ke){V(),we(ke)})})}function UJ(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;CS(n).then(function(e){e&&fS([e],t)})}var GJ=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.transform,a=void 0===r?Ai:r,i=e.symbol,s=void 0!==i&&i,y=e.mask,V=void 0===y?null:y,ne=e.maskId,pe=void 0===ne?null:ne,we=e.title,ke=void 0===we?null:we,qe=e.titleId,S1=void 0===qe?null:qe,y1=e.classes,c2=void 0===y1?[]:y1,h2=e.attributes,W1=void 0===h2?{}:h2,k2=e.styles,W2=void 0===k2?{}:k2;if(t){var X2=t.prefix,Lt=t.iconName,rn=t.icon;return yf(ct({type:"icon"},t),function(){return $0("beforeDOMElementCreation",{iconDefinition:t,params:e}),kt.autoA11y&&(ke?W1["aria-labelledby"]="".concat(kt.replacementClass,"-title-").concat(S1||Vc()):(W1["aria-hidden"]="true",W1.focusable="false")),mm({icons:{main:ym(rn),mask:V?ym(V.icon):{found:!1,width:null,height:null,icon:{}}},prefix:X2,iconName:Lt,transform:ct(ct({},Ai),a),symbol:s,title:ke,maskId:pe,titleId:S1,extra:{attributes:W1,styles:W2,classes:c2}})})}},$J={mixout:function(){return{icon:(n=GJ,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:gm(t||{}),a=e.mask;return a&&(a=(a||{}).icon?a:gm(a||{})),n(r,ct(ct({},e),{},{mask:a}))})};var n},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=gS,e.nodeCallback=UJ,e}}},provides:function(t){t.i2svg=function(e){var r=e.node,i=e.callback;return gS(void 0===r?p3:r,void 0===i?function(){}:i)},t.generateSvgReplacementMutation=function(e,r){var a=r.iconName,i=r.title,s=r.titleId,y=r.prefix,V=r.transform,ne=r.symbol,pe=r.mask,we=r.maskId,ke=r.extra;return new Promise(function(qe,S1){Promise.all([_m(a,y),pe.iconName?_m(pe.iconName,pe.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(y1){var c2=Xg(y1,2);qe([e,mm({icons:{main:c2[0],mask:c2[1]},prefix:y,iconName:a,transform:V,symbol:ne,maskId:we,title:i,titleId:s,extra:ke,watchable:!0})])}).catch(S1)})},t.generateAbstractIcon=function(e){var ne,r=e.children,a=e.attributes,i=e.main,s=e.transform,V=Cf(e.styles);return V.length>0&&(a.style=V),sm(s)&&(ne=xo("generateAbstractTransformGrouping",{main:i,transform:s,containerWidth:i.width,iconWidth:i.width})),r.push(ne||i.icon),{children:r,attributes:a}}}},WJ={mixout:function(){return{layer:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.classes,i=void 0===a?[]:a;return yf({type:"layer"},function(){$0("beforeDOMElementCreation",{assembler:e,params:r});var s=[];return e(function(y){Array.isArray(y)?y.map(function(V){s=s.concat(V.abstract)}):s=s.concat(y.abstract)}),[{tag:"span",attributes:{class:["".concat(kt.familyPrefix,"-layers")].concat(ff(i)).join(" ")},children:s}]})}}}},qJ={mixout:function(){return{counter:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.title,i=void 0===a?null:a,s=r.classes,y=void 0===s?[]:s,V=r.attributes,ne=void 0===V?{}:V,pe=r.styles,we=void 0===pe?{}:pe;return yf({type:"counter",content:e},function(){return $0("beforeDOMElementCreation",{content:e,params:r}),DJ({content:e.toString(),title:i,extra:{attributes:ne,styles:we,classes:["".concat(kt.familyPrefix,"-layers-counter")].concat(ff(y))}})})}}}},YJ={mixout:function(){return{text:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.transform,i=void 0===a?Ai:a,s=r.title,y=void 0===s?null:s,V=r.classes,ne=void 0===V?[]:V,pe=r.attributes,we=void 0===pe?{}:pe,ke=r.styles,qe=void 0===ke?{}:ke;return yf({type:"text",content:e},function(){return $0("beforeDOMElementCreation",{content:e,params:r}),iS({content:e,transform:ct(ct({},Ai),i),title:y,extra:{attributes:we,styles:qe,classes:["".concat(kt.familyPrefix,"-layers-text")].concat(ff(ne))}})})}}},provides:function(t){t.generateLayersText=function(e,r){var a=r.title,i=r.transform,s=r.extra,y=null,V=null;if(ED){var ne=parseInt(getComputedStyle(e).fontSize,10),pe=e.getBoundingClientRect();y=pe.width/ne,V=pe.height/ne}return kt.autoA11y&&!a&&(s.attributes["aria-hidden"]="true"),Promise.resolve([e,iS({content:e.innerHTML,width:y,height:V,transform:i,title:a,extra:s,watchable:!0})])}}},KJ=new RegExp('"',"ug"),mS=[1105920,1112319];function vS(n,t){var e="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise(function(r,a){if(null!==n.getAttribute(e))return r();var s=U5(n.children).filter(function(Lt){return Lt.getAttribute(nm)===t})[0],y=ws.getComputedStyle(n,t),V=y.getPropertyValue("font-family").match(UZ),ne=y.getPropertyValue("font-weight"),pe=y.getPropertyValue("content");if(s&&!V)return n.removeChild(s),r();if(V&&"none"!==pe&&""!==pe){var we=y.getPropertyValue("content"),ke=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(V[2])?hf[V[2].toLowerCase()]:jZ[ne],qe=function ZJ(n){var t=n.replace(KJ,""),e=function cJ(n,t){var a,e=n.length,r=n.charCodeAt(t);return r>=55296&&r<=56319&&e>t+1&&(a=n.charCodeAt(t+1))>=56320&&a<=57343?1024*(r-55296)+a-56320+65536:r}(t,0),r=e>=mS[0]&&e<=mS[1],a=2===t.length&&t[0]===t[1];return{value:um(a?t[0]:t),isSecondary:r||a}}(we),S1=qe.value,y1=qe.isSecondary,c2=V[0].startsWith("FontAwesome"),h2=hm(ke,S1),W1=h2;if(c2){var k2=function gJ(n){var t=QD[n],e=hm("fas",n);return t||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}(S1);k2.iconName&&k2.prefix&&(h2=k2.iconName,ke=k2.prefix)}if(!h2||y1||s&&s.getAttribute(rm)===ke&&s.getAttribute(am)===W1)r();else{n.setAttribute(e,W1),s&&n.removeChild(s);var W2=function FJ(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Ai,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),X2=W2.extra;X2.attributes[nm]=t,_m(h2,ke).then(function(Lt){var rn=mm(ct(ct({},W2),{},{icons:{main:Lt,mask:{prefix:null,iconName:null,rest:[]}},prefix:ke,iconName:W1,extra:X2,watchable:!0})),un=p3.createElement("svg");"::before"===t?n.insertBefore(un,n.firstChild):n.appendChild(un),un.outerHTML=rn.map(function(qn){return Ac(qn)}).join("\n"),n.removeAttribute(e),r()}).catch(a)}}else r()})}function JJ(n){return Promise.all([vS(n,"::before"),vS(n,"::after")])}function XJ(n){return!(n.parentNode===document.head||~RZ.indexOf(n.tagName.toUpperCase())||n.getAttribute(nm)||n.parentNode&&"svg"===n.parentNode.tagName)}function yS(n){if(_o)return new Promise(function(t,e){var r=U5(n.querySelectorAll("*")).filter(XJ).map(JJ),a=Mm_begin("searchPseudoElements");dS(),Promise.all(r).then(function(){a(),Lm(),t()}).catch(function(){a(),Lm(),e()})})}var _S=!1,bS=function(t){return t.toLowerCase().split(" ").reduce(function(r,a){var i=a.toLowerCase().split("-"),s=i[0],y=i.slice(1).join("-");if(s&&"h"===y)return r.flipX=!0,r;if(s&&"v"===y)return r.flipY=!0,r;if(y=parseFloat(y),isNaN(y))return r;switch(s){case"grow":r.size=r.size+y;break;case"shrink":r.size=r.size-y;break;case"left":r.x=r.x-y;break;case"right":r.x=r.x+y;break;case"up":r.y=r.y-y;break;case"down":r.y=r.y+y;break;case"rotate":r.rotate=r.rotate+y}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},wm={x:0,y:0,width:"100%",height:"100%"};function MS(n){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||t)&&(n.attributes.fill="black"),n}!function yJ(n,t){var e=t.mixoutsTo;rS=n,G5={},Object.keys($5).forEach(function(r){-1===vJ.indexOf(r)&&delete $5[r]}),rS.forEach(function(r){var a=r.mixout?r.mixout():{};if(Object.keys(a).forEach(function(s){"function"==typeof a[s]&&(e[s]=a[s]),"object"===cf(a[s])&&Object.keys(a[s]).forEach(function(y){e[s]||(e[s]={}),e[s][y]=a[s][y]})}),r.hooks){var i=r.hooks();Object.keys(i).forEach(function(s){G5[s]||(G5[s]=[]),G5[s].push(i[s])})}r.provides&&r.provides($5)})}([aJ,$J,WJ,qJ,YJ,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=yS,e}}},provides:function(t){t.pseudoElements2svg=function(e){var r=e.node;kt.searchPseudoElements&&yS(void 0===r?p3:r)}}},{mixout:function(){return{dom:{unwatch:function(){dS(),_S=!0}}}},hooks:function(){return{bootstrap:function(){hS(Cm("mutationObserverCallbacks",{}))},noAuto:function(){!function OJ(){!Mf||Mf.disconnect()}()},watch:function(e){var r=e.observeMutationsRoot;_S?Lm():hS(Cm("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(e){return bS(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,r){var a=r.getAttribute("data-fa-transform");return a&&(e.transform=bS(a)),e}}},provides:function(t){t.generateAbstractTransformGrouping=function(e){var r=e.main,a=e.transform,s=e.iconWidth,y={transform:"translate(".concat(e.containerWidth/2," 256)")},V="translate(".concat(32*a.x,", ").concat(32*a.y,") "),ne="scale(".concat(a.size/16*(a.flipX?-1:1),", ").concat(a.size/16*(a.flipY?-1:1),") "),pe="rotate(".concat(a.rotate," 0 0)"),qe={outer:y,inner:{transform:"".concat(V," ").concat(ne," ").concat(pe)},path:{transform:"translate(".concat(s/2*-1," -256)")}};return{tag:"g",attributes:ct({},qe.outer),children:[{tag:"g",attributes:ct({},qe.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:ct(ct({},r.icon.attributes),qe.path)}]}]}}}},{hooks:function(){return{parseNodeAttributes:function(e,r){var a=r.getAttribute("data-fa-mask"),i=a?vf(a.split(" ").map(function(s){return s.trim()})):{prefix:null,iconName:null,rest:[]};return i.prefix||(i.prefix=Ss()),e.mask=i,e.maskId=r.getAttribute("data-fa-mask-id"),e}}},provides:function(t){t.generateAbstractMask=function(e){var n,r=e.children,a=e.attributes,i=e.main,s=e.mask,y=e.maskId,pe=i.icon,ke=s.icon,qe=function tJ(n){var t=n.transform,r=n.iconWidth,a={transform:"translate(".concat(n.containerWidth/2," 256)")},i="translate(".concat(32*t.x,", ").concat(32*t.y,") "),s="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),y="rotate(".concat(t.rotate," 0 0)");return{outer:a,inner:{transform:"".concat(i," ").concat(s," ").concat(y)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:e.transform,containerWidth:s.width,iconWidth:i.width}),S1={tag:"rect",attributes:ct(ct({},wm),{},{fill:"white"})},y1=pe.children?{children:pe.children.map(MS)}:{},c2={tag:"g",attributes:ct({},qe.inner),children:[MS(ct({tag:pe.tag,attributes:ct(ct({},pe.attributes),qe.path)},y1))]},h2={tag:"g",attributes:ct({},qe.outer),children:[c2]},W1="mask-".concat(y||Vc()),k2="clip-".concat(y||Vc()),W2={tag:"mask",attributes:ct(ct({},wm),{},{id:W1,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[S1,h2]},X2={tag:"defs",children:[{tag:"clipPath",attributes:{id:k2},children:(n=ke,"g"===n.tag?n.children:[n])},W2]};return r.push(X2,{tag:"rect",attributes:ct({fill:"currentColor","clip-path":"url(#".concat(k2,")"),mask:"url(#".concat(W1,")")},wm)}),{children:r,attributes:a}}}},{provides:function(t){var e=!1;ws.matchMedia&&(e=ws.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var r=[],a={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:ct(ct({},a),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var s=ct(ct({},i),{},{attributeName:"opacity"}),y={tag:"circle",attributes:ct(ct({},a),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||y.children.push({tag:"animate",attributes:ct(ct({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ct(ct({},s),{},{values:"1;0;1;1;0;1;"})}),r.push(y),r.push({tag:"path",attributes:ct(ct({},a),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:ct(ct({},s),{},{values:"1;0;0;0;0;1;"})}]}),e||r.push({tag:"path",attributes:ct(ct({},a),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ct(ct({},s),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(e,r){var a=r.getAttribute("data-fa-symbol");return e.symbol=null!==a&&(""===a||a),e}}}}],{mixoutsTo:j4});var sX=j4.parse,lX=j4.icon;const cX=["*"],dX=n=>{const t={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(t).map(e=>t[e]?e:null).filter(e=>e)};let CX=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gX=(()=>{class n{constructor(){this.definitions={}}addIcons(...e){for(const r of e){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(const a of r.icon[2])"string"==typeof a&&(this.definitions[r.prefix][a]=r)}}addIconPacks(...e){for(const r of e){const a=Object.keys(r).map(i=>r[i]);this.addIcons(...a)}}getIconDefinition(e,r){return e in this.definitions&&r in this.definitions[e]?this.definitions[e][r]:null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mX=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(e){if("size"in e)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=U2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[Zn]}),n})(),vX=(()=>{class n{constructor(e,r){this.renderer=e,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(e){"size"in e&&(null!=e.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${e.size.currentValue}`),null!=e.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${e.size.previousValue}`))}}return n.\u0275fac=function(e){return new(e||n)(P1(R4),P1(Wn))},n.\u0275cmp=Hn({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[Zn],ngContentSelectors:cX,decls:1,vars:0,template:function(e,r){1&e&&(zp(),Np(0))},encapsulation:2}),n})(),ua=(()=>{class n{constructor(e,r,a,i,s){this.sanitizer=e,this.config=r,this.iconLibrary=a,this.stackItem=i,this.classes=[],null!=s&&null==i&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(e){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let r=null;if(r=null==this.icon?this.config.fallbackIcon:this.icon,e){const a=this.findIconDefinition(r);if(null!=a){const i=this.buildParams();this.renderIcon(a,i)}}}render(){this.ngOnChanges({})}findIconDefinition(e){const r=((n,t)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:"string"==typeof n?{prefix:t,iconName:n}:void 0)(e,this.config.defaultPrefix);if("icon"in r)return r;const a=this.iconLibrary.getIconDefinition(r.prefix,r.iconName);return null!=a?a:((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(r),null)}buildParams(){const e={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?sX.transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...dX(e),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(e,r){const a=lX(e,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(a.html.join("\n"))}}return n.\u0275fac=function(e){return new(e||n)(P1(Rx),P1(CX),P1(gX),P1(mX,8),P1(vX,8))},n.\u0275cmp=Hn({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(e,r){2&e&&(so("innerHTML",r.renderedIconHTML,Qr),Bn("title",r.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[Zn],decls:0,vars:0,template:function(e,r){},encapsulation:2}),n})(),yX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=en({type:n}),n.\u0275inj=wt({}),n})();const _X=new tn("WindowToken","undefined"!=typeof window&&window.document?{providedIn:"root",factory:()=>window}:{providedIn:"root",factory:()=>{}});let bX=(()=>{class n{constructor(e,r,a){this.ngZone=e,this.document=r,this.window=a,this.copySubject=new j,this.copyResponse$=this.copySubject.asObservable(),this.config={}}configure(e){this.config=e}copy(e){if(!this.isSupported||!e)return this.pushCopyResponse({isSuccess:!1,content:e});const r=this.copyFromContent(e);return this.pushCopyResponse(r?{content:e,isSuccess:r}:{isSuccess:!1,content:e})}get isSupported(){return!!this.document.queryCommandSupported&&!!this.document.queryCommandSupported("copy")&&!!this.window}isTargetValid(e){if(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement){if(e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');return!0}throw new Error("Target should be input or textarea")}copyFromInputElement(e,r=!0){try{this.selectTarget(e);const a=this.copyText();return this.clearSelection(r?e:void 0,this.window),a&&this.isCopySuccessInIE11()}catch(a){return!1}}isCopySuccessInIE11(){const e=this.window.clipboardData;return!(e&&e.getData&&!e.getData("Text"))}copyFromContent(e,r=this.document.body){if(this.tempTextArea&&!r.contains(this.tempTextArea)&&this.destroy(this.tempTextArea.parentElement||void 0),!this.tempTextArea){this.tempTextArea=this.createTempTextArea(this.document,this.window);try{r.appendChild(this.tempTextArea)}catch(i){throw new Error("Container should be a Dom element")}}this.tempTextArea.value=e;const a=this.copyFromInputElement(this.tempTextArea,!1);return this.config.cleanUpAfterCopy&&this.destroy(this.tempTextArea.parentElement||void 0),a}destroy(e=this.document.body){this.tempTextArea&&(e.removeChild(this.tempTextArea),this.tempTextArea=void 0)}selectTarget(e){return e.select(),e.setSelectionRange(0,e.value.length),e.value.length}copyText(){return this.document.execCommand("copy")}clearSelection(e,r){var a;e&&e.focus(),null===(a=r.getSelection())||void 0===a||a.removeAllRanges()}createTempTextArea(e,r){const a="rtl"===e.documentElement.getAttribute("dir");let i;return i=e.createElement("textarea"),i.style.fontSize="12pt",i.style.border="0",i.style.padding="0",i.style.margin="0",i.style.position="absolute",i.style[a?"right":"left"]="-9999px",i.style.top=(r.pageYOffset||e.documentElement.scrollTop)+"px",i.setAttribute("readonly",""),i}pushCopyResponse(e){this.copySubject.observers.length>0&&this.ngZone.run(()=>{this.copySubject.next(e)})}pushCopyReponse(e){this.pushCopyResponse(e)}}return n.\u0275fac=function(e){return new(e||n)(J2(Qn),J2(Z3),J2(_X,8))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=en({type:n}),n.\u0275inj=wt({imports:[[D4]]}),n})();class Nc{}Nc.rootUrl="https://github.com/jirkapok/GasPlanner",Nc.mainHelpUrl=Nc.rootUrl+"/blob/master/doc";class Sr{constructor(t,e,r,a,i,s){this._n2HalfTime=t,this._n2A=e,this._n2B=r,this._heHalfTime=a,this._heA=i,this._heB=s}get n2HalfTime(){return this._n2HalfTime}get n2A(){return this._n2A}get n2B(){return this._n2B}get heHalfTime(){return this._heHalfTime}get heA(){return this._heA}get heB(){return this._heB}}class Dm{}Dm.Buhlmann_ZHL16C=[new Sr(5,1.1696,.5578,1.88,1.6189,.477),new Sr(8,1,.6514,3.02,1.383,.5747),new Sr(12.5,.8618,.7222,4.72,1.1919,.6527),new Sr(18.5,.7562,.7826,6.99,1.0458,.7223),new Sr(27,.62,.8125,10.21,.922,.7582),new Sr(38.3,.5043,.8434,14.48,.8205,.7957),new Sr(54.3,.441,.8693,20.53,.7305,.8279),new Sr(77,.4,.891,29.11,.6502,.8553),new Sr(109,.375,.9092,41.2,.595,.8757),new Sr(146,.35,.9222,55.19,.5545,.8903),new Sr(187,.3295,.9319,70.69,.5333,.8997),new Sr(239,.3065,.9403,90.34,.5189,.9073),new Sr(305,.2835,.9477,115.29,.5181,.9122),new Sr(390,.261,.9544,147.42,.5176,.9171),new Sr(498,.248,.9602,188.24,.5172,.9217),new Sr(635,.2327,.9653,240.03,.5119,.9267)];var Q3=(()=>{return(n=Q3||(Q3={}))[n.noAction=0]="noAction",n[n.error=1]="error",n[n.gasSwitch=2]="gasSwitch",n[n.reachedNoDeco=3]="reachedNoDeco",n[n.lowPpO2=4]="lowPpO2",n[n.highPpO2=5]="highPpO2",n[n.highAscentSpeed=6]="highAscentSpeed",n[n.highDescentSpeed=7]="highDescentSpeed",n[n.brokenCeiling=8]="brokenCeiling",n[n.maxEndExceeded=9]="maxEndExceeded",n[n.switchToHigherN2=10]="switchToHigherN2",Q3;var n})();class xX{constructor(t,e,r,a,i){this.timeStamp=t,this.depth=e,this.type=r,this.message=a,this.gas=i}}class fa{static createGasSwitch(t,e,r){return{timeStamp:t,depth:e,type:Q3.gasSwitch,gas:r}}static createError(t){return{timeStamp:0,depth:0,type:Q3.error,message:t}}static createLowPpO2(t,e){return{timeStamp:t,depth:e,type:Q3.lowPpO2}}static createHighPpO2(t,e){return{timeStamp:t,depth:e,type:Q3.highPpO2}}static createHighAscentSpeed(t,e){return{timeStamp:t,depth:e,type:Q3.highAscentSpeed}}static createHighDescentSpeed(t,e){return{timeStamp:t,depth:e,type:Q3.highDescentSpeed}}static createBrokenCeiling(t,e){return{timeStamp:t,depth:e,type:Q3.brokenCeiling}}static createMaxEndExceeded(t,e,r){return{timeStamp:t,depth:e,type:Q3.maxEndExceeded,gas:r}}static createSwitchToHigherN2(t,e,r){return{timeStamp:t,depth:e,type:Q3.switchToHigherN2,gas:r}}}class xS{constructor(){this.items=[]}add(t){this.items.push(t)}}class LX{constructor(t,e){this.time=t,this.depth=e}get notAtSurface(){return this.depth>0}static isDecoDive(t){for(const e of t)if(e.notAtSurface)return!0;return!1}}class W5{constructor(t,e,r){this.seg=t,this.ceil=e,this.err=r}get segments(){return this.seg}get ceilings(){return this.ceil}get errors(){return this.err}static fromErrors(t,e){return new W5(t,[],e)}static fromProfile(t,e){return new W5(t,e,[])}}class W0{constructor(){this.bottomGases=[]}get all(){return this.bottomGases.slice()}get hasBottomGas(){return this.bottomGases.length>=1}static fromTanks(t){const e=new W0;return t.forEach(r=>{e.add(r.gas)}),e}bestGas(t,e,r){const a=e.toBar(r.currentDepth);let i=r.currentGas;return this.bottomGases.forEach((s,y)=>{const V=this.bottomGases[y],ne=V.mod(r.maxDecoPpO2),pe=t.toDecoStop(ne),we=V.end(a,r.oxygenNarcotic);r.currentDepth<=pe&&we<=r.maxEndPressure&&(!i||i.fO2<V.fO2)&&(i=V)}),i}add(t){this.bottomGases.push(t)}isRegistered(t){return this.bottomGases.includes(t)}}class da{static partialPressure(t,e){return t*e}static mod(t,e){return t/e}static bestMix(t,e,r){const i=t/r.toBar(e);return i>1?1:i}static ead(t,e){return da.end(e,1-t)/xt.nitroxInAir}static end(t,e,r=0){return t*this.narcoticIndex(r,e)}static mnd(t,e,r=0){return t/this.narcoticIndex(r,e)}static ceiling(t,e){const i=.18/t*e;return i<e?e:i}static narcoticIndex(t,e=0){return e+t}}class Cr{constructor(t,e){if(this._fO2=t,this._fHe=e,this.contentExceeds100percent())throw new Error("O2 + He can't exceed 100 %")}get fN2(){return 1-this._fO2-this._fHe}get fO2(){return this._fO2}get fHe(){return this._fHe}set fO2(t){this._fO2=t>1?1:t,this.contentExceeds100percent()&&(this._fHe=this.countRemaining(this._fO2))}set fHe(t){this._fHe=t>.99?.99:t,this.contentExceeds100percent()&&(this._fO2=this.countRemaining(this._fHe))}copy(){return new Cr(this._fO2,this._fHe)}mod(t){return da.mod(t,this._fO2)}end(t,e){return da.end(t,this.fN2,e?this._fO2:0)}mnd(t,e){return da.mnd(t,this.fN2,e?this._fO2:0)}ceiling(t){return da.ceiling(this._fO2,t)}compositionEquals(t){return!!t&&this._fO2===t._fO2&&this._fHe===t._fHe}contentCode(){return 1e4*Math.round(1e4*this._fO2)+Math.round(1e4*this._fHe)}contentExceeds100percent(){return this._fO2+this._fHe>1}countRemaining(t){return Math.round(1e5*(1-t))/1e5}}class xt{static nitroxNames(){return xt.allNames().slice(0,6)}static allNames(){return Array.from(xt.map.keys())}static nameFor(t,e=0){const a=Math.round(100*t),i=Math.round(100*e);return a<=0?"":i<=0?a>=100?xt.oxygenName:21===a?xt.airName:"EAN"+a.toString():`${a>=21?"Helitrox":"Trimix"} ${a.toString()}/${i.toString()}`}static byName(t){if(xt.map.has(t)){const r=xt.map.get(t);return null!=r?r:null}const e=xt.namesRegEx.exec(t);if(e){if(e[1]){const r=Number(e[1])/100;if(r>0)return new Cr(r,0)}if(e[2]&&e[3]){const r=Number(e[2])/100,a=Number(e[3])/100;if(r>0&&a>0)return new Cr(r,a)}}return null}}xt.o2InAir=.209,xt.nitroxInAir=1-xt.o2InAir,xt.oxygen=new Cr(1,0),xt.ean50=new Cr(.5,0),xt.ean38=new Cr(.38,0),xt.ean36=new Cr(.36,0),xt.ean32=new Cr(.32,0),xt.trimix3525=new Cr(.35,.25),xt.trimix2525=new Cr(.25,.25),xt.air=new Cr(xt.o2InAir,0),xt.trimix2135=new Cr(.21,.35),xt.trimix1845=new Cr(.18,.45),xt.trimix1555=new Cr(.15,.55),xt.trimix1260=new Cr(.12,.6),xt.trimix1070=new Cr(.1,.7),xt.airName="Air",xt.oxygenName="Oxygen",xt.namesRegEx=/[EAN](?<fO2>\d{2})|(?<fO2b>\d{2})\/(?<fHe>\d{2})/i,xt.map=new Map([[xt.airName,xt.air],["EAN32",xt.ean32],["EAN36",xt.ean36],["EAN38",xt.ean38],["EAN50",xt.ean50],[xt.oxygenName,xt.oxygen],["Helitrox 35/25",xt.trimix3525],["Helitrox 25/25",xt.trimix2525],["Helitrox 21/35",xt.trimix2135],["Trimix 18/45",xt.trimix1845],["Trimix 15/55",xt.trimix1555],["Trimix 12/60",xt.trimix1260],["Trimix 10/70",xt.trimix1070]]);class DX extends Sr{constructor(t,e){super(t.n2HalfTime,t.n2A,t.n2B,t.heHalfTime,t.heA,t.heB),this._pN2=0,this._pHe=0,this._pTotal=0,this._a=0,this._b=0,this._pN2=da.partialPressure(e,.79)-.0627,this._pHe=0,this._pTotal=this.pN2+this.pHe}get pN2(){return this._pN2}get pHe(){return this._pHe}get pTotal(){return this._pTotal}get a(){return this._a}get b(){return this._b}ceiling(t){return(this.pTotal-this.a*t)/(t/this.b+1-t)}load(t,e){this._pN2=this.loadGas(t,e.fN2,this.pN2,this.n2HalfTime),this._pHe=this.loadGas(t,e.fHe,this.pHe,this.heHalfTime);const r=this.pTotal;return this._pTotal=this.pN2+this.pHe,this._a=(this.n2A*this.pN2+this.heA*this.pHe)/this.pTotal,this._b=(this.n2B*this.pN2+this.heB*this.pHe)/this.pTotal,this.pTotal-r}loadGas(t,e,r,a){return this.schreinerEquation(r,t.startPressure*e,t.duration,a,t.speed*e)}schreinerEquation(t,e,r,a,i){const y=.01155245301/a;return e+i*(r-1/y)-(e-t-i/y)*Math.exp(-y*r)}}class SX{constructor(t){this.compartments=[];for(let e=0;e<Dm.Buhlmann_ZHL16C.length;e++){const a=new DX(Dm.Buhlmann_ZHL16C[e],t);this.compartments.push(a)}}ceiling(t){let e=0;for(let r=0;r<this.compartments.length;r++){const a=this.compartments[r].ceiling(t);a>e&&(e=a)}return e}load(t,e){let r=0;for(let a=0;a<this.compartments.length;a++)r+=this.compartments[a].load(t,e);return r}}class Qt{static toSeconds(t){return t*Qt.oneMinute}static toMinutes(t){return t/Qt.oneMinute}static toDate(t){return new Date(1970,1,1,0,0,t,0)}static secondsFromDate(t){const e=new Date(t);let r=e.getSeconds();return r+=e.getMinutes()*Qt.oneMinute,r+=e.getHours()*Math.pow(Qt.oneMinute,2),r}}Qt.oneSecond=1,Qt.oneMinute=60,Qt.oneDay=1440*Qt.oneMinute;class Sm{static validate(t,e){const r=[];if(!t.any()){const a=fa.createError("There needs to be at least one segment at depth.");r.push(a)}return t.withAll(a=>{Sm.validateRegisteredGas(r,e,a)}),r}static validateRegisteredGas(t,e,r){if(!e.isRegistered(r.gas)){const i=fa.createError(`Segment ${r.startDepth}-${r.endDepth} has gas not registered in gases.`);t.push(i)}}}class ei{constructor(t,e,r,a){this.startDepth=t,this.endDepth=e,this._gas=r,this.duration=a}static from(t){const e=new ei(t.startDepth,t.endDepth,t._gas,t.duration);return e.tank=t.tank,e}static depthAt(t,e,r){return t+e*r}get gas(){return this._gas}get tank(){return this._tank}set tank(t){this._tank=t,t&&(this._gas=t.gas)}contentEquals(t){return this.speed===t.speed&&this._gas===t._gas}get speed(){return(this.endDepth-this.startDepth)/this.duration}get averageDepth(){return(this.startDepth+this.endDepth)/2}depthAt(t){return ei.depthAt(this.startDepth,this.speed,t)}mergeFrom(t){this.duration+=t.duration,this.endDepth=t.endDepth}}class ur{constructor(){this.segments=[],this._maxDepth=0}static from(t){return ur.fromCollection(t.segments)}static fromCollection(t){const e=new ur;return t.forEach(r=>{const a=ei.from(r);e.segments.push(a),e.updateMaxDepth(a)}),e}static duration(t){let e=0;for(const r of t)e+=r.duration;return e}static averageDepth(t){if(t.length<=0)return 0;let e=0,r=0;return t.forEach(a=>{if(a.duration>0){const i=a.averageDepth*a.duration+r*e;r+=a.duration,e=i/r}}),e}get length(){return this.segments.length}get items(){return this.segments.slice()}get maxDepth(){return this._maxDepth}get currentDepth(){return this.any()?this.last().endDepth:0}get duration(){return ur.duration(this.segments)}add(t,e,r,a){const i=new ei(t,e,r,a);return this.segments.push(i),this.updateMaxDepth(i),i}addFlat(t,e,r){return this.add(t,t,e,r)}addChangeTo(t,e,r){return this.add(this.currentDepth,t,e,r)}mergeFlat(t=0){if(t<0)return this.segments;const e=[];for(let r=this.segments.length-1;r>t;r--){const a=this.segments[r-1],i=this.segments[r];a.contentEquals(i)&&(a.mergeFrom(i),e.push(i))}return this.segments=this.segments.filter(r=>!e.includes(r)),this.segments}remove(t){this.segments=this.segments.filter(e=>e!==t),this.fixStartDepths()}withAll(t){for(let e=0;e<this.segments.length;e++)t(this.segments[e])}any(){return 0!==this.segments.length}last(){return this.segments[this.segments.length-1]}copy(){return ur.from(this)}fixStartDepths(){this.any()&&(this.segments[0].startDepth=0);for(let t=0;t<this.segments.length-1;t++){const r=this.segments[t+1];r.startDepth=this.segments[t].endDepth,this.updateMaxDepth(r)}}deepestPart(){for(let t=this.segments.length-1;t>=0;t--)if(this.segments[t].endDepth===this.maxDepth)return this.items.slice(0,t+1);return[]}get startAscentIndex(){return this.deepestPart().length}get startAscentTime(){const t=this.deepestPart();return ur.duration(t)}updateMaxDepth(t){t.endDepth>this._maxDepth&&(this._maxDepth=t.endDepth)}}class Ec{static createForPlan(t,e,r,a){const i=new ur,s=Ec.descentDuration(t,a);i.add(0,t,r.gas,s).tank=r;let V=Qt.toSeconds(e)-s;return V=V<0?0:V,i.addFlat(t,r.gas,V).tank=r,i}static descentDuration(t,e){let r=t/e.descentSpeed;return r=Math.ceil(10*r)/10,r=Qt.toSeconds(r),Math.ceil(r)}}var S4=(()=>{return(n=S4||(S4={}))[n.fresh=1]="fresh",n[n.brackish=2]="brackish",n[n.salt=3]="salt",S4;var n})();let xf=(()=>{class n{}return n.fresh=1e3,n.brackish=1020,n.salt=1030,n})(),LS=(()=>{class n{}return n.standard=9.80665,n})(),Lf=(()=>{class n{static pascalToBar(e){return e/n.coefficient}static barToPascal(e){return e*n.coefficient}}return n.coefficient=1e5,n})(),TX=(()=>{class n{static atAltitude(e){return Lf.barToPascal(this.standard)*Math.pow(288.15/(288.15+-.0065*e),.0289644*LS.standard/-.05404308)}}return n.standard=1.01325,n})();class q0{constructor(t){this.options=t}create(){switch(this.options.salinity){case S4.salt:return Lo.forSaltWater(this.options.altitude);case S4.brackish:return Lo.forBrackishWater(this.options.altitude);default:return Lo.forFreshWater(this.options.altitude)}}}class Lo{constructor(t,e){this.density=t,this._gravity=LS.standard;const r=TX.atAltitude(e);this._surfacePressure=Lf.pascalToBar(r)}get surfacePressure(){return this._surfacePressure}static forSaltWater(t=0){return new Lo(xf.salt,t)}static forBrackishWater(t=0){return new Lo(xf.brackish,t)}static forFreshWater(t=0){return new Lo(xf.fresh,t)}static simple(){const t=new Lo(xf.fresh,0);return t._surfacePressure=1,t._gravity=10,t}toBar(t){return Lf.pascalToBar(t*(this.density*this._gravity))+this._surfacePressure}fromBar(t){if(t<this._surfacePressure)throw new Error("Lower pressure than altitude isn`t convertible to depth.");const e=this.density*this._gravity;return Lf.barToPascal(t-this._surfacePressure)/e}}class HX{constructor(t,e,r){this.depthConverter=t,this.options=e,this.tissues=r,this.lowestCeiling=0,this.lowestCeiling=this.depthConverter.surfacePressure+1}ceiling(){let t=this.tolerated();return t<this.depthConverter.surfacePressure&&(t=this.depthConverter.surfacePressure),this.depthConverter.fromBar(t)}toleratedTissues(t,e,r,a){const i=this.tissues.compartments;let s=0;for(let y=0;y<i.length;y++){const V=i[y];let ne=s;(t/V.b+V.a-t)*r+t<(e/V.b+V.a-e)*a+e&&(ne=(-V.a*V.b*(r*e-a*t)-(1-V.b)*(r-a)*e*t+V.b*(e-t)*V.pTotal)/(-V.a*V.b*(r-a)+(1-V.b)*(a*e-r*t)+V.b*(e-t))),ne>=s&&(s=ne)}return s}tolerated(){const t=this.options.gfLow,e=this.options.gfHigh,r=this.depthConverter.surfacePressure,a=this.tissues.ceiling(t);return a>this.lowestCeiling&&(this.lowestCeiling=a),this.toleratedTissues(r,this.lowestCeiling,e,t)}}let wS=(()=>{class n{constructor(e){this.options=e,this.averageDepth=0}markAverageDepth(e){const r=e.deepestPart();this.averageDepth=ur.averageDepth(r)}ascent(e){return e>n.sixMeters?e>this.averageDepth/2?this.options.ascentSpeed50perc:this.options.ascentSpeed50percTo6m:this.options.ascentSpeed6m}}return n.sixMeters=6,n})();var T4=(()=>{return(n=T4||(T4={}))[n.never=1]="never",n[n.auto=2]="auto",n[n.always=3]="always",T4;var n})();class st{static setMediumConservatism(t){t.gfLow=st.gfLow,t.gfHigh=st.gfHigh}static useRecreational(t){st.useGeneralRecommended(t),t.ascentSpeed50perc=st.ascentSpeed50perc,t.ascentSpeed50percTo6m=st.ascentSpeed50perc,t.ascentSpeed6m=st.ascentSpeed50perc,t.lastStopDepth=st.lastStopDepthRecre}static useRecommended(t){st.useGeneralRecommended(t),t.ascentSpeed50perc=st.ascentSpeed50perc,t.ascentSpeed50percTo6m=st.ascentSpeed50percTo6m,t.ascentSpeed6m=st.ascentSpeed6m,t.lastStopDepth=st.lastStopDepth}static useGeneralRecommended(t){t.safetyStop=st.safetyStopRecre,t.roundStopsToMinutes=st.roundStopsToMinutes,t.gasSwitchDuration=st.gasSwitchDuration,t.descentSpeed=st.descentSpeed,t.oxygenNarcotic=st.oxygenNarcotic,t.maxEND=st.maxEND}}st.altitude=0,st.saltWater=S4.salt,st.roundStopsToMinutes=!1,st.gasSwitchDuration=2,st.problemSolvingDuration=1,st.lastStopDepth=3,st.lastStopDepthRecre=5,st.safetyStopRecre=T4.auto,st.decoStopDistance=3,st.minimumAutoStopDepth=10,st.addSafetyStop=!0,st.maxEND=30,st.oxygenNarcotic=!0,st.ascentSpeed6m=3,st.ascentSpeed50percTo6m=6,st.ascentSpeed50perc=9,st.descentSpeed=18,st.gfLow=.4,st.gfHigh=.85,st.maxPpO2=1.4,st.maxDecoPpO2=1.6;class DS{constructor(t=st.gfLow,e=st.gfHigh,r=st.maxPpO2,a=st.maxDecoPpO2,i=st.saltWater){this.gfLow=t,this.gfHigh=e,this.maxPpO2=r,this.maxDecoPpO2=a,this.salinity=i,this.altitude=st.altitude,this.roundStopsToMinutes=st.roundStopsToMinutes,this.gasSwitchDuration=st.gasSwitchDuration,this.safetyStop=st.safetyStopRecre,this.lastStopDepth=st.lastStopDepth,this.decoStopDistance=st.decoStopDistance,this.minimumAutoStopDepth=st.minimumAutoStopDepth,this.maxEND=st.maxEND,this.oxygenNarcotic=!0,this.ascentSpeed6m=st.ascentSpeed6m,this.ascentSpeed50percTo6m=st.ascentSpeed50percTo6m,this.ascentSpeed50perc=st.ascentSpeed50perc,this.descentSpeed=st.descentSpeed,this.problemSolvingDuration=st.problemSolvingDuration,this.gfLow=t||st.gfLow,this.gfHigh=e||st.gfHigh,this.maxPpO2=r||st.maxPpO2,this.maxDecoPpO2=a||st.maxDecoPpO2,this.salinity=i||st.saltWater}loadFrom(t){this.gfLow=t.gfLow||this.gfLow,this.gfHigh=t.gfHigh||this.gfHigh,this.maxPpO2=t.maxPpO2||this.maxPpO2,this.maxDecoPpO2=t.maxDecoPpO2||this.maxDecoPpO2,this.salinity=t.salinity||this.salinity,this.altitude=t.altitude||this.altitude,this.roundStopsToMinutes=t.roundStopsToMinutes||this.roundStopsToMinutes,this.gasSwitchDuration=t.gasSwitchDuration||this.gasSwitchDuration,this.problemSolvingDuration=t.problemSolvingDuration||this.problemSolvingDuration,this.lastStopDepth=t.lastStopDepth||this.lastStopDepth,this.safetyStop=t.safetyStop||this.safetyStop,this.maxEND=t.maxEND||this.maxEND,this.ascentSpeed6m=t.ascentSpeed6m||this.ascentSpeed6m,this.ascentSpeed50percTo6m=t.ascentSpeed50percTo6m||this.ascentSpeed50percTo6m,this.ascentSpeed50perc=t.ascentSpeed50perc||this.ascentSpeed50perc,this.descentSpeed=t.descentSpeed||this.descentSpeed}}class Tm{constructor(t,e){this.depthConverter=t,this.options=e}toDecoStop(t){const e=this.depthConverter.fromBar(t);return this.roundToDeco(e)}nextStop(t){if(t<=this.options.lastStopDepth)return 0;const e=Math.floor(t/this.options.decoStopDistance)*this.options.decoStopDistance;if(e!==t)return e;const r=t-this.options.decoStopDistance;return r<=this.options.lastStopDepth?this.options.lastStopDepth:r}addSafetyStop(t,e){return(this.options.safetyStop===T4.always||this.options.safetyStop===T4.auto&&e>this.options.minimumAutoStopDepth)&&t===this.options.lastStopDepth}roundToDeco(t){return Math.round(t/this.options.decoStopDistance)*this.options.decoStopDistance}}class SS{constructor(t,e,r,a){this.gases=t,this.segments=e,this.options=r,this.depthConverter=a,this.ceilings=[],this.runTime=0,this.tissues=new SX(a.surfacePressure),this.gradients=new HX(a,r,this.tissues);const i=e.last();this.currentGas=i.gas,this.bestGasOptions={currentDepth:this.currentDepth,maxDecoPpO2:this.options.maxDecoPpO2,oxygenNarcotic:this.options.oxygenNarcotic,maxEndPressure:this.depthConverter.toBar(this.options.maxEND),currentGas:this.currentGas},this.speeds=new wS(this.options),this.levels=new Tm(a,r)}get ascentSpeed(){return this.speeds.ascent(this.currentDepth)}get currentDepth(){return this.segments.currentDepth}get ambientPressure(){return this.depthConverter.toBar(this.currentDepth)}get addSafetyStop(){return this.levels.addSafetyStop(this.currentDepth,this.segments.maxDepth)}get decoStopDuration(){return this.options.roundStopsToMinutes?Qt.oneMinute:Qt.oneSecond}markAverageDepth(){this.speeds.markAverageDepth(this.segments)}addCeiling(){const t=this.ceiling(),e=new LX(this.runTime,t);this.ceilings.push(e)}ceiling(){return this.gradients.ceiling()}bestDecoGas(){return this.bestGasOptions.currentDepth=this.currentDepth,this.bestGasOptions.currentGas=this.currentGas,this.gases.bestGas(this.levels,this.depthConverter,this.bestGasOptions)}nextStop(t){return this.levels.nextStop(t)}}class wf{noDecoLimit(t,e,r){const a=new W0;a.add(e);const i=new ur,s=this.duration(t,r.descentSpeed);return i.add(0,t,e,s),this.noDecoLimitMultiLevel(i,a,r)}noDecoLimitMultiLevel(t,e,r){const a=new q0(r).create(),i=new SS(e,t,r,a);return this.swimNoDecoLimit(t,e,i,r)}calculateDecompression(t,e,r){const a=new q0(t).create(),i=r.copy(),s=this.validate(i,e,t,a);if(s.length>0){const pe=i.mergeFlat(r.length);return W5.fromErrors(pe,s)}const y=new SS(e,i,t,a);this.swimPlan(y),y.markAverageDepth();let V=y.nextStop(y.currentDepth);for(;V>=0&&0!==i.last().endDepth;){this.tryGasSwitch(y);let pe=0;for(;V<y.ceiling()&&pe<Qt.oneDay;){const S1=y.decoStopDuration,y1=y.segments.add(y.currentDepth,y.currentDepth,y.currentGas,S1);this.swim(y,y1),pe+=S1}if(y.addSafetyStop){const y1=y.segments.add(y.currentDepth,y.currentDepth,y.currentGas,3*Qt.oneMinute);this.swim(y,y1)}const ke=this.duration(y.currentDepth-V,y.ascentSpeed),qe=y.segments.add(y.currentDepth,V,y.currentGas,ke);this.swim(y,qe),V=y.nextStop(V)}const ne=i.mergeFlat(r.length);return W5.fromProfile(ne,y.ceilings)}validate(t,e,r,a){const i=Sm.validate(t,e);if(i.length>0)return i;const s=class wX{static validate(t,e,r){const a=[];if(!t.hasBottomGas){const i=fa.createError("At least one bottom gas has to be defined.");return a.push(i),a}return a}}.validate(e,r,a.surfacePressure);return s.length>0?s:[]}tryGasSwitch(t){const e=t.bestDecoGas();if(!e||t.currentGas.compositionEquals(e))return;t.currentGas=e;const a=t.segments.add(t.currentDepth,t.currentDepth,t.currentGas,t.options.gasSwitchDuration*Qt.oneMinute);this.swim(t,a)}duration(t,e){return t/Qt.toMinutes(e)}swimPlan(t){t.addCeiling(),t.segments.withAll(e=>{this.swim(t,e)})}swim(t,e){let r=e.startDepth;const a=Qt.oneSecond;for(let i=0;i<e.duration;i+=a){const s=ei.depthAt(r,e.speed,a),y=new ei(r,s,e.gas,a);this.swimPart(t,y),r=y.endDepth}}swimPart(t,e){const r=this.toLoadSegment(t.depthConverter,e);t.tissues.load(r,e.gas),t.runTime+=e.duration,t.addCeiling()}swimNoDecoLimit(t,e,r,a){if(this.validate(t,e,a,r.depthConverter).length>0)return 0;this.swimPlan(r);const s=this.currentNdl(r.ceilings);return s!==Number.POSITIVE_INFINITY?s:this.predictNoDecoLimit(t,r)}predictNoDecoLimit(t,e){const r=t.last(),a=r.endDepth,i=new ei(a,a,r.gas,Qt.oneMinute),s=this.toLoadSegment(e.depthConverter,i);let y=1;for(;e.ceiling()<=0&&y>0;)y=e.tissues.load(s,r.gas),e.runTime+=Qt.oneMinute;return 0===y||0===a?Number.POSITIVE_INFINITY:this.floorNdl(e.runTime)}floorNdl(t){let e=Qt.toMinutes(t);return e=Math.floor(e),e-1}currentNdl(t){for(let e=0;e<t.length;e+=Qt.oneMinute){const r=t[e];if(r.notAtSurface)return this.floorNdl(r.time)}return Number.POSITIVE_INFINITY}toLoadSegment(t,e){const r=t.toBar(e.speed)-t.surfacePressure;return{startPressure:t.toBar(e.startDepth),duration:e.duration,speed:r}}}class Ts{static haveReserve(t){for(let e=0;e<t.length;e++)if(!t[e].hasReserve)return!1;return!0}static resetConsumption(t){t.forEach(e=>{e.consumed=0,e.reserve=0})}static removeTank(t,e){const r=t.filter(a=>a!==e);return Ts.renumberIds(r),r}static renumberIds(t){for(let e=0;e<t.length;e++)t[e].id=e+1}}class Y0{constructor(t,e,r){this.size=t,this.startPressure=e,this.id=0,this.consumed=0,this.reserve=0,this._gas=xt.air.copy(),this.o2=r}static createDefault(){return new Y0(15,200,100*xt.o2InAir)}get gas(){return this._gas}get o2(){const t=100*this._gas.fO2;return this.isInAirRange(t)?Math.round(100*this.gas.fO2):t}set o2(t){this.isInAirRange(t)?this.gas.fO2=xt.o2InAir:this._gas.fO2=t/100}get he(){return 100*this.gas.fHe}set he(t){this.gas.fHe=t/100}get volume(){return this.size*this.startPressure}get name(){return xt.nameFor(this._gas.fO2,this._gas.fHe)}assignStandardGas(t){const e=xt.byName(t);!e||(this._gas.fO2=e.fO2,this._gas.fHe=e.fHe)}get endPressure(){const t=this.startPressure-this.consumed;return t>0?t:0}get percentsRemaining(){return this.endPressure/this.startPressure*100}get percentsReserve(){const t=this.reserve/this.startPressure*100;return t>100?100:t}get hasReserve(){return this.endPressure>=this.reserve}loadFrom(t){this.size=t.size,this.startPressure=t.startPressure,this.consumed=t.consumed,this.reserve=t.reserve,this.gas.fO2=t._gas.fO2,this.gas.fHe=t._gas.fHe}isInAirRange(t){return 20.9<=t&&t<=21&&0===this.gas.fHe}}class Df{constructor(t,e,r,a){this.duration=t,this.startTime=0,this.endTime=0,this.averageDepth=0,this._startDepth=0,this._endDepth=0,this.endTime=Math.round(100*t)/100,this._endDepth=e,this._startDepth=r,this.averageDepth=a}get startDepth(){return this._startDepth}get endDepth(){return this._endDepth}static fromSegment(t){return new Df(t.duration,t.endDepth,t.startDepth,t.averageDepth)}}let VX=(()=>{class n{constructor(e){this.depthConverter=e}static calculateDecompression(e,r,a){const i=W0.fromTanks(r),s=new wf,y=e.copy();return s.calculateDecompression(a,i,y)}consumeFromTanks(e,r,a,i){if(e.length<2)throw new Error("Profile needs to contain at least 2 segments.");const s=this.emergencyAscent(e,r,a);this.consumeFromTanks2(e,s,r,a,i)}consumeFromTanks2(e,r,a,i,s){if(e.length<2)throw new Error("Profile needs to contain at least 2 segments.");Ts.resetConsumption(i);const y=this.consumeByTanks(e,s.rmv);this.consumeByGases(e,i,s.rmv,y),this.updateReserve(r,i,s.stressRmv)}emergencyAscent(e,r,a){const s=ur.fromCollection(e).deepestPart(),y=ur.fromCollection(s),V=W0.fromTanks(a),we=(new wf).calculateDecompression(r,V,y).segments,ke=we.slice(s.length,we.length);return this.addSolvingSegment(ke,r.problemSolvingDuration),ke}calculateMaxBottomTime(e,r,a,i){const s=this.createTestProfile(e),y=s.last(),V=this.findRightUpperInterval(s,y,r,a,i),ne=this.findMaximalAddedDuration(s,y,r,a,i,V);if(0===ne)return 0;const pe=Qt.toMinutes(e.duration+ne);return Math.floor(pe)}findRightUpperInterval(e,r,a,i,s){const y=40*Qt.oneMinute;for(this.consumeFromProfile(e,a,i,s);Ts.haveReserve(a);)r.duration+=y,this.consumeFromProfile(e,a,i,s);let V=r.duration-y;return V=V<0?0:V,{left:V,right:r.duration}}findMaximalAddedDuration(e,r,a,i,s,y){for(;y.right-y.left>Qt.oneSecond;){const V=y.left+(y.right-y.left)/2;r.duration=V,this.consumeFromProfile(e,a,i,s),Ts.haveReserve(a)?y.left=V:y.right=V}return y.left}consumeFromProfile(e,r,a,i){const s=n.calculateDecompression(e,r,i);this.consumeFromTanks(s.segments,i,r,a)}createTestProfile(e){const r=e.copy(),a=e.last();return r.addFlat(a.endDepth,a.gas,0),r}updateReserve(e,r,a){const i=this.toBeConsumed(e,a,s=>!0);for(let s=0;s<=r.length-1;s++){const y=r[s],V=y.gas.contentCode();let ne=i.get(V)||0;ne=this.addReserveToTank(y,ne),i.set(V,ne)}r[0].reserve<n.minimumRockBottom&&(r[0].reserve=n.minimumRockBottom)}addReserveToTank(e,r){const a=Math.ceil(r/e.size),i=a+e.reserve>e.startPressure?e.startPressure-e.reserve:a;return e.reserve+=i,this.extractRemaining(r,i,e.size)}addSolvingSegment(e,r){if(0===e.length)return;const i=e[0].startDepth,s=new ei(i,i,e[0].gas,r*Qt.oneMinute);e.unshift(s)}consumeByGases(e,r,a,i){const s=this.toBeConsumedYet(e,a,i,y=>!y.tank);for(let y=r.length-1;y>=0;y--){const V=r[y],ne=V.gas.contentCode();let pe=s.get(ne)||0;pe=this.consumeFromTank(V,pe),s.set(ne,pe)}}consumeByTanks(e,r){const a=new Map,i=Qt.toMinutes(r);return e.forEach(s=>{if(s.tank){const y=s.tank,V=s.gas.contentCode(),ne=Df.fromSegment(s),pe=this.consumedBySegment(ne,i),we=this.consumeFromTank(y,pe);let ke=a.get(V)||0;ke+=we,a.set(V,ke)}}),a}consumeFromTank(e,r){const a=Math.ceil(r/e.size),i=a>e.endPressure?e.endPressure:a;return e.consumed+=i,this.extractRemaining(r,i,e.size)}extractRemaining(e,r,a){return(e-=r*a)<0?0:e}toBeConsumed(e,r,a){return this.toBeConsumedYet(e,r,new Map,a)}toBeConsumedYet(e,r,a,i){const s=Qt.toMinutes(r);for(let y=0;y<e.length;y++){const V=e[y];if(i(V)){const pe=V.gas.contentCode(),we=Df.fromSegment(V),ke=this.consumedBySegment(we,s);let qe=a.get(pe)||0;qe+=ke,a.set(pe,qe)}}return a}consumedBySegment(e,r){const a=this.depthConverter.toBar(e.averageDepth);return e.duration*a*r}}return n.minimumRockBottom=30,n})(),q5=(()=>{class n{constructor(e=n.defaultSac,r=st.maxPpO2){this.rmv=e,this.maxPpO2=r,this.maxDecoPpO2=st.maxDecoPpO2}get stressRmv(){return 3*this.rmv}static gasSac(e,r){return e/r}gasSac(e){return n.gasSac(this.rmv,e.size)}loadFrom(e){this.rmv=e.rmv,this.maxPpO2=e.maxPpO2,this.maxDecoPpO2=e.maxDecoPpO2}}return n.defaultSac=20,n})();class TS{constructor(t,e){this.depthLevels=t,this.depthConverter=e}ead(t,e){const r=t/100,a=this.depthConverter.toBar(e),i=da.ead(r,a);if(i<=this.depthConverter.surfacePressure)return 0;const s=this.depthConverter.fromBar(i);return Math.ceil(100*s)/100}bestMix(t,e){const r=100*da.bestMix(t,e,this.depthConverter);return Math.floor(100*r)/100}mod(t,e){let a=da.mod(t,e/100);return a=this.depthConverter.fromBar(a),Math.floor(100*a)/100}gasSwitch(t,e){const a=da.mod(t,e/100);return this.depthLevels.toDecoStop(a)}partialPressure(t,e){const r=this.depthConverter.toBar(e),a=da.partialPressure(r,t)/100;return Math.ceil(100*a)/100}}class AX{constructor(t,e){this.startDepth=t,this.endDepth=e}get minDepth(){return Math.min(this.startDepth,this.endDepth)}get maxDepth(){return Math.max(this.startDepth,this.endDepth)}get isDescent(){return this.startDepth<this.endDepth}get isFlat(){return this.startDepth===this.endDepth}get isAscent(){return this.startDepth>this.endDepth}}class kX{constructor(t,e,r,a){this.startAscentIndex=t,this.profile=e,this.depthConverter=r,this.options=a,this.events=new xS,this.elapsed=0,this.index=0,this.fixedMnd=!0,this._mndBars=0,this.speeds=new wS(a);const i=ur.fromCollection(e);this.speeds.markAverageDepth(i),this._mndBars=r.toBar(a.maxEND)}get previous(){return this.index>0?this.profile[this.index-1]:null}get isBeforeDecoAscent(){return this.index<this.startAscentIndex}get maxPpo(){return this.isBeforeDecoAscent?this.options.maxPpO2:this.options.maxDecoPpO2}get current(){return this.profile[this.index]}get switchingGas(){return!!this.previous&&!this.current.gas.compositionEquals(this.previous.gas)}get switchingTank(){return!!this.previous&&!!this.previous.tank&&!!this.current.tank&&this.previous.tank!==this.current.tank}get maxMnd(){return this._mndBars}gasEnd(t){return this.current.gas.end(t,this.options.oxygenNarcotic)}}class Hm{static fromProfile(t,e,r,a){const i=new q0(a).create(),s=new kX(t,e,i,a),y=new zX(s.events);for(s.index=0;s.index<e.length;s.index++){const V=this.toPressureSegment(s.current,i);this.addHighPpO2(s,V),this.addLowPpO2(s,V),this.addGasSwitch(s),this.addUserTankSwitch(s),this.addHighDescentSpeed(s),this.addHighAscentSpeed(s),this.addSwitchHighN2(s),this.addMndExceeded(s,V),y.assignSegment(s.current),Hm.addBrokenCeiling(y,r,s.current),s.elapsed+=s.current.duration}return s.events}static addHighAscentSpeed(t){const e=t.current;let r=Qt.toSeconds(e.speed);if(r=Math.round(100*r)/100,-r>t.speeds.ascent(e.startDepth)){const a=fa.createHighAscentSpeed(t.elapsed,e.startDepth);t.events.add(a)}}static addHighDescentSpeed(t){const e=t.current;if(Qt.toSeconds(e.speed)>t.options.descentSpeed){const a=fa.createHighDescentSpeed(t.elapsed,e.startDepth);t.events.add(a)}}static addGasSwitch(t){if(t.switchingGas){const e=t.current,r=fa.createGasSwitch(t.elapsed,e.startDepth,e.gas);t.events.add(r)}}static addUserTankSwitch(t){if(t.switchingTank){const e=t.current,r=fa.createGasSwitch(t.elapsed,e.startDepth,e.gas);t.events.add(r)}}static toPressureSegment(t,e){const r=e.toBar(t.startDepth),a=e.toBar(t.endDepth);return new AX(r,a)}static addHighPpO2(t,e){if(e.isDescent||t.isBeforeDecoAscent&&t.switchingGas){const r=t.current.gas.mod(t.maxPpo);if(e.maxDepth>r){const a=t.depthConverter.fromBar(r),i=fa.createHighPpO2(t.elapsed,a);t.events.add(i)}}}static addLowPpO2(t,e){const r=t.current.gas.ceiling(t.depthConverter.surfacePressure);if(e.minDepth<r&&t.switchingGas||e.startDepth>r&&r>e.endDepth&&e.isAscent||0===t.current.startDepth&&e.startDepth<r&&e.isDescent){const i=t.depthConverter.fromBar(r),s=fa.createLowPpO2(t.elapsed,i);t.events.add(s)}}static addBrokenCeiling(t,e,r){for(;t.lastCeilingIndex<t.currentSegmentEndTime&&t.lastCeilingIndex<e.length-1;){const a=e[t.lastCeilingIndex];t.lastCeilingIndex++;const i=t.belowCeiling(a,r);if(!i&&t.fixedBrokenCeiling){const s=fa.createBrokenCeiling(a.time,a.depth);t.events.add(s),t.fixedBrokenCeiling=!1;break}if(i&&!t.fixedBrokenCeiling&&(t.fixedBrokenCeiling=!0),a.time>t.currentSegmentEndTime)break}}static addSwitchHighN2(t){const e=t.current,r=t.previous;if(t.switchingGas&&r){const a=e.gas.fN2-r.gas.fN2,i=e.gas.fHe-r.gas.fHe;if(r.gas.fHe>0&&5*a>-i){const s=fa.createSwitchToHigherN2(t.elapsed,e.startDepth,e.gas);t.events.add(s)}}}static addMndExceeded(t,e){const r=t.current,a=t.gasEnd(e.startDepth);t.maxMnd<a&&t.fixedMnd&&this.addMndEvent(t,t.elapsed,r.startDepth);const i=t.gasEnd(e.endDepth);t.maxMnd<i&&t.fixedMnd&&this.addMndEvent(t,t.elapsed+r.duration,r.endDepth),t.fixedMnd=i<=t.maxMnd}static addMndEvent(t,e,r){const i=fa.createMaxEndExceeded(e,r,t.current.gas);t.events.add(i),t.fixedMnd=!0}}class zX{constructor(t){this.events=t,this.lastCeilingIndex=0,this.currentSegmentStartTime=0,this.currentSegmentEndTime=0,this.fixedBrokenCeiling=!0}assignSegment(t){this.currentSegmentStartTime=this.currentSegmentEndTime,this.currentSegmentEndTime=this.currentSegmentStartTime+t.duration}belowCeiling(t,e){return e.depthAt(t.time-this.currentSegmentStartTime)>=t.depth}}class NX{constructor(t){this.depthConverter=t}calculateSac(t,e,r,a){const i=this.depthConverter.toBar(t);return Math.ceil(e*r/a/i*100)/100}calculateDuration(t,e,r,a){const i=this.depthConverter.toBar(t);return Math.ceil(e*r/a/i)}calculateUsed(t,e,r,a){const i=this.depthConverter.toBar(t);return Math.ceil(r*i*a/e)}}class Vm{get name(){return"Metric"}get lengthShortcut(){return"m"}get pressureShortcut(){return"bar"}get volumeShortcut(){return"l"}get altitudeShortcut(){return"m.a.s.l"}get lastSpeedLevel(){return 6}get autoStopLevel(){return 10}get stopsDistance(){return 3}toMeters(t){return t}fromMeters(t){return t}toBar(t){return t}fromBar(t){return t}toLiter(t){return t}fromLiter(t){return t}fromTankLiters(t){return t}toTankLiters(t){return t}}let EX=(()=>{class n{constructor(){this.workingPressure=206.84}get name(){return"Imperial"}get lengthShortcut(){return"ft"}get pressureShortcut(){return"psi"}get volumeShortcut(){return"cuft"}get altitudeShortcut(){return"ft.a.s.l"}get lastSpeedLevel(){return 20}get autoStopLevel(){return 33}get stopsDistance(){return 10}toMeters(e){return e*n.footRate}fromMeters(e){return e/n.footRate}toBar(e){return e/n.psiRate}fromBar(e){return e*n.psiRate}toLiter(e){return e*n.cftRate}fromLiter(e){return e/n.cftRate}fromTankLiters(e){return this.fromLiter(e)*this.workingPressure}toTankLiters(e){return this.toLiter(e)/this.workingPressure}}return n.psiRate=14.503773773022,n.cftRate=28.316846592,n.footRate=.3048,n})();class Ln{static toTanks(t){const e=[];return t.forEach(r=>{const a=new Y0(r.size,r.startPressure,0);a.id=r.id,a.gas.fO2=r.gas.fO2,a.gas.fHe=r.gas.fHe,a.consumed=r.consumed,a.reserve=r.reserve,e.push(a)}),Ts.renumberIds(e),e}static fromTanks(t){const e=[];return t.forEach(r=>{e.push({id:r.id,size:r.size,startPressure:r.startPressure,consumed:r.consumed,reserve:r.reserve,gas:{fO2:r.gas.fO2,fHe:r.gas.fHe}})}),e}static toSegments(t,e){const r=[];for(let a=0;a<t.length;a++){const i=t[a],s=xt.air.copy();s.fO2=i.gas.fO2,s.fHe=i.gas.fHe;const y=new ei(i.startDepth,i.endDepth,s,i.duration);i.tankId>0&&i.tankId<=e.length&&(y.tank=e[i.tankId-1]),r.push(y)}return r}static fromSegments(t){const e=[];return t.forEach(r=>{e.push({startDepth:r.startDepth,endDepth:r.endDepth,duration:r.duration,tankId:r.tank?r.tank.id:0,gas:{fO2:r.gas.fO2,fHe:r.gas.fHe}})}),e}static toProfile(t,e){const r=Ln.toSegments(t.segments,e);return W5.fromProfile(r,t.ceilings)}static fromProfile(t){return{segments:Ln.fromSegments(t.segments),ceilings:t.ceilings,errors:Ln.fromEvents(t.errors)}}static toEvents(t){const e=new xS;return t.forEach(r=>{var a,i;const s=new xX(r.timeStamp,r.depth,r.type,r.message);r.gas&&(s.gas=new Cr(null===(a=r.gas)||void 0===a?void 0:a.fO2,null===(i=r.gas)||void 0===i?void 0:i.fHe)),e.add(s)}),e}static fromEvents(t){const e=[];return t.forEach(r=>{const a={timeStamp:r.timeStamp,depth:r.depth,type:r.type,message:r.message};r.gas&&(a.gas={fO2:r.gas.fO2,fHe:r.gas.fHe}),e.push(a)}),e}static fromDiver(t){return{rmv:t.rmv,maxPpO2:t.maxPpO2,maxDecoPpO2:t.maxDecoPpO2}}static toDiver(t){const e=new q5(t.rmv,t.maxPpO2);return e.maxDecoPpO2=t.maxDecoPpO2,e}static fromOptions(t){return{gfLow:t.gfLow,gfHigh:t.gfHigh,maxPpO2:t.maxPpO2,maxDecoPpO2:t.maxDecoPpO2,salinity:t.salinity,altitude:t.altitude,roundStopsToMinutes:t.roundStopsToMinutes,gasSwitchDuration:t.gasSwitchDuration,safetyStop:t.safetyStop,lastStopDepth:t.lastStopDepth,decoStopDistance:t.decoStopDistance,minimumAutoStopDepth:t.minimumAutoStopDepth,maxEND:t.maxEND,oxygenNarcotic:t.oxygenNarcotic,ascentSpeed6m:t.ascentSpeed6m,ascentSpeed50percTo6m:t.ascentSpeed50percTo6m,ascentSpeed50perc:t.ascentSpeed50perc,descentSpeed:t.descentSpeed,problemSolvingDuration:t.problemSolvingDuration}}static toOptions(t){const e=new DS(t.gfLow,t.gfHigh,t.maxPpO2,t.maxDecoPpO2,t.salinity);return e.altitude=t.altitude,e.roundStopsToMinutes=t.roundStopsToMinutes,e.gasSwitchDuration=t.gasSwitchDuration,e.safetyStop=t.safetyStop,e.lastStopDepth=t.lastStopDepth,e.decoStopDistance=t.decoStopDistance,e.minimumAutoStopDepth=t.minimumAutoStopDepth,e.maxEND=t.maxEND,e.oxygenNarcotic=t.oxygenNarcotic,e.ascentSpeed6m=t.ascentSpeed6m,e.ascentSpeed50percTo6m=t.ascentSpeed50percTo6m,e.ascentSpeed50perc=t.ascentSpeed50perc,e.descentSpeed=t.descentSpeed,e.problemSolvingDuration=t.problemSolvingDuration,e}}class Am{static toPreferences(t){return{isComplex:t.isComplex,options:Ln.fromOptions(t.options),diver:Ln.fromDiver(t.diver),tanks:Ln.fromTanks(t.tanks),plan:Ln.fromSegments(t.plan.segments)}}static applyLoaded(t,e){const r=Ln.toTanks(e.tanks),a=Ln.toSegments(e.plan,r),i=Ln.toDiver(e.diver),s=Ln.toOptions(e.options);t.loadFrom(e.isComplex,s,i,r,a)}}var ti=(()=>{return(n=ti||(ti={}))[n.ALL=1]="ALL",n[n.HALF=2]="HALF",n[n.THIRD=3]="THIRD",ti;var n})();class Sf{constructor(t){this.segment=t}get duration(){return Qt.toMinutes(this.segment.duration)}get startDepth(){return this.segment.startDepth}get endDepth(){return this.segment.endDepth}get tank(){return this.segment.tank}get tankLabel(){return Sf.tankLabel(this.segment.tank)}set duration(t){this.segment.duration=Qt.toSeconds(t)}set endDepth(t){this.segment.endDepth=t}set tank(t){this.segment.tank=t}static tankLabel(t){return t?`${t.id}. ${t.name}/${t.size}/${t.startPressure}`:""}}class Tf{constructor(t,e,r,a,i){this.strategy=t,this.noDecoTime=0,this._segments=new ur,this.onChanged=new j,this.reset(e,r,a,i),this.changed=this.onChanged.asObservable()}get length(){return this._segments.length}get minimumSegments(){return this.length>1}get notEnoughTime(){return 2===this.length&&0===this.segments[1].duration}get segments(){return this._segments.items}get maxDepth(){return this._segments.maxDepth}get startAscentIndex(){return this._segments.startAscentIndex}get startAscentTime(){return this._segments.startAscentTime}get duration(){return Qt.toMinutes(this._segments.duration)}get availablePressureRatio(){return this.strategy===ti.THIRD?2/3:1}get needsReturn(){return this.strategy!==ti.ALL}get noDecoExceeded(){return this.duration>this.noDecoTime}copySegments(){return this._segments.copy()}setSimple(t,e,r,a){this.reset(t,e,r,a),this.onChanged.next({})}assignDepth(t,e,r){this._segments=Ec.createForPlan(t,this.duration,e,r),this.onChanged.next({})}assignDuration(t,e,r){this._segments=Ec.createForPlan(this.maxDepth,t,e,r),this.onChanged.next({})}addSegment(t){const e=this._segments.last();this._segments.addChangeTo(e.endDepth,t.gas,Tf.defaultDuration).tank=t,this.onChanged.next({})}removeSegment(t){this._segments.remove(t),this.onChanged.next({})}fixDepths(){this._segments.fixStartDepths()}loadFrom(t){this._segments=ur.fromCollection(t),this.onChanged.next({})}resetSegments(t,e){this.segments.forEach(r=>{r.tank===t&&(r.tank=e)})}reset(t,e,r,a){this._segments=Ec.createForPlan(t,e,r,a)}}Tf.defaultDuration=10*Qt.oneMinute;class OX{constructor(){this.calculated=!1,this.noDecoCalculated=!1,this.profileCalculated=!1,this.calculationFailed=!1,this.maxTime=0,this.timeToSurface=0,this.turnPressure=0,this.turnTime=0,this.needsReturn=!1,this.notEnoughGas=!1,this.notEnoughTime=!1,this.noDecoExceeded=!1,this.emergencyAscentStart=0,this.averageDepth=0,this.wayPoints=[],this.ceilings=[],this.events=[]}get totalDuration(){return 0===this.wayPoints.length?0:this.wayPoints[this.wayPoints.length-1].endTime}get hasErrors(){return this.calculated&&(this.calculationFailed||this.notEnoughTime)}get showResults(){return this.calculated&&!this.hasErrors}emptyProfile(){this.wayPoints=[],this.ceilings=[],this.events=[]}}var gr=(()=>{return(n=gr||(gr={}))[n.hover=0]="hover",n[n.ascent=1]="ascent",n[n.descent=2]="descent",n[n.switch=3]="switch",gr;var n})();class Hf{constructor(t,e,r=0){this.duration=t,this.selected=!1,this.startTime=0,this.endTime=0,this._startDepth=0,this._endDepth=0,this.speed=0,this.action=gr.hover,this._gasName="",this.endTime=Math.round(100*t)/100,this._endDepth=e,this._startDepth=r,this.updateSwimAction()}get gasName(){return this._gasName}get startDepth(){return this._startDepth}get endDepth(){return this._endDepth}get averageDepth(){return(this.startDepth+this.endDepth)/2}get swimAction(){return this.action}get label(){if(this.startDepth!==this.endDepth)return"";const t=`${this.endDepth} m`;let e=Math.round(this.duration).toString();return e+=" min.",`${t},${e}`}static fromSegment(t){const e=new Hf(t.duration,t.endDepth),r=xt.nameFor(t.gas.fO2,t.gas.fHe);return e._gasName=r,e.speed=t.speed,e}asGasSwitch(){this.action=gr.switch}toLevel(t){const e=Hf.fromSegment(t);return e.startTime=this.endTime,e.endTime=Math.round(100*(this.endTime+t.duration))/100,e._startDepth=this.endDepth,e.updateSwimAction(),e}fits(t){return this.startTime<=t&&t<this.endTime}depthAt(t){return ei.depthAt(this.startDepth,this.speed,t)}updateSwimAction(){this.action=gr.hover,this.startDepth<this.endDepth&&(this.action=gr.descent),this.startDepth>this.endDepth&&(this.action=gr.ascent)}}class Vf{constructor(t,e,r,a){this.origin=t,this.wayPoints=e,this.ceilings=r,this.events=a}get endsOnSurface(){const t=this.wayPoints.length;return t>0&&0===this.wayPoints[t-1].endDepth}static newEmpty(t){return new Vf([],[],[],t)}}class km{static calculateDecompression(t){const e=Ln.toTanks(t.tanks),r=Ln.toSegments(t.plan,e),a=ur.fromCollection(r),i=W0.fromTanks(e),s=new wf,y=Ln.toOptions(t.options),V=s.calculateDecompression(y,i,a),ne=Ln.fromProfile(V),pe=Hm.fromProfile(a.startAscentIndex,V.segments,V.ceilings,y);return{profile:ne,events:Ln.fromEvents(pe.items)}}static noDecoTime(t){const e=Ln.toTanks(t.tanks),r=W0.fromTanks(e),a=Ln.toSegments(t.plan,e),i=ur.fromCollection(a),s=new wf,y=Ln.toOptions(t.options);return s.noDecoLimitMultiLevel(i,r,y)}static calculateConsumption(t){const e=new q0(t.options).create(),r=new VX(e),a=Ln.toTanks(t.tanks),i=Ln.toSegments(t.profile,a),s=Ln.toSegments(t.plan,a),y=ur.fromCollection(s),V=new q5(t.diver.rmv,t.options.maxPpO2),ne=Ln.toOptions(t.options),pe=r.calculateMaxBottomTime(y,a,V,ne),we=r.emergencyAscent(i,ne,a);let ke=ur.duration(we);return ke=Qt.toMinutes(ke),r.consumeFromTanks2(i,we,ne,a,V),{maxTime:pe,timeToSurface:ke,tanks:Ln.fromTanks(a)}}}class zm{createProfileWorker(){const t=new j,e=new j;return{calculated:t,calculate:r=>{this.tryAction(a=>km.calculateDecompression(a),r,t,e)},failed:e}}createNoDecoWorker(){const t=new j,e=new j;return{calculated:t,calculate:r=>{this.tryAction(a=>km.noDecoTime(a),r,t,e)},failed:e}}createConsumptionWorker(){const t=new j,e=new j;return{calculated:t,calculate:r=>{this.tryAction(a=>km.calculateConsumption(a),r,t,e)},failed:e}}tryAction(t,e,r,a){try{const i=t(e);r.next(i)}catch(i){a.next()}}}let u4=(()=>{class n{constructor(e){this.workerFactory=e,this.isComplex=!1,this.diver=new q5,this.dive=new OX,this.calculating=!1,this.calculatingNoDeco=!1,this.calculatingProfile=!1,this._tanks=[],this.onInfoCalculated=new j,this.onWayPointsCalculated=new j,this._options=new DS,this._options.salinity=S4.fresh,this._options.safetyStop=T4.auto,this.depthConverterFactory=new q0(this.options),this.resetDepthConverter();const r=Y0.createDefault();r.id=1,this._tanks.push(r),this.infoCalculated=this.onInfoCalculated.asObservable(),this.wayPointsCalculated=this.onWayPointsCalculated.asObservable(),this.plan=new Tf(ti.ALL,30,12,this.firstTank,this.options),this.profileTask=this.workerFactory.createProfileWorker(),this.profileTask.calculated.subscribe(a=>this.continueCalculation(a)),this.profileTask.failed.subscribe(()=>this.profileFailed()),this.noDecoTask=this.workerFactory.createNoDecoWorker(),this.noDecoTask.calculated.subscribe(a=>this.finishNoDeco(a)),this.noDecoTask.failed.subscribe(()=>this.profileFailed()),this.consumptionTask=this.workerFactory.createConsumptionWorker(),this.consumptionTask.calculated.subscribe(a=>this.finishCalculation(a)),this.consumptionTask.failed.subscribe(()=>this.profileFailed())}get firstGasMaxDepth(){const e=this.mndForGas(this.firstTank.gas),r=Math.min(e,this.gasMod);return Math.floor(r)}get gasMod(){return this.modForGas(this.firstTank)}get options(){return this._options}get tanks(){return this._tanks}get firstTank(){return this._tanks[0]}get ndlValid(){return this.dive.noDecoCalculated&&this.plan.noDecoTime<n.maxAcceptableNdl}resetToSimple(){this._tanks=this._tanks.slice(0,1),this.firstTank.he>0&&this.firstTank.assignStandardGas("Air"),this.plan.setSimple(this.plan.maxDepth,this.plan.duration,this.firstTank,this.options),this.setMediumConservatism()}setMediumConservatism(){st.setMediumConservatism(this.options)}addTank(){const e=Y0.createDefault();e.size=11,this._tanks.push(e),e.id=this._tanks.length,this.calculate()}removeTank(e){this._tanks=Ts.removeTank(this._tanks,e),this.plan.resetSegments(e,this.firstTank),this.calculate()}addSegment(){this.plan.addSegment(this.firstTank),this.calculate()}removeSegment(e){this.plan.removeSegment(e),this.calculate()}changeWaterType(e){this.options.salinity=e,this.calculate()}changeSafetyStop(e){this.options.safetyStop=e,this.calculate()}applyMaxDepth(){this.assignDepth(this.firstGasMaxDepth)}applyMaxDuration(){this.assignDuration(this.dive.maxTime)}applyNdlDuration(){this.assignDuration(this.plan.noDecoTime)}bestNitroxMix(){const r=this.nitroxCalculator.bestMix(this.options.maxPpO2,this.plan.maxDepth);return Math.round(r)}switchDepth(e){return this.nitroxCalculator.gasSwitch(this.diver.maxDecoPpO2,e.o2)}modForGas(e){return this.nitroxCalculator.mod(this.diver.maxPpO2,e.o2)}mndForGas(e){const r=this.depthConverter.toBar(this.options.maxEND),a=e.mnd(r,this.options.oxygenNarcotic),i=this.depthConverter.fromBar(a);return Math.round(100*i)/100}assignDuration(e){this.plan.assignDuration(e,this.firstTank,this.options),this.calculate()}assignDepth(e){this.plan.assignDepth(e,this.firstTank,this.options),this.calculate()}applyDiver(e){this.diver.loadFrom(e),this.options.maxPpO2=e.maxPpO2,this.options.maxDecoPpO2=e.maxDecoPpO2}loadFrom(e,r,a,i,s){this.assignOptions(r),this.diver.loadFrom(a),i.length>0&&(this._tanks=i),s.length>1&&this.plan.loadFrom(s),this.isComplex=e,e||this.resetToSimple(),this.calculate()}calculate(){this.startCalculatingState(),setTimeout(()=>{this.showStillRunning()},500),this.resetDepthConverter();const e={tanks:Ln.fromTanks(this._tanks),plan:Ln.fromSegments(this.plan.segments),options:Ln.fromOptions(this.options)};this.profileTask.calculate(e)}startCalculatingState(){this.calculating=!0,this.calculatingProfile=!0,this.calculatingNoDeco=!0}endCalculatingState(){this.calculating=!1,this.calculatingProfile=!1,this.calculatingNoDeco=!1,this.dive.profileCalculated=!0,this.dive.noDecoCalculated=!0,this.dive.calculated=!0}showStillRunning(){this.calculatingProfile&&(this.dive.profileCalculated=!1,this.dive.emptyProfile()),this.calculatingNoDeco&&(this.dive.noDecoCalculated=!1),this.calculating&&(this.dive.calculated=!1)}continueCalculation(e){const r=Ln.fromSegments(this.plan.segments),a=Ln.fromTanks(this._tanks),i=Ln.toProfile(e.profile,this._tanks),s=Ln.toEvents(e.events),y=class IX{static calculateWayPoints(t,e){const r=[];if(t.errors.length>0)return Vf.newEmpty(t.errors);const a=t.segments[0];let i=Hf.fromSegment(a),s=a;return r.push(i),t.segments.slice(1).forEach(V=>{const ne=this.toWayPoint(V,i,s);i=ne,s=V,r.push(ne)}),new Vf(t.segments,r,t.ceilings,e.items)}static toWayPoint(t,e,r){const a=e.toLevel(t);return!t.gas.compositionEquals(r.gas)&&a.asGasSwitch(),a}}.calculateWayPoints(i,s);this.dive.wayPoints=y.wayPoints,this.dive.ceilings=y.ceilings,this.dive.events=y.events,this.dive.averageDepth=ur.averageDepth(y.origin);const V=Ln.fromOptions(this.options);if(y.endsOnSurface){this.noDecoTask.calculate({tanks:a,plan:r,options:V});const pe={plan:r,profile:Ln.fromSegments(y.origin),options:V,diver:Ln.fromDiver(this.diver),tanks:a};this.consumptionTask.calculate(pe),this.dive.profileCalculated=!0,this.calculatingProfile=!1,this.onWayPointsCalculated.next({})}else this.profileFailed(),console.table(i.errors)}profileFailed(){this.dive.calculationFailed=!0,this.dive.events=[],this.dive.wayPoints=[],this.dive.ceilings=[],this.endCalculatingState(),this.onWayPointsCalculated.next({}),this.onInfoCalculated.next({})}finishNoDeco(e){this.plan.noDecoTime=e,this.dive.noDecoExceeded=this.plan.noDecoExceeded,this.dive.notEnoughTime=this.plan.notEnoughTime,this.dive.noDecoCalculated=!0,this.calculatingNoDeco=!1}finishCalculation(e){this.copyTanksConsumption(e.tanks),this.dive.maxTime=e.maxTime,this.dive.timeToSurface=e.timeToSurface,this.dive.emergencyAscentStart=this.plan.startAscentTime,this.dive.turnPressure=this.calculateTurnPressure(),this.dive.turnTime=Math.floor(this.plan.duration/2),this.dive.needsReturn=this.plan.needsReturn&&1===this._tanks.length,this.dive.notEnoughGas=!Ts.haveReserve(this._tanks),this.dive.calculated=!0,this.dive.calculationFailed=!1,this.calculating=!1,this.onInfoCalculated.next({})}copyTanksConsumption(e){for(let r=0;r<this.tanks.length;r++){const a=e[r],i=this.tanks[r];i.consumed=a.consumed,i.reserve=a.reserve}}assignOptions(e){this._options.loadFrom(e),this.depthConverterFactory=new q0(e),this.resetDepthConverter()}calculateTurnPressure(){return this.firstTank.startPressure-Math.floor(this.firstTank.consumed/2)}resetDepthConverter(){this.depthConverter=this.depthConverterFactory.create();const e=new Tm(this.depthConverter,this.options);this.nitroxCalculator=new TS(e,this.depthConverter)}}return n.maxAcceptableNdl=1e3,n.\u0275fac=function(e){return new(e||n)(J2(zm))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})(),Nm=(()=>{class n{constructor(e){this.planner=e}loadDefaults(){const e=localStorage.getItem(n.storageKey);if(!e)return;const r=JSON.parse(e);Am.applyLoaded(this.planner,r)}saveDefaults(){const e=Am.toPreferences(this.planner),r=JSON.stringify(e);localStorage.setItem(n.storageKey,r)}disableDisclaimer(){localStorage.setItem(n.disclaimerKey,n.disclaimerValue)}disclaimerEnabled(){return localStorage.getItem(n.disclaimerKey)!==n.disclaimerValue}}return n.disclaimerValue="confirmed",n.storageKey="preferences",n.disclaimerKey="disclaimer",n.\u0275fac=function(e){return new(e||n)(J2(u4))},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Oc(n,t){const e=o(n)?n:()=>n,r=a=>a.error(e());return new me(t?a=>t.schedule(r,0,a):r)}const Af=g(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function kf(n){return new me(t=>{G1(n()).subscribe(t)})}function HS(){return F((n,t)=>{let e=null;n._refCount++;const r=O(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const a=n._connection,i=e;e=null,a&&(!i||a===i)&&a.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class VS extends me{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,re(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new c;const e=this.getSubject();t.add(this.source.subscribe(O(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=c.EMPTY)}return t}refCount(){return HS()(this)}}function PX(n,t,e,r,a){return(i,s)=>{let y=e,V=t,ne=0;i.subscribe(O(s,pe=>{const we=ne++;V=y?n(V,pe,we):(y=!0,pe),r&&s.next(V)},a&&(()=>{y&&s.next(V),s.complete()})))}}function AS(n,t){return F(PX(n,t,arguments.length>=2,!0))}function Hs(n){return F((t,e)=>{let i,r=null,a=!1;r=t.subscribe(O(e,void 0,void 0,s=>{i=G1(n(s,Hs(n)(t))),r?(r.unsubscribe(),r=null,i.subscribe(e)):a=!0})),a&&(r.unsubscribe(),r=null,i.subscribe(e))})}function Ic(n,t){return o(t)?c1(n,t,1):c1(n,1)}function Em(n){return n<=0?()=>H1:F((t,e)=>{let r=[];t.subscribe(O(e,a=>{r.push(a),n<r.length&&r.shift()},()=>{for(const a of r)e.next(a);e.complete()},void 0,()=>{r=null}))})}function kS(n=RX){return F((t,e)=>{let r=!1;t.subscribe(O(e,a=>{r=!0,e.next(a)},()=>r?e.complete():e.error(n())))})}function RX(){return new Af}function zS(n){return F((t,e)=>{let r=!1;t.subscribe(O(e,a=>{r=!0,e.next(a)},()=>{r||e.next(n),e.complete()}))})}function Y5(n,t){const e=arguments.length>=2;return r=>r.pipe(n?lr((a,i)=>n(a,i,r)):X,j1(1),e?zS(t):kS(()=>new Af))}class wo{constructor(t,e){this.id=t,this.url=e}}class Om extends wo{constructor(t,e,r="imperative",a=null){super(t,e),this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Pc extends wo{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class NS extends wo{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class UX extends wo{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jX extends wo{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GX extends wo{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $X extends wo{constructor(t,e,r,a,i){super(t,e),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class WX extends wo{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qX extends wo{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ES{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class OS{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class YX{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KX{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZX{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JX{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IS{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const vn="primary";class XX{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function K5(n){return new XX(n)}const PS="ngNavigationCancelingError";function Im(n){const t=Error("NavigationCancelingError: "+n);return t[PS]=!0,t}function eQ(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const a={};for(let i=0;i<r.length;i++){const s=r[i],y=n[i];if(s.startsWith(":"))a[s.substring(1)]=y;else if(s!==y.path)return null}return{consumed:n.slice(0,r.length),posParams:a}}function ki(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let a;for(let i=0;i<e.length;i++)if(a=e[i],!RS(n[a],t[a]))return!1;return!0}function RS(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((a,i)=>r[i]===a)}return n===t}function FS(n){return Array.prototype.concat.apply([],n)}function BS(n){return n.length>0?n[n.length-1]:null}function Tr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function zi(n){return Ap(n)?n:Ul(n)?O2(Promise.resolve(n)):Bt(n)}const rQ={exact:function GS(n,t,e){if(!Z0(n.segments,t.segments)||!zf(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!GS(n.children[r],t.children[r],e))return!1;return!0},subset:$S},US={exact:function aQ(n,t){return ki(n,t)},subset:function iQ(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>RS(n[e],t[e]))},ignored:()=>!0};function jS(n,t,e){return rQ[e.paths](n.root,t.root,e.matrixParams)&&US[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function $S(n,t,e){return WS(n,t,t.segments,e)}function WS(n,t,e,r){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!Z0(a,e)||t.hasChildren()||!zf(a,e,r))}if(n.segments.length===e.length){if(!Z0(n.segments,e)||!zf(n.segments,e,r))return!1;for(const a in t.children)if(!n.children[a]||!$S(n.children[a],t.children[a],r))return!1;return!0}{const a=e.slice(0,n.segments.length),i=e.slice(n.segments.length);return!!(Z0(n.segments,a)&&zf(n.segments,a,r)&&n.children[vn])&&WS(n.children[vn],t,i,r)}}function zf(n,t,e){return t.every((r,a)=>US[e](n[a].parameters,r.parameters))}class K0{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=K5(this.queryParams)),this._queryParamMap}toString(){return lQ.serialize(this)}}class Mn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Tr(e,(r,a)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nf(this)}}class Rc{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=K5(this.parameters)),this._parameterMap}toString(){return JS(this)}}function Z0(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class qS{}class YS{parse(t){const e=new mQ(t);return new K0(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Fc(t.root,!0)}`,r=function fQ(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(a=>`${Ef(e)}=${Ef(a)}`).join("&"):`${Ef(e)}=${Ef(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function cQ(n){return encodeURI(n)}(t.fragment)}`:""}`}}const lQ=new YS;function Nf(n){return n.segments.map(t=>JS(t)).join("/")}function Fc(n,t){if(!n.hasChildren())return Nf(n);if(t){const e=n.children[vn]?Fc(n.children[vn],!1):"",r=[];return Tr(n.children,(a,i)=>{i!==vn&&r.push(`${i}:${Fc(a,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function sQ(n,t){let e=[];return Tr(n.children,(r,a)=>{a===vn&&(e=e.concat(t(r,a)))}),Tr(n.children,(r,a)=>{a!==vn&&(e=e.concat(t(r,a)))}),e}(n,(r,a)=>a===vn?[Fc(n.children[vn],!1)]:[`${a}:${Fc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[vn]?`${Nf(n)}/${e[0]}`:`${Nf(n)}/(${e.join("//")})`}}function KS(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ef(n){return KS(n).replace(/%3B/gi,";")}function Pm(n){return KS(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Of(n){return decodeURIComponent(n)}function ZS(n){return Of(n.replace(/\+/g,"%20"))}function JS(n){return`${Pm(n.path)}${function uQ(n){return Object.keys(n).map(t=>`;${Pm(t)}=${Pm(n[t])}`).join("")}(n.parameters)}`}const dQ=/^[^\/()?;=#]+/;function If(n){const t=n.match(dQ);return t?t[0]:""}const hQ=/^[^=?&#]+/,CQ=/^[^&#]+/;class mQ{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mn([],{}):new Mn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[vn]=new Mn(t,e)),r}parseSegment(){const t=If(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Rc(Of(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=If(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const a=If(this.remaining);a&&(r=a,this.capture(r))}t[Of(e)]=Of(r)}parseQueryParam(t){const e=function pQ(n){const t=n.match(hQ);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const s=function gQ(n){const t=n.match(CQ);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const a=ZS(e),i=ZS(r);if(t.hasOwnProperty(a)){let s=t[a];Array.isArray(s)||(s=[s],t[a]=s),s.push(i)}else t[a]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=If(this.remaining),a=this.remaining[r.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let i;r.indexOf(":")>-1?(i=r.substr(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=vn);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s[vn]:new Mn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class XS{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Rm(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=Rm(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Fm(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return Fm(t,this._root).map(e=>e.value)}}function Rm(n,t){if(n===t.value)return t;for(const e of t.children){const r=Rm(n,e);if(r)return r}return null}function Fm(n,t){if(n===t.value)return[t];for(const e of t.children){const r=Fm(n,e);if(r.length)return r.unshift(t),r}return[]}class Do{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Z5(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class QS extends XS{constructor(t,e){super(t),this.snapshot=e,Bm(this,t)}toString(){return this.snapshot.toString()}}function eT(n,t){const e=function vQ(n,t){const s=new Pf([],{},{},"",{},vn,t,null,n.root,-1,{});return new nT("",new Do(s,[]))}(n,t),r=new or([new Rc("",{})]),a=new or({}),i=new or({}),s=new or({}),y=new or(""),V=new J5(r,a,s,y,i,vn,t,e.root);return V.snapshot=e.root,new QS(new Do(V,[]),e)}class J5{constructor(t,e,r,a,i,s,y,V){this.url=t,this.params=e,this.queryParams=r,this.fragment=a,this.data=i,this.outlet=s,this.component=y,this._futureSnapshot=V}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(R(t=>K5(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(R(t=>K5(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function tT(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const a=e[r],i=e[r-1];if(a.routeConfig&&""===a.routeConfig.path)r--;else{if(i.component)break;r--}}return function yQ(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Pf{constructor(t,e,r,a,i,s,y,V,ne,pe,we){this.url=t,this.params=e,this.queryParams=r,this.fragment=a,this.data=i,this.outlet=s,this.component=y,this.routeConfig=V,this._urlSegment=ne,this._lastPathIndex=pe,this._resolve=we}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=K5(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=K5(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class nT extends XS{constructor(t,e){super(e),this.url=t,Bm(this,e)}toString(){return rT(this._root)}}function Bm(n,t){t.value._routerState=n,t.children.forEach(e=>Bm(n,e))}function rT(n){const t=n.children.length>0?` { ${n.children.map(rT).join(", ")} } `:"";return`${n.value}${t}`}function Um(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ki(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),ki(t.params,e.params)||n.params.next(e.params),function tQ(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!ki(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),ki(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function jm(n,t){const e=ki(n.params,t.params)&&function oQ(n,t){return Z0(n,t)&&n.every((e,r)=>ki(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||jm(n.parent,t.parent))}function Bc(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const a=function bQ(n,t,e){return t.children.map(r=>{for(const a of e.children)if(n.shouldReuseRoute(r.value,a.value.snapshot))return Bc(n,r,a);return Bc(n,r)})}(n,t,e);return new Do(r,a)}{if(n.shouldAttach(t.value)){const i=n.retrieve(t.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(y=>Bc(n,y)),s}}const r=function MQ(n){return new J5(new or(n.url),new or(n.params),new or(n.queryParams),new or(n.fragment),new or(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(i=>Bc(n,i));return new Do(r,a)}}function Rf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Uc(n){return"object"==typeof n&&null!=n&&n.outlets}function Gm(n,t,e,r,a){let i={};if(r&&Tr(r,(y,V)=>{i[V]=Array.isArray(y)?y.map(ne=>`${ne}`):`${y}`}),n===t)return new K0(e,i,a);const s=aT(n,t,e);return new K0(s,i,a)}function aT(n,t,e){const r={};return Tr(n.children,(a,i)=>{r[i]=a===t?e:aT(a,t,e)}),new Mn(n.segments,r)}class iT{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Rf(r[0]))throw new Error("Root segment cannot have matrix parameters");const a=r.find(Uc);if(a&&a!==BS(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $m{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function oT(n,t,e){if(n||(n=new Mn([],{})),0===n.segments.length&&n.hasChildren())return Ff(n,t,e);const r=function TQ(n,t,e){let r=0,a=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(r>=e.length)return i;const s=n.segments[a],y=e[r];if(Uc(y))break;const V=`${y}`,ne=r<e.length-1?e[r+1]:null;if(a>0&&void 0===V)break;if(V&&ne&&"object"==typeof ne&&void 0===ne.outlets){if(!lT(V,ne,s))return i;r+=2}else{if(!lT(V,{},s))return i;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}(n,t,e),a=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const i=new Mn(n.segments.slice(0,r.pathIndex),{});return i.children[vn]=new Mn(n.segments.slice(r.pathIndex),n.children),Ff(i,0,a)}return r.match&&0===a.length?new Mn(n.segments,{}):r.match&&!n.hasChildren()?Wm(n,t,e):r.match?Ff(n,0,a):Wm(n,t,e)}function Ff(n,t,e){if(0===e.length)return new Mn(n.segments,{});{const r=function SQ(n){return Uc(n[0])?n[0].outlets:{[vn]:n}}(e),a={};return Tr(r,(i,s)=>{"string"==typeof i&&(i=[i]),null!==i&&(a[s]=oT(n.children[s],t,i))}),Tr(n.children,(i,s)=>{void 0===r[s]&&(a[s]=i)}),new Mn(n.segments,a)}}function Wm(n,t,e){const r=n.segments.slice(0,t);let a=0;for(;a<e.length;){const i=e[a];if(Uc(i)){const V=HQ(i.outlets);return new Mn(r,V)}if(0===a&&Rf(e[0])){r.push(new Rc(n.segments[t].path,sT(e[0]))),a++;continue}const s=Uc(i)?i.outlets[vn]:`${i}`,y=a<e.length-1?e[a+1]:null;s&&y&&Rf(y)?(r.push(new Rc(s,sT(y))),a+=2):(r.push(new Rc(s,{})),a++)}return new Mn(r,{})}function HQ(n){const t={};return Tr(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=Wm(new Mn([],{}),0,e))}),t}function sT(n){const t={};return Tr(n,(e,r)=>t[r]=`${e}`),t}function lT(n,t,e){return n==e.path&&ki(t,e.parameters)}class AQ{constructor(t,e,r,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=a}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Um(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const a=Z5(e);t.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,a[s],r),delete a[s]}),Tr(a,(i,s)=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,e,r){const a=t.value,i=e?e.value:null;if(a===i)if(a.component){const s=r.getContext(a.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,r);else i&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),a=r&&t.value.component?r.children:e,i=Z5(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],a);if(r&&r.outlet){const s=r.outlet.detach(),y=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:y})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),a=r&&t.value.component?r.children:e,i=Z5(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],a);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const a=Z5(e);t.children.forEach(i=>{this.activateRoutes(i,a[i.value.outlet],r),this.forwardEvent(new JX(i.value.snapshot))}),t.children.length&&this.forwardEvent(new KX(t.value.snapshot))}activateRoutes(t,e,r){const a=t.value,i=e?e.value:null;if(Um(a),a===i)if(a.component){const s=r.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,r);else if(a.component){const s=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const y=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),s.children.onOutletReAttached(y.contexts),s.attachRef=y.componentRef,s.route=y.route.value,s.outlet&&s.outlet.attach(y.componentRef,y.route.value),Um(y.route.value),this.activateChildRoutes(t,null,s.children)}else{const y=function kQ(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),V=y?y.module.componentFactoryResolver:null;s.attachRef=null,s.route=a,s.resolver=V,s.outlet&&s.outlet.activateWith(a,V),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class qm{constructor(t,e){this.routes=t,this.module=e}}function Vs(n){return"function"==typeof n}function J0(n){return n instanceof K0}const jc=Symbol("INITIAL_VALUE");function Gc(){return F4(n=>function pg(...n){const t=z1(n),e=f2(n),{args:r,keys:a}=Bx(n);if(0===r.length)return O2([],t);const i=new me(function ZW(n,t,e=X){return r=>{QL(t,()=>{const{length:a}=n,i=new Array(a);let s=a,y=a;for(let V=0;V<a;V++)QL(t,()=>{const ne=O2(n[V],t);let pe=!1;ne.subscribe(O(r,we=>{i[V]=we,pe||(pe=!0,y--),y||r.next(e(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,a?s=>Ux(a,s):X));return e?i.pipe($C(e)):i}(n.map(t=>t.pipe(j1(1),function qu(...n){const t=z1(n);return F((e,r)=>{(t?H5(n,e,t):H5(n,e)).subscribe(r)})}(jc)))).pipe(AS((t,e)=>{let r=!1;return e.reduce((a,i,s)=>a!==jc?a:(i===jc&&(r=!0),r||!1!==i&&s!==e.length-1&&!J0(i)?a:i),t)},jc),lr(t=>t!==jc),R(t=>J0(t)?t:!0===t),j1(1)))}class PQ{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new $c,this.attachRef=null}}class $c{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new PQ,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Ym=(()=>{class n{constructor(e,r,a,i,s){this.parentContexts=e,this.location=r,this.resolver=a,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new Yt,this.deactivateEvents=new Yt,this.attachEvents=new Yt,this.detachEvents=new Yt,this.name=i||vn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const s=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),y=this.parentContexts.getOrCreateContext(this.name).children,V=new RQ(e,y,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,V),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(P1($c),P1(qa),P1(x5),function za(n){return function _8(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const r=e.length;let a=0;for(;a<r;){const i=e[a];if(hr(i))break;if(0===i)a+=2;else if("number"==typeof i)for(a++;a<r&&"string"==typeof e[a];)a++;else{if(i===t)return e[a+1];a+=2}}}return null}(d3(),n)}("name"),P1(Ya))},n.\u0275dir=U2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class RQ{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===J5?this.route:t===$c?this.childContexts:this.parent.get(t,e)}}let cT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Hn({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&rt(0,"router-outlet")},directives:[Ym],encapsulation:2}),n})();function uT(n,t=""){for(let e=0;e<n.length;e++){const r=n[e];FQ(r,BQ(t,r))}}function FQ(n,t){n.children&&uT(n.children,t)}function BQ(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Km(n){const t=n.children&&n.children.map(Km),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==vn&&(e.component=cT),e}function ha(n){return n.outlet||vn}function fT(n,t){const e=n.filter(r=>ha(r)===t);return e.push(...n.filter(r=>ha(r)!==t)),e}const dT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Bf(n,t,e){var r;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},dT):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(t.matcher||eQ)(e,n,t);if(!i)return Object.assign({},dT);const s={};Tr(i.posParams,(V,ne)=>{s[ne]=V.path});const y=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:y,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Uf(n,t,e,r,a="corrected"){if(e.length>0&&function GQ(n,t,e){return e.some(r=>jf(n,t,r)&&ha(r)!==vn)}(n,e,r)){const s=new Mn(t,function jQ(n,t,e,r){const a={};a[vn]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const i of e)if(""===i.path&&ha(i)!==vn){const s=new Mn([],{});s._sourceSegment=n,s._segmentIndexShift=t.length,a[ha(i)]=s}return a}(n,t,r,new Mn(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function $Q(n,t,e){return e.some(r=>jf(n,t,r))}(n,e,r)){const s=new Mn(n.segments,function UQ(n,t,e,r,a,i){const s={};for(const y of r)if(jf(n,e,y)&&!a[ha(y)]){const V=new Mn([],{});V._sourceSegment=n,V._segmentIndexShift="legacy"===i?n.segments.length:t.length,s[ha(y)]=V}return Object.assign(Object.assign({},a),s)}(n,t,e,r,n.children,a));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const i=new Mn(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:e}}function jf(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function hT(n,t,e,r){return!!(ha(n)===r||r!==vn&&jf(t,e,n))&&("**"===n.path||Bf(t,n,e).matched)}function pT(n,t,e){return 0===t.length&&!n.children[e]}class Gf{constructor(t){this.segmentGroup=t||null}}class CT{constructor(t){this.urlTree=t}}function Wc(n){return Oc(new Gf(n))}function gT(n){return Oc(new CT(n))}class KQ{constructor(t,e,r,a,i){this.configLoader=e,this.urlSerializer=r,this.urlTree=a,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(lo)}apply(){const t=Uf(this.urlTree.root,[],[],this.config).segmentGroup,e=new Mn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,vn).pipe(R(i=>this.createUrlTree(Zm(i),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Hs(i=>{if(i instanceof CT)return this.allowRedirects=!1,this.match(i.urlTree);throw i instanceof Gf?this.noMatchError(i):i}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,vn).pipe(R(a=>this.createUrlTree(Zm(a),t.queryParams,t.fragment))).pipe(Hs(a=>{throw a instanceof Gf?this.noMatchError(a):a}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const a=t.segments.length>0?new Mn([],{[vn]:t}):t;return new K0(a,e,r)}expandSegmentGroup(t,e,r,a){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe(R(i=>new Mn([],i))):this.expandSegment(t,r,e,r.segments,a,!0)}expandChildren(t,e,r){const a=[];for(const i of Object.keys(r.children))"primary"===i?a.unshift(i):a.push(i);return O2(a).pipe(Ic(i=>{const s=r.children[i],y=fT(e,i);return this.expandSegmentGroup(t,y,s,i).pipe(R(V=>({segment:V,outlet:i})))}),AS((i,s)=>(i[s.outlet]=s.segment,i),{}),function FX(n,t){const e=arguments.length>=2;return r=>r.pipe(n?lr((a,i)=>n(a,i,r)):X,Em(1),e?zS(t):kS(()=>new Af))}())}expandSegment(t,e,r,a,i,s){return O2(r).pipe(Ic(y=>this.expandSegmentAgainstRoute(t,e,r,y,a,i,s).pipe(Hs(ne=>{if(ne instanceof Gf)return Bt(null);throw ne}))),Y5(y=>!!y),Hs((y,V)=>{if(y instanceof Af||"EmptyError"===y.name)return pT(e,a,i)?Bt(new Mn([],{})):Wc(e);throw y}))}expandSegmentAgainstRoute(t,e,r,a,i,s,y){return hT(a,e,i,s)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,i,s):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,a,i,s):Wc(e):Wc(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,a,i,s){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,a,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,a,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,a){const i=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?gT(i):this.lineralizeSegments(r,i).pipe(c1(s=>{const y=new Mn(s,{});return this.expandSegment(t,y,e,s,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,a,i,s){const{matched:y,consumedSegments:V,remainingSegments:ne,positionalParamSegments:pe}=Bf(e,a,i);if(!y)return Wc(e);const we=this.applyRedirectCommands(V,a.redirectTo,pe);return a.redirectTo.startsWith("/")?gT(we):this.lineralizeSegments(a,we).pipe(c1(ke=>this.expandSegment(t,e,r,ke.concat(ne),s,!1)))}matchSegmentAgainstRoute(t,e,r,a,i){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Bt(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe(R(we=>(r._loadedConfig=we,new Mn(a,{})))):Bt(new Mn(a,{}));const{matched:s,consumedSegments:y,remainingSegments:V}=Bf(e,r,a);return s?this.getChildConfig(t,r,a).pipe(c1(pe=>{const we=pe.module,ke=pe.routes,{segmentGroup:qe,slicedSegments:S1}=Uf(e,y,V,ke),y1=new Mn(qe.segments,qe.children);if(0===S1.length&&y1.hasChildren())return this.expandChildren(we,ke,y1).pipe(R(k2=>new Mn(y,k2)));if(0===ke.length&&0===S1.length)return Bt(new Mn(y,{}));const c2=ha(r)===i;return this.expandSegment(we,y1,ke,S1,c2?vn:i,!0).pipe(R(W1=>new Mn(y.concat(W1.segments),W1.children)))})):Wc(e)}getChildConfig(t,e,r){return e.children?Bt(new qm(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Bt(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe(c1(a=>a?this.configLoader.load(t.injector,e).pipe(R(i=>(e._loadedConfig=i,i))):function qQ(n){return Oc(Im(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):Bt(new qm([],t))}runCanLoadGuards(t,e,r){const a=e.canLoad;return a&&0!==a.length?Bt(a.map(s=>{const y=t.get(s);let V;if(function NQ(n){return n&&Vs(n.canLoad)}(y))V=y.canLoad(e,r);else{if(!Vs(y))throw new Error("Invalid CanLoad guard");V=y(e,r)}return zi(V)})).pipe(Gc(),Br(s=>{if(!J0(s))return;const y=Im(`Redirecting to "${this.urlSerializer.serialize(s)}"`);throw y.url=s,y}),R(s=>!0===s)):Bt(!0)}lineralizeSegments(t,e){let r=[],a=e.root;for(;;){if(r=r.concat(a.segments),0===a.numberOfChildren)return Bt(r);if(a.numberOfChildren>1||!a.children[vn])return Oc(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));a=a.children[vn]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,a){const i=this.createSegmentGroup(t,e.root,r,a);return new K0(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Tr(t,(a,i)=>{if("string"==typeof a&&a.startsWith(":")){const y=a.substring(1);r[i]=e[y]}else r[i]=a}),r}createSegmentGroup(t,e,r,a){const i=this.createSegments(t,e.segments,r,a);let s={};return Tr(e.children,(y,V)=>{s[V]=this.createSegmentGroup(t,y,r,a)}),new Mn(i,s)}createSegments(t,e,r,a){return e.map(i=>i.path.startsWith(":")?this.findPosParam(t,i,a):this.findOrReturn(i,r))}findPosParam(t,e,r){const a=r[e.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return a}findOrReturn(t,e){let r=0;for(const a of e){if(a.path===t.path)return e.splice(r),a;r++}return t}}function Zm(n){const t={};for(const r of Object.keys(n.children)){const i=Zm(n.children[r]);(i.segments.length>0||i.hasChildren())&&(t[r]=i)}return function ZQ(n){if(1===n.numberOfChildren&&n.children[vn]){const t=n.children[vn];return new Mn(n.segments.concat(t.segments),t.children)}return n}(new Mn(n.segments,t))}class mT{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class $f{constructor(t,e){this.component=t,this.route=e}}function XQ(n,t,e){const r=n._root;return qc(r,t?t._root:null,e,[r.value])}function Wf(n,t,e){const r=function eee(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:e).get(n)}function qc(n,t,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const i=Z5(t);return n.children.forEach(s=>{(function tee(n,t,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const i=n.value,s=t?t.value:null,y=e?e.getContext(n.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const V=function nee(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Z0(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Z0(n.url,t.url)||!ki(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jm(n,t)||!ki(n.queryParams,t.queryParams);default:return!jm(n,t)}}(s,i,i.routeConfig.runGuardsAndResolvers);V?a.canActivateChecks.push(new mT(r)):(i.data=s.data,i._resolvedData=s._resolvedData),qc(n,t,i.component?y?y.children:null:e,r,a),V&&y&&y.outlet&&y.outlet.isActivated&&a.canDeactivateChecks.push(new $f(y.outlet.component,s))}else s&&Yc(t,y,a),a.canActivateChecks.push(new mT(r)),qc(n,null,i.component?y?y.children:null:e,r,a)})(s,i[s.value.outlet],e,r.concat([s.value]),a),delete i[s.value.outlet]}),Tr(i,(s,y)=>Yc(s,e.getContext(y),a)),a}function Yc(n,t,e){const r=Z5(n),a=n.value;Tr(r,(i,s)=>{Yc(i,a.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new $f(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}class fee{}function vT(n){return new me(t=>t.error(n))}class hee{constructor(t,e,r,a,i,s){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=Uf(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,vn);if(null===e)return null;const r=new Pf([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},vn,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Do(r,e),i=new nT(this.url,a);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,r=tT(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const i of Object.keys(e.children)){const s=e.children[i],y=fT(t,i),V=this.processSegmentGroup(y,s,i);if(null===V)return null;r.push(...V)}const a=yT(r);return function pee(n){n.sort((t,e)=>t.value.outlet===vn?-1:e.value.outlet===vn?1:t.value.outlet.localeCompare(e.value.outlet))}(a),a}processSegment(t,e,r,a){for(const i of t){const s=this.processSegmentAgainstRoute(i,e,r,a);if(null!==s)return s}return pT(e,r,a)?[]:null}processSegmentAgainstRoute(t,e,r,a){if(t.redirectTo||!hT(t,e,r,a))return null;let i,s=[],y=[];if("**"===t.path){const qe=r.length>0?BS(r).parameters:{};i=new Pf(r,qe,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,MT(t),ha(t),t.component,t,_T(e),bT(e)+r.length,xT(t))}else{const qe=Bf(e,t,r);if(!qe.matched)return null;s=qe.consumedSegments,y=qe.remainingSegments,i=new Pf(s,qe.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,MT(t),ha(t),t.component,t,_T(e),bT(e)+s.length,xT(t))}const V=function Cee(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:ne,slicedSegments:pe}=Uf(e,s,y,V.filter(qe=>void 0===qe.redirectTo),this.relativeLinkResolution);if(0===pe.length&&ne.hasChildren()){const qe=this.processChildren(V,ne);return null===qe?null:[new Do(i,qe)]}if(0===V.length&&0===pe.length)return[new Do(i,[])];const we=ha(t)===a,ke=this.processSegment(V,ne,pe,we?vn:a);return null===ke?null:[new Do(i,ke)]}}function gee(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function yT(n){const t=[],e=new Set;for(const r of n){if(!gee(r)){t.push(r);continue}const a=t.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==a?(a.children.push(...r.children),e.add(a)):t.push(r)}for(const r of e){const a=yT(r.children);t.push(new Do(r.value,a))}return t.filter(r=>!e.has(r))}function _T(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function bT(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function MT(n){return n.data||{}}function xT(n){return n.resolve||{}}function LT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Jm(n){return F4(t=>{const e=n(t);return e?O2(e).pipe(R(()=>t)):Bt(t)})}class Lee extends class xee{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Xm=new tn("ROUTES");class wT{constructor(t,e,r,a){this.injector=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=a}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const a=this.loadModuleFactory(e.loadChildren).pipe(R(i=>{this.onLoadEndListener&&this.onLoadEndListener(e);const s=i.create(t);return new qm(FS(s.injector.get(Xm,void 0,St.Self|St.Optional)).map(Km),s)}),Hs(i=>{throw e._loader$=void 0,i}));return e._loader$=new VS(a,()=>new j).pipe(HS()),e._loader$}loadModuleFactory(t){return zi(t()).pipe(c1(e=>e instanceof rM?Bt(e):O2(this.compiler.compileModuleAsync(e))))}}class Dee{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function See(n){throw n}function Tee(n,t,e){return t.parse("/")}function DT(n,t){return Bt(null)}const Hee={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Vee={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hr=(()=>{class n{constructor(e,r,a,i,s,y,V){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=a,this.location=i,this.config=V,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new j,this.errorHandler=See,this.malformedUriErrorHandler=Tee,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:DT,afterPreactivation:DT},this.urlHandlingStrategy=new Dee,this.routeReuseStrategy=new Lee,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(lo),this.console=s.get(UU);const we=s.get(Qn);this.isNgZoneEnabled=we instanceof Qn&&Qn.isInAngularZone(),this.resetConfig(V),this.currentUrlTree=function nQ(){return new K0(new Mn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new wT(s,y,ke=>this.triggerEvent(new ES(ke)),ke=>this.triggerEvent(new OS(ke))),this.routerState=eT(this.currentUrlTree,this.rootComponentType),this.transitions=new or({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(lr(a=>0!==a.id),R(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),F4(a=>{let i=!1,s=!1;return Bt(a).pipe(Br(y=>{this.currentNavigation={id:y.id,initialUrl:y.currentRawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),F4(y=>{const V=this.browserUrlTree.toString(),ne=!this.navigated||y.extractedUrl.toString()!==V||V!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||ne)&&this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return ST(y.source)&&(this.browserUrlTree=y.extractedUrl),Bt(y).pipe(F4(we=>{const ke=this.transitions.getValue();return r.next(new Om(we.id,this.serializeUrl(we.extractedUrl),we.source,we.restoredState)),ke!==this.transitions.getValue()?H1:Promise.resolve(we)}),function JQ(n,t,e,r){return F4(a=>function YQ(n,t,e,r,a){return new KQ(n,t,e,r,a).apply()}(n,t,e,a.extractedUrl,r).pipe(R(i=>Object.assign(Object.assign({},a),{urlAfterRedirects:i}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Br(we=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:we.urlAfterRedirects})}),function mee(n,t,e,r,a){return c1(i=>function dee(n,t,e,r,a="emptyOnly",i="legacy"){try{const s=new hee(n,t,e,r,a,i).recognize();return null===s?vT(new fee):Bt(s)}catch(s){return vT(s)}}(n,t,i.urlAfterRedirects,e(i.urlAfterRedirects),r,a).pipe(R(s=>Object.assign(Object.assign({},i),{targetSnapshot:s}))))}(this.rootComponentType,this.config,we=>this.serializeUrl(we),this.paramsInheritanceStrategy,this.relativeLinkResolution),Br(we=>{if("eager"===this.urlUpdateStrategy){if(!we.extras.skipLocationChange){const qe=this.urlHandlingStrategy.merge(we.urlAfterRedirects,we.rawUrl);this.setBrowserUrl(qe,we)}this.browserUrlTree=we.urlAfterRedirects}const ke=new jX(we.id,this.serializeUrl(we.extractedUrl),this.serializeUrl(we.urlAfterRedirects),we.targetSnapshot);r.next(ke)}));if(ne&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:ke,extractedUrl:qe,source:S1,restoredState:y1,extras:c2}=y,h2=new Om(ke,this.serializeUrl(qe),S1,y1);r.next(h2);const W1=eT(qe,this.rootComponentType).snapshot;return Bt(Object.assign(Object.assign({},y),{targetSnapshot:W1,urlAfterRedirects:qe,extras:Object.assign(Object.assign({},c2),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=y.rawUrl,y.resolve(null),H1}),Jm(y=>{const{targetSnapshot:V,id:ne,extractedUrl:pe,rawUrl:we,extras:{skipLocationChange:ke,replaceUrl:qe}}=y;return this.hooks.beforePreactivation(V,{navigationId:ne,appliedUrlTree:pe,rawUrlTree:we,skipLocationChange:!!ke,replaceUrl:!!qe})}),Br(y=>{const V=new GX(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(V)}),R(y=>Object.assign(Object.assign({},y),{guards:XQ(y.targetSnapshot,y.currentSnapshot,this.rootContexts)})),function ree(n,t){return c1(e=>{const{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:i,canDeactivateChecks:s}}=e;return 0===s.length&&0===i.length?Bt(Object.assign(Object.assign({},e),{guardsResult:!0})):function aee(n,t,e,r){return O2(n).pipe(c1(a=>function uee(n,t,e,r,a){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?Bt(i.map(y=>{const V=Wf(y,t,a);let ne;if(function IQ(n){return n&&Vs(n.canDeactivate)}(V))ne=zi(V.canDeactivate(n,t,e,r));else{if(!Vs(V))throw new Error("Invalid CanDeactivate guard");ne=zi(V(n,t,e,r))}return ne.pipe(Y5())})).pipe(Gc()):Bt(!0)}(a.component,a.route,e,t,r)),Y5(a=>!0!==a,!0))}(s,r,a,n).pipe(c1(y=>y&&function zQ(n){return"boolean"==typeof n}(y)?function iee(n,t,e,r){return O2(t).pipe(Ic(a=>H5(function see(n,t){return null!==n&&t&&t(new YX(n)),Bt(!0)}(a.route.parent,r),function oee(n,t){return null!==n&&t&&t(new ZX(n)),Bt(!0)}(a.route,r),function cee(n,t,e){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>function QQ(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>kf(()=>Bt(s.guards.map(V=>{const ne=Wf(V,s.node,e);let pe;if(function OQ(n){return n&&Vs(n.canActivateChild)}(ne))pe=zi(ne.canActivateChild(r,n));else{if(!Vs(ne))throw new Error("Invalid CanActivateChild guard");pe=zi(ne(r,n))}return pe.pipe(Y5())})).pipe(Gc())));return Bt(i).pipe(Gc())}(n,a.path,e),function lee(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Bt(!0);const a=r.map(i=>kf(()=>{const s=Wf(i,t,e);let y;if(function EQ(n){return n&&Vs(n.canActivate)}(s))y=zi(s.canActivate(t,n));else{if(!Vs(s))throw new Error("Invalid CanActivate guard");y=zi(s(t,n))}return y.pipe(Y5())}));return Bt(a).pipe(Gc())}(n,a.route,e))),Y5(a=>!0!==a,!0))}(r,i,n,t):Bt(y)),R(y=>Object.assign(Object.assign({},e),{guardsResult:y})))})}(this.ngModule.injector,y=>this.triggerEvent(y)),Br(y=>{if(J0(y.guardsResult)){const ne=Im(`Redirecting to "${this.serializeUrl(y.guardsResult)}"`);throw ne.url=y.guardsResult,ne}const V=new $X(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.triggerEvent(V)}),lr(y=>!!y.guardsResult||(this.restoreHistory(y),this.cancelNavigationTransition(y,""),!1)),Jm(y=>{if(y.guards.canActivateChecks.length)return Bt(y).pipe(Br(V=>{const ne=new WX(V.id,this.serializeUrl(V.extractedUrl),this.serializeUrl(V.urlAfterRedirects),V.targetSnapshot);this.triggerEvent(ne)}),F4(V=>{let ne=!1;return Bt(V).pipe(function vee(n,t){return c1(e=>{const{targetSnapshot:r,guards:{canActivateChecks:a}}=e;if(!a.length)return Bt(e);let i=0;return O2(a).pipe(Ic(s=>function yee(n,t,e,r){return function _ee(n,t,e,r){const a=LT(n);if(0===a.length)return Bt({});const i={};return O2(a).pipe(c1(s=>function bee(n,t,e,r){const a=Wf(n,t,r);return zi(a.resolve?a.resolve(t,e):a(t,e))}(n[s],t,e,r).pipe(Br(y=>{i[s]=y}))),Em(1),c1(()=>LT(i).length===a.length?Bt(i):H1))}(n._resolve,n,t,r).pipe(R(i=>(n._resolvedData=i,n.data=Object.assign(Object.assign({},n.data),tT(n,e).resolve),null)))}(s.route,r,n,t)),Br(()=>i++),Em(1),c1(s=>i===a.length?Bt(e):H1))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Br({next:()=>ne=!0,complete:()=>{ne||(this.restoreHistory(V),this.cancelNavigationTransition(V,"At least one route resolver didn't emit any value."))}}))}),Br(V=>{const ne=new qX(V.id,this.serializeUrl(V.extractedUrl),this.serializeUrl(V.urlAfterRedirects),V.targetSnapshot);this.triggerEvent(ne)}))}),Jm(y=>{const{targetSnapshot:V,id:ne,extractedUrl:pe,rawUrl:we,extras:{skipLocationChange:ke,replaceUrl:qe}}=y;return this.hooks.afterPreactivation(V,{navigationId:ne,appliedUrlTree:pe,rawUrlTree:we,skipLocationChange:!!ke,replaceUrl:!!qe})}),R(y=>{const V=function _Q(n,t,e){const r=Bc(n,t._root,e?e._root:void 0);return new QS(r,t)}(this.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return Object.assign(Object.assign({},y),{targetRouterState:V})}),Br(y=>{this.currentUrlTree=y.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl),this.routerState=y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,y),this.browserUrlTree=y.urlAfterRedirects)}),((n,t,e)=>R(r=>(new AQ(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,y=>this.triggerEvent(y)),Br({next(){i=!0},complete(){i=!0}}),function BX(n){return F((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{var y;i||s||this.cancelNavigationTransition(a,`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`),(null===(y=this.currentNavigation)||void 0===y?void 0:y.id)===a.id&&(this.currentNavigation=null)}),Hs(y=>{if(s=!0,function QX(n){return n&&n[PS]}(y)){const V=J0(y.url);V||(this.navigated=!0,this.restoreHistory(a,!0));const ne=new NS(a.id,this.serializeUrl(a.extractedUrl),y.message);r.next(ne),V?setTimeout(()=>{const pe=this.urlHandlingStrategy.merge(y.url,this.rawUrlTree),we={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ST(a.source)};this.scheduleNavigation(pe,"imperative",null,we,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const V=new UX(a.id,this.serializeUrl(a.extractedUrl),y);r.next(V);try{a.resolve(this.errorHandler(y))}catch(ne){a.reject(ne)}}return H1}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var a;const i={replaceUrl:!0},s=(null===(a=e.state)||void 0===a?void 0:a.navigationId)?e.state:null;if(s){const V=Object.assign({},s);delete V.navigationId,delete V.\u0275routerPageId,0!==Object.keys(V).length&&(i.state=V)}const y=this.parseUrl(e.url);this.scheduleNavigation(y,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){uT(e),this.config=e.map(Km),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:a,queryParams:i,fragment:s,queryParamsHandling:y,preserveFragment:V}=r,ne=a||this.routerState.root,pe=V?this.currentUrlTree.fragment:s;let we=null;switch(y){case"merge":we=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":we=this.currentUrlTree.queryParams;break;default:we=i||null}return null!==we&&(we=this.removeEmptyProps(we)),function xQ(n,t,e,r,a){if(0===e.length)return Gm(t.root,t.root,t.root,r,a);const i=function LQ(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new iT(!0,0,n);let t=0,e=!1;const r=n.reduce((a,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const y={};return Tr(i.outlets,(V,ne)=>{y[ne]="string"==typeof V?V.split("/"):V}),[...a,{outlets:y}]}if(i.segmentPath)return[...a,i.segmentPath]}return"string"!=typeof i?[...a,i]:0===s?(i.split("/").forEach((y,V)=>{0==V&&"."===y||(0==V&&""===y?e=!0:".."===y?t++:""!=y&&a.push(y))}),a):[...a,i]},[]);return new iT(e,t,r)}(e);if(i.toRoot())return Gm(t.root,t.root,new Mn([],{}),r,a);const s=function wQ(n,t,e){if(n.isAbsolute)return new $m(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const i=e.snapshot._urlSegment;return new $m(i,i===t.root,0)}const r=Rf(n.commands[0])?0:1;return function DQ(n,t,e){let r=n,a=t,i=e;for(;i>a;){if(i-=a,r=r.parent,!r)throw new Error("Invalid number of '../'");a=r.segments.length}return new $m(r,!1,a-i)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(i,t,n),y=s.processChildren?Ff(s.segmentGroup,s.index,i.commands):oT(s.segmentGroup,s.index,i.commands);return Gm(t.root,s.segmentGroup,y,r,a)}(ne,this.currentUrlTree,e,we,null!=pe?pe:null)}navigateByUrl(e,r={skipLocationChange:!1}){const a=J0(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function Aee(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(a){r=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return r}isActive(e,r){let a;if(a=!0===r?Object.assign({},Hee):!1===r?Object.assign({},Vee):r,J0(e))return jS(this.currentUrlTree,e,a);const i=this.parseUrl(e);return jS(this.currentUrlTree,i,a)}removeEmptyProps(e){return Object.keys(e).reduce((r,a)=>{const i=e[a];return null!=i&&(r[a]=i),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Pc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,a,i,s){var y,V;if(this.disposed)return Promise.resolve(!1);let ne,pe,we;s?(ne=s.resolve,pe=s.reject,we=s.promise):we=new Promise((S1,y1)=>{ne=S1,pe=y1});const ke=++this.navigationId;let qe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),qe=a&&a.\u0275routerPageId?a.\u0275routerPageId:i.replaceUrl||i.skipLocationChange?null!==(y=this.browserPageId)&&void 0!==y?y:0:(null!==(V=this.browserPageId)&&void 0!==V?V:0)+1):qe=0,this.setTransition({id:ke,targetPageId:qe,source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:ne,reject:pe,promise:we,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),we.catch(S1=>Promise.reject(S1))}setBrowserUrl(e,r){const a=this.urlSerializer.serialize(e),i=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl?this.location.replaceState(a,"",i):this.location.go(a,"",i)}restoreHistory(e,r=!1){var a,i;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===s?this.currentUrlTree===(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const a=new NS(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){Hp()},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();function ST(n){return"imperative"!==n}let qf=(()=>{class n{constructor(e,r,a){this.router=e,this.route=r,this.locationStrategy=a,this.commands=null,this.href=null,this.onChanges=new j,this.subscription=e.events.subscribe(i=>{i instanceof Pc&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,r,a,i,s){if(0!==e||r||a||i||s||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const y={skipLocationChange:X5(this.skipLocationChange),replaceUrl:X5(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,y),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:X5(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(P1(Hr),P1(J5),P1(S5))},n.\u0275dir=U2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,r){1&e&&_2("click",function(i){return r.onClick(i.button,i.ctrlKey,i.shiftKey,i.altKey,i.metaKey)}),2&e&&Bn("target",r.target)("href",r.href,ts)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Zn]}),n})();function X5(n){return""===n||!!n}class TT{}class HT{preload(t,e){return Bt(null)}}let VT=(()=>{class n{constructor(e,r,a,i){this.router=e,this.injector=a,this.preloadingStrategy=i,this.loader=new wT(a,r,V=>e.triggerEvent(new ES(V)),V=>e.triggerEvent(new OS(V)))}setUpPreloading(){this.subscription=this.router.events.pipe(lr(e=>e instanceof Pc),Ic(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(lo);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const a=[];for(const i of r)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const s=i._loadedConfig;a.push(this.processRoutes(s.module,s.routes))}else i.loadChildren&&!i.canLoad?a.push(this.preloadConfig(e,i)):i.children&&a.push(this.processRoutes(e,i.children));return O2(a).pipe(L1(),R(i=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Bt(r._loadedConfig):this.loader.load(e.injector,r)).pipe(c1(i=>(r._loadedConfig=i,this.processRoutes(i.module,i.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(J2(Hr),J2(FM),J2(m1),J2(TT))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})(),ev=(()=>{class n{constructor(e,r,a={}){this.router=e,this.viewportScroller=r,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Om?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Pc&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof IS&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new IS(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){Hp()},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();const X0=new tn("ROUTER_CONFIGURATION"),AT=new tn("ROUTER_FORROOT_GUARD"),Eee=[MC,{provide:qS,useClass:YS},{provide:Hr,useFactory:function Fee(n,t,e,r,a,i,s={},y,V){const ne=new Hr(null,n,t,e,r,a,FS(i));return y&&(ne.urlHandlingStrategy=y),V&&(ne.routeReuseStrategy=V),function Bee(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(s,ne),s.enableTracing&&ne.events.subscribe(pe=>{var we,ke;null===(we=console.group)||void 0===we||we.call(console,`Router Event: ${pe.constructor.name}`),console.log(pe.toString()),console.log(pe),null===(ke=console.groupEnd)||void 0===ke||ke.call(console)}),ne},deps:[qS,$c,MC,m1,FM,Xm,X0,[class wee{},new Ia],[class Mee{},new Ia]]},$c,{provide:J5,useFactory:function Uee(n){return n.routerState.root},deps:[Hr]},VT,HT,class Nee{preload(t,e){return e().pipe(Hs(()=>Bt(null)))}},{provide:X0,useValue:{enableTracing:!1}}];function Oee(){return new $M("Router",Hr)}let kT=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[Eee,zT(e),{provide:AT,useFactory:Ree,deps:[[Hr,new Ia,new o0]]},{provide:X0,useValue:r||{}},{provide:S5,useFactory:Pee,deps:[A0,[new z6(bC),new Ia],X0]},{provide:ev,useFactory:Iee,deps:[Hr,YG,X0]},{provide:TT,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:HT},{provide:$M,multi:!0,useFactory:Oee},[tv,{provide:mu,multi:!0,useFactory:jee,deps:[tv]},{provide:NT,useFactory:Gee,deps:[tv]},{provide:RM,multi:!0,useExisting:NT}]]}}static forChild(e){return{ngModule:n,providers:[zT(e)]}}}return n.\u0275fac=function(e){return new(e||n)(J2(AT,8),J2(Hr,8))},n.\u0275mod=en({type:n}),n.\u0275inj=wt({}),n})();function Iee(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new ev(n,t,e)}function Pee(n,t,e={}){return e.useHash?new Nj(n,t):new ux(n,t)}function Ree(n){return"guarded"}function zT(n){return[{provide:T6,multi:!0,useValue:n},{provide:Xm,multi:!0,useValue:n}]}let tv=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new j}appInitializer(){return this.injector.get(Aj,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const a=new Promise(y=>r=y),i=this.injector.get(Hr),s=this.injector.get(X0);return"disabled"===s.initialNavigation?(i.setUpLocationChangeListener(),r(!0)):"enabled"===s.initialNavigation||"enabledBlocking"===s.initialNavigation?(i.hooks.afterPreactivation=()=>this.initNavigation?Bt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),i.initialNavigation()):r(!0),a})}bootstrapListener(e){const r=this.injector.get(X0),a=this.injector.get(VT),i=this.injector.get(ev),s=this.injector.get(Hr),y=this.injector.get(ic);e===y.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&s.initialNavigation(),a.setUpPreloading(),i.init(),s.resetRootComponentType(y.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(J2(m1))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();function jee(n){return n.appInitializer.bind(n)}function Gee(n){return n.bootstrapListener.bind(n)}const NT=new tn("Router Initializer");function Wee(n,t){if(1&n){const e=On();Ge(0,"button",19),_2("click",function(){return $2(e),X1().addToHomeScreen()}),A1(1,"Add to Home screen"),We()}}let qee=(()=>{class n{constructor(e){this.preferences=e,this.isNavbarCollapsed=!0,this.showInstallButton=!1}get mainHelpUrl(){return Nc.mainHelpUrl}onbeforeinstallprompt(e){e.preventDefault(),this.deferredPrompt=e,this.showInstallButton=!0}saveDefaults(){this.preferences.saveDefaults()}loadDefaults(){this.preferences.loadDefaults()}addToHomeScreen(){this.showInstallButton=!1,this.deferredPrompt&&(this.deferredPrompt.prompt(),this.deferredPrompt.userChoice.then(e=>{this.deferredPrompt=null}))}}return n.\u0275fac=function(e){return new(e||n)(P1(Nm))},n.\u0275cmp=Hn({type:n,selectors:[["app-mainmenu"]],hostBindings:function(e,r){1&e&&_2("beforeinstallprompt",function(i){return r.onbeforeinstallprompt(i)},!1,a9)},decls:34,vars:4,consts:[[1,"navbar","navbar-expand-md","navbar-dark","bg-primary","fixed-top"],["routerLink","/",1,"navbar-brand","ps-3"],["type","button","data-target","#navbarsDefault","aria-controls","navbarsDefault","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","hidden-sm-up",3,"click"],[1,"navbar-toggler-icon"],["id","navbarsDefault",1,"collapse","navbar-collapse",3,"ngbCollapse"],[1,"navbar-nav","mr-auto"],["ngbDropdown","",1,"nav-item","dropdown"],["id","id01","ngbDropdownToggle","",1,"nav-link","dropdown-toggle"],["aria-labelledby","id01","ngbDropdownMenu","",1,"dropdown-menu"],["routerLink","/sac",1,"dropdown-item"],["routerLink","/nitrox",1,"dropdown-item"],["id","id02","ngbDropdownToggle","",1,"nav-link","dropdown-toggle"],["aria-labelledby","id02","ngbDropdownMenu","",1,"dropdown-menu"],["routerLink","/settings",1,"dropdown-item"],[1,"dropdown-item",3,"click"],["target","_blank",1,"nav-link",3,"href"],["routerLink","/about",1,"nav-link"],[1,"nav","navbar-nav","navbar-right"],["class","btn btn-success btn-small mr-auto",3,"click",4,"ngIf"],[1,"btn","btn-success","btn-small","mr-auto",3,"click"]],template:function(e,r){1&e&&(Ge(0,"nav",0)(1,"a",1),A1(2,"Gas planner"),We(),Ge(3,"button",2),_2("click",function(){return r.isNavbarCollapsed=!r.isNavbarCollapsed}),rt(4,"span",3),We(),Ge(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),A1(9,"Calculators"),We(),Ge(10,"div",8)(11,"a",9),A1(12,"RMV/SAC"),We(),Ge(13,"a",10),A1(14,"Nitrox"),We()()(),Ge(15,"li",6)(16,"a",11),A1(17,"Settings"),We(),Ge(18,"div",12)(19,"a",13),A1(20,"Edit"),We(),Ge(21,"a",14),_2("click",function(){return r.saveDefaults()}),A1(22,"Save defaults"),We(),Ge(23,"a",14),_2("click",function(){return r.loadDefaults()}),A1(24,"Reload defaults"),We()()(),Ge(25,"a",15),A1(26,"Standard gases"),We(),Ge(27,"a",15),A1(28,"Help/Learn"),We(),Ge(29,"a",16),A1(30,"About"),We()(),Ge(31,"ul",17)(32,"li"),m2(33,Wee,2,0,"button",18),We()()()()),2&e&&($e(5),T1("ngbCollapse",r.isNavbarCollapsed),$e(20),y5("href","",r.mainHelpUrl,"/standard_gases.md",ts),$e(2),y5("href","",r.mainHelpUrl,"/help.md",ts),$e(6),T1("ngIf",r.showInstallButton))},directives:[$g,qf,_K,xs,Dc,F5,ar],styles:[""]}),n})();let Kee=(()=>{class n{constructor(){this.appVersion="0.1.15"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Hn({type:n,selectors:[["app-footer"]],decls:5,vars:1,consts:[[1,"mt-5"],[1,"page-footer","font-small","bg-light","fixed-bottom","d-none","d-lg-block"],[1,"footer-copyright","text-center","py-2"],[1,"text-muted"]],template:function(e,r){1&e&&(rt(0,"div",0),Ge(1,"footer",1)(2,"div",2)(3,"span",3),A1(4),We()()()),2&e&&($e(4),it("\xa9 2020 JIRI POKORNY, Version ",r.appVersion,""))},styles:[""]}),n})(),Zee=(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Hn({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(e,r){1&e&&rt(0,"app-mainmenu")(1,"router-outlet")(2,"app-footer")},directives:[qee,Ym,Kee],styles:[""]}),n})();function ET(n,t,e,r,a,i,s){try{var y=n[i](s),V=y.value}catch(ne){return void e(ne)}y.done?t(V):Promise.resolve(V).then(r,a)}function nv(n){return function(){var t=this,e=arguments;return new Promise(function(r,a){var i=n.apply(t,e);function s(V){ET(i,r,a,s,y,"next",V)}function y(V){ET(i,r,a,s,y,"throw",V)}s(void 0)})}}var IH={prefix:"far",iconName:"flag",icon:[512,512,[61725,127988],"f024","M476.3 0c-6.365 0-13.01 1.35-19.34 4.233c-45.69 20.86-79.56 27.94-107.8 27.94c-59.96 0-94.81-31.86-163.9-31.87c-34.63 0-77.87 8.003-137.2 32.05V24C48 10.75 37.25 0 24 0S0 10.75 0 24v464C0 501.3 10.75 512 24 512s24-10.75 24-24v-104c53.59-23.86 96.02-31.81 132.8-31.81c73.63 0 124.9 31.78 198.6 31.78c31.91 0 68.02-5.971 111.1-23.09C504.1 355.9 512 344.4 512 332.1V30.73C512 11.1 495.3 0 476.3 0zM464 319.8c-30.31 10.82-58.08 16.1-84.6 16.1c-30.8 0-58.31-7-87.44-14.41c-32.01-8.141-68.29-17.37-111.1-17.37c-42.35 0-85.99 9.09-132.8 27.73V84.14l18.03-7.301c47.39-19.2 86.38-28.54 119.2-28.54c28.24 .0039 49.12 6.711 73.31 14.48c25.38 8.148 54.13 17.39 90.58 17.39c35.43 0 72.24-8.496 114.9-26.61V319.8z"]};class H4{constructor(){this._imperialUnits=!1,this.current=new Vm,this.ranges=new uv(this.current),this.ranges$=new or(this.ranges)}get length(){return this.current.lengthShortcut}get pressure(){return this.current.pressureShortcut}get volume(){return this.current.volumeShortcut}get altitude(){return this.current.altitudeShortcut}get speed(){return this.length+Q0}get sac(){return this.pressure+Q0}get rmv(){return this.volume+Q0}get lastSpeedLevel(){return this.current.lastSpeedLevel}get autoStopLevel(){return this.current.autoStopLevel}get imperialUnits(){return this._imperialUnits}set imperialUnits(t){this._imperialUnits=t,this._imperialUnits?(this.current=new EX,this.ranges=new ine(this.current)):(this.current=new Vm,this.ranges=new uv(this.current)),this.ranges$.next(this.ranges)}static createMetricRanges(){return new uv(new Vm)}toLiter(t){return this.current.toLiter(t)}fromLiter(t){return this.current.fromLiter(t)}toMeters(t){return this.current.toMeters(t)}fromMeters(t){return this.current.fromMeters(t)}toBar(t){return this.current.toBar(t)}fromBar(t){return this.current.fromBar(t)}fromTankLiters(t){return this.current.fromTankLiters(t)}toTankLiters(t){return this.current.toTankLiters(t)}}const Q0="/min",M3=(n,t)=>`${n[0]} - ${n[1]} ${t}`;class uv{constructor(t){this.units=t,this.tankSize=[1,50],this.tankSizeLabel=M3(this.tankSize,this.units.volumeShortcut),this.tankPressure=[30,350],this.tankPressureLabel=M3(this.tankPressure,this.units.pressureShortcut),this.nitroxOxygen=[21,100],this.nitroxOxygenLabel=M3(this.nitroxOxygen,"%"),this.trimixOxygen=[1,100],this.trimixOxygenLabel=M3(this.trimixOxygen,"%"),this.tankHe=[0,99],this.tankHeLabel=M3(this.tankHe,"%"),this.diverRmv=[5,90],this.diverRmvLabel=M3(this.diverRmv,this.units.volumeShortcut+Q0),this.ppO2=[.21,3],this.depth=[1,350],this.depthLabel=M3(this.depth,this.units.lengthShortcut),this.narcoticDepth=[1,100],this.narcoticDepthLabel=M3(this.narcoticDepth,this.units.lengthShortcut),this.lastStopDepth=[3,6],this.lastStopDepthLabel=M3(this.lastStopDepth,this.units.lengthShortcut),this.duration=[1,1440],this.durationLabel=M3(this.duration,"min"),this.altitude=[0,5e3],this.altitudeLabel=M3(this.altitude,this.units.altitudeShortcut),this.speed=[1,100],this.speedLabel=M3(this.speed,this.units.lengthShortcut+Q0),this.decoStopDistance=3,this.minimumAutoStopDepth=10,this.lastStopDepthDefault=3}}class ine{constructor(t){this.units=t,this.diverRmv=[.17,3.178],this.diverRmvLabel=M3(this.diverRmv,this.units.volumeShortcut+Q0),this.depth=[3,1150],this.depthLabel=M3(this.depth,this.units.lengthShortcut),this.tankSize=[1,300],this.tankSizeLabel=M3(this.tankSize,this.units.volumeShortcut),this.tankPressure=[400,5100],this.tankPressureLabel=M3(this.tankPressure,this.units.pressureShortcut),this.decoStopDistance=10,this.minimumAutoStopDepth=33,this.lastStopDepthDefault=10,this.nitroxOxygen=[21,100],this.nitroxOxygenLabel=M3(this.nitroxOxygen,"%"),this.trimixOxygen=[1,100],this.trimixOxygenLabel=M3(this.trimixOxygen,"%"),this.tankHe=[0,99],this.tankHeLabel=M3(this.tankHe,"%"),this.ppO2=[.21,3],this.narcoticDepth=[1,100],this.narcoticDepthLabel=M3(this.narcoticDepth,this.units.lengthShortcut),this.lastStopDepth=[3,6],this.lastStopDepthLabel=M3(this.lastStopDepth,this.units.lengthShortcut),this.duration=[1,1440],this.durationLabel=M3(this.duration,"min"),this.altitude=[0,5e3],this.altitudeLabel=M3(this.altitude,this.units.altitudeShortcut),this.speed=[1,100],this.speedLabel=M3(this.speed,this.units.lengthShortcut+Q0)}}var dV={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M374.6 310.6l-160 160C208.4 476.9 200.2 480 192 480s-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 370.8V64c0-17.69 14.33-31.1 31.1-31.1S224 46.31 224 64v306.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0S387.1 298.1 374.6 310.6z"]},gV={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6l-160 160C272.4 444.9 264.2 448 256 448s-16.38-3.125-22.62-9.375c-12.5-12.5-12.5-32.75 0-45.25L338.8 288H32C14.33 288 .0016 273.7 .0016 256S14.33 224 32 224h306.8l-105.4-105.4c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l160 160C451.1 245.9 451.1 266.1 438.6 278.6z"]},xV={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M374.6 246.6C368.4 252.9 360.2 256 352 256s-16.38-3.125-22.62-9.375L224 141.3V448c0 17.69-14.33 31.1-31.1 31.1S160 465.7 160 448V141.3L54.63 246.6c-12.5 12.5-32.75 12.5-45.25 0s-12.5-32.75 0-45.25l160-160c12.5-12.5 32.75-12.5 45.25 0l160 160C387.1 213.9 387.1 234.1 374.6 246.6z"]},bv={prefix:"fas",iconName:"battery-half",icon:[576,512,["battery-3"],"f242","M288 320H96V192H288V320zM0 176C0 131.8 35.82 96 80 96H464C508.2 96 544 131.8 544 176V192C561.7 192 576 206.3 576 224V288C576 305.7 561.7 320 544 320V336C544 380.2 508.2 416 464 416H80C35.82 416 0 380.2 0 336V176zM80 160C71.16 160 64 167.2 64 176V336C64 344.8 71.16 352 80 352H464C472.8 352 480 344.8 480 336V176C480 167.2 472.8 160 464 160H80z"]},wv={prefix:"fas",iconName:"calculator",icon:[384,512,[128425],"f1ec","M336 0h-288C22.38 0 0 22.38 0 48v416C0 489.6 22.38 512 48 512h288c25.62 0 48-22.38 48-48v-416C384 22.38 361.6 0 336 0zM64 208C64 199.2 71.2 192 80 192h32C120.8 192 128 199.2 128 208v32C128 248.8 120.8 256 112 256h-32C71.2 256 64 248.8 64 240V208zM64 304C64 295.2 71.2 288 80 288h32C120.8 288 128 295.2 128 304v32C128 344.8 120.8 352 112 352h-32C71.2 352 64 344.8 64 336V304zM224 432c0 8.801-7.199 16-16 16h-128C71.2 448 64 440.8 64 432v-32C64 391.2 71.2 384 80 384h128c8.801 0 16 7.199 16 16V432zM224 336c0 8.801-7.199 16-16 16h-32C167.2 352 160 344.8 160 336v-32C160 295.2 167.2 288 176 288h32C216.8 288 224 295.2 224 304V336zM224 240C224 248.8 216.8 256 208 256h-32C167.2 256 160 248.8 160 240v-32C160 199.2 167.2 192 176 192h32C216.8 192 224 199.2 224 208V240zM320 432c0 8.801-7.199 16-16 16h-32c-8.799 0-16-7.199-16-16v-32c0-8.801 7.201-16 16-16h32c8.801 0 16 7.199 16 16V432zM320 336c0 8.801-7.199 16-16 16h-32c-8.799 0-16-7.199-16-16v-32C256 295.2 263.2 288 272 288h32C312.8 288 320 295.2 320 304V336zM320 240C320 248.8 312.8 256 304 256h-32C263.2 256 256 248.8 256 240v-32C256 199.2 263.2 192 272 192h32C312.8 192 320 199.2 320 208V240zM320 144C320 152.8 312.8 160 304 160h-224C71.2 160 64 152.8 64 144v-64C64 71.2 71.2 64 80 64h224C312.8 64 320 71.2 320 80V144z"]},Dv={prefix:"fas",iconName:"chart-area",icon:[512,512,["area-chart"],"f1fe","M64 400C64 408.8 71.16 416 80 416H480C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H80C35.82 480 0 444.2 0 400V64C0 46.33 14.33 32 32 32C49.67 32 64 46.33 64 64V400zM128 320V236C128 228.3 130.8 220.8 135.9 214.1L215.3 124.2C228.3 109.4 251.4 109.7 263.1 124.8L303.2 171.8C312.2 182.7 328.6 183.4 338.6 173.4L359.6 152.4C372.7 139.3 394.4 140.1 406.5 154.2L472.3 231C477.3 236.8 480 244.2 480 251.8V320C480 337.7 465.7 352 448 352H159.1C142.3 352 127.1 337.7 127.1 320L128 320z"]},UA={prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM232 152C232 138.8 242.8 128 256 128s24 10.75 24 24v128c0 13.25-10.75 24-24 24S232 293.3 232 280V152zM256 400c-17.36 0-31.44-14.08-31.44-31.44c0-17.36 14.07-31.44 31.44-31.44s31.44 14.08 31.44 31.44C287.4 385.9 273.4 400 256 400z"]},WA={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 128c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S224 177.7 224 160C224 142.3 238.3 128 256 128zM296 384h-80C202.8 384 192 373.3 192 360s10.75-24 24-24h16v-64H224c-13.25 0-24-10.75-24-24S210.8 224 224 224h32c13.25 0 24 10.75 24 24v88h16c13.25 0 24 10.75 24 24S309.3 384 296 384z"]},Az={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6C499.2 175.2 496.4 184.9 489.6 191.2L446.3 230.6C447.4 238.9 448 247.4 448 256C448 264.6 447.4 273.1 446.3 281.4L489.6 320.8C496.4 327.1 499.2 336.8 495.9 345.4C491.5 357.3 486.2 368.8 480.2 379.7L475.5 387.8C468.9 398.8 461.5 409.2 453.4 419.1C447.4 426.2 437.7 428.7 428.9 425.9L373.2 408.1C359.8 418.4 344.1 427 329.2 433.6L316.7 490.7C314.7 499.7 307.7 506.1 298.5 508.5C284.7 510.8 270.5 512 255.1 512C241.5 512 227.3 510.8 213.5 508.5C204.3 506.1 197.3 499.7 195.3 490.7L182.8 433.6C167 427 152.2 418.4 138.8 408.1L83.14 425.9C74.3 428.7 64.55 426.2 58.63 419.1C50.52 409.2 43.12 398.8 36.52 387.8L31.84 379.7C25.77 368.8 20.49 357.3 16.06 345.4C12.82 336.8 15.55 327.1 22.41 320.8L65.67 281.4C64.57 273.1 64 264.6 64 256C64 247.4 64.57 238.9 65.67 230.6L22.41 191.2C15.55 184.9 12.82 175.3 16.06 166.6C20.49 154.7 25.78 143.2 31.84 132.3L36.51 124.2C43.12 113.2 50.52 102.8 58.63 92.95C64.55 85.8 74.3 83.32 83.14 86.14L138.8 103.9C152.2 93.56 167 84.96 182.8 78.43L195.3 21.33C197.3 12.25 204.3 5.04 213.5 3.51C227.3 1.201 241.5 0 256 0C270.5 0 284.7 1.201 298.5 3.51C307.7 5.04 314.7 12.25 316.7 21.33L329.2 78.43C344.1 84.96 359.8 93.56 373.2 103.9L428.9 86.14C437.7 83.32 447.4 85.8 453.4 92.95C461.5 102.8 468.9 113.2 475.5 124.2L480.2 132.3C486.2 143.2 491.5 154.7 495.9 166.6V166.6zM256 336C300.2 336 336 300.2 336 255.1C336 211.8 300.2 175.1 256 175.1C211.8 175.1 176 211.8 176 255.1C176 300.2 211.8 336 256 336z"]},pN={prefix:"fas",iconName:"layer-group",icon:[512,512,[],"f5fd","M232.5 5.171C247.4-1.718 264.6-1.718 279.5 5.171L498.1 106.2C506.6 110.1 512 118.6 512 127.1C512 137.3 506.6 145.8 498.1 149.8L279.5 250.8C264.6 257.7 247.4 257.7 232.5 250.8L13.93 149.8C5.438 145.8 0 137.3 0 127.1C0 118.6 5.437 110.1 13.93 106.2L232.5 5.171zM498.1 234.2C506.6 238.1 512 246.6 512 255.1C512 265.3 506.6 273.8 498.1 277.8L279.5 378.8C264.6 385.7 247.4 385.7 232.5 378.8L13.93 277.8C5.438 273.8 0 265.3 0 255.1C0 246.6 5.437 238.1 13.93 234.2L67.13 209.6L219.1 279.8C242.5 290.7 269.5 290.7 292.9 279.8L444.9 209.6L498.1 234.2zM292.9 407.8L444.9 337.6L498.1 362.2C506.6 366.1 512 374.6 512 383.1C512 393.3 506.6 401.8 498.1 405.8L279.5 506.8C264.6 513.7 247.4 513.7 232.5 506.8L13.93 405.8C5.438 401.8 0 393.3 0 383.1C0 374.6 5.437 366.1 13.93 362.2L67.13 337.6L219.1 407.8C242.5 418.7 269.5 418.7 292.9 407.8V407.8z"]},_N={prefix:"fas",iconName:"list-check",icon:[512,512,["tasks"],"f0ae","M152.1 38.16C161.9 47.03 162.7 62.2 153.8 72.06L81.84 152.1C77.43 156.9 71.21 159.8 64.63 159.1C58.05 160.2 51.69 157.6 47.03 152.1L7.029 112.1C-2.343 103.6-2.343 88.4 7.029 79.03C16.4 69.66 31.6 69.66 40.97 79.03L63.08 101.1L118.2 39.94C127 30.09 142.2 29.29 152.1 38.16V38.16zM152.1 198.2C161.9 207 162.7 222.2 153.8 232.1L81.84 312.1C77.43 316.9 71.21 319.8 64.63 319.1C58.05 320.2 51.69 317.6 47.03 312.1L7.029 272.1C-2.343 263.6-2.343 248.4 7.029 239C16.4 229.7 31.6 229.7 40.97 239L63.08 261.1L118.2 199.9C127 190.1 142.2 189.3 152.1 198.2V198.2zM224 96C224 78.33 238.3 64 256 64H480C497.7 64 512 78.33 512 96C512 113.7 497.7 128 480 128H256C238.3 128 224 113.7 224 96V96zM224 256C224 238.3 238.3 224 256 224H480C497.7 224 512 238.3 512 256C512 273.7 497.7 288 480 288H256C238.3 288 224 273.7 224 256zM160 416C160 398.3 174.3 384 192 384H480C497.7 384 512 398.3 512 416C512 433.7 497.7 448 480 448H192C174.3 448 160 433.7 160 416zM0 416C0 389.5 21.49 368 48 368C74.51 368 96 389.5 96 416C96 442.5 74.51 464 48 464C21.49 464 0 442.5 0 416z"]},Yv={prefix:"fas",iconName:"share-from-square",icon:[576,512,[61509,"share-square"],"f14d","M568.9 143.5l-150.9-138.2C404.8-6.773 384 3.039 384 21.84V96C241.2 97.63 128 126.1 128 260.6c0 54.3 35.2 108.1 74.08 136.2c12.14 8.781 29.42-2.238 24.94-16.46C186.7 252.2 256 224 384 223.1v74.2c0 18.82 20.84 28.59 34.02 16.51l150.9-138.2C578.4 167.8 578.4 152.2 568.9 143.5zM416 384c-17.67 0-32 14.33-32 32v31.1l-320-.0013V128h32c17.67 0 32-14.32 32-32S113.7 64 96 64H64C28.65 64 0 92.65 0 128v319.1c0 35.34 28.65 64 64 64l320-.0013c35.35 0 64-28.66 64-64V416C448 398.3 433.7 384 416 384z"]},tO={prefix:"fas",iconName:"shuffle",icon:[512,512,[128256,"random"],"f074","M424.1 287c-15.13-15.12-40.1-4.426-40.1 16.97V352H336L153.6 108.8C147.6 100.8 138.1 96 128 96H32C14.31 96 0 110.3 0 128s14.31 32 32 32h80l182.4 243.2C300.4 411.3 309.9 416 320 416h63.97v47.94c0 21.39 25.86 32.12 40.99 17l79.1-79.98c9.387-9.387 9.387-24.59 0-33.97L424.1 287zM336 160h47.97v48.03c0 21.39 25.87 32.09 40.1 16.97l79.1-79.98c9.387-9.391 9.385-24.59-.0013-33.97l-79.1-79.98c-15.13-15.12-40.99-4.391-40.99 17V96H320c-10.06 0-19.56 4.75-25.59 12.81L254 162.7L293.1 216L336 160zM112 352H32c-17.69 0-32 14.31-32 32s14.31 32 32 32h96c10.06 0 19.56-4.75 25.59-12.81l40.4-53.87L154 296L112 352z"]},oO={prefix:"fas",iconName:"sliders",icon:[512,512,["sliders-h"],"f1de","M0 416C0 398.3 14.33 384 32 384H86.66C99 355.7 127.2 336 160 336C192.8 336 220.1 355.7 233.3 384H480C497.7 384 512 398.3 512 416C512 433.7 497.7 448 480 448H233.3C220.1 476.3 192.8 496 160 496C127.2 496 99 476.3 86.66 448H32C14.33 448 0 433.7 0 416V416zM192 416C192 398.3 177.7 384 160 384C142.3 384 128 398.3 128 416C128 433.7 142.3 448 160 448C177.7 448 192 433.7 192 416zM352 176C384.8 176 412.1 195.7 425.3 224H480C497.7 224 512 238.3 512 256C512 273.7 497.7 288 480 288H425.3C412.1 316.3 384.8 336 352 336C319.2 336 291 316.3 278.7 288H32C14.33 288 0 273.7 0 256C0 238.3 14.33 224 32 224H278.7C291 195.7 319.2 176 352 176zM384 256C384 238.3 369.7 224 352 224C334.3 224 320 238.3 320 256C320 273.7 334.3 288 352 288C369.7 288 384 273.7 384 256zM480 64C497.7 64 512 78.33 512 96C512 113.7 497.7 128 480 128H265.3C252.1 156.3 224.8 176 192 176C159.2 176 131 156.3 118.7 128H32C14.33 128 0 113.7 0 96C0 78.33 14.33 64 32 64H118.7C131 35.75 159.2 16 192 16C224.8 16 252.1 35.75 265.3 64H480zM160 96C160 113.7 174.3 128 192 128C209.7 128 224 113.7 224 96C224 78.33 209.7 64 192 64C174.3 64 160 78.33 160 96z"]},Xv={prefix:"fas",iconName:"square-plus",icon:[448,512,[61846,"plus-square"],"f0fe","M384 32C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H384zM224 368C237.3 368 248 357.3 248 344V280H312C325.3 280 336 269.3 336 256C336 242.7 325.3 232 312 232H248V168C248 154.7 237.3 144 224 144C210.7 144 200 154.7 200 168V232H136C122.7 232 112 242.7 112 256C112 269.3 122.7 280 136 280H200V344C200 357.3 210.7 368 224 368z"]},ny={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M135.2 17.69C140.6 6.848 151.7 0 163.8 0H284.2C296.3 0 307.4 6.848 312.8 17.69L320 32H416C433.7 32 448 46.33 448 64C448 81.67 433.7 96 416 96H32C14.33 96 0 81.67 0 64C0 46.33 14.33 32 32 32H128L135.2 17.69zM31.1 128H416V448C416 483.3 387.3 512 352 512H95.1C60.65 512 31.1 483.3 31.1 448V128zM111.1 208V432C111.1 440.8 119.2 448 127.1 448C136.8 448 143.1 440.8 143.1 432V208C143.1 199.2 136.8 192 127.1 192C119.2 192 111.1 199.2 111.1 208zM207.1 208V432C207.1 440.8 215.2 448 223.1 448C232.8 448 240 440.8 240 432V208C240 199.2 232.8 192 223.1 192C215.2 192 207.1 199.2 207.1 208zM304 208V432C304 440.8 311.2 448 320 448C328.8 448 336 440.8 336 432V208C336 199.2 328.8 192 320 192C311.2 192 304 199.2 304 208z"]},fd={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M506.3 417l-213.3-364c-16.33-28-57.54-28-73.98 0l-213.2 364C-10.59 444.9 9.849 480 42.74 480h426.6C502.1 480 522.6 445 506.3 417zM232 168c0-13.25 10.75-24 24-24S280 154.8 280 168v128c0 13.25-10.75 24-23.1 24S232 309.3 232 296V168zM256 416c-17.36 0-31.44-14.08-31.44-31.44c0-17.36 14.07-31.44 31.44-31.44s31.44 14.08 31.44 31.44C287.4 401.9 273.4 416 256 416z"]},CI={prefix:"fas",iconName:"user-gear",icon:[640,512,["user-cog"],"f4fe","M425.1 482.6c-2.303-1.25-4.572-2.559-6.809-3.93l-7.818 4.493c-6.002 3.504-12.83 5.352-19.75 5.352c-10.71 0-21.13-4.492-28.97-12.75c-18.41-20.09-32.29-44.15-40.22-69.9c-5.352-18.06 2.343-36.87 17.83-45.24l8.018-4.669c-.0664-2.621-.0664-5.242 0-7.859l-7.655-4.461c-12.3-6.953-19.4-19.66-19.64-33.38C305.6 306.3 290.4 304 274.7 304H173.3C77.61 304 0 381.7 0 477.4C0 496.5 15.52 512 34.66 512H413.3c5.727 0 10.9-1.727 15.66-4.188c-2.271-4.984-3.86-10.3-3.86-16.06V482.6zM224 256c70.7 0 128-57.31 128-128S294.7 0 224 0C153.3 0 96 57.31 96 128S153.3 256 224 256zM610.5 373.3c2.625-14 2.625-28.5 0-42.5l25.75-15c3-1.625 4.375-5.125 3.375-8.5c-6.75-21.5-18.25-41.13-33.25-57.38c-2.25-2.5-6-3.125-9-1.375l-25.75 14.88c-10.88-9.25-23.38-16.5-36.88-21.25V212.3c0-3.375-2.5-6.375-5.75-7c-22.25-5-45-4.875-66.25 0c-3.25 .625-5.625 3.625-5.625 7v29.88c-13.5 4.75-26 12-36.88 21.25L394.4 248.5c-2.875-1.75-6.625-1.125-9 1.375c-15 16.25-26.5 35.88-33.13 57.38c-1 3.375 .3751 6.875 3.25 8.5l25.75 15c-2.5 14-2.5 28.5 0 42.5l-25.75 15c-3 1.625-4.25 5.125-3.25 8.5c6.625 21.5 18.13 41 33.13 57.38c2.375 2.5 6 3.125 9 1.375l25.88-14.88c10.88 9.25 23.38 16.5 36.88 21.25v29.88c0 3.375 2.375 6.375 5.625 7c22.38 5 45 4.875 66.25 0c3.25-.625 5.75-3.625 5.75-7v-29.88c13.5-4.75 26-12 36.88-21.25l25.75 14.88c2.875 1.75 6.75 1.125 9-1.375c15-16.25 26.5-35.88 33.25-57.38c1-3.375-.3751-6.875-3.375-8.5L610.5 373.3zM496 400.5c-26.75 0-48.5-21.75-48.5-48.5s21.75-48.5 48.5-48.5c26.75 0 48.5 21.75 48.5 48.5S522.8 400.5 496 400.5z"]};function dbe(n,t){if(1&n&&(Ge(0,"div",15),A1(1),We()),2&n){const e=X1();$e(1),it("Needs to be number ",e.ranges.diverRmvLabel,"")}}function hbe(n,t){1&n&&(Ge(0,"div",15),A1(1,"Needs to be number 0.21-3"),We())}function pbe(n,t){1&n&&(Ge(0,"div",15),A1(1,"Needs to be number 0.21-3"),We())}let Cbe=(()=>{class n{constructor(e){this.units=e,this.diver=new q5,this.icon=CI,this.ranges=e.ranges}get rmv(){return this.units.fromLiter(this.diver.rmv)}set rmv(e){this.diver.rmv=this.units.toLiter(e)}}return n.\u0275fac=function(e){return new(e||n)(P1(H4))},n.\u0275cmp=Hn({type:n,selectors:[["app-diver"]],inputs:{diver:"diver",ranges:"ranges"},decls:25,vars:23,consts:[[1,"mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],["for","sac"],["name","sac","id","sac","type","number","required","","step","0.1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange"],["sac","ngModel"],["class","text-danger",4,"ngIf"],["for","maxPpO2"],["name","maxPpO2","id","maxPpO2","type","number","required","","step",".1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange"],["maxPpO2","ngModel"],["for","maxDecoPpO2"],["name","maxDecoPpO2","id","maxDecoPpO2","type","number","required","","step",".1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange"],["maxDecoPpO2","ngModel"],[1,"text-danger"]],template:function(e,r){if(1&e&&(Ge(0,"div",0)(1,"div",1)(2,"div",2),rt(3,"fa-icon",3),Ge(4,"span"),A1(5,"Diver"),We()(),Ge(6,"div",4)(7,"div")(8,"label",5),A1(9),Ge(10,"input",6,7),_2("ngModelChange",function(i){return r.rmv=i}),We()(),m2(12,dbe,2,1,"div",8),We(),Ge(13,"div")(14,"label",9),A1(15,"Maximum ppO2: "),Ge(16,"input",10,11),_2("ngModelChange",function(i){return r.diver.maxPpO2=i}),We()(),m2(18,hbe,2,0,"div",8),We(),Ge(19,"div")(20,"label",12),A1(21,"Maximum deco ppO2: "),Ge(22,"input",13,14),_2("ngModelChange",function(i){return r.diver.maxDecoPpO2=i}),We()(),m2(24,pbe,2,0,"div",8),We()()()()),2&e){const a=Ft(11),i=Ft(17),s=Ft(23);$e(3),T1("icon",r.icon),$e(6),it("Respiratory minute volume [",r.units.rmv,"]: "),$e(1),ft("is-invalid",a.invalid&&(a.dirty||a.touched)),T1("ngModel",r.rmv)("rangeVal",r.ranges.diverRmv)("min",r.ranges.diverRmv[0])("max",r.ranges.diverRmv[1]),$e(2),T1("ngIf",a.invalid&&(a.dirty||a.touched)),$e(4),ft("is-invalid",i.invalid&&(i.dirty||i.touched)),T1("ngModel",r.diver.maxPpO2)("rangeVal",r.ranges.ppO2)("min",r.ranges.ppO2[0])("max",r.ranges.ppO2[1]),$e(2),T1("ngIf",i.invalid&&(i.dirty||i.touched)),$e(4),ft("is-invalid",s.invalid&&(s.dirty||s.touched)),T1("ngModel",r.diver.maxDecoPpO2)("rangeVal",r.ranges.ppO2)("min",r.ranges.ppO2[0])("max",r.ranges.ppO2[1]),$e(2),T1("ngIf",s.invalid&&(s.dirty||s.touched))}},directives:[ua,vs,_s,ys,Co,go,N0,ms,Ls,ar],styles:[""]}),n})();function gbe(n,t){if(1&n){const e=On();Ge(0,"div",7)(1,"div",8)(2,"div",9),rt(3,"fa-icon",10),Ge(4,"span"),A1(5,"Units"),We()(),Ge(6,"div",11)(7,"div",12)(8,"input",13),_2("change",function(){$2(e);const a=X1();return a.imperialUnits=!a.imperialUnits}),We(),Ge(9,"label",14),A1(10,"Metric units (m, l, bar)"),We()(),Ge(11,"div",12)(12,"input",15),_2("change",function(){$2(e);const a=X1();return a.imperialUnits=!a.imperialUnits}),We(),Ge(13,"label",16),A1(14,"Imperial units (ft, cuft, psi)"),We()()()()()}if(2&n){const e=X1();$e(3),T1("icon",e.flagIcon),$e(5),T1("checked",!e.imperialUnits),$e(4),T1("checked",e.imperialUnits)}}let mbe=(()=>{class n{constructor(e,r,a){this.router=e,this.units=r,this.planner=a,this.flagIcon=IH,this.diver=new q5,this.imperialUnits=!1,this.imperialUnits=this.units.imperialUnits,this.diver.loadFrom(this.planner.diver)}goBack(){var e=this;return nv(function*(){return yield e.router.navigateByUrl("/")})()}use(){this.planner.applyDiver(this.diver),this.units.imperialUnits=this.imperialUnits,this.applyToOptions(),this.applyToTanks()}applyToOptions(){const e=this.units.ranges,r=this.planner.options;r.decoStopDistance=e.decoStopDistance,r.minimumAutoStopDepth=e.minimumAutoStopDepth,r.lastStopDepth=e.lastStopDepthDefault}applyToTanks(){}}return n.\u0275fac=function(e){return new(e||n)(P1(Hr),P1(H4),P1(u4))},n.\u0275cmp=Hn({type:n,selectors:[["app-app-settings"]],decls:10,vars:5,consts:[[1,"row","mt-5"],[1,"col","col-auto",3,"diver","ranges"],["class","col col-auto mt-3",4,"ngIf"],[1,"row"],[1,"form-group","mt-2"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"col","col-auto","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[1,"form-check"],["type","radio","name","unitsRadio","id","metricRadio",1,"form-check-input",3,"checked","change"],["for","metricRadio","value","metric",1,"custom-control-label"],["type","radio","name","unitsRadio","id","imperialRadio",1,"form-check-input",3,"checked","change"],["for","imperialRadio","value","imperial",1,"custom-control-label"]],template:function(e,r){1&e&&(Ge(0,"div",0),rt(1,"app-diver",1),mn(2,"async"),m2(3,gbe,15,3,"div",2),We(),Ge(4,"div",3)(5,"div",4)(6,"button",5),_2("click",function(){return r.goBack()}),A1(7,"Back"),We(),Ge(8,"button",6),_2("click",function(){return r.use()}),A1(9,"Use"),We()()()),2&e&&($e(1),T1("diver",r.diver)("ranges",function dM(n,t,e){const r=n+20,a=T2(),i=Or(a,r);return tc(a,r)?sM(a,v(),t,i.transform,e,i):i.transform(e)}(2,3,r.units.ranges$)||r.units.ranges),$e(2),T1("ngIf",!1))},directives:[Cbe,ar,ua],pipes:[xx],styles:[""]}),n})();var vbe=de(489),dd=de.n(vbe);class ybe{constructor(){this.ranges=H4.createMetricRanges()}validate(t){const e=t.tanks.length+1,r=this.selectContentRanges(t.isComplex),a=this.allTanksValid(t.tanks,e,r),i=this.allSegmentsValid(t.plan,e,r),s=this.optionsValid(t.options),y=this.diverValid(t.diver),V=this.complexModeValid(t);return a&&i&&s&&y&&V}selectContentRanges(t){return t?[this.ranges.trimixOxygen,this.ranges.tankHe]:[this.ranges.nitroxOxygen,[0,0]]}allTanksValid(t,e,r){const a=t.length>0,i=dd()(t).every(V=>this.isValidTank(V,e,r)),y=dd()(t).map(V=>V.id).uniq().size()===t.length;return a&&i&&y}isValidTank(t,e,r){const a=this.isInRange(t.id,[1,e]),i=this.isInRange(t.size,this.ranges.tankSize),s=this.isInRange(t.startPressure,this.ranges.tankPressure),y=this.isValidGas(t.gas,r);return a&&i&&s&&y}isValidGas(t,e){const r=.209===t.fO2&&0===t.fHe,a=this.isInRange(100*t.fO2,e[0]),i=this.isInRange(100*t.fHe,e[1]);return r||a&&i&&t.fO2+t.fHe<=1}allSegmentsValid(t,e,r){return t.length>0&&dd()(t).every(a=>this.isValidSegment(a,e,r))}isValidSegment(t,e,r){return this.isInRange(t.tankId,[1,e])&&this.isInRange(t.startDepth,[0,350])&&this.isInRange(t.endDepth,[0,350])&&this.isInRange(t.duration,this.ranges.duration)&&this.isValidGas(t.gas,r)}optionsValid(t){return this.isInRange(t.altitude,this.ranges.altitude)&&this.isInRange(t.ascentSpeed50perc,this.ranges.speed)&&this.isInRange(t.ascentSpeed50percTo6m,this.ranges.speed)&&this.isInRange(t.ascentSpeed6m,this.ranges.speed)&&this.isInRange(t.descentSpeed,this.ranges.speed)&&this.isInRange(t.gasSwitchDuration,[1,10])&&this.isInRange(t.gfHigh,[.1,1])&&this.isInRange(t.gfLow,[.1,1])&&this.isInRange(t.maxDecoPpO2,this.ranges.ppO2)&&this.isInRange(t.maxEND,this.ranges.narcoticDepth)&&this.isInRange(t.maxPpO2,this.ranges.ppO2)&&this.isInRange(t.problemSolvingDuration,[1,100])&&t.safetyStop in T4&&t.salinity in S4}diverValid(t){return this.isInRange(t.rmv,this.ranges.diverRmv)&&this.isInRange(t.maxPpO2,this.ranges.ppO2)&&this.isInRange(t.maxDecoPpO2,this.ranges.ppO2)}complexModeValid(t){return t.isComplex||2===t.plan.length&&1===t.tanks.length}isInRange(t,e){return e[0]<=t&&t<=e[1]}}let As=(()=>{class n{constructor(e,r){this.paramValues=e.split(r)}static serializeBoolean(e){return e?n.trueValue:"0"}static deserializeBoolean(e){return e===n.trueValue}parseNumber(e){return Number(this.paramValues[e])}parseEnum(e){return Number(this.paramValues[e])}parseBoolean(e){return n.deserializeBoolean(this.paramValues[e])}processValues(e,r){for(let a=0;a<this.paramValues.length;a++)r(this.toPartContext(a,e))}toPartContext(e,r){return new n(this.paramValues[e],r)}}return n.trueValue="1",n})();class pa{static toUrl(t){return`t=${pa.toTanksParam(t.tanks)}&de=${pa.toDepthsParam(t.plan.segments)}&di=${pa.toDiverParam(t.diver)}&o=${pa.toOptionsParam(t.options)}&c=${As.serializeBoolean(t.isComplex)}`}static fromUrl(t,e){try{if(!t)return;const r=pa.parseDto(t);(new ybe).validate(r)?Am.applyLoaded(e,r):console.log("Unable to load planner from url parameters, due to invalid data.")}catch(r){console.log("Failed loading of planner from url parameters.")}}static parseDto(t){const e=new URLSearchParams(t),r=e.get("c")||"",a=e.get("o")||"",i=e.get("di")||"",s=e.get("t")||"",y=e.get("de")||"",V=pa.fromTanksParam(s);return{isComplex:As.deserializeBoolean(r),options:pa.fromOptionsParam(a),diver:pa.fromDiverParam(i),tanks:V,plan:pa.fromDepthsParam(V,y)}}static fromOptionsParam(t){const e=new As(t,",");return{altitude:e.parseNumber(0),ascentSpeed50perc:e.parseNumber(1),ascentSpeed50percTo6m:e.parseNumber(2),ascentSpeed6m:e.parseNumber(3),decoStopDistance:e.parseNumber(4),descentSpeed:e.parseNumber(5),gasSwitchDuration:e.parseNumber(6),gfHigh:e.parseNumber(7),gfLow:e.parseNumber(8),lastStopDepth:e.parseNumber(9),maxDecoPpO2:e.parseNumber(10),maxEND:e.parseNumber(11),maxPpO2:e.parseNumber(12),minimumAutoStopDepth:e.parseNumber(13),oxygenNarcotic:e.parseBoolean(14),problemSolvingDuration:e.parseNumber(15),roundStopsToMinutes:e.parseBoolean(16),safetyStop:e.parseEnum(17),salinity:e.parseEnum(18)}}static toOptionsParam(t){const e=As.serializeBoolean(t.oxygenNarcotic),r=As.serializeBoolean(t.roundStopsToMinutes);return`${t.altitude},${t.ascentSpeed50perc},${t.ascentSpeed50percTo6m},${t.ascentSpeed6m},${t.decoStopDistance},${t.descentSpeed},${t.gasSwitchDuration},${t.gfHigh},${t.gfLow},${t.lastStopDepth},${t.maxDecoPpO2},${t.maxEND},${t.maxPpO2},${t.minimumAutoStopDepth},${e},${t.problemSolvingDuration},${r},${t.safetyStop},${t.salinity}`}static fromDiverParam(t){const e=new As(t,",");return{rmv:e.parseNumber(0),maxPpO2:e.parseNumber(1),maxDecoPpO2:e.parseNumber(2)}}static toDiverParam(t){return`${t.rmv},${t.maxPpO2},${t.maxDecoPpO2}`}static fromTanksParam(t){let e=[];return new As(t,",").processValues("-",a=>{const i={id:a.parseNumber(0),size:a.parseNumber(1),startPressure:a.parseNumber(2),gas:{fO2:a.parseNumber(3),fHe:a.parseNumber(4)},consumed:0,reserve:0};e.push(i)}),e=dd().sortBy(e,[a=>a.id]),e}static toTanksParam(t){const e=[];return t.forEach(r=>{e.push(`${r.id}-${r.size}-${r.startPressure}-${r.gas.fO2}-${r.gas.fHe}`)}),e.join(",")}static fromDepthsParam(t,e){const r=[];let i;return new As(e,",").processValues("-",s=>{const V=this.toSegment(s,t,i?i.endDepth:0);i=V,r.push(V)}),r}static toSegment(t,e,r){const a={startDepth:r,endDepth:t.parseNumber(1),duration:t.parseNumber(2),tankId:1,gas:{fO2:0,fHe:0}},i=t.parseNumber(3);if(0<i&&i<=e.length){const s=e[i-1];a.tankId=i,a.gas.fO2=s.gas.fO2,a.gas.fHe=s.gas.fHe}return a}static toDepthsParam(t){const e=[];return t.forEach(r=>{e.push(`${r.startDepth}-${r.endDepth}-${r.duration}-${r.tank?r.tank.id:0}`)}),e.join(",")}}function _be(n,t){if(1&n&&(Ge(0,"span",3),A1(1),We()),2&n){const e=X1();$e(1),it("",e.tank.name," ")}}function bbe(n,t){if(1&n&&(Ge(0,"span"),A1(1),mn(2,"number"),We()),2&n){const e=X1();$e(1),Wa(", MND: ",yn(2,2,e.gasMnd,"1.0-0")," ",e.units.length,"")}}let EI=(()=>{class n{constructor(e,r){this.planer=e,this.units=r,this.tank=Y0.createDefault(),this.showName=!0}get gasMod(){const e=this.planer.modForGas(this.tank);return this.units.fromMeters(e)}get gasMnd(){const e=this.planer.mndForGas(this.tank.gas);return this.units.fromMeters(e)}get isTrimix(){return this.tank.he>0}get gasDecoMod(){const e=this.planer.switchDepth(this.tank);return this.units.fromMeters(e)}}return n.\u0275fac=function(e){return new(e||n)(P1(u4),P1(H4))},n.\u0275cmp=Hn({type:n,selectors:[["app-gaslabel"]],inputs:{tank:"tank",showName:"showName"},decls:6,vars:12,consts:[[1,"text-muted"],["class","fw-bold",4,"ngIf"],[4,"ngIf"],[1,"fw-bold"]],template:function(e,r){1&e&&(Ge(0,"small",0),m2(1,_be,2,1,"span",1),A1(2),mn(3,"number"),mn(4,"number"),m2(5,bbe,3,5,"span",2),We()),2&e&&($e(1),T1("ngIf",r.showName),$e(1),Op(" MOD: ",yn(3,6,r.gasMod,"1.0-0")," ",r.units.length,", switch ",yn(4,9,r.gasDecoMod,"1.0-0")," ",r.units.length," "),$e(3),T1("ngIf",r.isTrimix))},directives:[ar],pipes:[k0],styles:[""]}),n})();function Mbe(n,t){1&n&&(Ge(0,"span"),A1(1,"Bottom gas tank"),We())}function xbe(n,t){1&n&&(Ge(0,"span"),A1(1,"Tanks"),We())}function Lbe(n,t){if(1&n&&(Ge(0,"div",37),A1(1),We()),2&n){const e=X1(3);$e(1),it("Needs to be number ",e.ranges.tankSizeLabel," ")}}function wbe(n,t){if(1&n&&(Ge(0,"div",37),A1(1),We()),2&n){const e=X1(3);$e(1),it("Needs to be number ",e.ranges.tankPressureLabel,"")}}function Dbe(n,t){if(1&n){const e=On();Ge(0,"button",38),_2("click",function(){const i=$2(e).$implicit,s=X1().$implicit;return X1(2).assignStandardGas(s,i)}),A1(1),We()}if(2&n){const e=t.$implicit;$e(1),zn(e)}}function Sbe(n,t){if(1&n&&(Ge(0,"div",37),A1(1),We()),2&n){const e=X1(3);$e(1),it("Needs to be number ",e.ranges.trimixOxygenLabel,"")}}function Tbe(n,t){if(1&n&&(Ge(0,"div",37),A1(1),We()),2&n){const e=X1(3);$e(1),it("Needs to be number ",e.ranges.tankHeLabel,"")}}function Hbe(n,t){if(1&n){const e=On();Ge(0,"button",39),_2("click",function(){$2(e);const a=X1().$implicit;return X1(2).removeTank(a)}),rt(1,"fa-icon",40),We()}if(2&n){const e=X1(3);$e(1),T1("icon",e.trashIcon)}}function Vbe(n,t){if(1&n){const e=On();Ge(0,"tr")(1,"td",16)(2,"span"),A1(3),We()(),Ge(4,"td",17)(5,"div",18)(6,"div",10)(7,"input",19,20),_2("ngModelChange",function(a){return $2(e).$implicit.size=a})("change",function(){return $2(e),X1(2).gasChanged()}),We(),m2(9,Lbe,2,1,"div",21),We(),Ge(10,"div",11)(11,"input",22,23),_2("ngModelChange",function(a){return $2(e).$implicit.startPressure=a})("change",function(){return $2(e),X1(2).gasChanged()}),We(),m2(13,wbe,2,1,"div",21),We(),Ge(14,"div",12)(15,"div",24)(16,"input",25,26),_2("ngModelChange",function(a){return $2(e).$implicit.o2=a})("change",function(){return $2(e),X1(2).gasChanged()}),We(),Ge(18,"div",27),rt(19,"button",28),Ge(20,"div",29),m2(21,Dbe,2,1,"button",30),We()()(),m2(22,Sbe,2,1,"div",21),We(),Ge(23,"div",11)(24,"input",31,32),_2("ngModelChange",function(a){return $2(e).$implicit.he=a})("change",function(){return $2(e),X1(2).gasChanged()}),We(),m2(26,Tbe,2,1,"div",21),We()(),Ge(27,"div",33)(28,"small",34),A1(29),mn(30,"number"),We(),rt(31,"app-gaslabel",35),We()(),Ge(32,"td",16),m2(33,Hbe,2,1,"button",36),We()()}if(2&n){const e=t.$implicit,r=Ft(8),a=Ft(12),i=Ft(17),s=Ft(25),y=X1(2);$e(3),it("",e.id,"."),$e(4),ft("is-invalid",r.invalid&&(r.dirty||r.touched)),T1("ngModel",e.size)("rangeVal",y.ranges.tankSize)("min",y.ranges.tankSize[0])("max",y.ranges.tankSize[1]),$e(2),T1("ngIf",r.invalid&&(r.dirty||r.touched)),$e(2),ft("is-invalid",a.invalid&&(a.dirty||a.touched)),T1("ngModel",e.startPressure)("rangeVal",y.ranges.tankPressure)("min",y.ranges.tankPressure[0])("max",y.ranges.tankPressure[1]),$e(2),T1("ngIf",a.invalid&&(a.dirty||a.touched)),$e(3),ft("is-invalid",i.invalid&&(i.dirty||i.touched)),T1("ngModel",e.o2)("rangeVal",y.ranges.trimixOxygen)("min",y.ranges.trimixOxygen[0])("max",y.ranges.trimixOxygen[1]),$e(5),T1("ngForOf",y.allNames),$e(1),T1("ngIf",i.invalid&&(i.dirty||i.touched)),$e(2),ft("is-invalid",s.invalid&&(s.dirty||s.touched)),T1("ngModel",e.he)("rangeVal",y.ranges.tankHe)("min",y.ranges.tankHe[0])("max",y.ranges.tankHe[1]),$e(2),T1("ngIf",s.invalid&&(s.dirty||s.touched)),$e(3),Wa("SAC: ",yn(30,34,y.gasSac(e),"1.0-2")," ",y.units.sac,""),$e(2),T1("tank",e),$e(2),T1("ngIf",y.planner.firstTank!==e)}}function Abe(n,t){if(1&n){const e=On();Ge(0,"div",6)(1,"table",7)(2,"tr"),rt(3,"th"),Ge(4,"th",8)(5,"div",9)(6,"div",10),A1(7),We(),Ge(8,"div",11),A1(9),We(),Ge(10,"div",12),A1(11,"O2 [%]"),We(),Ge(12,"div",12),A1(13,"He [%]"),We()()(),Ge(14,"th")(15,"button",13),_2("click",function(){return $2(e),X1().addTank()}),rt(16,"fa-icon",14),We()()(),m2(17,Vbe,34,37,"tr",15),We()()}if(2&n){const e=X1();$e(7),it("Size [",e.units.volume,"]"),$e(2),it("Pressure [",e.units.pressure,"]"),$e(7),T1("icon",e.plusIcon),$e(1),T1("ngForOf",e.tanks)}}function kbe(n,t){if(1&n&&(Ge(0,"div",51),A1(1),We()),2&n){const e=X1(2);$e(1),it("Needs to be number ",e.ranges.tankSizeLabel,"")}}function zbe(n,t){if(1&n&&(Ge(0,"div",51),A1(1),We()),2&n){const e=X1(2);$e(1),it("Needs to be number ",e.ranges.tankPressureLabel,"")}}function Nbe(n,t){if(1&n){const e=On();Ge(0,"button",38),_2("click",function(){const i=$2(e).$implicit,s=X1(2);return s.assignStandardGas(s.firstTank.tank,i)}),A1(1),We()}if(2&n){const e=t.$implicit;$e(1),zn(e)}}function Ebe(n,t){if(1&n&&(Ge(0,"div",37),A1(1),We()),2&n){const e=X1(2);$e(1),it("Needs to be number ",e.ranges.nitroxOxygenLabel,"")}}function Obe(n,t){if(1&n){const e=On();Ge(0,"div",41)(1,"div",42)(2,"label",43),A1(3),We(),Ge(4,"input",44,20),_2("ngModelChange",function(a){return $2(e),X1().firstTank.size=a})("change",function(){return $2(e),X1().gasChanged()}),We(),Ge(6,"small",34),A1(7),mn(8,"number"),We(),m2(9,kbe,2,1,"div",45),We(),Ge(10,"div",42)(11,"label",46),A1(12),We(),Ge(13,"input",47,23),_2("ngModelChange",function(a){return $2(e),X1().firstTank.startPressure=a})("change",function(){return $2(e),X1().gasChanged()}),We(),m2(15,zbe,2,1,"div",45),We(),Ge(16,"div",42)(17,"label",48),A1(18,"Percent O2:"),We(),Ge(19,"div",49)(20,"input",25,26),_2("ngModelChange",function(a){return $2(e),X1().firstTank.o2=a})("change",function(){return $2(e),X1().gasChanged()}),We(),Ge(22,"div",27),rt(23,"button",28),Ge(24,"div",29)(25,"button",38),_2("click",function(){return $2(e),X1().assignBestMix()}),A1(26,"Best mix"),We(),m2(27,Nbe,2,1,"button",30),We()()(),rt(28,"app-gaslabel",50),m2(29,Ebe,2,1,"div",21),We()()}if(2&n){const e=Ft(5),r=Ft(14),a=Ft(21),i=X1();$e(3),it("Size [",i.units.volume,"]:"),$e(1),ft("is-invalid",e.invalid&&(e.dirty||e.touched)),T1("ngModel",i.firstTank.size)("rangeVal",i.ranges.tankSize)("min",i.ranges.tankSize[0])("max",i.ranges.tankSize[1]),$e(3),Wa("SAC: ",yn(8,27,i.gasSac(i.firstTank.tank),"1.0-2")," ",i.units.sac,""),$e(2),T1("ngIf",e.invalid&&(e.dirty||e.touched)),$e(3),it("Start pressure [",i.units.pressure,"]:"),$e(1),ft("is-invalid",r.invalid&&(r.dirty||r.touched)),T1("ngModel",i.firstTank.startPressure)("rangeVal",i.ranges.tankPressure)("min",i.ranges.tankPressure[0])("max",i.ranges.tankPressure[1]),$e(2),T1("ngIf",r.invalid&&(r.dirty||r.touched)),$e(5),ft("is-invalid",a.invalid&&(a.dirty||a.touched)),T1("ngModel",i.firstTank.o2)("rangeVal",i.ranges.nitroxOxygen)("min",i.ranges.nitroxOxygen[0])("max",i.ranges.nitroxOxygen[1]),$e(7),T1("ngForOf",i.nitroxNames),$e(1),T1("tank",i.firstTank.tank),$e(1),T1("ngIf",a.invalid&&(a.dirty||a.touched))}}class Ibe{constructor(t,e){this.tank=t,this.units=e}get size(){return this.units.fromTankLiters(this.tank.size)}get startPressure(){return this.units.fromBar(this.tank.startPressure)}get o2(){return this.tank.o2}set size(t){this.tank.size=this.units.toTankLiters(t)}set startPressure(t){this.tank.startPressure=this.units.toBar(t)}set o2(t){this.tank.o2=t}}let Pbe=(()=>{class n{constructor(e,r){this.planner=e,this.units=r,this.icon=bv,this.plusIcon=Xv,this.trashIcon=ny,this.diver=this.planner.diver,this.allNames=xt.allNames(),this.nitroxNames=xt.nitroxNames()}get firstTank(){return new Ibe(this.planner.firstTank,this.units)}get ranges(){return this.units.ranges}get tanks(){return this.planner.tanks}get isComplex(){return this.planner.isComplex}gasSac(e){const r=this.diver.gasSac(e);return this.units.fromBar(r)}addTank(){this.planner.addTank()}removeTank(e){this.planner.removeTank(e)}assignBestMix(){this.firstTank.o2=this.planner.bestNitroxMix()}gasChanged(){this.planner.calculate()}assignStandardGas(e,r){e.assignStandardGas(r),this.gasChanged()}}return n.\u0275fac=function(e){return new(e||n)(P1(u4),P1(H4))},n.\u0275cmp=Hn({type:n,selectors:[["app-tanks"]],decls:7,vars:5,consts:[[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[4,"ngIf"],["class","card-body",4,"ngIf"],["class","card-body row",4,"ngIf"],[1,"card-body"],[1,"table","table-borderless"],["colspan","3"],[1,"d-flex","flex-row","justify-content-around"],[1,"me-1"],[1,"mx-1"],[1,"ms-1"],["type","button",1,"btn","btn-default","m-0","p-0","text-primary",3,"click"],[1,"px-0","mx-0",3,"icon"],[4,"ngFor","ngForOf"],[1,"align-top"],["colspan","3",1,"align-top"],[1,"d-flex","flex-row","justify-content-between","py-0"],["name","size","type","number","required","","step","1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange","change"],["size","ngModel"],["class","text-danger",4,"ngIf"],["name","startPressure","type","number","required","","step","1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange","change"],["startPressure","ngModel"],[1,"input-group"],["name","gasO2","type","number","required","","step","1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange","change"],["gasO2","ngModel"],["ngbDropdown","","placement","bottom-right",1,"input-group-append","d-inline-block"],["id","o2Menu","type","button","ngbDropdownToggle","",1,"btn","btn-default","border"],["ngbDropdownMenu","","aria-labelledby","o2Menu","aria-expanded","false"],["type","button","class","dropdown-item",3,"click",4,"ngFor","ngForOf"],["name","gasHe","type","number","required","","step","1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange","change"],["gasHe","ngModel"],[1,"pt-0"],[1,"form-text","text-muted"],[1,"float-end",3,"tank"],["type","button","class","btn text-secondary m-0 p-0 align-top",3,"click",4,"ngIf"],[1,"text-danger"],["type","button",1,"dropdown-item",3,"click"],["type","button",1,"btn","text-secondary","m-0","p-0","align-top",3,"click"],[3,"icon"],[1,"card-body","row"],[1,"mb-3","col-auto"],["for","size",1,"form-label"],["name","size","type","number","required","","step","1",1,"form-control","col-auto",3,"ngModel","rangeVal","min","max","ngModelChange","change"],["class","text-danger form-text",4,"ngIf"],["for","startPressure",1,"form-label"],["name","startPressure","type","number","required","","step","1",1,"form-control","col-auto",3,"ngModel","rangeVal","min","max","ngModelChange","change"],["for","gasO2",1,"form-label"],[1,"input-group","col-auto","o2-max-width"],[3,"tank"],[1,"text-danger","form-text"]],template:function(e,r){1&e&&(Ge(0,"div",0)(1,"div",1),rt(2,"fa-icon",2),m2(3,Mbe,2,0,"span",3),m2(4,xbe,2,0,"span",3),We(),m2(5,Abe,18,4,"div",4),m2(6,Obe,30,30,"div",5),We()),2&e&&($e(2),T1("icon",r.icon),$e(1),T1("ngIf",!r.isComplex),$e(1),T1("ngIf",r.isComplex),$e(1),T1("ngIf",r.isComplex),$e(1),T1("ngIf",!r.isComplex))},directives:[ua,ar,po,vs,_s,ys,Co,go,N0,ms,Ls,xs,Dc,F5,EI],pipes:[k0],styles:[".o2-max-width[_ngcontent-%COMP%]{max-width:170px}"]}),n})();function Rbe(n,t){1&n&&(Ge(0,"span"),A1(1,"Depth"),We())}function Fbe(n,t){1&n&&(Ge(0,"span"),A1(1,"Depths"),We())}function Bbe(n,t){if(1&n){const e=On();Ge(0,"button",18),_2("click",function(){return $2(e),X1(2).planner.applyMaxDuration()}),A1(1,"Max"),We()}}function Ube(n,t){if(1&n){const e=On();Ge(0,"button",18),_2("click",function(){return $2(e),X1(2).planner.applyNdlDuration()}),A1(1,"No deco"),We()}}function jbe(n,t){if(1&n&&(Ge(0,"div",19),A1(1),We()),2&n){const e=X1(2);$e(1),it("Needs to be number ",e.ranges.durationLabel,"")}}function Gbe(n,t){if(1&n&&(Ge(0,"div",19),A1(1),We()),2&n){const e=X1(2);$e(1),it("Needs to be number ",e.ranges.depthLabel,"")}}function $be(n,t){if(1&n){const e=On();Ge(0,"div",5)(1,"div",6)(2,"label",7),A1(3,"Bottom time [min]:"),We(),Ge(4,"div",8)(5,"input",9,10),_2("ngModelChange",function(a){return $2(e),X1().planDuration=a}),We(),m2(7,Bbe,2,0,"button",11),m2(8,Ube,2,0,"button",11),We(),Ge(9,"div")(10,"small",12),A1(11),mn(12,"number"),We()(),m2(13,jbe,2,1,"div",13),We(),Ge(14,"div",6)(15,"label",14),A1(16),We(),Ge(17,"div",8)(18,"input",15,16),_2("ngModelChange",function(a){return $2(e),X1().plannedDepth=a}),We(),Ge(20,"button",17),_2("click",function(){return $2(e),X1().planner.applyMaxDepth()}),A1(21,"Max"),We()(),Ge(22,"div")(23,"small",12),A1(24),We()(),m2(25,Gbe,2,1,"div",13),We()()}if(2&n){const e=Ft(6),r=Ft(19),a=X1();$e(5),ft("is-invalid",e.invalid&&(e.dirty||e.touched)),T1("ngModel",a.planDuration)("rangeVal",a.ranges.duration)("min",a.ranges.duration[0])("max",a.ranges.duration[1]),$e(2),T1("ngIf",a.showMaxDuration),$e(1),T1("ngIf",a.planner.ndlValid),$e(3),it("No deco limit ",yn(12,19,a.noDecoTime,"1.0-0")," min"),$e(2),T1("ngIf",e.invalid&&(e.dirty||e.touched)),$e(3),it("Depth [",a.units.length,"]:"),$e(2),ft("is-invalid",r.invalid&&(r.dirty||r.touched)),T1("ngModel",a.plannedDepth)("rangeVal",a.ranges.depth)("min",a.ranges.depth[0])("max",a.ranges.depth[1]),$e(6),it("Best mix is ",a.bestMix,""),$e(1),T1("ngIf",r.invalid&&(r.dirty||r.touched))}}function Wbe(n,t){if(1&n&&(Ge(0,"div",36),A1(1),We()),2&n){const e=X1(3);$e(1),it("Needs to be number ",e.ranges.depthLabel,"")}}function qbe(n,t){if(1&n&&(Ge(0,"div",36),A1(1),We()),2&n){const e=X1(3);$e(1),it("Needs to be number ",e.ranges.durationLabel,"")}}function Ybe(n,t){if(1&n){const e=On();Ge(0,"button",37),_2("click",function(){const i=$2(e).$implicit,s=X1().$implicit;return X1(2).assignTank(s,i)}),A1(1),We()}if(2&n){const e=t.$implicit,r=X1(3);$e(1),zn(r.tankLabel(e))}}function Kbe(n,t){if(1&n){const e=On();Ge(0,"button",38),_2("click",function(){$2(e);const a=X1().$implicit;return X1(2).removeSegment(a)}),rt(1,"fa-icon",22),We()}if(2&n){const e=X1(3);$e(1),T1("icon",e.removeIcon)}}function Zbe(n,t){if(1&n){const e=On();Ge(0,"tr")(1,"td"),A1(2),mn(3,"number"),We(),Ge(4,"td")(5,"div",24)(6,"input",25,26),_2("ngModelChange",function(a){return $2(e).$implicit.endDepth=a})("change",function(){return $2(e),X1(2).depthChanged()}),We(),m2(8,Wbe,2,1,"div",27),We()(),Ge(9,"td")(10,"div",24)(11,"input",28,29),_2("ngModelChange",function(a){return $2(e).$implicit.duration=a})("change",function(){return $2(e),X1(2).durationChanged()}),We(),m2(13,qbe,2,1,"div",27),We()(),Ge(14,"td")(15,"div",24),rt(16,"input",30),Ge(17,"div",31),rt(18,"button",32),Ge(19,"div",33),m2(20,Ybe,2,1,"button",34),We()()()(),Ge(21,"td"),m2(22,Kbe,2,1,"button",35),We()()}if(2&n){const e=t.$implicit,r=Ft(7),a=Ft(12),i=X1(2);$e(2),zn(yn(3,18,e.startDepth,"1.0-0")),$e(4),ft("is-invalid",r.invalid&&(r.dirty||r.touched)),T1("ngModel",e.endDepth)("rangeVal",i.ranges.depth)("min",i.ranges.depth[0])("max",i.ranges.depth[1]),$e(2),T1("ngIf",r.invalid&&(r.dirty||r.touched)),$e(3),ft("is-invalid",a.invalid&&(a.dirty||a.touched)),T1("ngModel",e.duration)("rangeVal",i.ranges.duration)("min",i.ranges.duration[0])("max",i.ranges.duration[1]),$e(2),T1("ngIf",a.invalid&&(a.dirty||a.touched)),$e(3),T1("ngModel",e.tankLabel),$e(4),T1("ngForOf",i.tanks),$e(2),T1("ngIf",i.minimumSegments)}}function Jbe(n,t){if(1&n){const e=On();Ge(0,"div",5)(1,"table",20)(2,"tr")(3,"th"),A1(4),We(),Ge(5,"th"),A1(6),We(),Ge(7,"th"),A1(8,"Duration [min]"),We(),Ge(9,"th"),A1(10,"Tank"),We(),Ge(11,"th")(12,"button",21),_2("click",function(){return $2(e),X1().addSegment()}),rt(13,"fa-icon",22),We()()(),m2(14,Zbe,23,21,"tr",23),We()()}if(2&n){const e=X1();$e(4),it("From [",e.units.length,"]"),$e(2),it("To [",e.units.length,"]"),$e(7),T1("icon",e.addIcon),$e(1),T1("ngForOf",e.levels)}}let Xbe=(()=>{class n{constructor(e,r){this.planner=e,this.units=r,this.formValid=!0,this.cardIcon=pN,this.addIcon=Xv,this.removeIcon=ny,this._levels=[],this.plan=this.planner.plan,this.dive=this.planner.dive,this.updateLevels(),this.subscription=this.planner.infoCalculated.subscribe(()=>{this.updateLevels()})}get ranges(){return this.units.ranges}get isComplex(){return this.planner.isComplex}get minimumSegments(){return this.plan.minimumSegments}get levels(){return this._levels}get tanks(){return this.planner.tanks}get noDecoTime(){const e=this.plan.noDecoTime;return e>=u4.maxAcceptableNdl?1/0:e}get bestMix(){const e=this.planner.bestNitroxMix()/100;return xt.nameFor(e)}get showMaxDuration(){return this.dive.calculated&&this.dive.maxTime>0}get planDuration(){return this.plan.duration}set planDuration(e){this.planner.assignDuration(e)}get plannedDepth(){return this.plan.maxDepth}set plannedDepth(e){this.planner.assignDepth(e)}ngOnDestroy(){this.subscription.unsubscribe()}tankLabel(e){return Sf.tankLabel(e)}addSegment(){this.planner.addSegment()}removeSegment(e){this.planner.removeSegment(e.segment)}depthChanged(){this.plan.fixDepths(),this.planner.calculate()}durationChanged(){this.planner.calculate()}assignTank(e,r){e.tank=r,this.planner.calculate()}updateLevels(){const r=[];this.plan.segments.forEach(a=>{const i=new Sf(a);r.push(i)}),this._levels=r}}return n.\u0275fac=function(e){return new(e||n)(P1(u4),P1(H4))},n.\u0275cmp=Hn({type:n,selectors:[["app-depths"]],inputs:{formValid:"formValid",plannedDepth:"plannedDepth"},decls:7,vars:5,consts:[[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[4,"ngIf"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"mb-3"],["for","duration",1,"form-label"],[1,"row","row-cols-auto"],["id","duration","name","duration","type","number","required","","step","1",1,"form-control","ms-3","mt-2",3,"ngModel","rangeVal","min","max","ngModelChange"],["duration","ngModel"],["type","button","class","btn btn-secondary ms-2 mt-2",3,"click",4,"ngIf"],[1,"text-muted","form-text"],["class","text-danger form-text",4,"ngIf"],["for","depth",1,"form-label"],["id","depth","name","depth","type","number","required","","step","1",1,"form-control","col-auto","ms-3",3,"ngModel","rangeVal","min","max","ngModelChange"],["depth","ngModel"],["type","button",1,"btn","btn-secondary","ms-2",3,"click"],["type","button",1,"btn","btn-secondary","ms-2","mt-2",3,"click"],[1,"text-danger","form-text"],[1,"table","table-borderless"],["type","button",1,"btn","btn-default","m-0","p-0","text-primary",3,"click"],[3,"icon"],[4,"ngFor","ngForOf"],[1,"input-group"],["name","endDepth","type","number","required","","step","1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange","change"],["endDepth","ngModel"],["class","text-danger",4,"ngIf"],["name","duration2","type","number","required","","step","1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange","change"],["duration2","ngModel"],["id","tanks","type","text","readonly","",1,"form-control",3,"ngModel"],["ngbDropdown","","placement","bottom-right",1,"input-group-append","d-inline-block"],["id","tankMenu","type","button","ngbDropdownToggle","",1,"btn","btn-default","border"],["ngbDropdownMenu","","aria-labelledby","tankMenu","aria-expanded","false"],["type","button","class","dropdown-item",3,"click",4,"ngFor","ngForOf"],["type","button","class","btn text-secondary m-0 p-0 align-top",3,"click",4,"ngIf"],[1,"text-danger"],["type","button",1,"dropdown-item",3,"click"],["type","button",1,"btn","text-secondary","m-0","p-0","align-top",3,"click"]],template:function(e,r){1&e&&(Ge(0,"div",0)(1,"div",1),rt(2,"fa-icon",2),m2(3,Rbe,2,0,"span",3),m2(4,Fbe,2,0,"span",3),We(),m2(5,$be,26,22,"div",4),m2(6,Jbe,15,4,"div",4),We()),2&e&&($e(2),T1("icon",r.cardIcon),$e(1),T1("ngIf",!r.isComplex),$e(1),T1("ngIf",r.isComplex),$e(1),T1("ngIf",!r.isComplex),$e(1),T1("ngIf",r.isComplex))},directives:[ua,ar,vs,_s,ys,Co,go,N0,ms,Ls,po,xs,Dc,F5],pipes:[k0],styles:[""]}),n})();function Qbe(n,t){if(1&n&&(Ge(0,"div",30),A1(1),We()),2&n){const e=X1(2);$e(1),it(" Needs to be number ",e.ranges.altitudeLabel," ")}}function eMe(n,t){if(1&n){const e=On();Ge(0,"div")(1,"div",12)(2,"div",13)(3,"label",14),A1(4,"Conservatism (Gradient factors):"),We(),Ge(5,"div",15)(6,"input",16),_2("ngModelChange",function(a){return $2(e),X1().conservatism=a}),We(),Ge(7,"div",17),rt(8,"button",18),Ge(9,"div",19)(10,"button",20),_2("click",function(){return $2(e),X1().lowConservatism()}),A1(11),We(),Ge(12,"button",20),_2("click",function(){return $2(e),X1().mediumConservatism()}),A1(13),We(),Ge(14,"button",20),_2("click",function(){return $2(e),X1().highConservatism()}),A1(15),We()()()()(),Ge(16,"div",13)(17,"label",21),A1(18,"Water salinity:"),We(),Ge(19,"div",15),rt(20,"input",22,23),Ge(22,"div",17),rt(23,"button",24),Ge(24,"div",25)(25,"button",20),_2("click",function(){return $2(e),X1().useFresh()}),A1(26),We(),Ge(27,"button",20),_2("click",function(){return $2(e),X1().useBrackish()}),A1(28),We(),Ge(29,"button",20),_2("click",function(){return $2(e),X1().useSalt()}),A1(30),We()()()()(),Ge(31,"div",13)(32,"label",26),A1(33),We(),Ge(34,"input",27,28),_2("ngModelChange",function(a){return $2(e),X1().plannedAltitude=a}),We(),m2(36,Qbe,2,1,"div",29),We()()()}if(2&n){const e=Ft(21),r=Ft(35),a=X1();$e(6),T1("ngModel",a.conservatism),$e(5),zn(a.lowName),$e(2),zn(a.mediumName),$e(2),zn(a.highName),$e(5),ft("is-invalid",e.invalid&&(e.dirty||e.touched)),T1("ngModel",a.salinityOption),$e(6),zn(a.freshName),$e(2),zn(a.brackishName),$e(2),zn(a.saltName),$e(3),it("Altitude [",a.units.altitude,"]:"),$e(1),ft("is-invalid",r.invalid&&(r.dirty||r.touched)),T1("ngModel",a.plannedAltitude)("rangeVal",a.ranges.altitude)("min",a.ranges.altitude[0])("max",a.ranges.altitude[1]),$e(2),T1("ngIf",r.invalid&&(r.dirty||r.touched))}}function tMe(n,t){if(1&n&&(Ge(0,"div",30),A1(1),We()),2&n){const e=X1(2);$e(1),it(" Needs to be number ",e.ranges.altitudeLabel," ")}}function nMe(n,t){1&n&&(Ge(0,"div",30),A1(1," Needs to be number 10 - 100 lower than gradient high"),We())}function rMe(n,t){1&n&&(Ge(0,"div",30),A1(1," Needs to be number 10 - 100 higher than gradient low "),We())}function aMe(n,t){if(1&n&&(Ge(0,"div",30),A1(1),We()),2&n){const e=X1(2);$e(1),it(" Needs to be number ",e.ranges.narcoticDepthLabel," ")}}function iMe(n,t){1&n&&(Ge(0,"div",30),A1(1," Needs to be number 1 - 100 mim "),We())}function oMe(n,t){1&n&&(Ge(0,"div",30),A1(1," Needs to be number 1 - 10 min "),We())}function sMe(n,t){if(1&n&&(Ge(0,"div",30),A1(1),We()),2&n){const e=X1(2);$e(1),it(" Needs to be number ",e.ranges.lastStopDepthLabel," ")}}function lMe(n,t){if(1&n&&(Ge(0,"div",30),A1(1),We()),2&n){const e=X1(2);$e(1),it(" Needs to be number ",e.ranges.speedLabel," ")}}function cMe(n,t){if(1&n&&(Ge(0,"div",30),A1(1),We()),2&n){const e=X1(2);$e(1),it(" Needs to be number ",e.ranges.speedLabel," ")}}function uMe(n,t){if(1&n&&(Ge(0,"div",30),A1(1),We()),2&n){const e=X1(2);$e(1),it(" Needs to be number ",e.ranges.speedLabel," ")}}function fMe(n,t){if(1&n&&(Ge(0,"div",30),A1(1),We()),2&n){const e=X1(2);$e(1),it(" Needs to be number ",e.ranges.speedLabel," ")}}const OI=function(){return[10,100]},dMe=function(){return[1,100]},hMe=function(){return[1,10]};function pMe(n,t){if(1&n){const e=On();Ge(0,"div")(1,"ul",31)(2,"li",32)(3,"button",33),A1(4,"Environment"),We()(),Ge(5,"li",32)(6,"button",34),A1(7,"Conservatism"),We()(),Ge(8,"li",32)(9,"button",35),A1(10,"Gases"),We()(),Ge(11,"li",32)(12,"button",36),A1(13,"Stops"),We()(),Ge(14,"li",32)(15,"button",37),A1(16,"Speeds"),We()()(),Ge(17,"div",38)(18,"div",39)(19,"div",40)(20,"div",41)(21,"label",26),A1(22),We(),Ge(23,"input",27,28),_2("ngModelChange",function(a){return $2(e),X1().plannedAltitude=a}),We(),m2(25,tMe,2,1,"div",29),We(),Ge(26,"div",41)(27,"label",21),A1(28,"Water salinity:"),We(),Ge(29,"div",15),rt(30,"input",22,23),Ge(32,"div",17),rt(33,"button",24),Ge(34,"div",25)(35,"button",20),_2("click",function(){return $2(e),X1().useFresh()}),A1(36),We(),Ge(37,"button",20),_2("click",function(){return $2(e),X1().useBrackish()}),A1(38),We(),Ge(39,"button",20),_2("click",function(){return $2(e),X1().useSalt()}),A1(40),We()()()()()()(),Ge(41,"div",42)(42,"div",43)(43,"div",41)(44,"label",21),A1(45,"Gradient low [%]:"),We(),Ge(46,"div",15)(47,"input",44,45),_2("ngModelChange",function(a){return $2(e),X1().plannedGfLow=a}),We(),Ge(49,"div",17),rt(50,"button",46),Ge(51,"div",47)(52,"button",20),_2("click",function(){return $2(e),X1().lowConservatism()}),A1(53),We(),Ge(54,"button",20),_2("click",function(){return $2(e),X1().mediumConservatism()}),A1(55),We(),Ge(56,"button",20),_2("click",function(){return $2(e),X1().highConservatism()}),A1(57),We()()()(),m2(58,nMe,2,0,"div",29),We(),Ge(59,"div",41)(60,"label",48),A1(61,"Gradient high [%]:"),We(),Ge(62,"input",49,50),_2("ngModelChange",function(a){return $2(e),X1().plannedGfHigh=a}),We(),m2(64,rMe,2,0,"div",29),We()()(),Ge(65,"div",51)(66,"div",52)(67,"div",13)(68,"label",53),A1(69),We(),Ge(70,"input",54,55),_2("ngModelChange",function(a){return $2(e),X1().gasMaxNarcoticDepth=a}),We(),m2(72,aMe,2,1,"div",29),We(),Ge(73,"div",56)(74,"div",57)(75,"input",58),_2("change",function(){$2(e);const a=X1();return a.gasOxygenNarcotic=!a.gasOxygenNarcotic}),We(),Ge(76,"label",59),A1(77,"Oxygen is narcotic"),We()()()()(),Ge(78,"div",60)(79,"div",52)(80,"div",13)(81,"label",61),A1(82,"Problem solving duration [min]:"),We(),Ge(83,"input",62,63),_2("ngModelChange",function(a){return $2(e),X1().problemSolvingDuration=a}),We(),m2(85,iMe,2,0,"div",29),We(),Ge(86,"div",13)(87,"label",64),A1(88,"Gas switch duration [min]:"),We(),Ge(89,"input",65,66),_2("ngModelChange",function(a){return $2(e),X1().gasSwitchDuration=a}),We(),m2(91,oMe,2,0,"div",29),We(),Ge(92,"div",13)(93,"label",67),A1(94,"Add 3 min safety stop:"),We(),Ge(95,"div",15),rt(96,"input",68,69),Ge(98,"div",17),rt(99,"button",70),Ge(100,"div",71)(101,"button",20),_2("click",function(){return $2(e),X1().useSafetyOff()}),A1(102),We(),Ge(103,"button",20),_2("click",function(){return $2(e),X1().useSafetyAuto()}),A1(104),We(),Ge(105,"button",20),_2("click",function(){return $2(e),X1().useSafetyOn()}),A1(106),We()()()()(),Ge(107,"div",13)(108,"label",72),A1(109),We(),Ge(110,"input",73,74),_2("ngModelChange",function(a){return $2(e),X1().lastStopDepth=a}),We(),m2(112,sMe,2,1,"div",29),We(),Ge(113,"div",56)(114,"div",57)(115,"input",75),_2("change",function(){$2(e);const a=X1();return a.roundDecoStops=!a.roundDecoStops}),We(),Ge(116,"label",59),A1(117,"Round deco stops to minutes"),We()()()()(),Ge(118,"div",76)(119,"div",52)(120,"div",13)(121,"label",77),A1(122),We(),Ge(123,"input",78,79),_2("ngModelChange",function(a){return $2(e),X1().descentSpeed=a}),We(),m2(125,lMe,2,1,"div",29),We(),Ge(126,"div",13)(127,"label",80),A1(128),We(),Ge(129,"input",81,82),_2("ngModelChange",function(a){return $2(e),X1().ascentSpeed6m=a}),We(),m2(131,cMe,2,1,"div",29),We()(),Ge(132,"div",52)(133,"div",13)(134,"label",83),A1(135),We(),Ge(136,"input",84,85),_2("ngModelChange",function(a){return $2(e),X1().ascentSpeed50percTo6m=a}),We(),m2(138,uMe,2,1,"div",29),We(),Ge(139,"div",13)(140,"label",86),A1(141),We(),Ge(142,"input",87,88),_2("ngModelChange",function(a){return $2(e),X1().ascentSpeed50perc=a}),We(),m2(144,fMe,2,1,"div",29),We()()()()()}if(2&n){const e=Ft(24),r=Ft(31),a=Ft(48),i=Ft(63),s=Ft(71),y=Ft(84),V=Ft(90),ne=Ft(97),pe=Ft(111),we=Ft(124),ke=Ft(130),qe=Ft(137),S1=Ft(143),y1=X1();$e(22),it("Altitude [",y1.units.altitude,"]:"),$e(1),ft("is-invalid",e.invalid&&(e.dirty||e.touched)),T1("ngModel",y1.plannedAltitude)("rangeVal",y1.ranges.altitude)("min",y1.ranges.altitude[0])("max",y1.ranges.altitude[1]),$e(2),T1("ngIf",e.invalid&&(e.dirty||e.touched)),$e(5),ft("is-invalid",r.invalid&&(r.dirty||r.touched)),T1("ngModel",y1.salinityOption),$e(6),zn(y1.freshName),$e(2),zn(y1.brackishName),$e(2),zn(y1.saltName),$e(7),ft("is-invalid",a.invalid&&(a.dirty||a.touched)),T1("ngModel",y1.plannedGfLow)("rangeVal",Jl(97,OI)),$e(6),zn(y1.lowName),$e(2),zn(y1.mediumName),$e(2),zn(y1.highName),$e(1),T1("ngIf",a.invalid&&(a.dirty||a.touched)),$e(4),ft("is-invalid",i.invalid&&(i.dirty||i.touched)),T1("ngModel",y1.plannedGfHigh)("rangeVal",Jl(98,OI)),$e(2),T1("ngIf",i.invalid&&(i.dirty||i.touched)),$e(5),it("Maximum narcotic depth [",y1.units.length,"]:"),$e(1),ft("is-invalid",s.invalid&&(s.dirty||s.touched)),T1("ngModel",y1.gasMaxNarcoticDepth)("rangeVal",y1.ranges.narcoticDepth)("min",y1.ranges.narcoticDepth[0])("max",y1.ranges.narcoticDepth[1]),$e(2),T1("ngIf",s.invalid&&(s.dirty||s.touched)),$e(3),T1("checked",y1.gasOxygenNarcotic),$e(8),ft("is-invalid",y.invalid&&(y.dirty||y.touched)),T1("ngModel",y1.problemSolvingDuration)("rangeVal",Jl(99,dMe)),$e(2),T1("ngIf",y.invalid&&(y.dirty||y.touched)),$e(4),ft("is-invalid",V.invalid&&(V.dirty||V.touched)),T1("ngModel",y1.gasSwitchDuration)("rangeVal",Jl(100,hMe)),$e(2),T1("ngIf",V.invalid&&(V.dirty||V.touched)),$e(5),ft("is-invalid",ne.invalid&&(ne.dirty||ne.touched)),T1("ngModel",y1.safetyStopOption),$e(6),zn(y1.safetyOffName),$e(2),zn(y1.safetyAutoName),$e(2),zn(y1.safetyOnName),$e(3),it("Last stop depth [",y1.units.length,"]:"),$e(1),ft("is-invalid",pe.invalid&&(pe.dirty||pe.touched)),T1("ngModel",y1.lastStopDepth)("rangeVal",y1.ranges.lastStopDepth)("min",y1.ranges.lastStopDepth[0])("max",y1.ranges.lastStopDepth[1]),$e(2),T1("ngIf",pe.invalid&&(pe.dirty||pe.touched)),$e(3),T1("checked",y1.roundDecoStops),$e(7),it("Descent speed [",y1.units.speed,"]:"),$e(1),ft("is-invalid",we.invalid&&(we.dirty||we.touched)),T1("ngModel",y1.descentSpeed)("rangeVal",y1.ranges.speed)("min",y1.ranges.speed[0])("max",y1.ranges.speed[1]),$e(2),T1("ngIf",we.invalid&&(we.dirty||we.touched)),$e(3),us("Ascent ",y1.units.lastSpeedLevel," ",y1.units.length," to surface [",y1.units.speed,"]:"),$e(1),ft("is-invalid",ke.invalid&&(ke.dirty||ke.touched)),T1("ngModel",y1.ascentSpeed6m)("rangeVal",y1.ranges.speed)("min",y1.ranges.speed[0])("max",y1.ranges.speed[1]),$e(2),T1("ngIf",ke.invalid&&(ke.dirty||ke.touched)),$e(4),us("Ascent up to ",y1.units.lastSpeedLevel," ",y1.units.length," depth [",y1.units.speed,"]:"),$e(1),ft("is-invalid",qe.invalid&&(qe.dirty||qe.touched)),T1("ngModel",y1.ascentSpeed50percTo6m)("rangeVal",y1.ranges.speed)("min",y1.ranges.speed[0])("max",y1.ranges.speed[1]),$e(2),T1("ngIf",qe.invalid&&(qe.dirty||qe.touched)),$e(3),it("Ascent up to 50% depth [",y1.units.speed,"]:"),$e(1),ft("is-invalid",S1.invalid&&(S1.dirty||S1.touched)),T1("ngModel",y1.ascentSpeed50perc)("rangeVal",y1.ranges.speed)("min",y1.ranges.speed[0])("max",y1.ranges.speed[1]),$e(2),T1("ngIf",S1.invalid&&(S1.dirty||S1.touched))}}let CMe=(()=>{class n{constructor(e,r){this.planner=e,this.units=r,this.formValid=!0,this.allUsableName="All usable",this.halfUsableName="Half usable",this.thirdUsableName="Thirds usable",this.lowName="Low (45/95)",this.mediumName="Medium (40/85)",this.highName="High (30/75)",this.freshName="Fresh",this.brackishName="Brackish (EN13319)",this.saltName="Salt",this.safetyOffName="Never",this.safetyOnName="Always",this.conservatism=this.mediumName,this.strategy=this.allUsableName,this.icon=Az,this.plan=this.planner.plan}get isComplex(){return this.planner.isComplex}set isComplex(e){this.planner.isComplex=e,this.planner.isComplex||(this.setAllUsable(),this.setMediumConservatism(),this.planner.resetToSimple()),this.planner.calculate()}get ranges(){return this.units.ranges}get roundDecoStops(){return this.planner.options.roundStopsToMinutes}set roundDecoStops(e){this.planner.options.roundStopsToMinutes=e,this.planner.calculate()}get lastStopDepth(){return this.planner.options.lastStopDepth}set lastStopDepth(e){this.planner.options.lastStopDepth=e,this.planner.calculate()}get problemSolvingDuration(){return this.planner.options.problemSolvingDuration}set problemSolvingDuration(e){this.planner.options.problemSolvingDuration=e,this.planner.calculate()}get gasSwitchDuration(){return this.planner.options.gasSwitchDuration}set gasSwitchDuration(e){this.planner.options.gasSwitchDuration=e,this.planner.calculate()}get gasMaxNarcoticDepth(){return this.planner.options.maxEND}set gasMaxNarcoticDepth(e){this.planner.options.maxEND=e,this.planner.calculate()}get gasOxygenNarcotic(){return this.planner.options.oxygenNarcotic}set gasOxygenNarcotic(e){this.planner.options.oxygenNarcotic=e,this.planner.calculate()}get plannedGfHigh(){return 100*this.planner.options.gfHigh}set plannedGfHigh(e){this.planner.options.gfHigh=e/100,this.planner.calculate()}get plannedGfLow(){return 100*this.planner.options.gfLow}set plannedGfLow(e){this.planner.options.gfLow=e/100,this.planner.calculate()}get salinityOption(){switch(this.planner.options.salinity){case S4.salt:return this.saltName;case S4.brackish:return this.brackishName;default:return this.freshName}}get safetyAutoName(){return`Auto (> ${this.units.autoStopLevel} ${this.units.length})`}get safetyStopOption(){switch(this.planner.options.safetyStop){case T4.never:return this.safetyOffName;case T4.always:return this.safetyOnName;default:return this.safetyAutoName}}get plannedAltitude(){return this.planner.options.altitude}set plannedAltitude(e){this.planner.options.altitude=e,this.planner.calculate()}get ascentSpeed50perc(){return this.planner.options.ascentSpeed50perc}set ascentSpeed50perc(e){e<1||(this.planner.options.ascentSpeed50perc=e,this.planner.calculate())}get ascentSpeed50percTo6m(){return this.planner.options.ascentSpeed50percTo6m}set ascentSpeed50percTo6m(e){e<1||(this.planner.options.ascentSpeed50percTo6m=e,this.planner.calculate())}get ascentSpeed6m(){return this.planner.options.ascentSpeed6m}set ascentSpeed6m(e){e<1||(this.planner.options.ascentSpeed6m=e,this.planner.calculate())}get descentSpeed(){return this.planner.options.descentSpeed}set descentSpeed(e){e<1||(this.planner.options.descentSpeed=e,this.planner.calculate())}reset(){switch(this.plan.strategy){case ti.HALF:this.halfUsable();break;case ti.THIRD:this.thirdUsable();break;default:this.allUsable()}}lowConservatism(){this.conservatism=this.lowName,this.plannedGfLow=45,this.plannedGfHigh=95}mediumConservatism(){this.setMediumConservatism(),this.planner.setMediumConservatism(),this.planner.calculate()}highConservatism(){this.conservatism=this.highName,this.plannedGfLow=30,this.plannedGfHigh=75}allUsable(){this.setAllUsable(),this.planner.calculate()}setAllUsable(){this.plan.strategy=ti.ALL,this.strategy=this.allUsableName}halfUsable(){this.plan.strategy=ti.HALF,this.strategy=this.halfUsableName,this.planner.calculate()}thirdUsable(){this.plan.strategy=ti.THIRD,this.strategy=this.thirdUsableName,this.planner.calculate()}useRecreational(){this.mediumConservatism(),st.useRecreational(this.planner.options),this.planner.calculate()}useRecommended(){this.mediumConservatism(),st.useRecommended(this.planner.options),this.planner.calculate()}useFresh(){this.planner.changeWaterType(S4.fresh)}useBrackish(){this.planner.changeWaterType(S4.brackish)}useSalt(){this.planner.changeWaterType(S4.salt)}useSafetyOff(){this.planner.changeSafetyStop(T4.never)}useSafetyAuto(){this.planner.changeSafetyStop(T4.auto)}useSafetyOn(){this.planner.changeSafetyStop(T4.always)}setMediumConservatism(){this.conservatism=this.mediumName}}return n.\u0275fac=function(e){return new(e||n)(P1(u4),P1(H4))},n.\u0275cmp=Hn({type:n,selectors:[["app-diveoptions"]],inputs:{formValid:"formValid"},decls:19,vars:4,consts:[[1,"card"],[1,"card-header"],[1,"float-start"],[1,"me-3",3,"icon"],[1,"float-end"],[1,"form-check","form-switch"],["type","checkbox","id","isComplex","mdbCheckbox","",1,"form-check-input",3,"checked","change"],["for","isComplex",1,"custom-control-label"],[1,"card-body"],[4,"ngIf"],["type","button",1,"btn","btn-secondary","me-2","mt-3",3,"click"],["type","button",1,"btn","btn-secondary","mt-3",3,"click"],[1,"mt-3","row"],[1,"mb-3","col-auto"],["for","conservatism",1,"form-label"],[1,"input-group","gradients-max-width"],["id","conservatism","type","text","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["ngbDropdown","","placement","bottom-right",1,"input-group-append","d-inline-block"],["type","button","id","conservatismMenu","ngbDropdownToggle","",1,"btn","btn-default","border"],["ngbDropdownMenu","","aria-labelledby","conservatismMenu","aria-expanded","false"],["type","button",1,"dropdown-item",3,"click"],["for","gfLow",1,"form-label"],["id","salinity","name","salinity","type","text","readonly","",1,"form-control","col-auto",3,"ngModel"],["salinity","ngModel"],["type","button","id","salinityMenu","ngbDropdownToggle","",1,"btn","btn-default","border"],["ngbDropdownMenu","","aria-labelledby","salinityMenu","aria-expanded","false"],["for","altitude",1,"form-label"],["id","altitude","name","altitude","type","number","required","","step","1",1,"form-control","col-auto",3,"ngModel","rangeVal","min","max","ngModelChange"],["altitude","ngModel"],["class","text-danger form-text",4,"ngIf"],[1,"text-danger","form-text"],["id","myTab","role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["id","environment-tab","data-bs-toggle","tab","data-bs-target","#environment","type","button","role","tab","aria-controls","environment","aria-selected","true",1,"nav-link","active"],["id","conservatism-tab","data-bs-toggle","tab","data-bs-target","#conservatism","type","button","role","tab","aria-controls","conservatism","aria-selected","false",1,"nav-link"],["id","gases-tab","data-bs-toggle","tab","data-bs-target","#gases","type","button","role","tab","aria-controls","gases","aria-selected","false",1,"nav-link"],["id","stops-tab","data-bs-toggle","tab","data-bs-target","#stops","type","button","role","tab","aria-controls","stops","aria-selected","false",1,"nav-link"],["id","speeds-tab","data-bs-toggle","tab","data-bs-target","#speeds","type","button","role","tab","aria-controls","speeds","aria-selected","false",1,"nav-link"],["id","myTabContent",1,"tab-content"],["id","environment","role","tabpanel","aria-labelledby","environment-tab",1,"tab-pane","fade","show","active"],[1,"mt-3"],[1,"mb-3"],["id","conservatism","role","tabpanel","aria-labelledby","conservatism-tab",1,"tab-pane","fade"],[1,"col-sm","mt-3"],["id","gfLow","name","gfLow","type","number","required","","min","10","max","100","step","1",1,"form-control","col-auto",3,"ngModel","rangeVal","ngModelChange"],["gfLow","ngModel"],["type","button","id","conservatismMenu2","ngbDropdownToggle","",1,"btn","btn-default","border"],["ngbDropdownMenu","","aria-labelledby","conservatismMenu2","aria-expanded","false"],["for","gfHigh",1,"form-label"],["id","gfHigh","name","gfHigh","type","number","required","","min","10","max","100","step","1",1,"form-control","col-auto",3,"ngModel","rangeVal","ngModelChange"],["gfHigh","ngModel"],["id","gases","role","tabpanel","aria-labelledby","gases-tab",1,"tab-pane","fade"],[1,"row","mt-3"],["for","maxNarcoticDepth",1,"form-label"],["id","maxNarcoticDepth","name","maxNarcoticDepth","type","number","required","","step","1",1,"form-control","col-auto",3,"ngModel","rangeVal","min","max","ngModelChange"],["maxNarcoticDepth","ngModel"],[1,"row","ms-4"],[1,"form-check","form-switch","pb-1"],["type","checkbox","id","oxygenNarcotic","mdbCheckbox","",1,"form-check-input",3,"checked","change"],["for","roundStops",1,"form-check-label"],["id","stops","role","tabpanel","aria-labelledby","stops-tab",1,"tab-pane","fade"],["for","problem",1,"form-label"],["id","problem","name","problem","type","number","required","","min","1","max","100","step","1",1,"form-control","col-auto",3,"ngModel","rangeVal","ngModelChange"],["problem","ngModel"],["for","switchDuration",1,"form-label"],["id","switchDuration","name","switchDuration","type","number","required","","min","1","max","10","step","1",1,"form-control","col-auto",3,"ngModel","rangeVal","ngModelChange"],["switchDuration","ngModel"],["for","safetyStop",1,"form-label"],["id","safetyStop","name","safetyStop","type","text","readonly","",1,"form-control","col-auto",3,"ngModel"],["safetyStop","ngModel"],["type","button","id","safetyStopMenu","ngbDropdownToggle","",1,"btn","btn-default","border"],["ngbDropdownMenu","","aria-labelledby","safetyStopMenu","aria-expanded","false"],["for","lastStop",1,"form-label"],["id","lastStop","name","lastStop","type","number","required","","step","1",1,"form-control","col-auto",3,"ngModel","rangeVal","min","max","ngModelChange"],["lastStop","ngModel"],["type","checkbox","id","roundStops","mdbCheckbox","",1,"form-check-input",3,"checked","change"],["id","speeds","role","tabpanel","aria-labelledby","speeds-tab",1,"tab-pane","fade","container"],["for","descSpeed",1,"form-label"],["id","descSpeed","name","descSpeed","type","number","required","","step","1",1,"form-control","col-auto",3,"ngModel","rangeVal","min","max","ngModelChange"],["descSpeed","ngModel"],["for","ascSpeed",1,"form-label"],["id","ascSpeed","name","ascSpeed","type","number","required","","step","1",1,"form-control","col-auto",3,"ngModel","rangeVal","min","max","ngModelChange"],["ascSpeed","ngModel"],["for","ascSpeed2",1,"form-label"],["id","ascSpeed2","name","ascSpeed2","type","number","required","","step","1",1,"form-control","col-auto",3,"ngModel","rangeVal","min","max","ngModelChange"],["ascSpeed2","ngModel"],["for","ascSpeed3",1,"form-label"],["id","ascSpeed3","name","ascSpeed3","type","number","required","","step","1",1,"form-control","col-auto",3,"ngModel","rangeVal","min","max","ngModelChange"],["ascSpeed3","ngModel"]],template:function(e,r){1&e&&(Ge(0,"div",0)(1,"div",1)(2,"div",2),rt(3,"fa-icon",3),Ge(4,"span"),A1(5,"Options"),We()(),Ge(6,"div",4)(7,"div",5)(8,"input",6),_2("change",function(){return r.isComplex=!r.isComplex}),We(),Ge(9,"label",7),A1(10,"Extended (Trimix)"),We()()()(),Ge(11,"div",8),m2(12,eMe,37,18,"div",9),m2(13,pMe,145,101,"div",9),Ge(14,"div")(15,"button",10),_2("click",function(){return r.useRecreational()}),A1(16,"Recreational"),We(),Ge(17,"button",11),_2("click",function(){return r.useRecommended()}),A1(18,"Recommended"),We()()()()),2&e&&($e(3),T1("icon",r.icon),$e(5),T1("checked",r.isComplex),$e(4),T1("ngIf",!r.isComplex),$e(1),T1("ngIf",r.isComplex))},directives:[ua,ar,Co,N0,ms,xs,Dc,F5,vs,_s,ys,go,Ls],styles:[".gradients-max-width[_ngcontent-%COMP%]{max-width:180px}"]}),n})();var II=de(564);class ni{static selectChartTimeFormat(t){return ni.hasHoursRuntime(t)?"%H:%M:%S":"%M:%S"}static selectTimeFormat(t){return ni.hasHoursRuntime(t)?"mm:ss":"m:ss"}static hoursDuration(t){return t/ni.secondsPerHour}static hasHoursRuntime(t){return ni.hoursDuration(t)>0}}ni.secondsPerHour=3600,ni.secondsPerDay=24*ni.secondsPerHour;let uy=(()=>{class n{constructor(e){this.plannerService=e,this.selectedChanged=new Yt}set selectedTimeStamp(e){let r;if(e){const a=Qt.secondsFromDate(e);r=this.plannerService.dive.wayPoints.find(i=>i.fits(a))}this.selected=r}set selected(e){this.lastSelected&&(this.lastSelected.selected=!1),this.lastSelected=e,e&&this.lastSelected&&(this.lastSelected.selected=!0),this.selectedChanged.emit(this.lastSelected)}}return n.\u0275fac=function(e){return new(e||n)(J2(u4))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();function gMe(n,t){1&n&&(Ge(0,"div",1),A1(1," Calculating "),rt(2,"div",2)(3,"div",3)(4,"div",4),We())}let fy=(()=>{class n{constructor(){this.show=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Hn({type:n,selectors:[["app-calculating"]],inputs:{show:"show"},decls:1,vars:1,consts:[["class","mb-2 container loadbar",4,"ngIf"],[1,"mb-2","container","loadbar"],[1,"ms-2","orange","orange1"],[1,"orange","orange2"],[1,"orange","orange3"]],template:function(e,r){1&e&&m2(0,gMe,5,0,"div",0),2&e&&T1("ngIf",r.show)},directives:[ar],styles:[".orange[_ngcontent-%COMP%]{background-color:#ffa049}.loadbar[_ngcontent-%COMP%]   .orange1[_ngcontent-%COMP%]{animation-delay:.1s}.loadbar[_ngcontent-%COMP%]   .orange2[_ngcontent-%COMP%]{animation-delay:.2s}.loadbar[_ngcontent-%COMP%]   .orange3[_ngcontent-%COMP%]{animation-delay:.3s}.container[_ngcontent-%COMP%]{display:flex;justify-self:center;align-items:center;flex-direction:row}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:.5vw;height:.5vw;border-radius:100%;margin:.2vw;background-image:linear-gradient(145deg,rgba(255,255,255,.5) 0%,rgba(0,0,0,0) 100%);animation:bounce 1.5s .5s linear infinite}@keyframes bounce{0%,50%,to{transform:scale(1)}25%{transform:scale(.6)}75%{transform:scale(1.4)}}"]}),n})();const mMe=function(n,t){return{"plot-display":n,"plot-hidden":t}};let vMe=(()=>{class n{constructor(e,r,a){this.planer=e,this.units=r,this.selectedWaypoint=a,this.icon=Dv,this.elementName="diveplot",this.options={displaylogo:!1,displayModeBar:!1,responsive:!0,autosize:!0,scrollZoom:!1,editable:!1},this.cursor1={xid:1,type:"line",xref:"x",yref:"y",x0:new Date("2001-06-12 12:30"),y0:0,x1:new Date("2001-06-12 12:30"),y1:1,fillcolor:"#d3d3d3",line:{color:"rgb(31, 119, 180)",width:5}},this.dive=this.planer.dive,this.layout={autosize:!0,showlegend:!1,xaxis:{fixedrange:!0,title:{text:"Time [min]"}},yaxis:{fixedrange:!0,autorange:"reversed",title:{text:`Depth [${r.length}]`}},margin:{l:40,r:10,b:40,t:10},hovermode:"x unified",hoverlabel:{bgcolor:"rgba(200, 200, 200, 0.25)",bordercolor:"rgba(200, 200, 200, 0.25)"},shapes:[]},this.updateLayoutThickFormat(),this.subscription=this.planer.wayPointsCalculated.subscribe(()=>this.plotCharts()),this.selectedWaypoint.selectedChanged.subscribe(i=>this.selectWayPoint(i))}get noDecoTime(){return this.planer.plan.noDecoTime}ngOnInit(){this.plotCharts(),this.hookChartEvents()}ngOnDestroy(){this.subscription.unsubscribe()}scaleWidth(e,r){return e*r/this.dive.totalDuration}scaleHeight(e,r){return e*(r-10)/this.planer.plan.maxDepth}plotlyHover(e){this.selectedWaypoint.selectedTimeStamp=e.points[0].x}plotlyHoverLeave(e){this.selectedWaypoint.selectedTimeStamp=""}selectWayPoint(e){const a={shapes:[]};e&&(this.cursor1.x0=Qt.toDate(e.startTime),this.cursor1.x1=Qt.toDate(e.endTime),this.cursor1.y0=e.startDepth,this.cursor1.y1=e.endDepth,a.shapes.push(this.cursor1)),II.relayout(this.elementName,a)}plotCharts(){this.updateLayoutThickFormat();const e=this.plotAverageDepth(),r=this.plotDepths(),a=this.plotCeilings(),i=this.plotEvents();II.react(this.elementName,[e,r,a,i],this.layout,this.options)}hookChartEvents(){this.chartElement=document.getElementById(this.elementName),this.chartElement.on("plotly_hover",e=>this.plotlyHover(e)),this.chartElement.on("plotly_click",e=>this.plotlyHover(e)),this.chartElement.on("plotly_unhover",e=>this.plotlyHoverLeave(e))}updateLayoutThickFormat(){this.layout.xaxis.tickformat=ni.selectChartTimeFormat(this.dive.totalDuration)}plotAverageDepth(){const e=[],r=[];return this.dive.wayPoints.length>0&&this.transformAverageDepth(this.dive.wayPoints,e,r),{x:e,y:r,type:"scatter",line:{dash:"dot"},name:"Avg. depth",marker:{color:"rgb(62, 157, 223)"},hovertemplate:`%{y:.2f}  ${this.units.length}`}}transformAverageDepth(e,r,a){if(e.length<=0)return 0;let i=0,s=0;return e.forEach(y=>{if(y.duration>0)for(let V=0;V<y.duration;V++){r.push(Qt.toDate(s));const pe=y.depthAt(V)+s*i;s++,i=pe/s;const we=Math.round(10*i)/10;a.push(we)}}),i}plotDepths(){const e=[],r=[],a={x:e,y:r,type:"scatter",name:"Depth",marker:{color:"rgb(31, 119, 180)"},hovertemplate:`%{y:.2f}  ${this.units.length}`};return this.dive.wayPoints.forEach((i,s,y)=>{this.resampleDepthsToSeconds(e,r,i)}),a}plotCeilings(){const e=[],r=[];return this.dive.ceilings.forEach((i,s,y)=>{e.push(Qt.toDate(i.time));const V=this.roundDepth(i.depth);r.push(V)}),{x:e,y:r,type:"scatter",fill:"tozeroy",name:"Ceiling",marker:{color:"rgb(255, 160, 73)"},hovertemplate:`%{y:.2f}  ${this.units.length}`}}plotEvents(){const e=[],r=[],a=[],i={x:e,y:r,labels:a,text:a,type:"scatter",mode:"text+markers",fill:"tozeroy",name:"Event",hovertemplate:"Switch to %{text}",texttemplate:"%{text}",textposition:"top center",fillcolor:"rgba(0, 0, 0, 0)",marker:{color:"rgba(31, 119, 180, 0.5)",size:8,line:{color:"rgba(31, 119, 180, 0.7)",width:2}},showlegend:!1};return this.convertEvents(e,r,a),i}convertEvents(e,r,a){this.dive.events.forEach((i,s,y)=>{if(i.type===Q3.gasSwitch){e.push(Qt.toDate(i.timeStamp)),r.push(i.depth);const V=i.gas;if(V){const ne=xt.nameFor(V.fO2,V.fHe);a.push(`${ne}`)}}})}roundDepth(e){return Math.round(100*e)/100}resampleDepthsToSeconds(e,r,a){const i=(a.endDepth-a.startDepth)/a.duration;for(let s=a.startTime;s<a.endTime;s++){e.push(Qt.toDate(s));let y=a.startDepth+(s-a.startTime)*i;y=this.roundDepth(y),r.push(y)}e.push(Qt.toDate(a.endTime)),r.push(a.endDepth)}}return n.\u0275fac=function(e){return new(e||n)(P1(u4),P1(H4),P1(uy))},n.\u0275cmp=Hn({type:n,selectors:[["app-profilechart"]],decls:8,vars:6,consts:[[1,"card"],[1,"card-header"],["flip","vertical",1,"me-3",3,"icon"],[1,"card-body","card-minheight"],[3,"show"],["id","diveplot",1,"diveplot",3,"ngClass"]],template:function(e,r){1&e&&(Ge(0,"div",0)(1,"div",1),rt(2,"fa-icon",2),Ge(3,"span"),A1(4,"Profile chart"),We()(),Ge(5,"div",3),rt(6,"app-calculating",4)(7,"div",5),We()()),2&e&&($e(2),T1("icon",r.icon),$e(4),T1("show",!r.dive.profileCalculated),$e(1),T1("ngClass",co(3,mMe,r.dive.profileCalculated,!r.dive.profileCalculated)))},directives:[ua,fy,cc],styles:[".dive-level[_ngcontent-%COMP%]{stroke:#4169e1;stroke-width:2}.dive-surface[_ngcontent-%COMP%]{stroke:navy;stroke-width:4}.dive-waypoint[_ngcontent-%COMP%]{text-anchor:end}.dive-nodeco[_ngcontent-%COMP%]{fill:red;r:6}.dive-plot[_ngcontent-%COMP%]{position:relative;width:100%;height:450px}.plot-display[_ngcontent-%COMP%]{display:block}.plot-hidden[_ngcontent-%COMP%]{display:none}"]}),n})(),PI=(()=>{class n{constructor(e){this.datePipe=e}transform(e,r){const a=Qt.toDate(e),i=ni.selectTimeFormat(r),s=this.datePipe.transform(a,i)||"";let y=ni.hoursDuration(e);return y=Math.trunc(y),y>=1?`${y}:${s}`:s}}return n.\u0275fac=function(e){return new(e||n)(P1(NC,16))},n.\u0275pipe=E3({name:"duration",type:n,pure:!0}),n})();function yMe(n,t){1&n&&(Ge(0,"th"),A1(1,"Gas"),We())}function _Me(n,t){1&n&&(Ge(0,"tr")(1,"td",7),rt(2,"app-calculating",8),We()()),2&n&&($e(2),T1("show",!0))}function bMe(n,t){if(1&n&&(Ge(0,"td"),A1(1),We()),2&n){const e=X1().$implicit;$e(1),zn(e.gasName)}}const MMe=function(n){return{"table-active":n}};function xMe(n,t){if(1&n){const e=On();Ge(0,"tr",9),_2("mouseover",function(){const i=$2(e).$implicit;return X1().highlightRow(i)})("mouseleave",function(){return $2(e),X1().highlightRow(void 0)}),Ge(1,"td"),rt(2,"fa-icon",10),We(),Ge(3,"td"),A1(4),We(),Ge(5,"td"),A1(6),mn(7,"duration"),We(),Ge(8,"td"),A1(9),mn(10,"duration"),We(),m2(11,bMe,2,1,"td",5),We()}if(2&n){const e=t.$implicit,r=X1();T1("ngClass",function Xl(n,t,e,r){return sM(T2(),v(),n,t,e,r)}(14,MMe,e.selected)),$e(2),T1("icon",r.swimActionIcon(e))("ngClass",r.iconClasses(e))("title",r.iconTitle(e)),$e(2),zn(e.endDepth),$e(2),zn(yn(7,8,e.duration,r.totalDuration)),$e(3),zn(yn(10,11,e.endTime,r.totalDuration)),$e(2),T1("ngIf",r.isComplex)}}let LMe=(()=>{class n{constructor(e,r,a){this.planner=e,this.units=r,this.selectedWaypoint=a,this.down=dV,this.up=xV,this.hover=gV,this.tasks=_N,this.switch=tO,this.dive=this.planner.dive}get isComplex(){return this.planner.isComplex}get totalDuration(){return this.dive.totalDuration}swimActionIcon(e){switch(e.swimAction){case gr.ascent:return this.up;case gr.descent:return this.down;case gr.switch:return this.switch;default:return this.hover}}iconTitle(e){switch(e.swimAction){case gr.ascent:return"ascent";case gr.descent:return"descent";case gr.switch:return"switch";default:return"hover"}}iconClasses(e){return{"swim-down":e.swimAction===gr.descent,"swim-up":e.swimAction===gr.ascent,"swim-hover":e.swimAction===gr.hover||e.swimAction===gr.switch}}highlightRow(e){this.selectedWaypoint.selected=e}}return n.\u0275fac=function(e){return new(e||n)(P1(u4),P1(H4),P1(uy))},n.\u0275cmp=Hn({type:n,selectors:[["app-waypoints"]],decls:19,vars:5,consts:[[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body","card-minheight"],[1,"table"],[4,"ngIf"],[3,"ngClass","mouseover","mouseleave",4,"ngFor","ngForOf"],["colspan","5"],[3,"show"],[3,"ngClass","mouseover","mouseleave"],[3,"icon","ngClass","title"]],template:function(e,r){1&e&&(Ge(0,"div",0)(1,"div",1),rt(2,"fa-icon",2),Ge(3,"span"),A1(4,"Dive way points"),We()(),Ge(5,"div",3)(6,"table",4)(7,"tbody")(8,"tr"),rt(9,"th"),Ge(10,"th"),A1(11),We(),Ge(12,"th"),A1(13,"Duration [min]"),We(),Ge(14,"th"),A1(15,"Run [min]"),We(),m2(16,yMe,2,0,"th",5),We(),m2(17,_Me,3,1,"tr",5),m2(18,xMe,12,16,"tr",6),We()()()()),2&e&&($e(2),T1("icon",r.tasks),$e(9),it("Depth [",r.units.length,"]"),$e(5),T1("ngIf",r.isComplex),$e(1),T1("ngIf",!r.dive.profileCalculated),$e(1),T1("ngForOf",r.dive.wayPoints))},directives:[ua,ar,fy,po,cc],pipes:[PI],styles:[".swim-down[_ngcontent-%COMP%]{color:#deb887}.swim-up[_ngcontent-%COMP%]{color:#8a2be2}.swim-hover[_ngcontent-%COMP%]{color:#1e90ff}"]}),n})();function RI(n,t,e){return void 0===e&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function FI(n){return[l4,U4,B4,c4].some(function(t){return n[t]>=0})}const BI={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function wMe(n){var t=n.state,e=n.name,r=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,s=I5(t,{elementContext:"reference"}),y=I5(t,{altBoundary:!0}),V=RI(s,r),ne=RI(y,a,i),pe=FI(V),we=FI(ne);t.modifiersData[e]={referenceClippingOffsets:V,popperEscapeOffsets:ne,isReferenceHidden:pe,hasPopperEscaped:we},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":pe,"data-popper-escaped":we})}};var dy=Xu({defaultModifiers:[Vg,Ag,kg,zg,Ng,Dg,Tg,Hg,BI]});const hy="transitionend",UI=n=>{let t=n.getAttribute("data-bs-target");if(!t||"#"===t){let e=n.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),t=e&&"#"!==e?e.trim():null}return t},py=n=>{const t=UI(n);return t&&document.querySelector(t)?t:null},ks=n=>{const t=UI(n);return t?document.querySelector(t):null},jI=n=>{n.dispatchEvent(new Event(hy))},e6=n=>!(!n||"object"!=typeof n)&&(void 0!==n.jquery&&(n=n[0]),void 0!==n.nodeType),zs=n=>e6(n)?n.jquery?n[0]:n:"string"==typeof n&&n.length>0?document.querySelector(n):null,Ni=(n,t,e)=>{Object.keys(e).forEach(r=>{const a=e[r],i=t[r],s=i&&e6(i)?"element":(n=>null==n?`${n}`:{}.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase())(i);if(!new RegExp(a).test(s))throw new TypeError(`${n.toUpperCase()}: Option "${r}" provided type "${s}" but expected type "${a}".`)})},e7=n=>!(!e6(n)||0===n.getClientRects().length)&&"visible"===getComputedStyle(n).getPropertyValue("visibility"),t6=n=>!(n&&n.nodeType===Node.ELEMENT_NODE&&!n.classList.contains("disabled"))||(void 0!==n.disabled?n.disabled:n.hasAttribute("disabled")&&"false"!==n.getAttribute("disabled")),GI=n=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof n.getRootNode){const t=n.getRootNode();return t instanceof ShadowRoot?t:null}return n instanceof ShadowRoot?n:n.parentNode?GI(n.parentNode):null},hd=()=>{},$I=()=>{const{jQuery:n}=window;return n&&!document.body.hasAttribute("data-bs-no-jquery")?n:null},Cy=[],V4=()=>"rtl"===document.documentElement.dir,Ca=n=>{(n=>{"loading"===document.readyState?(Cy.length||document.addEventListener("DOMContentLoaded",()=>{Cy.forEach(t=>t())}),Cy.push(n)):n()})(()=>{const t=$I();if(t){const e=n.NAME,r=t.fn[e];t.fn[e]=n.jQueryInterface,t.fn[e].Constructor=n,t.fn[e].noConflict=()=>(t.fn[e]=r,n.jQueryInterface)}})},n6=n=>{"function"==typeof n&&n()},WI=(n,t,e=!0)=>{if(!e)return void n6(n);const a=(n=>{if(!n)return 0;let{transitionDuration:t,transitionDelay:e}=window.getComputedStyle(n);const r=Number.parseFloat(t),a=Number.parseFloat(e);return r||a?(t=t.split(",")[0],e=e.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(e))):0})(t)+5;let i=!1;const s=({target:y})=>{y===t&&(i=!0,t.removeEventListener(hy,s),n6(n))};t.addEventListener(hy,s),setTimeout(()=>{i||jI(t)},a)},qI=(n,t,e,r)=>{let a=n.indexOf(t);if(-1===a)return n[!e&&r?n.length-1:0];const i=n.length;return a+=e?1:-1,r&&(a=(a+i)%i),n[Math.max(0,Math.min(a,i-1))]},zMe=/[^.]*(?=\..*)\.|.*/,NMe=/\..*/,EMe=/::\d+$/,gy={};let YI=1;const OMe={mouseenter:"mouseover",mouseleave:"mouseout"},IMe=/^(mouseenter|mouseleave)/i,KI=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ZI(n,t){return t&&`${t}::${YI++}`||n.uidEvent||YI++}function JI(n){const t=ZI(n);return n.uidEvent=t,gy[t]=gy[t]||{},gy[t]}function XI(n,t,e=null){const r=Object.keys(n);for(let a=0,i=r.length;a<i;a++){const s=n[r[a]];if(s.originalHandler===t&&s.delegationSelector===e)return s}return null}function QI(n,t,e){const r="string"==typeof t,a=r?e:t;let i=tP(n);return KI.has(i)||(i=n),[r,a,i]}function eP(n,t,e,r,a){if("string"!=typeof t||!n)return;if(e||(e=r,r=null),IMe.test(t)){const qe=S1=>function(y1){if(!y1.relatedTarget||y1.relatedTarget!==y1.delegateTarget&&!y1.delegateTarget.contains(y1.relatedTarget))return S1.call(this,y1)};r?r=qe(r):e=qe(e)}const[i,s,y]=QI(t,e,r),V=JI(n),ne=V[y]||(V[y]={}),pe=XI(ne,s,i?e:null);if(pe)return void(pe.oneOff=pe.oneOff&&a);const we=ZI(s,t.replace(zMe,"")),ke=i?function RMe(n,t,e){return function r(a){const i=n.querySelectorAll(t);for(let{target:s}=a;s&&s!==this;s=s.parentNode)for(let y=i.length;y--;)if(i[y]===s)return a.delegateTarget=s,r.oneOff&&I2.off(n,a.type,t,e),e.apply(s,[a]);return null}}(n,e,r):function PMe(n,t){return function e(r){return r.delegateTarget=n,e.oneOff&&I2.off(n,r.type,t),t.apply(n,[r])}}(n,e);ke.delegationSelector=i?e:null,ke.originalHandler=s,ke.oneOff=a,ke.uidEvent=we,ne[we]=ke,n.addEventListener(y,ke,i)}function my(n,t,e,r,a){const i=XI(t[e],r,a);!i||(n.removeEventListener(e,i,Boolean(a)),delete t[e][i.uidEvent])}function tP(n){return n=n.replace(NMe,""),OMe[n]||n}const I2={on(n,t,e,r){eP(n,t,e,r,!1)},one(n,t,e,r){eP(n,t,e,r,!0)},off(n,t,e,r){if("string"!=typeof t||!n)return;const[a,i,s]=QI(t,e,r),y=s!==t,V=JI(n),ne=t.startsWith(".");if(void 0!==i){if(!V||!V[s])return;return void my(n,V,s,i,a?e:null)}ne&&Object.keys(V).forEach(we=>{!function FMe(n,t,e,r){const a=t[e]||{};Object.keys(a).forEach(i=>{if(i.includes(r)){const s=a[i];my(n,t,e,s.originalHandler,s.delegationSelector)}})}(n,V,we,t.slice(1))});const pe=V[s]||{};Object.keys(pe).forEach(we=>{const ke=we.replace(EMe,"");if(!y||t.includes(ke)){const qe=pe[we];my(n,V,s,qe.originalHandler,qe.delegationSelector)}})},trigger(n,t,e){if("string"!=typeof t||!n)return null;const r=$I(),a=tP(t),i=t!==a,s=KI.has(a);let y,V=!0,ne=!0,pe=!1,we=null;return i&&r&&(y=r.Event(t,e),r(n).trigger(y),V=!y.isPropagationStopped(),ne=!y.isImmediatePropagationStopped(),pe=y.isDefaultPrevented()),s?(we=document.createEvent("HTMLEvents"),we.initEvent(a,V,!0)):we=new CustomEvent(t,{bubbles:V,cancelable:!0}),void 0!==e&&Object.keys(e).forEach(ke=>{Object.defineProperty(we,ke,{get:()=>e[ke]})}),pe&&we.preventDefault(),ne&&n.dispatchEvent(we),we.defaultPrevented&&void 0!==y&&y.preventDefault(),we}},Ns=new Map,t7={set(n,t,e){Ns.has(n)||Ns.set(n,new Map);const r=Ns.get(n);r.has(t)||0===r.size?r.set(t,e):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`)},get:(n,t)=>Ns.has(n)&&Ns.get(n).get(t)||null,remove(n,t){if(!Ns.has(n))return;const e=Ns.get(n);e.delete(t),0===e.size&&Ns.delete(n)}};class ri{constructor(t){(t=zs(t))&&(this._element=t,t7.set(this._element,this.constructor.DATA_KEY,this))}dispose(){t7.remove(this._element,this.constructor.DATA_KEY),I2.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(t=>{this[t]=null})}_queueCallback(t,e,r=!0){WI(t,e,r)}static getInstance(t){return t7.get(zs(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.1.3"}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}}const pd=(n,t="hide")=>{const r=n.NAME;I2.on(document,`click.dismiss${n.EVENT_KEY}`,`[data-bs-dismiss="${r}"]`,function(a){if(["A","AREA"].includes(this.tagName)&&a.preventDefault(),t6(this))return;const i=ks(this)||this.closest(`.${r}`);n.getOrCreateInstance(i)[t]()})},nP=".bs.alert",jMe=`close${nP}`,GMe=`closed${nP}`;class Cd extends ri{static get NAME(){return"alert"}close(){if(I2.trigger(this._element,jMe).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),I2.trigger(this._element,GMe),this.dispose()}static jQueryInterface(t){return this.each(function(){const e=Cd.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}pd(Cd,"close"),Ca(Cd);const rP='[data-bs-toggle="button"]';class gd extends ri{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){const e=gd.getOrCreateInstance(this);"toggle"===t&&e[t]()})}}function aP(n){return"true"===n||"false"!==n&&(n===Number(n).toString()?Number(n):""===n||"null"===n?null:n)}function vy(n){return n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}I2.on(document,"click.bs.button.data-api",rP,n=>{n.preventDefault();const t=n.target.closest(rP);gd.getOrCreateInstance(t).toggle()}),Ca(gd);const Vr={setDataAttribute(n,t,e){n.setAttribute(`data-bs-${vy(t)}`,e)},removeDataAttribute(n,t){n.removeAttribute(`data-bs-${vy(t)}`)},getDataAttributes(n){if(!n)return{};const t={};return Object.keys(n.dataset).filter(e=>e.startsWith("bs")).forEach(e=>{let r=e.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),t[r]=aP(n.dataset[e])}),t},getDataAttribute:(n,t)=>aP(n.getAttribute(`data-bs-${vy(t)}`)),offset(n){const t=n.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}},position:n=>({top:n.offsetTop,left:n.offsetLeft})},qt={find:(n,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,n)),findOne:(n,t=document.documentElement)=>Element.prototype.querySelector.call(t,n),children:(n,t)=>[].concat(...n.children).filter(e=>e.matches(t)),parents(n,t){const e=[];let r=n.parentNode;for(;r&&r.nodeType===Node.ELEMENT_NODE&&3!==r.nodeType;)r.matches(t)&&e.push(r),r=r.parentNode;return e},prev(n,t){let e=n.previousElementSibling;for(;e;){if(e.matches(t))return[e];e=e.previousElementSibling}return[]},next(n,t){let e=n.nextElementSibling;for(;e;){if(e.matches(t))return[e];e=e.nextElementSibling}return[]},focusableChildren(n){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(", ");return this.find(t,n).filter(e=>!t6(e)&&e7(e))}},iP="carousel",G4=".bs.carousel",oP=".data-api",sP={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},rxe={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},r6="next",a6="prev",i6="left",n7="right",axe={ArrowLeft:n7,ArrowRight:i6},ixe=`slide${G4}`,lP=`slid${G4}`,oxe=`keydown${G4}`,sxe=`mouseenter${G4}`,lxe=`mouseleave${G4}`,cxe=`touchstart${G4}`,uxe=`touchmove${G4}`,fxe=`touchend${G4}`,dxe=`pointerdown${G4}`,hxe=`pointerup${G4}`,pxe=`dragstart${G4}`,Cxe=`load${G4}${oP}`,gxe=`click${G4}${oP}`,o6="active",md=".active.carousel-item";class So extends ri{constructor(t,e){super(t),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._indicatorsElement=qt.findOne(".carousel-indicators",this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return sP}static get NAME(){return iP}next(){this._slide(r6)}nextWhenVisible(){!document.hidden&&e7(this._element)&&this.next()}prev(){this._slide(a6)}pause(t){t||(this._isPaused=!0),qt.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(jI(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(t){this._activeElement=qt.findOne(md,this._element);const e=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0)){if(!this._isSliding)return e===t?(this.pause(),void this.cycle()):void this._slide(t>e?r6:a6,this._items[t]);I2.one(this._element,lP,()=>this.to(t))}}_getConfig(t){return t=fn(fn(fn({},sP),Vr.getDataAttributes(this._element)),"object"==typeof t?t:{}),Ni(iP,t,rxe),t}_handleSwipe(){const t=Math.abs(this.touchDeltaX);if(t<=40)return;const e=t/this.touchDeltaX;this.touchDeltaX=0,e&&this._slide(e>0?n7:i6)}_addEventListeners(){this._config.keyboard&&I2.on(this._element,oxe,t=>this._keydown(t)),"hover"===this._config.pause&&(I2.on(this._element,sxe,t=>this.pause(t)),I2.on(this._element,lxe,t=>this.cycle(t))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const t=i=>this._pointerEvent&&("pen"===i.pointerType||"touch"===i.pointerType),e=i=>{t(i)?this.touchStartX=i.clientX:this._pointerEvent||(this.touchStartX=i.touches[0].clientX)},r=i=>{this.touchDeltaX=i.touches&&i.touches.length>1?0:i.touches[0].clientX-this.touchStartX},a=i=>{t(i)&&(this.touchDeltaX=i.clientX-this.touchStartX),this._handleSwipe(),"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(s=>this.cycle(s),500+this._config.interval))};qt.find(".carousel-item img",this._element).forEach(i=>{I2.on(i,pxe,s=>s.preventDefault())}),this._pointerEvent?(I2.on(this._element,dxe,i=>e(i)),I2.on(this._element,hxe,i=>a(i)),this._element.classList.add("pointer-event")):(I2.on(this._element,cxe,i=>e(i)),I2.on(this._element,uxe,i=>r(i)),I2.on(this._element,fxe,i=>a(i)))}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=axe[t.key];e&&(t.preventDefault(),this._slide(e))}_getItemIndex(t){return this._items=t&&t.parentNode?qt.find(".carousel-item",t.parentNode):[],this._items.indexOf(t)}_getItemByOrder(t,e){return qI(this._items,e,t===r6,this._config.wrap)}_triggerSlideEvent(t,e){const r=this._getItemIndex(t),a=this._getItemIndex(qt.findOne(md,this._element));return I2.trigger(this._element,ixe,{relatedTarget:t,direction:e,from:a,to:r})}_setActiveIndicatorElement(t){if(this._indicatorsElement){const e=qt.findOne(".active",this._indicatorsElement);e.classList.remove(o6),e.removeAttribute("aria-current");const r=qt.find("[data-bs-target]",this._indicatorsElement);for(let a=0;a<r.length;a++)if(Number.parseInt(r[a].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(t)){r[a].classList.add(o6),r[a].setAttribute("aria-current","true");break}}}_updateInterval(){const t=this._activeElement||qt.findOne(md,this._element);if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);e?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=e):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(t,e){const r=this._directionToOrder(t),a=qt.findOne(md,this._element),i=this._getItemIndex(a),s=e||this._getItemByOrder(r,a),y=this._getItemIndex(s),V=Boolean(this._interval),ne=r===r6,pe=ne?"carousel-item-start":"carousel-item-end",we=ne?"carousel-item-next":"carousel-item-prev",ke=this._orderToDirection(r);if(s&&s.classList.contains(o6))return void(this._isSliding=!1);if(this._isSliding||this._triggerSlideEvent(s,ke).defaultPrevented||!a||!s)return;this._isSliding=!0,V&&this.pause(),this._setActiveIndicatorElement(s),this._activeElement=s;const S1=()=>{I2.trigger(this._element,lP,{relatedTarget:s,direction:ke,from:i,to:y})};this._element.classList.contains("slide")?(s.classList.add(we),a.classList.add(pe),s.classList.add(pe),this._queueCallback(()=>{s.classList.remove(pe,we),s.classList.add(o6),a.classList.remove(o6,we,pe),this._isSliding=!1,setTimeout(S1,0)},a,!0)):(a.classList.remove(o6),s.classList.add(o6),this._isSliding=!1,S1()),V&&this.cycle()}_directionToOrder(t){return[n7,i6].includes(t)?V4()?t===i6?a6:r6:t===i6?r6:a6:t}_orderToDirection(t){return[r6,a6].includes(t)?V4()?t===a6?i6:n7:t===a6?n7:i6:t}static carouselInterface(t,e){const r=So.getOrCreateInstance(t,e);let{_config:a}=r;"object"==typeof e&&(a=fn(fn({},a),e));const i="string"==typeof e?e:a.slide;if("number"==typeof e)r.to(e);else if("string"==typeof i){if(void 0===r[i])throw new TypeError(`No method named "${i}"`);r[i]()}else a.interval&&a.ride&&(r.pause(),r.cycle())}static jQueryInterface(t){return this.each(function(){So.carouselInterface(this,t)})}static dataApiClickHandler(t){const e=ks(this);if(!e||!e.classList.contains("carousel"))return;const r=fn(fn({},Vr.getDataAttributes(e)),Vr.getDataAttributes(this)),a=this.getAttribute("data-bs-slide-to");a&&(r.interval=!1),So.carouselInterface(e,r),a&&So.getInstance(e).to(a),t.preventDefault()}}I2.on(document,gxe,"[data-bs-slide], [data-bs-slide-to]",So.dataApiClickHandler),I2.on(window,Cxe,()=>{const n=qt.find('[data-bs-ride="carousel"]');for(let t=0,e=n.length;t<e;t++)So.carouselInterface(n[t],So.getInstance(n[t]))}),Ca(So);const cP="collapse",uP="bs.collapse",r7=`.${uP}`,fP={toggle:!0,parent:null},Exe={toggle:"boolean",parent:"(null|element)"},Oxe=`show${r7}`,Ixe=`shown${r7}`,Pxe=`hide${r7}`,Rxe=`hidden${r7}`,Fxe=`click${r7}.data-api`,yy="show",e8="collapse",vd="collapsing",dP="collapsed",hP=`:scope .${e8} .${e8}`,_y='[data-bs-toggle="collapse"]';class t8 extends ri{constructor(t,e){super(t),this._isTransitioning=!1,this._config=this._getConfig(e),this._triggerArray=[];const r=qt.find(_y);for(let a=0,i=r.length;a<i;a++){const s=r[a],y=py(s),V=qt.find(y).filter(ne=>ne===this._element);null!==y&&V.length&&(this._selector=y,this._triggerArray.push(s))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return fP}static get NAME(){return cP}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e,t=[];if(this._config.parent){const ne=qt.find(hP,this._config.parent);t=qt.find(".collapse.show, .collapse.collapsing",this._config.parent).filter(pe=>!ne.includes(pe))}const r=qt.findOne(this._selector);if(t.length){const ne=t.find(pe=>r!==pe);if(e=ne?t8.getInstance(ne):null,e&&e._isTransitioning)return}if(I2.trigger(this._element,Oxe).defaultPrevented)return;t.forEach(ne=>{r!==ne&&t8.getOrCreateInstance(ne,{toggle:!1}).hide(),e||t7.set(ne,uP,null)});const i=this._getDimension();this._element.classList.remove(e8),this._element.classList.add(vd),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const V=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(vd),this._element.classList.add(e8,yy),this._element.style[i]="",I2.trigger(this._element,Ixe)},this._element,!0),this._element.style[i]=`${this._element[V]}px`}hide(){if(this._isTransitioning||!this._isShown()||I2.trigger(this._element,Pxe).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,this._element.classList.add(vd),this._element.classList.remove(e8,yy);const r=this._triggerArray.length;for(let i=0;i<r;i++){const s=this._triggerArray[i],y=ks(s);y&&!this._isShown(y)&&this._addAriaAndCollapsedClass([s],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(vd),this._element.classList.add(e8),I2.trigger(this._element,Rxe)},this._element,!0)}_isShown(t=this._element){return t.classList.contains(yy)}_getConfig(t){return(t=fn(fn(fn({},fP),Vr.getDataAttributes(this._element)),t)).toggle=Boolean(t.toggle),t.parent=zs(t.parent),Ni(cP,t,Exe),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const t=qt.find(hP,this._config.parent);qt.find(_y,this._config.parent).filter(e=>!t.includes(e)).forEach(e=>{const r=ks(e);r&&this._addAriaAndCollapsedClass([e],this._isShown(r))})}_addAriaAndCollapsedClass(t,e){!t.length||t.forEach(r=>{e?r.classList.remove(dP):r.classList.add(dP),r.setAttribute("aria-expanded",e)})}static jQueryInterface(t){return this.each(function(){const e={};"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1);const r=t8.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===r[t])throw new TypeError(`No method named "${t}"`);r[t]()}})}}I2.on(document,Fxe,_y,function(n){("A"===n.target.tagName||n.delegateTarget&&"A"===n.delegateTarget.tagName)&&n.preventDefault();const t=py(this);qt.find(t).forEach(r=>{t8.getOrCreateInstance(r,{toggle:!1}).toggle()})}),Ca(t8);const by="dropdown",s6=".bs.dropdown",My=".data-api",yd="Escape",xy="ArrowUp",_d="ArrowDown",Wxe=new RegExp(`${xy}|${_d}|${yd}`),qxe=`hide${s6}`,Yxe=`hidden${s6}`,Kxe=`show${s6}`,Zxe=`shown${s6}`,gP=`click${s6}${My}`,mP=`keydown${s6}${My}`,Jxe=`keyup${s6}${My}`,n8="show",a7='[data-bs-toggle="dropdown"]',Ly=".dropdown-menu",aLe=V4()?"top-end":"top-start",iLe=V4()?"top-start":"top-end",oLe=V4()?"bottom-end":"bottom-start",sLe=V4()?"bottom-start":"bottom-end",lLe=V4()?"left-start":"right-start",cLe=V4()?"right-start":"left-start",uLe={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},fLe={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};class ga extends ri{constructor(t,e){super(t),this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return uLe}static get DefaultType(){return fLe}static get NAME(){return by}toggle(){return this._isShown()?this.hide():this.show()}show(){if(t6(this._element)||this._isShown(this._menu))return;const t={relatedTarget:this._element};if(I2.trigger(this._element,Kxe,t).defaultPrevented)return;const r=ga.getParentFromElement(this._element);this._inNavbar?Vr.setDataAttribute(this._menu,"popper","none"):this._createPopper(r),"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav")&&[].concat(...document.body.children).forEach(a=>I2.on(a,"mouseover",hd)),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(n8),this._element.classList.add(n8),I2.trigger(this._element,Zxe,t)}hide(){!t6(this._element)&&this._isShown(this._menu)&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){I2.trigger(this._element,qxe,t).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(r=>I2.off(r,"mouseover",hd)),this._popper&&this._popper.destroy(),this._menu.classList.remove(n8),this._element.classList.remove(n8),this._element.setAttribute("aria-expanded","false"),Vr.removeDataAttribute(this._menu,"popper"),I2.trigger(this._element,Yxe,t))}_getConfig(t){if(t=fn(fn(fn({},this.constructor.Default),Vr.getDataAttributes(this._element)),t),Ni(by,t,this.constructor.DefaultType),"object"==typeof t.reference&&!e6(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${by.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(t){if(void 0===te)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=t:e6(this._config.reference)?e=zs(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const r=this._getPopperConfig(),a=r.modifiers.find(i=>"applyStyles"===i.name&&!1===i.enabled);this._popper=dy(e,this._menu,r),a&&Vr.setDataAttribute(this._menu,"popper","static")}_isShown(t=this._element){return t.classList.contains(n8)}_getMenuElement(){return qt.next(this._element,Ly)[0]}_getPlacement(){const t=this._element.parentNode;if(t.classList.contains("dropend"))return lLe;if(t.classList.contains("dropstart"))return cLe;const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?iLe:aLe:e?sLe:oLe}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(t.modifiers=[{name:"applyStyles",enabled:!1}]),fn(fn({},t),"function"==typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig)}_selectMenuItem({key:t,target:e}){const r=qt.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(e7);!r.length||qI(r,e,t===_d,!r.includes(e)).focus()}static jQueryInterface(t){return this.each(function(){const e=ga.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(t&&(2===t.button||"keyup"===t.type&&"Tab"!==t.key))return;const e=qt.find(a7);for(let r=0,a=e.length;r<a;r++){const i=ga.getInstance(e[r]);if(!i||!1===i._config.autoClose||!i._isShown())continue;const s={relatedTarget:i._element};if(t){const y=t.composedPath(),V=y.includes(i._menu);if(y.includes(i._element)||"inside"===i._config.autoClose&&!V||"outside"===i._config.autoClose&&V||i._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;"click"===t.type&&(s.clickEvent=t)}i._completeHide(s)}}static getParentFromElement(t){return ks(t)||t.parentNode}static dataApiKeydownHandler(t){if(/input|textarea/i.test(t.target.tagName)?"Space"===t.key||t.key!==yd&&(t.key!==_d&&t.key!==xy||t.target.closest(Ly)):!Wxe.test(t.key))return;const e=this.classList.contains(n8);if(!e&&t.key===yd||(t.preventDefault(),t.stopPropagation(),t6(this)))return;const r=this.matches(a7)?this:qt.prev(this,a7)[0],a=ga.getOrCreateInstance(r);if(t.key!==yd)return t.key===xy||t.key===_d?(e||a.show(),void a._selectMenuItem(t)):void((!e||"Space"===t.key)&&ga.clearMenus());a.hide()}}I2.on(document,mP,a7,ga.dataApiKeydownHandler),I2.on(document,mP,Ly,ga.dataApiKeydownHandler),I2.on(document,gP,ga.clearMenus),I2.on(document,Jxe,ga.clearMenus),I2.on(document,gP,a7,function(n){n.preventDefault(),ga.getOrCreateInstance(this).toggle()}),Ca(ga);const vP=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",yP=".sticky-top";class wy{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",e=>e+t),this._setElementAttributes(vP,"paddingRight",e=>e+t),this._setElementAttributes(yP,"marginRight",e=>e-t)}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,r){const a=this.getWidth();this._applyManipulationCallback(t,s=>{if(s!==this._element&&window.innerWidth>s.clientWidth+a)return;this._saveInitialAttribute(s,e);const y=window.getComputedStyle(s)[e];s.style[e]=`${r(Number.parseFloat(y))}px`})}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(vP,"paddingRight"),this._resetElementAttributes(yP,"marginRight")}_saveInitialAttribute(t,e){const r=t.style[e];r&&Vr.setDataAttribute(t,e,r)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,a=>{const i=Vr.getDataAttribute(a,e);void 0===i?a.style.removeProperty(e):(Vr.removeDataAttribute(a,e),a.style[e]=i)})}_applyManipulationCallback(t,e){e6(t)?e(t):qt.find(t,this._element).forEach(e)}isOverflowing(){return this.getWidth()>0}}const dLe={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},hLe={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},_P="backdrop",MP=`mousedown.bs.${_P}`;class xP{constructor(t){this._config=this._getConfig(t),this._isAppended=!1,this._element=null}show(t){this._config.isVisible?(this._append(),this._config.isAnimated&&this._getElement(),this._getElement().classList.add("show"),this._emulateAnimation(()=>{n6(t)})):n6(t)}hide(t){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),n6(t)})):n6(t)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_getConfig(t){return(t=fn(fn({},dLe),"object"==typeof t?t:{})).rootElement=zs(t.rootElement),Ni(_P,t,hLe),t}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),I2.on(this._getElement(),MP,()=>{n6(this._config.clickCallback)}),this._isAppended=!0)}dispose(){!this._isAppended||(I2.off(this._element,MP),this._element.remove(),this._isAppended=!1)}_emulateAnimation(t){WI(t,this._getElement(),this._config.isAnimated)}}const CLe={trapElement:null,autofocus:!0},gLe={trapElement:"element",autofocus:"boolean"},bd=".bs.focustrap",vLe=`focusin${bd}`,yLe=`keydown.tab${bd}`,LP="backward";class wP{constructor(t){this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:t,autofocus:e}=this._config;this._isActive||(e&&t.focus(),I2.off(document,bd),I2.on(document,vLe,r=>this._handleFocusin(r)),I2.on(document,yLe,r=>this._handleKeydown(r)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,I2.off(document,bd))}_handleFocusin(t){const{target:e}=t,{trapElement:r}=this._config;if(e===document||e===r||r.contains(e))return;const a=qt.focusableChildren(r);0===a.length?r.focus():this._lastTabNavDirection===LP?a[a.length-1].focus():a[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?LP:"forward")}_getConfig(t){return t=fn(fn({},CLe),"object"==typeof t?t:{}),Ni("focustrap",t,gLe),t}}const ma=".bs.modal",TP={backdrop:!0,keyboard:!0,focus:!0},xLe={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},LLe=`hide${ma}`,wLe=`hidePrevented${ma}`,HP=`hidden${ma}`,VP=`show${ma}`,DLe=`shown${ma}`,AP=`resize${ma}`,kP=`click.dismiss${ma}`,zP=`keydown.dismiss${ma}`,SLe=`mouseup.dismiss${ma}`,NP=`mousedown.dismiss${ma}`,TLe=`click${ma}.data-api`,EP="modal-open",Dy="modal-static";class r8 extends ri{constructor(t,e){super(t),this._config=this._getConfig(e),this._dialog=qt.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new wy}static get Default(){return TP}static get NAME(){return"modal"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||I2.trigger(this._element,VP,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(EP),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),I2.on(this._dialog,NP,()=>{I2.one(this._element,SLe,r=>{r.target===this._element&&(this._ignoreBackdropClick=!0)})}),this._showBackdrop(()=>this._showElement(t)))}hide(){if(!this._isShown||this._isTransitioning||I2.trigger(this._element,LLe).defaultPrevented)return;this._isShown=!1;const e=this._isAnimated();e&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove("show"),I2.off(this._element,kP),I2.off(this._dialog,NP),this._queueCallback(()=>this._hideModal(),this._element,e)}dispose(){[window,this._dialog].forEach(t=>I2.off(t,ma)),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new xP({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new wP({trapElement:this._element})}_getConfig(t){return t=fn(fn(fn({},TP),Vr.getDataAttributes(this._element)),"object"==typeof t?t:{}),Ni("modal",t,xLe),t}_showElement(t){const e=this._isAnimated(),r=qt.findOne(".modal-body",this._dialog);(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE)&&document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,r&&(r.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,I2.trigger(this._element,DLe,{relatedTarget:t})},this._dialog,e)}_setEscapeEvent(){this._isShown?I2.on(this._element,zP,t=>{this._config.keyboard&&"Escape"===t.key?(t.preventDefault(),this.hide()):!this._config.keyboard&&"Escape"===t.key&&this._triggerBackdropTransition()}):I2.off(this._element,zP)}_setResizeEvent(){this._isShown?I2.on(window,AP,()=>this._adjustDialog()):I2.off(window,AP)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(EP),this._resetAdjustments(),this._scrollBar.reset(),I2.trigger(this._element,HP)})}_showBackdrop(t){I2.on(this._element,kP,e=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:e.target===e.currentTarget&&(!0===this._config.backdrop?this.hide():"static"===this._config.backdrop&&this._triggerBackdropTransition())}),this._backdrop.show(t)}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(I2.trigger(this._element,wLe).defaultPrevented)return;const{classList:e,scrollHeight:r,style:a}=this._element,i=r>document.documentElement.clientHeight;!i&&"hidden"===a.overflowY||e.contains(Dy)||(i||(a.overflowY="hidden"),e.add(Dy),this._queueCallback(()=>{e.remove(Dy),i||this._queueCallback(()=>{a.overflowY=""},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),r=e>0;(!r&&t&&!V4()||r&&!t&&V4())&&(this._element.style.paddingLeft=`${e}px`),(r&&!t&&!V4()||!r&&t&&V4())&&(this._element.style.paddingRight=`${e}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const r=r8.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===r[t])throw new TypeError(`No method named "${t}"`);r[t](e)}})}}I2.on(document,TLe,'[data-bs-toggle="modal"]',function(n){const t=ks(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),I2.one(t,VP,a=>{a.defaultPrevented||I2.one(t,HP,()=>{e7(this)&&this.focus()})});const e=qt.findOne(".modal.show");e&&r8.getInstance(e).hide(),r8.getOrCreateInstance(t).toggle(this)}),pd(r8),Ca(r8);const IP="offcanvas",l6=".bs.offcanvas",PP=".data-api",NLe=`load${l6}${PP}`,RP={backdrop:!0,keyboard:!0,scroll:!1},OLe={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},BP=".offcanvas.show",PLe=`show${l6}`,RLe=`shown${l6}`,FLe=`hide${l6}`,UP=`hidden${l6}`,BLe=`click${l6}${PP}`,ULe=`keydown.dismiss${l6}`;class c6 extends ri{constructor(t,e){super(t),this._config=this._getConfig(e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return IP}static get Default(){return RP}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||I2.trigger(this._element,PLe,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new wy).hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add("show"),this._queueCallback(()=>{this._config.scroll||this._focustrap.activate(),I2.trigger(this._element,RLe,{relatedTarget:t})},this._element,!0))}hide(){this._isShown&&!I2.trigger(this._element,FLe).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove("show"),this._backdrop.hide(),this._queueCallback(()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||(new wy).reset(),I2.trigger(this._element,UP)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(t){return t=fn(fn(fn({},RP),Vr.getDataAttributes(this._element)),"object"==typeof t?t:{}),Ni(IP,t,OLe),t}_initializeBackDrop(){return new xP({className:"offcanvas-backdrop",isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new wP({trapElement:this._element})}_addEventListeners(){I2.on(this._element,ULe,t=>{this._config.keyboard&&"Escape"===t.key&&this.hide()})}static jQueryInterface(t){return this.each(function(){const e=c6.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}I2.on(document,BLe,'[data-bs-toggle="offcanvas"]',function(n){const t=ks(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),t6(this))return;I2.one(t,UP,()=>{e7(this)&&this.focus()});const e=qt.findOne(BP);e&&e!==t&&c6.getInstance(e).hide(),c6.getOrCreateInstance(t).toggle(this)}),I2.on(window,NLe,()=>qt.find(BP).forEach(n=>c6.getOrCreateInstance(n).show())),pd(c6),Ca(c6);const GLe=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),WLe=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,qLe=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,YLe=(n,t)=>{const e=n.nodeName.toLowerCase();if(t.includes(e))return!GLe.has(e)||Boolean(WLe.test(n.nodeValue)||qLe.test(n.nodeValue));const r=t.filter(a=>a instanceof RegExp);for(let a=0,i=r.length;a<i;a++)if(r[a].test(e))return!0;return!1};function jP(n,t,e){if(!n.length)return n;if(e&&"function"==typeof e)return e(n);const a=(new window.DOMParser).parseFromString(n,"text/html"),i=[].concat(...a.body.querySelectorAll("*"));for(let s=0,y=i.length;s<y;s++){const V=i[s],ne=V.nodeName.toLowerCase();if(!Object.keys(t).includes(ne)){V.remove();continue}const pe=[].concat(...V.attributes),we=[].concat(t["*"]||[],t[ne]||[]);pe.forEach(ke=>{YLe(ke,we)||V.removeAttribute(ke.nodeName)})}return a.body.innerHTML}const GP="tooltip",Ei=".bs.tooltip",JLe=new Set(["sanitize","allowList","sanitizeFn"]),XLe={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},QLe={AUTO:"auto",TOP:"top",RIGHT:V4()?"left":"right",BOTTOM:"bottom",LEFT:V4()?"right":"left"},ewe={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},twe={HIDE:`hide${Ei}`,HIDDEN:`hidden${Ei}`,SHOW:`show${Ei}`,SHOWN:`shown${Ei}`,INSERTED:`inserted${Ei}`,CLICK:`click${Ei}`,FOCUSIN:`focusin${Ei}`,FOCUSOUT:`focusout${Ei}`,MOUSEENTER:`mouseenter${Ei}`,MOUSELEAVE:`mouseleave${Ei}`},Md="fade",i7="show",o7="show",$P=".tooltip-inner",qP="hide.bs.modal",s7="hover",Ty="focus";class a8 extends ri{constructor(t,e){if(void 0===te)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(e),this.tip=null,this._setListeners()}static get Default(){return ewe}static get NAME(){return GP}static get Event(){return twe}static get DefaultType(){return XLe}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(t){if(this._isEnabled)if(t){const e=this._initializeOnDelegatedTarget(t);e._activeTrigger.click=!e._activeTrigger.click,e._isWithActiveTrigger()?e._enter(null,e):e._leave(null,e)}else{if(this.getTipElement().classList.contains(i7))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),I2.off(this._element.closest(".modal"),qP,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this.isWithContent()||!this._isEnabled)return;const t=I2.trigger(this._element,this.constructor.Event.SHOW),e=GI(this._element),r=null===e?this._element.ownerDocument.documentElement.contains(this._element):e.contains(this._element);if(t.defaultPrevented||!r)return;"tooltip"===this.constructor.NAME&&this.tip&&this.getTitle()!==this.tip.querySelector($P).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);const a=this.getTipElement(),i=(n=>{do{n+=Math.floor(1e6*Math.random())}while(document.getElementById(n));return n})(this.constructor.NAME);a.setAttribute("id",i),this._element.setAttribute("aria-describedby",i),this._config.animation&&a.classList.add(Md);const s="function"==typeof this._config.placement?this._config.placement.call(this,a,this._element):this._config.placement,y=this._getAttachment(s);this._addAttachmentClass(y);const{container:V}=this._config;t7.set(a,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(V.append(a),I2.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=dy(this._element,a,this._getPopperConfig(y)),a.classList.add(i7);const ne=this._resolvePossibleFunction(this._config.customClass);ne&&a.classList.add(...ne.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(ke=>{I2.on(ke,"mouseover",hd)});const we=this.tip.classList.contains(Md);this._queueCallback(()=>{const ke=this._hoverState;this._hoverState=null,I2.trigger(this._element,this.constructor.Event.SHOWN),"out"===ke&&this._leave(null,this)},this.tip,we)}hide(){if(!this._popper)return;const t=this.getTipElement();if(I2.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented)return;t.classList.remove(i7),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(i=>I2.off(i,"mouseover",hd)),this._activeTrigger.click=!1,this._activeTrigger[Ty]=!1,this._activeTrigger[s7]=!1;const a=this.tip.classList.contains(Md);this._queueCallback(()=>{this._isWithActiveTrigger()||(this._hoverState!==o7&&t.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),I2.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())},this.tip,a),this._hoverState=""}update(){null!==this._popper&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const t=document.createElement("div");t.innerHTML=this._config.template;const e=t.children[0];return this.setContent(e),e.classList.remove(Md,i7),this.tip=e,this.tip}setContent(t){this._sanitizeAndSetContent(t,this.getTitle(),$P)}_sanitizeAndSetContent(t,e,r){const a=qt.findOne(r,t);e||!a?this.setElementContent(a,e):a.remove()}setElementContent(t,e){if(null!==t){if(e6(e))return e=zs(e),void(this._config.html?e.parentNode!==t&&(t.innerHTML="",t.append(e)):t.textContent=e.textContent);this._config.html?(this._config.sanitize&&(e=jP(e,this._config.allowList,this._config.sanitizeFn)),t.innerHTML=e):t.textContent=e}}getTitle(){const t=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(t)}updateAttachment(t){return"right"===t?"end":"left"===t?"start":t}_initializeOnDelegatedTarget(t,e){return e||this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return"function"==typeof t?t.call(this._element):t}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:r=>this._handlePopperPlacementChange(r)}],onFirstUpdate:r=>{r.options.placement!==r.placement&&this._handlePopperPlacementChange(r)}};return fn(fn({},e),"function"==typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig)}_addAttachmentClass(t){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(t)}`)}_getAttachment(t){return QLe[t.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach(e=>{if("click"===e)I2.on(this._element,this.constructor.Event.CLICK,this._config.selector,r=>this.toggle(r));else if("manual"!==e){const a=e===s7?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;I2.on(this._element,e===s7?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,this._config.selector,i=>this._enter(i)),I2.on(this._element,a,this._config.selector,i=>this._leave(i))}}),this._hideModalHandler=()=>{this._element&&this.hide()},I2.on(this._element.closest(".modal"),qP,this._hideModalHandler),this._config.selector?this._config=zd(fn({},this._config),{trigger:"manual",selector:""}):this._fixTitle()}_fixTitle(){const t=this._element.getAttribute("title"),e=typeof this._element.getAttribute("data-bs-original-title");(t||"string"!==e)&&(this._element.setAttribute("data-bs-original-title",t||""),t&&!this._element.getAttribute("aria-label")&&!this._element.textContent&&this._element.setAttribute("aria-label",t),this._element.setAttribute("title",""))}_enter(t,e){e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusin"===t.type?Ty:s7]=!0),e.getTipElement().classList.contains(i7)||e._hoverState===o7?e._hoverState=o7:(clearTimeout(e._timeout),e._hoverState=o7,e._config.delay&&e._config.delay.show?e._timeout=setTimeout(()=>{e._hoverState===o7&&e.show()},e._config.delay.show):e.show())}_leave(t,e){if(e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusout"===t.type?Ty:s7]=e._element.contains(t.relatedTarget)),!e._isWithActiveTrigger()){if(clearTimeout(e._timeout),e._hoverState="out",!e._config.delay||!e._config.delay.hide)return void e.hide();e._timeout=setTimeout(()=>{"out"===e._hoverState&&e.hide()},e._config.delay.hide)}}_isWithActiveTrigger(){for(const t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1}_getConfig(t){const e=Vr.getDataAttributes(this._element);return Object.keys(e).forEach(r=>{JLe.has(r)&&delete e[r]}),(t=fn(fn(fn({},this.constructor.Default),e),"object"==typeof t&&t?t:{})).container=!1===t.container?document.body:zs(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),Ni(GP,t,this.constructor.DefaultType),t.sanitize&&(t.template=jP(t.template,t.allowList,t.sanitizeFn)),t}_getDelegateConfig(){const t={};for(const e in this._config)this.constructor.Default[e]!==this._config[e]&&(t[e]=this._config[e]);return t}_cleanTipClass(){const t=this.getTipElement(),e=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),r=t.getAttribute("class").match(e);null!==r&&r.length>0&&r.map(a=>a.trim()).forEach(a=>t.classList.remove(a))}_getBasicClassPrefix(){return"bs-tooltip"}_handlePopperPlacementChange(t){const{state:e}=t;!e||(this.tip=e.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(e.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(t){return this.each(function(){const e=a8.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}Ca(a8);const Oi=".bs.popover",swe=zd(fn({},a8.Default),{placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),lwe=zd(fn({},a8.DefaultType),{content:"(string|element|function)"}),cwe={HIDE:`hide${Oi}`,HIDDEN:`hidden${Oi}`,SHOW:`show${Oi}`,SHOWN:`shown${Oi}`,INSERTED:`inserted${Oi}`,CLICK:`click${Oi}`,FOCUSIN:`focusin${Oi}`,FOCUSOUT:`focusout${Oi}`,MOUSEENTER:`mouseenter${Oi}`,MOUSELEAVE:`mouseleave${Oi}`};class Hy extends a8{static get Default(){return swe}static get NAME(){return"popover"}static get Event(){return cwe}static get DefaultType(){return lwe}isWithContent(){return this.getTitle()||this._getContent()}setContent(t){this._sanitizeAndSetContent(t,this.getTitle(),".popover-header"),this._sanitizeAndSetContent(t,this._getContent(),".popover-body")}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return"bs-popover"}static jQueryInterface(t){return this.each(function(){const e=Hy.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}Ca(Hy);const YP="scrollspy",xd=".bs.scrollspy",KP={offset:10,method:"auto",target:""},hwe={offset:"number",method:"string",target:"(string|element)"},pwe=`activate${xd}`,Cwe=`scroll${xd}`,gwe=`load${xd}.data-api`,ZP="dropdown-item",i8="active",Vy=".nav-link",JP=".list-group-item",Ay=`${Vy}, ${JP}, .${ZP}`,XP="position";class Ld extends ri{constructor(t,e){super(t),this._scrollElement="BODY"===this._element.tagName?window:this._element,this._config=this._getConfig(e),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,I2.on(this._scrollElement,Cwe,()=>this._process()),this.refresh(),this._process()}static get Default(){return KP}static get NAME(){return YP}refresh(){const e="auto"===this._config.method?this._scrollElement===this._scrollElement.window?"offset":XP:this._config.method,r=e===XP?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),qt.find(Ay,this._config.target).map(i=>{const s=py(i),y=s?qt.findOne(s):null;if(y){const V=y.getBoundingClientRect();if(V.width||V.height)return[Vr[e](y).top+r,s]}return null}).filter(i=>i).sort((i,s)=>i[0]-s[0]).forEach(i=>{this._offsets.push(i[0]),this._targets.push(i[1])})}dispose(){I2.off(this._scrollElement,xd),super.dispose()}_getConfig(t){return(t=fn(fn(fn({},KP),Vr.getDataAttributes(this._element)),"object"==typeof t&&t?t:{})).target=zs(t.target)||document.documentElement,Ni(YP,t,hwe),t}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),r=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=r){const a=this._targets[this._targets.length-1];this._activeTarget!==a&&this._activate(a)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(let a=this._offsets.length;a--;)this._activeTarget!==this._targets[a]&&t>=this._offsets[a]&&(void 0===this._offsets[a+1]||t<this._offsets[a+1])&&this._activate(this._targets[a])}}_activate(t){this._activeTarget=t,this._clear();const e=Ay.split(",").map(a=>`${a}[data-bs-target="${t}"],${a}[href="${t}"]`),r=qt.findOne(e.join(","),this._config.target);r.classList.add(i8),r.classList.contains(ZP)?qt.findOne(".dropdown-toggle",r.closest(".dropdown")).classList.add(i8):qt.parents(r,".nav, .list-group").forEach(a=>{qt.prev(a,`${Vy}, ${JP}`).forEach(i=>i.classList.add(i8)),qt.prev(a,".nav-item").forEach(i=>{qt.children(i,Vy).forEach(s=>s.classList.add(i8))})}),I2.trigger(this._scrollElement,pwe,{relatedTarget:t})}_clear(){qt.find(Ay,this._config.target).filter(t=>t.classList.contains(i8)).forEach(t=>t.classList.remove(i8))}static jQueryInterface(t){return this.each(function(){const e=Ld.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}I2.on(window,gwe,()=>{qt.find('[data-bs-spy="scroll"]').forEach(n=>new Ld(n))}),Ca(Ld);const l7=".bs.tab",wwe=`hide${l7}`,Dwe=`hidden${l7}`,Swe=`show${l7}`,Twe=`shown${l7}`,Hwe=`click${l7}.data-api`,c7="active",tR=".active",nR=":scope > li > .active";class wd extends ri{static get NAME(){return"tab"}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(c7))return;let t;const e=ks(this._element),r=this._element.closest(".nav, .list-group");r&&(t=qt.find("UL"===r.nodeName||"OL"===r.nodeName?nR:tR,r),t=t[t.length-1]);const a=t?I2.trigger(t,wwe,{relatedTarget:this._element}):null;if(I2.trigger(this._element,Swe,{relatedTarget:t}).defaultPrevented||null!==a&&a.defaultPrevented)return;this._activate(this._element,r);const s=()=>{I2.trigger(t,Dwe,{relatedTarget:this._element}),I2.trigger(this._element,Twe,{relatedTarget:t})};e?this._activate(e,e.parentNode,s):s()}_activate(t,e,r){const i=(!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?qt.children(e,tR):qt.find(nR,e))[0],s=r&&i&&i.classList.contains("fade"),y=()=>this._transitionComplete(t,i,r);i&&s?(i.classList.remove("show"),this._queueCallback(y,t,!0)):y()}_transitionComplete(t,e,r){if(e){e.classList.remove(c7);const i=qt.findOne(":scope > .dropdown-menu .active",e.parentNode);i&&i.classList.remove(c7),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}t.classList.add(c7),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),t.classList.contains("fade")&&t.classList.add("show");let a=t.parentNode;if(a&&"LI"===a.nodeName&&(a=a.parentNode),a&&a.classList.contains("dropdown-menu")){const i=t.closest(".dropdown");i&&qt.find(".dropdown-toggle",i).forEach(s=>s.classList.add(c7)),t.setAttribute("aria-expanded",!0)}r&&r()}static jQueryInterface(t){return this.each(function(){const e=wd.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}I2.on(document,Hwe,'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),t6(this)||wd.getOrCreateInstance(this).show()}),Ca(wd);const Es=".bs.toast",Owe=`mouseover${Es}`,Iwe=`mouseout${Es}`,Pwe=`focusin${Es}`,Rwe=`focusout${Es}`,Fwe=`hide${Es}`,Bwe=`hidden${Es}`,Uwe=`show${Es}`,jwe=`shown${Es}`,u7="show",Dd="showing",$we={animation:"boolean",autohide:"boolean",delay:"number"},iR={animation:!0,autohide:!0,delay:5e3};class f7 extends ri{constructor(t,e){super(t),this._config=this._getConfig(e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return $we}static get Default(){return iR}static get NAME(){return"toast"}show(){I2.trigger(this._element,Uwe).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(u7),this._element.classList.add(Dd),this._queueCallback(()=>{this._element.classList.remove(Dd),I2.trigger(this._element,jwe),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this._element.classList.contains(u7)&&!I2.trigger(this._element,Fwe).defaultPrevented&&(this._element.classList.add(Dd),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(Dd),this._element.classList.remove(u7),I2.trigger(this._element,Bwe)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this._element.classList.contains(u7)&&this._element.classList.remove(u7),super.dispose()}_getConfig(t){return t=fn(fn(fn({},iR),Vr.getDataAttributes(this._element)),"object"==typeof t&&t?t:{}),Ni("toast",t,this.constructor.DefaultType),t}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const r=t.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){I2.on(this._element,Owe,t=>this._onInteraction(t,!0)),I2.on(this._element,Iwe,t=>this._onInteraction(t,!1)),I2.on(this._element,Pwe,t=>this._onInteraction(t,!0)),I2.on(this._element,Rwe,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const e=f7.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}})}}function Wwe(n,t){if(1&n&&(Ge(0,"span"),A1(1),We()),2&n){const e=X1();$e(1),it(" ",e.tank.id,".")}}pd(f7),Ca(f7);const qwe=function(n,t){return{"progress-bar rounded-progress":!0,"bg-success":n,"bg-danger":t}};let Ywe=(()=>{class n{constructor(e){this.units=e,this.tank=Y0.createDefault(),this.showId=!1}}return n.\u0275fac=function(e){return new(e||n)(P1(H4))},n.\u0275cmp=Hn({type:n,selectors:[["app-tankchart"]],inputs:{tank:"tank",showId:"showId"},decls:27,vars:38,consts:[[1,"my-4"],[1,"d-flex","flex-row","justify-content-between"],[1,"text-start"],[4,"ngIf"],[1,"text-end",3,"tank","showName"],[1,"text-start","text-muted"],[1,"text-end","text-muted"],[1,"progress","gas-bar","mt-1","mb-2"],[1,"combined_wrapper"],["role","progressbar","aria-valuemin","0",1,"reserve-bar","rounded-progress"],[1,"reserve-overlay"],[1,"reserve-value"],["role","progressbar","aria-valuemin","0",3,"ngClass"]],template:function(e,r){1&e&&(Ge(0,"div",0)(1,"div",1)(2,"strong",2),m2(3,Wwe,2,1,"span",3),A1(4),We(),rt(5,"app-gaslabel",4),We(),Ge(6,"div",1)(7,"small",5),A1(8),mn(9,"number"),mn(10,"number"),We(),Ge(11,"small",6),A1(12,"Rock bottom: "),Ge(13,"strong"),A1(14),mn(15,"number"),We(),A1(16),We()(),Ge(17,"div",7)(18,"div",8)(19,"div",9)(20,"div",10)(21,"div",11),A1(22),mn(23,"number"),We()()(),Ge(24,"div",12),A1(25),mn(26,"number"),We()()()()),2&e&&($e(3),T1("ngIf",r.showId),$e(1),it(" ",r.tank.name,""),$e(1),T1("tank",r.tank)("showName",!1),$e(3),us("Gas remaining: ",yn(9,20,r.tank.endPressure,"1.0-0"),"/",yn(10,23,r.tank.startPressure,"1.0-0")," ",r.units.pressure,""),$e(6),zn(yn(15,26,r.tank.reserve,"1.0-0")),$e(2),it(" ",r.units.pressure,""),$e(3),jl("width",r.tank.percentsReserve+"%"),Bn("aria-valuemax",r.tank.startPressure)("aria-valuenow",r.tank.reserve),$e(3),zn(yn(23,29,r.tank.reserve,"1.0-0")),$e(2),jl("width",r.tank.percentsRemaining+"%"),T1("ngClass",co(35,qwe,r.tank.hasReserve,!r.tank.hasReserve)),Bn("aria-valuemax",r.tank.startPressure)("aria-valuenow",r.tank.endPressure),$e(1),it(" ",yn(26,32,r.tank.endPressure,"1.0-0"),""))},directives:[ar,EI,cc],pipes:[k0],styles:[".gas-bar[_ngcontent-%COMP%]{padding:5px 8px;height:2em;font-size:1em;border:1px solid #a1a1a1;border-radius:.5em;background:transparent;box-shadow:none;overflow:visible;position:static}.rounded-progress[_ngcontent-%COMP%]{height:100%}.reserve-overlay[_ngcontent-%COMP%]{position:relative}.reserve-value[_ngcontent-%COMP%]{position:absolute;bottom:-3.75em;right:3px;text-align:right}.reserve-bar[_ngcontent-%COMP%]{position:absolute;padding:0;height:4em;top:-.1em;left:0px;text-align:right;font-size:.75em;border-right:2px solid darkorange}.combined_wrapper[_ngcontent-%COMP%]{position:relative;width:100%}"]}),n})();const Kwe=["toastElement"];function Zwe(n,t){if(1&n&&(Ge(0,"strong"),A1(1),mn(2,"number"),We()),2&n){const e=X1();$e(1),zn(yn(2,1,e.dive.timeToSurface,"1.0-0"))}}function Jwe(n,t){if(1&n&&(Ge(0,"strong"),A1(1),mn(2,"number"),We()),2&n){const e=X1();$e(1),zn(yn(2,1,e.dive.averageDepth,"1.0-1"))}}function Xwe(n,t){if(1&n&&(Ge(0,"strong"),A1(1),mn(2,"duration"),We()),2&n){const e=X1();$e(1),it("",yn(2,1,e.dive.emergencyAscentStart,e.dive.emergencyAscentStart)," ")}}function Qwe(n,t){if(1&n){const e=On();Ge(0,"button",22),_2("click",function(){return $2(e),X1().planner.applyNdlDuration()}),A1(1,"Use"),We()}}function eDe(n,t){if(1&n&&(Ge(0,"strong"),A1(1),mn(2,"number"),We()),2&n){const e=X1();$e(1),zn(yn(2,1,e.noDeco,"1.0-0"))}}function tDe(n,t){if(1&n){const e=On();Ge(0,"button",22),_2("click",function(){return $2(e),X1(2).planner.applyMaxDuration()}),A1(1,"Use"),We()}}function nDe(n,t){if(1&n&&(Ge(0,"strong"),A1(1),mn(2,"number"),We()),2&n){const e=X1(2);$e(1),zn(yn(2,1,e.dive.maxTime,"1.0-0"))}}function rDe(n,t){if(1&n&&(Ge(0,"tr")(1,"td"),A1(2,"Maximum bottom time [min]: "),m2(3,tDe,2,0,"button",19),We(),Ge(4,"td",17),m2(5,nDe,3,4,"strong",18),We()()),2&n){const e=X1();$e(3),T1("ngIf",e.showApply&&e.dive.calculated),$e(2),T1("ngIf",e.dive.calculated)}}function aDe(n,t){if(1&n&&(Ge(0,"strong"),A1(1),mn(2,"number"),We()),2&n){const e=X1(2);$e(1),zn(yn(2,1,e.dive.turnTime,"1.0-0"))}}function iDe(n,t){if(1&n&&(Ge(0,"tr")(1,"td"),A1(2,"Turn time [min]:"),We(),Ge(3,"td",17),m2(4,aDe,3,4,"strong",18),We()()),2&n){const e=X1();$e(4),T1("ngIf",e.dive.calculated)}}function oDe(n,t){if(1&n&&(Ge(0,"strong"),A1(1),mn(2,"number"),We()),2&n){const e=X1(2);$e(1),zn(yn(2,1,e.dive.turnPressure,"1.0-0"))}}function sDe(n,t){if(1&n&&(Ge(0,"tr")(1,"td"),A1(2,"Turn pressure [{{units.pressure}]:"),We(),Ge(3,"td",17),m2(4,oDe,3,4,"strong",18),We()()),2&n){const e=X1();$e(4),T1("ngIf",e.dive.calculated)}}function lDe(n,t){if(1&n&&rt(0,"app-tankchart",24),2&n){const e=t.$implicit,r=X1(2);T1("tank",e)("showId",r.showTankId)}}function cDe(n,t){if(1&n&&(Ge(0,"div"),m2(1,lDe,1,2,"app-tankchart",23),We()),2&n){const e=X1();$e(1),T1("ngForOf",e.tanks)}}function uDe(n,t){if(1&n&&(Ge(0,"div",25),rt(1,"fa-icon",6),Ge(2,"span"),A1(3,"There was an error while calculating profile."),We()()),2&n){const e=X1();$e(1),T1("icon",e.exclamation)}}function fDe(n,t){if(1&n&&(Ge(0,"div",25),rt(1,"fa-icon",6),Ge(2,"span"),A1(3),mn(4,"number"),We()()),2&n){const e=X1();$e(1),T1("icon",e.exclamation),$e(2),it("Not enough time to realize the dive (duration needs to be at least ",yn(4,2,e.minimumDuration,"1.0-0")," min)! Set longer planed dive time.")}}function dDe(n,t){if(1&n&&(Ge(0,"div",25),rt(1,"fa-icon",6),Ge(2,"span"),A1(3),mn(4,"number"),We()()),2&n){const e=X1(2);$e(1),T1("icon",e.exclamation),$e(2),it("Not enough gas to realize the dive! Maximum bottom time for current amount of gas is ",yn(4,2,e.dive.maxTime,"1.0-0")," min. Use larger tank, fill it with more gas, reduce dive duration or planned depth.")}}function hDe(n,t){if(1&n&&(Ge(0,"div",28),rt(1,"fa-icon",6),Ge(2,"span"),A1(3),mn(4,"number"),We()()),2&n){const e=X1(2);$e(1),T1("icon",e.info),$e(2),it("No decompression time for current depth exceeded (For no decompression dive set dive time maximum to ",yn(4,2,e.noDeco,"1.0-0")," min)!")}}function pDe(n,t){if(1&n&&(Ge(0,"div",30),rt(1,"fa-icon",6),Ge(2,"span"),A1(3),mn(4,"number"),We()()),2&n){const e=X1().$implicit,r=X1(2);$e(1),T1("icon",r.warning),$e(2),Wa("Low partial pressure of oxygen reached at depth ",yn(4,3,e.depth,"1.0-0")," ",r.units.length," (minimum depth exceeded)! There is a risk of hypoxia. Use gas with higher oxygen content.")}}function CDe(n,t){if(1&n&&(Ge(0,"div",30),rt(1,"fa-icon",6),Ge(2,"span"),A1(3),mn(4,"number"),We()()),2&n){const e=X1().$implicit,r=X1(2);$e(1),T1("icon",r.warning),$e(2),Wa("High partial pressure of oxygen reached at depth ",yn(4,3,e.depth,"1.0-0")," ",r.units.length," (maximum depth exceeded)! There is a risk of oxygen toxicity. Reduce the depth or use gas with lower oxygen content.")}}function gDe(n,t){if(1&n&&(Ge(0,"div",30),rt(1,"fa-icon",6),Ge(2,"span"),A1(3),mn(4,"duration"),We()()),2&n){const e=X1().$implicit,r=X1(2);$e(1),T1("icon",r.warning),$e(2),it("High descent speed at ",yn(4,2,e.timeStamp,e.timeStamp)," min! Descent longer time or descent to lower depth.")}}function mDe(n,t){if(1&n&&(Ge(0,"div",30),rt(1,"fa-icon",6),Ge(2,"span"),A1(3),mn(4,"duration"),We()()),2&n){const e=X1().$implicit,r=X1(2);$e(1),T1("icon",r.warning),$e(2),it("High ascent speed at ",yn(4,2,e.timeStamp,e.timeStamp)," min! Ascent to higher depth only or ascent longer time.")}}function vDe(n,t){if(1&n&&(Ge(0,"div",30),rt(1,"fa-icon",6),Ge(2,"span"),A1(3),mn(4,"number"),mn(5,"duration"),We()()),2&n){const e=X1().$implicit,r=X1(2);$e(1),T1("icon",r.warning),$e(2),us("Ceiling depth ",yn(4,4,e.depth,"1.0-0")," ",r.units.length," broken at ",yn(5,7,e.timeStamp,e.timeStamp)," min! Change your plan to higher depth at this point.")}}function yDe(n,t){if(1&n&&(Ge(0,"div",30),rt(1,"fa-icon",6),Ge(2,"span"),A1(3),mn(4,"number"),mn(5,"duration"),We()()),2&n){const e=X1().$implicit,r=X1(2);$e(1),T1("icon",r.warning),$e(2),us("Gas switch to gas with higher nitrogen content in ",yn(4,4,e.depth,"1.0-0")," ",r.units.length," at ",yn(5,7,e.timeStamp,e.timeStamp)," min is not recommended! There is a risk od isobaric counter diffusion (IDC). Switch to another gas with higher helium content or lower nitrogen content.")}}function _De(n,t){if(1&n&&(Ge(0,"div",30),rt(1,"fa-icon",6),Ge(2,"span"),A1(3),mn(4,"number"),mn(5,"duration"),We()()),2&n){const e=X1().$implicit,r=X1(2);$e(1),T1("icon",r.warning),$e(2),us("Exceeded maximum narcotic depth for selected gas in ",yn(4,4,e.depth,"1.0-0")," ",r.units.length," at ",yn(5,7,e.timeStamp,e.timeStamp)," min! Reduce the depth or use gas with higher helium content.")}}function bDe(n,t){if(1&n&&(Fl(0),m2(1,pDe,5,6,"div",29),m2(2,CDe,5,6,"div",29),m2(3,gDe,5,5,"div",29),m2(4,mDe,5,5,"div",29),m2(5,vDe,6,10,"div",29),m2(6,yDe,6,10,"div",29),m2(7,_De,6,10,"div",29),Bl()),2&n){const e=t.$implicit,r=X1(2);$e(1),T1("ngIf",r.isLowPpO2(e)),$e(1),T1("ngIf",r.isHighPpO2(e)),$e(1),T1("ngIf",r.isHighDescentSpeed(e)),$e(1),T1("ngIf",r.isHighAscentSpeed(e)),$e(1),T1("ngIf",r.isBrokenCeiling(e)),$e(1),T1("ngIf",r.isHighN2Switch(e)),$e(1),T1("ngIf",r.isMndExceeded(e))}}function MDe(n,t){if(1&n&&(Fl(0),m2(1,dDe,5,5,"div",21),m2(2,hDe,5,5,"div",26),m2(3,bDe,8,7,"ng-container",27),Bl()),2&n){const e=X1();$e(1),T1("ngIf",e.dive.calculated&&e.dive.notEnoughGas),$e(1),T1("ngIf",e.dive.noDecoCalculated&&e.dive.noDecoExceeded),$e(1),T1("ngForOf",e.dive.events)}}let xDe=(()=>{class n{constructor(e,r,a){this.clipboard=e,this.planner=r,this.units=a,this.exclamation=UA,this.warning=fd,this.info=WA,this.icon=oO,this.iconShare=Yv,this.dive=this.planner.dive,this.clipboard.copyResponse$.subscribe(i=>{i.isSuccess&&this.toast.show()})}get tanks(){return this.planner.tanks}get showTankId(){return this.planner.isComplex}get showMaxBottomTime(){return this.dive.maxTime>0}get needsReturn(){return this.planner.plan.needsReturn}get noDeco(){return this.planner.plan.noDecoTime}get minimumDuration(){return this.planner.plan.duration+1}get showApply(){return!this.planner.isComplex}ngOnInit(){this.toast=new f7(this.toastEl.nativeElement,{delay:5e3})}isLowPpO2(e){return e.type===Q3.lowPpO2}isHighPpO2(e){return e.type===Q3.highPpO2}isHighAscentSpeed(e){return e.type===Q3.highAscentSpeed}isHighDescentSpeed(e){return e.type===Q3.highDescentSpeed}isBrokenCeiling(e){return e.type===Q3.brokenCeiling}isHighN2Switch(e){return e.type===Q3.switchToHigherN2}isMndExceeded(e){return e.type===Q3.maxEndExceeded}sharePlan(){this.clipboard.copy(window.location.href)}hideToast(){this.toast.hide()}}return n.\u0275fac=function(e){return new(e||n)(P1(bX),P1(u4),P1(H4))},n.\u0275cmp=Hn({type:n,selectors:[["app-consumption"]],viewQuery:function(e,r){if(1&e&&hu(Kwe,7),2&e){let a;y3(a=_3())&&(r.toastEl=a.first)}},decls:54,vars:17,consts:[[1,"card"],[1,"card-header"],[1,"float-start","mt-1"],[1,"me-3",3,"icon"],[1,"float-end"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"me-2",3,"icon"],[1,"position-fixed","top-0","end-0","px-3","py-2","m-16","mt-5","success"],["role","alert","aria-live","assertive","aria-atomic","true","data-autohide","true",1,"toast","fade","text-light","mt-2","bg-success","success"],["toastElement",""],[1,"toast-header"],[1,"me-auto"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"toast-body"],[1,"card-body","card-minheight"],[1,"pb-3"],[1,"table"],[1,"table-active"],[4,"ngIf"],["type","button","class","btn btn-secondary btn-sm ml-2",3,"click",4,"ngIf"],[3,"show"],["class","alert alert-danger",4,"ngIf"],["type","button",1,"btn","btn-secondary","btn-sm","ml-2",3,"click"],[3,"tank","showId",4,"ngFor","ngForOf"],[3,"tank","showId"],[1,"alert","alert-danger"],["class","alert alert-info",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"alert","alert-info"],["class","alert alert-warning",4,"ngIf"],[1,"alert","alert-warning"]],template:function(e,r){1&e&&(Ge(0,"div",0)(1,"div",1)(2,"div",2),rt(3,"fa-icon",3),Ge(4,"span"),A1(5,"Dive info"),We()(),Ge(6,"div",4)(7,"button",5),_2("click",function(){return r.sharePlan()}),rt(8,"fa-icon",6),A1(9,"Share "),We()()(),Ge(10,"div",7)(11,"div",8,9)(13,"div",10),rt(14,"fa-icon",6),Ge(15,"strong",11),A1(16,"Share plan"),We(),Ge(17,"button",12),_2("click",function(){return r.hideToast()}),We()(),Ge(18,"div",13),A1(19," URL address of this dive plan was copied to the clipboard. "),We()()(),Ge(20,"div",14)(21,"div")(22,"div",15)(23,"table",16)(24,"tbody")(25,"tr")(26,"td"),A1(27,"Time to surface [min]:"),We(),Ge(28,"td",17),m2(29,Zwe,3,4,"strong",18),We()(),Ge(30,"tr")(31,"td"),A1(32),We(),Ge(33,"td",17),m2(34,Jwe,3,4,"strong",18),We()(),Ge(35,"tr")(36,"td"),A1(37,"Rock bottom at:"),We(),Ge(38,"td",17),m2(39,Xwe,3,4,"strong",18),We()(),Ge(40,"tr")(41,"td"),A1(42,"No decompression time [min]: "),m2(43,Qwe,2,0,"button",19),We(),Ge(44,"td",17),m2(45,eDe,3,4,"strong",18),We()(),m2(46,rDe,6,2,"tr",18),m2(47,iDe,5,1,"tr",18),m2(48,sDe,5,1,"tr",18),We()(),m2(49,cDe,2,1,"div",18),We(),rt(50,"app-calculating",20),m2(51,uDe,4,1,"div",21),m2(52,fDe,5,5,"div",21),m2(53,MDe,4,3,"ng-container",18),We()()()),2&e&&($e(3),T1("icon",r.icon),$e(5),T1("icon",r.iconShare),$e(6),T1("icon",r.iconShare),$e(15),T1("ngIf",r.dive.calculated),$e(3),it("Average depth [",r.units.length,"]:"),$e(2),T1("ngIf",r.dive.profileCalculated),$e(5),T1("ngIf",r.dive.calculated),$e(4),T1("ngIf",r.showApply&&r.dive.noDecoCalculated),$e(2),T1("ngIf",r.dive.noDecoCalculated),$e(1),T1("ngIf",r.showMaxBottomTime),$e(1),T1("ngIf",r.dive.needsReturn),$e(1),T1("ngIf",r.dive.needsReturn),$e(1),T1("ngIf",r.dive.showResults),$e(1),T1("show",!r.dive.calculated),$e(1),T1("ngIf",r.dive.calculated&&r.dive.calculationFailed),$e(1),T1("ngIf",r.dive.noDecoCalculated&&r.dive.notEnoughTime),$e(1),T1("ngIf",!r.dive.hasErrors))},directives:[ua,ar,po,Ywe,fy],pipes:[k0,PI],styles:[""]}),n})();function LDe(n,t){if(1&n){const e=On();Ge(0,"div",10),rt(1,"fa-icon",11),Ge(2,"span")(3,"strong"),A1(4,"Disclaimer:"),We(),A1(5," None of the authors, contributors, administrators, or anyone else connected with this project can be responsible for your use of the information provided by this application or linked from these web pages. Use the results at your own risk."),We(),Ge(6,"button",12),_2("click",function(){return $2(e),X1().stopDisclaimer()}),We()()}if(2&n){const e=X1();$e(1),T1("icon",e.exclamation)}}const oR=function(n,t,e){return{"col-md-4":n,"col-sm-6":t,"col-lg-6":e}},wDe=function(n,t){return{"col-md-4":n,"col-sm-12":t}},DDe=function(n,t){return{"col-lg-12":n,"col-lg-8":t}};let SDe=(()=>{class n{constructor(e,r,a){this.router=e,this.preferences=r,this.planner=a,this.showDisclaimer=!0,this.exclamation=fd,this.dive=a.dive}get isComplex(){return this.planner.isComplex}ngOnInit(){this.showDisclaimer=this.preferences.disclaimerEnabled();const e=window.location.search;""!==e&&pa.fromUrl(e,this.planner),this.planner.infoCalculated.subscribe(()=>{this.updateQueryParams()}),this.planner.calculate()}stopDisclaimer(){this.showDisclaimer=!1,this.preferences.disableDisclaimer()}updateQueryParams(){const e=pa.toUrl(this.planner);this.router.navigateByUrl("?"+e)}}return n.\u0275fac=function(e){return new(e||n)(P1(Hr),P1(Nm),P1(u4))},n.\u0275cmp=Hn({type:n,selectors:[["app-dashboard"]],decls:18,vars:19,consts:[["name","form","novalidate",""],["f","ngForm"],[1,"mt-5"],[1,"row"],["class","alert alert-warning alert-dismissible fade show mt-4","role","alert",4,"ngIf"],[1,"col-12","col-xxl-4","mt-4",3,"ngClass"],[3,"validate"],[1,"col-12","col-lg-4","mt-4",3,"ngClass"],[1,"col-12","col-xxl-6","mt-4",3,"ngClass"],[1,"col-md-6","col-xxl-3","mt-4"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","mt-4"],[1,"me-2","fa-lg",3,"icon"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"]],template:function(e,r){if(1&e){const a=On();Ge(0,"form",0,1)(2,"div",2)(3,"div",3)(4,"div"),m2(5,LDe,7,1,"div",4),We(),Ge(6,"div",5)(7,"app-tanks",6),_2("validate",function(){return $2(a),Ft(1).form.updateValueAndValidity()}),We()(),Ge(8,"div",5),rt(9,"app-depths"),We(),Ge(10,"div",7),rt(11,"app-diveoptions"),We(),Ge(12,"div",8),rt(13,"app-profilechart"),We(),Ge(14,"div",9),rt(15,"app-waypoints"),We(),Ge(16,"div",9),rt(17,"app-consumption"),We()()()()}2&e&&($e(5),T1("ngIf",r.showDisclaimer),$e(1),T1("ngClass",Ql(5,oR,!r.isComplex,!r.isComplex,r.isComplex)),$e(2),T1("ngClass",Ql(9,oR,!r.isComplex,!r.isComplex,r.isComplex)),$e(2),T1("ngClass",co(13,wDe,!r.isComplex,!r.isComplex)),$e(2),T1("ngClass",co(16,DDe,!r.isComplex,r.isComplex)))},directives:[VL,pL,Gu,ar,ua,cc,Pbe,Xbe,CMe,vMe,LMe,xDe],styles:[""]}),n})();var va=(()=>{return(n=va||(va={}))[n.sac=0]="sac",n[n.used=1]="used",n[n.duration=2]="duration",va;var n})();let TDe=(()=>{class n{constructor(){this._depth=15,this._tank=15,this._used=150,this._duration=45,this._rmv=0,this._calculation=va.sac,this.calculate=this.calculateSac,this.options={salinity:S4.fresh,altitude:0},this.depthConverterFactory=new q0(this.options);const e=this.depthConverterFactory.create();this.sacCalculator=new NX(e),this.calculate()}get depth(){return this._depth}set depth(e){this._depth=e,this.calculate()}get tank(){return this._tank}set tank(e){this._tank=e,this.calculate()}get rmv(){return this._rmv}set rmv(e){this._rmv=e,this.calculate()}get duration(){return this._duration}set duration(e){this._duration=e,this.calculate()}get used(){return this._used}set used(e){this._used=e,this.calculate()}get calculation(){return this._calculation}set calculation(e){switch(this._calculation=e,e){case va.duration:this.calculate=this.calculateDuration;break;case va.used:this.calculate=this.calculateUsed;break;default:this.calculate=this.calculateSac}}calculateSac(){this._rmv=this.sacCalculator.calculateSac(this.depth,this.tank,this.used,this.duration)}calculateDuration(){this._duration=this.sacCalculator.calculateDuration(this.depth,this.tank,this.used,this.rmv)}calculateUsed(){this._used=this.sacCalculator.calculateUsed(this.depth,this.tank,this.duration,this.rmv)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function HDe(n,t){if(1&n&&(Ge(0,"div",32),A1(1),We()),2&n){const e=X1();$e(1),it("Needs to be number ",e.ranges.depthLabel,"")}}function VDe(n,t){if(1&n&&(Ge(0,"div",32),A1(1),We()),2&n){const e=X1();$e(1),it("Needs to be number ",e.ranges.tankSizeLabel,"")}}function ADe(n,t){if(1&n&&(Ge(0,"div",32),A1(1),We()),2&n){const e=X1();$e(1),it("Needs to be number ",e.ranges.durationLabel,"")}}function kDe(n,t){if(1&n&&(Ge(0,"div",32),A1(1),We()),2&n){const e=X1();$e(1),it("Needs to be number ",e.ranges.tankPressureLabel,"")}}function zDe(n,t){if(1&n&&(Ge(0,"div",32),A1(1),We()),2&n){const e=X1();$e(1),it("Needs to be number ",e.ranges.diverRmvLabel,"")}}let NDe=(()=>{class n{constructor(e,r,a,i){this.router=e,this.planer=r,this.calc=a,this.units=i,this.calcIcon=wv}get ranges(){return this.units.ranges}get inDuration(){return this.calc.calculation===va.duration}get inUsed(){return this.calc.calculation===va.used}get inSac(){return this.calc.calculation===va.sac}get calcDepth(){return this.units.fromMeters(this.calc.depth)}get calcTank(){return this.units.fromLiter(this.calc.tank)}get calcUsed(){return this.units.fromBar(this.calc.used)}get calcRmv(){return this.units.fromLiter(this.calc.rmv)}set calcDepth(e){this.calc.depth=this.units.toMeters(e)}set calcTank(e){this.calc.tank=this.units.toLiter(e)}set calcUsed(e){this.calc.used=this.units.toBar(e)}set calcRmv(e){this.calc.rmv=this.units.toLiter(e)}toDuration(){this.calc.calculation=va.duration}toUsed(){this.calc.calculation=va.used}toSac(){this.calc.calculation=va.sac}goBack(){var e=this;return nv(function*(){return yield e.router.navigateByUrl("/")})()}use(){this.planer.diver.rmv=this.calc.rmv}gasSac(){const e=q5.gasSac(this.calc.rmv,this.calc.tank);return this.units.fromLiter(e)}}return n.\u0275fac=function(e){return new(e||n)(P1(Hr),P1(u4),P1(TDe),P1(H4))},n.\u0275cmp=Hn({type:n,selectors:[["app-sac"]],decls:69,vars:67,consts:[[1,"mt-5"],[1,"row"],[1,"col-lg-3","col-md-6","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],["role","group",1,"btn-group"],["type","button",1,"btn",3,"click"],[1,"my-2"],["for","depth"],["name","depth","id","depth","type","number","required","","step","1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange"],["depth","ngModel"],["class","text-danger",4,"ngIf"],["for","tank"],["name","tank","id","tank","type","number","required","","step","1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange"],["tank","ngModel"],[1,"my-2",3,"hidden"],["for","duration"],["name","duration","id","duration","type","number","required","","step","1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange"],["duration","ngModel"],["for","used"],["name","used","id","used","type","number","required","","step","1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange"],["used","ngModel"],["for","sac"],["name","sac","id","sac","type","number","required","","step","1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange"],["sac","ngModel"],[1,"form-text","text-muted"],["readonly","",1,"form-control",3,"ngModel"],[1,"form-group","mt-2"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"text-danger"]],template:function(e,r){if(1&e&&(Ge(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),rt(5,"fa-icon",5),Ge(6,"span"),A1(7,"Respiratory minute volume"),We()(),Ge(8,"div",6)(9,"div",7)(10,"button",8),_2("click",function(){return r.toSac()}),A1(11,"RMV"),We(),Ge(12,"button",8),_2("click",function(){return r.toUsed()}),A1(13,"Used"),We(),Ge(14,"button",8),_2("click",function(){return r.toDuration()}),A1(15,"Duration"),We()(),Ge(16,"div",9)(17,"label",10),A1(18),Ge(19,"input",11,12),_2("ngModelChange",function(i){return r.calcDepth=i}),We()(),m2(21,HDe,2,1,"div",13),We(),Ge(22,"div",9)(23,"label",14),A1(24),Ge(25,"input",15,16),_2("ngModelChange",function(i){return r.calcTank=i}),We()(),m2(27,VDe,2,1,"div",13),We(),Ge(28,"div",17)(29,"label",18),A1(30,"Dive time [min]: "),Ge(31,"input",19,20),_2("ngModelChange",function(i){return r.calc.duration=i}),We()(),m2(33,ADe,2,1,"div",13),We(),Ge(34,"div",17)(35,"label",21),A1(36),Ge(37,"input",22,23),_2("ngModelChange",function(i){return r.calcUsed=i}),We()(),m2(39,kDe,2,1,"div",13),We(),Ge(40,"div",17)(41,"label",24),A1(42),Ge(43,"input",25,26),_2("ngModelChange",function(i){return r.calcRmv=i}),We(),Ge(45,"small",27),A1(46),mn(47,"number"),We()(),m2(48,zDe,2,1,"div",13),We(),Ge(49,"div",17)(50,"label",24),A1(51),rt(52,"input",28),Ge(53,"small",27),A1(54),mn(55,"number"),We()()(),Ge(56,"div",17)(57,"label",24),A1(58),rt(59,"input",28),We()(),Ge(60,"div",17)(61,"label",24),A1(62,"Dive time [min]: "),rt(63,"input",28),We()()()(),Ge(64,"div",29)(65,"button",30),_2("click",function(){return r.goBack()}),A1(66,"Back"),We(),Ge(67,"button",31),_2("click",function(){return r.use()}),A1(68,"Use"),We()()()()()),2&e){const a=Ft(20),i=Ft(26),s=Ft(32),y=Ft(38),V=Ft(44);$e(5),T1("icon",r.calcIcon),$e(5),ft("btn-primary",r.inSac),$e(2),ft("btn-primary",r.inUsed),$e(2),ft("btn-primary",r.inDuration),$e(4),it("Average depth [",r.units.length,"]: "),$e(1),ft("is-invalid",a.invalid&&(a.dirty||a.touched)),T1("ngModel",r.calcDepth)("rangeVal",r.ranges.depth)("min",r.ranges.depth[0])("max",r.ranges.depth[1]),$e(2),T1("ngIf",a.invalid&&(a.dirty||a.touched)),$e(3),it("Tank size [",r.units.volume,"]: "),$e(1),ft("is-invalid",i.invalid&&(i.dirty||i.touched)),T1("ngModel",r.calcTank)("rangeVal",r.ranges.tankSize)("min",r.ranges.tankSize[0])("max",r.ranges.tankSize[1]),$e(2),T1("ngIf",i.invalid&&(i.dirty||i.touched)),$e(1),T1("hidden",r.inDuration),$e(3),ft("is-invalid",s.invalid&&(s.dirty||s.touched)),T1("ngModel",r.calc.duration)("rangeVal",r.ranges.duration)("min",r.ranges.duration[0])("max",r.ranges.duration[1]),$e(2),T1("ngIf",s.invalid&&(s.dirty||s.touched)),$e(1),T1("hidden",r.inUsed),$e(2),it("Gas consumed [",r.units.pressure,"]: "),$e(1),ft("is-invalid",y.invalid&&(y.dirty||y.touched)),T1("ngModel",r.calcUsed)("rangeVal",r.ranges.tankPressure)("min",r.ranges.tankPressure[0])("max",r.ranges.tankPressure[1]),$e(2),T1("ngIf",y.invalid&&(y.dirty||y.touched)),$e(1),T1("hidden",r.inSac),$e(2),it("RMV [",r.units.rmv,"]: "),$e(1),ft("is-invalid",V.invalid&&(V.dirty||V.touched)),T1("ngModel",r.calcRmv)("rangeVal",r.ranges.diverRmv)("min",r.ranges.diverRmv[0])("max",r.ranges.diverRmv[1]),$e(3),Wa("SAC: ",yn(47,61,r.gasSac(),"1.0-2")," ",r.units.sac,""),$e(2),T1("ngIf",V.invalid&&(V.dirty||V.touched)),$e(1),T1("hidden",!r.inSac),$e(2),it("RMV [",r.units.rmv,"]: "),$e(1),T1("ngModel",r.calcRmv),$e(2),Wa("SAC: ",yn(55,64,r.gasSac(),"1.0-2")," ",r.units.sac,""),$e(2),T1("hidden",!r.inUsed),$e(2),it("Gas consumed [",r.units.pressure,"]: "),$e(1),T1("ngModel",r.calcUsed),$e(1),T1("hidden",!r.inDuration),$e(3),T1("ngModel",r.calc.duration)}},directives:[ua,vs,_s,ys,Co,go,N0,ms,Ls,ar],pipes:[k0],styles:[""]}),n})();var ya=(()=>{return(n=ya||(ya={}))[n.Mod=0]="Mod",n[n.BestMix=1]="BestMix",n[n.PO2=2]="PO2",ya;var n})();let EDe=(()=>{class n{constructor(){this._pO2=1.6,this._fO2=50,this._mod=22,this._calculation=ya.Mod,this.calculateCurrentMod=()=>{this._mod=this.nitroxCalculator.mod(this._pO2,this._fO2)},this.calculateBestMix=()=>{this._fO2=this.nitroxCalculator.bestMix(this._pO2,this._mod)},this.calculatePartial=()=>{this._pO2=this.nitroxCalculator.partialPressure(this._fO2,this._mod)},this.calculate=()=>this.calculateCurrentMod();const e=Lo.simple(),a=new Tm(e,{lastStopDepth:6,safetyStop:T4.never,decoStopDistance:3,minimumAutoStopDepth:10});this.nitroxCalculator=new TS(a,e)}get calculation(){return this._calculation}get pO2(){return this._pO2}get fO2(){return this._fO2}get ead(){return this.nitroxCalculator.ead(this._fO2,this._mod)}get mod(){return this._mod}set calculation(e){switch(this._calculation=e,e){case ya.BestMix:this.calculate=()=>this.calculateBestMix();break;case ya.PO2:this.calculate=()=>this.calculatePartial();break;default:this.calculate=()=>this.calculateCurrentMod()}}set pO2(e){this._pO2=e,this.calculate()}set fO2(e){this._fO2=e,this.calculate()}set mod(e){this._mod=e,this.calculate()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ODe(n,t){1&n&&(Ge(0,"div",26),A1(1,"Needs to be number 0.21-3"),We())}function IDe(n,t){if(1&n&&(Ge(0,"div",26),A1(1),We()),2&n){const e=X1();$e(1),it("Needs to be number ",e.ranges.nitroxOxygenLabel,"")}}function PDe(n,t){if(1&n&&(Ge(0,"div",26),A1(1),We()),2&n){const e=X1();$e(1),it("Needs to be number ",e.ranges.depthLabel,"")}}const RDe=[{path:"settings",component:mbe},{path:"sac",component:NDe},{path:"nitrox",component:(()=>{class n{constructor(e,r,a,i){this.calc=e,this.router=r,this.planer=a,this.units=i,this.calcIcon=wv,this.calc.fO2=this.planer.firstTank.o2,this.calc.pO2=this.planer.diver.maxPpO2}get ranges(){return this.units.ranges}get inMod(){return this.calc.calculation===ya.Mod}get inBestMix(){return this.calc.calculation===ya.BestMix}get inPO2(){return this.calc.calculation===ya.PO2}get calcMod(){return this.units.fromMeters(this.calc.mod)}set calcMod(e){this.calc.mod=this.units.toMeters(e)}toMod(){this.calc.calculation=ya.Mod}toBestMix(){this.calc.calculation=ya.BestMix}toPO2(){this.calc.calculation=ya.PO2}goBack(){var e=this;return nv(function*(){return yield e.router.navigateByUrl("/")})()}use(){this.planer.firstTank.o2=this.calc.fO2,this.planer.diver.maxPpO2=this.calc.pO2}}return n.\u0275fac=function(e){return new(e||n)(P1(EDe),P1(Hr),P1(u4),P1(H4))},n.\u0275cmp=Hn({type:n,selectors:[["app-nitrox"]],decls:57,vars:43,consts:[[1,"mt-5"],[1,"row"],[1,"col-lg-3","col-md-6","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[1,"my-3"],["role","group",1,"btn-group"],["type","button",1,"btn",3,"click"],[1,"my-2",3,"hidden"],["for","pO2"],["name","pO2","id","pO2","type","number","required","","step","0.1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange"],["pO2","ngModel"],["class","text-danger",4,"ngIf"],["for","fO2"],["name","fO2","id","fO2","type","number","required","","step","1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange"],["fO2","ngModel"],["for","mod"],["name","mod","id","mod","type","number","required","","step","1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange"],["mod","ngModel"],[1,"form-text","text-muted"],["readonly","",1,"form-control",3,"ngModel"],[1,"form-group","mt-2"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"text-danger"]],template:function(e,r){if(1&e&&(Ge(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),rt(5,"fa-icon",5),Ge(6,"span"),A1(7,"Nitrox calculator"),We()(),Ge(8,"div",6)(9,"div",7),A1(10,"This calculator uses simple depth conversion, so the values shown here are less precise, than in rest of the application."),We(),Ge(11,"div",8)(12,"button",9),_2("click",function(){return r.toMod()}),A1(13,"MOD"),We(),Ge(14,"button",9),_2("click",function(){return r.toBestMix()}),A1(15,"Best mix"),We(),Ge(16,"button",9),_2("click",function(){return r.toPO2()}),A1(17,"ppO2"),We()(),Ge(18,"div",10)(19,"label",11),A1(20,"ppO2: "),Ge(21,"input",12,13),_2("ngModelChange",function(i){return r.calc.pO2=i}),We()(),m2(23,ODe,2,0,"div",14),We(),Ge(24,"div",10)(25,"label",15),A1(26,"Percent O2: "),Ge(27,"input",16,17),_2("ngModelChange",function(i){return r.calc.fO2=i}),We()(),m2(29,IDe,2,1,"div",14),We(),Ge(30,"div",10)(31,"label",18),A1(32),Ge(33,"input",19,20),_2("ngModelChange",function(i){return r.calcMod=i}),We(),Ge(35,"small",21),A1(36),We()(),m2(37,PDe,2,1,"div",14),We(),Ge(38,"div",10)(39,"label",18),A1(40),rt(41,"input",22),Ge(42,"small",21),A1(43),We()()(),Ge(44,"div",10)(45,"label",18),A1(46,"Percent O2: "),rt(47,"input",22),We()(),Ge(48,"div",10)(49,"label",18),A1(50,"ppO2: "),rt(51,"input",22),We()()()(),Ge(52,"div",23)(53,"button",24),_2("click",function(){return r.goBack()}),A1(54,"Back"),We(),Ge(55,"button",25),_2("click",function(){return r.use()}),A1(56,"Use"),We()()()()()),2&e){const a=Ft(22),i=Ft(28),s=Ft(34);$e(5),T1("icon",r.calcIcon),$e(7),ft("btn-primary",r.inMod),$e(2),ft("btn-primary",r.inBestMix),$e(2),ft("btn-primary",r.inPO2),$e(2),T1("hidden",r.inPO2),$e(3),ft("is-invalid",a.invalid&&(a.dirty||a.touched)),T1("ngModel",r.calc.pO2)("rangeVal",r.ranges.ppO2)("min",r.ranges.ppO2[0])("max",r.ranges.ppO2[1]),$e(2),T1("ngIf",a.invalid&&(a.dirty||a.touched)),$e(1),T1("hidden",r.inBestMix),$e(3),ft("is-invalid",i.invalid&&(i.dirty||i.touched)),T1("ngModel",r.calc.fO2)("rangeVal",r.ranges.nitroxOxygen)("min",r.ranges.nitroxOxygen[0])("max",r.ranges.nitroxOxygen[0]),$e(2),T1("ngIf",i.invalid&&(i.dirty||i.touched)),$e(1),T1("hidden",r.inMod),$e(2),it("MOD [",r.units.length,"]: "),$e(1),ft("is-invalid",s.invalid&&(s.dirty||s.touched)),T1("ngModel",r.calcMod)("rangeVal",r.ranges.depth)("min",r.ranges.depth[0])("max",r.ranges.depth[1]),$e(3),Wa("EAD: ",r.calc.ead," ",r.units.length,""),$e(1),T1("ngIf",s.invalid&&(s.dirty||s.touched)),$e(1),T1("hidden",!r.inMod),$e(2),it("MOD [",r.units.length,"]: "),$e(1),T1("ngModel",r.calcMod),$e(2),Wa("EAD: ",r.calc.ead," ",r.units.length,""),$e(1),T1("hidden",!r.inBestMix),$e(3),T1("ngModel",r.calc.fO2),$e(1),T1("hidden",!r.inPO2),$e(3),T1("ngModel",r.calc.pO2)}},directives:[ua,vs,_s,ys,Co,go,N0,ms,Ls,ar],styles:[""]}),n})()},{path:"about",component:(()=>{class n{constructor(){this.exclamation=fd}get projectUrl(){return Nc.rootUrl}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Hn({type:n,selectors:[["app-about"]],decls:16,vars:2,consts:[[1,"jumbotron","m-4","pt-5"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","mt-4"],[1,"me-2","fa-lg",3,"icon"],[1,"mt-4"],["target","_blank",1,"btn","btn-primary","btn-lg",3,"href"]],template:function(e,r){1&e&&(Ge(0,"div",0)(1,"h1"),A1(2,"About Gas Planner"),We(),Ge(3,"p"),A1(4,"Open source Scuba diving application to help divers plan their dives."),rt(5,"br"),A1(6," Plan your dive and dive your plan!"),We(),Ge(7,"div",1),rt(8,"fa-icon",2),Ge(9,"span")(10,"strong"),A1(11,"Disclaimer:"),We(),A1(12," None of the authors, contributors, administrators, or anyone else connected with this project can be responsible for your use of the information provided by this application or linked from these web pages. Use the results at your own risk."),We()(),Ge(13,"div",3)(14,"a",4),A1(15,"Github project"),We()()()),2&e&&($e(8),T1("icon",r.exclamation),$e(6),au("href",r.projectUrl,ts))},directives:[ua],styles:[""]}),n})()},{path:"**",component:SDe}];let FDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=en({type:n}),n.\u0275inj=wt({imports:[[kT.forRoot(RDe)],kT]}),n})();const UDe={connector:()=>new j};function sR(n,t=UDe){const{connector:e}=t;return F((r,a)=>{const i=e();O2(n(function BDe(n){return new me(t=>n.subscribe(t))}(i))).subscribe(a),a.add(r.subscribe(i))})}const d7="Service workers are disabled or not supported by this browser";class Sd{constructor(t){if(this.serviceWorker=t,t){const r=Dr(t,"controllerchange").pipe(R(()=>t.controller)),i=H5(kf(()=>Bt(t.controller)),r);this.worker=i.pipe(lr(pe=>!!pe)),this.registration=this.worker.pipe(F4(()=>t.getRegistration()));const ne=Dr(t,"message").pipe(R(pe=>pe.data)).pipe(lr(pe=>pe&&pe.type)).pipe(function GDe(n){return n?t=>sR(n)(t):t=>function jDe(n,t){const e=o(n)?n:()=>n;return o(t)?sR(t,{connector:e}):r=>new VS(r,e)}(new j)(t)}());ne.connect(),this.events=ne}else this.worker=this.events=this.registration=function $De(n){return kf(()=>Oc(new Error(n)))}(d7)}postMessage(t,e){return this.worker.pipe(j1(1),Br(r=>{r.postMessage(Object.assign({action:t},e))})).toPromise().then(()=>{})}postMessageWithOperation(t,e,r){const a=this.waitForOperationCompleted(r),i=this.postMessage(t,e);return Promise.all([i,a]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){let e;return e="string"==typeof t?r=>r.type===t:r=>t.includes(r.type),this.events.pipe(lr(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(j1(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(lr(e=>e.nonce===t),j1(1),R(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let WDe=(()=>{class n{constructor(e){if(this.sw=e,this.subscriptionChanges=new j,!e.isEnabled)return this.messages=mo,this.notificationClicks=mo,void(this.subscription=mo);this.messages=this.sw.eventsOfType("PUSH").pipe(R(a=>a.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(R(a=>a.data)),this.pushManager=this.sw.registration.pipe(R(a=>a.pushManager));const r=this.pushManager.pipe(F4(a=>a.getSubscription()));this.subscription=S2(r,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(e){if(!this.sw.isEnabled)return Promise.reject(new Error(d7));const r={userVisibleOnly:!0};let a=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(a.length));for(let s=0;s<a.length;s++)i[s]=a.charCodeAt(s);return r.applicationServerKey=i,this.pushManager.pipe(F4(s=>s.subscribe(r)),j1(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(j1(1),F4(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(a=>{if(!a)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(d7))}decodeBase64(e){return atob(e)}}return n.\u0275fac=function(e){return new(e||n)(J2(Sd))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})(),qDe=(()=>{class n{constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=mo,this.available=mo,this.activated=mo,void(this.unrecoverable=mo);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe(lr(r=>"VERSION_READY"===r.type),R(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(d7));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(d7));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}}return n.\u0275fac=function(e){return new(e||n)(J2(Sd))},n.\u0275prov=ot({token:n,factory:n.\u0275fac}),n})();class ky{}const lR=new tn("NGSW_REGISTER_SCRIPT");function YDe(n,t,e,r){return()=>{if(!IC(r)||!("serviceWorker"in navigator)||!1===e.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)i=e.registrationStrategy();else{const[y,...V]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(y){case"registerImmediately":i=Bt(null);break;case"registerWithDelay":i=cR(+V[0]||0);break;case"registerWhenStable":i=V[0]?S2(uR(n),cR(+V[0])):uR(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}n.get(Qn).runOutsideAngular(()=>i.pipe(j1(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:e.scope}).catch(y=>console.error("Service worker registration failed with:",y))))}}function cR(n){return Bt(null).pipe(tw(n))}function uR(n){return n.get(ic).isStable.pipe(lr(e=>e))}function KDe(n,t){return new Sd(IC(t)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let ZDe=(()=>{class n{static register(e,r={}){return{ngModule:n,providers:[{provide:lR,useValue:e},{provide:ky,useValue:r},{provide:Sd,useFactory:KDe,deps:[ky,ac]},{provide:mu,useFactory:YDe,deps:[m1,lR,ky,ac],multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=en({type:n}),n.\u0275inj=wt({providers:[WDe,qDe]}),n})();class zy{constructor(t){this.worker=t,this.onCalculated=new j,this.onFailed=new j,this.calculated=this.onCalculated.asObservable(),this.failed=this.onFailed.asObservable(),this.worker.addEventListener("message",e=>this.processMessage(e)),this.worker.addEventListener("error",()=>this.onFailed.next())}calculate(t){this.worker.postMessage(t)}processMessage(t){this.onCalculated.next(t.data)}}class JDe extends zm{createProfileWorker(){const t=new Worker(de.tu(new URL(de.p+de.u(481),de.b)));return new zy(t)}createNoDecoWorker(){const t=new Worker(de.tu(new URL(de.p+de.u(10),de.b)));return new zy(t)}createConsumptionWorker(){const t=new Worker(de.tu(new URL(de.p+de.u(626),de.b)));return new zy(t)}}let XDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=en({type:n,bootstrap:[Zee]}),n.\u0275inj=wt({providers:[{provide:zm,useClass:JDe},u4,Nm,H4,uy,NC],imports:[[M$,qL,bZ,FDe,wZ,yX,MX,ZDe.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"})]]}),n})();(function uj(){ZM=!1})(),_$().bootstrapModule(XDe).catch(n=>console.error(n))},489:function(x3,m,de){var te;x3=de.nmd(x3),function(){var o,c="Expected a function",d="__lodash_hash_undefined__",u="__lodash_placeholder__",H=32,I=128,ce=1/0,me=9007199254740991,K=NaN,le=4294967295,oe=[["ary",I],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",H],["partialRight",64],["rearg",256]],re="[object Arguments]",F="[object Array]",J="[object Boolean]",R="[object Date]",fe="[object Error]",ue="[object Function]",he="[object GeneratorFunction]",Me="[object Map]",be="[object Number]",ze="[object Object]",Pe="[object Promise]",t1="[object RegExp]",Xe="[object Set]",Ue="[object String]",xe="[object Symbol]",De="[object WeakMap]",Ye="[object ArrayBuffer]",Oe="[object DataView]",Ie="[object Float32Array]",Qe="[object Float64Array]",n1="[object Int8Array]",Ke="[object Int16Array]",r1="[object Int32Array]",f1="[object Uint8Array]",Je="[object Uint8ClampedArray]",g1="[object Uint16Array]",b1="[object Uint32Array]",_1=/\b__p \+= '';/g,I1=/\b(__p \+=) '' \+/g,M1=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Re=/&(?:amp|lt|gt|quot|#39);/g,Be=/[&<>"']/g,C1=RegExp(Re.source),O1=RegExp(Be.source),Q1=/<%-([\s\S]+?)%>/g,l2=/<%([\s\S]+?)%>/g,G1=/<%=([\s\S]+?)%>/g,K1=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,N1=/^\w*$/,ge=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ye=/[\\^$.*+?()[\]{}|]/g,je=RegExp(ye.source),e1=/^\s+/,d1=/\s/,i1=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,l1=/\{\n\/\* \[wrapped with (.+)\] \*/,c1=/,? & /,L1=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,H1=/[()=,{}\[\]\/\s]/,B1=/\\(\\)?/g,r2=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,V1=/\w*$/,q1=/^[-+]0x[0-9a-f]+$/i,f2=/^0b[01]+$/i,z1=/^\[object .+?Constructor\]$/,w1=/^0o[0-7]+$/i,a2=/^(?:0|[1-9]\d*)$/,J1=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,U1=/($^)/,e2=/['\n\r\u2028\u2029\\]/g,R1="\\ud800-\\udfff",F2="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",O2="\\u2700-\\u27bf",S2="a-z\\xdf-\\xf6\\xf8-\\xff",s2="A-Z\\xc0-\\xd6\\xd8-\\xde",C2="\\ufe0e\\ufe0f",G2="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",A2="["+R1+"]",z2="["+G2+"]",dt="["+F2+"]",pt="\\d+",B2="["+O2+"]",Y2="["+S2+"]",P2="[^"+R1+G2+pt+O2+S2+s2+"]",mt="\\ud83c[\\udffb-\\udfff]",vt="[^"+R1+"]",ht="(?:\\ud83c[\\udde6-\\uddff]){2}",E2="[\\ud800-\\udbff][\\udc00-\\udfff]",ut="["+s2+"]",et="(?:"+Y2+"|"+P2+")",R2="(?:"+ut+"|"+P2+")",g2="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",_t="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",hn="(?:"+dt+"|"+mt+")?",Ut="["+C2+"]?",pn=Ut+hn+"(?:\\u200d(?:"+[vt,ht,E2].join("|")+")"+Ut+hn+")*",bn="(?:"+[B2,ht,E2].join("|")+")"+pn,Nt="(?:"+[vt+dt+"?",dt,ht,E2,A2].join("|")+")",Kt=RegExp("['\u2019]","g"),S3=RegExp(dt,"g"),er=RegExp(mt+"(?="+mt+")|"+Nt+pn,"g"),mr=RegExp([ut+"?"+Y2+"+"+g2+"(?="+[z2,ut,"$"].join("|")+")",R2+"+"+_t+"(?="+[z2,ut+et,"$"].join("|")+")",ut+"?"+et+"+"+g2,ut+"+"+_t,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",pt,bn].join("|"),"g"),ot=RegExp("[\\u200d"+R1+F2+C2+"]"),Tn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,wt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],U3=-1,Pt={};Pt[Ie]=Pt[Qe]=Pt[n1]=Pt[Ke]=Pt[r1]=Pt[f1]=Pt[Je]=Pt[g1]=Pt[b1]=!0,Pt[re]=Pt[F]=Pt[Ye]=Pt[J]=Pt[Oe]=Pt[R]=Pt[fe]=Pt[ue]=Pt[Me]=Pt[be]=Pt[ze]=Pt[t1]=Pt[Xe]=Pt[Ue]=Pt[De]=!1;var In={};In[re]=In[F]=In[Ye]=In[Oe]=In[J]=In[R]=In[Ie]=In[Qe]=In[n1]=In[Ke]=In[r1]=In[Me]=In[be]=In[ze]=In[t1]=In[Xe]=In[Ue]=In[xe]=In[f1]=In[Je]=In[g1]=In[b1]=!0,In[fe]=In[ue]=In[De]=!1;var oi={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ii=parseFloat,Is=parseInt,St="object"==typeof global&&global&&global.Object===Object&&global,_a="object"==typeof self&&self&&self.Object===Object&&self,o3=St||_a||Function("return this")(),d4=m&&!m.nodeType&&m,$4=d4&&x3&&!x3.nodeType&&x3,s8=$4&&$4.exports===d4,vr=s8&&St.process,e3=function(){try{return $4&&$4.require&&$4.require("util").types||vr&&vr.binding&&vr.binding("util")}catch(p2){}}(),l8=e3&&e3.isArrayBuffer,Pi=e3&&e3.isDate,jr=e3&&e3.isMap,Ao=e3&&e3.isRegExp,Ps=e3&&e3.isSet,h4=e3&&e3.isTypedArray;function yr($1,p2,u2){switch(u2.length){case 0:return $1.call(p2);case 1:return $1.call(p2,u2[0]);case 2:return $1.call(p2,u2[0],u2[1]);case 3:return $1.call(p2,u2[0],u2[1],u2[2])}return $1.apply(p2,u2)}function wn($1,p2,u2,K2){for(var Ot=-1,xn=null==$1?0:$1.length;++Ot<xn;){var g3=$1[Ot];p2(K2,g3,u2(g3),$1)}return K2}function _r($1,p2){for(var u2=-1,K2=null==$1?0:$1.length;++u2<K2&&!1!==p2($1[u2],u2,$1););return $1}function si($1,p2){for(var u2=null==$1?0:$1.length;u2--&&!1!==p2($1[u2],u2,$1););return $1}function p4($1,p2){for(var u2=-1,K2=null==$1?0:$1.length;++u2<K2;)if(!p2($1[u2],u2,$1))return!1;return!0}function dn($1,p2){for(var u2=-1,K2=null==$1?0:$1.length,Ot=0,xn=[];++u2<K2;){var g3=$1[u2];p2(g3,u2,$1)&&(xn[Ot++]=g3)}return xn}function ba($1,p2){return!(null==$1||!$1.length)&&en($1,p2,0)>-1}function Ri($1,p2,u2){for(var K2=-1,Ot=null==$1?0:$1.length;++K2<Ot;)if(u2(p2,$1[K2]))return!0;return!1}function Pn($1,p2){for(var u2=-1,K2=null==$1?0:$1.length,Ot=Array(K2);++u2<K2;)Ot[u2]=p2($1[u2],u2,$1);return Ot}function C4($1,p2){for(var u2=-1,K2=p2.length,Ot=$1.length;++u2<K2;)$1[Ot+u2]=p2[u2];return $1}function zr($1,p2,u2,K2){var Ot=-1,xn=null==$1?0:$1.length;for(K2&&xn&&(u2=$1[++Ot]);++Ot<xn;)u2=p2(u2,$1[Ot],Ot,$1);return u2}function Fi($1,p2,u2,K2){var Ot=null==$1?0:$1.length;for(K2&&Ot&&(u2=$1[--Ot]);Ot--;)u2=p2(u2,$1[Ot],Ot,$1);return u2}function Rs($1,p2){for(var u2=-1,K2=null==$1?0:$1.length;++u2<K2;)if(p2($1[u2],u2,$1))return!0;return!1}var Hn=E3("length");function Fs($1,p2,u2){var K2;return u2($1,function(Ot,xn,g3){if(p2(Ot,xn,g3))return K2=xn,!1}),K2}function Bi($1,p2,u2,K2){for(var Ot=$1.length,xn=u2+(K2?1:-1);K2?xn--:++xn<Ot;)if(p2($1[xn],xn,$1))return xn;return-1}function en($1,p2,u2){return p2==p2?function Bs($1,p2,u2){for(var K2=u2-1,Ot=$1.length;++K2<Ot;)if($1[K2]===p2)return K2;return-1}($1,p2,u2):Bi($1,ko,u2)}function C6($1,p2,u2,K2){for(var Ot=u2-1,xn=$1.length;++Ot<xn;)if(K2($1[Ot],p2))return Ot;return-1}function ko($1){return $1!=$1}function U2($1,p2){var u2=null==$1?0:$1.length;return u2?fr($1,p2)/u2:K}function E3($1){return function(p2){return null==p2?o:p2[$1]}}function Yn($1){return function(p2){return null==$1?o:$1[p2]}}function g4($1,p2,u2,K2,Ot){return Ot($1,function(xn,g3,Vn){u2=K2?(K2=!1,xn):p2(u2,xn,g3,Vn)}),u2}function fr($1,p2){for(var u2,K2=-1,Ot=$1.length;++K2<Ot;){var xn=p2($1[K2]);xn!==o&&(u2=u2===o?xn:u2+xn)}return u2}function li($1,p2){for(var u2=-1,K2=Array($1);++u2<$1;)K2[u2]=p2(u2);return K2}function ci($1){return $1&&$1.slice(0,Sa($1)+1).replace(e1,"")}function j3($1){return function(p2){return $1(p2)}}function A4($1,p2){return Pn(p2,function(u2){return $1[u2]})}function C3($1,p2){return $1.has(p2)}function g6($1,p2){for(var u2=-1,K2=$1.length;++u2<K2&&en(p2,$1[u2],0)>-1;);return u2}function br($1,p2){for(var u2=$1.length;u2--&&en(p2,$1[u2],0)>-1;);return u2}function tt($1,p2){for(var u2=$1.length,K2=0;u2--;)$1[u2]===p2&&++K2;return K2}var Gt=Yn({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Nn=Yn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function t3($1){return"\\"+oi[$1]}function Kn($1){return ot.test($1)}function W4($1){var p2=-1,u2=Array($1.size);return $1.forEach(function(K2,Ot){u2[++p2]=[Ot,K2]}),u2}function wa($1,p2){return function(u2){return $1(p2(u2))}}function Vt($1,p2){for(var u2=-1,K2=$1.length,Ot=0,xn=[];++u2<K2;){var g3=$1[u2];(g3===p2||g3===u)&&($1[u2]=u,xn[Ot++]=u2)}return xn}function Da($1){var p2=-1,u2=Array($1.size);return $1.forEach(function(K2){u2[++p2]=K2}),u2}function l3($1){return Kn($1)?function Rn($1){for(var p2=er.lastIndex=0;er.test($1);)++p2;return p2}($1):Hn($1)}function tr($1){return Kn($1)?function m6($1){return $1.match(er)||[]}($1):function c8($1){return $1.split("")}($1)}function Sa($1){for(var p2=$1.length;p2--&&d1.test($1.charAt(p2)););return p2}var Gr=Yn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),G3=function $1(p2){var f,u2=(p2=null==p2?o3:G3.defaults(o3.Object(),p2,G3.pick(o3,wt))).Array,K2=p2.Date,Ot=p2.Error,xn=p2.Function,g3=p2.Math,Vn=p2.Object,No=p2.RegExp,C7=p2.String,$r=p2.TypeError,Ui=u2.prototype,Y4=Vn.prototype,fi=p2["__core-js_shared__"],Us=xn.prototype.toString,Dn=Y4.hasOwnProperty,d8=0,h8=(f=/[^.]+$/.exec(fi&&fi.keys&&fi.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"",js=Y4.toString,p8=Us.call(Vn),C8=o3._,Eo=No("^"+Us.call(Dn).replace(ye,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K4=s8?p2.Buffer:o,Ta=p2.Symbol,di=p2.Uint8Array,g8=K4?K4.allocUnsafe:o,v4=wa(Vn.getPrototypeOf,Vn),v6=Vn.create,Zn=Y4.propertyIsEnumerable,ji=Ui.splice,Gi=Ta?Ta.isConcatSpreadable:o,$i=Ta?Ta.iterator:o,Z4=Ta?Ta.toStringTag:o,hi=function(){try{var f=to(Vn,"defineProperty");return f({},"",{}),f}catch(x){}}(),y6=p2.clearTimeout!==o3.clearTimeout&&p2.clearTimeout,Gs=K2&&K2.now!==o3.Date.now&&K2.now,Oo=p2.setTimeout!==o3.setTimeout&&p2.setTimeout,T3=g3.ceil,Ha=g3.floor,Io=Vn.getOwnPropertySymbols,Wi=K4?K4.isBuffer:o,Nr=p2.isFinite,_6=Ui.join,qi=wa(Vn.keys,Vn),c3=g3.max,u3=g3.min,b6=K2.now,Jn=p2.parseInt,dr=g3.random,M6=Ui.reverse,Xn=to(p2,"DataView"),Er=to(p2,"Map"),Po=to(p2,"Promise"),Wr=to(p2,"Set"),O3=to(p2,"WeakMap"),pi=to(Vn,"create"),Va=O3&&new O3,Or={},Mr=ro(Xn),$s=ro(Er),Ws=ro(Po),m8=ro(Wr),J4=ro(O3),Ci=Ta?Ta.prototype:o,X4=Ci?Ci.valueOf:o,Dt=Ci?Ci.toString:o;function Ze(f){if(lt(f)&&!Xt(f)&&!(f instanceof Rt)){if(f instanceof $3)return f;if(Dn.call(f,"__wrapped__"))return I8(f)}return new $3(f)}var k4=function(){function f(){}return function(x){if(!h3(x))return{};if(v6)return v6(x);f.prototype=x;var Z=new f;return f.prototype=o,Z}}();function Yi(){}function $3(f,x){this.__wrapped__=f,this.__actions__=[],this.__chain__=!!x,this.__index__=0,this.__values__=o}function Rt(f){this.__wrapped__=f,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=le,this.__views__=[]}function $t(f){var x=-1,Z=null==f?0:f.length;for(this.clear();++x<Z;){var Le=f[x];this.set(Le[0],Le[1])}}function qr(f){var x=-1,Z=null==f?0:f.length;for(this.clear();++x<Z;){var Le=f[x];this.set(Le[0],Le[1])}}function v(f){var x=-1,Z=null==f?0:f.length;for(this.clear();++x<Z;){var Le=f[x];this.set(Le[0],Le[1])}}function _e(f){var x=-1,Z=null==f?0:f.length;for(this.__data__=new v;++x<Z;)this.add(f[x])}function He(f){var x=this.__data__=new qr(f);this.size=x.size}function p1(f,x){var Z=Xt(f),Le=!Z&&_i(f),Ne=!Z&&!Le&&bi(f),o1=!Z&&!Le&&!Ne&&b0(f),m1=Z||Le||Ne||o1,E1=m1?li(f.length,C7):[],Z1=E1.length;for(var M2 in f)(x||Dn.call(f,M2))&&(!m1||!("length"==M2||Ne&&("offset"==M2||"parent"==M2)||o1&&("buffer"==M2||"byteLength"==M2||"byteOffset"==M2)||yi(M2,Z1)))&&E1.push(M2);return E1}function x1(f){var x=f.length;return x?f[q3(0,x-1)]:o}function u1(f,x){return F6(Jr(f),gt(x,0,f.length))}function F1(f){return F6(Jr(f))}function D1(f,x,Z){(Z!==o&&!E4(f[x],Z)||Z===o&&!(x in f))&&H2(f,x,Z)}function h1(f,x,Z){var Le=f[x];(!Dn.call(f,x)||!E4(Le,Z)||Z===o&&!(x in f))&&H2(f,x,Z)}function n2(f,x){for(var Z=f.length;Z--;)if(E4(f[Z][0],x))return Z;return-1}function o2(f,x,Z,Le){return q2(f,function(Ne,o1,m1){x(Le,Ne,Z(Ne),m1)}),Le}function v2(f,x){return f&&N4(x,K3(x),f)}function H2(f,x,Z){"__proto__"==x&&hi?hi(f,x,{configurable:!0,enumerable:!0,value:Z,writable:!0}):f[x]=Z}function Z2(f,x){for(var Z=-1,Le=x.length,Ne=u2(Le),o1=null==f;++Z<Le;)Ne[Z]=o1?o:x0(f,x[Z]);return Ne}function gt(f,x,Z){return f==f&&(Z!==o&&(f=f<=Z?f:Z),x!==o&&(f=f>=x?f:x)),f}function j2(f,x,Z,Le,Ne,o1){var m1,E1=1&x,Z1=2&x,M2=4&x;if(Z&&(m1=Ne?Z(f,Le,Ne,o1):Z(f)),m1!==o)return m1;if(!h3(f))return f;var x2=Xt(f);if(x2){if(m1=function O6(f){var x=f.length,Z=new f.constructor(x);return x&&"string"==typeof f[0]&&Dn.call(f,"index")&&(Z.index=f.index,Z.input=f.input),Z}(f),!E1)return Jr(f,m1)}else{var V2=xr(f),nt=V2==ue||V2==he;if(bi(f))return Ko(f,E1);if(V2==ze||V2==re||nt&&!Ne){if(m1=Z1||nt?{}:I6(f),!E1)return Z1?function Ud(f,x){return N4(f,z7(f),x)}(f,function D2(f,x){return f&&N4(x,w3(x),f)}(m1,f)):function Bd(f,x){return N4(f,E6(f),x)}(f,v2(m1,f))}else{if(!In[V2])return Ne?f:{};m1=function es(f,x,Z){var Le=f.constructor;switch(x){case Ye:return H6(f);case J:case R:return new Le(+f);case Oe:return function Pd(f,x){var Z=x?H6(f.buffer):f.buffer;return new f.constructor(Z,f.byteOffset,f.byteLength)}(f,Z);case Ie:case Qe:case n1:case Ke:case r1:case f1:case Je:case g1:case b1:return Fd(f,Z);case Me:return new Le;case be:case Ue:return new Le(f);case t1:return function Rd(f){var x=new f.constructor(f.source,V1.exec(f));return x.lastIndex=f.lastIndex,x}(f);case Xe:return new Le;case xe:return function Fy(f){return X4?Vn(X4.call(f)):{}}(f)}}(f,V2,E1)}}o1||(o1=new He);var Ct=o1.get(f);if(Ct)return Ct;o1.set(f,m1),Q6(f)?f.forEach(function(Ht){m1.add(j2(Ht,x,Z,Ht,f,o1))}):$e(f)&&f.forEach(function(Ht,Cn){m1.set(Cn,j2(Ht,x,Z,Cn,f,o1))});var on=x2?o:(M2?Z1?s0:N6:Z1?w3:K3)(f);return _r(on||f,function(Ht,Cn){on&&(Ht=f[Cn=Ht]),h1(m1,Cn,j2(Ht,x,Z,Cn,f,o1))}),m1}function An(f,x,Z){var Le=Z.length;if(null==f)return!Le;for(f=Vn(f);Le--;){var Ne=Z[Le],m1=f[Ne];if(m1===o&&!(Ne in f)||!(0,x[Ne])(m1))return!1}return!0}function Gn(f,x,Z){if("function"!=typeof f)throw new $r(c);return f0(function(){f.apply(o,Z)},x)}function b2(f,x,Z,Le){var Ne=-1,o1=ba,m1=!0,E1=f.length,Z1=[],M2=x.length;if(!E1)return Z1;Z&&(x=Pn(x,j3(Z))),Le?(o1=Ri,m1=!1):x.length>=200&&(o1=C3,m1=!1,x=new _e(x));e:for(;++Ne<E1;){var x2=f[Ne],V2=null==Z?x2:Z(x2);if(x2=Le||0!==x2?x2:0,m1&&V2==V2){for(var nt=M2;nt--;)if(x[nt]===V2)continue e;Z1.push(x2)}else o1(x,V2,Le)||Z1.push(x2)}return Z1}Ze.templateSettings={escape:Q1,evaluate:l2,interpolate:G1,variable:"",imports:{_:Ze}},(Ze.prototype=Yi.prototype).constructor=Ze,($3.prototype=k4(Yi.prototype)).constructor=$3,(Rt.prototype=k4(Yi.prototype)).constructor=Rt,$t.prototype.clear=function $2(){this.__data__=pi?pi(null):{},this.size=0},$t.prototype.delete=function d3(f){var x=this.has(f)&&delete this.__data__[f];return this.size-=x?1:0,x},$t.prototype.get=function Ki(f){var x=this.__data__;if(pi){var Z=x[f];return Z===d?o:Z}return Dn.call(x,f)?x[f]:o},$t.prototype.has=function gi(f){var x=this.__data__;return pi?x[f]!==o:Dn.call(x,f)},$t.prototype.set=function y4(f,x){var Z=this.__data__;return this.size+=this.has(f)?0:1,Z[f]=pi&&x===o?d:x,this},qr.prototype.clear=function qs(){this.__data__=[],this.size=0},qr.prototype.delete=function g7(f){var x=this.__data__,Z=n2(x,f);return!(Z<0||(Z==x.length-1?x.pop():ji.call(x,Z,1),--this.size,0))},qr.prototype.get=function Ys(f){var x=this.__data__,Z=n2(x,f);return Z<0?o:x[Z][1]},qr.prototype.has=function Fo(f){return n2(this.__data__,f)>-1},qr.prototype.set=function Bo(f,x){var Z=this.__data__,Le=n2(Z,f);return Le<0?(++this.size,Z.push([f,x])):Z[Le][1]=x,this},v.prototype.clear=function A(){this.size=0,this.__data__={hash:new $t,map:new(Er||qr),string:new $t}},v.prototype.delete=function U(f){var x=Ra(this,f).delete(f);return this.size-=x?1:0,x},v.prototype.get=function Q(f){return Ra(this,f).get(f)},v.prototype.has=function se(f){return Ra(this,f).has(f)},v.prototype.set=function Ce(f,x){var Z=Ra(this,f),Le=Z.size;return Z.set(f,x),this.size+=Z.size==Le?0:1,this},_e.prototype.add=_e.prototype.push=function Te(f){return this.__data__.set(f,d),this},_e.prototype.has=function Se(f){return this.__data__.has(f)},He.prototype.clear=function Ee(){this.__data__=new qr,this.size=0},He.prototype.delete=function a1(f){var x=this.__data__,Z=x.delete(f);return this.size=x.size,Z},He.prototype.get=function s1(f){return this.__data__.get(f)},He.prototype.has=function v1(f){return this.__data__.has(f)},He.prototype.set=function k1(f,x){var Z=this.__data__;if(Z instanceof qr){var Le=Z.__data__;if(!Er||Le.length<199)return Le.push([f,x]),this.size=++Z.size,this;Z=this.__data__=new v(Le)}return Z.set(f,x),this.size=Z.size,this};var q2=w7(jn),Mt=w7(m3,!0);function bt(f,x){var Z=!0;return q2(f,function(Le,Ne,o1){return Z=!!x(Le,Ne,o1)}),Z}function Zt(f,x,Z){for(var Le=-1,Ne=f.length;++Le<Ne;){var o1=f[Le],m1=x(o1);if(null!=m1&&(E1===o?m1==m1&&!Pr(m1):Z(m1,E1)))var E1=m1,Z1=o1}return Z1}function cn(f,x){var Z=[];return q2(f,function(Le,Ne,o1){x(Le,Ne,o1)&&Z.push(Le)}),Z}function Jt(f,x,Z,Le,Ne){var o1=-1,m1=f.length;for(Z||(Z=Wd),Ne||(Ne=[]);++o1<m1;){var E1=f[o1];x>0&&Z(E1)?x>1?Jt(E1,x-1,Z,Le,Ne):C4(Ne,E1):Le||(Ne[Ne.length]=E1)}return Ne}var L3=T8(),H3=T8(!0);function jn(f,x){return f&&L3(f,x,K3)}function m3(f,x){return f&&H3(f,x,K3)}function V3(f,x){return dn(x,function(Z){return aa(f[Z])})}function W3(f,x){for(var Z=0,Le=(x=P3(x,f)).length;null!=f&&Z<Le;)f=f[Fa(x[Z++])];return Z&&Z==Le?f:o}function Aa(f,x,Z){var Le=x(f);return Xt(f)?Le:C4(Le,Z(f))}function kn(f){return null==f?f===o?"[object Undefined]":"[object Null]":Z4&&Z4 in Vn(f)?function By(f){var x=Dn.call(f,Z4),Z=f[Z4];try{f[Z4]=o;var Le=!0}catch(o1){}var Ne=js.call(f);return Le&&(x?f[Z4]=Z:delete f[Z4]),Ne}(f):function ta(f){return js.call(f)}(f)}function n3(f,x){return f>x}function hr(f,x){return null!=f&&Dn.call(f,x)}function Yr(f,x){return null!=f&&x in Vn(f)}function z4(f,x,Z){for(var Le=Z?Ri:ba,Ne=f[0].length,o1=f.length,m1=o1,E1=u2(o1),Z1=1/0,M2=[];m1--;){var x2=f[m1];m1&&x&&(x2=Pn(x2,j3(x))),Z1=u3(x2.length,Z1),E1[m1]=!Z&&(x||Ne>=120&&x2.length>=120)?new _e(m1&&x2):o}x2=f[0];var V2=-1,nt=E1[0];e:for(;++V2<Ne&&M2.length<Z1;){var Ct=x2[V2],At=x?x(Ct):Ct;if(Ct=Z||0!==Ct?Ct:0,!(nt?C3(nt,At):Le(M2,At,Z))){for(m1=o1;--m1;){var on=E1[m1];if(!(on?C3(on,At):Le(f[m1],At,Z)))continue e}nt&&nt.push(At),M2.push(Ct)}}return M2}function I3(f,x,Z){var Le=null==(f=R7(f,x=P3(x,f)))?f:f[Fa(Qr(x))];return null==Le?o:yr(Le,f,Z)}function Zi(f){return lt(f)&&kn(f)==re}function mi(f,x,Z,Le,Ne){return f===x||(null==f||null==x||!lt(f)&&!lt(x)?f!=f&&x!=x:function Py(f,x,Z,Le,Ne,o1){var m1=Xt(f),E1=Xt(x),Z1=m1?F:xr(f),M2=E1?F:xr(x),x2=(Z1=Z1==re?ze:Z1)==ze,V2=(M2=M2==re?ze:M2)==ze,nt=Z1==M2;if(nt&&bi(f)){if(!bi(x))return!1;m1=!0,x2=!1}if(nt&&!x2)return o1||(o1=new He),m1||b0(f)?Ia(f,x,Z,Le,Ne,o1):function k7(f,x,Z,Le,Ne,o1,m1){switch(Z){case Oe:if(f.byteLength!=x.byteLength||f.byteOffset!=x.byteOffset)return!1;f=f.buffer,x=x.buffer;case Ye:return!(f.byteLength!=x.byteLength||!o1(new di(f),new di(x)));case J:case R:case be:return E4(+f,+x);case fe:return f.name==x.name&&f.message==x.message;case t1:case Ue:return f==x+"";case Me:var E1=W4;case Xe:if(E1||(E1=Da),f.size!=x.size&&!(1&Le))return!1;var M2=m1.get(f);if(M2)return M2==x;Le|=2,m1.set(f,x);var x2=Ia(E1(f),E1(x),Le,Ne,o1,m1);return m1.delete(f),x2;case xe:if(X4)return X4.call(f)==X4.call(x)}return!1}(f,x,Z1,Z,Le,Ne,o1);if(!(1&Z)){var Ct=x2&&Dn.call(f,"__wrapped__"),At=V2&&Dn.call(x,"__wrapped__");if(Ct||At){var on=Ct?f.value():f,Ht=At?x.value():x;return o1||(o1=new He),Ne(on,Ht,Z,Le,o1)}}return!!nt&&(o1||(o1=new He),function o0(f,x,Z,Le,Ne,o1){var m1=1&Z,E1=N6(f),Z1=E1.length;if(Z1!=N6(x).length&&!m1)return!1;for(var V2=Z1;V2--;){var nt=E1[V2];if(!(m1?nt in x:Dn.call(x,nt)))return!1}var Ct=o1.get(f),At=o1.get(x);if(Ct&&At)return Ct==x&&At==f;var on=!0;o1.set(f,x),o1.set(x,f);for(var Ht=m1;++V2<Z1;){var Cn=f[nt=E1[V2]],gn=x[nt];if(Le)var r4=m1?Le(gn,Cn,nt,x,f,o1):Le(Cn,gn,nt,f,x,o1);if(!(r4===o?Cn===gn||Ne(Cn,gn,Z,Le,o1):r4)){on=!1;break}Ht||(Ht="constructor"==nt)}if(on&&!Ht){var wr=f.constructor,L4=x.constructor;wr!=L4&&"constructor"in f&&"constructor"in x&&!("function"==typeof wr&&wr instanceof wr&&"function"==typeof L4&&L4 instanceof L4)&&(on=!1)}return o1.delete(f),o1.delete(x),on}(f,x,Z,Le,Ne,o1))}(f,x,Z,Le,mi,Ne))}function x6(f,x,Z,Le){var Ne=Z.length,o1=Ne,m1=!Le;if(null==f)return!o1;for(f=Vn(f);Ne--;){var E1=Z[Ne];if(m1&&E1[2]?E1[1]!==f[E1[0]]:!(E1[0]in f))return!1}for(;++Ne<o1;){var Z1=(E1=Z[Ne])[0],M2=f[Z1],x2=E1[1];if(m1&&E1[2]){if(M2===o&&!(Z1 in f))return!1}else{var V2=new He;if(Le)var nt=Le(M2,x2,Z1,f,x,V2);if(!(nt===o?mi(x2,M2,3,Le,V2):nt))return!1}}return!0}function v7(f){return!(!h3(f)||function O7(f){return!!h8&&h8 in f}(f))&&(aa(f)?Eo:z1).test(ro(f))}function L6(f){return"function"==typeof f?f:null==f?Rr:"object"==typeof f?Xt(f)?x8(f[0],f[1]):M8(f):kl(f)}function Uo(f){if(!u0(f))return qi(f);var x=[];for(var Z in Vn(f))Dn.call(f,Z)&&"constructor"!=Z&&x.push(Z);return x}function _8(f,x){return f<x}function b8(f,x){var Z=-1,Le=Ir(f)?u2(f.length):[];return q2(f,function(Ne,o1,m1){Le[++Z]=x(Ne,o1,m1)}),Le}function M8(f){var x=eo(f);return 1==x.length&&x[0][2]?P7(x[0][0],x[0][1]):function(Z){return Z===f||x6(Z,f,x)}}function x8(f,x){return c0(f)&&I7(x)?P7(Fa(f),x):function(Z){var Le=x0(Z,f);return Le===o&&Le===x?n5(Z,f):mi(x,Le,3)}}function Zs(f,x,Z,Le,Ne){f!==x&&L3(x,function(o1,m1){if(Ne||(Ne=new He),h3(o1))!function Ed(f,x,Z,Le,Ne,o1,m1){var E1=O8(f,Z),Z1=O8(x,Z),M2=m1.get(Z1);if(M2)D1(f,Z,M2);else{var x2=o1?o1(E1,Z1,Z+"",f,x,m1):o,V2=x2===o;if(V2){var nt=Xt(Z1),Ct=!nt&&bi(Z1),At=!nt&&!Ct&&b0(Z1);x2=Z1,nt||Ct||At?Xt(E1)?x2=E1:v3(E1)?x2=Jr(E1):Ct?(V2=!1,x2=Ko(Z1,!0)):At?(V2=!1,x2=Fd(Z1,!0)):x2=[]:t4(Z1)||_i(Z1)?(x2=E1,_i(E1)?x2=pl(E1):(!h3(E1)||aa(E1))&&(x2=I6(Z1))):V2=!1}V2&&(m1.set(Z1,x2),Ne(x2,Z1,Le,o1,m1),m1.delete(Z1)),D1(f,Z,x2)}}(f,x,m1,Z,Zs,Le,Ne);else{var E1=Le?Le(O8(f,m1),o1,m1+"",f,x,Ne):o;E1===o&&(E1=o1),D1(f,m1,E1)}},w3)}function y7(f,x){var Z=f.length;if(Z)return yi(x+=x<0?Z:0,Z)?f[x]:o}function Js(f,x,Z){x=x.length?Pn(x,function(o1){return Xt(o1)?function(m1){return W3(m1,1===o1.length?o1[0]:o1)}:o1}):[Rr];var Le=-1;return x=Pn(x,j3(Tt())),function Ma($1,p2){var u2=$1.length;for($1.sort(p2);u2--;)$1[u2]=$1[u2].value;return $1}(b8(f,function(o1,m1,E1){return{criteria:Pn(x,function(M2){return M2(o1)}),index:++Le,value:o1}}),function(o1,m1){return function Zr(f,x,Z){for(var Le=-1,Ne=f.criteria,o1=x.criteria,m1=Ne.length,E1=Z.length;++Le<m1;){var Z1=S8(Ne[Le],o1[Le]);if(Z1)return Le>=E1?Z1:Z1*("desc"==Z[Le]?-1:1)}return f.index-x.index}(o1,m1,Z)})}function _7(f,x,Z){for(var Le=-1,Ne=x.length,o1={};++Le<Ne;){var m1=x[Le],E1=W3(f,m1);Z(E1,m1)&&$o(o1,P3(m1,f),E1)}return o1}function D6(f,x,Z,Le){var Ne=Le?C6:en,o1=-1,m1=x.length,E1=f;for(f===x&&(x=Jr(x)),Z&&(E1=Pn(f,j3(Z)));++o1<m1;)for(var Z1=0,M2=x[o1],x2=Z?Z(M2):M2;(Z1=Ne(E1,x2,Z1,Le))>-1;)E1!==f&&ji.call(E1,Z1,1),ji.call(f,Z1,1);return f}function Ji(f,x){for(var Z=f?x.length:0,Le=Z-1;Z--;){var Ne=x[Z];if(Z==Le||Ne!==o1){var o1=Ne;yi(Ne)?ji.call(f,Ne,1):x7(f,Ne)}}return f}function q3(f,x){return f+Ha(dr()*(x-f+1))}function za(f,x){var Z="";if(!f||x<1||x>me)return Z;do{x%2&&(Z+=f),(x=Ha(x/2))&&(f+=f)}while(x);return Z}function Wt(f,x){return R6(E8(f,x,Rr),f+"")}function jo(f){return x1(xi(f))}function Go(f,x){var Z=xi(f);return F6(Z,gt(x,0,Z.length))}function $o(f,x,Z,Le){if(!h3(f))return f;for(var Ne=-1,o1=(x=P3(x,f)).length,m1=o1-1,E1=f;null!=E1&&++Ne<o1;){var Z1=Fa(x[Ne]),M2=Z;if("__proto__"===Z1||"constructor"===Z1||"prototype"===Z1)return f;if(Ne!=m1){var x2=E1[Z1];(M2=Le?Le(x2,Z1,E1):o)===o&&(M2=h3(x2)?x2:yi(x[Ne+1])?[]:{})}h1(E1,Z1,M2),E1=E1[Z1]}return f}var S6=Va?function(f,x){return Va.set(f,x),f}:Rr,Wo=hi?function(f,x){return hi(f,"toString",{configurable:!0,enumerable:!1,value:wl(x),writable:!0})}:Rr;function Ry(f){return F6(xi(f))}function _4(f,x,Z){var Le=-1,Ne=f.length;x<0&&(x=-x>Ne?0:Ne+x),(Z=Z>Ne?Ne:Z)<0&&(Z+=Ne),Ne=x>Z?0:Z-x>>>0,x>>>=0;for(var o1=u2(Ne);++Le<Ne;)o1[Le]=f[Le+x];return o1}function tn(f,x){var Z;return q2(f,function(Le,Ne,o1){return!(Z=x(Le,Ne,o1))}),!!Z}function T6(f,x,Z){var Le=0,Ne=null==f?Le:f.length;if("number"==typeof x&&x==x&&Ne<=2147483647){for(;Le<Ne;){var o1=Le+Ne>>>1,m1=f[o1];null!==m1&&!Pr(m1)&&(Z?m1<=x:m1<x)?Le=o1+1:Ne=o1}return Ne}return M7(f,x,Rr,Z)}function M7(f,x,Z,Le){var Ne=0,o1=null==f?0:f.length;if(0===o1)return 0;for(var m1=(x=Z(x))!=x,E1=null===x,Z1=Pr(x),M2=x===o;Ne<o1;){var x2=Ha((Ne+o1)/2),V2=Z(f[x2]),nt=V2!==o,Ct=null===V2,At=V2==V2,on=Pr(V2);if(m1)var Ht=Le||At;else Ht=M2?At&&(Le||nt):E1?At&&nt&&(Le||!Ct):Z1?At&&nt&&!Ct&&(Le||!on):!Ct&&!on&&(Le?V2<=x:V2<x);Ht?Ne=x2+1:o1=x2}return u3(o1,4294967294)}function Od(f,x){for(var Z=-1,Le=f.length,Ne=0,o1=[];++Z<Le;){var m1=f[Z],E1=x?x(m1):m1;if(!Z||!E4(E1,Z1)){var Z1=E1;o1[Ne++]=0===m1?0:m1}}return o1}function Id(f){return"number"==typeof f?f:Pr(f)?K:+f}function b4(f){if("string"==typeof f)return f;if(Xt(f))return Pn(f,b4)+"";if(Pr(f))return Dt?Dt.call(f):"";var x=f+"";return"0"==x&&1/f==-ce?"-0":x}function Xi(f,x,Z){var Le=-1,Ne=ba,o1=f.length,m1=!0,E1=[],Z1=E1;if(Z)m1=!1,Ne=Ri;else if(o1>=200){var M2=x?null:N8(f);if(M2)return Da(M2);m1=!1,Ne=C3,Z1=new _e}else Z1=x?[]:E1;e:for(;++Le<o1;){var x2=f[Le],V2=x?x(x2):x2;if(x2=Z||0!==x2?x2:0,m1&&V2==V2){for(var nt=Z1.length;nt--;)if(Z1[nt]===V2)continue e;x&&Z1.push(V2),E1.push(x2)}else Ne(Z1,V2,Z)||(Z1!==E1&&Z1.push(V2),E1.push(x2))}return E1}function x7(f,x){return null==(f=R7(f,x=P3(x,f)))||delete f[Fa(Qr(x))]}function qo(f,x,Z,Le){return $o(f,x,Z(W3(f,x)),Le)}function w8(f,x,Z,Le){for(var Ne=f.length,o1=Le?Ne:-1;(Le?o1--:++o1<Ne)&&x(f[o1],o1,f););return Z?_4(f,Le?0:o1,Le?o1+1:Ne):_4(f,Le?o1+1:0,Le?Ne:o1)}function A3(f,x){var Z=f;return Z instanceof Rt&&(Z=Z.value()),zr(x,function(Le,Ne){return Ne.func.apply(Ne.thisArg,C4([Le],Ne.args))},Z)}function Qs(f,x,Z){var Le=f.length;if(Le<2)return Le?Xi(f[0]):[];for(var Ne=-1,o1=u2(Le);++Ne<Le;)for(var m1=f[Ne],E1=-1;++E1<Le;)E1!=Ne&&(o1[Ne]=b2(o1[Ne]||m1,f[E1],x,Z));return Xi(Jt(o1,1),x,Z)}function Yo(f,x,Z){for(var Le=-1,Ne=f.length,o1=x.length,m1={};++Le<Ne;)Z(m1,f[Le],Le<o1?x[Le]:o);return m1}function L7(f){return v3(f)?f:[]}function D8(f){return"function"==typeof f?f:Rr}function P3(f,x){return Xt(f)?f:c0(f,x)?[f]:j7(En(f))}var ea=Wt;function Na(f,x,Z){var Le=f.length;return Z=Z===o?Le:Z,!x&&Z>=Le?f:_4(f,x,Z)}var e0=y6||function(f){return o3.clearTimeout(f)};function Ko(f,x){if(x)return f.slice();var Z=f.length,Le=g8?g8(Z):new f.constructor(Z);return f.copy(Le),Le}function H6(f){var x=new f.constructor(f.byteLength);return new di(x).set(new di(f)),x}function Fd(f,x){var Z=x?H6(f.buffer):f.buffer;return new f.constructor(Z,f.byteOffset,f.length)}function S8(f,x){if(f!==x){var Z=f!==o,Le=null===f,Ne=f==f,o1=Pr(f),m1=x!==o,E1=null===x,Z1=x==x,M2=Pr(x);if(!E1&&!M2&&!o1&&f>x||o1&&m1&&Z1&&!E1&&!M2||Le&&m1&&Z1||!Z&&Z1||!Ne)return 1;if(!Le&&!o1&&!M2&&f<x||M2&&Z&&Ne&&!Le&&!o1||E1&&Z&&Ne||!m1&&Ne||!Z1)return-1}return 0}function V6(f,x,Z,Le){for(var Ne=-1,o1=f.length,m1=Z.length,E1=-1,Z1=x.length,M2=c3(o1-m1,0),x2=u2(Z1+M2),V2=!Le;++E1<Z1;)x2[E1]=x[E1];for(;++Ne<m1;)(V2||Ne<o1)&&(x2[Z[Ne]]=f[Ne]);for(;M2--;)x2[E1++]=f[Ne++];return x2}function Qi(f,x,Z,Le){for(var Ne=-1,o1=f.length,m1=-1,E1=Z.length,Z1=-1,M2=x.length,x2=c3(o1-E1,0),V2=u2(x2+M2),nt=!Le;++Ne<x2;)V2[Ne]=f[Ne];for(var Ct=Ne;++Z1<M2;)V2[Ct+Z1]=x[Z1];for(;++m1<E1;)(nt||Ne<o1)&&(V2[Ct+Z[m1]]=f[Ne++]);return V2}function Jr(f,x){var Z=-1,Le=f.length;for(x||(x=u2(Le));++Z<Le;)x[Z]=f[Z];return x}function N4(f,x,Z,Le){var Ne=!Z;Z||(Z={});for(var o1=-1,m1=x.length;++o1<m1;){var E1=x[o1],Z1=Le?Le(Z[E1],f[E1],E1,Z,f):o;Z1===o&&(Z1=f[E1]),Ne?H2(Z,E1,Z1):h1(Z,E1,Z1)}return Z}function A6(f,x){return function(Z,Le){var Ne=Xt(Z)?wn:o2,o1=x?x():{};return Ne(Z,f,Tt(Le,2),o1)}}function Zo(f){return Wt(function(x,Z){var Le=-1,Ne=Z.length,o1=Ne>1?Z[Ne-1]:o,m1=Ne>2?Z[2]:o;for(o1=f.length>3&&"function"==typeof o1?(Ne--,o1):o,m1&&Y3(Z[0],Z[1],m1)&&(o1=Ne<3?o:o1,Ne=1),x=Vn(x);++Le<Ne;){var E1=Z[Le];E1&&f(x,E1,Le,o1)}return x})}function w7(f,x){return function(Z,Le){if(null==Z)return Z;if(!Ir(Z))return f(Z,Le);for(var Ne=Z.length,o1=x?Ne:-1,m1=Vn(Z);(x?o1--:++o1<Ne)&&!1!==Le(m1[o1],o1,m1););return Z}}function T8(f){return function(x,Z,Le){for(var Ne=-1,o1=Vn(x),m1=Le(x),E1=m1.length;E1--;){var Z1=m1[f?E1:++Ne];if(!1===Z(o1[Z1],Z1,o1))break}return x}}function t0(f){return function(x){var Z=Kn(x=En(x))?tr(x):o,Le=Z?Z[0]:x.charAt(0),Ne=Z?Na(Z,1).join(""):x.slice(1);return Le[f]()+Ne}}function n0(f){return function(x){return zr(a5(xl(x).replace(Kt,"")),f,"")}}function Ea(f){return function(){var x=arguments;switch(x.length){case 0:return new f;case 1:return new f(x[0]);case 2:return new f(x[0],x[1]);case 3:return new f(x[0],x[1],x[2]);case 4:return new f(x[0],x[1],x[2],x[3]);case 5:return new f(x[0],x[1],x[2],x[3],x[4]);case 6:return new f(x[0],x[1],x[2],x[3],x[4],x[5]);case 7:return new f(x[0],x[1],x[2],x[3],x[4],x[5],x[6])}var Z=k4(f.prototype),Le=f.apply(Z,x);return h3(Le)?Le:Z}}function r0(f){return function(x,Z,Le){var Ne=Vn(x);if(!Ir(x)){var o1=Tt(Z,3);x=K3(x),Z=function(E1){return o1(Ne[E1],E1,Ne)}}var m1=f(x,Z,Le);return m1>-1?Ne[o1?x[m1]:m1]:o}}function D7(f){return Pa(function(x){var Z=x.length,Le=Z,Ne=$3.prototype.thru;for(f&&x.reverse();Le--;){var o1=x[Le];if("function"!=typeof o1)throw new $r(c);if(Ne&&!m1&&"wrapper"==l0(o1))var m1=new $3([],!0)}for(Le=m1?Le:Z;++Le<Z;){var E1=l0(o1=x[Le]),Z1="wrapper"==E1?Xo(o1):o;m1=Z1&&P6(Z1[0])&&424==Z1[1]&&!Z1[4].length&&1==Z1[9]?m1[l0(Z1[0])].apply(m1,Z1[3]):1==o1.length&&P6(o1)?m1[E1]():m1.thru(o1)}return function(){var M2=arguments,x2=M2[0];if(m1&&1==M2.length&&Xt(x2))return m1.plant(x2).value();for(var V2=0,nt=Z?x[V2].apply(this,M2):x2;++V2<Z;)nt=x[V2].call(this,nt);return nt}})}function k6(f,x,Z,Le,Ne,o1,m1,E1,Z1,M2){var x2=x&I,V2=1&x,nt=2&x,Ct=24&x,At=512&x,on=nt?o:Ea(f);return function Ht(){for(var Cn=arguments.length,gn=u2(Cn),r4=Cn;r4--;)gn[r4]=arguments[r4];if(Ct)var wr=Qo(Ht),L4=tt(gn,wr);if(Le&&(gn=V6(gn,Le,Ne,Ct)),o1&&(gn=Qi(gn,o1,m1,Ct)),Cn-=L4,Ct&&Cn<M2){var k3=Vt(gn,wr);return k8(f,x,k6,Ht.placeholder,Z,gn,k3,E1,Z1,M2-Cn)}var a4=V2?Z:this,Ua=nt?a4[f]:f;return Cn=gn.length,E1?gn=Kd(gn,E1):At&&Cn>1&&gn.reverse(),x2&&Z1<Cn&&(gn.length=Z1),this&&this!==o3&&this instanceof Ht&&(Ua=on||Ea(Ua)),Ua.apply(a4,gn)}}function S7(f,x){return function(Z,Le){return function Q4(f,x,Z,Le){return jn(f,function(Ne,o1,m1){x(Le,Z(Ne),o1,m1)}),Le}(Z,f,x(Le),{})}}function a0(f,x){return function(Z,Le){var Ne;if(Z===o&&Le===o)return x;if(Z!==o&&(Ne=Z),Le!==o){if(Ne===o)return Le;"string"==typeof Z||"string"==typeof Le?(Z=b4(Z),Le=b4(Le)):(Z=Id(Z),Le=Id(Le)),Ne=f(Z,Le)}return Ne}}function A8(f){return Pa(function(x){return x=Pn(x,j3(Tt())),Wt(function(Z){var Le=this;return f(x,function(Ne){return yr(Ne,Le,Z)})})})}function vi(f,x){var Z=(x=x===o?" ":b4(x)).length;if(Z<2)return Z?za(x,f):x;var Le=za(x,T3(f/l3(x)));return Kn(x)?Na(tr(Le),0,f).join(""):Le.slice(0,f)}function H7(f){return function(x,Z,Le){return Le&&"number"!=typeof Le&&Y3(x,Z,Le)&&(Z=Le=o),x=Ba(x),Z===o?(Z=x,x=0):Z=Ba(Z),function L8(f,x,Z,Le){for(var Ne=-1,o1=c3(T3((x-f)/(Z||1)),0),m1=u2(o1);o1--;)m1[Le?o1:++Ne]=f,f+=Z;return m1}(x,Z,Le=Le===o?x<Z?1:-1:Ba(Le),f)}}function J2(f){return function(x,Z){return"string"==typeof x&&"string"==typeof Z||(x=M4(x),Z=M4(Z)),f(x,Z)}}function k8(f,x,Z,Le,Ne,o1,m1,E1,Z1,M2){var x2=8&x;x|=x2?H:64,4&(x&=~(x2?64:H))||(x&=-4);var on=[f,x,Ne,x2?o1:o,x2?m1:o,x2?o:o1,x2?o:m1,E1,Z1,M2],Ht=Z.apply(o,on);return P6(f)&&F7(Ht,on),Ht.placeholder=Le,B7(Ht,f,x)}function z8(f){var x=g3[f];return function(Z,Le){if(Z=M4(Z),(Le=null==Le?0:u3(nn(Le),292))&&Nr(Z)){var Ne=(En(Z)+"e").split("e");return+((Ne=(En(x(Ne[0]+"e"+(+Ne[1]+Le)))+"e").split("e"))[0]+"e"+(+Ne[1]-Le))}return x(Z)}}var N8=Wr&&1/Da(new Wr([,-0]))[1]==ce?function(f){return new Wr(f)}:Vl;function Jo(f){return function(x){var Z=xr(x);return Z==Me?W4(x):Z==Xe?function ui($1){var p2=-1,u2=Array($1.size);return $1.forEach(function(K2){u2[++p2]=[K2,K2]}),u2}(x):function zo($1,p2){return Pn(p2,function(u2){return[u2,$1[u2]]})}(x,f(x))}}function Oa(f,x,Z,Le,Ne,o1,m1,E1){var Z1=2&x;if(!Z1&&"function"!=typeof f)throw new $r(c);var M2=Le?Le.length:0;if(M2||(x&=-97,Le=Ne=o),m1=m1===o?m1:c3(nn(m1),0),E1=E1===o?E1:nn(E1),M2-=Ne?Ne.length:0,64&x){var x2=Le,V2=Ne;Le=Ne=o}var nt=Z1?o:Xo(f),Ct=[f,x,Z,Le,Ne,x2,V2,o1,m1,E1];if(nt&&function Yd(f,x){var Z=f[1],Le=x[1],Ne=Z|Le;if(!(Ne<131||(Le==I&&8==Z||Le==I&&256==Z&&f[7].length<=x[8]||384==Le&&x[7].length<=x[8]&&8==Z)))return f;1&Le&&(f[2]=x[2],Ne|=1&Z?0:4);var E1=x[3];if(E1){var Z1=f[3];f[3]=Z1?V6(Z1,E1,x[4]):E1,f[4]=Z1?Vt(f[3],u):x[4]}(E1=x[5])&&(f[5]=(Z1=f[5])?Qi(Z1,E1,x[6]):E1,f[6]=Z1?Vt(f[5],u):x[6]),(E1=x[7])&&(f[7]=E1),Le&I&&(f[8]=null==f[8]?x[8]:u3(f[8],x[8])),null==f[9]&&(f[9]=x[9]),f[0]=x[0],f[1]=Ne}(Ct,nt),f=Ct[0],x=Ct[1],Z=Ct[2],Le=Ct[3],Ne=Ct[4],!(E1=Ct[9]=Ct[9]===o?Z1?0:f.length:c3(Ct[9]-M2,0))&&24&x&&(x&=-25),x&&1!=x)At=8==x||16==x?function V8(f,x,Z){var Le=Ea(f);return function Ne(){for(var o1=arguments.length,m1=u2(o1),E1=o1,Z1=Qo(Ne);E1--;)m1[E1]=arguments[E1];var M2=o1<3&&m1[0]!==Z1&&m1[o1-1]!==Z1?[]:Vt(m1,Z1);return(o1-=M2.length)<Z?k8(f,x,k6,Ne.placeholder,o,m1,M2,o,o,Z-o1):yr(this&&this!==o3&&this instanceof Ne?Le:f,this,m1)}}(f,x,E1):x!=H&&33!=x||Ne.length?k6.apply(o,Ct):function T7(f,x,Z,Le){var Ne=1&x,o1=Ea(f);return function m1(){for(var E1=-1,Z1=arguments.length,M2=-1,x2=Le.length,V2=u2(x2+Z1),nt=this&&this!==o3&&this instanceof m1?o1:f;++M2<x2;)V2[M2]=Le[M2];for(;Z1--;)V2[M2++]=arguments[++E1];return yr(nt,Ne?Z:this,V2)}}(f,x,Z,Le);else var At=function H8(f,x,Z){var Le=1&x,Ne=Ea(f);return function o1(){return(this&&this!==o3&&this instanceof o1?Ne:f).apply(Le?Z:this,arguments)}}(f,x,Z);return B7((nt?S6:F7)(At,Ct),f,x)}function V7(f,x,Z,Le){return f===o||E4(f,Y4[Z])&&!Dn.call(Le,Z)?x:f}function A7(f,x,Z,Le,Ne,o1){return h3(f)&&h3(x)&&(o1.set(x,f),Zs(f,x,o,A7,o1),o1.delete(x)),f}function z6(f){return t4(f)?o:f}function Ia(f,x,Z,Le,Ne,o1){var m1=1&Z,E1=f.length,Z1=x.length;if(E1!=Z1&&!(m1&&Z1>E1))return!1;var M2=o1.get(f),x2=o1.get(x);if(M2&&x2)return M2==x&&x2==f;var V2=-1,nt=!0,Ct=2&Z?new _e:o;for(o1.set(f,x),o1.set(x,f);++V2<E1;){var At=f[V2],on=x[V2];if(Le)var Ht=m1?Le(on,At,V2,x,f,o1):Le(At,on,V2,f,x,o1);if(Ht!==o){if(Ht)continue;nt=!1;break}if(Ct){if(!Rs(x,function(Cn,gn){if(!C3(Ct,gn)&&(At===Cn||Ne(At,Cn,Z,Le,o1)))return Ct.push(gn)})){nt=!1;break}}else if(At!==on&&!Ne(At,on,Z,Le,o1)){nt=!1;break}}return o1.delete(f),o1.delete(x),nt}function Pa(f){return R6(E8(f,o,B8),f+"")}function N6(f){return Aa(f,K3,E6)}function s0(f){return Aa(f,w3,z7)}var Xo=Va?function(f){return Va.get(f)}:Vl;function l0(f){for(var x=f.name+"",Z=Or[x],Le=Dn.call(Or,x)?Z.length:0;Le--;){var Ne=Z[Le],o1=Ne.func;if(null==o1||o1==f)return Ne.name}return x}function Qo(f){return(Dn.call(Ze,"placeholder")?Ze:f).placeholder}function Tt(){var f=Ze.iteratee||Sl;return f=f===Sl?L6:f,arguments.length?f(arguments[0],arguments[1]):f}function Ra(f,x){var Z=f.__data__;return function E7(f){var x=typeof f;return"string"==x||"number"==x||"symbol"==x||"boolean"==x?"__proto__"!==f:null===f}(x)?Z["string"==typeof x?"string":"hash"]:Z.map}function eo(f){for(var x=K3(f),Z=x.length;Z--;){var Le=x[Z],Ne=f[Le];x[Z]=[Le,Ne,I7(Ne)]}return x}function to(f,x){var Z=function xa($1,p2){return null==$1?o:$1[p2]}(f,x);return v7(Z)?Z:o}var E6=Io?function(f){return null==f?[]:(f=Vn(f),dn(Io(f),function(x){return Zn.call(f,x)}))}:o5,z7=Io?function(f){for(var x=[];f;)C4(x,E6(f)),f=v4(f);return x}:o5,xr=kn;function N7(f,x,Z){for(var Le=-1,Ne=(x=P3(x,f)).length,o1=!1;++Le<Ne;){var m1=Fa(x[Le]);if(!(o1=null!=f&&Z(f,m1)))break;f=f[m1]}return o1||++Le!=Ne?o1:!!(Ne=null==f?0:f.length)&&Z6(Ne)&&yi(m1,Ne)&&(Xt(f)||_i(f))}function I6(f){return"function"!=typeof f.constructor||u0(f)?{}:k4(v4(f))}function Wd(f){return Xt(f)||_i(f)||!!(Gi&&f&&f[Gi])}function yi(f,x){var Z=typeof f;return!!(x=null==x?me:x)&&("number"==Z||"symbol"!=Z&&a2.test(f))&&f>-1&&f%1==0&&f<x}function Y3(f,x,Z){if(!h3(Z))return!1;var Le=typeof x;return!!("number"==Le?Ir(Z)&&yi(x,Z.length):"string"==Le&&x in Z)&&E4(Z[x],f)}function c0(f,x){if(Xt(f))return!1;var Z=typeof f;return!("number"!=Z&&"symbol"!=Z&&"boolean"!=Z&&null!=f&&!Pr(f))||N1.test(f)||!K1.test(f)||null!=x&&f in Vn(x)}function P6(f){var x=l0(f),Z=Ze[x];if("function"!=typeof Z||!(x in Rt.prototype))return!1;if(f===Z)return!0;var Le=Xo(Z);return!!Le&&f===Le[0]}(Xn&&xr(new Xn(new ArrayBuffer(1)))!=Oe||Er&&xr(new Er)!=Me||Po&&xr(Po.resolve())!=Pe||Wr&&xr(new Wr)!=Xe||O3&&xr(new O3)!=De)&&(xr=function(f){var x=kn(f),Z=x==ze?f.constructor:o,Le=Z?ro(Z):"";if(Le)switch(Le){case Mr:return Oe;case $s:return Me;case Ws:return Pe;case m8:return Xe;case J4:return De}return x});var no=fi?aa:P4;function u0(f){var x=f&&f.constructor;return f===("function"==typeof x&&x.prototype||Y4)}function I7(f){return f==f&&!h3(f)}function P7(f,x){return function(Z){return null!=Z&&Z[f]===x&&(x!==o||f in Vn(Z))}}function E8(f,x,Z){return x=c3(x===o?f.length-1:x,0),function(){for(var Le=arguments,Ne=-1,o1=c3(Le.length-x,0),m1=u2(o1);++Ne<o1;)m1[Ne]=Le[x+Ne];Ne=-1;for(var E1=u2(x+1);++Ne<x;)E1[Ne]=Le[Ne];return E1[x]=Z(m1),yr(f,this,E1)}}function R7(f,x){return x.length<2?f:W3(f,_4(x,0,-1))}function Kd(f,x){for(var Z=f.length,Le=u3(x.length,Z),Ne=Jr(f);Le--;){var o1=x[Le];f[Le]=yi(o1,Z)?Ne[o1]:o}return f}function O8(f,x){if(("constructor"!==x||"function"!=typeof f[x])&&"__proto__"!=x)return f[x]}var F7=U7(S6),f0=Oo||function(f,x){return o3.setTimeout(f,x)},R6=U7(Wo);function B7(f,x,Z){var Le=x+"";return R6(f,function $d(f,x){var Z=x.length;if(!Z)return f;var Le=Z-1;return x[Le]=(Z>1?"& ":"")+x[Le],x=x.join(Z>2?", ":" "),f.replace(i1,"{\n/* [wrapped with "+x+"] */\n")}(Le,function d0(f,x){return _r(oe,function(Z){var Le="_."+Z[0];x&Z[1]&&!ba(f,Le)&&f.push(Le)}),f.sort()}(function Gd(f){var x=f.match(l1);return x?x[1].split(c1):[]}(Le),Z)))}function U7(f){var x=0,Z=0;return function(){var Le=b6(),Ne=16-(Le-Z);if(Z=Le,Ne>0){if(++x>=800)return arguments[0]}else x=0;return f.apply(o,arguments)}}function F6(f,x){var Z=-1,Le=f.length,Ne=Le-1;for(x=x===o?Le:x;++Z<x;){var o1=q3(Z,Ne),m1=f[o1];f[o1]=f[Z],f[Z]=m1}return f.length=x,f}var j7=function qd(f){var x=W6(f,function(Le){return 500===Z.size&&Z.clear(),Le}),Z=x.cache;return x}(function(f){var x=[];return 46===f.charCodeAt(0)&&x.push(""),f.replace(ge,function(Z,Le,Ne,o1){x.push(Ne?o1.replace(B1,"$1"):Le||Z)}),x});function Fa(f){if("string"==typeof f||Pr(f))return f;var x=f+"";return"0"==x&&1/f==-ce?"-0":x}function ro(f){if(null!=f){try{return Us.call(f)}catch(x){}try{return f+""}catch(x){}}return""}function I8(f){if(f instanceof Rt)return f.clone();var x=new $3(f.__wrapped__,f.__chain__);return x.__actions__=Jr(f.__actions__),x.__index__=f.__index__,x.__values__=f.__values__,x}var $7=Wt(function(f,x){return v3(f)?b2(f,Jt(x,1,v3,!0)):[]}),W7=Wt(function(f,x){var Z=Qr(x);return v3(Z)&&(Z=o),v3(f)?b2(f,Jt(x,1,v3,!0),Tt(Z,2)):[]}),Uy=Wt(function(f,x){var Z=Qr(x);return v3(Z)&&(Z=o),v3(f)?b2(f,Jt(x,1,v3,!0),o,Z):[]});function Zd(f,x,Z){var Le=null==f?0:f.length;if(!Le)return-1;var Ne=null==Z?0:nn(Z);return Ne<0&&(Ne=c3(Le+Ne,0)),Bi(f,Tt(x,3),Ne)}function Jd(f,x,Z){var Le=null==f?0:f.length;if(!Le)return-1;var Ne=Le-1;return Z!==o&&(Ne=nn(Z),Ne=Z<0?c3(Le+Ne,0):u3(Ne,Le-1)),Bi(f,Tt(x,3),Ne,!0)}function B8(f){return null!=f&&f.length?Jt(f,1):[]}function q7(f){return f&&f.length?f[0]:o}var K7=Wt(function(f){var x=Pn(f,L7);return x.length&&x[0]===f[0]?z4(x):[]}),U8=Wt(function(f){var x=Qr(f),Z=Pn(f,L7);return x===Qr(Z)?x=o:Z.pop(),Z.length&&Z[0]===f[0]?z4(Z,Tt(x,2)):[]}),th=Wt(function(f){var x=Qr(f),Z=Pn(f,L7);return(x="function"==typeof x?x:o)&&Z.pop(),Z.length&&Z[0]===f[0]?z4(Z,o,x):[]});function Qr(f){var x=null==f?0:f.length;return x?f[x-1]:o}var Z7=Wt(J7);function J7(f,x){return f&&f.length&&x&&x.length?D6(f,x):f}var ih=Pa(function(f,x){var Z=null==f?0:f.length,Le=Z2(f,x);return Ji(f,Pn(x,function(Ne){return yi(Ne,Z)?+Ne:Ne}).sort(S8)),Le});function X7(f){return null==f?f:M6.call(f)}var uh=Wt(function(f){return Xi(Jt(f,1,v3,!0))}),r9=Wt(function(f){var x=Qr(f);return v3(x)&&(x=o),Xi(Jt(f,1,v3,!0),Tt(x,2))}),fh=Wt(function(f){var x=Qr(f);return x="function"==typeof x?x:o,Xi(Jt(f,1,v3,!0),o,x)});function W8(f){if(!f||!f.length)return[];var x=0;return f=dn(f,function(Z){if(v3(Z))return x=c3(Z.length,x),!0}),li(x,function(Z){return Pn(f,E3(Z))})}function U6(f,x){if(!f||!f.length)return[];var Z=W8(f);return null==x?Z:Pn(Z,function(Le){return yr(x,o,Le)})}var ph=Wt(function(f,x){return v3(f)?b2(f,x):[]}),Ch=Wt(function(f){return Qs(dn(f,v3))}),g0=Wt(function(f){var x=Qr(f);return v3(x)&&(x=o),Qs(dn(f,v3),Tt(x,2))}),gh=Wt(function(f){var x=Qr(f);return x="function"==typeof x?x:o,Qs(dn(f,v3),o,x)}),mh=Wt(W8),_h=Wt(function(f){var x=f.length,Z=x>1?f[x-1]:o;return Z="function"==typeof Z?(f.pop(),Z):o,U6(f,Z)});function q8(f){var x=Ze(f);return x.__chain__=!0,x}function j6(f,x){return x(f)}var Mh=Pa(function(f){var x=f.length,Z=x?f[0]:0,Le=this.__wrapped__,Ne=function(o1){return Z2(o1,f)};return!(x>1||this.__actions__.length)&&Le instanceof Rt&&yi(Z)?((Le=Le.slice(Z,+Z+(x?1:0))).__actions__.push({func:j6,args:[Ne],thisArg:o}),new $3(Le,this.__chain__).thru(function(o1){return x&&!o1.length&&o1.push(o),o1})):this.thru(Ne)}),Wy=A6(function(f,x,Z){Dn.call(f,Z)?++f[Z]:H2(f,Z,1)}),Yy=r0(Zd),e4=r0(Jd);function Z8(f,x){return(Xt(f)?_r:q2)(f,Tt(x,3))}function rs(f,x){return(Xt(f)?si:Mt)(f,Tt(x,3))}var o9=A6(function(f,x,Z){Dn.call(f,Z)?f[Z].push(x):H2(f,Z,[x])}),J8=Wt(function(f,x,Z){var Le=-1,Ne="function"==typeof x,o1=Ir(f)?u2(f.length):[];return q2(f,function(m1){o1[++Le]=Ne?yr(x,m1,Z):I3(m1,x,Z)}),o1}),X8=A6(function(f,x,Z){H2(f,Z,x)});function m0(f,x){return(Xt(f)?Pn:b8)(f,Tt(x,3))}var as=A6(function(f,x,Z){f[Z?0:1].push(x)},function(){return[[],[]]}),zh=Wt(function(f,x){if(null==f)return[];var Z=x.length;return Z>1&&Y3(f,x[0],x[1])?x=[]:Z>2&&Y3(x[0],x[1],x[2])&&(x=[x[0]]),Js(f,Jt(x,1),[])}),G6=Gs||function(){return o3.Date.now()};function $6(f,x,Z){return x=Z?o:x,Oa(f,I,o,o,o,o,x=f&&null==x?f.length:x)}function tl(f,x){var Z;if("function"!=typeof x)throw new $r(c);return f=nn(f),function(){return--f>0&&(Z=x.apply(this,arguments)),f<=1&&(x=o),Z}}var v0=Wt(function(f,x,Z){var Le=1;if(Z.length){var Ne=Vt(Z,Qo(v0));Le|=H}return Oa(f,Le,x,Z,Ne)}),u9=Wt(function(f,x,Z){var Le=3;if(Z.length){var Ne=Vt(Z,Qo(u9));Le|=H}return Oa(x,Le,f,Z,Ne)});function rl(f,x,Z){var Le,Ne,o1,m1,E1,Z1,M2=0,x2=!1,V2=!1,nt=!0;if("function"!=typeof f)throw new $r(c);function Ct(k3){var a4=Le,Ua=Ne;return Le=Ne=o,M2=k3,m1=f.apply(Ua,a4)}function At(k3){return M2=k3,E1=f0(Cn,x),x2?Ct(k3):m1}function Ht(k3){var a4=k3-Z1;return Z1===o||a4>=x||a4<0||V2&&k3-M2>=o1}function Cn(){var k3=G6();if(Ht(k3))return gn(k3);E1=f0(Cn,function on(k3){var Il=x-(k3-Z1);return V2?u3(Il,o1-(k3-M2)):Il}(k3))}function gn(k3){return E1=o,nt&&Le?Ct(k3):(Le=Ne=o,m1)}function L4(){var k3=G6(),a4=Ht(k3);if(Le=arguments,Ne=this,Z1=k3,a4){if(E1===o)return At(Z1);if(V2)return e0(E1),E1=f0(Cn,x),Ct(Z1)}return E1===o&&(E1=f0(Cn,x)),m1}return x=M4(x)||0,h3(Z)&&(x2=!!Z.leading,o1=(V2="maxWait"in Z)?c3(M4(Z.maxWait)||0,x):o1,nt="trailing"in Z?!!Z.trailing:nt),L4.cancel=function r4(){E1!==o&&e0(E1),M2=0,Le=Z1=Ne=E1=o},L4.flush=function wr(){return E1===o?m1:gn(G6())},L4}var ao=Wt(function(f,x){return Gn(f,1,x)}),d9=Wt(function(f,x,Z){return Gn(f,M4(x)||0,Z)});function W6(f,x){if("function"!=typeof f||null!=x&&"function"!=typeof x)throw new $r(c);var Z=function(){var Le=arguments,Ne=x?x.apply(this,Le):Le[0],o1=Z.cache;if(o1.has(Ne))return o1.get(Ne);var m1=f.apply(this,Le);return Z.cache=o1.set(Ne,m1)||o1,m1};return Z.cache=new(W6.Cache||v),Z}function io(f){if("function"!=typeof f)throw new $r(c);return function(){var x=arguments;switch(x.length){case 0:return!f.call(this);case 1:return!f.call(this,x[0]);case 2:return!f.call(this,x[0],x[1]);case 3:return!f.call(this,x[0],x[1],x[2])}return!f.apply(this,x)}}W6.Cache=v;var p9=ea(function(f,x){var Z=(x=1==x.length&&Xt(x[0])?Pn(x[0],j3(Tt())):Pn(Jt(x,1),j3(Tt()))).length;return Wt(function(Le){for(var Ne=-1,o1=u3(Le.length,Z);++Ne<o1;)Le[Ne]=x[Ne].call(this,Le[Ne]);return yr(f,this,Le)})}),q6=Wt(function(f,x){var Z=Vt(x,Qo(q6));return Oa(f,H,o,x,Z)}),al=Wt(function(f,x){var Z=Vt(x,Qo(al));return Oa(f,64,o,x,Z)}),il=Pa(function(f,x){return Oa(f,256,o,o,o,x)});function E4(f,x){return f===x||f!=f&&x!=x}var y9=J2(n3),ll=J2(function(f,x){return f>=x}),_i=Zi(function(){return arguments}())?Zi:function(f){return lt(f)&&Dn.call(f,"callee")&&!Zn.call(f,"callee")},Xt=u2.isArray,_9=l8?j3(l8):function ka(f){return lt(f)&&kn(f)==Ye};function Ir(f){return null!=f&&Z6(f.length)&&!aa(f)}function v3(f){return lt(f)&&Ir(f)}var bi=Wi||P4,O4=Pi?j3(Pi):function v8(f){return lt(f)&&kn(f)==R};function cl(f){if(!lt(f))return!1;var x=kn(f);return x==fe||"[object DOMException]"==x||"string"==typeof f.message&&"string"==typeof f.name&&!t4(f)}function aa(f){if(!h3(f))return!1;var x=kn(f);return x==ue||x==he||"[object AsyncFunction]"==x||"[object Proxy]"==x}function M9(f){return"number"==typeof f&&f==nn(f)}function Z6(f){return"number"==typeof f&&f>-1&&f%1==0&&f<=me}function h3(f){var x=typeof f;return null!=f&&("object"==x||"function"==x)}function lt(f){return null!=f&&"object"==typeof f}var $e=jr?j3(jr):function m7(f){return lt(f)&&xr(f)==Me};function X6(f){return"number"==typeof f||lt(f)&&kn(f)==be}function t4(f){if(!lt(f)||kn(f)!=ze)return!1;var x=v4(f);if(null===x)return!0;var Z=Dn.call(x,"constructor")&&x.constructor;return"function"==typeof Z&&Z instanceof Z&&Us.call(Z)==p8}var _0=Ao?j3(Ao):function Nd(f){return lt(f)&&kn(f)==t1},Q6=Ps?j3(Ps):function Ks(f){return lt(f)&&xr(f)==Xe};function ul(f){return"string"==typeof f||!Xt(f)&&lt(f)&&kn(f)==Ue}function Pr(f){return"symbol"==typeof f||lt(f)&&kn(f)==xe}var b0=h4?j3(h4):function y8(f){return lt(f)&&Z6(f.length)&&!!Pt[kn(f)]},dl=J2(_8),hl=J2(function(f,x){return f<=x});function jh(f){if(!f)return[];if(Ir(f))return ul(f)?tr(f):Jr(f);if($i&&f[$i])return function s3($1){for(var p2,u2=[];!(p2=$1.next()).done;)u2.push(p2.value);return u2}(f[$i]());var x=xr(f);return(x==Me?W4:x==Xe?Da:xi)(f)}function Ba(f){return f?(f=M4(f))===ce||f===-ce?17976931348623157e292*(f<0?-1:1):f==f?f:0:0===f?f:0}function nn(f){var x=Ba(f),Z=x%1;return x==x?Z?x-Z:x:0}function S9(f){return f?gt(nn(f),0,le):0}function M4(f){if("number"==typeof f)return f;if(Pr(f))return K;if(h3(f)){var x="function"==typeof f.valueOf?f.valueOf():f;f=h3(x)?x+"":x}if("string"!=typeof f)return 0===f?f:+f;f=ci(f);var Z=f2.test(f);return Z||w1.test(f)?Is(f.slice(2),Z?2:8):q1.test(f)?K:+f}function pl(f){return N4(f,w3(f))}function En(f){return null==f?"":b4(f)}var Jy=Zo(function(f,x){if(u0(x)||Ir(x))N4(x,K3(x),f);else for(var Z in x)Dn.call(x,Z)&&h1(f,Z,x[Z])}),Cl=Zo(function(f,x){N4(x,w3(x),f)}),M0=Zo(function(f,x,Z,Le){N4(x,w3(x),f,Le)}),Gh=Zo(function(f,x,Z,Le){N4(x,K3(x),f,Le)}),gl=Pa(Z2),Qy=Wt(function(f,x){f=Vn(f);var Z=-1,Le=x.length,Ne=Le>2?x[2]:o;for(Ne&&Y3(x[0],x[1],Ne)&&(Le=1);++Z<Le;)for(var o1=x[Z],m1=w3(o1),E1=-1,Z1=m1.length;++E1<Z1;){var M2=m1[E1],x2=f[M2];(x2===o||E4(x2,Y4[M2])&&!Dn.call(f,M2))&&(f[M2]=o1[M2])}return f}),e_=Wt(function(f){return f.push(o,A7),yr(V9,o,f)});function x0(f,x,Z){var Le=null==f?o:W3(f,x);return Le===o?Z:Le}function n5(f,x){return null!=f&&N7(f,x,Yr)}var ml=S7(function(f,x,Z){null!=x&&"function"!=typeof x.toString&&(x=js.call(x)),f[x]=Z},wl(Rr)),T9=S7(function(f,x,Z){null!=x&&"function"!=typeof x.toString&&(x=js.call(x)),Dn.call(f,x)?f[x].push(Z):f[x]=[Z]},Tt),vl=Wt(I3);function K3(f){return Ir(f)?p1(f):Uo(f)}function w3(f){return Ir(f)?p1(f,!0):function w6(f){if(!h3(f))return function Xr(f){var x=[];if(null!=f)for(var Z in Vn(f))x.push(Z);return x}(f);var x=u0(f),Z=[];for(var Le in f)"constructor"==Le&&(x||!Dn.call(f,Le))||Z.push(Le);return Z}(f)}var yl=Zo(function(f,x,Z){Zs(f,x,Z)}),V9=Zo(function(f,x,Z,Le){Zs(f,x,Z,Le)}),A9=Pa(function(f,x){var Z={};if(null==f)return Z;var Le=!1;x=Pn(x,function(o1){return o1=P3(o1,f),Le||(Le=o1.length>1),o1}),N4(f,s0(f),Z),Le&&(Z=j2(Z,7,z6));for(var Ne=x.length;Ne--;)x7(Z,x[Ne]);return Z}),Yh=Pa(function(f,x){return null==f?{}:function Xs(f,x){return _7(f,x,function(Z,Le){return n5(f,Le)})}(f,x)});function is(f,x){if(null==f)return{};var Z=Pn(s0(f),function(Le){return[Le]});return x=Tt(x),_7(f,Z,function(Le,Ne){return x(Le,Ne[0])})}var ls=Jo(K3),oo=Jo(w3);function xi(f){return null==f?[]:A4(f,K3(f))}var l_=n0(function(f,x,Z){return x=x.toLowerCase(),f+(Z?Ml(x):x)});function Ml(f){return x4(En(f).toLowerCase())}function xl(f){return(f=En(f))&&f.replace(J1,Gt).replace(S3,"")}var Qh=n0(function(f,x,Z){return f+(Z?"-":"")+x.toLowerCase()}),n4=n0(function(f,x,Z){return f+(Z?" ":"")+x.toLowerCase()}),ep=t0("toLowerCase"),Ll=n0(function(f,x,Z){return f+(Z?"_":"")+x.toLowerCase()}),rp=n0(function(f,x,Z){return f+(Z?" ":"")+x4(x)}),cp=n0(function(f,x,Z){return f+(Z?" ":"")+x.toUpperCase()}),x4=t0("toUpperCase");function a5(f,x,Z){return f=En(f),(x=Z?o:x)===o?function La($1){return Tn.test($1)}(f)?function u8($1){return $1.match(mr)||[]}(f):function p6($1){return $1.match(L1)||[]}(f):f.match(x)||[]}var j9=Wt(function(f,x){try{return yr(f,o,x)}catch(Z){return cl(Z)?Z:new Ot(Z)}}),up=Pa(function(f,x){return _r(x,function(Z){Z=Fa(Z),H2(f,Z,v0(f[Z],f))}),f});function wl(f){return function(){return f}}var dp=D7(),Dl=D7(!0);function Rr(f){return f}function Sl(f){return L6("function"==typeof f?f:j2(f,1))}var hp=Wt(function(f,x){return function(Z){return I3(Z,f,x)}}),Hl=Wt(function(f,x){return function(Z){return I3(f,Z,x)}});function L0(f,x,Z){var Le=K3(x),Ne=V3(x,Le);null==Z&&(!h3(x)||!Ne.length&&Le.length)&&(Z=x,x=f,f=this,Ne=V3(x,K3(x)));var o1=!(h3(Z)&&"chain"in Z&&!Z.chain),m1=aa(f);return _r(Ne,function(E1){var Z1=x[E1];f[E1]=Z1,m1&&(f.prototype[E1]=function(){var M2=this.__chain__;if(o1||M2){var x2=f(this.__wrapped__),V2=x2.__actions__=Jr(this.__actions__);return V2.push({func:Z1,args:arguments,thisArg:f}),x2.__chain__=M2,x2}return Z1.apply(f,C4([this.value()],arguments))})}),f}function Vl(){}var Al=A8(Pn),h_=A8(p4),Cp=A8(Rs);function kl(f){return c0(f)?E3(Fa(f)):function b7(f){return function(x){return W3(x,f)}}(f)}var q9=H7(),Y9=H7(!0);function o5(){return[]}function P4(){return!1}var Nl=a0(function(f,x){return f+x},0),w0=z8("ceil"),vp=a0(function(f,x){return f/x},1),El=z8("floor"),bp=a0(function(f,x){return f*x},1),Q9=z8("round"),cs=a0(function(f,x){return f-x},0);return Ze.after=function c9(f,x){if("function"!=typeof x)throw new $r(c);return f=nn(f),function(){if(--f<1)return x.apply(this,arguments)}},Ze.ary=$6,Ze.assign=Jy,Ze.assignIn=Cl,Ze.assignInWith=M0,Ze.assignWith=Gh,Ze.at=gl,Ze.before=tl,Ze.bind=v0,Ze.bindAll=up,Ze.bindKey=u9,Ze.castArray=function m9(){if(!arguments.length)return[];var f=arguments[0];return Xt(f)?f:[f]},Ze.chain=q8,Ze.chunk=function na(f,x,Z){x=(Z?Y3(f,x,Z):x===o)?1:c3(nn(x),0);var Le=null==f?0:f.length;if(!Le||x<1)return[];for(var Ne=0,o1=0,m1=u2(T3(Le/x));Ne<Le;)m1[o1++]=_4(f,Ne,Ne+=x);return m1},Ze.compact=function h0(f){for(var x=-1,Z=null==f?0:f.length,Le=0,Ne=[];++x<Z;){var o1=f[x];o1&&(Ne[Le++]=o1)}return Ne},Ze.concat=function G7(){var f=arguments.length;if(!f)return[];for(var x=u2(f-1),Z=arguments[0],Le=f;Le--;)x[Le-1]=arguments[Le];return C4(Xt(Z)?Jr(Z):[Z],Jt(x,1))},Ze.cond=function d_(f){var x=null==f?0:f.length,Z=Tt();return f=x?Pn(f,function(Le){if("function"!=typeof Le[1])throw new $r(c);return[Z(Le[0]),Le[1]]}):[],Wt(function(Le){for(var Ne=-1;++Ne<x;){var o1=f[Ne];if(yr(o1[0],this,Le))return yr(o1[1],this,Le)}})},Ze.conforms=function G9(f){return function It(f){var x=K3(f);return function(Z){return An(Z,f,x)}}(j2(f,1))},Ze.constant=wl,Ze.countBy=Wy,Ze.create=function Xy(f,x){var Z=k4(f);return null==x?Z:v2(Z,x)},Ze.curry=function f9(f,x,Z){var Le=Oa(f,8,o,o,o,o,o,x=Z?o:x);return Le.placeholder=f9.placeholder,Le},Ze.curryRight=function nl(f,x,Z){var Le=Oa(f,16,o,o,o,o,o,x=Z?o:x);return Le.placeholder=nl.placeholder,Le},Ze.debounce=rl,Ze.defaults=Qy,Ze.defaultsDeep=e_,Ze.defer=ao,Ze.delay=d9,Ze.difference=$7,Ze.differenceBy=W7,Ze.differenceWith=Uy,Ze.drop=function jy(f,x,Z){var Le=null==f?0:f.length;return Le?_4(f,(x=Z||x===o?1:nn(x))<0?0:x,Le):[]},Ze.dropRight=function Gy(f,x,Z){var Le=null==f?0:f.length;return Le?_4(f,0,(x=Le-(x=Z||x===o?1:nn(x)))<0?0:x):[]},Ze.dropRightWhile=function P8(f,x){return f&&f.length?w8(f,Tt(x,3),!0,!0):[]},Ze.dropWhile=function R8(f,x){return f&&f.length?w8(f,Tt(x,3),!0):[]},Ze.fill=function F8(f,x,Z,Le){var Ne=null==f?0:f.length;return Ne?(Z&&"number"!=typeof Z&&Y3(f,x,Z)&&(Z=0,Le=Ne),function ln(f,x,Z,Le){var Ne=f.length;for((Z=nn(Z))<0&&(Z=-Z>Ne?0:Ne+Z),(Le=Le===o||Le>Ne?Ne:nn(Le))<0&&(Le+=Ne),Le=Z>Le?0:S9(Le);Z<Le;)f[Z++]=x;return f}(f,x,Z,Le)):[]},Ze.filter=function i9(f,x){return(Xt(f)?dn:cn)(f,Tt(x,3))},Ze.flatMap=function Y8(f,x){return Jt(m0(f,x),1)},Ze.flatMapDeep=function K8(f,x){return Jt(m0(f,x),ce)},Ze.flatMapDepth=function Sh(f,x,Z){return Z=Z===o?1:nn(Z),Jt(m0(f,x),Z)},Ze.flatten=B8,Ze.flattenDeep=function Xd(f){return null!=f&&f.length?Jt(f,ce):[]},Ze.flattenDepth=function Qd(f,x){return null!=f&&f.length?Jt(f,x=x===o?1:nn(x)):[]},Ze.flip=function h9(f){return Oa(f,512)},Ze.flow=dp,Ze.flowRight=Dl,Ze.fromPairs=function eh(f){for(var x=-1,Z=null==f?0:f.length,Le={};++x<Z;){var Ne=f[x];Le[Ne[0]]=Ne[1]}return Le},Ze.functions=function s_(f){return null==f?[]:V3(f,K3(f))},Ze.functionsIn=function Mi(f){return null==f?[]:V3(f,w3(f))},Ze.groupBy=o9,Ze.initial=function B6(f){return null!=f&&f.length?_4(f,0,-1):[]},Ze.intersection=K7,Ze.intersectionBy=U8,Ze.intersectionWith=th,Ze.invert=ml,Ze.invertBy=T9,Ze.invokeMap=J8,Ze.iteratee=Sl,Ze.keyBy=X8,Ze.keys=K3,Ze.keysIn=w3,Ze.map=m0,Ze.mapKeys=function H9(f,x){var Z={};return x=Tt(x,3),jn(f,function(Le,Ne,o1){H2(Z,x(Le,Ne,o1),Le)}),Z},Ze.mapValues=function Wh(f,x){var Z={};return x=Tt(x,3),jn(f,function(Le,Ne,o1){H2(Z,Ne,x(Le,Ne,o1))}),Z},Ze.matches=function i5(f){return M8(j2(f,1))},Ze.matchesProperty=function Tl(f,x){return x8(f,j2(x,1))},Ze.memoize=W6,Ze.merge=yl,Ze.mergeWith=V9,Ze.method=hp,Ze.methodOf=Hl,Ze.mixin=L0,Ze.negate=io,Ze.nthArg=function pp(f){return f=nn(f),Wt(function(x){return y7(x,f)})},Ze.omit=A9,Ze.omitBy=function qh(f,x){return is(f,io(Tt(x)))},Ze.once=function Nh(f){return tl(2,f)},Ze.orderBy=function Ky(f,x,Z,Le){return null==f?[]:(Xt(x)||(x=null==x?[]:[x]),Xt(Z=Le?o:Z)||(Z=null==Z?[]:[Z]),Js(f,x,Z))},Ze.over=Al,Ze.overArgs=p9,Ze.overEvery=h_,Ze.overSome=Cp,Ze.partial=q6,Ze.partialRight=al,Ze.partition=as,Ze.pick=Yh,Ze.pickBy=is,Ze.property=kl,Ze.propertyOf=function W9(f){return function(x){return null==f?o:W3(f,x)}},Ze.pull=Z7,Ze.pullAll=J7,Ze.pullAllBy=function rh(f,x,Z){return f&&f.length&&x&&x.length?D6(f,x,Tt(Z,2)):f},Ze.pullAllWith=function ah(f,x,Z){return f&&f.length&&x&&x.length?D6(f,x,o,Z):f},Ze.pullAt=ih,Ze.range=q9,Ze.rangeRight=Y9,Ze.rearg=il,Ze.reject=function Th(f,x){return(Xt(f)?dn:cn)(f,io(Tt(x,3)))},Ze.remove=function oh(f,x){var Z=[];if(!f||!f.length)return Z;var Le=-1,Ne=[],o1=f.length;for(x=Tt(x,3);++Le<o1;){var m1=f[Le];x(m1,Le,f)&&(Z.push(m1),Ne.push(Le))}return Ji(f,Ne),Z},Ze.rest=function C9(f,x){if("function"!=typeof f)throw new $r(c);return Wt(f,x=x===o?x:nn(x))},Ze.reverse=X7,Ze.sampleSize=function Hh(f,x,Z){return x=(Z?Y3(f,x,Z):x===o)?1:nn(x),(Xt(f)?u1:Go)(f,x)},Ze.set=function _l(f,x,Z){return null==f?f:$o(f,x,Z)},Ze.setWith=function ss(f,x,Z,Le){return Le="function"==typeof Le?Le:o,null==f?f:$o(f,x,Z,Le)},Ze.shuffle=function Vh(f){return(Xt(f)?F1:Ry)(f)},Ze.slice=function $y(f,x,Z){var Le=null==f?0:f.length;return Le?(Z&&"number"!=typeof Z&&Y3(f,x,Z)?(x=0,Z=Le):(x=null==x?0:nn(x),Z=Z===o?Le:nn(Z)),_4(f,x,Z)):[]},Ze.sortBy=zh,Ze.sortedUniq=function C0(f){return f&&f.length?Od(f):[]},Ze.sortedUniqBy=function G8(f,x){return f&&f.length?Od(f,Tt(x,2)):[]},Ze.split=function P9(f,x,Z){return Z&&"number"!=typeof Z&&Y3(f,x,Z)&&(x=Z=o),(Z=Z===o?le:Z>>>0)?(f=En(f))&&("string"==typeof x||null!=x&&!_0(x))&&!(x=b4(x))&&Kn(f)?Na(tr(f),0,Z):f.split(x,Z):[]},Ze.spread=function Y6(f,x){if("function"!=typeof f)throw new $r(c);return x=null==x?0:c3(nn(x),0),Wt(function(Z){var Le=Z[x],Ne=Na(Z,0,x);return Le&&C4(Ne,Le),yr(f,this,Ne)})},Ze.tail=function sh(f){var x=null==f?0:f.length;return x?_4(f,1,x):[]},Ze.take=function lh(f,x,Z){return f&&f.length?_4(f,0,(x=Z||x===o?1:nn(x))<0?0:x):[]},Ze.takeRight=function t9(f,x,Z){var Le=null==f?0:f.length;return Le?_4(f,(x=Le-(x=Z||x===o?1:nn(x)))<0?0:x,Le):[]},Ze.takeRightWhile=function ch(f,x){return f&&f.length?w8(f,Tt(x,3),!1,!0):[]},Ze.takeWhile=function n9(f,x){return f&&f.length?w8(f,Tt(x,3)):[]},Ze.tap=function bh(f,x){return x(f),f},Ze.throttle=function K6(f,x,Z){var Le=!0,Ne=!0;if("function"!=typeof f)throw new $r(c);return h3(Z)&&(Le="leading"in Z?!!Z.leading:Le,Ne="trailing"in Z?!!Z.trailing:Ne),rl(f,x,{leading:Le,maxWait:x,trailing:Ne})},Ze.thru=j6,Ze.toArray=jh,Ze.toPairs=ls,Ze.toPairsIn=oo,Ze.toPath=function zl(f){return Xt(f)?Pn(f,Fa):Pr(f)?[f]:Jr(j7(En(f)))},Ze.toPlainObject=pl,Ze.transform=function Kh(f,x,Z){var Le=Xt(f),Ne=Le||bi(f)||b0(f);if(x=Tt(x,4),null==Z){var o1=f&&f.constructor;Z=Ne?Le?new o1:[]:h3(f)&&aa(o1)?k4(v4(f)):{}}return(Ne?_r:jn)(f,function(m1,E1,Z1){return x(Z,m1,E1,Z1)}),Z},Ze.unary=function g9(f){return $6(f,1)},Ze.union=uh,Ze.unionBy=r9,Ze.unionWith=fh,Ze.uniq=function dh(f){return f&&f.length?Xi(f):[]},Ze.uniqBy=function $8(f,x){return f&&f.length?Xi(f,Tt(x,2)):[]},Ze.uniqWith=function hh(f,x){return x="function"==typeof x?x:o,f&&f.length?Xi(f,o,x):[]},Ze.unset=function k9(f,x){return null==f||x7(f,x)},Ze.unzip=W8,Ze.unzipWith=U6,Ze.update=function z9(f,x,Z){return null==f?f:qo(f,x,D8(Z))},Ze.updateWith=function bl(f,x,Z,Le){return Le="function"==typeof Le?Le:o,null==f?f:qo(f,x,D8(Z),Le)},Ze.values=xi,Ze.valuesIn=function N9(f){return null==f?[]:A4(f,w3(f))},Ze.without=ph,Ze.words=a5,Ze.wrap=function ol(f,x){return q6(D8(x),f)},Ze.xor=Ch,Ze.xorBy=g0,Ze.xorWith=gh,Ze.zip=mh,Ze.zipObject=function vh(f,x){return Yo(f||[],x||[],h1)},Ze.zipObjectDeep=function yh(f,x){return Yo(f||[],x||[],$o)},Ze.zipWith=_h,Ze.entries=ls,Ze.entriesIn=oo,Ze.extend=Cl,Ze.extendWith=M0,L0(Ze,Ze),Ze.add=Nl,Ze.attempt=j9,Ze.camelCase=l_,Ze.capitalize=Ml,Ze.ceil=w0,Ze.clamp=function r5(f,x,Z){return Z===o&&(Z=x,x=o),Z!==o&&(Z=(Z=M4(Z))==Z?Z:0),x!==o&&(x=(x=M4(x))==x?x:0),gt(M4(f),x,Z)},Ze.clone=function sl(f){return j2(f,4)},Ze.cloneDeep=function Eh(f){return j2(f,5)},Ze.cloneDeepWith=function v9(f,x){return j2(f,5,x="function"==typeof x?x:o)},Ze.cloneWith=function y0(f,x){return j2(f,4,x="function"==typeof x?x:o)},Ze.conformsTo=function Oh(f,x){return null==x||An(f,x,K3(x))},Ze.deburr=xl,Ze.defaultTo=function fp(f,x){return null==f||f!=f?x:f},Ze.divide=vp,Ze.endsWith=function Jh(f,x,Z){f=En(f),x=b4(x);var Le=f.length,Ne=Z=Z===o?Le:gt(nn(Z),0,Le);return(Z-=x.length)>=0&&f.slice(Z,Ne)==x},Ze.eq=E4,Ze.escape=function O9(f){return(f=En(f))&&O1.test(f)?f.replace(Be,Nn):f},Ze.escapeRegExp=function Xh(f){return(f=En(f))&&je.test(f)?f.replace(ye,"\\$&"):f},Ze.every=function qy(f,x,Z){var Le=Xt(f)?p4:bt;return Z&&Y3(f,x,Z)&&(x=o),Le(f,Tt(x,3))},Ze.find=Yy,Ze.findIndex=Zd,Ze.findKey=function t_(f,x){return Fs(f,Tt(x,3),jn)},Ze.findLast=e4,Ze.findLastIndex=Jd,Ze.findLastKey=function n_(f,x){return Fs(f,Tt(x,3),m3)},Ze.floor=El,Ze.forEach=Z8,Ze.forEachRight=rs,Ze.forIn=function r_(f,x){return null==f?f:L3(f,Tt(x,3),w3)},Ze.forInRight=function a_(f,x){return null==f?f:H3(f,Tt(x,3),w3)},Ze.forOwn=function i_(f,x){return f&&jn(f,Tt(x,3))},Ze.forOwnRight=function o_(f,x){return f&&m3(f,Tt(x,3))},Ze.get=x0,Ze.gt=y9,Ze.gte=ll,Ze.has=function $h(f,x){return null!=f&&N7(f,x,hr)},Ze.hasIn=n5,Ze.head=q7,Ze.identity=Rr,Ze.includes=function s9(f,x,Z,Le){f=Ir(f)?f:xi(f),Z=Z&&!Le?nn(Z):0;var Ne=f.length;return Z<0&&(Z=c3(Ne+Z,0)),ul(f)?Z<=Ne&&f.indexOf(x,Z)>-1:!!Ne&&en(f,x,Z)>-1},Ze.indexOf=function Y7(f,x,Z){var Le=null==f?0:f.length;if(!Le)return-1;var Ne=null==Z?0:nn(Z);return Ne<0&&(Ne=c3(Le+Ne,0)),en(f,x,Ne)},Ze.inRange=function Zh(f,x,Z){return x=Ba(x),Z===o?(Z=x,x=0):Z=Ba(Z),function Kr(f,x,Z){return f>=u3(x,Z)&&f<c3(x,Z)}(f=M4(f),x,Z)},Ze.invoke=vl,Ze.isArguments=_i,Ze.isArray=Xt,Ze.isArrayBuffer=_9,Ze.isArrayLike=Ir,Ze.isArrayLikeObject=v3,Ze.isBoolean=function Ih(f){return!0===f||!1===f||lt(f)&&kn(f)==J},Ze.isBuffer=bi,Ze.isDate=O4,Ze.isElement=function Ph(f){return lt(f)&&1===f.nodeType&&!t4(f)},Ze.isEmpty=function b9(f){if(null==f)return!0;if(Ir(f)&&(Xt(f)||"string"==typeof f||"function"==typeof f.splice||bi(f)||b0(f)||_i(f)))return!f.length;var x=xr(f);if(x==Me||x==Xe)return!f.size;if(u0(f))return!Uo(f).length;for(var Z in f)if(Dn.call(f,Z))return!1;return!0},Ze.isEqual=function Rh(f,x){return mi(f,x)},Ze.isEqualWith=function Fh(f,x,Z){var Le=(Z="function"==typeof Z?Z:o)?Z(f,x):o;return Le===o?mi(f,x,o,Z):!!Le},Ze.isError=cl,Ze.isFinite=function Bh(f){return"number"==typeof f&&Nr(f)},Ze.isFunction=aa,Ze.isInteger=M9,Ze.isLength=Z6,Ze.isMap=$e,Ze.isMatch=function x9(f,x){return f===x||x6(f,x,eo(x))},Ze.isMatchWith=function L9(f,x,Z){return Z="function"==typeof Z?Z:o,x6(f,x,eo(x),Z)},Ze.isNaN=function J6(f){return X6(f)&&f!=+f},Ze.isNative=function I4(f){if(no(f))throw new Ot("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return v7(f)},Ze.isNil=function Uh(f){return null==f},Ze.isNull=function w9(f){return null===f},Ze.isNumber=X6,Ze.isObject=h3,Ze.isObjectLike=lt,Ze.isPlainObject=t4,Ze.isRegExp=_0,Ze.isSafeInteger=function D9(f){return M9(f)&&f>=-me&&f<=me},Ze.isSet=Q6,Ze.isString=ul,Ze.isSymbol=Pr,Ze.isTypedArray=b0,Ze.isUndefined=function e5(f){return f===o},Ze.isWeakMap=function t5(f){return lt(f)&&xr(f)==De},Ze.isWeakSet=function fl(f){return lt(f)&&"[object WeakSet]"==kn(f)},Ze.join=function $n(f,x){return null==f?"":_6.call(f,x)},Ze.kebabCase=Qh,Ze.last=Qr,Ze.lastIndexOf=function nh(f,x,Z){var Le=null==f?0:f.length;if(!Le)return-1;var Ne=Le;return Z!==o&&(Ne=(Ne=nn(Z))<0?c3(Le+Ne,0):u3(Ne,Le-1)),x==x?function q4($1,p2,u2){for(var K2=u2+1;K2--;)if($1[K2]===p2)return K2;return K2}(f,x,Ne):Bi(f,ko,Ne,!0)},Ze.lowerCase=n4,Ze.lowerFirst=ep,Ze.lt=dl,Ze.lte=hl,Ze.max=function Z9(f){return f&&f.length?Zt(f,Rr,n3):o},Ze.maxBy=function J9(f,x){return f&&f.length?Zt(f,Tt(x,2),n3):o},Ze.mean=function X9(f){return U2(f,Rr)},Ze.meanBy=function yp(f,x){return U2(f,Tt(x,2))},Ze.min=function Ol(f){return f&&f.length?Zt(f,Rr,_8):o},Ze.minBy=function _p(f,x){return f&&f.length?Zt(f,Tt(x,2),_8):o},Ze.stubArray=o5,Ze.stubFalse=P4,Ze.stubObject=function s5(){return{}},Ze.stubString=function gp(){return""},Ze.stubTrue=function mp(){return!0},Ze.multiply=bp,Ze.nth=function ts(f,x){return f&&f.length?y7(f,nn(x)):o},Ze.noConflict=function $9(){return o3._===this&&(o3._=C8),this},Ze.noop=Vl,Ze.now=G6,Ze.pad=function tp(f,x,Z){f=En(f);var Le=(x=nn(x))?l3(f):0;if(!x||Le>=x)return f;var Ne=(x-Le)/2;return vi(Ha(Ne),Z)+f+vi(T3(Ne),Z)},Ze.padEnd=function c_(f,x,Z){f=En(f);var Le=(x=nn(x))?l3(f):0;return x&&Le<x?f+vi(x-Le,Z):f},Ze.padStart=function u_(f,x,Z){f=En(f);var Le=(x=nn(x))?l3(f):0;return x&&Le<x?vi(x-Le,Z)+f:f},Ze.parseInt=function I9(f,x,Z){return Z||null==x?x=0:x&&(x=+x),Jn(En(f).replace(e1,""),x||0)},Ze.random=function E9(f,x,Z){if(Z&&"boolean"!=typeof Z&&Y3(f,x,Z)&&(x=Z=o),Z===o&&("boolean"==typeof x?(Z=x,x=o):"boolean"==typeof f&&(Z=f,f=o)),f===o&&x===o?(f=0,x=1):(f=Ba(f),x===o?(x=f,f=0):x=Ba(x)),f>x){var Le=f;f=x,x=Le}if(Z||f%1||x%1){var Ne=dr();return u3(f+Ne*(x-f+Ii("1e-"+((Ne+"").length-1))),x)}return q3(f,x)},Ze.reduce=function Q8(f,x,Z){var Le=Xt(f)?zr:g4,Ne=arguments.length<3;return Le(f,Tt(x,4),Z,Ne,q2)},Ze.reduceRight=function l9(f,x,Z){var Le=Xt(f)?Fi:g4,Ne=arguments.length<3;return Le(f,Tt(x,4),Z,Ne,Mt)},Ze.repeat=function f_(f,x,Z){return x=(Z?Y3(f,x,Z):x===o)?1:nn(x),za(En(f),x)},Ze.replace=function np(){var f=arguments,x=En(f[0]);return f.length<3?x:x.replace(f[1],f[2])},Ze.result=function os(f,x,Z){var Le=-1,Ne=(x=P3(x,f)).length;for(Ne||(Ne=1,f=o);++Le<Ne;){var o1=null==f?o:f[Fa(x[Le])];o1===o&&(Le=Ne,o1=Z),f=aa(o1)?o1.call(f):o1}return f},Ze.round=Q9,Ze.runInContext=$1,Ze.sample=function el(f){return(Xt(f)?x1:jo)(f)},Ze.size=function Ah(f){if(null==f)return 0;if(Ir(f))return ul(f)?l3(f):f.length;var x=xr(f);return x==Me||x==Xe?f.size:Uo(f).length},Ze.snakeCase=Ll,Ze.some=function kh(f,x,Z){var Le=Xt(f)?Rs:tn;return Z&&Y3(f,x,Z)&&(x=o),Le(f,Tt(x,3))},Ze.sortedIndex=function p0(f,x){return T6(f,x)},Ze.sortedIndexBy=function Lr(f,x,Z){return M7(f,x,Tt(Z,2))},Ze.sortedIndexOf=function j8(f,x){var Z=null==f?0:f.length;if(Z){var Le=T6(f,x);if(Le<Z&&E4(f[Le],x))return Le}return-1},Ze.sortedLastIndex=function Q7(f,x){return T6(f,x,!0)},Ze.sortedLastIndexBy=function e9(f,x,Z){return M7(f,x,Tt(Z,2),!0)},Ze.sortedLastIndexOf=function pr(f,x){if(null!=f&&f.length){var Le=T6(f,x,!0)-1;if(E4(f[Le],x))return Le}return-1},Ze.startCase=rp,Ze.startsWith=function ap(f,x,Z){return f=En(f),Z=null==Z?0:gt(nn(Z),0,f.length),x=b4(x),f.slice(Z,Z+x.length)==x},Ze.subtract=cs,Ze.sum=function eu(f){return f&&f.length?fr(f,Rr):0},Ze.sumBy=function Mp(f,x){return f&&f.length?fr(f,Tt(x,2)):0},Ze.template=function ip(f,x,Z){var Le=Ze.templateSettings;Z&&Y3(f,x,Z)&&(x=o),f=En(f),x=M0({},x,Le,V7);var E1,Z1,Ne=M0({},x.imports,Le.imports,V7),o1=K3(Ne),m1=A4(Ne,o1),M2=0,x2=x.interpolate||U1,V2="__p += '",nt=No((x.escape||U1).source+"|"+x2.source+"|"+(x2===G1?r2:U1).source+"|"+(x.evaluate||U1).source+"|$","g"),Ct="//# sourceURL="+(Dn.call(x,"sourceURL")?(x.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++U3+"]")+"\n";f.replace(nt,function(Ht,Cn,gn,r4,wr,L4){return gn||(gn=r4),V2+=f.slice(M2,L4).replace(e2,t3),Cn&&(E1=!0,V2+="' +\n__e("+Cn+") +\n'"),wr&&(Z1=!0,V2+="';\n"+wr+";\n__p += '"),gn&&(V2+="' +\n((__t = ("+gn+")) == null ? '' : __t) +\n'"),M2=L4+Ht.length,Ht}),V2+="';\n";var At=Dn.call(x,"variable")&&x.variable;if(At){if(H1.test(At))throw new Ot("Invalid `variable` option passed into `_.template`")}else V2="with (obj) {\n"+V2+"\n}\n";V2=(Z1?V2.replace(_1,""):V2).replace(I1,"$1").replace(M1,"$1;"),V2="function("+(At||"obj")+") {\n"+(At?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(E1?", __e = _.escape":"")+(Z1?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+V2+"return __p\n}";var on=j9(function(){return xn(o1,Ct+"return "+V2).apply(o,m1)});if(on.source=V2,cl(on))throw on;return on},Ze.times=function p_(f,x){if((f=nn(f))<1||f>me)return[];var Z=le,Le=u3(f,le);x=Tt(x),f-=le;for(var Ne=li(Le,x);++Z<f;)x(Z);return Ne},Ze.toFinite=Ba,Ze.toInteger=nn,Ze.toLength=S9,Ze.toLower=function R9(f){return En(f).toLowerCase()},Ze.toNumber=M4,Ze.toSafeInteger=function Zy(f){return f?gt(nn(f),-me,me):0===f?f:0},Ze.toString=En,Ze.toUpper=function op(f){return En(f).toUpperCase()},Ze.trim=function F9(f,x,Z){if((f=En(f))&&(Z||x===o))return ci(f);if(!f||!(x=b4(x)))return f;var Le=tr(f),Ne=tr(x);return Na(Le,g6(Le,Ne),br(Le,Ne)+1).join("")},Ze.trimEnd=function sp(f,x,Z){if((f=En(f))&&(Z||x===o))return f.slice(0,Sa(f)+1);if(!f||!(x=b4(x)))return f;var Le=tr(f);return Na(Le,0,br(Le,tr(x))+1).join("")},Ze.trimStart=function lp(f,x,Z){if((f=En(f))&&(Z||x===o))return f.replace(e1,"");if(!f||!(x=b4(x)))return f;var Le=tr(f);return Na(Le,g6(Le,tr(x))).join("")},Ze.truncate=function B9(f,x){var Z=30,Le="...";if(h3(x)){var Ne="separator"in x?x.separator:Ne;Z="length"in x?nn(x.length):Z,Le="omission"in x?b4(x.omission):Le}var o1=(f=En(f)).length;if(Kn(f)){var m1=tr(f);o1=m1.length}if(Z>=o1)return f;var E1=Z-l3(Le);if(E1<1)return Le;var Z1=m1?Na(m1,0,E1).join(""):f.slice(0,E1);if(Ne===o)return Z1+Le;if(m1&&(E1+=Z1.length-E1),_0(Ne)){if(f.slice(E1).search(Ne)){var M2,x2=Z1;for(Ne.global||(Ne=No(Ne.source,En(V1.exec(Ne))+"g")),Ne.lastIndex=0;M2=Ne.exec(x2);)var V2=M2.index;Z1=Z1.slice(0,V2===o?E1:V2)}}else if(f.indexOf(b4(Ne),E1)!=E1){var nt=Z1.lastIndexOf(Ne);nt>-1&&(Z1=Z1.slice(0,nt))}return Z1+Le},Ze.unescape=function U9(f){return(f=En(f))&&C1.test(f)?f.replace(Re,Gr):f},Ze.uniqueId=function K9(f){var x=++d8;return En(f)+x},Ze.upperCase=cp,Ze.upperFirst=x4,Ze.each=Z8,Ze.eachRight=rs,Ze.first=q7,L0(Ze,function(){var f={};return jn(Ze,function(x,Z){Dn.call(Ze.prototype,Z)||(f[Z]=x)}),f}(),{chain:!1}),Ze.VERSION="4.17.21",_r(["bind","bindKey","curry","curryRight","partial","partialRight"],function(f){Ze[f].placeholder=Ze}),_r(["drop","take"],function(f,x){Rt.prototype[f]=function(Z){Z=Z===o?1:c3(nn(Z),0);var Le=this.__filtered__&&!x?new Rt(this):this.clone();return Le.__filtered__?Le.__takeCount__=u3(Z,Le.__takeCount__):Le.__views__.push({size:u3(Z,le),type:f+(Le.__dir__<0?"Right":"")}),Le},Rt.prototype[f+"Right"]=function(Z){return this.reverse()[f](Z).reverse()}}),_r(["filter","map","takeWhile"],function(f,x){var Z=x+1,Le=1==Z||3==Z;Rt.prototype[f]=function(Ne){var o1=this.clone();return o1.__iteratees__.push({iteratee:Tt(Ne,3),type:Z}),o1.__filtered__=o1.__filtered__||Le,o1}}),_r(["head","last"],function(f,x){var Z="take"+(x?"Right":"");Rt.prototype[f]=function(){return this[Z](1).value()[0]}}),_r(["initial","tail"],function(f,x){var Z="drop"+(x?"":"Right");Rt.prototype[f]=function(){return this.__filtered__?new Rt(this):this[Z](1)}}),Rt.prototype.compact=function(){return this.filter(Rr)},Rt.prototype.find=function(f){return this.filter(f).head()},Rt.prototype.findLast=function(f){return this.reverse().find(f)},Rt.prototype.invokeMap=Wt(function(f,x){return"function"==typeof f?new Rt(this):this.map(function(Z){return I3(Z,f,x)})}),Rt.prototype.reject=function(f){return this.filter(io(Tt(f)))},Rt.prototype.slice=function(f,x){f=nn(f);var Z=this;return Z.__filtered__&&(f>0||x<0)?new Rt(Z):(f<0?Z=Z.takeRight(-f):f&&(Z=Z.drop(f)),x!==o&&(Z=(x=nn(x))<0?Z.dropRight(-x):Z.take(x-f)),Z)},Rt.prototype.takeRightWhile=function(f){return this.reverse().takeWhile(f).reverse()},Rt.prototype.toArray=function(){return this.take(le)},jn(Rt.prototype,function(f,x){var Z=/^(?:filter|find|map|reject)|While$/.test(x),Le=/^(?:head|last)$/.test(x),Ne=Ze[Le?"take"+("last"==x?"Right":""):x],o1=Le||/^find/.test(x);!Ne||(Ze.prototype[x]=function(){var m1=this.__wrapped__,E1=Le?[1]:arguments,Z1=m1 instanceof Rt,M2=E1[0],x2=Z1||Xt(m1),V2=function(Cn){var gn=Ne.apply(Ze,C4([Cn],E1));return Le&&nt?gn[0]:gn};x2&&Z&&"function"==typeof M2&&1!=M2.length&&(Z1=x2=!1);var nt=this.__chain__,Ct=!!this.__actions__.length,At=o1&&!nt,on=Z1&&!Ct;if(!o1&&x2){m1=on?m1:new Rt(this);var Ht=f.apply(m1,E1);return Ht.__actions__.push({func:j6,args:[V2],thisArg:o}),new $3(Ht,nt)}return At&&on?f.apply(this,E1):(Ht=this.thru(V2),At?Le?Ht.value()[0]:Ht.value():Ht)})}),_r(["pop","push","shift","sort","splice","unshift"],function(f){var x=Ui[f],Z=/^(?:push|sort|unshift)$/.test(f)?"tap":"thru",Le=/^(?:pop|shift)$/.test(f);Ze.prototype[f]=function(){var Ne=arguments;if(Le&&!this.__chain__){var o1=this.value();return x.apply(Xt(o1)?o1:[],Ne)}return this[Z](function(m1){return x.apply(Xt(m1)?m1:[],Ne)})}}),jn(Rt.prototype,function(f,x){var Z=Ze[x];if(Z){var Le=Z.name+"";Dn.call(Or,Le)||(Or[Le]=[]),Or[Le].push({name:x,func:Z})}}),Or[k6(o,2).name]=[{name:"wrapper",func:o}],Rt.prototype.clone=function Ro(){var f=new Rt(this.__wrapped__);return f.__actions__=Jr(this.__actions__),f.__dir__=this.__dir__,f.__filtered__=this.__filtered__,f.__iteratees__=Jr(this.__iteratees__),f.__takeCount__=this.__takeCount__,f.__views__=Jr(this.__views__),f},Rt.prototype.reverse=function f3(){if(this.__filtered__){var f=new Rt(this);f.__dir__=-1,f.__filtered__=!0}else(f=this.clone()).__dir__*=-1;return f},Rt.prototype.value=function T2(){var f=this.__wrapped__.value(),x=this.__dir__,Z=Xt(f),Le=x<0,Ne=Z?f.length:0,o1=function jd(f,x,Z){for(var Le=-1,Ne=Z.length;++Le<Ne;){var o1=Z[Le],m1=o1.size;switch(o1.type){case"drop":f+=m1;break;case"dropRight":x-=m1;break;case"take":x=u3(x,f+m1);break;case"takeRight":f=c3(f,x-m1)}}return{start:f,end:x}}(0,Ne,this.__views__),m1=o1.start,E1=o1.end,Z1=E1-m1,M2=Le?E1:m1-1,x2=this.__iteratees__,V2=x2.length,nt=0,Ct=u3(Z1,this.__takeCount__);if(!Z||!Le&&Ne==Z1&&Ct==Z1)return A3(f,this.__actions__);var At=[];e:for(;Z1--&&nt<Ct;){for(var on=-1,Ht=f[M2+=x];++on<V2;){var Cn=x2[on],r4=Cn.type,wr=(0,Cn.iteratee)(Ht);if(2==r4)Ht=wr;else if(!wr){if(1==r4)continue e;break e}}At[nt++]=Ht}return At},Ze.prototype.at=Mh,Ze.prototype.chain=function xh(){return q8(this)},Ze.prototype.commit=function Lh(){return new $3(this.value(),this.__chain__)},Ze.prototype.next=function a9(){this.__values__===o&&(this.__values__=jh(this.value()));var f=this.__index__>=this.__values__.length;return{done:f,value:f?o:this.__values__[this.__index__++]}},Ze.prototype.plant=function Dh(f){for(var x,Z=this;Z instanceof Yi;){var Le=I8(Z);Le.__index__=0,Le.__values__=o,x?Ne.__wrapped__=Le:x=Le;var Ne=Le;Z=Z.__wrapped__}return Ne.__wrapped__=f,x},Ze.prototype.reverse=function ns(){var f=this.__wrapped__;if(f instanceof Rt){var x=f;return this.__actions__.length&&(x=new Rt(this)),(x=x.reverse()).__actions__.push({func:j6,args:[X7],thisArg:o}),new $3(x,this.__chain__)}return this.thru(X7)},Ze.prototype.toJSON=Ze.prototype.valueOf=Ze.prototype.value=function ra(){return A3(this.__wrapped__,this.__actions__)},Ze.prototype.first=Ze.prototype.head,$i&&(Ze.prototype[$i]=function wh(){return this}),Ze}();o3._=G3,(te=function(){return G3}.call(m,de,m,x3))!==o&&(x3.exports=te)}.call(this)},564:x3=>{x3.exports=function m(de,te,o){function g(c,C){if(!te[c]){if(!de[c]){if(p)return p(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var u=te[c]={exports:{}};de[c][0].call(u.exports,function(_){return g(de[c][1][_]||_)},u,u.exports,m,de,te,o)}return te[c].exports}for(var p=void 0,l=0;l<o.length;l++)g(o[l]);return g}({1:[function(m,de,te){"use strict";var o=m("../src/lib"),g={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid transparent;border-left-color:#69738a;margin-top:8px;margin-right:-30px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:#fff;","X .select-outline-2":"stroke:#000;stroke-dasharray:2px 2px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var p in g){var l=p.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");o.addStyleRule(l,g[p])}},{"../src/lib":232}],2:[function(m,de,te){"use strict";de.exports=m("../src/transforms/aggregate")},{"../src/transforms/aggregate":386}],3:[function(m,de,te){"use strict";de.exports=m("../src/traces/bar")},{"../src/traces/bar":336}],4:[function(m,de,te){"use strict";de.exports=m("../src/components/calendars")},{"../src/components/calendars":100}],5:[function(m,de,te){"use strict";de.exports=m("../src/core")},{"../src/core":214}],6:[function(m,de,te){"use strict";de.exports=m("../src/transforms/filter")},{"../src/transforms/filter":387}],7:[function(m,de,te){"use strict";de.exports=m("../src/transforms/groupby")},{"../src/transforms/groupby":388}],8:[function(m,de,te){"use strict";var o=m("./core");o.register([m("./bar"),m("./pie"),m("./aggregate"),m("./filter"),m("./groupby"),m("./sort"),m("./calendars")]),de.exports=o},{"./aggregate":2,"./bar":3,"./calendars":4,"./core":5,"./filter":6,"./groupby":7,"./pie":9,"./sort":10}],9:[function(m,de,te){"use strict";de.exports=m("../src/traces/pie")},{"../src/traces/pie":351}],10:[function(m,de,te){"use strict";de.exports=m("../src/transforms/sort")},{"../src/transforms/sort":390}],11:[function(m,de,te){(function(){var o={version:"3.8.0"},g=[].slice,p=function(v){return g.call(v)},l=self.document;function c(v){return v&&(v.ownerDocument||v.document||v).documentElement}function C(v){return v&&(v.ownerDocument&&v.ownerDocument.defaultView||v.document&&v||v.defaultView)}if(l)try{p(l.documentElement.childNodes)}catch(v){p=function(A){for(var U=A.length,Q=new Array(U);U--;)Q[U]=A[U];return Q}}if(Date.now||(Date.now=function(){return+new Date}),l)try{l.createElement("DIV").style.setProperty("opacity",0,"")}catch(v){var d=this.Element.prototype,h=d.setAttribute,u=d.setAttributeNS,_=this.CSSStyleDeclaration.prototype,b=_.setProperty;d.setAttribute=function(A,U){h.call(this,A,U+"")},d.setAttributeNS=function(A,U,Q){u.call(this,A,U,Q+"")},_.setProperty=function(A,U,Q){b.call(this,A,U+"",Q)}}function M(v,A){return v<A?-1:v>A?1:v>=A?0:NaN}function L(v){return null===v?NaN:+v}function N(v){return!isNaN(v)}function z(v){return{left:function(A,U,Q,se){for(arguments.length<3&&(Q=0),arguments.length<4&&(se=A.length);Q<se;){var Ce=Q+se>>>1;v(A[Ce],U)<0?Q=Ce+1:se=Ce}return Q},right:function(A,U,Q,se){for(arguments.length<3&&(Q=0),arguments.length<4&&(se=A.length);Q<se;){var Ce=Q+se>>>1;v(A[Ce],U)>0?se=Ce:Q=Ce+1}return Q}}}o.ascending=M,o.descending=function(v,A){return A<v?-1:A>v?1:A>=v?0:NaN},o.min=function(v,A){var U,Q,se=-1,Ce=v.length;if(1===arguments.length){for(;++se<Ce;)if(null!=(Q=v[se])&&Q>=Q){U=Q;break}for(;++se<Ce;)null!=(Q=v[se])&&U>Q&&(U=Q)}else{for(;++se<Ce;)if(null!=(Q=A.call(v,v[se],se))&&Q>=Q){U=Q;break}for(;++se<Ce;)null!=(Q=A.call(v,v[se],se))&&U>Q&&(U=Q)}return U},o.max=function(v,A){var U,Q,se=-1,Ce=v.length;if(1===arguments.length){for(;++se<Ce;)if(null!=(Q=v[se])&&Q>=Q){U=Q;break}for(;++se<Ce;)null!=(Q=v[se])&&Q>U&&(U=Q)}else{for(;++se<Ce;)if(null!=(Q=A.call(v,v[se],se))&&Q>=Q){U=Q;break}for(;++se<Ce;)null!=(Q=A.call(v,v[se],se))&&Q>U&&(U=Q)}return U},o.extent=function(v,A){var U,Q,se,Ce=-1,_e=v.length;if(1===arguments.length){for(;++Ce<_e;)if(null!=(Q=v[Ce])&&Q>=Q){U=se=Q;break}for(;++Ce<_e;)null!=(Q=v[Ce])&&(U>Q&&(U=Q),se<Q&&(se=Q))}else{for(;++Ce<_e;)if(null!=(Q=A.call(v,v[Ce],Ce))&&Q>=Q){U=se=Q;break}for(;++Ce<_e;)null!=(Q=A.call(v,v[Ce],Ce))&&(U>Q&&(U=Q),se<Q&&(se=Q))}return[U,se]},o.sum=function(v,A){var U,Q=0,se=v.length,Ce=-1;if(1===arguments.length)for(;++Ce<se;)N(U=+v[Ce])&&(Q+=U);else for(;++Ce<se;)N(U=+A.call(v,v[Ce],Ce))&&(Q+=U);return Q},o.mean=function(v,A){var U,Q=0,se=v.length,Ce=-1,_e=se;if(1===arguments.length)for(;++Ce<se;)N(U=L(v[Ce]))?Q+=U:--_e;else for(;++Ce<se;)N(U=L(A.call(v,v[Ce],Ce)))?Q+=U:--_e;if(_e)return Q/_e},o.quantile=function(v,A){var U=(v.length-1)*A+1,Q=Math.floor(U),se=+v[Q-1],Ce=U-Q;return Ce?se+Ce*(v[Q]-se):se},o.median=function(v,A){var U,Q=[],se=v.length,Ce=-1;if(1===arguments.length)for(;++Ce<se;)N(U=L(v[Ce]))&&Q.push(U);else for(;++Ce<se;)N(U=L(A.call(v,v[Ce],Ce)))&&Q.push(U);if(Q.length)return o.quantile(Q.sort(M),.5)},o.variance=function(v,A){var U,Q,se=v.length,Ce=0,_e=0,Te=-1,Se=0;if(1===arguments.length)for(;++Te<se;)N(U=L(v[Te]))&&(_e+=(Q=U-Ce)*(U-(Ce+=Q/++Se)));else for(;++Te<se;)N(U=L(A.call(v,v[Te],Te)))&&(_e+=(Q=U-Ce)*(U-(Ce+=Q/++Se)));if(Se>1)return _e/(Se-1)},o.deviation=function(){var v=o.variance.apply(this,arguments);return v&&Math.sqrt(v)};var k=z(M);function D(v){return v.length}o.bisectLeft=k.left,o.bisect=o.bisectRight=k.right,o.bisector=function(v){return z(1===v.length?function(A,U){return M(v(A),U)}:v)},o.shuffle=function(v,A,U){(Ce=arguments.length)<3&&(U=v.length,Ce<2&&(A=0));for(var Q,se,Ce=U-A;Ce;)se=Math.random()*Ce--|0,Q=v[Ce+A],v[Ce+A]=v[se+A],v[se+A]=Q;return v},o.permute=function(v,A){for(var U=A.length,Q=new Array(U);U--;)Q[U]=v[A[U]];return Q},o.pairs=function(v){for(var A=0,U=v.length-1,Q=v[0],se=new Array(U<0?0:U);A<U;)se[A]=[Q,Q=v[++A]];return se},o.transpose=function(v){if(!(se=v.length))return[];for(var A=-1,U=o.min(v,D),Q=new Array(U);++A<U;)for(var se,Ce=-1,_e=Q[A]=new Array(se);++Ce<se;)_e[Ce]=v[Ce][A];return Q},o.zip=function(){return o.transpose(arguments)},o.keys=function(v){var A=[];for(var U in v)A.push(U);return A},o.values=function(v){var A=[];for(var U in v)A.push(v[U]);return A},o.entries=function(v){var A=[];for(var U in v)A.push({key:U,value:v[U]});return A},o.merge=function(v){for(var A,U,Q,se=v.length,Ce=-1,_e=0;++Ce<se;)_e+=v[Ce].length;for(U=new Array(_e);--se>=0;)for(A=(Q=v[se]).length;--A>=0;)U[--_e]=Q[A];return U};var S=Math.abs;function P(v){for(var A=1;v*A%1;)A*=10;return A}function H(v,A){for(var U in A)Object.defineProperty(v.prototype,U,{value:A[U],enumerable:!1})}function E(){this._=Object.create(null)}function I(v){return"__proto__"==(v+="")||"\0"===v[0]?"\0"+v:v}function w(v){return"\0"===(v+="")[0]?v.slice(1):v}function B(v){return I(v)in this._}function $(v){return(v=I(v))in this._&&delete this._[v]}function T(){var v=[];for(var A in this._)v.push(w(A));return v}function Y(){var v=0;for(var A in this._)++v;return v}function W(){for(var v in this._)return!1;return!0}function q(){this._=Object.create(null)}function X(v){return v}function ee(v,A,U){return function(){var Q=U.apply(A,arguments);return Q===A?v:Q}}function ce(v,A){if(A in v)return A;A=A.charAt(0).toUpperCase()+A.slice(1);for(var U=0,Q=me.length;U<Q;++U){var se=me[U]+A;if(se in v)return se}}o.range=function(v,A,U){if(arguments.length<3&&(U=1,arguments.length<2&&(A=v,v=0)),(A-v)/U==1/0)throw new Error("infinite range");var Q,se=[],Ce=P(S(U)),_e=-1;if(v*=Ce,A*=Ce,(U*=Ce)<0)for(;(Q=v+U*++_e)>A;)se.push(Q/Ce);else for(;(Q=v+U*++_e)<A;)se.push(Q/Ce);return se},o.map=function(v,A){var U=new E;if(v instanceof E)v.forEach(function(Te,Se){U.set(Te,Se)});else if(Array.isArray(v)){var Q,se=-1,Ce=v.length;if(1===arguments.length)for(;++se<Ce;)U.set(se,v[se]);else for(;++se<Ce;)U.set(A.call(v,Q=v[se],se),Q)}else for(var _e in v)U.set(_e,v[_e]);return U},H(E,{has:B,get:function(v){return this._[I(v)]},set:function(v,A){return this._[I(v)]=A},remove:$,keys:T,values:function(){var v=[];for(var A in this._)v.push(this._[A]);return v},entries:function(){var v=[];for(var A in this._)v.push({key:w(A),value:this._[A]});return v},size:Y,empty:W,forEach:function(v){for(var A in this._)v.call(this,w(A),this._[A])}}),o.nest=function(){var v,A,U={},Q=[],se=[];function Ce(_e,Te,Se){if(Se>=Q.length)return A?A.call(U,Te):v?Te.sort(v):Te;for(var He,Ee,a1,s1,v1=-1,k1=Te.length,p1=Q[Se++],x1=new E;++v1<k1;)(s1=x1.get(He=p1(Ee=Te[v1])))?s1.push(Ee):x1.set(He,[Ee]);return _e?(Ee=_e(),a1=function(u1,F1){Ee.set(u1,Ce(_e,F1,Se))}):(Ee={},a1=function(u1,F1){Ee[u1]=Ce(_e,F1,Se)}),x1.forEach(a1),Ee}return U.map=function(_e,Te){return Ce(Te,_e,0)},U.entries=function(_e){return function Te(Se,He){if(He>=Q.length)return Se;var Ee=[],a1=se[He++];return Se.forEach(function(s1,v1){Ee.push({key:s1,values:Te(v1,He)})}),a1?Ee.sort(function(s1,v1){return a1(s1.key,v1.key)}):Ee}(Ce(o.map,_e,0),0)},U.key=function(_e){return Q.push(_e),U},U.sortKeys=function(_e){return se[Q.length-1]=_e,U},U.sortValues=function(_e){return v=_e,U},U.rollup=function(_e){return A=_e,U},U},o.set=function(v){var A=new q;if(v)for(var U=0,Q=v.length;U<Q;++U)A.add(v[U]);return A},H(q,{has:B,add:function(v){return this._[I(v+="")]=!0,v},remove:$,values:T,size:Y,empty:W,forEach:function(v){for(var A in this._)v.call(this,w(A))}}),o.behavior={},o.rebind=function(v,A){for(var U,Q=1,se=arguments.length;++Q<se;)v[U=arguments[Q]]=ee(v,A,A[U]);return v};var me=["webkit","ms","moz","Moz","o","O"];function ae(){}function K(){}function le(v){var A=[],U=new E;function Q(){for(var se,Ce=A,_e=-1,Te=Ce.length;++_e<Te;)(se=Ce[_e].on)&&se.apply(this,arguments);return v}return Q.on=function(se,Ce){var _e,Te=U.get(se);return arguments.length<2?Te&&Te.on:(Te&&(Te.on=null,A=A.slice(0,_e=A.indexOf(Te)).concat(A.slice(_e+1)),U.remove(se)),Ce&&A.push(U.set(se,{on:Ce})),v)},Q}function G(){o.event.preventDefault()}function j(){for(var v,A=o.event;v=A.sourceEvent;)A=v;return A}function oe(v){for(var A=new K,U=0,Q=arguments.length;++U<Q;)A[arguments[U]]=le(A);return A.of=function(se,Ce){return function(_e){try{var Te=_e.sourceEvent=o.event;_e.target=v,o.event=_e,A[_e.type].apply(se,Ce)}finally{o.event=Te}}},A}o.dispatch=function(){for(var v=new K,A=-1,U=arguments.length;++A<U;)v[arguments[A]]=le(v);return v},K.prototype.on=function(v,A){var U=v.indexOf("."),Q="";if(U>=0&&(Q=v.slice(U+1),v=v.slice(0,U)),v)return arguments.length<2?this[v].on(Q):this[v].on(Q,A);if(2===arguments.length){if(null==A)for(v in this)this.hasOwnProperty(v)&&this[v].on(Q,null);return this}},o.event=null,o.requote=function(v){return v.replace(re,"\\$&")};var re=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,F={}.__proto__?function(v,A){v.__proto__=A}:function(v,A){for(var U in A)v[U]=A[U]};function O(v){return F(v,fe),v}var J=function(v,A){return A.querySelector(v)},R=function(v,A){return A.querySelectorAll(v)},ie=function(v,A){var U=v.matches||v[ce(v,"matchesSelector")];return(ie=function(Q,se){return U.call(Q,se)})(v,A)};"function"==typeof Sizzle&&(J=function(v,A){return Sizzle(v,A)[0]||null},R=Sizzle,ie=Sizzle.matchesSelector),o.selection=function(){return o.select(l.documentElement)};var fe=o.selection.prototype=[];function ue(v){return"function"==typeof v?v:function(){return J(v,this)}}function he(v){return"function"==typeof v?v:function(){return R(v,this)}}fe.select=function(v){var A,U,Q,se,Ce=[];v=ue(v);for(var _e=-1,Te=this.length;++_e<Te;){Ce.push(A=[]),A.parentNode=(Q=this[_e]).parentNode;for(var Se=-1,He=Q.length;++Se<He;)(se=Q[Se])?(A.push(U=v.call(se,se.__data__,Se,_e)),U&&"__data__"in se&&(U.__data__=se.__data__)):A.push(null)}return O(Ce)},fe.selectAll=function(v){var A,U,Q=[];v=he(v);for(var se=-1,Ce=this.length;++se<Ce;)for(var _e=this[se],Te=-1,Se=_e.length;++Te<Se;)(U=_e[Te])&&(Q.push(A=p(v.call(U,U.__data__,Te,se))),A.parentNode=U);return O(Q)};var Me="http://www.w3.org/1999/xhtml",be={svg:"http://www.w3.org/2000/svg",xhtml:Me,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ae(v,A){return v=o.ns.qualify(v),null==A?v.local?function(){this.removeAttributeNS(v.space,v.local)}:function(){this.removeAttribute(v)}:"function"==typeof A?v.local?function(){var U=A.apply(this,arguments);null==U?this.removeAttributeNS(v.space,v.local):this.setAttributeNS(v.space,v.local,U)}:function(){var U=A.apply(this,arguments);null==U?this.removeAttribute(v):this.setAttribute(v,U)}:v.local?function(){this.setAttributeNS(v.space,v.local,A)}:function(){this.setAttribute(v,A)}}function ze(v){return v.trim().replace(/\s+/g," ")}function Pe(v){return new RegExp("(?:^|\\s+)"+o.requote(v)+"(?:\\s+|$)","g")}function Fe(v){return(v+"").trim().split(/^|\s+/)}function t1(v,A){var U=(v=Fe(v).map(Xe)).length;return"function"==typeof A?function(){for(var Q=-1,se=A.apply(this,arguments);++Q<U;)v[Q](this,se)}:function(){for(var Q=-1;++Q<U;)v[Q](this,A)}}function Xe(v){var A=Pe(v);return function(U,Q){if(se=U.classList)return Q?se.add(v):se.remove(v);var se=U.getAttribute("class")||"";Q?(A.lastIndex=0,A.test(se)||U.setAttribute("class",ze(se+" "+v))):U.setAttribute("class",ze(se.replace(A," ")))}}function Ue(v,A,U){return null==A?function(){this.style.removeProperty(v)}:"function"==typeof A?function(){var Q=A.apply(this,arguments);null==Q?this.style.removeProperty(v):this.style.setProperty(v,Q,U)}:function(){this.style.setProperty(v,A,U)}}function xe(v,A){return null==A?function(){delete this[v]}:"function"==typeof A?function(){var U=A.apply(this,arguments);null==U?delete this[v]:this[v]=U}:function(){this[v]=A}}function ve(v){return"function"==typeof v?v:(v=o.ns.qualify(v)).local?function(){return this.ownerDocument.createElementNS(v.space,v.local)}:function(){var A=this.ownerDocument,U=this.namespaceURI;return U===Me&&A.documentElement.namespaceURI===Me?A.createElement(v):A.createElementNS(U,v)}}function De(){var v=this.parentNode;v&&v.removeChild(this)}function Ve(v){return{__data__:v}}function Ye(v){return function(){return ie(this,v)}}function Oe(v){return arguments.length||(v=M),function(A,U){return A&&U?v(A.__data__,U.__data__):!A-!U}}function Ie(v,A){for(var U=0,Q=v.length;U<Q;U++)for(var se,Ce=v[U],_e=0,Te=Ce.length;_e<Te;_e++)(se=Ce[_e])&&A(se,_e,U);return v}function Qe(v){return F(v,n1),v}o.ns={prefix:be,qualify:function(v){var A=v.indexOf(":"),U=v;return A>=0&&"xmlns"!==(U=v.slice(0,A))&&(v=v.slice(A+1)),be.hasOwnProperty(U)?{space:be[U],local:v}:v}},fe.attr=function(v,A){if(arguments.length<2){if("string"==typeof v){var U=this.node();return(v=o.ns.qualify(v)).local?U.getAttributeNS(v.space,v.local):U.getAttribute(v)}for(A in v)this.each(Ae(A,v[A]));return this}return this.each(Ae(v,A))},fe.classed=function(v,A){if(arguments.length<2){if("string"==typeof v){var U=this.node(),Q=(v=Fe(v)).length,se=-1;if(A=U.classList){for(;++se<Q;)if(!A.contains(v[se]))return!1}else for(A=U.getAttribute("class");++se<Q;)if(!Pe(v[se]).test(A))return!1;return!0}for(A in v)this.each(t1(A,v[A]));return this}return this.each(t1(v,A))},fe.style=function(v,A,U){var Q=arguments.length;if(Q<3){if("string"!=typeof v){for(U in Q<2&&(A=""),v)this.each(Ue(U,v[U],A));return this}if(Q<2){var se=this.node();return C(se).getComputedStyle(se,null).getPropertyValue(v)}U=""}return this.each(Ue(v,A,U))},fe.property=function(v,A){if(arguments.length<2){if("string"==typeof v)return this.node()[v];for(A in v)this.each(xe(A,v[A]));return this}return this.each(xe(v,A))},fe.text=function(v){return arguments.length?this.each("function"==typeof v?function(){var A=v.apply(this,arguments);this.textContent=null==A?"":A}:null==v?function(){this.textContent=""}:function(){this.textContent=v}):this.node().textContent},fe.html=function(v){return arguments.length?this.each("function"==typeof v?function(){var A=v.apply(this,arguments);this.innerHTML=null==A?"":A}:null==v?function(){this.innerHTML=""}:function(){this.innerHTML=v}):this.node().innerHTML},fe.append=function(v){return v=ve(v),this.select(function(){return this.appendChild(v.apply(this,arguments))})},fe.insert=function(v,A){return v=ve(v),A=ue(A),this.select(function(){return this.insertBefore(v.apply(this,arguments),A.apply(this,arguments)||null)})},fe.remove=function(){return this.each(De)},fe.data=function(v,A){var U,Q,se=-1,Ce=this.length;if(!arguments.length){for(v=new Array(Ce=(U=this[0]).length);++se<Ce;)(Q=U[se])&&(v[se]=Q.__data__);return v}function _e(Ee,a1){var s1,v1,k1,p1=Ee.length,x1=a1.length,u1=Math.min(p1,x1),F1=new Array(x1),D1=new Array(x1),h1=new Array(p1);if(A){var n2,o2=new E,v2=new Array(p1);for(s1=-1;++s1<p1;)(v1=Ee[s1])&&(o2.has(n2=A.call(v1,v1.__data__,s1))?h1[s1]=v1:o2.set(n2,v1),v2[s1]=n2);for(s1=-1;++s1<x1;)(v1=o2.get(n2=A.call(a1,k1=a1[s1],s1)))?!0!==v1&&(F1[s1]=v1,v1.__data__=k1):D1[s1]=Ve(k1),o2.set(n2,!0);for(s1=-1;++s1<p1;)s1 in v2&&!0!==o2.get(v2[s1])&&(h1[s1]=Ee[s1])}else{for(s1=-1;++s1<u1;)k1=a1[s1],(v1=Ee[s1])?(v1.__data__=k1,F1[s1]=v1):D1[s1]=Ve(k1);for(;s1<x1;++s1)D1[s1]=Ve(a1[s1]);for(;s1<p1;++s1)h1[s1]=Ee[s1]}D1.update=F1,D1.parentNode=F1.parentNode=h1.parentNode=Ee.parentNode,Te.push(D1),Se.push(F1),He.push(h1)}var Te=Qe([]),Se=O([]),He=O([]);if("function"==typeof v)for(;++se<Ce;)_e(U=this[se],v.call(U,U.parentNode.__data__,se));else for(;++se<Ce;)_e(U=this[se],v);return Se.enter=function(){return Te},Se.exit=function(){return He},Se},fe.datum=function(v){return arguments.length?this.property("__data__",v):this.property("__data__")},fe.filter=function(v){var A,U,Q,se=[];"function"!=typeof v&&(v=Ye(v));for(var Ce=0,_e=this.length;Ce<_e;Ce++){se.push(A=[]),A.parentNode=(U=this[Ce]).parentNode;for(var Te=0,Se=U.length;Te<Se;Te++)(Q=U[Te])&&v.call(Q,Q.__data__,Te,Ce)&&A.push(Q)}return O(se)},fe.order=function(){for(var v=-1,A=this.length;++v<A;)for(var U,Q=this[v],se=Q.length-1,Ce=Q[se];--se>=0;)(U=Q[se])&&(Ce&&Ce!==U.nextSibling&&Ce.parentNode.insertBefore(U,Ce),Ce=U);return this},fe.sort=function(v){v=Oe.apply(this,arguments);for(var A=-1,U=this.length;++A<U;)this[A].sort(v);return this.order()},fe.each=function(v){return Ie(this,function(A,U,Q){v.call(A,A.__data__,U,Q)})},fe.call=function(v){var A=p(arguments);return v.apply(A[0]=this,A),this},fe.empty=function(){return!this.node()},fe.node=function(){for(var v=0,A=this.length;v<A;v++)for(var U=this[v],Q=0,se=U.length;Q<se;Q++){var Ce=U[Q];if(Ce)return Ce}return null},fe.size=function(){var v=0;return Ie(this,function(){++v}),v};var n1=[];function Ke(v){var A,U;return function(Q,se,Ce){var _e,Te=v[Ce].update,Se=Te.length;for(Ce!=U&&(U=Ce,A=0),se>=A&&(A=se+1);!(_e=Te[A])&&++A<Se;);return _e}}function r1(v,A,U){var Q="__on"+v,se=v.indexOf("."),Ce=Je;se>0&&(v=v.slice(0,se));var _e=f1.get(v);function Te(){var Se=this[Q];Se&&(this.removeEventListener(v,Se,Se.$),delete this[Q])}return _e&&(v=_e,Ce=g1),se?A?function(){var Se=Ce(A,p(arguments));Te.call(this),this.addEventListener(v,this[Q]=Se,Se.$=U),Se._=A}:Te:A?ae:function(){var Se,He=new RegExp("^__on([^.]+)"+o.requote(v)+"$");for(var Ee in this)if(Se=Ee.match(He)){var a1=this[Ee];this.removeEventListener(Se[1],a1,a1.$),delete this[Ee]}}}o.selection.enter=Qe,o.selection.enter.prototype=n1,n1.append=fe.append,n1.empty=fe.empty,n1.node=fe.node,n1.call=fe.call,n1.size=fe.size,n1.select=function(v){for(var A,U,Q,se,Ce,_e=[],Te=-1,Se=this.length;++Te<Se;){Q=(se=this[Te]).update,_e.push(A=[]),A.parentNode=se.parentNode;for(var He=-1,Ee=se.length;++He<Ee;)(Ce=se[He])?(A.push(Q[He]=U=v.call(se.parentNode,Ce.__data__,He,Te)),U.__data__=Ce.__data__):A.push(null)}return O(_e)},n1.insert=function(v,A){return arguments.length<2&&(A=Ke(this)),fe.insert.call(this,v,A)},o.select=function(v){var A;return"string"==typeof v?(A=[J(v,l)]).parentNode=l.documentElement:(A=[v]).parentNode=c(v),O([A])},o.selectAll=function(v){var A;return"string"==typeof v?(A=p(R(v,l))).parentNode=l.documentElement:(A=p(v)).parentNode=null,O([A])},fe.on=function(v,A,U){var Q=arguments.length;if(Q<3){if("string"!=typeof v){for(U in Q<2&&(A=!1),v)this.each(r1(U,v[U],A));return this}if(Q<2)return(Q=this.node()["__on"+v])&&Q._;U=!1}return this.each(r1(v,A,U))};var f1=o.map({mouseenter:"mouseover",mouseleave:"mouseout"});function Je(v,A){return function(U){var Q=o.event;o.event=U,A[0]=this.__data__;try{v.apply(this,A)}finally{o.event=Q}}}function g1(v,A){var U=Je(v,A);return function(Q){var se=Q.relatedTarget;se&&(se===this||8&se.compareDocumentPosition(this))||U.call(this,Q)}}l&&f1.forEach(function(v){"on"+v in l&&f1.remove(v)});var b1,_1=0;function I1(v){var A=".dragsuppress-"+ ++_1,U="click"+A,Q=o.select(C(v)).on("touchmove"+A,G).on("dragstart"+A,G).on("selectstart"+A,G);if(null==b1&&(b1=!("onselectstart"in v)&&ce(v.style,"userSelect")),b1){var se=c(v).style,Ce=se[b1];se[b1]="none"}return function(_e){if(Q.on(A,null),b1&&(se[b1]=Ce),_e){var Te=function(){Q.on(U,null)};Q.on(U,function(){G(),Te()},!0),setTimeout(Te,0)}}}o.mouse=function(v){return Re(v,j())};var M1=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Re(v,A){A.changedTouches&&(A=A.changedTouches[0]);var U=v.ownerSVGElement||v;if(U.createSVGPoint){var Q=U.createSVGPoint();if(M1<0){var se=C(v);if(se.scrollX||se.scrollY){var Ce=(U=o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();M1=!(Ce.f||Ce.e),U.remove()}}return M1?(Q.x=A.pageX,Q.y=A.pageY):(Q.x=A.clientX,Q.y=A.clientY),[(Q=Q.matrixTransform(v.getScreenCTM().inverse())).x,Q.y]}var _e=v.getBoundingClientRect();return[A.clientX-_e.left-v.clientLeft,A.clientY-_e.top-v.clientTop]}function Be(){return o.event.changedTouches[0].identifier}o.touch=function(v,A,U){if(arguments.length<3&&(U=A,A=j().changedTouches),A)for(var Q,se=0,Ce=A.length;se<Ce;++se)if((Q=A[se]).identifier===U)return Re(v,Q)},o.behavior.drag=function(){var v=oe(se,"drag","dragstart","dragend"),A=null,U=Ce(ae,o.mouse,C,"mousemove","mouseup"),Q=Ce(Be,o.touch,X,"touchmove","touchend");function se(){this.on("mousedown.drag",U).on("touchstart.drag",Q)}function Ce(_e,Te,Se,He,Ee){return function(){var a1,s1=this,v1=o.event.target.correspondingElement||o.event.target,k1=s1.parentNode,p1=v.of(s1,arguments),x1=0,u1=_e(),F1=".drag"+(null==u1?"":"-"+u1),D1=o.select(Se(v1)).on(He+F1,o2).on(Ee+F1,v2),h1=I1(v1),n2=Te(k1,u1);function o2(){var D2,H2,Z2=Te(k1,u1);Z2&&(x1|=(D2=Z2[0]-n2[0])|(H2=Z2[1]-n2[1]),n2=Z2,p1({type:"drag",x:Z2[0]+a1[0],y:Z2[1]+a1[1],dx:D2,dy:H2}))}function v2(){Te(k1,u1)&&(D1.on(He+F1,null).on(Ee+F1,null),h1(x1),p1({type:"dragend"}))}a1=A?[(a1=A.apply(s1,arguments)).x-n2[0],a1.y-n2[1]]:[0,0],p1({type:"dragstart"})}}return se.origin=function(_e){return arguments.length?(A=_e,se):A},o.rebind(se,v,"on")},o.touches=function(v,A){return arguments.length<2&&(A=j().touches),A?p(A).map(function(U){var Q=Re(v,U);return Q.identifier=U.identifier,Q}):[]};var C1=1e-6,O1=Math.PI,Q1=2*O1,l2=Q1-C1,G1=O1/2,K1=O1/180,N1=180/O1;function ge(v){return v>1?G1:v<-1?-G1:Math.asin(v)}function ye(v){return((v=Math.exp(v))+1/v)/2}var je=Math.SQRT2;o.interpolateZoom=function(v,A){var U,Q,se=v[0],Ce=v[1],_e=v[2],He=A[2],Ee=A[0]-se,a1=A[1]-Ce,s1=Ee*Ee+a1*a1;if(s1<1e-12)Q=Math.log(He/_e)/je,U=function(F1){return[se+F1*Ee,Ce+F1*a1,_e*Math.exp(je*F1*Q)]};else{var v1=Math.sqrt(s1),k1=(He*He-_e*_e+4*s1)/(2*_e*2*v1),p1=(He*He-_e*_e-4*s1)/(2*He*2*v1),x1=Math.log(Math.sqrt(k1*k1+1)-k1),u1=Math.log(Math.sqrt(p1*p1+1)-p1);Q=(u1-x1)/je,U=function(F1){var D1,v2,h1=F1*Q,n2=ye(x1),o2=_e/(2*v1)*(n2*(D1=je*h1+x1,((D1=Math.exp(2*D1))-1)/(D1+1))-(v2=x1,((v2=Math.exp(v2))-1/v2)/2));return[se+o2*Ee,Ce+o2*a1,_e*n2/ye(je*h1+x1)]}}return U.duration=1e3*Q,U},o.behavior.zoom=function(){var v,A,U,Q,se,Ce,_e,Te,Se,He={x:0,y:0,k:1},Ee=[960,500],a1=i1,s1=250,v1=0,k1="mousedown.zoom",p1="mousemove.zoom",x1="mouseup.zoom",u1="touchstart.zoom",F1=oe(D1,"zoomstart","zoom","zoomend");function D1(b2){b2.on(k1,j2).on(d1+".zoom",An).on("dblclick.zoom",Gn).on(u1,It)}function h1(b2){return[(b2[0]-He.x)/He.k,(b2[1]-He.y)/He.k]}function n2(b2){He.k=Math.max(a1[0],Math.min(a1[1],b2))}function o2(b2,q2){var Mt;He.x+=b2[0]-(q2=[(Mt=q2)[0]*He.k+He.x,Mt[1]*He.k+He.y])[0],He.y+=b2[1]-q2[1]}function v2(b2,q2,Mt,bt){b2.__chart__={x:He.x,y:He.y,k:He.k},n2(Math.pow(2,bt)),o2(A=q2,Mt),b2=o.select(b2),s1>0&&(b2=b2.transition().duration(s1)),b2.call(D1.event)}function D2(){_e&&_e.domain(Ce.range().map(function(b2){return(b2-He.x)/He.k}).map(Ce.invert)),Se&&Se.domain(Te.range().map(function(b2){return(b2-He.y)/He.k}).map(Te.invert))}function H2(b2){v1++||b2({type:"zoomstart"})}function Z2(b2){D2(),b2({type:"zoom",scale:He.k,translate:[He.x,He.y]})}function gt(b2){--v1||(b2({type:"zoomend"}),A=null)}function j2(){var b2=this,q2=F1.of(b2,arguments),Mt=0,bt=o.select(C(b2)).on(p1,cn).on(x1,Jt),Zt=h1(o.mouse(b2)),ln=I1(b2);function cn(){Mt=1,o2(o.mouse(b2),Zt),Z2(q2)}function Jt(){bt.on(p1,null).on(x1,null),ln(Mt),gt(q2)}k4.call(b2),H2(q2)}function It(){var b2,q2=this,Mt=F1.of(q2,arguments),bt={},Zt=0,ln=".zoom-"+o.event.changedTouches[0].identifier,cn="touchmove"+ln,Jt="touchend"+ln,L3=[],H3=o.select(q2),jn=I1(q2);function m3(){var kn=o.touches(q2);return b2=He.k,kn.forEach(function(n3){n3.identifier in bt&&(bt[n3.identifier]=h1(n3))}),kn}function V3(){var kn=o.event.target;o.select(kn).on(cn,W3).on(Jt,Aa),L3.push(kn);for(var n3=o.event.changedTouches,hr=0,Yr=n3.length;hr<Yr;++hr)bt[n3[hr].identifier]=null;var Kr=m3(),z4=Date.now();if(1===Kr.length){if(z4-se<500){var Q4=Kr[0];v2(q2,Q4,bt[Q4.identifier],Math.floor(Math.log(He.k)/Math.LN2)+1),G()}se=z4}else if(Kr.length>1){var I3=Kr[1],Zi=(Q4=Kr[0])[0]-I3[0],ka=Q4[1]-I3[1];Zt=Zi*Zi+ka*ka}}function W3(){var kn,n3,hr,Yr,Kr=o.touches(q2);k4.call(q2);for(var z4=0,Q4=Kr.length;z4<Q4;++z4,Yr=null)if(Yr=bt[(hr=Kr[z4]).identifier]){if(n3)break;kn=hr,n3=Yr}if(Yr){var I3=(I3=hr[0]-kn[0])*I3+(I3=hr[1]-kn[1])*I3,Zi=Zt&&Math.sqrt(I3/Zt);kn=[(kn[0]+hr[0])/2,(kn[1]+hr[1])/2],n3=[(n3[0]+Yr[0])/2,(n3[1]+Yr[1])/2],n2(Zi*b2)}se=null,o2(kn,n3),Z2(Mt)}function Aa(){if(o.event.touches.length){for(var kn=o.event.changedTouches,n3=0,hr=kn.length;n3<hr;++n3)delete bt[kn[n3].identifier];for(var Yr in bt)return void m3()}o.selectAll(L3).on(ln,null),H3.on(k1,j2).on(u1,It),jn(),gt(Mt)}V3(),H2(Mt),H3.on(k1,null).on(u1,V3)}function An(){var b2=F1.of(this,arguments);Q?clearTimeout(Q):(k4.call(this),v=h1(A=U||o.mouse(this)),H2(b2)),Q=setTimeout(function(){Q=null,gt(b2)},50),G(),n2(Math.pow(2,.002*e1())*He.k),o2(A,v),Z2(b2)}function Gn(){var b2=o.mouse(this),q2=Math.log(He.k)/Math.LN2;v2(this,b2,h1(b2),o.event.shiftKey?Math.ceil(q2)-1:Math.floor(q2)+1)}return d1||(d1="onwheel"in l?(e1=function(){return-o.event.deltaY*(o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in l?(e1=function(){return o.event.wheelDelta},"mousewheel"):(e1=function(){return-o.event.detail},"MozMousePixelScroll")),D1.event=function(b2){b2.each(function(){var q2=F1.of(this,arguments),Mt=He;Rt?o.select(this).transition().each("start.zoom",function(){He=this.__chart__||{x:0,y:0,k:1},H2(q2)}).tween("zoom:zoom",function(){var bt=Ee[0],ln=A?A[0]:bt/2,cn=A?A[1]:Ee[1]/2,Jt=o.interpolateZoom([(ln-He.x)/He.k,(cn-He.y)/He.k,bt/He.k],[(ln-Mt.x)/Mt.k,(cn-Mt.y)/Mt.k,bt/Mt.k]);return function(L3){var H3=Jt(L3),jn=bt/H3[2];this.__chart__=He={x:ln-H3[0]*jn,y:cn-H3[1]*jn,k:jn},Z2(q2)}}).each("interrupt.zoom",function(){gt(q2)}).each("end.zoom",function(){gt(q2)}):(this.__chart__=He,H2(q2),Z2(q2),gt(q2))})},D1.translate=function(b2){return arguments.length?(He={x:+b2[0],y:+b2[1],k:He.k},D2(),D1):[He.x,He.y]},D1.scale=function(b2){return arguments.length?(He={x:He.x,y:He.y,k:null},n2(+b2),D2(),D1):He.k},D1.scaleExtent=function(b2){return arguments.length?(a1=null==b2?i1:[+b2[0],+b2[1]],D1):a1},D1.center=function(b2){return arguments.length?(U=b2&&[+b2[0],+b2[1]],D1):U},D1.size=function(b2){return arguments.length?(Ee=b2&&[+b2[0],+b2[1]],D1):Ee},D1.duration=function(b2){return arguments.length?(s1=+b2,D1):s1},D1.x=function(b2){return arguments.length?(_e=b2,Ce=b2.copy(),He={x:0,y:0,k:1},D1):_e},D1.y=function(b2){return arguments.length?(Se=b2,Te=b2.copy(),He={x:0,y:0,k:1},D1):Se},o.rebind(D1,F1,"on")};var e1,d1,i1=[0,1/0];function l1(){}function c1(v,A,U){return this instanceof c1?(this.h=+v,this.s=+A,void(this.l=+U)):arguments.length<2?v instanceof c1?new c1(v.h,v.s,v.l):O2(""+v,S2,c1):new c1(v,A,U)}o.color=l1,l1.prototype.toString=function(){return this.rgb()+""},o.hsl=c1;var L1=c1.prototype=new l1;function H1(v,A,U){var Q,se;function Ce(_e){return Math.round(255*((Te=_e)>360?Te-=360:Te<0&&(Te+=360),Te<60?Q+(se-Q)*Te/60:Te<180?se:Te<240?Q+(se-Q)*(240-Te)/60:Q));var Te}return v=isNaN(v)?0:(v%=360)<0?v+360:v,A=isNaN(A)||A<0?0:A>1?1:A,Q=2*(U=U<0?0:U>1?1:U)-(se=U<=.5?U*(1+A):U+A-U*A),new R1(Ce(v+120),Ce(v),Ce(v-120))}function B1(v,A,U){return this instanceof B1?(this.h=+v,this.c=+A,void(this.l=+U)):arguments.length<2?v instanceof B1?new B1(v.h,v.c,v.l):a2(v instanceof q1?v.l:(v=j1((v=o.rgb(v)).r,v.g,v.b)).l,v.a,v.b):new B1(v,A,U)}L1.brighter=function(v){return v=Math.pow(.7,arguments.length?v:1),new c1(this.h,this.s,this.l/v)},L1.darker=function(v){return v=Math.pow(.7,arguments.length?v:1),new c1(this.h,this.s,v*this.l)},L1.rgb=function(){return H1(this.h,this.s,this.l)},o.hcl=B1;var r2=B1.prototype=new l1;function V1(v,A,U){return isNaN(v)&&(v=0),isNaN(A)&&(A=0),new q1(U,Math.cos(v*=K1)*A,Math.sin(v)*A)}function q1(v,A,U){return this instanceof q1?(this.l=+v,this.a=+A,void(this.b=+U)):arguments.length<2?v instanceof q1?new q1(v.l,v.a,v.b):v instanceof B1?V1(v.h,v.c,v.l):j1((v=R1(v)).r,v.g,v.b):new q1(v,A,U)}r2.brighter=function(v){return new B1(this.h,this.c,Math.min(100,this.l+f2*(arguments.length?v:1)))},r2.darker=function(v){return new B1(this.h,this.c,Math.max(0,this.l-f2*(arguments.length?v:1)))},r2.rgb=function(){return V1(this.h,this.c,this.l).rgb()},o.lab=q1;var f2=18,z1=q1.prototype=new l1;function w1(v,A,U){var Q=(v+16)/116,se=Q+A/500,Ce=Q-U/200;return new R1(e2(3.2404542*(se=.95047*J1(se))-1.5371385*(Q=1*J1(Q))-.4985314*(Ce=1.08883*J1(Ce))),e2(-.969266*se+1.8760108*Q+.041556*Ce),e2(.0556434*se-.2040259*Q+1.0572252*Ce))}function a2(v,A,U){return v>0?new B1(Math.atan2(U,A)*N1,Math.sqrt(A*A+U*U),v):new B1(NaN,NaN,v)}function J1(v){return v>.206893034?v*v*v:(v-4/29)/7.787037}function U1(v){return v>.008856?Math.pow(v,1/3):7.787037*v+4/29}function e2(v){return Math.round(255*(v<=.00304?12.92*v:1.055*Math.pow(v,1/2.4)-.055))}function R1(v,A,U){return this instanceof R1?(this.r=~~v,this.g=~~A,void(this.b=~~U)):arguments.length<2?v instanceof R1?new R1(v.r,v.g,v.b):O2(""+v,R1,H1):new R1(v,A,U)}function L2(v){return new R1(v>>16,v>>8&255,255&v)}function y2(v){return L2(v)+""}z1.brighter=function(v){return new q1(Math.min(100,this.l+f2*(arguments.length?v:1)),this.a,this.b)},z1.darker=function(v){return new q1(Math.max(0,this.l-f2*(arguments.length?v:1)),this.a,this.b)},z1.rgb=function(){return w1(this.l,this.a,this.b)},o.rgb=R1;var w2=R1.prototype=new l1;function F2(v){return v<16?"0"+Math.max(0,v).toString(16):Math.min(255,v).toString(16)}function O2(v,A,U){var Q,se,Ce,_e=0,Te=0,Se=0;if(Q=/([a-z]+)\((.*)\)/.exec(v=v.toLowerCase()))switch(se=Q[2].split(","),Q[1]){case"hsl":return U(parseFloat(se[0]),parseFloat(se[1])/100,parseFloat(se[2])/100);case"rgb":return A(t2(se[0]),t2(se[1]),t2(se[2]))}return(Ce=d2.get(v))?A(Ce.r,Ce.g,Ce.b):(null==v||"#"!==v.charAt(0)||isNaN(Ce=parseInt(v.slice(1),16))||(4===v.length?(_e=(3840&Ce)>>4,_e|=_e>>4,Te=240&Ce,Te|=Te>>4,Se=15&Ce,Se|=Se<<4):7===v.length&&(_e=(16711680&Ce)>>16,Te=(65280&Ce)>>8,Se=255&Ce)),A(_e,Te,Se))}function S2(v,A,U){var Q,se,Ce=Math.min(v/=255,A/=255,U/=255),_e=Math.max(v,A,U),Te=_e-Ce,Se=(_e+Ce)/2;return Te?(se=Se<.5?Te/(_e+Ce):Te/(2-_e-Ce),Q=v==_e?(A-U)/Te+(A<U?6:0):A==_e?(U-v)/Te+2:(v-A)/Te+4,Q*=60):(Q=NaN,se=Se>0&&Se<1?0:Q),new c1(Q,se,Se)}function j1(v,A,U){var Q=U1((.4124564*(v=Y1(v))+.3575761*(A=Y1(A))+.1804375*(U=Y1(U)))/.95047),se=U1((.2126729*v+.7151522*A+.072175*U)/1);return q1(116*se-16,500*(Q-se),200*(se-U1((.0193339*v+.119192*A+.9503041*U)/1.08883)))}function Y1(v){return(v/=255)<=.04045?v/12.92:Math.pow((v+.055)/1.055,2.4)}function t2(v){var A=parseFloat(v);return"%"===v.charAt(v.length-1)?Math.round(2.55*A):A}w2.brighter=function(v){v=Math.pow(.7,arguments.length?v:1);var A=this.r,U=this.g,Q=this.b,se=30;return A||U||Q?(A&&A<se&&(A=se),U&&U<se&&(U=se),Q&&Q<se&&(Q=se),new R1(Math.min(255,A/v),Math.min(255,U/v),Math.min(255,Q/v))):new R1(se,se,se)},w2.darker=function(v){return new R1((v=Math.pow(.7,arguments.length?v:1))*this.r,v*this.g,v*this.b)},w2.hsl=function(){return S2(this.r,this.g,this.b)},w2.toString=function(){return"#"+F2(this.r)+F2(this.g)+F2(this.b)};var d2=o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function s2(v){return"function"==typeof v?v:function(){return v}}function C2(v){return function(A,U,Q){return 2===arguments.length&&"function"==typeof U&&(Q=U,U=null),G2(A,U,v,Q)}}function G2(v,A,U,Q){var Ee,se={},Ce=o.dispatch("beforesend","progress","load","error"),_e={},Te=new XMLHttpRequest,Se=null;function He(){var Ee,s1,v1,a1=Te.status;if(!a1&&((v1=(s1=Te).responseType)&&"text"!==v1?s1.response:s1.responseText)||a1>=200&&a1<300||304===a1){try{Ee=U.call(se,Te)}catch(s1){return void Ce.error.call(se,s1)}Ce.load.call(se,Ee)}else Ce.error.call(se,Te)}return self.XDomainRequest&&!("withCredentials"in Te)&&/^(http(s)?:)?\/\//.test(v)&&(Te=new XDomainRequest),"onload"in Te?Te.onload=Te.onerror=He:Te.onreadystatechange=function(){Te.readyState>3&&He()},Te.onprogress=function(Ee){var a1=o.event;o.event=Ee;try{Ce.progress.call(se,Te)}finally{o.event=a1}},se.header=function(Ee,a1){return Ee=(Ee+"").toLowerCase(),arguments.length<2?_e[Ee]:(null==a1?delete _e[Ee]:_e[Ee]=a1+"",se)},se.mimeType=function(Ee){return arguments.length?(A=null==Ee?null:Ee+"",se):A},se.responseType=function(Ee){return arguments.length?(Se=Ee,se):Se},se.response=function(Ee){return U=Ee,se},["get","post"].forEach(function(Ee){se[Ee]=function(){return se.send.apply(se,[Ee].concat(p(arguments)))}}),se.send=function(Ee,a1,s1){if(2===arguments.length&&"function"==typeof a1&&(s1=a1,a1=null),Te.open(Ee,v,!0),null==A||"accept"in _e||(_e.accept=A+",*/*"),Te.setRequestHeader)for(var v1 in _e)Te.setRequestHeader(v1,_e[v1]);return null!=A&&Te.overrideMimeType&&Te.overrideMimeType(A),null!=Se&&(Te.responseType=Se),null!=s1&&se.on("error",s1).on("load",function(k1){s1(null,k1)}),Ce.beforesend.call(se,Te),Te.send(null==a1?null:a1),se},se.abort=function(){return Te.abort(),se},o.rebind(se,Ce,"on"),null==Q?se:se.get(1===(Ee=Q).length?function(a1,s1){Ee(null==a1?s1:null)}:Ee)}d2.forEach(function(v,A){d2.set(v,L2(A))}),o.functor=s2,o.xhr=C2(X),o.dsv=function(v,A){var U=new RegExp('["'+v+"\n]"),Q=v.charCodeAt(0);function se(He,Ee,a1){arguments.length<3&&(a1=Ee,Ee=null);var s1=G2(He,A,null==Ee?Ce:_e(Ee),a1);return s1.row=function(v1){return arguments.length?s1.response(null==(Ee=v1)?Ce:_e(v1)):Ee},s1}function Ce(He){return se.parse(He.responseText)}function _e(He){return function(Ee){return se.parse(Ee.responseText,He)}}function Te(He){return He.map(Se).join(v)}function Se(He){return U.test(He)?'"'+He.replace(/\"/g,'""')+'"':He}return se.parse=function(He,Ee){var a1;return se.parseRows(He,function(s1,v1){if(a1)return a1(s1,v1-1);var k1=function(p1){for(var x1={},u1=s1.length,F1=0;F1<u1;++F1)x1[s1[F1]]=p1[F1];return x1};a1=Ee?function(p1,x1){return Ee(k1(p1),x1)}:k1})},se.parseRows=function(He,Ee){var a1,s1,v1={},k1={},p1=[],x1=He.length,u1=0,F1=0;function D1(){if(u1>=x1)return k1;if(s1)return s1=!1,v1;var n2=u1;if(34===He.charCodeAt(n2)){for(var o2=n2;o2++<x1;)if(34===He.charCodeAt(o2)){if(34!==He.charCodeAt(o2+1))break;++o2}return u1=o2+2,13===(v2=He.charCodeAt(o2+1))?(s1=!0,10===He.charCodeAt(o2+2)&&++u1):10===v2&&(s1=!0),He.slice(n2+1,o2).replace(/""/g,'"')}for(;u1<x1;){var v2,D2=1;if(10===(v2=He.charCodeAt(u1++)))s1=!0;else if(13===v2)s1=!0,10===He.charCodeAt(u1)&&(++u1,++D2);else if(v2!==Q)continue;return He.slice(n2,u1-D2)}return He.slice(n2)}for(;(a1=D1())!==k1;){for(var h1=[];a1!==v1&&a1!==k1;)h1.push(a1),a1=D1();Ee&&null==(h1=Ee(h1,F1++))||p1.push(h1)}return p1},se.format=function(He){if(Array.isArray(He[0]))return se.formatRows(He);var Ee=new q,a1=[];return He.forEach(function(s1){for(var v1 in s1)Ee.has(v1)||a1.push(Ee.add(v1))}),[a1.map(Se).join(v)].concat(He.map(function(s1){return a1.map(function(v1){return Se(s1[v1])}).join(v)})).join("\n")},se.formatRows=function(He){return He.map(Te).join("\n")},se},o.csv=o.dsv(",","text/csv"),o.tsv=o.dsv("\t","text/tab-separated-values");var Q2,A2,z2,dt,pt=this[ce(this,"requestAnimationFrame")]||function(v){setTimeout(v,17)};function B2(v,A,U){var Q=arguments.length;Q<2&&(A=0),Q<3&&(U=Date.now());var Ce={c:v,t:U+A,n:null};return A2?A2.n=Ce:Q2=Ce,A2=Ce,z2||(dt=clearTimeout(dt),z2=1,pt(Y2)),Ce}function Y2(){var v=P2(),A=mt()-v;A>24?(isFinite(A)&&(clearTimeout(dt),dt=setTimeout(Y2,A)),z2=0):(z2=1,pt(Y2))}function P2(){for(var v=Date.now(),A=Q2;A;)v>=A.t&&A.c(v-A.t)&&(A.c=null),A=A.n;return v}function mt(){for(var v,A=Q2,U=1/0;A;)A.c?(A.t<U&&(U=A.t),A=(v=A).n):A=v?v.n=A.n:Q2=A.n;return A2=v,U}function N2(v){return v[0]}function vt(v){return v[1]}function ht(v){for(var A,U,Q,se=v.length,Ce=[0,1],_e=2,Te=2;Te<se;Te++){for(;_e>1&&((U=v[Ce[_e-1]])[0]-(A=v[Ce[_e-2]])[0])*((Q=v[Te])[1]-A[1])-(U[1]-A[1])*(Q[0]-A[0])<=0;)--_e;Ce[_e++]=Te}return Ce.slice(0,_e)}function E2(v,A){return v[0]-A[0]||v[1]-A[1]}o.timer=function(){B2.apply(this,arguments)},o.timer.flush=function(){P2(),mt()},o.round=function(v,A){return A?Math.round(v*(A=Math.pow(10,A)))/A:Math.round(v)},o.geom={},o.geom.hull=function(v){var A=N2,U=vt;if(arguments.length)return Q(v);function Q(se){if(se.length<3)return[];var Ce,_e=s2(A),Te=s2(U),Se=se.length,He=[],Ee=[];for(Ce=0;Ce<Se;Ce++)He.push([+_e.call(this,se[Ce],Ce),+Te.call(this,se[Ce],Ce),Ce]);for(He.sort(E2),Ce=0;Ce<Se;Ce++)Ee.push([He[Ce][0],-He[Ce][1]]);var a1=ht(He),s1=ht(Ee),v1=s1[0]===a1[0],k1=s1[s1.length-1]===a1[a1.length-1],p1=[];for(Ce=a1.length-1;Ce>=0;--Ce)p1.push(se[He[a1[Ce]][2]]);for(Ce=+v1;Ce<s1.length-k1;++Ce)p1.push(se[He[s1[Ce]][2]]);return p1}return Q.x=function(se){return arguments.length?(A=se,Q):A},Q.y=function(se){return arguments.length?(U=se,Q):U},Q},o.geom.polygon=function(v){return F(v,ut),v};var ut=o.geom.polygon.prototype=[];function yt(v,A,U){return(U[0]-A[0])*(v[1]-A[1])<(U[1]-A[1])*(v[0]-A[0])}function et(v,A,U,Q){var se=v[0],Ce=U[0],_e=A[0]-se,Te=Q[0]-Ce,Se=v[1],He=U[1],Ee=A[1]-Se,a1=Q[1]-He,s1=(Te*(Se-He)-a1*(se-Ce))/(a1*_e-Te*Ee);return[se+s1*_e,Se+s1*Ee]}function R2(v){var A=v[0],U=v[v.length-1];return!(A[0]-U[0]||A[1]-U[1])}ut.area=function(){for(var v,A=-1,U=this.length,Q=this[U-1],se=0;++A<U;)se+=(v=Q)[1]*(Q=this[A])[0]-v[0]*Q[1];return.5*se},ut.centroid=function(v){var A,U,Q=-1,se=this.length,Ce=0,_e=0,Te=this[se-1];for(arguments.length||(v=-1/(6*this.area()));++Q<se;)Ce+=((A=Te)[0]+(Te=this[Q])[0])*(U=A[0]*Te[1]-Te[0]*A[1]),_e+=(A[1]+Te[1])*U;return[Ce*v,_e*v]},ut.clip=function(v){for(var A,U,Q,se,Ce,_e,Te=R2(v),Se=-1,He=this.length-R2(this),Ee=this[He-1];++Se<He;){for(A=v.slice(),v.length=0,se=this[Se],Ce=A[(Q=A.length-Te)-1],U=-1;++U<Q;)yt(_e=A[U],Ee,se)?(yt(Ce,Ee,se)||v.push(et(Ce,_e,Ee,se)),v.push(_e)):yt(Ce,Ee,se)&&v.push(et(Ce,_e,Ee,se)),Ce=_e;Te&&v.push(v[0]),Ee=se}return v};var g2,_t,hn,Ut,jt,an=[],Sn=[];function pn(){St(this),this.edge=this.site=this.circle=null}function bn(v){var A=an.pop()||new pn;return A.site=v,A}function Nt(v){Pt(v),hn.remove(v),an.push(v),St(v)}function Kt(v){var A=v.circle,U=A.x,Q=A.cy,se={x:U,y:Q},Ce=v.P,_e=v.N,Te=[v];Nt(v);for(var Se=Ce;Se.circle&&S(U-Se.circle.x)<C1&&S(Q-Se.circle.cy)<C1;)Ce=Se.P,Te.unshift(Se),Nt(Se),Se=Ce;Te.unshift(Se),Pt(Se);for(var He=_e;He.circle&&S(U-He.circle.x)<C1&&S(Q-He.circle.cy)<C1;)_e=He.N,Te.push(He),Nt(He),He=_e;Te.push(He),Pt(He);var Ee,a1=Te.length;for(Ee=1;Ee<a1;++Ee)oi((He=Te[Ee]).edge,(Se=Te[Ee-1]).site,He.site,se);(He=Te[a1-1]).edge=ii((Se=Te[0]).site,He.site,null,se),U3(Se),U3(He)}function S3(v){for(var A,U,Q,se,Ce=v.x,_e=v.y,Te=hn._;Te;)if((Q=er(Te,_e)-Ce)>C1)Te=Te.L;else{if(!((se=Ce-mr(Te,_e))>C1)){Q>-C1?(A=Te.P,U=Te):se>-C1?(A=Te,U=Te.N):A=U=Te;break}if(!Te.R){A=Te;break}Te=Te.R}var Se=bn(v);if(hn.insert(A,Se),A||U){if(A===U)return Pt(A),U=bn(A.site),hn.insert(Se,U),Se.edge=U.edge=ii(A.site,Se.site),U3(A),void U3(U);if(U){Pt(A),Pt(U);var He=A.site,Ee=He.x,a1=He.y,s1=v.x-Ee,v1=v.y-a1,k1=U.site,p1=k1.x-Ee,x1=k1.y-a1,u1=2*(s1*x1-v1*p1),F1=s1*s1+v1*v1,D1=p1*p1+x1*x1,h1={x:(x1*F1-v1*D1)/u1+Ee,y:(s1*D1-p1*F1)/u1+a1};oi(U.edge,He,k1,h1),Se.edge=ii(He,v,null,h1),U.edge=ii(v,k1,null,h1),U3(A),U3(U)}else Se.edge=ii(A.site,Se.site)}}function er(v,A){var U=v.site,Q=U.x,se=U.y,Ce=se-A;if(!Ce)return Q;var _e=v.P;if(!_e)return-1/0;var Te=(U=_e.site).x,Se=U.y,He=Se-A;if(!He)return Te;var Ee=Te-Q,a1=1/Ce-1/He,s1=Ee/He;return a1?(-s1+Math.sqrt(s1*s1-2*a1*(Ee*Ee/(-2*He)-Se+He/2+se-Ce/2)))/a1+Q:(Q+Te)/2}function mr(v,A){var U=v.N;if(U)return er(U,A);var Q=v.site;return Q.y===A?Q.x:1/0}function ot(v){this.site=v,this.edges=[]}function Tn(v,A){return A.angle-v.angle}function wt(){St(this),this.x=this.y=this.arc=this.site=this.cy=null}function U3(v){var A=v.P,U=v.N;if(A&&U){var Q=A.site,se=v.site,Ce=U.site;if(Q!==Ce){var _e=se.x,Te=se.y,Se=Q.x-_e,He=Q.y-Te,Ee=Ce.x-_e,a1=2*(Se*(x1=Ce.y-Te)-He*Ee);if(!(a1>=-1e-12)){var s1=Se*Se+He*He,v1=Ee*Ee+x1*x1,k1=(x1*s1-He*v1)/a1,p1=(Se*v1-Ee*s1)/a1,x1=p1+Te,u1=Sn.pop()||new wt;u1.arc=v,u1.site=se,u1.x=k1+_e,u1.y=x1+Math.sqrt(k1*k1+p1*p1),u1.cy=x1,v.circle=u1;for(var F1=null,D1=jt._;D1;)if(u1.y<D1.y||u1.y===D1.y&&u1.x<=D1.x){if(!D1.L){F1=D1.P;break}D1=D1.L}else{if(!D1.R){F1=D1;break}D1=D1.R}jt.insert(F1,u1),F1||(Ut=u1)}}}}function Pt(v){var A=v.circle;A&&(A.P||(Ut=A.N),jt.remove(A),Sn.push(A),St(A),v.circle=null)}function In(v,A){var U=v.b;if(U)return!0;var Q,se,Ce=v.a,_e=A[0][0],Te=A[1][0],Se=A[0][1],He=A[1][1],Ee=v.l,a1=v.r,s1=Ee.x,v1=Ee.y,k1=a1.x,p1=a1.y,x1=(s1+k1)/2;if(p1===v1){if(x1<_e||x1>=Te)return;if(s1>k1){if(Ce){if(Ce.y>=He)return}else Ce={x:x1,y:Se};U={x:x1,y:He}}else{if(Ce){if(Ce.y<Se)return}else Ce={x:x1,y:He};U={x:x1,y:Se}}}else if(se=(v1+p1)/2-(Q=(s1-k1)/(p1-v1))*x1,Q<-1||Q>1)if(s1>k1){if(Ce){if(Ce.y>=He)return}else Ce={x:(Se-se)/Q,y:Se};U={x:(He-se)/Q,y:He}}else{if(Ce){if(Ce.y<Se)return}else Ce={x:(He-se)/Q,y:He};U={x:(Se-se)/Q,y:Se}}else if(v1<p1){if(Ce){if(Ce.x>=Te)return}else Ce={x:_e,y:Q*_e+se};U={x:Te,y:Q*Te+se}}else{if(Ce){if(Ce.x<_e)return}else Ce={x:Te,y:Q*Te+se};U={x:_e,y:Q*_e+se}}return v.a=Ce,v.b=U,!0}function h6(v,A){this.l=v,this.r=A,this.a=this.b=null}function ii(v,A,U,Q){var se=new h6(v,A);return g2.push(se),U&&oi(se,v,A,U),Q&&oi(se,A,v,Q),_t[v.i].edges.push(new Ii(se,v,A)),_t[A.i].edges.push(new Ii(se,A,v)),se}function Vo(v,A,U){var Q=new h6(v,null);return Q.a=A,Q.b=U,g2.push(Q),Q}function oi(v,A,U,Q){v.a||v.b?v.l===U?v.b=Q:v.a=Q:(v.a=Q,v.l=A,v.r=U)}function Ii(v,A,U){var Q=v.a,se=v.b;this.edge=v,this.site=A,this.angle=U?Math.atan2(U.y-A.y,U.x-A.x):v.l===A?Math.atan2(se.x-Q.x,Q.y-se.y):Math.atan2(Q.x-se.x,se.y-Q.y)}function Is(){this._=null}function St(v){v.U=v.C=v.L=v.R=v.P=v.N=null}function _a(v,A){var U=A,Q=A.R,se=U.U;se?se.L===U?se.L=Q:se.R=Q:v._=Q,Q.U=se,U.U=Q,U.R=Q.L,U.R&&(U.R.U=U),Q.L=U}function o3(v,A){var U=A,Q=A.L,se=U.U;se?se.L===U?se.L=Q:se.R=Q:v._=Q,Q.U=se,U.U=Q,U.L=Q.R,U.L&&(U.L.U=U),Q.R=U}function d4(v){for(;v.L;)v=v.L;return v}function $4(v,A){var U,Q,se,Ce=v.sort(s8).pop();for(g2=[],_t=new Array(v.length),hn=new Is,jt=new Is;;)if(se=Ut,Ce&&(!se||Ce.y<se.y||Ce.y===se.y&&Ce.x<se.x))Ce.x===U&&Ce.y===Q||(_t[Ce.i]=new ot(Ce),S3(Ce),U=Ce.x,Q=Ce.y),Ce=v.pop();else{if(!se)break;Kt(se.arc)}A&&(function(Te){for(var Se,He,Ee,a1,s1,v1=g2,k1=(He=Te[0][0],Ee=Te[0][1],a1=Te[1][0],s1=Te[1][1],function(x1){var u1,F1=x1.a,D1=x1.b,h1=F1.x,n2=F1.y,o2=0,v2=1,D2=D1.x-h1,H2=D1.y-n2;if(u1=He-h1,D2||!(u1>0)){if(u1/=D2,D2<0){if(u1<o2)return;u1<v2&&(v2=u1)}else if(D2>0){if(u1>v2)return;u1>o2&&(o2=u1)}if(u1=a1-h1,D2||!(u1<0)){if(u1/=D2,D2<0){if(u1>v2)return;u1>o2&&(o2=u1)}else if(D2>0){if(u1<o2)return;u1<v2&&(v2=u1)}if(u1=Ee-n2,H2||!(u1>0)){if(u1/=H2,H2<0){if(u1<o2)return;u1<v2&&(v2=u1)}else if(H2>0){if(u1>v2)return;u1>o2&&(o2=u1)}if(u1=s1-n2,H2||!(u1<0)){if(u1/=H2,H2<0){if(u1>v2)return;u1>o2&&(o2=u1)}else if(H2>0){if(u1<o2)return;u1<v2&&(v2=u1)}return o2>0&&(x1.a={x:h1+o2*D2,y:n2+o2*H2}),v2<1&&(x1.b={x:h1+v2*D2,y:n2+v2*H2}),x1}}}}}),p1=v1.length;p1--;)(!In(Se=v1[p1],Te)||!k1(Se)||S(Se.a.x-Se.b.x)<C1&&S(Se.a.y-Se.b.y)<C1)&&(Se.a=Se.b=null,v1.splice(p1,1))}(A),function(Te){for(var Se,He,Ee,a1,s1,v1,k1,p1,x1,u1,F1=Te[0][0],D1=Te[1][0],h1=Te[0][1],n2=Te[1][1],o2=_t,v2=o2.length;v2--;)if((s1=o2[v2])&&s1.prepare())for(p1=(k1=s1.edges).length,v1=0;v1<p1;)Ee=(u1=k1[v1].end()).x,a1=u1.y,Se=(x1=k1[++v1%p1].start()).x,He=x1.y,(S(Ee-Se)>C1||S(a1-He)>C1)&&(k1.splice(v1,0,new Ii(Vo(s1.site,u1,S(Ee-F1)<C1&&n2-a1>C1?{x:F1,y:S(Se-F1)<C1?He:n2}:S(a1-n2)<C1&&D1-Ee>C1?{x:S(He-n2)<C1?Se:D1,y:n2}:S(Ee-D1)<C1&&a1-h1>C1?{x:D1,y:S(Se-D1)<C1?He:h1}:S(a1-h1)<C1&&Ee-F1>C1?{x:S(He-h1)<C1?Se:F1,y:h1}:null),s1.site,null)),++p1)}(A));var _e={cells:_t,edges:g2};return hn=jt=g2=_t=null,_e}function s8(v,A){return A.y-v.y||A.x-v.x}ot.prototype.prepare=function(){for(var v,A=this.edges,U=A.length;U--;)(v=A[U].edge).b&&v.a||A.splice(U,1);return A.sort(Tn),A.length},Ii.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Is.prototype={insert:function(v,A){var U,Q,se;if(v){if(A.P=v,A.N=v.N,v.N&&(v.N.P=A),v.N=A,v.R){for(v=v.R;v.L;)v=v.L;v.L=A}else v.R=A;U=v}else this._?(v=d4(this._),A.P=null,A.N=v,v.P=v.L=A,U=v):(A.P=A.N=null,this._=A,U=null);for(A.L=A.R=null,A.U=U,A.C=!0,v=A;U&&U.C;)U===(Q=U.U).L?(se=Q.R)&&se.C?(U.C=se.C=!1,Q.C=!0,v=Q):(v===U.R&&(_a(this,U),U=(v=U).U),U.C=!1,Q.C=!0,o3(this,Q)):(se=Q.L)&&se.C?(U.C=se.C=!1,Q.C=!0,v=Q):(v===U.L&&(o3(this,U),U=(v=U).U),U.C=!1,Q.C=!0,_a(this,Q)),U=v.U;this._.C=!1},remove:function(v){v.N&&(v.N.P=v.P),v.P&&(v.P.N=v.N),v.N=v.P=null;var A,U,Q,se=v.U,Ce=v.L,_e=v.R;if(U=Ce?_e?d4(_e):Ce:_e,se?se.L===v?se.L=U:se.R=U:this._=U,Ce&&_e?(Q=U.C,U.C=v.C,U.L=Ce,Ce.U=U,U!==_e?(se=U.U,U.U=v.U,se.L=v=U.R,U.R=_e,_e.U=U):(U.U=se,se=U,v=U.R)):(Q=v.C,v=U),v&&(v.U=se),!Q)if(v&&v.C)v.C=!1;else{do{if(v===this._)break;if(v===se.L){if((A=se.R).C&&(A.C=!1,se.C=!0,_a(this,se),A=se.R),A.L&&A.L.C||A.R&&A.R.C){A.R&&A.R.C||(A.L.C=!1,A.C=!0,o3(this,A),A=se.R),A.C=se.C,se.C=A.R.C=!1,_a(this,se),v=this._;break}}else if((A=se.L).C&&(A.C=!1,se.C=!0,o3(this,se),A=se.L),A.L&&A.L.C||A.R&&A.R.C){A.L&&A.L.C||(A.R.C=!1,A.C=!0,_a(this,A),A=se.L),A.C=se.C,se.C=A.L.C=!1,o3(this,se),v=this._;break}A.C=!0,v=se,se=se.U}while(!v.C);v&&(v.C=!1)}}},o.geom.voronoi=function(v){var A=N2,U=vt,Q=A,se=U,Ce=vr;if(v)return _e(v);function _e(Se){var He=new Array(Se.length),Ee=Ce[0][0],a1=Ce[0][1],s1=Ce[1][0],v1=Ce[1][1];return $4(Te(Se),Ce).cells.forEach(function(k1,p1){var x1=k1.edges,u1=k1.site;(He[p1]=x1.length?x1.map(function(F1){var D1=F1.start();return[D1.x,D1.y]}):u1.x>=Ee&&u1.x<=s1&&u1.y>=a1&&u1.y<=v1?[[Ee,v1],[s1,v1],[s1,a1],[Ee,a1]]:[]).point=Se[p1]}),He}function Te(Se){return Se.map(function(He,Ee){return{x:Math.round(Q(He,Ee)/C1)*C1,y:Math.round(se(He,Ee)/C1)*C1,i:Ee}})}return _e.links=function(Se){return $4(Te(Se)).edges.filter(function(He){return He.l&&He.r}).map(function(He){return{source:Se[He.l.i],target:Se[He.r.i]}})},_e.triangles=function(Se){var He=[];return $4(Te(Se)).cells.forEach(function(Ee,a1){for(var s1,v1,k1,p1,x1=Ee.site,u1=Ee.edges.sort(Tn),F1=-1,D1=u1.length,h1=u1[D1-1].edge,n2=h1.l===x1?h1.r:h1.l;++F1<D1;)s1=n2,n2=(h1=u1[F1].edge).l===x1?h1.r:h1.l,a1<s1.i&&a1<n2.i&&((v1=x1).x-(p1=n2).x)*((k1=s1).y-v1.y)-(v1.x-k1.x)*(p1.y-v1.y)<0&&He.push([Se[a1],Se[s1.i],Se[n2.i]])}),He},_e.x=function(Se){return arguments.length?(Q=s2(A=Se),_e):A},_e.y=function(Se){return arguments.length?(se=s2(U=Se),_e):U},_e.clipExtent=function(Se){return arguments.length?(Ce=null==Se?vr:Se,_e):Ce===vr?null:Ce},_e.size=function(Se){return arguments.length?_e.clipExtent(Se&&[[0,0],Se]):Ce===vr?null:Ce&&Ce[1]},_e};var vr=[[-1e6,-1e6],[1e6,1e6]];function e3(v){return v.x}function l8(v){return v.y}function Pi(v,A,U,Q,se,Ce){if(!v(A,U,Q,se,Ce)){var _e=.5*(U+se),Te=.5*(Q+Ce),Se=A.nodes;Se[0]&&Pi(v,Se[0],U,Q,_e,Te),Se[1]&&Pi(v,Se[1],_e,Q,se,Te),Se[2]&&Pi(v,Se[2],U,Te,_e,Ce),Se[3]&&Pi(v,Se[3],_e,Te,se,Ce)}}function jr(v,A,U,Q,se,Ce,_e){var Te,Se=1/0;return function He(Ee,a1,s1,v1,k1){if(!(a1>Ce||s1>_e||v1<Q||k1<se)){if(p1=Ee.point){var p1,x1=A-Ee.x,u1=U-Ee.y,F1=x1*x1+u1*u1;if(F1<Se){var D1=Math.sqrt(Se=F1);Q=A-D1,se=U-D1,Ce=A+D1,_e=U+D1,Te=p1}}for(var h1=Ee.nodes,n2=.5*(a1+v1),o2=.5*(s1+k1),v2=(U>=o2)<<1|A>=n2,D2=v2+4;v2<D2;++v2)if(Ee=h1[3&v2])switch(3&v2){case 0:He(Ee,a1,s1,n2,o2);break;case 1:He(Ee,n2,s1,v1,o2);break;case 2:He(Ee,a1,o2,n2,k1);break;case 3:He(Ee,n2,o2,v1,k1)}}}(v,Q,se,Ce,_e),Te}function Ao(v,A){v=o.rgb(v),A=o.rgb(A);var U=v.r,Q=v.g,se=v.b,Ce=A.r-U,_e=A.g-Q,Te=A.b-se;return function(Se){return"#"+F2(Math.round(U+Ce*Se))+F2(Math.round(Q+_e*Se))+F2(Math.round(se+Te*Se))}}function Ps(v,A){var U,Q={},se={};for(U in v)U in A?Q[U]=si(v[U],A[U]):se[U]=v[U];for(U in A)U in v||(se[U]=A[U]);return function(Ce){for(U in Q)se[U]=Q[U](Ce);return se}}function h4(v,A){return v=+v,A=+A,function(U){return v*(1-U)+A*U}}function yr(v,A){var U,Q,se,Ce=wn.lastIndex=_r.lastIndex=0,_e=-1,Te=[],Se=[];for(v+="",A+="";(U=wn.exec(v))&&(Q=_r.exec(A));)(se=Q.index)>Ce&&(se=A.slice(Ce,se),Te[_e]?Te[_e]+=se:Te[++_e]=se),(U=U[0])===(Q=Q[0])?Te[_e]?Te[_e]+=Q:Te[++_e]=Q:(Te[++_e]=null,Se.push({i:_e,x:h4(U,Q)})),Ce=_r.lastIndex;return Ce<A.length&&(se=A.slice(Ce),Te[_e]?Te[_e]+=se:Te[++_e]=se),Te.length<2?Se[0]?(A=Se[0].x,function(He){return A(He)+""}):function(){return A}:(A=Se.length,function(He){for(var Ee,a1=0;a1<A;++a1)Te[(Ee=Se[a1]).i]=Ee.x(He);return Te.join("")})}o.geom.delaunay=function(v){return o.geom.voronoi().triangles(v)},o.geom.quadtree=function(v,A,U,Q,se){var Ce,_e=N2,Te=vt;if(Ce=arguments.length)return _e=e3,Te=l8,3===Ce&&(se=U,Q=A,U=A=0),Se(v);function Se(He){var Ee,a1,s1,v1,k1,p1,x1,u1,F1,D1=s2(_e),h1=s2(Te);if(null!=A)p1=A,x1=U,u1=Q,F1=se;else if(u1=F1=-(p1=x1=1/0),a1=[],s1=[],k1=He.length,Ce)for(v1=0;v1<k1;++v1)(Ee=He[v1]).x<p1&&(p1=Ee.x),Ee.y<x1&&(x1=Ee.y),Ee.x>u1&&(u1=Ee.x),Ee.y>F1&&(F1=Ee.y),a1.push(Ee.x),s1.push(Ee.y);else for(v1=0;v1<k1;++v1){var n2=+D1(Ee=He[v1],v1),o2=+h1(Ee,v1);n2<p1&&(p1=n2),o2<x1&&(x1=o2),n2>u1&&(u1=n2),o2>F1&&(F1=o2),a1.push(n2),s1.push(o2)}var v2=u1-p1,D2=F1-x1;function H2(j2,It,An,Gn,b2,q2,Mt,bt){if(!isNaN(An)&&!isNaN(Gn))if(j2.leaf){var Zt=j2.x,ln=j2.y;if(null!=Zt)if(S(Zt-An)+S(ln-Gn)<.01)Z2(j2,It,An,Gn,b2,q2,Mt,bt);else{var cn=j2.point;j2.x=j2.y=j2.point=null,Z2(j2,cn,Zt,ln,b2,q2,Mt,bt),Z2(j2,It,An,Gn,b2,q2,Mt,bt)}else j2.x=An,j2.y=Gn,j2.point=It}else Z2(j2,It,An,Gn,b2,q2,Mt,bt)}function Z2(j2,It,An,Gn,b2,q2,Mt,bt){var Zt=.5*(b2+Mt),ln=.5*(q2+bt),cn=An>=Zt,Jt=Gn>=ln,L3=Jt<<1|cn;j2.leaf=!1,cn?b2=Zt:Mt=Zt,Jt?q2=ln:bt=ln,H2(j2=j2.nodes[L3]||(j2.nodes[L3]={leaf:!0,nodes:[],point:null,x:null,y:null}),It,An,Gn,b2,q2,Mt,bt)}v2>D2?F1=x1+v2:u1=p1+D2;var gt={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(j2){H2(gt,j2,+D1(j2,++v1),+h1(j2,v1),p1,x1,u1,F1)},visit:function(j2){Pi(j2,gt,p1,x1,u1,F1)},find:function(j2){return jr(gt,j2[0],j2[1],p1,x1,u1,F1)}};if(v1=-1,null==A){for(;++v1<k1;)H2(gt,He[v1],a1[v1],s1[v1],p1,x1,u1,F1);--v1}else He.forEach(gt.add);return a1=s1=He=Ee=null,gt}return Se.x=function(He){return arguments.length?(_e=He,Se):_e},Se.y=function(He){return arguments.length?(Te=He,Se):Te},Se.extent=function(He){return arguments.length?(null==He?A=U=Q=se=null:(A=+He[0][0],U=+He[0][1],Q=+He[1][0],se=+He[1][1]),Se):null==A?null:[[A,U],[Q,se]]},Se.size=function(He){return arguments.length?(null==He?A=U=Q=se=null:(A=U=0,Q=+He[0],se=+He[1]),Se):null==A?null:[Q-A,se-U]},Se},o.interpolateRgb=Ao,o.interpolateObject=Ps,o.interpolateNumber=h4,o.interpolateString=yr;var wn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_r=new RegExp(wn.source,"g");function si(v,A){for(var U,Q=o.interpolators.length;--Q>=0&&!(U=o.interpolators[Q](v,A)););return U}function p4(v,A){var U,Q=[],se=[],Ce=v.length,_e=A.length,Te=Math.min(v.length,A.length);for(U=0;U<Te;++U)Q.push(si(v[U],A[U]));for(;U<Ce;++U)se[U]=v[U];for(;U<_e;++U)se[U]=A[U];return function(Se){for(U=0;U<Te;++U)se[U]=Q[U](Se);return se}}o.interpolate=si,o.interpolators=[function(v,A){var U=typeof A;return("string"===U?d2.has(A.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(A)?Ao:yr:A instanceof l1?Ao:Array.isArray(A)?p4:"object"===U&&isNaN(A)?Ps:h4)(v,A)}],o.interpolateArray=p4;var dn=function(){return X},ba=o.map({linear:dn,poly:function(v){return function(A){return Math.pow(A,v)}},quad:function(){return Fi},cubic:function(){return Rs},sin:function(){return c8},exp:function(){return p6},circle:function(){return Fs},elastic:function(v,A){var U;return arguments.length<2&&(A=.45),arguments.length?U=A/Q1*Math.asin(1/v):(v=1,U=A/4),function(Q){return 1+v*Math.pow(2,-10*Q)*Math.sin((Q-U)*Q1/A)}},back:function(v){return v||(v=1.70158),function(A){return A*A*((v+1)*A-v)}},bounce:function(){return Bi}}),Ri=o.map({in:X,out:C4,"in-out":zr,"out-in":function(v){return zr(C4(v))}});function Pn(v){return function(A){return A<=0?0:A>=1?1:v(A)}}function C4(v){return function(A){return 1-v(1-A)}}function zr(v){return function(A){return.5*(A<.5?v(2*A):2-v(2-2*A))}}function Fi(v){return v*v}function Rs(v){return v*v*v}function Hn(v){if(v<=0)return 0;if(v>=1)return 1;var A=v*v,U=A*v;return 4*(v<.5?U:3*(v-A)+U-.75)}function c8(v){return 1-Math.cos(v*G1)}function p6(v){return Math.pow(2,10*(v-1))}function Fs(v){return 1-Math.sqrt(1-v*v)}function Bi(v){return v<1/2.75?7.5625*v*v:v<2/2.75?7.5625*(v-=1.5/2.75)*v+.75:v<2.5/2.75?7.5625*(v-=2.25/2.75)*v+.9375:7.5625*(v-=2.625/2.75)*v+.984375}function en(v,A){return A-=v,function(U){return Math.round(v+A*U)}}function C6(v){var A,U,Q,se=[v.a,v.b],Ce=[v.c,v.d],_e=U2(se),Te=ko(se,Ce),Se=U2(((A=Ce)[0]+=(Q=-Te)*(U=se)[0],A[1]+=Q*U[1],A))||0;se[0]*Ce[1]<Ce[0]*se[1]&&(se[0]*=-1,se[1]*=-1,_e*=-1,Te*=-1),this.rotate=(_e?Math.atan2(se[1],se[0]):Math.atan2(-Ce[0],Ce[1]))*N1,this.translate=[v.e,v.f],this.scale=[_e,Se],this.skew=Se?Math.atan2(Te,Se)*N1:0}function ko(v,A){return v[0]*A[0]+v[1]*A[1]}function U2(v){var A=Math.sqrt(ko(v,v));return A&&(v[0]/=A,v[1]/=A),A}o.ease=function(v){var A=v.indexOf("-"),U=A>=0?v.slice(0,A):v,Q=A>=0?v.slice(A+1):"in";return U=ba.get(U)||dn,Pn((Q=Ri.get(Q)||X)(U.apply(null,g.call(arguments,1))))},o.interpolateHcl=function(v,A){v=o.hcl(v),A=o.hcl(A);var U=v.h,Q=v.c,se=v.l,Ce=A.h-U,_e=A.c-Q,Te=A.l-se;return isNaN(_e)&&(_e=0,Q=isNaN(Q)?A.c:Q),isNaN(Ce)?(Ce=0,U=isNaN(U)?A.h:U):Ce>180?Ce-=360:Ce<-180&&(Ce+=360),function(Se){return V1(U+Ce*Se,Q+_e*Se,se+Te*Se)+""}},o.interpolateHsl=function(v,A){v=o.hsl(v),A=o.hsl(A);var U=v.h,Q=v.s,se=v.l,Ce=A.h-U,_e=A.s-Q,Te=A.l-se;return isNaN(_e)&&(_e=0,Q=isNaN(Q)?A.s:Q),isNaN(Ce)?(Ce=0,U=isNaN(U)?A.h:U):Ce>180?Ce-=360:Ce<-180&&(Ce+=360),function(Se){return H1(U+Ce*Se,Q+_e*Se,se+Te*Se)+""}},o.interpolateLab=function(v,A){v=o.lab(v),A=o.lab(A);var U=v.l,Q=v.a,se=v.b,Ce=A.l-U,_e=A.a-Q,Te=A.b-se;return function(Se){return w1(U+Ce*Se,Q+_e*Se,se+Te*Se)+""}},o.interpolateRound=en,o.transform=function(v){var A=l.createElementNS(o.ns.prefix.svg,"g");return(o.transform=function(U){if(null!=U){A.setAttribute("transform",U);var Q=A.transform.baseVal.consolidate()}return new C6(Q?Q.matrix:E3)})(v)},C6.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var E3={a:1,b:0,c:0,d:1,e:0,f:0};function Yn(v){return v.length?v.pop()+",":""}function g4(v,A){var se,Ce,_e,U=[],Q=[];return v=o.transform(v),A=o.transform(A),function(se,Ce,_e,Te){if(se[0]!==Ce[0]||se[1]!==Ce[1]){var Se=_e.push("translate(",null,",",null,")");Te.push({i:Se-4,x:h4(se[0],Ce[0])},{i:Se-2,x:h4(se[1],Ce[1])})}else(Ce[0]||Ce[1])&&_e.push("translate("+Ce+")")}(v.translate,A.translate,U,Q),_e=U,(se=v.rotate)!==(Ce=A.rotate)?(se-Ce>180?Ce+=360:Ce-se>180&&(se+=360),Q.push({i:_e.push(Yn(_e)+"rotate(",null,")")-2,x:h4(se,Ce)})):Ce&&_e.push(Yn(_e)+"rotate("+Ce+")"),function(se,Ce,_e,Te){se!==Ce?Te.push({i:_e.push(Yn(_e)+"skewX(",null,")")-2,x:h4(se,Ce)}):Ce&&_e.push(Yn(_e)+"skewX("+Ce+")")}(v.skew,A.skew,U,Q),function(se,Ce,_e,Te){if(se[0]!==Ce[0]||se[1]!==Ce[1]){var Se=_e.push(Yn(_e)+"scale(",null,",",null,")");Te.push({i:Se-4,x:h4(se[0],Ce[0])},{i:Se-2,x:h4(se[1],Ce[1])})}else 1===Ce[0]&&1===Ce[1]||_e.push(Yn(_e)+"scale("+Ce+")")}(v.scale,A.scale,U,Q),v=A=null,function(se){for(var Ce,_e=-1,Te=Q.length;++_e<Te;)U[(Ce=Q[_e]).i]=Ce.x(se);return U.join("")}}function Ma(v,A){return A=(A-=v=+v)||1/A,function(U){return(U-v)/A}}function fr(v,A){return A=(A-=v=+v)||1/A,function(U){return Math.max(0,Math.min(1,(U-v)/A))}}function li(v){for(var A=v.source,U=v.target,Q=function(_e,Te){if(_e===Te)return _e;for(var Se=zo(_e),He=zo(Te),Ee=Se.pop(),a1=He.pop(),s1=null;Ee===a1;)s1=Ee,Ee=Se.pop(),a1=He.pop();return s1}(A,U),se=[A];A!==Q;)se.push(A=A.parent);for(var Ce=se.length;U!==Q;)se.splice(Ce,0,U),U=U.parent;return se}function zo(v){for(var A=[],U=v.parent;null!=U;)A.push(v),v=U,U=U.parent;return A.push(v),A}function ci(v){v.fixed|=2}function j3(v){v.fixed&=-7}function A4(v){v.fixed|=4,v.px=v.x,v.py=v.y}function C3(v){v.fixed&=-5}o.interpolateTransform=g4,o.layout={},o.layout.bundle=function(){return function(v){for(var A=[],U=-1,Q=v.length;++U<Q;)A.push(li(v[U]));return A}},o.layout.chord=function(){var v,A,U,Q,se,Ce,_e,Te={},Se=0;function He(){var a1,s1,v1,k1,p1,x1={},u1=[],F1=o.range(Q),D1=[];for(v=[],A=[],a1=0,k1=-1;++k1<Q;){for(s1=0,p1=-1;++p1<Q;)s1+=U[k1][p1];u1.push(s1),D1.push(o.range(Q)),a1+=s1}for(se&&F1.sort(function(gt,j2){return se(u1[gt],u1[j2])}),Ce&&D1.forEach(function(gt,j2){gt.sort(function(It,An){return Ce(U[j2][It],U[j2][An])})}),a1=(Q1-Se*Q)/a1,s1=0,k1=-1;++k1<Q;){for(v1=s1,p1=-1;++p1<Q;){var h1=F1[k1],n2=D1[h1][p1],o2=U[h1][n2],v2=s1,D2=s1+=o2*a1;x1[h1+"-"+n2]={index:h1,subindex:n2,startAngle:v2,endAngle:D2,value:o2}}A[h1]={index:h1,startAngle:v1,endAngle:s1,value:u1[h1]},s1+=Se}for(k1=-1;++k1<Q;)for(p1=k1-1;++p1<Q;){var H2=x1[k1+"-"+p1],Z2=x1[p1+"-"+k1];(H2.value||Z2.value)&&v.push(H2.value<Z2.value?{source:Z2,target:H2}:{source:H2,target:Z2})}_e&&Ee()}function Ee(){v.sort(function(a1,s1){return _e((a1.source.value+a1.target.value)/2,(s1.source.value+s1.target.value)/2)})}return Te.matrix=function(a1){return arguments.length?(Q=(U=a1)&&U.length,v=A=null,Te):U},Te.padding=function(a1){return arguments.length?(Se=a1,v=A=null,Te):Se},Te.sortGroups=function(a1){return arguments.length?(se=a1,v=A=null,Te):se},Te.sortSubgroups=function(a1){return arguments.length?(Ce=a1,v=null,Te):Ce},Te.sortChords=function(a1){return arguments.length?(_e=a1,v&&Ee(),Te):_e},Te.chords=function(){return v||He(),v},Te.groups=function(){return A||He(),A},Te},o.layout.force=function(){var v,A,U,Q,se,Ce,_e={},Te=o.dispatch("start","tick","end"),Se=[1,1],He=.9,Ee=g6,a1=br,s1=-30,v1=tt,k1=.1,p1=.64,x1=[],u1=[];function F1(h1){return function(n2,o2,v2,D2){if(n2.point!==h1){var H2=n2.cx-h1.x,Z2=n2.cy-h1.y,gt=D2-o2,j2=H2*H2+Z2*Z2;if(gt*gt/p1<j2){if(j2<v1){var It=n2.charge/j2;h1.px-=H2*It,h1.py-=Z2*It}return!0}n2.point&&j2&&j2<v1&&(h1.px-=H2*(It=n2.pointCharge/j2),h1.py-=Z2*It)}return!n2.charge}}function D1(h1){h1.px=o.event.x,h1.py=o.event.y,_e.resume()}return _e.tick=function(){if((U*=.99)<.005)return v=null,Te.end({type:"end",alpha:U=0}),!0;var h1,n2,o2,v2,D2,H2,Z2,gt,j2,It=x1.length,An=u1.length;for(n2=0;n2<An;++n2)v2=(o2=u1[n2]).source,(H2=(gt=(D2=o2.target).x-v2.x)*gt+(j2=D2.y-v2.y)*j2)&&(gt*=H2=U*se[n2]*((H2=Math.sqrt(H2))-Q[n2])/H2,j2*=H2,D2.x-=gt*(Z2=v2.weight+D2.weight?v2.weight/(v2.weight+D2.weight):.5),D2.y-=j2*Z2,v2.x+=gt*(Z2=1-Z2),v2.y+=j2*Z2);if((Z2=U*k1)&&(gt=Se[0]/2,j2=Se[1]/2,n2=-1,Z2))for(;++n2<It;)(o2=x1[n2]).x+=(gt-o2.x)*Z2,o2.y+=(j2-o2.y)*Z2;if(s1)for(function Gn(b2,q2,Mt){var bt=0,Zt=0;if(b2.charge=0,!b2.leaf)for(var ln,cn=b2.nodes,Jt=cn.length,L3=-1;++L3<Jt;)null!=(ln=cn[L3])&&(Gn(ln,q2,Mt),b2.charge+=ln.charge,bt+=ln.charge*ln.cx,Zt+=ln.charge*ln.cy);if(b2.point){b2.leaf||(b2.point.x+=Math.random()-.5,b2.point.y+=Math.random()-.5);var H3=q2*Mt[b2.point.index];b2.charge+=b2.pointCharge=H3,bt+=H3*b2.point.x,Zt+=H3*b2.point.y}b2.cx=bt/b2.charge,b2.cy=Zt/b2.charge}(h1=o.geom.quadtree(x1),U,Ce),n2=-1;++n2<It;)(o2=x1[n2]).fixed||h1.visit(F1(o2));for(n2=-1;++n2<It;)(o2=x1[n2]).fixed?(o2.x=o2.px,o2.y=o2.py):(o2.x-=(o2.px-(o2.px=o2.x))*He,o2.y-=(o2.py-(o2.py=o2.y))*He);Te.tick({type:"tick",alpha:U})},_e.nodes=function(h1){return arguments.length?(x1=h1,_e):x1},_e.links=function(h1){return arguments.length?(u1=h1,_e):u1},_e.size=function(h1){return arguments.length?(Se=h1,_e):Se},_e.linkDistance=function(h1){return arguments.length?(Ee="function"==typeof h1?h1:+h1,_e):Ee},_e.distance=_e.linkDistance,_e.linkStrength=function(h1){return arguments.length?(a1="function"==typeof h1?h1:+h1,_e):a1},_e.friction=function(h1){return arguments.length?(He=+h1,_e):He},_e.charge=function(h1){return arguments.length?(s1="function"==typeof h1?h1:+h1,_e):s1},_e.chargeDistance=function(h1){return arguments.length?(v1=h1*h1,_e):Math.sqrt(v1)},_e.gravity=function(h1){return arguments.length?(k1=+h1,_e):k1},_e.theta=function(h1){return arguments.length?(p1=h1*h1,_e):Math.sqrt(p1)},_e.alpha=function(h1){return arguments.length?(h1=+h1,U?h1>0?U=h1:(v.c=null,v.t=NaN,v=null,Te.end({type:"end",alpha:U=0})):h1>0&&(Te.start({type:"start",alpha:U=h1}),v=B2(_e.tick)),_e):U},_e.start=function(){var h1,n2,o2,v2=x1.length,D2=u1.length,H2=Se[0],Z2=Se[1];for(h1=0;h1<v2;++h1)(o2=x1[h1]).index=h1,o2.weight=0;for(h1=0;h1<D2;++h1)"number"==typeof(o2=u1[h1]).source&&(o2.source=x1[o2.source]),"number"==typeof o2.target&&(o2.target=x1[o2.target]),++o2.source.weight,++o2.target.weight;for(h1=0;h1<v2;++h1)o2=x1[h1],isNaN(o2.x)&&(o2.x=gt("x",H2)),isNaN(o2.y)&&(o2.y=gt("y",Z2)),isNaN(o2.px)&&(o2.px=o2.x),isNaN(o2.py)&&(o2.py=o2.y);if(Q=[],"function"==typeof Ee)for(h1=0;h1<D2;++h1)Q[h1]=+Ee.call(this,u1[h1],h1);else for(h1=0;h1<D2;++h1)Q[h1]=Ee;if(se=[],"function"==typeof a1)for(h1=0;h1<D2;++h1)se[h1]=+a1.call(this,u1[h1],h1);else for(h1=0;h1<D2;++h1)se[h1]=a1;if(Ce=[],"function"==typeof s1)for(h1=0;h1<v2;++h1)Ce[h1]=+s1.call(this,x1[h1],h1);else for(h1=0;h1<v2;++h1)Ce[h1]=s1;function gt(j2,It){if(!n2){for(n2=new Array(v2),q2=0;q2<v2;++q2)n2[q2]=[];for(q2=0;q2<D2;++q2){var An=u1[q2];n2[An.source.index].push(An.target),n2[An.target.index].push(An.source)}}for(var Gn,b2=n2[h1],q2=-1,Mt=b2.length;++q2<Mt;)if(!isNaN(Gn=b2[q2][j2]))return Gn;return Math.random()*It}return _e.resume()},_e.resume=function(){return _e.alpha(.1)},_e.stop=function(){return _e.alpha(0)},_e.drag=function(){if(A||(A=o.behavior.drag().origin(X).on("dragstart.force",ci).on("drag.force",D1).on("dragend.force",j3)),!arguments.length)return A;this.on("mouseover.force",A4).on("mouseout.force",C3).call(A)},o.rebind(_e,Te,"on")};var g6=20,br=1,tt=1/0;function Gt(v,A){return o.rebind(v,A,"sort","children","value"),v.nodes=v,v.links=s3,v}function Nn(v,A){for(var U=[v];null!=(v=U.pop());)if(A(v),(se=v.children)&&(Q=se.length))for(var Q,se;--Q>=0;)U.push(se[Q])}function t3(v,A){for(var U=[v],Q=[];null!=(v=U.pop());)if(Q.push(v),(Ce=v.children)&&(se=Ce.length))for(var se,Ce,_e=-1;++_e<se;)U.push(Ce[_e]);for(;null!=(v=Q.pop());)A(v)}function xa(v){return v.children}function Kn(v){return v.value}function La(v,A){return A.value-v.value}function s3(v){return o.merge(v.map(function(A){return(A.children||[]).map(function(U){return{source:A,target:U}})}))}o.layout.hierarchy=function(){var v=La,A=xa,U=Kn;function Q(se){var Ce,_e=[se],Te=[];for(se.depth=0;null!=(Ce=_e.pop());)if(Te.push(Ce),(He=A.call(Q,Ce,Ce.depth))&&(Se=He.length)){for(var Se,He,Ee;--Se>=0;)_e.push(Ee=He[Se]),Ee.parent=Ce,Ee.depth=Ce.depth+1;U&&(Ce.value=0),Ce.children=He}else U&&(Ce.value=+U.call(Q,Ce,Ce.depth)||0),delete Ce.children;return t3(se,function(a1){var s1,v1;v&&(s1=a1.children)&&s1.sort(v),U&&(v1=a1.parent)&&(v1.value+=a1.value)}),Te}return Q.sort=function(se){return arguments.length?(v=se,Q):v},Q.children=function(se){return arguments.length?(A=se,Q):A},Q.value=function(se){return arguments.length?(U=se,Q):U},Q.revalue=function(se){return U&&(Nn(se,function(Ce){Ce.children&&(Ce.value=0)}),t3(se,function(Ce){var _e;Ce.children||(Ce.value=+U.call(Q,Ce,Ce.depth)||0),(_e=Ce.parent)&&(_e.value+=Ce.value)})),se},Q},o.layout.partition=function(){var v=o.layout.hierarchy(),A=[1,1];function U(Q,se){var Ce=v.call(this,Q,se);return function _e(Te,Se,He,Ee){var a1=Te.children;if(Te.x=Se,Te.y=Te.depth*Ee,Te.dx=He,Te.dy=Ee,a1&&(s1=a1.length)){var s1,v1,k1,p1=-1;for(He=Te.value?He/Te.value:0;++p1<s1;)_e(v1=a1[p1],Se,k1=v1.value*He,Ee),Se+=k1}}(Ce[0],0,A[0],A[1]/function _e(Te){var Se=Te.children,He=0;if(Se&&(Ee=Se.length))for(var Ee,a1=-1;++a1<Ee;)He=Math.max(He,_e(Se[a1]));return 1+He}(Ce[0])),Ce}return U.size=function(Q){return arguments.length?(A=Q,U):A},Gt(U,v)},o.layout.pie=function(){var v=Number,A=W4,U=0,Q=Q1,se=0;function Ce(_e){var Te,Se=_e.length,He=_e.map(function(F1,D1){return+v.call(Ce,F1,D1)}),Ee=+("function"==typeof U?U.apply(this,arguments):U),a1=("function"==typeof Q?Q.apply(this,arguments):Q)-Ee,s1=Math.min(Math.abs(a1)/Se,+("function"==typeof se?se.apply(this,arguments):se)),v1=s1*(a1<0?-1:1),k1=o.sum(He),p1=k1?(a1-Se*v1)/k1:0,x1=o.range(Se),u1=[];return null!=A&&x1.sort(A===W4?function(F1,D1){return He[D1]-He[F1]}:function(F1,D1){return A(_e[F1],_e[D1])}),x1.forEach(function(F1){u1[F1]={data:_e[F1],value:Te=He[F1],startAngle:Ee,endAngle:Ee+=Te*p1+v1,padAngle:s1}}),u1}return Ce.value=function(_e){return arguments.length?(v=_e,Ce):v},Ce.sort=function(_e){return arguments.length?(A=_e,Ce):A},Ce.startAngle=function(_e){return arguments.length?(U=_e,Ce):U},Ce.endAngle=function(_e){return arguments.length?(Q=_e,Ce):Q},Ce.padAngle=function(_e){return arguments.length?(se=_e,Ce):se},Ce};var W4={};function wa(v){return v.x}function Vt(v){return v.y}function Da(v,A,U){v.y0=A,v.y=U}o.layout.stack=function(){var v=X,A=q4,U=l3,Q=Da,se=wa,Ce=Vt;function _e(Te,Se){if(!(s1=Te.length))return Te;var He=Te.map(function(F1,D1){return v.call(_e,F1,D1)}),Ee=He.map(function(F1){return F1.map(function(D1,h1){return[se.call(_e,D1,h1),Ce.call(_e,D1,h1)]})}),a1=A.call(_e,Ee,Se);He=o.permute(He,a1),Ee=o.permute(Ee,a1);var s1,v1,k1,p1,x1=U.call(_e,Ee,Se),u1=He[0].length;for(k1=0;k1<u1;++k1)for(Q.call(_e,He[0][k1],p1=x1[k1],Ee[0][k1][1]),v1=1;v1<s1;++v1)Q.call(_e,He[v1][k1],p1+=Ee[v1-1][k1][1],Ee[v1][k1][1]);return Te}return _e.values=function(Te){return arguments.length?(v=Te,_e):v},_e.order=function(Te){return arguments.length?(A="function"==typeof Te?Te:ui.get(Te)||q4,_e):A},_e.offset=function(Te){return arguments.length?(U="function"==typeof Te?Te:Bs.get(Te)||l3,_e):U},_e.x=function(Te){return arguments.length?(se=Te,_e):se},_e.y=function(Te){return arguments.length?(Ce=Te,_e):Ce},_e.out=function(Te){return arguments.length?(Q=Te,_e):Q},_e};var ui=o.map({"inside-out":function(v){var A,U,Q=v.length,se=v.map(tr),Ce=v.map(Sa),_e=o.range(Q).sort(function(a1,s1){return se[a1]-se[s1]}),Te=0,Se=0,He=[],Ee=[];for(A=0;A<Q;++A)U=_e[A],Te<Se?(Te+=Ce[U],He.push(U)):(Se+=Ce[U],Ee.push(U));return Ee.reverse().concat(He)},reverse:function(v){return o.range(v.length).reverse()},default:q4}),Bs=o.map({silhouette:function(v){var A,U,Q,se=v.length,Ce=v[0].length,_e=[],Te=0,Se=[];for(U=0;U<Ce;++U){for(A=0,Q=0;A<se;A++)Q+=v[A][U][1];Q>Te&&(Te=Q),_e.push(Q)}for(U=0;U<Ce;++U)Se[U]=(Te-_e[U])/2;return Se},wiggle:function(v){var A,U,Q,se,Ce,_e,Te,Se,He,Ee=v.length,a1=v[0],s1=a1.length,v1=[];for(v1[0]=Se=He=0,U=1;U<s1;++U){for(A=0,se=0;A<Ee;++A)se+=v[A][U][1];for(A=0,Ce=0,Te=a1[U][0]-a1[U-1][0];A<Ee;++A){for(Q=0,_e=(v[A][U][1]-v[A][U-1][1])/(2*Te);Q<A;++Q)_e+=(v[Q][U][1]-v[Q][U-1][1])/Te;Ce+=_e*v[A][U][1]}v1[U]=Se-=se?Ce/se*Te:0,Se<He&&(He=Se)}for(U=0;U<s1;++U)v1[U]-=He;return v1},expand:function(v){var A,U,Q,se=v.length,Ce=v[0].length,_e=1/se,Te=[];for(U=0;U<Ce;++U){for(A=0,Q=0;A<se;A++)Q+=v[A][U][1];if(Q)for(A=0;A<se;A++)v[A][U][1]/=Q;else for(A=0;A<se;A++)v[A][U][1]=_e}for(U=0;U<Ce;++U)Te[U]=0;return Te},zero:l3});function q4(v){return o.range(v.length)}function l3(v){for(var A=-1,U=v[0].length,Q=[];++A<U;)Q[A]=0;return Q}function tr(v){for(var A,U=1,Q=0,se=v[0][1],Ce=v.length;U<Ce;++U)(A=v[U][1])>se&&(Q=U,se=A);return Q}function Sa(v){return v.reduce(Gr,0)}function Gr(v,A){return v+A[1]}function Rn(v,A){return m6(v,Math.ceil(Math.log(A.length)/Math.LN2+1))}function m6(v,A){for(var U=-1,Q=+v[0],se=(v[1]-Q)/A,Ce=[];++U<=A;)Ce[U]=se*U+Q;return Ce}function u8(v){return[o.min(v),o.max(v)]}function m4(v,A){return v.value-A.value}function G3(v,A){var U=v._pack_next;v._pack_next=A,A._pack_prev=v,A._pack_next=U,U._pack_prev=A}function $1(v,A){v._pack_next=A,A._pack_prev=v}function p2(v,A){var U=A.x-v.x,Q=A.y-v.y,se=v.r+A.r;return.999*se*se>U*U+Q*Q}function u2(v){if((A=v.children)&&(Se=A.length)){var A,U,Q,se,Ce,_e,Te,Se,He=1/0,Ee=-1/0,a1=1/0,s1=-1/0;if(A.forEach(K2),(U=A[0]).x=-U.r,U.y=0,D1(U),Se>1&&((Q=A[1]).x=Q.r,Q.y=0,D1(Q),Se>2))for(xn(U,Q,se=A[2]),D1(se),G3(U,se),U._pack_prev=se,G3(se,Q),Q=U._pack_next,Ce=3;Ce<Se;Ce++){xn(U,Q,se=A[Ce]);var v1=0,k1=1,p1=1;for(_e=Q._pack_next;_e!==Q;_e=_e._pack_next,k1++)if(p2(_e,se)){v1=1;break}if(1==v1)for(Te=U._pack_prev;Te!==_e._pack_prev&&!p2(Te,se);Te=Te._pack_prev,p1++);v1?(k1<p1||k1==p1&&Q.r<U.r?$1(U,Q=_e):$1(U=Te,Q),Ce--):(G3(U,se),Q=se,D1(se))}var x1=(He+Ee)/2,u1=(a1+s1)/2,F1=0;for(Ce=0;Ce<Se;Ce++)(se=A[Ce]).x-=x1,se.y-=u1,F1=Math.max(F1,se.r+Math.sqrt(se.x*se.x+se.y*se.y));v.r=F1,A.forEach(Ot)}function D1(h1){He=Math.min(h1.x-h1.r,He),Ee=Math.max(h1.x+h1.r,Ee),a1=Math.min(h1.y-h1.r,a1),s1=Math.max(h1.y+h1.r,s1)}}function K2(v){v._pack_next=v._pack_prev=v}function Ot(v){delete v._pack_next,delete v._pack_prev}function xn(v,A,U){var Q=v.r+U.r,se=A.x-v.x,Ce=A.y-v.y;if(Q&&(se||Ce)){var _e=A.r+U.r,Te=se*se+Ce*Ce,Se=.5+((Q*=Q)-(_e*=_e))/(2*Te),He=Math.sqrt(Math.max(0,2*_e*(Q+Te)-(Q-=Te)*Q-_e*_e))/(2*Te);U.x=v.x+Se*se+He*Ce,U.y=v.y+Se*Ce-He*se}else U.x=v.x+Q,U.y=v.y}function g3(v,A){return v.parent==A.parent?1:2}function Vn(v){var A=v.children;return A.length?A[0]:v.t}function No(v){var A,U=v.children;return(A=U.length)?U[A-1]:v.t}function C7(v,A,U){var Q=U/(A.i-v.i);A.c-=Q,A.s+=U,v.c+=Q,A.z+=U,A.m+=U}function $r(v,A,U){return v.a.parent===A.parent?v.a:U}function Ui(v){return{x:v.x,y:v.y,dx:v.dx,dy:v.dy}}function f8(v,A){var U=v.x+A[3],Q=v.y+A[0],se=v.dx-A[1]-A[3],Ce=v.dy-A[0]-A[2];return se<0&&(U+=se/2,se=0),Ce<0&&(Q+=Ce/2,Ce=0),{x:U,y:Q,dx:se,dy:Ce}}function Y4(v){var A=v[0],U=v[v.length-1];return A<U?[A,U]:[U,A]}function fi(v){return v.rangeExtent?v.rangeExtent():Y4(v.range())}function Us(v,A,U,Q){var se=U(v[0],v[1]),Ce=Q(A[0],A[1]);return function(_e){return Ce(se(_e))}}function Dn(v,A){var U,Q=0,se=v.length-1,Ce=v[Q],_e=v[se];return _e<Ce&&(U=Q,Q=se,se=U,U=Ce,Ce=_e,_e=U),v[Q]=A.floor(Ce),v[se]=A.ceil(_e),v}function d8(v){return v?{floor:function(A){return Math.floor(A/v)*v},ceil:function(A){return Math.ceil(A/v)*v}}:h8}o.layout.histogram=function(){var v=!0,A=Number,U=u8,Q=Rn;function se(Ce,_e){for(var Te,Se,He=[],Ee=Ce.map(A,this),a1=U.call(this,Ee,_e),s1=Q.call(this,a1,Ee,_e),v1=(_e=-1,Ee.length),k1=s1.length-1,p1=v?1:1/v1;++_e<k1;)(Te=He[_e]=[]).dx=s1[_e+1]-(Te.x=s1[_e]),Te.y=0;if(k1>0)for(_e=-1;++_e<v1;)(Se=Ee[_e])>=a1[0]&&Se<=a1[1]&&((Te=He[o.bisect(s1,Se,1,k1)-1]).y+=p1,Te.push(Ce[_e]));return He}return se.value=function(Ce){return arguments.length?(A=Ce,se):A},se.range=function(Ce){return arguments.length?(U=s2(Ce),se):U},se.bins=function(Ce){return arguments.length?(Q="number"==typeof Ce?function(_e){return m6(_e,Ce)}:s2(Ce),se):Q},se.frequency=function(Ce){return arguments.length?(v=!!Ce,se):v},se},o.layout.pack=function(){var v,A=o.layout.hierarchy().sort(m4),U=0,Q=[1,1];function se(Ce,_e){var Te=A.call(this,Ce,_e),Se=Te[0],He=Q[0],Ee=Q[1],a1=null==v?Math.sqrt:"function"==typeof v?v:function(){return v};if(Se.x=Se.y=0,t3(Se,function(v1){v1.r=+a1(v1.value)}),t3(Se,u2),U){var s1=U*(v?1:Math.max(2*Se.r/He,2*Se.r/Ee))/2;t3(Se,function(v1){v1.r+=s1}),t3(Se,u2),t3(Se,function(v1){v1.r-=s1})}return function v1(k1,p1,x1,u1){var F1=k1.children;if(k1.x=p1+=u1*k1.x,k1.y=x1+=u1*k1.y,k1.r*=u1,F1)for(var D1=-1,h1=F1.length;++D1<h1;)v1(F1[D1],p1,x1,u1)}(Se,He/2,Ee/2,v?1:1/Math.max(2*Se.r/He,2*Se.r/Ee)),Te}return se.size=function(Ce){return arguments.length?(Q=Ce,se):Q},se.radius=function(Ce){return arguments.length?(v=null==Ce||"function"==typeof Ce?Ce:+Ce,se):v},se.padding=function(Ce){return arguments.length?(U=+Ce,se):U},Gt(se,A)},o.layout.tree=function(){var v=o.layout.hierarchy().sort(null).value(null),A=g3,U=[1,1],Q=null;function se(Se,He){var Ee=v.call(this,Se,He),a1=Ee[0],s1=function(D1){for(var h1,n2={A:null,children:[D1]},o2=[n2];null!=(h1=o2.pop());)for(var v2,D2=h1.children,H2=0,Z2=D2.length;H2<Z2;++H2)o2.push((D2[H2]=v2={_:D2[H2],parent:h1,children:(v2=D2[H2].children)&&v2.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:H2}).a=v2);return n2.children[0]}(a1);if(t3(s1,Ce),s1.parent.m=-s1.z,Nn(s1,_e),Q)Nn(a1,Te);else{var v1=a1,k1=a1,p1=a1;Nn(a1,function(D1){D1.x<v1.x&&(v1=D1),D1.x>k1.x&&(k1=D1),D1.depth>p1.depth&&(p1=D1)});var x1=A(v1,k1)/2-v1.x,u1=U[0]/(k1.x+A(k1,v1)/2+x1),F1=U[1]/(p1.depth||1);Nn(a1,function(D1){D1.x=(D1.x+x1)*u1,D1.y=D1.depth*F1})}return Ee}function Ce(Se){var He=Se.children,Ee=Se.parent.children,a1=Se.i?Ee[Se.i-1]:null;if(He.length){!function(v1){for(var k1,p1=0,x1=0,u1=v1.children,F1=u1.length;--F1>=0;)(k1=u1[F1]).z+=p1,k1.m+=p1,p1+=k1.s+(x1+=k1.c)}(Se);var s1=(He[0].z+He[He.length-1].z)/2;a1?(Se.z=a1.z+A(Se._,a1._),Se.m=Se.z-s1):Se.z=s1}else a1&&(Se.z=a1.z+A(Se._,a1._));Se.parent.A=function(v1,k1,p1){if(k1){for(var x1,u1=v1,F1=v1,D1=k1,h1=u1.parent.children[0],n2=u1.m,o2=F1.m,v2=D1.m,D2=h1.m;D1=No(D1),u1=Vn(u1),D1&&u1;)h1=Vn(h1),(F1=No(F1)).a=v1,(x1=D1.z+v2-u1.z-n2+A(D1._,u1._))>0&&(C7($r(D1,v1,p1),v1,x1),n2+=x1,o2+=x1),v2+=D1.m,n2+=u1.m,D2+=h1.m,o2+=F1.m;D1&&!No(F1)&&(F1.t=D1,F1.m+=v2-o2),u1&&!Vn(h1)&&(h1.t=u1,h1.m+=n2-D2,p1=v1)}return p1}(Se,a1,Se.parent.A||Ee[0])}function _e(Se){Se._.x=Se.z+Se.parent.m,Se.m+=Se.parent.m}function Te(Se){Se.x*=U[0],Se.y=Se.depth*U[1]}return se.separation=function(Se){return arguments.length?(A=Se,se):A},se.size=function(Se){return arguments.length?(Q=null==(U=Se)?Te:null,se):Q?null:U},se.nodeSize=function(Se){return arguments.length?(Q=null==(U=Se)?null:Te,se):Q?U:null},Gt(se,v)},o.layout.cluster=function(){var v=o.layout.hierarchy().sort(null).value(null),A=g3,U=[1,1],Q=!1;function se(Ce,_e){var Te,Se=v.call(this,Ce,_e),He=Se[0],Ee=0;t3(He,function(p1){var u1,x1=p1.children;x1&&x1.length?(p1.x=(u1=x1).reduce(function(F1,D1){return F1+D1.x},0)/u1.length,p1.y=function(u1){return 1+o.max(u1,function(F1){return F1.y})}(x1)):(p1.x=Te?Ee+=A(p1,Te):0,p1.y=0,Te=p1)});var a1=function p1(x1){var u1=x1.children;return u1&&u1.length?p1(u1[0]):x1}(He),s1=function p1(x1){var u1,F1=x1.children;return F1&&(u1=F1.length)?p1(F1[u1-1]):x1}(He),v1=a1.x-A(a1,s1)/2,k1=s1.x+A(s1,a1)/2;return t3(He,Q?function(p1){p1.x=(p1.x-He.x)*U[0],p1.y=(He.y-p1.y)*U[1]}:function(p1){p1.x=(p1.x-v1)/(k1-v1)*U[0],p1.y=(1-(He.y?p1.y/He.y:1))*U[1]}),Se}return se.separation=function(Ce){return arguments.length?(A=Ce,se):A},se.size=function(Ce){return arguments.length?(Q=null==(U=Ce),se):Q?null:U},se.nodeSize=function(Ce){return arguments.length?(Q=null!=(U=Ce),se):Q?U:null},Gt(se,v)},o.layout.treemap=function(){var v,A=o.layout.hierarchy(),U=Math.round,Q=[1,1],se=null,Ce=Ui,_e=!1,Te="squarify",Se=.5*(1+Math.sqrt(5));function He(p1,x1){for(var u1,F1,D1=-1,h1=p1.length;++D1<h1;)F1=(u1=p1[D1]).value*(x1<0?0:x1),u1.area=isNaN(F1)||F1<=0?0:F1}function Ee(p1){var x1=p1.children;if(x1&&x1.length){var u1,F1,D1,h1=Ce(p1),n2=[],o2=x1.slice(),v2=1/0,D2="slice"===Te?h1.dx:"dice"===Te?h1.dy:"slice-dice"===Te?1&p1.depth?h1.dy:h1.dx:Math.min(h1.dx,h1.dy);for(He(o2,h1.dx*h1.dy/p1.value),n2.area=0;(D1=o2.length)>0;)n2.push(u1=o2[D1-1]),n2.area+=u1.area,"squarify"!==Te||(F1=s1(n2,D2))<=v2?(o2.pop(),v2=F1):(n2.area-=n2.pop().area,v1(n2,D2,h1,!1),D2=Math.min(h1.dx,h1.dy),n2.length=n2.area=0,v2=1/0);n2.length&&(v1(n2,D2,h1,!0),n2.length=n2.area=0),x1.forEach(Ee)}}function a1(p1){var x1=p1.children;if(x1&&x1.length){var u1,F1=Ce(p1),D1=x1.slice(),h1=[];for(He(D1,F1.dx*F1.dy/p1.value),h1.area=0;u1=D1.pop();)h1.push(u1),h1.area+=u1.area,null!=u1.z&&(v1(h1,u1.z?F1.dx:F1.dy,F1,!D1.length),h1.length=h1.area=0);x1.forEach(a1)}}function s1(p1,x1){for(var u1,F1=p1.area,D1=0,h1=1/0,n2=-1,o2=p1.length;++n2<o2;)(u1=p1[n2].area)&&(u1<h1&&(h1=u1),u1>D1&&(D1=u1));return x1*=x1,(F1*=F1)?Math.max(x1*D1*Se/F1,F1/(x1*h1*Se)):1/0}function v1(p1,x1,u1,F1){var D1,h1=-1,n2=p1.length,o2=u1.x,v2=u1.y,D2=x1?U(p1.area/x1):0;if(x1==u1.dx){for((F1||D2>u1.dy)&&(D2=u1.dy);++h1<n2;)(D1=p1[h1]).x=o2,D1.y=v2,D1.dy=D2,o2+=D1.dx=Math.min(u1.x+u1.dx-o2,D2?U(D1.area/D2):0);D1.z=!0,D1.dx+=u1.x+u1.dx-o2,u1.y+=D2,u1.dy-=D2}else{for((F1||D2>u1.dx)&&(D2=u1.dx);++h1<n2;)(D1=p1[h1]).x=o2,D1.y=v2,D1.dx=D2,v2+=D1.dy=Math.min(u1.y+u1.dy-v2,D2?U(D1.area/D2):0);D1.z=!1,D1.dy+=u1.y+u1.dy-v2,u1.x+=D2,u1.dx-=D2}}function k1(p1){var x1=v||A(p1),u1=x1[0];return u1.x=u1.y=0,u1.value?(u1.dx=Q[0],u1.dy=Q[1]):u1.dx=u1.dy=0,v&&A.revalue(u1),He([u1],u1.dx*u1.dy/u1.value),(v?a1:Ee)(u1),_e&&(v=x1),x1}return k1.size=function(p1){return arguments.length?(Q=p1,k1):Q},k1.padding=function(p1){if(!arguments.length)return se;function x1(D1){var h1=p1.call(k1,D1,D1.depth);return null==h1?Ui(D1):f8(D1,"number"==typeof h1?[h1,h1,h1,h1]:h1)}function u1(D1){return f8(D1,p1)}var F1;return Ce=null==(se=p1)?Ui:"function"==(F1=typeof p1)?x1:("number"===F1&&(p1=[p1,p1,p1,p1]),u1),k1},k1.round=function(p1){return arguments.length?(U=p1?Math.round:Number,k1):U!=Number},k1.sticky=function(p1){return arguments.length?(_e=p1,v=null,k1):_e},k1.ratio=function(p1){return arguments.length?(Se=p1,k1):Se},k1.mode=function(p1){return arguments.length?(Te=p1+"",k1):Te},Gt(k1,A)},o.random={normal:function(v,A){var U=arguments.length;return U<2&&(A=1),U<1&&(v=0),function(){var Q,se,Ce;do{Ce=(Q=2*Math.random()-1)*Q+(se=2*Math.random()-1)*se}while(!Ce||Ce>1);return v+A*Q*Math.sqrt(-2*Math.log(Ce)/Ce)}},logNormal:function(){var v=o.random.normal.apply(o,arguments);return function(){return Math.exp(v())}},bates:function(v){var A=o.random.irwinHall(v);return function(){return A()/v}},irwinHall:function(v){return function(){for(var A=0,U=0;U<v;U++)A+=Math.random();return A}}},o.scale={};var h8={floor:X,ceil:X};function js(v,A,U,Q){var se=[],Ce=[],_e=0,Te=Math.min(v.length,A.length)-1;for(v[Te]<v[0]&&(v=v.slice().reverse(),A=A.slice().reverse());++_e<=Te;)se.push(U(v[_e-1],v[_e])),Ce.push(Q(A[_e-1],A[_e]));return function(Se){var He=o.bisect(v,Se,1,Te)-1;return Ce[He](se[He](Se))}}function p8(v,A){return o.rebind(v,A,"range","rangeRound","interpolate","clamp")}function C8(v,A){return Dn(v,d8(Eo(v,A)[2])),Dn(v,d8(Eo(v,A)[2])),v}function Eo(v,A){null==A&&(A=10);var U=Y4(v),Q=U[1]-U[0],se=Math.pow(10,Math.floor(Math.log(Q/A)/Math.LN10)),Ce=A/Q*se;return Ce<=.15?se*=10:Ce<=.35?se*=5:Ce<=.75&&(se*=2),U[0]=Math.ceil(U[0]/se)*se,U[1]=Math.floor(U[1]/se)*se+.5*se,U[2]=se,U}function K4(v,A){return o.range.apply(o,Eo(v,A))}o.scale.linear=function(){return function v(A,U,Q,se){var Ce,_e;function Te(){var He=Math.min(A.length,U.length)>2?js:Us,Ee=se?fr:Ma;return Ce=He(A,U,Ee,Q),_e=He(U,A,Ee,si),Se}function Se(He){return Ce(He)}return Se.invert=function(He){return _e(He)},Se.domain=function(He){return arguments.length?(A=He.map(Number),Te()):A},Se.range=function(He){return arguments.length?(U=He,Te()):U},Se.rangeRound=function(He){return Se.range(He).interpolate(en)},Se.clamp=function(He){return arguments.length?(se=He,Te()):se},Se.interpolate=function(He){return arguments.length?(Q=He,Te()):Q},Se.ticks=function(He){return K4(A,He)},Se.tickFormat=function(He,Ee){return d3_scale_linearTickFormat(A,He,Ee)},Se.nice=function(He){return C8(A,He),Te()},Se.copy=function(){return v(A,U,Q,se)},Te()}([0,1],[0,1],si,!1)},o.scale.log=function(){return function v(A,U,Q,se){function Ce(Se){return(Q?Math.log(Se<0?0:Se):-Math.log(Se>0?0:-Se))/Math.log(U)}function _e(Se){return Q?Math.pow(U,Se):-Math.pow(U,-Se)}function Te(Se){return A(Ce(Se))}return Te.invert=function(Se){return _e(A.invert(Se))},Te.domain=function(Se){return arguments.length?(Q=Se[0]>=0,A.domain((se=Se.map(Number)).map(Ce)),Te):se},Te.base=function(Se){return arguments.length?(U=+Se,A.domain(se.map(Ce)),Te):U},Te.nice=function(){var Se=Dn(se.map(Ce),Q?Math:Ta);return A.domain(Se),se=Se.map(_e),Te},Te.ticks=function(){var Se=Y4(se),He=[],Ee=Se[0],a1=Se[1],s1=Math.floor(Ce(Ee)),v1=Math.ceil(Ce(a1)),k1=U%1?2:U;if(isFinite(v1-s1)){if(Q){for(;s1<v1;s1++)for(var p1=1;p1<k1;p1++)He.push(_e(s1)*p1);He.push(_e(s1))}else for(He.push(_e(s1));s1++<v1;)for(p1=k1-1;p1>0;p1--)He.push(_e(s1)*p1);for(s1=0;He[s1]<Ee;s1++);for(v1=He.length;He[v1-1]>a1;v1--);He=He.slice(s1,v1)}return He},Te.copy=function(){return v(A.copy(),U,Q,se)},p8(Te,A)}(o.scale.linear().domain([0,1]),10,!0,[1,10])};var Ta={floor:function(v){return-Math.ceil(-v)},ceil:function(v){return-Math.floor(-v)}};function di(v){return function(A){return A<0?-Math.pow(-A,v):Math.pow(A,v)}}o.scale.pow=function(){return function v(A,U,Q){var se=di(U),Ce=di(1/U);function _e(Te){return A(se(Te))}return _e.invert=function(Te){return Ce(A.invert(Te))},_e.domain=function(Te){return arguments.length?(A.domain((Q=Te.map(Number)).map(se)),_e):Q},_e.ticks=function(Te){return K4(Q,Te)},_e.tickFormat=function(Te,Se){return d3_scale_linearTickFormat(Q,Te,Se)},_e.nice=function(Te){return _e.domain(C8(Q,Te))},_e.exponent=function(Te){return arguments.length?(se=di(U=Te),Ce=di(1/U),A.domain(Q.map(se)),_e):U},_e.copy=function(){return v(A.copy(),U,Q)},p8(_e,A)}(o.scale.linear(),1,[0,1])},o.scale.sqrt=function(){return o.scale.pow().exponent(.5)},o.scale.ordinal=function(){return function v(A,U){var Q,se,Ce;function _e(Se){return se[((Q.get(Se)||("range"===U.t?Q.set(Se,A.push(Se)):NaN))-1)%se.length]}function Te(Se,He){return o.range(A.length).map(function(Ee){return Se+He*Ee})}return _e.domain=function(Se){if(!arguments.length)return A;A=[],Q=new E;for(var He,Ee=-1,a1=Se.length;++Ee<a1;)Q.has(He=Se[Ee])||Q.set(He,A.push(He));return _e[U.t].apply(_e,U.a)},_e.range=function(Se){return arguments.length?(se=Se,Ce=0,U={t:"range",a:arguments},_e):se},_e.rangePoints=function(Se,He){arguments.length<2&&(He=0);var Ee=Se[0],a1=Se[1],s1=A.length<2?(Ee=(Ee+a1)/2,0):(a1-Ee)/(A.length-1+He);return se=Te(Ee+s1*He/2,s1),Ce=0,U={t:"rangePoints",a:arguments},_e},_e.rangeRoundPoints=function(Se,He){arguments.length<2&&(He=0);var Ee=Se[0],a1=Se[1],s1=A.length<2?(Ee=a1=Math.round((Ee+a1)/2),0):(a1-Ee)/(A.length-1+He)|0;return se=Te(Ee+Math.round(s1*He/2+(a1-Ee-(A.length-1+He)*s1)/2),s1),Ce=0,U={t:"rangeRoundPoints",a:arguments},_e},_e.rangeBands=function(Se,He,Ee){arguments.length<2&&(He=0),arguments.length<3&&(Ee=He);var a1=Se[1]<Se[0],s1=Se[a1-0],k1=(Se[1-a1]-s1)/(A.length-He+2*Ee);return se=Te(s1+k1*Ee,k1),a1&&se.reverse(),Ce=k1*(1-He),U={t:"rangeBands",a:arguments},_e},_e.rangeRoundBands=function(Se,He,Ee){arguments.length<2&&(He=0),arguments.length<3&&(Ee=He);var a1=Se[1]<Se[0],s1=Se[a1-0],v1=Se[1-a1],k1=Math.floor((v1-s1)/(A.length-He+2*Ee));return se=Te(s1+Math.round((v1-s1-(A.length-He)*k1)/2),k1),a1&&se.reverse(),Ce=Math.round(k1*(1-He)),U={t:"rangeRoundBands",a:arguments},_e},_e.rangeBand=function(){return Ce},_e.rangeExtent=function(){return Y4(U.a[0])},_e.copy=function(){return v(A,U)},_e.domain(A)}([],{t:"range",a:[[]]})},o.scale.category10=function(){return o.scale.ordinal().range(g8)},o.scale.category20=function(){return o.scale.ordinal().range(v4)},o.scale.category20b=function(){return o.scale.ordinal().range(v6)},o.scale.category20c=function(){return o.scale.ordinal().range(Zn)};var g8=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(y2),v4=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(y2),v6=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(y2),Zn=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(y2);function ji(){return 0}o.scale.quantile=function(){return function v(A,U){var Q;function se(){var _e=0,Te=U.length;for(Q=[];++_e<Te;)Q[_e-1]=o.quantile(A,_e/Te);return Ce}function Ce(_e){if(!isNaN(_e=+_e))return U[o.bisect(Q,_e)]}return Ce.domain=function(_e){return arguments.length?(A=_e.map(L).filter(N).sort(M),se()):A},Ce.range=function(_e){return arguments.length?(U=_e,se()):U},Ce.quantiles=function(){return Q},Ce.invertExtent=function(_e){return(_e=U.indexOf(_e))<0?[NaN,NaN]:[_e>0?Q[_e-1]:A[0],_e<Q.length?Q[_e]:A[A.length-1]]},Ce.copy=function(){return v(A,U)},se()}([],[])},o.scale.quantize=function(){return function v(A,U,Q){var se,Ce;function _e(Se){return Q[Math.max(0,Math.min(Ce,Math.floor(se*(Se-A))))]}function Te(){return se=Q.length/(U-A),Ce=Q.length-1,_e}return _e.domain=function(Se){return arguments.length?(A=+Se[0],U=+Se[Se.length-1],Te()):[A,U]},_e.range=function(Se){return arguments.length?(Q=Se,Te()):Q},_e.invertExtent=function(Se){return[Se=(Se=Q.indexOf(Se))<0?NaN:Se/se+A,Se+1/se]},_e.copy=function(){return v(A,U,Q)},Te()}(0,1,[0,1])},o.scale.threshold=function(){return function v(A,U){function Q(se){if(se<=se)return U[o.bisect(A,se)]}return Q.domain=function(se){return arguments.length?(A=se,Q):A},Q.range=function(se){return arguments.length?(U=se,Q):U},Q.invertExtent=function(se){return se=U.indexOf(se),[A[se-1],A[se]]},Q.copy=function(){return v(A,U)},Q}([.5],[0,1])},o.scale.identity=function(){return function v(A){function U(Q){return+Q}return U.invert=U,U.domain=U.range=function(Q){return arguments.length?(A=Q.map(U),U):A},U.ticks=function(Q){return K4(A,Q)},U.tickFormat=function(Q,se){return d3_scale_linearTickFormat(A,Q,se)},U.copy=function(){return v(A)},U}([0,1])},o.svg={},o.svg.arc=function(){var v=$i,A=Z4,U=ji,Q=Gi,se=hi,Ce=y6,_e=Gs;function Te(){var He=Math.max(0,+v.apply(this,arguments)),Ee=Math.max(0,+A.apply(this,arguments)),a1=se.apply(this,arguments)-G1,s1=Ce.apply(this,arguments)-G1,v1=Math.abs(s1-a1),k1=a1>s1?0:1;if(Ee<He&&(p1=Ee,Ee=He,He=p1),v1>=l2)return Se(Ee,k1)+(He?Se(He,1-k1):"")+"Z";var p1,x1,u1,F1,D1,h1,n2,o2,v2,D2,H2,Z2,gt=0,j2=0,It=[];if((F1=(+_e.apply(this,arguments)||0)/2)&&(u1=Q===Gi?Math.sqrt(He*He+Ee*Ee):+Q.apply(this,arguments),k1||(j2*=-1),Ee&&(j2=ge(u1/Ee*Math.sin(F1))),He&&(gt=ge(u1/He*Math.sin(F1)))),Ee){D1=Ee*Math.cos(a1+j2),h1=Ee*Math.sin(a1+j2),n2=Ee*Math.cos(s1-j2),o2=Ee*Math.sin(s1-j2);var An=Math.abs(s1-a1-2*j2)<=O1?0:1;if(j2&&Oo(D1,h1,n2,o2)===k1^An){var Gn=(a1+s1)/2;D1=Ee*Math.cos(Gn),h1=Ee*Math.sin(Gn),n2=o2=null}}else D1=h1=0;if(He){v2=He*Math.cos(s1-gt),D2=He*Math.sin(s1-gt),H2=He*Math.cos(a1+gt),Z2=He*Math.sin(a1+gt);var b2=Math.abs(a1-s1+2*gt)<=O1?0:1;if(gt&&Oo(v2,D2,H2,Z2)===1-k1^b2){var q2=(a1+s1)/2;v2=He*Math.cos(q2),D2=He*Math.sin(q2),H2=Z2=null}}else v2=D2=0;if(v1>C1&&(p1=Math.min(Math.abs(Ee-He)/2,+U.apply(this,arguments)))>.001){x1=He<Ee^k1?0:1;var Mt=p1,bt=p1;if(v1<O1){var Zt=null==H2?[v2,D2]:null==n2?[D1,h1]:et([D1,h1],[H2,Z2],[n2,o2],[v2,D2]),ln=D1-Zt[0],cn=h1-Zt[1],Jt=n2-Zt[0],L3=o2-Zt[1],H3=1/Math.sin(Math.acos((ln*Jt+cn*L3)/(Math.sqrt(ln*ln+cn*cn)*Math.sqrt(Jt*Jt+L3*L3)))/2),jn=Math.sqrt(Zt[0]*Zt[0]+Zt[1]*Zt[1]);bt=Math.min(p1,(He-jn)/(H3-1)),Mt=Math.min(p1,(Ee-jn)/(H3+1))}if(null!=n2){var m3=T3(null==H2?[v2,D2]:[H2,Z2],[D1,h1],Ee,Mt,k1),V3=T3([n2,o2],[v2,D2],Ee,Mt,k1);p1===Mt?It.push("M",m3[0],"A",Mt,",",Mt," 0 0,",x1," ",m3[1],"A",Ee,",",Ee," 0 ",1-k1^Oo(m3[1][0],m3[1][1],V3[1][0],V3[1][1]),",",k1," ",V3[1],"A",Mt,",",Mt," 0 0,",x1," ",V3[0]):It.push("M",m3[0],"A",Mt,",",Mt," 0 1,",x1," ",V3[0])}else It.push("M",D1,",",h1);if(null!=H2){var W3=T3([D1,h1],[H2,Z2],He,-bt,k1),Aa=T3([v2,D2],null==n2?[D1,h1]:[n2,o2],He,-bt,k1);p1===bt?It.push("L",Aa[0],"A",bt,",",bt," 0 0,",x1," ",Aa[1],"A",He,",",He," 0 ",k1^Oo(Aa[1][0],Aa[1][1],W3[1][0],W3[1][1]),",",1-k1," ",W3[1],"A",bt,",",bt," 0 0,",x1," ",W3[0]):It.push("L",Aa[0],"A",bt,",",bt," 0 0,",x1," ",W3[0])}else It.push("L",v2,",",D2)}else It.push("M",D1,",",h1),null!=n2&&It.push("A",Ee,",",Ee," 0 ",An,",",k1," ",n2,",",o2),It.push("L",v2,",",D2),null!=H2&&It.push("A",He,",",He," 0 ",b2,",",1-k1," ",H2,",",Z2);return It.push("Z"),It.join("")}function Se(He,Ee){return"M0,"+He+"A"+He+","+He+" 0 1,"+Ee+" 0,"+-He+"A"+He+","+He+" 0 1,"+Ee+" 0,"+He}return Te.innerRadius=function(He){return arguments.length?(v=s2(He),Te):v},Te.outerRadius=function(He){return arguments.length?(A=s2(He),Te):A},Te.cornerRadius=function(He){return arguments.length?(U=s2(He),Te):U},Te.padRadius=function(He){return arguments.length?(Q=He==Gi?Gi:s2(He),Te):Q},Te.startAngle=function(He){return arguments.length?(se=s2(He),Te):se},Te.endAngle=function(He){return arguments.length?(Ce=s2(He),Te):Ce},Te.padAngle=function(He){return arguments.length?(_e=s2(He),Te):_e},Te.centroid=function(){var He=(+v.apply(this,arguments)+ +A.apply(this,arguments))/2,Ee=(+se.apply(this,arguments)+ +Ce.apply(this,arguments))/2-G1;return[Math.cos(Ee)*He,Math.sin(Ee)*He]},Te};var Gi="auto";function $i(v){return v.innerRadius}function Z4(v){return v.outerRadius}function hi(v){return v.startAngle}function y6(v){return v.endAngle}function Gs(v){return v&&v.padAngle}function Oo(v,A,U,Q){return(v-U)*A-(A-Q)*v>0?0:1}function T3(v,A,U,Q,se){var Ce=v[0]-A[0],_e=v[1]-A[1],Te=(se?Q:-Q)/Math.sqrt(Ce*Ce+_e*_e),Se=Te*_e,He=-Te*Ce,Ee=v[0]+Se,a1=v[1]+He,s1=A[0]+Se,v1=A[1]+He,k1=(Ee+s1)/2,p1=(a1+v1)/2,x1=s1-Ee,u1=v1-a1,F1=x1*x1+u1*u1,D1=U-Q,h1=Ee*v1-s1*a1,n2=(u1<0?-1:1)*Math.sqrt(Math.max(0,D1*D1*F1-h1*h1)),o2=(h1*u1-x1*n2)/F1,v2=(-h1*x1-u1*n2)/F1,D2=(h1*u1+x1*n2)/F1,H2=(-h1*x1+u1*n2)/F1,Z2=o2-k1,gt=v2-p1,j2=D2-k1,It=H2-p1;return Z2*Z2+gt*gt>j2*j2+It*It&&(o2=D2,v2=H2),[[o2-Se,v2-He],[o2*U/D1,v2*U/D1]]}function Ha(){return!0}function Io(v){var A=N2,U=vt,Q=Ha,se=Nr,Ce=se.key,_e=.7;function Te(Se){var He,Ee=[],a1=[],s1=-1,v1=Se.length,k1=s2(A),p1=s2(U);function x1(){Ee.push("M",se(v(a1),_e))}for(;++s1<v1;)Q.call(this,He=Se[s1],s1)?a1.push([+k1.call(this,He,s1),+p1.call(this,He,s1)]):a1.length&&(x1(),a1=[]);return a1.length&&x1(),Ee.length?Ee.join(""):null}return Te.x=function(Se){return arguments.length?(A=Se,Te):A},Te.y=function(Se){return arguments.length?(U=Se,Te):U},Te.defined=function(Se){return arguments.length?(Q=Se,Te):Q},Te.interpolate=function(Se){return arguments.length?(Ce="function"==typeof Se?se=Se:(se=Wi.get(Se)||Nr).key,Te):Ce},Te.tension=function(Se){return arguments.length?(_e=Se,Te):_e},Te}o.svg.line=function(){return Io(X)};var Wi=o.map({linear:Nr,"linear-closed":_6,step:function(v){for(var A=0,U=v.length,Q=v[0],se=[Q[0],",",Q[1]];++A<U;)se.push("H",(Q[0]+(Q=v[A])[0])/2,"V",Q[1]);return U>1&&se.push("H",Q[0]),se.join("")},"step-before":qi,"step-after":c3,basis:Jn,"basis-open":function(v){if(v.length<4)return Nr(v);for(var A,U=[],Q=-1,se=v.length,Ce=[0],_e=[0];++Q<3;)Ce.push((A=v[Q])[0]),_e.push(A[1]);for(U.push(dr(Er,Ce)+","+dr(Er,_e)),--Q;++Q<se;)A=v[Q],Ce.shift(),Ce.push(A[0]),_e.shift(),_e.push(A[1]),Po(U,Ce,_e);return U.join("")},"basis-closed":function(v){for(var A,U,Q=-1,se=v.length,Ce=se+4,_e=[],Te=[];++Q<4;)_e.push((U=v[Q%se])[0]),Te.push(U[1]);for(A=[dr(Er,_e),",",dr(Er,Te)],--Q;++Q<Ce;)U=v[Q%se],_e.shift(),_e.push(U[0]),Te.shift(),Te.push(U[1]),Po(A,_e,Te);return A.join("")},bundle:function(v,A){var U=v.length-1;if(U)for(var Q,se,Ce=v[0][0],_e=v[0][1],Te=v[U][0]-Ce,Se=v[U][1]-_e,He=-1;++He<=U;)(Q=v[He])[0]=A*Q[0]+(1-A)*(Ce+(se=He/U)*Te),Q[1]=A*Q[1]+(1-A)*(_e+se*Se);return Jn(v)},cardinal:function(v,A){return v.length<3?Nr(v):v[0]+u3(v,b6(v,A))},"cardinal-open":function(v,A){return v.length<4?Nr(v):v[1]+u3(v.slice(1,-1),b6(v,A))},"cardinal-closed":function(v,A){return v.length<3?_6(v):v[0]+u3((v.push(v[0]),v),b6([v[v.length-2]].concat(v,[v[1]]),A))},monotone:function(v){return v.length<3?Nr(v):v[0]+u3(v,function(A){for(var U,Q,se,Ce,_e=[],Te=function(Ee){for(var a1=0,s1=Ee.length-1,v1=[],k1=Ee[0],p1=Ee[1],x1=v1[0]=Wr(k1,p1);++a1<s1;)v1[a1]=(x1+(x1=Wr(k1=p1,p1=Ee[a1+1])))/2;return v1[a1]=x1,v1}(A),Se=-1,He=A.length-1;++Se<He;)U=Wr(A[Se],A[Se+1]),S(U)<C1?Te[Se]=Te[Se+1]=0:(Ce=(Q=Te[Se]/U)*Q+(se=Te[Se+1]/U)*se)>9&&(Ce=3*U/Math.sqrt(Ce),Te[Se]=Ce*Q,Te[Se+1]=Ce*se);for(Se=-1;++Se<=He;)Ce=(A[Math.min(He,Se+1)][0]-A[Math.max(0,Se-1)][0])/(6*(1+Te[Se]*Te[Se])),_e.push([Ce||0,Te[Se]*Ce||0]);return _e}(v))}});function Nr(v){return v.length>1?v.join("L"):v+"Z"}function _6(v){return v.join("L")+"Z"}function qi(v){for(var A=0,U=v.length,Q=v[0],se=[Q[0],",",Q[1]];++A<U;)se.push("V",(Q=v[A])[1],"H",Q[0]);return se.join("")}function c3(v){for(var A=0,U=v.length,Q=v[0],se=[Q[0],",",Q[1]];++A<U;)se.push("H",(Q=v[A])[0],"V",Q[1]);return se.join("")}function u3(v,A){if(A.length<1||v.length!=A.length&&v.length!=A.length+2)return Nr(v);var U=v.length!=A.length,Q="",se=v[0],Ce=v[1],_e=A[0],Te=_e,Se=1;if(U&&(Q+="Q"+(Ce[0]-2*_e[0]/3)+","+(Ce[1]-2*_e[1]/3)+","+Ce[0]+","+Ce[1],se=v[1],Se=2),A.length>1){Ce=v[Se],Se++,Q+="C"+(se[0]+_e[0])+","+(se[1]+_e[1])+","+(Ce[0]-(Te=A[1])[0])+","+(Ce[1]-Te[1])+","+Ce[0]+","+Ce[1];for(var He=2;He<A.length;He++,Se++)Q+="S"+((Ce=v[Se])[0]-(Te=A[He])[0])+","+(Ce[1]-Te[1])+","+Ce[0]+","+Ce[1]}if(U){var Ee=v[Se];Q+="Q"+(Ce[0]+2*Te[0]/3)+","+(Ce[1]+2*Te[1]/3)+","+Ee[0]+","+Ee[1]}return Q}function b6(v,A){for(var U,Q=[],se=(1-A)/2,Ce=v[0],_e=v[1],Te=1,Se=v.length;++Te<Se;)U=Ce,Ce=_e,Q.push([se*((_e=v[Te])[0]-U[0]),se*(_e[1]-U[1])]);return Q}function Jn(v){if(v.length<3)return Nr(v);var A=1,U=v.length,Q=v[0],se=Q[0],Ce=Q[1],_e=[se,se,se,(Q=v[1])[0]],Te=[Ce,Ce,Ce,Q[1]],Se=[se,",",Ce,"L",dr(Er,_e),",",dr(Er,Te)];for(v.push(v[U-1]);++A<=U;)Q=v[A],_e.shift(),_e.push(Q[0]),Te.shift(),Te.push(Q[1]),Po(Se,_e,Te);return v.pop(),Se.push("L",Q),Se.join("")}function dr(v,A){return v[0]*A[0]+v[1]*A[1]+v[2]*A[2]+v[3]*A[3]}Wi.forEach(function(v,A){A.key=v,A.closed=/-closed$/.test(v)});var M6=[0,2/3,1/3,0],Xn=[0,1/3,2/3,0],Er=[0,1/6,2/3,1/6];function Po(v,A,U){v.push("C",dr(M6,A),",",dr(M6,U),",",dr(Xn,A),",",dr(Xn,U),",",dr(Er,A),",",dr(Er,U))}function Wr(v,A){return(A[1]-v[1])/(A[0]-v[0])}function O3(v){for(var A,U,Q,se=-1,Ce=v.length;++se<Ce;)U=(A=v[se])[0],Q=A[1]-G1,A[0]=U*Math.cos(Q),A[1]=U*Math.sin(Q);return v}function pi(v){var A=N2,U=N2,Q=0,se=vt,Ce=Ha,_e=Nr,Te=_e.key,Se=_e,He="L",Ee=.7;function a1(s1){var v1,k1,p1,x1=[],u1=[],F1=[],D1=-1,h1=s1.length,n2=s2(A),o2=s2(Q),v2=A===U?function(){return k1}:s2(U),D2=Q===se?function(){return p1}:s2(se);function H2(){x1.push("M",_e(v(F1),Ee),He,Se(v(u1.reverse()),Ee),"Z")}for(;++D1<h1;)Ce.call(this,v1=s1[D1],D1)?(u1.push([k1=+n2.call(this,v1,D1),p1=+o2.call(this,v1,D1)]),F1.push([+v2.call(this,v1,D1),+D2.call(this,v1,D1)])):u1.length&&(H2(),u1=[],F1=[]);return u1.length&&H2(),x1.length?x1.join(""):null}return a1.x=function(s1){return arguments.length?(A=U=s1,a1):U},a1.x0=function(s1){return arguments.length?(A=s1,a1):A},a1.x1=function(s1){return arguments.length?(U=s1,a1):U},a1.y=function(s1){return arguments.length?(Q=se=s1,a1):se},a1.y0=function(s1){return arguments.length?(Q=s1,a1):Q},a1.y1=function(s1){return arguments.length?(se=s1,a1):se},a1.defined=function(s1){return arguments.length?(Ce=s1,a1):Ce},a1.interpolate=function(s1){return arguments.length?(Te="function"==typeof s1?_e=s1:(_e=Wi.get(s1)||Nr).key,Se=_e.reverse||_e,He=_e.closed?"M":"L",a1):Te},a1.tension=function(s1){return arguments.length?(Ee=s1,a1):Ee},a1}function Va(v){return v.source}function Or(v){return v.target}function Mr(v){return v.radius}function $s(v){return[v.x,v.y]}function Ws(v){return function(){var A=v.apply(this,arguments),U=A[0],Q=A[1]-G1;return[U*Math.cos(Q),U*Math.sin(Q)]}}function m8(){return 64}function J4(){return"circle"}function Ci(v){var A=Math.sqrt(v/O1);return"M0,"+A+"A"+A+","+A+" 0 1,1 0,"+-A+"A"+A+","+A+" 0 1,1 0,"+A+"Z"}o.svg.line.radial=function(){var v=Io(O3);return v.radius=v.x,delete v.x,v.angle=v.y,delete v.y,v},qi.reverse=c3,c3.reverse=qi,o.svg.area=function(){return pi(X)},o.svg.area.radial=function(){var v=pi(O3);return v.radius=v.x,delete v.x,v.innerRadius=v.x0,delete v.x0,v.outerRadius=v.x1,delete v.x1,v.angle=v.y,delete v.y,v.startAngle=v.y0,delete v.y0,v.endAngle=v.y1,delete v.y1,v},o.svg.chord=function(){var v=Va,A=Or,U=Mr,Q=hi,se=y6;function Ce(He,Ee){var a1,s1,v1=_e(this,v,He,Ee),k1=_e(this,A,He,Ee);return"M"+v1.p0+Te(v1.r,v1.p1,v1.a1-v1.a0)+((a1=v1).a0==(s1=k1).a0&&a1.a1==s1.a1?Se(0,0,0,v1.p0):Se(0,0,0,k1.p0)+Te(k1.r,k1.p1,k1.a1-k1.a0)+Se(0,0,0,v1.p0))+"Z"}function _e(He,Ee,a1,s1){var v1=Ee.call(He,a1,s1),k1=U.call(He,v1,s1),p1=Q.call(He,v1,s1)-G1,x1=se.call(He,v1,s1)-G1;return{r:k1,a0:p1,a1:x1,p0:[k1*Math.cos(p1),k1*Math.sin(p1)],p1:[k1*Math.cos(x1),k1*Math.sin(x1)]}}function Te(He,Ee,a1){return"A"+He+","+He+" 0 "+ +(a1>O1)+",1 "+Ee}function Se(He,Ee,a1,s1){return"Q 0,0 "+s1}return Ce.radius=function(He){return arguments.length?(U=s2(He),Ce):U},Ce.source=function(He){return arguments.length?(v=s2(He),Ce):v},Ce.target=function(He){return arguments.length?(A=s2(He),Ce):A},Ce.startAngle=function(He){return arguments.length?(Q=s2(He),Ce):Q},Ce.endAngle=function(He){return arguments.length?(se=s2(He),Ce):se},Ce},o.svg.diagonal=function(){var v=Va,A=Or,U=$s;function Q(se,Ce){var _e=v.call(this,se,Ce),Te=A.call(this,se,Ce),Se=(_e.y+Te.y)/2,He=[_e,{x:_e.x,y:Se},{x:Te.x,y:Se},Te];return"M"+(He=He.map(U))[0]+"C"+He[1]+" "+He[2]+" "+He[3]}return Q.source=function(se){return arguments.length?(v=s2(se),Q):v},Q.target=function(se){return arguments.length?(A=s2(se),Q):A},Q.projection=function(se){return arguments.length?(U=se,Q):U},Q},o.svg.diagonal.radial=function(){var v=o.svg.diagonal(),A=$s,U=v.projection;return v.projection=function(Q){return arguments.length?U(Ws(A=Q)):A},v},o.svg.symbol=function(){var v=J4,A=m8;function U(Q,se){return(X4.get(v.call(this,Q,se))||Ci)(A.call(this,Q,se))}return U.type=function(Q){return arguments.length?(v=s2(Q),U):v},U.size=function(Q){return arguments.length?(A=s2(Q),U):A},U};var X4=o.map({circle:Ci,cross:function(v){var A=Math.sqrt(v/5)/2;return"M"+-3*A+","+-A+"H"+-A+"V"+-3*A+"H"+A+"V"+-A+"H"+3*A+"V"+A+"H"+A+"V"+3*A+"H"+-A+"V"+A+"H"+-3*A+"Z"},diamond:function(v){var A=Math.sqrt(v/(2*Ze)),U=A*Ze;return"M0,"+-A+"L"+U+",0 0,"+A+" "+-U+",0Z"},square:function(v){var A=Math.sqrt(v)/2;return"M"+-A+","+-A+"L"+A+","+-A+" "+A+","+A+" "+-A+","+A+"Z"},"triangle-down":function(v){var A=Math.sqrt(v/Dt),U=A*Dt/2;return"M0,"+U+"L"+A+","+-U+" "+-A+","+-U+"Z"},"triangle-up":function(v){var A=Math.sqrt(v/Dt),U=A*Dt/2;return"M0,"+-U+"L"+A+","+U+" "+-A+","+U+"Z"}});o.svg.symbolTypes=X4.keys();var Dt=Math.sqrt(3),Ze=Math.tan(30*K1);fe.transition=function(v){for(var A,U,Q=Rt||++T2,se=d3(v),Ce=[],_e=Ro||{time:Date.now(),ease:Hn,delay:0,duration:250},Te=-1,Se=this.length;++Te<Se;){Ce.push(A=[]);for(var He=this[Te],Ee=-1,a1=He.length;++Ee<a1;)(U=He[Ee])&&Ki(U,Ee,se,Q,_e),A.push(U)}return $3(Ce,se,Q)},fe.interrupt=function(v){return this.each(null==v?k4:Yi(d3(v)))};var k4=Yi(d3());function Yi(v){return function(){var A,U,Q;(A=this[v])&&(Q=A[U=A.active])&&(Q.timer.c=null,Q.timer.t=NaN,--A.count?delete A[U]:delete this[v],A.active+=.5,Q.event&&Q.event.interrupt.call(this,this.__data__,Q.index))}}function $3(v,A,U){return F(v,f3),v.namespace=A,v.id=U,v}var Rt,Ro,f3=[],T2=0;function $t(v,A,U,Q){var se=v.id,Ce=v.namespace;return Ie(v,"function"==typeof U?function(_e,Te,Se){_e[Ce][se].tween.set(A,Q(U.call(_e,_e.__data__,Te,Se)))}:(U=Q(U),function(_e){_e[Ce][se].tween.set(A,U)}))}function $2(v){return null==v&&(v=""),function(){this.textContent=v}}function d3(v){return null==v?"__transition__":"__transition_"+v+"__"}function Ki(v,A,U,Q,se){var Ce,_e,Te,Se,He,Ee=v[U]||(v[U]={active:0,count:0}),a1=Ee[Q];function s1(k1){var p1=Ee.active,x1=Ee[p1];for(var u1 in x1&&(x1.timer.c=null,x1.timer.t=NaN,--Ee.count,delete Ee[p1],x1.event&&x1.event.interrupt.call(v,v.__data__,x1.index)),Ee)if(+u1<Q){var F1=Ee[u1];F1.timer.c=null,F1.timer.t=NaN,--Ee.count,delete Ee[u1]}_e.c=v1,B2(function(){return _e.c&&v1(k1||1)&&(_e.c=null,_e.t=NaN),1},0,Ce),Ee.active=Q,a1.event&&a1.event.start.call(v,v.__data__,A),He=[],a1.tween.forEach(function(D1,h1){(h1=h1.call(v,v.__data__,A))&&He.push(h1)}),Se=a1.ease,Te=a1.duration}function v1(k1){for(var p1=k1/Te,x1=Se(p1),u1=He.length;u1>0;)He[--u1].call(v,x1);if(p1>=1)return a1.event&&a1.event.end.call(v,v.__data__,A),--Ee.count?delete Ee[Q]:delete v[U],1}a1||(_e=B2(function(k1){var p1=a1.delay;if(_e.t=p1+Ce,p1<=k1)return s1(k1-p1);_e.c=s1},0,Ce=se.time),a1=Ee[Q]={tween:new E,time:Ce,timer:_e,delay:se.delay,duration:se.duration,ease:se.ease,index:A},se=null,++Ee.count)}f3.call=fe.call,f3.empty=fe.empty,f3.node=fe.node,f3.size=fe.size,o.transition=function(v,A){return v&&v.transition?Rt?v.transition(A):v:o.selection().transition(v)},o.transition.prototype=f3,f3.select=function(v){var A,U,Q,se=this.id,Ce=this.namespace,_e=[];v=ue(v);for(var Te=-1,Se=this.length;++Te<Se;){_e.push(A=[]);for(var He=this[Te],Ee=-1,a1=He.length;++Ee<a1;)(Q=He[Ee])&&(U=v.call(Q,Q.__data__,Ee,Te))?("__data__"in Q&&(U.__data__=Q.__data__),Ki(U,Ee,Ce,se,Q[Ce][se]),A.push(U)):A.push(null)}return $3(_e,Ce,se)},f3.selectAll=function(v){var A,U,Q,se,Ce,_e=this.id,Te=this.namespace,Se=[];v=he(v);for(var He=-1,Ee=this.length;++He<Ee;)for(var a1=this[He],s1=-1,v1=a1.length;++s1<v1;)if(Q=a1[s1]){Ce=Q[Te][_e],U=v.call(Q,Q.__data__,s1,He),Se.push(A=[]);for(var k1=-1,p1=U.length;++k1<p1;)(se=U[k1])&&Ki(se,k1,Te,_e,Ce),A.push(se)}return $3(Se,Te,_e)},f3.filter=function(v){var A,U,Q=[];"function"!=typeof v&&(v=Ye(v));for(var se=0,Ce=this.length;se<Ce;se++){Q.push(A=[]);for(var _e,Te=0,Se=(_e=this[se]).length;Te<Se;Te++)(U=_e[Te])&&v.call(U,U.__data__,Te,se)&&A.push(U)}return $3(Q,this.namespace,this.id)},f3.tween=function(v,A){var U=this.id,Q=this.namespace;return arguments.length<2?this.node()[Q][U].tween.get(v):Ie(this,null==A?function(se){se[Q][U].tween.remove(v)}:function(se){se[Q][U].tween.set(v,A)})},f3.attr=function(v,A){if(arguments.length<2){for(A in v)this.attr(A,v[A]);return this}var U="transform"==v?g4:si,Q=o.ns.qualify(v);function se(){this.removeAttribute(Q)}function Ce(){this.removeAttributeNS(Q.space,Q.local)}function _e(Se){return null==Se?se:(Se+="",function(){var He,Ee=this.getAttribute(Q);return Ee!==Se&&(He=U(Ee,Se),function(a1){this.setAttribute(Q,He(a1))})})}function Te(Se){return null==Se?Ce:(Se+="",function(){var He,Ee=this.getAttributeNS(Q.space,Q.local);return Ee!==Se&&(He=U(Ee,Se),function(a1){this.setAttributeNS(Q.space,Q.local,He(a1))})})}return $t(this,"attr."+v,A,Q.local?Te:_e)},f3.attrTween=function(v,A){var U=o.ns.qualify(v);return this.tween("attr."+v,U.local?function(Q,se){var Ce=A.call(this,Q,se,this.getAttributeNS(U.space,U.local));return Ce&&function(_e){this.setAttributeNS(U.space,U.local,Ce(_e))}}:function(Q,se){var Ce=A.call(this,Q,se,this.getAttribute(U));return Ce&&function(_e){this.setAttribute(U,Ce(_e))}})},f3.style=function(v,A,U){var Q=arguments.length;if(Q<3){if("string"!=typeof v){for(U in Q<2&&(A=""),v)this.style(U,v[U],A);return this}U=""}function se(){this.style.removeProperty(v)}function Ce(_e){return null==_e?se:(_e+="",function(){var Te,Se=C(this).getComputedStyle(this,null).getPropertyValue(v);return Se!==_e&&(Te=si(Se,_e),function(He){this.style.setProperty(v,Te(He),U)})})}return $t(this,"style."+v,A,Ce)},f3.styleTween=function(v,A,U){function Q(se,Ce){var _e=A.call(this,se,Ce,C(this).getComputedStyle(this,null).getPropertyValue(v));return _e&&function(Te){this.style.setProperty(v,_e(Te),U)}}return arguments.length<3&&(U=""),this.tween("style."+v,Q)},f3.text=function(v){return $t(this,"text",v,$2)},f3.remove=function(){var v=this.namespace;return this.each("end.transition",function(){var A;this[v].count<2&&(A=this.parentNode)&&A.removeChild(this)})},f3.ease=function(v){var A=this.id,U=this.namespace;return arguments.length<1?this.node()[U][A].ease:("function"!=typeof v&&(v=o.ease.apply(o,arguments)),Ie(this,function(Q){Q[U][A].ease=v}))},f3.delay=function(v){var A=this.id,U=this.namespace;return arguments.length<1?this.node()[U][A].delay:Ie(this,"function"==typeof v?function(Q,se,Ce){Q[U][A].delay=+v.call(Q,Q.__data__,se,Ce)}:(v=+v,function(Q){Q[U][A].delay=v}))},f3.duration=function(v){var A=this.id,U=this.namespace;return arguments.length<1?this.node()[U][A].duration:Ie(this,"function"==typeof v?function(Q,se,Ce){Q[U][A].duration=Math.max(1,v.call(Q,Q.__data__,se,Ce))}:(v=Math.max(1,v),function(Q){Q[U][A].duration=v}))},f3.each=function(v,A){var U=this.id,Q=this.namespace;if(arguments.length<2){var se=Ro,Ce=Rt;try{Rt=U,Ie(this,function(_e,Te,Se){Ro=_e[Q][U],v.call(_e,_e.__data__,Te,Se)})}finally{Ro=se,Rt=Ce}}else Ie(this,function(_e){var Te=_e[Q][U];(Te.event||(Te.event=o.dispatch("start","end","interrupt"))).on(v,A)});return this},f3.transition=function(){for(var v,A,U,Q=this.id,se=++T2,Ce=this.namespace,_e=[],Te=0,Se=this.length;Te<Se;Te++){_e.push(v=[]);for(var He,Ee=0,a1=(He=this[Te]).length;Ee<a1;Ee++)(A=He[Ee])&&Ki(A,Ee,Ce,se,{time:(U=A[Ce][Q]).time,ease:U.ease,delay:U.delay+U.duration,duration:U.duration}),v.push(A)}return $3(_e,Ce,se)},o.svg.axis=function(){var v,A=o.scale.linear(),U=gi,Q=6,se=6,Ce=3,_e=[10],Te=null;function Se(He){He.each(function(){var Ee,a1=o.select(this),s1=this.__chart__||A,v1=this.__chart__=A.copy(),k1=null==Te?v1.ticks?v1.ticks.apply(v1,_e):v1.domain():Te,p1=null==v?v1.tickFormat?v1.tickFormat.apply(v1,_e):X:v,x1=a1.selectAll(".tick").data(k1,v1),u1=x1.enter().insert("g",".domain").attr("class","tick").style("opacity",C1),F1=o.transition(x1.exit()).style("opacity",C1).remove(),D1=o.transition(x1.order()).style("opacity",1),h1=Math.max(Q,0)+Ce,n2=fi(v1),o2=a1.selectAll(".domain").data([0]),v2=(o2.enter().append("path").attr("class","domain"),o.transition(o2));u1.append("line"),u1.append("text");var D2,H2,Z2,gt,j2=u1.select("line"),It=D1.select("line"),An=x1.select("text").text(p1),Gn=u1.select("text"),b2=D1.select("text"),q2="top"===U||"left"===U?-1:1;if("bottom"===U||"top"===U?(Ee=qr,D2="x",Z2="y",H2="x2",gt="y2",An.attr("dy",q2<0?"0em":".71em").style("text-anchor","middle"),v2.attr("d","M"+n2[0]+","+q2*se+"V0H"+n2[1]+"V"+q2*se)):(Ee=qs,D2="y",Z2="x",H2="y2",gt="x2",An.attr("dy",".32em").style("text-anchor",q2<0?"end":"start"),v2.attr("d","M"+q2*se+","+n2[0]+"H0V"+n2[1]+"H"+q2*se)),j2.attr(gt,q2*Q),Gn.attr(Z2,q2*h1),It.attr(H2,0).attr(gt,q2*Q),b2.attr(D2,0).attr(Z2,q2*h1),v1.rangeBand){var Mt=v1,bt=Mt.rangeBand()/2;s1=v1=function(Zt){return Mt(Zt)+bt}}else s1.rangeBand?s1=v1:F1.call(Ee,v1,s1);u1.call(Ee,s1,v1),D1.call(Ee,v1,v1)})}return Se.scale=function(He){return arguments.length?(A=He,Se):A},Se.orient=function(He){return arguments.length?(U=He in y4?He+"":gi,Se):U},Se.ticks=function(){return arguments.length?(_e=p(arguments),Se):_e},Se.tickValues=function(He){return arguments.length?(Te=He,Se):Te},Se.tickFormat=function(He){return arguments.length?(v=He,Se):v},Se.tickSize=function(He){var Ee=arguments.length;return Ee?(Q=+He,se=+arguments[Ee-1],Se):Q},Se.innerTickSize=function(He){return arguments.length?(Q=+He,Se):Q},Se.outerTickSize=function(He){return arguments.length?(se=+He,Se):se},Se.tickPadding=function(He){return arguments.length?(Ce=+He,Se):Ce},Se.tickSubdivide=function(){return arguments.length&&Se},Se};var gi="bottom",y4={top:1,right:1,bottom:1,left:1};function qr(v,A,U){v.attr("transform",function(Q){var se=A(Q);return"translate("+(isFinite(se)?se:U(Q))+",0)"})}function qs(v,A,U){v.attr("transform",function(Q){var se=A(Q);return"translate(0,"+(isFinite(se)?se:U(Q))+")"})}o.svg.brush=function(){var v,A,U=oe(Ee,"brushstart","brush","brushend"),Q=null,se=null,Ce=[0,0],_e=[0,0],Te=!0,Se=!0,He=Ys[0];function Ee(p1){p1.each(function(){var x1=o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",k1).on("touchstart.brush",k1),u1=x1.selectAll(".background").data([0]);u1.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),x1.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var F1=x1.selectAll(".resize").data(He,X);F1.exit().remove(),F1.enter().append("g").attr("class",function(o2){return"resize "+o2}).style("cursor",function(o2){return g7[o2]}).append("rect").attr("x",function(o2){return/[ew]$/.test(o2)?-3:null}).attr("y",function(o2){return/^[ns]/.test(o2)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),F1.style("display",Ee.empty()?"none":null);var D1,h1=o.transition(x1),n2=o.transition(u1);Q&&(D1=fi(Q),n2.attr("x",D1[0]).attr("width",D1[1]-D1[0]),s1(h1)),se&&(D1=fi(se),n2.attr("y",D1[0]).attr("height",D1[1]-D1[0]),v1(h1)),a1(h1)})}function a1(p1){p1.selectAll(".resize").attr("transform",function(x1){return"translate("+Ce[+/e$/.test(x1)]+","+_e[+/^s/.test(x1)]+")"})}function s1(p1){p1.select(".extent").attr("x",Ce[0]),p1.selectAll(".extent,.n>rect,.s>rect").attr("width",Ce[1]-Ce[0])}function v1(p1){p1.select(".extent").attr("y",_e[0]),p1.selectAll(".extent,.e>rect,.w>rect").attr("height",_e[1]-_e[0])}function k1(){var p1,x1,u1=this,F1=o.select(o.event.target),D1=U.of(u1,arguments),h1=o.select(u1),n2=F1.datum(),o2=!/^(n|s)$/.test(n2)&&Q,v2=!/^(e|w)$/.test(n2)&&se,D2=F1.classed("extent"),H2=I1(u1),Z2=o.mouse(u1),gt=o.select(C(u1)).on("keydown.brush",An).on("keyup.brush",Gn);if(o.event.changedTouches?gt.on("touchmove.brush",b2).on("touchend.brush",Mt):gt.on("mousemove.brush",b2).on("mouseup.brush",Mt),h1.interrupt().selectAll("*").interrupt(),D2)Z2[0]=Ce[0]-Z2[0],Z2[1]=_e[0]-Z2[1];else if(n2){var j2=+/w$/.test(n2),It=+/^n/.test(n2);x1=[Ce[1-j2]-Z2[0],_e[1-It]-Z2[1]],Z2[0]=Ce[j2],Z2[1]=_e[It]}else o.event.altKey&&(p1=Z2.slice());function An(){32==o.event.keyCode&&(D2||(p1=null,Z2[0]-=Ce[1],Z2[1]-=_e[1],D2=2),G())}function Gn(){32==o.event.keyCode&&2==D2&&(Z2[0]+=Ce[1],Z2[1]+=_e[1],D2=0,G())}function b2(){var bt=o.mouse(u1),Zt=!1;x1&&(bt[0]+=x1[0],bt[1]+=x1[1]),D2||(o.event.altKey?(p1||(p1=[(Ce[0]+Ce[1])/2,(_e[0]+_e[1])/2]),Z2[0]=Ce[+(bt[0]<p1[0])],Z2[1]=_e[+(bt[1]<p1[1])]):p1=null),o2&&q2(bt,Q,0)&&(s1(h1),Zt=!0),v2&&q2(bt,se,1)&&(v1(h1),Zt=!0),Zt&&(a1(h1),D1({type:"brush",mode:D2?"move":"resize"}))}function q2(bt,Zt,ln){var cn,Jt,L3=fi(Zt),H3=L3[0],jn=L3[1],m3=Z2[ln],V3=ln?_e:Ce,W3=V3[1]-V3[0];if(D2&&(H3-=m3,jn-=W3+m3),cn=(ln?Se:Te)?Math.max(H3,Math.min(jn,bt[ln])):bt[ln],D2?Jt=(cn+=m3)+W3:(p1&&(m3=Math.max(H3,Math.min(jn,2*p1[ln]-cn))),m3<cn?(Jt=cn,cn=m3):Jt=m3),V3[0]!=cn||V3[1]!=Jt)return ln?A=null:v=null,V3[0]=cn,V3[1]=Jt,!0}function Mt(){b2(),h1.style("pointer-events","all").selectAll(".resize").style("display",Ee.empty()?"none":null),o.select("body").style("cursor",null),gt.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),H2(),D1({type:"brushend"})}h1.style("pointer-events","none").selectAll(".resize").style("display",null),o.select("body").style("cursor",F1.style("cursor")),D1({type:"brushstart"}),b2()}return Ee.event=function(p1){p1.each(function(){var x1=U.of(this,arguments),u1={x:Ce,y:_e,i:v,j:A},F1=this.__chart__||u1;this.__chart__=u1,Rt?o.select(this).transition().each("start.brush",function(){v=F1.i,A=F1.j,Ce=F1.x,_e=F1.y,x1({type:"brushstart"})}).tween("brush:brush",function(){var D1=p4(Ce,u1.x),h1=p4(_e,u1.y);return v=A=null,function(n2){Ce=u1.x=D1(n2),_e=u1.y=h1(n2),x1({type:"brush",mode:"resize"})}}).each("end.brush",function(){v=u1.i,A=u1.j,x1({type:"brush",mode:"resize"}),x1({type:"brushend"})}):(x1({type:"brushstart"}),x1({type:"brush",mode:"resize"}),x1({type:"brushend"}))})},Ee.x=function(p1){return arguments.length?(He=Ys[!(Q=p1)<<1|!se],Ee):Q},Ee.y=function(p1){return arguments.length?(He=Ys[!Q<<1|!(se=p1)],Ee):se},Ee.clamp=function(p1){return arguments.length?(Q&&se?(Te=!!p1[0],Se=!!p1[1]):Q?Te=!!p1:se&&(Se=!!p1),Ee):Q&&se?[Te,Se]:Q?Te:se?Se:null},Ee.extent=function(p1){var x1,u1,F1,D1,h1;return arguments.length?(Q&&(x1=p1[0],u1=p1[1],se&&(x1=x1[0],u1=u1[0]),v=[x1,u1],Q.invert&&(x1=Q(x1),u1=Q(u1)),u1<x1&&(h1=x1,x1=u1,u1=h1),x1==Ce[0]&&u1==Ce[1]||(Ce=[x1,u1])),se&&(F1=p1[0],D1=p1[1],Q&&(F1=F1[1],D1=D1[1]),A=[F1,D1],se.invert&&(F1=se(F1),D1=se(D1)),D1<F1&&(h1=F1,F1=D1,D1=h1),F1==_e[0]&&D1==_e[1]||(_e=[F1,D1])),Ee):(Q&&(v?(x1=v[0],u1=v[1]):(x1=Ce[0],u1=Ce[1],Q.invert&&(x1=Q.invert(x1),u1=Q.invert(u1)),u1<x1&&(h1=x1,x1=u1,u1=h1))),se&&(A?(F1=A[0],D1=A[1]):(F1=_e[0],D1=_e[1],se.invert&&(F1=se.invert(F1),D1=se.invert(D1)),D1<F1&&(h1=F1,F1=D1,D1=h1))),Q&&se?[[x1,F1],[u1,D1]]:Q?[x1,u1]:se&&[F1,D1])},Ee.clear=function(){return Ee.empty()||(Ce=[0,0],_e=[0,0],v=A=null),Ee},Ee.empty=function(){return!!Q&&Ce[0]==Ce[1]||!!se&&_e[0]==_e[1]},o.rebind(Ee,U,"on")};var g7={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ys=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function Fo(v){return JSON.parse(v.responseText)}function Bo(v){var A=l.createRange();return A.selectNode(l.body),A.createContextualFragment(v.responseText)}o.text=C2(function(v){return v.responseText}),o.json=function(v,A){return G2(v,"application/json",Fo,A)},o.html=function(v,A){return G2(v,"text/html",Bo,A)},o.xml=C2(function(v){return v.responseXML}),"object"==typeof de&&de.exports?de.exports=o:this.d3=o}).apply(self)},{}],12:[function(m,de,te){"use strict";var o,g="object"==typeof Reflect?Reflect:null,p=g&&"function"==typeof g.apply?g.apply:function(z,k,D){return Function.prototype.apply.call(z,k,D)};o=g&&"function"==typeof g.ownKeys?g.ownKeys:Object.getOwnPropertySymbols?function(z){return Object.getOwnPropertyNames(z).concat(Object.getOwnPropertySymbols(z))}:function(z){return Object.getOwnPropertyNames(z)};var l=Number.isNaN||function(z){return z!=z};function c(){c.init.call(this)}de.exports=c,de.exports.once=function(z,k){return new Promise(function(D,S){function P(){void 0!==H&&z.removeListener("error",H),D([].slice.call(arguments))}var H;"error"!==k&&(H=function(E){z.removeListener(k,P),S(E)},z.once("error",H)),z.once(k,P)})},c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var C=10;function d(z){if("function"!=typeof z)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof z)}function h(z){return void 0===z._maxListeners?c.defaultMaxListeners:z._maxListeners}function u(z,k,D,S){var P,H,E;if(d(D),void 0===(H=z._events)?(H=z._events=Object.create(null),z._eventsCount=0):(void 0!==H.newListener&&(z.emit("newListener",k,D.listener?D.listener:D),H=z._events),E=H[k]),void 0===E)E=H[k]=D,++z._eventsCount;else if("function"==typeof E?E=H[k]=S?[D,E]:[E,D]:S?E.unshift(D):E.push(D),(P=h(z))>0&&E.length>P&&!E.warned){E.warned=!0;var w=new Error("Possible EventEmitter memory leak detected. "+E.length+" "+String(k)+" listeners added. Use emitter.setMaxListeners() to increase limit");w.name="MaxListenersExceededWarning",w.emitter=z,w.type=k,w.count=E.length,console&&console.warn&&console.warn(w)}return z}function _(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function b(z,k,D){var S={fired:!1,wrapFn:void 0,target:z,type:k,listener:D},P=_.bind(S);return P.listener=D,S.wrapFn=P,P}function M(z,k,D){var S=z._events;if(void 0===S)return[];var P=S[k];return void 0===P?[]:"function"==typeof P?D?[P.listener||P]:[P]:D?function(H){for(var E=new Array(H.length),I=0;I<E.length;++I)E[I]=H[I].listener||H[I];return E}(P):N(P,P.length)}function L(z){var k=this._events;if(void 0!==k){var D=k[z];if("function"==typeof D)return 1;if(void 0!==D)return D.length}return 0}function N(z,k){for(var D=new Array(k),S=0;S<k;++S)D[S]=z[S];return D}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return C},set:function(z){if("number"!=typeof z||z<0||l(z))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+z+".");C=z}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(z){if("number"!=typeof z||z<0||l(z))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+z+".");return this._maxListeners=z,this},c.prototype.getMaxListeners=function(){return h(this)},c.prototype.emit=function(z){for(var k=[],D=1;D<arguments.length;D++)k.push(arguments[D]);var S="error"===z,P=this._events;if(void 0!==P)S=S&&void 0===P.error;else if(!S)return!1;if(S){var H;if(k.length>0&&(H=k[0]),H instanceof Error)throw H;var E=new Error("Unhandled error."+(H?" ("+H.message+")":""));throw E.context=H,E}var I=P[z];if(void 0===I)return!1;if("function"==typeof I)p(I,this,k);else{var w=I.length,B=N(I,w);for(D=0;D<w;++D)p(B[D],this,k)}return!0},c.prototype.on=c.prototype.addListener=function(z,k){return u(this,z,k,!1)},c.prototype.prependListener=function(z,k){return u(this,z,k,!0)},c.prototype.once=function(z,k){return d(k),this.on(z,b(this,z,k)),this},c.prototype.prependOnceListener=function(z,k){return d(k),this.prependListener(z,b(this,z,k)),this},c.prototype.off=c.prototype.removeListener=function(z,k){var D,S,P,H,E;if(d(k),void 0===(S=this._events))return this;if(void 0===(D=S[z]))return this;if(D===k||D.listener===k)0==--this._eventsCount?this._events=Object.create(null):(delete S[z],S.removeListener&&this.emit("removeListener",z,D.listener||k));else if("function"!=typeof D){for(P=-1,H=D.length-1;H>=0;H--)if(D[H]===k||D[H].listener===k){E=D[H].listener,P=H;break}if(P<0)return this;0===P?D.shift():function(I,w){for(;w+1<I.length;w++)I[w]=I[w+1];I.pop()}(D,P),1===D.length&&(S[z]=D[0]),void 0!==S.removeListener&&this.emit("removeListener",z,E||k)}return this},c.prototype.removeAllListeners=function(z){var k,D,S;if(void 0===(D=this._events))return this;if(void 0===D.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==D[z]&&(0==--this._eventsCount?this._events=Object.create(null):delete D[z]),this;if(0===arguments.length){var P,H=Object.keys(D);for(S=0;S<H.length;++S)"removeListener"!==(P=H[S])&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(k=D[z]))this.removeListener(z,k);else if(void 0!==k)for(S=k.length-1;S>=0;S--)this.removeListener(z,k[S]);return this},c.prototype.listeners=function(z){return M(this,z,!0)},c.prototype.rawListeners=function(z){return M(this,z,!1)},c.listenerCount=function(z,k){return"function"==typeof z.listenerCount?z.listenerCount(k):L.call(z,k)},c.prototype.listenerCount=L,c.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]}},{}],13:[function(m,de,te){var o,g;o=this,g=function(o){"use strict";function g(k,D){if((S=(k=D?k.toExponential(D-1):k.toExponential()).indexOf("e"))<0)return null;var S,P=k.slice(0,S);return[P.length>1?P[0]+P.slice(2):P,+k.slice(S+1)]}function p(k){return(k=g(Math.abs(k)))?k[1]:NaN}var l,c=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function C(k){if(!(D=c.exec(k)))throw new Error("invalid format: "+k);var D;return new d({fill:D[1],align:D[2],sign:D[3],symbol:D[4],zero:D[5],width:D[6],comma:D[7],precision:D[8]&&D[8].slice(1),trim:D[9],type:D[10]})}function d(k){this.fill=void 0===k.fill?" ":k.fill+"",this.align=void 0===k.align?">":k.align+"",this.sign=void 0===k.sign?"-":k.sign+"",this.symbol=void 0===k.symbol?"":k.symbol+"",this.zero=!!k.zero,this.width=void 0===k.width?void 0:+k.width,this.comma=!!k.comma,this.precision=void 0===k.precision?void 0:+k.precision,this.trim=!!k.trim,this.type=void 0===k.type?"":k.type+""}function h(k,D){var S=g(k,D);if(!S)return k+"";var P=S[0],H=S[1];return H<0?"0."+new Array(-H).join("0")+P:P.length>H+1?P.slice(0,H+1)+"."+P.slice(H+1):P+new Array(H-P.length+2).join("0")}C.prototype=d.prototype,d.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var u={"%":function(k,D){return(100*k).toFixed(D)},b:function(k){return Math.round(k).toString(2)},c:function(k){return k+""},d:function(k){return Math.abs(k=Math.round(k))>=1e21?k.toLocaleString("en").replace(/,/g,""):k.toString(10)},e:function(k,D){return k.toExponential(D)},f:function(k,D){return k.toFixed(D)},g:function(k,D){return k.toPrecision(D)},o:function(k){return Math.round(k).toString(8)},p:function(k,D){return h(100*k,D)},r:h,s:function(k,D){var S=g(k,D);if(!S)return k+"";var P=S[0],H=S[1],E=H-(l=3*Math.max(-8,Math.min(8,Math.floor(H/3))))+1,I=P.length;return E===I?P:E>I?P+new Array(E-I+1).join("0"):E>0?P.slice(0,E)+"."+P.slice(E):"0."+new Array(1-E).join("0")+g(k,Math.max(0,D+E-1))[0]},X:function(k){return Math.round(k).toString(16).toUpperCase()},x:function(k){return Math.round(k).toString(16)}};function _(k){return k}var b,M=Array.prototype.map,L=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function N(k){var D,S,W,P=void 0===k.grouping||void 0===k.thousands?_:(D=M.call(k.grouping,Number),S=k.thousands+"",function(W,q){for(var X=W.length,ee=[],ce=0,me=D[0],ae=0;X>0&&me>0&&(ae+me+1>q&&(me=Math.max(1,q-ae)),ee.push(W.substring(X-=me,X+me)),!((ae+=me+1)>q));)me=D[ce=(ce+1)%D.length];return ee.reverse().join(S)}),H=void 0===k.currency?"":k.currency[0]+"",E=void 0===k.currency?"":k.currency[1]+"",I=void 0===k.decimal?".":k.decimal+"",w=void 0===k.numerals?_:(W=M.call(k.numerals,String),function(q){return q.replace(/[0-9]/g,function(X){return W[+X]})}),B=void 0===k.percent?"%":k.percent+"",$=void 0===k.minus?"-":k.minus+"",T=void 0===k.nan?"NaN":k.nan+"";function Y(W){var q=(W=C(W)).fill,X=W.align,ee=W.sign,ce=W.symbol,me=W.zero,ae=W.width,K=W.comma,le=W.precision,G=W.trim,j=W.type;"n"===j?(K=!0,j="g"):u[j]||(void 0===le&&(le=12),G=!0,j="g"),(me||"0"===q&&"="===X)&&(me=!0,q="0",X="=");var oe="$"===ce?H:"#"===ce&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",re="$"===ce?E:/[%p]/.test(j)?B:"",F=u[j],O=/[defgprs%]/.test(j);function J(R){var ie,fe,ue,he=oe,Me=re;if("c"===j)Me=F(R)+Me,R="";else{var be=(R=+R)<0||1/R<0;if(R=isNaN(R)?T:F(Math.abs(R),le),G&&(R=function(Pe){e:for(var Fe,t1=Pe.length,Xe=1,Ue=-1;Xe<t1;++Xe)switch(Pe[Xe]){case".":Ue=Fe=Xe;break;case"0":0===Ue&&(Ue=Xe),Fe=Xe;break;default:if(!+Pe[Xe])break e;Ue>0&&(Ue=0)}return Ue>0?Pe.slice(0,Ue)+Pe.slice(Fe+1):Pe}(R)),be&&0==+R&&"+"!==ee&&(be=!1),he=(be?"("===ee?ee:$:"-"===ee||"("===ee?"":ee)+he,Me=("s"===j?L[8+l/3]:"")+Me+(be&&"("===ee?")":""),O)for(ie=-1,fe=R.length;++ie<fe;)if(48>(ue=R.charCodeAt(ie))||ue>57){Me=(46===ue?I+R.slice(ie+1):R.slice(ie))+Me,R=R.slice(0,ie);break}}K&&!me&&(R=P(R,1/0));var Ae=he.length+R.length+Me.length,ze=Ae<ae?new Array(ae-Ae+1).join(q):"";switch(K&&me&&(R=P(ze+R,ze.length?ae-Me.length:1/0),ze=""),X){case"<":R=he+R+Me+ze;break;case"=":R=he+ze+R+Me;break;case"^":R=ze.slice(0,Ae=ze.length>>1)+he+R+Me+ze.slice(Ae);break;default:R=ze+he+R+Me}return w(R)}return le=void 0===le?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,le)):Math.max(0,Math.min(20,le)),J.toString=function(){return W+""},J}return{format:Y,formatPrefix:function(W,q){var X=Y(((W=C(W)).type="f",W)),ee=3*Math.max(-8,Math.min(8,Math.floor(p(q)/3))),ce=Math.pow(10,-ee),me=L[8+ee/3];return function(ae){return X(ce*ae)+me}}}}function z(k){return b=N(k),o.format=b.format,o.formatPrefix=b.formatPrefix,b}z({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),o.FormatSpecifier=d,o.formatDefaultLocale=z,o.formatLocale=N,o.formatSpecifier=C,o.precisionFixed=function(k){return Math.max(0,-p(Math.abs(k)))},o.precisionPrefix=function(k,D){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(p(D)/3)))-p(Math.abs(k)))},o.precisionRound=function(k,D){return k=Math.abs(k),D=Math.abs(D)-k,Math.max(0,p(D)-p(k))+1},Object.defineProperty(o,"__esModule",{value:!0})},g("object"==typeof te&&void 0!==de?te:(o="undefined"!=typeof globalThis?globalThis:o||self).d3=o.d3||{})},{}],14:[function(m,de,te){var o,g;o=this,g=function(o,g){"use strict";function p(Re){if(0<=Re.y&&Re.y<100){var Be=new Date(-1,Re.m,Re.d,Re.H,Re.M,Re.S,Re.L);return Be.setFullYear(Re.y),Be}return new Date(Re.y,Re.m,Re.d,Re.H,Re.M,Re.S,Re.L)}function l(Re){if(0<=Re.y&&Re.y<100){var Be=new Date(Date.UTC(-1,Re.m,Re.d,Re.H,Re.M,Re.S,Re.L));return Be.setUTCFullYear(Re.y),Be}return new Date(Date.UTC(Re.y,Re.m,Re.d,Re.H,Re.M,Re.S,Re.L))}function c(Re,Be,C1){return{y:Re,m:Be,d:C1,H:0,M:0,S:0,L:0}}function C(Re){var Be=Re.dateTime,C1=Re.date,O1=Re.time,Q1=Re.periods,l2=Re.days,G1=Re.shortDays,K1=Re.months,N1=Re.shortMonths,ge=N(Q1),ye=z(Q1),je=N(l2),e1=z(l2),d1=N(G1),i1=z(G1),l1=N(K1),c1=z(K1),L1=N(N1),H1=z(N1),B1={a:function(w1){return G1[w1.getDay()]},A:function(w1){return l2[w1.getDay()]},b:function(w1){return N1[w1.getMonth()]},B:function(w1){return K1[w1.getMonth()]},c:null,d:le,e:le,f:F,H:G,I:j,j:oe,L:re,m:O,M:J,p:function(w1){return Q1[+(w1.getHours()>=12)]},q:function(w1){return 1+~~(w1.getMonth()/3)},Q:g1,s:b1,S:R,u:ie,U:fe,V:ue,w:he,W:Me,x:null,X:null,y:be,Y:Ae,Z:ze,"%":Je},r2={a:function(w1){return G1[w1.getUTCDay()]},A:function(w1){return l2[w1.getUTCDay()]},b:function(w1){return N1[w1.getUTCMonth()]},B:function(w1){return K1[w1.getUTCMonth()]},c:null,d:Pe,e:Pe,f:xe,H:Fe,I:t1,j:Xe,L:Ue,m:ve,M:De,p:function(w1){return Q1[+(w1.getUTCHours()>=12)]},q:function(w1){return 1+~~(w1.getUTCMonth()/3)},Q:g1,s:b1,S:Ve,u:Ye,U:Oe,V:Ie,w:Qe,W:n1,x:null,X:null,y:Ke,Y:r1,Z:f1,"%":Je},V1={a:function(w1,a2,J1){var U1=d1.exec(a2.slice(J1));return U1?(w1.w=i1[U1[0].toLowerCase()],J1+U1[0].length):-1},A:function(w1,a2,J1){var U1=je.exec(a2.slice(J1));return U1?(w1.w=e1[U1[0].toLowerCase()],J1+U1[0].length):-1},b:function(w1,a2,J1){var U1=L1.exec(a2.slice(J1));return U1?(w1.m=H1[U1[0].toLowerCase()],J1+U1[0].length):-1},B:function(w1,a2,J1){var U1=l1.exec(a2.slice(J1));return U1?(w1.m=c1[U1[0].toLowerCase()],J1+U1[0].length):-1},c:function(w1,a2,J1){return z1(w1,Be,a2,J1)},d:T,e:T,f:ce,H:W,I:W,j:Y,L:ee,m:$,M:q,p:function(w1,a2,J1){var U1=ge.exec(a2.slice(J1));return U1?(w1.p=ye[U1[0].toLowerCase()],J1+U1[0].length):-1},q:B,Q:ae,s:K,S:X,u:D,U:S,V:P,w:k,W:H,x:function(w1,a2,J1){return z1(w1,C1,a2,J1)},X:function(w1,a2,J1){return z1(w1,O1,a2,J1)},y:I,Y:E,Z:w,"%":me};function q1(w1,a2){return function(J1){var U1,e2,R1,L2=[],y2=-1,w2=0,F2=w1.length;for(J1 instanceof Date||(J1=new Date(+J1));++y2<F2;)37===w1.charCodeAt(y2)&&(L2.push(w1.slice(w2,y2)),null!=(e2=h[U1=w1.charAt(++y2)])?U1=w1.charAt(++y2):e2="e"===U1?" ":"0",(R1=a2[U1])&&(U1=R1(J1,e2)),L2.push(U1),w2=y2+1);return L2.push(w1.slice(w2,y2)),L2.join("")}}function f2(w1,a2){return function(J1){var U1,e2,R1=c(1900,void 0,1);if(z1(R1,w1,J1+="",0)!=J1.length)return null;if("Q"in R1)return new Date(R1.Q);if("s"in R1)return new Date(1e3*R1.s+("L"in R1?R1.L:0));if(a2&&!("Z"in R1)&&(R1.Z=0),"p"in R1&&(R1.H=R1.H%12+12*R1.p),void 0===R1.m&&(R1.m="q"in R1?R1.q:0),"V"in R1){if(R1.V<1||R1.V>53)return null;"w"in R1||(R1.w=1),"Z"in R1?(e2=(U1=l(c(R1.y,0,1))).getUTCDay(),U1=e2>4||0===e2?g.utcMonday.ceil(U1):g.utcMonday(U1),U1=g.utcDay.offset(U1,7*(R1.V-1)),R1.y=U1.getUTCFullYear(),R1.m=U1.getUTCMonth(),R1.d=U1.getUTCDate()+(R1.w+6)%7):(e2=(U1=p(c(R1.y,0,1))).getDay(),U1=e2>4||0===e2?g.timeMonday.ceil(U1):g.timeMonday(U1),U1=g.timeDay.offset(U1,7*(R1.V-1)),R1.y=U1.getFullYear(),R1.m=U1.getMonth(),R1.d=U1.getDate()+(R1.w+6)%7)}else("W"in R1||"U"in R1)&&("w"in R1||(R1.w="u"in R1?R1.u%7:"W"in R1?1:0),e2="Z"in R1?l(c(R1.y,0,1)).getUTCDay():p(c(R1.y,0,1)).getDay(),R1.m=0,R1.d="W"in R1?(R1.w+6)%7+7*R1.W-(e2+5)%7:R1.w+7*R1.U-(e2+6)%7);return"Z"in R1?(R1.H+=R1.Z/100|0,R1.M+=R1.Z%100,l(R1)):p(R1)}}function z1(w1,a2,J1,U1){for(var e2,R1,L2=0,y2=a2.length,w2=J1.length;L2<y2;){if(U1>=w2)return-1;if(37===(e2=a2.charCodeAt(L2++))){if(e2=a2.charAt(L2++),!(R1=V1[e2 in h?a2.charAt(L2++):e2])||(U1=R1(w1,J1,U1))<0)return-1}else if(e2!=J1.charCodeAt(U1++))return-1}return U1}return B1.x=q1(C1,B1),B1.X=q1(O1,B1),B1.c=q1(Be,B1),r2.x=q1(C1,r2),r2.X=q1(O1,r2),r2.c=q1(Be,r2),{format:function(w1){var a2=q1(w1+="",B1);return a2.toString=function(){return w1},a2},parse:function(w1){var a2=f2(w1+="",!1);return a2.toString=function(){return w1},a2},utcFormat:function(w1){var a2=q1(w1+="",r2);return a2.toString=function(){return w1},a2},utcParse:function(w1){var a2=f2(w1+="",!0);return a2.toString=function(){return w1},a2}}}var d,h={"-":"",_:" ",0:"0"},u=/^\s*\d+/,_=/^%/,b=/[\\^$*+?|[\]().{}]/g;function M(Re,Be,C1){var O1=Re<0?"-":"",Q1=(O1?-Re:Re)+"",l2=Q1.length;return O1+(l2<C1?new Array(C1-l2+1).join(Be)+Q1:Q1)}function L(Re){return Re.replace(b,"\\$&")}function N(Re){return new RegExp("^(?:"+Re.map(L).join("|")+")","i")}function z(Re){for(var Be={},C1=-1,O1=Re.length;++C1<O1;)Be[Re[C1].toLowerCase()]=C1;return Be}function k(Re,Be,C1){var O1=u.exec(Be.slice(C1,C1+1));return O1?(Re.w=+O1[0],C1+O1[0].length):-1}function D(Re,Be,C1){var O1=u.exec(Be.slice(C1,C1+1));return O1?(Re.u=+O1[0],C1+O1[0].length):-1}function S(Re,Be,C1){var O1=u.exec(Be.slice(C1,C1+2));return O1?(Re.U=+O1[0],C1+O1[0].length):-1}function P(Re,Be,C1){var O1=u.exec(Be.slice(C1,C1+2));return O1?(Re.V=+O1[0],C1+O1[0].length):-1}function H(Re,Be,C1){var O1=u.exec(Be.slice(C1,C1+2));return O1?(Re.W=+O1[0],C1+O1[0].length):-1}function E(Re,Be,C1){var O1=u.exec(Be.slice(C1,C1+4));return O1?(Re.y=+O1[0],C1+O1[0].length):-1}function I(Re,Be,C1){var O1=u.exec(Be.slice(C1,C1+2));return O1?(Re.y=+O1[0]+(+O1[0]>68?1900:2e3),C1+O1[0].length):-1}function w(Re,Be,C1){var O1=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Be.slice(C1,C1+6));return O1?(Re.Z=O1[1]?0:-(O1[2]+(O1[3]||"00")),C1+O1[0].length):-1}function B(Re,Be,C1){var O1=u.exec(Be.slice(C1,C1+1));return O1?(Re.q=3*O1[0]-3,C1+O1[0].length):-1}function $(Re,Be,C1){var O1=u.exec(Be.slice(C1,C1+2));return O1?(Re.m=O1[0]-1,C1+O1[0].length):-1}function T(Re,Be,C1){var O1=u.exec(Be.slice(C1,C1+2));return O1?(Re.d=+O1[0],C1+O1[0].length):-1}function Y(Re,Be,C1){var O1=u.exec(Be.slice(C1,C1+3));return O1?(Re.m=0,Re.d=+O1[0],C1+O1[0].length):-1}function W(Re,Be,C1){var O1=u.exec(Be.slice(C1,C1+2));return O1?(Re.H=+O1[0],C1+O1[0].length):-1}function q(Re,Be,C1){var O1=u.exec(Be.slice(C1,C1+2));return O1?(Re.M=+O1[0],C1+O1[0].length):-1}function X(Re,Be,C1){var O1=u.exec(Be.slice(C1,C1+2));return O1?(Re.S=+O1[0],C1+O1[0].length):-1}function ee(Re,Be,C1){var O1=u.exec(Be.slice(C1,C1+3));return O1?(Re.L=+O1[0],C1+O1[0].length):-1}function ce(Re,Be,C1){var O1=u.exec(Be.slice(C1,C1+6));return O1?(Re.L=Math.floor(O1[0]/1e3),C1+O1[0].length):-1}function me(Re,Be,C1){var O1=_.exec(Be.slice(C1,C1+1));return O1?C1+O1[0].length:-1}function ae(Re,Be,C1){var O1=u.exec(Be.slice(C1));return O1?(Re.Q=+O1[0],C1+O1[0].length):-1}function K(Re,Be,C1){var O1=u.exec(Be.slice(C1));return O1?(Re.s=+O1[0],C1+O1[0].length):-1}function le(Re,Be){return M(Re.getDate(),Be,2)}function G(Re,Be){return M(Re.getHours(),Be,2)}function j(Re,Be){return M(Re.getHours()%12||12,Be,2)}function oe(Re,Be){return M(1+g.timeDay.count(g.timeYear(Re),Re),Be,3)}function re(Re,Be){return M(Re.getMilliseconds(),Be,3)}function F(Re,Be){return re(Re,Be)+"000"}function O(Re,Be){return M(Re.getMonth()+1,Be,2)}function J(Re,Be){return M(Re.getMinutes(),Be,2)}function R(Re,Be){return M(Re.getSeconds(),Be,2)}function ie(Re){var Be=Re.getDay();return 0===Be?7:Be}function fe(Re,Be){return M(g.timeSunday.count(g.timeYear(Re)-1,Re),Be,2)}function ue(Re,Be){var C1=Re.getDay();return Re=C1>=4||0===C1?g.timeThursday(Re):g.timeThursday.ceil(Re),M(g.timeThursday.count(g.timeYear(Re),Re)+(4===g.timeYear(Re).getDay()),Be,2)}function he(Re){return Re.getDay()}function Me(Re,Be){return M(g.timeMonday.count(g.timeYear(Re)-1,Re),Be,2)}function be(Re,Be){return M(Re.getFullYear()%100,Be,2)}function Ae(Re,Be){return M(Re.getFullYear()%1e4,Be,4)}function ze(Re){var Be=Re.getTimezoneOffset();return(Be>0?"-":(Be*=-1,"+"))+M(Be/60|0,"0",2)+M(Be%60,"0",2)}function Pe(Re,Be){return M(Re.getUTCDate(),Be,2)}function Fe(Re,Be){return M(Re.getUTCHours(),Be,2)}function t1(Re,Be){return M(Re.getUTCHours()%12||12,Be,2)}function Xe(Re,Be){return M(1+g.utcDay.count(g.utcYear(Re),Re),Be,3)}function Ue(Re,Be){return M(Re.getUTCMilliseconds(),Be,3)}function xe(Re,Be){return Ue(Re,Be)+"000"}function ve(Re,Be){return M(Re.getUTCMonth()+1,Be,2)}function De(Re,Be){return M(Re.getUTCMinutes(),Be,2)}function Ve(Re,Be){return M(Re.getUTCSeconds(),Be,2)}function Ye(Re){var Be=Re.getUTCDay();return 0===Be?7:Be}function Oe(Re,Be){return M(g.utcSunday.count(g.utcYear(Re)-1,Re),Be,2)}function Ie(Re,Be){var C1=Re.getUTCDay();return Re=C1>=4||0===C1?g.utcThursday(Re):g.utcThursday.ceil(Re),M(g.utcThursday.count(g.utcYear(Re),Re)+(4===g.utcYear(Re).getUTCDay()),Be,2)}function Qe(Re){return Re.getUTCDay()}function n1(Re,Be){return M(g.utcMonday.count(g.utcYear(Re)-1,Re),Be,2)}function Ke(Re,Be){return M(Re.getUTCFullYear()%100,Be,2)}function r1(Re,Be){return M(Re.getUTCFullYear()%1e4,Be,4)}function f1(){return"+0000"}function Je(){return"%"}function g1(Re){return+Re}function b1(Re){return Math.floor(+Re/1e3)}function _1(Re){return d=C(Re),o.timeFormat=d.format,o.timeParse=d.parse,o.utcFormat=d.utcFormat,o.utcParse=d.utcParse,d}_1({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var I1=Date.prototype.toISOString?function(Re){return Re.toISOString()}:o.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),M1=+new Date("2000-01-01T00:00:00.000Z")?function(Re){var Be=new Date(Re);return isNaN(Be)?null:Be}:o.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");o.isoFormat=I1,o.isoParse=M1,o.timeFormatDefaultLocale=_1,o.timeFormatLocale=C,Object.defineProperty(o,"__esModule",{value:!0})},"object"==typeof te&&void 0!==de?g(te,m("d3-time")):g((o=o||self).d3=o.d3||{},o.d3)},{"d3-time":15}],15:[function(m,de,te){var o,g;o=this,g=function(o){"use strict";var g=new Date,p=new Date;function l(ve,De,Ve,Ye){function Oe(Ie){return ve(Ie=0===arguments.length?new Date:new Date(+Ie)),Ie}return Oe.floor=function(Ie){return ve(Ie=new Date(+Ie)),Ie},Oe.ceil=function(Ie){return ve(Ie=new Date(Ie-1)),De(Ie,1),ve(Ie),Ie},Oe.round=function(Ie){var Qe=Oe(Ie),n1=Oe.ceil(Ie);return Ie-Qe<n1-Ie?Qe:n1},Oe.offset=function(Ie,Qe){return De(Ie=new Date(+Ie),null==Qe?1:Math.floor(Qe)),Ie},Oe.range=function(Ie,Qe,n1){var Ke,r1=[];if(Ie=Oe.ceil(Ie),n1=null==n1?1:Math.floor(n1),!(Ie<Qe&&n1>0))return r1;do{r1.push(Ke=new Date(+Ie)),De(Ie,n1),ve(Ie)}while(Ke<Ie&&Ie<Qe);return r1},Oe.filter=function(Ie){return l(function(Qe){if(Qe>=Qe)for(;ve(Qe),!Ie(Qe);)Qe.setTime(Qe-1)},function(Qe,n1){if(Qe>=Qe)if(n1<0)for(;++n1<=0;)for(;De(Qe,-1),!Ie(Qe););else for(;--n1>=0;)for(;De(Qe,1),!Ie(Qe););})},Ve&&(Oe.count=function(Ie,Qe){return g.setTime(+Ie),p.setTime(+Qe),ve(g),ve(p),Math.floor(Ve(g,p))},Oe.every=function(Ie){return Ie=Math.floor(Ie),isFinite(Ie)&&Ie>0?Ie>1?Oe.filter(Ye?function(Qe){return Ye(Qe)%Ie==0}:function(Qe){return Oe.count(0,Qe)%Ie==0}):Oe:null}),Oe}var c=l(function(){},function(ve,De){ve.setTime(+ve+De)},function(ve,De){return De-ve});c.every=function(ve){return ve=Math.floor(ve),isFinite(ve)&&ve>0?ve>1?l(function(De){De.setTime(Math.floor(De/ve)*ve)},function(De,Ve){De.setTime(+De+Ve*ve)},function(De,Ve){return(Ve-De)/ve}):c:null};var C=c.range,d=l(function(ve){ve.setTime(ve-ve.getMilliseconds())},function(ve,De){ve.setTime(+ve+1e3*De)},function(ve,De){return(De-ve)/1e3},function(ve){return ve.getUTCSeconds()}),h=d.range,u=l(function(ve){ve.setTime(ve-ve.getMilliseconds()-1e3*ve.getSeconds())},function(ve,De){ve.setTime(+ve+6e4*De)},function(ve,De){return(De-ve)/6e4},function(ve){return ve.getMinutes()}),_=u.range,b=l(function(ve){ve.setTime(ve-ve.getMilliseconds()-1e3*ve.getSeconds()-6e4*ve.getMinutes())},function(ve,De){ve.setTime(+ve+36e5*De)},function(ve,De){return(De-ve)/36e5},function(ve){return ve.getHours()}),M=b.range,L=l(function(ve){ve.setHours(0,0,0,0)},function(ve,De){ve.setDate(ve.getDate()+De)},function(ve,De){return(De-ve-6e4*(De.getTimezoneOffset()-ve.getTimezoneOffset()))/864e5},function(ve){return ve.getDate()-1}),N=L.range;function z(ve){return l(function(De){De.setDate(De.getDate()-(De.getDay()+7-ve)%7),De.setHours(0,0,0,0)},function(De,Ve){De.setDate(De.getDate()+7*Ve)},function(De,Ve){return(Ve-De-6e4*(Ve.getTimezoneOffset()-De.getTimezoneOffset()))/6048e5})}var k=z(0),D=z(1),S=z(2),P=z(3),H=z(4),E=z(5),I=z(6),w=k.range,B=D.range,$=S.range,T=P.range,Y=H.range,W=E.range,q=I.range,X=l(function(ve){ve.setDate(1),ve.setHours(0,0,0,0)},function(ve,De){ve.setMonth(ve.getMonth()+De)},function(ve,De){return De.getMonth()-ve.getMonth()+12*(De.getFullYear()-ve.getFullYear())},function(ve){return ve.getMonth()}),ee=X.range,ce=l(function(ve){ve.setMonth(0,1),ve.setHours(0,0,0,0)},function(ve,De){ve.setFullYear(ve.getFullYear()+De)},function(ve,De){return De.getFullYear()-ve.getFullYear()},function(ve){return ve.getFullYear()});ce.every=function(ve){return isFinite(ve=Math.floor(ve))&&ve>0?l(function(De){De.setFullYear(Math.floor(De.getFullYear()/ve)*ve),De.setMonth(0,1),De.setHours(0,0,0,0)},function(De,Ve){De.setFullYear(De.getFullYear()+Ve*ve)}):null};var me=ce.range,ae=l(function(ve){ve.setUTCSeconds(0,0)},function(ve,De){ve.setTime(+ve+6e4*De)},function(ve,De){return(De-ve)/6e4},function(ve){return ve.getUTCMinutes()}),K=ae.range,le=l(function(ve){ve.setUTCMinutes(0,0,0)},function(ve,De){ve.setTime(+ve+36e5*De)},function(ve,De){return(De-ve)/36e5},function(ve){return ve.getUTCHours()}),G=le.range,j=l(function(ve){ve.setUTCHours(0,0,0,0)},function(ve,De){ve.setUTCDate(ve.getUTCDate()+De)},function(ve,De){return(De-ve)/864e5},function(ve){return ve.getUTCDate()-1}),oe=j.range;function re(ve){return l(function(De){De.setUTCDate(De.getUTCDate()-(De.getUTCDay()+7-ve)%7),De.setUTCHours(0,0,0,0)},function(De,Ve){De.setUTCDate(De.getUTCDate()+7*Ve)},function(De,Ve){return(Ve-De)/6048e5})}var F=re(0),O=re(1),J=re(2),R=re(3),ie=re(4),fe=re(5),ue=re(6),he=F.range,Me=O.range,be=J.range,Ae=R.range,ze=ie.range,Pe=fe.range,Fe=ue.range,t1=l(function(ve){ve.setUTCDate(1),ve.setUTCHours(0,0,0,0)},function(ve,De){ve.setUTCMonth(ve.getUTCMonth()+De)},function(ve,De){return De.getUTCMonth()-ve.getUTCMonth()+12*(De.getUTCFullYear()-ve.getUTCFullYear())},function(ve){return ve.getUTCMonth()}),Xe=t1.range,Ue=l(function(ve){ve.setUTCMonth(0,1),ve.setUTCHours(0,0,0,0)},function(ve,De){ve.setUTCFullYear(ve.getUTCFullYear()+De)},function(ve,De){return De.getUTCFullYear()-ve.getUTCFullYear()},function(ve){return ve.getUTCFullYear()});Ue.every=function(ve){return isFinite(ve=Math.floor(ve))&&ve>0?l(function(De){De.setUTCFullYear(Math.floor(De.getUTCFullYear()/ve)*ve),De.setUTCMonth(0,1),De.setUTCHours(0,0,0,0)},function(De,Ve){De.setUTCFullYear(De.getUTCFullYear()+Ve*ve)}):null};var xe=Ue.range;o.timeDay=L,o.timeDays=N,o.timeFriday=E,o.timeFridays=W,o.timeHour=b,o.timeHours=M,o.timeInterval=l,o.timeMillisecond=c,o.timeMilliseconds=C,o.timeMinute=u,o.timeMinutes=_,o.timeMonday=D,o.timeMondays=B,o.timeMonth=X,o.timeMonths=ee,o.timeSaturday=I,o.timeSaturdays=q,o.timeSecond=d,o.timeSeconds=h,o.timeSunday=k,o.timeSundays=w,o.timeThursday=H,o.timeThursdays=Y,o.timeTuesday=S,o.timeTuesdays=$,o.timeWednesday=P,o.timeWednesdays=T,o.timeWeek=k,o.timeWeeks=w,o.timeYear=ce,o.timeYears=me,o.utcDay=j,o.utcDays=oe,o.utcFriday=fe,o.utcFridays=Pe,o.utcHour=le,o.utcHours=G,o.utcMillisecond=c,o.utcMilliseconds=C,o.utcMinute=ae,o.utcMinutes=K,o.utcMonday=O,o.utcMondays=Me,o.utcMonth=t1,o.utcMonths=Xe,o.utcSaturday=ue,o.utcSaturdays=Fe,o.utcSecond=d,o.utcSeconds=h,o.utcSunday=F,o.utcSundays=he,o.utcThursday=ie,o.utcThursdays=ze,o.utcTuesday=J,o.utcTuesdays=be,o.utcWednesday=R,o.utcWednesdays=Ae,o.utcWeek=F,o.utcWeeks=he,o.utcYear=Ue,o.utcYears=xe,Object.defineProperty(o,"__esModule",{value:!0})},g("object"==typeof te&&void 0!==de?te:(o=o||self).d3=o.d3||{})},{}],16:[function(m,de,te){arguments[4][15][0].apply(te,arguments)},{dup:15}],17:[function(m,de,te){"use strict";var o=m("is-string-blank");de.exports=function(g){var p=typeof g;if("string"===p){var l=g;if(0==(g=+g)&&o(l))return!1}else if("number"!==p)return!1;return g-g<1}},{"is-string-blank":52}],18:[function(m,de,te){de.exports=function(o,g){var p=g[0],l=g[1],c=g[2],C=g[3],d=g[4],h=g[5],u=g[6],_=g[7],b=g[8],M=g[9],L=g[10],N=g[11],z=g[12],k=g[13],D=g[14],S=g[15];return o[0]=h*(L*S-N*D)-M*(u*S-_*D)+k*(u*N-_*L),o[1]=-(l*(L*S-N*D)-M*(c*S-C*D)+k*(c*N-C*L)),o[2]=l*(u*S-_*D)-h*(c*S-C*D)+k*(c*_-C*u),o[3]=-(l*(u*N-_*L)-h*(c*N-C*L)+M*(c*_-C*u)),o[4]=-(d*(L*S-N*D)-b*(u*S-_*D)+z*(u*N-_*L)),o[5]=p*(L*S-N*D)-b*(c*S-C*D)+z*(c*N-C*L),o[6]=-(p*(u*S-_*D)-d*(c*S-C*D)+z*(c*_-C*u)),o[7]=p*(u*N-_*L)-d*(c*N-C*L)+b*(c*_-C*u),o[8]=d*(M*S-N*k)-b*(h*S-_*k)+z*(h*N-_*M),o[9]=-(p*(M*S-N*k)-b*(l*S-C*k)+z*(l*N-C*M)),o[10]=p*(h*S-_*k)-d*(l*S-C*k)+z*(l*_-C*h),o[11]=-(p*(h*N-_*M)-d*(l*N-C*M)+b*(l*_-C*h)),o[12]=-(d*(M*D-L*k)-b*(h*D-u*k)+z*(h*L-u*M)),o[13]=p*(M*D-L*k)-b*(l*D-c*k)+z*(l*L-c*M),o[14]=-(p*(h*D-u*k)-d*(l*D-c*k)+z*(l*u-c*h)),o[15]=p*(h*L-u*M)-d*(l*L-c*M)+b*(l*u-c*h),o}},{}],19:[function(m,de,te){de.exports=function(o){var g=new Float32Array(16);return g[0]=o[0],g[1]=o[1],g[2]=o[2],g[3]=o[3],g[4]=o[4],g[5]=o[5],g[6]=o[6],g[7]=o[7],g[8]=o[8],g[9]=o[9],g[10]=o[10],g[11]=o[11],g[12]=o[12],g[13]=o[13],g[14]=o[14],g[15]=o[15],g}},{}],20:[function(m,de,te){de.exports=function(o,g){return o[0]=g[0],o[1]=g[1],o[2]=g[2],o[3]=g[3],o[4]=g[4],o[5]=g[5],o[6]=g[6],o[7]=g[7],o[8]=g[8],o[9]=g[9],o[10]=g[10],o[11]=g[11],o[12]=g[12],o[13]=g[13],o[14]=g[14],o[15]=g[15],o}},{}],21:[function(m,de,te){de.exports=function(){var o=new Float32Array(16);return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},{}],22:[function(m,de,te){de.exports=function(o){var g=o[0],p=o[1],l=o[2],c=o[3],C=o[4],d=o[5],h=o[6],u=o[7],_=o[8],b=o[9],M=o[10],L=o[11],N=o[12],z=o[13],k=o[14],D=o[15];return(g*d-p*C)*(M*D-L*k)-(g*h-l*C)*(b*D-L*z)+(g*u-c*C)*(b*k-M*z)+(p*h-l*d)*(_*D-L*N)-(p*u-c*d)*(_*k-M*N)+(l*u-c*h)*(_*z-b*N)}},{}],23:[function(m,de,te){de.exports=function(o,g){var p=g[0],l=g[1],c=g[2],C=g[3],d=p+p,h=l+l,u=c+c,_=p*d,b=l*d,M=l*h,L=c*d,N=c*h,z=c*u,k=C*d,D=C*h,S=C*u;return o[0]=1-M-z,o[1]=b+S,o[2]=L-D,o[3]=0,o[4]=b-S,o[5]=1-_-z,o[6]=N+k,o[7]=0,o[8]=L+D,o[9]=N-k,o[10]=1-_-M,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},{}],24:[function(m,de,te){de.exports=function(o,g,p){var l,c,C,d=p[0],h=p[1],u=p[2],_=Math.sqrt(d*d+h*h+u*u);return Math.abs(_)<1e-6?null:(d*=_=1/_,h*=_,u*=_,l=Math.sin(g),c=Math.cos(g),o[0]=d*d*(C=1-c)+c,o[1]=h*d*C+u*l,o[2]=u*d*C-h*l,o[3]=0,o[4]=d*h*C-u*l,o[5]=h*h*C+c,o[6]=u*h*C+d*l,o[7]=0,o[8]=d*u*C+h*l,o[9]=h*u*C-d*l,o[10]=u*u*C+c,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o)}},{}],25:[function(m,de,te){de.exports=function(o,g,p){var l=g[0],c=g[1],C=g[2],d=g[3],h=l+l,u=c+c,_=C+C,b=l*h,M=l*u,L=l*_,N=c*u,z=c*_,k=C*_,D=d*h,S=d*u,P=d*_;return o[0]=1-(N+k),o[1]=M+P,o[2]=L-S,o[3]=0,o[4]=M-P,o[5]=1-(b+k),o[6]=z+D,o[7]=0,o[8]=L+S,o[9]=z-D,o[10]=1-(b+N),o[11]=0,o[12]=p[0],o[13]=p[1],o[14]=p[2],o[15]=1,o}},{}],26:[function(m,de,te){de.exports=function(o,g){return o[0]=g[0],o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=g[1],o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=g[2],o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},{}],27:[function(m,de,te){de.exports=function(o,g){return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=g[0],o[13]=g[1],o[14]=g[2],o[15]=1,o}},{}],28:[function(m,de,te){de.exports=function(o,g){var p=Math.sin(g),l=Math.cos(g);return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=l,o[6]=p,o[7]=0,o[8]=0,o[9]=-p,o[10]=l,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},{}],29:[function(m,de,te){de.exports=function(o,g){var p=Math.sin(g),l=Math.cos(g);return o[0]=l,o[1]=0,o[2]=-p,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=p,o[9]=0,o[10]=l,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},{}],30:[function(m,de,te){de.exports=function(o,g){var p=Math.sin(g),l=Math.cos(g);return o[0]=l,o[1]=p,o[2]=0,o[3]=0,o[4]=-p,o[5]=l,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},{}],31:[function(m,de,te){de.exports=function(o,g,p,l,c,C,d){var h=1/(p-g),u=1/(c-l),_=1/(C-d);return o[0]=2*C*h,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2*C*u,o[6]=0,o[7]=0,o[8]=(p+g)*h,o[9]=(c+l)*u,o[10]=(d+C)*_,o[11]=-1,o[12]=0,o[13]=0,o[14]=d*C*2*_,o[15]=0,o}},{}],32:[function(m,de,te){de.exports=function(o){return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},{}],33:[function(m,de,te){de.exports={create:m("./create"),clone:m("./clone"),copy:m("./copy"),identity:m("./identity"),transpose:m("./transpose"),invert:m("./invert"),adjoint:m("./adjoint"),determinant:m("./determinant"),multiply:m("./multiply"),translate:m("./translate"),scale:m("./scale"),rotate:m("./rotate"),rotateX:m("./rotateX"),rotateY:m("./rotateY"),rotateZ:m("./rotateZ"),fromRotation:m("./fromRotation"),fromRotationTranslation:m("./fromRotationTranslation"),fromScaling:m("./fromScaling"),fromTranslation:m("./fromTranslation"),fromXRotation:m("./fromXRotation"),fromYRotation:m("./fromYRotation"),fromZRotation:m("./fromZRotation"),fromQuat:m("./fromQuat"),frustum:m("./frustum"),perspective:m("./perspective"),perspectiveFromFieldOfView:m("./perspectiveFromFieldOfView"),ortho:m("./ortho"),lookAt:m("./lookAt"),str:m("./str")}},{"./adjoint":18,"./clone":19,"./copy":20,"./create":21,"./determinant":22,"./fromQuat":23,"./fromRotation":24,"./fromRotationTranslation":25,"./fromScaling":26,"./fromTranslation":27,"./fromXRotation":28,"./fromYRotation":29,"./fromZRotation":30,"./frustum":31,"./identity":32,"./invert":34,"./lookAt":35,"./multiply":36,"./ortho":37,"./perspective":38,"./perspectiveFromFieldOfView":39,"./rotate":40,"./rotateX":41,"./rotateY":42,"./rotateZ":43,"./scale":44,"./str":45,"./translate":46,"./transpose":47}],34:[function(m,de,te){de.exports=function(o,g){var p=g[0],l=g[1],c=g[2],C=g[3],d=g[4],h=g[5],u=g[6],_=g[7],b=g[8],M=g[9],L=g[10],N=g[11],z=g[12],k=g[13],D=g[14],S=g[15],P=p*h-l*d,H=p*u-c*d,E=p*_-C*d,I=l*u-c*h,w=l*_-C*h,B=c*_-C*u,$=b*k-M*z,T=b*D-L*z,Y=b*S-N*z,W=M*D-L*k,q=M*S-N*k,X=L*S-N*D,ee=P*X-H*q+E*W+I*Y-w*T+B*$;return ee?(o[0]=(h*X-u*q+_*W)*(ee=1/ee),o[1]=(c*q-l*X-C*W)*ee,o[2]=(k*B-D*w+S*I)*ee,o[3]=(L*w-M*B-N*I)*ee,o[4]=(u*Y-d*X-_*T)*ee,o[5]=(p*X-c*Y+C*T)*ee,o[6]=(D*E-z*B-S*H)*ee,o[7]=(b*B-L*E+N*H)*ee,o[8]=(d*q-h*Y+_*$)*ee,o[9]=(l*Y-p*q-C*$)*ee,o[10]=(z*w-k*E+S*P)*ee,o[11]=(M*E-b*w-N*P)*ee,o[12]=(h*T-d*W-u*$)*ee,o[13]=(p*W-l*T+c*$)*ee,o[14]=(k*H-z*I-D*P)*ee,o[15]=(b*I-M*H+L*P)*ee,o):null}},{}],35:[function(m,de,te){var o=m("./identity");de.exports=function(g,p,l,c){var C,d,h,u,_,b,M,L,N,z,k=p[0],D=p[1],S=p[2],P=c[0],H=c[1],E=c[2],I=l[0],w=l[1],B=l[2];return Math.abs(k-I)<1e-6&&Math.abs(D-w)<1e-6&&Math.abs(S-B)<1e-6?o(g):(M=k-I,L=D-w,N=S-B,C=H*(N*=z=1/Math.sqrt(M*M+L*L+N*N))-E*(L*=z),d=E*(M*=z)-P*N,h=P*L-H*M,(z=Math.sqrt(C*C+d*d+h*h))?(C*=z=1/z,d*=z,h*=z):(C=0,d=0,h=0),u=L*h-N*d,_=N*C-M*h,b=M*d-L*C,(z=Math.sqrt(u*u+_*_+b*b))?(u*=z=1/z,_*=z,b*=z):(u=0,_=0,b=0),g[0]=C,g[1]=u,g[2]=M,g[3]=0,g[4]=d,g[5]=_,g[6]=L,g[7]=0,g[8]=h,g[9]=b,g[10]=N,g[11]=0,g[12]=-(C*k+d*D+h*S),g[13]=-(u*k+_*D+b*S),g[14]=-(M*k+L*D+N*S),g[15]=1,g)}},{"./identity":32}],36:[function(m,de,te){de.exports=function(o,g,p){var l=g[0],c=g[1],C=g[2],d=g[3],h=g[4],u=g[5],_=g[6],b=g[7],M=g[8],L=g[9],N=g[10],z=g[11],k=g[12],D=g[13],S=g[14],P=g[15],H=p[0],E=p[1],I=p[2],w=p[3];return o[0]=H*l+E*h+I*M+w*k,o[1]=H*c+E*u+I*L+w*D,o[2]=H*C+E*_+I*N+w*S,o[3]=H*d+E*b+I*z+w*P,o[4]=(H=p[4])*l+(E=p[5])*h+(I=p[6])*M+(w=p[7])*k,o[5]=H*c+E*u+I*L+w*D,o[6]=H*C+E*_+I*N+w*S,o[7]=H*d+E*b+I*z+w*P,o[8]=(H=p[8])*l+(E=p[9])*h+(I=p[10])*M+(w=p[11])*k,o[9]=H*c+E*u+I*L+w*D,o[10]=H*C+E*_+I*N+w*S,o[11]=H*d+E*b+I*z+w*P,o[12]=(H=p[12])*l+(E=p[13])*h+(I=p[14])*M+(w=p[15])*k,o[13]=H*c+E*u+I*L+w*D,o[14]=H*C+E*_+I*N+w*S,o[15]=H*d+E*b+I*z+w*P,o}},{}],37:[function(m,de,te){de.exports=function(o,g,p,l,c,C,d){var h=1/(g-p),u=1/(l-c),_=1/(C-d);return o[0]=-2*h,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*u,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*_,o[11]=0,o[12]=(g+p)*h,o[13]=(c+l)*u,o[14]=(d+C)*_,o[15]=1,o}},{}],38:[function(m,de,te){de.exports=function(o,g,p,l,c){var C=1/Math.tan(g/2),d=1/(l-c);return o[0]=C/p,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=C,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=(c+l)*d,o[11]=-1,o[12]=0,o[13]=0,o[14]=2*c*l*d,o[15]=0,o}},{}],39:[function(m,de,te){de.exports=function(o,g,p,l){var c=Math.tan(g.upDegrees*Math.PI/180),C=Math.tan(g.downDegrees*Math.PI/180),d=Math.tan(g.leftDegrees*Math.PI/180),h=Math.tan(g.rightDegrees*Math.PI/180),u=2/(d+h),_=2/(c+C);return o[0]=u,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=_,o[6]=0,o[7]=0,o[8]=-(d-h)*u*.5,o[9]=(c-C)*_*.5,o[10]=l/(p-l),o[11]=-1,o[12]=0,o[13]=0,o[14]=l*p/(p-l),o[15]=0,o}},{}],40:[function(m,de,te){de.exports=function(o,g,p,l){var c,C,d,h,u,_,b,M,L,N,z,k,D,S,P,H,E,I,w,B,$,T,Y,W,q=l[0],X=l[1],ee=l[2],ce=Math.sqrt(q*q+X*X+ee*ee);return Math.abs(ce)<1e-6?null:(q*=ce=1/ce,X*=ce,ee*=ce,c=Math.sin(p),C=Math.cos(p),u=g[1],_=g[2],b=g[3],L=g[5],N=g[6],z=g[7],D=g[9],S=g[10],P=g[11],w=q*X*(d=1-C)-ee*c,B=X*X*d+C,$=ee*X*d+q*c,T=q*ee*d+X*c,Y=X*ee*d-q*c,W=ee*ee*d+C,o[0]=(h=g[0])*(H=q*q*d+C)+(M=g[4])*(E=X*q*d+ee*c)+(k=g[8])*(I=ee*q*d-X*c),o[1]=u*H+L*E+D*I,o[2]=_*H+N*E+S*I,o[3]=b*H+z*E+P*I,o[4]=h*w+M*B+k*$,o[5]=u*w+L*B+D*$,o[6]=_*w+N*B+S*$,o[7]=b*w+z*B+P*$,o[8]=h*T+M*Y+k*W,o[9]=u*T+L*Y+D*W,o[10]=_*T+N*Y+S*W,o[11]=b*T+z*Y+P*W,g!==o&&(o[12]=g[12],o[13]=g[13],o[14]=g[14],o[15]=g[15]),o)}},{}],41:[function(m,de,te){de.exports=function(o,g,p){var l=Math.sin(p),c=Math.cos(p),C=g[4],d=g[5],h=g[6],u=g[7],_=g[8],b=g[9],M=g[10],L=g[11];return g!==o&&(o[0]=g[0],o[1]=g[1],o[2]=g[2],o[3]=g[3],o[12]=g[12],o[13]=g[13],o[14]=g[14],o[15]=g[15]),o[4]=C*c+_*l,o[5]=d*c+b*l,o[6]=h*c+M*l,o[7]=u*c+L*l,o[8]=_*c-C*l,o[9]=b*c-d*l,o[10]=M*c-h*l,o[11]=L*c-u*l,o}},{}],42:[function(m,de,te){de.exports=function(o,g,p){var l=Math.sin(p),c=Math.cos(p),C=g[0],d=g[1],h=g[2],u=g[3],_=g[8],b=g[9],M=g[10],L=g[11];return g!==o&&(o[4]=g[4],o[5]=g[5],o[6]=g[6],o[7]=g[7],o[12]=g[12],o[13]=g[13],o[14]=g[14],o[15]=g[15]),o[0]=C*c-_*l,o[1]=d*c-b*l,o[2]=h*c-M*l,o[3]=u*c-L*l,o[8]=C*l+_*c,o[9]=d*l+b*c,o[10]=h*l+M*c,o[11]=u*l+L*c,o}},{}],43:[function(m,de,te){de.exports=function(o,g,p){var l=Math.sin(p),c=Math.cos(p),C=g[0],d=g[1],h=g[2],u=g[3],_=g[4],b=g[5],M=g[6],L=g[7];return g!==o&&(o[8]=g[8],o[9]=g[9],o[10]=g[10],o[11]=g[11],o[12]=g[12],o[13]=g[13],o[14]=g[14],o[15]=g[15]),o[0]=C*c+_*l,o[1]=d*c+b*l,o[2]=h*c+M*l,o[3]=u*c+L*l,o[4]=_*c-C*l,o[5]=b*c-d*l,o[6]=M*c-h*l,o[7]=L*c-u*l,o}},{}],44:[function(m,de,te){de.exports=function(o,g,p){var l=p[0],c=p[1],C=p[2];return o[0]=g[0]*l,o[1]=g[1]*l,o[2]=g[2]*l,o[3]=g[3]*l,o[4]=g[4]*c,o[5]=g[5]*c,o[6]=g[6]*c,o[7]=g[7]*c,o[8]=g[8]*C,o[9]=g[9]*C,o[10]=g[10]*C,o[11]=g[11]*C,o[12]=g[12],o[13]=g[13],o[14]=g[14],o[15]=g[15],o}},{}],45:[function(m,de,te){de.exports=function(o){return"mat4("+o[0]+", "+o[1]+", "+o[2]+", "+o[3]+", "+o[4]+", "+o[5]+", "+o[6]+", "+o[7]+", "+o[8]+", "+o[9]+", "+o[10]+", "+o[11]+", "+o[12]+", "+o[13]+", "+o[14]+", "+o[15]+")"}},{}],46:[function(m,de,te){de.exports=function(o,g,p){var l,c,C,d,h,u,_,b,M,L,N,z,k=p[0],D=p[1],S=p[2];return g===o?(o[12]=g[0]*k+g[4]*D+g[8]*S+g[12],o[13]=g[1]*k+g[5]*D+g[9]*S+g[13],o[14]=g[2]*k+g[6]*D+g[10]*S+g[14],o[15]=g[3]*k+g[7]*D+g[11]*S+g[15]):(c=g[1],C=g[2],d=g[3],h=g[4],u=g[5],_=g[6],b=g[7],M=g[8],L=g[9],N=g[10],z=g[11],o[0]=l=g[0],o[1]=c,o[2]=C,o[3]=d,o[4]=h,o[5]=u,o[6]=_,o[7]=b,o[8]=M,o[9]=L,o[10]=N,o[11]=z,o[12]=l*k+h*D+M*S+g[12],o[13]=c*k+u*D+L*S+g[13],o[14]=C*k+_*D+N*S+g[14],o[15]=d*k+b*D+z*S+g[15]),o}},{}],47:[function(m,de,te){de.exports=function(o,g){if(o===g){var p=g[1],l=g[2],c=g[3],C=g[6],d=g[7],h=g[11];o[1]=g[4],o[2]=g[8],o[3]=g[12],o[4]=p,o[6]=g[9],o[7]=g[13],o[8]=l,o[9]=C,o[11]=g[14],o[12]=c,o[13]=d,o[14]=h}else o[0]=g[0],o[1]=g[4],o[2]=g[8],o[3]=g[12],o[4]=g[1],o[5]=g[5],o[6]=g[9],o[7]=g[13],o[8]=g[2],o[9]=g[6],o[10]=g[10],o[11]=g[14],o[12]=g[3],o[13]=g[7],o[14]=g[11],o[15]=g[15];return o}},{}],48:[function(m,de,te){(function(o){(function(){"use strict";var g,p=m("is-browser");g="function"==typeof o.matchMedia?!o.matchMedia("(hover: none)").matches:p,de.exports=g}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"is-browser":50}],49:[function(m,de,te){"use strict";var o=m("is-browser");de.exports=o&&function(){var g=!1;try{var p=Object.defineProperty({},"passive",{get:function(){g=!0}});window.addEventListener("test",null,p),window.removeEventListener("test",null,p)}catch(l){g=!1}return g}()},{"is-browser":50}],50:[function(m,de,te){de.exports=!0},{}],51:[function(m,de,te){"use strict";de.exports=p,de.exports.isMobile=p,de.exports.default=p;var o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,g=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function p(l){l||(l={});var c=l.ua;if(c||"undefined"==typeof navigator||(c=navigator.userAgent),c&&c.headers&&"string"==typeof c.headers["user-agent"]&&(c=c.headers["user-agent"]),"string"!=typeof c)return!1;var C=l.tablet?g.test(c):o.test(c);return!C&&l.tablet&&l.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==c.indexOf("Macintosh")&&-1!==c.indexOf("Safari")&&(C=!0),C}},{}],52:[function(m,de,te){"use strict";de.exports=function(o){for(var g,p=o.length,l=0;l<p;l++)if(((g=o.charCodeAt(l))<9||g>13)&&32!==g&&133!==g&&160!==g&&5760!==g&&6158!==g&&(g<8192||g>8205)&&8232!==g&&8233!==g&&8239!==g&&8287!==g&&8288!==g&&12288!==g&&65279!==g)return!1;return!0}},{}],53:[function(m,de,te){var o={left:0,top:0};de.exports=function(g,p,l){p=p||g.currentTarget||g.srcElement,Array.isArray(l)||(l=[0,0]);var h,c=g.clientX||0,C=g.clientY||0,d=(h=p)===window||h===document||h===document.body?o:h.getBoundingClientRect();return l[0]=c-d.left,l[1]=C-d.top,l}},{}],54:[function(m,de,te){(function(o,g){(function(){var p,l,c;c=function(){"use strict";var C,d,h,u=Object.prototype.toString,_=void 0!==g?function(I){return g(I)}:setTimeout;try{Object.defineProperty({},"x",{}),C=function(I,w,B,$){return Object.defineProperty(I,w,{value:B,writable:!0,configurable:!1!==$})}}catch(I){C=function(w,B,$){return w[B]=$,w}}function b(I,w){h.add(I,w),d||(d=_(h.drain))}function M(I){var w,B=typeof I;return null==I||"object"!=B&&"function"!=B||(w=I.then),"function"==typeof w&&w}function L(){for(var I=0;I<this.chain.length;I++)N(this,1===this.state?this.chain[I].success:this.chain[I].failure,this.chain[I]);this.chain.length=0}function N(I,w,B){var $,T;try{!1===w?B.reject(I.msg):($=!0===w?I.msg:w.call(void 0,I.msg))===B.promise?B.reject(TypeError("Promise-chain cycle")):(T=M($))?T.call($,B.resolve,B.reject):B.resolve($)}catch(Y){B.reject(Y)}}function z(I){var w,B=this;if(!B.triggered){B.triggered=!0,B.def&&(B=B.def);try{(w=M(I))?b(function(){var $=new S(B);try{w.call(I,function(){z.apply($,arguments)},function(){k.apply($,arguments)})}catch(T){k.call($,T)}}):(B.msg=I,B.state=1,B.chain.length>0&&b(L,B))}catch($){k.call(new S(B),$)}}}function k(I){var w=this;w.triggered||(w.triggered=!0,w.def&&(w=w.def),w.msg=I,w.state=2,w.chain.length>0&&b(L,w))}function D(I,w,B,$){for(var T=0;T<w.length;T++)!function(Y){I.resolve(w[Y]).then(function(W){B(Y,W)},$)}(T)}function S(I){this.def=I,this.triggered=!1}function P(I){this.promise=I,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function H(I){if("function"!=typeof I)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var w=new P(this);this.then=function(B,$){var T={success:"function"!=typeof B||B,failure:"function"==typeof $&&$};return T.promise=new this.constructor(function(Y,W){if("function"!=typeof Y||"function"!=typeof W)throw TypeError("Not a function");T.resolve=Y,T.reject=W}),w.chain.push(T),0!==w.state&&b(L,w),T.promise},this.catch=function(B){return this.then(void 0,B)};try{I.call(void 0,function(B){z.call(w,B)},function(B){k.call(w,B)})}catch(B){k.call(w,B)}}h=function(){var I,w,B;function $(T,Y){this.fn=T,this.self=Y,this.next=void 0}return{add:function(T,Y){B=new $(T,Y),w?w.next=B:I=B,w=B,B=void 0},drain:function(){var T=I;for(I=w=d=void 0;T;)T.fn.call(T.self),T=T.next}}}();var E=C({},"constructor",H,!1);return H.prototype=E,C(E,"__NPO__",0,!1),C(H,"resolve",function(I){return I&&"object"==typeof I&&1===I.__NPO__?I:new this(function(w,B){if("function"!=typeof w||"function"!=typeof B)throw TypeError("Not a function");w(I)})}),C(H,"reject",function(I){return new this(function(w,B){if("function"!=typeof w||"function"!=typeof B)throw TypeError("Not a function");B(I)})}),C(H,"all",function(I){var w=this;return"[object Array]"!=u.call(I)?w.reject(TypeError("Not an array")):0===I.length?w.resolve([]):new w(function(B,$){if("function"!=typeof B||"function"!=typeof $)throw TypeError("Not a function");var T=I.length,Y=Array(T),W=0;D(w,I,function(q,X){Y[q]=X,++W===T&&B(Y)},$)})}),C(H,"race",function(I){var w=this;return"[object Array]"!=u.call(I)?w.reject(TypeError("Not an array")):new w(function(B,$){if("function"!=typeof B||"function"!=typeof $)throw TypeError("Not a function");D(w,I,function(T,Y){B(Y)},$)})}),H},(l=void 0!==o?o:this)[p="Promise"]=l[p]||c(),void 0!==de&&de.exports&&(de.exports=l[p])}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},m("timers").setImmediate)},{timers:66}],55:[function(m,de,te){"use strict";var o=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;function l(c){if(null==c)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(c)}de.exports=function(){try{if(!Object.assign)return!1;var c=new String("abc");if(c[5]="de","5"===Object.getOwnPropertyNames(c)[0])return!1;for(var C={},d=0;d<10;d++)C["_"+String.fromCharCode(d)]=d;if("0123456789"!==Object.getOwnPropertyNames(C).map(function(u){return C[u]}).join(""))return!1;var h={};return"abcdefghijklmnopqrst".split("").forEach(function(u){h[u]=u}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},h)).join("")}catch(u){return!1}}()?Object.assign:function(c,C){for(var d,h,u=l(c),_=1;_<arguments.length;_++){for(var b in d=Object(arguments[_]))g.call(d,b)&&(u[b]=d[b]);if(o){h=o(d);for(var M=0;M<h.length;M++)p.call(d,h[M])&&(u[h[M]]=d[h[M]])}}return u}},{}],56:[function(m,de,te){de.exports=function(l){var c=[];return l.replace(g,function(C,d,h){var b,u=d.toLowerCase();for(b=void 0,h=(b=h.match(p))?b.map(Number):[],"m"==u&&h.length>2&&(c.push([d].concat(h.splice(0,2))),u="l",d="m"==d?"l":"L");;){if(h.length==o[u])return h.unshift(d),c.push(h);if(h.length<o[u])throw new Error("malformed path data");c.push([d].concat(h.splice(0,o[u])))}}),c};var o={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},g=/([astvzqmhlc])([^astvzqmhlc]*)/gi,p=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},{}],57:[function(m,de,te){var o,g=m("./lib/build-log"),p=m("./lib/epsilon"),l=m("./lib/intersecter"),c=m("./lib/segment-chainer"),C=m("./lib/segment-selector"),d=m("./lib/geojson"),h=!1,u=p();function _(b,M,L){var N=o.segments(b),z=o.segments(M),k=L(o.combine(N,z));return o.polygon(k)}o={buildLog:function(b){return!0===b?h=g():!1===b&&(h=!1),!1!==h&&h.list},epsilon:function(b){return u.epsilon(b)},segments:function(b){var M=l(!0,u,h);return b.regions.forEach(M.addRegion),{segments:M.calculate(b.inverted),inverted:b.inverted}},combine:function(b,M){return{combined:l(!1,u,h).calculate(b.segments,b.inverted,M.segments,M.inverted),inverted1:b.inverted,inverted2:M.inverted}},selectUnion:function(b){return{segments:C.union(b.combined,h),inverted:b.inverted1||b.inverted2}},selectIntersect:function(b){return{segments:C.intersect(b.combined,h),inverted:b.inverted1&&b.inverted2}},selectDifference:function(b){return{segments:C.difference(b.combined,h),inverted:b.inverted1&&!b.inverted2}},selectDifferenceRev:function(b){return{segments:C.differenceRev(b.combined,h),inverted:!b.inverted1&&b.inverted2}},selectXor:function(b){return{segments:C.xor(b.combined,h),inverted:b.inverted1!==b.inverted2}},polygon:function(b){return{regions:c(b.segments,u,h),inverted:b.inverted}},polygonFromGeoJSON:function(b){return d.toPolygon(o,b)},polygonToGeoJSON:function(b){return d.fromPolygon(o,u,b)},union:function(b,M){return _(b,M,o.selectUnion)},intersect:function(b,M){return _(b,M,o.selectIntersect)},difference:function(b,M){return _(b,M,o.selectDifference)},differenceRev:function(b,M){return _(b,M,o.selectDifferenceRev)},xor:function(b,M){return _(b,M,o.selectXor)}},"object"==typeof window&&(window.PolyBool=o),de.exports=o},{"./lib/build-log":58,"./lib/epsilon":59,"./lib/geojson":60,"./lib/intersecter":61,"./lib/segment-chainer":63,"./lib/segment-selector":64}],58:[function(m,de,te){de.exports=function(){var o,g=0,p=!1;function l(c,C){return o.list.push({type:c,data:C?JSON.parse(JSON.stringify(C)):void 0}),o}return o={list:[],segmentId:function(){return g++},checkIntersection:function(c,C){return l("check",{seg1:c,seg2:C})},segmentChop:function(c,C){return l("div_seg",{seg:c,pt:C}),l("chop",{seg:c,pt:C})},statusRemove:function(c){return l("pop_seg",{seg:c})},segmentUpdate:function(c){return l("seg_update",{seg:c})},segmentNew:function(c,C){return l("new_seg",{seg:c,primary:C})},segmentRemove:function(c){return l("rem_seg",{seg:c})},tempStatus:function(c,C,d){return l("temp_status",{seg:c,above:C,below:d})},rewind:function(c){return l("rewind",{seg:c})},status:function(c,C,d){return l("status",{seg:c,above:C,below:d})},vert:function(c){return c===p?o:(p=c,l("vert",{x:c}))},log:function(c){return"string"!=typeof c&&(c=JSON.stringify(c,!1,"  ")),l("log",{txt:c})},reset:function(){return l("reset")},selected:function(c){return l("selected",{segs:c})},chainStart:function(c){return l("chain_start",{seg:c})},chainRemoveHead:function(c,C){return l("chain_rem_head",{index:c,pt:C})},chainRemoveTail:function(c,C){return l("chain_rem_tail",{index:c,pt:C})},chainNew:function(c,C){return l("chain_new",{pt1:c,pt2:C})},chainMatch:function(c){return l("chain_match",{index:c})},chainClose:function(c){return l("chain_close",{index:c})},chainAddHead:function(c,C){return l("chain_add_head",{index:c,pt:C})},chainAddTail:function(c,C){return l("chain_add_tail",{index:c,pt:C})},chainConnect:function(c,C){return l("chain_con",{index1:c,index2:C})},chainReverse:function(c){return l("chain_rev",{index:c})},chainJoin:function(c,C){return l("chain_join",{index1:c,index2:C})},done:function(){return l("done")}}}},{}],59:[function(m,de,te){de.exports=function(o){"number"!=typeof o&&(o=1e-10);var g={epsilon:function(p){return"number"==typeof p&&(o=p),o},pointAboveOrOnLine:function(p,l,c){var C=l[0],d=l[1];return(c[0]-C)*(p[1]-d)-(c[1]-d)*(p[0]-C)>=-o},pointBetween:function(p,l,c){var d=c[0]-l[0],u=c[1]-l[1],_=(p[0]-l[0])*d+(p[1]-l[1])*u;return!(_<o||_-(d*d+u*u)>-o)},pointsSameX:function(p,l){return Math.abs(p[0]-l[0])<o},pointsSameY:function(p,l){return Math.abs(p[1]-l[1])<o},pointsSame:function(p,l){return g.pointsSameX(p,l)&&g.pointsSameY(p,l)},pointsCompare:function(p,l){return g.pointsSameX(p,l)?g.pointsSameY(p,l)?0:p[1]<l[1]?-1:1:p[0]<l[0]?-1:1},pointsCollinear:function(p,l,c){return Math.abs((p[0]-l[0])*(l[1]-c[1])-(l[0]-c[0])*(p[1]-l[1]))<o},linesIntersect:function(p,l,c,C){var d=l[0]-p[0],h=l[1]-p[1],u=C[0]-c[0],_=C[1]-c[1],b=d*_-h*u;if(Math.abs(b)<o)return!1;var M=p[0]-c[0],L=p[1]-c[1],N=(u*L-_*M)/b,z=(d*L-h*M)/b,k={alongA:0,alongB:0,pt:[p[0]+N*d,p[1]+N*h]};return k.alongA=N<=-o?-2:N<o?-1:N-1<=-o?0:N-1<o?1:2,k.alongB=z<=-o?-2:z<o?-1:z-1<=-o?0:z-1<o?1:2,k},pointInsideRegion:function(p,l){for(var c=p[0],C=p[1],d=l[l.length-1][0],h=l[l.length-1][1],u=!1,_=0;_<l.length;_++){var b=l[_][0],M=l[_][1];M-C>o!=h-C>o&&(d-b)*(C-M)/(h-M)+b-c>o&&(u=!u),d=b,h=M}return u}};return g}},{}],60:[function(m,de,te){de.exports={toPolygon:function(g,p){function l(d){if(d.length<=0)return g.segments({inverted:!1,regions:[]});function h(b){var M=b.slice(0,b.length-1);return g.segments({inverted:!1,regions:[M]})}for(var u=h(d[0]),_=1;_<d.length;_++)u=g.selectDifference(g.combine(u,h(d[_])));return u}if("Polygon"===p.type)return g.polygon(l(p.coordinates));if("MultiPolygon"===p.type){for(var c=g.segments({inverted:!1,regions:[]}),C=0;C<p.coordinates.length;C++)c=g.selectUnion(g.combine(c,l(p.coordinates[C])));return g.polygon(c)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(g,p,l){function c(z,k){return p.pointInsideRegion([.5*(z[0][0]+z[1][0]),.5*(z[0][1]+z[1][1])],k)}function C(z){return{region:z,children:[]}}l=g.polygon(g.segments(l));var d=C(null);function h(z,k){for(var D=0;D<z.children.length;D++)if(c(k,(P=z.children[D]).region))return void h(P,k);var S=C(k);for(D=0;D<z.children.length;D++){var P;c((P=z.children[D]).region,k)&&(S.children.push(P),z.children.splice(D,1),D--)}z.children.push(S)}for(var u=0;u<l.regions.length;u++){var _=l.regions[u];_.length<3||h(d,_)}function b(z,k){for(var D=0,S=z[z.length-1][0],P=z[z.length-1][1],H=[],E=0;E<z.length;E++){var I=z[E][0],w=z[E][1];H.push([I,w]),D+=w*S-I*P,S=I,P=w}return D<0!==k&&H.reverse(),H.push([H[0][0],H[0][1]]),H}var M=[];function L(z){var k=[b(z.region,!1)];M.push(k);for(var D=0;D<z.children.length;D++)k.push(N(z.children[D]))}function N(z){for(var k=0;k<z.children.length;k++)L(z.children[k]);return b(z.region,!0)}for(u=0;u<d.children.length;u++)L(d.children[u]);return M.length<=0?{type:"Polygon",coordinates:[]}:1==M.length?{type:"Polygon",coordinates:M[0]}:{type:"MultiPolygon",coordinates:M}}}},{}],61:[function(m,de,te){var o=m("./linked-list");de.exports=function(g,p,l){function c(b,M,L){return{id:l?l.segmentId():-1,start:b,end:M,myFill:{above:L.myFill.above,below:L.myFill.below},otherFill:null}}var C=o.create();function d(b,M){C.insertBefore(b,function(L){return N=b.isStart,k=M,D=L.isStart,P=L.other.pt,(0!==(H=p.pointsCompare(b.pt,S=L.pt))?H:p.pointsSame(k,P)?0:N!==D?N?1:-1:p.pointAboveOrOnLine(k,D?S:P,D?P:S)?1:-1)<0;var N,k,D,S,P,H})}function h(b,M){var N,k,L=(d(k=o.node({isStart:!0,pt:(N=b).start,seg:N,primary:M,other:null,status:null}),N.end),k);return function(N,z,k){var D=o.node({isStart:!1,pt:z.end,seg:z,primary:k,other:N,status:null});N.other=D,d(D,N.pt)}(L,b,M),L}function u(b,M){var N,z,L=c(M,b.seg.end,b.seg);return N=b,z=M,l&&l.segmentChop(N.seg,z),N.other.remove(),N.seg.end=z,N.other.pt=z,d(N.other,N.pt),h(L,b.primary)}function _(b,M){var L=o.create();function N(Y){return L.findTransition(function(W){var q,X,ee,ce,me,ae;return ce=(q=Y).seg.end,(p.pointsCollinear(ee=q.seg.start,me=(X=W.ev).seg.start,ae=X.seg.end)?p.pointsCollinear(ce,me,ae)||p.pointAboveOrOnLine(ce,me,ae)?1:-1:p.pointAboveOrOnLine(ee,me,ae)?1:-1)>0})}function z(Y,W){var q=Y.seg,X=W.seg,ee=q.start,ce=q.end,me=X.start,ae=X.end;l&&l.checkIntersection(q,X);var K=p.linesIntersect(ee,ce,me,ae);if(!1===K){if(!p.pointsCollinear(ee,ce,me)||p.pointsSame(ee,ae)||p.pointsSame(ce,me))return!1;var le=p.pointsSame(ee,me),G=p.pointsSame(ce,ae);if(le&&G)return W;var j=!le&&p.pointBetween(ee,me,ae),oe=!G&&p.pointBetween(ce,me,ae);if(le)return oe?u(W,ce):u(Y,ae),W;j&&(G||(oe?u(W,ce):u(Y,ae)),u(W,ee))}else 0===K.alongA&&(-1===K.alongB?u(Y,me):0===K.alongB?u(Y,K.pt):1===K.alongB&&u(Y,ae)),0===K.alongB&&(-1===K.alongA?u(W,ee):0===K.alongA?u(W,K.pt):1===K.alongA&&u(W,ce));return!1}for(var k=[];!C.isEmpty();){var D=C.getHead();if(l&&l.vert(D.pt[0]),D.isStart){let Y=function(){if(P){var W=z(D,P);if(W)return W}return!!H&&z(D,H)};l&&l.segmentNew(D.seg,D.primary);var S=N(D),P=S.before?S.before.ev:null,H=S.after?S.after.ev:null;l&&l.tempStatus(D.seg,!!P&&P.seg,!!H&&H.seg);var E,w,I=Y();if(I&&(g?(w=null===D.seg.myFill.below||D.seg.myFill.above!==D.seg.myFill.below)&&(I.seg.myFill.above=!I.seg.myFill.above):I.seg.otherFill=D.seg.myFill,l&&l.segmentUpdate(I.seg),D.other.remove(),D.remove()),C.getHead()!==D){l&&l.rewind(D.seg);continue}g?(w=null===D.seg.myFill.below||D.seg.myFill.above!==D.seg.myFill.below,D.seg.myFill.below=H?H.seg.myFill.above:b,D.seg.myFill.above=w?!D.seg.myFill.below:D.seg.myFill.below):null===D.seg.otherFill&&(D.seg.otherFill={above:E=H?D.primary===H.primary?H.seg.otherFill.above:H.seg.myFill.above:D.primary?M:b,below:E}),l&&l.status(D.seg,!!P&&P.seg,!!H&&H.seg),D.other.status=S.insert(o.node({ev:D}))}else{var B=D.status;if(null===B)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(L.exists(B.prev)&&L.exists(B.next)&&z(B.prev.ev,B.next.ev),l&&l.statusRemove(B.ev.seg),B.remove(),!D.primary){var $=D.seg.myFill;D.seg.myFill=D.seg.otherFill,D.seg.otherFill=$}k.push(D.seg)}C.getHead().remove()}return l&&l.done(),k}return g?{addRegion:function(b){for(var M,L,N,z=b[b.length-1],k=0;k<b.length;k++){var D=p.pointsCompare(M=z,z=b[k]);0!==D&&h((L=D<0?M:z,N=D<0?z:M,{id:l?l.segmentId():-1,start:L,end:N,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(b){return _(b,!1)}}:{calculate:function(b,M,L,N){return b.forEach(function(z){h(c(z.start,z.end,z),!0)}),L.forEach(function(z){h(c(z.start,z.end,z),!1)}),_(M,N)}}}},{"./linked-list":62}],62:[function(m,de,te){de.exports={create:function(){var o={root:{root:!0,next:null},exists:function(g){return null!==g&&g!==o.root},isEmpty:function(){return null===o.root.next},getHead:function(){return o.root.next},insertBefore:function(g,p){for(var l=o.root,c=o.root.next;null!==c;){if(p(c))return g.prev=c.prev,g.next=c,c.prev.next=g,void(c.prev=g);l=c,c=c.next}l.next=g,g.prev=l,g.next=null},findTransition:function(g){for(var p=o.root,l=o.root.next;null!==l&&!g(l);)p=l,l=l.next;return{before:p===o.root?null:p,after:l,insert:function(c){return c.prev=p,c.next=l,p.next=c,null!==l&&(l.prev=c),c}}}};return o},node:function(o){return o.prev=null,o.next=null,o.remove=function(){o.prev.next=o.next,o.next&&(o.next.prev=o.prev),o.prev=null,o.next=null},o}}},{}],63:[function(m,de,te){de.exports=function(o,g,p){var l=[],c=[];return o.forEach(function(C){var d=C.start,h=C.end;if(g.pointsSame(d,h))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{p&&p.chainStart(C);for(var u={index:0,matches_head:!1,matches_pt1:!1},_={index:0,matches_head:!1,matches_pt1:!1},b=u,M=0;M<l.length;M++){var L=(S=l[M])[0],N=S[S.length-1];if(g.pointsSame(L,d)){if(T(M,!0,!0))break}else if(g.pointsSame(L,h)){if(T(M,!0,!1))break}else if(g.pointsSame(N,d)){if(T(M,!1,!0))break}else if(g.pointsSame(N,h)&&T(M,!1,!1))break}if(b===u)return l.push([d,h]),void(p&&p.chainNew(d,h));if(b===_){p&&p.chainMatch(u.index);var z=u.index,k=u.matches_pt1?h:d,D=u.matches_head,S=l[z],P=D?S[0]:S[S.length-1],H=D?S[1]:S[S.length-2],E=D?S[S.length-1]:S[0],I=D?S[S.length-2]:S[1];return g.pointsCollinear(H,P,k)&&(D?(p&&p.chainRemoveHead(u.index,k),S.shift()):(p&&p.chainRemoveTail(u.index,k),S.pop()),P=H),g.pointsSame(E,k)?(l.splice(z,1),g.pointsCollinear(I,E,P)&&(D?(p&&p.chainRemoveTail(u.index,P),S.pop()):(p&&p.chainRemoveHead(u.index,P),S.shift())),p&&p.chainClose(u.index),void c.push(S)):void(D?(p&&p.chainAddHead(u.index,k),S.unshift(k)):(p&&p.chainAddTail(u.index,k),S.push(k)))}var w=u.index,B=_.index;p&&p.chainConnect(w,B);var $=l[w].length<l[B].length;u.matches_head?_.matches_head?$?(Y(w),W(w,B)):(Y(B),W(B,w)):W(B,w):_.matches_head?W(w,B):$?(Y(w),W(B,w)):(Y(B),W(w,B))}function T(q,X,ee){return b.index=q,b.matches_head=X,b.matches_pt1=ee,b===u?(b=_,!1):(b=null,!0)}function Y(q){p&&p.chainReverse(q),l[q].reverse()}function W(q,X){var ee=l[q],ce=l[X],me=ee[ee.length-1],ae=ee[ee.length-2],K=ce[0],le=ce[1];g.pointsCollinear(ae,me,K)&&(p&&p.chainRemoveTail(q,me),ee.pop(),me=ae),g.pointsCollinear(me,K,le)&&(p&&p.chainRemoveHead(X,K),ce.shift()),p&&p.chainJoin(q,X),l[q]=ee.concat(ce),l.splice(X,1)}}),c}},{}],64:[function(m,de,te){function o(p,l,c){var C=[];return p.forEach(function(d){var h=(d.myFill.above?8:0)+(d.myFill.below?4:0)+(d.otherFill&&d.otherFill.above?2:0)+(d.otherFill&&d.otherFill.below?1:0);0!==l[h]&&C.push({id:c?c.segmentId():-1,start:d.start,end:d.end,myFill:{above:1===l[h],below:2===l[h]},otherFill:null})}),c&&c.selected(C),C}de.exports={union:function(p,l){return o(p,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],l)},intersect:function(p,l){return o(p,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],l)},difference:function(p,l){return o(p,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],l)},differenceRev:function(p,l){return o(p,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],l)},xor:function(p,l){return o(p,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],l)}}},{}],65:[function(m,de,te){var o,g,p=de.exports={};function l(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function C(z){if(o===setTimeout)return setTimeout(z,0);if((o===l||!o)&&setTimeout)return o=setTimeout,setTimeout(z,0);try{return o(z,0)}catch(k){try{return o.call(null,z,0)}catch(D){return o.call(this,z,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:l}catch(z){o=l}try{g="function"==typeof clearTimeout?clearTimeout:c}catch(z){g=c}}();var d,h=[],u=!1,_=-1;function b(){u&&d&&(u=!1,d.length?h=d.concat(h):_=-1,h.length&&M())}function M(){if(!u){var z=C(b);u=!0;for(var k=h.length;k;){for(d=h,h=[];++_<k;)d&&d[_].run();_=-1,k=h.length}d=null,u=!1,function(D){if(g===clearTimeout)return clearTimeout(D);if((g===c||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(D);try{g(D)}catch(S){try{return g.call(null,D)}catch(P){return g.call(this,D)}}}(z)}}function L(z,k){this.fun=z,this.array=k}function N(){}p.nextTick=function(z){var k=new Array(arguments.length-1);if(arguments.length>1)for(var D=1;D<arguments.length;D++)k[D-1]=arguments[D];h.push(new L(z,k)),1!==h.length||u||C(M)},L.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=N,p.addListener=N,p.once=N,p.off=N,p.removeListener=N,p.removeAllListeners=N,p.emit=N,p.prependListener=N,p.prependOnceListener=N,p.listeners=function(z){return[]},p.binding=function(z){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(z){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],66:[function(m,de,te){(function(o,g){(function(){var p=m("process/browser.js").nextTick,l=Function.prototype.apply,c=Array.prototype.slice,C={},d=0;function h(u,_){this._id=u,this._clearFn=_}te.setTimeout=function(){return new h(l.call(setTimeout,window,arguments),clearTimeout)},te.setInterval=function(){return new h(l.call(setInterval,window,arguments),clearInterval)},te.clearTimeout=te.clearInterval=function(u){u.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(window,this._id)},te.enroll=function(u,_){clearTimeout(u._idleTimeoutId),u._idleTimeout=_},te.unenroll=function(u){clearTimeout(u._idleTimeoutId),u._idleTimeout=-1},te._unrefActive=te.active=function(u){clearTimeout(u._idleTimeoutId);var _=u._idleTimeout;_>=0&&(u._idleTimeoutId=setTimeout(function(){u._onTimeout&&u._onTimeout()},_))},te.setImmediate="function"==typeof o?o:function(u){var _=d++,b=!(arguments.length<2)&&c.call(arguments,1);return C[_]=!0,p(function(){C[_]&&(b?u.apply(null,b):u.call(null),te.clearImmediate(_))}),_},te.clearImmediate="function"==typeof g?g:function(u){delete C[u]}}).call(this)}).call(this,m("timers").setImmediate,m("timers").clearImmediate)},{"process/browser.js":65,timers:66}],67:[function(m,de,te){!function(o){var g=/^\s+/,p=/\s+$/,l=0,c=o.round,C=o.min,d=o.max,h=o.random;function u(O,J){if(J=J||{},(O=O||"")instanceof u)return O;if(!(this instanceof u))return new u(O,J);var ie,Fe,t1,fe,ue,he,Me,be,Ae,ze,R=(fe={r:0,g:0,b:0},ue=1,he=null,Me=null,be=null,Ae=!1,ze=!1,"string"==typeof(ie=O)&&(ie=function(Xe){Xe=Xe.replace(g,"").replace(p,"").toLowerCase();var Ue,xe=!1;if(Y[Xe])Xe=Y[Xe],xe=!0;else if("transparent"==Xe)return{r:0,g:0,b:0,a:0,format:"name"};return(Ue=re.rgb.exec(Xe))?{r:Ue[1],g:Ue[2],b:Ue[3]}:(Ue=re.rgba.exec(Xe))?{r:Ue[1],g:Ue[2],b:Ue[3],a:Ue[4]}:(Ue=re.hsl.exec(Xe))?{h:Ue[1],s:Ue[2],l:Ue[3]}:(Ue=re.hsla.exec(Xe))?{h:Ue[1],s:Ue[2],l:Ue[3],a:Ue[4]}:(Ue=re.hsv.exec(Xe))?{h:Ue[1],s:Ue[2],v:Ue[3]}:(Ue=re.hsva.exec(Xe))?{h:Ue[1],s:Ue[2],v:Ue[3],a:Ue[4]}:(Ue=re.hex8.exec(Xe))?{r:ce(Ue[1]),g:ce(Ue[2]),b:ce(Ue[3]),a:le(Ue[4]),format:xe?"name":"hex8"}:(Ue=re.hex6.exec(Xe))?{r:ce(Ue[1]),g:ce(Ue[2]),b:ce(Ue[3]),format:xe?"name":"hex"}:(Ue=re.hex4.exec(Xe))?{r:ce(Ue[1]+""+Ue[1]),g:ce(Ue[2]+""+Ue[2]),b:ce(Ue[3]+""+Ue[3]),a:le(Ue[4]+""+Ue[4]),format:xe?"name":"hex8"}:!!(Ue=re.hex3.exec(Xe))&&{r:ce(Ue[1]+""+Ue[1]),g:ce(Ue[2]+""+Ue[2]),b:ce(Ue[3]+""+Ue[3]),format:xe?"name":"hex"}}(ie)),"object"==typeof ie&&(F(ie.r)&&F(ie.g)&&F(ie.b)?(Fe=ie.g,t1=ie.b,fe={r:255*X(ie.r,255),g:255*X(Fe,255),b:255*X(t1,255)},Ae=!0,ze="%"===String(ie.r).substr(-1)?"prgb":"rgb"):F(ie.h)&&F(ie.s)&&F(ie.v)?(he=ae(ie.s),Me=ae(ie.v),fe=function(Xe,Ue,xe){Xe=6*X(Xe,360),Ue=X(Ue,100),xe=X(xe,100);var ve=o.floor(Xe),De=Xe-ve,Ve=xe*(1-Ue),Ye=xe*(1-De*Ue),Oe=xe*(1-(1-De)*Ue),Ie=ve%6;return{r:255*[xe,Ye,Ve,Ve,Oe,xe][Ie],g:255*[Oe,xe,xe,Ye,Ve,Ve][Ie],b:255*[Ve,Ve,Oe,xe,xe,Ye][Ie]}}(ie.h,he,Me),Ae=!0,ze="hsv"):F(ie.h)&&F(ie.s)&&F(ie.l)&&(he=ae(ie.s),be=ae(ie.l),fe=function(Xe,Ue,xe){var ve,De,Ve;function Ye(Qe,n1,Ke){return Ke<0&&(Ke+=1),Ke>1&&(Ke-=1),Ke<1/6?Qe+6*(n1-Qe)*Ke:Ke<.5?n1:Ke<2/3?Qe+(n1-Qe)*(2/3-Ke)*6:Qe}if(Xe=X(Xe,360),Ue=X(Ue,100),xe=X(xe,100),0===Ue)ve=De=Ve=xe;else{var Oe=xe<.5?xe*(1+Ue):xe+Ue-xe*Ue,Ie=2*xe-Oe;ve=Ye(Ie,Oe,Xe+1/3),De=Ye(Ie,Oe,Xe),Ve=Ye(Ie,Oe,Xe-1/3)}return{r:255*ve,g:255*De,b:255*Ve}}(ie.h,he,be),Ae=!0,ze="hsl"),ie.hasOwnProperty("a")&&(ue=ie.a)),ue=q(ue),{ok:Ae,format:ie.format||ze,r:C(255,d(fe.r,0)),g:C(255,d(fe.g,0)),b:C(255,d(fe.b,0)),a:ue});this._originalInput=O,this._r=R.r,this._g=R.g,this._b=R.b,this._a=R.a,this._roundA=c(100*this._a)/100,this._format=J.format||R.format,this._gradientType=J.gradientType,this._r<1&&(this._r=c(this._r)),this._g<1&&(this._g=c(this._g)),this._b<1&&(this._b=c(this._b)),this._ok=R.ok,this._tc_id=l++}function _(O,J,R){O=X(O,255),J=X(J,255),R=X(R,255);var ie,fe,ue=d(O,J,R),he=C(O,J,R),Me=(ue+he)/2;if(ue==he)ie=fe=0;else{var be=ue-he;switch(fe=Me>.5?be/(2-ue-he):be/(ue+he),ue){case O:ie=(J-R)/be+(J<R?6:0);break;case J:ie=(R-O)/be+2;break;case R:ie=(O-J)/be+4}ie/=6}return{h:ie,s:fe,l:Me}}function b(O,J,R){O=X(O,255),J=X(J,255),R=X(R,255);var ie,fe,ue=d(O,J,R),he=C(O,J,R),Me=ue,be=ue-he;if(fe=0===ue?0:be/ue,ue==he)ie=0;else{switch(ue){case O:ie=(J-R)/be+(J<R?6:0);break;case J:ie=(R-O)/be+2;break;case R:ie=(O-J)/be+4}ie/=6}return{h:ie,s:fe,v:Me}}function M(O,J,R,ie){var fe=[me(c(O).toString(16)),me(c(J).toString(16)),me(c(R).toString(16))];return ie&&fe[0].charAt(0)==fe[0].charAt(1)&&fe[1].charAt(0)==fe[1].charAt(1)&&fe[2].charAt(0)==fe[2].charAt(1)?fe[0].charAt(0)+fe[1].charAt(0)+fe[2].charAt(0):fe.join("")}function L(O,J,R,ie){return[me(K(ie)),me(c(O).toString(16)),me(c(J).toString(16)),me(c(R).toString(16))].join("")}function N(O,J){J=0===J?0:J||10;var R=u(O).toHsl();return R.s-=J/100,R.s=ee(R.s),u(R)}function z(O,J){J=0===J?0:J||10;var R=u(O).toHsl();return R.s+=J/100,R.s=ee(R.s),u(R)}function k(O){return u(O).desaturate(100)}function D(O,J){J=0===J?0:J||10;var R=u(O).toHsl();return R.l+=J/100,R.l=ee(R.l),u(R)}function S(O,J){J=0===J?0:J||10;var R=u(O).toRgb();return R.r=d(0,C(255,R.r-c(-J/100*255))),R.g=d(0,C(255,R.g-c(-J/100*255))),R.b=d(0,C(255,R.b-c(-J/100*255))),u(R)}function P(O,J){J=0===J?0:J||10;var R=u(O).toHsl();return R.l-=J/100,R.l=ee(R.l),u(R)}function H(O,J){var R=u(O).toHsl(),ie=(R.h+J)%360;return R.h=ie<0?360+ie:ie,u(R)}function E(O){var J=u(O).toHsl();return J.h=(J.h+180)%360,u(J)}function I(O){var J=u(O).toHsl(),R=J.h;return[u(O),u({h:(R+120)%360,s:J.s,l:J.l}),u({h:(R+240)%360,s:J.s,l:J.l})]}function w(O){var J=u(O).toHsl(),R=J.h;return[u(O),u({h:(R+90)%360,s:J.s,l:J.l}),u({h:(R+180)%360,s:J.s,l:J.l}),u({h:(R+270)%360,s:J.s,l:J.l})]}function B(O){var J=u(O).toHsl(),R=J.h;return[u(O),u({h:(R+72)%360,s:J.s,l:J.l}),u({h:(R+216)%360,s:J.s,l:J.l})]}function $(O,J,R){J=J||6,R=R||30;var ie=u(O).toHsl(),fe=360/R,ue=[u(O)];for(ie.h=(ie.h-(fe*J>>1)+720)%360;--J;)ie.h=(ie.h+fe)%360,ue.push(u(ie));return ue}function T(O,J){J=J||6;for(var R=u(O).toHsv(),ie=R.h,fe=R.s,ue=R.v,he=[],Me=1/J;J--;)he.push(u({h:ie,s:fe,v:ue})),ue=(ue+Me)%1;return he}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var O=this.toRgb();return(299*O.r+587*O.g+114*O.b)/1e3},getLuminance:function(){var O,J,R,ie=this.toRgb();return J=ie.g/255,R=ie.b/255,.2126*((O=ie.r/255)<=.03928?O/12.92:o.pow((O+.055)/1.055,2.4))+.7152*(J<=.03928?J/12.92:o.pow((J+.055)/1.055,2.4))+.0722*(R<=.03928?R/12.92:o.pow((R+.055)/1.055,2.4))},setAlpha:function(O){return this._a=q(O),this._roundA=c(100*this._a)/100,this},toHsv:function(){var O=b(this._r,this._g,this._b);return{h:360*O.h,s:O.s,v:O.v,a:this._a}},toHsvString:function(){var O=b(this._r,this._g,this._b),J=c(360*O.h),R=c(100*O.s),ie=c(100*O.v);return 1==this._a?"hsv("+J+", "+R+"%, "+ie+"%)":"hsva("+J+", "+R+"%, "+ie+"%, "+this._roundA+")"},toHsl:function(){var O=_(this._r,this._g,this._b);return{h:360*O.h,s:O.s,l:O.l,a:this._a}},toHslString:function(){var O=_(this._r,this._g,this._b),J=c(360*O.h),R=c(100*O.s),ie=c(100*O.l);return 1==this._a?"hsl("+J+", "+R+"%, "+ie+"%)":"hsla("+J+", "+R+"%, "+ie+"%, "+this._roundA+")"},toHex:function(O){return M(this._r,this._g,this._b,O)},toHexString:function(O){return"#"+this.toHex(O)},toHex8:function(O){return R=this._g,ie=this._b,fe=this._a,ue=O,he=[me(c(this._r).toString(16)),me(c(R).toString(16)),me(c(ie).toString(16)),me(K(fe))],ue&&he[0].charAt(0)==he[0].charAt(1)&&he[1].charAt(0)==he[1].charAt(1)&&he[2].charAt(0)==he[2].charAt(1)&&he[3].charAt(0)==he[3].charAt(1)?he[0].charAt(0)+he[1].charAt(0)+he[2].charAt(0)+he[3].charAt(0):he.join("");var R,ie,fe,ue,he},toHex8String:function(O){return"#"+this.toHex8(O)},toRgb:function(){return{r:c(this._r),g:c(this._g),b:c(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+c(this._r)+", "+c(this._g)+", "+c(this._b)+")":"rgba("+c(this._r)+", "+c(this._g)+", "+c(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:c(100*X(this._r,255))+"%",g:c(100*X(this._g,255))+"%",b:c(100*X(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+c(100*X(this._r,255))+"%, "+c(100*X(this._g,255))+"%, "+c(100*X(this._b,255))+"%)":"rgba("+c(100*X(this._r,255))+"%, "+c(100*X(this._g,255))+"%, "+c(100*X(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(W[M(this._r,this._g,this._b,!0)]||!1)},toFilter:function(O){var J="#"+L(this._r,this._g,this._b,this._a),R=J,ie=this._gradientType?"GradientType = 1, ":"";if(O){var fe=u(O);R="#"+L(fe._r,fe._g,fe._b,fe._a)}return"progid:DXImageTransform.Microsoft.gradient("+ie+"startColorstr="+J+",endColorstr="+R+")"},toString:function(O){var J=!!O;O=O||this._format;var R=!1;return J||!(this._a<1&&this._a>=0)||"hex"!==O&&"hex6"!==O&&"hex3"!==O&&"hex4"!==O&&"hex8"!==O&&"name"!==O?("rgb"===O&&(R=this.toRgbString()),"prgb"===O&&(R=this.toPercentageRgbString()),"hex"!==O&&"hex6"!==O||(R=this.toHexString()),"hex3"===O&&(R=this.toHexString(!0)),"hex4"===O&&(R=this.toHex8String(!0)),"hex8"===O&&(R=this.toHex8String()),"name"===O&&(R=this.toName()),"hsl"===O&&(R=this.toHslString()),"hsv"===O&&(R=this.toHsvString()),R||this.toHexString()):"name"===O&&0===this._a?this.toName():this.toRgbString()},clone:function(){return u(this.toString())},_applyModification:function(O,J){var R=O.apply(null,[this].concat([].slice.call(J)));return this._r=R._r,this._g=R._g,this._b=R._b,this.setAlpha(R._a),this},lighten:function(){return this._applyModification(D,arguments)},brighten:function(){return this._applyModification(S,arguments)},darken:function(){return this._applyModification(P,arguments)},desaturate:function(){return this._applyModification(N,arguments)},saturate:function(){return this._applyModification(z,arguments)},greyscale:function(){return this._applyModification(k,arguments)},spin:function(){return this._applyModification(H,arguments)},_applyCombination:function(O,J){return O.apply(null,[this].concat([].slice.call(J)))},analogous:function(){return this._applyCombination($,arguments)},complement:function(){return this._applyCombination(E,arguments)},monochromatic:function(){return this._applyCombination(T,arguments)},splitcomplement:function(){return this._applyCombination(B,arguments)},triad:function(){return this._applyCombination(I,arguments)},tetrad:function(){return this._applyCombination(w,arguments)}},u.fromRatio=function(O,J){if("object"==typeof O){var R={};for(var ie in O)O.hasOwnProperty(ie)&&(R[ie]="a"===ie?O[ie]:ae(O[ie]));O=R}return u(O,J)},u.equals=function(O,J){return!(!O||!J)&&u(O).toRgbString()==u(J).toRgbString()},u.random=function(){return u.fromRatio({r:h(),g:h(),b:h()})},u.mix=function(O,J,R){R=0===R?0:R||50;var ie=u(O).toRgb(),fe=u(J).toRgb(),ue=R/100;return u({r:(fe.r-ie.r)*ue+ie.r,g:(fe.g-ie.g)*ue+ie.g,b:(fe.b-ie.b)*ue+ie.b,a:(fe.a-ie.a)*ue+ie.a})},u.readability=function(O,J){var R=u(O),ie=u(J);return(o.max(R.getLuminance(),ie.getLuminance())+.05)/(o.min(R.getLuminance(),ie.getLuminance())+.05)},u.isReadable=function(O,J,R){var ie,fe,he,Me,be,ue=u.readability(O,J);switch(fe=!1,(he=R,"AA"!==(Me=((he=he||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==Me&&(Me="AA"),"small"!==(be=(he.size||"small").toLowerCase())&&"large"!==be&&(be="small"),ie={level:Me,size:be}).level+ie.size){case"AAsmall":case"AAAlarge":fe=ue>=4.5;break;case"AAlarge":fe=ue>=3;break;case"AAAsmall":fe=ue>=7}return fe},u.mostReadable=function(O,J,R){var ie,fe,ue,he,Me=null,be=0;fe=(R=R||{}).includeFallbackColors,ue=R.level,he=R.size;for(var Ae=0;Ae<J.length;Ae++)(ie=u.readability(O,J[Ae]))>be&&(be=ie,Me=u(J[Ae]));return u.isReadable(O,Me,{level:ue,size:he})||!fe?Me:(R.includeFallbackColors=!1,u.mostReadable(O,["#fff","#000"],R))};var Y=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},W=u.hexNames=function(O){var J={};for(var R in O)O.hasOwnProperty(R)&&(J[O[R]]=R);return J}(Y);function q(O){return O=parseFloat(O),(isNaN(O)||O<0||O>1)&&(O=1),O}function X(O,J){var ie;"string"==typeof(ie=O)&&-1!=ie.indexOf(".")&&1===parseFloat(ie)&&(O="100%");var R=function(ie){return"string"==typeof ie&&-1!=ie.indexOf("%")}(O);return O=C(J,d(0,parseFloat(O))),R&&(O=parseInt(O*J,10)/100),o.abs(O-J)<1e-6?1:O%J/parseFloat(J)}function ee(O){return C(1,d(0,O))}function ce(O){return parseInt(O,16)}function me(O){return 1==O.length?"0"+O:""+O}function ae(O){return O<=1&&(O=100*O+"%"),O}function K(O){return o.round(255*parseFloat(O)).toString(16)}function le(O){return ce(O)/255}var G,j,oe,re=(j="[\\s|\\(]+("+(G="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+G+")[,|\\s]+("+G+")\\s*\\)?",oe="[\\s|\\(]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")\\s*\\)?",{CSS_UNIT:new RegExp(G),rgb:new RegExp("rgb"+j),rgba:new RegExp("rgba"+oe),hsl:new RegExp("hsl"+j),hsla:new RegExp("hsla"+oe),hsv:new RegExp("hsv"+j),hsva:new RegExp("hsva"+oe),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function F(O){return!!re.CSS_UNIT.exec(O)}void 0!==de&&de.exports?de.exports=u:window.tinycolor=u}(Math)},{}],68:[function(m,de,te){var o=m("../main"),g=m("object-assign"),p=o.instance();function l(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}g(l.prototype=new o.baseCalendar,{name:"Chinese",jdEpoch:1721425.5,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(b,M){if("string"==typeof b){var L=b.match(C);return L?L[0]:""}var N=this._validateYear(b),z=b.month(),k=""+this.toChineseMonth(N,z);return M&&k.length<2&&(k="0"+k),this.isIntercalaryMonth(N,z)&&(k+="i"),k},monthNames:function(b){if("string"==typeof b){var M=b.match(d);return M?M[0]:""}var L=this._validateYear(b),N=b.month(),z=["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"][this.toChineseMonth(L,N)-1];return this.isIntercalaryMonth(L,N)&&(z="\u95f0"+z),z},monthNamesShort:function(b){if("string"==typeof b){var M=b.match(h);return M?M[0]:""}var L=this._validateYear(b),N=b.month(),z=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"][this.toChineseMonth(L,N)-1];return this.isIntercalaryMonth(L,N)&&(z="\u95f0"+z),z},parseMonth:function(b,M){b=this._validateYear(b);var L,N=parseInt(M);if(isNaN(N))"\u95f0"===M[0]&&(L=!0,M=M.substring(1)),"\u6708"===M[M.length-1]&&(M=M.substring(0,M.length-1)),N=1+["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"].indexOf(M);else{var z=M[M.length-1];L="i"===z||"I"===z}return this.toMonthIndex(b,N,L)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(b,M){if(b.year&&(b=b.year()),"number"!=typeof b||b<1888||b>2111)throw M.replace(/\{0\}/,this.local.name);return b},toMonthIndex:function(b,M,L){var N=this.intercalaryMonth(b);if(L&&M!==N||M<1||M>12)throw o.local.invalidMonth.replace(/\{0\}/,this.local.name);return N?!L&&M<=N?M-1:M:M-1},toChineseMonth:function(b,M){b.year&&(M=(b=b.year()).month());var L=this.intercalaryMonth(b);if(M<0||M>(L?12:11))throw o.local.invalidMonth.replace(/\{0\}/,this.local.name);return L?M<L?M+1:M:M+1},intercalaryMonth:function(b){return b=this._validateYear(b),u[b-u[0]]>>13},isIntercalaryMonth:function(b,M){b.year&&(M=(b=b.year()).month());var L=this.intercalaryMonth(b);return!!L&&L===M},leapYear:function(b){return 0!==this.intercalaryMonth(b)},weekOfYear:function(b,M,L){var N,z=this._validateYear(b,o.local.invalidyear),k=_[z-_[0]];(N=p.newDate(k>>9&4095,k>>5&15,31&k)).add(4-(N.dayOfWeek()||7),"d");var H=this.toJD(b,M,L)-N.toJD();return 1+Math.floor(H/7)},monthsInYear:function(b){return this.leapYear(b)?13:12},daysInMonth:function(b,M){b.year&&(M=b.month(),b=b.year()),b=this._validateYear(b);var L=u[b-u[0]];if(M>(L>>13?12:11))throw o.local.invalidMonth.replace(/\{0\}/,this.local.name);return L&1<<12-M?30:29},weekDay:function(b,M,L){return(this.dayOfWeek(b,M,L)||7)<6},toJD:function(b,M,L){var N=this._validate(b,k,L,o.local.invalidDate);b=this._validateYear(N.year()),M=N.month(),L=N.day();var z=this.isIntercalaryMonth(b,M),k=this.toChineseMonth(b,M),D=function(S,P,H,E,I){var w,B,$;if("object"==typeof S)B=S,w=P||{};else{var T;if(!("number"==typeof S&&S>=1888&&S<=2111))throw new Error("Lunar year outside range 1888-2111");if(!("number"==typeof P&&P>=1&&P<=12))throw new Error("Lunar month outside range 1 - 12");if(!("number"==typeof H&&H>=1&&H<=30))throw new Error("Lunar day outside range 1 - 30");"object"==typeof E?(T=!1,w=E):(T=!!E,w={}),B={year:S,month:P,day:H,isIntercalary:T}}$=B.day-1;var Y,W=u[B.year-u[0]],q=W>>13;Y=q&&(B.month>q||B.isIntercalary)?B.month:B.month-1;for(var X=0;X<Y;X++)$+=W&1<<12-X?30:29;var ee=_[B.year-_[0]],ce=new Date(ee>>9&4095,(ee>>5&15)-1,(31&ee)+$);return w.year=ce.getFullYear(),w.month=1+ce.getMonth(),w.day=ce.getDate(),w}(b,k,L,z);return p.toJD(D.year,D.month,D.day)},fromJD:function(b){var M=p.fromJD(b),L=function(z,k,D,S){var P,H;if("object"==typeof z)P=z,H=k||{};else{if(!("number"==typeof z&&z>=1888&&z<=2111))throw new Error("Solar year outside range 1888-2111");if(!("number"==typeof k&&k>=1&&k<=12))throw new Error("Solar month outside range 1 - 12");if(!("number"==typeof D&&D>=1&&D<=31))throw new Error("Solar day outside range 1 - 31");P={year:z,month:k,day:D},H={}}var E=_[P.year-_[0]];H.year=(P.year<<9|P.month<<5|P.day)>=E?P.year:P.year-1,E=_[H.year-_[0]];var w,B=new Date(E>>9&4095,(E>>5&15)-1,31&E),$=new Date(P.year,P.month-1,P.day);w=Math.round(($-B)/864e5);var T,Y=u[H.year-u[0]];for(T=0;T<13;T++){var W=Y&1<<12-T?30:29;if(w<W)break;w-=W}var q=Y>>13;return!q||T<q?(H.isIntercalary=!1,H.month=1+T):T===q?(H.isIntercalary=!0,H.month=T):(H.isIntercalary=!1,H.month=T),H.day=1+w,H}(M.year(),M.month(),M.day()),N=this.toMonthIndex(L.year,L.month,L.isIntercalary);return this.newDate(L.year,N,L.day)},fromString:function(b){var M=b.match(c),L=this._validateYear(+M[1]),k=this.toMonthIndex(L,+M[2],!!M[3]);return this.newDate(L,k,+M[4])},add:function(b,M,L){var N=b.year(),z=b.month(),k=this.isIntercalaryMonth(N,z),D=this.toChineseMonth(N,z),S=Object.getPrototypeOf(l.prototype).add.call(this,b,M,L);if("y"===L){var P=S.year(),H=S.month(),E=this.isIntercalaryMonth(P,D),I=this.toMonthIndex(P,D,!(!k||!E));I!==H&&S.month(I)}return S}});var c=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,C=/^\d?\d[iI]?/m,d=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?\u6708/m,h=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?/m;o.calendars.chinese=l;var u=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],_=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},{"../main":82,"object-assign":55}],69:[function(m,de,te){var o=m("../main");function p(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}m("object-assign")(p.prototype=new o.baseCalendar,{name:"Coptic",jdEpoch:1825029.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var c=this._validate(l,this.minMonth,this.minDay,o.local.invalidYear);return(l=c.year()+(c.year()<0?1:0))%4==3||l%4==-1},monthsInYear:function(l){return this._validate(l,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear),13},weekOfYear:function(l,c,C){var d=this.newDate(l,c,C);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(l,c){var C=this._validate(l,c,this.minDay,o.local.invalidMonth);return this.daysPerMonth[C.month()-1]+(13===C.month()&&this.leapYear(C.year())?1:0)},weekDay:function(l,c,C){return(this.dayOfWeek(l,c,C)||7)<6},toJD:function(l,c,C){var d=this._validate(l,c,C,o.local.invalidDate);return(l=d.year())<0&&l++,d.day()+30*(d.month()-1)+365*(l-1)+Math.floor(l/4)+this.jdEpoch-1},fromJD:function(l){var c=Math.floor(l)+.5-this.jdEpoch,C=Math.floor((c-Math.floor((c+366)/1461))/365)+1;C<=0&&C--,c=Math.floor(l)+.5-this.newDate(C,1,1).toJD();var d=Math.floor(c/30)+1;return this.newDate(C,d,c-30*(d-1)+1)}}),o.calendars.coptic=p},{"../main":82,"object-assign":55}],70:[function(m,de,te){var o=m("../main");function p(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}m("object-assign")(p.prototype=new o.baseCalendar,{name:"Discworld",jdEpoch:1721425.5,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(c){return this._validate(c,this.minMonth,this.minDay,o.local.invalidYear),!1},monthsInYear:function(c){return this._validate(c,this.minMonth,this.minDay,o.local.invalidYear),13},daysInYear:function(c){return this._validate(c,this.minMonth,this.minDay,o.local.invalidYear),400},weekOfYear:function(c,C,d){var h=this.newDate(c,C,d);return h.add(-h.dayOfWeek(),"d"),Math.floor((h.dayOfYear()-1)/8)+1},daysInMonth:function(c,C){var d=this._validate(c,C,this.minDay,o.local.invalidMonth);return this.daysPerMonth[d.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(c,C,d){return(this._validate(c,C,d,o.local.invalidDate).day()+1)%8},weekDay:function(c,C,d){var h=this.dayOfWeek(c,C,d);return h>=2&&h<=6},extraInfo:function(c,C,d){var h=this._validate(c,C,d,o.local.invalidDate);return{century:l[Math.floor((h.year()-1)/100)+1]||""}},toJD:function(c,C,d){var h=this._validate(c,C,d,o.local.invalidDate);return c=h.year()+(h.year()<0?1:0),C=h.month(),(d=h.day())+(C>1?16:0)+(C>2?32*(C-2):0)+400*(c-1)+this.jdEpoch-1},fromJD:function(c){c=Math.floor(c+.5)-Math.floor(this.jdEpoch)-1;var C=Math.floor(c/400)+1;c-=400*(C-1),c+=c>15?16:0;var d=Math.floor(c/32)+1;return this.newDate(C<=0?C-1:C,d,c-32*(d-1)+1)}});var l={20:"Fruitbat",21:"Anchovy"};o.calendars.discworld=p},{"../main":82,"object-assign":55}],71:[function(m,de,te){var o=m("../main");function p(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}m("object-assign")(p.prototype=new o.baseCalendar,{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var c=this._validate(l,this.minMonth,this.minDay,o.local.invalidYear);return(l=c.year()+(c.year()<0?1:0))%4==3||l%4==-1},monthsInYear:function(l){return this._validate(l,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear),13},weekOfYear:function(l,c,C){var d=this.newDate(l,c,C);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(l,c){var C=this._validate(l,c,this.minDay,o.local.invalidMonth);return this.daysPerMonth[C.month()-1]+(13===C.month()&&this.leapYear(C.year())?1:0)},weekDay:function(l,c,C){return(this.dayOfWeek(l,c,C)||7)<6},toJD:function(l,c,C){var d=this._validate(l,c,C,o.local.invalidDate);return(l=d.year())<0&&l++,d.day()+30*(d.month()-1)+365*(l-1)+Math.floor(l/4)+this.jdEpoch-1},fromJD:function(l){var c=Math.floor(l)+.5-this.jdEpoch,C=Math.floor((c-Math.floor((c+366)/1461))/365)+1;C<=0&&C--,c=Math.floor(l)+.5-this.newDate(C,1,1).toJD();var d=Math.floor(c/30)+1;return this.newDate(C,d,c-30*(d-1)+1)}}),o.calendars.ethiopian=p},{"../main":82,"object-assign":55}],72:[function(m,de,te){var o=m("../main");function p(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}function l(c,C){return c-C*Math.floor(c/C)}m("object-assign")(p.prototype=new o.baseCalendar,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(c){var C=this._validate(c,this.minMonth,this.minDay,o.local.invalidYear);return this._leapYear(C.year())},_leapYear:function(c){return l(7*(c=c<0?c+1:c)+1,19)<7},monthsInYear:function(c){return this._validate(c,this.minMonth,this.minDay,o.local.invalidYear),this._leapYear(c.year?c.year():c)?13:12},weekOfYear:function(c,C,d){var h=this.newDate(c,C,d);return h.add(-h.dayOfWeek(),"d"),Math.floor((h.dayOfYear()-1)/7)+1},daysInYear:function(c){return c=this._validate(c,this.minMonth,this.minDay,o.local.invalidYear).year(),this.toJD(-1===c?1:c+1,7,1)-this.toJD(c,7,1)},daysInMonth:function(c,C){return c.year&&(C=c.month(),c=c.year()),this._validate(c,C,this.minDay,o.local.invalidMonth),12===C&&this.leapYear(c)||8===C&&5===l(this.daysInYear(c),10)?30:9===C&&3===l(this.daysInYear(c),10)?29:this.daysPerMonth[C-1]},weekDay:function(c,C,d){return 6!==this.dayOfWeek(c,C,d)},extraInfo:function(c,C,d){var h=this._validate(c,C,d,o.local.invalidDate);return{yearType:(this.leapYear(h)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(h)%10-3]}},toJD:function(c,C,d){var h=this._validate(c,C,d,o.local.invalidDate);c=h.year(),C=h.month(),d=h.day();var u=c<=0?c+1:c,_=this.jdEpoch+this._delay1(u)+this._delay2(u)+d+1;if(C<7){for(var b=7;b<=this.monthsInYear(c);b++)_+=this.daysInMonth(c,b);for(b=1;b<C;b++)_+=this.daysInMonth(c,b)}else for(b=7;b<C;b++)_+=this.daysInMonth(c,b);return _},_delay1:function(c){var C=Math.floor((235*c-234)/19),h=29*C+Math.floor((12084+13753*C)/25920);return l(3*(h+1),7)<3&&h++,h},_delay2:function(c){var C=this._delay1(c-1),d=this._delay1(c);return this._delay1(c+1)-d==356?2:d-C==382?1:0},fromJD:function(c){c=Math.floor(c)+.5;for(var C=Math.floor(98496*(c-this.jdEpoch)/35975351)-1;c>=this.toJD(-1===C?1:C+1,7,1);)C++;for(var d=c<this.toJD(C,1,1)?7:1;c>this.toJD(C,d,this.daysInMonth(C,d));)d++;var h=c-this.toJD(C,d,1)+1;return this.newDate(C,d,h)}}),o.calendars.hebrew=p},{"../main":82,"object-assign":55}],73:[function(m,de,te){var o=m("../main");function p(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}m("object-assign")(p.prototype=new o.baseCalendar,{name:"Islamic",jdEpoch:1948439.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(l){return(11*this._validate(l,this.minMonth,this.minDay,o.local.invalidYear).year()+14)%30<11},weekOfYear:function(l,c,C){var d=this.newDate(l,c,C);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInYear:function(l){return this.leapYear(l)?355:354},daysInMonth:function(l,c){var C=this._validate(l,c,this.minDay,o.local.invalidMonth);return this.daysPerMonth[C.month()-1]+(12===C.month()&&this.leapYear(C.year())?1:0)},weekDay:function(l,c,C){return 5!==this.dayOfWeek(l,c,C)},toJD:function(l,c,C){var d=this._validate(l,c,C,o.local.invalidDate);return l=d.year(),c=d.month(),l=l<=0?l+1:l,(C=d.day())+Math.ceil(29.5*(c-1))+354*(l-1)+Math.floor((3+11*l)/30)+this.jdEpoch-1},fromJD:function(l){l=Math.floor(l)+.5;var c=Math.floor((30*(l-this.jdEpoch)+10646)/10631);c=c<=0?c-1:c;var C=Math.min(12,Math.ceil((l-29-this.toJD(c,1,1))/29.5)+1),d=l-this.toJD(c,C,1)+1;return this.newDate(c,C,d)}}),o.calendars.islamic=p},{"../main":82,"object-assign":55}],74:[function(m,de,te){var o=m("../main");function p(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}m("object-assign")(p.prototype=new o.baseCalendar,{name:"Julian",jdEpoch:1721423.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var c=this._validate(l,this.minMonth,this.minDay,o.local.invalidYear);return(l=c.year()<0?c.year()+1:c.year())%4==0},weekOfYear:function(l,c,C){var d=this.newDate(l,c,C);return d.add(4-(d.dayOfWeek()||7),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(l,c){var C=this._validate(l,c,this.minDay,o.local.invalidMonth);return this.daysPerMonth[C.month()-1]+(2===C.month()&&this.leapYear(C.year())?1:0)},weekDay:function(l,c,C){return(this.dayOfWeek(l,c,C)||7)<6},toJD:function(l,c,C){var d=this._validate(l,c,C,o.local.invalidDate);return l=d.year(),c=d.month(),C=d.day(),l<0&&l++,c<=2&&(l--,c+=12),Math.floor(365.25*(l+4716))+Math.floor(30.6001*(c+1))+C-1524.5},fromJD:function(l){var c=Math.floor(l+.5)+1524,C=Math.floor((c-122.1)/365.25),d=Math.floor(365.25*C),h=Math.floor((c-d)/30.6001),u=h-Math.floor(h<14?1:13),_=C-Math.floor(u>2?4716:4715),b=c-d-Math.floor(30.6001*h);return _<=0&&_--,this.newDate(_,u,b)}}),o.calendars.julian=p},{"../main":82,"object-assign":55}],75:[function(m,de,te){var o=m("../main");function p(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}function l(C,d){return C-d*Math.floor(C/d)}function c(C,d){return l(C-1,d)+1}m("object-assign")(p.prototype=new o.baseCalendar,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(C){return this._validate(C,this.minMonth,this.minDay,o.local.invalidYear),!1},formatYear:function(C){C=this._validate(C,this.minMonth,this.minDay,o.local.invalidYear).year();var d=Math.floor(C/400);return C%=400,C+=C<0?400:0,d+"."+Math.floor(C/20)+"."+C%20},forYear:function(C){if((C=C.split(".")).length<3)throw"Invalid Mayan year";for(var d=0,h=0;h<C.length;h++){var u=parseInt(C[h],10);if(Math.abs(u)>19||h>0&&u<0)throw"Invalid Mayan year";d=20*d+u}return d},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,o.local.invalidYear),18},weekOfYear:function(C,d,h){return this._validate(C,d,h,o.local.invalidDate),0},daysInYear:function(C){return this._validate(C,this.minMonth,this.minDay,o.local.invalidYear),360},daysInMonth:function(C,d){return this._validate(C,d,this.minDay,o.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(C,d,h){return this._validate(C,d,h,o.local.invalidDate).day()},weekDay:function(C,d,h){return this._validate(C,d,h,o.local.invalidDate),!0},extraInfo:function(C,d,h){var u=this._validate(C,d,h,o.local.invalidDate).toJD(),_=this._toHaab(u),b=this._toTzolkin(u);return{haabMonthName:this.local.haabMonths[_[0]-1],haabMonth:_[0],haabDay:_[1],tzolkinDayName:this.local.tzolkinMonths[b[0]-1],tzolkinDay:b[0],tzolkinTrecena:b[1]}},_toHaab:function(C){var d=l(8+(C-=this.jdEpoch)+340,365);return[Math.floor(d/20)+1,l(d,20)]},_toTzolkin:function(C){return[c(20+(C-=this.jdEpoch),20),c(C+4,13)]},toJD:function(C,d,h){var u=this._validate(C,d,h,o.local.invalidDate);return u.day()+20*u.month()+360*u.year()+this.jdEpoch},fromJD:function(C){C=Math.floor(C)+.5-this.jdEpoch;var d=Math.floor(C/360);C%=360,C+=C<0?360:0;var h=Math.floor(C/20);return this.newDate(d,h,C%20)}}),o.calendars.mayan=p},{"../main":82,"object-assign":55}],76:[function(m,de,te){var o=m("../main"),g=m("object-assign");function p(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}p.prototype=new o.baseCalendar;var l=o.instance("gregorian");g(p.prototype,{name:"Nanakshahi",jdEpoch:2257673.5,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(c){var C=this._validate(c,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear);return l.leapYear(C.year()+(C.year()<1?1:0)+1469)},weekOfYear:function(c,C,d){var h=this.newDate(c,C,d);return h.add(1-(h.dayOfWeek()||7),"d"),Math.floor((h.dayOfYear()-1)/7)+1},daysInMonth:function(c,C){var d=this._validate(c,C,this.minDay,o.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(12===d.month()&&this.leapYear(d.year())?1:0)},weekDay:function(c,C,d){return(this.dayOfWeek(c,C,d)||7)<6},toJD:function(c,C,d){var h=this._validate(c,C,d,o.local.invalidMonth);(c=h.year())<0&&c++;for(var u=h.day(),_=1;_<h.month();_++)u+=this.daysPerMonth[_-1];return u+l.toJD(c+1468,3,13)},fromJD:function(c){c=Math.floor(c+.5);for(var C=Math.floor((c-(this.jdEpoch-1))/366);c>=this.toJD(C+1,1,1);)C++;for(var d=c-Math.floor(this.toJD(C,1,1)+.5)+1,h=1;d>this.daysInMonth(C,h);)d-=this.daysInMonth(C,h),h++;return this.newDate(C,h,d)}}),o.calendars.nanakshahi=p},{"../main":82,"object-assign":55}],77:[function(m,de,te){var o=m("../main");function p(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}m("object-assign")(p.prototype=new o.baseCalendar,{name:"Nepali",jdEpoch:1700709.5,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(l){return this.daysInYear(l)!==this.daysPerYear},weekOfYear:function(l,c,C){var d=this.newDate(l,c,C);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInYear:function(l){if(l=this._validate(l,this.minMonth,this.minDay,o.local.invalidYear).year(),void 0===this.NEPALI_CALENDAR_DATA[l])return this.daysPerYear;for(var c=0,C=this.minMonth;C<=12;C++)c+=this.NEPALI_CALENDAR_DATA[l][C];return c},daysInMonth:function(l,c){return l.year&&(c=l.month(),l=l.year()),this._validate(l,c,this.minDay,o.local.invalidMonth),void 0===this.NEPALI_CALENDAR_DATA[l]?this.daysPerMonth[c-1]:this.NEPALI_CALENDAR_DATA[l][c]},weekDay:function(l,c,C){return 6!==this.dayOfWeek(l,c,C)},toJD:function(l,c,C){var d=this._validate(l,c,C,o.local.invalidDate);l=d.year(),c=d.month(),C=d.day();var h=o.instance(),u=0,_=c,b=l;this._createMissingCalendarData(l);var M=l-(_>9||9===_&&C>=this.NEPALI_CALENDAR_DATA[b][0]?56:57);for(9!==c&&(u=C,_--);9!==_;)_<=0&&(_=12,b--),u+=this.NEPALI_CALENDAR_DATA[b][_],_--;return 9===c?(u+=C-this.NEPALI_CALENDAR_DATA[b][0])<0&&(u+=h.daysInYear(M)):u+=this.NEPALI_CALENDAR_DATA[b][9]-this.NEPALI_CALENDAR_DATA[b][0],h.newDate(M,1,1).add(u,"d").toJD()},fromJD:function(l){var c=o.instance().fromJD(l),C=c.year(),d=c.dayOfYear(),h=C+56;this._createMissingCalendarData(h);for(var u=9,b=this.NEPALI_CALENDAR_DATA[h][u]-this.NEPALI_CALENDAR_DATA[h][0]+1;d>b;)++u>12&&(u=1,h++),b+=this.NEPALI_CALENDAR_DATA[h][u];return this.newDate(h,u,this.NEPALI_CALENDAR_DATA[h][u]-(b-d))},_createMissingCalendarData:function(l){var c=this.daysPerMonth.slice(0);c.unshift(17);for(var C=l-1;C<l+2;C++)void 0===this.NEPALI_CALENDAR_DATA[C]&&(this.NEPALI_CALENDAR_DATA[C]=c)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),o.calendars.nepali=p},{"../main":82,"object-assign":55}],78:[function(m,de,te){var o=m("../main");function p(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}function l(c,C){return c-C*Math.floor(c/C)}m("object-assign")(p.prototype=new o.baseCalendar,{name:"Persian",jdEpoch:1948320.5,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xe6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xe6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(c){var C=this._validate(c,this.minMonth,this.minDay,o.local.invalidYear);return 682*((C.year()-(C.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(c,C,d){var h=this.newDate(c,C,d);return h.add(-(h.dayOfWeek()+1)%7,"d"),Math.floor((h.dayOfYear()-1)/7)+1},daysInMonth:function(c,C){var d=this._validate(c,C,this.minDay,o.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(12===d.month()&&this.leapYear(d.year())?1:0)},weekDay:function(c,C,d){return 5!==this.dayOfWeek(c,C,d)},toJD:function(c,C,d){var h=this._validate(c,C,d,o.local.invalidDate);c=h.year(),C=h.month(),d=h.day();var u=c-(c>=0?474:473),_=474+l(u,2820);return d+(C<=7?31*(C-1):30*(C-1)+6)+Math.floor((682*_-110)/2816)+365*(_-1)+1029983*Math.floor(u/2820)+this.jdEpoch-1},fromJD:function(c){var C=(c=Math.floor(c)+.5)-this.toJD(475,1,1),d=Math.floor(C/1029983),h=l(C,1029983),u=2820;if(1029982!==h){var _=Math.floor(h/366),b=l(h,366);u=Math.floor((2134*_+2816*b+2815)/1028522)+_+1}var M=u+2820*d+474,L=c-this.toJD(M=M<=0?M-1:M,1,1)+1,N=L<=186?Math.ceil(L/31):Math.ceil((L-6)/30),z=c-this.toJD(M,N,1)+1;return this.newDate(M,N,z)}}),o.calendars.persian=p,o.calendars.jalali=p},{"../main":82,"object-assign":55}],79:[function(m,de,te){var o=m("../main"),g=m("object-assign"),p=o.instance();function l(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}g(l.prototype=new o.baseCalendar,{name:"Taiwan",jdEpoch:2419402.5,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(c){var C=this._validate(c,this.minMonth,this.minDay,o.local.invalidYear);return c=this._t2gYear(C.year()),p.leapYear(c)},weekOfYear:function(c,C,d){var h=this._validate(c,this.minMonth,this.minDay,o.local.invalidYear);return c=this._t2gYear(h.year()),p.weekOfYear(c,h.month(),h.day())},daysInMonth:function(c,C){var d=this._validate(c,C,this.minDay,o.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(2===d.month()&&this.leapYear(d.year())?1:0)},weekDay:function(c,C,d){return(this.dayOfWeek(c,C,d)||7)<6},toJD:function(c,C,d){var h=this._validate(c,C,d,o.local.invalidDate);return c=this._t2gYear(h.year()),p.toJD(c,h.month(),h.day())},fromJD:function(c){var C=p.fromJD(c),d=this._g2tYear(C.year());return this.newDate(d,C.month(),C.day())},_t2gYear:function(c){return c+this.yearsOffset+(c>=-this.yearsOffset&&c<=-1?1:0)},_g2tYear:function(c){return c-this.yearsOffset-(c>=1&&c<=this.yearsOffset?1:0)}}),o.calendars.taiwan=l},{"../main":82,"object-assign":55}],80:[function(m,de,te){var o=m("../main"),g=m("object-assign"),p=o.instance();function l(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}g(l.prototype=new o.baseCalendar,{name:"Thai",jdEpoch:1523098.5,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(c){var C=this._validate(c,this.minMonth,this.minDay,o.local.invalidYear);return c=this._t2gYear(C.year()),p.leapYear(c)},weekOfYear:function(c,C,d){var h=this._validate(c,this.minMonth,this.minDay,o.local.invalidYear);return c=this._t2gYear(h.year()),p.weekOfYear(c,h.month(),h.day())},daysInMonth:function(c,C){var d=this._validate(c,C,this.minDay,o.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(2===d.month()&&this.leapYear(d.year())?1:0)},weekDay:function(c,C,d){return(this.dayOfWeek(c,C,d)||7)<6},toJD:function(c,C,d){var h=this._validate(c,C,d,o.local.invalidDate);return c=this._t2gYear(h.year()),p.toJD(c,h.month(),h.day())},fromJD:function(c){var C=p.fromJD(c),d=this._g2tYear(C.year());return this.newDate(d,C.month(),C.day())},_t2gYear:function(c){return c-this.yearsOffset-(c>=1&&c<=this.yearsOffset?1:0)},_g2tYear:function(c){return c+this.yearsOffset+(c>=-this.yearsOffset&&c<=-1?1:0)}}),o.calendars.thai=l},{"../main":82,"object-assign":55}],81:[function(m,de,te){var o=m("../main");function p(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}m("object-assign")(p.prototype=new o.baseCalendar,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(c){var C=this._validate(c,this.minMonth,this.minDay,o.local.invalidYear);return 355===this.daysInYear(C.year())},weekOfYear:function(c,C,d){var h=this.newDate(c,C,d);return h.add(-h.dayOfWeek(),"d"),Math.floor((h.dayOfYear()-1)/7)+1},daysInYear:function(c){for(var C=0,d=1;d<=12;d++)C+=this.daysInMonth(c,d);return C},daysInMonth:function(c,C){for(var d=this._validate(c,C,this.minDay,o.local.invalidMonth).toJD()-24e5+.5,h=0,u=0;u<l.length;u++){if(l[u]>d)return l[h]-l[h-1];h++}return 30},weekDay:function(c,C,d){return 5!==this.dayOfWeek(c,C,d)},toJD:function(c,C,d){var h=this._validate(c,C,d,o.local.invalidDate),u=12*(h.year()-1)+h.month()-15292;return h.day()+l[u-1]-1+24e5-.5},fromJD:function(c){for(var C=c-24e5+.5,d=0,h=0;h<l.length&&!(l[h]>C);h++)d++;var u=d+15292,_=Math.floor((u-1)/12);return this.newDate(_+1,u-12*_,C-l[d-1]+1)},isValid:function(c,C,d){var h=o.baseCalendar.prototype.isValid.apply(this,arguments);return h&&(h=(c=null!=c.year?c.year:c)>=1276&&c<=1500),h},_validate:function(c,C,d,h){var u=o.baseCalendar.prototype._validate.apply(this,arguments);if(u.year<1276||u.year>1500)throw h.replace(/\{0\}/,this.local.name);return u}}),o.calendars.ummalqura=p;var l=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},{"../main":82,"object-assign":55}],82:[function(m,de,te){var o=m("object-assign");function g(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function p(h,u,_,b){if(this._calendar=h,this._year=u,this._month=_,this._day=b,0===this._calendar._validateLevel&&!this._calendar.isValid(this._year,this._month,this._day))throw(d.local.invalidDate||d.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function l(h,u){return"000000".substring(0,u-(h=""+h).length)+h}function c(){this.shortYearCutoff="+10"}function C(h){this.local=this.regionalOptions[h]||this.regionalOptions[""]}o(g.prototype,{instance:function(h,u){h=(h||"gregorian").toLowerCase();var _=this._localCals[h+"-"+(u=u||"")];if(!_&&this.calendars[h]&&(_=new this.calendars[h](u),this._localCals[h+"-"+u]=_),!_)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,h);return _},newDate:function(h,u,_,b,M){return(b=(null!=h&&h.year?h.calendar():"string"==typeof b?this.instance(b,M):b)||this.instance()).newDate(h,u,_)},substituteDigits:function(h){return function(u){return(u+"").replace(/[0-9]/g,function(_){return h[_]})}},substituteChineseDigits:function(h,u){return function(_){for(var b="",M=0;_>0;){var L=_%10;b=(0===L?"":h[L]+u[M])+b,M++,_=Math.floor(_/10)}return 0===b.indexOf(h[1]+u[1])&&(b=b.substr(1)),b||h[0]}}}),o(p.prototype,{newDate:function(h,u,_){return this._calendar.newDate(null==h?this:h,u,_)},year:function(h){return 0===arguments.length?this._year:this.set(h,"y")},month:function(h){return 0===arguments.length?this._month:this.set(h,"m")},day:function(h){return 0===arguments.length?this._day:this.set(h,"d")},date:function(h,u,_){if(!this._calendar.isValid(h,u,_))throw(d.local.invalidDate||d.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=h,this._month=u,this._day=_,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(h,u){return this._calendar.add(this,h,u)},set:function(h,u){return this._calendar.set(this,h,u)},compareTo:function(h){if(this._calendar.name!==h._calendar.name)throw(d.local.differentCalendars||d.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,h._calendar.local.name);var u=this._year!==h._year?this._year-h._year:this._month!==h._month?this.monthOfYear()-h.monthOfYear():this._day-h._day;return 0===u?0:u<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(h){return this._calendar.fromJD(h)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(h){return this._calendar.fromJSDate(h)},toString:function(){return(this.year()<0?"-":"")+l(Math.abs(this.year()),4)+"-"+l(this.month(),2)+"-"+l(this.day(),2)}}),o(c.prototype,{_validateLevel:0,newDate:function(h,u,_){return null==h?this.today():(h.year&&(this._validate(h,u,_,d.local.invalidDate||d.regionalOptions[""].invalidDate),_=h.day(),u=h.month(),h=h.year()),new p(this,h,u,_))},today:function(){return this.fromJSDate(new Date)},epoch:function(h){return this._validate(h,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(h){var u=this._validate(h,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return(u.year()<0?"-":"")+l(Math.abs(u.year()),4)},monthsInYear:function(h){return this._validate(h,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear),12},monthOfYear:function(h,u){var _=this._validate(h,u,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth);return(_.month()+this.monthsInYear(_)-this.firstMonth)%this.monthsInYear(_)+this.minMonth},fromMonthOfYear:function(h,u){var _=(u+this.firstMonth-2*this.minMonth)%this.monthsInYear(h)+this.minMonth;return this._validate(h,_,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth),_},daysInYear:function(h){var u=this._validate(h,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return this.leapYear(u)?366:365},dayOfYear:function(h,u,_){var b=this._validate(h,u,_,d.local.invalidDate||d.regionalOptions[""].invalidDate);return b.toJD()-this.newDate(b.year(),this.fromMonthOfYear(b.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(h,u,_){var b=this._validate(h,u,_,d.local.invalidDate||d.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(b))+2)%this.daysInWeek()},extraInfo:function(h,u,_){return this._validate(h,u,_,d.local.invalidDate||d.regionalOptions[""].invalidDate),{}},add:function(h,u,_){return this._validate(h,this.minMonth,this.minDay,d.local.invalidDate||d.regionalOptions[""].invalidDate),this._correctAdd(h,this._add(h,u,_),u,_)},_add:function(h,u,_){if(this._validateLevel++,"d"===_||"w"===_){var b=h.toJD()+u*("w"===_?this.daysInWeek():1),M=h.calendar().fromJD(b);return this._validateLevel--,[M.year(),M.month(),M.day()]}try{var L=h.year()+("y"===_?u:0),N=h.monthOfYear()+("m"===_?u:0);M=h.day(),"y"===_?(h.month()!==this.fromMonthOfYear(L,N)&&(N=this.newDate(L,h.month(),this.minDay).monthOfYear()),N=Math.min(N,this.monthsInYear(L)),M=Math.min(M,this.daysInMonth(L,this.fromMonthOfYear(L,N)))):"m"===_&&(function(k){for(;N<k.minMonth;)L--,N+=k.monthsInYear(L);for(var D=k.monthsInYear(L);N>D-1+k.minMonth;)L++,N-=D,D=k.monthsInYear(L)}(this),M=Math.min(M,this.daysInMonth(L,this.fromMonthOfYear(L,N))));var z=[L,this.fromMonthOfYear(L,N),M];return this._validateLevel--,z}catch(k){throw this._validateLevel--,k}},_correctAdd:function(h,u,_,b){if(!(this.hasYearZero||"y"!==b&&"m"!==b||0!==u[0]&&h.year()>0==u[0]>0)){var M={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[b];u=this._add(h,_*M[0]+(_<0?-1:1)*M[1],M[2])}return h.date(u[0],u[1],u[2])},set:function(h,u,_){this._validate(h,this.minMonth,this.minDay,d.local.invalidDate||d.regionalOptions[""].invalidDate);var b="y"===_?u:h.year(),M="m"===_?u:h.month(),L="d"===_?u:h.day();return"y"!==_&&"m"!==_||(L=Math.min(L,this.daysInMonth(b,M))),h.date(b,M,L)},isValid:function(h,u,_){this._validateLevel++;var b=this.hasYearZero||0!==h;if(b){var M=this.newDate(h,u,this.minDay);b=u>=this.minMonth&&u-this.minMonth<this.monthsInYear(M)&&_>=this.minDay&&_-this.minDay<this.daysInMonth(M)}return this._validateLevel--,b},toJSDate:function(h,u,_){var b=this._validate(h,u,_,d.local.invalidDate||d.regionalOptions[""].invalidDate);return d.instance().fromJD(this.toJD(b)).toJSDate()},fromJSDate:function(h){return this.fromJD(d.instance().fromJSDate(h).toJD())},_validate:function(h,u,_,b){if(h.year){if(0===this._validateLevel&&this.name!==h.calendar().name)throw(d.local.differentCalendars||d.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,h.calendar().local.name);return h}try{if(this._validateLevel++,1===this._validateLevel&&!this.isValid(h,u,_))throw b.replace(/\{0\}/,this.local.name);var M=this.newDate(h,u,_);return this._validateLevel--,M}catch(L){throw this._validateLevel--,L}}}),o(C.prototype=new c,{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(h){var u=this._validate(h,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return(h=u.year()+(u.year()<0?1:0))%4==0&&(h%100!=0||h%400==0)},weekOfYear:function(h,u,_){var b=this.newDate(h,u,_);return b.add(4-(b.dayOfWeek()||7),"d"),Math.floor((b.dayOfYear()-1)/7)+1},daysInMonth:function(h,u){var _=this._validate(h,u,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth);return this.daysPerMonth[_.month()-1]+(2===_.month()&&this.leapYear(_.year())?1:0)},weekDay:function(h,u,_){return(this.dayOfWeek(h,u,_)||7)<6},toJD:function(h,u,_){var b=this._validate(h,u,_,d.local.invalidDate||d.regionalOptions[""].invalidDate);h=b.year(),u=b.month(),_=b.day(),h<0&&h++,u<3&&(u+=12,h--);var M=Math.floor(h/100),L=2-M+Math.floor(M/4);return Math.floor(365.25*(h+4716))+Math.floor(30.6001*(u+1))+_+L-1524.5},fromJD:function(h){var u=Math.floor(h+.5),_=Math.floor((u-1867216.25)/36524.25),b=1524+(_=u+1+_-Math.floor(_/4)),M=Math.floor((b-122.1)/365.25),L=Math.floor(365.25*M),N=Math.floor((b-L)/30.6001),z=b-L-Math.floor(30.6001*N),k=N-(N>13.5?13:1),D=M-(k>2.5?4716:4715);return D<=0&&D--,this.newDate(D,k,z)},toJSDate:function(h,u,_){var b=this._validate(h,u,_,d.local.invalidDate||d.regionalOptions[""].invalidDate),M=new Date(b.year(),b.month()-1,b.day());return M.setHours(0),M.setMinutes(0),M.setSeconds(0),M.setMilliseconds(0),M.setHours(M.getHours()>12?M.getHours()+2:0),M},fromJSDate:function(h){return this.newDate(h.getFullYear(),h.getMonth()+1,h.getDate())}});var d=de.exports=new g;d.cdate=p,d.baseCalendar=c,d.calendars.gregorian=C},{"object-assign":55}],83:[function(m,de,te){var o=m("object-assign"),g=m("./main");o(g.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),g.local=g.regionalOptions[""],o(g.cdate.prototype,{formatDate:function(p,l){return"string"!=typeof p&&(l=p,p=""),this._calendar.formatDate(p||"",this,l)}}),o(g.baseCalendar.prototype,{UNIX_EPOCH:g.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:g.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(p,l,c){if("string"!=typeof p&&(c=l,l=p,p=""),!l)return"";if(l.calendar()!==this)throw g.local.invalidFormat||g.regionalOptions[""].invalidFormat;p=p||this.local.dateFormat;for(var d,h,u,_=(c=c||{}).dayNamesShort||this.local.dayNamesShort,b=c.dayNames||this.local.dayNames,M=c.monthNumbers||this.local.monthNumbers,L=c.monthNamesShort||this.local.monthNamesShort,N=c.monthNames||this.local.monthNames,z=function($,T){for(var Y=1;B+Y<p.length&&p.charAt(B+Y)===$;)Y++;return B+=Y-1,Math.floor(Y/(T||1))>1},k=function($,T,Y,W){var q=""+T;if(z($,W))for(;q.length<Y;)q="0"+q;return q},D=this,P=function($,T){return T?"function"==typeof N?N.call(D,$):N[$.month()-D.minMonth]:"function"==typeof L?L.call(D,$):L[$.month()-D.minMonth]},H=this.local.digits,E=function($){return c.localNumbers&&H?H($):$},I="",w=!1,B=0;B<p.length;B++)if(w)"'"!==p.charAt(B)||z("'")?I+=p.charAt(B):w=!1;else switch(p.charAt(B)){case"d":I+=E(k("d",l.day(),2));break;case"D":I+=("D",d=l.dayOfWeek(),h=_,u=b,z("D")?u[d]:h[d]);break;case"o":I+=k("o",l.dayOfYear(),3);break;case"w":I+=k("w",l.weekOfYear(),2);break;case"m":I+=($=l,"function"==typeof M?M.call(D,$,z("m")):E(k("m",$.month(),2)));break;case"M":I+=P(l,z("M"));break;case"y":I+=z("y",2)?l.year():(l.year()%100<10?"0":"")+l.year()%100;break;case"Y":z("Y",2),I+=l.formatYear();break;case"J":I+=l.toJD();break;case"@":I+=(l.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":I+=(l.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":z("'")?I+="'":w=!0;break;default:I+=p.charAt(B)}var $;return I},parseDate:function(p,l,c){if(null==l)throw g.local.invalidArguments||g.regionalOptions[""].invalidArguments;if(""===(l="object"==typeof l?l.toString():l+""))return null;p=p||this.local.dateFormat;var C=(c=c||{}).shortYearCutoff||this.shortYearCutoff;C="string"!=typeof C?C:this.today().year()%100+parseInt(C,10);for(var d=c.dayNamesShort||this.local.dayNamesShort,h=c.dayNames||this.local.dayNames,u=c.parseMonth||this.local.parseMonth,_=c.monthNumbers||this.local.monthNumbers,b=c.monthNamesShort||this.local.monthNamesShort,M=c.monthNames||this.local.monthNames,L=-1,N=-1,z=-1,k=-1,D=-1,S=!1,P=!1,H=function(ee,ce){for(var me=1;W+me<p.length&&p.charAt(W+me)===ee;)me++;return W+=me-1,Math.floor(me/(ce||1))>1},E=function(ee,ce){var me=H(ee,ce),ae=[2,3,me?4:2,me?4:2,10,11,20]["oyYJ@!".indexOf(ee)+1],K=new RegExp("^-?\\d{1,"+ae+"}"),le=l.substring(Y).match(K);if(!le)throw(g.local.missingNumberAt||g.regionalOptions[""].missingNumberAt).replace(/\{0\}/,Y);return Y+=le[0].length,parseInt(le[0],10)},I=this,w=function(){if("function"==typeof _){H("m");var ee=_.call(I,l.substring(Y));return Y+=ee.length,ee}return E("m")},B=function(ee,ce,me,ae){for(var K=H(ee,ae)?me:ce,le=0;le<K.length;le++)if(l.substr(Y,K[le].length).toLowerCase()===K[le].toLowerCase())return Y+=K[le].length,le+I.minMonth;throw(g.local.unknownNameAt||g.regionalOptions[""].unknownNameAt).replace(/\{0\}/,Y)},$=function(){if("function"==typeof M){var ee=H("M")?M.call(I,l.substring(Y)):b.call(I,l.substring(Y));return Y+=ee.length,ee}return B("M",b,M)},T=function(){if(l.charAt(Y)!==p.charAt(W))throw(g.local.unexpectedLiteralAt||g.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,Y);Y++},Y=0,W=0;W<p.length;W++)if(P)"'"!==p.charAt(W)||H("'")?T():P=!1;else switch(p.charAt(W)){case"d":k=E("d");break;case"D":B("D",d,h);break;case"o":D=E("o");break;case"w":E("w");break;case"m":z=w();break;case"M":z=$();break;case"y":var q=W;S=!H("y",2),W=q,N=E("y",2);break;case"Y":N=E("Y",2);break;case"J":L=E("J")+.5,"."===l.charAt(Y)&&(Y++,E("J"));break;case"@":L=E("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":L=E("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":Y=l.length;break;case"'":H("'")?T():P=!0;break;default:T()}if(Y<l.length)throw g.local.unexpectedText||g.regionalOptions[""].unexpectedText;if(-1===N?N=this.today().year():N<100&&S&&(N+=-1===C?1900:this.today().year()-this.today().year()%100-(N<=C?0:100)),"string"==typeof z&&(z=u.call(this,N,z)),D>-1){k=D;for(var X=this.daysInMonth(N,z=1);k>X;X=this.daysInMonth(N,z))z++,k-=X}return L>-1?this.fromJD(L):this.newDate(N,z,k)},determineDate:function(p,l,c,C,d){c&&"object"!=typeof c&&(d=C,C=c,c=null),"string"!=typeof C&&(d=C,C="");var h=this;return l=l?l.newDate():null,null==p?l:"string"==typeof p?function(u){try{return h.parseDate(C,u,d)}catch(L){}for(var _=((u=u.toLowerCase()).match(/^c/)&&c?c.newDate():null)||h.today(),b=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,M=b.exec(u);M;)_.add(parseInt(M[1],10),M[2]||"d"),M=b.exec(u);return _}(p):"number"==typeof p?isNaN(p)||p===1/0||p===-1/0?l:h.today().add(p,"d"):h.newDate(p)}})},{"./main":82,"object-assign":55}],84:[function(m,de,te){"use strict";de.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},{}],85:[function(m,de,te){"use strict";var o=m("./arrow_paths"),g=m("../../plots/font_attributes"),p=m("../../plots/cartesian/constants"),l=m("../../plot_api/plot_template").templatedArray;m("../../constants/axis_placeable_objects"),de.exports=l("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:g({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:o.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:o.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",p.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",p.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",p.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",p.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:g({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},{"../../constants/axis_placeable_objects":208,"../../plot_api/plot_template":268,"../../plots/cartesian/constants":286,"../../plots/font_attributes":310,"./arrow_paths":84}],86:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("../../plots/cartesian/axes"),p=m("./draw").draw;function l(C){o.filterVisible(C._fullLayout.annotations).forEach(function(h){var u=g.getFromId(C,h.xref),_=g.getFromId(C,h.yref),b=g.getRefType(h.xref),M=g.getRefType(h.yref);h._extremes={},"range"===b&&c(h,u),"range"===M&&c(h,_)})}function c(C,d){var h,u=d._id,_=u.charAt(0),b=C[_],M=C["a"+_],z=C["_"+_+"padplus"],k=C["_"+_+"padminus"],D={x:1,y:-1}[_]*C[_+"shift"],S=3*C.arrowsize*C.arrowwidth||0,P=S+D,H=S-D,E=3*C.startarrowsize*C.arrowwidth||0,I=E+D,w=E-D;if(C["a"+_+"ref"]===C[_+"ref"]){var B=g.findExtremes(d,[d.r2c(b)],{ppadplus:P,ppadminus:H}),$=g.findExtremes(d,[d.r2c(M)],{ppadplus:Math.max(z,I),ppadminus:Math.max(k,w)});h={min:[B.min[0],$.min[0]],max:[B.max[0],$.max[0]]}}else I=M?I+M:I,w=M?w-M:w,h=g.findExtremes(d,[d.r2c(b)],{ppadplus:Math.max(z,P,I),ppadminus:Math.max(k,H,w)});C._extremes[u]=h}de.exports=function(C){if(o.filterVisible(C._fullLayout.annotations).length&&C._fullData.length)return o.syncOrAsync([p,l],C)}},{"../../lib":232,"../../plots/cartesian/axes":279,"./draw":91}],87:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("../../registry"),p=m("../../plot_api/plot_template").arrayEditor;function l(C,d){var h,u,_,b,M,L,N,z=C._fullLayout.annotations,k=[],D=[],S=[],P=(d||[]).length;for(h=0;h<z.length;h++)if(b=(_=z[h]).clicktoshow){for(u=0;u<P;u++)if(L=(M=d[u]).xaxis,N=M.yaxis,L._id===_.xref&&N._id===_.yref&&L.d2r(M.x)===c(_._xclick,L)&&N.d2r(M.y)===c(_._yclick,N)){(_.visible?"onout"===b?D:S:k).push(h);break}u===P&&_.visible&&"onout"===b&&D.push(h)}return{on:k,off:D,explicitOff:S}}function c(C,d){return"log"===d.type?d.l2r(C):d.d2r(C)}de.exports={hasClickToShow:function(C,d){var h=l(C,d);return h.on.length>0||h.explicitOff.length>0},onClick:function(C,d){var h,u,_=l(C,d),b=_.on,M=_.off.concat(_.explicitOff),L={},N=C._fullLayout.annotations;if(b.length||M.length){for(h=0;h<b.length;h++)(u=p(C.layout,"annotations",N[b[h]])).modifyItem("visible",!0),o.extendFlat(L,u.getUpdateObj());for(h=0;h<M.length;h++)(u=p(C.layout,"annotations",N[M[h]])).modifyItem("visible",!1),o.extendFlat(L,u.getUpdateObj());return g.call("update",C,{},L)}}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../registry":318}],88:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("../color");de.exports=function(p,l,c,C){C("opacity");var d=C("bgcolor"),h=C("bordercolor"),u=g.opacity(h);C("borderpad");var _=C("borderwidth"),b=C("showarrow");if(C("text",b?" ":c._dfltTitle.annotation),C("textangle"),o.coerceFont(C,"font",c.font),C("width"),C("align"),C("height")&&C("valign"),b){var M,L,N=C("arrowside");-1!==N.indexOf("end")&&(M=C("arrowhead"),L=C("arrowsize")),-1!==N.indexOf("start")&&(C("startarrowhead",M),C("startarrowsize",L)),C("arrowcolor",u?l.bordercolor:g.defaultLine),C("arrowwidth",2*(u&&_||1)),C("standoff"),C("startstandoff")}var z=C("hovertext"),k=c.hoverlabel||{};if(z){var D=C("hoverlabel.bgcolor",k.bgcolor||(g.opacity(d)?g.rgb(d):g.defaultLine)),S=C("hoverlabel.bordercolor",k.bordercolor||g.contrast(D));o.coerceFont(C,"hoverlabel.font",{family:k.font.family,size:k.font.size,color:k.font.color||S})}C("captureevents",!!z)}},{"../../lib":232,"../color":102}],89:[function(m,de,te){"use strict";var o=m("fast-isnumeric"),g=m("../../lib/to_log_range");de.exports=function(p,l,c,C){l=l||{};var d="log"===c&&"linear"===l.type;if(d||"linear"===c&&"log"===l.type)for(var u,_,b=p._fullLayout.annotations,M=l._id.charAt(0),L=0;L<b.length;L++)_="annotations["+L+"].",(u=b[L])[M+"ref"]===l._id&&N(M),u["a"+M+"ref"]===l._id&&N("a"+M);function N(z){var k=u[z],D=null;D=d?g(k,l.range):Math.pow(10,k),o(D)||(D=null),C(_+z,D)}}},{"../../lib/to_log_range":257,"fast-isnumeric":17}],90:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("../../plots/cartesian/axes"),p=m("../../plots/array_container_defaults"),l=m("./common_defaults"),c=m("./attributes");function C(d,h,u){function _($,T){return o.coerce(d,h,c,$,T)}var b=_("visible"),M=_("clicktoshow");if(b||M){l(d,h,u,_);for(var L=h.showarrow,N=["x","y"],z=[-10,-30],k={_fullLayout:u},D=0;D<2;D++){var S=N[D],P=g.coerceRef(d,h,k,S,"","paper");if("paper"!==P&&g.getFromId(k,P)._annIndices.push(h._index),g.coercePosition(h,k,_,P,S,.5),L){var H="a"+S,E=g.coerceRef(d,h,k,H,"pixel",["pixel","paper"]);"pixel"!==E&&E!==P&&(E=h[H]="pixel"),g.coercePosition(h,k,_,E,H,"pixel"===E?z[D]:.4)}_(S+"anchor"),_(S+"shift")}if(o.noneOrAll(d,h,["x","y"]),L&&o.noneOrAll(d,h,["ax","ay"]),M){var w=_("xclick"),B=_("yclick");h._xclick=void 0===w?h.x:g.cleanPosition(w,k,h.xref),h._yclick=void 0===B?h.y:g.cleanPosition(B,k,h.yref)}}}de.exports=function(d,h){p(d,h,{name:"annotations",handleItemDefaults:C})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"./attributes":85,"./common_defaults":88}],91:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("../../registry"),p=m("../../plots/plots"),l=m("../../lib"),c=l.strTranslate,C=m("../../plots/cartesian/axes"),d=m("../color"),h=m("../drawing"),u=m("../fx"),_=m("../../lib/svg_text_utils"),b=m("../../lib/setcursor"),M=m("../dragelement"),L=m("../../plot_api/plot_template").arrayEditor,N=m("./draw_arrow_head");function z(S,P){var H=S._fullLayout.annotations[P]||{},E=C.getFromId(S,H.xref),I=C.getFromId(S,H.yref);E&&E.setScale(),I&&I.setScale(),D(S,H,P,!1,E,I)}function k(S,P,H,E,I){var w=I[H],B=I[H+"ref"],$=-1!==H.indexOf("y"),T="domain"===C.getRefType(B),Y=$?E.h:E.w;return S?T?w+($?-P:P)/S._length:S.p2r(S.r2p(w)+P):w+($?-P:P)/Y}function D(S,P,H,E,I,w){var B,$,T=S._fullLayout,Y=S._fullLayout._size,W=S._context.edits;E?(B="annotation-"+E,$=E+".annotations"):(B="annotation",$="annotations");var q=L(S.layout,$,P),X=q.modifyBase,ee=q.modifyItem,ce=q.getUpdateObj;T._infolayer.selectAll("."+B+'[data-index="'+H+'"]').remove();var me="clip"+T._uid+"_ann"+H;if(P._input&&!1!==P.visible){var ae={x:{},y:{}},K=+P.textangle||0,le=T._infolayer.append("g").classed(B,!0).attr("data-index",String(H)).style("opacity",P.opacity),G=le.append("g").classed("annotation-text-g",!0),j=W[P.showarrow?"annotationTail":"annotationPosition"],oe=P.captureevents||W.annotationText||j,re=G.append("g").style("pointer-events",oe?"all":null).call(b,"pointer").on("click",function(){S._dragging=!1,S.emit("plotly_clickannotation",be(o.event))});P.hovertext&&re.on("mouseover",function(){var Pe=P.hoverlabel,Fe=Pe.font,t1=this.getBoundingClientRect(),Xe=S.getBoundingClientRect();u.loneHover({x0:t1.left-Xe.left,x1:t1.right-Xe.left,y:(t1.top+t1.bottom)/2-Xe.top,text:P.hovertext,color:Pe.bgcolor,borderColor:Pe.bordercolor,fontFamily:Fe.family,fontSize:Fe.size,fontColor:Fe.color},{container:T._hoverlayer.node(),outerContainer:T._paper.node(),gd:S})}).on("mouseout",function(){u.loneUnhover(T._hoverlayer.node())});var F=P.borderwidth,J=F+P.borderpad,R=re.append("rect").attr("class","bg").style("stroke-width",F+"px").call(d.stroke,P.bordercolor).call(d.fill,P.bgcolor),ie=P.width||P.height,fe=T._topclips.selectAll("#"+me).data(ie?[0]:[]);fe.enter().append("clipPath").classed("annclip",!0).attr("id",me).append("rect"),fe.exit().remove();var ue=P.font,he=T._meta?l.templateString(P.text,T._meta):P.text,Me=re.append("text").classed("annotation-text",!0).text(he);W.annotationText?Me.call(_.makeEditable,{delegate:re,gd:S}).call(Ae).on("edit",function(Pe){P.text=Pe,this.call(Ae),ee("text",Pe),I&&I.autorange&&X(I._name+".autorange",!0),w&&w.autorange&&X(w._name+".autorange",!0),g.call("_guiRelayout",S,ce())}):Me.call(Ae)}else o.selectAll("#"+me).remove();function be(Pe){var Fe={index:H,annotation:P._input,fullAnnotation:P,event:Pe};return E&&(Fe.subplotId=E),Fe}function Ae(Pe){return Pe.call(h.font,ue).attr({"text-anchor":{left:"start",right:"end"}[P.align]||"middle"}),_.convertToTspans(Pe,S,ze),Pe}function ze(){var Pe=Me.selectAll("a");1===Pe.size()&&Pe.text()===Me.text()&&re.insert("a",":first-child").attr({"xlink:xlink:href":Pe.attr("xlink:href"),"xlink:xlink:show":Pe.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(R.node());var Fe=re.select(".annotation-text-math-group"),t1=!Fe.empty(),Xe=h.bBox((t1?Fe:Me).node()),Ue=Xe.width,xe=Xe.height,ve=P.width||Ue,De=P.height||xe,Ve=Math.round(ve+2*J),Ye=Math.round(De+2*J);function Oe(V1,q1){return"auto"===q1&&(q1=V1<1/3?"left":V1>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[q1]}for(var Ie=!1,Qe=["x","y"],n1=0;n1<Qe.length;n1++){var Ke,r1,f1,Je,g1,b1=Qe[n1],_1=P[b1+"ref"]||b1,I1=P["a"+b1+"ref"],M1={x:I,y:w}[b1],Re=(K+("x"===b1?0:-90))*Math.PI/180,Be=Ve*Math.cos(Re),C1=Ye*Math.sin(Re),O1=Math.abs(Be)+Math.abs(C1),Q1=P[b1+"anchor"],l2=P[b1+"shift"]*("x"===b1?1:-1),G1=ae[b1],K1=C.getRefType(_1);if(M1&&"domain"!==K1){var N1=M1.r2fraction(P[b1]);(N1<0||N1>1)&&(I1===_1?((N1=M1.r2fraction(P["a"+b1]))<0||N1>1)&&(Ie=!0):Ie=!0),Ke=M1._offset+M1.r2p(P[b1]),Je=.5}else{var ge="domain"===K1;"x"===b1?(f1=P[b1],Ke=ge?M1._offset+M1._length*f1:Ke=Y.l+Y.w*f1):(f1=1-P[b1],Ke=ge?M1._offset+M1._length*f1:Ke=Y.t+Y.h*f1),Je=P.showarrow?.5:f1}if(P.showarrow){G1.head=Ke;var ye=P["a"+b1];if(g1=Be*Oe(.5,P.xanchor)-C1*Oe(.5,P.yanchor),I1===_1){var je=C.getRefType(I1);"domain"===je?("y"===b1&&(ye=1-ye),G1.tail=M1._offset+M1._length*ye):G1.tail="paper"===je?"y"===b1?Y.t+Y.h*(ye=1-ye):Y.l+Y.w*ye:M1._offset+M1.r2p(ye),r1=g1}else G1.tail=Ke+ye,r1=g1+ye;G1.text=G1.tail+g1;var e1=T["x"===b1?"width":"height"];if("paper"===_1&&(G1.head=l.constrain(G1.head,1,e1-1)),"pixel"===I1){var d1=-Math.max(G1.tail-3,G1.text),i1=Math.min(G1.tail+3,G1.text)-e1;d1>0?(G1.tail+=d1,G1.text+=d1):i1>0&&(G1.tail-=i1,G1.text-=i1)}G1.tail+=l2,G1.head+=l2}else r1=g1=O1*Oe(Je,Q1),G1.text=Ke+g1;G1.text+=l2,g1+=l2,P["_"+b1+"padplus"]=O1/2+(r1+=l2),P["_"+b1+"padminus"]=O1/2-r1,P["_"+b1+"size"]=O1,P["_"+b1+"shift"]=g1}if(Ie)re.remove();else{var l1=0,c1=0;"left"!==P.align&&(l1=(ve-Ue)*("center"===P.align?.5:1)),"top"!==P.valign&&(c1=(De-xe)*("middle"===P.valign?.5:1)),t1?Fe.select("svg").attr({x:J+l1-1,y:J+c1}).call(h.setClipUrl,ie?me:null,S):Me.call(_.positionText,J+l1-Xe.left,J+c1-Xe.top).call(h.setClipUrl,ie?me:null,S),fe.select("rect").call(h.setRect,J,J,ve,De),R.call(h.setRect,F/2,F/2,Ve-F,Ye-F),re.call(h.setTranslate,Math.round(ae.x.text-Ve/2),Math.round(ae.y.text-Ye/2)),G.attr({transform:"rotate("+K+","+ae.x.text+","+ae.y.text+")"});var B1,r2=function(V1,q1){le.selectAll(".annotation-arrow-g").remove();var f2=ae.x.head,z1=ae.y.head,w1=ae.x.tail+V1,a2=ae.y.tail+q1,J1=ae.x.text+V1,U1=ae.y.text+q1,e2=l.rotationXYMatrix(K,J1,U1),R1=l.apply2DTransform(e2),L2=l.apply2DTransform2(e2),y2=+R.attr("width"),w2=+R.attr("height"),F2=J1-.5*y2,O2=F2+y2,S2=U1-.5*w2,j1=S2+w2,Y1=[[F2,S2,F2,j1],[F2,j1,O2,j1],[O2,j1,O2,S2],[O2,S2,F2,S2]].map(L2);if(!Y1.reduce(function(Y2,P2){return Y2^!!l.segmentsIntersect(f2,z1,f2+1e6,z1+1e6,P2[0],P2[1],P2[2],P2[3])},!1)){Y1.forEach(function(Y2){var P2=l.segmentsIntersect(w1,a2,f2,z1,Y2[0],Y2[1],Y2[2],Y2[3]);P2&&(w1=P2.x,a2=P2.y)});var t2=P.arrowwidth,d2=P.arrowcolor,s2=P.arrowside,C2=le.append("g").style({opacity:d.opacity(d2)}).classed("annotation-arrow-g",!0),G2=C2.append("path").attr("d","M"+w1+","+a2+"L"+f2+","+z1).style("stroke-width",t2+"px").call(d.stroke,d.rgb(d2));if(N(G2,s2,P),W.annotationPosition&&G2.node().parentNode&&!E){var Q2=f2,A2=z1;if(P.standoff){var z2=Math.sqrt(Math.pow(f2-w1,2)+Math.pow(z1-a2,2));Q2+=P.standoff*(w1-f2)/z2,A2+=P.standoff*(a2-z1)/z2}var dt,pt,B2=C2.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(w1-Q2)+","+(a2-A2),transform:c(Q2,A2)}).style("stroke-width",t2+6+"px").call(d.stroke,"rgba(0,0,0,0)").call(d.fill,"rgba(0,0,0,0)");M.init({element:B2.node(),gd:S,prepFn:function(){var Y2=h.getTranslate(re);dt=Y2.x,pt=Y2.y,I&&I.autorange&&X(I._name+".autorange",!0),w&&w.autorange&&X(w._name+".autorange",!0)},moveFn:function(Y2,P2){var mt=R1(dt,pt),N2=mt[0]+Y2,vt=mt[1]+P2;re.call(h.setTranslate,N2,vt),ee("x",k(I,Y2,"x",Y,P)),ee("y",k(w,P2,"y",Y,P)),P.axref===P.xref&&ee("ax",k(I,Y2,"ax",Y,P)),P.ayref===P.yref&&ee("ay",k(w,P2,"ay",Y,P)),C2.attr("transform",c(Y2,P2)),G.attr({transform:"rotate("+K+","+N2+","+vt+")"})},doneFn:function(){g.call("_guiRelayout",S,ce());var Y2=document.querySelector(".js-notes-box-panel");Y2&&Y2.redraw(Y2.selectedObj)}})}}};P.showarrow&&r2(0,0),j&&M.init({element:re.node(),gd:S,prepFn:function(){B1=G.attr("transform")},moveFn:function(V1,q1){var f2="pointer";if(P.showarrow)ee("ax",P.axref===P.xref?k(I,V1,"ax",Y,P):P.ax+V1),ee("ay",P.ayref===P.yref?k(w,q1,"ay",Y.w,P):P.ay+q1),r2(V1,q1);else{if(E)return;var z1,w1;if(I)z1=k(I,V1,"x",Y,P);else{var a2=P._xsize/Y.w;z1=M.align(P.x+(P._xshift-P.xshift)/Y.w-a2/2+V1/Y.w,a2,0,1,P.xanchor)}if(w)w1=k(w,q1,"y",Y,P);else{var U1=P._ysize/Y.h;w1=M.align(P.y-(P._yshift+P.yshift)/Y.h-U1/2-q1/Y.h,U1,0,1,P.yanchor)}ee("x",z1),ee("y",w1),I&&w||(f2=M.getCursor(I?.5:z1,w?.5:w1,P.xanchor,P.yanchor))}G.attr({transform:c(V1,q1)+B1}),b(re,f2)},clickFn:function(V1,q1){P.captureevents&&S.emit("plotly_clickannotation",be(q1))},doneFn:function(){b(re),g.call("_guiRelayout",S,ce());var V1=document.querySelector(".js-notes-box-panel");V1&&V1.redraw(V1.selectedObj)}})}}}de.exports={draw:function(S){var P=S._fullLayout;P._infolayer.selectAll(".annotation").remove();for(var H=0;H<P.annotations.length;H++)P.annotations[H].visible&&z(S,H);return p.previousPromises(S)},drawOne:z,drawRaw:D}},{"../../lib":232,"../../lib/setcursor":252,"../../lib/svg_text_utils":255,"../../plot_api/plot_template":268,"../../plots/cartesian/axes":279,"../../plots/plots":316,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"../fx":142,"./draw_arrow_head":92,"@plotly/d3":11}],92:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("../color"),p=m("./arrow_paths"),l=m("../../lib"),c=l.strScale,C=l.strRotate,d=l.strTranslate;de.exports=function(h,u,_){var b,M,L,N,z=h.node(),k=p[_.arrowhead||0],D=p[_.startarrowhead||0],S=(_.arrowwidth||1)*(_.arrowsize||1),P=(_.arrowwidth||1)*(_.startarrowsize||1),H=u.indexOf("start")>=0,E=u.indexOf("end")>=0,I=k.backoff*S+_.standoff,w=D.backoff*P+_.startstandoff;if("line"===z.nodeName){b={x:+h.attr("x1"),y:+h.attr("y1")},M={x:+h.attr("x2"),y:+h.attr("y2")};var B=b.x-M.x,$=b.y-M.y;if(N=(L=Math.atan2($,B))+Math.PI,I&&w&&I+w>Math.sqrt(B*B+$*$))return void le();if(I){if(I*I>B*B+$*$)return void le();var T=I*Math.cos(L),Y=I*Math.sin(L);M.x+=T,M.y+=Y,h.attr({x2:M.x,y2:M.y})}if(w){if(w*w>B*B+$*$)return void le();var W=w*Math.cos(L),q=w*Math.sin(L);b.x-=W,b.y-=q,h.attr({x1:b.x,y1:b.y})}}else if("path"===z.nodeName){var X=z.getTotalLength(),ee="";if(X<I+w)return void le();var ce=z.getPointAtLength(0),me=z.getPointAtLength(.1);L=Math.atan2(ce.y-me.y,ce.x-me.x),b=z.getPointAtLength(Math.min(w,X)),ee="0px,"+w+"px,";var ae=z.getPointAtLength(X),K=z.getPointAtLength(X-.1);N=Math.atan2(ae.y-K.y,ae.x-K.x),M=z.getPointAtLength(Math.max(0,X-I)),h.style("stroke-dasharray",ee+=X-(ee?w+I:I)+"px,"+X+"px")}function le(){h.style("stroke-dasharray","0px,100px")}function G(j,oe,re,F){j.path&&(j.noRotate&&(re=0),o.select(z.parentNode).append("path").attr({class:h.attr("class"),d:j.path,transform:d(oe.x,oe.y)+C(180*re/Math.PI)+c(F)}).style({fill:g.rgb(_.arrowcolor),"stroke-width":0}))}H&&G(D,b,L,P),E&&G(k,M,N,S)}},{"../../lib":232,"../color":102,"./arrow_paths":84,"@plotly/d3":11}],93:[function(m,de,te){"use strict";var o=m("./draw"),g=m("./click");de.exports={moduleType:"component",name:"annotations",layoutAttributes:m("./attributes"),supplyLayoutDefaults:m("./defaults"),includeBasePlot:m("../../plots/cartesian/include_components")("annotations"),calcAutorange:m("./calc_autorange"),draw:o.draw,drawOne:o.drawOne,drawRaw:o.drawRaw,hasClickToShow:g.hasClickToShow,onClick:g.onClick,convertCoords:m("./convert_coords")}},{"../../plots/cartesian/include_components":292,"./attributes":85,"./calc_autorange":86,"./click":87,"./convert_coords":89,"./defaults":90,"./draw":91}],94:[function(m,de,te){"use strict";var o=m("../annotations/attributes"),g=m("../../plot_api/edit_types").overrideAll,p=m("../../plot_api/plot_template").templatedArray;de.exports=g(p("annotation",{visible:o.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:o.xanchor,xshift:o.xshift,yanchor:o.yanchor,yshift:o.yshift,text:o.text,textangle:o.textangle,font:o.font,width:o.width,height:o.height,opacity:o.opacity,align:o.align,valign:o.valign,bgcolor:o.bgcolor,bordercolor:o.bordercolor,borderpad:o.borderpad,borderwidth:o.borderwidth,showarrow:o.showarrow,arrowcolor:o.arrowcolor,arrowhead:o.arrowhead,startarrowhead:o.startarrowhead,arrowside:o.arrowside,arrowsize:o.arrowsize,startarrowsize:o.startarrowsize,arrowwidth:o.arrowwidth,standoff:o.standoff,startstandoff:o.startstandoff,hovertext:o.hovertext,hoverlabel:o.hoverlabel,captureevents:o.captureevents}),"calc","from-root")},{"../../plot_api/edit_types":261,"../../plot_api/plot_template":268,"../annotations/attributes":85}],95:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("../../plots/cartesian/axes");function p(l,c){var C=c.fullSceneLayout.domain,d=c.fullLayout._size,h={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};l._xa={},o.extendFlat(l._xa,h),g.setConvert(l._xa),l._xa._offset=d.l+C.x[0]*d.w,l._xa.l2p=function(){return.5*(1+l._pdata[0]/l._pdata[3])*d.w*(C.x[1]-C.x[0])},l._ya={},o.extendFlat(l._ya,h),g.setConvert(l._ya),l._ya._offset=d.t+(1-C.y[1])*d.h,l._ya.l2p=function(){return.5*(1-l._pdata[1]/l._pdata[3])*d.h*(C.y[1]-C.y[0])}}de.exports=function(l){for(var c=l.fullSceneLayout.annotations,C=0;C<c.length;C++)p(c[C],l);l.fullLayout._infolayer.selectAll(".annotation-"+l.id).remove()}},{"../../lib":232,"../../plots/cartesian/axes":279}],96:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("../../plots/cartesian/axes"),p=m("../../plots/array_container_defaults"),l=m("../annotations/common_defaults"),c=m("./attributes");function C(d,h,u,_){function b(L,N){return o.coerce(d,h,c,L,N)}function M(L){var N=L+"axis",z={_fullLayout:{}};return z._fullLayout[N]=u[N],g.coercePosition(h,z,b,L,L,.5)}b("visible")&&(l(d,h,_.fullLayout,b),M("x"),M("y"),M("z"),o.noneOrAll(d,h,["x","y","z"]),h.xref="x",h.yref="y",h.zref="z",b("xanchor"),b("yanchor"),b("xshift"),b("yshift"),h.showarrow&&(h.axref="pixel",h.ayref="pixel",b("ax",-10),b("ay",-30),o.noneOrAll(d,h,["ax","ay"])))}de.exports=function(d,h,u){p(d,h,{name:"annotations",handleItemDefaults:C,fullLayout:u.fullLayout})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"../annotations/common_defaults":88,"./attributes":94}],97:[function(m,de,te){"use strict";var o=m("../annotations/draw").drawRaw,g=m("../../plots/gl3d/project"),p=["x","y","z"];de.exports=function(l){for(var c=l.fullSceneLayout,C=l.dataScale,d=c.annotations,h=0;h<d.length;h++){for(var u=d[h],_=!1,b=0;b<3;b++){var M=p[b],N=c[M+"axis"].r2fraction(u[M]);if(N<0||N>1){_=!0;break}}_?l.fullLayout._infolayer.select(".annotation-"+l.id+'[data-index="'+h+'"]').remove():(u._pdata=g(l.glplot.cameraParams,[c.xaxis.r2l(u.x)*C[0],c.yaxis.r2l(u.y)*C[1],c.zaxis.r2l(u.z)*C[2]]),o(l.graphDiv,u,h,l.id,u._xa,u._ya))}}},{"../../plots/gl3d/project":313,"../annotations/draw":91}],98:[function(m,de,te){"use strict";var o=m("../../registry"),g=m("../../lib");de.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:m("./attributes")}}},layoutAttributes:m("./attributes"),handleDefaults:m("./defaults"),includeBasePlot:function(p,l){var c=o.subplotsRegistry.gl3d;if(c)for(var C=c.attrRegex,d=Object.keys(p),h=0;h<d.length;h++){var u=d[h];C.test(u)&&(p[u].annotations||[]).length&&(g.pushUnique(l._basePlotModules,c),g.pushUnique(l._subplots.gl3d,u))}},convert:m("./convert"),draw:m("./draw")}},{"../../lib":232,"../../registry":318,"./attributes":94,"./convert":95,"./defaults":96,"./draw":97}],99:[function(m,de,te){"use strict";de.exports=m("world-calendars/dist/main"),m("world-calendars/dist/plus"),m("world-calendars/dist/calendars/chinese"),m("world-calendars/dist/calendars/coptic"),m("world-calendars/dist/calendars/discworld"),m("world-calendars/dist/calendars/ethiopian"),m("world-calendars/dist/calendars/hebrew"),m("world-calendars/dist/calendars/islamic"),m("world-calendars/dist/calendars/julian"),m("world-calendars/dist/calendars/mayan"),m("world-calendars/dist/calendars/nanakshahi"),m("world-calendars/dist/calendars/nepali"),m("world-calendars/dist/calendars/persian"),m("world-calendars/dist/calendars/taiwan"),m("world-calendars/dist/calendars/thai"),m("world-calendars/dist/calendars/ummalqura")},{"world-calendars/dist/calendars/chinese":68,"world-calendars/dist/calendars/coptic":69,"world-calendars/dist/calendars/discworld":70,"world-calendars/dist/calendars/ethiopian":71,"world-calendars/dist/calendars/hebrew":72,"world-calendars/dist/calendars/islamic":73,"world-calendars/dist/calendars/julian":74,"world-calendars/dist/calendars/mayan":75,"world-calendars/dist/calendars/nanakshahi":76,"world-calendars/dist/calendars/nepali":77,"world-calendars/dist/calendars/persian":78,"world-calendars/dist/calendars/taiwan":79,"world-calendars/dist/calendars/thai":80,"world-calendars/dist/calendars/ummalqura":81,"world-calendars/dist/main":82,"world-calendars/dist/plus":83}],100:[function(m,de,te){"use strict";var o=m("./calendars"),g=m("../../lib"),p=m("../../constants/numerical"),l=p.EPOCHJD,c=p.ONEDAY,C={valType:"enumerated",values:g.sortObjectKeys(o.calendars),editType:"calc",dflt:"gregorian"},d=function(D,S,P,H){var E={};return E[P]=C,g.coerce(D,S,E,P,H)},h={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:"##",w:"##",c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},u={};function _(D){return u[D]||(u[D]=o.instance(D))}function b(D){return g.extendFlat({},C,{description:D})}function M(D){return"Sets the calendar system to use with `"+D+"` date data."}var L={xcalendar:b(M("x"))},N=g.extendFlat({},L,{ycalendar:b(M("y"))}),z=g.extendFlat({},N,{zcalendar:b(M("z"))}),k=b(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));de.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:N,bar:N,box:N,heatmap:N,contour:N,histogram:N,histogram2d:N,histogram2dcontour:N,scatter3d:z,surface:z,mesh3d:z,scattergl:N,ohlc:L,candlestick:L},layout:{calendar:b(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:k},yaxis:{calendar:k},scene:{xaxis:{calendar:k},yaxis:{calendar:k},zaxis:{calendar:k}},polar:{radialaxis:{calendar:k}}},transforms:{filter:{valuecalendar:b(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:b(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:C,handleDefaults:d,handleTraceDefaults:function(D,S,P,H){for(var E=0;E<P.length;E++)d(D,S,P[E]+"calendar",H.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:_,worldCalFmt:function(D,S,P){for(var H,E,I,w,B,$=Math.floor((S+.05)/c)+l,T=_(P).fromJD($),Y=0;-1!==(Y=D.indexOf("%",Y));)"0"===(H=D.charAt(Y+1))||"-"===H||"_"===H?(I=3,E=D.charAt(Y+2),"_"===H&&(H="-")):(E=H,H="0",I=2),(w=h[E])?(B="##"===w?"##":T.formatDate(w[H]),D=D.substr(0,Y)+B+D.substr(Y+I),Y+=B.length):Y+=I;return D}}},{"../../constants/numerical":212,"../../lib":232,"./calendars":99}],101:[function(m,de,te){"use strict";te.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],te.defaultLine="#444",te.lightLine="#eee",te.background="#fff",te.borderLine="#BEC8D9",te.lightFraction=1e3/11},{}],102:[function(m,de,te){"use strict";var o=m("tinycolor2"),g=m("fast-isnumeric"),p=m("../../lib/array").isTypedArray,l=de.exports={},c=m("./attributes");l.defaults=c.defaults;var C=l.defaultLine=c.defaultLine;l.lightLine=c.lightLine;var d=l.background=c.background;function h(u){if(g(u)||"string"!=typeof u)return u;var _=u.trim();if("rgb"!==_.substr(0,3))return u;var b=_.match(/^rgba?\s*\(([^()]*)\)$/);if(!b)return u;var M=b[1].trim().split(/\s*[\s,]\s*/),L="a"===_.charAt(3)&&4===M.length;if(!L&&3!==M.length)return u;for(var N=0;N<M.length;N++){if(!(M[N].length&&(M[N]=Number(M[N]),M[N]>=0)))return u;if(3===N)M[N]>1&&(M[N]=1);else if(M[N]>=1)return u}var z=Math.round(255*M[0])+", "+Math.round(255*M[1])+", "+Math.round(255*M[2]);return L?"rgba("+z+", "+M[3]+")":"rgb("+z+")"}l.tinyRGB=function(u){var _=u.toRgb();return"rgb("+Math.round(_.r)+", "+Math.round(_.g)+", "+Math.round(_.b)+")"},l.rgb=function(u){return l.tinyRGB(o(u))},l.opacity=function(u){return u?o(u).getAlpha():0},l.addOpacity=function(u,_){var b=o(u).toRgb();return"rgba("+Math.round(b.r)+", "+Math.round(b.g)+", "+Math.round(b.b)+", "+_+")"},l.combine=function(u,_){var b=o(u).toRgb();if(1===b.a)return o(u).toRgbString();var M=o(_||d).toRgb(),L=1===M.a?M:{r:255*(1-M.a)+M.r*M.a,g:255*(1-M.a)+M.g*M.a,b:255*(1-M.a)+M.b*M.a};return o({r:L.r*(1-b.a)+b.r*b.a,g:L.g*(1-b.a)+b.g*b.a,b:L.b*(1-b.a)+b.b*b.a}).toRgbString()},l.contrast=function(u,_,b){var M=o(u);return 1!==M.getAlpha()&&(M=o(l.combine(u,d))),(M.isDark()?_?M.lighten(_):d:b?M.darken(b):C).toString()},l.stroke=function(u,_){var b=o(_);u.style({stroke:l.tinyRGB(b),"stroke-opacity":b.getAlpha()})},l.fill=function(u,_){var b=o(_);u.style({fill:l.tinyRGB(b),"fill-opacity":b.getAlpha()})},l.clean=function(u){if(u&&"object"==typeof u){var _,b,M,L,N=Object.keys(u);for(_=0;_<N.length;_++)if(L=u[M=N[_]],"color"===M.substr(M.length-5))if(Array.isArray(L))for(b=0;b<L.length;b++)L[b]=h(L[b]);else u[M]=h(L);else if("colorscale"===M.substr(M.length-10)&&Array.isArray(L))for(b=0;b<L.length;b++)Array.isArray(L[b])&&(L[b][1]=h(L[b][1]));else if(Array.isArray(L)){var z=L[0];if(!Array.isArray(z)&&z&&"object"==typeof z)for(b=0;b<L.length;b++)l.clean(L[b])}else L&&"object"==typeof L&&!p(L)&&l.clean(L)}}},{"../../lib/array":218,"./attributes":101,"fast-isnumeric":17,tinycolor2:67}],103:[function(m,de,te){"use strict";var o=m("../../plots/cartesian/layout_attributes"),g=m("../../plots/font_attributes"),p=m("../../lib/extend").extendFlat,l=m("../../plot_api/edit_types").overrideAll;de.exports=l({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:o.linecolor,outlinewidth:o.linewidth,bordercolor:o.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:o.tickmode,nticks:o.nticks,tick0:o.tick0,dtick:o.dtick,tickvals:o.tickvals,ticktext:o.ticktext,ticks:p({},o.ticks,{dflt:""}),ticklabeloverflow:p({},o.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:o.ticklen,tickwidth:o.tickwidth,tickcolor:o.tickcolor,ticklabelstep:o.ticklabelstep,showticklabels:o.showticklabels,tickfont:g({}),tickangle:o.tickangle,tickformat:o.tickformat,tickformatstops:o.tickformatstops,tickprefix:o.tickprefix,showtickprefix:o.showtickprefix,ticksuffix:o.ticksuffix,showticksuffix:o.showticksuffix,separatethousands:o.separatethousands,exponentformat:o.exponentformat,minexponent:o.minexponent,showexponent:o.showexponent,title:{text:{valType:"string"},font:g({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:g({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},{"../../lib/extend":226,"../../plot_api/edit_types":261,"../../plots/cartesian/layout_attributes":294,"../../plots/font_attributes":310}],104:[function(m,de,te){"use strict";de.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},{}],105:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("../../plot_api/plot_template"),p=m("../../plots/cartesian/tick_value_defaults"),l=m("../../plots/cartesian/tick_mark_defaults"),c=m("../../plots/cartesian/tick_label_defaults"),C=m("../../plots/cartesian/prefix_suffix_defaults"),d=m("./attributes");de.exports=function(h,u,_){var b=g.newContainer(u,"colorbar"),M=h.colorbar||{};function L($,T){return o.coerce(M,b,d,$,T)}var N=_.margin||{t:0,b:0,l:0,r:0},z=_.width-N.l-N.r,k=_.height-N.t-N.b,D="v"===L("orientation"),S=L("thicknessmode");L("thickness","fraction"===S?30/(D?z:k):30);var P=L("lenmode");L("len","fraction"===P?1:D?k:z),L("x",D?1.02:.5),L("xanchor",D?"left":"center"),L("xpad"),L("y",D?.5:1.02),L("yanchor",D?"middle":"bottom"),L("ypad"),o.noneOrAll(M,b,["x","y"]),L("outlinecolor"),L("outlinewidth"),L("bordercolor"),L("borderwidth"),L("bgcolor");var H=o.coerce(M,b,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:D?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");L("ticklabeloverflow",-1!==H.indexOf("inside")?"hide past domain":"hide past div"),p(M,b,L,"linear");var E=_.font,I={outerTicks:!1,font:E};-1!==H.indexOf("inside")&&(I.bgColor="black"),C(M,b,L,"linear",I),c(M,b,L,"linear",I),l(M,b,L,"linear",I),L("title.text",_._dfltTitle.colorbar);var w=b.tickfont,B=o.extendFlat({},w,{color:E.color,size:o.bigFont(w.size)});o.coerceFont(L,"title.font",B),L("title.side",D?"top":"right")}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/cartesian/prefix_suffix_defaults":298,"../../plots/cartesian/tick_label_defaults":303,"../../plots/cartesian/tick_mark_defaults":304,"../../plots/cartesian/tick_value_defaults":305,"./attributes":103}],106:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("tinycolor2"),p=m("../../plots/plots"),l=m("../../registry"),c=m("../../plots/cartesian/axes"),C=m("../dragelement"),d=m("../../lib"),h=d.strTranslate,u=m("../../lib/extend").extendFlat,_=m("../../lib/setcursor"),b=m("../drawing"),M=m("../color"),L=m("../titles"),N=m("../../lib/svg_text_utils"),z=m("../colorscale/helpers").flipScale,k=m("../../plots/cartesian/axis_defaults"),D=m("../../plots/cartesian/position_defaults"),S=m("../../plots/cartesian/layout_attributes"),P=m("../../constants/alignment"),H=P.LINE_SPACING,E=P.FROM_TL,I=P.FROM_BR,w=m("./constants").cn;de.exports={draw:function(B){var $=B._fullLayout._infolayer.selectAll("g."+w.colorbar).data(function(T){var Y,W,q,X,ee=T._fullLayout,ce=T.calcdata,me=[];function ae(ie){return u(ie,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function K(){"function"==typeof X.calc?X.calc(T,q,Y):(Y._fillgradient=W.reversescale?z(W.colorscale):W.colorscale,Y._zrange=[W[X.min],W[X.max]])}for(var le=0;le<ce.length;le++){var j=(q=ce[le][0].trace)._module.colorbar;if(!0===q.visible&&j)for(var oe=Array.isArray(j),re=oe?j:[j],F=0;F<re.length;F++){var O=(X=re[F]).container;(W=O?q[O]:q)&&W.showscale&&((Y=ae(W.colorbar))._id="cb"+q.uid+(oe&&O?"-"+O:""),Y._traceIndex=q.index,Y._propPrefix=(O?O+".":"")+"colorbar.",Y._meta=q._meta,K(),me.push(Y))}}for(var J in ee._colorAxes)if((W=ee[J]).showscale){var R=ee._colorAxes[J];(Y=ae(W.colorbar))._id="cb"+J,Y._propPrefix=J+".colorbar.",Y._meta=ee._meta,X={min:"cmin",max:"cmax"},"heatmap"!==R[0]&&(X.calc=(q=R[1])._module.colorbar.calc),K(),me.push(Y)}return me}(B),function(T){return T._id});$.enter().append("g").attr("class",function(T){return T._id}).classed(w.colorbar,!0),$.each(function(T){var Y=o.select(this);d.ensureSingle(Y,"rect",w.cbbg),d.ensureSingle(Y,"g",w.cbfills),d.ensureSingle(Y,"g",w.cblines),d.ensureSingle(Y,"g",w.cbaxis,function(q){q.classed(w.crisp,!0)}),d.ensureSingle(Y,"g",w.cbtitleunshift,function(q){q.append("g").classed(w.cbtitle,!0)}),d.ensureSingle(Y,"rect",w.cboutline);var q,X,ee,ce,me,ae,K,le,W=function(q,X,ee){var ce="v"===X.orientation,me=X.len,ae=X.lenmode,K=X.thickness,le=X.thicknessmode,G=X.outlinewidth,j=X.borderwidth,oe=X.bgcolor,re=X.xanchor,F=X.yanchor,O=X.xpad,J=X.ypad,R=X.x,ie=ce?X.y:1-X.y,fe=ee._fullLayout,ue=fe._size,he=X._fillcolor,Me=X._line,be=X.title,Ae=be.side,ze=X._zrange||o.extent(("function"==typeof he?he:Me.color).domain()),Pe="function"==typeof Me.color?Me.color:function(){return Me.color},Fe="function"==typeof he?he:function(){return he},t1=X._levels,Xe=function(K1,N1,ge){var ye,je,e1=N1._levels,d1=[],i1=[],l1=e1.end+e1.size/100,c1=e1.size,L1=1.001*ge[0]-.001*ge[1],H1=1.001*ge[1]-.001*ge[0];for(je=0;je<1e5&&(ye=e1.start+je*c1,!(c1>0?ye>=l1:ye<=l1));je++)ye>L1&&ye<H1&&d1.push(ye);if(N1._fillgradient)i1=[0];else if("function"==typeof N1._fillcolor){var B1=N1._filllevels;if(B1)for(l1=B1.end+B1.size/100,c1=B1.size,je=0;je<1e5&&(ye=B1.start+je*c1,!(c1>0?ye>=l1:ye<=l1));je++)ye>ge[0]&&ye<ge[1]&&i1.push(ye);else(i1=d1.map(function(r2){return r2-e1.size/2})).push(i1[i1.length-1]+e1.size)}else N1._fillcolor&&"string"==typeof N1._fillcolor&&(i1=[0]);return e1.size<0&&(d1.reverse(),i1.reverse()),{line:d1,fill:i1}}(0,X,ze),Ue=Xe.fill,xe=Xe.line,ve=Math.round(K*("fraction"===le?ce?ue.w:ue.h:1)),De=ve/(ce?ue.w:ue.h),Ve=Math.round(me*("fraction"===ae?ce?ue.h:ue.w:1)),Ye=Ve/(ce?ue.h:ue.w),Oe=Math.round(ce?R*ue.w+O:ie*ue.h+J),Ie={center:.5,right:1}[re]||0,Qe={top:1,middle:.5}[F]||0,n1=ce?R-Ie*De:ie-Qe*De,Ke=ce?ie-Qe*Ye:R-Ie*Ye,r1=Math.round(ce?ue.h*(1-Ke):ue.w*Ke);X._lenFrac=Ye,X._thickFrac=De,X._uFrac=n1,X._vFrac=Ke;var f1=X._axis=function(K1,N1,ge){var ye=K1._fullLayout,je="v"===N1.orientation,e1={type:"linear",range:ge,tickmode:N1.tickmode,nticks:N1.nticks,tick0:N1.tick0,dtick:N1.dtick,tickvals:N1.tickvals,ticktext:N1.ticktext,ticks:N1.ticks,ticklen:N1.ticklen,tickwidth:N1.tickwidth,tickcolor:N1.tickcolor,showticklabels:N1.showticklabels,ticklabelposition:N1.ticklabelposition,ticklabeloverflow:N1.ticklabeloverflow,ticklabelstep:N1.ticklabelstep,tickfont:N1.tickfont,tickangle:N1.tickangle,tickformat:N1.tickformat,exponentformat:N1.exponentformat,minexponent:N1.minexponent,separatethousands:N1.separatethousands,showexponent:N1.showexponent,showtickprefix:N1.showtickprefix,tickprefix:N1.tickprefix,showticksuffix:N1.showticksuffix,ticksuffix:N1.ticksuffix,title:N1.title,showline:!0,anchor:"free",side:je?"right":"bottom",position:1},d1=je?"y":"x",i1={type:"linear",_id:d1+N1._id},l1={letter:d1,font:ye.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:ye.calendar};function c1(L1,H1){return d.coerce(e1,i1,S,L1,H1)}return k(e1,i1,c1,l1,ye),D(e1,i1,c1,l1),i1}(ee,X,ze);f1.position=De+(ce?R+O/ue.w:ie+J/ue.h);var Je=-1!==["top","bottom"].indexOf(Ae);if(ce&&Je&&(f1.title.side=Ae,f1.titlex=R+O/ue.w,f1.titley=Ke+("top"===be.side?Ye-J/ue.h:J/ue.h)),ce||Je||(f1.title.side=Ae,f1.titley=ie+J/ue.h,f1.titlex=Ke+O/ue.w),Me.color&&"auto"===X.tickmode){f1.tickmode="linear",f1.tick0=t1.start;var g1=t1.size,b1=d.constrain(Ve/50,4,15)+1,_1=(ze[1]-ze[0])/((X.nticks||b1)*g1);if(_1>1){var I1=Math.pow(10,Math.floor(Math.log(_1)/Math.LN10));g1*=I1*d.roundUp(_1/I1,[2,5,10]),(Math.abs(t1.start)/t1.size+1e-6)%1<2e-6&&(f1.tick0=0)}f1.dtick=g1}f1.domain=ce?[Ke+J/ue.h,Ke+Ye-J/ue.h]:[Ke+O/ue.w,Ke+Ye-O/ue.w],f1.setScale(),q.attr("transform",h(Math.round(ue.l),Math.round(ue.t)));var M1,Re=q.select("."+w.cbtitleunshift).attr("transform",h(-Math.round(ue.l),-Math.round(ue.t))),Be=f1.ticklabelposition,C1=f1.title.font.size,O1=q.select("."+w.cbaxis),Q1=0,l2=0;function G1(K1,N1){var ge={propContainer:f1,propName:X._propPrefix+"title",traceIndex:X._traceIndex,_meta:X._meta,placeholder:fe._dfltTitle.colorbar,containerGroup:q.select("."+w.cbtitle)},ye="h"===K1.charAt(0)?K1.substr(1):"h"+K1;q.selectAll("."+ye+",."+ye+"-math-group").remove(),L.draw(ee,K1,u(ge,N1||{}))}return d.syncOrAsync([p.previousPromises,function(){var K1,N1;(ce&&Je||!ce&&!Je)&&("top"===Ae&&(K1=O+ue.l+ue.w*R,N1=J+ue.t+ue.h*(1-Ke-Ye)+3+.75*C1),"bottom"===Ae&&(K1=O+ue.l+ue.w*R,N1=J+ue.t+ue.h*(1-Ke)-3-.25*C1),"right"===Ae&&(N1=J+ue.t+ue.h*ie+3+.75*C1,K1=O+ue.l+ue.w*Ke),G1(f1._id+"title",{attributes:{x:K1,y:N1,"text-anchor":ce?"start":"middle"}}))},function(){if(!ce&&!Je||ce&&Je){var K1,N1=q.select("."+w.cbtitle),ge=N1.select("text"),ye=[-G/2,G/2],je=N1.select(".h"+f1._id+"title-math-group").node(),e1=15.6;if(ge.node()&&(e1=parseInt(ge.node().style.fontSize,10)*H),je?(K1=b.bBox(je),l2=K1.width,(Q1=K1.height)>e1&&(ye[1]-=(Q1-e1)/2)):ge.node()&&!ge.classed(w.jsPlaceholder)&&(K1=b.bBox(ge.node()),l2=K1.width,Q1=K1.height),ce){if(Q1){if(Q1+=5,"top"===Ae)f1.domain[1]-=Q1/ue.h,ye[1]*=-1;else{f1.domain[0]+=Q1/ue.h;var d1=N.lineCount(ge);ye[1]+=(1-d1)*e1}N1.attr("transform",h(ye[0],ye[1])),f1.setScale()}}else l2&&("right"===Ae&&(f1.domain[0]+=(l2+C1/2)/ue.w),N1.attr("transform",h(ye[0],ye[1])),f1.setScale())}q.selectAll("."+w.cbfills+",."+w.cblines).attr("transform",ce?h(0,Math.round(ue.h*(1-f1.domain[1]))):h(Math.round(ue.w*f1.domain[0]),0)),O1.attr("transform",ce?h(0,Math.round(-ue.t)):h(Math.round(-ue.l),0));var i1=q.select("."+w.cbfills).selectAll("rect."+w.cbfill).attr("style","").data(Ue);i1.enter().append("rect").classed(w.cbfill,!0).style("stroke","none"),i1.exit().remove();var l1=ze.map(f1.c2p).map(Math.round).sort(function(r2,V1){return r2-V1});i1.each(function(r2,V1){var q1=[0===V1?ze[0]:(Ue[V1]+Ue[V1-1])/2,V1===Ue.length-1?ze[1]:(Ue[V1]+Ue[V1+1])/2].map(f1.c2p).map(Math.round);ce&&(q1[1]=d.constrain(q1[1]+(q1[1]>q1[0])?1:-1,l1[0],l1[1]));var f2=o.select(this).attr(ce?"x":"y",Oe).attr(ce?"y":"x",o.min(q1)).attr(ce?"width":"height",Math.max(ve,2)).attr(ce?"height":"width",Math.max(o.max(q1)-o.min(q1),2));if(X._fillgradient)b.gradient(f2,ee,X._id,ce?"vertical":"horizontalreversed",X._fillgradient,"fill");else{var z1=Fe(r2).replace("e-","");f2.attr("fill",g(z1).toHexString())}});var c1=q.select("."+w.cblines).selectAll("path."+w.cbline).data(Me.color&&Me.width?xe:[]);c1.enter().append("path").classed(w.cbline,!0),c1.exit().remove(),c1.each(function(r2){var V1=Oe,q1=Math.round(f1.c2p(r2))+Me.width/2%1;o.select(this).attr("d","M"+(ce?V1+","+q1:q1+","+V1)+(ce?"h":"v")+ve).call(b.lineGroupStyle,Me.width,Pe(r2),Me.dash)}),O1.selectAll("g."+f1._id+"tick,path").remove();var L1=Oe+ve+(G||0)/2-("outside"===X.ticks?1:0),H1=c.calcTicks(f1),B1=c.getTickSigns(f1)[2];return c.drawTicks(ee,f1,{vals:"inside"===f1.ticks?c.clipEnds(f1,H1):H1,layer:O1,path:c.makeTickPath(f1,L1,B1),transFn:c.makeTransTickFn(f1)}),c.drawLabels(ee,f1,{vals:H1,layer:O1,transFn:c.makeTransTickLabelFn(f1),labelFns:c.makeLabelFns(f1,L1)})},function(){if(ce&&!Je||!ce&&Je){var K1,N1,ge=f1.position||0,ye=f1._offset+f1._length/2;if("right"===Ae)N1=ye,K1=ue.l+ue.w*ge+10+C1*(f1.showticklabels?1:.5);else if(K1=ye,"bottom"===Ae&&(N1=ue.t+ue.h*ge+10+(-1===Be.indexOf("inside")?f1.tickfont.size:0)+("intside"!==f1.ticks&&X.ticklen||0)),"top"===Ae){var je=be.text.split("<br>").length;N1=ue.t+ue.h*ge+10-ve-H*C1*je}G1((ce?"h":"v")+f1._id+"title",{avoid:{selection:o.select(ee).selectAll("g."+f1._id+"tick"),side:Ae,offsetTop:ce?0:ue.t,offsetLeft:ce?ue.l:0,maxShift:ce?fe.width:fe.height},attributes:{x:K1,y:N1,"text-anchor":"middle"},transform:{rotate:ce?-90:0,offset:0}})}},p.previousPromises,function(){var K1,N1=ve+G/2;-1===Be.indexOf("inside")&&(K1=b.bBox(O1.node()),N1+=ce?K1.width:K1.height),M1=Re.select("text");var ge=0,ye=ce&&"top"===Ae,je=!ce&&"right"===Ae,e1=0;if(M1.node()&&!M1.classed(w.jsPlaceholder)){var d1,i1=Re.select(".h"+f1._id+"title-math-group").node();i1&&(ce&&Je||!ce&&!Je)?(ge=(K1=b.bBox(i1)).width,d1=K1.height):(ge=(K1=b.bBox(Re.node())).right-ue.l-(ce?Oe:r1),d1=K1.bottom-ue.t-(ce?r1:Oe),ce||"top"!==Ae||(N1+=K1.height,e1=K1.height)),je&&(M1.attr("transform",h(ge/2+C1/2,0)),ge*=2),N1=Math.max(N1,ce?ge:d1)}var l1=2*(ce?O:J)+N1+j+G/2,c1=0;!ce&&be.text&&"bottom"===F&&ie<=0&&(l1+=c1=l1/2,e1+=c1),fe._hColorbarMoveTitle=c1,fe._hColorbarMoveCBTitle=e1;var L1=j+G;q.select("."+w.cbbg).attr("x",(ce?Oe:r1)-L1/2-(ce?O:0)).attr("y",(ce?r1:Oe)-(ce?Ve:J+e1-c1)).attr(ce?"width":"height",Math.max(l1-c1,2)).attr(ce?"height":"width",Math.max(Ve+L1,2)).call(M.fill,oe).call(M.stroke,X.bordercolor).style("stroke-width",j);var H1=je?Math.max(ge-10,0):0;if(q.selectAll("."+w.cboutline).attr("x",(ce?Oe:r1+O)+H1).attr("y",(ce?r1+J-Ve:Oe)+(ye?Q1:0)).attr(ce?"width":"height",Math.max(ve,2)).attr(ce?"height":"width",Math.max(Ve-(ce?2*J+Q1:2*O+H1),2)).call(M.stroke,X.outlinecolor).style({fill:"none","stroke-width":G}),q.attr("transform",h(ue.l-(ce?Ie*l1:0),ue.t-(ce?0:(1-Qe)*l1-e1))),!ce&&(j||g(oe).getAlpha()&&!g.equals(fe.paper_bgcolor,oe))){var B1=O1.selectAll("text"),r2=B1[0].length,V1=q.select("."+w.cbbg).node(),q1=b.bBox(V1),f2=b.getTranslate(q);B1.each(function(R1,L2){var y2=r2-1;if(0===L2||L2===y2){var w2,F2=b.bBox(this),O2=b.getTranslate(this);L2===y2?(w2=q1.right+f2.x+r1-j-2+R-(F2.right+O2.x))>0&&(w2=0):0===L2&&(w2=q1.left+f2.x+r1+j+2-(F2.left+O2.x))<0&&(w2=0),w2&&(r2<3?this.setAttribute("transform","translate("+w2+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var z1={},w1=E[re],a2=I[re],J1=E[F],U1=I[F],e2=l1-ve;ce?("pixels"===ae?(z1.y=ie,z1.t=Ve*J1,z1.b=Ve*U1):(z1.t=z1.b=0,z1.yt=ie+me*J1,z1.yb=ie-me*U1),"pixels"===le?(z1.x=R,z1.l=l1*w1,z1.r=l1*a2):(z1.l=e2*w1,z1.r=e2*a2,z1.xl=R-K*w1,z1.xr=R+K*a2)):("pixels"===ae?(z1.x=R,z1.l=Ve*w1,z1.r=Ve*a2):(z1.l=z1.r=0,z1.xl=R+me*w1,z1.xr=R-me*a2),"pixels"===le?(z1.y=1-ie,z1.t=l1*J1,z1.b=l1*U1):(z1.t=e2*J1,z1.b=e2*U1,z1.yt=ie-K*J1,z1.yb=ie+K*U1)),p.autoMargin(ee,X._id,z1)}],ee)}(Y,T,B);W&&W.then&&(B._promises||[]).push(W),B._context.edits.colorbarPosition&&(K="v"===(X=T).orientation,le=(ee=B)._fullLayout._size,C.init({element:(q=Y).node(),gd:ee,prepFn:function(){ce=q.attr("transform"),_(q)},moveFn:function(G,j){q.attr("transform",ce+h(G,j)),me=C.align((K?X._uFrac:X._vFrac)+G/le.w,K?X._thickFrac:X._lenFrac,0,1,X.xanchor),ae=C.align((K?X._vFrac:1-X._uFrac)-j/le.h,K?X._lenFrac:X._thickFrac,0,1,X.yanchor);var oe=C.getCursor(me,ae,X.xanchor,X.yanchor);_(q,oe)},doneFn:function(){if(_(q),void 0!==me&&void 0!==ae){var G={};G[X._propPrefix+"x"]=me,G[X._propPrefix+"y"]=ae,void 0!==X._traceIndex?l.call("_guiRestyle",ee,G,X._traceIndex):l.call("_guiRelayout",ee,G)}}}))}),$.exit().each(function(T){p.autoMargin(B,T._id)}).remove(),$.order()}}},{"../../constants/alignment":207,"../../lib":232,"../../lib/extend":226,"../../lib/setcursor":252,"../../lib/svg_text_utils":255,"../../plots/cartesian/axes":279,"../../plots/cartesian/axis_defaults":281,"../../plots/cartesian/layout_attributes":294,"../../plots/cartesian/position_defaults":297,"../../plots/plots":316,"../../registry":318,"../color":102,"../colorscale/helpers":113,"../dragelement":121,"../drawing":124,"../titles":200,"./constants":104,"@plotly/d3":11,tinycolor2:67}],107:[function(m,de,te){"use strict";var o=m("../../lib");de.exports=function(g){return o.isPlainObject(g.colorbar)}},{"../../lib":232}],108:[function(m,de,te){"use strict";de.exports={moduleType:"component",name:"colorbar",attributes:m("./attributes"),supplyDefaults:m("./defaults"),draw:m("./draw").draw,hasColorbar:m("./has_colorbar")}},{"./attributes":103,"./defaults":105,"./draw":106,"./has_colorbar":107}],109:[function(m,de,te){"use strict";var o=m("../colorbar/attributes"),g=m("../../lib/regex").counter,p=m("../../lib/sort_object_keys"),l=m("./scales.js").scales;function c(C){return"`"+C+"`"}p(l),de.exports=function(C,d){C=C||"";var h,u=(d=d||{}).cLetter||"c",_=("onlyIfNumerical"in d||Boolean(C),"noScale"in d?d.noScale:"marker.line"===C),b="showScaleDflt"in d?d.showScaleDflt:"z"===u,M="string"==typeof d.colorscaleDflt?l[d.colorscaleDflt]:null,L=d.editTypeOverride||"",N=C?C+".":"";"colorAttr"in d?h=d.colorAttr:c(N+(h={z:"z",c:"color"}[u]));var z=u+"auto",k=u+"min",D=u+"max",S=u+"mid",P=(c(N+z),c(N+k),c(N+D),{});P[k]=P[D]=void 0;var H={};H[z]=!1;var E={};return"color"===h&&(E.color={valType:"color",arrayOk:!0,editType:L||"style"},d.anim&&(E.color.anim=!0)),E[z]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:P},E[k]={valType:"number",dflt:null,editType:L||"plot",impliedEdits:H},E[D]={valType:"number",dflt:null,editType:L||"plot",impliedEdits:H},E[S]={valType:"number",dflt:null,editType:"calc",impliedEdits:P},E.colorscale={valType:"colorscale",editType:"calc",dflt:M,impliedEdits:{autocolorscale:!1}},E.autocolorscale={valType:"boolean",dflt:!1!==d.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},E.reversescale={valType:"boolean",dflt:!1,editType:"plot"},_||(E.showscale={valType:"boolean",dflt:b,editType:"calc"},E.colorbar=o),d.noColorAxis||(E.coloraxis={valType:"subplotid",regex:g("coloraxis"),dflt:null,editType:"calc"}),E}},{"../../lib/regex":248,"../../lib/sort_object_keys":253,"../colorbar/attributes":103,"./scales.js":117}],110:[function(m,de,te){"use strict";var o=m("fast-isnumeric"),g=m("../../lib"),p=m("./helpers").extractOpts;de.exports=function(l,c,C){var h=l._fullLayout,u=C.vals,_=C.containerStr,b=_?g.nestedProperty(c,_).get():c,M=p(b),L=!1!==M.auto,N=M.min,z=M.max,k=M.mid,D=function(){return g.aggNums(Math.min,null,u)},S=function(){return g.aggNums(Math.max,null,u)};void 0===N?N=D():L&&(N=b._colorAx&&o(N)?Math.min(N,D()):D()),void 0===z?z=S():L&&(z=b._colorAx&&o(z)?Math.max(z,S()):S()),L&&void 0!==k&&(z-k>k-N?N=k-(z-k):z-k<k-N&&(z=k+(k-N))),N===z&&(N-=.5,z+=.5),M._sync("min",N),M._sync("max",z),M.autocolorscale&&M._sync("colorscale",N*z<0?h.colorscale.diverging:N>=0?h.colorscale.sequential:h.colorscale.sequentialminus)}},{"../../lib":232,"./helpers":113,"fast-isnumeric":17}],111:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("./helpers").hasColorscale,p=m("./helpers").extractOpts;de.exports=function(l,c){function C(L,N){var z=L["_"+N];void 0!==z&&(L[N]=z)}function d(L,N){var z=N.container?o.nestedProperty(L,N.container).get():L;if(z)if(z.coloraxis)z._colorAx=c[z.coloraxis];else{var k=p(z),D=k.auto;(D||void 0===k.min)&&C(z,N.min),(D||void 0===k.max)&&C(z,N.max),k.autocolorscale&&C(z,"colorscale")}}for(var h=0;h<l.length;h++){var u=l[h],_=u._module.colorbar;if(_)if(Array.isArray(_))for(var b=0;b<_.length;b++)d(u,_[b]);else d(u,_);g(u,"marker.line")&&d(u,{container:"marker.line",min:"cmin",max:"cmax"})}for(var M in c._colorAxes)d(c[M],{min:"cmin",max:"cmax"})}},{"../../lib":232,"./helpers":113}],112:[function(m,de,te){"use strict";var o=m("fast-isnumeric"),g=m("../../lib"),p=m("../colorbar/has_colorbar"),l=m("../colorbar/defaults"),c=m("./scales").isValid,C=m("../../registry").traceIs;function d(h,u){var _=u.slice(0,u.length-1);return u?g.nestedProperty(h,_).get()||{}:h}de.exports=function h(u,_,b,M,L){var N=L.prefix,z=L.cLetter,k="_module"in _,D=d(u,N),S=d(_,N),P=d(_._template||{},N)||{},H=function(){return delete u.coloraxis,delete _.coloraxis,h(u,_,b,M,L)};if(k){var E=b._colorAxes||{},I=M(N+"coloraxis");if(I){var w=C(_,"contour")&&g.nestedProperty(_,"contours.coloring").get()||"heatmap",B=E[I];return void(B?(B[2].push(H),B[0]!==w&&(B[0]=!1,g.warn(["Ignoring coloraxis:",I,"setting","as it is linked to incompatible colorscales."].join(" ")))):E[I]=[w,_,[H]])}}var $=D[z+"min"],T=D[z+"max"],Y=o($)&&o(T)&&$<T;M(N+z+"auto",!Y)?M(N+z+"mid"):(M(N+z+"min"),M(N+z+"max"));var W,q,X=D.colorscale,ee=P.colorscale;void 0!==X&&(W=!c(X)),void 0!==ee&&(W=!c(ee)),M(N+"autocolorscale",W),M(N+"colorscale"),M(N+"reversescale"),"marker.line."!==N&&(N&&k&&(q=p(D)),M(N+"showscale",q)&&(N&&P&&(S._template=P),l(D,S,b)))}},{"../../lib":232,"../../registry":318,"../colorbar/defaults":105,"../colorbar/has_colorbar":107,"./scales":117,"fast-isnumeric":17}],113:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("tinycolor2"),p=m("fast-isnumeric"),l=m("../../lib"),c=m("../color"),C=m("./scales").isValid,d=["showscale","autocolorscale","colorscale","reversescale","colorbar"],h=["min","max","mid","auto"];function u(N){var z,k,D,S=N._colorAx,P=S||N,H={};for(k=0;k<d.length;k++)H[D=d[k]]=P[D];if(S)for(z="c",k=0;k<h.length;k++)H[D=h[k]]=P["c"+D];else{var E;for(k=0;k<h.length;k++)((E="c"+(D=h[k]))in P||(E="z"+D)in P)&&(H[D]=P[E]);z=E.charAt(0)}return H._sync=function(I,w){var B=-1!==h.indexOf(I)?z+I:I;P[B]=P["_"+B]=w},H}function _(N){for(var z=u(N),k=z.min,D=z.max,S=z.reversescale?b(z.colorscale):z.colorscale,P=S.length,H=new Array(P),E=new Array(P),I=0;I<P;I++){var w=S[I];H[I]=k+w[0]*(D-k),E[I]=w[1]}return{domain:H,range:E}}function b(N){for(var z=N.length,k=new Array(z),D=z-1,S=0;D>=0;D--,S++){var P=N[D];k[S]=[1-P[0],P[1]]}return k}function M(N,z){z=z||{};for(var k=N.domain,D=N.range,S=D.length,P=new Array(S),H=0;H<S;H++){var E=g(D[H]).toRgb();P[H]=[E.r,E.g,E.b,E.a]}var I,w=o.scale.linear().domain(k).range(P).clamp(!0),B=z.noNumericCheck,$=z.returnArray;return(I=B&&$?w:B?function(T){return L(w(T))}:$?function(T){return p(T)?w(T):g(T).isValid()?T:c.defaultLine}:function(T){return p(T)?L(w(T)):g(T).isValid()?T:c.defaultLine}).domain=w.domain,I.range=function(){return D},I}function L(N){return g({r:N[0],g:N[1],b:N[2],a:N[3]}).toRgbString()}de.exports={hasColorscale:function(N,z,k){var D=z?l.nestedProperty(N,z).get()||{}:N,S=D[k||"color"],P=!1;if(l.isArrayOrTypedArray(S))for(var H=0;H<S.length;H++)if(p(S[H])){P=!0;break}return l.isPlainObject(D)&&(P||!0===D.showscale||p(D.cmin)&&p(D.cmax)||C(D.colorscale)||l.isPlainObject(D.colorbar))},extractOpts:u,extractScale:_,flipScale:b,makeColorScaleFunc:M,makeColorScaleFuncFromTrace:function(N,z){return M(_(N),z)}}},{"../../lib":232,"../color":102,"./scales":117,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:67}],114:[function(m,de,te){"use strict";var o=m("./scales"),g=m("./helpers");de.exports={moduleType:"component",name:"colorscale",attributes:m("./attributes"),layoutAttributes:m("./layout_attributes"),supplyLayoutDefaults:m("./layout_defaults"),handleDefaults:m("./defaults"),crossTraceDefaults:m("./cross_trace_defaults"),calc:m("./calc"),scales:o.scales,defaultScale:o.defaultScale,getScale:o.get,isValidScale:o.isValid,hasColorscale:g.hasColorscale,extractOpts:g.extractOpts,extractScale:g.extractScale,flipScale:g.flipScale,makeColorScaleFunc:g.makeColorScaleFunc,makeColorScaleFuncFromTrace:g.makeColorScaleFuncFromTrace}},{"./attributes":109,"./calc":110,"./cross_trace_defaults":111,"./defaults":112,"./helpers":113,"./layout_attributes":115,"./layout_defaults":116,"./scales":117}],115:[function(m,de,te){"use strict";var o=m("../../lib/extend").extendFlat,g=m("./attributes"),p=m("./scales").scales;de.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:p.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:p.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:p.RdBu,editType:"calc"}},coloraxis:o({_isSubplotObj:!0,editType:"calc"},g("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},{"../../lib/extend":226,"./attributes":109,"./scales":117}],116:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("../../plot_api/plot_template"),p=m("./layout_attributes"),l=m("./defaults");de.exports=function(c,C){function d(z,k){return o.coerce(c,C,p,z,k)}d("colorscale.sequential"),d("colorscale.sequentialminus"),d("colorscale.diverging");var h,u,_=C._colorAxes;function b(z,k){return o.coerce(h,u,p.coloraxis,z,k)}for(var M in _){var L=_[M];if(L[0])h=c[M]||{},(u=g.newContainer(C,M,"coloraxis"))._name=M,l(h,u,C,b,{prefix:"",cLetter:"c"});else{for(var N=0;N<L[2].length;N++)L[2][N]();delete C._colorAxes[M]}}}},{"../../lib":232,"../../plot_api/plot_template":268,"./defaults":112,"./layout_attributes":115}],117:[function(m,de,te){"use strict";var o=m("tinycolor2"),g={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},p=g.RdBu;function l(c){var C=0;if(!Array.isArray(c)||c.length<2||!c[0]||!c[c.length-1]||0!=+c[0][0]||1!=+c[c.length-1][0])return!1;for(var d=0;d<c.length;d++){var h=c[d];if(2!==h.length||+h[0]<C||!o(h[1]).isValid())return!1;C=+h[0]}return!0}de.exports={scales:g,defaultScale:p,get:function(c,C){if(C||(C=p),!c)return C;function d(){try{c=g[c]||JSON.parse(c)}catch(h){c=C}}return"string"==typeof c&&(d(),"string"==typeof c&&d()),l(c)?c:C},isValid:function(c){return void 0!==g[c]||l(c)}}},{tinycolor2:67}],118:[function(m,de,te){"use strict";de.exports=function(o,g,p,l,c){var C=(o-p)/(l-p),d=C+g/(l-p),h=(C+d)/2;return"left"===c||"bottom"===c?C:"center"===c||"middle"===c?h:"right"===c||"top"===c?d:C<2/3-h?C:d>4/3-h?d:h}},{}],119:[function(m,de,te){"use strict";var o=m("../../lib"),g=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];de.exports=function(p,l,c,C){return p="left"===c?0:"center"===c?1:"right"===c?2:o.constrain(Math.floor(3*p),0,2),l="bottom"===C?0:"middle"===C?1:"top"===C?2:o.constrain(Math.floor(3*l),0,2),g[l][p]}},{"../../lib":232}],120:[function(m,de,te){"use strict";te.selectMode=function(o){return"lasso"===o||"select"===o},te.drawMode=function(o){return"drawclosedpath"===o||"drawopenpath"===o||"drawline"===o||"drawrect"===o||"drawcircle"===o},te.openMode=function(o){return"drawline"===o||"drawopenpath"===o},te.rectMode=function(o){return"select"===o||"drawline"===o||"drawrect"===o||"drawcircle"===o},te.freeMode=function(o){return"lasso"===o||"drawclosedpath"===o||"drawopenpath"===o},te.selectingOrDrawing=function(o){return te.freeMode(o)||te.rectMode(o)}},{}],121:[function(m,de,te){"use strict";var o=m("mouse-event-offset"),g=m("has-hover"),p=m("has-passive-events"),l=m("../../lib").removeElement,c=m("../../plots/cartesian/constants"),C=de.exports={};C.align=m("./align"),C.getCursor=m("./cursor");var d=m("./unhover");function h(){var _=document.createElement("div");_.className="dragcover";var b=_.style;return b.position="fixed",b.left=0,b.right=0,b.top=0,b.bottom=0,b.zIndex=999999999,b.background="none",document.body.appendChild(_),_}function u(_){return o(_.changedTouches?_.changedTouches[0]:_,document.body)}C.unhover=d.wrapped,C.unhoverRaw=d.raw,C.init=function(_){var b,M,L,N,z,k,D,S,P=_.gd,H=1,E=P._context.doubleClickDelay,I=_.element;P._mouseDownTime||(P._mouseDownTime=0),I.style.pointerEvents="all",I.onmousedown=B,p?(I._ontouchstart&&I.removeEventListener("touchstart",I._ontouchstart),I._ontouchstart=B,I.addEventListener("touchstart",B,{passive:!1})):I.ontouchstart=B;var w=_.clampFn||function(Y,W,q){return Math.abs(Y)<q&&(Y=0),Math.abs(W)<q&&(W=0),[Y,W]};function B(Y){P._dragged=!1,P._dragging=!0;var W=u(Y);b=W[0],M=W[1],D=Y.target,k=Y,S=2===Y.buttons||Y.ctrlKey,void 0===Y.clientX&&void 0===Y.clientY&&(Y.clientX=b,Y.clientY=M),(L=(new Date).getTime())-P._mouseDownTime<E?H+=1:(H=1,P._mouseDownTime=L),_.prepFn&&_.prepFn(Y,b,M),g&&!S?(z=h()).style.cursor=window.getComputedStyle(I).cursor:g||(z=document,N=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(I).cursor),document.addEventListener("mouseup",T),document.addEventListener("touchend",T),!1!==_.dragmode&&(Y.preventDefault(),document.addEventListener("mousemove",$),document.addEventListener("touchmove",$,{passive:!1}))}function $(Y){Y.preventDefault();var W=u(Y),X=w(W[0]-b,W[1]-M,_.minDrag||c.MINDRAG),ee=X[0],ce=X[1];(ee||ce)&&(P._dragged=!0,C.unhover(P,Y)),P._dragged&&_.moveFn&&!S&&(P._dragdata={element:I,dx:ee,dy:ce},_.moveFn(ee,ce))}function T(Y){if(delete P._dragdata,!1!==_.dragmode&&(Y.preventDefault(),document.removeEventListener("mousemove",$),document.removeEventListener("touchmove",$)),document.removeEventListener("mouseup",T),document.removeEventListener("touchend",T),g?l(z):N&&(z.documentElement.style.cursor=N,N=null),P._dragging){if(P._dragging=!1,(new Date).getTime()-P._mouseDownTime>E&&(H=Math.max(H-1,1)),P._dragged)_.doneFn&&_.doneFn();else if(_.clickFn&&_.clickFn(H,k),!S){var W;try{W=new MouseEvent("click",Y)}catch(X){var q=u(Y);(W=document.createEvent("MouseEvents")).initMouseEvent("click",Y.bubbles,Y.cancelable,Y.view,Y.detail,Y.screenX,Y.screenY,q[0],q[1],Y.ctrlKey,Y.altKey,Y.shiftKey,Y.metaKey,Y.button,Y.relatedTarget)}D.dispatchEvent(W)}P._dragging=!1,P._dragged=!1}else P._dragged=!1}},C.coverSlip=h},{"../../lib":232,"../../plots/cartesian/constants":286,"./align":118,"./cursor":119,"./unhover":122,"has-hover":48,"has-passive-events":49,"mouse-event-offset":53}],122:[function(m,de,te){"use strict";var o=m("../../lib/events"),g=m("../../lib/throttle"),p=m("../../lib/dom").getGraphDiv,l=m("../fx/constants"),c=de.exports={};c.wrapped=function(C,d,h){(C=p(C))._fullLayout&&g.clear(C._fullLayout._uid+l.HOVERID),c.raw(C,d,h)},c.raw=function(C,d){var h=C._fullLayout,u=C._hoverdata;d||(d={}),d.target&&!C._dragged&&!1===o.triggerHandler(C,"plotly_beforehover",d)||(h._hoverlayer.selectAll("g").remove(),h._hoverlayer.selectAll("line").remove(),h._hoverlayer.selectAll("circle").remove(),C._hoverdata=void 0,d.target&&u&&C.emit("plotly_unhover",{event:d,points:u}))}},{"../../lib/dom":224,"../../lib/events":225,"../../lib/throttle":256,"../fx/constants":136}],123:[function(m,de,te){"use strict";te.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},te.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},{}],124:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("../../lib"),p=g.numberFormat,l=m("fast-isnumeric"),c=m("tinycolor2"),C=m("../../registry"),d=m("../color"),h=m("../colorscale"),u=g.strTranslate,_=m("../../lib/svg_text_utils"),b=m("../../constants/xmlns_namespaces"),M=m("../../constants/alignment").LINE_SPACING,L=m("../../constants/interactions").DESELECTDIM,N=m("../../traces/scatter/subtypes"),z=m("../../traces/scatter/make_bubble_size_func"),k=m("../../components/fx/helpers").appendArrayPointValue,D=de.exports={};function S(G,j,oe){var re=j.fillpattern,F=re&&D.getPatternAttr(re.shape,0,"");if(F){var O=D.getPatternAttr(re.bgcolor,0,null),J=D.getPatternAttr(re.fgcolor,0,null),R=re.fgopacity,ie=D.getPatternAttr(re.size,0,8),fe=D.getPatternAttr(re.solidity,0,.3);D.pattern(G,"point",oe,j.uid,F,ie,fe,void 0,re.fillmode,O,J,R)}else j.fillcolor&&G.call(d.fill,j.fillcolor)}D.font=function(G,j,oe,re){g.isPlainObject(j)&&(re=j.color,oe=j.size,j=j.family),j&&G.style("font-family",j),oe+1&&G.style("font-size",oe+"px"),re&&G.call(d.fill,re)},D.setPosition=function(G,j,oe){G.attr("x",j).attr("y",oe)},D.setSize=function(G,j,oe){G.attr("width",j).attr("height",oe)},D.setRect=function(G,j,oe,re,F){G.call(D.setPosition,j,oe).call(D.setSize,re,F)},D.translatePoint=function(G,j,oe,re){var F=oe.c2p(G.x),O=re.c2p(G.y);return!!(l(F)&&l(O)&&j.node())&&("text"===j.node().nodeName?j.attr("x",F).attr("y",O):j.attr("transform",u(F,O)),!0)},D.translatePoints=function(G,j,oe){G.each(function(re){var F=o.select(this);D.translatePoint(re,F,j,oe)})},D.hideOutsideRangePoint=function(G,j,oe,re,F,O){j.attr("display",oe.isPtWithinRange(G,F)&&re.isPtWithinRange(G,O)?null:"none")},D.hideOutsideRangePoints=function(G,j){if(j._hasClipOnAxisFalse){var oe=j.xaxis,re=j.yaxis;G.each(function(F){var O=F[0].trace,J=O.xcalendar,R=O.ycalendar,ie=C.traceIs(O,"bar-like")?".bartext":".point,.textpoint";G.selectAll(ie).each(function(fe){D.hideOutsideRangePoint(fe,o.select(this),oe,re,J,R)})})}},D.crispRound=function(G,j,oe){return j&&l(j)?G._context.staticPlot?j:j<1?1:Math.round(j):oe||0},D.singleLineStyle=function(G,j,oe,re,F){j.style("fill","none");var O=(((G||[])[0]||{}).trace||{}).line||{},J=oe||O.width||0,R=F||O.dash||"";d.stroke(j,re||O.color),D.dashLine(j,R,J)},D.lineGroupStyle=function(G,j,oe,re){G.style("fill","none").each(function(F){var O=(((F||[])[0]||{}).trace||{}).line||{},J=j||O.width||0,R=re||O.dash||"";o.select(this).call(d.stroke,oe||O.color).call(D.dashLine,R,J)})},D.dashLine=function(G,j,oe){j=D.dashStyle(j,oe=+oe||0),G.style({"stroke-dasharray":j,"stroke-width":oe+"px"})},D.dashStyle=function(G,j){j=+j||1;var oe=Math.max(j,3);return"solid"===G?G="":"dot"===G?G=oe+"px,"+oe+"px":"dash"===G?G=3*oe+"px,"+3*oe+"px":"longdash"===G?G=5*oe+"px,"+5*oe+"px":"dashdot"===G?G=3*oe+"px,"+oe+"px,"+oe+"px,"+oe+"px":"longdashdot"===G&&(G=5*oe+"px,"+2*oe+"px,"+oe+"px,"+2*oe+"px"),G},D.singleFillStyle=function(G,j){var oe=o.select(G.node());S(G,((oe.data()[0]||[])[0]||{}).trace||{},j)},D.fillGroupStyle=function(G,j){G.style("stroke-width",0).each(function(oe){var re=o.select(this);oe[0].trace&&S(re,oe[0].trace,j)})};var P=m("./symbol_defs");D.symbolNames=[],D.symbolFuncs=[],D.symbolNeedLines={},D.symbolNoDot={},D.symbolNoFill={},D.symbolList=[],Object.keys(P).forEach(function(G){var j=P[G],oe=j.n;D.symbolList.push(oe,String(oe),G,oe+100,String(oe+100),G+"-open"),D.symbolNames[oe]=G,D.symbolFuncs[oe]=j.f,j.needLine&&(D.symbolNeedLines[oe]=!0),j.noDot?D.symbolNoDot[oe]=!0:D.symbolList.push(oe+200,String(oe+200),G+"-dot",oe+300,String(oe+300),G+"-open-dot"),j.noFill&&(D.symbolNoFill[oe]=!0)});var H=D.symbolNames.length;function E(G,j){return D.symbolFuncs[G%100](j)+(G>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}D.symbolNumber=function(G){if(l(G))G=+G;else if("string"==typeof G){var j=0;G.indexOf("-open")>0&&(j=100,G=G.replace("-open","")),G.indexOf("-dot")>0&&(j+=200,G=G.replace("-dot","")),(G=D.symbolNames.indexOf(G))>=0&&(G+=j)}return G%100>=H||G>=400?0:Math.floor(Math.max(G,0))};var I={x1:1,x2:0,y1:0,y2:0},w={x1:0,x2:0,y1:1,y2:0},B=p("~f"),$={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:I},horizontalreversed:{node:"linearGradient",attrs:I,reversed:!0},vertical:{node:"linearGradient",attrs:w},verticalreversed:{node:"linearGradient",attrs:w,reversed:!0}};D.gradient=function(G,j,oe,re,F,O){for(var J=F.length,R=$[re],ie=new Array(J),fe=0;fe<J;fe++)R.reversed?ie[J-1-fe]=[B(100*(1-F[fe][0])),F[fe][1]]:ie[fe]=[B(100*F[fe][0]),F[fe][1]];var ue=j._fullLayout,he="g"+ue._uid+"-"+oe,Me=ue._defs.select(".gradients").selectAll("#"+he).data([re+ie.join(";")],g.identity);Me.exit().remove(),Me.enter().append(R.node).each(function(){var be=o.select(this);R.attrs&&be.attr(R.attrs),be.attr("id",he);var Ae=be.selectAll("stop").data(ie);Ae.exit().remove(),Ae.enter().append("stop"),Ae.each(function(ze){var Pe=c(ze[1]);o.select(this).attr({offset:ze[0]+"%","stop-color":d.tinyRGB(Pe),"stop-opacity":Pe.getAlpha()})})}),G.style(O,ae(he,j)).style(O+"-opacity",null),G.classed("gradient_filled",!0)},D.pattern=function(G,j,oe,re,F,O,J,R,ie,fe,ue,he){var Me="legend"===j;R&&("overlay"===ie?ue=d.contrast(fe=R):(fe=void 0,ue=R));var be,Ae,ze,Pe,Fe,t1,Xe,Ue,ve,Ve=oe._fullLayout,Ye="p"+Ve._uid+"-"+re,Oe={};switch(F){case"/":be=O*Math.sqrt(2),Ae=O*Math.sqrt(2),t1="path",Oe={d:ze="M-"+be/4+","+Ae/4+"l"+be/2+",-"+Ae/2+"M0,"+Ae+"L"+be+",0M"+be/4*3+","+Ae/4*5+"l"+be/2+",-"+Ae/2,opacity:he,stroke:ue,"stroke-width":(Pe=J*O)+"px"};break;case"\\":be=O*Math.sqrt(2),Ae=O*Math.sqrt(2),t1="path",Oe={d:ze="M"+be/4*3+",-"+Ae/4+"l"+be/2+","+Ae/2+"M0,0L"+be+","+Ae+"M-"+be/4+","+Ae/4*3+"l"+be/2+","+Ae/2,opacity:he,stroke:ue,"stroke-width":(Pe=J*O)+"px"};break;case"x":be=O*Math.sqrt(2),Ae=O*Math.sqrt(2),ze="M-"+be/4+","+Ae/4+"l"+be/2+",-"+Ae/2+"M0,"+Ae+"L"+be+",0M"+be/4*3+","+Ae/4*5+"l"+be/2+",-"+Ae/2+"M"+be/4*3+",-"+Ae/4+"l"+be/2+","+Ae/2+"M0,0L"+be+","+Ae+"M-"+be/4+","+Ae/4*3+"l"+be/2+","+Ae/2,Pe=O-O*Math.sqrt(1-J),t1="path",Oe={d:ze,opacity:he,stroke:ue,"stroke-width":Pe+"px"};break;case"|":t1="path",t1="path",Oe={d:ze="M"+(be=O)/2+",0L"+be/2+","+(Ae=O),opacity:he,stroke:ue,"stroke-width":(Pe=J*O)+"px"};break;case"-":t1="path",t1="path",Oe={d:ze="M0,"+(Ae=O)/2+"L"+(be=O)+","+Ae/2,opacity:he,stroke:ue,"stroke-width":(Pe=J*O)+"px"};break;case"+":t1="path",ze="M"+(be=O)/2+",0L"+be/2+","+(Ae=O)+"M0,"+Ae/2+"L"+be+","+Ae/2,Pe=O-O*Math.sqrt(1-J),t1="path",Oe={d:ze,opacity:he,stroke:ue,"stroke-width":Pe+"px"};break;case".":be=O,Ae=O,J<Math.PI/4?Fe=Math.sqrt(J*O*O/Math.PI):(Xe=J,Ue=Math.PI/4,1,Fe=(ve=O/2)+(O/Math.sqrt(2)-ve)*(Xe-Ue)/(1-Ue)),t1="circle",Oe={cx:be/2,cy:Ae/2,r:Fe,opacity:he,fill:ue}}var Ie=[F||"noSh",fe||"noBg",ue||"noFg",O,J].join(";"),Qe=Ve._defs.select(".patterns").selectAll("#"+Ye).data([Ie],g.identity);Qe.exit().remove(),Qe.enter().append("pattern").each(function(){var n1=o.select(this);if(n1.attr({id:Ye,width:be+"px",height:Ae+"px",patternUnits:"userSpaceOnUse",patternTransform:Me?"scale(0.8)":""}),fe){var Ke=n1.selectAll("rect").data([0]);Ke.exit().remove(),Ke.enter().append("rect").attr({width:be+"px",height:Ae+"px",fill:fe})}var r1=n1.selectAll(t1).data([0]);r1.exit().remove(),r1.enter().append(t1).attr(Oe)}),G.style("fill",ae(Ye,oe)).style("fill-opacity",null),G.classed("pattern_filled",!0)},D.initGradients=function(G){g.ensureSingle(G._fullLayout._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),o.select(G).selectAll(".gradient_filled").classed("gradient_filled",!1)},D.initPatterns=function(G){g.ensureSingle(G._fullLayout._defs,"g","patterns").selectAll("pattern").remove(),o.select(G).selectAll(".pattern_filled").classed("pattern_filled",!1)},D.getPatternAttr=function(G,j,oe){return G&&g.isArrayOrTypedArray(G)?j<G.length?G[j]:oe:G},D.pointStyle=function(G,j,oe){if(G.size()){var re=D.makePointStyleFns(j);G.each(function(F){D.singlePointStyle(F,o.select(this),j,re,oe)})}},D.singlePointStyle=function(G,j,oe,re,F){var O=oe.marker,J=O.line;if(j.style("opacity",re.selectedOpacityFn?re.selectedOpacityFn(G):void 0===G.mo?O.opacity:G.mo),re.ms2mrc){var R;R="various"===G.ms||"various"===O.size?3:re.ms2mrc(G.ms),G.mrc=R,re.selectedSizeFn&&(R=G.mrc=re.selectedSizeFn(G));var ie=D.symbolNumber(G.mx||O.symbol)||0;G.om=ie%200>=100,j.attr("d",E(ie,R))}var fe,ue,he,Me=!1;if(G.so?(he=J.outlierwidth,ue=J.outliercolor,fe=O.outliercolor):(he=(G.mlw+1||(J||{}).width+1||(G.trace?(G.trace.marker.line||{}).width:0)+1)-1||0,ue="mlc"in G?G.mlcc=re.lineScale(G.mlc):g.isArrayOrTypedArray(J.color)?d.defaultLine:J.color,g.isArrayOrTypedArray(O.color)&&(fe=d.defaultLine,Me=!0),fe="mc"in G?G.mcc=re.markerScale(G.mc):O.color||"rgba(0,0,0,0)",re.selectedColorFn&&(fe=re.selectedColorFn(G))),G.om)j.call(d.stroke,fe).style({"stroke-width":(he||1)+"px",fill:"none"});else{j.style("stroke-width",(G.isBlank?0:he)+"px");var Ae=O.gradient,ze=G.mgt;ze?Me=!0:ze=Ae&&Ae.type,g.isArrayOrTypedArray(ze)&&($[ze=ze[0]]||(ze=0));var Pe=O.pattern,Fe=Pe&&D.getPatternAttr(Pe.shape,G.i,"");if(ze&&"none"!==ze){var t1=G.mgc;t1?Me=!0:t1=Ae.color;var Xe=oe.uid;Me&&(Xe+="-"+G.i),D.gradient(j,F,Xe,ze,[[0,t1],[1,fe]],"fill")}else if(Fe){var Ue=D.getPatternAttr(Pe.bgcolor,G.i,null),xe=D.getPatternAttr(Pe.fgcolor,G.i,null),ve=Pe.fgopacity,De=D.getPatternAttr(Pe.size,G.i,8),Ve=D.getPatternAttr(Pe.solidity,G.i,.3),Ye=G.mcc||g.isArrayOrTypedArray(Pe.shape)||g.isArrayOrTypedArray(Pe.bgcolor)||g.isArrayOrTypedArray(Pe.size)||g.isArrayOrTypedArray(Pe.solidity),Oe=oe.uid;Ye&&(Oe+="-"+G.i),D.pattern(j,"point",F,Oe,Fe,De,Ve,G.mcc,Pe.fillmode,Ue,xe,ve)}else d.fill(j,fe);he&&d.stroke(j,ue)}},D.makePointStyleFns=function(G){var j={},oe=G.marker;return j.markerScale=D.tryColorscale(oe,""),j.lineScale=D.tryColorscale(oe,"line"),C.traceIs(G,"symbols")&&(j.ms2mrc=N.isBubble(G)?z(G):function(){return(oe.size||6)/2}),G.selectedpoints&&g.extendFlat(j,D.makeSelectedPointStyleFns(G)),j},D.makeSelectedPointStyleFns=function(G){var j={},F=G.marker||{},O=(G.selected||{}).marker||{},J=(G.unselected||{}).marker||{},ie=O.opacity,fe=J.opacity,ue=void 0!==ie,he=void 0!==fe;(g.isArrayOrTypedArray(F.opacity)||ue||he)&&(j.selectedOpacityFn=function(Ue){var xe=void 0===Ue.mo?F.opacity:Ue.mo;return Ue.selected?ue?ie:xe:he?fe:L*xe});var Me=F.color,be=O.color,Ae=J.color;(be||Ae)&&(j.selectedColorFn=function(Ue){var xe=Ue.mcc||Me;return Ue.selected?be||xe:Ae||xe});var ze=F.size,Pe=O.size,Fe=J.size,t1=void 0!==Pe,Xe=void 0!==Fe;return C.traceIs(G,"symbols")&&(t1||Xe)&&(j.selectedSizeFn=function(Ue){var xe=Ue.mrc||ze/2;return Ue.selected?t1?Pe/2:xe:Xe?Fe/2:xe}),j},D.makeSelectedTextStyleFns=function(G){var j={},R=(G.textfont||{}).color,ie=((G.selected||{}).textfont||{}).color,fe=((G.unselected||{}).textfont||{}).color;return j.selectedTextColorFn=function(ue){var he=ue.tc||R;return ue.selected?ie||he:fe||(ie?he:d.addOpacity(he,L))},j},D.selectedPointStyle=function(G,j){if(G.size()&&j.selectedpoints){var oe=D.makeSelectedPointStyleFns(j),re=j.marker||{},F=[];oe.selectedOpacityFn&&F.push(function(O,J){O.style("opacity",oe.selectedOpacityFn(J))}),oe.selectedColorFn&&F.push(function(O,J){d.fill(O,oe.selectedColorFn(J))}),oe.selectedSizeFn&&F.push(function(O,J){var R=J.mx||re.symbol||0,ie=oe.selectedSizeFn(J);O.attr("d",E(D.symbolNumber(R),ie)),J.mrc2=ie}),F.length&&G.each(function(O){for(var J=o.select(this),R=0;R<F.length;R++)F[R](J,O)})}},D.tryColorscale=function(G,j){var oe=j?g.nestedProperty(G,j).get():G;return oe&&(oe.colorscale||oe._colorAx)&&g.isArrayOrTypedArray(oe.color)?h.makeColorScaleFuncFromTrace(oe):g.identity};var T={start:1,end:-1,middle:0,bottom:1,top:-1};function Y(G,j,oe,re,F){var O=o.select(G.node().parentNode),J=-1!==j.indexOf("top")?"top":-1!==j.indexOf("bottom")?"bottom":"middle",R=-1!==j.indexOf("left")?"end":-1!==j.indexOf("right")?"start":"middle",ie=re?re/.8+1:0,fe=(_.lineCount(G)-1)*M+1,ue=T[R]*ie,he=.75*oe+T[J]*ie+(T[J]-1)*fe*oe/2;G.attr("text-anchor",R),F||O.attr("transform",u(ue,he))}function W(G,j){var oe=G.ts||j.textfont.size;return l(oe)&&oe>0?oe:0}function q(G,j,oe,re){var F=G[0]-j[0],O=G[1]-j[1],J=oe[0]-j[0],R=oe[1]-j[1],ie=Math.pow(F*F+O*O,.25),fe=Math.pow(J*J+R*R,.25),ue=(fe*fe*F-ie*ie*J)*re,he=(fe*fe*O-ie*ie*R)*re,Me=3*fe*(ie+fe),be=3*ie*(ie+fe);return[[o.round(j[0]+(Me&&ue/Me),2),o.round(j[1]+(Me&&he/Me),2)],[o.round(j[0]-(be&&ue/be),2),o.round(j[1]-(be&&he/be),2)]]}D.textPointStyle=function(G,j,oe){if(G.size()){var re;if(j.selectedpoints){var F=D.makeSelectedTextStyleFns(j);re=F.selectedTextColorFn}var O=j.texttemplate,J=oe._fullLayout;G.each(function(R){var ie=o.select(this),fe=O?g.extractOption(R,j,"txt","texttemplate"):g.extractOption(R,j,"tx","text");if(fe||0===fe){if(O){var ue=j._module.formatLabels,he=ue?ue(R,j,J):{},Me={};k(Me,j,R.i),fe=g.texttemplateString(fe,he,J._d3locale,Me,R,j._meta||{})}var Ae=R.tp||j.textposition,ze=W(R,j),Pe=re?re(R):R.tc||j.textfont.color;ie.call(D.font,R.tf||j.textfont.family,ze,Pe).text(fe).call(_.convertToTspans,oe).call(Y,Ae,ze,R.mrc)}else ie.remove()})}},D.selectedTextStyle=function(G,j){if(G.size()&&j.selectedpoints){var oe=D.makeSelectedTextStyleFns(j);G.each(function(re){var F=o.select(this),O=oe.selectedTextColorFn(re),J=re.tp||j.textposition,R=W(re,j);d.fill(F,O);var ie=C.traceIs(j,"bar-like");Y(F,J,R,re.mrc2||re.mrc,ie)})}},D.smoothopen=function(G,j){if(G.length<3)return"M"+G.join("L");var oe,re="M"+G[0],F=[];for(oe=1;oe<G.length-1;oe++)F.push(q(G[oe-1],G[oe],G[oe+1],j));for(re+="Q"+F[0][0]+" "+G[1],oe=2;oe<G.length-1;oe++)re+="C"+F[oe-2][1]+" "+F[oe-1][0]+" "+G[oe];return re+"Q"+F[G.length-3][1]+" "+G[G.length-1]},D.smoothclosed=function(G,j){if(G.length<3)return"M"+G.join("L")+"Z";var oe,re="M"+G[0],F=G.length-1,O=[q(G[F],G[0],G[1],j)];for(oe=1;oe<F;oe++)O.push(q(G[oe-1],G[oe],G[oe+1],j));for(O.push(q(G[F-1],G[F],G[0],j)),oe=1;oe<=F;oe++)re+="C"+O[oe-1][1]+" "+O[oe][0]+" "+G[oe];return re+"C"+O[F][1]+" "+O[0][0]+" "+G[0]+"Z"};var X={hv:function(G,j){return"H"+o.round(j[0],2)+"V"+o.round(j[1],2)},vh:function(G,j){return"V"+o.round(j[1],2)+"H"+o.round(j[0],2)},hvh:function(G,j){return"H"+o.round((G[0]+j[0])/2,2)+"V"+o.round(j[1],2)+"H"+o.round(j[0],2)},vhv:function(G,j){return"V"+o.round((G[1]+j[1])/2,2)+"H"+o.round(j[0],2)+"V"+o.round(j[1],2)}},ee=function(G,j){return"L"+o.round(j[0],2)+","+o.round(j[1],2)};D.steps=function(G){var j=X[G]||ee;return function(oe){for(var re="M"+o.round(oe[0][0],2)+","+o.round(oe[0][1],2),F=1;F<oe.length;F++)re+=j(oe[F-1],oe[F]);return re}},D.makeTester=function(){var G=g.ensureSingleById(o.select("body"),"svg","js-plotly-tester",function(oe){oe.attr(b.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),j=g.ensureSingle(G,"path","js-reference-point",function(oe){oe.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});D.tester=G,D.testref=j},D.savedBBoxes={};var ce=0;function me(G){var j=G.getAttribute("data-unformatted");if(null!==j)return j+G.getAttribute("data-math")+G.getAttribute("text-anchor")+G.getAttribute("style")}function ae(G,j){if(!G)return null;var oe=j._context,re=oe._exportedPlot?"":oe._baseUrl||"";return re?"url('"+re+"#"+G+"')":"url(#"+G+")"}D.bBox=function(G,j,oe){var re,F,O;if(oe||(oe=me(G)),oe){if(re=D.savedBBoxes[oe])return g.extendFlat({},re)}else if(1===G.childNodes.length){var J=G.childNodes[0];if(oe=me(J)){var R=+J.getAttribute("x")||0,ie=+J.getAttribute("y")||0,fe=J.getAttribute("transform");if(!fe){var ue=D.bBox(J,!1,oe);return R&&(ue.left+=R,ue.right+=R),ie&&(ue.top+=ie,ue.bottom+=ie),ue}if(re=D.savedBBoxes[oe+="~"+R+"~"+ie+"~"+fe])return g.extendFlat({},re)}}j?F=G:(O=D.tester.node(),F=G.cloneNode(!0),O.appendChild(F)),o.select(F).attr("transform",null).call(_.positionText,0,0);var he=F.getBoundingClientRect(),Me=D.testref.node().getBoundingClientRect();j||O.removeChild(F);var be={height:he.height,width:he.width,left:he.left-Me.left,top:he.top-Me.top,right:he.right-Me.left,bottom:he.bottom-Me.top};return ce>=1e4&&(D.savedBBoxes={},ce=0),oe&&(D.savedBBoxes[oe]=be),ce++,g.extendFlat({},be)},D.setClipUrl=function(G,j,oe){G.attr("clip-path",ae(j,oe))},D.getTranslate=function(G){var j=(G[G.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(oe,re,F){return[re,F].join(" ")}).split(" ");return{x:+j[0]||0,y:+j[1]||0}},D.setTranslate=function(G,j,oe){var F=G.attr?"attr":"setAttribute",O=G[G.attr?"attr":"getAttribute"]("transform")||"";return j=j||0,oe=oe||0,O=O.replace(/(\btranslate\(.*?\);?)/,"").trim(),O=(O+=u(j,oe)).trim(),G[F]("transform",O),O},D.getScale=function(G){var j=(G[G.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(oe,re,F){return[re,F].join(" ")}).split(" ");return{x:+j[0]||1,y:+j[1]||1}},D.setScale=function(G,j,oe){var F=G.attr?"attr":"setAttribute",O=G[G.attr?"attr":"getAttribute"]("transform")||"";return j=j||1,oe=oe||1,O=O.replace(/(\bscale\(.*?\);?)/,"").trim(),O=(O+="scale("+j+","+oe+")").trim(),G[F]("transform",O),O};var K=/\s*sc.*/;D.setPointGroupScale=function(G,j,oe){if(j=j||1,oe=oe||1,G){var re=1===j&&1===oe?"":"scale("+j+","+oe+")";G.each(function(){var F=(this.getAttribute("transform")||"").replace(K,"");F=(F+=re).trim(),this.setAttribute("transform",F)})}};var le=/translate\([^)]*\)\s*$/;D.setTextPointsScale=function(G,j,oe){G&&G.each(function(){var re,F=o.select(this),O=F.select("text");if(O.node()){var J=parseFloat(O.attr("x")||0),R=parseFloat(O.attr("y")||0),ie=(F.attr("transform")||"").match(le);re=1===j&&1===oe?[]:[u(J,R),"scale("+j+","+oe+")",u(-J,-R)],ie&&re.push(ie),F.attr("transform",re.join(""))}})}},{"../../components/fx/helpers":138,"../../constants/alignment":207,"../../constants/interactions":211,"../../constants/xmlns_namespaces":213,"../../lib":232,"../../lib/svg_text_utils":255,"../../registry":318,"../../traces/scatter/make_bubble_size_func":375,"../../traces/scatter/subtypes":383,"../color":102,"../colorscale":114,"./symbol_defs":125,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:67}],125:[function(m,de,te){"use strict";var o=m("@plotly/d3");de.exports={circle:{n:0,f:function(g){var p=o.round(g,2);return"M"+p+",0A"+p+","+p+" 0 1,1 0,-"+p+"A"+p+","+p+" 0 0,1 "+p+",0Z"}},square:{n:1,f:function(g){var p=o.round(g,2);return"M"+p+","+p+"H-"+p+"V-"+p+"H"+p+"Z"}},diamond:{n:2,f:function(g){var p=o.round(1.3*g,2);return"M"+p+",0L0,"+p+"L-"+p+",0L0,-"+p+"Z"}},cross:{n:3,f:function(g){var p=o.round(.4*g,2),l=o.round(1.2*g,2);return"M"+l+","+p+"H"+p+"V"+l+"H-"+p+"V"+p+"H-"+l+"V-"+p+"H-"+p+"V-"+l+"H"+p+"V-"+p+"H"+l+"Z"}},x:{n:4,f:function(g){var p=o.round(.8*g/Math.sqrt(2),2),l="l"+p+","+p,c="l"+p+",-"+p,C="l-"+p+",-"+p,d="l-"+p+","+p;return"M0,"+p+l+c+C+c+C+d+C+d+l+d+l+"Z"}},"triangle-up":{n:5,f:function(g){var p=o.round(2*g/Math.sqrt(3),2);return"M-"+p+","+o.round(g/2,2)+"H"+p+"L0,-"+o.round(g,2)+"Z"}},"triangle-down":{n:6,f:function(g){var p=o.round(2*g/Math.sqrt(3),2);return"M-"+p+",-"+o.round(g/2,2)+"H"+p+"L0,"+o.round(g,2)+"Z"}},"triangle-left":{n:7,f:function(g){var p=o.round(2*g/Math.sqrt(3),2);return"M"+o.round(g/2,2)+",-"+p+"V"+p+"L-"+o.round(g,2)+",0Z"}},"triangle-right":{n:8,f:function(g){var p=o.round(2*g/Math.sqrt(3),2);return"M-"+o.round(g/2,2)+",-"+p+"V"+p+"L"+o.round(g,2)+",0Z"}},"triangle-ne":{n:9,f:function(g){var p=o.round(.6*g,2),l=o.round(1.2*g,2);return"M-"+l+",-"+p+"H"+p+"V"+l+"Z"}},"triangle-se":{n:10,f:function(g){var p=o.round(.6*g,2),l=o.round(1.2*g,2);return"M"+p+",-"+l+"V"+p+"H-"+l+"Z"}},"triangle-sw":{n:11,f:function(g){var p=o.round(.6*g,2),l=o.round(1.2*g,2);return"M"+l+","+p+"H-"+p+"V-"+l+"Z"}},"triangle-nw":{n:12,f:function(g){var p=o.round(.6*g,2),l=o.round(1.2*g,2);return"M-"+p+","+l+"V-"+p+"H"+l+"Z"}},pentagon:{n:13,f:function(g){var p=o.round(.951*g,2),l=o.round(.588*g,2),c=o.round(-g,2),C=o.round(-.309*g,2);return"M"+p+","+C+"L"+l+","+o.round(.809*g,2)+"H-"+l+"L-"+p+","+C+"L0,"+c+"Z"}},hexagon:{n:14,f:function(g){var p=o.round(g,2),l=o.round(g/2,2),c=o.round(g*Math.sqrt(3)/2,2);return"M"+c+",-"+l+"V"+l+"L0,"+p+"L-"+c+","+l+"V-"+l+"L0,-"+p+"Z"}},hexagon2:{n:15,f:function(g){var p=o.round(g,2),l=o.round(g/2,2),c=o.round(g*Math.sqrt(3)/2,2);return"M-"+l+","+c+"H"+l+"L"+p+",0L"+l+",-"+c+"H-"+l+"L-"+p+",0Z"}},octagon:{n:16,f:function(g){var p=o.round(.924*g,2),l=o.round(.383*g,2);return"M-"+l+",-"+p+"H"+l+"L"+p+",-"+l+"V"+l+"L"+l+","+p+"H-"+l+"L-"+p+","+l+"V-"+l+"Z"}},star:{n:17,f:function(g){var p=1.4*g,l=o.round(.225*p,2),c=o.round(.951*p,2),C=o.round(.363*p,2),d=o.round(.588*p,2),h=o.round(-p,2),u=o.round(-.309*p,2),_=o.round(.118*p,2),b=o.round(.809*p,2);return"M"+l+","+u+"H"+c+"L"+C+","+_+"L"+d+","+b+"L0,"+o.round(.382*p,2)+"L-"+d+","+b+"L-"+C+","+_+"L-"+c+","+u+"H-"+l+"L0,"+h+"Z"}},hexagram:{n:18,f:function(g){var p=o.round(.66*g,2),l=o.round(.38*g,2),c=o.round(.76*g,2);return"M-"+c+",0l-"+l+",-"+p+"h"+c+"l"+l+",-"+p+"l"+l+","+p+"h"+c+"l-"+l+","+p+"l"+l+","+p+"h-"+c+"l-"+l+","+p+"l-"+l+",-"+p+"h-"+c+"Z"}},"star-triangle-up":{n:19,f:function(g){var p=o.round(g*Math.sqrt(3)*.8,2),l=o.round(.8*g,2),c=o.round(1.6*g,2),C=o.round(4*g,2),d="A "+C+","+C+" 0 0 1 ";return"M-"+p+","+l+d+p+","+l+d+"0,-"+c+d+"-"+p+","+l+"Z"}},"star-triangle-down":{n:20,f:function(g){var p=o.round(g*Math.sqrt(3)*.8,2),l=o.round(.8*g,2),c=o.round(1.6*g,2),C=o.round(4*g,2),d="A "+C+","+C+" 0 0 1 ";return"M"+p+",-"+l+d+"-"+p+",-"+l+d+"0,"+c+d+p+",-"+l+"Z"}},"star-square":{n:21,f:function(g){var p=o.round(1.1*g,2),l=o.round(2*g,2),c="A "+l+","+l+" 0 0 1 ";return"M-"+p+",-"+p+c+"-"+p+","+p+c+p+","+p+c+p+",-"+p+c+"-"+p+",-"+p+"Z"}},"star-diamond":{n:22,f:function(g){var p=o.round(1.4*g,2),l=o.round(1.9*g,2),c="A "+l+","+l+" 0 0 1 ";return"M-"+p+",0"+c+"0,"+p+c+p+",0"+c+"0,-"+p+c+"-"+p+",0Z"}},"diamond-tall":{n:23,f:function(g){var p=o.round(.7*g,2),l=o.round(1.4*g,2);return"M0,"+l+"L"+p+",0L0,-"+l+"L-"+p+",0Z"}},"diamond-wide":{n:24,f:function(g){var p=o.round(1.4*g,2),l=o.round(.7*g,2);return"M0,"+l+"L"+p+",0L0,-"+l+"L-"+p+",0Z"}},hourglass:{n:25,f:function(g){var p=o.round(g,2);return"M"+p+","+p+"H-"+p+"L"+p+",-"+p+"H-"+p+"Z"},noDot:!0},bowtie:{n:26,f:function(g){var p=o.round(g,2);return"M"+p+","+p+"V-"+p+"L-"+p+","+p+"V-"+p+"Z"},noDot:!0},"circle-cross":{n:27,f:function(g){var p=o.round(g,2);return"M0,"+p+"V-"+p+"M"+p+",0H-"+p+"M"+p+",0A"+p+","+p+" 0 1,1 0,-"+p+"A"+p+","+p+" 0 0,1 "+p+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(g){var p=o.round(g,2),l=o.round(g/Math.sqrt(2),2);return"M"+l+","+l+"L-"+l+",-"+l+"M"+l+",-"+l+"L-"+l+","+l+"M"+p+",0A"+p+","+p+" 0 1,1 0,-"+p+"A"+p+","+p+" 0 0,1 "+p+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(g){var p=o.round(g,2);return"M0,"+p+"V-"+p+"M"+p+",0H-"+p+"M"+p+","+p+"H-"+p+"V-"+p+"H"+p+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(g){var p=o.round(g,2);return"M"+p+","+p+"L-"+p+",-"+p+"M"+p+",-"+p+"L-"+p+","+p+"M"+p+","+p+"H-"+p+"V-"+p+"H"+p+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(g){var p=o.round(1.3*g,2);return"M"+p+",0L0,"+p+"L-"+p+",0L0,-"+p+"ZM0,-"+p+"V"+p+"M-"+p+",0H"+p},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(g){var p=o.round(1.3*g,2),l=o.round(.65*g,2);return"M"+p+",0L0,"+p+"L-"+p+",0L0,-"+p+"ZM-"+l+",-"+l+"L"+l+","+l+"M-"+l+","+l+"L"+l+",-"+l},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(g){var p=o.round(1.4*g,2);return"M0,"+p+"V-"+p+"M"+p+",0H-"+p},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(g){var p=o.round(g,2);return"M"+p+","+p+"L-"+p+",-"+p+"M"+p+",-"+p+"L-"+p+","+p},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(g){var p=o.round(1.2*g,2),l=o.round(.85*g,2);return"M0,"+p+"V-"+p+"M"+p+",0H-"+p+"M"+l+","+l+"L-"+l+",-"+l+"M"+l+",-"+l+"L-"+l+","+l},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(g){var p=o.round(g/2,2),l=o.round(g,2);return"M"+p+","+l+"V-"+l+"m-"+l+",0V"+l+"M"+l+","+p+"H-"+l+"m0,-"+l+"H"+l},needLine:!0,noFill:!0},"y-up":{n:37,f:function(g){var p=o.round(1.2*g,2),l=o.round(1.6*g,2),c=o.round(.8*g,2);return"M-"+p+","+c+"L0,0M"+p+","+c+"L0,0M0,-"+l+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(g){var p=o.round(1.2*g,2),l=o.round(1.6*g,2),c=o.round(.8*g,2);return"M-"+p+",-"+c+"L0,0M"+p+",-"+c+"L0,0M0,"+l+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(g){var p=o.round(1.2*g,2),l=o.round(1.6*g,2),c=o.round(.8*g,2);return"M"+c+","+p+"L0,0M"+c+",-"+p+"L0,0M-"+l+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(g){var p=o.round(1.2*g,2),l=o.round(1.6*g,2),c=o.round(.8*g,2);return"M-"+c+","+p+"L0,0M-"+c+",-"+p+"L0,0M"+l+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(g){var p=o.round(1.4*g,2);return"M"+p+",0H-"+p},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(g){var p=o.round(1.4*g,2);return"M0,"+p+"V-"+p},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(g){var p=o.round(g,2);return"M"+p+",-"+p+"L-"+p+","+p},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(g){var p=o.round(g,2);return"M"+p+","+p+"L-"+p+",-"+p},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(g){var p=o.round(g,2);return"M0,0L-"+p+","+o.round(2*g,2)+"H"+p+"Z"},noDot:!0},"arrow-down":{n:46,f:function(g){var p=o.round(g,2);return"M0,0L-"+p+",-"+o.round(2*g,2)+"H"+p+"Z"},noDot:!0},"arrow-left":{n:47,f:function(g){var p=o.round(2*g,2),l=o.round(g,2);return"M0,0L"+p+",-"+l+"V"+l+"Z"},noDot:!0},"arrow-right":{n:48,f:function(g){var p=o.round(2*g,2),l=o.round(g,2);return"M0,0L-"+p+",-"+l+"V"+l+"Z"},noDot:!0},"arrow-bar-up":{n:49,f:function(g){var p=o.round(g,2);return"M-"+p+",0H"+p+"M0,0L-"+p+","+o.round(2*g,2)+"H"+p+"Z"},needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(g){var p=o.round(g,2);return"M-"+p+",0H"+p+"M0,0L-"+p+",-"+o.round(2*g,2)+"H"+p+"Z"},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(g){var p=o.round(2*g,2),l=o.round(g,2);return"M0,-"+l+"V"+l+"M0,0L"+p+",-"+l+"V"+l+"Z"},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(g){var p=o.round(2*g,2),l=o.round(g,2);return"M0,-"+l+"V"+l+"M0,0L-"+p+",-"+l+"V"+l+"Z"},needLine:!0,noDot:!0}}},{"@plotly/d3":11}],126:[function(m,de,te){"use strict";de.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},{}],127:[function(m,de,te){"use strict";var o=m("fast-isnumeric"),g=m("../../registry"),p=m("../../plots/cartesian/axes"),l=m("../../lib"),c=m("./compute_error");function C(d,h,u,_){var b=h["error_"+_]||{},M=[];if(b.visible&&-1!==["linear","log"].indexOf(u.type)){for(var L=c(b),N=0;N<d.length;N++){var z=d[N],k=z.i;if(void 0===k)k=N;else if(null===k)continue;var D=z[_];if(o(u.c2l(D))){var S=L(D,k);if(o(S[0])&&o(S[1])){var P=z[_+"s"]=D-S[0],H=z[_+"h"]=D+S[1];M.push(P,H)}}}var I=h._extremes[u._id],w=p.findExtremes(u,M,l.extendFlat({tozero:I.opts.tozero},{padded:!0}));I.min=I.min.concat(w.min),I.max=I.max.concat(w.max)}}de.exports=function(d){for(var h=d.calcdata,u=0;u<h.length;u++){var _=h[u],b=_[0].trace;if(!0===b.visible&&g.traceIs(b,"errorBarsOK")){var M=p.getFromId(d,b.xaxis),L=p.getFromId(d,b.yaxis);C(_,b,M,"x"),C(_,b,L,"y")}}}},{"../../lib":232,"../../plots/cartesian/axes":279,"../../registry":318,"./compute_error":128,"fast-isnumeric":17}],128:[function(m,de,te){"use strict";function o(g,p){return"percent"===g?function(l){return Math.abs(l*p/100)}:"constant"===g?function(){return Math.abs(p)}:"sqrt"===g?function(l){return Math.sqrt(Math.abs(l))}:void 0}de.exports=function(g){var p=g.type,l=g.symmetric;if("data"===p){var c=g.array||[];if(l)return function(u,_){var b=+c[_];return[b,b]};var C=g.arrayminus||[];return function(u,_){var b=+c[_],M=+C[_];return isNaN(b)&&isNaN(M)?[NaN,NaN]:[M||0,b||0]}}var d=o(p,g.value),h=o(p,g.valueminus);return l||void 0===g.valueminus?function(u){var _=d(u);return[_,_]}:function(u){return[h(u),d(u)]}}},{}],129:[function(m,de,te){"use strict";var o=m("fast-isnumeric"),g=m("../../registry"),p=m("../../lib"),l=m("../../plot_api/plot_template"),c=m("./attributes");de.exports=function(C,d,h,u){var _="error_"+u.axis,b=l.newContainer(d,_),M=C[_]||{};function L(D,S){return p.coerce(M,b,c,D,S)}if(!1!==L("visible",void 0!==M.array||void 0!==M.value||"sqrt"===M.type)){var N=L("type","array"in M?"data":"percent"),z=!0;"sqrt"!==N&&(z=L("symmetric",!(("data"===N?"arrayminus":"valueminus")in M))),"data"===N?(L("array"),L("traceref"),z||(L("arrayminus"),L("tracerefminus"))):"percent"!==N&&"constant"!==N||(L("value"),z||L("valueminus"));var k="copy_"+u.inherit+"style";u.inherit&&(d["error_"+u.inherit]||{}).visible&&L(k,!(M.color||o(M.thickness)||o(M.width))),u.inherit&&b[k]||(L("color",h),L("thickness"),L("width",g.traceIs(d,"gl3d")?0:4))}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../registry":318,"./attributes":126,"fast-isnumeric":17}],130:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("../../plot_api/edit_types").overrideAll,p=m("./attributes"),l={error_x:o.extendFlat({},p),error_y:o.extendFlat({},p)};delete l.error_x.copy_zstyle,delete l.error_y.copy_zstyle,delete l.error_y.copy_ystyle;var c={error_x:o.extendFlat({},p),error_y:o.extendFlat({},p),error_z:o.extendFlat({},p)};delete c.error_x.copy_ystyle,delete c.error_y.copy_ystyle,delete c.error_z.copy_ystyle,delete c.error_z.copy_zstyle,de.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:l,bar:l,histogram:l,scatter3d:g(c,"calc","nested"),scattergl:g(l,"calc","nested")}},supplyDefaults:m("./defaults"),calc:m("./calc"),makeComputeError:m("./compute_error"),plot:m("./plot"),style:m("./style"),hoverInfo:function(C,d,h){(d.error_y||{}).visible&&(h.yerr=C.yh-C.y,d.error_y.symmetric||(h.yerrneg=C.y-C.ys)),(d.error_x||{}).visible&&(h.xerr=C.xh-C.x,d.error_x.symmetric||(h.xerrneg=C.x-C.xs))}}},{"../../lib":232,"../../plot_api/edit_types":261,"./attributes":126,"./calc":127,"./compute_error":128,"./defaults":129,"./plot":131,"./style":132}],131:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("fast-isnumeric"),p=m("../drawing"),l=m("../../traces/scatter/subtypes");de.exports=function(c,C,d,h){var u=d.xaxis,_=d.yaxis,b=h&&h.duration>0;C.each(function(M){var L,N=M[0].trace,z=N.error_x||{},k=N.error_y||{};N.ids&&(L=function(H){return H.id});var D=l.hasMarkers(N)&&N.marker.maxdisplayed>0;k.visible||z.visible||(M=[]);var S=o.select(this).selectAll("g.errorbar").data(M,L);if(S.exit().remove(),M.length){z.visible||S.selectAll("path.xerror").remove(),k.visible||S.selectAll("path.yerror").remove(),S.style("opacity",1);var P=S.enter().append("g").classed("errorbar",!0);b&&P.style("opacity",0).transition().duration(h.duration).style("opacity",1),p.setClipUrl(S,d.layerClipId,c),S.each(function(H){var W,q,X,ee,E=o.select(this),I=(X=_,ee={x:(q=u).c2p((W=H).x),y:X.c2p(W.y)},void 0!==W.yh&&(ee.yh=X.c2p(W.yh),ee.ys=X.c2p(W.ys),g(ee.ys)||(ee.noYS=!0,ee.ys=X.c2p(W.ys,!0))),void 0!==W.xh&&(ee.xh=q.c2p(W.xh),ee.xs=q.c2p(W.xs),g(ee.xs)||(ee.noXS=!0,ee.xs=q.c2p(W.xs,!0))),ee);if(!D||H.vis){var w,B=E.select("path.yerror");if(k.visible&&g(I.x)&&g(I.yh)&&g(I.ys)){var $=k.width;w="M"+(I.x-$)+","+I.yh+"h"+2*$+"m-"+$+",0V"+I.ys,I.noYS||(w+="m-"+$+",0h"+2*$),B.size()?b&&(B=B.transition().duration(h.duration).ease(h.easing)):B=E.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0),B.attr("d",w)}else B.remove();var T=E.select("path.xerror");if(z.visible&&g(I.y)&&g(I.xh)&&g(I.xs)){var Y=(z.copy_ystyle?k:z).width;w="M"+I.xh+","+(I.y-Y)+"v"+2*Y+"m0,-"+Y+"H"+I.xs,I.noXS||(w+="m0,-"+Y+"v"+2*Y),T.size()?b&&(T=T.transition().duration(h.duration).ease(h.easing)):T=E.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0),T.attr("d",w)}else T.remove()}})}})}},{"../../traces/scatter/subtypes":383,"../drawing":124,"@plotly/d3":11,"fast-isnumeric":17}],132:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("../color");de.exports=function(p){p.each(function(l){var c=l[0].trace,C=c.error_y||{},d=c.error_x||{},h=o.select(this);h.selectAll("path.yerror").style("stroke-width",C.thickness+"px").call(g.stroke,C.color),d.copy_ystyle&&(d=C),h.selectAll("path.xerror").style("stroke-width",d.thickness+"px").call(g.stroke,d.color)})}},{"../color":102,"@plotly/d3":11}],133:[function(m,de,te){"use strict";var o=m("../../plots/font_attributes"),g=m("./layout_attributes").hoverlabel,p=m("../../lib/extend").extendFlat;de.exports={hoverlabel:{bgcolor:p({},g.bgcolor,{arrayOk:!0}),bordercolor:p({},g.bordercolor,{arrayOk:!0}),font:o({arrayOk:!0,editType:"none"}),align:p({},g.align,{arrayOk:!0}),namelength:p({},g.namelength,{arrayOk:!0}),editType:"none"}}},{"../../lib/extend":226,"../../plots/font_attributes":310,"./layout_attributes":143}],134:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("../../registry");function p(l,c,C,d){d=d||o.identity,Array.isArray(l)&&(c[0][C]=d(l))}de.exports=function(l){var c=l.calcdata,C=l._fullLayout;function d(M){return function(L){return o.coerceHoverinfo({hoverinfo:L},{_module:M._module},C)}}for(var h=0;h<c.length;h++){var u=c[h],_=u[0].trace;if(!g.traceIs(_,"pie-like")){var b=g.traceIs(_,"2dMap")?p:o.fillArray;b(_.hoverinfo,u,"hi",d(_)),_.hovertemplate&&b(_.hovertemplate,u,"ht"),_.hoverlabel&&(b(_.hoverlabel.bgcolor,u,"hbg"),b(_.hoverlabel.bordercolor,u,"hbc"),b(_.hoverlabel.font.size,u,"hts"),b(_.hoverlabel.font.color,u,"htc"),b(_.hoverlabel.font.family,u,"htf"),b(_.hoverlabel.namelength,u,"hnl"),b(_.hoverlabel.align,u,"hta"))}}}},{"../../lib":232,"../../registry":318}],135:[function(m,de,te){"use strict";var o=m("../../registry"),g=m("./hover").hover;de.exports=function(p,l,c){var C=o.getComponentMethod("annotations","onClick")(p,p._hoverdata);function d(){p.emit("plotly_click",{points:p._hoverdata,event:l})}void 0!==c&&g(p,l,c,!0),p._hoverdata&&l&&l.target&&(C&&C.then?C.then(d):d(),l.stopImmediatePropagation&&l.stopImmediatePropagation())}},{"../../registry":318,"./hover":139}],136:[function(m,de,te){"use strict";de.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},{}],137:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("./attributes"),p=m("./hoverlabel_defaults");de.exports=function(l,c,C,d){var h=o.extendFlat({},d.hoverlabel);c.hovertemplate&&(h.namelength=-1),p(l,c,function(u,_){return o.coerce(l,c,g,u,_)},h)}},{"../../lib":232,"./attributes":133,"./hoverlabel_defaults":140}],138:[function(m,de,te){"use strict";var o=m("../../lib");te.getSubplot=function(d){return d.subplot||d.xaxis+d.yaxis||d.geo},te.isTraceInSubplots=function(d,h){if("splom"===d.type){for(var u=d.xaxes||[],_=d.yaxes||[],b=0;b<u.length;b++)for(var M=0;M<_.length;M++)if(-1!==h.indexOf(u[b]+_[M]))return!0;return!1}return-1!==h.indexOf(te.getSubplot(d))},te.flat=function(d,h){for(var u=new Array(d.length),_=0;_<d.length;_++)u[_]=h;return u},te.p2c=function(d,h){for(var u=new Array(d.length),_=0;_<d.length;_++)u[_]=d[_].p2c(h);return u},te.getDistanceFunction=function(d,h,u,_){return"closest"===d?_||te.quadrature(h,u):"x"===d.charAt(0)?h:u},te.getClosest=function(d,h,u){if(!1!==u.index)u.index>=0&&u.index<d.length?u.distance=0:u.index=!1;else for(var _=0;_<d.length;_++){var b=h(d[_]);b<=u.distance&&(u.index=_,u.distance=b)}return u},te.inbox=function(d,h,u){return d*h<0||0===d?u:1/0},te.quadrature=function(d,h){return function(u){var _=d(u),b=h(u);return Math.sqrt(_*_+b*b)}},te.makeEventData=function(d,h,u){var _="index"in d?d.index:d.pointNumber,b={data:h._input,fullData:h,curveNumber:h.index,pointNumber:_};if(h._indexToPoints){var M=h._indexToPoints[_];1===M.length?b.pointIndex=M[0]:b.pointIndices=M}else b.pointIndex=_;return h._module.eventData?b=h._module.eventData(b,d,h,u,_):("xVal"in d?b.x=d.xVal:"x"in d&&(b.x=d.x),"yVal"in d?b.y=d.yVal:"y"in d&&(b.y=d.y),d.xa&&(b.xaxis=d.xa),d.ya&&(b.yaxis=d.ya),void 0!==d.zLabelVal&&(b.z=d.zLabelVal)),te.appendArrayPointValue(b,h,_),b},te.appendArrayPointValue=function(d,h,u){var _=h._arrayAttrs;if(_)for(var b=0;b<_.length;b++){var M=_[b],L=p(M);if(void 0===d[L]){var N=l(o.nestedProperty(h,M).get(),u);void 0!==N&&(d[L]=N)}}},te.appendArrayMultiPointValues=function(d,h,u){var _=h._arrayAttrs;if(_)for(var b=0;b<_.length;b++){var M=_[b],L=p(M);if(void 0===d[L]){for(var N=o.nestedProperty(h,M).get(),z=new Array(u.length),k=0;k<u.length;k++)z[k]=l(N,u[k]);d[L]=z}}};var g={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function p(d){return g[d]||d}function l(d,h){return Array.isArray(h)?Array.isArray(d)&&Array.isArray(d[h[0]])?d[h[0]][h[1]]:void 0:d[h]}var c={x:!0,y:!0},C={"x unified":!0,"y unified":!0};te.isUnifiedHover=function(d){return"string"==typeof d&&!!C[d]},te.isXYhover=function(d){return"string"==typeof d&&!!c[d]}},{"../../lib":232}],139:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("fast-isnumeric"),p=m("tinycolor2"),l=m("../../lib"),c=l.strTranslate,C=l.strRotate,d=m("../../lib/events"),h=m("../../lib/svg_text_utils"),u=m("../../lib/override_cursor"),_=m("../drawing"),b=m("../color"),M=m("../dragelement"),L=m("../../plots/cartesian/axes"),N=m("../../registry"),z=m("./helpers"),k=m("./constants"),D=m("../legend/defaults"),S=m("../legend/draw"),P=k.YANGLE,H=Math.PI*P/180,E=1/Math.sin(H),I=Math.cos(H),w=Math.sin(H),B=k.HOVERARROWSIZE,$=k.HOVERTEXTPAD,T={box:!0,ohlc:!0,violin:!0,candlestick:!0},Y={scatter:!0,scattergl:!0,splom:!0};function W(F){return[F.trace.index,F.index,F.x0,F.y0,F.name,F.attr,F.xa?F.xa._id:"",F.ya?F.ya._id:""].join(",")}te.hover=function(F,O,J,R){F=l.getGraphDiv(F);var ie=O.target;l.throttle(F._fullLayout._uid+k.HOVERID,k.HOVERMINTIME,function(){!function(fe,ue,he,Me,be){he||(he="xy");var Ae=Array.isArray(he)?he:[he],ze=fe._fullLayout,Pe=ze._plots||[],Fe=Pe[he],t1=ze._has("cartesian");if(Fe){var Xe=Fe.overlays.map(function(N2){return N2.id});Ae=Ae.concat(Xe)}for(var Ue=Ae.length,xe=new Array(Ue),ve=new Array(Ue),De=!1,Ve=0;Ve<Ue;Ve++){var Ye=Ae[Ve];if(Pe[Ye])De=!0,xe[Ve]=Pe[Ye].xaxis,ve[Ve]=Pe[Ye].yaxis;else{if(!ze[Ye]||!ze[Ye]._subplot)return void l.warn("Unrecognized subplot: "+Ye);var Oe=ze[Ye]._subplot;xe[Ve]=Oe.xaxis,ve[Ve]=Oe.yaxis}}var Ie=ue.hovermode||ze.hovermode;if(Ie&&!De&&(Ie="closest"),-1===["x","y","closest","x unified","y unified"].indexOf(Ie)||!fe.calcdata||fe.querySelector(".zoombox")||fe._dragging)return M.unhoverRaw(fe,ue);var Qe=ze.hoverdistance;-1===Qe&&(Qe=1/0);var n1=ze.spikedistance;-1===n1&&(n1=1/0);var Ke,r1,f1,Je,g1,b1,_1,I1,M1,Re,Be,C1,O1,Q1=[],l2=[],G1={hLinePoint:null,vLinePoint:null},K1=!1;if(Array.isArray(ue))for(Ie="array",f1=0;f1<ue.length;f1++)(g1=fe.calcdata[ue[f1].curveNumber||0])&&(b1=g1[0].trace,"skip"!==g1[0].trace.hoverinfo&&(l2.push(g1),"h"===b1.orientation&&(K1=!0)));else{for(Je=0;Je<fe.calcdata.length;Je++)"skip"!==(b1=(g1=fe.calcdata[Je])[0].trace).hoverinfo&&z.isTraceInSubplots(b1,Ae)&&(l2.push(g1),"h"===b1.orientation&&(K1=!0));var N1,ge;if(be){if(!1===d.triggerHandler(fe,"plotly_beforehover",ue))return;var ye=be.getBoundingClientRect();N1=ue.clientX-ye.left,ge=ue.clientY-ye.top,ze._calcInverseTransform(fe);var je=l.apply3DTransform(ze._invTransform)(N1,ge);if(ge=je[1],(N1=je[0])<0||N1>xe[0]._length||ge<0||ge>ve[0]._length)return M.unhoverRaw(fe,ue)}else N1="xpx"in ue?ue.xpx:xe[0]._length/2,ge="ypx"in ue?ue.ypx:ve[0]._length/2;if(ue.pointerX=N1+xe[0]._offset,ue.pointerY=ge+ve[0]._offset,Ke="xval"in ue?z.flat(Ae,ue.xval):z.p2c(xe,N1),r1="yval"in ue?z.flat(Ae,ue.yval):z.p2c(ve,ge),!g(Ke[0])||!g(r1[0]))return l.warn("Fx.hover failed",ue,fe),M.unhoverRaw(fe,ue)}var e1=1/0;function d1(N2,vt){for(Je=0;Je<l2.length;Je++)if((g1=l2[Je])&&g1[0]&&g1[0].trace&&!0===(b1=g1[0].trace).visible&&0!==b1._length&&-1===["carpet","contourcarpet"].indexOf(b1._module.name)){if("splom"===b1.type?_1=Ae[I1=0]:(_1=z.getSubplot(b1),I1=Ae.indexOf(_1)),z.isUnifiedHover(M1=Ie)&&(M1=M1.charAt(0)),C1={cd:g1,trace:b1,xa:xe[I1],ya:ve[I1],maxHoverDistance:Qe,maxSpikeDistance:n1,index:!1,distance:Math.min(e1,Qe),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:b.defaultLine,name:b1.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},ze[_1]&&(C1.subplot=ze[_1]._subplot),ze._splomScenes&&ze._splomScenes[b1.uid]&&(C1.scene=ze._splomScenes[b1.uid]),O1=Q1.length,"array"===M1){var ht=ue[Je];"pointNumber"in ht?(C1.index=ht.pointNumber,M1="closest"):(M1="","xval"in ht&&(Re=ht.xval,M1="x"),"yval"in ht&&(Be=ht.yval,M1=M1?"closest":"y"))}else void 0!==N2&&void 0!==vt?(Re=N2,Be=vt):(Re=Ke[I1],Be=r1[I1]);if(0!==Qe)if(b1._module&&b1._module.hoverPoints){var E2=b1._module.hoverPoints(C1,Re,Be,M1,{finiteRange:!0,hoverLayer:ze._hoverlayer});if(E2)for(var ut,yt=0;yt<E2.length;yt++)g((ut=E2[yt]).x0)&&g(ut.y0)&&Q1.push(me(ut,Ie))}else l.log("Unrecognized trace type in hover:",b1);if("closest"===Ie&&Q1.length>O1&&(Q1.splice(0,O1),e1=Q1[0].distance),t1&&0!==n1&&0===Q1.length){C1.distance=n1,C1.index=!1;var et=b1._module.hoverPoints(C1,Re,Be,"closest",{hoverLayer:ze._hoverlayer});if(et&&(et=et.filter(function(jt){return jt.spikeDistance<=n1})),et&&et.length){var R2,g2=et.filter(function(jt){return jt.xa.showspikes&&"hovered data"!==jt.xa.spikesnap});if(g2.length){var _t=g2[0];g(_t.x0)&&g(_t.y0)&&(R2=l1(_t),(!G1.vLinePoint||G1.vLinePoint.spikeDistance>R2.spikeDistance)&&(G1.vLinePoint=R2))}var hn=et.filter(function(jt){return jt.ya.showspikes&&"hovered data"!==jt.ya.spikesnap});if(hn.length){var Ut=hn[0];g(Ut.x0)&&g(Ut.y0)&&(R2=l1(Ut),(!G1.hLinePoint||G1.hLinePoint.spikeDistance>R2.spikeDistance)&&(G1.hLinePoint=R2))}}}}}function i1(N2,vt,ht){for(var E2,ut=null,yt=1/0,et=0;et<N2.length;et++)E2=N2[et].spikeDistance,ht&&0===et&&(E2=-1/0),E2<=yt&&E2<=vt&&(ut=N2[et],yt=E2);return ut}function l1(N2){return N2?{xa:N2.xa,ya:N2.ya,x:void 0!==N2.xSpike?N2.xSpike:(N2.x0+N2.x1)/2,y:void 0!==N2.ySpike?N2.ySpike:(N2.y0+N2.y1)/2,distance:N2.distance,spikeDistance:N2.spikeDistance,curveNumber:N2.trace.index,color:N2.color,pointNumber:N2.index}:null}d1();var c1={fullLayout:ze,container:ze._hoverlayer,event:ue},L1=fe._spikepoints;fe._spikepoints={vLinePoint:G1.vLinePoint,hLinePoint:G1.hLinePoint};var B1=function(){Q1.sort(function(N2,vt){return N2.distance-vt.distance}),Q1=function(N2,vt){for(var ht=vt.charAt(0),E2=[],ut=[],yt=[],et=0;et<N2.length;et++){var R2=N2[et];N.traceIs(R2.trace,"bar-like")||N.traceIs(R2.trace,"box-violin")?yt.push(R2):R2.trace[ht+"period"]?ut.push(R2):E2.push(R2)}return E2.concat(ut).concat(yt)}(Q1,Ie)};B1();var r2=Ie.charAt(0),V1=("x"===r2||"y"===r2)&&Q1[0]&&Y[Q1[0].trace.type];if(t1&&0!==n1&&0!==Q1.length){var q1=i1(Q1.filter(function(N2){return N2.ya.showspikes}),n1,V1);G1.hLinePoint=l1(q1);var f2=i1(Q1.filter(function(N2){return N2.xa.showspikes}),n1,V1);G1.vLinePoint=l1(f2)}if(0===Q1.length){var z1=M.unhoverRaw(fe,ue);return!t1||null===G1.hLinePoint&&null===G1.vLinePoint||K(L1)&&ae(fe,G1,c1),z1}if(t1&&K(L1)&&ae(fe,G1,c1),z.isXYhover(M1)&&0!==Q1[0].length&&"splom"!==Q1[0].trace.type){var w1=Q1[0],a2=(Q1=T[w1.trace.type]?Q1.filter(function(N2){return N2.trace.index===w1.trace.index}):[w1]).length;d1(G("x",w1,ze),G("y",w1,ze));var e2,R1=[],L2={},y2=0,w2=function(N2){var vt=T[N2.trace.type]?W(N2):N2.trace.index;if(L2[vt]){var ht=L2[vt]-1,E2=R1[ht];ht>0&&Math.abs(N2.distance)<Math.abs(E2.distance)&&(R1[ht]=N2)}else y2++,L2[vt]=y2,R1.push(N2)};for(e2=0;e2<a2;e2++)w2(Q1[e2]);for(e2=Q1.length-1;e2>a2-1;e2--)w2(Q1[e2]);Q1=R1,B1()}var F2=fe._hoverdata,O2=[],S2=j(fe),j1=oe(fe);for(f1=0;f1<Q1.length;f1++){var Y1=Q1[f1],t2=z.makeEventData(Y1,Y1.trace,Y1.cd);if(!1!==Y1.hovertemplate){var d2=!1;Y1.cd[Y1.index]&&Y1.cd[Y1.index].ht&&(d2=Y1.cd[Y1.index].ht),Y1.hovertemplate=d2||Y1.trace.hovertemplate||!1}if(Y1.xa&&Y1.ya){var s2=Y1.x0+Y1.xa._offset,C2=Y1.x1+Y1.xa._offset,G2=Y1.y0+Y1.ya._offset,Q2=Y1.y1+Y1.ya._offset,A2=Math.min(s2,C2),z2=Math.max(s2,C2),dt=Math.min(G2,Q2),pt=Math.max(G2,Q2);t2.bbox={x0:A2+j1,x1:z2+j1,y0:dt+S2,y1:pt+S2}}Y1.eventData=[t2],O2.push(t2)}fe._hoverdata=O2;var B2="y"===Ie&&(l2.length>1||Q1.length>1)||"closest"===Ie&&K1&&Q1.length>1,Y2=b.combine(ze.plot_bgcolor||b.background,ze.paper_bgcolor),P2=X(Q1,{gd:fe,hovermode:Ie,rotateLabels:B2,bgColor:Y2,container:ze._hoverlayer,outerContainer:ze._paper.node(),commonLabelOpts:ze.hoverlabel,hoverdistance:ze.hoverdistance});if(z.isUnifiedHover(Ie)||(function(N2,vt,ht){var E2,ut,yt,et,R2,g2,_t,hn=0,Ut=1,jt=N2.size(),an=new Array(jt),Sn=0;function pn(Tn){var wt=Tn[0],U3=Tn[Tn.length-1];if(yt=U3.pos+U3.dp+U3.size-wt.pmax,(ut=wt.pmin-wt.pos-wt.dp+wt.size)>.01){for(R2=Tn.length-1;R2>=0;R2--)Tn[R2].dp+=ut;E2=!1}if(!(yt<.01)){if(ut<-.01){for(R2=Tn.length-1;R2>=0;R2--)Tn[R2].dp-=yt;E2=!1}if(E2){var Pt=0;for(et=0;et<Tn.length;et++)(g2=Tn[et]).pos+g2.dp+g2.size>wt.pmax&&Pt++;for(et=Tn.length-1;et>=0&&!(Pt<=0);et--)(g2=Tn[et]).pos>wt.pmax-1&&(g2.del=!0,Pt--);for(et=0;et<Tn.length&&!(Pt<=0);et++)if((g2=Tn[et]).pos<wt.pmin+1)for(g2.del=!0,Pt--,yt=2*g2.size,R2=Tn.length-1;R2>=0;R2--)Tn[R2].dp-=yt;for(et=Tn.length-1;et>=0&&!(Pt<=0);et--)(g2=Tn[et]).pos+g2.dp+g2.size>wt.pmax&&(g2.del=!0,Pt--)}}}for(N2.each(function(Tn){var wt=Tn[vt],U3="x"===wt._id.charAt(0),Pt=wt.range;0===Sn&&Pt&&Pt[0]>Pt[1]!==U3&&(Ut=-1),an[Sn++]=[{datum:Tn,traceIndex:Tn.trace.index,dp:0,pos:Tn.pos,posref:Tn.posref,size:Tn.by*(U3?E:1)/2,pmin:0,pmax:U3?ht.width:ht.height}]}),an.sort(function(Tn,wt){return Tn[0].posref-wt[0].posref||Ut*(wt[0].traceIndex-Tn[0].traceIndex)});!E2&&hn<=jt;){for(hn++,E2=!0,et=0;et<an.length-1;){var bn=an[et],Nt=an[et+1],Kt=bn[bn.length-1],S3=Nt[0];if((ut=Kt.pos+Kt.dp+Kt.size-S3.pos-S3.dp+S3.size)>.01&&Kt.pmin===S3.pmin&&Kt.pmax===S3.pmax){for(R2=Nt.length-1;R2>=0;R2--)Nt[R2].dp+=ut;for(bn.push.apply(bn,Nt),an.splice(et+1,1),_t=0,R2=bn.length-1;R2>=0;R2--)_t+=bn[R2].dp;for(yt=_t/bn.length,R2=bn.length-1;R2>=0;R2--)bn[R2].dp-=yt;E2=!1}else et++}an.forEach(pn)}for(et=an.length-1;et>=0;et--){var er=an[et];for(R2=er.length-1;R2>=0;R2--){var mr=er[R2],ot=mr.datum;ot.offset=mr.dp,ot.del=mr.del}}}(P2,B2?"xa":"ya",ze),ce(P2,B2,ze._invScaleX,ze._invScaleY)),be&&be.tagName){var mt=N.getComponentMethod("annotations","hasClickToShow")(fe,O2);u(o.select(be),mt?"pointer":"")}!be||Me||!function(N2,vt,ht){if(!ht||ht.length!==N2._hoverdata.length)return!0;for(var E2=ht.length-1;E2>=0;E2--){var ut=ht[E2],yt=N2._hoverdata[E2];if(ut.curveNumber!==yt.curveNumber||String(ut.pointNumber)!==String(yt.pointNumber)||String(ut.pointNumbers)!==String(yt.pointNumbers))return!0}return!1}(fe,0,F2)||(F2&&fe.emit("plotly_unhover",{event:ue,points:F2}),fe.emit("plotly_hover",{event:ue,points:fe._hoverdata,xaxes:xe,yaxes:ve,xvals:Ke,yvals:r1}))}(F,O,J,R,ie)})},te.loneHover=function(F,O){var J=!0;Array.isArray(F)||(J=!1,F=[F]);var R=O.gd,ie=j(R),fe=oe(R),ue=X(F.map(function(be){var Ae=be._x0||be.x0||be.x||0,ze=be._x1||be.x1||be.x||0,Pe=be._y0||be.y0||be.y||0,Fe=be._y1||be.y1||be.y||0,t1=be.eventData;if(t1){var Xe=Math.min(Ae,ze),Ue=Math.max(Ae,ze),xe=Math.min(Pe,Fe),ve=Math.max(Pe,Fe),De=be.trace;if(N.traceIs(De,"gl3d")){var Ve=R._fullLayout[De.scene]._scene.container,Ye=Ve.offsetLeft,Oe=Ve.offsetTop;Xe+=Ye,Ue+=Ye,xe+=Oe,ve+=Oe}t1.bbox={x0:Xe+fe,x1:Ue+fe,y0:xe+ie,y1:ve+ie},O.inOut_bbox&&O.inOut_bbox.push(t1.bbox)}else t1=!1;return{color:be.color||b.defaultLine,x0:be.x0||be.x||0,x1:be.x1||be.x||0,y0:be.y0||be.y||0,y1:be.y1||be.y||0,xLabel:be.xLabel,yLabel:be.yLabel,zLabel:be.zLabel,text:be.text,name:be.name,idealAlign:be.idealAlign,borderColor:be.borderColor,fontFamily:be.fontFamily,fontSize:be.fontSize,fontColor:be.fontColor,nameLength:be.nameLength,textAlign:be.textAlign,trace:be.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:be.hovertemplate||!1,hovertemplateLabels:be.hovertemplateLabels||!1,eventData:t1}}),{gd:R,hovermode:"closest",rotateLabels:!1,bgColor:O.bgColor||b.background,container:o.select(O.container),outerContainer:O.outerContainer||O.container}),he=0,Me=0;return ue.sort(function(be,Ae){return be.y0-Ae.y0}).each(function(be,Ae){var ze=be.y0-be.by/2;be.offset=ze-5<he?he-ze+5:0,he=ze+be.by+be.offset,Ae===O.anchorIndex&&(Me=be.offset)}).each(function(be){be.offset-=Me}),ce(ue,!1,R._fullLayout._invScaleX,R._fullLayout._invScaleY),J?ue:ue.node()};var q=/<extra>([\s\S]*)<\/extra>/;function X(F,O){var J=O.gd,R=J._fullLayout,ie=O.hovermode,fe=O.rotateLabels,ue=O.bgColor,he=O.container,Me=O.outerContainer,be=O.commonLabelOpts||{};if(0===F.length)return[[]];var Ae=O.fontFamily||k.HOVERFONT,ze=O.fontSize||k.HOVERFONTSIZE,Pe=F[0],Fe=Pe.xa,t1=Pe.ya,Xe=ie.charAt(0),Ue=Pe[Xe+"Label"],xe=re(J,Me),ve=xe.top,De=xe.width,Ve=xe.height,Ye=void 0!==Ue&&Pe.distance<=O.hoverdistance&&("x"===ie||"y"===ie);if(Ye){var Oe,Ie,Qe=!0;for(Oe=0;Oe<F.length;Oe++)if(Qe&&void 0===F[Oe].zLabel&&(Qe=!1),Ie=F[Oe].hoverinfo||F[Oe].trace.hoverinfo){var n1=Array.isArray(Ie)?Ie:Ie.split("+");if(-1===n1.indexOf("all")&&-1===n1.indexOf(ie)){Ye=!1;break}}Qe&&(Ye=!1)}var Ke=he.selectAll("g.axistext").data(Ye?[0]:[]);if(Ke.enter().append("g").classed("axistext",!0),Ke.exit().remove(),Ke.each(function(){var V1=o.select(this),q1=l.ensureSingle(V1,"path","",function(C2){C2.style({"stroke-width":"1px"})}),f2=l.ensureSingle(V1,"text","",function(C2){C2.attr("data-notex",1)}),z1=be.bgcolor||b.defaultLine,w1=be.bordercolor||b.contrast(z1),a2=b.contrast(z1),J1={family:be.font.family||Ae,size:be.font.size||ze,color:be.font.color||a2};q1.style({fill:z1,stroke:w1}),f2.text(Ue).call(_.font,J1).call(h.positionText,0,0).call(h.convertToTspans,J),V1.attr("transform","");var U1,e2,R1=re(J,f2.node());if("x"===ie){var L2="top"===Fe.side?"-":"";f2.attr("text-anchor","middle").call(h.positionText,0,"top"===Fe.side?ve-R1.bottom-B-$:ve-R1.top+B+$),e2=t1._offset+("top"===Fe.side?0:t1._length);var y2=R1.width/2+$;(U1=Fe._offset+(Pe.x0+Pe.x1)/2)<y2?(U1=y2,q1.attr("d","M-"+(y2-B)+",0L-"+(y2-2*B)+","+L2+B+"H"+($+R1.width/2)+"v"+L2+(2*$+R1.height)+"H-"+y2+"V"+L2+B+"Z")):U1>R.width-y2?(U1=R.width-y2,q1.attr("d","M"+(y2-B)+",0L"+y2+","+L2+B+"v"+L2+(2*$+R1.height)+"H-"+y2+"V"+L2+B+"H"+(y2-2*B)+"Z")):q1.attr("d","M0,0L"+B+","+L2+B+"H"+($+R1.width/2)+"v"+L2+(2*$+R1.height)+"H-"+($+R1.width/2)+"V"+L2+B+"H-"+B+"Z")}else{var w2,F2,O2;"right"===t1.side?(w2="start",F2=1,O2="",U1=Fe._offset+Fe._length):(w2="end",F2=-1,O2="-",U1=Fe._offset),e2=t1._offset+(Pe.y0+Pe.y1)/2,f2.attr("text-anchor",w2),q1.attr("d","M0,0L"+O2+B+","+B+"V"+($+R1.height/2)+"h"+O2+(2*$+R1.width)+"V-"+($+R1.height/2)+"H"+O2+B+"V-"+B+"Z");var S2,j1=R1.height/2,Y1=ve-R1.top-j1,t2="clip"+R._uid+"commonlabel"+t1._id;if(U1<R1.width+2*$+B){S2="M-"+(B+$)+"-"+j1+"h-"+(R1.width-$)+"V"+j1+"h"+(R1.width-$)+"Z";var d2=R1.width-U1+$;h.positionText(f2,d2,Y1),"end"===w2&&f2.selectAll("tspan").each(function(){var C2=o.select(this),G2=_.tester.append("text").text(C2.text()).call(_.font,J1),Q2=re(J,G2.node());Math.round(Q2.width)<Math.round(R1.width)&&C2.attr("x",d2-Q2.width),G2.remove()})}else h.positionText(f2,F2*($+B),Y1),S2=null;var s2=R._topclips.selectAll("#"+t2).data(S2?[0]:[]);s2.enter().append("clipPath").attr("id",t2).append("path"),s2.exit().remove(),s2.select("path").attr("d",S2),_.setClipUrl(f2,S2?t2:null,J)}V1.attr("transform",c(U1,e2))}),z.isUnifiedHover(ie)){he.selectAll("g.hovertext").remove();var r1=F.filter(function(V1){return"none"!==V1.hoverinfo});if(0===r1.length)return;var f1=R.hoverlabel,Je=f1.font,b1={font:Je};D({showlegend:!0,legend:{title:{text:Ue,font:Je},font:Je,bgcolor:f1.bgcolor,bordercolor:f1.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:R.legend?R.legend.traceorder:void 0,orientation:"v"}},b1,J._fullData);var _1=b1.legend;_1.entries=[];for(var I1=0;I1<r1.length;I1++){var M1=r1[I1];if("none"!==M1.hoverinfo){var Re=ee(M1,!0,ie,R,Ue),Be=Re[0],C1=Re[1];M1.name=C1,M1.text=""!==C1?C1+" : "+Be:Be;var O1=M1.cd[M1.index];O1&&(O1.mc&&(M1.mc=O1.mc),O1.mcc&&(M1.mc=O1.mcc),O1.mlc&&(M1.mlc=O1.mlc),O1.mlcc&&(M1.mlc=O1.mlcc),O1.mlw&&(M1.mlw=O1.mlw),O1.mrc&&(M1.mrc=O1.mrc),O1.dir&&(M1.dir=O1.dir)),M1._distinct=!0,_1.entries.push([M1])}}_1.entries.sort(function(V1,q1){return V1[0].trace.index-q1[0].trace.index}),_1.layer=he,_1._inHover=!0,_1._groupTitleFont=f1.grouptitlefont,S(J,_1);var Q1,l2,G1,K1,N1=he.select("g.legend"),ge=re(J,N1.node()),ye=ge.width+2*$,je=ge.height+2*$,e1=r1[0],d1=(e1.x0+e1.x1)/2,i1=(e1.y0+e1.y1)/2,l1=!(N.traceIs(e1.trace,"bar-like")||N.traceIs(e1.trace,"box-violin"));"y"===Xe?l1?(l2=i1-$,Q1=i1+$):(l2=Math.min.apply(null,r1.map(function(V1){return Math.min(V1.y0,V1.y1)})),Q1=Math.max.apply(null,r1.map(function(V1){return Math.max(V1.y0,V1.y1)}))):l2=Q1=l.mean(r1.map(function(V1){return(V1.y0+V1.y1)/2}))-je/2,"x"===Xe?l1?(G1=d1+$,K1=d1-$):(G1=Math.max.apply(null,r1.map(function(V1){return Math.max(V1.x0,V1.x1)})),K1=Math.min.apply(null,r1.map(function(V1){return Math.min(V1.x0,V1.x1)}))):G1=K1=l.mean(r1.map(function(V1){return(V1.x0+V1.x1)/2}))-ye/2;var c1,L1,H1=Fe._offset,B1=t1._offset;return K1+=H1-ye,l2+=B1-je,c1=(G1+=H1)+ye<De&&G1>=0?G1:K1+ye<De&&K1>=0?K1:H1+ye<De?H1:G1-d1<d1-K1+ye?De-ye:0,L1=(Q1+=B1)+je<Ve&&Q1>=0?Q1:l2+je<Ve&&l2>=0?l2:B1+je<Ve?B1:Q1-i1<i1-l2+je?Ve-je:0,N1.attr("transform",c((c1+=$)-1,(L1+=$)-1)),N1}var r2=he.selectAll("g.hovertext").data(F,function(V1){return W(V1)});return r2.enter().append("g").classed("hovertext",!0).each(function(){var V1=o.select(this);V1.append("rect").call(b.fill,b.addOpacity(ue,.8)),V1.append("text").classed("name",!0),V1.append("path").style("stroke-width","1px"),V1.append("text").classed("nums",!0).call(_.font,Ae,ze)}),r2.exit().remove(),r2.each(function(V1){var q1=o.select(this).attr("transform",""),f2=V1.color;Array.isArray(f2)&&(f2=f2[V1.eventData[0].pointNumber]);var z1=V1.bgcolor||f2,w1=b.combine(b.opacity(z1)?z1:b.defaultLine,ue),a2=b.combine(b.opacity(f2)?f2:b.defaultLine,ue),J1=V1.borderColor||b.contrast(w1),U1=ee(V1,Ye,ie,R,Ue,q1),e2=U1[0],R1=U1[1],L2=q1.select("text.nums").call(_.font,V1.fontFamily||Ae,V1.fontSize||ze,V1.fontColor||J1).text(e2).attr("data-notex",1).call(h.positionText,0,0).call(h.convertToTspans,J),y2=q1.select("text.name"),w2=0,F2=0;if(R1&&R1!==e2){y2.call(_.font,V1.fontFamily||Ae,V1.fontSize||ze,a2).text(R1).attr("data-notex",1).call(h.positionText,0,0).call(h.convertToTspans,J);var O2=re(J,y2.node());w2=O2.width+2*$,F2=O2.height+2*$}else y2.remove(),q1.select("rect").remove();q1.select("path").style({fill:w1,stroke:J1});var S2=V1.xa._offset+(V1.x0+V1.x1)/2,j1=V1.ya._offset+(V1.y0+V1.y1)/2,Y1=Math.abs(V1.x1-V1.x0),t2=Math.abs(V1.y1-V1.y0),d2=re(J,L2.node()),s2=d2.width/R._invScaleX,C2=d2.height/R._invScaleY;V1.ty0=(ve-d2.top)/R._invScaleY,V1.bx=s2+2*$,V1.by=Math.max(C2+2*$,F2),V1.anchor="start",V1.txwidth=s2,V1.tx2width=w2,V1.offset=0;var G2,Q2,A2=(s2+B+$+w2)*R._invScaleX;if(fe)V1.pos=S2,G2=j1+t2/2+A2<=Ve,Q2=j1-t2/2-A2>=0,"top"!==V1.idealAlign&&G2||!Q2?G2?(j1+=t2/2,V1.anchor="start"):V1.anchor="middle":(j1-=t2/2,V1.anchor="end");else if(V1.pos=j1,G2=S2+Y1/2+A2<=De,Q2=S2-Y1/2-A2>=0,"left"!==V1.idealAlign&&G2||!Q2)if(G2)S2+=Y1/2,V1.anchor="start";else{V1.anchor="middle";var z2=A2/2,dt=S2+z2-De,pt=S2-z2;dt>0&&(S2-=dt),pt<0&&(S2+=-pt)}else S2-=Y1/2,V1.anchor="end";L2.attr("text-anchor",V1.anchor),w2&&y2.attr("text-anchor",V1.anchor),q1.attr("transform",c(S2,j1)+(fe?C(P):""))}),r2}function ee(F,O,J,R,ie,fe){var ue="",he="";void 0!==F.nameOverride&&(F.name=F.nameOverride),F.name&&(F.trace._meta&&(F.name=l.templateString(F.name,F.trace._meta)),ue=le(F.name,F.nameLength));var Me=J.charAt(0);void 0!==F.zLabel?(void 0!==F.xLabel&&(he+="x: "+F.xLabel+"<br>"),void 0!==F.yLabel&&(he+="y: "+F.yLabel+"<br>"),"choropleth"!==F.trace.type&&"choroplethmapbox"!==F.trace.type&&(he+=(he?"z: ":"")+F.zLabel)):O&&F[Me+"Label"]===ie?he=F[("x"===Me?"y":"x")+"Label"]||"":void 0===F.xLabel?void 0!==F.yLabel&&"scattercarpet"!==F.trace.type&&(he=F.yLabel):he=void 0===F.yLabel?F.xLabel:"("+F.xLabel+", "+F.yLabel+")",!F.text&&0!==F.text||Array.isArray(F.text)||(he+=(he?"<br>":"")+F.text),void 0!==F.extraText&&(he+=(he?"<br>":"")+F.extraText),fe&&""===he&&!F.hovertemplate&&(""===ue&&fe.remove(),he=ue);var Ae=F.hovertemplate||!1;if(Ae){var ze=F.hovertemplateLabels||F;F[Me+"Label"]!==ie&&(ze[Me+"other"]=ze[Me+"Val"],ze[Me+"otherLabel"]=ze[Me+"Label"]),he=(he=l.hovertemplateString(Ae,ze,R._d3locale,F.eventData[0]||{},F.trace._meta)).replace(q,function(Pe,Fe){return ue=le(Fe,F.nameLength),""})}return[he,ue]}function ce(F,O,J,R){var ie=function(ue){return ue*J},fe=function(ue){return ue*R};F.each(function(ue){var he=o.select(this);if(ue.del)return he.remove();var Me=he.select("text.nums"),be=ue.anchor,Ae="end"===be?-1:1,ze={start:1,end:-1,middle:0}[be],Pe=ze*(B+$),Fe=Pe+ze*(ue.txwidth+$),t1=0,Xe=ue.offset,Ue="middle"===be;Ue&&(Pe-=ue.tx2width/2,Fe+=ue.txwidth/2+$),O&&(Xe*=-w,t1=ue.offset*I),he.select("path").attr("d",Ue?"M-"+ie(ue.bx/2+ue.tx2width/2)+","+fe(Xe-ue.by/2)+"h"+ie(ue.bx)+"v"+fe(ue.by)+"h-"+ie(ue.bx)+"Z":"M0,0L"+ie(Ae*B+t1)+","+fe(B+Xe)+"v"+fe(ue.by/2-B)+"h"+ie(Ae*ue.bx)+"v-"+fe(ue.by)+"H"+ie(Ae*B+t1)+"V"+fe(Xe-B)+"Z");var xe=t1+Pe,ve=Xe+ue.ty0-ue.by/2+$,De=ue.textAlign||"auto";"auto"!==De&&("left"===De&&"start"!==be?(Me.attr("text-anchor","start"),xe=Ue?-ue.bx/2-ue.tx2width/2+$:-ue.bx-$):"right"===De&&"end"!==be&&(Me.attr("text-anchor","end"),xe=Ue?ue.bx/2-ue.tx2width/2-$:ue.bx+$)),Me.call(h.positionText,ie(xe),fe(ve)),ue.tx2width&&(he.select("text.name").call(h.positionText,ie(Fe+ze*$+t1),fe(Xe+ue.ty0-ue.by/2+$)),he.select("rect").call(_.setRect,ie(Fe+(ze-1)*ue.tx2width/2+t1),fe(Xe-ue.by/2-1),ie(ue.tx2width),fe(ue.by+2)))})}function me(F,O){var J=F.index,R=F.trace||{},ie=F.cd[0],fe=F.cd[J]||{};function ue(Pe){return Pe||g(Pe)&&0===Pe}var he=Array.isArray(J)?function(Pe,Fe){var t1=l.castOption(ie,J,Pe);return ue(t1)?t1:l.extractOption({},R,"",Fe)}:function(Pe,Fe){return l.extractOption(fe,R,Pe,Fe)};function Me(Pe,Fe,t1){var Xe=he(Fe,t1);ue(Xe)&&(F[Pe]=Xe)}if(Me("hoverinfo","hi","hoverinfo"),Me("bgcolor","hbg","hoverlabel.bgcolor"),Me("borderColor","hbc","hoverlabel.bordercolor"),Me("fontFamily","htf","hoverlabel.font.family"),Me("fontSize","hts","hoverlabel.font.size"),Me("fontColor","htc","hoverlabel.font.color"),Me("nameLength","hnl","hoverlabel.namelength"),Me("textAlign","hta","hoverlabel.align"),F.posref="y"===O||"closest"===O&&"h"===R.orientation?F.xa._offset+(F.x0+F.x1)/2:F.ya._offset+(F.y0+F.y1)/2,F.x0=l.constrain(F.x0,0,F.xa._length),F.x1=l.constrain(F.x1,0,F.xa._length),F.y0=l.constrain(F.y0,0,F.ya._length),F.y1=l.constrain(F.y1,0,F.ya._length),void 0!==F.xLabelVal&&(F.xLabel="xLabel"in F?F.xLabel:L.hoverLabelText(F.xa,F.xLabelVal,R.xhoverformat),F.xVal=F.xa.c2d(F.xLabelVal)),void 0!==F.yLabelVal&&(F.yLabel="yLabel"in F?F.yLabel:L.hoverLabelText(F.ya,F.yLabelVal,R.yhoverformat),F.yVal=F.ya.c2d(F.yLabelVal)),void 0!==F.zLabelVal&&void 0===F.zLabel&&(F.zLabel=String(F.zLabelVal)),!(isNaN(F.xerr)||"log"===F.xa.type&&F.xerr<=0)){var be=L.tickText(F.xa,F.xa.c2l(F.xerr),"hover").text;F.xLabel+=void 0!==F.xerrneg?" +"+be+" / -"+L.tickText(F.xa,F.xa.c2l(F.xerrneg),"hover").text:" \xb1 "+be,"x"===O&&(F.distance+=1)}if(!(isNaN(F.yerr)||"log"===F.ya.type&&F.yerr<=0)){var Ae=L.tickText(F.ya,F.ya.c2l(F.yerr),"hover").text;F.yLabel+=void 0!==F.yerrneg?" +"+Ae+" / -"+L.tickText(F.ya,F.ya.c2l(F.yerrneg),"hover").text:" \xb1 "+Ae,"y"===O&&(F.distance+=1)}var ze=F.hoverinfo||F.trace.hoverinfo;return ze&&"all"!==ze&&(-1===(ze=Array.isArray(ze)?ze:ze.split("+")).indexOf("x")&&(F.xLabel=void 0),-1===ze.indexOf("y")&&(F.yLabel=void 0),-1===ze.indexOf("z")&&(F.zLabel=void 0),-1===ze.indexOf("text")&&(F.text=void 0),-1===ze.indexOf("name")&&(F.name=void 0)),F}function ae(F,O,J){var R,ie,fe=J.container,ue=J.fullLayout,he=ue._size,Me=J.event,be=!!O.hLinePoint,Ae=!!O.vLinePoint;if(fe.selectAll(".spikeline").remove(),Ae||be){var ze=b.combine(ue.plot_bgcolor,ue.paper_bgcolor);if(be){var Pe,Fe,t1=O.hLinePoint;R=t1&&t1.xa,"cursor"===(ie=t1&&t1.ya).spikesnap?(Pe=Me.pointerX,Fe=Me.pointerY):(Pe=R._offset+t1.x,Fe=ie._offset+t1.y);var Xe,Ue,xe=p.readability(t1.color,ze)<1.5?b.contrast(ze):t1.color,ve=ie.spikemode,De=ie.spikethickness,Ve=ie.spikecolor||xe,Ye=L.getPxPosition(F,ie);if(-1!==ve.indexOf("toaxis")||-1!==ve.indexOf("across")){if(-1!==ve.indexOf("toaxis")&&(Xe=Ye,Ue=Pe),-1!==ve.indexOf("across")){var Oe=ie._counterDomainMin,Ie=ie._counterDomainMax;"free"===ie.anchor&&(Oe=Math.min(Oe,ie.position),Ie=Math.max(Ie,ie.position)),Xe=he.l+Oe*he.w,Ue=he.l+Ie*he.w}fe.insert("line",":first-child").attr({x1:Xe,x2:Ue,y1:Fe,y2:Fe,"stroke-width":De,stroke:Ve,"stroke-dasharray":_.dashStyle(ie.spikedash,De)}).classed("spikeline",!0).classed("crisp",!0),fe.insert("line",":first-child").attr({x1:Xe,x2:Ue,y1:Fe,y2:Fe,"stroke-width":De+2,stroke:ze}).classed("spikeline",!0).classed("crisp",!0)}-1!==ve.indexOf("marker")&&fe.insert("circle",":first-child").attr({cx:Ye+("right"!==ie.side?De:-De),cy:Fe,r:De,fill:Ve}).classed("spikeline",!0)}if(Ae){var Qe,n1,Ke=O.vLinePoint;ie=Ke&&Ke.ya,"cursor"===(R=Ke&&Ke.xa).spikesnap?(Qe=Me.pointerX,n1=Me.pointerY):(Qe=R._offset+Ke.x,n1=ie._offset+Ke.y);var r1,f1,Je=p.readability(Ke.color,ze)<1.5?b.contrast(ze):Ke.color,g1=R.spikemode,b1=R.spikethickness,_1=R.spikecolor||Je,I1=L.getPxPosition(F,R);if(-1!==g1.indexOf("toaxis")||-1!==g1.indexOf("across")){if(-1!==g1.indexOf("toaxis")&&(r1=I1,f1=n1),-1!==g1.indexOf("across")){var M1=R._counterDomainMin,Re=R._counterDomainMax;"free"===R.anchor&&(M1=Math.min(M1,R.position),Re=Math.max(Re,R.position)),r1=he.t+(1-Re)*he.h,f1=he.t+(1-M1)*he.h}fe.insert("line",":first-child").attr({x1:Qe,x2:Qe,y1:r1,y2:f1,"stroke-width":b1,stroke:_1,"stroke-dasharray":_.dashStyle(R.spikedash,b1)}).classed("spikeline",!0).classed("crisp",!0),fe.insert("line",":first-child").attr({x1:Qe,x2:Qe,y1:r1,y2:f1,"stroke-width":b1+2,stroke:ze}).classed("spikeline",!0).classed("crisp",!0)}-1!==g1.indexOf("marker")&&fe.insert("circle",":first-child").attr({cx:Qe,cy:I1-("top"!==R.side?b1:-b1),r:b1,fill:_1}).classed("spikeline",!0)}}}function K(F,O){return!O||O.vLinePoint!==F._spikepoints.vLinePoint||O.hLinePoint!==F._spikepoints.hLinePoint}function le(F,O){return h.plainText(F||"",{len:O,allowedTags:["br","sub","sup","b","i","em"]})}function G(F,O,J){var R=O[F+"a"],ie=O[F+"Val"],fe=O.cd[0];if("category"===R.type)ie=R._categoriesMap[ie];else if("date"===R.type){var ue=O.trace[F+"periodalignment"];if(ue){var he=O.cd[O.index],Me=he[F+"Start"];void 0===Me&&(Me=he[F]);var be=he[F+"End"];void 0===be&&(be=he[F]);var Ae=be-Me;"end"===ue?ie+=Ae:"middle"===ue&&(ie+=Ae/2)}ie=R.d2c(ie)}return fe&&fe.t&&fe.t.posLetter===R._id&&("group"!==J.boxmode&&"group"!==J.violinmode||(ie+=fe.t.dPos)),ie}function j(F){return F.offsetTop+F.clientTop}function oe(F){return F.offsetLeft+F.clientLeft}function re(F,O){var J=F._fullLayout,R=O.getBoundingClientRect(),ie=R.x,fe=R.y,ue=ie+R.width,he=fe+R.height,Me=l.apply3DTransform(J._invTransform)(ie,fe),be=l.apply3DTransform(J._invTransform)(ue,he),Ae=Me[0],ze=Me[1],Pe=be[0],Fe=be[1];return{x:Ae,y:ze,width:Pe-Ae,height:Fe-ze,top:Math.min(ze,Fe),left:Math.min(Ae,Pe),right:Math.max(Ae,Pe),bottom:Math.max(ze,Fe)}}},{"../../lib":232,"../../lib/events":225,"../../lib/override_cursor":243,"../../lib/svg_text_utils":255,"../../plots/cartesian/axes":279,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"../legend/defaults":154,"../legend/draw":155,"./constants":136,"./helpers":138,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:67}],140:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("../color"),p=m("./helpers").isUnifiedHover;de.exports=function(l,c,C,d){d=d||{};var h=c.legend;function u(_){d.font[_]||(d.font[_]=h?c.legend.font[_]:c.font[_])}c&&p(c.hovermode)&&(d.font||(d.font={}),u("size"),u("family"),u("color"),h?(d.bgcolor||(d.bgcolor=g.combine(c.legend.bgcolor,c.paper_bgcolor)),d.bordercolor||(d.bordercolor=c.legend.bordercolor)):d.bgcolor||(d.bgcolor=c.paper_bgcolor)),C("hoverlabel.bgcolor",d.bgcolor),C("hoverlabel.bordercolor",d.bordercolor),C("hoverlabel.namelength",d.namelength),o.coerceFont(C,"hoverlabel.font",d.font),C("hoverlabel.align",d.align)}},{"../../lib":232,"../color":102,"./helpers":138}],141:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("./layout_attributes");de.exports=function(p,l){function c(C,d){return void 0!==l[C]?l[C]:o.coerce(p,l,g,C,d)}return c("clickmode"),c("hovermode")}},{"../../lib":232,"./layout_attributes":143}],142:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("../../lib"),p=m("../dragelement"),l=m("./helpers"),c=m("./layout_attributes"),C=m("./hover");de.exports={moduleType:"component",name:"fx",constants:m("./constants"),schema:{layout:c},attributes:m("./attributes"),layoutAttributes:c,supplyLayoutGlobalDefaults:m("./layout_global_defaults"),supplyDefaults:m("./defaults"),supplyLayoutDefaults:m("./layout_defaults"),calc:m("./calc"),getDistanceFunction:l.getDistanceFunction,getClosest:l.getClosest,inbox:l.inbox,quadrature:l.quadrature,appendArrayPointValue:l.appendArrayPointValue,castHoverOption:function(d,h,u){return g.castOption(d,h,"hoverlabel."+u)},castHoverinfo:function(d,h,u){return g.castOption(d,u,"hoverinfo",function(_){return g.coerceHoverinfo({hoverinfo:_},{_module:d._module},h)})},hover:C.hover,unhover:p.unhover,loneHover:C.loneHover,loneUnhover:function(d){var h=g.isD3Selection(d)?d:o.select(d);h.selectAll("g.hovertext").remove(),h.selectAll(".spikeline").remove()},click:m("./click")}},{"../../lib":232,"../dragelement":121,"./attributes":133,"./calc":134,"./click":135,"./constants":136,"./defaults":137,"./helpers":138,"./hover":139,"./layout_attributes":143,"./layout_defaults":144,"./layout_global_defaults":145,"@plotly/d3":11}],143:[function(m,de,te){"use strict";var o=m("./constants"),g=m("../../plots/font_attributes"),p=g({editType:"none"});p.family.dflt=o.HOVERFONT,p.size.dflt=o.HOVERFONTSIZE,de.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:p,grouptitlefont:g({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},{"../../plots/font_attributes":310,"./constants":136}],144:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("./layout_attributes"),p=m("./hovermode_defaults"),l=m("./hoverlabel_defaults");de.exports=function(c,C){function d(b,M){return o.coerce(c,C,g,b,M)}p(c,C)&&(d("hoverdistance"),d("spikedistance")),"select"===d("dragmode")&&d("selectdirection");var h=C._has("mapbox"),u=C._has("geo"),_=C._basePlotModules.length;"zoom"===C.dragmode&&((h||u)&&1===_||h&&u&&2===_)&&(C.dragmode="pan"),l(c,C,d),o.coerceFont(d,"hoverlabel.grouptitlefont",C.hoverlabel.font)}},{"../../lib":232,"./hoverlabel_defaults":140,"./hovermode_defaults":141,"./layout_attributes":143}],145:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("./hoverlabel_defaults"),p=m("./layout_attributes");de.exports=function(l,c){g(l,c,function(C,d){return o.coerce(l,c,p,C,d)})}},{"../../lib":232,"./hoverlabel_defaults":140,"./layout_attributes":143}],146:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("../../lib/regex").counter,p=m("../../plots/domain").attributes,l=m("../../plots/cartesian/constants").idRegex,c=m("../../plot_api/plot_template"),C={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[g("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[l.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[l.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:p({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function d(_,b,M){var L=b[M+"axes"],N=Object.keys((_._splomAxes||{})[M]||{});return Array.isArray(L)?L:N.length?N:void 0}function h(_,b,M,L,N,z){var k=b(_+"gap",M),D=b("domain."+_);b(_+"side",L);for(var S=new Array(N),P=D[0],H=(D[1]-P)/(N-k),E=H*(1-k),I=0;I<N;I++){var w=P+H*I;S[z?N-1-I:I]=[w,w+E]}return S}function u(_,b,M,L,N){var z,k=new Array(M);function D(S,P){-1!==b.indexOf(P)&&void 0===L[P]?(k[S]=P,L[P]=S):k[S]=""}if(Array.isArray(_))for(z=0;z<M;z++)D(z,_[z]);else for(D(0,N),z=1;z<M;z++)D(z,N+(z+1));return k}de.exports={moduleType:"component",name:"grid",schema:{layout:{grid:C}},layoutAttributes:C,sizeDefaults:function(_,b){var M=_.grid||{},L=d(b,M,"x"),N=d(b,M,"y");if(_.grid||L||N){var z,k,D=Array.isArray(M.subplots)&&Array.isArray(M.subplots[0]),S=Array.isArray(L),P=Array.isArray(N),H=S&&L!==M.xaxes&&P&&N!==M.yaxes;D?(z=M.subplots.length,k=M.subplots[0].length):(P&&(z=N.length),S&&(k=L.length));var E=c.newContainer(b,"grid"),I=q("rows",z),w=q("columns",k);if(I*w>1){!D&&!S&&!P&&"independent"===q("pattern")&&(D=!0),E._hasSubplotGrid=D;var B,$,T="top to bottom"===q("roworder"),W=D?.3:.1;H&&b._splomGridDflt&&(B=b._splomGridDflt.xside,$=b._splomGridDflt.yside),E._domains={x:h("x",q,D?.2:.1,B,w),y:h("y",q,W,$,I,T)}}else delete b.grid}function q(X,ee){return o.coerce(M,E,C,X,ee)}},contentDefaults:function(_,b){var M=b.grid;if(M&&M._domains){var L,N,z,k,D,S,P,H=_.grid||{},E=b._subplots,I=M._hasSubplotGrid,w=M.rows,B=M.columns,$="independent"===M.pattern,T=M._axisMap={};if(I){var Y=H.subplots||[];S=M.subplots=new Array(w);var W=1;for(L=0;L<w;L++){var q=S[L]=new Array(B),X=Y[L]||[];for(N=0;N<B;N++)if($?(D=1===W?"xy":"x"+W+"y"+W,W++):D=X[N],q[N]="",-1!==E.cartesian.indexOf(D)){if(P=D.indexOf("y"),z=D.slice(0,P),k=D.slice(P),void 0!==T[z]&&T[z]!==N||void 0!==T[k]&&T[k]!==L)continue;q[N]=D,T[z]=N,T[k]=L}}}else{var ee=d(b,H,"x"),ce=d(b,H,"y");M.xaxes=u(ee,E.xaxis,B,T,"x"),M.yaxes=u(ce,E.yaxis,w,T,"y")}var me=M._anchors={},ae="top to bottom"===M.roworder;for(var K in T){var le,G,j,oe=K.charAt(0),re=M[oe+"side"];if(re.length<8)me[K]="free";else if("x"===oe){if("t"===re.charAt(0)===ae?(le=0,G=1,j=w):(le=w-1,G=-1,j=-1),I){var F=T[K];for(L=le;L!==j;L+=G)if((D=S[L][F])&&(P=D.indexOf("y"),D.slice(0,P)===K)){me[K]=D.slice(P);break}}else for(L=le;L!==j;L+=G)if(-1!==E.cartesian.indexOf(K+(k=M.yaxes[L]))){me[K]=k;break}}else if("l"===re.charAt(0)?(le=0,G=1,j=B):(le=B-1,G=-1,j=-1),I){var O=T[K];for(L=le;L!==j;L+=G)if((D=S[O][L])&&(P=D.indexOf("y"),D.slice(P)===K)){me[K]=D.slice(0,P);break}}else for(L=le;L!==j;L+=G)if(-1!==E.cartesian.indexOf((z=M.xaxes[L])+K)){me[K]=z;break}}}}}},{"../../lib":232,"../../lib/regex":248,"../../plot_api/plot_template":268,"../../plots/cartesian/constants":286,"../../plots/domain":309}],147:[function(m,de,te){"use strict";var o=m("../../plots/cartesian/constants"),g=m("../../plot_api/plot_template").templatedArray;m("../../constants/axis_placeable_objects"),de.exports=g("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",o.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",o.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":208,"../../plot_api/plot_template":268,"../../plots/cartesian/constants":286}],148:[function(m,de,te){"use strict";var o=m("fast-isnumeric"),g=m("../../lib/to_log_range");de.exports=function(p,l,c,C){l=l||{};var d="log"===c&&"linear"===l.type;if(d||"linear"===c&&"log"===l.type)for(var u,_,b=p._fullLayout.images,M=l._id.charAt(0),L=0;L<b.length;L++)if(_="images["+L+"].",(u=b[L])[M+"ref"]===l._id){var N=u[M],z=u["size"+M],k=null,D=null;if(d){k=g(N,l.range);var S=z/Math.pow(10,k)/2;D=2*Math.log(S+Math.sqrt(1+S*S))/Math.LN10}else D=(k=Math.pow(10,N))*(Math.pow(10,z/2)-Math.pow(10,-z/2));o(k)?o(D)||(D=null):(k=null,D=null),C(_+M,k),C(_+"size"+M,D)}}},{"../../lib/to_log_range":257,"fast-isnumeric":17}],149:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("../../plots/cartesian/axes"),p=m("../../plots/array_container_defaults"),l=m("./attributes");function c(C,d,h){function u(k,D){return o.coerce(C,d,l,k,D)}var _=u("source");if(!u("visible",!!_))return d;u("layer"),u("xanchor"),u("yanchor"),u("sizex"),u("sizey"),u("sizing"),u("opacity");for(var b={_fullLayout:h},M=["x","y"],L=0;L<2;L++){var N=M[L],z=g.coerceRef(C,d,b,N,"paper",void 0);"paper"!==z&&g.getFromId(b,z)._imgIndices.push(d._index),g.coercePosition(d,b,u,z,N,0)}return d}de.exports=function(C,d){p(C,d,{name:"images",handleItemDefaults:c})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"./attributes":147}],150:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("../drawing"),p=m("../../plots/cartesian/axes"),l=m("../../plots/cartesian/axis_ids"),c=m("../../constants/xmlns_namespaces");de.exports=function(C){var d,h,u=C._fullLayout,_=[],b={},M=[];for(h=0;h<u.images.length;h++){var L=u.images[h];if(L.visible)if("below"===L.layer&&"paper"!==L.xref&&"paper"!==L.yref){d=l.ref2id(L.xref)+l.ref2id(L.yref);var N=u._plots[d];if(!N){M.push(L);continue}N.mainplot&&(d=N.mainplot.id),b[d]||(b[d]=[]),b[d].push(L)}else"above"===L.layer?_.push(L):M.push(L)}var z={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},k={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function D(B){var $=o.select(this);if(this._imgSrc!==B.source)if($.attr("xmlns",c.svg),B.source&&"data:"===B.source.slice(0,5))$.attr("xlink:href",B.source),this._imgSrc=B.source;else{var T=new Promise(function(Y){var W=new Image;function q(){$.remove(),Y()}this.img=W,W.setAttribute("crossOrigin","anonymous"),W.onerror=q,W.onload=function(){var X=document.createElement("canvas");X.width=this.width,X.height=this.height,X.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var ee=X.toDataURL("image/png");$.attr("xlink:href",ee),Y()},$.on("error",q),W.src=B.source,this._imgSrc=B.source}.bind(this));C._promises.push(T)}}function S(B){var $,T,Y=o.select(this),W=p.getFromId(C,B.xref),q=p.getFromId(C,B.yref),X="domain"===p.getRefType(B.xref),ee="domain"===p.getRefType(B.yref),ce=u._size;$=void 0!==W?"string"==typeof B.xref&&X?W._length*B.sizex:Math.abs(W.l2p(B.sizex)-W.l2p(0)):B.sizex*ce.w,T=void 0!==q?"string"==typeof B.yref&&ee?q._length*B.sizey:Math.abs(q.l2p(B.sizey)-q.l2p(0)):B.sizey*ce.h;var me,ae,K=$*z[B.xanchor].offset,le=T*k[B.yanchor].offset,G=z[B.xanchor].sizing+k[B.yanchor].sizing;switch(me=void 0!==W?"string"==typeof B.xref&&X?W._length*B.x+W._offset:W.r2p(B.x)+W._offset:B.x*ce.w+ce.l,me+=K,ae=void 0!==q?"string"==typeof B.yref&&ee?q._length*(1-B.y)+q._offset:q.r2p(B.y)+q._offset:ce.h-B.y*ce.h+ce.t,ae+=le,B.sizing){case"fill":G+=" slice";break;case"stretch":G="none"}Y.attr({x:me,y:ae,width:$,height:T,preserveAspectRatio:G,opacity:B.opacity});var j=(W&&"domain"!==p.getRefType(B.xref)?W._id:"")+(q&&"domain"!==p.getRefType(B.yref)?q._id:"");g.setClipUrl(Y,j?"clip"+u._uid+j:null,C)}var P=u._imageLowerLayer.selectAll("image").data(M),H=u._imageUpperLayer.selectAll("image").data(_);P.enter().append("image"),H.enter().append("image"),P.exit().remove(),H.exit().remove(),P.each(function(B){D.bind(this)(B),S.bind(this)(B)}),H.each(function(B){D.bind(this)(B),S.bind(this)(B)});var E=Object.keys(u._plots);for(h=0;h<E.length;h++){var I=u._plots[d=E[h]];if(I.imagelayer){var w=I.imagelayer.selectAll("image").data(b[d]||[]);w.enter().append("image"),w.exit().remove(),w.each(function(B){D.bind(this)(B),S.bind(this)(B)})}}}},{"../../constants/xmlns_namespaces":213,"../../plots/cartesian/axes":279,"../../plots/cartesian/axis_ids":283,"../drawing":124,"@plotly/d3":11}],151:[function(m,de,te){"use strict";de.exports={moduleType:"component",name:"images",layoutAttributes:m("./attributes"),supplyLayoutDefaults:m("./defaults"),includeBasePlot:m("../../plots/cartesian/include_components")("images"),draw:m("./draw"),convertCoords:m("./convert_coords")}},{"../../plots/cartesian/include_components":292,"./attributes":147,"./convert_coords":148,"./defaults":149,"./draw":150}],152:[function(m,de,te){"use strict";var o=m("../../plots/font_attributes"),g=m("../color/attributes");de.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:g.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:o({editType:"legend"}),grouptitlefont:o({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:o({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},{"../../plots/font_attributes":310,"../color/attributes":101}],153:[function(m,de,te){"use strict";de.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},{}],154:[function(m,de,te){"use strict";var o=m("../../registry"),g=m("../../lib"),p=m("../../plot_api/plot_template"),l=m("../../plots/attributes"),c=m("./attributes"),C=m("../../plots/layout_attributes"),d=m("./helpers");de.exports=function(h,u,_){var b,M=h.legend||{},L=p.newContainer(u,"legend");function N(q,X){return g.coerce(M,L,c,q,X)}for(var z=function(q,X){return g.coerce(b._input,b,l,q,X)},k=u.font||{},D=g.coerceFont(N,"grouptitlefont",g.extendFlat({},k,{size:Math.round(1.1*k.size)})),S=0,P=!1,H="normal",E=0;E<_.length;E++)(b=_[E]).visible&&((b.showlegend||b._dfltShowLegend&&!(b._module&&b._module.attributes&&b._module.attributes.showlegend&&!1===b._module.attributes.showlegend.dflt))&&(S++,b.showlegend&&(P=!0,(o.traceIs(b,"pie-like")||!0===b._input.showlegend)&&S++),g.coerceFont(z,"legendgrouptitle.font",D)),(o.traceIs(b,"bar")&&"stack"===u.barmode||-1!==["tonextx","tonexty"].indexOf(b.fill))&&(H=d.isGrouped({traceorder:H})?"grouped+reversed":"reversed"),void 0!==b.legendgroup&&""!==b.legendgroup&&(H=d.isReversed({traceorder:H})?"reversed+grouped":"grouped"));var I=g.coerce(h,u,C,"showlegend",P&&S>1);if(!1===I&&(u.legend=void 0),(!1!==I||M.uirevision)&&(N("uirevision",u.uirevision),!1!==I)){N("bgcolor",u.paper_bgcolor),N("bordercolor"),N("borderwidth");var w,B,$,T=g.coerceFont(N,"font",u.font),Y="h"===N("orientation");if(Y?(w=0,o.getComponentMethod("rangeslider","isVisible")(h.xaxis)?(B=1.1,$="bottom"):(B=-.1,$="top")):(w=1.02,B=1,$="auto"),N("traceorder",H),d.isGrouped(u.legend)&&N("tracegroupgap"),N("itemsizing"),N("itemwidth"),N("itemclick"),N("itemdoubleclick"),N("groupclick"),N("x",w),N("xanchor"),N("y",B),N("yanchor",$),N("valign"),g.noneOrAll(M,L,["x","y"]),N("title.text")){N("title.side",Y?"left":"top");var W=g.extendFlat({},T,{size:g.bigFont(T.size)});g.coerceFont(N,"title.font",W)}}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/attributes":275,"../../plots/layout_attributes":314,"../../registry":318,"./attributes":152,"./helpers":158}],155:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("../../lib"),p=m("../../plots/plots"),l=m("../../registry"),c=m("../../lib/events"),C=m("../dragelement"),d=m("../drawing"),h=m("../color"),u=m("../../lib/svg_text_utils"),_=m("./handle_click"),b=m("./constants"),M=m("../../constants/alignment"),L=M.LINE_SPACING,N=M.FROM_TL,z=M.FROM_BR,k=m("./get_legend_data"),D=m("./style"),S=m("./helpers");function P(T,Y,W,q,X){var ee=W.data()[0][0].trace,ce={event:X,node:W.node(),curveNumber:ee.index,expandedIndex:ee._expandedIndex,data:T.data,layout:T.layout,frames:T._transitionData._frames,config:T._context,fullData:T._fullData,fullLayout:T._fullLayout};ee._group&&(ce.group=ee._group),l.traceIs(ee,"pie-like")&&(ce.label=W.datum()[0].label),!1!==c.triggerHandler(T,"plotly_legendclick",ce)&&(1===q?Y._clickTimeout=setTimeout(function(){T._fullLayout&&_(W,T,q)},T._context.doubleClickDelay):2===q&&(Y._clickTimeout&&clearTimeout(Y._clickTimeout),T._legendMouseDownTime=0,!1!==c.triggerHandler(T,"plotly_legenddoubleclick",ce)&&_(W,T,q)))}function H(T,Y,W){var q,X,ee=T.data()[0][0],ce=ee.trace,me=l.traceIs(ce,"pie-like"),ae=!W._inHover&&Y._context.edits.legendText&&!me,K=W._maxNameLength;ee.groupTitle?(q=ee.groupTitle.text,X=ee.groupTitle.font):(X=W.font,W.entries?q=ee.text:(q=me?ee.label:ce.name,ce._meta&&(q=g.templateString(q,ce._meta))));var le=g.ensureSingle(T,"text","legendtext");le.attr("text-anchor","start").call(d.font,X).text(ae?E(q,K):q),u.positionText(le,W.itemwidth+2*b.itemGap,0),ae?le.call(u.makeEditable,{gd:Y,text:q}).call(w,T,Y,W).on("edit",function(j){this.text(E(j,K)).call(w,T,Y,W);var oe=ee.trace._fullInput||{},re={};if(l.hasTransform(oe,"groupby")){var F=l.getTransformIndices(oe,"groupby"),J=g.keyedContainer(oe,"transforms["+F[F.length-1]+"].styles","target","value.name");J.set(ee.trace._group,j),re=J.constructUpdate()}else re.name=j;return l.call("_guiRestyle",Y,re,ce.index)}):w(le,T,Y,W)}function E(T,Y){var W=Math.max(4,Y);if(T&&T.trim().length>=W/2)return T;for(var q=W-(T=T||"").length;q>0;q--)T+=" ";return T}function I(T,Y){var W,q=Y._context.doubleClickDelay,X=1,ee=g.ensureSingle(T,"rect","legendtoggle",function(ce){Y._context.staticPlot||ce.style("cursor","pointer").attr("pointer-events","all"),ce.call(h.fill,"rgba(0,0,0,0)")});Y._context.staticPlot||(ee.on("mousedown",function(){(W=(new Date).getTime())-Y._legendMouseDownTime<q?X+=1:(X=1,Y._legendMouseDownTime=W)}),ee.on("mouseup",function(){if(!Y._dragged&&!Y._editing){var ce=Y._fullLayout.legend;(new Date).getTime()-Y._legendMouseDownTime>q&&(X=Math.max(X-1,1)),P(Y,ce,T,X,o.event)}}))}function w(T,Y,W,q,X){q._inHover&&T.attr("data-notex",!0),u.convertToTspans(T,W,function(){!function(ee,ce,me,ae){var K=ee.data()[0][0];if(me._inHover||!K||K.trace.showlegend){var le=ee.select("g[class*=math-group]"),G=le.node();me||(me=ce._fullLayout.legend);var re,F,oe=me.borderwidth,O=(1===ae?me.title.font:K.groupTitle?K.groupTitle.font:me.font).size*L;if(G){var J=d.bBox(G);re=J.height,F=J.width,1===ae?d.setTranslate(le,oe,oe+.75*re):d.setTranslate(le,0,.25*re)}else{var R=ee.select(1===ae?".legendtitletext":".legendtext"),ie=u.lineCount(R),fe=R.node();if(re=O*ie,F=fe?d.bBox(fe).width:0,1===ae)"left"===me.title.side&&(F+=2*b.itemGap),u.positionText(R,oe+b.titlePad,oe+O);else{var ue=2*b.itemGap+me.itemwidth;K.groupTitle&&(ue=b.itemGap,F-=me.itemwidth),u.positionText(R,ue,-O*((ie-1)/2-.3))}}1===ae?(me._titleWidth=F,me._titleHeight=re):(K.lineHeight=O,K.height=Math.max(re,16)+3,K.width=F)}else ee.remove()}(Y,W,q,X)})}function B(T){return g.isRightAnchor(T)?"right":g.isCenterAnchor(T)?"center":"left"}function $(T){return g.isBottomAnchor(T)?"bottom":g.isMiddleAnchor(T)?"middle":"top"}de.exports=function(T,Y){return Y||(Y=T._fullLayout.legend||{}),function(W,q){var X,ee,ce=W._fullLayout,me="legend"+ce._uid,ae=q._inHover;if(ae?(X=q.layer,me+="-hover"):X=ce._infolayer,X){if(W._legendMouseDownTime||(W._legendMouseDownTime=0),ae){if(!q.entries)return;ee=k(q.entries,q)}else{if(!W.calcdata)return;ee=ce.showlegend&&k(W.calcdata,q)}var K=ce.hiddenlabels||[];if(!(ae||ce.showlegend&&ee.length))return X.selectAll(".legend").remove(),ce._topdefs.select("#"+me).remove(),p.autoMargin(W,"legend");var le=g.ensureSingle(X,"g","legend",function(ie){ae||ie.attr("pointer-events","all")}),G=g.ensureSingleById(ce._topdefs,"clipPath",me,function(ie){ie.append("rect")}),j=g.ensureSingle(le,"rect","bg",function(ie){ie.attr("shape-rendering","crispEdges")});j.call(h.stroke,q.bordercolor).call(h.fill,q.bgcolor).style("stroke-width",q.borderwidth+"px");var oe=g.ensureSingle(le,"g","scrollbox"),re=q.title;if(q._titleWidth=0,q._titleHeight=0,re.text){var F=g.ensureSingle(oe,"text","legendtitletext");F.attr("text-anchor","start").call(d.font,re.font).text(re.text),w(F,oe,W,q,1)}else oe.selectAll(".legendtitletext").remove();var O=g.ensureSingle(le,"rect","scrollbar",function(ie){ie.attr(b.scrollBarEnterAttrs).call(h.fill,b.scrollBarColor)}),J=oe.selectAll("g.groups").data(ee);J.enter().append("g").attr("class","groups"),J.exit().remove();var R=J.selectAll("g.traces").data(g.identity);R.enter().append("g").attr("class","traces"),R.exit().remove(),R.style("opacity",function(ie){var fe=ie[0].trace;return l.traceIs(fe,"pie-like")?-1!==K.indexOf(ie[0].label)?.5:1:"legendonly"===fe.visible?.5:1}).each(function(){o.select(this).call(H,W,q)}).call(D,W,q).each(function(){ae||o.select(this).call(I,W)}),g.syncOrAsync([p.previousPromises,function(){return function(ie,fe,ue,he){var Me=ie._fullLayout;he||(he=Me.legend);var be=Me._size,Ae=S.isVertical(he),ze=S.isGrouped(he),Pe=he.borderwidth,Fe=2*Pe,t1=b.itemGap,Xe=he.itemwidth+2*t1,Ue=2*(Pe+t1),xe=$(he),ve=he.y<0||0===he.y&&"top"===xe,De=he.y>1||1===he.y&&"bottom"===xe,Ve=he.tracegroupgap;he._maxHeight=Math.max(ve||De?Me.height/2:be.h,30);var Ye=0;he._width=0,he._height=0;var K1,N1,ge,ye,Oe=(N1=0,ge=0,(ye=(K1=he).title.side)&&(-1!==ye.indexOf("left")&&(N1=K1._titleWidth),-1!==ye.indexOf("top")&&(ge=K1._titleHeight)),[N1,ge]);if(Ae)ue.each(function(K1){var N1=K1[0].height;d.setTranslate(this,Pe+Oe[0],Pe+Oe[1]+he._height+N1/2+t1),he._height+=N1,he._width=Math.max(he._width,K1[0].width)}),Ye=Xe+he._width,he._width+=t1+Xe+Fe,he._height+=Ue,ze&&(fe.each(function(K1,N1){d.setTranslate(this,0,N1*he.tracegroupgap)}),he._height+=(he._lgroupsLength-1)*he.tracegroupgap);else{var Ie=B(he),Ke=De||ve,r1=Me.width/2;he._maxWidth=Math.max(he.x<0||0===he.x&&"right"===Ie?Ke&&"left"===Ie?be.l+be.w:r1:he.x>1||1===he.x&&"left"===Ie?Ke&&"right"===Ie?be.r+be.w:r1:be.w,2*Xe);var f1=0,Je=0;ue.each(function(K1){var N1=K1[0].width+Xe;f1=Math.max(f1,N1),Je+=N1}),Ye=null;var g1=0;if(ze){var b1=0,_1=0,I1=0;fe.each(function(){var K1=0,N1=0;o.select(this).selectAll("g.traces").each(function(ye){var je=ye[0].width,e1=ye[0].height;d.setTranslate(this,Oe[0],Oe[1]+Pe+t1+e1/2+N1),N1+=e1,K1=Math.max(K1,Xe+je)});var ge=K1+t1;_1>0&&ge+Pe+_1>he._maxWidth?(g1=Math.max(g1,_1),_1=0,I1+=b1+Ve,b1=N1):b1=Math.max(b1,N1),d.setTranslate(this,_1,I1),_1+=ge}),he._width=Math.max(g1,_1)+Pe,he._height=I1+b1+Ue}else{var M1=ue.size(),Re=Je+Fe+(M1-1)*t1<he._maxWidth,Be=0,C1=0,O1=0,Q1=0;ue.each(function(K1){var N1=K1[0].height,ge=Xe+K1[0].width,ye=(Re?ge:f1)+t1;ye+Pe+C1-t1>=he._maxWidth&&(g1=Math.max(g1,Q1),C1=0,O1+=Be,he._height+=Be,Be=0),d.setTranslate(this,Oe[0]+Pe+C1,Oe[1]+Pe+O1+N1/2+t1),Q1=C1+ge+t1,C1+=ye,Be=Math.max(Be,N1)}),Re?(he._width=C1+Fe,he._height=Be+Ue):(he._width=Math.max(g1,Q1)+Fe,he._height+=Be+Ue)}}he._width=Math.ceil(Math.max(he._width+Oe[0],he._titleWidth+2*(Pe+b.titlePad))),he._height=Math.ceil(Math.max(he._height+Oe[1],he._titleHeight+2*(Pe+b.itemGap))),he._effHeight=Math.min(he._height,he._maxHeight);var l2=ie._context.edits,G1=l2.legendText||l2.legendPosition;ue.each(function(K1){var N1=o.select(this).select(".legendtoggle"),ge=K1[0].height,ye=G1?Xe:Ye||Xe+K1[0].width;Ae||(ye+=t1/2),d.setRect(N1,0,-ge/2,ye,ge)})}(W,J,R,q)},function(){var ie,fe,ue,he,Ke,r1,f1,Je,Me=ce._size,be=q.borderwidth;if(!ae){if(f1=B(r1=(Ke=W)._fullLayout.legend),Je=$(r1),p.autoMargin(Ke,"legend",{x:r1.x,y:r1.y,l:r1._width*N[f1],r:r1._width*z[f1],b:r1._effHeight*z[Je],t:r1._effHeight*N[Je]}))return;var Ae=Me.l+Me.w*q.x-N[B(q)]*q._width,ze=Me.t+Me.h*(1-q.y)-N[$(q)]*q._effHeight;if(ce.margin.autoexpand){var Pe=Ae,Fe=ze;Ae=g.constrain(Ae,0,ce.width-q._width),ze=g.constrain(ze,0,ce.height-q._effHeight),Ae!==Pe&&g.log("Constrain legend.x to make legend fit inside graph"),ze!==Fe&&g.log("Constrain legend.y to make legend fit inside graph")}d.setTranslate(le,Ae,ze)}if(O.on(".drag",null),le.on("wheel",null),ae||q._height<=q._maxHeight||W._context.staticPlot){var t1=q._effHeight;ae&&(t1=q._height),j.attr({width:q._width-be,height:t1-be,x:be/2,y:be/2}),d.setTranslate(oe,0,0),G.select("rect").attr({width:q._width-2*be,height:t1-2*be,x:be,y:be}),d.setClipUrl(oe,me,W),d.setRect(O,0,0,0,0),delete q._scrollY}else{var Xe,xe,ve=Math.max(b.scrollBarMinHeight,q._effHeight*q._effHeight/q._height),De=q._effHeight-ve-2*b.scrollBarMargin,Ve=q._height-q._effHeight,Ye=De/Ve,Oe=Math.min(q._scrollY||0,Ve);j.attr({width:q._width-2*be+b.scrollBarWidth+b.scrollBarMargin,height:q._effHeight-be,x:be/2,y:be/2}),G.select("rect").attr({width:q._width-2*be+b.scrollBarWidth+b.scrollBarMargin,height:q._effHeight-2*be,x:be,y:be+Oe}),d.setClipUrl(oe,me,W),n1(Oe,ve,Ye),le.on("wheel",function(){n1(Oe=g.constrain(q._scrollY+o.event.deltaY/De*Ve,0,Ve),ve,Ye),0!==Oe&&Oe!==Ve&&o.event.preventDefault()});var Ie=o.behavior.drag().on("dragstart",function(){var Ke=o.event.sourceEvent;Xe="touchstart"===Ke.type?Ke.changedTouches[0].clientY:Ke.clientY,xe=Oe}).on("drag",function(){var Ke=o.event.sourceEvent;2===Ke.buttons||Ke.ctrlKey||n1(Oe=function(r1,f1,Je){return g.constrain((Je-f1)/Ye+r1,0,Ve)}(xe,Xe,"touchmove"===Ke.type?Ke.changedTouches[0].clientY:Ke.clientY),ve,Ye)});O.call(Ie);var Qe=o.behavior.drag().on("dragstart",function(){var Ke=o.event.sourceEvent;"touchstart"===Ke.type&&(Xe=Ke.changedTouches[0].clientY,xe=Oe)}).on("drag",function(){var Ke=o.event.sourceEvent;"touchmove"===Ke.type&&n1(Oe=function(r1,f1,Je){return g.constrain((f1-Je)/Ye+r1,0,Ve)}(xe,Xe,Ke.changedTouches[0].clientY),ve,Ye)});oe.call(Qe)}function n1(Ke,r1,f1){q._scrollY=W._fullLayout.legend._scrollY=Ke,d.setTranslate(oe,0,-Ke),d.setRect(O,q._width,b.scrollBarMargin+Ke*f1,b.scrollBarWidth,r1),G.select("rect").attr("y",be+Ke)}W._context.edits.legendPosition&&(le.classed("cursor-move",!0),C.init({element:le.node(),gd:W,prepFn:function(){var Ke=d.getTranslate(le);ue=Ke.x,he=Ke.y},moveFn:function(Ke,r1){var f1=ue+Ke,Je=he+r1;d.setTranslate(le,f1,Je),ie=C.align(f1,0,Me.l,Me.l+Me.w,q.xanchor),fe=C.align(Je,0,Me.t+Me.h,Me.t,q.yanchor)},doneFn:function(){void 0!==ie&&void 0!==fe&&l.call("_guiRelayout",W,{"legend.x":ie,"legend.y":fe})},clickFn:function(Ke,r1){var f1=X.selectAll("g.traces").filter(function(){var Je=this.getBoundingClientRect();return r1.clientX>=Je.left&&r1.clientX<=Je.right&&r1.clientY>=Je.top&&r1.clientY<=Je.bottom});f1.size()>0&&P(W,le,f1,Ke,r1)}}))}],W)}}(T,Y)}},{"../../constants/alignment":207,"../../lib":232,"../../lib/events":225,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"./constants":153,"./get_legend_data":156,"./handle_click":157,"./helpers":158,"./style":160,"@plotly/d3":11}],156:[function(m,de,te){"use strict";var o=m("../../registry"),g=m("./helpers");de.exports=function(p,l){var c,C,d=l._inHover,h=g.isGrouped(l),u=g.isReversed(l),_={},b=[],M=!1,L={},N=0,z=0;function k(ce,me){if(""!==ce&&g.isGrouped(l))-1===b.indexOf(ce)?(b.push(ce),M=!0,_[ce]=[me]):_[ce].push(me);else{var ae="~~i"+N;b.push(ae),_[ae]=[me],N++}}for(c=0;c<p.length;c++){var D=p[c],S=D[0],P=S.trace,H=P.legendgroup;if(d||P.visible&&P.showlegend)if(o.traceIs(P,"pie-like"))for(L[H]||(L[H]={}),C=0;C<D.length;C++){var E=D[C].label;L[H][E]||(k(H,{label:E,color:D[C].color,i:D[C].i,trace:P,pts:D[C].pts}),L[H][E]=!0,z=Math.max(z,(E||"").length))}else k(H,S),z=Math.max(z,(P.name||"").length)}if(!b.length)return[];var I=!M||!h,w=[];for(c=0;c<b.length;c++){var B=_[b[c]];w.push(I?B[0]:B)}for(I&&(w=[w]),c=0;c<w.length;c++){var $=1/0;for(C=0;C<w[c].length;C++){var T=w[c][C].trace.legendrank;$>T&&($=T)}w[c][0]._groupMinRank=$,w[c][0]._preGroupSort=c}var Y=function(ce,me){return ce.trace.legendrank-me.trace.legendrank||ce._preSort-me._preSort};for(w.forEach(function(ce,me){ce[0]._preGroupSort=me}),w.sort(function(ce,me){return ce[0]._groupMinRank-me[0]._groupMinRank||ce[0]._preGroupSort-me[0]._preGroupSort}),c=0;c<w.length;c++){w[c].forEach(function(ce,me){ce._preSort=me}),w[c].sort(Y);var W=w[c][0].trace,q=null;for(C=0;C<w[c].length;C++){var X=w[c][C].trace.legendgrouptitle;if(X&&X.text){q=X,d&&(X.font=l._groupTitleFont);break}}if(u&&w[c].reverse(),q){var ee=!1;for(C=0;C<w[c].length;C++)if(o.traceIs(w[c][C].trace,"pie-like")){ee=!0;break}w[c].unshift({i:-1,groupTitle:q,noClick:ee,trace:{showlegend:W.showlegend,legendgroup:W.legendgroup,visible:"toggleitem"===l.groupclick||W.visible}})}for(C=0;C<w[c].length;C++)w[c][C]=[w[c][C]]}return l._lgroupsLength=w.length,l._maxNameLength=z,w}},{"../../registry":318,"./helpers":158}],157:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("../../registry"),p=!0;de.exports=function(l,c,C){var d=c._fullLayout;if(!c._dragged&&!c._editing){var h,u=d.legend.itemclick,_=d.legend.itemdoubleclick,b=d.legend.groupclick;if(1===C&&"toggle"===u&&"toggleothers"===_&&p&&c.data&&c._context.showTips&&o.notifier(o._(c,"Double-click on legend to isolate one trace"),"long"),p=!1,1===C?h=u:2===C&&(h=_),h){var M="togglegroup"===b,L=d.hiddenlabels?d.hiddenlabels.slice():[],N=l.data()[0][0];if(!N.groupTitle||!N.noClick){var z,k,D,S,P,H=c._fullData,E=N.trace,I=E.legendgroup,w={},B=[],$=[],T=[];if(g.traceIs(E,"pie-like")){var Y=N.label,W=L.indexOf(Y);"toggle"===h?-1===W?L.push(Y):L.splice(W,1):"toggleothers"===h&&(L=[],c.calcdata[0].forEach(function(O){Y!==O.label&&L.push(O.label)}),c._fullLayout.hiddenlabels&&c._fullLayout.hiddenlabels.length===L.length&&-1===W&&(L=[])),g.call("_guiRelayout",c,"hiddenlabels",L)}else{var q,X=I&&I.length,ee=[];if(X)for(z=0;z<H.length;z++)(q=H[z]).visible&&q.legendgroup===I&&ee.push(z);if("toggle"===h){var ce;switch(E.visible){case!0:ce="legendonly";break;case!1:ce=!1;break;case"legendonly":ce=!0}if(X)if(M)for(z=0;z<H.length;z++)!1!==H[z].visible&&H[z].legendgroup===I&&F(H[z],ce);else F(E,ce);else F(E,ce)}else if("toggleothers"===h){var K,G=!0;for(z=0;z<H.length;z++)if(K=!0!==H[z].showlegend,!(H[z]===E||K||X&&H[z].legendgroup===I||!0!==H[z].visible||g.traceIs(H[z],"notLegendIsolatable"))){G=!1;break}for(z=0;z<H.length;z++)if(!1!==H[z].visible&&!g.traceIs(H[z],"notLegendIsolatable"))switch(E.visible){case"legendonly":F(H[z],!0);break;case!0:K=!0!==H[z].showlegend&&!H[z].legendgroup,F(H[z],!!(H[z]===E||X&&H[z].legendgroup===I||K)||!!G||"legendonly")}}for(z=0;z<$.length;z++)if(D=$[z]){var j=D.constructUpdate(),oe=Object.keys(j);for(k=0;k<oe.length;k++)(w[S=oe[k]]=w[S]||[])[T[z]]=j[S]}for(P=Object.keys(w),z=0;z<P.length;z++)for(S=P[z],k=0;k<B.length;k++)w[S].hasOwnProperty(k)||(w[S][k]=void 0);g.call("_guiRestyle",c,w,B)}}}}function re(O,J,R){var ie=B.indexOf(O),fe=w[J];return fe||(fe=w[J]=[]),-1===B.indexOf(O)&&(B.push(O),ie=B.length-1),fe[ie]=R,ie}function F(O,J){if(!N.groupTitle||M){var R=O._fullInput;if(g.hasTransform(R,"groupby")){var ie=$[R.index];if(!ie){var fe=g.getTransformIndices(R,"groupby");ie=o.keyedContainer(R,"transforms["+fe[fe.length-1]+"].styles","target","value.visible"),$[R.index]=ie}var he=ie.get(O._group);void 0===he&&(he=!0),!1!==he&&ie.set(O._group,J),T[R.index]=re(R.index,"visible",!1!==R.visible)}else re(R.index,"visible",!1!==R.visible&&J)}}}},{"../../lib":232,"../../registry":318}],158:[function(m,de,te){"use strict";te.isGrouped=function(o){return-1!==(o.traceorder||"").indexOf("grouped")},te.isVertical=function(o){return"h"!==o.orientation},te.isReversed=function(o){return-1!==(o.traceorder||"").indexOf("reversed")}},{}],159:[function(m,de,te){"use strict";de.exports={moduleType:"component",name:"legend",layoutAttributes:m("./attributes"),supplyLayoutDefaults:m("./defaults"),draw:m("./draw"),style:m("./style")}},{"./attributes":152,"./defaults":154,"./draw":155,"./style":160}],160:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("../../registry"),p=m("../../lib"),l=p.strTranslate,c=m("../drawing"),C=m("../color"),d=m("../colorscale/helpers").extractOpts,h=m("../../traces/scatter/subtypes"),u=m("../../traces/pie/style_one"),_=m("../../traces/pie/helpers").castOption,b=m("./constants");function M(z,k){return(k?"radial":"horizontal")+(z?"":"reversed")}function L(z){var k=z[0].trace,D=k.contours,S=h.hasLines(k),P=h.hasMarkers(k),H=k.visible&&k.fill&&"none"!==k.fill,E=!1,I=!1;if(D){var w=D.coloring;"lines"===w?E=!0:S="none"===w||"heatmap"===w||D.showlines,"constraint"===D.type?H="="!==D._operation:"fill"!==w&&"heatmap"!==w||(I=!0)}return{showMarker:P,showLine:S,showFill:H,showGradientLine:E,showGradientFill:I,anyLine:S||E,anyFill:H||I}}function N(z,k,D){return z&&p.isArrayOrTypedArray(z)?k:z>D?D:z}de.exports=function(z,k,D){D||(D=k._fullLayout.legend);var P="constant"===D.itemsizing,H=D.itemwidth,I=l((H+2*b.itemGap)/2,0),w=function(T,Y,W,q){var X;if(T+1)X=T;else{if(!(Y&&Y.width>0))return 0;X=Y.width}return P?q:Math.min(X,W)};function B(T,Y,W){var q=T[0].trace,X=q.marker||{},ee=X.line||{},ce=W?q.visible&&q.type===W:g.traceIs(q,"bar"),me=o.select(Y).select("g.legendpoints").selectAll("path.legend"+W).data(ce?[T]:[]);me.enter().append("path").classed("legend"+W,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",I),me.exit().remove(),me.each(function(ae){var K=o.select(this),le=ae[0],G=w(le.mlw,X.line,5,2);K.style("stroke-width",G+"px");var j=le.mcc;if(!D._inHover&&"mc"in le){var oe=d(X),re=oe.mid;void 0===re&&(re=(oe.max+oe.min)/2),j=c.tryColorscale(X,"")(re)}var F=j||le.mc||X.color,O=X.pattern,J=O&&c.getPatternAttr(O.shape,0,"");if(J){var R=c.getPatternAttr(O.bgcolor,0,null),ie=c.getPatternAttr(O.fgcolor,0,null),fe=O.fgopacity,ue=N(O.size,8,10),he=N(O.solidity,.5,1);K.call(c.pattern,"legend",k,"legend-"+q.uid,J,ue,he,j,O.fillmode,R,ie,fe)}else K.call(C.fill,F);G&&C.stroke(K,le.mlc||ee.color)})}function $(T,Y,W){var q=T[0],X=q.trace,ee=W?X.visible&&X.type===W:g.traceIs(X,W),ce=o.select(Y).select("g.legendpoints").selectAll("path.legend"+W).data(ee?[T]:[]);if(ce.enter().append("path").classed("legend"+W,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",I),ce.exit().remove(),ce.size()){var me=(X.marker||{}).line,ae=w(_(me.width,q.pts),me,5,2),K=p.minExtend(X,{marker:{line:{width:ae}}});K.marker.line.color=me.color;var le=p.minExtend(q,{trace:K});u(ce,le,K)}}z.each(function(T){var Y=o.select(this),W=p.ensureSingle(Y,"g","layers");W.style("opacity",T[0].trace.opacity);var q=D.valign,X=T[0].lineHeight,ee=T[0].height;W.attr("transform","middle"!==q&&X&&ee?l(0,{top:1,bottom:-1}[q]*(.5*(X-ee+3))):null),W.selectAll("g.legendfill").data([T]).enter().append("g").classed("legendfill",!0),W.selectAll("g.legendlines").data([T]).enter().append("g").classed("legendlines",!0);var me=W.selectAll("g.legendsymbols").data([T]);me.enter().append("g").classed("legendsymbols",!0),me.selectAll("g.legendpoints").data([T]).enter().append("g").classed("legendpoints",!0)}).each(function(T){var Y,W=T[0].trace,q=[];if(W.visible)switch(W.type){case"histogram2d":case"heatmap":q=[["M-15,-2V4H15V-2Z"]],Y=!0;break;case"choropleth":case"choroplethmapbox":q=[["M-6,-6V6H6V-6Z"]],Y=!0;break;case"densitymapbox":q=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],Y="radial";break;case"cone":q=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],Y=!1;break;case"streamtube":q=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],Y=!1;break;case"surface":q=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],Y=!0;break;case"mesh3d":q=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],Y=!1;break;case"volume":q=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],Y=!0;break;case"isosurface":q=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],Y=!1}var X=o.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(q);X.enter().append("path").classed("legend3dandfriends",!0).attr("transform",I).style("stroke-miterlimit",1),X.exit().remove(),X.each(function(ee,ce){var me,ae=o.select(this),K=d(W),le=K.colorscale,G=K.reversescale;if(le){if(!Y){var j=le.length;me=0===ce?le[G?j-1:0][1]:1===ce?le[G?0:j-1][1]:le[Math.floor((j-1)/2)][1]}}else{var oe=W.vertexcolor||W.facecolor||W.color;me=p.isArrayOrTypedArray(oe)?oe[ce]||oe[0]:oe}ae.attr("d",ee[0]),me?ae.call(C.fill,me):ae.call(function(re){re.size()&&c.gradient(re,k,"legendfill-"+W.uid,M(G,"radial"===Y),le,"fill")})})}).each(function(T){var Y=T[0].trace,W="waterfall"===Y.type;if(T[0]._distinct&&W){var q=T[0].trace[T[0].dir].marker;return T[0].mc=q.color,T[0].mlw=q.line.width,T[0].mlc=q.line.color,B(T,this,"waterfall")}var X=[];Y.visible&&W&&(X=T[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var ee=o.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(X);ee.enter().append("path").classed("legendwaterfall",!0).attr("transform",I).style("stroke-miterlimit",1),ee.exit().remove(),ee.each(function(ce){var me=o.select(this),ae=Y[ce[0]].marker,K=w(void 0,ae.line,5,2);me.attr("d",ce[1]).style("stroke-width",K+"px").call(C.fill,ae.color),K&&me.call(C.stroke,ae.line.color)})}).each(function(T){B(T,this,"funnel")}).each(function(T){B(T,this)}).each(function(T){var Y=T[0].trace,W=o.select(this).select("g.legendpoints").selectAll("path.legendbox").data(Y.visible&&g.traceIs(Y,"box-violin")?[T]:[]);W.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",I),W.exit().remove(),W.each(function(){var q=o.select(this);if("all"!==Y.boxpoints&&"all"!==Y.points||0!==C.opacity(Y.fillcolor)||0!==C.opacity((Y.line||{}).color)){var X=w(void 0,Y.line,5,2);q.style("stroke-width",X+"px").call(C.fill,Y.fillcolor),X&&C.stroke(q,Y.line.color)}else{var ee=p.minExtend(Y,{marker:{size:P?12:p.constrain(Y.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});W.call(c.pointStyle,ee,k)}})}).each(function(T){$(T,this,"funnelarea")}).each(function(T){$(T,this,"pie")}).each(function(T){var Y,W,q=L(T),X=q.showFill,ee=q.showLine,ce=q.showGradientLine,me=q.showGradientFill,ae=q.anyFill,K=q.anyLine,le=T[0],G=le.trace,j=d(G),oe=j.colorscale,re=j.reversescale,F=h.hasMarkers(G)||!ae?"M5,0":K?"M5,-2":"M5,-3",O=o.select(this),J=O.select(".legendfill").selectAll("path").data(X||me?[T]:[]);if(J.enter().append("path").classed("js-fill",!0),J.exit().remove(),J.attr("d",F+"h"+H+"v6h-"+H+"z").call(function(fe){fe.size()&&(X?c.fillGroupStyle(fe,k):c.gradient(fe,k,"legendfill-"+G.uid,M(re),oe,"fill"))}),ee||ce){var R=w(void 0,G.line,10,5);W=p.minExtend(G,{line:{width:R}}),Y=[p.minExtend(le,{trace:W})]}var ie=O.select(".legendlines").selectAll("path").data(ee||ce?[Y]:[]);ie.enter().append("path").classed("js-line",!0),ie.exit().remove(),ie.attr("d",F+(ce?"l"+H+",0.0001":"h"+H)).call(ee?c.lineGroupStyle:function(fe){if(fe.size()){var ue="legendline-"+G.uid;c.lineGroupStyle(fe),c.gradient(fe,k,ue,M(re),oe,"stroke")}})}).each(function(T){var Y,W,q=L(T),ce=q.showLine,me=q.showMarker,ae=T[0],K=ae.trace,le=!me&&!q.anyLine&&!q.anyFill&&h.hasText(K);function G(ie,fe,ue,he){var Me=p.nestedProperty(K,ie).get(),be=p.isArrayOrTypedArray(Me)&&fe?fe(Me):Me;if(P&&be&&void 0!==he&&(be=he),ue){if(be<ue[0])return ue[0];if(be>ue[1])return ue[1]}return be}function j(ie){return ae._distinct&&ae.index&&ie[ae.index]?ie[ae.index]:ie[0]}if(me||le||ce){var oe={},re={};if(me){oe.mc=G("marker.color",j),oe.mx=G("marker.symbol",j),oe.mo=G("marker.opacity",p.mean,[.2,1]),oe.mlc=G("marker.line.color",j),oe.mlw=G("marker.line.width",p.mean,[0,5],2),re.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var F=G("marker.size",p.mean,[2,16],12);oe.ms=F,re.marker.size=F}ce&&(re.line={width:G("line.width",j,[0,10],5)}),le&&(oe.tx="Aa",oe.tp=G("textposition",j),oe.ts=10,oe.tc=G("textfont.color",j),oe.tf=G("textfont.family",j)),Y=[p.minExtend(ae,oe)],(W=p.minExtend(K,re)).selectedpoints=null,W.texttemplate=null}var O=o.select(this).select("g.legendpoints"),J=O.selectAll("path.scatterpts").data(me?Y:[]);J.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",I),J.exit().remove(),J.call(c.pointStyle,W,k),me&&(Y[0].mrc=3);var R=O.selectAll("g.pointtext").data(le?Y:[]);R.enter().append("g").classed("pointtext",!0).append("text").attr("transform",I),R.exit().remove(),R.selectAll("text").call(c.textPointStyle,W,k)}).each(function(T){var Y=T[0].trace,W=o.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(Y.visible&&"candlestick"===Y.type?[T,T]:[]);W.enter().append("path").classed("legendcandle",!0).attr("d",function(q,X){return X?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",I).style("stroke-miterlimit",1),W.exit().remove(),W.each(function(q,X){var ee=o.select(this),ce=Y[X?"increasing":"decreasing"],me=w(void 0,ce.line,5,2);ee.style("stroke-width",me+"px").call(C.fill,ce.fillcolor),me&&C.stroke(ee,ce.line.color)})}).each(function(T){var Y=T[0].trace,W=o.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(Y.visible&&"ohlc"===Y.type?[T,T]:[]);W.enter().append("path").classed("legendohlc",!0).attr("d",function(q,X){return X?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",I).style("stroke-miterlimit",1),W.exit().remove(),W.each(function(q,X){var ee=o.select(this),ce=Y[X?"increasing":"decreasing"],me=w(void 0,ce.line,5,2);ee.style("fill","none").call(c.dashLine,ce.line.dash,me),me&&C.stroke(ee,ce.line.color)})})}},{"../../lib":232,"../../registry":318,"../../traces/pie/helpers":350,"../../traces/pie/style_one":356,"../../traces/scatter/subtypes":383,"../color":102,"../colorscale/helpers":113,"../drawing":124,"./constants":153,"@plotly/d3":11}],161:[function(m,de,te){"use strict";m("./constants"),de.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},{"./constants":163}],162:[function(m,de,te){"use strict";var o=m("../../registry"),g=m("../../plots/plots"),p=m("../../plots/cartesian/axis_ids"),l=m("../../fonts/ploticon"),c=m("../shapes/draw").eraseActiveShape,C=m("../../lib"),d=C._,h=de.exports={};function u(S,P){var H,E,I=P.currentTarget,w=I.getAttribute("data-attr"),B=I.getAttribute("data-val")||!0,$=S._fullLayout,T={},Y=p.list(S,null,!0),W=$._cartesianSpikesEnabled;if("zoom"===w){var q,X="in"===B?.5:2,ee=(1+X)/2,ce=(1-X)/2;for(E=0;E<Y.length;E++)if(!(H=Y[E]).fixedrange)if(q=H._name,"auto"===B)T[q+".autorange"]=!0;else if("reset"===B){if(void 0===H._rangeInitial)T[q+".autorange"]=!0;else{var me=H._rangeInitial.slice();T[q+".range[0]"]=me[0],T[q+".range[1]"]=me[1]}void 0!==H._showSpikeInitial&&(T[q+".showspikes"]=H._showSpikeInitial,"on"!==W||H._showSpikeInitial||(W="off"))}else{var ae=[H.r2l(H.range[0]),H.r2l(H.range[1])],K=[ee*ae[0]+ce*ae[1],ee*ae[1]+ce*ae[0]];T[q+".range[0]"]=H.l2r(K[0]),T[q+".range[1]"]=H.l2r(K[1])}}else"hovermode"!==w||"x"!==B&&"y"!==B||I.setAttribute("data-val",B=$._isHoriz?"y":"x"),T[w]=B;$._cartesianSpikesEnabled=W,o.call("_guiRelayout",S,T)}function _(S,P){for(var H=P.currentTarget,E=H.getAttribute("data-attr"),I=H.getAttribute("data-val")||!0,w=S._fullLayout._subplots.gl3d||[],B={},$=E.split("."),T=0;T<w.length;T++)B[w[T]+"."+$[1]]=I;B.dragmode="pan"===I?I:"zoom",o.call("_guiRelayout",S,B)}function b(S,P){for(var H=P.currentTarget.getAttribute("data-attr"),E="resetLastSave"===H,I="resetDefault"===H,w=S._fullLayout,B=w._subplots.gl3d||[],$={},T=0;T<B.length;T++){var Y,W=B[T],q=W+".camera",X=W+".aspectratio",ee=W+".aspectmode",ce=w[W]._scene;E?($[q+".up"]=ce.viewInitial.up,$[q+".eye"]=ce.viewInitial.eye,$[q+".center"]=ce.viewInitial.center,Y=!0):I&&($[q+".up"]=null,$[q+".eye"]=null,$[q+".center"]=null,Y=!0),Y&&($[X+".x"]=ce.viewInitial.aspectratio.x,$[X+".y"]=ce.viewInitial.aspectratio.y,$[X+".z"]=ce.viewInitial.aspectratio.z,$[ee]=ce.viewInitial.aspectmode)}o.call("_guiRelayout",S,$)}function M(S,P){var H=P.currentTarget,E=H._previousVal,I=S._fullLayout,w=I._subplots.gl3d||[],B=["xaxis","yaxis","zaxis"],$={},T={};if(E)T=E,H._previousVal=null;else{for(var Y=0;Y<w.length;Y++){var W=w[Y],q=I[W],X=W+".hovermode";$[X]=q.hovermode,T[X]=!1;for(var ee=0;ee<3;ee++){var ce=B[ee],me=W+"."+ce+".showspikes";T[me]=!1,$[me]=q[ce].showspikes}}H._previousVal=$}return T}function L(S,P){for(var H=P.currentTarget,E=H.getAttribute("data-attr"),I=H.getAttribute("data-val")||!0,w=S._fullLayout,B=w._subplots.geo||[],$=0;$<B.length;$++){var T=B[$];if("zoom"===E){var W=w[T].projection.scale;o.call("_guiRelayout",S,T+".projection.scale","in"===I?2*W:.5*W)}}"reset"===E&&D(S,"geo")}function N(S){var P=S._fullLayout;return!P.hovermode&&(P._has("cartesian")?P._isHoriz?"y":"x":"closest")}function z(S){var P=N(S);o.call("_guiRelayout",S,"hovermode",P)}function k(S,P){for(var H=P.currentTarget.getAttribute("data-val"),E=S._fullLayout,I=E._subplots.mapbox||[],w={},B=0;B<I.length;B++){var $=I[B],T=E[$].zoom;w[$+".zoom"]="in"===H?1.05*T:T/1.05}o.call("_guiRelayout",S,w)}function D(S,P){for(var H=S._fullLayout,E=H._subplots[P]||[],I={},w=0;w<E.length;w++)for(var B=E[w],$=H[B]._subplot.viewInitial,T=Object.keys($),Y=0;Y<T.length;Y++){var W=T[Y];I[B+"."+W]=$[W]}o.call("_guiRelayout",S,I)}h.toImage={name:"toImage",title:function(S){return d(S,"png"===((S._context.toImageButtonOptions||{}).format||"png")?"Download plot as a png":"Download plot")},icon:l.camera,click:function(S){var P=S._context.toImageButtonOptions,H={format:P.format||"png"};C.notifier(d(S,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==H.format&&C.isIE()&&(C.notifier(d(S,"IE only supports svg.  Changing format to svg."),"long"),H.format="svg"),["filename","width","height","scale"].forEach(function(E){E in P&&(H[E]=P[E])}),o.call("downloadImage",S,H).then(function(E){C.notifier(d(S,"Snapshot succeeded")+" - "+E,"long")}).catch(function(){C.notifier(d(S,"Sorry, there was a problem downloading your snapshot!"),"long")})}},h.sendDataToCloud={name:"sendDataToCloud",title:function(S){return d(S,"Edit in Chart Studio")},icon:l.disk,click:function(S){g.sendDataToCloud(S)}},h.editInChartStudio={name:"editInChartStudio",title:function(S){return d(S,"Edit in Chart Studio")},icon:l.pencil,click:function(S){g.sendDataToCloud(S)}},h.zoom2d={name:"zoom2d",_cat:"zoom",title:function(S){return d(S,"Zoom")},attr:"dragmode",val:"zoom",icon:l.zoombox,click:u},h.pan2d={name:"pan2d",_cat:"pan",title:function(S){return d(S,"Pan")},attr:"dragmode",val:"pan",icon:l.pan,click:u},h.select2d={name:"select2d",_cat:"select",title:function(S){return d(S,"Box Select")},attr:"dragmode",val:"select",icon:l.selectbox,click:u},h.lasso2d={name:"lasso2d",_cat:"lasso",title:function(S){return d(S,"Lasso Select")},attr:"dragmode",val:"lasso",icon:l.lasso,click:u},h.drawclosedpath={name:"drawclosedpath",title:function(S){return d(S,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:l.drawclosedpath,click:u},h.drawopenpath={name:"drawopenpath",title:function(S){return d(S,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:l.drawopenpath,click:u},h.drawline={name:"drawline",title:function(S){return d(S,"Draw line")},attr:"dragmode",val:"drawline",icon:l.drawline,click:u},h.drawrect={name:"drawrect",title:function(S){return d(S,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:l.drawrect,click:u},h.drawcircle={name:"drawcircle",title:function(S){return d(S,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:l.drawcircle,click:u},h.eraseshape={name:"eraseshape",title:function(S){return d(S,"Erase active shape")},icon:l.eraseshape,click:c},h.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(S){return d(S,"Zoom in")},attr:"zoom",val:"in",icon:l.zoom_plus,click:u},h.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(S){return d(S,"Zoom out")},attr:"zoom",val:"out",icon:l.zoom_minus,click:u},h.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(S){return d(S,"Autoscale")},attr:"zoom",val:"auto",icon:l.autoscale,click:u},h.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(S){return d(S,"Reset axes")},attr:"zoom",val:"reset",icon:l.home,click:u},h.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(S){return d(S,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:l.tooltip_basic,gravity:"ne",click:u},h.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(S){return d(S,"Compare data on hover")},attr:"hovermode",val:function(S){return S._fullLayout._isHoriz?"y":"x"},icon:l.tooltip_compare,gravity:"ne",click:u},h.zoom3d={name:"zoom3d",_cat:"zoom",title:function(S){return d(S,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:l.zoombox,click:_},h.pan3d={name:"pan3d",_cat:"pan",title:function(S){return d(S,"Pan")},attr:"scene.dragmode",val:"pan",icon:l.pan,click:_},h.orbitRotation={name:"orbitRotation",title:function(S){return d(S,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:l["3d_rotate"],click:_},h.tableRotation={name:"tableRotation",title:function(S){return d(S,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:l["z-axis"],click:_},h.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(S){return d(S,"Reset camera to default")},attr:"resetDefault",icon:l.home,click:b},h.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(S){return d(S,"Reset camera to last save")},attr:"resetLastSave",icon:l.movie,click:b},h.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(S){return d(S,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:function(S,P){var H=M(S,P);o.call("_guiRelayout",S,H)}},h.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(S){return d(S,"Zoom in")},attr:"zoom",val:"in",icon:l.zoom_plus,click:L},h.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(S){return d(S,"Zoom out")},attr:"zoom",val:"out",icon:l.zoom_minus,click:L},h.resetGeo={name:"resetGeo",_cat:"reset",title:function(S){return d(S,"Reset")},attr:"reset",val:null,icon:l.autoscale,click:L},h.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(S){return d(S,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:z},h.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(S){return d(S,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:z},h.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(S){return d(S,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:l.tooltip_basic,gravity:"ne",click:z},h.resetViewSankey={name:"resetSankeyGroup",title:function(S){return d(S,"Reset view")},icon:l.home,click:function(S){for(var P={"node.groups":[],"node.x":[],"node.y":[]},H=0;H<S._fullData.length;H++){var E=S._fullData[H]._viewInitial;P["node.groups"].push(E.node.groups.slice()),P["node.x"].push(E.node.x.slice()),P["node.y"].push(E.node.y.slice())}o.call("restyle",S,P)}},h.toggleHover={name:"toggleHover",title:function(S){return d(S,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:function(S,P){var H=M(S,P);H.hovermode=N(S),o.call("_guiRelayout",S,H)}},h.resetViews={name:"resetViews",title:function(S){return d(S,"Reset views")},icon:l.home,click:function(S,P){var H=P.currentTarget;H.setAttribute("data-attr","zoom"),H.setAttribute("data-val","reset"),u(S,P),H.setAttribute("data-attr","resetLastSave"),b(S,P),D(S,"geo"),D(S,"mapbox")}},h.toggleSpikelines={name:"toggleSpikelines",title:function(S){return d(S,"Toggle Spike Lines")},icon:l.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(S){var P=S._fullLayout;P._cartesianSpikesEnabled="on"===P._cartesianSpikesEnabled?"off":"on",o.call("_guiRelayout",S,function(E){for(var I="on"===E._fullLayout._cartesianSpikesEnabled,w=p.list(E,null,!0),B={},$=0;$<w.length;$++){var T=w[$];B[T._name+".showspikes"]=!!I||T._showSpikeInitial}return B}(S))}},h.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(S){return d(S,"Reset view")},attr:"reset",icon:l.home,click:function(S){D(S,"mapbox")}},h.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(S){return d(S,"Zoom in")},attr:"zoom",val:"in",icon:l.zoom_plus,click:k},h.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(S){return d(S,"Zoom out")},attr:"zoom",val:"out",icon:l.zoom_minus,click:k}},{"../../fonts/ploticon":215,"../../lib":232,"../../plots/cartesian/axis_ids":283,"../../plots/plots":316,"../../registry":318,"../shapes/draw":186}],163:[function(m,de,te){"use strict";var o=m("./buttons"),g=Object.keys(o),p=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],l=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(p),c=[];g.forEach(function(C){!function(d){if(-1===l.indexOf(d._cat||d.name)){var h=d.name,u=(d._cat||d.name).toLowerCase();-1===c.indexOf(h)&&c.push(h),-1===c.indexOf(u)&&c.push(u)}}(o[C])}),c.sort(),de.exports={DRAW_MODES:p,backButtons:l,foreButtons:c}},{"./buttons":162}],164:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("../color"),p=m("../../plot_api/plot_template"),l=m("./attributes");de.exports=function(c,C){var d=c.modebar||{},h=p.newContainer(C,"modebar");function u(b,M){return o.coerce(d,h,l,b,M)}u("orientation"),u("bgcolor",g.addOpacity(C.paper_bgcolor,.5));var _=g.contrast(g.rgb(C.modebar.bgcolor));u("color",g.addOpacity(_,.3)),u("activecolor",g.addOpacity(_,.7)),u("uirevision",C.uirevision),u("add"),u("remove")}},{"../../lib":232,"../../plot_api/plot_template":268,"../color":102,"./attributes":161}],165:[function(m,de,te){"use strict";de.exports={moduleType:"component",name:"modebar",layoutAttributes:m("./attributes"),supplyLayoutDefaults:m("./defaults"),manage:m("./manage")}},{"./attributes":161,"./defaults":164,"./manage":166}],166:[function(m,de,te){"use strict";var o=m("../../plots/cartesian/axis_ids"),g=m("../../traces/scatter/subtypes"),p=m("../../registry"),l=m("../fx/helpers").isUnifiedHover,c=m("./modebar"),C=m("./buttons"),d=m("./constants").DRAW_MODES;de.exports=function(h){var u=h._fullLayout,_=h._context,b=u._modeBar;if(_.displayModeBar||_.watermark){if(!Array.isArray(_.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(_.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var M,L=_.modeBarButtons;M=Array.isArray(L)&&L.length?function(N){for(var z=0;z<N.length;z++)for(var k=N[z],D=0;D<k.length;D++){var S=k[D];if("string"==typeof S){if(void 0===C[S])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));N[z][D]=C[S]}}return N}(L):!_.displayModeBar&&_.watermark?[]:function(N){var z=N._fullLayout,k=N._fullData,D=N._context;function S(he,Me){if("string"==typeof Me){if(Me.toLowerCase()===he.toLowerCase())return!0}else if(Me.name===he||(Me._cat||Me.name)===he.toLowerCase())return!0;return!1}var P=z.modebar.add;"string"==typeof P&&(P=[P]);var H=z.modebar.remove;"string"==typeof H&&(H=[H]);var E=D.modeBarButtonsToAdd.concat(P.filter(function(he){for(var Me=0;Me<D.modeBarButtonsToRemove.length;Me++)if(S(he,D.modeBarButtonsToRemove[Me]))return!1;return!0})),I=D.modeBarButtonsToRemove.concat(H.filter(function(he){for(var Me=0;Me<D.modeBarButtonsToAdd.length;Me++)if(S(he,D.modeBarButtonsToAdd[Me]))return!1;return!0})),w=z._has("cartesian"),B=z._has("gl3d"),$=z._has("geo"),T=z._has("pie"),Y=z._has("funnelarea"),W=z._has("gl2d"),q=z._has("ternary"),X=z._has("mapbox"),ee=z._has("polar"),ce=z._has("smith"),me=z._has("sankey"),ae=function(he){for(var Me=o.list({_fullLayout:he},null,!0),be=0;be<Me.length;be++)if(!Me[be].fixedrange)return!1;return!0}(z),K=l(z.hovermode),le=[];function G(he){if(he.length){for(var Me=[],be=0;be<he.length;be++){for(var Ae=he[be],ze=C[Ae],Pe=ze.name.toLowerCase(),Fe=(ze._cat||ze.name).toLowerCase(),t1=!1,Xe=0;Xe<I.length;Xe++){var Ue=I[Xe].toLowerCase();if(Ue===Pe||Ue===Fe){t1=!0;break}}t1||Me.push(C[Ae])}le.push(Me)}}var j=["toImage"];D.showEditInChartStudio?j.push("editInChartStudio"):D.showSendToCloud&&j.push("sendDataToCloud"),G(j);var oe=[],re=[],F=[],O=[];(w||W||T||Y||q)+$+B+X+ee+ce>1?(re=["toggleHover"],F=["resetViews"]):$?(oe=["zoomInGeo","zoomOutGeo"],re=["hoverClosestGeo"],F=["resetGeo"]):B?(re=["hoverClosest3d"],F=["resetCameraDefault3d","resetCameraLastSave3d"]):X?(oe=["zoomInMapbox","zoomOutMapbox"],re=["toggleHover"],F=["resetViewMapbox"]):W?re=["hoverClosestGl2d"]:T?re=["hoverClosestPie"]:me?(re=["hoverClosestCartesian","hoverCompareCartesian"],F=["resetViewSankey"]):re=["toggleHover"],w&&(re=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(he){for(var Me=0;Me<he.length;Me++)if(!p.traceIs(he[Me],"noHover"))return!1;return!0}(k)||K)&&(re=[]),!w&&!W||ae||(oe=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==F[0]&&(F=["resetScale2d"])),B?O=["zoom3d","pan3d","orbitRotation","tableRotation"]:(w||W)&&!ae||q?O=["zoom2d","pan2d"]:X||$?O=["pan2d"]:ee&&(O=["zoom2d"]),function(he){for(var Me=!1,be=0;be<he.length&&!Me;be++){var Ae=he[be];Ae._module&&Ae._module.selectPoints&&(p.traceIs(Ae,"scatter-like")?(g.hasMarkers(Ae)||g.hasText(Ae))&&(Me=!0):p.traceIs(Ae,"box-violin")&&"all"!==Ae.boxpoints&&"all"!==Ae.points||(Me=!0))}return Me}(k)&&O.push("select2d","lasso2d");var J=[],R=function(he){-1===J.indexOf(he)&&-1!==re.indexOf(he)&&J.push(he)};if(Array.isArray(E)){for(var ie=[],fe=0;fe<E.length;fe++){var ue=E[fe];"string"==typeof ue?(ue=ue.toLowerCase(),-1!==d.indexOf(ue)?(z._has("mapbox")||z._has("cartesian"))&&O.push(ue):"togglespikelines"===ue?R("toggleSpikelines"):"togglehover"===ue?R("toggleHover"):"hovercompare"===ue?R("hoverCompareCartesian"):"hoverclosest"===ue?(R("hoverClosestCartesian"),R("hoverClosestGeo"),R("hoverClosest3d"),R("hoverClosestGl2d"),R("hoverClosestPie")):"v1hovermode"===ue&&(R("toggleHover"),R("hoverClosestCartesian"),R("hoverCompareCartesian"),R("hoverClosestGeo"),R("hoverClosest3d"),R("hoverClosestGl2d"),R("hoverClosestPie"))):ie.push(ue)}E=ie}return G(O),G(oe.concat(F)),G(J),function(he,Me){if(Me.length)if(Array.isArray(Me[0]))for(var be=0;be<Me.length;be++)he.push(Me[be]);else he.push(Me);return he}(le,E)}(h),b?b.update(h,M):u._modeBar=c(h,M)}else b&&(b.destroy(),delete u._modeBar)}},{"../../plots/cartesian/axis_ids":283,"../../registry":318,"../../traces/scatter/subtypes":383,"../fx/helpers":138,"./buttons":162,"./constants":163,"./modebar":167}],167:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("fast-isnumeric"),p=m("../../lib"),l=m("../../fonts/ploticon"),c=m("../../version").version,C=new DOMParser;function d(u){this.container=u.container,this.element=document.createElement("div"),this.update(u.graphInfo,u.buttons),this.container.appendChild(this.element)}var h=d.prototype;h.update=function(u,_){this.graphInfo=u;var b=this.graphInfo._context,M=this.graphInfo._fullLayout,L="modebar-"+M._uid;this.element.setAttribute("id",L),this._uid=L,this.element.className="modebar","hover"===b.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===M.modebar.orientation&&(this.element.className+=" vertical",_=_.reverse());var N=M.modebar,z="hover"===b.displayModeBar?".js-plotly-plot .plotly:hover ":"";p.deleteRelatedStyleRule(L),p.addRelatedStyleRule(L,z+"#"+L+" .modebar-group","background-color: "+N.bgcolor),p.addRelatedStyleRule(L,"#"+L+" .modebar-btn .icon path","fill: "+N.color),p.addRelatedStyleRule(L,"#"+L+" .modebar-btn:hover .icon path","fill: "+N.activecolor),p.addRelatedStyleRule(L,"#"+L+" .modebar-btn.active .icon path","fill: "+N.activecolor);var k=!this.hasButtons(_),D=this.hasLogo!==b.displaylogo,S=this.locale!==b.locale;if(this.locale=b.locale,(k||D||S)&&(this.removeAllButtons(),this.updateButtons(_),b.watermark||b.displaylogo)){var P=this.getLogo();b.watermark&&(P.className=P.className+" watermark"),"v"===M.modebar.orientation?this.element.insertBefore(P,this.element.childNodes[0]):this.element.appendChild(P),this.hasLogo=!0}this.updateActiveButton()},h.updateButtons=function(u){var _=this;this.buttons=u,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(b){var M=_.createGroup();b.forEach(function(L){var N=L.name;if(!N)throw new Error("must provide button 'name' in button config");if(-1!==_.buttonsNames.indexOf(N))throw new Error("button name '"+N+"' is taken");_.buttonsNames.push(N);var z=_.createButton(L);_.buttonElements.push(z),M.appendChild(z)}),_.element.appendChild(M)})},h.createGroup=function(){var u=document.createElement("div");return u.className="modebar-group",u},h.createButton=function(u){var _=this,b=document.createElement("a");b.setAttribute("rel","tooltip"),b.className="modebar-btn";var M=u.title;void 0===M?M=u.name:"function"==typeof M&&(M=M(this.graphInfo)),(M||0===M)&&b.setAttribute("data-title",M),void 0!==u.attr&&b.setAttribute("data-attr",u.attr);var L=u.val;if(void 0!==L&&("function"==typeof L&&(L=L(this.graphInfo)),b.setAttribute("data-val",L)),"function"!=typeof u.click)throw new Error("must provide button 'click' function in button config");b.addEventListener("click",function(z){u.click(_.graphInfo,z),_.updateActiveButton(z.currentTarget)}),b.setAttribute("data-toggle",u.toggle||!1),u.toggle&&o.select(b).classed("active",!0);var N=u.icon;return b.appendChild("function"==typeof N?N():this.createIcon(N||l.question)),b.setAttribute("data-gravity",u.gravity||"n"),b},h.createIcon=function(u){var _,b=g(u.height)?Number(u.height):u.ascent-u.descent,M="http://www.w3.org/2000/svg";if(u.path){(_=document.createElementNS(M,"svg")).setAttribute("viewBox",[0,0,u.width,b].join(" ")),_.setAttribute("class","icon");var L=document.createElementNS(M,"path");L.setAttribute("d",u.path),u.transform?L.setAttribute("transform",u.transform):void 0!==u.ascent&&L.setAttribute("transform","matrix(1 0 0 -1 0 "+u.ascent+")"),_.appendChild(L)}return u.svg&&(_=C.parseFromString(u.svg,"application/xml").childNodes[0]),_.setAttribute("height","1em"),_.setAttribute("width","1em"),_},h.updateActiveButton=function(u){var _=this.graphInfo._fullLayout,b=void 0!==u?u.getAttribute("data-attr"):null;this.buttonElements.forEach(function(M){var L=M.getAttribute("data-val")||!0,N=M.getAttribute("data-attr"),z="true"===M.getAttribute("data-toggle"),k=o.select(M);if(z)N===b&&k.classed("active",!k.classed("active"));else{var D=null===N?N:p.nestedProperty(_,N).get();k.classed("active",D===L)}})},h.hasButtons=function(u){var _=this.buttons;if(!_||u.length!==_.length)return!1;for(var b=0;b<u.length;++b){if(u[b].length!==_[b].length)return!1;for(var M=0;M<u[b].length;M++)if(u[b][M].name!==_[b][M].name)return!1}return!0},h.getLogo=function(){var u=this.createGroup(),_=document.createElement("a");return _.href="https://plotly.com/",_.target="_blank",_.setAttribute("data-title",p._(this.graphInfo,"Produced with Plotly.js")+" (v"+c+")"),_.className="modebar-btn plotlyjsicon modebar-btn--logo",_.appendChild(this.createIcon(l.newplotlylogo)),u.appendChild(_),u},h.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},h.destroy=function(){p.removeElement(this.container.querySelector(".modebar")),p.deleteRelatedStyleRule(this._uid)},de.exports=function(u,_){var b=u._fullLayout,M=new d({graphInfo:u,container:b._modebardiv.node(),buttons:_});return b._privateplot&&o.select(M.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),M}},{"../../fonts/ploticon":215,"../../lib":232,"../../version":391,"@plotly/d3":11,"fast-isnumeric":17}],168:[function(m,de,te){"use strict";var o=m("../../plots/font_attributes"),g=m("../color/attributes"),p=(0,m("../../plot_api/plot_template").templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});de.exports={visible:{valType:"boolean",editType:"plot"},buttons:p,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:o({editType:"plot"}),bgcolor:{valType:"color",dflt:g.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:g.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},{"../../plot_api/plot_template":268,"../../plots/font_attributes":310,"../color/attributes":101}],169:[function(m,de,te){"use strict";de.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},{}],170:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("../color"),p=m("../../plot_api/plot_template"),l=m("../../plots/array_container_defaults"),c=m("./attributes"),C=m("./constants");function d(h,u,_,b){var M=b.calendar;function L(z,k){return o.coerce(h,u,c.buttons,z,k)}if(L("visible")){var N=L("step");"all"!==N&&(!M||"gregorian"===M||"month"!==N&&"year"!==N?L("stepmode"):u.stepmode="backward",L("count")),L("label")}}de.exports=function(h,u,_,b,M){var L=h.rangeselector||{},N=p.newContainer(u,"rangeselector");function z(S,P){return o.coerce(L,N,c,S,P)}if(z("visible",l(L,N,{name:"buttons",handleItemDefaults:d,calendar:M}).length>0)){var k=function(S,P,H){for(var E=H.filter(function($){return P[$].anchor===S._id}),I=0,w=0;w<E.length;w++){var B=P[E[w]].domain;B&&(I=Math.max(B[1],I))}return[S.domain[0],I+C.yPad]}(u,_,b);z("x",k[0]),z("y",k[1]),o.noneOrAll(h,u,["x","y"]),z("xanchor"),z("yanchor"),o.coerceFont(z,"font",_.font);var D=z("bgcolor");z("activecolor",g.contrast(D,C.lightAmount,C.darkAmount)),z("bordercolor"),z("borderwidth")}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/array_container_defaults":274,"../color":102,"./attributes":168,"./constants":169}],171:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("../../registry"),p=m("../../plots/plots"),l=m("../color"),c=m("../drawing"),C=m("../../lib"),d=C.strTranslate,h=m("../../lib/svg_text_utils"),u=m("../../plots/cartesian/axis_ids"),_=m("../../constants/alignment"),b=_.LINE_SPACING,M=_.FROM_TL,L=_.FROM_BR,N=m("./constants"),z=m("./get_update_object");function k(P){return P._id}function D(P,H,E){var w,B,I=C.ensureSingle(P,"rect","selector-rect",function(w){w.attr("shape-rendering","crispEdges")});I.attr({rx:N.rx,ry:N.ry}),I.call(l.stroke,H.bordercolor).call(l.fill,(w=H,B=E,B._isActive||B._isHovered?w.activecolor:w.bgcolor)).style("stroke-width",H.borderwidth+"px")}function S(P,H,E,I){var w,B;C.ensureSingle(P,"text","selector-text",function(w){w.attr("text-anchor","middle")}).call(c.font,H.font).text((w=E,B=I._fullLayout._meta,w.label?B?C.templateString(w.label,B):w.label:"all"===w.step?"all":w.count+w.step.charAt(0))).call(function(w){h.convertToTspans(w,I)})}de.exports=function(P){var H=P._fullLayout._infolayer.selectAll(".rangeselector").data(function(E){for(var I=u.list(E,"x",!0),w=[],B=0;B<I.length;B++){var $=I[B];$.rangeselector&&$.rangeselector.visible&&w.push($)}return w}(P),k);H.enter().append("g").classed("rangeselector",!0),H.exit().remove(),H.style({cursor:"pointer","pointer-events":"all"}),H.each(function(E){var I=o.select(this),w=E,B=w.rangeselector,$=I.selectAll("g.button").data(C.filterVisible(B.buttons));$.enter().append("g").classed("button",!0),$.exit().remove(),$.each(function(T){var Y=o.select(this),W=z(w,T);T._isActive=function(q,X,ee){if("all"===X.step)return!0===q.autorange;var ce=Object.keys(ee);return q.range[0]===ee[ce[0]]&&q.range[1]===ee[ce[1]]}(w,T,W),Y.call(D,B,T),Y.call(S,B,T,P),Y.on("click",function(){P._dragged||g.call("_guiRelayout",P,W)}),Y.on("mouseover",function(){T._isHovered=!0,Y.call(D,B,T)}),Y.on("mouseout",function(){T._isHovered=!1,Y.call(D,B,T)})}),function(T,Y,W,q,X){var ee=0,ce=0,me=W.borderwidth;Y.each(function(){var oe=o.select(this).select(".selector-text"),F=Math.max(W.font.size*b*h.lineCount(oe),16)+3;ce=Math.max(ce,F)}),Y.each(function(){var oe=o.select(this),re=oe.select(".selector-rect"),F=oe.select(".selector-text"),O=F.node()&&c.bBox(F.node()).width,J=W.font.size*b,R=h.lineCount(F),ie=Math.max(O+10,N.minButtonWidth);oe.attr("transform",d(me+ee,me)),re.attr({x:0,y:0,width:ie,height:ce}),h.positionText(F,ie/2,ce/2-(R-1)*J/2+3),ee+=ie+5});var ae=T._fullLayout._size,K=ae.l+ae.w*W.x,le=ae.t+ae.h*(1-W.y),G="left";C.isRightAnchor(W)&&(K-=ee,G="right"),C.isCenterAnchor(W)&&(K-=ee/2,G="center");var j="top";C.isBottomAnchor(W)&&(le-=ce,j="bottom"),C.isMiddleAnchor(W)&&(le-=ce/2,j="middle"),ee=Math.ceil(ee),ce=Math.ceil(ce),K=Math.round(K),le=Math.round(le),p.autoMargin(T,q+"-range-selector",{x:W.x,y:W.y,l:ee*M[G],r:ee*L[G],b:ce*L[j],t:ce*M[j]}),X.attr("transform",d(K,le))}(P,$,B,w._name,I)})}},{"../../constants/alignment":207,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/cartesian/axis_ids":283,"../../plots/plots":316,"../../registry":318,"../color":102,"../drawing":124,"./constants":169,"./get_update_object":172,"@plotly/d3":11}],172:[function(m,de,te){"use strict";var o=m("d3-time"),g=m("../../lib").titleCase;de.exports=function(p,l){var c=p._name,C={};if("all"===l.step)C[c+".autorange"]=!0;else{var d=function(h,u){var _,b=h.range,M=new Date(h.r2l(b[1])),N=o["utc"+g(u.step)],z=u.count;switch(u.stepmode){case"backward":_=h.l2r(+N.offset(M,-z));break;case"todate":var k=N.offset(M,-z);_=h.l2r(+N.ceil(k))}return[_,b[1]]}(p,l);C[c+".range[0]"]=d[0],C[c+".range[1]"]=d[1]}return C}},{"../../lib":232,"d3-time":16}],173:[function(m,de,te){"use strict";de.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:m("./attributes")}}},layoutAttributes:m("./attributes"),handleDefaults:m("./defaults"),draw:m("./draw")}},{"./attributes":168,"./defaults":170,"./draw":171}],174:[function(m,de,te){"use strict";var o=m("../color/attributes");de.exports={bgcolor:{valType:"color",dflt:o.background,editType:"plot"},bordercolor:{valType:"color",dflt:o.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},{"../color/attributes":101}],175:[function(m,de,te){"use strict";var o=m("../../plots/cartesian/axis_ids").list,g=m("../../plots/cartesian/autorange").getAutoRange,p=m("./constants");de.exports=function(l){for(var c=o(l,"x",!0),C=0;C<c.length;C++){var d=c[C],h=d[p.name];h&&h.visible&&h.autorange&&(h._input.autorange=!0,h._input.range=h.range=g(l,d))}}},{"../../plots/cartesian/autorange":278,"../../plots/cartesian/axis_ids":283,"./constants":176}],176:[function(m,de,te){"use strict";de.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},{}],177:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("../../plot_api/plot_template"),p=m("../../plots/cartesian/axis_ids"),l=m("./attributes"),c=m("./oppaxis_attributes");de.exports=function(C,d,h){var u=C[h],_=d[h];if(u.rangeslider||d._requestRangeslider[_._id]){o.isPlainObject(u.rangeslider)||(u.rangeslider={});var b,M,L=u.rangeslider,N=g.newContainer(_,"rangeslider");if(I("visible")){I("bgcolor",d.plot_bgcolor),I("bordercolor"),I("borderwidth"),I("thickness"),I("autorange",!_.isValidRange(L.range)),I("range");var z=d._subplots;if(z)for(var k=z.cartesian.filter(function(B){return B.substr(0,B.indexOf("y"))===p.name2id(h)}).map(function(B){return B.substr(B.indexOf("y"),B.length)}),D=o.simpleMap(k,p.id2name),S=0;S<D.length;S++){var P=D[S];b=L[P]||{},M=g.newContainer(N,P,"yaxis");var H,E=d[P];b.range&&E.isValidRange(b.range)&&(H="fixed"),"match"!==w("rangemode",H)&&w("range",E.range.slice())}N._input=L}}function I(B,$){return o.coerce(L,N,l,B,$)}function w(B,$){return o.coerce(b,M,c,B,$)}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/cartesian/axis_ids":283,"./attributes":174,"./oppaxis_attributes":181}],178:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("../../registry"),p=m("../../plots/plots"),l=m("../../lib"),c=l.strTranslate,C=m("../drawing"),d=m("../color"),h=m("../titles"),u=m("../../plots/cartesian"),_=m("../../plots/cartesian/axis_ids"),b=m("../dragelement"),M=m("../../lib/setcursor"),L=m("./constants");function N(H,E,I,w){var B=l.ensureSingle(H,"rect",L.bgClassName,function(W){W.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),$=w.borderwidth%2==0?w.borderwidth:w.borderwidth-1,T=-w._offsetShift,Y=C.crispRound(E,w.borderwidth);B.attr({width:w._width+$,height:w._height+$,transform:c(T,T),fill:w.bgcolor,stroke:w.bordercolor,"stroke-width":Y})}function z(H,E,I,w){l.ensureSingleById(E._fullLayout._topdefs,"clipPath",w._clipId,function($){$.append("rect").attr({x:0,y:0})}).select("rect").attr({width:w._width,height:w._height})}function k(H,E,I,w){var B,$=E.calcdata,T=H.selectAll("g."+L.rangePlotClassName).data(I._subplotsWith,l.identity);T.enter().append("g").attr("class",function(Y){return L.rangePlotClassName+" "+Y}).call(C.setClipUrl,w._clipId,E),T.order(),T.exit().remove(),T.each(function(Y,W){var q=o.select(this),X=0===W,ee=_.getFromId(E,Y,"y"),ce=ee._name,me=w[ce],ae={data:[],layout:{xaxis:{type:I.type,domain:[0,1],range:w.range.slice(),calendar:I.calendar},width:w._width,height:w._height,margin:{t:0,b:0,l:0,r:0}},_context:E._context};I.rangebreaks&&(ae.layout.xaxis.rangebreaks=I.rangebreaks),ae.layout[ce]={type:ee.type,domain:[0,1],range:"match"!==me.rangemode?me.range.slice():ee.range.slice(),calendar:ee.calendar},ee.rangebreaks&&(ae.layout[ce].rangebreaks=ee.rangebreaks),p.supplyDefaults(ae);var K=ae._fullLayout.xaxis,le=ae._fullLayout[ce];K.clearCalc(),K.setScale(),le.clearCalc(),le.setScale();var G={id:Y,plotgroup:q,xaxis:K,yaxis:le,isRangePlot:!0};X?B=G:(G.mainplot="xy",G.mainplotinfo=B),u.rangePlot(E,G,function(j,oe){for(var re=[],F=0;F<j.length;F++){var O=j[F],J=O[0].trace;J.xaxis+J.yaxis===oe&&re.push(O)}return re}($,Y))})}function D(H,E,I,w,B){l.ensureSingle(H,"rect",L.maskMinClassName,function($){$.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",w._height).call(d.fill,L.maskColor),l.ensureSingle(H,"rect",L.maskMaxClassName,function($){$.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",w._height).call(d.fill,L.maskColor),"match"!==B.rangemode&&(l.ensureSingle(H,"rect",L.maskMinOppAxisClassName,function($){$.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",w._width).call(d.fill,L.maskOppAxisColor),l.ensureSingle(H,"rect",L.maskMaxOppAxisClassName,function($){$.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",w._width).style("border-top",L.maskOppBorder).call(d.fill,L.maskOppAxisColor))}function S(H,E,I,w){E._context.staticPlot||l.ensureSingle(H,"rect",L.slideBoxClassName,function(B){B.attr({y:0,cursor:L.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:w._height,fill:L.slideBoxFill})}function P(H,E,I,w){var B=l.ensureSingle(H,"g",L.grabberMinClassName),$=l.ensureSingle(H,"g",L.grabberMaxClassName),T={x:0,width:L.handleWidth,rx:L.handleRadius,fill:d.background,stroke:d.defaultLine,"stroke-width":L.handleStrokeWidth,"shape-rendering":"crispEdges"},Y={y:Math.round(w._height/4),height:Math.round(w._height/2)};l.ensureSingle(B,"rect",L.handleMinClassName,function(q){q.attr(T)}).attr(Y),l.ensureSingle($,"rect",L.handleMaxClassName,function(q){q.attr(T)}).attr(Y);var W={width:L.grabAreaWidth,x:0,y:0,fill:L.grabAreaFill,cursor:E._context.staticPlot?void 0:L.grabAreaCursor};l.ensureSingle(B,"rect",L.grabAreaMinClassName,function(q){q.attr(W)}).attr("height",w._height),l.ensureSingle($,"rect",L.grabAreaMaxClassName,function(q){q.attr(W)}).attr("height",w._height)}de.exports=function(H){for(var E=H._fullLayout,I=E._rangeSliderData,w=0;w<I.length;w++){var B=I[w][L.name];B._clipId=B._id+"-"+E._uid}var $=E._infolayer.selectAll("g."+L.containerClassName).data(I,function(T){return T._name});$.exit().each(function(T){E._topdefs.select("#"+T[L.name]._clipId).remove()}).remove(),0!==I.length&&($.enter().append("g").classed(L.containerClassName,!0).attr("pointer-events","all"),$.each(function(T){var Y=o.select(this),W=T[L.name],q=E[_.id2name(T.anchor)],X=W[_.id2name(T.anchor)];if(W.range){var ee,ce=l.simpleMap(W.range,T.r2l),me=l.simpleMap(T.range,T.r2l);ee=me[0]<me[1]?[Math.min(ce[0],me[0]),Math.max(ce[1],me[1])]:[Math.max(ce[0],me[0]),Math.min(ce[1],me[1])],W.range=W._input.range=l.simpleMap(ee,T.l2r)}T.cleanRange("rangeslider.range");var ae=E._size,K=T.domain;W._width=ae.w*(K[1]-K[0]);var le=Math.round(ae.l+ae.w*K[0]),G=Math.round(ae.t+ae.h*(1-T._counterDomainMin)+("bottom"===T.side?T._depth:0)+W._offsetShift+L.extraPad);Y.attr("transform",c(le,G)),W._rl=l.simpleMap(W.range,T.r2l);var j=W._rl[0],oe=W._rl[1],re=oe-j;if(W.p2d=function(Me){return Me/W._width*re+j},W.d2p=function(Me){return(Me-j)/re*W._width},T.rangebreaks){var F=T.locateBreaks(j,oe);if(F.length){var O,J,R=0;for(O=0;O<F.length;O++)R+=(J=F[O]).max-J.min;var ie=W._width/(oe-j-R),fe=[-ie*j];for(O=0;O<F.length;O++)fe.push(fe[fe.length-1]-ie*((J=F[O]).max-J.min));for(W.d2p=function(Me){for(var be=fe[0],Ae=0;Ae<F.length;Ae++){var ze=F[Ae];if(Me>=ze.max)be=fe[Ae+1];else if(Me<ze.min)break}return be+ie*Me},O=0;O<F.length;O++)(J=F[O]).pmin=W.d2p(J.min),J.pmax=W.d2p(J.max);W.p2d=function(Me){for(var be=fe[0],Ae=0;Ae<F.length;Ae++){var ze=F[Ae];if(Me>=ze.pmax)be=fe[Ae+1];else if(Me<ze.pmin)break}return(Me-be)/ie}}}if("match"!==X.rangemode){var ue=q.r2l(X.range[0]),he=q.r2l(X.range[1])-ue;W.d2pOppAxis=function(Me){return(Me-ue)/he*W._height}}Y.call(N,H,T,W).call(z,H,T,W).call(k,H,T,W).call(D,H,T,W,X).call(S,H,T,W).call(P,H,T,W),function(Me,be,Ae,ze){if(!be._context.staticPlot){var Pe=Me.select("rect."+L.slideBoxClassName).node(),Fe=Me.select("rect."+L.grabAreaMinClassName).node(),t1=Me.select("rect."+L.grabAreaMaxClassName).node();Me.on("mousedown",Xe),Me.on("touchstart",Xe)}function Xe(){var Ue=o.event,xe=Ue.target,ve=Ue.clientX||Ue.touches[0].clientX,De=ve-Me.node().getBoundingClientRect().left,Ve=ze.d2p(Ae._rl[0]),Ye=ze.d2p(Ae._rl[1]),Oe=b.coverSlip();function Ie(n1){var Ke,r1,f1,Je=+(n1.clientX||n1.touches[0].clientX)-ve;switch(xe){case Pe:f1="ew-resize",Ke=Ve+Je,r1=Ye+Je;break;case Fe:f1="col-resize",Ke=Ve+Je,r1=Ye;break;case t1:f1="col-resize",Ke=Ve,r1=Ye+Je;break;default:f1="ew-resize",Ke=De,r1=De+Je}if(r1<Ke){var g1=r1;r1=Ke,Ke=g1}ze._pixelMin=Ke,ze._pixelMax=r1,M(o.select(Oe),f1),function(b1,_1,I1,M1){function Re(O1){return I1.l2r(l.constrain(O1,M1._rl[0],M1._rl[1]))}var Be=Re(M1.p2d(M1._pixelMin)),C1=Re(M1.p2d(M1._pixelMax));window.requestAnimationFrame(function(){g.call("_guiRelayout",_1,I1._name+".range",[Be,C1])})}(0,be,Ae,ze)}function Qe(){Oe.removeEventListener("mousemove",Ie),Oe.removeEventListener("mouseup",Qe),this.removeEventListener("touchmove",Ie),this.removeEventListener("touchend",Qe),l.removeElement(Oe)}this.addEventListener("touchmove",Ie),this.addEventListener("touchend",Qe),Oe.addEventListener("mousemove",Ie),Oe.addEventListener("mouseup",Qe)}}(Y,H,T,W),function(Me,be,Ae,ze,Pe,Fe){var t1=L.handleWidth/2;function Xe(Qe){return l.constrain(Qe,0,ze._width)}function Ue(Qe){return l.constrain(Qe,0,ze._height)}function xe(Qe){return l.constrain(Qe,-t1,ze._width+t1)}var ve=Xe(ze.d2p(Ae._rl[0])),De=Xe(ze.d2p(Ae._rl[1]));if(Me.select("rect."+L.slideBoxClassName).attr("x",ve).attr("width",De-ve),Me.select("rect."+L.maskMinClassName).attr("width",ve),Me.select("rect."+L.maskMaxClassName).attr("x",De).attr("width",ze._width-De),"match"!==Fe.rangemode){var Ve=ze._height-Ue(ze.d2pOppAxis(Pe._rl[1])),Ye=ze._height-Ue(ze.d2pOppAxis(Pe._rl[0]));Me.select("rect."+L.maskMinOppAxisClassName).attr("x",ve).attr("height",Ve).attr("width",De-ve),Me.select("rect."+L.maskMaxOppAxisClassName).attr("x",ve).attr("y",Ye).attr("height",ze._height-Ye).attr("width",De-ve),Me.select("rect."+L.slideBoxClassName).attr("y",Ve).attr("height",Ye-Ve)}var Oe=Math.round(xe(ve-t1))-.5,Ie=Math.round(xe(De-t1))+.5;Me.select("g."+L.grabberMinClassName).attr("transform",c(Oe,.5)),Me.select("g."+L.grabberMaxClassName).attr("transform",c(Ie,.5))}(Y,0,T,W,q,X),"bottom"===T.side&&h.draw(H,T._id+"title",{propContainer:T,propName:T._name+".title",placeholder:E._dfltTitle.x,attributes:{x:T._offset+T._length/2,y:G+W._height+W._offsetShift+10+1.5*T.title.font.size,"text-anchor":"middle"}})}))}},{"../../lib":232,"../../lib/setcursor":252,"../../plots/cartesian":293,"../../plots/cartesian/axis_ids":283,"../../plots/plots":316,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"../titles":200,"./constants":176,"@plotly/d3":11}],179:[function(m,de,te){"use strict";var o=m("../../plots/cartesian/axis_ids"),g=m("../../lib/svg_text_utils"),p=m("./constants"),l=m("../../constants/alignment").LINE_SPACING,c=p.name;function C(d){var h=d&&d[c];return h&&h.visible}te.isVisible=C,te.makeData=function(d){var h=o.list({_fullLayout:d},"x",!0),u=d.margin,_=[];if(!d._has("gl2d"))for(var b=0;b<h.length;b++){var M=h[b];if(C(M)){_.push(M);var L=M[c];L._id=c+M._id,L._height=(d.height-u.b-u.t)*L.thickness,L._offsetShift=Math.floor(L.borderwidth/2)}}d._rangeSliderData=_},te.autoMarginOpts=function(d,h){var u=d._fullLayout,_=h[c],b=h._id.charAt(0),M=0,L=0;return"bottom"===h.side&&(M=h._depth,h.title.text!==u._dfltTitle[b]&&(L=1.5*h.title.font.size+10+_._offsetShift,L+=(h.title.text.match(g.BR_TAG_ALL)||[]).length*h.title.font.size*l)),{x:0,y:h._counterDomainMin,l:0,r:0,t:0,b:_._height+M+Math.max(u.margin.b,L),pad:p.extraPad+2*_._offsetShift}}},{"../../constants/alignment":207,"../../lib/svg_text_utils":255,"../../plots/cartesian/axis_ids":283,"./constants":176}],180:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("./attributes"),p=m("./oppaxis_attributes"),l=m("./helpers");de.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:o.extendFlat({},g,{yaxis:p})}}},layoutAttributes:m("./attributes"),handleDefaults:m("./defaults"),calcAutorange:m("./calc_autorange"),draw:m("./draw"),isVisible:l.isVisible,makeData:l.makeData,autoMarginOpts:l.autoMarginOpts}},{"../../lib":232,"./attributes":174,"./calc_autorange":175,"./defaults":177,"./draw":178,"./helpers":179,"./oppaxis_attributes":181}],181:[function(m,de,te){"use strict";de.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},{}],182:[function(m,de,te){"use strict";var o=m("../annotations/attributes"),g=m("../../traces/scatter/attributes").line,p=m("../drawing/attributes").dash,l=m("../../lib/extend").extendFlat,c=m("../../plot_api/plot_template").templatedArray;m("../../constants/axis_placeable_objects"),de.exports=c("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:l({},o.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:l({},o.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:l({},g.color,{editType:"arraydraw"}),width:l({},g.width,{editType:"calc+arraydraw"}),dash:l({},p,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":208,"../../lib/extend":226,"../../plot_api/plot_template":268,"../../traces/scatter/attributes":358,"../annotations/attributes":85,"../drawing/attributes":123}],183:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("../../plots/cartesian/axes"),p=m("./constants"),l=m("./helpers");function c(u){return d(u.line.width,u.xsizemode,u.x0,u.x1,u.path,!1)}function C(u){return d(u.line.width,u.ysizemode,u.y0,u.y1,u.path,!0)}function d(u,_,b,M,L,N){var z=u/2,k=N;if("pixel"===_){var D=L?l.extractPathCoords(L,N?p.paramIsY:p.paramIsX):[b,M],S=o.aggNums(Math.max,null,D),P=o.aggNums(Math.min,null,D),H=P<0?Math.abs(P)+z:z,E=S>0?S+z:z;return{ppad:z,ppadplus:k?H:E,ppadminus:k?E:H}}return{ppad:z}}function h(u,_,b,M,L){var N="category"===u.type||"multicategory"===u.type?u.r2c:u.d2c;if(void 0!==_)return[N(_),N(b)];if(M){var z,k,D,S,P=1/0,H=-1/0,E=M.match(p.segmentRE);for("date"===u.type&&(N=l.decodeDate(N)),z=0;z<E.length;z++)void 0!==(k=L[E[z].charAt(0)].drawn)&&(!(D=E[z].substr(1).match(p.paramRE))||D.length<k||((S=N(D[k]))<P&&(P=S),S>H&&(H=S)));return H>=P?[P,H]:void 0}}de.exports=function(u){var b=o.filterVisible(u._fullLayout.shapes);if(b.length&&u._fullData.length)for(var M=0;M<b.length;M++){var L,N,z=b[M];z._extremes={};var k=g.getRefType(z.xref),D=g.getRefType(z.yref);if("paper"!==z.xref&&"domain"!==k){var S="pixel"===z.xsizemode?z.xanchor:z.x0,P="pixel"===z.xsizemode?z.xanchor:z.x1;(N=h(L=g.getFromId(u,z.xref),S,P,z.path,p.paramIsX))&&(z._extremes[L._id]=g.findExtremes(L,N,c(z)))}if("paper"!==z.yref&&"domain"!==D){var H="pixel"===z.ysizemode?z.yanchor:z.y0,E="pixel"===z.ysizemode?z.yanchor:z.y1;(N=h(L=g.getFromId(u,z.yref),H,E,z.path,p.paramIsY))&&(z._extremes[L._id]=g.findExtremes(L,N,C(z)))}}}},{"../../lib":232,"../../plots/cartesian/axes":279,"./constants":184,"./helpers":193}],184:[function(m,de,te){"use strict";de.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},{}],185:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("../../plots/cartesian/axes"),p=m("../../plots/array_container_defaults"),l=m("./attributes"),c=m("./helpers");function C(d,h,u){function _(X,ee){return o.coerce(d,h,l,X,ee)}if(_("visible")){var b=_("path"),M=_("type",b?"path":"rect");"path"!==h.type&&delete h.path,_("editable"),_("layer"),_("opacity"),_("fillcolor"),_("fillrule"),_("line.width")&&(_("line.color"),_("line.dash"));for(var L=_("xsizemode"),N=_("ysizemode"),z=["x","y"],k=0;k<2;k++){var D,S,P,H=z[k],E=H+"anchor",I="x"===H?L:N,w={_fullLayout:u},B=g.coerceRef(d,h,w,H,void 0,"paper");if("range"===g.getRefType(B)?((D=g.getFromId(w,B))._shapeIndices.push(h._index),P=c.rangeToShapePosition(D),S=c.shapePositionToRange(D)):S=P=o.identity,"path"!==M){var $=H+"0",T=H+"1",Y=d[$],W=d[T];d[$]=S(d[$],!0),d[T]=S(d[T],!0),"pixel"===I?(_($,0),_(T,10)):(g.coercePosition(h,w,_,B,$,.25),g.coercePosition(h,w,_,B,T,.75)),h[$]=P(h[$]),h[T]=P(h[T]),d[$]=Y,d[T]=W}if("pixel"===I){var q=d[E];d[E]=S(d[E],!0),g.coercePosition(h,w,_,B,E,.25),h[E]=P(h[E]),d[E]=q}}"path"===M?_("path"):o.noneOrAll(d,h,["x0","x1","y0","y1"])}}de.exports=function(d,h){p(d,h,{name:"shapes",handleItemDefaults:C})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"./attributes":182,"./helpers":193}],186:[function(m,de,te){"use strict";var o=m("../../registry"),g=m("../../lib"),p=m("../../plots/cartesian/axes"),l=m("./draw_newshape/helpers").readPaths,c=m("./draw_newshape/display_outlines"),C=m("../../plots/cartesian/handle_outline").clearOutlineControllers,d=m("../color"),h=m("../drawing"),u=m("../../plot_api/plot_template").arrayEditor,_=m("../dragelement"),b=m("../../lib/setcursor"),M=m("./constants"),L=m("./helpers");function N(I){var w=I._fullLayout;for(var B in w._shapeUpperLayer.selectAll("path").remove(),w._shapeLowerLayer.selectAll("path").remove(),w._plots){var $=w._plots[B].shapelayer;$&&$.selectAll("path").remove()}for(var T=0;T<w.shapes.length;T++)w.shapes[T].visible&&D(I,T)}function z(I){return!!I._fullLayout._drawing}function k(I){return!I._context.edits.shapePosition}function D(I,w){I._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+w+'"]').remove();var B=L.makeOptionsAndPlotinfo(I,w),$=B.options,T=B.plotinfo;$._input&&!1!==$.visible&&function Y(W){var q=P(I,$),X={"data-index":w,"fill-rule":$.fillrule,d:q},ee=$.opacity,ce=$.fillcolor,me=$.line.width?$.line.color:"rgba(0,0,0,0)",ae=$.line.width,K=$.line.dash;ae||!0!==$.editable||(ae=5,K="solid");var le="Z"!==q[q.length-1],G=k(I)&&$.editable&&I._fullLayout._activeShapeIndex===w;G&&(ce=le?"rgba(0,0,0,0)":I._fullLayout.activeshape.fillcolor,ee=I._fullLayout.activeshape.opacity);var j,oe=W.append("path").attr(X).style("opacity",ee).call(d.stroke,me).call(d.fill,ce).call(h.dashLine,K,ae);if(S(oe,I,$),(G||I._context.edits.shapePosition)&&(j=u(I.layout,"shapes",$)),G){oe.style({cursor:"move"});var re={element:oe.node(),plotinfo:T,gd:I,editHelpers:j,isActiveShape:!0},F=l(q,I);c(F,oe,re)}else I._context.edits.shapePosition?function(O,J,R,ie,fe,ue){var he,Me,be,Ae,ze,Pe,Fe,t1,Xe,Ue,xe,ve,De,Ve,Ye,Oe,Ie="pixel"===R.xsizemode,Qe="pixel"===R.ysizemode,n1="line"===R.type,Ke="path"===R.type,r1=ue.modifyItem,f1=p.getFromId(O,R.xref),Je=p.getRefType(R.xref),g1=p.getFromId(O,R.yref),b1=p.getRefType(R.yref),_1=L.getDataToPixel(O,f1,!1,Je),I1=L.getDataToPixel(O,g1,!0,b1),M1=L.getPixelToData(O,f1,!1,Je),Re=L.getPixelToData(O,g1,!0,b1),Be=n1?function(){var N1=Math.max(R.line.width,10),ge=fe.append("g").attr("data-index",ie);ge.append("path").attr("d",J.attr("d")).style({cursor:"move","stroke-width":N1,"stroke-opacity":"0"});var ye={"fill-opacity":"0"},je=Math.max(N1/2,10);return ge.append("circle").attr({"data-line-point":"start-point",cx:Ie?_1(R.xanchor)+R.x0:_1(R.x0),cy:Qe?I1(R.yanchor)-R.y0:I1(R.y0),r:je}).style(ye).classed("cursor-grab",!0),ge.append("circle").attr({"data-line-point":"end-point",cx:Ie?_1(R.xanchor)+R.x1:_1(R.x1),cy:Qe?I1(R.yanchor)-R.y1:I1(R.y1),r:je}).style(ye).classed("cursor-grab",!0),ge}():J,C1={element:Be.node(),gd:O,prepFn:function(N1){var ge,ye,je,e1,d1,i1,l1,c1;z(O)||(Ie&&(ze=_1(R.xanchor)),Qe&&(Pe=I1(R.yanchor)),"path"===R.type?Ye=R.path:(he=Ie?R.x0:_1(R.x0),Me=Qe?R.y0:I1(R.y0),be=Ie?R.x1:_1(R.x1),Ae=Qe?R.y1:I1(R.y1)),he<be?(Xe=he,De="x0",Ue=be,Ve="x1"):(Xe=be,De="x1",Ue=he,Ve="x0"),!Qe&&Me<Ae||Qe&&Me>Ae?(Fe=Me,xe="y0",t1=Ae,ve="y1"):(Fe=Ae,xe="y1",t1=Me,ve="y0"),O1(N1),G1(fe,R),ge=J,d1=(ye=R).yref,i1=p.getFromId(je=O,e1=ye.xref),l1=p.getFromId(je,d1),c1="","paper"===e1||i1.autorange||(c1+=e1),"paper"===d1||l1.autorange||(c1+=d1),h.setClipUrl(ge,c1?"clip"+je._fullLayout._uid+c1:null,je),C1.moveFn="move"===Oe?Q1:l2,C1.altKey=N1.altKey)},doneFn:function(){z(O)||(b(J),K1(fe),S(J,O,R),o.call("_guiRelayout",O,ue.getUpdateObj()))},clickFn:function(){z(O)||K1(fe)}};function O1(N1){if(z(O))Oe=null;else if(n1)Oe="path"===N1.target.tagName?"move":"start-point"===N1.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var ge=C1.element.getBoundingClientRect(),ye=ge.right-ge.left,je=ge.bottom-ge.top,i1=!Ke&&ye>10&&je>10&&!N1.shiftKey?_.getCursor((N1.clientX-ge.left)/ye,1-(N1.clientY-ge.top)/je):"move";b(J,i1),Oe=i1.split("-")[0]}}function Q1(N1,ge){if("path"===R.type){var ye=function(d1){return d1},je=ye,e1=ye;Ie?r1("xanchor",R.xanchor=M1(ze+N1)):(je=function(d1){return M1(_1(d1)+N1)},f1&&"date"===f1.type&&(je=L.encodeDate(je))),Qe?r1("yanchor",R.yanchor=Re(Pe+ge)):(e1=function(d1){return Re(I1(d1)+ge)},g1&&"date"===g1.type&&(e1=L.encodeDate(e1))),r1("path",R.path=H(Ye,je,e1))}else Ie?r1("xanchor",R.xanchor=M1(ze+N1)):(r1("x0",R.x0=M1(he+N1)),r1("x1",R.x1=M1(be+N1))),Qe?r1("yanchor",R.yanchor=Re(Pe+ge)):(r1("y0",R.y0=Re(Me+ge)),r1("y1",R.y1=Re(Ae+ge)));J.attr("d",P(O,R)),G1(fe,R)}function l2(N1,ge){if(Ke){var ye=function(a2){return a2},je=ye,e1=ye;Ie?r1("xanchor",R.xanchor=M1(ze+N1)):(je=function(a2){return M1(_1(a2)+N1)},f1&&"date"===f1.type&&(je=L.encodeDate(je))),Qe?r1("yanchor",R.yanchor=Re(Pe+ge)):(e1=function(a2){return Re(I1(a2)+ge)},g1&&"date"===g1.type&&(e1=L.encodeDate(e1))),r1("path",R.path=H(Ye,je,e1))}else if(n1){if("resize-over-start-point"===Oe){var d1=he+N1,i1=Qe?Me-ge:Me+ge;r1("x0",R.x0=Ie?d1:M1(d1)),r1("y0",R.y0=Qe?i1:Re(i1))}else if("resize-over-end-point"===Oe){var l1=be+N1,c1=Qe?Ae-ge:Ae+ge;r1("x1",R.x1=Ie?l1:M1(l1)),r1("y1",R.y1=Qe?c1:Re(c1))}}else{var L1=function(a2){return-1!==Oe.indexOf(a2)},H1=L1("n"),B1=L1("s"),r2=L1("w"),V1=L1("e"),q1=H1?Fe+ge:Fe,f2=B1?t1+ge:t1,z1=r2?Xe+N1:Xe,w1=V1?Ue+N1:Ue;Qe&&(H1&&(q1=Fe-ge),B1&&(f2=t1-ge)),(!Qe&&f2-q1>10||Qe&&q1-f2>10)&&(r1(xe,R[xe]=Qe?q1:Re(q1)),r1(ve,R[ve]=Qe?f2:Re(f2))),w1-z1>10&&(r1(De,R[De]=Ie?z1:M1(z1)),r1(Ve,R[Ve]=Ie?w1:M1(w1)))}J.attr("d",P(O,R)),G1(fe,R)}function G1(N1,ge){(Ie||Qe)&&function(){var ye="path"!==ge.type,je=N1.selectAll(".visual-cue").data([0]);je.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var e1=_1(Ie?ge.xanchor:g.midRange(ye?[ge.x0,ge.x1]:L.extractPathCoords(ge.path,M.paramIsX))),d1=I1(Qe?ge.yanchor:g.midRange(ye?[ge.y0,ge.y1]:L.extractPathCoords(ge.path,M.paramIsY)));e1=L.roundPositionForSharpStrokeRendering(e1,1),d1=L.roundPositionForSharpStrokeRendering(d1,1),je.attr("d",Ie&&Qe?"M"+(e1-1-1)+","+(d1-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z":Ie?"M"+(e1-1-1)+","+(d1-9-1)+"v18 h2 v-18 Z":"M"+(e1-9-1)+","+(d1-1-1)+"h18 v2 h-18 Z")}()}function K1(N1){N1.selectAll(".visual-cue").remove()}_.init(C1),Be.node().onmousemove=O1}(I,oe,$,w,W,j):!0===$.editable&&oe.style("pointer-events",le||d.opacity(ce)*ee<=.5?"stroke":"all");oe.node().addEventListener("click",function(){return function(O,J){if(k(O)){var R=+J.node().getAttribute("data-index");if(R>=0){if(R===O._fullLayout._activeShapeIndex)return void E(O);O._fullLayout._activeShapeIndex=R,O._fullLayout._deactivateShape=E,N(O)}}}(I,oe)})}("below"!==$.layer?I._fullLayout._shapeUpperLayer:"paper"===$.xref||"paper"===$.yref?I._fullLayout._shapeLowerLayer:T._hadPlotinfo?(T.mainplotinfo||T).shapelayer:I._fullLayout._shapeLowerLayer)}function S(I,w,B){var $=(B.xref+B.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");h.setClipUrl(I,$?"clip"+w._fullLayout._uid+$:null,w)}function P(I,w){var B,$,T,Y,W,q,X,ee,fe,ue,he,be,Ae,ze,Pe,ce=w.type,me=p.getRefType(w.xref),ae=p.getRefType(w.yref),K=p.getFromId(I,w.xref),le=p.getFromId(I,w.yref),G=I._fullLayout._size;if(K?"domain"===me?$=function(fe){return K._offset+K._length*fe}:(B=L.shapePositionToRange(K),$=function(fe){return K._offset+K.r2p(B(fe,!0))}):$=function(fe){return G.l+G.w*fe},le?"domain"===ae?Y=function(fe){return le._offset+le._length*(1-fe)}:(T=L.shapePositionToRange(le),Y=function(fe){return le._offset+le.r2p(T(fe,!0))}):Y=function(fe){return G.t+G.h*(1-fe)},"path"===ce)return K&&"date"===K.type&&($=L.decodeDate($)),le&&"date"===le.type&&(Y=L.decodeDate(Y)),ue=$,he=Y,be=(fe=w).xsizemode,Ae=fe.ysizemode,ze=fe.xanchor,Pe=fe.yanchor,fe.path.replace(M.segmentRE,function(Fe){var t1=0,Xe=Fe.charAt(0),Ue=M.paramIsX[Xe],xe=M.paramIsY[Xe],ve=M.numParams[Xe],De=Fe.substr(1).replace(M.paramRE,function(Ve){return Ue[t1]?Ve="pixel"===be?ue(ze)+Number(Ve):ue(Ve):xe[t1]&&(Ve="pixel"===Ae?he(Pe)-Number(Ve):he(Ve)),++t1>ve&&(Ve="X"),Ve});return t1>ve&&(De=De.replace(/[\s,]*X.*/,""),g.log("Ignoring extra params in segment "+Fe)),Xe+De});if("pixel"===w.xsizemode){var j=$(w.xanchor);W=j+w.x0,q=j+w.x1}else W=$(w.x0),q=$(w.x1);if("pixel"===w.ysizemode){var oe=Y(w.yanchor);X=oe-w.y0,ee=oe-w.y1}else X=Y(w.y0),ee=Y(w.y1);if("line"===ce)return"M"+W+","+X+"L"+q+","+ee;if("rect"===ce)return"M"+W+","+X+"H"+q+"V"+ee+"H"+W+"Z";var re=(W+q)/2,F=(X+ee)/2,O=Math.abs(re-W),J=Math.abs(F-X),R="A"+O+","+J,ie=re+O+","+F;return"M"+ie+R+" 0 1,1 "+re+","+(F-J)+R+" 0 0,1 "+ie+"Z"}function H(I,w,B){return I.replace(M.segmentRE,function($){var T=0,Y=$.charAt(0),W=M.paramIsX[Y],q=M.paramIsY[Y],X=M.numParams[Y];return Y+$.substr(1).replace(M.paramRE,function(ee){return T>=X||(W[T]?ee=w(ee):q[T]&&(ee=B(ee)),T++),ee})})}function E(I){k(I)&&I._fullLayout._activeShapeIndex>=0&&(C(I),delete I._fullLayout._activeShapeIndex,N(I))}de.exports={draw:N,drawOne:D,eraseActiveShape:function(I){if(k(I)){C(I);var w=I._fullLayout._activeShapeIndex,B=(I.layout||{}).shapes||[];if(w<B.length){for(var $=[],T=0;T<B.length;T++)T!==w&&$.push(B[T]);delete I._fullLayout._activeShapeIndex,o.call("_guiRelayout",I,{shapes:$})}}}}},{"../../lib":232,"../../lib/setcursor":252,"../../plot_api/plot_template":268,"../../plots/cartesian/axes":279,"../../plots/cartesian/handle_outline":290,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"./constants":184,"./draw_newshape/display_outlines":190,"./draw_newshape/helpers":191,"./helpers":193}],187:[function(m,de,te){"use strict";var o=m("../../drawing/attributes").dash,g=m("../../../lib/extend").extendFlat;de.exports={newshape:{line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:0,dflt:4,editType:"none"},dash:g({},o,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none"},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},{"../../../lib/extend":226,"../../drawing/attributes":123}],188:[function(m,de,te){"use strict";de.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},{}],189:[function(m,de,te){"use strict";var o=m("../../color");de.exports=function(g,p,l){l("newshape.drawdirection"),l("newshape.layer"),l("newshape.fillcolor"),l("newshape.fillrule"),l("newshape.opacity"),l("newshape.line.width")&&(l("newshape.line.color",o.contrast((g||{}).plot_bgcolor||"#FFF")),l("newshape.line.dash")),l("activeshape.fillcolor"),l("activeshape.opacity")}},{"../../color":102}],190:[function(m,de,te){"use strict";var o=m("../../dragelement"),g=m("../../dragelement/helpers").drawMode,p=m("../../../registry"),l=m("./constants"),c=l.i000,C=l.i090,d=l.i180,h=l.i270,u=m("../../../plots/cartesian/handle_outline").clearOutlineControllers,_=m("./helpers"),b=_.pointsShapeRectangle,M=_.pointsShapeEllipse,L=_.writePaths,N=m("./newshapes");de.exports=function z(k,D,S,P){P||(P=0);var H=S.gd;function E(){z(k,D,S,P++),M(k[0])&&I({redrawing:!0})}function I(j){S.isActiveShape=!1;var oe=N(D,S);Object.keys(oe).length&&p.call((j||{}).redrawing?"relayout":"_guiRelayout",H,oe)}var w,B,$,T,Y,W=S.isActiveShape,q=H._fullLayout._zoomlayer;function ee(j){$=+j.srcElement.getAttribute("data-i"),T=+j.srcElement.getAttribute("data-j"),w[$][T].moveFn=ce}function ce(j,oe){if(k.length){var re=Y[$][T][1],F=Y[$][T][2],O=k[$],J=O.length;if(b(O)){for(var R=0;R<J;R++)if(R!==T){var ie=O[R];ie[1]===O[T][1]&&(ie[1]=re+j),ie[2]===O[T][2]&&(ie[2]=F+oe)}if(O[T][1]=re+j,O[T][2]=F+oe,!b(O))for(var fe=0;fe<J;fe++)for(var ue=0;ue<O[fe].length;ue++)O[fe][ue]=Y[$][fe][ue]}else O[T][1]=re+j,O[T][2]=F+oe;E()}}function me(){I()}function ae(j,oe){if(2===j){$=+oe.srcElement.getAttribute("data-i"),T=+oe.srcElement.getAttribute("data-j");var re=k[$];b(re)||M(re)||function(){if(k.length&&k[$]&&k[$].length){for(var F=[],O=0;O<k[$].length;O++)O!==T&&F.push(k[$][O]);F.length>1&&(2!==F.length||"Z"!==F[1][0])&&(0===T&&(F[0][0]="M"),k[$]=F,E(),I())}}()}}function K(j,oe){(function(re,F){if(k.length)for(var O=0;O<k.length;O++)for(var J=0;J<k[O].length;J++)for(var R=0;R+2<k[O][J].length;R+=2)k[O][J][R+1]=Y[O][J][R+1]+re,k[O][J][R+2]=Y[O][J][R+2]+F})(j,oe),E()}g(S.dragmode)?H._fullLayout._drawing=!0:H._fullLayout._activeShapeIndex>=0&&u(H),D.attr("d",L(k)),W&&!P&&(Y=function(j,oe){for(var re=0;re<oe.length;re++){var F=oe[re];j[re]=[];for(var O=0;O<F.length;O++){j[re][O]=[];for(var J=0;J<F[O].length;J++)j[re][O][J]=F[O][J]}}return j}([],k),function(j){w=[];for(var oe=0;oe<k.length;oe++){var re=k[oe],F=!b(re)&&M(re);w[oe]=[];for(var O=0;O<re.length;O++)if("Z"!==re[O][0]&&(!F||O===c||O===C||O===d||O===h)){var J=re[O][1],R=re[O][2],ie=j.append("circle").classed("cursor-grab",!0).attr("data-i",oe).attr("data-j",O).attr("cx",J).attr("cy",R).attr("r",4).style({"mix-blend-mode":"luminosity",fill:"black",stroke:"white","stroke-width":1});w[oe][O]={element:ie.node(),gd:H,prepFn:ee,doneFn:me,clickFn:ae},o.init(w[oe][O])}}}(q.append("g").attr("class","outline-controllers")),B=[],k.length&&(B[0]={element:D[0][0],gd:H,prepFn:function le(j){($=+j.srcElement.getAttribute("data-i"))||($=0),B[$].moveFn=K},doneFn:function G(){I()}},o.init(B[0])))}},{"../../../plots/cartesian/handle_outline":290,"../../../registry":318,"../../dragelement":121,"../../dragelement/helpers":120,"./constants":188,"./helpers":191,"./newshapes":192}],191:[function(m,de,te){"use strict";var o=m("parse-svg-path"),g=m("./constants"),p=g.CIRCLE_SIDES,l=g.SQRT2,c=m("../../../plots/cartesian/helpers"),C=c.p2r,d=c.r2p,h=[0,3,4,5,6,1,2],u=[0,3,4,1,2];function _(M,L){return Math.abs(M-L)<=1e-6}function b(M,L){var N=L[1]-M[1],z=L[2]-M[2];return Math.sqrt(N*N+z*z)}te.writePaths=function(M){var L=M.length;if(!L)return"M0,0Z";for(var N="",z=0;z<L;z++)for(var k=M[z].length,D=0;D<k;D++){var S=M[z][D][0];if("Z"===S)N+="Z";else for(var P=M[z][D].length,H=0;H<P;H++){var E=H;"Q"===S||"S"===S?E=u[H]:"C"===S&&(E=h[H]),N+=M[z][D][E],H>0&&H<P-1&&(N+=",")}}return N},te.readPaths=function(M,L,N,z){var k,D,S,P=o(M),H=[],E=-1,I=0,w=0,B=function(){D=I,S=w};B();for(var $=0;$<P.length;$++){var X=[],ee=P[$][0],ce=ee;switch(ee){case"M":H[++E]=[],X.push([ce,I=+P[$][1],w=+P[$][2]]),B();break;case"Q":case"S":X.push([ce,I=+P[$][3],w=+P[$][4],+P[$][1],+P[$][2]]);break;case"C":X.push([ce,I=+P[$][5],w=+P[$][6],+P[$][1],+P[$][2],+P[$][3],+P[$][4]]);break;case"T":case"L":X.push([ce,I=+P[$][1],w=+P[$][2]]);break;case"H":X.push([ce="L",I=+P[$][1],w]);break;case"V":X.push([ce="L",I,w=+P[$][1]]);break;case"A":ce="L";var me=+P[$][1],ae=+P[$][2];+P[$][4]||(me=-me,ae=-ae);var K=I-me,le=w;for(k=1;k<=p/2;k++){var G=2*Math.PI*k/p;X.push([ce,K+me*Math.cos(G),le+ae*Math.sin(G)])}break;case"Z":I===D&&w===S||X.push([ce,I=D,w=S])}for(var j=(N||{}).domain,oe=L._fullLayout._size,re=N&&"pixel"===N.xsizemode,F=N&&"pixel"===N.ysizemode,O=!1===z,J=0;J<X.length;J++){for(k=0;k+2<7;k+=2){var R=X[J][k+1],ie=X[J][k+2];void 0!==R&&void 0!==ie&&(I=R,w=ie,N&&(N.xaxis&&N.xaxis.p2r?(O&&(R-=N.xaxis._offset),R=re?d(N.xaxis,N.xanchor)+R:C(N.xaxis,R)):(O&&(R-=oe.l),j?R=j.x[0]+R/oe.w:R/=oe.w),N.yaxis&&N.yaxis.p2r?(O&&(ie-=N.yaxis._offset),ie=F?d(N.yaxis,N.yanchor)-ie:C(N.yaxis,ie)):(O&&(ie-=oe.t),ie=j?j.y[1]-ie/oe.h:1-ie/oe.h)),X[J][k+1]=R,X[J][k+2]=ie)}H[E].push(X[J].slice())}}return H},te.pointsShapeRectangle=function(M){if(5!==M.length)return!1;for(var L=1;L<3;L++)if(!_(M[0][L]-M[1][L],M[3][L]-M[2][L])||!_(M[0][L]-M[3][L],M[1][L]-M[2][L]))return!1;return!(!_(M[0][1],M[1][1])&&!_(M[0][1],M[3][1])||!(b(M[0],M[1])*b(M[0],M[3])))},te.pointsShapeEllipse=function(M){var L=M.length;if(L!==p+1)return!1;L=p;for(var N=0;N<L;N++){var z=(2*L-N)%L,k=(L/2+z)%L;if(!_(b(M[N],M[(L/2+N)%L]),b(M[z],M[k])))return!1}return!0},te.handleEllipse=function(M,L,N){if(!M)return[L,N];var z=te.ellipseOver({x0:L[0],y0:L[1],x1:N[0],y1:N[1]}),k=(z.x1+z.x0)/2,D=(z.y1+z.y0)/2,S=(z.x1-z.x0)/2,P=(z.y1-z.y0)/2;S||(S=P/=l),P||(P=S/=l);for(var H=[],E=0;E<p;E++){var I=2*E*Math.PI/p;H.push([k+S*Math.cos(I),D+P*Math.sin(I)])}return H},te.ellipseOver=function(M){var L=M.x0,N=M.y0,z=M.x1,k=M.y1,D=z-L,S=k-N,P=((L-=D)+z)/2,H=((N-=S)+k)/2;return{x0:P-(D*=l),y0:H-(S*=l),x1:P+D,y1:H+S}}},{"../../../plots/cartesian/helpers":291,"./constants":188,"parse-svg-path":56}],192:[function(m,de,te){"use strict";var o=m("../../dragelement/helpers"),g=o.drawMode,p=o.openMode,l=m("./constants"),c=l.i000,C=l.i090,d=l.i180,h=l.i270,u=l.cos45,_=l.sin45,b=m("../../../plots/cartesian/helpers"),M=b.p2r,L=b.r2p,N=m("../../../plots/cartesian/handle_outline").clearSelect,z=m("./helpers"),k=z.readPaths,D=z.writePaths,S=z.ellipseOver;de.exports=function(P,H){if(P.length){var E=P[0][0];if(E){var I=E.getAttribute("d"),w=H.gd,B=w._fullLayout.newshape,$=H.plotinfo,T=$.xaxis,Y=$.yaxis,W=!!$.domain||!$.xaxis,q=!!$.domain||!$.yaxis,X=H.isActiveShape,ee=H.dragmode,ce=(w.layout||{}).shapes||[];if(!g(ee)&&void 0!==X){var me=w._fullLayout._activeShapeIndex;if(me<ce.length)switch(w._fullLayout.shapes[me].type){case"rect":ee="drawrect";break;case"circle":ee="drawcircle";break;case"line":ee="drawline";break;case"path":var ae=ce[me].path||"";ee="Z"===ae[ae.length-1]?"drawclosedpath":"drawopenpath"}}var K,le=p(ee),G=k(I,w,$,X),j={editable:!0,xref:W?"paper":T._id,yref:q?"paper":Y._id,layer:B.layer,opacity:B.opacity,line:{color:B.line.color,width:B.line.width,dash:B.line.dash}};if(le||(j.fillcolor=B.fillcolor,j.fillrule=B.fillrule),1===G.length&&(K=G[0]),K&&"drawrect"===ee)j.type="rect",j.x0=K[0][1],j.y0=K[0][2],j.x1=K[2][1],j.y1=K[2][2];else if(K&&"drawline"===ee)j.type="line",j.x0=K[0][1],j.y0=K[0][2],j.x1=K[1][1],j.y1=K[1][2];else if(K&&"drawcircle"===ee){j.type="circle";var oe=K[c][1],re=K[C][1],F=K[d][1],O=K[h][1],J=K[c][2],R=K[C][2],ie=K[d][2],fe=K[h][2],ue=$.xaxis&&("date"===$.xaxis.type||"log"===$.xaxis.type),he=$.yaxis&&("date"===$.yaxis.type||"log"===$.yaxis.type);ue&&(oe=L($.xaxis,oe),re=L($.xaxis,re),F=L($.xaxis,F),O=L($.xaxis,O)),he&&(J=L($.yaxis,J),R=L($.yaxis,R),ie=L($.yaxis,ie),fe=L($.yaxis,fe));var Me=(re+O)/2,be=(J+ie)/2,Ae=S({x0:Me,y0:be,x1:Me+(O-re+F-oe)/2*u,y1:be+(fe-R+ie-J)/2*_});ue&&(Ae.x0=M($.xaxis,Ae.x0),Ae.x1=M($.xaxis,Ae.x1)),he&&(Ae.y0=M($.yaxis,Ae.y0),Ae.y1=M($.yaxis,Ae.y1)),j.x0=Ae.x0,j.y0=Ae.y0,j.x1=Ae.x1,j.y1=Ae.y1}else j.type="path",T&&Y&&function(xe,ve,De){var Ve="date"===ve.type,Ye="date"===De.type;if(!Ve&&!Ye)return xe;for(var Oe=0;Oe<xe.length;Oe++)for(var Ie=0;Ie<xe[Oe].length;Ie++)for(var Qe=0;Qe+2<xe[Oe][Ie].length;Qe+=2)Ve&&(xe[Oe][Ie][Qe+1]=xe[Oe][Ie][Qe+1].replace(" ","_")),Ye&&(xe[Oe][Ie][Qe+2]=xe[Oe][Ie][Qe+2].replace(" ","_"))}(G,T,Y),j.path=D(G),K=null;N(w);for(var ze=H.editHelpers,Pe=(ze||{}).modifyItem,Fe=[],t1=0;t1<ce.length;t1++){var Xe=w._fullLayout.shapes[t1];if(Fe[t1]=Xe._input,void 0!==X&&t1===w._fullLayout._activeShapeIndex){var Ue=j;switch(Xe.type){case"line":case"rect":case"circle":Pe("x0",Ue.x0),Pe("x1",Ue.x1),Pe("y0",Ue.y0),Pe("y1",Ue.y1);break;case"path":Pe("path",Ue.path)}}}return void 0===X?(Fe.push(j),Fe):ze?ze.getUpdateObj():{}}}}},{"../../../plots/cartesian/handle_outline":290,"../../../plots/cartesian/helpers":291,"../../dragelement/helpers":120,"./constants":188,"./helpers":191}],193:[function(m,de,te){"use strict";var o=m("./constants"),g=m("../../lib");te.rangeToShapePosition=function(p){return"log"===p.type?p.r2d:function(l){return l}},te.shapePositionToRange=function(p){return"log"===p.type?p.d2r:function(l){return l}},te.decodeDate=function(p){return function(l){return l.replace&&(l=l.replace("_"," ")),p(l)}},te.encodeDate=function(p){return function(l){return p(l).replace(" ","_")}},te.extractPathCoords=function(p,l){var c=[];return p.match(o.segmentRE).forEach(function(C){var d=l[C.charAt(0)].drawn;if(void 0!==d){var h=C.substr(1).match(o.paramRE);!h||h.length<d||c.push(g.cleanNumber(h[d]))}}),c},te.getDataToPixel=function(p,l,c,C){var d,h=p._fullLayout._size;if(l)if("domain"===C)d=function(_){return l._length*(c?1-_:_)+l._offset};else{var u=te.shapePositionToRange(l);d=function(_){return l._offset+l.r2p(u(_,!0))},"date"===l.type&&(d=te.decodeDate(d))}else d=c?function(_){return h.t+h.h*(1-_)}:function(_){return h.l+h.w*_};return d},te.getPixelToData=function(p,l,c,C){var d,h=p._fullLayout._size;if(l)if("domain"===C)d=function(_){var b=(_-l._offset)/l._length;return c?1-b:b};else{var u=te.rangeToShapePosition(l);d=function(_){return u(l.p2r(_-l._offset))}}else d=c?function(_){return 1-(_-h.t)/h.h}:function(_){return(_-h.l)/h.w};return d},te.roundPositionForSharpStrokeRendering=function(p,l){var c=1===Math.round(l%2),C=Math.round(p);return c?C+.5:C},te.makeOptionsAndPlotinfo=function(p,l){var c=p._fullLayout.shapes[l]||{},C=p._fullLayout._plots[c.xref+c.yref];return C?C._hadPlotinfo=!0:(C={},c.xref&&"paper"!==c.xref&&(C.xaxis=p._fullLayout[c.xref+"axis"]),c.yref&&"paper"!==c.yref&&(C.yaxis=p._fullLayout[c.yref+"axis"])),C.xsizemode=c.xsizemode,C.ysizemode=c.ysizemode,C.xanchor=c.xanchor,C.yanchor=c.yanchor,{options:c,plotinfo:C}}},{"../../lib":232,"./constants":184}],194:[function(m,de,te){"use strict";var o=m("./draw");de.exports={moduleType:"component",name:"shapes",layoutAttributes:m("./attributes"),supplyLayoutDefaults:m("./defaults"),supplyDrawNewShapeDefaults:m("./draw_newshape/defaults"),includeBasePlot:m("../../plots/cartesian/include_components")("shapes"),calcAutorange:m("./calc_autorange"),draw:o.draw,drawOne:o.drawOne}},{"../../plots/cartesian/include_components":292,"./attributes":182,"./calc_autorange":183,"./defaults":185,"./draw":186,"./draw_newshape/defaults":189}],195:[function(m,de,te){"use strict";var o=m("../../plots/font_attributes"),g=m("../../plots/pad_attributes"),p=m("../../lib/extend").extendDeepAll,l=m("../../plot_api/edit_types").overrideAll,c=m("../../plots/animation_attributes"),C=m("../../plot_api/plot_template").templatedArray,d=m("./constants"),h=C("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});de.exports=l(C("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:h,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:p(g({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:c.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:o({})},font:o({}),activebgcolor:{valType:"color",dflt:d.gripBgActiveColor},bgcolor:{valType:"color",dflt:d.railBgColor},bordercolor:{valType:"color",dflt:d.railBorderColor},borderwidth:{valType:"number",min:0,dflt:d.railBorderWidth},ticklen:{valType:"number",min:0,dflt:d.tickLength},tickcolor:{valType:"color",dflt:d.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:d.minorTickLength}}),"arraydraw","from-root")},{"../../lib/extend":226,"../../plot_api/edit_types":261,"../../plot_api/plot_template":268,"../../plots/animation_attributes":273,"../../plots/font_attributes":310,"../../plots/pad_attributes":315,"./constants":196}],196:[function(m,de,te){"use strict";de.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},{}],197:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("../../plots/array_container_defaults"),p=m("./attributes"),l=m("./constants").name,c=p.steps;function C(h,u,_){function b(k,D){return o.coerce(h,u,p,k,D)}for(var M=g(h,u,{name:"steps",handleItemDefaults:d}),L=0,N=0;N<M.length;N++)M[N].visible&&L++;if(L<2?u.visible=!1:b("visible")){u._stepCount=L;var z=u._visibleSteps=o.filterVisible(M);(M[b("active")]||{}).visible||(u.active=z[0]._index),b("x"),b("y"),o.noneOrAll(h,u,["x","y"]),b("xanchor"),b("yanchor"),b("len"),b("lenmode"),b("pad.t"),b("pad.r"),b("pad.b"),b("pad.l"),o.coerceFont(b,"font",_.font),b("currentvalue.visible")&&(b("currentvalue.xanchor"),b("currentvalue.prefix"),b("currentvalue.suffix"),b("currentvalue.offset"),o.coerceFont(b,"currentvalue.font",u.font)),b("transition.duration"),b("transition.easing"),b("bgcolor"),b("activebgcolor"),b("bordercolor"),b("borderwidth"),b("ticklen"),b("tickwidth"),b("tickcolor"),b("minorticklen")}}function d(h,u){function _(M,L){return o.coerce(h,u,c,M,L)}if("skip"===h.method||Array.isArray(h.args)?_("visible"):u.visible=!1){_("method"),_("args");var b=_("label","step-"+u._index);_("value",b),_("execute")}}de.exports=function(h,u){g(h,u,{name:l,handleItemDefaults:C})}},{"../../lib":232,"../../plots/array_container_defaults":274,"./attributes":195,"./constants":196}],198:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("../../plots/plots"),p=m("../color"),l=m("../drawing"),c=m("../../lib"),C=c.strTranslate,d=m("../../lib/svg_text_utils"),h=m("../../plot_api/plot_template").arrayEditor,u=m("./constants"),_=m("../../constants/alignment"),b=_.LINE_SPACING,M=_.FROM_TL,L=_.FROM_BR;function N(X){return u.autoMarginIdRoot+X._index}function z(X){return X._index}function k(X,ee){var ce=l.tester.selectAll("g."+u.labelGroupClass).data(ee._visibleSteps);ce.enter().append("g").classed(u.labelGroupClass,!0);var me=0,ae=0;ce.each(function(J){var R=P(o.select(this),{step:J},ee).node();if(R){var ie=l.bBox(R);ae=Math.max(ae,ie.height),me=Math.max(me,ie.width)}}),ce.remove();var K=ee._dims={};K.inputAreaWidth=Math.max(u.railWidth,u.gripHeight);var le=X._fullLayout._size;if(K.lx=le.l+le.w*ee.x,K.ly=le.t+le.h*(1-ee.y),K.outerLength="fraction"===ee.lenmode?Math.round(le.w*ee.len):ee.len,K.inputAreaStart=0,K.inputAreaLength=Math.round(K.outerLength-ee.pad.l-ee.pad.r),K.labelStride=Math.max(1,Math.ceil((me+u.labelPadding)/((K.inputAreaLength-2*u.stepInset)/(ee._stepCount-1)))),K.labelHeight=ae,K.currentValueMaxWidth=0,K.currentValueHeight=0,K.currentValueTotalHeight=0,K.currentValueMaxLines=1,ee.currentvalue.visible){var oe=l.tester.append("g");ce.each(function(J){var R=D(oe,ee,J.label),ie=R.node()&&l.bBox(R.node())||{width:0,height:0},fe=d.lineCount(R);K.currentValueMaxWidth=Math.max(K.currentValueMaxWidth,Math.ceil(ie.width)),K.currentValueHeight=Math.max(K.currentValueHeight,Math.ceil(ie.height)),K.currentValueMaxLines=Math.max(K.currentValueMaxLines,fe)}),K.currentValueTotalHeight=K.currentValueHeight+ee.currentvalue.offset,oe.remove()}K.height=K.currentValueTotalHeight+u.tickOffset+ee.ticklen+u.labelOffset+K.labelHeight+ee.pad.t+ee.pad.b;var re="left";c.isRightAnchor(ee)&&(K.lx-=K.outerLength,re="right"),c.isCenterAnchor(ee)&&(K.lx-=K.outerLength/2,re="center");var F="top";c.isBottomAnchor(ee)&&(K.ly-=K.height,F="bottom"),c.isMiddleAnchor(ee)&&(K.ly-=K.height/2,F="middle"),K.outerLength=Math.ceil(K.outerLength),K.height=Math.ceil(K.height),K.lx=Math.round(K.lx),K.ly=Math.round(K.ly);var O={y:ee.y,b:K.height*L[F],t:K.height*M[F]};"fraction"===ee.lenmode?(O.l=0,O.xl=ee.x-ee.len*M[re],O.r=0,O.xr=ee.x+ee.len*L[re]):(O.x=ee.x,O.l=K.outerLength*M[re],O.r=K.outerLength*L[re]),g.autoMargin(X,N(ee),O)}function D(X,ee,ce){if(ee.currentvalue.visible){var me,ae,K=ee._dims;switch(ee.currentvalue.xanchor){case"right":me=K.inputAreaLength-u.currentValueInset-K.currentValueMaxWidth,ae="left";break;case"center":me=.5*K.inputAreaLength,ae="middle";break;default:me=u.currentValueInset,ae="left"}var le=c.ensureSingle(X,"text",u.labelClass,function(O){O.attr({"text-anchor":ae,"data-notex":1})}),G=ee.currentvalue.prefix?ee.currentvalue.prefix:"";if("string"==typeof ce)G+=ce;else{var j=ee.steps[ee.active].label,oe=ee._gd._fullLayout._meta;oe&&(j=c.templateString(j,oe)),G+=j}ee.currentvalue.suffix&&(G+=ee.currentvalue.suffix),le.call(l.font,ee.currentvalue.font).text(G).call(d.convertToTspans,ee._gd);var re=d.lineCount(le);return d.positionText(le,me,(K.currentValueMaxLines+1-re)*ee.currentvalue.font.size*b),le}}function S(X,ee,ce){c.ensureSingle(X,"rect",u.gripRectClass,function(me){me.call(w,ee,X,ce).style("pointer-events","all")}).attr({width:u.gripWidth,height:u.gripHeight,rx:u.gripRadius,ry:u.gripRadius}).call(p.stroke,ce.bordercolor).call(p.fill,ce.bgcolor).style("stroke-width",ce.borderwidth+"px")}function P(X,ee,ce){var me=c.ensureSingle(X,"text",u.labelClass,function(le){le.attr({"text-anchor":"middle","data-notex":1})}),ae=ee.step.label,K=ce._gd._fullLayout._meta;return K&&(ae=c.templateString(ae,K)),me.call(l.font,ce.font).text(ae).call(d.convertToTspans,ce._gd),me}function H(X,ee){var ce=c.ensureSingle(X,"g",u.labelsClass),me=ee._dims,ae=ce.selectAll("g."+u.labelGroupClass).data(me.labelSteps);ae.enter().append("g").classed(u.labelGroupClass,!0),ae.exit().remove(),ae.each(function(K){var le=o.select(this);le.call(P,K,ee),l.setTranslate(le,T(ee,K.fraction),u.tickOffset+ee.ticklen+ee.font.size*b+u.labelOffset+me.currentValueTotalHeight)})}function E(X,ee,ce,me,ae){var K=Math.round(me*(ce._stepCount-1)),le=ce._visibleSteps[K]._index;le!==ce.active&&I(X,ee,ce,le,!0,ae)}function I(X,ee,ce,me,ae,K){var le=ce.active;ce.active=me,h(X.layout,u.name,ce).applyUpdate("active",me);var G=ce.steps[ce.active];ee.call($,ce,K),ee.call(D,ce),X.emit("plotly_sliderchange",{slider:ce,step:ce.steps[ce.active],interaction:ae,previousActive:le}),G&&G.method&&ae&&(ee._nextMethod?(ee._nextMethod.step=G,ee._nextMethod.doCallback=ae,ee._nextMethod.doTransition=K):(ee._nextMethod={step:G,doCallback:ae,doTransition:K},ee._nextMethodRaf=window.requestAnimationFrame(function(){var j=ee._nextMethod.step;j.method&&(j.execute&&g.executeAPICommand(X,j.method,j.args),ee._nextMethod=null,ee._nextMethodRaf=null)})))}function w(X,ee,ce){var me=ce.node(),ae=o.select(ee);function K(){return ce.data()[0]}function le(){var G=K();ee.emit("plotly_sliderstart",{slider:G});var j=ce.select("."+u.gripRectClass);o.event.stopPropagation(),o.event.preventDefault(),j.call(p.fill,G.activebgcolor);var oe=Y(G,o.mouse(me)[0]);function re(){var O=K(),J=Y(O,o.mouse(me)[0]);E(ee,ce,O,J,!1)}function F(){var O=K();O._dragging=!1,j.call(p.fill,O.bgcolor),ae.on("mouseup",null),ae.on("mousemove",null),ae.on("touchend",null),ae.on("touchmove",null),ee.emit("plotly_sliderend",{slider:O,step:O.steps[O.active]})}E(ee,ce,G,oe,!0),G._dragging=!0,ae.on("mousemove",re),ae.on("touchmove",re),ae.on("mouseup",F),ae.on("touchend",F)}X.on("mousedown",le),X.on("touchstart",le)}function B(X,ee){var ce=X.selectAll("rect."+u.tickRectClass).data(ee._visibleSteps),me=ee._dims;ce.enter().append("rect").classed(u.tickRectClass,!0),ce.exit().remove(),ce.attr({width:ee.tickwidth+"px","shape-rendering":"crispEdges"}),ce.each(function(ae,K){var le=K%me.labelStride==0,G=o.select(this);G.attr({height:le?ee.ticklen:ee.minorticklen}).call(p.fill,ee.tickcolor),l.setTranslate(G,T(ee,K/(ee._stepCount-1))-.5*ee.tickwidth,(le?u.tickOffset:u.minorTickOffset)+me.currentValueTotalHeight)})}function $(X,ee,ce){for(var me=X.select("rect."+u.gripRectClass),ae=0,K=0;K<ee._stepCount;K++)if(ee._visibleSteps[K]._index===ee.active){ae=K;break}var le=T(ee,ae/(ee._stepCount-1));if(!ee._invokingCommand){var G=me;ce&&ee.transition.duration>0&&(G=G.transition().duration(ee.transition.duration).ease(ee.transition.easing)),G.attr("transform",C(le-.5*u.gripWidth,ee._dims.currentValueTotalHeight))}}function T(X,ee){var ce=X._dims;return ce.inputAreaStart+u.stepInset+(ce.inputAreaLength-2*u.stepInset)*Math.min(1,Math.max(0,ee))}function Y(X,ee){var ce=X._dims;return Math.min(1,Math.max(0,(ee-u.stepInset-ce.inputAreaStart)/(ce.inputAreaLength-2*u.stepInset-2*ce.inputAreaStart)))}function W(X,ee,ce){var me=ce._dims,ae=c.ensureSingle(X,"rect",u.railTouchRectClass,function(K){K.call(w,ee,X,ce).style("pointer-events","all")});ae.attr({width:me.inputAreaLength,height:Math.max(me.inputAreaWidth,u.tickOffset+ce.ticklen+me.labelHeight)}).call(p.fill,ce.bgcolor).attr("opacity",0),l.setTranslate(ae,0,me.currentValueTotalHeight)}function q(X,ee){var ce=ee._dims,me=ce.inputAreaLength-2*u.railInset,ae=c.ensureSingle(X,"rect",u.railRectClass);ae.attr({width:me,height:u.railWidth,rx:u.railRadius,ry:u.railRadius,"shape-rendering":"crispEdges"}).call(p.stroke,ee.bordercolor).call(p.fill,ee.bgcolor).style("stroke-width",ee.borderwidth+"px"),l.setTranslate(ae,u.railInset,.5*(ce.inputAreaWidth-u.railWidth)+ce.currentValueTotalHeight)}de.exports=function(X){var ee=X._fullLayout,ce=function(j,oe){for(var re=j[u.name],F=[],O=0;O<re.length;O++){var J=re[O];J.visible&&(J._gd=oe,F.push(J))}return F}(ee,X),me=ee._infolayer.selectAll("g."+u.containerClassName).data(ce.length>0?[0]:[]);function ae(j){j._commandObserver&&(j._commandObserver.remove(),delete j._commandObserver),g.autoMargin(X,N(j))}if(me.enter().append("g").classed(u.containerClassName,!0).style("cursor","ew-resize"),me.exit().each(function(){o.select(this).selectAll("g."+u.groupClassName).each(ae)}).remove(),0!==ce.length){var K=me.selectAll("g."+u.groupClassName).data(ce,z);K.enter().append("g").classed(u.groupClassName,!0),K.exit().each(ae).remove();for(var le=0;le<ce.length;le++)k(X,ce[le]);K.each(function(j){var oe=o.select(this);(function(re){var F=re._dims;F.labelSteps=[];for(var O=re._stepCount,J=0;J<O;J+=F.labelStride)F.labelSteps.push({fraction:J/(O-1),step:re._visibleSteps[J]})})(j),g.manageCommandObserver(X,j,j._visibleSteps,function(re){var F=oe.data()[0];F.active!==re.index&&(F._dragging||I(X,oe,F,re.index,!1,!0))}),function(re,F,O){(O.steps[O.active]||{}).visible||(O.active=O._visibleSteps[0]._index),F.call(D,O).call(q,O).call(H,O).call(B,O).call(W,re,O).call(S,re,O);var J=O._dims;l.setTranslate(F,J.lx+O.pad.l,J.ly+O.pad.t),F.call($,O,!1),F.call(D,O)}(X,o.select(this),j)})}}},{"../../constants/alignment":207,"../../lib":232,"../../lib/svg_text_utils":255,"../../plot_api/plot_template":268,"../../plots/plots":316,"../color":102,"../drawing":124,"./constants":196,"@plotly/d3":11}],199:[function(m,de,te){"use strict";var o=m("./constants");de.exports={moduleType:"component",name:o.name,layoutAttributes:m("./attributes"),supplyLayoutDefaults:m("./defaults"),draw:m("./draw")}},{"./attributes":195,"./constants":196,"./defaults":197,"./draw":198}],200:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("fast-isnumeric"),p=m("../../plots/plots"),l=m("../../registry"),c=m("../../lib"),C=c.strTranslate,d=m("../drawing"),h=m("../color"),u=m("../../lib/svg_text_utils"),_=m("../../constants/interactions"),b=m("../../constants/alignment").OPPOSITE_SIDE,M=/ [XY][0-9]* /;de.exports={draw:function(L,N,z){var k,S=z.propName,P=z.placeholder,H=z.traceIndex,E=z.avoid||{},I=z.attributes,w=z.transform,B=z.containerGroup,$=L._fullLayout,T=1,Y=!1,W=z.propContainer.title,q=(W&&W.text?W.text:"").trim(),X=W&&W.font?W.font:{},ee=X.family,ce=X.size,me=X.color;"title.text"===S?k="titleText":-1!==S.indexOf("axis")?k="axisTitleText":S.indexOf(!0)&&(k="colorbarTitleText");var ae=L._context.edits[k];""===q?T=0:q.replace(M," % ")===P.replace(M," % ")&&(T=.2,Y=!0,ae||(q="")),z._meta?q=c.templateString(q,z._meta):$._meta&&(q=c.templateString(q,$._meta));var K,le=q||ae;B||(B=c.ensureSingle($._infolayer,"g","g-"+N),K=$._hColorbarMoveTitle);var G=B.selectAll("text").data(le?[0]:[]);if(G.enter().append("text"),G.text(q).attr("class",N),G.exit().remove(),!le)return B;function j(F){c.syncOrAsync([oe,re],F)}function oe(F){var O;return!w&&K&&(w={}),w?(O="",w.rotate&&(O+="rotate("+[w.rotate,I.x,I.y]+")"),(w.offset||K)&&(O+=C(0,(w.offset||0)-(K||0)))):O=null,F.attr("transform",O),F.style({"font-family":ee,"font-size":o.round(ce,2)+"px",fill:h.rgb(me),opacity:T*h.opacity(me),"font-weight":p.fontWeight}).attr(I).call(u.convertToTspans,L),p.previousPromises(L)}function re(F){var O=o.select(F.node().parentNode);if(E&&E.selection&&E.side&&q){O.attr("transform",null);var J=b[E.side],R="left"===E.side||"top"===E.side?-1:1,ie=g(E.pad)?E.pad:2,fe=d.bBox(O.node()),he=E.maxShift||R*({left:0,top:0,right:$.width,bottom:$.height}[E.side]-fe[E.side]),Me=0;if(he<0)Me=he;else{var be=E.offsetLeft||0,Ae=E.offsetTop||0;fe.left-=be,fe.right-=be,fe.top-=Ae,fe.bottom-=Ae,E.selection.each(function(){var Pe=d.bBox(this);c.bBoxIntersect(fe,Pe,ie)&&(Me=Math.max(Me,R*(Pe[E.side]-fe[J])+ie))}),Me=Math.min(he,Me)}if(Me>0||he<0){var ze={left:[-Me,0],right:[Me,0],top:[0,-Me],bottom:[0,Me]}[E.side];O.attr("transform",C(ze[0],ze[1]))}}}return G.call(j),ae&&(q?G.on(".opacity",null):(T=0,Y=!0,G.text(P).on("mouseover.opacity",function(){o.select(this).transition().duration(_.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){o.select(this).transition().duration(_.HIDE_PLACEHOLDER).style("opacity",0)})),G.call(u.makeEditable,{gd:L}).on("edit",function(F){void 0!==H?l.call("_guiRestyle",L,S,F,H):l.call("_guiRelayout",L,S,F)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(j)}).on("input",function(F){this.text(F||" ").call(u.positionText,I.x,I.y)})),G.classed("js-placeholder",Y),B}}},{"../../constants/alignment":207,"../../constants/interactions":211,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../../registry":318,"../color":102,"../drawing":124,"@plotly/d3":11,"fast-isnumeric":17}],201:[function(m,de,te){"use strict";var o=m("../../plots/font_attributes"),g=m("../color/attributes"),p=m("../../lib/extend").extendFlat,l=m("../../plot_api/edit_types").overrideAll,c=m("../../plots/pad_attributes"),C=m("../../plot_api/plot_template").templatedArray,d=C("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});de.exports=l(C("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:d,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:p(c({editType:"arraydraw"}),{}),font:o({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:g.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},{"../../lib/extend":226,"../../plot_api/edit_types":261,"../../plot_api/plot_template":268,"../../plots/font_attributes":310,"../../plots/pad_attributes":315,"../color/attributes":101}],202:[function(m,de,te){"use strict";de.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25c4",right:"\u25ba",up:"\u25b2",down:"\u25bc"}}},{}],203:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("../../plots/array_container_defaults"),p=m("./attributes"),l=m("./constants").name,c=p.buttons;function C(h,u,_){function b(M,L){return o.coerce(h,u,p,M,L)}b("visible",g(h,u,{name:"buttons",handleItemDefaults:d}).length>0)&&(b("active"),b("direction"),b("type"),b("showactive"),b("x"),b("y"),o.noneOrAll(h,u,["x","y"]),b("xanchor"),b("yanchor"),b("pad.t"),b("pad.r"),b("pad.b"),b("pad.l"),o.coerceFont(b,"font",_.font),b("bgcolor",_.paper_bgcolor),b("bordercolor"),b("borderwidth"))}function d(h,u){function _(b,M){return o.coerce(h,u,c,b,M)}_("visible","skip"===h.method||Array.isArray(h.args))&&(_("method"),_("args"),_("args2"),_("label"),_("execute"))}de.exports=function(h,u){g(h,u,{name:l,handleItemDefaults:C})}},{"../../lib":232,"../../plots/array_container_defaults":274,"./attributes":201,"./constants":202}],204:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("../../plots/plots"),p=m("../color"),l=m("../drawing"),c=m("../../lib"),C=m("../../lib/svg_text_utils"),d=m("../../plot_api/plot_template").arrayEditor,h=m("../../constants/alignment").LINE_SPACING,u=m("./constants"),_=m("./scrollbox");function b(T){return T._index}function M(T,Y){return+T.attr(u.menuIndexAttrName)===Y._index}function L(T,Y,W,q,X,ee,ce,me){Y.active=ce,d(T.layout,u.name,Y).applyUpdate("active",ce),"buttons"===Y.type?z(T,q,null,null,Y):"dropdown"===Y.type&&(X.attr(u.menuIndexAttrName,"-1"),N(T,q,X,ee,Y),me||z(T,q,X,ee,Y))}function N(T,Y,W,q,X){var ee=c.ensureSingle(Y,"g",u.headerClassName,function(G){G.style("pointer-events","all")}),ce=X._dims,K={y:X.pad.t,yPad:0,x:X.pad.l,xPad:0,index:0},le={width:ce.headerWidth,height:ce.headerHeight};ee.call(k,X,X.buttons[X.active]||u.blankHeaderOpts,T).call(B,X,K,le),c.ensureSingle(Y,"text",u.headerArrowClassName,function(G){G.attr("text-anchor","end").call(l.font,X.font).text(u.arrowSymbol[X.direction])}).attr({x:ce.headerWidth-u.arrowOffsetX+X.pad.l,y:ce.headerHeight/2+u.textOffsetY+X.pad.t}),ee.on("click",function(){W.call($,String(M(W,X)?-1:X._index)),z(T,Y,W,q,X)}),ee.on("mouseover",function(){ee.call(H)}),ee.on("mouseout",function(){ee.call(E,X)}),l.setTranslate(Y,ce.lx,ce.ly)}function z(T,Y,W,q,X){W||(W=Y).attr("pointer-events","all");var ee=-1==+W.attr(u.menuIndexAttrName)&&"buttons"!==X.type?[]:X.buttons,ce="dropdown"===X.type?u.dropdownButtonClassName:u.buttonClassName,me=W.selectAll("g."+ce).data(c.filterVisible(ee)),ae=me.enter().append("g").classed(ce,!0),K=me.exit();"dropdown"===X.type?(ae.attr("opacity","0").transition().attr("opacity","1"),K.transition().attr("opacity","0").remove()):K.remove();var le=0,G=0,j=X._dims,oe=-1!==["up","down"].indexOf(X.direction);"dropdown"===X.type&&(oe?G=j.headerHeight+u.gapButtonHeader:le=j.headerWidth+u.gapButtonHeader),"dropdown"===X.type&&"up"===X.direction&&(G=-u.gapButtonHeader+u.gapButton-j.openHeight),"dropdown"===X.type&&"left"===X.direction&&(le=-u.gapButtonHeader+u.gapButton-j.openWidth);var O,J,R,re={x:j.lx+le+X.pad.l,y:j.ly+G+X.pad.t,yPad:u.gapButton,xPad:u.gapButton,index:0},F={l:re.x+X.borderwidth,t:re.y+X.borderwidth};me.each(function(O,J){var R=o.select(this);R.call(k,X,O,T).call(B,X,re),R.on("click",function(){o.event.defaultPrevented||(O.execute&&(O.args2&&X.active===J?(L(T,X,0,Y,W,q,-1),g.executeAPICommand(T,O.method,O.args2)):(L(T,X,0,Y,W,q,J),g.executeAPICommand(T,O.method,O.args))),T.emit("plotly_buttonclicked",{menu:X,button:O,active:X.active}))}),R.on("mouseover",function(){R.call(H)}),R.on("mouseout",function(){R.call(E,X),me.call(P,X)})}),me.call(P,X),oe?(F.w=Math.max(j.openWidth,j.headerWidth),F.h=re.y-F.t):(F.w=re.x-F.l,F.h=Math.max(j.openHeight,j.headerHeight)),F.direction=X.direction,q&&(me.size()?function(O,J,R,ie,fe,ue){var he,Me,be,Ae=fe.direction,Pe=fe._dims,Fe=fe.active;if("up"===Ae||"down"===Ae)for(Me=0,be=0;be<Fe;be++)Me+=Pe.heights[be]+u.gapButton;else for(he=0,be=0;be<Fe;be++)he+=Pe.widths[be]+u.gapButton;ie.enable(ue,he,Me),ie.hbar&&ie.hbar.attr("opacity","0").transition().attr("opacity","1"),ie.vbar&&ie.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,q,X,F):(R=!!(O=q).vbar,(J=!!O.hbar)&&O.hbar.transition().attr("opacity","0").each("end",function(){J=!1,R||O.disable()}),R&&O.vbar.transition().attr("opacity","0").each("end",function(){R=!1,J||O.disable()})))}function k(T,Y,W,q){T.call(D,Y).call(S,Y,W,q)}function D(T,Y){c.ensureSingle(T,"rect",u.itemRectClassName,function(W){W.attr({rx:u.rx,ry:u.ry,"shape-rendering":"crispEdges"})}).call(p.stroke,Y.bordercolor).call(p.fill,Y.bgcolor).style("stroke-width",Y.borderwidth+"px")}function S(T,Y,W,q){var X=c.ensureSingle(T,"text",u.itemTextClassName,function(me){me.attr({"text-anchor":"start","data-notex":1})}),ee=W.label,ce=q._fullLayout._meta;ce&&(ee=c.templateString(ee,ce)),X.call(l.font,Y.font).text(ee).call(C.convertToTspans,q)}function P(T,Y){var W=Y.active;T.each(function(q,X){var ee=o.select(this);X===W&&Y.showactive&&ee.select("rect."+u.itemRectClassName).call(p.fill,u.activeColor)})}function H(T){T.select("rect."+u.itemRectClassName).call(p.fill,u.hoverColor)}function E(T,Y){T.select("rect."+u.itemRectClassName).call(p.fill,Y.bgcolor)}function I(T,Y){var W=Y._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},q=l.tester.selectAll("g."+u.dropdownButtonClassName).data(c.filterVisible(Y.buttons));q.enter().append("g").classed(u.dropdownButtonClassName,!0);var X=-1!==["up","down"].indexOf(Y.direction);q.each(function(le,G){var j=o.select(this);j.call(k,Y,le,T);var oe=j.select("."+u.itemTextClassName),re=oe.node()&&l.bBox(oe.node()).width,F=Math.max(re+u.textPadX,u.minWidth),O=Y.font.size*h,J=C.lineCount(oe),R=Math.max(O*J,u.minHeight)+u.textOffsetY;R=Math.ceil(R),F=Math.ceil(F),W.widths[G]=F,W.heights[G]=R,W.height1=Math.max(W.height1,R),W.width1=Math.max(W.width1,F),X?(W.totalWidth=Math.max(W.totalWidth,F),W.openWidth=W.totalWidth,W.totalHeight+=R+u.gapButton,W.openHeight+=R+u.gapButton):(W.totalWidth+=F+u.gapButton,W.openWidth+=F+u.gapButton,W.totalHeight=Math.max(W.totalHeight,R),W.openHeight=W.totalHeight)}),X?W.totalHeight-=u.gapButton:W.totalWidth-=u.gapButton,W.headerWidth=W.width1+u.arrowPadX,W.headerHeight=W.height1,"dropdown"===Y.type&&(X?(W.width1+=u.arrowPadX,W.totalHeight=W.height1):W.totalWidth=W.width1,W.totalWidth+=u.arrowPadX),q.remove();var ee=W.totalWidth+Y.pad.l+Y.pad.r,ce=W.totalHeight+Y.pad.t+Y.pad.b,me=T._fullLayout._size;W.lx=me.l+me.w*Y.x,W.ly=me.t+me.h*(1-Y.y);var ae="left";c.isRightAnchor(Y)&&(W.lx-=ee,ae="right"),c.isCenterAnchor(Y)&&(W.lx-=ee/2,ae="center");var K="top";c.isBottomAnchor(Y)&&(W.ly-=ce,K="bottom"),c.isMiddleAnchor(Y)&&(W.ly-=ce/2,K="middle"),W.totalWidth=Math.ceil(W.totalWidth),W.totalHeight=Math.ceil(W.totalHeight),W.lx=Math.round(W.lx),W.ly=Math.round(W.ly),g.autoMargin(T,w(Y),{x:Y.x,y:Y.y,l:ee*({right:1,center:.5}[ae]||0),r:ee*({left:1,center:.5}[ae]||0),b:ce*({top:1,middle:.5}[K]||0),t:ce*({bottom:1,middle:.5}[K]||0)})}function w(T){return u.autoMarginIdRoot+T._index}function B(T,Y,W,q){q=q||{};var X=T.select("."+u.itemRectClassName),ee=T.select("."+u.itemTextClassName),ce=Y.borderwidth,me=W.index,ae=Y._dims;l.setTranslate(T,ce+W.x,ce+W.y);var K=-1!==["up","down"].indexOf(Y.direction),le=q.height||(K?ae.heights[me]:ae.height1);X.attr({x:0,y:0,width:q.width||(K?ae.width1:ae.widths[me]),height:le});var G=Y.font.size*h,j=(C.lineCount(ee)-1)*G/2;C.positionText(ee,u.textOffsetX,le/2-j+u.textOffsetY),K?W.y+=ae.heights[me]+W.yPad:W.x+=ae.widths[me]+W.xPad,W.index++}function $(T,Y){T.attr(u.menuIndexAttrName,Y||"-1").selectAll("g."+u.dropdownButtonClassName).remove()}de.exports=function(T){var Y=T._fullLayout,W=c.filterVisible(Y[u.name]);function q(G){g.autoMargin(T,w(G))}var X=Y._menulayer.selectAll("g."+u.containerClassName).data(W.length>0?[0]:[]);if(X.enter().append("g").classed(u.containerClassName,!0).style("cursor","pointer"),X.exit().each(function(){o.select(this).selectAll("g."+u.headerGroupClassName).each(q)}).remove(),0!==W.length){var ee=X.selectAll("g."+u.headerGroupClassName).data(W,b);ee.enter().append("g").classed(u.headerGroupClassName,!0);for(var ce=c.ensureSingle(X,"g",u.dropdownButtonGroupClassName,function(G){G.style("pointer-events","all")}),me=0;me<W.length;me++)I(T,W[me]);var le=new _(T,ce,"updatemenus"+Y._uid);ee.enter().size()&&(ce.node().parentNode.appendChild(ce.node()),ce.call($)),ee.exit().each(function(G){ce.call($),q(G)}).remove(),ee.each(function(G){var j=o.select(this),oe="dropdown"===G.type?ce:null;g.manageCommandObserver(T,G,G.buttons,function(re){L(T,G,0,j,oe,le,re.index,!0)}),"dropdown"===G.type?(N(T,j,ce,le,G),M(ce,G)&&z(T,j,ce,le,G)):z(T,j,null,null,G)})}}},{"../../constants/alignment":207,"../../lib":232,"../../lib/svg_text_utils":255,"../../plot_api/plot_template":268,"../../plots/plots":316,"../color":102,"../drawing":124,"./constants":202,"./scrollbox":206,"@plotly/d3":11}],205:[function(m,de,te){arguments[4][199][0].apply(te,arguments)},{"./attributes":201,"./constants":202,"./defaults":203,"./draw":204,dup:199}],206:[function(m,de,te){"use strict";de.exports=c;var o=m("@plotly/d3"),g=m("../color"),p=m("../drawing"),l=m("../../lib");function c(C,d,h){this.gd=C,this.container=d,this.id=h,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}c.barWidth=2,c.barLength=20,c.barRadius=2,c.barPad=1,c.barColor="#808BA4",c.prototype.enable=function(C,d,h){var u=this.gd._fullLayout,_=u.width,b=u.height;this.position=C;var M,L,N,z,k=this.position.l,D=this.position.w,S=this.position.t,P=this.position.h,H=this.position.direction,E="down"===H,I="left"===H,w="up"===H,B=D,$=P;E||I||"right"===H||w||(this.position.direction="down",E=!0),E||w?(L=(M=k)+B,E?(N=S,$=(z=Math.min(N+$,b))-N):$=(z=S+$)-(N=Math.max(z-$,0))):(z=(N=S)+$,I?B=(L=k+B)-(M=Math.max(L-B,0)):(M=k,B=(L=Math.min(M+B,_))-M)),this._box={l:M,t:N,w:B,h:$};var T=D>B,Y=c.barLength+2*c.barPad,W=c.barWidth+2*c.barPad,q=k,X=S+P;X+W>b&&(X=b-W);var ee=this.container.selectAll("rect.scrollbar-horizontal").data(T?[0]:[]);ee.exit().on(".drag",null).remove(),ee.enter().append("rect").classed("scrollbar-horizontal",!0).call(g.fill,c.barColor),T?(this.hbar=ee.attr({rx:c.barRadius,ry:c.barRadius,x:q,y:X,width:Y,height:W}),this._hbarXMin=q+Y/2,this._hbarTranslateMax=B-Y):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var ce=P>$,me=c.barWidth+2*c.barPad,ae=c.barLength+2*c.barPad,K=k+D,le=S;K+me>_&&(K=_-me);var G=this.container.selectAll("rect.scrollbar-vertical").data(ce?[0]:[]);G.exit().on(".drag",null).remove(),G.enter().append("rect").classed("scrollbar-vertical",!0).call(g.fill,c.barColor),ce?(this.vbar=G.attr({rx:c.barRadius,ry:c.barRadius,x:K,y:le,width:me,height:ae}),this._vbarYMin=le+ae/2,this._vbarTranslateMax=$-ae):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var j=this.id,oe=M-.5,re=ce?L+me+.5:L+.5,F=N-.5,O=T?z+W+.5:z+.5,J=u._topdefs.selectAll("#"+j).data(T||ce?[0]:[]);if(J.exit().remove(),J.enter().append("clipPath").attr("id",j).append("rect"),T||ce?(this._clipRect=J.select("rect").attr({x:Math.floor(oe),y:Math.floor(F),width:Math.ceil(re)-Math.floor(oe),height:Math.ceil(O)-Math.floor(F)}),this.container.call(p.setClipUrl,j,this.gd),this.bg.attr({x:k,y:S,width:D,height:P})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(p.setClipUrl,null),delete this._clipRect),T||ce){var R=o.behavior.drag().on("dragstart",function(){o.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(R);var ie=o.behavior.drag().on("dragstart",function(){o.event.sourceEvent.preventDefault(),o.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));T&&this.hbar.on(".drag",null).call(ie),ce&&this.vbar.on(".drag",null).call(ie)}this.setTranslate(d,h)},c.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(p.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},c.prototype._onBoxDrag=function(){var C=this.translateX,d=this.translateY;this.hbar&&(C-=o.event.dx),this.vbar&&(d-=o.event.dy),this.setTranslate(C,d)},c.prototype._onBoxWheel=function(){var C=this.translateX,d=this.translateY;this.hbar&&(C+=o.event.deltaY),this.vbar&&(d+=o.event.deltaY),this.setTranslate(C,d)},c.prototype._onBarDrag=function(){var C=this.translateX,d=this.translateY;if(this.hbar){var h=C+this._hbarXMin,u=h+this._hbarTranslateMax;C=(l.constrain(o.event.x,h,u)-h)/(u-h)*(this.position.w-this._box.w)}if(this.vbar){var _=d+this._vbarYMin,b=_+this._vbarTranslateMax;d=(l.constrain(o.event.y,_,b)-_)/(b-_)*(this.position.h-this._box.h)}this.setTranslate(C,d)},c.prototype.setTranslate=function(C,d){var h=this.position.w-this._box.w,u=this.position.h-this._box.h;C=l.constrain(C||0,0,h),d=l.constrain(d||0,0,u),this.translateX=C,this.translateY=d,this.container.call(p.setTranslate,this._box.l-this.position.l-C,this._box.t-this.position.t-d),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+C-.5),y:Math.floor(this.position.t+d-.5)}),this.hbar&&this.hbar.call(p.setTranslate,C+C/h*this._hbarTranslateMax,d),this.vbar&&this.vbar.call(p.setTranslate,C,d+d/u*this._vbarTranslateMax)}},{"../../lib":232,"../color":102,"../drawing":124,"@plotly/d3":11}],207:[function(m,de,te){"use strict";de.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},{}],208:[function(m,de,te){"use strict";de.exports={axisRefDescription:function(o,g,p){return["If set to a",o,"axis id (e.g. *"+o+"* or","*"+o+"2*), the `"+o+"` position refers to a",o,"coordinate. If set to *paper*, the `"+o+"`","position refers to the distance from the",g,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",g,"("+p+"). If set to a",o,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",g,"of the domain of that axis: e.g.,","*"+o+"2 domain* refers to the domain of the second",o," axis and a",o,"position of 0.5 refers to the","point between the",g,"and the",p,"of the domain of the","second",o,"axis."].join(" ")}}},{}],209:[function(m,de,te){"use strict";de.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},{}],210:[function(m,de,te){"use strict";de.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},{}],211:[function(m,de,te){"use strict";de.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},{}],212:[function(m,de,te){"use strict";de.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},{}],213:[function(m,de,te){"use strict";te.xmlns="http://www.w3.org/2000/xmlns/",te.svg="http://www.w3.org/2000/svg",te.xlink="http://www.w3.org/1999/xlink",te.svgAttrs={xmlns:te.svg,"xmlns:xlink":te.xlink}},{}],214:[function(m,de,te){"use strict";te.version=m("./version").version,m("native-promise-only"),m("../build/plotcss");for(var o=m("./registry"),g=te.register=o.register,p=m("./plot_api"),l=Object.keys(p),c=0;c<l.length;c++){var C=l[c];"_"!==C.charAt(0)&&(te[C]=p[C]),g({moduleType:"apiMethod",name:C,fn:p[C]})}g(m("./traces/scatter")),g([m("./components/legend"),m("./components/fx"),m("./components/annotations"),m("./components/annotations3d"),m("./components/shapes"),m("./components/images"),m("./components/updatemenus"),m("./components/sliders"),m("./components/rangeslider"),m("./components/rangeselector"),m("./components/grid"),m("./components/errorbars"),m("./components/colorscale"),m("./components/colorbar"),m("./components/modebar")]),g([m("./locale-en"),m("./locale-en-us")]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(g(window.PlotlyLocales),delete window.PlotlyLocales),te.Icons=m("./fonts/ploticon");var d=m("./components/fx"),h=m("./plots/plots");te.Plots={resize:h.resize,graphJson:h.graphJson,sendDataToCloud:h.sendDataToCloud},te.Fx={hover:d.hover,unhover:d.unhover,loneHover:d.loneHover,loneUnhover:d.loneUnhover},te.Snapshot=m("./snapshot"),te.PlotSchema=m("./plot_api/plot_schema")},{"../build/plotcss":1,"./components/annotations":93,"./components/annotations3d":98,"./components/colorbar":108,"./components/colorscale":114,"./components/errorbars":130,"./components/fx":142,"./components/grid":146,"./components/images":151,"./components/legend":159,"./components/modebar":165,"./components/rangeselector":173,"./components/rangeslider":180,"./components/shapes":194,"./components/sliders":199,"./components/updatemenus":205,"./fonts/ploticon":215,"./locale-en":259,"./locale-en-us":258,"./plot_api":263,"./plot_api/plot_schema":267,"./plots/plots":316,"./registry":318,"./snapshot":323,"./traces/scatter":370,"./version":391,"native-promise-only":54}],215:[function(m,de,te){"use strict";de.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'><defs><style>.cls-1 {fill: #3f4f75;} .cls-2 {fill: #80cfbe;} .cls-3 {fill: #fff;}</style></defs><title>plotly-logomark</title><g id='symbol'><rect class='cls-1' width='132' height='132' rx='6' ry='6'/><circle class='cls-2' cx='78' cy='54' r='6'/><circle class='cls-2' cx='102' cy='30' r='6'/><circle class='cls-2' cx='78' cy='30' r='6'/><circle class='cls-2' cx='54' cy='30' r='6'/><circle class='cls-2' cx='30' cy='30' r='6'/><circle class='cls-2' cx='30' cy='54' r='6'/><path class='cls-3' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/><path class='cls-3' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/><path class='cls-3' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/><path class='cls-3' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/></g></svg>"}}},{}],216:[function(m,de,te){"use strict";te.isLeftAnchor=function(o){return"left"===o.xanchor||"auto"===o.xanchor&&o.x<=1/3},te.isCenterAnchor=function(o){return"center"===o.xanchor||"auto"===o.xanchor&&o.x>1/3&&o.x<2/3},te.isRightAnchor=function(o){return"right"===o.xanchor||"auto"===o.xanchor&&o.x>=2/3},te.isTopAnchor=function(o){return"top"===o.yanchor||"auto"===o.yanchor&&o.y>=2/3},te.isMiddleAnchor=function(o){return"middle"===o.yanchor||"auto"===o.yanchor&&o.y>1/3&&o.y<2/3},te.isBottomAnchor=function(o){return"bottom"===o.yanchor||"auto"===o.yanchor&&o.y<=1/3}},{}],217:[function(m,de,te){"use strict";var o=m("./mod"),g=o.mod,p=o.modHalf,l=Math.PI,c=2*l;function C(_){return Math.abs(_[1]-_[0])>c-1e-14}function d(_,b){return p(b-_,c)}function h(_,b){if(C(b))return!0;var M,L;b[0]<b[1]?(M=b[0],L=b[1]):(M=b[1],L=b[0]),(M=g(M,c))>(L=g(L,c))&&(L+=c);var N=g(_,c),z=N+c;return N>=M&&N<=L||z>=M&&z<=L}function u(_,b,M,L,N,z,k){N=N||0,z=z||0;var D,S,P,H,E,I=C([M,L]);function w(Y,W){return[Y*Math.cos(W)+N,z-Y*Math.sin(W)]}I?(D=0,S=l,P=c):M<L?(D=M,P=L):(D=L,P=M),_<b?(H=_,E=b):(H=b,E=_);var B,$=Math.abs(P-D)<=l?0:1;function T(Y,W,q){return"A"+[Y,Y]+" "+[0,$,q]+" "+w(Y,W)}return I?B=null===H?"M"+w(E,D)+T(E,S,0)+T(E,P,0)+"Z":"M"+w(H,D)+T(H,S,0)+T(H,P,0)+"ZM"+w(E,D)+T(E,S,1)+T(E,P,1)+"Z":null===H?(B="M"+w(E,D)+T(E,P,0),k&&(B+="L0,0Z")):B="M"+w(H,D)+"L"+w(E,D)+T(E,P,0)+"L"+w(H,P)+T(H,D,1)+"Z",B}de.exports={deg2rad:function(_){return _/180*l},rad2deg:function(_){return _/l*180},angleDelta:d,angleDist:function(_,b){return Math.abs(d(_,b))},isFullCircle:C,isAngleInsideSector:h,isPtInsideSector:function(_,b,M,L){return!!h(b,L)&&(M[0]<M[1]?(N=M[0],z=M[1]):(N=M[1],z=M[0]),_>=N&&_<=z);var N,z},pathArc:function(_,b,M,L,N){return u(null,_,b,M,L,N,0)},pathSector:function(_,b,M,L,N){return u(null,_,b,M,L,N,1)},pathAnnulus:function(_,b,M,L,N,z){return u(_,b,M,L,N,z,1)}}},{"./mod":239}],218:[function(m,de,te){"use strict";var o=Array.isArray,g=ArrayBuffer,p=DataView;function l(d){return g.isView(d)&&!(d instanceof p)}function c(d){return o(d)||l(d)}function C(d,h,u){if(c(d)){if(c(d[0])){for(var _=u,b=0;b<d.length;b++)_=h(_,d[b].length);return _}return d.length}return 0}te.isTypedArray=l,te.isArrayOrTypedArray=c,te.isArray1D=function(d){return!c(d[0])},te.ensureArray=function(d,h){return o(d)||(d=[]),d.length=h,d},te.concat=function(){var d,h,u,_,b,M,L,N,z=[],k=!0,D=0;for(u=0;u<arguments.length;u++)(M=(_=arguments[u]).length)&&(h?z.push(_):(h=_,b=M),o(_)?d=!1:(k=!1,D?d!==_.constructor&&(d=!1):d=_.constructor),D+=M);if(!D)return[];if(!z.length)return h;if(k)return h.concat.apply(h,z);if(d){for((L=new d(D)).set(h),u=0;u<z.length;u++)L.set(_=z[u],b),b+=_.length;return L}for(L=new Array(D),N=0;N<h.length;N++)L[N]=h[N];for(u=0;u<z.length;u++){for(_=z[u],N=0;N<_.length;N++)L[b+N]=_[N];b+=N}return L},te.maxRowLength=function(d){return C(d,Math.max,0)},te.minRowLength=function(d){return C(d,Math.min,1/0)}},{}],219:[function(m,de,te){"use strict";var o=m("fast-isnumeric"),g=m("../constants/numerical").BADNUM,p=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;de.exports=function(l){return"string"==typeof l&&(l=l.replace(p,"")),o(l)?Number(l):g}},{"../constants/numerical":212,"fast-isnumeric":17}],220:[function(m,de,te){"use strict";de.exports=function(o){var g=o._fullLayout;g._glcanvas&&g._glcanvas.size()&&g._glcanvas.each(function(p){p.regl&&p.regl.clear({color:!0,depth:!0})})}},{}],221:[function(m,de,te){"use strict";de.exports=function(o){o._responsiveChartHandler&&(window.removeEventListener("resize",o._responsiveChartHandler),delete o._responsiveChartHandler)}},{}],222:[function(m,de,te){"use strict";var o=m("fast-isnumeric"),g=m("tinycolor2"),p=m("../plots/attributes"),l=m("../components/colorscale/scales"),c=m("../components/color"),C=m("../constants/interactions").DESELECTDIM,d=m("./nested_property"),h=m("./regex").counter,u=m("./mod").modHalf,_=m("./array").isArrayOrTypedArray;function b(M,L){var N=te.valObjectMeta[L.valType];if(L.arrayOk&&_(M))return!0;if(N.validateFunction)return N.validateFunction(M,L);var z={},k=z;return N.coerceFunction(M,{set:function(S){k=S}},z,L),k!==z}te.valObjectMeta={data_array:{coerceFunction:function(M,L,N){_(M)?L.set(M):void 0!==N&&L.set(N)}},enumerated:{coerceFunction:function(M,L,N,z){z.coerceNumber&&(M=+M),-1===z.values.indexOf(M)?L.set(N):L.set(M)},validateFunction:function(M,L){L.coerceNumber&&(M=+M);for(var N=L.values,z=0;z<N.length;z++){var k=String(N[z]);if("/"===k.charAt(0)&&"/"===k.charAt(k.length-1)){if(new RegExp(k.substr(1,k.length-2)).test(M))return!0}else if(M===N[z])return!0}return!1}},boolean:{coerceFunction:function(M,L,N){L.set(!0===M||!1===M?M:N)}},number:{coerceFunction:function(M,L,N,z){!o(M)||void 0!==z.min&&M<z.min||void 0!==z.max&&M>z.max?L.set(N):L.set(+M)}},integer:{coerceFunction:function(M,L,N,z){M%1||!o(M)||void 0!==z.min&&M<z.min||void 0!==z.max&&M>z.max?L.set(N):L.set(+M)}},string:{coerceFunction:function(M,L,N,z){L.set("string"!=typeof M?!0!==z.strict&&"number"==typeof M?String(M):N:z.noBlank&&!M?N:M)}},color:{coerceFunction:function(M,L,N){g(M).isValid()?L.set(M):L.set(N)}},colorlist:{coerceFunction:function(M,L,N){Array.isArray(M)&&M.length&&M.every(function(z){return g(z).isValid()})?L.set(M):L.set(N)}},colorscale:{coerceFunction:function(M,L,N){L.set(l.get(M,N))}},angle:{coerceFunction:function(M,L,N){"auto"===M?L.set("auto"):o(M)?L.set(u(+M,360)):L.set(N)}},subplotid:{coerceFunction:function(M,L,N,z){var k=z.regex||h(N);"string"==typeof M&&k.test(M)?L.set(M):L.set(N)},validateFunction:function(M,L){var N=L.dflt;return M===N||"string"==typeof M&&!!h(N).test(M)}},flaglist:{coerceFunction:function(M,L,N,z){if("string"==typeof M)if(-1===(z.extras||[]).indexOf(M)){for(var k=M.split("+"),D=0;D<k.length;){var S=k[D];-1===z.flags.indexOf(S)||k.indexOf(S)<D?k.splice(D,1):D++}L.set(k.length?k.join("+"):N)}else L.set(M);else L.set(N)}},any:{coerceFunction:function(M,L,N){L.set(void 0===M?N:M)}},info_array:{coerceFunction:function(M,L,N,z){function k(X,ee,ce){var me;return void 0===ce&&(ce=ee.dflt),te.valObjectMeta[ee.valType].coerceFunction(X,{set:function(K){me=K}},ce,ee),me}var D=2===z.dimensions||"1-2"===z.dimensions&&Array.isArray(M)&&Array.isArray(M[0]);if(Array.isArray(M)){var S,P,H,I,w,B=z.items,$=[],T=Array.isArray(B),Y=T&&D&&Array.isArray(B[0]),W=D&&T&&!Y,q=T&&!W?B.length:M.length;if(N=Array.isArray(N)?N:[],D)for(S=0;S<q;S++)for($[S]=[],H=Array.isArray(M[S])?M[S]:[],I=W?B.length:T?B[S].length:H.length,P=0;P<I;P++)void 0!==(w=k(H[P],W?B[P]:T?B[S][P]:B,(N[S]||[])[P]))&&($[S][P]=w);else for(S=0;S<q;S++)void 0!==(w=k(M[S],T?B[S]:B,N[S]))&&($[S]=w);L.set($)}else L.set(N)},validateFunction:function(M,L){if(!Array.isArray(M))return!1;var N=L.items,z=Array.isArray(N),k=2===L.dimensions;if(!L.freeLength&&M.length!==N.length)return!1;for(var D=0;D<M.length;D++)if(k){if(!Array.isArray(M[D])||!L.freeLength&&M[D].length!==N[D].length)return!1;for(var S=0;S<M[D].length;S++)if(!b(M[D][S],z?N[D][S]:N))return!1}else if(!b(M[D],z?N[D]:N))return!1;return!0}}},te.coerce=function(M,L,N,z,k){var D=d(N,z).get(),S=d(M,z),P=d(L,z),H=S.get(),E=L._template;if(void 0===H&&E&&(H=d(E,z).get(),E=0),void 0===k&&(k=D.dflt),D.arrayOk&&_(H))return P.set(H),H;var I=te.valObjectMeta[D.valType].coerceFunction;I(H,P,k,D);var w=P.get();return E&&w===k&&!b(H,D)&&(I(H=d(E,z).get(),P,k,D),w=P.get()),w},te.coerce2=function(M,L,N,z,k){var D=d(M,z),S=te.coerce(M,L,N,z,k);return null!=D.get()&&S},te.coerceFont=function(M,L,N){var z={};return z.family=M(L+".family",(N=N||{}).family),z.size=M(L+".size",N.size),z.color=M(L+".color",N.color),z},te.coercePattern=function(M,L,N,z){if(M(L+".shape")){M(L+".solidity"),M(L+".size");var k="overlay"===M(L+".fillmode");if(!z){var D=M(L+".bgcolor",k?N:void 0);M(L+".fgcolor",k?c.contrast(D):N)}M(L+".fgopacity",k?.5:1)}},te.coerceHoverinfo=function(M,L,N){var z,k=L._module.attributes,D=k.hoverinfo?k:p,S=D.hoverinfo;if(1===N._dataLength){var P="all"===S.dflt?S.flags.slice():S.dflt.split("+");P.splice(P.indexOf("name"),1),z=P.join("+")}return te.coerce(M,L,D,"hoverinfo",z)},te.coerceSelectionMarkerOpacity=function(M,L){if(M.marker){var N,z,k=M.marker.opacity;void 0!==k&&(_(k)||M.selected||M.unselected||(N=k,z=C*k),L("selected.marker.opacity",N),L("unselected.marker.opacity",z))}},te.validate=b},{"../components/color":102,"../components/colorscale/scales":117,"../constants/interactions":211,"../plots/attributes":275,"./array":218,"./mod":239,"./nested_property":240,"./regex":248,"fast-isnumeric":17,tinycolor2:67}],223:[function(m,de,te){"use strict";var o,g,p=m("d3-time-format").timeFormat,l=m("fast-isnumeric"),c=m("./loggers"),C=m("./mod").mod,d=m("../constants/numerical"),h=d.BADNUM,u=d.ONEDAY,_=d.ONEHOUR,b=d.ONEMIN,M=d.ONESEC,L=d.EPOCHJD,N=m("../registry"),z=m("d3-time-format").utcFormat,k=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,D=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,S=(new Date).getFullYear()-70;function P(ee){return ee&&N.componentsRegistry.calendars&&"string"==typeof ee&&"gregorian"!==ee}function H(ee,ce){return String(ee+Math.pow(10,ce)).substr(1)}te.dateTick0=function(ee,ce){var K,le,me=(le=!!ce,P(K=ee)?le?N.getComponentMethod("calendars","CANONICAL_SUNDAY")[K]:N.getComponentMethod("calendars","CANONICAL_TICK")[K]:le?"2000-01-02":"2000-01-01");if(ce<2)return me;var ae=te.dateTime2ms(me,ee);return te.ms2DateTime(ae+=u*(ce-1),0,ee)},te.dfltRange=function(ee){return P(ee)?N.getComponentMethod("calendars","DFLTRANGE")[ee]:["2000-01-01","2001-01-01"]},te.isJSDate=function(ee){return"object"==typeof ee&&null!==ee&&"function"==typeof ee.getTime},te.dateTime2ms=function(ee,ce){if(te.isJSDate(ee)){var me=ee.getTimezoneOffset()*b,ae=(ee.getUTCMinutes()-ee.getMinutes())*b+(ee.getUTCSeconds()-ee.getSeconds())*M+(ee.getUTCMilliseconds()-ee.getMilliseconds());if(ae){var K=3*b;me=me-K/2+C(ae-me+K/2,K)}return(ee=Number(ee)-me)>=o&&ee<=g?ee:h}if("string"!=typeof ee&&"number"!=typeof ee)return h;ee=String(ee);var le=P(ce),G=ee.charAt(0);!le||"G"!==G&&"g"!==G||(ee=ee.substr(1),ce="");var j=le&&"chinese"===ce.substr(0,7),oe=ee.match(j?D:k);if(!oe)return h;var re=oe[1],F=oe[3]||"1",O=Number(oe[5]||1),J=Number(oe[7]||0),R=Number(oe[9]||0),ie=Number(oe[11]||0);if(le){if(2===re.length)return h;var fe;re=Number(re);try{var ue=N.getComponentMethod("calendars","getCal")(ce);if(j){var he="i"===F.charAt(F.length-1);F=parseInt(F,10),fe=ue.newDate(re,ue.toMonthIndex(re,F,he),O)}else fe=ue.newDate(re,Number(F),O)}catch(be){return h}return fe?(fe.toJD()-L)*u+J*_+R*b+ie*M:h}re=2===re.length?(Number(re)+2e3-S)%100+S:Number(re),F-=1;var Me=new Date(Date.UTC(2e3,F,O,J,R));return Me.setUTCFullYear(re),Me.getUTCMonth()!==F||Me.getUTCDate()!==O?h:Me.getTime()+ie*M},o=te.MIN_MS=te.dateTime2ms("-9999"),g=te.MAX_MS=te.dateTime2ms("9999-12-31 23:59:59.9999"),te.isDateTime=function(ee,ce){return te.dateTime2ms(ee,ce)!==h};var E=90*u,I=3*_,w=5*b;function B(ee,ce,me,ae,K){if((ce||me||ae||K)&&(ee+=" "+H(ce,2)+":"+H(me,2),(ae||K)&&(ee+=":"+H(ae,2),K))){for(var le=4;K%10==0;)le-=1,K/=10;ee+="."+H(K,le)}return ee}te.ms2DateTime=function(ee,ce,me){if("number"!=typeof ee||!(ee>=o&&ee<=g))return h;ce||(ce=0);var ae,K,le,G,j,oe,re=Math.floor(10*C(ee+.05,1)),F=Math.round(ee-re/10);if(P(me)){var O=Math.floor(F/u)+L,J=Math.floor(C(ee,u));try{ae=N.getComponentMethod("calendars","getCal")(me).fromJD(O).formatDate("yyyy-mm-dd")}catch(R){ae=z("G%Y-%m-%d")(new Date(F))}if("-"===ae.charAt(0))for(;ae.length<11;)ae="-0"+ae.substr(1);else for(;ae.length<10;)ae="0"+ae;K=ce<E?Math.floor(J/_):0,le=ce<E?Math.floor(J%_/b):0,G=ce<I?Math.floor(J%b/M):0,j=ce<w?J%M*10+re:0}else oe=new Date(F),ae=z("%Y-%m-%d")(oe),K=ce<E?oe.getUTCHours():0,le=ce<E?oe.getUTCMinutes():0,G=ce<I?oe.getUTCSeconds():0,j=ce<w?10*oe.getUTCMilliseconds()+re:0;return B(ae,K,le,G,j)},te.ms2DateTimeLocal=function(ee){if(!(ee>=o+u&&ee<=g-u))return h;var ce=Math.floor(10*C(ee+.05,1)),me=new Date(Math.round(ee-ce/10));return B(p("%Y-%m-%d")(me),me.getHours(),me.getMinutes(),me.getSeconds(),10*me.getUTCMilliseconds()+ce)},te.cleanDate=function(ee,ce,me){if(ee===h)return ce;if(te.isJSDate(ee)||"number"==typeof ee&&isFinite(ee)){if(P(me))return c.error("JS Dates and milliseconds are incompatible with world calendars",ee),ce;if(!(ee=te.ms2DateTimeLocal(+ee))&&void 0!==ce)return ce}else if(!te.isDateTime(ee,me))return c.error("unrecognized date",ee),ce;return ee};var $=/%\d?f/g,T=/%h/g,Y={1:"1",2:"1",3:"2",4:"2"};function W(ee,ce,me,ae){ee=ee.replace($,function(le){var G=Math.min(+le.charAt(1)||6,6);return(ce/1e3%1+2).toFixed(G).substr(2).replace(/0+$/,"")||"0"});var K=new Date(Math.floor(ce+.05));if(ee=ee.replace(T,function(){return Y[me("%q")(K)]}),P(ae))try{ee=N.getComponentMethod("calendars","worldCalFmt")(ee,ce,ae)}catch(le){return"Invalid"}return me(ee)(K)}var q=[59,59.9,59.99,59.999,59.9999];te.formatDate=function(ee,ce,me,ae,K,le){if(K=P(K)&&K,!ce)if("y"===me)ce=le.year;else if("m"===me)ce=le.month;else{if("d"!==me)return function(G,j){var oe=C(G+.05,u),re=H(Math.floor(oe/_),2)+":"+H(C(Math.floor(oe/b),60),2);if("M"!==j){l(j)||(j=0);var F=(100+Math.min(C(G/M,60),q[j])).toFixed(j).substr(1);j>0&&(F=F.replace(/0+$/,"").replace(/[\.]$/,"")),re+=":"+F}return re}(ee,me)+"\n"+W(le.dayMonthYear,ee,ae,K);ce=le.dayMonth+"\n"+le.year}return W(ce,ee,ae,K)};var X=3*u;te.incrementMonth=function(ee,ce,me){me=P(me)&&me;var ae=C(ee,u);if(ee=Math.round(ee-ae),me)try{var K=Math.round(ee/u)+L,le=N.getComponentMethod("calendars","getCal")(me),G=le.fromJD(K);return ce%12?le.add(G,ce,"m"):le.add(G,ce/12,"y"),(G.toJD()-L)*u+ae}catch(oe){c.error("invalid ms "+ee+" in calendar "+me)}var j=new Date(ee+X);return j.setUTCMonth(j.getUTCMonth()+ce)+ae-X},te.findExactDates=function(ee,ce){for(var me,ae,K=0,le=0,G=0,j=0,oe=P(ce)&&N.getComponentMethod("calendars","getCal")(ce),re=0;re<ee.length;re++)if(l(ae=ee[re])){if(!(ae%u))if(oe)try{1===(me=oe.fromJD(ae/u+L)).day()?1===me.month()?K++:le++:G++}catch(O){}else 1===(me=new Date(ae)).getUTCDate()?0===me.getUTCMonth()?K++:le++:G++}else j++;G+=le+=K;var F=ee.length-j;return{exactYears:K/F,exactMonths:le/F,exactDays:G/F}}},{"../constants/numerical":212,"../registry":318,"./loggers":236,"./mod":239,"d3-time-format":14,"fast-isnumeric":17}],224:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("./loggers"),p=m("./matrix"),l=m("gl-mat4");function c(_){var b=_&&_.parentNode;b&&b.removeChild(_)}function C(_,b,M){var L="plotly.js-style-"+_,N=document.getElementById(L);N||((N=document.createElement("style")).setAttribute("id",L),N.appendChild(document.createTextNode("")),document.head.appendChild(N));var z=N.sheet;z.insertRule?z.insertRule(b+"{"+M+"}",0):z.addRule?z.addRule(b,M,0):g.warn("addStyleRule failed")}function d(_){var b=window.getComputedStyle(_,null),M=b.getPropertyValue("-webkit-transform")||b.getPropertyValue("-moz-transform")||b.getPropertyValue("-ms-transform")||b.getPropertyValue("-o-transform")||b.getPropertyValue("transform");return"none"===M?null:M.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(L){return+L})}function h(_){for(var b=[];u(_);)b.push(_),_=_.parentNode;return b}function u(_){return _&&(_ instanceof Element||_ instanceof HTMLElement)}de.exports={getGraphDiv:function(_){var b;if("string"==typeof _){if(null===(b=document.getElementById(_)))throw new Error("No DOM element with id '"+_+"' exists on the page.");return b}if(null==_)throw new Error("DOM element provided is null or undefined");return _},isPlotDiv:function(_){var b=o.select(_);return b.node()instanceof HTMLElement&&b.size()&&b.classed("js-plotly-plot")},removeElement:c,addStyleRule:function(_,b){C("global",_,b)},addRelatedStyleRule:C,deleteRelatedStyleRule:function(_){var M=document.getElementById("plotly.js-style-"+_);M&&c(M)},getFullTransformMatrix:function(_){var b=h(_),M=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return b.forEach(function(L){var N=d(L);if(N){var z=p.convertCssMatrix(N);M=l.multiply(M,M,z)}}),M},getElementTransformMatrix:d,getElementAndAncestors:h,equalDomRects:function(_,b){return _&&b&&_.x===b.x&&_.y===b.y&&_.top===b.top&&_.left===b.left&&_.right===b.right&&_.bottom===b.bottom}}},{"./loggers":236,"./matrix":238,"@plotly/d3":11,"gl-mat4":33}],225:[function(m,de,te){"use strict";var o=m("events").EventEmitter;de.exports={init:function(p){if(p._ev instanceof o)return p;var l=new o,c=new o;return p._ev=l,p._internalEv=c,p.on=l.on.bind(l),p.once=l.once.bind(l),p.removeListener=l.removeListener.bind(l),p.removeAllListeners=l.removeAllListeners.bind(l),p._internalOn=c.on.bind(c),p._internalOnce=c.once.bind(c),p._removeInternalListener=c.removeListener.bind(c),p._removeAllInternalListeners=c.removeAllListeners.bind(c),p.emit=function(C,d){"undefined"!=typeof jQuery&&jQuery(p).trigger(C,d),l.emit(C,d),c.emit(C,d)},p},triggerHandler:function(p,l,c){var C,d;"undefined"!=typeof jQuery&&(C=jQuery(p).triggerHandler(l,c));var h=p._ev;if(!h)return C;var u,_=h._events[l];if(!_)return C;function b(M){return M.listener?(h.removeListener(l,M.listener),M.fired?void 0:(M.fired=!0,M.listener.apply(h,[c]))):M.apply(h,[c])}for(_=Array.isArray(_)?_:[_],u=0;u<_.length-1;u++)b(_[u]);return d=b(_[u]),void 0!==C?C:d},purge:function(p){return delete p._ev,delete p.on,delete p.once,delete p.removeListener,delete p.removeAllListeners,delete p.emit,delete p._ev,delete p._internalEv,delete p._internalOn,delete p._internalOnce,delete p._removeInternalListener,delete p._removeAllInternalListeners,p}}},{events:12}],226:[function(m,de,te){"use strict";var o=m("./is_plain_object.js"),g=Array.isArray;function p(l,c,C,d){var h,u,_,b,M,L,N=l[0],z=l.length;if(2===z&&g(N)&&g(l[1])&&0===N.length){if(function(D,S){var P,H;for(P=0;P<D.length;P++){if(null!==(H=D[P])&&"object"==typeof H)return!1;void 0!==H&&(S[P]=H)}return!0}(l[1],N))return N;N.splice(0,N.length)}for(var k=1;k<z;k++)for(u in h=l[k])_=N[u],b=h[u],d&&g(b)?N[u]=b:c&&b&&(o(b)||(M=g(b)))?(M?(M=!1,L=_&&g(_)?_:[]):L=_&&o(_)?_:{},N[u]=p([L,b],c,C,d)):(void 0!==b||C)&&(N[u]=b);return N}te.extendFlat=function(){return p(arguments,!1,!1,!1)},te.extendDeep=function(){return p(arguments,!0,!1,!1)},te.extendDeepAll=function(){return p(arguments,!0,!0,!1)},te.extendDeepNoArrays=function(){return p(arguments,!0,!1,!0)}},{"./is_plain_object.js":233}],227:[function(m,de,te){"use strict";de.exports=function(o){for(var g={},p=[],l=0,c=0;c<o.length;c++){var C=o[c];1!==g[C]&&(g[C]=1,p[l++]=C)}return p}},{}],228:[function(m,de,te){"use strict";function o(p){return!0===p.visible}function g(p){var l=p[0].trace;return!0===l.visible&&0!==l._length}de.exports=function(p){for(var l,c=(l=p,Array.isArray(l)&&Array.isArray(l[0])&&l[0][0]&&l[0][0].trace?g:o),C=[],d=0;d<p.length;d++){var h=p[d];c(h)&&C.push(h)}return C}},{}],229:[function(m,de,te){"use strict";var o,g,p,l=m("./mod").mod;function c(d,h,u,_,b,M,L,N){var z=u-d,k=b-d,D=L-b,S=_-h,P=M-h,H=N-M,E=z*H-D*S;if(0===E)return null;var I=(k*H-D*P)/E,w=(k*S-z*P)/E;return w<0||w>1||I<0||I>1?null:{x:d+z*I,y:h+S*I}}function C(d,h,u,_,b){var M=_*d+b*h;if(M<0)return _*_+b*b;if(M>u){var L=_-d,N=b-h;return L*L+N*N}var z=_*h-b*d;return z*z/u}te.segmentsIntersect=c,te.segmentDistance=function(d,h,u,_,b,M,L,N){if(c(d,h,u,_,b,M,L,N))return 0;var z=u-d,k=_-h,D=L-b,S=N-M,P=z*z+k*k,H=D*D+S*S,E=Math.min(C(z,k,P,b-d,M-h),C(z,k,P,L-d,N-h),C(D,S,H,d-b,h-M),C(D,S,H,u-b,_-M));return Math.sqrt(E)},te.getTextLocation=function(d,h,u,_){if(d===g&&_===p||(o={},g=d,p=_),o[u])return o[u];var b=d.getPointAtLength(l(u-_/2,h)),M=d.getPointAtLength(l(u+_/2,h)),L=Math.atan((M.y-b.y)/(M.x-b.x)),N=d.getPointAtLength(l(u,h)),z={x:(4*N.x+b.x+M.x)/6,y:(4*N.y+b.y+M.y)/6,theta:L};return o[u]=z,z},te.clearLocationCache=function(){g=null},te.getVisibleSegment=function(d,h,u){var _,b,M=h.left,L=h.right,N=h.top,z=h.bottom,k=0,D=d.getTotalLength(),S=D;function P(E){var I=d.getPointAtLength(E);0===E?_=I:E===D&&(b=I);var w=I.x<M?M-I.x:I.x>L?I.x-L:0,B=I.y<N?N-I.y:I.y>z?I.y-z:0;return Math.sqrt(w*w+B*B)}for(var H=P(k);H;){if((k+=H+u)>S)return;H=P(k)}for(H=P(S);H;){if(k>(S-=H+u))return;H=P(S)}return{min:k,max:S,len:S-k,total:D,isClosed:0===k&&S===D&&Math.abs(_.x-b.x)<.1&&Math.abs(_.y-b.y)<.1}},te.findPointOnPath=function(d,h,u,_){for(var b,M,L,N=(_=_||{}).pathLength||d.getTotalLength(),z=_.tolerance||.001,k=_.iterationLimit||30,D=d.getPointAtLength(0)[u]>d.getPointAtLength(N)[u]?-1:1,S=0,P=0,H=N;S<k;){if(L=(M=d.getPointAtLength(b=(P+H)/2))[u]-h,Math.abs(L)<z)return M;D*L>0?H=b:P=b,S++}return M}},{"./mod":239}],230:[function(m,de,te){"use strict";de.exports=function(o){return o}},{}],231:[function(m,de,te){"use strict";de.exports=function(o,g){if(!g)return o;var p=1/Math.abs(g),l=p>1?(p*o+p*g)/p:o+g,c=String(l).length;if(c>16){var C=String(g).length;if(c>=String(o).length+C){var d=parseFloat(l).toPrecision(12);-1===d.indexOf("e+")&&(l=+d)}}return l}},{}],232:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("d3-time-format").utcFormat,p=m("d3-format").format,l=m("fast-isnumeric"),c=m("../constants/numerical"),C=c.FP_SAFE,d=-C,h=c.BADNUM,u=de.exports={};u.adjustFormat=function(re){return!re||/^\d[.]\df/.test(re)||/[.]\d%/.test(re)?re:"0.f"===re?"~f":/^\d%/.test(re)?"~%":/^\ds/.test(re)?"~s":!/^[~,.0$]/.test(re)&&/[&fps]/.test(re)?"~"+re:re};var _={};u.warnBadFormat=function(re){var F=String(re);_[F]||(_[F]=1,u.warn('encountered bad format: "'+F+'"'))},u.noFormat=function(re){return String(re)},u.numberFormat=function(re){var F;try{F=p(u.adjustFormat(re))}catch(O){return u.warnBadFormat(re),u.noFormat}return F},u.nestedProperty=m("./nested_property"),u.keyedContainer=m("./keyed_container"),u.relativeAttr=m("./relative_attr"),u.isPlainObject=m("./is_plain_object"),u.toLogRange=m("./to_log_range"),u.relinkPrivateKeys=m("./relink_private");var b=m("./array");u.isTypedArray=b.isTypedArray,u.isArrayOrTypedArray=b.isArrayOrTypedArray,u.isArray1D=b.isArray1D,u.ensureArray=b.ensureArray,u.concat=b.concat,u.maxRowLength=b.maxRowLength,u.minRowLength=b.minRowLength;var M=m("./mod");u.mod=M.mod,u.modHalf=M.modHalf;var L=m("./coerce");u.valObjectMeta=L.valObjectMeta,u.coerce=L.coerce,u.coerce2=L.coerce2,u.coerceFont=L.coerceFont,u.coercePattern=L.coercePattern,u.coerceHoverinfo=L.coerceHoverinfo,u.coerceSelectionMarkerOpacity=L.coerceSelectionMarkerOpacity,u.validate=L.validate;var N=m("./dates");u.dateTime2ms=N.dateTime2ms,u.isDateTime=N.isDateTime,u.ms2DateTime=N.ms2DateTime,u.ms2DateTimeLocal=N.ms2DateTimeLocal,u.cleanDate=N.cleanDate,u.isJSDate=N.isJSDate,u.formatDate=N.formatDate,u.incrementMonth=N.incrementMonth,u.dateTick0=N.dateTick0,u.dfltRange=N.dfltRange,u.findExactDates=N.findExactDates,u.MIN_MS=N.MIN_MS,u.MAX_MS=N.MAX_MS;var z=m("./search");u.findBin=z.findBin,u.sorterAsc=z.sorterAsc,u.sorterDes=z.sorterDes,u.distinctVals=z.distinctVals,u.roundUp=z.roundUp,u.sort=z.sort,u.findIndexOfMin=z.findIndexOfMin,u.sortObjectKeys=m("./sort_object_keys");var k=m("./stats");u.aggNums=k.aggNums,u.len=k.len,u.mean=k.mean,u.median=k.median,u.midRange=k.midRange,u.variance=k.variance,u.stdev=k.stdev,u.interp=k.interp;var D=m("./matrix");u.init2dArray=D.init2dArray,u.transposeRagged=D.transposeRagged,u.dot=D.dot,u.translationMatrix=D.translationMatrix,u.rotationMatrix=D.rotationMatrix,u.rotationXYMatrix=D.rotationXYMatrix,u.apply3DTransform=D.apply3DTransform,u.apply2DTransform=D.apply2DTransform,u.apply2DTransform2=D.apply2DTransform2,u.convertCssMatrix=D.convertCssMatrix,u.inverseTransformMatrix=D.inverseTransformMatrix;var S=m("./angles");u.deg2rad=S.deg2rad,u.rad2deg=S.rad2deg,u.angleDelta=S.angleDelta,u.angleDist=S.angleDist,u.isFullCircle=S.isFullCircle,u.isAngleInsideSector=S.isAngleInsideSector,u.isPtInsideSector=S.isPtInsideSector,u.pathArc=S.pathArc,u.pathSector=S.pathSector,u.pathAnnulus=S.pathAnnulus;var P=m("./anchor_utils");u.isLeftAnchor=P.isLeftAnchor,u.isCenterAnchor=P.isCenterAnchor,u.isRightAnchor=P.isRightAnchor,u.isTopAnchor=P.isTopAnchor,u.isMiddleAnchor=P.isMiddleAnchor,u.isBottomAnchor=P.isBottomAnchor;var H=m("./geometry2d");u.segmentsIntersect=H.segmentsIntersect,u.segmentDistance=H.segmentDistance,u.getTextLocation=H.getTextLocation,u.clearLocationCache=H.clearLocationCache,u.getVisibleSegment=H.getVisibleSegment,u.findPointOnPath=H.findPointOnPath;var E=m("./extend");u.extendFlat=E.extendFlat,u.extendDeep=E.extendDeep,u.extendDeepAll=E.extendDeepAll,u.extendDeepNoArrays=E.extendDeepNoArrays;var I=m("./loggers");u.log=I.log,u.warn=I.warn,u.error=I.error;var w=m("./regex");u.counterRegex=w.counter;var B=m("./throttle");u.throttle=B.throttle,u.throttleDone=B.done,u.clearThrottle=B.clear;var $=m("./dom");function T(re){var F={};for(var O in re)for(var J=re[O],R=0;R<J.length;R++)F[J[R]]=+O;return F}u.getGraphDiv=$.getGraphDiv,u.isPlotDiv=$.isPlotDiv,u.removeElement=$.removeElement,u.addStyleRule=$.addStyleRule,u.addRelatedStyleRule=$.addRelatedStyleRule,u.deleteRelatedStyleRule=$.deleteRelatedStyleRule,u.getFullTransformMatrix=$.getFullTransformMatrix,u.getElementTransformMatrix=$.getElementTransformMatrix,u.getElementAndAncestors=$.getElementAndAncestors,u.equalDomRects=$.equalDomRects,u.clearResponsive=m("./clear_responsive"),u.preserveDrawingBuffer=m("./preserve_drawing_buffer"),u.makeTraceGroups=m("./make_trace_groups"),u._=m("./localize"),u.notifier=m("./notifier"),u.filterUnique=m("./filter_unique"),u.filterVisible=m("./filter_visible"),u.pushUnique=m("./push_unique"),u.increment=m("./increment"),u.cleanNumber=m("./clean_number"),u.ensureNumber=function(re){return l(re)?(re=Number(re))>C||re<d?h:re:h},u.isIndex=function(re,F){return!(void 0!==F&&re>=F)&&l(re)&&re>=0&&re%1==0},u.noop=m("./noop"),u.identity=m("./identity"),u.repeat=function(re,F){for(var O=new Array(F),J=0;J<F;J++)O[J]=re;return O},u.swapAttrs=function(re,F,O,J){O||(O="x"),J||(J="y");for(var R=0;R<F.length;R++){var ie=F[R],fe=u.nestedProperty(re,ie.replace("?",O)),ue=u.nestedProperty(re,ie.replace("?",J)),he=fe.get();fe.set(ue.get()),ue.set(he)}},u.raiseToTop=function(re){re.parentNode.appendChild(re)},u.cancelTransition=function(re){return re.transition().duration(0)},u.constrain=function(re,F,O){return F>O?Math.max(O,Math.min(F,re)):Math.max(F,Math.min(O,re))},u.bBoxIntersect=function(re,F,O){return re.left<=F.right+(O=O||0)&&F.left<=re.right+O&&re.top<=F.bottom+O&&F.top<=re.bottom+O},u.simpleMap=function(re,F,O,J,R){for(var ie=re.length,fe=new Array(ie),ue=0;ue<ie;ue++)fe[ue]=F(re[ue],O,J,R);return fe},u.randstr=function re(F,O,J,R){if(J||(J=16),void 0===O&&(O=24),O<=0)return"0";var ie,fe,ue=Math.log(Math.pow(2,O))/Math.log(J),he="";for(ie=2;ue===1/0;ie*=2)ue=Math.log(Math.pow(2,O/ie))/Math.log(J)*ie;var Me=ue-Math.floor(ue);for(ie=0;ie<Math.floor(ue);ie++)he=Math.floor(Math.random()*J).toString(J)+he;Me&&(fe=Math.pow(J,Me),he=Math.floor(Math.random()*fe).toString(J)+he);var be=parseInt(he,J);return F&&F[he]||be!==1/0&&be>=Math.pow(2,O)?R>10?(u.warn("randstr failed uniqueness"),he):re(F,O,J,(R||0)+1):he},u.OptionControl=function(re,F){re||(re={}),F||(F="opt");var O={optionList:[],_newoption:function(J){J[F]=re,O[J.name]=J,O.optionList.push(J)}};return O["_"+F]=re,O},u.smooth=function(re,F){if((F=Math.round(F)||0)<2)return re;var O,J,R,ie,fe=re.length,ue=2*fe,he=2*F-1,Me=new Array(he),be=new Array(fe);for(O=0;O<he;O++)Me[O]=(1-Math.cos(Math.PI*(O+1)/F))/(2*F);for(O=0;O<fe;O++){for(ie=0,J=0;J<he;J++)(R=O+J+1-F)<-fe?R-=ue*Math.round(R/ue):R>=ue&&(R-=ue*Math.floor(R/ue)),R<0?R=-1-R:R>=fe&&(R=ue-1-R),ie+=re[R]*Me[J];be[O]=ie}return be},u.syncOrAsync=function(re,F,O){var J;function R(){return u.syncOrAsync(re,F,O)}for(;re.length;)if((J=(0,re.splice(0,1)[0])(F))&&J.then)return J.then(R);return O&&O(F)},u.stripTrailingSlash=function(re){return"/"===re.substr(-1)?re.substr(0,re.length-1):re},u.noneOrAll=function(re,F,O){if(re){var J,R=!1,ie=!0;for(J=0;J<O.length;J++)null!=re[O[J]]?R=!0:ie=!1;if(R&&!ie)for(J=0;J<O.length;J++)re[O[J]]=F[O[J]]}},u.mergeArray=function(re,F,O,J){var R="function"==typeof J;if(u.isArrayOrTypedArray(re))for(var ie=Math.min(re.length,F.length),fe=0;fe<ie;fe++){var ue=re[fe];F[fe][O]=R?J(ue):ue}},u.mergeArrayCastPositive=function(re,F,O){return u.mergeArray(re,F,O,function(J){var R=+J;return isFinite(R)&&R>0?R:0})},u.fillArray=function(re,F,O,J){if(J=J||u.identity,u.isArrayOrTypedArray(re))for(var R=0;R<F.length;R++)F[R][O]=J(re[R])},u.castOption=function(re,F,O,J){J=J||u.identity;var R=u.nestedProperty(re,O).get();return u.isArrayOrTypedArray(R)?Array.isArray(F)&&u.isArrayOrTypedArray(R[F[0]])?J(R[F[0]][F[1]]):J(R[F]):R},u.extractOption=function(re,F,O,J){if(O in re)return re[O];var R=u.nestedProperty(F,J).get();return Array.isArray(R)?void 0:R},u.tagSelected=function(re,F,O){var J,R,ie=F.selectedpoints,fe=F._indexToPoints;fe&&(J=T(fe));for(var ue=0;ue<ie.length;ue++){var he=ie[ue];if(u.isIndex(he)||u.isArrayOrTypedArray(he)&&u.isIndex(he[0])&&u.isIndex(he[1])){var Me=J?J[he]:he,be=O?O[Me]:Me;void 0!==(R=be)&&R<re.length&&(re[be].selected=1)}}},u.selIndices2selPoints=function(re){var F=re.selectedpoints,O=re._indexToPoints;if(O){for(var J=T(O),R=[],ie=0;ie<F.length;ie++){var fe=F[ie];if(u.isIndex(fe)){var ue=J[fe];u.isIndex(ue)&&R.push(ue)}}return R}return F},u.getTargetArray=function(re,F){var O=F.target;if("string"==typeof O&&O){var J=u.nestedProperty(re,O).get();return!!Array.isArray(J)&&J}return!!Array.isArray(O)&&O},u.minExtend=function(re,F){var O={};"object"!=typeof F&&(F={});var J,R,ie,fe=Object.keys(re);for(J=0;J<fe.length;J++)ie=re[R=fe[J]],"_"!==R.charAt(0)&&"function"!=typeof ie&&(O[R]="module"===R?ie:Array.isArray(ie)?"colorscale"===R?ie.slice():ie.slice(0,3):u.isTypedArray(ie)?ie.subarray(0,3):ie&&"object"==typeof ie?u.minExtend(re[R],F[R]):ie);for(fe=Object.keys(F),J=0;J<fe.length;J++)"object"==typeof(ie=F[R=fe[J]])&&R in O&&"object"==typeof O[R]||(O[R]=ie);return O},u.titleCase=function(re){return re.charAt(0).toUpperCase()+re.substr(1)},u.containsAny=function(re,F){for(var O=0;O<F.length;O++)if(-1!==re.indexOf(F[O]))return!0;return!1},u.isIE=function(){return void 0!==window.navigator.msSaveBlob};var Y=/Version\/[\d\.]+.*Safari/;u.isSafari=function(){return Y.test(window.navigator.userAgent)};var W=/iPad|iPhone|iPod/;u.isIOS=function(){return W.test(window.navigator.userAgent)};var q=/Firefox\/(\d+)\.\d+/;u.getFirefoxVersion=function(){var re=q.exec(window.navigator.userAgent);if(re&&2===re.length){var F=parseInt(re[1]);if(!isNaN(F))return F}return null},u.isD3Selection=function(re){return re instanceof o.selection},u.ensureSingle=function(re,F,O,J){var R=re.select(F+(O?"."+O:""));if(R.size())return R;var ie=re.append(F);return O&&ie.classed(O,!0),J&&ie.call(J),ie},u.ensureSingleById=function(re,F,O,J){var R=re.select(F+"#"+O);if(R.size())return R;var ie=re.append(F).attr("id",O);return J&&ie.call(J),ie},u.objectFromPath=function(re,F){for(var O,J=re.split("."),R=O={},ie=0;ie<J.length;ie++){var fe=J[ie],ue=null,he=J[ie].match(/(.*)\[([0-9]+)\]/);he?(ue=he[2],(O=O[fe=he[1]]=[])[ue]=ie===J.length-1?F:{},O=O[ue]):(O[fe]=ie===J.length-1?F:{},O=O[fe])}return R};var X=/^([^\[\.]+)\.(.+)?/,ee=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;u.expandObjectPaths=function(re){var F,O,J,R,ie,fe,ue;if("object"==typeof re&&!Array.isArray(re))for(O in re)re.hasOwnProperty(O)&&((F=O.match(X))?(R=re[O],J=F[1],delete re[O],re[J]=u.extendDeepNoArrays(re[J]||{},u.objectFromPath(O,u.expandObjectPaths(R))[J])):(F=O.match(ee))?(R=re[O],J=F[1],ie=parseInt(F[2]),delete re[O],re[J]=re[J]||[],"."===F[3]?(ue=F[4],fe=re[J][ie]=re[J][ie]||{},u.extendDeepNoArrays(fe,u.objectFromPath(ue,u.expandObjectPaths(R)))):re[J][ie]=u.expandObjectPaths(R)):re[O]=u.expandObjectPaths(re[O]));return re},u.numSeparate=function(re,F,O){if(O||(O=!1),"string"!=typeof F||0===F.length)throw new Error("Separator string required for formatting!");"number"==typeof re&&(re=String(re));var J=/(\d+)(\d{3})/,R=F.charAt(0),ie=F.charAt(1),fe=re.split("."),ue=fe[0],he=fe.length>1?R+fe[1]:"";if(ie&&(fe.length>1||ue.length>4||O))for(;J.test(ue);)ue=ue.replace(J,"$1"+ie+"$2");return ue+he},u.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var ce=/^\w*$/;u.templateString=function(re,F){var O={};return re.replace(u.TEMPLATE_STRING_REGEX,function(J,R){var ie;return ce.test(R)?ie=F[R]:(O[R]=O[R]||u.nestedProperty(F,R).get,ie=O[R]()),u.isValidTextValue(ie)?ie:""})};var me={max:10,count:0,name:"hovertemplate"};u.hovertemplateString=function(){return le.apply(me,arguments)};var ae={max:10,count:0,name:"texttemplate"};u.texttemplateString=function(){return le.apply(ae,arguments)};var K=/^[:|\|]/;function le(re,F,O){var J=this,R=arguments;F||(F={});var ie={};return re.replace(u.TEMPLATE_STRING_REGEX,function(fe,ue,he){var Me,be,Ae,ze="_xother"===ue||"_yother"===ue,Pe="_xother_"===ue||"_yother_"===ue,Fe="xother_"===ue||"yother_"===ue,t1="xother"===ue||"yother"===ue||ze||Fe||Pe,Xe=ue;if((ze||Pe)&&(Xe=Xe.substring(1)),(Fe||Pe)&&(Xe=Xe.substring(0,Xe.length-1)),t1){if(void 0===(Me=F[Xe]))return""}else for(Ae=3;Ae<R.length;Ae++)if(be=R[Ae]){if(be.hasOwnProperty(Xe)){Me=be[Xe];break}if(ce.test(Xe)||(Me=u.nestedProperty(be,Xe).get(),(Me=ie[Xe]||u.nestedProperty(be,Xe).get())&&(ie[Xe]=Me)),void 0!==Me)break}if(void 0===Me&&J)return J.count<J.max&&(u.warn("Variable '"+Xe+"' in "+J.name+" could not be found!"),Me=fe),J.count===J.max&&u.warn("Too many "+J.name+" warnings - additional warnings will be suppressed"),J.count++,fe;if(he){var Ue;if(":"===he[0]&&(Me=(Ue=O?O.numberFormat:u.numberFormat)(he.replace(K,""))(Me)),"|"===he[0]){Ue=O?O.timeFormat:g;var xe=u.dateTime2ms(Me);Me=u.formatDate(xe,he.replace(K,""),!1,Ue)}}else{var ve=Xe+"Label";F.hasOwnProperty(ve)&&(Me=F[ve])}return t1&&(Me="("+Me+")",(ze||Pe)&&(Me=" "+Me),(Fe||Pe)&&(Me+=" ")),Me})}u.subplotSort=function(re,F){for(var O=Math.min(re.length,F.length)+1,J=0,R=0,ie=0;ie<O;ie++){var fe=re.charCodeAt(ie)||0,ue=F.charCodeAt(ie)||0,he=fe>=48&&fe<=57,Me=ue>=48&&ue<=57;if(he&&(J=10*J+fe-48),Me&&(R=10*R+ue-48),!he||!Me){if(J!==R)return J-R;if(fe!==ue)return fe-ue}}return R-J};var G=2e9;u.seedPseudoRandom=function(){G=2e9},u.pseudoRandom=function(){var re=G;return G=(69069*G+1)%4294967296,Math.abs(G-re)<429496729?u.pseudoRandom():G/4294967296},u.fillText=function(re,F,O){var J=Array.isArray(O)?function(fe){O.push(fe)}:function(fe){O.text=fe},R=u.extractOption(re,F,"htx","hovertext");if(u.isValidTextValue(R))return J(R);var ie=u.extractOption(re,F,"tx","text");return u.isValidTextValue(ie)?J(ie):void 0},u.isValidTextValue=function(re){return re||0===re},u.formatPercent=function(re,F){F=F||0;for(var O=(Math.round(100*re*Math.pow(10,F))*Math.pow(.1,F)).toFixed(F)+"%",J=0;J<F;J++)-1!==O.indexOf(".")&&(O=(O=O.replace("0%","%")).replace(".%","%"));return O},u.isHidden=function(re){var F=window.getComputedStyle(re).display;return!F||"none"===F},u.strTranslate=function(re,F){return re||F?"translate("+re+","+F+")":""},u.strRotate=function(re){return re?"rotate("+re+")":""},u.strScale=function(re){return 1!==re?"scale("+re+")":""},u.getTextTransform=function(re){var F=re.noCenter,O=re.textX,J=re.textY,he=re.rotate,Me=re.scale;return Me?Me>1&&(Me=1):Me=0,u.strTranslate(re.targetX-Me*(O+(re.anchorX||0)),re.targetY-Me*(J+(re.anchorY||0)))+u.strScale(Me)+(he?"rotate("+he+(F?"":" "+O+" "+J)+")":"")},u.ensureUniformFontSize=function(re,F){var O=u.extendFlat({},F);return O.size=Math.max(F.size,re._fullLayout.uniformtext.minsize||0),O},u.join2=function(re,F,O){var J=re.length;return J>1?re.slice(0,-1).join(F)+O+re[J-1]:re.join(F)},u.bigFont=function(re){return Math.round(1.2*re)};var j=u.getFirefoxVersion(),oe=null!==j&&j<86;u.getPositionFromD3Event=function(){return oe?[o.event.layerX,o.event.layerY]:[o.event.offsetX,o.event.offsetY]}},{"../constants/numerical":212,"./anchor_utils":216,"./angles":217,"./array":218,"./clean_number":219,"./clear_responsive":221,"./coerce":222,"./dates":223,"./dom":224,"./extend":226,"./filter_unique":227,"./filter_visible":228,"./geometry2d":229,"./identity":230,"./increment":231,"./is_plain_object":233,"./keyed_container":234,"./localize":235,"./loggers":236,"./make_trace_groups":237,"./matrix":238,"./mod":239,"./nested_property":240,"./noop":241,"./notifier":242,"./preserve_drawing_buffer":245,"./push_unique":246,"./regex":248,"./relative_attr":249,"./relink_private":250,"./search":251,"./sort_object_keys":253,"./stats":254,"./throttle":256,"./to_log_range":257,"@plotly/d3":11,"d3-format":13,"d3-time-format":14,"fast-isnumeric":17}],233:[function(m,de,te){"use strict";de.exports=function(o){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(o):"[object Object]"===Object.prototype.toString.call(o)&&Object.getPrototypeOf(o).hasOwnProperty("hasOwnProperty")}},{}],234:[function(m,de,te){"use strict";var o=m("./nested_property"),g=/^\w*$/;de.exports=function(p,l,c,C){var d,h,u;c=c||"name",C=C||"value";var _={};l&&l.length?(u=o(p,l),h=u.get()):h=p,l=l||"";var b={};if(h)for(d=0;d<h.length;d++)b[h[d][c]]=d;var M=g.test(C),L={set:function(N,z){var k=null===z?4:0;if(!h){if(!u||4===k)return;u.set(h=[])}var D=b[N];if(void 0===D){if(4===k)return;k|=3,b[N]=D=h.length}else z!==(M?h[D][C]:o(h[D],C).get())&&(k|=2);var S=h[D]=h[D]||{};return S[c]=N,M?S[C]=z:o(S,C).set(z),null!==z&&(k&=-5),_[D]=_[D]|k,L},get:function(N){if(h){var z=b[N];return void 0===z?void 0:M?h[z][C]:o(h[z],C).get()}},rename:function(N,z){var k=b[N];return void 0===k||(_[k]=1|_[k],b[z]=k,delete b[N],h[k][c]=z),L},remove:function(N){var z=b[N];if(void 0===z)return L;var k=h[z];if(Object.keys(k).length>2)return _[z]=2|_[z],L.set(N,null);if(M){for(d=z;d<h.length;d++)_[d]=3|_[d];for(d=z;d<h.length;d++)b[h[d][c]]--;h.splice(z,1),delete b[N]}else o(k,C).set(null),_[z]=6|_[z];return L},constructUpdate:function(){for(var N,z,k={},D=Object.keys(_),S=0;S<D.length;S++)N=l+"["+(z=D[S])+"]",h[z]?(1&_[z]&&(k[N+"."+c]=h[z][c]),2&_[z]&&(k[N+"."+C]=M?4&_[z]?null:h[z][C]:4&_[z]?null:o(h[z],C).get())):k[N]=null;return k}};return L}},{"./nested_property":240}],235:[function(m,de,te){"use strict";var o=m("../registry");de.exports=function(g,p){for(var l=g._context.locale,c=0;c<2;c++){for(var C=g._context.locales,d=0;d<2;d++){var h=(C[l]||{}).dictionary;if(h){var u=h[p];if(u)return u}C=o.localeRegistry}var _=l.split("-")[0];if(_===l)break;l=_}return p}},{"../registry":318}],236:[function(m,de,te){"use strict";var o=m("../plot_api/plot_config").dfltConfig,g=m("./notifier"),p=de.exports={};p.log=function(){var l;if(o.logging>1){var c=["LOG:"];for(l=0;l<arguments.length;l++)c.push(arguments[l]);console.trace.apply(console,c)}if(o.notifyOnLogging>1){var C=[];for(l=0;l<arguments.length;l++)C.push(arguments[l]);g(C.join("<br>"),"long")}},p.warn=function(){var l;if(o.logging>0){var c=["WARN:"];for(l=0;l<arguments.length;l++)c.push(arguments[l]);console.trace.apply(console,c)}if(o.notifyOnLogging>0){var C=[];for(l=0;l<arguments.length;l++)C.push(arguments[l]);g(C.join("<br>"),"stick")}},p.error=function(){var l;if(o.logging>0){var c=["ERROR:"];for(l=0;l<arguments.length;l++)c.push(arguments[l]);console.error.apply(console,c)}if(o.notifyOnLogging>0){var C=[];for(l=0;l<arguments.length;l++)C.push(arguments[l]);g(C.join("<br>"),"stick")}}},{"../plot_api/plot_config":266,"./notifier":242}],237:[function(m,de,te){"use strict";var o=m("@plotly/d3");de.exports=function(g,p,l){var c=g.selectAll("g."+l.replace(/\s/g,".")).data(p,function(d){return d[0].trace.uid});c.exit().remove(),c.enter().append("g").attr("class",l),c.order();var C=g.classed("rangeplot")?"nodeRangePlot3":"node3";return c.each(function(d){d[0][C]=o.select(this)}),c}},{"@plotly/d3":11}],238:[function(m,de,te){"use strict";var o=m("gl-mat4");te.init2dArray=function(g,p){for(var l=new Array(g),c=0;c<g;c++)l[c]=new Array(p);return l},te.transposeRagged=function(g){var p,l,c=0,C=g.length;for(p=0;p<C;p++)c=Math.max(c,g[p].length);var d=new Array(c);for(p=0;p<c;p++)for(d[p]=new Array(C),l=0;l<C;l++)d[p][l]=g[l][p];return d},te.dot=function(g,p){if(!g.length||!p.length||g.length!==p.length)return null;var l,c,C=g.length;if(g[0].length)for(l=new Array(C),c=0;c<C;c++)l[c]=te.dot(g[c],p);else if(p[0].length){var d=te.transposeRagged(p);for(l=new Array(d.length),c=0;c<d.length;c++)l[c]=te.dot(g,d[c])}else for(l=0,c=0;c<C;c++)l+=g[c]*p[c];return l},te.translationMatrix=function(g,p){return[[1,0,g],[0,1,p],[0,0,1]]},te.rotationMatrix=function(g){var p=g*Math.PI/180;return[[Math.cos(p),-Math.sin(p),0],[Math.sin(p),Math.cos(p),0],[0,0,1]]},te.rotationXYMatrix=function(g,p,l){return te.dot(te.dot(te.translationMatrix(p,l),te.rotationMatrix(g)),te.translationMatrix(-p,-l))},te.apply3DTransform=function(g){return function(){var p=arguments,l=1===arguments.length?p[0]:[p[0],p[1],p[2]||0];return te.dot(g,[l[0],l[1],l[2],1]).slice(0,3)}},te.apply2DTransform=function(g){return function(){var p=arguments;3===p.length&&(p=p[0]);var l=1===arguments.length?p[0]:[p[0],p[1]];return te.dot(g,[l[0],l[1],1]).slice(0,2)}},te.apply2DTransform2=function(g){var p=te.apply2DTransform(g);return function(l){return p(l.slice(0,2)).concat(p(l.slice(2,4)))}},te.convertCssMatrix=function(g){if(g){var p=g.length;if(16===p)return g;if(6===p)return[g[0],g[1],0,0,g[2],g[3],0,0,0,0,1,0,g[4],g[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},te.inverseTransformMatrix=function(g){var p=[];return o.invert(p,g),[[p[0],p[1],p[2],p[3]],[p[4],p[5],p[6],p[7]],[p[8],p[9],p[10],p[11]],[p[12],p[13],p[14],p[15]]]}},{"gl-mat4":33}],239:[function(m,de,te){"use strict";de.exports={mod:function(o,g){var p=o%g;return p<0?p+g:p},modHalf:function(o,g){return Math.abs(o)>g/2?o-Math.round(o/g)*g:o}}},{}],240:[function(m,de,te){"use strict";var o=m("fast-isnumeric"),g=m("./array").isArrayOrTypedArray;function p(_,b){return function(){var M,L,N,z,k,D=_;for(z=0;z<b.length-1;z++){if(-1===(M=b[z])){for(L=!0,N=[],k=0;k<D.length;k++)N[k]=p(D[k],b.slice(z+1))(),N[k]!==N[0]&&(L=!1);return L?N[0]:N}if("number"==typeof M&&!g(D)||"object"!=typeof(D=D[M])||null===D)return}if("object"==typeof D&&null!==D&&null!==(N=D[b[z]]))return N}}de.exports=function(_,b){if(o(b))b=String(b);else if("string"!=typeof b||"[-1]"===b.substr(b.length-4))throw"bad property string";for(var M,L,N,z=0,k=b.split(".");z<k.length;){if(M=String(k[z]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(M[1])k[z]=M[1];else{if(0!==z)throw"bad property string";k.splice(0,1)}for(L=M[2].substr(1,M[2].length-2).split("]["),N=0;N<L.length;N++)z++,k.splice(z,0,Number(L[N]))}z++}return"object"!=typeof _?{set:function(){throw"bad container"},get:function(){},astr:b,parts:k,obj:_}:{set:C(_,k,b),get:p(_,k),astr:b,parts:k,obj:_}};var l=/(^|\.)args\[/;function c(_,b){return void 0===_||null===_&&!b.match(l)}function C(_,b,M){return function(L){var N,z,k=_,D="",S=[[_,D]],P=c(L,M);for(z=0;z<b.length-1;z++){if("number"==typeof(N=b[z])&&!g(k))throw"array index but container is not an array";if(-1===N){if(P=!h(k,b.slice(z+1),L,M))break;return}if(!u(k,N,b[z+1],P))break;if("object"!=typeof(k=k[N])||null===k)throw"container is not an object";D=d(D,N),S.push([k,D])}if(P){if(z===b.length-1&&(delete k[b[z]],Array.isArray(k)&&+b[z]==k.length-1))for(;k.length&&void 0===k[k.length-1];)k.pop()}else k[b[z]]=L}}function d(_,b){var M=b;return o(b)?M="["+b+"]":_&&(M="."+b),_+M}function h(_,b,M,L){var N,z=g(M),k=!0,D=M,S=L.replace("-1",0),P=!z&&c(M,S),H=b[0];for(N=0;N<_.length;N++)S=L.replace("-1",N),z&&(P=c(D=M[N%M.length],S)),P&&(k=!1),u(_,N,H,P)&&C(_[N],b,L.replace("-1",N))(D);return k}function u(_,b,M,L){if(void 0===_[b]){if(L)return!1;_[b]="number"==typeof M?[]:{}}return!0}},{"./array":218,"fast-isnumeric":17}],241:[function(m,de,te){"use strict";de.exports=function(){}},{}],242:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("fast-isnumeric"),p=[];de.exports=function(l,c){if(-1===p.indexOf(l)){p.push(l);var C=1e3;g(c)?C=c:"long"===c&&(C=3e3);var d=o.select("body").selectAll(".plotly-notifier").data([0]);d.enter().append("div").classed("plotly-notifier",!0),d.selectAll(".notifier-note").data(p).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(u){var _=o.select(this);_.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){_.transition().call(h)});for(var b=_.append("p"),M=u.split(/<br\s*\/?>/g),L=0;L<M.length;L++)L&&b.append("br"),b.append("span").text(M[L]);"stick"===c?_.transition().duration(350).style("opacity",1):_.transition().duration(700).style("opacity",1).transition().delay(C).call(h)})}function h(u){u.duration(700).style("opacity",0).each("end",function(_){var b=p.indexOf(_);-1!==b&&p.splice(b,1),o.select(this).remove()})}}},{"@plotly/d3":11,"fast-isnumeric":17}],243:[function(m,de,te){"use strict";var o=m("./setcursor"),g="data-savedcursor";de.exports=function(p,l){var c=p.attr(g);if(l){if(!c){for(var C=(p.attr("class")||"").split(" "),d=0;d<C.length;d++){var h=C[d];0===h.indexOf("cursor-")&&p.attr(g,h.substr(7)).classed(h,!1)}p.attr(g)||p.attr(g,"!!")}o(p,l)}else c&&(p.attr(g,null),"!!"===c?o(p):o(p,c))}},{"./setcursor":252}],244:[function(m,de,te){"use strict";var o=m("./matrix").dot,g=m("../constants/numerical").BADNUM,p=de.exports={};p.tester=function(l){var c,C=l.slice(),d=C[0][0],h=d,u=C[0][1],_=u;for(C.push(C[0]),c=1;c<C.length;c++)d=Math.min(d,C[c][0]),h=Math.max(h,C[c][0]),u=Math.min(u,C[c][1]),_=Math.max(_,C[c][1]);var b,M=!1;5===C.length&&(C[0][0]===C[1][0]?C[2][0]===C[3][0]&&C[0][1]===C[3][1]&&C[1][1]===C[2][1]&&(M=!0,b=function(z){return z[0]===C[0][0]}):C[0][1]===C[1][1]&&C[2][1]===C[3][1]&&C[0][0]===C[3][0]&&C[1][0]===C[2][0]&&(M=!0,b=function(z){return z[1]===C[0][1]}));var L=!0,N=C[0];for(c=1;c<C.length;c++)if(N[0]!==C[c][0]||N[1]!==C[c][1]){L=!1;break}return{xmin:d,xmax:h,ymin:u,ymax:_,pts:C,contains:M?function(z,k){var D=z[0],S=z[1];return!(D===g||D<d||D>h||S===g||S<u||S>_||k&&b(z))}:function(z,k){var D=z[0],S=z[1];if(D===g||D<d||D>h||S===g||S<u||S>_)return!1;var P,H,E,I,w,B=C.length,$=C[0][0],T=C[0][1],Y=0;for(P=1;P<B;P++)if(H=$,E=T,$=C[P][0],T=C[P][1],!(D<(I=Math.min(H,$))||D>Math.max(H,$)||S>Math.max(E,T)))if(S<Math.min(E,T))D!==I&&Y++;else{if(S===(w=$===H?S:E+(D-H)*(T-E)/($-H)))return 1!==P||!k;S<=w&&D!==I&&Y++}return Y%2==1},isRect:M,degenerate:L}},p.isSegmentBent=function(l,c,C,d){var h,u,_,b=l[c],M=[l[C][0]-b[0],l[C][1]-b[1]],L=o(M,M),N=Math.sqrt(L),z=[-M[1]/N,M[0]/N];for(h=c+1;h<C;h++)if((_=o(u=[l[h][0]-b[0],l[h][1]-b[1]],M))<0||_>L||Math.abs(o(u,z))>d)return!0;return!1},p.filter=function(l,c){var C=[l[0]],d=0,h=0;function u(_){l.push(_);var b=C.length,M=d;C.splice(h+1);for(var L=M+1;L<l.length;L++)(L===l.length-1||p.isSegmentBent(l,M,L+1,c))&&(C.push(l[L]),C.length<b-2&&(d=L,h=C.length-1),M=L)}return l.length>1&&u(l.pop()),{addPt:u,raw:l,filtered:C}}},{"../constants/numerical":212,"./matrix":238}],245:[function(m,de,te){"use strict";var o=m("fast-isnumeric"),g=m("is-mobile");de.exports=function(p){var l,b;if("string"!=typeof(l=p&&p.hasOwnProperty("userAgent")?p.userAgent:("undefined"!=typeof navigator&&(b=navigator.userAgent),b&&b.headers&&"string"==typeof b.headers["user-agent"]&&(b=b.headers["user-agent"]),b)))return!0;var c=g({ua:{headers:{"user-agent":l}},tablet:!0,featureDetect:!1});if(!c)for(var C=l.split(" "),d=1;d<C.length;d++)if(-1!==C[d].indexOf("Safari"))for(var h=d-1;h>-1;h--){var u=C[h];if("Version/"===u.substr(0,8)){var _=u.substr(8).split(".")[0];if(o(_)&&(_=+_),_>=13)return!0}}return c}},{"fast-isnumeric":17,"is-mobile":51}],246:[function(m,de,te){"use strict";de.exports=function(o,g){if(g instanceof RegExp){for(var p=g.toString(),l=0;l<o.length;l++)if(o[l]instanceof RegExp&&o[l].toString()===p)return o;o.push(g)}else!g&&0!==g||-1!==o.indexOf(g)||o.push(g);return o}},{}],247:[function(m,de,te){"use strict";var o=m("../lib"),g=m("../plot_api/plot_config").dfltConfig,p={add:function(l,c,C,d,h){var u,_;l.undoQueue=l.undoQueue||{index:0,queue:[],sequence:!1},_=l.undoQueue.index,l.autoplay?l.undoQueue.inSequence||(l.autoplay=!1):(!l.undoQueue.sequence||l.undoQueue.beginSequence?(l.undoQueue.queue.splice(_,l.undoQueue.queue.length-_,u={undo:{calls:[],args:[]},redo:{calls:[],args:[]}}),l.undoQueue.index+=1):u=l.undoQueue.queue[_-1],l.undoQueue.beginSequence=!1,u&&(u.undo.calls.unshift(c),u.undo.args.unshift(C),u.redo.calls.push(d),u.redo.args.push(h)),l.undoQueue.queue.length>g.queueLength&&(l.undoQueue.queue.shift(),l.undoQueue.index--))},startSequence:function(l){l.undoQueue=l.undoQueue||{index:0,queue:[],sequence:!1},l.undoQueue.sequence=!0,l.undoQueue.beginSequence=!0},stopSequence:function(l){l.undoQueue=l.undoQueue||{index:0,queue:[],sequence:!1},l.undoQueue.sequence=!1,l.undoQueue.beginSequence=!1},undo:function(l){var c,C;if(!(void 0===l.undoQueue||isNaN(l.undoQueue.index)||l.undoQueue.index<=0)){for(l.undoQueue.index--,c=l.undoQueue.queue[l.undoQueue.index],l.undoQueue.inSequence=!0,C=0;C<c.undo.calls.length;C++)p.plotDo(l,c.undo.calls[C],c.undo.args[C]);l.undoQueue.inSequence=!1,l.autoplay=!1}},redo:function(l){var c,C;if(!(void 0===l.undoQueue||isNaN(l.undoQueue.index)||l.undoQueue.index>=l.undoQueue.queue.length)){for(c=l.undoQueue.queue[l.undoQueue.index],l.undoQueue.inSequence=!0,C=0;C<c.redo.calls.length;C++)p.plotDo(l,c.redo.calls[C],c.redo.args[C]);l.undoQueue.inSequence=!1,l.autoplay=!1,l.undoQueue.index++}},plotDo:function(l,c,C){l.autoplay=!0,C=function(d,h){for(var u,_=[],b=0;b<h.length;b++)_[b]=(u=h[b])===d?u:"object"==typeof u?Array.isArray(u)?o.extendDeep([],u):o.extendDeepAll({},u):u;return _}(l,C),c.apply(null,C)}};de.exports=p},{"../lib":232,"../plot_api/plot_config":266}],248:[function(m,de,te){"use strict";te.counter=function(o,g,p,l){var c=(g||"")+(p?"":"$"),C=!1===l?"":"^";return"xy"===o?new RegExp(C+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+c):new RegExp(C+o+"([2-9]|[1-9][0-9]+)?"+c)}},{}],249:[function(m,de,te){"use strict";var o=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,g=/^[^\.\[\]]+$/;de.exports=function(p,l){for(;l;){var c=p.match(o);if(c)p=c[1];else{if(!p.match(g))throw new Error("bad relativeAttr call:"+[p,l]);p=""}if("^"!==l.charAt(0))break;l=l.slice(1)}return p&&"["!==l.charAt(0)?p+"."+l:p+l}},{}],250:[function(m,de,te){"use strict";var o=m("./array").isArrayOrTypedArray,g=m("./is_plain_object");de.exports=function p(l,c){for(var C in c){var d=c[C],h=l[C];if(h!==d)if("_"===C.charAt(0)||"function"==typeof d){if(C in l)continue;l[C]=d}else if(o(d)&&o(h)&&g(d[0])){if("customdata"===C||"ids"===C)continue;for(var u=Math.min(d.length,h.length),_=0;_<u;_++)h[_]!==d[_]&&g(d[_])&&g(h[_])&&p(h[_],d[_])}else g(d)&&g(h)&&(p(h,d),Object.keys(h).length||delete l[C])}}},{"./array":218,"./is_plain_object":233}],251:[function(m,de,te){"use strict";var o=m("fast-isnumeric"),g=m("./loggers"),p=m("./identity"),l=m("../constants/numerical").BADNUM;function c(u,_){return u<_}function C(u,_){return u<=_}function d(u,_){return u>_}function h(u,_){return u>=_}te.findBin=function(u,_,b){if(o(_.start))return b?Math.ceil((u-_.start)/_.size-1e-9)-1:Math.floor((u-_.start)/_.size+1e-9);var M,L,N=0,z=_.length,k=0,D=z>1?(_[z-1]-_[0])/(z-1):1;for(L=D>=0?b?c:C:b?h:d,u+=1e-9*D*(b?-1:1)*(D>=0?1:-1);N<z&&k++<100;)L(_[M=Math.floor((N+z)/2)],u)?N=M+1:z=M;return k>90&&g.log("Long binary search..."),N-1},te.sorterAsc=function(u,_){return u-_},te.sorterDes=function(u,_){return _-u},te.distinctVals=function(u){var _,b=u.slice();for(b.sort(te.sorterAsc),_=b.length-1;_>-1&&b[_]===l;_--);for(var M,L=b[_]-b[0]||1,N=L/(_||1)/1e4,z=[],k=0;k<=_;k++){var D=b[k],S=D-M;void 0===M?(z.push(D),M=D):S>N&&(L=Math.min(L,S),z.push(D),M=D)}return{vals:z,minDiff:L}},te.roundUp=function(u,_,b){for(var M,L=0,N=_.length-1,z=0,k=b?0:1,D=b?1:0,S=b?Math.ceil:Math.floor;L<N&&z++<100;)_[M=S((L+N)/2)]<=u?L=M+k:N=M-D;return _[L]},te.sort=function(u,_){for(var b=0,M=0,L=1;L<u.length;L++){var N=_(u[L],u[L-1]);if(N<0?b=1:N>0&&(M=1),b&&M)return u.sort(_)}return M?u:u.reverse()},te.findIndexOfMin=function(u,_){_=_||p;for(var b,M=1/0,L=0;L<u.length;L++){var N=_(u[L]);N<M&&(M=N,b=L)}return b}},{"../constants/numerical":212,"./identity":230,"./loggers":236,"fast-isnumeric":17}],252:[function(m,de,te){"use strict";de.exports=function(o,g){(o.attr("class")||"").split(" ").forEach(function(p){0===p.indexOf("cursor-")&&o.classed(p,!1)}),g&&o.classed("cursor-"+g,!0)}},{}],253:[function(m,de,te){"use strict";de.exports=function(o){return Object.keys(o).sort()}},{}],254:[function(m,de,te){"use strict";var o=m("fast-isnumeric"),g=m("./array").isArrayOrTypedArray;te.aggNums=function(p,l,c,C){var d,h;if((!C||C>c.length)&&(C=c.length),o(l)||(l=!1),g(c[0])){for(h=new Array(C),d=0;d<C;d++)h[d]=te.aggNums(p,l,c[d]);c=h}for(d=0;d<C;d++)o(l)?o(c[d])&&(l=p(+l,+c[d])):l=c[d];return l},te.len=function(p){return te.aggNums(function(l){return l+1},0,p)},te.mean=function(p,l){return l||(l=te.len(p)),te.aggNums(function(c,C){return c+C},0,p)/l},te.midRange=function(p){if(void 0!==p&&0!==p.length)return(te.aggNums(Math.max,null,p)+te.aggNums(Math.min,null,p))/2},te.variance=function(p,l,c){return l||(l=te.len(p)),o(c)||(c=te.mean(p,l)),te.aggNums(function(C,d){return C+Math.pow(d-c,2)},0,p)/l},te.stdev=function(p,l,c){return Math.sqrt(te.variance(p,l,c))},te.median=function(p){var l=p.slice().sort();return te.interp(l,.5)},te.interp=function(p,l){if(!o(l))throw"n should be a finite number";if((l=l*p.length-.5)<0)return p[0];if(l>p.length-1)return p[p.length-1];var c=l%1;return c*p[Math.ceil(l)]+(1-c)*p[Math.floor(l)]}},{"./array":218,"fast-isnumeric":17}],255:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("../lib"),p=g.strTranslate,l=m("../constants/xmlns_namespaces"),c=m("../constants/alignment").LINE_SPACING,C=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;te.convertToTspans=function(q,X,ee){var ce=q.text(),me=!q.attr("data-notex")&&X&&X._context.typesetMath&&"undefined"!=typeof MathJax&&ce.match(C),ae=o.select(q.node().parentNode);if(!ae.empty()){var K=q.attr("class")?q.attr("class").split(" ")[0]:"text";return ae.selectAll("svg."+(K+="-math")).remove(),ae.selectAll("g."+K+"-group").remove(),q.style("display",null).attr({"data-unformatted":ce,"data-math":"N"}),me?(X&&X._promises||[]).push(new Promise(function(G){q.style("display","none");var j=parseInt(q.node().style.fontSize,10);!function(re,F,O){var J,R,ie,fe,ue=parseInt((MathJax.version||"").split(".")[0]);if(2===ue||3===ue){var he=function(){var be="math-output-"+g.randstr({},64),Ae=(fe=o.select("body").append("div").attr({id:be}).style({visibility:"hidden",position:"absolute","font-size":F.fontSize+"px"}).text(re.replace(d,"\\lt ").replace(h,"\\gt "))).node();return 2===ue?MathJax.Hub.Typeset(Ae):MathJax.typeset([Ae])},Me=function(){var be=fe.select(2===ue?".MathJax_SVG":".MathJax"),Ae=!be.empty()&&fe.select("svg").node();if(Ae){var ze,Pe=Ae.getBoundingClientRect();ze=2===ue?o.select("body").select("#MathJax_SVG_glyphs"):be.select("defs"),O(be,ze,Pe)}else g.log("There was an error in the tex syntax.",re),O();fe.remove()};2===ue?MathJax.Hub.Queue(function(){return R=g.extendDeepAll({},MathJax.Hub.config),ie=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:u},displayAlign:"left"})},function(){if("SVG"!==(J=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")},he,Me,function(){if("SVG"!==J)return MathJax.Hub.setRenderer(J)},function(){return void 0!==ie&&(MathJax.Hub.processSectionDelay=ie),MathJax.Hub.Config(R)}):3===ue&&(R=g.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=u,"svg"!==(J=MathJax.config.startup.output)&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){he(),Me(),"svg"!==J&&(MathJax.config.startup.output=J),MathJax.config=R}))}else g.warn("No MathJax version:",MathJax.version)}(me[2],{fontSize:j},function(re,F,O){ae.selectAll("svg."+K).remove(),ae.selectAll("g."+K+"-group").remove();var J=re&&re.select("svg");if(!J||!J.node())return le(),void G();var R=ae.append("g").classed(K+"-group",!0).attr({"pointer-events":"none","data-unformatted":ce,"data-math":"Y"});R.node().appendChild(J.node()),F&&F.node()&&J.node().insertBefore(F.node().cloneNode(!0),J.node().firstChild);var ie=O.width,fe=O.height;J.attr({class:K,height:fe,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var ue=q.node().style.fill||"black",he=J.select("g");he.attr({fill:ue,stroke:ue});var Me=he.node().getBoundingClientRect(),be=Me.width,Ae=Me.height;(be>ie||Ae>fe)&&(J.style("overflow","hidden"),be=(Me=J.node().getBoundingClientRect()).width,Ae=Me.height);var ze=+q.attr("x"),Pe=+q.attr("y"),Fe=-(j||q.node().getBoundingClientRect().height)/4;if("y"===K[0])R.attr({transform:"rotate("+[-90,ze,Pe]+")"+p(-be/2,Fe-Ae/2)});else if("l"===K[0])Pe=Fe-Ae/2;else if("a"===K[0]&&0!==K.indexOf("atitle"))ze=0,Pe=Fe;else{var t1=q.attr("text-anchor");ze-=be*("middle"===t1?.5:"end"===t1?1:0),Pe=Pe+Fe-Ae/2}J.attr({x:ze,y:Pe}),ee&&ee.call(q,R),G(R)})})):le(),q}function le(){ae.empty()||(K=q.attr("class")+"-math",ae.select("svg."+K).remove()),q.text("").style("white-space","pre"),function(G,j){j=j.replace(N," ");var oe,re=!1,F=[],O=-1;function J(){O++;var xe=document.createElementNS(l.svg,"tspan");o.select(xe).attr({class:"line",dy:O*c+"em"}),G.appendChild(xe),oe=xe;var ve=F;if(F=[{node:xe}],ve.length>1)for(var De=1;De<ve.length;De++)R(ve[De])}function R(xe){var ve,De=xe.type,Ve={};if("a"===De){ve="a";var Ye=xe.target,Oe=xe.href,Ie=xe.popup;Oe&&(Ve={"xlink:xlink:show":"_blank"===Ye||"_"!==Ye.charAt(0)?"new":"replace",target:Ye,"xlink:xlink:href":Oe},Ie&&(Ve.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Ie+'");return false;'))}else ve="tspan";xe.style&&(Ve.style=xe.style);var Qe=document.createElementNS(l.svg,ve);if("sup"===De||"sub"===De){ie(oe,"\u200b"),oe.appendChild(Qe);var n1=document.createElementNS(l.svg,"tspan");ie(n1,"\u200b"),o.select(n1).attr("dy",M[De]),Ve.dy=b[De],oe.appendChild(Qe),oe.appendChild(n1)}else oe.appendChild(Qe);o.select(Qe).attr(Ve),oe=xe.node=Qe,F.push(xe)}function ie(xe,ve){xe.appendChild(document.createTextNode(ve))}function fe(xe){if(1!==F.length){var ve=F.pop();xe!==ve.type&&g.log("Start tag <"+ve.type+"> doesnt match end tag <"+xe+">. Pretending it did match.",j),oe=F[F.length-1].node}else g.log("Ignoring unexpected end tag </"+xe+">.",j)}D.test(j)?J():(oe=G,F=[{node:G}]);for(var ue=j.split(z),he=0;he<ue.length;he++){var Me=ue[he],be=Me.match(k),Ae=be&&be[2].toLowerCase(),ze=_[Ae];if("br"===Ae)J();else if(void 0===ze)ie(oe,T(Me));else if(be[1])fe(Ae);else{var Pe=be[4],Fe={type:Ae},t1=I(Pe,S);if(t1?(t1=t1.replace(w,"$1 fill:"),ze&&(t1+=";"+ze)):ze&&(t1=ze),t1&&(Fe.style=t1),"a"===Ae){re=!0;var Xe=I(Pe,P);if(Xe){var Ue=Y(Xe);Ue&&(Fe.href=Ue,Fe.target=I(Pe,H)||"_blank",Fe.popup=I(Pe,E))}}R(Fe)}}return re}(q.node(),ce)&&q.style("pointer-events","all"),te.positionText(q),ee&&ee.call(q)}};var d=/(<|&lt;|&#60;)/g,h=/(>|&gt;|&#62;)/g,u=[["$","$"],["\\(","\\)"]],_={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},b={sub:"0.3em",sup:"-0.6em"},M={sub:"-0.21em",sup:"0.42em"},L=["http:","https:","mailto:","",void 0,":"],N=te.NEWLINES=/(\r\n?|\n)/g,z=/(<[^<>]*>)/,k=/<(\/?)([^ >]*)(\s+(.*))?>/i,D=/<br(\s+.*)?>/i;te.BR_TAG_ALL=/<br(\s+.*)?>/gi;var S=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,P=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,H=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,E=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function I(q,X){if(!q)return null;var ee=q.match(X),ce=ee&&(ee[3]||ee[4]);return ce&&T(ce)}var w=/(^|;)\s*color:/;te.plainText=function(q,X){for(var ee=void 0!==(X=X||{}).len&&-1!==X.len?X.len:1/0,ce=void 0!==X.allowedTags?X.allowedTags:["br"],ae=q.split(z),K=[],le="",G=0,j=0;j<ae.length;j++){var oe=ae[j],re=oe.match(k),F=re&&re[2].toLowerCase();if(F)-1!==ce.indexOf(F)&&(K.push(oe),le=F);else{var O=oe.length;if(G+O<ee)K.push(oe),G+=O;else if(G<ee){var J=ee-G;le&&("br"!==le||J<=3||O<=3)&&K.pop(),K.push(ee>3?oe.substr(0,J-3)+"...":oe.substr(0,J));break}le=""}}return K.join("")};var B={mu:"\u03bc",amp:"&",lt:"<",gt:">",nbsp:"\xa0",times:"\xd7",plusmn:"\xb1",deg:"\xb0"},$=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function T(q){return q.replace($,function(X,ee){return("#"===ee.charAt(0)?function(ce){if(!(ce>1114111)){var me=String.fromCodePoint;if(me)return me(ce);var ae=String.fromCharCode;return ce<=65535?ae(ce):ae(55232+(ce>>10),ce%1024+56320)}}("x"===ee.charAt(1)?parseInt(ee.substr(2),16):parseInt(ee.substr(1),10)):B[ee])||X})}function Y(q){var X=encodeURI(decodeURI(q)),ee=document.createElement("a"),ce=document.createElement("a");ee.href=q,ce.href=X;var ae=ce.protocol;return-1!==L.indexOf(ee.protocol)&&-1!==L.indexOf(ae)?X:""}function W(q,X,ee){var ce,me,ae,K=ee.horizontalAlign,le=ee.verticalAlign||"top",G=q.node().getBoundingClientRect(),j=X.node().getBoundingClientRect();return me="bottom"===le?function(){return G.bottom-ce.height}:"middle"===le?function(){return G.top+(G.height-ce.height)/2}:function(){return G.top},ae="right"===K?function(){return G.right-ce.width}:"center"===K?function(){return G.left+(G.width-ce.width)/2}:function(){return G.left},function(){ce=this.node().getBoundingClientRect();var oe=ae()-j.left,re=me()-j.top,F=ee.gd||{};if(ee.gd){F._fullLayout._calcInverseTransform(F);var O=g.apply3DTransform(F._fullLayout._invTransform)(oe,re);oe=O[0],re=O[1]}return this.style({top:re+"px",left:oe+"px","z-index":1e3}),this}}te.convertEntities=T,te.sanitizeHTML=function(q){q=q.replace(N," ");for(var X=document.createElement("p"),ee=X,ce=[],me=q.split(z),ae=0;ae<me.length;ae++){var K=me[ae],le=K.match(k),G=le&&le[2].toLowerCase();if(G in _)if(le[1])ce.length&&(ee=ce.pop());else{var j=le[4],oe=I(j,S),re=oe?{style:oe}:{};if("a"===G){var F=I(j,P);if(F){var O=Y(F);if(O){re.href=O;var J=I(j,H);J&&(re.target=J)}}}var R=document.createElement(G);ee.appendChild(R),o.select(R).attr(re),ee=R,ce.push(R)}else ee.appendChild(document.createTextNode(T(K)))}return X.innerHTML},te.lineCount=function(q){return q.selectAll("tspan.line").size()||1},te.positionText=function(q,X,ee){return q.each(function(){var ce=o.select(this);function me(le,G){return void 0===G?null===(G=ce.attr(le))&&(ce.attr(le,0),G=0):ce.attr(le,G),G}var ae=me("x",X),K=me("y",ee);"text"===this.nodeName&&ce.selectAll("tspan.line").attr({x:ae,y:K})})},te.makeTextShadow=function(q){var X="1px ",ee="1px ",ce="1px ";return X+ee+ce+q+", -"+X+"-"+ee+ce+q+", "+X+"-"+ee+ce+q+", -"+X+ee+ce+q},te.makeEditable=function(q,X){var ee=X.gd,ce=X.delegate,me=o.dispatch("edit","input","cancel"),ae=ce||q;if(q.style({"pointer-events":ce?"none":"all"}),1!==q.size())throw new Error("boo");function K(){var oe,re,F,O,J;oe=o.select(ee).select(".svg-container"),re=oe.append("div"),F=q.node().style,O=parseFloat(F.fontSize||12),void 0===(J=X.text)&&(J=q.attr("data-unformatted")),re.classed("plugin-editable editable",!0).style({position:"absolute","font-family":F.fontFamily||"Arial","font-size":O,color:X.fill||F.fill||"black",opacity:1,"background-color":X.background||"transparent",outline:"#ffffff33 1px solid",margin:[-O/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(J).call(W(q,oe,X)).on("blur",function(){ee._editing=!1,q.text(this.textContent).style({opacity:1});var R,ie=o.select(this).attr("class");(R=ie?"."+ie.split(" ")[0]+"-math-group":"[class*=-math-group]")&&o.select(q.node().parentNode).select(R).style({opacity:0});var fe=this.textContent;o.select(this).transition().duration(0).remove(),o.select(document).on("mouseup",null),me.edit.call(q,fe)}).on("focus",function(){var R=this;ee._editing=!0,o.select(document).on("mouseup",function(){if(o.event.target===R)return!1;document.activeElement===re.node()&&re.node().blur()})}).on("keyup",function(){27===o.event.which?(ee._editing=!1,q.style({opacity:1}),o.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),me.cancel.call(q,this.textContent)):(me.input.call(q,this.textContent),o.select(this).call(W(q,oe,X)))}).on("keydown",function(){13===o.event.which&&this.blur()}).call(le),q.style({opacity:0});var G,j=ae.attr("class");(G=j?"."+j.split(" ")[0]+"-math-group":"[class*=-math-group]")&&o.select(q.node().parentNode).select(G).style({opacity:0})}function le(G){var j=G.node(),oe=document.createRange();oe.selectNodeContents(j);var re=window.getSelection();re.removeAllRanges(),re.addRange(oe),j.focus()}return X.immediate?K():ae.on("click",K),o.rebind(q,me,"on")}},{"../constants/alignment":207,"../constants/xmlns_namespaces":213,"../lib":232,"@plotly/d3":11}],256:[function(m,de,te){"use strict";var o={};function g(p){p&&null!==p.timer&&(clearTimeout(p.timer),p.timer=null)}te.throttle=function(p,l,c){var C=o[p],d=Date.now();if(!C){for(var h in o)o[h].ts<d-6e4&&delete o[h];C=o[p]={ts:0,timer:null}}function u(){c(),C.ts=Date.now(),C.onDone&&(C.onDone(),C.onDone=null)}g(C),d>C.ts+l?u():C.timer=setTimeout(function(){u(),C.timer=null},l)},te.done=function(p){var l=o[p];return l&&l.timer?new Promise(function(c){var C=l.onDone;l.onDone=function(){C&&C(),c(),l.onDone=null}}):Promise.resolve()},te.clear=function(p){if(p)g(o[p]),delete o[p];else for(var l in o)te.clear(l)}},{}],257:[function(m,de,te){"use strict";var o=m("fast-isnumeric");de.exports=function(g,p){if(g>0)return Math.log(g)/Math.LN10;var l=Math.log(Math.min(p[0],p[1]))/Math.LN10;return o(l)||(l=Math.log(Math.max(p[0],p[1]))/Math.LN10-6),l}},{"fast-isnumeric":17}],258:[function(m,de,te){"use strict";de.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},{}],259:[function(m,de,te){"use strict";de.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},{}],260:[function(m,de,te){"use strict";var o=m("../registry");de.exports=function(g){for(var p,l,c=o.layoutArrayContainers,C=o.layoutArrayRegexes,d=g.split("[")[0],h=0;h<C.length;h++)if((l=g.match(C[h]))&&0===l.index){p=l[0];break}if(p||(p=c[c.indexOf(d)]),!p)return!1;var u=g.substr(p.length);return u?!!(l=u.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:p,index:Number(l[1]),property:l[3]||""}:{array:p,index:"",property:""}}},{"../registry":318}],261:[function(m,de,te){"use strict";var o=m("../lib"),g=o.extendFlat,p=o.isPlainObject,l={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},c={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},C=l.flags.slice().concat(["fullReplot"]),d=c.flags.slice().concat("layoutReplot");function h(b){for(var M={},L=0;L<b.length;L++)M[b[L]]=!1;return M}function u(b,M,L){var N=g({},b);for(var z in N){var k=N[z];p(k)&&(N[z]=_(k,M,0,z))}return"from-root"===L&&(N.editType=M),N}function _(b,M,L,N){if(b.valType){var z=g({},b);if(z.editType=M,Array.isArray(b.items)){z.items=new Array(b.items.length);for(var k=0;k<b.items.length;k++)z.items[k]=_(b.items[k],M)}return z}return u(b,M,"_"===N.charAt(0)?"nested":"from-root")}de.exports={traces:l,layout:c,traceFlags:function(){return h(C)},layoutFlags:function(){return h(d)},update:function(b,M){var L=M.editType;if(L&&"none"!==L)for(var N=L.split("+"),z=0;z<N.length;z++)b[N[z]]=!0},overrideAll:u}},{"../lib":232}],262:[function(m,de,te){"use strict";var o=m("fast-isnumeric"),g=m("gl-mat4/fromQuat"),p=m("../registry"),l=m("../lib"),c=m("../plots/plots"),C=m("../plots/cartesian/axis_ids"),d=m("../components/color"),h=C.cleanId,u=C.getFromTrace,_=p.traceIs;function b(H,E){var I=H[E],w=E.charAt(0);I&&"paper"!==I&&(H[E]=h(I,w,!0))}function M(H){function E(I,w){H[I]&&(!H.title||!H.title[w])&&(H.title||(H.title={}),H.title[w]=H[I],delete H[I])}H&&("string"!=typeof H.title&&"number"!=typeof H.title||(H.title={text:H.title}),E("titlefont","font"),E("titleposition","position"),E("titleside","side"),E("titleoffset","offset"))}function L(H){if(!l.isPlainObject(H))return!1;var E=H.name;return delete H.name,delete H.showlegend,("string"==typeof E||"number"==typeof E)&&String(E)}function N(H,E,I,w){if(I&&!w)return H;if(w&&!I||!H.trim())return E;if(!E.trim())return H;var B,$=Math.min(H.length,E.length);for(B=0;B<$&&H.charAt(B)===E.charAt(B);B++);return H.substr(0,B).trim()}function z(H){var E="middle",I="center";return"string"==typeof H&&(-1!==H.indexOf("top")?E="top":-1!==H.indexOf("bottom")&&(E="bottom"),-1!==H.indexOf("left")?I="left":-1!==H.indexOf("right")&&(I="right")),E+" "+I}function k(H,E){return E in H&&"object"==typeof H[E]&&0===Object.keys(H[E]).length}te.clearPromiseQueue=function(H){Array.isArray(H._promises)&&H._promises.length>0&&l.log("Clearing previous rejected promises from queue."),H._promises=[]},te.cleanLayout=function(H){var E,I;H||(H={}),H.xaxis1&&(H.xaxis||(H.xaxis=H.xaxis1),delete H.xaxis1),H.yaxis1&&(H.yaxis||(H.yaxis=H.yaxis1),delete H.yaxis1),H.scene1&&(H.scene||(H.scene=H.scene1),delete H.scene1);var w=(c.subplotsRegistry.cartesian||{}).attrRegex,B=(c.subplotsRegistry.polar||{}).attrRegex,$=(c.subplotsRegistry.ternary||{}).attrRegex,T=(c.subplotsRegistry.gl3d||{}).attrRegex,Y=Object.keys(H);for(E=0;E<Y.length;E++){var W=Y[E];if(w&&w.test(W)){var q=H[W];q.anchor&&"free"!==q.anchor&&(q.anchor=h(q.anchor)),q.overlaying&&(q.overlaying=h(q.overlaying)),q.type||(q.isdate?q.type="date":q.islog?q.type="log":!1===q.isdate&&!1===q.islog&&(q.type="linear")),"withzero"!==q.autorange&&"tozero"!==q.autorange||(q.autorange=!0,q.rangemode="tozero"),delete q.islog,delete q.isdate,delete q.categories,k(q,"domain")&&delete q.domain,void 0!==q.autotick&&(void 0===q.tickmode&&(q.tickmode=q.autotick?"auto":"linear"),delete q.autotick),M(q)}else if(B&&B.test(W))M(H[W].radialaxis);else if($&&$.test(W)){var X=H[W];M(X.aaxis),M(X.baxis),M(X.caxis)}else if(T&&T.test(W)){var ee=H[W],ce=ee.cameraposition;if(Array.isArray(ce)&&4===ce[0].length){var ae=ce[1],K=ce[2],le=g([],ce[0]),G=[];for(I=0;I<3;++I)G[I]=ae[I]+K*le[2+4*I];ee.camera={eye:{x:G[0],y:G[1],z:G[2]},center:{x:ae[0],y:ae[1],z:ae[2]},up:{x:0,y:0,z:1}},delete ee.cameraposition}M(ee.xaxis),M(ee.yaxis),M(ee.zaxis)}}var j=Array.isArray(H.annotations)?H.annotations.length:0;for(E=0;E<j;E++){var oe=H.annotations[E];l.isPlainObject(oe)&&(oe.ref&&("paper"===oe.ref?(oe.xref="paper",oe.yref="paper"):"data"===oe.ref&&(oe.xref="x",oe.yref="y"),delete oe.ref),b(oe,"xref"),b(oe,"yref"))}var re=Array.isArray(H.shapes)?H.shapes.length:0;for(E=0;E<re;E++){var F=H.shapes[E];l.isPlainObject(F)&&(b(F,"xref"),b(F,"yref"))}var O=Array.isArray(H.images)?H.images.length:0;for(E=0;E<O;E++){var J=H.images[E];l.isPlainObject(J)&&(b(J,"xref"),b(J,"yref"))}var R=H.legend;return R&&(R.x>3?(R.x=1.02,R.xanchor="left"):R.x<-2&&(R.x=-.02,R.xanchor="right"),R.y>3?(R.y=1.02,R.yanchor="bottom"):R.y<-2&&(R.y=-.02,R.yanchor="top")),M(H),"rotate"===H.dragmode&&(H.dragmode="orbit"),d.clean(H),H.template&&H.template.layout&&te.cleanLayout(H.template.layout),H},te.cleanData=function(H){for(var E=0;E<H.length;E++){var I,w=H[E];if("histogramy"===w.type&&"xbins"in w&&!("ybins"in w)&&(w.ybins=w.xbins,delete w.xbins),w.error_y&&"opacity"in w.error_y){var B=d.defaults,$=w.error_y.color||(_(w,"bar")?d.defaultLine:B[E%B.length]);w.error_y.color=d.addOpacity(d.rgb($),d.opacity($)*w.error_y.opacity),delete w.error_y.opacity}if("bardir"in w&&("h"!==w.bardir||!_(w,"bar")&&"histogram"!==w.type.substr(0,9)||(w.orientation="h",te.swapXYData(w)),delete w.bardir),"histogramy"===w.type&&te.swapXYData(w),"histogramx"!==w.type&&"histogramy"!==w.type||(w.type="histogram"),"scl"in w&&!("colorscale"in w)&&(w.colorscale=w.scl,delete w.scl),"reversescl"in w&&!("reversescale"in w)&&(w.reversescale=w.reversescl,delete w.reversescl),w.xaxis&&(w.xaxis=h(w.xaxis,"x")),w.yaxis&&(w.yaxis=h(w.yaxis,"y")),_(w,"gl3d")&&w.scene&&(w.scene=c.subplotsRegistry.gl3d.cleanId(w.scene)),!_(w,"pie-like")&&!_(w,"bar-like"))if(Array.isArray(w.textposition))for(I=0;I<w.textposition.length;I++)w.textposition[I]=z(w.textposition[I]);else w.textposition&&(w.textposition=z(w.textposition));var T=p.getModule(w);if(T&&T.colorbar){var Y=T.colorbar.container,W=Y?w[Y]:w;W&&W.colorscale&&("YIGnBu"===W.colorscale&&(W.colorscale="YlGnBu"),"YIOrRd"===W.colorscale&&(W.colorscale="YlOrRd"))}if("surface"===w.type&&l.isPlainObject(w.contours)){var q=["x","y","z"];for(I=0;I<q.length;I++){var X=w.contours[q[I]];l.isPlainObject(X)&&(X.highlightColor&&(X.highlightcolor=X.highlightColor,delete X.highlightColor),X.highlightWidth&&(X.highlightwidth=X.highlightWidth,delete X.highlightWidth))}}if("candlestick"===w.type||"ohlc"===w.type){var ee=!1!==(w.increasing||{}).showlegend,ce=!1!==(w.decreasing||{}).showlegend,me=L(w.increasing),ae=L(w.decreasing);if(!1!==me&&!1!==ae){var K=N(me,ae,ee,ce);K&&(w.name=K)}else!me&&!ae||w.name||(w.name=me||ae)}if(Array.isArray(w.transforms)){var le=w.transforms;for(I=0;I<le.length;I++){var G=le[I];if(l.isPlainObject(G))switch(G.type){case"filter":G.filtersrc&&(G.target=G.filtersrc,delete G.filtersrc),G.calendar&&(G.valuecalendar||(G.valuecalendar=G.calendar),delete G.calendar);break;case"groupby":if(G.styles=G.styles||G.style,G.styles&&!Array.isArray(G.styles)){var j=G.styles,oe=Object.keys(j);G.styles=[];for(var re=0;re<oe.length;re++)G.styles.push({target:oe[re],value:j[oe[re]]})}}}}k(w,"line")&&delete w.line,"marker"in w&&(k(w.marker,"line")&&delete w.marker.line,k(w,"marker")&&delete w.marker),d.clean(w),w.autobinx&&(delete w.autobinx,delete w.xbins),w.autobiny&&(delete w.autobiny,delete w.ybins),M(w),w.colorbar&&M(w.colorbar),w.marker&&w.marker.colorbar&&M(w.marker.colorbar),w.line&&w.line.colorbar&&M(w.line.colorbar),w.aaxis&&M(w.aaxis),w.baxis&&M(w.baxis)}},te.swapXYData=function(H){var E;if(l.swapAttrs(H,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(H.z)&&Array.isArray(H.z[0])&&(H.transpose?delete H.transpose:H.transpose=!0),H.error_x&&H.error_y){var I=H.error_y,w="copy_ystyle"in I?I.copy_ystyle:!(I.color||I.thickness||I.width);l.swapAttrs(H,["error_?.copy_ystyle"]),w&&l.swapAttrs(H,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof H.hoverinfo){var B=H.hoverinfo.split("+");for(E=0;E<B.length;E++)"x"===B[E]?B[E]="y":"y"===B[E]&&(B[E]="x");H.hoverinfo=B.join("+")}},te.coerceTraceIndices=function(H,E){if(o(E))return[E];if(!Array.isArray(E)||!E.length)return H.data.map(function(B,$){return $});if(Array.isArray(E)){for(var I=[],w=0;w<E.length;w++)l.isIndex(E[w],H.data.length)?I.push(E[w]):l.warn("trace index (",E[w],") is not a number or is out of bounds");return I}return E},te.manageArrayContainers=function(H,E,I){var w=H.obj,B=H.parts,$=B.length,T=B[$-1],Y=o(T);if(Y&&null===E){var W=B.slice(0,$-1).join(".");l.nestedProperty(w,W).get().splice(T,1)}else Y&&void 0===H.get()&&void 0===H.get()&&(I[H.astr]=null),H.set(E)};var D=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function S(H){var E=H.search(D);if(E>0)return H.substr(0,E)}te.hasParent=function(H,E){for(var I=S(E);I;){if(I in H)return!0;I=S(I)}return!1};var P=["x","y","z"];te.clearAxisTypes=function(H,E,I){for(var w=0;w<E.length;w++)for(var B=H._fullData[w],$=0;$<3;$++){var T=u(H,B,P[$]);if(T&&"log"!==T.type){var Y=T._name,W=T._id.substr(1);if("scene"===W.substr(0,5)){if(void 0!==I[W])continue;Y=W+"."+Y}var q=Y+".type";void 0===I[Y]&&void 0===I[q]&&l.nestedProperty(H.layout,q).set(null)}}}},{"../components/color":102,"../lib":232,"../plots/cartesian/axis_ids":283,"../plots/plots":316,"../registry":318,"fast-isnumeric":17,"gl-mat4/fromQuat":23}],263:[function(m,de,te){"use strict";var o=m("./plot_api");te._doPlot=o._doPlot,te.newPlot=o.newPlot,te.restyle=o.restyle,te.relayout=o.relayout,te.redraw=o.redraw,te.update=o.update,te._guiRestyle=o._guiRestyle,te._guiRelayout=o._guiRelayout,te._guiUpdate=o._guiUpdate,te._storeDirectGUIEdit=o._storeDirectGUIEdit,te.react=o.react,te.extendTraces=o.extendTraces,te.prependTraces=o.prependTraces,te.addTraces=o.addTraces,te.deleteTraces=o.deleteTraces,te.moveTraces=o.moveTraces,te.purge=o.purge,te.addFrames=o.addFrames,te.deleteFrames=o.deleteFrames,te.animate=o.animate,te.setPlotConfig=o.setPlotConfig,te.toImage=m("./to_image"),te.validate=m("./validate"),te.downloadImage=m("../snapshot/download");var g=m("./template_api");te.makeTemplate=g.makeTemplate,te.validateTemplate=g.validateTemplate},{"../snapshot/download":320,"./plot_api":265,"./template_api":270,"./to_image":271,"./validate":272}],264:[function(m,de,te){"use strict";var o=m("../lib/is_plain_object"),g=m("../lib/noop"),p=m("../lib/loggers"),l=m("../lib/search").sorterAsc,c=m("../registry");te.containerArrayMatch=m("./container_array_match");var C=te.isAddVal=function(h){return"add"===h||o(h)},d=te.isRemoveVal=function(h){return null===h||"remove"===h};te.applyContainerArrayChanges=function(h,u,_,b,M){var L=u.astr,N=c.getComponentMethod(L,"supplyLayoutDefaults"),z=c.getComponentMethod(L,"draw"),k=c.getComponentMethod(L,"drawOne"),D=b.replot||b.recalc||N===g||z===g,S=h.layout,P=h._fullLayout;if(_[""]){Object.keys(_).length>1&&p.warn("Full array edits are incompatible with other edits",L);var H=_[""][""];if(d(H))u.set(null);else{if(!Array.isArray(H))return p.warn("Unrecognized full array edit value",L,H),!0;u.set(H)}return!D&&(N(S,P),z(h),!0)}var E,I,w,B,$,T,Y,q=Object.keys(_).map(Number).sort(l),X=u.get(),ee=X||[],ce=M(P,L).get(),me=[],ae=-1,K=ee.length;for(E=0;E<q.length;E++)if(B=_[w=q[E]],$=Object.keys(B),Y=C(T=B[""]),w<0||w>ee.length-(Y?0:1))p.warn("index out of range",L,w);else if(void 0!==T)$.length>1&&p.warn("Insertion & removal are incompatible with edits to the same index.",L,w),d(T)?me.push(w):Y?("add"===T&&(T={}),ee.splice(w,0,T),ce&&ce.splice(w,0,{})):p.warn("Unrecognized full object edit value",L,w,T),-1===ae&&(ae=w);else for(I=0;I<$.length;I++)M(ee[w],$[I],L+"["+w+"].").set(B[$[I]]);for(E=me.length-1;E>=0;E--)ee.splice(me[E],1),ce&&ce.splice(me[E],1);if(ee.length?X||u.set(ee):u.set(null),D)return!1;if(N(S,P),k!==g){var le;if(-1===ae)le=q;else{for(K=Math.max(ee.length,K),le=[],E=0;E<q.length&&!((w=q[E])>=ae);E++)le.push(w);for(E=ae;E<K;E++)le.push(E)}for(E=0;E<le.length;E++)k(h,le[E])}else z(h);return!0}},{"../lib/is_plain_object":233,"../lib/loggers":236,"../lib/noop":241,"../lib/search":251,"../registry":318,"./container_array_match":260}],265:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("fast-isnumeric"),p=m("has-hover"),l=m("../lib"),c=l.nestedProperty,C=m("../lib/events"),d=m("../lib/queue"),h=m("../registry"),u=m("./plot_schema"),_=m("../plots/plots"),b=m("../plots/cartesian/axes"),M=m("../components/drawing"),L=m("../components/color"),N=m("../plots/cartesian/graph_interact").initInteractions,z=m("../constants/xmlns_namespaces"),k=m("../plots/cartesian/select").clearSelect,D=m("./plot_config").dfltConfig,S=m("./manage_arrays"),P=m("./helpers"),H=m("./subroutines"),E=m("./edit_types"),I=m("../plots/cartesian/constants").AX_NAME_PATTERN,w=0;function B(xe){var ve=xe._fullLayout;ve._redrawFromAutoMarginCount?ve._redrawFromAutoMarginCount--:xe.emit("plotly_afterplot")}function $(xe,ve){try{xe._fullLayout._paper.style("background",ve)}catch(De){l.error(De)}}function T(xe,ve){$(xe,L.combine(ve,"white"))}function Y(xe,ve){if(!xe._context){xe._context=l.extendDeep({},D);var De=o.select("base");xe._context._baseUrl=De.size()&&De.attr("href")?window.location.href.split("#")[0]:""}var Ve,Ye,Oe,Ie=xe._context;if(ve){for(Ye=Object.keys(ve),Ve=0;Ve<Ye.length;Ve++)"editable"!==(Oe=Ye[Ve])&&"edits"!==Oe&&Oe in Ie&&(Ie[Oe]="setBackground"===Oe&&"opaque"===ve[Oe]?T:ve[Oe]);ve.plot3dPixelRatio&&!Ie.plotGlPixelRatio&&(Ie.plotGlPixelRatio=Ie.plot3dPixelRatio);var Qe=ve.editable;if(void 0!==Qe)for(Ie.editable=Qe,Ye=Object.keys(Ie.edits),Ve=0;Ve<Ye.length;Ve++)Ie.edits[Ye[Ve]]=Qe;if(ve.edits)for(Ye=Object.keys(ve.edits),Ve=0;Ve<Ye.length;Ve++)(Oe=Ye[Ve])in Ie.edits&&(Ie.edits[Oe]=ve.edits[Oe]);Ie._exportedPlot=ve._exportedPlot}Ie.staticPlot&&(Ie.editable=!1,Ie.edits={},Ie.autosizable=!1,Ie.scrollZoom=!1,Ie.doubleClick=!1,Ie.showTips=!1,Ie.showLink=!1,Ie.displayModeBar=!1),"hover"!==Ie.displayModeBar||p||(Ie.displayModeBar=!0),"transparent"!==Ie.setBackground&&"function"==typeof Ie.setBackground||(Ie.setBackground=$),Ie._hasZeroHeight=Ie._hasZeroHeight||0===xe.clientHeight,Ie._hasZeroWidth=Ie._hasZeroWidth||0===xe.clientWidth;var n1=Ie.scrollZoom,Ke=Ie._scrollZoom={};if(!0===n1)Ke.cartesian=1,Ke.gl3d=1,Ke.geo=1,Ke.mapbox=1;else if("string"==typeof n1){var r1=n1.split("+");for(Ve=0;Ve<r1.length;Ve++)Ke[r1[Ve]]=1}else!1!==n1&&(Ke.gl3d=1,Ke.geo=1,Ke.mapbox=1)}function W(xe,ve){var De,Ve,Ye=ve+1,Oe=[];for(De=0;De<xe.length;De++)(Ve=xe[De])<0?Oe.push(Ye+Ve):Oe.push(Ve);return Oe}function q(xe,ve,De){var Ve,Ye;for(Ve=0;Ve<ve.length;Ve++){if((Ye=ve[Ve])!==parseInt(Ye,10))throw new Error("all values in "+De+" must be integers");if(Ye>=xe.data.length||Ye<-xe.data.length)throw new Error(De+" must be valid indices for gd.data.");if(ve.indexOf(Ye,Ve+1)>-1||Ye>=0&&ve.indexOf(-xe.data.length+Ye)>-1||Ye<0&&ve.indexOf(xe.data.length+Ye)>-1)throw new Error("each index in "+De+" must be unique.")}}function X(xe,ve,De){if(!Array.isArray(xe.data))throw new Error("gd.data must be an array.");if(void 0===ve)throw new Error("currentIndices is a required argument.");if(Array.isArray(ve)||(ve=[ve]),q(xe,ve,"currentIndices"),void 0===De||Array.isArray(De)||(De=[De]),void 0!==De&&q(xe,De,"newIndices"),void 0!==De&&ve.length!==De.length)throw new Error("current and new indices must be of equal length.")}function ee(xe,ve,De,Ve,Ye){!function(Je,g1,b1,_1){var I1=l.isPlainObject(_1);if(!Array.isArray(Je.data))throw new Error("gd.data must be an array");if(!l.isPlainObject(g1))throw new Error("update must be a key:value object");if(void 0===b1)throw new Error("indices must be an integer or array of integers");for(var M1 in q(Je,b1,"indices"),g1){if(!Array.isArray(g1[M1])||g1[M1].length!==b1.length)throw new Error("attribute "+M1+" must be an array of length equal to indices array length");if(I1&&(!(M1 in _1)||!Array.isArray(_1[M1])||_1[M1].length!==g1[M1].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(xe,ve,De,Ve);for(var Oe=function(Je,g1,b1,_1){var M1,Re,Be,C1,O1=l.isPlainObject(_1),Q1=[];for(var l2 in Array.isArray(b1)||(b1=[b1]),b1=W(b1,Je.data.length-1),g1)for(var G1=0;G1<b1.length;G1++){if(M1=(Re=c(Je.data[b1[G1]],l2)).get(),!l.isArrayOrTypedArray(Be=g1[l2][G1]))throw new Error("attribute: "+l2+" index: "+G1+" must be an array");if(!l.isArrayOrTypedArray(M1))throw new Error("cannot extend missing or non-array attribute: "+l2);if(M1.constructor!==Be.constructor)throw new Error("cannot extend array with an array of a different type: "+l2);g(C1=O1?_1[l2][G1]:_1)||(C1=-1),Q1.push({prop:Re,target:M1,insert:Be,maxp:Math.floor(C1)})}return Q1}(xe,ve,De,Ve),Ie={},Qe={},n1=0;n1<Oe.length;n1++){var Ke=Oe[n1].prop,f1=Ye(Oe[n1].target,Oe[n1].insert,Oe[n1].maxp);Ke.set(f1[0]),Array.isArray(Ie[Ke.astr])||(Ie[Ke.astr]=[]),Ie[Ke.astr].push(f1[1]),Array.isArray(Qe[Ke.astr])||(Qe[Ke.astr]=[]),Qe[Ke.astr].push(Oe[n1].target.length)}return{update:Ie,maxPoints:Qe}}function ce(xe,ve){var De=new xe.constructor(xe.length+ve.length);return De.set(xe),De.set(ve,xe.length),De}function me(xe,ve,De,Ve){xe=l.getGraphDiv(xe),P.clearPromiseQueue(xe);var Ye={};if("string"==typeof ve)Ye[ve]=De;else{if(!l.isPlainObject(ve))return l.warn("Restyle fail.",ve,De,Ve),Promise.reject();Ye=l.extendFlat({},ve),void 0===Ve&&(Ve=De)}Object.keys(Ye).length&&(xe.changed=!0);var Oe=P.coerceTraceIndices(xe,Ve),Ie=G(xe,Ye,Oe),Qe=Ie.flags;Qe.calc&&(xe.calcdata=void 0),Qe.clearAxisTypes&&P.clearAxisTypes(xe,Oe,{});var n1=[];Qe.fullReplot?n1.push(te._doPlot):(n1.push(_.previousPromises),_.supplyDefaults(xe),Qe.markerSize&&(_.doCalcdata(xe),F(n1)),Qe.style&&n1.push(H.doTraceStyle),Qe.colorbars&&n1.push(H.doColorBars),n1.push(B)),n1.push(_.rehover,_.redrag),d.add(xe,me,[xe,Ie.undoit,Ie.traces],me,[xe,Ie.redoit,Ie.traces]);var Ke=l.syncOrAsync(n1,xe);return Ke&&Ke.then||(Ke=Promise.resolve()),Ke.then(function(){return xe.emit("plotly_restyle",Ie.eventData),xe})}function ae(xe){return void 0===xe?null:xe}function K(xe,ve){return ve?function(De,Ve,Ye){var Oe=c(De,Ve),Ie=Oe.set;return Oe.set=function(Qe){le((Ye||"")+Ve,Oe.get(),Qe,xe),Ie(Qe)},Oe}:c}function le(xe,ve,De,Ve){if(Array.isArray(ve)||Array.isArray(De))for(var Ye=Array.isArray(ve)?ve:[],Oe=Array.isArray(De)?De:[],Ie=Math.max(Ye.length,Oe.length),Qe=0;Qe<Ie;Qe++)le(xe+"["+Qe+"]",Ye[Qe],Oe[Qe],Ve);else if(l.isPlainObject(ve)||l.isPlainObject(De)){var n1=l.isPlainObject(ve)?ve:{},Ke=l.isPlainObject(De)?De:{},r1=l.extendFlat({},n1,Ke);for(var f1 in r1)le(xe+"."+f1,n1[f1],Ke[f1],Ve)}else void 0===Ve[xe]&&(Ve[xe]=ae(ve))}function G(xe,ve,De){var Ve,Ye=xe._fullLayout,Oe=xe._fullData,Ie=xe.data,Qe=Ye._guiEditing,n1=K(Ye._preGUI,Qe),Ke=l.extendDeepAll({},ve);j(ve);var r1,f1=E.traceFlags(),Je={},g1={};function b1(){return De.map(function(){})}function _1(U1){var e2=b.id2name(U1);-1===r1.indexOf(e2)&&r1.push(e2)}function I1(U1){return"LAYOUT"+U1+".autorange"}function M1(U1){return"LAYOUT"+U1+".range"}function Re(U1){for(var e2=U1;e2<Oe.length;e2++)if(Oe[e2]._input===Ie[U1])return Oe[e2]}function Be(U1,e2,R1){if(Array.isArray(U1))U1.forEach(function(w2){Be(w2,e2,R1)});else if(!(U1 in ve)&&!P.hasParent(ve,U1)){var L2;if("LAYOUT"===U1.substr(0,6))L2=n1(xe.layout,U1.replace("LAYOUT",""));else{var y2=De[R1];L2=K(Ye._tracePreGUI[Re(y2)._fullInput.uid],Qe)(Ie[y2],U1)}U1 in g1||(g1[U1]=b1()),void 0===g1[U1][R1]&&(g1[U1][R1]=ae(L2.get())),void 0!==e2&&L2.set(e2)}}function C1(U1){return function(e2){return Oe[e2][U1]}}function O1(U1){return function(e2,R1){return!1===e2?Oe[De[R1]][U1]:null}}for(var Q1 in ve){if(P.hasParent(ve,Q1))throw new Error("cannot set "+Q1+" and a parent attribute simultaneously");var l2,G1,K1,N1,ge,ye,je=ve[Q1];if("autobinx"!==Q1&&"autobiny"!==Q1||(Q1=Q1.charAt(Q1.length-1)+"bins",je=Array.isArray(je)?je.map(O1(Q1)):!1===je?De.map(C1(Q1)):null),Je[Q1]=je,"LAYOUT"!==Q1.substr(0,6)){for(g1[Q1]=b1(),Ve=0;Ve<De.length;Ve++)if(l2=Ie[De[Ve]],G1=Re(De[Ve]),N1=(K1=K(Ye._tracePreGUI[G1._fullInput.uid],Qe)(l2,Q1)).get(),void 0!==(ge=Array.isArray(je)?je[Ve%je.length]:je)){var e1=K1.parts[K1.parts.length-1],d1=Q1.substr(0,Q1.length-e1.length-1),i1=d1?d1+".":"",l1=d1?c(G1,d1).get():G1;if((ye=u.getTraceValObject(G1,K1.parts))&&ye.impliedEdits&&null!==ge)for(var c1 in ye.impliedEdits)Be(l.relativeAttr(Q1,c1),ye.impliedEdits[c1],Ve);else if("thicknessmode"!==e1&&"lenmode"!==e1||N1===ge||"fraction"!==ge&&"pixels"!==ge||!l1){if("type"===Q1&&("pie"===ge!=("pie"===N1)||"funnelarea"===ge!=("funnelarea"===N1))){var L1="x",H1="y";"bar"!==ge&&"bar"!==N1||"h"!==l2.orientation||(L1="y",H1="x"),l.swapAttrs(l2,["?","?src"],"labels",L1),l.swapAttrs(l2,["d?","?0"],"label",L1),l.swapAttrs(l2,["?","?src"],"values",H1),"pie"===N1||"funnelarea"===N1?(c(l2,"marker.color").set(c(l2,"marker.colors").get()),Ye._pielayer.selectAll("g.trace").remove()):h.traceIs(l2,"cartesian")&&c(l2,"marker.colors").set(c(l2,"marker.color").get())}}else{var B1=Ye._size,r2=l1.orient,V1="top"===r2||"bottom"===r2;if("thicknessmode"===e1){var q1=V1?B1.h:B1.w;Be(i1+"thickness",l1.thickness*("fraction"===ge?1/q1:q1),Ve)}else{var f2=V1?B1.w:B1.h;Be(i1+"len",l1.len*("fraction"===ge?1/f2:f2),Ve)}}if(g1[Q1][Ve]=ae(N1),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Q1)){if("orientation"===Q1){K1.set(ge);var z1=l2.x&&!l2.y?"h":"v";if((K1.get()||z1)===G1.orientation)continue}else"orientationaxes"===Q1&&(l2.orientation={v:"h",h:"v"}[G1.orientation]);P.swapXYData(l2),f1.calc=f1.clearAxisTypes=!0}else-1!==_.dataArrayContainers.indexOf(K1.parts[0])?(P.manageArrayContainers(K1,ge,g1),f1.calc=!0):(ye?ye.arrayOk&&!h.traceIs(G1,"regl")&&(l.isArrayOrTypedArray(ge)||l.isArrayOrTypedArray(N1))?f1.calc=!0:E.update(f1,ye):f1.calc=!0,K1.set(ge))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(Q1)&&b.swap(xe,De),"orientationaxes"===Q1){var w1=c(xe.layout,"hovermode"),a2=w1.get();"x"===a2?w1.set("y"):"y"===a2?w1.set("x"):"x unified"===a2?w1.set("y unified"):"y unified"===a2&&w1.set("x unified")}if(-1!==["orientation","type"].indexOf(Q1)){for(r1=[],Ve=0;Ve<De.length;Ve++){var J1=Ie[De[Ve]];h.traceIs(J1,"cartesian")&&(_1(J1.xaxis||"x"),_1(J1.yaxis||"y"))}Be(r1.map(I1),!0,0),Be(r1.map(M1),[0,1],0)}}else K1=n1(xe.layout,Q1.replace("LAYOUT","")),g1[Q1]=[ae(K1.get())],K1.set(Array.isArray(je)?je[0]:je),f1.calc=!0}return(f1.calc||f1.plot)&&(f1.fullReplot=!0),{flags:f1,undoit:g1,redoit:Je,traces:De,eventData:l.extendDeepNoArrays([],[Ke,De])}}function j(xe){var ve,De,Ve,Ye=l.counterRegex("axis",".title",!1,!1),Oe=/colorbar\.title$/,Ie=Object.keys(xe);for(ve=0;ve<Ie.length;ve++)Ve=xe[De=Ie[ve]],"title"!==De&&!Ye.test(De)&&!Oe.test(De)||"string"!=typeof Ve&&"number"!=typeof Ve?De.indexOf("titlefont")>-1&&-1===De.indexOf("grouptitlefont")?Qe(De,De.replace("titlefont","title.font")):De.indexOf("titleposition")>-1?Qe(De,De.replace("titleposition","title.position")):De.indexOf("titleside")>-1?Qe(De,De.replace("titleside","title.side")):De.indexOf("titleoffset")>-1&&Qe(De,De.replace("titleoffset","title.offset")):Qe(De,De.replace("title","title.text"));function Qe(n1,Ke){xe[Ke]=xe[n1],delete xe[n1]}}function oe(xe,ve,De){xe=l.getGraphDiv(xe),P.clearPromiseQueue(xe);var Ve={};if("string"==typeof ve)Ve[ve]=De;else{if(!l.isPlainObject(ve))return l.warn("Relayout fail.",ve,De),Promise.reject();Ve=l.extendFlat({},ve)}Object.keys(Ve).length&&(xe.changed=!0);var Ye=ie(xe,Ve),Oe=Ye.flags;Oe.calc&&(xe.calcdata=void 0);var Ie=[_.previousPromises];Oe.layoutReplot?Ie.push(H.layoutReplot):Object.keys(Ve).length&&(re(xe,Oe,Ye)||_.supplyDefaults(xe),Oe.legend&&Ie.push(H.doLegend),Oe.layoutstyle&&Ie.push(H.layoutStyles),Oe.axrange&&F(Ie,Ye.rangesAltered),Oe.ticks&&Ie.push(H.doTicksRelayout),Oe.modebar&&Ie.push(H.doModeBar),Oe.camera&&Ie.push(H.doCamera),Oe.colorbars&&Ie.push(H.doColorBars),Ie.push(B)),Ie.push(_.rehover,_.redrag),d.add(xe,oe,[xe,Ye.undoit],oe,[xe,Ye.redoit]);var Qe=l.syncOrAsync(Ie,xe);return Qe&&Qe.then||(Qe=Promise.resolve(xe)),Qe.then(function(){return xe.emit("plotly_relayout",Ye.eventData),xe})}function re(xe,ve,De){var Ve=xe._fullLayout;if(!ve.axrange)return!1;for(var Ye in ve)if("axrange"!==Ye&&ve[Ye])return!1;for(var Oe in De.rangesAltered){var Ie=b.id2name(Oe),Qe=xe.layout[Ie],n1=Ve[Ie];if(n1.autorange=Qe.autorange,Qe.range&&(n1.range=Qe.range.slice()),n1.cleanRange(),n1._matchGroup)for(var Ke in n1._matchGroup)if(Ke!==Oe){var r1=Ve[b.id2name(Ke)];r1.autorange=n1.autorange,r1.range=n1.range.slice(),r1._input.range=n1.range.slice()}}return!0}function F(xe,ve){xe.push(k,H.doAutoRangeAndConstraints,ve?function(Ve){var Ye=[],Oe=!0;for(var Ie in ve){var Qe=b.getFromId(Ve,Ie);if(Ye.push(Ie),-1!==(Qe.ticklabelposition||"").indexOf("inside")&&Qe._anchorAxis&&Ye.push(Qe._anchorAxis._id),Qe._matchGroup)for(var n1 in Qe._matchGroup)ve[n1]||Ye.push(n1);Qe.automargin&&(Oe=!1)}return b.draw(Ve,Ye,{skipTitle:Oe})}:function(Ve){return b.draw(Ve,"redraw")},H.drawData,H.finalDraw)}var O=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,J=/^[xyz]axis[0-9]*\.autorange$/,R=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function ie(xe,ve){var De,Ve,Ye,Oe=xe.layout,Ie=xe._fullLayout,n1=K(Ie._preGUI,Ie._guiEditing),Ke=Object.keys(ve),r1=b.list(xe),f1=l.extendDeepAll({},ve),Je={};for(j(ve),Ke=Object.keys(ve),Ve=0;Ve<Ke.length;Ve++)if(0===Ke[Ve].indexOf("allaxes")){for(Ye=0;Ye<r1.length;Ye++){var g1=r1[Ye]._id.substr(1),b1=-1!==g1.indexOf("scene")?g1+".":"",_1=Ke[Ve].replace("allaxes",b1+r1[Ye]._name);ve[_1]||(ve[_1]=ve[Ke[Ve]])}delete ve[Ke[Ve]]}var I1=E.layoutFlags(),M1={},Re={};function Be(y2,w2){if(Array.isArray(y2))y2.forEach(function(O2){Be(O2,w2)});else if(!(y2 in ve)&&!P.hasParent(ve,y2)){var F2=n1(Oe,y2);y2 in Re||(Re[y2]=ae(F2.get())),void 0!==w2&&F2.set(w2)}}var C1,O1={};function Q1(y2){var w2=b.name2id(y2.split(".")[0]);return O1[w2]=1,w2}for(var l2 in ve){if(P.hasParent(ve,l2))throw new Error("cannot set "+l2+" and a parent attribute simultaneously");for(var G1=n1(Oe,l2),K1=ve[l2],N1=G1.parts.length-1;N1>0&&"string"!=typeof G1.parts[N1];)N1--;var ge=G1.parts[N1],ye=G1.parts[N1-1]+"."+ge,je=G1.parts.slice(0,N1).join("."),e1=c(xe.layout,je).get(),d1=c(Ie,je).get(),i1=G1.get();if(void 0!==K1){M1[l2]=K1,Re[l2]="reverse"===ge?K1:ae(i1);var l1=u.getLayoutValObject(Ie,G1.parts);if(l1&&l1.impliedEdits&&null!==K1)for(var c1 in l1.impliedEdits)Be(l.relativeAttr(l2,c1),l1.impliedEdits[c1]);if(-1!==["width","height"].indexOf(l2))if(K1){Be("autosize",null);var L1="height"===l2?"width":"height";Be(L1,Ie[L1])}else Ie[l2]=xe._initialAutoSize[l2];else if("autosize"===l2)Be("width",K1?null:Ie.width),Be("height",K1?null:Ie.height);else if(ye.match(O))Q1(ye),c(Ie,je+"._inputRange").set(null);else if(ye.match(J)){Q1(ye),c(Ie,je+"._inputRange").set(null);var H1=c(Ie,je).get();H1._inputDomain&&(H1._input.domain=H1._inputDomain.slice())}else ye.match(R)&&c(Ie,je+"._inputDomain").set(null);if("type"===ge){C1=e1;var B1="linear"===d1.type&&"log"===K1;if(B1||"log"===d1.type&&"linear"===K1){if(C1&&C1.range)if(d1.autorange)B1&&(C1.range=C1.range[1]>C1.range[0]?[1,2]:[2,1]);else{var V1=C1.range[0],q1=C1.range[1];B1?(V1<=0&&q1<=0&&Be(je+".autorange",!0),V1<=0?V1=q1/1e6:q1<=0&&(q1=V1/1e6),Be(je+".range[0]",Math.log(V1)/Math.LN10),Be(je+".range[1]",Math.log(q1)/Math.LN10)):(Be(je+".range[0]",Math.pow(10,V1)),Be(je+".range[1]",Math.pow(10,q1)))}else Be(je+".autorange",!0);Array.isArray(Ie._subplots.polar)&&Ie._subplots.polar.length&&Ie[G1.parts[0]]&&"radialaxis"===G1.parts[1]&&delete Ie[G1.parts[0]]._subplot.viewInitial["radialaxis.range"],h.getComponentMethod("annotations","convertCoords")(xe,d1,K1,Be),h.getComponentMethod("images","convertCoords")(xe,d1,K1,Be)}else Be(je+".autorange",!0),Be(je+".range",null);c(Ie,je+"._inputRange").set(null)}else if(ge.match(I)){var f2=c(Ie,l2).get(),z1=(K1||{}).type;z1&&"-"!==z1||(z1="linear"),h.getComponentMethod("annotations","convertCoords")(xe,f2,z1,Be),h.getComponentMethod("images","convertCoords")(xe,f2,z1,Be)}var w1=S.containerArrayMatch(l2);if(w1){De=w1.array;var a2=w1.property,J1=l1||{editType:"calc"};""!==(Ve=w1.index)&&""===a2&&(S.isAddVal(K1)?Re[l2]=null:S.isRemoveVal(K1)?Re[l2]=(c(Oe,De).get()||[])[Ve]:l.warn("unrecognized full object value",ve)),E.update(I1,J1),Je[De]||(Je[De]={});var U1=Je[De][Ve];U1||(U1=Je[De][Ve]={}),U1[a2]=K1,delete ve[l2]}else"reverse"===ge?(e1.range?e1.range.reverse():(Be(je+".autorange",!0),e1.range=[1,0]),d1.autorange?I1.calc=!0:I1.plot=!0):(Ie._has("scatter-like")&&Ie._has("regl")&&"dragmode"===l2&&("lasso"===K1||"select"===K1)&&"lasso"!==i1&&"select"!==i1||Ie._has("gl2d")?I1.plot=!0:l1?E.update(I1,l1):I1.calc=!0,G1.set(K1))}}for(De in Je)S.applyContainerArrayChanges(xe,n1(Oe,De),Je[De],I1,n1)||(I1.plot=!0);for(var e2 in O1){var R1=(C1=b.getFromId(xe,e2))&&C1._constraintGroup;if(R1)for(var L2 in I1.calc=!0,R1)O1[L2]||(b.getFromId(xe,L2)._constraintShrinkable=!0)}return(fe(xe)||ve.height||ve.width)&&(I1.plot=!0),(I1.plot||I1.calc)&&(I1.layoutReplot=!0),{flags:I1,rangesAltered:O1,undoit:Re,redoit:M1,eventData:f1}}function fe(xe){var ve=xe._fullLayout,De=ve.width,Ve=ve.height;return xe.layout.autosize&&_.plotAutoSize(xe,xe.layout,ve),ve.width!==De||ve.height!==Ve}function ue(xe,ve,De,Ve){xe=l.getGraphDiv(xe),P.clearPromiseQueue(xe),l.isPlainObject(ve)||(ve={}),l.isPlainObject(De)||(De={}),Object.keys(ve).length&&(xe.changed=!0),Object.keys(De).length&&(xe.changed=!0);var Ye=P.coerceTraceIndices(xe,Ve),Oe=G(xe,l.extendFlat({},ve),Ye),Ie=Oe.flags,Qe=ie(xe,l.extendFlat({},De)),n1=Qe.flags;(Ie.calc||n1.calc)&&(xe.calcdata=void 0),Ie.clearAxisTypes&&P.clearAxisTypes(xe,Ye,De);var Ke=[];n1.layoutReplot?Ke.push(H.layoutReplot):Ie.fullReplot?Ke.push(te._doPlot):(Ke.push(_.previousPromises),re(xe,n1,Qe)||_.supplyDefaults(xe),Ie.style&&Ke.push(H.doTraceStyle),(Ie.colorbars||n1.colorbars)&&Ke.push(H.doColorBars),n1.legend&&Ke.push(H.doLegend),n1.layoutstyle&&Ke.push(H.layoutStyles),n1.axrange&&F(Ke,Qe.rangesAltered),n1.ticks&&Ke.push(H.doTicksRelayout),n1.modebar&&Ke.push(H.doModeBar),n1.camera&&Ke.push(H.doCamera),Ke.push(B)),Ke.push(_.rehover,_.redrag),d.add(xe,ue,[xe,Oe.undoit,Qe.undoit,Oe.traces],ue,[xe,Oe.redoit,Qe.redoit,Oe.traces]);var r1=l.syncOrAsync(Ke,xe);return r1&&r1.then||(r1=Promise.resolve(xe)),r1.then(function(){return xe.emit("plotly_update",{data:Oe.eventData,layout:Qe.eventData}),xe})}function he(xe){return function(ve){ve._fullLayout._guiEditing=!0;var De=xe.apply(null,arguments);return ve._fullLayout._guiEditing=!1,De}}var Me=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],be=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function Ae(xe,ve){for(var De=0;De<ve.length;De++){var Ve=ve[De],Ye=xe.match(Ve.pattern);if(Ye){var Oe=Ye[1]||"";return{head:Oe,tail:xe.substr(Oe.length+1),attr:Ve.attr}}}}function ze(xe,ve){var De=c(ve,xe).get();if(void 0!==De)return De;var Ve=xe.split(".");for(Ve.pop();Ve.length>1;)if(Ve.pop(),void 0!==(De=c(ve,Ve.join(".")+".uirevision").get()))return De;return ve.uirevision}function Pe(xe,ve){for(var De=0;De<ve.length;De++)if(ve[De]._fullInput.uid===xe)return De;return-1}function Fe(xe,ve,De){for(var Ve=0;Ve<ve.length;Ve++)if(ve[Ve].uid===xe)return Ve;return!ve[De]||ve[De].uid?-1:De}function t1(xe,ve){var De=l.isPlainObject(xe),Ve=Array.isArray(xe);return De||Ve?(De&&l.isPlainObject(ve)||Ve&&Array.isArray(ve))&&JSON.stringify(xe)===JSON.stringify(ve):xe===ve}function Xe(xe,ve,De,Ve){var Ye,Oe,Ie,Qe=Ve.getValObject,n1=Ve.flags,Ke=Ve.immutable,r1=Ve.inArray,f1=Ve.arrayIndex;function Je(){var e1=Ye.editType;r1&&-1!==e1.indexOf("arraydraw")?l.pushUnique(n1.arrays[r1],f1):(E.update(n1,Ye),"none"!==e1&&n1.nChanges++,Ve.transition&&Ye.anim&&n1.nChangesAnim++,(O.test(Ie)||J.test(Ie))&&(n1.rangesAltered[De[0]]=1),R.test(Ie)&&c(ve,"_inputDomain").set(null),"datarevision"===Oe&&(n1.newDataRevision=1))}function g1(e1){return"data_array"===e1.valType||e1.arrayOk}for(Oe in xe){if(n1.calc&&!Ve.transition)return;var b1=xe[Oe],_1=ve[Oe],I1=De.concat(Oe);if(Ie=I1.join("."),"_"!==Oe.charAt(0)&&"function"!=typeof b1&&b1!==_1){if(("tick0"===Oe||"dtick"===Oe)&&"geo"!==De[0]){var M1=ve.tickmode;if("auto"===M1||"array"===M1||!M1)continue}if(("range"!==Oe||!ve.autorange)&&("zmin"!==Oe&&"zmax"!==Oe||"contourcarpet"!==ve.type)&&(Ye=Qe(I1))&&(!Ye._compareAsJSON||JSON.stringify(b1)!==JSON.stringify(_1))){var Re,Be=Ye.valType,C1=g1(Ye),O1=Array.isArray(b1),Q1=Array.isArray(_1);if(O1&&Q1){var l2="_input_"+Oe,G1=xe[l2],K1=ve[l2];if(Array.isArray(G1)&&G1===K1)continue}if(void 0===_1)C1&&O1?n1.calc=!0:Je();else if(Ye._isLinkedToArray){var N1=[],ge=!1;r1||(n1.arrays[Oe]=N1);var ye=Math.min(b1.length,_1.length),je=Math.max(b1.length,_1.length);if(ye!==je){if("arraydraw"!==Ye.editType){Je();continue}ge=!0}for(Re=0;Re<ye;Re++)Xe(b1[Re],_1[Re],I1.concat(Re),l.extendFlat({inArray:Oe,arrayIndex:Re},Ve));if(ge)for(Re=ye;Re<je;Re++)N1.push(Re)}else!Be&&l.isPlainObject(b1)?Xe(b1,_1,I1,Ve):C1?O1&&Q1?(Ke&&(n1.calc=!0),(Ke||Ve.newDataRevision)&&Je()):O1!==Q1?n1.calc=!0:Je():O1&&Q1&&b1.length===_1.length&&String(b1)===String(_1)||Je()}}}for(Oe in ve)if(!(Oe in xe)&&"_"!==Oe.charAt(0)&&"function"!=typeof ve[Oe]){if(g1(Ye=Qe(De.concat(Oe)))&&Array.isArray(ve[Oe]))return void(n1.calc=!0);Je()}}function Ue(xe){var ve=xe._fullLayout,De=xe.getBoundingClientRect();if(!l.equalDomRects(De,ve._lastBBox)){var Ve=ve._invTransform=l.inverseTransformMatrix(l.getFullTransformMatrix(xe));ve._invScaleX=Math.sqrt(Ve[0][0]*Ve[0][0]+Ve[0][1]*Ve[0][1]+Ve[0][2]*Ve[0][2]),ve._invScaleY=Math.sqrt(Ve[1][0]*Ve[1][0]+Ve[1][1]*Ve[1][1]+Ve[1][2]*Ve[1][2]),ve._lastBBox=De}}te.animate=function(xe,ve,De){if(xe=l.getGraphDiv(xe),!l.isPlotDiv(xe))throw new Error("This element is not a Plotly plot: "+xe+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Ve=xe._transitionData;Ve._frameQueue||(Ve._frameQueue=[]);var Ye=(De=_.supplyAnimationDefaults(De)).transition,Oe=De.frame;function Ie(Ke){return Array.isArray(Ye)?Ke>=Ye.length?Ye[0]:Ye[Ke]:Ye}function Qe(Ke){return Array.isArray(Oe)?Ke>=Oe.length?Oe[0]:Oe[Ke]:Oe}function n1(Ke,r1){var f1=0;return function(){if(Ke&&++f1===r1)return Ke()}}return void 0===Ve._frameWaitingCnt&&(Ve._frameWaitingCnt=0),new Promise(function(Ke,r1){function Je(){xe.emit("plotly_animating"),Ve._lastFrameAt=-1/0,Ve._timeToNext=0,Ve._runningTransitions=0,Ve._currentFrame=null;var G1=function(){Ve._animationRaf=window.requestAnimationFrame(G1),Date.now()-Ve._lastFrameAt>Ve._timeToNext&&function f1(){Ve._currentFrame&&Ve._currentFrame.onComplete&&Ve._currentFrame.onComplete();var G1=Ve._currentFrame=Ve._frameQueue.shift();if(G1){var K1=G1.name?G1.name.toString():null;xe._fullLayout._currentFrame=K1,Ve._lastFrameAt=Date.now(),Ve._timeToNext=G1.frameOpts.duration,_.transition(xe,G1.frame.data,G1.frame.layout,P.coerceTraceIndices(xe,G1.frame.traces),G1.frameOpts,G1.transitionOpts).then(function(){G1.onComplete&&G1.onComplete()}),xe.emit("plotly_animatingframe",{name:K1,frame:G1.frame,animation:{frame:G1.frameOpts,transition:G1.transitionOpts}})}else xe.emit("plotly_animated"),window.cancelAnimationFrame(Ve._animationRaf),Ve._animationRaf=null}()};G1()}var g1,b1,_1=0;function I1(G1){return G1.transitionOpts=Array.isArray(Ye)?_1>=Ye.length?Ye[_1]:Ye[0]:Ye,_1++,G1}var M1=[],Re=null==ve,Be=Array.isArray(ve);if(Re||Be||!l.isPlainObject(ve)){if(Re||-1!==["string","number"].indexOf(typeof ve))for(g1=0;g1<Ve._frames.length;g1++)(b1=Ve._frames[g1])&&(Re||String(b1.group)===String(ve))&&M1.push({type:"byname",name:String(b1.name),data:I1({name:b1.name})});else if(Be)for(g1=0;g1<ve.length;g1++){var C1=ve[g1];-1!==["number","string"].indexOf(typeof C1)?(C1=String(C1),M1.push({type:"byname",name:C1,data:I1({name:C1})})):l.isPlainObject(C1)&&M1.push({type:"object",data:I1(l.extendFlat({},C1))})}}else M1.push({type:"object",data:I1(l.extendFlat({},ve))});for(g1=0;g1<M1.length;g1++)if("byname"===(b1=M1[g1]).type&&!Ve._frameHash[b1.data.name])return l.warn('animate failure: frame not found: "'+b1.data.name+'"'),void r1();-1!==["next","immediate"].indexOf(De.mode)&&function(){if(0!==Ve._frameQueue.length){for(;Ve._frameQueue.length;){var G1=Ve._frameQueue.pop();G1.onInterrupt&&G1.onInterrupt()}xe.emit("plotly_animationinterrupted",[])}}(),"reverse"===De.direction&&M1.reverse();var O1=xe._fullLayout._currentFrame;if(O1&&De.fromcurrent){var Q1=-1;for(g1=0;g1<M1.length;g1++)if("byname"===(b1=M1[g1]).type&&b1.name===O1){Q1=g1;break}if(Q1>0&&Q1<M1.length-1){var l2=[];for(g1=0;g1<M1.length;g1++)b1=M1[g1],("byname"!==M1[g1].type||g1>Q1)&&l2.push(b1);M1=l2}}M1.length>0?function(G1){if(0!==G1.length){for(var K1=0;K1<G1.length;K1++){var N1;N1="byname"===G1[K1].type?_.computeFrame(xe,G1[K1].name):G1[K1].data;var ge=Qe(K1),ye=Ie(K1);ye.duration=Math.min(ye.duration,ge.duration);var je={frame:N1,name:G1[K1].name,frameOpts:ge,transitionOpts:ye};K1===G1.length-1&&(je.onComplete=n1(Ke,2),je.onInterrupt=r1),Ve._frameQueue.push(je)}"immediate"===De.mode&&(Ve._lastFrameAt=-1/0),Ve._animationRaf||Je()}}(M1):(xe.emit("plotly_animated"),Ke())})},te.addFrames=function(xe,ve,De){if(xe=l.getGraphDiv(xe),null==ve)return Promise.resolve();if(!l.isPlotDiv(xe))throw new Error("This element is not a Plotly plot: "+xe+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Ve,Ye,Oe,Ie,Qe=xe._transitionData._frames,n1=xe._transitionData._frameHash;if(!Array.isArray(ve))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+ve);var Ke=Qe.length+2*ve.length,r1=[],f1={};for(Ve=ve.length-1;Ve>=0;Ve--)if(l.isPlainObject(ve[Ve])){var Je=ve[Ve].name,g1=(n1[Je]||f1[Je]||{}).name,b1=ve[Ve].name;g1&&b1&&"number"==typeof b1&&(n1[g1]||f1[g1])&&w<5&&(w++,l.warn('addFrames: overwriting frame "'+(n1[g1]||f1[g1]).name+'" with a frame whose name of type "number" also equates to "'+g1+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===w&&l.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),f1[Je]={name:Je},r1.push({frame:_.supplyFrameDefaults(ve[Ve]),index:De&&null!=De[Ve]?De[Ve]:Ke+Ve})}r1.sort(function(l2,G1){return l2.index>G1.index?-1:l2.index<G1.index?1:0});var I1=[],M1=[],Re=Qe.length;for(Ve=r1.length-1;Ve>=0;Ve--){if("number"==typeof(Ye=r1[Ve].frame).name&&l.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Ye.name)for(;n1[Ye.name="frame "+xe._transitionData._counter++];);if(n1[Ye.name]){for(Oe=0;Oe<Qe.length&&(Qe[Oe]||{}).name!==Ye.name;Oe++);I1.push({type:"replace",index:Oe,value:Ye}),M1.unshift({type:"replace",index:Oe,value:Qe[Oe]})}else Ie=Math.max(0,Math.min(r1[Ve].index,Re)),I1.push({type:"insert",index:Ie,value:Ye}),M1.unshift({type:"delete",index:Ie}),Re++}return d&&d.add(xe,_.modifyFrames,[xe,M1],_.modifyFrames,[xe,I1]),_.modifyFrames(xe,I1)},te.deleteFrames=function(xe,ve){if(xe=l.getGraphDiv(xe),!l.isPlotDiv(xe))throw new Error("This element is not a Plotly plot: "+xe);var De,Ve,Ye=xe._transitionData._frames,Oe=[],Ie=[];if(!ve)for(ve=[],De=0;De<Ye.length;De++)ve.push(De);for((ve=ve.slice()).sort(),De=ve.length-1;De>=0;De--)Oe.push({type:"delete",index:Ve=ve[De]}),Ie.unshift({type:"insert",index:Ve,value:Ye[Ve]});return d&&d.add(xe,_.modifyFrames,[xe,Ie],_.modifyFrames,[xe,Oe]),_.modifyFrames(xe,Oe)},te.addTraces=function xe(ve,De,Ve){ve=l.getGraphDiv(ve);var Ye,Oe,Ie=[],Qe=te.deleteTraces,n1=xe,Ke=[ve,Ie],r1=[ve,De];for(function(f1,Je,g1){var b1,_1;if(!Array.isArray(f1.data))throw new Error("gd.data must be an array.");if(void 0===Je)throw new Error("traces must be defined.");for(Array.isArray(Je)||(Je=[Je]),b1=0;b1<Je.length;b1++)if("object"!=typeof(_1=Je[b1])||Array.isArray(_1)||null===_1)throw new Error("all values in traces array must be non-array objects");if(void 0===g1||Array.isArray(g1)||(g1=[g1]),void 0!==g1&&g1.length!==Je.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(ve,De,Ve),Array.isArray(De)||(De=[De]),De=De.map(function(f1){return l.extendFlat({},f1)}),P.cleanData(De),Ye=0;Ye<De.length;Ye++)ve.data.push(De[Ye]);for(Ye=0;Ye<De.length;Ye++)Ie.push(-De.length+Ye);if(void 0===Ve)return Oe=te.redraw(ve),d.add(ve,Qe,Ke,n1,r1),Oe;Array.isArray(Ve)||(Ve=[Ve]);try{X(ve,Ie,Ve)}catch(f1){throw ve.data.splice(ve.data.length-De.length,De.length),f1}return d.startSequence(ve),d.add(ve,Qe,Ke,n1,r1),Oe=te.moveTraces(ve,Ie,Ve),d.stopSequence(ve),Oe},te.deleteTraces=function xe(ve,De){ve=l.getGraphDiv(ve);var Ve,Ye,Oe=[],Ie=te.addTraces,Qe=xe,n1=[ve,Oe,De],Ke=[ve,De];if(void 0===De)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(De)||(De=[De]),q(ve,De,"indices"),(De=W(De,ve.data.length-1)).sort(l.sorterDes),Ve=0;Ve<De.length;Ve+=1)Ye=ve.data.splice(De[Ve],1)[0],Oe.push(Ye);var r1=te.redraw(ve);return d.add(ve,Ie,n1,Qe,Ke),r1},te.extendTraces=function xe(ve,De,Ve,Ye){function Oe(Ke,r1,f1){var Je,g1;if(l.isTypedArray(Ke))if(f1<0){var b1=new Ke.constructor(0),_1=ce(Ke,r1);f1<0?(Je=_1,g1=b1):(Je=b1,g1=_1)}else if(Je=new Ke.constructor(f1),g1=new Ke.constructor(Ke.length+r1.length-f1),f1===r1.length)Je.set(r1),g1.set(Ke);else if(f1<r1.length){var I1=r1.length-f1;Je.set(r1.subarray(I1)),g1.set(Ke),g1.set(r1.subarray(0,I1),Ke.length)}else{var M1=f1-r1.length,Re=Ke.length-M1;Je.set(Ke.subarray(Re)),Je.set(r1,M1),g1.set(Ke.subarray(0,Re))}else Je=Ke.concat(r1),g1=f1>=0&&f1<Je.length?Je.splice(0,Je.length-f1):[];return[Je,g1]}var Ie=ee(ve=l.getGraphDiv(ve),De,Ve,Ye,Oe),Qe=te.redraw(ve);return d.add(ve,te.prependTraces,[ve,Ie.update,Ve,Ie.maxPoints],xe,arguments),Qe},te.moveTraces=function xe(ve,De,Ve){var Ye,Oe=[],Ie=[],Qe=xe,n1=xe,Ke=[ve=l.getGraphDiv(ve),Ve,De],r1=[ve,De,Ve];if(X(ve,De,Ve),De=Array.isArray(De)?De:[De],void 0===Ve)for(Ve=[],Ye=0;Ye<De.length;Ye++)Ve.push(-De.length+Ye);for(Ve=Array.isArray(Ve)?Ve:[Ve],De=W(De,ve.data.length-1),Ve=W(Ve,ve.data.length-1),Ye=0;Ye<ve.data.length;Ye++)-1===De.indexOf(Ye)&&Oe.push(ve.data[Ye]);for(Ye=0;Ye<De.length;Ye++)Ie.push({newIndex:Ve[Ye],trace:ve.data[De[Ye]]});for(Ie.sort(function(Je,g1){return Je.newIndex-g1.newIndex}),Ye=0;Ye<Ie.length;Ye+=1)Oe.splice(Ie[Ye].newIndex,0,Ie[Ye].trace);ve.data=Oe;var f1=te.redraw(ve);return d.add(ve,Qe,Ke,n1,r1),f1},te.prependTraces=function xe(ve,De,Ve,Ye){function Oe(Ke,r1,f1){var Je,g1;if(l.isTypedArray(Ke))if(f1<=0){var b1=new Ke.constructor(0),_1=ce(r1,Ke);f1<0?(Je=_1,g1=b1):(Je=b1,g1=_1)}else if(Je=new Ke.constructor(f1),g1=new Ke.constructor(Ke.length+r1.length-f1),f1===r1.length)Je.set(r1),g1.set(Ke);else if(f1<r1.length){var I1=r1.length-f1;Je.set(r1.subarray(0,I1)),g1.set(r1.subarray(I1)),g1.set(Ke,I1)}else{var M1=f1-r1.length;Je.set(r1),Je.set(Ke.subarray(0,M1),r1.length),g1.set(Ke.subarray(M1))}else Je=r1.concat(Ke),g1=f1>=0&&f1<Je.length?Je.splice(f1,Je.length):[];return[Je,g1]}var Ie=ee(ve=l.getGraphDiv(ve),De,Ve,Ye,Oe),Qe=te.redraw(ve);return d.add(ve,te.extendTraces,[ve,Ie.update,Ve,Ie.maxPoints],xe,arguments),Qe},te.newPlot=function(xe,ve,De,Ve){return xe=l.getGraphDiv(xe),_.cleanPlot([],{},xe._fullData||[],xe._fullLayout||{}),_.purge(xe),te._doPlot(xe,ve,De,Ve)},te._doPlot=function(xe,ve,De,Ve){var Ye;if(xe=l.getGraphDiv(xe),C.init(xe),l.isPlainObject(ve)){var Oe=ve;ve=Oe.data,De=Oe.layout,Ve=Oe.config,Ye=Oe.frames}if(!1===C.triggerHandler(xe,"plotly_beforeplot",[ve,De,Ve]))return Promise.reject();ve||De||l.isPlotDiv(xe)||l.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",xe),Y(xe,Ve),De||(De={}),o.select(xe).classed("js-plotly-plot",!0),M.makeTester(),Array.isArray(xe._promises)||(xe._promises=[]);var Ie=0===(xe.data||[]).length&&Array.isArray(ve);Array.isArray(ve)&&(P.cleanData(ve),Ie?xe.data=ve:xe.data.push.apply(xe.data,ve),xe.empty=!1),xe.layout&&!Ie||(xe.layout=P.cleanLayout(De)),_.supplyDefaults(xe);var Qe=xe._fullLayout,n1=Qe._has("cartesian");Qe._replotting=!0,(Ie||Qe._shouldCreateBgLayer)&&(function(M1){var Re=o.select(M1),Be=M1._fullLayout;if(Be._calcInverseTransform=Ue,Be._calcInverseTransform(M1),Be._container=Re.selectAll(".plot-container").data([0]),Be._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Be._paperdiv=Be._container.selectAll(".svg-container").data([0]),Be._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Be._glcontainer=Be._paperdiv.selectAll(".gl-container").data([{}]),Be._glcontainer.enter().append("div").classed("gl-container",!0),Be._paperdiv.selectAll(".main-svg").remove(),Be._paperdiv.select(".modebar-container").remove(),Be._paper=Be._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Be._toppaper=Be._paperdiv.append("svg").classed("main-svg",!0),Be._modebardiv=Be._paperdiv.append("div"),delete Be._modeBar,Be._hoverpaper=Be._paperdiv.append("svg").classed("main-svg",!0),!Be._uid){var C1={};o.selectAll("defs").each(function(){this.id&&(C1[this.id.split("-")[1]]=1)}),Be._uid=l.randstr(C1)}Be._paperdiv.selectAll(".main-svg").attr(z.svgAttrs),Be._defs=Be._paper.append("defs").attr("id","defs-"+Be._uid),Be._clips=Be._defs.append("g").classed("clips",!0),Be._topdefs=Be._toppaper.append("defs").attr("id","topdefs-"+Be._uid),Be._topclips=Be._topdefs.append("g").classed("clips",!0),Be._bgLayer=Be._paper.append("g").classed("bglayer",!0),Be._draggers=Be._paper.append("g").classed("draglayer",!0);var O1=Be._paper.append("g").classed("layer-below",!0);Be._imageLowerLayer=O1.append("g").classed("imagelayer",!0),Be._shapeLowerLayer=O1.append("g").classed("shapelayer",!0),Be._cartesianlayer=Be._paper.append("g").classed("cartesianlayer",!0),Be._polarlayer=Be._paper.append("g").classed("polarlayer",!0),Be._smithlayer=Be._paper.append("g").classed("smithlayer",!0),Be._ternarylayer=Be._paper.append("g").classed("ternarylayer",!0),Be._geolayer=Be._paper.append("g").classed("geolayer",!0),Be._funnelarealayer=Be._paper.append("g").classed("funnelarealayer",!0),Be._pielayer=Be._paper.append("g").classed("pielayer",!0),Be._iciclelayer=Be._paper.append("g").classed("iciclelayer",!0),Be._treemaplayer=Be._paper.append("g").classed("treemaplayer",!0),Be._sunburstlayer=Be._paper.append("g").classed("sunburstlayer",!0),Be._indicatorlayer=Be._toppaper.append("g").classed("indicatorlayer",!0),Be._glimages=Be._paper.append("g").classed("glimages",!0);var Q1=Be._toppaper.append("g").classed("layer-above",!0);Be._imageUpperLayer=Q1.append("g").classed("imagelayer",!0),Be._shapeUpperLayer=Q1.append("g").classed("shapelayer",!0),Be._infolayer=Be._toppaper.append("g").classed("infolayer",!0),Be._menulayer=Be._toppaper.append("g").classed("menulayer",!0),Be._zoomlayer=Be._toppaper.append("g").classed("zoomlayer",!0),Be._hoverlayer=Be._hoverpaper.append("g").classed("hoverlayer",!0),Be._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),M1.emit("plotly_framework")}(xe),Qe._shouldCreateBgLayer&&delete Qe._shouldCreateBgLayer),M.initGradients(xe),M.initPatterns(xe),Ie&&b.saveShowSpikeInitial(xe);var Ke=!xe.calcdata||xe.calcdata.length!==(xe._fullData||[]).length;Ke&&_.doCalcdata(xe);for(var r1=0;r1<xe.calcdata.length;r1++)xe.calcdata[r1][0].trace=xe._fullData[r1];xe._context.responsive?xe._responsiveChartHandler||(xe._responsiveChartHandler=function(){l.isHidden(xe)||_.resize(xe)},window.addEventListener("resize",xe._responsiveChartHandler)):l.clearResponsive(xe);var f1=l.extendFlat({},Qe._size),Je=0;function g1(){if(_.clearAutoMarginIds(xe),H.drawMarginPushers(xe),b.allowAutoMargin(xe),Qe._has("pie"))for(var M1=xe._fullData,Re=0;Re<M1.length;Re++){var Be=M1[Re];"pie"===Be.type&&Be.automargin&&_.allowAutoMargin(xe,"pie."+Be.uid+".automargin")}return _.doAutoMargin(xe),_.previousPromises(xe)}function b1(){xe._transitioning||(H.doAutoRangeAndConstraints(xe),Ie&&b.saveRangeInitial(xe),h.getComponentMethod("rangeslider","calcAutorange")(xe))}var _1=[_.previousPromises,function(){if(Ye)return te.addFrames(xe,Ye)},function M1(){for(var Re=Qe._basePlotModules,Be=0;Be<Re.length;Be++)Re[Be].drawFramework&&Re[Be].drawFramework(xe);!Qe._glcanvas&&Qe._has("gl")&&(Qe._glcanvas=Qe._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(l2){return l2.key}),Qe._glcanvas.enter().append("canvas").attr("class",function(l2){return"gl-canvas gl-canvas-"+l2.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var C1=xe._context.plotGlPixelRatio;if(Qe._glcanvas){Qe._glcanvas.attr("width",Qe.width*C1).attr("height",Qe.height*C1).style("width",Qe.width+"px").style("height",Qe.height+"px");var O1=Qe._glcanvas.data()[0].regl;if(O1&&(Math.floor(Qe.width*C1)!==O1._gl.drawingBufferWidth||Math.floor(Qe.height*C1)!==O1._gl.drawingBufferHeight)){var Q1="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!Je)return l.log(Q1+" Clearing graph and plotting again."),_.cleanPlot([],{},xe._fullData,Qe),_.supplyDefaults(xe),Qe=xe._fullLayout,_.doCalcdata(xe),Je++,M1();l.error(Q1)}}return"h"===Qe.modebar.orientation?Qe._modebardiv.style("height",null).style("width","100%"):Qe._modebardiv.style("width",null).style("height",Qe.height+"px"),_.previousPromises(xe)},g1,function(){if(_.didMarginChange(f1,Qe._size))return l.syncOrAsync([g1,H.layoutStyles],xe)}];n1&&_1.push(function(){if(Ke)return l.syncOrAsync([h.getComponentMethod("shapes","calcAutorange"),h.getComponentMethod("annotations","calcAutorange"),b1],xe);b1()}),_1.push(H.layoutStyles),n1&&_1.push(function(){return b.draw(xe,Ie?"":"redraw")},function(M1){M1._fullLayout._insideTickLabelsAutorange&&oe(M1,M1._fullLayout._insideTickLabelsAutorange).then(function(){M1._fullLayout._insideTickLabelsAutorange=void 0})}),_1.push(H.drawData,H.finalDraw,N,_.addLinks,_.rehover,_.redrag,_.doAutoMargin,function(M1){M1._fullLayout._insideTickLabelsAutorange&&Ie&&b.saveRangeInitial(M1,!0)},_.previousPromises);var I1=l.syncOrAsync(_1,xe);return I1&&I1.then||(I1=Promise.resolve()),I1.then(function(){return B(xe),xe})},te.purge=function(xe){var ve=(xe=l.getGraphDiv(xe))._fullLayout||{};return _.cleanPlot([],{},xe._fullData||[],ve),_.purge(xe),C.purge(xe),ve._container&&ve._container.remove(),delete xe._context,xe},te.react=function(xe,ve,De,Ve){var Ye,Oe;xe=l.getGraphDiv(xe),P.clearPromiseQueue(xe);var je,e1,d1,i1,l1,c1,Ie=xe._fullData,Qe=xe._fullLayout;if(l.isPlotDiv(xe)&&Ie&&Qe){if(l.isPlainObject(ve)){var n1=ve;ve=n1.data,De=n1.layout,Ve=n1.config,Ye=n1.frames}var Ke=!1;if(Ve){var r1=l.extendDeep({},xe._context);xe._context=void 0,Y(xe,Ve),Ke=function je(e1,d1){var i1;for(i1 in e1)if("_"!==i1.charAt(0)){var l1=e1[i1],c1=d1[i1];if(l1!==c1)if(l.isPlainObject(l1)&&l.isPlainObject(c1)){if(je(l1,c1))return!0}else{if(!Array.isArray(l1)||!Array.isArray(c1)||l1.length!==c1.length)return!0;for(var L1=0;L1<l1.length;L1++)if(l1[L1]!==c1[L1]&&(!l.isPlainObject(l1[L1])||!l.isPlainObject(c1[L1])||je(l1[L1],c1[L1])))return!0}}}(r1,xe._context)}xe.data=ve||[],P.cleanData(xe.data),xe.layout=De||{},P.cleanLayout(xe.layout),function(je,e1,d1,i1){var l1,c1,L1,H1,B1,r2,V1,q1,f2,z1,w1=i1._preGUI,a2=[],J1={},U1={};for(l1 in w1){if(B1=Ae(l1,Me)){if(f2=B1.head,z1=B1.tail,(H1=(L1=c(i1,c1=B1.attr||f2+".uirevision").get())&&ze(c1,e1))&&H1===L1){if(null===(r2=w1[l1])&&(r2=void 0),t1(q1=(V1=c(e1,l1)).get(),r2)){void 0===q1&&"autorange"===z1&&a2.push(f2),V1.set(ae(c(i1,l1).get()));continue}if("autorange"===z1||"range["===z1.substr(0,6)){var L2=w1[f2+".autorange"];if(L2||null===L2&&null===w1[f2+".range[0]"]&&null===w1[f2+".range[1]"]){if(!(f2 in J1)){var y2=c(e1,f2).get();J1[f2]=y2&&(y2.autorange||!1!==y2.autorange&&(!y2.range||2!==y2.range.length))}if(J1[f2]){V1.set(ae(c(i1,l1).get()));continue}}}}}else l.warn("unrecognized GUI edit: "+l1);delete w1[l1],B1&&"range["===B1.tail.substr(0,6)&&(U1[B1.head]=1)}for(var w2=0;w2<a2.length;w2++){var F2=a2[w2];if(U1[F2]){var O2=c(e1,F2).get();O2&&delete O2.autorange}}var S2=i1._tracePreGUI;for(var j1 in S2){var Y1,t2=S2[j1],d2=null;for(l1 in t2){if(!d2){var s2=Pe(j1,d1);if(s2<0){delete S2[j1];break}var C2=Fe(j1,je,(Y1=d1[s2]._fullInput).index);if(C2<0){delete S2[j1];break}d2=je[C2]}if(B1=Ae(l1,be)){if(B1.attr?H1=(L1=c(i1,B1.attr).get())&&ze(B1.attr,e1):(L1=Y1.uirevision,void 0===(H1=d2.uirevision)&&(H1=e1.uirevision)),H1&&H1===L1&&(null===(r2=t2[l1])&&(r2=void 0),t1(q1=(V1=c(d2,l1)).get(),r2))){V1.set(ae(c(Y1,l1).get()));continue}}else l.warn("unrecognized GUI edit: "+l1+" in trace uid "+j1);delete t2[l1]}}}(xe.data,xe.layout,Ie,Qe),_.supplyDefaults(xe,{skipUpdateCalc:!0});var f1=xe._fullData,Je=xe._fullLayout,g1=void 0===Je.datarevision,b1=Je.transition,_1=(je=xe,e1=Qe,d1=Je,i1=g1,l1=b1,(c1=E.layoutFlags()).arrays={},c1.rangesAltered={},c1.nChanges=0,c1.nChangesAnim=0,Xe(e1,d1,[],{getValObject:function L1(H1){return u.getLayoutValObject(d1,H1)},flags:c1,immutable:i1,transition:l1,gd:je}),(c1.plot||c1.calc)&&(c1.layoutReplot=!0),l1&&c1.nChanges&&c1.nChangesAnim&&(c1.anim=c1.nChanges===c1.nChangesAnim?"all":"some"),c1),M1=function(je,e1,d1,i1,l1,c1){var L1=e1.length===d1.length;if(!l1&&!L1)return{fullReplot:!0,calc:!0};var H1,B1,r2=E.traceFlags();r2.arrays={},r2.nChanges=0,r2.nChangesAnim=0;var V1={getValObject:function(f2){var z1=u.getTraceValObject(B1,f2);return!B1._module.animatable&&z1.anim&&(z1.anim=!1),z1},flags:r2,immutable:i1,transition:l1,newDataRevision:c1,gd:je},q1={};for(H1=0;H1<e1.length;H1++)if(d1[H1]){if(_.hasMakesDataTransform(B1=d1[H1]._fullInput)&&(B1=d1[H1]),q1[B1.uid])continue;q1[B1.uid]=1,Xe(e1[H1]._fullInput,B1,[],V1)}return(r2.calc||r2.plot)&&(r2.fullReplot=!0),l1&&r2.nChanges&&r2.nChangesAnim&&(r2.anim=r2.nChanges===r2.nChangesAnim&&L1?"all":"some"),r2}(xe,Ie,f1,g1,b1,_1.newDataRevision);if(fe(xe)&&(_1.layoutReplot=!0),M1.calc||_1.calc){xe.calcdata=void 0;for(var Re=Object.getOwnPropertyNames(Je),Be=0;Be<Re.length;Be++){var C1=Re[Be],O1=C1.substring(0,5);if("xaxis"===O1||"yaxis"===O1){var Q1=Je[C1]._emptyCategories;Q1&&Q1()}}}else _.supplyDefaultsUpdateCalc(xe.calcdata,f1);var l2=[];if(Ye&&(xe._transitionData={},_.createTransitionData(xe),l2.push(function(){return te.addFrames(xe,Ye)})),Je.transition&&!Ke&&(M1.anim||_1.anim))_1.ticks&&l2.push(H.doTicksRelayout),_.doCalcdata(xe),H.doAutoRangeAndConstraints(xe),l2.push(function(){return _.transitionFromReact(xe,M1,_1,Qe)});else if(M1.fullReplot||_1.layoutReplot||Ke)xe._fullLayout._skipDefaults=!0,l2.push(te._doPlot);else{for(var G1 in _1.arrays){var K1=_1.arrays[G1];if(K1.length){var N1=h.getComponentMethod(G1,"drawOne");if(N1!==l.noop)for(var ge=0;ge<K1.length;ge++)N1(xe,K1[ge]);else{var ye=h.getComponentMethod(G1,"draw");if(ye===l.noop)throw new Error("cannot draw components: "+G1);ye(xe)}}}l2.push(_.previousPromises),M1.style&&l2.push(H.doTraceStyle),(M1.colorbars||_1.colorbars)&&l2.push(H.doColorBars),_1.legend&&l2.push(H.doLegend),_1.layoutstyle&&l2.push(H.layoutStyles),_1.axrange&&F(l2),_1.ticks&&l2.push(H.doTicksRelayout),_1.modebar&&l2.push(H.doModeBar),_1.camera&&l2.push(H.doCamera),l2.push(B)}l2.push(_.rehover,_.redrag),(Oe=l.syncOrAsync(l2,xe))&&Oe.then||(Oe=Promise.resolve(xe))}else Oe=te.newPlot(xe,ve,De,Ve);return Oe.then(function(){return xe.emit("plotly_react",{data:ve,layout:De}),xe})},te.redraw=function(xe){if(xe=l.getGraphDiv(xe),!l.isPlotDiv(xe))throw new Error("This element is not a Plotly plot: "+xe);return P.cleanData(xe.data),P.cleanLayout(xe.layout),xe.calcdata=void 0,te._doPlot(xe).then(function(){return xe.emit("plotly_redraw"),xe})},te.relayout=oe,te.restyle=me,te.setPlotConfig=function(xe){return l.extendFlat(D,xe)},te.update=ue,te._guiRelayout=he(oe),te._guiRestyle=he(me),te._guiUpdate=he(ue),te._storeDirectGUIEdit=function(xe,ve,De){for(var Ve in De)le(Ve,c(xe,Ve).get(),De[Ve],ve)}},{"../components/color":102,"../components/drawing":124,"../constants/xmlns_namespaces":213,"../lib":232,"../lib/events":225,"../lib/queue":247,"../plots/cartesian/axes":279,"../plots/cartesian/constants":286,"../plots/cartesian/graph_interact":289,"../plots/cartesian/select":300,"../plots/plots":316,"../registry":318,"./edit_types":261,"./helpers":262,"./manage_arrays":264,"./plot_config":266,"./plot_schema":267,"./subroutines":269,"@plotly/d3":11,"fast-isnumeric":17,"has-hover":48}],266:[function(m,de,te){"use strict";var o={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},g={};(function p(l,c){for(var C in l){var d=l[C];d.valType?c[C]=d.dflt:(c[C]||(c[C]={}),p(d,c[C]))}})(o,g),de.exports={configAttributes:o,dfltConfig:g}},{}],267:[function(m,de,te){"use strict";var o=m("../registry"),g=m("../lib"),p=m("../plots/attributes"),l=m("../plots/layout_attributes"),c=m("../plots/frame_attributes"),C=m("../plots/animation_attributes"),d=m("./plot_config").configAttributes,h=m("./edit_types"),u=g.extendDeepAll,_=g.isPlainObject,b=g.isArrayOrTypedArray,M=g.nestedProperty,L=g.valObjectMeta,N=["_isSubplotObj","_isLinkedToArray","_arrayAttrRegexps","_deprecated"];function z(I,w,B){if(!I)return!1;if(I._isLinkedToArray)if(k(w[B]))B++;else if(B<w.length)return!1;for(;B<w.length;B++){var $=I[w[B]];if(!_($)||(I=$,B===w.length-1))break;if(I._isLinkedToArray){if(!k(w[++B]))return!1}else if("info_array"===I.valType){var T=w[++B];if(!k(T))return!1;var Y=I.items;if(Array.isArray(Y)){if(T>=Y.length)return!1;if(2===I.dimensions){if(B++,w.length===B)return I;var W=w[B];if(!k(W))return!1;I=Y[T][W]}else I=Y[T]}else I=Y}}return I}function k(I){return I===Math.round(I)&&I>=0}function D(){var I,w,B={};for(I in u(B,l),o.subplotsRegistry)if((w=o.subplotsRegistry[I]).layoutAttributes)if(Array.isArray(w.attr))for(var $=0;$<w.attr.length;$++)H(B,w,w.attr[$]);else H(B,w,"subplot"===w.attr?w.name:w.attr);for(I in o.componentsRegistry){var T=(w=o.componentsRegistry[I]).schema;if(T&&(T.subplots||T.layout)){var Y=T.subplots;if(Y&&Y.xaxis&&!Y.yaxis)for(var W in Y.xaxis)delete B.yaxis[W]}else"colorscale"===w.name?u(B,w.layoutAttributes):w.layoutAttributes&&E(B,w.layoutAttributes,w.name)}return{layoutAttributes:P(B)}}function S(){var I={frames:u({},c)};return P(I),I.frames}function P(I){return te.crawl(I,function(B,$,T){te.isValObject(B)?!0!==B.arrayOk&&"data_array"!==B.valType||(T[$+"src"]={valType:"string",editType:"none"}):_(B)&&(B.role="object")}),te.crawl(I,function(B,$,T){if(B){var Y=B._isLinkedToArray;Y&&(delete B._isLinkedToArray,T[$]={items:{}},T[$].items[Y]=B,T[$].role="object")}}),function(w){!function B($){for(var T in $)if(_($[T]))B($[T]);else if(Array.isArray($[T]))for(var Y=0;Y<$[T].length;Y++)B($[T][Y]);else $[T]instanceof RegExp&&($[T]=$[T].toString())}(w)}(I),I}function H(I,w,B){var $=M(I,B),T=u({},w.layoutAttributes);T._isSubplotObj=!0,$.set(T)}function E(I,w,B){var $=M(I,B);$.set(u($.get()||{},w))}te.IS_SUBPLOT_OBJ="_isSubplotObj",te.IS_LINKED_TO_ARRAY="_isLinkedToArray",te.DEPRECATED="_deprecated",te.UNDERSCORE_ATTRS=N,te.get=function(){var I={};o.allTypes.forEach(function(B){I[B]=function($){var T,Y;Y=(T=o.modules[$]._module).basePlotModule;var W={type:null},q=u({},p),X=u({},T.attributes);te.crawl(X,function(me,ae,K,le,G){M(q,G).set(void 0),void 0===me&&M(X,G).set(void 0)}),u(W,q),o.traceIs($,"noOpacity")&&delete W.opacity,o.traceIs($,"showLegend")||(delete W.showlegend,delete W.legendgroup),o.traceIs($,"noHover")&&(delete W.hoverinfo,delete W.hoverlabel),T.selectPoints||delete W.selectedpoints,u(W,X),Y.attributes&&u(W,Y.attributes),W.type=$;var ee={meta:T.meta||{},categories:T.categories||{},animatable:Boolean(T.animatable),type:$,attributes:P(W)};if(T.layoutAttributes){var ce={};u(ce,T.layoutAttributes),ee.layoutAttributes=P(ce)}return T.animatable||te.crawl(ee,function(me){te.isValObject(me)&&"anim"in me&&delete me.anim}),ee}(B)});var w={};return Object.keys(o.transformsRegistry).forEach(function(B){var $,Y;w[B]=(Y=u({},o.transformsRegistry[$=B].attributes),Object.keys(o.componentsRegistry).forEach(function(W){var q=o.componentsRegistry[W];q.schema&&q.schema.transforms&&q.schema.transforms[$]&&Object.keys(q.schema.transforms[$]).forEach(function(X){E(Y,q.schema.transforms[$][X],X)})}),{attributes:P(Y)})}),{defs:{valObjects:L,metaKeys:N.concat(["description","role","editType","impliedEdits"]),editType:{traces:h.traces,layout:h.layout},impliedEdits:{}},traces:I,layout:D(),transforms:w,frames:S(),animation:P(C),config:P(d)}},te.crawl=function(I,w,B,$){var T=B||0;$=$||"",Object.keys(I).forEach(function(Y){var W=I[Y];if(-1===N.indexOf(Y)){var q=($?$+".":"")+Y;w(W,Y,I,T,q),te.isValObject(W)||_(W)&&"impliedEdits"!==Y&&te.crawl(W,w,T+1,q)}})},te.isValObject=function(I){return I&&void 0!==I.valType},te.findArrayAttributes=function(I){var w,B,$=[],T=[],Y=[];function W(me,ae,K,le){T=T.slice(0,le).concat([ae]),Y=Y.slice(0,le).concat([me&&me._isLinkedToArray]),me&&("data_array"===me.valType||!0===me.arrayOk)&&("colorbar"!==T[le-1]||"ticktext"!==ae&&"tickvals"!==ae)&&function G(j,oe,re){var F=j[T[oe]],O=re+T[oe];if(oe===T.length-1)b(F)&&$.push(B+O);else if(Y[oe]){if(Array.isArray(F))for(var J=0;J<F.length;J++)_(F[J])&&G(F[J],oe+1,O+"["+J+"].")}else _(F)&&G(F,oe+1,O+".")}(w,0,"")}w=I,B="",te.crawl(p,W),I._module&&I._module.attributes&&te.crawl(I._module.attributes,W);var q=I.transforms;if(q)for(var X=0;X<q.length;X++){var ee=q[X],ce=ee._module;ce&&(B="transforms["+X+"].",w=ee,te.crawl(ce.attributes,W))}return $},te.getTraceValObject=function(I,w){var B,$,T=w[0],Y=1;if("transforms"===T){if(1===w.length)return p.transforms;var W=I.transforms;if(!Array.isArray(W)||!W.length)return!1;var q=w[1];if(!k(q)||q>=W.length)return!1;$=(B=(o.transformsRegistry[W[q].type]||{}).attributes)&&B[w[2]],Y=3}else{var X=I._module;if(X||(X=(o.modules[I.type||p.type.dflt]||{})._module),!X)return!1;if(!($=(B=X.attributes)&&B[T])){var ee=X.basePlotModule;ee&&ee.attributes&&($=ee.attributes[T])}$||($=p[T])}return z($,w,Y)},te.getLayoutValObject=function(I,w){return z(function(B,$){var T,Y,W,q,X=B._basePlotModules;if(X){var ee;for(T=0;T<X.length;T++){if((W=X[T]).attrRegex&&W.attrRegex.test($)){if(W.layoutAttrOverrides)return W.layoutAttrOverrides;!ee&&W.layoutAttributes&&(ee=W.layoutAttributes)}var ce=W.baseLayoutAttrOverrides;if(ce&&$ in ce)return ce[$]}if(ee)return ee}var me=B._modules;if(me)for(T=0;T<me.length;T++)if((q=me[T].layoutAttributes)&&$ in q)return q[$];for(Y in o.componentsRegistry){if("colorscale"===(W=o.componentsRegistry[Y]).name&&0===$.indexOf("coloraxis"))return W.layoutAttributes[$];if(!W.schema&&$===W.name)return W.layoutAttributes}return $ in l&&l[$]}(I,w[0]),w,1)}},{"../lib":232,"../plots/animation_attributes":273,"../plots/attributes":275,"../plots/frame_attributes":311,"../plots/layout_attributes":314,"../registry":318,"./edit_types":261,"./plot_config":266}],268:[function(m,de,te){"use strict";var o=m("../lib"),g=m("../plots/attributes"),p={name:{valType:"string",editType:"none"}};function l(C){return C&&"string"==typeof C}function c(C){return"s"!==C.charAt(C.length-1)&&o.warn("bad argument to arrayDefaultKey: "+C),C.substr(0,C.length-1)+"defaults"}p.templateitemname={valType:"string",editType:"calc"},te.templatedArray=function(C,d){return d._isLinkedToArray=C,d.name=p.name,d.templateitemname=p.templateitemname,d},te.traceTemplater=function(C){var d,h,u={};for(d in C)h=C[d],Array.isArray(h)&&h.length&&(u[d]=0);return{newTrace:function(_){var b={type:d=o.coerce(_,{},g,"type"),_template:null};if(d in u){var M=u[d]%(h=C[d]).length;u[d]++,b._template=h[M]}return b}}},te.newContainer=function(C,d,h){var u=C._template,_=u&&(u[d]||h&&u[h]);return o.isPlainObject(_)||(_=null),C[d]={_template:_}},te.arrayTemplater=function(C,d,h){var u=C._template,_=u&&u[c(d)],b=u&&u[d];Array.isArray(b)&&b.length||(b=[]);var M={};return{newItem:function(L){var N={name:L.name,_input:L},z=N.templateitemname=L.templateitemname;if(!l(z))return N._template=_,N;for(var k=0;k<b.length;k++){var D=b[k];if(D.name===z)return M[z]=1,N._template=D,N}return N[h]=L[h]||!1,N._template=!1,N},defaultItems:function(){for(var L=[],N=0;N<b.length;N++){var z=b[N],k=z.name;if(l(k)&&!M[k]){var D={_template:z,name:k,_input:{_templateitemname:k}};D.templateitemname=z.templateitemname,L.push(D),M[k]=1}}return L}}},te.arrayDefaultKey=c,te.arrayEditor=function(C,d,h){var u=(o.nestedProperty(C,d).get()||[]).length,_=h._index,b=_>=u&&(h._input||{})._templateitemname;b&&(_=u);var M,L=d+"["+_+"]";function N(){M={},b&&(M[L]={},M[L].templateitemname=b)}function z(D,S){b?o.nestedProperty(M[L],D).set(S):M[L+"."+D]=S}function k(){var D=M;return N(),D}return N(),{modifyBase:function(D,S){M[D]=S},modifyItem:z,getUpdateObj:k,applyUpdate:function(D,S){D&&z(D,S);var P=k();for(var H in P)o.nestedProperty(C,H).set(P[H])}}}},{"../lib":232,"../plots/attributes":275}],269:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("../registry"),p=m("../plots/plots"),l=m("../lib"),c=m("../lib/clear_gl_canvases"),C=m("../components/color"),d=m("../components/drawing"),h=m("../components/titles"),u=m("../components/modebar"),_=m("../plots/cartesian/axes"),b=m("../constants/alignment"),M=m("../plots/cartesian/constraints"),L=M.enforce,N=M.clean,z=m("../plots/cartesian/autorange").doAutoRange;function k(w,B,$){for(var T=0;T<$.length;T++){var Y=$[T][0],W=$[T][1];if(!(Y[0]>=w[1]||Y[1]<=w[0])&&W[0]<B[1]&&W[1]>B[0])return!0}return!1}function D(w){var B,$,T,Y,W,q,X=w._fullLayout,ee=X._size,ce=ee.p,me=_.list(w,"",!0);if(X._paperdiv.style({width:w._context.responsive&&X.autosize&&!w._context._hasZeroWidth&&!w.layout.width?"100%":X.width+"px",height:w._context.responsive&&X.autosize&&!w._context._hasZeroHeight&&!w.layout.height?"100%":X.height+"px"}).selectAll(".main-svg").call(d.setSize,X.width,X.height),w._context.setBackground(w,X.paper_bgcolor),te.drawMainTitle(w),u.manage(w),!X._has("cartesian"))return p.previousPromises(w);function ae(Je,g1,b1){var _1=Je._lw/2;return"x"===Je._id.charAt(0)?g1?"top"===b1?g1._offset-ce-_1:g1._offset+g1._length+ce+_1:ee.t+ee.h*(1-(Je.position||0))+_1%1:g1?"right"===b1?g1._offset+g1._length+ce+_1:g1._offset-ce-_1:ee.l+ee.w*(Je.position||0)+_1%1}for(B=0;B<me.length;B++){var K=(Y=me[B])._anchorAxis;Y._linepositions={},Y._lw=d.crispRound(w,Y.linewidth,1),Y._mainLinePosition=ae(Y,K,Y.side),Y._mainMirrorPosition=Y.mirror&&K?ae(Y,K,b.OPPOSITE_SIDE[Y.side]):null}var le=[],G=[],j=[],oe=1===C.opacity(X.paper_bgcolor)&&1===C.opacity(X.plot_bgcolor)&&X.paper_bgcolor===X.plot_bgcolor;for($ in X._plots)if((T=X._plots[$]).mainplot)T.bg&&T.bg.remove(),T.bg=void 0;else{var re=T.xaxis.domain,F=T.yaxis.domain,O=T.plotgroup;if(k(re,F,j)){var J=O.node(),R=T.bg=l.ensureSingle(O,"rect","bg");J.insertBefore(R.node(),J.childNodes[0]),G.push($)}else O.select("rect.bg").remove(),j.push([re,F]),oe||(le.push($),G.push($))}var ie,fe,ue,he,Me,be,Ae,ze,Pe,Fe,t1,Xe,Ue,xe=X._bgLayer.selectAll(".bg").data(le);for(xe.enter().append("rect").classed("bg",!0),xe.exit().remove(),xe.each(function(Je){X._plots[Je].bg=o.select(this)}),B=0;B<G.length;B++)W=(T=X._plots[G[B]]).xaxis,q=T.yaxis,T.bg&&void 0!==W._offset&&void 0!==q._offset&&T.bg.call(d.setRect,W._offset-ce,q._offset-ce,W._length+2*ce,q._length+2*ce).call(C.fill,X.plot_bgcolor).style("stroke-width",0);if(!X._hasOnlyLargeSploms)for($ in X._plots){W=(T=X._plots[$]).xaxis,q=T.yaxis;var ve,De,Ve=T.clipId="clip"+X._uid+$+"plot",Ye=l.ensureSingleById(X._clips,"clipPath",Ve,function(Je){Je.classed("plotclip",!0).append("rect")});T.clipRect=Ye.select("rect").attr({width:W._length,height:q._length}),d.setTranslate(T.plot,W._offset,q._offset),T._hasClipOnAxisFalse?(ve=null,De=Ve):(ve=Ve,De=null),d.setClipUrl(T.plot,ve,w),T.layerClipId=De}function Oe(Je){return"M"+ie+","+Je+"H"+fe}function Ie(Je){return"M"+W._offset+","+Je+"h"+W._length}function Qe(Je){return"M"+Je+","+ze+"V"+Ae}function n1(Je){return"M"+Je+","+q._offset+"v"+q._length}function Ke(Je,g1,b1){if(!Je.showline||$!==Je._mainSubplot)return"";if(!Je._anchorAxis)return b1(Je._mainLinePosition);var _1=g1(Je._mainLinePosition);return Je.mirror&&(_1+=g1(Je._mainMirrorPosition)),_1}for($ in X._plots){q=(T=X._plots[$]).yaxis;var r1="M0,0";S(W=T.xaxis,$)&&(Me=H(W,"left",q,me),ie=W._offset-(Me?ce+Me:0),be=H(W,"right",q,me),fe=W._offset+W._length+(be?ce+be:0),ue=ae(W,q,"bottom"),he=ae(W,q,"top"),!(Ue=!W._anchorAxis||$!==W._mainSubplot)||"allticks"!==W.mirror&&"all"!==W.mirror||(W._linepositions[$]=[ue,he]),r1=Ke(W,Oe,Ie),Ue&&W.showline&&("all"===W.mirror||"allticks"===W.mirror)&&(r1+=Oe(ue)+Oe(he)),T.xlines.style("stroke-width",W._lw+"px").call(C.stroke,W.showline?W.linecolor:"rgba(0,0,0,0)")),T.xlines.attr("d",r1);var f1="M0,0";S(q,$)&&(t1=H(q,"bottom",W,me),Ae=q._offset+q._length+(t1?ce:0),Xe=H(q,"top",W,me),ze=q._offset-(Xe?ce:0),Pe=ae(q,W,"left"),Fe=ae(q,W,"right"),!(Ue=!q._anchorAxis||$!==q._mainSubplot)||"allticks"!==q.mirror&&"all"!==q.mirror||(q._linepositions[$]=[Pe,Fe]),f1=Ke(q,Qe,n1),Ue&&q.showline&&("all"===q.mirror||"allticks"===q.mirror)&&(f1+=Qe(Pe)+Qe(Fe)),T.ylines.style("stroke-width",q._lw+"px").call(C.stroke,q.showline?q.linecolor:"rgba(0,0,0,0)")),T.ylines.attr("d",f1)}return _.makeClipPaths(w),p.previousPromises(w)}function S(w,B){return(w.ticks||w.showline)&&(B===w._mainSubplot||"all"===w.mirror||"allticks"===w.mirror)}function P(w,B,$){if(!$.showline||!$._lw)return!1;if("all"===$.mirror||"allticks"===$.mirror)return!0;var T=$._anchorAxis;if(!T)return!1;var Y=b.FROM_BL[B];return $.side===B?T.domain[Y]===w.domain[Y]:$.mirror&&T.domain[1-Y]===w.domain[1-Y]}function H(w,B,$,T){if(P(w,B,$))return $._lw;for(var Y=0;Y<T.length;Y++){var W=T[Y];if(W._mainAxis===$._mainAxis&&P(w,B,W))return W._lw}return 0}function E(w,B){var $=w.title,T=w._size,Y=0;return"paper"===("start"===B?Y=$.pad.l:"end"===B&&(Y=-$.pad.r),$.xref)?T.l+T.w*$.x+Y:w.width*$.x+Y}function I(w,B){var $=w.title,T=w._size,Y=0;return"0em"!==B&&B?B===b.CAP_SHIFT+"em"&&(Y=$.pad.t):Y=-$.pad.b,"auto"===$.y?T.t/2:"paper"===$.yref?T.t+T.h-T.h*$.y+Y:w.height-w.height*$.y+Y}te.layoutStyles=function(w){return l.syncOrAsync([p.doAutoMargin,D],w)},te.drawMainTitle=function(w){var W,q,B=w._fullLayout,$=(q="middle",l.isRightAnchor(W=B.title)?q="end":l.isLeftAnchor(W)&&(q="start"),q),T=function(Y){var W=Y.title,q="0em";return l.isTopAnchor(W)?q=b.CAP_SHIFT+"em":l.isMiddleAnchor(W)&&(q=b.MID_SHIFT+"em"),q}(B);h.draw(w,"gtitle",{propContainer:B,propName:"title.text",placeholder:B._dfltTitle.plot,attributes:{x:E(B,$),y:I(B,T),"text-anchor":$,dy:T}})},te.doTraceStyle=function(w){var B,$=w.calcdata,T=[];for(B=0;B<$.length;B++){var Y=$[B],W=Y[0]||{},q=W.trace||{},X=q._module||{},ee=X.arraysToCalcdata;ee&&ee(Y,q);var ce=X.editStyle;ce&&T.push({fn:ce,cd0:W})}if(T.length){for(B=0;B<T.length;B++){var me=T[B];me.fn(w,me.cd0)}c(w),te.redrawReglTraces(w)}return p.style(w),g.getComponentMethod("legend","draw")(w),p.previousPromises(w)},te.doColorBars=function(w){return g.getComponentMethod("colorbar","draw")(w),p.previousPromises(w)},te.layoutReplot=function(w){var B=w.layout;return w.layout=void 0,g.call("_doPlot",w,"",B)},te.doLegend=function(w){return g.getComponentMethod("legend","draw")(w),p.previousPromises(w)},te.doTicksRelayout=function(w){return _.draw(w,"redraw"),w._fullLayout._hasOnlyLargeSploms&&(g.subplotsRegistry.splom.updateGrid(w),c(w),te.redrawReglTraces(w)),te.drawMainTitle(w),p.previousPromises(w)},te.doModeBar=function(w){var B=w._fullLayout;u.manage(w);for(var $=0;$<B._basePlotModules.length;$++){var T=B._basePlotModules[$].updateFx;T&&T(w)}return p.previousPromises(w)},te.doCamera=function(w){for(var B=w._fullLayout,$=B._subplots.gl3d,T=0;T<$.length;T++){var Y=B[$[T]];Y._scene.setViewport(Y)}},te.drawData=function(w){var B=w._fullLayout;c(w);for(var $=B._basePlotModules,T=0;T<$.length;T++)$[T].plot(w);return te.redrawReglTraces(w),p.style(w),g.getComponentMethod("shapes","draw")(w),g.getComponentMethod("annotations","draw")(w),g.getComponentMethod("images","draw")(w),B._replotting=!1,p.previousPromises(w)},te.redrawReglTraces=function(w){var B=w._fullLayout;if(B._has("regl")){var $,T,Y=w._fullData,W=[],q=[];for(B._hasOnlyLargeSploms&&B._splomGrid.draw(),$=0;$<Y.length;$++){var X=Y[$];!0===X.visible&&0!==X._length&&("splom"===X.type?B._splomScenes[X.uid].draw():"scattergl"===X.type?l.pushUnique(W,X.xaxis+X.yaxis):"scatterpolargl"===X.type&&l.pushUnique(q,X.subplot))}for($=0;$<W.length;$++)(T=B._plots[W[$]])._scene&&T._scene.draw();for($=0;$<q.length;$++)(T=B[q[$]]._subplot)._scene&&T._scene.draw()}},te.doAutoRangeAndConstraints=function(w){for(var B,$=_.list(w,"",!0),T={},Y=0;Y<$.length;Y++)if(!T[(B=$[Y])._id]){T[B._id]=1,N(w,B),z(w,B);var W=B._matchGroup;if(W)for(var q in W){var X=_.getFromId(w,q);z(w,X,B.range),T[q]=1}}L(w)},te.finalDraw=function(w){g.getComponentMethod("rangeslider","draw")(w),g.getComponentMethod("rangeselector","draw")(w)},te.drawMarginPushers=function(w){g.getComponentMethod("legend","draw")(w),g.getComponentMethod("rangeselector","draw")(w),g.getComponentMethod("sliders","draw")(w),g.getComponentMethod("updatemenus","draw")(w),g.getComponentMethod("colorbar","draw")(w)}},{"../components/color":102,"../components/drawing":124,"../components/modebar":165,"../components/titles":200,"../constants/alignment":207,"../lib":232,"../lib/clear_gl_canvases":220,"../plots/cartesian/autorange":278,"../plots/cartesian/axes":279,"../plots/cartesian/constraints":287,"../plots/plots":316,"../registry":318,"@plotly/d3":11}],270:[function(m,de,te){"use strict";var o=m("../lib"),g=o.isPlainObject,p=m("./plot_schema"),l=m("../plots/plots"),c=m("../plots/attributes"),C=m("./plot_template"),d=m("./plot_config").dfltConfig;function h(k,D){k=o.extendDeep({},k);var S,P,H=Object.keys(k).sort();function E(T,Y,W){if(g(Y)&&g(T))h(T,Y);else if(Array.isArray(Y)&&Array.isArray(T)){var q=C.arrayTemplater({_template:k},W);for(P=0;P<Y.length;P++){var X=Y[P],ee=q.newItem(X)._template;ee&&h(ee,X)}var ce=q.defaultItems();for(P=0;P<ce.length;P++)Y.push(ce[P]._template);for(P=0;P<Y.length;P++)delete Y[P].templateitemname}}for(S=0;S<H.length;S++){var I=H[S],w=k[I];if(I in D?E(w,D[I],I):D[I]=w,u(I)===I)for(var B in D){var $=u(B);B===$||$!==I||B in k||E(w,D[B],I)}}}function u(k){return k.replace(/[0-9]+$/,"")}function _(k,D,S,P,H){var E=H&&S(H);for(var I in k){var w=k[I],B=L(k,I,P),$=L(k,I,H),T=S($);if(!T){var Y=u(I);Y!==I&&(T=S($=L(k,Y,H)))}if(!(E&&E===T||!T||T._noTemplating||"data_array"===T.valType||T.arrayOk&&Array.isArray(w)))if(!T.valType&&g(w))_(w,D,S,B,$);else if(T._isLinkedToArray&&Array.isArray(w))for(var W=!1,q=0,X={},ee=0;ee<w.length;ee++){var ce=w[ee];if(g(ce)){var me=ce.name;if(me)X[me]||(_(ce,D,S,L(w,q,B),L(w,q,$)),q++,X[me]=1);else if(!W){var ae=L(k,C.arrayDefaultKey(I),P),K=L(w,q,B);_(ce,D,S,K,L(w,q,$));var le=o.nestedProperty(D,K);o.nestedProperty(D,ae).set(le.get()),le.set(null),W=!0}}}else o.nestedProperty(D,B).set(w)}}function b(k,D){return p.getLayoutValObject(k,o.nestedProperty({},D).parts)}function M(k,D){return p.getTraceValObject(k,o.nestedProperty({},D).parts)}function L(k,D,S){return S?Array.isArray(k)?S+"["+D+"]":S+"."+D:D}function N(k){for(var D=0;D<k.length;D++)if(g(k[D]))return!0}function z(k){var D;switch(k.code){case"data":D="The template has no key data.";break;case"layout":D="The template has no key layout.";break;case"missing":D=k.path?"There are no templates for item "+k.path+" with name "+k.templateitemname:"There are no templates for trace "+k.index+", of type "+k.traceType+".";break;case"unused":D=k.path?"The template item at "+k.path+" was not used in constructing the plot.":k.dataCount?"Some of the templates of type "+k.traceType+" were not used. The template has "+k.templateCount+" traces, the data only has "+k.dataCount+" of this type.":"The template has "+k.templateCount+" traces of type "+k.traceType+" but there are none in the data.";break;case"reused":D="Some of the templates of type "+k.traceType+" were used more than once. The template has "+k.templateCount+" traces, the data has "+k.dataCount+" of this type."}return k.msg=D,k}te.makeTemplate=function(k){k=o.isPlainObject(k)?k:o.getGraphDiv(k),k=o.extendDeep({_context:d},{data:k.data,layout:k.layout}),l.supplyDefaults(k);var D=k.data||[],S=k.layout||{};S._basePlotModules=k._fullLayout._basePlotModules,S._modules=k._fullLayout._modules;var P={data:{},layout:{}};D.forEach(function(q){var X={};_(q,X,M.bind(null,q));var ee=o.coerce(q,{},c,"type"),ce=P.data[ee];ce||(ce=P.data[ee]=[]),ce.push(X)}),_(S,P.layout,b.bind(null,S)),delete P.layout.template;var H=S.template;if(g(H)){var E,I,w,B,$,T,Y=H.layout;g(Y)&&h(Y,P.layout);var W=H.data;if(g(W)){for(I in P.data)if(w=W[I],Array.isArray(w)){for(T=($=P.data[I]).length,B=w.length,E=0;E<T;E++)h(w[E%B],$[E]);for(E=T;E<B;E++)$.push(o.extendDeep({},w[E]))}for(I in W)I in P.data||(P.data[I]=o.extendDeep([],W[I]))}}return P},te.validateTemplate=function(k,D){var S=o.extendDeep({},{_context:d,data:k.data,layout:k.layout}),P=S.layout||{};g(D)||(D=P.template||{});var H=D.layout,E=D.data,I=[];S.layout=P,S.layout.template=D,l.supplyDefaults(S);var w=S._fullLayout,B=S._fullData,$={};if(g(H)?(function ce(me,ae){for(var K in me)if("_"!==K.charAt(0)&&g(me[K])){var le,G=u(K),j=[];for(le=0;le<ae.length;le++)j.push(L(me,K,ae[le])),G!==K&&j.push(L(me,G,ae[le]));for(le=0;le<j.length;le++)$[j[le]]=1;ce(me[K],j)}}(w,["layout"]),function ce(me,ae){for(var K in me)if(-1===K.indexOf("defaults")&&g(me[K])){var le=L(me,K,ae);$[le]?ce(me[K],le):I.push({code:"unused",path:le})}}(H,"layout")):I.push({code:"layout"}),g(E)){for(var T,Y={},W=0;W<B.length;W++){var q=B[W];Y[T=q.type]=(Y[T]||0)+1,q._fullInput._template||I.push({code:"missing",index:q._fullInput.index,traceType:T})}for(T in E){var X=E[T].length,ee=Y[T]||0;X>ee?I.push({code:"unused",traceType:T,templateCount:X,dataCount:ee}):ee>X&&I.push({code:"reused",traceType:T,templateCount:X,dataCount:ee})}}else I.push({code:"data"});if(function ce(me,ae){for(var K in me)if("_"!==K.charAt(0)){var le=me[K],G=L(me,K,ae);g(le)?(Array.isArray(me)&&!1===le._template&&le.templateitemname&&I.push({code:"missing",path:G,templateitemname:le.templateitemname}),ce(le,G)):Array.isArray(le)&&N(le)&&ce(le,G)}}({data:B,layout:w},""),I.length)return I.map(z)}},{"../lib":232,"../plots/attributes":275,"../plots/plots":316,"./plot_config":266,"./plot_schema":267,"./plot_template":268}],271:[function(m,de,te){"use strict";var o=m("fast-isnumeric"),g=m("./plot_api"),p=m("../plots/plots"),l=m("../lib"),c=m("../snapshot/helpers"),C=m("../snapshot/tosvg"),d=m("../snapshot/svgtoimg"),h=m("../version").version,u={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};de.exports=function(_,b){var M,L,N,z;function k(ee){return!(ee in b)||l.validate(b[ee],u[ee])}if(b=b||{},l.isPlainObject(_)?(M=_.data||[],L=_.layout||{},N=_.config||{},z={}):(_=l.getGraphDiv(_),M=l.extendDeep([],_.data),L=l.extendDeep({},_.layout),N=_._context,z=_._fullLayout||{}),!k("width")&&null!==b.width||!k("height")&&null!==b.height)throw new Error("Height and width should be pixel values.");if(!k("format"))throw new Error("Export format is not "+l.join2(u.format.values,", "," or ")+".");var D={};function S(ee,ce){return l.coerce(b,D,u,ee,ce)}var P=S("format"),H=S("width"),E=S("height"),I=S("scale"),w=S("setBackground"),B=S("imageDataOnly"),$=document.createElement("div");$.style.position="absolute",$.style.left="-5000px",document.body.appendChild($);var T=l.extendFlat({},L);H?T.width=H:null===b.width&&o(z.width)&&(T.width=z.width),E?T.height=E:null===b.height&&o(z.height)&&(T.height=z.height);var Y=l.extendFlat({},N,{_exportedPlot:!0,staticPlot:!0,setBackground:w}),W=c.getRedrawFunc($);function q(){return new Promise(function(ee){setTimeout(ee,c.getDelay($._fullLayout))})}function X(){return new Promise(function(ee,ce){var me=C($,P,I),ae=$._fullLayout.width,K=$._fullLayout.height;function le(){g.purge($),document.body.removeChild($)}if("full-json"===P){var G=p.graphJson($,!1,"keepdata","object",!0,!0);return G.version=h,G=JSON.stringify(G),le(),ee(B?G:c.encodeJSON(G))}if(le(),"svg"===P)return ee(B?me:c.encodeSVG(me));var j=document.createElement("canvas");j.id=l.randstr(),d({format:P,width:ae,height:K,scale:I,canvas:j,svg:me,promise:!0}).then(ee).catch(ce)})}return new Promise(function(ee,ce){g.newPlot($,M,T,Y).then(W).then(q).then(X).then(function(me){var ae;ee((ae=me,B?ae.replace(c.IMAGE_URL_PREFIX,""):ae))}).catch(function(me){ce(me)})})}},{"../lib":232,"../plots/plots":316,"../snapshot/helpers":322,"../snapshot/svgtoimg":324,"../snapshot/tosvg":326,"../version":391,"./plot_api":265,"fast-isnumeric":17}],272:[function(m,de,te){"use strict";var o=m("../lib"),g=m("../plots/plots"),p=m("./plot_schema"),l=m("./plot_config").dfltConfig,c=o.isPlainObject,C=Array.isArray,d=o.isArrayOrTypedArray;function h(D,S,P,H,E,I){I=I||[];for(var w=Object.keys(D),B=0;B<w.length;B++){var $=w[B];if("transforms"!==$){var T=I.slice();T.push($);var Y=D[$],W=S[$],q=N(P,$),X=(q||{}).valType,ee="info_array"===X,ce="colorscale"===X,me=(q||{}).items;if(L(P,$))if(c(Y)&&c(W)&&"any"!==X)h(Y,W,q,H,E,T);else if(ee&&C(Y)){Y.length>W.length&&H.push(M("unused",E,T.concat(W.length)));var ae,K,G,j,oe=W.length,re=Array.isArray(me);if(re&&(oe=Math.min(oe,me.length)),2===q.dimensions)for(K=0;K<oe;K++)if(C(Y[K])){Y[K].length>W[K].length&&H.push(M("unused",E,T.concat(K,W[K].length)));var F=W[K].length;for(ae=0;ae<(re?Math.min(F,me[K].length):F);ae++)j=W[K][ae],o.validate(G=Y[K][ae],re?me[K][ae]:me)?j!==G&&j!==+G&&H.push(M("dynamic",E,T.concat(K,ae),G,j)):H.push(M("value",E,T.concat(K,ae),G))}else H.push(M("array",E,T.concat(K),Y[K]));else for(K=0;K<oe;K++)j=W[K],o.validate(G=Y[K],re?me[K]:me)?j!==G&&j!==+G&&H.push(M("dynamic",E,T.concat(K),G,j)):H.push(M("value",E,T.concat(K),G))}else if(q.items&&!ee&&C(Y)){var O,J,R=me[Object.keys(me)[0]],ie=[];for(O=0;O<W.length;O++){var fe=W[O]._index||O;if((J=T.slice()).push(fe),c(Y[fe])&&c(W[O])){ie.push(fe);var ue=Y[fe],he=W[O];c(ue)&&!1!==ue.visible&&!1===he.visible?H.push(M("invisible",E,J)):h(ue,he,R,H,E,J)}}for(O=0;O<Y.length;O++)(J=T.slice()).push(O),c(Y[O])?-1===ie.indexOf(O)&&H.push(M("unused",E,J)):H.push(M("object",E,J,Y[O]))}else!c(Y)&&c(W)?H.push(M("object",E,T,Y)):d(Y)||!d(W)||ee||ce?$ in S?o.validate(Y,q)?"enumerated"===q.valType&&(q.coerceNumber&&Y!==+W||Y!==W)&&H.push(M("dynamic",E,T,Y,W)):H.push(M("value",E,T,Y)):H.push(M("unused",E,T,Y)):H.push(M("array",E,T,Y));else H.push(M("schema",E,T))}}return H}function u(D,S){for(var P=D.layout.layoutAttributes,H=0;H<S.length;H++){var E=S[H],I=D.traces[E.type],w=I.layoutAttributes;w&&o.extendFlat(E.subplot?P[I.attributes.subplot.dflt]:P,w)}return P}de.exports=function(D,S){void 0===D&&(D=[]),void 0===S&&(S={});var P,H,E=p.get(),I=[],w={_context:o.extendFlat({},l)};C(D)?(w.data=o.extendDeep([],D),P=D):(w.data=[],P=[],I.push(M("array","data"))),c(S)?(w.layout=o.extendDeep({},S),H=S):(w.layout={},H={},arguments.length>1&&I.push(M("object","layout"))),g.supplyDefaults(w);for(var B=w._fullData,$=P.length,T=0;T<$;T++){var Y=P[T],W=["data",T];if(c(Y)){var q=B[T],X=q.type,ee=E.traces[X].attributes;ee.type={valType:"enumerated",values:[X]},!1===q.visible&&!1!==Y.visible&&I.push(M("invisible",W)),h(Y,q,ee,I,W);var ce=Y.transforms,me=q.transforms;if(ce){C(ce)||I.push(M("array",W,["transforms"])),W.push("transforms");for(var ae=0;ae<ce.length;ae++){var K=["transforms",ae],le=ce[ae].type;if(c(ce[ae])){var G=E.transforms[le]?E.transforms[le].attributes:{};G.type={valType:"enumerated",values:Object.keys(E.transforms)},h(ce[ae],me[ae],G,I,W,K)}else I.push(M("object",W,K))}}}else I.push(M("object",W))}return h(H,w._fullLayout,u(E,B),I,"layout"),0===I.length?void 0:I};var _={object:function(D,S){return("layout"===D&&""===S?"The layout argument":"data"===D[0]&&""===S?"Trace "+D[1]+" in the data argument":b(D)+"key "+S)+" must be linked to an object container"},array:function(D,S){return("data"===D?"The data argument":b(D)+"key "+S)+" must be linked to an array container"},schema:function(D,S){return b(D)+"key "+S+" is not part of the schema"},unused:function(D,S,P){var H=c(P)?"container":"key";return b(D)+H+" "+S+" did not get coerced"},dynamic:function(D,S,P,H){return[b(D)+"key",S,"(set to '"+P+"')","got reset to","'"+H+"'","during defaults."].join(" ")},invisible:function(D,S){return(S?b(D)+"item "+S:"Trace "+D[1])+" got defaulted to be not visible"},value:function(D,S,P){return[b(D)+"key "+S,"is set to an invalid value ("+P+")"].join(" ")}};function b(D){return C(D)?"In data trace "+D[1]+", ":"In "+D+", "}function M(D,S,P,H,E){var I,w;P=P||"",C(S)?(I=S[0],w=S[1]):(I=S,w=null);var B=function(T){if(!C(T))return String(T);for(var Y="",W=0;W<T.length;W++){var q=T[W];"number"==typeof q?Y=Y.substr(0,Y.length-1)+"["+q+"]":Y+=q,W<T.length-1&&(Y+=".")}return Y}(P),$=_[D](S,B,H,E);return o.log($),{code:D,container:I,trace:w,path:P,astr:B,msg:$}}function L(D,S){var P=k(S),H=P.keyMinusId;return!!(H in D&&D[H]._isSubplotObj&&P.id)||S in D}function N(D,S){return S in D?D[S]:D[k(S).keyMinusId]}var z=o.counterRegex("([a-z]+)");function k(D){var S=D.match(z);return{keyMinusId:S&&S[1],id:S&&S[2]}}},{"../lib":232,"../plots/plots":316,"./plot_config":266,"./plot_schema":267}],273:[function(m,de,te){"use strict";de.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},{}],274:[function(m,de,te){"use strict";var o=m("../lib"),g=m("../plot_api/plot_template");de.exports=function(p,l,c){var C,d,h=c.name,u=c.inclusionAttr||"visible",_=l[h],b=o.isArrayOrTypedArray(p[h])?p[h]:[],M=l[h]=[],L=g.arrayTemplater(l,h,u);for(C=0;C<b.length;C++){var N=b[C];o.isPlainObject(N)?d=L.newItem(N):(d=L.newItem({}))[u]=!1,d._index=C,!1!==d[u]&&c.handleItemDefaults(N,d,l,c),M.push(d)}var z=L.defaultItems();for(C=0;C<z.length;C++)(d=z[C])._index=M.length,c.handleItemDefaults({},d,l,c,{}),M.push(d);if(o.isArrayOrTypedArray(_)){var k=Math.min(_.length,M.length);for(C=0;C<k;C++)o.relinkPrivateKeys(M[C],_[C])}return M}},{"../lib":232,"../plot_api/plot_template":268}],275:[function(m,de,te){"use strict";var o=m("./font_attributes"),g=m("../components/fx/attributes");de.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:o({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:g.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},{"../components/fx/attributes":133,"./font_attributes":310}],276:[function(m,de,te){"use strict";var o=m("fast-isnumeric"),g=m("../../lib"),p=g.dateTime2ms,l=g.incrementMonth,c=m("../../constants/numerical").ONEAVGMONTH;de.exports=function(C,d,h,u){if("date"!==d.type)return{vals:u};var _=C[h+"periodalignment"];if(!_)return{vals:u};var b,M=C[h+"period"];if(o(M)){if((M=+M)<=0)return{vals:u}}else if("string"==typeof M&&"M"===M.charAt(0)){var L=+M.substring(1);if(!(L>0&&Math.round(L)===L))return{vals:u};b=L}for(var N=d.calendar,z="start"===_,k="end"===_,S=p(C[h+"period0"],N)||0,P=[],H=[],E=[],I=u.length,w=0;w<I;w++){var B,$,T,Y=u[w];if(b){for(B=Math.round((Y-S)/(b*c)),T=l(S,b*B,N);T>Y;)T=l(T,-b,N);for(;T<=Y;)T=l(T,b,N);$=l(T,-b,N)}else{for(T=S+(B=Math.round((Y-S)/M))*M;T>Y;)T-=M;for(;T<=Y;)T+=M;$=T-M}P[w]=z?$:k?T:($+T)/2,H[w]=$,E[w]=T}return{vals:P,starts:H,ends:E}}},{"../../constants/numerical":212,"../../lib":232,"fast-isnumeric":17}],277:[function(m,de,te){"use strict";de.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},{}],278:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("fast-isnumeric"),p=m("../../lib"),l=m("../../constants/numerical").FP_SAFE,c=m("../../registry"),C=m("../../components/drawing"),d=m("./axis_ids"),h=d.getFromId,u=d.isLinked;function _(H,E){var I,w,B=[],$=H._fullLayout,T=M($,E,0),Y=M($,E,1),W=L(H,E),q=W.min,X=W.max;if(0===q.length||0===X.length)return p.simpleMap(E.range,E.r2l);var ee=q[0].val,ce=X[0].val;for(I=1;I<q.length&&ee===ce;I++)ee=Math.min(ee,q[I].val);for(I=1;I<X.length&&ee===ce;I++)ce=Math.max(ce,X[I].val);var me=!1;if(E.range){var ae=p.simpleMap(E.range,E.r2l);me=ae[1]<ae[0]}"reversed"===E.autorange&&(me=!0,E.autorange=!0);var K,le,G,j,oe,re,F=E.rangemode,O="tozero"===F,J="nonnegative"===F,R=E._length,ie=R/10,fe=0;for(I=0;I<q.length;I++)for(K=q[I],w=0;w<X.length;w++)(re=(le=X[w]).val-K.val-b(E,K.val,le.val))>0&&((oe=R-T(K)-Y(le))>ie?re/oe>fe&&(G=K,j=le,fe=re/oe):re/R>fe&&(G={val:K.val,nopad:1},j={val:le.val,nopad:1},fe=re/R));if(ee===ce){var ue=ee-1,he=ee+1;if(O)if(0===ee)B=[0,1];else{var Me=(ee>0?X:q).reduce(function(Ae,ze){return Math.max(Ae,Y(ze))},0),be=ee/(1-Math.min(.5,Me/R));B=ee>0?[0,be]:[be,0]}else B=J?[Math.max(0,ue),Math.max(1,he)]:[ue,he]}else O?(G.val>=0&&(G={val:0,nopad:1}),j.val<=0&&(j={val:0,nopad:1})):J&&(G.val-fe*T(G)<0&&(G={val:0,nopad:1}),j.val<=0&&(j={val:1,nopad:1})),fe=(j.val-G.val-b(E,K.val,le.val))/(R-T(G)-Y(j)),B=[G.val-fe*T(G),j.val+fe*Y(j)];return me&&B.reverse(),p.simpleMap(B,E.l2r||Number)}function b(H,E,I){var w=0;if(H.rangebreaks)for(var B=H.locateBreaks(E,I),$=0;$<B.length;$++){var T=B[$];w+=T.max-T.min}return w}function M(H,E,I){var w=.05*E._length,B=E._anchorAxis||{};if(-1!==(E.ticklabelposition||"").indexOf("inside")||-1!==(B.ticklabelposition||"").indexOf("inside")){var $="reversed"===E.autorange;if(!$){var T=p.simpleMap(E.range,E.r2l);$=T[1]<T[0]}$&&(I=!I)}var Y=0;return u(H,E._id)||(Y=function(W,q,X){var ee=0,ce="x"===q._id.charAt(0);for(var me in W._plots){var ae=W._plots[me];if(q._id===ae.xaxis._id||q._id===ae.yaxis._id){var K=(ce?ae.yaxis:ae.xaxis)||{};if(-1!==(K.ticklabelposition||"").indexOf("inside")&&(!X&&("left"===K.side||"bottom"===K.side)||X&&("top"===K.side||"right"===K.side))){if(K._vals){var le=p.deg2rad(K._tickAngles[K._id+"tick"]||0),G=Math.abs(Math.cos(le)),j=Math.abs(Math.sin(le));K._vals[0].bb||K._selections[K._id+"tick"].each(function(R){var ie=o.select(this);ie.select(".text-math-group").empty()&&(R.bb=C.bBox(ie.node()))});for(var re=0;re<K._vals.length;re++){var F=K._vals[re].bb;if(F){var O=6+F.width,J=6+F.height;ee=Math.max(ee,ce?Math.max(O*G,J*j):Math.max(J*G,O*j))}}}"inside"===K.ticks&&"inside"===K.ticklabelposition&&(ee+=K.ticklen||0)}}}return ee}(H,E,I)),w=Math.max(Y,w),"domain"===E.constrain&&E._inputDomain&&(w*=(E._inputDomain[1]-E._inputDomain[0])/(E.domain[1]-E.domain[0])),function(W){return W.nopad?0:W.pad+(W.extrapad?w:Y)}}function L(H,E,I){var w,B,$,T=E._id,W=H._fullLayout,q=[],X=[];function ee(le,G){for(w=0;w<G.length;w++){var j=le[G[w]],oe=(j._extremes||{})[T];if(!0===j.visible&&oe){for(B=0;B<oe.min.length;B++)N(q,($=oe.min[B]).val,$.pad,{extrapad:$.extrapad});for(B=0;B<oe.max.length;B++)z(X,($=oe.max[B]).val,$.pad,{extrapad:$.extrapad})}}}if(ee(H._fullData,E._traceIndices),ee(W.annotations||[],E._annIndices||[]),ee(W.shapes||[],E._shapeIndices||[]),E._matchGroup&&!I)for(var ce in E._matchGroup)if(ce!==E._id){var me=h(H,ce),ae=L(H,me,!0),K=E._length/me._length;for(B=0;B<ae.min.length;B++)N(q,($=ae.min[B]).val,$.pad*K,{extrapad:$.extrapad});for(B=0;B<ae.max.length;B++)z(X,($=ae.max[B]).val,$.pad*K,{extrapad:$.extrapad})}return{min:q,max:X}}function N(H,E,I,w){k(H,E,I,w,S)}function z(H,E,I,w){k(H,E,I,w,P)}function k(H,E,I,w,B){for(var $=w.tozero,T=w.extrapad,Y=!0,W=0;W<H.length&&Y;W++){var q=H[W];if(B(q.val,E)&&q.pad>=I&&(q.extrapad||!T)){Y=!1;break}B(E,q.val)&&q.pad<=I&&(T||!q.extrapad)&&(H.splice(W,1),W--)}if(Y){var X=$&&0===E;H.push({val:E,pad:X?0:I,extrapad:!X&&T})}}function D(H){return g(H)&&Math.abs(H)<l}function S(H,E){return H<=E}function P(H,E){return H>=E}de.exports={getAutoRange:_,makePadFn:M,doAutoRange:function(H,E,I){if(E.setScale(),E.autorange){E.range=I?I.slice():_(H,E),E._r=E.range.slice(),E._rl=p.simpleMap(E._r,E.r2l);var w=E._input,B={};B[E._attr+".range"]=E.range,B[E._attr+".autorange"]=E.autorange,c.call("_storeDirectGUIEdit",H.layout,H._fullLayout._preGUI,B),w.range=E.range.slice(),w.autorange=E.autorange}var $=E._anchorAxis;if($&&$.rangeslider){var T=$.rangeslider[E._name];T&&"auto"===T.rangemode&&(T.range=_(H,E)),$._input.rangeslider[E._name]=p.extendFlat({},T)}},findExtremes:function(H,E,I){I||(I={}),H._m||H.setScale();var w,B,$,T,Y,W,q,X,ee,ce=[],me=[],ae=E.length,K=I.padded||!1,le=I.tozero&&("linear"===H.type||"-"===H.type),G="log"===H.type,j=!1,oe=I.vpadLinearized||!1;function re(he){if(Array.isArray(he))return j=!0,function(be){return Math.max(Number(he[be]||0),0)};var Me=Math.max(Number(he||0),0);return function(){return Me}}var F=re((H._m>0?I.ppadplus:I.ppadminus)||I.ppad||0),O=re((H._m>0?I.ppadminus:I.ppadplus)||I.ppad||0),J=re(I.vpadplus||I.vpad),R=re(I.vpadminus||I.vpad);if(!j){if(X=1/0,ee=-1/0,G)for(w=0;w<ae;w++)(B=E[w])<X&&B>0&&(X=B),B>ee&&B<l&&(ee=B);else for(w=0;w<ae;w++)(B=E[w])<X&&B>-l&&(X=B),B>ee&&B<l&&(ee=B);E=[X,ee],ae=2}var ie={tozero:le,extrapad:K};function fe(he){g($=E[he])&&(W=F(he),q=O(he),oe?(T=H.c2l($)-R(he),Y=H.c2l($)+J(he)):(X=$-R(he),ee=$+J(he),G&&X<ee/10&&(X=ee/10),T=H.c2l(X),Y=H.c2l(ee)),le&&(T=Math.min(0,T),Y=Math.max(0,Y)),D(T)&&N(ce,T,q,ie),D(Y)&&z(me,Y,W,ie))}var ue=Math.min(6,ae);for(w=0;w<ue;w++)fe(w);for(w=ae-1;w>=ue;w--)fe(w);return{min:ce,max:me,opts:I}},concatExtremes:L}},{"../../components/drawing":124,"../../constants/numerical":212,"../../lib":232,"../../registry":318,"./axis_ids":283,"@plotly/d3":11,"fast-isnumeric":17}],279:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("fast-isnumeric"),p=m("../../plots/plots"),l=m("../../registry"),c=m("../../lib"),C=c.strTranslate,d=m("../../lib/svg_text_utils"),h=m("../../components/titles"),u=m("../../components/color"),_=m("../../components/drawing"),b=m("./layout_attributes"),M=m("./clean_ticks"),L=m("../../constants/numerical"),N=L.ONEMAXYEAR,z=L.ONEAVGYEAR,k=L.ONEMINYEAR,D=L.ONEMAXQUARTER,S=L.ONEAVGQUARTER,P=L.ONEMINQUARTER,H=L.ONEMAXMONTH,E=L.ONEAVGMONTH,I=L.ONEMINMONTH,w=L.ONEWEEK,B=L.ONEDAY,$=B/2,T=L.ONEHOUR,Y=L.ONEMIN,W=L.ONESEC,q=L.MINUS_SIGN,X=L.BADNUM,ee={K:"zeroline"},ce={K:"gridline",L:"path"},me={K:"minor-gridline",L:"path"},ae={K:"tick",L:"path"},K={K:"tick",L:"text"},le=m("../../constants/alignment"),G=le.MID_SHIFT,j=le.CAP_SHIFT,oe=le.LINE_SPACING,re=le.OPPOSITE_SIDE,F=de.exports={};F.setConvert=m("./set_convert");var O=m("./axis_autotype"),J=m("./axis_ids"),R=J.idSort,ie=J.isLinked;F.id2name=J.id2name,F.name2id=J.name2id,F.cleanId=J.cleanId,F.list=J.list,F.listIds=J.listIds,F.getFromId=J.getFromId,F.getFromTrace=J.getFromTrace;var fe=m("./autorange");function ue(ge){var ye=1e-4*(ge[1]-ge[0]);return[ge[0]-ye,ge[1]+ye]}F.getAutoRange=fe.getAutoRange,F.findExtremes=fe.findExtremes,F.coerceRef=function(ge,ye,je,e1,d1,i1){var l1=e1.charAt(e1.length-1),c1=je._fullLayout._subplots[l1+"axis"],L1=e1+"ref",H1={};return d1||(d1=c1[0]||("string"==typeof i1?i1:i1[0])),i1||(i1=d1),c1=c1.concat(c1.map(function(B1){return B1+" domain"})),H1[L1]={valType:"enumerated",values:c1.concat(i1?"string"==typeof i1?[i1]:i1:[]),dflt:d1},c.coerce(ge,ye,H1,L1)},F.getRefType=function(ge){return void 0===ge?ge:"paper"===ge?"paper":"pixel"===ge?"pixel":/( domain)$/.test(ge)?"domain":"range"},F.coercePosition=function(ge,ye,je,e1,d1,i1){var l1,c1;if("range"!==F.getRefType(e1))l1=c.ensureNumber,c1=je(d1,i1);else{var L1=F.getFromId(ye,e1);c1=je(d1,i1=L1.fraction2r(i1)),l1=L1.cleanPos}ge[d1]=l1(c1)},F.cleanPosition=function(ge,ye,je){return("paper"===je||"pixel"===je?c.ensureNumber:F.getFromId(ye,je).cleanPos)(ge)},F.redrawComponents=function(ge,ye){ye=ye||F.listIds(ge);var je=ge._fullLayout;function e1(d1,i1,l1,c1){for(var L1=l.getComponentMethod(d1,i1),H1={},B1=0;B1<ye.length;B1++)for(var r2=je[F.id2name(ye[B1])][l1],V1=0;V1<r2.length;V1++){var q1=r2[V1];if(!H1[q1]&&(L1(ge,q1),H1[q1]=1,c1))return}}e1("annotations","drawOne","_annIndices"),e1("shapes","drawOne","_shapeIndices"),e1("images","draw","_imgIndices",!0)};var he=F.getDataConversions=function(ge,ye,je,e1){var d1,i1="x"===je||"y"===je||"z"===je?je:e1;if(Array.isArray(i1)){if(d1={type:O(e1,void 0,{autotypenumbers:ge._fullLayout.autotypenumbers}),_categories:[]},F.setConvert(d1),"category"===d1.type)for(var l1=0;l1<e1.length;l1++)d1.d2c(e1[l1])}else d1=F.getFromTrace(ge,ye,i1);return d1?{d2c:d1.d2c,c2d:d1.c2d}:"ids"===i1?{d2c:be,c2d:be}:{d2c:Me,c2d:Me}};function Me(ge){return+ge}function be(ge){return String(ge)}function Ae(ge,ye){return Math.abs((ge/ye+.5)%1-.5)<.001}function ze(ge,ye){return Math.abs(ge/ye-1)<.001}function Pe(ge){return+ge.substring(1)}function Fe(ge){var ye=ue(c.simpleMap(ge.range,ge.r2l)),je=Math.min(ye[0],ye[1]),e1=Math.max(ye[0],ye[1]),d1="category"===ge.type?ge.d2l_noadd:ge.d2l;"log"===ge.type&&"L"!==String(ge.dtick).charAt(0)&&(ge.dtick="L"+Math.pow(10,Math.floor(Math.min(ge.range[0],ge.range[1]))-1));for(var i1=[],l1=0;l1<=1;l1++)if(!l1||ge.minor){var c1=l1?ge.minor.tickvals:ge.tickvals,L1=l1?[]:ge.ticktext;if(c1){Array.isArray(L1)||(L1=[]);for(var H1=0;H1<c1.length;H1++){var B1=d1(c1[H1]);if(B1>je&&B1<e1){var r2=void 0===L1[H1]?F.tickText(ge,B1):Ie(ge,B1,String(L1[H1]));l1&&(r2.minor=!0,r2.text=""),i1.push(r2)}}}}return ge.rangebreaks&&(i1=i1.filter(function(V1){return ge.maskBreaks(V1.x)!==X})),i1}F.getDataToCoordFunc=function(ge,ye,je,e1){return he(ge,ye,je,e1).d2c},F.counterLetter=function(ge){var ye=ge.charAt(0);return"x"===ye?"y":"y"===ye?"x":void 0},F.minDtick=function(ge,ye,je,e1){-1===["log","category","multicategory"].indexOf(ge.type)&&e1?void 0===ge._minDtick?(ge._minDtick=ye,ge._forceTick0=je):ge._minDtick&&((ge._minDtick/ye+1e-6)%1<2e-6&&((je-ge._forceTick0)/ye%1+1.000001)%1<2e-6?(ge._minDtick=ye,ge._forceTick0=je):((ye/ge._minDtick+1e-6)%1>2e-6||((je-ge._forceTick0)/ge._minDtick%1+1.000001)%1>2e-6)&&(ge._minDtick=0)):ge._minDtick=0},F.saveRangeInitial=function(ge,ye){for(var je=F.list(ge,"",!0),e1=!1,d1=0;d1<je.length;d1++){var i1=je[d1],l1=void 0===i1._rangeInitial;(l1&&!1===i1.autorange||ye&&(l1||i1.range[0]!==i1._rangeInitial[0]||i1.range[1]!==i1._rangeInitial[1]))&&(i1._rangeInitial=i1.range.slice(),e1=!0)}return e1},F.saveShowSpikeInitial=function(ge,ye){for(var je=F.list(ge,"",!0),e1=!1,d1="on",i1=0;i1<je.length;i1++){var l1=je[i1],c1=void 0===l1._showSpikeInitial;(c1||ye&&(c1||l1.showspikes!==l1._showspikes))&&(l1._showSpikeInitial=l1.showspikes,e1=!0),"on"!==d1||l1.showspikes||(d1="off")}return ge._fullLayout._cartesianSpikesEnabled=d1,e1},F.autoBin=function(ge,ye,je,e1,d1,i1){var l1,c1=c.aggNums(Math.min,null,ge),L1=c.aggNums(Math.max,null,ge);if("category"===ye.type||"multicategory"===ye.type)return{start:c1-.5,end:L1+.5,size:Math.max(1,Math.round(i1)||1),_dataSpan:L1-c1};if(d1||(d1=ye.calendar),l1="log"===ye.type?{type:"linear",range:[c1,L1]}:{type:ye.type,range:c.simpleMap([c1,L1],ye.c2r,0,d1),calendar:d1},F.setConvert(l1),i1=i1&&M.dtick(i1,l1.type))l1.dtick=i1,l1.tick0=M.tick0(void 0,l1.type,d1);else{var H1;if(je)H1=(L1-c1)/je;else{var B1=c.distinctVals(ge),r2=Math.pow(10,Math.floor(Math.log(B1.minDiff)/Math.LN10)),V1=r2*c.roundUp(B1.minDiff/r2,[.9,1.9,4.9,9.9],!0);H1=Math.max(V1,2*c.stdev(ge)/Math.pow(ge.length,e1?.25:.4)),g(H1)||(H1=1)}F.autoTicks(l1,H1)}var q1,f2=l1.dtick,z1=F.tickIncrement(F.tickFirst(l1),f2,"reverse",d1);if("number"==typeof f2)q1=(z1=function(w1,a2,J1,U1,e2){var R1=0,L2=0,y2=0,w2=0;function F2(Y1){return(1+100*(Y1-w1)/J1.dtick)%100<2}for(var O2=0;O2<a2.length;O2++)a2[O2]%1==0?y2++:g(a2[O2])||w2++,F2(a2[O2])&&R1++,F2(a2[O2]+J1.dtick/2)&&L2++;var S2=a2.length-w2;if(y2===S2&&"date"!==J1.type)J1.dtick<1?w1=U1-.5*J1.dtick:(w1-=.5)+J1.dtick<U1&&(w1+=J1.dtick);else if(L2<.1*S2&&(R1>.3*S2||F2(U1)||F2(e2))){var j1=J1.dtick/2;w1+=w1+j1<U1?j1:-j1}return w1}(z1,ge,l1,c1,L1))+(1+Math.floor((L1-z1)/f2))*f2;else for("M"===l1.dtick.charAt(0)&&(z1=function(w1,a2,J1,U1,e2){var R1=c.findExactDates(a2,e2);if(R1.exactDays>.8){var L2=Number(J1.substr(1));R1.exactYears>.8&&L2%12==0?w1=F.tickIncrement(w1,"M6","reverse")+1.5*B:R1.exactMonths>.8?w1=F.tickIncrement(w1,"M1","reverse")+15.5*B:w1-=$;var y2=F.tickIncrement(w1,J1);if(y2<=U1)return y2}return w1}(z1,ge,f2,c1,d1)),q1=z1;q1<=L1;)q1=F.tickIncrement(q1,f2,!1,d1);return{start:ye.c2r(z1,0,d1),end:ye.c2r(q1,0,d1),size:f2,_dataSpan:L1-c1}},F.prepMinorTicks=function(ge,ye,je){if(!ye.minor.dtick){delete ge.dtick;var e1,d1=ye.dtick&&g(ye._tmin);if(d1){var i1=F.tickIncrement(ye._tmin,ye.dtick,!0);e1=[ye._tmin,.99*i1+.01*ye._tmin]}else{var l1=c.simpleMap(ye.range,ye.r2l);e1=[l1[0],.8*l1[0]+.2*l1[1]]}if(ge.range=c.simpleMap(e1,ye.l2r),ge._isMinor=!0,F.prepTicks(ge,je),d1){var c1=g(ye.dtick),L1=g(ge.dtick),H1=c1?ye.dtick:+ye.dtick.substring(1),B1=L1?ge.dtick:+ge.dtick.substring(1);c1&&L1?Ae(H1,B1)?H1===2*w&&B1===2*B&&(ge.dtick=w):ge.dtick=H1===2*w&&B1===3*B?w:H1!==w||(ye._input.minor||{}).nticks?ze(H1/B1,2.5)?H1/2:H1:B:"M"===String(ye.dtick).charAt(0)?L1?ge.dtick="M1":Ae(H1,B1)?H1>=12&&2===B1&&(ge.dtick="M3"):ge.dtick=ye.dtick:"L"===String(ge.dtick).charAt(0)?"L"===String(ye.dtick).charAt(0)?Ae(H1,B1)||(ge.dtick=ze(H1/B1,2.5)?ye.dtick/2:ye.dtick):ge.dtick="D1":"D2"===ge.dtick&&+ye.dtick>1&&(ge.dtick=1)}ge.range=ye.range}void 0===ye.minor._tick0Init&&(ge.tick0=ye.tick0)},F.prepTicks=function(ge,ye){var je=c.simpleMap(ge.range,ge.r2l,void 0,void 0,ye);if("auto"===ge.tickmode||!ge.dtick){var e1,d1=ge.nticks;d1||("category"===ge.type||"multicategory"===ge.type?(e1=ge.tickfont?c.bigFont(ge.tickfont.size||12):15,d1=ge._length/e1):(e1="y"===ge._id.charAt(0)?40:80,d1=c.constrain(ge._length/e1,4,9)+1),"radialaxis"===ge._name&&(d1*=2)),ge.minor&&"array"!==ge.minor.tickmode||"array"===ge.tickmode&&(d1*=100),ge._roughDTick=Math.abs(je[1]-je[0])/d1,F.autoTicks(ge,ge._roughDTick),ge._minDtick>0&&ge.dtick<2*ge._minDtick&&(ge.dtick=ge._minDtick,ge.tick0=ge.l2r(ge._forceTick0))}"period"===ge.ticklabelmode&&function(i1){var l1;function c1(){return!(g(i1.dtick)||"M"!==i1.dtick.charAt(0))}var L1=c1(),H1=F.getTickFormat(i1);if(H1){var B1=i1._dtickInit!==i1.dtick;/%[fLQsSMX]/.test(H1)||(/%[HI]/.test(H1)?(l1=T,B1&&!L1&&i1.dtick<T&&(i1.dtick=T)):/%p/.test(H1)?(l1=$,B1&&!L1&&i1.dtick<$&&(i1.dtick=$)):/%[Aadejuwx]/.test(H1)?(l1=B,B1&&!L1&&i1.dtick<B&&(i1.dtick=B)):/%[UVW]/.test(H1)?(l1=w,B1&&!L1&&i1.dtick<w&&(i1.dtick=w)):/%[Bbm]/.test(H1)?(l1=E,B1&&(L1?Pe(i1.dtick)<1:i1.dtick<I)&&(i1.dtick="M1")):/%[q]/.test(H1)?(l1=S,B1&&(L1?Pe(i1.dtick)<3:i1.dtick<P)&&(i1.dtick="M3")):/%[Yy]/.test(H1)&&(l1=z,B1&&(L1?Pe(i1.dtick)<12:i1.dtick<k)&&(i1.dtick="M12")))}(L1=c1())&&i1.tick0===i1._dowTick0&&(i1.tick0=i1._rawTick0),i1._definedDelta=l1}(ge),ge.tick0||(ge.tick0="date"===ge.type?"2000-01-01":0),"date"===ge.type&&ge.dtick<.1&&(ge.dtick=.1),Oe(ge)},F.calcTicks=function(ge,ye){for(var je,e1,d1=ge.type,i1=ge.calendar,l1=ge.ticklabelstep,c1="period"===ge.ticklabelmode,L1=c.simpleMap(ge.range,ge.r2l,void 0,void 0,ye),H1=L1[1]<L1[0],B1=Math.min(L1[0],L1[1]),r2=Math.max(L1[0],L1[1]),V1=Math.max(1e3,ge._length||0),q1=[],f2=[],z1=[],w1=[],a2=ge.minor&&(ge.minor.ticks||ge.minor.showgrid),J1=1;J1>=(a2?0:1);J1--){var U1=!J1;J1?(ge._dtickInit=ge.dtick,ge._tick0Init=ge.tick0):(ge.minor._dtickInit=ge.minor.dtick,ge.minor._tick0Init=ge.minor.tick0);var e2=J1?ge:c.extendFlat({},ge,ge.minor);if(U1?F.prepMinorTicks(e2,ge,ye):F.prepTicks(e2,ye),"array"!==e2.tickmode){var R1=ue(L1),L2=R1[0],y2=R1[1],w2=g(e2.dtick),F2="log"===d1&&!(w2||"L"===e2.dtick.charAt(0)),O2=F.tickFirst(e2,ye);if(J1){if(ge._tmin=O2,O2<L2!==H1)break;"category"!==d1&&"multicategory"!==d1||(y2=H1?Math.max(-.5,y2):Math.min(ge._categories.length-.5,y2))}var S2,j1,Y1=null,t2=O2;J1&&(w2?j1=ge.dtick:"date"===d1?"string"==typeof ge.dtick&&"M"===ge.dtick.charAt(0)&&(j1=E*ge.dtick.substring(1)):j1=ge._roughDTick,S2=Math.round((ge.r2l(t2)-ge.r2l(ge.tick0))/j1)-1);var d2=e2.dtick;for(e2.rangebreaks&&e2._tick0Init!==e2.tick0&&(t2=G1(t2,ge),H1||(t2=F.tickIncrement(t2,d2,!H1,i1))),J1&&c1&&(t2=F.tickIncrement(t2,d2,!H1,i1),S2--);H1?t2>=y2:t2<=y2;t2=F.tickIncrement(t2,d2,H1,i1)){if(J1&&S2++,e2.rangebreaks&&!H1){if(t2<L2)continue;if(e2.maskBreaks(t2)===X&&G1(t2,e2)>=r2)break}if(z1.length>V1||t2===Y1)break;Y1=t2;var s2={value:t2};J1?(F2&&t2!==(0|t2)&&(s2.simpleLabel=!0),l1>1&&S2%l1&&(s2.skipLabel=!0),z1.push(s2)):(s2.minor=!0,w1.push(s2))}}else J1?(z1=[],q1=Fe(ge)):(w1=[],f2=Fe(ge))}if(a2&&!("inside"===ge.minor.ticks&&"outside"===ge.ticks||"outside"===ge.minor.ticks&&"inside"===ge.ticks)){for(var C2=z1.map(function(yt){return yt.value}),G2=[],Q2=0;Q2<w1.length;Q2++){var A2=w1[Q2],z2=A2.value;if(-1===C2.indexOf(z2)){for(var dt=!1,pt=0;!dt&&pt<z1.length;pt++)1e7+z1[pt].value===1e7+z2&&(dt=!0);dt||G2.push(A2)}}w1=G2}if(c1&&function(yt,et,R2){for(var g2=0;g2<yt.length;g2++){var _t=yt[g2].value,hn=g2,Ut=g2+1;g2<yt.length-1?(hn=g2,Ut=g2+1):g2>0?(hn=g2-1,Ut=g2):(hn=g2,Ut=g2);var jt,pn=Math.abs(yt[Ut].value-yt[hn].value),bn=R2||pn,Nt=0;bn>=k?Nt=pn>=k&&pn<=N?pn:z:R2===S&&bn>=P?Nt=pn>=P&&pn<=D?pn:S:bn>=I?Nt=pn>=I&&pn<=H?pn:E:R2===w&&bn>=w?Nt=w:bn>=B?Nt=B:R2===$&&bn>=$?Nt=$:R2===T&&bn>=T&&(Nt=T),Nt>=pn&&(Nt=pn,jt=!0);var Kt=_t+Nt;if(et.rangebreaks&&Nt>0){for(var S3=0,er=0;er<84;er++){var mr=(er+.5)/84;et.maskBreaks(_t*(1-mr)+mr*Kt)!==X&&S3++}(Nt*=S3/84)||(yt[g2].drop=!0),jt&&pn>w&&(Nt=pn)}(Nt>0||0===g2)&&(yt[g2].periodX=_t+Nt/2)}}(z1,ge,ge._definedDelta),ge.rangebreaks){var B2="y"===ge._id.charAt(0),Y2=1;"auto"===ge.tickmode&&(Y2=ge.tickfont?ge.tickfont.size:12);var P2=NaN;for(je=z1.length-1;je>-1;je--)if(z1[je].drop)z1.splice(je,1);else{z1[je].value=G1(z1[je].value,ge);var mt=ge.c2p(z1[je].value);(B2?P2>mt-Y2:P2<mt+Y2)?z1.splice(H1?je+1:je,1):P2=mt}}l2(ge)&&360===Math.abs(L1[1]-L1[0])&&z1.pop(),ge._tmax=(z1[z1.length-1]||{}).value,ge._prevDateHead="",ge._inCalcTicks=!0;var N2,vt,ht=function(yt){yt.text="",ge._prevDateHead=e1};for(z1=z1.concat(w1),je=0;je<z1.length;je++){var ut=z1[je].value;z1[je].minor?f2.push({x:ut,minor:!0}):(e1=ge._prevDateHead,N2=F.tickText(ge,ut,!1,z1[je].simpleLabel),void 0!==(vt=z1[je].periodX)&&(N2.periodX=vt,(vt>r2||vt<B1)&&(vt>r2&&(N2.periodX=r2),vt<B1&&(N2.periodX=B1),ht(N2))),z1[je].skipLabel&&ht(N2),q1.push(N2))}return q1=q1.concat(f2),ge._inCalcTicks=!1,c1&&q1.length&&(q1[0].noTick=!0),q1};var t1=[2,5,10],Xe=[1,2,3,6,12],Ue=[1,2,5,10,15,30],xe=[1,2,3,7,14],ve=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],De=[-.301,0,.301,.699,1],Ve=[15,30,45,90,180];function Ye(ge,ye,je){return ye*c.roundUp(ge/ye,je)}function Oe(ge){var ye=ge.dtick;if(ge._tickexponent=0,g(ye)||"string"==typeof ye||(ye=1),"category"!==ge.type&&"multicategory"!==ge.type||(ge._tickround=null),"date"===ge.type){var je=ge.r2l(ge.tick0),e1=ge.l2r(je).replace(/(^-|i)/g,""),d1=e1.length;if("M"===String(ye).charAt(0))ge._tickround=d1>10||"01-01"!==e1.substr(5)?"d":+ye.substr(1)%12==0?"y":"m";else if(ye>=B&&d1<=10||ye>=15*B)ge._tickround="d";else if(ye>=Y&&d1<=16||ye>=T)ge._tickround="M";else if(ye>=W&&d1<=19||ye>=Y)ge._tickround="S";else{var i1=ge.l2r(je+ye).replace(/^-/,"").length;ge._tickround=Math.max(d1,i1)-20,ge._tickround<0&&(ge._tickround=4)}}else if(g(ye)||"L"===ye.charAt(0)){var l1=ge.range.map(ge.r2d||Number);g(ye)||(ye=Number(ye.substr(1))),ge._tickround=2-Math.floor(Math.log(ye)/Math.LN10+.01);var c1=Math.max(Math.abs(l1[0]),Math.abs(l1[1])),L1=Math.floor(Math.log(c1)/Math.LN10+.01),H1=void 0===ge.minexponent?3:ge.minexponent;Math.abs(L1)>H1&&(ge._tickexponent=n1(ge.exponentformat)&&!Ke(L1)?3*Math.round((L1-1)/3):L1)}else ge._tickround=null}function Ie(ge,ye,je){var e1=ge.tickfont||{};return{x:ye,dx:0,dy:0,text:je||"",fontSize:e1.size,font:e1.family,fontColor:e1.color}}F.autoTicks=function(ge,ye,je){var e1;function d1(r2){return Math.pow(r2,Math.floor(Math.log(ye)/Math.LN10))}if("date"===ge.type){ge.tick0=c.dateTick0(ge.calendar,0);var i1=2*ye;if(i1>z)ye/=z,e1=d1(10),ge.dtick="M"+12*Ye(ye,e1,t1);else if(i1>E)ge.dtick="M"+Ye(ye/=E,1,Xe);else if(i1>B){if(ge.dtick=Ye(ye,B,ge._hasDayOfWeekBreaks?[1,2,7,14]:xe),!je){var l1=F.getTickFormat(ge),c1="period"===ge.ticklabelmode;c1&&(ge._rawTick0=ge.tick0),ge.tick0=/%[uVW]/.test(l1)?c.dateTick0(ge.calendar,2):c.dateTick0(ge.calendar,1),c1&&(ge._dowTick0=ge.tick0)}}else i1>T?ge.dtick=Ye(ye,T,Xe):i1>Y?ge.dtick=Ye(ye,Y,Ue):i1>W?ge.dtick=Ye(ye,W,Ue):(e1=d1(10),ge.dtick=Ye(ye,e1,t1))}else if("log"===ge.type){ge.tick0=0;var L1=c.simpleMap(ge.range,ge.r2l);if(ge._isMinor&&(ye*=1.5),ye>.7)ge.dtick=Math.ceil(ye);else if(Math.abs(L1[1]-L1[0])<1){var H1=1.5*Math.abs((L1[1]-L1[0])/ye);ye=Math.abs(Math.pow(10,L1[1])-Math.pow(10,L1[0]))/H1,e1=d1(10),ge.dtick="L"+Ye(ye,e1,t1)}else ge.dtick=ye>.3?"D2":"D1"}else"category"===ge.type||"multicategory"===ge.type?(ge.tick0=0,ge.dtick=Math.ceil(Math.max(ye,1))):l2(ge)?(ge.tick0=0,ge.dtick=Ye(ye,e1=1,Ve)):(ge.tick0=0,e1=d1(10),ge.dtick=Ye(ye,e1,t1));if(0===ge.dtick&&(ge.dtick=1),!g(ge.dtick)&&"string"!=typeof ge.dtick){var B1=ge.dtick;throw ge.dtick=1,"ax.dtick error: "+String(B1)}},F.tickIncrement=function(ge,ye,je,e1){var d1=je?-1:1;if(g(ye))return c.increment(ge,d1*ye);var i1=ye.charAt(0),l1=d1*Number(ye.substr(1));if("M"===i1)return c.incrementMonth(ge,l1,e1);if("L"===i1)return Math.log(Math.pow(10,ge)+l1)/Math.LN10;if("D"===i1){var c1="D2"===ye?De:ve,L1=ge+.01*d1,H1=c.roundUp(c.mod(L1,1),c1,je);return Math.floor(L1)+Math.log(o.round(Math.pow(10,H1),1))/Math.LN10}throw"unrecognized dtick "+String(ye)},F.tickFirst=function(ge,ye){var je=ge.r2l||Number,e1=c.simpleMap(ge.range,je,void 0,void 0,ye),d1=e1[1]<e1[0],i1=d1?Math.floor:Math.ceil,l1=ue(e1)[0],c1=ge.dtick,L1=je(ge.tick0);if(g(c1)){var H1=i1((l1-L1)/c1)*c1+L1;return"category"!==ge.type&&"multicategory"!==ge.type||(H1=c.constrain(H1,0,ge._categories.length-1)),H1}var B1=c1.charAt(0),r2=Number(c1.substr(1));if("M"===B1){for(var V1,q1,f2,z1=0,w1=L1;z1<10;){if(((V1=F.tickIncrement(w1,c1,d1,ge.calendar))-l1)*(w1-l1)<=0)return d1?Math.min(w1,V1):Math.max(w1,V1);q1=(l1-(w1+V1)/2)/(V1-w1),f2=B1+(Math.abs(Math.round(q1))||1)*r2,w1=F.tickIncrement(w1,f2,q1<0?!d1:d1,ge.calendar),z1++}return c.error("tickFirst did not converge",ge),w1}if("L"===B1)return Math.log(i1((Math.pow(10,l1)-L1)/r2)*r2+L1)/Math.LN10;if("D"===B1){var a2="D2"===c1?De:ve,J1=c.roundUp(c.mod(l1,1),a2,d1);return Math.floor(l1)+Math.log(o.round(Math.pow(10,J1),1))/Math.LN10}throw"unrecognized dtick "+String(c1)},F.tickText=function(ge,ye,je,e1){var d1,i1=Ie(ge,ye),l1="array"===ge.tickmode,c1=je||l1,L1=ge.type,H1="category"===L1?ge.d2l_noadd:ge.d2l;if(l1&&Array.isArray(ge.ticktext)){var B1=c.simpleMap(ge.range,ge.r2l),r2=(Math.abs(B1[1]-B1[0])-(ge._lBreaks||0))/1e4;for(d1=0;d1<ge.ticktext.length&&!(Math.abs(ye-H1(ge.tickvals[d1]))<r2);d1++);if(d1<ge.ticktext.length)return i1.text=String(ge.ticktext[d1]),i1}function V1(z1){return void 0===z1||(je?"none"===z1:"all"!==z1&&ye!=={first:ge._tmin,last:ge._tmax}[z1])}var w1,a2,q1=je?"never":"none"!==ge.exponentformat&&V1(ge.showexponent)?"hide":"";if("date"===L1?function(z1,w1,a2,J1){var U1=z1._tickround,e2=a2&&z1.hoverformat||F.getTickFormat(z1);J1&&(U1=g(U1)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[U1]);var R1,L2=c.formatDate(w1.x,e2,U1,z1._dateFormat,z1.calendar,z1._extraFormat),y2=L2.indexOf("\n");if(-1!==y2&&(R1=L2.substr(y2+1),L2=L2.substr(0,y2)),J1&&("00:00:00"===L2||"00:00"===L2?(L2=R1,R1=""):8===L2.length&&(L2=L2.replace(/:00$/,""))),R1)if(a2)"d"===U1?L2+=", "+R1:L2=R1+(L2?", "+L2:"");else if(z1._inCalcTicks&&z1._prevDateHead===R1){var w2=K1(z1),F2=z1._trueSide||z1.side;(!w2&&"top"===F2||w2&&"bottom"===F2)&&(L2+="<br> ")}else z1._prevDateHead=R1,L2+="<br>"+R1;w1.text=L2}(ge,i1,je,c1):"log"===L1?function(z1,w1,a2,J1,U1){var e2=z1.dtick,R1=w1.x,L2=z1.tickformat,y2="string"==typeof e2&&e2.charAt(0);if("never"===U1&&(U1=""),J1&&"L"!==y2&&(e2="L3",y2="L"),L2||"L"===y2)w1.text=r1(Math.pow(10,R1),z1,U1,J1);else if(g(e2)||"D"===y2&&c.mod(R1+.01,1)<.1){var w2=Math.round(R1),F2=Math.abs(w2),O2=z1.exponentformat;"power"===O2||n1(O2)&&Ke(w2)?(w1.text=0===w2?1:1===w2?"10":"10<sup>"+(w2>1?"":q)+F2+"</sup>",w1.fontSize*=1.25):("e"===O2||"E"===O2)&&F2>2?w1.text="1"+O2+(w2>0?"+":q)+F2:(w1.text=r1(Math.pow(10,R1),z1,"","fakehover"),"D1"===e2&&"y"===z1._id.charAt(0)&&(w1.dy-=w1.fontSize/6))}else{if("D"!==y2)throw"unrecognized dtick "+String(e2);w1.text=String(Math.round(Math.pow(10,c.mod(R1,1)))),w1.fontSize*=.75}if("D1"===z1.dtick){var S2=String(w1.text).charAt(0);"0"!==S2&&"1"!==S2||("y"===z1._id.charAt(0)?w1.dx-=w1.fontSize/4:(w1.dy+=w1.fontSize/2,w1.dx+=(z1.range[1]>z1.range[0]?1:-1)*w1.fontSize*(R1<0?.5:.25)))}}(ge,i1,0,c1,q1):"category"===L1?(w1=i1,void 0===(a2=ge._categories[Math.round(w1.x)])&&(a2=""),w1.text=String(a2)):"multicategory"===L1?function(z1,w1,a2){var J1=Math.round(w1.x),U1=z1._categories[J1]||[],e2=void 0===U1[1]?"":String(U1[1]),R1=void 0===U1[0]?"":String(U1[0]);a2?w1.text=R1+" - "+e2:(w1.text=e2,w1.text2=R1)}(ge,i1,je):l2(ge)?function(z1,w1,a2,J1,U1){if("radians"!==z1.thetaunit||a2)w1.text=r1(w1.x,z1,U1,J1);else{var e2=w1.x/180;if(0===e2)w1.text="0";else{var R1=function(y2){function w2(j1,Y1){return Math.abs(j1-Y1)<=1e-6}var F2=function(j1){for(var Y1=1;!w2(Math.round(j1*Y1)/Y1,j1);)Y1*=10;return Y1}(y2),O2=y2*F2,S2=Math.abs(function j1(Y1,t2){return w2(t2,0)?Y1:j1(t2,Y1%t2)}(O2,F2));return[Math.round(O2/S2),Math.round(F2/S2)]}(e2);if(R1[1]>=100)w1.text=r1(c.deg2rad(w1.x),z1,U1,J1);else{var L2=w1.x<0;w1.text=1===R1[1]?1===R1[0]?"\u03c0":R1[0]+"\u03c0":["<sup>",R1[0],"</sup>","\u2044","<sub>",R1[1],"</sub>","\u03c0"].join(""),L2&&(w1.text=q+w1.text)}}}}(ge,i1,je,c1,q1):function(z1,w1,a2,J1,U1){"never"===U1?U1="":"all"===z1.showexponent&&Math.abs(w1.x/z1.dtick)<1e-6&&(U1="hide"),w1.text=r1(w1.x,z1,U1,J1)}(ge,i1,0,c1,q1),e1||(ge.tickprefix&&!V1(ge.showtickprefix)&&(i1.text=ge.tickprefix+i1.text),ge.ticksuffix&&!V1(ge.showticksuffix)&&(i1.text+=ge.ticksuffix)),"boundaries"===ge.tickson||ge.showdividers){var f2=function(z1){var w1=ge.l2p(z1);return w1>=0&&w1<=ge._length?z1:null};i1.xbnd=[f2(i1.x-.5),f2(i1.x+ge.dtick-.5)]}return i1},F.hoverLabelText=function(ge,ye,je){je&&(ge=c.extendFlat({},ge,{hoverformat:je}));var e1=Array.isArray(ye)?ye[0]:ye,d1=Array.isArray(ye)?ye[1]:void 0;if(void 0!==d1&&d1!==e1)return F.hoverLabelText(ge,e1,je)+" - "+F.hoverLabelText(ge,d1,je);var i1="log"===ge.type&&e1<=0,l1=F.tickText(ge,ge.c2l(i1?-e1:e1),"hover").text;return i1?0===e1?"0":q+l1:l1};var Qe=["f","p","n","\u03bc","m","","k","M","G","T"];function n1(ge){return"SI"===ge||"B"===ge}function Ke(ge){return ge>14||ge<-15}function r1(ge,ye,je,e1){var d1=ge<0,i1=ye._tickround,l1=je||ye.exponentformat||"B",c1=ye._tickexponent,L1=F.getTickFormat(ye),H1=ye.separatethousands;if(e1){var B1={exponentformat:l1,minexponent:ye.minexponent,dtick:"none"===ye.showexponent?ye.dtick:g(ge)&&Math.abs(ge)||1,range:"none"===ye.showexponent?ye.range.map(ye.r2d):[0,ge||1]};Oe(B1),i1=(Number(B1._tickround)||0)+4,c1=B1._tickexponent,ye.hoverformat&&(L1=ye.hoverformat)}if(L1)return ye._numFormat(L1)(ge).replace(/-/g,q);var r2,V1=Math.pow(10,-i1)/2;if("none"===l1&&(c1=0),(ge=Math.abs(ge))<V1)ge="0",d1=!1;else{if(ge+=V1,c1&&(ge*=Math.pow(10,-c1),i1+=c1),0===i1)ge=String(Math.floor(ge));else if(i1<0){ge=(ge=String(Math.round(ge))).substr(0,ge.length+i1);for(var q1=i1;q1<0;q1++)ge+="0"}else{var f2=(ge=String(ge)).indexOf(".")+1;f2&&(ge=ge.substr(0,f2+i1).replace(/\.?0+$/,""))}ge=c.numSeparate(ge,ye._separators,H1)}return c1&&"hide"!==l1&&(n1(l1)&&Ke(c1)&&(l1="power"),r2=c1<0?q+-c1:"power"!==l1?"+"+c1:String(c1),"e"===l1||"E"===l1?ge+=l1+r2:"power"===l1?ge+="\xd710<sup>"+r2+"</sup>":"B"===l1&&9===c1?ge+="B":n1(l1)&&(ge+=Qe[c1/3+5])),d1?q+ge:ge}function f1(ge,ye){for(var je=[],e1={},d1=0;d1<ye.length;d1++){var i1=ye[d1];e1[i1.text2]?e1[i1.text2].push(i1.x):e1[i1.text2]=[i1.x]}for(var l1 in e1)je.push(Ie(ge,c.interp(e1[l1],.5),l1));return je}function Je(ge){return void 0!==ge.periodX?ge.periodX:ge.x}function g1(ge){return[ge.text,ge.x,ge.axInfo,ge.font,ge.fontSize,ge.fontColor].join("_")}function b1(ge){var ye=ge.title.font.size,je=(ge.title.text.match(d.BR_TAG_ALL)||[]).length;return ge.title.hasOwnProperty("standoff")?je?ye*(j+je*oe):ye*j:je?ye*(je+1)*oe:ye}function _1(ge,ye){var je=ge.l2p(ye);return je>1&&je<ge._length-1}function I1(ge){var ye=o.select(ge),je=ye.select(".text-math-group");return je.empty()?ye.select("text"):je}function M1(ge){return ge._id+".automargin"}function Re(ge){return M1(ge)+".mirror"}function Be(ge){return ge._id+".rangeslider"}function C1(ge,ye){for(var je=0;je<ye.length;je++)-1===ge.indexOf(ye[je])&&ge.push(ye[je])}function O1(ge,ye,je){var e1,d1,i1=[],l1=[],c1=ge.layout;for(e1=0;e1<ye.length;e1++)i1.push(F.getFromId(ge,ye[e1]));for(e1=0;e1<je.length;e1++)l1.push(F.getFromId(ge,je[e1]));var L1=Object.keys(b),H1=["anchor","domain","overlaying","position","side","tickangle","editType"],B1=["linear","log"];for(e1=0;e1<L1.length;e1++){var r2=L1[e1],V1=i1[0][r2],q1=l1[0][r2],f2=!0,z1=!1,w1=!1;if("_"!==r2.charAt(0)&&"function"!=typeof V1&&-1===H1.indexOf(r2)){for(d1=1;d1<i1.length&&f2;d1++){var a2=i1[d1][r2];"type"===r2&&-1!==B1.indexOf(V1)&&-1!==B1.indexOf(a2)&&V1!==a2?z1=!0:a2!==V1&&(f2=!1)}for(d1=1;d1<l1.length&&f2;d1++){var J1=l1[d1][r2];"type"===r2&&-1!==B1.indexOf(q1)&&-1!==B1.indexOf(J1)&&q1!==J1?w1=!0:l1[d1][r2]!==q1&&(f2=!1)}f2&&(z1&&(c1[i1[0]._name].type="linear"),w1&&(c1[l1[0]._name].type="linear"),Q1(c1,r2,i1,l1,ge._fullLayout._dfltTitle))}}for(e1=0;e1<ge._fullLayout.annotations.length;e1++){var U1=ge._fullLayout.annotations[e1];-1!==ye.indexOf(U1.xref)&&-1!==je.indexOf(U1.yref)&&c.swapAttrs(c1.annotations[e1],["?"])}}function Q1(ge,ye,je,e1,d1){var i1,l1=c.nestedProperty,c1=l1(ge[je[0]._name],ye).get(),L1=l1(ge[e1[0]._name],ye).get();for("title"===ye&&(c1&&c1.text===d1.x&&(c1.text=d1.y),L1&&L1.text===d1.y&&(L1.text=d1.x)),i1=0;i1<je.length;i1++)l1(ge,je[i1]._name+"."+ye).set(L1);for(i1=0;i1<e1.length;i1++)l1(ge,e1[i1]._name+"."+ye).set(c1)}function l2(ge){return"angularaxis"===ge._id}function G1(ge,ye){for(var je=ye._rangebreaks.length,e1=0;e1<je;e1++){var d1=ye._rangebreaks[e1];if(ge>=d1.min&&ge<d1.max)return d1.max}return ge}function K1(ge){return-1!==(ge.ticklabelposition||"").indexOf("inside")}function N1(ge,ye){K1(ge._anchorAxis||{})&&ge._hideCounterAxisInsideTickLabels&&ge._hideCounterAxisInsideTickLabels(ye)}F.getTickFormat=function(ge){var ye,je,e1,d1,i1,l1,c1,L1,V1,q1,f2,z1,w1,a2;function H1(V1){return"string"!=typeof V1?V1:Number(V1.replace("M",""))*E}function B1(V1,q1){var f2=["L","D"];if(typeof V1==typeof q1){if("number"==typeof V1)return V1-q1;var z1=f2.indexOf(V1.charAt(0)),w1=f2.indexOf(q1.charAt(0));return z1===w1?Number(V1.replace(/(L|D)/g,""))-Number(q1.replace(/(L|D)/g,"")):z1-w1}return"number"==typeof V1?1:-1}if(ge.tickformatstops&&ge.tickformatstops.length>0)switch(ge.type){case"date":case"linear":for(ye=0;ye<ge.tickformatstops.length;ye++)if((e1=ge.tickformatstops[ye]).enabled&&(d1=ge.dtick,l1=void 0,void 0,void 0,l1=H1||function(V1){return V1},L1=(i1=e1.dtickrange)[1],(!(c1=i1[0])&&"number"!=typeof c1||l1(c1)<=l1(d1))&&(!L1&&"number"!=typeof L1||l1(L1)>=l1(d1)))){je=e1;break}break;case"log":for(ye=0;ye<ge.tickformatstops.length;ye++)if((e1=ge.tickformatstops[ye]).enabled&&(f2=void 0,z1=void 0,w1=void 0,a2=void 0,f2=null===(q1=e1.dtickrange)[0],z1=null===q1[1],w1=B1(V1=ge.dtick,q1[0])>=0,a2=B1(V1,q1[1])<=0,(f2||w1)&&(z1||a2))){je=e1;break}}return je?je.value:ge.tickformat},F.getSubplots=function(ge,ye){var je=ge._fullLayout._subplots,e1=je.cartesian.concat(je.gl2d||[]),d1=ye?F.findSubplotsWithAxis(e1,ye):e1;return d1.sort(function(i1,l1){var c1=i1.substr(1).split("y"),L1=l1.substr(1).split("y");return c1[0]===L1[0]?+c1[1]-+L1[1]:+c1[0]-+L1[0]}),d1},F.findSubplotsWithAxis=function(ge,ye){for(var je=new RegExp("x"===ye._id.charAt(0)?"^"+ye._id+"y":ye._id+"$"),e1=[],d1=0;d1<ge.length;d1++){var i1=ge[d1];je.test(i1)&&e1.push(i1)}return e1},F.makeClipPaths=function(ge){var ye=ge._fullLayout;if(!ye._hasOnlyLargeSploms){var je,e1,d1={_offset:0,_length:ye.width,_id:""},i1={_offset:0,_length:ye.height,_id:""},l1=F.list(ge,"x",!0),c1=F.list(ge,"y",!0),L1=[];for(je=0;je<l1.length;je++)for(L1.push({x:l1[je],y:i1}),e1=0;e1<c1.length;e1++)0===je&&L1.push({x:d1,y:c1[e1]}),L1.push({x:l1[je],y:c1[e1]});var H1=ye._clips.selectAll(".axesclip").data(L1,function(B1){return B1.x._id+B1.y._id});H1.enter().append("clipPath").classed("axesclip",!0).attr("id",function(B1){return"clip"+ye._uid+B1.x._id+B1.y._id}).append("rect"),H1.exit().remove(),H1.each(function(B1){o.select(this).select("rect").attr({x:B1.x._offset||0,y:B1.y._offset||0,width:B1.x._length||1,height:B1.y._length||1})})}},F.draw=function(ge,ye,je){var e1=ge._fullLayout;"redraw"===ye&&e1._paper.selectAll("g.subplot").each(function(i1){var c1=e1._plots[i1[0]];if(c1){var L1=c1.xaxis,H1=c1.yaxis;c1.xaxislayer.selectAll("."+L1._id+"tick").remove(),c1.yaxislayer.selectAll("."+H1._id+"tick").remove(),c1.xaxislayer.selectAll("."+L1._id+"tick2").remove(),c1.yaxislayer.selectAll("."+H1._id+"tick2").remove(),c1.xaxislayer.selectAll("."+L1._id+"divider").remove(),c1.yaxislayer.selectAll("."+H1._id+"divider").remove(),c1.minorGridlayer&&c1.minorGridlayer.selectAll("path").remove(),c1.gridlayer&&c1.gridlayer.selectAll("path").remove(),c1.zerolinelayer&&c1.zerolinelayer.selectAll("path").remove(),e1._infolayer.select(".g-"+L1._id+"title").remove(),e1._infolayer.select(".g-"+H1._id+"title").remove()}});var d1=ye&&"redraw"!==ye?ye:F.listIds(ge);return c.syncOrAsync(d1.map(function(i1){return function(){if(i1){var l1=F.getFromId(ge,i1),c1=F.drawOne(ge,l1,je);return l1._r=l1.range.slice(),l1._rl=c.simpleMap(l1._r,l1.r2l),c1}}}))},F.drawOne=function(ge,ye,je){var e1,d1,i1;je=je||{},ye.setScale();var l1=ge._fullLayout,c1=ye._id,L1=c1.charAt(0),H1=F.counterLetter(c1),B1=l1._plots[ye._mainSubplot];if(B1){var r2=B1[L1+"axislayer"],V1=ye._mainLinePosition,q1=ye._mainMirrorPosition,f2=ye._vals=F.calcTicks(ye),z1=[ye.mirror,V1,q1].join("_");for(e1=0;e1<f2.length;e1++)f2[e1].axInfo=z1;ye._selections={},ye._tickAngles&&(ye._prevTickAngles=ye._tickAngles),ye._tickAngles={},ye._depth=null;var w1={};if(ye.visible){var a2,J1,U1=F.makeTransTickFn(ye),e2=F.makeTransTickLabelFn(ye),R1="inside"===ye.ticks,L2="outside"===ye.ticks;if("boundaries"===ye.tickson){var y2=function(R2,g2){var _t,hn=[],Ut=function(jt,an){var Sn=jt.xbnd[an];null!==Sn&&hn.push(c.extendFlat({},jt,{x:Sn}))};if(g2.length){for(_t=0;_t<g2.length;_t++)Ut(g2[_t],0);Ut(g2[_t-1],1)}return hn}(0,f2);J1=F.clipEnds(ye,y2),a2=R1?J1:y2}else J1=F.clipEnds(ye,f2),a2=R1&&"period"!==ye.ticklabelmode?J1:f2;var w2,F2=ye._gridVals=J1,O2=function(R2,g2){var _t,hn,Ut=[],jt=g2.length&&g2[g2.length-1].x<g2[0].x,an=function(pn,bn){var Nt=pn.xbnd[bn];null!==Nt&&Ut.push(c.extendFlat({},pn,{x:Nt}))};if(R2.showdividers&&g2.length){for(_t=0;_t<g2.length;_t++){var Sn=g2[_t];Sn.text2!==hn&&an(Sn,jt?1:0),hn=Sn.text2}an(g2[_t-1],jt?0:1)}return Ut}(ye,f2);if(!l1._hasOnlyLargeSploms){var S2=ye._subplotsWith,j1={};for(e1=0;e1<S2.length;e1++){var Y1=(i1=l1._plots[d1=S2[e1]])[H1+"axis"],t2=Y1._mainAxis._id;if(!j1[t2]){j1[t2]=1;var d2="x"===L1?"M0,"+Y1._offset+"v"+Y1._length:"M"+Y1._offset+",0h"+Y1._length;F.drawGrid(ge,ye,{vals:F2,counterAxis:Y1,layer:i1.gridlayer.select("."+c1),minorLayer:i1.minorGridlayer.select("."+c1),path:d2,transFn:U1}),F.drawZeroLine(ge,ye,{counterAxis:Y1,layer:i1.zerolinelayer,path:d2,transFn:U1})}}}var s2=F.getTickSigns(ye),C2=F.getTickSigns(ye,"minor");if(ye.ticks||ye.minor&&ye.minor.ticks){var G2,Q2,A2,z2,dt=F.makeTickPath(ye,V1,s2[2]),pt=F.makeTickPath(ye,V1,C2[2],{minor:!0});if(ye._anchorAxis&&ye.mirror&&!0!==ye.mirror?(G2=F.makeTickPath(ye,q1,s2[3]),Q2=F.makeTickPath(ye,q1,C2[3],{minor:!0}),A2=dt+G2,z2=pt+Q2):(G2="",Q2="",A2=dt,z2=pt),ye.showdividers&&L2&&"boundaries"===ye.tickson){var B2={};for(e1=0;e1<O2.length;e1++)B2[O2[e1].x]=1;w2=function(R2){return B2[R2.x]?G2:A2}}else w2=function(R2){return R2.minor?z2:A2}}if(F.drawTicks(ge,ye,{vals:a2,layer:r2,path:w2,transFn:U1}),"allticks"===ye.mirror){var Y2=Object.keys(ye._linepositions||{});for(e1=0;e1<Y2.length;e1++){i1=l1._plots[d1=Y2[e1]];var P2=ye._linepositions[d1]||[],N2=P2[1],vt=P2[2],ht=F.makeTickPath(ye,P2[0],vt?s2[0]:C2[0],{minor:vt})+F.makeTickPath(ye,N2,vt?s2[1]:C2[1],{minor:vt});F.drawTicks(ge,ye,{vals:a2,layer:i1[L1+"axislayer"],path:ht,transFn:U1})}}var E2=[];if(E2.push(function(){return F.drawLabels(ge,ye,{vals:f2,layer:r2,plotinfo:i1,transFn:e2,labelFns:F.makeLabelFns(ye,V1)})}),"multicategory"===ye.type){var ut={x:2,y:10}[L1];E2.push(function(){var R2={x:"height",y:"width"}[L1],g2=et()[R2]+ut+(ye._tickAngles[c1+"tick"]?ye.tickfont.size*oe:0);return F.drawLabels(ge,ye,{vals:f1(ye,f2),layer:r2,cls:c1+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:U1,labelFns:F.makeLabelFns(ye,V1+g2*s2[4])})}),E2.push(function(){return ye._depth=s2[4]*(et("tick2")[ye.side]-V1),R2=ge,g2=ye,Ut=(_t={vals:O2,layer:r2,path:F.makeTickPath(ye,V1,s2[4],{len:ye._depth}),transFn:U1}).vals,(jt=_t.layer.selectAll("path."+(hn=g2._id+"divider")).data(Ut,g1)).exit().remove(),jt.enter().insert("path",":first-child").classed(hn,1).classed("crisp",1).call(u.stroke,g2.dividercolor).style("stroke-width",_.crispRound(R2,g2.dividerwidth,1)+"px"),void jt.attr("transform",_t.transFn).attr("d",_t.path);var R2,g2,_t,hn,Ut,jt})}else ye.title.hasOwnProperty("standoff")&&E2.push(function(){ye._depth=s2[4]*(et()[ye.side]-V1)});var yt=l.getComponentMethod("rangeslider","isVisible")(ye);return E2.push(function(){var R2,g2,_t,hn,Ut=ye.side.charAt(0),jt=re[ye.side].charAt(0),an=F.getPxPosition(ge,ye),Sn=L2?ye.ticklen:0;if((ye.automargin||yt)&&("multicategory"===ye.type?R2=et("tick2"):(R2=et(),"x"===L1&&"b"===Ut&&(ye._depth=Math.max(R2.width>0?R2.bottom-an:0,Sn)))),ye.automargin){g2={x:0,y:0,r:0,l:0,t:0,b:0};var pn=[0,1];if("x"===L1){if("b"===Ut?g2[Ut]=ye._depth:(g2[Ut]=ye._depth=Math.max(R2.width>0?an-R2.top:0,Sn),pn.reverse()),R2.width>0){var bn=R2.right-(ye._offset+ye._length);bn>0&&(g2.xr=1,g2.r=bn);var Nt=ye._offset-R2.left;Nt>0&&(g2.xl=0,g2.l=Nt)}}else if("l"===Ut?g2[Ut]=ye._depth=Math.max(R2.height>0?an-R2.left:0,Sn):(g2[Ut]=ye._depth=Math.max(R2.height>0?R2.right-an:0,Sn),pn.reverse()),R2.height>0){var Kt=R2.bottom-(ye._offset+ye._length);Kt>0&&(g2.yb=0,g2.b=Kt);var S3=ye._offset-R2.top;S3>0&&(g2.yt=1,g2.t=S3)}g2[H1]="free"===ye.anchor?ye.position:ye._anchorAxis.domain[pn[0]],ye.title.text!==l1._dfltTitle[L1]&&(g2[Ut]+=b1(ye)+(ye.title.standoff||0)),ye.mirror&&"free"!==ye.anchor&&((_t={x:0,y:0,r:0,l:0,t:0,b:0})[jt]=ye.linewidth,ye.mirror&&!0!==ye.mirror&&(_t[jt]+=Sn),!0===ye.mirror||"ticks"===ye.mirror?_t[H1]=ye._anchorAxis.domain[pn[1]]:"all"!==ye.mirror&&"allticks"!==ye.mirror||(_t[H1]=[ye._counterDomainMin,ye._counterDomainMax][pn[1]]))}yt&&(hn=l.getComponentMethod("rangeslider","autoMarginOpts")(ge,ye)),p.autoMargin(ge,M1(ye),g2),p.autoMargin(ge,Re(ye),_t),p.autoMargin(ge,Be(ye),hn)}),je.skipTitle||yt&&"bottom"===ye.side||E2.push(function(){return function(R2,g2){var _t,hn=R2._fullLayout,Ut=g2._id,jt=Ut.charAt(0),an=g2.title.font.size;if(g2.title.hasOwnProperty("standoff"))_t=g2._depth+g2.title.standoff+b1(g2);else{var Sn=K1(g2);if("multicategory"===g2.type)_t=g2._depth;else{var pn=1.5*an;Sn&&(pn=.5*an,"outside"===g2.ticks&&(pn+=g2.ticklen)),_t=10+pn+(g2.linewidth?g2.linewidth-1:0)}Sn||(_t+="x"===jt?"top"===g2.side?an*(g2.showticklabels?1:0):an*(g2.showticklabels?1.5:.5):"right"===g2.side?an*(g2.showticklabels?1:.5):an*(g2.showticklabels?.5:0))}var bn,Nt,Kt,S3,er=F.getPxPosition(R2,g2);if("x"===jt?(Nt=g2._offset+g2._length/2,Kt="top"===g2.side?er-_t:er+_t):(Kt=g2._offset+g2._length/2,Nt="right"===g2.side?er+_t:er-_t,bn={rotate:"-90",offset:0}),"multicategory"!==g2.type){var mr=g2._selections[g2._id+"tick"];if(S3={selection:mr,side:g2.side},mr&&mr.node()&&mr.node().parentNode){var ot=_.getTranslate(mr.node().parentNode);S3.offsetLeft=ot.x,S3.offsetTop=ot.y}g2.title.hasOwnProperty("standoff")&&(S3.pad=0)}return h.draw(R2,Ut+"title",{propContainer:g2,propName:g2._name+".title.text",placeholder:hn._dfltTitle[jt],avoid:S3,transform:bn,attributes:{x:Nt,y:Kt,"text-anchor":"middle"}})}(ge,ye)}),c.syncOrAsync(E2)}}function et(R2){var _t,hn,Ut,jt,an,Sn,g2=c1+(R2||"tick");return w1[g2]||(w1[g2]=((_t=ye)._selections[hn=g2].size()?(Ut=1/0,jt=-1/0,an=1/0,Sn=-1/0,_t._selections[hn].each(function(){var pn=I1(this),bn=_.bBox(pn.node().parentNode);Ut=Math.min(Ut,bn.top),jt=Math.max(jt,bn.bottom),an=Math.min(an,bn.left),Sn=Math.max(Sn,bn.right)})):(Ut=0,jt=0,an=0,Sn=0),{top:Ut,bottom:jt,left:an,right:Sn,height:jt-Ut,width:Sn-an})),w1[g2]}},F.getTickSigns=function(ge,ye){var je=ge._id.charAt(0),d1=ge.side==={x:"top",y:"right"}[je]?1:-1,i1=[-1,1,d1,-d1];return"inside"!==(ye?(ge.minor||{}).ticks:ge.ticks)==("x"===je)&&(i1=i1.map(function(l1){return-l1})),ge.side&&i1.push({l:-1,t:-1,r:1,b:1}[ge.side.charAt(0)]),i1},F.makeTransTickFn=function(ge){return"x"===ge._id.charAt(0)?function(ye){return C(ge._offset+ge.l2p(ye.x),0)}:function(ye){return C(0,ge._offset+ge.l2p(ye.x))}},F.makeTransTickLabelFn=function(ge){var ye=function(d1){var i1=d1.ticklabelposition||"",l1=function(a2){return-1!==i1.indexOf(a2)},c1=l1("top"),L1=l1("left"),H1=l1("right"),B1=l1("bottom"),r2=l1("inside"),V1=B1||L1||c1||H1;if(!V1&&!r2)return[0,0];var q1=d1.side,f2=V1?(d1.tickwidth||0)/2:0,z1=3,w1=d1.tickfont?d1.tickfont.size:12;return(B1||c1)&&(f2+=w1*j,z1+=(d1.linewidth||0)/2),(L1||H1)&&(f2+=(d1.linewidth||0)/2,z1+=3),r2&&"top"===q1&&(z1-=w1*(1-j)),(L1||c1)&&(f2=-f2),"bottom"!==q1&&"right"!==q1||(z1=-z1),[V1?f2:0,r2?z1:0]}(ge),je=ye[0],e1=ye[1];return"x"===ge._id.charAt(0)?function(d1){return C(je+ge._offset+ge.l2p(Je(d1)),e1)}:function(d1){return C(e1,je+ge._offset+ge.l2p(Je(d1)))}},F.makeTickPath=function(ge,ye,je,e1){e1||(e1={});var d1=e1.minor;if(d1&&!ge.minor)return"";var i1=void 0!==e1.len?e1.len:d1?ge.minor.ticklen:ge.ticklen,l1=ge._id.charAt(0),c1=(ge.linewidth||1)/2;return"x"===l1?"M0,"+(ye+c1*je)+"v"+i1*je:"M"+(ye+c1*je)+",0h"+i1*je},F.makeLabelFns=function(ge,ye,je){var e1=ge.ticklabelposition||"",d1=function(S2){return-1!==e1.indexOf(S2)},i1=d1("top"),l1=d1("left"),c1=d1("right"),L1=d1("bottom")||l1||i1||c1,H1=d1("inside"),B1="inside"===e1&&"inside"===ge.ticks||!H1&&"outside"===ge.ticks&&"boundaries"!==ge.tickson,r2=0,V1=0,q1=B1?ge.ticklen:0;if(H1?q1*=-1:L1&&(q1=0),B1&&(r2+=q1,je)){var f2=c.deg2rad(je);r2=q1*Math.cos(f2)+1,V1=q1*Math.sin(f2)}ge.showticklabels&&(B1||ge.showline)&&(r2+=.2*ge.tickfont.size);var z1,w1,a2,J1,U1,e2={labelStandoff:r2+=(ge.linewidth||1)/2*(H1?-1:1),labelShift:V1},R1=0,L2=ge.side,y2=ge._id.charAt(0),w2=ge.tickangle;if("x"===y2)J1=(U1=!H1&&"bottom"===L2||H1&&"top"===L2)?1:-1,H1&&(J1*=-1),z1=V1*J1,w1=ye+r2*J1,a2=U1?1:-.2,90===Math.abs(w2)&&(H1?a2+=G:a2=-90===w2&&"bottom"===L2?j:90===w2&&"top"===L2?G:.5,R1=G/2*(w2/90)),e2.xFn=function(S2){return S2.dx+z1+R1*S2.fontSize},e2.yFn=function(S2){return S2.dy+w1+S2.fontSize*a2},e2.anchorFn=function(S2,j1){if(L1){if(l1)return"end";if(c1)return"start"}return g(j1)&&0!==j1&&180!==j1?j1*J1<0!==H1?"end":"start":"middle"},e2.heightFn=function(S2,j1,Y1){return j1<-60||j1>60?-.5*Y1:"top"===ge.side!==H1?-Y1:0};else if("y"===y2){if(J1=(U1=!H1&&"left"===L2||H1&&"right"===L2)?1:-1,H1&&(J1*=-1),z1=r2,w1=V1*J1,a2=0,H1||90!==Math.abs(w2)||(a2=-90===w2&&"left"===L2||90===w2&&"right"===L2?j:.5),H1){var F2=g(w2)?+w2:0;if(0!==F2){var O2=c.deg2rad(F2);R1=Math.abs(Math.sin(O2))*j*J1,a2=0}}e2.xFn=function(S2){return S2.dx+ye-(z1+S2.fontSize*a2)*J1+R1*S2.fontSize},e2.yFn=function(S2){return S2.dy+w1+S2.fontSize*G},e2.anchorFn=function(S2,j1){return g(j1)&&90===Math.abs(j1)?"middle":U1?"end":"start"},e2.heightFn=function(S2,j1,Y1){return"right"===ge.side&&(j1*=-1),j1<-30?-Y1:j1<30?-.5*Y1:0}}return e2},F.drawTicks=function(ge,ye,je){je=je||{};var e1=ye._id+"tick",d1=[].concat(ye.minor&&ye.minor.ticks?je.vals.filter(function(l1){return l1.minor&&!l1.noTick}):[]).concat(ye.ticks?je.vals.filter(function(l1){return!l1.minor&&!l1.noTick}):[]),i1=je.layer.selectAll("path."+e1).data(d1,g1);i1.exit().remove(),i1.enter().append("path").classed(e1,1).classed("ticks",1).classed("crisp",!1!==je.crisp).each(function(l1){return u.stroke(o.select(this),l1.minor?ye.minor.tickcolor:ye.tickcolor)}).style("stroke-width",function(l1){return _.crispRound(ge,l1.minor?ye.minor.tickwidth:ye.tickwidth,1)+"px"}).attr("d",je.path).style("display",null),N1(ye,[ae]),i1.attr("transform",je.transFn)},F.drawGrid=function(ge,ye,je){je=je||{};var e1=ye._id+"grid",d1=ye.minor&&ye.minor.showgrid,i1=d1?je.vals.filter(function(a2){return a2.minor}):[],l1=ye.showgrid?je.vals.filter(function(a2){return!a2.minor}):[],c1=je.counterAxis;if(c1&&F.shouldShowZeroLine(ge,ye,c1))for(var L1="array"===ye.tickmode,H1=0;H1<l1.length;H1++){var B1=l1[H1].x;if(L1?!B1:Math.abs(B1)<ye.dtick/100){if(l1=l1.slice(0,H1).concat(l1.slice(H1+1)),!L1)break;H1--}}ye._gw=_.crispRound(ge,ye.gridwidth,1);for(var r2=d1?_.crispRound(ge,ye.minor.gridwidth,1):0,V1=je.layer,q1=je.minorLayer,f2=1;f2>=0;f2--){var z1=f2?V1:q1;if(z1){var w1=z1.selectAll("path."+e1).data(f2?l1:i1,g1);w1.exit().remove(),w1.enter().append("path").classed(e1,1).classed("crisp",!1!==je.crisp),w1.attr("transform",je.transFn).attr("d",je.path).each(function(a2){return u.stroke(o.select(this),a2.minor?ye.minor.gridcolor:ye.gridcolor||"#ddd")}).style("stroke-dasharray",function(a2){return _.dashStyle(a2.minor?ye.minor.griddash:ye.griddash,a2.minor?ye.minor.gridwidth:ye.gridwidth)}).style("stroke-width",function(a2){return(a2.minor?r2:ye._gw)+"px"}).style("display",null),"function"==typeof je.path&&w1.attr("d",je.path)}}N1(ye,[ce,me])},F.drawZeroLine=function(ge,ye,je){var e1=ye._id+"zl",d1=F.shouldShowZeroLine(ge,ye,(je=je||je).counterAxis),i1=je.layer.selectAll("path."+e1).data(d1?[{x:0,id:ye._id}]:[]);i1.exit().remove(),i1.enter().append("path").classed(e1,1).classed("zl",1).classed("crisp",!1!==je.crisp).each(function(){je.layer.selectAll("path").sort(function(l1,c1){return R(l1.id,c1.id)})}),i1.attr("transform",je.transFn).attr("d",je.path).call(u.stroke,ye.zerolinecolor||u.defaultLine).style("stroke-width",_.crispRound(ge,ye.zerolinewidth,ye._gw||1)+"px").style("display",null),N1(ye,[ee])},F.drawLabels=function(ge,ye,je){je=je||{};var e1=ge._fullLayout,d1=ye._id,i1=d1.charAt(0),l1=je.cls||d1+"tick",c1=je.vals.filter(function(J1){return J1.text}),L1=je.labelFns,H1=je.secondary?0:ye.tickangle,B1=(ye._prevTickAngles||{})[l1],r2=je.layer.selectAll("g."+l1).data(ye.showticklabels?c1:[],g1),V1=[];function q1(J1,U1){J1.each(function(e2){var R1=o.select(this),L2=R1.select(".text-math-group"),y2=L1.anchorFn(e2,U1),w2=je.transFn.call(R1.node(),e2)+(g(U1)&&0!=+U1?" rotate("+U1+","+L1.xFn(e2)+","+(L1.yFn(e2)-e2.fontSize/2)+")":""),F2=d.lineCount(R1),O2=oe*e2.fontSize,S2=L1.heightFn(e2,g(U1)?+U1:0,(F2-1)*O2);if(S2&&(w2+=C(0,S2)),L2.empty()){var j1=R1.select("text");j1.attr({transform:w2,"text-anchor":y2}),j1.style("opacity",1),ye._adjustTickLabelsOverflow&&ye._adjustTickLabelsOverflow()}else{var Y1=_.bBox(L2.node()).width*{end:-.5,start:.5}[y2];L2.attr("transform",w2+C(Y1,0))}})}r2.enter().append("g").classed(l1,1).append("text").attr("text-anchor","middle").each(function(J1){var U1=o.select(this),e2=ge._promises.length;U1.call(d.positionText,L1.xFn(J1),L1.yFn(J1)).call(_.font,J1.font,J1.fontSize,J1.fontColor).text(J1.text).call(d.convertToTspans,ge),ge._promises[e2]?V1.push(ge._promises.pop().then(function(){q1(U1,H1)})):q1(U1,H1)}),N1(ye,[K]),r2.exit().remove(),je.repositionOnUpdate&&r2.each(function(J1){o.select(this).select("text").call(d.positionText,L1.xFn(J1),L1.yFn(J1))}),ye._adjustTickLabelsOverflow=function(){var J1=ye.ticklabeloverflow;if(J1&&"allow"!==J1){var U1=-1!==J1.indexOf("hide"),e2="x"===ye._id.charAt(0),R1=0,L2=e2?ge._fullLayout.width:ge._fullLayout.height;if(-1!==J1.indexOf("domain")){var y2=c.simpleMap(ye.range,ye.r2l);R1=ye.l2p(y2[0])+ye._offset,L2=ye.l2p(y2[1])+ye._offset}var w2=Math.min(R1,L2),F2=Math.max(R1,L2),O2=ye.side,S2=1/0,j1=-1/0;for(var Y1 in r2.each(function(s2){var C2=o.select(this);if(C2.select(".text-math-group").empty()){var G2=_.bBox(C2.node()),Q2=0;e2?(G2.right>F2||G2.left<w2)&&(Q2=1):(G2.bottom>F2||G2.top+(ye.tickangle?0:s2.fontSize/4)<w2)&&(Q2=1);var A2=C2.select("text");Q2?U1&&A2.style("opacity",0):(A2.style("opacity",1),S2="bottom"===O2||"right"===O2?Math.min(S2,e2?G2.top:G2.left):-1/0,j1="top"===O2||"left"===O2?Math.max(j1,e2?G2.bottom:G2.right):1/0)}}),e1._plots){var t2=e1._plots[Y1];if(ye._id===t2.xaxis._id||ye._id===t2.yaxis._id){var d2=e2?t2.yaxis:t2.xaxis;d2&&(d2["_visibleLabelMin_"+ye._id]=S2,d2["_visibleLabelMax_"+ye._id]=j1)}}}},ye._hideCounterAxisInsideTickLabels=function(J1){var U1="x"===ye._id.charAt(0),e2=[];for(var R1 in e1._plots){var L2=e1._plots[R1];ye._id!==L2.xaxis._id&&ye._id!==L2.yaxis._id||e2.push(U1?L2.yaxis:L2.xaxis)}e2.forEach(function(y2,w2){y2&&K1(y2)&&(J1||[ee,me,ce,ae,K]).forEach(function(F2){var O2="tick"===F2.K&&"text"===F2.L&&"period"===ye.ticklabelmode,S2=e1._plots[ye._mainSubplot];(F2.K===ee.K?S2.zerolinelayer.selectAll("."+ye._id+"zl"):F2.K===me.K?S2.minorGridlayer.selectAll("."+ye._id):F2.K===ce.K?S2.gridlayer.selectAll("."+ye._id):S2[ye._id.charAt(0)+"axislayer"]).each(function(){var j1=o.select(this);F2.L&&(j1=j1.selectAll(F2.L)),j1.each(function(Y1){var t2=ye.l2p(O2?Je(Y1):Y1.x)+ye._offset,d2=o.select(this);t2<ye["_visibleLabelMax_"+y2._id]&&t2>ye["_visibleLabelMin_"+y2._id]?d2.style("display","none"):"tick"!==F2.K||w2||d2.style("display",null)})})})})},q1(r2,B1+1?B1:H1);var f2=null;ye._selections&&(ye._selections[l1]=r2);var z1=[function(){return V1.length&&Promise.all(V1)}];ye.automargin&&e1._redrawFromAutoMarginCount&&90===B1?(f2=90,z1.push(function(){q1(r2,B1)})):z1.push(function(){if(q1(r2,H1),c1.length&&"x"===i1&&!g(H1)&&("log"!==ye.type||"D"!==String(ye.dtick).charAt(0))){f2=0;var J1,U1=0,e2=[];if(r2.each(function(C2){U1=Math.max(U1,C2.fontSize);var G2=ye.l2p(C2.x),Q2=I1(this),A2=_.bBox(Q2.node());e2.push({top:0,bottom:10,height:10,left:G2-A2.width/2,right:G2+A2.width/2+2,width:A2.width+2})}),"boundaries"!==ye.tickson&&!ye.showdividers||je.secondary){var R1=c1.length,L2=Math.abs((c1[R1-1].x-c1[0].x)*ye._m)/(R1-1),y2=ye.ticklabelposition||"",w2=function(C2){return-1!==y2.indexOf(C2)},F2=w2("top"),O2=w2("left"),S2=w2("right"),j1=w2("bottom")||O2||F2||S2?(ye.tickwidth||0)+6:0,Y1=L2<2.5*U1||"multicategory"===ye.type||"realaxis"===ye._name;for(J1=0;J1<e2.length-1;J1++)if(c.bBoxIntersect(e2[J1],e2[J1+1],j1)){f2=Y1?90:30;break}}else{var t2=2;for(ye.ticks&&(t2+=ye.tickwidth/2),J1=0;J1<e2.length;J1++){var d2=c1[J1].xbnd,s2=e2[J1];if(null!==d2[0]&&s2.left-ye.l2p(d2[0])<t2||null!==d2[1]&&ye.l2p(d2[1])-s2.right<t2){f2=90;break}}}f2&&q1(r2,f2)}}),ye._tickAngles&&z1.push(function(){ye._tickAngles[l1]=null===f2?g(H1)?H1:0:f2});var w1=ye._anchorAxis;w1&&w1.autorange&&K1(ye)&&!ie(e1,ye._id)&&(e1._insideTickLabelsAutorange||(e1._insideTickLabelsAutorange={}),e1._insideTickLabelsAutorange[w1._name+".autorange"]=w1.autorange,z1.push(function(){r2.each(function(J1,U1){var e2=I1(this);e2.select(".text-math-group").empty()&&(ye._vals[U1].bb=_.bBox(e2.node()))})}));var a2=c.syncOrAsync(z1);return a2&&a2.then&&ge._promises.push(a2),a2},F.getPxPosition=function(ge,ye){var je,e1=ge._fullLayout._size,d1=ye._id.charAt(0),i1=ye.side;return"free"!==ye.anchor?je=ye._anchorAxis:"x"===d1?je={_offset:e1.t+(1-(ye.position||0))*e1.h,_length:0}:"y"===d1&&(je={_offset:e1.l+(ye.position||0)*e1.w,_length:0}),"top"===i1||"left"===i1?je._offset:"bottom"===i1||"right"===i1?je._offset+je._length:void 0},F.shouldShowZeroLine=function(ge,ye,je){var e1=c.simpleMap(ye.range,ye.r2l);return e1[0]*e1[1]<=0&&ye.zeroline&&("linear"===ye.type||"-"===ye.type)&&!(ye.rangebreaks&&ye.maskBreaks(0)===X)&&(_1(ye,0)||!function(d1,i1,l1,c1){var L1=l1._mainAxis;if(L1){var H1=d1._fullLayout,B1=i1._id.charAt(0),r2=F.counterLetter(i1._id),V1=i1._offset+(Math.abs(c1[0])<Math.abs(c1[1])==("x"===B1)?0:i1._length),f2=H1._plots[l1._mainSubplot];if(!(f2.mainplotinfo||f2).overlays.length)return q1(l1);for(var z1=F.list(d1,r2),w1=0;w1<z1.length;w1++){var a2=z1[w1];if(a2._mainAxis===L1&&q1(a2))return!0}}function q1(J1){if(!J1.showline||!J1.linewidth)return!1;var U1=Math.max((J1.linewidth+i1.zerolinewidth)/2,1);function e2(y2){return"number"==typeof y2&&Math.abs(y2-V1)<U1}if(e2(J1._mainLinePosition)||e2(J1._mainMirrorPosition))return!0;var R1=J1._linepositions||{};for(var L2 in R1)if(e2(R1[L2][0])||e2(R1[L2][1]))return!0}}(ge,ye,je,e1)||function(d1,i1){for(var l1=d1._fullData,c1=i1._mainSubplot,L1=i1._id.charAt(0),H1=0;H1<l1.length;H1++){var B1=l1[H1];if(!0===B1.visible&&B1.xaxis+B1.yaxis===c1&&(l.traceIs(B1,"bar-like")&&B1.orientation==={x:"h",y:"v"}[L1]||B1.fill&&B1.fill.charAt(B1.fill.length-1)===L1))return!0}return!1}(ge,ye))},F.clipEnds=function(ge,ye){return ye.filter(function(je){return _1(ge,je.x)})},F.allowAutoMargin=function(ge){for(var ye=F.list(ge,"",!0),je=0;je<ye.length;je++){var e1=ye[je];e1.automargin&&(p.allowAutoMargin(ge,M1(e1)),e1.mirror&&p.allowAutoMargin(ge,Re(e1))),l.getComponentMethod("rangeslider","isVisible")(e1)&&p.allowAutoMargin(ge,Be(e1))}},F.swap=function(ge,ye){for(var je=function(d1,i1){var l1,c1,L1=[];for(l1=0;l1<i1.length;l1++){var H1=[],B1=d1._fullData[i1[l1]].xaxis,r2=d1._fullData[i1[l1]].yaxis;if(B1&&r2){for(c1=0;c1<L1.length;c1++)-1===L1[c1].x.indexOf(B1)&&-1===L1[c1].y.indexOf(r2)||H1.push(c1);if(H1.length){var V1,q1=L1[H1[0]];if(H1.length>1)for(c1=1;c1<H1.length;c1++)C1(q1.x,(V1=L1[H1[c1]]).x),C1(q1.y,V1.y);C1(q1.x,[B1]),C1(q1.y,[r2])}else L1.push({x:[B1],y:[r2]})}}return L1}(ge,ye),e1=0;e1<je.length;e1++)O1(ge,je[e1].x,je[e1].y)}},{"../../components/color":102,"../../components/drawing":124,"../../components/titles":200,"../../constants/alignment":207,"../../constants/numerical":212,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../../registry":318,"./autorange":278,"./axis_autotype":280,"./axis_ids":283,"./clean_ticks":285,"./layout_attributes":294,"./set_convert":301,"@plotly/d3":11,"fast-isnumeric":17}],280:[function(m,de,te){"use strict";var o=m("fast-isnumeric"),g=m("../../lib"),p=m("../../constants/numerical").BADNUM,l=g.isArrayOrTypedArray,c=g.isDateTime,C=g.cleanNumber,d=Math.round;function h(_,b){return b?o(_):"number"==typeof _}function u(_){return Math.max(1,(_-1)/1e3)}de.exports=function(_,b,M){var P,L=_,N=M.noMultiCategory;if(l(L)&&!L.length)return"-";if(!N&&l((P=L)[0])&&l(P[1]))return"multicategory";if(N&&Array.isArray(L[0])){for(var z=[],k=0;k<L.length;k++)if(l(L[k]))for(var D=0;D<L[k].length;D++)z.push(L[k][D]);L=z}if(function(P,H){for(var E=P.length,I=u(E),w=0,B=0,$={},T=0;T<E;T+=I){var W=P[d(T)],q=String(W);$[q]||($[q]=1,c(W,H)&&w++,o(W)&&B++)}return w>2*B}(L,b))return"date";var S="strict"!==M.autotypenumbers;return function(P,H){for(var E=P.length,I=u(E),w=0,B=0,$={},T=0;T<E;T+=I){var W=P[d(T)],q=String(W);if(!$[q]){$[q]=1;var X=typeof W;"boolean"===X?B++:(H?C(W)!==p:"number"===X)?w++:"string"===X&&B++}}return B>2*w}(L,S)?"category":function(P,H){for(var E=P.length,I=0;I<E;I++)if(h(P[I],H))return!0;return!1}(L,S)?"linear":"-"}},{"../../constants/numerical":212,"../../lib":232,"fast-isnumeric":17}],281:[function(m,de,te){"use strict";var o=m("fast-isnumeric"),g=m("../../registry"),p=m("../../lib"),l=m("../../plot_api/plot_template"),c=m("../array_container_defaults"),C=m("./layout_attributes"),d=m("./tick_value_defaults"),h=m("./tick_mark_defaults"),u=m("./tick_label_defaults"),_=m("./prefix_suffix_defaults"),b=m("./category_order_defaults"),M=m("./line_grid_defaults"),L=m("./set_convert"),N=m("./constants").WEEKDAY_PATTERN,z=m("./constants").HOUR_PATTERN;function k(P,H,E){function I(X,ee){return p.coerce(P,H,C.rangebreaks,X,ee)}if(I("enabled")){var w=I("bounds");if(w&&w.length>=2){var B,$,T="";if(2===w.length)for(B=0;B<2;B++)if($=S(w[B])){T=N;break}var Y=I("pattern",T);if(Y===N)for(B=0;B<2;B++)($=S(w[B]))&&(H.bounds[B]=w[B]=$-1);if(Y)for(B=0;B<2;B++)switch($=w[B],Y){case N:if(!o($)||($=+$)!==Math.floor($)||$<0||$>=7)return void(H.enabled=!1);H.bounds[B]=w[B]=$;break;case z:if(!o($)||($=+$)<0||$>24)return void(H.enabled=!1);H.bounds[B]=w[B]=$}if(!1===E.autorange){var W=E.range;if(W[0]<W[1]){if(w[0]<W[0]&&w[1]>W[1])return void(H.enabled=!1)}else if(w[0]>W[0]&&w[1]<W[1])return void(H.enabled=!1)}}else{var q=I("values");if(!q||!q.length)return void(H.enabled=!1);I("dvalue")}}}de.exports=function(P,H,E,I,w){var B,$=I.letter,T=I.font||{},Y=I.splomStash||{},W=E("visible",!I.visibleDflt),X=H.type||(H._template||{}).type||"-";"date"===X&&(g.getComponentMethod("calendars","handleDefaults")(P,H,"calendar",I.calendar),I.noTicklabelmode||(B=E("ticklabelmode")));var ee="";I.noTicklabelposition&&"multicategory"!==X||(ee=p.coerce(P,H,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===B?["outside","inside"]:"x"===$?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),I.noTicklabeloverflow||E("ticklabeloverflow",-1!==ee.indexOf("inside")?"hide past domain":"category"===X||"multicategory"===X?"allow":"hide past div"),L(H,w);var ce=!H.isValidRange(P.range);ce&&I.reverseDflt&&(ce="reversed"),!E("autorange",ce)||"linear"!==X&&"-"!==X||E("rangemode"),E("range"),H.cleanRange(),b(P,H,E,I),"category"===X||I.noHover||E("hoverformat");var me=E("color"),ae=me!==C.color.dflt?me:T.color,K=Y.label||w._dfltTitle[$];if(_(P,H,E,X,I),!W)return H;E("title.text",K),p.coerceFont(E,"title.font",{family:T.family,size:p.bigFont(T.size),color:ae}),d(P,H,E,X);var le=I.hasMinor;if(le&&(l.newContainer(H,"minor"),d(P,H,E,X,{isMinor:!0})),u(P,H,E,X,I),h(P,H,E,I),le){var G=I.isMinor;I.isMinor=!0,h(P,H,E,I),I.isMinor=G}M(P,H,E,{dfltColor:me,bgColor:I.bgColor,showGrid:I.showGrid,hasMinor:le,attributes:C}),!le||H.minor.ticks||H.minor.showgrid||delete H.minor,(H.showline||H.ticks)&&E("mirror"),I.automargin&&E("automargin");var j,oe="multicategory"===X;if(I.noTickson||"category"!==X&&!oe||!H.ticks&&!H.showgrid||(oe&&(j="boundaries"),"boundaries"===E("tickson",j)&&delete H.ticklabelposition),oe&&E("showdividers")&&(E("dividercolor"),E("dividerwidth")),"date"===X)if(c(P,H,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:k}),H.rangebreaks.length){for(var re=0;re<H.rangebreaks.length;re++)if(H.rangebreaks[re].pattern===N){H._hasDayOfWeekBreaks=!0;break}if(L(H,w),w._has("scattergl")||w._has("splom"))for(var F=0;F<I.data.length;F++){var O=I.data[F];"scattergl"!==O.type&&"splom"!==O.type||(O.visible=!1,p.warn(O.type+" traces do not work on axes with rangebreaks. Setting trace "+O.index+" to `visible: false`."))}}else delete H.rangebreaks;return H};var D={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function S(P){if("string"==typeof P)return D[P.substr(0,3).toLowerCase()]}},{"../../lib":232,"../../plot_api/plot_template":268,"../../registry":318,"../array_container_defaults":274,"./category_order_defaults":284,"./constants":286,"./layout_attributes":294,"./line_grid_defaults":296,"./prefix_suffix_defaults":298,"./set_convert":301,"./tick_label_defaults":303,"./tick_mark_defaults":304,"./tick_value_defaults":305,"fast-isnumeric":17}],282:[function(m,de,te){"use strict";var o=m("../../constants/docs"),g=o.FORMAT_LINK,p=o.DATE_FORMAT_LINK;function l(C,d){return["Sets the "+C+" formatting rule"+(d?"for `"+d+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+g+"."].join(" ")}function c(C,d){return l(C,d)+[" And for dates see: "+p+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}de.exports={axisHoverFormat:function(C,d){return{valType:"string",dflt:"",editType:"none",description:(d?l:c)("hover text",C)+["By default the values are formatted using "+(d?"generic number format":"`"+C+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:l,descriptionWithDates:c}},{"../../constants/docs":209}],283:[function(m,de,te){"use strict";var o=m("../../registry"),g=m("./constants");function p(l,c){if(c&&c.length)for(var C=0;C<c.length;C++)if(c[C][l])return!0;return!1}te.id2name=function(l){if("string"==typeof l&&l.match(g.AX_ID_PATTERN)){var c=l.split(" ")[0].substr(1);return"1"===c&&(c=""),l.charAt(0)+"axis"+c}},te.name2id=function(l){if(l.match(g.AX_NAME_PATTERN)){var c=l.substr(5);return"1"===c&&(c=""),l.charAt(0)+c}},te.cleanId=function(l,c,C){var d=/( domain)$/.test(l);if("string"==typeof l&&l.match(g.AX_ID_PATTERN)&&(!c||l.charAt(0)===c)&&(!d||C)){var h=l.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===h&&(h=""),l.charAt(0)+h+(d&&C?" domain":"")}},te.list=function(l,c,C){var d=l._fullLayout;if(!d)return[];var h,u=te.listIds(l,c),_=new Array(u.length);for(h=0;h<u.length;h++){var b=u[h];_[h]=d[b.charAt(0)+"axis"+b.substr(1)]}if(!C){var M=d._subplots.gl3d||[];for(h=0;h<M.length;h++){var L=d[M[h]];c?_.push(L[c+"axis"]):_.push(L.xaxis,L.yaxis,L.zaxis)}}return _},te.listIds=function(l,c){var C=l._fullLayout;if(!C)return[];var d=C._subplots;return c?d[c+"axis"]:d.xaxis.concat(d.yaxis)},te.getFromId=function(l,c,C){var d=l._fullLayout;return c=void 0===c||"string"!=typeof c?c:c.replace(" domain",""),"x"===C?c=c.replace(/y[0-9]*/,""):"y"===C&&(c=c.replace(/x[0-9]*/,"")),d[te.id2name(c)]},te.getFromTrace=function(l,c,C){var d=l._fullLayout,h=null;if(o.traceIs(c,"gl3d")){var u=c.scene;"scene"===u.substr(0,5)&&(h=d[u][C+"axis"])}else h=te.getFromId(l,c[C+"axis"]||C);return h},te.idSort=function(l,c){var C=l.charAt(0),d=c.charAt(0);return C!==d?C>d?1:-1:+(l.substr(1)||1)-+(c.substr(1)||1)},te.ref2id=function(l){return!!/^[xyz]/.test(l)&&l.split(" ")[0]},te.isLinked=function(l,c){return p(c,l._axisMatchGroups)||p(c,l._axisConstraintGroups)}},{"../../registry":318,"./constants":286}],284:[function(m,de,te){"use strict";de.exports=function(o,g,p,l){if("category"===g.type){var c,C=o.categoryarray,d=Array.isArray(C)&&C.length>0;d&&(c="array");var h,u=p("categoryorder",c);"array"===u&&(h=p("categoryarray")),d||"array"!==u||(u=g.categoryorder="trace"),"trace"===u?g._initialCategories=[]:"array"===u?g._initialCategories=h.slice():(h=function(_,b){var M,L,N,z=b.dataAttr||_._id.charAt(0),k={};if(b.axData)M=b.axData;else for(M=[],L=0;L<b.data.length;L++){var D=b.data[L];D[z+"axis"]===_._id&&M.push(D)}for(L=0;L<M.length;L++){var S=M[L][z];for(N=0;N<S.length;N++){var P=S[N];null!=P&&(k[P]=1)}}return Object.keys(k)}(g,l).sort(),"category ascending"===u?g._initialCategories=h:"category descending"===u&&(g._initialCategories=h.reverse()))}}},{}],285:[function(m,de,te){"use strict";var o=m("fast-isnumeric"),g=m("../../lib"),p=m("../../constants/numerical"),l=p.ONEDAY,c=p.ONEWEEK;te.dtick=function(C,d){var h="log"===d,u="date"===d,_="category"===d,b=u?l:1;if(!C)return b;if(o(C))return(C=Number(C))<=0?b:_?Math.max(1,Math.round(C)):u?Math.max(.1,C):C;if("string"!=typeof C||!u&&!h)return b;var M=C.charAt(0),L=C.substr(1);return(L=o(L)?Number(L):0)<=0||!(u&&"M"===M&&L===Math.round(L)||h&&"L"===M||h&&"D"===M&&(1===L||2===L))?b:C},te.tick0=function(C,d,h,u){return"date"===d?g.cleanDate(C,g.dateTick0(h,u%c==0?1:0)):"D1"!==u&&"D2"!==u?o(C)?Number(C):0:void 0}},{"../../constants/numerical":212,"../../lib":232,"fast-isnumeric":17}],286:[function(m,de,te){"use strict";var o=m("../../lib/regex").counter;de.exports={idRegex:{x:o("x","( domain)?"),y:o("y","( domain)?")},attrRegex:o("[xy]axis"),xAxisMatch:o("xaxis"),yAxisMatch:o("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,BENDPX:1.5,REDRAWDELAY:50,SELECTDELAY:100,SELECTID:"-select",DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},{"../../lib/regex":248}],287:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("./autorange"),p=m("./axis_ids").id2name,l=m("./layout_attributes"),c=m("./scale_zoom"),C=m("./set_convert"),d=m("../../constants/numerical").ALMOST_EQUAL,h=m("../../constants/alignment").FROM_BL;function u(k,D,S){var P=S.axIds,H=S.layoutOut,E=S.hasImage,I=H._axisConstraintGroups,w=H._axisMatchGroups,B=D._id,$=B.charAt(0),T=((H._splomAxes||{})[$]||{})[B]||{},Y=D._id,W="x"===Y.charAt(0);function q(J,R){return o.coerce(k,D,l,J,R)}D._matchGroup=null,D._constraintGroup=null,q("constrain",E?"domain":"range"),o.coerce(k,D,{constraintoward:{valType:"enumerated",values:W?["left","center","right"]:["bottom","middle","top"],dflt:W?"center":"middle"}},"constraintoward");var X,ee,ce=D.type,me=[];for(X=0;X<P.length;X++)(ee=P[X])!==Y&&H[p(ee)].type===ce&&me.push(ee);var ae=b(I,Y);if(ae){var K=[];for(X=0;X<me.length;X++)ae[ee=me[X]]||K.push(ee);me=K}var le,G,j=me.length;j&&(k.matches||T.matches)&&(le=o.coerce(k,D,{matches:{valType:"enumerated",values:me,dflt:-1!==me.indexOf(T.matches)?T.matches:void 0}},"matches"));var oe=E&&!W?D.anchor:void 0;if(j&&!le&&(k.scaleanchor||oe)&&(G=o.coerce(k,D,{scaleanchor:{valType:"enumerated",values:me}},"scaleanchor",oe)),le){D._matchGroup=M(w,Y,le,1);var re=H[p(le)],F=_(H,D)/_(H,re);W!==("x"===le.charAt(0))&&(F=(W?"x":"y")+F),M(I,Y,le,F)}else k.matches&&-1!==P.indexOf(k.matches)&&o.warn("ignored "+D._name+'.matches: "'+k.matches+'" to avoid an infinite loop');if(G){var O=q("scaleratio");O||(O=D.scaleratio=1),M(I,Y,G,O)}else k.scaleanchor&&-1!==P.indexOf(k.scaleanchor)&&o.warn("ignored "+D._name+'.scaleanchor: "'+k.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function _(k,D){var S=D.domain;return S||(S=k[p(D.overlaying)].domain),S[1]-S[0]}function b(k,D){for(var S=0;S<k.length;S++)if(k[S][D])return k[S];return null}function M(k,D,S,P){var H,E,I,w,B,$=b(k,D);null===$?(($={})[D]=1,B=k.length,k.push($)):B=k.indexOf($);var T=Object.keys($);for(H=0;H<k.length;H++)if(I=k[H],H!==B&&I[S]){var Y=I[S];for(E=0;E<T.length;E++)I[w=T[E]]=L(Y,L(P,$[w]));return void k.splice(B,1)}if(1!==P)for(E=0;E<T.length;E++){var W=T[E];$[W]=L(P,$[W])}$[S]=1}function L(k,D){var S,P,H="",E="";"string"==typeof k&&(S=(H=k.match(/^[xy]*/)[0]).length,k=+k.substr(S)),"string"==typeof D&&(P=(E=D.match(/^[xy]*/)[0]).length,D=+D.substr(P));var I=k*D;return S||P?S&&P&&H.charAt(0)!==E.charAt(0)?S===P?I:(S>P?H.substr(P):E.substr(S))+I:H+E+k*D:I}function N(k,D){for(var S=D._size,P=S.h/S.w,H={},E=Object.keys(k),I=0;I<E.length;I++){var w=E[I],B=k[w];if("string"==typeof B){var $=B.match(/^[xy]*/)[0],T=$.length;B=+B.substr(T);for(var Y="y"===$.charAt(0)?P:1/P,W=0;W<T;W++)B*=Y}H[w]=B}return H}function z(k,D){var S=k._inputDomain,H=S[0]+(S[1]-S[0])*h[k.constraintoward];k.domain=k._input.domain=[H+(S[0]-H)/D,H+(S[1]-H)/D],k.setScale()}te.handleDefaults=function(k,D,S){var P,H,E,I,w,B,$,T,Y=S.axIds,W=S.axHasImage,q=D._axisConstraintGroups=[],X=D._axisMatchGroups=[];for(P=0;P<Y.length;P++)u(w=k[I=p(Y[P])],B=D[I],{axIds:Y,layoutOut:D,hasImage:W[I]});function ee(re,F){for(P=0;P<re.length;P++)for(E in H=re[P])D[p(E)][F]=H}for(ee(X,"_matchGroup"),P=0;P<q.length;P++)for(E in H=q[P])if((B=D[p(E)]).fixedrange){for(var ce in H){var me=p(ce);!1===(k[me]||{}).fixedrange&&o.warn("fixedrange was specified as false for axis "+me+" but was overridden because another axis in its constraint group has fixedrange true"),D[me].fixedrange=!0}break}for(P=0;P<q.length;){for(E in H=q[P]){(B=D[p(E)])._matchGroup&&Object.keys(B._matchGroup).length===Object.keys(H).length&&(q.splice(P,1),P--);break}P++}ee(q,"_constraintGroup");var ae=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],K=!1,le=!1;function G(){T=B[$],"rangebreaks"===$&&(le=B._hasDayOfWeekBreaks)}for(P=0;P<X.length;P++){H=X[P];for(var j=0;j<ae.length;j++){var oe;for(E in $=ae[j],T=null,H)if(w=k[I=p(E)],$ in(B=D[I])){if(!B.matches&&(oe=B,$ in w)){G();break}null===T&&$ in w&&G()}if("range"===$&&T&&(K=!0),"autorange"===$&&null===T&&K&&(T=!1),null===T&&$ in oe&&(T=oe[$]),null!==T)for(E in H)(B=D[p(E)])[$]="range"===$?T.slice():T,"rangebreaks"===$&&(B._hasDayOfWeekBreaks=le,C(B,D))}}},te.enforce=function(k){var D,S,P,H,E,I,w,B,$=k._fullLayout,T=$._axisConstraintGroups||[];for(D=0;D<T.length;D++){P=N(T[D],$);var Y=Object.keys(P),W=1/0,q=0,X=1/0,ee={},ce={},me=!1;for(S=0;S<Y.length;S++)ce[H=Y[S]]=E=$[p(H)],E._inputDomain?E.domain=E._inputDomain.slice():E._inputDomain=E.domain.slice(),E._inputRange||(E._inputRange=E.range.slice()),E.setScale(),ee[H]=I=Math.abs(E._m)/P[H],W=Math.min(W,I),"domain"!==E.constrain&&E._constraintShrinkable||(X=Math.min(X,I)),delete E._constraintShrinkable,q=Math.max(q,I),"domain"===E.constrain&&(me=!0);if(!(W>d*q)||me)for(S=0;S<Y.length;S++)if(I=ee[H=Y[S]],w=(E=ce[H]).constrain,I!==X||"domain"===w)if(B=I/X,"range"===w)c(E,B);else{var ae=E._inputDomain,K=(E.domain[1]-E.domain[0])/(ae[1]-ae[0]),le=(E.r2l(E.range[1])-E.r2l(E.range[0]))/(E.r2l(E._inputRange[1])-E.r2l(E._inputRange[0]));if((B/=K)*le<1){E.domain=E._input.domain=ae.slice(),c(E,B);continue}if(le<1&&(E.range=E._input.range=E._inputRange.slice(),B*=le),E.autorange){var G=E.r2l(E.range[0]),j=E.r2l(E.range[1]),oe=(G+j)/2,re=oe,F=oe,O=Math.abs(j-oe),J=oe-O*B*1.0001,R=oe+O*B*1.0001,ie=g.makePadFn($,E,0),fe=g.makePadFn($,E,1);z(E,B);var ue,he,Me=Math.abs(E._m),be=g.concatExtremes(k,E),Ae=be.min,ze=be.max;for(he=0;he<Ae.length;he++)(ue=Ae[he].val-ie(Ae[he])/Me)>J&&ue<re&&(re=ue);for(he=0;he<ze.length;he++)(ue=ze[he].val+fe(ze[he])/Me)<R&&ue>F&&(F=ue);B/=(F-re)/(2*O),re=E.l2r(re),F=E.l2r(F),E.range=E._input.range=G<j?[re,F]:[F,re]}z(E,B)}}},te.getAxisGroup=function(k,D){for(var S=k._axisMatchGroups,P=0;P<S.length;P++)if(S[P][D])return"g"+P;return D},te.clean=function(k,D){if(D._inputDomain){for(var S=!1,P=D._id,H=k._fullLayout._axisConstraintGroups,E=0;E<H.length;E++)if(H[E][P]){S=!0;break}S&&"domain"===D.constrain||(D._input.domain=D.domain=D._inputDomain,delete D._inputDomain)}}},{"../../constants/alignment":207,"../../constants/numerical":212,"../../lib":232,"./autorange":278,"./axis_ids":283,"./layout_attributes":294,"./scale_zoom":299,"./set_convert":301}],288:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("../../lib"),p=g.numberFormat,l=m("tinycolor2"),c=m("has-passive-events"),C=m("../../registry"),d=g.strTranslate,h=m("../../lib/svg_text_utils"),u=m("../../components/color"),_=m("../../components/drawing"),b=m("../../components/fx"),M=m("./axes"),L=m("../../lib/setcursor"),N=m("../../components/dragelement"),z=m("../../components/dragelement/helpers"),k=z.selectingOrDrawing,D=z.freeMode,S=m("../../constants/alignment").FROM_TL,P=m("../../lib/clear_gl_canvases"),H=m("../../plot_api/subroutines").redrawReglTraces,E=m("../plots"),I=m("./axis_ids").getFromId,w=m("./select").prepSelect,B=m("./select").clearSelect,$=m("./select").selectOnClick,T=m("./scale_zoom"),Y=m("./constants"),W=Y.MINDRAG,q=Y.MINZOOM,X=!0;function ee(ue,he,Me,be){var Ae=g.ensureSingle(ue.draglayer,he,Me,function(ze){ze.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",ue.id)});return Ae.call(L,be),Ae.node()}function ce(ue,he,Me,be,Ae,ze,Pe){var Fe=ee(ue,"rect",he,Me);return o.select(Fe).call(_.setRect,be,Ae,ze,Pe),Fe}function me(ue,he){for(var Me=0;Me<ue.length;Me++)if(!ue[Me].fixedrange)return he;return""}function ae(ue,he,Me,be,Ae){for(var ze=0;ze<ue.length;ze++){var Pe=ue[ze];if(!Pe.fixedrange)if(Pe.rangebreaks){var Fe="y"===Pe._id.charAt(0),Xe=Fe?1-Me:Me;be[Pe._name+".range[0]"]=Pe.l2r(Pe.p2l((Fe?1-he:he)*Pe._length)),be[Pe._name+".range[1]"]=Pe.l2r(Pe.p2l(Xe*Pe._length))}else{var Ue=Pe._rl[0],xe=Pe._rl[1]-Ue;be[Pe._name+".range[0]"]=Pe.l2r(Ue+xe*he),be[Pe._name+".range[1]"]=Pe.l2r(Ue+xe*Me)}}if(Ae&&Ae.length){var ve=(he+(1-Me))/2;ae(Ae,ve,1-ve,be,[])}}function K(ue,he){for(var Me=0;Me<ue.length;Me++){var be=ue[Me];if(!be.fixedrange)if(be.rangebreaks){var Ae=be._length,ze=(be.p2l(0+he)-be.p2l(0)+(be.p2l(Ae+he)-be.p2l(Ae)))/2;be.range=[be.l2r(be._rl[0]-ze),be.l2r(be._rl[1]-ze)]}else be.range=[be.l2r(be._rl[0]-he/be._m),be.l2r(be._rl[1]-he/be._m)]}}function le(ue){return 1-(ue>=0?Math.min(ue,.9):1/(1/Math.max(ue,-.3)+3.222))}function G(ue,he,Me,be,Ae){return ue.append("path").attr("class","zoombox").style({fill:he>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",d(Me,be)).attr("d",Ae+"Z")}function j(ue,he,Me){return ue.append("path").attr("class","zoombox-corners").style({fill:u.background,stroke:u.defaultLine,"stroke-width":1,opacity:0}).attr("transform",d(he,Me)).attr("d","M0,0Z")}function oe(ue,he,Me,be,Ae,ze){ue.attr("d",be+"M"+Me.l+","+Me.t+"v"+Me.h+"h"+Me.w+"v-"+Me.h+"h-"+Me.w+"Z"),re(ue,he,Ae,ze)}function re(ue,he,Me,be){Me||(ue.transition().style("fill",be>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),he.transition().style("opacity",1).duration(200))}function F(ue){o.select(ue).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function O(ue){X&&ue.data&&ue._context.showTips&&(g.notifier(g._(ue,"Double-click to zoom back out"),"long"),X=!1)}function J(ue){var he=Math.floor(Math.min(ue.b-ue.t,ue.r-ue.l,q)/2);return"M"+(ue.l-3.5)+","+(ue.t-.5+he)+"h3v"+-he+"h"+he+"v-3h-"+(he+3)+"ZM"+(ue.r+3.5)+","+(ue.t-.5+he)+"h-3v"+-he+"h"+-he+"v-3h"+(he+3)+"ZM"+(ue.r+3.5)+","+(ue.b+.5-he)+"h-3v"+he+"h"+-he+"v3h"+(he+3)+"ZM"+(ue.l-3.5)+","+(ue.b+.5-he)+"h3v"+he+"h"+he+"v3h-"+(he+3)+"Z"}function R(ue,he,Me,be,Ae){for(var ze,Pe,Fe,t1,Xe=!1,Ue={},xe={},ve=(Ae||{}).xaHash,De=(Ae||{}).yaHash,Ve=0;Ve<he.length;Ve++){var Ye=he[Ve];for(ze in Me)if(Ye[ze]){for(Fe in Ye)Ae&&(ve[Fe]||De[Fe])||("x"===Fe.charAt(0)?Me:be)[Fe]||(Ue[Fe]=ze);for(Pe in be)Ae&&(ve[Pe]||De[Pe])||!Ye[Pe]||(Xe=!0)}for(Pe in be)if(Ye[Pe])for(t1 in Ye)Ae&&(ve[t1]||De[t1])||("x"===t1.charAt(0)?Me:be)[t1]||(xe[t1]=Pe)}Xe&&(g.extendFlat(Ue,xe),xe={});var Oe={},Ie=[];for(Fe in Ue){var Qe=I(ue,Fe);Ie.push(Qe),Oe[Qe._id]=Qe}var n1={},Ke=[];for(t1 in xe){var r1=I(ue,t1);Ke.push(r1),n1[r1._id]=r1}return{xaHash:Oe,yaHash:n1,xaxes:Ie,yaxes:Ke,xLinks:Ue,yLinks:xe,isSubplotConstrained:Xe}}function ie(ue,he){if(c){var Me=void 0!==ue.onwheel?"wheel":"mousewheel";ue._onwheel&&ue.removeEventListener(Me,ue._onwheel),ue._onwheel=he,ue.addEventListener(Me,he,{passive:!1})}else void 0!==ue.onwheel?ue.onwheel=he:void 0!==ue.onmousewheel?ue.onmousewheel=he:ue.isAddedWheelEvent||(ue.isAddedWheelEvent=!0,ue.addEventListener("wheel",he,{passive:!1}))}function fe(ue){var he=[];for(var Me in ue)he.push(ue[Me]);return he}de.exports={makeDragBox:function(ue,he,Me,be,Ae,ze,Pe,Fe){var t1,Xe,Ue,xe,ve,De,Ve,Ye,Oe,Ie,Qe,n1,Ke,r1,f1,Je,g1,b1,_1,I1,M1,Re,Be,C1=ue._fullLayout._zoomlayer,O1=Pe+Fe==="nsew",Q1=1===(Pe+Fe).length;function l2(){if(Oe=(t1=he.xaxis)._length,Ie=(Xe=he.yaxis)._length,Ve=t1._offset,Ye=Xe._offset,(Ue={})[t1._id]=t1,(xe={})[Xe._id]=Xe,Pe&&Fe)for(var j1=he.overlays,Y1=0;Y1<j1.length;Y1++){var t2=j1[Y1].xaxis;Ue[t2._id]=t2;var d2=j1[Y1].yaxis;xe[d2._id]=d2}ve=fe(Ue),De=fe(xe),Ke=me(ve,Fe),r1=me(De,Pe),f1=!r1&&!Ke,n1=R(ue,ue._fullLayout._axisMatchGroups,Ue,xe);var s2=(Qe=R(ue,ue._fullLayout._axisConstraintGroups,Ue,xe,n1)).isSubplotConstrained||n1.isSubplotConstrained;Je=Fe||s2,g1=Pe||s2;var C2=ue._fullLayout;b1=C2._has("scattergl"),_1=C2._has("splom"),I1=C2._has("svg")}l2();var j1,G1=(j1=r1+Ke)?"nsew"===j1?O1?"":"pan"===ue._fullLayout.dragmode?"move":"crosshair":j1.toLowerCase()+"-resize":"pointer",K1=ce(he,Pe+Fe+"drag",G1,Me,be,Ae,ze);if(f1&&!O1)return K1.onmousedown=null,K1.style.pointerEvents="none",K1;var N1,ge,ye,je,e1,d1,i1,l1,c1,L1,H1={element:K1,gd:ue,plotinfo:he};function B1(){H1.plotinfo.selection=!1,B(ue)}function r2(j1,Y1){var dt,pt,B2,Y2,P2,t2=H1.gd;if(t2._fullLayout._activeShapeIndex>=0)t2._fullLayout._deactivateShape(t2);else{var d2=t2._fullLayout.clickmode;if(F(t2),2!==j1||Q1||function L2(){if(!ue._transitioningWithDuration){var j1=ue._context.doubleClick,Y1=[];Ke&&(Y1=Y1.concat(ve)),r1&&(Y1=Y1.concat(De)),n1.xaxes&&(Y1=Y1.concat(n1.xaxes)),n1.yaxes&&(Y1=Y1.concat(n1.yaxes));var t2,d2,s2,C2={};if("reset+autosize"===j1)for(j1="autosize",d2=0;d2<Y1.length;d2++)if((t2=Y1[d2])._rangeInitial&&(t2.range[0]!==t2._rangeInitial[0]||t2.range[1]!==t2._rangeInitial[1])||!t2._rangeInitial&&!t2.autorange){j1="reset";break}if("autosize"===j1)for(d2=0;d2<Y1.length;d2++)(t2=Y1[d2]).fixedrange||(C2[t2._name+".autorange"]=!0);else if("reset"===j1)for((Ke||Qe.isSubplotConstrained)&&(Y1=Y1.concat(Qe.xaxes)),r1&&!Qe.isSubplotConstrained&&(Y1=Y1.concat(Qe.yaxes)),Qe.isSubplotConstrained&&(Ke?r1||(Y1=Y1.concat(De)):Y1=Y1.concat(ve)),d2=0;d2<Y1.length;d2++)(t2=Y1[d2]).fixedrange||(t2._rangeInitial?(C2[t2._name+".range[0]"]=(s2=t2._rangeInitial)[0],C2[t2._name+".range[1]"]=s2[1]):C2[t2._name+".autorange"]=!0);ue.emit("plotly_doubleclick",null),C.call("_guiRelayout",ue,C2)}}(),O1)d2.indexOf("select")>-1&&$(Y1,t2,ve,De,he.id,H1),d2.indexOf("event")>-1&&b.click(t2,Y1,he.id);else if(1===j1&&Q1){var s2=Pe?Xe:t1,C2="s"===Pe||"w"===Fe?0:1,G2=s2._name+".range["+C2+"]",Q2=(Y2=(dt=s2).range[pt=C2],P2=Math.abs(Y2-dt.range[1-pt]),"date"===dt.type?Y2:"log"===dt.type?(B2=Math.ceil(Math.max(0,-Math.log(P2)/Math.LN10))+3,p("."+B2+"g")(Math.pow(10,Y2))):(B2=Math.floor(Math.log(Math.abs(Y2))/Math.LN10)-Math.floor(Math.log(P2)/Math.LN10)+4,p("."+String(B2)+"g")(Y2))),A2="left",z2="middle";if(s2.fixedrange)return;Pe?(z2="n"===Pe?"top":"bottom","right"===s2.side&&(A2="right")):"e"===Fe&&(A2="right"),t2._context.showAxisRangeEntryBoxes&&o.select(K1).call(h.makeEditable,{gd:t2,immediate:!0,background:t2._fullLayout.paper_bgcolor,text:String(Q2),fill:s2.tickfont?s2.tickfont.color:"#444",horizontalAlign:A2,verticalAlign:z2}).on("edit",function(dt){var pt=s2.d2r(dt);void 0!==pt&&C.call("_guiRelayout",t2,G2,pt)})}}}function V1(j1,Y1){if(ue._transitioningWithDuration)return!1;var z2,dt,t2=Math.max(0,Math.min(Oe,Re*j1+N1)),d2=Math.max(0,Math.min(Ie,Be*Y1+ge)),s2=Math.abs(t2-N1),C2=Math.abs(d2-ge);function G2(){i1="",ye.r=ye.l,ye.t=ye.b,c1.attr("d","M0,0Z")}if(ye.l=Math.min(N1,t2),ye.r=Math.max(N1,t2),ye.t=Math.min(ge,d2),ye.b=Math.max(ge,d2),Qe.isSubplotConstrained)s2>q||C2>q?(i1="xy",s2/Oe>C2/Ie?(C2=s2*Ie/Oe,ge>d2?ye.t=ge-C2:ye.b=ge+C2):(s2=C2*Oe/Ie,N1>t2?ye.l=N1-s2:ye.r=N1+s2),c1.attr("d",J(ye))):G2();else if(n1.isSubplotConstrained)if(s2>q||C2>q){i1="xy";var Q2=Math.min(ye.l/Oe,(Ie-ye.b)/Ie),A2=Math.max(ye.r/Oe,(Ie-ye.t)/Ie);ye.l=Q2*Oe,ye.r=A2*Oe,ye.b=(1-Q2)*Ie,ye.t=(1-A2)*Ie,c1.attr("d",J(ye))}else G2();else!r1||C2<Math.min(Math.max(.6*s2,W),q)?s2<W||!Ke?G2():(ye.t=0,ye.b=Ie,i1="x",c1.attr("d","M"+((z2=ye).l-.5)+","+((dt=ge)-q-.5)+"h-3v"+(2*q+1)+"h3ZM"+(z2.r+.5)+","+(dt-q-.5)+"h3v"+(2*q+1)+"h-3Z")):!Ke||s2<Math.min(.6*C2,q)?(ye.l=0,ye.r=Oe,i1="y",c1.attr("d",function(z2,dt){return"M"+(dt-q-.5)+","+(z2.t-.5)+"v-3h"+(2*q+1)+"v3ZM"+(dt-q-.5)+","+(z2.b+.5)+"v3h"+(2*q+1)+"v-3Z"}(ye,N1))):(i1="xy",c1.attr("d",J(ye)));ye.w=ye.r-ye.l,ye.h=ye.b-ye.t,i1&&(L1=!0),ue._dragged=L1,oe(l1,c1,ye,e1,d1,je),q1(),ue.emit("plotly_relayouting",M1),d1=!0}function q1(){M1={},"xy"!==i1&&"x"!==i1||(ae(ve,ye.l/Oe,ye.r/Oe,M1,Qe.xaxes),e2("x",M1)),"xy"!==i1&&"y"!==i1||(ae(De,(Ie-ye.b)/Ie,(Ie-ye.t)/Ie,M1,Qe.yaxes),e2("y",M1))}function f2(){q1(),F(ue),y2(),O(ue)}H1.prepFn=function(j1,Y1,t2){var d2=H1.dragmode,s2=ue._fullLayout.dragmode;s2!==d2&&(H1.dragmode=s2),l2(),Re=ue._fullLayout._invScaleX,Be=ue._fullLayout._invScaleY,f1||(O1?j1.shiftKey?"pan"===s2?s2="zoom":k(s2)||(s2="pan"):j1.ctrlKey&&(s2="pan"):s2="pan"),H1.minDrag=D(s2)?1:void 0,k(s2)?(H1.xaxes=ve,H1.yaxes=De,w(j1,Y1,t2,H1,s2)):(H1.clickFn=r2,k(d2)&&B1(),f1||("zoom"===s2?(H1.moveFn=V1,H1.doneFn=f2,H1.minDrag=1,function(C2,G2,Q2){var A2=K1.getBoundingClientRect();N1=G2-A2.left,ge=Q2-A2.top,ue._fullLayout._calcInverseTransform(ue);var z2=g.apply3DTransform(ue._fullLayout._invTransform)(N1,ge);ye={l:N1=z2[0],r:N1,w:0,t:ge=z2[1],b:ge,h:0},je=ue._hmpixcount?ue._hmlumcount/ue._hmpixcount:l(ue._fullLayout.plot_bgcolor).getLuminance(),d1=!1,i1="xy",L1=!1,l1=G(C1,je,Ve,Ye,e1="M0,0H"+Oe+"V"+Ie+"H0V0"),c1=j(C1,Ve,Ye)}(0,Y1,t2)):"pan"===s2&&(H1.moveFn=U1,H1.doneFn=y2))),ue._fullLayout._redrag=function(){var C2=ue._dragdata;C2&&C2.element===K1&&(k(ue._fullLayout.dragmode)||(l2(),w2([0,0,Oe,Ie]),H1.moveFn(C2.dx,C2.dy)))}},N.init(H1);var z1=[0,0,Oe,Ie],w1=null,a2=Y.REDRAWDELAY,J1=he.mainplot?ue._fullLayout._plots[he.mainplot]:he;function U1(j1,Y1){if(j1*=Re,Y1*=Be,!ue._transitioningWithDuration){if(ue._fullLayout._replotting=!0,"ew"===Ke||"ns"===r1){var t2=Ke?-j1:0,d2=r1?-Y1:0;if(n1.isSubplotConstrained){if(Ke&&r1){var s2=(j1/Oe-Y1/Ie)/2;t2=-(j1=s2*Oe),d2=-(Y1=-s2*Ie)}r1?t2=-d2*Oe/Ie:d2=-t2*Ie/Oe}return Ke&&(K(ve,j1),e2("x")),r1&&(K(De,Y1),e2("y")),w2([t2,d2,Oe,Ie]),R1(),void ue.emit("plotly_relayouting",M1)}var C2,G2,Q2="w"===Ke==("n"===r1)?1:-1;if(Ke&&r1&&(Qe.isSubplotConstrained||n1.isSubplotConstrained)){var A2=(j1/Oe+Q2*Y1/Ie)/2;j1=A2*Oe,Y1=Q2*A2*Ie}if("w"===Ke?j1=B2(ve,0,j1):"e"===Ke?j1=B2(ve,1,-j1):Ke||(j1=0),"n"===r1?Y1=B2(De,1,Y1):"s"===r1?Y1=B2(De,0,-Y1):r1||(Y1=0),C2="w"===Ke?j1:0,G2="n"===r1?Y1:0,Qe.isSubplotConstrained&&!n1.isSubplotConstrained||n1.isSubplotConstrained&&Ke&&r1&&Q2>0){var z2;if(n1.isSubplotConstrained||!Ke&&1===r1.length){for(z2=0;z2<ve.length;z2++)ve[z2].range=ve[z2]._r.slice(),T(ve[z2],1-Y1/Ie);C2=(j1=Y1*Oe/Ie)/2}if(n1.isSubplotConstrained||!r1&&1===Ke.length){for(z2=0;z2<De.length;z2++)De[z2].range=De[z2]._r.slice(),T(De[z2],1-j1/Oe);G2=(Y1=j1*Ie/Oe)/2}}n1.isSubplotConstrained&&r1||e2("x"),n1.isSubplotConstrained&&Ke||e2("y");var dt=Oe-j1,pt=Ie-Y1;!n1.isSubplotConstrained||Ke&&r1||(Ke?(G2=C2?0:j1*Ie/Oe,pt=dt*Ie/Oe):(C2=G2?0:Y1*Oe/Ie,dt=pt*Oe/Ie)),w2([C2,G2,dt,pt]),R1(),ue.emit("plotly_relayouting",M1)}function B2(Y2,P2,mt){for(var N2,vt,ht=1-P2,E2=0;E2<Y2.length;E2++){var ut=Y2[E2];if(!ut.fixedrange){N2=ut,vt=ut._rl[ht]+(ut._rl[P2]-ut._rl[ht])/le(mt/ut._length);var yt=ut.l2r(vt);!1!==yt&&void 0!==yt&&(ut.range[P2]=yt)}}return N2._length*(N2._rl[P2]-vt)/(N2._rl[P2]-N2._rl[ht])}}function e2(j1,Y1){for(var t2=n1.isSubplotConstrained?{x:De,y:ve}[j1]:n1[j1+"axes"],d2=n1.isSubplotConstrained?{x:ve,y:De}[j1]:[],s2=0;s2<t2.length;s2++){var C2=t2[s2],G2=C2._id,Q2=n1.xLinks[G2]||n1.yLinks[G2],A2=d2[0]||Ue[Q2]||xe[Q2];A2&&(Y1?(Y1[C2._name+".range[0]"]=Y1[A2._name+".range[0]"],Y1[C2._name+".range[1]"]=Y1[A2._name+".range[1]"]):C2.range=A2.range.slice())}}function R1(){var j1,Y1=[];function t2(C2){for(j1=0;j1<C2.length;j1++)C2[j1].fixedrange||Y1.push(C2[j1]._id)}for(Je&&(t2(ve),t2(Qe.xaxes),t2(n1.xaxes)),g1&&(t2(De),t2(Qe.yaxes),t2(n1.yaxes)),M1={},j1=0;j1<Y1.length;j1++){var s2=I(ue,Y1[j1]);M.drawOne(ue,s2,{skipTitle:!0}),M1[s2._name+".range[0]"]=s2.range[0],M1[s2._name+".range[1]"]=s2.range[1]}M.redrawComponents(ue,Y1)}function y2(){w2([0,0,Oe,Ie]),g.syncOrAsync([E.previousPromises,function(){ue._fullLayout._replotting=!1,C.call("_guiRelayout",ue,M1)}],ue)}function w2(j1){var Y1,t2,d2,s2,C2=ue._fullLayout,G2=C2._plots,Q2=C2._subplots.cartesian;if(_1&&C.subplotsRegistry.splom.drag(ue),b1)for(Y1=0;Y1<Q2.length;Y1++)if(d2=(t2=G2[Q2[Y1]]).xaxis,s2=t2.yaxis,t2._scene){var A2=g.simpleMap(d2.range,d2.r2l),z2=g.simpleMap(s2.range,s2.r2l);t2._scene.update({range:[A2[0],z2[0],A2[1],z2[1]]})}if((_1||b1)&&(P(ue),H(ue)),I1){var dt=j1[2]/t1._length,pt=j1[3]/Xe._length;for(Y1=0;Y1<Q2.length;Y1++){d2=(t2=G2[Q2[Y1]]).xaxis,s2=t2.yaxis;var B2,Y2,P2,mt,vt=(g1||n1.isSubplotConstrained)&&!s2.fixedrange&&xe[s2._id];if((Je||n1.isSubplotConstrained)&&!d2.fixedrange&&Ue[d2._id]?(B2=dt,P2=Fe||n1.isSubplotConstrained?j1[0]:S2(d2,B2)):n1.xaHash[d2._id]?(B2=dt,P2=j1[0]*d2._length/t1._length):n1.yaHash[d2._id]?(B2=pt,P2="ns"===r1?-j1[1]*d2._length/Xe._length:S2(d2,B2,{n:"top",s:"bottom"}[r1])):P2=O2(d2,B2=F2(d2,dt,pt)),vt?(Y2=pt,mt=Pe||n1.isSubplotConstrained?j1[1]:S2(s2,Y2)):n1.yaHash[s2._id]?(Y2=pt,mt=j1[1]*s2._length/Xe._length):n1.xaHash[s2._id]?(Y2=dt,mt="ew"===Ke?-j1[0]*s2._length/t1._length:S2(s2,Y2,{e:"right",w:"left"}[Ke])):mt=O2(s2,Y2=F2(s2,dt,pt)),B2||Y2){B2||(B2=1),Y2||(Y2=1);var ht=d2._offset-P2/B2,E2=s2._offset-mt/Y2;t2.clipRect.call(_.setTranslate,P2,mt).call(_.setScale,B2,Y2),t2.plot.call(_.setTranslate,ht,E2).call(_.setScale,1/B2,1/Y2),B2===t2.xScaleFactor&&Y2===t2.yScaleFactor||(_.setPointGroupScale(t2.zoomScalePts,B2,Y2),_.setTextPointsScale(t2.zoomScaleTxt,B2,Y2)),_.hideOutsideRangePoints(t2.clipOnAxisFalseTraces,t2),t2.xScaleFactor=B2,t2.yScaleFactor=Y2}}}}function F2(j1,Y1,t2){return j1.fixedrange?0:Je&&Qe.xaHash[j1._id]?Y1:g1&&(Qe.isSubplotConstrained?Qe.xaHash:Qe.yaHash)[j1._id]?t2:0}function O2(j1,Y1){return Y1?(j1.range=j1._r.slice(),T(j1,Y1),S2(j1,Y1)):0}function S2(j1,Y1,t2){return j1._length*(1-Y1)*S[t2||j1.constraintoward||"middle"]}return Pe.length*Fe.length!=1&&ie(K1,function(j1){if(ue._context._scrollZoom.cartesian||ue._fullLayout._enablescrollzoom){if(B1(),ue._transitioningWithDuration)return j1.preventDefault(),void j1.stopPropagation();l2(),clearTimeout(w1);var Y1=-j1.deltaY;if(isFinite(Y1)||(Y1=j1.wheelDelta/10),isFinite(Y1)){var t2,d2=Math.exp(-Math.min(Math.max(Y1,-20),20)/200),s2=J1.draglayer.select(".nsewdrag").node().getBoundingClientRect(),C2=(j1.clientX-s2.left)/s2.width,G2=(s2.bottom-j1.clientY)/s2.height;if(Je){for(Fe||(C2=.5),t2=0;t2<ve.length;t2++)Q2(ve[t2],C2,d2);e2("x"),z1[2]*=d2,z1[0]+=z1[2]*C2*(1/d2-1)}if(g1){for(Pe||(G2=.5),t2=0;t2<De.length;t2++)Q2(De[t2],G2,d2);e2("y"),z1[3]*=d2,z1[1]+=z1[3]*(1-G2)*(1/d2-1)}w2(z1),R1(),ue.emit("plotly_relayouting",M1),w1=setTimeout(function(){ue._fullLayout&&(z1=[0,0,Oe,Ie],y2())},a2),j1.preventDefault()}else g.log("Did not find wheel motion attributes: ",j1)}function Q2(A2,z2,dt){if(!A2.fixedrange){var pt=g.simpleMap(A2.range,A2.r2l),B2=pt[0]+(pt[1]-pt[0])*z2;A2.range=pt.map(function(Y2){return A2.l2r(B2+(Y2-B2)*dt)})}}}),K1},makeDragger:ee,makeRectDragger:ce,makeZoombox:G,makeCorners:j,updateZoombox:oe,xyCorners:J,transitionZoombox:re,removeZoombox:F,showDoubleClickNotifier:O,attachWheelEventHandler:ie}},{"../../components/color":102,"../../components/dragelement":121,"../../components/dragelement/helpers":120,"../../components/drawing":124,"../../components/fx":142,"../../constants/alignment":207,"../../lib":232,"../../lib/clear_gl_canvases":220,"../../lib/setcursor":252,"../../lib/svg_text_utils":255,"../../plot_api/subroutines":269,"../../registry":318,"../plots":316,"./axes":279,"./axis_ids":283,"./constants":286,"./scale_zoom":299,"./select":300,"@plotly/d3":11,"has-passive-events":49,tinycolor2:67}],289:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("../../components/fx"),p=m("../../components/dragelement"),l=m("../../lib/setcursor"),c=m("./dragbox").makeDragBox,C=m("./constants").DRAGGERSIZE;te.initInteractions=function(d){var h=d._fullLayout;if(d._context.staticPlot)o.select(d).selectAll(".drag").remove();else if(h._has("cartesian")||h._has("splom")){Object.keys(h._plots||{}).sort(function(_,b){if((h._plots[_].mainplot&&!0)===(h._plots[b].mainplot&&!0)){var M=_.split("y"),L=b.split("y");return M[0]===L[0]?Number(M[1]||1)-Number(L[1]||1):Number(M[0]||1)-Number(L[0]||1)}return h._plots[_].mainplot?1:-1}).forEach(function(_){var b=h._plots[_],M=b.xaxis,L=b.yaxis;if(!b.mainplot){var N=c(d,b,M._offset,L._offset,M._length,L._length,"ns","ew");N.onmousemove=function(D){d._fullLayout._rehover=function(){d._fullLayout._hoversubplot===_&&d._fullLayout._plots[_]&&g.hover(d,D,_)},g.hover(d,D,_),d._fullLayout._lasthover=N,d._fullLayout._hoversubplot=_},N.onmouseout=function(D){d._dragging||(d._fullLayout._hoversubplot=null,p.unhover(d,D))},d._context.showAxisDragHandles&&(c(d,b,M._offset-C,L._offset-C,C,C,"n","w"),c(d,b,M._offset+M._length,L._offset-C,C,C,"n","e"),c(d,b,M._offset-C,L._offset+L._length,C,C,"s","w"),c(d,b,M._offset+M._length,L._offset+L._length,C,C,"s","e"))}if(d._context.showAxisDragHandles){if(_===M._mainSubplot){var z=M._mainLinePosition;"top"===M.side&&(z-=C),c(d,b,M._offset+.1*M._length,z,.8*M._length,C,"","ew"),c(d,b,M._offset,z,.1*M._length,C,"","w"),c(d,b,M._offset+.9*M._length,z,.1*M._length,C,"","e")}if(_===L._mainSubplot){var k=L._mainLinePosition;"right"!==L.side&&(k-=C),c(d,b,k,L._offset+.1*L._length,C,.8*L._length,"ns",""),c(d,b,k,L._offset+.9*L._length,C,.1*L._length,"s",""),c(d,b,k,L._offset,C,.1*L._length,"n","")}}});var u=h._hoverlayer.node();u.onmousemove=function(_){_.target=d._fullLayout._lasthover,g.hover(d,_,h._hoversubplot)},u.onclick=function(_){_.target=d._fullLayout._lasthover,g.click(d,_)},u.onmousedown=function(_){d._fullLayout._lasthover.onmousedown(_)},te.updateFx(d)}},te.updateFx=function(d){var h=d._fullLayout;l(h._draggers,"pan"===h.dragmode?"move":"crosshair")}},{"../../components/dragelement":121,"../../components/fx":142,"../../lib/setcursor":252,"./constants":286,"./dragbox":288,"@plotly/d3":11}],290:[function(m,de,te){"use strict";de.exports={clearOutlineControllers:function(o){var g=o._fullLayout._zoomlayer;g&&g.selectAll(".outline-controllers").remove()},clearSelect:function(o){var g=o._fullLayout._zoomlayer;g&&g.selectAll(".select-outline").remove(),o._fullLayout._drawing=!1}}},{}],291:[function(m,de,te){"use strict";var o=m("../../lib").strTranslate;function g(p,l){switch(p.type){case"log":return p.p2d(l);case"date":return p.p2r(l,0,p.calendar);default:return p.p2r(l)}}de.exports={p2r:g,r2p:function(p,l){switch(p.type){case"log":return p.d2p(l);case"date":return p.r2p(l,0,p.calendar);default:return p.r2p(l)}},axValue:function(p){var l="y"===p._id.charAt(0)?1:0;return function(c){return g(p,c[l])}},getTransform:function(p){return o(p.xaxis._offset,p.yaxis._offset)}}},{"../../lib":232}],292:[function(m,de,te){"use strict";var o=m("../../registry"),g=m("../../lib"),p=m("./axis_ids");de.exports=function(l){return function(c,C){var d=c[l];if(Array.isArray(d))for(var h=o.subplotsRegistry.cartesian,u=h.idRegex,_=C._subplots,b=_.xaxis,M=_.yaxis,L=_.cartesian,N=C._has("cartesian")||C._has("gl2d"),z=0;z<d.length;z++){var k=d[z];if(g.isPlainObject(k)){var D=p.cleanId(k.xref,"x",!1),S=p.cleanId(k.yref,"y",!1),P=u.x.test(D),H=u.y.test(S);if(P||H){N||g.pushUnique(C._basePlotModules,h);var E=!1;P&&-1===b.indexOf(D)&&(b.push(D),E=!0),H&&-1===M.indexOf(S)&&(M.push(S),E=!0),E&&P&&H&&L.push(D+S)}}}}}},{"../../lib":232,"../../registry":318,"./axis_ids":283}],293:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("../../registry"),p=m("../../lib"),l=m("../plots"),c=m("../../components/drawing"),C=m("../get_data").getModuleCalcData,d=m("./axis_ids"),h=m("./constants"),u=m("../../constants/xmlns_namespaces"),_=p.ensureSingle;function b(k,D,S){return p.ensureSingle(k,D,S,function(P){P.datum(S)})}function M(k,D,S,P,H){for(var E,I,w,B=h.traceLayerClasses,$=k._fullLayout,T=$._modules,Y=[],W=[],q=0;q<T.length;q++){var X=(E=T[q]).name,ee=g.modules[X].categories;if(ee.svg){var ce=E.layerName||X+"layer",me=E.plot;w=(I=C(S,me))[0],S=I[1],w.length&&Y.push({i:B.indexOf(ce),className:ce,plotMethod:me,cdModule:w}),ee.zoomScale&&W.push("."+ce)}}Y.sort(function(le,G){return le.i-G.i});var ae=D.plot.selectAll("g.mlayer").data(Y,function(le){return le.className});if(ae.enter().append("g").attr("class",function(le){return le.className}).classed("mlayer",!0).classed("rangeplot",D.isRangePlot),ae.exit().remove(),ae.order(),ae.each(function(le){var G=o.select(this),j=le.className;le.plotMethod(k,D,le.cdModule,G,P,H),-1===h.clipOnAxisFalseQuery.indexOf("."+j)&&c.setClipUrl(G,D.layerClipId,k)}),$._has("scattergl")&&(E=g.getModule("scattergl"),w=C(S,E)[0],E.plot(k,D,w)),!k._context.staticPlot&&(D._hasClipOnAxisFalse&&(D.clipOnAxisFalseTraces=D.plot.selectAll(h.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),W.length)){var K=D.plot.selectAll(W.join(",")).selectAll(".trace");D.zoomScalePts=K.selectAll("path.point"),D.zoomScaleTxt=K.selectAll(".textpoint")}}function L(k,D){var S=D.plotgroup,P=D.id,H=h.layerValue2layerClass[D.xaxis.layer],E=h.layerValue2layerClass[D.yaxis.layer],I=k._fullLayout._hasOnlyLargeSploms;if(D.mainplot){var w=D.mainplotinfo,B=w.plotgroup,$=P+"-x",T=P+"-y";D.minorGridlayer=w.minorGridlayer,D.gridlayer=w.gridlayer,D.zerolinelayer=w.zerolinelayer,_(w.overlinesBelow,"path",$),_(w.overlinesBelow,"path",T),_(w.overaxesBelow,"g",$),_(w.overaxesBelow,"g",T),D.plot=_(w.overplot,"g",P),_(w.overlinesAbove,"path",$),_(w.overlinesAbove,"path",T),_(w.overaxesAbove,"g",$),_(w.overaxesAbove,"g",T),D.xlines=B.select(".overlines-"+H).select("."+$),D.ylines=B.select(".overlines-"+E).select("."+T),D.xaxislayer=B.select(".overaxes-"+H).select("."+$),D.yaxislayer=B.select(".overaxes-"+E).select("."+T)}else if(I)D.xlines=_(S,"path","xlines-above"),D.ylines=_(S,"path","ylines-above"),D.xaxislayer=_(S,"g","xaxislayer-above"),D.yaxislayer=_(S,"g","yaxislayer-above");else{var Y=_(S,"g","layer-subplot");D.shapelayer=_(Y,"g","shapelayer"),D.imagelayer=_(Y,"g","imagelayer"),D.minorGridlayer=_(S,"g","minor-gridlayer"),D.gridlayer=_(S,"g","gridlayer"),D.zerolinelayer=_(S,"g","zerolinelayer"),_(S,"path","xlines-below"),_(S,"path","ylines-below"),D.overlinesBelow=_(S,"g","overlines-below"),_(S,"g","xaxislayer-below"),_(S,"g","yaxislayer-below"),D.overaxesBelow=_(S,"g","overaxes-below"),D.plot=_(S,"g","plot"),D.overplot=_(S,"g","overplot"),D.xlines=_(S,"path","xlines-above"),D.ylines=_(S,"path","ylines-above"),D.overlinesAbove=_(S,"g","overlines-above"),_(S,"g","xaxislayer-above"),_(S,"g","yaxislayer-above"),D.overaxesAbove=_(S,"g","overaxes-above"),D.xlines=S.select(".xlines-"+H),D.ylines=S.select(".ylines-"+E),D.xaxislayer=S.select(".xaxislayer-"+H),D.yaxislayer=S.select(".yaxislayer-"+E)}I||(b(D.minorGridlayer,"g",D.xaxis._id),b(D.minorGridlayer,"g",D.yaxis._id),D.minorGridlayer.selectAll("g").map(function(W){return W[0]}).sort(d.idSort),b(D.gridlayer,"g",D.xaxis._id),b(D.gridlayer,"g",D.yaxis._id),D.gridlayer.selectAll("g").map(function(W){return W[0]}).sort(d.idSort)),D.xlines.style("fill","none").classed("crisp",!0),D.ylines.style("fill","none").classed("crisp",!0)}function N(k,D){if(k){var S={};for(var P in k.each(function(w){var B=w[0];o.select(this).remove(),z(B,D),S[B]=!0}),D._plots)for(var H=D._plots[P].overlays||[],E=0;E<H.length;E++){var I=H[E];S[I.id]&&I.plot.selectAll(".trace").remove()}}}function z(k,D){D._draggers.selectAll("g."+k).remove(),D._defs.select("#clip"+D._uid+k+"plot").remove()}te.name="cartesian",te.attr=["xaxis","yaxis"],te.idRoot=["x","y"],te.idRegex=h.idRegex,te.attrRegex=h.attrRegex,te.attributes=m("./attributes"),te.layoutAttributes=m("./layout_attributes"),te.supplyLayoutDefaults=m("./layout_defaults"),te.transitionAxes=m("./transition_axes"),te.finalizeSubplots=function(k,D){var S,P,H,E=D._subplots,I=E.xaxis,w=E.yaxis,B=E.cartesian,$=B.concat(E.gl2d||[]),T={},Y={};for(S=0;S<$.length;S++){var W=$[S].split("y");T[W[0]]=1,Y["y"+W[1]]=1}for(S=0;S<I.length;S++)T[P=I[S]]||(H=(k[d.id2name(P)]||{}).anchor,h.idRegex.y.test(H)||(H="y"),B.push(P+H),$.push(P+H),Y[H]||(Y[H]=1,p.pushUnique(w,H)));for(S=0;S<w.length;S++)Y[H=w[S]]||(P=(k[d.id2name(H)]||{}).anchor,h.idRegex.x.test(P)||(P="x"),B.push(P+H),$.push(P+H),T[P]||(T[P]=1,p.pushUnique(I,P)));if(!$.length){for(var q in P="",H="",k)h.attrRegex.test(q)&&("x"===q.charAt(0)?(!P||+q.substr(5)<+P.substr(5))&&(P=q):(!H||+q.substr(5)<+H.substr(5))&&(H=q));P=P?d.name2id(P):"x",H=H?d.name2id(H):"y",I.push(P),w.push(H),B.push(P+H)}},te.plot=function(k,D,S,P){var H,E=k._fullLayout,I=E._subplots.cartesian,w=k.calcdata;if(!Array.isArray(D))for(D=[],H=0;H<w.length;H++)D.push(H);for(H=0;H<I.length;H++){for(var B,$=I[H],T=E._plots[$],Y=[],W=0;W<w.length;W++){var q=w[W],X=q[0].trace;X.xaxis+X.yaxis===$&&((-1!==D.indexOf(X.index)||X.carpet)&&(B&&B[0].trace.xaxis+B[0].trace.yaxis===$&&-1!==["tonextx","tonexty","tonext"].indexOf(X.fill)&&-1===Y.indexOf(B)&&Y.push(B),Y.push(q)),B=q)}M(k,T,Y,S,P)}},te.clean=function(k,D,S,P){var H,E,I,w=P._plots||{},B=D._plots||{},$=P._subplots||{};if(P._hasOnlyLargeSploms&&!D._hasOnlyLargeSploms)for(I in w)(H=w[I]).plotgroup&&H.plotgroup.remove();var T=P._has&&P._has("gl"),Y=D._has&&D._has("gl");if(T&&!Y)for(I in w)(H=w[I])._scene&&H._scene.destroy();if($.xaxis&&$.yaxis){var W=d.listIds({_fullLayout:P});for(E=0;E<W.length;E++){var q=W[E];D[d.id2name(q)]||P._infolayer.selectAll(".g-"+q+"title").remove()}}var X=P._has&&P._has("cartesian"),ee=D._has&&D._has("cartesian");if(X&&!ee)N(P._cartesianlayer.selectAll(".subplot"),P),P._defs.selectAll(".axesclip").remove(),delete P._axisConstraintGroups,delete P._axisMatchGroups;else if($.cartesian)for(E=0;E<$.cartesian.length;E++){var ce=$.cartesian[E];B[ce]||(P._cartesianlayer.selectAll("."+ce+",."+ce+"-x,."+ce+"-y").remove(),z(ce,P))}},te.drawFramework=function(k){var D=k._fullLayout,S=function(H){var E,I,w,B,$,T,Y=H._fullLayout,W=Y._subplots.cartesian,q=W.length,X=[],ee=[];for(E=0;E<q;E++){var ae=($=(B=Y._plots[w=W[E]]).xaxis)._mainAxis._id+(T=B.yaxis)._mainAxis._id,K=Y._plots[ae];B.overlays=[],ae!==w&&K?(B.mainplot=ae,B.mainplotinfo=K,ee.push(w)):(B.mainplot=void 0,B.mainplotinfo=void 0,X.push(w))}for(E=0;E<ee.length;E++)(B=Y._plots[w=ee[E]]).mainplotinfo.overlays.push(B);var le=X.concat(ee),G=new Array(q);for(E=0;E<q;E++){var j=[w=le[E],($=(B=Y._plots[w]).xaxis).layer,(T=B.yaxis).layer,$.overlaying||"",T.overlaying||""];for(I=0;I<B.overlays.length;I++)j.push(B.overlays[I].id);G[E]=j}return G}(k),P=D._cartesianlayer.selectAll(".subplot").data(S,String);P.enter().append("g").attr("class",function(H){return"subplot "+H[0]}),P.order(),P.exit().call(N,D),P.each(function(H){var E=H[0],I=D._plots[E];I.plotgroup=o.select(this),L(k,I),I.draglayer=_(D._draggers,"g",E)})},te.rangePlot=function(k,D,S){L(k,D),M(k,D,S),l.style(k)},te.toSVG=function(k){var D=k._fullLayout._glimages,S=o.select(k).selectAll(".svg-container");S.filter(function(P,H){return H===S.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var P=this.toDataURL("image/png");D.append("svg:image").attr({xmlns:u.svg,"xlink:href":P,preserveAspectRatio:"none",x:0,y:0,width:this.style.width,height:this.style.height})})},te.updateFx=m("./graph_interact").updateFx},{"../../components/drawing":124,"../../constants/xmlns_namespaces":213,"../../lib":232,"../../registry":318,"../get_data":312,"../plots":316,"./attributes":277,"./axis_ids":283,"./constants":286,"./graph_interact":289,"./layout_attributes":294,"./layout_defaults":295,"./transition_axes":306,"@plotly/d3":11}],294:[function(m,de,te){"use strict";var o=m("../font_attributes"),g=m("../../components/color/attributes"),p=m("../../components/drawing/attributes").dash,l=m("../../lib/extend").extendFlat,c=m("../../plot_api/plot_template").templatedArray,C=m("../../plots/cartesian/axis_format_attributes").descriptionWithDates,d=m("../../constants/numerical").ONEDAY,h=m("./constants"),u=h.HOUR_PATTERN,_=h.WEEKDAY_PATTERN,b={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}};function M(B){return{valType:"integer",min:0,dflt:B?5:0,editType:"ticks"}}var L={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},N={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},z={valType:"data_array",editType:"ticks"},k={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function D(B){var $={valType:"number",min:0,editType:"ticks"};return B||($.dflt=5),$}function S(B){var $={valType:"number",min:0,editType:"ticks"};return B||($.dflt=1),$}var P={valType:"color",dflt:g.defaultLine,editType:"ticks"},H={valType:"color",dflt:g.lightLine,editType:"ticks"};function E(B){var $={valType:"number",min:0,editType:"ticks"};return B||($.dflt=1),$}var I=l({},p,{editType:"ticks"}),w={valType:"boolean",editType:"ticks"};de.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:g.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:o({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[h.idRegex.x.toString(),h.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[h.idRegex.x.toString(),h.idRegex.y.toString()],editType:"calc"},rangebreaks:c("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[_,u,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:d},editType:"calc"}),tickmode:b,nticks:M(),tick0:L,dtick:N,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:z,ticktext:{valType:"data_array",editType:"ticks"},ticks:k,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:D(),tickwidth:S(),tickcolor:P,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},automargin:{valType:"boolean",dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:l({},p,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:o({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:C("tick label")},tickformatstops:c("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:C("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:g.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:w,gridcolor:H,gridwidth:E(),griddash:I,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:g.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:g.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",h.idRegex.x.toString(),h.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",h.idRegex.x.toString(),h.idRegex.y.toString()],editType:"plot"},minor:{tickmode:b,nticks:M("minor"),tick0:L,dtick:N,tickvals:z,ticks:k,ticklen:D("minor"),tickwidth:S("minor"),tickcolor:P,gridcolor:H,gridwidth:E("minor"),griddash:I,showgrid:w,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:o({editType:"ticks"})}}},{"../../components/color/attributes":101,"../../components/drawing/attributes":123,"../../constants/numerical":212,"../../lib/extend":226,"../../plot_api/plot_template":268,"../../plots/cartesian/axis_format_attributes":282,"../font_attributes":310,"./constants":286}],295:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("../../components/color"),p=m("../../components/fx/helpers").isUnifiedHover,l=m("../../components/fx/hovermode_defaults"),c=m("../../plot_api/plot_template"),C=m("../layout_attributes"),d=m("./layout_attributes"),h=m("./type_defaults"),u=m("./axis_defaults"),_=m("./constraints"),b=m("./position_defaults"),M=m("./axis_ids"),L=M.id2name,N=M.name2id,z=m("./constants").AX_ID_PATTERN,k=m("../../registry"),D=k.traceIs,S=k.getComponentMethod;function P(H,E,I){Array.isArray(H[E])?H[E].push(I):H[E]=[I]}de.exports=function(H,E,I){var w,B,$=E.autotypenumbers,T={},Y={},W={},q={},X={},ee={},ce={},me={},ae={},K={};for(w=0;w<I.length;w++){var le=I[w];if(D(le,"cartesian")||D(le,"gl2d")){var G,j;if(le.xaxis)G=L(le.xaxis),P(T,G,le);else if(le.xaxes)for(B=0;B<le.xaxes.length;B++)P(T,L(le.xaxes[B]),le);if(le.yaxis)j=L(le.yaxis),P(T,j,le);else if(le.yaxes)for(B=0;B<le.yaxes.length;B++)P(T,L(le.yaxes[B]),le);"funnel"===le.type?"h"===le.orientation?(G&&(Y[G]=!0),j&&(ce[j]=!0)):j&&(W[j]=!0):"image"===le.type?(j&&(me[j]=!0),G&&(me[G]=!0)):(j&&(X[j]=!0,ee[j]=!0),D(le,"carpet")&&("carpet"!==le.type||le._cheater)||G&&(q[G]=!0)),"carpet"===le.type&&le._cheater&&G&&(Y[G]=!0),D(le,"2dMap")&&(ae[G]=!0,ae[j]=!0),D(le,"oriented")&&(K["h"===le.orientation?j:G]=!0)}}var oe=E._subplots,re=oe.xaxis,F=oe.yaxis,O=o.simpleMap(re,L),J=o.simpleMap(F,L),R=O.concat(J),ie=g.background;re.length&&F.length&&(ie=o.coerce(H,E,C,"plot_bgcolor"));var fe,ue,he,Me,be,Ae=g.combine(ie,E.paper_bgcolor);function ze(){be._traceIndices=(T[fe]||[]).map(function(C1){return C1._expandedIndex}),be._annIndices=[],be._shapeIndices=[],be._imgIndices=[],be._subplotsWith=[],be._counterAxes=[],be._name=be._attr=fe,be._id=ue}function Pe(Be,C1){return o.coerce(Me,be,d,Be,C1)}function Fe(Be,C1){return o.coerce2(Me,be,d,Be,C1)}function t1(Be){return"x"===Be?F:re}function Xe(Be,C1){for(var O1="x"===Be?O:J,Q1=[],l2=0;l2<O1.length;l2++){var G1=O1[l2];G1===C1||(H[G1]||{}).overlaying||Q1.push(N(G1))}return Q1}var Ue={x:t1("x"),y:t1("y")},xe=Ue.x.concat(Ue.y),ve={},De=[];function Ve(){var Be=Me.matches;z.test(Be)&&-1===xe.indexOf(Be)&&(ve[Be]=Me.type,De=Object.keys(ve))}var Ye=l(H,E),Oe=p(Ye);for(w=0;w<R.length;w++){ue=N(fe=R[w]),he=fe.charAt(0),o.isPlainObject(H[fe])||(H[fe]={}),Me=H[fe],be=c.newContainer(E,fe,he+"axis"),ze();var n1={hasMinor:!0,letter:he,font:E.font,outerTicks:ae[fe],showGrid:!K[fe],data:T[fe]||[],bgColor:Ae,calendar:E.calendar,automargin:!0,visibleDflt:"x"===he&&!q[fe]&&Y[fe]||"y"===he&&!X[fe]&&W[fe],reverseDflt:"y"===he&&(!ee[fe]&&ce[fe]||me[fe]),autotypenumbersDflt:$,splomStash:((E._splomAxes||{})[he]||{})[ue]};Pe("uirevision",E.uirevision),h(Me,be,Pe,n1),u(Me,be,Pe,n1,E);var Ke=Oe&&he===Ye.charAt(0),r1=Fe("spikecolor",Oe?be.color:void 0),f1=Fe("spikethickness",Oe?1.5:void 0),Je=Fe("spikedash",Oe?"dot":void 0),g1=Fe("spikemode",Oe?"across":void 0),b1=Fe("spikesnap");Pe("showspikes",!!(Ke||r1||f1||Je||g1||b1))||(delete be.spikecolor,delete be.spikethickness,delete be.spikedash,delete be.spikemode,delete be.spikesnap),b(Me,be,Pe,{letter:he,counterAxes:Ue[he],overlayableAxes:Xe(he,fe),grid:E.grid}),Pe("title.standoff"),Ve(),be._input=Me}for(w=0;w<De.length;){ue=De[w++],he=(fe=L(ue)).charAt(0),o.isPlainObject(H[fe])||(H[fe]={}),Me=H[fe],be=c.newContainer(E,fe,he+"axis"),ze();var _1={letter:he,font:E.font,outerTicks:ae[fe],showGrid:!K[fe],data:[],bgColor:Ae,calendar:E.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:$,splomStash:((E._splomAxes||{})[he]||{})[ue]};Pe("uirevision",E.uirevision),be.type=ve[ue]||"linear",u(Me,be,Pe,_1,E),b(Me,be,Pe,{letter:he,counterAxes:Ue[he],overlayableAxes:Xe(he,fe),grid:E.grid}),Pe("fixedrange"),Ve(),be._input=Me}var I1=S("rangeslider","handleDefaults"),M1=S("rangeselector","handleDefaults");for(w=0;w<O.length;w++)Me=H[fe=O[w]],be=E[fe],I1(H,E,fe),"date"===be.type&&M1(Me,be,E,J,be.calendar),Pe("fixedrange");for(w=0;w<J.length;w++){Me=H[fe=J[w]];var Re=E[L((be=E[fe]).anchor)];Pe("fixedrange",S("rangeslider","isVisible")(Re))}_.handleDefaults(H,E,{axIds:xe.concat(De).sort(M.idSort),axHasImage:me})}},{"../../components/color":102,"../../components/fx/helpers":138,"../../components/fx/hovermode_defaults":141,"../../lib":232,"../../plot_api/plot_template":268,"../../registry":318,"../layout_attributes":314,"./axis_defaults":281,"./axis_ids":283,"./constants":286,"./constraints":287,"./layout_attributes":294,"./position_defaults":297,"./type_defaults":307}],296:[function(m,de,te){"use strict";var o=m("tinycolor2").mix,g=m("../../components/color/attributes"),p=m("../../lib");de.exports=function(l,c,C,d){var h=(d=d||{}).dfltColor;function u(H,E){return p.coerce2(l,c,d.attributes,H,E)}var _=u("linecolor",h),b=u("linewidth");C("showline",d.showLine||!!_||!!b)||(delete c.linecolor,delete c.linewidth);var M=u("gridcolor",o(h,d.bgColor,d.blend||g.lightFraction).toRgbString()),L=u("gridwidth"),N=u("griddash");if(C("showgrid",d.showGrid||!!M||!!L||!!N)||(delete c.gridcolor,delete c.gridwidth,delete c.griddash),d.hasMinor){var z=u("minor.gridcolor",o(c.gridcolor,d.bgColor,67).toRgbString()),k=u("minor.gridwidth",c.gridwidth||1),D=u("minor.griddash",c.griddash||"solid");C("minor.showgrid",!!z||!!k||!!D)||(delete c.minor.gridcolor,delete c.minor.gridwidth,delete c.minor.griddash)}if(!d.noZeroLine){var S=u("zerolinecolor",h),P=u("zerolinewidth");C("zeroline",d.showGrid||!!S||!!P)||(delete c.zerolinecolor,delete c.zerolinewidth)}}},{"../../components/color/attributes":101,"../../lib":232,tinycolor2:67}],297:[function(m,de,te){"use strict";var o=m("fast-isnumeric"),g=m("../../lib");de.exports=function(p,l,c,C){var d,h,u,_,b=C.counterAxes||[],M=C.overlayableAxes||[],L=C.letter,N=C.grid;N&&(d=N._anchors[l._id],(h=N._domains[L][N._axisMap[l._id]])&&(u=N[L+"side"].split(" ")[0],_=N.domain[L]["right"===u||"top"===u?1:0])),h=h||[0,1],d=d||(o(p.position)?"free":b[0]||"free"),u=u||("x"===L?"bottom":"left"),_=_||0,"free"===g.coerce(p,l,{anchor:{valType:"enumerated",values:["free"].concat(b),dflt:d}},"anchor")&&c("position",_),g.coerce(p,l,{side:{valType:"enumerated",values:"x"===L?["bottom","top"]:["left","right"],dflt:u}},"side");var z=!1;if(M.length&&(z=g.coerce(p,l,{overlaying:{valType:"enumerated",values:[!1].concat(M),dflt:!1}},"overlaying")),!z){var k=c("domain",h);k[0]>k[1]-1/4096&&(l.domain=h),g.noneOrAll(p.domain,l.domain,h)}return c("layer"),l}},{"../../lib":232,"fast-isnumeric":17}],298:[function(m,de,te){"use strict";var o=m("./show_dflt");de.exports=function(g,p,l,c,C){C||(C={});var d=C.tickSuffixDflt,h=o(g);l("tickprefix")&&l("showtickprefix",h),l("ticksuffix",d)&&l("showticksuffix",h)}},{"./show_dflt":302}],299:[function(m,de,te){"use strict";var o=m("../../constants/alignment").FROM_BL;de.exports=function(g,p,l){void 0===l&&(l=o[g.constraintoward||"center"]);var c=[g.r2l(g.range[0]),g.r2l(g.range[1])],C=c[0]+(c[1]-c[0])*l;g.range=g._input.range=[g.l2r(C+(c[0]-C)*p),g.l2r(C+(c[1]-C)*p)],g.setScale()}},{"../../constants/alignment":207}],300:[function(m,de,te){"use strict";var o=m("polybooljs"),g=m("../../registry"),p=m("../../components/drawing").dashStyle,l=m("../../components/color"),c=m("../../components/fx"),C=m("../../components/fx/helpers").makeEventData,d=m("../../components/dragelement/helpers"),h=d.freeMode,u=d.rectMode,_=d.drawMode,b=d.openMode,M=d.selectMode,L=m("../../components/shapes/draw_newshape/display_outlines"),N=m("../../components/shapes/draw_newshape/helpers").handleEllipse,z=m("../../components/shapes/draw_newshape/newshapes"),k=m("../../lib"),D=m("../../lib/polygon"),S=m("../../lib/throttle"),P=m("./axis_ids").getFromId,H=m("../../lib/clear_gl_canvases"),E=m("../../plot_api/subroutines").redrawReglTraces,I=m("./constants"),w=I.MINSELECT,B=D.filter,$=D.tester,T=m("./handle_outline").clearSelect,Y=m("./helpers"),W=Y.p2r,q=Y.axValue,X=Y.getTransform;function ee(O,J,R,ie,fe,ue,he){var Me,be,Ae,ze,Pe,Fe,t1,Xe,Ue,Qe,xe=J._hoverdata,ve=J._fullLayout.clickmode.indexOf("event")>-1,De=[];if((Qe=xe)&&Array.isArray(Qe)&&!0!==Qe[0].hoverOnBox){K(O,J,ue);var Ve=function(Qe,n1){var Ke,r1,f1=Qe[0],Je=-1,g1=[];for(r1=0;r1<n1.length;r1++)if(f1.fullData._expandedIndex===(Ke=n1[r1]).cd[0].trace._expandedIndex){if(!0===f1.hoverOnBox)break;void 0!==f1.pointNumber?Je=f1.pointNumber:void 0!==f1.binNumber&&(Je=f1.binNumber,g1=f1.pointNumbers);break}return{pointNumber:Je,pointNumbers:g1,searchInfo:Ke}}(xe,Me=G(J,R,ie,fe));if(Ve.pointNumbers.length>0?function(Qe,n1){var Ke,r1,f1,Je=[];for(f1=0;f1<Qe.length;f1++)(Ke=Qe[f1]).cd[0].trace.selectedpoints&&Ke.cd[0].trace.selectedpoints.length>0&&Je.push(Ke);if(1===Je.length&&Je[0]===n1.searchInfo&&(r1=n1.searchInfo.cd[0].trace).selectedpoints.length===n1.pointNumbers.length){for(f1=0;f1<n1.pointNumbers.length;f1++)if(r1.selectedpoints.indexOf(n1.pointNumbers[f1])<0)return!1;return!0}return!1}(Me,Ve):function(Qe){var Ke,r1,f1=0;for(r1=0;r1<Qe.length;r1++)if((Ke=Qe[r1].cd[0].trace).selectedpoints&&(Ke.selectedpoints.length>1||(f1+=Ke.selectedpoints.length)>1))return!1;return 1===f1}(Me)&&(Fe=j(Ve))){for(he&&he.remove(),Ue=0;Ue<Me.length;Ue++)(be=Me[Ue])._module.selectPoints(be,!1);oe(J,Me),le(ue),ve&&J.emit("plotly_deselect",null)}else{for(t1=O.shiftKey&&(void 0!==Fe?Fe:j(Ve)),Ae=function(Qe,n1,Ke){return{pointNumber:Qe,searchInfo:n1,subtract:Ke}}(Ve.pointNumber,Ve.searchInfo,t1),ze=ae(ue.selectionDefs.concat([Ae])),Ue=0;Ue<Me.length;Ue++)if(Pe=re(Me[Ue]._module.selectPoints(Me[Ue],ze),Me[Ue]),De.length)for(var Ye=0;Ye<Pe.length;Ye++)De.push(Pe[Ye]);else De=Pe;if(oe(J,Me,Xe={points:De}),Ae&&ue&&ue.selectionDefs.push(Ae),he){var Oe=ue.mergedPolygons,Ie=b(ue.dragmode);L(F(Oe,Ie),he,ue)}ve&&J.emit("plotly_selected",Xe)}}}function ce(O){return"pointNumber"in O&&"searchInfo"in O}function me(O){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(J,R,ie,fe){return fe.cd[0].trace._expandedIndex===O.searchInfo.cd[0].trace._expandedIndex&&ie===O.pointNumber},isRect:!1,degenerate:!1,subtract:O.subtract}}function ae(O){for(var J=[],R=ce(O[0])?0:O[0][0][0],ie=R,fe=ce(O[0])?0:O[0][0][1],ue=fe,he=0;he<O.length;he++)if(ce(O[he]))J.push(me(O[he]));else{var Me=D.tester(O[he]);Me.subtract=O[he].subtract,J.push(Me),R=Math.min(R,Me.xmin),ie=Math.max(ie,Me.xmax),fe=Math.min(fe,Me.ymin),ue=Math.max(ue,Me.ymax)}return{xmin:R,xmax:ie,ymin:fe,ymax:ue,pts:[],contains:function(be,Ae,ze,Pe){for(var Fe=!1,t1=0;t1<J.length;t1++)J[t1].contains(be,Ae,ze,Pe)&&(Fe=!1===J[t1].subtract);return Fe},isRect:!1,degenerate:!1}}function K(O,J,R){J._fullLayout._drawing=!1;var ie=J._fullLayout,fe=R.plotinfo,ue=R.dragmode,he=ie._lastSelectedSubplot&&ie._lastSelectedSubplot===fe.id,Me=(O.shiftKey||O.altKey)&&!(_(ue)&&b(ue));he&&Me&&fe.selection&&fe.selection.selectionDefs&&!R.selectionDefs?(R.selectionDefs=fe.selection.selectionDefs,R.mergedPolygons=fe.selection.mergedPolygons):Me&&fe.selection||le(R),he||(T(J),ie._lastSelectedSubplot=fe.id)}function le(O){var J=O.dragmode,R=O.plotinfo,ie=O.gd;if(ie._fullLayout._activeShapeIndex>=0&&ie._fullLayout._deactivateShape(ie),_(J)){var fe=ie._fullLayout._zoomlayer.selectAll(".select-outline-"+R.id);if(fe&&ie._fullLayout._drawing){var ue=z(fe,O);ue&&g.call("_guiRelayout",ie,{shapes:ue}),ie._fullLayout._drawing=!1}}R.selection={},R.selection.selectionDefs=O.selectionDefs=[],R.selection.mergedPolygons=O.mergedPolygons=[]}function G(O,J,R,ie){var fe,ue,he,Me=[],be=J.map(function(t1){return t1._id}),Ae=R.map(function(t1){return t1._id});for(he=0;he<O.calcdata.length;he++)if(!0===(ue=(fe=O.calcdata[he])[0].trace).visible&&ue._module&&ue._module.selectPoints)if(!ie||ue.subplot!==ie&&ue.geo!==ie)if("splom"===ue.type&&ue._xaxes[be[0]]&&ue._yaxes[Ae[0]]){var ze=Fe(ue._module,fe,J[0],R[0]);ze.scene=O._fullLayout._splomScenes[ue.uid],Me.push(ze)}else if("sankey"===ue.type){var Pe=Fe(ue._module,fe,J[0],R[0]);Me.push(Pe)}else{if(-1===be.indexOf(ue.xaxis)||-1===Ae.indexOf(ue.yaxis))continue;Me.push(Fe(ue._module,fe,P(O,ue.xaxis),P(O,ue.yaxis)))}else Me.push(Fe(ue._module,fe,J[0],R[0]));return Me;function Fe(t1,Xe,Ue,xe){return{_module:t1,cd:Xe,xaxis:Ue,yaxis:xe}}}function j(O){var J=O.searchInfo.cd[0].trace,ie=O.pointNumbers;return!!J.selectedpoints&&J.selectedpoints.indexOf(ie.length>0?ie[0]:O.pointNumber)>-1}function oe(O,J,R){var ie,fe,ue,he;for(ie=0;ie<J.length;ie++){var Me=J[ie].cd[0].trace._fullInput,be=O._fullLayout._tracePreGUI[Me.uid]||{};void 0===be.selectedpoints&&(be.selectedpoints=Me._input.selectedpoints||null)}if(R){var Ae=R.points||[];for(ie=0;ie<J.length;ie++)(he=J[ie].cd[0].trace)._input.selectedpoints=he._fullInput.selectedpoints=[],he._fullInput!==he&&(he.selectedpoints=[]);for(ie=0;ie<Ae.length;ie++){var ze=Ae[ie],Pe=ze.data,Fe=ze.fullData;ze.pointIndices?([].push.apply(Pe.selectedpoints,ze.pointIndices),he._fullInput!==he&&[].push.apply(Fe.selectedpoints,ze.pointIndices)):(Pe.selectedpoints.push(ze.pointIndex),he._fullInput!==he&&Fe.selectedpoints.push(ze.pointIndex))}}else for(ie=0;ie<J.length;ie++)delete(he=J[ie].cd[0].trace).selectedpoints,delete he._input.selectedpoints,he._fullInput!==he&&delete he._fullInput.selectedpoints;var t1=!1;for(ie=0;ie<J.length;ie++){he=(ue=(fe=J[ie]).cd)[0].trace,g.traceIs(he,"regl")&&(t1=!0);var Xe=fe._module,Ue=Xe.styleOnSelect||Xe.style;Ue&&(Ue(O,ue,ue[0].node3),ue[0].nodeRangePlot3&&Ue(O,ue,ue[0].nodeRangePlot3))}t1&&(H(O),E(O))}function re(O,J){if(Array.isArray(O))for(var R=J.cd,ie=J.cd[0].trace,fe=0;fe<O.length;fe++)O[fe]=C(O[fe],ie,R);return O}function F(O,J){for(var R=[],ie=0;ie<O.length;ie++){R[ie]=[];for(var fe=0;fe<O[ie].length;fe++){R[ie][fe]=[],R[ie][fe][0]=fe?"L":"M";for(var ue=0;ue<O[ie][fe].length;ue++)R[ie][fe].push(O[ie][fe][ue])}J||R[ie].push(["Z",R[ie][0][1],R[ie][0][2]])}return R}de.exports={prepSelect:function(O,J,R,ie,fe){var ue=h(fe),he=u(fe),Me=b(fe),be=_(fe),Ae=M(fe),ze="drawcircle"===fe,Pe="drawline"===fe||ze,Fe=ie.gd,t1=Fe._fullLayout,Xe=t1._zoomlayer,Ue=ie.element.getBoundingClientRect(),xe=ie.plotinfo,ve=X(xe),De=J-Ue.left,Ve=R-Ue.top;t1._calcInverseTransform(Fe);var Oe,Ie,Qe,n1,Ke,r1,f1,Ye=k.apply3DTransform(t1._invTransform)(De,Ve),Je=t1._invScaleX,g1=t1._invScaleY,b1=De=Ye[0],_1=Ve=Ye[1],I1="M"+De+","+Ve,M1=ie.xaxes[0]._length,Re=ie.yaxes[0]._length,Be=ie.xaxes.concat(ie.yaxes),C1=O.altKey&&!(_(fe)&&Me);K(O,Fe,ie),ue&&(Oe=B([[De,Ve]],I.BENDPX));var O1=Xe.selectAll("path.select-outline-"+xe.id).data(be?[0]:[1,2]),Q1=t1.newshape;O1.enter().append("path").attr("class",function(je){return"select-outline select-outline-"+je+" select-outline-"+xe.id}).style(be?{opacity:Q1.opacity/2,fill:Me?void 0:Q1.fillcolor,stroke:Q1.line.color,"stroke-dasharray":p(Q1.line.dash,Q1.line.width),"stroke-width":Q1.line.width+"px"}:{}).attr("fill-rule",Q1.fillrule).classed("cursor-move",!!be).attr("transform",ve).attr("d",I1+"Z");var l2,G1=Xe.append("path").attr("class","zoombox-corners").style({fill:l.background,stroke:l.defaultLine,"stroke-width":1}).attr("transform",ve).attr("d","M0,0Z"),K1=t1._uid+I.SELECTID,N1=[],ge=G(Fe,ie.xaxes,ie.yaxes,ie.subplot);function ye(je,e1){return je-e1}l2=xe.fillRangeItems?xe.fillRangeItems:he?function(je,e1){var d1=je.range={};for(Ke=0;Ke<Be.length;Ke++){var i1=Be[Ke],l1=i1._id.charAt(0);d1[i1._id]=[W(i1,e1[l1+"min"]),W(i1,e1[l1+"max"])].sort(ye)}}:function(je,e1,d1){var i1=je.lassoPoints={};for(Ke=0;Ke<Be.length;Ke++){var l1=Be[Ke];i1[l1._id]=d1.filtered.map(q(l1))}},ie.moveFn=function(je,e1){b1=Math.max(0,Math.min(M1,Je*je+De)),_1=Math.max(0,Math.min(Re,g1*e1+Ve));var B1,r2,d1=Math.abs(b1-De),i1=Math.abs(_1-Ve);if(he){var l1,c1,L1;if(Ae){var H1=t1.selectdirection;switch(l1="any"===H1?i1<Math.min(.6*d1,w)?"h":d1<Math.min(.6*i1,w)?"v":"d":H1){case"h":c1=ze?Re/2:0,L1=Re;break;case"v":c1=ze?M1/2:0,L1=M1}}if(be)switch(t1.newshape.drawdirection){case"vertical":l1="h",c1=ze?Re/2:0,L1=Re;break;case"horizontal":l1="v",c1=ze?M1/2:0,L1=M1;break;case"ortho":d1<i1?(l1="h",c1=Ve,L1=_1):(l1="v",c1=De,L1=b1);break;default:l1="d"}"h"===l1?((n1=Pe?N(ze,[b1,c1],[b1,L1]):[[De,c1],[De,L1],[b1,L1],[b1,c1]]).xmin=Pe?b1:Math.min(De,b1),n1.xmax=Pe?b1:Math.max(De,b1),n1.ymin=Math.min(c1,L1),n1.ymax=Math.max(c1,L1),G1.attr("d","M"+n1.xmin+","+(Ve-w)+"h-4v"+2*w+"h4ZM"+(n1.xmax-1)+","+(Ve-w)+"h4v"+2*w+"h-4Z")):"v"===l1?((n1=Pe?N(ze,[c1,_1],[L1,_1]):[[c1,Ve],[c1,_1],[L1,_1],[L1,Ve]]).xmin=Math.min(c1,L1),n1.xmax=Math.max(c1,L1),n1.ymin=Pe?_1:Math.min(Ve,_1),n1.ymax=Pe?_1:Math.max(Ve,_1),G1.attr("d","M"+(De-w)+","+n1.ymin+"v-4h"+2*w+"v4ZM"+(De-w)+","+(n1.ymax-1)+"v4h"+2*w+"v-4Z")):"d"===l1&&((n1=Pe?N(ze,[De,Ve],[b1,_1]):[[De,Ve],[De,_1],[b1,_1],[b1,Ve]]).xmin=Math.min(De,b1),n1.xmax=Math.max(De,b1),n1.ymin=Math.min(Ve,_1),n1.ymax=Math.max(Ve,_1),G1.attr("d","M0,0Z"))}else ue&&(Oe.addPt([b1,_1]),n1=Oe.filtered);ie.selectionDefs&&ie.selectionDefs.length?(B1=ie.mergedPolygons,r2=n1,Qe=C1?o.difference({regions:B1,inverted:!1},{regions:[r2],inverted:!1}).regions:o.union({regions:B1,inverted:!1},{regions:[r2],inverted:!1}).regions,n1.subtract=C1,Ie=ae(ie.selectionDefs.concat([n1]))):(Qe=[n1],Ie=$(n1)),L(F(Qe,Me),O1,ie),Ae&&S.throttle(K1,I.SELECTDELAY,function(){var B1;N1=[];var r2,V1=[];for(Ke=0;Ke<ge.length;Ke++)if(r2=(r1=ge[Ke])._module.selectPoints(r1,Ie),V1.push(r2),B1=re(r2,r1),N1.length)for(var q1=0;q1<B1.length;q1++)N1.push(B1[q1]);else N1=B1;oe(Fe,ge,f1={points:N1}),l2(f1,n1,Oe),ie.gd.emit("plotly_selecting",f1)})},ie.clickFn=function(je,e1){if(G1.remove(),Fe._fullLayout._activeShapeIndex>=0)Fe._fullLayout._deactivateShape(Fe);else if(!be){var d1=t1.clickmode;S.done(K1).then(function(){if(S.clear(K1),2===je){for(O1.remove(),Ke=0;Ke<ge.length;Ke++)(r1=ge[Ke])._module.selectPoints(r1,!1);oe(Fe,ge),le(ie),Fe.emit("plotly_deselect",null)}else d1.indexOf("select")>-1&&ee(e1,Fe,ie.xaxes,ie.yaxes,ie.subplot,ie,O1),"event"===d1&&Fe.emit("plotly_selected",void 0);c.click(Fe,e1)}).catch(k.error)}},ie.doneFn=function(){G1.remove(),S.done(K1).then(function(){S.clear(K1),ie.gd.emit("plotly_selected",f1),n1&&ie.selectionDefs&&(n1.subtract=C1,ie.selectionDefs.push(n1),ie.mergedPolygons.length=0,[].push.apply(ie.mergedPolygons,Qe)),ie.doneFnCompleted&&ie.doneFnCompleted(N1)}).catch(k.error),be&&le(ie)}},clearSelect:T,clearSelectionsCache:le,selectOnClick:ee}},{"../../components/color":102,"../../components/dragelement/helpers":120,"../../components/drawing":124,"../../components/fx":142,"../../components/fx/helpers":138,"../../components/shapes/draw_newshape/display_outlines":190,"../../components/shapes/draw_newshape/helpers":191,"../../components/shapes/draw_newshape/newshapes":192,"../../lib":232,"../../lib/clear_gl_canvases":220,"../../lib/polygon":244,"../../lib/throttle":256,"../../plot_api/subroutines":269,"../../registry":318,"./axis_ids":283,"./constants":286,"./handle_outline":290,"./helpers":291,polybooljs:57}],301:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("d3-time-format").utcFormat,p=m("../../lib"),l=p.numberFormat,c=m("fast-isnumeric"),C=p.cleanNumber,d=p.ms2DateTime,h=p.dateTime2ms,u=p.ensureNumber,_=p.isArrayOrTypedArray,b=m("../../constants/numerical"),M=b.FP_SAFE,L=b.BADNUM,N=b.LOG_CLIP,z=b.ONEWEEK,k=b.ONEDAY,D=b.ONEHOUR,S=b.ONEMIN,P=b.ONESEC,H=m("./axis_ids"),E=m("./constants"),I=E.HOUR_PATTERN,w=E.WEEKDAY_PATTERN;function B(T){return Math.pow(10,T)}function $(T){return null!=T}de.exports=function(T,Y){Y=Y||{};var W=T._id||"x",q=W.charAt(0);function X(R,ie){if(R>0)return Math.log(R)/Math.LN10;if(R<=0&&ie&&T.range&&2===T.range.length){var fe=T.range[0],ue=T.range[1];return.5*(fe+ue-2*N*Math.abs(fe-ue))}return L}function ee(R,ie,fe,ue){if((ue||{}).msUTC&&c(R))return+R;var he=h(R,fe||T.calendar);if(he===L){if(!c(R))return L;R=+R;var Me=Math.floor(10*p.mod(R+.05,1)),be=Math.round(R-Me/10);he=h(new Date(be))+Me/10}return he}function ce(R,ie,fe){return d(R,ie,fe||T.calendar)}function me(R){return T._categories[Math.round(R)]}function ae(R){if($(R)){if(void 0===T._categoriesMap&&(T._categoriesMap={}),void 0!==T._categoriesMap[R])return T._categoriesMap[R];T._categories.push("number"==typeof R?String(R):R);var ie=T._categories.length-1;return T._categoriesMap[R]=ie,ie}return L}function K(R){if(T._categoriesMap)return T._categoriesMap[R]}function le(R){var ie=K(R);return void 0!==ie?ie:c(R)?+R:void 0}function G(R){return c(R)?+R:K(R)}function j(R,ie,fe){return o.round(fe+ie*R,2)}function oe(R,ie,fe){return(R-fe)/ie}var re=function(R){return c(R)?j(R,T._m,T._b):L},F=function(R){return oe(R,T._m,T._b)};if(T.rangebreaks){var O="y"===q;re=function(R){if(!c(R))return L;var ie=T._rangebreaks.length;if(!ie)return j(R,T._m,T._b);var fe=O;T.range[0]>T.range[1]&&(fe=!fe);for(var ue=fe?-1:1,he=ue*R,Me=0,be=0;be<ie;be++){var Ae=ue*T._rangebreaks[be].min,ze=ue*T._rangebreaks[be].max;if(he<Ae)break;if(!(he>ze)){Me=he<(Ae+ze)/2?be:be+1;break}Me=be+1}var Pe=T._B[Me]||0;return isFinite(Pe)?j(R,T._m2,Pe):0},F=function(R){var ie=T._rangebreaks.length;if(!ie)return oe(R,T._m,T._b);for(var fe=0,ue=0;ue<ie&&!(R<T._rangebreaks[ue].pmin);ue++)R>T._rangebreaks[ue].pmax&&(fe=ue+1);return oe(R,T._m2,T._B[fe])}}T.c2l="log"===T.type?X:u,T.l2c="log"===T.type?B:u,T.l2p=re,T.p2l=F,T.c2p="log"===T.type?function(R,ie){return re(X(R,ie))}:re,T.p2c="log"===T.type?function(R){return B(F(R))}:F,-1!==["linear","-"].indexOf(T.type)?(T.d2r=T.r2d=T.d2c=T.r2c=T.d2l=T.r2l=C,T.c2d=T.c2r=T.l2d=T.l2r=u,T.d2p=T.r2p=function(R){return T.l2p(C(R))},T.p2d=T.p2r=F,T.cleanPos=u):"log"===T.type?(T.d2r=T.d2l=function(R,ie){return X(C(R),ie)},T.r2d=T.r2c=function(R){return B(C(R))},T.d2c=T.r2l=C,T.c2d=T.l2r=u,T.c2r=X,T.l2d=B,T.d2p=function(R,ie){return T.l2p(T.d2r(R,ie))},T.p2d=function(R){return B(F(R))},T.r2p=function(R){return T.l2p(C(R))},T.p2r=F,T.cleanPos=u):"date"===T.type?(T.d2r=T.r2d=p.identity,T.d2c=T.r2c=T.d2l=T.r2l=ee,T.c2d=T.c2r=T.l2d=T.l2r=ce,T.d2p=T.r2p=function(R,ie,fe){return T.l2p(ee(R,0,fe))},T.p2d=T.p2r=function(R,ie,fe){return ce(F(R),ie,fe)},T.cleanPos=function(R){return p.cleanDate(R,L,T.calendar)}):"category"===T.type?(T.d2c=T.d2l=ae,T.r2d=T.c2d=T.l2d=me,T.d2r=T.d2l_noadd=le,T.r2c=function(R){var ie=G(R);return void 0!==ie?ie:T.fraction2r(.5)},T.l2r=T.c2r=u,T.r2l=G,T.d2p=function(R){return T.l2p(T.r2c(R))},T.p2d=function(R){return me(F(R))},T.r2p=T.d2p,T.p2r=F,T.cleanPos=function(R){return"string"==typeof R&&""!==R?R:u(R)}):"multicategory"===T.type&&(T.r2d=T.c2d=T.l2d=me,T.d2r=T.d2l_noadd=le,T.r2c=function(R){var ie=le(R);return void 0!==ie?ie:T.fraction2r(.5)},T.r2c_just_indices=K,T.l2r=T.c2r=u,T.r2l=le,T.d2p=function(R){return T.l2p(T.r2c(R))},T.p2d=function(R){return me(F(R))},T.r2p=T.d2p,T.p2r=F,T.cleanPos=function(R){return Array.isArray(R)||"string"==typeof R&&""!==R?R:u(R)},T.setupMultiCategory=function(R){var ie,fe,ue=T._traceIndices,he=T._matchGroup;if(he&&0===T._categories.length)for(var Me in he)if(Me!==W){var be=Y[H.id2name(Me)];ue=ue.concat(be._traceIndices)}var Ae=[[0,{}],[0,{}]],ze=[];for(ie=0;ie<ue.length;ie++){var Pe=R[ue[ie]];if(q in Pe){var Fe=Pe[q],t1=Pe._length||p.minRowLength(Fe);if(_(Fe[0])&&_(Fe[1]))for(fe=0;fe<t1;fe++){var Xe=Fe[0][fe],Ue=Fe[1][fe];$(Xe)&&$(Ue)&&(ze.push([Xe,Ue]),Xe in Ae[0][1]||(Ae[0][1][Xe]=Ae[0][0]++),Ue in Ae[1][1]||(Ae[1][1][Ue]=Ae[1][0]++))}}}for(ze.sort(function(xe,ve){var De=Ae[0][1],Ve=De[xe[0]]-De[ve[0]];if(Ve)return Ve;var Ye=Ae[1][1];return Ye[xe[1]]-Ye[ve[1]]}),ie=0;ie<ze.length;ie++)ae(ze[ie])}),T.fraction2r=function(R){var ie=T.r2l(T.range[0]),fe=T.r2l(T.range[1]);return T.l2r(ie+R*(fe-ie))},T.r2fraction=function(R){var ie=T.r2l(T.range[0]),fe=T.r2l(T.range[1]);return(T.r2l(R)-ie)/(fe-ie)},T.cleanRange=function(R,ie){ie||(ie={}),R||(R="range");var fe,ue,he=p.nestedProperty(T,R).get();if(ue=(ue="date"===T.type?p.dfltRange(T.calendar):"y"===q?E.DFLTRANGEY:"realaxis"===T._name?[0,1]:ie.dfltRange||E.DFLTRANGEX).slice(),"tozero"!==T.rangemode&&"nonnegative"!==T.rangemode||(ue[0]=0),he&&2===he.length)for("date"!==T.type||T.autorange||(he[0]=p.cleanDate(he[0],L,T.calendar),he[1]=p.cleanDate(he[1],L,T.calendar)),fe=0;fe<2;fe++)if("date"===T.type){if(!p.isDateTime(he[fe],T.calendar)){T[R]=ue;break}if(T.r2l(he[0])===T.r2l(he[1])){var Me=p.constrain(T.r2l(he[0]),p.MIN_MS+1e3,p.MAX_MS-1e3);he[0]=T.l2r(Me-1e3),he[1]=T.l2r(Me+1e3);break}}else{if(!c(he[fe])){if(!c(he[1-fe])){T[R]=ue;break}he[fe]=he[1-fe]*(fe?10:.1)}if(he[fe]<-M?he[fe]=-M:he[fe]>M&&(he[fe]=M),he[0]===he[1]){var be=Math.max(1,Math.abs(1e-6*he[0]));he[0]-=be,he[1]+=be}}else p.nestedProperty(T,R).set(ue)},T.setScale=function(R){var ie=Y._size;if(T.overlaying){var fe=H.getFromId({_fullLayout:Y},T.overlaying);T.domain=fe.domain}var ue=R&&T._r?"_r":"range",he=T.calendar;T.cleanRange(ue);var Me,be,Ae=T.r2l(T[ue][0],he),ze=T.r2l(T[ue][1],he),Pe="y"===q;if(Pe?(T._offset=ie.t+(1-T.domain[1])*ie.h,T._length=ie.h*(T.domain[1]-T.domain[0]),T._m=T._length/(Ae-ze),T._b=-T._m*ze):(T._offset=ie.l+T.domain[0]*ie.w,T._length=ie.w*(T.domain[1]-T.domain[0]),T._m=T._length/(ze-Ae),T._b=-T._m*Ae),T._rangebreaks=[],T._lBreaks=0,T._m2=0,T._B=[],T.rangebreaks&&(T._rangebreaks=T.locateBreaks(Math.min(Ae,ze),Math.max(Ae,ze)),T._rangebreaks.length)){for(Me=0;Me<T._rangebreaks.length;Me++)be=T._rangebreaks[Me],T._lBreaks+=Math.abs(be.max-be.min);var Fe=Pe;Ae>ze&&(Fe=!Fe),Fe&&T._rangebreaks.reverse();var t1=Fe?-1:1;for(T._m2=t1*T._length/(Math.abs(ze-Ae)-T._lBreaks),T._B.push(-T._m2*(Pe?ze:Ae)),Me=0;Me<T._rangebreaks.length;Me++)T._B.push(T._B[T._B.length-1]-t1*T._m2*((be=T._rangebreaks[Me]).max-be.min));for(Me=0;Me<T._rangebreaks.length;Me++)(be=T._rangebreaks[Me]).pmin=re(be.min),be.pmax=re(be.max)}if(!isFinite(T._m)||!isFinite(T._b)||T._length<0)throw Y._replotting=!1,new Error("Something went wrong with axis scaling")},T.maskBreaks=function(R){var ie,fe,ue,he,Me,be=T.rangebreaks||[];be._cachedPatterns||(be._cachedPatterns=be.map(function(Xe){return Xe.enabled&&Xe.bounds?p.simpleMap(Xe.bounds,Xe.pattern?C:T.d2c):null})),be._cachedValues||(be._cachedValues=be.map(function(Xe){return Xe.enabled&&Xe.values?p.simpleMap(Xe.values,T.d2c).sort(p.sorterAsc):null}));for(var Ae=0;Ae<be.length;Ae++){var ze=be[Ae];if(ze.enabled)if(ze.bounds){switch(fe=(ie=be._cachedPatterns[Ae])[0],ue=ie[1],ze.pattern){case w:he=(Me=new Date(R)).getUTCDay(),fe>ue&&(ue+=7,he<fe&&(he+=7));break;case I:he=(Me=new Date(R)).getUTCHours()+(Me.getUTCMinutes()/60+Me.getUTCSeconds()/3600+Me.getUTCMilliseconds()/36e5),fe>ue&&(ue+=24,he<fe&&(he+=24));break;case"":he=R}if(he>=fe&&he<ue)return L}else for(var Fe=be._cachedValues[Ae],t1=0;t1<Fe.length;t1++)if(ue=(fe=Fe[t1])+ze.dvalue,R>=fe&&R<ue)return L}return R},T.locateBreaks=function(R,ie){var fe,ue,he,Me,be=[];if(!T.rangebreaks)return be;var Ae=T.rangebreaks.slice().sort(function(Ye,Oe){return Ye.pattern===w&&Oe.pattern===I?-1:Oe.pattern===w&&Ye.pattern===I?1:0}),ze=function(Ye,Oe){if((Ye=p.constrain(Ye,R,ie))!==(Oe=p.constrain(Oe,R,ie))){for(var Ie=!0,Qe=0;Qe<be.length;Qe++){var n1=be[Qe];Ye<n1.max&&Oe>=n1.min&&(Ye<n1.min&&(n1.min=Ye),Oe>n1.max&&(n1.max=Oe),Ie=!1)}Ie&&be.push({min:Ye,max:Oe})}};for(fe=0;fe<Ae.length;fe++){var Pe=Ae[fe];if(Pe.enabled)if(Pe.bounds){var Fe=R,t1=ie;Pe.pattern&&(Fe=Math.floor(Fe)),he=(ue=p.simpleMap(Pe.bounds,Pe.pattern?C:T.r2l))[0],Me=ue[1];var Xe,Ue,xe=new Date(Fe);switch(Pe.pattern){case w:Ue=z,Xe=(Me-he+(Me<he?7:0))*k,Fe+=he*k-(xe.getUTCDay()*k+xe.getUTCHours()*D+xe.getUTCMinutes()*S+xe.getUTCSeconds()*P+xe.getUTCMilliseconds());break;case I:Ue=k,Xe=(Me-he+(Me<he?24:0))*D,Fe+=he*D-(xe.getUTCHours()*D+xe.getUTCMinutes()*S+xe.getUTCSeconds()*P+xe.getUTCMilliseconds());break;default:Fe=Math.min(ue[0],ue[1]),Xe=Ue=(t1=Math.max(ue[0],ue[1]))-Fe}for(var ve=Fe;ve<t1;ve+=Ue)ze(ve,ve+Xe)}else for(var De=p.simpleMap(Pe.values,T.d2c),Ve=0;Ve<De.length;Ve++)ze(he=De[Ve],Me=he+Pe.dvalue)}return be.sort(function(Ye,Oe){return Ye.min-Oe.min}),be},T.makeCalcdata=function(R,ie,fe){var ue,he,Me,be,Ae=T.type,ze="date"===Ae&&R[ie+"calendar"];if(ie in R){if(ue=R[ie],be=R._length||p.minRowLength(ue),p.isTypedArray(ue)&&("linear"===Ae||"log"===Ae)){if(be===ue.length)return ue;if(ue.subarray)return ue.subarray(0,be)}if("multicategory"===Ae)return function(t1,Xe){for(var Ue=new Array(Xe),xe=0;xe<Xe;xe++)Ue[xe]=K([(t1[0]||[])[xe],(t1[1]||[])[xe]]);return Ue}(ue,be);for(he=new Array(be),Me=0;Me<be;Me++)he[Me]=T.d2c(ue[Me],0,ze,fe)}else{var Pe=ie+"0"in R?T.d2c(R[ie+"0"],0,ze):0,Fe=R["d"+ie]?Number(R["d"+ie]):1;for(ue=R[{x:"y",y:"x"}[ie]],be=R._length||ue.length,he=new Array(be),Me=0;Me<be;Me++)he[Me]=Pe+Me*Fe}if(T.rangebreaks)for(Me=0;Me<be;Me++)he[Me]=T.maskBreaks(he[Me]);return he},T.isValidRange=function(R){return Array.isArray(R)&&2===R.length&&c(T.r2l(R[0]))&&c(T.r2l(R[1]))},T.isPtWithinRange=function(R,ie){var fe=T.c2l(R[q],null,ie),ue=T.r2l(T.range[0]),he=T.r2l(T.range[1]);return ue<he?ue<=fe&&fe<=he:he<=fe&&fe<=ue},T._emptyCategories=function(){T._categories=[],T._categoriesMap={}},T.clearCalc=function(){var R=T._matchGroup;if(R){var ie=null,fe=null;for(var ue in R){var he=Y[H.id2name(ue)];if(he._categories){ie=he._categories,fe=he._categoriesMap;break}}ie&&fe?(T._categories=ie,T._categoriesMap=fe):T._emptyCategories()}else T._emptyCategories();if(T._initialCategories)for(var Me=0;Me<T._initialCategories.length;Me++)ae(T._initialCategories[Me])},T.sortByInitialCategories=function(){var R=[];if(T._emptyCategories(),T._initialCategories)for(var ie=0;ie<T._initialCategories.length;ie++)ae(T._initialCategories[ie]);R=R.concat(T._traceIndices);var fe=T._matchGroup;for(var ue in fe)if(W!==ue){var he=Y[H.id2name(ue)];he._categories=T._categories,he._categoriesMap=T._categoriesMap,R=R.concat(he._traceIndices)}return R};var J=Y._d3locale;"date"===T.type&&(T._dateFormat=J?J.timeFormat:g,T._extraFormat=Y._extraFormat),T._separators=Y.separators,T._numFormat=J?J.numberFormat:l,delete T._minDtick,delete T._forceTick0}},{"../../constants/numerical":212,"../../lib":232,"./axis_ids":283,"./constants":286,"@plotly/d3":11,"d3-time-format":14,"fast-isnumeric":17}],302:[function(m,de,te){"use strict";de.exports=function(o){var g=["showexponent","showtickprefix","showticksuffix"].filter(function(p){return void 0!==o[p]});if(g.every(function(p){return o[p]===o[g[0]]})||1===g.length)return o[g[0]]}},{}],303:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("../../components/color").contrast,p=m("./layout_attributes"),l=m("./show_dflt"),c=m("../array_container_defaults");function C(d,h){function u(_,b){return o.coerce(d,h,p.tickformatstops,_,b)}u("enabled")&&(u("dtickrange"),u("value"))}de.exports=function(d,h,u,_,b){b||(b={});var M=l(d);if(u("showticklabels")){var L=b.font||{},N=h.color,z=-1!==(h.ticklabelposition||"").indexOf("inside")?g(b.bgColor):N&&N!==p.color.dflt?N:L.color;if(o.coerceFont(u,"tickfont",{family:L.family,size:L.size,color:z}),b.noTicklabelstep||"multicategory"===_||"log"===_||u("ticklabelstep"),b.noAng||u("tickangle"),"category"!==_){var k=u("tickformat");c(d,h,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:C}),h.tickformatstops.length||delete h.tickformatstops,b.noExp||k||"date"===_||(u("showexponent",M),u("exponentformat"),u("minexponent"),u("separatethousands"))}}}},{"../../components/color":102,"../../lib":232,"../array_container_defaults":274,"./layout_attributes":294,"./show_dflt":302}],304:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("./layout_attributes");de.exports=function(p,l,c,C){var d=C.isMinor,h=d?p.minor||{}:p,u=d?l.minor:l,_=d?g.minor:g,b=d?"minor.":"",M=o.coerce2(h,u,_,"ticklen",d?.6*(l.ticklen||5):void 0),L=o.coerce2(h,u,_,"tickwidth",d?l.tickwidth||1:void 0),N=o.coerce2(h,u,_,"tickcolor",(d?l.tickcolor:void 0)||u.color);c(b+"ticks",!d&&C.outerTicks||M||L||N?"outside":"")||(delete u.ticklen,delete u.tickwidth,delete u.tickcolor)}},{"../../lib":232,"./layout_attributes":294}],305:[function(m,de,te){"use strict";var o=m("./clean_ticks"),g=m("../../lib").isArrayOrTypedArray;de.exports=function(p,l,c,C,d){d||(d={});var h=d.isMinor,u=h?p.minor||{}:p,_=h?l.minor:l,b=h?"minor.":"";function M(S){var P=u[S];return void 0!==P?P:(_._template||{})[S]}var L=M("tick0"),N=M("dtick"),z=M("tickvals"),k=c(b+"tickmode",g(z)?"array":N?"linear":"auto");if("auto"===k)c(b+"nticks");else if("linear"===k){var D=_.dtick=o.dtick(N,C);_.tick0=o.tick0(L,C,l.calendar,D)}else"multicategory"!==C&&(void 0===c(b+"tickvals")?_.tickmode="auto":h||c("ticktext"))}},{"../../lib":232,"./clean_ticks":285}],306:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("../../registry"),p=m("../../lib"),l=m("../../components/drawing"),c=m("./axes");de.exports=function(C,d,h,u){var _=C._fullLayout;if(0!==d.length){var b,M,L,N;u&&(b=u());var z=o.ease(h.easing);return C._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(N),N=null,function(){for(var S={},P=0;P<d.length;P++){var H=d[P],I=H.plotinfo.yaxis;H.xr0&&(S[H.plotinfo.xaxis._name+".range"]=H.xr0.slice()),H.yr0&&(S[I._name+".range"]=H.yr0.slice())}return g.call("relayout",C,S).then(function(){for(var w=0;w<d.length;w++)k(d[w].plotinfo)})}()}),M=Date.now(),N=window.requestAnimationFrame(function S(){L=Date.now();for(var P=Math.min(1,(L-M)/h.duration),H=z(P),E=0;E<d.length;E++)D(d[E],H);L-M>h.duration?(function(){for(var I={},w=0;w<d.length;w++){var B=d[w],T=B.plotinfo.yaxis;B.xr1&&(I[B.plotinfo.xaxis._name+".range"]=B.xr1.slice()),B.yr1&&(I[T._name+".range"]=B.yr1.slice())}b&&b(),g.call("relayout",C,I).then(function(){for(var Y=0;Y<d.length;Y++)k(d[Y].plotinfo)})}(),N=window.cancelAnimationFrame(S)):N=window.requestAnimationFrame(S)}),Promise.resolve()}function k(S){var P=S.xaxis,H=S.yaxis;_._defs.select("#"+S.clipId+"> rect").call(l.setTranslate,0,0).call(l.setScale,1,1),S.plot.call(l.setTranslate,P._offset,H._offset).call(l.setScale,1,1);var E=S.plot.selectAll(".scatterlayer .trace");E.selectAll(".point").call(l.setPointGroupScale,1,1),E.selectAll(".textpoint").call(l.setTextPointsScale,1,1),E.call(l.hideOutsideRangePoints,S)}function D(S,P){var H=S.plotinfo,E=H.xaxis,I=H.yaxis,w=E._length,B=I._length,$=!!S.xr1,T=!!S.yr1,Y=[];if($){var W=p.simpleMap(S.xr0,E.r2l),q=p.simpleMap(S.xr1,E.r2l),X=W[1]-W[0],ee=q[1]-q[0];Y[0]=(W[0]*(1-P)+P*q[0]-W[0])/(W[1]-W[0])*w,Y[2]=w*(1-P+P*ee/X),E.range[0]=E.l2r(W[0]*(1-P)+P*q[0]),E.range[1]=E.l2r(W[1]*(1-P)+P*q[1])}else Y[0]=0,Y[2]=w;if(T){var ce=p.simpleMap(S.yr0,I.r2l),me=p.simpleMap(S.yr1,I.r2l),ae=ce[1]-ce[0],K=me[1]-me[0];Y[1]=(ce[1]*(1-P)+P*me[1]-ce[1])/(ce[0]-ce[1])*B,Y[3]=B*(1-P+P*K/ae),I.range[0]=E.l2r(ce[0]*(1-P)+P*me[0]),I.range[1]=I.l2r(ce[1]*(1-P)+P*me[1])}else Y[1]=0,Y[3]=B;c.drawOne(C,E,{skipTitle:!0}),c.drawOne(C,I,{skipTitle:!0}),c.redrawComponents(C,[E._id,I._id]);var le=$?w/Y[2]:1,G=T?B/Y[3]:1,O=E._offset-($?Y[0]/Y[2]*w:0),J=I._offset-(T?Y[1]/Y[3]*B:0);H.clipRect.call(l.setTranslate,$?Y[0]:0,T?Y[1]:0).call(l.setScale,1/le,1/G),H.plot.call(l.setTranslate,O,J).call(l.setScale,le,G),l.setPointGroupScale(H.zoomScalePts,1/le,1/G),l.setTextPointsScale(H.zoomScaleTxt,1/le,1/G)}c.redrawComponents(C)}},{"../../components/drawing":124,"../../lib":232,"../../registry":318,"./axes":279,"@plotly/d3":11}],307:[function(m,de,te){"use strict";var o=m("../../registry").traceIs,g=m("./axis_autotype");function p(c){return{v:"x",h:"y"}[c.orientation||"v"]}function l(c,C){var d=p(c),h=o(c,"box-violin"),u=o(c._fullInput||{},"candlestick");return h&&!u&&C===d&&void 0===c[d]&&void 0===c[d+"0"]}de.exports=function(c,C,d,h){d("autotypenumbers",h.autotypenumbersDflt),"-"===d("type",(h.splomStash||{}).type)&&(function(u,_){if("-"===u.type){var b,M=u._id,L=M.charAt(0);-1!==M.indexOf("scene")&&(M=L);var N=function(I,w,B){for(var $=0;$<I.length;$++){var T=I[$];if("splom"===T.type&&T._length>0&&(T["_"+B+"axes"]||{})[w]||(T[B+"axis"]||B)===w&&(l(T,B)||(T[B]||[]).length||T[B+"0"]))return T}}(_,M,L);if(N){if("histogram"===N.type&&L==={v:"y",h:"x"}[N.orientation||"v"])return void(u.type="linear");var z=L+"calendar",k=N[z],D={noMultiCategory:!o(N,"cartesian")||o(N,"noMultiCategory")};if("box"===N.type&&N._hasPreCompStats&&L==={h:"x",v:"y"}[N.orientation||"v"]&&(D.noMultiCategory=!0),D.autotypenumbers=u.autotypenumbers,l(N,L)){var S=p(N),P=[];for(b=0;b<_.length;b++){var H=_[b];o(H,"box-violin")&&(H[L+"axis"]||L)===M&&(P.push(void 0!==H[S]?H[S][0]:void 0!==H.name?H.name:"text"),H[z]!==k&&(k=void 0))}u.type=g(P,k,D)}else if("splom"===N.type){var E=N.dimensions[N._axesDim[M]];E.visible&&(u.type=g(E.values,k,D))}else u.type=g(N[L]||[N[L+"0"]],k,D)}}}(C,h.data),"-"===C.type?C.type="linear":c.type=C.type)}},{"../../registry":318,"./axis_autotype":280}],308:[function(m,de,te){"use strict";var o=m("../registry"),g=m("../lib");function p(d,h,u){var _,b,M,L=!1;if("data"===h.type)_=d._fullData[null!==h.traces?h.traces[0]:0];else{if("layout"!==h.type)return!1;_=d._fullLayout}return b=g.nestedProperty(_,h.prop).get(),(M=u[h.type]=u[h.type]||{}).hasOwnProperty(h.prop)&&M[h.prop]!==b&&(L=!0),M[h.prop]=b,{changed:L,value:b}}function l(d,h){var u=[],_=h[0],b={};if("string"==typeof _)b[_]=h[1];else{if(!g.isPlainObject(_))return u;b=_}return C(b,function(M,L,N){u.push({type:"layout",prop:M,value:N})},"",0),u}function c(d,h){var u,_,b,M,L=[];if(b=h[1],u=h[2],M={},"string"==typeof(_=h[0]))M[_]=b;else{if(!g.isPlainObject(_))return L;M=_,void 0===u&&(u=b)}return void 0===u&&(u=null),C(M,function(N,z,k){var D,S;if(Array.isArray(k)){S=k.slice();var P=Math.min(S.length,d.data.length);u&&(P=Math.min(P,u.length)),D=[];for(var H=0;H<P;H++)D[H]=u?u[H]:H}else S=k,D=u?u.slice():null;if(null===D)Array.isArray(S)&&(S=S[0]);else if(Array.isArray(D)){if(!Array.isArray(S)){var E=S;S=[];for(var I=0;I<D.length;I++)S[I]=E}S.length=Math.min(D.length,S.length)}L.push({type:"data",prop:N,traces:D,value:S})},"",0),L}function C(d,h,u,_){Object.keys(d).forEach(function(b){var M=d[b];if("_"!==b[0]){var L=u+(_>0?".":"")+b;g.isPlainObject(M)?C(M,h,L,_+1):h(L,b,M)}})}te.manageCommandObserver=function(d,h,u,_){var b={},M=!0;h&&h._commandObserver&&(b=h._commandObserver),b.cache||(b.cache={}),b.lookupTable={};var L=te.hasSimpleAPICommandBindings(d,u,b.lookupTable);if(h&&h._commandObserver){if(L)return b;if(h._commandObserver.remove)return h._commandObserver.remove(),h._commandObserver=null,b}if(L){p(d,L,b.cache),b.check=function(){if(M){var k=p(d,L,b.cache);return k.changed&&_&&void 0!==b.lookupTable[k.value]&&(b.disable(),Promise.resolve(_({value:k.value,type:L.type,prop:L.prop,traces:L.traces,index:b.lookupTable[k.value]})).then(b.enable,b.enable)),k.changed}};for(var N=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],z=0;z<N.length;z++)d._internalOn(N[z],b.check);b.remove=function(){for(var k=0;k<N.length;k++)d._removeInternalListener(N[k],b.check)}}else g.log("Unable to automatically bind plot updates to API command"),b.lookupTable={},b.remove=function(){};return b.disable=function(){M=!1},b.enable=function(){M=!0},h&&(h._commandObserver=b),b},te.hasSimpleAPICommandBindings=function(d,h,u){var _,b,M=h.length;for(_=0;_<M;_++){var L,N=h[_],z=N.method,k=N.args;if(Array.isArray(k)||(k=[]),!z)return!1;var D=te.computeAPICommandBindings(d,z,k);if(1!==D.length)return!1;if(b){if((L=D[0]).type!==b.type||L.prop!==b.prop)return!1;if(Array.isArray(b.traces)){if(!Array.isArray(L.traces))return!1;L.traces.sort();for(var S=0;S<b.traces.length;S++)if(b.traces[S]!==L.traces[S])return!1}else if(L.prop!==b.prop)return!1}else b=D[0],Array.isArray(b.traces)&&b.traces.sort();var P=(L=D[0]).value;if(Array.isArray(P)){if(1!==P.length)return!1;P=P[0]}u&&(u[P]=_)}return b},te.executeAPICommand=function(d,h,u){if("skip"===h)return Promise.resolve();var _=o.apiMethodRegistry[h],b=[d];Array.isArray(u)||(u=[]);for(var M=0;M<u.length;M++)b.push(u[M]);return _.apply(null,b).catch(function(L){return g.warn("API call to Plotly."+h+" rejected.",L),Promise.reject(L)})},te.computeAPICommandBindings=function(d,h,u){var _,M;switch(Array.isArray(u)||(u=[]),h){case"restyle":_=c(d,u);break;case"relayout":_=l(0,u);break;case"update":_=c(d,[u[0],u[2]]).concat(l(0,[u[1]]));break;case"animate":M=u,_=Array.isArray(M[0])&&1===M[0].length&&-1!==["string","number"].indexOf(typeof M[0][0])?[{type:"layout",prop:"_currentFrame",value:M[0][0].toString()}]:[];break;default:_=[]}return _}},{"../lib":232,"../registry":318}],309:[function(m,de,te){"use strict";var o=m("../lib/extend").extendFlat;te.attributes=function(g,p){p=p||{};var l={valType:"info_array",editType:(g=g||{}).editType,items:[{valType:"number",min:0,max:1,editType:g.editType},{valType:"number",min:0,max:1,editType:g.editType}],dflt:[0,1]},c={x:o({},l,{}),y:o({},l,{}),editType:g.editType};return g.noGridCell||(c.row={valType:"integer",min:0,dflt:0,editType:g.editType},c.column={valType:"integer",min:0,dflt:0,editType:g.editType}),c},te.defaults=function(g,p,l,c){var C=c&&c.x||[0,1],d=c&&c.y||[0,1],h=p.grid;if(h){var u=l("domain.column");void 0!==u&&(u<h.columns?C=h._domains.x[u]:delete g.domain.column);var _=l("domain.row");void 0!==_&&(_<h.rows?d=h._domains.y[_]:delete g.domain.row)}var b=l("domain.x",C),M=l("domain.y",d);b[0]<b[1]||(g.domain.x=C.slice()),M[0]<M[1]||(g.domain.y=d.slice())}},{"../lib/extend":226}],310:[function(m,de,te){"use strict";de.exports=function(o){var g=o.editType,p=o.colorEditType;void 0===p&&(p=g);var l={family:{valType:"string",noBlank:!0,strict:!0,editType:g},size:{valType:"number",min:1,editType:g},color:{valType:"color",editType:p},editType:g};return o.autoSize&&(l.size.dflt="auto"),o.autoColor&&(l.color.dflt="auto"),o.arrayOk&&(l.family.arrayOk=!0,l.size.arrayOk=!0,l.color.arrayOk=!0),l}},{}],311:[function(m,de,te){"use strict";de.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},{}],312:[function(m,de,te){"use strict";var o=m("../registry"),g=m("./cartesian/constants").SUBPLOT_PATTERN;te.getSubplotCalcData=function(p,l,c){var C=o.subplotsRegistry[l];if(!C)return[];for(var d=C.attr,h=[],u=0;u<p.length;u++){var _=p[u];_[0].trace[d]===c&&h.push(_)}return h},te.getModuleCalcData=function(p,l){var c,C=[],d=[];if(!(c="string"==typeof l?o.getModule(l).plot:"function"==typeof l?l:l.plot))return[C,p];for(var h=0;h<p.length;h++){var u=p[h],_=u[0].trace;!0===_.visible&&0!==_._length&&(_._module.plot===c?C.push(u):d.push(u))}return[C,d]},te.getSubplotData=function(p,l,c){if(!o.subplotsRegistry[l])return[];var C,d,h,u=o.subplotsRegistry[l].attr,_=[];if("gl2d"===l){var b=c.match(g);d="x"+b[1],h="y"+b[2]}for(var M=0;M<p.length;M++)C=p[M],"gl2d"===l&&o.traceIs(C,"gl2d")?C[u[0]]===d&&C[u[1]]===h&&_.push(C):C[u]===c&&_.push(C);return _}},{"../registry":318,"./cartesian/constants":286}],313:[function(m,de,te){"use strict";function o(g,p){var l,c,C=[0,0,0,0];for(l=0;l<4;++l)for(c=0;c<4;++c)C[c]+=g[4*l+c]*p[l];return C}de.exports=function(g,p){return o(g.projection,o(g.view,o(g.model,[p[0],p[1],p[2],1])))}},{}],314:[function(m,de,te){"use strict";var o=m("./font_attributes"),g=m("./animation_attributes"),p=m("../components/color/attributes"),l=m("../components/shapes/draw_newshape/attributes"),c=m("./pad_attributes"),C=m("../lib/extend").extendFlat,d=o({editType:"calc"});d.family.dflt='"Open Sans", verdana, arial, sans-serif',d.size.dflt=12,d.color.dflt=p.defaultLine,de.exports={font:d,title:{text:{valType:"string",editType:"layoutstyle"},font:o({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:C(c({editType:"layoutstyle"}),{}),editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:p.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:p.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:p.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:l.newshape,activeshape:l.activeshape,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:C({},g.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:o({editType:"layoutstyle"})}}},{"../components/color/attributes":101,"../components/shapes/draw_newshape/attributes":187,"../lib/extend":226,"./animation_attributes":273,"./font_attributes":310,"./pad_attributes":315}],315:[function(m,de,te){"use strict";de.exports=function(o){var g=o.editType;return{t:{valType:"number",dflt:0,editType:g},r:{valType:"number",dflt:0,editType:g},b:{valType:"number",dflt:0,editType:g},l:{valType:"number",dflt:0,editType:g},editType:g}}},{}],316:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("d3-time-format").timeFormatLocale,p=m("d3-format").formatLocale,l=m("fast-isnumeric"),c=m("../registry"),C=m("../plot_api/plot_schema"),d=m("../plot_api/plot_template"),h=m("../lib"),u=m("../components/color"),_=m("../constants/numerical").BADNUM,b=m("./cartesian/axis_ids"),M=m("./cartesian/handle_outline").clearSelect,L=m("./animation_attributes"),N=m("./frame_attributes"),z=m("../plots/get_data").getModuleCalcData,k=h.relinkPrivateKeys,D=h._,S=de.exports={};h.extendFlat(S,c),S.attributes=m("./attributes"),S.attributes.type.values=S.allTypes,S.fontAttrs=m("./font_attributes"),S.layoutAttributes=m("./layout_attributes"),S.fontWeight="normal";var P=S.transformsRegistry,H=m("./command");S.executeAPICommand=H.executeAPICommand,S.computeAPICommandBindings=H.computeAPICommandBindings,S.manageCommandObserver=H.manageCommandObserver,S.hasSimpleAPICommandBindings=H.hasSimpleAPICommandBindings,S.redrawText=function(ae){return ae=h.getGraphDiv(ae),new Promise(function(K){setTimeout(function(){ae._fullLayout&&(c.getComponentMethod("annotations","draw")(ae),c.getComponentMethod("legend","draw")(ae),c.getComponentMethod("colorbar","draw")(ae),K(S.previousPromises(ae)))},300)})},S.resize=function(ae){var K;ae=h.getGraphDiv(ae);var le=new Promise(function(G,j){ae&&!h.isHidden(ae)||j(new Error("Resize must be passed a displayed plot div element.")),ae._redrawTimer&&clearTimeout(ae._redrawTimer),ae._resolveResize&&(K=ae._resolveResize),ae._resolveResize=G,ae._redrawTimer=setTimeout(function(){if(!ae.layout||ae.layout.width&&ae.layout.height||h.isHidden(ae))G(ae);else{delete ae.layout.width,delete ae.layout.height;var oe=ae.changed;ae.autoplay=!0,c.call("relayout",ae,{autosize:!0}).then(function(){ae.changed=oe,ae._resolveResize===G&&(delete ae._resolveResize,G(ae))})}},100)});return K&&K(le),le},S.previousPromises=function(ae){if((ae._promises||[]).length)return Promise.all(ae._promises).then(function(){ae._promises=[]})},S.addLinks=function(ae){if(ae._context.showLink||ae._context.showSources){var K=ae._fullLayout,le=h.ensureSingle(K._paper,"text","js-plot-link-container",function(O){O.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:u.defaultLine,"pointer-events":"all"}).each(function(){var J=o.select(this);J.append("tspan").classed("js-link-to-tool",!0),J.append("tspan").classed("js-link-spacer",!0),J.append("tspan").classed("js-sourcelinks",!0)})}),G=le.node(),j={y:K._paper.attr("height")-9};document.body.contains(G)&&G.getComputedTextLength()>=K.width-20?(j["text-anchor"]="start",j.x=5):(j["text-anchor"]="end",j.x=K._paper.attr("width")-7),le.attr(j);var oe=le.select(".js-link-to-tool"),re=le.select(".js-link-spacer"),F=le.select(".js-sourcelinks");ae._context.showSources&&ae._context.showSources(ae),ae._context.showLink&&function(O,J){J.text("");var R=J.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(O._context.linkText+" "+String.fromCharCode(187));if(O._context.sendData)R.on("click",function(){S.sendDataToCloud(O)});else{var ie=window.location.pathname.split("/"),fe=window.location.search;R.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+ie[2].split(".")[0]+"/"+ie[1]+fe})}}(ae,oe),re.text(oe.text()&&F.text()?" - ":"")}},S.sendDataToCloud=function(ae){var K=(window.PLOTLYENV||{}).BASE_URL||ae._context.plotlyServerURL;if(K){ae.emit("plotly_beforeexport");var le=o.select(ae).append("div").attr("id","hiddenform").style("display","none"),G=le.append("form").attr({action:K+"/external",method:"post",target:"_blank"});return G.append("input").attr({type:"text",name:"data"}).node().value=S.graphJson(ae,!1,"keepdata"),G.node().submit(),le.remove(),ae.emit("plotly_afterexport"),!1}};var E=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],I=["year","month","dayMonth","dayMonthYear"];function w(ae,K){var le=ae._context.locale;le||(le="en-US");var G=!1,j={};function oe(ie){for(var fe=!0,ue=0;ue<K.length;ue++){var he=K[ue];j[he]||(ie[he]?j[he]=ie[he]:fe=!1)}fe&&(G=!0)}for(var re=0;re<2;re++){for(var F=ae._context.locales,O=0;O<2;O++){var J=(F[le]||{}).format;if(J&&(oe(J),G))break;F=c.localeRegistry}var R=le.split("-")[0];if(G||R===le)break;le=R}return G||oe(c.localeRegistry.en.format),j}function B(ae,K){var le={_fullLayout:K},G="x"===ae._id.charAt(0),j=ae._mainAxis._anchorAxis,oe="",re="",F="";if(j&&(F=j._mainAxis._id,oe=G?ae._id+F:F+ae._id),!oe||!K._plots[oe]){oe="";for(var O=ae._counterAxes,J=0;J<O.length;J++){var R=O[J],ie=G?ae._id+R:R+ae._id;re||(re=ie);var fe=b.getFromId(le,R);if(F&&fe.overlaying===F){oe=ie;break}}}return oe||re}function $(ae){var K=ae.transforms;if(Array.isArray(K)&&K.length)for(var le=0;le<K.length;le++){var G=K[le],j=G._module||P[G.type];if(j&&j.makesData)return!0}return!1}function T(ae,K,le,G){for(var j=ae.transforms,oe=[ae],re=0;re<j.length;re++){var F=j[re],O=P[F.type];O&&O.transform&&(oe=O.transform(oe,{transform:F,fullTrace:ae,fullData:K,layout:le,fullLayout:G,transformIndex:re}))}return oe}function Y(ae){return"string"==typeof ae&&"px"===ae.substr(ae.length-2)&&parseFloat(ae)}function W(ae){var K=ae.margin;if(!ae._size){var le=ae._size={l:Math.round(K.l),r:Math.round(K.r),t:Math.round(K.t),b:Math.round(K.b),p:Math.round(K.pad)};le.w=Math.round(ae.width)-le.l-le.r,le.h=Math.round(ae.height)-le.t-le.b}ae._pushmargin||(ae._pushmargin={}),ae._pushmarginIds||(ae._pushmarginIds={})}S.supplyDefaults=function(ae,K){var r1,f1,le=K&&K.skipUpdateCalc,G=ae._fullLayout||{};if(G._skipDefaults)delete G._skipDefaults;else{var j,oe=ae._fullLayout={},re=ae.layout||{},F=ae._fullData||[],O=ae._fullData=[],J=ae.data||[],R=ae.calcdata||[],ie=ae._context||{};ae._transitionData||S.createTransitionData(ae),oe._dfltTitle={plot:D(ae,"Click to enter Plot title"),x:D(ae,"Click to enter X axis title"),y:D(ae,"Click to enter Y axis title"),colorbar:D(ae,"Click to enter Colorscale title"),annotation:D(ae,"new text")},oe._traceWord=D(ae,"trace");var fe=w(ae,E);if(oe._mapboxAccessToken=ie.mapboxAccessToken,G._initialAutoSizeIsDone){var ue=G.width,he=G.height;S.supplyLayoutGlobalDefaults(re,oe,fe),re.width||(oe.width=ue),re.height||(oe.height=he),S.sanitizeMargins(oe)}else{S.supplyLayoutGlobalDefaults(re,oe,fe);var Me=!re.width||!re.height,be=oe.autosize;Me&&(be||ie.autosizable)?S.plotAutoSize(ae,re,oe):Me&&S.sanitizeMargins(oe),!be&&Me&&(re.width=oe.width,re.height=oe.height)}oe._d3locale=((r1=fe).decimal=(f1=oe.separators).charAt(0),r1.thousands=f1.charAt(1),{numberFormat:function(Je){try{Je=p(r1).format(h.adjustFormat(Je))}catch(g1){return h.warnBadFormat(Je),h.noFormat}return Je},timeFormat:g(r1).utcFormat}),oe._extraFormat=w(ae,I),oe._initialAutoSizeIsDone=!0,oe._dataLength=J.length,oe._modules=[],oe._visibleModules=[],oe._basePlotModules=[];var ze=oe._subplots=function(){var r1,f1,Je=c.collectableSubplotTypes,g1={};if(!Je){Je=[];var b1=c.subplotsRegistry;for(var _1 in b1){var I1=b1[_1].attr;if(I1&&(Je.push(_1),Array.isArray(I1)))for(f1=0;f1<I1.length;f1++)h.pushUnique(Je,I1[f1])}}for(r1=0;r1<Je.length;r1++)g1[Je[r1]]=[];return g1}(),Pe=oe._splomAxes={x:{},y:{}},Fe=oe._splomSubplots={};oe._splomGridDflt={},oe._scatterStackOpts={},oe._firstScatter={},oe._alignmentOpts={},oe._colorAxes={},oe._requestRangeslider={},oe._traceUids=function(r1,f1){var Je,g1,b1=f1.length,_1=[];for(Je=0;Je<r1.length;Je++){var I1=r1[Je]._fullInput;I1!==g1&&_1.push(I1),g1=I1}var M1=_1.length,Re=new Array(b1),Be={};function C1(l2,G1){Re[G1]=l2,Be[l2]=1}function O1(l2,G1){if(l2&&"string"==typeof l2&&!Be[l2])return C1(l2,G1),!0}for(Je=0;Je<b1;Je++){var Q1=f1[Je].uid;"number"==typeof Q1&&(Q1=String(Q1)),O1(Q1,Je)||Je<M1&&O1(_1[Je].uid,Je)||C1(h.randstr(Be),Je)}return Re}(F,J),oe._globalTransforms=(ae._context||{}).globalTransforms,S.supplyDataDefaults(J,O,re,oe);var t1=Object.keys(Pe.x),Xe=Object.keys(Pe.y);if(t1.length>1&&Xe.length>1){for(c.getComponentMethod("grid","sizeDefaults")(re,oe),j=0;j<t1.length;j++)h.pushUnique(ze.xaxis,t1[j]);for(j=0;j<Xe.length;j++)h.pushUnique(ze.yaxis,Xe[j]);for(var Ue in Fe)h.pushUnique(ze.cartesian,Ue)}if(oe._has=S._hasPlotType.bind(oe),F.length===O.length)for(j=0;j<O.length;j++)k(O[j],F[j]);S.supplyLayoutModuleDefaults(re,oe,O,ae._transitionData);var xe=oe._visibleModules,ve=[];for(j=0;j<xe.length;j++){var De=xe[j].crossTraceDefaults;De&&h.pushUnique(ve,De)}for(j=0;j<ve.length;j++)ve[j](O,oe);oe._hasOnlyLargeSploms=1===oe._basePlotModules.length&&"splom"===oe._basePlotModules[0].name&&t1.length>15&&Xe.length>15&&0===oe.shapes.length&&0===oe.images.length,S.linkSubplots(O,oe,F,G),S.cleanPlot(O,oe,F,G);var Ve=!(!G._has||!G._has("gl2d")),Ye=!(!oe._has||!oe._has("gl2d")),Oe=!(!G._has||!G._has("cartesian"))||Ve,Ie=!(!oe._has||!oe._has("cartesian"))||Ye;Oe&&!Ie?G._bgLayer.remove():Ie&&!Oe&&(oe._shouldCreateBgLayer=!0),G._zoomlayer&&!ae._dragging&&M({_fullLayout:G}),function(r1,f1){var Je,g1=[];f1.meta&&(Je=f1._meta={meta:f1.meta,layout:{meta:f1.meta}});for(var b1=0;b1<r1.length;b1++){var _1=r1[b1];_1.meta?g1[_1.index]=_1._meta={meta:_1.meta}:f1.meta&&(_1._meta={meta:f1.meta}),f1.meta&&(_1._meta.layout={meta:f1.meta})}g1.length&&(Je||(Je=f1._meta={}),Je.data=g1)}(O,oe),k(oe,G),c.getComponentMethod("colorscale","crossTraceDefaults")(O,oe),oe._preGUI||(oe._preGUI={}),oe._tracePreGUI||(oe._tracePreGUI={});var Qe,n1=oe._tracePreGUI,Ke={};for(Qe in n1)Ke[Qe]="old";for(j=0;j<O.length;j++)Ke[Qe=O[j]._fullInput.uid]||(n1[Qe]={}),Ke[Qe]="new";for(Qe in Ke)"old"===Ke[Qe]&&delete n1[Qe];W(oe),c.getComponentMethod("rangeslider","makeData")(oe),le||R.length!==O.length||S.supplyDefaultsUpdateCalc(R,O)}},S.supplyDefaultsUpdateCalc=function(ae,K){for(var le=0;le<K.length;le++){var G=K[le],j=(ae[le]||[])[0];if(j&&j.trace){var oe=j.trace;if(oe._hasCalcTransform){var re,F,O,J=oe._arrayAttrs;for(re=0;re<J.length;re++)O=h.nestedProperty(oe,F=J[re]).get().slice(),h.nestedProperty(G,F).set(O)}j.trace=G}}},S.createTransitionData=function(ae){ae._transitionData||(ae._transitionData={}),ae._transitionData._frames||(ae._transitionData._frames=[]),ae._transitionData._frameHash||(ae._transitionData._frameHash={}),ae._transitionData._counter||(ae._transitionData._counter=0),ae._transitionData._interruptCallbacks||(ae._transitionData._interruptCallbacks=[])},S._hasPlotType=function(ae){var K,le=this._basePlotModules||[];for(K=0;K<le.length;K++)if(le[K].name===ae)return!0;var G=this._modules||[];for(K=0;K<G.length;K++){var j=G[K].name;if(j===ae)return!0;var oe=c.modules[j];if(oe&&oe.categories[ae])return!0}return!1},S.cleanPlot=function(ae,K,le,G){var j,oe,re=G._basePlotModules||[];for(j=0;j<re.length;j++){var F=re[j];F.clean&&F.clean(ae,K,le,G)}var O=G._has&&G._has("gl"),J=K._has&&K._has("gl");O&&!J&&void 0!==G._glcontainer&&(G._glcontainer.selectAll(".gl-canvas").remove(),G._glcontainer.selectAll(".no-webgl").remove(),G._glcanvas=null);var R=!!G._infolayer;e:for(j=0;j<le.length;j++){var ie=le[j].uid;for(oe=0;oe<ae.length;oe++)if(ie===ae[oe].uid)continue e;R&&G._infolayer.select(".cb"+ie).remove()}},S.linkSubplots=function(ae,K,le,G){var j,oe,re=G._plots||{},F=K._plots={},O=K._subplots,J={_fullData:ae,_fullLayout:K},R=O.cartesian.concat(O.gl2d||[]);for(j=0;j<R.length;j++){var ie,fe=R[j],ue=re[fe],he=b.getFromId(J,fe,"x"),Me=b.getFromId(J,fe,"y");for(ue?ie=F[fe]=ue:(ie=F[fe]={}).id=fe,he._counterAxes.push(Me._id),Me._counterAxes.push(he._id),he._subplotsWith.push(fe),Me._subplotsWith.push(fe),ie.xaxis=he,ie.yaxis=Me,ie._hasClipOnAxisFalse=!1,oe=0;oe<ae.length;oe++){var be=ae[oe];if(be.xaxis===ie.xaxis._id&&be.yaxis===ie.yaxis._id&&!1===be.cliponaxis){ie._hasClipOnAxisFalse=!0;break}}}var Ae,ze=b.list(J,null,!0);for(j=0;j<ze.length;j++){var Pe=null;(Ae=ze[j]).overlaying&&(Pe=b.getFromId(J,Ae.overlaying))&&Pe.overlaying&&(Ae.overlaying=!1,Pe=null),Ae._mainAxis=Pe||Ae,Pe&&(Ae.domain=Pe.domain.slice()),Ae._anchorAxis="free"===Ae.anchor?null:b.getFromId(J,Ae.anchor)}for(j=0;j<ze.length;j++)if((Ae=ze[j])._counterAxes.sort(b.idSort),Ae._subplotsWith.sort(h.subplotSort),Ae._mainSubplot=B(Ae,K),Ae._counterAxes.length&&(Ae.spikemode&&-1!==Ae.spikemode.indexOf("across")||Ae.automargin&&Ae.mirror&&"free"!==Ae.anchor||c.getComponentMethod("rangeslider","isVisible")(Ae))){var Fe=1,t1=0;for(oe=0;oe<Ae._counterAxes.length;oe++){var Xe=b.getFromId(J,Ae._counterAxes[oe]);Fe=Math.min(Fe,Xe.domain[0]),t1=Math.max(t1,Xe.domain[1])}Fe<t1&&(Ae._counterDomainMin=Fe,Ae._counterDomainMax=t1)}},S.clearExpandedTraceDefaultColors=function(ae){var K,le,G;for(le=[],(K=ae._module._colorAttrs)||(ae._module._colorAttrs=K=[],C.crawl(ae._module.attributes,function(j,oe,re,F){le[F]=oe,le.length=F+1,"color"===j.valType&&void 0===j.dflt&&K.push(le.join("."))})),G=0;G<K.length;G++)h.nestedProperty(ae,"_input."+K[G]).get()||h.nestedProperty(ae,K[G]).set(null)},S.supplyDataDefaults=function(ae,K,le,G){var j,oe,re,F=G._modules,O=G._visibleModules,J=G._basePlotModules,R=0,ie=0;function fe(Ue){K.push(Ue);var xe=Ue._module;xe&&(h.pushUnique(F,xe),!0===Ue.visible&&h.pushUnique(O,xe),h.pushUnique(J,Ue._module.basePlotModule),R++,!1!==Ue._input.visible&&ie++)}G._transformModules=[];var ue={},he=[],be=d.traceTemplater((le.template||{}).data||{});for(j=0;j<ae.length;j++){if((oe=be.newTrace(re=ae[j])).uid=G._traceUids[j],S.supplyTraceDefaults(re,oe,ie,G,j),oe.index=j,oe._input=re,oe._expandedIndex=R,oe.transforms&&oe.transforms.length)for(var Ae=!1!==re.visible&&!1===oe.visible,ze=T(oe,K,le,G),Pe=0;Pe<ze.length;Pe++){var Fe=ze[Pe],t1={_template:oe._template,type:oe.type,uid:oe.uid+Pe};Ae&&!1===Fe.visible&&delete Fe.visible,S.supplyTraceDefaults(Fe,t1,R,G,j),k(t1,Fe),t1.index=j,t1._input=re,t1._fullInput=oe,t1._expandedIndex=R,t1._expandedInput=Fe,fe(t1)}else oe._fullInput=oe,oe._expandedInput=oe,fe(oe);c.traceIs(oe,"carpetAxis")&&(ue[oe.carpet]=oe),c.traceIs(oe,"carpetDependent")&&he.push(j)}for(j=0;j<he.length;j++)if((oe=K[he[j]]).visible){var Xe=ue[oe.carpet];oe._carpet=Xe,Xe&&Xe.visible?(oe.xaxis=Xe.xaxis,oe.yaxis=Xe.yaxis):oe.visible=!1}},S.supplyAnimationDefaults=function(ae){var K;ae=ae||{};var le={};function G(j,oe){return h.coerce(ae||{},le,L,j,oe)}if(G("mode"),G("direction"),G("fromcurrent"),Array.isArray(ae.frame))for(le.frame=[],K=0;K<ae.frame.length;K++)le.frame[K]=S.supplyAnimationFrameDefaults(ae.frame[K]||{});else le.frame=S.supplyAnimationFrameDefaults(ae.frame||{});if(Array.isArray(ae.transition))for(le.transition=[],K=0;K<ae.transition.length;K++)le.transition[K]=S.supplyAnimationTransitionDefaults(ae.transition[K]||{});else le.transition=S.supplyAnimationTransitionDefaults(ae.transition||{});return le},S.supplyAnimationFrameDefaults=function(ae){var K={};function le(G,j){return h.coerce(ae||{},K,L.frame,G,j)}return le("duration"),le("redraw"),K},S.supplyAnimationTransitionDefaults=function(ae){var K={};function le(G,j){return h.coerce(ae||{},K,L.transition,G,j)}return le("duration"),le("easing"),K},S.supplyFrameDefaults=function(ae){var K={};function le(G,j){return h.coerce(ae,K,N,G,j)}return le("group"),le("name"),le("traces"),le("baseframe"),le("data"),le("layout"),K},S.supplyTraceDefaults=function(ae,K,le,G,j){var oe,re=G.colorway||u.defaults,F=re[le%re.length];function O(ze,Pe){return h.coerce(ae,K,S.attributes,ze,Pe)}var J=O("visible");O("type"),O("name",G._traceWord+" "+j),O("uirevision",G.uirevision);var R=S.getModule(K);if(K._module=R,R){var ie=R.basePlotModule,fe=ie.attr,ue=ie.attributes;if(fe&&ue){var he=G._subplots,Me="";if(J||"gl2d"!==ie.name){if(Array.isArray(fe))for(oe=0;oe<fe.length;oe++){var be=fe[oe],Ae=h.coerce(ae,K,ue,be);he[be]&&h.pushUnique(he[be],Ae),Me+=Ae}else Me=h.coerce(ae,K,ue,fe);he[ie.name]&&h.pushUnique(he[ie.name],Me)}}}return J&&(O("customdata"),O("ids"),O("meta"),c.traceIs(K,"showLegend")?(h.coerce(ae,K,R.attributes.showlegend?R.attributes:S.attributes,"showlegend"),O("legendgroup"),O("legendgrouptitle.text"),O("legendrank"),K._dfltShowLegend=!0):K._dfltShowLegend=!1,R&&R.supplyDefaults(ae,K,F,G),c.traceIs(K,"noOpacity")||O("opacity"),c.traceIs(K,"notLegendIsolatable")&&(K.visible=!!K.visible),c.traceIs(K,"noHover")||(K.hovertemplate||h.coerceHoverinfo(ae,K,G),"parcats"!==K.type&&c.getComponentMethod("fx","supplyDefaults")(ae,K,F,G)),R&&R.selectPoints&&O("selectedpoints"),S.supplyTransformDefaults(ae,K,G)),K},S.hasMakesDataTransform=$,S.supplyTransformDefaults=function(ae,K,le){if(K._length||$(ae)){var G=le._globalTransforms||[],j=le._transformModules||[];if(Array.isArray(ae.transforms)||0!==G.length)for(var re=G.concat(ae.transforms||[]),F=K.transforms=[],O=0;O<re.length;O++){var J,R=re[O],ie=R.type,fe=P[ie],ue=!(R._module&&R._module===fe),he=fe&&"function"==typeof fe.transform;fe||h.warn("Unrecognized transform type "+ie+"."),fe&&fe.supplyDefaults&&(ue||he)?((J=fe.supplyDefaults(R,K,le,ae)).type=ie,J._module=fe,h.pushUnique(j,fe)):J=h.extendFlat({},R),F.push(J)}}},S.supplyLayoutGlobalDefaults=function(ae,K,le){function G(O,J){return h.coerce(ae,K,S.layoutAttributes,O,J)}var j=ae.template;h.isPlainObject(j)&&(K.template=j,K._template=j.layout,K._dataTemplate=j.data),G("autotypenumbers");var oe=h.coerceFont(G,"font");h.coerceFont(G,"title.font",h.extendFlat({},oe,{size:Math.round(1.4*oe.size)})),G("title.text",K._dfltTitle.plot),G("title.xref"),G("title.yref"),G("title.x"),G("title.y"),G("title.xanchor"),G("title.yanchor"),G("title.pad.t"),G("title.pad.r"),G("title.pad.b"),G("title.pad.l"),G("uniformtext.mode")&&G("uniformtext.minsize"),G("autosize",!(ae.width&&ae.height)),G("width"),G("height"),G("margin.l"),G("margin.r"),G("margin.t"),G("margin.b"),G("margin.pad"),G("margin.autoexpand"),ae.width&&ae.height&&S.sanitizeMargins(K),c.getComponentMethod("grid","sizeDefaults")(ae,K),G("paper_bgcolor"),G("separators",le.decimal+le.thousands),G("hidesources"),G("colorway"),G("datarevision");var F=G("uirevision");G("editrevision",F),G("selectionrevision",F),c.getComponentMethod("modebar","supplyLayoutDefaults")(ae,K),c.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(ae,K,G),G("meta"),h.isPlainObject(ae.transition)&&(G("transition.duration"),G("transition.easing"),G("transition.ordering")),c.getComponentMethod("calendars","handleDefaults")(ae,K,"calendar"),c.getComponentMethod("fx","supplyLayoutGlobalDefaults")(ae,K,G)},S.plotAutoSize=function(ae,K,le){var G,j,oe=ae._context||{},re=oe.frameMargins,F=h.isPlotDiv(ae);if(F&&ae.emit("plotly_autosize"),oe.fillFrame)G=window.innerWidth,j=window.innerHeight,document.body.style.overflow="hidden";else{var O=F?window.getComputedStyle(ae):{};if(G=Y(O.width)||Y(O.maxWidth)||le.width,j=Y(O.height)||Y(O.maxHeight)||le.height,l(re)&&re>0){var J=1-2*re;G=Math.round(J*G),j=Math.round(J*j)}}var R=S.layoutAttributes.width.min,ie=S.layoutAttributes.height.min;G<R&&(G=R),j<ie&&(j=ie);var fe=!K.width&&Math.abs(le.width-G)>1,ue=!K.height&&Math.abs(le.height-j)>1;(ue||fe)&&(fe&&(le.width=G),ue&&(le.height=j)),ae._initialAutoSize||(ae._initialAutoSize={width:G,height:j}),S.sanitizeMargins(le)},S.supplyLayoutModuleDefaults=function(ae,K,le,G){var j,oe,re,F=c.componentsRegistry,O=K._basePlotModules,J=c.subplotsRegistry.cartesian;for(j in F)(re=F[j]).includeBasePlot&&re.includeBasePlot(ae,K);for(var R in O.length||O.push(J),K._has("cartesian")&&(c.getComponentMethod("grid","contentDefaults")(ae,K),J.finalizeSubplots(ae,K)),K._subplots)K._subplots[R].sort(h.subplotSort);for(oe=0;oe<O.length;oe++)(re=O[oe]).supplyLayoutDefaults&&re.supplyLayoutDefaults(ae,K,le);var ie=K._modules;for(oe=0;oe<ie.length;oe++)(re=ie[oe]).supplyLayoutDefaults&&re.supplyLayoutDefaults(ae,K,le);var fe=K._transformModules;for(oe=0;oe<fe.length;oe++)(re=fe[oe]).supplyLayoutDefaults&&re.supplyLayoutDefaults(ae,K,le,G);for(j in F)(re=F[j]).supplyLayoutDefaults&&re.supplyLayoutDefaults(ae,K,le)},S.purge=function(ae){var K=ae._fullLayout||{};void 0!==K._glcontainer&&(K._glcontainer.selectAll(".gl-canvas").remove(),K._glcontainer.remove(),K._glcanvas=null),K._modeBar&&K._modeBar.destroy(),ae._transitionData&&(ae._transitionData._interruptCallbacks&&(ae._transitionData._interruptCallbacks.length=0),ae._transitionData._animationRaf&&window.cancelAnimationFrame(ae._transitionData._animationRaf)),h.clearThrottle(),h.clearResponsive(ae),delete ae.data,delete ae.layout,delete ae._fullData,delete ae._fullLayout,delete ae.calcdata,delete ae.empty,delete ae.fid,delete ae.undoqueue,delete ae.undonum,delete ae.autoplay,delete ae.changed,delete ae._promises,delete ae._redrawTimer,delete ae._hmlumcount,delete ae._hmpixcount,delete ae._transitionData,delete ae._transitioning,delete ae._initialAutoSize,delete ae._transitioningWithDuration,delete ae._dragging,delete ae._dragged,delete ae._dragdata,delete ae._hoverdata,delete ae._snapshotInProgress,delete ae._editing,delete ae._mouseDownTime,delete ae._legendMouseDownTime,ae.removeAllListeners&&ae.removeAllListeners()},S.style=function(ae){var K,le=ae._fullLayout._visibleModules,G=[];for(K=0;K<le.length;K++){var j=le[K];j.style&&h.pushUnique(G,j.style)}for(K=0;K<G.length;K++)G[K](ae)},S.sanitizeMargins=function(ae){if(ae&&ae.margin){var K,le=ae.width,G=ae.height,j=ae.margin,re=G-(j.t+j.b);le-(j.l+j.r)<0&&(K=(le-1)/(j.l+j.r),j.l=Math.floor(K*j.l),j.r=Math.floor(K*j.r)),re<0&&(K=(G-1)/(j.t+j.b),j.t=Math.floor(K*j.t),j.b=Math.floor(K*j.b))}},S.clearAutoMarginIds=function(ae){ae._fullLayout._pushmarginIds={}},S.allowAutoMargin=function(ae,K){ae._fullLayout._pushmarginIds[K]=1},S.autoMargin=function(ae,K,le){var G=ae._fullLayout,j=G.width,oe=G.height,re=G.margin,F=h.constrain(j-re.l-re.r,2,64),O=h.constrain(oe-re.t-re.b,2,64),J=Math.max(0,j-F),R=Math.max(0,oe-O),ie=G._pushmargin,fe=G._pushmarginIds;if(!1!==re.autoexpand){if(le){var ue=le.pad;if(void 0===ue&&(ue=Math.min(12,re.l,re.r,re.t,re.b)),J){var he=(le.l+le.r)/J;he>1&&(le.l/=he,le.r/=he)}if(R){var Me=(le.t+le.b)/R;Me>1&&(le.t/=Me,le.b/=Me)}ie[K]={l:{val:void 0!==le.xl?le.xl:le.x,size:le.l+ue},r:{val:void 0!==le.xr?le.xr:le.x,size:le.r+ue},b:{val:void 0!==le.yb?le.yb:le.y,size:le.b+ue},t:{val:void 0!==le.yt?le.yt:le.y,size:le.t+ue}},fe[K]=1}else delete ie[K],delete fe[K];if(!G._replotting)return S.doAutoMargin(ae)}},S.doAutoMargin=function(ae){var K=ae._fullLayout,le=K.width,G=K.height;K._size||(K._size={}),W(K);var j=K._size,oe=K.margin,re=h.extendFlat({},j),F=oe.l,O=oe.r,J=oe.t,R=oe.b,ie=K._pushmargin,fe=K._pushmarginIds;if(!1!==K.margin.autoexpand){for(var ue in ie)fe[ue]||delete ie[ue];for(var he in ie.base={l:{val:0,size:F},r:{val:1,size:O},t:{val:1,size:J},b:{val:0,size:R}},ie){var Me=ie[he].l||{},be=ie[he].b||{},Ae=Me.val,ze=Me.size,Pe=be.val,Fe=be.size;for(var t1 in ie){if(l(ze)&&ie[t1].r){var Xe=ie[t1].r.val,Ue=ie[t1].r.size;if(Xe>Ae){var xe=(ze*Xe+(Ue-le)*Ae)/(Xe-Ae),ve=(Ue*(1-Ae)+(ze-le)*(1-Xe))/(Xe-Ae);xe+ve>F+O&&(F=xe,O=ve)}}if(l(Fe)&&ie[t1].t){var De=ie[t1].t.val,Ve=ie[t1].t.size;if(De>Pe){var Ye=(Fe*De+(Ve-G)*Pe)/(De-Pe),Oe=(Ve*(1-Pe)+(Fe-G)*(1-De))/(De-Pe);Ye+Oe>R+J&&(R=Ye,J=Oe)}}}}}var b1,Ie=h.constrain(le-oe.l-oe.r,2,64),Qe=h.constrain(G-oe.t-oe.b,2,64),n1=Math.max(0,le-Ie),Ke=Math.max(0,G-Qe);if(n1){var r1=(F+O)/n1;r1>1&&(F/=r1,O/=r1)}if(Ke){var f1=(R+J)/Ke;f1>1&&(R/=f1,J/=f1)}if(j.l=Math.round(F),j.r=Math.round(O),j.t=Math.round(J),j.b=Math.round(R),j.p=Math.round(oe.pad),j.w=Math.round(le)-j.l-j.r,j.h=Math.round(G)-j.t-j.b,!K._replotting&&S.didMarginChange(re,j)){"_redrawFromAutoMarginCount"in K?K._redrawFromAutoMarginCount++:K._redrawFromAutoMarginCount=1;var Je=3*(1+Object.keys(fe).length);if(K._redrawFromAutoMarginCount<Je)return c.call("_doPlot",ae);K._size=re,h.warn("Too many auto-margin redraws.")}b1=b.list(ae,"",!0),["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(_1){for(var I1=0;I1<b1.length;I1++){var M1=b1[I1][_1];M1&&M1()}})};var q=["l","r","t","b","p","w","h"];function X(ae,K,le){var G=!1,oe=h.syncOrAsync([S.previousPromises,function(){if(ae._transitionData)return ae._transitioning=!1,function(re){var F=Promise.resolve();if(!re)return F;for(;re.length;)F=F.then(re.shift());return F}(ae._transitionData._interruptCallbacks)},le.prepareFn,S.rehover,function(){return ae.emit("plotly_transitioning",[]),new Promise(function(re){ae._transitioning=!0,K.duration>0&&(ae._transitioningWithDuration=!0),ae._transitionData._interruptCallbacks.push(function(){G=!0}),le.redraw&&ae._transitionData._interruptCallbacks.push(function(){return c.call("redraw",ae)}),ae._transitionData._interruptCallbacks.push(function(){ae.emit("plotly_transitioninterrupted",[])});var F=0,O=0;function J(){return F++,function(){var R;O++,G||O!==F||(R=re,!ae._transitionData||(function(ie){if(ie)for(;ie.length;)ie.shift()}(ae._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(le.redraw)return c.call("redraw",ae)}).then(function(){ae._transitioning=!1,ae._transitioningWithDuration=!1,ae.emit("plotly_transitioned",[])}).then(R)))}}le.runFn(J),setTimeout(J())})}],ae);return oe&&oe.then||(oe=Promise.resolve()),oe.then(function(){return ae})}S.didMarginChange=function(ae,K){for(var le=0;le<q.length;le++){var G=q[le],j=ae[G],oe=K[G];if(!l(j)||Math.abs(oe-j)>1)return!0}return!1},S.graphJson=function(ae,K,le,G,j,oe){(j&&K&&!ae._fullData||j&&!K&&!ae._fullLayout)&&S.supplyDefaults(ae);var F=j?ae._fullLayout:ae.layout,O=(ae._transitionData||{})._frames;function J(fe,ue){if("function"==typeof fe)return ue?"_function_":null;if(h.isPlainObject(fe)){var he,Me={};return Object.keys(fe).sort().forEach(function(be){if(-1===["_","["].indexOf(be.charAt(0)))if("function"!=typeof fe[be]){if("keepdata"===le){if("src"===be.substr(be.length-3))return}else if("keepstream"===le){if("string"==typeof(he=fe[be+"src"])&&he.indexOf(":")>0&&!h.isPlainObject(fe.stream))return}else if("keepall"!==le&&"string"==typeof(he=fe[be+"src"])&&he.indexOf(":")>0)return;Me[be]=J(fe[be],ue)}else ue&&(Me[be]="_function")}),Me}return Array.isArray(fe)?fe.map(function(be){return J(be,ue)}):h.isTypedArray(fe)?h.simpleMap(fe,h.identity):h.isJSDate(fe)?h.ms2DateTimeLocal(+fe):fe}var R={data:((j?ae._fullData:ae.data)||[]).map(function(fe){var ue=J(fe);return K&&delete ue.fit,ue})};if(!K&&(R.layout=J(F),j)){var ie=F._size;R.layout.computed={margin:{b:ie.b,l:ie.l,r:ie.r,t:ie.t}}}return O&&(R.frames=J(O)),oe&&(R.config=J(ae._context,!0)),"object"===G?R:JSON.stringify(R)},S.modifyFrames=function(ae,K){var le,G,j,oe=ae._transitionData._frames,re=ae._transitionData._frameHash;for(le=0;le<K.length;le++)switch((G=K[le]).type){case"replace":var F=(oe[G.index]||{}).name,O=(j=G.value).name;oe[G.index]=re[O]=j,O!==F&&(delete re[F],re[O]=j);break;case"insert":re[(j=G.value).name]=j,oe.splice(G.index,0,j);break;case"delete":delete re[(j=oe[G.index]).name],oe.splice(G.index,1)}return Promise.resolve()},S.computeFrame=function(ae,K){var le,G,j,oe,re=ae._transitionData._frameHash;if(!K)throw new Error("computeFrame must be given a string frame name");var F=re[K.toString()];if(!F)return!1;for(var O=[F],J=[F.name];F.baseframe&&(F=re[F.baseframe.toString()])&&-1===J.indexOf(F.name);)O.push(F),J.push(F.name);for(var R={};F=O.pop();)if(F.layout&&(R.layout=S.extendLayout(R.layout,F.layout)),F.data){if(R.data||(R.data=[]),!(G=F.traces))for(G=[],le=0;le<F.data.length;le++)G[le]=le;for(R.traces||(R.traces=[]),le=0;le<F.data.length;le++)null!=(j=G[le])&&(-1===(oe=R.traces.indexOf(j))&&(R.traces[oe=R.data.length]=j),R.data[oe]=S.extendTrace(R.data[oe],F.data[le]))}return R},S.recomputeFrameHash=function(ae){for(var K=ae._transitionData._frameHash={},le=ae._transitionData._frames,G=0;G<le.length;G++){var j=le[G];j&&j.name&&(K[j.name]=j)}},S.extendObjectWithContainers=function(ae,K,le){var G,j,oe,re,F,O,J,R=h.extendDeepNoArrays({},K||{}),ie=h.expandObjectPaths(R),fe={};if(le&&le.length)for(oe=0;oe<le.length;oe++)void 0===(j=(G=h.nestedProperty(ie,le[oe])).get())?h.nestedProperty(fe,le[oe]).set(null):(G.set(null),h.nestedProperty(fe,le[oe]).set(j));if(ae=h.extendDeepNoArrays(ae||{},ie),le&&le.length)for(oe=0;oe<le.length;oe++)if(O=h.nestedProperty(fe,le[oe]).get()){for(J=(F=h.nestedProperty(ae,le[oe])).get(),Array.isArray(J)||F.set(J=[]),re=0;re<O.length;re++){var ue=O[re];J[re]=null===ue?null:S.extendObjectWithContainers(J[re],ue)}F.set(J)}return ae},S.dataArrayContainers=["transforms","dimensions"],S.layoutArrayContainers=c.layoutArrayContainers,S.extendTrace=function(ae,K){return S.extendObjectWithContainers(ae,K,S.dataArrayContainers)},S.extendLayout=function(ae,K){return S.extendObjectWithContainers(ae,K,S.layoutArrayContainers)},S.transition=function(ae,K,le,G,j,oe){var re={redraw:j.redraw},F={},O=[];return re.prepareFn=function(){for(var J=Array.isArray(K)?K.length:0,R=G.slice(0,J),ie=0;ie<R.length;ie++){var fe=R[ie],ue=ae._fullData[fe]._module;if(ue){if(ue.animatable){var he=ue.basePlotModule.name;F[he]||(F[he]=[]),F[he].push(fe)}ae.data[R[ie]]=S.extendTrace(ae.data[R[ie]],K[ie])}}var Me=h.expandObjectPaths(h.extendDeepNoArrays({},le)),be=/^[xy]axis[0-9]*$/;for(var Ae in Me)be.test(Ae)&&delete Me[Ae].range;S.extendLayout(ae.layout,Me),delete ae.calcdata,S.supplyDefaults(ae),S.doCalcdata(ae);var ze=h.expandObjectPaths(le);if(ze){var Pe=ae._fullLayout._plots;for(var Fe in Pe){var t1=Pe[Fe],Xe=t1.xaxis,Ue=t1.yaxis,xe=Xe.range.slice(),ve=Ue.range.slice(),De=null,Ve=null,Ye=null,Oe=null;Array.isArray(ze[Xe._name+".range"])?De=ze[Xe._name+".range"].slice():Array.isArray((ze[Xe._name]||{}).range)&&(De=ze[Xe._name].range.slice()),Array.isArray(ze[Ue._name+".range"])?Ve=ze[Ue._name+".range"].slice():Array.isArray((ze[Ue._name]||{}).range)&&(Ve=ze[Ue._name].range.slice()),xe&&De&&(Xe.r2l(xe[0])!==Xe.r2l(De[0])||Xe.r2l(xe[1])!==Xe.r2l(De[1]))&&(Ye={xr0:xe,xr1:De}),ve&&Ve&&(Ue.r2l(ve[0])!==Ue.r2l(Ve[0])||Ue.r2l(ve[1])!==Ue.r2l(Ve[1]))&&(Oe={yr0:ve,yr1:Ve}),(Ye||Oe)&&O.push(h.extendFlat({plotinfo:t1},Ye,Oe))}}return Promise.resolve()},re.runFn=function(J){var R,ie,fe=ae._fullLayout._basePlotModules,ue=O.length;if(le)for(ie=0;ie<fe.length;ie++)fe[ie].transitionAxes&&fe[ie].transitionAxes(ae,O,oe,J);for(var he in ue?((R=h.extendFlat({},oe)).duration=0,delete F.cartesian):R=oe,F){var Me=F[he];ae._fullData[Me[0]]._module.basePlotModule.plot(ae,Me,R,J)}},X(ae,oe,re)},S.transitionFromReact=function(ae,K,le,G){var j=ae._fullLayout,oe=j.transition,re={},F=[];return re.prepareFn=function(){var O=j._plots;for(var J in re.redraw=!1,"some"===K.anim&&(re.redraw=!0),"some"===le.anim&&(re.redraw=!0),O){var R=O[J],ie=R.xaxis,fe=R.yaxis,ue=G[ie._name].range.slice(),he=G[fe._name].range.slice(),Me=ie.range.slice(),be=fe.range.slice();ie.setScale(),fe.setScale();var Ae=null,ze=null;ie.r2l(ue[0])===ie.r2l(Me[0])&&ie.r2l(ue[1])===ie.r2l(Me[1])||(Ae={xr0:ue,xr1:Me}),fe.r2l(he[0])===fe.r2l(be[0])&&fe.r2l(he[1])===fe.r2l(be[1])||(ze={yr0:he,yr1:be}),(Ae||ze)&&F.push(h.extendFlat({plotinfo:R},Ae,ze))}return Promise.resolve()},re.runFn=function(O){for(var J,R,ie,fe=ae._fullData,ue=ae._fullLayout._basePlotModules,he=[],Me=0;Me<fe.length;Me++)he.push(Me);function be(){if(ae._fullLayout)for(var ze=0;ze<ue.length;ze++)ue[ze].transitionAxes&&ue[ze].transitionAxes(ae,F,J,O)}function Ae(){if(ae._fullLayout)for(var ze=0;ze<ue.length;ze++)ue[ze].plot(ae,ie,R,O)}F.length&&K.anim?"traces first"===oe.ordering?(J=h.extendFlat({},oe,{duration:0}),ie=he,R=oe,setTimeout(be,oe.duration),Ae()):(J=oe,ie=null,R=h.extendFlat({},oe,{duration:0}),setTimeout(Ae,J.duration),be()):F.length?(J=oe,be()):K.anim&&(ie=he,R=oe,Ae())},X(ae,oe,re)},S.doCalcdata=function(ae,K){var le,G,j,oe,re=b.list(ae),F=ae._fullData,O=ae._fullLayout,J=new Array(F.length),R=(ae.calcdata||[]).slice();for(ae.calcdata=J,O._numBoxes=0,O._numViolins=0,O._violinScaleGroupStats={},ae._hmpixcount=0,ae._hmlumcount=0,O._piecolormap={},O._sunburstcolormap={},O._treemapcolormap={},O._iciclecolormap={},O._funnelareacolormap={},j=0;j<F.length;j++)Array.isArray(K)&&-1===K.indexOf(j)&&(J[j]=R[j]);for(j=0;j<F.length;j++)(le=F[j])._arrayAttrs=C.findArrayAttributes(le),le._extremes={};var ie=O._subplots.polar||[];for(j=0;j<ie.length;j++)re.push(O[ie[j]].radialaxis,O[ie[j]].angularaxis);for(var fe in O._colorAxes){var ue=O[fe];!1!==ue.cauto&&(delete ue.cmin,delete ue.cmax)}var he=!1;function Me(ze){if(G=(le=F[ze])._module,!0===le.visible&&le.transforms){if(G&&G.calc){var Pe=G.calc(ae,le);Pe[0]&&Pe[0].t&&Pe[0].t._scene&&delete Pe[0].t._scene.dirty}for(oe=0;oe<le.transforms.length;oe++){var Fe=le.transforms[oe];(G=P[Fe.type])&&G.calcTransform&&(le._hasCalcTransform=!0,he=!0,G.calcTransform(ae,le,Fe))}}}function be(ze,Pe){if(!!(G=(le=F[ze])._module).isContainer===Pe){var Fe=[];if(!0===le.visible&&0!==le._length){delete le._indexToPoints;var t1=le.transforms||[];for(oe=t1.length-1;oe>=0;oe--)if(t1[oe].enabled){le._indexToPoints=t1[oe]._indexToPoints;break}G&&G.calc&&(Fe=G.calc(ae,le))}Array.isArray(Fe)&&Fe[0]||(Fe=[{x:_,y:_}]),Fe[0].t||(Fe[0].t={}),Fe[0].trace=le,J[ze]=Fe}}for(ce(re,F,O),j=0;j<F.length;j++)be(j,!0);for(j=0;j<F.length;j++)Me(j);for(he&&ce(re,F,O),j=0;j<F.length;j++)be(j,!0);for(j=0;j<F.length;j++)be(j,!1);me(ae);var Ae=function(ze,Pe){var Fe,t1,Xe,Ue,xe,ve=[];function De(N1,ge,ye){var je=ge._id.charAt(0);if("histogram2dcontour"===N1){var e1=ge._counterAxes[0],d1=b.getFromId(Pe,e1),i1="x"===je||"x"===e1&&"category"===d1.type,l1="y"===je||"y"===e1&&"category"===d1.type;return function(c1,L1){return 0===c1||0===L1||i1&&c1===ye[L1].length-1||l1&&L1===ye.length-1?-1:("y"===je?L1:c1)-1}}return function(c1,L1){return"y"===je?L1:c1}}var Ve={min:function(N1){return h.aggNums(Math.min,null,N1)},max:function(N1){return h.aggNums(Math.max,null,N1)},sum:function(N1){return h.aggNums(function(ge,ye){return ge+ye},null,N1)},total:function(N1){return h.aggNums(function(ge,ye){return ge+ye},null,N1)},mean:function(N1){return h.mean(N1)},median:function(N1){return h.median(N1)}};for(Fe=0;Fe<ze.length;Fe++){var Ye=ze[Fe];if("category"===Ye.type){var Oe=Ye.categoryorder.match(ee);if(Oe){var Ie=Oe[1],Qe=Oe[2],n1=Ye._id.charAt(0),Ke="x"===n1,r1=[];for(t1=0;t1<Ye._categories.length;t1++)r1.push([Ye._categories[t1],[]]);for(t1=0;t1<Ye._traceIndices.length;t1++){var f1=Ye._traceIndices[t1],Je=Pe._fullData[f1];if(!0===Je.visible){var g1=Je.type;c.traceIs(Je,"histogram")&&(delete Je._xautoBinFinished,delete Je._yautoBinFinished);var b1="splom"===g1,_1="scattergl"===g1,I1=Pe.calcdata[f1];for(Xe=0;Xe<I1.length;Xe++){var M1,Re,Be=I1[Xe];if(b1){var C1=Je._axesDim[Ye._id];if(!Ke){var O1=Je._diag[C1][0];O1&&(Ye=Pe._fullLayout[b.id2name(O1)])}var Q1=Be.trace.dimensions[C1].values;for(Ue=0;Ue<Q1.length;Ue++)for(M1=Ye._categoriesMap[Q1[Ue]],xe=0;xe<Be.trace.dimensions.length;xe++)xe!==C1&&r1[M1][1].push(Be.trace.dimensions[xe].values[Ue])}else if(_1){for(Ue=0;Ue<Be.t.x.length;Ue++)Ke?(M1=Be.t.x[Ue],Re=Be.t.y[Ue]):(M1=Be.t.y[Ue],Re=Be.t.x[Ue]),r1[M1][1].push(Re);Be.t&&Be.t._scene&&delete Be.t._scene.dirty}else if(Be.hasOwnProperty("z")){var G1=De(Je.type,Ye,Re=Be.z);for(Ue=0;Ue<Re.length;Ue++)for(xe=0;xe<Re[Ue].length;xe++)(M1=G1(xe,Ue))+1&&r1[M1][1].push(Re[Ue][xe])}else for(void 0===(M1=Be.p)&&(M1=Be[n1]),void 0===(Re=Be.s)&&(Re=Be.v),void 0===Re&&(Re=Ke?Be.y:Be.x),Array.isArray(Re)||(Re=void 0===Re?[]:[Re]),Ue=0;Ue<Re.length;Ue++)r1[M1][1].push(Re[Ue])}}}Ye._categoriesValue=r1;var K1=[];for(t1=0;t1<r1.length;t1++)K1.push([r1[t1][0],Ve[Ie](r1[t1][1])]);K1.sort(function(N1,ge){return N1[1]-ge[1]}),Ye._categoriesAggregatedValue=K1,Ye._initialCategories=K1.map(function(N1){return N1[0]}),"descending"===Qe&&Ye._initialCategories.reverse(),ve=ve.concat(Ye.sortByInitialCategories())}}}return ve}(re,ae);if(Ae.length){for(O._numBoxes=0,O._numViolins=0,j=0;j<Ae.length;j++)be(Ae[j],!0);for(j=0;j<Ae.length;j++)be(Ae[j],!1);me(ae)}c.getComponentMethod("fx","calc")(ae),c.getComponentMethod("errorbars","calc")(ae)};var ee=/(total|sum|min|max|mean|median) (ascending|descending)/;function ce(ae,K,le){var G={};function j(O){O.clearCalc(),"multicategory"===O.type&&O.setupMultiCategory(K),G[O._id]=1}h.simpleMap(ae,j);for(var oe=le._axisMatchGroups||[],re=0;re<oe.length;re++)for(var F in oe[re])G[F]||j(le[b.id2name(F)])}function me(ae){var K,le,G,j=ae._fullLayout,oe=j._visibleModules,re={};for(le=0;le<oe.length;le++){var F=oe[le],O=F.crossTraceCalc;if(O){var J=F.basePlotModule.name;re[J]?h.pushUnique(re[J],O):re[J]=[O]}}for(G in re){var R=re[G],ie=j._subplots[G];if(Array.isArray(ie))for(K=0;K<ie.length;K++){var fe=ie[K],ue="cartesian"===G?j._plots[fe]:j[fe];for(le=0;le<R.length;le++)R[le](ae,ue,fe)}else for(le=0;le<R.length;le++)R[le](ae)}}S.rehover=function(ae){ae._fullLayout._rehover&&ae._fullLayout._rehover()},S.redrag=function(ae){ae._fullLayout._redrag&&ae._fullLayout._redrag()},S.generalUpdatePerTraceModule=function(ae,K,le,G){var j,oe=K.traceHash,re={};for(j=0;j<le.length;j++){var F=le[j],O=F[0].trace;O.visible&&(re[O.type]=re[O.type]||[],re[O.type].push(F))}for(var J in oe)if(!re[J]){var R=oe[J][0];R[0].trace.visible=!1,re[J]=[R]}for(var ie in re){var fe=re[ie];fe[0][0].trace._module.plot(ae,K,h.filterVisible(fe),G)}K.traceHash=re},S.plotBasePlot=function(ae,K,le,G,j){var oe=c.getModule(ae),re=z(K.calcdata,oe)[0];oe.plot(K,re,G,j)},S.cleanBasePlot=function(ae,K,le,G,j){var oe=j._has&&j._has(ae),re=le._has&&le._has(ae);oe&&!re&&j["_"+ae+"layer"].selectAll("g.trace").remove()}},{"../components/color":102,"../constants/numerical":212,"../lib":232,"../plot_api/plot_schema":267,"../plot_api/plot_template":268,"../plots/get_data":312,"../registry":318,"./animation_attributes":273,"./attributes":275,"./cartesian/axis_ids":283,"./cartesian/handle_outline":290,"./command":308,"./font_attributes":310,"./frame_attributes":311,"./layout_attributes":314,"@plotly/d3":11,"d3-format":13,"d3-time-format":14,"fast-isnumeric":17}],317:[function(m,de,te){"use strict";function g(p){var l=p.description?" "+p.description:"",c=p.keys||[];if(c.length>0){for(var C=[],d=0;d<c.length;d++)C[d]="`"+c[d]+"`";l+="Finally, the template string has access to ",l=1===c.length?"variable "+C[0]:"variables "+C.slice(0,-1).join(", ")+" and "+C.slice(-1)+"."}return l}m("../constants/docs"),te.hovertemplateAttrs=function(p,l){p=p||{},g(l=l||{});var c={valType:"string",dflt:"",editType:p.editType||"none"};return!1!==p.arrayOk&&(c.arrayOk=!0),c},te.texttemplateAttrs=function(p,l){p=p||{},g(l=l||{});var c={valType:"string",dflt:"",editType:p.editType||"calc"};return!1!==p.arrayOk&&(c.arrayOk=!0),c}},{"../constants/docs":209}],318:[function(m,de,te){"use strict";var o=m("./lib/loggers"),g=m("./lib/noop"),p=m("./lib/push_unique"),l=m("./lib/is_plain_object"),c=m("./lib/dom").addStyleRule,C=m("./lib/extend"),d=m("./plots/attributes"),h=m("./plots/layout_attributes"),u=C.extendFlat,_=C.extendDeepAll;function b(H){var E=H.name,I=H.categories,w=H.meta;if(te.modules[E])o.log("Type "+E+" already registered");else{te.subplotsRegistry[H.basePlotModule.name]||function(ee){var ce=ee.name;if(te.subplotsRegistry[ce])o.log("Plot type "+ce+" already registered.");else for(var me in z(ee),te.subplotsRegistry[ce]=ee,te.componentsRegistry)S(me,ee.name)}(H.basePlotModule);for(var B={},$=0;$<I.length;$++)B[I[$]]=!0,te.allCategories[I[$]]=!0;for(var T in te.modules[E]={_module:H,categories:B},w&&Object.keys(w).length&&(te.modules[E].meta=w),te.allTypes.push(E),te.componentsRegistry)k(T,E);H.layoutAttributes&&u(te.traceLayoutAttributes,H.layoutAttributes);var Y=H.basePlotModule,W=Y.name;if("mapbox"===W){var q=Y.constants.styleRules;for(var X in q)c(".js-plotly-plot .plotly .mapboxgl-"+X,q[X])}"geo"!==W&&"mapbox"!==W||void 0===typeof window||void 0!==window.PlotlyGeoAssets||(window.PlotlyGeoAssets={topojson:{}})}}function M(H){if("string"!=typeof H.name)throw new Error("Component module *name* must be a string.");var E=H.name;for(var I in te.componentsRegistry[E]=H,H.layoutAttributes&&(H.layoutAttributes._isLinkedToArray&&p(te.layoutArrayContainers,E),z(H)),te.modules)k(E,I);for(var w in te.subplotsRegistry)S(E,w);for(var B in te.transformsRegistry)D(E,B);H.schema&&H.schema.layout&&_(h,H.schema.layout)}function L(H){if("string"!=typeof H.name)throw new Error("Transform module *name* must be a string.");var E="Transform module "+H.name,I="function"==typeof H.transform,w="function"==typeof H.calcTransform;if(!I&&!w)throw new Error(E+" is missing a *transform* or *calcTransform* method.");for(var B in I&&w&&o.log([E+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),l(H.attributes)||o.log(E+" registered without an *attributes* object."),"function"!=typeof H.supplyDefaults&&o.log(E+" registered without a *supplyDefaults* method."),te.transformsRegistry[H.name]=H,te.componentsRegistry)D(B,H.name)}function N(H){var E=H.name,I=E.split("-")[0],w=H.dictionary,B=H.format,$=w&&Object.keys(w).length,T=B&&Object.keys(B).length,Y=te.localeRegistry,W=Y[E];if(W||(Y[E]=W={}),I!==E){var q=Y[I];q||(Y[I]=q={}),$&&q.dictionary===W.dictionary&&(q.dictionary=w),T&&q.format===W.format&&(q.format=B)}$&&(W.dictionary=w),T&&(W.format=B)}function z(H){if(H.layoutAttributes){var E=H.layoutAttributes._arrayAttrRegexps;if(E)for(var I=0;I<E.length;I++)p(te.layoutArrayRegexes,E[I])}}function k(H,E){var I=te.componentsRegistry[H].schema;if(I&&I.traces){var w=I.traces[E];w&&_(te.modules[E]._module.attributes,w)}}function D(H,E){var I=te.componentsRegistry[H].schema;if(I&&I.transforms){var w=I.transforms[E];w&&_(te.transformsRegistry[E].attributes,w)}}function S(H,E){var I=te.componentsRegistry[H].schema;if(I&&I.subplots){var w=te.subplotsRegistry[E],B=w.layoutAttributes,$="subplot"===w.attr?w.name:w.attr;Array.isArray($)&&($=$[0]);var T=I.subplots[$];B&&T&&_(B,T)}}function P(H){return"object"==typeof H&&(H=H.type),H}te.modules={},te.allCategories={},te.allTypes=[],te.subplotsRegistry={},te.transformsRegistry={},te.componentsRegistry={},te.layoutArrayContainers=[],te.layoutArrayRegexes=[],te.traceLayoutAttributes={},te.localeRegistry={},te.apiMethodRegistry={},te.collectableSubplotTypes=null,te.register=function(H){if(te.collectableSubplotTypes=null,!H)throw new Error("No argument passed to Plotly.register.");H&&!Array.isArray(H)&&(H=[H]);for(var E=0;E<H.length;E++){var I=H[E];if(!I)throw new Error("Invalid module was attempted to be registered!");switch(I.moduleType){case"trace":b(I);break;case"transform":L(I);break;case"component":M(I);break;case"locale":N(I);break;case"apiMethod":te.apiMethodRegistry[I.name]=I.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},te.getModule=function(H){var E=te.modules[P(H)];return!!E&&E._module},te.traceIs=function(H,E){if("various"===(H=P(H)))return!1;var I=te.modules[H];return I||(H&&o.log("Unrecognized trace type "+H+"."),I=te.modules[d.type.dflt]),!!I.categories[E]},te.getTransformIndices=function(H,E){for(var I=[],w=H.transforms||[],B=0;B<w.length;B++)w[B].type===E&&I.push(B);return I},te.hasTransform=function(H,E){for(var I=H.transforms||[],w=0;w<I.length;w++)if(I[w].type===E)return!0;return!1},te.getComponentMethod=function(H,E){var I=te.componentsRegistry[H];return I&&I[E]||g},te.call=function(){var H=arguments[0],E=[].slice.call(arguments,1);return te.apiMethodRegistry[H].apply(null,E)}},{"./lib/dom":224,"./lib/extend":226,"./lib/is_plain_object":233,"./lib/loggers":236,"./lib/noop":241,"./lib/push_unique":246,"./plots/attributes":275,"./plots/layout_attributes":314}],319:[function(m,de,te){"use strict";var o=m("../registry"),g=m("../lib"),p=g.extendFlat,l=g.extendDeep;function c(C){var d;switch(C){case"themes__thumb":d={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":d={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:d={}}return d}de.exports=function(C,d){var h,b=C.layout,M=l([],C.data),L=l({},b,c(d.tileClass)),N=C._context||{};if(d.width&&(L.width=d.width),d.height&&(L.height=d.height),"thumbnail"===d.tileClass||"themes__thumb"===d.tileClass){L.annotations=[];var z=Object.keys(L);for(h=0;h<z.length;h++)["xaxis","yaxis","zaxis"].indexOf(z[h].slice(0,5))>-1&&(L[z[h]].title={text:""});for(h=0;h<M.length;h++){var k=M[h];k.showscale=!1,k.marker&&(k.marker.showscale=!1),o.traceIs(k,"pie-like")&&(k.textposition="none")}}if(Array.isArray(d.annotations))for(h=0;h<d.annotations.length;h++)L.annotations.push(d.annotations[h]);var D=Object.keys(L).filter(function(I){return I.match(/^scene\d*$/)});if(D.length){var S={};for("thumbnail"===d.tileClass&&(S={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),h=0;h<D.length;h++){var P=L[D[h]];P.xaxis||(P.xaxis={}),P.yaxis||(P.yaxis={}),P.zaxis||(P.zaxis={}),p(P.xaxis,S),p(P.yaxis,S),p(P.zaxis,S),P._scene=null}}var H=document.createElement("div");d.tileClass&&(H.className=d.tileClass);var E={gd:H,td:H,layout:L,data:M,config:{staticPlot:void 0===d.staticPlot||d.staticPlot,plotGlPixelRatio:void 0===d.plotGlPixelRatio?2:d.plotGlPixelRatio,displaylogo:d.displaylogo||!1,showLink:d.showLink||!1,showTips:d.showTips||!1,mapboxAccessToken:N.mapboxAccessToken}};return"transparent"!==d.setBackground&&(E.config.setBackground=d.setBackground||"opaque"),E.gd.defaultLayout=c(d.tileClass),E}},{"../lib":232,"../registry":318}],320:[function(m,de,te){"use strict";var o=m("../lib"),g=m("../plot_api/to_image"),p=m("./filesaver"),l=m("./helpers");de.exports=function(c,C){var d;return o.isPlainObject(c)||(d=o.getGraphDiv(c)),(C=C||{}).format=C.format||"png",C.width=C.width||null,C.height=C.height||null,C.imageDataOnly=!0,new Promise(function(h,u){d&&d._snapshotInProgress&&u(new Error("Snapshotting already in progress.")),o.isIE()&&"svg"!==C.format&&u(new Error(l.MSG_IE_BAD_FORMAT)),d&&(d._snapshotInProgress=!0);var _=g(c,C),b=C.filename||c.fn||"newplot";b+="."+C.format.replace("-","."),_.then(function(M){return d&&(d._snapshotInProgress=!1),p(M,b,C.format)}).then(function(M){h(M)}).catch(function(M){d&&(d._snapshotInProgress=!1),u(M)})})}},{"../lib":232,"../plot_api/to_image":271,"./filesaver":321,"./helpers":322}],321:[function(m,de,te){"use strict";var o=m("../lib"),g=m("./helpers");de.exports=function(p,l,c){var C=document.createElement("a"),d="download"in C;return new Promise(function(h,u){var _,b;return o.isIE()?(_=g.createBlob(p,"svg"),window.navigator.msSaveBlob(_,l),_=null,h(l)):d?(_=g.createBlob(p,c),b=g.createObjectURL(_),C.href=b,C.download=l,document.body.appendChild(C),C.click(),document.body.removeChild(C),g.revokeObjectURL(b),_=null,h(l)):o.isSafari()?(g.octetStream(("svg"===c?",":";base64,")+encodeURIComponent(p)),h(l)):void u(new Error("download error"))})}},{"../lib":232,"./helpers":322}],322:[function(m,de,te){"use strict";var o=m("../registry");te.getDelay=function(p){return p._has&&(p._has("gl3d")||p._has("gl2d")||p._has("mapbox"))?500:0},te.getRedrawFunc=function(p){return function(){o.getComponentMethod("colorbar","draw")(p)}},te.encodeSVG=function(p){return"data:image/svg+xml,"+encodeURIComponent(p)},te.encodeJSON=function(p){return"data:application/json,"+encodeURIComponent(p)};var g=window.URL||window.webkitURL;te.createObjectURL=function(p){return g.createObjectURL(p)},te.revokeObjectURL=function(p){return g.revokeObjectURL(p)},te.createBlob=function(p,l){if("svg"===l)return new window.Blob([p],{type:"image/svg+xml;charset=utf-8"});if("full-json"===l)return new window.Blob([p],{type:"application/json;charset=utf-8"});var c=function(C){for(var d=C.length,h=new ArrayBuffer(d),u=new Uint8Array(h),_=0;_<d;_++)u[_]=C.charCodeAt(_);return h}(window.atob(p));return new window.Blob([c],{type:"image/"+l})},te.octetStream=function(p){document.location.href="data:application/octet-stream"+p},te.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,te.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},{"../registry":318}],323:[function(m,de,te){"use strict";var o=m("./helpers"),g={getDelay:o.getDelay,getRedrawFunc:o.getRedrawFunc,clone:m("./cloneplot"),toSVG:m("./tosvg"),svgToImg:m("./svgtoimg"),toImage:m("./toimage"),downloadImage:m("./download")};de.exports=g},{"./cloneplot":319,"./download":320,"./helpers":322,"./svgtoimg":324,"./toimage":325,"./tosvg":326}],324:[function(m,de,te){"use strict";var o=m("../lib"),g=m("events").EventEmitter,p=m("./helpers");de.exports=function(l){var c=l.emitter||new g,C=new Promise(function(d,h){var u=window.Image,_=l.svg,b=l.format||"png";if(o.isIE()&&"svg"!==b){var M=new Error(p.MSG_IE_BAD_FORMAT);return h(M),l.promise?C:c.emit("error",M)}var L,N,z=l.canvas,k=l.scale||1,P=k*(l.width||300),H=k*(l.height||150),E=z.getContext("2d",{willReadFrequently:!0}),I=new u;"svg"===b||o.isSafari()?N=p.encodeSVG(_):(L=p.createBlob(_,"svg"),N=p.createObjectURL(L)),z.width=P,z.height=H,I.onload=function(){var w;switch(L=null,p.revokeObjectURL(N),"svg"!==b&&E.drawImage(I,0,0,P,H),b){case"jpeg":w=z.toDataURL("image/jpeg");break;case"png":w=z.toDataURL("image/png");break;case"webp":w=z.toDataURL("image/webp");break;case"svg":w=N;break;default:var B="Image format is not jpeg, png, svg or webp.";if(h(new Error(B)),!l.promise)return c.emit("error",B)}d(w),l.promise||c.emit("success",w)},I.onerror=function(w){if(L=null,p.revokeObjectURL(N),h(w),!l.promise)return c.emit("error",w)},I.src=N});return l.promise?C:c}},{"../lib":232,"./helpers":322,events:12}],325:[function(m,de,te){"use strict";var o=m("events").EventEmitter,g=m("../registry"),p=m("../lib"),l=m("./helpers"),c=m("./cloneplot"),C=m("./tosvg"),d=m("./svgtoimg");de.exports=function(h,u){var _=new o,b=c(h,{format:"png"}),M=b.gd;M.style.position="absolute",M.style.left="-5000px",document.body.appendChild(M);var L=l.getRedrawFunc(M);return g.call("_doPlot",M,b.data,b.layout,b.config).then(L).then(function(){var N=l.getDelay(M._fullLayout);setTimeout(function(){var z=C(M),k=document.createElement("canvas");k.id=p.randstr(),(_=d({format:u.format,width:M._fullLayout.width,height:M._fullLayout.height,canvas:k,emitter:_,svg:z})).clean=function(){M&&document.body.removeChild(M)}},N)}).catch(function(N){_.emit("error",N)}),_}},{"../lib":232,"../registry":318,"./cloneplot":319,"./helpers":322,"./svgtoimg":324,"./tosvg":326,events:12}],326:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("../lib"),p=m("../components/drawing"),l=m("../components/color"),c=m("../constants/xmlns_namespaces"),C=/"/g,d=new RegExp('("TOBESTRIPPED)|(TOBESTRIPPED")',"g");de.exports=function(h,u,_){var b,M=h._fullLayout,L=M._paper,N=M._toppaper,z=M.width,k=M.height;L.insert("rect",":first-child").call(p.setRect,0,0,z,k).call(l.fill,M.paper_bgcolor);var D=M._basePlotModules||[];for(b=0;b<D.length;b++){var S=D[b];S.toSVG&&S.toSVG(h)}if(N){var P=N.node().childNodes,H=Array.prototype.slice.call(P);for(b=0;b<H.length;b++){var E=H[b];E.childNodes.length&&L.node().appendChild(E)}}M._draggers&&M._draggers.remove(),L.node().style.background="",L.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var w=o.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){w.style({visibility:null,display:null});var B=this.style.fontFamily;B&&-1!==B.indexOf('"')&&w.style("font-family",B.replace(C,"TOBESTRIPPED"))}else w.remove()}),L.selectAll(".gradient_filled,.pattern_filled").each(function(){var w=o.select(this),B=this.style.fill;B&&-1!==B.indexOf("url(")&&w.style("fill",B.replace(C,"TOBESTRIPPED"));var $=this.style.stroke;$&&-1!==$.indexOf("url(")&&w.style("stroke",$.replace(C,"TOBESTRIPPED"))}),"pdf"!==u&&"eps"!==u||L.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),L.node().setAttributeNS(c.xmlns,"xmlns",c.svg),L.node().setAttributeNS(c.xmlns,"xmlns:xlink",c.xlink),"svg"===u&&_&&(L.attr("width",_*z),L.attr("height",_*k),L.attr("viewBox","0 0 "+z+" "+k));var w,B,$,I=(new window.XMLSerializer).serializeToString(L.node());return w=I,B=o.select("body").append("div").style({display:"none"}).html(""),$=w.replace(/(&[^;]*;)/gi,function(T){return"&lt;"===T?"&#60;":"&rt;"===T?"&#62;":-1!==T.indexOf("<")||-1!==T.indexOf(">")?"":B.html(T).text()}),B.remove(),I=(I=(I=$).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(d,"'"),g.isIE()&&(I=(I=(I=I.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),I}},{"../components/color":102,"../components/drawing":124,"../constants/xmlns_namespaces":213,"../lib":232,"@plotly/d3":11}],327:[function(m,de,te){"use strict";var o=m("../../lib");de.exports=function(g,p){for(var l=0;l<g.length;l++)g[l].i=l;o.mergeArray(p.text,g,"tx"),o.mergeArray(p.hovertext,g,"htx");var c=p.marker;if(c){o.mergeArray(c.opacity,g,"mo",!0),o.mergeArray(c.color,g,"mc");var C=c.line;C&&(o.mergeArray(C.color,g,"mlc"),o.mergeArrayCastPositive(C.width,g,"mlw"))}}},{"../../lib":232}],328:[function(m,de,te){"use strict";var o=m("../scatter/attributes"),g=m("../../plots/cartesian/axis_format_attributes").axisHoverFormat,p=m("../../plots/template_attributes").hovertemplateAttrs,l=m("../../plots/template_attributes").texttemplateAttrs,c=m("../../components/colorscale/attributes"),C=m("../../plots/font_attributes"),d=m("./constants"),h=m("../../components/drawing/attributes").pattern,u=m("../../lib/extend").extendFlat,_=C({editType:"calc",arrayOk:!0,colorEditType:"style"}),b=u({},o.marker.line.width,{dflt:0}),M=u({width:b,editType:"calc"},c("marker.line")),L=u({line:M,editType:"calc"},c("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:h});de.exports={x:o.x,x0:o.x0,dx:o.dx,y:o.y,y0:o.y0,dy:o.dy,xperiod:o.xperiod,yperiod:o.yperiod,xperiod0:o.xperiod0,yperiod0:o.yperiod0,xperiodalignment:o.xperiodalignment,yperiodalignment:o.yperiodalignment,xhoverformat:g("x"),yhoverformat:g("y"),text:o.text,texttemplate:l({editType:"plot"},{keys:d.eventDataKeys}),hovertext:o.hovertext,hovertemplate:p({},{keys:d.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:u({},_,{}),insidetextfont:u({},_,{}),outsidetextfont:u({},_,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:u({},o.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:L,offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},selected:{marker:{opacity:o.selected.marker.opacity,color:o.selected.marker.color,editType:"style"},textfont:o.selected.textfont,editType:"style"},unselected:{marker:{opacity:o.unselected.marker.opacity,color:o.unselected.marker.color,editType:"style"},textfont:o.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},{"../../components/colorscale/attributes":109,"../../components/drawing/attributes":123,"../../lib/extend":226,"../../plots/cartesian/axis_format_attributes":282,"../../plots/font_attributes":310,"../../plots/template_attributes":317,"../scatter/attributes":358,"./constants":330}],329:[function(m,de,te){"use strict";var o=m("../../plots/cartesian/axes"),g=m("../../plots/cartesian/align_period"),p=m("../../components/colorscale/helpers").hasColorscale,l=m("../../components/colorscale/calc"),c=m("./arrays_to_calcdata"),C=m("../scatter/calc_selection");de.exports=function(d,h){var u,_,b,M,L,N,z=o.getFromId(d,h.xaxis||"x"),k=o.getFromId(d,h.yaxis||"y"),D={msUTC:!(!h.base&&0!==h.base)};"h"===h.orientation?(u=z.makeCalcdata(h,"x",D),b=k.makeCalcdata(h,"y"),M=g(h,k,"y",b),L=!!h.yperiodalignment,N="y"):(u=k.makeCalcdata(h,"y",D),b=z.makeCalcdata(h,"x"),M=g(h,z,"x",b),L=!!h.xperiodalignment,N="x"),_=M.vals;for(var S=Math.min(_.length,u.length),P=new Array(S),H=0;H<S;H++)P[H]={p:_[H],s:u[H]},L&&(P[H].orig_p=b[H],P[H][N+"End"]=M.ends[H],P[H][N+"Start"]=M.starts[H]),h.ids&&(P[H].id=String(h.ids[H]));return p(h,"marker")&&l(d,h,{vals:h.marker.color,containerStr:"marker",cLetter:"c"}),p(h,"marker.line")&&l(d,h,{vals:h.marker.line.color,containerStr:"marker.line",cLetter:"c"}),c(P,h),C(P,h),P}},{"../../components/colorscale/calc":110,"../../components/colorscale/helpers":113,"../../plots/cartesian/align_period":276,"../../plots/cartesian/axes":279,"../scatter/calc_selection":360,"./arrays_to_calcdata":327}],330:[function(m,de,te){"use strict";de.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},{}],331:[function(m,de,te){"use strict";var o=m("fast-isnumeric"),g=m("../../lib").isArrayOrTypedArray,p=m("../../constants/numerical").BADNUM,l=m("../../registry"),c=m("../../plots/cartesian/axes"),C=m("../../plots/cartesian/constraints").getAxisGroup,d=m("./sieve.js");function h(S,P,H,E,I){if(E.length){var w,B,$,T;switch(function(Y,W){var q,X;for(q=0;q<W.length;q++){var ee,ce=W[q],me=ce[0].trace,ae="funnel"===me.type?me._base:me.base,K="h"===me.orientation?me.xcalendar:me.ycalendar,le="category"===Y.type||"multicategory"===Y.type?function(){return null}:Y.d2c;if(g(ae)){for(X=0;X<Math.min(ae.length,ce.length);X++)ee=le(ae[X],0,K),o(ee)?(ce[X].b=+ee,ce[X].hasB=1):ce[X].b=0;for(;X<ce.length;X++)ce[X].b=0}else{ee=le(ae,0,K);var G=o(ee);for(ee=G?ee:0,X=0;X<ce.length;X++)ce[X].b=ee,G&&(ce[X].hasB=1)}}}(H,E),I.mode){case"overlay":u(P,H,E,I);break;case"group":for(w=[],B=[],$=0;$<E.length;$++)void 0===(T=E[$])[0].trace.offset?B.push(T):w.push(T);B.length&&(Y=S,q=H,ce=new d(B,{posAxis:W=P,sepNegVal:!1,overlapNoMerge:!(ee=I).norm}),function(me,ae,K,le){for(var G=me._fullLayout,re=K.minDiff,F=K.traces,O=F.length,J=K.positions.length!==K.distinctPositions.length,R=re*(1-le.gap),ie=C(G,ae._id)+F[0][0].trace.orientation,fe=G._alignmentOpts[ie]||{},ue=0;ue<O;ue++){var he,Me,be=F[ue],Ae=be[0].trace,Pe=Object.keys((fe[Ae.alignmentgroup]||{}).offsetGroups||{}).length,Fe=(he=Pe?R/Pe:J?R/O:R)*(1-(le.groupgap||0));Me=Pe?((2*Ae._offsetIndex+1-Pe)*he-Fe)/2:J?((2*ue+1-O)*he-Fe)/2:-Fe/2;var t1=be[0].t;t1.barwidth=Fe,t1.poffset=Me,t1.bargroupwidth=R,t1.bardelta=re}K.binWidth=F[0][0].t.barwidth/100,b(K),M(ae,K),L(ae,K,J)}(Y,W,ce,ee),function(me,ae){for(var K=me.traces,le=0;le<K.length;le++){var G=K[le];if(void 0===G[0].trace.base)for(var j=new d([G],{posAxis:ae,sepNegVal:!0,overlapNoMerge:!0}),oe=0;oe<G.length;oe++){var re=G[oe];if(re.p!==p){var F=j.put(re.p,re.b+re.s);F&&(re.b=F)}}}}(ce,W),ee.norm?(z(ce),k(q,ce,ee)):N(q,ce)),w.length&&u(P,H,w,I);break;case"stack":case"relative":for(w=[],B=[],$=0;$<E.length;$++)void 0===(T=E[$])[0].trace.base?B.push(T):w.push(T);B.length&&function(Y,W,q,X,ee){var ce=new d(X,{posAxis:W,sepNegVal:"relative"===ee.mode,overlapNoMerge:!(ee.norm||"stack"===ee.mode||"relative"===ee.mode)});_(W,ce,ee),function(G,j,oe){var re,F,O,J,R,ie,fe=D(G),ue=j.traces;for(J=0;J<ue.length;J++)if("funnel"===(F=(re=ue[J])[0].trace).type)for(R=0;R<re.length;R++)(ie=re[R]).s!==p&&j.put(ie.p,-.5*ie.s);for(J=0;J<ue.length;J++){O="funnel"===(F=(re=ue[J])[0].trace).type;var he=[];for(R=0;R<re.length;R++)if((ie=re[R]).s!==p){var Me,be=j.put(ie.p,Me=O?ie.s:ie.s+ie.b),Ae=be+Me;ie.b=be,ie[fe]=Ae,oe.norm||(he.push(Ae),ie.hasB&&he.push(be))}oe.norm||(F._extremes[G._id]=c.findExtremes(G,he,{tozero:!0,padded:!0}))}}(q,ce,ee);for(var me=0;me<X.length;me++)for(var ae=X[me],K=0;K<ae.length;K++){var le=ae[K];le.s!==p&&le.b+le.s===ce.get(le.p,le.s)&&(le._outmost=!0)}ee.norm&&k(q,ce,ee)}(0,P,H,B,I),w.length&&u(P,H,w,I)}!function(Y,W){var q,X,ee,ce=D(W),me={},ae=1/0,K=-1/0;for(q=0;q<Y.length;q++)for(ee=Y[q],X=0;X<ee.length;X++){var le=ee[X].p;o(le)&&(ae=Math.min(ae,le),K=Math.max(K,le))}var G=1e4/(K-ae),j=me.round=function(ie){return String(Math.round(G*(ie-ae)))};for(q=0;q<Y.length;q++){(ee=Y[q])[0].t.extents=me;var oe=ee[0].t.poffset,re=Array.isArray(oe);for(X=0;X<ee.length;X++){var F=ee[X],O=F[ce]-F.w/2;if(o(O)){var J=F[ce]+F.w/2,R=j(F.p);me[R]=me[R]?[Math.min(O,me[R][0]),Math.max(J,me[R][1])]:[O,J]}F.p0=F.p+(re?oe[X]:oe),F.p1=F.p0+F.w,F.s0=F.b,F.s1=F.s0+F.s}}}(E,P)}var Y,W,q,ee,ce}function u(S,P,H,E){for(var I=0;I<H.length;I++){var B=new d([H[I]],{posAxis:S,sepNegVal:!1,overlapNoMerge:!E.norm});_(S,B,E),E.norm?(z(B),k(P,B,E)):N(P,B)}}function _(S,P,H){for(var E=P.minDiff,I=P.traces,w=E*(1-H.gap),B=w*(1-(H.groupgap||0)),$=-B/2,T=0;T<I.length;T++){var Y=I[T][0].t;Y.barwidth=B,Y.poffset=$,Y.bargroupwidth=w,Y.bardelta=E}P.binWidth=I[0][0].t.barwidth/100,b(P),M(S,P),L(S,P)}function b(S){var P,H,E=S.traces;for(P=0;P<E.length;P++){var I,w=E[P],B=w[0],$=B.trace,T=B.t,Y=$._offset||$.offset,W=T.poffset;if(g(Y)){for(I=Array.prototype.slice.call(Y,0,w.length),H=0;H<I.length;H++)o(I[H])||(I[H]=W);for(H=I.length;H<w.length;H++)I.push(W);T.poffset=I}else void 0!==Y&&(T.poffset=Y);var q=$._width||$.width,X=T.barwidth;if(g(q)){var ee=Array.prototype.slice.call(q,0,w.length);for(H=0;H<ee.length;H++)o(ee[H])||(ee[H]=X);for(H=ee.length;H<w.length;H++)ee.push(X);if(T.barwidth=ee,void 0===Y){for(I=[],H=0;H<w.length;H++)I.push(W+(X-ee[H])/2);T.poffset=I}}else void 0!==q&&(T.barwidth=q,void 0===Y&&(T.poffset=W+(X-q)/2))}}function M(S,P){for(var H=P.traces,E=D(S),I=0;I<H.length;I++)for(var w=H[I],B=w[0].t,$=B.poffset,T=Array.isArray($),Y=B.barwidth,W=Array.isArray(Y),q=0;q<w.length;q++){var X=w[q],ee=X.w=W?Y[q]:Y;X[E]=X.p+(T?$[q]:$)+ee/2}}function L(S,P,H){var E=P.traces,I=P.minDiff/2;c.minDtick(S,P.minDiff,P.distinctPositions[0],H);for(var w=0;w<E.length;w++){var B,$,T,Y,W=E[w],q=W[0],X=q.trace,ee=[];for(Y=0;Y<W.length;Y++)$=(B=W[Y]).p-I,ee.push($,T=B.p+I);if(X.width||X.offset){var ce=q.t,me=ce.poffset,ae=ce.barwidth,K=Array.isArray(me),le=Array.isArray(ae);for(Y=0;Y<W.length;Y++)T=($=(B=W[Y]).p+(K?me[Y]:me))+(le?ae[Y]:ae),ee.push($,T)}X._extremes[S._id]=c.findExtremes(S,ee,{padded:!1})}}function N(S,P){for(var H=P.traces,E=D(S),I=0;I<H.length;I++){for(var w=H[I],B=w[0].trace,$=[],T=!1,Y=0;Y<w.length;Y++){var W=w[Y],q=W.b,X=q+W.s;W[E]=X,$.push(X),W.hasB&&$.push(q),W.hasB&&W.b||(T=!0)}B._extremes[S._id]=c.findExtremes(S,$,{tozero:T,padded:!0})}}function z(S){for(var P=S.traces,H=0;H<P.length;H++)for(var E=P[H],I=0;I<E.length;I++){var w=E[I];w.s!==p&&S.put(w.p,w.b+w.s)}}function k(S,P,H){var E=P.traces,I=D(S),w="fraction"===H.norm?1:100,B=w/1e9,$=S.l2c(S.c2l(0)),T="stack"===H.mode?w:$;function Y(oe){return o(S.c2l(oe))&&(oe<$-B||oe>T+B||!o($))}for(var W=0;W<E.length;W++){for(var q=E[W],X=q[0].trace,ee=[],ce=!1,me=!1,ae=0;ae<q.length;ae++){var K=q[ae];if(K.s!==p){var le=Math.abs(w/P.get(K.p,K.s));K.b*=le,K.s*=le;var G=K.b,j=G+K.s;K[I]=j,ee.push(j),me=me||Y(j),K.hasB&&(ee.push(G),me=me||Y(G)),K.hasB&&K.b||(ce=!0)}}X._extremes[S._id]=c.findExtremes(S,ee,{tozero:ce,padded:me})}}function D(S){return S._id.charAt(0)}de.exports={crossTraceCalc:function(S,P){for(var H=P.xaxis,E=P.yaxis,I=S._fullLayout,w=S._fullData,B=S.calcdata,$=[],T=[],Y=0;Y<w.length;Y++){var W=w[Y];if(!0===W.visible&&l.traceIs(W,"bar")&&W.xaxis===H._id&&W.yaxis===E._id&&("h"===W.orientation?$.push(B[Y]):T.push(B[Y]),W._computePh))for(var q=S.calcdata[Y],X=0;X<q.length;X++)"function"==typeof q[X].ph0&&(q[X].ph0=q[X].ph0()),"function"==typeof q[X].ph1&&(q[X].ph1=q[X].ph1())}var ee={xCat:"category"===H.type||"multicategory"===H.type,yCat:"category"===E.type||"multicategory"===E.type,mode:I.barmode,norm:I.barnorm,gap:I.bargap,groupgap:I.bargroupgap};h(S,H,E,T,ee),h(S,E,H,$,ee)},setGroupPositions:h}},{"../../constants/numerical":212,"../../lib":232,"../../plots/cartesian/axes":279,"../../plots/cartesian/constraints":287,"../../registry":318,"./sieve.js":341,"fast-isnumeric":17}],332:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("../../components/color"),p=m("../../registry"),l=m("../scatter/xy_defaults"),c=m("../scatter/period_defaults"),C=m("./style_defaults"),d=m("../../plots/cartesian/constraints").getAxisGroup,h=m("./attributes"),u=o.coerceFont;function _(M,L,N,z){var k=L.orientation,S=d(N,L[{v:"x",h:"y"}[k]+"axis"])+k,P=N._alignmentOpts||{},H=z("alignmentgroup"),E=P[S];E||(E=P[S]={});var I=E[H];I?I.traces.push(L):I=E[H]={traces:[L],alignmentIndex:Object.keys(E).length,offsetGroups:{}};var w=z("offsetgroup"),B=I.offsetGroups,$=B[w];w&&($||($=B[w]={offsetIndex:Object.keys(B).length}),L._offsetIndex=$.offsetIndex)}function b(M,L,N,z,k,D){var S=!1!==(D=D||{}).moduleHasSelected,P=!1!==D.moduleHasUnselected,H=!1!==D.moduleHasConstrain,E=!1!==D.moduleHasCliponaxis,I=!1!==D.moduleHasTextangle,w=!1!==D.moduleHasInsideanchor,B=!!D.hasPathbar,$=Array.isArray(k)||"auto"===k,T=$||"inside"===k,Y=$||"outside"===k;if(T||Y){var W=u(z,"textfont",N.font),q=o.extendFlat({},W),X=!(M.textfont&&M.textfont.color);if(X&&delete q.color,u(z,"insidetextfont",q),B){var ee=o.extendFlat({},W);X&&delete ee.color,u(z,"pathbar.textfont",ee)}Y&&u(z,"outsidetextfont",W),S&&z("selected.textfont.color"),P&&z("unselected.textfont.color"),H&&z("constraintext"),E&&z("cliponaxis"),I&&z("textangle"),z("texttemplate")}T&&w&&z("insidetextanchor")}de.exports={supplyDefaults:function(M,L,N,z){function k(H,E){return o.coerce(M,L,h,H,E)}if(l(M,L,z,k)){c(M,L,z,k),k("xhoverformat"),k("yhoverformat"),k("orientation",L.x&&!L.y?"h":"v"),k("base"),k("offset"),k("width"),k("text"),k("hovertext"),k("hovertemplate");var D=k("textposition");b(M,0,z,k,D,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),C(M,L,k,N,z);var S=(L.marker.line||{}).color,P=p.getComponentMethod("errorbars","supplyDefaults");P(M,L,S||g.defaultLine,{axis:"y"}),P(M,L,S||g.defaultLine,{axis:"x",inherit:"y"}),o.coerceSelectionMarkerOpacity(L,k)}else L.visible=!1},crossTraceDefaults:function(M,L){var N;function z(D){return o.coerce(N._input,N,h,D)}if("group"===L.barmode)for(var k=0;k<M.length;k++)"bar"===(N=M[k]).type&&_(0,N,L,z)},handleGroupingDefaults:_,handleText:b}},{"../../components/color":102,"../../lib":232,"../../plots/cartesian/constraints":287,"../../registry":318,"../scatter/period_defaults":378,"../scatter/xy_defaults":385,"./attributes":328,"./style_defaults":343}],333:[function(m,de,te){"use strict";de.exports=function(o,g,p){return o.x="xVal"in g?g.xVal:g.x,o.y="yVal"in g?g.yVal:g.y,g.xa&&(o.xaxis=g.xa),g.ya&&(o.yaxis=g.ya),"h"===p.orientation?(o.label=o.y,o.value=o.x):(o.label=o.x,o.value=o.y),o}},{}],334:[function(m,de,te){"use strict";var o=m("fast-isnumeric"),g=m("tinycolor2"),p=m("../../lib").isArrayOrTypedArray;te.coerceString=function(l,c,C){if("string"==typeof c){if(c||!l.noBlank)return c}else if(("number"==typeof c||!0===c)&&!l.strict)return String(c);return void 0!==C?C:l.dflt},te.coerceNumber=function(l,c,C){if(o(c)){c=+c;var d=l.min,h=l.max;if(!(void 0!==d&&c<d||void 0!==h&&c>h))return c}return void 0!==C?C:l.dflt},te.coerceColor=function(l,c,C){return g(c).isValid()?c:void 0!==C?C:l.dflt},te.coerceEnumerated=function(l,c,C){return l.coerceNumber&&(c=+c),-1!==l.values.indexOf(c)?c:void 0!==C?C:l.dflt},te.getValue=function(l,c){var C;return Array.isArray(l)?c<l.length&&(C=l[c]):C=l,C},te.getLineWidth=function(l,c){return 0<c.mlw?c.mlw:p(l.marker.line.width)?0:l.marker.line.width}},{"../../lib":232,"fast-isnumeric":17,tinycolor2:67}],335:[function(m,de,te){"use strict";var o=m("../../components/fx"),g=m("../../registry"),p=m("../../components/color"),l=m("../../lib").fillText,c=m("./helpers").getLineWidth,C=m("../../plots/cartesian/axes").hoverLabelText,d=m("../../constants/numerical").BADNUM;function h(_,b,M,L,N){var z,k,D,S,P,H,E,I=_.cd,w=I[0].trace,B=I[0].t,$="closest"===L,T="waterfall"===w.type,Y=_.maxHoverDistance,W=_.maxSpikeDistance;"h"===w.orientation?(z=M,k=b,D="y",S="x",P=re,H=j):(z=b,k=M,D="x",S="y",H=re,P=j);var q=w[D+"period"],X=$||q;function ee(he){return me(he,-1)}function ce(he){return me(he,1)}function me(he,Me){return he[D]+Me*he.w/2}function ae(he){return he[D+"End"]-he[D+"Start"]}var K=$?ee:q?function(he){return he.p-ae(he)/2}:function(he){return Math.min(ee(he),he.p-B.bardelta/2)},le=$?ce:q?function(he){return he.p+ae(he)/2}:function(he){return Math.max(ce(he),he.p+B.bardelta/2)};function G(he,Me,be){return N.finiteRange&&(be=0),o.inbox(he-z,Me-z,be+Math.min(1,Math.abs(Me-he)/E)-1)}function j(he){return G(K(he),le(he),Y)}function oe(he){var Me=he[S];if(T){var be=Math.abs(he.rawS)||0;k>0?Me+=be:k<0&&(Me-=be)}return Me}function re(he){var Me=k,be=he.b,Ae=oe(he);return o.inbox(be-Me,Ae-Me,Y+(Ae-Me)/(Ae-be)-1)}var F=_[D+"a"],O=_[S+"a"];E=Math.abs(F.r2c(F.range[1])-F.r2c(F.range[0]));var he,Me,be,Ae,J=o.getDistanceFunction(L,P,H,function(he){return(P(he)+H(he))/2});if(o.getClosest(I,J,_),!1!==_.index&&I[_.index].p!==d){X||(K=function(he){return Math.min(ee(he),he.p-B.bargroupwidth/2)},le=function(he){return Math.max(ce(he),he.p+B.bargroupwidth/2)});var R=I[_.index],ie=w.base?R.b+R.s:R.s;_[S+"0"]=_[S+"1"]=O.c2p(R[S],!0),_[S+"LabelVal"]=ie;var fe=B.extents[B.extents.round(R.p)];return _[D+"0"]=F.c2p($?K(R):fe[0],!0),_[D+"1"]=F.c2p($?le(R):fe[1],!0),_[D+"LabelVal"]=void 0!==R.orig_p?R.orig_p:R.p,_.labelLabel=C(F,_[D+"LabelVal"],w[D+"hoverformat"]),_.valueLabel=C(O,_[S+"LabelVal"],w[S+"hoverformat"]),_.baseLabel=C(O,R.b,w[S+"hoverformat"]),_.spikeDistance=(Me=k,be=(he=R).b,Ae=oe(he),(o.inbox(be-Me,Ae-Me,W+(Ae-Me)/(Ae-be)-1)+function(he){return G(ee(he),ce(he),W)}(R))/2),_[D+"Spike"]=F.c2p(R.p,!0),l(R,w,_),_.hovertemplate=w.hovertemplate,_}}function u(_,b){var M=b.mcc||_.marker.color,L=b.mlcc||_.marker.line.color,N=c(_,b);return p.opacity(M)?M:p.opacity(L)&&N?L:void 0}de.exports={hoverPoints:function(_,b,M,L,N){var z=h(_,b,M,L,N);if(z){var k=z.cd,D=k[0].trace,S=k[z.index];return z.color=u(D,S),g.getComponentMethod("errorbars","hoverInfo")(S,D,z),[z]}},hoverOnBars:h,getTraceColor:u}},{"../../components/color":102,"../../components/fx":142,"../../constants/numerical":212,"../../lib":232,"../../plots/cartesian/axes":279,"../../registry":318,"./helpers":334}],336:[function(m,de,te){"use strict";de.exports={attributes:m("./attributes"),layoutAttributes:m("./layout_attributes"),supplyDefaults:m("./defaults").supplyDefaults,crossTraceDefaults:m("./defaults").crossTraceDefaults,supplyLayoutDefaults:m("./layout_defaults"),calc:m("./calc"),crossTraceCalc:m("./cross_trace_calc").crossTraceCalc,colorbar:m("../scatter/marker_colorbar"),arraysToCalcdata:m("./arrays_to_calcdata"),plot:m("./plot").plot,style:m("./style").style,styleOnSelect:m("./style").styleOnSelect,hoverPoints:m("./hover").hoverPoints,eventData:m("./event_data"),selectPoints:m("./select"),moduleType:"trace",name:"bar",basePlotModule:m("../../plots/cartesian"),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},{"../../plots/cartesian":293,"../scatter/marker_colorbar":376,"./arrays_to_calcdata":327,"./attributes":328,"./calc":329,"./cross_trace_calc":331,"./defaults":332,"./event_data":333,"./hover":335,"./layout_attributes":337,"./layout_defaults":338,"./plot":339,"./select":340,"./style":342}],337:[function(m,de,te){"use strict";de.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},{}],338:[function(m,de,te){"use strict";var o=m("../../registry"),g=m("../../plots/cartesian/axes"),p=m("../../lib"),l=m("./layout_attributes");de.exports=function(c,C,d){function h(D,S){return p.coerce(c,C,l,D,S)}for(var u=!1,_=!1,b=!1,M={},L=h("barmode"),N=0;N<d.length;N++){var z=d[N];if(o.traceIs(z,"bar")&&z.visible){if(u=!0,"group"===L){var k=z.xaxis+z.yaxis;M[k]&&(b=!0),M[k]=!0}z.visible&&"histogram"===z.type&&"category"!==g.getFromId({_fullLayout:C},z["v"===z.orientation?"xaxis":"yaxis"]).type&&(_=!0)}}u?("overlay"!==L&&h("barnorm"),h("bargap",_&&!b?0:.2),h("bargroupgap")):delete C.barmode}},{"../../lib":232,"../../plots/cartesian/axes":279,"../../registry":318,"./layout_attributes":337}],339:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("fast-isnumeric"),p=m("../../lib"),l=m("../../lib/svg_text_utils"),c=m("../../components/color"),C=m("../../components/drawing"),d=m("../../registry"),h=m("../../plots/cartesian/axes").tickText,u=m("./uniform_text"),_=u.recordMinTextSize,b=u.clearMinTextSize,M=m("./style"),L=m("./helpers"),N=m("./constants"),z=m("./attributes"),k=z.text,D=z.textposition,S=m("../../components/fx/helpers").appendArrayPointValue,P=N.TEXTPAD;function H(W){return W.id}function I(W,q){return W<q?1:-1}function w(W,q,X,ee){var ce;return!q.uniformtext.mode&&B(X)?(ee&&(ce=ee()),W.transition().duration(X.duration).ease(X.easing).each("end",function(){ce&&ce()}).each("interrupt",function(){ce&&ce()})):W}function B(W){return W&&W.duration>0}function $(W){return"auto"===W?0:W}function T(W,q){var X=Math.PI/180*q,ee=Math.abs(Math.sin(X)),ce=Math.abs(Math.cos(X));return{x:W.width*ce+W.height*ee,y:W.width*ee+W.height*ce}}function Y(W,q,X,ee,ce,me){var ae=!!me.isHorizontal,K=!!me.constrained,le=me.angle||0,G=me.anchor||"end",j="end"===G,oe="start"===G,re=((me.leftToRight||0)+1)/2,F=1-re,O=ce.width,J=ce.height,R=Math.abs(q-W),ie=Math.abs(ee-X),fe=R>2*P&&ie>2*P?P:0;R-=2*fe,ie-=2*fe;var ue=$(le);"auto"!==le||O<=R&&J<=ie||!(O>R||J>ie)||(O>ie||J>R)&&O<J==R<ie||(ue+=90);var he=T(ce,ue),Me=1;K&&(Me=Math.min(1,R/he.x,ie/he.y));var be=ce.left*F+ce.right*re,Ae=(ce.top+ce.bottom)/2,ze=(W+P)*F+(q-P)*re,Pe=(X+ee)/2,Fe=0,t1=0;if(oe||j){var Xe=(ae?he.x:he.y)/2,Ue=ae?I(W,q):I(X,ee);ae?oe?(ze=W+Ue*fe,Fe=-Ue*Xe):(ze=q-Ue*fe,Fe=Ue*Xe):oe?(Pe=X+Ue*fe,t1=-Ue*Xe):(Pe=ee-Ue*fe,t1=Ue*Xe)}return{textX:be,textY:Ae,targetX:ze,targetY:Pe,anchorX:Fe,anchorY:t1,scale:Me,rotate:ue}}de.exports={plot:function(W,q,X,ee,ce,me){var ae=q.xaxis,K=q.yaxis,le=W._fullLayout;ce||(ce={mode:le.barmode,norm:le.barmode,gap:le.bargap,groupgap:le.bargroupgap},b("bar",le));var G=p.makeTraceGroups(ee,X,"trace bars").each(function(j){var oe=o.select(this),re=j[0].trace,J="bar"===re.type||"funnel"===re.type,R=0;"waterfall"===re.type&&re.connector.visible&&"between"===re.connector.mode&&(R=re.connector.line.width/2);var ie="h"===re.orientation,fe=B(ce),ue=p.ensureSingle(oe,"g","points"),he=function E(W){if(W.ids)return H}(re),Me=ue.selectAll("g.point").data(p.identity,he);Me.enter().append("g").classed("point",!0),Me.exit().remove(),Me.each(function(Ae,ze){var Pe,Fe,Ke,r1,f1,Je,g1,b1,_1,I1,t1=o.select(this),Xe=(r1=ae,f1=K,b1=[],I1=(Je=ie)?f1:r1,(g1=[])[0]=(_1=Je?r1:f1).c2p((Ke=Ae).s0,!0),b1[0]=I1.c2p(Ke.p0,!0),g1[1]=_1.c2p(Ke.s1,!0),b1[1]=I1.c2p(Ke.p1,!0),Je?[g1,b1]:[b1,g1]),Ue=Xe[0][0],xe=Xe[0][1],ve=Xe[1][0],De=Xe[1][1],Ve=0==(ie?xe-Ue:De-ve);if(Ve&&J&&L.getLineWidth(re,Ae)&&(Ve=!1),Ve||(Ve=!(g(Ue)&&g(xe)&&g(ve)&&g(De))),Ae.isBlank=Ve,Ve&&(ie?xe=Ue:De=ve),R&&!Ve&&(ie?(Ue-=I(Ue,xe)*R,xe+=I(Ue,xe)*R):(ve-=I(ve,De)*R,De+=I(ve,De)*R)),"waterfall"===re.type){if(!Ve){var Ye=re[Ae.dir].marker;Pe=Ye.line.width,Fe=Ye.color}}else Pe=L.getLineWidth(re,Ae),Fe=Ae.mc||re.marker.color;function Oe(Ke){var r1=o.round(Pe/2%1,2);return 0===ce.gap&&0===ce.groupgap?o.round(Math.round(Ke)-r1,2):Ke}if(!W._context.staticPlot){var Ie=c.opacity(Fe)<1||Pe>.01?Oe:function(Ke,r1,f1){return f1&&Ke===r1?Ke:Math.abs(Ke-r1)>=2?Oe(Ke):Ke>r1?Math.ceil(Ke):Math.floor(Ke)};Ue=Ie(Ue,xe,ie),xe=Ie(xe,Ue,ie),ve=Ie(ve,De,!ie),De=Ie(De,ve,!ie)}var Qe=w(p.ensureSingle(t1,"path"),le,ce,me);if(Qe.style("vector-effect","non-scaling-stroke").attr("d",isNaN((xe-Ue)*(De-ve))||Ve&&W._context.staticPlot?"M0,0Z":"M"+Ue+","+ve+"V"+De+"H"+xe+"V"+ve+"Z").call(C.setClipUrl,q.layerClipId,W),!le.uniformtext.mode&&fe){var n1=C.makePointStyleFns(re);C.singlePointStyle(Ae,Qe,re,n1,W)}(function(Ke,r1,f1,Je,g1,b1,_1,I1,M1,Re,Be){var C1,O1=r1.xaxis,Q1=r1.yaxis,l2=Ke._fullLayout;function G1(y2,w2,F2){return p.ensureSingle(y2,"text").text(w2).attr({class:"bartext bartext-"+C1,"text-anchor":"middle","data-notex":1}).call(C.font,F2).call(l.convertToTspans,Ke)}var w2,F2,O2,S2,j1,Y1,K1=Je[0].trace,N1="h"===K1.orientation,ge=(F2=g1,O2=O1,S2=Q1,j1=(Y1=(w2=Je)[0].trace).texttemplate?function(t2,d2,s2,C2,G2){var Q2=d2[0].trace,A2=p.castOption(Q2,s2,"texttemplate");if(!A2)return"";var z2,dt,pt,B2,Y2="histogram"===Q2.type,P2="waterfall"===Q2.type,mt="funnel"===Q2.type,N2="h"===Q2.orientation;function vt(g2){return h(B2,B2.c2l(g2),!0).text}N2?(z2="y",dt=G2,pt="x",B2=C2):(z2="x",dt=C2,pt="y",B2=G2);var ht=d2[s2],E2={};E2.label=ht.p,E2.labelLabel=E2[z2+"Label"]=h(dt,dt.c2l(ht.p),!0).text;var yt=p.castOption(Q2,ht.i,"text");(0===yt||yt)&&(E2.text=yt),E2.value=ht.s,E2.valueLabel=E2[pt+"Label"]=vt(ht.s);var et={};S(et,Q2,ht.i),(Y2||void 0===et.x)&&(et.x=N2?E2.value:E2.label),(Y2||void 0===et.y)&&(et.y=N2?E2.label:E2.value),(Y2||void 0===et.xLabel)&&(et.xLabel=N2?E2.valueLabel:E2.labelLabel),(Y2||void 0===et.yLabel)&&(et.yLabel=N2?E2.labelLabel:E2.valueLabel),P2&&(E2.delta=+ht.rawS||ht.s,E2.deltaLabel=vt(E2.delta),E2.final=ht.v,E2.finalLabel=vt(E2.final),E2.initial=E2.final-E2.delta,E2.initialLabel=vt(E2.initial)),mt&&(E2.value=ht.s,E2.valueLabel=vt(E2.value),E2.percentInitial=ht.begR,E2.percentInitialLabel=p.formatPercent(ht.begR),E2.percentPrevious=ht.difR,E2.percentPreviousLabel=p.formatPercent(ht.difR),E2.percentTotal=ht.sumR,E2.percenTotalLabel=p.formatPercent(ht.sumR));var R2=p.castOption(Q2,ht.i,"customdata");return R2&&(E2.customdata=R2),p.texttemplateString(A2,E2,t2._d3locale,et,E2,Q2._meta||{})}(l2,w2,F2,O2,S2):Y1.textinfo?function(t2,d2,s2,C2){var G2=t2[0].trace,Q2="h"===G2.orientation,A2="waterfall"===G2.type,z2="funnel"===G2.type;function dt(R2){return h(Q2?s2:C2,+R2,!0).text}var pt,Y2=t2[d2],P2=G2.textinfo.split("+"),mt=[],N2=function(R2){return-1!==P2.indexOf(R2)};if(N2("label")&&mt.push(h(Q2?C2:s2,t2[d2].p,!0).text),N2("text")&&(0===(pt=p.castOption(G2,Y2.i,"text"))||pt)&&mt.push(pt),A2){var ht=+Y2.rawS||Y2.s,E2=Y2.v,ut=E2-ht;N2("initial")&&mt.push(dt(ut)),N2("delta")&&mt.push(dt(ht)),N2("final")&&mt.push(dt(E2))}if(z2){N2("value")&&mt.push(dt(Y2.s));var yt=0;N2("percent initial")&&yt++,N2("percent previous")&&yt++,N2("percent total")&&yt++;var et=yt>1;N2("percent initial")&&(pt=p.formatPercent(Y2.begR),et&&(pt+=" of initial"),mt.push(pt)),N2("percent previous")&&(pt=p.formatPercent(Y2.difR),et&&(pt+=" of previous"),mt.push(pt)),N2("percent total")&&(pt=p.formatPercent(Y2.sumR),et&&(pt+=" of total"),mt.push(pt))}return mt.join("<br>")}(w2,F2,O2,S2):L.getValue(Y1.text,F2),L.coerceString(k,j1));C1=function(y2,w2){var F2=L.getValue(y2.textposition,w2);return L.coerceEnumerated(D,F2)}(K1,g1);var je=Je[g1],e1=!("stack"===Re.mode||"relative"===Re.mode)||je._outmost;if(ge&&"none"!==C1&&(!je.isBlank&&b1!==_1&&I1!==M1||"auto"!==C1&&"inside"!==C1)){var d1=l2.font,i1=M.getBarColor(Je[g1],K1),l1=M.getInsideTextFont(K1,g1,d1,i1),c1=M.getOutsideTextFont(K1,g1,d1),L1=f1.datum();N1?"log"===O1.type&&L1.s0<=0&&(b1=O1.range[0]<O1.range[1]?0:O1._length):"log"===Q1.type&&L1.s0<=0&&(I1=Q1.range[0]<Q1.range[1]?Q1._length:0);var H1,B1,r2,V1,q1,f2=Math.abs(_1-b1)-2*P,z1=Math.abs(M1-I1)-2*P;if("outside"===C1&&(e1||je.hasB||(C1="inside")),"auto"===C1&&(e1?(C1="inside",H1=G1(f1,ge,q1=p.ensureUniformFontSize(Ke,l1)),V1=(B1=C.bBox(H1.node())).height,(r2=B1.width)>0&&V1>0&&(r2<=f2&&V1<=z1||r2<=z1&&V1<=f2||(N1?f2>=r2*(z1/V1):z1>=V1*(f2/r2)))?C1="inside":(C1="outside",H1.remove(),H1=null)):C1="inside"),!H1){var U1=(H1=G1(f1,ge,q1=p.ensureUniformFontSize(Ke,"outside"===C1?c1:l1))).attr("transform");if(H1.attr("transform",""),r2=(B1=C.bBox(H1.node())).width,V1=B1.height,H1.attr("transform",U1),r2<=0||V1<=0)return void H1.remove()}var e2,L2=K1.textangle;e2="outside"===C1?function(y2,w2,F2,O2,S2,j1){var Y1,t2=!!j1.isHorizontal,d2=!!j1.constrained,s2=j1.angle||0,C2=S2.width,G2=S2.height,Q2=Math.abs(w2-y2),A2=Math.abs(O2-F2);Y1=t2?A2>2*P?P:0:Q2>2*P?P:0;var z2=1;d2&&(z2=t2?Math.min(1,A2/G2):Math.min(1,Q2/C2));var dt=$(s2),pt=T(S2,dt),B2=(t2?pt.x:pt.y)/2,Y2=(S2.left+S2.right)/2,P2=(S2.top+S2.bottom)/2,mt=(y2+w2)/2,N2=(F2+O2)/2,vt=0,ht=0,E2=t2?I(w2,y2):I(F2,O2);return t2?(mt=w2-E2*Y1,vt=E2*B2):(N2=O2+E2*Y1,ht=-E2*B2),{textX:Y2,textY:P2,targetX:mt,targetY:N2,anchorX:vt,anchorY:ht,scale:z2,rotate:dt}}(b1,_1,I1,M1,B1,{isHorizontal:N1,constrained:"both"===K1.constraintext||"outside"===K1.constraintext,angle:L2}):Y(b1,_1,I1,M1,B1,{isHorizontal:N1,constrained:"both"===K1.constraintext||"inside"===K1.constraintext,angle:L2,anchor:K1.insidetextanchor}),e2.fontSize=q1.size,_("histogram"===K1.type?"bar":K1.type,e2,l2),je.transform=e2,w(H1,l2,Re,Be).attr("transform",p.getTextTransform(e2))}else f1.select("text").remove()})(W,q,t1,j,ze,Ue,xe,ve,De,ce,me),q.layerClipId&&C.hideOutsideRangePoint(Ae,t1.select("text"),ae,K,re.xcalendar,re.ycalendar)}),C.setClipUrl(oe,!1===re.cliponaxis?null:q.layerClipId,W)});d.getComponentMethod("errorbars","plot")(W,G,q,ce)},toMoveInsideBar:Y}},{"../../components/color":102,"../../components/drawing":124,"../../components/fx/helpers":138,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/cartesian/axes":279,"../../registry":318,"./attributes":328,"./constants":330,"./helpers":334,"./style":342,"./uniform_text":344,"@plotly/d3":11,"fast-isnumeric":17}],340:[function(m,de,te){"use strict";function o(g,p,l,c,C){var d=p.c2p(c?g.s0:g.p0,!0),h=p.c2p(c?g.s1:g.p1,!0),u=l.c2p(c?g.p0:g.s0,!0),_=l.c2p(c?g.p1:g.s1,!0);return C?[(d+h)/2,(u+_)/2]:c?[h,(u+_)/2]:[(d+h)/2,_]}de.exports=function(g,p){var l,c=g.cd,C=g.xaxis,d=g.yaxis,h=c[0].trace,u="funnel"===h.type,_="h"===h.orientation,b=[];if(!1===p)for(l=0;l<c.length;l++)c[l].selected=0;else for(l=0;l<c.length;l++){var M=c[l],L="ct"in M?M.ct:o(M,C,d,_,u);p.contains(L,!1,l,g)?(b.push({pointNumber:l,x:C.c2d(M.x),y:d.c2d(M.y)}),M.selected=1):M.selected=0}return b}},{}],341:[function(m,de,te){"use strict";de.exports=p;var o=m("../../lib").distinctVals,g=m("../../constants/numerical").BADNUM;function p(l,c){this.traces=l,this.sepNegVal=c.sepNegVal,this.overlapNoMerge=c.overlapNoMerge;for(var C=1/0,d=[],h=0;h<l.length;h++){for(var u=l[h],_=0;_<u.length;_++){var b=u[_];b.p!==g&&d.push(b.p)}u[0]&&u[0].width1&&(C=Math.min(u[0].width1,C))}this.positions=d;var M=o(d);this.distinctPositions=M.vals,this.minDiff=1===M.vals.length&&C!==1/0?C:Math.min(M.minDiff,C);var L=(c.posAxis||{}).type;"category"!==L&&"multicategory"!==L||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}p.prototype.put=function(l,c){var C=this.getLabel(l,c),d=this.bins[C]||0;return this.bins[C]=d+c,d},p.prototype.get=function(l,c){var C=this.getLabel(l,c);return this.bins[C]||0},p.prototype.getLabel=function(l,c){return(c<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?l:Math.round(l/this.binWidth))}},{"../../constants/numerical":212,"../../lib":232}],342:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("../../components/color"),p=m("../../components/drawing"),l=m("../../lib"),c=m("../../registry"),C=m("./uniform_text").resizeText,d=m("./attributes"),h=d.textfont,u=d.insidetextfont,_=d.outsidetextfont,b=m("./helpers");function M(H,E,I){p.pointStyle(H.selectAll("path"),E,I),L(H,E,I)}function L(H,E,I){H.selectAll("text").each(function(w){var B=o.select(this),$=l.ensureUniformFontSize(I,N(B,w,E,I));p.font(B,$)})}function N(H,E,I,w){var B=w._fullLayout.font,$=I.textfont;if(H.classed("bartext-inside")){var T=P(E,I);$=k(I,E.i,B,T)}else H.classed("bartext-outside")&&($=D(I,E.i,B));return $}function z(H,E,I){return S(h,H.textfont,E,I)}function k(H,E,I,w){var B=z(H,E,I);return(void 0===H._input.textfont||void 0===H._input.textfont.color||Array.isArray(H.textfont.color)&&void 0===H.textfont.color[E])&&(B={color:g.contrast(w),family:B.family,size:B.size}),S(u,H.insidetextfont,E,B)}function D(H,E,I){var w=z(H,E,I);return S(_,H.outsidetextfont,E,w)}function S(H,E,I,w){var B=b.getValue((E=E||{}).family,I),$=b.getValue(E.size,I),T=b.getValue(E.color,I);return{family:b.coerceString(H.family,B,w.family),size:b.coerceNumber(H.size,$,w.size),color:b.coerceColor(H.color,T,w.color)}}function P(H,E){return"waterfall"===E.type?E[H.dir].marker.color:H.mcc||H.mc||E.marker.color}de.exports={style:function(H){var E=o.select(H).selectAll("g.barlayer").selectAll("g.trace");C(H,E,"bar");var I=E.size(),w=H._fullLayout;E.style("opacity",function(B){return B[0].trace.opacity}).each(function(B){("stack"===w.barmode&&I>1||0===w.bargap&&0===w.bargroupgap&&!B[0].trace.marker.line.width)&&o.select(this).attr("shape-rendering","crispEdges")}),E.selectAll("g.points").each(function(B){M(o.select(this),B[0].trace,H)}),c.getComponentMethod("errorbars","style")(E)},styleTextPoints:L,styleOnSelect:function(H,E,I){var B,$,T,Y,W,q,w=E[0].trace;w.selectedpoints?($=w,T=H,p.selectedPointStyle((B=I).selectAll("path"),$),Y=B.selectAll("text"),W=$,q=T,Y.each(function(X){var ee,ce=o.select(this);if(X.selected){ee=l.ensureUniformFontSize(q,N(ce,X,W,q));var me=W.selected.textfont&&W.selected.textfont.color;me&&(ee.color=me),p.font(ce,ee)}else p.selectedTextStyle(ce,W)})):(M(I,w,H),c.getComponentMethod("errorbars","style")(I))},getInsideTextFont:k,getOutsideTextFont:D,getBarColor:P,resizeText:C}},{"../../components/color":102,"../../components/drawing":124,"../../lib":232,"../../registry":318,"./attributes":328,"./helpers":334,"./uniform_text":344,"@plotly/d3":11}],343:[function(m,de,te){"use strict";var o=m("../../components/color"),g=m("../../components/colorscale/helpers").hasColorscale,p=m("../../components/colorscale/defaults"),l=m("../../lib").coercePattern;de.exports=function(c,C,d,h,u){var _=d("marker.color",h),b=g(c,"marker");b&&p(c,C,u,d,{prefix:"marker.",cLetter:"c"}),d("marker.line.color",o.defaultLine),g(c,"marker.line")&&p(c,C,u,d,{prefix:"marker.line.",cLetter:"c"}),d("marker.line.width"),d("marker.opacity"),l(d,"marker.pattern",_,b),d("selected.marker.color"),d("unselected.marker.color")}},{"../../components/color":102,"../../components/colorscale/defaults":112,"../../components/colorscale/helpers":113,"../../lib":232}],344:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("../../lib");function p(l){return"_"+l+"Text_minsize"}de.exports={recordMinTextSize:function(l,c,C){if(C.uniformtext.mode){var d=p(l),h=C.uniformtext.minsize,u=c.scale*c.fontSize;c.hide=u<h,C[d]=C[d]||1/0,c.hide||(C[d]=Math.min(C[d],Math.max(u,h)))}},clearMinTextSize:function(l,c){c[p(l)]=void 0},resizeText:function(l,c,C){var d=l._fullLayout,h=d["_"+C+"Text_minsize"];if(h){var u,_="hide"===d.uniformtext.mode;switch(C){case"funnelarea":case"pie":case"sunburst":u="g.slice";break;case"treemap":case"icicle":u="g.slice, g.pathbar";break;default:u="g.points > g.point"}c.selectAll(u).each(function(b){var M=b.transform;M&&(M.scale=_&&M.hide?0:h/M.fontSize,o.select(this).select("text").attr("transform",g.getTextTransform(M)))})}}}},{"../../lib":232,"@plotly/d3":11}],345:[function(m,de,te){"use strict";var o=m("../../plots/attributes"),g=m("../../plots/domain").attributes,p=m("../../plots/font_attributes"),l=m("../../components/color/attributes"),c=m("../../plots/template_attributes").hovertemplateAttrs,C=m("../../plots/template_attributes").texttemplateAttrs,d=m("../../lib/extend").extendFlat,h=p({editType:"plot",arrayOk:!0,colorEditType:"plot"});de.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:l.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:d({},o.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:c({},{keys:["label","color","value","percent","text"]}),texttemplate:C({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:d({},h,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:d({},h,{}),outsidetextfont:d({},h,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:d({},h,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:g({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"number",min:-360,max:360,dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:d({},h,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},{"../../components/color/attributes":101,"../../lib/extend":226,"../../plots/attributes":275,"../../plots/domain":309,"../../plots/font_attributes":310,"../../plots/template_attributes":317}],346:[function(m,de,te){"use strict";var o=m("../../plots/plots");te.name="pie",te.plot=function(g,p,l,c){o.plotBasePlot(te.name,g,p,l,c)},te.clean=function(g,p,l,c){o.cleanBasePlot(te.name,g,p,l,c)}},{"../../plots/plots":316}],347:[function(m,de,te){"use strict";var o=m("fast-isnumeric"),g=m("tinycolor2"),p=m("../../components/color"),l={};function c(d){return function(h,u){return!!h&&!!(h=g(h)).isValid()&&(h=p.addOpacity(h,h.getAlpha()),d[u]||(d[u]=h),h)}}function C(d,h){var u,_=JSON.stringify(d),b=h[_];if(!b){for(b=d.slice(),u=0;u<d.length;u++)b.push(g(d[u]).lighten(20).toHexString());for(u=0;u<d.length;u++)b.push(g(d[u]).darken(20).toHexString());h[_]=b}return b}de.exports={calc:function(d,h){var u,_,b=[],M=d._fullLayout,L=M.hiddenlabels||[],N=h.labels,z=h.marker.colors||[],k=h.values,D=h._length,S=h._hasValues&&D;if(h.dlabel)for(N=new Array(D),u=0;u<D;u++)N[u]=String(h.label0+u*h.dlabel);var P={},H=c(M["_"+h.type+"colormap"]),E=0,I=!1;for(u=0;u<D;u++){var w,B,$;if(S){if(!o(w=k[u]))continue;w=+w}else w=1;void 0!==(B=N[u])&&""!==B||(B=u);var T=P[B=String(B)];void 0===T?(P[B]=b.length,($=-1!==L.indexOf(B))||(E+=w),b.push({v:w,label:B,color:H(z[u],B),i:u,pts:[u],hidden:$})):(I=!0,(_=b[T]).v+=w,_.pts.push(u),_.hidden||(E+=w),!1===_.color&&z[u]&&(_.color=H(z[u],B)))}return b=b.filter(function(Y){return Y.v>=0}),("funnelarea"===h.type?I:h.sort)&&b.sort(function(Y,W){return W.v-Y.v}),b[0]&&(b[0].vTotal=E),b},crossTraceCalc:function(d,h){var u=(h||{}).type;u||(u="pie");var _=d._fullLayout,b=d.calcdata,M=_[u+"colorway"],L=_["_"+u+"colormap"];_["extend"+u+"colors"]&&(M=C(M,l));for(var N=0,z=0;z<b.length;z++){var k=b[z];if(k[0].trace.type===u)for(var D=0;D<k.length;D++){var S=k[D];!1===S.color&&(L[S.label]?S.color=L[S.label]:(L[S.label]=S.color=M[N%M.length],N++))}}},makePullColorFn:c,generateExtendedColors:C}},{"../../components/color":102,"fast-isnumeric":17,tinycolor2:67}],348:[function(m,de,te){"use strict";var o=m("fast-isnumeric"),g=m("../../lib"),p=m("./attributes"),l=m("../../plots/domain").defaults,c=m("../bar/defaults").handleText;function C(d,h){var u=Array.isArray(d),_=g.isArrayOrTypedArray(h),b=Math.min(u?d.length:1/0,_?h.length:1/0);if(isFinite(b)||(b=0),b&&_){for(var M,L=0;L<b;L++){var N=h[L];if(o(N)&&N>0){M=!0;break}}M||(b=0)}return{hasLabels:u,hasValues:_,len:b}}de.exports={handleLabelsAndValues:C,supplyDefaults:function(d,h,u,_){function b(H,E){return g.coerce(d,h,p,H,E)}var M=C(b("labels"),b("values")),L=M.len;if(h._hasLabels=M.hasLabels,h._hasValues=M.hasValues,!h._hasLabels&&h._hasValues&&(b("label0"),b("dlabel")),L){h._length=L,b("marker.line.width")&&b("marker.line.color"),b("marker.colors"),b("scalegroup");var N,z=b("text"),k=b("texttemplate");if(k||(N=b("textinfo",Array.isArray(z)?"text+percent":"percent")),b("hovertext"),b("hovertemplate"),k||N&&"none"!==N){var D=b("textposition");c(d,h,_,b,D,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(D)||"auto"===D||"outside"===D)&&b("automargin"),("inside"===D||"auto"===D||Array.isArray(D))&&b("insidetextorientation")}l(h,_,b);var S=b("hole");if(b("title.text")){var P=b("title.position",S?"middle center":"top center");S||"middle center"!==P||(h.title.position="top center"),g.coerceFont(b,"title.font",_.font)}b("sort"),b("direction"),b("rotation"),b("pull")}else h.visible=!1}}},{"../../lib":232,"../../plots/domain":309,"../bar/defaults":332,"./attributes":345,"fast-isnumeric":17}],349:[function(m,de,te){"use strict";var o=m("../../components/fx/helpers").appendArrayMultiPointValues;de.exports=function(g,p){var l={curveNumber:p.index,pointNumbers:g.pts,data:p._input,fullData:p,label:g.label,color:g.color,value:g.v,percent:g.percent,text:g.text,bbox:g.bbox,v:g.v};return 1===g.pts.length&&(l.pointNumber=l.i=g.pts[0]),o(l,p,g.pts),"funnelarea"===p.type&&(delete l.v,delete l.i),l}},{"../../components/fx/helpers":138}],350:[function(m,de,te){"use strict";var o=m("../../lib");function g(p){return-1!==p.indexOf("e")?p.replace(/[.]?0+e/,"e"):-1!==p.indexOf(".")?p.replace(/[.]?0+$/,""):p}te.formatPiePercent=function(p,l){var c=g((100*p).toPrecision(3));return o.numSeparate(c,l)+"%"},te.formatPieValue=function(p,l){var c=g(p.toPrecision(10));return o.numSeparate(c,l)},te.getFirstFilled=function(p,l){if(Array.isArray(p))for(var c=0;c<l.length;c++){var C=p[l[c]];if(C||0===C||""===C)return C}},te.castOption=function(p,l){return Array.isArray(p)?te.getFirstFilled(p,l):p||void 0},te.getRotationAngle=function(p){return("auto"===p?0:p)*Math.PI/180}},{"../../lib":232}],351:[function(m,de,te){"use strict";de.exports={attributes:m("./attributes"),supplyDefaults:m("./defaults").supplyDefaults,supplyLayoutDefaults:m("./layout_defaults"),layoutAttributes:m("./layout_attributes"),calc:m("./calc").calc,crossTraceCalc:m("./calc").crossTraceCalc,plot:m("./plot").plot,style:m("./style"),styleOne:m("./style_one"),moduleType:"trace",name:"pie",basePlotModule:m("./base_plot"),categories:["pie-like","pie","showLegend"],meta:{}}},{"./attributes":345,"./base_plot":346,"./calc":347,"./defaults":348,"./layout_attributes":352,"./layout_defaults":353,"./plot":354,"./style":355,"./style_one":356}],352:[function(m,de,te){"use strict";de.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},{}],353:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("./layout_attributes");de.exports=function(p,l){function c(C,d){return o.coerce(p,l,g,C,d)}c("hiddenlabels"),c("piecolorway",l.colorway),c("extendpiecolors")}},{"../../lib":232,"./layout_attributes":352}],354:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("../../plots/plots"),p=m("../../components/fx"),l=m("../../components/color"),c=m("../../components/drawing"),C=m("../../lib"),d=C.strScale,h=C.strTranslate,u=m("../../lib/svg_text_utils"),_=m("../bar/uniform_text"),b=_.recordMinTextSize,M=_.clearMinTextSize,L=m("../bar/constants").TEXTPAD,N=m("./helpers"),z=m("./event_data"),k=m("../../lib").isValidTextValue;function D(K,le,G){var j=G[0],oe=j.cx,re=j.cy,F=j.trace,O="funnelarea"===F.type;"_hasHoverLabel"in F||(F._hasHoverLabel=!1),"_hasHoverEvent"in F||(F._hasHoverEvent=!1),K.on("mouseover",function(J){var R=le._fullLayout,ie=le._fullData[F.index];if(!le._dragging&&!1!==R.hovermode){var fe=ie.hoverinfo;if(Array.isArray(fe)&&(fe=p.castHoverinfo({hoverinfo:[N.castOption(fe,J.pts)],_module:F._module},R,0)),"all"===fe&&(fe="label+text+value+percent+name"),ie.hovertemplate||"none"!==fe&&"skip"!==fe&&fe){var ue=J.rInscribed||0,he=oe+J.pxmid[0]*(1-ue),Me=re+J.pxmid[1]*(1-ue),be=R.separators,Ae=[];if(fe&&-1!==fe.indexOf("label")&&Ae.push(J.label),J.text=N.castOption(ie.hovertext||ie.text,J.pts),fe&&-1!==fe.indexOf("text")){var ze=J.text;C.isValidTextValue(ze)&&Ae.push(ze)}J.value=J.v,J.valueLabel=N.formatPieValue(J.v,be),fe&&-1!==fe.indexOf("value")&&Ae.push(J.valueLabel),J.percent=J.v/j.vTotal,J.percentLabel=N.formatPiePercent(J.percent,be),fe&&-1!==fe.indexOf("percent")&&Ae.push(J.percentLabel);var Pe=ie.hoverlabel,Fe=Pe.font,t1=[];p.loneHover({trace:F,x0:he-ue*j.r,x1:he+ue*j.r,y:Me,_x0:O?oe+J.TL[0]:he-ue*j.r,_x1:O?oe+J.TR[0]:he+ue*j.r,_y0:O?re+J.TL[1]:Me-ue*j.r,_y1:O?re+J.BL[1]:Me+ue*j.r,text:Ae.join("<br>"),name:ie.hovertemplate||-1!==fe.indexOf("name")?ie.name:void 0,idealAlign:J.pxmid[0]<0?"left":"right",color:N.castOption(Pe.bgcolor,J.pts)||J.color,borderColor:N.castOption(Pe.bordercolor,J.pts),fontFamily:N.castOption(Fe.family,J.pts),fontSize:N.castOption(Fe.size,J.pts),fontColor:N.castOption(Fe.color,J.pts),nameLength:N.castOption(Pe.namelength,J.pts),textAlign:N.castOption(Pe.align,J.pts),hovertemplate:N.castOption(ie.hovertemplate,J.pts),hovertemplateLabels:J,eventData:[z(J,ie)]},{container:R._hoverlayer.node(),outerContainer:R._paper.node(),gd:le,inOut_bbox:t1}),J.bbox=t1[0],F._hasHoverLabel=!0}F._hasHoverEvent=!0,le.emit("plotly_hover",{points:[z(J,ie)],event:o.event})}}),K.on("mouseout",function(J){var R=le._fullLayout,ie=le._fullData[F.index],fe=o.select(this).datum();F._hasHoverEvent&&(J.originalEvent=o.event,le.emit("plotly_unhover",{points:[z(fe,ie)],event:o.event}),F._hasHoverEvent=!1),F._hasHoverLabel&&(p.loneUnhover(R._hoverlayer.node()),F._hasHoverLabel=!1)}),K.on("click",function(J){le._dragging||!1===le._fullLayout.hovermode||(le._hoverdata=[z(J,le._fullData[F.index])],p.click(le,o.event))})}function S(K,le,G){var j=N.castOption(K.insidetextfont.color,le.pts);!j&&K._input.textfont&&(j=N.castOption(K._input.textfont.color,le.pts));var oe=N.castOption(K.insidetextfont.family,le.pts)||N.castOption(K.textfont.family,le.pts)||G.family,re=N.castOption(K.insidetextfont.size,le.pts)||N.castOption(K.textfont.size,le.pts)||G.size;return{color:j||l.contrast(le.color),family:oe,size:re}}function P(K,le){for(var G,j,oe=0;oe<K.length;oe++)if((j=(G=K[oe][0]).trace).title.text){var re=j.title.text;j._meta&&(re=C.templateString(re,j._meta));var F=c.tester.append("text").attr("data-notex",1).text(re).call(c.font,j.title.font).call(u.convertToTspans,le),O=c.bBox(F.node(),!0);G.titleBox={width:O.width,height:O.height},F.remove()}}function H(K,le,G){var j=G.r||le.rpx1,oe=le.rInscribed;if(le.startangle===le.stopangle)return{rCenter:1-oe,scale:0,rotate:0,textPosAngle:0};var re,F=le.ring,O=1===F&&Math.abs(le.startangle-le.stopangle)===2*Math.PI,J=le.halfangle,R=le.midangle,ie=G.trace.insidetextorientation,fe="horizontal"===ie,ue="tangential"===ie,he="radial"===ie,Me="auto"===ie,be=[];if(!Me){var Ae,ze=function(xe,ve){if(n1=(Oe=le).stopangle,(Qe=Oe.startangle)>(Ie=xe)&&Ie>n1||Qe<Ie&&Ie<n1){var De=Math.abs(xe-le.startangle),Ve=Math.abs(xe-le.stopangle),Ye=De<Ve?De:Ve;(re="tan"===ve?I(K,j,F,Ye,0):E(K,j,F,Ye,Math.PI/2)).textPosAngle=xe,be.push(re)}var Oe,Ie,Qe,n1};if(fe||ue){for(Ae=4;Ae>=-4;Ae-=2)ze(Math.PI*Ae,"tan");for(Ae=4;Ae>=-4;Ae-=2)ze(Math.PI*(Ae+1),"tan")}if(fe||he){for(Ae=4;Ae>=-4;Ae-=2)ze(Math.PI*(Ae+1.5),"rad");for(Ae=4;Ae>=-4;Ae-=2)ze(Math.PI*(Ae+.5),"rad")}}if(O||Me||fe){var Pe=Math.sqrt(K.width*K.width+K.height*K.height);if((re={scale:oe*j*2/Pe,rCenter:1-oe,rotate:0}).textPosAngle=(le.startangle+le.stopangle)/2,re.scale>=1)return re;be.push(re)}(Me||he)&&((re=E(K,j,F,J,R)).textPosAngle=(le.startangle+le.stopangle)/2,be.push(re)),(Me||ue)&&((re=I(K,j,F,J,R)).textPosAngle=(le.startangle+le.stopangle)/2,be.push(re));for(var Fe=0,t1=0,Xe=0;Xe<be.length;Xe++){var Ue=be[Xe].scale;if(t1<Ue&&(t1=Ue,Fe=Xe),!Me&&t1>=1)break}return be[Fe]}function E(K,le,G,j,oe){le=Math.max(0,le-2*L);var re=K.width/K.height,F=$(re,j,le,G);return{scale:2*F/K.height,rCenter:w(re,F/le),rotate:B(oe)}}function I(K,le,G,j,oe){le=Math.max(0,le-2*L);var re=K.height/K.width,F=$(re,j,le,G);return{scale:2*F/K.width,rCenter:w(re,F/le),rotate:B(oe+Math.PI/2)}}function w(K,le){return Math.cos(le)-K*le}function B(K){return(180/Math.PI*K+720)%180-90}function $(K,le,G,j){var oe=K+1/(2*Math.tan(le));return G*Math.min(1/(Math.sqrt(oe*oe+.5)+oe),j/(Math.sqrt(K*K+j/2)+K))}function T(K,le){return K.v!==le.vTotal||le.trace.hole?Math.min(1/(1+1/Math.sin(K.halfangle)),K.ring/2):1}function Y(K,le){var G=le.pxmid[0],j=le.pxmid[1],oe=K.width/2,re=K.height/2;return G<0&&(oe*=-1),j<0&&(re*=-1),{scale:1,rCenter:1,rotate:0,x:oe+Math.abs(re)*(oe>0?1:-1)/2,y:re/(1+G*G/(j*j)),outside:!0}}function W(K,le){var G,j,oe,re=K.trace,F={x:K.cx,y:K.cy},O={tx:0,ty:0};O.ty+=re.title.font.size,oe=X(re),-1!==re.title.position.indexOf("top")?(F.y-=(1+oe)*K.r,O.ty-=K.titleBox.height):-1!==re.title.position.indexOf("bottom")&&(F.y+=(1+oe)*K.r);var R,ie=K.r/(void 0===(R=K.trace.aspectratio)?1:R),fe=le.w*(re.domain.x[1]-re.domain.x[0])/2;return-1!==re.title.position.indexOf("left")?(fe+=ie,F.x-=(1+oe)*ie,O.tx+=K.titleBox.width/2):-1!==re.title.position.indexOf("center")?fe*=2:-1!==re.title.position.indexOf("right")&&(fe+=ie,F.x+=(1+oe)*ie,O.tx-=K.titleBox.width/2),G=fe/K.titleBox.width,j=q(K,le)/K.titleBox.height,{x:F.x,y:F.y,scale:Math.min(G,j),tx:O.tx,ty:O.ty}}function q(K,le){var G=K.trace;return Math.min(K.titleBox.height,le.h*(G.domain.y[1]-G.domain.y[0])/2)}function X(K){var le,G=K.pull;if(!G)return 0;if(Array.isArray(G))for(G=0,le=0;le<K.pull.length;le++)K.pull[le]>G&&(G=K.pull[le]);return G}function ee(K,le){for(var G=[],j=0;j<K.length;j++){var oe=K[j][0],re=oe.trace,F=re.domain,O=le.w*(F.x[1]-F.x[0]),J=le.h*(F.y[1]-F.y[0]);re.title.text&&"middle center"!==re.title.position&&(J-=q(oe,le));var ie=J/2;"funnelarea"!==re.type||re.scalegroup||(ie/=re.aspectratio),oe.r=Math.min(O/2,ie)/(1+X(re)),oe.cx=le.l+le.w*(re.domain.x[1]+re.domain.x[0])/2,oe.cy=le.t+le.h*(1-re.domain.y[0])-J/2,re.title.text&&-1!==re.title.position.indexOf("bottom")&&(oe.cy-=q(oe,le)),re.scalegroup&&-1===G.indexOf(re.scalegroup)&&G.push(re.scalegroup)}!function(fe,ue){for(var he,Me,be,Ae=0;Ae<ue.length;Ae++){var ze=1/0,Pe=ue[Ae];for(Me=0;Me<fe.length;Me++)if((be=(he=fe[Me][0]).trace).scalegroup===Pe){var Fe;if("pie"===be.type)Fe=he.r*he.r;else if("funnelarea"===be.type){var t1,Xe;be.aspectratio>1?Xe=(t1=he.r)/be.aspectratio:t1=(Xe=he.r)*be.aspectratio,Fe=(t1*=(1+be.baseratio)/2)*Xe}ze=Math.min(ze,Fe/he.vTotal)}for(Me=0;Me<fe.length;Me++)if((be=(he=fe[Me][0]).trace).scalegroup===Pe){var Ue=ze*he.vTotal;"funnelarea"===be.type&&(Ue/=(1+be.baseratio)/2,Ue/=be.aspectratio),he.r=Math.sqrt(Ue)}}}(K,G)}function ce(K,le){return[K*Math.sin(le),-K*Math.cos(le)]}function me(K,le,G){var Fe,j=K._fullLayout,oe=G.trace,re=oe.texttemplate,F=oe.textinfo;if(!re&&F&&"none"!==F){var O,J=F.split("+"),R=function(Fe){return-1!==J.indexOf(Fe)},ie=R("label"),fe=R("text"),ue=R("value"),he=R("percent"),Me=j.separators;if(O=ie?[le.label]:[],fe){var be=N.getFirstFilled(oe.text,le.pts);k(be)&&O.push(be)}ue&&O.push(N.formatPieValue(le.v,Me)),he&&O.push(N.formatPiePercent(le.v/G.vTotal,Me)),le.text=O.join("<br>")}if(re){var Ae=C.castOption(oe,le.i,"texttemplate");if(Ae){var ze={label:(Fe=le).label,value:Fe.v,valueLabel:N.formatPieValue(Fe.v,j.separators),percent:Fe.v/G.vTotal,percentLabel:N.formatPiePercent(Fe.v/G.vTotal,j.separators),color:Fe.color,text:Fe.text,customdata:C.castOption(oe,Fe.i,"customdata")},Pe=N.getFirstFilled(oe.text,le.pts);(k(Pe)||""===Pe)&&(ze.text=Pe),le.text=C.texttemplateString(Ae,ze,K._fullLayout._d3locale,ze,oe._meta||{})}else le.text=""}}function ae(K,le){var G=K.rotate*Math.PI/180,j=Math.cos(G),oe=Math.sin(G),re=(le.left+le.right)/2,F=(le.top+le.bottom)/2;K.textX=re*j-F*oe,K.textY=re*oe+F*j,K.noCenter=!0}de.exports={plot:function(K,le){var G=K._fullLayout,j=G._size;M("pie",G),P(le,K),ee(le,j);var oe=C.makeTraceGroups(G._pielayer,le,"trace").each(function(re){var F=o.select(this),O=re[0],J=O.trace;(function(R){var ie,fe,ue,he=R[0],Me=he.r,be=he.trace,Ae=N.getRotationAngle(be.rotation),ze=2*Math.PI/he.vTotal,Pe="px0",Fe="px1";if("counterclockwise"===be.direction){for(ie=0;ie<R.length&&R[ie].hidden;ie++);if(ie===R.length)return;Ae+=ze*R[ie].v,ze*=-1,Pe="px1",Fe="px0"}for(ue=ce(Me,Ae),ie=0;ie<R.length;ie++)(fe=R[ie]).hidden||(fe[Pe]=ue,fe.startangle=Ae,fe.pxmid=ce(Me,Ae+=ze*fe.v/2),fe.midangle=Ae,ue=ce(Me,Ae+=ze*fe.v/2),fe.stopangle=Ae,fe[Fe]=ue,fe.largeArc=fe.v>he.vTotal/2?1:0,fe.halfangle=Math.PI*Math.min(fe.v/he.vTotal,.5),fe.ring=1-be.hole,fe.rInscribed=T(fe,he))})(re),F.attr("stroke-linejoin","round"),F.each(function(){var R=o.select(this).selectAll("g.slice").data(re);R.enter().append("g").classed("slice",!0),R.exit().remove();var ie=[[[],[]],[[],[]]],fe=!1;R.each(function(Fe,t1){if(Fe.hidden)o.select(this).selectAll("path,g").remove();else{Fe.pointNumber=Fe.i,Fe.curveNumber=J.index,ie[Fe.pxmid[1]<0?0:1][Fe.pxmid[0]<0?0:1].push(Fe);var Xe=O.cx,Ue=O.cy,xe=o.select(this),ve=xe.selectAll("path.surface").data([Fe]);if(ve.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),xe.call(D,K,re),J.pull){var De=+N.castOption(J.pull,Fe.pts)||0;De>0&&(Xe+=De*Fe.pxmid[0],Ue+=De*Fe.pxmid[1])}Fe.cxFinal=Xe,Fe.cyFinal=Ue;var Ve=J.hole;if(Fe.v===O.vTotal){var Ye="M"+(Xe+Fe.px0[0])+","+(Ue+Fe.px0[1])+Ke(Fe.px0,Fe.pxmid,!0,1)+Ke(Fe.pxmid,Fe.px0,!0,1)+"Z";ve.attr("d",Ve?"M"+(Xe+Ve*Fe.px0[0])+","+(Ue+Ve*Fe.px0[1])+Ke(Fe.px0,Fe.pxmid,!1,Ve)+Ke(Fe.pxmid,Fe.px0,!1,Ve)+"Z"+Ye:Ye)}else{var Oe=Ke(Fe.px0,Fe.px1,!0,1);if(Ve){var Ie=1-Ve;ve.attr("d","M"+(Xe+Ve*Fe.px1[0])+","+(Ue+Ve*Fe.px1[1])+Ke(Fe.px1,Fe.px0,!1,Ve)+"l"+Ie*Fe.px0[0]+","+Ie*Fe.px0[1]+Oe+"Z")}else ve.attr("d","M"+Xe+","+Ue+"l"+Fe.px0[0]+","+Fe.px0[1]+Oe+"Z")}me(K,Fe,O);var Qe=N.castOption(J.textposition,Fe.pts),n1=xe.selectAll("g.slicetext").data(Fe.text&&"none"!==Qe?[0]:[]);n1.enter().append("g").classed("slicetext",!0),n1.exit().remove(),n1.each(function(){var Re,Be,C1,r1=C.ensureSingle(o.select(this),"text","",function(Re){Re.attr("data-notex",1)}),f1=C.ensureUniformFontSize(K,"outside"===Qe?(C1=G.font,{color:N.castOption((Re=J).outsidetextfont.color,(Be=Fe).pts)||N.castOption(Re.textfont.color,Be.pts)||C1.color,family:N.castOption(Re.outsidetextfont.family,Be.pts)||N.castOption(Re.textfont.family,Be.pts)||C1.family,size:N.castOption(Re.outsidetextfont.size,Be.pts)||N.castOption(Re.textfont.size,Be.pts)||C1.size}):S(J,Fe,G.font));r1.text(Fe.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(c.font,f1).call(u.convertToTspans,K);var Je,g1=c.bBox(r1.node());if("outside"===Qe)Je=Y(g1,Fe);else if(Je=H(g1,Fe,O),"auto"===Qe&&Je.scale<1){var b1=C.ensureUniformFontSize(K,J.outsidetextfont);r1.call(c.font,b1),Je=Y(g1=c.bBox(r1.node()),Fe)}var _1=Je.textPosAngle,I1=void 0===_1?Fe.pxmid:ce(O.r,_1);if(Je.targetX=Xe+I1[0]*Je.rCenter+(Je.x||0),Je.targetY=Ue+I1[1]*Je.rCenter+(Je.y||0),ae(Je,g1),Je.outside){var M1=Je.targetY;Fe.yLabelMin=M1-g1.height/2,Fe.yLabelMid=M1,Fe.yLabelMax=M1+g1.height/2,Fe.labelExtraX=0,Fe.labelExtraY=0,fe=!0}Je.fontSize=f1.size,b(J.type,Je,G),re[t1].transform=Je,r1.attr("transform",C.getTextTransform(Je))})}function Ke(r1,f1,Je,g1){return"a"+g1*O.r+","+g1*O.r+" 0 "+Fe.largeArc+(Je?" 1 ":" 0 ")+g1*(f1[0]-r1[0])+","+g1*(f1[1]-r1[1])}});var t1,ue=o.select(this).selectAll("g.titletext").data(J.title.text?[0]:[]);if(ue.enter().append("g").classed("titletext",!0),ue.exit().remove(),ue.each(function(){var Fe,Ue,xe,t1=C.ensureSingle(o.select(this),"text","",function(Ue){Ue.attr("data-notex",1)}),Xe=J.title.text;J._meta&&(Xe=C.templateString(Xe,J._meta)),t1.text(Xe).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(c.font,J.title.font).call(u.convertToTspans,K),Fe="middle center"===J.title.position?(Ue=O,xe=Math.sqrt(Ue.titleBox.width*Ue.titleBox.width+Ue.titleBox.height*Ue.titleBox.height),{x:Ue.cx,y:Ue.cy,scale:Ue.trace.hole*Ue.r*2/xe,tx:0,ty:-Ue.titleBox.height/2+Ue.trace.title.font.size}):W(O,j),t1.attr("transform",h(Fe.x,Fe.y)+d(Math.min(1,Fe.scale))+h(Fe.tx,Fe.ty))}),fe&&function(Fe,t1){var Xe,Ue,xe,ve,De,Ve,Ye,Oe,Ie,Qe,n1,Ke,r1;function f1(_1,I1){return _1.pxmid[1]-I1.pxmid[1]}function Je(_1,I1){return I1.pxmid[1]-_1.pxmid[1]}function g1(_1,I1){I1||(I1={});var M1,Re,Be,C1,O1=I1.labelExtraY+(Ue?I1.yLabelMax:I1.yLabelMin),Q1=Ue?_1.yLabelMin:_1.yLabelMax,l2=Ue?_1.yLabelMax:_1.yLabelMin,G1=_1.cyFinal+De(_1.px0[1],_1.px1[1]),K1=O1-Q1;if(K1*Ye>0&&(_1.labelExtraY=K1),Array.isArray(t1.pull))for(Re=0;Re<Qe.length;Re++)(Be=Qe[Re])===_1||(N.castOption(t1.pull,_1.pts)||0)>=(N.castOption(t1.pull,Be.pts)||0)||((_1.pxmid[1]-Be.pxmid[1])*Ye>0?(K1=Be.cyFinal+De(Be.px0[1],Be.px1[1])-Q1-_1.labelExtraY)*Ye>0&&(_1.labelExtraY+=K1):(l2+_1.labelExtraY-G1)*Ye>0&&(M1=3*Ve*Math.abs(Re-Qe.indexOf(_1)),(C1=Be.cxFinal+ve(Be.px0[0],Be.px1[0])+M1-(_1.cxFinal+_1.pxmid[0])-_1.labelExtraX)*Ve>0&&(_1.labelExtraX+=C1)))}for(Ue=0;Ue<2;Ue++)for(xe=Ue?f1:Je,De=Ue?Math.max:Math.min,Ye=Ue?1:-1,Xe=0;Xe<2;Xe++){for(ve=Xe?Math.max:Math.min,Ve=Xe?1:-1,(Oe=Fe[Ue][Xe]).sort(xe),Qe=(Ie=Fe[1-Ue][Xe]).concat(Oe),Ke=[],n1=0;n1<Oe.length;n1++)void 0!==Oe[n1].yLabelMid&&Ke.push(Oe[n1]);for(r1=!1,n1=0;Ue&&n1<Ie.length;n1++)if(void 0!==Ie[n1].yLabelMid){r1=Ie[n1];break}for(n1=0;n1<Ke.length;n1++){var b1=n1&&Ke[n1-1];r1&&!n1&&(b1=r1),g1(Ke[n1],b1)}}}(ie,J),t1=J,R.each(function(Xe){var Ue=o.select(this);if(Xe.labelExtraX||Xe.labelExtraY){var xe=Ue.select("g.slicetext text");Xe.transform.targetX+=Xe.labelExtraX,Xe.transform.targetY+=Xe.labelExtraY,xe.attr("transform",C.getTextTransform(Xe.transform));var ve=Xe.cxFinal+Xe.pxmid[0],De="M"+ve+","+(Xe.cyFinal+Xe.pxmid[1]),Ve=(Xe.yLabelMax-Xe.yLabelMin)*(Xe.pxmid[0]<0?-1:1)/4;if(Xe.labelExtraX){var Ye=Xe.labelExtraX*Xe.pxmid[1]/Xe.pxmid[0],Oe=Xe.yLabelMid+Xe.labelExtraY-(Xe.cyFinal+Xe.pxmid[1]);Math.abs(Ye)>Math.abs(Oe)?De+="l"+Oe*Xe.pxmid[0]/Xe.pxmid[1]+","+Oe+"H"+(ve+Xe.labelExtraX+Ve):De+="l"+Xe.labelExtraX+","+Ye+"v"+(Oe-Ye)+"h"+Ve}else De+="V"+(Xe.yLabelMid+Xe.labelExtraY)+"h"+Ve;C.ensureSingle(Ue,"path","textline").call(l.stroke,t1.outsidetextfont.color).attr({"stroke-width":Math.min(2,t1.outsidetextfont.size/8),d:De,fill:"none"})}else Ue.select("path.textline").remove()}),fe&&J.automargin){var he=c.bBox(F.node()),Me=J.domain,ze=(j.w*(Me.x[1]-Me.x[0])*.5-O.r)/j.w,Pe=(j.h*(Me.y[1]-Me.y[0])*.5-O.r)/j.h;g.autoMargin(K,"pie."+J.uid+".automargin",{xl:Me.x[0]-ze,xr:Me.x[1]+ze,yb:Me.y[0]-Pe,yt:Me.y[1]+Pe,l:Math.max(O.cx-O.r-he.left,0),r:Math.max(he.right-(O.cx+O.r),0),b:Math.max(he.bottom-(O.cy+O.r),0),t:Math.max(O.cy-O.r-he.top,0),pad:5})}})});setTimeout(function(){oe.selectAll("tspan").each(function(){var re=o.select(this);re.attr("dy")&&re.attr("dy",re.attr("dy"))})},0)},formatSliceLabel:me,transformInsideText:H,determineInsideTextFont:S,positionTitleOutside:W,prerenderTitles:P,layoutAreas:ee,attachFxHandlers:D,computeTransform:ae}},{"../../components/color":102,"../../components/drawing":124,"../../components/fx":142,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../bar/constants":330,"../bar/uniform_text":344,"./event_data":349,"./helpers":350,"@plotly/d3":11}],355:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("./style_one"),p=m("../bar/uniform_text").resizeText;de.exports=function(l){var c=l._fullLayout._pielayer.selectAll(".trace");p(l,c,"pie"),c.each(function(C){var d=C[0].trace,h=o.select(this);h.style({opacity:d.opacity}),h.selectAll("path.surface").each(function(u){o.select(this).call(g,u,d)})})}},{"../bar/uniform_text":344,"./style_one":356,"@plotly/d3":11}],356:[function(m,de,te){"use strict";var o=m("../../components/color"),g=m("./helpers").castOption;de.exports=function(p,l,c){var C=c.marker.line,d=g(C.color,l.pts)||o.defaultLine,h=g(C.width,l.pts)||0;p.style("stroke-width",h).call(o.fill,l.color).call(o.stroke,d)}},{"../../components/color":102,"./helpers":350}],357:[function(m,de,te){"use strict";var o=m("../../lib");de.exports=function(g,p){for(var l=0;l<g.length;l++)g[l].i=l;o.mergeArray(p.text,g,"tx"),o.mergeArray(p.texttemplate,g,"txt"),o.mergeArray(p.hovertext,g,"htx"),o.mergeArray(p.customdata,g,"data"),o.mergeArray(p.textposition,g,"tp"),p.textfont&&(o.mergeArrayCastPositive(p.textfont.size,g,"ts"),o.mergeArray(p.textfont.color,g,"tc"),o.mergeArray(p.textfont.family,g,"tf"));var c=p.marker;if(c){o.mergeArrayCastPositive(c.size,g,"ms"),o.mergeArrayCastPositive(c.opacity,g,"mo"),o.mergeArray(c.symbol,g,"mx"),o.mergeArray(c.color,g,"mc");var C=c.line;c.line&&(o.mergeArray(C.color,g,"mlc"),o.mergeArrayCastPositive(C.width,g,"mlw"));var d=c.gradient;d&&"none"!==d.type&&(o.mergeArray(d.type,g,"mgt"),o.mergeArray(d.color,g,"mgc"))}}},{"../../lib":232}],358:[function(m,de,te){"use strict";var o=m("../../plots/cartesian/axis_format_attributes").axisHoverFormat,g=m("../../plots/template_attributes").texttemplateAttrs,p=m("../../plots/template_attributes").hovertemplateAttrs,l=m("../../components/colorscale/attributes"),c=m("../../plots/font_attributes"),C=m("../../components/drawing/attributes").dash,d=m("../../components/drawing/attributes").pattern,h=m("../../components/drawing"),u=m("./constants"),_=m("../../lib/extend").extendFlat;de.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:o("x"),yhoverformat:o("y"),stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:g({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:p({},{keys:u.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:_({},C,{editType:"style"}),simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:d,marker:_({symbol:{valType:"enumerated",values:h.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:_({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},l("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},l("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:c({editType:"calc",colorEditType:"style",arrayOk:!0})}},{"../../components/colorscale/attributes":109,"../../components/drawing":124,"../../components/drawing/attributes":123,"../../lib/extend":226,"../../plots/cartesian/axis_format_attributes":282,"../../plots/font_attributes":310,"../../plots/template_attributes":317,"./constants":362}],359:[function(m,de,te){"use strict";var o=m("fast-isnumeric"),g=m("../../lib"),p=m("../../plots/cartesian/axes"),l=m("../../plots/cartesian/align_period"),c=m("../../constants/numerical").BADNUM,C=m("./subtypes"),d=m("./colorscale_calc"),h=m("./arrays_to_calcdata"),u=m("./calc_selection");function _(z,k,D,S,P,H,E){var I=k._length,w=z._fullLayout,B=D._id,$=S._id,T=w._firstScatter[L(k)]===k.uid,Y=(N(k,w,D,S)||{}).orientation,W=k.fill;D._minDtick=0,S._minDtick=0;var q={padded:!0},X={padded:!0};E&&(q.ppad=X.ppad=E);var ee=I<2||P[0]!==P[I-1]||H[0]!==H[I-1];ee&&("tozerox"===W||"tonextx"===W&&(T||"h"===Y))?q.tozero=!0:(k.error_y||{}).visible||"tonexty"!==W&&"tozeroy"!==W&&(C.hasMarkers(k)||C.hasText(k))||(q.padded=!1,q.ppad=0),ee&&("tozeroy"===W||"tonexty"===W&&(T||"v"===Y))?X.tozero=!0:"tonextx"!==W&&"tozerox"!==W||(X.padded=!1),B&&(k._extremes[B]=p.findExtremes(D,P,q)),$&&(k._extremes[$]=p.findExtremes(S,H,X))}function b(z,k){if(C.hasMarkers(z)){var D,S=z.marker,P=1.6*(z.marker.sizeref||1);if(D="area"===z.marker.sizemode?function(B){return Math.max(Math.sqrt((B||0)/P),3)}:function(B){return Math.max((B||0)/P,3)},g.isArrayOrTypedArray(S.size)){var H={type:"linear"};p.setConvert(H);for(var E=H.makeCalcdata(z.marker,"size"),I=new Array(k),w=0;w<k;w++)I[w]=D(E[w]);return I}return D(S.size)}}function M(z,k){var D=L(k),S=z._firstScatter;S[D]||(S[D]=k.uid)}function L(z){var k=z.stackgroup;return z.xaxis+z.yaxis+z.type+(k?"-"+k:"")}function N(z,k,D,S){var P=z.stackgroup;if(P){var H=k._scatterStackOpts[D._id+S._id][P],E="v"===H.orientation?S:D;return"linear"===E.type||"log"===E.type?H:void 0}}de.exports={calc:function(z,k){var D,S,P,H,E,I,w=z._fullLayout,B=p.getFromId(z,k.xaxis||"x"),$=p.getFromId(z,k.yaxis||"y"),T=B.makeCalcdata(k,"x"),Y=$.makeCalcdata(k,"y"),W=l(k,B,"x",T),q=l(k,$,"y",Y),X=W.vals,ee=q.vals,ce=k._length,me=new Array(ce),ae=k.ids,K=N(k,w,B,$),le=!1;M(w,k);var G,j="x",oe="y";K?(g.pushUnique(K.traceIndices,k._expandedIndex),(D="v"===K.orientation)?(oe="s",G="x"):(j="s",G="y"),E="interpolate"===K.stackgaps):_(z,k,B,$,X,ee,b(k,ce));var re=!!k.xperiodalignment,F=!!k.yperiodalignment;for(S=0;S<ce;S++){var O=me[S]={},J=o(X[S]),R=o(ee[S]);J&&R?(O[j]=X[S],O[oe]=ee[S],re&&(O.orig_x=T[S],O.xEnd=W.ends[S],O.xStart=W.starts[S]),F&&(O.orig_y=Y[S],O.yEnd=q.ends[S],O.yStart=q.starts[S])):K&&(D?J:R)?(O[G]=D?X[S]:ee[S],O.gap=!0,E?(O.s=c,le=!0):O.s=0):O[j]=O[oe]=c,ae&&(O.id=String(ae[S]))}if(h(me,k),d(z,k),u(me,k),K){for(S=0;S<me.length;)me[S][G]===c?me.splice(S,1):S++;if(g.sort(me,function(he,Me){return he[G]-Me[G]||he.i-Me.i}),le){for(S=0;S<me.length-1&&me[S].gap;)S++;for((I=me[S].s)||(I=me[S].s=0),P=0;P<S;P++)me[P].s=I;for(H=me.length-1;H>S&&me[H].gap;)H--;for(I=me[H].s,P=me.length-1;P>H;P--)me[P].s=I;for(;S<H;)if(me[++S].gap){for(P=S+1;me[P].gap;)P++;for(var ie=me[S-1][G],fe=me[S-1].s,ue=(me[P].s-fe)/(me[P][G]-ie);S<P;)me[S].s=fe+(me[S][G]-ie)*ue,S++}}}return me},calcMarkerSize:b,calcAxisExpansion:_,setFirstScatter:M,getStackOpts:N}},{"../../constants/numerical":212,"../../lib":232,"../../plots/cartesian/align_period":276,"../../plots/cartesian/axes":279,"./arrays_to_calcdata":357,"./calc_selection":360,"./colorscale_calc":361,"./subtypes":383,"fast-isnumeric":17}],360:[function(m,de,te){"use strict";var o=m("../../lib");de.exports=function(g,p){o.isArrayOrTypedArray(p.selectedpoints)&&o.tagSelected(g,p)}},{"../../lib":232}],361:[function(m,de,te){"use strict";var o=m("../../components/colorscale/helpers").hasColorscale,g=m("../../components/colorscale/calc"),p=m("./subtypes");de.exports=function(l,c){p.hasLines(c)&&o(c,"line")&&g(l,c,{vals:c.line.color,containerStr:"line",cLetter:"c"}),p.hasMarkers(c)&&(o(c,"marker")&&g(l,c,{vals:c.marker.color,containerStr:"marker",cLetter:"c"}),o(c,"marker.line")&&g(l,c,{vals:c.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},{"../../components/colorscale/calc":110,"../../components/colorscale/helpers":113,"./subtypes":383}],362:[function(m,de,te){"use strict";de.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},{}],363:[function(m,de,te){"use strict";var o=m("./calc");function g(p,l,c,C,d,h,u){d[C]=!0;var M,L,z,k,D,_={i:null,gap:!0,s:0};if(_[u]=c,p.splice(l,0,_),l&&c===p[l-1][u]){var b=p[l-1];_.s=b.s,_.i=b.i,_.gap=b.gap}else h&&(_.s=(z=u,k=(M=p)[(L=l)-1],(D=M[L+1])?k?k.s+(D.s-k.s)*(c-k[z])/(D[z]-k[z]):D.s:k.s));l||(p[0].t=p[1].t,p[0].trace=p[1].trace,delete p[1].t,delete p[1].trace)}de.exports=function(p,l){var c=l.xaxis,C=l.yaxis,h=p._fullLayout._scatterStackOpts[c._id+C._id];if(h){var u,_,b,M,L,N,z,k,D,S,P,H,E,I,w,B=p.calcdata;for(var $ in h){var T=(S=h[$]).traceIndices;if(T.length){for(P="interpolate"===S.stackgaps,H=S.groupnorm,"v"===S.orientation?(E="x",I="y"):(E="y",I="x"),w=new Array(T.length),u=0;u<w.length;u++)w[u]=!1;N=B[T[0]];var Y=new Array(N.length);for(u=0;u<N.length;u++)Y[u]=N[u][E];for(u=1;u<T.length;u++){for(L=B[T[u]],_=b=0;_<L.length;_++){for(z=L[_][E];z>Y[b]&&b<Y.length;b++)g(L,_,Y[b],u,w,P,E),_++;if(z!==Y[b]){for(M=0;M<u;M++)g(B[T[M]],b,z,M,w,P,E);Y.splice(b,0,z)}b++}for(;b<Y.length;b++)g(L,_,Y[b],u,w,P,E),_++}var W=Y.length;for(_=0;_<N.length;_++){for(k=N[_][I]=N[_].s,u=1;u<T.length;u++)(L=B[T[u]])[0].trace._rawLength=L[0].trace._length,L[0].trace._length=W,L[_][I]=k+=L[_].s;if(H)for(D=("fraction"===H?k:k/100)||1,u=0;u<T.length;u++){var q=B[T[u]][_];q[I]/=D,q.sNorm=q.s/D}}for(u=0;u<T.length;u++){var X=(L=B[T[u]])[0].trace,ee=o.calcMarkerSize(X,X._rawLength),ce=Array.isArray(ee);if(ee&&w[u]||ce){var me=ee;for(ee=new Array(W),_=0;_<W;_++)ee[_]=L[_].gap?0:ce?me[L[_].i]:me}var ae=new Array(W),K=new Array(W);for(_=0;_<W;_++)ae[_]=L[_].x,K[_]=L[_].y;o.calcAxisExpansion(p,X,c,C,ae,K,ee),L[0].t.orientation=S.orientation}}}}}},{"./calc":359}],364:[function(m,de,te){"use strict";de.exports=function(o){for(var g=0;g<o.length;g++){var p=o[g];if("scatter"===p.type){var l=p.fill;if("none"!==l&&"toself"!==l&&(p.opacity=void 0,"tonexty"===l||"tonextx"===l))for(var c=g-1;c>=0;c--){var C=o[c];if("scatter"===C.type&&C.xaxis===p.xaxis&&C.yaxis===p.yaxis){C.opacity=void 0;break}}}}}},{}],365:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("../../registry"),p=m("./attributes"),l=m("./constants"),c=m("./subtypes"),C=m("./xy_defaults"),d=m("./period_defaults"),h=m("./stack_defaults"),u=m("./marker_defaults"),_=m("./line_defaults"),b=m("./line_shape_defaults"),M=m("./text_defaults"),L=m("./fillcolor_defaults"),N=m("../../lib").coercePattern;de.exports=function(z,k,D,S){function P(Y,W){return o.coerce(z,k,p,Y,W)}var H=C(z,k,S,P);if(H||(k.visible=!1),k.visible){d(z,k,S,P),P("xhoverformat"),P("yhoverformat");var E=h(z,k,S,P),I=!E&&H<l.PTS_LINESONLY?"lines+markers":"lines";P("text"),P("hovertext"),P("mode",I),c.hasLines(k)&&(_(z,k,D,S,P),b(z,k,P),P("connectgaps"),P("line.simplify")),c.hasMarkers(k)&&u(z,k,D,S,P,{gradient:!0}),c.hasText(k)&&(P("texttemplate"),M(z,k,S,P));var w=[];(c.hasMarkers(k)||c.hasText(k))&&(P("cliponaxis"),P("marker.maxdisplayed"),w.push("points")),P("fill",E?E.fillDflt:"none"),"none"!==k.fill&&(L(z,k,D,P),c.hasLines(k)||b(z,k,P),N(P,"fillpattern",k.fillcolor,!1));var B=(k.line||{}).color,$=(k.marker||{}).color;"tonext"!==k.fill&&"toself"!==k.fill||w.push("fills"),P("hoveron",w.join("+")||"points"),"fills"!==k.hoveron&&P("hovertemplate");var T=g.getComponentMethod("errorbars","supplyDefaults");T(z,k,B||$||D,{axis:"y"}),T(z,k,B||$||D,{axis:"x",inherit:"y"}),o.coerceSelectionMarkerOpacity(k,P)}}},{"../../lib":232,"../../registry":318,"./attributes":358,"./constants":362,"./fillcolor_defaults":366,"./line_defaults":371,"./line_shape_defaults":373,"./marker_defaults":377,"./period_defaults":378,"./stack_defaults":381,"./subtypes":383,"./text_defaults":384,"./xy_defaults":385}],366:[function(m,de,te){"use strict";var o=m("../../components/color"),g=m("../../lib").isArrayOrTypedArray;de.exports=function(p,l,c,C){var d=!1;if(l.marker){var h=l.marker.color,u=(l.marker.line||{}).color;h&&!g(h)?d=h:u&&!g(u)&&(d=u)}C("fillcolor",o.addOpacity((l.line||{}).color||d||c,.5))}},{"../../components/color":102,"../../lib":232}],367:[function(m,de,te){"use strict";var o=m("../../plots/cartesian/axes");de.exports=function(g,p,l){var c={},C={_fullLayout:l},d=o.getFromTrace(C,p,"x"),h=o.getFromTrace(C,p,"y");return c.xLabel=o.tickText(d,d.c2l(g.x),!0).text,c.yLabel=o.tickText(h,h.c2l(g.y),!0).text,c}},{"../../plots/cartesian/axes":279}],368:[function(m,de,te){"use strict";var o=m("../../components/color"),g=m("./subtypes");de.exports=function(p,l){var c,C;if("lines"===p.mode)return(c=p.line.color)&&o.opacity(c)?c:p.fillcolor;if("none"===p.mode)return p.fill?p.fillcolor:"";var d=l.mcc||(p.marker||{}).color,h=l.mlcc||((p.marker||{}).line||{}).color;return(C=d&&o.opacity(d)?d:h&&o.opacity(h)&&(l.mlw||((p.marker||{}).line||{}).width)?h:"")?o.opacity(C)<.3?o.addOpacity(C,.3):C:(c=(p.line||{}).color)&&o.opacity(c)&&g.hasLines(p)&&p.line.width?c:p.fillcolor}},{"../../components/color":102,"./subtypes":383}],369:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("../../components/fx"),p=m("../../registry"),l=m("./get_trace_color"),c=m("../../components/color"),C=o.fillText;de.exports=function(d,h,u,_){var b=d.cd,M=b[0].trace,L=d.xa,N=d.ya,z=L.c2p(h),k=N.c2p(u),D=[z,k],S=M.hoveron||"",P=-1!==M.mode.indexOf("markers")?3:.5,H=!!M.xperiodalignment,E=!!M.yperiodalignment;if(-1!==S.indexOf("points")){var I=function(be){var Ae=Math.max(P,be.mrc||0),ze=L.c2p(be.x)-z,Pe=N.c2p(be.y)-k;return Math.max(Math.sqrt(ze*ze+Pe*Pe)-Ae,1-P/Ae)},w=g.getDistanceFunction(_,function(be){if(H){var Ae=L.c2p(be.xStart),ze=L.c2p(be.xEnd);return z>=Math.min(Ae,ze)&&z<=Math.max(Ae,ze)?0:1/0}var Pe=Math.max(3,be.mrc||0),Fe=1-1/Pe,t1=Math.abs(L.c2p(be.x)-z);return t1<Pe?Fe*t1/Pe:t1-Pe+Fe},function(be){if(E){var Ae=N.c2p(be.yStart),ze=N.c2p(be.yEnd);return k>=Math.min(Ae,ze)&&k<=Math.max(Ae,ze)?0:1/0}var Pe=Math.max(3,be.mrc||0),Fe=1-1/Pe,t1=Math.abs(N.c2p(be.y)-k);return t1<Pe?Fe*t1/Pe:t1-Pe+Fe},I);if(g.getClosest(b,w,d),!1!==d.index){var B=b[d.index],$=L.c2p(B.x,!0),T=N.c2p(B.y,!0),Y=B.mrc||1;d.index=B.i;var W=b[0].t.orientation,q=W&&(B.sNorm||B.s),X="h"===W?q:void 0!==B.orig_x?B.orig_x:B.x,ee="v"===W?q:void 0!==B.orig_y?B.orig_y:B.y;return o.extendFlat(d,{color:l(M,B),x0:$-Y,x1:$+Y,xLabelVal:X,y0:T-Y,y1:T+Y,yLabelVal:ee,spikeDistance:I(B),hovertemplate:M.hovertemplate}),C(B,M,d),p.getComponentMethod("errorbars","hoverInfo")(B,M,d),[d]}}if(-1!==S.indexOf("fills")&&M._polygons){var ce,me,ae,K,le,G,oe,re,F=M._polygons,O=[],J=!1,R=1/0,ie=-1/0,fe=1/0,ue=-1/0;for(ce=0;ce<F.length;ce++)(ae=F[ce]).contains(D)&&(J=!J,O.push(ae),fe=Math.min(fe,ae.ymin),ue=Math.max(ue,ae.ymax));if(J){var he=((fe=Math.max(fe,0))+(ue=Math.min(ue,N._length)))/2;for(ce=0;ce<O.length;ce++)for(K=O[ce].pts,me=1;me<K.length;me++)(oe=K[me-1][1])>he!=(re=K[me][1])>=he&&(G=K[me-1][0],re-oe&&(le=G+(K[me][0]-G)*(he-oe)/(re-oe),R=Math.min(R,le),ie=Math.max(ie,le)));R=Math.max(R,0),ie=Math.min(ie,L._length);var Me=c.defaultLine;return c.opacity(M.fillcolor)?Me=M.fillcolor:c.opacity((M.line||{}).color)&&(Me=M.line.color),o.extendFlat(d,{distance:d.maxHoverDistance,x0:R,x1:ie,y0:he,y1:he,color:Me,hovertemplate:!1}),delete d.index,d.text=M.text&&!Array.isArray(M.text)?String(M.text):M.name,[d]}}}},{"../../components/color":102,"../../components/fx":142,"../../lib":232,"../../registry":318,"./get_trace_color":368}],370:[function(m,de,te){"use strict";var o=m("./subtypes");de.exports={hasLines:o.hasLines,hasMarkers:o.hasMarkers,hasText:o.hasText,isBubble:o.isBubble,attributes:m("./attributes"),supplyDefaults:m("./defaults"),crossTraceDefaults:m("./cross_trace_defaults"),calc:m("./calc").calc,crossTraceCalc:m("./cross_trace_calc"),arraysToCalcdata:m("./arrays_to_calcdata"),plot:m("./plot"),colorbar:m("./marker_colorbar"),formatLabels:m("./format_labels"),style:m("./style").style,styleOnSelect:m("./style").styleOnSelect,hoverPoints:m("./hover"),selectPoints:m("./select"),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:m("../../plots/cartesian"),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},{"../../plots/cartesian":293,"./arrays_to_calcdata":357,"./attributes":358,"./calc":359,"./cross_trace_calc":363,"./cross_trace_defaults":364,"./defaults":365,"./format_labels":367,"./hover":369,"./marker_colorbar":376,"./plot":379,"./select":380,"./style":382,"./subtypes":383}],371:[function(m,de,te){"use strict";var o=m("../../lib").isArrayOrTypedArray,g=m("../../components/colorscale/helpers").hasColorscale,p=m("../../components/colorscale/defaults");de.exports=function(l,c,C,d,h,u){var _=(l.marker||{}).color;h("line.color",C),g(l,"line")?p(l,c,d,h,{prefix:"line.",cLetter:"c"}):h("line.color",!o(_)&&_||C),h("line.width"),(u||{}).noDash||h("line.dash")}},{"../../components/colorscale/defaults":112,"../../components/colorscale/helpers":113,"../../lib":232}],372:[function(m,de,te){"use strict";var o=m("../../constants/numerical"),g=o.BADNUM,p=o.LOG_CLIP,l=p+.5,c=p-.5,C=m("../../lib"),d=C.segmentsIntersect,h=C.constrain,u=m("./constants");de.exports=function(_,b){var M,L,N,z,k,D,S,P,H,E,I,w,B,$,T,Y,W,q,X=b.xaxis,ee=b.yaxis,ce="log"===X.type,me="log"===ee.type,ae=X._length,K=ee._length,le=b.connectGaps,G=b.baseTolerance,j=b.shape,oe="linear"===j,re=b.fill&&"none"!==b.fill,F=[],O=u.minTolerance,J=_.length,R=new Array(J),ie=0;function fe(Je){var g1=_[Je];if(!g1)return!1;var b1=b.linearized?X.l2p(g1.x):X.c2p(g1.x),_1=b.linearized?ee.l2p(g1.y):ee.c2p(g1.y);if(b1===g){if(ce&&(b1=X.c2p(g1.x,!0)),b1===g)return!1;me&&_1===g&&(b1*=Math.abs(X._m*K*(X._m>0?l:c)/(ee._m*ae*(ee._m>0?l:c)))),b1*=1e3}if(_1===g){if(me&&(_1=ee.c2p(g1.y,!0)),_1===g)return!1;_1*=1e3}return[b1,_1]}function ue(Je,g1,b1,_1){var I1=b1-Je,M1=_1-g1,Re=.5-Je,Be=.5-g1,C1=I1*I1+M1*M1,O1=I1*Re+M1*Be;if(O1>0&&O1<C1){var Q1=Re*M1-Be*I1;if(Q1*Q1<C1)return!0}}function he(Je,g1){var b1=Je[0]/ae,_1=Je[1]/K,I1=Math.max(0,-b1,b1-1,-_1,_1-1);return I1&&void 0!==W&&ue(b1,_1,W,q)&&(I1=0),I1&&g1&&ue(b1,_1,g1[0]/ae,g1[1]/K)&&(I1=0),(1+u.toleranceGrowth*I1)*G}function Me(Je,g1){var b1=Je[0]-g1[0],_1=Je[1]-g1[1];return Math.sqrt(b1*b1+_1*_1)}var be,Ae,ze,Pe,Fe,t1,Xe,Ue=u.maxScreensAway,xe=-ae*Ue,ve=ae*(1+Ue),De=-K*Ue,Ve=K*(1+Ue),Ye=[[xe,De,ve,De],[ve,De,ve,Ve],[ve,Ve,xe,Ve],[xe,Ve,xe,De]];function Oe(Je){if(Je[0]<xe||Je[0]>ve||Je[1]<De||Je[1]>Ve)return[h(Je[0],xe,ve),h(Je[1],De,Ve)]}function Ie(Je,g1){return Je[0]===g1[0]&&(Je[0]===xe||Je[0]===ve)||Je[1]===g1[1]&&(Je[1]===De||Je[1]===Ve)||void 0}function Qe(Je,g1,b1){return function(_1,I1){var M1=Oe(_1),Re=Oe(I1),Be=[];if(M1&&Re&&Ie(M1,Re))return Be;M1&&Be.push(M1),Re&&Be.push(Re);var C1=2*C.constrain((_1[Je]+I1[Je])/2,g1,b1)-((M1||_1)[Je]+(Re||I1)[Je]);return C1&&((M1&&Re?C1>0==M1[Je]>Re[Je]?M1:Re:M1||Re)[Je]+=C1),Be}}function n1(Je){var g1=Je[0],b1=Je[1],_1=g1===R[ie-1][0],I1=b1===R[ie-1][1];if(!_1||!I1)if(ie>1){var M1=g1===R[ie-2][0],Re=b1===R[ie-2][1];_1&&(g1===xe||g1===ve)&&M1?Re?ie--:R[ie-1]=Je:I1&&(b1===De||b1===Ve)&&Re?M1?ie--:R[ie-1]=Je:R[ie++]=Je}else R[ie++]=Je}function Ke(Je){R[ie-1][0]!==Je[0]&&R[ie-1][1]!==Je[1]&&n1([ze,Pe]),n1(Je),Fe=null,ze=Pe=0}function r1(Je){if(W=Je[0]/ae,q=Je[1]/K,Ae=Je[1]<De?De:Je[1]>Ve?Ve:0,(be=Je[0]<xe?xe:Je[0]>ve?ve:0)||Ae){if(ie)if(Fe){var g1=Xe(Fe,Je);g1.length>1&&(Ke(g1[0]),R[ie++]=g1[1])}else t1=Xe(R[ie-1],Je)[0],R[ie++]=t1;else R[ie++]=[be||Je[0],Ae||Je[1]];var b1=R[ie-1];be&&Ae&&(b1[0]!==be||b1[1]!==Ae)?(Fe&&(ze!==be&&Pe!==Ae?n1(ze&&Pe?(M1=(I1=Je)[0]-(_1=Fe)[0],Re=(I1[1]-_1[1])/M1,(_1[1]*I1[0]-I1[1]*_1[0])/M1>0?[Re>0?xe:ve,Ve]:[Re>0?ve:xe,De]):[ze||be,Pe||Ae]):ze&&Pe&&n1([ze,Pe])),n1([be,Ae])):ze-be&&Pe-Ae&&n1([be||ze,Ae||Pe]),Fe=Je,ze=be,Pe=Ae}else Fe&&Ke(Xe(Fe,Je)[0]),R[ie++]=Je;var _1,I1,M1,Re}for("linear"===j||"spline"===j?Xe=function(Je,g1){for(var b1=[],_1=0,I1=0;I1<4;I1++){var M1=Ye[I1],Re=d(Je[0],Je[1],g1[0],g1[1],M1[0],M1[1],M1[2],M1[3]);Re&&(!_1||Math.abs(Re.x-b1[0][0])>1||Math.abs(Re.y-b1[0][1])>1)&&(Re=[Re.x,Re.y],_1&&Me(Re,Je)<Me(b1[0],Je)?b1.unshift(Re):b1.push(Re),_1++)}return b1}:"hv"===j||"vh"===j?Xe=function(Je,g1){var b1=[],_1=Oe(Je),I1=Oe(g1);return _1&&I1&&Ie(_1,I1)||(_1&&b1.push(_1),I1&&b1.push(I1)),b1}:"hvh"===j?Xe=Qe(0,xe,ve):"vhv"===j&&(Xe=Qe(1,De,Ve)),M=0;M<J;M++)if(L=fe(M)){for(ie=0,Fe=null,r1(L),M++;M<J;M++){if(!(z=fe(M))){if(le)continue;break}if(oe&&b.simplify){var f1=fe(M+1);if(E=Me(z,L),re&&(0===ie||ie===J-1)||!(E<he(z,f1)*O)){for(P=[(z[0]-L[0])/E,(z[1]-L[1])/E],k=L,I=E,w=$=T=0,S=!1,N=z,M++;M<_.length;M++){if(D=f1,f1=fe(M+1),!D){if(le)continue;break}if(Y=(H=[D[0]-L[0],D[1]-L[1]])[0]*P[1]-H[1]*P[0],$=Math.min($,Y),(T=Math.max(T,Y))-$>he(D,f1))break;N=D,(B=H[0]*P[0]+H[1]*P[1])>I?(I=B,z=D,S=!1):B<w&&(w=B,k=D,S=!0)}if(S?(r1(z),N!==k&&r1(k)):(k!==L&&r1(k),N!==z&&r1(z)),r1(N),M>=_.length||!D)break;r1(D),L=D}}else r1(z)}Fe&&n1([ze||Fe[0],Pe||Fe[1]]),F.push(R.slice(0,ie))}return F}},{"../../constants/numerical":212,"../../lib":232,"./constants":362}],373:[function(m,de,te){"use strict";de.exports=function(o,g,p){"spline"===p("line.shape")&&p("line.smoothing")}},{}],374:[function(m,de,te){"use strict";var o={tonextx:1,tonexty:1,tonext:1};de.exports=function(g,p,l){var c,C,d,h,u,_={},b=!1,M=-1,L=0,N=-1;for(C=0;C<l.length;C++)(d=(c=l[C][0].trace).stackgroup||"")?d in _?u=_[d]:(u=_[d]=L,L++):c.fill in o&&N>=0?u=N:(u=N=L,L++),u<M&&(b=!0),c._groupIndex=M=u;var z=l.slice();b&&z.sort(function(D,S){var P=D[0].trace,H=S[0].trace;return P._groupIndex-H._groupIndex||P.index-H.index});var k={};for(C=0;C<z.length;C++)d=(c=z[C][0].trace).stackgroup||"",!0===c.visible?(c._nexttrace=null,c.fill in o&&(c._prevtrace=(h=k[d])||null,h&&(h._nexttrace=c)),c._ownfill=c.fill&&("tozero"===c.fill.substr(0,6)||"toself"===c.fill||"to"===c.fill.substr(0,2)&&!c._prevtrace),k[d]=c):c._prevtrace=c._nexttrace=c._ownfill=null;return z}},{}],375:[function(m,de,te){"use strict";var o=m("fast-isnumeric");de.exports=function(g,p){p||(p=2);var l=g.marker,c=l.sizeref||1,C=l.sizemin||0,d="area"===l.sizemode?function(h){return Math.sqrt(h/c)}:function(h){return h/c};return function(h){var u=d(h/p);return o(u)&&u>0?Math.max(u,C):0}}},{"fast-isnumeric":17}],376:[function(m,de,te){"use strict";de.exports={container:"marker",min:"cmin",max:"cmax"}},{}],377:[function(m,de,te){"use strict";var o=m("../../components/color"),g=m("../../components/colorscale/helpers").hasColorscale,p=m("../../components/colorscale/defaults"),l=m("./subtypes");de.exports=function(c,C,d,h,u,_){var b=l.isBubble(c),M=(c.line||{}).color;_=_||{},M&&(d=M),u("marker.symbol"),u("marker.opacity",b?.7:1),u("marker.size"),u("marker.color",d),g(c,"marker")&&p(c,C,h,u,{prefix:"marker.",cLetter:"c"}),_.noSelect||(u("selected.marker.color"),u("unselected.marker.color"),u("selected.marker.size"),u("unselected.marker.size")),_.noLine||(u("marker.line.color",M&&!Array.isArray(M)&&C.marker.color!==M?M:b?o.background:o.defaultLine),g(c,"marker.line")&&p(c,C,h,u,{prefix:"marker.line.",cLetter:"c"}),u("marker.line.width",b?1:0)),b&&(u("marker.sizeref"),u("marker.sizemin"),u("marker.sizemode")),_.gradient&&"none"!==u("marker.gradient.type")&&u("marker.gradient.color")}},{"../../components/color":102,"../../components/colorscale/defaults":112,"../../components/colorscale/helpers":113,"./subtypes":383}],378:[function(m,de,te){"use strict";var o=m("../../lib").dateTick0,g=m("../../constants/numerical").ONEWEEK;function p(l,c){return o(c,l%g==0?1:0)}de.exports=function(l,c,C,d,h){if(h||(h={x:!0,y:!0}),h.x){var u=d("xperiod");u&&(d("xperiod0",p(u,c.xcalendar)),d("xperiodalignment"))}if(h.y){var _=d("yperiod");_&&(d("yperiod0",p(_,c.ycalendar)),d("yperiodalignment"))}}},{"../../constants/numerical":212,"../../lib":232}],379:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("../../registry"),p=m("../../lib"),l=p.ensureSingle,c=p.identity,C=m("../../components/drawing"),d=m("./subtypes"),h=m("./line_points"),u=m("./link_traces"),_=m("../../lib/polygon").tester;function b(M,L,N,z,k,D,S){var P;!function(ve,De,Ve,Ye,Oe){var Ie=Ve.xaxis,Qe=Ve.yaxis,n1=o.extent(p.simpleMap(Ie.range,Ie.r2c)),Ke=o.extent(p.simpleMap(Qe.range,Qe.r2c)),r1=Ye[0].trace;if(d.hasMarkers(r1)){var f1=r1.marker.maxdisplayed;if(0!==f1){var Je=Ye.filter(function(I1){return I1.x>=n1[0]&&I1.x<=n1[1]&&I1.y>=Ke[0]&&I1.y<=Ke[1]}),g1=Math.ceil(Je.length/f1),b1=0;Oe.forEach(function(I1,M1){var Re=I1[0].trace;d.hasMarkers(Re)&&Re.marker.maxdisplayed>0&&M1<De&&b1++});var _1=Math.round(b1*g1/3+Math.floor(b1/3)*g1/7.1);Ye.forEach(function(I1){delete I1.vis}),Je.forEach(function(I1,M1){0===Math.round((M1+_1)%g1)&&(I1.vis=!0)})}}}(0,L,N,z,k);var H=!!S&&S.duration>0;function E(ve){return H?ve.transition():ve}var I=N.xaxis,w=N.yaxis,B=z[0].trace,$=B.line,T=o.select(D),Y=l(T,"g","errorbars"),W=l(T,"g","lines"),q=l(T,"g","points"),X=l(T,"g","text");if(g.getComponentMethod("errorbars","plot")(M,Y,N,S),!0===B.visible){var ee,ce;E(T).style("opacity",B.opacity);var me=B.fill.charAt(B.fill.length-1);"x"!==me&&"y"!==me&&(me=""),z[0][N.isRangePlot?"nodeRangePlot3":"node3"]=T;var ae,K,le="",G=[],j=B._prevtrace;j&&(le=j._prevRevpath||"",ce=j._nextFill,G=j._polygons);var oe,re,F,O,J,R,ie,fe="",ue="",he=[],Me=p.noop;if(ee=B._ownFill,d.hasLines(B)||"none"!==B.fill){for(ce&&ce.datum(z),-1!==["hv","vh","hvh","vhv"].indexOf($.shape)?(oe=C.steps($.shape),re=C.steps($.shape.split("").reverse().join(""))):oe=re="spline"===$.shape?function(ve){var De=ve[ve.length-1];return ve.length>1&&ve[0][0]===De[0]&&ve[0][1]===De[1]?C.smoothclosed(ve.slice(1),$.smoothing):C.smoothopen(ve,$.smoothing)}:function(ve){return"M"+ve.join("L")},F=function(ve){return re(ve.reverse())},he=h(z,{xaxis:I,yaxis:w,connectGaps:B.connectgaps,baseTolerance:Math.max($.width||1,3)/4,shape:$.shape,simplify:$.simplify,fill:B.fill}),ie=B._polygons=new Array(he.length),P=0;P<he.length;P++)B._polygons[P]=_(he[P]);he.length&&(O=he[0][0],R=(J=he[he.length-1])[J.length-1]),Me=function(ve){return function(De){if(ae=oe(De),K=F(De),fe?me?(fe+="L"+ae.substr(1),ue=K+"L"+ue.substr(1)):(fe+="Z"+ae,ue=K+"Z"+ue):(fe=ae,ue=K),d.hasLines(B)&&De.length>1){var Ve=o.select(this);if(Ve.datum(z),ve)E(Ve.style("opacity",0).attr("d",ae).call(C.lineGroupStyle)).style("opacity",1);else{var Ye=E(Ve);Ye.attr("d",ae),C.singleLineStyle(z,Ye)}}}}}var be=W.selectAll(".js-line").data(he);E(be.exit()).style("opacity",0).remove(),be.each(Me(!1)),be.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(C.lineGroupStyle).each(Me(!0)),C.setClipUrl(be,N.layerClipId,M),he.length?(ee?(ee.datum(z),O&&R&&(me?("y"===me?O[1]=R[1]=w.c2p(0,!0):"x"===me&&(O[0]=R[0]=I.c2p(0,!0)),E(ee).attr("d","M"+R+"L"+O+"L"+fe.substr(1)).call(C.singleFillStyle,M)):E(ee).attr("d",fe+"Z").call(C.singleFillStyle,M))):ce&&("tonext"===B.fill.substr(0,6)&&fe&&le?("tonext"===B.fill?E(ce).attr("d",fe+"Z"+le+"Z").call(C.singleFillStyle,M):E(ce).attr("d",fe+"L"+le.substr(1)+"Z").call(C.singleFillStyle,M),B._polygons=B._polygons.concat(G)):(ze(ce),B._polygons=null)),B._prevRevpath=ue,B._prevPolygons=ie):(ee?ze(ee):ce&&ze(ce),B._polygons=B._prevRevpath=B._prevPolygons=null),q.datum(z),X.datum(z),function(ve,De,Ve){var Ye,Oe=Ve[0].trace,Ie=d.hasMarkers(Oe),Qe=d.hasText(Oe),n1=function Ue(ve){if(ve.ids)return Xe}(Oe),Ke=xe,r1=xe;if(Ie||Qe){var f1=c,Je=Oe.stackgroup,g1=Je&&"infer zero"===M._fullLayout._scatterStackOpts[I._id+w._id][Je].stackgaps;Oe.marker.maxdisplayed||Oe._needsCull?f1=g1?Fe:Pe:Je&&!g1&&(f1=t1),Ie&&(Ke=f1),Qe&&(r1=f1)}var b1,_1=(Ye=ve.selectAll("path.point").data(Ke,n1)).enter().append("path").classed("point",!0);H&&_1.call(C.pointStyle,Oe,M).call(C.translatePoints,I,w).style("opacity",0).transition().style("opacity",1),Ye.order(),Ie&&(b1=C.makePointStyleFns(Oe)),Ye.each(function(I1){var M1=o.select(this),Re=E(M1);C.translatePoint(I1,Re,I,w)?(C.singlePointStyle(I1,Re,Oe,b1,M),N.layerClipId&&C.hideOutsideRangePoint(I1,Re,I,w,Oe.xcalendar,Oe.ycalendar),Oe.customdata&&M1.classed("plotly-customdata",null!=I1.data)):Re.remove()}),H?Ye.exit().transition().style("opacity",0).remove():Ye.exit().remove(),(Ye=De.selectAll("g").data(r1,n1)).enter().append("g").classed("textpoint",!0).append("text"),Ye.order(),Ye.each(function(I1){var M1=o.select(this),Re=E(M1.select("text"));C.translatePoint(I1,Re,I,w)?N.layerClipId&&C.hideOutsideRangePoint(I1,M1,I,w,Oe.xcalendar,Oe.ycalendar):M1.remove()}),Ye.selectAll("text").call(C.textPointStyle,Oe,M).each(function(I1){var M1=I.c2p(I1.x),Re=w.c2p(I1.y);o.select(this).selectAll("tspan.line").each(function(){E(o.select(this)).attr({x:M1,y:Re})})}),Ye.exit().remove()}(q,X,z);var Ae=!1===B.cliponaxis?null:N.layerClipId;C.setClipUrl(q,Ae,M),C.setClipUrl(X,Ae,M)}function ze(ve){E(ve).attr("d","M0,0Z")}function Pe(ve){return ve.filter(function(De){return!De.gap&&De.vis})}function Fe(ve){return ve.filter(function(De){return De.vis})}function t1(ve){return ve.filter(function(De){return!De.gap})}function Xe(ve){return ve.id}function xe(){return!1}}de.exports=function(M,L,N,z,k,D){var S,P,w,$,H=!k,E=!!k&&k.duration>0,I=u(M,L,N);(S=z.selectAll("g.trace").data(I,function(w){return w[0].trace.uid})).enter().append("g").attr("class",function(w){return"trace scatter trace"+w[0].trace.uid}).style("stroke-miterlimit",2),S.order(),w=M,$=L,S.each(function(T){var Y=l(o.select(this),"g","fills");C.setClipUrl(Y,$.layerClipId,w);var W=T[0].trace,q=[];W._ownfill&&q.push("_ownFill"),W._nexttrace&&q.push("_nextFill");var X=Y.selectAll("g").data(q,c);X.enter().append("g"),X.exit().each(function(ee){W[ee]=null}).remove(),X.order().each(function(ee){W[ee]=l(o.select(this),"path","js-fill")})}),E?(D&&(P=D()),o.transition().duration(k.duration).ease(k.easing).each("end",function(){P&&P()}).each("interrupt",function(){P&&P()}).each(function(){z.selectAll("g.trace").each(function(w,B){b(M,B,L,w,I,this,k)})})):S.each(function(w,B){b(M,B,L,w,I,this,k)}),H&&S.exit().remove(),z.selectAll("path:not([d])").remove()}},{"../../components/drawing":124,"../../lib":232,"../../lib/polygon":244,"../../registry":318,"./line_points":372,"./link_traces":374,"./subtypes":383,"@plotly/d3":11}],380:[function(m,de,te){"use strict";var o=m("./subtypes");de.exports=function(g,p){var l,c,C,d,h=g.cd,u=g.xaxis,_=g.yaxis,b=[],M=h[0].trace;if(!o.hasMarkers(M)&&!o.hasText(M))return[];if(!1===p)for(l=0;l<h.length;l++)h[l].selected=0;else for(l=0;l<h.length;l++)C=u.c2p((c=h[l]).x),d=_.c2p(c.y),null!==c.i&&p.contains([C,d],!1,l,g)?(b.push({pointNumber:c.i,x:u.c2d(c.x),y:_.c2d(c.y)}),c.selected=1):c.selected=0;return b}},{"./subtypes":383}],381:[function(m,de,te){"use strict";var o=["orientation","groupnorm","stackgaps"];de.exports=function(g,p,l,c){var C=l._scatterStackOpts,d=c("stackgroup");if(d){var h=p.xaxis+p.yaxis,u=C[h];u||(u=C[h]={});var _=u[d],b=!1;_?_.traces.push(p):(_=u[d]={traceIndices:[],traces:[p]},b=!0);for(var M={orientation:p.x&&!p.y?"h":"v"},L=0;L<o.length;L++){var N=o[L],z=N+"Found";if(!_[z]){var k=void 0!==g[N],D="orientation"===N;if((k||b)&&(_[N]=c(N,M[N]),D&&(_.fillDflt="h"===_[N]?"tonextx":"tonexty"),k&&(_[z]=!0,!b&&(delete _.traces[0][N],D))))for(var S=0;S<_.traces.length-1;S++){var P=_.traces[S];P._input.fill!==P.fill&&(P.fill=_.fillDflt)}}}return _}}},{}],382:[function(m,de,te){"use strict";var o=m("@plotly/d3"),g=m("../../components/drawing"),p=m("../../registry");function l(C,d,h){g.pointStyle(C.selectAll("path.point"),d,h)}function c(C,d,h){g.textPointStyle(C.selectAll("text"),d,h)}de.exports={style:function(C){var d=o.select(C).selectAll("g.trace.scatter");d.style("opacity",function(h){return h[0].trace.opacity}),d.selectAll("g.points").each(function(h){l(o.select(this),h.trace||h[0].trace,C)}),d.selectAll("g.text").each(function(h){c(o.select(this),h.trace||h[0].trace,C)}),d.selectAll("g.trace path.js-line").call(g.lineGroupStyle),d.selectAll("g.trace path.js-fill").call(g.fillGroupStyle,C),p.getComponentMethod("errorbars","style")(d)},stylePoints:l,styleText:c,styleOnSelect:function(C,d,h){var u=d[0].trace;u.selectedpoints?(g.selectedPointStyle(h.selectAll("path.point"),u),g.selectedTextStyle(h.selectAll("text"),u)):(l(h,u,C),c(h,u,C))}}},{"../../components/drawing":124,"../../registry":318,"@plotly/d3":11}],383:[function(m,de,te){"use strict";var o=m("../../lib");de.exports={hasLines:function(g){return g.visible&&g.mode&&-1!==g.mode.indexOf("lines")},hasMarkers:function(g){return g.visible&&(g.mode&&-1!==g.mode.indexOf("markers")||"splom"===g.type)},hasText:function(g){return g.visible&&g.mode&&-1!==g.mode.indexOf("text")},isBubble:function(g){return o.isPlainObject(g.marker)&&o.isArrayOrTypedArray(g.marker.size)}}},{"../../lib":232}],384:[function(m,de,te){"use strict";var o=m("../../lib");de.exports=function(g,p,l,c,C){C=C||{},c("textposition"),o.coerceFont(c,"textfont",l.font),C.noSelect||(c("selected.textfont.color"),c("unselected.textfont.color"))}},{"../../lib":232}],385:[function(m,de,te){"use strict";var o=m("../../lib"),g=m("../../registry");de.exports=function(p,l,c,C){var d,h=C("x"),u=C("y");if(g.getComponentMethod("calendars","handleTraceDefaults")(p,l,["x","y"],c),h){var _=o.minRowLength(h);u?d=Math.min(_,o.minRowLength(u)):(d=_,C("y0"),C("dy"))}else{if(!u)return 0;d=o.minRowLength(u),C("x0"),C("dx")}return l._length=d,d}},{"../../lib":232,"../../registry":318}],386:[function(m,de,te){"use strict";var o=m("../plots/cartesian/axes"),g=m("../lib"),p=m("../plot_api/plot_schema"),l=m("./helpers").pointsAccessorFunction,c=m("../constants/numerical").BADNUM;te.moduleType="transform",te.name="aggregate";var C=te.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},d=C.aggregations;function h(M,L,N,z){if(z.enabled){for(var k=z.target,D=g.nestedProperty(L,k),S=D.get(),P=function(I,w){var $=w.d2c,T=w.c2d;switch(I.func){case"count":return u;case"first":return _;case"last":return b;case"sum":return function(Y,W){for(var q=0,X=0;X<W.length;X++){var ee=$(Y[W[X]]);ee!==c&&(q+=ee)}return T(q)};case"avg":return function(Y,W){for(var q=0,X=0,ee=0;ee<W.length;ee++){var ce=$(Y[W[ee]]);ce!==c&&(q+=ce,X++)}return X?T(q/X):c};case"min":return function(Y,W){for(var q=1/0,X=0;X<W.length;X++){var ee=$(Y[W[X]]);ee!==c&&(q=Math.min(q,ee))}return q===1/0?c:T(q)};case"max":return function(Y,W){for(var q=-1/0,X=0;X<W.length;X++){var ee=$(Y[W[X]]);ee!==c&&(q=Math.max(q,ee))}return q===-1/0?c:T(q)};case"range":return function(Y,W){for(var q=1/0,X=-1/0,ee=0;ee<W.length;ee++){var ce=$(Y[W[ee]]);ce!==c&&(q=Math.min(q,ce),X=Math.max(X,ce))}return X===-1/0||q===1/0?c:T(X-q)};case"change":return function(Y,W){var q=$(Y[W[0]]),X=$(Y[W[W.length-1]]);return q===c||X===c?c:T(X-q)};case"median":return function(Y,W){for(var q=[],X=0;X<W.length;X++){var ee=$(Y[W[X]]);ee!==c&&q.push(ee)}if(!q.length)return c;q.sort(g.sorterAsc);var ce=(q.length-1)/2;return T((q[Math.floor(ce)]+q[Math.ceil(ce)])/2)};case"mode":return function(Y,W){for(var q={},X=0,ee=c,ce=0;ce<W.length;ce++){var me=$(Y[W[ce]]);if(me!==c){var ae=q[me]=(q[me]||0)+1;ae>X&&(X=ae,ee=me)}}return X?T(ee):c};case"rms":return function(Y,W){for(var q=0,X=0,ee=0;ee<W.length;ee++){var ce=$(Y[W[ee]]);ce!==c&&(q+=ce*ce,X++)}return X?T(Math.sqrt(q/X)):c};case"stddev":return function(Y,W){var q,X=0,ee=0,ce=1,me=c;for(q=0;q<W.length&&me===c;q++)me=$(Y[W[q]]);if(me===c)return c;for(;q<W.length;q++){var ae=$(Y[W[q]]);if(ae!==c){var K=ae-me;X+=K,ee+=K*K,ce++}}var le="sample"===I.funcmode?ce-1:ce;return le?Math.sqrt((ee-X*X/ce)/le):0}}}(z,o.getDataConversions(M,L,k,S)),H=new Array(N.length),E=0;E<N.length;E++)H[E]=P(S,N[E]);D.set(H),"count"===z.func&&g.pushUnique(L._arrayAttrs,k)}}function u(M,L){return L.length}function _(M,L){return M[L[0]]}function b(M,L){return M[L[L.length-1]]}te.supplyDefaults=function(M,L){var N,z={};function k(T,Y){return g.coerce(M,z,C,T,Y)}if(!k("enabled"))return z;var D=p.findArrayAttributes(L),S={};for(N=0;N<D.length;N++)S[D[N]]=1;var P=k("groups");if(!Array.isArray(P)){if(!S[P])return z.enabled=!1,z;S[P]=0}var H,E=M.aggregations||[],I=z.aggregations=new Array(E.length);function w(T,Y){return g.coerce(E[N],H,d,T,Y)}for(N=0;N<E.length;N++){H={_index:N};var B=w("target"),$=w("func");w("enabled")&&B&&(S[B]||"count"===$&&void 0===S[B])?("stddev"===$&&w("funcmode"),S[B]=0,I[N]=H):I[N]={enabled:!1,_index:N}}for(N=0;N<D.length;N++)S[D[N]]&&I.push({target:D[N],func:d.func.dflt,enabled:!0,_index:-1});return z},te.calcTransform=function(M,L,N){if(N.enabled){var z=N.groups,k=g.getTargetArray(L,{target:z});if(k){var D,S,P,E={},I={},w=[],B=l(L.transforms,N),$=k.length;for(L._length&&($=Math.min($,L._length)),D=0;D<$;D++)void 0===(P=E[S=k[D]])?(E[S]=w.length,w.push([D]),I[E[S]]=B(D)):(w[P].push(D),I[E[S]]=(I[E[S]]||[]).concat(B(D)));N._indexToPoints=I;var T=N.aggregations;for(D=0;D<T.length;D++)h(M,L,w,T[D]);"string"==typeof z&&h(M,L,w,{target:z,func:"first",enabled:!0}),L._length=w.length}}}},{"../constants/numerical":212,"../lib":232,"../plot_api/plot_schema":267,"../plots/cartesian/axes":279,"./helpers":389}],387:[function(m,de,te){"use strict";var o=m("../lib"),g=m("../registry"),p=m("../plots/cartesian/axes"),l=m("./helpers").pointsAccessorFunction,c=m("../constants/filter_ops"),C=c.COMPARISON_OPS,d=c.INTERVAL_OPS,h=c.SET_OPS;te.moduleType="transform",te.name="filter",te.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(C).concat(d).concat(h),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},te.supplyDefaults=function(u){var _={};function b(N,z){return o.coerce(u,_,te.attributes,N,z)}if(b("enabled")){var M=b("target");if(o.isArrayOrTypedArray(M)&&0===M.length)return _.enabled=!1,_;b("preservegaps"),b("operation"),b("value");var L=g.getComponentMethod("calendars","handleDefaults");L(u,_,"valuecalendar",null),L(u,_,"targetcalendar",null)}return _},te.calcTransform=function(u,_,b){if(b.enabled){var M=o.getTargetArray(_,b);if(M){var L=b.target,N=M.length;_._length&&(N=Math.min(N,_._length));var z=b.targetcalendar,k=_._arrayAttrs,D=b.preservegaps;if("string"==typeof L){var S=o.nestedProperty(_,L+"calendar").get();S&&(z=S)}var P,H,E=function(W,q,X){var ee=W.operation,ce=W.value,me=Array.isArray(ce);function ae(j){return-1!==j.indexOf(ee)}var K,le=function(j){return q(j,0,W.valuecalendar)},G=function(j){return q(j,0,X)};switch(ae(C)?K=le(me?ce[0]:ce):ae(d)?K=me?[le(ce[0]),le(ce[1])]:[le(ce),le(ce)]:ae(h)&&(K=me?ce.map(le):[le(ce)]),ee){case"=":return function(j){return G(j)===K};case"!=":return function(j){return G(j)!==K};case"<":return function(j){return G(j)<K};case"<=":return function(j){return G(j)<=K};case">":return function(j){return G(j)>K};case">=":return function(j){return G(j)>=K};case"[]":return function(j){var oe=G(j);return oe>=K[0]&&oe<=K[1]};case"()":return function(j){var oe=G(j);return oe>K[0]&&oe<K[1]};case"[)":return function(j){var oe=G(j);return oe>=K[0]&&oe<K[1]};case"(]":return function(j){var oe=G(j);return oe>K[0]&&oe<=K[1]};case"][":return function(j){var oe=G(j);return oe<=K[0]||oe>=K[1]};case")(":return function(j){var oe=G(j);return oe<K[0]||oe>K[1]};case"](":return function(j){var oe=G(j);return oe<=K[0]||oe>K[1]};case")[":return function(j){var oe=G(j);return oe<K[0]||oe>=K[1]};case"{}":return function(j){return-1!==K.indexOf(G(j))};case"}{":return function(j){return-1===K.indexOf(G(j))}}}(b,p.getDataToCoordFunc(u,_,L,M),z),I={},w={},B=0;D?(P=function(W){I[W.astr]=o.extendDeep([],W.get()),W.set(new Array(N))},H=function(W,q){var X=I[W.astr][q];W.get()[q]=X}):(P=function(W){I[W.astr]=o.extendDeep([],W.get()),W.set([])},H=function(W,q){var X=I[W.astr][q];W.get().push(X)}),Y(P);for(var $=l(_.transforms,b),T=0;T<N;T++)E(M[T])?(Y(H,T),w[B++]=$(T)):D&&B++;b._indexToPoints=w,_._length=B}}function Y(W,q){for(var X=0;X<k.length;X++)W(o.nestedProperty(_,k[X]),q)}}},{"../constants/filter_ops":210,"../lib":232,"../plots/cartesian/axes":279,"../registry":318,"./helpers":389}],388:[function(m,de,te){"use strict";var o=m("../lib"),g=m("../plot_api/plot_schema"),p=m("../plots/plots"),l=m("./helpers").pointsAccessorFunction;function c(C,d){var h,u,_,b,M,L,N,z,k,D,S=d.transform,P=d.transformIndex,H=C.transforms[P].groups,E=l(C.transforms,S);if(!o.isArrayOrTypedArray(H)||0===H.length)return[C];var I=o.filterUnique(H),w=new Array(I.length),B=H.length,$=g.findArrayAttributes(C),T=S.styles||[],Y={};for(h=0;h<T.length;h++)Y[T[h].target]=T[h].value;S.styles&&(D=o.keyedContainer(S,"styles","target","value.name"));var W={},q={};for(h=0;h<I.length;h++){W[L=I[h]]=h,q[L]=0,(N=w[h]=o.extendDeepNoArrays({},C))._group=L,N.transforms[P]._indexToPoints={};var X=null;for(D&&(X=D.get(L)),N.name=X||""===X?X:o.templateString(S.nameformat,{trace:C.name,group:L}),z=N.transforms,N.transforms=[],u=0;u<z.length;u++)N.transforms[u]=o.extendDeepNoArrays({},z[u]);for(u=0;u<$.length;u++)o.nestedProperty(N,$[u]).set([])}for(_=0;_<$.length;_++){for(b=$[_],u=0,k=[];u<I.length;u++)k[u]=o.nestedProperty(w[u],b).get();for(M=o.nestedProperty(C,b).get(),u=0;u<B;u++)k[W[H[u]]].push(M[u])}for(u=0;u<B;u++)(N=w[W[H[u]]]).transforms[P]._indexToPoints[q[H[u]]]=E(u),q[H[u]]++;for(h=0;h<I.length;h++)L=I[h],p.clearExpandedTraceDefaultColors(N=w[h]),N=o.extendDeepNoArrays(N,Y[L]||{});return w}te.moduleType="transform",te.name="groupby",te.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},te.supplyDefaults=function(C,d,h){var u,_={};function b(k,D){return o.coerce(C,_,te.attributes,k,D)}if(!b("enabled"))return _;b("groups"),b("nameformat",h._dataLength>1?"%{group} (%{trace})":"%{group}");var M=C.styles,L=_.styles=[];if(M)for(u=0;u<M.length;u++){var N=L[u]={};o.coerce(M[u],L[u],te.attributes.styles,"target");var z=o.coerce(M[u],L[u],te.attributes.styles,"value");o.isPlainObject(z)?N.value=o.extendDeep({},z):z&&delete N.value}return _},te.transform=function(C,d){var h,u,_,b=[];for(u=0;u<C.length;u++)for(h=c(C[u],d),_=0;_<h.length;_++)b.push(h[_]);return b}},{"../lib":232,"../plot_api/plot_schema":267,"../plots/plots":316,"./helpers":389}],389:[function(m,de,te){"use strict";te.pointsAccessorFunction=function(o,g){for(var p,l,c=0;c<o.length&&(p=o[c])!==g;c++)p._indexToPoints&&!1!==p.enabled&&(l=p._indexToPoints);return l?function(C){return l[C]}:function(C){return[C]}}},{}],390:[function(m,de,te){"use strict";var o=m("../lib"),g=m("../plots/cartesian/axes"),p=m("./helpers").pointsAccessorFunction,l=m("../constants/numerical").BADNUM;te.moduleType="transform",te.name="sort",te.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},te.supplyDefaults=function(c){var C={};function d(h,u){return o.coerce(c,C,te.attributes,h,u)}return d("enabled")&&(d("target"),d("order")),C},te.calcTransform=function(c,C,d){if(d.enabled){var h=o.getTargetArray(C,d);if(h){var u=d.target,_=h.length;C._length&&(_=Math.min(_,C._length));var b,M,L=C._arrayAttrs,N=function(H,E,I,w){var B,$=new Array(w),T=new Array(w);for(B=0;B<w;B++)$[B]={v:E[B],i:B};for($.sort(function(Y,W){switch(Y.order){case"ascending":return function(q,X){var ee=W(q.v),ce=W(X.v);return ee===l?1:ce===l?-1:ee-ce};case"descending":return function(q,X){var ee=W(q.v),ce=W(X.v);return ee===l?1:ce===l?-1:ce-ee}}}(H,I)),B=0;B<w;B++)T[B]=$[B].i;return T}(d,h,g.getDataToCoordFunc(c,C,u,h),_),z=p(C.transforms,d),k={};for(b=0;b<L.length;b++){var D=o.nestedProperty(C,L[b]),S=D.get(),P=new Array(_);for(M=0;M<_;M++)P[M]=S[N[M]];D.set(P)}for(M=0;M<_;M++)k[M]=z(N[M]);d._indexToPoints=k,C._length=_}}}},{"../constants/numerical":212,"../lib":232,"../plots/cartesian/axes":279,"./helpers":389}],391:[function(m,de,te){"use strict";te.version="2.12.0"},{}]},{},[8])(8)}},x3=>{x3(x3.s=333)}]);