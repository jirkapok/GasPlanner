(self.webpackChunkplanner=self.webpackChunkplanner||[]).push([[590],{192:(z2,Fo,Ya)=>{"use strict";function Ps(t,n,e,r,i,a,s){try{var l=t[a](s),M=l.value}catch(R){return void e(R)}l.done?n(M):Promise.resolve(M).then(r,i)}let K=null,p=1;const T=Symbol("SIGNAL");function v(t){const n=K;return K=t,n}function C(t){if((!b(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==p)){if(!t.producerMustRecompute(t)&&!S(t))return t.dirty=!1,void(t.lastCleanEpoch=p);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=p}}function S(t){N(t);for(let n=0;n<t.producerNode.length;n++){const e=t.producerNode[n],r=t.producerLastReadVersion[n];if(r!==e.version||(C(e),r!==e.version))return!0}return!1}function H(t,n){if(function V(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),N(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)H(t.producerNode[r],t.producerIndexOfThis[r]);const e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[n],i=t.liveConsumerNode[n];N(i),i.producerIndexOfThis[r]=n}}function b(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function N(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let W=null;function we(t){return"function"==typeof t}function Le(t){const e=t(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const B=Le(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function P(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class X{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const a of e)a.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(we(r))try{r()}catch(a){n=a instanceof B?a.errors:[a]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const a of i)try{ae(a)}catch(s){n=n??[],s instanceof B?n=[...n,...s.errors]:n.push(s)}}if(n)throw new B(n)}}add(n){var e;if(n&&n!==this)if(this.closed)ae(n);else{if(n instanceof X){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&P(e,n)}remove(n){const{_finalizers:e}=this;e&&P(e,n),n instanceof X&&n._removeParent(this)}}X.EMPTY=(()=>{const t=new X;return t.closed=!0,t})();const j=X.EMPTY;function I(t){return t instanceof X||t&&"closed"in t&&we(t.remove)&&we(t.add)&&we(t.unsubscribe)}function ae(t){we(t)?t():t.unsubscribe()}const O={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ne={setTimeout(t,n,...e){const{delegate:r}=ne;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=ne;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function be(t){ne.setTimeout(()=>{const{onUnhandledError:n}=O;if(!n)throw t;n(t)})}function ze(){}const Ne=Te("C",void 0,void 0);function Te(t,n,e){return{kind:t,value:n,error:e}}let Ve=null;function Pe(t){if(O.useDeprecatedSynchronousErrorHandling){const n=!Ve;if(n&&(Ve={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:r}=Ve;if(Ve=null,e)throw r}}else t()}class Xe extends X{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,I(n)&&n.add(this)):this.destination=Ut}static create(n,e,r){return new kt(n,e,r)}next(n){this.isStopped?nn(function Be(t){return Te("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?nn(function Oe(t){return Te("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?nn(Ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function st(t,n){return Ge.call(t,n)}class wt{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){At(r)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){At(r)}else At(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){At(e)}}}class kt extends Xe{constructor(n,e,r){let i;if(super(),we(n)||!n)i={next:n??void 0,error:e??void 0,complete:r??void 0};else{let a;this&&O.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&st(n.next,a),error:n.error&&st(n.error,a),complete:n.complete&&st(n.complete,a)}):i=n}this.destination=new wt(i)}}function At(t){O.useDeprecatedSynchronousErrorHandling?function Je(t){O.useDeprecatedSynchronousErrorHandling&&Ve&&(Ve.errorThrown=!0,Ve.error=t)}(t):be(t)}function nn(t,n){const{onStoppedNotification:e}=O;e&&ne.setTimeout(()=>e(t,n))}const Ut={closed:!0,next:ze,error:function Qt(t){throw t},complete:ze},Lt="function"==typeof Symbol&&Symbol.observable||"@@observable";function Xt(t){return t}function Yt(t){return 0===t.length?Xt:1===t.length?t[0]:function(e){return t.reduce((r,i)=>i(r),e)}}let tn=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,i){const a=function Ke(t){return t&&t instanceof Xe||function rn(t){return t&&we(t.next)&&we(t.error)&&we(t.complete)}(t)&&I(t)}(e)?e:new kt(e,r,i);return Pe(()=>{const{operator:s,source:l}=this;a.add(s?s.call(a,l):l?this._subscribe(a):this._trySubscribe(a))}),a}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=dn(r))((i,a)=>{const s=new kt({next:l=>{try{e(l)}catch(M){a(M),s.unsubscribe()}},error:a,complete:i});this.subscribe(s)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[Lt](){return this}pipe(...e){return Yt(e)(this)}toPromise(e){return new(e=dn(e))((r,i)=>{let a;this.subscribe(s=>a=s,s=>i(s),()=>r(a))})}}return t.create=n=>new t(n),t})();function dn(t){var n;return null!==(n=t??O.Promise)&&void 0!==n?n:Promise}const St=Le(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let dt=(()=>{class t extends tn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new Re(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new St}next(e){Pe(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){Pe(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){Pe(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:a}=this;return r||i?j:(this.currentObservers=null,a.push(e),new X(()=>{this.currentObservers=null,P(a,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:a}=this;r?e.error(i):a&&e.complete()}asObservable(){const e=new tn;return e.source=this,e}}return t.create=(n,e)=>new Re(n,e),t})();class Re extends dt{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,n)}error(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==r?r:j}}class it extends dt{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function ye(t){return we(t?.lift)}function De(t){return n=>{if(ye(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function $e(t,n,e,r,i){return new je(t,n,e,r,i)}class je extends Xe{constructor(n,e,r,i,a,s){super(n),this.onFinalize=a,this.shouldUnsubscribe=s,this._next=e?function(l){try{e(l)}catch(M){n.error(M)}}:super._next,this._error=i?function(l){try{i(l)}catch(M){n.error(M)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Ye(t,n){return De((e,r)=>{let i=0;e.subscribe($e(r,a=>{r.next(t.call(n,a,i++))}))})}const Rt="https://g.co/ng/security#xss";class tt extends Error{constructor(n,e){super(function yt(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}function Yn(t){return n=>{setTimeout(t,void 0,n)}}const Kt=class Gn extends dt{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,r){let i=n,a=e||(()=>null),s=r;if(n&&"object"==typeof n){const M=n;i=M.next?.bind(M),a=M.error?.bind(M),s=M.complete?.bind(M)}this.__isAsync&&(a=Yn(a),i&&(i=Yn(i)),s&&(s=Yn(s)));const l=super.subscribe({next:i,error:a,complete:s});return n instanceof X&&n.add(l),l}};var bn=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(bn||{});function Zt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Zt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function Nn(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}var un=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(un||{}),sn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(sn||{});function Jt(t){return{toString:t}.toString()}const Mn=globalThis,xn={},wn=[];function Xn(t){for(let n in t)if(t[n]===Xn)return n;throw Error("Could not find renamed property on target object.")}function gr(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}const Cr=Xn({\u0275cmp:Xn}),ci=Xn({\u0275dir:Xn}),Mr=Xn({\u0275pipe:Xn}),Hr=Xn({\u0275mod:Xn}),ei=Xn({\u0275fac:Xn}),Di=Xn({__NG_ELEMENT_ID__:Xn}),oa=Xn({__NG_ENV_ID__:Xn});var Er=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Er||{});function qi(t,n,e){let r=t.length;for(;;){const i=t.indexOf(n,e);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const a=n.length;if(i+a===r||t.charCodeAt(i+a)<=32)return i}e=i+1}}function Qr(t,n,e){let r=0;for(;r<e.length;){const i=e[r];if("number"==typeof i){if(0!==i)break;r++;const a=e[r++],s=e[r++],l=e[r++];t.setAttribute(n,s,l,a)}else{const a=i,s=e[++r];ti(a)?t.setProperty(n,a,s):t.setAttribute(n,a,s),r++}}return r}function hi(t){return 3===t||4===t||6===t}function ti(t){return 64===t.charCodeAt(0)}function xi(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?e=i:0===e||Sr(t,e,i,null,-1===e||2===e?n[++r]:null)}}return t}function Sr(t,n,e,r,i){let a=0,s=t.length;if(-1===n)s=-1;else for(;a<t.length;){const l=t[a++];if("number"==typeof l){if(l===n){s=-1;break}if(l>n){s=a-1;break}}}for(;a<t.length;){const l=t[a];if("number"==typeof l)break;if(l===e){if(null===r)return void(null!==i&&(t[a+1]=i));if(r===t[a+1])return void(t[a+2]=i)}a++,null!==r&&a++,null!==i&&a++}-1!==s&&(t.splice(s,0,n),a=s+1),t.splice(a++,0,e),null!==r&&t.splice(a++,0,r),null!==i&&t.splice(a++,0,i)}const Vr="ng-template";function ni(t,n,e){let r=0,i=!0;for(;r<t.length;){let a=t[r++];if("string"==typeof a&&i){const s=t[r++];if(e&&"class"===a&&-1!==qi(s.toLowerCase(),n,0))return!0}else{if(1===a){for(;r<t.length&&"string"==typeof(a=t[r++]);)if(a.toLowerCase()===n)return!0;return!1}"number"==typeof a&&(i=!1)}}return!1}function Wi(t){return 4===t.type&&t.value!==Vr}function ia(t,n,e){return n===(4!==t.type||e?t.value:Vr)}function zi(t,n,e){let r=4;const i=t.attrs||[],a=function wi(t){for(let n=0;n<t.length;n++)if(hi(t[n]))return n;return t.length}(i);let s=!1;for(let l=0;l<n.length;l++){const M=n[l];if("number"!=typeof M){if(!s)if(4&r){if(r=2|1&r,""!==M&&!ia(t,M,e)||""===M&&1===n.length){if(Jr(r))return!1;s=!0}}else{const R=8&r?M:n[++l];if(8&r&&null!==t.attrs){if(!ni(t.attrs,R,e)){if(Jr(r))return!1;s=!0}continue}const Ce=rs(8&r?"class":M,i,Wi(t),e);if(-1===Ce){if(Jr(r))return!1;s=!0;continue}if(""!==R){let We;We=Ce>a?"":i[Ce+1].toLowerCase();const rt=8&r?We:null;if(rt&&-1!==qi(rt,R,0)||2&r&&R!==We){if(Jr(r))return!1;s=!0}}}}else{if(!s&&!Jr(r)&&!Jr(M))return!1;if(s&&Jr(M))continue;s=!1,r=M|1&r}}return Jr(r)||s}function Jr(t){return 0==(1&t)}function rs(t,n,e,r){if(null===n)return-1;let i=0;if(r||!e){let a=!1;for(;i<n.length;){const s=n[i];if(s===t)return i;if(3===s||6===s)a=!0;else{if(1===s||2===s){let l=n[++i];for(;"string"==typeof l;)l=n[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=a?1:2}return-1}return function k1(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const r=t[e];if("number"==typeof r)return-1;if(r===n)return e;e++}return-1}(n,t)}function pa(t,n,e=!1){for(let r=0;r<n.length;r++)if(zi(t,n[r],e))return!0;return!1}function is(t,n){e:for(let e=0;e<n.length;e++){const r=n[e];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function va(t,n){return t?":not("+n.trim()+")":n}function Za(t){let n=t[0],e=1,r=2,i="",a=!1;for(;e<t.length;){let s=t[e];if("string"==typeof s)if(2&r){const l=t[++e];i+="["+s+(l.length>0?'="'+l+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Jr(s)&&(n+=va(a,i),i=""),r=s,a=a||!Jr(r);e++}return""!==i&&(n+=va(a,i)),n}function ur(t){return Jt(()=>{const n=Oo(t),e={...n,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===un.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||sn.Emulated,styles:t.styles||wn,_:null,schemas:t.schemas||null,tView:null,id:""};ki(e);const r=t.dependencies;return e.directiveDefs=ps(r,!1),e.pipeDefs=ps(r,!0),e.id=function Kl(t){let n=0;const e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of e)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(e),e})}function hs(t){return Nr(t)||_a(t)}function G1(t){return null!==t}function Yr(t){return Jt(()=>({type:t.type,bootstrap:t.bootstrap||wn,declarations:t.declarations||wn,imports:t.imports||wn,exports:t.exports||wn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ri(t,n){if(null==t)return xn;const e={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];let a,s,l=Er.None;Array.isArray(i)?(l=i[0],a=i[1],s=i[2]??a):(a=i,s=i),n?(e[a]=l!==Er.None?[r,l]:r,n[a]=s):e[a]=r}return e}function nr(t){return Jt(()=>{const n=Oo(t);return ki(n),n})}function Hi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Nr(t){return t[Cr]||null}function _a(t){return t[ci]||null}function Sa(t){return t[Mr]||null}function ta(t,n){const e=t[Hr]||null;if(!e&&!0===n)throw new Error(`Type ${Zt(t)} does not have '\u0275mod' property.`);return e}function Oo(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||xn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||wn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ri(t.inputs,n),outputs:Ri(t.outputs),debugInfo:null}}function ki(t){t.features?.forEach(n=>n(t))}function ps(t,n){if(!t)return null;const e=n?Sa:hs;return()=>("function"==typeof t?t():t).map(r=>e(r)).filter(G1)}const Ni=0,rr=1,Ar=2,ma=3,V1=4,Da=5,Ts=6,Mc=7,ji=8,as=9,Rs=10,Br=11,co=12,X3=13,Ds=14,na=15,Bo=16,V2=17,Yi=18,f2=19,Uo=20,E2=21,cl=22,Go=23,$r=25,Ql=1,d2=7,xc=9,Ea=10;var ul=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(ul||{});function vs(t){return Array.isArray(t)&&"object"==typeof t[Ql]}function ga(t){return Array.isArray(t)&&!0===t[Ql]}function wc(t){return 0!=(4&t.flags)}function $o(t){return t.componentOffset>-1}function Jl(t){return 1==(1&t.flags)}function $1(t){return!!t.template}function lo(t){return 0!=(512&t[Ar])}let Wo=!1;function Gi(t){for(;Array.isArray(t);)t=t[Ni];return t}function uo(t,n){return Gi(n[t])}function ya(t,n){return Gi(n[t.index])}function Tc(t,n){return t.data[n]}function I2(t,n){return t[n]}function e1(t,n){const e=n[t];return vs(e)?e:e[Ni]}function fo(t){return 128==(128&t[Ar])}function t1(t,n){return null==n?null:t[n]}function ho(t){t[V2]=0}function n3(t){1024&t[Ar]||(t[Ar]|=1024,fo(t)&&po(t))}function r3(t){return!!(9216&t[Ar]||t[Go]?.dirty)}function r4(t){r3(t)?po(t):64&t[Ar]&&(function g1(){return Wo}()?(t[Ar]|=1024,po(t)):t[Rs].changeDetectionScheduler?.notify())}function po(t){t[Rs].changeDetectionScheduler?.notify();let n=vo(t);for(;null!==n&&!(8192&n[Ar])&&(n[Ar]|=8192,fo(n));)n=vo(n)}function P2(t,n){if(256==(256&t[Ar]))throw new tt(911,!1);null===t[E2]&&(t[E2]=[]),t[E2].push(n)}function vo(t){const n=t[ma];return ga(n)?n[ma]:n}const Pr={lFrame:l4(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function i3(){return Pr.bindingsEnabled}function R2(){return null!==Pr.skipHydrationRootTNode}function Ln(){return Pr.lFrame.lView}function ri(){return Pr.lFrame.tView}function or(t){return Pr.lFrame.contextLView=t,t[ji]}function sr(t){return Pr.lFrame.contextLView=null,t}function Li(){let t=pl();for(;null!==t&&64===t.type;)t=t.parent;return t}function pl(){return Pr.lFrame.currentTNode}function N1(t,n){const e=Pr.lFrame;e.currentTNode=t,e.isParent=n}function a3(){return Pr.lFrame.isParent}function Hc(){Pr.lFrame.isParent=!1}function Na(){const t=Pr.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function n1(){return Pr.lFrame.bindingIndex}function Wr(){return Pr.lFrame.bindingIndex++}function h2(t){const n=Pr.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function jo(t,n){const e=Pr.lFrame;e.bindingIndex=e.bindingRootIndex=t,Lc(n)}function Lc(t){Pr.lFrame.currentDirectiveIndex=t}function o4(){return Pr.lFrame.currentQueryIndex}function o3(t){Pr.lFrame.currentQueryIndex=t}function F2(t){const n=t[rr];return 2===n.type?n.declTNode:1===n.type?t[Da]:null}function I0(t,n,e){if(e&bn.SkipSelf){let i=n,a=t;for(;!(i=i.parent,null!==i||e&bn.Host||(i=F2(a),null===i||(a=a[Ds],10&i.type))););if(null===i)return!1;n=i,t=a}const r=Pr.lFrame=c4();return r.currentTNode=n,r.lView=t,!0}function c3(t){const n=c4(),e=t[rr];Pr.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function c4(){const t=Pr.lFrame,n=null===t?null:t.child;return null===n?l4(t):n}function l4(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function u4(){const t=Pr.lFrame;return Pr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const p2=u4;function zc(){const t=u4();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function As(){return Pr.lFrame.selectedIndex}function mo(t){Pr.lFrame.selectedIndex=t}function Xi(){const t=Pr.lFrame;return Tc(t.tView,t.selectedIndex)}let f3=!0;function r1(){return f3}function O2(t){f3=t}function Xu(){return B2(Li(),Ln())}function B2(t,n){return new aa(ya(t,n))}let p3,aa=(()=>{class t{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=Xu}return t})();function P0(t){return t instanceof aa?t.nativeElement:t}function y1(t,n){t.forEach(e=>Array.isArray(e)?y1(e,n):n(e))}function Zo(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function gl(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function sa(t,n,e){let r=U2(t,n);return r>=0?t[1|r]=e:(r=~r,function Os(t,n,e,r){let i=t.length;if(i==n)t.push(e,r);else if(1===i)t.push(r,t[0]),t[0]=e;else{for(i--,t.push(t[i-1],t[i]);i>n;)t[i]=t[i-2],i--;t[n]=e,t[n+1]=r}}(t,r,n,e)),r}function v2(t,n){const e=U2(t,n);if(e>=0)return t[1|e]}function U2(t,n){return function kc(t,n,e){let r=0,i=t.length>>e;for(;i!==r;){const a=r+(i-r>>1),s=t[a<<e];if(n===s)return a<<e;s>n?i=a:r=a+1}return~(i<<e)}(t,n,1)}function yo(){return this._results[Symbol.iterator]()}class d3{static#e=Symbol.iterator;get changes(){return this._changes??=new Kt}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const e=d3.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=yo)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){this.dirty=!1;const r=function Hs(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Ku(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],a=n[r];if(e&&(i=e(i),a=e(a)),a!==i)return!1}return!0}(this._results,r,e))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function $a(t){return 128==(128&t.flags)}function g2(){if(void 0!==p3)return p3;if(typeof document<"u")return document;throw new tt(210,!1)}function In(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Fi(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ka(t){return v4(t,Jo)||v4(t,$2)}function v4(t,n){return t.hasOwnProperty(n)?t[n]:null}function ca(t){return t&&(t.hasOwnProperty(G2)||t.hasOwnProperty(v3))?t[G2]:null}const Jo=Xn({\u0275prov:Xn}),G2=Xn({\u0275inj:Xn}),$2=Xn({ngInjectableDef:Xn}),v3=Xn({ngInjectorDef:Xn});class hr{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=In({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Nc=new hr("",{providedIn:"root",factory:()=>bo}),bo="ng",m4=new hr(""),y2=new hr("",{providedIn:"platform",factory:()=>"unknown"}),m3=new hr(""),g4=new hr("",{providedIn:"root",factory:()=>g2().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),F0=Xn({__forward_ref__:Xn});function u(t){return t.__forward_ref__=u,t.toString=function(){return Zt(this())},t}function k(t){return U(t)?t():t}function U(t){return"function"==typeof t&&t.hasOwnProperty(F0)&&t.__forward_ref__===u}function Gt(t){return t&&!!t.\u0275providers}function It(t){return"string"==typeof t?t:null==t?"":String(t)}function Hn(t,n){throw new tt(-201,!1)}let Qn;function ir(){return Qn}function jn(t){const n=Qn;return Qn=t,n}function ar(t,n,e){const r=Ka(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&bn.Optional?null:void 0!==n?n:void Hn()}const cr={},wr="__NG_DI_FLAG__",li="ngTempTokenPath",ui=/\n/gm,zr="__source";let Tr;function Ti(t){const n=Tr;return Tr=t,n}function Aa(t,n=bn.Default){if(void 0===Tr)throw new tt(-203,!1);return null===Tr?ar(t,void 0,n):Tr.get(t,n&bn.Optional?null:void 0,n)}function pn(t,n=bn.Default){return(ir()||Aa)(k(t),n)}function Bn(t,n=bn.Default){return pn(t,Ja(n))}function Ja(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ba(t){const n=[];for(let e=0;e<t.length;e++){const r=k(t[e]);if(Array.isArray(r)){if(0===r.length)throw new tt(900,!1);let i,a=bn.Default;for(let s=0;s<r.length;s++){const l=r[s],M=Bs(l);"number"==typeof M?-1===M?i=l.token:a|=M:i=l}n.push(pn(i,a))}else n.push(pn(r))}return n}function Ha(t,n){return t[wr]=n,t.prototype[wr]=n,t}function Bs(t){return t[wr]}let fh=()=>null;function g3(t,n,e=!1){return fh(t,n,e)}const P1="__parameters__";function tc(t,n,e){return Jt(()=>{const r=function w4(t){return function(...e){if(t){const r=t(...e);for(const i in r)this[i]=r[i]}}}(n);function i(...a){if(this instanceof i)return r.apply(this,a),this;const s=new i(...a);return l.annotation=s,l;function l(M,R,oe){const Ce=M.hasOwnProperty(P1)?M[P1]:Object.defineProperty(M,P1,{value:[]})[P1];for(;Ce.length<=oe;)Ce.push(null);return(Ce[oe]=Ce[oe]||[]).push(s),M}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const Ml=Ha(tc("Optional"),8),Mo=Ha(tc("SkipSelf"),4);function nc(t,n){return t.hasOwnProperty(ei)?t[ei]:null}const Fc=new hr(""),Gs=new hr("",-1),nf=new hr("");class X0{get(n,e=cr){if(e===cr){const r=new Error(`NullInjectorError: No provider for ${Zt(n)}!`);throw r.name="NullInjectorError",r}return e}}function Qv(...t){return{\u0275providers:rf(0,t),\u0275fromNgModule:!0}}function rf(t,...n){const e=[],r=new Set;let i;const a=s=>{e.push(s)};return y1(n,s=>{const l=s;K0(l,a,[],r)&&(i||=[],i.push(l))}),void 0!==i&&bh(i,a),e}function bh(t,n){for(let e=0;e<t.length;e++){const{ngModule:r,providers:i}=t[e];Y2(i,a=>{n(a,r)})}}function K0(t,n,e,r){if(!(t=k(t)))return!1;let i=null,a=ca(t);const s=!a&&Nr(t);if(a||s){if(s&&!s.standalone)return!1;i=t}else{const M=t.ngModule;if(a=ca(M),!a)return!1;i=M}const l=r.has(i);if(s){if(l)return!1;if(r.add(i),s.dependencies){const M="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const R of M)K0(R,n,e,r)}}else{if(!a)return!1;{if(null!=a.imports&&!l){let R;r.add(i);try{y1(a.imports,oe=>{K0(oe,n,e,r)&&(R||=[],R.push(oe))})}finally{}void 0!==R&&bh(R,n)}if(!l){const R=nc(i)||(()=>new i);n({provide:i,useFactory:R,deps:wn},i),n({provide:nf,useValue:i,multi:!0},i),n({provide:Fc,useValue:()=>pn(i),multi:!0},i)}const M=a.providers;if(null!=M&&!l){const R=t;Y2(M,oe=>{n(oe,R)})}}}return i!==t&&void 0!==t.providers}function Y2(t,n){for(let e of t)Gt(e)&&(e=e.\u0275providers),Array.isArray(e)?Y2(e,n):n(e)}const C1=Xn({provide:String,useValue:Xn});function T4(t){return null!==t&&"object"==typeof t&&C1 in t}function xl(t){return"function"==typeof t}const wl=new hr(""),D4={},Mh={};let af;function J0(){return void 0===af&&(af=new X0),af}class M2{}class b3 extends M2{get destroyed(){return this._destroyed}constructor(n,e,r,i){super(),this.parent=e,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,t6(n,s=>this.processProvider(s)),this.records.set(Gs,_l(void 0,this)),i.has("environment")&&this.records.set(M2,_l(void 0,this));const a=this.records.get(wl);null!=a&&"string"==typeof a.value&&this.scopes.add(a.value),this.injectorDefTypes=new Set(this.get(nf,wn,bn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of n)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const e=Ti(this),r=jn(void 0);try{return n()}finally{Ti(e),jn(r)}}get(n,e=cr,r=bn.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(oa))return n[oa](this);r=Ja(r);const a=Ti(this),s=jn(void 0);try{if(!(r&bn.SkipSelf)){let M=this.records.get(n);if(void 0===M){const R=function wh(t){return"function"==typeof t||"object"==typeof t&&t instanceof hr}(n)&&Ka(n);M=R&&this.injectableDefInScope(R)?_l(q0(n),D4):null,this.records.set(n,M)}if(null!=M)return this.hydrate(n,M)}return(r&bn.Self?J0():this.parent).get(n,e=r&bn.Optional&&e===cr?null:e)}catch(l){if("NullInjectorError"===l.name){if((l[li]=l[li]||[]).unshift(Zt(n)),a)throw l;return function W2(t,n,e,r){const i=t[li];throw n[zr]&&i.unshift(n[zr]),t.message=function Ju(t,n,e,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Zt(n);if(Array.isArray(n))i=n.map(Zt).join(" -> ");else if("object"==typeof n){let a=[];for(let s in n)if(n.hasOwnProperty(s)){let l=n[s];a.push(s+":"+("string"==typeof l?JSON.stringify(l):Zt(l)))}i=`{${a.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${t.replace(ui,"\n  ")}`}("\n"+t.message,i,e,r),t.ngTokenPath=i,t[li]=null,t}(l,n,"R3InjectorError",this.source)}throw l}finally{jn(s),Ti(a)}}resolveInjectorInitializers(){const n=Ti(this),e=jn(void 0);try{const i=this.get(Fc,wn,bn.Self);for(const a of i)a()}finally{Ti(n),jn(e)}}toString(){const n=[],e=this.records;for(const r of e.keys())n.push(Zt(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new tt(205,!1)}processProvider(n){let e=xl(n=k(n))?n:k(n&&n.provide);const r=function qv(t){return T4(t)?_l(void 0,t.useValue):_l(e6(t),D4)}(n);if(!xl(n)&&!0===n.multi){let i=this.records.get(e);i||(i=_l(void 0,D4,!0),i.factory=()=>ba(i.multi),this.records.set(e,i)),e=n,i.multi.push(n)}this.records.set(e,r)}hydrate(n,e){return e.value===D4&&(e.value=Mh,e.value=e.factory()),"object"==typeof e.value&&e.value&&function sf(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=k(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(n){const e=this._onDestroyHooks.indexOf(n);-1!==e&&this._onDestroyHooks.splice(e,1)}}function q0(t){const n=Ka(t),e=null!==n?n.factory:nc(t);if(null!==e)return e;if(t instanceof hr)throw new tt(204,!1);if(t instanceof Function)return function xh(t){if(t.length>0)throw new tt(204,!1);const e=function Cl(t){return t&&(t[Jo]||t[$2])||null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new tt(204,!1)}function e6(t,n,e){let r;if(xl(t)){const i=k(t);return nc(i)||q0(i)}if(T4(t))r=()=>k(t.useValue);else if(function Q0(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...ba(t.deps||[]));else if(function Ch(t){return!(!t||!t.useExisting)}(t))r=()=>pn(k(t.useExisting));else{const i=k(t&&(t.useClass||t.provide));if(!function A4(t){return!!t.deps}(t))return nc(i)||q0(i);r=()=>new i(...ba(t.deps))}return r}function _l(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function t6(t,n){for(const e of t)Array.isArray(e)?t6(e,n):e&&Gt(e)?t6(e.\u0275providers,n):n(e)}function xo(t,n){t instanceof b3&&t.assertNotDestroyed();const r=Ti(t),i=jn(void 0);try{return n()}finally{Ti(r),jn(i)}}class Sh{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function lf(t,n,e,r){null!==n?n.applyValueToInputSignal(n,r):t[e]=r}function $s(){return Th}function Th(t){return t.type.prototype.ngOnChanges&&(t.setInput=lm),cm}function cm(){const t=Dh(this),n=t?.current;if(n){const e=t.previous;if(e===xn)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function lm(t,n,e,r,i){const a=this.declaredInputs[r],s=Dh(t)||function um(t,n){return t[uf]=n}(t,{previous:xn,current:null}),l=s.current||(s.current={}),M=s.previous,R=M[a];l[a]=new Sh(R&&R.currentValue,e,M===xn),lf(t,n,i,e)}$s.ngInherit=!0;const uf="__ngSimpleChanges__";function Dh(t){return t[uf]||null}const wo=function(t,n,e){};function x1(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){const a=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:l,ngAfterViewInit:M,ngAfterViewChecked:R,ngOnDestroy:oe}=a;s&&(t.contentHooks??=[]).push(-e,s),l&&((t.contentHooks??=[]).push(e,l),(t.contentCheckHooks??=[]).push(e,l)),M&&(t.viewHooks??=[]).push(-e,M),R&&((t.viewHooks??=[]).push(e,R),(t.viewCheckHooks??=[]).push(e,R)),null!=oe&&(t.destroyHooks??=[]).push(e,oe)}}function i6(t,n,e){hf(t,n,3,e)}function a6(t,n,e,r){(3&t[Ar])===e&&hf(t,n,e,r)}function df(t,n){let e=t[Ar];(3&e)===n&&(e&=16383,e+=1,t[Ar]=e)}function hf(t,n,e,r){const a=r??-1,s=n.length-1;let l=0;for(let M=void 0!==r?65535&t[V2]:0;M<s;M++)if("number"==typeof n[M+1]){if(l=n[M],null!=r&&l>=r)break}else n[M]<0&&(t[V2]+=65536),(l<a||-1==a)&&(hm(t,e,n,M),t[V2]=(4294901760&t[V2])+M+2),M++}function Ah(t,n){wo(4,t,n);const e=v(null);try{n.call(t)}finally{v(e),wo(5,t,n)}}function hm(t,n,e,r){const i=e[r]<0,a=e[r+1],l=t[i?-e[r]:e[r]];i?t[Ar]>>14<t[V2]>>16&&(3&t[Ar])===n&&(t[Ar]+=16384,Ah(l,a)):Ah(l,a)}const C3=-1;class L4{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function mf(t){return t!==C3}function z4(t){return 32767&t}function k4(t,n){let e=function gm(t){return t>>16}(t),r=n;for(;e>0;)r=r[Ds],e--;return r}let gf=!0;function s6(t){const n=gf;return gf=t,n}const Hh=255,Lh=5;let ym=0;const _o={};function o6(t,n){const e=c6(t,n);if(-1!==e)return e;const r=n[rr];r.firstCreatePass&&(t.injectorIndex=n.length,yf(r.data,t),yf(n,null),yf(r.blueprint,null));const i=V4(t,n),a=t.injectorIndex;if(mf(i)){const s=z4(i),l=k4(i,n),M=l[rr].data;for(let R=0;R<8;R++)n[a+R]=l[s+R]|M[s+R]}return n[a+8]=i,a}function yf(t,n){t.push(0,0,0,0,0,0,0,0,n)}function c6(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function V4(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,r=null,i=n;for(;null!==i;){if(r=Ih(i),null===r)return C3;if(e++,i=i[Ds],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return C3}function bf(t,n,e){!function bm(t,n,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(Di)&&(r=e[Di]),null==r&&(r=e[Di]=ym++);const i=r&Hh;n.data[t+(i>>Lh)]|=1<<i}(t,n,e)}function zh(t,n,e){if(e&bn.Optional||void 0!==t)return t;Hn()}function kh(t,n,e,r){if(e&bn.Optional&&void 0===r&&(r=null),!(e&(bn.Self|bn.Host))){const i=t[as],a=jn(void 0);try{return i?i.get(n,r,e&bn.Optional):ar(n,r,e&bn.Optional)}finally{jn(a)}}return zh(r,0,e)}function Vh(t,n,e,r=bn.Default,i){if(null!==t){if(2048&n[Ar]&&!(r&bn.Self)){const s=function _m(t,n,e,r,i){let a=t,s=n;for(;null!==a&&null!==s&&2048&s[Ar]&&!(512&s[Ar]);){const l=Eh(a,s,e,r|bn.Self,_o);if(l!==_o)return l;let M=a.parent;if(!M){const R=s[Uo];if(R){const oe=R.get(e,_o,r);if(oe!==_o)return oe}M=Ih(s),s=s[Ds]}a=M}return i}(t,n,e,r,_o);if(s!==_o)return s}const a=Eh(t,n,e,r,_o);if(a!==_o)return a}return kh(n,e,r,i)}function Eh(t,n,e,r,i){const a=function xm(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Di)?t[Di]:void 0;return"number"==typeof n?n>=0?n&Hh:wm:n}(e);if("function"==typeof a){if(!I0(n,t,r))return r&bn.Host?zh(i,0,r):kh(n,e,r,i);try{let s;if(s=a(r),null!=s||r&bn.Optional)return s;Hn()}finally{p2()}}else if("number"==typeof a){let s=null,l=c6(t,n),M=C3,R=r&bn.Host?n[na][Da]:null;for((-1===l||r&bn.SkipSelf)&&(M=-1===l?V4(t,n):n[l+8],M!==C3&&Nh(r,!1)?(s=n[rr],l=z4(M),n=k4(M,n)):l=-1);-1!==l;){const oe=n[rr];if(E4(a,l,oe.data)){const Ce=Mm(l,n,e,s,r,R);if(Ce!==_o)return Ce}M=n[l+8],M!==C3&&Nh(r,n[rr].data[l+8]===R)&&E4(a,l,n)?(s=oe,l=z4(M),n=k4(M,n)):l=-1}}return i}function Mm(t,n,e,r,i,a){const s=n[rr],l=s.data[t+8],oe=l6(l,s,e,null==r?$o(l)&&gf:r!=s&&0!=(3&l.type),i&bn.Host&&a===l);return null!==oe?Oc(n,s,oe,l):_o}function l6(t,n,e,r,i){const a=t.providerIndexes,s=n.data,l=1048575&a,M=t.directiveStart,oe=a>>20,We=i?l+oe:t.directiveEnd;for(let rt=r?l:l+oe;rt<We;rt++){const bt=s[rt];if(rt<M&&e===bt||rt>=M&&bt.type===e)return rt}if(i){const rt=s[M];if(rt&&$1(rt)&&rt.type===e)return M}return null}function Oc(t,n,e,r){let i=t[e];const a=n.data;if(function pf(t){return t instanceof L4}(i)){const s=i;s.resolving&&function Pt(t,n){throw n&&n.join(" > "),new tt(-200,t)}(function vt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():It(t)}(a[e]));const l=s6(s.canSeeViewProviders);s.resolving=!0;const R=s.injectImpl?jn(s.injectImpl):null;I0(t,r,bn.Default);try{i=t[e]=s.factory(void 0,a,t,r),n.firstCreatePass&&e>=r.directiveStart&&function dm(t,n,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:a}=n.type.prototype;if(r){const s=Th(n);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}i&&(e.preOrderHooks??=[]).push(0-t,i),a&&((e.preOrderHooks??=[]).push(t,a),(e.preOrderCheckHooks??=[]).push(t,a))}(e,a[e],n)}finally{null!==R&&jn(R),s6(l),s.resolving=!1,p2()}}return i}function E4(t,n,e){return!!(e[n+(t>>Lh)]&1<<t)}function Nh(t,n){return!(t&bn.Self||t&bn.Host&&n)}class ys{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return Vh(this._tNode,this._lView,n,Ja(r),e)}}function wm(){return new ys(Li(),Ln())}function zs(t){return Jt(()=>{const n=t.prototype.constructor,e=n[ei]||Cf(n),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const a=i[ei]||Cf(i);if(a&&a!==e)return a;i=Object.getPrototypeOf(i)}return a=>new a})}function Cf(t){return U(t)?()=>{const n=Cf(k(t));return n&&n()}:nc(t)}function Ih(t){const n=t[rr],e=n.type;return 2===e?n.declTNode:1===e?t[Da]:null}function Gh(t,n=null,e=null,r){const i=$h(t,n,e,r);return i.resolveInjectorInitializers(),i}function $h(t,n=null,e=null,r,i=new Set){const a=[e||wn,Qv(t)];return r=r||("object"==typeof t?void 0:Zt(t)),new b3(a,n||J0(),r||null,i)}let Ws=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=cr;static#t=this.NULL=new X0;static create(e,r){if(Array.isArray(e))return Gh({name:""},r,e,"");{const i=e.name??"";return Gh({name:i},e.parent,e.providers,i)}}static#n=this.\u0275prov=In({token:t,providedIn:"any",factory:()=>pn(Gs)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function xf(t){return t.ngOriginalError}class rc{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&xf(n);for(;e&&xf(e);)e=xf(e);return e||null}}const jh=new hr("",{providedIn:"root",factory:()=>Bn(rc).handleError.bind(void 0)}),N4=new hr("",{providedIn:"root",factory:()=>!1});let p6,I4;function Tl(t){return function v6(){if(void 0===p6&&(p6=null,Mn.trustedTypes))try{p6=Mn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return p6}()?.createHTML(t)||t}function m6(){if(void 0===I4&&(I4=null,Mn.trustedTypes))try{I4=Mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return I4}function Xh(t){return m6()?.createHTML(t)||t}function Qh(t){return m6()?.createScriptURL(t)||t}class So{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Rt})`}}class g6 extends So{getTypeName(){return"HTML"}}class Lm extends So{getTypeName(){return"Style"}}class zm extends So{getTypeName(){return"Script"}}class _f extends So{getTypeName(){return"URL"}}class Jh extends So{getTypeName(){return"ResourceURL"}}function j1(t){return t instanceof So?t.changingThisBreaksApplicationSecurity:t}function To(t,n){const e=function km(t){return t instanceof So&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see ${Rt})`)}return e===n}class Rm{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(Tl(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}}class Fm{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const e=this.inertDocument.createElement("template");return e.innerHTML=Tl(n),e}}const Z2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function y6(t){return(t=String(t)).match(Z2)?t:"unsafe:"+t}function ic(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function X2(...t){const n={};for(const e of t)for(const r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}const ii=ic("area,br,col,hr,img,wbr"),e5=ic("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),w1=ic("rp,rt"),Sf=X2(ii,X2(e5,ic("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),X2(w1,ic("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),X2(w1,e5)),Tf=ic("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),t5=X2(Tf,ic("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ic("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Df=ic("script,style,template");class Bm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!Sf.hasOwnProperty(e))return this.sanitizedSomething=!0,!Df.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=n.attributes;for(let i=0;i<r.length;i++){const a=r.item(i),s=a.name,l=s.toLowerCase();if(!t5.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let M=a.value;Tf[l]&&(M=y6(M)),this.buf.push(" ",s,'="',P4(M),'"')}return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();Sf.hasOwnProperty(e)&&!ii.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(P4(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const ac=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,n5=/([^\#-~ |!])/g;function P4(t){return t.replace(/&/g,"&amp;").replace(ac,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(n5,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let la;function Ia(t,n){let e=null;try{la=la||function qh(t){const n=new Fm(t);return function Om(){try{return!!(new window.DOMParser).parseFromString(Tl(""),"text/html")}catch{return!1}}()?new Rm(n):n}(t);let r=n?String(n):"";e=la.getInertBodyElement(r);let i=5,a=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=a,a=e.innerHTML,e=la.getInertBodyElement(r)}while(r!==a);return Tl((new Bm).sanitizeChildren(b6(e)||e))}finally{if(e){const r=b6(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function b6(t){return"content"in t&&function Um(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var x2=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(x2||{});function r5(t){const n=Do();return n?Xh(n.sanitize(x2.HTML,t)||""):To(t,"HTML")?Xh(j1(t)):Ia(g2(),It(t))}function R4(t){const n=Do();return n?n.sanitize(x2.URL,t)||"":To(t,"URL")?j1(t):y6(It(t))}function a5(t){const n=Do();if(n)return Qh(n.sanitize(x2.RESOURCE_URL,t)||"");if(To(t,"ResourceURL"))return Qh(j1(t));throw new tt(904,!1)}function Do(){const t=Ln();return t&&t[Rs].sanitizer}const Wm=/^>|^->|<!--|-->|--!>|<!-$/g,jm=/(<|>)/g,Ym="\u200b$1\u200b";const C6=new Map;let _2=0;const kf="__ngContext__";function s1(t,n){vs(n)?(t[kf]=n[f2],function Xm(t){C6.set(t[f2],t)}(n)):t[kf]=n}function Pf(t){return t.ownerDocument.defaultView}function Y1(t){return t instanceof Function?t():t}var Uc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Uc||{});let Ff;function Of(t,n){return Ff(t,n)}function _3(t,n,e,r,i){if(null!=r){let a,s=!1;ga(r)?a=r:vs(r)&&(s=!0,r=r[Ni]);const l=Gi(r);0===t&&null!==e?null==i?T5(n,e,l):Hl(n,e,l,i||null,!0):1===t&&null!==e?Hl(n,e,l,i||null,!0):2===t?function A6(t,n,e){const r=T6(t,n);r&&function D5(t,n,e,r){t.removeChild(n,e,r)}(t,r,n,e)}(n,l,s):3===t&&n.destroyNode(l),null!=a&&function m9(t,n,e,r,i){const a=e[d2];a!==Gi(e)&&_3(n,t,r,a,i);for(let l=Ea;l<e.length;l++){const M=e[l];H6(M[rr],M,t,n,r,a)}}(n,t,a,e,i)}}function Bf(t,n){return t.createComment(function o5(t){return t.replace(Wm,n=>n.replace(jm,Ym))}(n))}function w6(t,n,e){return t.createElement(n,e)}function w5(t,n){H6(t,n,n[Br],2,null,null)}function _5(t,n){const e=t[xc],r=e.indexOf(n);e.splice(r,1)}function U4(t,n){if(t.length<=Ea)return;const e=Ea+n,r=t[e];if(r){const i=r[Bo];null!==i&&i!==t&&_5(i,r),n>0&&(t[e-1][V1]=r[V1]);const a=gl(t,Ea+n);!function o9(t,n){w5(t,n),n[Ni]=null,n[Da]=null}(r[rr],r);const s=a[Yi];null!==s&&s.detachView(a[rr]),r[ma]=null,r[V1]=null,r[Ar]&=-129}return r}function _6(t,n){if(!(256&n[Ar])){const e=n[Br];e.destroyNode&&H6(t,n,e,3,null,null),function l9(t){let n=t[co];if(!n)return Uf(t[rr],t);for(;n;){let e=null;if(vs(n))e=n[co];else{const r=n[Ea];r&&(e=r)}if(!e){for(;n&&!n[V1]&&n!==t;)vs(n)&&Uf(n[rr],n),n=n[ma];null===n&&(n=t),vs(n)&&Uf(n[rr],n),e=n&&n[V1]}n=e}}(n)}}function Uf(t,n){if(!(256&n[Ar])){n[Ar]&=-129,n[Ar]|=256,n[Go]&&function E(t){if(N(t),b(t))for(let n=0;n<t.producerNode.length;n++)H(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(n[Go]),function h9(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let r=0;r<e.length;r+=2){const i=n[e[r]];if(!(i instanceof L4)){const a=e[r+1];if(Array.isArray(a))for(let s=0;s<a.length;s+=2){const l=i[a[s]],M=a[s+1];wo(4,l,M);try{M.call(l)}finally{wo(5,l,M)}}else{wo(4,i,a);try{a.call(i)}finally{wo(5,i,a)}}}}}(t,n),function d9(t,n){const e=t.cleanup,r=n[Mc];if(null!==e)for(let a=0;a<e.length-1;a+=2)if("string"==typeof e[a]){const s=e[a+3];s>=0?r[s]():r[-s].unsubscribe(),a+=2}else e[a].call(r[e[a+1]]);null!==r&&(n[Mc]=null);const i=n[E2];if(null!==i){n[E2]=null;for(let a=0;a<i.length;a++)(0,i[a])()}}(t,n),1===n[rr].type&&n[Br].destroy();const e=n[Bo];if(null!==e&&ga(n[ma])){e!==n[ma]&&_5(e,n);const r=n[Yi];null!==r&&r.detachView(t)}!function Km(t){C6.delete(t[f2])}(n)}}function Gf(t,n,e){return function S5(t,n,e){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return e[Ni];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:a}=t.data[r.directiveStart+i];if(a===sn.None||a===sn.Emulated)return null}return ya(r,e)}}(t,n.parent,e)}function Hl(t,n,e,r,i){t.insertBefore(n,e,r,i)}function T5(t,n,e){t.appendChild(n,e)}function S6(t,n,e,r,i){null!==r?Hl(t,n,e,r,i):T5(t,n,e)}function T6(t,n){return t.parentNode(n)}function A5(t,n,e){return H5(t,n,e)}let $f,H5=function D6(t,n,e){return 40&t.type?ya(t,e):null};function Zs(t,n,e,r){const i=Gf(t,r,n),a=n[Br],l=A5(r.parent||n[Da],r,n);if(null!=i)if(Array.isArray(e))for(let M=0;M<e.length;M++)S6(a,i,e[M],l,!1);else S6(a,i,e,l,!1);void 0!==$f&&$f(a,r,n,e,i)}function Ll(t,n){if(null!==n){const e=n.type;if(3&e)return ya(n,t);if(4&e)return Wf(-1,t[n.index]);if(8&e){const r=n.child;if(null!==r)return Ll(t,r);{const i=t[n.index];return ga(i)?Wf(-1,i):Gi(i)}}if(32&e)return Of(n,t)()||Gi(t[n.index]);{const r=z5(t,n);return null!==r?Array.isArray(r)?r[0]:Ll(vo(t[na]),r):Ll(t,n.next)}}return null}function z5(t,n){return null!==n?t[na][Da].projection[n.projection]:null}function Wf(t,n){const e=Ea+t+1;if(e<n.length){const r=n[e],i=r[rr].firstChild;if(null!==i)return Ll(r,i)}return n[d2]}function G4(t,n,e,r,i,a,s){for(;null!=e;){const l=r[e.index],M=e.type;if(s&&0===n&&(l&&s1(Gi(l),r),e.flags|=2),32!=(32&e.flags))if(8&M)G4(t,n,e.child,r,i,a,!1),_3(n,t,i,l,a);else if(32&M){const R=Of(e,r);let oe;for(;oe=R();)_3(n,t,i,oe,a);_3(n,t,i,l,a)}else 16&M?V5(t,n,r,e,i,a):_3(n,t,i,l,a);e=s?e.projectionNext:e.next}}function H6(t,n,e,r,i,a){G4(e,r,t.firstChild,n,i,a,!1)}function V5(t,n,e,r,i,a){const s=e[na],M=s[Da].projection[r.projection];if(Array.isArray(M))for(let R=0;R<M.length;R++)_3(n,t,i,M[R],a);else{let R=M;const oe=s[ma];$a(r)&&(R.flags|=128),G4(t,n,R,oe,i,a,!0)}}function Yf(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function E5(t,n,e){const{mergedAttrs:r,classes:i,styles:a}=e;null!==r&&Qr(t,n,r),null!==i&&Yf(t,n,i),null!==a&&function y9(t,n,e){t.setAttribute(n,"style",e)}(t,n,a)}const ai={};function _e(t=1){L6(ri(),Ln(),As()+t,!1)}function L6(t,n,e,r){if(!r)if(3==(3&n[Ar])){const a=t.preOrderCheckHooks;null!==a&&i6(n,a,e)}else{const a=t.preOrderHooks;null!==a&&a6(n,a,0,e)}mo(e)}function Dt(t,n=bn.Default){const e=Ln();return null===e?pn(t,n):Vh(Li(),e,k(t),n)}function I5(t,n,e,r,i,a){const s=v(null);try{let l=null;i&Er.SignalBased&&(l=n[r][T]),null!==l&&void 0!==l.transformFn&&(a=l.transformFn(a)),i&Er.HasDecoratorInputTransform&&(a=t.inputTransforms[r].call(n,a)),null!==t.setInput?t.setInput(n,l,a,e,r):lf(n,l,r,a)}finally{v(s)}}function z6(t,n,e,r,i,a,s,l,M,R,oe){const Ce=n.blueprint.slice();return Ce[Ni]=i,Ce[Ar]=204|r,(null!==R||t&&2048&t[Ar])&&(Ce[Ar]|=2048),ho(Ce),Ce[ma]=Ce[Ds]=t,Ce[ji]=e,Ce[Rs]=s||t&&t[Rs],Ce[Br]=l||t&&t[Br],Ce[as]=M||t&&t[as]||null,Ce[Da]=a,Ce[f2]=function l5(){return _2++}(),Ce[Ts]=oe,Ce[Uo]=R,Ce[na]=2==n.type?t[na]:Ce,Ce}function S3(t,n,e,r,i){let a=t.data[n];if(null===a)a=function Zf(t,n,e,r,i){const a=pl(),s=a3(),M=t.data[n]=function T9(t,n,e,r,i,a){let s=n?n.injectorIndex:-1,l=0;return R2()&&(l|=128),{type:e,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?a:a&&a.parent,e,n,r,i);return null===t.firstChild&&(t.firstChild=M),null!==a&&(s?null==a.child&&null!==M.parent&&(a.child=M):null===a.next&&(a.next=M,M.prev=a)),M}(t,n,e,r,i),function uh(){return Pr.lFrame.inI18n}()&&(a.flags|=32);else if(64&a.type){a.type=e,a.value=r,a.attrs=i;const s=function vl(){const t=Pr.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();a.injectorIndex=null===s?-1:s.injectorIndex}return N1(a,!0),a}function $4(t,n,e,r){if(0===e)return-1;const i=n.length;for(let a=0;a<e;a++)n.push(r),t.blueprint.push(r),t.data.push(null);return i}function P5(t,n,e,r,i){const a=As(),s=2&r;try{mo(-1),s&&n.length>$r&&L6(t,n,$r,!1),wo(s?2:0,i),e(r,i)}finally{mo(a),wo(s?3:1,i)}}function Xf(t,n,e){if(wc(n)){const r=v(null);try{const a=n.directiveEnd;for(let s=n.directiveStart;s<a;s++){const l=t.data[s];l.contentQueries&&l.contentQueries(1,e[s],s)}}finally{v(r)}}}function Kf(t,n,e){i3()&&(function mr(t,n,e,r){const i=e.directiveStart,a=e.directiveEnd;$o(e)&&function X1(t,n,e){const r=ya(n,t),i=R5(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const l=B5(t,z6(t,i,null,s,r,n,null,t[Rs].rendererFactory.createRenderer(r,e),null,null,null));t[n.index]=l}(n,e,t.data[i+e.componentOffset]),t.firstCreatePass||o6(e,n),s1(r,n);const s=e.initialInputs;for(let l=i;l<a;l++){const M=t.data[l],R=Oc(n,t,l,e);s1(R,n),null!==s&&oc(0,l-i,R,M,0,s),$1(M)&&(e1(e.index,n)[ji]=Oc(n,t,l,e))}}(t,n,e,ya(e,n)),64==(64&e.flags)&&_r(t,n,e))}function Qf(t,n,e=ya){const r=n.localNames;if(null!==r){let i=n.index+1;for(let a=0;a<r.length;a+=2){const s=r[a+1],l=-1===s?e(n,t):t[s];t[i++]=l}}}function R5(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Jf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Jf(t,n,e,r,i,a,s,l,M,R,oe){const Ce=$r+r,We=Ce+i,rt=function C9(t,n){const e=[];for(let r=0;r<n;r++)e.push(r<t?null:ai);return e}(Ce,We),bt="function"==typeof R?R():R;return rt[rr]={type:t,blueprint:rt,template:e,queries:null,viewQuery:l,declTNode:n,data:rt.slice().fill(null,Ce),bindingStartIndex:Ce,expandoStartIndex:We,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:M,consts:bt,incompleteFirstPass:!1,ssrId:oe}}let F5=()=>null;function d(t,n,e,r,i){for(let a in n){if(!n.hasOwnProperty(a))continue;const s=n[a];if(void 0===s)continue;r??={};let l,M=Er.None;Array.isArray(s)?(l=s[0],M=s[1]):l=s;let R=a;if(null!==i){if(!i.hasOwnProperty(a))continue;R=i[a]}0===t?A(r,e,R,l,M):A(r,e,R,l)}return r}function A(t,n,e,r,i){let a;t.hasOwnProperty(e)?(a=t[e]).push(n,r):a=t[e]=[n,r],void 0!==i&&a.push(i)}function Ze(t,n,e,r,i,a,s,l){const M=ya(n,e);let oe,R=n.inputs;!l&&null!=R&&(oe=R[r])?(A9(t,e,oe,r,i),$o(n)&&function Ct(t,n){const e=e1(n,t);16&e[Ar]||(e[Ar]|=64)}(e,n.index)):3&n.type&&(r=function Ee(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,n.value||"",r):i,a.setProperty(M,r,i))}function fn(t,n,e,r){if(i3()){const i=null===r?null:{"":-1},a=function gi(t,n){const e=t.directiveRegistry;let r=null,i=null;if(e)for(let a=0;a<e.length;a++){const s=e[a];if(pa(n,s.selectors,!1))if(r||(r=[]),$1(s))if(null!==s.findHostDirectiveDefs){const l=[];i=i||new Map,s.findHostDirectiveDefs(s,l,i),r.unshift(...l,s),Rr(t,n,l.length)}else r.unshift(s),Rr(t,n,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,e);let s,l;null===a?s=l=null:[s,l]=a,null!==s&&On(t,n,e,s,i,l),i&&function Si(t,n,e){if(n){const r=t.localNames=[];for(let i=0;i<n.length;i+=2){const a=e[n[i+1]];if(null==a)throw new tt(-301,!1);r.push(n[i],a)}}}(e,r,i)}e.mergedAttrs=xi(e.mergedAttrs,e.attrs)}function On(t,n,e,r,i,a){for(let R=0;R<r.length;R++)bf(o6(e,n),t,r[R].type);!function Z1(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}(e,t.data.length,r.length);for(let R=0;R<r.length;R++){const oe=r[R];oe.providersResolver&&oe.providersResolver(oe)}let s=!1,l=!1,M=$4(t,n,r.length,null);for(let R=0;R<r.length;R++){const oe=r[R];e.mergedAttrs=xi(e.mergedAttrs,oe.hostAttrs),_1(t,e,n,M,oe),Ai(M,oe,i),null!==oe.contentQueries&&(e.flags|=4),(null!==oe.hostBindings||null!==oe.hostAttrs||0!==oe.hostVars)&&(e.flags|=64);const Ce=oe.type.prototype;!s&&(Ce.ngOnChanges||Ce.ngOnInit||Ce.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),s=!0),!l&&(Ce.ngOnChanges||Ce.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),l=!0),M++}!function ee(t,n,e){const i=n.directiveEnd,a=t.data,s=n.attrs,l=[];let M=null,R=null;for(let oe=n.directiveStart;oe<i;oe++){const Ce=a[oe],We=e?e.get(Ce):null,bt=We?We.outputs:null;M=d(0,Ce.inputs,oe,M,We?We.inputs:null),R=d(1,Ce.outputs,oe,R,bt);const Bt=null===M||null===s||Wi(n)?null:O5(M,oe,s);l.push(Bt)}null!==M&&(M.hasOwnProperty("class")&&(n.flags|=8),M.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=l,n.inputs=M,n.outputs=R}(t,e,a)}function _r(t,n,e){const r=e.directiveStart,i=e.directiveEnd,a=e.index,s=function N0(){return Pr.lFrame.currentDirectiveIndex}();try{mo(a);for(let l=r;l<i;l++){const M=t.data[l],R=n[l];Lc(l),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&Ur(M,R)}}finally{mo(-1),Lc(s)}}function Ur(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Rr(t,n,e){n.componentOffset=e,(t.components??=[]).push(n.index)}function Ai(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;$1(n)&&(e[""]=t)}}function _1(t,n,e,r,i){t.data[r]=i;const a=i.factory||(i.factory=nc(i.type)),s=new L4(a,$1(i),Dt);t.blueprint[r]=s,e[r]=s,function Un(t,n,e,r,i){const a=i.hostBindings;if(a){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const l=~n.index;(function Jn(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(s)!=l&&s.push(l),s.push(e,r,a)}}(t,n,r,$4(t,e,i.hostVars,ai),i)}function $i(t,n,e,r,i,a){const s=ya(t,n);!function K1(t,n,e,r,i,a,s){if(null==a)t.removeAttribute(n,i,e);else{const l=null==s?It(a):s(a,r||"",i);t.setAttribute(n,i,l,e)}}(n[Br],s,a,t.value,e,r,i)}function oc(t,n,e,r,i,a){const s=a[n];if(null!==s)for(let l=0;l<s.length;)I5(r,e,s[l++],s[l++],s[l++],s[l++])}function O5(t,n,e){let r=null,i=0;for(;i<e.length;){const a=e[i];if(0!==a)if(5!==a){if("number"==typeof a)break;if(t.hasOwnProperty(a)){null===r&&(r=[]);const s=t[a];for(let l=0;l<s.length;l+=3)if(s[l]===n){r.push(a,s[l+1],s[l+2],e[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Ox(t,n,e,r){return[t,!0,0,n,null,r,null,e,null,null]}function Bx(t,n){const e=t.contentQueries;if(null!==e){const r=v(null);try{for(let i=0;i<e.length;i+=2){const s=e[i+1];if(-1!==s){const l=t.data[s];o3(e[i]),l.contentQueries(2,n[s],s)}}}finally{v(r)}}}function B5(t,n){return t[co]?t[X3][V1]=n:t[co]=n,t[X3]=n,n}function D9(t,n,e){o3(0);const r=v(null);try{n(t,e)}finally{v(r)}}function Ux(t){return t[Mc]||(t[Mc]=[])}function Gx(t){return t.cleanup||(t.cleanup=[])}function U5(t,n){const e=t[as],r=e?e.get(rc,null):null;r&&r.handleError(n)}function A9(t,n,e,r,i){for(let a=0;a<e.length;){const s=e[a++],l=e[a++],M=e[a++];I5(t.data[s],n[s],r,l,M,i)}}function zl(t,n,e){const r=uo(n,t);!function x5(t,n,e){t.setValue(n,e)}(t[Br],r,e)}function UG(t,n){const e=e1(n,t),r=e[rr];!function GG(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])}(r,e);const i=e[Ni];null!==i&&null===e[Ts]&&(e[Ts]=g3(i,e[as])),H9(r,e,e[ji])}function H9(t,n,e){c3(n);try{const r=t.viewQuery;null!==r&&D9(1,r,e);const i=t.template;null!==i&&P5(t,n,i,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),n[Yi]?.finishViewCreation(t),t.staticContentQueries&&Bx(t,n),t.staticViewQueries&&D9(2,t.viewQuery,e);const a=t.components;null!==a&&function $G(t,n){for(let e=0;e<n.length;e++)UG(t,n[e])}(n,a)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[Ar]&=-5,zc()}}function k6(t,n){return!n||null===n.firstChild||$a(t)}function e8(t,n,e,r=!0){const i=n[rr];if(function u9(t,n,e,r){const i=Ea+r,a=e.length;r>0&&(e[i-1][V1]=n),r<a-Ea?(n[V1]=e[i],Zo(e,Ea+r,n)):(e.push(n),n[V1]=null),n[ma]=e;const s=n[Bo];null!==s&&e!==s&&function f9(t,n){const e=t[xc];n[na]!==n[ma][ma][na]&&(t[Ar]|=ul.HasTransplantedViews),null===e?t[xc]=[n]:e.push(n)}(s,n);const l=n[Yi];null!==l&&l.insertView(t),r4(n),n[Ar]|=128}(i,n,t,e),r){const s=Wf(e,t),l=n[Br],M=T6(l,t[d2]);null!==M&&function c9(t,n,e,r,i,a){r[Ni]=i,r[Da]=n,H6(t,r,e,1,i,a)}(i,t[Da],l,n,M,s)}const a=n[Ts];null!==a&&null!==a.firstChild&&(a.firstChild=null)}function t8(t,n,e,r,i=!1){for(;null!==e;){const a=n[e.index];null!==a&&r.push(Gi(a)),ga(a)&&jx(a,r);const s=e.type;if(8&s)t8(t,n,e.child,r);else if(32&s){const l=Of(e,n);let M;for(;M=l();)r.push(M)}else if(16&s){const l=z5(n,e);if(Array.isArray(l))r.push(...l);else{const M=vo(n[na]);t8(M[rr],M,l,r,!0)}}e=i?e.projectionNext:e.next}return r}function jx(t,n){for(let e=Ea;e<t.length;e++){const r=t[e],i=r[rr].firstChild;null!==i&&t8(r[rr],r,i,n)}t[d2]!==t[Ni]&&n.push(t[d2])}let Yx=[];const ZG={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{po(t.lView)},consumerOnSignalRead(){this.lView[Go]=this}};function Zx(t){return Kx(t[co])}function Xx(t){return Kx(t[V1])}function Kx(t){for(;null!==t&&!ga(t);)t=t[V1];return t}function G5(t,n=!0,e=0){const r=t[Rs],i=r.rendererFactory;i.begin?.();try{!function QG(t,n){z9(t,n);let e=0;for(;r3(t);){if(100===e)throw new tt(103,!1);e++,z9(t,1)}}(t,e)}catch(s){throw n&&U5(t,s),s}finally{i.end?.(),r.inlineEffectRunner?.flush()}}function JG(t,n,e,r){const i=n[Ar];if(256==(256&i))return;n[Rs].inlineEffectRunner?.flush(),c3(n);let s=null,l=null;(function qG(t){return 2!==t.type})(t)&&(l=function WG(t){return t[Go]??function jG(t){const n=Yx.pop()??Object.create(ZG);return n.lView=t,n}(t)}(n),s=function w(t){return t&&(t.nextProducerIndex=0),v(t)}(l));try{ho(n),function Fs(t){return Pr.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&P5(t,n,e,2,r);const M=3==(3&i);if(M){const Ce=t.preOrderCheckHooks;null!==Ce&&i6(n,Ce,null)}else{const Ce=t.preOrderHooks;null!==Ce&&a6(n,Ce,0,null),df(n,0)}if(function e$(t){for(let n=Zx(t);null!==n;n=Xx(n)){if(!(n[Ar]&ul.HasTransplantedViews))continue;const e=n[xc];for(let r=0;r<e.length;r++){n3(e[r])}}}(n),Jx(n,0),null!==t.contentQueries&&Bx(t,n),M){const Ce=t.contentCheckHooks;null!==Ce&&i6(n,Ce)}else{const Ce=t.contentHooks;null!==Ce&&a6(n,Ce,1),df(n,1)}!function b9(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const i=e[r];if(i<0)mo(~i);else{const a=i,s=e[++r],l=e[++r];jo(s,a),l(2,n[a])}}}finally{mo(-1)}}(t,n);const R=t.components;null!==R&&ew(n,R,0);const oe=t.viewQuery;if(null!==oe&&D9(2,oe,r),M){const Ce=t.viewCheckHooks;null!==Ce&&i6(n,Ce)}else{const Ce=t.viewHooks;null!==Ce&&a6(n,Ce,2),df(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[cl]){for(const Ce of n[cl])Ce();n[cl]=null}n[Ar]&=-73}catch(M){throw po(n),M}finally{null!==l&&(function z(t,n){if(v(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(b(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)H(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(l,s),function YG(t){t.lView[Go]!==t&&(t.lView=null,Yx.push(t))}(l)),zc()}}function Jx(t,n){for(let e=Zx(t);null!==e;e=Xx(e))for(let r=Ea;r<e.length;r++)qx(e[r],n)}function t$(t,n,e){qx(e1(n,t),e)}function qx(t,n){fo(t)&&z9(t,n)}function z9(t,n){const r=t[rr],i=t[Ar],a=t[Go];let s=!!(0===n&&16&i);if(s||=!!(64&i&&0===n),s||=!!(1024&i),s||=!(!a?.dirty||!S(a)),a&&(a.dirty=!1),t[Ar]&=-9217,s)JG(r,t,r.template,t[ji]);else if(8192&i){Jx(t,1);const l=r.components;null!==l&&ew(t,l,1)}}function ew(t,n,e){for(let r=0;r<n.length;r++)t$(t,n[r],e)}function n8(t){for(t[Rs].changeDetectionScheduler?.notify();t;){t[Ar]|=64;const n=vo(t);if(lo(t)&&!n)return t;t=n}return null}class r8{get rootNodes(){const n=this._lView,e=n[rr];return t8(e,n,e.firstChild,[])}constructor(n,e,r=!0){this._lView=n,this._cdRefInjectingView=e,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ji]}set context(n){this._lView[ji]=n}get destroyed(){return 256==(256&this._lView[Ar])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[ma];if(ga(n)){const e=n[8],r=e?e.indexOf(this):-1;r>-1&&(U4(n,r),gl(e,r))}this._attachedToViewContainer=!1}_6(this._lView[rr],this._lView)}onDestroy(n){P2(this._lView,n)}markForCheck(){n8(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ar]&=-129}reattach(){r4(this._lView),this._lView[Ar]|=128}detectChanges(){this._lView[Ar]|=1024,G5(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new tt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,w5(this._lView[rr],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new tt(902,!1);this._appRef=n,r4(this._lView)}}let S1=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=i$}return t})();const n$=S1,r$=class extends n${constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,e){return this.createEmbeddedViewImpl(n,e)}createEmbeddedViewImpl(n,e,r){const i=function qf(t,n,e,r){const i=n.tView,l=z6(t,i,e,4096&t[Ar]?4096:16,null,n,null,null,null,r?.injector??null,r?.dehydratedView??null);l[Bo]=t[n.index];const R=t[Yi];return null!==R&&(l[Yi]=R.createEmbeddedView(i)),H9(i,l,e),l}(this._declarationLView,this._declarationTContainer,n,{injector:e,dehydratedView:r});return new r8(i)}};function i$(){return $5(Li(),Ln())}function $5(t,n){return 4&t.type?new r$(n,t,B2(t,n)):null}class P9{}class T${}class ow{}class A${resolveComponentFactory(n){throw function D$(t){const n=Error(`No component factory found for ${Zt(t)}.`);return n.ngComponent=t,n}(n)}}let W4=(()=>{class t{static#e=this.NULL=new A$}return t})();class R9{}let K2=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function H$(){const t=Ln(),e=e1(Li().index,t);return(vs(e)?e:t)[Br]}()}return t})(),L$=(()=>{class t{static#e=this.\u0275prov=In({token:t,providedIn:"root",factory:()=>null})}return t})();const F9={};function X5(t){return!!function O9(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}class dw{constructor(){}supports(n){return X5(n)}create(n){return new I$(n)}}const N$=(t,n)=>n;class I${constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||N$}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,i=0,a=null;for(;e||r;){const s=!r||e&&e.currentIndex<pw(r,i,a)?e:r,l=pw(s,i,a),M=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{a||(a=[]);const R=l-i,oe=M-i;if(R!=oe){for(let We=0;We<R;We++){const rt=We<a.length?a[We]:a[We]=0,bt=rt+We;oe<=bt&&bt<R&&(a[We]=rt+1)}a[s.previousIndex]=oe-R}}l!==M&&n(s,l,M)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!X5(n))throw new tt(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,a,s,e=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let l=0;l<this.length;l++)a=n[l],s=this._trackByFn(l,a),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,a,s,l)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,l),r=!0),e=e._next}else i=0,function E$(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Symbol.iterator]();let r;for(;!(r=e.next()).done;)n(r.value)}}(n,l=>{s=this._trackByFn(i,l),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,l,s,i)),Object.is(e.item,l)||this._addIdentityChange(e,l)):(e=this._mismatch(e,l,s,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,i){let a;return null===n?a=this._itTail:(a=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,a,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,a,i)):n=this._addAfter(new P$(e,r),a,i),n}_verifyReinsertion(n,e,r,i){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==a?n=this._reinsertAfter(a,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,a=n._nextRemoved;return null===i?this._removalsHead=a:i._nextRemoved=a,null===a?this._removalsTail=i:a._prevRemoved=i,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){const i=null===e?this._itHead:e._next;return n._next=i,n._prev=e,null===i?this._itTail=n:i._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new hw),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,r=n._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hw),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class P${constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class R${constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const e=n._prevDup,r=n._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class hw{constructor(){this.map=new Map}put(n){const e=n.trackById;let r=this.map.get(e);r||(r=new R$,this.map.set(e,r)),r.add(n)}get(n,e){const i=this.map.get(n);return i?i.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pw(t,n,e){const r=t.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+n+i}function mw(){return new B9([new dw])}let B9=(()=>{class t{static#e=this.\u0275prov=In({token:t,providedIn:"root",factory:mw});constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||mw()),deps:[[t,new Mo,new Ml]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new tt(901,!1)}}return t})(),Gc=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=U$}return t})();function U$(t){return function G$(t,n,e){if($o(t)&&!e){const r=e1(t.index,n);return new r8(r,r)}return 47&t.type?new r8(n[na],n):null}(Li(),Ln(),16==(16&t))}let Q5=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=Y$;static#t=this.__NG_ENV_ID__=e=>e}return t})();class j$ extends Q5{constructor(n){super(),this._lView=n}onDestroy(n){return P2(this._lView,n),()=>function Dc(t,n){if(null===t[E2])return;const e=t[E2].indexOf(n);-1!==e&&t[E2].splice(e,1)}(this._lView,n)}}function Y$(){return new j$(Ln())}const yw=new Set;function j4(t){yw.has(t)||(yw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function bw(...t){}class Ci{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Kt(!1),this.onMicrotaskEmpty=new Kt(!1),this.onStable=new Kt(!1),this.onError=new Kt(!1),typeof Zone>"u")throw new tt(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function q$(){const t="function"==typeof Mn.requestAnimationFrame;let n=Mn[t?"requestAnimationFrame":"setTimeout"],e=Mn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&e){const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function nW(t){const n=()=>{!function tW(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Mn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,G9(t),t.isCheckStableRunning=!0,U9(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),G9(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,a,s,l)=>{if(function rW(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(l))return e.invokeTask(i,a,s,l);try{return Cw(t),e.invokeTask(i,a,s,l)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||t.shouldCoalesceRunChangeDetection)&&n(),Mw(t)}},onInvoke:(e,r,i,a,s,l,M)=>{try{return Cw(t),e.invoke(i,a,s,l,M)}finally{t.shouldCoalesceRunChangeDetection&&n(),Mw(t)}},onHasTask:(e,r,i,a)=>{e.hasTask(i,a),r===i&&("microTask"==a.change?(t._hasPendingMicrotasks=a.microTask,G9(t),U9(t)):"macroTask"==a.change&&(t.hasPendingMacrotasks=a.macroTask))},onHandleError:(e,r,i,a)=>(e.handleError(i,a),t.runOutsideAngular(()=>t.onError.emit(a)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ci.isInAngularZone())throw new tt(909,!1)}static assertNotInAngularZone(){if(Ci.isInAngularZone())throw new tt(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,i){const a=this._inner,s=a.scheduleEventTask("NgZoneEvent: "+i,n,eW,bw,bw);try{return a.runTask(s,e,r)}finally{a.cancelTask(s)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}}const eW={};function U9(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function G9(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Cw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Mw(t){t._nesting--,U9(t)}class xw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Kt,this.onMicrotaskEmpty=new Kt,this.onStable=new Kt,this.onError=new Kt}run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,i){return n.apply(e,r)}}var Y4=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Y4||{});const ww={destroy(){}};function Sw(t,n){!n&&function n6(t){if(!ir()&&!function mi(){return Tr}())throw new tt(-203,!1)}();const e=n?.injector??Bn(Ws);if(!function Bc(t){return"browser"===(t??Bn(Ws)).get(y2)}(e))return ww;j4("NgAfterNextRender");const r=e.get(c8),i=r.handler??=new Dw,a=n?.phase??Y4.MixedReadWrite,s=()=>{i.unregister(M),l()},l=e.get(Q5).onDestroy(s),M=new Tw(e,a,()=>{s(),t()});return i.register(M),{destroy:s}}class Tw{constructor(n,e,r){this.phase=e,this.callbackFn=r,this.zone=n.get(Ci),this.errorHandler=n.get(rc,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(n){this.errorHandler?.handleError(n)}}}class Dw{constructor(){this.executingCallbacks=!1,this.buckets={[Y4.EarlyRead]:new Set,[Y4.Write]:new Set,[Y4.MixedReadWrite]:new Set,[Y4.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const e of n)e.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let c8=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){const e=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of e)r();this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=In({token:t,providedIn:"root",factory:()=>new t})}return t})();function q5(t,n,e){let r=e?t.styles:null,i=e?t.classes:null,a=0;if(null!==n)for(let s=0;s<n.length;s++){const l=n[s];"number"==typeof l?a=l:1==a?i=Nn(i,l):2==a&&(r=Nn(r,l+": "+n[++s]+";"))}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=i:t.classesWithoutHost=i}class Lw extends W4{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=Nr(n);return new f8(e,this.ngModule)}}function zw(t){const n=[];for(const e in t){if(!t.hasOwnProperty(e))continue;const r=t[e];void 0!==r&&n.push({propName:Array.isArray(r)?r[0]:r,templateName:e})}return n}class lW{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){r=Ja(r);const i=this.injector.get(n,F9,r);return i!==F9||e===F9?i:this.parentInjector.get(n,e,r)}}class f8 extends ow{get inputs(){const n=this.componentDef,e=n.inputTransforms,r=zw(n.inputs);if(null!==e)for(const i of r)e.hasOwnProperty(i.propName)&&(i.transform=e[i.propName]);return r}get outputs(){return zw(this.componentDef.outputs)}constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function Xa(t){return t.map(Za).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}create(n,e,r,i){let a=(i=i||this.ngModule)instanceof M2?i:i?.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const s=a?new lW(n,a):n,l=s.get(R9,null);if(null===l)throw new tt(407,!1);const Ce={rendererFactory:l,sanitizer:s.get(L$,null),inlineEffectRunner:null,afterRenderEventManager:s.get(c8,null),changeDetectionScheduler:s.get(P9,null)},We=l.createRenderer(null,this.componentDef),rt=this.componentDef.selectors[0][0]||"div",bt=r?function M9(t,n,e,r){const a=r.get(N4,!1)||e===sn.ShadowDom,s=t.selectRootElement(n,a);return function x9(t){F5(t)}(s),s}(We,r,this.componentDef.encapsulation,s):w6(We,rt,function cW(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(rt));let Bt=512;this.componentDef.signals?Bt|=4096:this.componentDef.onPush||(Bt|=16);let cn=null;null!==bt&&(cn=g3(bt,s,!0));const yn=Jf(0,null,null,1,0,null,null,null,null,null,null),ln=z6(null,yn,null,Bt,null,null,Ce,We,s,null,cn);let tr,fr;c3(ln);try{const br=this.componentDef;let bi,ra=null;br.findHostDirectiveDefs?(bi=[],ra=new Map,br.findHostDirectiveDefs(br,bi,ra),bi.push(br)):bi=[br];const Is=function fW(t,n){const e=t[rr],r=$r;return t[r]=n,S3(e,r,2,"#host",null)}(ln,bt),p1=function dW(t,n,e,r,i,a,s){const l=i[rr];!function hW(t,n,e,r){for(const i of t)n.mergedAttrs=xi(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(q5(n,n.mergedAttrs,!0),null!==e&&E5(r,e,n))}(r,t,n,s);let M=null;null!==n&&(M=g3(n,i[as]));const R=a.rendererFactory.createRenderer(n,e);let oe=16;e.signals?oe=4096:e.onPush&&(oe=64);const Ce=z6(i,R5(e),null,oe,i[t.index],t,a,R,null,null,M);return l.firstCreatePass&&Rr(l,t,r.length-1),B5(i,Ce),i[t.index]=Ce}(Is,bt,br,bi,ln,Ce,We);fr=Tc(yn,$r),bt&&function vW(t,n,e,r){if(r)Qr(t,e,["ng-version","17.2.1"]);else{const{attrs:i,classes:a}=function k2(t){const n=[],e=[];let r=1,i=2;for(;r<t.length;){let a=t[r];if("string"==typeof a)2===i?""!==a&&n.push(a,t[++r]):8===i&&e.push(a);else{if(!Jr(i))break;i=a}r++}return{attrs:n,classes:e}}(n.selectors[0]);i&&Qr(t,e,i),a&&a.length>0&&Yf(t,e,a.join(" "))}}(We,br,bt,r),void 0!==e&&function mW(t,n,e){const r=t.projection=[];for(let i=0;i<n.length;i++){const a=e[i];r.push(null!=a?Array.from(a):null)}}(fr,this.ngContentSelectors,e),tr=function pW(t,n,e,r,i,a){const s=Li(),l=i[rr],M=ya(s,i);On(l,i,s,e,null,r);for(let oe=0;oe<e.length;oe++)s1(Oc(i,l,s.directiveStart+oe,s),i);_r(l,i,s),M&&s1(M,i);const R=Oc(i,l,s.directiveStart+s.componentOffset,s);if(t[ji]=i[ji]=R,null!==a)for(const oe of a)oe(R,n);return Xf(l,s,t),R}(p1,br,bi,ra,ln,[gW]),H9(yn,ln,null)}finally{zc()}return new uW(this.componentType,tr,B2(fr,ln),ln,fr)}}class uW extends T${constructor(n,e,r,i,a){super(),this.location=r,this._rootLView=i,this._tNode=a,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new r8(i,void 0,!1),this.componentType=n}setInput(n,e){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),e))return;const a=this._rootLView;A9(a[rr],a,i,n,e),this.previousInputValues.set(n,e),n8(e1(this._tNode.index,a))}}get injector(){return new ys(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function gW(){const t=Li();x1(Ln()[rr],t)}let Q1=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=yW}return t})();function yW(){return Ew(Li(),Ln())}const bW=Q1,kw=class extends bW{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return B2(this._hostTNode,this._hostLView)}get injector(){return new ys(this._hostTNode,this._hostLView)}get parentInjector(){const n=V4(this._hostTNode,this._hostLView);if(mf(n)){const e=k4(n,this._hostLView),r=z4(n);return new ys(e[rr].data[r+8],e)}return new ys(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=Vw(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-Ea}createEmbeddedView(n,e,r){let i,a;"number"==typeof r?i=r:null!=r&&(i=r.index,a=r.injector);const l=n.createEmbeddedViewImpl(e||{},a,null);return this.insertImpl(l,i,k6(this._hostTNode,null)),l}createComponent(n,e,r,i,a){const s=n&&!function H4(t){return"function"==typeof t}(n);let l;if(s)l=e;else{const bt=e||{};l=bt.index,r=bt.injector,i=bt.projectableNodes,a=bt.environmentInjector||bt.ngModuleRef}const M=s?n:new f8(Nr(n)),R=r||this.parentInjector;if(!a&&null==M.ngModule){const Bt=(s?R:this.parentInjector).get(M2,null);Bt&&(a=Bt)}Nr(M.componentType??{});const rt=M.create(R,i,null,a);return this.insertImpl(rt.hostView,l,k6(this._hostTNode,null)),rt}insert(n,e){return this.insertImpl(n,e,!0)}insertImpl(n,e,r){const i=n._lView;if(function t3(t){return ga(t[ma])}(i)){const l=this.indexOf(n);if(-1!==l)this.detach(l);else{const M=i[ma],R=new kw(M,M[Da],M[ma]);R.detach(R.indexOf(n))}}const a=this._adjustIndex(e),s=this._lContainer;return e8(s,i,a,r),n.attachToViewContainerRef(),Zo(j9(s),a,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=Vw(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),r=U4(this._lContainer,e);r&&(gl(j9(this._lContainer),e),_6(r[rr],r))}detach(n){const e=this._adjustIndex(n,-1),r=U4(this._lContainer,e);return r&&null!=gl(j9(this._lContainer),e)?new r8(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function Vw(t){return t[8]}function j9(t){return t[8]||(t[8]=[])}function Ew(t,n){let e;const r=n[t.index];return ga(r)?e=r:(e=Ox(r,n,null,t),n[t.index]=e,B5(n,e)),Nw(e,n,t,r),new kw(e,t,n)}let Nw=function Pw(t,n,e,r){if(t[d2])return;let i;i=8&e.type?Gi(r):function CW(t,n){const e=t[Br],r=e.createComment(""),i=ya(n,t);return Hl(e,T6(e,i),r,function v9(t,n){return t.nextSibling(n)}(e,i),!1),r}(n,e),t[d2]=i},Y9=()=>!1;class Z9{constructor(n){this.queryList=n,this.matches=null}clone(){return new Z9(this.queryList)}setDirty(){this.queryList.setDirty()}}class X9{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const r=null!==n.contentQueries?n.contentQueries[0]:e.length,i=[];for(let a=0;a<r;a++){const s=e.getByIndex(a);i.push(this.queries[s.indexInDeclarationView].clone())}return new X9(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==eg(n,e).matches&&this.queries[e].setDirty()}}class Rw{constructor(n,e,r=null){this.flags=e,this.read=r,this.predicate="string"==typeof n?function AW(t){return t.split(",").map(n=>n.trim())}(n):n}}class K9{constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,a=this.getByIndex(r).embeddedTView(n,i);a&&(a.indexInDeclarationView=r,null!==e?e.push(a):e=[a])}return null!==e?new K9(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Q9{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new Q9(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const a=r[i];this.matchTNodeWithReadOption(n,e,_W(e,a)),this.matchTNodeWithReadOption(n,e,l6(e,n,a,!1,!1))}else r===S1?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,l6(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===aa||i===Q1||i===S1&&4&e.type)this.addMatch(e.index,-2);else{const a=l6(e,n,i,!1,!1);null!==a&&this.addMatch(e.index,a)}else this.addMatch(e.index,r)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function _W(t,n){const e=t.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1];return null}function TW(t,n,e,r){return-1===e?function SW(t,n){return 11&t.type?B2(t,n):4&t.type?$5(t,n):null}(n,t):-2===e?function DW(t,n,e){return e===aa?B2(n,t):e===S1?$5(n,t):e===Q1?Ew(n,t):void 0}(t,n,r):Oc(t,t[rr],e,n)}function Fw(t,n,e,r){const i=n[Yi].queries[r];if(null===i.matches){const a=t.data,s=e.matches,l=[];for(let M=0;null!==s&&M<s.length;M+=2){const R=s[M];l.push(R<0?null:TW(n,a[R],s[M+1],e.metadata.read))}i.matches=l}return i.matches}function J9(t,n,e,r){const i=t.queries.getByIndex(e),a=i.matches;if(null!==a){const s=Fw(t,n,i,e);for(let l=0;l<a.length;l+=2){const M=a[l];if(M>0)r.push(s[l/2]);else{const R=a[l+1],oe=n[-M];for(let Ce=Ea;Ce<oe.length;Ce++){const We=oe[Ce];We[Bo]===We[ma]&&J9(We[rr],We,R,r)}if(null!==oe[xc]){const Ce=oe[xc];for(let We=0;We<Ce.length;We++){const rt=Ce[We];J9(rt[rr],rt,R,r)}}}}}return r}function Ow(t,n,e){const r=new d3(4==(4&e));return function S9(t,n,e,r){const i=Ux(n);i.push(e),t.firstCreatePass&&Gx(t).push(r,i.length-1)}(t,n,r,r.destroy),(n[Yi]??=new X9).queries.push(new Z9(r))-1}function Gw(t,n,e){null===t.queries&&(t.queries=new K9),t.queries.track(new Q9(n,e))}function eg(t,n){return t.queries.getByIndex(n)}function $w(t,n){const e=t[rr],r=eg(e,n);return r.crossesNgTemplate?J9(e,t,n,[]):Fw(e,t,r,n)}function yi(t){let n=function t_(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const r=[t];for(;n;){let i;if($1(t))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new tt(903,!1);i=n.\u0275dir}if(i){if(e){r.push(i);const s=t;s.inputs=t7(t.inputs),s.inputTransforms=t7(t.inputTransforms),s.declaredInputs=t7(t.declaredInputs),s.outputs=t7(t.outputs);const l=i.hostBindings;l&&GW(t,l);const M=i.viewQuery,R=i.contentQueries;if(M&&BW(t,M),R&&UW(t,R),FW(t,i),gr(t.outputs,i.outputs),$1(i)&&i.data.animation){const oe=t.data;oe.animation=(oe.animation||[]).concat(i.data.animation)}}const a=i.features;if(a)for(let s=0;s<a.length;s++){const l=a[s];l&&l.ngInherit&&l(t),l===yi&&(e=!1)}}n=Object.getPrototypeOf(n)}!function OW(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=n+=i.hostVars,i.hostAttrs=xi(i.hostAttrs,e=xi(e,i.hostAttrs))}}(r)}function FW(t,n){for(const e in n.inputs){if(!n.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;const r=n.inputs[e];if(void 0!==r&&(t.inputs[e]=r,t.declaredInputs[e]=n.declaredInputs[e],null!==n.inputTransforms)){const i=Array.isArray(r)?r[0]:r;if(!n.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=n.inputTransforms[i]}}}function t7(t){return t===xn?{}:t===wn?[]:t}function BW(t,n){const e=t.viewQuery;t.viewQuery=e?(r,i)=>{n(r,i),e(r,i)}:n}function UW(t,n){const e=t.contentQueries;t.contentQueries=e?(r,i,a)=>{n(r,i,a),e(r,i,a)}:n}function GW(t,n){const e=t.hostBindings;t.hostBindings=e?(r,i)=>{n(r,i),e(r,i)}:n}function ng(t){const n=t.inputConfig,e={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r];Array.isArray(i)&&i[3]&&(e[r]=i[3])}t.inputTransforms=e}class Z4{}class a_{}class rg extends Z4{constructor(n,e,r){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Lw(this);const i=ta(n);this._bootstrapComponents=Y1(i.bootstrap),this._r3Injector=$h(n,e,[{provide:Z4,useValue:this},{provide:W4,useValue:this.componentFactoryResolver},...r],Zt(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class ig extends a_{constructor(n){super(),this.moduleType=n}create(n){return new rg(this.moduleType,n,[])}}class s_ extends Z4{constructor(n){super(),this.componentFactoryResolver=new Lw(this),this.instance=null;const e=new b3([...n.providers,{provide:Z4,useValue:this},{provide:W4,useValue:this.componentFactoryResolver}],n.parent||J0(),n.debugName,new Set(["environment"]));this.injector=e,n.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function ag(t,n,e=null){return new s_({providers:t,parent:n,debugName:e,runEnvironmentInitializers:!0}).injector}let h8=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new it(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $c(t,n,e){return t[n]=e}function bs(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function X4(t,n,e,r){const i=bs(t,n,e);return bs(t,n+1,r)||i}function r7(t,n,e,r,i){const a=X4(t,n,e,r);return bs(t,n+2,i)||a}function Ao(t,n,e,r,i,a){const s=X4(t,n,e,r);return X4(t,n+2,i,a)||s}function Cn(t,n,e,r,i,a,s,l){const M=Ln(),R=ri(),oe=t+$r,Ce=R.firstCreatePass?function JW(t,n,e,r,i,a,s,l,M){const R=n.consts,oe=S3(n,t,4,s||null,t1(R,l));fn(n,e,oe,t1(R,M)),x1(n,oe);const Ce=oe.tView=Jf(2,oe,r,i,a,n.directiveRegistry,n.pipeRegistry,null,n.schemas,R,null);return null!==n.queries&&(n.queries.template(n,oe),Ce.queries=n.queries.embeddedTView(oe)),oe}(oe,R,M,n,e,r,i,a,s):R.data[oe];N1(Ce,!1);const We=o_(R,M,Ce,t);r1()&&Zs(R,M,We,Ce),s1(We,M);const rt=Ox(We,M,We,Ce);return M[oe]=rt,B5(M,rt),function Iw(t,n,e){return Y9(t,n,e)}(rt,Ce,M),Jl(Ce)&&Kf(R,M,Ce),null!=s&&Qf(M,Ce,l),Cn}let o_=function c_(t,n,e,r){return O2(!0),n[Br].createComment("")};function J1(t,n,e,r){const i=Ln();return bs(i,Wr(),n)&&(ri(),$i(Xi(),i,t,n,e,r)),J1}function U6(t,n,e,r){return bs(t,Wr(),e)?n+It(e)+r:ai}function l7(t,n){return t<<17|n<<2}function H3(t){return t>>17&32767}function vg(t){return 2|t}function Q4(t){return(131068&t)>>2}function mg(t,n){return-131069&t|n<<2}function gg(t){return 1|t}function F_(t,n,e,r){const i=t[e+1],a=null===n;let s=r?H3(i):Q4(i),l=!1;for(;0!==s&&(!1===l||a);){const R=t[s+1];Ij(t[s],n)&&(l=!0,t[s+1]=r?gg(R):vg(R)),s=r?H3(R):Q4(R)}l&&(t[e+1]=r?vg(i):gg(i))}function Ij(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&U2(t,n)>=0}const Xs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function O_(t){return t.substring(Xs.key,Xs.keyEnd)}function B_(t,n){const e=Xs.textEnd;return e===n?-1:(n=Xs.keyEnd=function Oj(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}(t,Xs.key=n,e),K6(t,n,e))}function K6(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function Qe(t,n,e){const r=Ln();return bs(r,Wr(),n)&&Ze(ri(),Xi(),r,t,n,r[Br],e,!1),Qe}function yg(t,n,e,r,i){const s=i?"class":"style";A9(t,e,n.inputs[s],s,r)}function u7(t,n,e){return cc(t,n,e,!1),u7}function pr(t,n){return cc(t,n,null,!0),pr}function jc(t){lc(Xj,Yc,t,!0)}function Yc(t,n){for(let e=function Rj(t){return function G_(t){Xs.key=0,Xs.keyEnd=0,Xs.value=0,Xs.valueEnd=0,Xs.textEnd=t.length}(t),B_(t,K6(t,0,Xs.textEnd))}(n);e>=0;e=B_(n,e))sa(t,O_(n),!0)}function cc(t,n,e,r){const i=Ln(),a=ri(),s=h2(2);a.firstUpdatePass&&Y_(a,t,s,r),n!==ai&&bs(i,s,n)&&X_(a,a.data[As()],i,i[Br],t,i[s+1]=function Qj(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Zt(j1(t)))),t}(n,e),r,s)}function lc(t,n,e,r){const i=ri(),a=h2(2);i.firstUpdatePass&&Y_(i,null,a,r);const s=Ln();if(e!==ai&&bs(s,a,e)){const l=i.data[As()];if(Q_(l,r)&&!j_(i,a)){let M=r?l.classesWithoutHost:l.stylesWithoutHost;null!==M&&(e=Nn(M,e||"")),yg(i,l,s,e,r)}else!function Kj(t,n,e,r,i,a,s,l){i===ai&&(i=wn);let M=0,R=0,oe=0<i.length?i[0]:null,Ce=0<a.length?a[0]:null;for(;null!==oe||null!==Ce;){const We=M<i.length?i[M+1]:void 0,rt=R<a.length?a[R+1]:void 0;let Bt,bt=null;oe===Ce?(M+=2,R+=2,We!==rt&&(bt=Ce,Bt=rt)):null===Ce||null!==oe&&oe<Ce?(M+=2,bt=oe):(R+=2,bt=Ce,Bt=rt),null!==bt&&X_(t,n,e,r,bt,Bt,s,l),oe=M<i.length?i[M]:null,Ce=R<a.length?a[R]:null}}(i,l,s,s[Br],s[a+1],s[a+1]=function Zj(t,n,e){if(null==e||""===e)return wn;const r=[],i=j1(e);if(Array.isArray(i))for(let a=0;a<i.length;a++)t(r,i[a],!0);else if("object"==typeof i)for(const a in i)i.hasOwnProperty(a)&&t(r,a,i[a]);else"string"==typeof i&&n(r,i);return r}(t,n,e),r,a)}}function j_(t,n){return n>=t.expandoStartIndex}function Y_(t,n,e,r){const i=t.data;if(null===i[e+1]){const a=i[As()],s=j_(t,e);Q_(a,r)&&null===n&&!s&&(n=!1),n=function $j(t,n,e,r){const i=function s3(t){const n=Pr.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let a=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(e=y8(e=bg(null,t,n,e,r),n.attrs,r),a=null);else{const s=n.directiveStylingLast;if(-1===s||t[s]!==i)if(e=bg(i,t,n,e,r),null===a){let M=function Wj(t,n,e){const r=e?n.classBindings:n.styleBindings;if(0!==Q4(r))return t[H3(r)]}(t,n,r);void 0!==M&&Array.isArray(M)&&(M=bg(null,t,n,M[1],r),M=y8(M,n.attrs,r),function jj(t,n,e,r){t[H3(e?n.classBindings:n.styleBindings)]=r}(t,n,r,M))}else a=function Yj(t,n,e){let r;const i=n.directiveEnd;for(let a=1+n.directiveStylingLast;a<i;a++)r=y8(r,t[a].hostAttrs,e);return y8(r,n.attrs,e)}(t,n,r)}return void 0!==a&&(r?n.residualClasses=a:n.residualStyles=a),e}(i,a,n,r),function Ej(t,n,e,r,i,a){let s=a?n.classBindings:n.styleBindings,l=H3(s),M=Q4(s);t[r]=e;let oe,R=!1;if(Array.isArray(e)?(oe=e[1],(null===oe||U2(e,oe)>0)&&(R=!0)):oe=e,i)if(0!==M){const We=H3(t[l+1]);t[r+1]=l7(We,l),0!==We&&(t[We+1]=mg(t[We+1],r)),t[l+1]=function kj(t,n){return 131071&t|n<<17}(t[l+1],r)}else t[r+1]=l7(l,0),0!==l&&(t[l+1]=mg(t[l+1],r)),l=r;else t[r+1]=l7(M,0),0===l?l=r:t[M+1]=mg(t[M+1],r),M=r;R&&(t[r+1]=vg(t[r+1])),F_(t,oe,r,!0),F_(t,oe,r,!1),function Nj(t,n,e,r,i){const a=i?t.residualClasses:t.residualStyles;null!=a&&"string"==typeof n&&U2(a,n)>=0&&(e[r+1]=gg(e[r+1]))}(n,oe,t,r,a),s=l7(l,M),a?n.classBindings=s:n.styleBindings=s}(i,a,n,e,s,r)}}function bg(t,n,e,r,i){let a=null;const s=e.directiveEnd;let l=e.directiveStylingLast;for(-1===l?l=e.directiveStart:l++;l<s&&(a=n[l],r=y8(r,a.hostAttrs,i),a!==t);)l++;return null!==t&&(e.directiveStylingLast=l),r}function y8(t,n,e){const r=e?1:2;let i=-1;if(null!==n)for(let a=0;a<n.length;a++){const s=n[a];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),sa(t,s,!!e||n[++a]))}return void 0===t?null:t}function Xj(t,n,e){const r=String(n);""!==r&&!r.includes(" ")&&sa(t,r,e)}function X_(t,n,e,r,i,a,s,l){if(!(3&n.type))return;const M=t.data,R=M[l+1],oe=function Vj(t){return 1==(1&t)}(R)?K_(M,n,e,i,Q4(R),s):void 0;f7(oe)||(f7(a)||function zj(t){return 2==(2&t)}(R)&&(a=K_(M,null,e,i,l,s)),function g9(t,n,e,r,i){if(n)i?t.addClass(e,r):t.removeClass(e,r);else{let a=-1===r.indexOf("-")?void 0:Uc.DashCase;null==i?t.removeStyle(e,r,a):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),a|=Uc.Important),t.setStyle(e,r,i,a))}}(r,s,uo(As(),e),i,a))}function K_(t,n,e,r,i,a){const s=null===n;let l;for(;i>0;){const M=t[i],R=Array.isArray(M),oe=R?M[1]:M,Ce=null===oe;let We=e[i+1];We===ai&&(We=Ce?wn:void 0);let rt=Ce?v2(We,r):oe===r?We:void 0;if(R&&!f7(rt)&&(rt=v2(M,r)),f7(rt)&&(l=rt,s))return l;const bt=t[i+1];i=s?H3(bt):Q4(bt)}if(null!==n){let M=a?n.residualClasses:n.residualStyles;null!=M&&(l=v2(M,r))}return l}function f7(t){return void 0!==t}function Q_(t,n){return 0!=(t.flags&(n?8:16))}function Cg(t,n,e){lc(sa,Yc,U6(Ln(),t,n,e),!0)}function xe(t,n,e,r){const i=Ln(),a=ri(),s=$r+t,l=i[Br],M=a.firstCreatePass?function bY(t,n,e,r,i,a){const s=n.consts,M=S3(n,t,2,r,t1(s,i));return fn(n,e,M,t1(s,a)),null!==M.attrs&&q5(M,M.attrs,!1),null!==M.mergedAttrs&&q5(M,M.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,M),M}(s,a,i,n,e,r):a.data[s],R=tS(a,i,M,l,n,t);i[s]=R;const oe=Jl(M);return N1(M,!0),E5(l,R,M),32!=(32&M.flags)&&r1()&&Zs(a,i,R,M),0===function Ga(){return Pr.lFrame.elementDepthCount}()&&s1(R,i),function ms(){Pr.lFrame.elementDepthCount++}(),oe&&(Kf(a,i,M),Xf(a,M,i)),null!==r&&Qf(i,M),xe}function Se(){let t=Li();a3()?Hc():(t=t.parent,N1(t,!1));const n=t;(function Yu(t){return Pr.skipHydrationRootTNode===t})(n)&&function Ac(){Pr.skipHydrationRootTNode=null}(),function V0(){Pr.lFrame.elementDepthCount--}();const e=ri();return e.firstCreatePass&&(x1(e,t),wc(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function vm(t){return 0!=(8&t.flags)}(n)&&yg(e,n,Ln(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function mm(t){return 0!=(16&t.flags)}(n)&&yg(e,n,Ln(),n.stylesWithoutHost,!1),Se}function _n(t,n,e,r){return xe(t,n,e,r),Se(),_n}let tS=(t,n,e,r,i,a)=>(O2(!0),w6(r,i,function f4(){return Pr.lFrame.currentNamespace}()));function ua(t,n,e){const r=Ln(),i=ri(),a=t+$r,s=i.firstCreatePass?function xY(t,n,e,r,i){const a=n.consts,s=t1(a,r),l=S3(n,t,8,"ng-container",s);return null!==s&&q5(l,s,!0),fn(n,e,l,t1(a,i)),null!==n.queries&&n.queries.elementStart(n,l),l}(a,i,r,n,e):i.data[a];N1(s,!0);const l=rS(i,r,s,t);return r[a]=l,r1()&&Zs(i,r,l,s),s1(l,r),Jl(s)&&(Kf(i,r,s),Xf(i,s,r)),null!=e&&Qf(r,s),ua}function fa(){let t=Li();const n=ri();return a3()?Hc():(t=t.parent,N1(t,!1)),n.firstCreatePass&&(x1(n,t),wc(t)&&n.queries.elementEnd(t)),fa}let rS=(t,n,e,r)=>(O2(!0),Bf(n[Br],""));function fi(){return Ln()}function Sg(t,n,e){const r=Ln();return bs(r,Wr(),n)&&Ze(ri(),Xi(),r,t,n,r[Br],e,!0),Sg}const J4=void 0;var TY=["en",[["a","p"],["AM","PM"],J4],[["AM","PM"],J4,J4],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],J4,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],J4,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",J4,"{1} 'at' {0}",J4],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function SY(t){const e=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===r?1:5}];let Q6={};function q1(t){const n=function DY(t){return t.toLowerCase().replace(/_/g,"-")}(t);let e=sS(n);if(e)return e;const r=n.split("-")[0];if(e=sS(r),e)return e;if("en"===r)return TY;throw new tt(701,!1)}function sS(t){return t in Q6||(Q6[t]=Mn.ng&&Mn.ng.common&&Mn.ng.common.locales&&Mn.ng.common.locales[t]),Q6[t]}var La=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(La||{});const J6="en-US";let oS=J6;function mn(t,n,e,r){const i=Ln(),a=ri(),s=Li();return function Ag(t,n,e,r,i,a,s){const l=Jl(r),R=t.firstCreatePass&&Gx(t),oe=n[ji],Ce=Ux(n);let We=!0;if(3&r.type||s){const Bt=ya(r,n),cn=s?s(Bt):Bt,yn=Ce.length,ln=s?fr=>s(Gi(fr[r.index])):r.index;let tr=null;if(!s&&l&&(tr=function MZ(t,n,e,r){const i=t.cleanup;if(null!=i)for(let a=0;a<i.length-1;a+=2){const s=i[a];if(s===e&&i[a+1]===r){const l=n[Mc],M=i[a+2];return l.length>M?l[M]:null}"string"==typeof s&&(a+=2)}return null}(t,n,i,r.index)),null!==tr)(tr.__ngLastListenerFn__||tr).__ngNextListenerFn__=a,tr.__ngLastListenerFn__=a,We=!1;else{a=ES(r,n,oe,a,!1);const fr=e.listen(cn,i,a);Ce.push(a,fr),R&&R.push(i,ln,yn,yn+1)}}else a=ES(r,n,oe,a,!1);const rt=r.outputs;let bt;if(We&&null!==rt&&(bt=rt[i])){const Bt=bt.length;if(Bt)for(let cn=0;cn<Bt;cn+=2){const br=n[bt[cn]][bt[cn+1]].subscribe(a),bi=Ce.length;Ce.push(a,br),R&&R.push(i,r.index,bi,"function"==typeof br?bi+1:-(bi+1))}}}(a,i,i[Br],s,t,n,r),mn}function VS(t,n,e,r){try{return wo(6,n,e),!1!==e(r)}catch(i){return U5(t,i),!1}finally{wo(7,n,e)}}function ES(t,n,e,r,i){return function a(s){if(s===Function)return r;n8(t.componentOffset>-1?e1(t.index,n):n);let M=VS(n,e,r,s),R=a.__ngNextListenerFn__;for(;R;)M=VS(n,e,R,s)&&M,R=R.__ngNextListenerFn__;return i&&!1===M&&s.preventDefault(),M}}function zt(t=1){return function Zu(t){return(Pr.lFrame.contextLView=function z0(t,n){for(;t>0;)n=n[Ds],t--;return n}(t,Pr.lFrame.contextLView))[ji]}(t)}function xZ(t,n){let e=null;const r=function ea(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(!(1&e))return n[e+1]}return null}(t);for(let i=0;i<n.length;i++){const a=n[i];if("*"!==a){if(null===r?pa(t,a,!0):is(r,a))return i}else e=i}return e}function _8(t){const n=Ln()[na][Da];if(!n.projection){const r=n.projection=function yl(t,n){const e=[];for(let r=0;r<t;r++)e.push(n);return e}(t?t.length:1,null),i=r.slice();let a=n.child;for(;null!==a;){const s=t?xZ(a,t):0;null!==s&&(i[s]?i[s].projectionNext=a:r[s]=a,i[s]=a),a=a.next}}}function q4(t,n=0,e){const r=Ln(),i=ri(),a=S3(i,$r+t,16,null,e||null);null===a.projection&&(a.projection=n),Hc(),(!r[Ts]||R2())&&32!=(32&a.flags)&&function jf(t,n,e){V5(n[Br],0,n,e,Gf(t,e,n),A5(e.parent||n[Da],e,n))}(i,r,a)}function S8(t,n,e){return da(t,"",n,"",e),S8}function da(t,n,e,r,i){const a=Ln(),s=U6(a,n,e,r);return s!==ai&&Ze(ri(),Xi(),a,t,s,a[Br],i,!1),da}function Zc(t,n,e,r){!function Uw(t,n,e,r){const i=ri();if(i.firstCreatePass){const a=Li();Gw(i,new Rw(n,e,r),a.index),function HW(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(i,t),2==(2&e)&&(i.staticContentQueries=!0)}return Ow(i,Ln(),e)}(t,n,e,r)}function q6(t,n,e){!function Bw(t,n,e){const r=ri();return r.firstCreatePass&&(Gw(r,new Rw(t,n,e),-1),2==(2&n)&&(r.staticViewQueries=!0)),Ow(r,Ln(),n)}(t,n,e)}function e2(t){const n=Ln(),e=ri(),r=o4();o3(r+1);const i=eg(e,r);if(t.dirty&&function L0(t){return 4==(4&t[Ar])}(n)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const a=$w(n,r);t.reset(a,P0),t.notifyOnChanges()}return!0}return!1}function t2(){return function q9(t,n){return t[Yi].queries[n].queryList}(Ln(),o4())}function T8(t){return I2(function ml(){return Pr.lFrame.contextLView}(),$r+t)}function qe(t,n=""){const e=Ln(),r=ri(),i=t+$r,a=r.firstCreatePass?S3(r,i,1,n,null):r.data[i],s=JS(r,e,a,n,t);e[i]=s,r1()&&Zs(r,e,s,a),N1(a,!1)}let JS=(t,n,e,r,i)=>(O2(!0),function x6(t,n){return t.createText(n)}(n[Br],r));function Ir(t){return gn("",t,""),Ir}function gn(t,n,e){const r=Ln(),i=U6(r,t,n,e);return i!==ai&&zl(r,As(),i),gn}function Q2(t,n,e,r,i){const a=Ln(),s=function G6(t,n,e,r,i,a){const l=X4(t,n1(),e,i);return h2(2),l?n+It(e)+r+It(i)+a:ai}(a,t,n,e,r,i);return s!==ai&&zl(a,As(),s),Q2}function T2(t,n,e,r,i,a,s){const l=Ln(),M=function $6(t,n,e,r,i,a,s,l){const R=r7(t,n1(),e,i,s);return h2(3),R?n+It(e)+r+It(i)+a+It(s)+l:ai}(l,t,n,e,r,i,a,s);return M!==ai&&zl(l,As(),M),T2}function Hg(t,n,e,r,i,a,s,l,M){const R=Ln(),oe=function W6(t,n,e,r,i,a,s,l,M,R){const Ce=Ao(t,n1(),e,i,s,M);return h2(4),Ce?n+It(e)+r+It(i)+a+It(s)+l+It(M)+R:ai}(R,t,n,e,r,i,a,s,l,M);return oe!==ai&&zl(R,As(),oe),Hg}function Lg(t,n,e,r,i){if(t=k(t),Array.isArray(t))for(let a=0;a<t.length;a++)Lg(t[a],n,e,r,i);else{const a=ri(),s=Ln(),l=Li();let M=xl(t)?t:k(t.provide);const R=e6(t),oe=1048575&l.providerIndexes,Ce=l.directiveStart,We=l.providerIndexes>>20;if(xl(t)||!t.multi){const rt=new L4(R,i,Dt),bt=kg(M,n,i?oe:oe+We,Ce);-1===bt?(bf(o6(l,s),a,M),zg(a,t,n.length),n.push(M),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),e.push(rt),s.push(rt)):(e[bt]=rt,s[bt]=rt)}else{const rt=kg(M,n,oe+We,Ce),bt=kg(M,n,oe,oe+We),cn=bt>=0&&e[bt];if(i&&!cn||!i&&!(rt>=0&&e[rt])){bf(o6(l,s),a,M);const yn=function UZ(t,n,e,r,i){const a=new L4(t,e,Dt);return a.multi=[],a.index=n,a.componentProviders=0,sT(a,i,r&&!e),a}(i?BZ:OZ,e.length,i,r,R);!i&&cn&&(e[bt].providerFactory=yn),zg(a,t,n.length,0),n.push(M),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),e.push(yn),s.push(yn)}else zg(a,t,rt>-1?rt:bt,sT(e[i?bt:rt],R,!i&&r));!i&&r&&cn&&e[bt].componentProviders++}}}function zg(t,n,e,r){const i=xl(n),a=function Jv(t){return!!t.useClass}(n);if(i||a){const M=(a?k(n.useClass):n).prototype.ngOnDestroy;if(M){const R=t.destroyHooks||(t.destroyHooks=[]);if(!i&&n.multi){const oe=R.indexOf(e);-1===oe?R.push(e,[r,M]):R[oe+1].push(r,M)}else R.push(e,M)}}}function sT(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function kg(t,n,e,r){for(let i=e;i<r;i++)if(n[i]===t)return i;return-1}function OZ(t,n,e,r){return Vg(this.multi,[])}function BZ(t,n,e,r){const i=this.multi;let a;if(this.providerFactory){const s=this.providerFactory.componentProviders,l=Oc(e,e[rr],this.providerFactory.index,r);a=l.slice(0,s),Vg(i,a);for(let M=s;M<l.length;M++)a.push(l[M])}else a=[],Vg(i,a);return a}function Vg(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function Ma(t,n=[]){return e=>{e.providersResolver=(r,i)=>function FZ(t,n,e){const r=ri();if(r.firstCreatePass){const i=$1(t);Lg(e,r.data,r.blueprint,i,!0),Lg(n,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,n)}}let GZ=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const r=rf(0,e.type),i=r.length>0?ag([r],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=In({token:t,providedIn:"environment",factory:()=>new t(pn(M2))})}return t})();function D8(t){j4("NgStandalone"),t.getStandaloneInjector=n=>n.get(GZ).getOrCreateStandaloneInjector(t)}function A8(t,n,e,r){return function gT(t,n,e,r,i,a){const s=n+e;return bs(t,s,i)?$c(t,s+1,a?r.call(a,i):r(i)):H8(t,s+1)}(Ln(),Na(),t,n,e,r)}function kl(t,n,e,r,i){return yT(Ln(),Na(),t,n,e,r,i)}function vT(t,n,e,r,i,a){return function bT(t,n,e,r,i,a,s,l){const M=n+e;return r7(t,M,i,a,s)?$c(t,M+3,l?r.call(l,i,a,s):r(i,a,s)):H8(t,M+3)}(Ln(),Na(),t,n,e,r,i,a)}function H8(t,n){const e=t[n];return e===ai?void 0:e}function yT(t,n,e,r,i,a,s){const l=n+e;return X4(t,l,i,a)?$c(t,l+2,s?r.call(s,i,a):r(i,a)):H8(t,l+2)}function qn(t,n){const e=ri();let r;const i=t+$r;e.firstCreatePass?(r=function aX(t,n){if(n)for(let e=n.length-1;e>=0;e--){const r=n[e];if(t===r.name)return r}}(n,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks??=[]).push(i,r.onDestroy)):r=e.data[i];const a=r.factory||(r.factory=nc(r.type)),l=jn(Dt);try{const M=s6(!1),R=a();return s6(M),function TZ(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}(e,Ln(),i,R),R}finally{jn(l)}}function er(t,n,e,r){const i=t+$r,a=Ln(),s=I2(a,i);return function L8(t,n){return t[rr].data[n].pure}(a,i)?yT(a,Na(),n,s.transform,e,r,s):s.transform(e,r)}function g7(t,n){return $5(t,n)}let PT=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const UT=new hr(""),C7=new hr("");let Ug,Og=(()=>{class t{constructor(e,r,i){this._ngZone=e,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Ug||(function nK(t){Ug=t}(i),i.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ci.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let a=-1;r&&r>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==a),e()},r)),this._callbacks.push({doneCb:e,timeoutId:a,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(pn(Ci),pn(Bg),pn(C7))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})(),Bg=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return Ug?.findTestabilityInTree(this,e,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function E8(t){return!!t&&"function"==typeof t.then}function GT(t){return!!t&&"function"==typeof t.subscribe}const M7=new hr("");let Gg=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,r)=>{this.resolve=e,this.reject=r}),this.appInits=Bn(M7,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const i of this.appInits){const a=i();if(E8(a))e.push(a);else if(GT(a)){const s=new Promise((l,M)=>{a.subscribe({complete:l,error:M})});e.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const $g=new hr("");function jT(t,n){return Array.isArray(n)?n.reduce(jT,t):{...t,...n}}let Vl=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Bn(jh),this.afterRenderEffectManager=Bn(c8),this.componentTypes=[],this.components=[],this.isStable=Bn(h8).hasPendingTasks.pipe(Ye(e=>!e)),this._injector=Bn(M2)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const i=e instanceof ow;if(!this._injector.get(Gg).done)throw!i&&function Ta(t){const n=Nr(t)||_a(t)||Sa(t);return null!==n&&n.standalone}(e),new tt(405,!1);let s;s=i?e:this._injector.get(W4).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const l=function rK(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Z4),R=s.create(Ws.NULL,[],r||s.selector,l),oe=R.location.nativeElement,Ce=R.injector.get(UT,null);return Ce?.registerApplication(oe),R.onDestroy(()=>{this.detachView(R.hostView),x7(this.components,R),Ce?.unregisterApplication(oe)}),this._loadComponent(R),R}tick(){if(this._runningTick)throw new tt(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let e=0;do{if(100===e)throw new tt(103,!1);const r=0===e;for(let{_lView:i,notifyErrorHandler:a}of this._views)!r&&!YT(i)||this.detectChangesInView(i,a,r);this.afterRenderEffectManager.execute(),e++}while(this._views.some(({_lView:r})=>YT(r)))}detectChangesInView(e,r,i){let a;i?(a=0,e[Ar]|=1024):a=64&e[Ar]?0:1,G5(e,r,a)}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;x7(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const r=this._injector.get($g,[]);[...this._bootstrapListeners,...r].forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>x7(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new tt(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function x7(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function YT(t){return r3(t)}class aK{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let ZT=(()=>{class t{compileModuleSync(e){return new ig(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),a=Y1(ta(e).declarations).reduce((s,l)=>{const M=Nr(l);return M&&s.push(new f8(M)),s},[]);return new aK(r,a)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),cK=(()=>{class t{constructor(){this.zone=Bn(Ci),this.applicationRef=Bn(Vl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function lK(){const t=Bn(Ci),n=Bn(rc);return e=>t.runOutsideAngular(()=>n.handleError(e))}let fK=(()=>{class t{constructor(){this.subscription=new X,this.initialized=!1,this.zone=Bn(Ci),this.pendingTasks=Bn(h8)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ci.assertNotInAngularZone(),queueMicrotask(()=>{null!==e&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ci.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const El=new hr("",{providedIn:"root",factory:()=>Bn(El,bn.Optional|bn.SkipSelf)||function dK(){return typeof $localize<"u"&&$localize.locale||J6}()}),Wg=new hr("");let JT=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const i=function iW(t="zone.js",n){return"noop"===t?new xw:"zone.js"===t?new Ci(n):t}(r?.ngZone,function QT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const a=function QW(t,n,e){return new rg(t,n,e)}(e.moduleType,this.injector,function KT(t){return[{provide:Ci,useFactory:t},{provide:Fc,multi:!0,useFactory:()=>{const n=Bn(cK,{optional:!0});return()=>n.initialize()}},{provide:Fc,multi:!0,useFactory:()=>{const n=Bn(fK);return()=>{n.initialize()}}},{provide:jh,useFactory:lK}]}(()=>i)),s=a.injector.get(rc,null);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:M=>{s.handleError(M)}});a.onDestroy(()=>{x7(this._modules,a),l.unsubscribe()})}),function WT(t,n,e){try{const r=e();return E8(r)?r.catch(i=>{throw n.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}(s,i,()=>{const l=a.injector.get(Gg);return l.runInitializers(),l.donePromise.then(()=>(function cS(t){"string"==typeof t&&(oS=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(El,J6)||J6),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,r=[]){const i=jT({},r);return function oK(t,n,e){const r=new ig(e);return Promise.resolve(r)}(0,0,e).then(a=>this.bootstrapModuleFactory(a,i))}_moduleDoBootstrap(e){const r=e.injector.get(Vl);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new tt(-403,!1);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new tt(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(Wg,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(pn(Ws))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),L3=null;const qT=new hr("");function eD(t,n,e=[]){const r=`Platform: ${n}`,i=new hr(r);return(a=[])=>{let s=jg();if(!s||s.injector.get(qT,!1)){const l=[...e,...a,{provide:i,useValue:!0}];t?t(l):function vK(t){if(L3&&!L3.get(qT,!1))throw new tt(400,!1);(function $T(){!function fe(t){W=t}(()=>{throw new tt(600,!1)})})(),L3=t;const n=t.get(JT);(function nD(t){t.get(m4,null)?.forEach(e=>e())})(t)}(function tD(t=[],n){return Ws.create({name:n,providers:[{provide:wl,useValue:"platform"},{provide:Wg,useValue:new Set([()=>L3=null])},...t]})}(l,r))}return function mK(t){const n=jg();if(!n)throw new tt(401,!1);return n}()}}function jg(){return L3?.get(JT)??null}const MK=eD(null,"core",[]);let xK=(()=>{class t{constructor(e){}static#e=this.\u0275fac=function(r){return new(r||t)(pn(Vl))};static#t=this.\u0275mod=Yr({type:t});static#n=this.\u0275inj=Fi({})}return t})();function uc(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function XK(t,n=NaN){return isNaN(parseFloat(t))||isNaN(Number(t))?n:Number(t)}let DD=null;function z3(){return DD}class qK{}const xa=new hr("");let qg=(()=>{class t{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:()=>Bn(tQ),providedIn:"platform"})}return t})();const eQ=new hr("");let tQ=(()=>{class t extends qg{constructor(){super(),this._doc=Bn(xa),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return z3().getBaseHref(this._doc)}onPopState(e){const r=z3().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=z3().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function ey(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function AD(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function Nl(t){return t&&"?"!==t[0]?"?"+t:t}let t0=(()=>{class t{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:()=>Bn(LD),providedIn:"root"})}return t})();const HD=new hr("");let LD=(()=>{class t extends t0{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Bn(xa).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ey(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Nl(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,a){const s=this.prepareExternalUrl(i+Nl(a));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,a){const s=this.prepareExternalUrl(i+Nl(a));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(r){return new(r||t)(pn(qg),pn(HD,8))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),nQ=(()=>{class t extends t0{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=ey(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,a){let s=this.prepareExternalUrl(i+Nl(a));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,a){let s=this.prepareExternalUrl(i+Nl(a));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(r){return new(r||t)(pn(qg),pn(HD,8))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})(),R1=(()=>{class t{constructor(e){this._subject=new Kt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function aQ(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}(AD(zD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Nl(r))}normalize(e){return t.stripTrailingSlash(function iQ(t,n){if(!t||!n.startsWith(t))return n;const e=n.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,zD(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Nl(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Nl(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}static#e=this.normalizeQueryParams=Nl;static#t=this.joinWithSlash=ey;static#n=this.stripTrailingSlash=AD;static#r=this.\u0275fac=function(r){return new(r||t)(pn(t0))};static#i=this.\u0275prov=In({token:t,factory:()=>function rQ(){return new R1(pn(t0))}(),providedIn:"root"})}return t})();function zD(t){return t.replace(/\/index.html$/,"")}var z7=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(z7||{}),r2=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(r2||{}),wa=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(wa||{}),J2=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(J2||{}),Ms=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(Ms||{});function k7(t,n){return zo(q1(t)[La.DateFormat],n)}function V7(t,n){return zo(q1(t)[La.TimeFormat],n)}function E7(t,n){return zo(q1(t)[La.DateTimeFormat],n)}function Lo(t,n){const e=q1(t),r=e[La.NumberSymbols][n];if(typeof r>"u"){if(n===Ms.CurrencyDecimal)return e[La.NumberSymbols][Ms.Decimal];if(n===Ms.CurrencyGroup)return e[La.NumberSymbols][Ms.Group]}return r}function VD(t){if(!t[La.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[La.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function zo(t,n){for(let e=n;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new Error("Locale data API: locale data undefined")}function ny(t){const[n,e]=t.split(":");return{hours:+n,minutes:+e}}const bQ=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,N7={},CQ=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Il=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Il||{}),Ki=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Ki||{}),Qi=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Qi||{});function MQ(t,n,e,r){let i=function LQ(t){if(ID(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[i,a=1,s=1]=t.split("-").map(l=>+l);return I7(i,a-1,s)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let r;if(r=t.match(bQ))return function zQ(t){const n=new Date(0);let e=0,r=0;const i=t[8]?n.setUTCFullYear:n.setFullYear,a=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-e,l=Number(t[5]||0)-r,M=Number(t[6]||0),R=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return a.call(n,s,l,M,R),n}(r)}const n=new Date(t);if(!ID(n))throw new Error(`Unable to convert "${t}" into a date`);return n}(t);n=Pl(e,n)||n;let l,s=[];for(;n;){if(l=CQ.exec(n),!l){s.push(n);break}{s=s.concat(l.slice(1));const oe=s.pop();if(!oe)break;n=oe}}let M=i.getTimezoneOffset();r&&(M=ND(r,M),i=function HQ(t,n,e){const r=e?-1:1,i=t.getTimezoneOffset();return function AQ(t,n){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+n),t}(t,r*(ND(n,i)-i))}(i,r,!0));let R="";return s.forEach(oe=>{const Ce=function DQ(t){if(iy[t])return iy[t];let n;switch(t){case"G":case"GG":case"GGG":n=za(Qi.Eras,wa.Abbreviated);break;case"GGGG":n=za(Qi.Eras,wa.Wide);break;case"GGGGG":n=za(Qi.Eras,wa.Narrow);break;case"y":n=Vs(Ki.FullYear,1,0,!1,!0);break;case"yy":n=Vs(Ki.FullYear,2,0,!0,!0);break;case"yyy":n=Vs(Ki.FullYear,3,0,!1,!0);break;case"yyyy":n=Vs(Ki.FullYear,4,0,!1,!0);break;case"Y":n=O7(1);break;case"YY":n=O7(2,!0);break;case"YYY":n=O7(3);break;case"YYYY":n=O7(4);break;case"M":case"L":n=Vs(Ki.Month,1,1);break;case"MM":case"LL":n=Vs(Ki.Month,2,1);break;case"MMM":n=za(Qi.Months,wa.Abbreviated);break;case"MMMM":n=za(Qi.Months,wa.Wide);break;case"MMMMM":n=za(Qi.Months,wa.Narrow);break;case"LLL":n=za(Qi.Months,wa.Abbreviated,r2.Standalone);break;case"LLLL":n=za(Qi.Months,wa.Wide,r2.Standalone);break;case"LLLLL":n=za(Qi.Months,wa.Narrow,r2.Standalone);break;case"w":n=ry(1);break;case"ww":n=ry(2);break;case"W":n=ry(1,!0);break;case"d":n=Vs(Ki.Date,1);break;case"dd":n=Vs(Ki.Date,2);break;case"c":case"cc":n=Vs(Ki.Day,1);break;case"ccc":n=za(Qi.Days,wa.Abbreviated,r2.Standalone);break;case"cccc":n=za(Qi.Days,wa.Wide,r2.Standalone);break;case"ccccc":n=za(Qi.Days,wa.Narrow,r2.Standalone);break;case"cccccc":n=za(Qi.Days,wa.Short,r2.Standalone);break;case"E":case"EE":case"EEE":n=za(Qi.Days,wa.Abbreviated);break;case"EEEE":n=za(Qi.Days,wa.Wide);break;case"EEEEE":n=za(Qi.Days,wa.Narrow);break;case"EEEEEE":n=za(Qi.Days,wa.Short);break;case"a":case"aa":case"aaa":n=za(Qi.DayPeriods,wa.Abbreviated);break;case"aaaa":n=za(Qi.DayPeriods,wa.Wide);break;case"aaaaa":n=za(Qi.DayPeriods,wa.Narrow);break;case"b":case"bb":case"bbb":n=za(Qi.DayPeriods,wa.Abbreviated,r2.Standalone,!0);break;case"bbbb":n=za(Qi.DayPeriods,wa.Wide,r2.Standalone,!0);break;case"bbbbb":n=za(Qi.DayPeriods,wa.Narrow,r2.Standalone,!0);break;case"B":case"BB":case"BBB":n=za(Qi.DayPeriods,wa.Abbreviated,r2.Format,!0);break;case"BBBB":n=za(Qi.DayPeriods,wa.Wide,r2.Format,!0);break;case"BBBBB":n=za(Qi.DayPeriods,wa.Narrow,r2.Format,!0);break;case"h":n=Vs(Ki.Hours,1,-12);break;case"hh":n=Vs(Ki.Hours,2,-12);break;case"H":n=Vs(Ki.Hours,1);break;case"HH":n=Vs(Ki.Hours,2);break;case"m":n=Vs(Ki.Minutes,1);break;case"mm":n=Vs(Ki.Minutes,2);break;case"s":n=Vs(Ki.Seconds,1);break;case"ss":n=Vs(Ki.Seconds,2);break;case"S":n=Vs(Ki.FractionalSeconds,1);break;case"SS":n=Vs(Ki.FractionalSeconds,2);break;case"SSS":n=Vs(Ki.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=R7(Il.Short);break;case"ZZZZZ":n=R7(Il.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=R7(Il.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=R7(Il.Long);break;default:return null}return iy[t]=n,n}(oe);R+=Ce?Ce(i,e,M):"''"===oe?"'":oe.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),R}function I7(t,n,e){const r=new Date(0);return r.setFullYear(t,n,e),r.setHours(0,0,0),r}function Pl(t,n){const e=function oQ(t){return q1(t)[La.LocaleId]}(t);if(N7[e]??={},N7[e][n])return N7[e][n];let r="";switch(n){case"shortDate":r=k7(t,J2.Short);break;case"mediumDate":r=k7(t,J2.Medium);break;case"longDate":r=k7(t,J2.Long);break;case"fullDate":r=k7(t,J2.Full);break;case"shortTime":r=V7(t,J2.Short);break;case"mediumTime":r=V7(t,J2.Medium);break;case"longTime":r=V7(t,J2.Long);break;case"fullTime":r=V7(t,J2.Full);break;case"short":const i=Pl(t,"shortTime"),a=Pl(t,"shortDate");r=P7(E7(t,J2.Short),[i,a]);break;case"medium":const s=Pl(t,"mediumTime"),l=Pl(t,"mediumDate");r=P7(E7(t,J2.Medium),[s,l]);break;case"long":const M=Pl(t,"longTime"),R=Pl(t,"longDate");r=P7(E7(t,J2.Long),[M,R]);break;case"full":const oe=Pl(t,"fullTime"),Ce=Pl(t,"fullDate");r=P7(E7(t,J2.Full),[oe,Ce])}return r&&(N7[e][n]=r),r}function P7(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,r){return null!=n&&r in n?n[r]:e})),t}function fc(t,n,e="-",r,i){let a="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,a=e));let s=String(t);for(;s.length<n;)s="0"+s;return r&&(s=s.slice(s.length-n)),a+s}function Vs(t,n,e=0,r=!1,i=!1){return function(a,s){let l=function wQ(t,n){switch(t){case Ki.FullYear:return n.getFullYear();case Ki.Month:return n.getMonth();case Ki.Date:return n.getDate();case Ki.Hours:return n.getHours();case Ki.Minutes:return n.getMinutes();case Ki.Seconds:return n.getSeconds();case Ki.FractionalSeconds:return n.getMilliseconds();case Ki.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,a);if((e>0||l>-e)&&(l+=e),t===Ki.Hours)0===l&&-12===e&&(l=12);else if(t===Ki.FractionalSeconds)return function xQ(t,n){return fc(t,3).substring(0,n)}(l,n);const M=Lo(s,Ms.MinusSign);return fc(l,n,M,r,i)}}function za(t,n,e=r2.Format,r=!1){return function(i,a){return function _Q(t,n,e,r,i,a){switch(e){case Qi.Months:return function uQ(t,n,e){const r=q1(t),a=zo([r[La.MonthsFormat],r[La.MonthsStandalone]],n);return zo(a,e)}(n,i,r)[t.getMonth()];case Qi.Days:return function lQ(t,n,e){const r=q1(t),a=zo([r[La.DaysFormat],r[La.DaysStandalone]],n);return zo(a,e)}(n,i,r)[t.getDay()];case Qi.DayPeriods:const s=t.getHours(),l=t.getMinutes();if(a){const R=function pQ(t){const n=q1(t);return VD(n),(n[La.ExtraData][2]||[]).map(r=>"string"==typeof r?ny(r):[ny(r[0]),ny(r[1])])}(n),oe=function vQ(t,n,e){const r=q1(t);VD(r);const a=zo([r[La.ExtraData][0],r[La.ExtraData][1]],n)||[];return zo(a,e)||[]}(n,i,r),Ce=R.findIndex(We=>{if(Array.isArray(We)){const[rt,bt]=We,Bt=s>=rt.hours&&l>=rt.minutes,cn=s<bt.hours||s===bt.hours&&l<bt.minutes;if(rt.hours<bt.hours){if(Bt&&cn)return!0}else if(Bt||cn)return!0}else if(We.hours===s&&We.minutes===l)return!0;return!1});if(-1!==Ce)return oe[Ce]}return function cQ(t,n,e){const r=q1(t),a=zo([r[La.DayPeriodsFormat],r[La.DayPeriodsStandalone]],n);return zo(a,e)}(n,i,r)[s<12?0:1];case Qi.Eras:return function fQ(t,n){return zo(q1(t)[La.Eras],n)}(n,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(i,a,t,n,e,r)}}function R7(t){return function(n,e,r){const i=-1*r,a=Lo(e,Ms.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Il.Short:return(i>=0?"+":"")+fc(s,2,a)+fc(Math.abs(i%60),2,a);case Il.ShortGMT:return"GMT"+(i>=0?"+":"")+fc(s,1,a);case Il.Long:return"GMT"+(i>=0?"+":"")+fc(s,2,a)+":"+fc(Math.abs(i%60),2,a);case Il.Extended:return 0===r?"Z":(i>=0?"+":"")+fc(s,2,a)+":"+fc(Math.abs(i%60),2,a);default:throw new Error(`Unknown zone width "${t}"`)}}}const SQ=0,F7=4;function ED(t){const n=t.getDay(),e=0===n?-3:F7-n;return I7(t.getFullYear(),t.getMonth(),t.getDate()+e)}function ry(t,n=!1){return function(e,r){let i;if(n){const a=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();i=1+Math.floor((s+a)/7)}else{const a=ED(e),s=function TQ(t){const n=I7(t,SQ,1).getDay();return I7(t,0,1+(n<=F7?F7:F7+7)-n)}(a.getFullYear()),l=a.getTime()-s.getTime();i=1+Math.round(l/6048e5)}return fc(i,t,Lo(r,Ms.MinusSign))}}function O7(t,n=!1){return function(e,r){return fc(ED(e).getFullYear(),t,Lo(r,Ms.MinusSign),n)}}const iy={};function ND(t,n){t=t.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function ID(t){return t instanceof Date&&!isNaN(t.valueOf())}const kQ=/^(\d+)?\.((\d+)(-(\d+))?)?$/,PD=22,B7=".",P8="0",VQ=";",EQ=",",ay="#";function U7(t,n,e){return function sy(t,n,e,r,i,a,s=!1){let l="",M=!1;if(isFinite(t)){let R=function FQ(t){let r,i,a,s,l,n=Math.abs(t)+"",e=0;for((i=n.indexOf(B7))>-1&&(n=n.replace(B7,"")),(a=n.search(/e/i))>0?(i<0&&(i=a),i+=+n.slice(a+1),n=n.substring(0,a)):i<0&&(i=n.length),a=0;n.charAt(a)===P8;a++);if(a===(l=n.length))r=[0],i=1;else{for(l--;n.charAt(l)===P8;)l--;for(i-=a,r=[],s=0;a<=l;a++,s++)r[s]=Number(n.charAt(a))}return i>PD&&(r=r.splice(0,PD-1),e=i-1,i=1),{digits:r,exponent:e,integerLen:i}}(t);s&&(R=function RQ(t){if(0===t.digits[0])return t;const n=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===n?t.digits.push(0,0):1===n&&t.digits.push(0),t.integerLen+=2),t}(R));let oe=n.minInt,Ce=n.minFrac,We=n.maxFrac;if(a){const ln=a.match(kQ);if(null===ln)throw new Error(`${a} is not a valid digit info`);const tr=ln[1],fr=ln[3],br=ln[5];null!=tr&&(oe=cy(tr)),null!=fr&&(Ce=cy(fr)),null!=br?We=cy(br):null!=fr&&Ce>We&&(We=Ce)}!function OQ(t,n,e){if(n>e)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${e}).`);let r=t.digits,i=r.length-t.integerLen;const a=Math.min(Math.max(n,i),e);let s=a+t.integerLen,l=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let Ce=s;Ce<r.length;Ce++)r[Ce]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=a+1),r[0]=0;for(let Ce=1;Ce<s;Ce++)r[Ce]=0}if(l>=5)if(s-1<0){for(let Ce=0;Ce>s;Ce--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,a);i++)r.push(0);let M=0!==a;const R=n+t.integerLen,oe=r.reduceRight(function(Ce,We,rt,bt){return bt[rt]=(We+=Ce)<10?We:We-10,M&&(0===bt[rt]&&rt>=R?bt.pop():M=!1),We>=10?1:0},0);oe&&(r.unshift(oe),t.integerLen++)}(R,Ce,We);let rt=R.digits,bt=R.integerLen;const Bt=R.exponent;let cn=[];for(M=rt.every(ln=>!ln);bt<oe;bt++)rt.unshift(0);for(;bt<0;bt++)rt.unshift(0);bt>0?cn=rt.splice(bt,rt.length):(cn=rt,rt=[0]);const yn=[];for(rt.length>=n.lgSize&&yn.unshift(rt.splice(-n.lgSize,rt.length).join(""));rt.length>n.gSize;)yn.unshift(rt.splice(-n.gSize,rt.length).join(""));rt.length&&yn.unshift(rt.join("")),l=yn.join(Lo(e,r)),cn.length&&(l+=Lo(e,i)+cn.join("")),Bt&&(l+=Lo(e,Ms.Exponential)+"+"+Bt)}else l=Lo(e,Ms.Infinity);return l=t<0&&!M?n.negPre+l+n.negSuf:n.posPre+l+n.posSuf,l}(t,function oy(t,n="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(VQ),i=r[0],a=r[1],s=-1!==i.indexOf(B7)?i.split(B7):[i.substring(0,i.lastIndexOf(P8)+1),i.substring(i.lastIndexOf(P8)+1)],l=s[0],M=s[1]||"";e.posPre=l.substring(0,l.indexOf(ay));for(let oe=0;oe<M.length;oe++){const Ce=M.charAt(oe);Ce===P8?e.minFrac=e.maxFrac=oe+1:Ce===ay?e.maxFrac=oe+1:e.posSuf+=Ce}const R=l.split(EQ);if(e.gSize=R[1]?R[1].length:0,e.lgSize=R[2]||R[1]?(R[2]||R[1]).length:0,a){const oe=i.length-e.posPre.length-e.posSuf.length,Ce=a.indexOf(ay);e.negPre=a.substring(0,Ce).replace(/'/g,""),e.negSuf=a.slice(Ce+oe).replace(/'/g,"")}else e.negPre=n+e.posPre,e.negSuf=e.posSuf;return e}(function ty(t,n){return q1(t)[La.NumberFormats][n]}(n,z7.Decimal),Lo(n,Ms.MinusSign)),n,Ms.Group,Ms.Decimal,e)}function cy(t){const n=parseInt(t);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+t);return n}const uy=/\s+/,OD=[];let k3=(()=>{class t{constructor(e,r){this._ngEl=e,this._renderer=r,this.initialClasses=OD,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(uy):OD}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(uy):e}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const r of e)this._updateState(r,!0);else if(null!=e)for(const r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){const i=this.stateMap.get(e);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){(e=e.trim()).length>0&&e.split(uy).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(aa),Dt(K2))};static#t=this.\u0275dir=nr({type:t,selectors:[["","ngClass",""]],inputs:{klass:[Er.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}return t})();class $Q{constructor(n,e,r,i){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ko=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,a,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new $Q(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===a?void 0:a);else if(null!==a){const l=r.get(a);r.move(l,s),UD(l,i)}});for(let i=0,a=r.length;i<a;i++){const l=r.get(i).context;l.index=i,l.count=a,l.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{UD(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(Q1),Dt(S1),Dt(B9))};static#t=this.\u0275dir=nr({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function UD(t,n){t.context.$implicit=n.item}let Ji=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new WQ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){GD("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){GD("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(Q1),Dt(S1))};static#t=this.\u0275dir=nr({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class WQ{constructor(){this.$implicit=null,this.ngIf=null}}function GD(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Zt(n)}'.`)}let WD=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,r,i)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,r,i),get:(e,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(Q1))};static#t=this.\u0275dir=nr({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[$s]})}return t})();function dc(t,n){return new tt(2100,!1)}const oJ=new hr(""),cJ=new hr("");let hy=(()=>{class t{constructor(e,r,i){this.locale=e,this.defaultTimezone=r,this.defaultOptions=i}transform(e,r,i,a){if(null==e||""===e||e!=e)return null;try{return MQ(e,r??this.defaultOptions?.dateFormat??"mediumDate",a||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw dc()}}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(El,16),Dt(oJ,24),Dt(cJ,24))};static#t=this.\u0275pipe=Hi({name:"date",type:t,pure:!0,standalone:!0})}return t})(),ls=(()=>{class t{constructor(e){this._locale=e}transform(e,r,i){if(!function py(t){return!(null==t||""===t||t!=t)}(e))return null;i||=this._locale;try{return U7(function vy(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),i,r)}catch(a){throw dc()}}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(El,16))};static#t=this.\u0275pipe=Hi({name:"number",type:t,pure:!0,standalone:!0})}return t})();let iu=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Yr({type:t});static#n=this.\u0275inj=Fi({})}return t})();const YD="browser";function G7(t){return t===YD}function ZD(t){return"server"===t}let CJ=(()=>{class t{static#e=this.\u0275prov=In({token:t,providedIn:"root",factory:()=>G7(Bn(y2))?new MJ(Bn(xa),window):new wJ})}return t})();class MJ{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){const e=function xJ(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const s=a.getElementById(n)||a.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){const e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}}class wJ{setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}}class JJ extends qK{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class gy extends JJ{static makeCurrent(){!function JK(t){DD??=t}(new gy)}onAndCancel(n,e,r){return n.addEventListener(e,r),()=>{n.removeEventListener(e,r)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function qJ(){return O8=O8||document.querySelector("base"),O8?O8.getAttribute("href"):null}();return null==e?null:function eq(t){return new URL(t,document.baseURI).pathname}(e)}resetBaseElement(){O8=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function UQ(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const r=e.indexOf("="),[i,a]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===n)return decodeURIComponent(a)}return null}(document.cookie,n)}}let O8=null,nq=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})();const yy=new hr("");let rA=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(a=>a.supports(e)),!r)throw new tt(5101,!1);return this._eventNameToPlugin.set(e,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(pn(yy),pn(Ci))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})();class iA{constructor(n){this._doc=n}}const by="ng-app-id";let aA=(()=>{class t{constructor(e,r,i,a={}){this.doc=e,this.appId=r,this.nonce=i,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ZD(a),this.resetHostNodes()}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.elements?.forEach(i=>i.remove()),r.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${by}="${this.appId}"]`);if(e?.length){const r=new Map;return e.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(e,r){const i=this.styleRef;if(i.has(e)){const a=i.get(e);return a.usage+=r,a.usage}return i.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){const i=this.styleNodesInDOM,a=i?.get(r);if(a?.parentNode===e)return i.delete(r),a.removeAttribute(by),a;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(by,this.appId),e.appendChild(s),s}}addStyleToHost(e,r){const i=this.getStyleElement(e,r),a=this.styleRef,s=a.get(r)?.elements;s?s.push(i):a.set(r,{elements:[i],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(pn(xa),pn(Nc),pn(g4,8),pn(y2))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})();const Cy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},My=/%COMP%/g,sq=new hr("",{providedIn:"root",factory:()=>!0});function oA(t,n){return n.map(e=>e.replace(My,t))}let xy=(()=>{class t{constructor(e,r,i,a,s,l,M,R=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=a,this.doc=s,this.platformId=l,this.ngZone=M,this.nonce=R,this.rendererByCompId=new Map,this.platformIsServer=ZD(l),this.defaultRenderer=new wy(e,s,M,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===sn.ShadowDom&&(r={...r,encapsulation:sn.Emulated});const i=this.getOrCreateRenderer(e,r);return i instanceof lA?i.applyToHost(e):i instanceof _y&&i.applyStyles(),i}getOrCreateRenderer(e,r){const i=this.rendererByCompId;let a=i.get(r.id);if(!a){const s=this.doc,l=this.ngZone,M=this.eventManager,R=this.sharedStylesHost,oe=this.removeStylesOnCompDestroy,Ce=this.platformIsServer;switch(r.encapsulation){case sn.Emulated:a=new lA(M,R,r,this.appId,oe,s,l,Ce);break;case sn.ShadowDom:return new uq(M,R,e,r,s,l,this.nonce,Ce);default:a=new _y(M,R,r,oe,s,l,Ce)}i.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(pn(rA),pn(aA),pn(Nc),pn(sq),pn(xa),pn(y2),pn(Ci),pn(g4))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})();class wy{constructor(n,e,r,i){this.eventManager=n,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(Cy[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(cA(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(cA(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new tt(-5104,!1);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,i){if(i){e=i+":"+e;const a=Cy[i];a?n.setAttributeNS(a,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const i=Cy[r];i?n.removeAttributeNS(i,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,i){i&(Uc.DashCase|Uc.Important)?n.style.setProperty(e,r,i&Uc.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&Uc.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){null!=n&&(n[e]=r)}setValue(n,e){n.nodeValue=e}listen(n,e,r){if("string"==typeof n&&!(n=z3().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(r))}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&e.preventDefault()}}}function cA(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class uq extends wy{constructor(n,e,r,i,a,s,l,M){super(n,a,s,M),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const R=oA(i.id,i.styles);for(const oe of R){const Ce=document.createElement("style");l&&Ce.setAttribute("nonce",l),Ce.textContent=oe,this.shadowRoot.appendChild(Ce)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class _y extends wy{constructor(n,e,r,i,a,s,l,M){super(n,a,s,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.styles=M?oA(M,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class lA extends _y{constructor(n,e,r,i,a,s,l,M){const R=i+"-"+r.id;super(n,e,r,a,s,l,M,R),this.contentAttr=function oq(t){return"_ngcontent-%COMP%".replace(My,t)}(R),this.hostAttr=function cq(t){return"_nghost-%COMP%".replace(My,t)}(R)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}let fq=(()=>{class t extends iA{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(pn(xa))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})();const uA=["alt","control","meta","shift"],dq={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hq={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let pq=(()=>{class t extends iA{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,i){const a=t.parseEventName(r),s=t.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>z3().onAndCancel(e,a.domEventName,s))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=t._normalizeKey(r.pop());let s="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),s="code."),uA.forEach(R=>{const oe=r.indexOf(R);oe>-1&&(r.splice(oe,1),s+=R+".")}),s+=a,0!=r.length||0===a.length)return null;const M={};return M.domEventName=i,M.fullKey=s,M}static matchEventFullKeyCode(e,r){let i=dq[e.key]||e.key,a="";return r.indexOf("code.")>-1&&(i=e.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),uA.forEach(s=>{s!==i&&(0,hq[s])(e)&&(a+=s+".")}),a+=i,a===r)}static eventCallback(e,r,i){return a=>{t.matchEventFullKeyCode(a,e)&&i.runGuarded(()=>r(a))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(r){return new(r||t)(pn(xa))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})();const yq=eD(MK,"browser",[{provide:y2,useValue:YD},{provide:m4,useValue:function vq(){gy.makeCurrent()},multi:!0},{provide:xa,useFactory:function gq(){return function m2(t){p3=t}(document),document},deps:[]}]),bq=new hr(""),hA=[{provide:C7,useClass:class tq{addToWindow(n){Mn.getAngularTestability=(r,i=!0)=>{const a=n.findTestabilityInTree(r,i);if(null==a)throw new tt(5103,!1);return a},Mn.getAllAngularTestabilities=()=>n.getAllTestabilities(),Mn.getAllAngularRootElements=()=>n.getAllRootElements(),Mn.frameworkStabilizers||(Mn.frameworkStabilizers=[]),Mn.frameworkStabilizers.push(r=>{const i=Mn.getAllAngularTestabilities();let a=i.length;const s=function(){a--,0==a&&r()};i.forEach(l=>{l.whenStable(s)})})}findTestabilityInTree(n,e,r){return null==e?null:n.getTestability(e)??(r?z3().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:UT,useClass:Og,deps:[Ci,Bg,C7]},{provide:Og,useClass:Og,deps:[Ci,Bg,C7]}],pA=[{provide:wl,useValue:"root"},{provide:rc,useFactory:function mq(){return new rc},deps:[]},{provide:yy,useClass:fq,multi:!0,deps:[xa,Ci,y2]},{provide:yy,useClass:pq,multi:!0,deps:[xa]},xy,aA,rA,{provide:R9,useExisting:xy},{provide:class _J{},useClass:nq,deps:[]},[]];let vA=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:Nc,useValue:e.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(pn(bq,12))};static#t=this.\u0275mod=Yr({type:t});static#n=this.\u0275inj=Fi({providers:[...pA,...hA],imports:[iu,xK]})}return t})(),Cq=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(r){return new(r||t)(pn(xa))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),yA=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:function(r){let i=null;return i=r?new(r||t):pn(_q),i},providedIn:"root"})}return t})(),_q=(()=>{class t extends yA{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case x2.NONE:return r;case x2.HTML:return To(r,"HTML")?j1(r):Ia(this._doc,String(r)).toString();case x2.STYLE:return To(r,"Style")?j1(r):r;case x2.SCRIPT:if(To(r,"Script"))return j1(r);throw new tt(5200,!1);case x2.URL:return To(r,"URL")?j1(r):y6(String(r));case x2.RESOURCE_URL:if(To(r,"ResourceURL"))return j1(r);throw new tt(5201,!1);default:throw new tt(5202,!1)}}bypassSecurityTrustHtml(e){return function Vm(t){return new g6(t)}(e)}bypassSecurityTrustStyle(e){return function Em(t){return new Lm(t)}(e)}bypassSecurityTrustScript(e){return function Nm(t){return new zm(t)}(e)}bypassSecurityTrustUrl(e){return function Im(t){return new _f(t)}(e)}bypassSecurityTrustResourceUrl(e){return function Pm(t){return new Jh(t)}(e)}static#e=this.\u0275fac=function(r){return new(r||t)(pn(xa))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function V3(t){return this instanceof V3?(this.v=t,this):new V3(t)}function wA(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function Ay(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(a){e[a]=t[a]&&function(s){return new Promise(function(l,M){!function i(a,s,l,M){Promise.resolve(M).then(function(R){a({value:R,done:l})},s)}(l,M,(s=t[a](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Hy=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function _A(t){return we(t?.then)}function SA(t){return we(t[Lt])}function TA(t){return Symbol.asyncIterator&&we(t?.[Symbol.asyncIterator])}function DA(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const AA=function jq(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function HA(t){return we(t?.[AA])}function LA(t){return function xA(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(t,n||[]),a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(We){r[We]&&(i[We]=function(rt){return new Promise(function(bt,Bt){a.push([We,rt,bt,Bt])>1||l(We,rt)})})}function l(We,rt){try{!function M(We){We.value instanceof V3?Promise.resolve(We.value.v).then(R,oe):Ce(a[0][2],We)}(r[We](rt))}catch(bt){Ce(a[0][3],bt)}}function R(We){l("next",We)}function oe(We){l("throw",We)}function Ce(We,rt){We(rt),a.shift(),a.length&&l(a[0][0],a[0][1])}}(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:r,done:i}=yield V3(e.read());if(i)return yield V3(void 0);yield yield V3(r)}}finally{e.releaseLock()}})}function zA(t){return we(t?.getReader)}function a2(t){if(t instanceof tn)return t;if(null!=t){if(SA(t))return function Yq(t){return new tn(n=>{const e=t[Lt]();if(we(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Hy(t))return function Zq(t){return new tn(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(_A(t))return function Xq(t){return new tn(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,be)})}(t);if(TA(t))return kA(t);if(HA(t))return function Kq(t){return new tn(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(zA(t))return function Qq(t){return kA(LA(t))}(t)}throw DA(t)}function kA(t){return new tn(n=>{(function Jq(t,n){var e,r,i,a;return function CA(t,n,e,r){return new(e||(e=Promise))(function(a,s){function l(oe){try{R(r.next(oe))}catch(Ce){s(Ce)}}function M(oe){try{R(r.throw(oe))}catch(Ce){s(Ce)}}function R(oe){oe.done?a(oe.value):function i(a){return a instanceof e?a:new e(function(s){s(a)})}(oe.value).then(l,M)}R((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=wA(t);!(r=yield e.next()).done;)if(n.next(r.value),n.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(a=e.return)&&(yield a.call(e))}finally{if(i)throw i.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function Rl(t,n,e,r=0,i=!1){const a=n.schedule(function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(a),!i)return a}function VA(t,n=0){return De((e,r)=>{e.subscribe($e(r,i=>Rl(r,t,()=>r.next(i),n),()=>Rl(r,t,()=>r.complete(),n),i=>Rl(r,t,()=>r.error(i),n)))})}function EA(t,n=0){return De((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function NA(t,n){if(!t)throw new Error("Iterable cannot be null");return new tn(e=>{Rl(e,n,()=>{const r=t[Symbol.asyncIterator]();Rl(e,n,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function Qs(t,n){return n?function iee(t,n){if(null!=t){if(SA(t))return function qq(t,n){return a2(t).pipe(EA(n),VA(n))}(t,n);if(Hy(t))return function tee(t,n){return new tn(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}(t,n);if(_A(t))return function eee(t,n){return a2(t).pipe(EA(n),VA(n))}(t,n);if(TA(t))return NA(t,n);if(HA(t))return function nee(t,n){return new tn(e=>{let r;return Rl(e,n,()=>{r=t[AA](),Rl(e,n,()=>{let i,a;try{({value:i,done:a}=r.next())}catch(s){return void e.error(s)}a?e.complete():e.next(i)},0,!0)}),()=>we(r?.return)&&r.return()})}(t,n);if(zA(t))return function ree(t,n){return NA(LA(t),n)}(t,n)}throw DA(t)}(t,n):a2(t)}const{isArray:aee}=Array,{getPrototypeOf:see,prototype:oee,keys:cee}=Object;function IA(t){if(1===t.length){const n=t[0];if(aee(n))return{args:n,keys:null};if(function lee(t){return t&&"object"==typeof t&&see(t)===oee}(n)){const e=cee(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}function PA(t){return t&&we(t.schedule)}function Ly(t){return t[t.length-1]}function RA(t){return we(Ly(t))?t.pop():void 0}function U8(t){return PA(Ly(t))?t.pop():void 0}const{isArray:fee}=Array;function zy(t){return Ye(n=>function dee(t,n){return fee(n)?t(...n):t(n)}(t,n))}function FA(t,n){return t.reduce((e,r,i)=>(e[r]=n[i],e),{})}let OA=(()=>{class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(K2),Dt(aa))};static#t=this.\u0275dir=nr({type:t})}return t})(),n0=(()=>{class t extends OA{static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=zs(t)))(i||t)}})();static#t=this.\u0275dir=nr({type:t,features:[yi]})}return t})();const Xc=new hr(""),vee={provide:Xc,useExisting:u(()=>Wa),multi:!0},gee=new hr("");let Wa=(()=>{class t extends OA{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function mee(){const t=z3()?z3().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(K2),Dt(aa),Dt(gee,8))};static#t=this.\u0275dir=nr({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&mn("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Ma([vee]),yi]})}return t})();function E3(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function UA(t){return null!=t&&"number"==typeof t.length}const F1=new hr(""),N3=new hr(""),yee=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class r0{static min(n){return GA(n)}static max(n){return $A(n)}static required(n){return WA(n)}static requiredTrue(n){return function jA(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function YA(t){return E3(t.value)||yee.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function ZA(t){return n=>E3(n.value)||!UA(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function XA(t){return n=>UA(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static pattern(n){return function KA(t){if(!t)return j7;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),r=>{if(E3(r.value))return null;const i=r.value;return n.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(n)}static nullValidator(n){return null}static compose(n){return nH(n)}static composeAsync(n){return rH(n)}}function GA(t){return n=>{if(E3(n.value)||E3(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}function $A(t){return n=>{if(E3(n.value)||E3(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}function WA(t){return E3(t.value)?{required:!0}:null}function j7(t){return null}function QA(t){return null!=t}function JA(t){return E8(t)?Qs(t):t}function qA(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function eH(t,n){return n.map(e=>e(t))}function tH(t){return t.map(n=>function bee(t){return!t.validate}(n)?n:e=>n.validate(e))}function nH(t){if(!t)return null;const n=t.filter(QA);return 0==n.length?null:function(e){return qA(eH(e,n))}}function ky(t){return null!=t?nH(tH(t)):null}function rH(t){if(!t)return null;const n=t.filter(QA);return 0==n.length?null:function(e){return function hee(...t){const n=RA(t),{args:e,keys:r}=IA(t),i=new tn(a=>{const{length:s}=e;if(!s)return void a.complete();const l=new Array(s);let M=s,R=s;for(let oe=0;oe<s;oe++){let Ce=!1;a2(e[oe]).subscribe($e(a,We=>{Ce||(Ce=!0,R--),l[oe]=We},()=>M--,void 0,()=>{(!M||!Ce)&&(R||a.next(r?FA(r,l):l),a.complete())}))}});return n?i.pipe(zy(n)):i}(eH(e,n).map(JA)).pipe(Ye(qA))}}function Vy(t){return null!=t?rH(tH(t)):null}function iH(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function aH(t){return t._rawValidators}function sH(t){return t._rawAsyncValidators}function Ey(t){return t?Array.isArray(t)?t:[t]:[]}function Y7(t,n){return Array.isArray(t)?t.includes(n):t===n}function oH(t,n){const e=Ey(n);return Ey(t).forEach(i=>{Y7(e,i)||e.push(i)}),e}function cH(t,n){return Ey(n).filter(e=>!Y7(t,e))}class lH{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=ky(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Vy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class s2 extends lH{get formDirective(){return null}get path(){return null}}class I3 extends lH{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class uH{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let us=(()=>{class t extends uH{constructor(e){super(e)}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(I3,2))};static#t=this.\u0275dir=nr({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&pr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[yi]})}return t})(),qa=(()=>{class t extends uH{constructor(e){super(e)}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(s2,10))};static#t=this.\u0275dir=nr({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&pr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[yi]})}return t})();const G8="VALID",X7="INVALID",au="PENDING",$8="DISABLED";function Py(t){return(K7(t)?t.validators:t)||null}function Ry(t,n){return(K7(n)?n.asyncValidators:t)||null}function K7(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function dH(t,n,e){const r=t.controls;if(!(n?Object.keys(r):r).length)throw new tt(1e3,"");if(!r[e])throw new tt(1001,"")}function hH(t,n,e){t._forEachChild((r,i)=>{if(void 0===e[i])throw new tt(1002,"")})}class Q7{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===G8}get invalid(){return this.status===X7}get pending(){return this.status==au}get disabled(){return this.status===$8}get enabled(){return this.status!==$8}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(oH(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(oH(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(cH(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(cH(n,this._rawAsyncValidators))}hasValidator(n){return Y7(this._rawValidators,n)}hasAsyncValidator(n){return Y7(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=au,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=$8,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=G8,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===G8||this.status===au)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$8:G8}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=au,this._hasOwnPendingAsyncValidator=!0;const e=JA(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(n,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Kt,this.statusChanges=new Kt}_calculateStatus(){return this._allControlsDisabled()?$8:this.errors?X7:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(au)?au:this._anyControlsHaveStatus(X7)?X7:G8}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){K7(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function wee(t){return Array.isArray(t)?ky(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function _ee(t){return Array.isArray(t)?Vy(t):t||null}(this._rawAsyncValidators)}}class W8 extends Q7{constructor(n,e,r){super(Py(e),Ry(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){hH(this,0,n),Object.keys(n).forEach(r=>{dH(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(r=>{const i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((i,a)=>{r=e(r,i,a)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}class pH extends W8{}const a0=new hr("CallSetDisabledState",{providedIn:"root",factory:()=>j8}),j8="always";function J7(t,n){return[...n.path,t]}function Y8(t,n,e=j8){Fy(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function Tee(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&vH(t,n)})}(t,n),function Aee(t,n){const e=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function Dee(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&vH(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function See(t,n){if(n.valueAccessor.setDisabledState){const e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function q7(t,n,e=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),tp(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function ep(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function Fy(t,n){const e=aH(t);null!==n.validator?t.setValidators(iH(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const r=sH(t);null!==n.asyncValidator?t.setAsyncValidators(iH(r,n.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();ep(n._rawValidators,i),ep(n._rawAsyncValidators,i)}function tp(t,n){let e=!1;if(null!==t){if(null!==n.validator){const i=aH(t);if(Array.isArray(i)&&i.length>0){const a=i.filter(s=>s!==n.validator);a.length!==i.length&&(e=!0,t.setValidators(a))}}if(null!==n.asyncValidator){const i=sH(t);if(Array.isArray(i)&&i.length>0){const a=i.filter(s=>s!==n.asyncValidator);a.length!==i.length&&(e=!0,t.setAsyncValidators(a))}}}const r=()=>{};return ep(n._rawValidators,r),ep(n._rawAsyncValidators,r),e}function vH(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function yH(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function bH(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}Promise.resolve();const X8=class extends Q7{constructor(n=null,e,r){super(Py(e),Ry(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),K7(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=bH(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){yH(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){yH(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){bH(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};let CH=(()=>{class t extends s2{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return J7(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=zs(t)))(i||t)}})();static#t=this.\u0275dir=nr({type:t,features:[yi]})}return t})();Promise.resolve();let D2=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=nr({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})();const Pee={provide:Xc,useExisting:u(()=>xs),multi:!0};let xs=(()=>{class t extends n0{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=zs(t)))(i||t)}})();static#t=this.\u0275dir=nr({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&mn("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Ma([Pee]),yi]})}return t})();const Ree={provide:Xc,useExisting:u(()=>$y),multi:!0};let Fee=(()=>{class t{constructor(){this._accessors=[]}add(e,r){this._accessors.push([e,r])}remove(e){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===e)return void this._accessors.splice(r,1)}select(e){this._accessors.forEach(r=>{this._isSameGroup(r,e)&&r[1]!==e&&r[1].fireUncheck(e.value)})}_isSameGroup(e,r){return!!e[0].control&&e[0]._parent===r._control._parent&&e[1].name===r.name}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$y=(()=>{class t extends n0{constructor(e,r,i,a){super(e,r),this._registry=i,this._injector=a,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=Bn(a0,{optional:!0})??j8}ngOnInit(){this._control=this._injector.get(I3),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(K2),Dt(aa),Dt(Fee),Dt(Ws))};static#t=this.\u0275dir=nr({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){1&r&&mn("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Ma([Ree]),yi]})}return t})();const Wy=new hr(""),Uee={provide:s2,useExisting:u(()=>Pa)};let Pa=(()=>{class t extends s2{constructor(e,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Kt,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(tp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return Y8(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){q7(e.control||null,e,!1),function kee(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function gH(t,n){t._syncPendingControls(),n.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(q7(r||null,e),(t=>t instanceof X8)(i)&&(Y8(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function mH(t,n){Fy(t,n)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function Hee(t,n){return tp(t,n)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Fy(this.form,this),this._oldForm&&tp(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(F1,10),Dt(N3,10),Dt(a0,8))};static#t=this.\u0275dir=nr({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&mn("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[Er.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ma([Uee]),yi,$s]})}return t})();const Gee={provide:s2,useExisting:u(()=>K8)};let K8=(()=>{class t extends CH{constructor(e,r,i){super(),this.name=null,this._parent=e,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){TH(this._parent)}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(s2,13),Dt(F1,10),Dt(N3,10))};static#t=this.\u0275dir=nr({type:t,selectors:[["","formGroupName",""]],inputs:{name:[Er.None,"formGroupName","name"]},features:[Ma([Gee]),yi]})}return t})();const $ee={provide:s2,useExisting:u(()=>Q8)};let Q8=(()=>{class t extends s2{constructor(e,r,i){super(),this.name=null,this._parent=e,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return J7(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){TH(this._parent)}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(s2,13),Dt(F1,10),Dt(N3,10))};static#t=this.\u0275dir=nr({type:t,selectors:[["","formArrayName",""]],inputs:{name:[Er.None,"formArrayName","name"]},features:[Ma([$ee]),yi]})}return t})();function TH(t){return!(t instanceof K8||t instanceof Pa||t instanceof Q8)}const Wee={provide:I3,useExisting:u(()=>es)};let es=(()=>{class t extends I3{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,r,i,a,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Kt,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Uy(t,n){if(!n)return null;let e,r,i;return Array.isArray(n),n.forEach(a=>{a.constructor===Wa?e=a:function zee(t){return Object.getPrototypeOf(t.constructor)===n0}(a)?r=a:i=a}),i||r||e||null}(0,a)}ngOnChanges(e){this._added||this._setUpControl(),function By(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return J7(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(Dt(s2,13),Dt(F1,10),Dt(N3,10),Dt(Xc,10),Dt(Wy,8))};static#n=this.\u0275dir=nr({type:t,selectors:[["","formControlName",""]],inputs:{name:[Er.None,"formControlName","name"],isDisabled:[Er.None,"disabled","isDisabled"],model:[Er.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ma([Wee]),yi,$s]})}return t})();function LH(t){return"number"==typeof t?t:parseFloat(t)}let s0=(()=>{class t{constructor(){this._validator=j7}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):j7,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=nr({type:t,features:[$s]})}return t})();const Jee={provide:F1,useExisting:u(()=>ws),multi:!0};let ws=(()=>{class t extends s0{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>LH(e),this.createValidator=e=>$A(e)}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=zs(t)))(i||t)}})();static#t=this.\u0275dir=nr({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&J1("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[Ma([Jee]),yi]})}return t})();const qee={provide:F1,useExisting:u(()=>_s),multi:!0};let _s=(()=>{class t extends s0{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>LH(e),this.createValidator=e=>GA(e)}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=zs(t)))(i||t)}})();static#t=this.\u0275dir=nr({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&J1("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[Ma([qee]),yi]})}return t})();const ete={provide:F1,useExisting:u(()=>T1),multi:!0};let T1=(()=>{class t extends s0{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=uc,this.createValidator=e=>WA}enabled(e){return e}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=zs(t)))(i||t)}})();static#t=this.\u0275dir=nr({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&J1("required",i._enabled?"":null)},inputs:{required:"required"},features:[Ma([ete]),yi]})}return t})(),IH=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Yr({type:t});static#n=this.\u0275inj=Fi({})}return t})();class PH extends Q7{constructor(n,e,r){super(Py(e),Ry(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,r={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,e={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,r={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){hH(this,0,n),n.forEach((r,i)=>{dH(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,r)=>{n(e,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}}function RH(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let ste=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new t;return e.useNonNullable=!0,e}group(e,r=null){const i=this._reduceControls(e);let a={};return RH(r)?a=r:null!==r&&(a.validators=r.validator,a.asyncValidators=r.asyncValidator),new W8(i,a)}record(e,r=null){const i=this._reduceControls(e);return new pH(i,r)}control(e,r,i){let a={};return this.useNonNullable?(RH(r)?a=r:(a.validators=r,a.asyncValidators=i),new X8(e,{...a,nonNullable:!0})):new X8(e,r,i)}array(e,r,i){const a=e.map(s=>this._createControl(s));return new PH(a,r,i)}_reduceControls(e){const r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){return e instanceof X8||e instanceof Q7?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ts=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:()=>Bn(ste).nonNullable,providedIn:"root"})}return t})(),ote=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:a0,useValue:e.callSetDisabledState??j8}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Yr({type:t});static#n=this.\u0275inj=Fi({imports:[IH]})}return t})(),FH=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Wy,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:a0,useValue:e.callSetDisabledState??j8}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Yr({type:t});static#n=this.\u0275inj=Fi({imports:[IH]})}return t})();function np(t){return new tn(n=>{a2(t()).subscribe(n)})}function J8(t,n){const e=we(t)?t:()=>t,r=i=>i.error(e());return new tn(n?i=>n.schedule(r,0,i):r)}function c1(t,n,e=1/0){return we(n)?c1((r,i)=>Ye((a,s)=>n(r,a,i,s))(a2(t(r,i))),e):("number"==typeof n&&(e=n),De((r,i)=>function cte(t,n,e,r,i,a,s,l){const M=[];let R=0,oe=0,Ce=!1;const We=()=>{Ce&&!M.length&&!R&&n.complete()},rt=Bt=>R<r?bt(Bt):M.push(Bt),bt=Bt=>{a&&n.next(Bt),R++;let cn=!1;a2(e(Bt,oe++)).subscribe($e(n,yn=>{i?.(yn),a?rt(yn):n.next(yn)},()=>{cn=!0},void 0,()=>{if(cn)try{for(R--;M.length&&R<r;){const yn=M.shift();s?Rl(n,s,()=>bt(yn)):bt(yn)}We()}catch(yn){n.error(yn)}}))};return t.subscribe($e(n,rt,()=>{Ce=!0,We()})),()=>{l?.()}}(r,i,t,e)))}const lte=["addListener","removeListener"],ute=["addEventListener","removeEventListener"],fte=["on","off"];function hc(t,n,e,r){if(we(e)&&(r=e,e=void 0),r)return hc(t,n,e).pipe(zy(r));const[i,a]=function pte(t){return we(t.addEventListener)&&we(t.removeEventListener)}(t)?ute.map(s=>l=>t[s](n,l,e)):function dte(t){return we(t.addListener)&&we(t.removeListener)}(t)?lte.map(OH(t,n)):function hte(t){return we(t.on)&&we(t.off)}(t)?fte.map(OH(t,n)):[];if(!i&&Hy(t))return c1(s=>hc(s,n,e))(a2(t));if(!i)throw new TypeError("Invalid event target");return new tn(s=>{const l=(...M)=>s.next(1<M.length?M:M[0]);return i(l),()=>a(l)})}function OH(t,n){return e=>r=>t[e](n,r)}function jr(...t){return Qs(t,U8(t))}function su(t=1/0){return c1(Xt,t)}function ou(...t){return function vte(){return su(1)}()(Qs(t,U8(t)))}const cu=new tn(ze),Kc=new tn(t=>t.complete());function rp(...t){const n=U8(t),e=function uee(t,n){return"number"==typeof Ly(t)?t.pop():n}(t,1/0),r=t;return r.length?1===r.length?a2(r[0]):su(e)(Qs(r,n)):Kc}function l1(t,n){return De((e,r)=>{let i=0;e.subscribe($e(r,a=>t.call(n,a,i++)&&r.next(a)))})}function o2(t,n){return De((e,r)=>{let i=null,a=0,s=!1;const l=()=>s&&!i&&r.complete();e.subscribe($e(r,M=>{i?.unsubscribe();let R=0;const oe=a++;a2(t(M,oe)).subscribe(i=$e(r,Ce=>r.next(n?n(M,Ce,oe,R++):Ce),()=>{i=null,l()}))},()=>{s=!0,l()}))})}function Zy(){return De((t,n)=>{let e=null;t._refCount++;const r=$e(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const i=t._connection,a=e;e=null,i&&(!a||i===a)&&i.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}class Xy extends tn{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,ye(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new X;const e=this.getSubject();n.add(this.source.subscribe($e(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=X.EMPTY)}return n}refCount(){return Zy()(this)}}const yte={connector:()=>new dt};function BH(t,n=yte){const{connector:e}=n;return De((r,i)=>{const a=e();a2(t(function gte(t){return new tn(n=>t.subscribe(n))}(a))).subscribe(i),i.add(r.subscribe(a))})}function Js(t){return t<=0?()=>Kc:De((n,e)=>{let r=0;n.subscribe($e(e,i=>{++r<=t&&(e.next(i),t<=r&&e.complete())}))})}function D1(t,n,e){const r=we(t)||n||e?{next:t,error:n,complete:e}:t;return r?De((i,a)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let l=!0;i.subscribe($e(a,M=>{var R;null===(R=r.next)||void 0===R||R.call(r,M),a.next(M)},()=>{var M;l=!1,null===(M=r.complete)||void 0===M||M.call(r),a.complete()},M=>{var R;l=!1,null===(R=r.error)||void 0===R||R.call(r,M),a.error(M)},()=>{var M,R;l&&(null===(M=r.unsubscribe)||void 0===M||M.call(r)),null===(R=r.finalize)||void 0===R||R.call(r)}))}):Xt}class Mte extends X{constructor(n,e){super()}schedule(n,e=0){return this}}const ip={setInterval(t,n,...e){const{delegate:r}=ip;return r?.setInterval?r.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=ip;return(n?.clearInterval||clearInterval)(t)},delegate:void 0};class Ky extends Mte{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var r;if(this.closed)return this;this.state=n;const i=this.id,a=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(a,i,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(a,this.id,e),this}requestAsyncId(n,e,r=0){return ip.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&ip.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let i,r=!1;try{this.work(n)}catch(a){r=!0,i=a||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,P(r,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}const UH={now:()=>(UH.delegate||Date).now(),delegate:void 0};class q8{constructor(n,e=q8.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,r){return new this.schedulerActionCtor(this,n).schedule(r,e)}}q8.now=UH.now;class Qy extends q8{constructor(n,e=q8.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,r){for(;n=e.shift();)n.unsubscribe();throw r}}}const ap=new Qy(Ky),xte=ap;function GH(t){return Ye(()=>t)}function $H(t,n){return n?e=>ou(n.pipe(Js(1),function wte(){return De((t,n)=>{t.subscribe($e(n,ze))})}()),e.pipe($H(t))):c1((e,r)=>a2(t(e,r)).pipe(Js(1),GH(e)))}function WH(t=0,n,e=xte){let r=-1;return null!=n&&(PA(n)?e=n:r=n),new tn(i=>{let a=function _te(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;a<0&&(a=0);let s=0;return e.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},a)})}const ed="Service workers are disabled or not supported by this browser";class sp{constructor(n){if(this.serviceWorker=n,n){const r=hc(n,"controllerchange").pipe(Ye(()=>n.controller)),a=ou(np(()=>jr(n.controller)),r);this.worker=a.pipe(l1(oe=>!!oe)),this.registration=this.worker.pipe(o2(()=>n.getRegistration()));const R=hc(n,"message").pipe(Ye(oe=>oe.data)).pipe(l1(oe=>oe&&oe.type)).pipe(function Cte(t){return t?n=>BH(t)(n):n=>function bte(t,n){const e=we(t)?t:()=>t;return we(n)?BH(n,{connector:e}):r=>new Xy(r,e)}(new dt)(n)}());R.connect(),this.events=R}else this.worker=this.events=this.registration=function Tte(t){return np(()=>J8(new Error(t)))}(ed)}postMessage(n,e){return this.worker.pipe(Js(1),D1(r=>{r.postMessage({action:n,...e})})).toPromise().then(()=>{})}postMessageWithOperation(n,e,r){const i=this.waitForOperationCompleted(r),a=this.postMessage(n,e);return Promise.all([a,i]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(n){let e;return e="string"==typeof n?r=>r.type===n:r=>n.includes(r.type),this.events.pipe(l1(e))}nextEventOfType(n){return this.eventsOfType(n).pipe(Js(1))}waitForOperationCompleted(n){return this.eventsOfType("OPERATION_COMPLETED").pipe(l1(e=>e.nonce===n),Js(1),Ye(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let jH=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,this.pushManager=null,this.subscriptionChanges=new dt,!e.isEnabled)return this.messages=cu,this.notificationClicks=cu,void(this.subscription=cu);this.messages=this.sw.eventsOfType("PUSH").pipe(Ye(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Ye(i=>i.data)),this.pushManager=this.sw.registration.pipe(Ye(i=>i.pushManager));const r=this.pushManager.pipe(o2(i=>i.getSubscription()));this.subscription=rp(r,this.subscriptionChanges)}requestSubscription(e){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(ed));const r={userVisibleOnly:!0};let i=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),a=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)a[s]=i.charCodeAt(s);return r.applicationServerKey=a,this.pushManager.pipe(o2(s=>s.subscribe(r)),Js(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Js(1),o2(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(ed))}decodeBase64(e){return atob(e)}static#e=this.\u0275fac=function(r){return new(r||t)(pn(sp))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})(),YH=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=cu,void(this.unrecoverable=cu);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ed));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ed));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static#e=this.\u0275fac=function(r){return new(r||t)(pn(sp))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})();const ZH=new hr("");function Dte(t,n,e,r){return()=>{if(!G7(r)||!("serviceWorker"in navigator)||!1===e.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)i=e.registrationStrategy();else{const[s,...l]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=jr(null);break;case"registerWithDelay":i=XH(+l[0]||0);break;case"registerWhenStable":i=l[0]?rp(KH(t),XH(+l[0])):KH(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}t.get(Ci).runOutsideAngular(()=>i.pipe(Js(1)).subscribe(()=>navigator.serviceWorker.register(n,{scope:e.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function XH(t){return jr(null).pipe(function Ste(t,n=ap){const e=WH(t,n);return $H(()=>e)}(t))}function KH(t){return t.get(Vl).isStable.pipe(l1(e=>e))}function Ate(t,n){return new sp(G7(n)&&!1!==t.enabled?navigator.serviceWorker:void 0)}class Jy{}function Hte(t,n={}){return function S4(t){return{\u0275providers:t}}([jH,YH,{provide:ZH,useValue:t},{provide:Jy,useValue:n},{provide:sp,useFactory:Ate,deps:[Jy,y2]},{provide:M7,useFactory:Dte,deps:[Ws,ZH,Jy,y2],multi:!0}])}let Lte=(()=>{class t{static register(e,r={}){return{ngModule:t,providers:[Hte(e,r)]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Yr({type:t});static#n=this.\u0275inj=Fi({providers:[jH,YH]})}return t})();var Xr=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Xr||{});const Fl="*";function zte(t,n){return{type:Xr.Trigger,name:t,definitions:n,options:{}}}function QH(t,n=null){return{type:Xr.Animate,styles:n,timings:t}}function td(t){return{type:Xr.Style,styles:t,offset:null}}function JH(t,n,e){return{type:Xr.State,name:t,styles:n,options:e}}function qH(t,n,e=null){return{type:Xr.Transition,expr:t,animation:n,options:e}}class nd{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class eL{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,r=0,i=0;const a=this.players.length;0==a?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==a&&this._onFinish()}),s.onDestroy(()=>{++r==a&&this._onDestroy()}),s.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((s,l)=>Math.max(s,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const n=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function tL(t){return new tt(3e3,!1)}function P3(t){switch(t.length){case 0:return new nd;case 1:return t[0];default:return new eL(t)}}function nL(t,n,e=new Map,r=new Map){const i=[],a=[];let s=-1,l=null;if(n.forEach(M=>{const R=M.get("offset"),oe=R==s,Ce=oe&&l||new Map;M.forEach((We,rt)=>{let bt=rt,Bt=We;if("offset"!==rt)switch(bt=t.normalizePropertyName(bt,i),Bt){case"!":Bt=e.get(rt);break;case Fl:Bt=r.get(rt);break;default:Bt=t.normalizeStyleValue(rt,bt,Bt,i)}Ce.set(bt,Bt)}),oe||a.push(Ce),l=Ce,s=R}),i.length)throw function ane(t){return new tt(3502,!1)}();return a}function eb(t,n,e,r){switch(n){case"start":t.onStart(()=>r(e&&tb(e,"start",t)));break;case"done":t.onDone(()=>r(e&&tb(e,"done",t)));break;case"destroy":t.onDestroy(()=>r(e&&tb(e,"destroy",t)))}}function tb(t,n,e){const a=nb(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,e.totalTime??t.totalTime,!!e.disabled),s=t._data;return null!=s&&(a._data=s),a}function nb(t,n,e,r,i="",a=0,s){return{element:t,triggerName:n,fromState:e,toState:r,phaseName:i,totalTime:a,disabled:!!s}}function q2(t,n,e){let r=t.get(n);return r||t.set(n,r=e),r}function rL(t){const n=t.indexOf(":");return[t.substring(1,n),t.slice(n+1)]}const gne=typeof document>"u"?null:document.documentElement;function rb(t){const n=t.parentNode||t.host||null;return n===gne?null:n}let o0=null,iL=!1;function aL(t,n){for(;n;){if(n===t)return!0;n=rb(n)}return!1}function sL(t,n,e){if(e)return Array.from(t.querySelectorAll(n));const r=t.querySelector(n);return r?[r]:[]}let ib=(()=>{class t{validateStyleProperty(e){return function bne(t){o0||(o0=function Cne(){return typeof document<"u"?document.body:null}()||{},iL=!!o0.style&&"WebkitAppearance"in o0.style);let n=!0;return o0.style&&!function yne(t){return"ebkit"==t.substring(1,6)}(t)&&(n=t in o0.style,!n&&iL&&(n="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in o0.style)),n}(e)}matchesElement(e,r){return!1}containsElement(e,r){return aL(e,r)}getParentElement(e){return rb(e)}query(e,r,i){return sL(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,a,s,l=[],M){return new nd(i,a)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})();class ab{static#e=this.NOOP=new ib}class sb{}const xne=1e3,ob="ng-enter",op="ng-leave",cp="ng-trigger",lp=".ng-trigger",cL="ng-animating",cb=".ng-animating";function Ol(t){if("number"==typeof t)return t;const n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:lb(parseFloat(n[1]),n[2])}function lb(t,n){return"s"===n?t*xne:t}function up(t,n,e){return t.hasOwnProperty("duration")?t:function _ne(t,n,e){let i,a=0,s="";if("string"==typeof t){const l=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return n.push(tL()),{duration:0,delay:0,easing:""};i=lb(parseFloat(l[1]),l[2]);const M=l[3];null!=M&&(a=lb(parseFloat(M),l[4]));const R=l[5];R&&(s=R)}else i=t;if(!e){let l=!1,M=n.length;i<0&&(n.push(function Pte(){return new tt(3100,!1)}()),l=!0),a<0&&(n.push(function Rte(){return new tt(3101,!1)}()),l=!0),l&&n.splice(M,0,tL())}return{duration:i,delay:a,easing:s}}(t,n,e)}function Qc(t,n,e){n.forEach((r,i)=>{const a=fb(i);e&&!e.has(i)&&e.set(i,t.style[a]),t.style[a]=r})}function c0(t,n){n.forEach((e,r)=>{const i=fb(r);t.style[i]=""})}function rd(t){return Array.isArray(t)?1==t.length?t[0]:function kte(t,n=null){return{type:Xr.Sequence,steps:t,options:n}}(t):t}const ub=new RegExp("{{\\s*(.+?)\\s*}}","g");function uL(t){let n=[];if("string"==typeof t){let e;for(;e=ub.exec(t);)n.push(e[1]);ub.lastIndex=0}return n}function id(t,n,e){const r=`${t}`,i=r.replace(ub,(a,s)=>{let l=n[s];return null==l&&(e.push(function Ote(t){return new tt(3003,!1)}()),l=""),l.toString()});return i==r?t:i}const Dne=/-+([a-z0-9])/g;function fb(t){return t.replace(Dne,(...n)=>n[1].toUpperCase())}function eo(t,n,e){switch(n.type){case Xr.Trigger:return t.visitTrigger(n,e);case Xr.State:return t.visitState(n,e);case Xr.Transition:return t.visitTransition(n,e);case Xr.Sequence:return t.visitSequence(n,e);case Xr.Group:return t.visitGroup(n,e);case Xr.Animate:return t.visitAnimate(n,e);case Xr.Keyframes:return t.visitKeyframes(n,e);case Xr.Style:return t.visitStyle(n,e);case Xr.Reference:return t.visitReference(n,e);case Xr.AnimateChild:return t.visitAnimateChild(n,e);case Xr.AnimateRef:return t.visitAnimateRef(n,e);case Xr.Query:return t.visitQuery(n,e);case Xr.Stagger:return t.visitStagger(n,e);default:throw function Bte(t){return new tt(3004,!1)}()}}function db(t,n){return window.getComputedStyle(t)[n]}const Lne=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class fL extends sb{normalizePropertyName(n,e){return fb(n)}normalizeStyleValue(n,e,r,i){let a="";const s=r.toString().trim();if(Lne.has(e)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const l=r.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&i.push(function Ute(t,n){return new tt(3005,!1)}())}return s+a}}const fp="*";const dp=new Set(["true","1"]),hp=new Set(["false","0"]);function dL(t,n){const e=dp.has(t)||hp.has(t),r=dp.has(n)||hp.has(n);return(i,a)=>{let s=t==fp||t==i,l=n==fp||n==a;return!s&&e&&"boolean"==typeof i&&(s=i?dp.has(t):hp.has(t)),!l&&r&&"boolean"==typeof a&&(l=a?dp.has(n):hp.has(n)),s&&l}}const Ene=new RegExp("s*:selfs*,?","g");function hb(t,n,e,r){return new Nne(t).build(n,e,r)}class Nne{constructor(n){this._driver=n}build(n,e,r){const i=new Rne(e);return this._resetContextStyleTimingState(i),eo(this,rd(n),i)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let r=e.queryCount=0,i=e.depCount=0;const a=[],s=[];return"@"==n.name.charAt(0)&&e.errors.push(function Gte(){return new tt(3006,!1)}()),n.definitions.forEach(l=>{if(this._resetContextStyleTimingState(e),l.type==Xr.State){const M=l,R=M.name;R.toString().split(/\s*,\s*/).forEach(oe=>{M.name=oe,a.push(this.visitState(M,e))}),M.name=R}else if(l.type==Xr.Transition){const M=this.visitTransition(l,e);r+=M.queryCount,i+=M.depCount,s.push(M)}else e.errors.push(function $te(){return new tt(3007,!1)}())}),{type:Xr.Trigger,name:n.name,states:a,transitions:s,queryCount:r,depCount:i,options:null}}visitState(n,e){const r=this.visitStyle(n.styles,e),i=n.options&&n.options.params||null;if(r.containsDynamicStyles){const a=new Set,s=i||{};r.styles.forEach(l=>{l instanceof Map&&l.forEach(M=>{uL(M).forEach(R=>{s.hasOwnProperty(R)||a.add(R)})})}),a.size&&e.errors.push(function Wte(t,n){return new tt(3008,!1)}(0,a.values()))}return{type:Xr.State,name:n.name,style:r,options:i?{params:i}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const r=eo(this,rd(n.animation),e),i=function zne(t,n){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function kne(t,n,e){if(":"==t[0]){const M=function Vne(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return n.push(function tne(t){return new tt(3016,!1)}()),"* => *"}}(t,e);if("function"==typeof M)return void n.push(M);t=M}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function ene(t){return new tt(3015,!1)}()),n;const i=r[1],a=r[2],s=r[3];n.push(dL(i,s)),"<"==a[0]&&(i!=fp||s!=fp)&&n.push(dL(s,i))}(r,e,n)):e.push(t),e}(n.expr,e.errors);return{type:Xr.Transition,matchers:i,animation:r,queryCount:e.queryCount,depCount:e.depCount,options:l0(n.options)}}visitSequence(n,e){return{type:Xr.Sequence,steps:n.steps.map(r=>eo(this,r,e)),options:l0(n.options)}}visitGroup(n,e){const r=e.currentTime;let i=0;const a=n.steps.map(s=>{e.currentTime=r;const l=eo(this,s,e);return i=Math.max(i,e.currentTime),l});return e.currentTime=i,{type:Xr.Group,steps:a,options:l0(n.options)}}visitAnimate(n,e){const r=function One(t,n){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return pb(up(t,n).duration,0,"");const e=t;if(e.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=pb(0,0,"");return a.dynamic=!0,a.strValue=e,a}const i=up(e,n);return pb(i.duration,i.delay,i.easing)}(n.timings,e.errors);e.currentAnimateTimings=r;let i,a=n.styles?n.styles:td({});if(a.type==Xr.Keyframes)i=this.visitKeyframes(a,e);else{let s=n.styles,l=!1;if(!s){l=!0;const R={};r.easing&&(R.easing=r.easing),s=td(R)}e.currentTime+=r.duration+r.delay;const M=this.visitStyle(s,e);M.isEmptyStep=l,i=M}return e.currentAnimateTimings=null,{type:Xr.Animate,timings:r,style:i,options:null}}visitStyle(n,e){const r=this._makeStyleAst(n,e);return this._validateStyleAst(r,e),r}_makeStyleAst(n,e){const r=[],i=Array.isArray(n.styles)?n.styles:[n.styles];for(let l of i)"string"==typeof l?l===Fl?r.push(l):e.errors.push(new tt(3002,!1)):r.push(new Map(Object.entries(l)));let a=!1,s=null;return r.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(s=l.get("easing"),l.delete("easing")),!a))for(let M of l.values())if(M.toString().indexOf("{{")>=0){a=!0;break}}),{type:Xr.Style,styles:r,easing:s,offset:n.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(n,e){const r=e.currentAnimateTimings;let i=e.currentTime,a=e.currentTime;r&&a>0&&(a-=r.duration+r.delay),n.styles.forEach(s=>{"string"!=typeof s&&s.forEach((l,M)=>{const R=e.collectedStyles.get(e.currentQuerySelector),oe=R.get(M);let Ce=!0;oe&&(a!=i&&a>=oe.startTime&&i<=oe.endTime&&(e.errors.push(function Yte(t,n,e,r,i){return new tt(3010,!1)}()),Ce=!1),a=oe.startTime),Ce&&R.set(M,{startTime:a,endTime:i}),e.options&&function Tne(t,n,e){const r=n.params||{},i=uL(t);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||e.push(function Fte(t){return new tt(3001,!1)}())})}(l,e.options,e.errors)})})}visitKeyframes(n,e){const r={type:Xr.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Zte(){return new tt(3011,!1)}()),r;let a=0;const s=[];let l=!1,M=!1,R=0;const oe=n.steps.map(yn=>{const ln=this._makeStyleAst(yn,e);let tr=null!=ln.offset?ln.offset:function Fne(t){if("string"==typeof t)return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){const r=e;n=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const e=t;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(ln.styles),fr=0;return null!=tr&&(a++,fr=ln.offset=tr),M=M||fr<0||fr>1,l=l||fr<R,R=fr,s.push(fr),ln});M&&e.errors.push(function Xte(){return new tt(3012,!1)}()),l&&e.errors.push(function Kte(){return new tt(3200,!1)}());const Ce=n.steps.length;let We=0;a>0&&a<Ce?e.errors.push(function Qte(){return new tt(3202,!1)}()):0==a&&(We=1/(Ce-1));const rt=Ce-1,bt=e.currentTime,Bt=e.currentAnimateTimings,cn=Bt.duration;return oe.forEach((yn,ln)=>{const tr=We>0?ln==rt?1:We*ln:s[ln],fr=tr*cn;e.currentTime=bt+Bt.delay+fr,Bt.duration=fr,this._validateStyleAst(yn,e),yn.offset=tr,r.styles.push(yn)}),r}visitReference(n,e){return{type:Xr.Reference,animation:eo(this,rd(n.animation),e),options:l0(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:Xr.AnimateChild,options:l0(n.options)}}visitAnimateRef(n,e){return{type:Xr.AnimateRef,animation:this.visitReference(n.animation,e),options:l0(n.options)}}visitQuery(n,e){const r=e.currentQuerySelector,i=n.options||{};e.queryCount++,e.currentQuery=n;const[a,s]=function Ine(t){const n=!!t.split(/\s*,\s*/).find(e=>":self"==e);return n&&(t=t.replace(Ene,"")),t=t.replace(/@\*/g,lp).replace(/@\w+/g,e=>lp+"-"+e.slice(1)).replace(/:animating/g,cb),[t,n]}(n.selector);e.currentQuerySelector=r.length?r+" "+a:a,q2(e.collectedStyles,e.currentQuerySelector,new Map);const l=eo(this,rd(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:Xr.Query,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:l,originalSelector:n.selector,options:l0(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function Jte(){return new tt(3013,!1)}());const r="full"===n.timings?{duration:0,delay:0,easing:"full"}:up(n.timings,e.errors,!0);return{type:Xr.Stagger,animation:eo(this,rd(n.animation),e),timings:r,options:null}}}class Rne{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function l0(t){return t?(t={...t}).params&&(t.params=function Pne(t){return t?{...t}:null}(t.params)):t={},t}function pb(t,n,e){return{duration:t,delay:n,easing:e}}function vb(t,n,e,r,i,a,s=null,l=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:s,subTimeline:l}}class pp{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let r=this._map.get(n);r||this._map.set(n,r=[]),r.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const Gne=new RegExp(":enter","g"),Wne=new RegExp(":leave","g");function mb(t,n,e,r,i,a=new Map,s=new Map,l,M,R=[]){return(new jne).buildKeyframes(t,n,e,r,i,a,s,l,M,R)}class jne{buildKeyframes(n,e,r,i,a,s,l,M,R,oe=[]){R=R||new pp;const Ce=new gb(n,e,R,i,a,oe,[]);Ce.options=M;const We=M.delay?Ol(M.delay):0;Ce.currentTimeline.delayNextStep(We),Ce.currentTimeline.setStyles([s],null,Ce.errors,M),eo(this,r,Ce);const rt=Ce.timelines.filter(bt=>bt.containsAnimation());if(rt.length&&l.size){let bt;for(let Bt=rt.length-1;Bt>=0;Bt--){const cn=rt[Bt];if(cn.element===e){bt=cn;break}}bt&&!bt.allowOnlyTimelineStyles()&&bt.setStyles([l],null,Ce.errors,M)}return rt.length?rt.map(bt=>bt.buildKeyframes()):[vb(e,[],[],[],0,We,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const r=e.subInstructions.get(e.element);if(r){const i=e.createSubContext(n.options),a=e.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);a!=s&&e.transformIntoNewTimeline(s)}e.previousNode=n}visitAnimateRef(n,e){const r=e.createSubContext(n.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,r),this.visitReference(n.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,r){for(const i of n){const a=i?.delay;if(a){const s="number"==typeof a?a:Ol(id(a,i?.params??{},e.errors));r.delayNextStep(s)}}}_visitSubInstructions(n,e,r){let a=e.currentTimeline.currentTime;const s=null!=r.duration?Ol(r.duration):null,l=null!=r.delay?Ol(r.delay):null;return 0!==s&&n.forEach(M=>{const R=e.appendInstructionToTimeline(M,s,l);a=Math.max(a,R.duration+R.delay)}),a}visitReference(n,e){e.updateOptions(n.options,!0),eo(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const r=e.subContextCount;let i=e;const a=n.options;if(a&&(a.params||a.delay)&&(i=e.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){i.previousNode.type==Xr.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=vp);const s=Ol(a.delay);i.delayNextStep(s)}n.steps.length&&(n.steps.forEach(s=>eo(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const r=[];let i=e.currentTimeline.currentTime;const a=n.options&&n.options.delay?Ol(n.options.delay):0;n.steps.forEach(s=>{const l=e.createSubContext(n.options);a&&l.delayNextStep(a),eo(this,s,l),i=Math.max(i,l.currentTimeline.currentTime),r.push(l.currentTimeline)}),r.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(i),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const r=n.strValue;return up(e.params?id(r,e.params,e.errors):r,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const r=e.currentAnimateTimings=this._visitTiming(n.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const a=n.style;a.type==Xr.Keyframes?this.visitKeyframes(a,e):(e.incrementTime(r.duration),this.visitStyle(a,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||n.easing;n.isEmptyStep?r.applyEmptyStep(a):r.setStyles(n.styles,a,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,a=r.duration,l=e.createSubContext().currentTimeline;l.easing=r.easing,n.styles.forEach(M=>{l.forwardTime((M.offset||0)*a),l.setStyles(M.styles,M.easing,e.errors,e.options),l.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(l),e.transformIntoNewTimeline(i+a),e.previousNode=n}visitQuery(n,e){const r=e.currentTimeline.currentTime,i=n.options||{},a=i.delay?Ol(i.delay):0;a&&(e.previousNode.type===Xr.Style||0==r&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=vp);let s=r;const l=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=l.length;let M=null;l.forEach((R,oe)=>{e.currentQueryIndex=oe;const Ce=e.createSubContext(n.options,R);a&&Ce.delayNextStep(a),R===e.element&&(M=Ce.currentTimeline),eo(this,n.animation,Ce),Ce.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,Ce.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),M&&(e.currentTimeline.mergeTimelineCollectedStyles(M),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const r=e.parentContext,i=e.currentTimeline,a=n.timings,s=Math.abs(a.duration),l=s*(e.currentQueryTotal-1);let M=s*e.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":M=l-M;break;case"full":M=r.currentStaggerTime}const oe=e.currentTimeline;M&&oe.delayNextStep(M);const Ce=oe.currentTime;eo(this,n.animation,e),e.previousNode=n,r.currentStaggerTime=i.currentTime-Ce+(i.startTime-r.currentTimeline.startTime)}}const vp={};class gb{constructor(n,e,r,i,a,s,l,M){this._driver=n,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=s,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=M||new mp(this._driver,e,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const r=n;let i=this.options;null!=r.duration&&(i.duration=Ol(r.duration)),null!=r.delay&&(i.delay=Ol(r.delay));const a=r.params;if(a){let s=i.params;s||(s=this.options.params={}),Object.keys(a).forEach(l=>{(!e||!s.hasOwnProperty(l))&&(s[l]=id(a[l],s,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const r=n.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return n}createSubContext(n=null,e,r){const i=e||this.element,a=new gb(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(n),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(n){return this.previousNode=vp,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,r){const i={duration:e??n.duration,delay:this.currentTimeline.currentTime+(r??0)+n.delay,easing:""},a=new Yne(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,i,n.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,r,i,a,s){let l=[];if(i&&l.push(this.element),n.length>0){n=(n=n.replace(Gne,"."+this._enterClassName)).replace(Wne,"."+this._leaveClassName);let R=this._driver.query(this.element,n,1!=r);0!==r&&(R=r<0?R.slice(R.length+r,R.length):R.slice(0,r)),l.push(...R)}return!a&&0==l.length&&s.push(function qte(t){return new tt(3014,!1)}()),l}}class mp{constructor(n,e,r,i){this._driver=n,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new mp(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,r]of this._globalTimelineStyles)this._backFill.set(e,r||Fl),this._currentKeyframe.set(e,Fl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,r,i){e&&this._previousKeyframe.set("easing",e);const a=i&&i.params||{},s=function Zne(t,n){const e=new Map;let r;return t.forEach(i=>{if("*"===i){r??=n.keys();for(let a of r)e.set(a,Fl)}else for(let[a,s]of i)e.set(a,s)}),e}(n,this._globalTimelineStyles);for(let[l,M]of s){const R=id(M,a,r);this._pendingStyles.set(l,R),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??Fl),this._updateStyle(l,R)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,r)=>{const i=this._styleSummary.get(r);(!i||e.time>i.time)&&this._updateStyle(r,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((l,M)=>{const R=new Map([...this._backFill,...l]);R.forEach((oe,Ce)=>{"!"===oe?n.add(Ce):oe===Fl&&e.add(Ce)}),r||R.set("offset",M/this.duration),i.push(R)});const a=[...n.values()],s=[...e.values()];if(r){const l=i[0],M=new Map(l);l.set("offset",0),M.set("offset",1),i=[l,M]}return vb(this.element,i,a,s,this.duration,this.startTime,this.easing,!1)}}class Yne extends mp{constructor(n,e,r,i,a,s,l=!1){super(n,e,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=l,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const a=[],s=r+e,l=e/s,M=new Map(n[0]);M.set("offset",0),a.push(M);const R=new Map(n[0]);R.set("offset",vL(l)),a.push(R);const oe=n.length-1;for(let Ce=1;Ce<=oe;Ce++){let We=new Map(n[Ce]);const rt=We.get("offset");We.set("offset",vL((e+rt*r)/s)),a.push(We)}r=s,e=0,i="",n=a}return vb(this.element,n,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function vL(t,n=3){const e=Math.pow(10,n-1);return Math.round(t*e)/e}function mL(t,n,e,r,i,a,s,l,M,R,oe,Ce,We){return{type:0,element:t,triggerName:n,isRemovalTransition:i,fromState:e,fromStyles:a,toState:r,toStyles:s,timelines:l,queriedElements:M,preStyleProps:R,postStyleProps:oe,totalTime:Ce,errors:We}}const yb={};class gL{constructor(n,e,r){this._triggerName=n,this.ast=e,this._stateStyles=r}match(n,e,r,i){return function Xne(t,n,e,r,i){return t.some(a=>a(n,e,r,i))}(this.ast.matchers,n,e,r,i)}buildStyles(n,e,r){let i=this._stateStyles.get("*");return void 0!==n&&(i=this._stateStyles.get(n?.toString())||i),i?i.buildStyles(e,r):new Map}build(n,e,r,i,a,s,l,M,R,oe){const Ce=[],We=this.ast.options&&this.ast.options.params||yb,bt=this.buildStyles(r,l&&l.params||yb,Ce),Bt=M&&M.params||yb,cn=this.buildStyles(i,Bt,Ce),yn=new Set,ln=new Map,tr=new Map,fr="void"===i,br={params:yL(Bt,We),delay:this.ast.options?.delay},bi=oe?[]:mb(n,e,this.ast.animation,a,s,bt,cn,br,R,Ce);let ra=0;return bi.forEach(Is=>{ra=Math.max(Is.duration+Is.delay,ra)}),Ce.length?mL(e,this._triggerName,r,i,fr,bt,cn,[],[],ln,tr,ra,Ce):(bi.forEach(Is=>{const p1=Is.element,Y3=q2(ln,p1,new Set);Is.preStyleProps.forEach(D0=>Y3.add(D0));const RG=q2(tr,p1,new Set);Is.postStyleProps.forEach(D0=>RG.add(D0)),p1!==e&&yn.add(p1)}),mL(e,this._triggerName,r,i,fr,bt,cn,bi,[...yn.values()],ln,tr,ra))}}function yL(t,n){const e={...n};return Object.entries(t).forEach(([r,i])=>{null!=i&&(e[r]=i)}),e}class Kne{constructor(n,e,r){this.styles=n,this.defaultParams=e,this.normalizer=r}buildStyles(n,e){const r=new Map,i=yL(n,this.defaultParams);return this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((s,l)=>{s&&(s=id(s,i,e));const M=this.normalizer.normalizePropertyName(l,e);s=this.normalizer.normalizeStyleValue(l,M,s,e),r.set(l,s)})}),r}}class Jne{constructor(n,e,r){this.name=n,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states=new Map,e.states.forEach(i=>{this.states.set(i.name,new Kne(i.style,i.options&&i.options.params||{},r))}),bL(this.states,"true","1"),bL(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new gL(n,i,this.states))}),this.fallbackTransition=function qne(t,n,e){return new gL(t,{type:Xr.Transition,animation:{type:Xr.Sequence,steps:[],options:null},matchers:[(s,l)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,r,i){return this.transitionFactories.find(s=>s.match(n,e,r,i))||null}matchStyles(n,e,r){return this.fallbackTransition.buildStyles(n,e,r)}}function bL(t,n,e){t.has(n)?t.has(e)||t.set(e,t.get(n)):t.has(e)&&t.set(n,t.get(e))}const ere=new pp;class tre{constructor(n,e,r){this.bodyNode=n,this._driver=e,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const r=[],a=hb(this._driver,e,r,[]);if(r.length)throw function sne(t){return new tt(3503,!1)}();this._animations.set(n,a)}_buildPlayer(n,e,r){const i=n.element,a=nL(this._normalizer,n.keyframes,e,r);return this._driver.animate(i,a,n.duration,n.delay,n.easing,[],!0)}create(n,e,r={}){const i=[],a=this._animations.get(n);let s;const l=new Map;if(a?(s=mb(this._driver,e,a,ob,op,new Map,new Map,r,ere,i),s.forEach(oe=>{const Ce=q2(l,oe.element,new Map);oe.postStyleProps.forEach(We=>Ce.set(We,null))})):(i.push(function one(){return new tt(3300,!1)}()),s=[]),i.length)throw function cne(t){return new tt(3504,!1)}();l.forEach((oe,Ce)=>{oe.forEach((We,rt)=>{oe.set(rt,this._driver.computeStyle(Ce,rt,Fl))})});const R=P3(s.map(oe=>{const Ce=l.get(oe.element);return this._buildPlayer(oe,new Map,Ce)}));return this._playersById.set(n,R),R.onDestroy(()=>this.destroy(n)),this.players.push(R),R}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function lne(t){return new tt(3301,!1)}();return e}listen(n,e,r,i){const a=nb(e,"","","");return eb(this._getPlayer(n),r,a,i),()=>{}}command(n,e,r,i){if("register"==r)return void this.register(n,i[0]);if("create"==r)return void this.create(n,e,i[0]||{});const a=this._getPlayer(n);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(n)}}}const CL="ng-animate-queued",bb="ng-animate-disabled",sre=[],ML={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ore={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},pc="__ng_removed";class Cb{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const r=n&&n.hasOwnProperty("value");if(this.value=function fre(t){return t??null}(r?n.value:n),r){const{value:a,...s}=n;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const ad="void",Mb=new Cb(ad);class cre{constructor(n,e,r){this.id=n,this.hostElement=e,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Vo(e,this._hostClassName)}listen(n,e,r,i){if(!this._triggers.has(e))throw function une(t,n){return new tt(3302,!1)}();if(null==r||0==r.length)throw function fne(t){return new tt(3303,!1)}();if(!function dre(t){return"start"==t||"done"==t}(r))throw function dne(t,n){return new tt(3400,!1)}();const a=q2(this._elementListeners,n,[]),s={name:e,phase:r,callback:i};a.push(s);const l=q2(this._engine.statesByElement,n,new Map);return l.has(e)||(Vo(n,cp),Vo(n,cp+"-"+e),l.set(e,Mb)),()=>{this._engine.afterFlush(()=>{const M=a.indexOf(s);M>=0&&a.splice(M,1),this._triggers.has(e)||l.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function hne(t){return new tt(3401,!1)}();return e}trigger(n,e,r,i=!0){const a=this._getTrigger(e),s=new xb(this.id,e,n);let l=this._engine.statesByElement.get(n);l||(Vo(n,cp),Vo(n,cp+"-"+e),this._engine.statesByElement.set(n,l=new Map));let M=l.get(e);const R=new Cb(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&M&&R.absorbOptions(M.options),l.set(e,R),M||(M=Mb),R.value!==ad&&M.value===R.value){if(!function vre(t,n){const e=Object.keys(t),r=Object.keys(n);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const a=e[i];if(!n.hasOwnProperty(a)||t[a]!==n[a])return!1}return!0}(M.params,R.params)){const Bt=[],cn=a.matchStyles(M.value,M.params,Bt),yn=a.matchStyles(R.value,R.params,Bt);Bt.length?this._engine.reportError(Bt):this._engine.afterFlush(()=>{c0(n,cn),Qc(n,yn)})}return}const We=q2(this._engine.playersByElement,n,[]);We.forEach(Bt=>{Bt.namespaceId==this.id&&Bt.triggerName==e&&Bt.queued&&Bt.destroy()});let rt=a.matchTransition(M.value,R.value,n,R.params),bt=!1;if(!rt){if(!i)return;rt=a.fallbackTransition,bt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:rt,fromState:M,toState:R,player:s,isFallbackTransition:bt}),bt||(Vo(n,CL),s.onStart(()=>{lu(n,CL)})),s.onDone(()=>{let Bt=this.players.indexOf(s);Bt>=0&&this.players.splice(Bt,1);const cn=this._engine.playersByElement.get(n);if(cn){let yn=cn.indexOf(s);yn>=0&&cn.splice(yn,1)}}),this.players.push(s),We.push(s),s}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const r=this._engine.driver.query(n,lp,!0);r.forEach(i=>{if(i[pc])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(s=>s.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(n,e,r,i){const a=this._engine.statesByElement.get(n),s=new Map;if(a){const l=[];if(a.forEach((M,R)=>{if(s.set(R,M.value),this._triggers.has(R)){const oe=this.trigger(n,R,ad,i);oe&&l.push(oe)}}),l.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,s),r&&P3(l).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),r=this._engine.statesByElement.get(n);if(e&&r){const i=new Set;e.forEach(a=>{const s=a.name;if(i.has(s))return;i.add(s);const M=this._triggers.get(s).fallbackTransition,R=r.get(s)||Mb,oe=new Cb(ad),Ce=new xb(this.id,s,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:s,transition:M,fromState:R,toState:oe,player:Ce,isFallbackTransition:!0})})}}removeNode(n,e){const r=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(n):[];if(a&&a.length)i=!0;else{let s=n;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(n),i)r.markElementAsRemoved(this.id,n,!1,e);else{const a=n[pc];(!a||a===ML)&&(r.afterFlush(()=>this.clearElementCache(n)),r.destroyInnerAnimations(n),r._onRemovalComplete(n,e))}}insertNode(n,e){Vo(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,s=this._elementListeners.get(a);s&&s.forEach(l=>{if(l.name==r.triggerName){const M=nb(a,r.triggerName,r.fromState.value,r.toState.value);M._data=n,eb(r.player,l.phase,M,l.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const a=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==a||0==s?a-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}}class lre{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,r,i){this.bodyNode=n,this.driver=e,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,s)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&n.push(r)})}),n}createNamespace(n,e){const r=new cre(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[n]=r}_balanceNamespaceList(n,e){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,l=this.driver.getParentElement(e);for(;l;){const M=i.get(l);if(M){const R=r.indexOf(M);r.splice(R+1,0,n),s=!0;break}l=this.driver.getParentElement(l)}s||r.unshift(n)}else r.push(n);return i.set(e,n),n}register(n,e){let r=this._namespaceLookup[n];return r||(r=this.createNamespace(n,e)),r}registerTrigger(n,e,r){let i=this._namespaceLookup[n];i&&i.register(e,r)&&this.totalAnimations++}destroy(n,e){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(n);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(e),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,r=this.statesByElement.get(n);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&e.add(a)}return e}trigger(n,e,r,i){if(gp(e)){const a=this._fetchNamespace(n);if(a)return a.trigger(e,r,i),!0}return!1}insertNode(n,e,r,i){if(!gp(e))return;const a=e[pc];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(n){const s=this._fetchNamespace(n);s&&s.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Vo(n,bb)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),lu(n,bb))}removeNode(n,e,r){if(gp(e)){this.scheduler?.notify();const i=n?this._fetchNamespace(n):null;i?i.removeNode(e,r):this.markElementAsRemoved(n,e,!1,r);const a=this.namespacesByHostElement.get(e);a&&a.id!==n&&a.removeNode(e,r)}else this._onRemovalComplete(e,r)}markElementAsRemoved(n,e,r,i,a){this.collectedLeaveElements.push(e),e[pc]={namespaceId:n,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(n,e,r,i,a){return gp(e)?this._fetchNamespace(n).listen(e,r,i,a):()=>{}}_buildInstruction(n,e,r,i,a){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,r,i,n.fromState.options,n.toState.options,e,a)}destroyInnerAnimations(n){let e=this.driver.query(n,lp,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,cb,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return P3(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[pc];if(e&&e.setForRemoval){if(n[pc]=ML,e.namespaceId){this.destroyInnerAnimations(n);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(bb)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Vo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,n)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?P3(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(n){throw function pne(t){return new tt(3402,!1)}()}_flushAnimations(n,e){const r=new pp,i=[],a=new Map,s=[],l=new Map,M=new Map,R=new Map,oe=new Set;this.disabledNodes.forEach(Dr=>{oe.add(Dr);const Or=this.driver.query(Dr,".ng-animate-queued",!0);for(let Zr=0;Zr<Or.length;Zr++)oe.add(Or[Zr])});const Ce=this.bodyNode,We=Array.from(this.statesByElement.keys()),rt=_L(We,this.collectedEnterElements),bt=new Map;let Bt=0;rt.forEach((Dr,Or)=>{const Zr=ob+Bt++;bt.set(Or,Zr),Dr.forEach(Ui=>Vo(Ui,Zr))});const cn=[],yn=new Set,ln=new Set;for(let Dr=0;Dr<this.collectedLeaveElements.length;Dr++){const Or=this.collectedLeaveElements[Dr],Zr=Or[pc];Zr&&Zr.setForRemoval&&(cn.push(Or),yn.add(Or),Zr.hasAnimation?this.driver.query(Or,".ng-star-inserted",!0).forEach(Ui=>yn.add(Ui)):ln.add(Or))}const tr=new Map,fr=_L(We,Array.from(yn));fr.forEach((Dr,Or)=>{const Zr=op+Bt++;tr.set(Or,Zr),Dr.forEach(Ui=>Vo(Ui,Zr))}),n.push(()=>{rt.forEach((Dr,Or)=>{const Zr=bt.get(Or);Dr.forEach(Ui=>lu(Ui,Zr))}),fr.forEach((Dr,Or)=>{const Zr=tr.get(Or);Dr.forEach(Ui=>lu(Ui,Zr))}),cn.forEach(Dr=>{this.processLeaveNode(Dr)})});const br=[],bi=[];for(let Dr=this._namespaceList.length-1;Dr>=0;Dr--)this._namespaceList[Dr].drainQueuedTransitions(e).forEach(Zr=>{const Ui=Zr.player,v1=Zr.element;if(br.push(Ui),this.collectedEnterElements.length){const U1=v1[pc];if(U1&&U1.setForMove){if(U1.previousTriggersValues&&U1.previousTriggersValues.has(Zr.triggerName)){const A0=U1.previousTriggersValues.get(Zr.triggerName),Ro=this.statesByElement.get(Zr.element);if(Ro&&Ro.has(Zr.triggerName)){const Zv=Ro.get(Zr.triggerName);Zv.value=A0,Ro.set(Zr.triggerName,Zv)}}return void Ui.destroy()}}const ol=!Ce||!this.driver.containsElement(Ce,v1),so=tr.get(v1),Z3=bt.get(v1),ns=this._buildInstruction(Zr,r,Z3,so,ol);if(ns.errors&&ns.errors.length)return void bi.push(ns);if(ol)return Ui.onStart(()=>c0(v1,ns.fromStyles)),Ui.onDestroy(()=>Qc(v1,ns.toStyles)),void i.push(Ui);if(Zr.isFallbackTransition)return Ui.onStart(()=>c0(v1,ns.fromStyles)),Ui.onDestroy(()=>Qc(v1,ns.toStyles)),void i.push(Ui);const BG=[];ns.timelines.forEach(U1=>{U1.stretchStartingKeyframe=!0,this.disabledNodes.has(U1.element)||BG.push(U1)}),ns.timelines=BG,r.append(v1,ns.timelines),s.push({instruction:ns,player:Ui,element:v1}),ns.queriedElements.forEach(U1=>q2(l,U1,[]).push(Ui)),ns.preStyleProps.forEach((U1,A0)=>{if(U1.size){let Ro=M.get(A0);Ro||M.set(A0,Ro=new Set),U1.forEach((Zv,Mx)=>Ro.add(Mx))}}),ns.postStyleProps.forEach((U1,A0)=>{let Ro=R.get(A0);Ro||R.set(A0,Ro=new Set),U1.forEach((Zv,Mx)=>Ro.add(Mx))})});if(bi.length){const Dr=[];bi.forEach(Or=>{Dr.push(function vne(t,n){return new tt(3505,!1)}())}),br.forEach(Or=>Or.destroy()),this.reportError(Dr)}const ra=new Map,Is=new Map;s.forEach(Dr=>{const Or=Dr.element;r.has(Or)&&(Is.set(Or,Or),this._beforeAnimationBuild(Dr.player.namespaceId,Dr.instruction,ra))}),i.forEach(Dr=>{const Or=Dr.element;this._getPreviousPlayers(Or,!1,Dr.namespaceId,Dr.triggerName,null).forEach(Ui=>{q2(ra,Or,[]).push(Ui),Ui.destroy()})});const p1=cn.filter(Dr=>TL(Dr,M,R)),Y3=new Map;wL(Y3,this.driver,ln,R,Fl).forEach(Dr=>{TL(Dr,M,R)&&p1.push(Dr)});const D0=new Map;rt.forEach((Dr,Or)=>{wL(D0,this.driver,new Set(Dr),M,"!")}),p1.forEach(Dr=>{const Or=Y3.get(Dr),Zr=D0.get(Dr);Y3.set(Dr,new Map([...Or?.entries()??[],...Zr?.entries()??[]]))});const Cx=[],FG=[],OG={};s.forEach(Dr=>{const{element:Or,player:Zr,instruction:Ui}=Dr;if(r.has(Or)){if(oe.has(Or))return Zr.onDestroy(()=>Qc(Or,Ui.toStyles)),Zr.disabled=!0,Zr.overrideTotalTime(Ui.totalTime),void i.push(Zr);let v1=OG;if(Is.size>1){let so=Or;const Z3=[];for(;so=so.parentNode;){const ns=Is.get(so);if(ns){v1=ns;break}Z3.push(so)}Z3.forEach(ns=>Is.set(ns,v1))}const ol=this._buildAnimation(Zr.namespaceId,Ui,ra,a,D0,Y3);if(Zr.setRealPlayer(ol),v1===OG)Cx.push(Zr);else{const so=this.playersByElement.get(v1);so&&so.length&&(Zr.parentPlayer=P3(so)),i.push(Zr)}}else c0(Or,Ui.fromStyles),Zr.onDestroy(()=>Qc(Or,Ui.toStyles)),FG.push(Zr),oe.has(Or)&&i.push(Zr)}),FG.forEach(Dr=>{const Or=a.get(Dr.element);if(Or&&Or.length){const Zr=P3(Or);Dr.setRealPlayer(Zr)}}),i.forEach(Dr=>{Dr.parentPlayer?Dr.syncPlayerEvents(Dr.parentPlayer):Dr.destroy()});for(let Dr=0;Dr<cn.length;Dr++){const Or=cn[Dr],Zr=Or[pc];if(lu(Or,op),Zr&&Zr.hasAnimation)continue;let Ui=[];if(l.size){let ol=l.get(Or);ol&&ol.length&&Ui.push(...ol);let so=this.driver.query(Or,cb,!0);for(let Z3=0;Z3<so.length;Z3++){let ns=l.get(so[Z3]);ns&&ns.length&&Ui.push(...ns)}}const v1=Ui.filter(ol=>!ol.destroyed);v1.length?hre(this,Or,v1):this.processLeaveNode(Or)}return cn.length=0,Cx.forEach(Dr=>{this.players.push(Dr),Dr.onDone(()=>{Dr.destroy();const Or=this.players.indexOf(Dr);this.players.splice(Or,1)}),Dr.play()}),Cx}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,r,i,a){let s=[];if(e){const l=this.playersByQueriedElement.get(n);l&&(s=l)}else{const l=this.playersByElement.get(n);if(l){const M=!a||a==ad;l.forEach(R=>{R.queued||!M&&R.triggerName!=i||s.push(R)})}}return(r||i)&&(s=s.filter(l=>!(r&&r!=l.namespaceId||i&&i!=l.triggerName))),s}_beforeAnimationBuild(n,e,r){const a=e.element,s=e.isRemovalTransition?void 0:n,l=e.isRemovalTransition?void 0:e.triggerName;for(const M of e.timelines){const R=M.element,oe=R!==a,Ce=q2(r,R,[]);this._getPreviousPlayers(R,oe,s,l,e.toState).forEach(rt=>{const bt=rt.getRealPlayer();bt.beforeDestroy&&bt.beforeDestroy(),rt.destroy(),Ce.push(rt)})}c0(a,e.fromStyles)}_buildAnimation(n,e,r,i,a,s){const l=e.triggerName,M=e.element,R=[],oe=new Set,Ce=new Set,We=e.timelines.map(bt=>{const Bt=bt.element;oe.add(Bt);const cn=Bt[pc];if(cn&&cn.removedBeforeQueried)return new nd(bt.duration,bt.delay);const yn=Bt!==M,ln=function pre(t){const n=[];return SL(t,n),n}((r.get(Bt)||sre).map(ra=>ra.getRealPlayer())).filter(ra=>!!ra.element&&ra.element===Bt),tr=a.get(Bt),fr=s.get(Bt),br=nL(this._normalizer,bt.keyframes,tr,fr),bi=this._buildPlayer(bt,br,ln);if(bt.subTimeline&&i&&Ce.add(Bt),yn){const ra=new xb(n,l,Bt);ra.setRealPlayer(bi),R.push(ra)}return bi});R.forEach(bt=>{q2(this.playersByQueriedElement,bt.element,[]).push(bt),bt.onDone(()=>function ure(t,n,e){let r=t.get(n);if(r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&t.delete(n)}return r}(this.playersByQueriedElement,bt.element,bt))}),oe.forEach(bt=>Vo(bt,cL));const rt=P3(We);return rt.onDestroy(()=>{oe.forEach(bt=>lu(bt,cL)),Qc(M,e.toStyles)}),Ce.forEach(bt=>{q2(i,bt,[]).push(rt)}),rt}_buildPlayer(n,e,r){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,r):new nd(n.duration,n.delay)}}class xb{constructor(n,e,r){this.namespaceId=n,this.triggerName=e,this.element=r,this._player=new nd,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,r)=>{e.forEach(i=>eb(n,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){q2(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function gp(t){return t&&1===t.nodeType}function xL(t,n){const e=t.style.display;return t.style.display=n??"none",e}function wL(t,n,e,r,i){const a=[];e.forEach(M=>a.push(xL(M)));const s=[];r.forEach((M,R)=>{const oe=new Map;M.forEach(Ce=>{const We=n.computeStyle(R,Ce,i);oe.set(Ce,We),(!We||0==We.length)&&(R[pc]=ore,s.push(R))}),t.set(R,oe)});let l=0;return e.forEach(M=>xL(M,a[l++])),s}function _L(t,n){const e=new Map;if(t.forEach(l=>e.set(l,[])),0==n.length)return e;const i=new Set(n),a=new Map;function s(l){if(!l)return 1;let M=a.get(l);if(M)return M;const R=l.parentNode;return M=e.has(R)?R:i.has(R)?1:s(R),a.set(l,M),M}return n.forEach(l=>{const M=s(l);1!==M&&e.get(M).push(l)}),e}function Vo(t,n){t.classList?.add(n)}function lu(t,n){t.classList?.remove(n)}function hre(t,n,e){P3(e).onDone(()=>t.processLeaveNode(n))}function SL(t,n){for(let e=0;e<t.length;e++){const r=t[e];r instanceof eL?SL(r.players,n):n.push(r)}}function TL(t,n,e){const r=e.get(t);if(!r)return!1;let i=n.get(t);return i?r.forEach(a=>i.add(a)):n.set(t,r),e.delete(t),!0}class sd{constructor(n,e,r,i){this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(a,s)=>{},this._transitionEngine=new lre(n.body,e,r,i),this._timelineEngine=new tre(n.body,e,r),this._transitionEngine.onRemovalComplete=(a,s)=>this.onRemovalComplete(a,s)}registerTrigger(n,e,r,i,a){const s=n+"-"+i;let l=this._triggerCache[s];if(!l){const M=[],oe=hb(this._driver,a,M,[]);if(M.length)throw function ine(t,n){return new tt(3404,!1)}();l=function Qne(t,n,e){return new Jne(t,n,e)}(i,oe,this._normalizer),this._triggerCache[s]=l}this._transitionEngine.registerTrigger(e,i,l)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,r,i){this._transitionEngine.insertNode(n,e,r,i)}onRemove(n,e,r){this._transitionEngine.removeNode(n,e,r)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,r,i){if("@"==r.charAt(0)){const[a,s]=rL(r);this._timelineEngine.command(a,e,s,i)}else this._transitionEngine.trigger(n,e,r,i)}listen(n,e,r,i,a){if("@"==r.charAt(0)){const[s,l]=rL(r);return this._timelineEngine.listen(s,e,l,a)}return this._transitionEngine.listen(n,e,r,i,a)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}class od{static#e=this.initialStylesByElement=new WeakMap;constructor(n,e,r){this._element=n,this._startStyles=e,this._endStyles=r,this._state=0;let i=od.initialStylesByElement.get(n);i||od.initialStylesByElement.set(n,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Qc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Qc(this._element,this._initialStyles),this._endStyles&&(Qc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(od.initialStylesByElement.delete(this._element),this._startStyles&&(c0(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(c0(this._element,this._endStyles),this._endStyles=null),Qc(this._element,this._initialStyles),this._state=3)}}function wb(t){let n=null;return t.forEach((e,r)=>{(function gre(t){return"display"===t||"position"===t})(r)&&(n=n||new Map,n.set(r,e))}),n}class DL{constructor(n,e,r,i){this.element=n,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(r=>{e.push(Object.fromEntries(r))}),e}_triggerWebAnimation(n,e,r){return n.animate(this._convertKeyframesToObject(e),r)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&n.set(i,this._finished?r:db(this.element,i))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class AL{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return aL(n,e)}getParentElement(n){return rb(n)}query(n,e,r){return sL(n,e,r)}computeStyle(n,e,r){return db(n,e)}animate(n,e,r,i,a,s=[]){const M={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(M.easing=a);const R=new Map,oe=s.filter(rt=>rt instanceof DL);(function Ane(t,n){return 0===t||0===n})(r,i)&&oe.forEach(rt=>{rt.currentSnapshot.forEach((bt,Bt)=>R.set(Bt,bt))});let Ce=function Sne(t){return t.length?t[0]instanceof Map?t:t.map(n=>new Map(Object.entries(n))):[]}(e).map(rt=>new Map(rt));Ce=function Hne(t,n,e){if(e.size&&n.length){let r=n[0],i=[];if(e.forEach((a,s)=>{r.has(s)||i.push(s),r.set(s,a)}),i.length)for(let a=1;a<n.length;a++){let s=n[a];i.forEach(l=>s.set(l,db(t,l)))}}return n}(n,Ce,R);const We=function mre(t,n){let e=null,r=null;return Array.isArray(n)&&n.length?(e=wb(n[0]),n.length>1&&(r=wb(n[n.length-1]))):n instanceof Map&&(e=wb(n)),e||r?new od(t,e,r):null}(n,Ce);return new DL(n,Ce,M,We)}}const HL="@.disabled";class LL{constructor(n,e,r,i){this.namespaceId=n,this.delegate=e,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,r,i=!0){this.delegate.insertBefore(n,e,r),this.engine.onInsert(this.namespaceId,e,n,i)}removeChild(n,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,r,i){this.delegate.setAttribute(n,e,r,i)}removeAttribute(n,e,r){this.delegate.removeAttribute(n,e,r)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,r,i){this.delegate.setStyle(n,e,r,i)}removeStyle(n,e,r){this.delegate.removeStyle(n,e,r)}setProperty(n,e,r){"@"==e.charAt(0)&&e==HL?this.disableAnimations(n,!!r):this.delegate.setProperty(n,e,r)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,r){return this.delegate.listen(n,e,r)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class yre extends LL{constructor(n,e,r,i,a){super(e,r,i,a),this.factory=n,this.namespaceId=e}setProperty(n,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==HL?this.disableAnimations(n,r=void 0===r||!!r):this.engine.process(this.namespaceId,n,e.slice(1),r):this.delegate.setProperty(n,e,r)}listen(n,e,r){if("@"==e.charAt(0)){const i=function bre(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(n);let a=e.slice(1),s="";return"@"!=a.charAt(0)&&([a,s]=function Cre(t){const n=t.indexOf(".");return[t.substring(0,n),t.slice(n+1)]}(a)),this.engine.listen(this.namespaceId,i,a,s,l=>{this.factory.scheduleListenerCallback(l._data||-1,r,l)})}return this.delegate.listen(n,e,r)}}class Mre{constructor(n,e,r){this.delegate=n,this.engine=e,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(i,a)=>{const s=a?.parentNode(i);s&&a.removeChild(s,i)}}createRenderer(n,e){const i=this.delegate.createRenderer(n,e);if(!n||!e?.data?.animation){const R=this._rendererCache;let oe=R.get(i);return oe||(oe=new LL("",i,this.engine,()=>R.delete(i)),R.set(i,oe)),oe}const a=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,n);const l=R=>{Array.isArray(R)?R.forEach(l):this.engine.registerTrigger(a,s,n,R.name,R)};return e.data.animation.forEach(l),new yre(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,e,r){if(n>=0&&n<this._microtaskId)return void this._zone.run(()=>e(r));const i=this._animationCallbacksBuffer;0==i.length&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(a=>{const[s,l]=a;s(l)}),this._animationCallbacksBuffer=[]})}),i.push([e,r])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const zL=[{provide:sb,useFactory:function wre(){return new fL}},{provide:sd,useClass:(()=>{class t extends sd{constructor(e,r,i){super(e,r,i,Bn(P9,{optional:!0}))}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||t)(pn(xa),pn(ab),pn(sb))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})()},{provide:R9,useFactory:function _re(t,n,e){return new Mre(t,n,e)},deps:[xy,sd,Ci]}],_b=[{provide:ab,useFactory:()=>new AL},{provide:m3,useValue:"BrowserAnimations"},...zL],kL=[{provide:ab,useClass:ib},{provide:m3,useValue:"NoopAnimations"},...zL];let Sre=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?kL:_b}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Yr({type:t});static#n=this.\u0275inj=Fi({providers:_b,imports:[vA]})}return t})();function VL(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),e.push.apply(e,r)}return e}function xr(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?VL(Object(e),!0).forEach(function(r){qs(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):VL(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function bp(t){return(bp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}function EL(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qs(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function Sb(t,n){return function Lre(t){if(Array.isArray(t))return t}(t)||function kre(t,n){var e=null==t?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var s,l,r=[],i=!0,a=!1;try{for(e=e.call(t);!(i=(s=e.next()).done)&&(r.push(s.value),!n||r.length!==n);i=!0);}catch(M){a=!0,l=M}finally{try{!i&&null!=e.return&&e.return()}finally{if(a)throw l}}return r}}(t,n)||NL(t,n)||function Ere(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ld(t){return function Hre(t){if(Array.isArray(t))return Tb(t)}(t)||function zre(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||NL(t)||function Vre(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NL(t,n){if(t){if("string"==typeof t)return Tb(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if("Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Tb(t,n)}}function Tb(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var IL=function(){},Db={},PL={},RL=null,FL={mark:IL,measure:IL};try{typeof window<"u"&&(Db=window),typeof document<"u"&&(PL=document),typeof MutationObserver<"u"&&(RL=MutationObserver),typeof performance<"u"&&(FL=performance)}catch{}var xp,wp,_p,Sp,Tp,OL=(Db.navigator||{}).userAgent,BL=void 0===OL?"":OL,R3=Db,Ra=PL,UL=RL,Mp=FL,Bl=!!Ra.documentElement&&!!Ra.head&&"function"==typeof Ra.addEventListener&&"function"==typeof Ra.createElement,GL=~BL.indexOf("MSIE")||~BL.indexOf("Trident/"),Ul="___FONT_AWESOME___",$L="fa",WL="svg-inline--fa",u0="data-fa-i2svg",Hb="data-fa-pseudo-element",Ire="data-fa-pseudo-element-pending",Lb="data-prefix",zb="data-icon",jL="fontawesome-i2svg",Pre="async",Rre=["HTML","HEAD","STYLE","SCRIPT"],YL=function(){try{return!0}catch{return!1}}(),Fa="classic",fs="sharp",kb=[Fa,fs];function ud(t){return new Proxy(t,{get:function(e,r){return r in e?e[r]:e[Fa]}})}var fd=ud((qs(xp={},Fa,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit",fakd:"kit","fa-kit":"kit","fa-kit-duotone":"kit"}),qs(xp,fs,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"}),xp)),dd=ud((qs(wp={},Fa,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),qs(wp,fs,{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"}),wp)),hd=ud((qs(_p={},Fa,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),qs(_p,fs,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"}),_p)),Fre=ud((qs(Sp={},Fa,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),qs(Sp,fs,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"}),Sp)),Ore=/fa(s|r|l|t|d|b|k|ss|sr|sl|st)?[\-\ ]/,ZL="fa-layers-text",Bre=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,Ure=ud((qs(Tp={},Fa,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),qs(Tp,fs,{900:"fass",400:"fasr",300:"fasl",100:"fast"}),Tp)),XL=[1,2,3,4,5,6,7,8,9,10],Gre=XL.concat([11,12,13,14,15,16,17,18,19,20]),$re=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],f0={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},pd=new Set;Object.keys(dd[Fa]).map(pd.add.bind(pd)),Object.keys(dd[fs]).map(pd.add.bind(pd));var Wre=[].concat(kb,ld(pd),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",f0.GROUP,f0.SWAP_OPACITY,f0.PRIMARY,f0.SECONDARY]).concat(XL.map(function(t){return"".concat(t,"x")})).concat(Gre.map(function(t){return"w-".concat(t)})),vd=R3.FontAwesomeConfig||{};Ra&&"function"==typeof Ra.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(t){var n=Sb(t,2),r=n[1],i=function Yre(t){return""===t||"false"!==t&&("true"===t||t)}(function jre(t){var n=Ra.querySelector("script["+t+"]");if(n)return n.getAttribute(t)}(n[0]));null!=i&&(vd[r]=i)});var KL={styleDefault:"solid",familyDefault:"classic",cssPrefix:$L,replacementClass:WL,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};vd.familyPrefix&&(vd.cssPrefix=vd.familyPrefix);var uu=xr(xr({},KL),vd);uu.autoReplaceSvg||(uu.observeMutations=!1);var kr={};Object.keys(KL).forEach(function(t){Object.defineProperty(kr,t,{enumerable:!0,set:function(e){uu[t]=e,md.forEach(function(r){return r(kr)})},get:function(){return uu[t]}})}),Object.defineProperty(kr,"familyPrefix",{enumerable:!0,set:function(n){uu.cssPrefix=n,md.forEach(function(e){return e(kr)})},get:function(){return uu.cssPrefix}}),R3.FontAwesomeConfig=kr;var md=[],Jc={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},Qre="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function gd(){for(var t=12,n="";t-- >0;)n+=Qre[62*Math.random()|0];return n}function fu(t){for(var n=[],e=(t||[]).length>>>0;e--;)n[e]=t[e];return n}function Vb(t){return t.classList?fu(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(n){return n})}function QL(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Dp(t){return Object.keys(t||{}).reduce(function(n,e){return n+"".concat(e,": ").concat(t[e].trim(),";")},"")}function Eb(t){return t.size!==Jc.size||t.x!==Jc.x||t.y!==Jc.y||t.rotate!==Jc.rotate||t.flipX||t.flipY}var tie=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function JL(){var t=$L,n=WL,e=kr.cssPrefix,r=kr.replacementClass,i=tie;if(e!==t||r!==n){var a=new RegExp("\\.".concat(t,"\\-"),"g"),s=new RegExp("\\--".concat(t,"\\-"),"g"),l=new RegExp("\\.".concat(n),"g");i=i.replace(a,".".concat(e,"-")).replace(s,"--".concat(e,"-")).replace(l,".".concat(r))}return i}var qL=!1;function Nb(){kr.autoAddCss&&!qL&&(function Kre(t){if(t&&Bl){var n=Ra.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=t;for(var e=Ra.head.childNodes,r=null,i=e.length-1;i>-1;i--){var a=e[i],s=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=a)}Ra.head.insertBefore(n,r)}}(JL()),qL=!0)}var nie={mixout:function(){return{dom:{css:JL,insertCss:Nb}}},hooks:function(){return{beforeDOMElementCreation:function(){Nb()},beforeI2svg:function(){Nb()}}}},Gl=R3||{};Gl[Ul]||(Gl[Ul]={}),Gl[Ul].styles||(Gl[Ul].styles={}),Gl[Ul].hooks||(Gl[Ul].hooks={}),Gl[Ul].shims||(Gl[Ul].shims=[]);var vc=Gl[Ul],ez=[],Ap=!1;function yd(t){var n=t.tag,e=t.attributes,r=void 0===e?{}:e,i=t.children,a=void 0===i?[]:i;return"string"==typeof t?QL(t):"<".concat(n," ").concat(function Jre(t){return Object.keys(t||{}).reduce(function(n,e){return n+"".concat(e,'="').concat(QL(t[e]),'" ')},"").trim()}(r),">").concat(a.map(yd).join(""),"</").concat(n,">")}function tz(t,n,e){if(t&&t[n]&&t[n][e])return{prefix:n,iconName:e,icon:t[n][e]}}Bl&&((Ap=(Ra.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ra.readyState))||Ra.addEventListener("DOMContentLoaded",function t(){Ra.removeEventListener("DOMContentLoaded",t),Ap=1,ez.map(function(n){return n()})}));var Ib=function(n,e,r,i){var M,R,oe,a=Object.keys(n),s=a.length,l=void 0!==i?function(n,e){return function(r,i,a,s){return n.call(e,r,i,a,s)}}(e,i):e;for(void 0===r?(M=1,oe=n[a[0]]):(M=0,oe=r);M<s;M++)oe=l(oe,n[R=a[M]],R,n);return oe};function Pb(t){var n=function sie(t){for(var n=[],e=0,r=t.length;e<r;){var i=t.charCodeAt(e++);if(i>=55296&&i<=56319&&e<r){var a=t.charCodeAt(e++);56320==(64512&a)?n.push(((1023&i)<<10)+(1023&a)+65536):(n.push(i),e--)}else n.push(i)}return n}(t);return 1===n.length?n[0].toString(16):null}function nz(t){return Object.keys(t).reduce(function(n,e){var r=t[e];return r.icon?n[r.iconName]=r.icon:n[e]=r,n},{})}function Rb(t,n){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,i=void 0!==r&&r,a=nz(n);"function"!=typeof vc.hooks.addPack||i?vc.styles[t]=xr(xr({},vc.styles[t]||{}),a):vc.hooks.addPack(t,nz(n)),"fas"===t&&Rb("fa",n)}var Hp,Lp,zp,du=vc.styles,cie=vc.shims,lie=(qs(Hp={},Fa,Object.values(hd[Fa])),qs(Hp,fs,Object.values(hd[fs])),Hp),Fb=null,rz={},iz={},az={},sz={},oz={},uie=(qs(Lp={},Fa,Object.keys(fd[Fa])),qs(Lp,fs,Object.keys(fd[fs])),Lp);var cz=function(){var n=function(a){return Ib(du,function(s,l,M){return s[M]=Ib(l,a,{}),s},{})};rz=n(function(i,a,s){return a[3]&&(i[a[3]]=s),a[2]&&a[2].filter(function(M){return"number"==typeof M}).forEach(function(M){i[M.toString(16)]=s}),i}),iz=n(function(i,a,s){return i[s]=s,a[2]&&a[2].filter(function(M){return"string"==typeof M}).forEach(function(M){i[M]=s}),i}),oz=n(function(i,a,s){var l=a[2];return i[s]=s,l.forEach(function(M){i[M]=s}),i});var e="far"in du||kr.autoFetchSvg,r=Ib(cie,function(i,a){var s=a[0],l=a[1],M=a[2];return"far"===l&&!e&&(l="fas"),"string"==typeof s&&(i.names[s]={prefix:l,iconName:M}),"number"==typeof s&&(i.unicodes[s.toString(16)]={prefix:l,iconName:M}),i},{names:{},unicodes:{}});az=r.names,sz=r.unicodes,Fb=kp(kr.styleDefault,{family:kr.familyDefault})};function Ob(t,n){return(rz[t]||{})[n]}function d0(t,n){return(oz[t]||{})[n]}function lz(t){return az[t]||{prefix:null,iconName:null}}function O3(){return Fb}(function Xre(t){md.push(t)})(function(t){Fb=kp(t.styleDefault,{family:kr.familyDefault})}),cz();var Bb=function(){return{prefix:null,iconName:null,rest:[]}};function kp(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,r=void 0===e?Fa:e;return dd[r][t]||dd[r][fd[r][t]]||(t in vc.styles?t:null)||null}var uz=(qs(zp={},Fa,Object.keys(hd[Fa])),qs(zp,fs,Object.keys(hd[fs])),zp);function Vp(t){var n,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,i=void 0!==r&&r,a=(qs(n={},Fa,"".concat(kr.cssPrefix,"-").concat(Fa)),qs(n,fs,"".concat(kr.cssPrefix,"-").concat(fs)),n),s=null,l=Fa;(t.includes(a[Fa])||t.some(function(R){return uz[Fa].includes(R)}))&&(l=Fa),(t.includes(a[fs])||t.some(function(R){return uz[fs].includes(R)}))&&(l=fs);var M=t.reduce(function(R,oe){var Ce=function die(t,n){var e=n.split("-"),r=e[0],i=e.slice(1).join("-");return r!==t||""===i||function fie(t){return~Wre.indexOf(t)}(i)?null:i}(kr.cssPrefix,oe);if(du[oe]?(oe=lie[l].includes(oe)?Fre[l][oe]:oe,s=oe,R.prefix=oe):uie[l].indexOf(oe)>-1?(s=oe,R.prefix=kp(oe,{family:l})):Ce?R.iconName=Ce:oe!==kr.replacementClass&&oe!==a[Fa]&&oe!==a[fs]&&R.rest.push(oe),!i&&R.prefix&&R.iconName){var We="fa"===s?lz(R.iconName):{},rt=d0(R.prefix,R.iconName);We.prefix&&(s=null),R.iconName=We.iconName||rt||R.iconName,R.prefix=We.prefix||R.prefix,"far"===R.prefix&&!du.far&&du.fas&&!kr.autoFetchSvg&&(R.prefix="fas")}return R},Bb());return(t.includes("fa-brands")||t.includes("fab"))&&(M.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(M.prefix="fad"),!M.prefix&&l===fs&&(du.fass||kr.autoFetchSvg)&&(M.prefix="fass",M.iconName=d0(M.prefix,M.iconName)||M.iconName),("fa"===M.prefix||"fa"===s)&&(M.prefix=O3()||"fas"),M}var vie=function(){function t(){(function Tre(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,t),this.definitions={}}return function Dre(t,n,e){n&&EL(t.prototype,n),e&&EL(t,e),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(){for(var e=this,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.reduce(this._pullDefinitions,{});Object.keys(s).forEach(function(l){e.definitions[l]=xr(xr({},e.definitions[l]||{}),s[l]),Rb(l,s[l]);var M=hd[Fa][l];M&&Rb(M,s[l]),cz()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(a){var s=i[a],l=s.prefix,M=s.iconName,R=s.icon,oe=R[2];e[l]||(e[l]={}),oe.length>0&&oe.forEach(function(Ce){"string"==typeof Ce&&(e[l][Ce]=R)}),e[l][M]=R}),e}}]),t}(),fz=[],hu={},pu={},mie=Object.keys(pu);function Ub(t,n){for(var e=arguments.length,r=new Array(e>2?e-2:0),i=2;i<e;i++)r[i-2]=arguments[i];return(hu[t]||[]).forEach(function(s){n=s.apply(null,[n].concat(r))}),n}function h0(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];(hu[t]||[]).forEach(function(a){a.apply(null,e)})}function $l(){var t=arguments[0],n=Array.prototype.slice.call(arguments,1);return pu[t]?pu[t].apply(null,n):void 0}function Gb(t){"fa"===t.prefix&&(t.prefix="fas");var n=t.iconName,e=t.prefix||O3();if(n)return n=d0(e,n)||n,tz(dz.definitions,e,n)||tz(vc.styles,e,n)}var dz=new vie,bie={i2svg:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Bl?(h0("beforeI2svg",n),$l("pseudoElements2svg",n),$l("i2svg",n)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.autoReplaceSvgRoot;!1===kr.autoReplaceSvg&&(kr.autoReplaceSvg=!0),kr.observeMutations=!0,function iie(t){Bl&&(Ap?setTimeout(t,0):ez.push(t))}(function(){Mie({autoReplaceSvgRoot:e}),h0("watch",n)})}},to={noAuto:function(){kr.autoReplaceSvg=!1,kr.observeMutations=!1,h0("noAuto")},config:kr,dom:bie,parse:{icon:function(n){if(null===n)return null;if("object"===bp(n)&&n.prefix&&n.iconName)return{prefix:n.prefix,iconName:d0(n.prefix,n.iconName)||n.iconName};if(Array.isArray(n)&&2===n.length){var e=0===n[1].indexOf("fa-")?n[1].slice(3):n[1],r=kp(n[0]);return{prefix:r,iconName:d0(r,e)||e}}if("string"==typeof n&&(n.indexOf("".concat(kr.cssPrefix,"-"))>-1||n.match(Ore))){var i=Vp(n.split(" "),{skipLookups:!0});return{prefix:i.prefix||O3(),iconName:d0(i.prefix,i.iconName)||i.iconName}}if("string"==typeof n){var a=O3();return{prefix:a,iconName:d0(a,n)||n}}}},library:dz,findIconDefinition:Gb,toHtml:yd},Mie=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,r=void 0===e?Ra:e;(Object.keys(vc.styles).length>0||kr.autoFetchSvg)&&Bl&&kr.autoReplaceSvg&&to.dom.i2svg({node:r})};function Ep(t,n){return Object.defineProperty(t,"abstract",{get:n}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return yd(r)})}}),Object.defineProperty(t,"node",{get:function(){if(Bl){var r=Ra.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function $b(t){var n=t.icons,e=n.main,r=n.mask,i=t.prefix,a=t.iconName,s=t.transform,l=t.symbol,M=t.title,R=t.maskId,oe=t.titleId,Ce=t.extra,We=t.watchable,rt=void 0!==We&&We,bt=r.found?r:e,Bt=bt.width,cn=bt.height,yn="fak"===i,ln=[kr.replacementClass,a?"".concat(kr.cssPrefix,"-").concat(a):""].filter(function(p1){return-1===Ce.classes.indexOf(p1)}).filter(function(p1){return""!==p1||!!p1}).concat(Ce.classes).join(" "),tr={children:[],attributes:xr(xr({},Ce.attributes),{},{"data-prefix":i,"data-icon":a,class:ln,role:Ce.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(Bt," ").concat(cn)})},fr=yn&&!~Ce.classes.indexOf("fa-fw")?{width:"".concat(Bt/cn*16*.0625,"em")}:{};rt&&(tr.attributes[u0]=""),M&&(tr.children.push({tag:"title",attributes:{id:tr.attributes["aria-labelledby"]||"title-".concat(oe||gd())},children:[M]}),delete tr.attributes.title);var br=xr(xr({},tr),{},{prefix:i,iconName:a,main:e,mask:r,maskId:R,transform:s,symbol:l,styles:xr(xr({},fr),Ce.styles)}),bi=r.found&&e.found?$l("generateAbstractMask",br)||{children:[],attributes:{}}:$l("generateAbstractIcon",br)||{children:[],attributes:{}},Is=bi.attributes;return br.children=bi.children,br.attributes=Is,l?function wie(t){var e=t.iconName,r=t.children,i=t.attributes,a=t.symbol,s=!0===a?"".concat(t.prefix,"-").concat(kr.cssPrefix,"-").concat(e):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:xr(xr({},i),{},{id:s}),children:r}]}]}(br):function xie(t){var n=t.children,e=t.main,r=t.mask,i=t.attributes,a=t.styles,s=t.transform;if(Eb(s)&&e.found&&!r.found){var R={x:e.width/e.height/2,y:.5};i.style=Dp(xr(xr({},a),{},{"transform-origin":"".concat(R.x+s.x/16,"em ").concat(R.y+s.y/16,"em")}))}return[{tag:"svg",attributes:i,children:n}]}(br)}function hz(t){var n=t.content,e=t.width,r=t.height,i=t.transform,a=t.title,s=t.extra,l=t.watchable,M=void 0!==l&&l,R=xr(xr(xr({},s.attributes),a?{title:a}:{}),{},{class:s.classes.join(" ")});M&&(R[u0]="");var oe=xr({},s.styles);Eb(i)&&(oe.transform=function eie(t){var n=t.transform,e=t.width,i=t.height,a=void 0===i?16:i,s=t.startCentered,l=void 0!==s&&s,M="";return M+=l&&GL?"translate(".concat(n.x/16-(void 0===e?16:e)/2,"em, ").concat(n.y/16-a/2,"em) "):l?"translate(calc(-50% + ".concat(n.x/16,"em), calc(-50% + ").concat(n.y/16,"em)) "):"translate(".concat(n.x/16,"em, ").concat(n.y/16,"em) "),(M+="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "))+"rotate(".concat(n.rotate,"deg) ")}({transform:i,startCentered:!0,width:e,height:r}),oe["-webkit-transform"]=oe.transform);var Ce=Dp(oe);Ce.length>0&&(R.style=Ce);var We=[];return We.push({tag:"span",attributes:R,children:[n]}),a&&We.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),We}var Wb=vc.styles;function jb(t){var n=t[0],e=t[1],a=Sb(t.slice(4),1)[0];return{found:!0,width:n,height:e,icon:Array.isArray(a)?{tag:"g",attributes:{class:"".concat(kr.cssPrefix,"-").concat(f0.GROUP)},children:[{tag:"path",attributes:{class:"".concat(kr.cssPrefix,"-").concat(f0.SECONDARY),fill:"currentColor",d:a[0]}},{tag:"path",attributes:{class:"".concat(kr.cssPrefix,"-").concat(f0.PRIMARY),fill:"currentColor",d:a[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:a}}}}var Sie={found:!1,width:512,height:512};function Yb(t,n){var e=n;return"fa"===n&&null!==kr.styleDefault&&(n=O3()),new Promise(function(r,i){if($l("missingIconAbstract"),"fa"===e){var s=lz(t)||{};t=s.iconName||t,n=s.prefix||n}if(t&&n&&Wb[n]&&Wb[n][t])return r(jb(Wb[n][t]));(function Tie(t,n){!YL&&!kr.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(n,'" is missing.'))})(t,n),r(xr(xr({},Sie),{},{icon:kr.showMissingIcons&&t&&$l("missingIconAbstract")||{}}))})}var pz=function(){},Zb=kr.measurePerformance&&Mp&&Mp.mark&&Mp.measure?Mp:{mark:pz,measure:pz},bd='FA "6.5.1"',vz=function(n){Zb.mark("".concat(bd," ").concat(n," ends")),Zb.measure("".concat(bd," ").concat(n),"".concat(bd," ").concat(n," begins"),"".concat(bd," ").concat(n," ends"))},Xb={begin:function(n){return Zb.mark("".concat(bd," ").concat(n," begins")),function(){return vz(n)}},end:vz},Np=function(){};function mz(t){return"string"==typeof(t.getAttribute?t.getAttribute(u0):null)}function zie(t){return Ra.createElementNS("http://www.w3.org/2000/svg",t)}function kie(t){return Ra.createElement(t)}function gz(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,r=void 0===e?"svg"===t.tag?zie:kie:e;if("string"==typeof t)return Ra.createTextNode(t);var i=r(t.tag);return Object.keys(t.attributes||[]).forEach(function(s){i.setAttribute(s,t.attributes[s])}),(t.children||[]).forEach(function(s){i.appendChild(gz(s,{ceFn:r}))}),i}var Ip={replace:function(n){var e=n[0];if(e.parentNode)if(n[1].forEach(function(i){e.parentNode.insertBefore(gz(i),e)}),null===e.getAttribute(u0)&&kr.keepOriginalSource){var r=Ra.createComment(function Vie(t){var n=" ".concat(t.outerHTML," ");return"".concat(n,"Font Awesome fontawesome.com ")}(e));e.parentNode.replaceChild(r,e)}else e.remove()},nest:function(n){var e=n[0],r=n[1];if(~Vb(e).indexOf(kr.replacementClass))return Ip.replace(n);var i=new RegExp("".concat(kr.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var a=r[0].attributes.class.split(" ").reduce(function(l,M){return M===kr.replacementClass||M.match(i)?l.toSvg.push(M):l.toNode.push(M),l},{toNode:[],toSvg:[]});r[0].attributes.class=a.toSvg.join(" "),0===a.toNode.length?e.removeAttribute("class"):e.setAttribute("class",a.toNode.join(" "))}var s=r.map(function(l){return yd(l)}).join("\n");e.setAttribute(u0,""),e.innerHTML=s}};function yz(t){t()}function bz(t,n){var e="function"==typeof n?n:Np;if(0===t.length)e();else{var r=yz;kr.mutateApproach===Pre&&(r=R3.requestAnimationFrame||yz),r(function(){var i=function Lie(){return!0===kr.autoReplaceSvg?Ip.replace:Ip[kr.autoReplaceSvg]||Ip.replace}(),a=Xb.begin("mutate");t.map(i),a(),e()})}}var Kb=!1;function Cz(){Kb=!0}function Qb(){Kb=!1}var Pp=null;function Mz(t){if(UL&&kr.observeMutations){var n=t.treeCallback,e=void 0===n?Np:n,r=t.nodeCallback,i=void 0===r?Np:r,a=t.pseudoElementsCallback,s=void 0===a?Np:a,l=t.observeMutationsRoot,M=void 0===l?Ra:l;Pp=new UL(function(R){if(!Kb){var oe=O3();fu(R).forEach(function(Ce){if("childList"===Ce.type&&Ce.addedNodes.length>0&&!mz(Ce.addedNodes[0])&&(kr.searchPseudoElements&&s(Ce.target),e(Ce.target)),"attributes"===Ce.type&&Ce.target.parentNode&&kr.searchPseudoElements&&s(Ce.target.parentNode),"attributes"===Ce.type&&mz(Ce.target)&&~$re.indexOf(Ce.attributeName))if("class"===Ce.attributeName&&function Aie(t){var n=t.getAttribute?t.getAttribute(Lb):null,e=t.getAttribute?t.getAttribute(zb):null;return n&&e}(Ce.target)){var We=Vp(Vb(Ce.target)),bt=We.iconName;Ce.target.setAttribute(Lb,We.prefix||oe),bt&&Ce.target.setAttribute(zb,bt)}else(function Hie(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(kr.replacementClass)})(Ce.target)&&i(Ce.target)})}}),Bl&&Pp.observe(M,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function xz(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},e=function Iie(t){var n=t.getAttribute("data-prefix"),e=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",i=Vp(Vb(t));return i.prefix||(i.prefix=O3()),n&&e&&(i.prefix=n,i.iconName=e),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function hie(t,n){return(iz[t]||{})[n]}(i.prefix,t.innerText)||Ob(i.prefix,Pb(t.innerText))),!i.iconName&&kr.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}(t),r=e.iconName,i=e.prefix,a=e.rest,s=function Pie(t){var n=fu(t.attributes).reduce(function(i,a){return"class"!==i.name&&"style"!==i.name&&(i[a.name]=a.value),i},{}),e=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return kr.autoA11y&&(e?n["aria-labelledby"]="".concat(kr.replacementClass,"-title-").concat(r||gd()):(n["aria-hidden"]="true",n.focusable="false")),n}(t),l=Ub("parseNodeAttributes",{},t),M=n.styleParser?function Nie(t){var n=t.getAttribute("style"),e=[];return n&&(e=n.split(";").reduce(function(r,i){var a=i.split(":"),s=a[0],l=a.slice(1);return s&&l.length>0&&(r[s]=l.join(":").trim()),r},{})),e}(t):[];return xr({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:Jc,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:M,attributes:s}},l)}var Fie=vc.styles;function wz(t){var n="nest"===kr.autoReplaceSvg?xz(t,{styleParser:!1}):xz(t);return~n.extra.classes.indexOf(ZL)?$l("generateLayersText",t,n):$l("generateSvgReplacementMutation",t,n)}var B3=new Set;function _z(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Bl)return Promise.resolve();var e=Ra.documentElement.classList,r=function(Ce){return e.add("".concat(jL,"-").concat(Ce))},i=function(Ce){return e.remove("".concat(jL,"-").concat(Ce))},a=kr.autoFetchSvg?B3:kb.map(function(oe){return"fa-".concat(oe)}).concat(Object.keys(Fie));a.includes("fa")||a.push("fa");var s=[".".concat(ZL,":not([").concat(u0,"])")].concat(a.map(function(oe){return".".concat(oe,":not([").concat(u0,"])")})).join(", ");if(0===s.length)return Promise.resolve();var l=[];try{l=fu(t.querySelectorAll(s))}catch{}if(!(l.length>0))return Promise.resolve();r("pending"),i("complete");var M=Xb.begin("onTree"),R=l.reduce(function(oe,Ce){try{var We=wz(Ce);We&&oe.push(We)}catch(rt){YL||"MissingIcon"===rt.name&&console.error(rt)}return oe},[]);return new Promise(function(oe,Ce){Promise.all(R).then(function(We){bz(We,function(){r("active"),r("complete"),i("pending"),"function"==typeof n&&n(),M(),oe()})}).catch(function(We){M(),Ce(We)})})}function Oie(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;wz(t).then(function(e){e&&bz([e],n)})}kb.map(function(t){B3.add("fa-".concat(t))}),Object.keys(fd[Fa]).map(B3.add.bind(B3)),Object.keys(fd[fs]).map(B3.add.bind(B3)),B3=ld(B3);var Uie=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.transform,i=void 0===r?Jc:r,a=e.symbol,s=void 0!==a&&a,l=e.mask,M=void 0===l?null:l,R=e.maskId,oe=void 0===R?null:R,Ce=e.title,We=void 0===Ce?null:Ce,rt=e.titleId,bt=void 0===rt?null:rt,Bt=e.classes,cn=void 0===Bt?[]:Bt,yn=e.attributes,ln=void 0===yn?{}:yn,tr=e.styles,fr=void 0===tr?{}:tr;if(n){var br=n.prefix,bi=n.iconName,ra=n.icon;return Ep(xr({type:"icon"},n),function(){return h0("beforeDOMElementCreation",{iconDefinition:n,params:e}),kr.autoA11y&&(We?ln["aria-labelledby"]="".concat(kr.replacementClass,"-title-").concat(bt||gd()):(ln["aria-hidden"]="true",ln.focusable="false")),$b({icons:{main:jb(ra),mask:M?jb(M.icon):{found:!1,width:null,height:null,icon:{}}},prefix:br,iconName:bi,transform:xr(xr({},Jc),i),symbol:s,title:We,maskId:oe,titleId:bt,extra:{attributes:ln,styles:fr,classes:cn}})})}},Gie={mixout:function(){return{icon:(t=Uie,function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(n||{}).icon?n:Gb(n||{}),i=e.mask;return i&&(i=(i||{}).icon?i:Gb(i||{})),t(r,xr(xr({},e),{},{mask:i}))})};var t},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=_z,e.nodeCallback=Oie,e}}},provides:function(n){n.i2svg=function(e){var r=e.node,a=e.callback;return _z(void 0===r?Ra:r,void 0===a?function(){}:a)},n.generateSvgReplacementMutation=function(e,r){var i=r.iconName,a=r.title,s=r.titleId,l=r.prefix,M=r.transform,R=r.symbol,oe=r.mask,Ce=r.maskId,We=r.extra;return new Promise(function(rt,bt){Promise.all([Yb(i,l),oe.iconName?Yb(oe.iconName,oe.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(Bt){var cn=Sb(Bt,2);rt([e,$b({icons:{main:cn[0],mask:cn[1]},prefix:l,iconName:i,transform:M,symbol:R,maskId:Ce,title:a,titleId:s,extra:We,watchable:!0})])}).catch(bt)})},n.generateAbstractIcon=function(e){var R,r=e.children,i=e.attributes,a=e.main,s=e.transform,M=Dp(e.styles);return M.length>0&&(i.style=M),Eb(s)&&(R=$l("generateAbstractTransformGrouping",{main:a,transform:s,containerWidth:a.width,iconWidth:a.width})),r.push(R||a.icon),{children:r,attributes:i}}}},$ie={mixout:function(){return{layer:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,a=void 0===i?[]:i;return Ep({type:"layer"},function(){h0("beforeDOMElementCreation",{assembler:e,params:r});var s=[];return e(function(l){Array.isArray(l)?l.map(function(M){s=s.concat(M.abstract)}):s=s.concat(l.abstract)}),[{tag:"span",attributes:{class:["".concat(kr.cssPrefix,"-layers")].concat(ld(a)).join(" ")},children:s}]})}}}},Wie={mixout:function(){return{counter:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,a=void 0===i?null:i,s=r.classes,l=void 0===s?[]:s,M=r.attributes,R=void 0===M?{}:M,oe=r.styles,Ce=void 0===oe?{}:oe;return Ep({type:"counter",content:e},function(){return h0("beforeDOMElementCreation",{content:e,params:r}),function _ie(t){var n=t.content,e=t.title,r=t.extra,i=xr(xr(xr({},r.attributes),e?{title:e}:{}),{},{class:r.classes.join(" ")}),a=Dp(r.styles);a.length>0&&(i.style=a);var s=[];return s.push({tag:"span",attributes:i,children:[n]}),e&&s.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),s}({content:e.toString(),title:a,extra:{attributes:R,styles:Ce,classes:["".concat(kr.cssPrefix,"-layers-counter")].concat(ld(l))}})})}}}},jie={mixout:function(){return{text:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,a=void 0===i?Jc:i,s=r.title,l=void 0===s?null:s,M=r.classes,R=void 0===M?[]:M,oe=r.attributes,Ce=void 0===oe?{}:oe,We=r.styles,rt=void 0===We?{}:We;return Ep({type:"text",content:e},function(){return h0("beforeDOMElementCreation",{content:e,params:r}),hz({content:e,transform:xr(xr({},Jc),a),title:l,extra:{attributes:Ce,styles:rt,classes:["".concat(kr.cssPrefix,"-layers-text")].concat(ld(R))}})})}}},provides:function(n){n.generateLayersText=function(e,r){var i=r.title,a=r.transform,s=r.extra,l=null,M=null;if(GL){var R=parseInt(getComputedStyle(e).fontSize,10),oe=e.getBoundingClientRect();l=oe.width/R,M=oe.height/R}return kr.autoA11y&&!i&&(s.attributes["aria-hidden"]="true"),Promise.resolve([e,hz({content:e.innerHTML,width:l,height:M,transform:a,title:i,extra:s,watchable:!0})])}}},Yie=new RegExp('"',"ug"),Sz=[1105920,1112319];function Tz(t,n){var e="".concat(Ire).concat(n.replace(":","-"));return new Promise(function(r,i){if(null!==t.getAttribute(e))return r();var s=fu(t.children).filter(function(ra){return ra.getAttribute(Hb)===n})[0],l=R3.getComputedStyle(t,n),M=l.getPropertyValue("font-family").match(Bre),R=l.getPropertyValue("font-weight"),oe=l.getPropertyValue("content");if(s&&!M)return t.removeChild(s),r();if(M&&"none"!==oe&&""!==oe){var Ce=l.getPropertyValue("content"),We=~["Sharp"].indexOf(M[2])?fs:Fa,rt=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(M[2])?dd[We][M[2].toLowerCase()]:Ure[We][R],bt=function Zie(t){var n=t.replace(Yie,""),e=function oie(t,n){var i,e=t.length,r=t.charCodeAt(n);return r>=55296&&r<=56319&&e>n+1&&(i=t.charCodeAt(n+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(n,0),r=e>=Sz[0]&&e<=Sz[1],i=2===n.length&&n[0]===n[1];return{value:Pb(i?n[0]:n),isSecondary:r||i}}(Ce),Bt=bt.value,cn=bt.isSecondary,yn=M[0].startsWith("FontAwesome"),ln=Ob(rt,Bt),tr=ln;if(yn){var fr=function pie(t){var n=sz[t],e=Ob("fas",t);return n||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}(Bt);fr.iconName&&fr.prefix&&(ln=fr.iconName,rt=fr.prefix)}if(!ln||cn||s&&s.getAttribute(Lb)===rt&&s.getAttribute(zb)===tr)r();else{t.setAttribute(e,tr),s&&t.removeChild(s);var br=function Rie(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Jc,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),bi=br.extra;bi.attributes[Hb]=n,Yb(ln,rt).then(function(ra){var Is=$b(xr(xr({},br),{},{icons:{main:ra,mask:Bb()},prefix:rt,iconName:tr,extra:bi,watchable:!0})),p1=Ra.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===n?t.insertBefore(p1,t.firstChild):t.appendChild(p1),p1.outerHTML=Is.map(function(Y3){return yd(Y3)}).join("\n"),t.removeAttribute(e),r()}).catch(i)}}else r()})}function Xie(t){return Promise.all([Tz(t,"::before"),Tz(t,"::after")])}function Kie(t){return!(t.parentNode===document.head||~Rre.indexOf(t.tagName.toUpperCase())||t.getAttribute(Hb)||t.parentNode&&"svg"===t.parentNode.tagName)}function Dz(t){if(Bl)return new Promise(function(n,e){var r=fu(t.querySelectorAll("*")).filter(Kie).map(Xie),i=Xb.begin("searchPseudoElements");Cz(),Promise.all(r).then(function(){i(),Qb(),n()}).catch(function(){i(),Qb(),e()})})}var Az=!1,Hz=function(n){return n.toLowerCase().split(" ").reduce(function(r,i){var a=i.toLowerCase().split("-"),s=a[0],l=a.slice(1).join("-");if(s&&"h"===l)return r.flipX=!0,r;if(s&&"v"===l)return r.flipY=!0,r;if(l=parseFloat(l),isNaN(l))return r;switch(s){case"grow":r.size=r.size+l;break;case"shrink":r.size=r.size-l;break;case"left":r.x=r.x-l;break;case"right":r.x=r.x+l;break;case"up":r.y=r.y-l;break;case"down":r.y=r.y+l;break;case"rotate":r.rotate=r.rotate+l}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},Jb={x:0,y:0,width:"100%",height:"100%"};function Lz(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}!function gie(t,n){var e=n.mixoutsTo;fz=t,hu={},Object.keys(pu).forEach(function(r){-1===mie.indexOf(r)&&delete pu[r]}),fz.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(s){"function"==typeof i[s]&&(e[s]=i[s]),"object"===bp(i[s])&&Object.keys(i[s]).forEach(function(l){e[s]||(e[s]={}),e[s][l]=i[s][l]})}),r.hooks){var a=r.hooks();Object.keys(a).forEach(function(s){hu[s]||(hu[s]=[]),hu[s].push(a[s])})}r.provides&&r.provides(pu)})}([nie,Gie,$ie,Wie,jie,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=Dz,e}}},provides:function(n){n.pseudoElements2svg=function(e){var r=e.node;kr.searchPseudoElements&&Dz(void 0===r?Ra:r)}}},{mixout:function(){return{dom:{unwatch:function(){Cz(),Az=!0}}}},hooks:function(){return{bootstrap:function(){Mz(Ub("mutationObserverCallbacks",{}))},noAuto:function(){!function Eie(){Pp&&Pp.disconnect()}()},watch:function(e){var r=e.observeMutationsRoot;Az?Qb():Mz(Ub("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(e){return Hz(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,r){var i=r.getAttribute("data-fa-transform");return i&&(e.transform=Hz(i)),e}}},provides:function(n){n.generateAbstractTransformGrouping=function(e){var r=e.main,i=e.transform,s=e.iconWidth,l={transform:"translate(".concat(e.containerWidth/2," 256)")},M="translate(".concat(32*i.x,", ").concat(32*i.y,") "),R="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),oe="rotate(".concat(i.rotate," 0 0)"),rt={outer:l,inner:{transform:"".concat(M," ").concat(R," ").concat(oe)},path:{transform:"translate(".concat(s/2*-1," -256)")}};return{tag:"g",attributes:xr({},rt.outer),children:[{tag:"g",attributes:xr({},rt.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:xr(xr({},r.icon.attributes),rt.path)}]}]}}}},{hooks:function(){return{parseNodeAttributes:function(e,r){var i=r.getAttribute("data-fa-mask"),a=i?Vp(i.split(" ").map(function(s){return s.trim()})):Bb();return a.prefix||(a.prefix=O3()),e.mask=a,e.maskId=r.getAttribute("data-fa-mask-id"),e}}},provides:function(n){n.generateAbstractMask=function(e){var t,r=e.children,i=e.attributes,a=e.main,s=e.mask,l=e.maskId,oe=a.icon,We=s.icon,rt=function qre(t){var n=t.transform,r=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},a="translate(".concat(32*n.x,", ").concat(32*n.y,") "),s="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(s," ").concat(l)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:e.transform,containerWidth:s.width,iconWidth:a.width}),bt={tag:"rect",attributes:xr(xr({},Jb),{},{fill:"white"})},Bt=oe.children?{children:oe.children.map(Lz)}:{},cn={tag:"g",attributes:xr({},rt.inner),children:[Lz(xr({tag:oe.tag,attributes:xr(xr({},oe.attributes),rt.path)},Bt))]},yn={tag:"g",attributes:xr({},rt.outer),children:[cn]},ln="mask-".concat(l||gd()),tr="clip-".concat(l||gd()),fr={tag:"mask",attributes:xr(xr({},Jb),{},{id:ln,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[bt,yn]},br={tag:"defs",children:[{tag:"clipPath",attributes:{id:tr},children:(t=We,"g"===t.tag?t.children:[t])},fr]};return r.push(br,{tag:"rect",attributes:xr({fill:"currentColor","clip-path":"url(#".concat(tr,")"),mask:"url(#".concat(ln,")")},Jb)}),{children:r,attributes:i}}}},{provides:function(n){var e=!1;R3.matchMedia&&(e=R3.matchMedia("(prefers-reduced-motion: reduce)").matches),n.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},a={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:xr(xr({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var s=xr(xr({},a),{},{attributeName:"opacity"}),l={tag:"circle",attributes:xr(xr({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||l.children.push({tag:"animate",attributes:xr(xr({},a),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:xr(xr({},s),{},{values:"1;0;1;1;0;1;"})}),r.push(l),r.push({tag:"path",attributes:xr(xr({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:xr(xr({},s),{},{values:"1;0;0;0;0;1;"})}]}),e||r.push({tag:"path",attributes:xr(xr({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:xr(xr({},s),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(e,r){var i=r.getAttribute("data-fa-symbol");return e.symbol=null!==i&&(""===i||i),e}}}}],{mixoutsTo:to});var aae=to.parse,sae=to.icon;const oae=["*"],uae=t=>{const n={[`fa-${t.animation}`]:null!=t.animation&&!t.animation.startsWith("spin"),"fa-spin":"spin"===t.animation||"spin-reverse"===t.animation,"fa-spin-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-spin-reverse":"spin-reverse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-pulse":"spin-pulse"===t.animation||"spin-pulse-reverse"===t.animation,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(n).map(e=>n[e]?e:null).filter(e=>e)};let hae=(()=>{class t{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pae=(()=>{class t{constructor(){this.definitions={}}addIcons(...e){for(const r of e){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(const i of r.icon[2])"string"==typeof i&&(this.definitions[r.prefix][i]=r)}}addIconPacks(...e){for(const r of e){const i=Object.keys(r).map(a=>r[a]);this.addIcons(...i)}}getIconDefinition(e,r){return e in this.definitions&&r in this.definitions[e]?this.definitions[e][r]:null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vae=(()=>{class t{constructor(){this.stackItemSize="1x"}ngOnChanges(e){if("size"in e)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=nr({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},standalone:!0,features:[$s]})}return t})(),mae=(()=>{class t{constructor(e,r){this.renderer=e,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(e){"size"in e&&(null!=e.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${e.size.currentValue}`),null!=e.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${e.size.previousValue}`))}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(K2),Dt(aa))};static#t=this.\u0275cmp=ur({type:t,selectors:[["fa-stack"]],inputs:{size:"size"},standalone:!0,features:[$s,D8],ngContentSelectors:oae,decls:1,vars:0,template:function(r,i){1&r&&(_8(),q4(0))},encapsulation:2})}return t})(),Oa=(()=>{class t{set spin(e){this.animation=e?"spin":void 0}set pulse(e){this.animation=e?"spin-pulse":void 0}constructor(e,r,i,a,s){this.sanitizer=e,this.config=r,this.iconLibrary=i,this.stackItem=a,this.classes=[],null!=s&&null==a&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(e){if(null!=this.icon||null!=this.config.fallbackIcon){if(e){const i=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=i){const a=this.buildParams();this.renderIcon(i,a)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(e){const r=((t,n)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:"string"==typeof t?{prefix:n,iconName:t}:{prefix:t[0],iconName:t[1]})(e,this.config.defaultPrefix);return"icon"in r?r:this.iconLibrary.getIconDefinition(r.prefix,r.iconName)??((t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(r),null)}buildParams(){const e={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?aae.transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...uae(e),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(e,r){const i=sae(e,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(i.html.join("\n"))}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(yA),Dt(hae),Dt(pae),Dt(vae,8),Dt(mae,8))};static#t=this.\u0275cmp=ur({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){2&r&&(Sg("innerHTML",i.renderedIconHTML,r5),J1("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},standalone:!0,features:[$s,D8],decls:0,vars:0,template:function(r,i){},encapsulation:2})}return t})(),gae=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Yr({type:t});static#n=this.\u0275inj=Fi({})}return t})();const yae=new hr("WindowToken",typeof window<"u"&&window.document?{providedIn:"root",factory:()=>window}:{providedIn:"root",factory:()=>{}});let bae=(()=>{class t{constructor(e,r,i){this.ngZone=e,this.document=r,this.window=i,this.copySubject=new dt,this.copyResponse$=this.copySubject.asObservable(),this.config={}}configure(e){this.config=e}copy(e){if(!this.isSupported||!e)return this.pushCopyResponse({isSuccess:!1,content:e});const r=this.copyFromContent(e);return this.pushCopyResponse(r?{content:e,isSuccess:r}:{isSuccess:!1,content:e})}get isSupported(){return!!this.document.queryCommandSupported&&!!this.document.queryCommandSupported("copy")&&!!this.window}isTargetValid(e){if(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement){if(e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');return!0}throw new Error("Target should be input or textarea")}copyFromInputElement(e,r=!0){try{this.selectTarget(e);const i=this.copyText();return this.clearSelection(r?e:void 0,this.window),i&&this.isCopySuccessInIE11()}catch{return!1}}isCopySuccessInIE11(){const e=this.window.clipboardData;return!(e&&e.getData&&!e.getData("Text"))}copyFromContent(e,r=this.document.body){if(this.tempTextArea&&!r.contains(this.tempTextArea)&&this.destroy(this.tempTextArea.parentElement||void 0),!this.tempTextArea){this.tempTextArea=this.createTempTextArea(this.document,this.window);try{r.appendChild(this.tempTextArea)}catch{throw new Error("Container should be a Dom element")}}this.tempTextArea.value=e;const i=this.copyFromInputElement(this.tempTextArea,!1);return this.config.cleanUpAfterCopy&&this.destroy(this.tempTextArea.parentElement||void 0),i}destroy(e=this.document.body){this.tempTextArea&&(e.removeChild(this.tempTextArea),this.tempTextArea=void 0)}selectTarget(e){return e.select(),e.setSelectionRange(0,e.value.length),e.value.length}copyText(){return this.document.execCommand("copy")}clearSelection(e,r){e&&e.focus(),r.getSelection()?.removeAllRanges()}createTempTextArea(e,r){const i="rtl"===e.documentElement.getAttribute("dir");let a;return a=e.createElement("textarea"),a.style.fontSize="12pt",a.style.border="0",a.style.padding="0",a.style.margin="0",a.style.position="absolute",a.style[i?"right":"left"]="-9999px",a.style.top=(r.pageYOffset||e.documentElement.scrollTop)+"px",a.setAttribute("readonly",""),a}pushCopyResponse(e){this.copySubject.observers.length>0&&this.ngZone.run(()=>{this.copySubject.next(e)})}pushCopyReponse(e){this.pushCopyResponse(e)}}return t.\u0275fac=function(e){return new(e||t)(pn(Ci),pn(xa),pn(yae,8))},t.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Cae=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Yr({type:t}),t.\u0275inj=Fi({imports:[iu]}),t})(),qb=(()=>{class t{_elementRef;_renderer;constructor(e,r){this._elementRef=e,this._renderer=r}collapseClass=!0;collapseShow=new Kt;collapseShown=new Kt;collapseHide=new Kt;collapseHidden=new Kt;set collapsed(e){e!==this._collapsed&&(e?this.hide():this.show(),this._collapsed=e)}get collapsed(){return this._collapsed}_collapsed=!0;get host(){return this._elementRef.nativeElement}_isTransitioning=!1;show(){if(this._isTransitioning||!this.collapsed)return;this.collapseShow.emit(this),this._renderer.removeClass(this.host,"collapse"),this._renderer.addClass(this.host,"collapsing"),this._renderer.setStyle(this.host,"height","0px"),this._isTransitioning=!0;const e=this.host.scrollHeight;hc(this.host,"transitionend").pipe(Js(1)).subscribe(()=>{this._isTransitioning=!1,this.collapsed=!1,this._renderer.removeClass(this.host,"collapsing"),this._renderer.addClass(this.host,"collapse"),this._renderer.addClass(this.host,"show"),this._renderer.removeStyle(this.host,"height"),this.collapseShown.emit(this)}),this._emulateTransitionEnd(this.host,350),this._renderer.setStyle(this.host,"height",`${e}px`)}hide(){if(this._isTransitioning||this.collapsed)return;this.collapseHide.emit(this);const e=this.host.getBoundingClientRect().height;this._renderer.setStyle(this.host,"height",`${e}px`),this._reflow(this.host),this._renderer.addClass(this.host,"collapsing"),this._renderer.removeClass(this.host,"collapse"),this._renderer.removeClass(this.host,"show"),this._isTransitioning=!0,hc(this.host,"transitionend").pipe(Js(1)).subscribe(()=>{this._renderer.removeClass(this.host,"collapsing"),this._renderer.addClass(this.host,"collapse"),this._isTransitioning=!1,this.collapsed=!0,this.collapseHidden.emit(this)}),this._renderer.removeStyle(this.host,"height"),this._emulateTransitionEnd(this.host,350)}toggle(){this._isTransitioning||(this.collapsed=!this.collapsed,this.collapsed?this.hide():this.show())}_reflow(e){return e.offsetHeight}_emulateTransitionEnd(e,r){let i=!1;const s=r+5;hc(e,"transitionend").pipe(Js(1)).subscribe(()=>{i=!0}),setTimeout(()=>{i||e.dispatchEvent(new Event("transitionend"))},s)}static \u0275fac=function(r){return new(r||t)(Dt(aa),Dt(K2))};static \u0275dir=nr({type:t,selectors:[["","mdbCollapse",""]],hostVars:2,hostBindings:function(r,i){2&r&&pr("collapse",i.collapseClass)},inputs:{collapsed:"collapsed"},outputs:{collapseShow:"collapseShow",collapseShown:"collapseShown",collapseHide:"collapseHide",collapseHidden:"collapseHidden"},exportAs:["mdbCollapse"]})}return t})(),kz=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Yr({type:t});static \u0275inj=Fi({})}return t})();function Eo(t){return null!=t&&"false"!=`${t}`}function Rp(t){return Array.isArray(t)?t:[t]}function Es(t){return null==t?"":"string"==typeof t?t:`${t}px`}const Cd={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=Cd;r&&(n=r.requestAnimationFrame,e=r.cancelAnimationFrame);const i=n(a=>{e=void 0,t(a)});return new X(()=>e?.(i))},requestAnimationFrame(...t){const{delegate:n}=Cd;return(n?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:n}=Cd;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};new class _ae extends Qy{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;n=n||r.shift();do{if(i=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===e&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===e&&r.shift();)n.unsubscribe();throw i}}}(class wae extends Ky{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,r=0){return null!==r&&r>0?super.requestAsyncId(n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=Cd.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,e,r);const{actions:a}=n;null!=e&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==e&&(Cd.cancelAnimationFrame(e),n._scheduled=void 0)}});let eC,Tae=1;const Fp={};function Vz(t){return t in Fp&&(delete Fp[t],!0)}const Dae={setImmediate(t){const n=Tae++;return Fp[n]=!0,eC||(eC=Promise.resolve()),eC.then(()=>Vz(n)&&t()),n},clearImmediate(t){Vz(t)}},{setImmediate:Aae,clearImmediate:Hae}=Dae,Op={setImmediate(...t){const{delegate:n}=Op;return(n?.setImmediate||Aae)(...t)},clearImmediate(t){const{delegate:n}=Op;return(n?.clearImmediate||Hae)(t)},delegate:void 0};new class zae extends Qy{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;n=n||r.shift();do{if(i=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===e&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===e&&r.shift();)n.unsubscribe();throw i}}}(class Lae extends Ky{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,r=0){return null!==r&&r>0?super.requestAsyncId(n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=Op.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,e,r);const{actions:a}=n;null!=e&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==e&&(Op.clearImmediate(e),n._scheduled===e&&(n._scheduled=void 0))}});function Ez(t,n=ap){return function Vae(t){return De((n,e)=>{let r=!1,i=null,a=null,s=!1;const l=()=>{if(a?.unsubscribe(),a=null,r){r=!1;const R=i;i=null,e.next(R)}s&&e.complete()},M=()=>{a=null,s&&e.complete()};n.subscribe($e(e,R=>{r=!0,i=R,a||a2(t(R)).subscribe(a=$e(e,l,M))},()=>{s=!0,(!r||!a||a.closed)&&e.complete()}))})}(()=>WH(t,n))}let tC;try{tC=typeof Intl<"u"&&Intl.v8BreakIterator}catch{tC=!1}let p0,vu=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?G7(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!tC)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||t)(pn(y2))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Nae(){if(null==p0){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return p0=!1,p0;if("scrollBehavior"in document.documentElement.style)p0=!0;else{const t=Element.prototype.scrollTo;p0=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return p0}function Iz(t){return t.composedPath?t.composedPath()[0]:t.target}function Pz(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const Pae=new hr("cdk-dir-doc",{providedIn:"root",factory:function Rae(){return Bn(xa)}}),Fae=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Bae=(()=>{class t{constructor(e){this.value="ltr",this.change=new Kt,e&&(this.value=function Oae(t){const n=t?.toLowerCase()||"";return"auto"===n&&typeof navigator<"u"&&navigator?.language?Fae.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(r){return new(r||t)(pn(Pae,8))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),rC=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Yr({type:t});static#n=this.\u0275inj=Fi({})}return t})(),Gae=(()=>{class t{constructor(e,r,i){this._ngZone=e,this._platform=r,this._scrolled=new dt,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new tn(r=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(Ez(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):jr()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(l1(a=>!a||i.indexOf(a)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((i,a)=>{this._scrollableContainsElement(a,e)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let i=function xae(t){return t instanceof aa?t.nativeElement:t}(r),a=e.getElementRef().nativeElement;do{if(i==a)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>hc(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(r){return new(r||t)(pn(Ci),pn(vu),pn(xa,8))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Rz=(()=>{class t{constructor(e,r,i){this._platform=e,this._change=new dt,this._changeListener=a=>{this._change.next(a)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,a=i.getBoundingClientRect();return{top:-a.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-a.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Ez(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(r){return new(r||t)(pn(vu),pn(Ci),pn(xa,8))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Fz=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Yr({type:t});static#n=this.\u0275inj=Fi({})}return t})(),Oz=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Yr({type:t});static#n=this.\u0275inj=Fi({imports:[rC,Fz,rC,Fz]})}return t})();function di(t){return De((n,e)=>{a2(t).subscribe($e(e,()=>e.complete(),ze)),!e.closed&&n.subscribe(e)})}class iC{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class Wae extends iC{constructor(n,e,r,i,a){super(),this.component=n,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=a}}class Up extends iC{constructor(n,e,r,i){super(),this.templateRef=n,this.viewContainerRef=e,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class jae extends iC{constructor(n){super(),this.element=n instanceof aa?n.nativeElement:n}}class Bz{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof Wae?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof Up?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof jae?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Yae extends Bz{constructor(n,e,r,i,a){super(),this.outletElement=n,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=s=>{const l=s.element,M=this._document.createComment("dom-portal");l.parentNode.insertBefore(M,l),this.outletElement.appendChild(l),this._attachedPortal=s,super.setDisposeFn(()=>{M.parentNode&&M.parentNode.replaceChild(l,M)})},this._document=a}attachComponentPortal(n){const r=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let i;return n.viewContainerRef?(i=n.viewContainerRef.createComponent(r,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector,n.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(n.injector||this._defaultInjector||Ws.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=n,i}attachTemplatePortal(n){let e=n.viewContainerRef,r=e.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(r);-1!==i&&e.remove(i)}),this._attachedPortal=n,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let Uz=(()=>{class t extends Bz{constructor(e,r,i){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Kt,this.attachDomPortal=a=>{const s=a.element,l=this._document.createComment("dom-portal");a.setAttachedHost(this),s.parentNode.insertBefore(l,s),this._getRootNode().appendChild(s),this._attachedPortal=a,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(s,l)})},this._document=i}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,a=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=r.createComponent(a,r.length,e.injector||r.injector,e.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(W4),Dt(Q1),Dt(xa))};static#t=this.\u0275dir=nr({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[Er.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[yi]})}return t})(),Gz=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Yr({type:t});static#n=this.\u0275inj=Fi({})}return t})();const $z=Nae();class Zae{constructor(n,e){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=Es(-this._previousScrollPosition.left),n.style.top=Es(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,r=n.style,i=this._document.body.style,a=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),$z&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),$z&&(r.scrollBehavior=a,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class Xae{constructor(n,e,r,i){this._scrollDispatcher=n,this._ngZone=e,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef=n}enable(){if(this._scrollSubscription)return;const n=this._scrollDispatcher.scrolled(0).pipe(l1(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Wz{enable(){}disable(){}attach(){}}function aC(t,n){return n.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function jz(t,n){return n.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class Kae{constructor(n,e,r,i){this._scrollDispatcher=n,this._viewportRuler=e,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();aC(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Qae=(()=>{class t{constructor(e,r,i,a){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new Wz,this.close=s=>new Xae(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new Zae(this._viewportRuler,this._document),this.reposition=s=>new Kae(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=a}static#e=this.\u0275fac=function(r){return new(r||t)(pn(Gae),pn(Rz),pn(Ci),pn(xa))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Yz{constructor(n){if(this.scrollStrategy=new Wz,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){const e=Object.keys(n);for(const r of e)void 0!==n[r]&&(this[r]=n[r])}}}class Jae{constructor(n,e){this.connectionPair=n,this.scrollableViewProperties=e}}let Zz=(()=>{class t{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(r){return new(r||t)(pn(xa))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),qae=(()=>{class t extends Zz{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=i=>{const a=this._attachedOverlays;for(let s=a.length-1;s>-1;s--)if(a[s]._keydownEvents.observers.length>0){const l=a[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(i)):l.next(i);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(r){return new(r||t)(pn(xa),pn(Ci,8))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ese=(()=>{class t extends Zz{constructor(e,r,i){super(e),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=Iz(a)},this._clickListener=a=>{const s=Iz(a),l="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const M=this._attachedOverlays.slice();for(let R=M.length-1;R>-1;R--){const oe=M[R];if(oe._outsidePointerEvents.observers.length<1||!oe.hasAttached())continue;if(oe.overlayElement.contains(s)||oe.overlayElement.contains(l))break;const Ce=oe._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Ce.next(a)):Ce.next(a)}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(r){return new(r||t)(pn(xa),pn(vu),pn(Ci,8))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Xz=(()=>{class t{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Pz()){const i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let a=0;a<i.length;a++)i[a].remove()}const r=this._document.createElement("div");r.classList.add(e),Pz()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static#e=this.\u0275fac=function(r){return new(r||t)(pn(xa),pn(vu))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class tse{constructor(n,e,r,i,a,s,l,M,R,oe=!1){this._portalOutlet=n,this._host=e,this._pane=r,this._config=i,this._ngZone=a,this._keyboardDispatcher=s,this._document=l,this._location=M,this._outsideClickDispatcher=R,this._animationsDisabled=oe,this._backdropElement=null,this._backdropClick=new dt,this._attachments=new dt,this._detachments=new dt,this._locationChanges=X.EMPTY,this._backdropClickHandler=Ce=>this._backdropClick.next(Ce),this._backdropTransitionendHandler=Ce=>{this._disposeBackdrop(Ce.target)},this._keydownEvents=new dt,this._outsidePointerEvents=new dt,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(n);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Js(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){const n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,n&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config={...this._config,...n},this._updateElementSize()}setDirection(n){this._config={...this._config,direction:n},this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=Es(this._config.width),n.height=Es(this._config.height),n.minWidth=Es(this._config.minWidth),n.minHeight=Es(this._config.minHeight),n.maxWidth=Es(this._config.maxWidth),n.maxHeight=Es(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const n=this._backdropElement;if(n){if(this._animationsDisabled)return void this._disposeBackdrop(n);n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",this._backdropTransitionendHandler)}),n.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(n)},500))}}_toggleClasses(n,e,r){const i=Rp(e||[]).filter(a=>!!a);i.length&&(r?n.classList.add(...i):n.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const n=this._ngZone.onStable.pipe(di(rp(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){const n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",this._backdropTransitionendHandler),n.remove(),this._backdropElement===n&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Kz="cdk-overlay-connected-position-bounding-box",nse=/([A-Za-z%]+)$/;class rse{get positions(){return this._preferredPositions}constructor(n,e,r,i,a){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new dt,this._resizeSubscription=X.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}attach(n){this._validatePositions(),n.hostElement.classList.add(Kz),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._originRect,e=this._overlayRect,r=this._viewportRect,i=this._containerRect,a=[];let s;for(let l of this._preferredPositions){let M=this._getOriginPoint(n,i,l),R=this._getOverlayPoint(M,e,l),oe=this._getOverlayFit(R,e,r,l);if(oe.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(l,M);this._canFitWithFlexibleDimensions(oe,R,r)?a.push({position:l,origin:M,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(M,l)}):(!s||s.overlayFit.visibleArea<oe.visibleArea)&&(s={overlayFit:oe,overlayPoint:R,originPoint:M,position:l,overlayRect:e})}if(a.length){let l=null,M=-1;for(const R of a){const oe=R.boundingBoxRect.width*R.boundingBoxRect.height*(R.position.weight||1);oe>M&&(M=oe,l=R)}return this._isPushed=!1,void this._applyPosition(l.position,l.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&v0(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Kz),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,e)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,e,r){let i,a;if("center"==r.originX)i=n.left+n.width/2;else{const s=this._isRtl()?n.right:n.left,l=this._isRtl()?n.left:n.right;i="start"==r.originX?s:l}return e.left<0&&(i-=e.left),a="center"==r.originY?n.top+n.height/2:"top"==r.originY?n.top:n.bottom,e.top<0&&(a-=e.top),{x:i,y:a}}_getOverlayPoint(n,e,r){let i,a;return i="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,a="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:n.x+i,y:n.y+a}}_getOverlayFit(n,e,r,i){const a=Jz(e);let{x:s,y:l}=n,M=this._getOffset(i,"x"),R=this._getOffset(i,"y");M&&(s+=M),R&&(l+=R);let We=0-l,rt=l+a.height-r.height,bt=this._subtractOverflows(a.width,0-s,s+a.width-r.width),Bt=this._subtractOverflows(a.height,We,rt),cn=bt*Bt;return{visibleArea:cn,isCompletelyWithinViewport:a.width*a.height===cn,fitsInViewportVertically:Bt===a.height,fitsInViewportHorizontally:bt==a.width}}_canFitWithFlexibleDimensions(n,e,r){if(this._hasFlexibleDimensions){const i=r.bottom-e.y,a=r.right-e.x,s=Qz(this._overlayRef.getConfig().minHeight),l=Qz(this._overlayRef.getConfig().minWidth);return(n.fitsInViewportVertically||null!=s&&s<=i)&&(n.fitsInViewportHorizontally||null!=l&&l<=a)}return!1}_pushOverlayOnScreen(n,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const i=Jz(e),a=this._viewportRect,s=Math.max(n.x+i.width-a.width,0),l=Math.max(n.y+i.height-a.height,0),M=Math.max(a.top-r.top-n.y,0),R=Math.max(a.left-r.left-n.x,0);let oe=0,Ce=0;return oe=i.width<=a.width?R||-s:n.x<this._viewportMargin?a.left-r.left-n.x:0,Ce=i.height<=a.height?M||-l:n.y<this._viewportMargin?a.top-r.top-n.y:0,this._previousPushAmount={x:oe,y:Ce},{x:n.x+oe,y:n.y+Ce}}_applyPosition(n,e){if(this._setTransformOrigin(n),this._setOverlayElementStyles(e,n),this._setBoundingBoxStyles(e,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._lastPosition=n,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new Jae(n,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=n.overlayY;r="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let a=0;a<e.length;a++)e[a].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(n,e){const r=this._viewportRect,i=this._isRtl();let a,s,l,oe,Ce,We;if("top"===e.overlayY)s=n.y,a=r.height-s+this._viewportMargin;else if("bottom"===e.overlayY)l=r.height-n.y+2*this._viewportMargin,a=r.height-l+this._viewportMargin;else{const rt=Math.min(r.bottom-n.y+r.top,n.y),bt=this._lastBoundingBoxSize.height;a=2*rt,s=n.y-rt,a>bt&&!this._isInitialRender&&!this._growAfterOpen&&(s=n.y-bt/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)We=r.width-n.x+this._viewportMargin,oe=n.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)Ce=n.x,oe=r.right-n.x;else{const rt=Math.min(r.right-n.x+r.left,n.x),bt=this._lastBoundingBoxSize.width;oe=2*rt,Ce=n.x-rt,oe>bt&&!this._isInitialRender&&!this._growAfterOpen&&(Ce=n.x-bt/2)}return{top:s,left:Ce,bottom:l,right:We,width:oe,height:a}}_setBoundingBoxStyles(n,e){const r=this._calculateBoundingBoxRect(n,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=Es(r.height),i.top=Es(r.top),i.bottom=Es(r.bottom),i.width=Es(r.width),i.left=Es(r.left),i.right=Es(r.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=Es(a)),s&&(i.maxWidth=Es(s))}this._lastBoundingBoxSize=r,v0(this._boundingBox.style,i)}_resetBoundingBoxStyles(){v0(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){v0(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,e){const r={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const oe=this._viewportRuler.getViewportScrollPosition();v0(r,this._getExactOverlayY(e,n,oe)),v0(r,this._getExactOverlayX(e,n,oe))}else r.position="static";let l="",M=this._getOffset(e,"x"),R=this._getOffset(e,"y");M&&(l+=`translateX(${M}px) `),R&&(l+=`translateY(${R}px)`),r.transform=l.trim(),s.maxHeight&&(i?r.maxHeight=Es(s.maxHeight):a&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=Es(s.maxWidth):a&&(r.maxWidth="")),v0(this._pane.style,r)}_getExactOverlayY(n,e,r){let i={top:"",bottom:""},a=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),"bottom"===n.overlayY?i.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":i.top=Es(a.y),i}_getExactOverlayX(n,e,r){let s,i={left:"",right:""},a=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),s=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===s?i.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":i.left=Es(a.x),i}_getScrollVisibility(){const n=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:jz(n,r),isOriginOutsideView:aC(n,r),isOverlayClipped:jz(e,r),isOverlayOutsideView:aC(e,r)}}_subtractOverflows(n,...e){return e.reduce((r,i)=>r-Math.max(i,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+n-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:n-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,e){return"x"===e?null==n.offsetX?this._offsetX:n.offsetX:null==n.offsetY?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&Rp(n).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof aa)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const e=n.width||0,r=n.height||0;return{top:n.y,bottom:n.y+r,left:n.x,right:n.x+e,height:r,width:e}}}function v0(t,n){for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}function Qz(t){if("number"!=typeof t&&null!=t){const[n,e]=t.split(nse);return e&&"px"!==e?null:parseFloat(n)}return t||null}function Jz(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}const qz="cdk-global-overlay-wrapper";class ise{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(n){const e=n.getConfig();this._overlayRef=n,this._width&&!e.width&&n.updateSize({width:this._width}),this._height&&!e.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(qz),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:a,maxWidth:s,maxHeight:l}=r,M=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),R=!("100%"!==a&&"100vh"!==a||l&&"100%"!==l&&"100vh"!==l),oe=this._xPosition,Ce=this._xOffset,We="rtl"===this._overlayRef.getConfig().direction;let rt="",bt="",Bt="";M?Bt="flex-start":"center"===oe?(Bt="center",We?bt=Ce:rt=Ce):We?"left"===oe||"end"===oe?(Bt="flex-end",rt=Ce):("right"===oe||"start"===oe)&&(Bt="flex-start",bt=Ce):"left"===oe||"start"===oe?(Bt="flex-start",rt=Ce):("right"===oe||"end"===oe)&&(Bt="flex-end",bt=Ce),n.position=this._cssPosition,n.marginLeft=M?"0":rt,n.marginTop=R?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=M?"0":bt,e.justifyContent=Bt,e.alignItems=R?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(qz),r.justifyContent=r.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}let ek=(()=>{class t{constructor(e,r,i,a){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=a}global(){return new ise}flexibleConnectedTo(e){return new rse(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(r){return new(r||t)(pn(Rz),pn(xa),pn(vu),pn(Xz))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ase=0,Gp=(()=>{class t{constructor(e,r,i,a,s,l,M,R,oe,Ce,We,rt){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=a,this._keyboardDispatcher=s,this._injector=l,this._ngZone=M,this._document=R,this._directionality=oe,this._location=Ce,this._outsideClickDispatcher=We,this._animationsModuleType=rt}create(e){const r=this._createHostElement(),i=this._createPaneElement(r),a=this._createPortalOutlet(i),s=new Yz(e);return s.direction=s.direction||this._directionality.value,new tse(a,r,i,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+ase++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Vl)),new Yae(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(r){return new(r||t)(pn(Qae),pn(Xz),pn(W4),pn(ek),pn(qae),pn(Ws),pn(Ci),pn(xa),pn(Bae),pn(R1),pn(ese),pn(m3,8))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const cse={provide:new hr("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const t=Bn(Gp);return()=>t.scrollStrategies.reposition()}}),deps:[Gp],useFactory:function ose(t){return()=>t.scrollStrategies.reposition()}};let lse=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Yr({type:t});static#n=this.\u0275inj=Fi({providers:[Gp,cse],imports:[rC,Gz,Oz,Oz]})}return t})();function $p(...t){const n=U8(t),e=RA(t),{args:r,keys:i}=IA(t);if(0===r.length)return Qs([],n);const a=new tn(function use(t,n,e=Xt){return r=>{tk(n,()=>{const{length:i}=t,a=new Array(i);let s=i,l=i;for(let M=0;M<i;M++)tk(n,()=>{const R=Qs(t[M],n);let oe=!1;R.subscribe($e(r,Ce=>{a[M]=Ce,oe||(oe=!0,l--),l||r.next(e(a.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,n,i?s=>FA(i,s):Xt));return e?a.pipe(zy(e)):a}function tk(t,n,e){t?Rl(e,t,n):n()}function sC(...t){const n=U8(t);return De((e,r)=>{(n?ou(t,e,n):ou(t,e)).subscribe(r)})}const nk=new Set;let m0,hse=(()=>{class t{constructor(e,r){this._platform=e,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):vse}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function pse(t,n){if(!nk.has(t))try{m0||(m0=document.createElement("style"),n&&(m0.nonce=n),m0.setAttribute("type","text/css"),document.head.appendChild(m0)),m0.sheet&&(m0.sheet.insertRule(`@media ${t} {body{ }}`,0),nk.add(t))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(r){return new(r||t)(pn(vu),pn(g4,8))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vse(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let mse=(()=>{class t{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new dt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return rk(Rp(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let a=$p(rk(Rp(e)).map(s=>this._registerQuery(s).observable));return a=ou(a.pipe(Js(1)),a.pipe(function fse(t){return l1((n,e)=>t<=e)}(1),function dse(t,n=ap){return De((e,r)=>{let i=null,a=null,s=null;const l=()=>{if(i){i.unsubscribe(),i=null;const R=a;a=null,r.next(R)}};function M(){const R=s+t,oe=n.now();if(oe<R)return i=this.schedule(void 0,R-oe),void r.add(i);l()}e.subscribe($e(r,R=>{a=R,s=n.now(),i||(i=n.schedule(M,t),r.add(i))},()=>{l(),r.complete()},void 0,()=>{a=i=null}))})}(0))),a.pipe(Ye(s=>{const l={matches:!1,breakpoints:{}};return s.forEach(({matches:M,query:R})=>{l.matches=l.matches||M,l.breakpoints[R]=M}),l}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),a={observable:new tn(s=>{const l=M=>this._zone.run(()=>s.next(M));return r.addListener(l),()=>{r.removeListener(l)}}).pipe(sC(r),Ye(({matches:s})=>({query:e,matches:s})),di(this._destroySubject)),mql:r};return this._queries.set(e,a),a}static#e=this.\u0275fac=function(r){return new(r||t)(pn(hse),pn(Ci))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rk(t){return t.map(n=>n.split(",")).reduce((n,e)=>n.concat(e)).map(n=>n.trim())}const gse=["dropdownTemplate"],yse=["mdbDropdown",""];function bse(t,n){if(1&t){const e=fi();xe(0,"div"),mn("@fade.done",function(i){return or(e),sr(zt().onAnimationEnd(i))}),q4(1,2),Se()}if(2&t){const e=zt();Qe("@fade",e._animationState)("@.disabled",!e.animation)}}const Cse=["*",[["",8,"dropdown-toggle"]],[["",8,"dropdown-menu"]]],Mse=["*",".dropdown-toggle",".dropdown-menu"];let qc=(()=>{class t{constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275dir=nr({type:t,selectors:[["","mdbDropdownToggle",""]],exportAs:["mdbDropdownToggle"]})}return t})(),el=(()=>{class t{elementRef;_renderer;constructor(e,r){this.elementRef=e,this._renderer=r}menuPositionClassChanged=new Kt;get menuPositionClass(){return this._menuPositionClass}set menuPositionClass(e){const r=this.elementRef.nativeElement,i=r.classList.contains(e);this._menuPositionClass!==e&&!i&&(["dropdown-menu-start","dropdown-menu-sm-start","dropdown-menu-md-start","dropdown-menu-lg-start","dropdown-menu-xl-start","dropdown-menu-xxl-start","dropdown-menu-xxl-start","dropdown-menu-xxl-start","dropdown-menu-end","dropdown-menu-sm-end","dropdown-menu-md-end","dropdown-menu-lg-end","dropdown-menu-xl-end","dropdown-menu-xxl-end","dropdown-menu-xxl-end","dropdown-menu-xxl-end"].forEach(s=>{this._renderer.removeClass(r,s)}),this._renderer.addClass(r,e),this.menuPositionClassChanged.emit(this.menuPositionClass))}_menuPositionClass;static \u0275fac=function(r){return new(r||t)(Dt(aa),Dt(K2))};static \u0275dir=nr({type:t,selectors:[["","mdbDropdownMenu",""]],inputs:{menuPositionClass:"menuPositionClass"},outputs:{menuPositionClassChanged:"menuPositionClassChanged"},exportAs:["mdbDropdownMenu"]})}return t})(),Wl=(()=>{class t{_overlay;_overlayPositionBuilder;_elementRef;_vcr;_breakpointObserver;_cdRef;_renderer;_template;_dropdownToggle;_dropdownMenu;animation=!0;closeOnEsc=!0;closeOnItemClick=!0;closeOnOutsideClick=!0;offset=0;get positionClass(){return this._positionClass}set positionClass(e){const r=this.host.classList.contains(e);this._positionClass!==e&&!r&&(["dropdown","dropup","dropstart","dropend"].forEach(a=>{this._renderer.removeClass(this.host,a)}),this._renderer.addClass(this.host,e)),this._updateOverlay()}_positionClass;withPush=!1;dropdownShow=new Kt;dropdownShown=new Kt;dropdownHide=new Kt;dropdownHidden=new Kt;_overlayRef;_portal;_open=!1;_isDropUp;_isDropStart;_isDropEnd;_isDropdownMenuEnd;_xPosition;_breakpoints;_destroy$=new dt;get host(){return this._elementRef.nativeElement}_breakpointSubscription;_animationState="hidden";constructor(e,r,i,a,s,l,M){this._overlay=e,this._overlayPositionBuilder=r,this._elementRef=i,this._vcr=a,this._breakpointObserver=s,this._cdRef=l,this._renderer=M,this._breakpoints={isSm:this._breakpointObserver.isMatched("(min-width: 576px)"),isMd:this._breakpointObserver.isMatched("(min-width: 768px)"),isLg:this._breakpointObserver.isMatched("(min-width: 992px)"),isXl:this._breakpointObserver.isMatched("(min-width: 1200px)"),isXxl:this._breakpointObserver.isMatched("(min-width: 1400px)")}}ngAfterContentInit(){this._bindDropdownToggleClick(),this._listenToMenuPositionClassChange()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.detach(),this._overlayRef.dispose()),this._destroy$.next(),this._destroy$.complete()}_bindDropdownToggleClick(){hc(this._dropdownToggle.nativeElement,"click").pipe(di(this._destroy$)).subscribe(()=>this.toggle())}_listenToMenuPositionClassChange(){this._dropdownMenu.menuPositionClassChanged.pipe(di(this._destroy$)).subscribe(()=>this._updateOverlay())}_updateOverlay(){this._overlayRef?.updatePositionStrategy(this._createPositionStrategy())}_createOverlayConfig(){return new Yz({hasBackdrop:!1,scrollStrategy:this._overlay.scrollStrategies.reposition(),positionStrategy:this._createPositionStrategy()})}_createOverlay(){this._overlayRef=this._overlay.create(this._createOverlayConfig())}_createPositionStrategy(){return this._overlayPositionBuilder.flexibleConnectedTo(this._dropdownToggle).withPositions(this._getPosition()).withFlexibleDimensions(!1).withPush(this.withPush)}_getPosition(){this._isDropUp=this.host.classList.contains("dropup"),this._isDropStart=this.host.classList.contains("dropstart"),this._isDropEnd=this.host.classList.contains("dropend"),this._isDropdownMenuEnd=this._dropdownMenu.elementRef.nativeElement.classList.contains("dropdown-menu-end"),this._xPosition=this._isDropdownMenuEnd?"end":"start";const e=new RegExp(/dropdown-menu-(sm|md|lg|xl|xxl)-(start|end)/,"g"),r=this._dropdownMenu.elementRef.nativeElement.className.match(e);if(r){this._subscribeBrakpoints();const R=new RegExp(/start|end/,"g"),oe=new RegExp(/(sm|md|lg|xl|xxl)/,"g"),Ce=R.exec(r)[0],We=oe.exec(r)[0];switch(!0){case"xxl"===We&&this._breakpoints.isXxl:case"xl"===We&&this._breakpoints.isXl:case"lg"===We&&this._breakpoints.isLg:case"md"===We&&this._breakpoints.isMd:case"sm"===We&&this._breakpoints.isSm:this._xPosition=Ce}}let i;const a={originX:this._xPosition,originY:"top",overlayX:this._xPosition,overlayY:"bottom",offsetY:-this.offset},s={originX:this._xPosition,originY:"bottom",overlayX:this._xPosition,overlayY:"top",offsetY:this.offset},l={originX:"start",originY:"top",overlayX:"end",overlayY:"top",offsetX:this.offset},M={originX:"end",originY:"top",overlayX:"start",overlayY:"top",offsetX:-this.offset};switch(!0){case this._isDropEnd:i=[M,l];break;case this._isDropStart:i=[l,M];break;case this._isDropUp:i=[a,s];break;default:i=[s,a]}return i}_listenToEscKeyup(e){return hc(document,"keyup").pipe(l1(r=>"Escape"===r.key),di(e.detachments()))}_listenToClick(e,r){return hc(document,"click").pipe(l1(i=>{const a=i.target,s=this._dropdownMenu.elementRef.nativeElement.contains(a),l=!this._dropdownToggle.nativeElement.contains(a),M=!s||a.classList&&a.classList.contains("dropdown-item");return a!==r&&l&&M}),di(e.detachments()))}onAnimationEnd(e){"visible"===e.fromState&&"hidden"===e.toState&&(this._overlayRef.detach(),this._open=!1,this.dropdownHidden.emit(this)),"hidden"===e.fromState&&"visible"===e.toState&&this.dropdownShown.emit(this)}_subscribeBrakpoints(){const e=["(min-width: 576px)","(min-width: 768px)","(min-width: 992px)","(min-width: 1200px)","(min-width: 1400px)"];this._breakpointSubscription=this._breakpointObserver.observe(e).pipe(di(this._destroy$)).subscribe(r=>{Object.keys(this._breakpoints).forEach((i,a)=>{const l=r.breakpoints[e[a]];l!==this._breakpoints[i]&&(this._breakpoints[i]=l,this._open&&this._updateOverlay())})})}show(){this._cdRef.markForCheck(),!this._open&&(this._overlayRef||this._createOverlay(),this._portal=new Up(this._template,this._vcr),this.dropdownShow.emit(this),this._open=!0,this._overlayRef.attach(this._portal),this._listenToEscKeyup(this._overlayRef).subscribe(e=>{e&&this.closeOnEsc&&this.hide()}),this._overlayRef.keydownEvents().pipe(di(this._overlayRef.detachments())).subscribe(e=>{this._handleKeyboardNavigation(e)}),this._listenToClick(this._overlayRef,this._dropdownToggle.nativeElement).subscribe(e=>{const r=e.target,i=r.classList&&r.classList.contains("dropdown-item");this.closeOnItemClick&&i?this.hide():!this.closeOnOutsideClick||i||this.hide()}),this._animationState="visible")}_handleKeyboardNavigation(e){const r=Array.from(this._dropdownMenu.elementRef.nativeElement.querySelectorAll(".dropdown-item")),i=e.key;if(0===r.length)return;let s=r.indexOf(this._dropdownMenu.elementRef.nativeElement.ownerDocument.activeElement);switch(i){case"ArrowDown":e.preventDefault(),s=Math.min(s+1,r.length-1);break;case"ArrowUp":if(e.preventDefault(),-1===s){s=r.length-1;break}s=Math.max(s-1,0)}const l=r[s];l&&l.focus()}hide(){this._cdRef.markForCheck(),this._open&&(this.dropdownHide.emit(this),this._animationState="hidden")}toggle(){this._cdRef.markForCheck(),this._open?this.hide():this.show()}static \u0275fac=function(r){return new(r||t)(Dt(Gp),Dt(ek),Dt(aa),Dt(Q1),Dt(mse),Dt(Gc),Dt(K2))};static \u0275cmp=ur({type:t,selectors:[["","mdbDropdown",""]],contentQueries:function(r,i,a){if(1&r&&(Zc(a,qc,5,aa),Zc(a,el,5)),2&r){let s;e2(s=t2())&&(i._dropdownToggle=s.first),e2(s=t2())&&(i._dropdownMenu=s.first)}},viewQuery:function(r,i){if(1&r&&q6(gse,5),2&r){let a;e2(a=t2())&&(i._template=a.first)}},inputs:{animation:[Er.HasDecoratorInputTransform,"animation","animation",uc],closeOnEsc:[Er.HasDecoratorInputTransform,"closeOnEsc","closeOnEsc",uc],closeOnItemClick:[Er.HasDecoratorInputTransform,"closeOnItemClick","closeOnItemClick",uc],closeOnOutsideClick:[Er.HasDecoratorInputTransform,"closeOnOutsideClick","closeOnOutsideClick",uc],offset:[Er.HasDecoratorInputTransform,"offset","offset",XK],positionClass:"positionClass",withPush:[Er.HasDecoratorInputTransform,"withPush","withPush",uc]},outputs:{dropdownShow:"dropdownShow",dropdownShown:"dropdownShown",dropdownHide:"dropdownHide",dropdownHidden:"dropdownHidden"},features:[ng],attrs:yse,ngContentSelectors:Mse,decls:4,vars:0,consts:[["dropdownTemplate",""]],template:function(r,i){1&r&&(_8(Cse),q4(0),q4(1,1),Cn(2,bse,2,2,"ng-template",null,0,g7))},encapsulation:2,data:{animation:[zte("fade",[JH("visible",td({opacity:1})),JH("hidden",td({opacity:0})),qH("visible => hidden",QH("150ms linear")),qH("hidden => visible",[td({opacity:0}),QH("150ms linear")])])]},changeDetection:0})}return t})(),ik=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Yr({type:t});static \u0275inj=Fi({imports:[iu,lse]})}return t})(),A1=(()=>{class t{constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275dir=nr({type:t,selectors:[["","mdbLabel",""]],exportAs:["mdbLabel"]})}return t})(),ak=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Yr({type:t});static \u0275inj=Fi({imports:[iu,ote]})}return t})();function xse(t,n){1&t&&q4(0)}const wse=["*"];function _se(t,n){}function Sse(t,n){1&t&&Cn(0,_se,0,0,"ng-template",6),2&t&&Qe("cdkPortalOutlet",zt().$implicit.titleContent)}function Tse(t,n){1&t&&qe(0),2&t&&Ir(zt().$implicit.title)}function Dse(t,n){if(1&t){const e=fi();xe(0,"li",3),mn("click",function(){const a=or(e).index;return sr(zt().setActiveTab(a))}),xe(1,"a",4),Cn(2,Sse,1,1,"ng-template",5)(3,Tse,1,1,"ng-template",5),Se()()}if(2&t){const e=n.$implicit;_e(),pr("active",e.active)("disabled",e.disabled),_e(),Qe("ngIf",e.titleContent),_e(),Qe("ngIf",!e.titleContent)}}function Ase(t,n){}const Hse=(t,n,e)=>({fade:t,active:n,show:e});function Lse(t,n){if(1&t&&(ua(0),xe(1,"div",7),Cn(2,Ase,0,0,"ng-template",8),Se(),fa()),2&t){const e=n.$implicit;_e(),Qe("ngClass",vT(2,Hse,e.fade,e.active,e.show)),_e(),Qe("tab",e)}}const zse=(t,n,e,r,i,a)=>({"nav-pills":t,"nav-tabs":n,"nav-fill":e,"nav-justified":r,"flex-column":i,"text-center":a}),kse=new hr("MdbTabContentDirective"),sk=new hr("MdbTabTitleDirective");let ok=(()=>{class t{template;constructor(e){this.template=e}static \u0275fac=function(r){return new(r||t)(Dt(S1))};static \u0275dir=nr({type:t,selectors:[["","mdbTabTitle",""]],features:[Ma([{provide:sk,useExisting:t}])]})}return t})(),Wp=(()=>{class t{_vcr;_lazyContent;_titleContent;_content;activeStateChange$=new dt;get disabled(){return this._disabled}set disabled(e){this._disabled=Eo(e)}_disabled=!1;get fade(){return this._fade}set fade(e){this._fade=Eo(e)}_fade=!0;title;get content(){return this._contentPortal}get titleContent(){return this._titlePortal}get shouldAttach(){return void 0===this._lazyContent}_contentPortal=null;_titlePortal=null;get active(){return this._active}set active(e){this._active=Eo(e),this.activeStateChange$.next(e)}_active=!1;get show(){return this._show}set show(e){setTimeout(()=>{this._show=Eo(e)},155)}_show=!0;constructor(e){this._vcr=e}ngOnInit(){this._createContentPortal(),this._titleContent&&this._createTitlePortal()}_createContentPortal(){this._contentPortal=new Up(this._lazyContent||this._content,this._vcr)}_createTitlePortal(){this._titlePortal=new Up(this._titleContent,this._vcr)}static ngAcceptInputType_disabled;static \u0275fac=function(r){return new(r||t)(Dt(Q1))};static \u0275cmp=ur({type:t,selectors:[["mdb-tab"]],contentQueries:function(r,i,a){if(1&r&&(Zc(a,kse,7,S1),Zc(a,sk,7,S1)),2&r){let s;e2(s=t2())&&(i._lazyContent=s.first),e2(s=t2())&&(i._titleContent=s.first)}},viewQuery:function(r,i){if(1&r&&q6(S1,7),2&r){let a;e2(a=t2())&&(i._content=a.first)}},inputs:{disabled:"disabled",fade:"fade",title:"title"},ngContentSelectors:wse,decls:1,vars:0,template:function(r,i){1&r&&(_8(),Cn(0,xse,1,0,"ng-template"))},encapsulation:2})}return t})(),Nse=(()=>{class t extends Uz{_destroy$=new dt;tab;constructor(e,r,i){super(e,r,i)}ngOnInit(){super.ngOnInit(),!this.tab.shouldAttach&&!this.tab.active||this.hasAttached()?this.tab.activeStateChange$.pipe(di(this._destroy$)).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this.tab.content)}):this.attach(this.tab.content)}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),super.ngOnDestroy()}static \u0275fac=function(r){return new(r||t)(Dt(W4),Dt(Q1),Dt(xa))};static \u0275dir=nr({type:t,selectors:[["","mdbTabPortalOutlet",""]],inputs:{tab:"tab"},features:[yi]})}return t})();class Ise{index;tab}let oC=(()=>{class t{tabs;_destroy$=new dt;get fill(){return this._fill}set fill(e){this._fill=Eo(e)}_fill=!1;get justified(){return this._justified}set justified(e){this._justified=Eo(e)}_justified=!1;get pills(){return this._pills}set pills(e){this._pills=Eo(e)}_pills=!1;get vertical(){return this._vertical}set vertical(e){this._vertical=Eo(e)}_vertical=!1;navColumnClass="col-3";contentColumnClass="col-9";get navColClass(){return this.vertical?this.navColumnClass:""}get contentColClass(){return this.vertical?this.contentColumnClass:""}_selectedIndex;activeTabChange=new Kt;constructor(){}ngAfterContentInit(){const e=this.tabs.toArray().findIndex(r=>!r.disabled);this.setActiveTab(e),this.tabs.changes.pipe(di(this._destroy$)).subscribe(()=>{if(!this.tabs.find(i=>i.active)){const i=this._getClosestTabIndex(this._selectedIndex);-1!==i&&this.setActiveTab(i)}})}setActiveTab(e){const r=this.tabs.toArray()[e];if(!r||r&&r.disabled)return;this.tabs.forEach(a=>a.active=a===r),this.tabs.forEach(a=>a.show=a===r),this._selectedIndex=e;const i=this._getTabChangeEvent(e,r);this.activeTabChange.emit(i)}_getTabChangeEvent(e,r){const i=new Ise;return i.index=e,i.tab=r,i}_getClosestTabIndex(e){const r=this.tabs.toArray(),i=r.length;if(!i)return-1;for(let a=1;a<=i;a+=1){const s=e-a,l=e+a;if(r[s]&&!r[s].disabled)return s;if(r[l]&&!r[l].disabled)return l}return-1}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}static ngAcceptInputType_fill;static ngAcceptInputType_justified;static ngAcceptInputType_pills;static ngAcceptInputType_vertical;static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ur({type:t,selectors:[["mdb-tabs"]],contentQueries:function(r,i,a){if(1&r&&Zc(a,Wp,4),2&r){let s;e2(s=t2())&&(i.tabs=s)}},hostVars:2,hostBindings:function(r,i){2&r&&pr("row",i.vertical)},inputs:{fill:"fill",justified:"justified",pills:"pills",vertical:"vertical",navColumnClass:"navColumnClass",contentColumnClass:"contentColumnClass"},outputs:{activeTabChange:"activeTabChange"},decls:4,vars:16,consts:[["role","tablist",3,"ngClass"],["class","nav-item","role","presentation",3,"click",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["role","presentation",1,"nav-item",3,"click"],["href","javascript:void(0)","role","tab",1,"nav-link"],[3,"ngIf"],[3,"cdkPortalOutlet"],[1,"tab-pane",3,"ngClass"],["mdbTabPortalOutlet","",3,"tab"]],template:function(r,i){1&r&&(xe(0,"ul",0),Cn(1,Dse,4,6,"li",1),Se(),xe(2,"div"),Cn(3,Lse,3,6,"ng-container",2),Se()),2&r&&(Cg("nav mb-3 flex-column ",i.navColClass,""),Qe("ngClass",function mT(t,n,e,r,i,a,s,l,M){const R=Na()+t,oe=Ln(),Ce=Ao(oe,R,e,r,i,a);return X4(oe,R+4,s,l)||Ce?$c(oe,R+6,M?n.call(M,e,r,i,a,s,l):n(e,r,i,a,s,l)):function p8(t,n){return t[n]}(oe,R+6)}(9,zse,i.pills,!i.pills,i.fill,i.justified,i.vertical,i.vertical)),_e(),Qe("ngForOf",i.tabs),_e(),Cg("tab-content ",i.contentColClass,""),_e(),Qe("ngForOf",i.tabs))},dependencies:[k3,ko,Ji,Uz,Nse],encapsulation:2})}return t})(),Pse=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Yr({type:t});static \u0275inj=Fi({imports:[iu,Gz]})}return t})();function Rse(t,n){}function Fse(t,n){1&t&&Cn(0,Rse,0,0,"ng-template",5),2&t&&Qe("ngTemplateOutlet",zt()._headerTemplate)}function Ose(t,n){}function Bse(t,n){1&t&&Cn(0,Ose,0,0,"ng-template",5),2&t&&Qe("ngTemplateOutlet",zt()._bodyTemplate)}const Use=["*"],ck=new hr("MdbAccordionItemBodyDirective");let lk=(()=>{class t{template;constructor(e){this.template=e}static \u0275fac=function(r){return new(r||t)(Dt(S1))};static \u0275dir=nr({type:t,selectors:[["","mdbAccordionItemBody",""]],features:[Ma([{provide:ck,useExisting:t}])]})}return t})();const uk=new hr("MdbAccordionItemHeaderDirective");let fk=(()=>{class t{template;constructor(e){this.template=e}static \u0275fac=function(r){return new(r||t)(Dt(S1))};static \u0275dir=nr({type:t,selectors:[["","mdbAccordionItemHeader",""]],features:[Ma([{provide:uk,useExisting:t}])]})}return t})(),Gse=0,$se=0,cC=(()=>{class t{_cdRef;_headerTemplate;_bodyTemplate;collapse;get disabled(){return this._disabled}set disabled(e){this._disabled=Eo(e)}_disabled=!1;header;set collapsed(e){this._isInitialized?e?this.hide():this.show():e||(this._shouldOpenOnInit=!0)}id="mdb-accordion-item-"+$se++;_headerId="mdb-accordion-item-header-"+Gse++;_isInitialized=!1;_shouldOpenOnInit=!1;itemShow=new Kt;itemShown=new Kt;itemHide=new Kt;itemHidden=new Kt;accordionItem=!0;accordionItemDisplayBlock=!0;ngOnInit(){this._isInitialized=!0,this._shouldOpenOnInit&&this.show()}show$=new dt;_collapsed=!0;_addCollapsedClass=!0;constructor(e){this._cdRef=e}toggle(){this.disabled||this.collapse.toggle()}show(){this.collapse.show(),this._cdRef.markForCheck()}hide(){this.collapse.hide(),this._cdRef.markForCheck()}onShow(){this._addCollapsedClass=!1,this.itemShow.emit(this),this.show$.next(this)}onHide(){this._addCollapsedClass=!0,this.itemHide.emit(this)}onShown(){this._collapsed=!1,this.itemShown.emit(this)}onHidden(){this._collapsed=!0,this.itemHidden.emit(this)}static ngAcceptInputType_disabled;static \u0275fac=function(r){return new(r||t)(Dt(Gc))};static \u0275cmp=ur({type:t,selectors:[["mdb-accordion-item"]],contentQueries:function(r,i,a){if(1&r&&(Zc(a,uk,7,S1),Zc(a,ck,7,S1)),2&r){let s;e2(s=t2())&&(i._headerTemplate=s.first),e2(s=t2())&&(i._bodyTemplate=s.first)}},viewQuery:function(r,i){if(1&r&&q6(qb,7),2&r){let a;e2(a=t2())&&(i.collapse=a.first)}},hostVars:4,hostBindings:function(r,i){2&r&&pr("accordion-item",i.accordionItem)("d-block",i.accordionItemDisplayBlock)},inputs:{disabled:"disabled",header:"header",collapsed:"collapsed",id:"id"},outputs:{itemShow:"itemShow",itemShown:"itemShown",itemHide:"itemHide",itemHidden:"itemHidden"},decls:7,vars:11,consts:[[1,"accordion-header",3,"id"],["type","button",1,"accordion-button",3,"click"],[4,"ngIf"],["mdbCollapse","",3,"collapseShow","collapseHide","collapseShown","collapseHidden"],[1,"accordion-body"],[3,"ngTemplateOutlet"]],template:function(r,i){1&r&&(xe(0,"h2",0)(1,"button",1),mn("click",function(){return i.toggle()}),qe(2),Cn(3,Fse,1,1,null,2),Se()(),xe(4,"div",3),mn("collapseShow",function(){return i.onShow()})("collapseHide",function(){return i.onHide()})("collapseShown",function(){return i.onShown()})("collapseHidden",function(){return i.onHidden()}),xe(5,"div",4),Cn(6,Bse,1,1,null,2),Se()()),2&r&&(Qe("id",i._headerId),_e(),pr("collapsed",i._addCollapsedClass),J1("aria-expanded",!i._collapsed)("aria-controls",i.id)("disabled",i.disabled?"":null),_e(),gn(" ",i.header," "),_e(),Qe("ngIf",i._headerTemplate),_e(),J1("id",i.id)("aria-labelledby",i._headerId),_e(2),Qe("ngIf",i._bodyTemplate))},dependencies:[Ji,WD,qb],encapsulation:2,changeDetection:0})}return t})(),dk=(()=>{class t{items;get borderless(){return this._borderless}set borderless(e){this._borderless=Eo(e)}_borderless=!1;get flush(){return this._flush}set flush(e){this._flush=Eo(e)}_flush=!1;get multiple(){return this._multiple}set multiple(e){this._multiple=Eo(e)}_multiple=!1;accordion=!0;get addBorderlessClass(){return this.borderless}get addFlushClass(){return this.flush}constructor(){}ngAfterContentInit(){this.items.changes.pipe(sC(this.items),o2(e=>rp(...e.map(r=>r.show$)))).subscribe(e=>this._handleMultipleItems(e))}_handleMultipleItems(e){this.multiple||this.items.filter(i=>i!==e&&!i._collapsed).forEach(i=>i.hide())}static ngAcceptInputType_borderless;static ngAcceptInputType_flush;static ngAcceptInputType_multiple;static \u0275fac=function(r){return new(r||t)};static \u0275cmp=ur({type:t,selectors:[["mdb-accordion"]],contentQueries:function(r,i,a){if(1&r&&Zc(a,cC,4),2&r){let s;e2(s=t2())&&(i.items=s)}},hostVars:6,hostBindings:function(r,i){2&r&&pr("accordion",i.accordion)("accordion-borderless",i.addBorderlessClass)("accordion-flush",i.addFlushClass)},inputs:{borderless:"borderless",flush:"flush",multiple:"multiple"},ngContentSelectors:Use,decls:1,vars:0,template:function(r,i){1&r&&(_8(),q4(0))},encapsulation:2,changeDetection:0})}return t})(),Wse=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Yr({type:t});static \u0275inj=Fi({imports:[iu,kz]})}return t})();const Yp=Le(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Zp(t){return De((n,e)=>{let r=!1;n.subscribe($e(e,i=>{r=!0,e.next(i)},()=>{r||e.next(t),e.complete()}))})}function hk(t=Yse){return De((n,e)=>{let r=!1;n.subscribe($e(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(t())))})}function Yse(){return new Yp}function g0(t,n){const e=arguments.length>=2;return r=>r.pipe(t?l1((i,a)=>t(i,a,r)):Xt,Js(1),e?Zp(n):hk(()=>new Yp))}function wd(t,n){return we(n)?c1(t,n,1):c1(t,1)}function gu(t){return De((n,e)=>{let a,r=null,i=!1;r=n.subscribe($e(e,void 0,void 0,s=>{a=a2(t(s,gu(t)(n))),r?(r.unsubscribe(),r=null,a.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(e))})}function lC(t){return t<=0?()=>Kc:De((n,e)=>{let r=[];n.subscribe($e(e,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function uC(t){return De((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}const Mi="primary",_d=Symbol("RouteTitle");class Qse{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function yu(t){return new Qse(t)}function Jse(t,n,e){const r=e.path.split("/");if(r.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||r.length<t.length))return null;const i={};for(let a=0;a<r.length;a++){const s=r[a],l=t[a];if(s.startsWith(":"))i[s.substring(1)]=l;else if(s!==l.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function tl(t,n){const e=t?fC(t):void 0,r=n?fC(n):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let a=0;a<e.length;a++)if(i=e[a],!pk(t[i],n[i]))return!1;return!0}function fC(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function pk(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),r=[...n].sort();return e.every((i,a)=>r[a]===i)}return t===n}function vk(t){return t.length>0?t[t.length-1]:null}function U3(t){return function jse(t){return!!t&&(t instanceof tn||we(t.lift)&&we(t.subscribe))}(t)?t:E8(t)?Qs(Promise.resolve(t)):jr(t)}const e1e={exact:function yk(t,n,e){if(!y0(t.segments,n.segments)||!Xp(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!t.children[r]||!yk(t.children[r],n.children[r],e))return!1;return!0},subset:bk},mk={exact:function t1e(t,n){return tl(t,n)},subset:function n1e(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>pk(t[e],n[e]))},ignored:()=>!0};function gk(t,n,e){return e1e[e.paths](t.root,n.root,e.matrixParams)&&mk[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function bk(t,n,e){return Ck(t,n,n.segments,e)}function Ck(t,n,e,r){if(t.segments.length>e.length){const i=t.segments.slice(0,e.length);return!(!y0(i,e)||n.hasChildren()||!Xp(i,e,r))}if(t.segments.length===e.length){if(!y0(t.segments,e)||!Xp(t.segments,e,r))return!1;for(const i in n.children)if(!t.children[i]||!bk(t.children[i],n.children[i],r))return!1;return!0}{const i=e.slice(0,t.segments.length),a=e.slice(t.segments.length);return!!(y0(t.segments,i)&&Xp(t.segments,i,r)&&t.children[Mi])&&Ck(t.children[Mi],n,a,r)}}function Xp(t,n,e){return n.every((r,i)=>mk[e](t[i].parameters,r.parameters))}class bu{constructor(n=new ha([],{}),e={},r=null){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=yu(this.queryParams),this._queryParamMap}toString(){return a1e.serialize(this)}}class ha{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kp(this)}}class Sd{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=yu(this.parameters),this._parameterMap}toString(){return wk(this)}}function y0(t,n){return t.length===n.length&&t.every((e,r)=>e.path===n[r].path)}let Cu=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:()=>new dC,providedIn:"root"})}return t})();class dC{parse(n){const e=new m1e(n);return new bu(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${Td(n.root,!0)}`,r=function c1e(t){const n=Object.entries(t).map(([e,r])=>Array.isArray(r)?r.map(i=>`${Qp(e)}=${Qp(i)}`).join("&"):`${Qp(e)}=${Qp(r)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${r}${"string"==typeof n.fragment?`#${function s1e(t){return encodeURI(t)}(n.fragment)}`:""}`}}const a1e=new dC;function Kp(t){return t.segments.map(n=>wk(n)).join("/")}function Td(t,n){if(!t.hasChildren())return Kp(t);if(n){const e=t.children[Mi]?Td(t.children[Mi],!1):"",r=[];return Object.entries(t.children).forEach(([i,a])=>{i!==Mi&&r.push(`${i}:${Td(a,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function i1e(t,n){let e=[];return Object.entries(t.children).forEach(([r,i])=>{r===Mi&&(e=e.concat(n(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Mi&&(e=e.concat(n(i,r)))}),e}(t,(r,i)=>i===Mi?[Td(t.children[Mi],!1)]:[`${i}:${Td(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Mi]?`${Kp(t)}/${e[0]}`:`${Kp(t)}/(${e.join("//")})`}}function Mk(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qp(t){return Mk(t).replace(/%3B/gi,";")}function hC(t){return Mk(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jp(t){return decodeURIComponent(t)}function xk(t){return Jp(t.replace(/\+/g,"%20"))}function wk(t){return`${hC(t.path)}${function o1e(t){return Object.entries(t).map(([n,e])=>`;${hC(n)}=${hC(e)}`).join("")}(t.parameters)}`}const l1e=/^[^\/()?;#]+/;function pC(t){const n=t.match(l1e);return n?n[0]:""}const u1e=/^[^\/()?;=#]+/,d1e=/^[^=?&#]+/,p1e=/^[^&#]+/;class m1e{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ha([],{}):new ha([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[Mi]=new ha(n,e)),r}parseSegment(){const n=pC(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new tt(4009,!1);return this.capture(n),new Sd(Jp(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=function f1e(t){const n=t.match(u1e);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=pC(this.remaining);i&&(r=i,this.capture(r))}n[Jp(e)]=Jp(r)}parseQueryParam(n){const e=function h1e(t){const n=t.match(d1e);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const s=function v1e(t){const n=t.match(p1e);return n?n[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=xk(e),a=xk(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(a)}else n[i]=a}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=pC(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new tt(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):n&&(a=Mi);const s=this.parseChildren();e[a]=1===Object.keys(s).length?s[Mi]:new ha([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new tt(4011,!1)}}function _k(t){return t.segments.length>0?new ha([],{[Mi]:t}):t}function Sk(t){const n={};for(const[r,i]of Object.entries(t.children)){const a=Sk(i);if(r===Mi&&0===a.segments.length&&a.hasChildren())for(const[s,l]of Object.entries(a.children))n[s]=l;else(a.segments.length>0||a.hasChildren())&&(n[r]=a)}return function g1e(t){if(1===t.numberOfChildren&&t.children[Mi]){const n=t.children[Mi];return new ha(t.segments.concat(n.segments),n.children)}return t}(new ha(t.segments,n))}function Mu(t){return t instanceof bu}function Tk(t){let n;const i=_k(function e(a){const s={};for(const M of a.children){const R=e(M);s[M.outlet]=R}const l=new ha(a.url,s);return a===t&&(n=l),l}(t.root));return n??i}function Dk(t,n,e,r){let i=t;for(;i.parent;)i=i.parent;if(0===n.length)return vC(i,i,i,e,r);const a=function b1e(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Hk(!0,0,t);let n=0,e=!1;const r=t.reduce((i,a,s)=>{if("object"==typeof a&&null!=a){if(a.outlets){const l={};return Object.entries(a.outlets).forEach(([M,R])=>{l[M]="string"==typeof R?R.split("/"):R}),[...i,{outlets:l}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===s?(a.split("/").forEach((l,M)=>{0==M&&"."===l||(0==M&&""===l?e=!0:".."===l?n++:""!=l&&i.push(l))}),i):[...i,a]},[]);return new Hk(e,n,r)}(n);if(a.toRoot())return vC(i,i,new ha([],{}),e,r);const s=function C1e(t,n,e){if(t.isAbsolute)return new ev(n,!0,0);if(!e)return new ev(n,!1,NaN);if(null===e.parent)return new ev(e,!0,0);const r=qp(t.commands[0])?0:1;return function M1e(t,n,e){let r=t,i=n,a=e;for(;a>i;){if(a-=i,r=r.parent,!r)throw new tt(4005,!1);i=r.segments.length}return new ev(r,!1,i-a)}(e,e.segments.length-1+r,t.numberOfDoubleDots)}(a,i,t),l=s.processChildren?Ad(s.segmentGroup,s.index,a.commands):Lk(s.segmentGroup,s.index,a.commands);return vC(i,s.segmentGroup,l,e,r)}function qp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Dd(t){return"object"==typeof t&&null!=t&&t.outlets}function vC(t,n,e,r,i){let s,a={};r&&Object.entries(r).forEach(([M,R])=>{a[M]=Array.isArray(R)?R.map(oe=>`${oe}`):`${R}`}),s=t===n?e:Ak(t,n,e);const l=_k(Sk(s));return new bu(l,a,i)}function Ak(t,n,e){const r={};return Object.entries(t.children).forEach(([i,a])=>{r[i]=a===n?e:Ak(a,n,e)}),new ha(t.segments,r)}class Hk{constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&qp(r[0]))throw new tt(4003,!1);const i=r.find(Dd);if(i&&i!==vk(r))throw new tt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ev{constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}}function Lk(t,n,e){if(t??=new ha([],{}),0===t.segments.length&&t.hasChildren())return Ad(t,n,e);const r=function w1e(t,n,e){let r=0,i=n;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=e.length)return a;const s=t.segments[i],l=e[r];if(Dd(l))break;const M=`${l}`,R=r<e.length-1?e[r+1]:null;if(i>0&&void 0===M)break;if(M&&R&&"object"==typeof R&&void 0===R.outlets){if(!kk(M,R,s))return a;r+=2}else{if(!kk(M,{},s))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,n,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const a=new ha(t.segments.slice(0,r.pathIndex),{});return a.children[Mi]=new ha(t.segments.slice(r.pathIndex),t.children),Ad(a,0,i)}return r.match&&0===i.length?new ha(t.segments,{}):r.match&&!t.hasChildren()?mC(t,n,e):r.match?Ad(t,0,i):mC(t,n,e)}function Ad(t,n,e){if(0===e.length)return new ha(t.segments,{});{const r=function x1e(t){return Dd(t[0])?t[0].outlets:{[Mi]:t}}(e),i={};if(Object.keys(r).some(a=>a!==Mi)&&t.children[Mi]&&1===t.numberOfChildren&&0===t.children[Mi].segments.length){const a=Ad(t.children[Mi],n,e);return new ha(t.segments,a.children)}return Object.entries(r).forEach(([a,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[a]=Lk(t.children[a],n,s))}),Object.entries(t.children).forEach(([a,s])=>{void 0===r[a]&&(i[a]=s)}),new ha(t.segments,i)}}function mC(t,n,e){const r=t.segments.slice(0,n);let i=0;for(;i<e.length;){const a=e[i];if(Dd(a)){const M=_1e(a.outlets);return new ha(r,M)}if(0===i&&qp(e[0])){r.push(new Sd(t.segments[n].path,zk(e[0]))),i++;continue}const s=Dd(a)?a.outlets[Mi]:`${a}`,l=i<e.length-1?e[i+1]:null;s&&l&&qp(l)?(r.push(new Sd(s,zk(l))),i+=2):(r.push(new Sd(s,{})),i++)}return new ha(r,{})}function _1e(t){const n={};return Object.entries(t).forEach(([e,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[e]=mC(new ha([],{}),0,r))}),n}function zk(t){const n={};return Object.entries(t).forEach(([e,r])=>n[e]=`${r}`),n}function kk(t,n,e){return t==e.path&&tl(n,e.parameters)}const Hd="imperative";var Vi=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Vi||{});class nl{constructor(n,e){this.id=n,this.url=e}}class tv extends nl{constructor(n,e,r="imperative",i=null){super(n,e),this.type=Vi.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class jl extends nl{constructor(n,e,r){super(n,e),this.urlAfterRedirects=r,this.type=Vi.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var No=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(No||{}),nv=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(nv||{});class xu extends nl{constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i,this.type=Vi.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wu extends nl{constructor(n,e,r,i){super(n,e),this.reason=r,this.code=i,this.type=Vi.NavigationSkipped}}class rv extends nl{constructor(n,e,r,i){super(n,e),this.error=r,this.target=i,this.type=Vi.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Vk extends nl{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=Vi.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class S1e extends nl{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=Vi.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class T1e extends nl{constructor(n,e,r,i,a){super(n,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=Vi.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class D1e extends nl{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=Vi.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class A1e extends nl{constructor(n,e,r,i){super(n,e),this.urlAfterRedirects=r,this.state=i,this.type=Vi.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class H1e{constructor(n){this.route=n,this.type=Vi.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class L1e{constructor(n){this.route=n,this.type=Vi.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class z1e{constructor(n){this.snapshot=n,this.type=Vi.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class k1e{constructor(n){this.snapshot=n,this.type=Vi.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class V1e{constructor(n){this.snapshot=n,this.type=Vi.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class E1e{constructor(n){this.snapshot=n,this.type=Vi.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ek{constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r,this.type=Vi.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class gC{}class yC{constructor(n){this.url=n}}class N1e{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ld,this.attachRef=null}}let Ld=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new N1e,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Nk{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=bC(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){const e=bC(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=CC(n,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return CC(n,this._root).map(e=>e.value)}}function bC(t,n){if(t===n.value)return n;for(const e of n.children){const r=bC(t,e);if(r)return r}return null}function CC(t,n){if(t===n.value)return[n];for(const e of n.children){const r=CC(t,e);if(r.length)return r.unshift(n),r}return[]}class mc{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function _u(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class Ik extends Nk{constructor(n,e){super(n),this.snapshot=e,wC(this,n)}toString(){return this.snapshot.toString()}}function Pk(t){const n=function I1e(t){const a=new xC([],{},{},"",{},Mi,t,null,{});return new Rk("",new mc(a,[]))}(t),e=new it([new Sd("",{})]),r=new it({}),i=new it({}),a=new it({}),s=new it(""),l=new Su(e,r,a,s,i,Mi,t,n.root);return l.snapshot=n.root,new Ik(new mc(l,[]),n)}class Su{constructor(n,e,r,i,a,s,l,M){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=a,this.outlet=s,this.component=l,this._futureSnapshot=M,this.title=this.dataSubject?.pipe(Ye(R=>R[_d]))??jr(void 0),this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ye(n=>yu(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ye(n=>yu(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function MC(t,n,e="emptyOnly"){let r;const{routeConfig:i}=t;return r=null===n||"always"!==e&&""!==i?.path&&(n.component||n.routeConfig?.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}}:{params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.data,...i?.data,...t._resolvedData}},i&&Ok(i)&&(r.resolve[_d]=i.title),r}class xC{get title(){return this.data?.[_d]}constructor(n,e,r,i,a,s,l,M,R){this.url=n,this.params=e,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=s,this.component=l,this.routeConfig=M,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=yu(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=yu(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Rk extends Nk{constructor(n,e){super(e),this.url=n,wC(this,e)}toString(){return Fk(this._root)}}function wC(t,n){n.value._routerState=t,n.children.forEach(e=>wC(t,e))}function Fk(t){const n=t.children.length>0?` { ${t.children.map(Fk).join(", ")} } `:"";return`${t.value}${n}`}function _C(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,tl(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),tl(n.params,e.params)||t.paramsSubject.next(e.params),function qse(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!tl(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.urlSubject.next(e.url),tl(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function SC(t,n){const e=tl(t.params,n.params)&&function r1e(t,n){return y0(t,n)&&t.every((e,r)=>tl(e.parameters,n[r].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||SC(t.parent,n.parent))}function Ok(t){return"string"==typeof t.title||null===t.title}let TC=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Mi,this.activateEvents=new Kt,this.deactivateEvents=new Kt,this.attachEvents=new Kt,this.detachEvents=new Kt,this.parentContexts=Bn(Ld),this.location=Bn(Q1),this.changeDetector=Bn(Gc),this.environmentInjector=Bn(M2),this.inputBinder=Bn(iv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new tt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new tt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new tt(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new tt(4013,!1);this._activatedRoute=e;const i=this.location,s=e.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,M=new P1e(e,l,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:M,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=nr({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[$s]})}return t})();class P1e{constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===Su?this.route:n===Ld?this.childContexts:this.parent.get(n,e)}}const iv=new hr("");let Bk=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:r}=e,i=$p([r.queryParams,r.params,r.data]).pipe(o2(([a,s,l],M)=>(l={...a,...s,...l},0===M?jr(l):Promise.resolve(l)))).subscribe(a=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(e);const s=function QK(t){const n=Nr(t);if(!n)return null;const e=new f8(n);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(r.component);if(s)for(const{templateName:l}of s.inputs)e.activatedComponentRef.setInput(l,a[l]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})();function zd(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=n.value;const i=function F1e(t,n,e){return n.children.map(r=>{for(const i of e.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return zd(t,r,i);return zd(t,r)})}(t,n,e);return new mc(r,i)}{if(t.shouldAttach(n.value)){const a=t.retrieve(n.value);if(null!==a){const s=a.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(l=>zd(t,l)),s}}const r=function O1e(t){return new Su(new it(t.url),new it(t.params),new it(t.queryParams),new it(t.fragment),new it(t.data),t.outlet,t.component,t)}(n.value),i=n.children.map(a=>zd(t,a));return new mc(r,i)}}const Uk="ngNavigationCancelingError";function Gk(t,n){const{redirectTo:e,navigationBehaviorOptions:r}=Mu(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=$k(!1,No.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function $k(t,n){const e=new Error(`NavigationCancelingError: ${t||""}`);return e[Uk]=!0,e.cancellationCode=n,e}function Wk(t){return!!t&&t[Uk]}let jk=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ur({type:t,selectors:[["ng-component"]],standalone:!0,features:[D8],decls:1,vars:0,template:function(r,i){1&r&&_n(0,"router-outlet")},dependencies:[TC],encapsulation:2})}return t})();function DC(t){const n=t.children&&t.children.map(DC),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Mi&&(e.component=jk),e}function rl(t){return t.outlet||Mi}function kd(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Z1e{constructor(n,e,r,i,a){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=a}activate(n){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),_C(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){const i=_u(e);n.children.forEach(a=>{const s=a.value.outlet;this.deactivateRoutes(a,i[s],r),delete i[s]}),Object.values(i).forEach(a=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(n,e,r){const i=n.value,a=e?e.value:null;if(i===a)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,r);else a&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,a=_u(n);for(const s of Object.values(a))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){const s=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:l})}}deactivateRouteAndOutlet(n,e){const r=e.getContext(n.value.outlet),i=r&&n.value.component?r.children:e,a=_u(n);for(const s of Object.values(a))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,e,r){const i=_u(e);n.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new E1e(a.value.snapshot))}),n.children.length&&this.forwardEvent(new k1e(n.value.snapshot))}activateRoutes(n,e,r){const i=n.value,a=e?e.value:null;if(_C(i),i===a)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,e,s.children)}else this.activateChildRoutes(n,e,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const l=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(l.contexts),s.attachRef=l.componentRef,s.route=l.route.value,s.outlet&&s.outlet.attach(l.componentRef,l.route.value),_C(l.route.value),this.activateChildRoutes(n,null,s.children)}else{const l=kd(i.snapshot);s.attachRef=null,s.route=i,s.injector=l,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,r)}}class Yk{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class av{constructor(n,e){this.component=n,this.route=e}}function X1e(t,n,e){const r=t._root;return Vd(r,n?n._root:null,e,[r.value])}function Tu(t,n){const e=Symbol(),r=n.get(t,e);return r===e?"function"!=typeof t||function Ec(t){return null!==Ka(t)}(t)?n.get(t):t:r}function Vd(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=_u(n);return t.children.forEach(s=>{(function Q1e(t,n,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=t.value,s=n?n.value:null,l=e?e.getContext(t.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){const M=function J1e(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!y0(t.url,n.url);case"pathParamsOrQueryParamsChange":return!y0(t.url,n.url)||!tl(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!SC(t,n)||!tl(t.queryParams,n.queryParams);default:return!SC(t,n)}}(s,a,a.routeConfig.runGuardsAndResolvers);M?i.canActivateChecks.push(new Yk(r)):(a.data=s.data,a._resolvedData=s._resolvedData),Vd(t,n,a.component?l?l.children:null:e,r,i),M&&l&&l.outlet&&l.outlet.isActivated&&i.canDeactivateChecks.push(new av(l.outlet.component,s))}else s&&Ed(n,l,i),i.canActivateChecks.push(new Yk(r)),Vd(t,null,a.component?l?l.children:null:e,r,i)})(s,a[s.value.outlet],e,r.concat([s.value]),i),delete a[s.value.outlet]}),Object.entries(a).forEach(([s,l])=>Ed(l,e.getContext(s),i)),i}function Ed(t,n,e){const r=_u(t),i=t.value;Object.entries(r).forEach(([a,s])=>{Ed(s,i.component?n?n.children.getContext(a):null:n,e)}),e.canDeactivateChecks.push(new av(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function Nd(t){return"function"==typeof t}function Zk(t){return t instanceof Yp||"EmptyError"===t?.name}const sv=Symbol("INITIAL_VALUE");function Du(){return o2(t=>$p(t.map(n=>n.pipe(Js(1),sC(sv)))).pipe(Ye(n=>{for(const e of n)if(!0!==e){if(e===sv)return sv;if(!1===e||e instanceof bu)return e}return!0}),l1(n=>n!==sv),Js(1)))}function Xk(t){return function gt(...t){return Yt(t)}(D1(n=>{if(Mu(n))throw Gk(0,n)}),Ye(n=>!0===n))}class AC{constructor(n){this.segmentGroup=n||null}}class HC extends Error{constructor(n){super(),this.urlTree=n}}function Au(t){return J8(new AC(t))}class g2e{constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return jr(r);if(i.numberOfChildren>1||!i.children[Mi])return J8(new tt(4e3,!1));i=i.children[Mi]}}applyRedirectCommands(n,e,r){const i=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,r);if(e.startsWith("/"))throw new HC(i);return i}applyRedirectCreateUrlTree(n,e,r,i){const a=this.createSegmentGroup(n,e.root,r,i);return new bu(a,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const r={};return Object.entries(n).forEach(([i,a])=>{if("string"==typeof a&&a.startsWith(":")){const l=a.substring(1);r[i]=e[l]}else r[i]=a}),r}createSegmentGroup(n,e,r,i){const a=this.createSegments(n,e.segments,r,i);let s={};return Object.entries(e.children).forEach(([l,M])=>{s[l]=this.createSegmentGroup(n,M,r,i)}),new ha(a,s)}createSegments(n,e,r,i){return e.map(a=>a.path.startsWith(":")?this.findPosParam(n,a,i):this.findOrReturn(a,r))}findPosParam(n,e,r){const i=r[e.path.substring(1)];if(!i)throw new tt(4001,!1);return i}findOrReturn(n,e){let r=0;for(const i of e){if(i.path===n.path)return e.splice(r),i;r++}return n}}const LC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function y2e(t,n,e,r,i){const a=zC(t,n,e);return a.matched?(r=function U1e(t,n){return t.providers&&!t._injector&&(t._injector=ag(t.providers,n,`Route: ${t.path}`)),t._injector??n}(n,r),function p2e(t,n,e,r){const i=n.canMatch;return i&&0!==i.length?jr(i.map(s=>{const l=Tu(s,t);return U3(function i2e(t){return t&&Nd(t.canMatch)}(l)?l.canMatch(n,e):xo(t,()=>l(n,e)))})).pipe(Du(),Xk()):jr(!0)}(r,n,e).pipe(Ye(s=>!0===s?a:{...LC}))):jr(a)}function zC(t,n,e){if("**"===n.path)return function b2e(t){return{matched:!0,parameters:t.length>0?vk(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(e);if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...LC}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(n.matcher||Jse)(e,t,n);if(!i)return{...LC};const a={};Object.entries(i.posParams??{}).forEach(([l,M])=>{a[l]=M.path});const s=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Kk(t,n,e,r){return e.length>0&&function x2e(t,n,e){return e.some(r=>ov(t,n,r)&&rl(r)!==Mi)}(t,e,r)?{segmentGroup:new ha(n,M2e(r,new ha(e,t.children))),slicedSegments:[]}:0===e.length&&function w2e(t,n,e){return e.some(r=>ov(t,n,r))}(t,e,r)?{segmentGroup:new ha(t.segments,C2e(t,e,r,t.children)),slicedSegments:e}:{segmentGroup:new ha(t.segments,t.children),slicedSegments:e}}function C2e(t,n,e,r){const i={};for(const a of e)if(ov(t,n,a)&&!r[rl(a)]){const s=new ha([],{});i[rl(a)]=s}return{...r,...i}}function M2e(t,n){const e={};e[Mi]=n;for(const r of t)if(""===r.path&&rl(r)!==Mi){const i=new ha([],{});e[rl(r)]=i}return e}function ov(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}class T2e{}class H2e{constructor(n,e,r,i,a,s,l){this.injector=n,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=a,this.paramsInheritanceStrategy=s,this.urlSerializer=l,this.applyRedirects=new g2e(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new tt(4002,`'${n.segmentGroup}'`)}recognize(){const n=Kk(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(Ye(e=>{const r=new xC([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Mi,this.rootComponentType,null,{}),i=new mc(r,e),a=new Rk("",i),s=function y1e(t,n,e=null,r=null){return Dk(Tk(t),n,e,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(a._root,null),{state:a,tree:s}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n,Mi).pipe(gu(r=>{if(r instanceof HC)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof AC?this.noMatchError(r):r}))}inheritParamsAndData(n,e){const r=n.value,i=MC(r,e,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),n.children.forEach(a=>this.inheritParamsAndData(a,r))}processSegmentGroup(n,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,e,r):this.processSegment(n,e,r,r.segments,i,!0).pipe(Ye(a=>a instanceof mc?[a]:[]))}processChildren(n,e,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return Qs(i).pipe(wd(a=>{const s=r.children[a],l=function j1e(t,n){const e=t.filter(r=>rl(r)===n);return e.push(...t.filter(r=>rl(r)!==n)),e}(e,a);return this.processSegmentGroup(n,l,s,a)}),function Xse(t,n){return De(function Zse(t,n,e,r,i){return(a,s)=>{let l=e,M=n,R=0;a.subscribe($e(s,oe=>{const Ce=R++;M=l?t(M,oe,Ce):(l=!0,oe),r&&s.next(M)},i&&(()=>{l&&s.next(M),s.complete()})))}}(t,n,arguments.length>=2,!0))}((a,s)=>(a.push(...s),a)),Zp(null),function Kse(t,n){const e=arguments.length>=2;return r=>r.pipe(t?l1((i,a)=>t(i,a,r)):Xt,lC(1),e?Zp(n):hk(()=>new Yp))}(),c1(a=>{if(null===a)return Au(r);const s=Qk(a);return function L2e(t){t.sort((n,e)=>n.value.outlet===Mi?-1:e.value.outlet===Mi?1:n.value.outlet.localeCompare(e.value.outlet))}(s),jr(s)}))}processSegment(n,e,r,i,a,s){return Qs(e).pipe(wd(l=>this.processSegmentAgainstRoute(l._injector??n,e,l,r,i,a,s).pipe(gu(M=>{if(M instanceof AC)return jr(null);throw M}))),g0(l=>!!l),gu(l=>{if(Zk(l))return function S2e(t,n,e){return 0===n.length&&!t.children[e]}(r,i,a)?jr(new T2e):Au(r);throw l}))}processSegmentAgainstRoute(n,e,r,i,a,s,l){return function _2e(t,n,e,r){return!!(rl(t)===r||r!==Mi&&ov(n,e,t))&&zC(n,t,e).matched}(r,i,a,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,i,r,a,s):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(n,i,e,r,a,s):Au(i):Au(i)}expandSegmentAgainstRouteUsingRedirect(n,e,r,i,a,s){const{matched:l,consumedSegments:M,positionalParamSegments:R,remainingSegments:oe}=zC(e,i,a);if(!l)return Au(e);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Ce=this.applyRedirects.applyRedirectCommands(M,i.redirectTo,R);return this.applyRedirects.lineralizeSegments(i,Ce).pipe(c1(We=>this.processSegment(n,r,e,We.concat(oe),s,!1)))}matchSegmentAgainstRoute(n,e,r,i,a){const s=y2e(e,r,i,n);return"**"===r.path&&(e.children={}),s.pipe(o2(l=>l.matched?this.getChildConfig(n=r._injector??n,r,i).pipe(o2(({routes:M})=>{const R=r._loadedInjector??n,{consumedSegments:oe,remainingSegments:Ce,parameters:We}=l,rt=new xC(oe,We,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function k2e(t){return t.data||{}}(r),rl(r),r.component??r._loadedComponent??null,r,function V2e(t){return t.resolve||{}}(r)),{segmentGroup:bt,slicedSegments:Bt}=Kk(e,oe,Ce,M);if(0===Bt.length&&bt.hasChildren())return this.processChildren(R,M,bt).pipe(Ye(yn=>null===yn?null:new mc(rt,yn)));if(0===M.length&&0===Bt.length)return jr(new mc(rt,[]));const cn=rl(r)===a;return this.processSegment(R,M,bt,Bt,cn?Mi:a,!0).pipe(Ye(yn=>new mc(rt,yn instanceof mc?[yn]:[])))})):Au(e)))}getChildConfig(n,e,r){return e.children?jr({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?jr({routes:e._loadedRoutes,injector:e._loadedInjector}):function h2e(t,n,e,r){const i=n.canLoad;return void 0===i||0===i.length?jr(!0):jr(i.map(s=>{const l=Tu(s,t);return U3(function e2e(t){return t&&Nd(t.canLoad)}(l)?l.canLoad(n,e):xo(t,()=>l(n,e)))})).pipe(Du(),Xk())}(n,e,r).pipe(c1(i=>i?this.configLoader.loadChildren(n,e).pipe(D1(a=>{e._loadedRoutes=a.routes,e._loadedInjector=a.injector})):function m2e(t){return J8($k(!1,No.GuardRejected))}())):jr({routes:[],injector:n})}}function z2e(t){const n=t.value.routeConfig;return n&&""===n.path}function Qk(t){const n=[],e=new Set;for(const r of t){if(!z2e(r)){n.push(r);continue}const i=n.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):n.push(r)}for(const r of e){const i=Qk(r.children);n.push(new mc(r.value,i))}return n.filter(r=>!e.has(r))}function Jk(t){const n=t.children.map(e=>Jk(e)).flat();return[t,...n]}function kC(t){return o2(n=>{const e=t(n);return e?Qs(e).pipe(Ye(()=>n)):jr(n)})}let qk=(()=>{class t{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===Mi);return r}getResolvedTitleForRoute(e){return e.data[_d]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:()=>Bn(F2e),providedIn:"root"})}return t})(),F2e=(()=>{class t extends qk{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(pn(Cq))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Hu=new hr("",{providedIn:"root",factory:()=>({})}),Lu=new hr("");let VC=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Bn(ZT)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return jr(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=U3(e.loadComponent()).pipe(Ye(eV),D1(a=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=a}),uC(()=>{this.componentLoaders.delete(e)})),i=new Xy(r,()=>new dt).pipe(Zy());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return jr({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=function O2e(t,n,e,r){return U3(t.loadChildren()).pipe(Ye(eV),c1(i=>i instanceof a_||Array.isArray(i)?jr(i):Qs(n.compileModuleAsync(i))),Ye(i=>{r&&r(t);let a,s,l=!1;return Array.isArray(i)?(s=i,!0):(a=i.create(e).injector,s=a.get(Lu,[],{optional:!0,self:!0}).flat()),{routes:s.map(DC),injector:a}}))}(r,this.compiler,e,this.onLoadEndListener).pipe(uC(()=>{this.childrenLoaders.delete(r)})),s=new Xy(a,()=>new dt).pipe(Zy());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function eV(t){return function B2e(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let EC=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:()=>Bn(U2e),providedIn:"root"})}return t})(),U2e=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const tV=new hr(""),nV=new hr("");function G2e(t,n,e){const r=t.get(nV),i=t.get(xa);return t.get(Ci).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let a;const s=new Promise(R=>{a=R}),l=i.startViewTransition(()=>(a(),function $2e(t){return new Promise(n=>{Sw(n,{injector:t})})}(t))),{onViewTransitionCreated:M}=r;return M&&xo(t,()=>M({transition:l,from:n,to:e})),s})}let cv=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new dt,this.transitionAbortSubject=new dt,this.configLoader=Bn(VC),this.environmentInjector=Bn(M2),this.urlSerializer=Bn(Cu),this.rootContexts=Bn(Ld),this.location=Bn(R1),this.inputBindingEnabled=null!==Bn(iv,{optional:!0}),this.titleStrategy=Bn(qk),this.options=Bn(Hu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Bn(EC),this.createViewTransition=Bn(tV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>jr(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new L1e(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new H1e(i))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e,r,i){return this.transitions=new it({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Hd,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(l1(a=>0!==a.id),Ye(a=>({...a,extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),o2(a=>{this.currentTransition=a;let s=!1,l=!1;return jr(a).pipe(D1(M=>{this.currentNavigation={id:M.id,initialUrl:M.rawUrl,extractedUrl:M.extractedUrl,trigger:M.source,extras:M.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),o2(M=>{const R=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!R&&"reload"!==(M.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const Ce="";return this.events.next(new wu(M.id,this.urlSerializer.serialize(M.rawUrl),Ce,nv.IgnoredSameUrlNavigation)),M.resolve(null),Kc}if(this.urlHandlingStrategy.shouldProcessUrl(M.rawUrl))return jr(M).pipe(o2(Ce=>{const We=this.transitions?.getValue();return this.events.next(new tv(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),Ce.source,Ce.restoredState)),We!==this.transitions?.getValue()?Kc:Promise.resolve(Ce)}),function E2e(t,n,e,r,i,a){return c1(s=>function D2e(t,n,e,r,i,a,s="emptyOnly"){return new H2e(t,n,e,r,i,s,a).recognize()}(t,n,e,r,s.extractedUrl,i,a).pipe(Ye(({state:l,tree:M})=>({...s,targetSnapshot:l,urlAfterRedirects:M}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),D1(Ce=>{a.targetSnapshot=Ce.targetSnapshot,a.urlAfterRedirects=Ce.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Ce.urlAfterRedirects};const We=new Vk(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),this.urlSerializer.serialize(Ce.urlAfterRedirects),Ce.targetSnapshot);this.events.next(We)}));if(R&&this.urlHandlingStrategy.shouldProcessUrl(M.currentRawUrl)){const{id:Ce,extractedUrl:We,source:rt,restoredState:bt,extras:Bt}=M,cn=new tv(Ce,this.urlSerializer.serialize(We),rt,bt);this.events.next(cn);const yn=Pk(this.rootComponentType).snapshot;return this.currentTransition=a={...M,targetSnapshot:yn,urlAfterRedirects:We,extras:{...Bt,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=We,jr(a)}{const Ce="";return this.events.next(new wu(M.id,this.urlSerializer.serialize(M.extractedUrl),Ce,nv.IgnoredByUrlHandlingStrategy)),M.resolve(null),Kc}}),D1(M=>{const R=new S1e(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(R)}),Ye(M=>(this.currentTransition=a={...M,guards:X1e(M.targetSnapshot,M.currentSnapshot,this.rootContexts)},a)),function a2e(t,n){return c1(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:s}}=e;return 0===s.length&&0===a.length?jr({...e,guardsResult:!0}):function s2e(t,n,e,r){return Qs(t).pipe(c1(i=>function d2e(t,n,e,r,i){const a=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return a&&0!==a.length?jr(a.map(l=>{const M=kd(n)??i,R=Tu(l,M);return U3(function r2e(t){return t&&Nd(t.canDeactivate)}(R)?R.canDeactivate(t,n,e,r):xo(M,()=>R(t,n,e,r))).pipe(g0())})).pipe(Du()):jr(!0)}(i.component,i.route,e,n,r)),g0(i=>!0!==i,!0))}(s,r,i,t).pipe(c1(l=>l&&function q1e(t){return"boolean"==typeof t}(l)?function o2e(t,n,e,r){return Qs(n).pipe(wd(i=>ou(function l2e(t,n){return null!==t&&n&&n(new z1e(t)),jr(!0)}(i.route.parent,r),function c2e(t,n){return null!==t&&n&&n(new V1e(t)),jr(!0)}(i.route,r),function f2e(t,n,e){const r=n[n.length-1],a=n.slice(0,n.length-1).reverse().map(s=>function K1e(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(s)).filter(s=>null!==s).map(s=>np(()=>jr(s.guards.map(M=>{const R=kd(s.node)??e,oe=Tu(M,R);return U3(function n2e(t){return t&&Nd(t.canActivateChild)}(oe)?oe.canActivateChild(r,t):xo(R,()=>oe(r,t))).pipe(g0())})).pipe(Du())));return jr(a).pipe(Du())}(t,i.path,e),function u2e(t,n,e){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return jr(!0);const i=r.map(a=>np(()=>{const s=kd(n)??e,l=Tu(a,s);return U3(function t2e(t){return t&&Nd(t.canActivate)}(l)?l.canActivate(n,t):xo(s,()=>l(n,t))).pipe(g0())}));return jr(i).pipe(Du())}(t,i.route,e))),g0(i=>!0!==i,!0))}(r,a,t,n):jr(l)),Ye(l=>({...e,guardsResult:l})))})}(this.environmentInjector,M=>this.events.next(M)),D1(M=>{if(a.guardsResult=M.guardsResult,Mu(M.guardsResult))throw Gk(0,M.guardsResult);const R=new T1e(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot,!!M.guardsResult);this.events.next(R)}),l1(M=>!!M.guardsResult||(this.cancelNavigationTransition(M,"",No.GuardRejected),!1)),kC(M=>{if(M.guards.canActivateChecks.length)return jr(M).pipe(D1(R=>{const oe=new D1e(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects),R.targetSnapshot);this.events.next(oe)}),o2(R=>{let oe=!1;return jr(R).pipe(function N2e(t,n){return c1(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return jr(e);const a=new Set(i.map(M=>M.route)),s=new Set;for(const M of a)if(!s.has(M))for(const R of Jk(M))s.add(R);let l=0;return Qs(s).pipe(wd(M=>a.has(M)?function I2e(t,n,e,r){const i=t.routeConfig,a=t._resolve;return void 0!==i?.title&&!Ok(i)&&(a[_d]=i.title),function P2e(t,n,e,r){const i=fC(t);if(0===i.length)return jr({});const a={};return Qs(i).pipe(c1(s=>function R2e(t,n,e,r){const i=kd(n)??r,a=Tu(t,i);return U3(a.resolve?a.resolve(n,e):xo(i,()=>a(n,e)))}(t[s],n,e,r).pipe(g0(),D1(l=>{a[s]=l}))),lC(1),GH(a),gu(s=>Zk(s)?Kc:J8(s)))}(a,t,n,r).pipe(Ye(s=>(t._resolvedData=s,t.data=MC(t,t.parent,e).resolve,null)))}(M,r,t,n):(M.data=MC(M,M.parent,t).resolve,jr(void 0))),D1(()=>l++),lC(1),c1(M=>l===s.size?jr(e):Kc))})}(this.paramsInheritanceStrategy,this.environmentInjector),D1({next:()=>oe=!0,complete:()=>{oe||this.cancelNavigationTransition(R,"",No.NoDataFromResolver)}}))}),D1(R=>{const oe=new A1e(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects),R.targetSnapshot);this.events.next(oe)}))}),kC(M=>{const R=oe=>{const Ce=[];oe.routeConfig?.loadComponent&&!oe.routeConfig._loadedComponent&&Ce.push(this.configLoader.loadComponent(oe.routeConfig).pipe(D1(We=>{oe.component=We}),Ye(()=>{})));for(const We of oe.children)Ce.push(...R(We));return Ce};return $p(R(M.targetSnapshot.root)).pipe(Zp(null),Js(1))}),kC(()=>this.afterPreactivation()),o2(()=>{const{currentSnapshot:M,targetSnapshot:R}=a,oe=this.createViewTransition?.(this.environmentInjector,M.root,R.root);return oe?Qs(oe).pipe(Ye(()=>a)):jr(a)}),Ye(M=>{const R=function R1e(t,n,e){const r=zd(t,n._root,e?e._root:void 0);return new Ik(r,n)}(e.routeReuseStrategy,M.targetSnapshot,M.currentRouterState);return this.currentTransition=a={...M,targetRouterState:R},this.currentNavigation.targetRouterState=R,a}),D1(()=>{this.events.next(new gC)}),((t,n,e,r)=>Ye(i=>(new Z1e(n,i.targetRouterState,i.currentRouterState,e,r).activate(t),i)))(this.rootContexts,e.routeReuseStrategy,M=>this.events.next(M),this.inputBindingEnabled),Js(1),D1({next:M=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new jl(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects))),this.titleStrategy?.updateTitle(M.targetRouterState.snapshot),M.resolve(!0)},complete:()=>{s=!0}}),di(this.transitionAbortSubject.pipe(D1(M=>{throw M}))),uC(()=>{!s&&!l&&this.cancelNavigationTransition(a,"",No.SupersededByNewNavigation),this.currentNavigation?.id===a.id&&(this.currentNavigation=null)}),gu(M=>{if(l=!0,Wk(M))this.events.next(new xu(a.id,this.urlSerializer.serialize(a.extractedUrl),M.message,M.cancellationCode)),function B1e(t){return Wk(t)&&Mu(t.url)}(M)?this.events.next(new yC(M.url)):a.resolve(!1);else{this.events.next(new rv(a.id,this.urlSerializer.serialize(a.extractedUrl),M,a.targetSnapshot??void 0));try{a.resolve(e.errorHandler(M))}catch(R){this.options.resolveNavigationPromiseOnError?a.resolve(!1):a.reject(R)}}return Kc}))}))}cancelNavigationTransition(e,r,i){const a=new xu(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(a),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function W2e(t){return t!==Hd}let j2e=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:()=>Bn(Z2e),providedIn:"root"})}return t})();class Y2e{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let Z2e=(()=>{class t extends Y2e{static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=zs(t)))(i||t)}})();static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),rV=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:()=>Bn(X2e),providedIn:"root"})}return t})(),X2e=(()=>{class t extends rV{constructor(){super(...arguments),this.location=Bn(R1),this.urlSerializer=Bn(Cu),this.options=Bn(Hu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Bn(EC),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new bu,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Pk(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{"popstate"===r.type&&e(r.url,r.state)})}handleRouterEvent(e,r){if(e instanceof tv)this.stateMemento=this.createStateMemento();else if(e instanceof wu)this.rawUrlTree=r.initialUrl;else if(e instanceof Vk){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else e instanceof gC?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):e instanceof xu&&(e.code===No.GuardRejected||e.code===No.NoDataFromResolver)?this.restoreHistory(r):e instanceof rv?this.restoreHistory(r,!0):e instanceof jl&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const a={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",a)}}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-this.browserPageId;0!==a?this.location.historyGo(a):this.currentUrlTree===e.finalUrl&&0===a&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=zs(t)))(i||t)}})();static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Id=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Id||{});function iV(t,n){t.events.pipe(l1(e=>e instanceof jl||e instanceof xu||e instanceof rv||e instanceof wu),Ye(e=>e instanceof jl||e instanceof wu?Id.COMPLETE:e instanceof xu&&(e.code===No.Redirect||e.code===No.SupersededByNewNavigation)?Id.REDIRECTING:Id.FAILED),l1(e=>e!==Id.REDIRECTING),Js(1)).subscribe(()=>{n()})}function K2e(t){throw t}const Q2e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},J2e={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Io=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Bn(PT),this.stateManager=Bn(rV),this.options=Bn(Hu,{optional:!0})||{},this.pendingTasks=Bn(h8),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Bn(cv),this.urlSerializer=Bn(Cu),this.location=Bn(R1),this.urlHandlingStrategy=Bn(EC),this._events=new dt,this.errorHandler=this.options.errorHandler||K2e,this.navigated=!1,this.routeReuseStrategy=Bn(j2e),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Bn(Lu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Bn(iv,{optional:!0}),this.eventsSubscription=new X,this.isNgZoneEnabled=Bn(Ci)instanceof Ci&&Ci.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(null!==i&&null!==a)if(this.stateManager.handleRouterEvent(r,a),r instanceof xu&&r.code!==No.Redirect&&r.code!==No.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof jl)this.navigated=!0;else if(r instanceof yC){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||W2e(i.source)};this.scheduleNavigation(s,Hd,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function eoe(t){return!(t instanceof gC||t instanceof yC)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Hd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",r)},0)})}navigateToSyncWithBrowser(e,r,i){const a={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const M={...i};delete M.navigationId,delete M.\u0275routerPageId,0!==Object.keys(M).length&&(a.state=M)}const l=this.parseUrl(e);this.scheduleNavigation(l,r,s,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(DC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){const{relativeTo:i,queryParams:a,fragment:s,queryParamsHandling:l,preserveFragment:M}=r,R=M?this.currentUrlTree.fragment:s;let Ce,oe=null;switch(l){case"merge":oe={...this.currentUrlTree.queryParams,...a};break;case"preserve":oe=this.currentUrlTree.queryParams;break;default:oe=a||null}null!==oe&&(oe=this.removeEmptyProps(oe));try{Ce=Tk(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),Ce=this.currentUrlTree.root}return Dk(Ce,e,oe,R??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=Mu(e)?e:this.parseUrl(e),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,Hd,null,r)}navigate(e,r={skipLocationChange:!1}){return function q2e(t){for(let n=0;n<t.length;n++)if(null==t[n])throw new tt(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(i=!0===r?{...Q2e}:!1===r?{...J2e}:r,Mu(e))return gk(this.currentUrlTree,e,i);const a=this.parseUrl(e);return gk(this.currentUrlTree,a,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,a])=>(null!=a&&(r[i]=a),r),{})}scheduleNavigation(e,r,i,a,s){if(this.disposed)return Promise.resolve(!1);let l,M,R;s?(l=s.resolve,M=s.reject,R=s.promise):R=new Promise((Ce,We)=>{l=Ce,M=We});const oe=this.pendingTasks.add();return iV(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(oe))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:a,resolve:l,reject:M,promise:R,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),R.catch(Ce=>Promise.reject(Ce))}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),lv=(()=>{class t{constructor(e,r,i,a,s,l){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=s,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new dt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const M=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===M||"area"===M,this.isAnchorElement?this.subscription=e.events.subscribe(R=>{R instanceof jl&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,r,i,a,s){const l=this.urlTree;return!!(null===l||this.isAnchorElement&&(0!==e||r||i||a||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(l,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const e=this.urlTree;this.href=null!==e&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;const r=null===this.href?null:function Hf(t,n,e){return function $m(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?a5:R4}(n,e)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){const i=this.renderer,a=this.el.nativeElement;null!==r?i.setAttribute(a,e,r):i.removeAttribute(a,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(Io),Dt(Su),function u6(t){return function Cm(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const a=e[i];if(hi(a))break;if(0===a)i+=2;else if("number"==typeof a)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(a===n)return e[i+1];i+=2}}}return null}(Li(),t)}("tabindex"),Dt(K2),Dt(aa),Dt(t0))};static#t=this.\u0275dir=nr({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&mn("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&J1("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Er.HasDecoratorInputTransform,"preserveFragment","preserveFragment",uc],skipLocationChange:[Er.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",uc],replaceUrl:[Er.HasDecoratorInputTransform,"replaceUrl","replaceUrl",uc],routerLink:"routerLink"},standalone:!0,features:[ng,$s]})}return t})();class aV{}let roe=(()=>{class t{constructor(e,r,i,a,s){this.router=e,this.injector=i,this.preloadingStrategy=a,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(l1(e=>e instanceof jl),wd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=ag(a.providers,e,`Route: ${a.path}`));const s=a._injector??e,l=a._loadedInjector??s;(a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent)&&i.push(this.preloadConfig(s,a)),(a.children||a._loadedRoutes)&&i.push(this.processRoutes(l,a.children??a._loadedRoutes))}return Qs(i).pipe(su())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):jr(null);const a=i.pipe(c1(s=>null===s?jr(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return r.loadComponent&&!r._loadedComponent?Qs([a,this.loader.loadComponent(r)]).pipe(su()):a})}static#e=this.\u0275fac=function(r){return new(r||t)(pn(Io),pn(ZT),pn(M2),pn(aV),pn(VC))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const NC=new hr("");let sV=(()=>{class t{constructor(e,r,i,a,s={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof tv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof jl?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof wu&&e.code===nv.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Ek&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ek(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function N5(){throw new Error("invalid")}()};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})();function il(t,n){return{\u0275kind:t,\u0275providers:n}}function cV(){const t=Bn(Ws);return n=>{const e=t.get(Vl);if(n!==e.components[0])return;const r=t.get(Io),i=t.get(lV);1===t.get(IC)&&r.initialNavigation(),t.get(uV,null,bn.Optional)?.setUpPreloading(),t.get(NC,null,bn.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const lV=new hr("",{factory:()=>new dt}),IC=new hr("",{providedIn:"root",factory:()=>1}),uV=new hr("");function ooe(t){return il(0,[{provide:uV,useExisting:roe},{provide:aV,useExisting:t}])}function loe(t){return il(9,[{provide:tV,useValue:G2e},{provide:nV,useValue:{skipNextTransition:!!t?.skipInitialTransition,...t}}])}const fV=new hr("ROUTER_FORROOT_GUARD"),uoe=[R1,{provide:Cu,useClass:dC},Io,Ld,{provide:Su,useFactory:function oV(t){return t.routerState.root},deps:[Io]},VC,[]];let dV=(()=>{class t{constructor(e){}static forRoot(e,r){return{ngModule:t,providers:[uoe,[],{provide:Lu,multi:!0,useValue:e},{provide:fV,useFactory:poe,deps:[[Io,new Ml,new Mo]]},{provide:Hu,useValue:r||{}},r?.useHash?{provide:t0,useClass:nQ}:{provide:t0,useClass:LD},{provide:NC,useFactory:()=>{const t=Bn(CJ),n=Bn(Ci),e=Bn(Hu),r=Bn(cv),i=Bn(Cu);return e.scrollOffset&&t.setOffset(e.scrollOffset),new sV(i,r,t,n,e)}},r?.preloadingStrategy?ooe(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?voe(r):[],r?.bindToComponentInputs?il(8,[Bk,{provide:iv,useExisting:Bk}]).\u0275providers:[],r?.enableViewTransitions?loe().\u0275providers:[],[{provide:hV,useFactory:cV},{provide:$g,multi:!0,useExisting:hV}]]}}static forChild(e){return{ngModule:t,providers:[{provide:Lu,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(r){return new(r||t)(pn(fV,8))};static#t=this.\u0275mod=Yr({type:t});static#n=this.\u0275inj=Fi({})}return t})();function poe(t){return"guarded"}function voe(t){return["disabled"===t.initialNavigation?il(3,[{provide:M7,multi:!0,useFactory:()=>{const n=Bn(Io);return()=>{n.setUpLocationChangeListener()}}},{provide:IC,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?il(2,[{provide:IC,useValue:0},{provide:M7,multi:!0,deps:[Ws],useFactory:n=>{const e=n.get(eQ,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const i=n.get(Io),a=n.get(lV);iV(i,()=>{r(!0)}),n.get(cv).afterPreactivation=()=>(r(!0),a.closed?jr(void 0):a),i.initialNavigation()}))}}]).\u0275providers:[]]}const hV=new hr("");var DV={prefix:"far",iconName:"flag",icon:[448,512,[127988,61725],"f024","M48 24C48 10.7 37.3 0 24 0S0 10.7 0 24V64 350.5 400v88c0 13.3 10.7 24 24 24s24-10.7 24-24V388l80.3-20.1c41.1-10.3 84.6-5.5 122.5 13.4c44.2 22.1 95.5 24.8 141.7 7.4l34.7-13c12.5-4.7 20.8-16.6 20.8-30V66.1c0-23-24.2-38-44.8-27.7l-9.6 4.8c-46.3 23.2-100.8 23.2-147.1 0c-35.1-17.6-75.4-22-113.5-12.5L48 52V24zm0 77.5l96.6-24.2c27-6.7 55.5-3.6 80.4 8.8c54.9 27.4 118.7 29.7 175 6.8V334.7l-24.4 9.1c-33.7 12.6-71.2 10.7-103.4-5.4c-48.2-24.1-103.3-30.1-155.6-17.1L48 338.5v-237z"]},jC={prefix:"fas",iconName:"table",icon:[512,512,[],"f0ce","M64 256V160H224v96H64zm0 64H224v96H64V320zm224 96V320H448v96H288zM448 256H288V160H448v96zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64z"]},YC={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},PN={prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"]},KC={prefix:"fas",iconName:"chart-area",icon:[512,512,["area-chart"],"f1fe","M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64V400c0 44.2 35.8 80 80 80H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H80c-8.8 0-16-7.2-16-16V64zm96 288H448c17.7 0 32-14.3 32-32V251.8c0-7.6-2.7-15-7.7-20.8l-65.8-76.8c-12.1-14.2-33.7-15-46.9-1.8l-21 21c-10 10-26.4 9.2-35.4-1.6l-39.2-47c-12.6-15.1-35.7-15.4-48.7-.6L135.9 215c-5.1 5.8-7.9 13.3-7.9 21.1v84c0 17.7 14.3 32 32 32z"]},TI={prefix:"fas",iconName:"shuffle",icon:[512,512,[128256,"random"],"f074","M403.8 34.4c12-5 25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V160H352c-10.1 0-19.6 4.7-25.6 12.8L284 229.3 244 176l31.2-41.6C293.3 110.2 321.8 96 352 96h32V64c0-12.9 7.8-24.6 19.8-29.6zM164 282.7L204 336l-31.2 41.6C154.7 401.8 126.2 416 96 416H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96c10.1 0 19.6-4.7 25.6-12.8L164 282.7zm274.6 188c-9.2 9.2-22.9 11.9-34.9 6.9s-19.8-16.6-19.8-29.6V416H352c-30.2 0-58.7-14.2-76.8-38.4L121.6 172.8c-6-8.1-15.5-12.8-25.6-12.8H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H96c30.2 0 58.7 14.2 76.8 38.4L326.4 339.2c6 8.1 15.5 12.8 25.6 12.8h32V320c0-12.9 7.8-24.6 19.8-29.6s25.7-2.2 34.9 6.9l64 64c6 6 9.4 14.1 9.4 22.6s-3.4 16.6-9.4 22.6l-64 64z"]},sM={prefix:"fas",iconName:"layer-group",icon:[576,512,[],"f5fd","M264.5 5.2c14.9-6.9 32.1-6.9 47 0l218.6 101c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 149.8C37.4 145.8 32 137.3 32 128s5.4-17.9 13.9-21.8L264.5 5.2zM476.9 209.6l53.2 24.6c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 277.8C37.4 273.8 32 265.3 32 256s5.4-17.9 13.9-21.8l53.2-24.6 152 70.2c23.4 10.8 50.4 10.8 73.8 0l152-70.2zm-152 198.2l152-70.2 53.2 24.6c8.5 3.9 13.9 12.4 13.9 21.8s-5.4 17.9-13.9 21.8l-218.6 101c-14.9 6.9-32.1 6.9-47 0L45.9 405.8C37.4 401.8 32 393.3 32 384s5.4-17.9 13.9-21.8l53.2-24.6 152 70.2c23.4 10.8 50.4 10.8 73.8 0z"]},JP={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.9 54.9C10.5 40.9 24.5 32 40 32H472c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9V448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6V320.9L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"]},uR={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},QR={prefix:"fas",iconName:"user-gear",icon:[640,512,["user-cog"],"f4fe","M224 0a128 128 0 1 1 0 256A128 128 0 1 1 224 0zM178.3 304h91.4c11.8 0 23.4 1.2 34.5 3.3c-2.1 18.5 7.4 35.6 21.8 44.8c-16.6 10.6-26.7 31.6-20 53.3c4 12.9 9.4 25.5 16.4 37.6s15.2 23.1 24.4 33c15.7 16.9 39.6 18.4 57.2 8.7v.9c0 9.2 2.7 18.5 7.9 26.3H29.7C13.3 512 0 498.7 0 482.3C0 383.8 79.8 304 178.3 304zM436 218.2c0-7 4.5-13.3 11.3-14.8c10.5-2.4 21.5-3.7 32.7-3.7s22.2 1.3 32.7 3.7c6.8 1.5 11.3 7.8 11.3 14.8v17.7c0 7.8 4.8 14.8 11.6 18.7c6.8 3.9 15.1 4.5 21.8 .6l13.8-7.9c6.1-3.5 13.7-2.7 18.5 2.4c7.6 8.1 14.3 17.2 20.1 27.2s10.3 20.4 13.5 31c2.1 6.7-1.1 13.7-7.2 17.2l-14.4 8.3c-6.5 3.7-10 10.9-10 18.4s3.5 14.7 10 18.4l14.4 8.3c6.1 3.5 9.2 10.5 7.2 17.2c-3.3 10.6-7.8 21-13.5 31s-12.5 19.1-20.1 27.2c-4.8 5.1-12.5 5.9-18.5 2.4l-13.8-7.9c-6.7-3.9-15.1-3.3-21.8 .6c-6.8 3.9-11.6 10.9-11.6 18.7v17.7c0 7-4.5 13.3-11.3 14.8c-10.5 2.4-21.5 3.7-32.7 3.7s-22.2-1.3-32.7-3.7c-6.8-1.5-11.3-7.8-11.3-14.8V467.8c0-7.9-4.9-14.9-11.7-18.9c-6.8-3.9-15.2-4.5-22-.6l-13.5 7.8c-6.1 3.5-13.7 2.7-18.5-2.4c-7.6-8.1-14.3-17.2-20.1-27.2s-10.3-20.4-13.5-31c-2.1-6.7 1.1-13.7 7.2-17.2l14-8.1c6.5-3.8 10.1-11.1 10.1-18.6s-3.5-14.8-10.1-18.6l-14-8.1c-6.1-3.5-9.2-10.5-7.2-17.2c3.3-10.6 7.7-21 13.5-31s12.5-19.1 20.1-27.2c4.8-5.1 12.4-5.9 18.5-2.4l13.6 7.8c6.8 3.9 15.2 3.3 22-.6c6.9-3.9 11.7-11 11.7-18.9V218.2zm92.1 133.5a48.1 48.1 0 1 0 -96.1 0 48.1 48.1 0 1 0 96.1 0z"]},mF={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},Rd={prefix:"fas",iconName:"minus",icon:[448,512,[8211,8722,10134,"subtract"],"f068","M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z"]},gM={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},Mv={prefix:"fas",iconName:"battery-half",icon:[576,512,["battery-3"],"f242","M464 160c8.8 0 16 7.2 16 16V336c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16H464zM80 96C35.8 96 0 131.8 0 176V336c0 44.2 35.8 80 80 80H464c44.2 0 80-35.8 80-80V320c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32V176c0-44.2-35.8-80-80-80H80zm208 96H96V320H288V192z"]},yM={prefix:"fas",iconName:"sliders",icon:[512,512,["sliders-h"],"f1de","M0 416c0 17.7 14.3 32 32 32l54.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 448c17.7 0 32-14.3 32-32s-14.3-32-32-32l-246.7 0c-12.3-28.3-40.5-48-73.3-48s-61 19.7-73.3 48L32 384c-17.7 0-32 14.3-32 32zm128 0a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zM320 256a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm32-80c-32.8 0-61 19.7-73.3 48L32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l246.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48l54.7 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-54.7 0c-12.3-28.3-40.5-48-73.3-48zM192 128a32 32 0 1 1 0-64 32 32 0 1 1 0 64zm73.3-64C253 35.7 224.8 16 192 16s-61 19.7-73.3 48L32 64C14.3 64 0 78.3 0 96s14.3 32 32 32l86.7 0c12.3 28.3 40.5 48 73.3 48s61-19.7 73.3-48L480 128c17.7 0 32-14.3 32-32s-14.3-32-32-32L265.3 64z"]},G3={prefix:"fas",iconName:"calculator",icon:[384,512,[128425],"f1ec","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H64zM96 64H288c17.7 0 32 14.3 32 32v32c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32zm32 160a32 32 0 1 1 -64 0 32 32 0 1 1 64 0zM96 352a32 32 0 1 1 0-64 32 32 0 1 1 0 64zM64 416c0-17.7 14.3-32 32-32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H96c-17.7 0-32-14.3-32-32zM192 256a32 32 0 1 1 0-64 32 32 0 1 1 0 64zm32 64a32 32 0 1 1 -64 0 32 32 0 1 1 64 0zm64-64a32 32 0 1 1 0-64 32 32 0 1 1 0 64zm32 64a32 32 0 1 1 -64 0 32 32 0 1 1 64 0zM288 448a32 32 0 1 1 0-64 32 32 0 1 1 0 64z"]},wM={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},zM={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2V448c0 17.7 14.3 32 32 32s32-14.3 32-32V141.2L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]},VM={prefix:"fas",iconName:"list-check",icon:[512,512,["tasks"],"f0ae","M152.1 38.2c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L7 113C-2.3 103.6-2.3 88.4 7 79s24.6-9.4 33.9 0l22.1 22.1 55.1-61.2c8.9-9.9 24-10.7 33.9-1.8zm0 160c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L7 273c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l22.1 22.1 55.1-61.2c8.9-9.9 24-10.7 33.9-1.8zM224 96c0-17.7 14.3-32 32-32H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H256c-17.7 0-32-14.3-32-32zm0 160c0-17.7 14.3-32 32-32H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H256c-17.7 0-32-14.3-32-32zM160 416c0-17.7 14.3-32 32-32H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H192c-17.7 0-32-14.3-32-32zM48 368a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},NM={prefix:"fas",iconName:"share-from-square",icon:[576,512,[61509,"share-square"],"f14d","M352 224H305.5c-45 0-81.5 36.5-81.5 81.5c0 22.3 10.3 34.3 19.2 40.5c6.8 4.7 12.8 12 12.8 20.3c0 9.8-8 17.8-17.8 17.8h-2.5c-2.4 0-4.8-.4-7.1-1.4C210.8 374.8 128 333.4 128 240c0-79.5 64.5-144 144-144h80V34.7C352 15.5 367.5 0 386.7 0c8.6 0 16.8 3.2 23.2 8.9L548.1 133.3c7.6 6.8 11.9 16.5 11.9 26.7s-4.3 19.9-11.9 26.7l-139 125.1c-5.9 5.3-13.5 8.2-21.4 8.2H384c-17.7 0-32-14.3-32-32V224zM80 96c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16H400c8.8 0 16-7.2 16-16V384c0-17.7 14.3-32 32-32s32 14.3 32 32v48c0 44.2-35.8 80-80 80H80c-44.2 0-80-35.8-80-80V112C0 67.8 35.8 32 80 32h48c17.7 0 32 14.3 32 32s-14.3 32-32 32H80z"]},Od={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]},IM={prefix:"fas",iconName:"rotate",icon:[512,512,[128260,"sync-alt"],"f2f1","M142.9 142.9c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H463.5c0 0 0 0 0 0H472c13.3 0 24-10.7 24-24V72c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L413.4 96.6c-87.6-86.5-228.7-86.2-315.8 1C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5c7.7-21.8 20.2-42.3 37.8-59.8zM16 312v7.6 .7V440c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2l41.6-41.6c87.6 86.5 228.7 86.2 315.8-1c24.4-24.4 42.1-53.1 52.9-83.7c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.2 62.2-162.7 62.5-225.3 1L185 329c6.9-6.9 8.9-17.2 5.2-26.2s-12.5-14.8-22.2-14.8H48.4h-.7H40c-13.3 0-24 10.7-24 24z"]},zu={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},Av=Ya(940),no=Ya.n(Av),ro=function(t){return t[t.fresh=1]="fresh",t[t.brackish=2]="brackish",t[t.salt=3]="salt",t}(ro||{});let Hv=(()=>{class t{static#e=this.fresh=1e3;static#t=this.brackish=1020;static#n=this.salt=1030}return t})(),dU=(()=>{class t{static#e=this.standard=9.80665}return t})(),b0=(()=>{class t{static#e=this.coefficient=1e5;static pascalToBar(e){return e/t.coefficient}static barToPascal(e){return e*t.coefficient}}return t})();class ds{static#e=this.standard=1.01325;static#t=this.standardPascals=b0.barToPascal(ds.standard);static#n=this.gasConstant=8.31432;static#r=this.temperature=288.15;static#i=this.lapsRate=-.0065;static#a=this.molarMass=.0289644;static#s=this.exponent=dU.standard*ds.molarMass/(ds.gasConstant*ds.lapsRate);static#o=this.invertedExponent=1/ds.exponent;static pressure(n){return ds.standardPascals*Math.pow(ds.temperature/(ds.temperature+ds.lapsRate*n),ds.exponent)}static altitude(n){if(n>=ds.standardPascals)return 0;const r=Math.pow(n/ds.standardPascals,ds.invertedExponent);return(ds.temperature/r-ds.temperature)/ds.lapsRate}}class EHe{constructor(){this.altitudeDepth=20,this._altitude=300,this._pressure=this.toPressure(this.altitude)}get pressure(){return this._pressure}get altitude(){return this._altitude}get theoreticalDepth(){return this.altitudeDepth*(ds.standard/this.pressure)}set pressure(n){this._pressure=n,this._altitude=this.toAltitude(n)}set altitude(n){this._altitude=n,this._pressure=this.toPressure(n)}toAltitude(n){const e=b0.barToPascal(n);return ds.altitude(e)}toPressure(n){const e=ds.pressure(n);return b0.pascalToBar(e)}}class H1{constructor(n,e,r,i,a,s){this._n2HalfTime=n,this._n2A=e,this._n2B=r,this._heHalfTime=i,this._heA=a,this._heB=s}get n2HalfTime(){return this._n2HalfTime}get n2A(){return this._n2A}get n2B(){return this._n2B}get heHalfTime(){return this._heHalfTime}get heA(){return this._heA}get heB(){return this._heB}}class $d{static#e=this.buhlmannZHL16C=[new H1(5,1.1696,.5578,1.88,1.6189,.477),new H1(8,1,.6514,3.02,1.383,.5747),new H1(12.5,.8618,.7222,4.72,1.1919,.6527),new H1(18.5,.7562,.7826,6.99,1.0458,.7223),new H1(27,.62,.8125,10.21,.922,.7582),new H1(38.3,.5043,.8434,14.48,.8205,.7957),new H1(54.3,.441,.8693,20.53,.7305,.8279),new H1(77,.4,.891,29.11,.6502,.8553),new H1(109,.375,.9092,41.2,.595,.8757),new H1(146,.35,.9222,55.19,.5545,.8903),new H1(187,.3295,.9319,70.69,.5333,.8997),new H1(239,.3065,.9403,90.34,.5189,.9073),new H1(305,.2835,.9477,115.29,.5181,.9122),new H1(390,.261,.9544,147.42,.5176,.9171),new H1(498,.248,.9602,188.24,.5172,.9217),new H1(635,.2327,.9653,240.03,.5119,.9267)]}class Sn{static fix(n){return Number(n.toFixed(10))}static roundTwoDecimals(n){return Sn.round(n,2)}static round(n,e=0){return Sn.adapt(Math.round,n,e)}static floorTwoDecimals(n){return Sn.floor(n,2)}static floor(n,e=0){return Sn.adapt(Math.floor,n,e)}static ceilTwoDecimals(n){return Sn.ceil(n,2)}static ceil(n,e=0){return Sn.adapt(Math.ceil,n,e)}static ceilDistance(n,e){return Sn.adaptDistance(Math.ceil,n,e)}static roundDistance(n,e){return Sn.adaptDistance(Math.round,n,e)}static floorDistance(n,e){return Sn.adaptDistance(Math.floor,n,e)}static adapt(n,e,r){const i=Math.pow(10,r);return n(e*i)/i}static adaptDistance(n,e,r){return n(e/r)*r}}class ku{constructor(n){this.options=n}create(){switch(this.options.salinity){case ro.salt:return c2.forSaltWater(this.options.altitude);case ro.brackish:return c2.forBrackishWater(this.options.altitude);default:return c2.forFreshWater(this.options.altitude)}}}class c2{constructor(n,e){this.density=n,this._gravity=dU.standard;const r=ds.pressure(e);this._surfacePressure=b0.pascalToBar(r)}get surfacePressure(){return this._surfacePressure}static forSaltWater(n=0){return new c2(Hv.salt,n)}static forBrackishWater(n=0){return new c2(Hv.brackish,n)}static forFreshWater(n=0){return new c2(Hv.fresh,n)}static simple(){const n=new c2(Hv.fresh,0);return n._surfacePressure=1,n._gravity=10,n}toBar(n){return b0.pascalToBar(n*(this.density*this._gravity))+this._surfacePressure}fromBar(n){if(n<this._surfacePressure)throw new Error("Lower pressure than altitude isn`t convertible to depth.");const e=this.density*this._gravity;return b0.barToPascal(n-this._surfacePressure)/e}}var gc=function(t){return t[t.never=1]="never",t[t.auto=2]="auto",t[t.always=3]="always",t}(gc||{});class Kr{static#e=this.altitude=0;static#t=this.saltWater=ro.salt;static#n=this.roundStopsToMinutes=!1;static#r=this.gasSwitchDuration=2;static#i=this.problemSolvingDuration=1;static#a=this.lastStopDepth=3;static#s=this.lastStopDepthRecre=5;static#o=this.safetyStopRecre=gc.auto;static#c=this.decoStopDistance=3;static#l=this.minimumAutoStopDepth=10;static#u=this.addSafetyStop=!0;static#f=this.maxEND=30;static#d=this.oxygenNarcotic=!0;static#h=this.ascentSpeed6m=3;static#p=this.ascentSpeed50percTo6m=6;static#v=this.ascentSpeed50perc=9;static#m=this.descentSpeed=18;static#g=this.gfLow=.4;static#y=this.gfHigh=.85;static#b=this.maxPpO2=1.4;static#C=this.maxDecoPpO2=1.6;static setMediumConservatism(n){n.gfLow=Kr.gfLow,n.gfHigh=Kr.gfHigh}static useGeneralRecommended(n){n.safetyStop=Kr.safetyStopRecre,n.roundStopsToMinutes=Kr.roundStopsToMinutes,n.gasSwitchDuration=Kr.gasSwitchDuration,n.oxygenNarcotic=Kr.oxygenNarcotic}}class Vu{constructor(n=Kr.gfLow,e=Kr.gfHigh,r=Kr.maxPpO2,i=Kr.maxDecoPpO2,a=Kr.saltWater){this.gfLow=n,this.gfHigh=e,this.maxPpO2=r,this.maxDecoPpO2=i,this.salinity=a,this.altitude=Kr.altitude,this.roundStopsToMinutes=Kr.roundStopsToMinutes,this.gasSwitchDuration=Kr.gasSwitchDuration,this.safetyStop=Kr.safetyStopRecre,this.lastStopDepth=Kr.lastStopDepth,this.decoStopDistance=Kr.decoStopDistance,this.minimumAutoStopDepth=Kr.minimumAutoStopDepth,this.maxEND=Kr.maxEND,this.oxygenNarcotic=!0,this.ascentSpeed6m=Kr.ascentSpeed6m,this.ascentSpeed50percTo6m=Kr.ascentSpeed50percTo6m,this.ascentSpeed50perc=Kr.ascentSpeed50perc,this.descentSpeed=Kr.descentSpeed,this.problemSolvingDuration=Kr.problemSolvingDuration,this.gfLow=n||Kr.gfLow,this.gfHigh=e||Kr.gfHigh,this.maxPpO2=r||Kr.maxPpO2,this.maxDecoPpO2=i||Kr.maxDecoPpO2,this.salinity=a||Kr.saltWater}loadFrom(n){this.gfLow=n.gfLow||this.gfLow,this.gfHigh=n.gfHigh||this.gfHigh,this.maxPpO2=n.maxPpO2||this.maxPpO2,this.maxDecoPpO2=n.maxDecoPpO2||this.maxDecoPpO2,this.oxygenNarcotic=!!n.oxygenNarcotic,this.salinity=n.salinity||this.salinity,this.altitude=n.altitude||0===n.altitude?n.altitude:this.altitude,this.roundStopsToMinutes=!!n.roundStopsToMinutes,this.gasSwitchDuration=n.gasSwitchDuration||this.gasSwitchDuration,this.problemSolvingDuration=n.problemSolvingDuration||this.problemSolvingDuration,this.lastStopDepth=n.lastStopDepth||this.lastStopDepth,this.decoStopDistance=n.decoStopDistance||this.decoStopDistance,this.minimumAutoStopDepth=n.minimumAutoStopDepth||this.minimumAutoStopDepth,this.safetyStop=n.safetyStop||this.safetyStop,this.maxEND=n.maxEND||this.maxEND,this.ascentSpeed6m=n.ascentSpeed6m||this.ascentSpeed6m,this.ascentSpeed50percTo6m=n.ascentSpeed50percTo6m||this.ascentSpeed50percTo6m,this.ascentSpeed50perc=n.ascentSpeed50perc||this.ascentSpeed50perc,this.descentSpeed=n.descentSpeed||this.descentSpeed}}class Lv{constructor(n,e){this.depthConverter=n,this.options=e}toDecoStop(n){const e=this.depthConverter.fromBar(n);return Sn.roundDistance(e,this.options.decoStopDistance)}nextStop(n){if(n<=this.options.lastStopDepth)return 0;const e=Sn.floorDistance(n,this.options.decoStopDistance);if(e!==n)return e;const r=n-this.options.decoStopDistance;return r<=this.options.lastStopDepth?this.options.lastStopDepth:r}addSafetyStop(n,e){return(this.options.safetyStop===gc.always||this.options.safetyStop===gc.auto&&e>this.options.minimumAutoStopDepth)&&n===this.options.lastStopDepth}}var Ei=function(t){return t[t.noAction=0]="noAction",t[t.error=1]="error",t[t.gasSwitch=2]="gasSwitch",t[t.noDecoEnd=3]="noDecoEnd",t[t.lowPpO2=4]="lowPpO2",t[t.highPpO2=5]="highPpO2",t[t.highAscentSpeed=6]="highAscentSpeed",t[t.highDescentSpeed=7]="highDescentSpeed",t[t.brokenCeiling=8]="brokenCeiling",t[t.maxEndExceeded=9]="maxEndExceeded",t[t.switchToHigherN2=10]="switchToHigherN2",t[t.highGasDensity=11]="highGasDensity",t[t.safetyStop=12]="safetyStop",t}(Ei||{});class O1{constructor(n,e,r,i,a){this.timeStamp=n,this.depth=e,this.type=r,this.message=i,this.gas=a}static create(n,e,r,i){return new O1(e,r,n,"",i)}static createError(n){return new O1(0,0,Ei.error,n)}}class l2{static createError(n){return O1.createError(n)}static createSafetyStopStart(n,e){return O1.create(Ei.safetyStop,n,e)}static createNoDecoEnd(n,e){return O1.create(Ei.noDecoEnd,n,e)}static createGasSwitch(n,e,r){return O1.create(Ei.gasSwitch,n,e,r)}static createLowPpO2(n,e){return O1.create(Ei.lowPpO2,n,e)}static createHighPpO2(n,e){return O1.create(Ei.highPpO2,n,e)}static createHighAscentSpeed(n,e){return O1.create(Ei.highAscentSpeed,n,e)}static createHighDescentSpeed(n,e){return O1.create(Ei.highDescentSpeed,n,e)}static createBrokenCeiling(n,e){return O1.create(Ei.brokenCeiling,n,e)}static createMaxEndExceeded(n,e,r){return O1.create(Ei.maxEndExceeded,n,e,r)}static createSwitchToHigherN2(n,e,r){return O1.create(Ei.switchToHigherN2,n,e,r)}static createHighDensity(n,e,r){return O1.create(Ei.highGasDensity,n,e,r)}}class hU{constructor(){this.items=[]}add(n){this.items.push(n)}}class NHe{constructor(n,e){this.time=n,this.depth=e}get notAtSurface(){return this.depth>0}static isDecoDive(n){for(const e of n)if(e.notAtSurface)return!0;return!1}}class C0{constructor(n,e,r,i){this.seg=n,this.ceil=e,this.tiss=r,this.err=i}get segments(){return this.seg}get ceilings(){return this.ceil}get tissues(){return this.tiss}get errors(){return this.err}static fromErrors(n,e){return new C0(n,[],[],e)}static fromProfile(n,e,r){return new C0(n,e,r,[])}}class IHe{static validate(n){const e=[];if(!n.hasBottomGas){const r=l2.createError("At least one bottom gas has to be defined.");return e.push(r),e}return e}}class PHe{constructor(n,e){this.gases=n,this.depthConverter=c2.simple(),this.depthLevels=new Lv(this.depthConverter,e)}bestGas(n){const e=this.depthConverter.toBar(n.currentDepth),r=this.depthConverter.toBar(n.maxEnd);let i=n.currentGas;return this.gases.all.forEach(a=>{const s=a.mod(n.maxDecoPpO2),l=this.depthLevels.toDecoStop(s),M=a.end(e,n.oxygenNarcotic);n.currentDepth<=l&&M<=r&&(!i||i.fO2<a.fO2)&&(i=a)}),i}}class M0{constructor(){this.bottomGases=[]}get all(){return this.bottomGases.slice()}get hasBottomGas(){return this.bottomGases.length>=1}static fromTanks(n){const e=new M0;return n.forEach(r=>{e.add(r.gas)}),e}add(n){this.bottomGases.push(n)}isRegistered(n){return this.bottomGases.includes(n)}}class u1{constructor(n,e){if(this._fO2=n,this._fHe=e,this.contentExceeds100percent())throw new Error("O2 + He can't exceed 100 %")}get fN2(){return 1-this._fO2-this._fHe}get fO2(){return this._fO2}get fHe(){return this._fHe}get name(){return si.nameFor(this.fO2,this.fHe)}set fO2(n){this._fO2=n>1?1:n,this.contentExceeds100percent()&&(this._fHe=this.countRemaining(this._fO2))}set fHe(n){this._fHe=n>.99?.99:n,this.contentExceeds100percent()&&(this._fO2=this.countRemaining(this._fHe))}copy(){return new u1(this._fO2,this._fHe)}mod(n){return u2.mod(n,this._fO2)}end(n,e){return u2.end(n,this.fN2,e?this._fO2:0)}mnd(n,e){return u2.mnd(n,this.fN2,e?this._fO2:0)}ceiling(n){return u2.ceiling(this._fO2,n)}compositionEquals(n){return!!n&&this._fO2===n._fO2&&this._fHe===n._fHe}contentCode(){return Sn.round(1e4*this._fO2*1e4)+Sn.round(1e4*this._fHe)}assignStandardGas(n){const e=si.byName(n);e&&(this.fO2=e.fO2,this.fHe=e.fHe)}contentExceeds100percent(){return this._fO2+this._fHe>1}countRemaining(n){return Sn.round(1-n,5)}}class si{static#e=this.o2InAir=.209;static#t=this.nitroxInAir=1-si.o2InAir;static#n=this.oxygen=new u1(1,0);static#r=this.ean50=new u1(.5,0);static#i=this.ean38=new u1(.38,0);static#a=this.ean36=new u1(.36,0);static#s=this.ean32=new u1(.32,0);static#o=this.trimix3525=new u1(.35,.25);static#c=this.trimix2525=new u1(.25,.25);static#l=this.air=new u1(si.o2InAir,0);static#u=this.trimix2135=new u1(.21,.35);static#f=this.trimix1845=new u1(.18,.45);static#d=this.trimix1555=new u1(.15,.55);static#h=this.trimix1260=new u1(.12,.6);static#p=this.trimix1070=new u1(.1,.7);static#v=this.airName="Air";static#m=this.oxygenName="Oxygen";static#g=this.namesRegEx=/[EAN](?<fO2>\d{2})|(?<fO2b>\d{2})\/(?<fHe>\d{2})/i;static#y=this.map=new Map([[si.airName,si.air],["EAN32",si.ean32],["EAN36",si.ean36],["EAN38",si.ean38],["EAN50",si.ean50],[si.oxygenName,si.oxygen],["Helitrox 35/25",si.trimix3525],["Helitrox 25/25",si.trimix2525],["Helitrox 21/35",si.trimix2135],["Trimix 18/45",si.trimix1845],["Trimix 15/55",si.trimix1555],["Trimix 12/60",si.trimix1260],["Trimix 10/70",si.trimix1070]]);static nitroxNames(){return si.allNames().slice(0,6)}static allNames(){return Array.from(si.map.keys())}static nameFor(n,e=0){const i=Sn.round(100*n),a=Sn.round(100*e);return i<=0?"":a<=0?i>=100?si.oxygenName:21===i?si.airName:"EAN"+i.toString():`${i>=21?"Helitrox":"Trimix"} ${i.toString()}/${a.toString()}`}static byName(n){const e=[...si.map.keys()],r=Av(e).filter(a=>a.toLowerCase()===n.toLowerCase()).first();if(r)return si.map.get(r)??null;const i=si.namesRegEx.exec(n);if(i){if(i[1]){const a=Number(i[1])/100;if(a>0)return new u1(a,0)}if(i[2]&&i[3]){const a=Number(i[2])/100,s=Number(i[3])/100;if(a>0&&s>0)return new u1(a,s)}}return null}}class u2{static partialPressure(n,e){return n*e}static mod(n,e){return n/e}static bestMix(n,e,r){const a=n/r.toBar(e);return a>1?1:a}static ead(n,e,r=si.o2InAir){const a=1-r;return u2.end(e,1-n)/a}static end(n,e,r=0){return n*this.narcoticIndex(r,e)}static mnd(n,e,r=0){return n/this.narcoticIndex(r,e)}static ceiling(n,e){const a=.18/n*e;return a<e?e:a}static narcoticIndex(n,e=0){return e+n}}class Wd extends H1{constructor(n,e){super(n.n2HalfTime,n.n2A,n.n2B,n.heHalfTime,n.heA,n.heB),this._pN2=0,this._pHe=0,this._pTotal=0,this._a=0,this._b=0;const r=this.pressureInLungs(e);this._pN2=u2.partialPressure(r,si.nitroxInAir),this._pHe=0,this.updateTotal()}get pN2(){return this._pN2}get pHe(){return this._pHe}get pTotal(){return this._pTotal}get a(){return this._a}get b(){return this._b}static fromCurrent(n,e){const r=new Wd(e,1);return r._pN2=n.pN2,r._pHe=n.pHe,r._a=n.a,r._b=n.b,r.updateTotal(),r}copy(){return Wd.fromCurrent(this,this)}ceiling(n){return(this.pTotal-this.a*n)/(n/this.b+1-n)}load(n,e){this._pN2=this.loadGas(n,e.fN2,this.pN2,this.n2HalfTime),this._pHe=this.loadGas(n,e.fHe,this.pHe,this.heHalfTime);const r=this.pTotal;return this.updateTotal(),this._a=(this.n2A*this.pN2+this.heA*this.pHe)/this.pTotal,this._b=(this.n2B*this.pN2+this.heB*this.pHe)/this.pTotal,this.pTotal-r}loadGas(n,e,r,i){const a=n.speed*e,s=this.pressureInLungs(n.startPressure)*e;return this.schreinerEquation(r,s,n.duration,i,a)}pressureInLungs(n){return n-.0627}schreinerEquation(n,e,r,i,a){const l=.01155245301/i;return e+a*(r-1/l)-(e-n-a/l)*Math.exp(-l*r)}updateTotal(){this._pTotal=this.pN2+this.pHe}}class al{constructor(n){this._compartments=n}get compartments(){return this._compartments}static createLoaded(n){if(n.length!==$d.buhlmannZHL16C.length)throw new Error("Provided incompatible count of tissues");const e=Av(n).map((r,i)=>Wd.fromCurrent(r,$d.buhlmannZHL16C[i])).value();return new al(e)}static create(n){const e=[];for(let r=0;r<$d.buhlmannZHL16C.length;r++){const a=new Wd($d.buhlmannZHL16C[r],n);e.push(a)}return new al(e)}static createLoadedAt(n){const e=ds.pressure(n),r=b0.pascalToBar(e);return al.create(r).finalState()}static copy(n){const e=[];for(let r=0;r<n.length;r++){const i=n[r].copy();e.push(i)}return e}restoreFrom(n){this._compartments=al.copy(n)}finalState(){return al.copy(this._compartments)}ceiling(n){let e=0;for(let r=0;r<this._compartments.length;r++){const i=this._compartments[r].ceiling(n);i>e&&(e=i)}return e}load(n,e){let r=0;for(let i=0;i<this._compartments.length;i++)r+=this._compartments[i].load(n,e);return r}}class jd{static validTissue(n){return n.pN2>0&&n.pHe>=0&&n.a>=0&&n.b>=0}static validCount(n){return!!n&&n.length===$d.buhlmannZHL16C.length}static valid(n){return!!jd.validCount(n)&&Av(n).every(r=>jd.validTissue(r))}}class Eu{static haveReserve(n){for(let e=0;e<n.length;e++)if(!n[e].hasReserve)return!1;return!0}static resetConsumption(n){n.forEach(e=>{e.consumed=0,e.reserve=0})}static removeTank(n,e){const r=n.filter(i=>i!==e);return Eu.renumberIds(r),r}static renumberIds(n){for(let e=0;e<n.length;e++)n[e].id=e+1}}class Ba{constructor(n,e,r){this.size=n,this.startPressure=e,this.id=0,this.consumed=0,this.reserve=0,this._gas=si.air.copy(),this.o2=r}get gas(){return this._gas}get o2(){return Nu.getO2(this.gas.fO2,this.gas.fHe)}get he(){return Sn.roundTwoDecimals(100*this.gas.fHe)}get n2(){return Sn.roundTwoDecimals(100-this.o2-this.he)}get volume(){return Ba.volume(this)}get reserveVolume(){return Ba.volume2(this.size,this.reserve)}get consumedVolume(){return Ba.volume2(this.size,this.consumed)}get name(){return this._gas.name}get endPressure(){const n=this.startPressure-this.consumed;return n>0?n:0}get percentsRemaining(){return this.endPressure/this.startPressure*100}get percentsReserve(){const n=this.reserve/this.startPressure*100;return n>100?100:n}get hasReserve(){return this.endPressure>=this.reserve}set o2(n){this._gas.fO2=Nu.setO2(n,this.gas.fHe)}set he(n){this.gas.fHe=n/100}static createDefault(){return new Ba(15,200,100*si.o2InAir)}static volume(n){return Ba.volume2(n.size,n.startPressure)}static volume2(n,e){return n*e}assignStandardGas(n){this.gas.assignStandardGas(n)}loadFrom(n){this.size=n.size,this.startPressure=n.startPressure,this.consumed=n.consumed,this.reserve=n.reserve,this.gas.fO2=n._gas.fO2,this.gas.fHe=n._gas.fHe}}class Nu{static#e=this.pinnedO2=21;static#t=this.o2InAirPercent=100*si.o2InAir;static getO2(n,e){const r=100*n;return this.isInAirRange(r,e)?Nu.pinnedO2:Sn.roundTwoDecimals(r)}static setO2(n,e){return this.isInAirRange(n,e)?si.o2InAir:n/100}static isInAirRange(n,e){return Nu.o2InAirPercent<=n&&n<=Nu.pinnedO2&&0===e}}class $3{static speed(n,e){return $3.speedByXChange(e.start,e.end,n.end-n.start)}static speedByXChange(n,e,r){return(e-n)/r}static yValueAt(n,e,r){return n+e*r}static xValueAtAbsolute(n,e,r){const i=this.speed(n,e);return n.start+$3.xValueAt(e.start,i,r)}static xValueAt(n,e,r){return 0===e?0:(r-n)/e}}class WM{static validate(n,e){const r=[];if(!n.any()){const i=l2.createError("There needs to be at least one segment at depth.");r.push(i)}return n.withAll(i=>{WM.validateRegisteredGas(r,e,i)}),r}static validateRegisteredGas(n,e,r){if(!e.isRegistered(r.gas)){const a=l2.createError(`Segment ${r.startDepth}-${r.endDepth} has gas not registered in gases.`);n.push(a)}}}class A2{constructor(n,e,r,i){this._startDepth=n,this._endDepth=e,this._duration=i,r instanceof Ba?(this._tank=r,this._gas=r.gas):this._gas=r}get startDepth(){return this._startDepth}get endDepth(){return this._endDepth}get duration(){return this._duration}get gas(){return this._gas}get tank(){return this._tank}get speed(){return A2.speed(this.startDepth,this.endDepth,this.duration)}get averageDepth(){return(this.startDepth+this.endDepth)/2}set startDepth(n){this._startDepth=n}set endDepth(n){this._endDepth=n}set duration(n){this._duration=n}set tank(n){this._tank=n,n&&(this._gas=n.gas)}static from(n){const e=new A2(n.startDepth,n.endDepth,n._gas,n.duration);return e.tank=n.tank,e}static speed(n,e,r){return $3.speedByXChange(n,e,r)}static depthAt(n,e,r){return $3.yValueAt(n,e,r)}static timeAt(n,e,r){return $3.xValueAt(n,e,r)}contentEquals(n){return this.speed===n.speed&&this._gas===n._gas}depthAt(n){return A2.depthAt(this.startDepth,this.speed,n)}mergeFrom(n){this.duration+=n.duration,this.endDepth=n.endDepth}}class Ns{constructor(){this.segments=[],this._maxDepth=0}get startAscentIndex(){return this.deepestPart().length}get startAscentTime(){const n=this.deepestPart();return Ns.duration(n)}get length(){return this.segments.length}get items(){return this.segments.slice()}get maxDepth(){return this._maxDepth}get currentDepth(){return this.any()?this.last().endDepth:0}get duration(){return Ns.duration(this.segments)}static from(n){return Ns.fromCollection(n.segments)}static fromCollection(n){const e=new Ns;return n.forEach(r=>{const i=A2.from(r);e.segments.push(i),e.updateMaxDepth(i)}),e}static duration(n){let e=0;for(const r of n)e+=r.duration;return e}static averageDepth(n){if(n.length<=0)return 0;let e=0,r=0;return n.forEach(i=>{if(i.duration>0){const a=i.averageDepth*i.duration+r*e;r+=i.duration,e=a/r}}),e}add(n,e,r){const i=new A2(this.currentDepth,n,e,r);return this.segments.push(i),this.updateMaxDepth(i),i}addFlat(n,e){return this.add(this.currentDepth,n,e)}mergeFlat(n=0){if(n<0)return this.items;const e=[];for(let r=this.segments.length-1;r>n;r--){const i=this.segments[r-1],a=this.segments[r];i.contentEquals(a)&&(i.mergeFrom(a),e.push(a))}return this.segments=this.segments.filter(r=>!e.includes(r)),this.items}remove(n){this.segments=this.segments.filter(e=>e!==n),this.fixStartDepths()}cutDown(n){this.segments=this.segments.slice(0,this.segments.length-n),this.fixStartDepths()}withAll(n){for(let e=0;e<this.segments.length;e++)n(this.segments[e])}any(){return 0!==this.segments.length}last(){return this.segments[this.segments.length-1]}copy(){return Ns.from(this)}fixStartDepths(){this.any()&&(this.segments[0].startDepth=0);for(let n=0;n<this.segments.length-1;n++){const r=this.segments[n+1];r.startDepth=this.segments[n].endDepth,this.updateMaxDepth(r)}}deepestPart(){for(let n=this.segments.length-1;n>=0;n--)if(this.segments[n].endDepth===this.maxDepth)return this.items.slice(0,n+1);return[]}updateMaxDepth(n){n.endDepth>this._maxDepth&&(this._maxDepth=n.endDepth)}}class Gr{static#e=this.oneSecond=1;static#t=this.oneMinute=60;static#n=this.oneHour=60*Gr.oneMinute;static#r=this.oneDay=24*Gr.oneHour;static#i=this.safetyStopDuration=3*Gr.oneMinute;static toSeconds(n){return n*Gr.oneMinute}static toMinutes(n){return n/Gr.oneMinute}static toHours(n){return n/Gr.oneHour}}let pU=(()=>{class t{static#e=this.minimalStep=1;constructor(){}search(e){if(e.maxValue<e.initialValue)throw Error("Max value cant be smaller than initial value");if(e.estimationStep>e.maxValue-e.initialValue)throw Error("Step cant be larger than range");const r=this.findInitialLimit(e);return this.searchInsideInterval(e,r)}searchInsideInterval(e,r){for(;r.right-r.left>t.minimalStep;){let i=r.left+(r.right-r.left)/2;i=Math.round(i),e.doWork(i),e.meetsCondition()?r.left=i:r.right=i}return r.left}findInitialLimit(e){let r=e.initialValue;for(e.doWork(r);e.meetsCondition()&&r<=e.maxValue;)r+=e.estimationStep,e.doWork(r);let i=r-e.estimationStep;return i=i<e.initialValue?e.initialValue:i,{left:i,right:r>e.maxValue?e.maxValue:r}}}return t})();class RHe{constructor(n,e,r){this.depthConverter=n,this.options=e,this.tissues=r,this.lowestCeiling=0,this.lowestCeiling=this.depthConverter.surfacePressure+1}ceiling(){let n=this.tolerated();return n<this.depthConverter.surfacePressure&&(n=this.depthConverter.surfacePressure),this.depthConverter.fromBar(n)}toleratedTissues(n,e,r,i){const a=this.tissues.compartments;let s=0;for(let l=0;l<a.length;l++){const M=a[l];let R=s;(n/M.b+M.a-n)*r+n<(e/M.b+M.a-e)*i+e&&(R=(-M.a*M.b*(r*e-i*n)-(1-M.b)*(r-i)*e*n+M.b*(e-n)*M.pTotal)/(-M.a*M.b*(r-i)+(1-M.b)*(i*e-r*n)+M.b*(e-n))),R>=s&&(s=R)}return s}tolerated(){const n=this.options.gfLow,e=this.options.gfHigh,r=this.depthConverter.surfacePressure,i=this.tissues.ceiling(n);return i>this.lowestCeiling&&(this.lowestCeiling=i),this.toleratedTissues(r,this.lowestCeiling,e,n)}}let vU=(()=>{class t{static#e=this.sixMeters=6;constructor(e){this.options=e,this.averageDepth=0}markAverageDepth(e){const r=e.deepestPart();this.averageDepth=Ns.averageDepth(r)}ascent(e){return e>t.sixMeters?e>this.averageDepth/2?this.options.ascentSpeed50perc:this.options.ascentSpeed50percTo6m:this.options.ascentSpeed6m}}return t})();class jM{constructor(n,e,r,i,a){this.gases=n,this.segments=e,this.options=r,this.depthConverter=i,this.ceilings=[],this.runTime=0,this.tissues=al.createLoaded(a),this.gradients=new RHe(i,r,this.tissues);const s=e.last();this.currentGas=s.gas,this.bestGasOptions={currentDepth:this.currentDepth,maxDecoPpO2:this.options.maxDecoPpO2,oxygenNarcotic:this.options.oxygenNarcotic,maxEnd:this.options.maxEND,currentGas:this.currentGas},this.speeds=new vU(this.options),this.levels=new Lv(i,r),this.gasSource=new PHe(n,r)}get ascentSpeed(){return this.speeds.ascent(this.currentDepth)}get currentDepth(){return this.segments.currentDepth}get ambientPressure(){return this.depthConverter.toBar(this.currentDepth)}get addSafetyStop(){return this.levels.addSafetyStop(this.currentDepth,this.segments.maxDepth)}get decoStopDuration(){return this.options.roundStopsToMinutes?Gr.oneMinute:Gr.oneSecond}get isAtSurface(){return 0===this.segments.last().endDepth}markAverageDepth(){this.speeds.markAverageDepth(this.segments)}addCeiling(){const n=this.ceiling(),e=new NHe(this.runTime,n);this.ceilings.push(e)}ceiling(){return this.gradients.ceiling()}bestDecoGas(){return this.bestGasOptions.currentDepth=this.currentDepth,this.bestGasOptions.currentGas=this.currentGas,this.gasSource.bestGas(this.bestGasOptions)}createMemento(){return{runTime:this.runTime,tissues:al.copy(this.tissues.compartments),ceilings:this.ceilings.length,segments:this.segments.length,lowestCeiling:this.gradients.lowestCeiling}}restore(n){this.tissues.restoreFrom(n.tissues),this.gradients.lowestCeiling=n.lowestCeiling,this.runTime=n.runTime,this.ceilings=this.ceilings.slice(0,n.ceilings),this.segments.cutDown(this.segments.length-n.segments)}nextStop(n){return this.levels.nextStop(n)}shouldSwitchTo(n){return n&&!this.currentGas.compositionEquals(n)}addGasSwitchSegment(){return this.addStopSegment(this.options.gasSwitchDuration*Gr.oneMinute)}addDecoStopSegment(){return this.addStopSegment(0)}addSafetyStopSegment(){return this.addStopSegment(Gr.safetyStopDuration)}addAscentSegment(n,e){return this.segments.add(n,this.currentGas,e)}addStopSegment(n){return this.segments.addFlat(this.currentGas,n)}}const mU=(t,n)=>t/Gr.toMinutes(n);class gU{constructor(n,e){this.current=n,this.surfaceInterval=e}}class FHe{constructor(n,e,r){this.previousTissues=n,this.altitude=e,this.surfaceInterval=r}}class x0{constructor(n,e,r,i){this._segments=n,this._gases=e,this._options=r,this._surface=this.resolveSurfaceParameters(i)}get segments(){return this._segments}get gases(){return this._gases}get options(){return this._options}get surfaceInterval(){return new FHe(this._surface.current,this.options.altitude,this._surface.surfaceInterval)}static forSimpleDive(n,e,r,i){const a=new M0;a.add(e);const s=new Ns,l=mU(n,r.descentSpeed);return s.add(n,e,l),new x0(s,a,r,i)}static forMultilevelDive(n,e,r,i){return new x0(n,e,r,i)}resolveSurfaceParameters(n){if(n&&jd.validCount(n?.current))return n;const e=al.createLoadedAt(this.options.altitude);return new gU(e,Number.POSITIVE_INFINITY)}}class Yd{noDecoLimit({segments:n,gases:e,options:r,surfaceInterval:i}){const a=new ku(r).create(),s=this.applySurfaceInterval(i),l=new jM(e,n,r,a,s);return this.swimNoDecoLimit(n,e,l)}decompression({segments:n,gases:e,options:r,surfaceInterval:i}){const a=new ku(r).create(),s=n.copy(),l=this.validate(n,e);if(l.length>0){const We=s.mergeFlat(n.length);return C0.fromErrors(We,l)}const M=this.applySurfaceInterval(i),R=new jM(e,s,r,a,M);this.swimPlan(R),R.markAverageDepth();let oe=R.nextStop(R.currentDepth);for(;oe>=0&&!R.isAtSurface;)this.tryGasSwitch(R),this.stayAtDecoStop(R,oe),this.stayAtSafetyStop(R),this.ascentToNextStop(R,oe),oe=R.nextStop(oe);const Ce=R.segments.mergeFlat(n.length);return C0.fromProfile(Ce,R.ceilings,R.tissues.finalState())}applySurfaceInterval({previousTissues:n,altitude:e,surfaceInterval:r}){if(!jd.valid(n))throw Error("Provided tissues collection isn`t valid. It needs have valid items of 16 compartments ordered by halftime.");if(e<0)throw Error("Altitude needs to be positive number or 0.");if(r<0)throw Error("Surface interval needs to be positive number or 0.");if(r===Number.POSITIVE_INFINITY)return al.createLoadedAt(e);const i=new Ns,a=i.addFlat(si.air,r),s=new M0;s.add(si.air);const l=new Vu(1,1,1.6,1.6,ro.salt);l.altitude=e;const M=new ku(l).create(),R=new jM(s,i,l,M,n);return this.swim(R,a),R.tissues.finalState()}tryGasSwitch(n){const e=n.bestDecoGas();if(n.shouldSwitchTo(e)){n.currentGas=e;const r=n.addGasSwitchSegment();this.swim(n,r)}}stayAtDecoStop(n,e){if(this.needsDecoStop(n,e)){const r=n.createMemento(),i={estimationStep:20*Gr.oneMinute,initialValue:0,maxValue:Gr.oneDay,doWork:M=>this.swimDecoStop(n,r,M),meetsCondition:()=>this.needsDecoStop(n,e)},s=(new pU).search(i)+Gr.oneSecond,l=Sn.ceilDistance(s,n.decoStopDuration);this.swimDecoStop(n,r,l)}}swimDecoStop(n,e,r){n.restore(e);const i=n.addDecoStopSegment();i.duration=r,this.swim(n,i)}needsDecoStop(n,e){if(e>=n.ceiling())return!1;const r=n.createMemento();this.ascentToNextStop(n,e);const i=e<n.ceiling();return n.restore(r),i}stayAtSafetyStop(n){if(n.addSafetyStop){const e=n.addSafetyStopSegment();this.swim(n,e)}}ascentToNextStop(n,e){const i=mU(n.currentDepth-e,n.ascentSpeed),a=n.addAscentSegment(e,i);this.swim(n,a)}validate(n,e){const r=WM.validate(n,e);if(r.length>0)return r;const i=IHe.validate(e);return i.length>0?i:[]}swimPlan(n){n.addCeiling(),n.segments.withAll(e=>{this.swim(n,e)})}swim(n,e){let r=e.startDepth;const i=Gr.oneSecond;for(let a=0;a<e.duration;a+=i){const s=A2.depthAt(r,e.speed,i),l=new A2(r,s,e.gas,i);this.swimPart(n,l),r=l.endDepth}}swimPart(n,e){const r=this.toLoadSegment(n.depthConverter,e);n.tissues.load(r,e.gas),n.runTime+=e.duration,n.addCeiling()}swimNoDecoLimit(n,e,r){if(this.validate(n,e).length>0)return 0;this.swimPlan(r);const a=this.currentNdl(r.ceilings);return a!==Number.POSITIVE_INFINITY?a:this.predictNoDecoLimit(n,r)}predictNoDecoLimit(n,e){const r=n.last(),i=r.endDepth,a=new A2(i,i,r.gas,Gr.oneMinute),s=this.toLoadSegment(e.depthConverter,a);let l=1;for(;e.ceiling()<=0&&l>0;)l=e.tissues.load(s,r.gas),e.runTime+=Gr.oneMinute;return 0===l||0===i?Number.POSITIVE_INFINITY:this.floorNdl(e.runTime)}floorNdl(n){let e=Gr.toMinutes(n);return e=Sn.floor(e),e-1}currentNdl(n){for(let e=0;e<n.length;e+=Gr.oneMinute){const r=n[e];if(r.notAtSurface)return this.floorNdl(r.time)}return Number.POSITIVE_INFINITY}toLoadSegment(n,e){const r=n.toBar(e.speed)-n.surfacePressure;return{startPressure:n.toBar(e.startDepth),duration:e.duration,speed:r}}}class Yl{static createPlan(n,e,r,i){const a=new Ns,s=Yl.descentDuration(n,i);a.add(n,r,s);let l=Gr.toSeconds(e)-s;return l=l<0?0:l,a.addFlat(r,l),a}static descentDuration(n,e){let r=n/e.descentSpeed;return r=Sn.ceil(r,1),r=Gr.toSeconds(r),Sn.ceil(r)}static emergencyAscent(n,e,r){const a=Ns.fromCollection(n).deepestPart(),s=a.length;Yl.addSolvingSegment(a,e.problemSolvingDuration),Yl.addUserDefinedAscent(a,n,s);const l=Ns.fromCollection(a),M=M0.fromTanks(r),R=new Yd,oe=x0.forMultilevelDive(l,M,e),We=R.decompression(oe).segments;return We.slice(s,We.length)}static addSolvingSegment(n,e){if(0===n.length)return;const i=n[n.length-1],a=i.endDepth,s=new A2(a,a,i.gas,e*Gr.oneMinute);n.push(s)}static addUserDefinedAscent(n,e,r){for(let i=r;i<e.length;i++){const a=e[i];if(!a.tank)return;n.push(a)}}}class zv{constructor(n,e,r,i){this.duration=n,this.startTime=0,this.endTime=0,this.averageDepth=0,this._startDepth=0,this._endDepth=0,this.endTime=Sn.roundTwoDecimals(n),this._endDepth=e,this._startDepth=r,this.averageDepth=i}get startDepth(){return this._startDepth}get endDepth(){return this._endDepth}static fromSegment(n){return new zv(n.duration,n.endDepth,n.startDepth,n.averageDepth)}}let OHe=(()=>{class t{static#e=this.minimumRockBottom=30;constructor(e){this.depthConverter=e}static calculateDecompression(e,r,i){const a=M0.fromTanks(r),s=new Yd,l=e.copy(),M=x0.forMultilevelDive(l,a,i);return s.decompression(M)}consumeFromTanks(e,r,i,a){if(e.length<2)throw new Error("Profile needs to contain at least 2 segments.");const s=Yl.emergencyAscent(e,r,i);this.consumeFromTanks2(e,s,r,i,a)}consumeFromTanks2(e,r,i,a,s){if(e.length<2)throw new Error("Profile needs to contain at least 2 segments.");Eu.resetConsumption(a);const l=this.consumeByTanks(e,s.rmv);this.consumeByGases(e,a,s.rmv,l),this.updateReserve(r,a,s.stressRmv)}calculateMaxBottomTime(e,r,i,a){const s=this.createTestProfile(e),l=s.last(),M={estimationStep:40*Gr.oneMinute,initialValue:0,maxValue:Gr.oneDay,doWork:We=>{l.duration=We,this.consumeFromProfile(s,r,i,a)},meetsCondition:()=>Eu.haveReserve(r)},oe=(new pU).search(M);if(0===oe)return 0;const Ce=Gr.toMinutes(e.duration+oe);return Sn.floor(Ce)}consumeFromProfile(e,r,i,a){const s=t.calculateDecompression(e,r,a);this.consumeFromTanks(s.segments,a,r,i)}createTestProfile(e){const r=e.copy(),i=e.last();return r.addFlat(i.gas,0),r}updateReserve(e,r,i){const a=this.toBeConsumed(e,i,()=>!0);for(let s=0;s<=r.length-1;s++){const l=r[s],M=l.gas.contentCode();let R=a.get(M)||0;R=this.addReserveToTank(l,R),a.set(M,R)}r[0].reserve<t.minimumRockBottom&&(r[0].reserve=t.minimumRockBottom)}addReserveToTank(e,r){const i=Sn.ceil(r/e.size),a=i+e.reserve>e.startPressure?e.startPressure-e.reserve:i;return e.reserve+=a,this.extractRemaining(r,a,e.size)}consumeByGases(e,r,i,a){const s=this.toBeConsumedYet(e,i,a,l=>!l.tank);for(let l=r.length-1;l>=0;l--){const M=r[l],R=M.gas.contentCode();let oe=s.get(R)||0;oe=this.consumeFromTank(M,oe),s.set(R,oe)}}consumeByTanks(e,r){const i=new Map,a=Gr.toMinutes(r);return e.forEach(s=>{if(s.tank){const l=s.tank,M=s.gas.contentCode(),R=zv.fromSegment(s),oe=this.consumedBySegment(R,a),Ce=this.consumeFromTank(l,oe);let We=i.get(M)||0;We+=Ce,i.set(M,We)}}),i}consumeFromTank(e,r){const i=Sn.ceil(r/e.size),a=i>e.endPressure?e.endPressure:i;return e.consumed+=a,this.extractRemaining(r,a,e.size)}extractRemaining(e,r,i){return(e-=r*i)<0?0:e}toBeConsumed(e,r,i){return this.toBeConsumedYet(e,r,new Map,i)}toBeConsumedYet(e,r,i,a){const s=Gr.toMinutes(r);for(let l=0;l<e.length;l++){const M=e[l];if(a(M)){const oe=M.gas.contentCode(),Ce=zv.fromSegment(M),We=this.consumedBySegment(Ce,s);let rt=i.get(oe)||0;rt+=We,i.set(oe,rt)}}return i}consumedBySegment(e,r){const i=this.depthConverter.toBar(e.averageDepth);return e.duration*i*r}}return t})();class BHe{constructor(n){this.depthConverter=n,this.minimumPpO2=.5}calculateForProfile(n){let e=0;return n.forEach(r=>{const a=this.calculate(r.gas.fO2,r.startDepth,r.endDepth,r.duration);e+=a}),e}calculate(n,e,r,i){const l=n*this.depthConverter.toBar((e+r)/2);if(l<=this.minimumPpO2)return 0;const M=this.exponentByPpO2(l);return i*Math.exp(M)*100}exponentByPpO2(n){return n<=1.5?1.93873*n-11.7853:9.80829*n-23.6349}}let Iu=(()=>{class t{static#e=this.imperialTankSize=124.1;static#t=this.imperialTankWorkPressure=3442;static#n=this.imperialStageSize=80.1;static#r=this.imperialStageWorkPressure=3e3;static#i=this.mertricTankSize=15;static#a=this.metricStageSize=11.1}return t})();class UHe{get available(){return[this.primary,this.stage,{name:"2xLP85",size:165,workingPressure:2640},{name:"S40",size:41.3,workingPressure:3e3},{name:"LP85",size:82.5,workingPressure:2640},{name:"HP80",size:84.4,workingPressure:3442},{name:"HP100",size:106.7,workingPressure:3442}]}get primary(){return{name:"HP117",size:Iu.imperialTankSize,workingPressure:Iu.imperialTankWorkPressure}}get stage(){return{name:"S80",size:Iu.imperialStageSize,workingPressure:Iu.imperialStageWorkPressure}}}class GHe{get available(){return[this.primary,this.stage,{name:"2x12 L",size:24,workingPressure:0},{name:"S40",size:5.7,workingPressure:0},{name:"10L",size:10,workingPressure:0},{name:"12 L",size:12,workingPressure:0}]}get primary(){return{name:"15 L",size:Iu.mertricTankSize,workingPressure:0}}get stage(){return{name:"S80",size:Iu.metricStageSize,workingPressure:0}}}class yU{get tanks(){return new GHe}get lastSpeedLevel(){return 6}get autoStopLevel(){return 10}get stopsDistance(){return 3}get recreationalOptions(){return{ascentSpeed50perc:Kr.ascentSpeed50perc,ascentSpeed50percTo6m:Kr.ascentSpeed50perc,ascentSpeed6m:Kr.ascentSpeed50perc,descentSpeed:Kr.descentSpeed,lastStopDepth:Kr.lastStopDepthRecre,maxEND:Kr.maxEND}}get recommendedOptions(){return{ascentSpeed50perc:Kr.ascentSpeed50perc,ascentSpeed50percTo6m:Kr.ascentSpeed50percTo6m,ascentSpeed6m:Kr.ascentSpeed6m,descentSpeed:Kr.descentSpeed,lastStopDepth:Kr.lastStopDepth,maxEND:Kr.maxEND}}}class f1{static#e=this.lastStopDepth=15;static#t=this.depthDistance=10;static#n=this.descentSpeed=6*f1.depthDistance;static#r=this.recreSpeed=3*f1.depthDistance;static#i=this.maxEnd=10*f1.depthDistance;get tanks(){return new UHe}get lastSpeedLevel(){return 20}get autoStopLevel(){return 33}get stopsDistance(){return f1.depthDistance}get recreationalOptions(){return{ascentSpeed50perc:f1.recreSpeed,ascentSpeed50percTo6m:f1.recreSpeed,ascentSpeed6m:f1.recreSpeed,descentSpeed:f1.descentSpeed,lastStopDepth:f1.lastStopDepth,maxEND:f1.maxEnd}}get recommendedOptions(){return{ascentSpeed50perc:f1.recreSpeed,ascentSpeed50percTo6m:2*f1.depthDistance,ascentSpeed6m:f1.depthDistance,descentSpeed:f1.descentSpeed,lastStopDepth:f1.depthDistance,maxEND:f1.maxEnd}}}let Zd=(()=>{class t{static#e=this.defaultSac=20;constructor(e=t.defaultSac){this.rmv=e}get stressRmv(){return 3*this.rmv}static gasSac(e,r){return e/r}gasSac(e){return t.gasSac(this.rmv,e.size)}loadFrom(e){this.rmv=e.rmv}}return t})();class d1{static redundancies(n,e){if(d1.validateTankFill(n,"tankA"),d1.validateTankFill(e,"tankB"),0===n.size&&0===e.size)return 0;const r=n.size+e.size;return(Ba.volume(n)+Ba.volume(e))/r}static mix(n){d1.validate(n.source,"Source"),d1.validate(n.target,"Target"),d1.validate(n.topMix,"Top");const r=d1.n2(n.target)*n.target.pressure,i=d1.n2(n.source);let s=r-i*n.source.pressure;if(s=Sn.round(s,8),s<0)return d1.mixByRemoving(n,-s/i);const M=s/d1.n2(n.topMix);let We=n.target.pressure*n.target.he-n.source.pressure*n.source.he-M*n.topMix.he;if(We=Sn.round(We,8),We<0)return d1.mixByRemoving(n,-We/n.source.he);let rt=n.target.pressure-n.source.pressure-We-M;return rt=Sn.round(rt,8),rt<0?d1.mixByRemoving(n,-rt/n.source.o2):{addO2:rt,addHe:We,addTop:M,removeFromSource:0}}static mixByRemoving(n,e){const r=d1.copyRequest(n);if(e>n.source.pressure)throw new Error("Unable to mix required gas because target contains less he or oxygen than top mix.");r.source.pressure-=e;const i=d1.mix(r);return i.removeFromSource+=e,i}static n2(n){return 1-n.o2-n.he}static validate(n,e){if(n.o2<0||n.o2>1)throw new Error(`${e} mix contains invalid o2 content.`);if(n.he<0||n.he>1)throw new Error(`${e} mix contains invalid he content.`);if(n.o2+n.he>1)throw new Error(`${e} mix contains invalid N2 content.`)}static validateTankFill(n,e){if(n.size<0)throw new Error(`${e} Volume needs to be positive number.`);if(n.startPressure<0)throw new Error(`${e} Start pressure needs to be positive number.`)}static copyRequest(n){return{source:d1.copyTankMix(n.source),target:d1.copyTankMix(n.target),topMix:{o2:n.topMix.o2,he:n.topMix.he}}}static copyTankMix(n){return{o2:n.o2,he:n.he,pressure:n.pressure}}}class Xd{constructor(n,e,r){this.gas=n,this.depth=e,this.density=r}static createDefault(){return new Xd(si.air,0,0)}applyHigher(n,e,r){r>this.density&&(this.gas=n,this.density=r,this.depth=e)}}let bU=(()=>{class t{constructor(){this.helium=.179,this.nitrogen=1.251,this.oxygen=1.428}static#e=this.recommendedMaximum=5.7;forGas(e){return this.forContent(e.fO2,e.fHe)}forContent(e,r){return this.nitrogen*(1-e-r)+this.oxygen*e+this.helium*r}}return t})();class YM{constructor(n){this.depthConverter=n,this.density=new bU}forProfile(n){const e=Xd.createDefault();return n.forEach(r=>{const i=r.gas,a=this.density.forGas(i);this.applyHigher(e,i,r.startDepth,a),this.applyHigher(e,i,r.endDepth,a)}),e}atDepth(n,e){const r=this.density.forGas(n);return this.fromAtaDensity(r,e)}applyHigher(n,e,r,i){const a=this.fromAtaDensity(i,r);n.applyHigher(e,r,a)}fromAtaDensity(n,e){return n*this.depthConverter.toBar(e)}}class $He{constructor(){this.depth=0,this.maxPpO2=1.4,this.oxygenNarcotic=!0,this.narcDepthBars=4,this._tank=Ba.createDefault(),this.depthConverter=c2.simple(),this.densityCalc=new YM(this.depthConverter)}get tank(){return this._tank}get narcoticDepth(){return this.depthConverter.fromBar(this.narcDepthBars)}get ppO2(){return u2.partialPressure(this.depthPressure,this.gas.fO2)}get ppHe(){return u2.partialPressure(this.depthPressure,this.gas.fHe)}get ppN2(){return u2.partialPressure(this.depthPressure,this.gas.fN2)}get totalPp(){return this.depthPressure}get minDepth(){const e=this.gas.ceiling(this.depthConverter.surfacePressure);return this.depthConverter.fromBar(e)}get maxDepth(){const n=this.gas.mod(this.maxPpO2);return this.depthConverter.fromBar(n)}get end(){let n=this.gas.end(this.depthPressure,this.oxygenNarcotic);return n<this.depthConverter.surfacePressure&&(n=this.depthConverter.surfacePressure),this.depthConverter.fromBar(n)}get mnd(){const n=this.gas.mnd(this.narcDepthBars,this.oxygenNarcotic);return this.depthConverter.fromBar(n)}get density(){return this.densityCalc.atDepth(this.gas,this.depth)}get gas(){return this.tank.gas}get depthPressure(){return this.depthConverter.toBar(this.depth)}set narcoticDepth(n){this.narcDepthBars=this.depthConverter.toBar(n)}}class WHe{constructor(n){this.depthLevels=n}gasSwitch(n,e){const i=u2.mod(n,e/100);return this.depthLevels.toDecoStop(i)}}class CU{constructor(n,e=si.o2InAir){this.depthConverter=n,this.o2InAir=e}ead(n,e){const r=n/100,i=this.depthConverter.toBar(e),a=u2.ead(r,i,this.o2InAir);if(a<=this.depthConverter.surfacePressure)return 0;let s=this.depthConverter.fromBar(a);return s=Sn.fix(s),Sn.ceilTwoDecimals(s)}bestMix(n,e){let r=100*u2.bestMix(n,e,this.depthConverter);return r=Sn.fix(r),Sn.floor(r,2)}mod(n,e){let i=u2.mod(n,e/100);return i=this.depthConverter.fromBar(i),i=Sn.fix(i),Sn.floor(i,2)}partialPressure(n,e){const r=this.depthConverter.toBar(e);let i=u2.partialPressure(r,n)/100;return i=Sn.fix(i),Sn.ceilTwoDecimals(i)}}class Kd{constructor(n=new Vu){this.options=n,this.depthConverter=c2.simple();const e=new Lv(this.depthConverter,this.options);this.gasSwitchesCalculator=new WHe(e),this.nitroxCalculator=new CU(this.depthConverter)}modForGas(n){return this.nitroxCalculator.mod(this.options.maxPpO2,n.o2)}mndForGas(n){const e=this.depthConverter.toBar(this.options.maxEND),r=n.mnd(e,this.options.oxygenNarcotic),i=this.depthConverter.fromBar(r);let a=Sn.fix(i);return a=Sn.roundTwoDecimals(a),a}switchDepth(n){return this.gasSwitchesCalculator.gasSwitch(this.options.maxDecoPpO2,n.o2)}maxDepth(n){const e=this.mndForGas(n.gas),r=this.modForGas(n);return Math.min(e,r)}bestNitroxMix(n){const r=this.nitroxCalculator.bestMix(this.options.maxPpO2,n);return Sn.round(r)}}let ZM=(()=>{class t{static#e=this.dailyLimit=300;constructor(e){this.depthConverter=e,this.minPressure=.5}calculateForProfile(e){let r=0;return e.forEach(i=>{const s=this.calculate(i.duration,i.gas.fO2,i.startDepth,i.endDepth);r+=s}),r}calculate(e,r,i,a){let s=Gr.toMinutes(e),R=this.depthConverter.toBar(i)*r,oe=this.depthConverter.toBar(a)*r;if(R<=this.minPressure&&oe<=this.minPressure)return 0;R<=this.minPressure?(s=s*(oe-this.minPressure)/(oe-R),R=.501):oe<=this.minPressure&&(s=s*(R-this.minPressure)/(R-oe),oe=.501);const Ce=R+oe-1;return Math.pow(Ce,5/6)*(1-5*Math.pow(oe-R,2)/216/Math.pow(Ce,2))*s}}return t})();class jHe{constructor(n,e,r){this.startDepth=n,this.endDepth=e,this.duration=r}get minDepth(){return Math.min(this.startDepth,this.endDepth)}get maxDepth(){return Math.max(this.startDepth,this.endDepth)}get isDescent(){return this.startDepth<this.endDepth}get isFlat(){return this.startDepth===this.endDepth}get isAscent(){return this.startDepth>this.endDepth}timeAt(n){const e=A2.speed(this.startDepth,this.endDepth,this.duration),r=A2.timeAt(this.startDepth,e,n);return Sn.round(r)}}class YHe{constructor(n){this.simpleDepths=c2.simple(),this.events=new hU,this.elapsed=0,this.index=0,this.fixedMnd=!0,this.profile=n.profile,this.options=n.profileOptions,this.startAscentIndex=n.startAscentIndex,this.maxDensity=n.maxDensity,this.exactDepths=new ku(this.options).create(),this.levels=new Lv(this.exactDepths,this.options),this.densityAtDepth=new YM(this.exactDepths),this.speeds=new vU(this.options);const e=Ns.fromCollection(this.profile);this.speeds.markAverageDepth(e),this.maxDepth=e.maxDepth,this._mndBars=this.simpleDepths.toBar(this.options.maxEND)}get previous(){return this.index>0?this.profile[this.index-1]:null}get isBeforeDecoAscent(){return this.index<this.startAscentIndex}get maxPpo(){return this.isBeforeDecoAscent?this.options.maxPpO2:this.options.maxDecoPpO2}get current(){return this.profile[this.index]}get switchingGas(){return!!this.previous&&!this.current.gas.compositionEquals(this.previous.gas)}get switchingTank(){return!!this.previous&&!!this.previous.tank&&!!this.current.tank&&this.previous.tank!==this.current.tank}get maxMnd(){return this._mndBars}get currentEndTime(){return this.elapsed+this.current.duration}get atSafetyStop(){return this.index===this.profile.length-2&&this.levels.addSafetyStop(this.current.startDepth,this.maxDepth)}gasEnd(n){return this.current.gas.end(n,this.options.oxygenNarcotic)}addElapsed(){this.elapsed=this.currentEndTime}}class XM{static fromProfile(n){const e=new YHe(n),r=new ZHe(e.events,e.current);for(e.index=0;e.index<n.profile.length;e.index++){const i=this.toPressureSegment(e.current,e.simpleDepths);this.addHighPpO2(e,i),this.addLowPpO2(e,i),this.addGasSwitch(e),this.addUserTankSwitch(e),this.addHighDescentSpeed(e),this.addHighAscentSpeed(e),this.addSwitchHighN2(e),this.addMndExceeded(e,i),this.addDensityExceeded(e),this.addSafetyStop(e),r.assignSegment(e.current),XM.addBrokenCeiling(r,n.ceilings),e.addElapsed()}return e.events}static addHighAscentSpeed(n){const e=n.current;let r=Gr.toSeconds(e.speed);if(r=Sn.roundTwoDecimals(r),-r>n.speeds.ascent(e.startDepth)){const i=l2.createHighAscentSpeed(n.elapsed,e.startDepth);n.events.add(i)}}static addHighDescentSpeed(n){const e=n.current;if(Gr.toSeconds(e.speed)>n.options.descentSpeed){const i=l2.createHighDescentSpeed(n.elapsed,e.startDepth);n.events.add(i)}}static addGasSwitch(n){if(n.switchingGas){const e=n.current,r=l2.createGasSwitch(n.elapsed,e.startDepth,e.gas);n.events.add(r)}}static addUserTankSwitch(n){if(n.switchingTank){const e=n.current,r=l2.createGasSwitch(n.elapsed,e.startDepth,e.gas);n.events.add(r)}}static toPressureSegment(n,e){const r=e.toBar(n.startDepth),i=e.toBar(n.endDepth);return new jHe(r,i,n.duration)}static addHighPpO2(n,e){if(e.isDescent||n.isBeforeDecoAscent&&n.switchingGas){const r=n.current.gas.mod(n.maxPpo);if(e.maxDepth>r){let i=e.startDepth,a=n.elapsed;e.startDepth<r&&(i=r,a+=e.timeAt(i));const s=n.simpleDepths.fromBar(i),l=l2.createHighPpO2(a,s);n.events.add(l)}}}static addLowPpO2(n,e){const r=n.current,i=r.gas.ceiling(n.simpleDepths.surfacePressure);if(e.minDepth<i&&n.switchingGas||e.startDepth>i&&i>e.endDepth&&e.isAscent||0===r.startDepth&&e.startDepth<i&&e.isDescent){let s=e.startDepth,l=n.elapsed;e.startDepth>i&&(s=i,l+=e.timeAt(s));const M=n.simpleDepths.fromBar(s),R=l2.createLowPpO2(l,M);n.events.add(R)}}static addBrokenCeiling(n,e){for(;n.lastCeilingIndex<n.currentSegmentEndTime&&n.lastCeilingIndex<e.length-1;){const r=e[n.lastCeilingIndex];n.lastCeilingIndex++,this.addNdlEnd(n,r);const i=n.belowCeiling(r);if(!i&&n.fixedBrokenCeiling){const a=l2.createBrokenCeiling(r.time,r.depth);n.events.add(a),n.fixedBrokenCeiling=!1;break}if(i&&!n.fixedBrokenCeiling&&(n.fixedBrokenCeiling=!0),r.time>n.currentSegmentEndTime)break}}static addNdlEnd(n,e){if(!n.ndlCeilingMarked&&e.depth>0){n.ndlCeilingMarked=!0;const i=n.current.depthAt(e.time-n.currentSegmentStartTime),a=l2.createNoDecoEnd(e.time,i);n.events.add(a)}}static addSwitchHighN2(n){const e=n.current,r=n.previous;if(n.switchingGas&&r&&r.gas.fHe>0&&5*(e.gas.fN2-r.gas.fN2)>-(e.gas.fHe-r.gas.fHe)){const s=l2.createSwitchToHigherN2(n.elapsed,e.startDepth,e.gas);n.events.add(s)}}static addMndExceeded(n,e){const r=n.current,i=n.gasEnd(e.startDepth),a=n.gasEnd(e.endDepth);if(n.maxMnd<i&&n.fixedMnd||n.maxMnd<a&&n.fixedMnd){const M=$3.xValueAtAbsolute({start:n.elapsed,end:n.elapsed+r.duration},{start:i,end:a},n.maxMnd),R=r.depthAt(M);this.addMndEvent(n,M,R)}n.fixedMnd=a<=n.maxMnd}static addMndEvent(n,e,r){const a=l2.createMaxEndExceeded(e,r,n.current.gas);n.events.add(a),n.fixedMnd=!0}static addDensityExceeded(n){const e=n.current,r=e.gas,a=e.endDepth,s=e.endDepth>e.startDepth,l=n.switchingGas,M=n.densityAtDepth.atDepth(r,e.startDepth),R=n.densityAtDepth.atDepth(r,a);if(l&&M>n.maxDensity||s&&R>n.maxDensity){const We=$3.xValueAtAbsolute({start:n.elapsed,end:n.elapsed+e.duration},{start:M,end:R},n.maxDensity),rt=e.depthAt(We),bt=l2.createHighDensity(We,rt,e.gas);n.events.add(bt)}}static addSafetyStop(n){const e=n.current;if(n.atSafetyStop&&e.duration>=Gr.safetyStopDuration){const i=l2.createSafetyStopStart(n.elapsed+e.duration-Gr.safetyStopDuration,e.endDepth);n.events.add(i)}}}class ZHe{constructor(n,e){this.events=n,this.lastCeilingIndex=0,this.currentSegmentStartTime=0,this.currentSegmentEndTime=0,this.fixedBrokenCeiling=!0,this.ndlCeilingMarked=!1,this._current=e}get current(){return this._current}assignSegment(n){this.currentSegmentStartTime=this.currentSegmentEndTime,this.currentSegmentEndTime=this.currentSegmentStartTime+n.duration,this._current=n}belowCeiling(n){return this._current.depthAt(n.time-this.currentSegmentStartTime)>=n.depth}}class XHe{constructor(n){this.depthConverter=n}calculateSac(n,e,r,i){const a=this.depthConverter.toBar(n);return Sn.ceilTwoDecimals(e*r/i/a)}calculateDuration(n,e,r,i){const a=this.depthConverter.toBar(n);return Sn.ceil(e*r/i/a)}calculateUsed(n,e,r,i){const a=this.depthConverter.toBar(n);return Sn.ceil(r*a*i/e)}}class KHe{get name(){return"Metric"}get lengthShortcut(){return"m"}get pressureShortcut(){return"bar"}get volumeShortcut(){return"l"}get weightShortcut(){return"kg"}get altitudeShortcut(){return"m.a.s.l"}get densityShortcut(){return"g/l"}toMeters(n){return n}fromMeters(n){return n}toBar(n){return n}fromBar(n){return n}toLiter(n){return n}fromLiter(n){return n}fromTankLiters(n){return n}toTankLiters(n){return n}fromGramPerLiter(n){return n}fromKilogram(n){return n}toKilogram(n){return n}}class io{static#e=this.psiRate=14.503773773022;static#t=this.cftRate=28.316846592;static#n=this.lbRate=2.20462262185;static#r=this.footRate=.3048;static#i=this.poundRate=.00220462262;static#a=this.lbPerCuftRate=io.poundRate*io.cftRate;get name(){return"Imperial"}get lengthShortcut(){return"ft"}get pressureShortcut(){return"psi"}get volumeShortcut(){return"cuft"}get weightShortcut(){return"lb"}get altitudeShortcut(){return"ft.a.s.l"}get densityShortcut(){return"lb/cuft"}toMeters(n){return n*io.footRate}fromMeters(n){return n/io.footRate}toBar(n){return n/io.psiRate}fromBar(n){return n*io.psiRate}toLiter(n){return n*io.cftRate}fromLiter(n){return n/io.cftRate}fromTankLiters(n,e){return this.fromLiter(n)*e}toTankLiters(n,e){return this.toLiter(n)/e}fromGramPerLiter(n){return n*io.lbPerCuftRate}fromKilogram(n){return n*io.lbRate}toKilogram(n){return n/io.lbRate}}let QHe=(()=>{class t{static#e=this.airDensity=1.225;static tankVolumeWeight(e){return t.volumeWeight(e.size*e.consumed)}static volumeWeight(e){return e*t.airDensity/1e3}}return t})();var kv=function(t){return t[t.ALL=1]="ALL",t[t.HALF=2]="HALF",t[t.THIRD=3]="THIRD",t}(kv||{});class JHe{constructor(n,e,r){this.units=n,this.segment=e,this.tankBound=r}get duration(){return Gr.toMinutes(this.segment.duration)}get startDepth(){return this.units.fromMeters(this.segment.startDepth)}get endDepth(){return this.units.fromMeters(this.segment.endDepth)}get tank(){return this.tankBound}get tankLabel(){return this.tank.label}set duration(n){this.segment.duration=Gr.toSeconds(n)}set endDepth(n){const e=this.units.toMeters(n);this.segment.endDepth=e}set tank(n){this.segment.tank=n.tank,this.tankBound=n}}class Vv{constructor(n=new Vu,e=new Zd){this.options=n,this.diver=e}get maxPpO2(){return this.options.maxPpO2}get maxDecoPpO2(){return this.options.maxDecoPpO2}get rmv(){return this.diver.rmv}set maxPpO2(n){this.options.maxPpO2=n}set maxDecoPpO2(n){this.options.maxDecoPpO2=n}set rmv(n){this.diver.rmv=n}loadFrom(n){this.rmv=n.rmv,this.maxPpO2=n.maxPpO2,this.maxDecoPpO2=n.maxDecoPpO2}gasSac(n){return this.diver.gasSac(n)}}class yc{constructor(n,e){this.tank=n,this.units=e,this._workingPressure=this.units.toBar(this.units.defaults.tanks.primary.workingPressure)}get id(){return this.tank.id}get size(){return this.units.fromTankLiters(this.tank.size,this._workingPressure)}get startPressure(){return this.units.fromBar(this.tank.startPressure)}get workingPressure(){return this.units.fromBar(this._workingPressure)}get workingPressureBars(){return this._workingPressure}get o2(){return this.tank.o2}get he(){return this.tank.he}get n2(){return this.tank.n2}get label(){let n=this.units.fromTankLiters(this.tank.size,this._workingPressure);n=Sn.round(n,1);let e=this.units.fromBar(this.tank.startPressure);return e=Sn.round(e,1),`${this.tank.id}. ${this.tank.name}/${n}/${e}`}set id(n){this.tank.id=n}set size(n){this.tank.size=this.units.toTankLiters(n,this._workingPressure)}set startPressure(n){this.tank.startPressure=this.units.toBar(n)}set workingPressure(n){if(isNaN(n))return;const e=this.size;this._workingPressure=this.units.toBar(n),this.size=e}set workingPressureBars(n){if(isNaN(n))return;const e=this.size;this._workingPressure=n,this.size=e}set o2(n){this.tank.o2=n}set he(n){this.tank.he=n}assignTemplate(n){this.workingPressure=n.workingPressure,this.size=n.size}assignStandardGas(n){this.tank.assignStandardGas(n)}}var L1=function(t){return t[t.hover=0]="hover",t[t.ascent=1]="ascent",t[t.descent=2]="descent",t[t.switch=3]="switch",t}(L1||{});class Ev{constructor(n,e,r,i=0){this.units=n,this.duration=e,this.selected=!1,this.startTime=0,this.endTime=0,this._startDepth=0,this._endDepth=0,this.speed=0,this.action=L1.hover,this._gasName="",this.endTime=Sn.roundTwoDecimals(e),this._endDepth=r,this._startDepth=i,this.updateSwimAction()}get gasName(){return this._gasName}get startDepth(){return this.units.fromMeters(this._startDepth)}get startDepthMeters(){return this._startDepth}get endDepth(){return this.units.fromMeters(this._endDepth)}get endDepthMeters(){return this._endDepth}get swimAction(){return this.action}static fromSegment(n,e){const r=new Ev(n,e.duration,e.endDepth),i=si.nameFor(e.gas.fO2,e.gas.fHe);return r._gasName=i,r.speed=e.speed,r}asGasSwitch(){this.action=L1.switch}toLevel(n){const e=Ev.fromSegment(this.units,n);return e.startTime=this.endTime,e.endTime=Sn.roundTwoDecimals(this.endTime+n.duration),e._startDepth=this._endDepth,e.updateSwimAction(),e}fits(n){return this.startTime<=n&&n<this.endTime}depthAt(n){return A2.depthAt(this._startDepth,this.speed,n)}updateSwimAction(){this.action=L1.hover,this._startDepth<this._endDepth&&(this.action=L1.descent),this._startDepth>this._endDepth&&(this.action=L1.ascent)}}let oi=(()=>{class t{constructor(){this._imperialUnits=!1,this._ranges=t.createMetricRanges(),this.ranges$=new it(this.ranges),this._defaults=new yU}get ranges(){return this._ranges}get defaults(){return this._defaults}get length(){return this.current.lengthShortcut}get pressure(){return this.current.pressureShortcut}get volume(){return this.current.volumeShortcut}get weight(){return this.current.weightShortcut}get altitude(){return this.current.altitudeShortcut}get speed(){return this.length+w0}get sac(){return this.pressure+w0}get rmv(){return this.volume+w0}get density(){return this.current.densityShortcut}get imperialUnits(){return this._imperialUnits}get current(){return this.ranges.units}set imperialUnits(e){this._imperialUnits=e,this._imperialUnits?(this._ranges=t.createImperial(),this._defaults=new f1):(this._ranges=t.createMetricRanges(),this._defaults=new yU),this.ranges$.next(this.ranges)}static createMetricRanges(){return new qHe}static createImperial(){return new eLe}toLiter(e){return this.current.toLiter(e)}fromLiter(e){return this.current.fromLiter(e)}toMeters(e){return this.current.toMeters(e)}fromMeters(e){return this.current.fromMeters(e)}toBar(e){return this.current.toBar(e)}fromBar(e){return this.current.fromBar(e)}fromTankLiters(e,r){return this.current.fromTankLiters(e,r)}toTankLiters(e,r){return this.current.toTankLiters(e,r)}fromGramPerLiter(e){return this.current.fromGramPerLiter(e)}fromKilogram(e){return this.current.fromKilogram(e)}toKilogram(e){return this.current.toKilogram(e)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})();const w0="/min",Va=(t,n)=>`${t[0]} - ${t[1]} ${n}`;class qHe{constructor(){this.units=new KHe,this.altitude=[0,5e3],this.altitudeLevels=[0,300,800,1500],this.altitudeLabel=Va(this.altitude,this.units.altitudeShortcut),this.altitudePressure=[.7,1.2],this.consumed=[0,350],this.consumedLabel=Va(this.consumed,this.units.pressureShortcut),this.depth=[0,350],this.depthLabel=Va(this.depth,this.units.lengthShortcut),this.diverRmv=[5,90],this.diverRmvLabel=Va(this.diverRmv,this.units.volumeShortcut+w0),this.duration=[1,1440],this.durationLabel=Va(this.duration,"min"),this.narcoticDepth=[1,100],this.narcoticDepthLabel=Va(this.narcoticDepth,this.units.lengthShortcut),this.nitroxOxygen=[21,100],this.nitroxOxygenLabel=Va(this.nitroxOxygen,"%"),this.lastStopDepth=[3,6],this.lastStopDepthLabel=Va(this.lastStopDepth,this.units.lengthShortcut),this.ppO2=[.21,3],this.rmvRounding=2,this.tankHe=[0,99],this.tankHeLabel=Va(this.tankHe,"%"),this.tankPressure=[1,350],this.tankPressureLabel=Va(this.tankPressure,this.units.pressureShortcut),this.tankSize=[1,50],this.tankSizeLabel=Va(this.tankSize,this.units.volumeShortcut),this.trimixOxygen=[1,100],this.trimixOxygenLabel=Va(this.trimixOxygen,"%"),this.speed=[.1,100],this.speedLabel=Va(this.speed,this.units.lengthShortcut+w0)}}class eLe{constructor(){this.units=new io,this.altitude=[0,16500],this.altitudeLevels=[0,1e3,2600,5e3],this.altitudeLabel=Va(this.altitude,this.units.altitudeShortcut),this.altitudePressure=[10,18],this.consumed=[0,5100],this.consumedLabel=Va(this.consumed,this.units.pressureShortcut),this.depth=[0,1150],this.depthLabel=Va(this.depth,this.units.lengthShortcut),this.diverRmv=[.17,3.178],this.diverRmvLabel=Va(this.diverRmv,this.units.volumeShortcut+w0),this.duration=[1,1440],this.durationLabel=Va(this.duration,"min"),this.narcoticDepth=[1,300],this.narcoticDepthLabel=Va(this.narcoticDepth,this.units.lengthShortcut),this.nitroxOxygen=[21,100],this.nitroxOxygenLabel=Va(this.nitroxOxygen,"%"),this.lastStopDepth=[10,20],this.lastStopDepthLabel=Va(this.lastStopDepth,this.units.lengthShortcut),this.ppO2=[.21,3],this.rmvRounding=4,this.tankHe=[0,99],this.tankHeLabel=Va(this.tankHe,"%"),this.tankPressure=[1,5100],this.tankPressureLabel=Va(this.tankPressure,this.units.pressureShortcut),this.tankSize=[1,300],this.tankSizeLabel=Va(this.tankSize,this.units.volumeShortcut),this.trimixOxygen=[1,100],this.trimixOxygenLabel=Va(this.trimixOxygen,"%"),this.speed=[1,300],this.speedLabel=Va(this.speed,this.units.lengthShortcut+w0)}}class _0{constructor(n,e){this.gfLow=n,this.gfHeigh=e}}let MU=(()=>{class t{constructor(){this.lowName="Low (45/95)",this.mediumName="Medium (40/85)",this.highName="High (30/75)",this.empty=new _0(1,1),this.gfMap=new Map,this.gfMap.set(this.lowName,new _0(.45,.95)),this.gfMap.set(this.mediumName,new _0(Kr.gfLow,Kr.gfHigh)),this.gfMap.set(this.highName,new _0(.3,.75))}labelFor(e,r){for(const i of this.gfMap.keys()){const a=this.gfMap.get(i)||this.empty;if(a.gfLow===e&&a.gfHeigh===r)return i}return""}get(e){return this.gfMap.get(e)||this.empty}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})();class Po{static debug(n){}static warn(n){}}let B1=(()=>{class t{constructor(){this.onTanksReloaded=new dt,this.onTankChanged=new dt,this.onTankRemoved=new dt,this.onDepthsReloaded=new dt,this.onDepthChanged=new dt,this.onOptionsReloaded=new dt,this.onOptionsChanged=new dt,this.onSelectedChanged=new dt,this.onInfoCalculated=new dt,this.onWayPointsCalculated=new dt,this.onSetToSimple=new dt,this.tanksReloaded$=this.onTanksReloaded.asObservable(),this.tankRemoved$=this.onTankRemoved.asObservable(),this.tankChanged$=this.onTankChanged.asObservable(),this.depthsReloaded$=this.onDepthsReloaded.asObservable(),this.depthChanged$=this.onDepthChanged.asObservable(),this.optionsReloaded$=this.onOptionsReloaded.asObservable(),this.optionsChanged$=this.onOptionsChanged.asObservable(),this.selectedChanged$=this.onSelectedChanged.asObservable(),this.infoCalculated$=this.onInfoCalculated.asObservable(),this.wayPointsCalculated$=this.onWayPointsCalculated.asObservable(),this.setToSimple$=this.onSetToSimple.asObservable()}sendTanksReloaded(e){Po.debug("Tanks reloaded"),this.onTanksReloaded.next(e)}sendTanksRemoved(e){Po.debug("Tank removed"),this.onTankRemoved.next(e)}sendTankChanged(){Po.debug("Tank changed"),this.onTankChanged.next()}sendDepthChanged(){Po.debug("Depth changed"),this.onDepthChanged.next()}sendOptionsReloaded(e){Po.debug("Options reloaded"),this.onOptionsReloaded.next(e)}sendOptionsChanged(){Po.debug("Options changed"),this.onOptionsChanged.next()}sendSelectedChanged(e){Po.debug(`Selected dive changed to ${e}`),this.onSelectedChanged.next()}sendDepthsReloaded(e){Po.debug("Depths reloaded"),this.onDepthsReloaded.next(e)}sendWayPointsCalculated(e){this.onWayPointsCalculated.next(e)}sendInfoCalculated(e){this.onInfoCalculated.next(e)}sendSetSimple(){this.onSetToSimple.next()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})(),Nv=(()=>{class t{static#e=this.minimumSpeed=.1;constructor(e,r){this.units=e,this.dispatcher=r,this.safetyOffName="Never",this.safetyOnName="Always",this.standardGradients=new MU,this.options=new Vu,this._diver=new Zd,this._toxicity=new Kd(this.options),this.options.salinity=ro.fresh,this.options.safetyStop=gc.auto}get toxicity(){return this._toxicity}get diverOptions(){return new Vv(this.options,this._diver)}get maxEND(){return this.units.fromMeters(this.options.maxEND)}get lastStopDepth(){return this.units.fromMeters(this.options.lastStopDepth)}get descentSpeed(){return this.units.fromMeters(this.options.descentSpeed)}get ascentSpeed6m(){return this.units.fromMeters(this.options.ascentSpeed6m)}get ascentSpeed50percTo6m(){return this.units.fromMeters(this.options.ascentSpeed50percTo6m)}get ascentSpeed50perc(){return this.units.fromMeters(this.options.ascentSpeed50perc)}get altitude(){return this.units.fromMeters(this.options.altitude)}get gasSwitchDuration(){return this.options.gasSwitchDuration}get gfLow(){return this.options.gfLow}get gfHigh(){return this.options.gfHigh}get maxDecoPpO2(){return this.options.maxDecoPpO2}get maxPpO2(){return this.options.maxPpO2}get oxygenNarcotic(){return this.options.oxygenNarcotic}get problemSolvingDuration(){return this.options.problemSolvingDuration}get roundStopsToMinutes(){return this.options.roundStopsToMinutes}get safetyStop(){return this.options.safetyStop}get salinity(){return this.options.salinity}get safetyAutoName(){return`Auto (> ${this.units.defaults.autoStopLevel} ${this.units.length})`}get safetyStopOption(){switch(this.options.safetyStop){case gc.never:return this.safetyOffName;case gc.always:return this.safetyOnName;default:return this.safetyAutoName}}set maxEND(e){this.options.maxEND=this.units.toMeters(e)}set lastStopDepth(e){this.options.lastStopDepth=this.units.toMeters(e)}set descentSpeed(e){const r=this.units.toMeters(e);r<t.minimumSpeed||(this.options.descentSpeed=r)}set ascentSpeed6m(e){const r=this.units.toMeters(e);r<t.minimumSpeed||(this.options.ascentSpeed6m=r)}set ascentSpeed50percTo6m(e){const r=this.units.toMeters(e);r<t.minimumSpeed||(this.options.ascentSpeed50percTo6m=r)}set ascentSpeed50perc(e){const r=this.units.toMeters(e);r<t.minimumSpeed||(this.options.ascentSpeed50perc=r)}set altitude(e){this.options.altitude=this.units.toMeters(e)}set gasSwitchDuration(e){this.options.gasSwitchDuration=e}set gfLow(e){this.options.gfLow=e}set gfHigh(e){this.options.gfHigh=e}set maxDecoPpO2(e){this.options.maxDecoPpO2=e}set maxPpO2(e){this.options.maxPpO2=e}set oxygenNarcotic(e){this.options.oxygenNarcotic=e}set problemSolvingDuration(e){this.options.problemSolvingDuration=e}set roundStopsToMinutes(e){this.options.roundStopsToMinutes=e}set safetyStop(e){this.options.safetyStop=e}set salinity(e){this.options.salinity=e}useRecreational(){this.applyValues(this.units.defaults.recreationalOptions)}useRecommended(){this.applyValues(this.units.defaults.recommendedOptions)}useSafetyOff(){this.options.safetyStop=gc.never}useSafetyAuto(){this.options.safetyStop=gc.auto}useSafetyOn(){this.options.safetyStop=gc.always}loadFrom(e,r){this.options.loadFrom(e);const i=new Vv(e,r);this.applyDiver(i),this.dispatcher.sendOptionsReloaded(this)}applyDiver(e){this.diverOptions.loadFrom(e)}resetToSimple(){""===this.standardGradients.labelFor(this.gfLow,this.gfHigh)&&Kr.setMediumConservatism(this.options)}getOptions(){return this.options}getDiver(){return this._diver}applyValues(e){this.options.ascentSpeed50perc=this.units.toMeters(e.ascentSpeed50perc),this.options.ascentSpeed50percTo6m=this.units.toMeters(e.ascentSpeed50percTo6m),this.options.ascentSpeed6m=this.units.toMeters(e.ascentSpeed6m),this.options.descentSpeed=this.units.toMeters(e.descentSpeed),this.options.lastStopDepth=this.units.toMeters(e.lastStopDepth),this.options.maxEND=this.units.toMeters(e.maxEND),Kr.useGeneralRecommended(this.options)}static#t=this.\u0275fac=function(r){return new(r||t)(pn(oi),pn(B1))};static#n=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})(),KM=(()=>{class t{constructor(e,r){this.units=e,this.dispatcher=r,this._tanks=[];const i=this.units.defaults.tanks;this.addTankBy(i.primary.size,i.primary.workingPressure)}get defaults(){return this.units.defaults}get tanks(){return this._tanks.slice()}get firstTank(){return this._tanks[0]}get singleTank(){return 1===this._tanks.length}get enoughGas(){return Eu.haveReserve(this.tankData)}get tankData(){return no()(this._tanks).map(e=>e.tank).value()}addTank(){const e=this.units.defaults.tanks;this.addTankBy(e.stage.size,e.stage.workingPressure),this.dispatcher.sendTankChanged()}removeTank(e){this._tanks=this._tanks.filter(r=>r!==e),this.renumberIds(),this.dispatcher.sendTanksRemoved(e.tank)}loadFrom(e){if(e.length>0){const r=[];for(let i=0;i<e.length;i++)this.addTankFor(r,e[i]);this._tanks=r}this.dispatcher.sendTanksReloaded(this)}copyTanksConsumption(e){for(let r=0;r<this.tanks.length;r++){const i=e[r],a=this.tanks[r];a.tank.consumed=i.consumed,a.tank.reserve=i.reserve}}calculateTurnPressure(){return this.firstTank.startPressure-Sn.floor(this.firstTank.tank.consumed/2)}resetToSimple(){this._tanks=this._tanks.slice(0,1),this.firstTank.he>0&&this.firstTank.tank.assignStandardGas(si.airName)}firstBy(e){return no()(this._tanks).find(r=>r.tank===e)}addTankBy(e,r){const i=Ba.createDefault(),a=this.addTankFor(this._tanks,i);a.workingPressure=r,a.size=e}addTankFor(e,r){const i=new yc(r,this.units);return e.push(i),i.id=e.length,i}renumberIds(){for(let e=0;e<this._tanks.length;e++)this._tanks[e].id=e+1}static#e=this.\u0275fac=function(r){return new(r||t)(pn(oi),pn(B1))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})(),QM=(()=>{class t{constructor(){this.noDecoTime=0,this.maxTime=0,this.timeToSurface=0,this.turnPressure=0,this.turnTime=0,this.needsReturn=!1,this.notEnoughGas=!1,this.notEnoughTime=!1,this.planDuration=0,this.emergencyAscentStart=0,this.averageDepth=0,this.otu=0,this.cns=0,this.highestDensity=Xd.createDefault(),this.wayPoints=[],this.ceilings=[],this.finalTissues=[],this.events=[],this._calculatingProfile=!1,this._calculatingDiveInfo=!1,this._calculatingConsumption=!1,this._profileCalculated=!1,this._diveInfoCalculated=!1,this._consumptionCalculated=!1,this._calculationFailed=!1}static#e=this.maxAcceptableNdl=1e3;get diveInfoCalculated(){return this._diveInfoCalculated}get calculated(){return this._consumptionCalculated&&this.diveInfoCalculated}get running(){return!this.calculated||this._calculatingConsumption||this._calculatingDiveInfo}get profileCalculated(){return this._profileCalculated}get failed(){return this._calculationFailed}get totalDuration(){return 0===this.wayPoints.length?0:this.wayPoints[this.wayPoints.length-1].endTime}get ndlValid(){return this._diveInfoCalculated&&this.noDecoTime<t.maxAcceptableNdl}get noDecoExceeded(){return this.planDuration>this.noDecoTime}get hasErrors(){return this.calculated&&(this.failed||this.notEnoughTime)}get showResults(){return this._consumptionCalculated&&!this.hasErrors}get otuExceeded(){return this.otu>.8*ZM.dailyLimit}get cnsExceeded(){return this.cns>80}get showMaxDuration(){return this._consumptionCalculated&&this.showMaxBottomTime}get showMaxBottomTime(){return this.maxTime>0}get hasErrorEvent(){return this.hasErrors||this.notEnoughGas}get hasWarningEvent(){return this.otuExceeded||this.cnsExceeded||!this.events.every(e=>{switch(e.type){case Ei.lowPpO2:case Ei.highPpO2:case Ei.highAscentSpeed:case Ei.highDescentSpeed:case Ei.brokenCeiling:case Ei.switchToHigherN2:case Ei.maxEndExceeded:case Ei.highGasDensity:return!1;default:return!0}})}get endsOnSurface(){const e=this.wayPoints.length;return e>0&&0===this.wayPoints[e-1].endDepthMeters}start(){this._calculatingConsumption=!0,this._calculatingProfile=!0,this._calculatingDiveInfo=!0,this._calculationFailed=!1}showStillRunning(){this._calculatingProfile&&(this._profileCalculated=!1,this.emptyProfile()),this._calculatingDiveInfo&&(this._diveInfoCalculated=!1),this._calculatingConsumption&&(this._consumptionCalculated=!1)}profileFinished(){this._profileCalculated=!0,this._calculatingProfile=!1}diveInfoFinished(){this._diveInfoCalculated=!0,this._calculatingDiveInfo=!1}consumptionFinished(){this._consumptionCalculated=!0,this._calculatingConsumption=!1}endFailed(){this.profileFinished(),this.diveInfoFinished(),this.consumptionFinished(),this.emptyProfile(),this._calculationFailed=!0}emptyProfile(){this.wayPoints=[],this.ceilings=[],this.events=[]}static#t=this.\u0275fac=function(r){return new(r||t)};static#n=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})();class Pu{static#e=this.defaultDuration=10*Gr.oneMinute;constructor(){this.strategy=kv.ALL,this._segments=new Ns}get length(){return this._segments.length}get minimumSegments(){return this.length>1}get notEnoughTime(){return 2===this.length&&0===this.segments[1].duration}get segments(){return this._segments.items}get maxDepth(){return this._segments.maxDepth}get startAscentIndex(){return this._segments.startAscentIndex}get startAscentTime(){return this._segments.startAscentTime}get duration(){return Gr.toMinutes(this._segments.duration)}get availablePressureRatio(){return this.strategy===kv.THIRD?2/3:1}get needsReturn(){return this.strategy!==kv.ALL}copySegments(){return this._segments.copy()}setSimple(n,e,r,i){this.reset(n,e,r,i)}assignDepth(n,e,r){this._segments=Yl.createPlan(n,this.duration,e,r)}assignDuration(n,e,r){this._segments=Yl.createPlan(this.maxDepth,n,e,r)}addSegment(n){const e=this._segments.last();this._segments.add(e.endDepth,n.gas,Pu.defaultDuration).tank=n}removeSegment(n){this._segments.remove(n)}fixDepths(){this._segments.fixStartDepths()}loadFrom(n){n.length<=1||(this._segments=Ns.fromCollection(n))}resetSegments(n,e){this.segments.forEach(r=>{r.tank===n&&(r.tank=e)})}reset(n,e,r,i){this._segments=Yl.createPlan(n,e,r,i)}static#t=this.\u0275fac=function(e){return new(e||Pu)};static#n=this.\u0275prov=In({token:Pu,factory:Pu.\u0275fac})}let H2=(()=>{class t{constructor(){this.unsubscribe$=new dt}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})(),xU=(()=>{class t extends H2{constructor(e,r,i,a,s){if(super(),this.units=e,this.tanksService=r,this.dive=i,this.optionsService=a,this.dispatcher=s,this._levels=[],this.plan=new Pu,this.toxicity=this.optionsService.toxicity,0===this.plan.maxDepth){let l=10*this.units.defaults.stopsDistance;l=this.units.toMeters(l);const M=this.optionsService.getOptions();this.plan.setSimple(l,12,this.firstTank,M)}this.dispatcher.tankRemoved$.pipe(di(this.unsubscribe$)).subscribe(l=>this.tankRemoved(l)),this.updateLevels()}get levels(){return this._levels}get segments(){return this.plan.segments}get bestNitroxMix(){const e=this.toxicity.bestNitroxMix(this.plan.maxDepth)/100;return si.nameFor(e)}get plannedDepth(){return this.units.fromMeters(this.plannedDepthMeters)}get plannedDepthMeters(){return this.plan.maxDepth}get planDuration(){return this.plan.duration}get notEnoughTime(){return this.plan.notEnoughTime}get startAscentTime(){return this.plan.startAscentTime}get needsReturn(){return this.plan.needsReturn}get startAscentIndex(){return this.plan.startAscentIndex}get minimumSegments(){return this.plan.minimumSegments}get firstTank(){return this.tanksService.firstTank.tank}set plannedDepth(e){const r=this.units.toMeters(e);this.assignDepth(r),this.levelChanged()}set planDuration(e){this.plan.assignDuration(e,this.firstTank,this.optionsService.getOptions()),this.updateLevels(),this.apply()}addSegment(){this.addSegmentToPlan(),this.updateLevels(),this.levelChanged()}removeSegment(e){this.plan.removeSegment(e.segment),this.updateLevels(),this.levelChanged()}applyMaxDuration(){this.planDuration=this.dive.maxTime}applyNdlDuration(){this.planDuration=this.dive.noDecoTime}applyMaxDepth(){let e=this.toxicity.maxDepth(this.firstTank),r=this.units.fromMeters(e);r=Sn.floor(r,1),e=this.units.toMeters(r),this.assignDepth(e),this.levelChanged()}levelChanged(){this.plan.fixDepths(),this.apply()}assignTank(e,r){e.tank=r,this.apply()}loadFrom(e){this.plan.loadFrom(e),this.depthsReloaded()}setSimple(){this.plan.setSimple(this.plan.maxDepth,this.plan.duration,this.firstTank,this.optionsService.getOptions()),this.updateLevels()}fixDepths(){this.plan.fixDepths()}assignDepth(e){const r=this.optionsService.getOptions();this.plan.assignDepth(e,this.firstTank,r),this.updateLevels()}addSegmentToPlan(){const e=this.plan.segments;this.plan.addSegment(e[e.length-1].tank)}apply(){this.dispatcher.sendDepthChanged()}tankRemoved(e){this.plan.resetSegments(e,this.firstTank),this.dispatcher.sendDepthChanged()}updateLevels(){const r=[];this.plan.segments.forEach(i=>{const s=this.tanksService.firstBy(i.tank),l=new JHe(this.units,i,s);r.push(l)}),this._levels=r}depthsReloaded(){this.updateLevels(),this.dispatcher.sendDepthsReloaded(this)}static#e=this.\u0275fac=function(r){return new(r||t)(pn(oi),pn(KM),pn(QM),pn(Nv),pn(B1))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})();class z1{static selectChartTimeFormat(n){return z1.hasHoursRuntime(n)?"%H:%M:%S":"%M:%S"}static selectTimeFormat(n){return z1.hasHoursRuntime(n)?"mm:ss":"m:ss"}static toDate(n){return new Date(1970,1,1,0,0,n,0)}static secondsFromDate(n){const e=new Date(n);let r=e.getSeconds();return r+=e.getMinutes()*Gr.oneMinute,r+=e.getHours()*Gr.oneHour,r}static parseToShortTime(n){if(!n)return null;const r=n.match(/(\d{2})[:](\d{2})/);return r?Number(r[1])*Gr.oneHour+Number(r[2])*Gr.oneMinute:null}static formatShortTime(n){const r=Sn.floor(n/Gr.oneHour).toString().padStart(2,"0");let i=n%Gr.oneHour/Gr.oneMinute;return i=Sn.floor(i),`${r}:${i.toString().padStart(2,"0")}`}static hasHoursRuntime(n){return Gr.toHours(n)>=1}}class tLe{constructor(n,e,r){this._index=n,this.units=e,this.dispatcher=r,this._id=0,this._surfaceInterval=Number.POSITIVE_INFINITY,this._diveResult=new QM,this.assignIndex(n),this._tanks=new KM(e,r),this._optionsService=new Nv(this.units,this.dispatcher),this._depths=new xU(this.units,this.tanksService,this._diveResult,this._optionsService,this.dispatcher)}get index(){return this._index}get id(){return this._id}get isFirst(){return 1===this.id}get surfaceInterval(){return this._surfaceInterval}get surfaceIntervalText(){return this.primary?null:z1.formatShortTime(this.surfaceInterval)}get primary(){return this.surfaceInterval===Number.POSITIVE_INFINITY}get tanksService(){return this._tanks}get diveResult(){return this._diveResult}get depths(){return this._depths}get optionsService(){return this._optionsService}get title(){return`${this.id}. ${this.depths.plannedDepth} ${this.units.length}, ${this.depths.planDuration} min`}set surfaceInterval(n){this.isFirst||n<0||(this._surfaceInterval=n,this.dispatcher.sendDepthChanged())}assignIndex(n){this._index=n,this._id=n+1}applyNitrox(n,e){this.tanksService.firstTank.tank.o2=n,this.optionsService.diverOptions.maxPpO2=e}setSimple(){this.optionsService.resetToSimple(),this.tanksService.resetToSimple(),this.depths.setSimple()}applyPrimarySurfaceInterval(){this.surfaceInterval=Number.POSITIVE_INFINITY}applyOneHourSurfaceInterval(){this.surfaceInterval=Gr.oneHour}apply30MinutesSurfaceInterval(){this.surfaceInterval=30*Gr.oneMinute}apply2HourSurfaceInterval(){this.surfaceInterval=2*Gr.oneHour}}let Ua=(()=>{class t{constructor(e,r){this.units=e,this.dispatcher=r,this._dives=[],this.add(),this._selected=this._dives[0]}get dives(){return this._dives.slice()}get selected(){return this._selected}get length(){return this._dives.length}get hasMany(){return this._dives.length>1}get empty(){return this.length<=1}get selectedTanks(){return this.selected.tanksService}get selectedResult(){return this.selected.diveResult}get selectedDepths(){return this.selected.depths}get selectedOptions(){return this.selected.optionsService}get selectedToxicity(){return this.selected.optionsService.toxicity}set selected(e){this._dives.includes(e)&&(this._selected=e,this.dispatcher.sendSelectedChanged(e.id))}setSelectedIndex(e){e>=0&&e<this._dives.length&&(this.selected=this._dives[e])}add(){const e=this.createDiveSchedule();return this._dives.push(e),this._selected=e,e}remove(e){this.empty||(this._dives=this._dives.filter(r=>r!==e),this.renumber(),this.selectPreviousDive(e),this.dispatcher.sendDepthChanged())}clear(){this._dives.splice(1,this._dives.length)}setSimple(){this._dives.forEach(e=>{e.setSimple()}),this.dispatcher.sendSetSimple()}validId(e){return this._dives[this._dives.length-1].id>=e&&e>0}byId(e){return no()(this.dives).filter(r=>r.id===e).first()}createDiveSchedule(){return new tLe(this.length,this.units,this.dispatcher)}renumber(){this._dives.forEach((e,r)=>{e.assignIndex(r)})}selectPreviousDive(e){const r=e.id-1;this._selected=this._dives[r>0?r-1:0]}static#e=this.\u0275fac=function(r){return new(r||t)(pn(oi),pn(B1))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})(),Bi=(()=>{class t{static#e=this.dashboard="dashboard";static#t=this.nitrox="nitrox";static#n=this.sac="sac";static#r=this.ndl="ndl";static#i=this.settings="settings";static#a=this.about="about";static#s=this.altitude="altitude";static#o=this.weight="weight";static#c=this.gas="gas";static#l=this.diff="diff";static#u=this.redundancies="redundancies";static#f=this.blender="blender"}return t})(),Ru=(()=>{class t{constructor(){this.states=new Map,this._lastView=Bi.dashboard,this._started=!1}get lastView(){return this._lastView}get started(){return this._started}get redirectToView(){return!this._started&&this._lastView!==Bi.dashboard&&"/"!==this._lastView}get all(){return[...this.states.values()]}get(e){return this.states.get(e)}set(e){this._started=!0,this.states.set(e.id,e),this._lastView=e.id}reset(){this.loadFrom({lastScreen:Bi.dashboard,states:[]})}loadFrom(e){!e||!e.states||(this._lastView=e.lastScreen,this.states.clear(),e.states.forEach(r=>{this.states.set(r.id,r)}))}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})(),wU=(()=>{class t{constructor(e,r,i){this.units=e,this.schedules=r,this.views=i}get ranges(){return this.units.ranges}apply(){this.schedules.dives.forEach(e=>{this.applyToOptions(e.optionsService),this.normalizeTanks(e.tanksService),this.normalizeSegments(e.depths)}),this.views.reset()}applyToOptions(e){e.diverOptions.rmv=this.fitUnit(a=>this.units.fromLiter(a),a=>this.units.toLiter(a),e.diverOptions.rmv,this.units.ranges.diverRmv,this.units.ranges.rmvRounding),this.applyOptionsCalculationValues(e),this.normalizeOptions(e)}applyOptionsCalculationValues(e){const r=this.units.defaults,i=e.getOptions();i.decoStopDistance=this.units.toMeters(r.stopsDistance),i.minimumAutoStopDepth=this.units.toMeters(r.autoStopLevel),i.lastStopDepth=this.units.toMeters(r.stopsDistance)}normalizeOptions(e){e.altitude=this.fitUnit(i=>i,i=>i,e.altitude,this.ranges.altitude),e.useRecreational()}normalizeTanks(e){const i=this.units.defaults.tanks;e.tanks.forEach(a=>{const s=a.tank;if(this.units.imperialUnits){const M=s.size;a.workingPressure=i.primary.workingPressure,a.size=this.units.fromTankLiters(M,a.workingPressureBars)}else a.workingPressureBars=0;s.startPressure=this.fitPressureToRange(s.startPressure,this.ranges.tankPressure);const l=this.units.toBar(a.workingPressure);s.size=this.fitTankSizeToRange(s.size,l,this.ranges.tankSize)})}normalizeSegments(e){e.segments.forEach(i=>{i.startDepth=this.fitLengthToRange(i.startDepth,this.ranges.depth),i.endDepth=this.fitLengthToRange(i.endDepth,this.ranges.depth)}),e.fixDepths()}fitLengthToRange(e,r){return this.fitUnit(i=>this.units.fromMeters(i),i=>this.units.toMeters(i),e,r)}fitPressureToRange(e,r){return this.fitUnit(i=>this.units.fromBar(i),i=>this.units.toBar(i),e,r)}fitTankSizeToRange(e,r,i){return this.fitUnit(a=>this.units.fromTankLiters(a,r),a=>this.units.toTankLiters(a,r),e,i,1)}fitUnit(e,r,i,a,s=0){let l=e(i);return l=Sn.round(l,s),l=this.fitToRange(l,a[0],a[1]),r(l)}fitToRange(e,r,i){return e>i?i:e<r?r:e}static#e=this.\u0275fac=function(r){return new(r||t)(pn(oi),pn(Ua),pn(Ru))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})();class vi{static toTanks(n){const e=[];return n.forEach(r=>{const i=new Ba(r.size,r.startPressure,0);i.id=r.id,i.gas.fO2=r.gas.fO2,i.gas.fHe=r.gas.fHe,e.push(i)}),Eu.renumberIds(e),e}static fromTanks(n){const e=[];return n.forEach(r=>{const i=r.tank,a={id:i.id,size:i.size,workPressure:r.workingPressureBars,startPressure:i.startPressure,gas:vi.fromGas(i.gas)};e.push(a)}),e}static toConsumed(n){const e=[];for(let r=0;r<n.length;r++){const i=n[r];e.push({id:i.id,consumed:i.consumed,reserve:i.reserve})}return e}static toSegments(n,e){const r=[];for(let i=0;i<n.length;i++){const a=n[i],s=vi.toGas(a.gas),l=new A2(a.startDepth,a.endDepth,s,a.duration);a.tankId>0&&a.tankId<=e.length&&(l.tank=e[a.tankId-1]),r.push(l)}return r}static fromSegments(n){const e=[];return n.forEach(r=>{const a={startDepth:r.startDepth,endDepth:r.endDepth,duration:r.duration,tankId:r.tank?r.tank.id:0,gas:vi.fromGas(r.gas)};e.push(a)}),e}static toProfile(n,e){const r=vi.toSegments(n.segments,e);if(n.errors.length>0){const a=vi.toEvents(n.errors);return C0.fromErrors(r,a.items)}const i=vi.toTissues(n.tissues);return C0.fromProfile(r,n.ceilings,i)}static fromProfile(n){return{segments:vi.fromSegments(n.segments),ceilings:n.ceilings,tissues:vi.fromTissues(n.tissues),errors:vi.fromEvents(n.errors)}}static toTissues(n){return no()(n).map(e=>({pN2:e.pN2,pHe:e.pHe,a:e.a,b:e.b})).value()}static fromTissues(n){return no()(n).map(e=>({pN2:e.pN2,pHe:e.pHe,a:e.a,b:e.b})).value()}static toEvents(n){const e=new hU;return n.forEach(r=>{const i=O1.create(r.type,r.timeStamp,r.depth);i.message=r.message,r.gas&&(i.gas=vi.toGas(r.gas)),e.add(i)}),e}static fromEvents(n){const e=[];return n.forEach(r=>{const i={timeStamp:r.timeStamp,depth:r.depth,type:r.type,message:r.message};r.gas&&(i.gas=vi.fromGas(r.gas)),e.push(i)}),e}static fromDiver(n){return{rmv:n.rmv}}static toDiver(n){return new Zd(n.rmv)}static fromOptions(n){return{gfLow:n.gfLow,gfHigh:n.gfHigh,maxPpO2:n.maxPpO2,maxDecoPpO2:n.maxDecoPpO2,salinity:n.salinity,altitude:n.altitude,roundStopsToMinutes:n.roundStopsToMinutes,gasSwitchDuration:n.gasSwitchDuration,safetyStop:n.safetyStop,lastStopDepth:n.lastStopDepth,decoStopDistance:n.decoStopDistance,minimumAutoStopDepth:n.minimumAutoStopDepth,maxEND:n.maxEND,oxygenNarcotic:n.oxygenNarcotic,ascentSpeed6m:n.ascentSpeed6m,ascentSpeed50percTo6m:n.ascentSpeed50percTo6m,ascentSpeed50perc:n.ascentSpeed50perc,descentSpeed:n.descentSpeed,problemSolvingDuration:n.problemSolvingDuration}}static toOptions(n){const e=new Vu(n.gfLow,n.gfHigh,n.maxPpO2,n.maxDecoPpO2,n.salinity);return e.altitude=n.altitude,e.roundStopsToMinutes=n.roundStopsToMinutes,e.gasSwitchDuration=n.gasSwitchDuration,e.safetyStop=n.safetyStop,e.lastStopDepth=n.lastStopDepth,e.decoStopDistance=n.decoStopDistance,e.minimumAutoStopDepth=n.minimumAutoStopDepth,e.maxEND=n.maxEND,e.oxygenNarcotic=n.oxygenNarcotic,e.ascentSpeed6m=n.ascentSpeed6m,e.ascentSpeed50percTo6m=n.ascentSpeed50percTo6m,e.ascentSpeed50perc=n.ascentSpeed50perc,e.descentSpeed=n.descentSpeed,e.problemSolvingDuration=n.problemSolvingDuration,e}static fromDensity(n){return{gas:vi.fromGas(n.gas),depth:n.depth,density:n.density}}static toDensity(n){const e=vi.toGas(n.gas);return new Xd(e,n.depth,n.density)}static toGas(n){return new u1(n.fO2,n.fHe)}static fromGas(n){return{fO2:n.fO2,fHe:n.fHe}}}let Zl=(()=>{class t{constructor(e){this.schedules=e,this._isComplex=!1}get isComplex(){return this._isComplex}set isComplex(e){this._isComplex=e,e||this.schedules.setSimple()}static#e=this.\u0275fac=function(r){return new(r||t)(pn(Ua))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})(),JM=(()=>{class t{constructor(e,r,i,a){this.viewSwitch=e,this.units=r,this.schedules=i,this.viewStates=a}static loadWorkingPressure(e,r){for(let i=0;i<r.length;i++)r[i].workingPressureBars=e[i].workPressure}toPreferences(){return{states:this.toStates(),options:this.toAppSettings(),dives:this.toDives()}}applyApp(e){this.applyLoaded(e),this.viewStates.loadFrom(e.states);const r=this.viewStates.get(Bi.dashboard);r&&this.schedules.setSelectedIndex(r.selectedDiveIndex)}applyLoaded(e){this.units.imperialUnits=e.options.imperialUnits,this.applyDives(e.dives),this.viewSwitch.isComplex=e.options.isComplex}toDive(){return this.toDiveFrom(this.schedules.selected)}loadDive(e,r){const i=this.toDiveSetup(r);e.optionsService.loadFrom(i.options,i.diver),e.tanksService.loadFrom(i.tanks),t.loadWorkingPressure(r.tanks,e.tanksService.tanks),e.depths.loadFrom(i.segments)}applyDives(e){if(e.length>0){this.schedules.clear(),this.loadDive(this.schedules.dives[0],e[0]);for(let r=1;r<e.length;r++){const i=this.schedules.add();this.loadDive(i,e[r])}}}toDiveSetup(e){const r=vi.toTanks(e.tanks);return{diver:vi.toDiver(e.diver),options:vi.toOptions(e.options),tanks:r,segments:vi.toSegments(e.plan,r)}}toAppSettings(){return{imperialUnits:this.units.imperialUnits,isComplex:this.viewSwitch.isComplex,language:"en"}}toDiveFrom(e){return{options:vi.fromOptions(e.optionsService.getOptions()),diver:vi.fromDiver(e.optionsService.getDiver()),tanks:vi.fromTanks(e.tanksService.tanks),plan:vi.fromSegments(e.depths.segments)}}toDives(){return no()(this.schedules.dives).map(e=>this.toDiveFrom(e)).value()}toStates(){return{lastScreen:this.viewStates.lastView,states:this.viewStates.all}}static#e=this.\u0275fac=function(r){return new(r||t)(pn(Zl),pn(oi),pn(Ua),pn(Ru))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})(),Fu=(()=>{class t{static#e=this.disclaimerValue="confirmed";static#t=this.storageKey="preferences";static#n=this.storageDefaultsKey="defaults";static#r=this.disclaimerKey="disclaimer";constructor(e){this.preferencesFactory=e}load(){const e=localStorage.getItem(t.storageKey);if(!e)return;const r=JSON.parse(e);this.preferencesFactory.applyApp(r)}loadDefault(e){const r=localStorage.getItem(t.storageDefaultsKey);if(!r)return;const i=JSON.parse(r);i&&this.preferencesFactory.loadDive(e,i)}save(){const e=this.preferencesFactory.toPreferences(),r=JSON.stringify(e);localStorage.setItem(t.storageKey,r)}saveDefault(){const e=this.preferencesFactory.toDive(),r=JSON.stringify(e);localStorage.setItem(t.storageDefaultsKey,r)}ensureDefault(){localStorage.getItem(t.storageDefaultsKey)||this.saveDefault()}disableDisclaimer(){localStorage.setItem(t.disclaimerKey,t.disclaimerValue)}disclaimerEnabled(){return localStorage.getItem(t.disclaimerKey)!==t.disclaimerValue}static#i=this.\u0275fac=function(r){return new(r||t)(pn(JM))};static#a=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})(),ao=(()=>{class t{constructor(e,r){this.views=e,this.preferences=r,this._mainViewState={id:Bi.dashboard,selectedDiveIndex:0}}saveMainView(){this.saveView(this._mainViewState)}saveView(e){this.views.set(e),this.preferences.save()}loadView(e){return this.views.get(e)}setSelectedDive(e){this._mainViewState.selectedDiveIndex=e}static#e=this.\u0275fac=function(r){return new(r||t)(pn(Ru),pn(Fu))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})(),Ss=(()=>{class t{constructor(e){this.numberPipe=e}controlInValid(e){return!!e&&e.invalid&&(e.dirty||e.touched)}static#e=this.\u0275fac=function(r){return new(r||t)(pn(ls))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})(),ja=(()=>{class t{static#e=this.minGradient=10;static#t=this.maxGradient=120;constructor(e){this.units=e}get nitroxOxygen(){return this.rangeFor(this.ranges.nitroxOxygen)}get trimixOxygen(){return this.rangeFor(this.ranges.trimixOxygen)}get trimixHe(){return this.rangeFor(this.ranges.tankHe)}get ppO2(){return this.rangeFor(this.ranges.ppO2)}get depth(){return this.rangeFor(this.ranges.depth)}get depthFromSurface(){return this.rangeFor([0,this.ranges.depth[1]])}get duration(){return this.rangeFor(this.ranges.duration)}get tankPressure(){return this.rangeFor(this.ranges.tankPressure)}get tankConsumed(){return this.rangeFor(this.ranges.consumed)}get tankSize(){return this.rangeFor(this.ranges.tankSize)}get altitude(){return this.rangeFor(this.ranges.altitude)}get gradients(){return this.rangeFor([t.minGradient,t.maxGradient])}get speed(){return this.rangeFor(this.ranges.speed)}get lastStopDepth(){return this.rangeFor(this.ranges.lastStopDepth)}get gasSwitchDuration(){return this.rangeFor([1,100])}get problemSolvingDuration(){return this.rangeFor([1,100])}get maxEnd(){return this.rangeFor(this.ranges.narcoticDepth)}get diverRmv(){return[r0.required,this.validateMinRmv,this.validateMaxRmv]}get ranges(){return this.units.ranges}rangeFor(e){return[r0.required,r0.min(e[0]),r0.max(e[1])]}surfaceInterval(){return e=>{const i=e?.value,a=z1.parseToShortTime(i);return null===i||0!==i.length&&a?null:{surfaceInterval:!0}}}validateMinRmv(){return e=>r0.min(this.ranges.diverRmv[0])(e)}validateMaxRmv(){return e=>r0.max(this.ranges.diverRmv[1])(e)}static#n=this.\u0275fac=function(r){return new(r||t)(pn(oi))};static#r=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})(),Iv=(()=>{class t{constructor(e,r,i,a){this.fb=e,this.inputs=r,this.validators=i,this.units=a,this.maxPpO2=1.4,this.label="",this.controlName="maxPpO2",this.ppO2Change=new Kt}get ppO2Invalid(){const e=this.pO2Form.get(this.controlName);return!e||this.inputs.controlInValid(e)}ngOnInit(){this.pO2Form||(this.pO2Form=this.fb.group({}));const e=this.fb.control(Sn.round(this.maxPpO2,2),this.validators.ppO2);this.pO2Form.addControl(this.controlName,e)}fireChanged(){if(this.ppO2Invalid)return;const e=this.pO2Form.get(this.controlName),r=Number(e?.value);this.ppO2Change.emit(r)}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(ts),Dt(Ss),Dt(ja),Dt(oi))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-pp-o2"]],inputs:{maxPpO2:"maxPpO2",label:"label",controlName:"controlName",pO2Form:"pO2Form"},outputs:{ppO2Change:"ppO2Change"},decls:6,vars:7,consts:[[3,"formGroup"],["for","maxPpO2","mdbLabel","",1,"form-label"],["id","maxPpO2","type","number","step","0.1",1,"form-control",3,"formControlName","min","max","input"],[1,"invalid-feedback","position-absolute"]],template:function(r,i){1&r&&(ua(0,0),xe(1,"label",1),qe(2),Se(),xe(3,"input",2),mn("input",function(){return i.fireChanged()}),Se(),xe(4,"div",3),qe(5,"Needs to be number 0.21-3"),Se(),fa()),2&r&&(Qe("formGroup",i.pO2Form),_e(2),Ir(i.label),_e(),pr("is-invalid",i.ppO2Invalid),Qe("formControlName",i.controlName)("min",i.units.ranges.ppO2[0])("max",i.units.ranges.ppO2[1]))},dependencies:[Wa,xs,us,qa,_s,ws,Pa,es,A1]})}return t})(),qM=(()=>{class t extends H2{constructor(e,r,i,a){super(),this.fb=e,this.inputs=r,this.validators=i,this.units=a,this.diver=new Vv,this.changed=new Kt,this._rmvStep=2}get ranges(){return this.units.ranges}get rmv(){const e=this.units.ranges.rmvRounding,i=this.units.fromLiter(this.diver.rmv);return Sn.round(i,e)}get rmvInvalid(){return this.inputs.controlInValid(this.diverForm.controls.rmv)}get rmvStep(){return this._rmvStep}ngOnInit(){this.diverForm||(this.diverForm=this.fb.group({}));const e=this.fb.control(this.rmv,this.validators.diverRmv);this.diverForm.addControl("rmv",e),this.units.ranges$.pipe(di(this.unsubscribe$)).subscribe(r=>this.rangeChanged(r))}inputChanged(){if(this.diverForm.invalid)return;const e=Number(this.diverForm.value.rmv);this.diver.rmv=this.units.toLiter(e),this.changed.emit()}maxPpO2Changed(e){this.diver.maxPpO2=e,this.changed.emit()}maxDecoPpO2Changed(e){this.diver.maxDecoPpO2=e,this.changed.emit()}rangeChanged(e){this._rmvStep=Math.pow(10,-(e.rmvRounding-1)),this.diverForm.patchValue({rmv:this.rmv})}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(ts),Dt(Ss),Dt(ja),Dt(oi))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-diver"]],inputs:{diver:"diver",diverForm:"diverForm"},outputs:{changed:"changed"},features:[yi],decls:12,vars:12,consts:[[1,"mt-3","row"],[3,"formGroup"],[1,"pt-2","mt-2","mb-4","col","col-12","col-md-4"],["for","sac","mdbLabel","",1,"form-label"],["id","sac","formControlName","rmv","type","number",1,"form-control",3,"min","max","step","input"],[1,"invalid-feedback","position-absolute"],["label","Maximum ppO2:","controlName","maxPO2",3,"maxPpO2","pO2Form","ppO2Change"],["label","Maximum deco ppO2:","controlName","maxDecoPO2",3,"maxPpO2","pO2Form","ppO2Change"]],template:function(r,i){1&r&&(xe(0,"div",0),ua(1,1),xe(2,"div",2)(3,"label",3),qe(4),Se(),xe(5,"input",4),mn("input",function(){return i.inputChanged()}),Se(),xe(6,"div",5),qe(7),Se()(),xe(8,"div",2)(9,"app-pp-o2",6),mn("ppO2Change",function(s){return i.maxPpO2Changed(s)}),Se()(),xe(10,"div",2)(11,"app-pp-o2",7),mn("ppO2Change",function(s){return i.maxDecoPpO2Changed(s)}),Se()(),fa(),Se()),2&r&&(_e(),Qe("formGroup",i.diverForm),_e(3),gn("RMV [",i.units.rmv,"]:"),_e(),pr("is-invalid",i.rmvInvalid),Qe("min",i.ranges.diverRmv[0])("max",i.ranges.diverRmv[1])("step",i.rmvStep),_e(2),gn("Needs to be number ",i.ranges.diverRmvLabel,""),_e(2),Qe("maxPpO2",i.diver.maxPpO2)("pO2Form",i.diverForm),_e(2),Qe("maxPpO2",i.diver.maxDecoPpO2)("pO2Form",i.diverForm))},dependencies:[Wa,xs,us,qa,_s,ws,Pa,es,A1,Iv]})}return t})(),_U=(()=>{class t{constructor(e,r,i,a,s,l,M){this.units=e,this.settingsNormalization=r,this.formBuilder=i,this.cd=a,this.schedules=s,this.views=l,this.location=M,this.flagIcon=DV,this.diverIcon=QR,this.diver=new Vv,this.diver.loadFrom(this.selectedOptions.diverOptions)}get selectedOptions(){return this.schedules.selected.optionsService}ngOnInit(){this.settingsForm=this.formBuilder.group({imperialUnits:[this.units.imperialUnits,[r0.required]]})}use(){if(this.settingsForm.invalid)return;const e=!!this.settingsForm.controls.imperialUnits.value;this.selectedOptions.applyDiver(this.diver),this.units.imperialUnits=e,this.settingsNormalization.apply(),this.views.saveMainView(),this.cd.detectChanges()}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(oi),Dt(wU),Dt(ts),Dt(Gc),Dt(Ua),Dt(ao),Dt(R1))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-app-settings"]],decls:33,vars:8,consts:[[1,"row","mt-5"],[1,"row",3,"formGroup"],[1,"col","col-12","col-sm-7","col-lg-5","col-xl-4","col-xxl-3","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[1,"col","col-12","col-sm-5","col-lg-4","col-xl-3","col-xxl-2",3,"diver","diverForm"],[1,"form-check"],["type","radio","id","metricRadio","formControlName","imperialUnits",1,"form-check-input",3,"value"],["for","metricRadio","value","metric",1,"custom-control-label"],["type","radio","id","imperialRadio","formControlName","imperialUnits",1,"form-check-input",3,"value"],["for","imperialRadio",1,"custom-control-label"],[1,"row"],[1,"form-group","mt-3"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button",1,"btn","btn-secondary",3,"hidden","click"]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4),_n(5,"fa-icon",5),xe(6,"span"),qe(7,"Diver"),Se()(),xe(8,"div",6),_n(9,"app-diver",7),Se()()(),xe(10,"div",2)(11,"div",3)(12,"div",4),_n(13,"fa-icon",5),xe(14,"span"),qe(15,"Units"),Se()(),xe(16,"div",6)(17,"div",8),_n(18,"input",9),xe(19,"label",10),qe(20,"Metric units (m, l, bar)"),Se()(),xe(21,"div",8),_n(22,"input",11),xe(23,"label",12),qe(24,"Imperial units (ft, cuft, psi)"),_n(25,"br"),qe(26," (Experimental, not recommended)"),Se()()()()()()(),xe(27,"div",13)(28,"div",14)(29,"button",15),mn("click",function(){return i.location.back()}),qe(30,"Back"),Se(),xe(31,"button",16),mn("click",function(){return i.use()}),qe(32,"Use"),Se()()()),2&r&&(_e(),Qe("formGroup",i.settingsForm),_e(4),Qe("icon",i.diverIcon),_e(4),Qe("diver",i.diver)("diverForm",i.settingsForm),_e(4),Qe("icon",i.flagIcon),_e(5),Qe("value",!1),_e(4),Qe("value",!0),_e(9),Qe("hidden",!i.settingsForm.valid))},dependencies:[Oa,D2,Wa,$y,us,qa,Pa,es,qM]})}return t})();class nLe{constructor(n){this.ranges=this.createUnits(n),this.units=this.ranges.units;const e=Gr.toSeconds(this.ranges.duration[0]),r=Gr.toSeconds(this.ranges.duration[1]);this.simpleDurationRange=[1,r],this.complexDurationRange=[e,r]}validate(n){if(0===n.dives.length)return!1;const e=n.options.isComplex,r=n.options.imperialUnits,i=n.dives.every(s=>this.isValidPlan(s,e,r)),a=this.complexModeValid(n);return i&&a}createUnits(n){return n?oi.createImperial():oi.createMetricRanges()}isValidPlan(n,e,r){const i=n.tanks.length,a=this.selectContentRanges(e),s=this.allTanksValid(r,n.tanks,i,a),l=this.selectDurationRanges(e),M=this.allSegmentsValid(n.plan,i,l,a),R=this.optionsValid(n.options),oe=this.diverValid(n.diver);return s&&M&&R&&oe}selectContentRanges(n){return n?[this.ranges.trimixOxygen,this.ranges.tankHe]:[this.ranges.nitroxOxygen,[0,0]]}selectDurationRanges(n){return n?this.complexDurationRange:this.simpleDurationRange}allTanksValid(n,e,r,i){const a=e.length>0,s=no()(e).every(R=>this.isValidTank(n,R,r,i)),M=no()(e).map(R=>R.id).uniq().size()===e.length;return a&&s&&M}isValidTank(n,e,r,i){const a=this.isInRange(e.id,[1,r]),s=this.isTankSizeValid(e),l=this.isPressureInRange(e.startPressure,this.ranges.tankPressure),M=this.workingPressureValid(n,e),R=this.isValidGas(e.gas,i);return a&&s&&l&&R&&M}workingPressureValid(n,e){return n?this.isPressureInRange(e.workPressure,this.ranges.tankPressure):0===e.workPressure}isValidGas(n,e){const r=.209===n.fO2&&0===n.fHe,i=this.isInRange(100*n.fO2,e[0]),a=this.isInRange(100*n.fHe,e[1]);return r||i&&a&&n.fO2+n.fHe<=1}allSegmentsValid(n,e,r,i){return n.length>0&&no()(n).every(a=>this.isValidSegment(a,e,r,i))}isValidSegment(n,e,r,i){const a=this.isInRange(n.tankId,[1,e]),s=[0,this.ranges.depth[1]],l=this.isLengthInRange(n.startDepth,s),M=this.isLengthInRange(n.endDepth,s),R=this.isInRange(n.duration,r),oe=this.isValidGas(n.gas,i);return a&&l&&M&&R&&oe}optionsValid(n){return this.isLengthInRange(n.altitude,this.ranges.altitude)&&this.isLengthInRange(n.ascentSpeed50perc,this.ranges.speed)&&this.isLengthInRange(n.ascentSpeed50percTo6m,this.ranges.speed)&&this.isLengthInRange(n.ascentSpeed6m,this.ranges.speed)&&this.isLengthInRange(n.descentSpeed,this.ranges.speed)&&this.isInRange(n.gasSwitchDuration,[1,10])&&this.isInRange(n.gfHigh,[.1,1])&&this.isInRange(n.gfLow,[.1,1])&&this.isLengthInRange(n.maxEND,this.ranges.narcoticDepth)&&this.isInRange(n.maxPpO2,this.ranges.ppO2)&&this.isInRange(n.maxDecoPpO2,this.ranges.ppO2)&&this.isInRange(n.problemSolvingDuration,[1,100])&&n.safetyStop in gc&&n.salinity in ro}diverValid(n){return this.isRmvValid(n.rmv)}complexModeValid(n){return n.options.isComplex||this.allDivesSimple(n.dives)}allDivesSimple(n){return no()(n).every(e=>2===e.plan.length&&1===e.tanks.length)}isRmvValid(n){const e=this.units.fromLiter(n);return this.isInRange(e,this.ranges.diverRmv)}isTankSizeValid(n){const e=this.units.fromTankLiters(n.size,n.workPressure);return this.isInRange(e,this.ranges.tankSize)}isPressureInRange(n,e){const r=this.units.fromBar(n);return this.isInRange(r,e)}isLengthInRange(n,e){const r=this.units.fromMeters(n);return this.isInRange(r,e)}isInRange(n,e){const r=Sn.round(n,6);return e[0]<=r&&r<=e[1]}}let Xl=(()=>{class t{static#e=this.trueValue="1";constructor(e,r){this.paramValues=e.split(r)}static serializeBoolean(e){return e?t.trueValue:"0"}static deserializeBoolean(e){return e===t.trueValue}parseNumber(e){return Number(this.paramValues[e])}parseEnum(e){return Number(this.paramValues[e])}parseBoolean(e){return t.deserializeBoolean(this.paramValues[e])}processValues(e,r){for(let i=0;i<this.paramValues.length;i++)r(this.toPartContext(i,e))}toPartContext(e,r){return new t(this.paramValues[e],r)}}return t})(),SU=(()=>{class t{constructor(e,r,i,a){this.viewSwitch=e,this.units=r,this.schedules=i,this.preferences=a}static parseDto(e){const r=new URLSearchParams(e),i=r.get("ao")||"",a=r.get("o")||"",s=r.get("di")||"",l=r.get("t")||"",M=r.get("de")||"",R=t.fromTanksParam(l);return{options:t.fromAppSettingsParam(i),dives:[{options:t.fromOptionsParam(a),diver:t.fromDiverParam(s),tanks:R,plan:t.fromDepthsParam(R,M)}]}}static fromAppSettingsParam(e){const r=new Xl(e,",");return{isComplex:r.parseBoolean(0),imperialUnits:r.parseBoolean(1),language:"en"}}static fromOptionsParam(e){const r=new Xl(e,",");return{altitude:r.parseNumber(0),ascentSpeed50perc:r.parseNumber(1),ascentSpeed50percTo6m:r.parseNumber(2),ascentSpeed6m:r.parseNumber(3),decoStopDistance:r.parseNumber(4),descentSpeed:r.parseNumber(5),gasSwitchDuration:r.parseNumber(6),gfHigh:r.parseNumber(7),gfLow:r.parseNumber(8),lastStopDepth:r.parseNumber(9),maxDecoPpO2:r.parseNumber(10),maxEND:r.parseNumber(11),maxPpO2:r.parseNumber(12),minimumAutoStopDepth:r.parseNumber(13),oxygenNarcotic:r.parseBoolean(14),problemSolvingDuration:r.parseNumber(15),roundStopsToMinutes:r.parseBoolean(16),safetyStop:r.parseEnum(17),salinity:r.parseEnum(18)}}static toOptionsParam(e){const r=Xl.serializeBoolean(e.oxygenNarcotic),i=Xl.serializeBoolean(e.roundStopsToMinutes);return`${e.altitude},${e.ascentSpeed50perc},${e.ascentSpeed50percTo6m},${e.ascentSpeed6m},${e.decoStopDistance},${e.descentSpeed},${e.gasSwitchDuration},${e.gfHigh},${e.gfLow},${e.lastStopDepth},${e.maxDecoPpO2},${e.maxEND},${e.maxPpO2},${e.minimumAutoStopDepth},${r},${e.problemSolvingDuration},${i},${e.safetyStop},${e.salinity}`}static fromDiverParam(e){return{rmv:new Xl(e,",").parseNumber(0)}}static toDiverParam(e){return`${e.rmv}`}static fromTanksParam(e){let r=[];return new Xl(e,",").processValues("-",a=>{const s={id:a.parseNumber(0),size:a.parseNumber(1),workPressure:a.parseNumber(2),startPressure:a.parseNumber(3),gas:{fO2:a.parseNumber(4),fHe:a.parseNumber(5)}};r.push(s)}),r=no().sortBy(r,[a=>a.id]),r}static toTanksParam(e){const r=[];return e.forEach(i=>{const a=i.tank,s=a.gas;r.push(`${a.id}-${a.size}-${i.workingPressureBars}-${a.startPressure}-${s.fO2}-${s.fHe}`)}),r.join(",")}static fromDepthsParam(e,r){const i=[];let s;return new Xl(r,",").processValues("-",l=>{const R=this.toSegment(l,e,s?s.endDepth:0);s=R,i.push(R)}),i}static toSegment(e,r,i){const a={startDepth:i,endDepth:e.parseNumber(1),duration:e.parseNumber(2),tankId:1,gas:{fO2:0,fHe:0}},s=e.parseNumber(3);if(0<s&&s<=r.length){const l=r[s-1];a.tankId=s,a.gas.fO2=l.gas.fO2,a.gas.fHe=l.gas.fHe}return a}static toDepthsParam(e){const r=[];return e.forEach(i=>{r.push(`${i.startDepth}-${i.endDepth}-${i.duration}-${i.tank?i.tank.id:0}`)}),r.join(",")}toUrl(){if(this.schedules.hasMany)return"";const e=this.schedules.dives[0];return`t=${t.toTanksParam(e.tanksService.tanks)}&de=${t.toDepthsParam(e.depths.segments)}&di=${t.toDiverParam(e.optionsService.getDiver())}&o=${t.toOptionsParam(e.optionsService.getOptions())}&ao=${this.toAppOptions()}`}fromUrl(e){try{if(!e)return;const r=decodeURIComponent(e),i=t.parseDto(r);new nLe(i.options.imperialUnits).validate(i)?this.preferences.applyLoaded(i):Po.warn("Unable to load planner from url parameters, due to invalid data.")}catch{Po.warn("Failed loading of planner from url parameters.")}}toAppOptions(){return`${Xl.serializeBoolean(this.viewSwitch.isComplex)},${Xl.serializeBoolean(this.units.imperialUnits)}`}static#e=this.\u0275fac=function(r){return new(r||t)(pn(Zl),pn(oi),pn(Ua),pn(JM))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})(),TU=(()=>{class t{constructor(e,r,i,a,s){this.location=e,this.preferences=r,this.urlSerialization=i,this.viewStore=a,this.views=s,this._showDisclaimer=!0,this._showDisclaimer=this.preferences.disclaimerEnabled()}get showDisclaimer(){return this._showDisclaimer}onDashboard(){const e=window.location.search;""===e||this.views.started||(this.urlSerialization.fromUrl(e),this.viewStore.saveMainView()),this.updateQueryParams()}stopDisclaimer(){this._showDisclaimer=!1,this.preferences.disableDisclaimer()}updateQueryParams(){let e=this.urlSerialization.toUrl();e.length>2048&&console.warn("Created url parameters with length longer than acceptable in some browsers"),e.length>0&&(e="?"+e),this.location.go(e)}static#e=this.\u0275fac=function(r){return new(r||t)(pn(R1),pn(Fu),pn(SU),pn(ao),pn(Ru))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})();const rLe=t=>t.querySelector("input,textarea")||t,Qd={mask:/^.*$/,preprocessors:[],postprocessors:[],plugins:[],overwriteMode:"shift"};class iLe{constructor(){this.now=null,this.past=[],this.future=[]}undo(){const n=this.past.pop();n&&this.now&&(this.future.push(this.now),this.updateElement(n,"historyUndo"))}redo(){const n=this.future.pop();n&&this.now&&(this.past.push(this.now),this.updateElement(n,"historyRedo"))}updateHistory(n){if(!this.now)return void(this.now=n);const e=this.now.value!==n.value,r=this.now.selection.some((i,a)=>i!==n.selection[a]);!e&&!r||(e&&(this.past.push(this.now),this.future=[]),this.now=n)}updateElement(n,e){this.now=n,this.updateElementState(n,{inputType:e,data:null})}}function Pv(t){return"string"==typeof t}function AU(t,n,e,r){let i="";for(let a=n.length;a<t.length;a++){const s=t[a],l=r?.value[a]===s;if(!Pv(s)||s===e&&!l)return i;i+=s}return i}function HU(t,n){return Array.isArray(n)?t.length===n.length&&Array.from(t).every((e,r)=>{const i=n[r];return Pv(i)?e===i:e.match(i)}):n.test(t)}function Rv(t,n,e=null){if(HU(t.value,n))return t;const{value:r,selection:i}=Array.isArray(n)?function oLe(t,n,e){let r=null,i=null;const a=Array.from(t.value).reduce((l,M,R)=>{const Ce=l+AU(n,l,M,e),We=n[Ce.length];return Pv(We)?Ce+We:M.match(We)?(null===r&&R>=t.selection[0]&&(r=Ce.length),null===i&&R>=t.selection[1]&&(i=Ce.length),Ce+M):Ce},""),s=AU(n,a,"",e);return{value:HU(a+s,n)?a+s:a,selection:[r??a.length,i??a.length]}}(t,n,e):function cLe({value:t,selection:n},e){const[r,i]=n;let a=r,s=i;return{value:Array.from(t).reduce((M,R,oe)=>{const Ce=M+R;return r===oe&&(a=M.length),i===oe&&(s=M.length),Ce.match(e)?Ce:M},""),selection:[a,s]}}(t,n);return{selection:i,value:Array.isArray(n)?r.slice(0,n.length):r}}function LU(t,n){if(!Array.isArray(n))return t;const[e,r]=t.selection,i=[],a=Array.from(t.value).reduce((s,l,M)=>{const R=n[M];return M===e&&i.push(s.length),M===r&&i.push(s.length),Pv(R)&&R===l?s:s+l},"");return i.length<2&&i.push(...new Array(2-i.length).fill(a.length)),{value:a,selection:[i[0],i[1]]}}class ex{constructor(n,e){this.initialElementState=n,this.maskOptions=e,this.value="",this.selection=[0,0];const{value:r,selection:i}=Rv(n,this.getMaskExpression(n));this.value=r,this.selection=i}addCharacters([n,e],r){const{value:i}=this,a=this.getMaskExpression({value:i.slice(0,n)+r+i.slice(e),selection:[n+r.length,n+r.length]}),s={value:i,selection:[n,e]},l=LU(s,a),[M,R]=function sLe({value:t,selection:n},e,r){const[i,a]=n;return{value:t,selection:"replace"===("function"==typeof r?r({value:t,selection:n}):r)?[i,i+e.length]:[i,a]}}(l,r,this.maskOptions.overwriteMode).selection,oe=l.value.slice(0,M)+r,Ce=oe.length,We=Rv({value:oe+l.value.slice(R),selection:[Ce,Ce]},a,s);if(i.slice(0,M)===Rv({value:oe,selection:[Ce,Ce]},a,s).value||function DU(t,...n){return n.every(({value:e,selection:r})=>e===t.value&&r[0]===t.selection[0]&&r[1]===t.selection[1])}(this,We))throw new Error("Invalid mask value");this.value=We.value,this.selection=We.selection}deleteCharacters([n,e]){if(n===e||!e)return;const{value:r}=this,i=this.getMaskExpression({value:r.slice(0,n)+r.slice(e),selection:[n,n]}),a={value:r,selection:[n,e]},s=LU(a,i),[l,M]=s.selection,oe=Rv({value:s.value.slice(0,l)+s.value.slice(M),selection:[l,l]},i,a);this.value=oe.value,this.selection=oe.selection}getMaskExpression(n){const{mask:e}=this.maskOptions;return"function"==typeof e?e(n):e}}class lLe{constructor(n){this.element=n,this.listeners=[]}listen(n,e,r){const i=e;this.element.addEventListener(n,i,r),this.listeners.push(()=>this.element.removeEventListener(n,i))}destroy(){this.listeners.forEach(n=>n())}}const bc_CTRL=1,bc_ALT=2,bc_SHIFT=4,bc_META=8;function qd(t,n,e){return t.ctrlKey===!!(n&bc_CTRL)&&t.altKey===!!(n&bc_ALT)&&t.shiftKey===!!(n&bc_SHIFT)&&t.metaKey===!!(n&bc_META)&&t.keyCode===e}function dLe({value:t,selection:n},e){const[r,i]=n;if(r!==i)return[r,i];const a=e?t.slice(r).indexOf("\n")+1||t.length:t.slice(0,i).lastIndexOf("\n")+1;return[e?r:a,e?a:i]}function hLe({value:t,selection:n},e){const[r,i]=n;return r!==i?[r,i]:(e?[r,i+1]:[r-1,i]).map(s=>Math.min(Math.max(s,0),t.length))}const pLe=/\s+$/g,vLe=/^\s+/g,kU=/\s/;function mLe({value:t,selection:n},e){const[r,i]=n;if(r!==i)return[r,i];if(e){const M=t.slice(r),[R]=M.match(vLe)||[""],oe=M.trimStart().search(kU);return[r,-1!==oe?r+R.length+oe:t.length]}const a=t.slice(0,i),[s]=a.match(pLe)||[""],l=a.trimEnd().split("").reverse().findIndex(M=>M.match(kU));return[-1!==l?i-s.length-l:0,i]}function Fv(t=[]){return(n,...e)=>t.reduce((r,i)=>Object.assign(Object.assign({},r),i(r,...e)),n)}class gLe extends iLe{constructor(n,e){super(),this.element=n,this.maskitoOptions=e,this.isTextArea="TEXTAREA"===this.element.nodeName,this.eventListener=new lLe(this.element),this.options=Object.assign(Object.assign({},Qd),this.maskitoOptions),this.preprocessor=Fv(this.options.preprocessors),this.postprocessor=Fv(this.options.postprocessors),this.teardowns=this.options.plugins.map(r=>r(this.element,this.options)),this.updateHistory(this.elementState),this.eventListener.listen("keydown",r=>function uLe(t){return qd(t,bc_CTRL,89)||qd(t,bc_CTRL|bc_SHIFT,90)||qd(t,bc_META|bc_SHIFT,90)}(r)?(r.preventDefault(),this.redo()):function fLe(t){return qd(t,bc_CTRL,90)||qd(t,bc_META,90)}(r)?(r.preventDefault(),this.undo()):void 0),this.eventListener.listen("beforeinput",r=>{const i=r.inputType.includes("Forward");switch(this.updateHistory(this.elementState),r.inputType){case"historyUndo":return r.preventDefault(),this.undo();case"historyRedo":return r.preventDefault(),this.redo();case"deleteByCut":case"deleteContentBackward":case"deleteContentForward":return this.handleDelete({event:r,isForward:i,selection:hLe(this.elementState,i)});case"deleteWordForward":case"deleteWordBackward":return this.handleDelete({event:r,isForward:i,selection:mLe(this.elementState,i),force:!0});case"deleteSoftLineBackward":case"deleteSoftLineForward":case"deleteHardLineBackward":case"deleteHardLineForward":return this.handleDelete({event:r,isForward:i,selection:dLe(this.elementState,i),force:!0});case"insertCompositionText":return;case"insertLineBreak":return this.handleEnter(r);default:return this.handleInsert(r,r.data||"")}}),this.eventListener.listen("input",({inputType:r})=>{"insertCompositionText"!==r&&(this.ensureValueFitsMask(),this.updateHistory(this.elementState))}),this.eventListener.listen("compositionend",()=>{this.ensureValueFitsMask(),this.updateHistory(this.elementState)})}get elementState(){const{value:n,selectionStart:e,selectionEnd:r}=this.element;return{value:n,selection:[e||0,r||0]}}get maxLength(){const{maxLength:n}=this.element;return-1===n?1/0:n}destroy(){this.eventListener.destroy(),this.teardowns.forEach(n=>n?.())}updateElementState({value:n,selection:e},r={inputType:"insertText",data:null}){const i=this.elementState.value;this.updateValue(n),this.updateSelectionRange(e),i!==n&&this.dispatchInputEvent(r)}updateSelectionRange([n,e]){var r;const{element:i}=this;i.matches(":focus")&&(i.selectionStart!==n||i.selectionEnd!==e)&&(null===(r=i.setSelectionRange)||void 0===r||r.call(i,n,e))}updateValue(n){this.element.value=n}ensureValueFitsMask(){this.updateElementState(function tx(t,n){const e=Object.assign(Object.assign({},Qd),n),r=Fv(e.preprocessors),i=Fv(e.postprocessors),a="string"==typeof t?{value:t,selection:[0,0]}:t,{elementState:s}=r({elementState:a,data:""},"validation"),l=new ex(s,e),{value:M,selection:R}=i(l,a);return"string"==typeof t?M:{value:M,selection:R}}(this.elementState,this.options))}dispatchInputEvent(n={inputType:"insertText",data:null}){globalThis.InputEvent&&this.element.dispatchEvent(new InputEvent("input",Object.assign(Object.assign({},n),{bubbles:!0,cancelable:!1})))}handleDelete({event:n,selection:e,isForward:r,force:i=!1}){const a={value:this.elementState.value,selection:e},[s,l]=a.selection,{elementState:M}=this.preprocessor({elementState:a,data:""},r?"deleteForward":"deleteBackward"),R=new ex(M,this.options),[oe,Ce]=M.selection;R.deleteCharacters([oe,Ce]);const We=this.postprocessor(R,a);if(a.value.slice(0,s)+a.value.slice(l)!==We.value||i){if(n.preventDefault(),function aLe(t,...n){return n.every(({value:e})=>e===t.value)}(a,M,R,We))return this.updateSelectionRange(r?[Ce,Ce]:[oe,oe]);this.updateElementState(We,{inputType:n.inputType,data:null}),this.updateHistory(We)}}handleInsert(n,e){const r=this.elementState,{elementState:i,data:a=e}=this.preprocessor({data:e,elementState:r},"insert"),s=new ex(i,this.options);try{s.addCharacters(i.selection,a)}catch{return n.preventDefault()}const[l,M]=i.selection,R=r.value.slice(0,l)+e+r.value.slice(M),oe=this.postprocessor(s,r);if(oe.value.length>this.maxLength)return n.preventDefault();R!==oe.value&&(n.preventDefault(),this.updateElementState(oe,{data:e,inputType:n.inputType}),this.updateHistory(oe))}handleEnter(n){this.isTextArea&&this.handleInsert(n,"\n")}}const EU={hours:23,minutes:59,seconds:59,milliseconds:999},th=[":","."],NU={hours:2,minutes:2,seconds:2,milliseconds:3};function $v(t,n,e=0){return Number(t.padEnd(n.length,"0"))<=Number(n)?{validatedSegmentValue:t,prefixedZeroesCount:e}:t.endsWith("0")?$v(`0${t.slice(0,n.length-1)}`,n,e+1):$v(`${t.slice(0,n.length-1)}0`,n,e)}const FU=/[\\^$.*+?()[\]{}|]/g,_Le=new RegExp(FU.source);function h1(t){return t&&_Le.test(t)?t.replace(FU,"\\$&"):t}function WU({hours:t="",minutes:n="",seconds:e="",milliseconds:r=""}){return`${t}${n&&`:${n}`}${e&&`:${e}`}${r&&`.${r}`}`}const VLe=new RegExp(`[${th.map(h1).join("")}]$`);function ox({timeString:t,paddedMaxValues:n,offset:e,selection:[r,i]}){const a=function $U(t){const n=t.replace(/\D+/g,""),e={hours:n.slice(0,2),minutes:n.slice(2,4),seconds:n.slice(4,6),milliseconds:n.slice(6,9)};return Object.fromEntries(Object.entries(e).filter(([r,i])=>!!i))}(t),s=Object.entries(a),l={};let M=0;for(const[We,rt]of s){const bt=WU(l),Bt=n[We],yn=e+bt.length+(bt.length&&1)+NU[We];if(yn>=r&&yn<=i&&Number(rt)>Number(Bt))return{validatedTimeString:"",updatedTimeSelection:[r,i]};const{validatedSegmentValue:tr,prefixedZeroesCount:fr}=$v(rt,`${Bt}`);M+=fr,l[We]=tr}const[R=""]=t.match(VLe)||[],oe=WU(l)+R,Ce=Math.max(oe.length-t.length,0);return{validatedTimeString:oe,updatedTimeSelection:[r+M+Ce,i+M+Ce]}}function qLe(t){const n=function GU(t){return Object.fromEntries(Object.entries(t).map(([n,e])=>[n,`${e}`.padEnd(NU[n],"0")]))}(t),e=new RegExp(`[^\\d${th.map(h1).join("")}]+`);return({elementState:r,data:i},a)=>{if("deleteBackward"===a||"deleteForward"===a)return{elementState:r,data:i};const{value:s,selection:l}=r;if("validation"===a){const{validatedTimeString:cn,updatedTimeSelection:yn}=ox({timeString:s,paddedMaxValues:n,offset:0,selection:l});return{elementState:{value:cn,selection:yn},data:i}}const M=i.replace(e,""),[R,oe]=l;let Ce=oe+M.length;const We=s.slice(0,R)+M+s.slice(Ce),{validatedTimeString:rt,updatedTimeSelection:bt}=ox({timeString:We,paddedMaxValues:n,offset:0,selection:[R,Ce]});if(We&&!rt)return{elementState:r,data:""};Ce=bt[1];const Bt=rt.slice(R,Ce);return{elementState:{selection:l,value:rt.slice(0,R)+"0".repeat(Bt.length)+rt.slice(Ce)},data:Bt}}}let tze=(()=>{class t{constructor(e,r){this.ngZone=e,this.elementRef=r,this.maskedElement=null,this.maskito=Qd,this.maskitoElement=rLe}ngOnChanges(){var e=this;return function $t(t){return function(){var n=this,e=arguments;return new Promise(function(r,i){var a=t.apply(n,e);function s(M){Ps(a,r,i,s,l,"next",M)}function l(M){Ps(a,r,i,s,l,"throw",M)}s(void 0)})}}(function*(){e.maskedElement?.destroy();const r=e.maskitoElement,i=yield r(e.elementRef.nativeElement);e.maskitoElement===r&&e.ngZone.runOutsideAngular(()=>{e.maskedElement=new gLe(i,e.maskito??Qd)})})()}ngOnDestroy(){this.maskedElement?.destroy()}}return t.\u0275fac=function(e){return new(e||t)(Dt(Ci),Dt(aa))},t.\u0275dir=nr({type:t,selectors:[["","maskito",""]],inputs:{maskito:"maskito",maskitoElement:"maskitoElement"},standalone:!0,features:[$s]}),t})();function nze(t,n){1&t&&(xe(0,"div",12),qe(1,"Needs to be a text in form hh:mm"),Se())}let lx=(()=>{class t extends H2{constructor(e,r,i,a,s){super(),this.schedules=e,this.fb=r,this.dispatcher=i,this.inputs=a,this.validators=s,this.controlName="surfaceInterval",this.maskitoTimeOptions=function eze({mode:t,timeSegmentMaxValues:n={}}){const e=Object.assign(Object.assign({},EU),n);return Object.assign(Object.assign({},Qd),{mask:Array.from(t).map(r=>th.includes(r)?r:/\d/),preprocessors:[({elementState:t},n)=>{const{value:e,selection:r}=t;if(!e||function LLe(t,[n,e]){return e===t.length}(e,r))return{elementState:t};const[i,a]=r,s=e.slice(i,a).replace(/\d/g,"0"),l=e.slice(0,i)+s+e.slice(a);return"validation"===n||"insert"===n&&i===a?{elementState:{selection:r,value:l}}:{elementState:{selection:"deleteBackward"===n||"insert"===n?[i,i]:[a,a],value:l}}},qLe(e)],overwriteMode:"replace"})}({mode:"HH:MM",timeSegmentMaxValues:{hours:48}})}get surfaceIntervalInvalid(){const e=this.form.get(this.controlName);return this.inputs.controlInValid(e)}get surfaceReadOnly(){return this.schedules.selected.primary}get placeHolder(){return this.surfaceReadOnly?"First dive":"HH:MM"}get surfaceInterval(){return this.schedules.selected.surfaceIntervalText}ngOnInit(){if(!this.form){this.form=this.fb.group([]);const e=this.fb.control(this.surfaceInterval,[this.validators.surfaceInterval()]);this.form.addControl(this.controlName,e)}this.dispatcher.depthChanged$.pipe(di(this.unsubscribe$)).subscribe(()=>{this.reload()})}applyPrimary(){this.schedules.selected.applyPrimarySurfaceInterval(),this.reload()}applyOneHour(){this.schedules.selected.applyOneHourSurfaceInterval(),this.reload()}apply30Minutes(){this.schedules.selected.apply30MinutesSurfaceInterval(),this.reload()}apply2Hour(){this.schedules.selected.apply2HourSurfaceInterval(),this.reload()}surfaceIntervalChanged(){if(this.form.invalid)return;const e=this.form.get(this.controlName);this.setSurfaceInterval(e?.value)}setSurfaceInterval(e){const r=z1.parseToShortTime(e);r&&(this.schedules.selected.surfaceInterval=r)}reload(){this.form.patchValue({[this.controlName]:this.surfaceInterval})}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(Ua),Dt(ts),Dt(B1),Dt(Ss),Dt(ja))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-surface-interval"]],inputs:{form:"form",controlName:"controlName"},standalone:!0,features:[yi,D8],decls:20,vars:8,consts:[[3,"formGroup"],["for","surfaceInterval","mdbLabel","",1,"form-label"],["mdbDropdown","",1,"input-group","dropdown"],["id","surfaceInterval","type","text",1,"form-control",3,"formControlName","maskito","placeholder","readonly","input"],["aria-expanded","false","id","surfaceIntervalMenu","type","button","data-mdb-toggle","dropdown","mdbDropdownToggle","",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],["id","btnApplyFirst",3,"click"],[1,"dropdown-item"],["id","btnApply30Minutes",3,"click"],["id","btnApplyOneHour",3,"click"],["id","btnApply2Hour",3,"click"],["class","text-danger form-text position-absolute",4,"ngIf"],[1,"text-danger","form-text","position-absolute"]],template:function(r,i){1&r&&(ua(0,0),xe(1,"label",1),qe(2,"Surface interval [min]:"),Se(),xe(3,"div",2)(4,"input",3),mn("input",function(){return i.surfaceIntervalChanged()}),Se(),_n(5,"button",4),xe(6,"ul",5)(7,"li",6),mn("click",function(){return i.applyPrimary()}),xe(8,"a",7),qe(9,"First dive"),Se()(),xe(10,"li",8),mn("click",function(){return i.apply30Minutes()}),xe(11,"a",7),qe(12,"30 minutes"),Se()(),xe(13,"li",9),mn("click",function(){return i.applyOneHour()}),xe(14,"a",7),qe(15,"1 Hour"),Se()(),xe(16,"li",10),mn("click",function(){return i.apply2Hour()}),xe(17,"a",7),qe(18,"2 Hours"),Se()()()(),Cn(19,nze,2,0,"div",11),fa()),2&r&&(Qe("formGroup",i.form),_e(4),pr("is-invalid",i.surfaceIntervalInvalid),Qe("formControlName",i.controlName)("maskito",i.maskitoTimeOptions)("placeholder",i.placeHolder)("readonly",i.surfaceReadOnly),_e(15),Qe("ngIf",i.surfaceIntervalInvalid))},dependencies:[tze,FH,Wa,us,qa,Pa,es,ik,Wl,qc,el,ak,A1,Ji]})}return t})();function rze(t,n){if(1&t&&(xe(0,"div",21),_n(1,"app-surface-interval",22),Se()),2&t){const e=zt();_e(),Qe("form",e.complexForm)}}function ize(t,n){if(1&t){const e=fi();xe(0,"button",29),mn("click",function(){or(e);const i=zt(2).index;return sr(zt().removeLevel(i))}),_n(1,"fa-icon",30),Se()}if(2&t){const e=zt(3);_e(),Qe("icon",e.removeIcon)}}function aze(t,n){if(1&t&&(xe(0,"div",14)(1,"div",26),qe(2),Se(),xe(3,"div",27),Cn(4,ize,2,1,"button",28),Se()()),2&t){const e=zt().index,r=zt();_e(2),gn(" ",r.labelFor(e)," "),_e(2),Qe("ngIf",r.minimumSegments)}}function sze(t,n){if(1&t&&(xe(0,"div",42),qe(1),Se()),2&t){const e=zt(3);_e(),gn(" Needs to be number ",e.ranges.depthLabel,"")}}function oze(t,n){if(1&t&&(xe(0,"div",42),qe(1),Se()),2&t){const e=zt(3);_e(),gn("Needs to be number ",e.ranges.durationLabel,"")}}function cze(t,n){if(1&t){const e=fi();xe(0,"li",43),mn("click",function(){const a=or(e).$implicit,s=zt(2).index;return sr(zt().assignTank(s,a))}),xe(1,"a",44),qe(2),Se()()}if(2&t){const e=n.$implicit;_e(2),Ir(e.label)}}function lze(t,n){if(1&t){const e=fi();xe(0,"div",14)(1,"div",31)(2,"label",32),qe(3),Se(),xe(4,"input",33),mn("input",function(){or(e);const i=zt().index;return sr(zt().levelChanged(i))}),Se(),Cn(5,sze,2,1,"div",34),Se(),xe(6,"div",31)(7,"label",32),qe(8,"Duration [min]:"),Se(),xe(9,"input",35),mn("input",function(){or(e);const i=zt().index;return sr(zt().levelChanged(i))}),Se(),Cn(10,oze,2,1,"div",34),Se(),xe(11,"div",36)(12,"label",32),qe(13,"Tank:"),Se(),xe(14,"div",37),_n(15,"input",38)(16,"button",39),xe(17,"ul",40),Cn(18,cze,3,1,"li",41),Se()()()()}if(2&t){const e=zt().index,r=zt();_e(2),da("for","depthItemB-",e,""),_e(),Q2("From ",r.startDepth(e)," To [",r.units.length,"]:"),_e(),pr("is-invalid",r.depthItemInvalid(e)),da("id","depthItemB-",e,""),Qe("min",0)("max",r.ranges.depth[1]),_e(),Qe("ngIf",r.depthItemInvalid(e)),_e(2),da("for","durationItemB-",e,""),_e(2),pr("is-invalid",r.durationItemInvalid(e)),da("id","durationItemB-",e,""),Qe("min",r.ranges.duration[0])("max",r.ranges.duration[1]),_e(),Qe("ngIf",r.durationItemInvalid(e)),_e(2),da("for","tanksB-",e,""),_e(3),da("id","tanksB-",e,""),Qe("value",r.tankLabelFor(e)),_e(3),Qe("ngForOf",r.tanks)}}function uze(t,n){1&t&&(xe(0,"mdb-accordion-item",23),Cn(1,aze,5,2,"ng-template",24)(2,lze,19,20,"ng-template",25),Se()),2&t&&Qe("formGroupName",n.index)}function fze(t,n){if(1&t){const e=fi();xe(0,"li",43),mn("click",function(){const a=or(e).$implicit,s=zt().index;return sr(zt().assignTank(s,a))}),xe(1,"a",44),qe(2),Se()()}if(2&t){const e=n.$implicit;_e(2),Ir(e.label)}}function dze(t,n){if(1&t){const e=fi();xe(0,"button",54),mn("click",function(){or(e);const i=zt().index;return sr(zt().removeLevel(i))}),_n(1,"fa-icon",30),Se()}if(2&t){const e=zt().index,r=zt();da("id","removeLevel-",e,""),_e(),Qe("icon",r.removeIcon)}}function hze(t,n){if(1&t&&(xe(0,"small",42),qe(1),Se()),2&t){const e=zt(2);_e(),gn(" End depth needs to be number ",e.ranges.depthLabel,". ")}}function pze(t,n){if(1&t&&(xe(0,"small",42),qe(1),Se()),2&t){const e=zt(2);_e(),gn(" Duration needs to be number ",e.ranges.durationLabel,".")}}function vze(t,n){if(1&t){const e=fi();xe(0,"div",45)(1,"div",46)(2,"div",47),qe(3),qn(4,"number"),Se(),xe(5,"div",48)(6,"input",33),mn("input",function(){const a=or(e).index;return sr(zt().levelChanged(a))}),Se()(),xe(7,"div",48)(8,"input",35),mn("input",function(){const a=or(e).index;return sr(zt().levelChanged(a))}),Se()(),xe(9,"div",31)(10,"div",37),_n(11,"input",38)(12,"button",39),xe(13,"ul",40),Cn(14,fze,3,1,"li",41),Se()()(),xe(15,"div",49),Cn(16,dze,2,2,"button",50),Se()(),xe(17,"div",51)(18,"div",52)(19,"div",14),_n(20,"div",10),xe(21,"div",53),Cn(22,hze,2,1,"small",34)(23,pze,2,1,"small",34),Se()()(),_n(24,"div",10),Se()()}if(2&t){const e=n.index,r=zt();Qe("formGroupName",e),_e(3),Ir(er(4,18,r.startDepth(e),"1.0-0")),_e(3),pr("is-invalid",r.depthItemInvalid(e)),da("id","depthItem-",e,""),Qe("min",0)("max",r.ranges.depth[1]),_e(2),pr("is-invalid",r.durationItemInvalid(e)),da("id","durationItem-",e,""),Qe("min",r.ranges.duration[0])("max",r.ranges.duration[1]),_e(3),da("id","tanks-",e,""),Qe("value",r.tankLabelFor(e)),_e(3),Qe("ngForOf",r.tanks),_e(2),Qe("ngIf",r.minimumSegments),_e(6),Qe("ngIf",r.depthItemInvalid(e)),_e(),Qe("ngIf",r.durationItemInvalid(e))}}let JU=(()=>{class t extends H2{constructor(e,r,i,a,s,l){super(),this.fb=e,this.inputs=r,this.validators=i,this.units=a,this.schedules=s,this.dispatcher=l,this.cardIcon=sM,this.addIcon=Od,this.removeIcon=Rd}get ranges(){return this.units.ranges}get isFirstDive(){return this.schedules.selected.isFirst}get minimumSegments(){return this.depths.minimumSegments}get tanks(){return this.schedules.selectedTanks.tanks}get levelControls(){return this.complexForm.controls.levels}get depths(){return this.schedules.selectedDepths}get surfaceInterval(){return this.schedules.selected.surfaceIntervalText}depthItemInvalid(e){const i=this.levelControls.at(e).controls.endDepth;return this.inputs.controlInValid(i)}durationItemInvalid(e){const i=this.levelControls.at(e).controls.duration;return this.inputs.controlInValid(i)}startDepth(e){return this.levelAt(e).startDepth}labelFor(e){const r=this.levelAt(e);return`${r.startDepth}-${r.endDepth} ${this.units.length} ${r.duration} min`}tankLabelFor(e){return this.levelAt(e).tankLabel}assignTank(e,r){const i=this.levelAt(e);this.depths.assignTank(i,r)}ngOnInit(){this.complexForm=this.fb.group({surfaceInterval:[this.surfaceInterval,this.validators.surfaceInterval()],levels:this.fb.array(this.createLevelControls())}),this.dispatcher.selectedChanged$.pipe(di(this.unsubscribe$)).subscribe(()=>{this.reload()}),this.dispatcher.depthsReloaded$.pipe(di(this.unsubscribe$)).subscribe(e=>{this.depths===e&&this.reload()})}addLevel(){if(this.complexForm.invalid)return;this.depths.addSegment();const r=this.levelAt(this.depths.levels.length-1),i=this.createLevelControl(r);this.levelControls.push(i)}removeLevel(e){if(this.complexForm.invalid||!this.minimumSegments)return;const r=this.levelAt(e);this.depths.removeSegment(r),this.levelControls.removeAt(e)}levelChanged(e){if(this.complexForm.invalid)return;const r=this.levelAt(e),a=this.levelControls.at(e).value;r.duration=Number(a.duration),r.endDepth=Number(a.endDepth),this.depths.levelChanged()}reload(){this.complexForm.patchValue({surfaceInterval:this.surfaceInterval}),this.levelControls.clear(),this.createLevelControls().forEach(e=>this.levelControls.push(e))}createLevelControls(){const e=[];for(const r of this.depths.levels){const i=this.createLevelControl(r);e.push(i)}return e}createLevelControl(e){return this.fb.group({duration:[Sn.round(e.duration,1),this.validators.duration],endDepth:[Sn.round(e.endDepth,1),this.validators.depthFromSurface]})}levelAt(e){return this.depths.levels[e]}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(ts),Dt(Ss),Dt(ja),Dt(oi),Dt(Ua),Dt(B1))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-depths-complex"]],features:[yi],decls:29,vars:10,consts:[[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[3,"formGroup"],[1,"card-body"],["class","row col-md-6 col-lg-12 col-xl-6 pb-2 mb-4",4,"ngIf"],["formArrayName","levels",1,"d-md-none","d-block"],[3,"flush"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","justify-content-end","pe-2","m-3"],[1,"col","col-1"],["type","button",1,"p-1","btn","btn-secondary",3,"click"],[1,"fa-xl",3,"icon"],["formArrayName","levels",1,"d-none","d-md-block"],[1,"row"],[1,"col","col-1","m-0","px-1","text-end"],[1,"col","col-2","m-0","px-1"],[1,"col","col-6","m-0","px-1"],[1,"col","col-1","m-0","px-1"],["id","addLevel","type","button",1,"p-1","btn","btn-secondary",3,"click"],["class","px-0 pb-2",3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","col-md-6","col-lg-12","col-xl-6","pb-2","mb-4"],["controlName","surfaceInterval",3,"form"],[3,"formGroupName"],["mdbAccordionItemHeader",""],["mdbAccordionItemBody",""],[1,"col","col-auto","d-flex","align-items-center"],[1,"col","col-1","pe-1"],["class","m-0 p-1 btn btn-secondary","type","button",3,"click",4,"ngIf"],["type","button",1,"m-0","p-1","btn","btn-secondary",3,"click"],[1,"p-0","m-0","fa-xl",3,"icon"],[1,"col","col-6","m-0","pb-0","px-1"],[1,"form-label","mt-2",3,"for"],["formControlName","endDepth","type","number","required","","step","1",1,"form-control",3,"id","min","max","input"],["class","text-danger",4,"ngIf"],["formControlName","duration","type","number","required","","step","1",1,"form-control",3,"id","min","max","input"],[1,"col","col-12","m-0","pb-0","px-1"],["mdbDropdown","",1,"input-group","dropdown"],["type","text","readonly","",1,"form-control",3,"id","value"],["id","tankMenu","type","button","mdbDropdownToggle","","aria-expanded","false","data-mdb-toggle","dropdown",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[3,"click",4,"ngFor","ngForOf"],[1,"text-danger"],[3,"click"],[1,"dropdown-item"],[1,"px-0","pb-2",3,"formGroupName"],[1,"row","p-0","pb-1"],[1,"col","col-12","col-sm-1","m-0","pb-0","px-1","text-end","align-self-center"],[1,"col","col-12","col-sm-2","m-0","pb-0","px-1"],[1,"col","col-12","col-sm-1","m-0","pb-0","px-1","align-self-center"],["type","button","class","m-0 p-1 btn btn-secondary",3,"id","click",4,"ngIf"],[1,"row","p-0","pb-2"],[1,"col","col-11"],[1,"col","m-0","px-0"],["type","button",1,"m-0","p-1","btn","btn-secondary",3,"id","click"]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"div",1),_n(2,"fa-icon",2),xe(3,"span"),qe(4,"Depths"),Se()(),xe(5,"form",3)(6,"div",4),Cn(7,rze,2,1,"div",5),xe(8,"div",6)(9,"mdb-accordion",7),Cn(10,uze,3,1,"mdb-accordion-item",8),Se(),xe(11,"div",9)(12,"div",10)(13,"button",11),mn("click",function(){return i.addLevel()}),_n(14,"fa-icon",12),Se()()()(),xe(15,"div",13)(16,"div",14)(17,"div",15),qe(18),Se(),xe(19,"div",16),qe(20),Se(),xe(21,"div",16),qe(22,"Duration [min]"),Se(),xe(23,"div",17),qe(24,"Tank"),Se(),xe(25,"div",18)(26,"button",19),mn("click",function(){return i.addLevel()}),_n(27,"fa-icon",12),Se()()(),Cn(28,vze,25,21,"div",20),Se()()()()),2&r&&(_e(2),Qe("icon",i.cardIcon),_e(3),Qe("formGroup",i.complexForm),_e(2),Qe("ngIf",!i.isFirstDive),_e(2),Qe("flush",!0),_e(),Qe("ngForOf",i.levelControls.controls),_e(4),Qe("icon",i.addIcon),_e(4),gn("From [",i.units.length,"]"),_e(2),gn("To [",i.units.length,"]"),_e(7),Qe("icon",i.addIcon),_e(),Qe("ngForOf",i.levelControls.controls))},dependencies:[ko,Ji,Oa,D2,Wa,xs,us,qa,T1,_s,ws,Pa,es,K8,Q8,Wl,qc,el,dk,cC,fk,lk,lx,ls]})}return t})(),qU=(()=>{class t{constructor(e,r,i,a){this.fb=e,this.inputs=r,this.validators=i,this.units=a,this.controlName="depth",this.bestNitroxMix="",this.plannedDepth=0,this.depthChange=new Kt,this.assignMaxDepth=new Kt}get depthInvalid(){const e=this.depthForm.get(this.controlName);return!e||this.inputs.controlInValid(e)}depthChanged(){if(this.depthForm.invalid)return;const e=this.depthForm.get(this.controlName),r=Number(e?.value);this.depthChange.next(Number(r))}applyMaxDepth(){this.assignMaxDepth.next({})}ngOnInit(){if(!this.depthForm){this.depthForm=this.fb.group({});const e=this.fb.control(Sn.round(this.plannedDepth,1),this.validators.depth);this.depthForm.addControl(this.controlName,e)}}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(ts),Dt(Ss),Dt(ja),Dt(oi))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-depth"]],inputs:{depthForm:"depthForm",controlName:"controlName",bestNitroxMix:"bestNitroxMix",plannedDepth:"plannedDepth"},outputs:{depthChange:"depthChange",assignMaxDepth:"assignMaxDepth"},decls:10,vars:11,consts:[[3,"formGroup"],["for","depthField","mdbLabel","",1,"form-label"],["id","depthField","type","number","required","","step","1",1,"form-control",3,"formControlName","min","max","input"],[1,"invalid-feedback","position-absolute"],[1,"text-muted","form-text"],["type","button","id","applyMaxDepthBtn",1,"btn","btn-secondary","mt-2",3,"click"]],template:function(r,i){1&r&&(ua(0,0),xe(1,"label",1),qe(2),Se(),xe(3,"input",2),mn("input",function(){return i.depthChanged()}),Se(),xe(4,"div",3),qe(5),Se(),xe(6,"div",4),qe(7),Se(),xe(8,"button",5),mn("click",function(){return i.applyMaxDepth()}),qe(9,"Max"),Se(),fa()),2&r&&(Qe("formGroup",i.depthForm),_e(2),gn("Depth [",i.units.length,"]:"),_e(),pr("is-invalid",i.depthInvalid),Qe("formControlName",i.controlName)("min",i.units.ranges.depth[0])("max",i.units.ranges.depth[1]),_e(2),gn("Needs to be number ",i.units.ranges.depthLabel,""),_e(),pr("invisible",i.depthInvalid),_e(),gn("Best mix is ",i.bestNitroxMix,""))},dependencies:[Wa,xs,us,qa,T1,_s,ws,Pa,es,A1]})}return t})();function mze(t,n){if(1&t&&(xe(0,"div",5),_n(1,"app-surface-interval",15),Se()),2&t){const e=zt();_e(),Qe("form",e.simpleForm)}}let eG=(()=>{class t extends H2{constructor(e,r,i,a,s,l){super(),this.fb=e,this.inputs=r,this.validators=i,this.units=a,this.schedules=s,this.dispatcher=l,this.cardIcon=sM}get ranges(){return this.units.ranges}get noDecoTime(){return this.diveResult.noDecoTime}get durationInvalid(){return this.inputs.controlInValid(this.simpleForm.controls.planDuration)}get depths(){return this.schedules.selectedDepths}get diveResult(){return this.schedules.selectedResult}get isFirstDive(){return this.schedules.selected.isFirst}get surfaceInterval(){return this.schedules.selected.surfaceIntervalText}ngOnInit(){this.simpleForm=this.fb.group({surfaceInterval:[this.surfaceInterval,this.validators.surfaceInterval()],planDuration:[Sn.round(this.depths.planDuration,1),this.validators.duration],depth:[Sn.round(this.depths.plannedDepth,1),this.validators.depth]}),this.dispatcher.depthChanged$.pipe(di(this.unsubscribe$)).subscribe(()=>{this.reload()}),this.dispatcher.setToSimple$.pipe(di(this.unsubscribe$)).subscribe(()=>{this.reload()}),this.dispatcher.depthsReloaded$.pipe(di(this.unsubscribe$)).subscribe(e=>{this.depths===e&&this.reload()}),this.dispatcher.selectedChanged$.pipe(di(this.unsubscribe$)).subscribe(()=>this.reload())}valuesChanged(){if(this.simpleForm.invalid)return;const e=this.simpleForm.value;this.depths.planDuration=Number(e.planDuration),this.depths.plannedDepth=Number(e.depth)}depthChanged(e){this.depths.plannedDepth=e}assignMaxDepth(){this.depths.applyMaxDepth(),this.reload()}reload(){this.simpleForm.patchValue({surfaceInterval:this.surfaceInterval,planDuration:Sn.round(this.depths.planDuration,1),depth:Sn.round(this.depths.plannedDepth,1)})}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(ts),Dt(Ss),Dt(ja),Dt(oi),Dt(Ua),Dt(B1))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-depths-simple"]],features:[yi],decls:23,vars:21,consts:[[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[3,"formGroup"],[1,"card-body","row"],[1,"mb-4","col","col-12","col-md-6","col-lg-12","col-xl-6"],["for","duration","mdbLabel","",1,"form-label"],["id","duration","formControlName","planDuration","type","number","required","","step","1",1,"form-control",3,"min","max","input"],[1,"invalid-feedback","position-absolute"],[1,"text-muted","form-text"],["type","button","id","btnApplyDuration",1,"btn","btn-secondary","mt-2","me-2","col","col-auto",3,"click"],["type","button","id","btnApplyNdl",1,"btn","btn-secondary","mt-2","col","col-auto",3,"click"],[1,"col","col-12","col-md-6","col-lg-12","col-xl-6"],["controlName","depth",3,"plannedDepth","bestNitroxMix","depthForm","depthChange","assignMaxDepth"],["class","mb-4 col col-12 col-md-6 col-lg-12 col-xl-6",4,"ngIf"],["controlName","surfaceInterval",3,"form"]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"div",1),_n(2,"fa-icon",2),xe(3,"span"),qe(4,"Depth"),Se()(),xe(5,"form",3)(6,"div",4)(7,"div",5)(8,"label",6),qe(9,"Bottom time [min]:"),Se(),xe(10,"input",7),mn("input",function(){return i.valuesChanged()}),Se(),xe(11,"div",8),qe(12),Se(),xe(13,"div",9),qe(14),qn(15,"number"),Se(),xe(16,"button",10),mn("click",function(){return i.depths.applyMaxDuration()}),qe(17,"Max"),Se(),xe(18,"button",11),mn("click",function(){return i.depths.applyNdlDuration()}),qe(19,"No deco"),Se()(),xe(20,"div",12)(21,"app-depth",13),mn("depthChange",function(s){return i.depthChanged(s)})("assignMaxDepth",function(){return i.assignMaxDepth()}),Se()(),Cn(22,mze,2,1,"div",14),Se()()()),2&r&&(_e(2),Qe("icon",i.cardIcon),_e(3),Qe("formGroup",i.simpleForm),_e(5),pr("is-invalid",i.durationInvalid),Qe("min",i.ranges.duration[0])("max",i.ranges.duration[1]),_e(2),gn("Needs to be number ",i.ranges.durationLabel," "),_e(),pr("invisible",i.durationInvalid),_e(),gn("No deco limit ",er(15,18,i.noDecoTime,"1.0-0")," min"),_e(2),pr("invisible",!i.diveResult.showMaxDuration),_e(2),pr("invisible",!i.diveResult.ndlValid),_e(3),Qe("plannedDepth",i.depths.plannedDepth)("bestNitroxMix",i.depths.bestNitroxMix)("depthForm",i.simpleForm),_e(),Qe("ngIf",!i.isFirstDive))},dependencies:[Ji,Oa,D2,Wa,xs,us,qa,T1,_s,ws,Pa,es,A1,lx,qU,ls]})}return t})(),Bu=(()=>{class t{static#e=this.depthConverterWarning="This calculator uses simple depth conversion (where 1 ATM = 1 bar), so thevalues shown here are less precise, than in rest of the application.";static#t=this.cnsOverOneThousand="> 1000"}return t})();function gze(t,n){1&t&&(xe(0,"div",1),_n(1,"div",2),qe(2," Calculating ...\n"),Se())}let Uu=(()=>{class t{constructor(){this.show=!1}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-calculating"]],inputs:{show:"show"},decls:1,vars:1,consts:[["class","mb-2 container",4,"ngIf"],[1,"mb-2","container"],[1,"spinner-grow","spinner-grow-sm","text-info","me-2"]],template:function(r,i){1&r&&Cn(0,gze,3,0,"div",0),2&r&&Qe("ngIf",i.show)},dependencies:[Ji]})}return t})(),Gu=(()=>{class t{constructor(e){this.datePipe=e}transform(e,r){const i=z1.toDate(e),a=z1.selectTimeFormat(r),s=this.datePipe.transform(i,a)||"";let l=Gr.toHours(e);return l=Math.trunc(l),l>=1?`${l}:${s}`:s}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(hy,16))};static#t=this.\u0275pipe=Hi({name:"duration",type:t,pure:!0})}return t})();function yze(t,n){if(1&t&&(xe(0,"div",2),_n(1,"fa-icon",3),xe(2,"span"),qe(3,"There was an error while calculating profile."),Se()()),2&t){const e=zt();_e(),Qe("icon",e.exclamation)}}function bze(t,n){if(1&t&&(xe(0,"div",2),_n(1,"fa-icon",3),xe(2,"span"),qe(3),qn(4,"number"),Se()()),2&t){const e=zt();_e(),Qe("icon",e.exclamation),_e(2),gn("Not enough time to realize the dive (duration needs to be at least ",er(4,2,e.minimumDuration,"1.0-0")," min)! Set longer planed dive time.")}}function Cze(t,n){if(1&t&&(xe(0,"span"),qe(1),qn(2,"number"),Se()),2&t){const e=zt(3);_e(),gn("Not enough gas to realize the dive! Maximum bottom time for current amount of gas is ",er(2,1,e.dive.maxTime,"1.0-0")," min. Use larger tank, fill it with more gas, reduce dive duration or planned depth.")}}function Mze(t,n){1&t&&(xe(0,"span"),qe(1,"Not enough gas to realize the dive! Maximum bottom time for current amount of gas is shorter than currently planned dive. Use larger tank, fill it with more gas, reduce dive duration or planned depth."),Se())}function xze(t,n){if(1&t&&(xe(0,"div",2),_n(1,"fa-icon",3),Cn(2,Cze,3,4,"span",1)(3,Mze,2,0,"span",1),Se()),2&t){const e=zt(2);_e(),Qe("icon",e.exclamation),_e(),Qe("ngIf",e.dive.showMaxBottomTime),_e(),Qe("ngIf",!e.dive.showMaxBottomTime)}}function wze(t,n){if(1&t&&(xe(0,"div",7),_n(1,"fa-icon",3),xe(2,"span"),qe(3),qn(4,"number"),Se()()),2&t){const e=zt(2);_e(),Qe("icon",e.info),_e(2),gn("No decompression time for current depth exceeded (For no decompression dive set dive time maximum to ",er(4,2,e.noDeco,"1.0-0")," min)!")}}function _ze(t,n){if(1&t&&(xe(0,"div",8),_n(1,"fa-icon",3),xe(2,"span"),qe(3),qn(4,"number"),Se()()),2&t){const e=zt(2);_e(),Qe("icon",e.warning),_e(2),Q2("Exceeded 80 % of maximum single exposure oxygen toxicity units (",er(4,3,e.dive.otu,"1.0-0"),"/",e.otuLimit," OTU)! There is a high risk of lungs injury. Reduce amount of oxygen in your gases, dive duration or target depths.")}}function Sze(t,n){if(1&t&&(xe(0,"div",8),_n(1,"fa-icon",3),xe(2,"span"),qe(3),qn(4,"number"),Se()()),2&t){const e=zt(2);_e(),Qe("icon",e.warning),_e(2),gn("Exceeded 80 % of maximum single exposure oxygen toxicity (",er(4,2,e.dive.cns,"1.0-0")," %)! There is a high risk of CNS injury. Reduce amount of oxygen in your gases, dive duration or target depths.")}}function Tze(t,n){if(1&t&&(xe(0,"div",8),_n(1,"fa-icon",3),xe(2,"strong"),qe(3),qn(4,"duration"),qn(5,"number"),Se(),xe(6,"span"),qe(7,"Reached low partial pressure of oxygen (minimum depth exceeded)! There is a risk of hypoxia. Use gas with higher oxygen content."),Se()()),2&t){const e=zt().$implicit,r=zt(2);_e(),Qe("icon",r.warning),_e(2),T2("",er(4,4,e.timeStamp,e.timeStamp)," min, ",er(5,7,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": ")}}function Dze(t,n){if(1&t&&(xe(0,"div",8),_n(1,"fa-icon",3),xe(2,"strong"),qe(3),qn(4,"duration"),qn(5,"number"),Se(),xe(6,"span"),qe(7,"Reached high partial pressure of oxygen (maximum depth exceeded)! There is a risk of oxygen toxicity. Reduce the depth or use gas with lower oxygen content."),Se()()),2&t){const e=zt().$implicit,r=zt(2);_e(),Qe("icon",r.warning),_e(2),T2("",er(4,4,e.timeStamp,e.timeStamp)," min, ",er(5,7,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": ")}}function Aze(t,n){if(1&t&&(xe(0,"div",8),_n(1,"fa-icon",3),xe(2,"strong"),qe(3),qn(4,"duration"),qn(5,"number"),Se(),xe(6,"span"),qe(7,"High descent speed! Descent longer time or descent to lower depth."),Se()()),2&t){const e=zt().$implicit,r=zt(2);_e(),Qe("icon",r.warning),_e(2),T2("",er(4,4,e.timeStamp,e.timeStamp)," min, ",er(5,7,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": ")}}function Hze(t,n){if(1&t&&(xe(0,"div",8),_n(1,"fa-icon",3),xe(2,"strong"),qe(3),qn(4,"duration"),qn(5,"number"),Se(),xe(6,"span"),qe(7,"High ascent speed! Ascent to higher depth only or ascent longer time."),Se()()),2&t){const e=zt().$implicit,r=zt(2);_e(),Qe("icon",r.warning),_e(2),T2("",er(4,4,e.timeStamp,e.timeStamp)," min, ",er(5,7,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": ")}}function Lze(t,n){if(1&t&&(xe(0,"div",8),_n(1,"fa-icon",3),xe(2,"strong"),qe(3),qn(4,"duration"),qn(5,"number"),Se(),xe(6,"span"),qe(7,"Exceeded minimum safe (ceiling) depth! Change your plan to higher depth at this point."),Se()()),2&t){const e=zt().$implicit,r=zt(2);_e(),Qe("icon",r.warning),_e(2),T2("",er(4,4,e.timeStamp,e.timeStamp)," min, ",er(5,7,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": ")}}function zze(t,n){if(1&t&&(xe(0,"div",8),_n(1,"fa-icon",3),xe(2,"strong"),qe(3),qn(4,"duration"),qn(5,"number"),Se(),xe(6,"span"),qe(7,"Gas switch to gas with higher nitrogen content is not recommended! There is a risk od isobaric counter diffusion (IDC). Switch to another gas with higher helium content or lower nitrogen content."),Se()()),2&t){const e=zt().$implicit,r=zt(2);_e(),Qe("icon",r.warning),_e(2),T2("",er(4,4,e.timeStamp,e.timeStamp)," min, ",er(5,7,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": ")}}function kze(t,n){if(1&t&&(xe(0,"div",8),_n(1,"fa-icon",3),xe(2,"strong"),qe(3),qn(4,"duration"),qn(5,"number"),Se(),xe(6,"span"),qe(7,"Exceeded maximum narcotic depth for selected gas! Reduce the depth or use gas with higher helium content."),Se()()),2&t){const e=zt().$implicit,r=zt(2);_e(),Qe("icon",r.warning),_e(2),T2("",er(4,4,e.timeStamp,e.timeStamp)," min, ",er(5,7,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": ")}}function Vze(t,n){if(1&t&&(xe(0,"div",8),_n(1,"fa-icon",3),xe(2,"strong"),qe(3),qn(4,"duration"),qn(5,"number"),Se(),xe(6,"span"),qe(7,"Exceeded maximum recommended gas density! Reduce the depth or use gas with higher helium content (i.e. lower density)."),Se()()),2&t){const e=zt().$implicit,r=zt(2);_e(),Qe("icon",r.warning),_e(2),T2("",er(4,4,e.timeStamp,e.timeStamp)," min, ",er(5,7,r.eventDepthFor(e),"1.0-0")," ",r.units.length,": ")}}function Eze(t,n){if(1&t&&(ua(0),Cn(1,Tze,8,10,"div",5)(2,Dze,8,10,"div",5)(3,Aze,8,10,"div",5)(4,Hze,8,10,"div",5)(5,Lze,8,10,"div",5)(6,zze,8,10,"div",5)(7,kze,8,10,"div",5)(8,Vze,8,10,"div",5),fa()),2&t){const e=n.$implicit,r=zt(2);_e(),Qe("ngIf",r.isLowPpO2(e)),_e(),Qe("ngIf",r.isHighPpO2(e)),_e(),Qe("ngIf",r.isHighDescentSpeed(e)),_e(),Qe("ngIf",r.isHighAscentSpeed(e)),_e(),Qe("ngIf",r.isBrokenCeiling(e)),_e(),Qe("ngIf",r.isHighN2Switch(e)),_e(),Qe("ngIf",r.isMndExceeded(e)),_e(),Qe("ngIf",r.isHighDensity(e))}}function Nze(t,n){if(1&t&&(ua(0),Cn(1,xze,4,3,"div",0)(2,wze,5,5,"div",4)(3,_ze,5,6,"div",5)(4,Sze,5,5,"div",5)(5,Eze,9,8,"ng-container",6),fa()),2&t){const e=zt();_e(),Qe("ngIf",e.dive.calculated&&e.dive.notEnoughGas),_e(),Qe("ngIf",e.dive.diveInfoCalculated&&e.dive.noDecoExceeded),_e(),Qe("ngIf",e.dive.diveInfoCalculated&&e.dive.otuExceeded),_e(),Qe("ngIf",e.dive.diveInfoCalculated&&e.dive.cnsExceeded),_e(),Qe("ngForOf",e.events)}}let tG=(()=>{class t{constructor(e,r){this.units=e,this.schedules=r,this.exclamation=PN,this.warning=zu,this.info=mF,this.otuLimit=ZM.dailyLimit}get events(){return no()(this.dive.events).sortBy(e=>e.timeStamp).value()}get minimumDuration(){return this.schedules.selectedDepths.planDuration+1}get noDeco(){return this.dive.noDecoTime}get dive(){return this.schedules.selectedResult}isLowPpO2(e){return e.type===Ei.lowPpO2}isHighPpO2(e){return e.type===Ei.highPpO2}isHighAscentSpeed(e){return e.type===Ei.highAscentSpeed}isHighDescentSpeed(e){return e.type===Ei.highDescentSpeed}isBrokenCeiling(e){return e.type===Ei.brokenCeiling}isHighN2Switch(e){return e.type===Ei.switchToHigherN2}isMndExceeded(e){return e.type===Ei.maxEndExceeded}isHighDensity(e){return e.type===Ei.highGasDensity}eventDepthFor(e){return this.units.fromMeters(e.depth)}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(oi),Dt(Ua))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-dive-issues"]],decls:3,vars:3,consts:[["class","alert alert-danger",4,"ngIf"],[4,"ngIf"],[1,"alert","alert-danger"],[1,"me-2",3,"icon"],["class","alert alert-info",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"alert","alert-info"],[1,"alert","alert-warning"]],template:function(r,i){1&r&&Cn(0,yze,4,1,"div",0)(1,bze,5,5,"div",0)(2,Nze,6,5,"ng-container",1),2&r&&(Qe("ngIf",i.dive.calculated&&i.dive.failed),_e(),Qe("ngIf",i.dive.diveInfoCalculated&&i.dive.notEnoughTime),_e(),Qe("ngIf",!i.dive.hasErrors))},dependencies:[ko,Ji,Oa,ls,Gu]})}return t})();function Ize(t,n){if(1&t&&(xe(0,"span",3),qe(1),Se()),2&t){const e=zt();_e(),gn("",e.tank.name," ")}}function Pze(t,n){if(1&t&&(xe(0,"span"),qe(1),qn(2,"number"),Se()),2&t){const e=zt();_e(),Q2(", MND: ",er(2,2,e.gasMnd,"1.0-0")," ",e.units.length,"")}}let jv=(()=>{class t{constructor(e){this.units=e,this.tank=Ba.createDefault(),this.showName=!0,this.toxicity=new Kd}get gasMod(){const e=this.toxicity.modForGas(this.tank),r=this.units.fromMeters(e);return Sn.floor(r)}get gasMnd(){const e=this.toxicity.mndForGas(this.tank.gas),r=this.units.fromMeters(e);return Sn.floor(r)}get isTrimix(){return this.tank.he>0}get gasDecoMod(){const e=this.toxicity.switchDepth(this.tank),r=this.units.fromMeters(e);return Sn.floor(r)}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(oi))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-gaslabel"]],inputs:{tank:"tank",showName:"showName",toxicity:"toxicity"},decls:6,vars:12,consts:[[1,"text-muted"],["class","fw-bold",4,"ngIf"],[4,"ngIf"],[1,"fw-bold"]],template:function(r,i){1&r&&(xe(0,"small",0),Cn(1,Ize,2,1,"span",1),qe(2),qn(3,"number"),qn(4,"number"),Cn(5,Pze,3,5,"span",2),Se()),2&r&&(_e(),Qe("ngIf",i.showName),_e(),Hg(" MOD: ",er(3,6,i.gasMod,"1.0-0")," ",i.units.length,", switch ",er(4,9,i.gasDecoMod,"1.0-0")," ",i.units.length," "),_e(3),Qe("ngIf",i.isTrimix))},dependencies:[Ji,ls]})}return t})();function Rze(t,n){if(1&t&&(xe(0,"span"),qe(1),Se()),2&t){const e=zt();_e(),gn(" ",e.tank.id,".")}}const Fze=(t,n)=>({"progress-bar rounded-progress":!0,"bg-success":t,"bg-danger":n});let nG=(()=>{class t{constructor(e){this.units=e,this.tank=Ba.createDefault(),this.toxicity=new Kd,this.showId=!1}get endPressure(){return this.units.fromBar(this.tank.endPressure)}get startPressure(){return this.units.fromBar(this.tank.startPressure)}get reserve(){return this.units.fromBar(this.tank.reserve)}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(oi))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-tankchart"]],inputs:{tank:"tank",toxicity:"toxicity",showId:"showId"},decls:27,vars:39,consts:[[1,"my-4"],[1,"d-flex","flex-row","justify-content-between"],[1,"text-start"],[4,"ngIf"],[1,"text-end",3,"tank","toxicity","showName"],[1,"text-start","text-muted"],[1,"text-end","text-muted"],[1,"progress","gas-bar","mt-1","mb-2"],[1,"combined_wrapper"],["role","progressbar","aria-valuemin","0",1,"reserve-bar","rounded-progress"],[1,"reserve-overlay"],[1,"reserve-value"],["role","progressbar","aria-valuemin","0",3,"ngClass"]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"div",1)(2,"strong",2),Cn(3,Rze,2,1,"span",3),qe(4),Se(),_n(5,"app-gaslabel",4),Se(),xe(6,"div",1)(7,"small",5),qe(8),qn(9,"number"),qn(10,"number"),Se(),xe(11,"small",6),qe(12,"Rock bottom: "),xe(13,"strong"),qe(14),qn(15,"number"),Se(),qe(16),Se()(),xe(17,"div",7)(18,"div",8)(19,"div",9)(20,"div",10)(21,"div",11),qe(22),qn(23,"number"),Se()()(),xe(24,"div",12),qe(25),qn(26,"number"),Se()()()()),2&r&&(_e(3),Qe("ngIf",i.showId),_e(),gn(" ",i.tank.name,""),_e(),Qe("tank",i.tank)("toxicity",i.toxicity)("showName",!1),_e(3),T2("Gas remaining: ",er(9,21,i.endPressure,"1.0-0"),"/",er(10,24,i.startPressure,"1.0-0")," ",i.units.pressure,""),_e(6),Ir(er(15,27,i.reserve,"1.0-0")),_e(2),gn(" ",i.units.pressure,""),_e(3),u7("width",i.tank.percentsReserve+"%"),J1("aria-valuemax",i.tank.startPressure)("aria-valuenow",i.tank.reserve),_e(3),Ir(er(23,30,i.reserve,"1.0-0")),_e(2),u7("width",i.tank.percentsRemaining+"%"),Qe("ngClass",kl(36,Fze,i.tank.hasReserve,!i.tank.hasReserve)),J1("aria-valuemax",i.tank.startPressure)("aria-valuenow",i.tank.endPressure),_e(),gn(" ",er(26,33,i.endPressure,"1.0-0"),""))},dependencies:[k3,Ji,jv,ls],styles:[".gas-bar[_ngcontent-%COMP%]{padding:5px 8px;height:2em;font-size:1em;border:1px solid #a1a1a1;border-radius:.5em;background:transparent;box-shadow:none;overflow:visible;position:static}.rounded-progress[_ngcontent-%COMP%]{height:100%}.reserve-overlay[_ngcontent-%COMP%]{position:relative}.reserve-value[_ngcontent-%COMP%]{position:absolute;bottom:-3.75em;right:3px;text-align:right}.reserve-bar[_ngcontent-%COMP%]{position:absolute;padding:0;height:4em;top:-.1em;left:0;text-align:right;font-size:.75em;border-right:2px solid darkorange}.combined_wrapper[_ngcontent-%COMP%]{position:relative;width:100%}"]})}return t})();const Oze=["tabs"];function Bze(t,n){if(1&t){const e=fi();xe(0,"div",19)(1,"div",20),_n(2,"fa-icon",6),xe(3,"strong",21),qe(4,"Share plan"),Se(),xe(5,"button",22),mn("click",function(){return or(e),sr(zt().hideToast())}),Se()(),xe(6,"div",23),qe(7," URL address of this dive plan was copied to the clipboard. "),Se()()}if(2&t){const e=zt();_e(2),Qe("icon",e.iconShare)}}function Uze(t,n){if(1&t&&(xe(0,"strong"),qe(1),qn(2,"duration"),Se()),2&t){const e=zt();_e(),gn("",er(2,1,e.dive.totalDuration,e.dive.totalDuration)," ")}}function Gze(t,n){if(1&t&&(xe(0,"strong"),qe(1),qn(2,"number"),Se()),2&t){const e=zt();_e(),Ir(er(2,1,e.dive.timeToSurface,"1.0-0"))}}function $ze(t,n){if(1&t&&(xe(0,"strong"),qe(1),qn(2,"number"),Se()),2&t){const e=zt();_e(),Ir(er(2,1,e.averageDepth,"1.0-1"))}}function Wze(t,n){if(1&t&&(xe(0,"strong"),qe(1),qn(2,"duration"),Se()),2&t){const e=zt();_e(),gn("",er(2,1,e.dive.emergencyAscentStart,e.dive.emergencyAscentStart)," ")}}function jze(t,n){if(1&t){const e=fi();xe(0,"button",24),mn("click",function(){return or(e),sr(zt().applyNdlDuration())}),qe(1,"Use"),Se()}}function Yze(t,n){if(1&t&&(xe(0,"strong"),qe(1),qn(2,"number"),Se()),2&t){const e=zt();_e(),Ir(er(2,1,e.noDeco,"1.0-0"))}}function Zze(t,n){if(1&t){const e=fi();xe(0,"button",24),mn("click",function(){return or(e),sr(zt(2).applyMaxDuration())}),qe(1,"Use"),Se()}}function Xze(t,n){if(1&t&&(xe(0,"strong"),qe(1),qn(2,"number"),Se()),2&t){const e=zt(2);_e(),Ir(er(2,1,e.dive.maxTime,"1.0-0"))}}function Kze(t,n){if(1&t&&(xe(0,"tr")(1,"td"),qe(2,"Maximum bottom time [min]: "),Cn(3,Zze,2,0,"button",16),Se(),xe(4,"td",14),Cn(5,Xze,3,4,"strong",15),Se()()),2&t){const e=zt();_e(3),Qe("ngIf",e.showApply),_e(2),Qe("ngIf",e.dive.calculated)}}function Qze(t,n){if(1&t&&(xe(0,"strong"),qe(1),qn(2,"number"),Se()),2&t){const e=zt(2);_e(),Ir(er(2,1,e.highestDensity,"1.0-2"))}}function Jze(t,n){if(1&t&&(xe(0,"tr")(1,"td"),qe(2),_n(3,"br"),qe(4),Se(),xe(5,"td",14),Cn(6,Qze,3,4,"strong",15),Se()()),2&t){const e=zt();_e(2),gn(" Highest gas density [",e.units.density,"]:"),_e(2),gn(" (",e.densityText,") "),_e(2),Qe("ngIf",e.dive.calculated)}}function qze(t,n){if(1&t&&(xe(0,"strong"),qe(1),qn(2,"number"),Se()),2&t){const e=zt(2);_e(),Ir(er(2,1,e.dive.turnTime,"1.0-0"))}}function eke(t,n){if(1&t&&(xe(0,"tr")(1,"td"),qe(2,"Turn time [min]:"),Se(),xe(3,"td",14),Cn(4,qze,3,4,"strong",15),Se()()),2&t){const e=zt();_e(4),Qe("ngIf",e.dive.calculated)}}function tke(t,n){if(1&t&&(xe(0,"strong"),qe(1),qn(2,"number"),Se()),2&t){const e=zt(2);_e(),Ir(er(2,1,e.dive.turnPressure,"1.0-0"))}}function nke(t,n){if(1&t&&(xe(0,"tr")(1,"td"),qe(2),Se(),xe(3,"td",14),Cn(4,tke,3,4,"strong",15),Se()()),2&t){const e=zt();_e(2),gn("Turn pressure [",e.units.pressure,"]:"),_e(2),Qe("ngIf",e.dive.calculated)}}function rke(t,n){if(1&t&&(xe(0,"strong"),qe(1),qn(2,"number"),Se()),2&t){const e=zt(2);_e(),Ir(er(2,1,e.dive.otu,"1.0-0"))}}function ike(t,n){if(1&t&&(xe(0,"tr")(1,"td"),qe(2,"OTU toxicity [OTU]:"),Se(),xe(3,"td",14),Cn(4,rke,3,4,"strong",15),Se()()),2&t){const e=zt();_e(4),Qe("ngIf",e.dive.calculated)}}function ake(t,n){if(1&t&&(xe(0,"strong"),qe(1),Se()),2&t){const e=zt(2);_e(),Ir(e.cnsText)}}function ske(t,n){if(1&t&&(xe(0,"tr")(1,"td"),qe(2,"CNS toxicity [%]:"),Se(),xe(3,"td",14),Cn(4,ake,2,1,"strong",15),Se()()),2&t){const e=zt();_e(4),Qe("ngIf",e.dive.calculated)}}function oke(t,n){1&t&&_n(0,"fa-icon",26),2&t&&Qe("icon",zt(2).warnIcon)}function cke(t,n){if(1&t&&(xe(0,"span"),qe(1,"Consumed"),Se(),Cn(2,oke,1,1,"fa-icon",25)),2&t){const e=zt();_e(2),Qe("ngIf",e.dive.notEnoughGas)}}function lke(t,n){if(1&t&&_n(0,"app-tankchart",28),2&t){const e=n.$implicit,r=zt(2);Qe("tank",e)("showId",r.isComplex)("toxicity",r.toxicity)}}function uke(t,n){if(1&t&&(ua(0),Cn(1,lke,1,3,"app-tankchart",27),fa()),2&t){const e=zt();_e(),Qe("ngForOf",e.tanks)}}function fke(t,n){if(1&t&&_n(0,"fa-icon",30),2&t){const e=zt(2);pr("text-danger",e.dive.hasErrorEvent)("text-warning",!e.dive.hasErrorEvent&&e.dive.hasWarningEvent),Qe("icon",e.warnIcon)}}function dke(t,n){if(1&t&&(xe(0,"span"),qe(1,"Issues"),Se(),Cn(2,fke,1,5,"fa-icon",29)),2&t){const e=zt();_e(2),Qe("ngIf",e.dive.hasErrorEvent||e.dive.hasWarningEvent)}}let rG=(()=>{class t extends H2{constructor(e,r,i,a,s){super(),this.clipboard=e,this.viewSwitch=r,this.units=i,this.dispatcher=a,this.schedules=s,this.icon=yM,this.iconShare=NM,this.warnIcon=zu,this.toastVisible=!1,this.clipboard.copyResponse$.pipe(di(this.unsubscribe$)).subscribe(l=>{this.copyToClipBoard(l)}),this.dispatcher.infoCalculated$.pipe(di(this.unsubscribe$)).subscribe(l=>{this.checkIssuesTab(l)})}get isComplex(){return this.viewSwitch.isComplex}get tanks(){return this.schedules.selectedTanks.tankData}get noDeco(){return this.dive.noDecoTime}get showApply(){return!this.isComplex&&this.dive.calculated}get averageDepth(){return this.units.fromMeters(this.dive.averageDepth)}get highestDensity(){return this.units.fromGramPerLiter(this.dive.highestDensity.density)}get densityText(){return`${this.dive.highestDensity.gas.name} at ${this.units.fromMeters(this.dive.highestDensity.depth)} ${this.units.length}`}get cnsText(){return this.dive.cns>=1e3?Bu.cnsOverOneThousand:U7(this.dive.cns,"en","1.0-0")}get dive(){return this.schedules.selectedResult}get toxicity(){return this.schedules.selectedToxicity}get depthsService(){return this.schedules.selectedDepths}applyMaxDuration(){this.depthsService.applyMaxDuration()}applyNdlDuration(){this.depthsService.applyNdlDuration()}sharePlan(){this.clipboard.copy(window.location.href)}hideToast(){this.toastVisible=!1}checkIssuesTab(e){const r=this.schedules.selected;r.id===e&&(r.diveResult.hasErrorEvent||r.diveResult.hasErrorEvent)&&this.tabs?.setActiveTab(2)}copyToClipBoard(e){e.isSuccess&&(this.toastVisible=!0,setTimeout(()=>{this.hideToast()},5e3))}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(bae),Dt(Zl),Dt(oi),Dt(B1),Dt(Ua))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-diveinfo"]],viewQuery:function(r,i){if(1&r&&q6(Oze,5),2&r){let a;e2(a=t2())&&(i.tabs=a.first)}},features:[yi],decls:59,vars:19,consts:[[1,"card"],[1,"card-header"],[1,"float-start","mt-1"],[1,"me-3",3,"icon"],[1,"float-end"],["type","button",1,"btn","btn-sm","btn-secondary",3,"click"],[1,"me-2",3,"icon"],[1,"position-fixed","top-0","end-0","px-3","py-2","m-16","mt-5","success"],["role","alert","aria-live","assertive","aria-atomic","true","class","toast fade text-light mt-2 bg-success success","data-autohide","true",4,"ngIf"],[1,"card-body","card-minheight"],["tabs",""],["title","Results"],[1,"pb-3"],[1,"table","table-sm"],[1,"table-active"],[4,"ngIf"],["type","button","class","btn btn-secondary btn-sm ml-2",3,"click",4,"ngIf"],[3,"show"],["mdbTabTitle",""],["role","alert","aria-live","assertive","aria-atomic","true","data-autohide","true",1,"toast","fade","text-light","mt-2","bg-success","success"],[1,"toast-header","bg-success","success","text-light"],[1,"me-auto"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"toast-body","alert-success"],["type","button",1,"btn","btn-secondary","btn-sm","ml-2",3,"click"],["class","ms-2 fa-xl text-danger",3,"icon",4,"ngIf"],[1,"ms-2","fa-xl","text-danger",3,"icon"],[3,"tank","showId","toxicity",4,"ngFor","ngForOf"],[3,"tank","showId","toxicity"],["class","ms-2 fa-xl",3,"text-danger","text-warning","icon",4,"ngIf"],[1,"ms-2","fa-xl",3,"icon"]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"div",1)(2,"div",2),_n(3,"fa-icon",3),xe(4,"span"),qe(5,"Dive info"),Se()(),xe(6,"div",4)(7,"button",5),mn("click",function(){return i.sharePlan()}),_n(8,"fa-icon",6),qe(9,"Share "),Se()()(),xe(10,"div",7),Cn(11,Bze,8,1,"div",8),Se(),xe(12,"div",9)(13,"mdb-tabs",null,10)(15,"mdb-tab",11)(16,"div",12)(17,"table",13)(18,"tbody")(19,"tr")(20,"td"),qe(21,"Total dive time [min]:"),Se(),xe(22,"td",14),Cn(23,Uze,3,4,"strong",15),Se()(),xe(24,"tr")(25,"td"),qe(26,"Time to surface [min]:"),Se(),xe(27,"td",14),Cn(28,Gze,3,4,"strong",15),Se()(),xe(29,"tr")(30,"td"),qe(31),Se(),xe(32,"td",14),Cn(33,$ze,3,4,"strong",15),Se()(),xe(34,"tr")(35,"td"),qe(36,"Rock bottom at [min]:"),Se(),xe(37,"td",14),Cn(38,Wze,3,4,"strong",15),Se()(),xe(39,"tr")(40,"td"),qe(41,"No decompression time [min]: "),Cn(42,jze,2,0,"button",16),Se(),xe(43,"td",14),Cn(44,Yze,3,4,"strong",15),Se()(),Cn(45,Kze,6,2,"tr",15)(46,Jze,7,3,"tr",15)(47,eke,5,1,"tr",15)(48,nke,5,2,"tr",15)(49,ike,5,1,"tr",15)(50,ske,5,1,"tr",15),Se()()(),_n(51,"app-calculating",17),Se(),xe(52,"mdb-tab"),Cn(53,cke,3,1,"ng-template",18)(54,uke,2,1,"ng-container",15),_n(55,"app-calculating",17),Se(),xe(56,"mdb-tab"),Cn(57,dke,3,1,"ng-template",18),_n(58,"app-dive-issues"),Se()()()()),2&r&&(_e(3),Qe("icon",i.icon),_e(5),Qe("icon",i.iconShare),_e(3),Qe("ngIf",i.toastVisible),_e(12),Qe("ngIf",i.dive.calculated),_e(5),Qe("ngIf",i.dive.calculated),_e(3),gn("Average depth [",i.units.length,"]:"),_e(2),Qe("ngIf",i.dive.profileCalculated),_e(5),Qe("ngIf",i.dive.calculated),_e(4),Qe("ngIf",i.showApply),_e(2),Qe("ngIf",i.dive.diveInfoCalculated),_e(),Qe("ngIf",i.dive.showMaxBottomTime),_e(),Qe("ngIf",i.isComplex),_e(),Qe("ngIf",i.dive.needsReturn),_e(),Qe("ngIf",i.dive.needsReturn),_e(),Qe("ngIf",i.dive.profileCalculated),_e(),Qe("ngIf",i.dive.profileCalculated),_e(),Qe("show",!i.dive.calculated),_e(3),Qe("ngIf",i.dive.showResults),_e(),Qe("show",!i.dive.calculated))},dependencies:[ko,Ji,Oa,Wp,ok,oC,Uu,tG,nG,ls,Gu]})}return t})();function hke(t,n){if(1&t&&(xe(0,"div",8),qe(1),Se()),2&t){const e=zt();_e(),gn(" Needs to be number ",e.units.ranges.altitudeLabel," ")}}let Yv=(()=>{class t{constructor(e,r,i,a){this.fb=e,this.inputs=r,this.validators=i,this.units=a,this.inputChange=new Kt,this.altitude=0,this.controlName="altitude"}get smallHill(){return this.levelLabel(1)}get mountains(){return this.levelLabel(2)}get highMountains(){return this.levelLabel(3)}get altitudeInvalid(){const e=this.altitudeForm.get(this.controlName);return this.inputs.controlInValid(e)}ngOnInit(){if(!this.altitudeForm){this.altitudeForm=this.fb.group({});const e=this.units.fromMeters(this.altitude),r=this.fb.control(e,this.validators.altitude);this.altitudeForm.addControl(this.controlName,r)}}altitudeChanged(){if(this.altitudeForm.invalid)return;const e=this.altitudeForm.get(this.controlName),r=Number(e?.value);this.altitude=this.units.toMeters(r),this.inputChange.emit(this.altitude)}seaLevel(){this.setLevel(0)}setHill(){this.setLevel(1)}setMountains(){this.setLevel(2)}setHighMountains(){this.setLevel(3)}setLevel(e){const r=this.selectLevels()[e];this.altitudeForm.patchValue({[this.controlName]:r}),this.altitudeChanged()}levelLabel(e){return`${this.selectLevels()[e]} ${this.units.altitude}`}selectLevels(){return this.units.ranges.altitudeLevels}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(ts),Dt(Ss),Dt(ja),Dt(oi))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-altitude"]],inputs:{altitude:"altitude",altitudeForm:"altitudeForm",controlName:"controlName"},outputs:{inputChange:"inputChange"},decls:20,vars:10,consts:[[1,"mb-2",3,"formGroup"],["for","altitudeField","mdbLabel","",1,"form-label"],["mdbDropdown","",1,"input-group","dropdown"],["id","altitudeField","type","number","required","","step","1","formControlName","altitude",1,"form-control",3,"min","max","input"],["type","button","aria-expanded","false","mdbDropdownToggle","",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],["class","text-danger form-text position-absolute",4,"ngIf"],[1,"text-danger","form-text","position-absolute"]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"label",1),qe(2),Se(),xe(3,"div",2)(4,"input",3),mn("input",function(){return i.altitudeChanged()}),Se(),_n(5,"button",4),xe(6,"ul",5)(7,"li",6),mn("click",function(){return i.seaLevel()}),xe(8,"a"),qe(9,"Sea level"),Se()(),xe(10,"li",6),mn("click",function(){return i.setHill()}),xe(11,"a"),qe(12),Se()(),xe(13,"li",6),mn("click",function(){return i.setMountains()}),xe(14,"a"),qe(15),Se()(),xe(16,"li",6),mn("click",function(){return i.setHighMountains()}),xe(17,"a"),qe(18),Se()()()(),Cn(19,hke,2,1,"div",7),Se()),2&r&&(Qe("formGroup",i.altitudeForm),_e(2),gn("Altitude [",i.units.altitude,"]:"),_e(2),pr("is-invalid",i.altitudeInvalid),Qe("min",i.units.ranges.altitude[0])("max",i.units.ranges.altitude[1]),_e(8),Ir(i.smallHill),_e(3),Ir(i.mountains),_e(3),Ir(i.highMountains),_e(),Qe("ngIf",i.altitudeInvalid))},dependencies:[Ji,Wa,xs,us,qa,T1,_s,ws,Pa,es,Wl,qc,el,A1]})}return t})();function pke(t,n){1&t&&(xe(0,"div",13)(1,"label",14),qe(2,"Conservatism (Gradient factors):"),Se()())}function vke(t,n){1&t&&(xe(0,"label",15),qe(1,"Gradient low [%]:"),Se())}function mke(t,n){1&t&&_n(0,"input",16),2&t&&Qe("value",zt().conservatism)("readonly",!0)}function gke(t,n){if(1&t){const e=fi();xe(0,"input",17),mn("input",function(){return or(e),sr(zt().gfLowChanged())}),Se()}if(2&t){const e=zt();pr("is-invalid",e.gfLowInvalid),Qe("min",e.minGradient)("max",e.maxGradient)}}function yke(t,n){if(1&t&&(xe(0,"div",18),qe(1),Se()),2&t){const e=zt();_e(),Q2(" Needs to be number ",e.minGradient," - ",e.maxGradient," lower than gradient high")}}function bke(t,n){if(1&t){const e=fi();xe(0,"div",19)(1,"label",20),qe(2,"Gradient high [%]:"),Se(),xe(3,"input",21),mn("input",function(){return or(e),sr(zt().gfHighChanged())}),Se(),xe(4,"div",22),qe(5),Se()()}if(2&t){const e=zt();_e(3),pr("is-invalid",e.gfHighInvalid),Qe("min",e.minGradient)("max",e.maxGradient),_e(2),Q2(" Needs to be number ",e.minGradient," - ",e.maxGradient," higher than gradient low ")}}const Cke=t=>({"col-sm-6":t});let ux=(()=>{class t{constructor(e,r,i){this.fb=e,this.inputs=r,this.validators=i,this.showTitle=!1,this.simple=!1,this.gfLow=Kr.gfLow,this.gfHigh=Kr.gfHigh,this.inputChange=new Kt,this.minGradient=ja.minGradient,this.maxGradient=ja.maxGradient,this.standards=new MU}get conservatism(){return this.standards.labelFor(this.gfLow,this.gfHigh)}get gfLowInvalid(){return this.inputs.controlInValid(this.gfForm.controls.gfLow)}get gfHighInvalid(){return this.inputs.controlInValid(this.gfForm.controls.gfHigh)}gfHighChanged(){if(this.gfHighInvalid)return;const e=Number(this.gfForm.controls.gfHigh.value);this.gfHigh=e/100,this.inputChange.emit(new _0(this.gfLow,this.gfHigh))}gfLowChanged(){if(this.gfLowInvalid)return;const e=Number(this.gfForm.controls.gfLow.value);this.gfLow=e/100,this.inputChange.emit(new _0(this.gfLow,this.gfHigh))}ngOnInit(){this.gfForm||(this.gfForm=this.fb.group({gfLow:[Sn.round(100*this.gfLow,1),this.validators.gradients],gfHigh:[Sn.round(100*this.gfHigh,1),this.validators.gradients]}))}lowConservatism(){this.applyStandards(this.standards.lowName)}mediumConservatism(){this.applyStandards(this.standards.mediumName)}highConservatism(){this.applyStandards(this.standards.highName)}applyStandards(e){const r=this.standards.get(e);this.gfLow=r.gfLow,this.gfHigh=r.gfHeigh,this.gfForm.patchValue({gfLow:Sn.round(100*this.gfLow,1),gfHigh:Sn.round(100*this.gfHigh,1),conservatism:this.conservatism}),this.inputChange.emit(new _0(this.gfLow,this.gfHigh))}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(ts),Dt(Ss),Dt(ja))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-gradients"]],inputs:{showTitle:"showTitle",simple:"simple",gfLow:"gfLow",gfHigh:"gfHigh",gfForm:"gfForm"},outputs:{inputChange:"inputChange"},decls:21,vars:13,consts:[[1,"row",3,"formGroup"],["class","row",4,"ngIf"],[1,"mb-4","col","col-12",3,"ngClass"],["for","gfLowField","class","form-label","mdbLabel","",4,"ngIf"],["mdbDropdown","",1,"input-group","dropdown"],["id","gfLowField","class","form-control","type","text",3,"value","readonly",4,"ngIf"],["id","gfLowField","class","form-control","type","number","formControlName","gfLow","required","","step","1",3,"min","max","is-invalid","input",4,"ngIf"],["type","button","id","conservatismMenu","mdbDropdownToggle","","data-mdb-toggle","dropdown","aria-expanded","false",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[3,"click"],[1,"dropdown-item"],["class","text-danger form-text position-absolute",4,"ngIf"],["class","mb-4 col col-12 col-sm-6",4,"ngIf"],[1,"row"],["for","gfLowField",1,"form-label"],["for","gfLowField","mdbLabel","",1,"form-label"],["id","gfLowField","type","text",1,"form-control",3,"value","readonly"],["id","gfLowField","type","number","formControlName","gfLow","required","","step","1",1,"form-control",3,"min","max","input"],[1,"text-danger","form-text","position-absolute"],[1,"mb-4","col","col-12","col-sm-6"],["for","gfHighField","mdbLabel","",1,"form-label"],["id","gfHighField","formControlName","gfHigh","type","number","required","","step","1",1,"form-control",3,"min","max","input"],[1,"invalid-feedback","position-absolute"]],template:function(r,i){1&r&&(xe(0,"div",0),Cn(1,pke,3,0,"div",1),xe(2,"div",2)(3,"div"),Cn(4,vke,2,0,"label",3),xe(5,"div",4),Cn(6,mke,1,2,"input",5)(7,gke,1,4,"input",6),_n(8,"button",7),xe(9,"ul",8)(10,"li",9),mn("click",function(){return i.lowConservatism()}),xe(11,"a",10),qe(12),Se()(),xe(13,"li",9),mn("click",function(){return i.mediumConservatism()}),xe(14,"a",10),qe(15),Se()(),xe(16,"li",9),mn("click",function(){return i.highConservatism()}),xe(17,"a",10),qe(18),Se()()()(),Cn(19,yke,2,2,"div",11),Se()(),Cn(20,bke,6,6,"div",12),Se()),2&r&&(Qe("formGroup",i.gfForm),_e(),Qe("ngIf",i.showTitle),_e(),Qe("ngClass",A8(11,Cke,!i.simple)),_e(2),Qe("ngIf",!i.simple),_e(2),Qe("ngIf",i.simple),_e(),Qe("ngIf",!i.simple),_e(5),Ir(i.standards.lowName),_e(3),Ir(i.standards.mediumName),_e(3),Ir(i.standards.highName),_e(),Qe("ngIf",i.gfLowInvalid),_e(),Qe("ngIf",!i.simple))},dependencies:[k3,Ji,Wa,xs,us,qa,T1,_s,ws,Pa,es,Wl,qc,el,A1]})}return t})(),fx=(()=>{class t{constructor(){this.salinity=ro.fresh,this.inputChange=new Kt,this.freshName="Fresh",this.brackishName="Brackish (EN13319)",this.saltName="Salt"}get salinityOption(){switch(this.salinity){case ro.salt:return this.saltName;case ro.brackish:return this.brackishName;default:return this.freshName}}useFresh(){this.salinity=ro.fresh,this.inputChange.emit(this.salinity)}useBrackish(){this.salinity=ro.brackish,this.inputChange.emit(this.salinity)}useSalt(){this.salinity=ro.salt,this.inputChange.emit(this.salinity)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-salinity"]],inputs:{salinity:"salinity"},outputs:{inputChange:"inputChange"},decls:15,vars:5,consts:[["for","salinity","mdbLabel","",1,"form-label"],["mdbDropdown","",1,"input-group","dropdown"],["id","salinity","type","text",1,"form-control",3,"value","readonly"],["aria-expanded","false","id","salinityMenu","type","button","data-mdb-toggle","dropdown","mdbDropdownToggle","",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[3,"click"],[1,"dropdown-item"]],template:function(r,i){1&r&&(xe(0,"label",0),qe(1,"Water salinity:"),Se(),xe(2,"div",1),_n(3,"input",2)(4,"button",3),xe(5,"ul",4)(6,"li",5),mn("click",function(){return i.useFresh()}),xe(7,"a",6),qe(8),Se()(),xe(9,"li",5),mn("click",function(){return i.useBrackish()}),xe(10,"a",6),qe(11),Se()(),xe(12,"li",5),mn("click",function(){return i.useSalt()}),xe(13,"a",6),qe(14),Se()()()()),2&r&&(_e(3),Qe("value",i.salinityOption)("readonly",!0),_e(5),Ir(i.freshName),_e(3),Ir(i.brackishName),_e(3),Ir(i.saltName))},dependencies:[Wl,qc,el,A1]})}return t})();function Mke(t,n){if(1&t){const e=fi();xe(0,"div")(1,"div",13)(2,"div",14)(3,"app-salinity",15),mn("inputChange",function(i){return or(e),sr(zt().salinityChanged(i))}),Se()(),xe(4,"div",14)(5,"app-altitude",16),mn("inputChange",function(i){return or(e),sr(zt().altitudeChanged(i))}),Se()(),xe(6,"div",17)(7,"app-gradients",18),mn("inputChange",function(i){return or(e),sr(zt().updateGradients(i))}),Se()()()()}if(2&t){const e=zt();_e(3),Qe("salinity",e.options.salinity),_e(2),Qe("altitude",e.options.getOptions().altitude)("altitudeForm",e.optionsForm),_e(2),Qe("gfLow",e.options.gfLow)("gfHigh",e.options.gfHigh)("gfForm",e.optionsForm)("simple",!0)("showTitle",!0)}}function xke(t,n){if(1&t){const e=fi();xe(0,"div")(1,"mdb-tabs")(2,"mdb-tab",19)(3,"div",20)(4,"div",21)(5,"app-altitude",16),mn("inputChange",function(i){return or(e),sr(zt().altitudeChanged(i))}),Se()(),xe(6,"div",21)(7,"app-salinity",15),mn("inputChange",function(i){return or(e),sr(zt().salinityChanged(i))}),Se()()()(),xe(8,"mdb-tab",22)(9,"div",23)(10,"app-gradients",18),mn("inputChange",function(i){return or(e),sr(zt().updateGradients(i))}),Se()()(),xe(11,"mdb-tab",24)(12,"div",20)(13,"div",25)(14,"label",26),qe(15),Se(),xe(16,"input",27),mn("input",function(){return or(e),sr(zt().applyOptions())}),Se(),xe(17,"div",28),qe(18),Se()(),xe(19,"div",29)(20,"div",30)(21,"input",31),mn("change",function(){return or(e),sr(zt().switchOxygenNarcotic())}),Se(),xe(22,"label",32),qe(23,"Oxygen is narcotic"),Se()()()()(),xe(24,"mdb-tab",33)(25,"div",34)(26,"div",35)(27,"label",36),qe(28,"Solve problem [min]:"),Se(),xe(29,"input",37),mn("input",function(){return or(e),sr(zt().applyOptions())}),Se(),xe(30,"div",28),qe(31," Needs to be number 1 - 100 mim "),Se()(),xe(32,"div",35)(33,"label",38),qe(34,"Gas switch [min]:"),Se(),xe(35,"input",39),mn("input",function(){return or(e),sr(zt().applyOptions())}),Se(),xe(36,"div",28),qe(37," Needs to be number 1 - 100 min "),Se()(),xe(38,"div",35)(39,"label",40),qe(40,"Add 3 min safety stop:"),Se(),xe(41,"div",41),_n(42,"input",42)(43,"button",43),xe(44,"ul",44)(45,"li",45),mn("click",function(){return or(e),sr(zt().useSafetyOff())}),xe(46,"a",46),qe(47),Se()(),xe(48,"li",45),mn("click",function(){return or(e),sr(zt().useSafetyAuto())}),xe(49,"a",46),qe(50),Se()(),xe(51,"li",45),mn("click",function(){return or(e),sr(zt().useSafetyOn())}),xe(52,"a",46),qe(53),Se()()()()(),xe(54,"div",35)(55,"label",47),qe(56),Se(),xe(57,"input",48),mn("input",function(){return or(e),sr(zt().applyOptions())}),Se(),xe(58,"div",28),qe(59),Se()(),xe(60,"div",49)(61,"div",5)(62,"input",50),mn("change",function(){return or(e),sr(zt().switchStopsRounding())}),Se(),xe(63,"label",32),qe(64,"Round deco stops to minutes"),Se()()()()(),xe(65,"mdb-tab",51)(66,"div",34)(67,"div",52)(68,"label",53),qe(69),Se(),xe(70,"input",54),mn("input",function(){return or(e),sr(zt().applyOptions())}),Se(),xe(71,"div",28),qe(72),Se()(),xe(73,"div",52)(74,"label",55),qe(75),Se(),xe(76,"input",56),mn("input",function(){return or(e),sr(zt().applyOptions())}),Se(),xe(77,"div",28),qe(78),Se()(),xe(79,"div",52)(80,"label",57),qe(81),Se(),xe(82,"input",58),mn("input",function(){return or(e),sr(zt().applyOptions())}),Se(),xe(83,"div",28),qe(84),Se()(),xe(85,"div",52)(86,"label",59),qe(87),Se(),xe(88,"input",60),mn("input",function(){return or(e),sr(zt().applyOptions())}),Se(),xe(89,"div",28),qe(90),Se()()()(),xe(91,"mdb-tab",61)(92,"app-diver",62),mn("changed",function(){return or(e),sr(zt().fireChanged())}),Se()()()()}if(2&t){const e=zt();_e(5),Qe("altitude",e.options.getOptions().altitude)("altitudeForm",e.optionsForm),_e(2),Qe("salinity",e.options.salinity),_e(3),Qe("gfLow",e.options.gfLow)("gfHigh",e.options.gfHigh)("gfForm",e.optionsForm)("simple",!1)("showTitle",!1),_e(5),gn("Max narcotic depth [",e.units.length,"]:"),_e(),pr("is-invalid",e.narcoticDepthInvalid),Qe("min",e.ranges.narcoticDepth[0])("max",e.ranges.narcoticDepth[1]),_e(2),gn(" Needs to be number ",e.ranges.narcoticDepthLabel," "),_e(3),Qe("checked",e.options.oxygenNarcotic),_e(8),pr("is-invalid",e.problemInvalid),_e(6),pr("is-invalid",e.switchDurationInvalid),_e(7),Qe("value",e.options.safetyStopOption)("readonly",!0),_e(5),Ir(e.options.safetyOffName),_e(3),Ir(e.options.safetyAutoName),_e(3),Ir(e.options.safetyOnName),_e(3),gn("Last stop depth [",e.units.length,"]:"),_e(),pr("is-invalid",e.lastStopInvalid),Qe("min",e.ranges.lastStopDepth[0])("max",e.ranges.lastStopDepth[1]),_e(2),gn(" Needs to be number ",e.ranges.lastStopDepthLabel," "),_e(3),Qe("checked",e.options.roundStopsToMinutes),_e(7),gn("Descent [",e.units.speed,"]:"),_e(),pr("is-invalid",e.descSpeedInvalid),Qe("min",e.ranges.speed[0])("max",e.ranges.speed[1]),_e(2),gn(" Needs to be number ",e.ranges.speedLabel," "),_e(3),gn("Ascent to 50% [",e.units.speed,"]:"),_e(),pr("is-invalid",e.ascentSpeed50percInvalid),Qe("min",e.ranges.speed[0])("max",e.ranges.speed[1]),_e(2),gn(" Needs to be number ",e.ranges.speedLabel," "),_e(3),T2("Ascent to ",e.units.defaults.lastSpeedLevel," ",e.units.length," [",e.units.speed,"]:"),_e(),pr("is-invalid",e.ascentSpeed50percTo6mInvalid),Qe("min",e.ranges.speed[0])("max",e.ranges.speed[1]),_e(2),gn(" Needs to be number ",e.ranges.speedLabel," "),_e(3),T2("Ascent ",e.units.defaults.lastSpeedLevel," ",e.units.length," to surface [",e.units.speed,"]:"),_e(),pr("is-invalid",e.ascSpeedInvalid),Qe("min",e.ranges.speed[0])("max",e.ranges.speed[1]),_e(2),gn(" Needs to be number ",e.ranges.speedLabel," "),_e(2),Qe("diver",e.options.diverOptions)("diverForm",e.optionsForm)}}let iG=(()=>{class t extends H2{constructor(e,r,i,a,s,l,M,R){super(),this.units=e,this.fb=r,this.inputs=i,this.validators=a,this.viewSwitch=s,this.schedules=l,this.preferences=M,this.dispatcher=R,this.formValid=!0,this.allUsableName="All usable",this.halfUsableName="Half usable",this.thirdUsableName="Thirds usable",this.strategy=this.allUsableName,this.icon=gM}get isComplex(){return this.viewSwitch.isComplex}get ranges(){return this.units.ranges}get narcoticDepthInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.maxEND)}get problemInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.problem)}get switchDurationInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.gasSwitch)}get lastStopInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.lastStopDepth)}get descSpeedInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.descentSpeed)}get ascSpeedInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.ascentSpeed6m)}get ascentSpeed50percTo6mInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.ascentSpeed50percTo6m)}get ascentSpeed50percInvalid(){return this.inputs.controlInValid(this.optionsForm.controls.ascentSpeed50perc)}get options(){return this.schedules.selectedOptions}get rmv(){const e=this.units.ranges.rmvRounding,i=this.units.fromLiter(this.options.diverOptions.rmv);return Sn.round(i,e)}set isComplex(e){e||this.setAllUsable(),this.viewSwitch.isComplex=e,e&&this.preferences.save()}ngOnInit(){this.optionsForm=this.fb.group({altitude:[this.options.altitude,this.validators.altitude],gfLow:[Sn.round(100*this.options.gfLow,1),this.validators.gradients],gfHigh:[Sn.round(100*this.options.gfHigh,1),this.validators.gradients],maxEND:[Sn.round(this.options.maxEND,1),this.validators.maxEnd],problem:[Sn.round(this.options.problemSolvingDuration,1),this.validators.problemSolvingDuration],gasSwitch:[Sn.round(this.options.gasSwitchDuration,1),this.validators.gasSwitchDuration],lastStopDepth:[Sn.round(this.options.lastStopDepth,1),this.validators.lastStopDepth],descentSpeed:[Sn.round(this.options.descentSpeed,1),this.validators.speed],ascentSpeed6m:[Sn.round(this.options.ascentSpeed6m,1),this.validators.speed],ascentSpeed50percTo6m:[Sn.round(this.options.ascentSpeed50percTo6m,1),this.validators.speed],ascentSpeed50perc:[Sn.round(this.options.ascentSpeed50perc,1),this.validators.speed],rmv:[this.rmv,this.validators.diverRmv],maxPO2:[Sn.round(this.options.diverOptions.maxPpO2,2),this.validators.ppO2],maxDecoPO2:[Sn.round(this.options.diverOptions.maxDecoPpO2,2),this.validators.ppO2]}),this.dispatcher.optionsReloaded$.pipe(di(this.unsubscribe$)).subscribe(e=>{this.options===e&&this.reload()}),this.dispatcher.selectedChanged$.pipe(di(this.unsubscribe$)).subscribe(()=>this.reload())}setAllUsable(){this.strategy=this.allUsableName}useRecreational(){this.options.useRecreational(),this.fireChanged(),this.reload()}useRecommended(){this.options.useRecommended(),this.fireChanged(),this.reload()}switchStopsRounding(){this.options.roundStopsToMinutes=!this.options.roundStopsToMinutes,this.applyOptions()}useSafetyOff(){this.options.useSafetyOff(),this.applyOptions()}useSafetyAuto(){this.options.useSafetyAuto(),this.applyOptions()}useSafetyOn(){this.options.useSafetyOn(),this.applyOptions()}switchOxygenNarcotic(){this.options.oxygenNarcotic=!this.options.oxygenNarcotic,this.applyOptions()}updateGradients(e){this.options.gfLow=e.gfLow,this.options.gfHigh=e.gfHeigh,this.applyOptions()}salinityChanged(e){this.options.salinity=e,this.applyOptions()}altitudeChanged(e){this.options.altitude=this.units.fromMeters(e),this.applyOptions()}applyOptions(){if(this.optionsForm.invalid)return;const e=this.optionsForm.value;this.options.maxEND=Number(e.maxEND),this.options.problemSolvingDuration=Number(e.problem),this.options.gasSwitchDuration=Number(e.gasSwitch),this.options.lastStopDepth=Number(e.lastStopDepth),this.options.descentSpeed=Number(e.descentSpeed),this.options.ascentSpeed6m=Number(e.ascentSpeed6m),this.options.ascentSpeed50percTo6m=Number(e.ascentSpeed50percTo6m),this.options.ascentSpeed50perc=Number(e.ascentSpeed50perc),this.fireChanged()}fireChanged(){this.dispatcher.sendOptionsChanged()}reload(){const e=this.options.diverOptions;this.optionsForm.patchValue({altitude:this.options.altitude,gfLow:Sn.round(100*this.options.gfLow,1),gfHigh:Sn.round(100*this.options.gfHigh,1),maxEND:Sn.round(this.options.maxEND,1),problem:Sn.round(this.options.problemSolvingDuration,1),gasSwitch:Sn.round(this.options.gasSwitchDuration,1),lastStopDepth:Sn.round(this.options.lastStopDepth,1),descentSpeed:Sn.round(this.options.descentSpeed,1),ascentSpeed6m:Sn.round(this.options.ascentSpeed6m,1),ascentSpeed50percTo6m:Sn.round(this.options.ascentSpeed50percTo6m,1),ascentSpeed50perc:Sn.round(this.options.ascentSpeed50perc,1),rmv:e.rmv,maxPO2:e.maxPpO2,maxDecoPO2:e.maxDecoPpO2})}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(oi),Dt(ts),Dt(Ss),Dt(ja),Dt(Zl),Dt(Ua),Dt(Fu),Dt(B1))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-diveoptions"]],inputs:{formValid:"formValid"},features:[yi],decls:20,vars:5,consts:[[1,"card"],[1,"card-header"],[1,"float-start"],[1,"me-3",3,"icon"],[1,"float-end"],[1,"form-check","form-switch"],["type","checkbox","id","isComplex","mdbCheckbox","",1,"form-check-input",3,"checked","change"],["for","isComplex",1,"custom-control-label"],[1,"card-body"],[3,"formGroup"],[4,"ngIf"],["type","button",1,"btn","btn-secondary","me-2","mt-3",3,"click"],["type","button",1,"btn","btn-secondary","mt-3",3,"click"],[1,"mt-3","row"],[1,"mb-4","col","col-12","col-sm-6","col-md-4","col-lg-12","col-xl-6"],[3,"salinity","inputChange"],["controlName","altitude",3,"altitude","altitudeForm","inputChange"],[1,"mb-4","col","col-12","col-sm-12","col-md-4","col-lg-12","col-xxl-12"],[3,"gfLow","gfHigh","gfForm","simple","showTitle","inputChange"],["title","Environment"],[1,"pt-3","row"],[1,"mb-4","col","col-12","col-sm-6"],["title","Conservatism"],[1,"pt-3"],["title","Gases"],[1,"mb-3","col","col-12","col-sm-6"],["for","maxNarcoticDepth","mdbLabel","",1,"form-label"],["id","maxNarcoticDepth","type","number","formControlName","maxEND","required","","step","1",1,"form-control",3,"min","max","input"],[1,"invalid-feedback","position-absolute"],[1,"col","col-12","col-sm-6"],[1,"form-check","form-switch","pb-1"],["type","checkbox","id","oxygenNarcotic","mdbCheckbox","",1,"form-check-input",3,"checked","change"],["for","roundStops",1,"form-check-label"],["title","Stops"],[1,"row","pt-3"],[1,"mb-4","col","col-12","col-sm-6","col-md-3","col-xxl-6"],["for","problem","mdbLabel","",1,"form-label"],["id","problem","formControlName","problem","type","number","required","","min","1","max","100","step","1",1,"form-control",3,"input"],["for","switchDuration","mdbLabel","",1,"form-label"],["id","switchDuration","formControlName","gasSwitch","type","number","required","","min","1","max","100","step","1",1,"form-control",3,"input"],["for","safetyStop","mdbLabel","",1,"form-label"],["mdbDropdown","",1,"input-group","dropdown"],["id","safetyStop","type","text",1,"form-control",3,"value","readonly"],["type","button","id","safetyStopMenu","aria-expanded","false","data-mdb-toggle","dropdown","mdbDropdownToggle","",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[3,"click"],[1,"dropdown-item"],["for","lastStop","mdbLabel","",1,"form-label"],["id","lastStop","formControlName","lastStopDepth","type","number","required","","step","1",1,"form-control",3,"min","max","input"],[1,"row","ms-2"],["type","checkbox","id","roundStops","mdbCheckbox","",1,"form-check-input",3,"checked","change"],["title","Speeds"],[1,"mb-4","col","col-12","col-sm-6","col-lg-3","col-xxl-6"],["for","descSpeed","mdbLabel","",1,"form-label"],["id","descSpeed","formControlName","descentSpeed","type","number","required","","step","1",1,"form-control",3,"min","max","input"],["for","ascSpeed3","mdbLabel","",1,"form-label"],["id","ascSpeed3","formControlName","ascentSpeed50perc","type","number","required","","step","1",1,"form-control",3,"min","max","input"],["for","ascSpeed2","mdbLabel","",1,"form-label"],["id","ascSpeed2","formControlName","ascentSpeed50percTo6m","type","number","required","","step","1",1,"form-control",3,"min","max","input"],["for","ascSpeed","mdbLabel","",1,"form-label"],["id","ascSpeed","formControlName","ascentSpeed6m","type","number","required","","step","1",1,"form-control",3,"min","max","input"],["title","Diver"],[1,"col","col-12","col-sm-5","col-lg-4","col-xl-3","col-xxl-2",3,"diver","diverForm","changed"]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"div",1)(2,"div",2),_n(3,"fa-icon",3),xe(4,"span"),qe(5,"Options"),Se()(),xe(6,"div",4)(7,"div",5)(8,"input",6),mn("change",function(){return i.isComplex=!i.isComplex}),Se(),xe(9,"label",7),qe(10,"Extended (Trimix)"),Se()()()(),xe(11,"div",8)(12,"form",9),Cn(13,Mke,8,8,"div",10)(14,xke,93,61,"div",10),xe(15,"div")(16,"button",11),mn("click",function(){return i.useRecreational()}),qe(17,"Recreational"),Se(),xe(18,"button",12),mn("click",function(){return i.useRecommended()}),qe(19,"Recommended"),Se()()()()()),2&r&&(_e(3),Qe("icon",i.icon),_e(5),Qe("checked",i.isComplex),_e(4),Qe("formGroup",i.optionsForm),_e(),Qe("ngIf",!i.isComplex),_e(),Qe("ngIf",i.isComplex))},dependencies:[Ji,Oa,D2,Wa,xs,us,qa,T1,_s,ws,Pa,es,Wl,qc,el,A1,Wp,oC,Yv,qM,ux,fx]})}return t})();var aG=Ya(743);let wke=(()=>{class t{constructor(e){this.units=e}resampleAverageDepth(e){const r=[],i=[];return e.length>0&&this.transformAverageDepth(e,r,i),{xValues:r,yValues:i}}convertEvents(e){const r=[],i=[],a=[];return e.forEach(s=>{if(this.isSupportedEvent(s)){r.push(z1.toDate(s.timeStamp));const l=this.convertDepth(s.depth);i.push(l);const M=this.formatChartEventText(s);a.push(M)}}),{xValues:r,yValues:i,labels:a}}resampleCeilings(e){const r=[],i=[];return e.forEach(a=>{r.push(z1.toDate(a.time));const s=this.convertDepth(a.depth);i.push(s)}),{xValues:r,yValues:i}}resampleWaypoints(e){const r=[],i=[];return e.forEach(a=>{this.resampleDepthsToSeconds(r,i,a)}),{xValues:r,yValues:i}}resampleDepthsToSeconds(e,r,i){const a=(i.endDepthMeters-i.startDepthMeters)/i.duration;for(let l=i.startTime;l<i.endTime;l++){e.push(z1.toDate(l));const R=this.convertDepth(i.startDepthMeters+(l-i.startTime)*a);r.push(R)}e.push(z1.toDate(i.endTime));const s=this.convertDepth(i.endDepthMeters);r.push(s)}transformAverageDepth(e,r,i){if(e.length<=0)return 0;let a=0,s=0;return e.forEach(l=>{if(l.duration>0)for(let M=0;M<l.duration;M++){r.push(z1.toDate(s));const oe=l.depthAt(M)+s*a;s++,a=oe/s;const Ce=this.convertDepth(a);i.push(Ce)}}),a}convertDepth(e){const r=this.units.fromMeters(e);return Sn.round(r,1)}isSupportedEvent(e){switch(e.type){case Ei.gasSwitch:case Ei.noDecoEnd:case Ei.safetyStop:return!0;default:return!1}}formatChartEventText(e){switch(e.type){case Ei.gasSwitch:{const r=e.gas;return r?si.nameFor(r.fO2,r.fHe):""}case Ei.noDecoEnd:return"Deco";case Ei.safetyStop:return"Safety stop";default:return""}}static#e=this.\u0275fac=function(r){return new(r||t)(pn(oi))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})(),dx=(()=>{class t{constructor(e){this.schedules=e,this.selectedChanged=new Kt}set selectedTimeStamp(e){let r;if(e){const i=z1.secondsFromDate(e);r=this.schedules.selected.diveResult.wayPoints.find(s=>s.fits(i))}this.selected=r}set selected(e){this.lastSelected&&(this.lastSelected.selected=!1),this.lastSelected=e,e&&this.lastSelected&&(this.lastSelected.selected=!0),this.selectedChanged.emit(this.lastSelected)}static#e=this.\u0275fac=function(r){return new(r||t)(pn(Ua))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})();const _ke=(t,n)=>({"plot-display":t,"plot-hidden":n});let hx=(()=>{class t extends H2{constructor(e,r,i,a){super(),this.units=e,this.selectedWaypoint=r,this.dispatcher=i,this.schedules=a,this.icon=KC,this.elementName="diveplot",this.options={displaylogo:!1,displayModeBar:!1,responsive:!0,autosize:!0,scrollZoom:!1,editable:!1},this.cursor1={xid:1,type:"line",xref:"x",yref:"y",x0:new Date("2001-06-12 12:30"),y0:0,x1:new Date("2001-06-12 12:30"),y1:1,fillcolor:"#d3d3d3",line:{color:"rgb(31, 119, 180)",width:5}},this.resampling=new wke(e),this.layout={autosize:!0,showlegend:!1,xaxis:{fixedrange:!0,title:{text:"Time [min]"}},yaxis:{fixedrange:!0,autorange:"reversed",title:{text:`Depth [${e.length}]`}},margin:{l:40,r:10,b:40,t:10},hovermode:"x unified",hoverlabel:{bgcolor:"rgba(200, 200, 200, 0.25)",bordercolor:"rgba(200, 200, 200, 0.25)"},shapes:[]},this.updateLayoutThickFormat(),this.dispatcher.wayPointsCalculated$.pipe(di(this.unsubscribe$)).subscribe(s=>{this.schedules.selected.id===s&&this.plotCharts()}),this.dispatcher.selectedChanged$.pipe(di(this.unsubscribe$)).subscribe(()=>this.plotCharts()),this.selectedWaypoint.selectedChanged.pipe(di(this.unsubscribe$)).subscribe(s=>this.selectWayPoint(s))}get profileCalculated(){return this.dive.profileCalculated}get dive(){return this.schedules.selected.diveResult}ngOnInit(){this.plotCharts(),this.hookChartEvents()}plotlyHover(e){this.selectedWaypoint.selectedTimeStamp=e.points[0].x}plotlyHoverLeave(e){this.selectedWaypoint.selectedTimeStamp=""}selectWayPoint(e){const i={shapes:[]};e&&(this.cursor1.x0=z1.toDate(e.startTime),this.cursor1.x1=z1.toDate(e.endTime),this.cursor1.y0=e.startDepth,this.cursor1.y1=e.endDepth,i.shapes.push(this.cursor1)),aG.relayout(this.elementName,i)}plotCharts(){this.updateLayoutThickFormat();const e=this.plotAverageDepth(),r=this.plotDepths(),i=this.plotCeilings(),a=this.plotEvents();aG.react(this.elementName,[e,r,i,a],this.layout,this.options)}hookChartEvents(){this.chartElement=document.getElementById(this.elementName),this.chartElement.on("plotly_hover",e=>this.plotlyHover(e)),this.chartElement.on("plotly_click",e=>this.plotlyHover(e)),this.chartElement.on("plotly_unhover",e=>this.plotlyHoverLeave(e))}updateLayoutThickFormat(){this.layout.xaxis.tickformat=z1.selectChartTimeFormat(this.dive.totalDuration)}plotAverageDepth(){const e=this.resampling.resampleAverageDepth(this.dive.wayPoints);return{x:e.xValues,y:e.yValues,type:"scatter",line:{dash:"dot"},name:"Avg. depth",marker:{color:"rgb(62, 157, 223)"},hovertemplate:`%{y:.2f}  ${this.units.length}`}}plotDepths(){const e=this.resampling.resampleWaypoints(this.dive.wayPoints);return{x:e.xValues,y:e.yValues,type:"scatter",name:"Depth",marker:{color:"rgb(31, 119, 180)"},hovertemplate:`%{y:.2f}  ${this.units.length}`}}plotCeilings(){const e=this.resampling.resampleCeilings(this.dive.ceilings);return{x:e.xValues,y:e.yValues,type:"scatter",fill:"tozeroy",name:"Ceiling",marker:{color:"rgb(255, 160, 73)"},hovertemplate:`%{y:.2f}  ${this.units.length}`}}plotEvents(){const e=this.resampling.convertEvents(this.dive.events);return{x:e.xValues,y:e.yValues,labels:e.labels,text:e.labels,type:"scatter",mode:"text+markers",fill:"tozeroy",name:"Event",hovertemplate:"%{text}",texttemplate:"%{text}",textposition:"top center",fillcolor:"rgba(0, 0, 0, 0)",marker:{color:"rgba(31, 119, 180, 0.5)",size:8,line:{color:"rgba(31, 119, 180, 0.7)",width:2}},showlegend:!1}}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(oi),Dt(dx),Dt(B1),Dt(Ua))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-profilechart"]],features:[yi],decls:8,vars:6,consts:[[1,"card"],[1,"card-header"],["flip","vertical",1,"me-3",3,"icon"],[1,"card-body","card-minheight"],[3,"show"],["id","diveplot",1,"diveplot",3,"ngClass"]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"div",1),_n(2,"fa-icon",2),xe(3,"span"),qe(4,"Profile chart"),Se()(),xe(5,"div",3),_n(6,"app-calculating",4)(7,"div",5),Se()()),2&r&&(_e(2),Qe("icon",i.icon),_e(4),Qe("show",!i.profileCalculated),_e(),Qe("ngClass",kl(3,_ke,i.profileCalculated,!i.profileCalculated)))},dependencies:[k3,Oa,Uu],styles:[".dive-level[_ngcontent-%COMP%]{stroke:#4169e1;stroke-width:2}.dive-surface[_ngcontent-%COMP%]{stroke:navy;stroke-width:4}.dive-waypoint[_ngcontent-%COMP%]{text-anchor:end}.dive-nodeco[_ngcontent-%COMP%]{fill:red;r:6}.dive-plot[_ngcontent-%COMP%]{position:relative;width:100%;height:450px}.plot-display[_ngcontent-%COMP%]{display:block}.plot-hidden[_ngcontent-%COMP%]{display:none}"]})}return t})(),sG=(()=>{class t{constructor(e){this.units=e}calculateWayPoints(e){const r=[],i=e[0];let a=Ev.fromSegment(this.units,i),s=i;return r.push(a),e.slice(1).forEach(M=>{const R=this.toWayPoint(M,a,s);a=R,s=M,r.push(R)}),r}toWayPoint(e,r,i){const a=r.toLevel(e);return!e.gas.compositionEquals(i.gas)&&a.asGasSwitch(),a}static#e=this.\u0275fac=function(r){return new(r||t)(pn(oi))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})();class ih{static calculateDecompression(n){const e=this.profileParametersFromTask(n),i=(new Yd).decompression(e),a=vi.fromProfile(i),l=XM.fromProfile({maxDensity:n.eventOptions.maxDensity,startAscentIndex:e.segments.startAscentIndex,profile:i.segments,ceilings:i.ceilings,profileOptions:e.options}),M=vi.fromEvents(l.items);return{diveId:n.diveId,profile:a,events:M}}static diveInfo(n){const e=this.profileParametersFromTask(n),i=(new Yd).noDecoLimit(e),a=new ku(n.options).create(),s=e.segments.items,l=new ZM(a).calculateForProfile(s),M=new BHe(a).calculateForProfile(s),R=new YM(a).forProfile(s);return{diveId:n.diveId,noDeco:i,otu:l,cns:M,density:vi.fromDensity(R)}}static calculateConsumption(n){const e=new ku(n.options).create(),r=new OHe(e),i=vi.toTanks(n.tanks),a=vi.toSegments(n.profile,i),s=vi.toSegments(n.plan,i),l=new Zd(n.diver.rmv),M=vi.toOptions(n.options),R=ih.selectConsumptionPlan(s,n.isComplex),oe=r.calculateMaxBottomTime(R,i,l,M),Ce=Yl.emergencyAscent(a,M,i);let We=Ns.duration(Ce);return We=Gr.toMinutes(We),r.consumeFromTanks2(a,Ce,M,i,l),{diveId:n.diveId,maxTime:oe,timeToSurface:We,tanks:vi.toConsumed(i)}}static selectConsumptionPlan(n,e){if(e)return Ns.fromCollection(n);const r=n.slice(0,1);return Ns.fromCollection(r)}static profileParametersFromTask(n){const e=vi.toTanks(n.tanks),r=M0.fromTanks(e),i=vi.toSegments(n.plan,e),a=Ns.fromCollection(i),s=vi.toOptions(n.options),l=vi.toTissues(n.tissues),M=new gU(l,n.surfaceInterval);return x0.forMultilevelDive(a,r,s,M)}}class px{createProfileWorker(){const n=new dt,e=new dt;return{calculated$:n,calculate:r=>{this.tryAction(i=>ih.calculateDecompression(i),r,n,e)},failed$:e}}createDiveInfoWorker(){const n=new dt,e=new dt;return{calculated$:n,calculate:r=>{this.tryAction(i=>ih.diveInfo(i),r,n,e)},failed$:e}}createConsumptionWorker(){const n=new dt,e=new dt;return{calculated$:n,calculate:r=>{this.tryAction(i=>ih.calculateConsumption(i),r,n,e)},failed$:e}}tryAction(n,e,r,i){try{const a=n(e);r.next(a)}catch{i.next()}}}let vx=(()=>{class t extends H2{constructor(e,r,i,a,s){super(),this.schedules=e,this.dispatcher=r,this.viewSwitch=i,this.waypoints=new sG(s),this.profileTask=a.createProfileWorker(),this.profileTask.calculated$.pipe(di(this.unsubscribe$)).subscribe(l=>this.continueCalculation(l)),this.profileTask.failed$.pipe(di(this.unsubscribe$)).subscribe(()=>this.profileFailed()),this.diveInfoTask=a.createDiveInfoWorker(),this.diveInfoTask.calculated$.pipe(di(this.unsubscribe$)).subscribe(l=>this.finishDiveInfo(l)),this.diveInfoTask.failed$.pipe(di(this.unsubscribe$)).subscribe(()=>this.profileFailed()),this.consumptionTask=a.createConsumptionWorker(),this.consumptionTask.calculated$.pipe(di(this.unsubscribe$)).subscribe(l=>this.finishConsumption(l)),this.consumptionTask.failed$.pipe(di(this.unsubscribe$)).subscribe(()=>this.profileFailed())}calculate(e){if(!this.schedules.validId(e))return;Po.debug(`Planner calculated: ${e}`);const r=this.diveById(e),i=r.diveResult;i.start(),setTimeout(()=>{i.showStillRunning()},500);const a=this.createProfileRequest(r);this.profileTask.calculate(a)}continueCalculation(e){if(!this.schedules.validId(e.diveId))return;const r=this.diveById(e.diveId),a=vi.toProfile(e.profile,r.tanksService.tankData),s=vi.toEvents(e.events),l=r.diveResult;l.wayPoints=this.wayPointsFromResult(a),l.ceilings=a.ceilings,l.events=s.items,l.finalTissues=a.tissues,l.averageDepth=Ns.averageDepth(a.segments),l.endsOnSurface?this.processCalculatedProfile(a,r):(l.endFailed(),this.sendFailedEvents())}processCalculatedProfile(e,r){const i=this.createProfileRequest(r);this.diveInfoTask.calculate(i);const a={diveId:r.id,isComplex:this.viewSwitch.isComplex,plan:i.plan,profile:vi.fromSegments(e.segments),options:i.options,diver:vi.fromDiver(r.optionsService.getDiver()),tanks:i.tanks};r.diveResult.profileFinished(),this.consumptionTask.calculate(a),this.dispatcher.sendWayPointsCalculated(r.id)}createProfileRequest(e){const r=this.previousDiveTissues(e.id);return{diveId:e.id,tanks:vi.fromTanks(e.tanksService.tanks),plan:vi.fromSegments(e.depths.segments),options:vi.fromOptions(e.optionsService.getOptions()),tissues:vi.fromTissues(r),surfaceInterval:e.surfaceInterval,eventOptions:this.createEventOptions()}}previousDiveTissues(e){return e>1?this.diveResult(e-1).finalTissues:[]}wayPointsFromResult(e){return e.errors.length>0?[]:this.waypoints.calculateWayPoints(e.segments)}profileFailed(){this.schedules.dives.forEach(e=>e.diveResult.endFailed()),this.sendFailedEvents()}finishDiveInfo(e){if(!this.schedules.validId(e.diveId))return;const r=this.diveById(e.diveId),i=r.diveResult;i.noDecoTime=e.noDeco,i.otu=e.otu,i.cns=e.cns,i.planDuration=r.depths.planDuration,i.notEnoughTime=r.depths.notEnoughTime,i.highestDensity=vi.toDensity(e.density),i.diveInfoFinished(),this.fireFinishedEvents(r)}finishConsumption(e){if(!this.schedules.validId(e.diveId))return;const r=this.diveById(e.diveId),i=r.tanksService;i.copyTanksConsumption(e.tanks);const a=r.diveResult;a.maxTime=e.maxTime,a.timeToSurface=e.timeToSurface,a.emergencyAscentStart=r.depths.startAscentTime,a.turnPressure=i.calculateTurnPressure(),a.turnTime=Sn.floor(r.depths.planDuration/2),a.needsReturn=r.depths.needsReturn&&i.singleTank,a.notEnoughGas=!i.enoughGas,a.consumptionFinished(),this.fireFinishedEvents(r)}createEventOptions(){return{maxDensity:bU.recommendedMaximum}}diveResult(e){return this.diveById(e).diveResult}diveById(e){const r=this.schedules.byId(e);if(r)return r;throw new Error(`Unable to find dive by Id '${e}'.`)}fireFinishedEvents(e){e.diveResult.running||this.dispatcher.sendInfoCalculated(e.id)}sendFailedEvents(){this.dispatcher.sendWayPointsCalculated(),this.dispatcher.sendInfoCalculated()}static#e=this.\u0275fac=function(r){return new(r||t)(pn(Ua),pn(B1),pn(Zl),pn(px),pn(oi))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})(),oG=(()=>{class t extends H2{constructor(e,r,i,a){super(),this.dispatcher=e,this.planner=r,this.diveSchedules=i,this.views=a,this.delayMilliseconds=100,this.scheduledDiveId=0}startScheduling(){this.scheduleAll(),this.registerEventListeners()}scheduleAll(){no()(this.diveSchedules.dives).filter(e=>e.primary).forEach(e=>setTimeout(()=>this.scheduleDive(e.id),this.delayMilliseconds))}registerEventListeners(){this.dispatcher.tankChanged$.pipe(di(this.unsubscribe$)).subscribe(()=>this.scheduleSelected()),this.dispatcher.depthChanged$.pipe(di(this.unsubscribe$)).subscribe(()=>this.scheduleSelected()),this.dispatcher.optionsChanged$.pipe(di(this.unsubscribe$)).subscribe(()=>this.scheduleSelected()),this.dispatcher.depthsReloaded$.pipe(di(this.unsubscribe$)).subscribe(()=>this.scheduleSelected()),this.dispatcher.setToSimple$.pipe(di(this.unsubscribe$)).subscribe(()=>this.scheduleAll()),this.dispatcher.infoCalculated$.pipe(di(this.unsubscribe$)).subscribe(e=>this.scheduleNextDive(e))}schedule(e){this.views.saveMainView(),this.scheduledDiveId!==e&&(this.scheduledDiveId=e,setTimeout(()=>this.scheduleDive(e),this.delayMilliseconds))}scheduleSelected(){this.schedule(this.diveSchedules.selected.id)}scheduleNextDive(e){if(!e)return;const r=e+1,i=this.diveSchedules.byId(r);i&&!i.primary&&this.schedule(r)}scheduleDive(e){this.planner.calculate(e),this.scheduledDiveId=0}static#e=this.\u0275fac=function(r){return new(r||t)(pn(B1),pn(vx),pn(Ua),pn(ao))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})(),mx=(()=>{class t{constructor(e,r,i,a){this.schedules=e,this.preferences=r,this.schedule=i,this.viewStore=a,this.preferences.ensureDefault(),this.loadAll()}get length(){return this.schedules.length}get empty(){return this.schedules.empty}get dives(){return this.schedules.dives}get selectedIndex(){return this.schedules.selected.index}add(){const e=this.schedules.add();this.loadDefaultTo(e)}remove(e){this.schedules.remove(e),this.preferences.save()}loadDefaults(){this.loadDefaultTo(this.schedules.selected)}saveDefaults(){this.preferences.saveDefault()}loadAll(){this.preferences.load(),this.schedule.startScheduling()}select(e){this.viewStore.setSelectedDive(e),this.schedules.setSelectedIndex(e)}loadDefaultTo(e){this.preferences.loadDefault(e),this.preferences.save()}static#e=this.\u0275fac=function(r){return new(r||t)(pn(Ua),pn(Fu),pn(oG),pn(ao))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})();const Ske=["tabs"];function Tke(t,n){1&t&&_n(0,"fa-icon",8),2&t&&Qe("icon",zt(3).reloadIcon)}function Dke(t,n){if(1&t){const e=fi();xe(0,"button",9),mn("click",function(){or(e);const i=zt(2).$implicit;return sr(zt().closeTab(i))}),Se()}}function Ake(t,n){if(1&t&&(xe(0,"div",4),Cn(1,Tke,1,1,"fa-icon",5),xe(2,"div",6),qe(3),Se(),Cn(4,Dke,1,0,"button",7),Se()),2&t){const e=zt().$implicit,r=zt();_e(),Qe("ngIf",!e.diveResult.calculated),_e(2),Ir(e.title),_e(),Qe("ngIf",!r.schedules.empty)}}function Hke(t,n){1&t&&(xe(0,"mdb-tab"),Cn(1,Ake,5,3,"ng-template",3),Se())}function Lke(t,n){if(1&t){const e=fi();xe(0,"fa-icon",10),mn("click",function(){return or(e),sr(zt().addTab())}),Se()}2&t&&Qe("icon",zt().addIcon)}let cG=(()=>{class t extends H2{constructor(e,r){super(),this.schedules=e,this.cd=r,this.addIcon=Od,this.reloadIcon=IM}ngAfterViewInit(){const e=this.schedules.selectedIndex;this.tabs?.setActiveTab(e),this.cd.detectChanges(),this.tabs?.activeTabChange.pipe(di(this.unsubscribe$)).subscribe(r=>{this.selectedChanged(r)})}closeTab(e){this.schedules.remove(e)}addTab(){this.schedules.add()}selectedChanged(e){let r=e.index;e.index===this.schedules.length&&(r=e.index-1,this.tabs?.setActiveTab(r)),this.schedules.select(r)}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(mx),Dt(Gc))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-plan-tabs"]],viewQuery:function(r,i){if(1&r&&q6(Ske,5),2&r){let a;e2(a=t2())&&(i.tabs=a.first)}},features:[yi],decls:6,vars:2,consts:[[3,"pills"],["tabs",""],[4,"ngFor","ngForOf"],["mdbTabTitle",""],[1,"d-flex","align-items-center"],["class","me-1 fa-xl small text-info",3,"icon",4,"ngIf"],[1,"justifycontent-center"],["type","button","class","btn-close ms-2","aria-label","Close",3,"click",4,"ngIf"],[1,"me-1","fa-xl","small","text-info",3,"icon"],["type","button","aria-label","Close",1,"btn-close","ms-2",3,"click"],[1,"p-0","m-0","fa-xl",3,"icon","click"]],template:function(r,i){1&r&&(xe(0,"div")(1,"mdb-tabs",0,1),Cn(3,Hke,2,0,"mdb-tab",2),xe(4,"mdb-tab"),Cn(5,Lke,1,1,"ng-template",3),Se()()()),2&r&&(_e(),Qe("pills",!0),_e(2),Qe("ngForOf",i.schedules.dives))},dependencies:[ko,Ji,Oa,Wp,ok,oC]})}return t})();function zke(t,n){1&t&&(xe(0,"label",9),qe(1,"O2 [%]:"),Se())}function kke(t,n){if(1&t){const e=fi();xe(0,"li",10),mn("click",function(){return or(e),sr(zt().fireAssignBestMix())}),xe(1,"a",11),qe(2,"Best mix"),Se()()}}function Vke(t,n){if(1&t){const e=fi();xe(0,"li",12),mn("click",function(){const a=or(e).$implicit;return sr(zt().assignStandardGas(a))}),xe(1,"a",11),qe(2),Se()()}if(2&t){const e=n.$implicit;_e(2),Ir(e)}}function Eke(t,n){if(1&t&&(xe(0,"div",13),qe(1),Se()),2&t){const e=zt();_e(),gn("Needs to be number ",e.o2RangeLabel,"")}}let $u=(()=>{class t{constructor(e,r,i,a){this.fb=e,this.inputs=r,this.validators=i,this.units=a,this.showBestMix=!0,this.showTitle=!0,this.showTrimixGases=!1,this.controlName="o2",this.tank=Ba.createDefault(),this.gasChange=new Kt,this.assignBestMix=new Kt,this.standardGasApplied=new Kt}get standardGases(){return this.showTrimixGases?si.allNames():si.nitroxNames()}get o2Ranges(){const e=this.units.ranges;return this.showTrimixGases?e.trimixOxygen:e.nitroxOxygen}get o2RangeLabel(){const e=this.units.ranges;return this.showTrimixGases?e.trimixOxygenLabel:e.nitroxOxygenLabel}get gasO2Invalid(){const e=this.nitroxForm.get(this.controlName);return!e||this.inputs.controlInValid(e)}ngOnInit(){this.nitroxForm||(this.nitroxForm=this.fb.group({}));const e=this.fb.control(Sn.round(this.tank.o2,1),this.validators.nitroxOxygen);this.nitroxForm.addControl(this.controlName,e)}fireAssignBestMix(){this.assignBestMix.emit(),this.reload()}gasInputChanged(){this.gasO2Invalid||(this.updateOxygenValue(),this.gasChange.emit(this.tank.o2))}assignStandardGas(e){this.tank.assignStandardGas(e),this.reload(),this.standardGasApplied.emit(e)}updateOxygenValue(){const e=this.nitroxForm.get(this.controlName),r=Number(e?.value);this.tank.o2=r}reload(){this.nitroxForm.patchValue({[this.controlName]:Sn.round(this.tank.o2,1)})}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(ts),Dt(Ss),Dt(ja),Dt(oi))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-oxygen-dropdown"]],inputs:{showBestMix:"showBestMix",showTitle:"showTitle",showTrimixGases:"showTrimixGases",controlName:"controlName",tank:"tank",nitroxForm:"nitroxForm"},outputs:{gasChange:"gasChange",assignBestMix:"assignBestMix",standardGasApplied:"standardGasApplied"},decls:9,vars:10,consts:[[3,"formGroup"],["for","gasO2","class","form-label","mdbLabel","",4,"ngIf"],["mdbDropdown","",1,"input-group","dropdown"],["type","number","required","","step","1","id","gasO2",1,"form-control",3,"formControlName","min","max","input"],["aria-expanded","false","id","o2Menu","type","button","data-mdb-toggle","dropdown","mdbDropdownToggle","",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],["id","btnBestMix",3,"click",4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],["class","text-danger form-text position-absolute",4,"ngIf"],["for","gasO2","mdbLabel","",1,"form-label"],["id","btnBestMix",3,"click"],[1,"dropdown-item"],[3,"click"],[1,"text-danger","form-text","position-absolute"]],template:function(r,i){1&r&&(ua(0,0),Cn(1,zke,2,0,"label",1),xe(2,"div",2)(3,"input",3),mn("input",function(){return i.gasInputChanged()}),Se(),_n(4,"button",4),xe(5,"ul",5),Cn(6,kke,3,0,"li",6)(7,Vke,3,1,"li",7),Se()(),Cn(8,Eke,2,1,"div",8),fa()),2&r&&(Qe("formGroup",i.nitroxForm),_e(),Qe("ngIf",i.showTitle),_e(2),pr("is-invalid",i.gasO2Invalid),Qe("formControlName",i.controlName)("min",i.o2Ranges[0])("max",i.o2Ranges[1]),_e(3),Qe("ngIf",i.showBestMix),_e(),Qe("ngForOf",i.standardGases),_e(),Qe("ngIf",i.showTitle&&i.gasO2Invalid))},dependencies:[ko,Ji,Wa,xs,us,qa,T1,_s,ws,Pa,es,Wl,qc,el,A1]})}return t})();function Nke(t,n){if(1&t){const e=fi();xe(0,"li",5),mn("click",function(){const a=or(e).$implicit;return sr(zt().assignTankTemplate(a))}),xe(1,"a",6),qe(2),Se()()}if(2&t){const e=n.$implicit;_e(2),Ir(e.name)}}let Wu=(()=>{class t{constructor(e,r,i,a){this.units=e,this.fb=r,this.inputs=i,this.validators=a,this.controlName="tankSize",this.sizeChange=new Kt,this.applyTemplate=new Kt;const s=Ba.createDefault();this.tank=new yc(s,this.units);const l=this.units.defaults.tanks;this.tank.workingPressure=l.primary.workingPressure,this.tank.size=l.primary.size}get ranges(){return this.units.ranges}get allDefaultTanks(){return this.units.defaults.tanks.available}get tankSizeInvalid(){const e=this.sizeForm.get(this.controlName);return this.inputs.controlInValid(e)}ngOnInit(){this.sizeForm||(this.sizeForm=this.fb.group({}));const e=Sn.round(this.tank.size,1),r=this.fb.control(e,this.validators.tankSize);this.sizeForm.addControl(this.controlName,r)}sizeChanged(){if(this.sizeForm.invalid)return;const e=this.sizeForm.get(this.controlName),r=Number(e?.value);this.tank.size=r,this.sizeChange.emit(r)}assignTankTemplate(e){this.tank.assignTemplate(e),this.sizeForm.patchValue({[this.controlName]:Sn.round(this.tank.size,1)}),this.applyTemplate.emit(e)}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(oi),Dt(ts),Dt(Ss),Dt(ja))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-tank-size"]],inputs:{sizeForm:"sizeForm",controlName:"controlName",tank:"tank"},outputs:{sizeChange:"sizeChange",applyTemplate:"applyTemplate"},decls:5,vars:7,consts:[["mdbDropdown","",1,"input-group",3,"formGroup"],["type","number","required","","step","1","id","tankSize",1,"form-control",3,"formControlName","min","max","input"],["id","sizeMenu","type","button","aria-expanded","false","data-mdb-toggle","dropdown","mdbDropdownToggle","",1,"btn","btn-default","dropdown-toggle","dropdown-toggle-split"],["mdbDropdownMenu","",1,"dropdown-menu","dropdown-menu-end"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"dropdown-item"]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"input",1),mn("input",function(){return i.sizeChanged()}),Se(),_n(2,"button",2),xe(3,"ul",3),Cn(4,Nke,3,1,"li",4),Se()()),2&r&&(Qe("formGroup",i.sizeForm),_e(),pr("is-invalid",i.tankSizeInvalid),Qe("formControlName",i.controlName)("min",i.ranges.tankSize[0])("max",i.ranges.tankSize[1]),_e(3),Qe("ngForOf",i.allDefaultTanks))},dependencies:[ko,Wa,xs,us,qa,T1,_s,ws,Pa,es,Wl,qc,el]})}return t})();function Ike(t,n){if(1&t){const e=fi();xe(0,"button",27),mn("click",function(){or(e);const i=zt(2).index;return sr(zt().removeTank(i))}),_n(1,"fa-icon",28),Se()}if(2&t){const e=zt(3);_e(),Qe("icon",e.minusIcon)}}function Pke(t,n){if(1&t&&(xe(0,"div",14)(1,"div",24),qe(2),Se(),xe(3,"div",25),Cn(4,Ike,2,1,"button",26),Se()()),2&t){const e=zt().index,r=zt();_e(2),gn(" ",r.tanks[e].label," "),_e(2),Qe("ngIf",0!==e)}}function Rke(t,n){if(1&t&&(xe(0,"div",37),qe(1),Se()),2&t){const e=zt(3);_e(),gn("Needs to be number ",e.ranges.tankSizeLabel," ")}}function Fke(t,n){if(1&t&&(xe(0,"div",37),qe(1),Se()),2&t){const e=zt(4);_e(),gn(" Needs to be number ",e.ranges.tankPressureLabel,"")}}function Oke(t,n){if(1&t){const e=fi();xe(0,"div",29)(1,"label",30),qe(2),Se(),xe(3,"input",38),mn("input",function(){or(e);const i=zt(2).index;return sr(zt().tankChanged(i))}),Se(),Cn(4,Fke,2,1,"div",32),Se()}if(2&t){const e=zt(2).index,r=zt();_e(),da("for","workPressureItemB-",e,""),_e(),gn("Work p. [",r.units.pressure,"]:"),_e(),pr("is-invalid",r.workPressureInvalid(e)),da("id","workPressureItemB-",e,""),Qe("min",r.ranges.tankPressure[0])("max",r.ranges.tankPressure[1]),_e(),Qe("ngIf",r.workPressureInvalid(e))}}function Bke(t,n){if(1&t&&(xe(0,"div",37),qe(1),Se()),2&t){const e=zt(3);_e(),gn(" Needs to be number ",e.ranges.tankPressureLabel,"")}}function Uke(t,n){1&t&&_n(0,"div",29)}function Gke(t,n){if(1&t&&(xe(0,"div",37),qe(1),Se()),2&t){const e=zt(3);_e(),gn("Needs to be number ",e.ranges.tankHeLabel,"")}}function $ke(t,n){if(1&t){const e=fi();xe(0,"div",14)(1,"div",29)(2,"label",30),qe(3),Se(),xe(4,"app-tank-size",31),mn("sizeChange",function(){or(e);const i=zt().index;return sr(zt().tankChanged(i))})("applyTemplate",function(i){or(e);const a=zt().index;return sr(zt().assignTankTemplate(a,i))}),Se(),Cn(5,Rke,2,1,"div",32),Se(),Cn(6,Oke,5,8,"div",33),xe(7,"div",29)(8,"label",30),qe(9),Se(),xe(10,"input",34),mn("input",function(){or(e);const i=zt().index;return sr(zt().tankChanged(i))}),Se(),Cn(11,Bke,2,1,"div",32),Se(),Cn(12,Uke,1,0,"div",33),xe(13,"div",29)(14,"app-oxygen-dropdown",35),mn("gasChange",function(){or(e);const i=zt().index;return sr(zt().tankChanged(i))})("standardGasApplied",function(){or(e);const i=zt().index;return sr(zt().standardGasApplied(i))}),Se()(),xe(15,"div",29)(16,"label",30),qe(17,"He [%]:"),Se(),xe(18,"input",36),mn("input",function(){or(e);const i=zt().index;return sr(zt().tankChanged(i))}),Se(),Cn(19,Gke,2,1,"div",32),Se()()}if(2&t){const e=zt(),r=e.index,i=e.$implicit,a=zt();_e(2),da("for","sizeItemB-",r,""),_e(),gn("Size [",a.units.volume,"]:"),_e(),da("id","sizeItemB-",r,""),Qe("sizeForm",i),_e(),Qe("ngIf",a.tankSizeInvalid(r)),_e(),Qe("ngIf",a.units.imperialUnits),_e(2),da("for","pressureItemB-",r,""),_e(),gn("Pressure [",a.units.pressure,"]:"),_e(),pr("is-invalid",a.startPressureInvalid(r)),da("id","pressureItemB-",r,""),Qe("min",a.ranges.tankPressure[0])("max",a.ranges.tankPressure[1]),_e(),Qe("ngIf",a.startPressureInvalid(r)),_e(),Qe("ngIf",a.units.imperialUnits),_e(2),da("id","o2Item-",r,""),Qe("tank",a.tanks[r])("nitroxForm",i)("showBestMix",!1)("showTrimixGases",!0),_e(2),da("for","heItemB-",r,""),_e(2),pr("is-invalid",a.gasHeInvalid(r)),da("id","heItemB-",r,""),Qe("min",a.ranges.tankHe[0])("max",a.ranges.tankHe[1]),_e(),Qe("ngIf",a.gasHeInvalid(r))}}function Wke(t,n){1&t&&(xe(0,"mdb-accordion-item",21),Cn(1,Pke,5,2,"ng-template",22)(2,$ke,20,27,"ng-template",23),Se()),2&t&&Qe("formGroupName",n.index)}function jke(t,n){if(1&t&&(xe(0,"div",18),qe(1),Se()),2&t){const e=zt();_e(),gn("Work p. [",e.units.pressure,"]")}}function Yke(t,n){if(1&t){const e=fi();xe(0,"div",43)(1,"input",38),mn("input",function(){or(e);const i=zt().index;return sr(zt().tankChanged(i))}),Se()()}if(2&t){const e=zt().index,r=zt();_e(),pr("is-invalid",r.workPressureInvalid(e)),da("id","workPressureItem-",e,""),Qe("min",r.ranges.tankPressure[0])("max",r.ranges.tankPressure[1])}}function Zke(t,n){if(1&t){const e=fi();xe(0,"button",52),mn("click",function(){or(e);const i=zt().index;return sr(zt().removeTank(i))}),_n(1,"fa-icon",28),Se()}if(2&t){const e=zt().index,r=zt();da("id","removeTank-",e,""),_e(),Qe("icon",r.minusIcon)}}function Xke(t,n){if(1&t&&(xe(0,"small",37),qe(1),Se()),2&t){const e=zt(2);_e(),gn("Size needs to be number ",e.ranges.tankSizeLabel,". ")}}function Kke(t,n){if(1&t&&(xe(0,"small",37),qe(1),Se()),2&t){const e=zt(2);_e(),gn(" Working pressure needs to be number ",e.ranges.tankPressureLabel,". ")}}function Qke(t,n){if(1&t&&(xe(0,"small",37),qe(1),Se()),2&t){const e=zt(2);_e(),gn(" Start pressure needs to be number ",e.ranges.tankPressureLabel,". ")}}function Jke(t,n){if(1&t&&(xe(0,"small",37),qe(1),Se()),2&t){const e=zt(2);_e(),gn(" O2 needs to be number ",e.ranges.trimixOxygenLabel,". ")}}function qke(t,n){if(1&t&&(xe(0,"small",37),qe(1),Se()),2&t){const e=zt(2);_e(),gn(" He needs to be number ",e.ranges.tankHeLabel,".")}}function eVe(t,n){if(1&t){const e=fi();xe(0,"div",39)(1,"div",40)(2,"div",41)(3,"div",14)(4,"div",15),qe(5),Se(),xe(6,"div",16)(7,"app-tank-size",31),mn("sizeChange",function(){const a=or(e).index;return sr(zt().tankChanged(a))})("applyTemplate",function(i){const s=or(e).index;return sr(zt().assignTankTemplate(s,i))}),Se()()()(),Cn(8,Yke,2,5,"div",42),xe(9,"div",43)(10,"input",34),mn("input",function(){const a=or(e).index;return sr(zt().tankChanged(a))}),Se()(),xe(11,"div",43)(12,"app-oxygen-dropdown",44),mn("gasChange",function(){const a=or(e).index;return sr(zt().tankChanged(a))})("standardGasApplied",function(){const a=or(e).index;return sr(zt().standardGasApplied(a))}),Se()(),xe(13,"div",43)(14,"input",36),mn("input",function(){const a=or(e).index;return sr(zt().tankChanged(a))}),Se()(),xe(15,"div",45),Cn(16,Zke,2,2,"button",46),Se()(),xe(17,"div",40)(18,"div",47)(19,"div",14),_n(20,"div",8),xe(21,"div",48)(22,"small",49),qe(23),qn(24,"number"),Se(),_n(25,"app-gaslabel",50),Se()()(),_n(26,"div",8),Se(),xe(27,"div",40)(28,"div",47)(29,"div",14),_n(30,"div",8),xe(31,"div",51),Cn(32,Xke,2,1,"small",32)(33,Kke,2,1,"small",32)(34,Qke,2,1,"small",32)(35,Jke,2,1,"small",32)(36,qke,2,1,"small",32),Se()()(),_n(37,"div",8),Se()()}if(2&t){const e=n.$implicit,r=n.index,i=zt();Qe("formGroupName",r),_e(5),gn(" ",i.tanks[r].id,". "),_e(2),da("id","sizeItemB-",r,""),Qe("sizeForm",e),_e(),Qe("ngIf",i.units.imperialUnits),_e(2),pr("is-invalid",i.startPressureInvalid(r)),da("id","pressureItem-",r,""),Qe("min",i.ranges.tankPressure[0])("max",i.ranges.tankPressure[1]),_e(),pr("col-4",!i.units.imperialUnits),_e(),da("id","o2Item-",r,""),Qe("tank",i.tanks[r])("nitroxForm",e)("showBestMix",!1)("showTitle",!1)("showTrimixGases",!0),_e(2),pr("is-invalid",i.gasHeInvalid(r)),da("id","heItem-",r,""),Qe("min",i.ranges.tankHe[0])("max",i.ranges.tankHe[1]),_e(2),Qe("ngIf",0!==r),_e(7),Q2("SAC: ",er(24,33,i.gasSac(r),"1.0-2")," ",i.units.sac,""),_e(2),Qe("tank",i.tanks[r].tank)("toxicity",i.toxicity),_e(7),Qe("ngIf",i.tankSizeInvalid(r)),_e(),Qe("ngIf",i.workPressureInvalid(r)),_e(),Qe("ngIf",i.startPressureInvalid(r)),_e(),Qe("ngIf",i.gasO2Invalid(r)),_e(),Qe("ngIf",i.gasHeInvalid(r))}}let lG=(()=>{class t extends H2{constructor(e,r,i,a,s,l){super(),this.units=e,this.fb=r,this.inputs=i,this.validators=a,this.dispatcher=s,this.schedules=l,this.icon=Mv,this.plusIcon=Od,this.minusIcon=Rd}get ranges(){return this.units.ranges}get tanks(){return this.tanksService.tanks}get tanksGroup(){return this.tanksForm.controls.boundTanks}get toxicity(){return this.schedules.selectedToxicity}get tanksService(){return this.schedules.selectedTanks}ngOnInit(){const e=this.fb.array(this.createTankControls());this.tanksForm=this.fb.group({boundTanks:e}),this.dispatcher.tanksReloaded$.pipe(di(this.unsubscribe$)).subscribe(r=>{this.tanksService===r&&this.reloadAll()}),this.dispatcher.selectedChanged$.pipe(di(this.unsubscribe$)).subscribe(()=>this.reloadAll())}gasSac(e){const i=this.schedules.selectedOptions.diverOptions.gasSac(this.tanks[e].tank);return this.units.fromBar(i)}gasHeInvalid(e){const r=this.tanksGroup.at(e);return this.inputs.controlInValid(r.controls.tankHe)}gasO2Invalid(e){const r=this.tanksGroup.at(e);return this.inputs.controlInValid(r.controls.tankO2)}workPressureInvalid(e){const r=this.tanksGroup.at(e);return this.inputs.controlInValid(r.controls.tankWorkPressure)}startPressureInvalid(e){const r=this.tanksGroup.at(e);return this.inputs.controlInValid(r.controls.tankStartPressure)}tankSizeInvalid(e){const r=this.tanksGroup.at(e);return this.inputs.controlInValid(r.controls.tankSize)}addTank(){if(this.tanksForm.invalid)return;this.tanksService.addTank();const r=this.createTankControl(this.tanks[this.tanks.length-1]);this.tanksGroup.push(r)}removeTank(e){this.tanksForm.invalid||this.tanks.length<=1||(this.tanksService.removeTank(this.tanks[e]),this.tanksGroup.removeAt(e))}assignTankTemplate(e,r){const i=this.tanks[e];i.assignTemplate(r),this.reload(i,e),this.dispatcher.sendTankChanged()}tankChanged(e){if(this.tanksForm.invalid)return;const r=this.tanksGroup.at(e),i=this.tanks[e],a=r.value;i.size=Number(a.tankSize),i.workingPressure=Number(a.tankWorkPressure),i.startPressure=Number(a.tankStartPressure),i.o2=Number(a.tankO2),i.he=Number(a.tankHe),this.reload(i,e),this.dispatcher.sendTankChanged()}standardGasApplied(e){this.tanksGroup.at(e).patchValue({tankHe:this.tanks[e].he}),this.tankChanged(e)}reloadAll(){this.tanksGroup.clear(),this.createTankControls().forEach(e=>this.tanksGroup.push(e))}reload(e,r){this.tanksGroup.at(r).patchValue({tankSize:Sn.round(e.size,1),tankWorkPressure:e.workingPressure,tankStartPressure:e.startPressure,tankO2:e.o2,tankHe:e.he})}createTankControls(){const e=[];for(const r of this.tanks){const i=this.createTankControl(r);e.push(i)}return e}createTankControl(e){const r=this.fb.group({tankSize:[Sn.round(e.size,1),this.validators.tankSize],tankStartPressure:[Sn.round(e.startPressure,1),this.validators.tankPressure],tankO2:[Sn.round(e.o2,1),this.validators.trimixOxygen],tankHe:[Sn.round(e.he,1),this.validators.trimixHe]});if(this.units.imperialUnits){const i=this.fb.control(Sn.round(e.workingPressure,1),this.validators.tankPressure);r.addControl("tankWorkPressure",i)}return r}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(oi),Dt(ts),Dt(Ss),Dt(ja),Dt(B1),Dt(Ua))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-tanks-complex"]],features:[yi],decls:31,vars:12,consts:[[1,"card"],[3,"formGroup"],[1,"card-header"],[1,"me-3",3,"icon"],["formArrayName","boundTanks",1,"card-body","d-md-none","d-block"],[3,"flush"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","justify-content-end","pe-2","m-3"],[1,"col","col-1"],["type","button",1,"p-1","btn","btn-secondary",3,"click"],[1,"fa-xl",3,"icon"],["formArrayName","boundTanks",1,"card-body","d-none","d-md-block"],[1,"row","pb-2"],[1,"col","col-3","m-0","px-1"],[1,"row"],[1,"col","col-1","p-0","m-0"],[1,"col","ps-0"],["class","col col-2 m-0 px-1",4,"ngIf"],[1,"col","col-2","m-0","px-1"],[1,"col","col-1","m-0","px-1"],["class","pb-2",3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],["mdbAccordionItemHeader",""],["mdbAccordionItemBody",""],[1,"col","col-auto","d-flex","align-items-center"],[1,"col","col-1","pe-1"],["class","m-0 p-1 btn btn-secondary","type","button",3,"click",4,"ngIf"],["type","button",1,"m-0","p-1","btn","btn-secondary",3,"click"],[1,"p-0","m-0","fa-xl",3,"icon"],[1,"col","col-12","col-sm-6","m-0","pb-0","px-1","mt-2"],[1,"form-label",3,"for"],[3,"sizeForm","id","sizeChange","applyTemplate"],["class","text-danger",4,"ngIf"],["class","col col-12 col-sm-6 m-0 pb-0 px-1 mt-2",4,"ngIf"],["formControlName","tankStartPressure","type","number","required","","step","1",1,"form-control",3,"min","max","id","input"],["controlName","tankO2",3,"tank","id","nitroxForm","showBestMix","showTrimixGases","gasChange","standardGasApplied"],["formControlName","tankHe","type","number","step","1","required","",1,"form-control",3,"min","max","id","input"],[1,"text-danger"],["formControlName","tankWorkPressure","type","number","required","","step","1",1,"form-control",3,"min","max","id","input"],[1,"pb-2",3,"formGroupName"],[1,"row","p-0"],[1,"col","col-3","m-0","pb-0","px-1"],["class","col col-2 m-0 pb-0 px-1",4,"ngIf"],[1,"col","col-2","m-0","pb-0","px-1"],["controlName","tankO2",3,"tank","id","nitroxForm","showBestMix","showTitle","showTrimixGases","gasChange","standardGasApplied"],[1,"col","col-1","m-0","pb-0","px-1","align-self-center"],["class","m-0 p-1 btn btn-secondary","type","button",3,"id","click",4,"ngIf"],[1,"col","col-11"],[1,"col","m-0","px-1"],[1,"form-text","text-muted"],[1,"float-end",3,"tank","toxicity"],[1,"col","m-0","px-0"],["type","button",1,"m-0","p-1","btn","btn-secondary",3,"id","click"]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"form",1)(2,"div",2),_n(3,"fa-icon",3),xe(4,"span"),qe(5,"Tanks"),Se()(),xe(6,"div",4)(7,"mdb-accordion",5),Cn(8,Wke,3,1,"mdb-accordion-item",6),Se(),xe(9,"div",7)(10,"div",8)(11,"button",9),mn("click",function(){return i.addTank()}),_n(12,"fa-icon",10),Se()()()(),xe(13,"div",11)(14,"div",12)(15,"div",13)(16,"div",14),_n(17,"div",15),xe(18,"div",16),qe(19),Se()()(),Cn(20,jke,2,1,"div",17),xe(21,"div",18),qe(22),Se(),xe(23,"div",18),qe(24,"O2 [%]"),Se(),xe(25,"div",18),qe(26,"He [%]"),Se(),xe(27,"div",19)(28,"button",9),mn("click",function(){return i.addTank()}),_n(29,"fa-icon",10),Se()()(),Cn(30,eVe,38,36,"div",20),Se()()()),2&r&&(_e(),Qe("formGroup",i.tanksForm),_e(2),Qe("icon",i.icon),_e(4),Qe("flush",!0),_e(),Qe("ngForOf",i.tanksGroup.controls),_e(4),Qe("icon",i.plusIcon),_e(7),gn(" Size [",i.units.volume,"] "),_e(),Qe("ngIf",i.units.imperialUnits),_e(2),gn("Pressure [",i.units.pressure,"]"),_e(),pr("col-4",!i.units.imperialUnits),_e(6),Qe("icon",i.plusIcon),_e(),Qe("ngForOf",i.tanksGroup.controls))},dependencies:[ko,Ji,Oa,D2,Wa,xs,us,qa,T1,_s,ws,Pa,es,K8,Q8,dk,cC,fk,lk,jv,$u,Wu,ls]})}return t})(),gx=(()=>{class t{constructor(e,r){this.fb=e,this.units=r,this.tank=new yc(new Ba(15,200,21),this.units),this.toxicity=new Kd,this.showBestMix=!0,this.controlName="o2",this.gasChange=new Kt,this.standardGasApplied=new Kt,this.assignBestMix=new Kt}ngOnInit(){this.nitroxForm||(this.nitroxForm=this.fb.group({}))}fireAssignBestMix(){this.assignBestMix.emit()}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(ts),Dt(oi))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-oxygen"]],inputs:{tank:"tank",toxicity:"toxicity",showBestMix:"showBestMix",nitroxForm:"nitroxForm",controlName:"controlName"},outputs:{gasChange:"gasChange",standardGasApplied:"standardGasApplied",assignBestMix:"assignBestMix"},decls:4,vars:9,consts:[[3,"formGroup"],[3,"showBestMix","controlName","nitroxForm","tank","gasChange","standardGasApplied","assignBestMix"],["oxygenDropdown",""],[3,"tank","toxicity"]],template:function(r,i){if(1&r&&(ua(0,0),xe(1,"app-oxygen-dropdown",1,2),mn("gasChange",function(s){return i.gasChange.emit(s)})("standardGasApplied",function(s){return i.standardGasApplied.emit(s)})("assignBestMix",function(){return i.fireAssignBestMix()}),Se(),_n(3,"app-gaslabel",3),fa()),2&r){const a=T8(2);Qe("formGroup",i.nitroxForm),_e(),Qe("showBestMix",i.showBestMix)("controlName",i.controlName)("nitroxForm",i.nitroxForm)("tank",i.tank),_e(2),pr("invisible",a.gasO2Invalid),Qe("tank",i.tank.tank)("toxicity",i.toxicity)}},dependencies:[qa,Pa,jv,$u]})}return t})();function tVe(t,n){if(1&t&&(xe(0,"div",15),qe(1),Se()),2&t){const e=zt();_e(),gn("Needs to be number ",e.ranges.tankSizeLabel,"")}}function nVe(t,n){if(1&t){const e=fi();xe(0,"div",5)(1,"label",16),qe(2),Se(),xe(3,"input",17),mn("input",function(){return or(e),sr(zt().applySimple())}),Se(),xe(4,"div",13),qe(5),Se()()}if(2&t){const e=zt();_e(2),gn("Working pressure [",e.units.pressure,"]: "),_e(),pr("is-invalid",e.workPressureInvalid),Qe("min",e.ranges.tankPressure[0])("max",e.ranges.tankPressure[1]),_e(2),gn("Needs to be number ",e.ranges.tankPressureLabel,"")}}let uG=(()=>{class t extends H2{constructor(e,r,i,a,s,l){super(),this.units=e,this.fb=r,this.inputs=i,this.validators=a,this.diveSchedules=s,this.dispatcher=l,this.icon=Mv}get toxicity(){return this.diveSchedules.selectedToxicity}get firstTank(){return this.diveSchedules.selectedTanks.firstTank}get ranges(){return this.units.ranges}get firstTankSizeInvalid(){return this.inputs.controlInValid(this.tanksForm.controls.firstTankSize)}get workPressureInvalid(){return this.inputs.controlInValid(this.tanksForm.controls.workPressure)}get firstTankStartPressureInvalid(){return this.inputs.controlInValid(this.tanksForm.controls.firstTankStartPressure)}ngOnInit(){if(this.tanksForm=this.fb.group({firstTankSize:[Sn.round(this.firstTank.size,1),this.validators.tankSize],firstTankStartPressure:[Sn.round(this.firstTank.startPressure,1),this.validators.tankPressure],o2:[Sn.round(this.firstTank.o2,1),this.validators.nitroxOxygen]}),this.units.imperialUnits){const e=this.fb.control(Sn.round(this.firstTank.workingPressure,1),this.validators.tankPressure);this.tanksForm.addControl("workPressure",e)}this.dispatcher.tanksReloaded$.pipe(di(this.unsubscribe$)).subscribe(e=>{this.diveSchedules.selectedTanks===e&&this.reload()}),this.dispatcher.selectedChanged$.pipe(di(this.unsubscribe$)).subscribe(()=>this.reload())}gasSac(){const r=this.diveSchedules.selectedOptions.diverOptions.gasSac(this.firstTank.tank);return this.units.fromBar(r)}assignBestMix(){this.firstTank.o2=this.toxicity.bestNitroxMix(this.diveSchedules.selectedDepths.plannedDepthMeters),this.dispatcher.sendTankChanged()}applyTemplate(e){this.tanksForm.invalid||(this.tanksForm.patchValue({workPressure:e.workingPressure}),this.applySimple())}applySimple(){if(this.tanksForm.invalid)return;const e=this.tanksForm.value;this.firstTank.size=Number(e.firstTankSize),this.firstTank.workingPressure=Number(e.workPressure),this.firstTank.startPressure=Number(e.firstTankStartPressure),this.dispatcher.sendTankChanged()}reload(){this.tanksForm.patchValue({firstTankSize:Sn.round(this.firstTank.size,1),workPressure:Sn.round(this.firstTank.workingPressure,1),firstTankStartPressure:Sn.round(this.firstTank.startPressure,1),o2:Sn.round(this.firstTank.o2,1)})}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(oi),Dt(ts),Dt(Ss),Dt(ja),Dt(Ua),Dt(B1))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-tanks-simple"]],features:[yi],decls:24,vars:23,consts:[[1,"card"],[3,"formGroup"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body","row"],[1,"mb-4","col","col-12","col-md-6","col-lg-12","col-xl-6"],["for","sizeFirstTank","mdbLabel","",1,"form-label"],["controlName","firstTankSize",3,"sizeForm","tank","sizeChange","applyTemplate"],["class","text-danger form-text position-absolute",4,"ngIf"],[1,"form-text","text-muted"],["class","mb-4 col col-12 col-md-6 col-lg-12 col-xl-6",4,"ngIf"],["for","startPressureFirstTank","mdbLabel","",1,"form-label"],["type","number","id","startPressureFirstTank","formControlName","firstTankStartPressure","required","","step","1",1,"form-control",3,"min","max","input"],[1,"invalid-feedback","position-absolute"],["controlName","o2",3,"tank","toxicity","nitroxForm","gasChange","assignBestMix","standardGasApplied"],[1,"text-danger","form-text","position-absolute"],["for","workPressureFirstTank","mdbLabel","",1,"form-label"],["type","number","id","workPressureFirstTank","formControlName","workPressure","required","","step","1",1,"form-control",3,"min","max","input"]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"form",1)(2,"div",2),_n(3,"fa-icon",3),xe(4,"span"),qe(5,"Bottom gas tank"),Se()(),xe(6,"div",4)(7,"div",5)(8,"label",6),qe(9),Se(),xe(10,"app-tank-size",7),mn("sizeChange",function(){return i.applySimple()})("applyTemplate",function(s){return i.applyTemplate(s)}),Se(),Cn(11,tVe,2,1,"div",8),xe(12,"div",9),qe(13),qn(14,"number"),Se()(),Cn(15,nVe,6,6,"div",10),xe(16,"div",5)(17,"label",11),qe(18),Se(),xe(19,"input",12),mn("input",function(){return i.applySimple()}),Se(),xe(20,"div",13),qe(21),Se()(),xe(22,"div",5)(23,"app-oxygen",14),mn("gasChange",function(){return i.applySimple()})("assignBestMix",function(){return i.assignBestMix()})("standardGasApplied",function(){return i.applySimple()}),Se()()()()()),2&r&&(_e(),Qe("formGroup",i.tanksForm),_e(2),Qe("icon",i.icon),_e(6),gn("Size [",i.units.volume,"]:"),_e(),Qe("sizeForm",i.tanksForm)("tank",i.firstTank),_e(),Qe("ngIf",i.firstTankSizeInvalid),_e(),pr("invisible",i.firstTankSizeInvalid),_e(),Q2("SAC: ",er(14,20,i.gasSac(),"1.0-2")," ",i.units.sac,""),_e(2),Qe("ngIf",i.units.imperialUnits),_e(3),gn("Start pressure [",i.units.pressure,"]: "),_e(),pr("is-invalid",i.firstTankStartPressureInvalid),Qe("min",i.ranges.tankPressure[0])("max",i.ranges.tankPressure[1]),_e(2),gn("Needs to be number ",i.ranges.tankPressureLabel,""),_e(2),Qe("tank",i.firstTank)("toxicity",i.toxicity)("nitroxForm",i.tanksForm))},dependencies:[Ji,Oa,D2,Wa,xs,us,qa,T1,_s,ws,Pa,es,A1,gx,Wu,ls]})}return t})(),fG=(()=>{class t{constructor(e){this.schedules=e,this._stopsOnly=!1}get stopsOnly(){return this._stopsOnly}get totalDuration(){return this.dive.totalDuration}get profileCalculated(){return this.dive.profileCalculated}get wayPoints(){const e=this.dive.wayPoints;if(!this.stopsOnly)return e;const r=this.schedules.selectedDepths;return e.filter((i,a)=>a<r.startAscentIndex||a===e.length-1||i.swimAction===L1.hover)}get dive(){return this.schedules.selectedResult}switchFilter(){this._stopsOnly=!this._stopsOnly}static#e=this.\u0275fac=function(r){return new(r||t)(pn(Ua))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})();function rVe(t,n){1&t&&(xe(0,"th",10),qe(1,"Gas"),Se())}function iVe(t,n){1&t&&(xe(0,"tr")(1,"td",14),_n(2,"app-calculating",15),Se()()),2&t&&(_e(2),Qe("show",!0))}function aVe(t,n){if(1&t&&(xe(0,"td",19),qe(1),Se()),2&t){const e=zt().$implicit;_e(),Ir(e.gasName)}}const sVe=t=>({"table-active":t});function oVe(t,n){if(1&t){const e=fi();xe(0,"tr",16),mn("mouseover",function(){const a=or(e).$implicit;return sr(zt().highlightRow(a))})("mouseleave",function(){return or(e),sr(zt().highlightRow(void 0))}),xe(1,"td",17),_n(2,"fa-icon",18),Se(),xe(3,"td",19),qe(4),qn(5,"number"),Se(),xe(6,"td",19),qe(7),qn(8,"duration"),Se(),xe(9,"td",19),qe(10),qn(11,"duration"),Se(),Cn(12,aVe,2,1,"td",20),Se()}if(2&t){const e=n.$implicit,r=zt();Qe("ngClass",A8(17,sVe,e.selected)),_e(2),Qe("icon",r.swimActionIcon(e))("ngClass",r.iconClasses(e))("title",r.iconTitle(e)),_e(2),Ir(er(5,8,e.endDepth,"1.0-0")),_e(3),Ir(er(8,11,e.duration,r.stops.totalDuration)),_e(3),Ir(er(11,14,e.endTime,r.stops.totalDuration)),_e(2),Qe("ngIf",r.isComplex)}}const cVe=t=>({active:t});let dG=(()=>{class t{constructor(e,r,i,a){this.units=e,this.selectedWaypoint=r,this.viewSwitch=i,this.stops=a,this.down=wM,this.up=zM,this.hover=uR,this.tasks=VM,this.switch=TI,this.filterIcon=JP}get isComplex(){return this.viewSwitch.isComplex}swimActionIcon(e){switch(e.swimAction){case L1.ascent:return this.up;case L1.descent:return this.down;case L1.switch:return this.switch;default:return this.hover}}iconTitle(e){switch(e.swimAction){case L1.ascent:return"ascent";case L1.descent:return"descent";case L1.switch:return"switch";default:return"hover"}}iconClasses(e){return{"swim-down":e.swimAction===L1.descent,"swim-up":e.swimAction===L1.ascent,"swim-hover":e.swimAction===L1.hover||e.swimAction===L1.switch}}highlightRow(e){this.selectedWaypoint.selected=e}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(oi),Dt(dx),Dt(Zl),Dt(fG))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-waypoints"]],decls:24,vars:9,consts:[[1,"card"],[1,"card-header"],[1,"float-start"],[1,"me-3",3,"icon"],[1,"float-end","me-1"],["type","button","data-toggle","button","aria-pressed","stops.stopsOnly","autocomplete","off",1,"btn","btn-sm","btn-secondary",3,"ngClass","click"],[1,"",3,"icon"],[1,"card-body","card-minheight","table-responsive"],[1,"table","table-sm","p-0"],[1,"table-light"],[1,"fw-bold","px-1"],["class","fw-bold px-1",4,"ngIf"],[4,"ngIf"],[3,"ngClass","mouseover","mouseleave",4,"ngFor","ngForOf"],["colspan","5"],[3,"show"],[3,"ngClass","mouseover","mouseleave"],[1,"px-1","text-center"],[3,"icon","ngClass","title"],[1,"px-1"],["class","px-1",4,"ngIf"]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"div",1)(2,"div",2),_n(3,"fa-icon",3),xe(4,"span"),qe(5,"Dive way points"),Se()(),xe(6,"div",4)(7,"button",5),mn("click",function(){return i.stops.switchFilter()}),_n(8,"fa-icon",6),Se()()(),xe(9,"div",7)(10,"table",8)(11,"thead",9)(12,"tr"),_n(13,"th"),xe(14,"th",10),qe(15),Se(),xe(16,"th",10),qe(17,"Duration [min]"),Se(),xe(18,"th",10),qe(19,"Run [min]"),Se(),Cn(20,rVe,2,0,"th",11),Se()(),xe(21,"tbody"),Cn(22,iVe,3,1,"tr",12)(23,oVe,13,19,"tr",13),Se()()()()),2&r&&(_e(3),Qe("icon",i.tasks),_e(4),Qe("ngClass",A8(7,cVe,i.stops.stopsOnly)),_e(),Qe("icon",i.filterIcon),_e(7),gn("Depth [",i.units.length,"]"),_e(5),Qe("ngIf",i.isComplex),_e(2),Qe("ngIf",!i.stops.profileCalculated),_e(),Qe("ngForOf",i.stops.wayPoints))},dependencies:[k3,ko,Ji,Oa,Uu,ls,Gu],styles:[".swim-down[_ngcontent-%COMP%]{color:#deb887}.swim-up[_ngcontent-%COMP%]{color:#8a2be2}.swim-hover[_ngcontent-%COMP%]{color:#1e90ff}"]})}return t})();function lVe(t,n){if(1&t){const e=fi();xe(0,"div",4),_n(1,"fa-icon",5),xe(2,"span")(3,"strong"),qe(4,"Disclaimer:"),Se(),qe(5," None of the authors, contributors, administrators, or anyone else connected with this project can be responsible for your use of the information provided by this application or linked from these web pages. Use the results at your own risk."),Se(),xe(6,"button",6),mn("click",function(){return or(e),sr(zt().startup.stopDisclaimer())}),Se()()}if(2&t){const e=zt();_e(),Qe("icon",e.exclamation)}}function uVe(t,n){1&t&&_n(0,"app-tanks-simple")}function fVe(t,n){1&t&&_n(0,"app-tanks-complex")}function dVe(t,n){1&t&&_n(0,"app-depths-simple")}function hVe(t,n){1&t&&_n(0,"app-depths-complex")}const pVe=(t,n)=>({"col-12 col-sm-6 col-lg-4 col-xl-4":t,"col-12":n}),vVe=(t,n)=>({"col-12 col-sm-6 col-lg-4 col-xl-4":t,"col-12 col-lg-7":n}),mVe=(t,n)=>({"col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4":t,"col-12 col-lg-5":n});function gVe(t,n){if(1&t&&(ua(0),xe(1,"div",7),Cn(2,uVe,1,0,"app-tanks-simple",3)(3,fVe,1,0,"app-tanks-complex",3),Se(),xe(4,"div",7),Cn(5,dVe,1,0,"app-depths-simple",3)(6,hVe,1,0,"app-depths-complex",3),Se(),xe(7,"div",7),_n(8,"app-diveoptions"),Se(),xe(9,"div",8),_n(10,"app-profilechart"),Se(),xe(11,"div",9),_n(12,"app-waypoints"),Se(),xe(13,"div",10),_n(14,"app-diveinfo"),Se(),fa()),2&t){const e=zt();_e(),Qe("ngClass",kl(7,pVe,!e.isComplex,e.isComplex)),_e(),Qe("ngIf",!e.isComplex),_e(),Qe("ngIf",e.isComplex),_e(),Qe("ngClass",kl(10,vVe,!e.isComplex,e.isComplex)),_e(),Qe("ngIf",!e.isComplex),_e(),Qe("ngIf",e.isComplex),_e(),Qe("ngClass",kl(13,mVe,!e.isComplex,e.isComplex))}}function yVe(t,n){1&t&&_n(0,"app-tanks-simple")}function bVe(t,n){1&t&&_n(0,"app-tanks-complex")}function CVe(t,n){1&t&&_n(0,"app-depths-simple")}function MVe(t,n){1&t&&_n(0,"app-depths-complex")}const xVe=(t,n)=>({"col-12 col-sm-6 col-lg-4 col-xl-4":t,"col-12 col-xxl-5":n}),wVe=(t,n)=>({"col-12 col-sm-6 col-lg-4 col-xl-4":t,"col-12 col-lg-7 col-xxl-4":n}),_Ve=(t,n)=>({"col-12 col-sm-12 col-md-12 col-lg-4 col-xl-4":t,"col-12 col-lg-5 col-xxl-3":n});function SVe(t,n){if(1&t&&(ua(0),xe(1,"div",7),Cn(2,yVe,1,0,"app-tanks-simple",3)(3,bVe,1,0,"app-tanks-complex",3),Se(),xe(4,"div",7),Cn(5,CVe,1,0,"app-depths-simple",3)(6,MVe,1,0,"app-depths-complex",3),Se(),xe(7,"div",7),_n(8,"app-diveoptions"),Se(),xe(9,"div",8),_n(10,"app-profilechart"),Se(),xe(11,"div",11),_n(12,"app-waypoints"),Se(),xe(13,"div",10),_n(14,"app-diveinfo"),Se(),fa()),2&t){const e=zt();_e(),Qe("ngClass",kl(7,xVe,!e.isComplex,e.isComplex)),_e(),Qe("ngIf",!e.isComplex),_e(),Qe("ngIf",e.isComplex),_e(),Qe("ngClass",kl(10,wVe,!e.isComplex,e.isComplex)),_e(),Qe("ngIf",!e.isComplex),_e(),Qe("ngIf",e.isComplex),_e(),Qe("ngClass",kl(13,_Ve,!e.isComplex,e.isComplex))}}let hG=(()=>{class t extends H2{constructor(e,r,i,a,s){super(),this.viewSwitch=e,this.units=r,this.dispatcher=i,this.startup=a,this.schedules=s,this.exclamation=zu}get isComplex(){return this.viewSwitch.isComplex}get imperialUnits(){return this.units.imperialUnits}ngOnInit(){this.startup.onDashboard(),this.dispatcher.infoCalculated$.pipe(di(this.unsubscribe$)).subscribe(e=>{this.schedules.selected.id===e&&this.startup.updateQueryParams()})}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(Zl),Dt(oi),Dt(B1),Dt(TU),Dt(Ua))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-dashboard"]],features:[yi],decls:7,vars:3,consts:[[1,"mt-5"],[1,"row"],["class","alert alert-warning alert-dismissible fade show mt-4","role","alert",4,"ngIf"],[4,"ngIf"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","mt-4"],[1,"me-2","fa-lg",3,"icon"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"],[1,"mb-4",3,"ngClass"],[1,"col-12","col-lg-12","col-xl-5","col-xxl-6","mb-4"],[1,"col-md-6","col-xl-3","mt-4"],[1,"col-md-6","col-xl-4","col-xxl-3","mb-4"],[1,"col-md-6","col-xl-3","mb-4"]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"div",1)(2,"div"),Cn(3,lVe,7,1,"div",2),Se(),_n(4,"app-plan-tabs"),Cn(5,gVe,15,16,"ng-container",3)(6,SVe,15,16,"ng-container",3),Se()()),2&r&&(_e(3),Qe("ngIf",i.startup.showDisclaimer),_e(2),Qe("ngIf",i.imperialUnits),_e(),Qe("ngIf",!i.imperialUnits))},dependencies:[k3,Ji,Oa,JU,eG,rG,iG,hx,cG,lG,uG,dG]})}return t})(),pG=(()=>{class t{constructor(){this._depth=15,this._tank=15,this._used=150,this._duration=45,this._rmv=0;const e=c2.simple();this.sacCalculator=new XHe(e),this.calculate=this.calculateSac,this.calculate()}get depth(){return this._depth}get tankSize(){return this._tank}get rmv(){return this._rmv}get duration(){return this._duration}get used(){return this._used}get inDuration(){return this.calculate===this.calculateDuration}get inUsed(){return this.calculate===this.calculateUsed}get inSac(){return this.calculate===this.calculateSac}set depth(e){this._depth=e,this.calculate()}set tankSize(e){this._tank=e,this.calculate()}set rmv(e){this._rmv=e,this.calculate()}set duration(e){this._duration=e,this.calculate()}set used(e){this._used=e,this.calculate()}toDuration(){this.calculate=this.calculateDuration}toUsed(){this.calculate=this.calculateUsed}toSac(){this.calculate=this.calculateSac}calculateSac(){this._rmv=this.sacCalculator.calculateSac(this.depth,this.tankSize,this.used,this.duration)}calculateDuration(){this._duration=this.sacCalculator.calculateDuration(this.depth,this.tankSize,this.used,this.rmv)}calculateUsed(){this._used=this.sacCalculator.calculateUsed(this.depth,this.tankSize,this.duration,this.rmv)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})();function TVe(t,n){if(1&t&&(xe(0,"div",23),qe(1),Se()),2&t){const e=zt();_e(),gn("Needs to be number ",e.ranges.tankSizeLabel," ")}}function DVe(t,n){if(1&t){const e=fi();xe(0,"div",11)(1,"label",15),qe(2),Se(),xe(3,"input",24),mn("input",function(){return or(e),sr(zt().inputChanged())}),Se(),xe(4,"div",14),qe(5),Se()()}if(2&t){const e=zt();_e(2),gn("Working pressure [",e.units.pressure,"]:"),_e(),pr("is-invalid",e.workPressureInvalid),Qe("min",e.ranges.tankPressure[0])("max",e.ranges.tankPressure[1]),_e(2),gn("Needs to be number ",e.ranges.tankPressureLabel," ")}}function AVe(t,n){if(1&t){const e=fi();ua(0),xe(1,"div",11)(2,"label",25),qe(3,"Dive time [min]:"),Se(),xe(4,"input",26),mn("input",function(){return or(e),sr(zt().inputChanged())}),Se(),xe(5,"div",14),qe(6),Se()(),fa()}if(2&t){const e=zt();_e(4),pr("is-invalid",e.durationInvalid),Qe("min",e.ranges.duration[0])("max",e.ranges.duration[1]),_e(2),gn(" Needs to be number ",e.ranges.durationLabel,"")}}function HVe(t,n){if(1&t){const e=fi();ua(0),xe(1,"div",11)(2,"label",27),qe(3),Se(),xe(4,"input",28),mn("input",function(){return or(e),sr(zt().inputChanged())}),Se(),xe(5,"div",14),qe(6),Se()(),fa()}if(2&t){const e=zt();_e(3),gn("Gas consumed [",e.units.pressure,"]:"),_e(),pr("is-invalid",e.usedInvalid),Qe("min",e.ranges.consumed[0])("max",e.ranges.consumed[1]),_e(2),gn("Needs to be number ",e.ranges.consumedLabel," ")}}function LVe(t,n){if(1&t){const e=fi();ua(0),xe(1,"div",11)(2,"label",29),qe(3),Se(),xe(4,"input",30),mn("input",function(){return or(e),sr(zt().inputChanged())}),Se(),xe(5,"div",14),qe(6),Se(),xe(7,"div",31),qe(8),qn(9,"number"),Se()(),fa()}if(2&t){const e=zt();_e(3),gn("RMV [",e.units.rmv,"]:"),_e(),pr("is-invalid",e.rmvInvalid),Qe("min",e.ranges.diverRmv[0])("max",e.ranges.diverRmv[1]),_e(2),gn("Needs to be number ",e.ranges.diverRmvLabel," "),_e(),pr("invisible",e.rmvInvalid),_e(),Q2("SAC: ",er(9,10,e.gasSac,"1.0-2")," ",e.units.sac,"")}}function zVe(t,n){if(1&t&&(ua(0),xe(1,"div",11)(2,"label",29),qe(3),Se(),_n(4,"input",32),xe(5,"small",33),qe(6),qn(7,"number"),Se()(),fa()),2&t){const e=zt();_e(3),gn("RMV [",e.units.rmv,"]:"),_e(),Qe("readonly",!0)("value",e.calcRmv),_e(2),Q2("SAC: ",er(7,5,e.gasSac,"1.0-2")," ",e.units.sac,"")}}function kVe(t,n){if(1&t&&(ua(0),xe(1,"div",11)(2,"label",27),qe(3),Se(),_n(4,"input",34),Se(),fa()),2&t){const e=zt();_e(3),gn("Gas consumed [",e.units.pressure,"]:"),_e(),Qe("readonly",!0)("value",e.calcUsed)}}function VVe(t,n){if(1&t&&(ua(0),xe(1,"div",11)(2,"label",25),qe(3,"Dive time [min]:"),Se(),_n(4,"input",35),Se(),fa()),2&t){const e=zt();_e(4),Qe("readonly",!0)("value",e.calcDuration)}}function EVe(t,n){if(1&t){const e=fi();xe(0,"button",36),mn("click",function(){return or(e),sr(zt().use())}),qe(1,"Use"),Se()}}let vG=(()=>{class t{constructor(e,r,i,a,s,l,M,R,oe){this.validators=e,this.inputs=r,this.formBuilder=i,this.options=a,this.cd=s,this.calc=l,this.units=M,this.location=R,this.viewStates=oe,this.calcIcon=G3,this.depthConverterWarning=Bu.depthConverterWarning,this.tank=new yc(Ba.createDefault(),this.units)}get ranges(){return this.units.ranges}get depthInvalid(){return this.inputs.controlInValid(this.formSac.controls.depth)}get tankInvalid(){return this.inputs.controlInValid(this.formSac.controls.tankSize)}get workPressureInvalid(){return this.inputs.controlInValid(this.formSac.controls.workPressure)}get usedInvalid(){return this.inputs.controlInValid(this.formSac.controls.used)}get rmvInvalid(){return this.inputs.controlInValid(this.formSac.controls.rmv)}get durationInvalid(){return this.inputs.controlInValid(this.formSac.controls.duration)}get calcDepth(){const e=this.units.fromMeters(this.calc.depth);return Sn.round(e,1)}get calcTankSize(){return Sn.round(this.tank.size,1)}get calcWorkingPressure(){return Sn.round(this.tank.workingPressure,1)}get calcUsed(){const e=this.units.fromBar(this.calc.used);return Sn.round(e,1)}get calcRmv(){const e=this.units.fromLiter(this.calc.rmv);return Sn.round(e,this.units.ranges.rmvRounding)}get calcDuration(){return Sn.round(this.calc.duration)}get gasSac(){const e=Zd.gasSac(this.calc.rmv,this.calc.tankSize);return this.units.fromBar(e)}ngOnInit(){if(this.setDefaultValues(),this.loadState(),this.saveState(),this.durationControl=this.formBuilder.control(this.calcDuration,this.validators.duration),this.usedControl=this.formBuilder.control(this.calcUsed,this.validators.tankConsumed),this.rmvControl=this.formBuilder.control(this.calcRmv,this.validators.diverRmv),this.formSac=this.formBuilder.group({depth:[this.calcDepth,this.validators.depth],tankSize:[this.calcTankSize,this.validators.tankSize]}),this.units.imperialUnits){const e=this.formBuilder.control(this.calcWorkingPressure,this.validators.tankPressure);this.formSac.addControl("workPressure",e)}this.toSac()}applyTemplate(e){this.formSac.invalid||(this.formSac.patchValue({workPressure:e.workingPressure}),this.inputChanged())}inputChanged(){if(this.formSac.invalid)return;const e=this.formSac.value;this.tank.workingPressure=Number(e.workPressure),this.tank.size=Number(e.tankSize),this.calc.tankSize=this.tank.tank.size,this.calc.depth=this.units.toMeters(Number(e.depth)),this.calc.used=this.units.toBar(Number(e.used)),this.calc.rmv=this.units.toLiter(Number(e.rmv)),this.calc.duration=Number(e.duration),this.reload(),this.saveState()}toDuration(){this.calc.toDuration(),this.enableAll(),this.formSac.removeControl("duration"),this.cd.detectChanges()}toUsed(){this.calc.toUsed(),this.enableAll(),this.formSac.removeControl("used"),this.cd.detectChanges()}toSac(){this.calc.toSac(),this.enableAll(),this.formSac.removeControl("rmv"),this.cd.detectChanges()}use(){this.formSac.invalid||(this.options.diverOptions.rmv=this.calc.rmv)}enableAll(){this.formSac.addControl("used",this.usedControl),this.formSac.addControl("duration",this.durationControl),this.formSac.addControl("rmv",this.rmvControl),this.reload()}reload(){this.formSac.patchValue({depth:this.calcDepth,tankSize:this.calcTankSize,workPressure:this.calcWorkingPressure,used:this.calcUsed,duration:this.calcDuration,rmv:this.calcRmv})}setDefaultValues(){this.calc.depth=this.units.toMeters(5*this.units.defaults.stopsDistance);const r=this.units.defaults.tanks;this.tank.workingPressure=r.primary.workingPressure,this.tank.size=r.primary.size,this.calc.tankSize=this.tank.tank.size,this.calc.used=this.units.imperialUnits?this.units.toBar(2200):150}loadState(){let e=this.viewStates.loadView(Bi.sac);e||(e=this.createState()),this.calc.depth=e.avgDepth,this.tank.workingPressureBars=e.workPressure,this.calc.tankSize=e.tankSize,this.tank.tank.size=this.calc.tankSize,this.calc.used=e.used,this.calc.duration=e.duration}saveState(){const e=this.createState();this.viewStates.saveView(e)}createState(){return{avgDepth:this.calc.depth,tankSize:this.calc.tankSize,workPressure:this.tank.workingPressureBars,used:this.calc.used,duration:this.calc.duration,id:Bi.sac}}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(ja),Dt(Ss),Dt(ts),Dt(Nv),Dt(Gc),Dt(pG),Dt(oi),Dt(R1),Dt(ao))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-sac"]],decls:41,vars:27,consts:[[1,"mt-5"],[1,"row"],[1,"col","col-sm-8","col-md-6","col-lg-5","col-xl-4","col-xxl-3","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[3,"formGroup"],[1,"mb-4"],["role","group",1,"btn-group","mb-3"],["type","button",1,"btn",3,"click"],[1,"pt-2","mb-4"],["for","depth","mdbLabel","",1,"form-label"],["formControlName","depth","name","depth","id","depth","type","number","step","1",1,"form-control",3,"min","max","input"],[1,"invalid-feedback","position-absolute"],["for","tank","mdbLabel","",1,"form-label"],["controlName","tankSize",3,"tank","sizeForm","sizeChange","applyTemplate"],["class","text-danger form-text position-absolute",4,"ngIf"],["class","pt-2 mb-4",4,"ngIf"],[4,"ngIf"],[1,"form-group","mt-2"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button","class","btn btn-secondary",3,"click",4,"ngIf"],[1,"text-danger","form-text","position-absolute"],["formControlName","workPressure","name","workPressure","id","workPressure","type","number","step","1",1,"form-control",3,"min","max","input"],["for","duration","mdbLabel","",1,"form-label"],["formControlName","duration","name","duration","id","duration","type","number","step","1",1,"form-control",3,"min","max","input"],["for","used","mdbLabel","",1,"form-label"],["formControlName","used","name","used","id","used","type","number","step","1",1,"form-control",3,"min","max","input"],["for","sac","mdbLabel","",1,"form-label"],["formControlName","rmv","name","sac","id","sac","type","number","step","1","aria-describedby","rmvDescribe",1,"form-control",3,"min","max","input"],["id","rmvDescribe",1,"form-text"],["id","sac",1,"form-control",3,"readonly","value"],[1,"form-text","text-muted"],["id","used",1,"form-control",3,"readonly","value"],["id","duration",1,"form-control",3,"readonly","value"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),_n(5,"fa-icon",5),xe(6,"span"),qe(7,"Respiratory minute volume"),Se()(),xe(8,"div",6)(9,"form",7)(10,"div",8),qe(11),Se(),xe(12,"div",9)(13,"button",10),mn("click",function(){return i.toSac()}),qe(14,"RMV"),Se(),xe(15,"button",10),mn("click",function(){return i.toUsed()}),qe(16,"Used"),Se(),xe(17,"button",10),mn("click",function(){return i.toDuration()}),qe(18,"Duration"),Se()(),xe(19,"div",11)(20,"label",12),qe(21),Se(),xe(22,"input",13),mn("input",function(){return i.inputChanged()}),Se(),xe(23,"div",14),qe(24),Se()(),xe(25,"div",11)(26,"label",15),qe(27),Se(),xe(28,"app-tank-size",16),mn("sizeChange",function(){return i.inputChanged()})("applyTemplate",function(s){return i.applyTemplate(s)}),Se(),Cn(29,TVe,2,1,"div",17),Se(),Cn(30,DVe,6,6,"div",18)(31,AVe,7,5,"ng-container",19)(32,HVe,7,6,"ng-container",19)(33,LVe,10,13,"ng-container",19)(34,zVe,8,8,"ng-container",19)(35,kVe,5,3,"ng-container",19)(36,VVe,5,2,"ng-container",19),Se()()(),xe(37,"div",20)(38,"button",21),mn("click",function(){return i.location.back()}),qe(39,"Back"),Se(),Cn(40,EVe,2,0,"button",22),Se()()()()),2&r&&(_e(5),Qe("icon",i.calcIcon),_e(4),Qe("formGroup",i.formSac),_e(2),Ir(i.depthConverterWarning),_e(2),pr("btn-primary",i.calc.inSac),_e(2),pr("btn-primary",i.calc.inUsed),_e(2),pr("btn-primary",i.calc.inDuration),_e(4),gn("Average depth [",i.units.length,"]:"),_e(),pr("is-invalid",i.depthInvalid),Qe("min",i.ranges.depth[0])("max",i.ranges.depth[1]),_e(2),gn("Needs to be number ",i.ranges.depthLabel," "),_e(3),gn("Tank size [",i.units.volume,"]:"),_e(),Qe("tank",i.tank)("sizeForm",i.formSac),_e(),Qe("ngIf",i.tankInvalid),_e(),Qe("ngIf",i.units.imperialUnits),_e(),Qe("ngIf",!i.calc.inDuration),_e(),Qe("ngIf",!i.calc.inUsed),_e(),Qe("ngIf",!i.calc.inSac),_e(),Qe("ngIf",i.calc.inSac),_e(),Qe("ngIf",i.calc.inUsed),_e(),Qe("ngIf",i.calc.inDuration),_e(4),Qe("ngIf",!i.formSac.invalid))},dependencies:[Ji,Oa,D2,Wa,xs,us,qa,_s,ws,Pa,es,A1,Wu,ls]})}return t})();class NVe{static lowMod(n){return()=>n()?{lowMod:!0}:null}}let mG=(()=>{class t{constructor(){this._pO2=1.4,this._fO2=21,this._mod=30,this.calculateCurrentMod=()=>{this._mod=this.nitroxCalculator.mod(this._pO2,this._fO2)},this.calculateBestMix=()=>{this._fO2=this.nitroxCalculator.bestMix(this._pO2,this._mod)},this.calculatePartial=()=>{this._pO2=this.nitroxCalculator.partialPressure(this._fO2,this._mod)};const e=c2.simple();this.nitroxCalculator=new CU(e,.21),this.calculate=this.calculateCurrentMod}get inMod(){return this.calculate===this.calculateCurrentMod}get inBestMix(){return this.calculate===this.calculateBestMix}get inPO2(){return this.calculate===this.calculatePartial}get pO2(){return this._pO2}get fO2(){return this._fO2}get ead(){return this.nitroxCalculator.ead(this._fO2,this._mod)}get mod(){return this._mod}set pO2(e){this._pO2=e,this.calculate()}set fO2(e){this._fO2=e,this.calculate()}set mod(e){this._mod=e,this.calculate()}toMod(){this.calculate=this.calculateCurrentMod}toBestMix(){this.calculate=this.calculateBestMix}toPO2(){this.calculate=this.calculatePartial}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})();function IVe(t,n){if(1&t){const e=fi();ua(0),xe(1,"div",15)(2,"label",16),qe(3,"ppO2:"),Se(),xe(4,"input",17),mn("input",function(){return or(e),sr(zt().inputChanged())}),Se(),xe(5,"div",18),qe(6,"Needs to be number 0.21-3 "),Se()(),fa()}if(2&t){const e=zt();_e(4),pr("is-invalid",e.pO2Invalid),Qe("min",e.ranges.ppO2[0])("max",e.ranges.ppO2[1])}}function PVe(t,n){if(1&t){const e=fi();ua(0),xe(1,"div",15)(2,"app-oxygen-dropdown",19),mn("gasChange",function(){return or(e),sr(zt().inputChanged())})("standardGasApplied",function(){return or(e),sr(zt().inputChanged())}),Se()(),fa()}if(2&t){const e=zt();_e(2),Qe("showBestMix",!1)("nitroxForm",e.nitroxForm)}}function RVe(t,n){if(1&t){const e=fi();ua(0),xe(1,"div",15)(2,"label",20),qe(3),Se(),xe(4,"input",21),mn("input",function(){return or(e),sr(zt().inputChanged())}),Se(),xe(5,"div",18),qe(6),Se(),xe(7,"div",22),qe(8),qn(9,"number"),Se()(),fa()}if(2&t){const e=zt();_e(3),gn("MOD [",e.units.length,"]:"),_e(),pr("is-invalid",e.modInvalid),Qe("min",e.ranges.depth[0])("max",e.ranges.depth[1]),_e(2),gn("Needs to be number ",e.ranges.depthLabel,""),_e(),pr("invisible",e.modInvalid),_e(),Q2(" EAD: ",er(9,10,e.ead,"1.0-1")," ",e.units.length,"")}}function FVe(t,n){if(1&t&&(ua(0),xe(1,"div",15)(2,"label",20),qe(3),Se(),_n(4,"input",23),qn(5,"number"),xe(6,"small",24),qe(7),qn(8,"number"),Se()(),fa()),2&t){const e=zt();_e(3),gn("MOD [",e.units.length,"]:"),_e(),Qe("readonly",!0)("value",er(5,5,e.calcMod,"1.0-1")),_e(3),Q2("EAD: ",er(8,8,e.ead,"1.0-1")," ",e.units.length,"")}}function OVe(t,n){if(1&t&&(ua(0),xe(1,"div",15)(2,"label",25),qe(3,"O2 [%]:"),Se(),_n(4,"input",26),qn(5,"number"),Se(),fa()),2&t){const e=zt();_e(4),Qe("readonly",!0)("value",er(5,2,e.calc.fO2,"1.0-1"))}}function BVe(t,n){if(1&t&&(ua(0),xe(1,"div",15)(2,"label",16),qe(3,"ppO2:"),Se(),_n(4,"input",27),qn(5,"number"),Se(),fa()),2&t){const e=zt();_e(4),Qe("readonly",!0)("value",er(5,2,e.calc.pO2,"1.0-2"))}}function UVe(t,n){1&t&&(ua(0),xe(1,"div",28),qe(2," Too small final operation depth. Increase ppO2 or reduce Percent O2. "),Se(),fa())}function GVe(t,n){if(1&t){const e=fi();xe(0,"button",29),mn("click",function(){return or(e),sr(zt().use())}),qe(1,"Use"),Se()}}let gG=(()=>{class t{constructor(e,r,i,a,s,l,M,R){this.calc=e,this.units=r,this.location=i,this.fb=a,this.inputs=s,this.validators=l,this.schedules=M,this.viewStates=R,this.calcIcon=G3,this.depthConverterWarning=Bu.depthConverterWarning,this.failingMod=!1,this.loadState(),this.saveState()}get ranges(){return this.units.ranges}get ead(){return this.units.fromMeters(this.calc.ead)}get pO2Invalid(){return this.inputs.controlInValid(this.nitroxForm.controls.pO2)}get modInvalid(){return this.inputs.controlInValid(this.nitroxForm.controls.mod)}get fO2Invalid(){return this.inputs.controlInValid(this.nitroxForm.controls.fO2)}get calcMod(){return this.failingMod?0:this.units.fromMeters(this.calc.mod)}ngOnInit(){this.fO2Control=this.fb.control(Sn.round(this.calc.fO2,1),this.validators.nitroxOxygen),this.pO2Control=this.fb.control(Sn.round(this.calc.pO2,2),this.validators.ppO2),this.modControl=this.fb.control(Sn.round(this.calcMod,1),this.validators.depth),this.nitroxForm=this.fb.group({},{validators:NVe.lowMod(()=>this.failingMod)}),this.toMod()}inputChanged(){try{if(this.failingMod=!1,this.nitroxForm.updateValueAndValidity(),this.nitroxForm.invalid)return;const e=this.nitroxForm.value;this.calc.pO2=Number(e.pO2),this.calc.fO2=Number(e.fO2);const r=Number(e.mod);this.calc.mod=this.units.toMeters(r),this.reload(),this.saveState()}catch{this.failingMod=!0,this.nitroxForm.updateValueAndValidity()}}use(){this.nitroxForm.invalid||this.schedules.selected.applyNitrox(this.calc.fO2,this.calc.pO2)}toMod(){this.calc.toMod(),this.enableAll(),this.nitroxForm.removeControl("mod")}toBestMix(){this.calc.toBestMix(),this.enableAll(),this.nitroxForm.removeControl("fO2")}toPO2(){this.calc.toPO2(),this.enableAll(),this.nitroxForm.removeControl("pO2")}enableAll(){this.nitroxForm.addControl("mod",this.modControl),this.nitroxForm.addControl("fO2",this.fO2Control),this.nitroxForm.addControl("pO2",this.pO2Control),this.reload()}reload(){this.nitroxForm.patchValue({fO2:Sn.round(this.calc.fO2,1),pO2:Sn.round(this.calc.pO2,2),mod:Sn.round(this.calcMod,1)})}loadState(){let e=this.viewStates.loadView(Bi.nitrox);e||(e=this.createState()),this.calc.fO2=e.fO2,this.calc.pO2=e.pO2}saveState(){const e=this.createState(this.calc.fO2,this.calc.pO2);this.viewStates.saveView(e)}createState(e=21,r=1.4){return{fO2:e,pO2:r,id:Bi.nitrox}}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(mG),Dt(oi),Dt(R1),Dt(ts),Dt(Ss),Dt(ja),Dt(Ua),Dt(ao))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-nitrox"]],decls:30,vars:17,consts:[[1,"row","mt-5"],[1,"col","col-sm-8","col-md-6","col-lg-5","col-xl-4","col-xxl-3","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[3,"formGroup"],[1,"mb-4"],["role","group",1,"btn-group","mb-3"],["type","button",1,"btn",3,"click"],[4,"ngIf"],[1,"pt-2","pb-4","pe-3","mb-4"],[1,"form-group","mt-3"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button","class","btn btn-secondary",3,"click",4,"ngIf"],[1,"pt-2","mb-4"],["for","pO2","mdbLabel","",1,"form-label"],["name","pO2","id","pO2","type","number","formControlName","pO2","step","0.1",1,"form-control",3,"min","max","input"],[1,"invalid-feedback","position-absolute"],["controlName","fO2",3,"showBestMix","nitroxForm","gasChange","standardGasApplied"],["for","mod","mdbLabel","",1,"form-label"],["name","mod","id","mod","type","number","formControlName","mod","step","1","aria-describedby","eadDescribe",1,"form-control",3,"min","max","input"],["id","eadDescribe",1,"form-text"],["id","mod",1,"form-control",3,"readonly","value"],[1,"form-text","text-muted"],["for","fO2","mdbLabel","",1,"form-label"],["id","fO2",1,"form-control",3,"readonly","value"],["id","pO2",1,"form-control",3,"readonly","value"],[1,"text-danger","form-text","position-absolute"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),_n(4,"fa-icon",4),xe(5,"span"),qe(6,"Nitrox calculator"),Se()(),xe(7,"div",5)(8,"form",6)(9,"div",7),qe(10),Se(),xe(11,"div",8)(12,"button",9),mn("click",function(){return i.toMod()}),qe(13,"MOD"),Se(),xe(14,"button",9),mn("click",function(){return i.toBestMix()}),qe(15,"Best mix"),Se(),xe(16,"button",9),mn("click",function(){return i.toPO2()}),qe(17,"ppO2"),Se()(),Cn(18,IVe,7,4,"ng-container",10)(19,PVe,3,2,"ng-container",10)(20,RVe,10,13,"ng-container",10)(21,FVe,9,11,"ng-container",10)(22,OVe,6,5,"ng-container",10)(23,BVe,6,5,"ng-container",10),xe(24,"div",11),Cn(25,UVe,3,0,"ng-container",10),Se()()()(),xe(26,"div",12)(27,"button",13),mn("click",function(){return i.location.back()}),qe(28,"Back"),Se(),Cn(29,GVe,2,0,"button",14),Se()()()),2&r&&(_e(4),Qe("icon",i.calcIcon),_e(4),Qe("formGroup",i.nitroxForm),_e(2),Ir(i.depthConverterWarning),_e(2),pr("btn-primary",i.calc.inMod),_e(2),pr("btn-primary",i.calc.inBestMix),_e(2),pr("btn-primary",i.calc.inPO2),_e(2),Qe("ngIf",!i.calc.inPO2),_e(),Qe("ngIf",!i.calc.inBestMix),_e(),Qe("ngIf",!i.calc.inMod),_e(),Qe("ngIf",i.calc.inMod),_e(),Qe("ngIf",i.calc.inBestMix),_e(),Qe("ngIf",i.calc.inPO2),_e(2),Qe("ngIf",null==i.nitroxForm.errors?null:i.nitroxForm.errors.lowMod),_e(4),Qe("ngIf",!i.nitroxForm.invalid))},dependencies:[Ji,Oa,D2,Wa,xs,us,qa,_s,ws,Pa,es,A1,$u,ls]})}return t})();class Cc{static#e=this.rootUrl="https://github.com/jirkapok/GasPlanner";static#t=this.rootHelpUrl=Cc.rootUrl+"/blob/master/doc";get projectUrl(){return Cc.rootUrl}get standardGases(){return Cc.rootHelpUrl+"/standard_gases.md"}get helpUrl(){return Cc.rootHelpUrl+"/readme.md"}static#n=this.\u0275fac=function(e){return new(e||Cc)};static#r=this.\u0275prov=In({token:Cc,factory:Cc.\u0275fac})}let yx=(()=>{class t{constructor(){this.appVersion="0.1.26"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-info"]],decls:2,vars:1,consts:[[1,"text-muted"]],template:function(r,i){1&r&&(xe(0,"span",0),qe(1),Se()),2&r&&(_e(),gn("\xa9 2020 JIRI POKORNY, Version ",i.appVersion,""))}})}return t})(),yG=(()=>{class t{constructor(e){this.urls=e,this.exclamation=zu}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(Cc))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-about"]],decls:17,vars:2,consts:[[1,"jumbotron","m-4","pt-5"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","mt-4"],[1,"me-2","fa-lg",3,"icon"],[1,"mt-4"],["target","_blank",1,"btn","btn-primary","btn-lg",3,"href"]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"h1"),qe(2,"About Gas Planner"),Se(),xe(3,"p"),qe(4,"Open source Scuba diving application to help divers plan their dives."),_n(5,"br"),qe(6," Plan your dive and dive your plan!"),Se(),_n(7,"app-info"),xe(8,"div",1),_n(9,"fa-icon",2),xe(10,"span")(11,"strong"),qe(12,"Disclaimer:"),Se(),qe(13," None of the authors, contributors, administrators, or anyone else connected with this project can be responsible for your use of the information provided by this application or linked from these web pages. Use the results at your own risk."),Se()(),xe(14,"div",3)(15,"a",4),qe(16,"Github project"),Se()()()),2&r&&(_e(9),Qe("icon",i.exclamation),_e(6),S8("href",i.urls.projectUrl,R4))},dependencies:[Oa,yx]})}return t})(),bG=(()=>{class t{calculate(e,r){const i=[],a=c2.simple(),s=e.mod(r.maxPpO2);let l=a.fromBar(s);l>42&&(l=42);const M=new Yd;for(let R=12;R<=l;R+=r.decoStopDistance){const oe=x0.forSimpleDive(R,e,r),Ce=M.noDecoLimit(oe);i.push({depth:R,limit:Ce})}return i}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})();function WVe(t,n){1&t&&(xe(0,"tr")(1,"td",22),qe(2," No NDL limits found in meaningful depth range."),_n(3,"br"),qe(4," Change gas O2 content. "),Se()())}function jVe(t,n){if(1&t&&(xe(0,"tr")(1,"td"),qe(2),Se(),xe(3,"td"),qe(4),qn(5,"number"),Se()()),2&t){const e=n.$implicit;_e(2),Ir(e.depth),_e(2),Ir(er(5,2,e.limit,"1.0-0"))}}let CG=(()=>{class t{constructor(e,r,i,a,s,l,M){this.units=e,this.location=r,this.ndl=i,this.viewStates=a,this.fb=s,this.validators=l,this.icon=jC,this.iconConfig=gM,this.isComplex=!1,this.limits=[],this.tank=new yc(Ba.createDefault(),this.units);const R=this.units.defaults.tanks;this.tank.workingPressure=R.primary.workingPressure,this.tank.size=R.primary.size,this.options=new Vu;const oe=M.selectedOptions.getOptions();this.options.loadFrom(oe),this.toxicity=new Kd(this.options)}get noResults(){return 0===this.limits.length}ngOnInit(){this.loadState(),this.form=this.fb.group({o2:[Sn.round(this.tank.o2,1),this.validators.nitroxOxygen],maxPpO2:[Sn.round(this.options.maxPpO2,2),this.validators.ppO2],altitude:[this.units.fromMeters(this.options.altitude),this.validators.altitude],gfLow:[Sn.round(100*this.options.gfLow,1),this.validators.gradients],gfHigh:[Sn.round(100*this.options.gfHigh,1),this.validators.gradients]}),this.calculate()}calculate(){if(!this.form.invalid){this.limits=this.ndl.calculate(this.tank.tank.gas,this.options);for(let r=0;r<this.limits.length;r++)this.limits[r].depth=this.units.defaults.stopsDistance*(r+4);this.saveState()}}ppO2Changed(e){this.options.maxPpO2=e,this.calculate()}salinityChanged(e){this.options.salinity=e,this.calculate()}altitudeChanged(e){this.options.altitude=e,this.calculate()}gradientsChanged(e){this.options.gfLow=e.gfLow,this.options.gfHigh=e.gfHeigh,this.calculate()}loadState(){let e=this.viewStates.loadView(Bi.ndl);e||(e=this.createState()),this.tank.o2=e.fO2,this.options.maxPpO2=e.pO2,this.options.altitude=e.altitude,this.options.salinity=e.salinity,this.options.gfLow=e.gfLow,this.options.gfHigh=e.gfHigh}saveState(){const e=this.createState();this.viewStates.saveView(e)}createState(){return{fO2:this.tank.o2,pO2:this.options.maxPpO2,altitude:this.options.altitude,salinity:this.options.salinity,gfLow:this.options.gfLow,gfHigh:this.options.gfHigh,id:Bi.ndl}}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(oi),Dt(R1),Dt(bG),Dt(ao),Dt(ts),Dt(ja),Dt(Ua))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-ndl-limits"]],decls:39,vars:19,consts:[[1,"row","mt-5"],[1,"col","col-12","col-sm-7","col-md-6","col-lg-5","col-xl-4","col-xxl-3","mt-3"],[1,"card","ndl-minheight"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[1,"pt-2","mb-4"],[3,"tank","showBestMix","toxicity","nitroxForm","gasChange","standardGasApplied"],["label","Maximum ppO2:",3,"maxPpO2","pO2Form","ppO2Change"],[3,"salinity","inputChange"],[3,"altitude","altitudeForm","inputChange"],[1,"pt-2"],[3,"gfLow","gfHigh","gfForm","simple","showTitle","inputChange"],[1,"col","col-12","col-sm-5","col-md-5","col-lg-3","col-xxl-2","mt-3"],[1,"table","table-sm","p-0"],[1,"table-light"],[1,"fw-bold","px-1"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"row"],[1,"form-group","mt-3"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["colspan","2"]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),_n(4,"fa-icon",4),xe(5,"span"),qe(6,"Options"),Se()(),xe(7,"div",5)(8,"div",6)(9,"app-oxygen",7),mn("gasChange",function(){return i.calculate()})("standardGasApplied",function(){return i.calculate()}),Se()(),xe(10,"div",6)(11,"app-pp-o2",8),mn("ppO2Change",function(s){return i.ppO2Changed(s)}),Se()(),xe(12,"div",6)(13,"app-salinity",9),mn("inputChange",function(s){return i.salinityChanged(s)}),Se()(),xe(14,"div",6)(15,"app-altitude",10),mn("inputChange",function(s){return i.altitudeChanged(s)}),Se()(),xe(16,"div",11)(17,"app-gradients",12),mn("inputChange",function(s){return i.gradientsChanged(s)}),Se()()()()(),xe(18,"div",13)(19,"div",2)(20,"div",3),_n(21,"fa-icon",4),xe(22,"span"),qe(23,"No decompression limits"),Se()(),xe(24,"div",5)(25,"table",14)(26,"thead",15)(27,"tr")(28,"th",16),qe(29),Se(),xe(30,"th",16),qe(31,"Limit [min]"),Se()()(),xe(32,"tbody"),Cn(33,WVe,5,0,"tr",17)(34,jVe,6,5,"tr",18),Se()()()()()(),xe(35,"div",19)(36,"div",20)(37,"button",21),mn("click",function(){return i.location.back()}),qe(38,"Back"),Se()()()),2&r&&(_e(4),Qe("icon",i.iconConfig),_e(5),Qe("tank",i.tank)("showBestMix",!1)("toxicity",i.toxicity)("nitroxForm",i.form),_e(2),Qe("maxPpO2",i.options.maxPpO2)("pO2Form",i.form),_e(2),Qe("salinity",i.options.salinity),_e(2),Qe("altitude",i.options.altitude)("altitudeForm",i.form),_e(2),Qe("gfLow",i.options.gfLow)("gfHigh",i.options.gfHigh)("gfForm",i.form)("simple",!1)("showTitle",!0),_e(4),Qe("icon",i.icon),_e(8),gn("Depth [",i.units.length,"]"),_e(4),Qe("ngIf",i.noResults),_e(),Qe("ngForOf",i.limits))},dependencies:[ko,Ji,Oa,Yv,ux,gx,Iv,fx,ls],styles:[".ndl-minheight[_ngcontent-%COMP%]{min-height:690px}"]})}return t})(),MG=(()=>{class t{constructor(e,r,i,a,s,l){this.fb=e,this.validators=r,this.inputs=i,this.units=a,this.location=s,this.viewStates=l,this.calcIcon=G3,this.calc=new EHe,this.loadState(),this.saveState()}get ranges(){return this.units.ranges}get pressureInvalid(){return this.inputs.controlInValid(this.altitudeForm.controls.pressure)}get actualDepthInvalid(){return this.inputs.controlInValid(this.altitudeForm.controls.actualDepth)}get calcAltitude(){const e=this.units.fromMeters(this.calc.altitude);return Sn.round(e)}get calcPressure(){const e=this.units.fromBar(this.calc.pressure);return Sn.round(e,6)}get calcAltitudeDepth(){const e=this.units.fromMeters(this.calc.altitudeDepth);return Sn.round(e,0)}get theoreticalDepth(){const e=this.units.fromMeters(this.calc.theoreticalDepth);return Sn.round(e,2)}ngOnInit(){this.altitudeForm=this.fb.group({pressure:[this.calcPressure,this.validators.rangeFor(this.ranges.altitudePressure)],altitude:[this.calcAltitude,this.validators.altitude],actualDepth:[this.calcAltitudeDepth,this.validators.depth]})}pressureChanged(){if(this.altitudeForm.invalid)return;const r=this.units.toBar(Number(this.altitudeForm.value.pressure));this.calc.pressure=r,this.altitudeForm.patchValue({altitude:this.calcAltitude}),this.saveState()}altitudeChanged(e){this.altitudeForm.invalid||(this.calc.altitude=e,this.saveState())}inputChanged(){if(this.altitudeForm.invalid)return;const r=this.units.toMeters(Number(this.altitudeForm.value.actualDepth));this.calc.altitudeDepth=r,this.saveState()}loadState(){let e=this.viewStates.loadView(Bi.altitude);e||(e=this.createState()),this.calc.altitudeDepth=e.actualDepth,this.calc.altitude=e.altitude}saveState(){const e=this.createState();this.viewStates.saveView(e)}createState(){return{altitude:this.calc.altitude,actualDepth:this.calc.altitudeDepth,id:Bi.altitude}}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(ts),Dt(ja),Dt(Ss),Dt(oi),Dt(R1),Dt(ao))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-altitude-calc"]],decls:31,vars:27,consts:[[1,"row","mt-5"],[1,"col","col-sm-8","col-md-6","col-lg-5","col-xl-4","col-xxl-3","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[3,"formGroup"],[1,"pt-2","mb-4"],["for","pressure","mdbLabel","",1,"form-label"],["name","pressure","id","pressure","type","number","formControlName","pressure","step","0.01",1,"form-control",3,"min","max","value","input"],[1,"invalid-feedback","position-absolute"],[3,"altitude","altitudeForm","inputChange"],["for","actualDepth","mdbLabel","",1,"form-label"],["name","actualDepth","id","actualDepth","type","number","formControlName","actualDepth","step","1",1,"form-control",3,"min","max","input"],["name","theoreticalDepth","id","theoreticalDepth","type","number","readonly","",1,"form-control","readonly",3,"readonly","value"],[1,"form-group","mt-3"],["type","button",1,"btn","btn-primary","me-2",3,"click"]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),_n(4,"fa-icon",4),xe(5,"span"),qe(6,"Altitude calculator"),Se()(),xe(7,"div",5)(8,"form",6)(9,"div")(10,"div",7)(11,"label",8),qe(12),Se(),xe(13,"input",9),mn("input",function(){return i.pressureChanged()}),qn(14,"number"),Se(),xe(15,"div",10),qe(16),Se()()(),xe(17,"div")(18,"app-altitude",11),mn("inputChange",function(s){return i.altitudeChanged(s)}),Se()(),xe(19,"div",7)(20,"label",12),qe(21),Se(),xe(22,"input",13),mn("input",function(){return i.inputChanged()}),Se()(),xe(23,"div",7)(24,"label",12),qe(25),Se(),_n(26,"input",14),qn(27,"number"),Se()()()(),xe(28,"div",15)(29,"button",16),mn("click",function(){return i.location.back()}),qe(30,"Back"),Se()()()()),2&r&&(_e(4),Qe("icon",i.calcIcon),_e(4),Qe("formGroup",i.altitudeForm),_e(4),gn("Atmospheric pressure [",i.units.pressure,"]:"),_e(),pr("is-invalid",i.pressureInvalid),Qe("min",i.ranges.altitudePressure[0])("max",i.ranges.altitudePressure[1])("value",er(14,21,i.calcPressure,"1.0-6")),_e(3),T2("Needs to be number ",i.ranges.altitudePressure[0]," - ",i.ranges.altitudePressure[1]," ",i.units.pressure," "),_e(2),Qe("altitude",i.calc.altitude)("altitudeForm",i.altitudeForm),_e(3),gn("Actual depth [",i.units.length,"]:"),_e(),pr("is-invalid",i.actualDepthInvalid),Qe("min",i.ranges.depth[0])("max",i.ranges.depth[1]),_e(3),gn("Theoretical sea level depth [",i.units.length,"]:"),_e(),Qe("readonly",!0)("value",er(27,24,i.theoreticalDepth,"1.0-2")))},dependencies:[Oa,D2,Wa,xs,us,qa,_s,ws,Pa,es,A1,Yv,ls]})}return t})();function YVe(t,n){if(1&t&&(xe(0,"div",19),qe(1),Se()),2&t){const e=zt();_e(),gn("Needs to be number ",e.ranges.tankSizeLabel,"")}}function ZVe(t,n){if(1&t){const e=fi();xe(0,"div",7)(1,"label",20),qe(2),Se(),xe(3,"input",21),mn("input",function(){return or(e),sr(zt().inputChanged())}),Se(),xe(4,"div",14),qe(5),Se()()}if(2&t){const e=zt();_e(2),gn("Working pressure [",e.units.pressure,"]: "),_e(),pr("is-invalid",e.workPressureInvalid),Qe("min",e.ranges.tankPressure[0])("max",e.ranges.tankPressure[1]),_e(2),gn("Needs to be number ",e.ranges.tankPressureLabel,"")}}let xG=(()=>{class t{constructor(e,r,i,a,s,l){this.fb=e,this.validators=r,this.inputs=i,this.units=a,this.location=s,this.viewStates=l,this.calcIcon=G3,this.tank=new yc(Ba.createDefault(),this.units),this.loadState(),this.saveState()}get ranges(){return this.units.ranges}get consumedInvalid(){return this.inputs.controlInValid(this.weightForm.controls.consumed)}get workPressureInvalid(){return this.inputs.controlInValid(this.weightForm.controls.workPressure)}get tankSizeInvalid(){const e=this.weightForm.get("tankSize");return this.inputs.controlInValid(e)}get weight(){let e=QHe.tankVolumeWeight(this.tank.tank);return e=this.units.fromKilogram(e),Sn.round(e,1)}get consumed(){return this.units.fromBar(this.tank.tank.consumed)}ngOnInit(){if(this.weightForm=this.fb.group({consumed:[this.consumed,this.validators.rangeFor(this.ranges.consumed)]}),this.units.imperialUnits){const e=this.fb.control(Sn.round(this.tank.workingPressure,1),this.validators.tankPressure);this.weightForm.addControl("workPressure",e)}}applyTemplate(e){this.weightForm.invalid||(this.weightForm.patchValue({workPressure:e.workingPressure}),this.inputChanged())}inputChanged(){if(this.weightForm.invalid)return;const e=this.weightForm.value,r=Number(e.consumed);this.tank.tank.consumed=this.units.toBar(r),this.setWorkingPressure(Number(e.workPressure)),this.saveState()}loadState(){let e=this.viewStates.loadView(Bi.weight);e||(e=this.createState()),this.tank.tank.size=e.tankSize;const r=this.units.fromBar(e.workPressure);this.setWorkingPressure(r),this.tank.tank.consumed=e.consumed}saveState(){const e=this.createState();this.viewStates.saveView(e)}createState(){const e=this.tank.tank;return{tankSize:e.size,workPressure:this.tank.workingPressureBars,consumed:e.consumed,id:Bi.weight}}setWorkingPressure(e){this.units.imperialUnits&&(this.tank.workingPressure=Sn.round(e,1))}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(ts),Dt(ja),Dt(Ss),Dt(oi),Dt(R1),Dt(ao))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-weight-calc"]],decls:30,vars:19,consts:[[1,"row","mt-5"],[1,"col","col-sm-8","col-md-6","col-lg-5","col-xl-4","col-xxl-3","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[3,"formGroup"],[1,"pt-2","mb-4"],["for","tankSize","mdbLabel","",1,"form-label"],["controlName","tankSize",3,"sizeForm","tank","sizeChange","applyTemplate"],["class","text-danger form-text position-absolute",4,"ngIf"],["class","pt-2 mb-4",4,"ngIf"],["for","consumed","mdbLabel","",1,"form-label"],["type","number","id","consumed","formControlName","consumed","required","","step","1",1,"form-control",3,"min","max","input"],[1,"invalid-feedback","position-absolute"],["for","weight","mdbLabel","",1,"form-label"],["name","weight","id","weight","type","number","readonly","",1,"form-control","readonly",3,"readonly","value"],[1,"form-group","mt-3"],["type","button",1,"btn","btn-primary","me-2",3,"click"],[1,"text-danger","form-text","position-absolute"],["for","workPressure","mdbLabel","",1,"form-label"],["type","number","id","workPressure","formControlName","workPressure","required","","step","1",1,"form-control",3,"min","max","input"]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),_n(4,"fa-icon",4),xe(5,"span"),qe(6,"Weight calculator"),Se()(),xe(7,"div",5)(8,"form",6)(9,"div")(10,"div",7)(11,"label",8),qe(12),Se(),xe(13,"app-tank-size",9),mn("sizeChange",function(){return i.inputChanged()})("applyTemplate",function(s){return i.applyTemplate(s)}),Se(),Cn(14,YVe,2,1,"div",10),Se()(),Cn(15,ZVe,6,6,"div",11),xe(16,"div",7)(17,"label",12),qe(18),Se(),xe(19,"input",13),mn("input",function(){return i.inputChanged()}),Se(),xe(20,"div",14),qe(21),Se()(),xe(22,"div",7)(23,"label",15),qe(24),Se(),_n(25,"input",16),qn(26,"number"),Se()()()(),xe(27,"div",17)(28,"button",18),mn("click",function(){return i.location.back()}),qe(29,"Back"),Se()()()()),2&r&&(_e(4),Qe("icon",i.calcIcon),_e(4),Qe("formGroup",i.weightForm),_e(4),gn("Tank size [",i.units.volume,"]:"),_e(),Qe("sizeForm",i.weightForm)("tank",i.tank),_e(),Qe("ngIf",i.tankSizeInvalid),_e(),Qe("ngIf",i.units.imperialUnits),_e(3),gn("Consumed [",i.units.pressure,"]: "),_e(),pr("is-invalid",i.consumedInvalid),Qe("min",i.ranges.consumed[0])("max",i.ranges.consumed[1]),_e(2),gn("Needs to be number ",i.ranges.consumedLabel,""),_e(3),gn("Lost weight [",i.units.weight,"]:"),_e(),Qe("readonly",!0)("value",er(26,16,i.weight,"1.0-2")))},dependencies:[Ji,Oa,D2,Wa,xs,us,qa,T1,_s,ws,Pa,es,A1,Wu,ls]})}return t})();class XVe{constructor(n){this.units=n,this.calc=new $He}get tank(){return this.calc.tank}get ppO2(){return this.calc.ppO2}get ppHe(){return this.calc.ppHe}get ppN2(){return this.calc.ppN2}get totalPp(){return this.calc.totalPp}get minDepth(){return this.units.fromMeters(this.calc.minDepth)}get maxDepth(){return this.units.fromMeters(this.calc.maxDepth)}get end(){return this.units.fromMeters(this.calc.end)}get mnd(){return this.units.fromMeters(this.calc.mnd)}get density(){return this.units.fromGramPerLiter(this.calc.density)}get depth(){return this.units.fromMeters(this.calc.depth)}get maxPpO2(){return this.calc.maxPpO2}get oxygenNarcotic(){return this.calc.oxygenNarcotic}set depth(n){this.calc.depth=this.units.toMeters(n)}set maxPpO2(n){this.calc.maxPpO2=n}switchOxygenNarcotic(){this.calc.oxygenNarcotic=!this.calc.oxygenNarcotic}}function KVe(t,n){if(1&t&&(xe(0,"div",27),qe(1),Se()),2&t){const e=zt();_e(),gn("Needs to be number ",e.ranges.tankHeLabel,"")}}let wG=(()=>{class t{constructor(e,r,i,a,s,l){this.fb=e,this.validators=r,this.inputs=i,this.units=a,this.location=s,this.viewStates=l,this.calcIcon=G3,this.tableIcon=jC,this.depthConverterWarning=Bu.depthConverterWarning,this.calc=new XVe(this.units),this.loadState(),this.saveState()}get ranges(){return this.units.ranges}get tank(){return this.calc.tank}get gasHeInvalid(){return this.inputs.controlInValid(this.gasForm.controls.he)}get depthInvalid(){return this.inputs.controlInValid(this.gasForm.controls.depth)}get nitrox(){return this.tank.n2}ngOnInit(){this.gasForm=this.fb.group({o2:[this.tank.o2,this.validators.rangeFor(this.ranges.trimixOxygen)],he:[this.tank.he,this.validators.rangeFor(this.ranges.tankHe)],maxPO2:[this.calc.maxPpO2,this.validators.rangeFor(this.ranges.ppO2)],depth:[this.calc.depth,this.validators.rangeFor(this.ranges.depth)]})}standardGasApplied(){this.gasForm.invalid||(this.reloadContent(),this.inputChanged(),this.saveState())}inputChanged(){if(this.gasForm.invalid)return;const e=this.gasForm.value;this.tank.o2=Number(e.o2),this.tank.he=Number(e.he),this.calc.maxPpO2=Number(e.maxPO2),this.calc.depth=Number(e.depth),this.reloadContent(),this.saveState()}switchOxygenNarcotic(){this.calc.switchOxygenNarcotic(),this.saveState()}reloadContent(){this.gasForm.patchValue({o2:this.tank.o2,he:this.tank.he})}loadState(){let e=this.viewStates.loadView(Bi.gas);e||(e=this.createState()),this.tank.he=e.he,this.tank.o2=e.o2,this.calc.maxPpO2=e.maxPO2,this.calc.depth=this.units.fromMeters(e.depth),this.calc.oxygenNarcotic!==e.oxygenNarcotic&&this.calc.switchOxygenNarcotic()}saveState(){const e=this.createState();this.viewStates.saveView(e)}createState(){return{o2:this.tank.o2,he:this.tank.he,maxPO2:this.calc.maxPpO2,depth:this.units.toMeters(this.calc.depth),oxygenNarcotic:this.calc.oxygenNarcotic,id:Bi.gas}}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(ts),Dt(ja),Dt(Ss),Dt(oi),Dt(R1),Dt(ao))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-gas-props-calc"]],decls:102,vars:67,consts:[[1,"row","mt-5"],[1,"col","col-12","col-sm-5","col-md-4","col-lg-3","col-xxl-2","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[1,"mb-4"],[3,"formGroup"],[1,"pt-2","mb-4"],["id","o2Item","controlName","o2",3,"tank","nitroxForm","showBestMix","showTrimixGases","gasChange","standardGasApplied"],[1,"text-muted"],["for","heItem",1,"form-label"],["formControlName","he","type","number","step","1","required","","id","heItem",1,"form-control",3,"min","max","input"],["class","text-danger",4,"ngIf"],["label","Maximum ppO2:","controlName","maxPO2",3,"maxPpO2","pO2Form","ppO2Change"],[1,"form-check","form-switch","pb-1"],["type","checkbox","id","oxygenNarcotic","mdbCheckbox","",1,"form-check-input",3,"checked","change"],["for","roundStops",1,"form-check-label"],["for","depth","mdbLabel","",1,"form-label"],["type","number","id","depth","formControlName","depth","required","","step","1",1,"form-control",3,"min","max","input"],[1,"invalid-feedback","position-absolute"],[1,"col","col-12","col-sm-7","col-md-5","col-lg-4","col-xxl-3","mt-3"],[1,"table","table-sm","p-0"],[1,"table-active"],[1,"row"],[1,"form-group","mt-3"],["type","button",1,"btn","btn-primary","me-2",3,"click"],[1,"text-danger"]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),_n(4,"fa-icon",4),xe(5,"span"),qe(6,"Gas mixture"),Se()(),xe(7,"div",5)(8,"div",6),qe(9),Se(),xe(10,"form",7)(11,"div")(12,"div",8)(13,"app-oxygen-dropdown",9),mn("gasChange",function(){return i.inputChanged()})("standardGasApplied",function(){return i.standardGasApplied()}),Se(),xe(14,"small",10),qe(15),qn(16,"number"),Se()()(),xe(17,"div",8)(18,"label",11),qe(19,"He [%]:"),Se(),xe(20,"input",12),mn("input",function(){return i.inputChanged()}),Se(),Cn(21,KVe,2,1,"div",13),Se(),xe(22,"div",8)(23,"app-pp-o2",14),mn("ppO2Change",function(){return i.inputChanged()}),Se()(),xe(24,"div",8)(25,"div",15)(26,"input",16),mn("change",function(){return i.switchOxygenNarcotic()}),Se(),xe(27,"label",17),qe(28,"Oxygen is narcotic"),Se()()(),xe(29,"div",8)(30,"label",18),qe(31),Se(),xe(32,"input",19),mn("input",function(){return i.inputChanged()}),Se(),xe(33,"div",20),qe(34),Se()()()()()(),xe(35,"div",21)(36,"div",2)(37,"div",3),_n(38,"fa-icon",4),xe(39,"span"),qe(40,"Gas properties"),Se()(),xe(41,"div",5)(42,"table",22)(43,"tbody")(44,"tr")(45,"td"),qe(46,"Oxygen partial pressure"),Se(),xe(47,"td",23),qe(48),qn(49,"number"),Se()(),xe(50,"tr")(51,"td"),qe(52,"Helium partial pressure"),Se(),xe(53,"td",23),qe(54),qn(55,"number"),Se()(),xe(56,"tr")(57,"td"),qe(58,"Nitrogen partial pressure"),Se(),xe(59,"td",23),qe(60),qn(61,"number"),Se()(),xe(62,"tr")(63,"td"),qe(64,"Total partial pressure"),Se(),xe(65,"td",23),qe(66),qn(67,"number"),Se()(),xe(68,"tr")(69,"td"),qe(70),Se(),xe(71,"td",23),qe(72),qn(73,"number"),Se()(),xe(74,"tr")(75,"td"),qe(76),Se(),xe(77,"td",23),qe(78),qn(79,"number"),Se()(),xe(80,"tr")(81,"td"),qe(82),Se(),xe(83,"td",23),qe(84),qn(85,"number"),Se()(),xe(86,"tr")(87,"td"),qe(88),Se(),xe(89,"td",23),qe(90),qn(91,"number"),Se()(),xe(92,"tr")(93,"td"),qe(94),Se(),xe(95,"td",23),qe(96),qn(97,"number"),Se()()()()()()()(),xe(98,"div",24)(99,"div",25)(100,"button",26),mn("click",function(){return i.location.back()}),qe(101,"Back"),Se()()()),2&r&&(_e(4),Qe("icon",i.calcIcon),_e(5),Ir(i.depthConverterWarning),_e(),Qe("formGroup",i.gasForm),_e(3),Qe("tank",i.tank)("nitroxForm",i.gasForm)("showBestMix",!1)("showTrimixGases",!0),_e(2),gn("Nitrox ",er(16,37,i.nitrox,"1.0-2")," [%]"),_e(5),pr("is-invalid",i.gasHeInvalid),Qe("min",i.ranges.tankHe[0])("max",i.ranges.tankHe[1]),_e(),Qe("ngIf",i.gasHeInvalid),_e(2),Qe("maxPpO2",i.calc.maxPpO2)("pO2Form",i.gasForm),_e(3),Qe("checked",i.calc.oxygenNarcotic),_e(5),gn("Properties at depth [",i.units.length,"]: "),_e(),pr("is-invalid",i.depthInvalid),Qe("min",i.ranges.depth[0])("max",i.ranges.depth[1]),_e(2),gn("Needs to be number ",i.ranges.depth,""),_e(4),Qe("icon",i.tableIcon),_e(10),Ir(er(49,40,i.calc.ppO2,"1.0-2")),_e(6),Ir(er(55,43,i.calc.ppHe,"1.0-2")),_e(6),Ir(er(61,46,i.calc.ppN2,"1.0-2")),_e(6),Ir(er(67,49,i.calc.totalPp,"1.0-2")),_e(4),gn("Minimum depth [",i.units.length,"]"),_e(2),Ir(er(73,52,i.calc.minDepth,"1.0-1")),_e(4),gn("Maximum depth [",i.units.length,"]"),_e(2),Ir(er(79,55,i.calc.maxDepth,"1.0-1")),_e(4),gn("Equivalent narcotic depth [",i.units.length,"]"),_e(2),Ir(er(85,58,i.calc.end,"1.0-1")),_e(4),gn("Maximum narcotic depth [",i.units.length,"]"),_e(2),Ir(er(91,61,i.calc.mnd,"1.0-1")),_e(4),gn("Density [",i.units.density,"]"),_e(2),Ir(er(97,64,i.calc.density,"1.0-2")))},dependencies:[Ji,Oa,D2,Wa,xs,us,qa,T1,_s,ws,Pa,es,A1,$u,Iv,ls]})}return t})(),ah=(()=>{class t{constructor(e){this.schedules=e,this._profileAIndex=0,this._profileBIndex=0}get totalDuration(){return this.profileAResults().totalDuration>this.profileBResults().totalDuration?this.profileAResults().totalDuration:this.profileBResults().totalDuration}set profileAIndex(e){this._profileAIndex=e}set profileBIndex(e){this._profileBIndex=e}profileAResults(){return this.schedules.dives[this._profileAIndex].diveResult}profileBResults(){return this.schedules.dives[this._profileBIndex].diveResult}hasTwoProfiles(){return this.schedules.length>1}areResultsCalculated(){return this.profileAResults().calculated&&this.profileBResults().calculated}areDiveInfosCalculated(){return this.profileAResults().diveInfoCalculated&&this.profileBResults().diveInfoCalculated}areProfilesCalculated(){return this.profileAResults().profileCalculated&&this.profileBResults().profileCalculated}static#e=this.\u0275fac=function(r){return new(r||t)(pn(Ua))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})();function QVe(t,n){1&t&&(xe(0,"td",2)(1,"strong"),qe(2,"Difference"),Se()())}function JVe(t,n){if(1&t&&(xe(0,"div"),qe(1),qn(2,"duration"),Se()),2&t){const e=zt();_e(),gn(" ",er(2,1,e.profileA.totalDuration,e.profileA.totalDuration)," ")}}function qVe(t,n){if(1&t&&(xe(0,"div"),qe(1),qn(2,"duration"),Se()),2&t){const e=zt();_e(),gn(" ",er(2,1,e.profileB.totalDuration,e.profileB.totalDuration)," ")}}function eEe(t,n){if(1&t&&(xe(0,"td")(1,"div",7)(2,"strong"),qe(3),qn(4,"duration"),Se(),_n(5,"fa-icon",8),Se()()),2&t){const e=zt();jc(e.getBgColor("totalDuration",e.totalDurationDifference)),_e(3),gn(" ",er(4,5,e.totalDurationDifference,e.totalDurationDifference)," "),_e(2),Qe("icon",e.getArrow(e.totalDurationDifference))}}function tEe(t,n){if(1&t&&(xe(0,"div"),qe(1),qn(2,"number"),Se()),2&t){const e=zt();_e(),gn(" ",er(2,1,e.profileA.timeToSurface,"1.0-0")," ")}}function nEe(t,n){if(1&t&&(xe(0,"div"),qe(1),qn(2,"number"),Se()),2&t){const e=zt();_e(),gn(" ",er(2,1,e.profileB.timeToSurface,"1.0-0")," ")}}function rEe(t,n){if(1&t&&(xe(0,"td")(1,"div",7)(2,"strong"),qe(3),qn(4,"number"),Se(),_n(5,"fa-icon",8),Se()()),2&t){const e=zt();jc(e.getBgColor("timeToSurface",e.timeToSurfaceDifference)),_e(3),gn(" ",er(4,5,e.timeToSurfaceDifference,"1.0-0")," "),_e(2),Qe("icon",e.getArrow(e.timeToSurfaceDifference))}}function iEe(t,n){if(1&t&&(xe(0,"div"),qe(1),qn(2,"number"),Se()),2&t){const e=zt();_e(),gn(" ",er(2,1,e.averageDepthOfProfile(e.profileA),"1.0-1")," ")}}function aEe(t,n){if(1&t&&(xe(0,"div"),qe(1),qn(2,"number"),Se()),2&t){const e=zt();_e(),gn(" ",er(2,1,e.averageDepthOfProfile(e.profileB),"1.0-1")," ")}}function sEe(t,n){if(1&t&&(xe(0,"td")(1,"div",7)(2,"strong"),qe(3),qn(4,"number"),Se(),_n(5,"fa-icon",8),Se()()),2&t){const e=zt();jc(e.getBgColor("averageDepth",e.averageDepthDifference)),_e(3),gn(" ",er(4,5,e.averageDepthDifference,"1.0-1")," "),_e(2),Qe("icon",e.getArrow(e.averageDepthDifference))}}function oEe(t,n){if(1&t&&(xe(0,"div"),qe(1),qn(2,"duration"),Se()),2&t){const e=zt();_e(),gn(" ",er(2,1,e.profileA.emergencyAscentStart,e.profileA.emergencyAscentStart)," ")}}function cEe(t,n){if(1&t&&(xe(0,"div"),qe(1),qn(2,"duration"),Se()),2&t){const e=zt();_e(),gn(" ",er(2,1,e.profileB.emergencyAscentStart,e.profileB.emergencyAscentStart)," ")}}function lEe(t,n){if(1&t&&(xe(0,"td")(1,"div",7)(2,"strong"),qe(3),qn(4,"duration"),Se(),_n(5,"fa-icon",8),Se()()),2&t){const e=zt();jc(e.getBgColor("emergencyAscentStart",e.emergencyAscentStartDifference)),_e(3),gn(" ",er(4,5,e.emergencyAscentStartDifference,e.emergencyAscentStartDifference)," "),_e(2),Qe("icon",e.getArrow(e.emergencyAscentStartDifference))}}function uEe(t,n){if(1&t&&(xe(0,"div"),qe(1),qn(2,"number"),Se()),2&t){const e=zt();_e(),gn(" ",er(2,1,e.noDecoOfProfile(e.profileA),"1.0-0")," ")}}function fEe(t,n){if(1&t&&(xe(0,"div"),qe(1),qn(2,"number"),Se()),2&t){const e=zt();_e(),gn(" ",er(2,1,e.noDecoOfProfile(e.profileB),"1.0-0")," ")}}function dEe(t,n){if(1&t&&(xe(0,"td")(1,"div",7)(2,"strong"),qe(3),qn(4,"number"),Se(),_n(5,"fa-icon",8),Se()()),2&t){const e=zt();jc(e.getBgColor("noDeco",e.noDecoDifference)),_e(3),gn(" ",er(4,5,e.noDecoDifference,"1.0-0")," "),_e(2),Qe("icon",e.getArrow(e.noDecoDifference))}}function hEe(t,n){if(1&t&&(xe(0,"div"),qe(1),qn(2,"number"),Se()),2&t){const e=zt(2);_e(),gn(" ",er(2,1,e.profileA.maxTime,"1.0-0")," ")}}function pEe(t,n){if(1&t&&(xe(0,"div"),qe(1),qn(2,"number"),Se()),2&t){const e=zt(2);_e(),gn(" ",er(2,1,e.profileB.maxTime,"1.0-0")," ")}}function vEe(t,n){if(1&t&&(xe(0,"td")(1,"div",7)(2,"strong"),qe(3),qn(4,"number"),Se(),_n(5,"fa-icon",8),Se()()),2&t){const e=zt(2);jc(e.getBgColor("maxTime",e.maxTimeDifference)),_e(3),gn(" ",er(4,5,e.maxTimeDifference,"1.0-0")," "),_e(2),Qe("icon",e.getArrow(e.maxTimeDifference))}}function mEe(t,n){if(1&t&&(xe(0,"tr")(1,"td"),qe(2,"Maximum bottom time [min]:"),Se(),xe(3,"td"),Cn(4,hEe,3,4,"div",4),Se(),xe(5,"td"),Cn(6,pEe,3,4,"div",4),Se(),Cn(7,vEe,6,8,"td",5),Se()),2&t){const e=zt();_e(4),Qe("ngIf",e.areResultsCalculated),_e(2),Qe("ngIf",e.areResultsCalculated),_e(),Qe("ngIf",e.areResultsCalculated)}}function gEe(t,n){if(1&t&&(xe(0,"div"),qe(1),qn(2,"number"),_n(3,"br"),qe(4),Se()),2&t){const e=zt(2);_e(),gn(" ",er(2,2,e.highestDensityOfProfile(e.profileA),"1.0-2")," "),_e(3),gn(" (",e.densityTextOfProfile(e.profileA),") ")}}function yEe(t,n){if(1&t&&(xe(0,"div"),qe(1),qn(2,"number"),_n(3,"br"),qe(4),Se()),2&t){const e=zt(2);_e(),gn(" ",er(2,2,e.highestDensityOfProfile(e.profileB),"1.0-2")," "),_e(3),gn(" (",e.densityTextOfProfile(e.profileB),") ")}}function bEe(t,n){if(1&t&&(xe(0,"td")(1,"div",7)(2,"strong"),qe(3),qn(4,"number"),Se(),_n(5,"fa-icon",8),Se()()),2&t){const e=zt(2);jc(e.getBgColor("highestDensity",e.highestDensityDifference)),_e(3),gn(" ",er(4,5,e.highestDensityDifference,"1.0-2")," "),_e(2),Qe("icon",e.getArrow(e.highestDensityDifference))}}function CEe(t,n){if(1&t&&(xe(0,"tr")(1,"td"),qe(2),Se(),xe(3,"td"),Cn(4,gEe,5,5,"div",4),Se(),xe(5,"td"),Cn(6,yEe,5,5,"div",4),Se(),Cn(7,bEe,6,8,"td",5),Se()),2&t){const e=zt();_e(2),gn("Highest gas density [",e.units.density,"]:"),_e(2),Qe("ngIf",e.areResultsCalculated),_e(2),Qe("ngIf",e.areResultsCalculated),_e(),Qe("ngIf",e.areResultsCalculated)}}function MEe(t,n){if(1&t&&(xe(0,"div"),qe(1),qn(2,"number"),Se()),2&t){const e=zt(2);_e(),gn(" ",er(2,1,e.profileA.otu,"1.0-0")," ")}}function xEe(t,n){if(1&t&&(xe(0,"div"),qe(1),qn(2,"number"),Se()),2&t){const e=zt(2);_e(),gn(" ",er(2,1,e.profileB.otu,"1.0-0")," ")}}function wEe(t,n){if(1&t&&(xe(0,"td")(1,"div",7)(2,"strong"),qe(3),qn(4,"number"),Se(),_n(5,"fa-icon",8),Se()()),2&t){const e=zt(2);jc(e.getBgColor("otu",e.otuDifference)),_e(3),gn(" ",er(4,5,e.otuDifference,"1.0-0")," "),_e(2),Qe("icon",e.getArrow(e.otuDifference))}}function _Ee(t,n){if(1&t&&(xe(0,"tr")(1,"td"),qe(2,"OTU toxicity [OTU]:"),Se(),xe(3,"td"),Cn(4,MEe,3,4,"div",4),Se(),xe(5,"td"),Cn(6,xEe,3,4,"div",4),Se(),Cn(7,wEe,6,8,"td",5),Se()),2&t){const e=zt();_e(4),Qe("ngIf",e.areResultsCalculated),_e(2),Qe("ngIf",e.areResultsCalculated),_e(),Qe("ngIf",e.areResultsCalculated)}}function SEe(t,n){if(1&t&&(xe(0,"div"),qe(1),Se()),2&t){const e=zt(2);_e(),gn(" ",e.cnsTextOfProfile(e.profileA)," ")}}function TEe(t,n){if(1&t&&(xe(0,"div"),qe(1),Se()),2&t){const e=zt(2);_e(),gn(" ",e.cnsTextOfProfile(e.profileB)," ")}}function DEe(t,n){if(1&t&&(xe(0,"td")(1,"div",7)(2,"strong"),qe(3),Se(),_n(4,"fa-icon",8),Se()()),2&t){const e=zt(2);jc(e.getBgColor("cns",e.cnsDifference)),_e(3),gn(" ",e.cnsDifferenceText," "),_e(),Qe("icon",e.getArrow(e.cnsDifference))}}function AEe(t,n){if(1&t&&(xe(0,"tr")(1,"td"),qe(2,"CNS toxicity [%]:"),Se(),xe(3,"td"),Cn(4,SEe,2,1,"div",4),Se(),xe(5,"td"),Cn(6,TEe,2,1,"div",4),Se(),Cn(7,DEe,5,5,"td",5),Se()),2&t){const e=zt();_e(4),Qe("ngIf",e.areResultsCalculated),_e(2),Qe("ngIf",e.areResultsCalculated),_e(),Qe("ngIf",e.areResultsCalculated)}}let _G=(()=>{class t{constructor(e,r,i){this.viewSwitch=e,this.units=r,this.profileComparatorService=i,this.cnsDifferenceUnderMinusOneThousand="< -1000",this.arrowUp=zM,this.arrowDown=wM,this.dash=Rd,this.rowColorVectorMap=new Map([["totalDuration",1],["timeToSurface",-1],["averageDepth",-1],["emergencyAscentStart",-1],["noDeco",1],["maxTime",1],["highestDensity",-1],["otu",-1],["cns",-1]])}get profileA(){return this.profileComparatorService.profileAResults()}get profileB(){return this.profileComparatorService.profileBResults()}get areResultsCalculated(){return this.profileComparatorService.areResultsCalculated()}get areDiveInfosCalculated(){return this.profileComparatorService.areDiveInfosCalculated()}get areProfilesCalculated(){return this.profileComparatorService.areProfilesCalculated()}get isComplex(){return this.viewSwitch.isComplex}get needsReturn(){return this.profileA.needsReturn}get totalDurationDifference(){return this.profileB.totalDuration-this.profileA.totalDuration}get timeToSurfaceDifference(){return this.profileB.timeToSurface-this.profileA.timeToSurface}get averageDepthDifference(){return this.averageDepthOfProfile(this.profileB)-this.averageDepthOfProfile(this.profileA)}get emergencyAscentStartDifference(){return this.profileB.emergencyAscentStart-this.profileA.emergencyAscentStart}get noDecoDifference(){return this.noDecoOfProfile(this.profileB)-this.noDecoOfProfile(this.profileA)}get maxTimeDifference(){return this.profileB.maxTime-this.profileA.maxTime}get highestDensityDifference(){return this.highestDensityOfProfile(this.profileB)-this.highestDensityOfProfile(this.profileA)}get otuDifference(){return this.profileB.otu-this.profileA.otu}get cnsDifference(){return this.profileB.cns-this.profileA.cns}get cnsDifferenceText(){const e=this.cnsDifference;return e>=1e3?Bu.cnsOverOneThousand:e<=-1e3?this.cnsDifferenceUnderMinusOneThousand:U7(e,"en","1.0-0")}showMaxBottomTimeOfProfile(e){return e.maxTime>0}noDecoOfProfile(e){return e.noDecoTime}averageDepthOfProfile(e){return this.units.fromMeters(e.averageDepth)}highestDensityOfProfile(e){return this.units.fromGramPerLiter(e.highestDensity.density)}densityTextOfProfile(e){return`${e.highestDensity.gas.name} at ${this.units.fromMeters(e.highestDensity.depth)} ${this.units.length}`}cnsTextOfProfile(e){return e.cns>=1e3?Bu.cnsOverOneThousand:U7(e.cns,"en","1.0-0")}getArrow(e){return e>0?this.arrowUp:e<0?this.arrowDown:this.dash}getBgColor(e,r){this.rowColorVectorMap.has(e)||Po.warn("Could not find vector for key: "+e);const l=(this.rowColorVectorMap.get(e)??0)*r;return l>0?"table-success":l<0?"table-danger":"table-active"}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(Zl),Dt(oi),Dt(ah))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-diff-diveinfo-results"]],decls:58,vars:22,consts:[[1,"table","table-sm"],["id","table-header"],[1,"d-flex","justify-content-center","align-items-center"],["class","d-flex justify-content-center align-items-center",4,"ngIf"],[4,"ngIf"],[3,"class",4,"ngIf"],[3,"show"],[1,"delta","d-flex","justify-content-between","align-items-center"],[3,"icon"]],template:function(r,i){1&r&&(xe(0,"table",0)(1,"tbody")(2,"tr",1),_n(3,"td"),xe(4,"td")(5,"div",2)(6,"strong"),qe(7,"Profile A"),Se()()(),xe(8,"td")(9,"div",2)(10,"strong"),qe(11,"Profile B"),Se()()(),Cn(12,QVe,3,0,"td",3),Se(),xe(13,"tr")(14,"td"),qe(15,"Total dive time [min]:"),Se(),xe(16,"td"),Cn(17,JVe,3,4,"div",4),Se(),xe(18,"td"),Cn(19,qVe,3,4,"div",4),Se(),Cn(20,eEe,6,8,"td",5),Se(),xe(21,"tr")(22,"td"),qe(23,"Time to surface [min]:"),Se(),xe(24,"td"),Cn(25,tEe,3,4,"div",4),Se(),xe(26,"td"),Cn(27,nEe,3,4,"div",4),Se(),Cn(28,rEe,6,8,"td",5),Se(),xe(29,"tr")(30,"td"),qe(31),Se(),xe(32,"td"),Cn(33,iEe,3,4,"div",4),Se(),xe(34,"td"),Cn(35,aEe,3,4,"div",4),Se(),Cn(36,sEe,6,8,"td",5),Se(),xe(37,"tr")(38,"td"),qe(39,"Rock bottom at [min]:"),Se(),xe(40,"td"),Cn(41,oEe,3,4,"div",4),Se(),xe(42,"td"),Cn(43,cEe,3,4,"div",4),Se(),Cn(44,lEe,6,8,"td",5),Se(),xe(45,"tr")(46,"td"),qe(47,"No decompression time [min]:"),Se(),xe(48,"td"),Cn(49,uEe,3,4,"div",4),Se(),xe(50,"td"),Cn(51,fEe,3,4,"div",4),Se(),Cn(52,dEe,6,8,"td",5),Se(),Cn(53,mEe,8,3,"tr",4)(54,CEe,8,4,"tr",4)(55,_Ee,8,3,"tr",4)(56,AEe,8,3,"tr",4),Se()(),_n(57,"app-calculating",6)),2&r&&(_e(12),Qe("ngIf",i.areResultsCalculated),_e(5),Qe("ngIf",i.areResultsCalculated),_e(2),Qe("ngIf",i.areResultsCalculated),_e(),Qe("ngIf",i.areResultsCalculated),_e(5),Qe("ngIf",i.areResultsCalculated),_e(2),Qe("ngIf",i.areResultsCalculated),_e(),Qe("ngIf",i.areResultsCalculated),_e(3),gn("Average depth [",i.units.length,"]:"),_e(2),Qe("ngIf",i.areResultsCalculated),_e(2),Qe("ngIf",i.areResultsCalculated),_e(),Qe("ngIf",i.areResultsCalculated),_e(5),Qe("ngIf",i.areResultsCalculated),_e(2),Qe("ngIf",i.areResultsCalculated),_e(),Qe("ngIf",i.areResultsCalculated),_e(5),Qe("ngIf",i.areDiveInfosCalculated),_e(2),Qe("ngIf",i.areDiveInfosCalculated),_e(),Qe("ngIf",i.areDiveInfosCalculated),_e(),Qe("ngIf",i.showMaxBottomTimeOfProfile),_e(),Qe("ngIf",i.isComplex),_e(),Qe("ngIf",i.areProfilesCalculated),_e(),Qe("ngIf",i.areProfilesCalculated),_e(),Qe("show",!i.areResultsCalculated))},dependencies:[Ji,Oa,Uu,ls,Gu],styles:["fa-icon[_ngcontent-%COMP%]{margin-left:.5rem!important;padding-left:.4rem}.delta[_ngcontent-%COMP%]{max-width:4.3rem}#table-header[_ngcontent-%COMP%]{color:#000}#table-header[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){background-color:#3b71ca}#table-header[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){background-color:#eceff1}tr[_ngcontent-%COMP%]:not(#table-header)   td[_ngcontent-%COMP%]:nth-child(n+2){border-left-width:medium!important}"]})}return t})(),SG=(()=>{class t{constructor(){this.icon=yM}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-diff-diveinfo"]],decls:9,vars:1,consts:[[1,"card"],[1,"card-header"],[1,"float-start","mt-1"],[1,"me-3",3,"icon"],[1,"card-body","card-minheight"],[1,"pb-3"]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"div",1)(2,"div",2),_n(3,"fa-icon",3),xe(4,"span"),qe(5,"Dive Results"),Se()()(),xe(6,"div",4)(7,"div",5),_n(8,"app-diff-diveinfo-results"),Se()()()),2&r&&(_e(3),Qe("icon",i.icon))},dependencies:[Oa,_G]})}return t})(),TG=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-diff-profilechart"]],decls:1,vars:0,template:function(r,i){1&r&&_n(0,"app-profilechart")},dependencies:[hx]})}return t})(),DG=(()=>{class t{constructor(e){this.profileComparatorService=e,this._waypointRows=[]}get isCalculated(){return this.profileComparatorService.areResultsCalculated()}get wayPointsA(){return this.profileComparatorService.profileAResults().wayPoints}get wayPointsB(){return this.profileComparatorService.profileBResults().wayPoints}getRows(){if(this._waypointRows=[],!this.isCalculated)return[];const r=[...this.wayPointsA],i=[...this.wayPointsB];let a=r.pop(),s=i.pop();for(let l=0;l<65536;l++){let M;if(void 0===a&&void 0===s)break;(a?.endTime||-1)>(s?.endTime||-1)?(M={runTime:a.endTime,durationA:a?.duration,depthA:a?.endDepth,durationB:void 0,depthB:void 0},a=r.pop(),this._waypointRows.unshift(M)):(a?.endTime||-1)<(s?.endTime||-1)?(M={runTime:s.endTime,durationA:void 0,depthA:void 0,durationB:s?.duration,depthB:s?.endDepth},s=i.pop(),this._waypointRows.unshift(M)):(M={runTime:a.endTime,durationA:a?.duration,depthA:a?.endDepth,durationB:s?.duration,depthB:s?.endDepth},a=r.pop(),s=i.pop(),this._waypointRows.unshift(M))}return this._waypointRows}static#e=this.\u0275fac=function(r){return new(r||t)(pn(ah))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})();function HEe(t,n){if(1&t&&(xe(0,"td",21),qe(1),qn(2,"number"),Se()),2&t){const e=zt().$implicit;_e(),gn(" ",er(2,1,e.depthA,"1.0-0")," ")}}function LEe(t,n){if(1&t&&(xe(0,"td",18),qe(1),qn(2,"duration"),Se()),2&t){const e=zt().$implicit,r=zt();_e(),gn(" ",er(2,1,1*e.durationA,r.profileComparatorService.totalDuration)," ")}}function zEe(t,n){if(1&t&&(xe(0,"td",21),qe(1),qn(2,"number"),Se()),2&t){const e=zt().$implicit;_e(),gn(" ",er(2,1,e.depthB,"1.0-0")," ")}}function kEe(t,n){if(1&t&&(xe(0,"td",21),qe(1),qn(2,"duration"),Se()),2&t){const e=zt().$implicit,r=zt();_e(),gn(" ",er(2,1,1*e.durationB,r.profileComparatorService.totalDuration)," ")}}function VEe(t,n){if(1&t&&(xe(0,"tr")(1,"td",18),qe(2),qn(3,"duration"),Se(),Cn(4,HEe,3,4,"td",19)(5,LEe,3,4,"td",20)(6,zEe,3,4,"td",19)(7,kEe,3,4,"td",19),Se()),2&t){const e=n.$implicit,r=zt(),i=T8(30),a=T8(32);_e(2),gn(" ",er(3,9,e.runTime,r.profileComparatorService.totalDuration)," "),_e(2),Qe("ngIf",void 0!==e.depthA)("ngIfElse",i),_e(),Qe("ngIf",void 0!==e.durationA)("ngIfElse",a),_e(),Qe("ngIf",void 0!==e.depthB)("ngIfElse",i),_e(),Qe("ngIf",void 0!==e.durationB)("ngIfElse",i)}}function EEe(t,n){1&t&&_n(0,"td",21)}function NEe(t,n){1&t&&_n(0,"td",18)}const IEe=t=>({"d-none":t});let AG=(()=>{class t{constructor(e,r,i){this.units=e,this.tableRowProvider=r,this.profileComparatorService=i,this.tasks=VM}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(oi),Dt(DG),Dt(ah))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-diff-waypoints"]],decls:33,vars:8,consts:[[1,"card"],[1,"card-header"],[1,"float-start"],[1,"me-3",3,"icon"],["id","body",1,"hide","card-minheight","card-max-height-md"],[1,"position-absolute",2,"top","50%","left","50%",3,"show"],["id","waypointsDiffTable",1,"table","table-sm","p-0","text-center","table-hover"],[1,"table-light","sticky-top"],["colspan","1"],["colspan","2",1,"fw-bold","px-1","active-profile"],["colspan","2",1,"fw-bold","px-1"],[1,"fw-bold","px-1"],[1,"fw-bold","px-1","vertical-left-border"],[1,"fw-bold","px-1","vertical-right-border"],[3,"ngClass"],[4,"ngFor","ngForOf"],["emptyRow",""],["emptyRowWithDivider",""],[1,"px-1","vertical-right-border"],["class","px-1",4,"ngIf","ngIfElse"],["class","px-1 vertical-right-border",4,"ngIf","ngIfElse"],[1,"px-1"]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"div",1)(2,"div",2),_n(3,"fa-icon",3),xe(4,"span"),qe(5,"Dive way points"),Se()()(),xe(6,"div",4),_n(7,"app-calculating",5),xe(8,"table",6)(9,"thead",7)(10,"tr"),_n(11,"th",8),xe(12,"th",9),qe(13,"Profile A"),Se(),xe(14,"th",10),qe(15,"Profile B"),Se()(),xe(16,"tr")(17,"th",11),qe(18,"Run [min]"),Se(),xe(19,"th",12),qe(20),Se(),xe(21,"th",13),qe(22,"Duration [min]"),Se(),xe(23,"th",11),qe(24),Se(),xe(25,"th",11),qe(26,"Duration [min]"),Se()()(),xe(27,"tbody",14),Cn(28,VEe,8,12,"tr",15),Se()()()(),Cn(29,EEe,1,0,"ng-template",null,16,g7)(31,NEe,1,0,"ng-template",null,17,g7)),2&r&&(_e(3),Qe("icon",i.tasks),_e(4),Qe("show",!i.tableRowProvider.isCalculated),_e(13),gn("Depth [",i.units.length,"]"),_e(4),gn("Depth [",i.units.length,"]"),_e(3),Qe("ngClass",A8(6,IEe,!i.tableRowProvider.isCalculated)),_e(),Qe("ngForOf",i.tableRowProvider.getRows()))},dependencies:[k3,ko,Ji,Oa,Uu,ls,Gu],styles:["#body[_ngcontent-%COMP%]{margin:24px;flex:1 1 auto}#waypointsDiffTable[_ngcontent-%COMP%]   .vertical-right-border[_ngcontent-%COMP%]{border-right-width:medium}#waypointsDiffTable[_ngcontent-%COMP%]   .vertical-left-border[_ngcontent-%COMP%]{border-left-width:medium}#waypointsDiffTable[_ngcontent-%COMP%]   .vertical-borders[_ngcontent-%COMP%]{border-left-width:medium;border-right-width:medium}#waypointsDiffTable[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-top:hidden;border-bottom:hidden}#waypointsDiffTable[_ngcontent-%COMP%]   .active-profile[_ngcontent-%COMP%]{background:#3b71ca;border-color:#3b71ca}"]})}return t})(),HG=(()=>{class t{constructor(e){this.profileComparatorService=e}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(ah))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-diff"]],decls:8,vars:0,consts:[[1,"mt-5"],[1,"row"],[1,"col-12","col-xl-6","col-xxl-6","mt-4"],[1,"col-xl-6","mt-4"],[1,"col-xl-6","col-xxl-6","mt-4"]],template:function(r,i){1&r&&(xe(0,"div",0)(1,"div",1)(2,"div",2),_n(3,"app-diff-profilechart"),Se(),xe(4,"div",3),_n(5,"app-diff-waypoints"),Se(),xe(6,"div",4),_n(7,"app-diff-diveinfo"),Se()()())},dependencies:[SG,TG,AG]})}return t})(),LG=(()=>{class t{constructor(e){this.units=e,this._firstTank=new yc(Ba.createDefault(),this.units),this._secondTank=new yc(Ba.createDefault(),this.units)}get firstTank(){return this._firstTank}get secondTank(){return this._secondTank}get finalPressure(){let i=d1.redundancies(this._firstTank.tank,this._secondTank.tank);return i=this.units.fromBar(i),i}static#e=this.\u0275fac=function(r){return new(r||t)(pn(oi))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})();function PEe(t,n){if(1&t&&(xe(0,"div",25),qe(1),Se()),2&t){const e=zt();_e(),gn("Needs to be number ",e.ranges.tankSizeLabel,"")}}function REe(t,n){if(1&t){const e=fi();xe(0,"div",13)(1,"label",26),qe(2),Se(),xe(3,"input",27),mn("input",function(){return or(e),sr(zt().inputChanged())}),Se(),xe(4,"div",16),qe(5),Se()()}if(2&t){const e=zt();_e(2),gn("Working pressure [",e.units.pressure,"]: "),_e(),pr("is-invalid",e.firstTankWorkPressureInvalid),Qe("min",e.ranges.tankPressure[0])("max",e.ranges.tankPressure[1]),_e(2),gn("Needs to be number ",e.ranges.tankPressureLabel,"")}}function FEe(t,n){if(1&t&&(xe(0,"div",25),qe(1),Se()),2&t){const e=zt();_e(),gn("Needs to be number ",e.ranges.tankSizeLabel,"")}}function OEe(t,n){if(1&t){const e=fi();xe(0,"div",13)(1,"label",28),qe(2),Se(),xe(3,"input",29),mn("input",function(){return or(e),sr(zt().inputChanged())}),Se(),xe(4,"div",16),qe(5),Se()()}if(2&t){const e=zt();_e(2),gn("Working pressure [",e.units.pressure,"]: "),_e(),pr("is-invalid",e.secondTankWorkPressureInvalid),Qe("min",e.ranges.tankPressure[0])("max",e.ranges.tankPressure[1]),_e(2),gn("Needs to be number ",e.ranges.tankPressureLabel,"")}}let zG=(()=>{class t{constructor(e,r,i,a,s,l){this.location=e,this.units=r,this.viewStates=i,this.fb=a,this.validators=s,this.inputs=l,this.calcIcon=G3,this.calc=new LG(this.units)}get ranges(){return this.units.ranges}get firstTank(){return this.calc.firstTank}get secondTank(){return this.calc.secondTank}get firstTankSizeInvalid(){return this.inputs.controlInValid(this.redForm.controls.firstTankSize)}get firstTankWorkPressureInvalid(){return this.inputs.controlInValid(this.redForm.controls.firstTankWorkPressure)}get firstTankPressureInvalid(){return this.inputs.controlInValid(this.redForm.controls.firstTankPressure)}get secondTankSizeInvalid(){return this.inputs.controlInValid(this.redForm.controls.secondTankSize)}get secondTankWorkPressureInvalid(){return this.inputs.controlInValid(this.redForm.controls.secondTankWorkPressure)}get secondTankPressureInvalid(){return this.inputs.controlInValid(this.redForm.controls.secondTankPressure)}ngOnInit(){if(this.loadState(),this.saveState(),this.redForm=this.fb.group({firstTankSize:[Sn.round(this.firstTank.size,1),this.validators.tankSize],firstTankPressure:[Sn.round(this.firstTank.startPressure,1),this.validators.tankPressure],secondTankSize:[Sn.round(this.secondTank.size,1),this.validators.tankSize],secondTankPressure:[Sn.round(this.secondTank.startPressure,1),this.validators.tankPressure]}),this.units.imperialUnits){const e=this.fb.control(Sn.round(this.firstTank.workingPressure,1),this.validators.tankPressure);this.redForm.addControl("firstTankWorkPressure",e);const r=this.fb.control(Sn.round(this.secondTank.workingPressure,1),this.validators.tankPressure);this.redForm.addControl("secondTankWorkPressure",r)}}applyTemplate(e,r){this.redForm.invalid||(r.workingPressure=e.workingPressure,this.redForm.patchValue({firstTankWorkPressure:this.firstTank.workingPressure,secondTankWorkPressure:this.secondTank.workingPressure}),this.inputChanged())}inputChanged(){if(this.redForm.invalid)return;const e=this.redForm.value;this.calc.firstTank.size=Number(e.firstTankSize),this.calc.firstTank.startPressure=Number(e.firstTankPressure),this.calc.firstTank.workingPressure=Number(e.firstTankWorkPressure),this.calc.secondTank.size=Number(e.secondTankSize),this.calc.secondTank.startPressure=Number(e.secondTankPressure),this.calc.secondTank.workingPressure=Number(e.secondTankWorkPressure),this.saveState()}loadState(){let e=this.viewStates.loadView(Bi.redundancies);e||(e=this.createDefaultState()),this.loadTank(this.calc.firstTank,e.firstTank),this.loadTank(this.calc.secondTank,e.secondTank)}loadTank(e,r){e.startPressure=this.units.fromBar(r.startPressure),e.workingPressure=this.units.fromBar(r.workingPressure),e.size=this.units.fromTankLiters(r.size,r.workingPressure)}saveState(){const e=this.createTankStateFrom(this.calc.firstTank),r=this.createTankStateFrom(this.calc.secondTank),i=this.createState(e,r);this.viewStates.saveView(i)}createDefaultState(){const e=this.units.defaults.tanks.primary,r=this.units.toBar(e.workingPressure),i=this.units.toTankLiters(e.size,r),a=this.createTankState(200,r,i),s=this.createTankState(200,r,i);return this.createState(a,s)}createState(e,r){return{id:Bi.redundancies,firstTank:e,secondTank:r}}createTankStateFrom(e){const r=this.units.toBar(e.startPressure),i=this.units.toBar(e.workingPressure),a=this.units.toTankLiters(e.size,i);return this.createTankState(r,i,a)}createTankState(e=200,r=0,i=15){return{startPressure:e,workingPressure:r,size:i}}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(R1),Dt(oi),Dt(ao),Dt(ts),Dt(ja),Dt(Ss))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-redundancies"]],decls:50,vars:30,consts:[[3,"formGroup"],[1,"row","mt-5"],[1,"col","col-12","col-lg-8","col-xxl-6","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body","row"],[1,"col","col-12","col-sm-6","col-md-4"],[1,"pt-2","mb-4"],["for","tankSize","mdbLabel","",1,"form-label"],["controlName","firstTankSize",3,"sizeForm","tank","sizeChange","applyTemplate"],["class","text-danger form-text position-absolute",4,"ngIf"],["class","mb-4",4,"ngIf"],[1,"mb-4"],["for","firstTankPressure","mdbLabel","",1,"form-label"],["type","number","id","firstTankPressure","formControlName","firstTankPressure","required","","step","1",1,"form-control",3,"min","max","input"],[1,"invalid-feedback","position-absolute"],["controlName","secondTankSize",3,"sizeForm","tank","sizeChange","applyTemplate"],["for","secondTankPressure","mdbLabel","",1,"form-label"],["type","number","id","secondTankPressure","formControlName","secondTankPressure","required","","step","1",1,"form-control",3,"min","max","input"],["for","finalPressure","mdbLabel","",1,"form-label"],["name","finalPressure","id","finalPressure","readonly","",1,"form-control","readonly",3,"readonly","value"],[1,"row"],[1,"form-group","mt-3"],["type","button",1,"btn","btn-primary","me-2",3,"click"],[1,"text-danger","form-text","position-absolute"],["for","firstTankWorkPressure","mdbLabel","",1,"form-label"],["type","number","id","firstTankWorkPressure","formControlName","firstTankWorkPressure","required","","step","1",1,"form-control",3,"min","max","input"],["for","secondTankWorkPressure","mdbLabel","",1,"form-label"],["type","number","id","secondTankWorkPressure","formControlName","secondTankWorkPressure","required","","step","1",1,"form-control",3,"min","max","input"]],template:function(r,i){1&r&&(xe(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),_n(5,"fa-icon",5),xe(6,"span"),qe(7,"Gas mixture"),Se()(),xe(8,"div",6)(9,"div",7)(10,"div"),qe(11,"First tank"),Se(),xe(12,"div")(13,"div",8)(14,"label",9),qe(15),Se(),xe(16,"app-tank-size",10),mn("sizeChange",function(){return i.inputChanged()})("applyTemplate",function(s){return i.applyTemplate(s,i.firstTank)}),Se(),Cn(17,PEe,2,1,"div",11),Se()(),Cn(18,REe,6,6,"div",12),xe(19,"div",13)(20,"label",14),qe(21),Se(),xe(22,"input",15),mn("input",function(){return i.inputChanged()}),Se(),xe(23,"div",16),qe(24),Se()()(),xe(25,"div",7)(26,"div"),qe(27,"Second tank"),Se(),xe(28,"div")(29,"div",8)(30,"label",9),qe(31),Se(),xe(32,"app-tank-size",17),mn("sizeChange",function(){return i.inputChanged()})("applyTemplate",function(s){return i.applyTemplate(s,i.secondTank)}),Se(),Cn(33,FEe,2,1,"div",11),Se()(),Cn(34,OEe,6,6,"div",12),xe(35,"div",13)(36,"label",18),qe(37),Se(),xe(38,"input",19),mn("input",function(){return i.inputChanged()}),Se(),xe(39,"div",16),qe(40),Se()()(),xe(41,"div",7)(42,"label",20),qe(43),Se(),_n(44,"input",21),qn(45,"number"),Se()()()()(),xe(46,"div",22)(47,"div",23)(48,"button",24),mn("click",function(){return i.location.back()}),qe(49,"Back"),Se()()()()),2&r&&(Qe("formGroup",i.redForm),_e(5),Qe("icon",i.calcIcon),_e(10),gn("Size [",i.units.volume,"]:"),_e(),Qe("sizeForm",i.redForm)("tank",i.firstTank),_e(),Qe("ngIf",i.firstTankSizeInvalid),_e(),Qe("ngIf",i.units.imperialUnits),_e(3),gn("Start pressure [",i.units.pressure,"]: "),_e(),pr("is-invalid",i.firstTankPressureInvalid),Qe("min",i.ranges.tankPressure[0])("max",i.ranges.tankPressure[1]),_e(2),gn("Needs to be number ",i.ranges.tankPressureLabel,""),_e(7),gn("Size [",i.units.volume,"]:"),_e(),Qe("sizeForm",i.redForm)("tank",i.secondTank),_e(),Qe("ngIf",i.secondTankSizeInvalid),_e(),Qe("ngIf",i.units.imperialUnits),_e(3),gn("Start pressure [",i.units.pressure,"]: "),_e(),pr("is-invalid",i.secondTankPressureInvalid),Qe("min",i.ranges.tankPressure[0])("max",i.ranges.tankPressure[1]),_e(2),gn("Needs to be number ",i.ranges.tankPressureLabel,""),_e(3),gn("Final pressure [",i.units.pressure,"]:"),_e(),Qe("readonly",!0)("value",er(45,27,i.calc.finalPressure,"1.0-1")))},dependencies:[Ji,Oa,D2,Wa,xs,us,qa,T1,_s,ws,Pa,es,A1,Wu,ls]})}return t})(),kG=(()=>{class t{constructor(e){this.units=e,this._addO2=0,this._addHe=0,this._addTop=0,this._removeFromSource=0,this._unableToCalculate=!1,this._sourceTank=new yc(Ba.createDefault(),this.units),this._sourceTank.startPressure=0,this._topMix=new yc(Ba.createDefault(),this.units),this._topMix.assignStandardGas("EAN32"),this._targetTank=new yc(Ba.createDefault(),this.units),this._targetTank.assignStandardGas("EAN32"),this.calculate()}get sourceTank(){return this._sourceTank}get topMix(){return this._topMix}get targetTank(){return this._targetTank}get addO2(){return this.units.fromBar(this._addO2)}get addHe(){return this.units.fromBar(this._addHe)}get addTop(){return this.units.fromBar(this._addTop)}get removeFromSource(){return this.units.fromBar(this._removeFromSource)}get needsRemove(){return this.removeFromSource>0}get unableToCalculate(){return this._unableToCalculate}calculate(){try{const e=this.createRequest(),r=d1.mix(e);this.applyResults(r),this._unableToCalculate=!1}catch{this.applyResults({addHe:0,addO2:0,addTop:0,removeFromSource:0}),this._unableToCalculate=!0}}createRequest(){const e=this._sourceTank.tank,r=this.targetTank.tank,i=this.topMix.tank;return{source:{pressure:e.startPressure,o2:e.gas.fO2,he:e.gas.fHe},target:{pressure:r.startPressure,o2:r.gas.fO2,he:r.gas.fHe},topMix:{o2:i.gas.fO2,he:i.gas.fHe}}}applyResults(e){this._addO2=e.addO2,this._addHe=e.addHe,this._addTop=e.addTop,this._removeFromSource=e.removeFromSource}static#e=this.\u0275fac=function(r){return new(r||t)(pn(oi))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})();function BEe(t,n){if(1&t&&(xe(0,"div",25),qe(1),Se()),2&t){const e=zt();_e(),gn("Needs to be number ",e.ranges.tankHeLabel,"")}}function UEe(t,n){if(1&t&&(xe(0,"div",25),qe(1),Se()),2&t){const e=zt();_e(),gn(" Needs to be number ",e.ranges.tankPressureLabel,"")}}function GEe(t,n){if(1&t&&(xe(0,"div",25),qe(1),Se()),2&t){const e=zt();_e(),gn("Needs to be number ",e.ranges.tankHeLabel,"")}}function $Ee(t,n){if(1&t&&(xe(0,"div",25),qe(1),Se()),2&t){const e=zt();_e(),gn("Needs to be number ",e.ranges.tankHeLabel,"")}}function WEe(t,n){if(1&t&&(xe(0,"div",25),qe(1),Se()),2&t){const e=zt();_e(),gn(" Needs to be number ",e.ranges.tankPressureLabel,"")}}function jEe(t,n){if(1&t&&(xe(0,"tr")(1,"td"),qe(2),Se(),xe(3,"td",28),qe(4),qn(5,"number"),Se()()),2&t){const e=zt(2);_e(2),gn("Remove from source [",e.units.pressure,"]"),_e(2),Ir(er(5,2,e.removeFromSource,"1.0-1"))}}function YEe(t,n){if(1&t&&(xe(0,"table",26)(1,"tbody"),Cn(2,jEe,6,5,"tr",27),xe(3,"tr")(4,"td"),qe(5),Se(),xe(6,"td",28),qe(7),qn(8,"number"),Se()(),xe(9,"tr")(10,"td"),qe(11),Se(),xe(12,"td",28),qe(13),qn(14,"number"),Se()(),xe(15,"tr")(16,"td"),qe(17),Se(),xe(18,"td",28),qe(19),qn(20,"number"),Se()()()()),2&t){const e=zt();_e(2),Qe("ngIf",e.needsRemove),_e(3),gn("Add O2 [",e.units.pressure,"]"),_e(2),Ir(er(8,7,e.addO2,"1.0-1")),_e(4),gn("Add He [",e.units.pressure,"]"),_e(2),Ir(er(14,10,e.addHe,"1.0-1")),_e(4),gn("Add Top mix [",e.units.pressure,"]"),_e(2),Ir(er(20,13,e.addTopMix,"1.0-1"))}}function ZEe(t,n){if(1&t&&(xe(0,"div",29),_n(1,"fa-icon",30),xe(2,"span"),qe(3,"Unable to calculate the required mix, because the Top mix contains more oxygen or helium, than target mix."),Se()()),2&t){const e=zt();_e(),Qe("icon",e.exclamation)}}const KEe=[{path:Bi.settings,component:_U},{path:Bi.sac,component:vG},{path:Bi.nitrox,component:gG},{path:Bi.ndl,component:CG},{path:Bi.altitude,component:MG},{path:Bi.weight,component:xG},{path:Bi.gas,component:wG},{path:Bi.about,component:yG},{path:Bi.diff,component:HG},{path:Bi.redundancies,component:zG},{path:Bi.blender,component:(()=>{class t{constructor(e,r,i,a,s,l){this.units=e,this.calc=r,this.validators=i,this.inputs=a,this.viewStates=s,this.fb=l,this.calcIcon=G3,this.exclamation=zu}get ranges(){return this.units.ranges}get addO2(){return this.calc.addO2}get addHe(){return this.calc.addHe}get addTopMix(){return this.calc.addTop}get removeFromSource(){return this.calc.removeFromSource}get needsRemove(){return this.calc.needsRemove}get sourceHeInvalid(){return this.inputs.controlInValid(this.blenderForm.controls.sourceHe)}get topMixHeInvalid(){return this.inputs.controlInValid(this.blenderForm.controls.topMixHe)}get targetHeInvalid(){return this.inputs.controlInValid(this.blenderForm.controls.targetHe)}get sourcePressureInvalid(){return this.inputs.controlInValid(this.blenderForm.controls.sourcePressure)}get targetPressureInvalid(){return this.inputs.controlInValid(this.blenderForm.controls.targetPressure)}ngOnInit(){this.loadState(),this.saveState();const r=this.validators.rangeFor([0,this.ranges.tankPressure[1]]);this.blenderForm=this.fb.group({sourceO2:[this.calc.sourceTank.o2,this.validators.rangeFor(this.ranges.trimixOxygen)],sourceHe:[this.calc.sourceTank.he,this.validators.rangeFor(this.ranges.tankHe)],sourcePressure:[Sn.round(this.calc.sourceTank.startPressure,1),r],topMixO2:[this.calc.topMix.o2,this.validators.rangeFor(this.ranges.trimixOxygen)],topMixHe:[this.calc.topMix.he,this.validators.rangeFor(this.ranges.tankHe)],targetO2:[this.calc.targetTank.o2,this.validators.rangeFor(this.ranges.trimixOxygen)],targetHe:[this.calc.targetTank.he,this.validators.rangeFor(this.ranges.tankHe)],targetPressure:[Sn.round(this.calc.targetTank.startPressure,1),r]})}applyChange(){if(this.blenderForm.invalid)return;const e=this.blenderForm.value;this.calc.sourceTank.o2=Number(e.sourceO2),this.calc.sourceTank.he=Number(e.sourceHe),this.calc.sourceTank.startPressure=Number(e.sourcePressure),this.calc.topMix.o2=Number(e.topMixO2),this.calc.topMix.he=Number(e.topMixHe),this.calc.targetTank.o2=Number(e.targetO2),this.calc.targetTank.he=Number(e.targetHe),this.calc.targetTank.startPressure=Number(e.targetPressure),this.calc.calculate(),this.saveState()}applyTemplate(){this.blenderForm.invalid||(this.blenderForm.patchValue({sourceO2:this.calc.sourceTank.o2,sourceHe:this.calc.sourceTank.he,topMixO2:this.calc.topMix.o2,topMixHe:this.calc.topMix.he,targetO2:this.calc.targetTank.o2,targetHe:this.calc.targetTank.he}),this.applyChange())}loadState(){let e=this.viewStates.loadView(Bi.blender);e||(e=this.createDefaultState()),this.applyState(e),this.calc.calculate()}applyState(e){this.loadTankState(this.calc.sourceTank.tank,e.source),this.loadTankState(this.calc.targetTank.tank,e.target),this.calc.topMix.o2=e.topMix.o2,this.calc.topMix.he=e.topMix.he}saveState(){const e={id:Bi.blender,source:this.toTankState(this.calc.sourceTank.tank),target:this.toTankState(this.calc.targetTank.tank),topMix:{o2:this.calc.topMix.tank.o2,he:this.calc.topMix.tank.he}};this.viewStates.saveView(e)}createDefaultState(){return{id:Bi.blender,source:{o2:100*si.o2InAir,he:0,pressure:0},target:{o2:100*si.ean32.fO2,he:0,pressure:200},topMix:{o2:100*si.ean32.fO2,he:0}}}loadTankState(e,r){e.o2=r.o2,e.he=r.he,e.startPressure=r.pressure}toTankState(e){return{o2:e.o2,he:e.he,pressure:e.startPressure}}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(oi),Dt(kG),Dt(ja),Dt(Ss),Dt(ao),Dt(ts))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-gas-blender"]],decls:57,vars:43,consts:[[3,"formGroup"],[1,"row","mt-5"],[1,"col","col-12","col-md-8","col-lg-6","col-xxl-5","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body","row"],[1,"col","col-12","col-sm-4","mb-2"],[1,"mb-2"],["controlName","sourceO2",3,"tank","showBestMix","showTrimixGases","nitroxForm","gasChange","standardGasApplied"],["for","sourceHe",1,"form-label"],["formControlName","sourceHe","type","number","step","1","required","","id","sourceHe",1,"form-control",3,"min","max","input"],["class","text-danger",4,"ngIf"],["for","sourcePressure",1,"form-label"],["formControlName","sourcePressure","type","number","required","","step","1","id","sourcePressure",1,"form-control",3,"min","max","input"],["controlName","topMixO2",3,"tank","showBestMix","showTrimixGases","nitroxForm","gasChange","standardGasApplied"],["for","topMixHe",1,"form-label"],["formControlName","topMixHe","type","number","step","1","required","","id","topMixHe",1,"form-control",3,"min","max","input"],["controlName","targetO2",3,"tank","showBestMix","showTrimixGases","nitroxForm","gasChange","standardGasApplied"],["formControlName","targetHe","type","number","step","1","required","","id","targetHe",1,"form-control",3,"min","max","input"],["formControlName","targetPressure","type","number","required","","step","1","id","targetPressure",1,"form-control",3,"min","max","input"],[1,"col","col-12","col-md-4","col-lg-4","col-xxl-3","mt-3"],[1,"card-body"],["class","table table-sm",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"text-danger"],[1,"table","table-sm"],[4,"ngIf"],[1,"table-active"],[1,"alert","alert-danger"],[1,"me-2",3,"icon"]],template:function(r,i){1&r&&(xe(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),_n(5,"fa-icon",5),xe(6,"span"),qe(7,"Gas blender"),Se()(),xe(8,"div",6)(9,"div",7)(10,"div"),qe(11,"Source"),Se(),xe(12,"div",8)(13,"app-oxygen-dropdown",9),mn("gasChange",function(){return i.applyChange()})("standardGasApplied",function(){return i.applyTemplate()}),Se()(),xe(14,"div",8)(15,"label",10),qe(16,"He [%]:"),Se(),xe(17,"input",11),mn("input",function(){return i.applyChange()}),Se(),Cn(18,BEe,2,1,"div",12),Se(),xe(19,"div")(20,"label",13),qe(21),Se(),xe(22,"input",14),mn("input",function(){return i.applyChange()}),Se(),Cn(23,UEe,2,1,"div",12),Se()(),xe(24,"div",7)(25,"div"),qe(26,"Top mix"),Se(),xe(27,"div",8)(28,"app-oxygen-dropdown",15),mn("gasChange",function(){return i.applyChange()})("standardGasApplied",function(){return i.applyTemplate()}),Se()(),xe(29,"div",8)(30,"label",16),qe(31,"He [%]:"),Se(),xe(32,"input",17),mn("input",function(){return i.applyChange()}),Se(),Cn(33,GEe,2,1,"div",12),Se()(),xe(34,"div",7)(35,"div"),qe(36,"Target"),Se(),xe(37,"div",8)(38,"app-oxygen-dropdown",18),mn("gasChange",function(){return i.applyChange()})("standardGasApplied",function(){return i.applyTemplate()}),Se()(),xe(39,"div",8)(40,"label",10),qe(41,"He [%]:"),Se(),xe(42,"input",19),mn("input",function(){return i.applyChange()}),Se(),Cn(43,$Ee,2,1,"div",12),Se(),xe(44,"div")(45,"label",13),qe(46),Se(),xe(47,"input",20),mn("input",function(){return i.applyChange()}),Se(),Cn(48,WEe,2,1,"div",12),Se()()()()(),xe(49,"div",21)(50,"div",3)(51,"div",4)(52,"span"),qe(53,"Results"),Se()(),xe(54,"div",22),Cn(55,YEe,21,16,"table",23)(56,ZEe,4,1,"div",24),Se()()()()()),2&r&&(Qe("formGroup",i.blenderForm),_e(5),Qe("icon",i.calcIcon),_e(8),Qe("tank",i.calc.sourceTank)("showBestMix",!1)("showTrimixGases",!0)("nitroxForm",i.blenderForm),_e(4),pr("is-invalid",i.sourceHeInvalid),Qe("min",i.ranges.tankHe[0])("max",i.ranges.tankHe[1]),_e(),Qe("ngIf",i.sourceHeInvalid),_e(3),gn("Pressure [",i.units.pressure,"]:"),_e(),pr("is-invalid",i.sourcePressureInvalid),Qe("min",0)("max",i.ranges.tankPressure[1]),_e(),Qe("ngIf",i.sourcePressureInvalid),_e(5),Qe("tank",i.calc.topMix)("showBestMix",!1)("showTrimixGases",!0)("nitroxForm",i.blenderForm),_e(4),pr("is-invalid",i.topMixHeInvalid),Qe("min",i.ranges.tankHe[0])("max",i.ranges.tankHe[1]),_e(),Qe("ngIf",i.topMixHeInvalid),_e(5),Qe("tank",i.calc.targetTank)("showBestMix",!1)("showTrimixGases",!0)("nitroxForm",i.blenderForm),_e(4),pr("is-invalid",i.targetHeInvalid),Qe("min",i.ranges.tankHe[0])("max",i.ranges.tankHe[1]),_e(),Qe("ngIf",i.targetHeInvalid),_e(3),gn("Pressure [",i.units.pressure,"]:"),_e(),pr("is-invalid",i.targetPressureInvalid),Qe("min",i.ranges.tankPressure[0])("max",i.ranges.tankPressure[1]),_e(),Qe("ngIf",i.targetPressureInvalid),_e(7),Qe("ngIf",!i.calc.unableToCalculate),_e(),Qe("ngIf",i.calc.unableToCalculate))},dependencies:[Ji,Oa,D2,Wa,xs,us,qa,T1,_s,ws,Pa,es,$u,ls]})}return t})()},{path:"**",component:hG,canActivate:[t=>{const n=Bn(Io),e=Bn(Ru);if(0===t.queryParamMap.keys.length&&e.redirectToView){const r=`/${e.lastView}`;return Bn(R1).go(r),n.parseUrl(r)}return!0}]}];let QEe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Yr({type:t});static#n=this.\u0275inj=Fi({imports:[dV.forRoot(KEe),dV]})}return t})(),EG=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-footer"]],decls:4,vars:0,consts:[[1,"mt-5"],[1,"page-footer","font-small","bg-light","fixed-bottom","d-none","d-lg-block"],[1,"footer-copyright","text-center","py-2"]],template:function(r,i){1&r&&(_n(0,"div",0),xe(1,"footer",1)(2,"div",2),_n(3,"app-info"),Se()())},dependencies:[yx]})}return t})();function JEe(t,n){if(1&t){const e=fi();xe(0,"button",27),mn("click",function(){return or(e),sr(zt().addToHomeScreen())}),qe(1,"Add to Home screen"),Se()}}let NG=(()=>{class t{constructor(e,r){this.schedules=e,this.urls=r,this.isNavbarCollapsed=!0,this.faBars=YC,this.showInstallButton=!1}onbeforeinstallprompt(e){e.preventDefault(),this.deferredPrompt=e,this.showInstallButton=!0}saveDefaults(){this.schedules.saveDefaults()}loadDefaults(){this.schedules.loadDefaults()}addToHomeScreen(){this.showInstallButton=!1,this.deferredPrompt&&(this.deferredPrompt.prompt(),this.deferredPrompt.userChoice.then(e=>{this.deferredPrompt=null}))}static#e=this.\u0275fac=function(r){return new(r||t)(Dt(mx),Dt(Cc))};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-mainmenu"]],hostBindings:function(r,i){1&r&&mn("beforeinstallprompt",function(s){return i.onbeforeinstallprompt(s)},0,Pf)},decls:48,vars:4,consts:[[1,"navbar","navbar-expand-md","navbar-dark","bg-primary","fixed-top"],[1,"container-fluid"],["routerLink","./",1,"navbar-brand","ps-3"],["type","button","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"me-3",3,"icon"],["id","navbarSupportedContent","mdbCollapse","",1,"collapse","navbar-collapse"],["basicNavbar","mdbCollapse"],[1,"navbar-nav","mr-auto"],["mdbDropdown","",1,"nav-item","dropdown"],["id","id01","mdbDropdownToggle","",1,"nav-link","dropdown-toggle"],["aria-labelledby","id01","mdbDropdownMenu","",1,"dropdown-menu"],["routerLink","/sac",1,"dropdown-item"],["routerLink","/nitrox",1,"dropdown-item"],["routerLink","/gas",1,"dropdown-item"],["routerLink","/altitude",1,"dropdown-item"],["routerLink","/weight",1,"dropdown-item"],["routerLink","/ndl",1,"dropdown-item"],["routerLink","/redundancies",1,"dropdown-item"],["routerLink","/blender",1,"dropdown-item"],["id","id02","mdbDropdownToggle","",1,"nav-link","dropdown-toggle"],["aria-labelledby","id02","mdbDropdownMenu","",1,"dropdown-menu"],["routerLink","/settings",1,"dropdown-item"],[1,"dropdown-item",3,"click"],["target","_blank",1,"nav-link",3,"href"],["routerLink","/about",1,"nav-link"],[1,"nav","navbar-nav","navbar-right"],["class","btn btn-success btn-small mr-auto",3,"click",4,"ngIf"],[1,"btn","btn-success","btn-small","mr-auto",3,"click"]],template:function(r,i){if(1&r){const a=fi();xe(0,"nav",0)(1,"div",1)(2,"a",2),qe(3,"Gas planner"),Se(),xe(4,"button",3),mn("click",function(){return or(a),sr(T8(7).toggle())}),_n(5,"fa-icon",4),Se(),xe(6,"div",5,6)(8,"ul",7)(9,"li",8)(10,"a",9),qe(11,"Calculators"),Se(),xe(12,"div",10)(13,"a",11),qe(14,"RMV/SAC"),Se(),xe(15,"a",12),qe(16,"Nitrox"),Se(),xe(17,"a",13),qe(18,"Gas properties"),Se(),xe(19,"a",14),qe(20,"Altitude"),Se(),xe(21,"a",15),qe(22,"Weight"),Se(),xe(23,"a",16),qe(24,"NDL table"),Se(),xe(25,"a",17),qe(26,"Redundancies"),Se(),xe(27,"a",18),qe(28,"Gas blender"),Se()()(),xe(29,"li",8)(30,"a",19),qe(31,"Settings"),Se(),xe(32,"div",20)(33,"a",21),qe(34,"Edit"),Se(),xe(35,"a",22),mn("click",function(){return i.saveDefaults()}),qe(36,"Save defaults"),Se(),xe(37,"a",22),mn("click",function(){return i.loadDefaults()}),qe(38,"Reload defaults"),Se()()(),xe(39,"a",23),qe(40,"Standard gases"),Se(),xe(41,"a",23),qe(42,"Help/Learn"),Se(),xe(43,"a",24),qe(44,"About"),Se()(),xe(45,"ul",25)(46,"li"),Cn(47,JEe,2,0,"button",26),Se()()()()()}2&r&&(_e(5),Qe("icon",i.faBars),_e(34),S8("href",i.urls.standardGases,R4),_e(2),S8("href",i.urls.helpUrl,R4),_e(6),Qe("ngIf",i.showInstallButton))},dependencies:[lv,Ji,Oa,qb,Wl,qc,el]})}return t})(),IG=(()=>{class t{constructor(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=ur({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(r,i){1&r&&_n(0,"app-mainmenu")(1,"router-outlet")(2,"app-footer")},dependencies:[TC,EG,NG]})}return t})();class bx{constructor(n){this.worker=n,this.onCalculated=new dt,this.onFailed=new dt,this.calculated$=this.onCalculated.asObservable(),this.failed$=this.onFailed.asObservable(),this.worker.addEventListener("message",e=>this.processMessage(e)),this.worker.addEventListener("error",()=>this.onFailed.next())}calculate(n){this.worker.postMessage(n)}processMessage(n){this.onCalculated.next(n.data)}}class eNe{constructor(){this.diveProfiles=['{\n          "options": {\n            "gfLow": 0.4,\n            "gfHigh": 0.85,\n            "maxPpO2": 1.4,\n            "maxDecoPpO2": 1.6,\n            "salinity": 1,\n            "altitude": 0,\n            "roundStopsToMinutes": false,\n            "gasSwitchDuration": 2,\n            "safetyStop": 2,\n            "lastStopDepth": 3,\n            "decoStopDistance": 3,\n            "minimumAutoStopDepth": 10,\n            "maxEND": 30,\n            "oxygenNarcotic": true,\n            "ascentSpeed6m": 3,\n            "ascentSpeed50percTo6m": 6,\n            "ascentSpeed50perc": 9,\n            "descentSpeed": 18,\n            "problemSolvingDuration": 1\n          },\n          "diver": {\n            "rmv": 20\n          },\n          "tanks": [\n            {\n              "id": 1,\n              "size": 15,\n              "workPressure": 0,\n              "startPressure": 200,\n              "gas": {\n                "fO2": 0.209,\n                "fHe": 0\n              }\n            }\n          ],\n          "plan": []\n        }','{\n          "options": {\n            "gfLow": 0.4,\n            "gfHigh": 0.85,\n            "maxPpO2": 1.4,\n            "maxDecoPpO2": 1.6,\n            "salinity": 1,\n            "altitude": 0,\n            "roundStopsToMinutes": false,\n            "gasSwitchDuration": 2,\n            "safetyStop": 2,\n            "lastStopDepth": 3,\n            "decoStopDistance": 3,\n            "minimumAutoStopDepth": 10,\n            "maxEND": 30,\n            "oxygenNarcotic": true,\n            "ascentSpeed6m": 3,\n            "ascentSpeed50percTo6m": 6,\n            "ascentSpeed50perc": 9,\n            "descentSpeed": 18,\n            "problemSolvingDuration": 1\n          },\n          "diver": {\n            "rmv": 20\n          },\n          "tanks": [\n            {\n              "id": 1,\n              "size": 15,\n              "workPressure": 0,\n              "startPressure": 200,\n              "gas": {\n                "fO2": 0.209,\n                "fHe": 0\n              }\n            }\n          ],\n          "plan": [\n            {\n              "startDepth": 0,\n              "endDepth": 10,\n              "duration": 36,\n              "tankId": 1,\n              "gas": {\n                "fO2": 0.209,\n                "fHe": 0\n              }\n            },\n            {\n              "startDepth": 10,\n              "endDepth": 10,\n              "duration": 3564,\n              "tankId": 1,\n              "gas": {\n                "fO2": 0.209,\n                "fHe": 0\n              }\n            }\n          ]\n        }','{\n            "options": {\n              "gfLow": 0.4,\n              "gfHigh": 0.85,\n              "maxPpO2": 1.4,\n              "maxDecoPpO2": 1.6,\n              "salinity": 1,\n              "altitude": 0,\n              "roundStopsToMinutes": false,\n              "gasSwitchDuration": 2,\n              "safetyStop": 2,\n              "lastStopDepth": 3,\n              "decoStopDistance": 3,\n              "minimumAutoStopDepth": 10,\n              "maxEND": 30,\n              "oxygenNarcotic": true,\n              "ascentSpeed6m": 3,\n              "ascentSpeed50percTo6m": 6,\n              "ascentSpeed50perc": 9,\n              "descentSpeed": 18,\n              "problemSolvingDuration": 1\n            },\n            "diver": {\n              "rmv": 20\n            },\n            "tanks": [\n              {\n                "id": 1,\n                "size": 24,\n                "workPressure": 0,\n                "startPressure": 200,\n                "gas": {\n                  "fO2": 0.209,\n                  "fHe": 0\n                }\n              },\n              {\n                "id": 2,\n                "size": 11,\n                "workPressure": 0,\n                "startPressure": 200,\n                "gas": {\n                  "fO2": 0.5,\n                  "fHe": 0\n                }\n              },\n              {\n                "id": 3,\n                "size": 11,\n                "workPressure": 0,\n                "startPressure": 150,\n                "gas": {\n                  "fO2": 1,\n                  "fHe": 0\n                }\n              }\n            ],\n            "plan": [\n              {\n                "startDepth": 0,\n                "endDepth": 40,\n                "duration": 120,\n                "tankId": 1,\n                "gas": {\n                  "fO2": 0.209,\n                  "fHe": 0\n                }\n              },\n              {\n                "startDepth": 40,\n                "endDepth": 40,\n                "duration": 600,\n                "tankId": 1,\n                "gas": {\n                  "fO2": 0.209,\n                  "fHe": 0\n                }\n              },\n              {\n                "startDepth": 40,\n                "endDepth": 21,\n                "duration": 120,\n                "tankId": 1,\n                "gas": {\n                  "fO2": 0.209,\n                  "fHe": 0\n                }\n              },\n              {\n                "startDepth": 21,\n                "endDepth": 21,\n                "duration": 60,\n                "tankId": 2,\n                "gas": {\n                  "fO2": 0.5,\n                  "fHe": 0\n                }\n              },\n              {\n                "startDepth": 21,\n                "endDepth": 3,\n                "duration": 180,\n                "tankId": 2,\n                "gas": {\n                  "fO2": 0.5,\n                  "fHe": 0\n                }\n              },\n                {\n                "startDepth": 3,\n                "endDepth": 3,\n                "duration": 360,\n                "tankId": 3,\n                "gas": {\n                  "fO2": 1,\n                  "fHe": 0\n                }\n              },\n              {\n                "startDepth": 3,\n                "endDepth": 0,\n                "duration": 60,\n                "tankId": 3,\n                "gas": {\n                  "fO2": 1,\n                  "fHe": 0\n                }\n              }\n            ]\n          }','{\n            "options": {\n              "gfLow": 0.4,\n              "gfHigh": 0.85,\n              "maxPpO2": 1.4,\n              "maxDecoPpO2": 1.6,\n              "salinity": 1,\n              "altitude": 0,\n              "roundStopsToMinutes": false,\n              "gasSwitchDuration": 2,\n              "safetyStop": 2,\n              "lastStopDepth": 3,\n              "decoStopDistance": 3,\n              "minimumAutoStopDepth": 10,\n              "maxEND": 30,\n              "oxygenNarcotic": true,\n              "ascentSpeed6m": 3,\n              "ascentSpeed50percTo6m": 6,\n              "ascentSpeed50perc": 9,\n              "descentSpeed": 18,\n              "problemSolvingDuration": 1\n            },\n            "diver": {\n              "rmv": 20\n            },\n            "tanks": [\n              {\n                "id": 1,\n                "size": 24,\n                "workPressure": 0,\n                "startPressure": 200,\n                "gas": {\n                "fO2": 0.209,\n                "fHe": 0\n              }\n            },\n            {\n              "id": 2,\n              "size": 11.1,\n              "workPressure": 0,\n              "startPressure": 200,\n              "gas": {\n                "fO2": 1,\n                "fHe": 0\n              }\n            }\n          ],\n          "plan": [\n            {\n              "startDepth": 0,\n              "endDepth": 40,\n              "duration": 180,\n              "tankId": 1,\n              "gas": {\n                "fO2": 0.209,\n                "fHe": 0\n              }\n            },\n            {\n              "startDepth": 40,\n              "endDepth": 40,\n              "duration": 1020,\n              "tankId": 1,\n              "gas": {\n                "fO2": 0.209,\n                "fHe": 0\n              }\n            }\n          ]\n        }','\n        {\n          "options": {\n            "gfLow": 0.4,\n            "gfHigh": 0.85,\n            "maxPpO2": 1.4,\n            "maxDecoPpO2": 1.6,\n            "salinity": 1,\n            "altitude": 0,\n            "roundStopsToMinutes": false,\n            "gasSwitchDuration": 2,\n            "safetyStop": 2,\n            "lastStopDepth": 3,\n            "decoStopDistance": 3,\n            "minimumAutoStopDepth": 10,\n            "maxEND": 30,\n            "oxygenNarcotic": true,\n            "ascentSpeed6m": 3,\n            "ascentSpeed50percTo6m": 6,\n            "ascentSpeed50perc": 9,\n            "descentSpeed": 18,\n            "problemSolvingDuration": 1\n          },\n          "diver": {\n            "rmv": 20\n          },\n          "tanks": [\n            {\n              "id": 1,\n              "size": 24,\n              "workPressure": 0,\n              "startPressure": 200,\n              "gas": {\n                "fO2": 0.18,\n                "fHe": 0.45\n              }\n            },\n            {\n              "id": 2,\n              "size": 11.1,\n              "workPressure": 0,\n              "startPressure": 200,\n              "gas": {\n                "fO2": 1,\n                "fHe": 0\n              }\n            },\n            {\n              "id": 3,\n              "size": 11.1,\n              "workPressure": 0,\n              "startPressure": 200,\n              "gas": {\n                "fO2": 0.5,\n                "fHe": 0\n              }\n            }\n          ],\n          "plan": [\n            {\n              "startDepth": 0,\n              "endDepth": 60,\n              "duration": 180,\n              "tankId": 1,\n              "gas": {\n                "fO2": 0.18,\n                "fHe": 0.45\n              }\n            },\n            {\n              "startDepth": 60,\n              "endDepth": 60,\n              "duration": 900,\n              "tankId": 1,\n              "gas": {\n                "fO2": 0.18,\n                "fHe": 0.45\n              }\n            }\n          ]\n        }','{\n          "options": {\n            "gfLow": 0.4,\n            "gfHigh": 0.85,\n            "maxPpO2": 1.4,\n            "maxDecoPpO2": 1.6,\n            "salinity": 1,\n            "altitude": 0,\n            "roundStopsToMinutes": false,\n            "gasSwitchDuration": 2,\n            "safetyStop": 2,\n            "lastStopDepth": 3,\n            "decoStopDistance": 3,\n            "minimumAutoStopDepth": 10,\n            "maxEND": 30,\n            "oxygenNarcotic": true,\n            "ascentSpeed6m": 3,\n            "ascentSpeed50percTo6m": 6,\n            "ascentSpeed50perc": 9,\n            "descentSpeed": 18,\n            "problemSolvingDuration": 1\n          },\n          "diver": {\n            "rmv": 20\n          },\n          "tanks": [\n            {\n              "id": 1,\n              "size": 15,\n              "workPressure": 0,\n              "startPressure": 200,\n              "gas": {\n                "fO2": 0.209,\n                "fHe": 0\n              }\n            }\n          ],\n          "plan": [\n            {\n              "startDepth": 0,\n              "endDepth": 40,\n              "duration": 180,\n              "tankId": 1,\n              "gas": {\n                "fO2": 0.209,\n                "fHe": 0\n              }\n            },\n            {\n              "startDepth": 40,\n              "endDepth": 40,\n              "duration": 300,\n              "tankId": 1,\n              "gas": {\n                "fO2": 0.209,\n                "fHe": 0\n              }\n            },\n            {\n              "startDepth": 40,\n              "endDepth": 30,\n              "duration": 300,\n              "tankId": 1,\n              "gas": {\n                "fO2": 0.209,\n                "fHe": 0\n              }\n            },\n            {\n              "startDepth": 30,\n              "endDepth": 30,\n              "duration": 300,\n              "tankId": 1,\n              "gas": {\n                "fO2": 0.209,\n                "fHe": 0\n              }\n            },\n            {\n              "startDepth": 30,\n              "endDepth": 40,\n              "duration": 300,\n              "tankId": 1,\n              "gas": {\n                "fO2": 0.209,\n                "fHe": 0\n              }\n            },\n            {\n              "startDepth": 40,\n              "endDepth": 40,\n              "duration": 300,\n              "tankId": 1,\n              "gas": {\n                "fO2": 0.209,\n                "fHe": 0\n              }\n            }\n          ]\n        }'],this.preferencesPrefix='\n        {\n          "options": {\n            "imperialUnits": false,\n            "isComplex": true,\n            "language": "en"\n          },\n          "dives": [',this.preferencesSuffix="\n                  ]\n        }\n        "}get(n,e){return this.preferencesPrefix+this.diveProfiles[n]+","+this.diveProfiles[e]+this.preferencesSuffix}getAll(){return this.preferencesPrefix+this.diveProfiles[0]+","+this.diveProfiles[1]+","+this.diveProfiles[2]+","+this.diveProfiles[3]+","+this.diveProfiles[4]+","+this.diveProfiles[5]+this.preferencesSuffix}numberOfProfiles(){return this.diveProfiles.length}}let PG=(()=>{class t{constructor(e,r){this.preferencesStore=e,this.plannerService=r,this.testDataProvider=new eNe,this._testProfilesCount=this.testDataProvider.numberOfProfiles()}get testProfilesCount(){return this._testProfilesCount}injectProfiles(e,r){const i=this.testDataProvider.get(e,r);localStorage.setItem("preferences",i),this.preferencesStore.load(),this.plannerService.calculate(1),this.plannerService.calculate(2)}injectAllProfiles(){const e=this.testDataProvider.getAll();localStorage.setItem("preferences",e),this.preferencesStore.load();for(let r=1;r<=this.testDataProvider.numberOfProfiles();r++)this.plannerService.calculate(r)}static#e=this.\u0275fac=function(r){return new(r||t)(pn(Fu),pn(vx))};static#t=this.\u0275prov=In({token:t,factory:t.\u0275fac})}return t})();const rNe=[QEe,Sre,vA,gae,FH],iNe=[kz,ik,ak,Pse,Wse],aNe=[lx],sNe=[{provide:px,useClass:class qEe extends px{createProfileWorker(){const n=new Worker(Ya.tu(new URL(Ya.p+Ya.u(192),Ya.b)));return new bx(n)}createDiveInfoWorker(){const n=new Worker(Ya.tu(new URL(Ya.p+Ya.u(216),Ya.b)));return new bx(n)}createConsumptionWorker(){const n=new Worker(Ya.tu(new URL(Ya.p+Ya.u(224),Ya.b)));return new bx(n)}}},hy,ls,TU,oG,xU,QM,Ua,kG,Ss,mx,bG,mG,Nv,SU,vx,JM,Fu,B1,LG,pG,dx,wU,fG,ao,KM,oi,Cc,ja,Ru,Zl,sG,PG,ah,DG];let oNe=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=Yr({type:t,bootstrap:[IG]});static#n=this.\u0275inj=Fi({providers:sNe,imports:[rNe,iNe,aNe,Cae,Lte.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"})]})}return t})();yq().bootstrapModule(oNe).catch(t=>console.error(t))},940:function(z2,Fo,Ya){var Ps;z2=Ya.nmd(z2),function(){var $t,p="Expected a function",v="__lodash_hash_undefined__",f="__lodash_placeholder__",S=32,x=128,J=1/0,W=9007199254740991,me=4294967295,q=[["ary",x],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",S],["partialRight",64],["rearg",256]],ie="[object Arguments]",ue="[object Array]",pe="[object Boolean]",He="[object Date]",Ue="[object Error]",Me="[object Function]",we="[object GeneratorFunction]",Le="[object Map]",B="[object Number]",X="[object Object]",j="[object Promise]",ae="[object RegExp]",O="[object Set]",ne="[object String]",be="[object Symbol]",Ne="[object WeakMap]",Be="[object ArrayBuffer]",Te="[object DataView]",Ve="[object Float32Array]",Pe="[object Float64Array]",Je="[object Int8Array]",Xe="[object Int16Array]",Ge="[object Int32Array]",st="[object Uint8Array]",wt="[object Uint8ClampedArray]",kt="[object Uint16Array]",At="[object Uint32Array]",Qt=/\b__p \+= '';/g,nn=/\b(__p \+=) '' \+/g,Ut=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Lt=/&(?:amp|lt|gt|quot|#39);/g,Xt=/[&<>"']/g,gt=RegExp(Lt.source),Yt=RegExp(Xt.source),tn=/<%-([\s\S]+?)%>/g,dn=/<%([\s\S]+?)%>/g,rn=/<%=([\s\S]+?)%>/g,Ke=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,St=/^\w*$/,dt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Re=/[\\^$.*+?()[\]{}|]/g,it=RegExp(Re.source),ye=/^\s+/,De=/\s/,$e=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,je=/\{\n\/\* \[wrapped with (.+)\] \*/,Ye=/,? & /,at=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Rt=/[()=,{}\[\]\/\s]/,tt=/\\(\\)?/g,yt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ct=/\w*$/,Et=/^[-+]0x[0-9a-f]+$/i,hn=/^0b[01]+$/i,Tn=/^\[object .+?Constructor\]$/,Rn=/^0o[0-7]+$/i,Gn=/^(?:0|[1-9]\d*)$/,Yn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Kt=/($^)/,Wn=/['\n\r\u2028\u2029\\]/g,kn="\\ud800-\\udfff",Zt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Nn="\\u2700-\\u27bf",An="a-z\\xdf-\\xf6\\xf8-\\xff",ge="A-Z\\xc0-\\xd6\\xd8-\\xde",de="\\ufe0e\\ufe0f",lt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pt="["+kn+"]",mt="["+lt+"]",Tt="["+Zt+"]",ht="\\d+",ut="["+Nn+"]",Ht="["+An+"]",_t="[^"+kn+lt+ht+Nn+An+ge+"]",jt="\\ud83c[\\udffb-\\udfff]",vn="[^"+kn+"]",Nt="(?:\\ud83c[\\udde6-\\uddff]){2}",un="[\\ud800-\\udbff][\\udc00-\\udfff]",sn="["+ge+"]",Mn="(?:"+Ht+"|"+_t+")",zn="(?:"+sn+"|"+_t+")",Pn="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",xn="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",wn="(?:"+Tt+"|"+jt+")?",Xn="["+de+"]?",Mr=Xn+wn+"(?:\\u200d(?:"+[vn,Nt,un].join("|")+")"+Xn+wn+")*",Hr="(?:"+[ut,Nt,un].join("|")+")"+Mr,ei="(?:"+[vn+Tt+"?",Tt,Nt,un,pt].join("|")+")",Di=RegExp("['\u2019]","g"),oa=RegExp(Tt,"g"),Er=RegExp(jt+"(?="+jt+")|"+ei+Mr,"g"),qi=RegExp([sn+"?"+Ht+"+"+Pn+"(?="+[mt,sn,"$"].join("|")+")",zn+"+"+xn+"(?="+[mt,sn+Mn,"$"].join("|")+")",sn+"?"+Mn+"+"+Pn,sn+"+"+xn,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ht,Hr].join("|"),"g"),Qr=RegExp("[\\u200d"+kn+Zt+de+"]"),hi=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ti=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xi=-1,Sr={};Sr[Ve]=Sr[Pe]=Sr[Je]=Sr[Xe]=Sr[Ge]=Sr[st]=Sr[wt]=Sr[kt]=Sr[At]=!0,Sr[ie]=Sr[ue]=Sr[Be]=Sr[pe]=Sr[Te]=Sr[He]=Sr[Ue]=Sr[Me]=Sr[Le]=Sr[B]=Sr[X]=Sr[ae]=Sr[O]=Sr[ne]=Sr[Ne]=!1;var Vr={};Vr[ie]=Vr[ue]=Vr[Be]=Vr[Te]=Vr[pe]=Vr[He]=Vr[Ve]=Vr[Pe]=Vr[Je]=Vr[Xe]=Vr[Ge]=Vr[Le]=Vr[B]=Vr[X]=Vr[ae]=Vr[O]=Vr[ne]=Vr[be]=Vr[st]=Vr[wt]=Vr[kt]=Vr[At]=!0,Vr[Ue]=Vr[Me]=Vr[Ne]=!1;var zi={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Jr=parseFloat,rs=parseInt,pa="object"==typeof global&&global&&global.Object===Object&&global,ea="object"==typeof self&&self&&self.Object===Object&&self,wi=pa||ea||Function("return this")(),k1=Fo&&!Fo.nodeType&&Fo,is=k1&&z2&&!z2.nodeType&&z2,va=is&&is.exports===k1,Za=va&&pa.process,Xa=function(){try{return is&&is.require&&is.require("util").types||Za&&Za.binding&&Za.binding("util")}catch{}}(),k2=Xa&&Xa.isArrayBuffer,ur=Xa&&Xa.isDate,hs=Xa&&Xa.isMap,G1=Xa&&Xa.isRegExp,Yr=Xa&&Xa.isSet,Ri=Xa&&Xa.isTypedArray;function nr(on,En,Dn){switch(Dn.length){case 0:return on.call(En);case 1:return on.call(En,Dn[0]);case 2:return on.call(En,Dn[0],Dn[1]);case 3:return on.call(En,Dn[0],Dn[1],Dn[2])}return on.apply(En,Dn)}function Hi(on,En,Dn,yr){for(var qr=-1,Ii=null==on?0:on.length;++qr<Ii;){var ss=on[qr];En(yr,ss,Dn(ss),on)}return yr}function Nr(on,En){for(var Dn=-1,yr=null==on?0:on.length;++Dn<yr&&!1!==En(on[Dn],Dn,on););return on}function _a(on,En){for(var Dn=null==on?0:on.length;Dn--&&!1!==En(on[Dn],Dn,on););return on}function Sa(on,En){for(var Dn=-1,yr=null==on?0:on.length;++Dn<yr;)if(!En(on[Dn],Dn,on))return!1;return!0}function Ta(on,En){for(var Dn=-1,yr=null==on?0:on.length,qr=0,Ii=[];++Dn<yr;){var ss=on[Dn];En(ss,Dn,on)&&(Ii[qr++]=ss)}return Ii}function ta(on,En){return!(null==on||!on.length)&&Ts(on,En,0)>-1}function Oo(on,En,Dn){for(var yr=-1,qr=null==on?0:on.length;++yr<qr;)if(Dn(En,on[yr]))return!0;return!1}function ki(on,En){for(var Dn=-1,yr=null==on?0:on.length,qr=Array(yr);++Dn<yr;)qr[Dn]=En(on[Dn],Dn,on);return qr}function ps(on,En){for(var Dn=-1,yr=En.length,qr=on.length;++Dn<yr;)on[qr+Dn]=En[Dn];return on}function oo(on,En,Dn,yr){var qr=-1,Ii=null==on?0:on.length;for(yr&&Ii&&(Dn=on[++qr]);++qr<Ii;)Dn=En(Dn,on[qr],qr,on);return Dn}function Kl(on,En,Dn,yr){var qr=null==on?0:on.length;for(yr&&qr&&(Dn=on[--qr]);qr--;)Dn=En(Dn,on[qr],qr,on);return Dn}function Ni(on,En){for(var Dn=-1,yr=null==on?0:on.length;++Dn<yr;)if(En(on[Dn],Dn,on))return!0;return!1}var rr=Rs("length");function V1(on,En,Dn){var yr;return Dn(on,function(qr,Ii,ss){if(En(qr,Ii,ss))return yr=Ii,!1}),yr}function Da(on,En,Dn,yr){for(var qr=on.length,Ii=Dn+(yr?1:-1);yr?Ii--:++Ii<qr;)if(En(on[Ii],Ii,on))return Ii;return-1}function Ts(on,En,Dn){return En==En?function Jl(on,En,Dn){for(var yr=Dn-1,qr=on.length;++yr<qr;)if(on[yr]===En)return yr;return-1}(on,En,Dn):Da(on,ji,Dn)}function Mc(on,En,Dn,yr){for(var qr=Dn-1,Ii=on.length;++qr<Ii;)if(yr(on[qr],En))return qr;return-1}function ji(on){return on!=on}function as(on,En){var Dn=null==on?0:on.length;return Dn?Ds(on,En)/Dn:NaN}function Rs(on){return function(En){return null==En?$t:En[on]}}function Br(on){return function(En){return null==on?$t:on[En]}}function co(on,En,Dn,yr,qr){return qr(on,function(Ii,ss,Zi){Dn=yr?(yr=!1,Ii):En(Dn,Ii,ss,Zi)}),Dn}function Ds(on,En){for(var Dn,yr=-1,qr=on.length;++yr<qr;){var Ii=En(on[yr]);Ii!==$t&&(Dn=Dn===$t?Ii:Dn+Ii)}return Dn}function na(on,En){for(var Dn=-1,yr=Array(on);++Dn<on;)yr[Dn]=En(Dn);return yr}function V2(on){return on&&on.slice(0,K3(on)+1).replace(ye,"")}function Yi(on){return function(En){return on(En)}}function f2(on,En){return ki(En,function(Dn){return on[Dn]})}function Uo(on,En){return on.has(En)}function E2(on,En){for(var Dn=-1,yr=on.length;++Dn<yr&&Ts(En,on[Dn],0)>-1;);return Dn}function cl(on,En){for(var Dn=on.length;Dn--&&Ts(En,on[Dn],0)>-1;);return Dn}var $r=Br({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Ql=Br({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ll(on){return"\\"+zi[on]}function N2(on){return Qr.test(on)}function ul(on){var En=-1,Dn=Array(on.size);return on.forEach(function(yr,qr){Dn[++En]=[qr,yr]}),Dn}function vs(on,En){return function(Dn){return on(En(Dn))}}function ga(on,En){for(var Dn=-1,yr=on.length,qr=0,Ii=[];++Dn<yr;){var ss=on[Dn];(ss===En||ss===f)&&(on[Dn]=f,Ii[qr++]=Dn)}return Ii}function wc(on){var En=-1,Dn=Array(on.size);return on.forEach(function(yr){Dn[++En]=yr}),Dn}function lo(on){return N2(on)?function Q3(on){for(var En=Er.lastIndex=0;Er.test(on);)++En;return En}(on):rr(on)}function E1(on){return N2(on)?function ju(on){return on.match(Er)||[]}(on):function Ar(on){return on.split("")}(on)}function K3(on){for(var En=on.length;En--&&De.test(on.charAt(En)););return En}var ql=Br({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),q3=function on(En){var d,Dn=(En=null==En?wi:q3.defaults(wi.Object(),En,q3.pick(wi,ti))).Array,yr=En.Date,qr=En.Error,Ii=En.Function,ss=En.Math,Zi=En.Object,H0=En.RegExp,sh=En.String,m1=En.TypeError,dl=Dn.prototype,_c=Zi.prototype,e4=En["__core-js_shared__"],t4=Ii.prototype.toString,Pi=_c.hasOwnProperty,Sc=0,Wo=(d=/[^.]+$/.exec(e4&&e4.keys&&e4.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",g1=_c.toString,ch=t4.call(Zi),Gi=wi._,n4=H0("^"+t4.call(Pi).replace(Re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),uo=va?En.Buffer:$t,ya=En.Symbol,e3=En.Uint8Array,Tc=uo?uo.allocUnsafe:$t,I2=vs(Zi.getPrototypeOf,Zi),e1=Zi.create,L0=_c.propertyIsEnumerable,fo=dl.splice,t3=ya?ya.isConcatSpreadable:$t,t1=ya?ya.iterator:$t,ho=ya?ya.toStringTag:$t,n3=function(){try{var d=Mo(Zi,"defineProperty");return d({},"",{}),d}catch{}}(),z0=En.clearTimeout!==wi.clearTimeout&&En.clearTimeout,r3=yr&&yr.now!==wi.Date.now&&yr.now,r4=En.setTimeout!==wi.setTimeout&&En.setTimeout,po=ss.ceil,P2=ss.floor,Dc=Zi.getOwnPropertySymbols,vo=uo?uo.isBuffer:$t,Pr=En.isFinite,k0=dl.join,lh=vs(Zi.keys,Zi),Ga=ss.max,ms=ss.min,V0=yr.now,i3=En.parseInt,R2=ss.random,Yu=dl.reverse,i4=Mo(En,"DataView"),hl=Mo(En,"Map"),a4=Mo(En,"Promise"),Ac=Mo(En,"Set"),Ln=Mo(En,"WeakMap"),ri=Mo(Zi,"create"),or=Ln&&new Ln,sr={},Li=Sl(i4),pl=Sl(hl),vl=Sl(a4),N1=Sl(Ac),a3=Sl(Ln),Hc=ya?ya.prototype:$t,ml=Hc?Hc.valueOf:$t,E0=Hc?Hc.toString:$t;function ft(d){if(Ia(d)&&!ii(d)&&!(d instanceof Wr)){if(d instanceof Fs)return d;if(Pi.call(d,"__wrapped__"))return os(d)}return new Fs(d)}var Na=function(){function d(){}return function(A){if(!la(A))return{};if(e1)return e1(A);d.prototype=A;var ee=new d;return d.prototype=$t,ee}}();function n1(){}function Fs(d,A){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!A,this.__index__=0,this.__values__=$t}function Wr(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=me,this.__views__=[]}function jo(d){var A=-1,ee=null==d?0:d.length;for(this.clear();++A<ee;){var Ee=d[A];this.set(Ee[0],Ee[1])}}function F2(d){var A=-1,ee=null==d?0:d.length;for(this.clear();++A<ee;){var Ee=d[A];this.set(Ee[0],Ee[1])}}function p2(d){var A=-1,ee=null==d?0:d.length;for(this.clear();++A<ee;){var Ee=d[A];this.set(Ee[0],Ee[1])}}function Yo(d){var A=-1,ee=null==d?0:d.length;for(this.__data__=new p2;++A<ee;)this.add(d[A])}function I1(d){var A=this.__data__=new F2(d);this.size=A.size}function B2(d,A){var ee=ii(d),Ee=!ee&&X2(d),Ze=!ee&&!Ee&&Dl(d),Ct=!ee&&!Ee&&!Ze&&Do(d),Ot=ee||Ee||Ze||Ct,en=Ot?na(d.length,sh):[],fn=en.length;for(var On in d)(A||Pi.call(d,On))&&(!Ot||!("length"==On||Ze&&("offset"==On||"parent"==On)||Ct&&("buffer"==On||"byteLength"==On||"byteOffset"==On)||Y2(On,fn)))&&en.push(On);return en}function aa(d){var A=d.length;return A?d[vt(0,A-1)]:$t}function P0(d,A){return xo(Ca(d),Xo(A,0,d.length))}function Ku(d){return xo(Ca(d))}function Hs(d,A,ee){(ee!==$t&&!Z2(d[A],ee)||ee===$t&&!(A in d))&&go(d,A,ee)}function y1(d,A,ee){var Ee=d[A];(!Pi.call(d,A)||!Z2(Ee,ee)||ee===$t&&!(A in d))&&go(d,A,ee)}function Zo(d,A){for(var ee=d.length;ee--;)if(Z2(d[ee][0],A))return ee;return-1}function gl(d,A,ee,Ee){return yo(d,function(Ze,Ct,Ot){A(Ee,Ze,ee(Ze),Ot)}),Ee}function yl(d,A){return d&&Us(A,Ys(A),d)}function go(d,A,ee){"__proto__"==A&&n3?n3(d,A,{configurable:!0,enumerable:!0,value:ee,writable:!0}):d[A]=ee}function Os(d,A){for(var ee=-1,Ee=A.length,Ze=Dn(Ee),Ct=null==d;++ee<Ee;)Ze[ee]=Ct?$t:Vf(d,A[ee]);return Ze}function Xo(d,A,ee){return d==d&&(ee!==$t&&(d=d<=ee?d:ee),A!==$t&&(d=d>=A?d:A)),d}function sa(d,A,ee,Ee,Ze,Ct){var Ot,en=1&A,fn=2&A,On=4&A;if(ee&&(Ot=Ze?ee(d,Ee,Ze,Ct):ee(d)),Ot!==$t)return Ot;if(!la(d))return d;var Un=ii(d);if(Un){if(Ot=function Qv(d){var A=d.length,ee=new d.constructor(A);return A&&"string"==typeof d[0]&&Pi.call(d,"index")&&(ee.index=d.index,ee.input=d.input),ee}(d),!en)return Ca(d,Ot)}else{var Jn=Gs(d),mr=Jn==Me||Jn==we;if(Dl(d))return Bs(d,en);if(Jn==X||Jn==ie||mr&&!Ze){if(Ot=fn||mr?{}:rf(d),!en)return fn?function O0(d,A){return Us(d,Fc(d),A)}(d,function d4(d,A){return d&&Us(A,o1(A),d)}(Ot,d)):function Ic(d,A){return Us(d,nc(d),A)}(d,yl(Ot,d))}else{if(!Vr[Jn])return Ze?d:{};Ot=function bh(d,A,ee){var Ee=d.constructor;switch(A){case Be:return W2(d);case pe:case He:return new Ee(+d);case Te:return function Ju(d,A){var ee=A?W2(d.buffer):d.buffer;return new d.constructor(ee,d.byteOffset,d.byteLength)}(d,ee);case Ve:case Pe:case Je:case Xe:case Ge:case st:case wt:case kt:case At:return Ls(d,ee);case Le:return new Ee;case B:case ne:return new Ee(d);case ae:return function b2(d){var A=new d.constructor(d.source,ct.exec(d));return A.lastIndex=d.lastIndex,A}(d);case O:return new Ee;case be:return function gs(d){return ml?Zi(ml.call(d)):{}}(d)}}(d,Jn,en)}}Ct||(Ct=new I1);var _r=Ct.get(d);if(_r)return _r;Ct.set(d,Ot),Hf(d)?d.forEach(function(Rr){Ot.add(sa(Rr,A,ee,Rr,d,Ct))}):b6(d)&&d.forEach(function(Rr,Si){Ot.set(Si,sa(Rr,A,ee,Si,d,Ct))});var gi=Un?$t:(On?fn?Z0:Rc:fn?o1:Ys)(d);return Nr(gi||d,function(Rr,Si){gi&&(Rr=d[Si=Rr]),y1(Ot,Si,sa(Rr,A,ee,Si,d,Ct))}),Ot}function U2(d,A,ee){var Ee=ee.length;if(null==d)return!Ee;for(d=Zi(d);Ee--;){var Ze=ee[Ee],Ot=d[Ze];if(Ot===$t&&!(Ze in d)||!(0,A[Ze])(Ot))return!1}return!0}function h4(d,A,ee){if("function"!=typeof d)throw new m1(p);return A4(function(){d.apply($t,ee)},A)}function kc(d,A,ee,Ee){var Ze=-1,Ct=ta,Ot=!0,en=d.length,fn=[],On=A.length;if(!en)return fn;ee&&(A=ki(A,Yi(ee))),Ee?(Ct=Oo,Ot=!1):A.length>=200&&(Ct=Uo,Ot=!1,A=new Yo(A));e:for(;++Ze<en;){var Un=d[Ze],Jn=null==ee?Un:ee(Un);if(Un=Ee||0!==Un?Un:0,Ot&&Jn==Jn){for(var mr=On;mr--;)if(A[mr]===Jn)continue e;fn.push(Un)}else Ct(A,Jn,Ee)||fn.push(Un)}return fn}ft.templateSettings={escape:tn,evaluate:dn,interpolate:rn,variable:"",imports:{_:ft}},(ft.prototype=n1.prototype).constructor=ft,(Fs.prototype=Na(n1.prototype)).constructor=Fs,(Wr.prototype=Na(n1.prototype)).constructor=Wr,jo.prototype.clear=function N0(){this.__data__=ri?ri(null):{},this.size=0},jo.prototype.delete=function Lc(d){var A=this.has(d)&&delete this.__data__[d];return this.size-=A?1:0,A},jo.prototype.get=function s3(d){var A=this.__data__;if(ri){var ee=A[d];return ee===v?$t:ee}return Pi.call(A,d)?A[d]:$t},jo.prototype.has=function o4(d){var A=this.__data__;return ri?A[d]!==$t:Pi.call(A,d)},jo.prototype.set=function o3(d,A){var ee=this.__data__;return this.size+=this.has(d)?0:1,ee[d]=ri&&A===$t?v:A,this},F2.prototype.clear=function I0(){this.__data__=[],this.size=0},F2.prototype.delete=function c3(d){var A=this.__data__,ee=Zo(A,d);return!(ee<0||(ee==A.length-1?A.pop():fo.call(A,ee,1),--this.size,0))},F2.prototype.get=function c4(d){var A=this.__data__,ee=Zo(A,d);return ee<0?$t:A[ee][1]},F2.prototype.has=function l4(d){return Zo(this.__data__,d)>-1},F2.prototype.set=function u4(d,A){var ee=this.__data__,Ee=Zo(ee,d);return Ee<0?(++this.size,ee.push([d,A])):ee[Ee][1]=A,this},p2.prototype.clear=function zc(){this.size=0,this.__data__={hash:new jo,map:new(hl||F2),string:new jo}},p2.prototype.delete=function Zu(d){var A=Ml(this,d).delete(d);return this.size-=A?1:0,A},p2.prototype.get=function As(d){return Ml(this,d).get(d)},p2.prototype.has=function mo(d){return Ml(this,d).has(d)},p2.prototype.set=function Xi(d,A){var ee=Ml(this,d),Ee=ee.size;return ee.set(d,A),this.size+=ee.size==Ee?0:1,this},Yo.prototype.add=Yo.prototype.push=function l3(d){return this.__data__.set(d,v),this},Yo.prototype.has=function u3(d){return this.__data__.has(d)},I1.prototype.clear=function f4(){this.__data__=new F2,this.size=0},I1.prototype.delete=function f3(d){var A=this.__data__,ee=A.delete(d);return this.size=A.size,ee},I1.prototype.get=function r1(d){return this.__data__.get(d)},I1.prototype.has=function O2(d){return this.__data__.has(d)},I1.prototype.set=function Xu(d,A){var ee=this.__data__;if(ee instanceof F2){var Ee=ee.__data__;if(!hl||Ee.length<199)return Ee.push([d,A]),this.size=++ee.size,this;ee=this.__data__=new p2(Ee)}return ee.set(d,A),this.size=ee.size,this};var yo=B0(m2),d3=B0(g2,!0);function Vc(d,A){var ee=!0;return yo(d,function(Ee,Ze,Ct){return ee=!!A(Ee,Ze,Ct)}),ee}function bl(d,A,ee){for(var Ee=-1,Ze=d.length;++Ee<Ze;){var Ct=d[Ee],Ot=A(Ct);if(null!=Ot&&(en===$t?Ot==Ot&&!w2(Ot):ee(Ot,en)))var en=Ot,fn=Ct}return fn}function h3(d,A){var ee=[];return yo(d,function(Ee,Ze,Ct){A(Ee,Ze,Ct)&&ee.push(Ee)}),ee}function $a(d,A,ee,Ee,Ze){var Ct=-1,Ot=d.length;for(ee||(ee=wx),Ze||(Ze=[]);++Ct<Ot;){var en=d[Ct];A>0&&ee(en)?A>1?$a(en,A-1,ee,Ee,Ze):ps(Ze,en):Ee||(Ze[Ze.length]=en)}return Ze}var Ko=b4(),p3=b4(!0);function m2(d,A){return d&&Ko(d,A,Ys)}function g2(d,A){return d&&p3(d,A,Ys)}function In(d,A){return Ta(A,function(ee){return ac(d[ee])})}function Qo(d,A){for(var ee=0,Ee=(A=Bn(A,d)).length;null!=d&&ee<Ee;)d=d[M1(A[ee++])];return ee&&ee==Ee?d:$t}function Fi(d,A,ee){var Ee=A(d);return ii(d)?Ee:ps(Ee,ee(d))}function Ka(d){return null==d?d===$t?"[object Undefined]":"[object Null]":ho&&ho in Zi(d)?function Kv(d){var A=Pi.call(d,ho),ee=d[ho];try{d[ho]=$t;var Ee=!0}catch{}var Ze=g1.call(d);return Ee&&(A?d[ho]=ee:delete d[ho]),Ze}(d):function b3(d){return g1.call(d)}(d)}function Ec(d,A){return d>A}function v4(d,A){return null!=d&&Pi.call(d,A)}function Cl(d,A){return null!=d&&A in Zi(d)}function Jo(d,A,ee){for(var Ee=ee?Oo:ta,Ze=d[0].length,Ct=d.length,Ot=Ct,en=Dn(Ct),fn=1/0,On=[];Ot--;){var Un=d[Ot];Ot&&A&&(Un=ki(Un,Yi(A))),fn=ms(Un.length,fn),en[Ot]=!ee&&(A||Ze>=120&&Un.length>=120)?new Yo(Ot&&Un):$t}Un=d[0];var Jn=-1,mr=en[0];e:for(;++Jn<Ze&&On.length<fn;){var _r=Un[Jn],Ur=A?A(_r):_r;if(_r=ee||0!==_r?_r:0,!(mr?Uo(mr,Ur):Ee(On,Ur,ee))){for(Ot=Ct;--Ot;){var gi=en[Ot];if(!(gi?Uo(gi,Ur):Ee(d[Ot],Ur,ee)))continue e}mr&&mr.push(Ur),On.push(_r)}}return On}function $2(d,A,ee){var Ee=null==(d=xh(d,A=Bn(A,d)))?d:d[M1(x1(A))];return null==Ee?$t:nr(Ee,d,ee)}function v3(d){return Ia(d)&&Ka(d)==ie}function bo(d,A,ee,Ee,Ze){return d===A||(null==d||null==A||!Ia(d)&&!Ia(A)?d!=d&&A!=A:function m4(d,A,ee,Ee,Ze,Ct){var Ot=ii(d),en=ii(A),fn=Ot?ue:Gs(d),On=en?ue:Gs(A),Un=(fn=fn==ie?X:fn)==X,Jn=(On=On==ie?X:On)==X,mr=fn==On;if(mr&&Dl(d)){if(!Dl(A))return!1;Ot=!0,Un=!1}if(mr&&!Un)return Ct||(Ct=new I1),Ot||Do(d)?j0(d,A,ee,Ee,Ze,Ct):function Y0(d,A,ee,Ee,Ze,Ct,Ot){switch(ee){case Te:if(d.byteLength!=A.byteLength||d.byteOffset!=A.byteOffset)return!1;d=d.buffer,A=A.buffer;case Be:return!(d.byteLength!=A.byteLength||!Ct(new e3(d),new e3(A)));case pe:case He:case B:return Z2(+d,+A);case Ue:return d.name==A.name&&d.message==A.message;case ae:case ne:return d==A+"";case Le:var en=ul;case O:if(en||(en=wc),d.size!=A.size&&!(1&Ee))return!1;var On=Ot.get(d);if(On)return On==A;Ee|=2,Ot.set(d,A);var Un=j0(en(d),en(A),Ee,Ze,Ct,Ot);return Ot.delete(d),Un;case be:if(ml)return ml.call(d)==ml.call(A)}return!1}(d,A,fn,ee,Ee,Ze,Ct);if(!(1&ee)){var _r=Un&&Pi.call(d,"__wrapped__"),Ur=Jn&&Pi.call(A,"__wrapped__");if(_r||Ur){var gi=_r?d.value():d,Rr=Ur?A.value():A;return Ct||(Ct=new I1),Ze(gi,Rr,ee,Ee,Ct)}}return!!mr&&(Ct||(Ct=new I1),function y3(d,A,ee,Ee,Ze,Ct){var Ot=1&ee,en=Rc(d),fn=en.length;if(fn!=Rc(A).length&&!Ot)return!1;for(var Jn=fn;Jn--;){var mr=en[Jn];if(!(Ot?mr in A:Pi.call(A,mr)))return!1}var _r=Ct.get(d),Ur=Ct.get(A);if(_r&&Ur)return _r==A&&Ur==d;var gi=!0;Ct.set(d,A),Ct.set(A,d);for(var Rr=Ot;++Jn<fn;){var Si=d[mr=en[Jn]],Ai=A[mr];if(Ee)var Z1=Ot?Ee(Ai,Si,mr,A,d,Ct):Ee(Si,Ai,mr,d,A,Ct);if(!(Z1===$t?Si===Ai||Ze(Si,Ai,ee,Ee,Ct):Z1)){gi=!1;break}Rr||(Rr="constructor"==mr)}if(gi&&!Rr){var _1=d.constructor,X1=A.constructor;_1!=X1&&"constructor"in d&&"constructor"in A&&!("function"==typeof _1&&_1 instanceof _1&&"function"==typeof X1&&X1 instanceof X1)&&(gi=!1)}return Ct.delete(d),Ct.delete(A),gi}(d,A,ee,Ee,Ze,Ct))}(d,A,ee,Ee,bo,Ze))}function R0(d,A,ee,Ee){var Ze=ee.length,Ct=Ze,Ot=!Ee;if(null==d)return!Ct;for(d=Zi(d);Ze--;){var en=ee[Ze];if(Ot&&en[2]?en[1]!==d[en[0]]:!(en[0]in d))return!1}for(;++Ze<Ct;){var fn=(en=ee[Ze])[0],On=d[fn],Un=en[1];if(Ot&&en[2]){if(On===$t&&!(fn in d))return!1}else{var Jn=new I1;if(Ee)var mr=Ee(On,Un,fn,d,A,Jn);if(!(mr===$t?bo(Un,On,3,Ee,Jn):mr))return!1}}return!0}function m3(d){return!(!la(d)||function xl(d){return!!Wo&&Wo in d}(d))&&(ac(d)?n4:Tn).test(Sl(d))}function F0(d){return"function"==typeof d?d:null==d?Zs:"object"==typeof d?ii(d)?he(d[0],d[1]):ce(d):Yf(d)}function u(d){if(!wl(d))return lh(d);var A=[];for(var ee in Zi(d))Pi.call(d,ee)&&"constructor"!=ee&&A.push(ee);return A}function U(d,A){return d<A}function re(d,A){var ee=-1,Ee=w1(d)?Dn(d.length):[];return yo(d,function(Ze,Ct,Ot){Ee[++ee]=A(Ze,Ct,Ot)}),Ee}function ce(d){var A=tf(d);return 1==A.length&&A[0][2]?Mh(A[0][0],A[0][1]):function(ee){return ee===d||R0(ee,d,A)}}function he(d,A){return T4(d)&&D4(A)?Mh(M1(d),A):function(ee){var Ee=Vf(ee,d);return Ee===$t&&Ee===A?Ef(ee,d):bo(A,Ee,3)}}function Ie(d,A,ee,Ee,Ze){d!==A&&Ko(A,function(Ct,Ot){if(Ze||(Ze=new I1),la(Ct))!function Ae(d,A,ee,Ee,Ze,Ct,Ot){var en=e6(d,ee),fn=e6(A,ee),On=Ot.get(fn);if(On)Hs(d,ee,On);else{var Un=Ct?Ct(en,fn,ee+"",d,A,Ot):$t,Jn=Un===$t;if(Jn){var mr=ii(fn),_r=!mr&&Dl(fn),Ur=!mr&&!_r&&Do(fn);Un=fn,mr||_r||Ur?ii(en)?Un=en:cs(en)?Un=Ca(en):_r?(Jn=!1,Un=Bs(fn,!0)):Ur?(Jn=!1,Un=Ls(fn,!0)):Un=[]:F4(fn)||X2(fn)?(Un=en,X2(en)?Un=l5(en):(!la(en)||ac(en))&&(Un=rf(fn))):Jn=!1}Jn&&(Ot.set(fn,Un),Ze(Un,fn,Ee,Ct,Ot),Ot.delete(fn)),Hs(d,ee,Un)}}(d,A,Ot,ee,Ie,Ee,Ze);else{var en=Ee?Ee(e6(d,Ot),Ct,Ot+"",d,A,Ze):$t;en===$t&&(en=Ct),Hs(d,Ot,en)}},o1)}function Fe(d,A){var ee=d.length;if(ee)return Y2(A+=A<0?ee:0,ee)?d[A]:$t}function et(d,A,ee){A=A.length?ki(A,function(Ct){return ii(Ct)?function(Ot){return Qo(Ot,1===Ct.length?Ct[0]:Ct)}:Ct}):[Zs];var Ee=-1;return A=ki(A,Yi(Fr())),function X3(on,En){var Dn=on.length;for(on.sort(En);Dn--;)on[Dn]=on[Dn].value;return on}(re(d,function(Ct,Ot,en){return{criteria:ki(A,function(On){return On(Ct)}),index:++Ee,value:Ct}}),function(Ct,Ot){return function a1(d,A,ee){for(var Ee=-1,Ze=d.criteria,Ct=A.criteria,Ot=Ze.length,en=ee.length;++Ee<Ot;){var fn=W1(Ze[Ee],Ct[Ee]);if(fn)return Ee>=en?fn:fn*("desc"==ee[Ee]?-1:1)}return d.index-A.index}(Ct,Ot,ee)})}function Mt(d,A,ee){for(var Ee=-1,Ze=A.length,Ct={};++Ee<Ze;){var Ot=A[Ee],en=Qo(d,Ot);ee(en,Ot)&&Hn(Ct,Bn(Ot,d),en)}return Ct}function Gt(d,A,ee,Ee){var Ze=Ee?Mc:Ts,Ct=-1,Ot=A.length,en=d;for(d===A&&(A=Ca(A)),ee&&(en=ki(d,Yi(ee)));++Ct<Ot;)for(var fn=0,On=A[Ct],Un=ee?ee(On):On;(fn=Ze(en,Un,fn,Ee))>-1;)en!==d&&fo.call(en,fn,1),fo.call(d,fn,1);return d}function It(d,A){for(var ee=d?A.length:0,Ee=ee-1;ee--;){var Ze=A[ee];if(ee==Ee||Ze!==Ct){var Ct=Ze;Y2(Ze)?fo.call(d,Ze,1):Kn(d,Ze)}}return d}function vt(d,A){return d+P2(R2()*(A-d+1))}function Ft(d,A){var ee="";if(!d||A<1||A>W)return ee;do{A%2&&(ee+=d),(A=P2(A/2))&&(d+=d)}while(A);return ee}function Pt(d,A){return sf(q0(d,A,Zs),d+"")}function qt(d){return aa(Al(d))}function Wt(d,A){var ee=Al(d);return xo(ee,Xo(A,0,ee.length))}function Hn(d,A,ee,Ee){if(!la(d))return d;for(var Ze=-1,Ct=(A=Bn(A,d)).length,Ot=Ct-1,en=d;null!=en&&++Ze<Ct;){var fn=M1(A[Ze]),On=ee;if("__proto__"===fn||"constructor"===fn||"prototype"===fn)return d;if(Ze!=Ot){var Un=en[fn];(On=Ee?Ee(Un,fn,en):$t)===$t&&(On=la(Un)?Un:Y2(A[Ze+1])?[]:{})}y1(en,fn,On),en=en[fn]}return d}var Qn=or?function(d,A){return or.set(d,A),d}:Zs,ir=n3?function(d,A){return n3(d,"toString",{configurable:!0,enumerable:!1,value:D6(A),writable:!0})}:Zs;function jn(d){return xo(Al(d))}function ar(d,A,ee){var Ee=-1,Ze=d.length;A<0&&(A=-A>Ze?0:Ze+A),(ee=ee>Ze?Ze:ee)<0&&(ee+=Ze),Ze=A>ee?0:ee-A>>>0,A>>>=0;for(var Ct=Dn(Ze);++Ee<Ze;)Ct[Ee]=d[Ee+A];return Ct}function lr(d,A){var ee;return yo(d,function(Ee,Ze,Ct){return!(ee=A(Ee,Ze,Ct))}),!!ee}function Lr(d,A,ee){var Ee=0,Ze=null==d?Ee:d.length;if("number"==typeof A&&A==A&&Ze<=2147483647){for(;Ee<Ze;){var Ct=Ee+Ze>>>1,Ot=d[Ct];null!==Ot&&!w2(Ot)&&(ee?Ot<=A:Ot<A)?Ee=Ct+1:Ze=Ct}return Ze}return cr(d,A,Zs,ee)}function cr(d,A,ee,Ee){var Ze=0,Ct=null==d?0:d.length;if(0===Ct)return 0;for(var Ot=(A=ee(A))!=A,en=null===A,fn=w2(A),On=A===$t;Ze<Ct;){var Un=P2((Ze+Ct)/2),Jn=ee(d[Un]),mr=Jn!==$t,_r=null===Jn,Ur=Jn==Jn,gi=w2(Jn);if(Ot)var Rr=Ee||Ur;else Rr=On?Ur&&(Ee||mr):en?Ur&&mr&&(Ee||!_r):fn?Ur&&mr&&!_r&&(Ee||!gi):!_r&&!gi&&(Ee?Jn<=A:Jn<A);Rr?Ze=Un+1:Ct=Un}return ms(Ct,4294967294)}function wr(d,A){for(var ee=-1,Ee=d.length,Ze=0,Ct=[];++ee<Ee;){var Ot=d[ee],en=A?A(Ot):Ot;if(!ee||!Z2(en,fn)){var fn=en;Ct[Ze++]=0===Ot?0:Ot}}return Ct}function li(d){return"number"==typeof d?d:w2(d)?NaN:+d}function _i(d){if("string"==typeof d)return d;if(ii(d))return ki(d,_i)+"";if(w2(d))return E0?E0.call(d):"";var A=d+"";return"0"==A&&1/d==-J?"-0":A}function ui(d,A,ee){var Ee=-1,Ze=ta,Ct=d.length,Ot=!0,en=[],fn=en;if(ee)Ot=!1,Ze=Oo;else if(Ct>=200){var On=A?null:x4(d);if(On)return wc(On);Ot=!1,Ze=Uo,fn=new Yo}else fn=A?[]:en;e:for(;++Ee<Ct;){var Un=d[Ee],Jn=A?A(Un):Un;if(Un=ee||0!==Un?Un:0,Ot&&Jn==Jn){for(var mr=fn.length;mr--;)if(fn[mr]===Jn)continue e;A&&fn.push(Jn),en.push(Un)}else Ze(fn,Jn,ee)||(fn!==en&&fn.push(Jn),en.push(Un))}return en}function Kn(d,A){return null==(d=xh(d,A=Bn(A,d)))||delete d[M1(x1(A))]}function zr(d,A,ee,Ee){return Hn(d,A,ee(Qo(d,A)),Ee)}function Tr(d,A,ee,Ee){for(var Ze=d.length,Ct=Ee?Ze:-1;(Ee?Ct--:++Ct<Ze)&&A(d[Ct],Ct,d););return ee?ar(d,Ee?0:Ct,Ee?Ct+1:Ze):ar(d,Ee?Ct+1:0,Ee?Ze:Ct)}function mi(d,A){var ee=d;return ee instanceof Wr&&(ee=ee.value()),oo(A,function(Ee,Ze){return Ze.func.apply(Ze.thisArg,ps([Ee],Ze.args))},ee)}function Ti(d,A,ee){var Ee=d.length;if(Ee<2)return Ee?ui(d[0]):[];for(var Ze=-1,Ct=Dn(Ee);++Ze<Ee;)for(var Ot=d[Ze],en=-1;++en<Ee;)en!=Ze&&(Ct[Ze]=kc(Ct[Ze]||Ot,d[en],A,ee));return ui($a(Ct,1),A,ee)}function Aa(d,A,ee){for(var Ee=-1,Ze=d.length,Ct=A.length,Ot={};++Ee<Ze;)ee(Ot,d[Ee],Ee<Ct?A[Ee]:$t);return Ot}function pn(d){return cs(d)?d:[]}function Qa(d){return"function"==typeof d?d:Zs}function Bn(d,A){return ii(d)?d:T4(d,A)?[d]:n6(Oi(d))}var Ja=Pt;function ba(d,A,ee){var Ee=d.length;return ee=ee===$t?Ee:ee,!A&&ee>=Ee?d:ar(d,A,ee)}var Ha=z0||function(d){return wi.clearTimeout(d)};function Bs(d,A){if(A)return d.slice();var ee=d.length,Ee=Tc?Tc(ee):new d.constructor(ee);return d.copy(Ee),Ee}function W2(d){var A=new d.constructor(d.byteLength);return new e3(A).set(new e3(d)),A}function Ls(d,A){var ee=A?W2(d.buffer):d.buffer;return new d.constructor(ee,d.byteOffset,d.length)}function W1(d,A){if(d!==A){var ee=d!==$t,Ee=null===d,Ze=d==d,Ct=w2(d),Ot=A!==$t,en=null===A,fn=A==A,On=w2(A);if(!en&&!On&&!Ct&&d>A||Ct&&Ot&&fn&&!en&&!On||Ee&&Ot&&fn||!ee&&fn||!Ze)return 1;if(!Ee&&!Ct&&!On&&d<A||On&&ee&&Ze&&!Ee&&!Ct||en&&ee&&Ze||!Ot&&Ze||!fn)return-1}return 0}function j2(d,A,ee,Ee){for(var Ze=-1,Ct=d.length,Ot=ee.length,en=-1,fn=A.length,On=Ga(Ct-Ot,0),Un=Dn(fn+On),Jn=!Ee;++en<fn;)Un[en]=A[en];for(;++Ze<Ot;)(Jn||Ze<Ct)&&(Un[ee[Ze]]=d[Ze]);for(;On--;)Un[en++]=d[Ze++];return Un}function b1(d,A,ee,Ee){for(var Ze=-1,Ct=d.length,Ot=-1,en=ee.length,fn=-1,On=A.length,Un=Ga(Ct-en,0),Jn=Dn(Un+On),mr=!Ee;++Ze<Un;)Jn[Ze]=d[Ze];for(var _r=Ze;++fn<On;)Jn[_r+fn]=A[fn];for(;++Ot<en;)(mr||Ze<Ct)&&(Jn[_r+ee[Ot]]=d[Ze++]);return Jn}function Ca(d,A){var ee=-1,Ee=d.length;for(A||(A=Dn(Ee));++ee<Ee;)A[ee]=d[ee];return A}function Us(d,A,ee,Ee){var Ze=!ee;ee||(ee={});for(var Ct=-1,Ot=A.length;++Ct<Ot;){var en=A[Ct],fn=Ee?Ee(ee[en],d[en],en,ee,d):$t;fn===$t&&(fn=d[en]),Ze?go(ee,en,fn):y1(ee,en,fn)}return ee}function qo(d,A){return function(ee,Ee){var Ze=ii(ee)?Hi:gl,Ct=A?A():{};return Ze(ee,d,Fr(Ee,2),Ct)}}function Pc(d){return Pt(function(A,ee){var Ee=-1,Ze=ee.length,Ct=Ze>1?ee[Ze-1]:$t,Ot=Ze>2?ee[2]:$t;for(Ct=d.length>3&&"function"==typeof Ct?(Ze--,Ct):$t,Ot&&C1(ee[0],ee[1],Ot)&&(Ct=Ze<3?$t:Ct,Ze=1),A=Zi(A);++Ee<Ze;){var en=ee[Ee];en&&d(A,en,Ee,Ct)}return A})}function B0(d,A){return function(ee,Ee){if(null==ee)return ee;if(!w1(ee))return d(ee,Ee);for(var Ze=ee.length,Ct=A?Ze:-1,Ot=Zi(ee);(A?Ct--:++Ct<Ze)&&!1!==Ee(Ot[Ct],Ct,Ot););return ee}}function b4(d){return function(A,ee,Ee){for(var Ze=-1,Ct=Zi(A),Ot=Ee(A),en=Ot.length;en--;){var fn=Ot[d?en:++Ze];if(!1===ee(Ct[fn],fn,Ct))break}return A}}function U0(d){return function(A){var ee=N2(A=Oi(A))?E1(A):$t,Ee=ee?ee[0]:A.charAt(0),Ze=ee?ba(ee,1).join(""):A.slice(1);return Ee[d]()+Ze}}function Co(d){return function(A){return oo(D5(a9(A).replace(Di,"")),d,"")}}function C4(d){return function(){var A=arguments;switch(A.length){case 0:return new d;case 1:return new d(A[0]);case 2:return new d(A[0],A[1]);case 3:return new d(A[0],A[1],A[2]);case 4:return new d(A[0],A[1],A[2],A[3]);case 5:return new d(A[0],A[1],A[2],A[3],A[4]);case 6:return new d(A[0],A[1],A[2],A[3],A[4],A[5]);case 7:return new d(A[0],A[1],A[2],A[3],A[4],A[5],A[6])}var ee=Na(d.prototype),Ee=d.apply(ee,A);return la(Ee)?Ee:ee}}function dh(d){return function(A,ee,Ee){var Ze=Zi(A);if(!w1(A)){var Ct=Fr(ee,3);A=Ys(A),ee=function(en){return Ct(Ze[en],en,Ze)}}var Ot=d(A,ee,Ee);return Ot>-1?Ze[Ct?A[Ot]:Ot]:$t}}function hh(d){return P1(function(A){var ee=A.length,Ee=ee,Ze=Fs.prototype.thru;for(d&&A.reverse();Ee--;){var Ct=A[Ee];if("function"!=typeof Ct)throw new m1(p);if(Ze&&!Ot&&"wrapper"==tc(Ct))var Ot=new Fs([],!0)}for(Ee=Ot?Ee:ee;++Ee<ee;){var en=tc(Ct=A[Ee]),fn="wrapper"==en?w4(Ct):$t;Ot=fn&&Q0(fn[0])&&424==fn[1]&&!fn[4].length&&1==fn[9]?Ot[tc(fn[0])].apply(Ot,fn[3]):1==Ct.length&&Q0(Ct)?Ot[en]():Ot.thru(Ct)}return function(){var On=arguments,Un=On[0];if(Ot&&1==On.length&&ii(Un))return Ot.plant(Un).value();for(var Jn=0,mr=ee?A[Jn].apply(this,On):Un;++Jn<ee;)mr=A[Jn].call(this,mr);return mr}})}function g3(d,A,ee,Ee,Ze,Ct,Ot,en,fn,On){var Un=A&x,Jn=1&A,mr=2&A,_r=24&A,Ur=512&A,gi=mr?$t:C4(d);return function Rr(){for(var Si=arguments.length,Ai=Dn(Si),Z1=Si;Z1--;)Ai[Z1]=arguments[Z1];if(_r)var _1=_4(Rr),X1=function Go(on,En){for(var Dn=on.length,yr=0;Dn--;)on[Dn]===En&&++yr;return yr}(Ai,_1);if(Ee&&(Ai=j2(Ai,Ee,Ze,_r)),Ct&&(Ai=b1(Ai,Ct,Ot,_r)),Si-=X1,_r&&Si<On){var $i=ga(Ai,_1);return Xv(d,A,g3,Rr.placeholder,ee,Ai,$i,en,fn,On-Si)}var K1=Jn?ee:this,oc=mr?K1[d]:d;return Si=Ai.length,en?Ai=function qv(d,A){for(var ee=d.length,Ee=ms(A.length,ee),Ze=Ca(d);Ee--;){var Ct=A[Ee];d[Ee]=Y2(Ct,ee)?Ze[Ct]:$t}return d}(Ai,en):Ur&&Si>1&&Ai.reverse(),Un&&fn<Si&&(Ai.length=fn),this&&this!==wi&&this instanceof Rr&&(oc=gi||C4(oc)),oc.apply(K1,Ai)}}function qu(d,A){return function(ee,Ee){return function G2(d,A,ee,Ee){return m2(d,function(Ze,Ct,Ot){A(Ee,ee(Ze),Ct,Ot)}),Ee}(ee,d,A(Ee),{})}}function G0(d,A){return function(ee,Ee){var Ze;if(ee===$t&&Ee===$t)return A;if(ee!==$t&&(Ze=ee),Ee!==$t){if(Ze===$t)return Ee;"string"==typeof ee||"string"==typeof Ee?(ee=_i(ee),Ee=_i(Ee)):(ee=li(ee),Ee=li(Ee)),Ze=d(ee,Ee)}return Ze}}function ef(d){return P1(function(A){return A=ki(A,Yi(Fr())),Pt(function(ee){var Ee=this;return d(A,function(Ze){return nr(Ze,Ee,ee)})})})}function ec(d,A){var ee=(A=A===$t?" ":_i(A)).length;if(ee<2)return ee?Ft(A,d):A;var Ee=Ft(A,po(d/lo(A)));return N2(A)?ba(E1(Ee),0,d).join(""):Ee.slice(0,d)}function $0(d){return function(A,ee,Ee){return Ee&&"number"!=typeof Ee&&C1(A,ee,Ee)&&(ee=Ee=$t),A=sc(A),ee===$t?(ee=A,A=0):ee=sc(ee),function Vt(d,A,ee,Ee){for(var Ze=-1,Ct=Ga(po((A-d)/(ee||1)),0),Ot=Dn(Ct);Ct--;)Ot[Ee?Ct:++Ze]=d,d+=ee;return Ot}(A,ee,Ee=Ee===$t?A<ee?1:-1:sc(Ee),d)}}function M4(d){return function(A,ee){return"string"==typeof A&&"string"==typeof ee||(A=_2(A),ee=_2(ee)),d(A,ee)}}function Xv(d,A,ee,Ee,Ze,Ct,Ot,en,fn,On){var Un=8&A;A|=Un?S:64,4&(A&=~(Un?64:S))||(A&=-4);var gi=[d,A,Ze,Un?Ct:$t,Un?Ot:$t,Un?$t:Ct,Un?$t:Ot,en,fn,On],Rr=ee.apply($t,gi);return Q0(d)&&_l(Rr,gi),Rr.placeholder=Ee,wh(Rr,d,A)}function vh(d){var A=ss[d];return function(ee,Ee){if(ee=_2(ee),(Ee=null==Ee?0:ms(pi(Ee),292))&&Pr(ee)){var Ze=(Oi(ee)+"e").split("e");return+((Ze=(Oi(A(Ze[0]+"e"+(+Ze[1]+Ee)))+"e").split("e"))[0]+"e"+(+Ze[1]-Ee))}return A(ee)}}var x4=Ac&&1/wc(new Ac([,-0]))[1]==J?function(d){return new Ac(d)}:jf;function mh(d){return function(A){var ee=Gs(A);return ee==Le?ul(A):ee==O?function $o(on){var En=-1,Dn=Array(on.size);return on.forEach(function(yr){Dn[++En]=[yr,yr]}),Dn}(A):function Bo(on,En){return ki(En,function(Dn){return[Dn,on[Dn]]})}(A,d(A))}}function C2(d,A,ee,Ee,Ze,Ct,Ot,en){var fn=2&A;if(!fn&&"function"!=typeof d)throw new m1(p);var On=Ee?Ee.length:0;if(On||(A&=-97,Ee=Ze=$t),Ot=Ot===$t?Ot:Ga(pi(Ot),0),en=en===$t?en:pi(en),On-=Ze?Ze.length:0,64&A){var Un=Ee,Jn=Ze;Ee=Ze=$t}var mr=fn?$t:w4(d),_r=[d,A,ee,Ee,Ze,Un,Jn,Ct,Ot,en];if(mr&&function J0(d,A){var ee=d[1],Ee=A[1],Ze=ee|Ee;if(!(Ze<131)&&!(Ee==x&&8==ee||Ee==x&&256==ee&&d[7].length<=A[8]||384==Ee&&A[7].length<=A[8]&&8==ee))return d;1&Ee&&(d[2]=A[2],Ze|=1&ee?0:4);var en=A[3];if(en){var fn=d[3];d[3]=fn?j2(fn,en,A[4]):en,d[4]=fn?ga(d[3],f):A[4]}(en=A[5])&&(d[5]=(fn=d[5])?b1(fn,en,A[6]):en,d[6]=fn?ga(d[5],f):A[6]),(en=A[7])&&(d[7]=en),Ee&x&&(d[8]=null==d[8]?A[8]:ms(d[8],A[8])),null==d[9]&&(d[9]=A[9]),d[0]=A[0],d[1]=Ze}(_r,mr),d=_r[0],A=_r[1],ee=_r[2],Ee=_r[3],Ze=_r[4],!(en=_r[9]=_r[9]===$t?fn?0:d.length:Ga(_r[9]-On,0))&&24&A&&(A&=-25),A&&1!=A)Ur=8==A||16==A?function fh(d,A,ee){var Ee=C4(d);return function Ze(){for(var Ct=arguments.length,Ot=Dn(Ct),en=Ct,fn=_4(Ze);en--;)Ot[en]=arguments[en];var On=Ct<3&&Ot[0]!==fn&&Ot[Ct-1]!==fn?[]:ga(Ot,fn);return(Ct-=On.length)<ee?Xv(d,A,g3,Ze.placeholder,$t,Ot,On,$t,$t,ee-Ct):nr(this&&this!==wi&&this instanceof Ze?Ee:d,this,Ot)}}(d,A,en):A!=S&&33!=A||Ze.length?g3.apply($t,_r):function ph(d,A,ee,Ee){var Ze=1&A,Ct=C4(d);return function Ot(){for(var en=-1,fn=arguments.length,On=-1,Un=Ee.length,Jn=Dn(Un+fn),mr=this&&this!==wi&&this instanceof Ot?Ct:d;++On<Un;)Jn[On]=Ee[On];for(;fn--;)Jn[On++]=arguments[++en];return nr(mr,Ze?ee:this,Jn)}}(d,A,ee,Ee);else var Ur=function xx(d,A,ee){var Ee=1&A,Ze=C4(d);return function Ct(){return(this&&this!==wi&&this instanceof Ct?Ze:d).apply(Ee?ee:this,arguments)}}(d,A,ee);return wh((mr?Qn:_l)(Ur,_r),d,A)}function W0(d,A,ee,Ee){return d===$t||Z2(d,_c[ee])&&!Pi.call(Ee,ee)?A:d}function gh(d,A,ee,Ee,Ze,Ct){return la(d)&&la(A)&&(Ct.set(A,d),Ie(d,A,$t,gh,Ct),Ct.delete(A)),d}function yh(d){return F4(d)?$t:d}function j0(d,A,ee,Ee,Ze,Ct){var Ot=1&ee,en=d.length,fn=A.length;if(en!=fn&&!(Ot&&fn>en))return!1;var On=Ct.get(d),Un=Ct.get(A);if(On&&Un)return On==A&&Un==d;var Jn=-1,mr=!0,_r=2&ee?new Yo:$t;for(Ct.set(d,A),Ct.set(A,d);++Jn<en;){var Ur=d[Jn],gi=A[Jn];if(Ee)var Rr=Ot?Ee(gi,Ur,Jn,A,d,Ct):Ee(Ur,gi,Jn,d,A,Ct);if(Rr!==$t){if(Rr)continue;mr=!1;break}if(_r){if(!Ni(A,function(Si,Ai){if(!Uo(_r,Ai)&&(Ur===Si||Ze(Ur,Si,ee,Ee,Ct)))return _r.push(Ai)})){mr=!1;break}}else if(Ur!==gi&&!Ze(Ur,gi,ee,Ee,Ct)){mr=!1;break}}return Ct.delete(d),Ct.delete(A),mr}function P1(d){return sf(q0(d,$t,$s),d+"")}function Rc(d){return Fi(d,Ys,nc)}function Z0(d){return Fi(d,o1,Fc)}var w4=or?function(d){return or.get(d)}:jf;function tc(d){for(var A=d.name+"",ee=sr[A],Ee=Pi.call(sr,A)?ee.length:0;Ee--;){var Ze=ee[Ee],Ct=Ze.func;if(null==Ct||Ct==d)return Ze.name}return A}function _4(d){return(Pi.call(ft,"placeholder")?ft:d).placeholder}function Fr(){var d=ft.iteratee||Ll;return d=d===Ll?F0:d,arguments.length?d(arguments[0],arguments[1]):d}function Ml(d,A){var ee=d.__data__;return function Ch(d){var A=typeof d;return"string"==A||"number"==A||"symbol"==A||"boolean"==A?"__proto__"!==d:null===d}(A)?ee["string"==typeof A?"string":"hash"]:ee.map}function tf(d){for(var A=Ys(d),ee=A.length;ee--;){var Ee=A[ee],Ze=d[Ee];A[ee]=[Ee,Ze,D4(Ze)]}return A}function Mo(d,A){var ee=function d2(on,En){return null==on?$t:on[En]}(d,A);return m3(ee)?ee:$t}var nc=Dc?function(d){return null==d?[]:(d=Zi(d),Ta(Dc(d),function(A){return L0.call(d,A)}))}:L6,Fc=Dc?function(d){for(var A=[];d;)ps(A,nc(d)),d=I2(d);return A}:L6,Gs=Ka;function S4(d,A,ee){for(var Ee=-1,Ze=(A=Bn(A,d)).length,Ct=!1;++Ee<Ze;){var Ot=M1(A[Ee]);if(!(Ct=null!=d&&ee(d,Ot)))break;d=d[Ot]}return Ct||++Ee!=Ze?Ct:!!(Ze=null==d?0:d.length)&&P4(Ze)&&Y2(Ot,Ze)&&(ii(d)||X2(d))}function rf(d){return"function"!=typeof d.constructor||wl(d)?{}:Na(I2(d))}function wx(d){return ii(d)||X2(d)||!!(t3&&d&&d[t3])}function Y2(d,A){var ee=typeof d;return!!(A=A??W)&&("number"==ee||"symbol"!=ee&&Gn.test(d))&&d>-1&&d%1==0&&d<A}function C1(d,A,ee){if(!la(ee))return!1;var Ee=typeof A;return!!("number"==Ee?w1(ee)&&Y2(A,ee.length):"string"==Ee&&A in ee)&&Z2(ee[A],d)}function T4(d,A){if(ii(d))return!1;var ee=typeof d;return!("number"!=ee&&"symbol"!=ee&&"boolean"!=ee&&null!=d&&!w2(d))||St.test(d)||!Ke.test(d)||null!=A&&d in Zi(A)}function Q0(d){var A=tc(d),ee=ft[A];if("function"!=typeof ee||!(A in Wr.prototype))return!1;if(d===ee)return!0;var Ee=w4(ee);return!!Ee&&d===Ee[0]}(i4&&Gs(new i4(new ArrayBuffer(1)))!=Te||hl&&Gs(new hl)!=Le||a4&&Gs(a4.resolve())!=j||Ac&&Gs(new Ac)!=O||Ln&&Gs(new Ln)!=Ne)&&(Gs=function(d){var A=Ka(d),ee=A==X?d.constructor:$t,Ee=ee?Sl(ee):"";if(Ee)switch(Ee){case Li:return Te;case pl:return Le;case vl:return j;case N1:return O;case a3:return Ne}return A});var Jv=e4?ac:Dt;function wl(d){var A=d&&d.constructor;return d===("function"==typeof A&&A.prototype||_c)}function D4(d){return d==d&&!la(d)}function Mh(d,A){return function(ee){return null!=ee&&ee[d]===A&&(A!==$t||d in Zi(ee))}}function q0(d,A,ee){return A=Ga(A===$t?d.length-1:A,0),function(){for(var Ee=arguments,Ze=-1,Ct=Ga(Ee.length-A,0),Ot=Dn(Ct);++Ze<Ct;)Ot[Ze]=Ee[A+Ze];Ze=-1;for(var en=Dn(A+1);++Ze<A;)en[Ze]=Ee[Ze];return en[A]=ee(Ot),nr(d,this,en)}}function xh(d,A){return A.length<2?d:Qo(d,ar(A,0,-1))}function e6(d,A){if(("constructor"!==A||"function"!=typeof d[A])&&"__proto__"!=A)return d[A]}var _l=t6(Qn),A4=r4||function(d,A){return wi.setTimeout(d,A)},sf=t6(ir);function wh(d,A,ee){var Ee=A+"";return sf(d,function K0(d,A){var ee=A.length;if(!ee)return d;var Ee=ee-1;return A[Ee]=(ee>1?"& ":"")+A[Ee],A=A.join(ee>2?", ":" "),d.replace($e,"{\n/* [wrapped with "+A+"] */\n")}(Ee,function em(d,A){return Nr(q,function(ee){var Ee="_."+ee[0];A&ee[1]&&!ta(d,Ee)&&d.push(Ee)}),d.sort()}(function X0(d){var A=d.match(je);return A?A[1].split(Ye):[]}(Ee),ee)))}function t6(d){var A=0,ee=0;return function(){var Ee=V0(),Ze=16-(Ee-ee);if(ee=Ee,Ze>0){if(++A>=800)return arguments[0]}else A=0;return d.apply($t,arguments)}}function xo(d,A){var ee=-1,Ee=d.length,Ze=Ee-1;for(A=A===$t?Ee:A;++ee<A;){var Ct=vt(ee,Ze),Ot=d[Ct];d[Ct]=d[ee],d[ee]=Ot}return d.length=A,d}var n6=function af(d){var A=So(d,function(Ee){return 500===ee.size&&ee.clear(),Ee}),ee=A.cache;return A}(function(d){var A=[];return 46===d.charCodeAt(0)&&A.push(""),d.replace(dt,function(ee,Ee,Ze,Ct){A.push(Ze?Ct.replace(tt,"$1"):Ee||ee)}),A});function M1(d){if("string"==typeof d||w2(d))return d;var A=d+"";return"0"==A&&1/d==-J?"-0":A}function Sl(d){if(null!=d){try{return t4.call(d)}catch{}try{return d+""}catch{}}return""}function os(d){if(d instanceof Wr)return d.clone();var A=new Fs(d.__wrapped__,d.__chain__);return A.__actions__=Ca(d.__actions__),A.__index__=d.__index__,A.__values__=d.__values__,A}var nm=Pt(function(d,A){return cs(d)?kc(d,$a(A,1,cs,!0)):[]}),rm=Pt(function(d,A){var ee=x1(A);return cs(ee)&&(ee=$t),cs(d)?kc(d,$a(A,1,cs,!0),Fr(ee,2)):[]}),im=Pt(function(d,A){var ee=x1(A);return cs(ee)&&(ee=$t),cs(d)?kc(d,$a(A,1,cs,!0),$t,ee):[]});function Sh(d,A,ee){var Ee=null==d?0:d.length;if(!Ee)return-1;var Ze=null==ee?0:pi(ee);return Ze<0&&(Ze=Ga(Ee+Ze,0)),Da(d,Fr(A,3),Ze)}function lf(d,A,ee){var Ee=null==d?0:d.length;if(!Ee)return-1;var Ze=Ee-1;return ee!==$t&&(Ze=pi(ee),Ze=ee<0?Ga(Ee+Ze,0):ms(Ze,Ee-1)),Da(d,Fr(A,3),Ze,!0)}function $s(d){return null!=d&&d.length?$a(d,1):[]}function uf(d){return d&&d.length?d[0]:$t}var ff=Pt(function(d){var A=ki(d,pn);return A.length&&A[0]===d[0]?Jo(A):[]}),fm=Pt(function(d){var A=x1(d),ee=ki(d,pn);return A===x1(ee)?A=$t:ee.pop(),ee.length&&ee[0]===d[0]?Jo(ee,Fr(A,2)):[]}),wo=Pt(function(d){var A=x1(d),ee=ki(d,pn);return(A="function"==typeof A?A:$t)&&ee.pop(),ee.length&&ee[0]===d[0]?Jo(ee,$t,A):[]});function x1(d){var A=null==d?0:d.length;return A?d[A-1]:$t}var df=Pt(hf);function hf(d,A){return d&&d.length&&A&&A.length?Gt(d,A):d}var C3=P1(function(d,A){var ee=null==d?0:d.length,Ee=Os(d,A);return It(d,ki(A,function(Ze){return Y2(Ze,ee)?+Ze:Ze}).sort(W1)),Ee});function pf(d){return null==d?d:Yu.call(d)}var Lh=Pt(function(d){return ui($a(d,1,cs,!0))}),ym=Pt(function(d){var A=x1(d);return cs(A)&&(A=$t),ui($a(d,1,cs,!0),Fr(A,2))}),_o=Pt(function(d){var A=x1(d);return A="function"==typeof A?A:$t,ui($a(d,1,cs,!0),$t,A)});function c6(d){if(!d||!d.length)return[];var A=0;return d=Ta(d,function(ee){if(cs(ee))return A=Ga(ee.length,A),!0}),na(A,function(ee){return ki(d,Rs(ee))})}function V4(d,A){if(!d||!d.length)return[];var ee=c6(d);return null==A?ee:ki(ee,function(Ee){return nr(A,$t,Ee)})}var bf=Pt(function(d,A){return cs(d)?kc(d,A):[]}),Cm=Pt(function(d){return Ti(Ta(d,cs))}),zh=Pt(function(d){var A=x1(d);return cs(A)&&(A=$t),Ti(Ta(d,cs),Fr(A,2))}),kh=Pt(function(d){var A=x1(d);return A="function"==typeof A?A:$t,Ti(Ta(d,cs),$t,A)}),Vh=Pt(c6),l6=Pt(function(d){var A=d.length,ee=A>1?d[A-1]:$t;return ee="function"==typeof ee?(d.pop(),ee):$t,V4(d,ee)});function Oc(d){var A=ft(d);return A.__chain__=!0,A}function E4(d,A){return A(d)}var Nh=P1(function(d){var A=d.length,ee=A?d[0]:0,Ee=this.__wrapped__,Ze=function(Ct){return Os(Ct,d)};return!(A>1||this.__actions__.length)&&Ee instanceof Wr&&Y2(ee)?((Ee=Ee.slice(ee,+ee+(A?1:0))).__actions__.push({func:E4,args:[Ze],thisArg:$t}),new Fs(Ee,this.__chain__).thru(function(Ct){return A&&!Ct.length&&Ct.push($t),Ct})):this.thru(Ze)}),Ih=qo(function(d,A,ee){Pi.call(d,ee)?++d[ee]:go(d,ee,1)}),Ph=dh(Sh),Mf=dh(lf);function Fh(d,A){return(ii(d)?Nr:yo)(d,Fr(A,3))}function Oh(d,A){return(ii(d)?_a:d3)(d,Fr(A,3))}var Bh=qo(function(d,A,ee){Pi.call(d,ee)?d[ee].push(A):go(d,ee,[A])}),Uh=Pt(function(d,A,ee){var Ee=-1,Ze="function"==typeof A,Ct=w1(d)?Dn(d.length):[];return yo(d,function(Ot){Ct[++Ee]=Ze?nr(A,Ot,ee):$2(Ot,A,ee)}),Ct}),Am=qo(function(d,A,ee){go(d,ee,A)});function d6(d,A){return(ii(d)?ki:re)(d,Fr(A,3))}var Gh=qo(function(d,A,ee){d[ee?0:1].push(A)},function(){return[[],[]]}),Yh=Pt(function(d,A){if(null==d)return[];var ee=A.length;return ee>1&&C1(d,A[0],A[1])?A=[]:ee>2&&C1(A[0],A[1],A[2])&&(A=[A[0]]),et(d,$a(A,1),[])}),N4=r3||function(){return wi.Date.now()};function v6(d,A,ee){return A=ee?$t:A,C2(d,x,$t,$t,$t,$t,A=d&&null==A?d.length:A)}function Tl(d,A){var ee;if("function"!=typeof A)throw new m1(p);return d=pi(d),function(){return--d>0&&(ee=A.apply(this,arguments)),d<=1&&(A=$t),ee}}var wf=Pt(function(d,A,ee){var Ee=1;if(ee.length){var Ze=ga(ee,_4(wf));Ee|=S}return C2(d,Ee,A,ee,Ze)}),Zh=Pt(function(d,A,ee){var Ee=3;if(ee.length){var Ze=ga(ee,_4(Zh));Ee|=S}return C2(A,Ee,d,ee,Ze)});function m6(d,A,ee){var Ee,Ze,Ct,Ot,en,fn,On=0,Un=!1,Jn=!1,mr=!0;if("function"!=typeof d)throw new m1(p);function _r($i){var K1=Ee,oc=Ze;return Ee=Ze=$t,On=$i,Ot=d.apply(oc,K1)}function Rr($i){var K1=$i-fn;return fn===$t||K1>=A||K1<0||Jn&&$i-On>=Ct}function Si(){var $i=N4();if(Rr($i))return Ai($i);en=A4(Si,function gi($i){var O5=A-($i-fn);return Jn?ms(O5,Ct-($i-On)):O5}($i))}function Ai($i){return en=$t,mr&&Ee?_r($i):(Ee=Ze=$t,Ot)}function X1(){var $i=N4(),K1=Rr($i);if(Ee=arguments,Ze=this,fn=$i,K1){if(en===$t)return function Ur($i){return On=$i,en=A4(Si,A),Un?_r($i):Ot}(fn);if(Jn)return Ha(en),en=A4(Si,A),_r(fn)}return en===$t&&(en=A4(Si,A)),Ot}return A=_2(A)||0,la(ee)&&(Un=!!ee.leading,Ct=(Jn="maxWait"in ee)?Ga(_2(ee.maxWait)||0,A):Ct,mr="trailing"in ee?!!ee.trailing:mr),X1.cancel=function Z1(){en!==$t&&Ha(en),On=0,Ee=fn=Ze=en=$t},X1.flush=function _1(){return en===$t?Ot:Ai(N4())},X1}var Xh=Pt(function(d,A){return h4(d,1,A)}),Kh=Pt(function(d,A,ee){return h4(d,_2(A)||0,ee)});function So(d,A){if("function"!=typeof d||null!=A&&"function"!=typeof A)throw new m1(p);var ee=function(){var Ee=arguments,Ze=A?A.apply(this,Ee):Ee[0],Ct=ee.cache;if(Ct.has(Ze))return Ct.get(Ze);var Ot=d.apply(this,Ee);return ee.cache=Ct.set(Ze,Ot)||Ct,Ot};return ee.cache=new(So.Cache||p2),ee}function g6(d){if("function"!=typeof d)throw new m1(p);return function(){var A=arguments;switch(A.length){case 0:return!d.call(this);case 1:return!d.call(this,A[0]);case 2:return!d.call(this,A[0],A[1]);case 3:return!d.call(this,A[0],A[1],A[2])}return!d.apply(this,A)}}So.Cache=p2;var zm=Ja(function(d,A){var ee=(A=1==A.length&&ii(A[0])?ki(A[0],Yi(Fr())):ki($a(A,1),Yi(Fr()))).length;return Pt(function(Ee){for(var Ze=-1,Ct=ms(Ee.length,ee);++Ze<Ct;)Ee[Ze]=A[Ze].call(this,Ee[Ze]);return nr(d,this,Ee)})}),_f=Pt(function(d,A){var ee=ga(A,_4(_f));return C2(d,S,$t,A,ee)}),Jh=Pt(function(d,A){var ee=ga(A,_4(Jh));return C2(d,64,$t,A,ee)}),j1=P1(function(d,A){return C2(d,256,$t,$t,$t,A)});function Z2(d,A){return d===A||d!=d&&A!=A}var y6=M4(Ec),ic=M4(function(d,A){return d>=A}),X2=v3(function(){return arguments}())?v3:function(d){return Ia(d)&&Pi.call(d,"callee")&&!L0.call(d,"callee")},ii=Dn.isArray,e5=k2?Yi(k2):function hr(d){return Ia(d)&&Ka(d)==Be};function w1(d){return null!=d&&P4(d.length)&&!ac(d)}function cs(d){return Ia(d)&&w1(d)}var Dl=vo||Dt,Sf=ur?Yi(ur):function Nc(d){return Ia(d)&&Ka(d)==He};function Df(d){if(!Ia(d))return!1;var A=Ka(d);return A==Ue||"[object DOMException]"==A||"string"==typeof d.message&&"string"==typeof d.name&&!F4(d)}function ac(d){if(!la(d))return!1;var A=Ka(d);return A==Me||A==we||"[object AsyncFunction]"==A||"[object Proxy]"==A}function n5(d){return"number"==typeof d&&d==pi(d)}function P4(d){return"number"==typeof d&&d>-1&&d%1==0&&d<=W}function la(d){var A=typeof d;return null!=d&&("object"==A||"function"==A)}function Ia(d){return null!=d&&"object"==typeof d}var b6=hs?Yi(hs):function y2(d){return Ia(d)&&Gs(d)==Le};function s5(d){return"number"==typeof d||Ia(d)&&Ka(d)==B}function F4(d){if(!Ia(d)||Ka(d)!=X)return!1;var A=I2(d);if(null===A)return!0;var ee=Pi.call(A,"constructor")&&A.constructor;return"function"==typeof ee&&ee instanceof ee&&t4.call(ee)==ch}var Af=G1?Yi(G1):function g4(d){return Ia(d)&&Ka(d)==ae},Hf=Yr?Yi(Yr):function y4(d){return Ia(d)&&Gs(d)==O};function Lf(d){return"string"==typeof d||!ii(d)&&Ia(d)&&Ka(d)==ne}function w2(d){return"symbol"==typeof d||Ia(d)&&Ka(d)==be}var Do=Ri?Yi(Ri):function Qu(d){return Ia(d)&&P4(d.length)&&!!Sr[Ka(d)]},o5=M4(U),Zm=M4(function(d,A){return d<=A});function c5(d){if(!d)return[];if(w1(d))return Lf(d)?E1(d):Ca(d);if(t1&&d[t1])return function Ea(on){for(var En,Dn=[];!(En=on.next()).done;)Dn.push(En.value);return Dn}(d[t1]());var A=Gs(d);return(A==Le?ul:A==O?wc:Al)(d)}function sc(d){return d?(d=_2(d))===J||d===-J?17976931348623157e292*(d<0?-1:1):d==d?d:0:0===d?d:0}function pi(d){var A=sc(d),ee=A%1;return A==A?ee?A-ee:A:0}function C6(d){return d?Xo(pi(d),0,me):0}function _2(d){if("number"==typeof d)return d;if(w2(d))return NaN;if(la(d)){var A="function"==typeof d.valueOf?d.valueOf():d;d=la(A)?A+"":A}if("string"!=typeof d)return 0===d?d:+d;d=V2(d);var ee=hn.test(d);return ee||Rn.test(d)?rs(d.slice(2),ee?2:8):Et.test(d)?NaN:+d}function l5(d){return Us(d,o1(d))}function Oi(d){return null==d?"":_i(d)}var Km=Pc(function(d,A){if(wl(A)||w1(A))Us(A,Ys(A),d);else for(var ee in A)Pi.call(A,ee)&&y1(d,ee,A[ee])}),u5=Pc(function(d,A){Us(A,o1(A),d)}),js=Pc(function(d,A,ee,Ee){Us(A,o1(A),d,Ee)}),zf=Pc(function(d,A,ee,Ee){Us(A,Ys(A),d,Ee)}),f5=P1(Os),s1=Pt(function(d,A){d=Zi(d);var ee=-1,Ee=A.length,Ze=Ee>2?A[2]:$t;for(Ze&&C1(A[0],A[1],Ze)&&(Ee=1);++ee<Ee;)for(var Ct=A[ee],Ot=o1(Ct),en=-1,fn=Ot.length;++en<fn;){var On=Ot[en],Un=d[On];(Un===$t||Z2(Un,_c[On])&&!Pi.call(d,On))&&(d[On]=Ct[On])}return d}),O4=Pt(function(d){return d.push($t,gh),nr(n9,$t,d)});function Vf(d,A,ee){var Ee=null==d?$t:Qo(d,A);return Ee===$t?ee:Ee}function Ef(d,A){return null!=d&&S4(d,A,Cl)}var t9=qu(function(d,A,ee){null!=A&&"function"!=typeof A.toString&&(A=g1.call(A)),d[A]=ee},D6(Zs)),Nf=qu(function(d,A,ee){null!=A&&"function"!=typeof A.toString&&(A=g1.call(A)),Pi.call(d,A)?d[A].push(ee):d[A]=[ee]},Fr),kx=Pt($2);function Ys(d){return w1(d)?B2(d):u(d)}function o1(d){return w1(d)?B2(d,!0):function k(d){if(!la(d))return function M2(d){var A=[];if(null!=d)for(var ee in Zi(d))A.push(ee);return A}(d);var A=wl(d),ee=[];for(var Ee in d)"constructor"==Ee&&(A||!Pi.call(d,Ee))||ee.push(Ee);return ee}(d)}var Nx=Pc(function(d,A,ee){Ie(d,A,ee)}),n9=Pc(function(d,A,ee,Ee){Ie(d,A,ee,Ee)}),Ix=P1(function(d,A){var ee={};if(null==d)return ee;var Ee=!1;A=ki(A,function(Ct){return Ct=Bn(Ct,d),Ee||(Ee=Ct.length>1),Ct}),Us(d,Z0(d),ee),Ee&&(ee=sa(ee,7,yh));for(var Ze=A.length;Ze--;)Kn(ee,A[Ze]);return ee}),M6=P1(function(d,A){return null==d?{}:function nt(d,A){return Mt(d,A,function(ee,Ee){return Ef(d,Ee)})}(d,A)});function B4(d,A){if(null==d)return{};var ee=ki(Z0(d),function(Ee){return[Ee]});return A=Fr(A),Mt(d,ee,function(Ee,Ze){return A(Ee,Ze[0])})}var Pf=mh(Ys),b5=mh(o1);function Al(d){return null==d?[]:f2(d,Ys(d))}var M5=Co(function(d,A,ee){return A=A.toLowerCase(),d+(ee?Rf(A):A)});function Rf(d){return S6(Oi(d).toLowerCase())}function a9(d){return(d=Oi(d))&&d.replace(Yn,$r).replace(oa,"")}var s9=Co(function(d,A,ee){return d+(ee?"-":"")+A.toLowerCase()}),_3=Co(function(d,A,ee){return d+(ee?" ":"")+A.toLowerCase()}),x6=U0("toLowerCase"),l9=Co(function(d,A,ee){return d+(ee?"_":"")+A.toLowerCase()}),f9=Co(function(d,A,ee){return d+(ee?" ":"")+S6(A)}),T5=Co(function(d,A,ee){return d+(ee?" ":"")+A.toUpperCase()}),S6=U0("toUpperCase");function D5(d,A,ee){return d=Oi(d),(A=ee?$t:A)===$t?function xc(on){return hi.test(on)}(d)?function J3(on){return on.match(qi)||[]}(d):function ma(on){return on.match(at)||[]}(d):d.match(A)||[]}var p9=Pt(function(d,A){try{return nr(d,$t,A)}catch(ee){return Df(ee)?ee:new qr(ee)}}),T6=P1(function(d,A){return Nr(A,function(ee){ee=M1(ee),go(d,ee,wf(d[ee],d))}),d});function D6(d){return function(){return d}}var $f=hh(),L5=hh(!0);function Zs(d){return d}function Ll(d){return F0("function"==typeof d?d:sa(d,1))}var A6=Pt(function(d,A){return function(ee){return $2(ee,d,A)}}),k5=Pt(function(d,A){return function(ee){return $2(d,ee,A)}});function G4(d,A,ee){var Ee=Ys(A),Ze=In(A,Ee);null==ee&&(!la(A)||!Ze.length&&Ee.length)&&(ee=A,A=d,d=this,Ze=In(A,Ys(A)));var Ct=!(la(ee)&&"chain"in ee&&!ee.chain),Ot=ac(d);return Nr(Ze,function(en){var fn=A[en];d[en]=fn,Ot&&(d.prototype[en]=function(){var On=this.__chain__;if(Ct||On){var Un=d(this.__wrapped__);return(Un.__actions__=Ca(this.__actions__)).push({func:fn,args:arguments,thisArg:d}),Un.__chain__=On,Un}return fn.apply(d,ps([this.value()],arguments))})}),d}function jf(){}var m9=ef(ki),g9=ef(Sa),y9=ef(Ni);function Yf(d){return T4(d)?Rs(M1(d)):function xt(d){return function(A){return Qo(A,d)}}(d)}var ai=$0(),_e=$0(!0);function L6(){return[]}function Dt(){return!1}var $4=G0(function(d,A){return d+A},0),P5=vh("ceil"),Xf=G0(function(d,A){return d/A},1),Kf=vh("floor"),F5=G0(function(d,A){return d*A},1),w9=vh("round"),_9=G0(function(d,A){return d-A},0);return ft.after=function p6(d,A){if("function"!=typeof A)throw new m1(p);return d=pi(d),function(){if(--d<1)return A.apply(this,arguments)}},ft.ary=v6,ft.assign=Km,ft.assignIn=u5,ft.assignInWith=js,ft.assignWith=zf,ft.at=f5,ft.before=Tl,ft.bind=wf,ft.bindAll=T6,ft.bindKey=Zh,ft.castArray=function Im(){if(!arguments.length)return[];var d=arguments[0];return ii(d)?d:[d]},ft.chain=Oc,ft.chunk=function _h(d,A,ee){A=(ee?C1(d,A,ee):A===$t)?1:Ga(pi(A),0);var Ee=null==d?0:d.length;if(!Ee||A<1)return[];for(var Ze=0,Ct=0,Ot=Dn(po(Ee/A));Ze<Ee;)Ot[Ct++]=ar(d,Ze,Ze+=A);return Ot},ft.compact=function tm(d){for(var A=-1,ee=null==d?0:d.length,Ee=0,Ze=[];++A<ee;){var Ct=d[A];Ct&&(Ze[Ee++]=Ct)}return Ze},ft.concat=function H4(){var d=arguments.length;if(!d)return[];for(var A=Dn(d-1),ee=arguments[0],Ee=d;Ee--;)A[Ee-1]=arguments[Ee];return ps(ii(ee)?Ca(ee):[ee],$a(A,1))},ft.cond=function v9(d){var A=null==d?0:d.length,ee=Fr();return d=A?ki(d,function(Ee){if("function"!=typeof Ee[1])throw new m1(p);return[ee(Ee[0]),Ee[1]]}):[],Pt(function(Ee){for(var Ze=-1;++Ze<A;){var Ct=d[Ze];if(nr(Ct[0],this,Ee))return nr(Ct[1],this,Ee)}})},ft.conforms=function A5(d){return function v2(d){var A=Ys(d);return function(ee){return U2(ee,d,A)}}(sa(d,1))},ft.constant=D6,ft.countBy=Ih,ft.create=function kf(d,A){var ee=Na(d);return null==A?ee:yl(ee,A)},ft.curry=function Hm(d,A,ee){var Ee=C2(d,8,$t,$t,$t,$t,$t,A=ee?$t:A);return Ee.placeholder=Hm.placeholder,Ee},ft.curryRight=function I4(d,A,ee){var Ee=C2(d,16,$t,$t,$t,$t,$t,A=ee?$t:A);return Ee.placeholder=I4.placeholder,Ee},ft.debounce=m6,ft.defaults=s1,ft.defaultsDeep=O4,ft.defer=Xh,ft.delay=Kh,ft.difference=nm,ft.differenceBy=rm,ft.differenceWith=im,ft.drop=function am(d,A,ee){var Ee=null==d?0:d.length;return Ee?ar(d,(A=ee||A===$t?1:pi(A))<0?0:A,Ee):[]},ft.dropRight=function sm(d,A,ee){var Ee=null==d?0:d.length;return Ee?ar(d,0,(A=Ee-(A=ee||A===$t?1:pi(A)))<0?0:A):[]},ft.dropRightWhile=function om(d,A){return d&&d.length?Tr(d,Fr(A,3),!0,!0):[]},ft.dropWhile=function cf(d,A){return d&&d.length?Tr(d,Fr(A,3),!0):[]},ft.fill=function r6(d,A,ee,Ee){var Ze=null==d?0:d.length;return Ze?(ee&&"number"!=typeof ee&&C1(d,A,ee)&&(ee=0,Ee=Ze),function p4(d,A,ee,Ee){var Ze=d.length;for((ee=pi(ee))<0&&(ee=-ee>Ze?0:Ze+ee),(Ee=Ee===$t||Ee>Ze?Ze:pi(Ee))<0&&(Ee+=Ze),Ee=ee>Ee?0:C6(Ee);ee<Ee;)d[ee++]=A;return d}(d,A,ee,Ee)):[]},ft.filter=function Sm(d,A){return(ii(d)?Ta:h3)(d,Fr(A,3))},ft.flatMap=function f6(d,A){return $a(d6(d,A),1)},ft.flatMapDeep=function Rh(d,A){return $a(d6(d,A),J)},ft.flatMapDepth=function Tm(d,A,ee){return ee=ee===$t?1:pi(ee),$a(d6(d,A),ee)},ft.flatten=$s,ft.flattenDeep=function Th(d){return null!=d&&d.length?$a(d,J):[]},ft.flattenDepth=function cm(d,A){return null!=d&&d.length?$a(d,A=A===$t?1:pi(A)):[]},ft.flip=function Qh(d){return C2(d,512)},ft.flow=$f,ft.flowRight=L5,ft.fromPairs=function lm(d){for(var A=-1,ee=null==d?0:d.length,Ee={};++A<ee;){var Ze=d[A];Ee[Ze[0]]=Ze[1]}return Ee},ft.functions=function qm(d){return null==d?[]:In(d,Ys(d))},ft.functionsIn=function m5(d){return null==d?[]:In(d,o1(d))},ft.groupBy=Bh,ft.initial=function um(d){return null!=d&&d.length?ar(d,0,-1):[]},ft.intersection=ff,ft.intersectionBy=fm,ft.intersectionWith=wo,ft.invert=t9,ft.invertBy=Nf,ft.invokeMap=Uh,ft.iteratee=Ll,ft.keyBy=Am,ft.keys=Ys,ft.keysIn=o1,ft.map=d6,ft.mapKeys=function Vx(d,A){var ee={};return A=Fr(A,3),m2(d,function(Ee,Ze,Ct){go(ee,A(Ee,Ze,Ct),Ee)}),ee},ft.mapValues=function Ex(d,A){var ee={};return A=Fr(A,3),m2(d,function(Ee,Ze,Ct){go(ee,Ze,A(Ee,Ze,Ct))}),ee},ft.matches=function z5(d){return ce(sa(d,1))},ft.matchesProperty=function Wf(d,A){return he(d,sa(A,1))},ft.memoize=So,ft.merge=Nx,ft.mergeWith=n9,ft.method=A6,ft.methodOf=k5,ft.mixin=G4,ft.negate=g6,ft.nthArg=function V5(d){return d=pi(d),Pt(function(A){return Fe(A,d)})},ft.omit=Ix,ft.omitBy=function r9(d,A){return B4(d,g6(Fr(A)))},ft.once=function Lm(d){return Tl(2,d)},ft.orderBy=function Dx(d,A,ee,Ee){return null==d?[]:(ii(A)||(A=null==A?[]:[A]),ii(ee=Ee?$t:ee)||(ee=null==ee?[]:[ee]),et(d,A,ee))},ft.over=m9,ft.overArgs=zm,ft.overEvery=g9,ft.overSome=y9,ft.partial=_f,ft.partialRight=Jh,ft.partition=Gh,ft.pick=M6,ft.pickBy=B4,ft.property=Yf,ft.propertyOf=function E5(d){return function(A){return null==d?$t:Qo(d,A)}},ft.pull=df,ft.pullAll=hf,ft.pullAllBy=function Ah(d,A,ee){return d&&d.length&&A&&A.length?Gt(d,A,Fr(ee,2)):d},ft.pullAllWith=function hm(d,A,ee){return d&&d.length&&A&&A.length?Gt(d,A,$t,ee):d},ft.pullAt=C3,ft.range=ai,ft.rangeRight=_e,ft.rearg=j1,ft.reject=function Wh(d,A){return(ii(d)?Ta:h3)(d,g6(Fr(A,3)))},ft.remove=function L4(d,A){var ee=[];if(!d||!d.length)return ee;var Ee=-1,Ze=[],Ct=d.length;for(A=Fr(A,3);++Ee<Ct;){var Ot=d[Ee];A(Ot,Ee,d)&&(ee.push(Ot),Ze.push(Ee))}return It(d,Ze),ee},ft.rest=function To(d,A){if("function"!=typeof d)throw new m1(p);return Pt(d,A=A===$t?A:pi(A))},ft.reverse=pf,ft.sampleSize=function xf(d,A,ee){return A=(ee?C1(d,A,ee):A===$t)?1:pi(A),(ii(d)?P0:Wt)(d,A)},ft.set=function g5(d,A,ee){return null==d?d:Hn(d,A,ee)},ft.setWith=function y5(d,A,ee,Ee){return Ee="function"==typeof Ee?Ee:$t,null==d?d:Hn(d,A,ee,Ee)},ft.shuffle=function rc(d){return(ii(d)?Ku:jn)(d)},ft.slice=function vf(d,A,ee){var Ee=null==d?0:d.length;return Ee?(ee&&"number"!=typeof ee&&C1(d,A,ee)?(A=0,ee=Ee):(A=null==A?0:pi(A),ee=ee===$t?Ee:pi(ee)),ar(d,A,ee)):[]},ft.sortBy=Yh,ft.sortedUniq=function z4(d){return d&&d.length?wr(d):[]},ft.sortedUniqBy=function gm(d,A){return d&&d.length?wr(d,Fr(A,2)):[]},ft.split=function u9(d,A,ee){return ee&&"number"!=typeof ee&&C1(d,A,ee)&&(A=ee=$t),(ee=ee===$t?me:ee>>>0)?(d=Oi(d))&&("string"==typeof A||null!=A&&!Af(A))&&!(A=_i(A))&&N2(d)?ba(E1(d),0,ee):d.split(A,ee):[]},ft.spread=function km(d,A){if("function"!=typeof d)throw new m1(p);return A=null==A?0:Ga(pi(A),0),Pt(function(ee){var Ee=ee[A],Ze=ba(ee,0,A);return Ee&&ps(Ze,Ee),nr(d,this,Ze)})},ft.tail=function k4(d){var A=null==d?0:d.length;return A?ar(d,1,A):[]},ft.take=function gf(d,A,ee){return d&&d.length?ar(d,0,(A=ee||A===$t?1:pi(A))<0?0:A):[]},ft.takeRight=function s6(d,A,ee){var Ee=null==d?0:d.length;return Ee?ar(d,(A=Ee-(A=ee||A===$t?1:pi(A)))<0?0:A,Ee):[]},ft.takeRightWhile=function Tx(d,A){return d&&d.length?Tr(d,Fr(A,3),!1,!0):[]},ft.takeWhile=function Hh(d,A){return d&&d.length?Tr(d,Fr(A,3)):[]},ft.tap=function xm(d,A){return A(d),d},ft.throttle=function Vm(d,A,ee){var Ee=!0,Ze=!0;if("function"!=typeof d)throw new m1(p);return la(ee)&&(Ee="leading"in ee?!!ee.leading:Ee,Ze="trailing"in ee?!!ee.trailing:Ze),m6(d,A,{leading:Ee,maxWait:A,trailing:Ze})},ft.thru=E4,ft.toArray=c5,ft.toPairs=Pf,ft.toPairsIn=b5,ft.toPath=function S3(d){return ii(d)?ki(d,M1):w2(d)?[d]:Ca(n6(Oi(d)))},ft.toPlainObject=l5,ft.transform=function C5(d,A,ee){var Ee=ii(d),Ze=Ee||Dl(d)||Do(d);if(A=Fr(A,4),null==ee){var Ct=d&&d.constructor;ee=Ze?Ee?new Ct:[]:la(d)&&ac(Ct)?Na(I2(d)):{}}return(Ze?Nr:m2)(d,function(Ot,en,fn){return A(ee,Ot,en,fn)}),ee},ft.unary=function Em(d){return v6(d,1)},ft.union=Lh,ft.unionBy=ym,ft.unionWith=_o,ft.uniq=function bm(d){return d&&d.length?ui(d):[]},ft.uniqBy=function o6(d,A){return d&&d.length?ui(d,Fr(A,2)):[]},ft.uniqWith=function yf(d,A){return A="function"==typeof A?A:$t,d&&d.length?ui(d,$t,A):[]},ft.unset=function w3(d,A){return null==d||Kn(d,A)},ft.unzip=c6,ft.unzipWith=V4,ft.update=function Y1(d,A,ee){return null==d?d:zr(d,A,Qa(ee))},ft.updateWith=function Bc(d,A,ee,Ee){return Ee="function"==typeof Ee?Ee:$t,null==d?d:zr(d,A,Qa(ee),Ee)},ft.values=Al,ft.valuesIn=function Px(d){return null==d?[]:f2(d,o1(d))},ft.without=bf,ft.words=D5,ft.wrap=function Nm(d,A){return _f(Qa(A),d)},ft.xor=Cm,ft.xorBy=zh,ft.xorWith=kh,ft.zip=Vh,ft.zipObject=function Eh(d,A){return Aa(d||[],A||[],y1)},ft.zipObjectDeep=function Mm(d,A){return Aa(d||[],A||[],Hn)},ft.zipWith=l6,ft.entries=Pf,ft.entriesIn=b5,ft.extend=u5,ft.extendWith=js,G4(ft,ft),ft.add=$4,ft.attempt=p9,ft.camelCase=M5,ft.capitalize=Rf,ft.ceil=P5,ft.clamp=function i9(d,A,ee){return ee===$t&&(ee=A,A=$t),ee!==$t&&(ee=(ee=_2(ee))==ee?ee:0),A!==$t&&(A=(A=_2(A))==A?A:0),Xo(_2(d),A,ee)},ft.clone=function Pm(d){return sa(d,4)},ft.cloneDeep=function Rm(d){return sa(d,5)},ft.cloneDeepWith=function Fm(d,A){return sa(d,5,A="function"==typeof A?A:$t)},ft.cloneWith=function qh(d,A){return sa(d,4,A="function"==typeof A?A:$t)},ft.conformsTo=function Om(d,A){return null==A||U2(d,A,Ys(A))},ft.deburr=a9,ft.defaultTo=function H5(d,A){return null==d||d!=d?A:d},ft.divide=Xf,ft.endsWith=function Uc(d,A,ee){d=Oi(d),A=_i(A);var Ee=d.length,Ze=ee=ee===$t?Ee:Xo(pi(ee),0,Ee);return(ee-=A.length)>=0&&d.slice(ee,Ze)==A},ft.eq=Z2,ft.escape=function Ff(d){return(d=Oi(d))&&Yt.test(d)?d.replace(Xt,Ql):d},ft.escapeRegExp=function Of(d){return(d=Oi(d))&&it.test(d)?d.replace(Re,"\\$&"):d},ft.every=function u6(d,A,ee){var Ee=ii(d)?Sa:Vc;return ee&&C1(d,A,ee)&&(A=$t),Ee(d,Fr(A,3))},ft.find=Ph,ft.findIndex=Sh,ft.findKey=function d5(d,A){return V1(d,Fr(A,3),m2)},ft.findLast=Mf,ft.findLastIndex=lf,ft.findLastKey=function h5(d,A){return V1(d,Fr(A,3),g2)},ft.floor=Kf,ft.forEach=Fh,ft.forEachRight=Oh,ft.forIn=function Qm(d,A){return null==d?d:Ko(d,Fr(A,3),o1)},ft.forInRight=function p5(d,A){return null==d?d:p3(d,Fr(A,3),o1)},ft.forOwn=function Jm(d,A){return d&&m2(d,Fr(A,3))},ft.forOwnRight=function v5(d,A){return d&&g2(d,Fr(A,3))},ft.get=Vf,ft.gt=y6,ft.gte=ic,ft.has=function e9(d,A){return null!=d&&S4(d,A,v4)},ft.hasIn=Ef,ft.head=uf,ft.identity=Zs,ft.includes=function Dm(d,A,ee,Ee){d=w1(d)?d:Al(d),ee=ee&&!Ee?pi(ee):0;var Ze=d.length;return ee<0&&(ee=Ga(Ze+ee,0)),Lf(d)?ee<=Ze&&d.indexOf(A,ee)>-1:!!Ze&&Ts(d,A,ee)>-1},ft.indexOf=function Dh(d,A,ee){var Ee=null==d?0:d.length;if(!Ee)return-1;var Ze=null==ee?0:pi(ee);return Ze<0&&(Ze=Ga(Ee+Ze,0)),Ts(d,A,Ze)},ft.inRange=function Rx(d,A,ee){return A=sc(A),ee===$t?(ee=A,A=0):ee=sc(ee),function ca(d,A,ee){return d>=ms(A,ee)&&d<Ga(A,ee)}(d=_2(d),A,ee)},ft.invoke=kx,ft.isArguments=X2,ft.isArray=ii,ft.isArrayBuffer=e5,ft.isArrayLike=w1,ft.isArrayLikeObject=cs,ft.isBoolean=function Hx(d){return!0===d||!1===d||Ia(d)&&Ka(d)==pe},ft.isBuffer=Dl,ft.isDate=Sf,ft.isElement=function Tf(d){return Ia(d)&&1===d.nodeType&&!F4(d)},ft.isEmpty=function Lx(d){if(null==d)return!0;if(w1(d)&&(ii(d)||"string"==typeof d||"function"==typeof d.splice||Dl(d)||Do(d)||X2(d)))return!d.length;var A=Gs(d);if(A==Le||A==O)return!d.size;if(wl(d))return!u(d).length;for(var ee in d)if(Pi.call(d,ee))return!1;return!0},ft.isEqual=function zx(d,A){return bo(d,A)},ft.isEqualWith=function t5(d,A,ee){var Ee=(ee="function"==typeof ee?ee:$t)?ee(d,A):$t;return Ee===$t?bo(d,A,$t,ee):!!Ee},ft.isError=Df,ft.isFinite=function Bm(d){return"number"==typeof d&&Pr(d)},ft.isFunction=ac,ft.isInteger=n5,ft.isLength=P4,ft.isMap=b6,ft.isMatch=function Um(d,A){return d===A||R0(d,A,tf(A))},ft.isMatchWith=function x2(d,A,ee){return ee="function"==typeof ee?ee:$t,R0(d,A,tf(A),ee)},ft.isNaN=function r5(d){return s5(d)&&d!=+d},ft.isNative=function Gm(d){if(Jv(d))throw new qr("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return m3(d)},ft.isNil=function a5(d){return null==d},ft.isNull=function R4(d){return null===d},ft.isNumber=s5,ft.isObject=la,ft.isObjectLike=Ia,ft.isPlainObject=F4,ft.isRegExp=Af,ft.isSafeInteger=function $m(d){return n5(d)&&d>=-W&&d<=W},ft.isSet=Hf,ft.isString=Lf,ft.isSymbol=w2,ft.isTypedArray=Do,ft.isUndefined=function Wm(d){return d===$t},ft.isWeakMap=function jm(d){return Ia(d)&&Gs(d)==Ne},ft.isWeakSet=function Ym(d){return Ia(d)&&"[object WeakSet]"==Ka(d)},ft.join=function dm(d,A){return null==d?"":k0.call(d,A)},ft.kebabCase=s9,ft.last=x1,ft.lastIndexOf=function i6(d,A,ee){var Ee=null==d?0:d.length;if(!Ee)return-1;var Ze=Ee;return ee!==$t&&(Ze=(Ze=pi(ee))<0?Ga(Ee+Ze,0):ms(Ze,Ee-1)),A==A?function $1(on,En,Dn){for(var yr=Dn+1;yr--;)if(on[yr]===En)return yr;return yr}(d,A,Ze):Da(d,ji,Ze,!0)},ft.lowerCase=_3,ft.lowerFirst=x6,ft.lt=o5,ft.lte=Zm,ft.max=function Qf(d){return d&&d.length?bl(d,Zs,Ec):$t},ft.maxBy=function R5(d,A){return d&&d.length?bl(d,Fr(A,2),Ec):$t},ft.mean=function Jf(d){return as(d,Zs)},ft.meanBy=function C9(d,A){return as(d,Fr(A,2))},ft.min=function M9(d){return d&&d.length?bl(d,Zs,U):$t},ft.minBy=function x9(d,A){return d&&d.length?bl(d,Fr(A,2),U):$t},ft.stubArray=L6,ft.stubFalse=Dt,ft.stubObject=function N5(){return{}},ft.stubString=function I5(){return""},ft.stubTrue=function b9(){return!0},ft.multiply=F5,ft.nth=function a6(d,A){return d&&d.length?Fe(d,pi(A)):$t},ft.noConflict=function H6(){return wi._===this&&(wi._=Gi),this},ft.noop=jf,ft.now=N4,ft.pad=function x5(d,A,ee){d=Oi(d);var Ee=(A=pi(A))?lo(d):0;if(!A||Ee>=A)return d;var Ze=(A-Ee)/2;return ec(P2(Ze),ee)+d+ec(po(Ze),ee)},ft.padEnd=function Bf(d,A,ee){d=Oi(d);var Ee=(A=pi(A))?lo(d):0;return A&&Ee<A?d+ec(A-Ee,ee):d},ft.padStart=function w6(d,A,ee){d=Oi(d);var Ee=(A=pi(A))?lo(d):0;return A&&Ee<A?ec(A-Ee,ee)+d:d},ft.parseInt=function o9(d,A,ee){return ee||null==A?A=0:A&&(A=+A),i3(Oi(d).replace(ye,""),A||0)},ft.random=function Fx(d,A,ee){if(ee&&"boolean"!=typeof ee&&C1(d,A,ee)&&(A=ee=$t),ee===$t&&("boolean"==typeof A?(ee=A,A=$t):"boolean"==typeof d&&(ee=d,d=$t)),d===$t&&A===$t?(d=0,A=1):(d=sc(d),A===$t?(A=d,d=0):A=sc(A)),d>A){var Ee=d;d=A,A=Ee}if(ee||d%1||A%1){var Ze=R2();return ms(d+Ze*(A-d+Jr("1e-"+((Ze+"").length-1))),A)}return vt(d,A)},ft.reduce=function $h(d,A,ee){var Ee=ii(d)?oo:co,Ze=arguments.length<3;return Ee(d,Fr(A,4),ee,Ze,yo)},ft.reduceRight=function Ws(d,A,ee){var Ee=ii(d)?Kl:co,Ze=arguments.length<3;return Ee(d,Fr(A,4),ee,Ze,d3)},ft.repeat=function c9(d,A,ee){return A=(ee?C1(d,A,ee):A===$t)?1:pi(A),Ft(Oi(d),A)},ft.replace=function w5(){var d=arguments,A=Oi(d[0]);return d.length<3?A:A.replace(d[1],d[2])},ft.result=function If(d,A,ee){var Ee=-1,Ze=(A=Bn(A,d)).length;for(Ze||(Ze=1,d=$t);++Ee<Ze;){var Ct=null==d?$t:d[M1(A[Ee])];Ct===$t&&(Ee=Ze,Ct=ee),d=ac(Ct)?Ct.call(d):Ct}return d},ft.round=w9,ft.runInContext=on,ft.sample=function Ax(d){return(ii(d)?aa:qt)(d)},ft.size=function jh(d){if(null==d)return 0;if(w1(d))return Lf(d)?lo(d):d.length;var A=Gs(d);return A==Le||A==O?d.size:u(d).length},ft.snakeCase=l9,ft.some=function h6(d,A,ee){var Ee=ii(d)?Ni:lr;return ee&&C1(d,A,ee)&&(A=$t),Ee(d,Fr(A,3))},ft.sortedIndex=function pm(d,A){return Lr(d,A)},ft.sortedIndexBy=function vm(d,A,ee){return cr(d,A,Fr(ee,2))},ft.sortedIndexOf=function mm(d,A){var ee=null==d?0:d.length;if(ee){var Ee=Lr(d,A);if(Ee<ee&&Z2(d[Ee],A))return Ee}return-1},ft.sortedLastIndex=function _x(d,A){return Lr(d,A,!0)},ft.sortedLastIndexBy=function Sx(d,A,ee){return cr(d,A,Fr(ee,2),!0)},ft.sortedLastIndexOf=function mf(d,A){if(null!=d&&d.length){var Ee=Lr(d,A,!0)-1;if(Z2(d[Ee],A))return Ee}return-1},ft.startCase=f9,ft.startsWith=function _5(d,A,ee){return d=Oi(d),ee=null==ee?0:Xo(pi(ee),0,d.length),A=_i(A),d.slice(ee,ee+A.length)==A},ft.subtract=_9,ft.sum=function S9(d){return d&&d.length?Ds(d,Zs):0},ft.sumBy=function T9(d,A){return d&&d.length?Ds(d,Fr(A,2)):0},ft.template=function U4(d,A,ee){var Ee=ft.templateSettings;ee&&C1(d,A,ee)&&(A=$t),d=Oi(d),A=js({},A,Ee,W0);var en,fn,Ze=js({},A.imports,Ee.imports,W0),Ct=Ys(Ze),Ot=f2(Ze,Ct),On=0,Un=A.interpolate||Kt,Jn="__p += '",mr=H0((A.escape||Kt).source+"|"+Un.source+"|"+(Un===rn?yt:Kt).source+"|"+(A.evaluate||Kt).source+"|$","g"),_r="//# sourceURL="+(Pi.call(A,"sourceURL")?(A.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++xi+"]")+"\n";d.replace(mr,function(Rr,Si,Ai,Z1,_1,X1){return Ai||(Ai=Z1),Jn+=d.slice(On,X1).replace(Wn,ll),Si&&(en=!0,Jn+="' +\n__e("+Si+") +\n'"),_1&&(fn=!0,Jn+="';\n"+_1+";\n__p += '"),Ai&&(Jn+="' +\n((__t = ("+Ai+")) == null ? '' : __t) +\n'"),On=X1+Rr.length,Rr}),Jn+="';\n";var Ur=Pi.call(A,"variable")&&A.variable;if(Ur){if(Rt.test(Ur))throw new qr("Invalid `variable` option passed into `_.template`")}else Jn="with (obj) {\n"+Jn+"\n}\n";Jn=(fn?Jn.replace(Qt,""):Jn).replace(nn,"$1").replace(Ut,"$1;"),Jn="function("+(Ur||"obj")+") {\n"+(Ur?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(en?", __e = _.escape":"")+(fn?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Jn+"return __p\n}";var gi=p9(function(){return Ii(Ct,_r+"return "+Jn).apply($t,Ot)});if(gi.source=Jn,Df(gi))throw gi;return gi},ft.times=function z6(d,A){if((d=pi(d))<1||d>W)return[];var ee=me,Ee=ms(d,me);A=Fr(A),d-=me;for(var Ze=na(Ee,A);++ee<d;)A(ee);return Ze},ft.toFinite=sc,ft.toInteger=pi,ft.toLength=C6,ft.toLower=function _6(d){return Oi(d).toLowerCase()},ft.toNumber=_2,ft.toSafeInteger=function Xm(d){return d?Xo(pi(d),-W,W):0===d?d:0},ft.toString=Oi,ft.toUpper=function Uf(d){return Oi(d).toUpperCase()},ft.trim=function d9(d,A,ee){if((d=Oi(d))&&(ee||A===$t))return V2(d);if(!d||!(A=_i(A)))return d;var Ee=E1(d),Ze=E1(A);return ba(Ee,E2(Ee,Ze),cl(Ee,Ze)+1).join("")},ft.trimEnd=function h9(d,A,ee){if((d=Oi(d))&&(ee||A===$t))return d.slice(0,K3(d)+1);if(!d||!(A=_i(A)))return d;var Ee=E1(d);return ba(Ee,0,cl(Ee,E1(A))+1).join("")},ft.trimStart=function Gf(d,A,ee){if((d=Oi(d))&&(ee||A===$t))return d.replace(ye,"");if(!d||!(A=_i(A)))return d;var Ee=E1(d);return ba(Ee,E2(Ee,E1(A))).join("")},ft.truncate=function S5(d,A){var ee=30,Ee="...";if(la(A)){var Ze="separator"in A?A.separator:Ze;ee="length"in A?pi(A.length):ee,Ee="omission"in A?_i(A.omission):Ee}var Ct=(d=Oi(d)).length;if(N2(d)){var Ot=E1(d);Ct=Ot.length}if(ee>=Ct)return d;var en=ee-lo(Ee);if(en<1)return Ee;var fn=Ot?ba(Ot,0,en).join(""):d.slice(0,en);if(Ze===$t)return fn+Ee;if(Ot&&(en+=fn.length-en),Af(Ze)){if(d.slice(en).search(Ze)){var On,Un=fn;for(Ze.global||(Ze=H0(Ze.source,Oi(ct.exec(Ze))+"g")),Ze.lastIndex=0;On=Ze.exec(Un);)var Jn=On.index;fn=fn.slice(0,Jn===$t?en:Jn)}}else if(d.indexOf(_i(Ze),en)!=en){var mr=fn.lastIndexOf(Ze);mr>-1&&(fn=fn.slice(0,mr))}return fn+Ee},ft.unescape=function Hl(d){return(d=Oi(d))&&gt.test(d)?d.replace(Lt,ql):d},ft.uniqueId=function Zf(d){var A=++Sc;return Oi(d)+A},ft.upperCase=T5,ft.upperFirst=S6,ft.each=Fh,ft.eachRight=Oh,ft.first=uf,G4(ft,function(){var d={};return m2(ft,function(A,ee){Pi.call(ft.prototype,ee)||(d[ee]=A)}),d}(),{chain:!1}),ft.VERSION="4.17.21",Nr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){ft[d].placeholder=ft}),Nr(["drop","take"],function(d,A){Wr.prototype[d]=function(ee){ee=ee===$t?1:Ga(pi(ee),0);var Ee=this.__filtered__&&!A?new Wr(this):this.clone();return Ee.__filtered__?Ee.__takeCount__=ms(ee,Ee.__takeCount__):Ee.__views__.push({size:ms(ee,me),type:d+(Ee.__dir__<0?"Right":"")}),Ee},Wr.prototype[d+"Right"]=function(ee){return this.reverse()[d](ee).reverse()}}),Nr(["filter","map","takeWhile"],function(d,A){var ee=A+1,Ee=1==ee||3==ee;Wr.prototype[d]=function(Ze){var Ct=this.clone();return Ct.__iteratees__.push({iteratee:Fr(Ze,3),type:ee}),Ct.__filtered__=Ct.__filtered__||Ee,Ct}}),Nr(["head","last"],function(d,A){var ee="take"+(A?"Right":"");Wr.prototype[d]=function(){return this[ee](1).value()[0]}}),Nr(["initial","tail"],function(d,A){var ee="drop"+(A?"":"Right");Wr.prototype[d]=function(){return this.__filtered__?new Wr(this):this[ee](1)}}),Wr.prototype.compact=function(){return this.filter(Zs)},Wr.prototype.find=function(d){return this.filter(d).head()},Wr.prototype.findLast=function(d){return this.reverse().find(d)},Wr.prototype.invokeMap=Pt(function(d,A){return"function"==typeof d?new Wr(this):this.map(function(ee){return $2(ee,d,A)})}),Wr.prototype.reject=function(d){return this.filter(g6(Fr(d)))},Wr.prototype.slice=function(d,A){d=pi(d);var ee=this;return ee.__filtered__&&(d>0||A<0)?new Wr(ee):(d<0?ee=ee.takeRight(-d):d&&(ee=ee.drop(d)),A!==$t&&(ee=(A=pi(A))<0?ee.dropRight(-A):ee.take(A-d)),ee)},Wr.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},Wr.prototype.toArray=function(){return this.take(me)},m2(Wr.prototype,function(d,A){var ee=/^(?:filter|find|map|reject)|While$/.test(A),Ee=/^(?:head|last)$/.test(A),Ze=ft[Ee?"take"+("last"==A?"Right":""):A],Ct=Ee||/^find/.test(A);Ze&&(ft.prototype[A]=function(){var Ot=this.__wrapped__,en=Ee?[1]:arguments,fn=Ot instanceof Wr,On=en[0],Un=fn||ii(Ot),Jn=function(Si){var Ai=Ze.apply(ft,ps([Si],en));return Ee&&mr?Ai[0]:Ai};Un&&ee&&"function"==typeof On&&1!=On.length&&(fn=Un=!1);var mr=this.__chain__,Ur=Ct&&!mr,gi=fn&&!this.__actions__.length;if(!Ct&&Un){Ot=gi?Ot:new Wr(this);var Rr=d.apply(Ot,en);return Rr.__actions__.push({func:E4,args:[Jn],thisArg:$t}),new Fs(Rr,mr)}return Ur&&gi?d.apply(this,en):(Rr=this.thru(Jn),Ur?Ee?Rr.value()[0]:Rr.value():Rr)})}),Nr(["pop","push","shift","sort","splice","unshift"],function(d){var A=dl[d],ee=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",Ee=/^(?:pop|shift)$/.test(d);ft.prototype[d]=function(){var Ze=arguments;if(Ee&&!this.__chain__){var Ct=this.value();return A.apply(ii(Ct)?Ct:[],Ze)}return this[ee](function(Ot){return A.apply(ii(Ot)?Ot:[],Ze)})}}),m2(Wr.prototype,function(d,A){var ee=ft[A];if(ee){var Ee=ee.name+"";Pi.call(sr,Ee)||(sr[Ee]=[]),sr[Ee].push({name:A,func:ee})}}),sr[g3($t,2).name]=[{name:"wrapper",func:$t}],Wr.prototype.clone=function h2(){var d=new Wr(this.__wrapped__);return d.__actions__=Ca(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=Ca(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=Ca(this.__views__),d},Wr.prototype.reverse=function uh(){if(this.__filtered__){var d=new Wr(this);d.__dir__=-1,d.__filtered__=!0}else(d=this.clone()).__dir__*=-1;return d},Wr.prototype.value=function s4(){var d=this.__wrapped__.value(),A=this.__dir__,ee=ii(d),Ee=A<0,Ze=ee?d.length:0,Ct=function nf(d,A,ee){for(var Ee=-1,Ze=ee.length;++Ee<Ze;){var Ct=ee[Ee],Ot=Ct.size;switch(Ct.type){case"drop":d+=Ot;break;case"dropRight":A-=Ot;break;case"take":A=ms(A,d+Ot);break;case"takeRight":d=Ga(d,A-Ot)}}return{start:d,end:A}}(0,Ze,this.__views__),Ot=Ct.start,en=Ct.end,fn=en-Ot,On=Ee?en:Ot-1,Un=this.__iteratees__,Jn=Un.length,mr=0,_r=ms(fn,this.__takeCount__);if(!ee||!Ee&&Ze==fn&&_r==fn)return mi(d,this.__actions__);var Ur=[];e:for(;fn--&&mr<_r;){for(var gi=-1,Rr=d[On+=A];++gi<Jn;){var Si=Un[gi],Z1=Si.type,_1=(0,Si.iteratee)(Rr);if(2==Z1)Rr=_1;else if(!_1){if(1==Z1)continue e;break e}}Ur[mr++]=Rr}return Ur},ft.prototype.at=Nh,ft.prototype.chain=function M3(){return Oc(this)},ft.prototype.commit=function x3(){return new Fs(this.value(),this.__chain__)},ft.prototype.next=function ys(){this.__values__===$t&&(this.__values__=c5(this.value()));var d=this.__index__>=this.__values__.length;return{done:d,value:d?$t:this.__values__[this.__index__++]}},ft.prototype.plant=function zs(d){for(var A,ee=this;ee instanceof n1;){var Ee=os(ee);Ee.__index__=0,Ee.__values__=$t,A?Ze.__wrapped__=Ee:A=Ee;var Ze=Ee;ee=ee.__wrapped__}return Ze.__wrapped__=d,A},ft.prototype.reverse=function Cf(){var d=this.__wrapped__;if(d instanceof Wr){var A=d;return this.__actions__.length&&(A=new Wr(this)),(A=A.reverse()).__actions__.push({func:E4,args:[pf],thisArg:$t}),new Fs(A,this.__chain__)}return this.thru(pf)},ft.prototype.toJSON=ft.prototype.valueOf=ft.prototype.value=function _m(){return mi(this.__wrapped__,this.__actions__)},ft.prototype.first=ft.prototype.head,t1&&(ft.prototype[t1]=function wm(){return this}),ft}();wi._=q3,(Ps=function(){return q3}.call(Fo,Ya,Fo,z2))!==$t&&(z2.exports=Ps)}.call(this)},743:z2=>{self,z2.exports=function(){var Fo={9288:function(ve,K,o){"use strict";var p=o(3400),T={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var v in T){var g=v.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");p.addStyleRule(g,T[v])}},6712:function(ve,K,o){"use strict";ve.exports=o(1843)},7240:function(ve,K,o){"use strict";ve.exports=o(1132)},6144:function(ve,K,o){"use strict";ve.exports=o(7776)},2016:function(ve,K,o){"use strict";ve.exports=o(4884)},5556:function(ve,K,o){"use strict";ve.exports=o(6744)},6489:function(ve,K,o){"use strict";ve.exports=o(2028)},3472:function(ve,K,o){"use strict";var p=o(2016);p.register([o(7240),o(260),o(6712),o(5556),o(6489),o(7312),o(6144)]),ve.exports=p},260:function(ve,K,o){"use strict";ve.exports=o(5792)},7312:function(ve,K,o){"use strict";ve.exports=o(6272)},2196:function(ve){"use strict";ve.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},3916:function(ve,K,o){"use strict";var p=o(2196),T=o(5376),v=o(3816),g=o(1780).templatedArray;o(6208),ve.exports=g("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:T({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:p.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:p.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",v.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",v.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",v.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",v.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:T({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},272:function(ve,K,o){"use strict";var p=o(3400),T=o(4460),v=o(6196).draw;function g(y){p.filterVisible(y._fullLayout.annotations).forEach(function(h){var c=T.getFromId(y,h.xref),C=T.getFromId(y,h.yref),_=T.getRefType(h.xref),L=T.getRefType(h.yref);h._extremes={},"range"===_&&f(h,c),"range"===L&&f(h,C)})}function f(y,m){var Y,h=m._id,c=h.charAt(0),C=y[c],_=y["a"+c],w=y["_"+c+"padplus"],z=y["_"+c+"padminus"],S={x:1,y:-1}[c]*y[c+"shift"],E=3*y.arrowsize*y.arrowwidth||0,x=E+S,H=E-S,b=3*y.startarrowsize*y.arrowwidth||0,N=b+S,V=b-S;if(y["a"+c+"ref"]===y[c+"ref"]){var $=T.findExtremes(m,[m.r2c(C)],{ppadplus:x,ppadminus:H}),Q=T.findExtremes(m,[m.r2c(_)],{ppadplus:Math.max(w,N),ppadminus:Math.max(z,V)});Y={min:[$.min[0],Q.min[0]],max:[$.max[0],Q.max[0]]}}else N=_?N+_:N,V=_?V-_:V,Y=T.findExtremes(m,[m.r2c(C)],{ppadplus:Math.max(w,x,N),ppadminus:Math.max(z,H,V)});y._extremes[h]=Y}ve.exports=function(m){if(p.filterVisible(m._fullLayout.annotations).length&&m._fullData.length)return p.syncOrAsync([v,g],m)}},2300:function(ve,K,o){"use strict";var p=o(3400),T=o(4040),v=o(1780).arrayEditor;function y(h,c){var z,S,E,x,H,b,N,C=h._fullLayout.annotations,_=[],L=[],D=[],w=(c||[]).length;for(z=0;z<C.length;z++)if(x=(E=C[z]).clicktoshow){for(S=0;S<w;S++)if(N=(H=c[S]).yaxis,(b=H.xaxis)._id===E.xref&&N._id===E.yref&&b.d2r(H.x)===m(E._xclick,b)&&N.d2r(H.y)===m(E._yclick,N)){(E.visible?"onout"===x?L:D:_).push(z);break}S===w&&E.visible&&"onout"===x&&L.push(z)}return{on:_,off:L,explicitOff:D}}function m(h,c){return"log"===c.type?c.l2r(h):c.d2r(h)}ve.exports={hasClickToShow:function g(h,c){var C=y(h,c);return C.on.length>0||C.explicitOff.length>0},onClick:function f(h,c){var z,S,C=y(h,c),_=C.on,L=C.off.concat(C.explicitOff),D={},w=h._fullLayout.annotations;if(_.length||L.length){for(z=0;z<_.length;z++)(S=v(h.layout,"annotations",w[_[z]])).modifyItem("visible",!0),p.extendFlat(D,S.getUpdateObj());for(z=0;z<L.length;z++)(S=v(h.layout,"annotations",w[L[z]])).modifyItem("visible",!1),p.extendFlat(D,S.getUpdateObj());return T.call("update",h,{},D)}}}},7192:function(ve,K,o){"use strict";var p=o(3400),T=o(6308);ve.exports=function(g,f,y,m){m("opacity");var h=m("bgcolor"),c=m("bordercolor"),C=T.opacity(c);m("borderpad");var _=m("borderwidth"),L=m("showarrow");if(m("text",L?" ":y._dfltTitle.annotation),m("textangle"),p.coerceFont(m,"font",y.font),m("width"),m("align"),m("height")&&m("valign"),L){var z,S,w=m("arrowside");-1!==w.indexOf("end")&&(z=m("arrowhead"),S=m("arrowsize")),-1!==w.indexOf("start")&&(m("startarrowhead",z),m("startarrowsize",S)),m("arrowcolor",C?f.bordercolor:T.defaultLine),m("arrowwidth",2*(C&&_||1)),m("standoff"),m("startstandoff")}var E=m("hovertext"),x=y.hoverlabel||{};if(E){var H=m("hoverlabel.bgcolor",x.bgcolor||(T.opacity(h)?T.rgb(h):T.defaultLine)),b=m("hoverlabel.bordercolor",x.bordercolor||T.contrast(H));p.coerceFont(m,"hoverlabel.font",{family:x.font.family,size:x.font.size,color:x.font.color||b})}m("captureevents",!!E)}},9208:function(ve,K,o){"use strict";var p=o(8248),T=o(6896);ve.exports=function(g,f,y,m){f=f||{};var h="log"===y&&"linear"===f.type;if(h||"linear"===y&&"log"===f.type)for(var L,D,C=g._fullLayout.annotations,_=f._id.charAt(0),z=0;z<C.length;z++)D="annotations["+z+"].",(L=C[z])[_+"ref"]===f._id&&w(_),L["a"+_+"ref"]===f._id&&w("a"+_);function w(S){var E=L[S],x=null;x=h?T(E,f.range):Math.pow(10,E),p(x)||(x=null),m(D+S,x)}}},5216:function(ve,K,o){"use strict";var p=o(3400),T=o(4460),v=o(1272),g=o(7192),f=o(3916);function y(m,h,c){function C(se,F){return p.coerce(m,h,f,se,F)}var _=C("visible"),L=C("clicktoshow");if(_||L){g(m,h,c,C);for(var D=h.showarrow,w=["x","y"],z=[-10,-30],S={_fullLayout:c},E=0;E<2;E++){var x=w[E],H=T.coerceRef(m,h,S,x,"","paper");if("paper"!==H&&T.getFromId(S,H)._annIndices.push(h._index),T.coercePosition(h,S,C,H,x,.5),D){var N="a"+x,V=T.coerceRef(m,h,S,N,"pixel",["pixel","paper"]);"pixel"!==V&&V!==H&&(V=h[N]="pixel"),T.coercePosition(h,S,C,V,N,"pixel"===V?z[E]:.4)}C(x+"anchor"),C(x+"shift")}if(p.noneOrAll(m,h,["x","y"]),D&&p.noneOrAll(m,h,["ax","ay"]),L){var $=C("xclick"),Q=C("yclick");h._xclick=void 0===$?h.x:T.cleanPosition($,S,h.xref),h._yclick=void 0===Q?h.y:T.cleanPosition(Q,S,h.yref)}}}ve.exports=function(h,c){v(h,c,{name:"annotations",handleItemDefaults:y})}},6196:function(ve,K,o){"use strict";var p=o(3428),T=o(4040),v=o(7316),g=o(3400),f=g.strTranslate,y=o(4460),m=o(6308),h=o(3616),c=o(3024),C=o(2736),_=o(3972),L=o(6476),D=o(1780).arrayEditor,w=o(3652);function S(H,b){var V=H._fullLayout.annotations[b]||{},Y=y.getFromId(H,V.xref),$=y.getFromId(H,V.yref);Y&&Y.setScale(),$&&$.setScale(),x(H,V,b,!1,Y,$)}function E(H,b,N,V,Y){var $=Y[N],Q=Y[N+"ref"],se=-1!==N.indexOf("y"),F="domain"===y.getRefType(Q),J=se?V.h:V.w;return H?F?$+(se?-b:b)/H._length:H.p2r(H.r2p($)+b):$+(se?-b:b)/J}function x(H,b,N,V,Y,$){var J,W,Q=H._fullLayout,se=H._fullLayout._size,F=H._context.edits;V?(J="annotation-"+V,W=V+".annotations"):(J="annotation",W="annotations");var te=D(H.layout,W,b),fe=te.modifyBase,me=te.modifyItem,Z=te.getUpdateObj;Q._infolayer.selectAll("."+J+'[data-index="'+N+'"]').remove();var G="clip"+Q._uid+"_ann"+N;if(b._input&&!1!==b.visible){var q={x:{},y:{}},ie=+b.textangle||0,ue=Q._infolayer.append("g").classed(J,!0).attr("data-index",String(N)).style("opacity",b.opacity),le=ue.append("g").classed("annotation-text-g",!0),pe=F[b.showarrow?"annotationTail":"annotationPosition"],He=b.captureevents||F.annotationText||pe,Ue=le.append("g").style("pointer-events",He?"all":null).call(_,"pointer").on("click",function(){H._dragging=!1,H.emit("plotly_clickannotation",ke(p.event))});b.hovertext&&Ue.on("mouseover",function(){var be=b.hoverlabel,ze=be.font,Ne=this.getBoundingClientRect(),Oe=H.getBoundingClientRect();c.loneHover({x0:Ne.left-Oe.left,x1:Ne.right-Oe.left,y:(Ne.top+Ne.bottom)/2-Oe.top,text:b.hovertext,color:be.bgcolor,borderColor:be.bordercolor,fontFamily:ze.family,fontSize:ze.size,fontColor:ze.color},{container:Q._hoverlayer.node(),outerContainer:Q._paper.node(),gd:H})}).on("mouseout",function(){c.loneUnhover(Q._hoverlayer.node())});var Me=b.borderwidth,Le=Me+b.borderpad,B=Ue.append("rect").attr("class","bg").style("stroke-width",Me+"px").call(m.stroke,b.bordercolor).call(m.fill,b.bgcolor),P=b.width||b.height,X=Q._topclips.selectAll("#"+G).data(P?[0]:[]);X.enter().append("clipPath").classed("annclip",!0).attr("id",G).append("rect"),X.exit().remove();var j=b.font,I=Q._meta?g.templateString(b.text,Q._meta):b.text,ae=Ue.append("text").classed("annotation-text",!0).text(I);F.annotationText?ae.call(C.makeEditable,{delegate:Ue,gd:H}).call(O).on("edit",function(be){b.text=be,this.call(O),me("text",be),Y&&Y.autorange&&fe(Y._name+".autorange",!0),$&&$.autorange&&fe($._name+".autorange",!0),T.call("_guiRelayout",H,Z())}):ae.call(O)}else p.selectAll("#"+G).remove();function ke(be){var ze={index:N,annotation:b._input,fullAnnotation:b,event:be};return V&&(ze.subplotId=V),ze}function O(be){return be.call(h.font,j).attr({"text-anchor":{left:"start",right:"end"}[b.align]||"middle"}),C.convertToTspans(be,H,ne),be}function ne(){var be=ae.selectAll("a");1===be.size()&&be.text()===ae.text()&&Ue.insert("a",":first-child").attr({"xlink:xlink:href":be.attr("xlink:href"),"xlink:xlink:show":be.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(B.node());var Ne=Ue.select(".annotation-text-math-group"),Oe=!Ne.empty(),Be=h.bBox((Oe?Ne:ae).node()),Te=Be.width,Ve=Be.height,Pe=b.width||Te,Je=b.height||Ve,Xe=Math.round(Pe+2*Le),Ge=Math.round(Je+2*Le);function st(Yn,Kt){return"auto"===Kt&&(Kt=Yn<.3333333333333333?"left":Yn>.6666666666666666?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[Kt]}for(var wt=!1,kt=["x","y"],At=0;At<kt.length;At++){var St,dt,Re,it,ye,Qt=kt[At],nn=b[Qt+"ref"]||Qt,Ut=b["a"+Qt+"ref"],Lt={x:Y,y:$}[Qt],Xt=(ie+("x"===Qt?0:-90))*Math.PI/180,gt=Xe*Math.cos(Xt),Yt=Ge*Math.sin(Xt),tn=Math.abs(gt)+Math.abs(Yt),dn=b[Qt+"anchor"],rn=b[Qt+"shift"]*("x"===Qt?1:-1),Ke=q[Qt],De=y.getRefType(nn);if(Lt&&"domain"!==De){var $e=Lt.r2fraction(b[Qt]);($e<0||$e>1)&&(Ut===nn?(($e=Lt.r2fraction(b["a"+Qt]))<0||$e>1)&&(wt=!0):wt=!0),St=Lt._offset+Lt.r2p(b[Qt]),it=.5}else{var je="domain"===De;"x"===Qt?(Re=b[Qt],St=je?Lt._offset+Lt._length*Re:St=se.l+se.w*Re):(Re=1-b[Qt],St=je?Lt._offset+Lt._length*Re:St=se.t+se.h*Re),it=b.showarrow?.5:Re}if(b.showarrow){Ke.head=St;var Ye=b["a"+Qt];if(ye=gt*st(.5,b.xanchor)-Yt*st(.5,b.yanchor),Ut===nn){var at=y.getRefType(Ut);"domain"===at?("y"===Qt&&(Ye=1-Ye),Ke.tail=Lt._offset+Lt._length*Ye):Ke.tail="paper"===at?"y"===Qt?se.t+se.h*(Ye=1-Ye):se.l+se.w*Ye:Lt._offset+Lt.r2p(Ye),dt=ye}else Ke.tail=St+Ye,dt=ye+Ye;Ke.text=Ke.tail+ye;var Rt=Q["x"===Qt?"width":"height"];if("paper"===nn&&(Ke.head=g.constrain(Ke.head,1,Rt-1)),"pixel"===Ut){var tt=-Math.max(Ke.tail-3,Ke.text),yt=Math.min(Ke.tail+3,Ke.text)-Rt;tt>0?(Ke.tail+=tt,Ke.text+=tt):yt>0&&(Ke.tail-=yt,Ke.text-=yt)}Ke.tail+=rn,Ke.head+=rn}else dt=ye=tn*st(it,dn),Ke.text=St+ye;Ke.text+=rn,ye+=rn,b["_"+Qt+"padplus"]=tn/2+(dt+=rn),b["_"+Qt+"padminus"]=tn/2-dt,b["_"+Qt+"size"]=tn,b["_"+Qt+"shift"]=ye}if(wt)Ue.remove();else{var ct=0,Et=0;"left"!==b.align&&(ct=(Pe-Te)*("center"===b.align?.5:1)),"top"!==b.valign&&(Et=(Je-Ve)*("middle"===b.valign?.5:1)),Oe?Ne.select("svg").attr({x:Le+ct-1,y:Le+Et}).call(h.setClipUrl,P?G:null,H):ae.call(C.positionText,Le+ct-Be.left,Le+Et-Be.top).call(h.setClipUrl,P?G:null,H),X.select("rect").call(h.setRect,Le,Le,Pe,Je),B.call(h.setRect,Me/2,Me/2,Xe-Me,Ge-Me),Ue.call(h.setTranslate,Math.round(q.x.text-Xe/2),Math.round(q.y.text-Ge/2)),le.attr({transform:"rotate("+ie+","+q.x.text+","+q.y.text+")"});var Gn,Rn=function(Yn,Kt){ue.selectAll(".annotation-arrow-g").remove();var Wn=q.x.head,kn=q.y.head,Vn=q.x.tail+Yn,Zn=q.y.tail+Kt,bn=q.x.text+Yn,Zt=q.y.text+Kt,Nn=g.rotationXYMatrix(ie,bn,Zt),An=g.apply2DTransform(Nn),$n=g.apply2DTransform2(Nn),dr=+B.attr("width"),vr=+B.attr("height"),Fn=bn-.5*dr,ge=Fn+dr,de=Zt-.5*vr,lt=de+vr,ot=[[Fn,de,Fn,lt],[Fn,lt,ge,lt],[ge,lt,ge,de],[ge,de,Fn,de]].map($n);if(!ot.reduce(function(un,sn){return un^!!g.segmentsIntersect(Wn,kn,Wn+1e6,kn+1e6,sn[0],sn[1],sn[2],sn[3])},!1)){ot.forEach(function(un){var sn=g.segmentsIntersect(Vn,Zn,Wn,kn,un[0],un[1],un[2],un[3]);sn&&(Vn=sn.x,Zn=sn.y)});var pt=b.arrowwidth,mt=b.arrowcolor,Tt=b.arrowside,ht=ue.append("g").style({opacity:m.opacity(mt)}).classed("annotation-arrow-g",!0),ut=ht.append("path").attr("d","M"+Vn+","+Zn+"L"+Wn+","+kn).style("stroke-width",pt+"px").call(m.stroke,m.rgb(mt));if(w(ut,Tt,b),F.annotationPosition&&ut.node().parentNode&&!V){var Ht=Wn,_t=kn;if(b.standoff){var jt=Math.sqrt(Math.pow(Wn-Vn,2)+Math.pow(kn-Zn,2));Ht+=b.standoff*(Vn-Wn)/jt,_t+=b.standoff*(Zn-kn)/jt}var vn,Nt,an=ht.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Vn-Ht)+","+(Zn-_t),transform:f(Ht,_t)}).style("stroke-width",pt+6+"px").call(m.stroke,"rgba(0,0,0,0)").call(m.fill,"rgba(0,0,0,0)");L.init({element:an.node(),gd:H,prepFn:function(){var un=h.getTranslate(Ue);vn=un.x,Nt=un.y,Y&&Y.autorange&&fe(Y._name+".autorange",!0),$&&$.autorange&&fe($._name+".autorange",!0)},moveFn:function(un,sn){var Jt=An(vn,Nt),Mn=Jt[0]+un,zn=Jt[1]+sn;Ue.call(h.setTranslate,Mn,zn),me("x",E(Y,un,"x",se,b)),me("y",E($,sn,"y",se,b)),b.axref===b.xref&&me("ax",E(Y,un,"ax",se,b)),b.ayref===b.yref&&me("ay",E($,sn,"ay",se,b)),ht.attr("transform",f(un,sn)),le.attr({transform:"rotate("+ie+","+Mn+","+zn+")"})},doneFn:function(){T.call("_guiRelayout",H,Z());var un=document.querySelector(".js-notes-box-panel");un&&un.redraw(un.selectedObj)}})}}};b.showarrow&&Rn(0,0),pe&&L.init({element:Ue.node(),gd:H,prepFn:function(){Gn=le.attr("transform")},moveFn:function(Yn,Kt){var Wn="pointer";if(b.showarrow)me("ax",b.axref===b.xref?E(Y,Yn,"ax",se,b):b.ax+Yn),me("ay",b.ayref===b.yref?E($,Kt,"ay",se.w,b):b.ay+Kt),Rn(Yn,Kt);else{if(V)return;var kn,Vn;if(Y)kn=E(Y,Yn,"x",se,b);else{var Zn=b._xsize/se.w;kn=L.align(b.x+(b._xshift-b.xshift)/se.w-Zn/2+Yn/se.w,Zn,0,1,b.xanchor)}if($)Vn=E($,Kt,"y",se,b);else{var Zt=b._ysize/se.h;Vn=L.align(b.y-(b._yshift+b.yshift)/se.h-Zt/2-Kt/se.h,Zt,0,1,b.yanchor)}me("x",kn),me("y",Vn),(!Y||!$)&&(Wn=L.getCursor(Y?.5:kn,$?.5:Vn,b.xanchor,b.yanchor))}le.attr({transform:f(Yn,Kt)+Gn}),_(Ue,Wn)},clickFn:function(Yn,Kt){b.captureevents&&H.emit("plotly_clickannotation",ke(Kt))},doneFn:function(){_(Ue),T.call("_guiRelayout",H,Z());var Yn=document.querySelector(".js-notes-box-panel");Yn&&Yn.redraw(Yn.selectedObj)}})}}}ve.exports={draw:function z(H){var b=H._fullLayout;b._infolayer.selectAll(".annotation").remove();for(var N=0;N<b.annotations.length;N++)b.annotations[N].visible&&S(H,N);return v.previousPromises(H)},drawOne:S,drawRaw:x}},3652:function(ve,K,o){"use strict";var p=o(3428),T=o(6308),v=o(2196),g=o(3400),f=g.strScale,y=g.strRotate,m=g.strTranslate;ve.exports=function(c,C,_){var N,V,Y,$,L=c.node(),D=v[_.arrowhead||0],w=v[_.startarrowhead||0],z=(_.arrowwidth||1)*(_.arrowsize||1),S=(_.arrowwidth||1)*(_.startarrowsize||1),E=C.indexOf("start")>=0,x=C.indexOf("end")>=0,H=D.backoff*z+_.standoff,b=w.backoff*S+_.startstandoff;if("line"===L.nodeName){N={x:+c.attr("x1"),y:+c.attr("y1")},V={x:+c.attr("x2"),y:+c.attr("y2")};var Q=N.x-V.x,se=N.y-V.y;if($=(Y=Math.atan2(se,Q))+Math.PI,H&&b&&H+b>Math.sqrt(Q*Q+se*se))return void le();if(H){if(H*H>Q*Q+se*se)return void le();var F=H*Math.cos(Y),J=H*Math.sin(Y);V.x+=F,V.y+=J,c.attr({x2:V.x,y2:V.y})}if(b){if(b*b>Q*Q+se*se)return void le();var W=b*Math.cos(Y),te=b*Math.sin(Y);N.x-=W,N.y-=te,c.attr({x1:N.x,y1:N.y})}}else if("path"===L.nodeName){var fe=L.getTotalLength(),me="";if(fe<H+b)return void le();var Z=L.getPointAtLength(0),G=L.getPointAtLength(.1);Y=Math.atan2(Z.y-G.y,Z.x-G.x),N=L.getPointAtLength(Math.min(b,fe)),me="0px,"+b+"px,";var q=L.getPointAtLength(fe),ie=L.getPointAtLength(fe-.1);$=Math.atan2(q.y-ie.y,q.x-ie.x),V=L.getPointAtLength(Math.max(0,fe-H)),c.style("stroke-dasharray",me+=fe-(me?b+H:H)+"px,"+fe+"px")}function le(){c.style("stroke-dasharray","0px,100px")}function pe(He,ke,Ue,Me){He.path&&(He.noRotate&&(Ue=0),p.select(L.parentNode).append("path").attr({class:c.attr("class"),d:He.path,transform:m(ke.x,ke.y)+y(180*Ue/Math.PI)+f(Me)}).style({fill:T.rgb(_.arrowcolor),"stroke-width":0}))}E&&pe(w,N,Y,S),x&&pe(D,V,$,z)}},9180:function(ve,K,o){"use strict";var p=o(6196),T=o(2300);ve.exports={moduleType:"component",name:"annotations",layoutAttributes:o(3916),supplyLayoutDefaults:o(5216),includeBasePlot:o(6632)("annotations"),calcAutorange:o(272),draw:p.draw,drawOne:p.drawOne,drawRaw:p.drawRaw,hasClickToShow:T.hasClickToShow,onClick:T.onClick,convertCoords:o(9208)}},5899:function(ve,K,o){"use strict";var p=o(3916),T=o(7824).overrideAll,v=o(1780).templatedArray;ve.exports=T(v("annotation",{visible:p.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:p.xanchor,xshift:p.xshift,yanchor:p.yanchor,yshift:p.yshift,text:p.text,textangle:p.textangle,font:p.font,width:p.width,height:p.height,opacity:p.opacity,align:p.align,valign:p.valign,bgcolor:p.bgcolor,bordercolor:p.bordercolor,borderpad:p.borderpad,borderwidth:p.borderwidth,showarrow:p.showarrow,arrowcolor:p.arrowcolor,arrowhead:p.arrowhead,startarrowhead:p.startarrowhead,arrowside:p.arrowside,arrowsize:p.arrowsize,startarrowsize:p.startarrowsize,arrowwidth:p.arrowwidth,standoff:p.standoff,startstandoff:p.startstandoff,hovertext:p.hovertext,hoverlabel:p.hoverlabel,captureevents:p.captureevents}),"calc","from-root")},76:function(ve,K,o){"use strict";var p=o(3400),T=o(4460);function v(g,f){var m=f.fullSceneLayout.domain,h=f.fullLayout._size,c={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};g._xa={},p.extendFlat(g._xa,c),T.setConvert(g._xa),g._xa._offset=h.l+m.x[0]*h.w,g._xa.l2p=function(){return.5*(1+g._pdata[0]/g._pdata[3])*h.w*(m.x[1]-m.x[0])},g._ya={},p.extendFlat(g._ya,c),T.setConvert(g._ya),g._ya._offset=h.t+(1-m.y[1])*h.h,g._ya.l2p=function(){return.5*(1-g._pdata[1]/g._pdata[3])*h.h*(m.y[1]-m.y[0])}}ve.exports=function(f){for(var m=f.fullSceneLayout.annotations,h=0;h<m.length;h++)v(m[h],f);f.fullLayout._infolayer.selectAll(".annotation-"+f.id).remove()}},2808:function(ve,K,o){"use strict";var p=o(3400),T=o(4460),v=o(1272),g=o(7192),f=o(5899);function y(m,h,c,C){function _(w,z){return p.coerce(m,h,f,w,z)}function L(w){var z=w+"axis",S={_fullLayout:{}};return S._fullLayout[z]=c[z],T.coercePosition(h,S,_,w,w,.5)}_("visible")&&(g(m,h,C.fullLayout,_),L("x"),L("y"),L("z"),p.noneOrAll(m,h,["x","y","z"]),h.xref="x",h.yref="y",h.zref="z",_("xanchor"),_("yanchor"),_("xshift"),_("yshift"),h.showarrow&&(h.axref="pixel",h.ayref="pixel",_("ax",-10),_("ay",-30),p.noneOrAll(m,h,["ax","ay"])))}ve.exports=function(h,c,C){v(h,c,{name:"annotations",handleItemDefaults:y,fullLayout:C.fullLayout})}},1836:function(ve,K,o){"use strict";var p=o(6196).drawRaw,T=o(4424),v=["x","y","z"];ve.exports=function(f){for(var y=f.fullSceneLayout,m=f.dataScale,h=y.annotations,c=0;c<h.length;c++){for(var C=h[c],_=!1,L=0;L<3;L++){var D=v[L],S=y[D+"axis"].r2fraction(C[D]);if(S<0||S>1){_=!0;break}}_?f.fullLayout._infolayer.select(".annotation-"+f.id+'[data-index="'+c+'"]').remove():(C._pdata=T(f.glplot.cameraParams,[y.xaxis.r2l(C.x)*m[0],y.yaxis.r2l(C.y)*m[1],y.zaxis.r2l(C.z)*m[2]]),p(f.graphDiv,C,c,f.id,C._xa,C._ya))}}},6864:function(ve,K,o){"use strict";var p=o(4040),T=o(3400);ve.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:o(5899)}}},layoutAttributes:o(5899),handleDefaults:o(2808),includeBasePlot:function v(g,f){var y=p.subplotsRegistry.gl3d;if(y)for(var m=y.attrRegex,h=Object.keys(g),c=0;c<h.length;c++){var C=h[c];m.test(C)&&(g[C].annotations||[]).length&&(T.pushUnique(f._basePlotModules,y),T.pushUnique(f._subplots.gl3d,C))}},convert:o(76),draw:o(1836)}},4976:function(ve,K,o){"use strict";ve.exports=o(8700),o(5168),o(7020),o(7411),o(5668),o(2787),o(2084),o(6368),o(4747),o(5616),o(632),o(3040),o(1104),o(9075),o(4592),o(5348)},7776:function(ve,K,o){"use strict";var p=o(4976),T=o(3400),v=o(9032),g=v.EPOCHJD,f=v.ONEDAY,y={valType:"enumerated",values:T.sortObjectKeys(p.calendars),editType:"calc",dflt:"gregorian"},m=function(Y,$,Q,se){var F={};return F[Q]=y,T.coerce(Y,$,F,Q,se)},L="##",D={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:L,w:L,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};var z={};function S(Y){var $=z[Y];return $||(z[Y]=p.instance(Y))}function E(Y){return T.extendFlat({},y,{description:Y})}function x(Y){return"Sets the calendar system to use with `"+Y+"` date data."}var H={xcalendar:E(x("x"))},b=T.extendFlat({},H,{ycalendar:E(x("y"))}),N=T.extendFlat({},b,{zcalendar:E(x("z"))}),V=E(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));ve.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:b,bar:b,box:b,heatmap:b,contour:b,histogram:b,histogram2d:b,histogram2dcontour:b,scatter3d:N,surface:N,mesh3d:N,scattergl:b,ohlc:H,candlestick:H},layout:{calendar:E(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:V},yaxis:{calendar:V},scene:{xaxis:{calendar:V},yaxis:{calendar:V},zaxis:{calendar:V}},polar:{radialaxis:{calendar:V}}},transforms:{filter:{valuecalendar:E(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:E(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:y,handleDefaults:m,handleTraceDefaults:function(Y,$,Q,se){for(var F=0;F<Q.length;F++)m(Y,$,Q[F]+"calendar",se.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:S,worldCalFmt:function w(Y,$,Q){for(var W,te,fe,me,Z,se=Math.floor(($+.05)/f)+g,F=S(Q).fromJD(se),J=0;-1!==(J=Y.indexOf("%",J));)"0"===(W=Y.charAt(J+1))||"-"===W||"_"===W?(fe=3,te=Y.charAt(J+2),"_"===W&&(W="-")):(te=W,W="0",fe=2),(me=D[te])?(Z=me===L?L:F.formatDate(me[W]),Y=Y.substr(0,J)+Z+Y.substr(J+fe),J+=Z.length):J+=fe;return Y}}},2548:function(ve,K){"use strict";K.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],K.defaultLine="#444",K.lightLine="#eee",K.background="#fff",K.borderLine="#BEC8D9",K.lightFraction=90.9090909090909},6308:function(ve,K,o){"use strict";var p=o(9760),T=o(8248),v=o(8116).isTypedArray,g=ve.exports={},f=o(2548);g.defaults=f.defaults;var y=g.defaultLine=f.defaultLine;g.lightLine=f.lightLine;var m=g.background=f.background;function h(c){if(T(c)||"string"!=typeof c)return c;var C=c.trim();if("rgb"!==C.substr(0,3))return c;var _=C.match(/^rgba?\s*\(([^()]*)\)$/);if(!_)return c;var L=_[1].trim().split(/\s*[\s,]\s*/),D="a"===C.charAt(3)&&4===L.length;if(!D&&3!==L.length)return c;for(var w=0;w<L.length;w++){if(!(L[w].length&&(L[w]=Number(L[w]),L[w]>=0)))return c;if(3===w)L[w]>1&&(L[w]=1);else if(L[w]>=1)return c}var z=Math.round(255*L[0])+", "+Math.round(255*L[1])+", "+Math.round(255*L[2]);return D?"rgba("+z+", "+L[3]+")":"rgb("+z+")"}g.tinyRGB=function(c){var C=c.toRgb();return"rgb("+Math.round(C.r)+", "+Math.round(C.g)+", "+Math.round(C.b)+")"},g.rgb=function(c){return g.tinyRGB(p(c))},g.opacity=function(c){return c?p(c).getAlpha():0},g.addOpacity=function(c,C){var _=p(c).toRgb();return"rgba("+Math.round(_.r)+", "+Math.round(_.g)+", "+Math.round(_.b)+", "+C+")"},g.combine=function(c,C){var _=p(c).toRgb();if(1===_.a)return p(c).toRgbString();var L=p(C||m).toRgb(),D=1===L.a?L:{r:255*(1-L.a)+L.r*L.a,g:255*(1-L.a)+L.g*L.a,b:255*(1-L.a)+L.b*L.a};return p({r:D.r*(1-_.a)+_.r*_.a,g:D.g*(1-_.a)+_.g*_.a,b:D.b*(1-_.a)+_.b*_.a}).toRgbString()},g.contrast=function(c,C,_){var L=p(c);return 1!==L.getAlpha()&&(L=p(g.combine(c,m))),(L.isDark()?C?L.lighten(C):m:_?L.darken(_):y).toString()},g.stroke=function(c,C){var _=p(C);c.style({stroke:g.tinyRGB(_),"stroke-opacity":_.getAlpha()})},g.fill=function(c,C){var _=p(C);c.style({fill:g.tinyRGB(_),"fill-opacity":_.getAlpha()})},g.clean=function(c){if(c&&"object"==typeof c){var _,L,D,w,C=Object.keys(c);for(_=0;_<C.length;_++)if(w=c[D=C[_]],"color"===D.substr(D.length-5))if(Array.isArray(w))for(L=0;L<w.length;L++)w[L]=h(w[L]);else c[D]=h(w);else if("colorscale"===D.substr(D.length-10)&&Array.isArray(w))for(L=0;L<w.length;L++)Array.isArray(w[L])&&(w[L][1]=h(w[L][1]));else if(Array.isArray(w)){var z=w[0];if(!Array.isArray(z)&&z&&"object"==typeof z)for(L=0;L<w.length;L++)g.clean(w[L])}else w&&"object"==typeof w&&!v(w)&&g.clean(w)}}},616:function(ve,K,o){"use strict";var p=o(4724),T=o(5376),v=o(2880).extendFlat,g=o(7824).overrideAll;ve.exports=g({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:p.linecolor,outlinewidth:p.linewidth,bordercolor:p.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:p.minor.tickmode,nticks:p.nticks,tick0:p.tick0,dtick:p.dtick,tickvals:p.tickvals,ticktext:p.ticktext,ticks:v({},p.ticks,{dflt:""}),ticklabeloverflow:v({},p.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:p.ticklen,tickwidth:p.tickwidth,tickcolor:p.tickcolor,ticklabelstep:p.ticklabelstep,showticklabels:p.showticklabels,labelalias:p.labelalias,tickfont:T({}),tickangle:p.tickangle,tickformat:p.tickformat,tickformatstops:p.tickformatstops,tickprefix:p.tickprefix,showtickprefix:p.showtickprefix,ticksuffix:p.ticksuffix,showticksuffix:p.showticksuffix,separatethousands:p.separatethousands,exponentformat:p.exponentformat,minexponent:p.minexponent,showexponent:p.showexponent,title:{text:{valType:"string"},font:T({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:T({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},3964:function(ve){"use strict";ve.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},4013:function(ve,K,o){"use strict";var p=o(3400),T=o(1780),v=o(6332),g=o(5404),f=o(5936),y=o(2568),m=o(616);ve.exports=function(c,C,_){var L=T.newContainer(C,"colorbar"),D=c.colorbar||{};function w(q,ie){return p.coerce(D,L,m,q,ie)}var z=_.margin||{t:0,b:0,l:0,r:0},S=_.width-z.l-z.r,E=_.height-z.t-z.b,H="v"===w("orientation"),b=w("thicknessmode");w("thickness","fraction"===b?30/(H?S:E):30);var N=w("lenmode");w("len","fraction"===N?1:H?E:S);var se,F,J,$="paper"===w("yref"),Q="paper"===w("xref"),W="left";H?(J="middle",W=Q?"left":"right",se=Q?1.02:1,F=.5):(J=$?"bottom":"top",W="center",se=.5,F=$?1.02:1),p.coerce(D,L,{x:{valType:"number",min:Q?-2:0,max:Q?3:1,dflt:se}},"x"),p.coerce(D,L,{y:{valType:"number",min:$?-2:0,max:$?3:1,dflt:F}},"y"),w("xanchor",W),w("xpad"),w("yanchor",J),w("ypad"),p.noneOrAll(D,L,["x","y"]),w("outlinecolor"),w("outlinewidth"),w("bordercolor"),w("borderwidth"),w("bgcolor");var te=p.coerce(D,L,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:H?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");w("ticklabeloverflow",-1!==te.indexOf("inside")?"hide past domain":"hide past div"),v(D,L,w,"linear");var fe=_.font,me={noAutotickangles:!0,outerTicks:!1,font:fe};-1!==te.indexOf("inside")&&(me.bgColor="black"),y(D,L,w,"linear",me),f(D,L,w,"linear",me),g(D,L,w,"linear",me),w("title.text",_._dfltTitle.colorbar);var Z=L.showticklabels?L.tickfont:fe,G=p.extendFlat({},Z,{color:fe.color,size:p.bigFont(Z.size)});p.coerceFont(w,"title.font",G),w("title.side",H?"top":"right")}},7848:function(ve,K,o){"use strict";var p=o(3428),T=o(9760),v=o(7316),g=o(4040),f=o(4460),y=o(6476),m=o(3400),h=m.strTranslate,c=o(2880).extendFlat,C=o(3972),_=o(3616),L=o(6308),D=o(1668),w=o(2736),z=o(4288).flipScale,S=o(5955),E=o(7668),x=o(4724),H=o(4284),b=H.LINE_SPACING,N=H.FROM_TL,V=H.FROM_BR,Y=o(3964).cn;ve.exports={draw:function $(te){var me=te._fullLayout._infolayer.selectAll("g."+Y.colorbar).data(function Q(te){var G,q,ie,ue,fe=te._fullLayout,me=te.calcdata,Z=[];function le(j){return c(j,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function pe(){"function"==typeof ue.calc?ue.calc(te,ie,G):(G._fillgradient=q.reversescale?z(q.colorscale):q.colorscale,G._zrange=[q[ue.min],q[ue.max]])}for(var He=0;He<me.length;He++)if((ie=me[He][0].trace)._module){var Ue=ie._module.colorbar;if(!0===ie.visible&&Ue)for(var Me=Array.isArray(Ue),we=Me?Ue:[Ue],Le=0;Le<we.length;Le++){var B=(ue=we[Le]).container;(q=B?ie[B]:ie)&&q.showscale&&((G=le(q.colorbar))._id="cb"+ie.uid+(Me&&B?"-"+B:""),G._traceIndex=ie.index,G._propPrefix=(B?B+".":"")+"colorbar.",G._meta=ie._meta,pe(),Z.push(G))}}for(var P in fe._colorAxes)if((q=fe[P]).showscale){var X=fe._colorAxes[P];(G=le(q.colorbar))._id="cb"+P,G._propPrefix=P+".colorbar.",G._meta=fe._meta,ue={min:"cmin",max:"cmax"},"heatmap"!==X[0]&&(ue.calc=(ie=X[1])._module.colorbar.calc),pe(),Z.push(G)}return Z}(te),function(Z){return Z._id});me.enter().append("g").attr("class",function(Z){return Z._id}).classed(Y.colorbar,!0),me.each(function(Z){var G=p.select(this);m.ensureSingle(G,"rect",Y.cbbg),m.ensureSingle(G,"g",Y.cbfills),m.ensureSingle(G,"g",Y.cblines),m.ensureSingle(G,"g",Y.cbaxis,function(ie){ie.classed(Y.crisp,!0)}),m.ensureSingle(G,"g",Y.cbtitleunshift,function(ie){ie.append("g").classed(Y.cbtitle,!0)}),m.ensureSingle(G,"rect",Y.cboutline);var q=function se(te,fe,me){var Z="v"===fe.orientation,G=fe.len,q=fe.lenmode,ie=fe.thickness,ue=fe.thicknessmode,le=fe.outlinewidth,pe=fe.borderwidth,He=fe.bgcolor,ke=fe.xanchor,Ue=fe.yanchor,Me=fe.xpad,we=fe.ypad,Le=fe.x,B=Z?fe.y:1-fe.y,P="paper"===fe.yref,X="paper"===fe.xref,j=me._fullLayout,I=j._size,ae=fe._fillcolor,O=fe._line,ne=fe.title,be=ne.side,ze=fe._zrange||p.extent(("function"==typeof ae?ae:O.color).domain()),Ne="function"==typeof O.color?O.color:function(){return O.color},Oe="function"==typeof ae?ae:function(){return ae},Be=fe._levels,Te=function J(te,fe,me){var ie,ue,Z=fe._levels,G=[],q=[],le=Z.end+Z.size/100,pe=Z.size,He=1.001*me[0]-.001*me[1],ke=1.001*me[1]-.001*me[0];for(ue=0;ue<1e5&&(ie=Z.start+ue*pe,!(pe>0?ie>=le:ie<=le));ue++)ie>He&&ie<ke&&G.push(ie);if(fe._fillgradient)q=[0];else if("function"==typeof fe._fillcolor){var Ue=fe._filllevels;if(Ue)for(le=Ue.end+Ue.size/100,pe=Ue.size,ue=0;ue<1e5&&(ie=Ue.start+ue*pe,!(pe>0?ie>=le:ie<=le));ue++)ie>me[0]&&ie<me[1]&&q.push(ie);else(q=G.map(function(Me){return Me-Z.size/2})).push(q[q.length-1]+Z.size)}else fe._fillcolor&&"string"==typeof fe._fillcolor&&(q=[0]);return Z.size<0&&(G.reverse(),q.reverse()),{line:G,fill:q}}(0,fe,ze),Ve=Te.fill,Pe=Te.line,Je=Math.round(ie*("fraction"===ue?Z?I.w:I.h:1)),Xe=Je/(Z?I.w:I.h),Ge=Math.round(G*("fraction"===q?Z?I.h:I.w:1)),st=Ge/(Z?I.h:I.w),wt=X?I.w:me._fullLayout.width,kt=P?I.h:me._fullLayout.height,At=Math.round(Z?Le*wt+Me:B*kt+we),Qt={center:.5,right:1}[ke]||0,nn={top:1,middle:.5}[Ue]||0,Ut=Z?Le-Qt*Xe:B-nn*Xe,Lt=Z?B-nn*st:Le-Qt*st,Xt=Math.round(Z?kt*(1-Lt):wt*Lt);fe._lenFrac=st,fe._thickFrac=Xe,fe._uFrac=Ut,fe._vFrac=Lt;var gt=fe._axis=function W(te,fe,me){var Z=te._fullLayout,G="v"===fe.orientation,q={type:"linear",range:me,tickmode:fe.tickmode,nticks:fe.nticks,tick0:fe.tick0,dtick:fe.dtick,tickvals:fe.tickvals,ticktext:fe.ticktext,ticks:fe.ticks,ticklen:fe.ticklen,tickwidth:fe.tickwidth,tickcolor:fe.tickcolor,showticklabels:fe.showticklabels,labelalias:fe.labelalias,ticklabelposition:fe.ticklabelposition,ticklabeloverflow:fe.ticklabeloverflow,ticklabelstep:fe.ticklabelstep,tickfont:fe.tickfont,tickangle:fe.tickangle,tickformat:fe.tickformat,exponentformat:fe.exponentformat,minexponent:fe.minexponent,separatethousands:fe.separatethousands,showexponent:fe.showexponent,showtickprefix:fe.showtickprefix,tickprefix:fe.tickprefix,showticksuffix:fe.showticksuffix,ticksuffix:fe.ticksuffix,title:fe.title,showline:!0,anchor:"free",side:G?"right":"bottom",position:1},ie=G?"y":"x",ue={type:"linear",_id:ie+fe._id},le={letter:ie,font:Z.font,noAutotickangles:"y"===ie,noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:Z.calendar};function pe(He,ke){return m.coerce(q,ue,x,He,ke)}return S(q,ue,pe,le,Z),E(q,ue,pe,le),ue}(me,fe,ze);gt.position=Xe+(Z?Le+Me/I.w:B+we/I.h);var Yt=-1!==["top","bottom"].indexOf(be);if(Z&&Yt&&(gt.title.side=be,gt.titlex=Le+Me/I.w,gt.titley=Lt+("top"===ne.side?st-we/I.h:we/I.h)),!Z&&!Yt&&(gt.title.side=be,gt.titley=B+we/I.h,gt.titlex=Lt+Me/I.w),O.color&&"auto"===fe.tickmode){gt.tickmode="linear",gt.tick0=Be.start;var tn=Be.size,dn=m.constrain(Ge/50,4,15)+1,rn=(ze[1]-ze[0])/((fe.nticks||dn)*tn);if(rn>1){var Ke=Math.pow(10,Math.floor(Math.log(rn)/Math.LN10));tn*=Ke*m.roundUp(rn/Ke,[2,5,10]),(Math.abs(Be.start)/Be.size+1e-6)%1<2e-6&&(gt.tick0=0)}gt.dtick=tn}gt.domain=Z?[Lt+we/I.h,Lt+st-we/I.h]:[Lt+Me/I.w,Lt+st-Me/I.w],gt.setScale(),te.attr("transform",h(Math.round(I.l),Math.round(I.t)));var ye,St=te.select("."+Y.cbtitleunshift).attr("transform",h(-Math.round(I.l),-Math.round(I.t))),dt=gt.ticklabelposition,Re=gt.title.font.size,it=te.select("."+Y.cbaxis),De=0,$e=0;function je(yt,ct){var Et={propContainer:gt,propName:fe._propPrefix+"title",traceIndex:fe._traceIndex,_meta:fe._meta,placeholder:j._dfltTitle.colorbar,containerGroup:te.select("."+Y.cbtitle)},hn="h"===yt.charAt(0)?yt.substr(1):"h"+yt;te.selectAll("."+hn+",."+hn+"-math-group").remove(),D.draw(me,yt,c(Et,ct||{}))}function Ye(){var yt,ct;(Z&&Yt||!Z&&!Yt)&&("top"===be&&(yt=Me+I.l+wt*Le,ct=we+I.t+kt*(1-Lt-st)+3+.75*Re),"bottom"===be&&(yt=Me+I.l+wt*Le,ct=we+I.t+kt*(1-Lt)-3-.25*Re),"right"===be&&(ct=we+I.t+kt*B+3+.75*Re,yt=Me+I.l+wt*Lt),je(gt._id+"title",{attributes:{x:yt,y:ct,"text-anchor":Z?"start":"middle"}}))}function at(){if(Z&&!Yt||!Z&&Yt){var Et,hn,yt=gt.position||0,ct=gt._offset+gt._length/2;if("right"===be)hn=ct,Et=I.l+wt*yt+10+Re*(gt.showticklabels?1:.5);else if(Et=ct,"bottom"===be&&(hn=I.t+kt*yt+10+(-1===dt.indexOf("inside")?gt.tickfont.size:0)+("intside"!==gt.ticks&&fe.ticklen||0)),"top"===be){var Tn=ne.text.split("<br>").length;hn=I.t+kt*yt+10-Je-b*Re*Tn}je((Z?"h":"v")+gt._id+"title",{avoid:{selection:p.select(me).selectAll("g."+gt._id+"tick"),side:be,offsetTop:Z?0:I.t,offsetLeft:Z?I.l:0,maxShift:Z?j.width:j.height},attributes:{x:Et,y:hn,"text-anchor":"middle"},transform:{rotate:Z?-90:0,offset:0}})}}function Rt(){if(!Z&&!Yt||Z&&Yt){var Rn,yt=te.select("."+Y.cbtitle),ct=yt.select("text"),Et=[-le/2,le/2],hn=yt.select(".h"+gt._id+"title-math-group").node(),Tn=15.6;if(ct.node()&&(Tn=parseInt(ct.node().style.fontSize,10)*b),hn?(Rn=_.bBox(hn),$e=Rn.width,(De=Rn.height)>Tn&&(Et[1]-=(De-Tn)/2)):ct.node()&&!ct.classed(Y.jsPlaceholder)&&(Rn=_.bBox(ct.node()),$e=Rn.width,De=Rn.height),Z){if(De){if(De+=5,"top"===be)gt.domain[1]-=De/I.h,Et[1]*=-1;else{gt.domain[0]+=De/I.h;var Gn=w.lineCount(ct);Et[1]+=(1-Gn)*Tn}yt.attr("transform",h(Et[0],Et[1])),gt.setScale()}}else $e&&("right"===be&&(gt.domain[0]+=($e+Re/2)/I.w),yt.attr("transform",h(Et[0],Et[1])),gt.setScale())}te.selectAll("."+Y.cbfills+",."+Y.cblines).attr("transform",Z?h(0,Math.round(I.h*(1-gt.domain[1]))):h(Math.round(I.w*gt.domain[0]),0)),it.attr("transform",Z?h(0,Math.round(-I.t)):h(Math.round(-I.l),0));var Yn=te.select("."+Y.cbfills).selectAll("rect."+Y.cbfill).attr("style","").data(Ve);Yn.enter().append("rect").classed(Y.cbfill,!0).attr("style",""),Yn.exit().remove();var Kt=ze.map(gt.c2p).map(Math.round).sort(function(bn,Zt){return bn-Zt});Yn.each(function(bn,Zt){var Nn=[0===Zt?ze[0]:(Ve[Zt]+Ve[Zt-1])/2,Zt===Ve.length-1?ze[1]:(Ve[Zt]+Ve[Zt+1])/2].map(gt.c2p).map(Math.round);Z&&(Nn[1]=m.constrain(Nn[1]+(Nn[1]>Nn[0])?1:-1,Kt[0],Kt[1]));var An=p.select(this).attr(Z?"x":"y",At).attr(Z?"y":"x",p.min(Nn)).attr(Z?"width":"height",Math.max(Je,2)).attr(Z?"height":"width",Math.max(p.max(Nn)-p.min(Nn),2));if(fe._fillgradient)_.gradient(An,me,fe._id,Z?"vertical":"horizontalreversed",fe._fillgradient,"fill");else{var $n=Oe(bn).replace("e-","");An.attr("fill",T($n).toHexString())}});var Wn=te.select("."+Y.cblines).selectAll("path."+Y.cbline).data(O.color&&O.width?Pe:[]);Wn.enter().append("path").classed(Y.cbline,!0),Wn.exit().remove(),Wn.each(function(bn){var Zt=At,Nn=Math.round(gt.c2p(bn))+O.width/2%1;p.select(this).attr("d","M"+(Z?Zt+","+Nn:Nn+","+Zt)+(Z?"h":"v")+Je).call(_.lineGroupStyle,O.width,Ne(bn),O.dash)}),it.selectAll("g."+gt._id+"tick,path").remove();var kn=At+Je+(le||0)/2-("outside"===fe.ticks?1:0),Vn=f.calcTicks(gt),Zn=f.getTickSigns(gt)[2];return f.drawTicks(me,gt,{vals:"inside"===gt.ticks?f.clipEnds(gt,Vn):Vn,layer:it,path:f.makeTickPath(gt,kn,Zn),transFn:f.makeTransTickFn(gt)}),f.drawLabels(me,gt,{vals:Vn,layer:it,transFn:f.makeTransTickLabelFn(gt),labelFns:f.makeLabelFns(gt,kn)})}function tt(){var yt,ct=Je+le/2;-1===dt.indexOf("inside")&&(yt=_.bBox(it.node()),ct+=Z?yt.width:yt.height),ye=St.select("text");var Et=0,hn=Z&&"top"===be,Tn=!Z&&"right"===be,Rn=0;if(ye.node()&&!ye.classed(Y.jsPlaceholder)){var Gn,Yn=St.select(".h"+gt._id+"title-math-group").node();Yn&&(Z&&Yt||!Z&&!Yt)?(Et=(yt=_.bBox(Yn)).width,Gn=yt.height):(Et=(yt=_.bBox(St.node())).right-I.l-(Z?At:Xt),Gn=yt.bottom-I.t-(Z?Xt:At),!Z&&"top"===be&&(ct+=yt.height,Rn=yt.height)),Tn&&(ye.attr("transform",h(Et/2+Re/2,0)),Et*=2),ct=Math.max(ct,Z?Et:Gn)}var Kt=2*(Z?Me:we)+ct+pe+le/2,Wn=0;!Z&&ne.text&&"bottom"===Ue&&B<=0&&(Kt+=Wn=Kt/2,Rn+=Wn),j._hColorbarMoveTitle=Wn,j._hColorbarMoveCBTitle=Rn;var kn=pe+le,Vn=(Z?At:Xt)-kn/2-(Z?Me:0),Zn=(Z?Xt:At)-(Z?Ge:we+Rn-Wn);te.select("."+Y.cbbg).attr("x",Vn).attr("y",Zn).attr(Z?"width":"height",Math.max(Kt-Wn,2)).attr(Z?"height":"width",Math.max(Ge+kn,2)).call(L.fill,He).call(L.stroke,fe.bordercolor).style("stroke-width",pe);var bn=Tn?Math.max(Et-10,0):0;te.selectAll("."+Y.cboutline).attr("x",(Z?At:Xt+Me)+bn).attr("y",(Z?Xt+we-Ge:At)+(hn?De:0)).attr(Z?"width":"height",Math.max(Je,2)).attr(Z?"height":"width",Math.max(Ge-(Z?2*we+De:2*Me+bn),2)).call(L.stroke,fe.outlinecolor).style({fill:"none","stroke-width":le});var Zt=Z?Qt*Kt:0,Nn=Z?0:(1-nn)*Kt-Rn;if(te.attr("transform",h(Zt=X?I.l-Zt:-Zt,Nn=P?I.t-Nn:-Nn)),!Z&&(pe||T(He).getAlpha()&&!T.equals(j.paper_bgcolor,He))){var An=it.selectAll("text"),$n=An[0].length,dr=te.select("."+Y.cbbg).node(),vr=_.bBox(dr),Fn=_.getTranslate(te),ge=2;An.each(function(_t,jt){var an=0,vn=$n-1;if(jt===an||jt===vn){var sn,Nt=_.bBox(this),un=_.getTranslate(this);jt===vn?(sn=vr.right+Fn.x+Xt-pe-ge+Le-(Nt.right+un.x))>0&&(sn=0):jt===an&&(sn=vr.left+Fn.x+Xt+pe+ge-(Nt.left+un.x))<0&&(sn=0),sn&&($n<3?this.setAttribute("transform","translate("+sn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var de={},lt=N[ke],ot=V[ke],pt=N[Ue],mt=V[Ue],Tt=Kt-Je;Z?("pixels"===q?(de.y=B,de.t=Ge*pt,de.b=Ge*mt):(de.t=de.b=0,de.yt=B+G*pt,de.yb=B-G*mt),"pixels"===ue?(de.x=Le,de.l=Kt*lt,de.r=Kt*ot):(de.l=Tt*lt,de.r=Tt*ot,de.xl=Le-ie*lt,de.xr=Le+ie*ot)):("pixels"===q?(de.x=Le,de.l=Ge*lt,de.r=Ge*ot):(de.l=de.r=0,de.xl=Le+G*lt,de.xr=Le-G*ot),"pixels"===ue?(de.y=1-B,de.t=Kt*pt,de.b=Kt*mt):(de.t=Tt*pt,de.b=Tt*mt,de.yt=B-ie*pt,de.yb=B+ie*mt));var ht=fe.y<.5?"b":"t",ut=fe.x<.5?"l":"r";me._fullLayout._reservedMargin[fe._id]={};var Ht={r:j.width-Vn-Zt,l:Vn+de.r,b:j.height-Zn-Nn,t:Zn+de.b};X&&P?v.autoMargin(me,fe._id,de):X?me._fullLayout._reservedMargin[fe._id][ht]=Ht[ht]:P||Z?me._fullLayout._reservedMargin[fe._id][ut]=Ht[ut]:me._fullLayout._reservedMargin[fe._id][ht]=Ht[ht]}return m.syncOrAsync([v.previousPromises,Ye,Rt,at,v.previousPromises,tt],me)}(G,Z,te);q&&q.then&&(te._promises||[]).push(q),te._context.edits.colorbarPosition&&function F(te,fe,me){var ie,ue,le,Z="v"===fe.orientation,q=me._fullLayout._size;y.init({element:te.node(),gd:me,prepFn:function(){ie=te.attr("transform"),C(te)},moveFn:function(pe,He){te.attr("transform",ie+h(pe,He)),ue=y.align((Z?fe._uFrac:fe._vFrac)+pe/q.w,Z?fe._thickFrac:fe._lenFrac,0,1,fe.xanchor),le=y.align((Z?fe._vFrac:1-fe._uFrac)-He/q.h,Z?fe._lenFrac:fe._thickFrac,0,1,fe.yanchor);var ke=y.getCursor(ue,le,fe.xanchor,fe.yanchor);C(te,ke)},doneFn:function(){if(C(te),void 0!==ue&&void 0!==le){var pe={};pe[fe._propPrefix+"x"]=ue,pe[fe._propPrefix+"y"]=le,void 0!==fe._traceIndex?g.call("_guiRestyle",me,pe,fe._traceIndex):g.call("_guiRelayout",me,pe)}}})}(G,Z,te)}),me.exit().each(function(Z){v.autoMargin(te,Z._id)}).remove(),me.order()}}},553:function(ve,K,o){"use strict";var p=o(3400);ve.exports=function(v){return p.isPlainObject(v.colorbar)}},5080:function(ve,K,o){"use strict";ve.exports={moduleType:"component",name:"colorbar",attributes:o(616),supplyDefaults:o(4013),draw:o(7848).draw,hasColorbar:o(553)}},9084:function(ve,K,o){"use strict";var p=o(616),T=o(3756).counter,v=o(2996),g=o(8304).scales;function y(m){return"`"+m+"`"}v(g),ve.exports=function(h,c){h=h||"";var E,C=(c=c||{}).cLetter||"c",L="noScale"in c?c.noScale:"marker.line"===h,D="showScaleDflt"in c?c.showScaleDflt:"z"===C,w="string"==typeof c.colorscaleDflt?g[c.colorscaleDflt]:null,z=c.editTypeOverride||"",S=h?h+".":"";"colorAttr"in c?E=c.colorAttr:y(S+(E={z:"z",c:"color"}[C]));var b=C+"auto",N=C+"min",V=C+"max",Y=C+"mid",J=(y(S+b),y(S+N),y(S+V),{});J[N]=J[V]=void 0;var W={};W[b]=!1;var te={};return"color"===E&&(te.color={valType:"color",arrayOk:!0,editType:z||"style"},c.anim&&(te.color.anim=!0)),te[b]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:J},te[N]={valType:"number",dflt:null,editType:z||"plot",impliedEdits:W},te[V]={valType:"number",dflt:null,editType:z||"plot",impliedEdits:W},te[Y]={valType:"number",dflt:null,editType:"calc",impliedEdits:J},te.colorscale={valType:"colorscale",editType:"calc",dflt:w,impliedEdits:{autocolorscale:!1}},te.autocolorscale={valType:"boolean",dflt:!1!==c.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},te.reversescale={valType:"boolean",dflt:!1,editType:"plot"},L||(te.showscale={valType:"boolean",dflt:D,editType:"calc"},te.colorbar=p),c.noColorAxis||(te.coloraxis={valType:"subplotid",regex:T("coloraxis"),dflt:null,editType:"calc"}),te}},7128:function(ve,K,o){"use strict";var p=o(8248),T=o(3400),v=o(4288).extractOpts;ve.exports=function(f,y,m){var h=f._fullLayout,c=m.vals,C=m.containerStr,_=C?T.nestedProperty(y,C).get():y,L=v(_),D=!1!==L.auto,w=L.min,z=L.max,S=L.mid,E=function(){return T.aggNums(Math.min,null,c)},x=function(){return T.aggNums(Math.max,null,c)};void 0===w?w=E():D&&(w=_._colorAx&&p(w)?Math.min(w,E()):E()),void 0===z?z=x():D&&(z=_._colorAx&&p(z)?Math.max(z,x()):x()),D&&void 0!==S&&(z-S>S-w?w=S-(z-S):z-S<S-w&&(z=S+(S-w))),w===z&&(w-=.5,z+=.5),L._sync("min",w),L._sync("max",z),L.autocolorscale&&L._sync("colorscale",w*z<0?h.colorscale.diverging:w>=0?h.colorscale.sequential:h.colorscale.sequentialminus)}},5504:function(ve,K,o){"use strict";var p=o(3400),T=o(4288).hasColorscale,v=o(4288).extractOpts;ve.exports=function(f,y){function m(w,z){var S=w["_"+z];void 0!==S&&(w[z]=S)}function h(w,z){var S=z.container?p.nestedProperty(w,z.container).get():w;if(S)if(S.coloraxis)S._colorAx=y[S.coloraxis];else{var E=v(S),x=E.auto;(x||void 0===E.min)&&m(S,z.min),(x||void 0===E.max)&&m(S,z.max),E.autocolorscale&&m(S,"colorscale")}}for(var c=0;c<f.length;c++){var C=f[c],_=C._module.colorbar;if(_)if(Array.isArray(_))for(var L=0;L<_.length;L++)h(C,_[L]);else h(C,_);T(C,"marker.line")&&h(C,{container:"marker.line",min:"cmin",max:"cmax"})}for(var D in y._colorAxes)h(y[D],{min:"cmin",max:"cmax"})}},7260:function(ve,K,o){"use strict";var p=o(8248),T=o(3400),v=o(553),g=o(4013),f=o(8304).isValid,y=o(4040).traceIs;function m(h,c){var C=c.slice(0,c.length-1);return c?T.nestedProperty(h,C).get()||{}:h}ve.exports=function h(c,C,_,L,D){var w=D.prefix,z=D.cLetter,S="_module"in C,E=m(c,w),x=m(C,w),H=m(C._template||{},w)||{},b=function(){return delete c.coloraxis,delete C.coloraxis,h(c,C,_,L,D)};if(S){var N=_._colorAxes||{},V=L(w+"coloraxis");if(V){var Y=y(C,"contour")&&T.nestedProperty(C,"contours.coloring").get()||"heatmap",$=N[V];return void($?($[2].push(b),$[0]!==Y&&($[0]=!1,T.warn(["Ignoring coloraxis:",V,"setting","as it is linked to incompatible colorscales."].join(" ")))):N[V]=[Y,C,[b]])}}var Q=E[z+"min"],se=E[z+"max"],F=p(Q)&&p(se)&&Q<se;L(w+z+"auto",!F)?L(w+z+"mid"):(L(w+z+"min"),L(w+z+"max"));var fe,me,W=E.colorscale,te=H.colorscale;void 0!==W&&(fe=!f(W)),void 0!==te&&(fe=!f(te)),L(w+"autocolorscale",fe),L(w+"colorscale"),L(w+"reversescale"),"marker.line."!==w&&(w&&S&&(me=v(E)),L(w+"showscale",me)&&(w&&H&&(x._template=H),g(E,x,_)))}},4288:function(ve,K,o){"use strict";var p=o(3428),T=o(9760),v=o(8248),g=o(3400),f=o(6308),y=o(8304).isValid;var h=["showscale","autocolorscale","colorscale","reversescale","colorbar"],c=["min","max","mid","auto"];function C(S){var b,N,V,E=S._colorAx,x=E||S,H={};for(N=0;N<h.length;N++)H[V=h[N]]=x[V];if(E)for(b="c",N=0;N<c.length;N++)H[V=c[N]]=x["c"+V];else{var Y;for(N=0;N<c.length;N++)((Y="c"+(V=c[N]))in x||(Y="z"+V)in x)&&(H[V]=x[Y]);b=Y.charAt(0)}return H._sync=function($,Q){var se=-1!==c.indexOf($)?b+$:$;x[se]=x["_"+se]=Q},H}function _(S){for(var E=C(S),x=E.min,H=E.max,b=E.reversescale?L(E.colorscale):E.colorscale,N=b.length,V=new Array(N),Y=new Array(N),$=0;$<N;$++){var Q=b[$];V[$]=x+Q[0]*(H-x),Y[$]=Q[1]}return{domain:V,range:Y}}function L(S){for(var E=S.length,x=new Array(E),H=E-1,b=0;H>=0;H--,b++){var N=S[H];x[b]=[1-N[0],N[1]]}return x}function D(S,E){E=E||{};for(var x=S.domain,H=S.range,b=H.length,N=new Array(b),V=0;V<b;V++){var Y=T(H[V]).toRgb();N[V]=[Y.r,Y.g,Y.b,Y.a]}var F,$=p.scale.linear().domain(x).range(N).clamp(!0),Q=E.noNumericCheck,se=E.returnArray;return(F=Q&&se?$:Q?function(J){return z($(J))}:se?function(J){return v(J)?$(J):T(J).isValid()?J:f.defaultLine}:function(J){return v(J)?z($(J)):T(J).isValid()?J:f.defaultLine}).domain=$.domain,F.range=function(){return H},F}function z(S){return T({r:S[0],g:S[1],b:S[2],a:S[3]}).toRgbString()}ve.exports={hasColorscale:function m(S,E,x){var H=E?g.nestedProperty(S,E).get()||{}:S,b=H[x||"color"];b&&b._inputArray&&(b=b._inputArray);var N=!1;if(g.isArrayOrTypedArray(b))for(var V=0;V<b.length;V++)if(v(b[V])){N=!0;break}return g.isPlainObject(H)&&(N||!0===H.showscale||v(H.cmin)&&v(H.cmax)||y(H.colorscale)||g.isPlainObject(H.colorbar))},extractOpts:C,extractScale:_,flipScale:L,makeColorScaleFunc:D,makeColorScaleFuncFromTrace:function w(S,E){return D(_(S),E)}}},8932:function(ve,K,o){"use strict";var p=o(8304),T=o(4288);ve.exports={moduleType:"component",name:"colorscale",attributes:o(9084),layoutAttributes:o(2332),supplyLayoutDefaults:o(1608),handleDefaults:o(7260),crossTraceDefaults:o(5504),calc:o(7128),scales:p.scales,defaultScale:p.defaultScale,getScale:p.get,isValidScale:p.isValid,hasColorscale:T.hasColorscale,extractOpts:T.extractOpts,extractScale:T.extractScale,flipScale:T.flipScale,makeColorScaleFunc:T.makeColorScaleFunc,makeColorScaleFuncFromTrace:T.makeColorScaleFuncFromTrace}},2332:function(ve,K,o){"use strict";var p=o(2880).extendFlat,T=o(9084),v=o(8304).scales;ve.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:v.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:v.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:v.RdBu,editType:"calc"}},coloraxis:p({_isSubplotObj:!0,editType:"calc"},T("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},1608:function(ve,K,o){"use strict";var p=o(3400),T=o(1780),v=o(2332),g=o(7260);ve.exports=function(y,m){function h(S,E){return p.coerce(y,m,v,S,E)}h("colorscale.sequential"),h("colorscale.sequentialminus"),h("colorscale.diverging");var C,_,c=m._colorAxes;function L(S,E){return p.coerce(C,_,v.coloraxis,S,E)}for(var D in c){var w=c[D];if(w[0])C=y[D]||{},(_=T.newContainer(m,D,"coloraxis"))._name=D,g(C,_,m,L,{prefix:"",cLetter:"c"});else{for(var z=0;z<w[2].length;z++)w[2][z]();delete m._colorAxes[D]}}}},8304:function(ve,K,o){"use strict";var p=o(9760),T={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},v=T.RdBu;function f(m){var h=0;if(!Array.isArray(m)||m.length<2||!m[0]||!m[m.length-1]||0!=+m[0][0]||1!=+m[m.length-1][0])return!1;for(var c=0;c<m.length;c++){var C=m[c];if(2!==C.length||+C[0]<h||!p(C[1]).isValid())return!1;h=+C[0]}return!0}ve.exports={scales:T,defaultScale:v,get:function g(m,h){if(h||(h=v),!m)return h;function c(){try{m=T[m]||JSON.parse(m)}catch{m=h}}return"string"==typeof m&&(c(),"string"==typeof m&&c()),f(m)?m:h},isValid:function y(m){return void 0!==T[m]||f(m)}}},8316:function(ve){"use strict";ve.exports=function(o,p,T,v,g){var f=(o-T)/(v-T),y=f+p/(v-T),m=(f+y)/2;return"left"===g||"bottom"===g?f:"center"===g||"middle"===g?m:"right"===g||"top"===g?y:f<.6666666666666666-m?f:y>1.3333333333333333-m?y:m}},7416:function(ve,K,o){"use strict";var p=o(3400),T=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];ve.exports=function(g,f,y,m){return g="left"===y?0:"center"===y?1:"right"===y?2:p.constrain(Math.floor(3*g),0,2),f="bottom"===m?0:"middle"===m?1:"top"===m?2:p.constrain(Math.floor(3*f),0,2),T[f][g]}},2760:function(ve,K){"use strict";K.selectMode=function(o){return"lasso"===o||"select"===o},K.drawMode=function(o){return"drawclosedpath"===o||"drawopenpath"===o||"drawline"===o||"drawrect"===o||"drawcircle"===o},K.openMode=function(o){return"drawline"===o||"drawopenpath"===o},K.rectMode=function(o){return"select"===o||"drawline"===o||"drawrect"===o||"drawcircle"===o},K.freeMode=function(o){return"lasso"===o||"drawclosedpath"===o||"drawopenpath"===o},K.selectingOrDrawing=function(o){return K.freeMode(o)||K.rectMode(o)}},6476:function(ve,K,o){"use strict";var p=o(9128),T=o(2264),v=o(9184),g=o(3400).removeElement,f=o(3816),y=ve.exports={};y.align=o(8316),y.getCursor=o(7416);var m=o(2616);function h(){var C=document.createElement("div");C.className="dragcover";var _=C.style;return _.position="fixed",_.left=0,_.right=0,_.top=0,_.bottom=0,_.zIndex=999999999,_.background="none",document.body.appendChild(C),C}function c(C){return p(C.changedTouches?C.changedTouches[0]:C,document.body)}y.unhover=m.wrapped,y.unhoverRaw=m.raw,y.init=function(_){var S,E,x,H,b,N,V,Y,L=_.gd,D=1,w=L._context.doubleClickDelay,z=_.element;L._mouseDownTime||(L._mouseDownTime=0),z.style.pointerEvents="all",z.onmousedown=se,v?(z._ontouchstart&&z.removeEventListener("touchstart",z._ontouchstart),z._ontouchstart=se,z.addEventListener("touchstart",se,{passive:!1})):z.ontouchstart=se;var Q=_.clampFn||function $(W,te,fe){return Math.abs(W)<fe&&(W=0),Math.abs(te)<fe&&(te=0),[W,te]};function se(W){L._dragged=!1,L._dragging=!0;var te=c(W);S=te[0],E=te[1],V=W.target,N=W,Y=2===W.buttons||W.ctrlKey,typeof W.clientX>"u"&&typeof W.clientY>"u"&&(W.clientX=S,W.clientY=E),(x=(new Date).getTime())-L._mouseDownTime<w?D+=1:(D=1,L._mouseDownTime=x),_.prepFn&&_.prepFn(W,S,E),T&&!Y?(b=h()).style.cursor=window.getComputedStyle(z).cursor:T||(b=document,H=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(z).cursor),document.addEventListener("mouseup",J),document.addEventListener("touchend",J),!1!==_.dragmode&&(W.preventDefault(),document.addEventListener("mousemove",F),document.addEventListener("touchmove",F,{passive:!1}))}function F(W){W.preventDefault();var te=c(W),me=Q(te[0]-S,te[1]-E,_.minDrag||f.MINDRAG),Z=me[0],G=me[1];(Z||G)&&(L._dragged=!0,y.unhover(L,W)),L._dragged&&_.moveFn&&!Y&&(L._dragdata={element:z,dx:Z,dy:G},_.moveFn(Z,G))}function J(W){if(delete L._dragdata,!1!==_.dragmode&&(W.preventDefault(),document.removeEventListener("mousemove",F),document.removeEventListener("touchmove",F)),document.removeEventListener("mouseup",J),document.removeEventListener("touchend",J),T?g(b):H&&(b.documentElement.style.cursor=H,H=null),L._dragging){if(L._dragging=!1,(new Date).getTime()-L._mouseDownTime>w&&(D=Math.max(D-1,1)),L._dragged)_.doneFn&&_.doneFn();else if(_.clickFn&&_.clickFn(D,N),!Y){var te;try{te=new MouseEvent("click",W)}catch{var fe=c(W);(te=document.createEvent("MouseEvents")).initMouseEvent("click",W.bubbles,W.cancelable,W.view,W.detail,W.screenX,W.screenY,fe[0],fe[1],W.ctrlKey,W.altKey,W.shiftKey,W.metaKey,W.button,W.relatedTarget)}V.dispatchEvent(te)}L._dragging=!1,L._dragged=!1}else L._dragged=!1}},y.coverSlip=h},2616:function(ve,K,o){"use strict";var p=o(5924),T=o(1200),v=o(2200).getGraphDiv,g=o(2456),f=ve.exports={};f.wrapped=function(y,m,h){(y=v(y))._fullLayout&&T.clear(y._fullLayout._uid+g.HOVERID),f.raw(y,m,h)},f.raw=function(m,h){var c=m._fullLayout,C=m._hoverdata;h||(h={}),(!h.target||m._dragged||!1!==p.triggerHandler(m,"plotly_beforehover",h))&&(c._hoverlayer.selectAll("g").remove(),c._hoverlayer.selectAll("line").remove(),c._hoverlayer.selectAll("circle").remove(),m._hoverdata=void 0,h.target&&C&&m.emit("plotly_unhover",{event:h,points:C}))}},8192:function(ve,K){"use strict";K.u={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},K.c={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},3616:function(ve,K,o){"use strict";var p=o(3428),T=o(3400),v=T.numberFormat,g=o(8248),f=o(9760),y=o(4040),m=o(6308),h=o(8932),c=T.strTranslate,C=o(2736),_=o(9616),D=o(4284).LINE_SPACING,w=o(3448).DESELECTDIM,z=o(3028),S=o(7152),E=o(624).appendArrayPointValue,x=ve.exports={};function H(Te,Ve,Pe){var Je=Ve.fillpattern,Xe=Je&&x.getPatternAttr(Je.shape,0,"");if(Xe){var Ge=x.getPatternAttr(Je.bgcolor,0,null),st=x.getPatternAttr(Je.fgcolor,0,null),wt=Je.fgopacity,kt=x.getPatternAttr(Je.size,0,8),At=x.getPatternAttr(Je.solidity,0,.3);x.pattern(Te,"point",Pe,Ve.uid,Xe,kt,At,void 0,Je.fillmode,Ge,st,wt)}else Ve.fillcolor&&Te.call(m.fill,Ve.fillcolor)}x.font=function(Te,Ve,Pe,Je){T.isPlainObject(Ve)&&(Je=Ve.color,Pe=Ve.size,Ve=Ve.family),Ve&&Te.style("font-family",Ve),Pe+1&&Te.style("font-size",Pe+"px"),Je&&Te.call(m.fill,Je)},x.setPosition=function(Te,Ve,Pe){Te.attr("x",Ve).attr("y",Pe)},x.setSize=function(Te,Ve,Pe){Te.attr("width",Ve).attr("height",Pe)},x.setRect=function(Te,Ve,Pe,Je,Xe){Te.call(x.setPosition,Ve,Pe).call(x.setSize,Je,Xe)},x.translatePoint=function(Te,Ve,Pe,Je){var Xe=Pe.c2p(Te.x),Ge=Je.c2p(Te.y);return!!(g(Xe)&&g(Ge)&&Ve.node())&&("text"===Ve.node().nodeName?Ve.attr("x",Xe).attr("y",Ge):Ve.attr("transform",c(Xe,Ge)),!0)},x.translatePoints=function(Te,Ve,Pe){Te.each(function(Je){var Xe=p.select(this);x.translatePoint(Je,Xe,Ve,Pe)})},x.hideOutsideRangePoint=function(Te,Ve,Pe,Je,Xe,Ge){Ve.attr("display",Pe.isPtWithinRange(Te,Xe)&&Je.isPtWithinRange(Te,Ge)?null:"none")},x.hideOutsideRangePoints=function(Te,Ve){if(Ve._hasClipOnAxisFalse){var Pe=Ve.xaxis,Je=Ve.yaxis;Te.each(function(Xe){var Ge=Xe[0].trace,st=Ge.xcalendar,wt=Ge.ycalendar,kt=y.traceIs(Ge,"bar-like")?".bartext":".point,.textpoint";Te.selectAll(kt).each(function(At){x.hideOutsideRangePoint(At,p.select(this),Pe,Je,st,wt)})})}},x.crispRound=function(Te,Ve,Pe){return Ve&&g(Ve)?Te._context.staticPlot?Ve:Ve<1?1:Math.round(Ve):Pe||0},x.singleLineStyle=function(Te,Ve,Pe,Je,Xe){Ve.style("fill","none");var Ge=(((Te||[])[0]||{}).trace||{}).line||{},st=Pe||Ge.width||0,wt=Xe||Ge.dash||"";m.stroke(Ve,Je||Ge.color),x.dashLine(Ve,wt,st)},x.lineGroupStyle=function(Te,Ve,Pe,Je){Te.style("fill","none").each(function(Xe){var Ge=(((Xe||[])[0]||{}).trace||{}).line||{},st=Ve||Ge.width||0,wt=Je||Ge.dash||"";p.select(this).call(m.stroke,Pe||Ge.color).call(x.dashLine,wt,st)})},x.dashLine=function(Te,Ve,Pe){Ve=x.dashStyle(Ve,Pe=+Pe||0),Te.style({"stroke-dasharray":Ve,"stroke-width":Pe+"px"})},x.dashStyle=function(Te,Ve){Ve=+Ve||1;var Pe=Math.max(Ve,3);return"solid"===Te?Te="":"dot"===Te?Te=Pe+"px,"+Pe+"px":"dash"===Te?Te=3*Pe+"px,"+3*Pe+"px":"longdash"===Te?Te=5*Pe+"px,"+5*Pe+"px":"dashdot"===Te?Te=3*Pe+"px,"+Pe+"px,"+Pe+"px,"+Pe+"px":"longdashdot"===Te&&(Te=5*Pe+"px,"+2*Pe+"px,"+Pe+"px,"+2*Pe+"px"),Te},x.singleFillStyle=function(Te,Ve){var Pe=p.select(Te.node());H(Te,((Pe.data()[0]||[])[0]||{}).trace||{},Ve)},x.fillGroupStyle=function(Te,Ve){Te.style("stroke-width",0).each(function(Pe){var Je=p.select(this);Pe[0].trace&&H(Je,Pe[0].trace,Ve)})};var b=o(1984);x.symbolNames=[],x.symbolFuncs=[],x.symbolBackOffs=[],x.symbolNeedLines={},x.symbolNoDot={},x.symbolNoFill={},x.symbolList=[],Object.keys(b).forEach(function(Te){var Ve=b[Te],Pe=Ve.n;x.symbolList.push(Pe,String(Pe),Te,Pe+100,String(Pe+100),Te+"-open"),x.symbolNames[Pe]=Te,x.symbolFuncs[Pe]=Ve.f,x.symbolBackOffs[Pe]=Ve.backoff||0,Ve.needLine&&(x.symbolNeedLines[Pe]=!0),Ve.noDot?x.symbolNoDot[Pe]=!0:x.symbolList.push(Pe+200,String(Pe+200),Te+"-dot",Pe+300,String(Pe+300),Te+"-open-dot"),Ve.noFill&&(x.symbolNoFill[Pe]=!0)});var N=x.symbolNames.length;function Y(Te,Ve,Pe,Je){return x.symbolFuncs[Te%100](Ve,Pe,Je)+(Te>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}x.symbolNumber=function(Te){if(g(Te))Te=+Te;else if("string"==typeof Te){var Ve=0;Te.indexOf("-open")>0&&(Ve=100,Te=Te.replace("-open","")),Te.indexOf("-dot")>0&&(Ve+=200,Te=Te.replace("-dot","")),(Te=x.symbolNames.indexOf(Te))>=0&&(Te+=Ve)}return Te%100>=N||Te>=400?0:Math.floor(Math.max(Te,0))};var $={x1:1,x2:0,y1:0,y2:0},Q={x1:0,x2:0,y1:1,y2:0},se=v("~f"),F={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:$},horizontalreversed:{node:"linearGradient",attrs:$,reversed:!0},vertical:{node:"linearGradient",attrs:Q},verticalreversed:{node:"linearGradient",attrs:Q,reversed:!0}};x.gradient=function(Te,Ve,Pe,Je,Xe,Ge){for(var st=Xe.length,wt=F[Je],kt=new Array(st),At=0;At<st;At++)wt.reversed?kt[st-1-At]=[se(100*(1-Xe[At][0])),Xe[At][1]]:kt[At]=[se(100*Xe[At][0]),Xe[At][1]];var Qt=Ve._fullLayout,nn="g"+Qt._uid+"-"+Pe,Ut=Qt._defs.select(".gradients").selectAll("#"+nn).data([Je+kt.join(";")],T.identity);Ut.exit().remove(),Ut.enter().append(wt.node).each(function(){var Lt=p.select(this);wt.attrs&&Lt.attr(wt.attrs),Lt.attr("id",nn);var Xt=Lt.selectAll("stop").data(kt);Xt.exit().remove(),Xt.enter().append("stop"),Xt.each(function(gt){var Yt=f(gt[1]);p.select(this).attr({offset:gt[0]+"%","stop-color":m.tinyRGB(Yt),"stop-opacity":Yt.getAlpha()})})}),Te.style(Ge,we(nn,Ve)).style(Ge+"-opacity",null),Te.classed("gradient_filled",!0)},x.pattern=function(Te,Ve,Pe,Je,Xe,Ge,st,wt,kt,At,Qt,nn){var Ut="legend"===Ve;wt&&("overlay"===kt?Qt=m.contrast(At=wt):(At=void 0,Qt=wt));var gt,Yt,dn,rn,Ke,St,Ye,at,Rt,tt,yt,Lt=Pe._fullLayout,Xt="p"+Lt._uid+"-"+Je,dt={},Re=f(Qt),it=m.tinyRGB(Re),De=nn*Re.getAlpha();switch(Xe){case"/":gt=Ge*Math.sqrt(2),Yt=Ge*Math.sqrt(2),St="path",dt={d:dn="M-"+gt/4+","+Yt/4+"l"+gt/2+",-"+Yt/2+"M0,"+Yt+"L"+gt+",0M"+gt/4*3+","+Yt/4*5+"l"+gt/2+",-"+Yt/2,opacity:De,stroke:it,"stroke-width":(rn=st*Ge)+"px"};break;case"\\":gt=Ge*Math.sqrt(2),Yt=Ge*Math.sqrt(2),St="path",dt={d:dn="M"+gt/4*3+",-"+Yt/4+"l"+gt/2+","+Yt/2+"M0,0L"+gt+","+Yt+"M-"+gt/4+","+Yt/4*3+"l"+gt/2+","+Yt/2,opacity:De,stroke:it,"stroke-width":(rn=st*Ge)+"px"};break;case"x":gt=Ge*Math.sqrt(2),Yt=Ge*Math.sqrt(2),dn="M-"+gt/4+","+Yt/4+"l"+gt/2+",-"+Yt/2+"M0,"+Yt+"L"+gt+",0M"+gt/4*3+","+Yt/4*5+"l"+gt/2+",-"+Yt/2+"M"+gt/4*3+",-"+Yt/4+"l"+gt/2+","+Yt/2+"M0,0L"+gt+","+Yt+"M-"+gt/4+","+Yt/4*3+"l"+gt/2+","+Yt/2,rn=Ge-Ge*Math.sqrt(1-st),St="path",dt={d:dn,opacity:De,stroke:it,"stroke-width":rn+"px"};break;case"|":St="path",St="path",dt={d:dn="M"+(gt=Ge)/2+",0L"+gt/2+","+(Yt=Ge),opacity:De,stroke:it,"stroke-width":(rn=st*Ge)+"px"};break;case"-":St="path",St="path",dt={d:dn="M0,"+(Yt=Ge)/2+"L"+(gt=Ge)+","+Yt/2,opacity:De,stroke:it,"stroke-width":(rn=st*Ge)+"px"};break;case"+":St="path",dn="M"+(gt=Ge)/2+",0L"+gt/2+","+(Yt=Ge)+"M0,"+Yt/2+"L"+gt+","+Yt/2,rn=Ge-Ge*Math.sqrt(1-st),St="path",dt={d:dn,opacity:De,stroke:it,"stroke-width":rn+"px"};break;case".":gt=Ge,Yt=Ge,Ke=st<Math.PI/4?Math.sqrt(st*Ge*Ge/Math.PI):(Ye=st,at=Math.PI/4,Rt=1,tt=Ge/2,yt=Ge/Math.sqrt(2),tt+(yt-tt)*(Ye-at)/(Rt-at)),St="circle",dt={cx:gt/2,cy:Yt/2,r:Ke,opacity:De,fill:it}}var $e=[Xe||"noSh",At||"noBg",Qt||"noFg",Ge,st].join(";"),je=Lt._defs.select(".patterns").selectAll("#"+Xt).data([$e],T.identity);je.exit().remove(),je.enter().append("pattern").each(function(){var Ye=p.select(this);if(Ye.attr({id:Xt,width:gt+"px",height:Yt+"px",patternUnits:"userSpaceOnUse",patternTransform:Ut?"scale(0.8)":""}),At){var at=f(At),Rt=m.tinyRGB(at),tt=at.getAlpha(),yt=Ye.selectAll("rect").data([0]);yt.exit().remove(),yt.enter().append("rect").attr({width:gt+"px",height:Yt+"px",fill:Rt,"fill-opacity":tt})}var ct=Ye.selectAll(St).data([0]);ct.exit().remove(),ct.enter().append(St).attr(dt)}),Te.style("fill",we(Xt,Pe)).style("fill-opacity",null),Te.classed("pattern_filled",!0)},x.initGradients=function(Te){T.ensureSingle(Te._fullLayout._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),p.select(Te).selectAll(".gradient_filled").classed("gradient_filled",!1)},x.initPatterns=function(Te){T.ensureSingle(Te._fullLayout._defs,"g","patterns").selectAll("pattern").remove(),p.select(Te).selectAll(".pattern_filled").classed("pattern_filled",!1)},x.getPatternAttr=function(Te,Ve,Pe){return Te&&T.isArrayOrTypedArray(Te)?Ve<Te.length?Te[Ve]:Pe:Te},x.pointStyle=function(Te,Ve,Pe,Je){if(Te.size()){var Xe=x.makePointStyleFns(Ve);Te.each(function(Ge){x.singlePointStyle(Ge,p.select(this),Ve,Xe,Pe,Je)})}},x.singlePointStyle=function(Te,Ve,Pe,Je,Xe,Ge){var st=Pe.marker,wt=st.line;if(Ge&&Ge.i>=0&&void 0===Te.i&&(Te.i=Ge.i),Ve.style("opacity",Je.selectedOpacityFn?Je.selectedOpacityFn(Te):void 0===Te.mo?st.opacity:Te.mo),Je.ms2mrc){var kt;kt="various"===Te.ms||"various"===st.size?3:Je.ms2mrc(Te.ms),Te.mrc=kt,Je.selectedSizeFn&&(kt=Te.mrc=Je.selectedSizeFn(Te));var At=x.symbolNumber(Te.mx||st.symbol)||0;Te.om=At%200>=100;var Qt=Be(Te,Pe),nn=P(Te,Pe);Ve.attr("d",Y(At,kt,Qt,nn))}var Lt,Xt,gt,Ut=!1;if(Te.so?(gt=wt.outlierwidth,Xt=wt.outliercolor,Lt=st.outliercolor):(gt=(Te.mlw+1||(wt||{}).width+1||(Te.trace?(Te.trace.marker.line||{}).width:0)+1)-1||0,Xt="mlc"in Te?Te.mlcc=Je.lineScale(Te.mlc):T.isArrayOrTypedArray(wt.color)?m.defaultLine:wt.color,T.isArrayOrTypedArray(st.color)&&(Lt=m.defaultLine,Ut=!0),Lt="mc"in Te?Te.mcc=Je.markerScale(Te.mc):st.color||st.colors||"rgba(0,0,0,0)",Je.selectedColorFn&&(Lt=Je.selectedColorFn(Te))),Te.om)Ve.call(m.stroke,Lt).style({"stroke-width":(gt||1)+"px",fill:"none"});else{Ve.style("stroke-width",(Te.isBlank?0:gt)+"px");var tn=st.gradient,dn=Te.mgt;dn?Ut=!0:dn=tn&&tn.type,T.isArrayOrTypedArray(dn)&&(F[dn=dn[0]]||(dn=0));var rn=st.pattern,Ke=rn&&x.getPatternAttr(rn.shape,Te.i,"");if(dn&&"none"!==dn){var St=Te.mgc;St?Ut=!0:St=tn.color;var dt=Pe.uid;Ut&&(dt+="-"+Te.i),x.gradient(Ve,Xe,dt,dn,[[0,St],[1,Lt]],"fill")}else if(Ke){var Re=!1,it=rn.fgcolor;!it&&Ge&&Ge.color&&(it=Ge.color,Re=!0);var ye=x.getPatternAttr(it,Te.i,Ge&&Ge.color||null),De=x.getPatternAttr(rn.bgcolor,Te.i,null),$e=rn.fgopacity,je=x.getPatternAttr(rn.size,Te.i,8),Ye=x.getPatternAttr(rn.solidity,Te.i,.3);Re=Re||Te.mcc||T.isArrayOrTypedArray(rn.shape)||T.isArrayOrTypedArray(rn.bgcolor)||T.isArrayOrTypedArray(rn.fgcolor)||T.isArrayOrTypedArray(rn.size)||T.isArrayOrTypedArray(rn.solidity);var at=Pe.uid;Re&&(at+="-"+Te.i),x.pattern(Ve,"point",Xe,at,Ke,je,Ye,Te.mcc,rn.fillmode,De,ye,$e)}else T.isArrayOrTypedArray(Lt)?m.fill(Ve,Lt[Te.i]):m.fill(Ve,Lt);gt&&m.stroke(Ve,Xt)}},x.makePointStyleFns=function(Te){var Ve={},Pe=Te.marker;return Ve.markerScale=x.tryColorscale(Pe,""),Ve.lineScale=x.tryColorscale(Pe,"line"),y.traceIs(Te,"symbols")&&(Ve.ms2mrc=z.isBubble(Te)?S(Te):function(){return(Pe.size||6)/2}),Te.selectedpoints&&T.extendFlat(Ve,x.makeSelectedPointStyleFns(Te)),Ve},x.makeSelectedPointStyleFns=function(Te){var Ve={},Xe=Te.marker||{},Ge=(Te.selected||{}).marker||{},st=(Te.unselected||{}).marker||{},kt=Ge.opacity,At=st.opacity,Qt=void 0!==kt,nn=void 0!==At;(T.isArrayOrTypedArray(Xe.opacity)||Qt||nn)&&(Ve.selectedOpacityFn=function(Ke){var St=void 0===Ke.mo?Xe.opacity:Ke.mo;return Ke.selected?Qt?kt:St:nn?At:w*St});var Ut=Xe.color,Lt=Ge.color,Xt=st.color;(Lt||Xt)&&(Ve.selectedColorFn=function(Ke){var St=Ke.mcc||Ut;return Ke.selected?Lt||St:Xt||St});var gt=Xe.size,Yt=Ge.size,tn=st.size,dn=void 0!==Yt,rn=void 0!==tn;return y.traceIs(Te,"symbols")&&(dn||rn)&&(Ve.selectedSizeFn=function(Ke){var St=Ke.mrc||gt/2;return Ke.selected?dn?Yt/2:St:rn?tn/2:St}),Ve},x.makeSelectedTextStyleFns=function(Te){var Ve={},wt=(Te.textfont||{}).color,kt=((Te.selected||{}).textfont||{}).color,At=((Te.unselected||{}).textfont||{}).color;return Ve.selectedTextColorFn=function(Qt){var nn=Qt.tc||wt;return Qt.selected?kt||nn:At||(kt?nn:m.addOpacity(nn,w))},Ve},x.selectedPointStyle=function(Te,Ve){if(Te.size()&&Ve.selectedpoints){var Pe=x.makeSelectedPointStyleFns(Ve),Je=Ve.marker||{},Xe=[];Pe.selectedOpacityFn&&Xe.push(function(Ge,st){Ge.style("opacity",Pe.selectedOpacityFn(st))}),Pe.selectedColorFn&&Xe.push(function(Ge,st){m.fill(Ge,Pe.selectedColorFn(st))}),Pe.selectedSizeFn&&Xe.push(function(Ge,st){var wt=st.mx||Je.symbol||0,kt=Pe.selectedSizeFn(st);Ge.attr("d",Y(x.symbolNumber(wt),kt,Be(st,Ve),P(st,Ve))),st.mrc2=kt}),Xe.length&&Te.each(function(Ge){for(var st=p.select(this),wt=0;wt<Xe.length;wt++)Xe[wt](st,Ge)})}},x.tryColorscale=function(Te,Ve){var Pe=Ve?T.nestedProperty(Te,Ve).get():Te;return Pe&&(Pe.colorscale||Pe._colorAx)&&T.isArrayOrTypedArray(Pe.color)?h.makeColorScaleFuncFromTrace(Pe):T.identity};var J={start:1,end:-1,middle:0,bottom:1,top:-1};function W(Te,Ve,Pe,Je,Xe){var Ge=p.select(Te.node().parentNode),st=-1!==Ve.indexOf("top")?"top":-1!==Ve.indexOf("bottom")?"bottom":"middle",wt=-1!==Ve.indexOf("left")?"end":-1!==Ve.indexOf("right")?"start":"middle",kt=Je?Je/.8+1:0,At=(C.lineCount(Te)-1)*D+1,Qt=J[wt]*kt,nn=.75*Pe+J[st]*kt+(J[st]-1)*At*Pe/2;Te.attr("text-anchor",wt),Xe||Ge.attr("transform",c(Qt,nn))}function te(Te,Ve){var Pe=Te.ts||Ve.textfont.size;return g(Pe)&&Pe>0?Pe:0}x.textPointStyle=function(Te,Ve,Pe){if(Te.size()){var Je;if(Ve.selectedpoints){var Xe=x.makeSelectedTextStyleFns(Ve);Je=Xe.selectedTextColorFn}var Ge=Ve.texttemplate,st=Pe._fullLayout;Te.each(function(wt){var kt=p.select(this),At=Ge?T.extractOption(wt,Ve,"txt","texttemplate"):T.extractOption(wt,Ve,"tx","text");if(At||0===At){if(Ge){var Qt=Ve._module.formatLabels,nn=Qt?Qt(wt,Ve,st):{},Ut={};E(Ut,Ve,wt.i),At=T.texttemplateString(At,nn,st._d3locale,Ut,wt,Ve._meta||{})}var Xt=wt.tp||Ve.textposition,gt=te(wt,Ve),Yt=Je?Je(wt):wt.tc||Ve.textfont.color;kt.call(x.font,wt.tf||Ve.textfont.family,gt,Yt).text(At).call(C.convertToTspans,Pe).call(W,Xt,gt,wt.mrc)}else kt.remove()})}},x.selectedTextStyle=function(Te,Ve){if(Te.size()&&Ve.selectedpoints){var Pe=x.makeSelectedTextStyleFns(Ve);Te.each(function(Je){var Xe=p.select(this),Ge=Pe.selectedTextColorFn(Je),st=Je.tp||Ve.textposition,wt=te(Je,Ve);m.fill(Xe,Ge);var kt=y.traceIs(Ve,"bar-like");W(Xe,st,wt,Je.mrc2||Je.mrc,kt)})}};var me,Z;function G(Te,Ve,Pe){return Pe&&(Te=He(Te)),Ve?ie(Te[1]):q(Te[0])}function q(Te){var Ve=p.round(Te,2);return me=Ve,Ve}function ie(Te){var Ve=p.round(Te,2);return Z=Ve,Ve}function ue(Te,Ve,Pe,Je){var Xe=Te[0]-Ve[0],Ge=Te[1]-Ve[1],st=Pe[0]-Ve[0],wt=Pe[1]-Ve[1],kt=Math.pow(Xe*Xe+Ge*Ge,.25),At=Math.pow(st*st+wt*wt,.25),Qt=(At*At*Xe-kt*kt*st)*Je,nn=(At*At*Ge-kt*kt*wt)*Je,Ut=3*At*(kt+At),Lt=3*kt*(kt+At);return[[q(Ve[0]+(Ut&&Qt/Ut)),ie(Ve[1]+(Ut&&nn/Ut))],[q(Ve[0]-(Lt&&Qt/Lt)),ie(Ve[1]-(Lt&&nn/Lt))]]}x.smoothopen=function(Te,Ve){if(Te.length<3)return"M"+Te.join("L");var Xe,Pe="M"+Te[0],Je=[];for(Xe=1;Xe<Te.length-1;Xe++)Je.push(ue(Te[Xe-1],Te[Xe],Te[Xe+1],Ve));for(Pe+="Q"+Je[0][0]+" "+Te[1],Xe=2;Xe<Te.length-1;Xe++)Pe+="C"+Je[Xe-2][1]+" "+Je[Xe-1][0]+" "+Te[Xe];return Pe+"Q"+Je[Te.length-3][1]+" "+Te[Te.length-1]},x.smoothclosed=function(Te,Ve){if(Te.length<3)return"M"+Te.join("L")+"Z";var Ge,Pe="M"+Te[0],Je=Te.length-1,Xe=[ue(Te[Je],Te[0],Te[1],Ve)];for(Ge=1;Ge<Je;Ge++)Xe.push(ue(Te[Ge-1],Te[Ge],Te[Ge+1],Ve));for(Xe.push(ue(Te[Je-1],Te[Je],Te[0],Ve)),Ge=1;Ge<=Je;Ge++)Pe+="C"+Xe[Ge-1][1]+" "+Xe[Ge][0]+" "+Te[Ge];return Pe+"C"+Xe[Je][1]+" "+Xe[0][0]+" "+Te[0]+"Z"};var le={hv:function(Te,Ve,Pe){return"H"+q(Ve[0])+"V"+G(Ve,1,Pe)},vh:function(Te,Ve,Pe){return"V"+ie(Ve[1])+"H"+G(Ve,0,Pe)},hvh:function(Te,Ve,Pe){return"H"+q((Te[0]+Ve[0])/2)+"V"+ie(Ve[1])+"H"+G(Ve,0,Pe)},vhv:function(Te,Ve,Pe){return"V"+ie((Te[1]+Ve[1])/2)+"H"+q(Ve[0])+"V"+G(Ve,1,Pe)}},pe=function(Te,Ve,Pe){return"L"+G(Ve,0,Pe)+","+G(Ve,1,Pe)};function He(Te,Ve){var Pe=Te.backoff,Je=Te.trace,Xe=Te.d,Ge=Te.i;if(Pe&&Je&&Je.marker&&Je.marker.angle%360==0&&Je.line&&"spline"!==Je.line.shape){var st=T.isArrayOrTypedArray(Pe),wt=Te,kt=Ve?Ve[0]:me||0,At=Ve?Ve[1]:Z||0,Qt=wt[0],nn=wt[1],Xt=Math.atan2(nn-At,Qt-kt),gt=st?Pe[Ge]:Pe;if("auto"===gt){var Yt=wt.i;"scatter"===Je.type&&Yt--;var tn=wt.marker,dn=tn.symbol;T.isArrayOrTypedArray(dn)&&(dn=dn[Yt]);var rn=tn.size;T.isArrayOrTypedArray(rn)&&(rn=rn[Yt]),gt=tn?x.symbolBackOffs[x.symbolNumber(dn)]*rn:0,gt+=x.getMarkerStandoff(Xe[Yt],Je)||0}var Ke=Qt-gt*Math.cos(Xt),St=nn-gt*Math.sin(Xt);(Ke<=Qt&&Ke>=kt||Ke>=Qt&&Ke<=kt)&&(St<=nn&&St>=At||St>=nn&&St<=At)&&(Te=[Ke,St])}return Te}x.steps=function(Te){var Ve=le[Te]||pe;return function(Pe){for(var Je="M"+q(Pe[0][0])+","+ie(Pe[0][1]),Xe=Pe.length,Ge=1;Ge<Xe;Ge++)Je+=Ve(Pe[Ge-1],Pe[Ge],Ge===Xe-1);return Je}},x.applyBackoff=He,x.makeTester=function(){var Te=T.ensureSingleById(p.select("body"),"svg","js-plotly-tester",function(Pe){Pe.attr(_.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Ve=T.ensureSingle(Te,"path","js-reference-point",function(Pe){Pe.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});x.tester=Te,x.testref=Ve},x.savedBBoxes={};var ke=0;function Me(Te){var Ve=Te.getAttribute("data-unformatted");if(null!==Ve)return Ve+Te.getAttribute("data-math")+Te.getAttribute("text-anchor")+Te.getAttribute("style")}function we(Te,Ve){if(!Te)return null;var Pe=Ve._context,Je=Pe._exportedPlot?"":Pe._baseUrl||"";return Je?"url('"+Je+"#"+Te+"')":"url(#"+Te+")"}x.bBox=function(Te,Ve,Pe){var Je,At,Qt;if(Pe||(Pe=Me(Te)),Pe){if(Je=x.savedBBoxes[Pe])return T.extendFlat({},Je)}else if(1===Te.childNodes.length){var Xe=Te.childNodes[0];if(Pe=Me(Xe)){var Ge=+Xe.getAttribute("x")||0,st=+Xe.getAttribute("y")||0,wt=Xe.getAttribute("transform");if(!wt){var kt=x.bBox(Xe,!1,Pe);return Ge&&(kt.left+=Ge,kt.right+=Ge),st&&(kt.top+=st,kt.bottom+=st),kt}if(Je=x.savedBBoxes[Pe+="~"+Ge+"~"+st+"~"+wt])return T.extendFlat({},Je)}}Ve?At=Te:(Qt=x.tester.node(),At=Te.cloneNode(!0),Qt.appendChild(At)),p.select(At).attr("transform",null).call(C.positionText,0,0);var nn=At.getBoundingClientRect(),Ut=x.testref.node().getBoundingClientRect();Ve||Qt.removeChild(At);var Lt={height:nn.height,width:nn.width,left:nn.left-Ut.left,top:nn.top-Ut.top,right:nn.right-Ut.left,bottom:nn.bottom-Ut.top};return ke>=1e4&&(x.savedBBoxes={},ke=0),Pe&&(x.savedBBoxes[Pe]=Lt),ke++,T.extendFlat({},Lt)},x.setClipUrl=function(Te,Ve,Pe){Te.attr("clip-path",we(Ve,Pe))},x.getTranslate=function(Te){var Xe=(Te[Te.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(Ge,st,wt){return[st,wt].join(" ")}).split(" ");return{x:+Xe[0]||0,y:+Xe[1]||0}},x.setTranslate=function(Te,Ve,Pe){var Ge=Te.attr?"attr":"setAttribute",st=Te[Te.attr?"attr":"getAttribute"]("transform")||"";return Ve=Ve||0,Pe=Pe||0,st=st.replace(/(\btranslate\(.*?\);?)/,"").trim(),st=(st+=c(Ve,Pe)).trim(),Te[Ge]("transform",st),st},x.getScale=function(Te){var Xe=(Te[Te.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(Ge,st,wt){return[st,wt].join(" ")}).split(" ");return{x:+Xe[0]||1,y:+Xe[1]||1}},x.setScale=function(Te,Ve,Pe){var Ge=Te.attr?"attr":"setAttribute",st=Te[Te.attr?"attr":"getAttribute"]("transform")||"";return Ve=Ve||1,Pe=Pe||1,st=st.replace(/(\bscale\(.*?\);?)/,"").trim(),st=(st+="scale("+Ve+","+Pe+")").trim(),Te[Ge]("transform",st),st};var Le=/\s*sc.*/;x.setPointGroupScale=function(Te,Ve,Pe){if(Ve=Ve||1,Pe=Pe||1,Te){var Je=1===Ve&&1===Pe?"":"scale("+Ve+","+Pe+")";Te.each(function(){var Xe=(this.getAttribute("transform")||"").replace(Le,"");Xe=(Xe+=Je).trim(),this.setAttribute("transform",Xe)})}};var B=/translate\([^)]*\)\s*$/;function P(Te,Ve){var Pe;return Te&&(Pe=Te.mf),void 0===Pe&&(Pe=Ve.marker&&Ve.marker.standoff||0),Ve._geo||Ve._xA?Pe:-Pe}x.setTextPointsScale=function(Te,Ve,Pe){Te&&Te.each(function(){var Je,Xe=p.select(this),Ge=Xe.select("text");if(Ge.node()){var st=parseFloat(Ge.attr("x")||0),wt=parseFloat(Ge.attr("y")||0),kt=(Xe.attr("transform")||"").match(B);Je=1===Ve&&1===Pe?[]:[c(st,wt),"scale("+Ve+","+Pe+")",c(-st,-wt)],kt&&Je.push(kt),Xe.attr("transform",Je.join(""))}})},x.getMarkerStandoff=P;var O,ne,be,ze,Ne,Oe,X=Math.atan2,j=Math.cos,I=Math.sin;function ae(Te,Ve){var Pe=Ve[0],Je=Ve[1];return[Pe*j(Te)-Je*I(Te),Pe*I(Te)+Je*j(Te)]}function Be(Te,Ve){var Pe=Te.ma;void 0===Pe&&(!(Pe=Ve.marker.angle)||T.isArrayOrTypedArray(Pe))&&(Pe=0);var Je,Xe,Ge=Ve.marker.angleref;if("previous"===Ge||"north"===Ge){if(Ve._geo){var st=Ve._geo.project(Te.lonlat);Je=st[0],Xe=st[1]}else{var wt=Ve._xA,kt=Ve._yA;if(!wt||!kt)return 90;Je=wt.c2p(Te.x),Xe=kt.c2p(Te.y)}if(Ve._geo){var gt,At=Te.lonlat[0],Qt=Te.lonlat[1],nn=Ve._geo.project([At,Qt+1e-5]),Ut=Ve._geo.project([At+1e-5,Qt]),Lt=X(Ut[1]-Xe,Ut[0]-Je),Xt=X(nn[1]-Xe,nn[0]-Je);if("north"===Ge)gt=Pe/180*Math.PI;else if("previous"===Ge){var Yt=At/180*Math.PI,tn=Qt/180*Math.PI,dn=O/180*Math.PI,rn=ne/180*Math.PI,Ke=dn-Yt,St=j(rn)*I(Ke),dt=I(rn)*j(tn)-j(rn)*I(tn)*j(Ke);gt=-X(St,dt)-Math.PI,O=At,ne=Qt}var Re=ae(Lt,[j(gt),0]),it=ae(Xt,[I(gt),0]);Pe=X(Re[1]+it[1],Re[0]+it[0])/Math.PI*180,"previous"===Ge&&(Oe!==Ve.uid||Te.i!==Ne+1)&&(Pe=null)}if("previous"===Ge&&!Ve._geo)if(Oe===Ve.uid&&Te.i===Ne+1&&g(Je)&&g(Xe)){var ye=Je-be,De=Xe-ze,$e=Ve.line&&Ve.line.shape||"",je=$e.slice($e.length-1);"h"===je&&(De=0),"v"===je&&(ye=0),Pe+=X(De,ye)/Math.PI*180+90}else Pe=null}return be=Je,ze=Xe,Ne=Te.i,Oe=Ve.uid,Pe}x.getMarkerAngle=Be},1984:function(ve,K,o){"use strict";var C,_,L,D,p=o(9604),T=o(3428).round,v="M0,0Z",g=Math.sqrt(2),f=Math.sqrt(3),y=Math.PI,m=Math.cos,h=Math.sin;function c(z){return null===z}function w(z,S,E){if(!(z&&z%360!=0||S))return E;if(L===z&&D===S&&C===E)return _;function x(fe,me){var Z=m(fe),G=h(fe),q=me[0],ie=me[1]+(S||0);return[q*Z-ie*G,q*G+ie*Z]}L=z,D=S,C=E;for(var H=z/180*y,b=0,N=0,V=p(E),Y="",$=0;$<V.length;$++){var Q=V[$],se=Q[0],F=b,J=N;if("M"===se||"L"===se)b=+Q[1],N=+Q[2];else if("m"===se||"l"===se)b+=+Q[1],N+=+Q[2];else if("H"===se)b=+Q[1];else if("h"===se)b+=+Q[1];else if("V"===se)N=+Q[1];else if("v"===se)N+=+Q[1];else if("A"===se){b=+Q[1],N=+Q[2];var W=x(H,[+Q[6],+Q[7]]);Q[6]=W[0],Q[7]=W[1],Q[3]=+Q[3]+z}("H"===se||"V"===se)&&(se="L"),("h"===se||"v"===se)&&(se="l"),("m"===se||"l"===se)&&(b-=F,N-=J);var te=x(H,[b,N]);("H"===se||"V"===se)&&(se="L"),("M"===se||"L"===se||"m"===se||"l"===se)&&(Q[1]=te[0],Q[2]=te[1]),Q[0]=se,Y+=Q[0]+Q.slice(1).join(",")}return _=Y,Y}ve.exports={circle:{n:0,f:function(z,S,E){if(c(S))return v;var x=T(z,2),H="M"+x+",0A"+x+","+x+" 0 1,1 0,-"+x+"A"+x+","+x+" 0 0,1 "+x+",0Z";return E?w(S,E,H):H}},square:{n:1,f:function(z,S,E){if(c(S))return v;var x=T(z,2);return w(S,E,"M"+x+","+x+"H-"+x+"V-"+x+"H"+x+"Z")}},diamond:{n:2,f:function(z,S,E){if(c(S))return v;var x=T(1.3*z,2);return w(S,E,"M"+x+",0L0,"+x+"L-"+x+",0L0,-"+x+"Z")}},cross:{n:3,f:function(z,S,E){if(c(S))return v;var x=T(.4*z,2),H=T(1.2*z,2);return w(S,E,"M"+H+","+x+"H"+x+"V"+H+"H-"+x+"V"+x+"H-"+H+"V-"+x+"H-"+x+"V-"+H+"H"+x+"V-"+x+"H"+H+"Z")}},x:{n:4,f:function(z,S,E){if(c(S))return v;var x=T(.8*z/g,2),H="l"+x+","+x,b="l"+x+",-"+x,N="l-"+x+",-"+x,V="l-"+x+","+x;return w(S,E,"M0,"+x+H+b+N+b+N+V+N+V+H+V+H+"Z")}},"triangle-up":{n:5,f:function(z,S,E){if(c(S))return v;var x=T(2*z/f,2);return w(S,E,"M-"+x+","+T(z/2,2)+"H"+x+"L0,-"+T(z,2)+"Z")}},"triangle-down":{n:6,f:function(z,S,E){if(c(S))return v;var x=T(2*z/f,2);return w(S,E,"M-"+x+",-"+T(z/2,2)+"H"+x+"L0,"+T(z,2)+"Z")}},"triangle-left":{n:7,f:function(z,S,E){if(c(S))return v;var x=T(2*z/f,2);return w(S,E,"M"+T(z/2,2)+",-"+x+"V"+x+"L-"+T(z,2)+",0Z")}},"triangle-right":{n:8,f:function(z,S,E){if(c(S))return v;var x=T(2*z/f,2);return w(S,E,"M-"+T(z/2,2)+",-"+x+"V"+x+"L"+T(z,2)+",0Z")}},"triangle-ne":{n:9,f:function(z,S,E){if(c(S))return v;var x=T(.6*z,2),H=T(1.2*z,2);return w(S,E,"M-"+H+",-"+x+"H"+x+"V"+H+"Z")}},"triangle-se":{n:10,f:function(z,S,E){if(c(S))return v;var x=T(.6*z,2),H=T(1.2*z,2);return w(S,E,"M"+x+",-"+H+"V"+x+"H-"+H+"Z")}},"triangle-sw":{n:11,f:function(z,S,E){if(c(S))return v;var x=T(.6*z,2),H=T(1.2*z,2);return w(S,E,"M"+H+","+x+"H-"+x+"V-"+H+"Z")}},"triangle-nw":{n:12,f:function(z,S,E){if(c(S))return v;var x=T(.6*z,2),H=T(1.2*z,2);return w(S,E,"M-"+x+","+H+"V-"+x+"H"+H+"Z")}},pentagon:{n:13,f:function(z,S,E){if(c(S))return v;var x=T(.951*z,2),H=T(.588*z,2),b=T(-z,2),N=T(-.309*z,2);return w(S,E,"M"+x+","+N+"L"+H+","+T(.809*z,2)+"H-"+H+"L-"+x+","+N+"L0,"+b+"Z")}},hexagon:{n:14,f:function(z,S,E){if(c(S))return v;var x=T(z,2),H=T(z/2,2),b=T(z*f/2,2);return w(S,E,"M"+b+",-"+H+"V"+H+"L0,"+x+"L-"+b+","+H+"V-"+H+"L0,-"+x+"Z")}},hexagon2:{n:15,f:function(z,S,E){if(c(S))return v;var x=T(z,2),H=T(z/2,2),b=T(z*f/2,2);return w(S,E,"M-"+H+","+b+"H"+H+"L"+x+",0L"+H+",-"+b+"H-"+H+"L-"+x+",0Z")}},octagon:{n:16,f:function(z,S,E){if(c(S))return v;var x=T(.924*z,2),H=T(.383*z,2);return w(S,E,"M-"+H+",-"+x+"H"+H+"L"+x+",-"+H+"V"+H+"L"+H+","+x+"H-"+H+"L-"+x+","+H+"V-"+H+"Z")}},star:{n:17,f:function(z,S,E){if(c(S))return v;var x=1.4*z,H=T(.225*x,2),b=T(.951*x,2),N=T(.363*x,2),V=T(.588*x,2),Y=T(-x,2),$=T(-.309*x,2),Q=T(.118*x,2),se=T(.809*x,2);return w(S,E,"M"+H+","+$+"H"+b+"L"+N+","+Q+"L"+V+","+se+"L0,"+T(.382*x,2)+"L-"+V+","+se+"L-"+N+","+Q+"L-"+b+","+$+"H-"+H+"L0,"+Y+"Z")}},hexagram:{n:18,f:function(z,S,E){if(c(S))return v;var x=T(.66*z,2),H=T(.38*z,2),b=T(.76*z,2);return w(S,E,"M-"+b+",0l-"+H+",-"+x+"h"+b+"l"+H+",-"+x+"l"+H+","+x+"h"+b+"l-"+H+","+x+"l"+H+","+x+"h-"+b+"l-"+H+","+x+"l-"+H+",-"+x+"h-"+b+"Z")}},"star-triangle-up":{n:19,f:function(z,S,E){if(c(S))return v;var x=T(z*f*.8,2),H=T(.8*z,2),b=T(1.6*z,2),N=T(4*z,2),V="A "+N+","+N+" 0 0 1 ";return w(S,E,"M-"+x+","+H+V+x+","+H+V+"0,-"+b+V+"-"+x+","+H+"Z")}},"star-triangle-down":{n:20,f:function(z,S,E){if(c(S))return v;var x=T(z*f*.8,2),H=T(.8*z,2),b=T(1.6*z,2),N=T(4*z,2),V="A "+N+","+N+" 0 0 1 ";return w(S,E,"M"+x+",-"+H+V+"-"+x+",-"+H+V+"0,"+b+V+x+",-"+H+"Z")}},"star-square":{n:21,f:function(z,S,E){if(c(S))return v;var x=T(1.1*z,2),H=T(2*z,2),b="A "+H+","+H+" 0 0 1 ";return w(S,E,"M-"+x+",-"+x+b+"-"+x+","+x+b+x+","+x+b+x+",-"+x+b+"-"+x+",-"+x+"Z")}},"star-diamond":{n:22,f:function(z,S,E){if(c(S))return v;var x=T(1.4*z,2),H=T(1.9*z,2),b="A "+H+","+H+" 0 0 1 ";return w(S,E,"M-"+x+",0"+b+"0,"+x+b+x+",0"+b+"0,-"+x+b+"-"+x+",0Z")}},"diamond-tall":{n:23,f:function(z,S,E){if(c(S))return v;var x=T(.7*z,2),H=T(1.4*z,2);return w(S,E,"M0,"+H+"L"+x+",0L0,-"+H+"L-"+x+",0Z")}},"diamond-wide":{n:24,f:function(z,S,E){if(c(S))return v;var x=T(1.4*z,2),H=T(.7*z,2);return w(S,E,"M0,"+H+"L"+x+",0L0,-"+H+"L-"+x+",0Z")}},hourglass:{n:25,f:function(z,S,E){if(c(S))return v;var x=T(z,2);return w(S,E,"M"+x+","+x+"H-"+x+"L"+x+",-"+x+"H-"+x+"Z")},noDot:!0},bowtie:{n:26,f:function(z,S,E){if(c(S))return v;var x=T(z,2);return w(S,E,"M"+x+","+x+"V-"+x+"L-"+x+","+x+"V-"+x+"Z")},noDot:!0},"circle-cross":{n:27,f:function(z,S,E){if(c(S))return v;var x=T(z,2);return w(S,E,"M0,"+x+"V-"+x+"M"+x+",0H-"+x+"M"+x+",0A"+x+","+x+" 0 1,1 0,-"+x+"A"+x+","+x+" 0 0,1 "+x+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(z,S,E){if(c(S))return v;var x=T(z,2),H=T(z/g,2);return w(S,E,"M"+H+","+H+"L-"+H+",-"+H+"M"+H+",-"+H+"L-"+H+","+H+"M"+x+",0A"+x+","+x+" 0 1,1 0,-"+x+"A"+x+","+x+" 0 0,1 "+x+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(z,S,E){if(c(S))return v;var x=T(z,2);return w(S,E,"M0,"+x+"V-"+x+"M"+x+",0H-"+x+"M"+x+","+x+"H-"+x+"V-"+x+"H"+x+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(z,S,E){if(c(S))return v;var x=T(z,2);return w(S,E,"M"+x+","+x+"L-"+x+",-"+x+"M"+x+",-"+x+"L-"+x+","+x+"M"+x+","+x+"H-"+x+"V-"+x+"H"+x+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(z,S,E){if(c(S))return v;var x=T(1.3*z,2);return w(S,E,"M"+x+",0L0,"+x+"L-"+x+",0L0,-"+x+"ZM0,-"+x+"V"+x+"M-"+x+",0H"+x)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(z,S,E){if(c(S))return v;var x=T(1.3*z,2),H=T(.65*z,2);return w(S,E,"M"+x+",0L0,"+x+"L-"+x+",0L0,-"+x+"ZM-"+H+",-"+H+"L"+H+","+H+"M-"+H+","+H+"L"+H+",-"+H)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(z,S,E){if(c(S))return v;var x=T(1.4*z,2);return w(S,E,"M0,"+x+"V-"+x+"M"+x+",0H-"+x)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(z,S,E){if(c(S))return v;var x=T(z,2);return w(S,E,"M"+x+","+x+"L-"+x+",-"+x+"M"+x+",-"+x+"L-"+x+","+x)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(z,S,E){if(c(S))return v;var x=T(1.2*z,2),H=T(.85*z,2);return w(S,E,"M0,"+x+"V-"+x+"M"+x+",0H-"+x+"M"+H+","+H+"L-"+H+",-"+H+"M"+H+",-"+H+"L-"+H+","+H)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(z,S,E){if(c(S))return v;var x=T(z/2,2),H=T(z,2);return w(S,E,"M"+x+","+H+"V-"+H+"M"+(x-H)+",-"+H+"V"+H+"M"+H+","+x+"H-"+H+"M-"+H+","+(x-H)+"H"+H)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(z,S,E){if(c(S))return v;var x=T(1.2*z,2),H=T(1.6*z,2),b=T(.8*z,2);return w(S,E,"M-"+x+","+b+"L0,0M"+x+","+b+"L0,0M0,-"+H+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(z,S,E){if(c(S))return v;var x=T(1.2*z,2),H=T(1.6*z,2),b=T(.8*z,2);return w(S,E,"M-"+x+",-"+b+"L0,0M"+x+",-"+b+"L0,0M0,"+H+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(z,S,E){if(c(S))return v;var x=T(1.2*z,2),H=T(1.6*z,2),b=T(.8*z,2);return w(S,E,"M"+b+","+x+"L0,0M"+b+",-"+x+"L0,0M-"+H+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(z,S,E){if(c(S))return v;var x=T(1.2*z,2),H=T(1.6*z,2),b=T(.8*z,2);return w(S,E,"M-"+b+","+x+"L0,0M-"+b+",-"+x+"L0,0M"+H+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(z,S,E){if(c(S))return v;var x=T(1.4*z,2);return w(S,E,"M"+x+",0H-"+x)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(z,S,E){if(c(S))return v;var x=T(1.4*z,2);return w(S,E,"M0,"+x+"V-"+x)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(z,S,E){if(c(S))return v;var x=T(z,2);return w(S,E,"M"+x+",-"+x+"L-"+x+","+x)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(z,S,E){if(c(S))return v;var x=T(z,2);return w(S,E,"M"+x+","+x+"L-"+x+",-"+x)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(z,S,E){if(c(S))return v;var x=T(z,2);return w(S,E,"M0,0L-"+x+","+T(2*z,2)+"H"+x+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(z,S,E){if(c(S))return v;var x=T(z,2);return w(S,E,"M0,0L-"+x+",-"+T(2*z,2)+"H"+x+"Z")},noDot:!0},"arrow-left":{n:47,f:function(z,S,E){if(c(S))return v;var x=T(2*z,2),H=T(z,2);return w(S,E,"M0,0L"+x+",-"+H+"V"+H+"Z")},noDot:!0},"arrow-right":{n:48,f:function(z,S,E){if(c(S))return v;var x=T(2*z,2),H=T(z,2);return w(S,E,"M0,0L-"+x+",-"+H+"V"+H+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(z,S,E){if(c(S))return v;var x=T(z,2);return w(S,E,"M-"+x+",0H"+x+"M0,0L-"+x+","+T(2*z,2)+"H"+x+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(z,S,E){if(c(S))return v;var x=T(z,2);return w(S,E,"M-"+x+",0H"+x+"M0,0L-"+x+",-"+T(2*z,2)+"H"+x+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(z,S,E){if(c(S))return v;var x=T(2*z,2),H=T(z,2);return w(S,E,"M0,-"+H+"V"+H+"M0,0L"+x+",-"+H+"V"+H+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(z,S,E){if(c(S))return v;var x=T(2*z,2),H=T(z,2);return w(S,E,"M0,-"+H+"V"+H+"M0,0L-"+x+",-"+H+"V"+H+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(z,S,E){if(c(S))return v;var x=y/2.5,H=2*z*m(x),b=2*z*h(x);return w(S,E,"M0,0L"+-H+","+b+"L"+H+","+b+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(z,S,E){if(c(S))return v;var x=y/4,H=2*z*m(x),b=2*z*h(x);return w(S,E,"M0,0L"+-H+","+b+"A "+2*z+","+2*z+" 0 0 1 "+H+","+b+"Z")},backoff:.4,noDot:!0}}},7644:function(ve){"use strict";ve.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},4880:function(ve,K,o){"use strict";var p=o(8248),T=o(4040),v=o(4460),g=o(3400),f=o(3792);function y(m,h,c,C){var _=h["error_"+C]||{},D=[];if(_.visible&&-1!==["linear","log"].indexOf(c.type)){for(var w=f(_),z=0;z<m.length;z++){var S=m[z],E=S.i;if(void 0===E)E=z;else if(null===E)continue;var x=S[C];if(p(c.c2l(x))){var H=w(x,E);if(p(H[0])&&p(H[1])){var b=S[C+"s"]=x-H[0],N=S[C+"h"]=x+H[1];D.push(b,N)}}}var Y=h._extremes[c._id],$=v.findExtremes(c,D,g.extendFlat({tozero:Y.opts.tozero},{padded:!0}));Y.min=Y.min.concat($.min),Y.max=Y.max.concat($.max)}}ve.exports=function(h){for(var c=h.calcdata,C=0;C<c.length;C++){var _=c[C],L=_[0].trace;if(!0===L.visible&&T.traceIs(L,"errorBarsOK")){var D=v.getFromId(h,L.xaxis),w=v.getFromId(h,L.yaxis);y(_,L,D,"x"),y(_,L,w,"y")}}}},3792:function(ve){"use strict";function K(o,p){return"percent"===o?function(T){return Math.abs(T*p/100)}:"constant"===o?function(){return Math.abs(p)}:"sqrt"===o?function(T){return Math.sqrt(Math.abs(T))}:void 0}ve.exports=function(p){var T=p.type,v=p.symmetric;if("data"===T){var g=p.array||[];if(v)return function(c,C){var _=+g[C];return[_,_]};var f=p.arrayminus||[];return function(c,C){var _=+g[C],L=+f[C];return isNaN(_)&&isNaN(L)?[NaN,NaN]:[L||0,_||0]}}var y=K(T,p.value),m=K(T,p.valueminus);return v||void 0===p.valueminus?function(c){var C=y(c);return[C,C]}:function(c){return[m(c),y(c)]}}},5200:function(ve,K,o){"use strict";var p=o(8248),T=o(4040),v=o(3400),g=o(1780),f=o(7644);ve.exports=function(y,m,h,c){var C="error_"+c.axis,_=g.newContainer(m,C),L=y[C]||{};function D(b,N){return v.coerce(L,_,f,b,N)}if(!1!==D("visible",void 0!==L.array||void 0!==L.value||"sqrt"===L.type)){var S=D("type","array"in L?"data":"percent"),E=!0;"sqrt"!==S&&(E=D("symmetric",!(("data"===S?"arrayminus":"valueminus")in L))),"data"===S?(D("array"),D("traceref"),E||(D("arrayminus"),D("tracerefminus"))):("percent"===S||"constant"===S)&&(D("value"),E||D("valueminus"));var x="copy_"+c.inherit+"style";c.inherit&&(m["error_"+c.inherit]||{}).visible&&D(x,!(L.color||p(L.thickness)||p(L.width))),(!c.inherit||!_[x])&&(D("color",h),D("thickness"),D("width",T.traceIs(m,"gl3d")?0:4))}}},4968:function(ve,K,o){"use strict";var p=o(3400),T=o(7824).overrideAll,v=o(7644),g={error_x:p.extendFlat({},v),error_y:p.extendFlat({},v)};delete g.error_x.copy_zstyle,delete g.error_y.copy_zstyle,delete g.error_y.copy_ystyle;var f={error_x:p.extendFlat({},v),error_y:p.extendFlat({},v),error_z:p.extendFlat({},v)};delete f.error_x.copy_ystyle,delete f.error_y.copy_ystyle,delete f.error_z.copy_ystyle,delete f.error_z.copy_zstyle,ve.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:g,bar:g,histogram:g,scatter3d:T(f,"calc","nested"),scattergl:T(g,"calc","nested")}},supplyDefaults:o(5200),calc:o(4880),makeComputeError:o(3792),plot:o(8512),style:o(2036),hoverInfo:function y(m,h,c){(h.error_y||{}).visible&&(c.yerr=m.yh-m.y,h.error_y.symmetric||(c.yerrneg=m.y-m.ys)),(h.error_x||{}).visible&&(c.xerr=m.xh-m.x,h.error_x.symmetric||(c.xerrneg=m.x-m.xs))}}},8512:function(ve,K,o){"use strict";var p=o(3428),T=o(8248),v=o(3616),g=o(3028);ve.exports=function(m,h,c,C){var L=c.xaxis,D=c.yaxis,w=C&&C.duration>0,z=m._context.staticPlot;h.each(function(S){var b,E=S[0].trace,x=E.error_x||{},H=E.error_y||{};E.ids&&(b=function($){return $.id});var N=g.hasMarkers(E)&&E.marker.maxdisplayed>0;!H.visible&&!x.visible&&(S=[]);var V=p.select(this).selectAll("g.errorbar").data(S,b);if(V.exit().remove(),S.length){x.visible||V.selectAll("path.xerror").remove(),H.visible||V.selectAll("path.yerror").remove(),V.style("opacity",1);var Y=V.enter().append("g").classed("errorbar",!0);w&&Y.style("opacity",0).transition().duration(C.duration).style("opacity",1),v.setClipUrl(V,c.layerClipId,m),V.each(function($){var Q=p.select(this),se=function f(y,m,h){var c={x:m.c2p(y.x),y:h.c2p(y.y)};return void 0!==y.yh&&(c.yh=h.c2p(y.yh),c.ys=h.c2p(y.ys),T(c.ys)||(c.noYS=!0,c.ys=h.c2p(y.ys,!0))),void 0!==y.xh&&(c.xh=m.c2p(y.xh),c.xs=m.c2p(y.xs),T(c.xs)||(c.noXS=!0,c.xs=m.c2p(y.xs,!0))),c}($,L,D);if(!N||$.vis){var F,J=Q.select("path.yerror");if(H.visible&&T(se.x)&&T(se.yh)&&T(se.ys)){var W=H.width;F="M"+(se.x-W)+","+se.yh+"h"+2*W+"m-"+W+",0V"+se.ys,se.noYS||(F+="m-"+W+",0h"+2*W),J.size()?w&&(J=J.transition().duration(C.duration).ease(C.easing)):J=Q.append("path").style("vector-effect",z?"none":"non-scaling-stroke").classed("yerror",!0),J.attr("d",F)}else J.remove();var te=Q.select("path.xerror");if(x.visible&&T(se.y)&&T(se.xh)&&T(se.xs)){var fe=(x.copy_ystyle?H:x).width;F="M"+se.xh+","+(se.y-fe)+"v"+2*fe+"m0,-"+fe+"H"+se.xs,se.noXS||(F+="m0,-"+fe+"v"+2*fe),te.size()?w&&(te=te.transition().duration(C.duration).ease(C.easing)):te=Q.append("path").style("vector-effect",z?"none":"non-scaling-stroke").classed("xerror",!0),te.attr("d",F)}else te.remove()}})}})}},2036:function(ve,K,o){"use strict";var p=o(3428),T=o(6308);ve.exports=function(g){g.each(function(f){var y=f[0].trace,m=y.error_y||{},h=y.error_x||{},c=p.select(this);c.selectAll("path.yerror").style("stroke-width",m.thickness+"px").call(T.stroke,m.color),h.copy_ystyle&&(h=m),c.selectAll("path.xerror").style("stroke-width",h.thickness+"px").call(T.stroke,h.color)})}},5756:function(ve,K,o){"use strict";var p=o(5376),T=o(5460).hoverlabel,v=o(2880).extendFlat;ve.exports={hoverlabel:{bgcolor:v({},T.bgcolor,{arrayOk:!0}),bordercolor:v({},T.bordercolor,{arrayOk:!0}),font:p({arrayOk:!0,editType:"none"}),align:v({},T.align,{arrayOk:!0}),namelength:v({},T.namelength,{arrayOk:!0}),editType:"none"}}},5056:function(ve,K,o){"use strict";var p=o(3400),T=o(4040);function v(g,f,y,m){m=m||p.identity,Array.isArray(g)&&(f[0][y]=m(g))}ve.exports=function(f){var y=f.calcdata,m=f._fullLayout;function h(D){return function(w){return p.coerceHoverinfo({hoverinfo:w},{_module:D._module},m)}}for(var c=0;c<y.length;c++){var C=y[c],_=C[0].trace;if(!T.traceIs(_,"pie-like")){var L=T.traceIs(_,"2dMap")?v:p.fillArray;L(_.hoverinfo,C,"hi",h(_)),_.hovertemplate&&L(_.hovertemplate,C,"ht"),_.hoverlabel&&(L(_.hoverlabel.bgcolor,C,"hbg"),L(_.hoverlabel.bordercolor,C,"hbc"),L(_.hoverlabel.font.size,C,"hts"),L(_.hoverlabel.font.color,C,"htc"),L(_.hoverlabel.font.family,C,"htf"),L(_.hoverlabel.namelength,C,"hnl"),L(_.hoverlabel.align,C,"hta"))}}}},2376:function(ve,K,o){"use strict";var p=o(4040),T=o(3292).hover;ve.exports=function(g,f,y){var m=p.getComponentMethod("annotations","onClick")(g,g._hoverdata);function h(){g.emit("plotly_click",{points:g._hoverdata,event:f})}void 0!==y&&T(g,f,y,!0),g._hoverdata&&f&&f.target&&(m&&m.then?m.then(h):h(),f.stopImmediatePropagation&&f.stopImmediatePropagation())}},2456:function(ve){"use strict";ve.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},5448:function(ve,K,o){"use strict";var p=o(3400),T=o(5756),v=o(6132);ve.exports=function(f,y,m,h){var C=p.extendFlat({},h.hoverlabel);y.hovertemplate&&(C.namelength=-1),v(f,y,function c(_,L){return p.coerce(f,y,T,_,L)},C)}},624:function(ve,K,o){"use strict";var p=o(3400);K.getSubplot=function(m){return m.subplot||m.xaxis+m.yaxis||m.geo},K.isTraceInSubplots=function(m,h){if("splom"===m.type){for(var c=m.xaxes||[],C=m.yaxes||[],_=0;_<c.length;_++)for(var L=0;L<C.length;L++)if(-1!==h.indexOf(c[_]+C[L]))return!0;return!1}return-1!==h.indexOf(K.getSubplot(m))},K.flat=function(m,h){for(var c=new Array(m.length),C=0;C<m.length;C++)c[C]=h;return c},K.p2c=function(m,h){for(var c=new Array(m.length),C=0;C<m.length;C++)c[C]=m[C].p2c(h);return c},K.getDistanceFunction=function(m,h,c,C){return"closest"===m?C||K.quadrature(h,c):"x"===m.charAt(0)?h:c},K.getClosest=function(m,h,c){if(!1!==c.index)c.index>=0&&c.index<m.length?c.distance=0:c.index=!1;else for(var C=0;C<m.length;C++){var _=h(m[C]);_<=c.distance&&(c.index=C,c.distance=_)}return c},K.inbox=function(m,h,c){return m*h<0||0===m?c:1/0},K.quadrature=function(m,h){return function(c){var C=m(c),_=h(c);return Math.sqrt(C*C+_*_)}},K.makeEventData=function(m,h,c){var C="index"in m?m.index:m.pointNumber,_={data:h._input,fullData:h,curveNumber:h.index,pointNumber:C};if(h._indexToPoints){var L=h._indexToPoints[C];1===L.length?_.pointIndex=L[0]:_.pointIndices=L}else _.pointIndex=C;return h._module.eventData?_=h._module.eventData(_,m,h,c,C):("xVal"in m?_.x=m.xVal:"x"in m&&(_.x=m.x),"yVal"in m?_.y=m.yVal:"y"in m&&(_.y=m.y),m.xa&&(_.xaxis=m.xa),m.ya&&(_.yaxis=m.ya),void 0!==m.zLabelVal&&(_.z=m.zLabelVal)),K.appendArrayPointValue(_,h,C),_},K.appendArrayPointValue=function(m,h,c){var C=h._arrayAttrs;if(C)for(var _=0;_<C.length;_++){var L=C[_],D=v(L);if(void 0===m[D]){var z=g(p.nestedProperty(h,L).get(),c);void 0!==z&&(m[D]=z)}}},K.appendArrayMultiPointValues=function(m,h,c){var C=h._arrayAttrs;if(C)for(var _=0;_<C.length;_++){var L=C[_],D=v(L);if(void 0===m[D]){for(var w=p.nestedProperty(h,L).get(),z=new Array(c.length),S=0;S<c.length;S++)z[S]=g(w,c[S]);m[D]=z}}};var T={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function v(m){return T[m]||m}function g(m,h){return Array.isArray(h)?Array.isArray(m)&&Array.isArray(m[h[0]])?m[h[0]][h[1]]:void 0:m[h]}var f={x:!0,y:!0},y={"x unified":!0,"y unified":!0};K.isUnifiedHover=function(m){return"string"==typeof m&&!!y[m]},K.isXYhover=function(m){return"string"==typeof m&&!!f[m]}},3292:function(ve,K,o){"use strict";var p=o(3428),T=o(8248),v=o(9760),g=o(3400),f=g.strTranslate,y=g.strRotate,m=o(5924),h=o(2736),c=o(2213),C=o(3616),_=o(6308),L=o(6476),D=o(4460),w=o(4040),z=o(624),S=o(2456),E=o(7864),x=o(1140),H=S.YANGLE,b=Math.PI*H/180,N=1/Math.sin(b),V=Math.cos(b),Y=Math.sin(b),$=S.HOVERARROWSIZE,Q=S.HOVERTEXTPAD,se={box:!0,ohlc:!0,violin:!0,candlestick:!0},F={scatter:!0,scattergl:!0,splom:!0};function J(P,X,j,I,ae){j||(j="xy");var O=Array.isArray(j)?j:[j],ne=P._fullLayout,be=ne._plots||[],ze=be[j],Ne=ne._has("cartesian");if(ze){var Oe=ze.overlays.map(function(xn){return xn.id});O=O.concat(Oe)}for(var Be=O.length,Te=new Array(Be),Ve=new Array(Be),Pe=!1,Je=0;Je<Be;Je++){var Xe=O[Je];if(be[Xe])Pe=!0,Te[Je]=be[Xe].xaxis,Ve[Je]=be[Xe].yaxis;else{if(!ne[Xe]||!ne[Xe]._subplot)return void g.warn("Unrecognized subplot: "+Xe);var Ge=ne[Xe]._subplot;Te[Je]=Ge.xaxis,Ve[Je]=Ge.yaxis}}var st=X.hovermode||ne.hovermode;if(st&&!Pe&&(st="closest"),-1===["x","y","closest","x unified","y unified"].indexOf(st)||!P.calcdata||P.querySelector(".zoombox")||P._dragging)return L.unhoverRaw(P,X);var wt=ne.hoverdistance;-1===wt&&(wt=1/0);var kt=ne.spikedistance;-1===kt&&(kt=1/0);var nn,Ut,Lt,Xt,gt,Yt,tn,dn,rn,Ke,St,dt,Re,At=[],Qt=[],it={hLinePoint:null,vLinePoint:null},ye=!1;if(Array.isArray(X))for(st="array",Lt=0;Lt<X.length;Lt++)(gt=P.calcdata[X[Lt].curveNumber||0])&&(Yt=gt[0].trace,"skip"!==gt[0].trace.hoverinfo&&(Qt.push(gt),"h"===Yt.orientation&&(ye=!0)));else{for(Xt=0;Xt<P.calcdata.length;Xt++)"skip"!==(Yt=(gt=P.calcdata[Xt])[0].trace).hoverinfo&&z.isTraceInSubplots(Yt,O)&&(Qt.push(gt),"h"===Yt.orientation&&(ye=!0));var $e,je;if(ae){if(!1===m.triggerHandler(P,"plotly_beforehover",X))return;var Ye=ae.getBoundingClientRect();$e=X.clientX-Ye.left,je=X.clientY-Ye.top,ne._calcInverseTransform(P);var at=g.apply3DTransform(ne._invTransform)($e,je);if(je=at[1],($e=at[0])<0||$e>Te[0]._length||je<0||je>Ve[0]._length)return L.unhoverRaw(P,X)}else $e="xpx"in X?X.xpx:Te[0]._length/2,je="ypx"in X?X.ypx:Ve[0]._length/2;if(X.pointerX=$e+Te[0]._offset,X.pointerY=je+Ve[0]._offset,nn="xval"in X?z.flat(O,X.xval):z.p2c(Te,$e),Ut="yval"in X?z.flat(O,X.yval):z.p2c(Ve,je),!T(nn[0])||!T(Ut[0]))return g.warn("Fx.hover failed",X,P),L.unhoverRaw(P,X)}var Rt=1/0;function tt(xn,wn){for(Xt=0;Xt<Qt.length;Xt++)if((gt=Qt[Xt])&&gt[0]&&gt[0].trace&&!0===(Yt=gt[0].trace).visible&&0!==Yt._length&&-1===["carpet","contourcarpet"].indexOf(Yt._module.name)){if("splom"===Yt.type?tn=O[dn=0]:(tn=z.getSubplot(Yt),dn=O.indexOf(tn)),z.isUnifiedHover(rn=st)&&(rn=rn.charAt(0)),dt={cd:gt,trace:Yt,xa:Te[dn],ya:Ve[dn],maxHoverDistance:wt,maxSpikeDistance:kt,index:!1,distance:Math.min(Rt,wt),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:_.defaultLine,name:Yt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},ne[tn]&&(dt.subplot=ne[tn]._subplot),ne._splomScenes&&ne._splomScenes[Yt.uid]&&(dt.scene=ne._splomScenes[Yt.uid]),Re=At.length,"array"===rn){var Xn=X[Xt];"pointNumber"in Xn?(dt.index=Xn.pointNumber,rn="closest"):(rn="","xval"in Xn&&(Ke=Xn.xval,rn="x"),"yval"in Xn&&(St=Xn.yval,rn=rn?"closest":"y"))}else void 0!==xn&&void 0!==wn?(Ke=xn,St=wn):(Ke=nn[dn],St=Ut[dn]);if(0!==wt)if(Yt._module&&Yt._module.hoverPoints){var gr=Yt._module.hoverPoints(dt,Ke,St,rn,{finiteRange:!0,hoverLayer:ne._hoverlayer});if(gr)for(var Cr,ci=0;ci<gr.length;ci++)T((Cr=gr[ci]).x0)&&T(Cr.y0)&&At.push(ue(Cr,st))}else g.log("Unrecognized trace type in hover:",Yt);if("closest"===st&&At.length>Re&&(At.splice(0,Re),Rt=At[0].distance),Ne&&0!==kt&&0===At.length){dt.distance=kt,dt.index=!1;var Mr=Yt._module.hoverPoints(dt,Ke,St,"closest",{hoverLayer:ne._hoverlayer});if(Mr&&(Mr=Mr.filter(function(qi){return qi.spikeDistance<=kt})),Mr&&Mr.length){var Hr,ei=Mr.filter(function(qi){return qi.xa.showspikes&&"hovered data"!==qi.xa.spikesnap});if(ei.length){var Di=ei[0];T(Di.x0)&&T(Di.y0)&&(Hr=ct(Di),(!it.vLinePoint||it.vLinePoint.spikeDistance>Hr.spikeDistance)&&(it.vLinePoint=Hr))}var oa=Mr.filter(function(qi){return qi.ya.showspikes&&"hovered data"!==qi.ya.spikesnap});if(oa.length){var Er=oa[0];T(Er.x0)&&T(Er.y0)&&(Hr=ct(Er),(!it.hLinePoint||it.hLinePoint.spikeDistance>Hr.spikeDistance)&&(it.hLinePoint=Hr))}}}}}function yt(xn,wn,Xn){for(var ci,gr=null,Cr=1/0,Mr=0;Mr<xn.length;Mr++)ci=xn[Mr].spikeDistance,Xn&&0===Mr&&(ci=-1/0),ci<=Cr&&ci<=wn&&(gr=xn[Mr],Cr=ci);return gr}function ct(xn){return xn?{xa:xn.xa,ya:xn.ya,x:void 0!==xn.xSpike?xn.xSpike:(xn.x0+xn.x1)/2,y:void 0!==xn.ySpike?xn.ySpike:(xn.y0+xn.y1)/2,distance:xn.distance,spikeDistance:xn.spikeDistance,curveNumber:xn.trace.index,color:xn.color,pointNumber:xn.index}:null}tt();var Et={fullLayout:ne,container:ne._hoverlayer,event:X},hn=P._spikepoints;P._spikepoints={vLinePoint:it.vLinePoint,hLinePoint:it.hLinePoint};var Rn=function(){At.sort(function(xn,wn){return xn.distance-wn.distance}),At=function Ue(P,X){for(var j=X.charAt(0),I=[],ae=[],O=[],ne=0;ne<P.length;ne++){var be=P[ne];w.traceIs(be.trace,"bar-like")||w.traceIs(be.trace,"box-violin")?O.push(be):be.trace[j+"period"]?ae.push(be):I.push(be)}return I.concat(ae).concat(O)}(At,st)};Rn();var Gn=st.charAt(0),Yn=("x"===Gn||"y"===Gn)&&At[0]&&F[At[0].trace.type];if(Ne&&0!==kt&&0!==At.length){var Wn=yt(At.filter(function(xn){return xn.ya.showspikes}),kt,Yn);it.hLinePoint=ct(Wn);var Vn=yt(At.filter(function(xn){return xn.xa.showspikes}),kt,Yn);it.vLinePoint=ct(Vn)}if(0===At.length){var Zn=L.unhoverRaw(P,X);return Ne&&(null!==it.hLinePoint||null!==it.vLinePoint)&&He(hn)&&le(P,it,Et),Zn}if(Ne&&He(hn)&&le(P,it,Et),z.isXYhover(rn)&&0!==At[0].length&&"splom"!==At[0].trace.type){var bn=At[0],Zt=(At=se[bn.trace.type]?At.filter(function(xn){return xn.trace.index===bn.trace.index}):[bn]).length;tt(Me("x",bn,ne),Me("y",bn,ne));var ge,$n=[],dr={},vr=0,Fn=function(xn){var wn=se[xn.trace.type]?W(xn):xn.trace.index;if(dr[wn]){var Xn=dr[wn]-1,gr=$n[Xn];Xn>0&&Math.abs(xn.distance)<Math.abs(gr.distance)&&($n[Xn]=xn)}else vr++,dr[wn]=vr,$n.push(xn)};for(ge=0;ge<Zt;ge++)Fn(At[ge]);for(ge=At.length-1;ge>Zt-1;ge--)Fn(At[ge]);At=$n,Rn()}var de=P._hoverdata,lt=[],ot=we(P),pt=Le(P);for(Lt=0;Lt<At.length;Lt++){var mt=At[Lt],Tt=z.makeEventData(mt,mt.trace,mt.cd);if(!1!==mt.hovertemplate){var ht=!1;mt.cd[mt.index]&&mt.cd[mt.index].ht&&(ht=mt.cd[mt.index].ht),mt.hovertemplate=ht||mt.trace.hovertemplate||!1}if(mt.xa&&mt.ya){var ut=mt.x0+mt.xa._offset,Ht=mt.x1+mt.xa._offset,_t=mt.y0+mt.ya._offset,jt=mt.y1+mt.ya._offset,an=Math.min(ut,Ht),vn=Math.max(ut,Ht),Nt=Math.min(_t,jt),un=Math.max(_t,jt);Tt.bbox={x0:an+pt,x1:vn+pt,y0:Nt+ot,y1:un+ot}}mt.eventData=[Tt],lt.push(Tt)}P._hoverdata=lt;var sn="y"===st&&(Qt.length>1||At.length>1)||"closest"===st&&ye&&At.length>1,Jt=_.combine(ne.plot_bgcolor||_.background,ne.paper_bgcolor),Mn=fe(At,{gd:P,hovermode:st,rotateLabels:sn,bgColor:Jt,container:ne._hoverlayer,outerContainer:ne._paper.node(),commonLabelOpts:ne.hoverlabel,hoverdistance:ne.hoverdistance}),zn=Mn.hoverLabels;if(z.isUnifiedHover(st)||(function Z(P,X,j,I){var Ge,st,wt,kt,At,Qt,nn,ae=X?"xa":"ya",O=X?"ya":"xa",ne=0,be=1,ze=P.size(),Ne=new Array(ze),Oe=0,Be=I.minX,Te=I.maxX,Ve=I.minY,Pe=I.maxY,Je=function(Ke){return Ke*j._invScaleX},Xe=function(Ke){return Ke*j._invScaleY};function Ut(Ke){var St=Ke[0],dt=Ke[Ke.length-1];if(wt=dt.pos+dt.dp+dt.size-St.pmax,(st=St.pmin-St.pos-St.dp+St.size)>.01){for(At=Ke.length-1;At>=0;At--)Ke[At].dp+=st;Ge=!1}if(!(wt<.01)){if(st<-.01){for(At=Ke.length-1;At>=0;At--)Ke[At].dp-=wt;Ge=!1}if(Ge){var Re=0;for(kt=0;kt<Ke.length;kt++)(Qt=Ke[kt]).pos+Qt.dp+Qt.size>St.pmax&&Re++;for(kt=Ke.length-1;kt>=0&&!(Re<=0);kt--)(Qt=Ke[kt]).pos>St.pmax-1&&(Qt.del=!0,Re--);for(kt=0;kt<Ke.length&&!(Re<=0);kt++)if((Qt=Ke[kt]).pos<St.pmin+1)for(Qt.del=!0,Re--,wt=2*Qt.size,At=Ke.length-1;At>=0;At--)Ke[At].dp-=wt;for(kt=Ke.length-1;kt>=0&&!(Re<=0);kt--)(Qt=Ke[kt]).pos+Qt.dp+Qt.size>St.pmax&&(Qt.del=!0,Re--)}}}for(P.each(function(Ke){var St=Ke[ae],dt=Ke[O],Re="x"===St._id.charAt(0),it=St.range;0===Oe&&it&&it[0]>it[1]!==Re&&(be=-1);var ye=0,De=Re?j.width:j.height;if("x"===j.hovermode||"y"===j.hovermode){var at,Rt,$e=G(Ke,X),je=Ke.anchor,Ye="end"===je?-1:1;if("middle"===je)Rt=(at=Ke.crossPos+(Re?Xe($e.y-Ke.by/2):Je(Ke.bx/2+Ke.tx2width/2)))+(Re?Xe(Ke.by):Je(Ke.bx));else if(Re)Rt=(at=Ke.crossPos+Xe($+$e.y)-Xe(Ke.by/2-$))+Xe(Ke.by);else{var tt=Je(Ye*$+$e.x),yt=tt+Je(Ye*Ke.bx);at=Ke.crossPos+Math.min(tt,yt),Rt=Ke.crossPos+Math.max(tt,yt)}Re?void 0!==Ve&&void 0!==Pe&&Math.min(Rt,Pe)-Math.max(at,Ve)>1&&("left"===dt.side?(ye=dt._mainLinePosition,De=j.width):De=dt._mainLinePosition):void 0!==Be&&void 0!==Te&&Math.min(Rt,Te)-Math.max(at,Be)>1&&("top"===dt.side?(ye=dt._mainLinePosition,De=j.height):De=dt._mainLinePosition)}Ne[Oe++]=[{datum:Ke,traceIndex:Ke.trace.index,dp:0,pos:Ke.pos,posref:Ke.posref,size:Ke.by*(Re?N:1)/2,pmin:ye,pmax:De}]}),Ne.sort(function(Ke,St){return Ke[0].posref-St[0].posref||be*(St[0].traceIndex-Ke[0].traceIndex)});!Ge&&ne<=ze;){for(ne++,Ge=!0,kt=0;kt<Ne.length-1;){var Lt=Ne[kt],Xt=Ne[kt+1],gt=Lt[Lt.length-1],Yt=Xt[0];if((st=gt.pos+gt.dp+gt.size-Yt.pos-Yt.dp+Yt.size)>.01&&gt.pmin===Yt.pmin&&gt.pmax===Yt.pmax){for(At=Xt.length-1;At>=0;At--)Xt[At].dp+=st;for(Lt.push.apply(Lt,Xt),Ne.splice(kt+1,1),nn=0,At=Lt.length-1;At>=0;At--)nn+=Lt[At].dp;for(wt=nn/Lt.length,At=Lt.length-1;At>=0;At--)Lt[At].dp-=wt;Ge=!1}else kt++}Ne.forEach(Ut)}for(kt=Ne.length-1;kt>=0;kt--){var tn=Ne[kt];for(At=tn.length-1;At>=0;At--){var dn=tn[At],rn=dn.datum;rn.offset=dn.dp,rn.del=dn.del}}}(zn,sn,ne,Mn.commonLabelBoundingBox),ie(zn,sn,ne._invScaleX,ne._invScaleY)),ae&&ae.tagName){var Pn=w.getComponentMethod("annotations","hasClickToShow")(P,lt);c(p.select(ae),Pn?"pointer":"")}!ae||I||!function pe(P,X,j){if(!j||j.length!==P._hoverdata.length)return!0;for(var I=j.length-1;I>=0;I--){var ae=j[I],O=P._hoverdata[I];if(ae.curveNumber!==O.curveNumber||String(ae.pointNumber)!==String(O.pointNumber)||String(ae.pointNumbers)!==String(O.pointNumbers))return!0}return!1}(P,0,de)||(de&&P.emit("plotly_unhover",{event:X,points:de}),P.emit("plotly_hover",{event:X,points:P._hoverdata,xaxes:Te,yaxes:Ve,xvals:nn,yvals:Ut}))}function W(P){return[P.trace.index,P.index,P.x0,P.y0,P.name,P.attr,P.xa?P.xa._id:"",P.ya?P.ya._id:""].join(",")}K.hover=function(X,j,I,ae){X=g.getGraphDiv(X);var O=j.target;g.throttle(X._fullLayout._uid+S.HOVERID,S.HOVERMINTIME,function(){J(X,j,I,ae,O)})},K.loneHover=function(X,j){var I=!0;Array.isArray(X)||(I=!1,X=[X]);var ae=j.gd,O=we(ae),ne=Le(ae),Oe=fe(X.map(function(Xe){var Ge=Xe._x0||Xe.x0||Xe.x||0,st=Xe._x1||Xe.x1||Xe.x||0,wt=Xe._y0||Xe.y0||Xe.y||0,kt=Xe._y1||Xe.y1||Xe.y||0,At=Xe.eventData;if(At){var Qt=Math.min(Ge,st),nn=Math.max(Ge,st),Ut=Math.min(wt,kt),Lt=Math.max(wt,kt),Xt=Xe.trace;if(w.traceIs(Xt,"gl3d")){var gt=ae._fullLayout[Xt.scene]._scene.container,Yt=gt.offsetLeft,tn=gt.offsetTop;Qt+=Yt,nn+=Yt,Ut+=tn,Lt+=tn}At.bbox={x0:Qt+ne,x1:nn+ne,y0:Ut+O,y1:Lt+O},j.inOut_bbox&&j.inOut_bbox.push(At.bbox)}else At=!1;return{color:Xe.color||_.defaultLine,x0:Xe.x0||Xe.x||0,x1:Xe.x1||Xe.x||0,y0:Xe.y0||Xe.y||0,y1:Xe.y1||Xe.y||0,xLabel:Xe.xLabel,yLabel:Xe.yLabel,zLabel:Xe.zLabel,text:Xe.text,name:Xe.name,idealAlign:Xe.idealAlign,borderColor:Xe.borderColor,fontFamily:Xe.fontFamily,fontSize:Xe.fontSize,fontColor:Xe.fontColor,nameLength:Xe.nameLength,textAlign:Xe.textAlign,trace:Xe.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Xe.hovertemplate||!1,hovertemplateLabels:Xe.hovertemplateLabels||!1,eventData:At}}),{gd:ae,hovermode:"closest",rotateLabels:false,bgColor:j.bgColor||_.background,container:p.select(j.container),outerContainer:j.outerContainer||j.container}).hoverLabels,Te=0,Ve=0;return Oe.sort(function(Xe,Ge){return Xe.y0-Ge.y0}).each(function(Xe,Ge){var st=Xe.y0-Xe.by/2;Xe.offset=st-5<Te?Te-st+5:0,Te=st+Xe.by+Xe.offset,Ge===j.anchorIndex&&(Ve=Xe.offset)}).each(function(Xe){Xe.offset-=Ve}),ie(Oe,false,ae._fullLayout._invScaleX,ae._fullLayout._invScaleY),I?Oe:Oe.node()};var te=/<extra>([\s\S]*)<\/extra>/;function fe(P,X){var j=X.gd,I=j._fullLayout,ae=X.hovermode,O=X.rotateLabels,ne=X.bgColor,be=X.container,ze=X.outerContainer,Ne=X.commonLabelOpts||{};if(0===P.length)return[[]];var Oe=X.fontFamily||S.HOVERFONT,Be=X.fontSize||S.HOVERFONTSIZE,Te=P[0],Ve=Te.xa,Pe=Te.ya,Je=ae.charAt(0),Xe=Je+"Label",Ge=Te[Xe];if(void 0===Ge&&"multicategory"===Ve.type)for(var st=0;st<P.length&&void 0===(Ge=P[st][Xe]);st++);var wt=B(j,ze),kt=wt.top,At=wt.width,Qt=wt.height,nn=void 0!==Ge&&Te.distance<=X.hoverdistance&&("x"===ae||"y"===ae);if(nn){var Lt,Xt,Ut=!0;for(Lt=0;Lt<P.length;Lt++)if(Ut&&void 0===P[Lt].zLabel&&(Ut=!1),Xt=P[Lt].hoverinfo||P[Lt].trace.hoverinfo){var gt=Array.isArray(Xt)?Xt:Xt.split("+");if(-1===gt.indexOf("all")&&-1===gt.indexOf(ae)){nn=!1;break}}Ut&&(nn=!1)}var Yt=be.selectAll("g.axistext").data(nn?[0]:[]);Yt.enter().append("g").classed("axistext",!0),Yt.exit().remove();var tn={minX:0,maxX:0,minY:0,maxY:0};if(Yt.each(function(){var Zt=p.select(this),Nn=g.ensureSingle(Zt,"path","",function(Nt){Nt.style({"stroke-width":"1px"})}),An=g.ensureSingle(Zt,"text","",function(Nt){Nt.attr("data-notex",1)}),$n=Ne.bgcolor||_.defaultLine,dr=Ne.bordercolor||_.contrast($n),vr=_.contrast($n),Fn={family:Ne.font.family||Oe,size:Ne.font.size||Be,color:Ne.font.color||vr};Nn.style({fill:$n,stroke:dr}),An.text(Ge).call(C.font,Fn).call(h.positionText,0,0).call(h.convertToTspans,j),Zt.attr("transform","");var de,lt,ge=B(j,An.node());if("x"===ae){var ot="top"===Ve.side?"-":"";An.attr("text-anchor","middle").call(h.positionText,0,"top"===Ve.side?kt-ge.bottom-$-Q:kt-ge.top+$+Q),lt=Pe._offset+("top"===Ve.side?0:Pe._length);var pt=ge.width/2+Q;(de=Ve._offset+(Te.x0+Te.x1)/2)<pt?(de=pt,Nn.attr("d","M-"+(pt-$)+",0L-"+(pt-2*$)+","+ot+$+"H"+pt+"v"+ot+(2*Q+ge.height)+"H-"+pt+"V"+ot+$+"Z")):de>I.width-pt?(de=I.width-pt,Nn.attr("d","M"+(pt-$)+",0L"+pt+","+ot+$+"v"+ot+(2*Q+ge.height)+"H-"+pt+"V"+ot+$+"H"+(pt-2*$)+"Z")):Nn.attr("d","M0,0L"+$+","+ot+$+"H"+pt+"v"+ot+(2*Q+ge.height)+"H-"+pt+"V"+ot+$+"H-"+$+"Z"),tn.minX=de-pt,tn.maxX=de+pt,"top"===Ve.side?(tn.minY=lt-(2*Q+ge.height),tn.maxY=lt-Q):(tn.minY=lt+Q,tn.maxY=lt+(2*Q+ge.height))}else{var mt,Tt,ht;"right"===Pe.side?(mt="start",Tt=1,ht="",de=Ve._offset+Ve._length):(mt="end",Tt=-1,ht="-",de=Ve._offset),lt=Pe._offset+(Te.y0+Te.y1)/2,An.attr("text-anchor",mt),Nn.attr("d","M0,0L"+ht+$+","+$+"V"+(Q+ge.height/2)+"h"+ht+(2*Q+ge.width)+"V-"+(Q+ge.height/2)+"H"+ht+$+"V-"+$+"Z"),tn.minY=lt-(Q+ge.height/2),tn.maxY=lt+(Q+ge.height/2),"right"===Pe.side?(tn.minX=de+$,tn.maxX=de+$+(2*Q+ge.width)):(tn.minX=de-$-(2*Q+ge.width),tn.maxX=de-$);var jt,ut=ge.height/2,Ht=kt-ge.top-ut,_t="clip"+I._uid+"commonlabel"+Pe._id;if(de<ge.width+2*Q+$){jt="M-"+($+Q)+"-"+ut+"h-"+(ge.width-Q)+"V"+ut+"h"+(ge.width-Q)+"Z";var an=ge.width-de+Q;h.positionText(An,an,Ht),"end"===mt&&An.selectAll("tspan").each(function(){var Nt=p.select(this),un=C.tester.append("text").text(Nt.text()).call(C.font,Fn),sn=B(j,un.node());Math.round(sn.width)<Math.round(ge.width)&&Nt.attr("x",an-sn.width),un.remove()})}else h.positionText(An,Tt*(Q+$),Ht),jt=null;var vn=I._topclips.selectAll("#"+_t).data(jt?[0]:[]);vn.enter().append("clipPath").attr("id",_t).append("path"),vn.exit().remove(),vn.select("path").attr("d",jt),C.setClipUrl(An,jt?_t:null,j)}Zt.attr("transform",f(de,lt))}),z.isUnifiedHover(ae)){be.selectAll("g.hovertext").remove();var dn=P.filter(function(Zt){return"none"!==Zt.hoverinfo});if(0===dn.length)return[];var rn=I.hoverlabel,Ke=rn.font,dt={font:Ke};E({showlegend:!0,legend:{title:{text:Ge,font:Ke},font:Ke,bgcolor:rn.bgcolor,bordercolor:rn.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:I.legend?I.legend.traceorder:void 0,orientation:"v"}},dt,j._fullData);var Re=dt.legend;Re.entries=[];for(var it=0;it<dn.length;it++){var ye=dn[it];if("none"!==ye.hoverinfo){var De=me(ye,!0,ae,I,Ge),$e=De[0],je=De[1];ye.name=je,ye.text=""!==je?je+" : "+$e:$e;var Ye=ye.cd[ye.index];Ye&&(Ye.mc&&(ye.mc=Ye.mc),Ye.mcc&&(ye.mc=Ye.mcc),Ye.mlc&&(ye.mlc=Ye.mlc),Ye.mlcc&&(ye.mlc=Ye.mlcc),Ye.mlw&&(ye.mlw=Ye.mlw),Ye.mrc&&(ye.mrc=Ye.mrc),Ye.dir&&(ye.dir=Ye.dir)),ye._distinct=!0,Re.entries.push([ye])}}Re.entries.sort(function(Zt,Nn){return Zt[0].trace.index-Nn[0].trace.index}),Re.layer=be,Re._inHover=!0,Re._groupTitleFont=rn.grouptitlefont,x(j,Re);var Rn,Gn,Yn,Kt,at=be.select("g.legend"),Rt=B(j,at.node()),tt=Rt.width+2*Q,yt=Rt.height+2*Q,ct=dn[0],Et=(ct.x0+ct.x1)/2,hn=(ct.y0+ct.y1)/2,Tn=!(w.traceIs(ct.trace,"bar-like")||w.traceIs(ct.trace,"box-violin"));"y"===Je?Tn?(Gn=hn-Q,Rn=hn+Q):(Gn=Math.min.apply(null,dn.map(function(Zt){return Math.min(Zt.y0,Zt.y1)})),Rn=Math.max.apply(null,dn.map(function(Zt){return Math.max(Zt.y0,Zt.y1)}))):Gn=Rn=g.mean(dn.map(function(Zt){return(Zt.y0+Zt.y1)/2}))-yt/2,"x"===Je?Tn?(Yn=Et+Q,Kt=Et-Q):(Yn=Math.max.apply(null,dn.map(function(Zt){return Math.max(Zt.x0,Zt.x1)})),Kt=Math.min.apply(null,dn.map(function(Zt){return Math.min(Zt.x0,Zt.x1)}))):Yn=Kt=g.mean(dn.map(function(Zt){return(Zt.x0+Zt.x1)/2}))-tt/2;var Vn,Zn,Wn=Ve._offset,kn=Pe._offset;return Kt+=Wn-tt,Gn+=kn-yt,Vn=(Yn+=Wn)+tt<At&&Yn>=0?Yn:Kt+tt<At&&Kt>=0?Kt:Wn+tt<At?Wn:Yn-Et<Et-Kt+tt?At-tt:0,Zn=(Rn+=kn)+yt<Qt&&Rn>=0?Rn:Gn+yt<Qt&&Gn>=0?Gn:kn+yt<Qt?kn:Rn-hn<hn-Gn+yt?Qt-yt:0,at.attr("transform",f((Vn+=Q)-1,(Zn+=Q)-1)),at}var bn=be.selectAll("g.hovertext").data(P,function(Zt){return W(Zt)});return bn.enter().append("g").classed("hovertext",!0).each(function(){var Zt=p.select(this);Zt.append("rect").call(_.fill,_.addOpacity(ne,.8)),Zt.append("text").classed("name",!0),Zt.append("path").style("stroke-width","1px"),Zt.append("text").classed("nums",!0).call(C.font,Oe,Be)}),bn.exit().remove(),bn.each(function(Zt){var Nn=p.select(this).attr("transform",""),An=Zt.color;Array.isArray(An)&&(An=An[Zt.eventData[0].pointNumber]);var $n=Zt.bgcolor||An,dr=_.combine(_.opacity($n)?$n:_.defaultLine,ne),vr=_.combine(_.opacity(An)?An:_.defaultLine,ne),Fn=Zt.borderColor||_.contrast(dr),ge=me(Zt,nn,ae,I,Ge,Nn),de=ge[0],lt=ge[1],ot=Nn.select("text.nums").call(C.font,Zt.fontFamily||Oe,Zt.fontSize||Be,Zt.fontColor||Fn).text(de).attr("data-notex",1).call(h.positionText,0,0).call(h.convertToTspans,j),pt=Nn.select("text.name"),mt=0,Tt=0;if(lt&&lt!==de){pt.call(C.font,Zt.fontFamily||Oe,Zt.fontSize||Be,vr).text(lt).attr("data-notex",1).call(h.positionText,0,0).call(h.convertToTspans,j);var ht=B(j,pt.node());mt=ht.width+2*Q,Tt=ht.height+2*Q}else pt.remove(),Nn.select("rect").remove();Nn.select("path").style({fill:dr,stroke:Fn});var ut=Zt.xa._offset+(Zt.x0+Zt.x1)/2,Ht=Zt.ya._offset+(Zt.y0+Zt.y1)/2,_t=Math.abs(Zt.x1-Zt.x0),jt=Math.abs(Zt.y1-Zt.y0),an=B(j,ot.node()),vn=an.width/I._invScaleX,Nt=an.height/I._invScaleY;Zt.ty0=(kt-an.top)/I._invScaleY,Zt.bx=vn+2*Q,Zt.by=Math.max(Nt+2*Q,Tt),Zt.anchor="start",Zt.txwidth=vn,Zt.tx2width=mt,Zt.offset=0;var sn,Jt,un=(vn+$+Q+mt)*I._invScaleX;if(O)Zt.pos=ut,sn=Ht+jt/2+un<=Qt,Jt=Ht-jt/2-un>=0,"top"!==Zt.idealAlign&&sn||!Jt?sn?(Ht+=jt/2,Zt.anchor="start"):Zt.anchor="middle":(Ht-=jt/2,Zt.anchor="end"),Zt.crossPos=Ht;else{if(Zt.pos=Ht,sn=ut+_t/2+un<=At,Jt=ut-_t/2-un>=0,"left"!==Zt.idealAlign&&sn||!Jt)if(sn)ut+=_t/2,Zt.anchor="start";else{Zt.anchor="middle";var Mn=un/2,zn=ut+Mn-At,Pn=ut-Mn;zn>0&&(ut-=zn),Pn<0&&(ut+=-Pn)}else ut-=_t/2,Zt.anchor="end";Zt.crossPos=ut}ot.attr("text-anchor",Zt.anchor),mt&&pt.attr("text-anchor",Zt.anchor),Nn.attr("transform",f(ut,Ht)+(O?y(H):""))}),{hoverLabels:bn,commonLabelBoundingBox:tn}}function me(P,X,j,I,ae,O){var ne="",be="";void 0!==P.nameOverride&&(P.name=P.nameOverride),P.name&&(P.trace._meta&&(P.name=g.templateString(P.name,P.trace._meta)),ne=ke(P.name,P.nameLength));var ze=j.charAt(0);void 0!==P.zLabel?(void 0!==P.xLabel&&(be+="x: "+P.xLabel+"<br>"),void 0!==P.yLabel&&(be+="y: "+P.yLabel+"<br>"),"choropleth"!==P.trace.type&&"choroplethmapbox"!==P.trace.type&&(be+=(be?"z: ":"")+P.zLabel)):X&&P[ze+"Label"]===ae?be=P[("x"===ze?"y":"x")+"Label"]||"":void 0===P.xLabel?void 0!==P.yLabel&&"scattercarpet"!==P.trace.type&&(be=P.yLabel):be=void 0===P.yLabel?P.xLabel:"("+P.xLabel+", "+P.yLabel+")",(P.text||0===P.text)&&!Array.isArray(P.text)&&(be+=(be?"<br>":"")+P.text),void 0!==P.extraText&&(be+=(be?"<br>":"")+P.extraText),O&&""===be&&!P.hovertemplate&&(""===ne&&O.remove(),be=ne);var Oe=P.hovertemplate||!1;if(Oe){var Be=P.hovertemplateLabels||P;P[ze+"Label"]!==ae&&(Be[ze+"other"]=Be[ze+"Val"],Be[ze+"otherLabel"]=Be[ze+"Label"]),be=(be=g.hovertemplateString(Oe,Be,I._d3locale,P.eventData[0]||{},P.trace._meta)).replace(te,function(Te,Ve){return ne=ke(Ve,P.nameLength),""})}return[be,ne]}function G(P,X){var j=0,I=P.offset;return X&&(I*=-Y,j=P.offset*V),{x:j,y:I}}function ie(P,X,j,I){var ae=function(ne){return ne*j},O=function(ne){return ne*I};P.each(function(ne){var be=p.select(this);if(ne.del)return be.remove();var ze=be.select("text.nums"),Ne=ne.anchor,Oe="end"===Ne?-1:1,Be=function q(P){var X={start:1,end:-1,middle:0}[P.anchor],j=X*($+Q),I=j+X*(P.txwidth+Q);return"middle"===P.anchor&&(j-=P.tx2width/2,I+=P.txwidth/2+Q),{alignShift:X,textShiftX:j,text2ShiftX:I}}(ne),Te=G(ne,X),Ve=Te.x,Pe=Te.y,Je="middle"===Ne;be.select("path").attr("d",Je?"M-"+ae(ne.bx/2+ne.tx2width/2)+","+O(Pe-ne.by/2)+"h"+ae(ne.bx)+"v"+O(ne.by)+"h-"+ae(ne.bx)+"Z":"M0,0L"+ae(Oe*$+Ve)+","+O($+Pe)+"v"+O(ne.by/2-$)+"h"+ae(Oe*ne.bx)+"v-"+O(ne.by)+"H"+ae(Oe*$+Ve)+"V"+O(Pe-$)+"Z");var Xe=Ve+Be.textShiftX,Ge=Pe+ne.ty0-ne.by/2+Q,st=ne.textAlign||"auto";"auto"!==st&&("left"===st&&"start"!==Ne?(ze.attr("text-anchor","start"),Xe=Je?-ne.bx/2-ne.tx2width/2+Q:-ne.bx-Q):"right"===st&&"end"!==Ne&&(ze.attr("text-anchor","end"),Xe=Je?ne.bx/2-ne.tx2width/2-Q:ne.bx+Q)),ze.call(h.positionText,ae(Xe),O(Ge)),ne.tx2width&&(be.select("text.name").call(h.positionText,ae(Be.text2ShiftX+Be.alignShift*Q+Ve),O(Pe+ne.ty0-ne.by/2+Q)),be.select("rect").call(C.setRect,ae(Be.text2ShiftX+(Be.alignShift-1)*ne.tx2width/2+Ve),O(Pe-ne.by/2-1),ae(ne.tx2width),O(ne.by+2)))})}function ue(P,X){var j=P.index,I=P.trace||{},ae=P.cd[0],O=P.cd[j]||{};function ne(Te){return Te||T(Te)&&0===Te}var be=Array.isArray(j)?function(Te,Ve){var Pe=g.castOption(ae,j,Te);return ne(Pe)?Pe:g.extractOption({},I,"",Ve)}:function(Te,Ve){return g.extractOption(O,I,Te,Ve)};function ze(Te,Ve,Pe){var Je=be(Ve,Pe);ne(Je)&&(P[Te]=Je)}if(ze("hoverinfo","hi","hoverinfo"),ze("bgcolor","hbg","hoverlabel.bgcolor"),ze("borderColor","hbc","hoverlabel.bordercolor"),ze("fontFamily","htf","hoverlabel.font.family"),ze("fontSize","hts","hoverlabel.font.size"),ze("fontColor","htc","hoverlabel.font.color"),ze("nameLength","hnl","hoverlabel.namelength"),ze("textAlign","hta","hoverlabel.align"),P.posref="y"===X||"closest"===X&&"h"===I.orientation?P.xa._offset+(P.x0+P.x1)/2:P.ya._offset+(P.y0+P.y1)/2,P.x0=g.constrain(P.x0,0,P.xa._length),P.x1=g.constrain(P.x1,0,P.xa._length),P.y0=g.constrain(P.y0,0,P.ya._length),P.y1=g.constrain(P.y1,0,P.ya._length),void 0!==P.xLabelVal&&(P.xLabel="xLabel"in P?P.xLabel:D.hoverLabelText(P.xa,P.xLabelVal,I.xhoverformat),P.xVal=P.xa.c2d(P.xLabelVal)),void 0!==P.yLabelVal&&(P.yLabel="yLabel"in P?P.yLabel:D.hoverLabelText(P.ya,P.yLabelVal,I.yhoverformat),P.yVal=P.ya.c2d(P.yLabelVal)),void 0!==P.zLabelVal&&void 0===P.zLabel&&(P.zLabel=String(P.zLabelVal)),!(isNaN(P.xerr)||"log"===P.xa.type&&P.xerr<=0)){var Ne=D.tickText(P.xa,P.xa.c2l(P.xerr),"hover").text;P.xLabel+=void 0!==P.xerrneg?" +"+Ne+" / -"+D.tickText(P.xa,P.xa.c2l(P.xerrneg),"hover").text:" \xb1 "+Ne,"x"===X&&(P.distance+=1)}if(!(isNaN(P.yerr)||"log"===P.ya.type&&P.yerr<=0)){var Oe=D.tickText(P.ya,P.ya.c2l(P.yerr),"hover").text;P.yLabel+=void 0!==P.yerrneg?" +"+Oe+" / -"+D.tickText(P.ya,P.ya.c2l(P.yerrneg),"hover").text:" \xb1 "+Oe,"y"===X&&(P.distance+=1)}var Be=P.hoverinfo||P.trace.hoverinfo;return Be&&"all"!==Be&&(-1===(Be=Array.isArray(Be)?Be:Be.split("+")).indexOf("x")&&(P.xLabel=void 0),-1===Be.indexOf("y")&&(P.yLabel=void 0),-1===Be.indexOf("z")&&(P.zLabel=void 0),-1===Be.indexOf("text")&&(P.text=void 0),-1===Be.indexOf("name")&&(P.name=void 0)),P}function le(P,X,j){var Ne,Oe,I=j.container,ae=j.fullLayout,O=ae._size,ne=j.event,be=!!X.hLinePoint,ze=!!X.vLinePoint;if(I.selectAll(".spikeline").remove(),ze||be){var Be=_.combine(ae.plot_bgcolor,ae.paper_bgcolor);if(be){var Ve,Pe,Te=X.hLinePoint;Ne=Te&&Te.xa,"cursor"===(Oe=Te&&Te.ya).spikesnap?(Ve=ne.pointerX,Pe=ne.pointerY):(Ve=Ne._offset+Te.x,Pe=Oe._offset+Te.y);var At,Qt,Xe=v.readability(Te.color,Be)<1.5?_.contrast(Be):Te.color,Ge=Oe.spikemode,st=Oe.spikethickness,wt=Oe.spikecolor||Xe,kt=D.getPxPosition(P,Oe);if(-1!==Ge.indexOf("toaxis")||-1!==Ge.indexOf("across")){if(-1!==Ge.indexOf("toaxis")&&(At=kt,Qt=Ve),-1!==Ge.indexOf("across")){var nn=Oe._counterDomainMin,Ut=Oe._counterDomainMax;"free"===Oe.anchor&&(nn=Math.min(nn,Oe.position),Ut=Math.max(Ut,Oe.position)),At=O.l+nn*O.w,Qt=O.l+Ut*O.w}I.insert("line",":first-child").attr({x1:At,x2:Qt,y1:Pe,y2:Pe,"stroke-width":st,stroke:wt,"stroke-dasharray":C.dashStyle(Oe.spikedash,st)}).classed("spikeline",!0).classed("crisp",!0),I.insert("line",":first-child").attr({x1:At,x2:Qt,y1:Pe,y2:Pe,"stroke-width":st+2,stroke:Be}).classed("spikeline",!0).classed("crisp",!0)}-1!==Ge.indexOf("marker")&&I.insert("circle",":first-child").attr({cx:kt+("right"!==Oe.side?st:-st),cy:Pe,r:st,fill:wt}).classed("spikeline",!0)}if(ze){var Xt,gt,Lt=X.vLinePoint;Oe=Lt&&Lt.ya,"cursor"===(Ne=Lt&&Lt.xa).spikesnap?(Xt=ne.pointerX,gt=ne.pointerY):(Xt=Ne._offset+Lt.x,gt=Oe._offset+Lt.y);var dt,Re,tn=v.readability(Lt.color,Be)<1.5?_.contrast(Be):Lt.color,dn=Ne.spikemode,rn=Ne.spikethickness,Ke=Ne.spikecolor||tn,St=D.getPxPosition(P,Ne);if(-1!==dn.indexOf("toaxis")||-1!==dn.indexOf("across")){if(-1!==dn.indexOf("toaxis")&&(dt=St,Re=gt),-1!==dn.indexOf("across")){var it=Ne._counterDomainMin,ye=Ne._counterDomainMax;"free"===Ne.anchor&&(it=Math.min(it,Ne.position),ye=Math.max(ye,Ne.position)),dt=O.t+(1-ye)*O.h,Re=O.t+(1-it)*O.h}I.insert("line",":first-child").attr({x1:Xt,x2:Xt,y1:dt,y2:Re,"stroke-width":rn,stroke:Ke,"stroke-dasharray":C.dashStyle(Ne.spikedash,rn)}).classed("spikeline",!0).classed("crisp",!0),I.insert("line",":first-child").attr({x1:Xt,x2:Xt,y1:dt,y2:Re,"stroke-width":rn+2,stroke:Be}).classed("spikeline",!0).classed("crisp",!0)}-1!==dn.indexOf("marker")&&I.insert("circle",":first-child").attr({cx:Xt,cy:St-("top"!==Ne.side?rn:-rn),r:rn,fill:Ke}).classed("spikeline",!0)}}}function He(P,X){return!X||X.vLinePoint!==P._spikepoints.vLinePoint||X.hLinePoint!==P._spikepoints.hLinePoint}function ke(P,X){return h.plainText(P||"",{len:X,allowedTags:["br","sub","sup","b","i","em"]})}function Me(P,X,j){var I=X[P+"a"],ae=X[P+"Val"],O=X.cd[0];if("category"===I.type||"multicategory"===I.type)ae=I._categoriesMap[ae];else if("date"===I.type){var ne=X.trace[P+"periodalignment"];if(ne){var be=X.cd[X.index],ze=be[P+"Start"];void 0===ze&&(ze=be[P]);var Ne=be[P+"End"];void 0===Ne&&(Ne=be[P]);var Oe=Ne-ze;"end"===ne?ae+=Oe:"middle"===ne&&(ae+=Oe/2)}ae=I.d2c(ae)}return O&&O.t&&O.t.posLetter===I._id&&("group"===j.boxmode||"group"===j.violinmode)&&(ae+=O.t.dPos),ae}function we(P){return P.offsetTop+P.clientTop}function Le(P){return P.offsetLeft+P.clientLeft}function B(P,X){var j=P._fullLayout,I=X.getBoundingClientRect(),ae=I.left,O=I.top,ne=ae+I.width,be=O+I.height,ze=g.apply3DTransform(j._invTransform)(ae,O),Ne=g.apply3DTransform(j._invTransform)(ne,be),Oe=ze[0],Be=ze[1],Te=Ne[0],Ve=Ne[1];return{x:Oe,y:Be,width:Te-Oe,height:Ve-Be,top:Math.min(Be,Ve),left:Math.min(Oe,Te),right:Math.max(Oe,Te),bottom:Math.max(Be,Ve)}}},6132:function(ve,K,o){"use strict";var p=o(3400),T=o(6308),v=o(624).isUnifiedHover;ve.exports=function(f,y,m,h){h=h||{};var c=y.legend;function C(_){h.font[_]||(h.font[_]=c?y.legend.font[_]:y.font[_])}y&&v(y.hovermode)&&(h.font||(h.font={}),C("size"),C("family"),C("color"),c?(h.bgcolor||(h.bgcolor=T.combine(y.legend.bgcolor,y.paper_bgcolor)),h.bordercolor||(h.bordercolor=y.legend.bordercolor)):h.bgcolor||(h.bgcolor=y.paper_bgcolor)),m("hoverlabel.bgcolor",h.bgcolor),m("hoverlabel.bordercolor",h.bordercolor),m("hoverlabel.namelength",h.namelength),p.coerceFont(m,"hoverlabel.font",h.font),m("hoverlabel.align",h.align)}},1008:function(ve,K,o){"use strict";var p=o(3400),T=o(5460);ve.exports=function(g,f){function y(m,h){return void 0!==f[m]?f[m]:p.coerce(g,f,T,m,h)}return y("clickmode"),y("hovermode")}},3024:function(ve,K,o){"use strict";var p=o(3428),T=o(3400),v=o(6476),g=o(624),f=o(5460),y=o(3292);ve.exports={moduleType:"component",name:"fx",constants:o(2456),schema:{layout:f},attributes:o(5756),layoutAttributes:f,supplyLayoutGlobalDefaults:o(1976),supplyDefaults:o(5448),supplyLayoutDefaults:o(8336),calc:o(5056),getDistanceFunction:g.getDistanceFunction,getClosest:g.getClosest,inbox:g.inbox,quadrature:g.quadrature,appendArrayPointValue:g.appendArrayPointValue,castHoverOption:function h(C,_,L){return T.castOption(C,_,"hoverlabel."+L)},castHoverinfo:function c(C,_,L){return T.castOption(C,L,"hoverinfo",function D(w){return T.coerceHoverinfo({hoverinfo:w},{_module:C._module},_)})},hover:y.hover,unhover:v.unhover,loneHover:y.loneHover,loneUnhover:function m(C){var _=T.isD3Selection(C)?C:p.select(C);_.selectAll("g.hovertext").remove(),_.selectAll(".spikeline").remove()},click:o(2376)}},5460:function(ve,K,o){"use strict";var p=o(2456),T=o(5376),v=T({editType:"none"});v.family.dflt=p.HOVERFONT,v.size.dflt=p.HOVERFONTSIZE,ve.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:v,grouptitlefont:T({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},8336:function(ve,K,o){"use strict";var p=o(3400),T=o(5460),v=o(1008),g=o(6132);ve.exports=function(y,m){function h(w,z){return p.coerce(y,m,T,w,z)}v(y,m)&&(h("hoverdistance"),h("spikedistance")),"select"===h("dragmode")&&h("selectdirection");var _=m._has("mapbox"),L=m._has("geo"),D=m._basePlotModules.length;"zoom"===m.dragmode&&((_||L)&&1===D||_&&L&&2===D)&&(m.dragmode="pan"),g(y,m,h),p.coerceFont(h,"hoverlabel.grouptitlefont",m.hoverlabel.font)}},1976:function(ve,K,o){"use strict";var p=o(3400),T=o(6132),v=o(5460);ve.exports=function(f,y){T(f,y,function m(h,c){return p.coerce(f,y,v,h,c)})}},2704:function(ve,K,o){"use strict";var p=o(3400),T=o(3756).counter,v=o(6968).u,g=o(3816).idRegex,f=o(1780),y={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[T("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[g.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[g.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:v({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function m(L,D,w){var z=D[w+"axes"],S=Object.keys((L._splomAxes||{})[w]||{});return Array.isArray(z)?z:S.length?S:void 0}function c(L,D,w,z,S,E){var x=D(L+"gap",w),H=D("domain."+L);D(L+"side",z);for(var b=new Array(S),N=H[0],V=(H[1]-N)/(S-x),Y=V*(1-x),$=0;$<S;$++){var Q=N+V*$;b[E?S-1-$:$]=[Q,Q+Y]}return b}function _(L,D,w,z,S){var x,E=new Array(w);function H(b,N){-1!==D.indexOf(N)&&void 0===z[N]?(E[b]=N,z[N]=b):E[b]=""}if(Array.isArray(L))for(x=0;x<w;x++)H(x,L[x]);else for(H(0,S),x=1;x<w;x++)H(x,S+(x+1));return E}ve.exports={moduleType:"component",name:"grid",schema:{layout:{grid:y}},layoutAttributes:y,sizeDefaults:function h(L,D){var w=L.grid||{},z=m(D,w,"x"),S=m(D,w,"y");if(L.grid||z||S){var N,V,E=Array.isArray(w.subplots)&&Array.isArray(w.subplots[0]),x=Array.isArray(z),H=Array.isArray(S),b=x&&z!==w.xaxes&&H&&S!==w.yaxes;E?(N=w.subplots.length,V=w.subplots[0].length):(H&&(N=S.length),x&&(V=z.length));var Y=f.newContainer(D,"grid"),Q=$("rows",N),se=$("columns",V);if(Q*se>1){E||x||H||"independent"===$("pattern")&&(E=!0),Y._hasSubplotGrid=E;var me,Z,W="top to bottom"===$("roworder"),fe=E?.3:.1;b&&D._splomGridDflt&&(me=D._splomGridDflt.xside,Z=D._splomGridDflt.yside),Y._domains={x:c("x",$,E?.2:.1,me,se),y:c("y",$,fe,Z,Q,W)}}else delete D.grid}function $(G,q){return p.coerce(w,Y,y,G,q)}},contentDefaults:function C(L,D){var w=D.grid;if(w&&w._domains){var N,V,Y,$,Q,se,F,z=L.grid||{},S=D._subplots,E=w._hasSubplotGrid,x=w.rows,H=w.columns,b="independent"===w.pattern,J=w._axisMap={};if(E){var W=z.subplots||[];se=w.subplots=new Array(x);var te=1;for(N=0;N<x;N++){var fe=se[N]=new Array(H),me=W[N]||[];for(V=0;V<H;V++)if(b?(Q=1===te?"xy":"x"+te+"y"+te,te++):Q=me[V],fe[V]="",-1!==S.cartesian.indexOf(Q)){if(F=Q.indexOf("y"),Y=Q.slice(0,F),$=Q.slice(F),void 0!==J[Y]&&J[Y]!==V||void 0!==J[$]&&J[$]!==N)continue;fe[V]=Q,J[Y]=V,J[$]=N}}}else{var Z=m(D,z,"x"),G=m(D,z,"y");w.xaxes=_(Z,S.xaxis,H,J,"x"),w.yaxes=_(G,S.yaxis,x,J,"y")}var q=w._anchors={},ie="top to bottom"===w.roworder;for(var ue in J){var He,ke,Ue,le=ue.charAt(0),pe=w[le+"side"];if(pe.length<8)q[ue]="free";else if("x"===le){if("t"===pe.charAt(0)===ie?(He=0,ke=1,Ue=x):(He=x-1,ke=-1,Ue=-1),E){var Me=J[ue];for(N=He;N!==Ue;N+=ke)if((Q=se[N][Me])&&(F=Q.indexOf("y"),Q.slice(0,F)===ue)){q[ue]=Q.slice(F);break}}else for(N=He;N!==Ue;N+=ke)if(-1!==S.cartesian.indexOf(ue+($=w.yaxes[N]))){q[ue]=$;break}}else if("l"===pe.charAt(0)?(He=0,ke=1,Ue=H):(He=H-1,ke=-1,Ue=-1),E){var we=J[ue];for(N=He;N!==Ue;N+=ke)if((Q=se[we][N])&&(F=Q.indexOf("y"),Q.slice(F)===ue)){q[ue]=Q.slice(0,F);break}}else for(N=He;N!==Ue;N+=ke)if(-1!==S.cartesian.indexOf((Y=w.xaxes[N])+ue)){q[ue]=Y;break}}}}}},5760:function(ve,K,o){"use strict";var p=o(3816),T=o(1780).templatedArray;o(6208),ve.exports=T("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",p.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",p.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},3556:function(ve,K,o){"use strict";var p=o(8248),T=o(6896);ve.exports=function(g,f,y,m){f=f||{};var h="log"===y&&"linear"===f.type;if(h||"linear"===y&&"log"===f.type)for(var L,D,C=g._fullLayout.images,_=f._id.charAt(0),w=0;w<C.length;w++)if(D="images["+w+"].",(L=C[w])[_+"ref"]===f._id){var z=L[_],S=L["size"+_],E=null,x=null;if(h){E=T(z,f.range);var H=S/Math.pow(10,E)/2;x=2*Math.log(H+Math.sqrt(1+H*H))/Math.LN10}else x=(E=Math.pow(10,z))*(Math.pow(10,S/2)-Math.pow(10,-S/2));p(E)?p(x)||(x=null):(E=null,x=null),m(D+_,E),m(D+"size"+_,x)}}},7404:function(ve,K,o){"use strict";var p=o(3400),T=o(4460),v=o(1272),g=o(5760);function y(m,h,c){function C(H,b){return p.coerce(m,h,g,H,b)}var _=C("source");if(!C("visible",!!_))return h;C("layer"),C("xanchor"),C("yanchor"),C("sizex"),C("sizey"),C("sizing"),C("opacity");for(var D={_fullLayout:c},w=["x","y"],z=0;z<2;z++){var S=w[z],E=T.coerceRef(m,h,D,S,"paper",void 0);"paper"!==E&&T.getFromId(D,E)._imgIndices.push(h._index),T.coercePosition(h,D,C,E,S,0)}return h}ve.exports=function(h,c){v(h,c,{name:"images",handleItemDefaults:y})}},963:function(ve,K,o){"use strict";var p=o(3428),T=o(3616),v=o(4460),g=o(9811),f=o(9616);ve.exports=function(m){var L,D,h=m._fullLayout,c=[],C={},_=[];for(D=0;D<h.images.length;D++){var w=h.images[D];if(w.visible)if("below"===w.layer&&"paper"!==w.xref&&"paper"!==w.yref){L=g.ref2id(w.xref)+g.ref2id(w.yref);var z=h._plots[L];if(!z){_.push(w);continue}z.mainplot&&(L=z.mainplot.id),C[L]||(C[L]=[]),C[L].push(w)}else"above"===w.layer?c.push(w):_.push(w)}var S_x={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},S_y={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function E($){var Q=p.select(this);if(this._imgSrc!==$.source)if(Q.attr("xmlns",f.svg),$.source&&"data:"===$.source.slice(0,5))Q.attr("xlink:href",$.source),this._imgSrc=$.source;else{var se=new Promise(function(F){var J=new Image;function W(){Q.remove(),F()}this.img=J,J.setAttribute("crossOrigin","anonymous"),J.onerror=W,J.onload=function(){var te=document.createElement("canvas");te.width=this.width,te.height=this.height,te.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var me=te.toDataURL("image/png");Q.attr("xlink:href",me),F()},Q.on("error",W),J.src=$.source,this._imgSrc=$.source}.bind(this));m._promises.push(se)}}function x($){var fe,me,Q=p.select(this),se=v.getFromId(m,$.xref),F=v.getFromId(m,$.yref),J="domain"===v.getRefType($.xref),W="domain"===v.getRefType($.yref),te=h._size;fe=void 0!==se?"string"==typeof $.xref&&J?se._length*$.sizex:Math.abs(se.l2p($.sizex)-se.l2p(0)):$.sizex*te.w,me=void 0!==F?"string"==typeof $.yref&&W?F._length*$.sizey:Math.abs(F.l2p($.sizey)-F.l2p(0)):$.sizey*te.h;var ie,ue,Z=fe*S_x[$.xanchor].offset,G=me*S_y[$.yanchor].offset,q=S_x[$.xanchor].sizing+S_y[$.yanchor].sizing;switch(ie=void 0!==se?"string"==typeof $.xref&&J?se._length*$.x+se._offset:se.r2p($.x)+se._offset:$.x*te.w+te.l,ie+=Z,ue=void 0!==F?"string"==typeof $.yref&&W?F._length*(1-$.y)+F._offset:F.r2p($.y)+F._offset:te.h-$.y*te.h+te.t,ue+=G,$.sizing){case"fill":q+=" slice";break;case"stretch":q="none"}Q.attr({x:ie,y:ue,width:fe,height:me,preserveAspectRatio:q,opacity:$.opacity});var He=(se&&"domain"!==v.getRefType($.xref)?se._id:"")+(F&&"domain"!==v.getRefType($.yref)?F._id:"");T.setClipUrl(Q,He?"clip"+h._uid+He:null,m)}var H=h._imageLowerLayer.selectAll("image").data(_),b=h._imageUpperLayer.selectAll("image").data(c);H.enter().append("image"),b.enter().append("image"),H.exit().remove(),b.exit().remove(),H.each(function($){E.bind(this)($),x.bind(this)($)}),b.each(function($){E.bind(this)($),x.bind(this)($)});var N=Object.keys(h._plots);for(D=0;D<N.length;D++){var V=h._plots[L=N[D]];if(V.imagelayer){var Y=V.imagelayer.selectAll("image").data(C[L]||[]);Y.enter().append("image"),Y.exit().remove(),Y.each(function($){E.bind(this)($),x.bind(this)($)})}}}},7402:function(ve,K,o){"use strict";ve.exports={moduleType:"component",name:"images",layoutAttributes:o(5760),supplyLayoutDefaults:o(7404),includeBasePlot:o(6632)("images"),draw:o(963),convertCoords:o(3556)}},3800:function(ve,K,o){"use strict";var p=o(5376),T=o(2548);ve.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:T.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:p({editType:"legend"}),grouptitlefont:p({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:p({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},5196:function(ve){"use strict";ve.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},7864:function(ve,K,o){"use strict";var p=o(4040),T=o(3400),v=o(1780),g=o(5464),f=o(3800),y=o(4859),m=o(2451);function h(c,C,_,L){var D=C[c]||{},w=v.newContainer(_,c);function z(Ue,Me){return T.coerce(D,w,f,Ue,Me)}var S=T.coerceFont(z,"font",_.font);if(z("bgcolor",_.paper_bgcolor),z("bordercolor"),z("visible")){for(var x,H=function(Ue,Me){return T.coerce(x._input,x,g,Ue,Me)},b=_.font||{},N=T.coerceFont(z,"grouptitlefont",T.extendFlat({},b,{size:Math.round(1.1*b.size)})),V=0,Y=!1,$="normal",Q=(_.shapes||[]).filter(function(Ue){return Ue.showlegend}),se=L.concat(Q).filter(function(Ue){return c===(Ue.legend||"legend")}),F=0;F<se.length;F++)if((x=se[F]).visible){var J=x._isShape;(x.showlegend||x._dfltShowLegend&&!(x._module&&x._module.attributes&&x._module.attributes.showlegend&&!1===x._module.attributes.showlegend.dflt))&&(V++,x.showlegend&&(Y=!0,(!J&&p.traceIs(x,"pie-like")||!0===x._input.showlegend)&&V++),T.coerceFont(H,"legendgrouptitle.font",N)),(!J&&p.traceIs(x,"bar")&&"stack"===_.barmode||-1!==["tonextx","tonexty"].indexOf(x.fill))&&($=m.isGrouped({traceorder:$})?"grouped+reversed":"reversed"),void 0!==x.legendgroup&&""!==x.legendgroup&&($=m.isReversed({traceorder:$})?"reversed+grouped":"grouped")}var W=T.coerce(C,_,y,"showlegend",Y&&V>("legend"===c?1:0));if(!1===W&&(_[c]=void 0),(!1!==W||D.uirevision)&&(z("uirevision",_.uirevision),!1!==W)){z("borderwidth");var ie,ue,le,Z="h"===z("orientation"),G="paper"===z("yref"),q="paper"===z("xref"),pe="left";if(Z?(ie=0,p.getComponentMethod("rangeslider","isVisible")(C.xaxis)?G?(ue=1.1,le="bottom"):(ue=1,le="top"):G?(ue=-.1,le="top"):(ue=0,le="bottom")):(ue=1,le="auto",q?ie=1.02:(ie=1,pe="right")),T.coerce(D,w,{x:{valType:"number",editType:"legend",min:q?-2:0,max:q?3:1,dflt:ie}},"x"),T.coerce(D,w,{y:{valType:"number",editType:"legend",min:G?-2:0,max:G?3:1,dflt:ue}},"y"),z("traceorder",$),m.isGrouped(_[c])&&z("tracegroupgap"),z("entrywidth"),z("entrywidthmode"),z("itemsizing"),z("itemwidth"),z("itemclick"),z("itemdoubleclick"),z("groupclick"),z("xanchor",pe),z("yanchor",le),z("valign"),T.noneOrAll(D,w,["x","y"]),z("title.text")){z("title.side",Z?"left":"top");var ke=T.extendFlat({},S,{size:T.bigFont(S.size)});T.coerceFont(z,"title.font",ke)}}}}ve.exports=function(C,_,L){var D,w=L.slice(),z=_.shapes;if(z)for(D=0;D<z.length;D++){var S=z[D];S.showlegend&&w.push({_input:S._input,visible:S.visible,showlegend:S.showlegend,legend:S.legend})}var x=["legend"];for(D=0;D<w.length;D++)T.pushUnique(x,w[D].legend);for(_._legends=[],D=0;D<x.length;D++){var H=x[D];h(H,C,_,w),_[H]&&_[H].visible&&(_[H]._id=H),_._legends.push(H)}}},1140:function(ve,K,o){"use strict";var p=o(3428),T=o(3400),v=o(7316),g=o(4040),f=o(5924),y=o(6476),m=o(3616),h=o(6308),c=o(2736),C=o(3048),_=o(5196),L=o(4284),D=L.LINE_SPACING,w=L.FROM_TL,z=L.FROM_BR,S=o(3076),E=o(2012),x=o(2451),H=1,b=/^legend[0-9]*$/;function V(ie,ue){var ke,Ue,le=ue||{},pe=ie._fullLayout,He=q(le),Me=le._inHover;if(Me?(Ue=le.layer,ke="hover"):(Ue=pe._infolayer,ke=He),Ue){var we;if(ke+=pe._uid,ie._legendMouseDownTime||(ie._legendMouseDownTime=0),Me){if(!le.entries)return;we=S(le.entries,le)}else{for(var Le=(ie.calcdata||[]).slice(),B=pe.shapes,P=0;P<B.length;P++){var X=B[P];X.showlegend&&Le.push([{trace:{_isShape:!0,_fullInput:X,index:X._index,name:X.name||X.label.text||"shape "+X._index,legend:X.legend,legendgroup:X.legendgroup,legendgrouptitle:X.legendgrouptitle,legendrank:X.legendrank,legendwidth:X.legendwidth,showlegend:X.showlegend,visible:X.visible,opacity:X.opacity,mode:"line"===X.type?"lines":"markers",line:X.line,marker:{line:X.line,color:X.fillcolor,size:12,symbol:"rect"===X.type?"square":"circle"===X.type?"circle":"hexagon2"}}}])}we=pe.showlegend&&S(Le,le,pe._legends.length>1)}var I=pe.hiddenlabels||[];if(!(Me||pe.showlegend&&we.length))return Ue.selectAll("."+He).remove(),pe._topdefs.select("#"+ke).remove(),v.autoMargin(ie,He);var ae=T.ensureSingle(Ue,"g",He,function(Ve){Me||Ve.attr("pointer-events","all")}),O=T.ensureSingleById(pe._topdefs,"clipPath",ke,function(Ve){Ve.append("rect")}),ne=T.ensureSingle(ae,"rect","bg",function(Ve){Ve.attr("shape-rendering","crispEdges")});ne.call(h.stroke,le.bordercolor).call(h.fill,le.bgcolor).style("stroke-width",le.borderwidth+"px");var Ne,be=T.ensureSingle(ae,"g","scrollbox"),ze=le.title;le._titleWidth=0,le._titleHeight=0,ze.text?((Ne=T.ensureSingle(be,"text",He+"titletext")).attr("text-anchor","start").call(m.font,ze.font).text(ze.text),J(Ne,be,ie,le,H)):be.selectAll("."+He+"titletext").remove();var Oe=T.ensureSingle(ae,"rect","scrollbar",function(Ve){Ve.attr(_.scrollBarEnterAttrs).call(h.fill,_.scrollBarColor)}),Be=be.selectAll("g.groups").data(we);Be.enter().append("g").attr("class","groups"),Be.exit().remove();var Te=Be.selectAll("g.traces").data(T.identity);Te.enter().append("g").attr("class","traces"),Te.exit().remove(),Te.style("opacity",function(Ve){var Pe=Ve[0].trace;return g.traceIs(Pe,"pie-like")?-1!==I.indexOf(Ve[0].label)?.5:1:"legendonly"===Pe.visible?.5:1}).each(function(){p.select(this).call(Q,ie,le)}).call(E,ie,le).each(function(){Me||p.select(this).call(F,ie,He)}),T.syncOrAsync([v.previousPromises,function(){return function fe(ie,ue,le,pe){var He=ie._fullLayout,ke=q(pe);pe||(pe=He[ke]);var Ue=He._size,Me=x.isVertical(pe),we=x.isGrouped(pe),Le="fraction"===pe.entrywidthmode,B=pe.borderwidth,P=2*B,X=_.itemGap,j=pe.itemwidth+2*X,I=2*(B+X),ae=G(pe),O=pe.y<0||0===pe.y&&"top"===ae,ne=pe.y>1||1===pe.y&&"bottom"===ae,be=pe.tracegroupgap,ze={};pe._maxHeight=Math.max(O||ne?He.height/2:Ue.h,30);var Ne=0;pe._width=0,pe._height=0;var Oe=function te(ie){var ue=0,le=0,pe=ie.title.side;return pe&&(-1!==pe.indexOf("left")&&(ue=ie._titleWidth),-1!==pe.indexOf("top")&&(le=ie._titleHeight)),[ue,le]}(pe);if(Me)le.each(function(dn){var rn=dn[0].height;m.setTranslate(this,B+Oe[0],B+Oe[1]+pe._height+rn/2+X),pe._height+=rn,pe._width=Math.max(pe._width,dn[0].width)}),Ne=j+pe._width,pe._width+=X+j+P,pe._height+=I,we&&(ue.each(function(dn,rn){m.setTranslate(this,0,rn*pe.tracegroupgap)}),pe._height+=(pe._lgroupsLength-1)*pe.tracegroupgap);else{var Be=Z(pe),Pe=ne||O,Je=He.width/2;pe._maxWidth=Math.max(pe.x<0||0===pe.x&&"right"===Be?Pe&&"left"===Be?Ue.l+Ue.w:Je:pe.x>1||1===pe.x&&"left"===Be?Pe&&"right"===Be?Ue.r+Ue.w:Je:Ue.w,2*j);var Xe=0,Ge=0;le.each(function(dn){var rn=Y(dn,pe,j);Xe=Math.max(Xe,rn),Ge+=rn}),Ne=null;var st=0;if(we){var wt=0,kt=0,At=0;ue.each(function(){var dn=0,rn=0;p.select(this).selectAll("g.traces").each(function(St){var dt=Y(St,pe,j),Re=St[0].height;m.setTranslate(this,Oe[0],Oe[1]+B+X+Re/2+rn),rn+=Re,dn=Math.max(dn,dt),ze[St[0].trace.legendgroup]=dn});var Ke=dn+X;kt>0&&Ke+B+kt>pe._maxWidth?(st=Math.max(st,kt),kt=0,At+=wt+be,wt=rn):wt=Math.max(wt,rn),m.setTranslate(this,kt,At),kt+=Ke}),pe._width=Math.max(st,kt)+B,pe._height=At+wt+I}else{var Qt=le.size(),nn=Ge+P+(Qt-1)*X<pe._maxWidth,Ut=0,Lt=0,Xt=0,gt=0;le.each(function(dn){var rn=dn[0].height,Ke=Y(dn,pe,j),St=nn?Ke:Xe;Le||(St+=X),St+B+Lt-X>=pe._maxWidth&&(st=Math.max(st,gt),Lt=0,Xt+=Ut,pe._height+=Ut,Ut=0),m.setTranslate(this,Oe[0]+B+Lt,Oe[1]+B+Xt+rn/2+X),gt=Lt+Ke+X,Lt+=St,Ut=Math.max(Ut,rn)}),nn?(pe._width=Lt+P,pe._height=Ut+I):(pe._width=Math.max(st,gt)+P,pe._height+=Ut+I)}}pe._width=Math.ceil(Math.max(pe._width+Oe[0],pe._titleWidth+2*(B+_.titlePad))),pe._height=Math.ceil(Math.max(pe._height+Oe[1],pe._titleHeight+2*(B+_.itemGap))),pe._effHeight=Math.min(pe._height,pe._maxHeight);var Yt=ie._context.edits,tn=Yt.legendText||Yt.legendPosition;le.each(function(dn){var rn=p.select(this).select("."+ke+"toggle"),Ke=dn[0].height,St=dn[0].trace.legendgroup,dt=Y(dn,pe,j);we&&""!==St&&(dt=ze[St]);var Re=tn?j:Ne||dt;!Me&&!Le&&(Re+=X/2),m.setRect(rn,0,-Ke/2,Re,Ke)})}(ie,Be,Te,le)},function(){var it,ye,De,$e,Ve=pe._size,Pe=le.borderwidth,Je="paper"===le.xref,Xe="paper"===le.yref;if(ze.text&&function N(ie,ue,le){if("top center"===ue.title.side||"top right"===ue.title.side){var He=ue.title.font.size*D,ke=0,Ue=ie.node(),Me=m.bBox(Ue).width;"top center"===ue.title.side?ke=.5*(ue._width-2*le-2*_.titlePad-Me):"top right"===ue.title.side&&(ke=ue._width-2*le-2*_.titlePad-Me),c.positionText(ie,le+_.titlePad+ke,le+He)}}(Ne,le,Pe),!Me){var Ge,st;if(Ge=Je?Ve.l+Ve.w*le.x-w[Z(le)]*le._width:pe.width*le.x-w[Z(le)]*le._width,st=Xe?Ve.t+Ve.h*(1-le.y)-w[G(le)]*le._effHeight:pe.height*(1-le.y)-w[G(le)]*le._effHeight,function me(ie,ue,le,pe){var He=ie._fullLayout,ke=He[ue],Ue=Z(ke),Me=G(ke),we="paper"===ke.xref,Le="paper"===ke.yref;ie._fullLayout._reservedMargin[ue]={};var B=ke.y<.5?"b":"t",P=ke.x<.5?"l":"r",X={r:He.width-le,l:le+ke._width,b:He.height-pe,t:pe+ke._effHeight};if(we&&Le)return v.autoMargin(ie,ue,{x:ke.x,y:ke.y,l:ke._width*w[Ue],r:ke._width*z[Ue],b:ke._effHeight*z[Me],t:ke._effHeight*w[Me]});we?ie._fullLayout._reservedMargin[ue][B]=X[B]:Le||"v"===ke.orientation?ie._fullLayout._reservedMargin[ue][P]=X[P]:ie._fullLayout._reservedMargin[ue][B]=X[B]}(ie,He,Ge,st))return;if(pe.margin.autoexpand){var kt=Ge,At=st;Ge=Je?T.constrain(Ge,0,pe.width-le._width):kt,st=Xe?T.constrain(st,0,pe.height-le._effHeight):At,Ge!==kt&&T.log("Constrain "+He+".x to make legend fit inside graph"),st!==At&&T.log("Constrain "+He+".y to make legend fit inside graph")}m.setTranslate(ae,Ge,st)}if(Oe.on(".drag",null),ae.on("wheel",null),Me||le._height<=le._maxHeight||ie._context.staticPlot){var Qt=le._effHeight;Me&&(Qt=le._height),ne.attr({width:le._width-Pe,height:Qt-Pe,x:Pe/2,y:Pe/2}),m.setTranslate(be,0,0),O.select("rect").attr({width:le._width-2*Pe,height:Qt-2*Pe,x:Pe,y:Pe}),m.setClipUrl(be,ke,ie),m.setRect(Oe,0,0,0,0),delete le._scrollY}else{var nn=Math.max(_.scrollBarMinHeight,le._effHeight*le._effHeight/le._height),Ut=le._effHeight-nn-2*_.scrollBarMargin,Lt=le._height-le._effHeight,Xt=Ut/Lt,gt=Math.min(le._scrollY||0,Lt);ne.attr({width:le._width-2*Pe+_.scrollBarWidth+_.scrollBarMargin,height:le._effHeight-Pe,x:Pe/2,y:Pe/2}),O.select("rect").attr({width:le._width-2*Pe+_.scrollBarWidth+_.scrollBarMargin,height:le._effHeight-2*Pe,x:Pe,y:Pe+gt}),m.setClipUrl(be,ke,ie),Re(gt,nn,Xt),ae.on("wheel",function(){Re(gt=T.constrain(le._scrollY+p.event.deltaY/Ut*Lt,0,Lt),nn,Xt),0!==gt&&gt!==Lt&&p.event.preventDefault()});var Yt,dn,St=p.behavior.drag().on("dragstart",function(){var je=p.event.sourceEvent;Yt="touchstart"===je.type?je.changedTouches[0].clientY:je.clientY,dn=gt}).on("drag",function(){var je=p.event.sourceEvent;2===je.buttons||je.ctrlKey||Re(gt=function(je,Ye,at){return T.constrain((at-Ye)/Xt+je,0,Lt)}(dn,Yt,"touchmove"===je.type?je.changedTouches[0].clientY:je.clientY),nn,Xt)});Oe.call(St);var dt=p.behavior.drag().on("dragstart",function(){var je=p.event.sourceEvent;"touchstart"===je.type&&(Yt=je.changedTouches[0].clientY,dn=gt)}).on("drag",function(){var je=p.event.sourceEvent;"touchmove"===je.type&&Re(gt=function(je,Ye,at){return T.constrain((Ye-at)/Xt+je,0,Lt)}(dn,Yt,je.changedTouches[0].clientY),nn,Xt)});be.call(dt)}function Re(je,Ye,at){le._scrollY=ie._fullLayout[He]._scrollY=je,m.setTranslate(be,0,-je),m.setRect(Oe,le._width,_.scrollBarMargin+je*at,_.scrollBarWidth,Ye),O.select("rect").attr("y",Pe+je)}ie._context.edits.legendPosition&&(ae.classed("cursor-move",!0),y.init({element:ae.node(),gd:ie,prepFn:function(){var je=m.getTranslate(ae);De=je.x,$e=je.y},moveFn:function(je,Ye){var at=De+je,Rt=$e+Ye;m.setTranslate(ae,at,Rt),it=y.align(at,le._width,Ve.l,Ve.l+Ve.w,le.xanchor),ye=y.align(Rt+le._height,-le._height,Ve.t+Ve.h,Ve.t,le.yanchor)},doneFn:function(){if(void 0!==it&&void 0!==ye){var je={};je[He+".x"]=it,je[He+".y"]=ye,g.call("_guiRelayout",ie,je)}},clickFn:function(je,Ye){var at=Ue.selectAll("g.traces").filter(function(){var Rt=this.getBoundingClientRect();return Ye.clientX>=Rt.left&&Ye.clientX<=Rt.right&&Ye.clientY>=Rt.top&&Ye.clientY<=Rt.bottom});at.size()>0&&$(ie,ae,at,je,Ye)}}))}],ie)}}function Y(ie,ue,le){var pe=ie[0],Ue=pe.trace.legendwidth||ue.entrywidth;return"fraction"===ue.entrywidthmode?ue._maxWidth*Ue:le+(Ue||pe.width)}function $(ie,ue,le,pe,He){var ke=le.data()[0][0].trace,Ue={event:He,node:le.node(),curveNumber:ke.index,expandedIndex:ke._expandedIndex,data:ie.data,layout:ie.layout,frames:ie._transitionData._frames,config:ie._context,fullData:ie._fullData,fullLayout:ie._fullLayout};ke._group&&(Ue.group=ke._group),g.traceIs(ke,"pie-like")&&(Ue.label=le.datum()[0].label);var Me=f.triggerHandler(ie,"plotly_legendclick",Ue);if(1===pe){if(!1===Me)return;ue._clickTimeout=setTimeout(function(){ie._fullLayout&&C(le,ie,pe)},ie._context.doubleClickDelay)}else 2===pe&&(ue._clickTimeout&&clearTimeout(ue._clickTimeout),ie._legendMouseDownTime=0,!1!==f.triggerHandler(ie,"plotly_legenddoubleclick",Ue)&&!1!==Me&&C(le,ie,pe))}function Q(ie,ue,le){var Le,B,pe=q(le),He=ie.data()[0][0],ke=He.trace,Ue=g.traceIs(ke,"pie-like"),Me=!le._inHover&&ue._context.edits.legendText&&!Ue,we=le._maxNameLength;He.groupTitle?(Le=He.groupTitle.text,B=He.groupTitle.font):(B=le.font,le.entries?Le=He.text:(Le=Ue?He.label:ke.name,ke._meta&&(Le=T.templateString(Le,ke._meta))));var P=T.ensureSingle(ie,"text",pe+"text");P.attr("text-anchor","start").call(m.font,B).text(Me?se(Le,we):Le),c.positionText(P,le.itemwidth+2*_.itemGap,0),Me?P.call(c.makeEditable,{gd:ue,text:Le}).call(J,ie,ue,le).on("edit",function(j){this.text(se(j,we)).call(J,ie,ue,le);var I=He.trace._fullInput||{},ae={};if(g.hasTransform(I,"groupby")){var O=g.getTransformIndices(I,"groupby"),be=T.keyedContainer(I,"transforms["+O[O.length-1]+"].styles","target","value.name");be.set(He.trace._group,j),ae=be.constructUpdate()}else ae.name=j;return I._isShape?g.call("_guiRelayout",ue,"shapes["+ke.index+"].name",ae.name):g.call("_guiRestyle",ue,ae,ke.index)}):J(P,ie,ue,le)}function se(ie,ue){var le=Math.max(4,ue);if(ie&&ie.trim().length>=le/2)return ie;for(var pe=le-(ie=ie||"").length;pe>0;pe--)ie+=" ";return ie}function F(ie,ue,le){var He,pe=ue._context.doubleClickDelay,ke=1,Ue=T.ensureSingle(ie,"rect",le+"toggle",function(Me){ue._context.staticPlot||Me.style("cursor","pointer").attr("pointer-events","all"),Me.call(h.fill,"rgba(0,0,0,0)")});ue._context.staticPlot||(Ue.on("mousedown",function(){(He=(new Date).getTime())-ue._legendMouseDownTime<pe?ke+=1:(ke=1,ue._legendMouseDownTime=He)}),Ue.on("mouseup",function(){if(!ue._dragged&&!ue._editing){var Me=ue._fullLayout[le];(new Date).getTime()-ue._legendMouseDownTime>pe&&(ke=Math.max(ke-1,1)),$(ue,Me,ie,ke,p.event)}}))}function J(ie,ue,le,pe,He){pe._inHover&&ie.attr("data-notex",!0),c.convertToTspans(ie,le,function(){!function W(ie,ue,le,pe){var He=ie.data()[0][0];if(le._inHover||!He||He.trace.showlegend){var ke=ie.select("g[class*=math-group]"),Ue=ke.node(),Me=q(le);le||(le=ue._fullLayout[Me]);var P,X,we=le.borderwidth,B=(pe===H?le.title.font:He.groupTitle?He.groupTitle.font:le.font).size*D;if(Ue){var j=m.bBox(Ue);P=j.height,X=j.width,pe===H?m.setTranslate(ke,we,we+.75*P):m.setTranslate(ke,0,.25*P)}else{var ae=ie.select("."+Me+(pe===H?"title":"")+"text"),O=c.lineCount(ae),ne=ae.node();if(P=B*O,X=ne?m.bBox(ne).width:0,pe===H)"left"===le.title.side&&(X+=2*_.itemGap),c.positionText(ae,we+_.titlePad,we+B);else{var be=2*_.itemGap+le.itemwidth;He.groupTitle&&(be=_.itemGap,X-=le.itemwidth),c.positionText(ae,be,-B*((O-1)/2-.3))}}pe===H?(le._titleWidth=X,le._titleHeight=P):(He.lineHeight=B,He.height=Math.max(P,16)+3,He.width=X)}else ie.remove()}(ue,le,pe,He)})}function Z(ie){return T.isRightAnchor(ie)?"right":T.isCenterAnchor(ie)?"center":"left"}function G(ie){return T.isBottomAnchor(ie)?"bottom":T.isMiddleAnchor(ie)?"middle":"top"}function q(ie){return ie._id||"legend"}ve.exports=function(ue,le){if(le)V(ue,le);else{var pe=ue._fullLayout,He=pe._legends;pe._infolayer.selectAll('[class^="legend"]').each(function(){var Le=p.select(this),P=Le.attr("class").split(" ")[0];P.match(b)&&-1===He.indexOf(P)&&Le.remove()});for(var Ue=0;Ue<He.length;Ue++)V(ue,ue._fullLayout[He[Ue]])}}},3076:function(ve,K,o){"use strict";var p=o(4040),T=o(2451);ve.exports=function(g,f,y){var S,E,m=f._inHover,h=T.isGrouped(f),c=T.isReversed(f),C={},_=[],L=!1,D={},w=0,z=0;function x(ie,ue,le){if(!1!==f.visible&&(!y||ie===f._id))if(""!==ue&&T.isGrouped(f))-1===_.indexOf(ue)?(_.push(ue),L=!0,C[ue]=[le]):C[ue].push(le);else{var pe="~~i"+w;_.push(pe),C[pe]=[le],w++}}for(S=0;S<g.length;S++){var H=g[S],b=H[0],N=b.trace,V=N.legend,Y=N.legendgroup;if(m||N.visible&&N.showlegend)if(p.traceIs(N,"pie-like"))for(D[Y]||(D[Y]={}),E=0;E<H.length;E++){var $=H[E].label;D[Y][$]||(x(V,Y,{label:$,color:H[E].color,i:H[E].i,trace:N,pts:H[E].pts}),D[Y][$]=!0,z=Math.max(z,($||"").length))}else x(V,Y,b),z=Math.max(z,(N.name||"").length)}if(!_.length)return[];var Q=!L||!h,se=[];for(S=0;S<_.length;S++){var F=C[_[S]];se.push(Q?F[0]:F)}for(Q&&(se=[se]),S=0;S<se.length;S++){var J=1/0;for(E=0;E<se[S].length;E++){var W=se[S][E].trace.legendrank;J>W&&(J=W)}se[S][0]._groupMinRank=J,se[S][0]._preGroupSort=S}var fe=function(ie,ue){return ie.trace.legendrank-ue.trace.legendrank||ie._preSort-ue._preSort};for(se.forEach(function(ie,ue){ie[0]._preGroupSort=ue}),se.sort(function(ie,ue){return ie[0]._groupMinRank-ue[0]._groupMinRank||ie[0]._preGroupSort-ue[0]._preGroupSort}),S=0;S<se.length;S++){se[S].forEach(function(ie,ue){ie._preSort=ue}),se[S].sort(fe);var me=se[S][0].trace,Z=null;for(E=0;E<se[S].length;E++){var G=se[S][E].trace.legendgrouptitle;if(G&&G.text){Z=G,m&&(G.font=f._groupTitleFont);break}}if(c&&se[S].reverse(),Z){var q=!1;for(E=0;E<se[S].length;E++)if(p.traceIs(se[S][E].trace,"pie-like")){q=!0;break}se[S].unshift({i:-1,groupTitle:Z,noClick:q,trace:{showlegend:me.showlegend,legendgroup:me.legendgroup,visible:"toggleitem"===f.groupclick||me.visible}})}for(E=0;E<se[S].length;E++)se[S][E]=[se[S][E]]}return f._lgroupsLength=se.length,f._maxNameLength=z,se}},3048:function(ve,K,o){"use strict";var p=o(4040),T=o(3400),v=T.pushUnique,g=!0;ve.exports=function(y,m,h){var c=m._fullLayout;if(!m._dragged&&!m._editing){var D,C=c.legend.itemclick,_=c.legend.itemdoubleclick,L=c.legend.groupclick;if(1===h&&"toggle"===C&&"toggleothers"===_&&g&&m.data&&m._context.showTips&&T.notifier(T._(m,"Double-click on legend to isolate one trace"),"long"),g=!1,1===h?D=C:2===h&&(D=_),D){var w="togglegroup"===L,z=c.hiddenlabels?c.hiddenlabels.slice():[],S=y.data()[0][0];if(!S.groupTitle||!S.noClick){var E=m._fullData,x=(c.shapes||[]).filter(function(Je){return Je.showlegend}),H=E.concat(x),b=S.trace;b._isShape&&(b=b._fullInput);var V,Y,$,Q,se,N=b.legendgroup,J={},W=[],te=[],fe=[],Z=(c.shapes||[]).map(function(Je){return Je._input}),G=!1,ue=b.legend,le=b._fullInput;if(le&&le._isShape||!p.traceIs(b,"pie-like")){var ae,j=N&&N.length,I=[];if(j)for(V=0;V<H.length;V++)(ae=H[V]).visible&&ae.legendgroup===N&&I.push(V);if("toggle"===D){var O;switch(b.visible){case!0:O="legendonly";break;case!1:O=!1;break;case"legendonly":O=!0}if(j)if(w)for(V=0;V<H.length;V++){var ne=H[V];!1!==ne.visible&&ne.legendgroup===N&&ie(ne,O)}else ie(b,O);else ie(b,O)}else if("toggleothers"===D){var ze,Ne,Be,Te=!0;for(V=0;V<H.length;V++)if(Ne=!0!==(Be=H[V]).showlegend,!(Be===b||Ne||(ze=j&&Be.legendgroup===N,ze||Be.legend!==ue||!0!==Be.visible||p.traceIs(Be,"notLegendIsolatable")))){Te=!1;break}for(V=0;V<H.length;V++)if(!1!==(Be=H[V]).visible&&Be.legend===ue&&!p.traceIs(Be,"notLegendIsolatable"))switch(b.visible){case"legendonly":ie(Be,!0);break;case!0:Ne=!0!==Be.showlegend&&!Be.legendgroup,ie(Be,!(!(ze=Be===b||j&&Be.legendgroup===N)&&!Ne)||!!Te||"legendonly")}}for(V=0;V<te.length;V++)if($=te[V]){var Ve=$.constructUpdate(),Pe=Object.keys(Ve);for(Y=0;Y<Pe.length;Y++)(J[Q=Pe[Y]]=J[Q]||[])[fe[V]]=Ve[Q]}for(se=Object.keys(J),V=0;V<se.length;V++)for(Q=se[V],Y=0;Y<W.length;Y++)J[Q].hasOwnProperty(Y)||(J[Q][Y]=void 0);G?p.call("_guiUpdate",m,J,{shapes:Z},W):p.call("_guiRestyle",m,J,W)}else{var He=S.label,ke=z.indexOf(He);if("toggle"===D)-1===ke?z.push(He):z.splice(ke,1);else if("toggleothers"===D){var Ue=-1!==ke,Me=[];for(V=0;V<m.calcdata.length;V++){var we=m.calcdata[V];for(Y=0;Y<we.length;Y++){var B=we[Y].label;ue===we[0].trace.legend&&He!==B&&(-1===z.indexOf(B)&&(Ue=!0),v(z,B),Me.push(B))}}if(!Ue)for(var P=0;P<Me.length;P++){var X=z.indexOf(Me[P]);-1!==X&&z.splice(X,1)}}p.call("_guiRelayout",m,"hiddenlabels",z)}}}}function me(Je,Xe){var Ge=W.indexOf(Je),st=J.visible;return st||(st=J.visible=[]),-1===W.indexOf(Je)&&(W.push(Je),Ge=W.length-1),st[Ge]=Xe,Ge}function ie(Je,Xe){if(!S.groupTitle||w){var Ge=Je._fullInput||Je,st=Ge._isShape,wt=Ge.index;if(void 0===wt&&(wt=Ge._index),p.hasTransform(Ge,"groupby")){var kt=te[wt];if(!kt){var At=p.getTransformIndices(Ge,"groupby");kt=T.keyedContainer(Ge,"transforms["+At[At.length-1]+"].styles","target","value.visible"),te[wt]=kt}var nn=kt.get(Je._group);void 0===nn&&(nn=!0),!1!==nn&&kt.set(Je._group,Xe),fe[wt]=me(wt,!1!==Ge.visible)}else{var Ut=!1!==Ge.visible&&Xe;st?function q(Je,Xe){Z[Je].visible=Xe,G=!0}(wt,Ut):me(wt,Ut)}}}}},2451:function(ve,K){"use strict";K.isGrouped=function(p){return-1!==(p.traceorder||"").indexOf("grouped")},K.isVertical=function(p){return"h"!==p.orientation},K.isReversed=function(p){return-1!==(p.traceorder||"").indexOf("reversed")}},2780:function(ve,K,o){"use strict";ve.exports={moduleType:"component",name:"legend",layoutAttributes:o(3800),supplyLayoutDefaults:o(7864),draw:o(1140),style:o(2012)}},2012:function(ve,K,o){"use strict";var p=o(3428),T=o(4040),v=o(3400),g=v.strTranslate,f=o(3616),y=o(6308),m=o(4288).extractOpts,h=o(3028),c=o(528),C=o(9656).castOption,_=o(5196);function E(b,N){return(N?"radial":"horizontal")+(b?"":"reversed")}function x(b){var N=b[0].trace,V=N.contours,Y=h.hasLines(N),$=h.hasMarkers(N),Q=N.visible&&N.fill&&"none"!==N.fill,se=!1,F=!1;if(V){var J=V.coloring;"lines"===J?se=!0:Y="none"===J||"heatmap"===J||V.showlines,"constraint"===V.type?Q="="!==V._operation:("fill"===J||"heatmap"===J)&&(F=!0)}return{showMarker:$,showLine:Y,showFill:Q,showGradientLine:se,showGradientFill:F,anyLine:Y||se,anyFill:Q||F}}function H(b,N,V){return b&&v.isArrayOrTypedArray(b)?N:b>V?V:b}ve.exports=function(N,V,Y){Y||(Y=V._fullLayout.legend);var Q="constant"===Y.itemsizing,se=Y.itemwidth,J=g((se+2*_.itemGap)/2,0),W=function(Me,we,Le,B){var P;if(Me+1)P=Me;else{if(!(we&&we.width>0))return 0;P=we.width}return Q?B:Math.min(P,Le)};function q(Me,we,Le){var B=Me[0].trace,P=B.marker||{},X=P.line||{},j=P.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",I=Le?B.visible&&B.type===Le:T.traceIs(B,"bar"),ae=p.select(we).select("g.legendpoints").selectAll("path.legend"+Le).data(I?[Me]:[]);ae.enter().append("path").classed("legend"+Le,!0).attr("d",j).attr("transform",J),ae.exit().remove(),ae.each(function(O){var ne=p.select(this),be=O[0],ze=W(be.mlw,P.line,5,2);ne.style("stroke-width",ze+"px");var Ne=be.mcc;if(!Y._inHover&&"mc"in be){var Oe=m(P),Be=Oe.mid;void 0===Be&&(Be=(Oe.max+Oe.min)/2),Ne=f.tryColorscale(P,"")(Be)}var Te=Ne||be.mc||P.color,Ve=P.pattern,Pe=Ve&&f.getPatternAttr(Ve.shape,0,"");if(Pe){var Je=f.getPatternAttr(Ve.bgcolor,0,null),Xe=f.getPatternAttr(Ve.fgcolor,0,null),Ge=Ve.fgopacity,st=H(Ve.size,8,10),wt=H(Ve.solidity,.5,1);ne.call(f.pattern,"legend",V,"legend-"+B.uid,Pe,st,wt,Ne,Ve.fillmode,Je,Xe,Ge)}else ne.call(y.fill,Te);ze&&y.stroke(ne,be.mlc||X.color)})}function ke(Me,we,Le){var B=Me[0],P=B.trace,X=Le?P.visible&&P.type===Le:T.traceIs(P,Le),j=p.select(we).select("g.legendpoints").selectAll("path.legend"+Le).data(X?[Me]:[]);if(j.enter().append("path").classed("legend"+Le,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",J),j.exit().remove(),j.size()){var I=P.marker||{},ae=W(C(I.line.width,B.pts),I.line,5,2),O="pieLike",ne=v.minExtend(P,{marker:{line:{width:ae}}},O),be=v.minExtend(B,{trace:ne},O);c(j,be,ne,V)}}N.each(function(Me){var we=p.select(this),Le=v.ensureSingle(we,"g","layers");Le.style("opacity",Me[0].trace.opacity);var B=Y.valign,P=Me[0].lineHeight,X=Me[0].height;Le.attr("transform","middle"!==B&&P&&X?g(0,{top:1,bottom:-1}[B]*(.5*(P-X+3))):null),Le.selectAll("g.legendfill").data([Me]).enter().append("g").classed("legendfill",!0),Le.selectAll("g.legendlines").data([Me]).enter().append("g").classed("legendlines",!0);var ne=Le.selectAll("g.legendsymbols").data([Me]);ne.enter().append("g").classed("legendsymbols",!0),ne.selectAll("g.legendpoints").data([Me]).enter().append("g").classed("legendpoints",!0)}).each(function Ue(Me){var Le,we=Me[0].trace,B=[];if(we.visible)switch(we.type){case"histogram2d":case"heatmap":B=[["M-15,-2V4H15V-2Z"]],Le=!0;break;case"choropleth":case"choroplethmapbox":B=[["M-6,-6V6H6V-6Z"]],Le=!0;break;case"densitymapbox":B=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],Le="radial";break;case"cone":B=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],Le=!1;break;case"streamtube":B=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],Le=!1;break;case"surface":B=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],Le=!0;break;case"mesh3d":B=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],Le=!1;break;case"volume":B=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],Le=!0;break;case"isosurface":B=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],Le=!1}var P=p.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(B);P.enter().append("path").classed("legend3dandfriends",!0).attr("transform",J).style("stroke-miterlimit",1),P.exit().remove(),P.each(function(X,j){var ze,I=p.select(this),ae=m(we),O=ae.colorscale,ne=ae.reversescale;if(O){if(!Le){var Oe=O.length;ze=0===j?O[ne?Oe-1:0][1]:1===j?O[ne?0:Oe-1][1]:O[Math.floor((Oe-1)/2)][1]}}else{var Ne=we.vertexcolor||we.facecolor||we.color;ze=v.isArrayOrTypedArray(Ne)?Ne[j]||Ne[0]:Ne}I.attr("d",X[0]),ze?I.call(y.fill,ze):I.call(function(Be){Be.size()&&f.gradient(Be,V,"legendfill-"+we.uid,E(ne,"radial"===Le),O,"fill")})})}).each(function me(Me){var we=Me[0].trace,Le="waterfall"===we.type;if(Me[0]._distinct&&Le){var B=Me[0].trace[Me[0].dir].marker;return Me[0].mc=B.color,Me[0].mlw=B.line.width,Me[0].mlc=B.line.color,q(Me,this,"waterfall")}var P=[];we.visible&&Le&&(P=Me[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var X=p.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(P);X.enter().append("path").classed("legendwaterfall",!0).attr("transform",J).style("stroke-miterlimit",1),X.exit().remove(),X.each(function(j){var I=p.select(this),ae=we[j[0]].marker,O=W(void 0,ae.line,5,2);I.attr("d",j[1]).style("stroke-width",O+"px").call(y.fill,ae.color),O&&I.call(y.stroke,ae.line.color)})}).each(function G(Me){q(Me,this,"funnel")}).each(function Z(Me){q(Me,this)}).each(function ie(Me){var we=Me[0].trace,Le=p.select(this).select("g.legendpoints").selectAll("path.legendbox").data(we.visible&&T.traceIs(we,"box-violin")?[Me]:[]);Le.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",J),Le.exit().remove(),Le.each(function(){var B=p.select(this);if("all"!==we.boxpoints&&"all"!==we.points||0!==y.opacity(we.fillcolor)||0!==y.opacity((we.line||{}).color)){var X=W(void 0,we.line,5,2);B.style("stroke-width",X+"px").call(y.fill,we.fillcolor),X&&y.stroke(B,we.line.color)}else{var P=v.minExtend(we,{marker:{size:Q?12:v.constrain(we.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});Le.call(f.pointStyle,P,V)}})}).each(function He(Me){ke(Me,this,"funnelarea")}).each(function pe(Me){ke(Me,this,"pie")}).each(function te(Me){var ne,be,we=x(Me),Le=we.showFill,B=we.showLine,P=we.showGradientLine,X=we.showGradientFill,j=we.anyFill,I=we.anyLine,ae=Me[0],O=ae.trace,ze=m(O),Ne=ze.colorscale,Oe=ze.reversescale,Ve=h.hasMarkers(O)||!j?"M5,0":I?"M5,-2":"M5,-3",Pe=p.select(this),Je=Pe.select(".legendfill").selectAll("path").data(Le||X?[Me]:[]);if(Je.enter().append("path").classed("js-fill",!0),Je.exit().remove(),Je.attr("d",Ve+"h"+se+"v6h-"+se+"z").call(function(st){st.size()&&(Le?f.fillGroupStyle(st,V):f.gradient(st,V,"legendfill-"+O.uid,E(Oe),Ne,"fill"))}),B||P){var Xe=W(void 0,O.line,10,5);be=v.minExtend(O,{line:{width:Xe}}),ne=[v.minExtend(ae,{trace:be})]}var Ge=Pe.select(".legendlines").selectAll("path").data(B||P?[ne]:[]);Ge.enter().append("path").classed("js-line",!0),Ge.exit().remove(),Ge.attr("d",Ve+(P?"l"+se+",0.0001":"h"+se)).call(B?f.lineGroupStyle:function(st){if(st.size()){var wt="legendline-"+O.uid;f.lineGroupStyle(st),f.gradient(st,V,wt,E(Oe),Ne,"stroke")}})}).each(function fe(Me){var O,ne,we=x(Me),P=we.showLine,X=we.showMarker,j=Me[0],I=j.trace,ae=!X&&!we.anyLine&&!we.anyFill&&h.hasText(I);function be(Je,Xe,Ge,st){var wt=v.nestedProperty(I,Je).get(),kt=v.isArrayOrTypedArray(wt)&&Xe?Xe(wt):wt;if(Q&&kt&&void 0!==st&&(kt=st),Ge){if(kt<Ge[0])return Ge[0];if(kt>Ge[1])return Ge[1]}return kt}function ze(Je){return j._distinct&&j.index&&Je[j.index]?Je[j.index]:Je[0]}if(X||ae||P){var Ne={},Oe={};if(X){Ne.mc=be("marker.color",ze),Ne.mx=be("marker.symbol",ze),Ne.mo=be("marker.opacity",v.mean,[.2,1]),Ne.mlc=be("marker.line.color",ze),Ne.mlw=be("marker.line.width",v.mean,[0,5],2),Oe.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Be=be("marker.size",v.mean,[2,16],12);Ne.ms=Be,Oe.marker.size=Be}P&&(Oe.line={width:be("line.width",ze,[0,10],5)}),ae&&(Ne.tx="Aa",Ne.tp=be("textposition",ze),Ne.ts=10,Ne.tc=be("textfont.color",ze),Ne.tf=be("textfont.family",ze)),O=[v.minExtend(j,Ne)],(ne=v.minExtend(I,Oe)).selectedpoints=null,ne.texttemplate=null}var Te=p.select(this).select("g.legendpoints"),Ve=Te.selectAll("path.scatterpts").data(X?O:[]);Ve.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",J),Ve.exit().remove(),Ve.call(f.pointStyle,ne,V),X&&(O[0].mrc=3);var Pe=Te.selectAll("g.pointtext").data(ae?O:[]);Pe.enter().append("g").classed("pointtext",!0).append("text").attr("transform",J),Pe.exit().remove(),Pe.selectAll("text").call(f.textPointStyle,ne,V)}).each(function ue(Me){var we=Me[0].trace,Le=p.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(we.visible&&"candlestick"===we.type?[Me,Me]:[]);Le.enter().append("path").classed("legendcandle",!0).attr("d",function(B,P){return P?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",J).style("stroke-miterlimit",1),Le.exit().remove(),Le.each(function(B,P){var X=p.select(this),j=we[P?"increasing":"decreasing"],I=W(void 0,j.line,5,2);X.style("stroke-width",I+"px").call(y.fill,j.fillcolor),I&&y.stroke(X,j.line.color)})}).each(function le(Me){var we=Me[0].trace,Le=p.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(we.visible&&"ohlc"===we.type?[Me,Me]:[]);Le.enter().append("path").classed("legendohlc",!0).attr("d",function(B,P){return P?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",J).style("stroke-miterlimit",1),Le.exit().remove(),Le.each(function(B,P){var X=p.select(this),j=we[P?"increasing":"decreasing"],I=W(void 0,j.line,5,2);X.style("fill","none").call(f.dashLine,j.line.dash,I),I&&y.stroke(X,j.line.color)})})}},6540:function(ve,K,o){"use strict";o(6052),ve.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},1868:function(ve,K,o){"use strict";var p=o(4040),T=o(7316),v=o(9811),g=o(9224),f=o(4016).eraseActiveShape,y=o(3400),m=y._,h=ve.exports={};function c(b,N){var W,te,V=N.currentTarget,Y=V.getAttribute("data-attr"),$=V.getAttribute("data-val")||!0,Q=b._fullLayout,se={},F=v.list(b,null,!0),J=Q._cartesianSpikesEnabled;if("zoom"===Y){var G,fe="in"===$?.5:2,me=(1+fe)/2,Z=(1-fe)/2;for(te=0;te<F.length;te++)if(!(W=F[te]).fixedrange)if(G=W._name,"auto"===$)se[G+".autorange"]=!0;else if("reset"===$)void 0===W._rangeInitial0&&void 0===W._rangeInitial1?se[G+".autorange"]=!0:void 0===W._rangeInitial0?(se[G+".autorange"]=W._autorangeInitial,se[G+".range"]=[null,W._rangeInitial1]):void 0===W._rangeInitial1?(se[G+".range"]=[W._rangeInitial0,null],se[G+".autorange"]=W._autorangeInitial):se[G+".range"]=[W._rangeInitial0,W._rangeInitial1],void 0!==W._showSpikeInitial&&(se[G+".showspikes"]=W._showSpikeInitial,"on"===J&&!W._showSpikeInitial&&(J="off"));else{var q=[W.r2l(W.range[0]),W.r2l(W.range[1])],ie=[me*q[0]+Z*q[1],me*q[1]+Z*q[0]];se[G+".range[0]"]=W.l2r(ie[0]),se[G+".range[1]"]=W.l2r(ie[1])}}else"hovermode"===Y&&("x"===$||"y"===$)&&V.setAttribute("data-val",$=Q._isHoriz?"y":"x"),se[Y]=$;Q._cartesianSpikesEnabled=J,p.call("_guiRelayout",b,se)}function C(b,N){for(var V=N.currentTarget,Y=V.getAttribute("data-attr"),$=V.getAttribute("data-val")||!0,Q=b._fullLayout._subplots.gl3d||[],se={},F=Y.split("."),J=0;J<Q.length;J++)se[Q[J]+"."+F[1]]=$;se.dragmode="pan"===$?$:"zoom",p.call("_guiRelayout",b,se)}function _(b,N){for(var Y=N.currentTarget.getAttribute("data-attr"),$="resetLastSave"===Y,Q="resetDefault"===Y,se=b._fullLayout,F=se._subplots.gl3d||[],J={},W=0;W<F.length;W++){var q,te=F[W],fe=te+".camera",me=te+".aspectratio",Z=te+".aspectmode",G=se[te]._scene;$?(J[fe+".up"]=G.viewInitial.up,J[fe+".eye"]=G.viewInitial.eye,J[fe+".center"]=G.viewInitial.center,q=!0):Q&&(J[fe+".up"]=null,J[fe+".eye"]=null,J[fe+".center"]=null,q=!0),q&&(J[me+".x"]=G.viewInitial.aspectratio.x,J[me+".y"]=G.viewInitial.aspectratio.y,J[me+".z"]=G.viewInitial.aspectratio.z,J[Z]=G.viewInitial.aspectmode)}p.call("_guiRelayout",b,J)}function L(b,N){var V=N.currentTarget,Y=V._previousVal,$=b._fullLayout,Q=$._subplots.gl3d||[],se=["xaxis","yaxis","zaxis"],F={},J={};if(Y)J=Y,V._previousVal=null;else{for(var W=0;W<Q.length;W++){var te=Q[W],fe=$[te],me=te+".hovermode";F[me]=fe.hovermode,J[me]=!1;for(var Z=0;Z<3;Z++){var G=se[Z],q=te+"."+G+".showspikes";J[q]=!1,F[q]=fe[G].showspikes}}V._previousVal=F}return J}function w(b,N){for(var V=N.currentTarget,Y=V.getAttribute("data-attr"),$=V.getAttribute("data-val")||!0,Q=b._fullLayout,se=Q._subplots.geo||[],F=0;F<se.length;F++){var J=se[F];if("zoom"===Y){var te=Q[J].projection.scale;p.call("_guiRelayout",b,J+".projection.scale","in"===$?2*te:.5*te)}}"reset"===Y&&H(b,"geo")}function z(b){var N=b._fullLayout;return!N.hovermode&&(N._has("cartesian")?N._isHoriz?"y":"x":"closest")}function S(b){var N=z(b);p.call("_guiRelayout",b,"hovermode",N)}function x(b,N){for(var Y=N.currentTarget.getAttribute("data-val"),$=b._fullLayout,Q=$._subplots.mapbox||[],F={},J=0;J<Q.length;J++){var W=Q[J],te=$[W].zoom;F[W+".zoom"]="in"===Y?1.05*te:te/1.05}p.call("_guiRelayout",b,F)}function H(b,N){for(var V=b._fullLayout,Y=V._subplots[N]||[],$={},Q=0;Q<Y.length;Q++)for(var se=Y[Q],J=V[se]._subplot.viewInitial,W=Object.keys(J),te=0;te<W.length;te++){var fe=W[te];$[se+"."+fe]=J[fe]}p.call("_guiRelayout",b,$)}h.toImage={name:"toImage",title:function(b){return m(b,"png"===((b._context.toImageButtonOptions||{}).format||"png")?"Download plot as a png":"Download plot")},icon:g.camera,click:function(b){var N=b._context.toImageButtonOptions,V={format:N.format||"png"};y.notifier(m(b,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==V.format&&y.isIE()&&(y.notifier(m(b,"IE only supports svg.  Changing format to svg."),"long"),V.format="svg"),["filename","width","height","scale"].forEach(function(Y){Y in N&&(V[Y]=N[Y])}),p.call("downloadImage",b,V).then(function(Y){y.notifier(m(b,"Snapshot succeeded")+" - "+Y,"long")}).catch(function(){y.notifier(m(b,"Sorry, there was a problem downloading your snapshot!"),"long")})}},h.sendDataToCloud={name:"sendDataToCloud",title:function(b){return m(b,"Edit in Chart Studio")},icon:g.disk,click:function(b){T.sendDataToCloud(b)}},h.editInChartStudio={name:"editInChartStudio",title:function(b){return m(b,"Edit in Chart Studio")},icon:g.pencil,click:function(b){T.sendDataToCloud(b)}},h.zoom2d={name:"zoom2d",_cat:"zoom",title:function(b){return m(b,"Zoom")},attr:"dragmode",val:"zoom",icon:g.zoombox,click:c},h.pan2d={name:"pan2d",_cat:"pan",title:function(b){return m(b,"Pan")},attr:"dragmode",val:"pan",icon:g.pan,click:c},h.select2d={name:"select2d",_cat:"select",title:function(b){return m(b,"Box Select")},attr:"dragmode",val:"select",icon:g.selectbox,click:c},h.lasso2d={name:"lasso2d",_cat:"lasso",title:function(b){return m(b,"Lasso Select")},attr:"dragmode",val:"lasso",icon:g.lasso,click:c},h.drawclosedpath={name:"drawclosedpath",title:function(b){return m(b,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:g.drawclosedpath,click:c},h.drawopenpath={name:"drawopenpath",title:function(b){return m(b,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:g.drawopenpath,click:c},h.drawline={name:"drawline",title:function(b){return m(b,"Draw line")},attr:"dragmode",val:"drawline",icon:g.drawline,click:c},h.drawrect={name:"drawrect",title:function(b){return m(b,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:g.drawrect,click:c},h.drawcircle={name:"drawcircle",title:function(b){return m(b,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:g.drawcircle,click:c},h.eraseshape={name:"eraseshape",title:function(b){return m(b,"Erase active shape")},icon:g.eraseshape,click:f},h.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(b){return m(b,"Zoom in")},attr:"zoom",val:"in",icon:g.zoom_plus,click:c},h.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(b){return m(b,"Zoom out")},attr:"zoom",val:"out",icon:g.zoom_minus,click:c},h.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(b){return m(b,"Autoscale")},attr:"zoom",val:"auto",icon:g.autoscale,click:c},h.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(b){return m(b,"Reset axes")},attr:"zoom",val:"reset",icon:g.home,click:c},h.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(b){return m(b,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:g.tooltip_basic,gravity:"ne",click:c},h.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(b){return m(b,"Compare data on hover")},attr:"hovermode",val:function(b){return b._fullLayout._isHoriz?"y":"x"},icon:g.tooltip_compare,gravity:"ne",click:c},h.zoom3d={name:"zoom3d",_cat:"zoom",title:function(b){return m(b,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:g.zoombox,click:C},h.pan3d={name:"pan3d",_cat:"pan",title:function(b){return m(b,"Pan")},attr:"scene.dragmode",val:"pan",icon:g.pan,click:C},h.orbitRotation={name:"orbitRotation",title:function(b){return m(b,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:g["3d_rotate"],click:C},h.tableRotation={name:"tableRotation",title:function(b){return m(b,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:g["z-axis"],click:C},h.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(b){return m(b,"Reset camera to default")},attr:"resetDefault",icon:g.home,click:_},h.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(b){return m(b,"Reset camera to last save")},attr:"resetLastSave",icon:g.movie,click:_},h.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(b){return m(b,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:g.tooltip_basic,gravity:"ne",click:function D(b,N){var V=L(b,N);p.call("_guiRelayout",b,V)}},h.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(b){return m(b,"Zoom in")},attr:"zoom",val:"in",icon:g.zoom_plus,click:w},h.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(b){return m(b,"Zoom out")},attr:"zoom",val:"out",icon:g.zoom_minus,click:w},h.resetGeo={name:"resetGeo",_cat:"reset",title:function(b){return m(b,"Reset")},attr:"reset",val:null,icon:g.autoscale,click:w},h.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(b){return m(b,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:g.tooltip_basic,gravity:"ne",click:S},h.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(b){return m(b,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:g.tooltip_basic,gravity:"ne",click:S},h.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(b){return m(b,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:g.tooltip_basic,gravity:"ne",click:S},h.resetViewSankey={name:"resetSankeyGroup",title:function(b){return m(b,"Reset view")},icon:g.home,click:function(b){for(var N={"node.groups":[],"node.x":[],"node.y":[]},V=0;V<b._fullData.length;V++){var Y=b._fullData[V]._viewInitial;N["node.groups"].push(Y.node.groups.slice()),N["node.x"].push(Y.node.x.slice()),N["node.y"].push(Y.node.y.slice())}p.call("restyle",b,N)}},h.toggleHover={name:"toggleHover",title:function(b){return m(b,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:g.tooltip_basic,gravity:"ne",click:function(b,N){var V=L(b,N);V.hovermode=z(b),p.call("_guiRelayout",b,V)}},h.resetViews={name:"resetViews",title:function(b){return m(b,"Reset views")},icon:g.home,click:function(b,N){var V=N.currentTarget;V.setAttribute("data-attr","zoom"),V.setAttribute("data-val","reset"),c(b,N),V.setAttribute("data-attr","resetLastSave"),_(b,N),H(b,"geo"),H(b,"mapbox")}},h.toggleSpikelines={name:"toggleSpikelines",title:function(b){return m(b,"Toggle Spike Lines")},icon:g.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(b){var N=b._fullLayout;N._cartesianSpikesEnabled="on"===N._cartesianSpikesEnabled?"off":"on",p.call("_guiRelayout",b,function E(b){for(var V="on"===b._fullLayout._cartesianSpikesEnabled,Y=v.list(b,null,!0),$={},Q=0;Q<Y.length;Q++){var se=Y[Q];$[se._name+".showspikes"]=!!V||se._showSpikeInitial}return $}(b))}},h.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(b){return m(b,"Reset view")},attr:"reset",icon:g.home,click:function(b){H(b,"mapbox")}},h.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(b){return m(b,"Zoom in")},attr:"zoom",val:"in",icon:g.zoom_plus,click:x},h.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(b){return m(b,"Zoom out")},attr:"zoom",val:"out",icon:g.zoom_minus,click:x}},6052:function(ve,K,o){"use strict";var p=o(1868),T=Object.keys(p),v=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],g=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(v),f=[];T.forEach(function(m){!function(m){if(-1===g.indexOf(m._cat||m.name)){var h=m.name,c=(m._cat||m.name).toLowerCase();-1===f.indexOf(h)&&f.push(h),-1===f.indexOf(c)&&f.push(c)}}(p[m])}),f.sort(),ve.exports={DRAW_MODES:v,backButtons:g,foreButtons:f}},824:function(ve,K,o){"use strict";var p=o(3400),T=o(6308),v=o(1780),g=o(6540);ve.exports=function(y,m){var h=y.modebar||{},c=v.newContainer(m,"modebar");function C(L,D){return p.coerce(h,c,g,L,D)}C("orientation"),C("bgcolor",T.addOpacity(m.paper_bgcolor,.5));var _=T.contrast(T.rgb(m.modebar.bgcolor));C("color",T.addOpacity(_,.3)),C("activecolor",T.addOpacity(_,.7)),C("uirevision",m.uirevision),C("add"),C("remove")}},3080:function(ve,K,o){"use strict";ve.exports={moduleType:"component",name:"modebar",layoutAttributes:o(6540),supplyLayoutDefaults:o(824),manage:o(8816)}},8816:function(ve,K,o){"use strict";var p=o(9811),T=o(3028),v=o(4040),g=o(624).isUnifiedHover,f=o(6400),y=o(1868),m=o(6052).DRAW_MODES,h=o(3400).extendDeep;function c(z){var S=z._fullLayout,E=z._fullData,x=z._context;function H(j,I){if("string"==typeof I){if(I.toLowerCase()===j.toLowerCase())return!0}else if(I.name===j||(I._cat||I.name)===j.toLowerCase())return!0;return!1}var b=S.modebar.add;"string"==typeof b&&(b=[b]);var N=S.modebar.remove;"string"==typeof N&&(N=[N]);var V=x.modeBarButtonsToAdd.concat(b.filter(function(j){for(var I=0;I<x.modeBarButtonsToRemove.length;I++)if(H(j,x.modeBarButtonsToRemove[I]))return!1;return!0})),Y=x.modeBarButtonsToRemove.concat(N.filter(function(j){for(var I=0;I<x.modeBarButtonsToAdd.length;I++)if(H(j,x.modeBarButtonsToAdd[I]))return!1;return!0})),$=S._has("cartesian"),Q=S._has("gl3d"),se=S._has("geo"),F=S._has("pie"),J=S._has("funnelarea"),W=S._has("gl2d"),te=S._has("ternary"),fe=S._has("mapbox"),me=S._has("polar"),Z=S._has("smith"),G=S._has("sankey"),q=function C(z){for(var S=p.list({_fullLayout:z},null,!0),E=0;E<S.length;E++)if(!S[E].fixedrange)return!1;return!0}(S),ie=g(S.hovermode),ue=[];function le(j){if(j.length){for(var I=[],ae=0;ae<j.length;ae++){for(var O=j[ae],ne=y[O],be=ne.name.toLowerCase(),ze=(ne._cat||ne.name).toLowerCase(),Ne=!1,Oe=0;Oe<Y.length;Oe++){var Be=Y[Oe].toLowerCase();if(Be===be||Be===ze){Ne=!0;break}}Ne||I.push(y[O])}ue.push(I)}}var pe=["toImage"];x.showEditInChartStudio?pe.push("editInChartStudio"):x.showSendToCloud&&pe.push("sendDataToCloud"),le(pe);var He=[],ke=[],Ue=[],Me=[];($||W||F||J||te)+se+Q+fe+me+Z>1?(ke=["toggleHover"],Ue=["resetViews"]):se?(He=["zoomInGeo","zoomOutGeo"],ke=["hoverClosestGeo"],Ue=["resetGeo"]):Q?(ke=["hoverClosest3d"],Ue=["resetCameraDefault3d","resetCameraLastSave3d"]):fe?(He=["zoomInMapbox","zoomOutMapbox"],ke=["toggleHover"],Ue=["resetViewMapbox"]):W?ke=["hoverClosestGl2d"]:F?ke=["hoverClosestPie"]:G?(ke=["hoverClosestCartesian","hoverCompareCartesian"],Ue=["resetViewSankey"]):ke=["toggleHover"],$&&(ke=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function L(z){for(var S=0;S<z.length;S++)if(!v.traceIs(z[S],"noHover"))return!1;return!0}(E)||ie)&&(ke=[]),($||W)&&!q&&(He=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==Ue[0]&&(Ue=["resetScale2d"])),Q?Me=["zoom3d","pan3d","orbitRotation","tableRotation"]:($||W)&&!q||te?Me=["zoom2d","pan2d"]:fe||se?Me=["pan2d"]:me&&(Me=["zoom2d"]),function _(z){for(var S=!1,E=0;E<z.length&&!S;E++){var x=z[E];!x._module||!x._module.selectPoints||(v.traceIs(x,"scatter-like")?(T.hasMarkers(x)||T.hasText(x))&&(S=!0):v.traceIs(x,"box-violin")?("all"===x.boxpoints||"all"===x.points)&&(S=!0):S=!0)}return S}(E)&&Me.push("select2d","lasso2d");var we=[],Le=function(j){-1===we.indexOf(j)&&-1!==ke.indexOf(j)&&we.push(j)};if(Array.isArray(V)){for(var B=[],P=0;P<V.length;P++){var X=V[P];"string"==typeof X?(X=X.toLowerCase(),-1!==m.indexOf(X)?(S._has("mapbox")||S._has("cartesian"))&&Me.push(X):"togglespikelines"===X?Le("toggleSpikelines"):"togglehover"===X?Le("toggleHover"):"hovercompare"===X?Le("hoverCompareCartesian"):"hoverclosest"===X?(Le("hoverClosestCartesian"),Le("hoverClosestGeo"),Le("hoverClosest3d"),Le("hoverClosestGl2d"),Le("hoverClosestPie")):"v1hovermode"===X&&(Le("toggleHover"),Le("hoverClosestCartesian"),Le("hoverCompareCartesian"),Le("hoverClosestGeo"),Le("hoverClosest3d"),Le("hoverClosestGl2d"),Le("hoverClosestPie"))):B.push(X)}V=B}return le(Me),le(He.concat(Ue)),le(we),function D(z,S){if(S.length)if(Array.isArray(S[0]))for(var E=0;E<S.length;E++)z.push(S[E]);else z.push(S);return z}(ue,V)}ve.exports=function(S){var E=S._fullLayout,x=S._context,H=E._modeBar;if(x.displayModeBar||x.watermark){if(!Array.isArray(x.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(x.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var N,b=x.modeBarButtons;N=Array.isArray(b)&&b.length?function w(z){for(var S=h([],z),E=0;E<S.length;E++)for(var x=S[E],H=0;H<x.length;H++){var b=x[H];if("string"==typeof b){if(void 0===y[b])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));S[E][H]=y[b]}}return S}(b):!x.displayModeBar&&x.watermark?[]:c(S),H?H.update(S,N):E._modeBar=f(S,N)}else H&&(H.destroy(),delete E._modeBar)}},6400:function(ve,K,o){"use strict";var p=o(3428),T=o(8248),v=o(3400),g=o(9224),f=o(5788).version,y=new DOMParser;function m(_){this.container=_.container,this.element=document.createElement("div"),this.update(_.graphInfo,_.buttons),this.container.appendChild(this.element)}var h=m.prototype;h.update=function(_,L){this.graphInfo=_;var D=this.graphInfo._context,w=this.graphInfo._fullLayout,z="modebar-"+w._uid;this.element.setAttribute("id",z),this._uid=z,this.element.className="modebar","hover"===D.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===w.modebar.orientation&&(this.element.className+=" vertical",L=L.reverse());var S=w.modebar,E="hover"===D.displayModeBar?".js-plotly-plot .plotly:hover ":"";v.deleteRelatedStyleRule(z),v.addRelatedStyleRule(z,E+"#"+z+" .modebar-group","background-color: "+S.bgcolor),v.addRelatedStyleRule(z,"#"+z+" .modebar-btn .icon path","fill: "+S.color),v.addRelatedStyleRule(z,"#"+z+" .modebar-btn:hover .icon path","fill: "+S.activecolor),v.addRelatedStyleRule(z,"#"+z+" .modebar-btn.active .icon path","fill: "+S.activecolor);var x=!this.hasButtons(L),H=this.hasLogo!==D.displaylogo,b=this.locale!==D.locale;if(this.locale=D.locale,(x||H||b)&&(this.removeAllButtons(),this.updateButtons(L),D.watermark||D.displaylogo)){var N=this.getLogo();D.watermark&&(N.className=N.className+" watermark"),"v"===w.modebar.orientation?this.element.insertBefore(N,this.element.childNodes[0]):this.element.appendChild(N),this.hasLogo=!0}this.updateActiveButton()},h.updateButtons=function(_){var L=this;this.buttons=_,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(D){var w=L.createGroup();D.forEach(function(z){var S=z.name;if(!S)throw new Error("must provide button 'name' in button config");if(-1!==L.buttonsNames.indexOf(S))throw new Error("button name '"+S+"' is taken");L.buttonsNames.push(S);var E=L.createButton(z);L.buttonElements.push(E),w.appendChild(E)}),L.element.appendChild(w)})},h.createGroup=function(){var _=document.createElement("div");return _.className="modebar-group",_},h.createButton=function(_){var L=this,D=document.createElement("a");D.setAttribute("rel","tooltip"),D.className="modebar-btn";var w=_.title;void 0===w?w=_.name:"function"==typeof w&&(w=w(this.graphInfo)),(w||0===w)&&D.setAttribute("data-title",w),void 0!==_.attr&&D.setAttribute("data-attr",_.attr);var z=_.val;if(void 0!==z&&("function"==typeof z&&(z=z(this.graphInfo)),D.setAttribute("data-val",z)),"function"!=typeof _.click)throw new Error("must provide button 'click' function in button config");D.addEventListener("click",function(x){_.click(L.graphInfo,x),L.updateActiveButton(x.currentTarget)}),D.setAttribute("data-toggle",_.toggle||!1),_.toggle&&p.select(D).classed("active",!0);var E=_.icon;return D.appendChild("function"==typeof E?E():this.createIcon(E||g.question)),D.setAttribute("data-gravity",_.gravity||"n"),D},h.createIcon=function(_){var w,L=T(_.height)?Number(_.height):_.ascent-_.descent,D="http://www.w3.org/2000/svg";if(_.path){(w=document.createElementNS(D,"svg")).setAttribute("viewBox",[0,0,_.width,L].join(" ")),w.setAttribute("class","icon");var z=document.createElementNS(D,"path");z.setAttribute("d",_.path),_.transform?z.setAttribute("transform",_.transform):void 0!==_.ascent&&z.setAttribute("transform","matrix(1 0 0 -1 0 "+_.ascent+")"),w.appendChild(z)}return _.svg&&(w=y.parseFromString(_.svg,"application/xml").childNodes[0]),w.setAttribute("height","1em"),w.setAttribute("width","1em"),w},h.updateActiveButton=function(_){var L=this.graphInfo._fullLayout,D=void 0!==_?_.getAttribute("data-attr"):null;this.buttonElements.forEach(function(w){var z=w.getAttribute("data-val")||!0,S=w.getAttribute("data-attr"),E="true"===w.getAttribute("data-toggle"),x=p.select(w);if(E)S===D&&x.classed("active",!x.classed("active"));else{var H=null===S?S:v.nestedProperty(L,S).get();x.classed("active",H===z)}})},h.hasButtons=function(_){var L=this.buttons;if(!L||_.length!==L.length)return!1;for(var D=0;D<_.length;++D){if(_[D].length!==L[D].length)return!1;for(var w=0;w<_[D].length;w++)if(_[D][w].name!==L[D][w].name)return!1}return!0},h.getLogo=function(){var _=this.createGroup(),L=document.createElement("a");return L.href="https://plotly.com/",L.target="_blank",L.setAttribute("data-title",function c(_){return _+" (v"+f+")"}(v._(this.graphInfo,"Produced with Plotly.js"))),L.className="modebar-btn plotlyjsicon modebar-btn--logo",L.appendChild(this.createIcon(g.newplotlylogo)),_.appendChild(L),_},h.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},h.destroy=function(){v.removeElement(this.container.querySelector(".modebar")),v.deleteRelatedStyleRule(this._uid)},ve.exports=function C(_,L){var D=_._fullLayout,w=new m({graphInfo:_,container:D._modebardiv.node(),buttons:L});return D._privateplot&&p.select(w.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),w}},6680:function(ve,K,o){"use strict";var p=o(5376),T=o(2548),g=(0,o(1780).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});ve.exports={visible:{valType:"boolean",editType:"plot"},buttons:g,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:p({editType:"plot"}),bgcolor:{valType:"color",dflt:T.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:T.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},5984:function(ve){"use strict";ve.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},2148:function(ve,K,o){"use strict";var p=o(3400),T=o(6308),v=o(1780),g=o(1272),f=o(6680),y=o(5984);function m(c,C,_,L){var D=L.calendar;function w(E,x){return p.coerce(c,C,f.buttons,E,x)}if(w("visible")){var S=w("step");"all"!==S&&(!D||"gregorian"===D||"month"!==S&&"year"!==S?w("stepmode"):C.stepmode="backward",w("count")),w("label")}}ve.exports=function(C,_,L,D,w){var z=C.rangeselector||{},S=v.newContainer(_,"rangeselector");function E(V,Y){return p.coerce(z,S,f,V,Y)}if(E("visible",g(z,S,{name:"buttons",handleItemDefaults:m,calendar:w}).length>0)){var b=function h(c,C,_){for(var L=_.filter(function(S){return C[S].anchor===c._id}),D=0,w=0;w<L.length;w++){var z=C[L[w]].domain;z&&(D=Math.max(z[1],D))}return[c.domain[0],D+y.yPad]}(_,L,D);E("x",b[0]),E("y",b[1]),p.noneOrAll(C,_,["x","y"]),E("xanchor"),E("yanchor"),p.coerceFont(E,"font",L.font);var N=E("bgcolor");E("activecolor",T.contrast(N,y.lightAmount,y.darkAmount)),E("bordercolor"),E("borderwidth")}}},216:function(ve,K,o){"use strict";var p=o(3428),T=o(4040),v=o(7316),g=o(6308),f=o(3616),y=o(3400),m=y.strTranslate,h=o(2736),c=o(9811),C=o(4284),_=C.LINE_SPACING,L=C.FROM_TL,D=C.FROM_BR,w=o(5984),z=o(8040);function E($){return $._id}function H($,Q,se){var F=y.ensureSingle($,"rect","selector-rect",function(J){J.attr("shape-rendering","crispEdges")});F.attr({rx:w.rx,ry:w.ry}),F.call(g.stroke,Q.bordercolor).call(g.fill,function b($,Q){return Q._isActive||Q._isHovered?$.activecolor:$.bgcolor}(Q,se)).style("stroke-width",Q.borderwidth+"px")}function N($,Q,se,F){y.ensureSingle($,"text","selector-text",function(te){te.attr("text-anchor","middle")}).call(f.font,Q.font).text(function V($,Q){return $.label?Q?y.templateString($.label,Q):$.label:"all"===$.step?"all":$.count+$.step.charAt(0)}(se,F._fullLayout._meta)).call(function J(te){h.convertToTspans(te,F)})}ve.exports=function(Q){var F=Q._fullLayout._infolayer.selectAll(".rangeselector").data(function S($){for(var Q=c.list($,"x",!0),se=[],F=0;F<Q.length;F++){var J=Q[F];J.rangeselector&&J.rangeselector.visible&&se.push(J)}return se}(Q),E);F.enter().append("g").classed("rangeselector",!0),F.exit().remove(),F.style({cursor:"pointer","pointer-events":"all"}),F.each(function(J){var W=p.select(this),te=J,fe=te.rangeselector,me=W.selectAll("g.button").data(y.filterVisible(fe.buttons));me.enter().append("g").classed("button",!0),me.exit().remove(),me.each(function(Z){var G=p.select(this),q=z(te,Z);Z._isActive=function x($,Q,se){if("all"===Q.step)return!0===$.autorange;var F=Object.keys(se);return $.range[0]===se[F[0]]&&$.range[1]===se[F[1]]}(te,Z,q),G.call(H,fe,Z),G.call(N,fe,Z,Q),G.on("click",function(){Q._dragged||T.call("_guiRelayout",Q,q)}),G.on("mouseover",function(){Z._isHovered=!0,G.call(H,fe,Z)}),G.on("mouseout",function(){Z._isHovered=!1,G.call(H,fe,Z)})}),function Y($,Q,se,F,J){var W=0,te=0,fe=se.borderwidth;Q.each(function(){var le=p.select(this).select(".selector-text"),He=Math.max(se.font.size*_*h.lineCount(le),16)+3;te=Math.max(te,He)}),Q.each(function(){var ue=p.select(this),le=ue.select(".selector-rect"),pe=ue.select(".selector-text"),He=pe.node()&&f.bBox(pe.node()).width,ke=se.font.size*_,Ue=h.lineCount(pe),Me=Math.max(He+10,w.minButtonWidth);ue.attr("transform",m(fe+W,fe)),le.attr({x:0,y:0,width:Me,height:te}),h.positionText(pe,Me/2,te/2-(Ue-1)*ke/2+3),W+=Me+5});var me=$._fullLayout._size,Z=me.l+me.w*se.x,G=me.t+me.h*(1-se.y),q="left";y.isRightAnchor(se)&&(Z-=W,q="right"),y.isCenterAnchor(se)&&(Z-=W/2,q="center");var ie="top";y.isBottomAnchor(se)&&(G-=te,ie="bottom"),y.isMiddleAnchor(se)&&(G-=te/2,ie="middle"),W=Math.ceil(W),te=Math.ceil(te),Z=Math.round(Z),G=Math.round(G),v.autoMargin($,F+"-range-selector",{x:se.x,y:se.y,l:W*L[q],r:W*D[q],b:te*D[ie],t:te*L[ie]}),J.attr("transform",m(Z,G))}(Q,me,fe,te._name,W)})}},8040:function(ve,K,o){"use strict";var p=o(3220),T=o(3400).titleCase;ve.exports=function(f,y){var m=f._name,h={};if("all"===y.step)h[m+".autorange"]=!0;else{var c=function v(g,f){var _,y=g.range,m=new Date(g.r2l(y[1])),c=p["utc"+T(f.step)],C=f.count;switch(f.stepmode){case"backward":_=g.l2r(+c.offset(m,-C));break;case"todate":var L=c.offset(m,-C);_=g.l2r(+c.ceil(L))}return[_,y[1]]}(f,y);h[m+".range[0]"]=c[0],h[m+".range[1]"]=c[1]}return h}},1152:function(ve,K,o){"use strict";ve.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:o(6680)}}},layoutAttributes:o(6680),handleDefaults:o(2148),draw:o(216)}},8820:function(ve,K,o){"use strict";var p=o(2548);ve.exports={bgcolor:{valType:"color",dflt:p.background,editType:"plot"},bordercolor:{valType:"color",dflt:p.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},6652:function(ve,K,o){"use strict";var p=o(9811).list,T=o(9280).getAutoRange,v=o(4636);ve.exports=function(f){for(var y=p(f,"x",!0),m=0;m<y.length;m++){var h=y[m],c=h[v.name];c&&c.visible&&c.autorange&&(c._input.autorange=!0,c._input.range=c.range=T(f,h))}}},4636:function(ve){"use strict";ve.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},1659:function(ve,K,o){"use strict";var p=o(3400),T=o(1780),v=o(9811),g=o(8820),f=o(936);ve.exports=function(m,h,c){var C=m[c],_=h[c];if(C.rangeslider||h._requestRangeslider[_._id]){p.isPlainObject(C.rangeslider)||(C.rangeslider={});var z,S,L=C.rangeslider,D=T.newContainer(_,"rangeslider");if(w("visible")){w("bgcolor",h.plot_bgcolor),w("bordercolor"),w("borderwidth"),w("thickness"),w("autorange",!_.isValidRange(L.range)),w("range");var H=h._subplots;if(H)for(var b=H.cartesian.filter(function(F){return F.substr(0,F.indexOf("y"))===v.name2id(c)}).map(function(F){return F.substr(F.indexOf("y"),F.length)}),N=p.simpleMap(b,v.id2name),V=0;V<N.length;V++){var Y=N[V];z=L[Y]||{},S=T.newContainer(D,Y,"yaxis");var Q,$=h[Y];z.range&&$.isValidRange(z.range)&&(Q="fixed"),"match"!==E("rangemode",Q)&&E("range",$.range.slice())}D._input=L}}function w(F,J){return p.coerce(L,D,g,F,J)}function E(F,J){return p.coerce(z,S,f,F,J)}}},60:function(ve,K,o){"use strict";var p=o(3428),T=o(4040),v=o(7316),g=o(3400),f=g.strTranslate,y=o(3616),m=o(6308),h=o(1668),c=o(7952),C=o(9811),_=o(6476),L=o(3972),D=o(4636);function w(Q){return"number"==typeof Q.clientX?Q.clientX:Q.touches&&Q.touches.length>0?Q.touches[0].clientX:0}function z(Q,se,F,J){if(!se._context.staticPlot){var W=Q.select("rect."+D.slideBoxClassName).node(),te=Q.select("rect."+D.grabAreaMinClassName).node(),fe=Q.select("rect."+D.grabAreaMaxClassName).node();Q.on("mousedown",me),Q.on("touchstart",me)}function me(){var Z=p.event,G=Z.target,q=w(Z),ie=q-Q.node().getBoundingClientRect().left,ue=J.d2p(F._rl[0]),le=J.d2p(F._rl[1]),pe=_.coverSlip();function He(Ue){var Le,B,P,we=+w(Ue)-q;switch(G){case W:if(P="ew-resize",ue+we>F._length||le+we<0)return;Le=ue+we,B=le+we;break;case te:if(P="col-resize",ue+we>F._length)return;Le=ue+we,B=le;break;case fe:if(P="col-resize",le+we<0)return;Le=ue,B=le+we;break;default:P="ew-resize",Le=ie,B=ie+we}if(B<Le){var X=B;B=Le,Le=X}J._pixelMin=Le,J._pixelMax=B,L(p.select(pe),P),function S(Q,se,F,J){function W(me){return F.l2r(g.constrain(me,J._rl[0],J._rl[1]))}var te=W(J.p2d(J._pixelMin)),fe=W(J.p2d(J._pixelMax));window.requestAnimationFrame(function(){T.call("_guiRelayout",se,F._name+".range",[te,fe])})}(0,se,F,J)}function ke(){pe.removeEventListener("mousemove",He),pe.removeEventListener("mouseup",ke),this.removeEventListener("touchmove",He),this.removeEventListener("touchend",ke),g.removeElement(pe)}this.addEventListener("touchmove",He),this.addEventListener("touchend",ke),pe.addEventListener("mousemove",He),pe.addEventListener("mouseup",ke)}}function x(Q,se,F,J){var W=g.ensureSingle(Q,"rect",D.bgClassName,function(Z){Z.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),te=J.borderwidth%2==0?J.borderwidth:J.borderwidth-1,fe=-J._offsetShift,me=y.crispRound(se,J.borderwidth);W.attr({width:J._width+te,height:J._height+te,transform:f(fe,fe),"stroke-width":me}).call(m.stroke,J.bordercolor).call(m.fill,J.bgcolor)}function H(Q,se,F,J){g.ensureSingleById(se._fullLayout._topdefs,"clipPath",J._clipId,function(fe){fe.append("rect").attr({x:0,y:0})}).select("rect").attr({width:J._width,height:J._height})}function b(Q,se,F,J){var fe,W=se.calcdata,te=Q.selectAll("g."+D.rangePlotClassName).data(F._subplotsWith,g.identity);te.enter().append("g").attr("class",function(me){return D.rangePlotClassName+" "+me}).call(y.setClipUrl,J._clipId,se),te.order(),te.exit().remove(),te.each(function(me,Z){var G=p.select(this),q=0===Z,ie=C.getFromId(se,me,"y"),ue=ie._name,le=J[ue],pe={data:[],layout:{xaxis:{type:F.type,domain:[0,1],range:J.range.slice(),calendar:F.calendar},width:J._width,height:J._height,margin:{t:0,b:0,l:0,r:0}},_context:se._context};F.rangebreaks&&(pe.layout.xaxis.rangebreaks=F.rangebreaks),pe.layout[ue]={type:ie.type,domain:[0,1],range:"match"!==le.rangemode?le.range.slice():ie.range.slice(),calendar:ie.calendar},ie.rangebreaks&&(pe.layout[ue].rangebreaks=ie.rangebreaks),v.supplyDefaults(pe);var He=pe._fullLayout.xaxis,ke=pe._fullLayout[ue];He.clearCalc(),He.setScale(),ke.clearCalc(),ke.setScale();var Ue={id:me,plotgroup:G,xaxis:He,yaxis:ke,isRangePlot:!0};q?fe=Ue:(Ue.mainplot="xy",Ue.mainplotinfo=fe),c.rangePlot(se,Ue,function N(Q,se){for(var F=[],J=0;J<Q.length;J++){var W=Q[J],te=W[0].trace;te.xaxis+te.yaxis===se&&F.push(W)}return F}(W,me))})}function V(Q,se,F,J,W){g.ensureSingle(Q,"rect",D.maskMinClassName,function(G){G.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",J._height).call(m.fill,D.maskColor),g.ensureSingle(Q,"rect",D.maskMaxClassName,function(G){G.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",J._height).call(m.fill,D.maskColor),"match"!==W.rangemode&&(g.ensureSingle(Q,"rect",D.maskMinOppAxisClassName,function(G){G.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",J._width).call(m.fill,D.maskOppAxisColor),g.ensureSingle(Q,"rect",D.maskMaxOppAxisClassName,function(G){G.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",J._width).style("border-top",D.maskOppBorder).call(m.fill,D.maskOppAxisColor))}function Y(Q,se,F,J){se._context.staticPlot||g.ensureSingle(Q,"rect",D.slideBoxClassName,function(te){te.attr({y:0,cursor:D.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:J._height,fill:D.slideBoxFill})}function $(Q,se,F,J){var W=g.ensureSingle(Q,"g",D.grabberMinClassName),te=g.ensureSingle(Q,"g",D.grabberMaxClassName),fe={x:0,width:D.handleWidth,rx:D.handleRadius,fill:m.background,stroke:m.defaultLine,"stroke-width":D.handleStrokeWidth,"shape-rendering":"crispEdges"},me={y:Math.round(J._height/4),height:Math.round(J._height/2)};g.ensureSingle(W,"rect",D.handleMinClassName,function(le){le.attr(fe)}).attr(me),g.ensureSingle(te,"rect",D.handleMaxClassName,function(le){le.attr(fe)}).attr(me);var q={width:D.grabAreaWidth,x:0,y:0,fill:D.grabAreaFill,cursor:se._context.staticPlot?void 0:D.grabAreaCursor};g.ensureSingle(W,"rect",D.grabAreaMinClassName,function(le){le.attr(q)}).attr("height",J._height),g.ensureSingle(te,"rect",D.grabAreaMaxClassName,function(le){le.attr(q)}).attr("height",J._height)}ve.exports=function(Q){for(var se=Q._fullLayout,F=se._rangeSliderData,J=0;J<F.length;J++){var W=F[J][D.name];W._clipId=W._id+"-"+se._uid}var fe=se._infolayer.selectAll("g."+D.containerClassName).data(F,function te(me){return me._name});fe.exit().each(function(me){se._topdefs.select("#"+me[D.name]._clipId).remove()}).remove(),0!==F.length&&(fe.enter().append("g").classed(D.containerClassName,!0).attr("pointer-events","all"),fe.each(function(me){var Z=p.select(this),G=me[D.name],q=se[C.id2name(me.anchor)],ie=G[C.id2name(me.anchor)];if(G.range){var pe,ue=g.simpleMap(G.range,me.r2l),le=g.simpleMap(me.range,me.r2l);pe=le[0]<le[1]?[Math.min(ue[0],le[0]),Math.max(ue[1],le[1])]:[Math.max(ue[0],le[0]),Math.min(ue[1],le[1])],G.range=G._input.range=g.simpleMap(pe,me.l2r)}me.cleanRange("rangeslider.range");var He=se._size,ke=me.domain;G._width=He.w*(ke[1]-ke[0]);var Ue=Math.round(He.l+He.w*ke[0]),Me=Math.round(He.t+He.h*(1-me._counterDomainMin)+("bottom"===me.side?me._depth:0)+G._offsetShift+D.extraPad);Z.attr("transform",f(Ue,Me)),G._rl=g.simpleMap(G.range,me.r2l);var we=G._rl[0],Le=G._rl[1],B=Le-we;if(G.p2d=function(Ne){return Ne/G._width*B+we},G.d2p=function(Ne){return(Ne-we)/B*G._width},me.rangebreaks){var P=me.locateBreaks(we,Le);if(P.length){var X,j,I=0;for(X=0;X<P.length;X++)I+=(j=P[X]).max-j.min;var ae=G._width/(Le-we-I),O=[-ae*we];for(X=0;X<P.length;X++)O.push(O[O.length-1]-ae*((j=P[X]).max-j.min));for(G.d2p=function(Ne){for(var Oe=O[0],Be=0;Be<P.length;Be++){var Te=P[Be];if(Ne>=Te.max)Oe=O[Be+1];else if(Ne<Te.min)break}return Oe+ae*Ne},X=0;X<P.length;X++)(j=P[X]).pmin=G.d2p(j.min),j.pmax=G.d2p(j.max);G.p2d=function(Ne){for(var Oe=O[0],Be=0;Be<P.length;Be++){var Te=P[Be];if(Ne>=Te.pmax)Oe=O[Be+1];else if(Ne<Te.pmin)break}return(Ne-Oe)/ae}}}if("match"!==ie.rangemode){var ne=q.r2l(ie.range[0]),ze=q.r2l(ie.range[1])-ne;G.d2pOppAxis=function(Ne){return(Ne-ne)/ze*G._height}}Z.call(x,Q,me,G).call(H,Q,me,G).call(b,Q,me,G).call(V,Q,me,G,ie).call(Y,Q,me,G).call($,Q,me,G),z(Z,Q,me,G),function E(Q,se,F,J,W,te){var fe=D.handleWidth/2;function me(Ue){return g.constrain(Ue,0,J._width)}function Z(Ue){return g.constrain(Ue,0,J._height)}function G(Ue){return g.constrain(Ue,-fe,J._width+fe)}var q=me(J.d2p(F._rl[0])),ie=me(J.d2p(F._rl[1]));if(Q.select("rect."+D.slideBoxClassName).attr("x",q).attr("width",ie-q),Q.select("rect."+D.maskMinClassName).attr("width",q),Q.select("rect."+D.maskMaxClassName).attr("x",ie).attr("width",J._width-ie),"match"!==te.rangemode){var ue=J._height-Z(J.d2pOppAxis(W._rl[1])),le=J._height-Z(J.d2pOppAxis(W._rl[0]));Q.select("rect."+D.maskMinOppAxisClassName).attr("x",q).attr("height",ue).attr("width",ie-q),Q.select("rect."+D.maskMaxOppAxisClassName).attr("x",q).attr("y",le).attr("height",J._height-le).attr("width",ie-q),Q.select("rect."+D.slideBoxClassName).attr("y",ue).attr("height",le-ue)}var He=Math.round(G(q-fe))-.5,ke=Math.round(G(ie-fe))+.5;Q.select("g."+D.grabberMinClassName).attr("transform",f(He,.5)),Q.select("g."+D.grabberMaxClassName).attr("transform",f(ke,.5))}(Z,0,me,G,q,ie),"bottom"===me.side&&h.draw(Q,me._id+"title",{propContainer:me,propName:me._name+".title",placeholder:se._dfltTitle.x,attributes:{x:me._offset+me._length/2,y:Me+G._height+G._offsetShift+10+1.5*me.title.font.size,"text-anchor":"middle"}})}))}},7944:function(ve,K,o){"use strict";var p=o(9811),T=o(2736),v=o(4636),g=o(4284).LINE_SPACING,f=v.name;function y(m){var h=m&&m[f];return h&&h.visible}K.isVisible=y,K.makeData=function(m){var h=p.list({_fullLayout:m},"x",!0),c=m.margin,C=[];if(!m._has("gl2d"))for(var _=0;_<h.length;_++){var L=h[_];if(y(L)){C.push(L);var D=L[f];D._id=f+L._id,D._height=(m.height-c.b-c.t)*D.thickness,D._offsetShift=Math.floor(D.borderwidth/2)}}m._rangeSliderData=C},K.autoMarginOpts=function(m,h){var c=m._fullLayout,C=h[f],_=h._id.charAt(0),L=0,D=0;return"bottom"===h.side&&(L=h._depth,h.title.text!==c._dfltTitle[_])&&(D=1.5*h.title.font.size+10+C._offsetShift,D+=(h.title.text.match(T.BR_TAG_ALL)||[]).length*h.title.font.size*g),{x:0,y:h._counterDomainMin,l:0,r:0,t:0,b:C._height+L+Math.max(c.margin.b,D),pad:v.extraPad+2*C._offsetShift}}},9692:function(ve,K,o){"use strict";var p=o(3400),T=o(8820),v=o(936),g=o(7944);ve.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:p.extendFlat({},T,{yaxis:v})}}},layoutAttributes:o(8820),handleDefaults:o(1659),calcAutorange:o(6652),draw:o(60),isVisible:g.isVisible,makeData:g.makeData,autoMarginOpts:g.autoMarginOpts}},936:function(ve){"use strict";ve.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},3956:function(ve,K,o){"use strict";var p=o(3916),T=o(2904).line,v=o(8192).u,g=o(2880).extendFlat,f=o(7824).overrideAll,y=o(1780).templatedArray;o(6208),ve.exports=f(y("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:g({},p.xref,{}),yref:g({},p.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:T.color,width:g({},T.width,{min:1,dflt:1}),dash:g({},v,{dflt:"dot"})}}),"arraydraw","from-root")},3280:function(ve){"use strict";ve.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},4224:function(ve,K,o){"use strict";var p=o(3400),T=o(4460),v=o(1272),g=o(3956),f=o(5152);function y(m,h,c){function C(W,te){return p.coerce(m,h,g,W,te)}var _=C("path"),w="path"!==C("type",_?"path":"rect");w&&delete h.path,C("opacity"),C("line.color"),C("line.width"),C("line.dash");for(var z=["x","y"],S=0;S<2;S++){var H,b,N,E=z[S],x={_fullLayout:c},V=T.coerceRef(m,h,x,E);if((H=T.getFromId(x,V))._selectionIndices.push(h._index),N=f.rangeToShapePosition(H),b=f.shapePositionToRange(H),w){var Y=E+"0",$=E+"1",Q=m[Y],se=m[$];m[Y]=b(m[Y],!0),m[$]=b(m[$],!0),T.coercePosition(h,x,C,V,Y),T.coercePosition(h,x,C,V,$);var F=h[Y],J=h[$];void 0!==F&&void 0!==J&&(h[Y]=N(F),h[$]=N(J),m[Y]=Q,m[$]=se)}}w&&p.noneOrAll(m,h,["x0","x1","y0","y1"])}ve.exports=function(h,c){v(h,c,{name:"selections",handleItemDefaults:y});for(var C=c.selections,_=0;_<C.length;_++){var L=C[_];L&&void 0===L.path&&(void 0===L.x0||void 0===L.x1||void 0===L.y0||void 0===L.y1)&&(c.selections[_]=null)}}},3640:function(ve,K,o){"use strict";var p=o(9856).readPaths,T=o(5496),v=o(1936).clearOutlineControllers,g=o(6308),f=o(3616),y=o(1780).arrayEditor,m=o(5152),h=m.getPathString;function c(S){var E=S._fullLayout;for(var x in v(S),E._selectionLayer.selectAll("path").remove(),E._plots){var H=E._plots[x].selectionLayer;H&&H.selectAll("path").remove()}for(var b=0;b<E.selections.length;b++)_(S,b)}function C(S){return S._context.editSelection}function _(S,E){S._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+E+'"]').remove();var x=m.makeSelectionsOptionsAndPlotinfo(S,E),H=x.options,b=x.plotinfo;H._input&&function N(V){var Y=h(S,H),$={"data-index":E,"fill-rule":"evenodd",d:Y},Q=H.opacity,se="rgba(0,0,0,0)",F=H.line.color||g.contrast(S._fullLayout.plot_bgcolor),J=H.line.width,W=H.line.dash;J||(J=5,W="solid");var te=C(S)&&S._fullLayout._activeSelectionIndex===E;te&&(se=S._fullLayout.activeselection.fillcolor,Q=S._fullLayout.activeselection.opacity);for(var fe=[],me=1;me>=0;me--){var Z=V.append("path").attr($).style("opacity",me?.1:Q).call(g.stroke,F).call(g.fill,se).call(f.dashLine,me?"solid":W,me?4+J:J);if(L(Z,S,H),te){var G=y(S.layout,"selections",H);Z.style({cursor:"move"});var q={element:Z.node(),plotinfo:b,gd:S,editHelpers:G,isActiveSelection:!0},ie=p(Y,S);T(ie,Z,q)}else Z.style("pointer-events",me?"all":"none");fe[me]=Z}var ue=fe[0];fe[1].node().addEventListener("click",function(){return function D(S,E){if(C(S)){var H=+E.node().getAttribute("data-index");if(H>=0){if(H===S._fullLayout._activeSelectionIndex)return void z(S);S._fullLayout._activeSelectionIndex=H,S._fullLayout._deactivateSelection=z,c(S)}}}(S,ue)})}(S._fullLayout._selectionLayer)}function L(S,E,x){f.setClipUrl(S,"clip"+E._fullLayout._uid+(x.xref+x.yref),E)}function z(S){C(S)&&S._fullLayout._activeSelectionIndex>=0&&(v(S),delete S._fullLayout._activeSelectionIndex,c(S))}ve.exports={draw:c,drawOne:_,activateLastSelection:function w(S){C(S)&&(S._fullLayout._activeSelectionIndex=S._fullLayout.selections.length-1,S._fullLayout._deactivateSelection=z,c(S))}}},4200:function(ve,K,o){"use strict";var p=o(8192).u,T=o(2880).extendFlat;ve.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:T({},p,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},1004:function(ve){"use strict";ve.exports=function(o,p,T){T("newselection.mode"),T("newselection.line.width")&&(T("newselection.line.color"),T("newselection.line.dash")),T("activeselection.fillcolor"),T("activeselection.opacity")}},5968:function(ve,K,o){"use strict";var T=o(2760).selectMode,g=o(1936).clearOutline,f=o(9856),y=f.readPaths,m=f.writePaths,h=f.fixDatesForPaths;ve.exports=function(C,_){if(C.length){var L=C[0][0];if(L){var D=L.getAttribute("d"),w=_.gd,z=w._fullLayout.newselection,S=_.plotinfo,E=S.xaxis,x=S.yaxis,H=_.isActiveSelection,b=_.dragmode,N=(w.layout||{}).selections||[];if(!T(b)&&void 0!==H){var V=w._fullLayout._activeSelectionIndex;if(V<N.length)switch(w._fullLayout.selections[V].type){case"rect":b="select";break;case"path":b="lasso"}}var Q,Y=y(D,w,S,H),$={xref:E._id,yref:x._id,opacity:z.opacity,line:{color:z.line.color,width:z.line.width,dash:z.line.dash}};1===Y.length&&(Q=Y[0]),Q&&5===Q.length&&"select"===b?($.type="rect",$.x0=Q[0][1],$.y0=Q[0][2],$.x1=Q[2][1],$.y1=Q[2][2]):($.type="path",E&&x&&h(Y,E,x),$.path=m(Y),Q=null),g(w);for(var se=_.editHelpers,F=(se||{}).modifyItem,J=[],W=0;W<N.length;W++){var te=w._fullLayout.selections[W];if(te){if(J[W]=te._input,void 0!==H&&W===w._fullLayout._activeSelectionIndex){var fe=$;switch(te.type){case"rect":F("x0",fe.x0),F("x1",fe.x1),F("y0",fe.y0),F("y1",fe.y1);break;case"path":F("path",fe.path)}}}else J[W]=te}return void 0===H?(J.push($),J):se?se.getUpdateObj():{}}}}},5840:function(ve,K,o){"use strict";var p=o(3400).strTranslate;function T(y,m){switch(y.type){case"log":return y.p2d(m);case"date":return y.p2r(m,0,y.calendar);default:return y.p2r(m)}}ve.exports={p2r:T,r2p:function v(y,m){switch(y.type){case"log":return y.d2p(m);case"date":return y.r2p(m,0,y.calendar);default:return y.r2p(m)}},axValue:function g(y){var m="y"===y._id.charAt(0)?1:0;return function(h){return T(y,h[m])}},getTransform:function f(y){return p(y.xaxis._offset,y.yaxis._offset)}}},2676:function(ve,K,o){"use strict";var p=o(3640),T=o(3156);ve.exports={moduleType:"component",name:"selections",layoutAttributes:o(3956),supplyLayoutDefaults:o(4224),supplyDrawNewSelectionDefaults:o(1004),includeBasePlot:o(6632)("selections"),draw:p.draw,drawOne:p.drawOne,reselect:T.reselect,prepSelect:T.prepSelect,clearOutline:T.clearOutline,clearSelectionsCache:T.clearSelectionsCache,selectOnClick:T.selectOnClick}},3156:function(ve,K,o){"use strict";var p=o(4756),T=o(1456),v=o(4040),g=o(3616).dashStyle,f=o(6308),y=o(3024),m=o(624).makeEventData,h=o(2760),c=h.freeMode,C=h.rectMode,_=h.drawMode,L=h.openMode,D=h.selectMode,w=o(5152),z=o(3068),S=o(5496),E=o(1936).clearOutline,x=o(9856),H=x.handleEllipse,b=x.readPaths,N=o(3940).newShapes,V=o(5968),Y=o(3640).activateLastSelection,$=o(3400),Q=$.sorterAsc,se=o(2065),F=o(1200),J=o(9811).getFromId,W=o(3696),te=o(9172).redrawReglTraces,fe=o(3280),me=fe.MINSELECT,Z=se.filter,G=se.tester,q=o(5840),ie=q.p2r,ue=q.axValue,le=q.getTransform;function pe(Ke){return void 0!==Ke.subplot}function ke(Ke,St,dt,Re,it,ye,De){var tt,yt,ct,Et,Tn,Rn,Gn,Yn,Kt,$e=St._hoverdata,at=St._fullLayout.clickmode.indexOf("event")>-1,Rt=[];if(function ne(Ke){return Ke&&Array.isArray(Ke)&&!0!==Ke[0].hoverOnBox}($e)){B(Ke,St,ye);var Wn=function be(Ke,St){var ye,De,dt=Ke[0],Re=-1,it=[];for(De=0;De<St.length;De++)if(dt.fullData._expandedIndex===(ye=St[De]).cd[0].trace._expandedIndex){if(!0===dt.hoverOnBox)break;void 0!==dt.pointNumber?Re=dt.pointNumber:void 0!==dt.binNumber&&(Re=dt.binNumber,it=dt.pointNumbers);break}return{pointNumber:Re,pointNumbers:it,searchInfo:ye}}($e,tt=ae(St,dt,Re,it));if(Wn.pointNumbers.length>0?function Ne(Ke,St){var Re,it,De,dt=[];for(De=0;De<Ke.length;De++)(Re=Ke[De]).cd[0].trace.selectedpoints&&Re.cd[0].trace.selectedpoints.length>0&&dt.push(Re);if(1===dt.length&&dt[0]===St.searchInfo&&(it=St.searchInfo.cd[0].trace).selectedpoints.length===St.pointNumbers.length){for(De=0;De<St.pointNumbers.length;De++)if(it.selectedpoints.indexOf(St.pointNumbers[De])<0)return!1;return!0}return!1}(tt,Wn):function Oe(Ke){var Re,it,St=0;for(it=0;it<Ke.length;it++)if((Re=Ke[it].cd[0].trace).selectedpoints&&(Re.selectedpoints.length>1||(St+=Re.selectedpoints.length)>1))return!1;return 1===St}(tt)&&(Rn=ze(Wn))){for(De&&De.remove(),Kt=0;Kt<tt.length;Kt++)(yt=tt[Kt])._module.selectPoints(yt,!1);Be(St,tt),j(ye),at&&rn(St)}else{for(Gn=Ke.shiftKey&&(void 0!==Rn?Rn:ze(Wn)),ct=function Ue(Ke,St,dt){return{pointNumber:Ke,searchInfo:St,subtract:!!dt}}(Wn.pointNumber,Wn.searchInfo,Gn),Et=Le(ye.selectionDefs.concat([ct])),Kt=0;Kt<tt.length;Kt++)if(Tn=Pe(tt[Kt]._module.selectPoints(tt[Kt],Et),tt[Kt]),Rt.length)for(var Zn=0;Zn<Tn.length;Zn++)Rt.push(Tn[Zn]);else Rt=Tn;if(Be(St,tt,Yn={points:Rt}),ct&&ye&&ye.selectionDefs.push(ct),De){var bn=ye.mergedPolygons,Zt=L(ye.dragmode);S(Je(bn,Zt),De,ye)}at&&dn(St,Yn)}}}function Me(Ke){return"pointNumber"in Ke&&"searchInfo"in Ke}function we(Ke){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(St,dt,Re,it){return it.cd[0].trace._expandedIndex===Ke.searchInfo.cd[0].trace._expandedIndex&&Re===Ke.pointNumber},isRect:!1,degenerate:!1,subtract:!!Ke.subtract}}function Le(Ke){if(Ke.length){for(var St=[],dt=Me(Ke[0])?0:Ke[0][0][0],Re=dt,it=Me(Ke[0])?0:Ke[0][0][1],ye=it,De=0;De<Ke.length;De++)if(Me(Ke[De]))St.push(we(Ke[De]));else{var $e=G(Ke[De]);$e.subtract=!!Ke[De].subtract,St.push($e),dt=Math.min(dt,$e.xmin),Re=Math.max(Re,$e.xmax),it=Math.min(it,$e.ymin),ye=Math.max(ye,$e.ymax)}return{xmin:dt,xmax:Re,ymin:it,ymax:ye,pts:[],contains:function je(Ye,at,Rt,tt){for(var yt=!1,ct=0;ct<St.length;ct++)St[ct].contains(Ye,at,Rt,tt)&&(yt=!St[ct].subtract);return yt},isRect:!1,degenerate:!1}}}function B(Ke,St,dt){var Re=St._fullLayout,it=dt.plotinfo,ye=dt.dragmode,De=Re._lastSelectedSubplot&&Re._lastSelectedSubplot===it.id,$e=(Ke.shiftKey||Ke.altKey)&&!(_(ye)&&L(ye));De&&$e&&it.selection&&it.selection.selectionDefs&&!dt.selectionDefs?(dt.selectionDefs=it.selection.selectionDefs,dt.mergedPolygons=it.selection.mergedPolygons):(!$e||!it.selection)&&j(dt),De||(E(St),Re._lastSelectedSubplot=it.id)}function j(Ke,St){var dt=Ke.dragmode,Re=Ke.plotinfo,it=Ke.gd;(function P(Ke){return Ke._fullLayout._activeShapeIndex>=0})(it)&&it._fullLayout._deactivateShape(it),function X(Ke){return Ke._fullLayout._activeSelectionIndex>=0}(it)&&it._fullLayout._deactivateSelection(it);var De=it._fullLayout._zoomlayer,$e=_(dt),je=D(dt);if($e||je){var at,Rt,Ye=De.selectAll(".select-outline-"+Re.id);Ye&&it._fullLayout._outlining&&($e&&(at=N(Ye,Ke)),at&&v.call("_guiRelayout",it,{shapes:at}),je&&!pe(Ke)&&(Rt=V(Ye,Ke)),Rt&&(it._fullLayout._noEmitSelectedAtStart=!0,v.call("_guiRelayout",it,{selections:Rt}).then(function(){St&&Y(it)})),it._fullLayout._outlining=!1)}Re.selection={},Re.selection.selectionDefs=Ke.selectionDefs=[],Re.selection.mergedPolygons=Ke.mergedPolygons=[]}function I(Ke){return Ke._id}function ae(Ke,St,dt,Re){if(!Ke.calcdata)return[];var $e,je,Ye,it=[],ye=St.map(I),De=dt.map(I);for(Ye=0;Ye<Ke.calcdata.length;Ye++)if(!0===(je=($e=Ke.calcdata[Ye])[0].trace).visible&&je._module&&je._module.selectPoints)if(!pe({subplot:Re})||je.subplot!==Re&&je.geo!==Re)if("splom"===je.type){if(je._xaxes[ye[0]]&&je._yaxes[De[0]]){var at=O(je._module,$e,St[0],dt[0]);at.scene=Ke._fullLayout._splomScenes[je.uid],it.push(at)}}else if("sankey"===je.type){var Rt=O(je._module,$e,St[0],dt[0]);it.push(Rt)}else{if(!(-1!==ye.indexOf(je.xaxis)||je._xA&&je._xA.overlaying)||!(-1!==De.indexOf(je.yaxis)||je._yA&&je._yA.overlaying))continue;it.push(O(je._module,$e,J(Ke,je.xaxis),J(Ke,je.yaxis)))}else it.push(O(je._module,$e,St[0],dt[0]));return it}function O(Ke,St,dt,Re){return{_module:Ke,cd:St,xaxis:dt,yaxis:Re}}function ze(Ke){var St=Ke.searchInfo.cd[0].trace,Re=Ke.pointNumbers;return!!St.selectedpoints&&St.selectedpoints.indexOf(Re.length>0?Re[0]:Ke.pointNumber)>-1}function Be(Ke,St,dt){var Re,De;for(Re=0;Re<St.length;Re++){var it=St[Re].cd[0].trace._fullInput,ye=Ke._fullLayout._tracePreGUI[it.uid]||{};void 0===ye.selectedpoints&&(ye.selectedpoints=it._input.selectedpoints||null)}if(dt){var $e=dt.points||[];for(Re=0;Re<St.length;Re++)(De=St[Re].cd[0].trace)._input.selectedpoints=De._fullInput.selectedpoints=[],De._fullInput!==De&&(De.selectedpoints=[]);for(var je=0;je<$e.length;je++){var Ye=$e[je],at=Ye.data,Rt=Ye.fullData,tt=Ye.pointIndex,yt=Ye.pointIndices;yt?([].push.apply(at.selectedpoints,yt),De._fullInput!==De&&[].push.apply(Rt.selectedpoints,yt)):(at.selectedpoints.push(tt),De._fullInput!==De&&Rt.selectedpoints.push(tt))}}else for(Re=0;Re<St.length;Re++)delete(De=St[Re].cd[0].trace).selectedpoints,delete De._input.selectedpoints,De._fullInput!==De&&delete De._fullInput.selectedpoints;!function Te(Ke,St){for(var dt=!1,Re=0;Re<St.length;Re++){var it=St[Re],ye=it.cd;v.traceIs(ye[0].trace,"regl")&&(dt=!0);var De=it._module,$e=De.styleOnSelect||De.style;$e&&($e(Ke,ye,ye[0].node3),ye[0].nodeRangePlot3&&$e(Ke,ye,ye[0].nodeRangePlot3))}dt&&(W(Ke),te(Ke))}(Ke,St)}function Ve(Ke,St,dt){for(var ye=(dt?p.difference:p.union)({regions:Ke},{regions:[St]}).regions.reverse(),De=0;De<ye.length;De++){var $e=ye[De];$e.subtract=nn($e,ye.slice(0,De))}return ye}function Pe(Ke,St){if(Array.isArray(Ke))for(var dt=St.cd,Re=St.cd[0].trace,it=0;it<Ke.length;it++)Ke[it]=m(Ke[it],Re,dt);return Ke}function Je(Ke,St){for(var dt=[],Re=0;Re<Ke.length;Re++){dt[Re]=[];for(var it=0;it<Ke[Re].length;it++){dt[Re][it]=[],dt[Re][it][0]=it?"L":"M";for(var ye=0;ye<Ke[Re][it].length;ye++)dt[Re][it].push(Ke[Re][it][ye])}St||dt[Re].push(["Z",dt[Re][0][1],dt[Re][0][2]])}return dt}function Xe(Ke,St){for(var Re,ye,dt=[],it=[],De=0;De<St.length;De++){var $e=St[De];ye=$e._module.selectPoints($e,Ke),it.push(ye),Re=Pe(ye,$e),dt=dt.concat(Re)}return dt}function Ge(Ke,St,dt,Re,it){var De,$e,je,ye=!!Re;it&&(De=it.plotinfo,$e=it.xaxes[0]._id,je=it.yaxes[0]._id);var Ye=[],at=[],Rt=Qt(Ke),tt=Ke._fullLayout;if(De){var yt=tt._zoomlayer,ct=tt.dragmode,Et=_(ct),hn=D(ct);if(Et||hn){var Tn=J(Ke,$e,"x"),Rn=J(Ke,je,"y");if(Tn&&Rn){var Gn=yt.selectAll(".select-outline-"+De.id);if(Gn&&Ke._fullLayout._outlining&&Gn.length){for(var Kt=Gn[0][0].getAttribute("d"),Wn=b(Kt,Ke,De),kn=[],Vn=0;Vn<Wn.length;Vn++){for(var Zn=Wn[Vn],bn=[],Zt=0;Zt<Zn.length;Zt++)bn.push([Ut(Tn,Zn[Zt][1]),Ut(Rn,Zn[Zt][2])]);bn.xref=$e,bn.yref=je,bn.subtract=nn(bn,kn),kn.push(bn)}Rt=Rt.concat(kn)}}}}var Nn=$e&&je?[$e+je]:tt._subplots.cartesian;!function st(Ke){var St=Ke.calcdata;if(St)for(var dt=0;dt<St.length;dt++){var ye=Ke._fullLayout._splomScenes;if(ye){var De=ye[St[dt][0].trace.uid];De&&(De.selectBatch=[])}}}(Ke);for(var An={},$n=0;$n<Nn.length;$n++){var dr=Nn[$n],vr=dr.indexOf("y"),Fn=dr.slice(0,vr),ge=dr.slice(vr),de=$e&&je?dt:void 0;if(de=At(Rt,Fn,ge,de)){var lt=Re;if(!ye){var ot=J(Ke,Fn,"x"),pt=J(Ke,ge,"y");lt=ae(Ke,[ot],[pt],dr);for(var mt=0;mt<lt.length;mt++){var Tt=lt[mt],ht=Tt.cd[0],ut=ht.trace;if("scattergl"===Tt._module.name&&!ht.t.xpx){var Ht=ut.x,_t=ut.y,jt=ut._length;ht.t.xpx=[],ht.t.ypx=[];for(var an=0;an<jt;an++)ht.t.xpx[an]=ot.c2p(Ht[an]),ht.t.ypx[an]=pt.c2p(_t[an])}"splom"===Tt._module.name&&(An[ut.uid]||(An[ut.uid]=!0))}}var vn=Xe(de,lt);Ye=Ye.concat(vn),at=at.concat(lt)}}var Nt={points:Ye};Be(Ke,at,Nt);var sn=tt.clickmode.indexOf("event")>-1&&St;if(!De&&St){var Jt=Qt(Ke,!0);if(Jt.length){var Mn=Jt[0].xref,zn=Jt[0].yref;if(Mn&&zn){var Pn=Lt(Jt);gt([J(Ke,Mn,"x"),J(Ke,zn,"y")])(Nt,Pn)}}Ke._fullLayout._noEmitSelectedAtStart?Ke._fullLayout._noEmitSelectedAtStart=!1:sn&&dn(Ke,Nt),tt._reselect=!1}if(!De&&tt._deselect){var wn=tt._deselect;(function wt(Ke,St,dt){for(var Re=0;Re<dt.length;Re++){var it=dt[Re];if(it.xaxis&&it.xaxis._id===Ke&&it.yaxis&&it.yaxis._id===St)return!0}return!1})($e=wn.xref,je=wn.yref,at)||kt(Ke,$e,je,Re),sn&&(Nt.points.length?dn(Ke,Nt):rn(Ke)),tt._deselect=!1}return{eventData:Nt,selectionTesters:dt}}function kt(Ke,St,dt,Re){Re=ae(Ke,[J(Ke,St,"x")],[J(Ke,dt,"y")],St+dt);for(var it=0;it<Re.length;it++){var ye=Re[it];ye._module.selectPoints(ye,!1)}Be(Ke,Re)}function At(Ke,St,dt,Re){for(var it,ye=0;ye<Ke.length;ye++){var De=Ke[ye];St===De.xref&&dt===De.yref&&(it?Re=Le(it=Ve(it,De,!!De.subtract)):(it=[De],Re=G(De)))}return Re}function Qt(Ke,St){for(var dt=[],Re=Ke._fullLayout,it=Re.selections,ye=it.length,De=0;De<ye;De++)if(!St||De===Re._activeSelectionIndex){var $e=it[De];if($e){var tt,yt,ct,Et,hn,je=$e.xref,Ye=$e.yref,at=J(Ke,je,"x"),Rt=J(Ke,Ye,"y");if("rect"===$e.type){hn=[];var Tn=Ut(at,$e.x0),Rn=Ut(at,$e.x1),Gn=Ut(Rt,$e.y0),Yn=Ut(Rt,$e.y1);hn=[[Tn,Gn],[Tn,Yn],[Rn,Yn],[Rn,Gn]],tt=Math.min(Tn,Rn),yt=Math.max(Tn,Rn),ct=Math.min(Gn,Yn),Et=Math.max(Gn,Yn),hn.xmin=tt,hn.xmax=yt,hn.ymin=ct,hn.ymax=Et,hn.xref=je,hn.yref=Ye,hn.subtract=!1,hn.isRect=!0,dt.push(hn)}else if("path"===$e.type)for(var Kt=$e.path.split("Z"),Wn=[],kn=0;kn<Kt.length;kn++){var Vn=Kt[kn];if(Vn){var Zn=w.extractPathCoords(Vn+="Z",z.paramIsX,"raw"),bn=w.extractPathCoords(Vn,z.paramIsY,"raw");tt=1/0,yt=-1/0,ct=1/0,Et=-1/0,hn=[];for(var Zt=0;Zt<Zn.length;Zt++){var Nn=Ut(at,Zn[Zt]),An=Ut(Rt,bn[Zt]);hn.push([Nn,An]),tt=Math.min(Nn,tt),yt=Math.max(Nn,yt),ct=Math.min(An,ct),Et=Math.max(An,Et)}hn.xmin=tt,hn.xmax=yt,hn.ymin=ct,hn.ymax=Et,hn.xref=je,hn.yref=Ye,hn.subtract=nn(hn,Wn),Wn.push(hn),dt.push(hn)}}}}return dt}function nn(Ke,St){for(var dt=!1,Re=0;Re<St.length;Re++)for(var it=St[Re],ye=0;ye<Ke.length;ye++)if(T(Ke[ye],it)){dt=!dt;break}return dt}function Ut(Ke,St){return"date"===Ke.type&&(St=St.replace("_"," ")),"log"===Ke.type?Ke.c2p(St):Ke.r2p(St,null,Ke.calendar)}function Lt(Ke){for(var St=Ke.length,dt=[],Re=0;Re<St;Re++){var it=Ke[Re];dt=(dt=dt.concat(it)).concat([it[0]])}return function Xt(Ke){return Ke.isRect=5===Ke.length&&Ke[0][0]===Ke[4][0]&&Ke[0][1]===Ke[4][1]&&Ke[0][0]===Ke[1][0]&&Ke[2][0]===Ke[3][0]&&Ke[0][1]===Ke[3][1]&&Ke[1][1]===Ke[2][1]||Ke[0][1]===Ke[1][1]&&Ke[2][1]===Ke[3][1]&&Ke[0][0]===Ke[3][0]&&Ke[1][0]===Ke[2][0],Ke.isRect&&(Ke.xmin=Math.min(Ke[0][0],Ke[2][0]),Ke.xmax=Math.max(Ke[0][0],Ke[2][0]),Ke.ymin=Math.min(Ke[0][1],Ke[2][1]),Ke.ymax=Math.max(Ke[0][1],Ke[2][1])),Ke}(dt)}function gt(Ke){return function(St,dt){for(var Re,it,ye=0;ye<Ke.length;ye++){var De=Ke[ye],$e=De._id,je=$e.charAt(0);if(dt.isRect){Re||(Re={});var Ye=dt[je+"min"],at=dt[je+"max"];void 0!==Ye&&void 0!==at&&(Re[$e]=[ie(De,Ye),ie(De,at)].sort(Q))}else it||(it={}),it[$e]=dt.map(ue(De))}Re&&(St.range=Re),it&&(St.lassoPoints=it)}}function dn(Ke,St){St&&(St.selections=(Ke.layout||{}).selections||[]),Ke.emit("plotly_selected",St)}function rn(Ke){Ke.emit("plotly_deselect",null)}ve.exports={reselect:Ge,prepSelect:function He(Ke,St,dt,Re,it){var ye=!pe(Re),De=c(it),$e=C(it),je=L(it),Ye=_(it),at=D(it),tt="drawcircle"===it,yt="drawline"===it||tt,ct=Re.gd,Et=ct._fullLayout,hn=at&&"immediate"===Et.newselection.mode&&ye,Tn=Et._zoomlayer,Rn=Re.element.getBoundingClientRect(),Gn=Re.plotinfo,Yn=le(Gn),Kt=St-Rn.left,Wn=dt-Rn.top;Et._calcInverseTransform(ct);var ge,de,lt,ot,pt,mt,Tt,kn=$.apply3DTransform(Et._invTransform)(Kt,Wn),Vn=Et._invScaleX,Zn=Et._invScaleY,bn=Kt=kn[0],Zt=Wn=kn[1],Nn="M"+Kt+","+Wn,An=Re.xaxes[0],$n=Re.yaxes[0],dr=An._length,vr=$n._length,Fn=Ke.altKey&&!(_(it)&&je);B(Ke,ct,Re),De&&(ge=Z([[Kt,Wn]],fe.BENDPX));var ht=Tn.selectAll("path.select-outline-"+Gn.id).data([1]),ut=Ye?Et.newshape:Et.newselection;Ye&&(Re.hasText=ut.label.text||ut.label.texttemplate);var Ht=Ye&&!je?ut.fillcolor:"rgba(0,0,0,0)",_t=ut.line.color||(ye?f.contrast(ct._fullLayout.plot_bgcolor):"#7f7f7f");ht.enter().append("path").attr("class","select-outline select-outline-"+Gn.id).style({opacity:Ye?ut.opacity/2:1,"stroke-dasharray":g(ut.line.dash,ut.line.width),"stroke-width":ut.line.width+"px","shape-rendering":"crispEdges"}).call(f.stroke,_t).call(f.fill,Ht).attr("fill-rule","evenodd").classed("cursor-move",!!Ye).attr("transform",Yn).attr("d",Nn+"Z");var jt=Tn.append("path").attr("class","zoombox-corners").style({fill:f.background,stroke:f.defaultLine,"stroke-width":1}).attr("transform",Yn).attr("d","M0,0Z");if(Ye&&Re.hasText){var an=Tn.select(".label-temp");an.empty()&&(an=Tn.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var vn=Et._uid+fe.SELECTID,Nt=[],un=ae(ct,Re.xaxes,Re.yaxes,Re.subplot);hn&&!Ke.shiftKey&&(Re._clearSubplotSelections=function(){if(ye){var Jt=An._id,Mn=$n._id;kt(ct,Jt,Mn,un);for(var zn=(ct.layout||{}).selections||[],Pn=[],xn=!1,wn=0;wn<zn.length;wn++){var Xn=Et.selections[wn];Xn.xref!==Jt||Xn.yref!==Mn?Pn.push(zn[wn]):xn=!0}xn&&(ct._fullLayout._noEmitSelectedAtStart=!0,v.call("_guiRelayout",ct,{selections:Pn}))}});var sn=function Yt(Ke){return Ke.plotinfo.fillRangeItems||gt(Ke.xaxes.concat(Ke.yaxes))}(Re);Re.moveFn=function(Jt,Mn){Re._clearSubplotSelections&&(Re._clearSubplotSelections(),Re._clearSubplotSelections=void 0),bn=Math.max(0,Math.min(dr,Vn*Jt+Kt)),Zt=Math.max(0,Math.min(vr,Zn*Mn+Wn));var zn=Math.abs(bn-Kt),Pn=Math.abs(Zt-Wn);if($e){var xn,wn,Xn;if(at){var gr=Et.selectdirection;switch(xn="any"===gr?Pn<Math.min(.6*zn,me)?"h":zn<Math.min(.6*Pn,me)?"v":"d":gr){case"h":wn=tt?vr/2:0,Xn=vr;break;case"v":wn=tt?dr/2:0,Xn=dr}}if(Ye)switch(Et.newshape.drawdirection){case"vertical":xn="h",wn=tt?vr/2:0,Xn=vr;break;case"horizontal":xn="v",wn=tt?dr/2:0,Xn=dr;break;case"ortho":zn<Pn?(xn="h",wn=Wn,Xn=Zt):(xn="v",wn=Kt,Xn=bn);break;default:xn="d"}"h"===xn?((ot=yt?H(tt,[bn,wn],[bn,Xn]):[[Kt,wn],[Kt,Xn],[bn,Xn],[bn,wn]]).xmin=yt?bn:Math.min(Kt,bn),ot.xmax=yt?bn:Math.max(Kt,bn),ot.ymin=Math.min(wn,Xn),ot.ymax=Math.max(wn,Xn),jt.attr("d","M"+ot.xmin+","+(Wn-me)+"h-4v"+2*me+"h4ZM"+(ot.xmax-1)+","+(Wn-me)+"h4v"+2*me+"h-4Z")):"v"===xn?((ot=yt?H(tt,[wn,Zt],[Xn,Zt]):[[wn,Wn],[wn,Zt],[Xn,Zt],[Xn,Wn]]).xmin=Math.min(wn,Xn),ot.xmax=Math.max(wn,Xn),ot.ymin=yt?Zt:Math.min(Wn,Zt),ot.ymax=yt?Zt:Math.max(Wn,Zt),jt.attr("d","M"+(Kt-me)+","+ot.ymin+"v-4h"+2*me+"v4ZM"+(Kt-me)+","+(ot.ymax-1)+"v4h"+2*me+"v-4Z")):"d"===xn&&((ot=yt?H(tt,[Kt,Wn],[bn,Zt]):[[Kt,Wn],[Kt,Zt],[bn,Zt],[bn,Wn]]).xmin=Math.min(Kt,bn),ot.xmax=Math.max(Kt,bn),ot.ymin=Math.min(Wn,Zt),ot.ymax=Math.max(Wn,Zt),jt.attr("d","M0,0Z"))}else De&&(ge.addPt([bn,Zt]),ot=ge.filtered);if(Re.selectionDefs&&Re.selectionDefs.length?(lt=Ve(Re.mergedPolygons,ot,Fn),ot.subtract=Fn,de=Le(Re.selectionDefs.concat([ot]))):(lt=[ot],de=G(ot)),S(Je(lt,je),ht,Re),at){var Mr,Cr=Ge(ct,!1),ci=Cr.eventData?Cr.eventData.points.slice():[];Cr=Ge(ct,!1,de,un,Re),de=Cr.selectionTesters,Tt=Cr.eventData,Mr=ge?ge.filtered:Lt(lt),F.throttle(vn,fe.SELECTDELAY,function(){for(var Hr=(Nt=Xe(de,un)).slice(),ei=0;ei<ci.length;ei++){for(var Di=ci[ei],oa=!1,Er=0;Er<Hr.length;Er++)if(Hr[Er].curveNumber===Di.curveNumber&&Hr[Er].pointNumber===Di.pointNumber){oa=!0;break}oa||Hr.push(Di)}Hr.length&&(Tt||(Tt={}),Tt.points=Hr),sn(Tt,Mr),function tn(Ke,St){Ke.emit("plotly_selecting",St)}(ct,Tt)})}},Re.clickFn=function(Jt,Mn){if(jt.remove(),ct._fullLayout._activeShapeIndex>=0)ct._fullLayout._deactivateShape(ct);else if(!Ye){var zn=Et.clickmode;F.done(vn).then(function(){if(F.clear(vn),2===Jt){for(ht.remove(),pt=0;pt<un.length;pt++)(mt=un[pt])._module.selectPoints(mt,!1);if(Be(ct,un),j(Re),rn(ct),un.length){var Pn=un[0].xaxis,xn=un[0].yaxis;if(Pn&&xn){for(var wn=[],Xn=ct._fullLayout.selections,gr=0;gr<Xn.length;gr++){var Cr=Xn[gr];Cr&&(Cr.xref!==Pn._id||Cr.yref!==xn._id)&&wn.push(Cr)}wn.length<Xn.length&&(ct._fullLayout._noEmitSelectedAtStart=!0,v.call("_guiRelayout",ct,{selections:wn}))}}}else zn.indexOf("select")>-1&&ke(Mn,ct,Re.xaxes,Re.yaxes,Re.subplot,Re,ht),"event"===zn&&dn(ct,void 0);y.click(ct,Mn,Gn.id)}).catch($.error)}},Re.doneFn=function(){jt.remove(),F.done(vn).then(function(){F.clear(vn),!hn&&ot&&Re.selectionDefs&&(ot.subtract=Fn,Re.selectionDefs.push(ot),Re.mergedPolygons.length=0,[].push.apply(Re.mergedPolygons,lt)),(hn||Ye)&&j(Re,hn),Re.doneFnCompleted&&Re.doneFnCompleted(Nt),at&&dn(ct,Tt)}).catch($.error)}},clearOutline:E,clearSelectionsCache:j,selectOnClick:ke}},6056:function(ve,K,o){"use strict";var p=o(3916),T=o(5376),v=o(2904).line,g=o(8192).u,f=o(2880).extendFlat,y=o(1780).templatedArray,h=(o(6208),o(5464)),c=o(1776).ye,C=o(7728);ve.exports=y("shape",{visible:f({},h.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:f({},h.legend,{editType:"calc+arraydraw"}),legendgroup:f({},h.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:f({},h.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:T({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:f({},h.legendrank,{editType:"calc+arraydraw"}),legendwidth:f({},h.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:f({},p.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:f({},p.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:f({},v.color,{editType:"arraydraw"}),width:f({},v.width,{editType:"calc+arraydraw"}),dash:f({},g,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:c({},{keys:Object.keys(C)}),font:T({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},6084:function(ve,K,o){"use strict";var p=o(3400),T=o(4460),v=o(3068),g=o(5152);function y(c){return m(c.line.width,c.ysizemode,c.y0,c.y1,c.path,!0)}function m(c,C,_,L,D,w){var z=c/2,S=w;if("pixel"===C){var E=D?g.extractPathCoords(D,w?v.paramIsY:v.paramIsX):[_,L],x=p.aggNums(Math.max,null,E),H=p.aggNums(Math.min,null,E),b=H<0?Math.abs(H)+z:z,N=x>0?x+z:z;return{ppad:z,ppadplus:S?b:N,ppadminus:S?N:b}}return{ppad:z}}function h(c,C,_,L,D){var w="category"===c.type||"multicategory"===c.type?c.r2c:c.d2c;if(void 0!==C)return[w(C),w(_)];if(L){var x,b,N,V,z=1/0,S=-1/0,E=L.match(v.segmentRE);for("date"===c.type&&(w=g.decodeDate(w)),x=0;x<E.length;x++)void 0!==(b=D[E[x].charAt(0)].drawn)&&(N=E[x].substr(1).match(v.paramRE))&&!(N.length<b)&&((V=w(N[b]))<z&&(z=V),V>S&&(S=V));if(S>=z)return[z,S]}}ve.exports=function(C){var c,L=p.filterVisible(C._fullLayout.shapes);if(L.length&&C._fullData.length)for(var D=0;D<L.length;D++){var w=L[D];w._extremes={};var z,S,E=T.getRefType(w.xref),x=T.getRefType(w.yref);if("paper"!==w.xref&&"domain"!==E){var H="pixel"===w.xsizemode?w.xanchor:w.x0,b="pixel"===w.xsizemode?w.xanchor:w.x1;(S=h(z=T.getFromId(C,w.xref),H,b,w.path,v.paramIsX))&&(w._extremes[z._id]=T.findExtremes(z,S,m((c=w).line.width,c.xsizemode,c.x0,c.x1,c.path,!1)))}if("paper"!==w.yref&&"domain"!==x){var N="pixel"===w.ysizemode?w.yanchor:w.y0,V="pixel"===w.ysizemode?w.yanchor:w.y1;(S=h(z=T.getFromId(C,w.yref),N,V,w.path,v.paramIsY))&&(w._extremes[z._id]=T.findExtremes(z,S,y(w)))}}}},3068:function(ve){"use strict";ve.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},3712:function(ve,K,o){"use strict";var p=o(3400),T=o(4460),v=o(1272),g=o(6056),f=o(5152);function m(h,c,C){function _(Me,we){return p.coerce(h,c,g,Me,we)}if(c._isShape=!0,_("visible")){_("showlegend")&&(_("legend"),_("legendwidth"),_("legendgroup"),_("legendgrouptitle.text"),p.coerceFont(_,"legendgrouptitle.font"),_("legendrank"));var w=_("path"),S=_("type",w?"path":"rect"),E="path"!==S;E&&delete c.path,_("editable"),_("layer"),_("opacity"),_("fillcolor"),_("fillrule"),_("line.width")&&(_("line.color"),_("line.dash"));for(var H=_("xsizemode"),b=_("ysizemode"),N=["x","y"],V=0;V<2;V++){var F,J,W,Y=N[V],$=Y+"anchor",Q="x"===Y?H:b,se={_fullLayout:C},te=T.coerceRef(h,c,se,Y,void 0,"paper");if("range"===T.getRefType(te)?((F=T.getFromId(se,te))._shapeIndices.push(c._index),W=f.rangeToShapePosition(F),J=f.shapePositionToRange(F)):J=W=p.identity,E){var G=Y+"0",q=Y+"1",ie=h[G],ue=h[q];h[G]=J(h[G],!0),h[q]=J(h[q],!0),"pixel"===Q?(_(G,0),_(q,10)):(T.coercePosition(c,se,_,te,G,.25),T.coercePosition(c,se,_,te,q,.75)),c[G]=W(c[G]),c[q]=W(c[q]),h[G]=ie,h[q]=ue}if("pixel"===Q){var le=h[$];h[$]=J(h[$],!0),T.coercePosition(c,se,_,te,$,.25),c[$]=W(c[$]),h[$]=le}}E&&p.noneOrAll(h,c,["x0","x1","y0","y1"]);var He,ke,pe="line"===S;if(E&&(He=_("label.texttemplate")),He||(ke=_("label.text")),ke||He){_("label.textangle");var Ue=_("label.textposition",pe?"middle":"middle center");_("label.xanchor"),_("label.yanchor",function y(h,c){return h?"bottom":-1!==c.indexOf("top")?"top":-1!==c.indexOf("bottom")?"bottom":"middle"}(pe,Ue)),_("label.padding"),p.coerceFont(_,"label.font",C.font)}}}ve.exports=function(c,C){v(c,C,{name:"shapes",handleItemDefaults:m})}},728:function(ve,K,o){"use strict";var p=o(3400),T=o(4460),v=o(2736),g=o(3616),f=o(9856).readPaths,y=o(5152),m=y.getPathString,h=o(7728),c=o(4284).FROM_TL;ve.exports=function(D,w,z,S){if(S.selectAll(".shape-label").remove(),z.label.text||z.label.texttemplate){var E;if(z.label.texttemplate){var x={};if("path"!==z.type){var H=T.getFromId(D,z.xref),b=T.getFromId(D,z.yref);for(var N in h){var V=h[N](z,H,b);void 0!==V&&(x[N]=V)}}E=p.texttemplateStringForShapes(z.label.texttemplate,{},D._fullLayout._d3locale,x)}else E=z.label.text;var J,W,te,fe,Y={"data-index":w},$=z.label.font,F=S.append("g").attr(Y).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(E);if(z.path){var me=m(D,z),Z=f(me,D);J=1/0,te=1/0,W=-1/0,fe=-1/0;for(var G=0;G<Z.length;G++)for(var q=0;q<Z[G].length;q++)for(var ie=Z[G][q],ue=1;ue<ie.length;ue+=2){var le=ie[ue],pe=ie[ue+1];J=Math.min(J,le),W=Math.max(W,le),te=Math.min(te,pe),fe=Math.max(fe,pe)}}else{var He=T.getFromId(D,z.xref),ke=T.getRefType(z.xref),Ue=T.getFromId(D,z.yref),Me=T.getRefType(z.yref),we=y.getDataToPixel(D,He,!1,ke),Le=y.getDataToPixel(D,Ue,!0,Me);J=we(z.x0),W=we(z.x1),te=Le(z.y0),fe=Le(z.y1)}var B=z.label.textangle;"auto"===B&&(B="line"===z.type?function C(L,D,w,z){var E;return E=Math.abs(w-L),-180/Math.PI*Math.atan2(w>=L?D-z:z-D,E)}(J,te,W,fe):0),F.call(function(O){return O.call(g.font,$).attr({}),v.convertToTspans(O,D),O});var X=function _(L,D,w,z,S,E,x){var J,W,te,fe,H=S.label.textposition,b=S.label.textangle,N=S.label.padding,V=S.type,Y=Math.PI/180*E,$=Math.sin(Y),Q=Math.cos(Y),se=S.label.xanchor,F=S.label.yanchor;if("line"===V){"start"===H?(J=L,W=D):"end"===H?(J=w,W=z):(J=(L+w)/2,W=(D+z)/2),"auto"===se&&(se="start"===H?"auto"===b?w>L?"left":w<L?"right":"center":w>L?"right":w<L?"left":"center":"end"===H?"auto"===b?w>L?"right":w<L?"left":"center":w>L?"left":w<L?"right":"center":"center");var Z={bottom:-1,middle:0,top:1};if("auto"===b){var G=Z[F];te=-N*$*G,fe=N*Q*G}else te=N*{left:1,center:0,right:-1}[se],fe=N*Z[F];J+=te,W+=fe}else te=N+3,-1!==H.indexOf("right")?(J=Math.max(L,w)-te,"auto"===se&&(se="right")):-1!==H.indexOf("left")?(J=Math.min(L,w)+te,"auto"===se&&(se="left")):(J=(L+w)/2,"auto"===se&&(se="center")),W=-1!==H.indexOf("top")?Math.min(D,z):-1!==H.indexOf("bottom")?Math.max(D,z):(D+z)/2,fe=N,"bottom"===F?W-=fe:"top"===F&&(W+=fe);var ue=c[F],le=S.label.font.size,pe=x.height;return{textx:J+(pe*ue-le)*$,texty:W+-(pe*ue-le)*Q,xanchor:se}}(J,te,W,fe,z,B,g.bBox(F.node())),j=X.textx,I=X.texty;F.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[X.xanchor],y:I,x:j,transform:"rotate("+B+","+j+","+I+")"}).call(v.positionText,j,I)}}},5496:function(ve,K,o){"use strict";var T=o(3400).strTranslate,v=o(6476),g=o(2760),f=g.drawMode,y=g.selectMode,m=o(4040),h=o(6308),c=o(7e3),C=c.i000,_=c.i090,L=c.i180,D=c.i270,z=o(1936).clearOutlineControllers,S=o(9856),E=S.pointsOnRectangle,x=S.pointsOnEllipse,H=S.writePaths,b=o(3940).newShapes,N=o(3940).createShapeObj,V=o(5968),Y=o(728);function Q(F,J){var me,Z,G,fe=F.length;return G=F[me=(J+1)%fe][2],(Z=F[me][1])===F[J][1]&&G===F[J][2]&&(Z=F[me=(J+2)%fe][1],G=F[me][2]),[me,Z,G]}ve.exports=function F(J,W,te,fe){fe||(fe=0);var me=te.gd;function Z(){F(J,W,te,fe++),(x(J[0])||te.hasText)&&G({redrawing:!0})}function G(Ve){var Pe={};void 0!==te.isActiveShape&&(te.isActiveShape=!1,Pe=b(W,te)),void 0!==te.isActiveSelection&&(te.isActiveSelection=!1,Pe=V(W,te),me._fullLayout._reselect=!0),Object.keys(Pe).length&&m.call((Ve||{}).redrawing?"relayout":"_guiRelayout",me,Pe)}var He,ke,Ue,Me,we,ie=me._fullLayout._zoomlayer,ue=te.dragmode,le=f(ue),pe=y(ue);if((le||pe)&&(me._fullLayout._outlining=!0),z(me),W.attr("d",H(J)),fe||!te.isActiveShape&&!te.isActiveSelection||(we=function $(F,J){for(var W=0;W<J.length;W++){var te=J[W];F[W]=[];for(var fe=0;fe<te.length;fe++){F[W][fe]=[];for(var me=0;me<te[fe].length;me++)F[W][fe][me]=te[fe][me]}}return F}([],J),function ne(Ve){He=[];for(var Pe=0;Pe<J.length;Pe++){var Je=J[Pe],Xe=E(Je),Ge=!Xe&&x(Je);He[Pe]=[];for(var st=Je.length,wt=0;wt<st;wt++)if("Z"!==Je[wt][0]&&(!Ge||wt===C||wt===_||wt===L||wt===D)){var At,kt=Xe&&te.isActiveSelection;kt&&(At=Q(Je,wt));var Qt=Je[wt][1],nn=Je[wt][2],Ut=Ve.append(kt?"rect":"circle").attr("data-i",Pe).attr("data-j",wt).style({fill:h.background,stroke:h.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(kt){var Lt=At[1]-Qt,Xt=At[2]-nn,gt=Xt?5:Math.max(Math.min(25,Math.abs(Lt)-5),5),Yt=Lt?5:Math.max(Math.min(25,Math.abs(Xt)-5),5);Ut.classed(Xt?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",gt).attr("height",Yt).attr("x",Qt-gt/2).attr("y",nn-Yt/2).attr("transform",T(Lt/2,Xt/2))}else Ut.classed("cursor-grab",!0).attr("r",5).attr("cx",Qt).attr("cy",nn);He[Pe][wt]={element:Ut.node(),gd:me,prepFn:X,doneFn:I,clickFn:O},v.init(He[Pe][wt])}}}(ie.append("g").attr("class","outline-controllers")),function Te(){if(ke=[],J.length){ke[0]={element:W[0][0],gd:me,prepFn:Ne,doneFn:Oe,clickFn:Be},v.init(ke[0])}}()),le&&te.hasText){var B=ie.select(".label-temp"),P=N(W,te,te.dragmode);Y(me,"label-temp",P,B)}function X(Ve){Ue=+Ve.srcElement.getAttribute("data-i"),Me=+Ve.srcElement.getAttribute("data-j"),He[Ue][Me].moveFn=j}function j(Ve,Pe){if(J.length){var Je=we[Ue][Me][1],Xe=we[Ue][Me][2],Ge=J[Ue],st=Ge.length;if(E(Ge)){var wt=Ve,kt=Pe;te.isActiveSelection&&(Q(Ge,Me)[1]===Ge[Me][1]?kt=0:wt=0);for(var Qt=0;Qt<st;Qt++)if(Qt!==Me){var nn=Ge[Qt];nn[1]===Ge[Me][1]&&(nn[1]=Je+wt),nn[2]===Ge[Me][2]&&(nn[2]=Xe+kt)}if(Ge[Me][1]=Je+wt,Ge[Me][2]=Xe+kt,!E(Ge))for(var Ut=0;Ut<st;Ut++)for(var Lt=0;Lt<Ge[Ut].length;Lt++)Ge[Ut][Lt]=we[Ue][Ut][Lt]}else Ge[Me][1]=Je+Ve,Ge[Me][2]=Xe+Pe;Z()}}function I(){G()}function O(Ve,Pe){if(2===Ve){Ue=+Pe.srcElement.getAttribute("data-i"),Me=+Pe.srcElement.getAttribute("data-j");var Je=J[Ue];!E(Je)&&!x(Je)&&function ae(){if(J.length&&J[Ue]&&J[Ue].length){for(var Ve=[],Pe=0;Pe<J[Ue].length;Pe++)Pe!==Me&&Ve.push(J[Ue][Pe]);Ve.length>1&&(2!==Ve.length||"Z"!==Ve[1][0])&&(0===Me&&(Ve[0][0]="M"),J[Ue]=Ve,Z(),G())}}()}}function ze(Ve,Pe){(function be(Ve,Pe){if(J.length)for(var Je=0;Je<J.length;Je++)for(var Xe=0;Xe<J[Je].length;Xe++)for(var Ge=0;Ge+2<J[Je][Xe].length;Ge+=2)J[Je][Xe][Ge+1]=we[Je][Xe][Ge+1]+Ve,J[Je][Xe][Ge+2]=we[Je][Xe][Ge+2]+Pe})(Ve,Pe),Z()}function Ne(Ve){(Ue=+Ve.srcElement.getAttribute("data-i"))||(Ue=0),ke[Ue].moveFn=ze}function Oe(){G()}function Be(Ve){2===Ve&&function se(F){if(y(F._fullLayout.dragmode)){z(F);var J=F._fullLayout._activeSelectionIndex,W=(F.layout||{}).selections||[];if(J<W.length){for(var te=[],fe=0;fe<W.length;fe++)fe!==J&&te.push(W[fe]);delete F._fullLayout._activeSelectionIndex;var me=F._fullLayout.selections[J];F._fullLayout._deselect={xref:me.xref,yref:me.yref},m.call("_guiRelayout",F,{selections:te})}}}(me)}}},4016:function(ve,K,o){"use strict";var p=o(3428),T=o(4040),v=o(3400),g=o(4460),f=o(9856).readPaths,y=o(5496),m=o(728),h=o(1936).clearOutlineControllers,c=o(6308),C=o(3616),_=o(1780).arrayEditor,L=o(6476),D=o(3972),w=o(3068),z=o(5152),S=z.getPathString;function E(F){var J=F._fullLayout;for(var W in J._shapeUpperLayer.selectAll("path").remove(),J._shapeLowerLayer.selectAll("path").remove(),J._shapeUpperLayer.selectAll("text").remove(),J._shapeLowerLayer.selectAll("text").remove(),J._plots){var te=J._plots[W].shapelayer;te&&(te.selectAll("path").remove(),te.selectAll("text").remove())}for(var fe=0;fe<J.shapes.length;fe++)!0===J.shapes[fe].visible&&b(F,fe)}function x(F){return!!F._fullLayout._outlining}function H(F){return!F._context.edits.shapePosition}function b(F,J){F._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+J+'"]').remove();var W=z.makeShapesOptionsAndPlotinfo(F,J),te=W.options,fe=W.plotinfo;te._input&&!0===te.visible&&function Z(G){var q=S(F,te),ie={"data-index":J,"fill-rule":te.fillrule,d:q},ue=te.opacity,le=te.fillcolor,pe=te.line.width?te.line.color:"rgba(0,0,0,0)",He=te.line.width,ke=te.line.dash;!He&&!0===te.editable&&(He=5,ke="solid");var Ue="Z"!==q[q.length-1],Me=H(F)&&te.editable&&F._fullLayout._activeShapeIndex===J;Me&&(le=Ue?"rgba(0,0,0,0)":F._fullLayout.activeshape.fillcolor,ue=F._fullLayout.activeshape.opacity);var B,we=G.append("g").classed("shape-group",!0).attr({"data-index":J}),Le=we.append("path").attr(ie).style("opacity",ue).call(c.stroke,pe).call(c.fill,le).call(C.dashLine,ke,He);if(N(we,F,te),m(F,J,te,we),(Me||F._context.edits.shapePosition)&&(B=_(F.layout,"shapes",te)),Me){Le.style({cursor:"move"});var P={element:Le.node(),plotinfo:fe,gd:F,editHelpers:B,hasText:te.label.text||te.label.texttemplate,isActiveShape:!0},X=f(q,F);y(X,Le,P)}else F._context.edits.shapePosition?function V(F,J,W,te,fe,me){var He,ke,Ue,Me,we,Le,B,P,X,j,I,ae,O,ne,be,wt,Z=10,G=10,q="pixel"===W.xsizemode,ie="pixel"===W.ysizemode,ue="line"===W.type,le="path"===W.type,pe=me.modifyItem,ze=p.select(J.node().parentNode),Ne=g.getFromId(F,W.xref),Oe=g.getRefType(W.xref),Be=g.getFromId(F,W.yref),Te=g.getRefType(W.yref),Ve=z.getDataToPixel(F,Ne,!1,Oe),Pe=z.getDataToPixel(F,Be,!0,Te),Je=z.getPixelToData(F,Ne,!1,Oe),Xe=z.getPixelToData(F,Be,!0,Te),Ge=kt(),st={element:Ge.node(),gd:F,prepFn:nn,doneFn:Ut,clickFn:Lt};function kt(){return ue?At():J}function At(){var rn=10,Ke=Math.max(W.line.width,rn),St=fe.append("g").attr("data-index",te).attr("drag-helper",!0);St.append("path").attr("d",J.attr("d")).style({cursor:"move","stroke-width":Ke,"stroke-opacity":"0"});var dt={"fill-opacity":"0"},Re=Math.max(Ke/2,rn);return St.append("circle").attr({"data-line-point":"start-point",cx:q?Ve(W.xanchor)+W.x0:Ve(W.x0),cy:ie?Pe(W.yanchor)-W.y0:Pe(W.y0),r:Re}).style(dt).classed("cursor-grab",!0),St.append("circle").attr({"data-line-point":"end-point",cx:q?Ve(W.xanchor)+W.x1:Ve(W.x1),cy:ie?Pe(W.yanchor)-W.y1:Pe(W.y1),r:Re}).style(dt).classed("cursor-grab",!0),St}function Qt(rn){if(x(F))wt=null;else if(ue)wt="path"===rn.target.tagName?"move":"start-point"===rn.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var Ke=st.element.getBoundingClientRect(),St=Ke.right-Ke.left,dt=Ke.bottom-Ke.top,ye=!le&&St>Z&&dt>G&&!rn.shiftKey?L.getCursor((rn.clientX-Ke.left)/St,1-(rn.clientY-Ke.top)/dt):"move";D(J,ye),wt=ye.split("-")[0]}}function nn(rn){x(F)||(q&&(we=Ve(W.xanchor)),ie&&(Le=Pe(W.yanchor)),"path"===W.type?be=W.path:(He=q?W.x0:Ve(W.x0),ke=ie?W.y0:Pe(W.y0),Ue=q?W.x1:Ve(W.x1),Me=ie?W.y1:Pe(W.y1)),He<Ue?(X=He,O="x0",j=Ue,ne="x1"):(X=Ue,O="x1",j=He,ne="x0"),!ie&&ke<Me||ie&&ke>Me?(B=ke,I="y0",P=Me,ae="y1"):(B=Me,I="y1",P=ke,ae="y0"),Qt(rn),Yt(fe,W),dn(J,W,F),st.moveFn="move"===wt?Xt:gt,st.altKey=rn.altKey)}function Ut(){x(F)||(D(J),tn(fe),N(J,F,W),T.call("_guiRelayout",F,me.getUpdateObj()))}function Lt(){x(F)||tn(fe)}function Xt(rn,Ke){if("path"===W.type){var St=function(it){return it},dt=St,Re=St;q?pe("xanchor",W.xanchor=Je(we+rn)):(dt=function(ye){return Je(Ve(ye)+rn)},Ne&&"date"===Ne.type&&(dt=z.encodeDate(dt))),ie?pe("yanchor",W.yanchor=Xe(Le+Ke)):(Re=function(ye){return Xe(Pe(ye)+Ke)},Be&&"date"===Be.type&&(Re=z.encodeDate(Re))),pe("path",W.path=Y(be,dt,Re))}else q?pe("xanchor",W.xanchor=Je(we+rn)):(pe("x0",W.x0=Je(He+rn)),pe("x1",W.x1=Je(Ue+rn))),ie?pe("yanchor",W.yanchor=Xe(Le+Ke)):(pe("y0",W.y0=Xe(ke+Ke)),pe("y1",W.y1=Xe(Me+Ke)));J.attr("d",S(F,W)),Yt(fe,W),m(F,te,W,ze)}function gt(rn,Ke){if(le){var St=function(Tn){return Tn},dt=St,Re=St;q?pe("xanchor",W.xanchor=Je(we+rn)):(dt=function(Rn){return Je(Ve(Rn)+rn)},Ne&&"date"===Ne.type&&(dt=z.encodeDate(dt))),ie?pe("yanchor",W.yanchor=Xe(Le+Ke)):(Re=function(Rn){return Xe(Pe(Rn)+Ke)},Be&&"date"===Be.type&&(Re=z.encodeDate(Re))),pe("path",W.path=Y(be,dt,Re))}else if(ue){if("resize-over-start-point"===wt){var it=He+rn,ye=ie?ke-Ke:ke+Ke;pe("x0",W.x0=q?it:Je(it)),pe("y0",W.y0=ie?ye:Xe(ye))}else if("resize-over-end-point"===wt){var De=Ue+rn,$e=ie?Me-Ke:Me+Ke;pe("x1",W.x1=q?De:Je(De)),pe("y1",W.y1=ie?$e:Xe($e))}}else{var je=function(Tn){return-1!==wt.indexOf(Tn)},Ye=je("n"),at=je("s"),Rt=je("w"),tt=je("e"),yt=Ye?B+Ke:B,ct=at?P+Ke:P,Et=Rt?X+rn:X,hn=tt?j+rn:j;ie&&(Ye&&(yt=B-Ke),at&&(ct=P-Ke)),(!ie&&ct-yt>G||ie&&yt-ct>G)&&(pe(I,W[I]=ie?yt:Xe(yt)),pe(ae,W[ae]=ie?ct:Xe(ct))),hn-Et>Z&&(pe(O,W[O]=q?Et:Je(Et)),pe(ne,W[ne]=q?hn:Je(hn)))}J.attr("d",S(F,W)),Yt(fe,W),m(F,te,W,ze)}function Yt(rn,Ke){function St(){var dt="path"!==Ke.type,Re=rn.selectAll(".visual-cue").data([0]),it=1;Re.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":it}).classed("visual-cue",!0);var ye=Ve(q?Ke.xanchor:v.midRange(dt?[Ke.x0,Ke.x1]:z.extractPathCoords(Ke.path,w.paramIsX))),De=Pe(ie?Ke.yanchor:v.midRange(dt?[Ke.y0,Ke.y1]:z.extractPathCoords(Ke.path,w.paramIsY)));ye=z.roundPositionForSharpStrokeRendering(ye,it),De=z.roundPositionForSharpStrokeRendering(De,it),Re.attr("d",q&&ie?"M"+(ye-1-it)+","+(De-1-it)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z":q?"M"+(ye-1-it)+","+(De-9-it)+"v18 h2 v-18 Z":"M"+(ye-9-it)+","+(De-1-it)+"h18 v2 h-18 Z")}(q||ie)&&St()}function tn(rn){rn.selectAll(".visual-cue").remove()}function dn(rn,Ke,St){var dt=Ke.xref,Re=Ke.yref,it=g.getFromId(St,dt),ye=g.getFromId(St,Re),De="";"paper"!==dt&&!it.autorange&&(De+=dt),"paper"!==Re&&!ye.autorange&&(De+=Re),C.setClipUrl(rn,De?"clip"+St._fullLayout._uid+De:null,St)}L.init(st),Ge.node().onmousemove=Qt}(F,Le,te,J,G,B):!0===te.editable&&Le.style("pointer-events",Ue||c.opacity(le)*ue<=.5?"stroke":"all");Le.node().addEventListener("click",function(){return function $(F,J){if(H(F)){var te=+J.node().getAttribute("data-index");if(te>=0){if(te===F._fullLayout._activeShapeIndex)return void Q(F);F._fullLayout._activeShapeIndex=te,F._fullLayout._deactivateShape=Q,E(F)}}}(F,Le)})}("below"!==te.layer?F._fullLayout._shapeUpperLayer:"paper"===te.xref||"paper"===te.yref?F._fullLayout._shapeLowerLayer:fe._hadPlotinfo?(fe.mainplotinfo||fe).shapelayer:F._fullLayout._shapeLowerLayer)}function N(F,J,W){var te=(W.xref+W.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");C.setClipUrl(F,te?"clip"+J._fullLayout._uid+te:null,J)}function Y(F,J,W){return F.replace(w.segmentRE,function(te){var fe=0,me=te.charAt(0),Z=w.paramIsX[me],G=w.paramIsY[me],q=w.numParams[me];return me+te.substr(1).replace(w.paramRE,function(ue){return fe>=q||(Z[fe]?ue=J(ue):G[fe]&&(ue=W(ue)),fe++),ue})})}function Q(F){H(F)&&F._fullLayout._activeShapeIndex>=0&&(h(F),delete F._fullLayout._activeShapeIndex,E(F))}ve.exports={draw:E,drawOne:b,eraseActiveShape:function se(F){if(H(F)){h(F);var J=F._fullLayout._activeShapeIndex,W=(F.layout||{}).shapes||[];if(J<W.length){for(var te=[],fe=0;fe<W.length;fe++)fe!==J&&te.push(W[fe]);return delete F._fullLayout._activeShapeIndex,T.call("_guiRelayout",F,{shapes:te})}}},drawLabel:m}},2872:function(ve,K,o){"use strict";var p=o(7824).overrideAll,T=o(5464),v=o(5376),g=o(8192).u,f=o(2880).extendFlat,y=o(1776).ye,m=o(7728);ve.exports=p({newshape:{visible:f({},T.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:f({},T.legend,{}),legendgroup:f({},T.legendgroup,{}),legendgrouptitle:{text:f({},T.legendgrouptitle.text,{}),font:v({})},legendrank:f({},T.legendrank,{}),legendwidth:f({},T.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:f({},g,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:f({},T.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:y({newshape:!0},{keys:Object.keys(m)}),font:v({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},7e3:function(ve){"use strict";ve.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},5144:function(ve,K,o){"use strict";var p=o(6308),T=o(3400);ve.exports=function(f,y,m){m("newshape.visible"),m("newshape.name"),m("newshape.showlegend"),m("newshape.legend"),m("newshape.legendwidth"),m("newshape.legendgroup"),m("newshape.legendgrouptitle.text"),T.coerceFont(m,"newshape.legendgrouptitle.font"),m("newshape.legendrank"),m("newshape.drawdirection"),m("newshape.layer"),m("newshape.fillcolor"),m("newshape.fillrule"),m("newshape.opacity"),m("newshape.line.width")&&(m("newshape.line.color",p.contrast((f||{}).plot_bgcolor||"#FFF")),m("newshape.line.dash"));var C="drawline"===f.dragmode,_=m("newshape.label.text"),L=m("newshape.label.texttemplate");if(_||L){m("newshape.label.textangle");var D=m("newshape.label.textposition",C?"middle":"middle center");m("newshape.label.xanchor"),m("newshape.label.yanchor",function v(g,f){return g?"bottom":-1!==f.indexOf("top")?"top":-1!==f.indexOf("bottom")?"bottom":"middle"}(C,D)),m("newshape.label.padding"),T.coerceFont(m,"newshape.label.font",y.font)}m("activeshape.fillcolor"),m("activeshape.opacity")}},9856:function(ve,K,o){"use strict";var p=o(9604),T=o(7e3),v=T.CIRCLE_SIDES,g=T.SQRT2,f=o(5840),y=f.p2r,m=f.r2p,h=[0,3,4,5,6,1,2],c=[0,3,4,1,2];function C(L,D){return Math.abs(L-D)<=1e-6}function _(L,D){var w=D[1]-L[1],z=D[2]-L[2];return Math.sqrt(w*w+z*z)}K.writePaths=function(L){var D=L.length;if(!D)return"M0,0Z";for(var w="",z=0;z<D;z++)for(var S=L[z].length,E=0;E<S;E++){var x=L[z][E][0];if("Z"===x)w+="Z";else for(var H=L[z][E].length,b=0;b<H;b++){var N=b;"Q"===x||"S"===x?N=c[b]:"C"===x&&(N=h[b]),w+=L[z][E][N],b>0&&b<H-1&&(w+=",")}}return w},K.readPaths=function(L,D,w,z){var b,Y,$,S=p(L),E=[],x=-1,N=0,V=0,Q=function(){Y=N,$=V};Q();for(var se=0;se<S.length;se++){var F=[],me=S[se][0],Z=me;switch(me){case"M":x++,E[x]=[],F.push([Z,N=+S[se][1],V=+S[se][2]]),Q();break;case"Q":case"S":F.push([Z,N=+S[se][3],V=+S[se][4],+S[se][1],+S[se][2]]);break;case"C":F.push([Z,N=+S[se][5],V=+S[se][6],+S[se][1],+S[se][2],+S[se][3],+S[se][4]]);break;case"T":case"L":F.push([Z,N=+S[se][1],V=+S[se][2]]);break;case"H":F.push([Z="L",N=+S[se][1],V]);break;case"V":F.push([Z="L",N,V=+S[se][1]]);break;case"A":Z="L";var G=+S[se][1],q=+S[se][2];+S[se][4]||(G=-G,q=-q);var ie=N-G,ue=V;for(b=1;b<=v/2;b++){var le=2*Math.PI*b/v;F.push([Z,ie+G*Math.cos(le),ue+q*Math.sin(le)])}break;case"Z":(N!==Y||V!==$)&&F.push([Z,N=Y,V=$])}for(var pe=(w||{}).domain,He=D._fullLayout._size,ke=w&&"pixel"===w.xsizemode,Ue=w&&"pixel"===w.ysizemode,Me=!1===z,we=0;we<F.length;we++){for(b=0;b+2<7;b+=2){var Le=F[we][b+1],B=F[we][b+2];void 0===Le||void 0===B||(N=Le,V=B,w&&(w.xaxis&&w.xaxis.p2r?(Me&&(Le-=w.xaxis._offset),Le=ke?m(w.xaxis,w.xanchor)+Le:y(w.xaxis,Le)):(Me&&(Le-=He.l),pe?Le=pe.x[0]+Le/He.w:Le/=He.w),w.yaxis&&w.yaxis.p2r?(Me&&(B-=w.yaxis._offset),B=Ue?m(w.yaxis,w.yanchor)-B:y(w.yaxis,B)):(Me&&(B-=He.t),B=pe?pe.y[1]-B/He.h:1-B/He.h)),F[we][b+1]=Le,F[we][b+2]=B)}E[x].push(F[we].slice())}}return E},K.pointsOnRectangle=function(L){if(5!==L.length)return!1;for(var w=1;w<3;w++){if(!C(L[0][w]-L[1][w],L[3][w]-L[2][w]))return!1;if(!C(L[0][w]-L[3][w],L[1][w]-L[2][w]))return!1}return!(!C(L[0][1],L[1][1])&&!C(L[0][1],L[3][1])||!(_(L[0],L[1])*_(L[0],L[3])))},K.pointsOnEllipse=function(L){var D=L.length;if(D!==v+1)return!1;D=v;for(var w=0;w<D;w++){var z=(2*D-w)%D,S=(D/2+z)%D;if(!C(_(L[w],L[(D/2+w)%D]),_(L[z],L[S])))return!1}return!0},K.handleEllipse=function(L,D,w){if(!L)return[D,w];var z=K.ellipseOver({x0:D[0],y0:D[1],x1:w[0],y1:w[1]}),S=(z.x1+z.x0)/2,E=(z.y1+z.y0)/2,x=(z.x1-z.x0)/2,H=(z.y1-z.y0)/2;x||(x=H/=g),H||(H=x/=g);for(var b=[],N=0;N<v;N++){var V=2*N*Math.PI/v;b.push([S+x*Math.cos(V),E+H*Math.sin(V)])}return b},K.ellipseOver=function(L){var D=L.x0,w=L.y0,z=L.x1,S=L.y1,E=z-D,x=S-w,H=((D-=E)+z)/2,b=((w-=x)+S)/2;return{x0:H-(E*=g),y0:b-(x*=g),x1:H+E,y1:b+x}},K.fixDatesForPaths=function(L,D,w){var z="date"===D.type,S="date"===w.type;if(!z&&!S)return L;for(var E=0;E<L.length;E++)for(var x=0;x<L[E].length;x++)for(var H=0;H+2<L[E][x].length;H+=2)z&&(L[E][x][H+1]=L[E][x][H+1].replace(" ","_")),S&&(L[E][x][H+2]=L[E][x][H+2].replace(" ","_"));return L}},3940:function(ve,K,o){"use strict";var p=o(2760),T=p.drawMode,v=p.openMode,g=o(7e3),f=g.i000,y=g.i090,m=g.i180,h=g.i270,c=g.cos45,C=g.sin45,_=o(5840),L=_.p2r,D=_.r2p,z=o(1936).clearOutline,S=o(9856),E=S.readPaths,x=S.writePaths,H=S.ellipseOver,b=S.fixDatesForPaths;function V(Y,$,Q){var pe,F=$.gd,J=Y[0][0].getAttribute("d"),W=F._fullLayout.newshape,te=$.plotinfo,fe=$.isActiveShape,me=te.xaxis,Z=te.yaxis,G=!!te.domain||!te.xaxis,q=!!te.domain||!te.yaxis,ie=v(Q),ue=E(J,F,te,fe),le={editable:!0,visible:W.visible,name:W.name,showlegend:W.showlegend,legend:W.legend,legendwidth:W.legendwidth,legendgroup:W.legendgroup,legendgrouptitle:{text:W.legendgrouptitle.text,font:W.legendgrouptitle.font},legendrank:W.legendrank,label:W.label,xref:G?"paper":me._id,yref:q?"paper":Z._id,layer:W.layer,opacity:W.opacity,line:{color:W.line.color,width:W.line.width,dash:W.line.dash}};if(ie||(le.fillcolor=W.fillcolor,le.fillrule=W.fillrule),1===ue.length&&(pe=ue[0]),pe&&5===pe.length&&"drawrect"===Q)le.type="rect",le.x0=pe[0][1],le.y0=pe[0][2],le.x1=pe[2][1],le.y1=pe[2][2];else if(pe&&"drawline"===Q)le.type="line",le.x0=pe[0][1],le.y0=pe[0][2],le.x1=pe[1][1],le.y1=pe[1][2];else if(pe&&"drawcircle"===Q){le.type="circle";var He=pe[f][1],ke=pe[y][1],Ue=pe[m][1],Me=pe[h][1],we=pe[f][2],Le=pe[y][2],B=pe[m][2],P=pe[h][2],X=te.xaxis&&("date"===te.xaxis.type||"log"===te.xaxis.type),j=te.yaxis&&("date"===te.yaxis.type||"log"===te.yaxis.type);X&&(He=D(te.xaxis,He),ke=D(te.xaxis,ke),Ue=D(te.xaxis,Ue),Me=D(te.xaxis,Me)),j&&(we=D(te.yaxis,we),Le=D(te.yaxis,Le),B=D(te.yaxis,B),P=D(te.yaxis,P));var I=(ke+Me)/2,ae=(we+B)/2,be=H({x0:I,y0:ae,x1:I+(Me-ke+Ue-He)/2*c,y1:ae+(P-Le+B-we)/2*C});X&&(be.x0=L(te.xaxis,be.x0),be.x1=L(te.xaxis,be.x1)),j&&(be.y0=L(te.yaxis,be.y0),be.y1=L(te.yaxis,be.y1)),le.x0=be.x0,le.y0=be.y0,le.x1=be.x1,le.y1=be.y1}else le.type="path",me&&Z&&b(ue,me,Z),le.path=x(ue),pe=null;return le}ve.exports={newShapes:function N(Y,$){if(Y.length&&Y[0][0]){var se=$.gd,F=$.isActiveShape,J=$.dragmode,W=(se.layout||{}).shapes||[];if(!T(J)&&void 0!==F){var te=se._fullLayout._activeShapeIndex;if(te<W.length)switch(se._fullLayout.shapes[te].type){case"rect":J="drawrect";break;case"circle":J="drawcircle";break;case"line":J="drawline";break;case"path":var fe=W[te].path||"";J="Z"===fe[fe.length-1]?"drawclosedpath":"drawopenpath"}}var me=V(Y,$,J);z(se);for(var Z=$.editHelpers,G=(Z||{}).modifyItem,q=[],ie=0;ie<W.length;ie++){var ue=se._fullLayout.shapes[ie];if(q[ie]=ue._input,void 0!==F&&ie===se._fullLayout._activeShapeIndex){var le=me;switch(ue.type){case"line":case"rect":case"circle":G("x0",le.x0),G("x1",le.x1),G("y0",le.y0),G("y1",le.y1);break;case"path":G("path",le.path)}}}return void 0===F?(q.push(me),q):Z?Z.getUpdateObj():{}}},createShapeObj:V}},1936:function(ve){"use strict";ve.exports={clearOutlineControllers:function K(p){var T=p._fullLayout._zoomlayer;T&&T.selectAll(".outline-controllers").remove()},clearOutline:function o(p){var T=p._fullLayout._zoomlayer;T&&T.selectAll(".select-outline").remove(),p._fullLayout._outlining=!1}}},5152:function(ve,K,o){"use strict";var p=o(3068),T=o(3400),v=o(4460);K.rangeToShapePosition=function(f){return"log"===f.type?f.r2d:function(y){return y}},K.shapePositionToRange=function(f){return"log"===f.type?f.d2r:function(y){return y}},K.decodeDate=function(f){return function(y){return y.replace&&(y=y.replace("_"," ")),f(y)}},K.encodeDate=function(f){return function(y){return f(y).replace(" ","_")}},K.extractPathCoords=function(f,y,m){var h=[];return f.match(p.segmentRE).forEach(function(C){var _=y[C.charAt(0)].drawn;if(void 0!==_){var L=C.substr(1).match(p.paramRE);if(L&&!(L.length<_)){var D=L[_],w=m?D:T.cleanNumber(D);h.push(w)}}}),h},K.getDataToPixel=function(f,y,m,h){var C,c=f._fullLayout._size;if(y)if("domain"===h)C=function(L){return y._length*(m?1-L:L)+y._offset};else{var _=K.shapePositionToRange(y);C=function(L){return y._offset+y.r2p(_(L,!0))},"date"===y.type&&(C=K.decodeDate(C))}else C=m?function(L){return c.t+c.h*(1-L)}:function(L){return c.l+c.w*L};return C},K.getPixelToData=function(f,y,m,h){var C,c=f._fullLayout._size;if(y)if("domain"===h)C=function(L){var D=(L-y._offset)/y._length;return m?1-D:D};else{var _=K.rangeToShapePosition(y);C=function(L){return _(y.p2r(L-y._offset))}}else C=m?function(L){return 1-(L-c.t)/c.h}:function(L){return(L-c.l)/c.w};return C},K.roundPositionForSharpStrokeRendering=function(f,y){var m=1===Math.round(y%2),h=Math.round(f);return m?h+.5:h},K.makeShapesOptionsAndPlotinfo=function(f,y){var m=f._fullLayout.shapes[y]||{},h=f._fullLayout._plots[m.xref+m.yref];return h?h._hadPlotinfo=!0:(h={},m.xref&&"paper"!==m.xref&&(h.xaxis=f._fullLayout[m.xref+"axis"]),m.yref&&"paper"!==m.yref&&(h.yaxis=f._fullLayout[m.yref+"axis"])),h.xsizemode=m.xsizemode,h.ysizemode=m.ysizemode,h.xanchor=m.xanchor,h.yanchor=m.yanchor,{options:m,plotinfo:h}},K.makeSelectionsOptionsAndPlotinfo=function(f,y){var m=f._fullLayout.selections[y]||{},h=f._fullLayout._plots[m.xref+m.yref];return h?h._hadPlotinfo=!0:(h={},m.xref&&(h.xaxis=f._fullLayout[m.xref+"axis"]),m.yref&&(h.yaxis=f._fullLayout[m.yref+"axis"])),{options:m,plotinfo:h}},K.getPathString=function(f,y){var D,w,z,S,E,x,H,b,m=y.type,h=v.getRefType(y.xref),c=v.getRefType(y.yref),C=v.getFromId(f,y.xref),_=v.getFromId(f,y.yref),L=f._fullLayout._size;if(C?"domain"===h?w=function(te){return C._offset+C._length*te}:(D=K.shapePositionToRange(C),w=function(te){return C._offset+C.r2p(D(te,!0))}):w=function(te){return L.l+L.w*te},_?"domain"===c?S=function(te){return _._offset+_._length*(1-te)}:(z=K.shapePositionToRange(_),S=function(te){return _._offset+_.r2p(z(te,!0))}):S=function(te){return L.t+L.h*(1-te)},"path"===m)return C&&"date"===C.type&&(w=K.decodeDate(w)),_&&"date"===_.type&&(S=K.decodeDate(S)),function g(f,y,m){var c=f.xsizemode,C=f.ysizemode,_=f.xanchor,L=f.yanchor;return f.path.replace(p.segmentRE,function(D){var w=0,z=D.charAt(0),S=p.paramIsX[z],E=p.paramIsY[z],x=p.numParams[z],H=D.substr(1).replace(p.paramRE,function(b){return S[w]?b="pixel"===c?y(_)+Number(b):y(b):E[w]&&(b="pixel"===C?m(L)-Number(b):m(b)),++w>x&&(b="X"),b});return w>x&&(H=H.replace(/[\s,]*X.*/,""),T.log("Ignoring extra params in segment "+D)),z+H})}(y,w,S);if("pixel"===y.xsizemode){var N=w(y.xanchor);E=N+y.x0,x=N+y.x1}else E=w(y.x0),x=w(y.x1);if("pixel"===y.ysizemode){var V=S(y.yanchor);H=V-y.y0,b=V-y.y1}else H=S(y.y0),b=S(y.y1);if("line"===m)return"M"+E+","+H+"L"+x+","+b;if("rect"===m)return"M"+E+","+H+"H"+x+"V"+b+"H"+E+"Z";var Y=(E+x)/2,$=(H+b)/2,Q=Math.abs(Y-E),se=Math.abs($-H),F="A"+Q+","+se,J=Y+Q+","+$;return"M"+J+F+" 0 1,1 "+Y+","+($-se)+F+" 0 0,1 "+J+"Z"}},1592:function(ve,K,o){"use strict";var p=o(4016);ve.exports={moduleType:"component",name:"shapes",layoutAttributes:o(6056),supplyLayoutDefaults:o(3712),supplyDrawNewShapeDefaults:o(5144),includeBasePlot:o(6632)("shapes"),calcAutorange:o(6084),draw:p.draw,drawOne:p.drawOne}},7728:function(ve){"use strict";function K(D,w){return w?w.d2l(D):D}function o(D,w){return w?w.l2d(D):D}function f(D,w){return K(D.x1,w)-K(D.x0,w)}function y(D,w,z){return K(D.y1,z)-K(D.y0,z)}ve.exports={x0:function p(D){return D.x0},x1:function T(D){return D.x1},y0:function v(D){return D.y0},y1:function g(D){return D.y1},slope:function L(D,w,z){return"line"!==D.type?void 0:y(D,0,z)/f(D,w)},dx:f,dy:y,width:function m(D,w){return Math.abs(f(D,w))},height:function h(D,w,z){return Math.abs(y(D,0,z))},length:function c(D,w,z){return"line"!==D.type?void 0:Math.sqrt(Math.pow(f(D,w),2)+Math.pow(y(D,0,z),2))},xcenter:function C(D,w){return o((K(D.x1,w)+K(D.x0,w))/2,w)},ycenter:function _(D,w,z){return o((K(D.y1,z)+K(D.y0,z))/2,z)}}},9861:function(ve,K,o){"use strict";var p=o(5376),T=o(6741),v=o(2880).extendDeepAll,g=o(7824).overrideAll,f=o(5656),y=o(1780).templatedArray,m=o(876),h=y("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});ve.exports=g(y("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:h,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:v(T({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:f.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:p({})},font:p({}),activebgcolor:{valType:"color",dflt:m.gripBgActiveColor},bgcolor:{valType:"color",dflt:m.railBgColor},bordercolor:{valType:"color",dflt:m.railBorderColor},borderwidth:{valType:"number",min:0,dflt:m.railBorderWidth},ticklen:{valType:"number",min:0,dflt:m.tickLength},tickcolor:{valType:"color",dflt:m.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:m.minorTickLength}}),"arraydraw","from-root")},876:function(ve){"use strict";ve.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},8132:function(ve,K,o){"use strict";var p=o(3400),T=o(1272),v=o(9861),f=o(876).name,y=v.steps;function m(c,C,_){function L(b,N){return p.coerce(c,C,v,b,N)}for(var D=T(c,C,{name:"steps",handleItemDefaults:h}),w=0,z=0;z<D.length;z++)D[z].visible&&w++;if(w<2?C.visible=!1:L("visible")){C._stepCount=w;var E=C._visibleSteps=p.filterVisible(D);(D[L("active")]||{}).visible||(C.active=E[0]._index),L("x"),L("y"),p.noneOrAll(c,C,["x","y"]),L("xanchor"),L("yanchor"),L("len"),L("lenmode"),L("pad.t"),L("pad.r"),L("pad.b"),L("pad.l"),p.coerceFont(L,"font",_.font),L("currentvalue.visible")&&(L("currentvalue.xanchor"),L("currentvalue.prefix"),L("currentvalue.suffix"),L("currentvalue.offset"),p.coerceFont(L,"currentvalue.font",C.font)),L("transition.duration"),L("transition.easing"),L("bgcolor"),L("activebgcolor"),L("bordercolor"),L("borderwidth"),L("ticklen"),L("tickwidth"),L("tickcolor"),L("minorticklen")}}function h(c,C){function _(w,z){return p.coerce(c,C,y,w,z)}if("skip"===c.method||Array.isArray(c.args)?_("visible"):C.visible=!1){_("method"),_("args");var D=_("label","step-"+C._index);_("value",D),_("execute")}}ve.exports=function(C,_){T(C,_,{name:f,handleItemDefaults:m})}},9664:function(ve,K,o){"use strict";var p=o(3428),T=o(7316),v=o(6308),g=o(3616),f=o(3400),y=f.strTranslate,m=o(2736),h=o(1780).arrayEditor,c=o(876),C=o(4284),_=C.LINE_SPACING,L=C.FROM_TL,D=C.FROM_BR;function w(Z){return c.autoMarginIdRoot+Z._index}function S(Z){return Z._index}function E(Z,G){var q=g.tester.selectAll("g."+c.labelGroupClass).data(G._visibleSteps);q.enter().append("g").classed(c.labelGroupClass,!0);var ie=0,ue=0;q.each(function(P){var I=N(p.select(this),{step:P},G).node();if(I){var ae=g.bBox(I);ue=Math.max(ue,ae.height),ie=Math.max(ie,ae.width)}}),q.remove();var le=G._dims={};le.inputAreaWidth=Math.max(c.railWidth,c.gripHeight);var pe=Z._fullLayout._size;if(le.lx=pe.l+pe.w*G.x,le.ly=pe.t+pe.h*(1-G.y),le.outerLength="fraction"===G.lenmode?Math.round(pe.w*G.len):G.len,le.inputAreaStart=0,le.inputAreaLength=Math.round(le.outerLength-G.pad.l-G.pad.r),le.labelStride=Math.max(1,Math.ceil((ie+c.labelPadding)/((le.inputAreaLength-2*c.stepInset)/(G._stepCount-1)))),le.labelHeight=ue,le.currentValueMaxWidth=0,le.currentValueHeight=0,le.currentValueTotalHeight=0,le.currentValueMaxLines=1,G.currentvalue.visible){var Me=g.tester.append("g");q.each(function(P){var X=H(Me,G,P.label),j=X.node()&&g.bBox(X.node())||{width:0,height:0},I=m.lineCount(X);le.currentValueMaxWidth=Math.max(le.currentValueMaxWidth,Math.ceil(j.width)),le.currentValueHeight=Math.max(le.currentValueHeight,Math.ceil(j.height)),le.currentValueMaxLines=Math.max(le.currentValueMaxLines,I)}),le.currentValueTotalHeight=le.currentValueHeight+G.currentvalue.offset,Me.remove()}le.height=le.currentValueTotalHeight+c.tickOffset+G.ticklen+c.labelOffset+le.labelHeight+G.pad.t+G.pad.b;var we="left";f.isRightAnchor(G)&&(le.lx-=le.outerLength,we="right"),f.isCenterAnchor(G)&&(le.lx-=le.outerLength/2,we="center");var Le="top";f.isBottomAnchor(G)&&(le.ly-=le.height,Le="bottom"),f.isMiddleAnchor(G)&&(le.ly-=le.height/2,Le="middle"),le.outerLength=Math.ceil(le.outerLength),le.height=Math.ceil(le.height),le.lx=Math.round(le.lx),le.ly=Math.round(le.ly);var B={y:G.y,b:le.height*D[Le],t:le.height*L[Le]};"fraction"===G.lenmode?(B.l=0,B.xl=G.x-G.len*L[we],B.r=0,B.xr=G.x+G.len*D[we]):(B.x=G.x,B.l=le.outerLength*L[we],B.r=le.outerLength*D[we]),T.autoMargin(Z,w(G),B)}function H(Z,G,q){if(G.currentvalue.visible){var ue,le,ie=G._dims;switch(G.currentvalue.xanchor){case"right":ue=ie.inputAreaLength-c.currentValueInset-ie.currentValueMaxWidth,le="left";break;case"center":ue=.5*ie.inputAreaLength,le="middle";break;default:ue=c.currentValueInset,le="left"}var pe=f.ensureSingle(Z,"text",c.labelClass,function(Le){Le.attr({"text-anchor":le,"data-notex":1})}),He=G.currentvalue.prefix?G.currentvalue.prefix:"";if("string"==typeof q)He+=q;else{var ke=G.steps[G.active].label,Ue=G._gd._fullLayout._meta;Ue&&(ke=f.templateString(ke,Ue)),He+=ke}G.currentvalue.suffix&&(He+=G.currentvalue.suffix),pe.call(g.font,G.currentvalue.font).text(He).call(m.convertToTspans,G._gd);var Me=m.lineCount(pe);return m.positionText(pe,ue,(ie.currentValueMaxLines+1-Me)*G.currentvalue.font.size*_),pe}}function b(Z,G,q){f.ensureSingle(Z,"rect",c.gripRectClass,function(ue){ue.call(Q,G,Z,q).style("pointer-events","all")}).attr({width:c.gripWidth,height:c.gripHeight,rx:c.gripRadius,ry:c.gripRadius}).call(v.stroke,q.bordercolor).call(v.fill,q.bgcolor).style("stroke-width",q.borderwidth+"px")}function N(Z,G,q){var ie=f.ensureSingle(Z,"text",c.labelClass,function(pe){pe.attr({"text-anchor":"middle","data-notex":1})}),ue=G.step.label,le=q._gd._fullLayout._meta;return le&&(ue=f.templateString(ue,le)),ie.call(g.font,q.font).text(ue).call(m.convertToTspans,q._gd),ie}function V(Z,G){var q=f.ensureSingle(Z,"g",c.labelsClass),ie=G._dims,ue=q.selectAll("g."+c.labelGroupClass).data(ie.labelSteps);ue.enter().append("g").classed(c.labelGroupClass,!0),ue.exit().remove(),ue.each(function(le){var pe=p.select(this);pe.call(N,le,G),g.setTranslate(pe,W(G,le.fraction),c.tickOffset+G.ticklen+G.font.size*_+c.labelOffset+ie.currentValueTotalHeight)})}function Y(Z,G,q,ie,ue){var le=Math.round(ie*(q._stepCount-1)),pe=q._visibleSteps[le]._index;pe!==q.active&&$(Z,G,q,pe,!0,ue)}function $(Z,G,q,ie,ue,le){var pe=q.active;q.active=ie,h(Z.layout,c.name,q).applyUpdate("active",ie);var He=q.steps[q.active];G.call(J,q,le),G.call(H,q),Z.emit("plotly_sliderchange",{slider:q,step:q.steps[q.active],interaction:ue,previousActive:pe}),He&&He.method&&ue&&(G._nextMethod?(G._nextMethod.step=He,G._nextMethod.doCallback=ue,G._nextMethod.doTransition=le):(G._nextMethod={step:He,doCallback:ue,doTransition:le},G._nextMethodRaf=window.requestAnimationFrame(function(){var ke=G._nextMethod.step;ke.method&&(ke.execute&&T.executeAPICommand(Z,ke.method,ke.args),G._nextMethod=null,G._nextMethodRaf=null)})))}function Q(Z,G,q){if(!G._context.staticPlot){var ie=q.node(),ue=p.select(G);Z.on("mousedown",pe),Z.on("touchstart",pe)}function le(){return q.data()[0]}function pe(){var He=le();G.emit("plotly_sliderstart",{slider:He});var ke=q.select("."+c.gripRectClass);p.event.stopPropagation(),p.event.preventDefault(),ke.call(v.fill,He.activebgcolor);var Ue=te(He,p.mouse(ie)[0]);function Me(){var Le=le(),B=te(Le,p.mouse(ie)[0]);Y(G,q,Le,B,!1)}function we(){var Le=le();Le._dragging=!1,ke.call(v.fill,Le.bgcolor),ue.on("mouseup",null),ue.on("mousemove",null),ue.on("touchend",null),ue.on("touchmove",null),G.emit("plotly_sliderend",{slider:Le,step:Le.steps[Le.active]})}Y(G,q,He,Ue,!0),He._dragging=!0,ue.on("mousemove",Me),ue.on("touchmove",Me),ue.on("mouseup",we),ue.on("touchend",we)}}function se(Z,G){var q=Z.selectAll("rect."+c.tickRectClass).data(G._visibleSteps),ie=G._dims;q.enter().append("rect").classed(c.tickRectClass,!0),q.exit().remove(),q.attr({width:G.tickwidth+"px","shape-rendering":"crispEdges"}),q.each(function(ue,le){var pe=le%ie.labelStride==0,He=p.select(this);He.attr({height:pe?G.ticklen:G.minorticklen}).call(v.fill,G.tickcolor),g.setTranslate(He,W(G,le/(G._stepCount-1))-.5*G.tickwidth,(pe?c.tickOffset:c.minorTickOffset)+ie.currentValueTotalHeight)})}function J(Z,G,q){for(var ie=Z.select("rect."+c.gripRectClass),ue=0,le=0;le<G._stepCount;le++)if(G._visibleSteps[le]._index===G.active){ue=le;break}var pe=W(G,ue/(G._stepCount-1));if(!G._invokingCommand){var He=ie;q&&G.transition.duration>0&&(He=He.transition().duration(G.transition.duration).ease(G.transition.easing)),He.attr("transform",y(pe-.5*c.gripWidth,G._dims.currentValueTotalHeight))}}function W(Z,G){var q=Z._dims;return q.inputAreaStart+c.stepInset+(q.inputAreaLength-2*c.stepInset)*Math.min(1,Math.max(0,G))}function te(Z,G){var q=Z._dims;return Math.min(1,Math.max(0,(G-c.stepInset-q.inputAreaStart)/(q.inputAreaLength-2*c.stepInset-2*q.inputAreaStart)))}function fe(Z,G,q){var ie=q._dims,ue=f.ensureSingle(Z,"rect",c.railTouchRectClass,function(le){le.call(Q,G,Z,q).style("pointer-events","all")});ue.attr({width:ie.inputAreaLength,height:Math.max(ie.inputAreaWidth,c.tickOffset+q.ticklen+ie.labelHeight)}).call(v.fill,q.bgcolor).attr("opacity",0),g.setTranslate(ue,0,ie.currentValueTotalHeight)}function me(Z,G){var q=G._dims,ie=q.inputAreaLength-2*c.railInset,ue=f.ensureSingle(Z,"rect",c.railRectClass);ue.attr({width:ie,height:c.railWidth,rx:c.railRadius,ry:c.railRadius,"shape-rendering":"crispEdges"}).call(v.stroke,G.bordercolor).call(v.fill,G.bgcolor).style("stroke-width",G.borderwidth+"px"),g.setTranslate(ue,c.railInset,.5*(q.inputAreaWidth-c.railWidth)+q.currentValueTotalHeight)}ve.exports=function(G){var q=G._context.staticPlot,ie=G._fullLayout,ue=function z(Z,G){for(var q=Z[c.name],ie=[],ue=0;ue<q.length;ue++){var le=q[ue];le.visible&&(le._gd=G,ie.push(le))}return ie}(ie,G),le=ie._infolayer.selectAll("g."+c.containerClassName).data(ue.length>0?[0]:[]);function pe(Me){Me._commandObserver&&(Me._commandObserver.remove(),delete Me._commandObserver),T.autoMargin(G,w(Me))}if(le.enter().append("g").classed(c.containerClassName,!0).style("cursor",q?null:"ew-resize"),le.exit().each(function(){p.select(this).selectAll("g."+c.groupClassName).each(pe)}).remove(),0!==ue.length){var He=le.selectAll("g."+c.groupClassName).data(ue,S);He.enter().append("g").classed(c.groupClassName,!0),He.exit().each(pe).remove();for(var ke=0;ke<ue.length;ke++)E(G,ue[ke]);He.each(function(Me){var we=p.select(this);(function F(Z){var G=Z._dims;G.labelSteps=[];for(var q=Z._stepCount,ie=0;ie<q;ie+=G.labelStride)G.labelSteps.push({fraction:ie/(q-1),step:Z._visibleSteps[ie]})})(Me),T.manageCommandObserver(G,Me,Me._visibleSteps,function(Le){var B=we.data()[0];B.active!==Le.index&&(B._dragging||$(G,we,B,Le.index,!1,!0))}),function x(Z,G,q){(q.steps[q.active]||{}).visible||(q.active=q._visibleSteps[0]._index),G.call(H,q).call(me,q).call(V,q).call(se,q).call(fe,Z,q).call(b,Z,q);var ie=q._dims;g.setTranslate(G,ie.lx+q.pad.l,ie.ly+q.pad.t),G.call(J,q,!1),G.call(H,q)}(G,p.select(this),Me)})}}},7544:function(ve,K,o){"use strict";var p=o(876);ve.exports={moduleType:"component",name:p.name,layoutAttributes:o(9861),supplyLayoutDefaults:o(8132),draw:o(9664)}},1668:function(ve,K,o){"use strict";var p=o(3428),T=o(8248),v=o(7316),g=o(4040),f=o(3400),y=f.strTranslate,m=o(3616),h=o(6308),c=o(2736),C=o(3448),_=o(4284).OPPOSITE_SIDE,L=/ [XY][0-9]* /;ve.exports={draw:function D(w,z,S){var G,E=S.propContainer,x=S.propName,H=S.placeholder,b=S.traceIndex,N=S.avoid||{},V=S.attributes,Y=S.transform,$=S.containerGroup,Q=w._fullLayout,se=1,F=!1,J=E.title,W=(J&&J.text?J.text:"").trim(),te=J&&J.font?J.font:{},fe=te.family,me=te.size,Z=te.color;"title.text"===x?G="titleText":-1!==x.indexOf("axis")?G="axisTitleText":x.indexOf(!0)&&(G="colorbarTitleText");var q=w._context.edits[G];""===W?se=0:W.replace(L," % ")===H.replace(L," % ")&&(se=.2,F=!0,q||(W="")),S._meta?W=f.templateString(W,S._meta):Q._meta&&(W=f.templateString(W,Q._meta));var ue,ie=W||q;$||($=f.ensureSingle(Q._infolayer,"g","g-"+z),ue=Q._hColorbarMoveTitle);var le=$.selectAll("text").data(ie?[0]:[]);if(le.enter().append("text"),le.text(W).attr("class",z),le.exit().remove(),!ie)return $;function pe(Me){f.syncOrAsync([He,ke],Me)}function He(Me){var we;return!Y&&ue&&(Y={}),Y?(we="",Y.rotate&&(we+="rotate("+[Y.rotate,V.x,V.y]+")"),(Y.offset||ue)&&(we+=y(0,(Y.offset||0)-(ue||0)))):we=null,Me.attr("transform",we),Me.style({"font-family":fe,"font-size":p.round(me,2)+"px",fill:h.rgb(Z),opacity:se*h.opacity(Z),"font-weight":v.fontWeight}).attr(V).call(c.convertToTspans,w),v.previousPromises(w)}function ke(Me){var we=p.select(Me.node().parentNode);if(N&&N.selection&&N.side&&W){we.attr("transform",null);var Le=_[N.side],B="left"===N.side||"top"===N.side?-1:1,P=T(N.pad)?N.pad:2,X=m.bBox(we.node()),j={t:0,b:0,l:0,r:0},I=w._fullLayout._reservedMargin;for(var ae in I)for(var O in I[ae])j[O]=Math.max(j[O],I[ae][O]);var ze=N.maxShift||B*({left:j.l,top:j.t,right:Q.width-j.r,bottom:Q.height-j.b}[N.side]-X[N.side]),Ne=0;if(ze<0)Ne=ze;else{var Oe=N.offsetLeft||0,Be=N.offsetTop||0;X.left-=Oe,X.right-=Oe,X.top-=Be,X.bottom-=Be,N.selection.each(function(){var Ve=m.bBox(this);f.bBoxIntersect(X,Ve,P)&&(Ne=Math.max(Ne,B*(Ve[N.side]-X[Le])+P))}),Ne=Math.min(ze,Ne),E._titleScoot=Math.abs(Ne)}if(Ne>0||ze<0){var Te={left:[-Ne,0],right:[Ne,0],top:[0,-Ne],bottom:[0,Ne]}[N.side];we.attr("transform",y(Te[0],Te[1]))}}}return le.call(pe),q&&(W?le.on(".opacity",null):function Ue(){se=0,F=!0,le.text(H).on("mouseover.opacity",function(){p.select(this).transition().duration(C.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){p.select(this).transition().duration(C.HIDE_PLACEHOLDER).style("opacity",0)})}(),le.call(c.makeEditable,{gd:w}).on("edit",function(Me){void 0!==b?g.call("_guiRestyle",w,x,Me,b):g.call("_guiRelayout",w,x,Me)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(pe)}).on("input",function(Me){this.text(Me||" ").call(c.positionText,V.x,V.y)})),le.classed("js-placeholder",F),$}}},8444:function(ve,K,o){"use strict";var p=o(5376),T=o(2548),v=o(2880).extendFlat,g=o(7824).overrideAll,f=o(6741),y=o(1780).templatedArray,m=y("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});ve.exports=g(y("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:m,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:v(f({editType:"arraydraw"}),{}),font:p({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:T.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},1331:function(ve){"use strict";ve.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25c4",right:"\u25ba",up:"\u25b2",down:"\u25bc"}}},1384:function(ve,K,o){"use strict";var p=o(3400),T=o(1272),v=o(8444),f=o(1331).name,y=v.buttons;function m(c,C,_){function L(z,S){return p.coerce(c,C,v,z,S)}L("visible",T(c,C,{name:"buttons",handleItemDefaults:h}).length>0)&&(L("active"),L("direction"),L("type"),L("showactive"),L("x"),L("y"),p.noneOrAll(c,C,["x","y"]),L("xanchor"),L("yanchor"),L("pad.t"),L("pad.r"),L("pad.b"),L("pad.l"),p.coerceFont(L,"font",_.font),L("bgcolor",_.paper_bgcolor),L("bordercolor"),L("borderwidth"))}function h(c,C){function _(D,w){return p.coerce(c,C,y,D,w)}_("visible","skip"===c.method||Array.isArray(c.args))&&(_("method"),_("args"),_("args2"),_("label"),_("execute"))}ve.exports=function(C,_){T(C,_,{name:f,handleItemDefaults:m})}},4420:function(ve,K,o){"use strict";var p=o(3428),T=o(7316),v=o(6308),g=o(3616),f=o(3400),y=o(2736),m=o(1780).arrayEditor,h=o(4284).LINE_SPACING,c=o(1331),C=o(7400);function _(W){return W._index}function D(W,te){return+W.attr(c.menuIndexAttrName)===te._index}function w(W,te,fe,me,Z,G,q,ie){te.active=q,m(W.layout,c.name,te).applyUpdate("active",q),"buttons"===te.type?S(W,me,null,null,te):"dropdown"===te.type&&(Z.attr(c.menuIndexAttrName,"-1"),z(W,me,Z,G,te),ie||S(W,me,Z,G,te))}function z(W,te,fe,me,Z){var G=f.ensureSingle(te,"g",c.headerClassName,function(ke){ke.style("pointer-events","all")}),q=Z._dims,le={y:Z.pad.t,yPad:0,x:Z.pad.l,xPad:0,index:0},pe={width:q.headerWidth,height:q.headerHeight};G.call(H,Z,Z.buttons[Z.active]||c.blankHeaderOpts,W).call(F,Z,le,pe),f.ensureSingle(te,"text",c.headerArrowClassName,function(ke){ke.attr("text-anchor","end").call(g.font,Z.font).text(c.arrowSymbol[Z.direction])}).attr({x:q.headerWidth-c.arrowOffsetX+Z.pad.l,y:q.headerHeight/2+c.textOffsetY+Z.pad.t}),G.on("click",function(){fe.call(J,String(D(fe,Z)?-1:Z._index)),S(W,te,fe,me,Z)}),G.on("mouseover",function(){G.call(Y)}),G.on("mouseout",function(){G.call($,Z)}),g.setTranslate(te,q.lx,q.ly)}function S(W,te,fe,me,Z){fe||(fe=te).attr("pointer-events","all");var G=function L(W){return-1==+W.attr(c.menuIndexAttrName)}(fe)&&"buttons"!==Z.type?[]:Z.buttons,q="dropdown"===Z.type?c.dropdownButtonClassName:c.buttonClassName,ie=fe.selectAll("g."+q).data(f.filterVisible(G)),ue=ie.enter().append("g").classed(q,!0),le=ie.exit();"dropdown"===Z.type?(ue.attr("opacity","0").transition().attr("opacity","1"),le.transition().attr("opacity","0").remove()):le.remove();var pe=0,He=0,ke=Z._dims,Ue=-1!==["up","down"].indexOf(Z.direction);"dropdown"===Z.type&&(Ue?He=ke.headerHeight+c.gapButtonHeader:pe=ke.headerWidth+c.gapButtonHeader),"dropdown"===Z.type&&"up"===Z.direction&&(He=-c.gapButtonHeader+c.gapButton-ke.openHeight),"dropdown"===Z.type&&"left"===Z.direction&&(pe=-c.gapButtonHeader+c.gapButton-ke.openWidth);var Me={x:ke.lx+pe+Z.pad.l,y:ke.ly+He+Z.pad.t,yPad:c.gapButton,xPad:c.gapButton,index:0},we={l:Me.x+Z.borderwidth,t:Me.y+Z.borderwidth};ie.each(function(Le,B){var P=p.select(this);P.call(H,Z,Le,W).call(F,Z,Me),P.on("click",function(){p.event.defaultPrevented||(Le.execute&&(Le.args2&&Z.active===B?(w(W,Z,0,te,fe,me,-1),T.executeAPICommand(W,Le.method,Le.args2)):(w(W,Z,0,te,fe,me,B),T.executeAPICommand(W,Le.method,Le.args))),W.emit("plotly_buttonclicked",{menu:Z,button:Le,active:Z.active}))}),P.on("mouseover",function(){P.call(Y)}),P.on("mouseout",function(){P.call($,Z),ie.call(V,Z)})}),ie.call(V,Z),Ue?(we.w=Math.max(ke.openWidth,ke.headerWidth),we.h=Me.y-we.t):(we.w=Me.x-we.l,we.h=Math.max(ke.openHeight,ke.headerHeight)),we.direction=Z.direction,me&&(ie.size()?function E(W,te,fe,me,Z,G){var pe,He,ke,q=Z.direction,ue=Z._dims,le=Z.active;if("up"===q||"down"===q)for(He=0,ke=0;ke<le;ke++)He+=ue.heights[ke]+c.gapButton;else for(pe=0,ke=0;ke<le;ke++)pe+=ue.widths[ke]+c.gapButton;me.enable(G,pe,He),me.hbar&&me.hbar.attr("opacity","0").transition().attr("opacity","1"),me.vbar&&me.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,me,Z,we):function x(W){var te=!!W.hbar,fe=!!W.vbar;te&&W.hbar.transition().attr("opacity","0").each("end",function(){te=!1,fe||W.disable()}),fe&&W.vbar.transition().attr("opacity","0").each("end",function(){fe=!1,te||W.disable()})}(me))}function H(W,te,fe,me){W.call(b,te).call(N,te,fe,me)}function b(W,te){f.ensureSingle(W,"rect",c.itemRectClassName,function(me){me.attr({rx:c.rx,ry:c.ry,"shape-rendering":"crispEdges"})}).call(v.stroke,te.bordercolor).call(v.fill,te.bgcolor).style("stroke-width",te.borderwidth+"px")}function N(W,te,fe,me){var Z=f.ensureSingle(W,"text",c.itemTextClassName,function(ie){ie.attr({"text-anchor":"start","data-notex":1})}),G=fe.label,q=me._fullLayout._meta;q&&(G=f.templateString(G,q)),Z.call(g.font,te.font).text(G).call(y.convertToTspans,me)}function V(W,te){var fe=te.active;W.each(function(me,Z){var G=p.select(this);Z===fe&&te.showactive&&G.select("rect."+c.itemRectClassName).call(v.fill,c.activeColor)})}function Y(W){W.select("rect."+c.itemRectClassName).call(v.fill,c.hoverColor)}function $(W,te){W.select("rect."+c.itemRectClassName).call(v.fill,te.bgcolor)}function Q(W,te){var fe=te._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},me=g.tester.selectAll("g."+c.dropdownButtonClassName).data(f.filterVisible(te.buttons));me.enter().append("g").classed(c.dropdownButtonClassName,!0);var Z=-1!==["up","down"].indexOf(te.direction);me.each(function(pe,He){var ke=p.select(this);ke.call(H,te,pe,W);var Ue=ke.select("."+c.itemTextClassName),Me=Ue.node()&&g.bBox(Ue.node()).width,we=Math.max(Me+c.textPadX,c.minWidth),Le=te.font.size*h,B=y.lineCount(Ue),P=Math.max(Le*B,c.minHeight)+c.textOffsetY;P=Math.ceil(P),we=Math.ceil(we),fe.widths[He]=we,fe.heights[He]=P,fe.height1=Math.max(fe.height1,P),fe.width1=Math.max(fe.width1,we),Z?(fe.totalWidth=Math.max(fe.totalWidth,we),fe.openWidth=fe.totalWidth,fe.totalHeight+=P+c.gapButton,fe.openHeight+=P+c.gapButton):(fe.totalWidth+=we+c.gapButton,fe.openWidth+=we+c.gapButton,fe.totalHeight=Math.max(fe.totalHeight,P),fe.openHeight=fe.totalHeight)}),Z?fe.totalHeight-=c.gapButton:fe.totalWidth-=c.gapButton,fe.headerWidth=fe.width1+c.arrowPadX,fe.headerHeight=fe.height1,"dropdown"===te.type&&(Z?(fe.width1+=c.arrowPadX,fe.totalHeight=fe.height1):fe.totalWidth=fe.width1,fe.totalWidth+=c.arrowPadX),me.remove();var G=fe.totalWidth+te.pad.l+te.pad.r,q=fe.totalHeight+te.pad.t+te.pad.b,ie=W._fullLayout._size;fe.lx=ie.l+ie.w*te.x,fe.ly=ie.t+ie.h*(1-te.y);var ue="left";f.isRightAnchor(te)&&(fe.lx-=G,ue="right"),f.isCenterAnchor(te)&&(fe.lx-=G/2,ue="center");var le="top";f.isBottomAnchor(te)&&(fe.ly-=q,le="bottom"),f.isMiddleAnchor(te)&&(fe.ly-=q/2,le="middle"),fe.totalWidth=Math.ceil(fe.totalWidth),fe.totalHeight=Math.ceil(fe.totalHeight),fe.lx=Math.round(fe.lx),fe.ly=Math.round(fe.ly),T.autoMargin(W,se(te),{x:te.x,y:te.y,l:G*({right:1,center:.5}[ue]||0),r:G*({left:1,center:.5}[ue]||0),b:q*({top:1,middle:.5}[le]||0),t:q*({bottom:1,middle:.5}[le]||0)})}function se(W){return c.autoMarginIdRoot+W._index}function F(W,te,fe,me){me=me||{};var Z=W.select("."+c.itemRectClassName),G=W.select("."+c.itemTextClassName),q=te.borderwidth,ie=fe.index,ue=te._dims;g.setTranslate(W,q+fe.x,q+fe.y);var le=-1!==["up","down"].indexOf(te.direction),pe=me.height||(le?ue.heights[ie]:ue.height1);Z.attr({x:0,y:0,width:me.width||(le?ue.width1:ue.widths[ie]),height:pe});var He=te.font.size*h,ke=y.lineCount(G);y.positionText(G,c.textOffsetX,pe/2-(ke-1)*He/2+c.textOffsetY),le?fe.y+=ue.heights[ie]+fe.yPad:fe.x+=ue.widths[ie]+fe.xPad,fe.index++}function J(W,te){W.attr(c.menuIndexAttrName,te||"-1").selectAll("g."+c.dropdownButtonClassName).remove()}ve.exports=function(te){var fe=te._fullLayout,me=f.filterVisible(fe[c.name]);function Z(ke){T.autoMargin(te,se(ke))}var G=fe._menulayer.selectAll("g."+c.containerClassName).data(me.length>0?[0]:[]);if(G.enter().append("g").classed(c.containerClassName,!0).style("cursor","pointer"),G.exit().each(function(){p.select(this).selectAll("g."+c.headerGroupClassName).each(Z)}).remove(),0!==me.length){var q=G.selectAll("g."+c.headerGroupClassName).data(me,_);q.enter().append("g").classed(c.headerGroupClassName,!0);for(var ie=f.ensureSingle(G,"g",c.dropdownButtonGroupClassName,function(ke){ke.style("pointer-events","all")}),ue=0;ue<me.length;ue++)Q(te,me[ue]);var He=new C(te,ie,"updatemenus"+fe._uid);q.enter().size()&&(ie.node().parentNode.appendChild(ie.node()),ie.call(J)),q.exit().each(function(ke){ie.call(J),Z(ke)}).remove(),q.each(function(ke){var Ue=p.select(this),Me="dropdown"===ke.type?ie:null;T.manageCommandObserver(te,ke,ke.buttons,function(we){w(te,ke,0,Ue,Me,He,we.index,!0)}),"dropdown"===ke.type?(z(te,Ue,ie,He,ke),D(ie,ke)&&S(te,Ue,ie,He,ke)):S(te,Ue,null,null,ke)})}}},6908:function(ve,K,o){"use strict";var p=o(1331);ve.exports={moduleType:"component",name:p.name,layoutAttributes:o(8444),supplyLayoutDefaults:o(1384),draw:o(4420)}},7400:function(ve,K,o){"use strict";ve.exports=f;var p=o(3428),T=o(6308),v=o(3616),g=o(3400);function f(y,m,h){this.gd=y,this.container=m,this.id=h,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}f.barWidth=2,f.barLength=20,f.barRadius=2,f.barPad=1,f.barColor="#808BA4",f.prototype.enable=function(m,h,c){var C=this.gd._fullLayout,_=C.width,L=C.height;this.position=m;var $,Q,se,F,D=this.position.l,w=this.position.w,z=this.position.t,S=this.position.h,E=this.position.direction,x="down"===E,H="left"===E,N="up"===E,V=w,Y=S;!x&&!H&&!("right"===E)&&!N&&(this.position.direction="down",x=!0),x||N?(Q=($=D)+V,x?(se=z,Y=(F=Math.min(se+Y,L))-se):Y=(F=z+Y)-(se=Math.max(F-Y,0))):(F=(se=z)+Y,H?V=(Q=D+V)-($=Math.max(Q-V,0)):($=D,V=(Q=Math.min($+V,_))-$)),this._box={l:$,t:se,w:V,h:Y};var W=w>V,te=f.barLength+2*f.barPad,fe=f.barWidth+2*f.barPad,me=D,Z=z+S;Z+fe>L&&(Z=L-fe);var G=this.container.selectAll("rect.scrollbar-horizontal").data(W?[0]:[]);G.exit().on(".drag",null).remove(),G.enter().append("rect").classed("scrollbar-horizontal",!0).call(T.fill,f.barColor),W?(this.hbar=G.attr({rx:f.barRadius,ry:f.barRadius,x:me,y:Z,width:te,height:fe}),this._hbarXMin=me+te/2,this._hbarTranslateMax=V-te):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var q=S>Y,ie=f.barWidth+2*f.barPad,ue=f.barLength+2*f.barPad,le=D+w,pe=z;le+ie>_&&(le=_-ie);var He=this.container.selectAll("rect.scrollbar-vertical").data(q?[0]:[]);He.exit().on(".drag",null).remove(),He.enter().append("rect").classed("scrollbar-vertical",!0).call(T.fill,f.barColor),q?(this.vbar=He.attr({rx:f.barRadius,ry:f.barRadius,x:le,y:pe,width:ie,height:ue}),this._vbarYMin=pe+ue/2,this._vbarTranslateMax=Y-ue):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var ke=this.id,Ue=$-.5,Me=q?Q+ie+.5:Q+.5,we=se-.5,Le=W?F+fe+.5:F+.5,B=C._topdefs.selectAll("#"+ke).data(W||q?[0]:[]);if(B.exit().remove(),B.enter().append("clipPath").attr("id",ke).append("rect"),W||q?(this._clipRect=B.select("rect").attr({x:Math.floor(Ue),y:Math.floor(we),width:Math.ceil(Me)-Math.floor(Ue),height:Math.ceil(Le)-Math.floor(we)}),this.container.call(v.setClipUrl,ke,this.gd),this.bg.attr({x:D,y:z,width:w,height:S})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(v.setClipUrl,null),delete this._clipRect),W||q){var P=p.behavior.drag().on("dragstart",function(){p.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(P);var X=p.behavior.drag().on("dragstart",function(){p.event.sourceEvent.preventDefault(),p.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));W&&this.hbar.on(".drag",null).call(X),q&&this.vbar.on(".drag",null).call(X)}this.setTranslate(h,c)},f.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(v.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},f.prototype._onBoxDrag=function(){var m=this.translateX,h=this.translateY;this.hbar&&(m-=p.event.dx),this.vbar&&(h-=p.event.dy),this.setTranslate(m,h)},f.prototype._onBoxWheel=function(){var m=this.translateX,h=this.translateY;this.hbar&&(m+=p.event.deltaY),this.vbar&&(h+=p.event.deltaY),this.setTranslate(m,h)},f.prototype._onBarDrag=function(){var m=this.translateX,h=this.translateY;if(this.hbar){var c=m+this._hbarXMin,C=c+this._hbarTranslateMax;m=(g.constrain(p.event.x,c,C)-c)/(C-c)*(this.position.w-this._box.w)}if(this.vbar){var w=h+this._vbarYMin,z=w+this._vbarTranslateMax;h=(g.constrain(p.event.y,w,z)-w)/(z-w)*(this.position.h-this._box.h)}this.setTranslate(m,h)},f.prototype.setTranslate=function(m,h){var c=this.position.w-this._box.w,C=this.position.h-this._box.h;m=g.constrain(m||0,0,c),h=g.constrain(h||0,0,C),this.translateX=m,this.translateY=h,this.container.call(v.setTranslate,this._box.l-this.position.l-m,this._box.t-this.position.t-h),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+m-.5),y:Math.floor(this.position.t+h-.5)}),this.hbar&&this.hbar.call(v.setTranslate,m+m/c*this._hbarTranslateMax,h),this.vbar&&this.vbar.call(v.setTranslate,m,h+h/C*this._vbarTranslateMax)}},4284:function(ve){"use strict";ve.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},6208:function(ve){"use strict";ve.exports={axisRefDescription:function(K,o,p){return["If set to a",K,"axis id (e.g. *"+K+"* or","*"+K+"2*), the `"+K+"` position refers to a",K,"coordinate. If set to *paper*, the `"+K+"`","position refers to the distance from the",o,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",o,"("+p+"). If set to a",K,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",o,"of the domain of that axis: e.g.,","*"+K+"2 domain* refers to the domain of the second",K," axis and a",K,"position of 0.5 refers to the","point between the",o,"and the",p,"of the domain of the","second",K,"axis."].join(" ")}}},6880:function(ve){"use strict";ve.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},9104:function(ve){"use strict";ve.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},3448:function(ve){"use strict";ve.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},9032:function(ve){"use strict";ve.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},9616:function(ve,K){"use strict";K.xmlns="http://www.w3.org/2000/xmlns/",K.svg="http://www.w3.org/2000/svg",K.xlink="http://www.w3.org/1999/xlink",K.svgAttrs={xmlns:K.svg,"xmlns:xlink":K.xlink}},4884:function(ve,K,o){"use strict";K.version=o(5788).version,o(8324),o(9288);for(var p=o(4040),T=K.register=p.register,v=o(2448),g=Object.keys(v),f=0;f<g.length;f++){var y=g[f];"_"!==y.charAt(0)&&(K[y]=v[y]),T({moduleType:"apiMethod",name:y,fn:v[y]})}T(o(5875)),T([o(9180),o(6864),o(2676),o(1592),o(7402),o(6908),o(7544),o(9692),o(1152),o(2704),o(4968),o(8932),o(5080),o(2780),o(3024),o(3080)]),T([o(6580),o(1680)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(T(window.PlotlyLocales),delete window.PlotlyLocales),K.Icons=o(9224);var m=o(3024),h=o(7316);K.Plots={resize:h.resize,graphJson:h.graphJson,sendDataToCloud:h.sendDataToCloud},K.Fx={hover:m.hover,unhover:m.unhover,loneHover:m.loneHover,loneUnhover:m.loneUnhover},K.Snapshot=o(8904),K.PlotSchema=o(3060)},9224:function(ve){"use strict";ve.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},8308:function(ve,K){"use strict";K.isLeftAnchor=function(p){return"left"===p.xanchor||"auto"===p.xanchor&&p.x<=.3333333333333333},K.isCenterAnchor=function(p){return"center"===p.xanchor||"auto"===p.xanchor&&p.x>.3333333333333333&&p.x<.6666666666666666},K.isRightAnchor=function(p){return"right"===p.xanchor||"auto"===p.xanchor&&p.x>=.6666666666666666},K.isTopAnchor=function(p){return"top"===p.yanchor||"auto"===p.yanchor&&p.y>=.6666666666666666},K.isMiddleAnchor=function(p){return"middle"===p.yanchor||"auto"===p.yanchor&&p.y>.3333333333333333&&p.y<.6666666666666666},K.isBottomAnchor=function(p){return"bottom"===p.yanchor||"auto"===p.yanchor&&p.y<=.3333333333333333}},1864:function(ve,K,o){"use strict";var p=o(435),T=p.mod,v=p.modHalf,g=Math.PI,f=2*g;function h(E){return Math.abs(E[1]-E[0])>f-1e-14}function c(E,x){return v(x-E,f)}function _(E,x){if(h(x))return!0;var H,b;x[0]<x[1]?(H=x[0],b=x[1]):(H=x[1],b=x[0]),(H=T(H,f))>(b=T(b,f))&&(b+=f);var N=T(E,f),V=N+f;return N>=H&&N<=b||V>=H&&V<=b}function D(E,x,H,b,N,V,Y){N=N||0,V=V||0;var Q,se,F,J,W,$=h([H,b]);function te(G,q){return[G*Math.cos(q)+N,V-G*Math.sin(q)]}$?(Q=0,se=g,F=f):H<b?(Q=H,F=b):(Q=b,F=H),E<x?(J=E,W=x):(J=x,W=E);var Z,fe=Math.abs(F-Q)<=g?0:1;function me(G,q,ie){return"A"+[G,G]+" "+[0,fe,ie]+" "+te(G,q)}return $?Z=null===J?"M"+te(W,Q)+me(W,se,0)+me(W,F,0)+"Z":"M"+te(J,Q)+me(J,se,0)+me(J,F,0)+"ZM"+te(W,Q)+me(W,se,1)+me(W,F,1)+"Z":null===J?(Z="M"+te(W,Q)+me(W,F,0),Y&&(Z+="L0,0Z")):Z="M"+te(J,Q)+"L"+te(W,Q)+me(W,F,0)+"L"+te(J,F)+me(J,Q,1)+"Z",Z}ve.exports={deg2rad:function y(E){return E/180*g},rad2deg:function m(E){return E/g*180},angleDelta:c,angleDist:function C(E,x){return Math.abs(c(E,x))},isFullCircle:h,isAngleInsideSector:_,isPtInsideSector:function L(E,x,H,b){return!!_(x,b)&&(H[0]<H[1]?(N=H[0],V=H[1]):(N=H[1],V=H[0]),E>=N&&E<=V);var N,V},pathArc:function w(E,x,H,b,N){return D(null,E,x,H,b,N,0)},pathSector:function z(E,x,H,b,N){return D(null,E,x,H,b,N,1)},pathAnnulus:function S(E,x,H,b,N,V){return D(E,x,H,b,N,V,1)}}},8116:function(ve,K,o){"use strict";var p=o(3160).decode,T=o(3620),v=Array.isArray,g=ArrayBuffer,f=DataView;function y(D){return g.isView(D)&&!(D instanceof f)}function m(D){return v(D)||y(D)}K.isTypedArray=y,K.isArrayOrTypedArray=m,K.isArray1D=function h(D){return!m(D[0])},K.ensureArray=function(D,w){return v(D)||(D=[]),D.length=w,D};var c={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};function C(D){return D.constructor===ArrayBuffer}function L(D,w,z){if(m(D)){if(m(D[0])){for(var S=z,E=0;E<D.length;E++)S=w(S,D[E].length);return S}return D.length}return 0}c.uint8c=c.u1c,c.uint8=c.u1,c.int8=c.i1,c.uint16=c.u2,c.int16=c.i2,c.uint32=c.u4,c.int32=c.i4,c.float32=c.f4,c.float64=c.f8,K.isArrayBuffer=C,K.decodeTypedArraySpec=function(D){var w=[],z=function _(D){return{bdata:D.bdata,dtype:D.dtype,shape:D.shape}}(D),S=z.dtype,E=c[S];if(!E)throw new Error('Error in dtype: "'+S+'"');var x=E.BYTES_PER_ELEMENT,H=z.bdata;C(H)||(H=p(H));var b=void 0===z.shape?[H.byteLength/x]:(""+z.shape).split(",");b.reverse();var V,Y,N=b.length,$=+b[0],Q=x*$,se=0;if(1===N)w=new E(H);else if(2===N)for(V=+b[1],Y=0;Y<V;Y++)w[Y]=new E(H,se,$),se+=Q;else{if(3!==N)throw new Error("ndim: "+N+'is not supported with the shape:"'+z.shape+'"');V=+b[1];for(var F=+b[2],J=0;J<F;J++)for(w[J]=[],Y=0;Y<V;Y++)w[J][Y]=new E(H,se,$),se+=Q}return w.bdata=z.bdata,w.dtype=z.dtype,w.shape=b.reverse().join(","),D._inputArray=w,w},K.isTypedArraySpec=function(D){return T(D)&&D.hasOwnProperty("dtype")&&"string"==typeof D.dtype&&D.hasOwnProperty("bdata")&&("string"==typeof D.bdata||C(D.bdata))&&(void 0===D.shape||D.hasOwnProperty("shape")&&("string"==typeof D.shape||"number"==typeof D.shape))},K.concat=function(){var S,E,x,H,b,N,V,Y,D=[],w=!0,z=0;for(x=0;x<arguments.length;x++)(N=(H=arguments[x]).length)&&(E?D.push(H):(E=H,b=N),v(H)?S=!1:(w=!1,z?S!==H.constructor&&(S=!1):S=H.constructor),z+=N);if(!z)return[];if(!D.length)return E;if(w)return E.concat.apply(E,D);if(S){for((V=new S(z)).set(E),x=0;x<D.length;x++)V.set(H=D[x],b),b+=H.length;return V}for(V=new Array(z),Y=0;Y<E.length;Y++)V[Y]=E[Y];for(x=0;x<D.length;x++){for(H=D[x],Y=0;Y<H.length;Y++)V[b+Y]=H[Y];b+=Y}return V},K.maxRowLength=function(D){return L(D,Math.max,0)},K.minRowLength=function(D){return L(D,Math.min,1/0)}},4037:function(ve,K,o){"use strict";var p=o(8248),T=o(9032).BADNUM,v=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;ve.exports=function(f){return"string"==typeof f&&(f=f.replace(v,"")),p(f)?Number(f):T}},3696:function(ve){"use strict";ve.exports=function(o){var p=o._fullLayout;p._glcanvas&&p._glcanvas.size()&&p._glcanvas.each(function(T){T.regl&&T.regl.clear({color:!0,depth:!0})})}},5352:function(ve){"use strict";ve.exports=function(o){o._responsiveChartHandler&&(window.removeEventListener("resize",o._responsiveChartHandler),delete o._responsiveChartHandler)}},3064:function(ve,K,o){"use strict";var p=o(8248),T=o(9760),v=o(5464),g=o(8304),f=o(6308),y=o(3448).DESELECTDIM,m=o(2296),h=o(3756).counter,c=o(435).modHalf,C=o(8116).isArrayOrTypedArray,_=o(8116).isTypedArraySpec,L=o(8116).decodeTypedArraySpec;function D(w,z){var S=K.valObjectMeta[z.valType];if(z.arrayOk&&C(w))return!0;if(S.validateFunction)return S.validateFunction(w,z);var E={},x=E;return S.coerceFunction(w,{set:function(b){x=b}},E,z),x!==E}K.valObjectMeta={data_array:{coerceFunction:function(w,z,S){z.set(C(w)?w:_(w)?L(w):S)}},enumerated:{coerceFunction:function(w,z,S,E){E.coerceNumber&&(w=+w),-1===E.values.indexOf(w)?z.set(S):z.set(w)},validateFunction:function(w,z){z.coerceNumber&&(w=+w);for(var S=z.values,E=0;E<S.length;E++){var x=String(S[E]);if("/"===x.charAt(0)&&"/"===x.charAt(x.length-1)){if(new RegExp(x.substr(1,x.length-2)).test(w))return!0}else if(w===S[E])return!0}return!1}},boolean:{coerceFunction:function(w,z,S){z.set(!0===w||!1===w?w:S)}},number:{coerceFunction:function(w,z,S,E){!p(w)||void 0!==E.min&&w<E.min||void 0!==E.max&&w>E.max?z.set(S):z.set(+w)}},integer:{coerceFunction:function(w,z,S,E){w%1||!p(w)||void 0!==E.min&&w<E.min||void 0!==E.max&&w>E.max?z.set(S):z.set(+w)}},string:{coerceFunction:function(w,z,S,E){z.set("string"!=typeof w?!0!==E.strict&&"number"==typeof w?String(w):S:E.noBlank&&!w?S:w)}},color:{coerceFunction:function(w,z,S){T(w).isValid()?z.set(w):z.set(S)}},colorlist:{coerceFunction:function(w,z,S){Array.isArray(w)&&w.length&&w.every(function E(x){return T(x).isValid()})?z.set(w):z.set(S)}},colorscale:{coerceFunction:function(w,z,S){z.set(g.get(w,S))}},angle:{coerceFunction:function(w,z,S){"auto"===w?z.set("auto"):p(w)?z.set(c(+w,360)):z.set(S)}},subplotid:{coerceFunction:function(w,z,S,E){var x=E.regex||h(S);"string"==typeof w&&x.test(w)?z.set(w):z.set(S)},validateFunction:function(w,z){var S=z.dflt;return w===S||"string"==typeof w&&!!h(S).test(w)}},flaglist:{coerceFunction:function(w,z,S,E){if(-1===(E.extras||[]).indexOf(w))if("string"==typeof w){for(var x=w.split("+"),H=0;H<x.length;){var b=x[H];-1===E.flags.indexOf(b)||x.indexOf(b)<H?x.splice(H,1):H++}z.set(x.length?x.join("+"):S)}else z.set(S);else z.set(w)}},any:{coerceFunction:function(w,z,S){z.set(void 0===w?S:_(w)?L(w):w)}},info_array:{coerceFunction:function(w,z,S,E){function x(me,Z,G){var q;return void 0===G&&(G=Z.dflt),K.valObjectMeta[Z.valType].coerceFunction(me,{set:function(ue){q=ue}},G,Z),q}if(_(w)&&(w=L(w)),C(w)){var se,F,J,te,fe,H=2===E.dimensions||"1-2"===E.dimensions&&Array.isArray(w)&&C(w[0]),b=E.items,N=[],V=Array.isArray(b),Y=V&&H&&C(b[0]),$=H&&V&&!Y,Q=V&&!$?b.length:w.length;if(S=Array.isArray(S)?S:[],H)for(se=0;se<Q;se++)for(N[se]=[],J=C(w[se])?w[se]:[],te=$?b.length:V?b[se].length:J.length,F=0;F<te;F++)void 0!==(fe=x(J[F],$?b[F]:V?b[se][F]:b,(S[se]||[])[F]))&&(N[se][F]=fe);else for(se=0;se<Q;se++)void 0!==(fe=x(w[se],V?b[se]:b,S[se]))&&(N[se]=fe);z.set(N)}else z.set(S)},validateFunction:function(w,z){if(!C(w))return!1;var S=z.items,E=Array.isArray(S),x=2===z.dimensions;if(!z.freeLength&&w.length!==S.length)return!1;for(var H=0;H<w.length;H++)if(x){if(!C(w[H])||!z.freeLength&&w[H].length!==S[H].length)return!1;for(var b=0;b<w[H].length;b++)if(!D(w[H][b],E?S[H][b]:S))return!1}else if(!D(w[H],E?S[H]:S))return!1;return!0}}},K.coerce=function(w,z,S,E,x){var H=m(S,E).get(),b=m(w,E),N=m(z,E),V=b.get(),Y=z._template;if(void 0===V&&Y&&(V=m(Y,E).get(),Y=0),void 0===x&&(x=H.dflt),H.arrayOk){if(C(V))return N.set(V),V;if(_(V))return V=L(V),N.set(V),V}var $=K.valObjectMeta[H.valType].coerceFunction;$(V,N,x,H);var Q=N.get();return Y&&Q===x&&!D(V,H)&&($(V=m(Y,E).get(),N,x,H),Q=N.get()),Q},K.coerce2=function(w,z,S,E,x){var H=m(w,E),b=K.coerce(w,z,S,E,x);return null!=H.get()&&b},K.coerceFont=function(w,z,S){var E={};return E.family=w(z+".family",(S=S||{}).family),E.size=w(z+".size",S.size),E.color=w(z+".color",S.color),E},K.coercePattern=function(w,z,S,E){if(w(z+".shape")){w(z+".solidity"),w(z+".size");var b="overlay"===w(z+".fillmode");if(!E){var N=w(z+".bgcolor",b?S:void 0);w(z+".fgcolor",b?f.contrast(N):S)}w(z+".fgopacity",b?.5:1)}},K.coerceHoverinfo=function(w,z,S){var b,E=z._module.attributes,x=E.hoverinfo?E:v,H=x.hoverinfo;if(1===S._dataLength){var N="all"===H.dflt?H.flags.slice():H.dflt.split("+");N.splice(N.indexOf("name"),1),b=N.join("+")}return K.coerce(w,z,x,"hoverinfo",b)},K.coerceSelectionMarkerOpacity=function(w,z){if(w.marker){var E,x,S=w.marker.opacity;void 0!==S&&(!C(S)&&!w.selected&&!w.unselected&&(E=S,x=y*S),z("selected.marker.opacity",E),z("unselected.marker.opacity",x))}},K.validate=D},7555:function(ve,K,o){"use strict";var H,b,p=o(4336).Yn,T=o(8248),v=o(4248),g=o(435).mod,f=o(9032),y=f.BADNUM,m=f.ONEDAY,h=f.ONEHOUR,c=f.ONEMIN,C=f.ONESEC,_=f.EPOCHJD,L=o(4040),D=o(4336).E9,w=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,z=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,S=(new Date).getFullYear()-70;function E(Z){return Z&&L.componentsRegistry.calendars&&"string"==typeof Z&&"gregorian"!==Z}function N(Z,G){return String(Z+Math.pow(10,G)).substr(1)}K.dateTick0=function(Z,G){var q=function x(Z,G){return E(Z)?G?L.getComponentMethod("calendars","CANONICAL_SUNDAY")[Z]:L.getComponentMethod("calendars","CANONICAL_TICK")[Z]:G?"2000-01-02":"2000-01-01"}(Z,!!G);if(G<2)return q;var ie=K.dateTime2ms(q,Z);return K.ms2DateTime(ie+=m*(G-1),0,Z)},K.dfltRange=function(Z){return E(Z)?L.getComponentMethod("calendars","DFLTRANGE")[Z]:["2000-01-01","2001-01-01"]},K.isJSDate=function(Z){return"object"==typeof Z&&null!==Z&&"function"==typeof Z.getTime},K.dateTime2ms=function(Z,G){if(K.isJSDate(Z)){var q=Z.getTimezoneOffset()*c,ie=(Z.getUTCMinutes()-Z.getMinutes())*c+(Z.getUTCSeconds()-Z.getSeconds())*C+(Z.getUTCMilliseconds()-Z.getMilliseconds());if(ie){var ue=3*c;q=q-ue/2+g(ie-q+ue/2,ue)}return(Z=Number(Z)-q)>=H&&Z<=b?Z:y}if("string"!=typeof Z&&"number"!=typeof Z)return y;Z=String(Z);var le=E(G),pe=Z.charAt(0);le&&("G"===pe||"g"===pe)&&(Z=Z.substr(1),G="");var He=le&&"chinese"===G.substr(0,7),ke=Z.match(He?z:w);if(!ke)return y;var Ue=ke[1],Me=ke[3]||"1",we=Number(ke[5]||1),Le=Number(ke[7]||0),B=Number(ke[9]||0),P=Number(ke[11]||0);if(le){if(2===Ue.length)return y;var X;Ue=Number(Ue);try{var j=L.getComponentMethod("calendars","getCal")(G);if(He){var I="i"===Me.charAt(Me.length-1);Me=parseInt(Me,10),X=j.newDate(Ue,j.toMonthIndex(Ue,Me,I),we)}else X=j.newDate(Ue,Number(Me),we)}catch{return y}return X?(X.toJD()-_)*m+Le*h+B*c+P*C:y}Ue=2===Ue.length?(Number(Ue)+2e3-S)%100+S:Number(Ue),Me-=1;var ae=new Date(Date.UTC(2e3,Me,we,Le,B));return ae.setUTCFullYear(Ue),ae.getUTCMonth()!==Me||ae.getUTCDate()!==we?y:ae.getTime()+P*C},H=K.MIN_MS=K.dateTime2ms("-9999"),b=K.MAX_MS=K.dateTime2ms("9999-12-31 23:59:59.9999"),K.isDateTime=function(Z,G){return K.dateTime2ms(Z,G)!==y};var V=90*m,Y=3*h,$=5*c;function Q(Z,G,q,ie,ue){if((G||q||ie||ue)&&(Z+=" "+N(G,2)+":"+N(q,2),(ie||ue)&&(Z+=":"+N(ie,2),ue))){for(var le=4;ue%10==0;)le-=1,ue/=10;Z+="."+N(ue,le)}return Z}K.ms2DateTime=function(Z,G,q){if("number"!=typeof Z||!(Z>=H&&Z<=b))return y;G||(G=0);var le,pe,He,ke,Ue,Me,ie=Math.floor(10*g(Z+.05,1)),ue=Math.round(Z-ie/10);if(E(q)){var we=Math.floor(ue/m)+_,Le=Math.floor(g(Z,m));try{le=L.getComponentMethod("calendars","getCal")(q).fromJD(we).formatDate("yyyy-mm-dd")}catch{le=D("G%Y-%m-%d")(new Date(ue))}if("-"===le.charAt(0))for(;le.length<11;)le="-0"+le.substr(1);else for(;le.length<10;)le="0"+le;pe=G<V?Math.floor(Le/h):0,He=G<V?Math.floor(Le%h/c):0,ke=G<Y?Math.floor(Le%c/C):0,Ue=G<$?Le%C*10+ie:0}else Me=new Date(ue),le=D("%Y-%m-%d")(Me),pe=G<V?Me.getUTCHours():0,He=G<V?Me.getUTCMinutes():0,ke=G<Y?Me.getUTCSeconds():0,Ue=G<$?10*Me.getUTCMilliseconds()+ie:0;return Q(le,pe,He,ke,Ue)},K.ms2DateTimeLocal=function(Z){if(!(Z>=H+m&&Z<=b-m))return y;var G=Math.floor(10*g(Z+.05,1)),q=new Date(Math.round(Z-G/10));return Q(p("%Y-%m-%d")(q),q.getHours(),q.getMinutes(),q.getSeconds(),10*q.getUTCMilliseconds()+G)},K.cleanDate=function(Z,G,q){if(Z===y)return G;if(K.isJSDate(Z)||"number"==typeof Z&&isFinite(Z)){if(E(q))return v.error("JS Dates and milliseconds are incompatible with world calendars",Z),G;if(!(Z=K.ms2DateTimeLocal(+Z))&&void 0!==G)return G}else if(!K.isDateTime(Z,q))return v.error("unrecognized date",Z),G;return Z};var se=/%\d?f/g,F=/%h/g,J={1:"1",2:"1",3:"2",4:"2"};function W(Z,G,q,ie){Z=Z.replace(se,function(le){var pe=Math.min(+le.charAt(1)||6,6);return(G/1e3%1+2).toFixed(pe).substr(2).replace(/0+$/,"")||"0"});var ue=new Date(Math.floor(G+.05));if(Z=Z.replace(F,function(){return J[q("%q")(ue)]}),E(ie))try{Z=L.getComponentMethod("calendars","worldCalFmt")(Z,G,ie)}catch{return"Invalid"}return q(Z)(ue)}var te=[59,59.9,59.99,59.999,59.9999];K.formatDate=function(Z,G,q,ie,ue,le){if(ue=E(ue)&&ue,!G)if("y"===q)G=le.year;else if("m"===q)G=le.month;else{if("d"!==q)return function fe(Z,G){var q=g(Z+.05,m),ie=N(Math.floor(q/h),2)+":"+N(g(Math.floor(q/c),60),2);if("M"!==G){T(G)||(G=0);var le=(100+Math.min(g(Z/C,60),te[G])).toFixed(G).substr(1);G>0&&(le=le.replace(/0+$/,"").replace(/[\.]$/,"")),ie+=":"+le}return ie}(Z,q)+"\n"+W(le.dayMonthYear,Z,ie,ue);G=le.dayMonth+"\n"+le.year}return W(G,Z,ie,ue)};var me=3*m;K.incrementMonth=function(Z,G,q){q=E(q)&&q;var ie=g(Z,m);if(Z=Math.round(Z-ie),q)try{var ue=Math.round(Z/m)+_,le=L.getComponentMethod("calendars","getCal")(q),pe=le.fromJD(ue);return G%12?le.add(pe,G,"m"):le.add(pe,G/12,"y"),(pe.toJD()-_)*m+ie}catch{v.error("invalid ms "+Z+" in calendar "+q)}var He=new Date(Z+me);return He.setUTCMonth(He.getUTCMonth()+G)+ie-me},K.findExactDates=function(Z,G){for(var pe,He,q=0,ie=0,ue=0,le=0,ke=E(G)&&L.getComponentMethod("calendars","getCal")(G),Ue=0;Ue<Z.length;Ue++)if(T(He=Z[Ue])){if(!(He%m))if(ke)try{1===(pe=ke.fromJD(He/m+_)).day()?1===pe.month()?q++:ie++:ue++}catch{}else 1===(pe=new Date(He)).getUTCDate()?0===pe.getUTCMonth()?q++:ie++:ue++}else le++;var Me=Z.length-le;return{exactYears:q/Me,exactMonths:(ie+=q)/Me,exactDays:(ue+=ie)/Me}}},2200:function(ve,K,o){"use strict";var p=o(3428),T=o(4248),v=o(2248),g=o(6524);function m(S){var E=S&&S.parentNode;E&&E.removeChild(S)}function c(S,E,x){var H="plotly.js-style-"+S,b=document.getElementById(H);b||((b=document.createElement("style")).setAttribute("id",H),b.appendChild(document.createTextNode("")),document.head.appendChild(b));var N=b.sheet;N.insertRule?N.insertRule(E+"{"+x+"}",0):N.addRule?N.addRule(E,x,0):T.warn("addStyleRule failed")}function L(S){var E=window.getComputedStyle(S,null),x=E.getPropertyValue("-webkit-transform")||E.getPropertyValue("-moz-transform")||E.getPropertyValue("-ms-transform")||E.getPropertyValue("-o-transform")||E.getPropertyValue("transform");return"none"===x?null:x.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(H){return+H})}function D(S){for(var E=[];w(S);)E.push(S),S=S.parentNode;return E}function w(S){return S&&(S instanceof Element||S instanceof HTMLElement)}ve.exports={getGraphDiv:function f(S){var E;if("string"==typeof S){if(null===(E=document.getElementById(S)))throw new Error("No DOM element with id '"+S+"' exists on the page.");return E}if(null==S)throw new Error("DOM element provided is null or undefined");return S},isPlotDiv:function y(S){var E=p.select(S);return E.node()instanceof HTMLElement&&E.size()&&E.classed("js-plotly-plot")},removeElement:m,addStyleRule:function h(S,E){c("global",S,E)},addRelatedStyleRule:c,deleteRelatedStyleRule:function C(S){var x=document.getElementById("plotly.js-style-"+S);x&&m(x)},getFullTransformMatrix:function _(S){var E=D(S),x=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return E.forEach(function(H){var b=L(H);if(b){var N=v.convertCssMatrix(b);x=g.multiply(x,x,N)}}),x},getElementTransformMatrix:L,getElementAndAncestors:D,equalDomRects:function z(S,E){return S&&E&&S.top===E.top&&S.left===E.left&&S.right===E.right&&S.bottom===E.bottom}}},5924:function(ve,K,o){"use strict";var p=o(1252).EventEmitter;ve.exports={init:function(v){if(v._ev instanceof p)return v;var g=new p,f=new p;return v._ev=g,v._internalEv=f,v.on=g.on.bind(g),v.once=g.once.bind(g),v.removeListener=g.removeListener.bind(g),v.removeAllListeners=g.removeAllListeners.bind(g),v._internalOn=f.on.bind(f),v._internalOnce=f.once.bind(f),v._removeInternalListener=f.removeListener.bind(f),v._removeAllInternalListeners=f.removeAllListeners.bind(f),v.emit=function(y,m){typeof jQuery<"u"&&jQuery(v).trigger(y,m),g.emit(y,m),f.emit(y,m)},v},triggerHandler:function(v,g,f){var y,m;typeof jQuery<"u"&&(y=jQuery(v).triggerHandler(g,f));var h=v._ev;if(!h)return y;var _,c=h._events[g];if(!c)return y;function C(L){return L.listener?(h.removeListener(g,L.listener),L.fired?void 0:(L.fired=!0,L.listener.apply(h,[f]))):L.apply(h,[f])}for(c=Array.isArray(c)?c:[c],_=0;_<c.length-1;_++)C(c[_]);return m=C(c[_]),void 0!==y?y:m},purge:function(v){return delete v._ev,delete v.on,delete v.once,delete v.removeListener,delete v.removeAllListeners,delete v.emit,delete v._ev,delete v._internalEv,delete v._internalOn,delete v._internalOnce,delete v._removeInternalListener,delete v._removeAllInternalListeners,v}}},2880:function(ve,K,o){"use strict";var p=o(3620),T=Array.isArray;function g(f,y,m,h){var _,L,D,w,z,S,c=f[0],C=f.length;if(2===C&&T(c)&&T(f[1])&&0===c.length){if(function v(f,y){var m,h;for(m=0;m<f.length;m++){if(null!==(h=f[m])&&"object"==typeof h)return!1;void 0!==h&&(y[m]=h)}return!0}(f[1],c))return c;c.splice(0,c.length)}for(var x=1;x<C;x++)for(L in _=f[x])D=c[L],w=_[L],h&&T(w)?c[L]=w:y&&w&&(p(w)||(z=T(w)))?(z?(z=!1,S=D&&T(D)?D:[]):S=D&&p(D)?D:{},c[L]=g([S,w],y,m,h)):(typeof w<"u"||m)&&(c[L]=w);return c}K.extendFlat=function(){return g(arguments,!1,!1,!1)},K.extendDeep=function(){return g(arguments,!0,!1,!1)},K.extendDeepAll=function(){return g(arguments,!0,!0,!1)},K.extendDeepNoArrays=function(){return g(arguments,!0,!1,!0)}},8944:function(ve){"use strict";ve.exports=function(o){for(var p={},T=[],v=0,g=0;g<o.length;g++){var f=o[g];1!==p[f]&&(p[f]=1,T[v++]=f)}return T}},3880:function(ve){"use strict";function K(T){return!0===T.visible}function o(T){var v=T[0].trace;return!0===v.visible&&0!==v._length}ve.exports=function(v){for(var g=function p(T){return Array.isArray(T)&&Array.isArray(T[0])&&T[0][0]&&T[0][0].trace}(v)?o:K,f=[],y=0;y<v.length;y++){var m=v[y];g(m)&&f.push(m)}return f}},2348:function(ve,K,o){"use strict";var g,f,y,p=o(435).mod;function T(m,h,c,C,_,L,D,w){var z=c-m,S=_-m,E=D-_,x=C-h,H=L-h,b=w-L,N=z*b-E*x;if(0===N)return null;var V=(S*b-E*H)/N,Y=(S*x-z*H)/N;return Y<0||Y>1||V<0||V>1?null:{x:m+z*V,y:h+x*V}}function v(m,h,c,C,_){var L=C*m+_*h;if(L<0)return C*C+_*_;if(L>c){var D=C-m,w=_-h;return D*D+w*w}var z=C*h-_*m;return z*z/c}K.segmentsIntersect=T,K.segmentDistance=function(h,c,C,_,L,D,w,z){if(T(h,c,C,_,L,D,w,z))return 0;var S=C-h,E=_-c,x=w-L,H=z-D,b=S*S+E*E,N=x*x+H*H,V=Math.min(v(S,E,b,L-h,D-c),v(S,E,b,w-h,z-c),v(x,H,N,h-L,c-D),v(x,H,N,C-L,_-D));return Math.sqrt(V)},K.getTextLocation=function(h,c,C,_){if((h!==f||_!==y)&&(g={},f=h,y=_),g[C])return g[C];var L=h.getPointAtLength(p(C-_/2,c)),D=h.getPointAtLength(p(C+_/2,c)),w=Math.atan((D.y-L.y)/(D.x-L.x)),z=h.getPointAtLength(p(C,c)),x={x:(4*z.x+L.x+D.x)/6,y:(4*z.y+L.y+D.y)/6,theta:w};return g[C]=x,x},K.clearLocationCache=function(){f=null},K.getVisibleSegment=function(h,c,C){var x,H,_=c.left,L=c.right,D=c.top,w=c.bottom,z=0,S=h.getTotalLength(),E=S;function b(V){var Y=h.getPointAtLength(V);0===V?x=Y:V===S&&(H=Y);var $=Y.x<_?_-Y.x:Y.x>L?Y.x-L:0,Q=Y.y<D?D-Y.y:Y.y>w?Y.y-w:0;return Math.sqrt($*$+Q*Q)}for(var N=b(z);N;){if((z+=N+C)>E)return;N=b(z)}for(N=b(E);N;){if(z>(E-=N+C))return;N=b(E)}return{min:z,max:E,len:E-z,total:S,isClosed:0===z&&E===S&&Math.abs(x.x-H.x)<.1&&Math.abs(x.y-H.y)<.1}},K.findPointOnPath=function(h,c,C,_){for(var H,b,N,L=(_=_||{}).pathLength||h.getTotalLength(),D=_.tolerance||.001,w=_.iterationLimit||30,z=h.getPointAtLength(0)[C]>h.getPointAtLength(L)[C]?-1:1,S=0,E=0,x=L;S<w;){if(N=(b=h.getPointAtLength(H=(E+x)/2))[C]-c,Math.abs(N)<D)return b;z*N>0?x=H:E=H,S++}return b}},5536:function(ve){"use strict";ve.exports=function(o){return o}},1396:function(ve){"use strict";ve.exports=function(o,p){if(!p)return o;var T=1/Math.abs(p),v=T>1?(T*o+T*p)/T:o+p,g=String(v).length;if(g>16){var f=String(p).length;if(g>=String(o).length+f){var m=parseFloat(v).toPrecision(12);-1===m.indexOf("e+")&&(v=+m)}}return v}},3400:function(ve,K,o){"use strict";var p=o(3428),T=o(4336).E9,v=o(7624).E9,g=o(8248),f=o(9032),y=f.FP_SAFE,m=-y,h=f.BADNUM,c=ve.exports={};c.adjustFormat=function(X){return!X||/^\d[.]\df/.test(X)||/[.]\d%/.test(X)?X:"0.f"===X?"~f":/^\d%/.test(X)?"~%":/^\ds/.test(X)?"~s":!/^[~,.0$]/.test(X)&&/[&fps]/.test(X)?"~"+X:X};var C={};c.warnBadFormat=function(P){var X=String(P);C[X]||(C[X]=1,c.warn('encountered bad format: "'+X+'"'))},c.noFormat=function(P){return String(P)},c.numberFormat=function(P){var X;try{X=v(c.adjustFormat(P))}catch{return c.warnBadFormat(P),c.noFormat}return X},c.nestedProperty=o(2296),c.keyedContainer=o(7804),c.relativeAttr=o(3193),c.isPlainObject=o(3620),c.toLogRange=o(6896),c.relinkPrivateKeys=o(1528);var _=o(8116);c.isArrayBuffer=_.isArrayBuffer,c.isTypedArray=_.isTypedArray,c.isArrayOrTypedArray=_.isArrayOrTypedArray,c.isArray1D=_.isArray1D,c.ensureArray=_.ensureArray,c.concat=_.concat,c.maxRowLength=_.maxRowLength,c.minRowLength=_.minRowLength;var L=o(435);c.mod=L.mod,c.modHalf=L.modHalf;var D=o(3064);c.valObjectMeta=D.valObjectMeta,c.coerce=D.coerce,c.coerce2=D.coerce2,c.coerceFont=D.coerceFont,c.coercePattern=D.coercePattern,c.coerceHoverinfo=D.coerceHoverinfo,c.coerceSelectionMarkerOpacity=D.coerceSelectionMarkerOpacity,c.validate=D.validate;var w=o(7555);c.dateTime2ms=w.dateTime2ms,c.isDateTime=w.isDateTime,c.ms2DateTime=w.ms2DateTime,c.ms2DateTimeLocal=w.ms2DateTimeLocal,c.cleanDate=w.cleanDate,c.isJSDate=w.isJSDate,c.formatDate=w.formatDate,c.incrementMonth=w.incrementMonth,c.dateTick0=w.dateTick0,c.dfltRange=w.dfltRange,c.findExactDates=w.findExactDates,c.MIN_MS=w.MIN_MS,c.MAX_MS=w.MAX_MS;var z=o(4952);c.findBin=z.findBin,c.sorterAsc=z.sorterAsc,c.sorterDes=z.sorterDes,c.distinctVals=z.distinctVals,c.roundUp=z.roundUp,c.sort=z.sort,c.findIndexOfMin=z.findIndexOfMin,c.sortObjectKeys=o(2996);var S=o(3084);c.aggNums=S.aggNums,c.len=S.len,c.mean=S.mean,c.median=S.median,c.midRange=S.midRange,c.variance=S.variance,c.stdev=S.stdev,c.interp=S.interp;var E=o(2248);c.init2dArray=E.init2dArray,c.transposeRagged=E.transposeRagged,c.dot=E.dot,c.translationMatrix=E.translationMatrix,c.rotationMatrix=E.rotationMatrix,c.rotationXYMatrix=E.rotationXYMatrix,c.apply3DTransform=E.apply3DTransform,c.apply2DTransform=E.apply2DTransform,c.apply2DTransform2=E.apply2DTransform2,c.convertCssMatrix=E.convertCssMatrix,c.inverseTransformMatrix=E.inverseTransformMatrix;var x=o(1864);c.deg2rad=x.deg2rad,c.rad2deg=x.rad2deg,c.angleDelta=x.angleDelta,c.angleDist=x.angleDist,c.isFullCircle=x.isFullCircle,c.isAngleInsideSector=x.isAngleInsideSector,c.isPtInsideSector=x.isPtInsideSector,c.pathArc=x.pathArc,c.pathSector=x.pathSector,c.pathAnnulus=x.pathAnnulus;var H=o(8308);c.isLeftAnchor=H.isLeftAnchor,c.isCenterAnchor=H.isCenterAnchor,c.isRightAnchor=H.isRightAnchor,c.isTopAnchor=H.isTopAnchor,c.isMiddleAnchor=H.isMiddleAnchor,c.isBottomAnchor=H.isBottomAnchor;var b=o(2348);c.segmentsIntersect=b.segmentsIntersect,c.segmentDistance=b.segmentDistance,c.getTextLocation=b.getTextLocation,c.clearLocationCache=b.clearLocationCache,c.getVisibleSegment=b.getVisibleSegment,c.findPointOnPath=b.findPointOnPath;var N=o(2880);c.extendFlat=N.extendFlat,c.extendDeep=N.extendDeep,c.extendDeepAll=N.extendDeepAll,c.extendDeepNoArrays=N.extendDeepNoArrays;var V=o(4248);c.log=V.log,c.warn=V.warn,c.error=V.error;var Y=o(3756);c.counterRegex=Y.counter;var $=o(1200);c.throttle=$.throttle,c.throttleDone=$.done,c.clearThrottle=$.clear;var Q=o(2200);function se(P){var X={};for(var j in P)for(var I=P[j],ae=0;ae<I.length;ae++)X[I[ae]]=+j;return X}c.getGraphDiv=Q.getGraphDiv,c.isPlotDiv=Q.isPlotDiv,c.removeElement=Q.removeElement,c.addStyleRule=Q.addStyleRule,c.addRelatedStyleRule=Q.addRelatedStyleRule,c.deleteRelatedStyleRule=Q.deleteRelatedStyleRule,c.getFullTransformMatrix=Q.getFullTransformMatrix,c.getElementTransformMatrix=Q.getElementTransformMatrix,c.getElementAndAncestors=Q.getElementAndAncestors,c.equalDomRects=Q.equalDomRects,c.clearResponsive=o(5352),c.preserveDrawingBuffer=o(4296),c.makeTraceGroups=o(988),c._=o(8356),c.notifier=o(1792),c.filterUnique=o(8944),c.filterVisible=o(3880),c.pushUnique=o(2416),c.increment=o(1396),c.cleanNumber=o(4037),c.ensureNumber=function(X){return g(X)?(X=Number(X))>y||X<m?h:X:h},c.isIndex=function(P,X){return!(void 0!==X&&P>=X)&&g(P)&&P>=0&&P%1==0},c.noop=o(6628),c.identity=o(5536),c.repeat=function(P,X){for(var j=new Array(X),I=0;I<X;I++)j[I]=P;return j},c.swapAttrs=function(P,X,j,I){j||(j="x"),I||(I="y");for(var ae=0;ae<X.length;ae++){var O=X[ae],ne=c.nestedProperty(P,O.replace("?",j)),be=c.nestedProperty(P,O.replace("?",I)),ze=ne.get();ne.set(be.get()),be.set(ze)}},c.raiseToTop=function(X){X.parentNode.appendChild(X)},c.cancelTransition=function(P){return P.transition().duration(0)},c.constrain=function(P,X,j){return X>j?Math.max(j,Math.min(X,P)):Math.max(X,Math.min(j,P))},c.bBoxIntersect=function(P,X,j){return P.left<=X.right+(j=j||0)&&X.left<=P.right+j&&P.top<=X.bottom+j&&X.top<=P.bottom+j},c.simpleMap=function(P,X,j,I,ae){for(var O=P.length,ne=new Array(O),be=0;be<O;be++)ne[be]=X(P[be],j,I,ae);return ne},c.randstr=function P(X,j,I,ae){if(I||(I=16),void 0===j&&(j=24),j<=0)return"0";var be,ze,O=Math.log(Math.pow(2,j))/Math.log(I),ne="";for(be=2;O===1/0;be*=2)O=Math.log(Math.pow(2,j/be))/Math.log(I)*be;var Oe=O-Math.floor(O);for(be=0;be<Math.floor(O);be++)ne=Math.floor(Math.random()*I).toString(I)+ne;Oe&&(ze=Math.pow(I,Oe),ne=Math.floor(Math.random()*ze).toString(I)+ne);var Be=parseInt(ne,I);return X&&X[ne]||Be!==1/0&&Be>=Math.pow(2,j)?ae>10?(c.warn("randstr failed uniqueness"),ne):P(X,j,I,(ae||0)+1):ne},c.OptionControl=function(P,X){P||(P={}),X||(X="opt");var j={optionList:[],_newoption:function(I){I[X]=P,j[I.name]=I,j.optionList.push(I)}};return j["_"+X]=P,j},c.smooth=function(P,X){if((X=Math.round(X)||0)<2)return P;var be,ze,Ne,Oe,j=P.length,I=2*j,ae=2*X-1,O=new Array(ae),ne=new Array(j);for(be=0;be<ae;be++)O[be]=(1-Math.cos(Math.PI*(be+1)/X))/(2*X);for(be=0;be<j;be++){for(Oe=0,ze=0;ze<ae;ze++)(Ne=be+ze+1-X)<-j?Ne-=I*Math.round(Ne/I):Ne>=I&&(Ne-=I*Math.floor(Ne/I)),Ne<0?Ne=-1-Ne:Ne>=j&&(Ne=I-1-Ne),Oe+=P[Ne]*O[ze];ne[be]=Oe}return ne},c.syncOrAsync=function(P,X,j){var I;function O(){return c.syncOrAsync(P,X,j)}for(;P.length;)if((I=(0,P.splice(0,1)[0])(X))&&I.then)return I.then(O);return j&&j(X)},c.stripTrailingSlash=function(P){return"/"===P.substr(-1)?P.substr(0,P.length-1):P},c.noneOrAll=function(P,X,j){if(P){var O,I=!1,ae=!0;for(O=0;O<j.length;O++)null!=P[j[O]]?I=!0:ae=!1;if(I&&!ae)for(O=0;O<j.length;O++)P[j[O]]=X[j[O]]}},c.mergeArray=function(P,X,j,I){var ae="function"==typeof I;if(c.isArrayOrTypedArray(P))for(var O=Math.min(P.length,X.length),ne=0;ne<O;ne++){var be=P[ne];X[ne][j]=ae?I(be):be}},c.mergeArrayCastPositive=function(P,X,j){return c.mergeArray(P,X,j,function(I){var ae=+I;return isFinite(ae)&&ae>0?ae:0})},c.fillArray=function(P,X,j,I){if(I=I||c.identity,c.isArrayOrTypedArray(P))for(var ae=0;ae<X.length;ae++)X[ae][j]=I(P[ae])},c.castOption=function(P,X,j,I){I=I||c.identity;var ae=c.nestedProperty(P,j).get();return c.isArrayOrTypedArray(ae)?Array.isArray(X)&&c.isArrayOrTypedArray(ae[X[0]])?I(ae[X[0]][X[1]]):I(ae[X]):ae},c.extractOption=function(P,X,j,I){if(j in P)return P[j];var ae=c.nestedProperty(X,I).get();return Array.isArray(ae)?void 0:ae},c.tagSelected=function(P,X,j){var O,Be,I=X.selectedpoints,ae=X._indexToPoints;ae&&(O=se(ae));for(var be=0;be<I.length;be++){var ze=I[be];if(c.isIndex(ze)||c.isArrayOrTypedArray(ze)&&c.isIndex(ze[0])&&c.isIndex(ze[1])){var Ne=O?O[ze]:ze,Oe=j?j[Ne]:Ne;void 0!==(Be=Oe)&&Be<P.length&&(P[Oe].selected=1)}}},c.selIndices2selPoints=function(P){var X=P.selectedpoints,j=P._indexToPoints;if(j){for(var I=se(j),ae=[],O=0;O<X.length;O++){var ne=X[O];if(c.isIndex(ne)){var be=I[ne];c.isIndex(be)&&ae.push(be)}}return ae}return X},c.getTargetArray=function(P,X){var j=X.target;if("string"==typeof j&&j){var I=c.nestedProperty(P,j).get();return!!c.isArrayOrTypedArray(I)&&I}return!!c.isArrayOrTypedArray(j)&&j},c.minExtend=function F(P,X,j){var I={};"object"!=typeof X&&(X={});var ne,be,ze,ae="pieLike"===j?-1:3,O=Object.keys(P);for(ne=0;ne<O.length;ne++)ze=P[be=O[ne]],"_"!==be.charAt(0)&&"function"!=typeof ze&&(I[be]="module"===be?ze:Array.isArray(ze)?"colorscale"===be||-1===ae?ze.slice():ze.slice(0,ae):c.isTypedArray(ze)?-1===ae?ze.subarray():ze.subarray(0,ae):ze&&"object"==typeof ze?F(P[be],X[be],j):ze);for(O=Object.keys(X),ne=0;ne<O.length;ne++)("object"!=typeof(ze=X[be=O[ne]])||!(be in I)||"object"!=typeof I[be])&&(I[be]=ze);return I},c.titleCase=function(P){return P.charAt(0).toUpperCase()+P.substr(1)},c.containsAny=function(P,X){for(var j=0;j<X.length;j++)if(-1!==P.indexOf(X[j]))return!0;return!1},c.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var J=/Version\/[\d\.]+.*Safari/;c.isSafari=function(){return J.test(window.navigator.userAgent)};var W=/iPad|iPhone|iPod/;c.isIOS=function(){return W.test(window.navigator.userAgent)};var te=/Firefox\/(\d+)\.\d+/;c.getFirefoxVersion=function(){var P=te.exec(window.navigator.userAgent);if(P&&2===P.length){var X=parseInt(P[1]);if(!isNaN(X))return X}return null},c.isD3Selection=function(P){return P instanceof p.selection},c.ensureSingle=function(P,X,j,I){var ae=P.select(X+(j?"."+j:""));if(ae.size())return ae;var O=P.append(X);return j&&O.classed(j,!0),I&&O.call(I),O},c.ensureSingleById=function(P,X,j,I){var ae=P.select(X+"#"+j);if(ae.size())return ae;var O=P.append(X).attr("id",j);return I&&O.call(I),O},c.objectFromPath=function(P,X){for(var I,j=P.split("."),ae=I={},O=0;O<j.length;O++){var ne=j[O],be=null,ze=j[O].match(/(.*)\[([0-9]+)\]/);ze?(be=ze[2],(I=I[ne=ze[1]]=[])[be]=O===j.length-1?X:{},I=I[be]):(I[ne]=O===j.length-1?X:{},I=I[ne])}return ae};var fe=/^([^\[\.]+)\.(.+)?/,me=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function Z(P){return"__"===P.slice(0,2)}c.expandObjectPaths=function(P){var X,j,I,ae,O,ne,be;if("object"==typeof P&&!Array.isArray(P))for(j in P)if(P.hasOwnProperty(j))if(X=j.match(fe)){if(ae=P[j],Z(I=X[1]))continue;delete P[j],P[I]=c.extendDeepNoArrays(P[I]||{},c.objectFromPath(j,c.expandObjectPaths(ae))[I])}else if(X=j.match(me)){if(ae=P[j],Z(I=X[1]))continue;if(O=parseInt(X[2]),delete P[j],P[I]=P[I]||[],"."===X[3])be=X[4],ne=P[I][O]=P[I][O]||{},c.extendDeepNoArrays(ne,c.objectFromPath(be,c.expandObjectPaths(ae)));else{if(Z(I))continue;P[I][O]=c.expandObjectPaths(ae)}}else{if(Z(j))continue;P[j]=c.expandObjectPaths(P[j])}return P},c.numSeparate=function(P,X,j){if(j||(j=!1),"string"!=typeof X||0===X.length)throw new Error("Separator string required for formatting!");"number"==typeof P&&(P=String(P));var I=/(\d+)(\d{3})/,ae=X.charAt(0),O=X.charAt(1),ne=P.split("."),be=ne[0],ze=ne.length>1?ae+ne[1]:"";if(O&&(ne.length>1||be.length>4||j))for(;I.test(be);)be=be.replace(I,"$1"+O+"$2");return be+ze},c.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var G=/^\w*$/;c.templateString=function(P,X){var j={};return P.replace(c.TEMPLATE_STRING_REGEX,function(I,ae){var O;return G.test(ae)?O=X[ae]:(j[ae]=j[ae]||c.nestedProperty(X,ae).get,O=j[ae]()),c.isValidTextValue(O)?O:""})};var q={max:10,count:0,name:"hovertemplate"};c.hovertemplateString=function(){return ke.apply(q,arguments)};var ie={max:10,count:0,name:"texttemplate"};c.texttemplateString=function(){return ke.apply(ie,arguments)};var ue=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;var pe={max:10,count:0,name:"texttemplate",parseMultDiv:!0};c.texttemplateStringForShapes=function(){return ke.apply(pe,arguments)};var He=/^[:|\|]/;function ke(P,X,j){var I=this,ae=arguments;X||(X={});var O={};return P.replace(c.TEMPLATE_STRING_REGEX,function(ne,be,ze){var Oe="_xother"===be||"_yother"===be,Be="_xother_"===be||"_yother_"===be,Te="xother_"===be||"yother_"===be,Ve="xother"===be||"yother"===be||Oe||Te||Be,Pe=be;(Oe||Be)&&(Pe=Pe.substring(1)),(Te||Be)&&(Pe=Pe.substring(0,Pe.length-1));var st,wt,kt,Je=null,Xe=null;if(I.parseMultDiv){var Ge=function le(P){var X=P.match(ue);return X?{key:X[1],op:X[2],number:Number(X[3])}:{key:P,op:null,number:null}}(Pe);Pe=Ge.key,Je=Ge.op,Xe=Ge.number}if(Ve){if(void 0===(st=X[Pe]))return""}else for(kt=3;kt<ae.length;kt++)if(wt=ae[kt]){if(wt.hasOwnProperty(Pe)){st=wt[Pe];break}if(G.test(Pe)||(st=c.nestedProperty(wt,Pe).get(),(st=O[Pe]||c.nestedProperty(wt,Pe).get())&&(O[Pe]=st)),void 0!==st)break}if(void 0!==st&&("*"===Je&&(st*=Xe),"/"===Je&&(st/=Xe)),void 0===st&&I)return I.count<I.max&&(c.warn("Variable '"+Pe+"' in "+I.name+" could not be found!"),st=ne),I.count===I.max&&c.warn("Too many "+I.name+" warnings - additional warnings will be suppressed"),I.count++,ne;if(ze){var At;if(":"===ze[0]&&(st=(At=j?j.numberFormat:c.numberFormat)(ze.replace(He,""))(st)),"|"===ze[0]){At=j?j.timeFormat:T;var Qt=c.dateTime2ms(st);st=c.formatDate(Qt,ze.replace(He,""),!1,At)}}else{var nn=Pe+"Label";X.hasOwnProperty(nn)&&(st=X[nn])}return Ve&&(st="("+st+")",(Oe||Be)&&(st=" "+st),(Te||Be)&&(st+=" ")),st})}c.subplotSort=function(P,X){for(var j=Math.min(P.length,X.length)+1,I=0,ae=0,O=0;O<j;O++){var ne=P.charCodeAt(O)||0,be=X.charCodeAt(O)||0,ze=ne>=48&&ne<=57,Ne=be>=48&&be<=57;if(ze&&(I=10*I+ne-48),Ne&&(ae=10*ae+be-48),!ze||!Ne){if(I!==ae)return I-ae;if(ne!==be)return ne-be}}return ae-I};var we=2e9;c.seedPseudoRandom=function(){we=2e9},c.pseudoRandom=function(){var P=we;return we=(69069*we+1)%4294967296,Math.abs(we-P)<429496729?c.pseudoRandom():we/4294967296},c.fillText=function(P,X,j){var I=Array.isArray(j)?function(ne){j.push(ne)}:function(ne){j.text=ne},ae=c.extractOption(P,X,"htx","hovertext");if(c.isValidTextValue(ae))return I(ae);var O=c.extractOption(P,X,"tx","text");return c.isValidTextValue(O)?I(O):void 0},c.isValidTextValue=function(P){return P||0===P},c.formatPercent=function(P,X){X=X||0;for(var j=(Math.round(100*P*Math.pow(10,X))*Math.pow(.1,X)).toFixed(X)+"%",I=0;I<X;I++)-1!==j.indexOf(".")&&(j=(j=j.replace("0%","%")).replace(".%","%"));return j},c.isHidden=function(P){var X=window.getComputedStyle(P).display;return!X||"none"===X},c.strTranslate=function(P,X){return P||X?"translate("+P+","+X+")":""},c.strRotate=function(P){return P?"rotate("+P+")":""},c.strScale=function(P){return 1!==P?"scale("+P+")":""},c.getTextTransform=function(P){var X=P.noCenter,j=P.textX,I=P.textY,ze=P.rotate,Ne=P.scale;return Ne?Ne>1&&(Ne=1):Ne=0,c.strTranslate(P.targetX-Ne*(j+(P.anchorX||0)),P.targetY-Ne*(I+(P.anchorY||0)))+c.strScale(Ne)+(ze?"rotate("+ze+(X?"":" "+j+" "+I)+")":"")},c.setTransormAndDisplay=function(P,X){P.attr("transform",c.getTextTransform(X)),P.style("display",X.scale?null:"none")},c.ensureUniformFontSize=function(P,X){var j=c.extendFlat({},X);return j.size=Math.max(X.size,P._fullLayout.uniformtext.minsize||0),j},c.join2=function(P,X,j){var I=P.length;return I>1?P.slice(0,-1).join(X)+j+P[I-1]:P.join(X)},c.bigFont=function(P){return Math.round(1.2*P)};var Le=c.getFirefoxVersion(),B=null!==Le&&Le<86;c.getPositionFromD3Event=function(){return B?[p.event.layerX,p.event.layerY]:[p.event.offsetX,p.event.offsetY]}},3620:function(ve){"use strict";ve.exports=function(o){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(o):"[object Object]"===Object.prototype.toString.call(o)&&Object.getPrototypeOf(o).hasOwnProperty("hasOwnProperty")}},7804:function(ve,K,o){"use strict";var p=o(2296),T=/^\w*$/;ve.exports=function(c,C,_,L){_=_||"name",L=L||"value";var D,w,z,S={};C&&C.length?(z=p(c,C),w=z.get()):w=c,C=C||"";var E={};if(w)for(D=0;D<w.length;D++)E[w[D][_]]=D;var x=T.test(L),H={set:function(b,N){var V=null===N?4:0;if(!w){if(!z||4===V)return;z.set(w=[])}var Y=E[b];if(void 0===Y){if(4===V)return;V|=3,E[b]=Y=w.length}else N!==(x?w[Y][L]:p(w[Y],L).get())&&(V|=2);var $=w[Y]=w[Y]||{};return $[_]=b,x?$[L]=N:p($,L).set(N),null!==N&&(V&=-5),S[Y]=S[Y]|V,H},get:function(b){if(w){var N=E[b];if(void 0!==N)return x?w[N][L]:p(w[N],L).get()}},rename:function(b,N){var V=E[b];return void 0===V||(S[V]=1|S[V],E[N]=V,delete E[b],w[V][_]=N),H},remove:function(b){var N=E[b];if(void 0===N)return H;var V=w[N];if(Object.keys(V).length>2)return S[N]=2|S[N],H.set(b,null);if(x){for(D=N;D<w.length;D++)S[D]=3|S[D];for(D=N;D<w.length;D++)E[w[D][_]]--;w.splice(N,1),delete E[b]}else p(V,L).set(null),S[N]=6|S[N];return H},constructUpdate:function(){for(var b,N,V={},Y=Object.keys(S),$=0;$<Y.length;$++)b=C+"["+(N=Y[$])+"]",w[N]?(1&S[N]&&(V[b+"."+_]=w[N][_]),2&S[N]&&(V[b+"."+L]=x?4&S[N]?null:w[N][L]:4&S[N]?null:p(w[N],L).get())):V[b]=null;return V}};return H}},8356:function(ve,K,o){"use strict";var p=o(4040);ve.exports=function(v,g){for(var f=v._context.locale,y=0;y<2;y++){for(var m=v._context.locales,h=0;h<2;h++){var c=(m[f]||{}).dictionary;if(c){var C=c[g];if(C)return C}m=p.localeRegistry}var _=f.split("-")[0];if(_===f)break;f=_}return g}},4248:function(ve,K,o){"use strict";var p=o(556).dfltConfig,T=o(1792),v=ve.exports={};v.log=function(){var g;if(p.logging>1){var f=["LOG:"];for(g=0;g<arguments.length;g++)f.push(arguments[g]);console.trace.apply(console,f)}if(p.notifyOnLogging>1){var y=[];for(g=0;g<arguments.length;g++)y.push(arguments[g]);T(y.join("<br>"),"long")}},v.warn=function(){var g;if(p.logging>0){var f=["WARN:"];for(g=0;g<arguments.length;g++)f.push(arguments[g]);console.trace.apply(console,f)}if(p.notifyOnLogging>0){var y=[];for(g=0;g<arguments.length;g++)y.push(arguments[g]);T(y.join("<br>"),"stick")}},v.error=function(){var g;if(p.logging>0){var f=["ERROR:"];for(g=0;g<arguments.length;g++)f.push(arguments[g]);console.error.apply(console,f)}if(p.notifyOnLogging>0){var y=[];for(g=0;g<arguments.length;g++)y.push(arguments[g]);T(y.join("<br>"),"stick")}}},988:function(ve,K,o){"use strict";var p=o(3428);ve.exports=function(v,g,f){var y=v.selectAll("g."+f.replace(/\s/g,".")).data(g,function(h){return h[0].trace.uid});y.exit().remove(),y.enter().append("g").attr("class",f),y.order();var m=v.classed("rangeplot")?"nodeRangePlot3":"node3";return y.each(function(h){h[0][m]=p.select(this)}),y}},2248:function(ve,K,o){"use strict";var p=o(6524);K.init2dArray=function(T,v){for(var g=new Array(T),f=0;f<T;f++)g[f]=new Array(v);return g},K.transposeRagged=function(T){var f,y,v=0,g=T.length;for(f=0;f<g;f++)v=Math.max(v,T[f].length);var m=new Array(v);for(f=0;f<v;f++)for(m[f]=new Array(g),y=0;y<g;y++)m[f][y]=T[y][f];return m},K.dot=function(T,v){if(!T.length||!v.length||T.length!==v.length)return null;var f,y,g=T.length;if(T[0].length)for(f=new Array(g),y=0;y<g;y++)f[y]=K.dot(T[y],v);else if(v[0].length){var m=K.transposeRagged(v);for(f=new Array(m.length),y=0;y<m.length;y++)f[y]=K.dot(T,m[y])}else for(f=0,y=0;y<g;y++)f+=T[y]*v[y];return f},K.translationMatrix=function(T,v){return[[1,0,T],[0,1,v],[0,0,1]]},K.rotationMatrix=function(T){var v=T*Math.PI/180;return[[Math.cos(v),-Math.sin(v),0],[Math.sin(v),Math.cos(v),0],[0,0,1]]},K.rotationXYMatrix=function(T,v,g){return K.dot(K.dot(K.translationMatrix(v,g),K.rotationMatrix(T)),K.translationMatrix(-v,-g))},K.apply3DTransform=function(T){return function(){var v=arguments,g=1===arguments.length?v[0]:[v[0],v[1],v[2]||0];return K.dot(T,[g[0],g[1],g[2],1]).slice(0,3)}},K.apply2DTransform=function(T){return function(){var v=arguments;3===v.length&&(v=v[0]);var g=1===arguments.length?v[0]:[v[0],v[1]];return K.dot(T,[g[0],g[1],1]).slice(0,2)}},K.apply2DTransform2=function(T){var v=K.apply2DTransform(T);return function(g){return v(g.slice(0,2)).concat(v(g.slice(2,4)))}},K.convertCssMatrix=function(T){if(T){var v=T.length;if(16===v)return T;if(6===v)return[T[0],T[1],0,0,T[2],T[3],0,0,0,0,1,0,T[4],T[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},K.inverseTransformMatrix=function(T){var v=[];return p.invert(v,T),[[v[0],v[1],v[2],v[3]],[v[4],v[5],v[6],v[7]],[v[8],v[9],v[10],v[11]],[v[12],v[13],v[14],v[15]]]}},435:function(ve){"use strict";ve.exports={mod:function K(p,T){var v=p%T;return v<0?v+T:v},modHalf:function o(p,T){return Math.abs(p)>T/2?p-Math.round(p/T)*T:p}}},2296:function(ve,K,o){"use strict";var p=o(8248),T=o(8116).isArrayOrTypedArray;function v(_,L){return function(){var w,z,S,E,x,D=_;for(E=0;E<L.length-1;E++){if(-1===(w=L[E])){for(z=!0,S=[],x=0;x<D.length;x++)S[x]=v(D[x],L.slice(E+1))(),S[x]!==S[0]&&(z=!1);return z?S[0]:S}if("number"==typeof w&&!T(D)||"object"!=typeof(D=D[w])||null===D)return}if("object"==typeof D&&null!==D&&null!==(S=D[L[E]]))return S}}ve.exports=function(L,D){if(p(D))D=String(D);else if("string"!=typeof D||"[-1]"===D.substr(D.length-4))throw"bad property string";var z,S,E,x,w=D.split(".");for(x=0;x<w.length;x++)if("__"===String(w[x]).slice(0,2))throw"bad property string";for(x=0;x<w.length;){if(z=String(w[x]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(z[1])w[x]=z[1];else{if(0!==x)throw"bad property string";w.splice(0,1)}for(S=z[2].substr(1,z[2].length-2).split("]["),E=0;E<S.length;E++)x++,w.splice(x,0,Number(S[E]))}x++}return"object"!=typeof L?function C(_,L,D){return{set:function(){throw"bad container"},get:function(){},astr:L,parts:D,obj:_}}(L,D,w):{set:y(L,w,D),get:v(L,w),astr:D,parts:w,obj:L}};var g=/(^|\.)args\[/;function f(_,L){return void 0===_||null===_&&!L.match(g)}function y(_,L,D){return function(w){var H,b,z=_,S="",E=[[_,S]],x=f(w,D);for(b=0;b<L.length-1;b++){if("number"==typeof(H=L[b])&&!T(z))throw"array index but container is not an array";if(-1===H){if(x=!h(z,L.slice(b+1),w,D))break;return}if(!c(z,H,L[b+1],x))break;if("object"!=typeof(z=z[H])||null===z)throw"container is not an object";S=m(S,H),E.push([z,S])}if(x){if(b===L.length-1&&(delete z[L[b]],Array.isArray(z)&&+L[b]==z.length-1))for(;z.length&&void 0===z[z.length-1];)z.pop()}else z[L[b]]=w}}function m(_,L){var D=L;return p(L)?D="["+L+"]":_&&(D="."+L),_+D}function h(_,L,D,w){var N,z=T(D),S=!0,E=D,x=w.replace("-1",0),H=!z&&f(D,x),b=L[0];for(N=0;N<_.length;N++)x=w.replace("-1",N),z&&(H=f(E=D[N%D.length],x)),H&&(S=!1),c(_,N,b,H)&&y(_[N],L,w.replace("-1",N))(E);return S}function c(_,L,D,w){if(void 0===_[L]){if(w)return!1;_[L]="number"==typeof D?[]:{}}return!0}},6628:function(ve){"use strict";ve.exports=function(){}},1792:function(ve,K,o){"use strict";var p=o(3428),T=o(8248),v=[];ve.exports=function(g,f){if(-1===v.indexOf(g)){v.push(g);var y=1e3;T(f)?y=f:"long"===f&&(y=3e3);var m=p.select("body").selectAll(".plotly-notifier").data([0]);m.enter().append("div").classed("plotly-notifier",!0),m.selectAll(".notifier-note").data(v).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(C){var _=p.select(this);_.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){_.transition().call(c)});for(var L=_.append("p"),D=C.split(/<br\s*\/?>/g),w=0;w<D.length;w++)w&&L.append("br"),L.append("span").text(D[w]);"stick"===f?_.transition().duration(350).style("opacity",1):_.transition().duration(700).style("opacity",1).transition().delay(y).call(c)})}function c(C){C.duration(700).style("opacity",0).each("end",function(_){var L=v.indexOf(_);-1!==L&&v.splice(L,1),p.select(this).remove()})}}},2213:function(ve,K,o){"use strict";var p=o(3972),T="data-savedcursor";ve.exports=function(f,y){var m=f.attr(T);if(y){if(!m){for(var h=(f.attr("class")||"").split(" "),c=0;c<h.length;c++){var C=h[c];0===C.indexOf("cursor-")&&f.attr(T,C.substr(7)).classed(C,!1)}f.attr(T)||f.attr(T,"!!")}p(f,y)}else m&&(f.attr(T,null),"!!"===m?p(f):p(f,m))}},2065:function(ve,K,o){"use strict";var p=o(2248).dot,T=o(9032).BADNUM,v=ve.exports={};v.tester=function(f){var _,y=f.slice(),m=y[0][0],h=m,c=y[0][1],C=c;for((y[y.length-1][0]!==y[0][0]||y[y.length-1][1]!==y[0][1])&&y.push(y[0]),_=1;_<y.length;_++)m=Math.min(m,y[_][0]),h=Math.max(h,y[_][0]),c=Math.min(c,y[_][1]),C=Math.max(C,y[_][1]);var D,L=!1;5===y.length&&(y[0][0]===y[1][0]?y[2][0]===y[3][0]&&y[0][1]===y[3][1]&&y[1][1]===y[2][1]&&(L=!0,D=function(x){return x[0]===y[0][0]}):y[0][1]===y[1][1]&&y[2][1]===y[3][1]&&y[0][0]===y[3][0]&&y[1][0]===y[2][0]&&(L=!0,D=function(x){return x[1]===y[0][1]}));var S=!0,E=y[0];for(_=1;_<y.length;_++)if(E[0]!==y[_][0]||E[1]!==y[_][1]){S=!1;break}return{xmin:m,xmax:h,ymin:c,ymax:C,pts:y,contains:L?function w(x,H){var b=x[0],N=x[1];return!(b===T||b<m||b>h||N===T||N<c||N>C||H&&D(x))}:function z(x,H){var b=x[0],N=x[1];if(b===T||b<m||b>h||N===T||N<c||N>C)return!1;var se,F,J,W,te,V=y.length,Y=y[0][0],$=y[0][1],Q=0;for(se=1;se<V;se++)if(F=Y,J=$,Y=y[se][0],$=y[se][1],!(b<(W=Math.min(F,Y))||b>Math.max(F,Y)||N>Math.max(J,$)))if(N<Math.min(J,$))b!==W&&Q++;else{if(N===(te=Y===F?N:J+(b-F)*($-J)/(Y-F)))return!(1===se&&H);N<=te&&b!==W&&Q++}return Q%2==1},isRect:L,degenerate:S}},v.isSegmentBent=function(f,y,m,h){var w,z,S,c=f[y],C=[f[m][0]-c[0],f[m][1]-c[1]],_=p(C,C),L=Math.sqrt(_),D=[-C[1]/L,C[0]/L];for(w=y+1;w<m;w++)if((S=p(z=[f[w][0]-c[0],f[w][1]-c[1]],C))<0||S>_||Math.abs(p(z,D))>h)return!0;return!1},v.filter=function(f,y){var m=[f[0]],h=0,c=0;function C(L){f.push(L);var D=m.length,w=h;m.splice(c+1);for(var z=w+1;z<f.length;z++)(z===f.length-1||v.isSegmentBent(f,w,z+1,y))&&(m.push(f[z]),m.length<D-2&&(h=z,c=m.length-1),w=z)}return f.length>1&&C(f.pop()),{addPt:C,raw:f,filtered:m}}},4296:function(ve,K,o){"use strict";var p=o(8248),T=o(5928);ve.exports=function(f){var y;if("string"!=typeof(y=f&&f.hasOwnProperty("userAgent")?f.userAgent:function v(){var g;return typeof navigator<"u"&&(g=navigator.userAgent),g&&g.headers&&"string"==typeof g.headers["user-agent"]&&(g=g.headers["user-agent"]),g}()))return!0;var m=T({ua:{headers:{"user-agent":y}},tablet:!0,featureDetect:!1});if(!m)for(var h=y.split(" "),c=1;c<h.length;c++)if(-1!==h[c].indexOf("Safari"))for(var _=c-1;_>-1;_--){var L=h[_];if("Version/"===L.substr(0,8)){var D=L.substr(8).split(".")[0];if(p(D)&&(D=+D),D>=13)return!0}}return m}},2416:function(ve){"use strict";ve.exports=function(o,p){if(p instanceof RegExp){for(var T=p.toString(),v=0;v<o.length;v++)if(o[v]instanceof RegExp&&o[v].toString()===T)return o;o.push(p)}else(p||0===p)&&-1===o.indexOf(p)&&o.push(p);return o}},4552:function(ve,K,o){"use strict";var p=o(3400),T=o(556).dfltConfig;var g={add:function(f,y,m,h,c){var C,_;f.undoQueue=f.undoQueue||{index:0,queue:[],sequence:!1},_=f.undoQueue.index,f.autoplay?f.undoQueue.inSequence||(f.autoplay=!1):(!f.undoQueue.sequence||f.undoQueue.beginSequence?(f.undoQueue.queue.splice(_,f.undoQueue.queue.length-_,C={undo:{calls:[],args:[]},redo:{calls:[],args:[]}}),f.undoQueue.index+=1):C=f.undoQueue.queue[_-1],f.undoQueue.beginSequence=!1,C&&(C.undo.calls.unshift(y),C.undo.args.unshift(m),C.redo.calls.push(h),C.redo.args.push(c)),f.undoQueue.queue.length>T.queueLength&&(f.undoQueue.queue.shift(),f.undoQueue.index--))},startSequence:function(f){f.undoQueue=f.undoQueue||{index:0,queue:[],sequence:!1},f.undoQueue.sequence=!0,f.undoQueue.beginSequence=!0},stopSequence:function(f){f.undoQueue=f.undoQueue||{index:0,queue:[],sequence:!1},f.undoQueue.sequence=!1,f.undoQueue.beginSequence=!1},undo:function(y){var m,h;if(!(void 0===y.undoQueue||isNaN(y.undoQueue.index)||y.undoQueue.index<=0)){for(y.undoQueue.index--,m=y.undoQueue.queue[y.undoQueue.index],y.undoQueue.inSequence=!0,h=0;h<m.undo.calls.length;h++)g.plotDo(y,m.undo.calls[h],m.undo.args[h]);y.undoQueue.inSequence=!1,y.autoplay=!1}},redo:function(y){var m,h;if(!(void 0===y.undoQueue||isNaN(y.undoQueue.index)||y.undoQueue.index>=y.undoQueue.queue.length)){for(m=y.undoQueue.queue[y.undoQueue.index],y.undoQueue.inSequence=!0,h=0;h<m.redo.calls.length;h++)g.plotDo(y,m.redo.calls[h],m.redo.args[h]);y.undoQueue.inSequence=!1,y.autoplay=!1,y.undoQueue.index++}},plotDo:function(f,y,m){f.autoplay=!0,m=function v(f,y){for(var h,m=[],c=0;c<y.length;c++)m[c]=(h=y[c])===f?h:"object"==typeof h?Array.isArray(h)?p.extendDeep([],h):p.extendDeepAll({},h):h;return m}(f,m),y.apply(null,m)}};ve.exports=g},3756:function(ve,K){"use strict";K.counter=function(o,p,T,v){var g=(p||"")+(T?"":"$"),f=!1===v?"":"^";return"xy"===o?new RegExp(f+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+g):new RegExp(f+o+"([2-9]|[1-9][0-9]+)?"+g)}},3193:function(ve){"use strict";var K=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,o=/^[^\.\[\]]+$/;ve.exports=function(p,T){for(;T;){var v=p.match(K);if(v)p=v[1];else{if(!p.match(o))throw new Error("bad relativeAttr call:"+[p,T]);p=""}if("^"!==T.charAt(0))break;T=T.slice(1)}return p&&"["!==T.charAt(0)?p+"."+T:p+T}},1528:function(ve,K,o){"use strict";var p=o(8116).isArrayOrTypedArray,T=o(3620);ve.exports=function v(g,f){for(var y in f){var m=f[y],h=g[y];if(h!==m)if("_"===y.charAt(0)||"function"==typeof m){if(y in g)continue;g[y]=m}else if(p(m)&&p(h)&&T(m[0])){if("customdata"===y||"ids"===y)continue;for(var c=Math.min(m.length,h.length),C=0;C<c;C++)h[C]!==m[C]&&T(m[C])&&T(h[C])&&v(h[C],m[C])}else T(m)&&T(h)&&(v(h,m),Object.keys(h).length||delete g[y])}}},4952:function(ve,K,o){"use strict";var p=o(8248),T=o(4248),v=o(5536),g=o(9032).BADNUM,f=1e-9;function y(C,_){return C<_}function m(C,_){return C<=_}function h(C,_){return C>_}function c(C,_){return C>=_}K.findBin=function(C,_,L){if(p(_.start))return L?Math.ceil((C-_.start)/_.size-f)-1:Math.floor((C-_.start)/_.size+f);var E,x,D=0,w=_.length,z=0,S=w>1?(_[w-1]-_[0])/(w-1):1;for(x=S>=0?L?y:m:L?c:h,C+=S*f*(L?-1:1)*(S>=0?1:-1);D<w&&z++<100;)x(_[E=Math.floor((D+w)/2)],C)?D=E+1:w=E;return z>90&&T.log("Long binary search..."),D-1},K.sorterAsc=function(C,_){return C-_},K.sorterDes=function(C,_){return _-C},K.distinctVals=function(C){var L,_=C.slice();for(_.sort(K.sorterAsc),L=_.length-1;L>-1&&_[L]===g;L--);for(var S,D=_[L]-_[0]||1,w=D/(L||1)/1e4,z=[],E=0;E<=L;E++){var x=_[E],H=x-S;void 0===S?(z.push(x),S=x):H>w&&(D=Math.min(D,H),z.push(x),S=x)}return{vals:z,minDiff:D}},K.roundUp=function(C,_,L){for(var z,D=0,w=_.length-1,S=0,E=L?0:1,x=L?1:0,H=L?Math.ceil:Math.floor;D<w&&S++<100;)_[z=H((D+w)/2)]<=C?D=z+E:w=z-x;return _[D]},K.sort=function(C,_){for(var L=0,D=0,w=1;w<C.length;w++){var z=_(C[w],C[w-1]);if(z<0?L=1:z>0&&(D=1),L&&D)return C.sort(_)}return D?C:C.reverse()},K.findIndexOfMin=function(C,_){_=_||v;for(var D,L=1/0,w=0;w<C.length;w++){var z=_(C[w]);z<L&&(L=z,D=w)}return D}},3972:function(ve){"use strict";ve.exports=function(o,p){(o.attr("class")||"").split(" ").forEach(function(T){0===T.indexOf("cursor-")&&o.classed(T,!1)}),p&&o.classed("cursor-"+p,!0)}},2996:function(ve){"use strict";ve.exports=function(o){return Object.keys(o).sort()}},3084:function(ve,K,o){"use strict";var p=o(8248),T=o(8116).isArrayOrTypedArray;K.aggNums=function(v,g,f,y){var m,h;if((!y||y>f.length)&&(y=f.length),p(g)||(g=!1),T(f[0])){for(h=new Array(y),m=0;m<y;m++)h[m]=K.aggNums(v,g,f[m]);f=h}for(m=0;m<y;m++)p(g)?p(f[m])&&(g=v(+g,+f[m])):g=f[m];return g},K.len=function(v){return K.aggNums(function(g){return g+1},0,v)},K.mean=function(v,g){return g||(g=K.len(v)),K.aggNums(function(f,y){return f+y},0,v)/g},K.midRange=function(v){if(void 0!==v&&0!==v.length)return(K.aggNums(Math.max,null,v)+K.aggNums(Math.min,null,v))/2},K.variance=function(v,g,f){return g||(g=K.len(v)),p(f)||(f=K.mean(v,g)),K.aggNums(function(y,m){return y+Math.pow(m-f,2)},0,v)/g},K.stdev=function(v,g,f){return Math.sqrt(K.variance(v,g,f))},K.median=function(v){var g=v.slice().sort();return K.interp(g,.5)},K.interp=function(v,g){if(!p(g))throw"n should be a finite number";if((g=g*v.length-.5)<0)return v[0];if(g>v.length-1)return v[v.length-1];var f=g%1;return f*v[Math.ceil(g)]+(1-f)*v[Math.floor(g)]}},2736:function(ve,K,o){"use strict";var p=o(3428),T=o(3400),v=T.strTranslate,g=o(9616),f=o(4284).LINE_SPACING,y=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;K.convertToTspans=function(q,ie,ue){var le=q.text(),pe=!q.attr("data-notex")&&ie&&ie._context.typesetMath&&typeof MathJax<"u"&&le.match(y),He=p.select(q.node().parentNode);if(!He.empty()){var ke=q.attr("class")?q.attr("class").split(" ")[0]:"text";return He.selectAll("svg."+(ke+="-math")).remove(),He.selectAll("g."+ke+"-group").remove(),q.style("display",null).attr({"data-unformatted":le,"data-math":"N"}),pe?(ie&&ie._promises||[]).push(new Promise(function(Me){q.style("display","none");var we=parseInt(q.node().style.fontSize,10);!function _(q,ie,ue){var le=parseInt((MathJax.version||"").split(".")[0]);if(2===le||3===le){var pe,He,ke,Ue,Me=function(){return He=T.extendDeepAll({},MathJax.Hub.config),ke=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:C},displayAlign:"left"})},we=function(){He=T.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=C},Le=function(){if("SVG"!==(pe=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")},B=function(){"svg"!==(pe=MathJax.config.startup.output)&&(MathJax.config.startup.output="svg")},P=function(){var ne="math-output-"+T.randstr({},64),be=(Ue=p.select("body").append("div").attr({id:ne}).style({visibility:"hidden",position:"absolute","font-size":ie.fontSize+"px"}).text(function c(q){return q.replace(m,"\\lt ").replace(h,"\\gt ")}(q))).node();return 2===le?MathJax.Hub.Typeset(be):MathJax.typeset([be])},X=function(){var ne=Ue.select(2===le?".MathJax_SVG":".MathJax"),be=!ne.empty()&&Ue.select("svg").node();if(be){var Ne,ze=be.getBoundingClientRect();Ne=2===le?p.select("body").select("#MathJax_SVG_glyphs"):ne.select("defs"),ue(ne,Ne,ze)}else T.log("There was an error in the tex syntax.",q),ue();Ue.remove()},j=function(){if("SVG"!==pe)return MathJax.Hub.setRenderer(pe)},I=function(){"svg"!==pe&&(MathJax.config.startup.output=pe)},ae=function(){return void 0!==ke&&(MathJax.Hub.processSectionDelay=ke),MathJax.Hub.Config(He)},O=function(){MathJax.config=He};2===le?MathJax.Hub.Queue(Me,Le,P,X,j,ae):3===le&&(we(),B(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){P(),X(),I(),O()}))}else T.warn("No MathJax version:",MathJax.version)}(pe[2],{fontSize:we},function(B,P,X){He.selectAll("svg."+ke).remove(),He.selectAll("g."+ke+"-group").remove();var j=B&&B.select("svg");if(!j||!j.node())return Ue(),void Me();var I=He.append("g").classed(ke+"-group",!0).attr({"pointer-events":"none","data-unformatted":le,"data-math":"Y"});I.node().appendChild(j.node()),P&&P.node()&&j.node().insertBefore(P.node().cloneNode(!0),j.node().firstChild);var ae=X.width,O=X.height;j.attr({class:ke,height:O,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var ne=q.node().style.fill||"black",be=j.select("g");be.attr({fill:ne,stroke:ne});var ze=be.node().getBoundingClientRect(),Ne=ze.width,Oe=ze.height;(Ne>ae||Oe>O)&&(j.style("overflow","hidden"),Ne=(ze=j.node().getBoundingClientRect()).width,Oe=ze.height);var Be=+q.attr("x"),Te=+q.attr("y"),Pe=-(we||q.node().getBoundingClientRect().height)/4;if("y"===ke[0])I.attr({transform:"rotate("+[-90,Be,Te]+")"+v(-Ne/2,Pe-Oe/2)});else if("l"===ke[0])Te=Pe-Oe/2;else if("a"===ke[0]&&0!==ke.indexOf("atitle"))Be=0,Te=Pe;else{var Je=q.attr("text-anchor");Be-=Ne*("middle"===Je?.5:"end"===Je?1:0),Te=Te+Pe-Oe/2}j.attr({x:Be,y:Te}),ue&&ue.call(q,I),Me(I)})})):Ue(),q}function Ue(){He.empty()||(ke=q.attr("class")+"-math",He.select("svg."+ke).remove()),q.text("").style("white-space","pre"),function fe(q,ie){ie=ie.replace(E," ");var pe,ue=!1,le=[],He=-1;function ke(){He++;var Oe=document.createElementNS(g.svg,"tspan");p.select(Oe).attr({class:"line",dy:He*f+"em"}),q.appendChild(Oe),pe=Oe;var Be=le;if(le=[{node:Oe}],Be.length>1)for(var Te=1;Te<Be.length;Te++)Ue(Be[Te])}function Ue(Oe){var Ve,Be=Oe.type,Te={};if("a"===Be){Ve="a";var Pe=Oe.target,Je=Oe.href,Xe=Oe.popup;Je&&(Te={"xlink:xlink:show":"_blank"===Pe||"_"!==Pe.charAt(0)?"new":"replace",target:Pe,"xlink:xlink:href":Je},Xe&&(Te.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Xe+'");return false;'))}else Ve="tspan";Oe.style&&(Te.style=Oe.style);var Ge=document.createElementNS(g.svg,Ve);if("sup"===Be||"sub"===Be){Me(pe,z),pe.appendChild(Ge);var st=document.createElementNS(g.svg,"tspan");Me(st,z),p.select(st).attr("dy",w[Be]),Te.dy=D[Be],pe.appendChild(Ge),pe.appendChild(st)}else pe.appendChild(Ge);p.select(Ge).attr(Te),pe=Oe.node=Ge,le.push(Oe)}function Me(Oe,Be){Oe.appendChild(document.createTextNode(Be))}function we(Oe){if(1!==le.length){var Be=le.pop();Oe!==Be.type&&T.log("Start tag <"+Be.type+"> doesnt match end tag <"+Oe+">. Pretending it did match.",ie),pe=le[le.length-1].node}else T.log("Ignoring unexpected end tag </"+Oe+">.",ie)}b.test(ie)?ke():(pe=q,le=[{node:q}]);for(var B=ie.split(x),P=0;P<B.length;P++){var X=B[P],j=X.match(H),I=j&&j[2].toLowerCase(),ae=L[I];if("br"===I)ke();else if(void 0===ae)Me(pe,W(X));else if(j[1])we(I);else{var O=j[4],ne={type:I},be=Q(O,N);if(be?(be=be.replace(se,"$1 fill:"),ae&&(be+=";"+ae)):ae&&(be=ae),be&&(ne.style=be),"a"===I){ue=!0;var ze=Q(O,V);if(ze){var Ne=me(ze);Ne&&(ne.href=Ne,ne.target=Q(O,Y)||"_blank",ne.popup=Q(O,$))}}Ue(ne)}}return ue}(q.node(),le)&&q.style("pointer-events","all"),K.positionText(q),ue&&ue.call(q)}};var m=/(<|&lt;|&#60;)/g,h=/(>|&gt;|&#62;)/g;var C=[["$","$"],["\\(","\\)"]];var L={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},D={sub:"0.3em",sup:"-0.6em"},w={sub:"-0.21em",sup:"0.42em"},z="\u200b",S=["http:","https:","mailto:","",void 0,":"],E=K.NEWLINES=/(\r\n?|\n)/g,x=/(<[^<>]*>)/,H=/<(\/?)([^ >]*)(\s+(.*))?>/i,b=/<br(\s+.*)?>/i;K.BR_TAG_ALL=/<br(\s+.*)?>/gi;var N=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,V=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,Y=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,$=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function Q(q,ie){if(!q)return null;var ue=q.match(ie),le=ue&&(ue[3]||ue[4]);return le&&W(le)}var se=/(^|;)\s*color:/;K.plainText=function(q,ie){for(var ue=void 0!==(ie=ie||{}).len&&-1!==ie.len?ie.len:1/0,le=void 0!==ie.allowedTags?ie.allowedTags:["br"],ke=q.split(x),Ue=[],Me="",we=0,Le=0;Le<ke.length;Le++){var B=ke[Le],P=B.match(H),X=P&&P[2].toLowerCase();if(X)-1!==le.indexOf(X)&&(Ue.push(B),Me=X);else{var j=B.length;if(we+j<ue)Ue.push(B),we+=j;else if(we<ue){var I=ue-we;Me&&("br"!==Me||I<=3||j<=3)&&Ue.pop(),Ue.push(ue>3?B.substr(0,I-3)+"...":B.substr(0,I));break}Me=""}}return Ue.join("")};var F={mu:"\u03bc",amp:"&",lt:"<",gt:">",nbsp:"\xa0",times:"\xd7",plusmn:"\xb1",deg:"\xb0"},J=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function W(q){return q.replace(J,function(ie,ue){return("#"===ue.charAt(0)?function te(q){if(!(q>1114111)){var ie=String.fromCodePoint;if(ie)return ie(q);var ue=String.fromCharCode;return q<=65535?ue(q):ue(55232+(q>>10),q%1024+56320)}}("x"===ue.charAt(1)?parseInt(ue.substr(2),16):parseInt(ue.substr(1),10)):F[ue])||ie})}function me(q){var ie=encodeURI(decodeURI(q)),ue=document.createElement("a"),le=document.createElement("a");ue.href=q,le.href=ie;var He=le.protocol;return-1!==S.indexOf(ue.protocol)&&-1!==S.indexOf(He)?ie:""}function Z(q,ie,ue){var Ue,Me,we,le=ue.horizontalAlign,pe=ue.verticalAlign||"top",He=q.node().getBoundingClientRect(),ke=ie.node().getBoundingClientRect();return Me="bottom"===pe?function(){return He.bottom-Ue.height}:"middle"===pe?function(){return He.top+(He.height-Ue.height)/2}:function(){return He.top},we="right"===le?function(){return He.right-Ue.width}:"center"===le?function(){return He.left+(He.width-Ue.width)/2}:function(){return He.left},function(){Ue=this.node().getBoundingClientRect();var Le=we()-ke.left,B=Me()-ke.top,P=ue.gd||{};if(ue.gd){P._fullLayout._calcInverseTransform(P);var X=T.apply3DTransform(P._fullLayout._invTransform)(Le,B);Le=X[0],B=X[1]}return this.style({top:B+"px",left:Le+"px","z-index":1e3}),this}}K.convertEntities=W,K.sanitizeHTML=function(ie){ie=ie.replace(E," ");for(var ue=document.createElement("p"),le=ue,pe=[],He=ie.split(x),ke=0;ke<He.length;ke++){var Ue=He[ke],Me=Ue.match(H),we=Me&&Me[2].toLowerCase();if(we in L)if(Me[1])pe.length&&(le=pe.pop());else{var Le=Me[4],B=Q(Le,N),P=B?{style:B}:{};if("a"===we){var X=Q(Le,V);if(X){var j=me(X);if(j){P.href=j;var I=Q(Le,Y);I&&(P.target=I)}}}var ae=document.createElement(we);le.appendChild(ae),p.select(ae).attr(P),le=ae,pe.push(ae)}else le.appendChild(document.createTextNode(W(Ue)))}return ue.innerHTML},K.lineCount=function(ie){return ie.selectAll("tspan.line").size()||1},K.positionText=function(ie,ue,le){return ie.each(function(){var pe=p.select(this);function He(Me,we){return void 0===we?null===(we=pe.attr(Me))&&(pe.attr(Me,0),we=0):pe.attr(Me,we),we}var ke=He("x",ue),Ue=He("y",le);"text"===this.nodeName&&pe.selectAll("tspan.line").attr({x:ke,y:Ue})})};var G="1px ";K.makeTextShadow=function(q){return G+G+G+q+", -"+G+"-"+G+G+q+", "+G+"-"+G+G+q+", -"+G+G+G+q},K.makeEditable=function(q,ie){var ue=ie.gd,le=ie.delegate,pe=p.dispatch("edit","input","cancel"),He=le||q;if(q.style({"pointer-events":le?"none":"all"}),1!==q.size())throw new Error("boo");function ke(){(function Me(){var Le=p.select(ue).select(".svg-container"),B=Le.append("div"),P=q.node().style,X=parseFloat(P.fontSize||12),j=ie.text;void 0===j&&(j=q.attr("data-unformatted")),B.classed("plugin-editable editable",!0).style({position:"absolute","font-family":P.fontFamily||"Arial","font-size":X,color:ie.fill||P.fill||"black",opacity:1,"background-color":ie.background||"transparent",outline:"#ffffff33 1px solid",margin:[-X/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(j).call(Z(q,Le,ie)).on("blur",function(){ue._editing=!1,q.text(this.textContent).style({opacity:1});var ae,I=p.select(this).attr("class");(ae=I?"."+I.split(" ")[0]+"-math-group":"[class*=-math-group]")&&p.select(q.node().parentNode).select(ae).style({opacity:0});var O=this.textContent;p.select(this).transition().duration(0).remove(),p.select(document).on("mouseup",null),pe.edit.call(q,O)}).on("focus",function(){var I=this;ue._editing=!0,p.select(document).on("mouseup",function(){if(p.event.target===I)return!1;document.activeElement===B.node()&&B.node().blur()})}).on("keyup",function(){27===p.event.which?(ue._editing=!1,q.style({opacity:1}),p.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),pe.cancel.call(q,this.textContent)):(pe.input.call(q,this.textContent),p.select(this).call(Z(q,Le,ie)))}).on("keydown",function(){13===p.event.which&&this.blur()}).call(Ue)})(),q.style({opacity:0});var Le,we=He.attr("class");(Le=we?"."+we.split(" ")[0]+"-math-group":"[class*=-math-group]")&&p.select(q.node().parentNode).select(Le).style({opacity:0})}function Ue(we){var Le=we.node(),B=document.createRange();B.selectNodeContents(Le);var P=window.getSelection();P.removeAllRanges(),P.addRange(B),Le.focus()}return ie.immediate?ke():He.on("click",ke),p.rebind(q,pe,"on")}},1200:function(ve,K){"use strict";var o={};function p(T){T&&null!==T.timer&&(clearTimeout(T.timer),T.timer=null)}K.throttle=function(v,g,f){var y=o[v],m=Date.now();if(!y){for(var h in o)o[h].ts<m-6e4&&delete o[h];y=o[v]={ts:0,timer:null}}function c(){f(),y.ts=Date.now(),y.onDone&&(y.onDone(),y.onDone=null)}p(y),m>y.ts+g?c():y.timer=setTimeout(function(){c(),y.timer=null},g)},K.done=function(T){var v=o[T];return v&&v.timer?new Promise(function(g){var f=v.onDone;v.onDone=function(){f&&f(),g(),v.onDone=null}}):Promise.resolve()},K.clear=function(T){if(T)p(o[T]),delete o[T];else for(var v in o)K.clear(v)}},6896:function(ve,K,o){"use strict";var p=o(8248);ve.exports=function(v,g){if(v>0)return Math.log(v)/Math.LN10;var f=Math.log(Math.min(g[0],g[1]))/Math.LN10;return p(f)||(f=Math.log(Math.max(g[0],g[1]))/Math.LN10-6),f}},1680:function(ve){"use strict";ve.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},6580:function(ve){"use strict";ve.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},9820:function(ve,K,o){"use strict";var p=o(4040);ve.exports=function(v){for(var m,h,g=p.layoutArrayContainers,f=p.layoutArrayRegexes,y=v.split("[")[0],c=0;c<f.length;c++)if((h=v.match(f[c]))&&0===h.index){m=h[0];break}if(m||(m=g[g.indexOf(y)]),!m)return!1;var C=v.substr(m.length);return C?!!(h=C.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:m,index:Number(h[1]),property:h[3]||""}:{array:m,index:"",property:""}}},7824:function(ve,K,o){"use strict";var p=o(2880).extendFlat,T=o(3620),v={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},g={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},f=v.flags.slice().concat(["fullReplot"]),y=g.flags.slice().concat("layoutReplot");function m(C){for(var _={},L=0;L<C.length;L++)_[C[L]]=!1;return _}function h(C,_,L){var D=p({},C);for(var w in D){var z=D[w];T(z)&&(D[w]=c(z,_,0,w))}return"from-root"===L&&(D.editType=_),D}function c(C,_,L,D){if(C.valType){var w=p({},C);if(w.editType=_,Array.isArray(C.items)){w.items=new Array(C.items.length);for(var z=0;z<C.items.length;z++)w.items[z]=c(C.items[z],_)}return w}return h(C,_,"_"===D.charAt(0)?"nested":"from-root")}ve.exports={traces:v,layout:g,traceFlags:function(){return m(f)},layoutFlags:function(){return m(y)},update:function(C,_){var L=_.editType;if(L&&"none"!==L)for(var D=L.split("+"),w=0;w<D.length;w++)C[D[w]]=!0},overrideAll:h}},3404:function(ve,K,o){"use strict";var p=o(8248),T=o(1784),v=o(4040),g=o(3400),f=o(7316),y=o(9811),m=o(6308),h=y.cleanId,c=y.getFromTrace,C=v.traceIs;function _(b,N){var V=b[N],Y=N.charAt(0);V&&"paper"!==V&&(b[N]=h(V,Y,!0))}function L(b){function N(V,Y){b[V]&&(!b.title||!b.title[Y])&&(b.title||(b.title={}),b.title[Y]=b[V],delete b[V])}b&&(("string"==typeof b.title||"number"==typeof b.title)&&(b.title={text:b.title}),N("titlefont","font"),N("titleposition","position"),N("titleside","side"),N("titleoffset","offset"))}function D(b){if(!g.isPlainObject(b))return!1;var N=b.name;return delete b.name,delete b.showlegend,("string"==typeof N||"number"==typeof N)&&String(N)}function w(b,N,V,Y){if(V&&!Y)return b;if(Y&&!V||!b.trim())return N;if(!N.trim())return b;var Q,$=Math.min(b.length,N.length);for(Q=0;Q<$&&b.charAt(Q)===N.charAt(Q);Q++);return b.substr(0,Q).trim()}function z(b){var N="middle",V="center";return"string"==typeof b&&(-1!==b.indexOf("top")?N="top":-1!==b.indexOf("bottom")&&(N="bottom"),-1!==b.indexOf("left")?V="left":-1!==b.indexOf("right")&&(V="right")),N+" "+V}function S(b,N){return N in b&&"object"==typeof b[N]&&0===Object.keys(b[N]).length}K.clearPromiseQueue=function(b){Array.isArray(b._promises)&&b._promises.length>0&&g.log("Clearing previous rejected promises from queue."),b._promises=[]},K.cleanLayout=function(b){var N,V;b||(b={}),b.xaxis1&&(b.xaxis||(b.xaxis=b.xaxis1),delete b.xaxis1),b.yaxis1&&(b.yaxis||(b.yaxis=b.yaxis1),delete b.yaxis1),b.scene1&&(b.scene||(b.scene=b.scene1),delete b.scene1);var Y=(f.subplotsRegistry.cartesian||{}).attrRegex,$=(f.subplotsRegistry.polar||{}).attrRegex,Q=(f.subplotsRegistry.ternary||{}).attrRegex,se=(f.subplotsRegistry.gl3d||{}).attrRegex,F=Object.keys(b);for(N=0;N<F.length;N++){var J=F[N];if(Y&&Y.test(J)){var W=b[J];W.anchor&&"free"!==W.anchor&&(W.anchor=h(W.anchor)),W.overlaying&&(W.overlaying=h(W.overlaying)),W.type||(W.isdate?W.type="date":W.islog?W.type="log":!1===W.isdate&&!1===W.islog&&(W.type="linear")),("withzero"===W.autorange||"tozero"===W.autorange)&&(W.autorange=!0,W.rangemode="tozero"),W.insiderange&&delete W.range,delete W.islog,delete W.isdate,delete W.categories,S(W,"domain")&&delete W.domain,void 0!==W.autotick&&(void 0===W.tickmode&&(W.tickmode=W.autotick?"auto":"linear"),delete W.autotick),L(W)}else if($&&$.test(J))L(b[J].radialaxis);else if(Q&&Q.test(J)){var fe=b[J];L(fe.aaxis),L(fe.baxis),L(fe.caxis)}else if(se&&se.test(J)){var me=b[J],Z=me.cameraposition;if(Array.isArray(Z)&&4===Z[0].length){var q=Z[1],ie=Z[2],ue=T([],Z[0]),le=[];for(V=0;V<3;++V)le[V]=q[V]+ie*ue[2+4*V];me.camera={eye:{x:le[0],y:le[1],z:le[2]},center:{x:q[0],y:q[1],z:q[2]},up:{x:0,y:0,z:1}},delete me.cameraposition}L(me.xaxis),L(me.yaxis),L(me.zaxis)}}var pe=Array.isArray(b.annotations)?b.annotations.length:0;for(N=0;N<pe;N++){var He=b.annotations[N];g.isPlainObject(He)&&(He.ref&&("paper"===He.ref?(He.xref="paper",He.yref="paper"):"data"===He.ref&&(He.xref="x",He.yref="y"),delete He.ref),_(He,"xref"),_(He,"yref"))}var ke=Array.isArray(b.shapes)?b.shapes.length:0;for(N=0;N<ke;N++){var Ue=b.shapes[N];g.isPlainObject(Ue)&&(_(Ue,"xref"),_(Ue,"yref"))}var Me=Array.isArray(b.images)?b.images.length:0;for(N=0;N<Me;N++){var we=b.images[N];g.isPlainObject(we)&&(_(we,"xref"),_(we,"yref"))}var Le=b.legend;return Le&&(Le.x>3?(Le.x=1.02,Le.xanchor="left"):Le.x<-2&&(Le.x=-.02,Le.xanchor="right"),Le.y>3?(Le.y=1.02,Le.yanchor="bottom"):Le.y<-2&&(Le.y=-.02,Le.yanchor="top")),L(b),"rotate"===b.dragmode&&(b.dragmode="orbit"),m.clean(b),b.template&&b.template.layout&&K.cleanLayout(b.template.layout),b},K.cleanData=function(b){for(var N=0;N<b.length;N++){var Y,V=b[N];if("histogramy"===V.type&&"xbins"in V&&!("ybins"in V)&&(V.ybins=V.xbins,delete V.xbins),V.error_y&&"opacity"in V.error_y){var $=m.defaults,Q=V.error_y.color||(C(V,"bar")?m.defaultLine:$[N%$.length]);V.error_y.color=m.addOpacity(m.rgb(Q),m.opacity(Q)*V.error_y.opacity),delete V.error_y.opacity}if("bardir"in V&&("h"===V.bardir&&(C(V,"bar")||"histogram"===V.type.substr(0,9))&&(V.orientation="h",K.swapXYData(V)),delete V.bardir),"histogramy"===V.type&&K.swapXYData(V),("histogramx"===V.type||"histogramy"===V.type)&&(V.type="histogram"),"scl"in V&&!("colorscale"in V)&&(V.colorscale=V.scl,delete V.scl),"reversescl"in V&&!("reversescale"in V)&&(V.reversescale=V.reversescl,delete V.reversescl),V.xaxis&&(V.xaxis=h(V.xaxis,"x")),V.yaxis&&(V.yaxis=h(V.yaxis,"y")),C(V,"gl3d")&&V.scene&&(V.scene=f.subplotsRegistry.gl3d.cleanId(V.scene)),!C(V,"pie-like")&&!C(V,"bar-like"))if(Array.isArray(V.textposition))for(Y=0;Y<V.textposition.length;Y++)V.textposition[Y]=z(V.textposition[Y]);else V.textposition&&(V.textposition=z(V.textposition));var se=v.getModule(V);if(se&&se.colorbar){var F=se.colorbar.container,J=F?V[F]:V;J&&J.colorscale&&("YIGnBu"===J.colorscale&&(J.colorscale="YlGnBu"),"YIOrRd"===J.colorscale&&(J.colorscale="YlOrRd"))}if("surface"===V.type&&g.isPlainObject(V.contours)){var W=["x","y","z"];for(Y=0;Y<W.length;Y++){var te=V.contours[W[Y]];g.isPlainObject(te)&&(te.highlightColor&&(te.highlightcolor=te.highlightColor,delete te.highlightColor),te.highlightWidth&&(te.highlightwidth=te.highlightWidth,delete te.highlightWidth))}}if("candlestick"===V.type||"ohlc"===V.type){var fe=!1!==(V.increasing||{}).showlegend,me=!1!==(V.decreasing||{}).showlegend,Z=D(V.increasing),G=D(V.decreasing);if(!1!==Z&&!1!==G){var q=w(Z,G,fe,me);q&&(V.name=q)}else(Z||G)&&!V.name&&(V.name=Z||G)}if(Array.isArray(V.transforms)){var ie=V.transforms;for(Y=0;Y<ie.length;Y++){var ue=ie[Y];if(g.isPlainObject(ue))switch(ue.type){case"filter":ue.filtersrc&&(ue.target=ue.filtersrc,delete ue.filtersrc),ue.calendar&&(ue.valuecalendar||(ue.valuecalendar=ue.calendar),delete ue.calendar);break;case"groupby":if(ue.styles=ue.styles||ue.style,ue.styles&&!Array.isArray(ue.styles)){var le=ue.styles,pe=Object.keys(le);ue.styles=[];for(var He=0;He<pe.length;He++)ue.styles.push({target:pe[He],value:le[pe[He]]})}}}}S(V,"line")&&delete V.line,"marker"in V&&(S(V.marker,"line")&&delete V.marker.line,S(V,"marker")&&delete V.marker),m.clean(V),V.autobinx&&(delete V.autobinx,delete V.xbins),V.autobiny&&(delete V.autobiny,delete V.ybins),L(V),V.colorbar&&L(V.colorbar),V.marker&&V.marker.colorbar&&L(V.marker.colorbar),V.line&&V.line.colorbar&&L(V.line.colorbar),V.aaxis&&L(V.aaxis),V.baxis&&L(V.baxis)}},K.swapXYData=function(b){var N;if(g.swapAttrs(b,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(b.z)&&Array.isArray(b.z[0])&&(b.transpose?delete b.transpose:b.transpose=!0),b.error_x&&b.error_y){var V=b.error_y,Y="copy_ystyle"in V?V.copy_ystyle:!(V.color||V.thickness||V.width);g.swapAttrs(b,["error_?.copy_ystyle"]),Y&&g.swapAttrs(b,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof b.hoverinfo){var $=b.hoverinfo.split("+");for(N=0;N<$.length;N++)"x"===$[N]?$[N]="y":"y"===$[N]&&($[N]="x");b.hoverinfo=$.join("+")}},K.coerceTraceIndices=function(b,N){if(p(N))return[N];if(!Array.isArray(N)||!N.length)return b.data.map(function($,Q){return Q});if(Array.isArray(N)){for(var V=[],Y=0;Y<N.length;Y++)g.isIndex(N[Y],b.data.length)?V.push(N[Y]):g.warn("trace index (",N[Y],") is not a number or is out of bounds");return V}return N},K.manageArrayContainers=function(b,N,V){var Y=b.obj,$=b.parts,Q=$.length,se=$[Q-1],F=p(se);if(F&&null===N){var J=$.slice(0,Q-1).join(".");g.nestedProperty(Y,J).get().splice(se,1)}else F&&void 0===b.get()&&void 0===b.get()&&(V[b.astr]=null),b.set(N)};var E=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function x(b){var N=b.search(E);if(N>0)return b.substr(0,N)}K.hasParent=function(b,N){for(var V=x(N);V;){if(V in b)return!0;V=x(V)}return!1};var H=["x","y","z"];K.clearAxisTypes=function(b,N,V){for(var Y=0;Y<N.length;Y++)for(var $=b._fullData[Y],Q=0;Q<3;Q++){var se=c(b,$,H[Q]);if(se&&"log"!==se.type){var F=se._name,J=se._id.substr(1);if("scene"===J.substr(0,5)){if(void 0!==V[J])continue;F=J+"."+F}var W=F+".type";void 0===V[F]&&void 0===V[W]&&g.nestedProperty(b.layout,W).set(null)}}}},2448:function(ve,K,o){"use strict";var p=o(6424);K._doPlot=p._doPlot,K.newPlot=p.newPlot,K.restyle=p.restyle,K.relayout=p.relayout,K.redraw=p.redraw,K.update=p.update,K._guiRestyle=p._guiRestyle,K._guiRelayout=p._guiRelayout,K._guiUpdate=p._guiUpdate,K._storeDirectGUIEdit=p._storeDirectGUIEdit,K.react=p.react,K.extendTraces=p.extendTraces,K.prependTraces=p.prependTraces,K.addTraces=p.addTraces,K.deleteTraces=p.deleteTraces,K.moveTraces=p.moveTraces,K.purge=p.purge,K.addFrames=p.addFrames,K.deleteFrames=p.deleteFrames,K.animate=p.animate,K.setPlotConfig=p.setPlotConfig;var T=o(2200).getGraphDiv,v=o(4016).eraseActiveShape;K.deleteActiveShape=function(f){return v(T(f))},K.toImage=o(7024),K.validate=o(1480),K.downloadImage=o(7412);var g=o(4828);K.makeTemplate=g.makeTemplate,K.validateTemplate=g.validateTemplate},7680:function(ve,K,o){"use strict";var p=o(3620),T=o(6628),v=o(4248),g=o(4952).sorterAsc,f=o(4040);K.containerArrayMatch=o(9820);var y=K.isAddVal=function(c){return"add"===c||p(c)},m=K.isRemoveVal=function(c){return null===c||"remove"===c};K.applyContainerArrayChanges=function(c,C,_,L,D){var w=C.astr,z=f.getComponentMethod(w,"supplyLayoutDefaults"),S=f.getComponentMethod(w,"draw"),E=f.getComponentMethod(w,"drawOne"),x=L.replot||L.recalc||z===T||S===T,H=c.layout,b=c._fullLayout;if(_[""]){Object.keys(_).length>1&&v.warn("Full array edits are incompatible with other edits",w);var N=_[""][""];if(m(N))C.set(null);else{if(!Array.isArray(N))return v.warn("Unrecognized full array edit value",w,N),!0;C.set(N)}return!x&&(z(H,b),S(c),!0)}var W,te,fe,me,Z,G,q,V=Object.keys(_).map(Number).sort(g),Y=C.get(),$=Y||[],Q=D(b,w).get(),se=[],F=-1,J=$.length;for(W=0;W<V.length;W++)if(me=_[fe=V[W]],Z=Object.keys(me),q=y(G=me[""]),fe<0||fe>$.length-(q?0:1))v.warn("index out of range",w,fe);else if(void 0!==G)Z.length>1&&v.warn("Insertion & removal are incompatible with edits to the same index.",w,fe),m(G)?se.push(fe):q?("add"===G&&(G={}),$.splice(fe,0,G),Q&&Q.splice(fe,0,{})):v.warn("Unrecognized full object edit value",w,fe,G),-1===F&&(F=fe);else for(te=0;te<Z.length;te++)D($[fe],Z[te],w+"["+fe+"].").set(me[Z[te]]);for(W=se.length-1;W>=0;W--)$.splice(se[W],1),Q&&Q.splice(se[W],1);if($.length?Y||C.set($):C.set(null),x)return!1;if(z(H,b),E!==T){var ue;if(-1===F)ue=V;else{for(J=Math.max($.length,J),ue=[],W=0;W<V.length&&!((fe=V[W])>=F);W++)ue.push(fe);for(W=F;W<J;W++)ue.push(W)}for(W=0;W<ue.length;W++)E(c,ue[W])}else S(c);return!0}},6424:function(ve,K,o){"use strict";var p=o(3428),T=o(8248),v=o(2264),g=o(3400),f=g.nestedProperty,y=o(5924),m=o(4552),h=o(4040),c=o(3060),C=o(7316),_=o(4460),L=o(6312),D=o(4724),w=o(3616),z=o(6308),S=o(2464).initInteractions,E=o(9616),x=o(2676).clearOutline,H=o(556).dfltConfig,b=o(7680),N=o(3404),V=o(9172),Y=o(7824),$=o(3816).AX_NAME_PATTERN,Q=0;function J(ye){var De=ye._fullLayout;De._redrawFromAutoMarginCount?De._redrawFromAutoMarginCount--:ye.emit("plotly_afterplot")}function te(ye,De){try{ye._fullLayout._paper.style("background",De)}catch($e){g.error($e)}}function fe(ye,De){te(ye,z.combine(De,"white"))}function me(ye,De){if(!ye._context){ye._context=g.extendDeep({},H);var $e=p.select("base");ye._context._baseUrl=$e.size()&&$e.attr("href")?window.location.href.split("#")[0]:""}var Ye,at,Rt,je=ye._context;if(De){for(at=Object.keys(De),Ye=0;Ye<at.length;Ye++)"editable"!==(Rt=at[Ye])&&"edits"!==Rt&&Rt in je&&(je[Rt]="setBackground"===Rt&&"opaque"===De[Rt]?fe:De[Rt]);De.plot3dPixelRatio&&!je.plotGlPixelRatio&&(je.plotGlPixelRatio=je.plot3dPixelRatio);var tt=De.editable;if(void 0!==tt)for(je.editable=tt,at=Object.keys(je.edits),Ye=0;Ye<at.length;Ye++)je.edits[at[Ye]]=tt;if(De.edits)for(at=Object.keys(De.edits),Ye=0;Ye<at.length;Ye++)(Rt=at[Ye])in je.edits&&(je.edits[Rt]=De.edits[Rt]);je._exportedPlot=De._exportedPlot}je.staticPlot&&(je.editable=!1,je.edits={},je.autosizable=!1,je.scrollZoom=!1,je.doubleClick=!1,je.showTips=!1,je.showLink=!1,je.displayModeBar=!1),"hover"===je.displayModeBar&&!v&&(je.displayModeBar=!0),("transparent"===je.setBackground||"function"!=typeof je.setBackground)&&(je.setBackground=te),je._hasZeroHeight=je._hasZeroHeight||0===ye.clientHeight,je._hasZeroWidth=je._hasZeroWidth||0===ye.clientWidth;var yt=je.scrollZoom,ct=je._scrollZoom={};if(!0===yt)ct.cartesian=1,ct.gl3d=1,ct.geo=1,ct.mapbox=1;else if("string"==typeof yt){var Et=yt.split("+");for(Ye=0;Ye<Et.length;Ye++)ct[Et[Ye]]=1}else!1!==yt&&(ct.gl3d=1,ct.geo=1,ct.mapbox=1)}function q(ye,De){var Ye,at,$e=De+1,je=[];for(Ye=0;Ye<ye.length;Ye++)je.push((at=ye[Ye])<0?$e+at:at);return je}function ie(ye,De,$e){var je,Ye;for(je=0;je<De.length;je++){if((Ye=De[je])!==parseInt(Ye,10))throw new Error("all values in "+$e+" must be integers");if(Ye>=ye.data.length||Ye<-ye.data.length)throw new Error($e+" must be valid indices for gd.data.");if(De.indexOf(Ye,je+1)>-1||Ye>=0&&De.indexOf(-ye.data.length+Ye)>-1||Ye<0&&De.indexOf(ye.data.length+Ye)>-1)throw new Error("each index in "+$e+" must be unique.")}}function ue(ye,De,$e){if(!Array.isArray(ye.data))throw new Error("gd.data must be an array.");if(typeof De>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(De)||(De=[De]),ie(ye,De,"currentIndices"),typeof $e<"u"&&!Array.isArray($e)&&($e=[$e]),typeof $e<"u"&&ie(ye,$e,"newIndices"),typeof $e<"u"&&De.length!==$e.length)throw new Error("current and new indices must be of equal length.")}function ke(ye,De,$e,je,Ye){!function pe(ye,De,$e,je){var Ye=g.isPlainObject(je);if(!Array.isArray(ye.data))throw new Error("gd.data must be an array");if(!g.isPlainObject(De))throw new Error("update must be a key:value object");if(typeof $e>"u")throw new Error("indices must be an integer or array of integers");for(var at in ie(ye,$e,"indices"),De){if(!Array.isArray(De[at])||De[at].length!==$e.length)throw new Error("attribute "+at+" must be an array of length equal to indices array length");if(Ye&&(!(at in je)||!Array.isArray(je[at])||je[at].length!==De[at].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(ye,De,$e,je);for(var at=function He(ye,De,$e,je){var tt,yt,ct,Et,Ye=g.isPlainObject(je),at=[];for(var hn in Array.isArray($e)||($e=[$e]),$e=q($e,ye.data.length-1),De)for(var Tn=0;Tn<$e.length;Tn++){if(tt=(yt=f(ye.data[$e[Tn]],hn)).get(),!g.isArrayOrTypedArray(ct=De[hn][Tn]))throw new Error("attribute: "+hn+" index: "+Tn+" must be an array");if(!g.isArrayOrTypedArray(tt))throw new Error("cannot extend missing or non-array attribute: "+hn);if(tt.constructor!==ct.constructor)throw new Error("cannot extend array with an array of a different type: "+hn);T(Et=Ye?je[hn][Tn]:je)||(Et=-1),at.push({prop:yt,target:tt,insert:ct,maxp:Math.floor(Et)})}return at}(ye,De,$e,je),Rt={},tt={},yt=0;yt<at.length;yt++){var ct=at[yt].prop,hn=Ye(at[yt].target,at[yt].insert,at[yt].maxp);ct.set(hn[0]),Array.isArray(Rt[ct.astr])||(Rt[ct.astr]=[]),Rt[ct.astr].push(hn[1]),Array.isArray(tt[ct.astr])||(tt[ct.astr]=[]),tt[ct.astr].push(at[yt].target.length)}return{update:Rt,maxPoints:tt}}function Ue(ye,De){var $e=new ye.constructor(ye.length+De.length);return $e.set(ye),$e.set(De,ye.length),$e}function X(ye,De,$e,je){ye=g.getGraphDiv(ye),N.clearPromiseQueue(ye);var Ye={};if("string"==typeof De)Ye[De]=$e;else{if(!g.isPlainObject(De))return g.warn("Restyle fail.",De,$e,je),Promise.reject();Ye=g.extendFlat({},De),void 0===je&&(je=$e)}Object.keys(Ye).length&&(ye.changed=!0);var at=N.coerceTraceIndices(ye,je),Rt=ne(ye,Ye,at),tt=Rt.flags;tt.calc&&(ye.calcdata=void 0),tt.clearAxisTypes&&N.clearAxisTypes(ye,at,{});var yt=[];tt.fullReplot?yt.push(K._doPlot):(yt.push(C.previousPromises),C.supplyDefaults(ye),tt.markerSize&&(C.doCalcdata(ye),Oe(yt)),tt.style&&yt.push(V.doTraceStyle),tt.colorbars&&yt.push(V.doColorBars),yt.push(J)),yt.push(C.rehover,C.redrag,C.reselect),m.add(ye,X,[ye,Rt.undoit,Rt.traces],X,[ye,Rt.redoit,Rt.traces]);var ct=g.syncOrAsync(yt,ye);return(!ct||!ct.then)&&(ct=Promise.resolve()),ct.then(function(){return ye.emit("plotly_restyle",Rt.eventData),ye})}function j(ye){return void 0===ye?null:ye}function I(ye,De){return De?function($e,je,Ye){var at=f($e,je),Rt=at.set;return at.set=function(tt){ae((Ye||"")+je,at.get(),tt,ye),Rt(tt)},at}:f}function ae(ye,De,$e,je){if(Array.isArray(De)||Array.isArray($e))for(var Ye=Array.isArray(De)?De:[],at=Array.isArray($e)?$e:[],Rt=Math.max(Ye.length,at.length),tt=0;tt<Rt;tt++)ae(ye+"["+tt+"]",Ye[tt],at[tt],je);else if(g.isPlainObject(De)||g.isPlainObject($e)){var yt=g.isPlainObject(De)?De:{},ct=g.isPlainObject($e)?$e:{},Et=g.extendFlat({},yt,ct);for(var hn in Et)ae(ye+"."+hn,yt[hn],ct[hn],je)}else void 0===je[ye]&&(je[ye]=j(De))}function ne(ye,De,$e){var ct,je=ye._fullLayout,Ye=ye._fullData,at=ye.data,Rt=je._guiEditing,tt=I(je._preGUI,Rt),yt=g.extendDeepAll({},De);be(De);var Rn,Et=Y.traceFlags(),hn={},Tn={};function Gn(){return $e.map(function(){})}function Yn(zn){var Pn=_.id2name(zn);-1===Rn.indexOf(Pn)&&Rn.push(Pn)}function Kt(zn){return"LAYOUT"+zn+".autorange"}function Wn(zn){return"LAYOUT"+zn+".range"}function kn(zn){for(var Pn=zn;Pn<Ye.length;Pn++)if(Ye[Pn]._input===at[zn])return Ye[Pn]}function Vn(zn,Pn,xn){if(Array.isArray(zn))zn.forEach(function(Cr){Vn(Cr,Pn,xn)});else if(!(zn in De)&&!N.hasParent(De,zn)){var wn;if("LAYOUT"===zn.substr(0,6))wn=tt(ye.layout,zn.replace("LAYOUT",""));else{var Xn=$e[xn];wn=I(je._tracePreGUI[kn(Xn)._fullInput.uid],Rt)(at[Xn],zn)}zn in Tn||(Tn[zn]=Gn()),void 0===Tn[zn][xn]&&(Tn[zn][xn]=j(wn.get())),void 0!==Pn&&wn.set(Pn)}}function Zn(zn){return function(Pn){return Ye[Pn][zn]}}function bn(zn){return function(Pn,xn){return!1===Pn?Ye[$e[xn]][zn]:null}}for(var Zt in De){if(N.hasParent(De,Zt))throw new Error("cannot set "+Zt+" and a parent attribute simultaneously");var An,$n,dr,vr,Fn,ge,Nn=De[Zt];if(("autobinx"===Zt||"autobiny"===Zt)&&(Zt=Zt.charAt(Zt.length-1)+"bins",Nn=Array.isArray(Nn)?Nn.map(bn(Zt)):!1===Nn?$e.map(Zn(Zt)):null),hn[Zt]=Nn,"LAYOUT"!==Zt.substr(0,6)){for(Tn[Zt]=Gn(),ct=0;ct<$e.length;ct++)if(An=at[$e[ct]],$n=kn($e[ct]),vr=(dr=I(je._tracePreGUI[$n._fullInput.uid],Rt)(An,Zt)).get(),void 0!==(Fn=Array.isArray(Nn)?Nn[ct%Nn.length]:Nn)){var lt=dr.parts[dr.parts.length-1],ot=Zt.substr(0,Zt.length-lt.length-1),pt=ot?ot+".":"",mt=ot?f($n,ot).get():$n;if((ge=c.getTraceValObject($n,dr.parts))&&ge.impliedEdits&&null!==Fn)for(var Tt in ge.impliedEdits)Vn(g.relativeAttr(Zt,Tt),ge.impliedEdits[Tt],ct);else if("thicknessmode"!==lt&&"lenmode"!==lt||vr===Fn||"fraction"!==Fn&&"pixels"!==Fn||!mt){if("type"===Zt&&("pie"===Fn!=("pie"===vr)||"funnelarea"===Fn!=("funnelarea"===vr))){var an="x",vn="y";("bar"===Fn||"bar"===vr)&&"h"===An.orientation&&(an="y",vn="x"),g.swapAttrs(An,["?","?src"],"labels",an),g.swapAttrs(An,["d?","?0"],"label",an),g.swapAttrs(An,["?","?src"],"values",vn),"pie"===vr||"funnelarea"===vr?(f(An,"marker.color").set(f(An,"marker.colors").get()),je._pielayer.selectAll("g.trace").remove()):h.traceIs(An,"cartesian")&&f(An,"marker.colors").set(f(An,"marker.color").get())}}else{var ht=je._size,ut=mt.orient,Ht="top"===ut||"bottom"===ut;if("thicknessmode"===lt){var _t=Ht?ht.h:ht.w;Vn(pt+"thickness",mt.thickness*("fraction"===Fn?1/_t:_t),ct)}else{var jt=Ht?ht.w:ht.h;Vn(pt+"len",mt.len*("fraction"===Fn?1/jt:jt),ct)}}if(Tn[Zt][ct]=j(vr),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Zt)){if("orientation"===Zt){dr.set(Fn);var un=An.x&&!An.y?"h":"v";if((dr.get()||un)===$n.orientation)continue}else"orientationaxes"===Zt&&(An.orientation={v:"h",h:"v"}[$n.orientation]);N.swapXYData(An),Et.calc=Et.clearAxisTypes=!0}else-1!==C.dataArrayContainers.indexOf(dr.parts[0])?(N.manageArrayContainers(dr,Fn,Tn),Et.calc=!0):(ge?ge.arrayOk&&!h.traceIs($n,"regl")&&(g.isArrayOrTypedArray(Fn)||g.isArrayOrTypedArray(vr))?Et.calc=!0:Y.update(Et,ge):Et.calc=!0,dr.set(Fn))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(Zt)&&_.swap(ye,$e),"orientationaxes"===Zt){var sn=f(ye.layout,"hovermode"),Jt=sn.get();"x"===Jt?sn.set("y"):"y"===Jt?sn.set("x"):"x unified"===Jt?sn.set("y unified"):"y unified"===Jt&&sn.set("x unified")}if(-1!==["orientation","type"].indexOf(Zt)){for(Rn=[],ct=0;ct<$e.length;ct++){var Mn=at[$e[ct]];h.traceIs(Mn,"cartesian")&&(Yn(Mn.xaxis||"x"),Yn(Mn.yaxis||"y"))}Vn(Rn.map(Kt),!0,0),Vn(Rn.map(Wn),[0,1],0)}}else dr=tt(ye.layout,Zt.replace("LAYOUT","")),Tn[Zt]=[j(dr.get())],dr.set(Array.isArray(Nn)?Nn[0]:Nn),Et.calc=!0}return(Et.calc||Et.plot)&&(Et.fullReplot=!0),{flags:Et,undoit:Tn,redoit:hn,traces:$e,eventData:g.extendDeepNoArrays([],[yt,$e])}}function be(ye){var Ye,at,Rt,De=g.counterRegex("axis",".title",!1,!1),$e=/colorbar\.title$/,je=Object.keys(ye);for(Ye=0;Ye<je.length;Ye++)Rt=ye[at=je[Ye]],"title"!==at&&!De.test(at)&&!$e.test(at)||"string"!=typeof Rt&&"number"!=typeof Rt?at.indexOf("titlefont")>-1&&-1===at.indexOf("grouptitlefont")?tt(at,at.replace("titlefont","title.font")):at.indexOf("titleposition")>-1?tt(at,at.replace("titleposition","title.position")):at.indexOf("titleside")>-1?tt(at,at.replace("titleside","title.side")):at.indexOf("titleoffset")>-1&&tt(at,at.replace("titleoffset","title.offset")):tt(at,at.replace("title","title.text"));function tt(yt,ct){ye[ct]=ye[yt],delete ye[yt]}}function ze(ye,De,$e){ye=g.getGraphDiv(ye),N.clearPromiseQueue(ye);var je={};if("string"==typeof De)je[De]=$e;else{if(!g.isPlainObject(De))return g.warn("Relayout fail.",De,$e),Promise.reject();je=g.extendFlat({},De)}Object.keys(je).length&&(ye.changed=!0);var Ye=Pe(ye,je),at=Ye.flags;at.calc&&(ye.calcdata=void 0);var Rt=[C.previousPromises];at.layoutReplot?Rt.push(V.layoutReplot):Object.keys(je).length&&(Ne(ye,at,Ye)||C.supplyDefaults(ye),at.legend&&Rt.push(V.doLegend),at.layoutstyle&&Rt.push(V.layoutStyles),at.axrange&&Oe(Rt,Ye.rangesAltered),at.ticks&&Rt.push(V.doTicksRelayout),at.modebar&&Rt.push(V.doModeBar),at.camera&&Rt.push(V.doCamera),at.colorbars&&Rt.push(V.doColorBars),Rt.push(J)),Rt.push(C.rehover,C.redrag,C.reselect),m.add(ye,ze,[ye,Ye.undoit],ze,[ye,Ye.redoit]);var tt=g.syncOrAsync(Rt,ye);return(!tt||!tt.then)&&(tt=Promise.resolve(ye)),tt.then(function(){return ye.emit("plotly_relayout",Ye.eventData),ye})}function Ne(ye,De,$e){var je=ye._fullLayout;if(!De.axrange)return!1;for(var Ye in De)if("axrange"!==Ye&&De[Ye])return!1;var at,Rt,tt=function(Rn,Gn){return g.coerce(at,Rt,D,Rn,Gn)},yt={};for(var ct in $e.rangesAltered){var Et=_.id2name(ct);if(L(at=ye.layout[Et],Rt=je[Et],tt,yt),Rt._matchGroup)for(var hn in Rt._matchGroup)if(hn!==ct){var Tn=je[_.id2name(hn)];Tn.autorange=Rt.autorange,Tn.range=Rt.range.slice(),Tn._input.range=Rt.range.slice()}}return!0}function Oe(ye,De){ye.push(x,V.doAutoRangeAndConstraints,De?function(je){var Ye=[];for(var Rt in De){var tt=_.getFromId(je,Rt);if(Ye.push(Rt),-1!==(tt.ticklabelposition||"").indexOf("inside")&&tt._anchorAxis&&Ye.push(tt._anchorAxis._id),tt._matchGroup)for(var yt in tt._matchGroup)De[yt]||Ye.push(yt)}return _.draw(je,Ye,{skipTitle:!0})}:function(je){return _.draw(je,"redraw")},V.drawData,V.finalDraw)}var Be=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Te=/^[xyz]axis[0-9]*\.autorange$/,Ve=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Pe(ye,De){var Et,hn,Tn,$e=ye.layout,je=ye._fullLayout,at=I(je._preGUI,je._guiEditing),Rt=Object.keys(De),tt=_.list(ye),yt=g.extendDeepAll({},De),ct={};for(be(De),Rt=Object.keys(De),hn=0;hn<Rt.length;hn++)if(0===Rt[hn].indexOf("allaxes")){for(Tn=0;Tn<tt.length;Tn++){var Rn=tt[Tn]._id.substr(1),Gn=-1!==Rn.indexOf("scene")?Rn+".":"",Yn=Rt[hn].replace("allaxes",Gn+tt[Tn]._name);De[Yn]||(De[Yn]=De[Rt[hn]])}delete De[Rt[hn]]}var Kt=Y.layoutFlags(),Wn={},kn={};function Vn(gr,Cr){if(Array.isArray(gr))gr.forEach(function(Mr){Vn(Mr,Cr)});else if(!(gr in De)&&!N.hasParent(De,gr)){var ci=at($e,gr);gr in kn||(kn[gr]=j(ci.get())),void 0!==Cr&&ci.set(Cr)}}var bn,Zn={};function Zt(gr){var Cr=_.name2id(gr.split(".")[0]);return Zn[Cr]=1,Cr}for(var Nn in De){if(N.hasParent(De,Nn))throw new Error("cannot set "+Nn+" and a parent attribute simultaneously");for(var An=at($e,Nn),$n=De[Nn],vr=An.parts.length-1;vr>0&&"string"!=typeof An.parts[vr];)vr--;var Fn=An.parts[vr],ge=An.parts[vr-1]+"."+Fn,de=An.parts.slice(0,vr).join("."),lt=f(ye.layout,de).get(),ot=f(je,de).get(),pt=An.get();if(void 0!==$n){Wn[Nn]=$n,kn[Nn]="reverse"===Fn?$n:j(pt);var mt=c.getLayoutValObject(je,An.parts);if(mt&&mt.impliedEdits&&null!==$n)for(var Tt in mt.impliedEdits)Vn(g.relativeAttr(Nn,Tt),mt.impliedEdits[Tt]);if(-1!==["width","height"].indexOf(Nn))if($n){Vn("autosize",null);var ht="height"===Nn?"width":"height";Vn(ht,je[ht])}else je[Nn]=ye._initialAutoSize[Nn];else if("autosize"===Nn)Vn("width",$n?null:je.width),Vn("height",$n?null:je.height);else if(ge.match(Be))Zt(ge),f(je,de+"._inputRange").set(null);else if(ge.match(Te)){Zt(ge),f(je,de+"._inputRange").set(null);var ut=f(je,de).get();ut._inputDomain&&(ut._input.domain=ut._inputDomain.slice())}else ge.match(Ve)&&f(je,de+"._inputDomain").set(null);if("type"===Fn){bn=lt;var Ht="linear"===ot.type&&"log"===$n;if(Ht||"log"===ot.type&&"linear"===$n){if(bn&&bn.range)if(ot.autorange)Ht&&(bn.range=bn.range[1]>bn.range[0]?[1,2]:[2,1]);else{var jt=bn.range[0],an=bn.range[1];Ht?(jt<=0&&an<=0&&Vn(de+".autorange",!0),jt<=0?jt=an/1e6:an<=0&&(an=jt/1e6),Vn(de+".range[0]",Math.log(jt)/Math.LN10),Vn(de+".range[1]",Math.log(an)/Math.LN10)):(Vn(de+".range[0]",Math.pow(10,jt)),Vn(de+".range[1]",Math.pow(10,an)))}else Vn(de+".autorange",!0);Array.isArray(je._subplots.polar)&&je._subplots.polar.length&&je[An.parts[0]]&&"radialaxis"===An.parts[1]&&delete je[An.parts[0]]._subplot.viewInitial["radialaxis.range"],h.getComponentMethod("annotations","convertCoords")(ye,ot,$n,Vn),h.getComponentMethod("images","convertCoords")(ye,ot,$n,Vn)}else Vn(de+".autorange",!0),Vn(de+".range",null);f(je,de+"._inputRange").set(null)}else if(Fn.match($)){var vn=f(je,Nn).get(),Nt=($n||{}).type;(!Nt||"-"===Nt)&&(Nt="linear"),h.getComponentMethod("annotations","convertCoords")(ye,vn,Nt,Vn),h.getComponentMethod("images","convertCoords")(ye,vn,Nt,Vn)}var un=b.containerArrayMatch(Nn);if(un){Et=un.array;var sn=un.property,Jt=mt||{editType:"calc"};""!==(hn=un.index)&&""===sn&&(b.isAddVal($n)?kn[Nn]=null:b.isRemoveVal($n)?kn[Nn]=(f($e,Et).get()||[])[hn]:g.warn("unrecognized full object value",De)),Y.update(Kt,Jt),ct[Et]||(ct[Et]={});var Mn=ct[Et][hn];Mn||(Mn=ct[Et][hn]={}),Mn[sn]=$n,delete De[Nn]}else"reverse"===Fn?(lt.range?lt.range.reverse():(Vn(de+".autorange",!0),lt.range=[1,0]),ot.autorange?Kt.calc=!0:Kt.plot=!0):("dragmode"===Nn&&(!1===$n&&!1!==pt||!1!==$n&&!1===pt)||je._has("scatter-like")&&je._has("regl")&&"dragmode"===Nn&&("lasso"===$n||"select"===$n)&&"lasso"!==pt&&"select"!==pt||je._has("gl2d")?Kt.plot=!0:mt?Y.update(Kt,mt):Kt.calc=!0,An.set($n))}}for(Et in ct)b.applyContainerArrayChanges(ye,at($e,Et),ct[Et],Kt,at)||(Kt.plot=!0);for(var Pn in Zn){var xn=(bn=_.getFromId(ye,Pn))&&bn._constraintGroup;if(xn)for(var wn in Kt.calc=!0,xn)Zn[wn]||(_.getFromId(ye,wn)._constraintShrinkable=!0)}(Je(ye)||De.height||De.width)&&(Kt.plot=!0);var Xn=je.shapes;for(hn=0;hn<Xn.length;hn++)if(Xn[hn].showlegend){Kt.calc=!0;break}return(Kt.plot||Kt.calc)&&(Kt.layoutReplot=!0),{flags:Kt,rangesAltered:Zn,undoit:kn,redoit:Wn,eventData:yt}}function Je(ye){var De=ye._fullLayout,$e=De.width,je=De.height;return ye.layout.autosize&&C.plotAutoSize(ye,ye.layout,De),De.width!==$e||De.height!==je}function Xe(ye,De,$e,je){ye=g.getGraphDiv(ye),N.clearPromiseQueue(ye),g.isPlainObject(De)||(De={}),g.isPlainObject($e)||($e={}),Object.keys(De).length&&(ye.changed=!0),Object.keys($e).length&&(ye.changed=!0);var Ye=N.coerceTraceIndices(ye,je),at=ne(ye,g.extendFlat({},De),Ye),Rt=at.flags,tt=Pe(ye,g.extendFlat({},$e)),yt=tt.flags;(Rt.calc||yt.calc)&&(ye.calcdata=void 0),Rt.clearAxisTypes&&N.clearAxisTypes(ye,Ye,$e);var ct=[];yt.layoutReplot?ct.push(V.layoutReplot):Rt.fullReplot?ct.push(K._doPlot):(ct.push(C.previousPromises),Ne(ye,yt,tt)||C.supplyDefaults(ye),Rt.style&&ct.push(V.doTraceStyle),(Rt.colorbars||yt.colorbars)&&ct.push(V.doColorBars),yt.legend&&ct.push(V.doLegend),yt.layoutstyle&&ct.push(V.layoutStyles),yt.axrange&&Oe(ct,tt.rangesAltered),yt.ticks&&ct.push(V.doTicksRelayout),yt.modebar&&ct.push(V.doModeBar),yt.camera&&ct.push(V.doCamera),ct.push(J)),ct.push(C.rehover,C.redrag,C.reselect),m.add(ye,Xe,[ye,at.undoit,tt.undoit,at.traces],Xe,[ye,at.redoit,tt.redoit,at.traces]);var Et=g.syncOrAsync(ct,ye);return(!Et||!Et.then)&&(Et=Promise.resolve(ye)),Et.then(function(){return ye.emit("plotly_update",{data:at.eventData,layout:tt.eventData}),ye})}function Ge(ye){return function($e){$e._fullLayout._guiEditing=!0;var je=ye.apply(null,arguments);return $e._fullLayout._guiEditing=!1,je}}var st=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],wt=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function kt(ye,De){for(var $e=0;$e<De.length;$e++){var je=De[$e],Ye=ye.match(je.pattern);if(Ye){var at=Ye[1]||"";return{head:at,tail:ye.substr(at.length+1),attr:je.attr}}}}function At(ye,De){var $e=f(De,ye).get();if(void 0!==$e)return $e;var je=ye.split(".");for(je.pop();je.length>1;)if(je.pop(),void 0!==($e=f(De,je.join(".")+".uirevision").get()))return $e;return De.uirevision}function Qt(ye,De){for(var $e=0;$e<De.length;$e++)if(De[$e]._fullInput.uid===ye)return $e;return-1}function nn(ye,De,$e){for(var je=0;je<De.length;je++)if(De[je].uid===ye)return je;return!De[$e]||De[$e].uid?-1:$e}function Ut(ye,De){var $e=g.isPlainObject(ye),je=Array.isArray(ye);return $e||je?($e&&g.isPlainObject(De)||je&&Array.isArray(De))&&JSON.stringify(ye)===JSON.stringify(De):ye===De}function tn(ye,De,$e,je){var Ye,at,Rt,tt=je.getValObject,yt=je.flags,ct=je.immutable,Et=je.inArray,hn=je.arrayIndex;function Tn(){var de=Ye.editType;Et&&-1!==de.indexOf("arraydraw")?g.pushUnique(yt.arrays[Et],hn):(Y.update(yt,Ye),"none"!==de&&yt.nChanges++,je.transition&&Ye.anim&&yt.nChangesAnim++,(Be.test(Rt)||Te.test(Rt))&&(yt.rangesAltered[$e[0]]=1),Ve.test(Rt)&&f(De,"_inputDomain").set(null),"datarevision"===at&&(yt.newDataRevision=1))}function Rn(de){return"data_array"===de.valType||de.arrayOk}for(at in ye){if(yt.calc&&!je.transition)return;var Gn=ye[at],Yn=De[at],Kt=$e.concat(at);if(Rt=Kt.join("."),"_"!==at.charAt(0)&&"function"!=typeof Gn&&Gn!==Yn){if(("tick0"===at||"dtick"===at)&&"geo"!==$e[0]){var Wn=De.tickmode;if("auto"===Wn||"array"===Wn||!Wn)continue}if(("range"!==at||!De.autorange)&&("zmin"!==at&&"zmax"!==at||"contourcarpet"!==De.type)&&(Ye=tt(Kt))&&(!Ye._compareAsJSON||JSON.stringify(Gn)!==JSON.stringify(Yn))){var Vn,kn=Ye.valType,Zn=Rn(Ye),bn=Array.isArray(Gn),Zt=Array.isArray(Yn);if(bn&&Zt){var Nn="_input_"+at,An=ye[Nn],$n=De[Nn];if(Array.isArray(An)&&An===$n)continue}if(void 0===Yn)Zn&&bn?yt.calc=!0:Tn();else if(Ye._isLinkedToArray){var dr=[],vr=!1;Et||(yt.arrays[at]=dr);var Fn=Math.min(Gn.length,Yn.length),ge=Math.max(Gn.length,Yn.length);if(Fn!==ge){if("arraydraw"!==Ye.editType){Tn();continue}vr=!0}for(Vn=0;Vn<Fn;Vn++)tn(Gn[Vn],Yn[Vn],Kt.concat(Vn),g.extendFlat({inArray:at,arrayIndex:Vn},je));if(vr)for(Vn=Fn;Vn<ge;Vn++)dr.push(Vn)}else!kn&&g.isPlainObject(Gn)?tn(Gn,Yn,Kt,je):Zn?bn&&Zt?(ct&&(yt.calc=!0),(ct||je.newDataRevision)&&Tn()):bn!==Zt?yt.calc=!0:Tn():bn&&Zt?(Gn.length!==Yn.length||String(Gn)!==String(Yn))&&Tn():Tn()}}}for(at in De)if(!(at in ye)&&"_"!==at.charAt(0)&&"function"!=typeof De[at]){if(Rn(Ye=tt($e.concat(at)))&&Array.isArray(De[at]))return void(yt.calc=!0);Tn()}}function dn(ye,De){var $e;for($e in ye)if("_"!==$e.charAt(0)){var je=ye[$e],Ye=De[$e];if(je!==Ye)if(g.isPlainObject(je)&&g.isPlainObject(Ye)){if(dn(je,Ye))return!0}else{if(!Array.isArray(je)||!Array.isArray(Ye))return!0;if(je.length!==Ye.length)return!0;for(var at=0;at<je.length;at++)if(je[at]!==Ye[at]){if(!g.isPlainObject(je[at])||!g.isPlainObject(Ye[at]))return!0;if(dn(je[at],Ye[at]))return!0}}}}function Re(ye){var De=ye._fullLayout,$e=ye.getBoundingClientRect();if(!g.equalDomRects($e,De._lastBBox)){var je=De._invTransform=g.inverseTransformMatrix(g.getFullTransformMatrix(ye));De._invScaleX=Math.sqrt(je[0][0]*je[0][0]+je[0][1]*je[0][1]+je[0][2]*je[0][2]),De._invScaleY=Math.sqrt(je[1][0]*je[1][0]+je[1][1]*je[1][1]+je[1][2]*je[1][2]),De._lastBBox=$e}}K.animate=function rn(ye,De,$e){if(ye=g.getGraphDiv(ye),!g.isPlotDiv(ye))throw new Error("This element is not a Plotly plot: "+ye+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var je=ye._transitionData;je._frameQueue||(je._frameQueue=[]);var Ye=($e=C.supplyAnimationDefaults($e)).transition,at=$e.frame;function Rt(ct){return Array.isArray(Ye)?ct>=Ye.length?Ye[0]:Ye[ct]:Ye}function tt(ct){return Array.isArray(at)?ct>=at.length?at[0]:at[ct]:at}function yt(ct,Et){var hn=0;return function(){if(ct&&++hn===Et)return ct()}}return void 0===je._frameWaitingCnt&&(je._frameWaitingCnt=0),new Promise(function(ct,Et){var Kt=0;function Wn(Fn){return Fn.transitionOpts=Array.isArray(Ye)?Kt>=Ye.length?Ye[Kt]:Ye[0]:Ye,Kt++,Fn}var kn,Vn,Zn=[],bn=null==De,Zt=Array.isArray(De);if(bn||Zt||!g.isPlainObject(De)){if(bn||-1!==["string","number"].indexOf(typeof De))for(kn=0;kn<je._frames.length;kn++)(Vn=je._frames[kn])&&(bn||String(Vn.group)===String(De))&&Zn.push({type:"byname",name:String(Vn.name),data:Wn({name:Vn.name})});else if(Zt)for(kn=0;kn<De.length;kn++){var An=De[kn];-1!==["number","string"].indexOf(typeof An)?(An=String(An),Zn.push({type:"byname",name:An,data:Wn({name:An})})):g.isPlainObject(An)&&Zn.push({type:"object",data:Wn(g.extendFlat({},An))})}}else Zn.push({type:"object",data:Wn(g.extendFlat({},De))});for(kn=0;kn<Zn.length;kn++)if("byname"===(Vn=Zn[kn]).type&&!je._frameHash[Vn.data.name])return g.warn('animate failure: frame not found: "'+Vn.data.name+'"'),void Et();-1!==["next","immediate"].indexOf($e.mode)&&function hn(){if(0!==je._frameQueue.length){for(;je._frameQueue.length;){var Fn=je._frameQueue.pop();Fn.onInterrupt&&Fn.onInterrupt()}ye.emit("plotly_animationinterrupted",[])}}(),"reverse"===$e.direction&&Zn.reverse();var $n=ye._fullLayout._currentFrame;if($n&&$e.fromcurrent){var dr=-1;for(kn=0;kn<Zn.length;kn++)if("byname"===(Vn=Zn[kn]).type&&Vn.name===$n){dr=kn;break}if(dr>0&&dr<Zn.length-1){var vr=[];for(kn=0;kn<Zn.length;kn++)Vn=Zn[kn],("byname"!==Zn[kn].type||kn>dr)&&vr.push(Vn);Zn=vr}}Zn.length>0?function Tn(Fn){if(0!==Fn.length){for(var ge=0;ge<Fn.length;ge++){var de;de="byname"===Fn[ge].type?C.computeFrame(ye,Fn[ge].name):Fn[ge].data;var lt=tt(ge),ot=Rt(ge);ot.duration=Math.min(ot.duration,lt.duration);var pt={frame:de,name:Fn[ge].name,frameOpts:lt,transitionOpts:ot};ge===Fn.length-1&&(pt.onComplete=yt(ct,2),pt.onInterrupt=Et),je._frameQueue.push(pt)}"immediate"===$e.mode&&(je._lastFrameAt=-1/0),je._animationRaf||function Yn(){ye.emit("plotly_animating"),je._lastFrameAt=-1/0,je._timeToNext=0,je._runningTransitions=0,je._currentFrame=null;var Fn=function(){je._animationRaf=window.requestAnimationFrame(Fn),Date.now()-je._lastFrameAt>je._timeToNext&&function Gn(){je._currentFrame&&je._currentFrame.onComplete&&je._currentFrame.onComplete();var Fn=je._currentFrame=je._frameQueue.shift();if(Fn){var ge=Fn.name?Fn.name.toString():null;ye._fullLayout._currentFrame=ge,je._lastFrameAt=Date.now(),je._timeToNext=Fn.frameOpts.duration,C.transition(ye,Fn.frame.data,Fn.frame.layout,N.coerceTraceIndices(ye,Fn.frame.traces),Fn.frameOpts,Fn.transitionOpts).then(function(){Fn.onComplete&&Fn.onComplete()}),ye.emit("plotly_animatingframe",{name:ge,frame:Fn.frame,animation:{frame:Fn.frameOpts,transition:Fn.transitionOpts}})}else!function Rn(){ye.emit("plotly_animated"),window.cancelAnimationFrame(je._animationRaf),je._animationRaf=null}()}()};Fn()}()}}(Zn):(ye.emit("plotly_animated"),ct())})},K.addFrames=function Ke(ye,De,$e){if(ye=g.getGraphDiv(ye),null==De)return Promise.resolve();if(!g.isPlotDiv(ye))throw new Error("This element is not a Plotly plot: "+ye+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var je,Ye,at,Rt,tt=ye._transitionData._frames,yt=ye._transitionData._frameHash;if(!Array.isArray(De))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+De);var ct=tt.length+2*De.length,Et=[],hn={};for(je=De.length-1;je>=0;je--)if(g.isPlainObject(De[je])){var Tn=De[je].name,Rn=(yt[Tn]||hn[Tn]||{}).name,Gn=De[je].name;Rn&&Gn&&"number"==typeof Gn&&(yt[Rn]||hn[Rn])&&Q<5&&(Q++,g.warn('addFrames: overwriting frame "'+(yt[Rn]||hn[Rn]).name+'" with a frame whose name of type "number" also equates to "'+Rn+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===Q&&g.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),hn[Tn]={name:Tn},Et.push({frame:C.supplyFrameDefaults(De[je]),index:$e&&null!=$e[je]?$e[je]:ct+je})}Et.sort(function(Nn,An){return Nn.index>An.index?-1:Nn.index<An.index?1:0});var Kt=[],Wn=[],kn=tt.length;for(je=Et.length-1;je>=0;je--){if("number"==typeof(Ye=Et[je].frame).name&&g.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Ye.name)for(;yt[Ye.name="frame "+ye._transitionData._counter++];);if(yt[Ye.name]){for(at=0;at<tt.length&&(tt[at]||{}).name!==Ye.name;at++);Kt.push({type:"replace",index:at,value:Ye}),Wn.unshift({type:"replace",index:at,value:tt[at]})}else Rt=Math.max(0,Math.min(Et[je].index,kn)),Kt.push({type:"insert",index:Rt,value:Ye}),Wn.unshift({type:"delete",index:Rt}),kn++}return m&&m.add(ye,C.modifyFrames,[ye,Wn],C.modifyFrames,[ye,Kt]),C.modifyFrames(ye,Kt)},K.deleteFrames=function St(ye,De){if(ye=g.getGraphDiv(ye),!g.isPlotDiv(ye))throw new Error("This element is not a Plotly plot: "+ye);var $e,je,Ye=ye._transitionData._frames,at=[],Rt=[];if(!De)for(De=[],$e=0;$e<Ye.length;$e++)De.push($e);for((De=De.slice()).sort(),$e=De.length-1;$e>=0;$e--)at.push({type:"delete",index:je=De[$e]}),Rt.unshift({type:"insert",index:je,value:Ye[je]});return m&&m.add(ye,C.modifyFrames,[ye,Rt],C.modifyFrames,[ye,at]),C.modifyFrames(ye,at)},K.addTraces=function Le(ye,De,$e){ye=g.getGraphDiv(ye);var yt,ct,je=[],Ye=K.deleteTraces,at=Le,Rt=[ye,je],tt=[ye,De];for(function le(ye,De,$e){var je,Ye;if(!Array.isArray(ye.data))throw new Error("gd.data must be an array.");if(typeof De>"u")throw new Error("traces must be defined.");for(Array.isArray(De)||(De=[De]),je=0;je<De.length;je++)if("object"!=typeof(Ye=De[je])||Array.isArray(Ye)||null===Ye)throw new Error("all values in traces array must be non-array objects");if(typeof $e<"u"&&!Array.isArray($e)&&($e=[$e]),typeof $e<"u"&&$e.length!==De.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(ye,De,$e),Array.isArray(De)||(De=[De]),De=De.map(function(Et){return g.extendFlat({},Et)}),N.cleanData(De),yt=0;yt<De.length;yt++)ye.data.push(De[yt]);for(yt=0;yt<De.length;yt++)je.push(-De.length+yt);if(typeof $e>"u")return ct=K.redraw(ye),m.add(ye,Ye,Rt,at,tt),ct;Array.isArray($e)||($e=[$e]);try{ue(ye,je,$e)}catch(Et){throw ye.data.splice(ye.data.length-De.length,De.length),Et}return m.startSequence(ye),m.add(ye,Ye,Rt,at,tt),ct=K.moveTraces(ye,je,$e),m.stopSequence(ye),ct},K.deleteTraces=function B(ye,De){ye=g.getGraphDiv(ye);var tt,yt,$e=[],je=K.addTraces,Ye=B,at=[ye,$e,De],Rt=[ye,De];if(typeof De>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(De)||(De=[De]),ie(ye,De,"indices"),(De=q(De,ye.data.length-1)).sort(g.sorterDes),tt=0;tt<De.length;tt+=1)yt=ye.data.splice(De[tt],1)[0],$e.push(yt);var ct=K.redraw(ye);return m.add(ye,je,at,Ye,Rt),ct},K.extendTraces=function Me(ye,De,$e,je){var at=ke(ye=g.getGraphDiv(ye),De,$e,je,function Ye(yt,ct,Et){var hn,Tn;if(g.isTypedArray(yt))if(Et<0){var Rn=new yt.constructor(0),Gn=Ue(yt,ct);Et<0?(hn=Gn,Tn=Rn):(hn=Rn,Tn=Gn)}else if(hn=new yt.constructor(Et),Tn=new yt.constructor(yt.length+ct.length-Et),Et===ct.length)hn.set(ct),Tn.set(yt);else if(Et<ct.length){var Yn=ct.length-Et;hn.set(ct.subarray(Yn)),Tn.set(yt),Tn.set(ct.subarray(0,Yn),yt.length)}else{var Kt=Et-ct.length,Wn=yt.length-Kt;hn.set(yt.subarray(Wn)),hn.set(ct,Kt),Tn.set(yt.subarray(0,Wn))}else hn=yt.concat(ct),Tn=Et>=0&&Et<hn.length?hn.splice(0,hn.length-Et):[];return[hn,Tn]}),Rt=K.redraw(ye);return m.add(ye,K.prependTraces,[ye,at.update,$e,at.maxPoints],Me,arguments),Rt},K.moveTraces=function P(ye,De,$e){var ct,je=[],Ye=[],at=P,Rt=P,tt=[ye=g.getGraphDiv(ye),$e,De],yt=[ye,De,$e];if(ue(ye,De,$e),De=Array.isArray(De)?De:[De],typeof $e>"u")for($e=[],ct=0;ct<De.length;ct++)$e.push(-De.length+ct);for($e=Array.isArray($e)?$e:[$e],De=q(De,ye.data.length-1),$e=q($e,ye.data.length-1),ct=0;ct<ye.data.length;ct++)-1===De.indexOf(ct)&&je.push(ye.data[ct]);for(ct=0;ct<De.length;ct++)Ye.push({newIndex:$e[ct],trace:ye.data[De[ct]]});for(Ye.sort(function(hn,Tn){return hn.newIndex-Tn.newIndex}),ct=0;ct<Ye.length;ct+=1)je.splice(Ye[ct].newIndex,0,Ye[ct].trace);ye.data=je;var Et=K.redraw(ye);return m.add(ye,at,tt,Rt,yt),Et},K.prependTraces=function we(ye,De,$e,je){var at=ke(ye=g.getGraphDiv(ye),De,$e,je,function Ye(yt,ct,Et){var hn,Tn;if(g.isTypedArray(yt))if(Et<=0){var Rn=new yt.constructor(0),Gn=Ue(ct,yt);Et<0?(hn=Gn,Tn=Rn):(hn=Rn,Tn=Gn)}else if(hn=new yt.constructor(Et),Tn=new yt.constructor(yt.length+ct.length-Et),Et===ct.length)hn.set(ct),Tn.set(yt);else if(Et<ct.length){var Yn=ct.length-Et;hn.set(ct.subarray(0,Yn)),Tn.set(ct.subarray(Yn)),Tn.set(yt,Yn)}else{var Kt=Et-ct.length;hn.set(ct),hn.set(yt.subarray(0,Kt),ct.length),Tn.set(yt.subarray(Kt))}else hn=ct.concat(yt),Tn=Et>=0&&Et<hn.length?hn.splice(Et,hn.length):[];return[hn,Tn]}),Rt=K.redraw(ye);return m.add(ye,K.extendTraces,[ye,at.update,$e,at.maxPoints],we,arguments),Rt},K.newPlot=function G(ye,De,$e,je){return ye=g.getGraphDiv(ye),C.cleanPlot([],{},ye._fullData||[],ye._fullLayout||{}),C.purge(ye),K._doPlot(ye,De,$e,je)},K._doPlot=function F(ye,De,$e,je){var Ye;if(ye=g.getGraphDiv(ye),y.init(ye),g.isPlainObject(De)){var at=De;De=at.data,$e=at.layout,je=at.config,Ye=at.frames}if(!1===y.triggerHandler(ye,"plotly_beforeplot",[De,$e,je]))return Promise.reject();!De&&!$e&&!g.isPlotDiv(ye)&&g.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",ye),me(ye,je),$e||($e={}),p.select(ye).classed("js-plotly-plot",!0),w.makeTester(),Array.isArray(ye._promises)||(ye._promises=[]);var yt=0===(ye.data||[]).length&&Array.isArray(De);Array.isArray(De)&&(N.cleanData(De),yt?ye.data=De:ye.data.push.apply(ye.data,De),ye.empty=!1),(!ye.layout||yt)&&(ye.layout=N.cleanLayout($e)),C.supplyDefaults(ye);var ct=ye._fullLayout,Et=ct._has("cartesian");ct._replotting=!0,(yt||ct._shouldCreateBgLayer)&&(function it(ye){var De=p.select(ye),$e=ye._fullLayout;if($e._calcInverseTransform=Re,$e._calcInverseTransform(ye),$e._container=De.selectAll(".plot-container").data([0]),$e._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),$e._paperdiv=$e._container.selectAll(".svg-container").data([0]),$e._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),$e._glcontainer=$e._paperdiv.selectAll(".gl-container").data([{}]),$e._glcontainer.enter().append("div").classed("gl-container",!0),$e._paperdiv.selectAll(".main-svg").remove(),$e._paperdiv.select(".modebar-container").remove(),$e._paper=$e._paperdiv.insert("svg",":first-child").classed("main-svg",!0),$e._toppaper=$e._paperdiv.append("svg").classed("main-svg",!0),$e._modebardiv=$e._paperdiv.append("div"),delete $e._modeBar,$e._hoverpaper=$e._paperdiv.append("svg").classed("main-svg",!0),!$e._uid){var je={};p.selectAll("defs").each(function(){this.id&&(je[this.id.split("-")[1]]=1)}),$e._uid=g.randstr(je)}$e._paperdiv.selectAll(".main-svg").attr(E.svgAttrs),$e._defs=$e._paper.append("defs").attr("id","defs-"+$e._uid),$e._clips=$e._defs.append("g").classed("clips",!0),$e._topdefs=$e._toppaper.append("defs").attr("id","topdefs-"+$e._uid),$e._topclips=$e._topdefs.append("g").classed("clips",!0),$e._bgLayer=$e._paper.append("g").classed("bglayer",!0),$e._draggers=$e._paper.append("g").classed("draglayer",!0);var Ye=$e._paper.append("g").classed("layer-below",!0);$e._imageLowerLayer=Ye.append("g").classed("imagelayer",!0),$e._shapeLowerLayer=Ye.append("g").classed("shapelayer",!0),$e._cartesianlayer=$e._paper.append("g").classed("cartesianlayer",!0),$e._polarlayer=$e._paper.append("g").classed("polarlayer",!0),$e._smithlayer=$e._paper.append("g").classed("smithlayer",!0),$e._ternarylayer=$e._paper.append("g").classed("ternarylayer",!0),$e._geolayer=$e._paper.append("g").classed("geolayer",!0),$e._funnelarealayer=$e._paper.append("g").classed("funnelarealayer",!0),$e._pielayer=$e._paper.append("g").classed("pielayer",!0),$e._iciclelayer=$e._paper.append("g").classed("iciclelayer",!0),$e._treemaplayer=$e._paper.append("g").classed("treemaplayer",!0),$e._sunburstlayer=$e._paper.append("g").classed("sunburstlayer",!0),$e._indicatorlayer=$e._toppaper.append("g").classed("indicatorlayer",!0),$e._glimages=$e._paper.append("g").classed("glimages",!0);var at=$e._toppaper.append("g").classed("layer-above",!0);$e._imageUpperLayer=at.append("g").classed("imagelayer",!0),$e._shapeUpperLayer=at.append("g").classed("shapelayer",!0),$e._selectionLayer=$e._toppaper.append("g").classed("selectionlayer",!0),$e._infolayer=$e._toppaper.append("g").classed("infolayer",!0),$e._menulayer=$e._toppaper.append("g").classed("menulayer",!0),$e._zoomlayer=$e._toppaper.append("g").classed("zoomlayer",!0),$e._hoverlayer=$e._hoverpaper.append("g").classed("hoverlayer",!0),$e._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),ye.emit("plotly_framework")}(ye),ct._shouldCreateBgLayer&&delete ct._shouldCreateBgLayer),w.initGradients(ye),w.initPatterns(ye),yt&&_.saveShowSpikeInitial(ye);var hn=!ye.calcdata||ye.calcdata.length!==(ye._fullData||[]).length;hn&&C.doCalcdata(ye);for(var Tn=0;Tn<ye.calcdata.length;Tn++)ye.calcdata[Tn][0].trace=ye._fullData[Tn];ye._context.responsive?ye._responsiveChartHandler||(ye._responsiveChartHandler=function(){g.isHidden(ye)||C.resize(ye)},window.addEventListener("resize",ye._responsiveChartHandler)):g.clearResponsive(ye);var Rn=g.extendFlat({},ct._size),Gn=0;function Kt(){if(C.clearAutoMarginIds(ye),V.drawMarginPushers(ye),_.allowAutoMargin(ye),ye._fullLayout.title.text&&ye._fullLayout.title.automargin&&C.allowAutoMargin(ye,"title.automargin"),ct._has("pie"))for(var Nn=ye._fullData,An=0;An<Nn.length;An++){var $n=Nn[An];"pie"===$n.type&&$n.automargin&&C.allowAutoMargin(ye,"pie."+$n.uid+".automargin")}return C.doAutoMargin(ye),C.previousPromises(ye)}function Vn(){ye._transitioning||(V.doAutoRangeAndConstraints(ye),yt&&_.saveRangeInitial(ye),h.getComponentMethod("rangeslider","calcAutorange")(ye))}var bn=[C.previousPromises,function tt(){if(Ye)return K.addFrames(ye,Ye)},function Yn(){for(var Nn=ct._basePlotModules,An=0;An<Nn.length;An++)Nn[An].drawFramework&&Nn[An].drawFramework(ye);!ct._glcanvas&&ct._has("gl")&&(ct._glcanvas=ct._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Fn){return Fn.key}),ct._glcanvas.enter().append("canvas").attr("class",function(Fn){return"gl-canvas gl-canvas-"+Fn.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var $n=ye._context.plotGlPixelRatio;if(ct._glcanvas){ct._glcanvas.attr("width",ct.width*$n).attr("height",ct.height*$n).style("width",ct.width+"px").style("height",ct.height+"px");var dr=ct._glcanvas.data()[0].regl;if(dr&&(Math.floor(ct.width*$n)!==dr._gl.drawingBufferWidth||Math.floor(ct.height*$n)!==dr._gl.drawingBufferHeight)){var vr="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!Gn)return g.log(vr+" Clearing graph and plotting again."),C.cleanPlot([],{},ye._fullData,ct),C.supplyDefaults(ye),ct=ye._fullLayout,C.doCalcdata(ye),Gn++,Yn();g.error(vr)}}return"h"===ct.modebar.orientation?ct._modebardiv.style("height",null).style("width","100%"):ct._modebardiv.style("width",null).style("height",ct.height+"px"),C.previousPromises(ye)},Kt,function Wn(){if(C.didMarginChange(Rn,ct._size))return g.syncOrAsync([Kt,V.layoutStyles],ye)}];Et&&bn.push(function kn(){if(hn)return g.syncOrAsync([h.getComponentMethod("shapes","calcAutorange"),h.getComponentMethod("annotations","calcAutorange"),Vn],ye);Vn()}),bn.push(V.layoutStyles),Et&&bn.push(function Zn(){return _.draw(ye,yt?"":"redraw")},function(An){var $n=An._fullLayout._insideTickLabelsUpdaterange;if($n)return An._fullLayout._insideTickLabelsUpdaterange=void 0,ze(An,$n).then(function(){_.saveRangeInitial(An,!0)})}),bn.push(V.drawData,V.finalDraw,S,C.addLinks,C.rehover,C.redrag,C.reselect,C.doAutoMargin,C.previousPromises);var Zt=g.syncOrAsync(bn,ye);return(!Zt||!Zt.then)&&(Zt=Promise.resolve()),Zt.then(function(){return J(ye),ye})},K.purge=function dt(ye){var De=(ye=g.getGraphDiv(ye))._fullLayout||{};return C.cleanPlot([],{},ye._fullData||[],De),C.purge(ye),y.purge(ye),De._container&&De._container.remove(),delete ye._context,ye},K.react=function Xt(ye,De,$e,je){var Ye,at;ye=g.getGraphDiv(ye),N.clearPromiseQueue(ye);var tt=ye._fullData,yt=ye._fullLayout;if(g.isPlotDiv(ye)&&tt&&yt){if(g.isPlainObject(De)){var ct=De;De=ct.data,$e=ct.layout,je=ct.config,Ye=ct.frames}var Et=!1;if(je){var hn=g.extendDeep({},ye._context);ye._context=void 0,me(ye,je),Et=dn(hn,ye._context)}ye.data=De||[],N.cleanData(ye.data),ye.layout=$e||{},N.cleanLayout(ye.layout),function Lt(ye,De,$e,je){var at,Rt,tt,yt,ct,Et,hn,Tn,Rn,Gn,Ye=je._preGUI,Yn=[],Kt={},Wn={};for(at in Ye){if(ct=kt(at,st)){if(Rn=ct.head,Gn=ct.tail,(yt=(tt=f(je,Rt=ct.attr||Rn+".uirevision").get())&&At(Rt,De))&&yt===tt){if(null===(Et=Ye[at])&&(Et=void 0),Ut(Tn=(hn=f(De,at)).get(),Et)){void 0===Tn&&"autorange"===Gn&&Yn.push(Rn),hn.set(j(f(je,at).get()));continue}if("autorange"===Gn||"range["===Gn.substr(0,6)){var Zn=Ye[Rn+".autorange"];if(Zn||null===Zn&&null===Ye[Rn+".range[0]"]&&null===Ye[Rn+".range[1]"]){if(!(Rn in Kt)){var bn=f(De,Rn).get();Kt[Rn]=bn&&(bn.autorange||!1!==bn.autorange&&(!bn.range||2!==bn.range.length))}if(Kt[Rn]){hn.set(j(f(je,at).get()));continue}}}}}else g.warn("unrecognized GUI edit: "+at);delete Ye[at],ct&&"range["===ct.tail.substr(0,6)&&(Wn[ct.head]=1)}for(var Zt=0;Zt<Yn.length;Zt++){var Nn=Yn[Zt];if(Wn[Nn]){var An=f(De,Nn).get();An&&delete An.autorange}}var $n=je._tracePreGUI;for(var dr in $n){var ge,vr=$n[dr],Fn=null;for(at in vr){if(!Fn){var de=Qt(dr,$e);if(de<0){delete $n[dr];break}var ot=nn(dr,ye,(ge=$e[de]._fullInput).index);if(ot<0){delete $n[dr];break}Fn=ye[ot]}if(ct=kt(at,wt)){if(ct.attr?yt=(tt=f(je,ct.attr).get())&&At(ct.attr,De):(tt=ge.uirevision,void 0===(yt=Fn.uirevision)&&(yt=De.uirevision)),yt&&yt===tt&&(null===(Et=vr[at])&&(Et=void 0),Ut(Tn=(hn=f(Fn,at)).get(),Et))){hn.set(j(f(ge,at).get()));continue}}else g.warn("unrecognized GUI edit: "+at+" in trace uid "+dr);delete vr[at]}}}(ye.data,ye.layout,tt,yt),C.supplyDefaults(ye,{skipUpdateCalc:!0});var Tn=ye._fullData,Rn=ye._fullLayout,Gn=void 0===Rn.datarevision,Yn=Rn.transition,Kt=function Yt(ye,De,$e,je,Ye){var at=Y.layoutFlags();function Rt(yt){return c.getLayoutValObject($e,yt)}return at.arrays={},at.rangesAltered={},at.nChanges=0,at.nChangesAnim=0,tn(De,$e,[],{getValObject:Rt,flags:at,immutable:je,transition:Ye,gd:ye}),(at.plot||at.calc)&&(at.layoutReplot=!0),Ye&&at.nChanges&&at.nChangesAnim&&(at.anim=at.nChanges===at.nChangesAnim?"all":"some"),at}(ye,yt,Rn,Gn,Yn),kn=function gt(ye,De,$e,je,Ye,at){var Rt=De.length===$e.length;if(!Ye&&!Rt)return{fullReplot:!0,calc:!0};var yt,ct,tt=Y.traceFlags();function Et(Rn){var Gn=c.getTraceValObject(ct,Rn);return!ct._module.animatable&&Gn.anim&&(Gn.anim=!1),Gn}tt.arrays={},tt.nChanges=0,tt.nChangesAnim=0;var hn={getValObject:Et,flags:tt,immutable:je,transition:Ye,newDataRevision:at,gd:ye},Tn={};for(yt=0;yt<De.length;yt++)if($e[yt]){if(C.hasMakesDataTransform(ct=$e[yt]._fullInput)&&(ct=$e[yt]),Tn[ct.uid])continue;Tn[ct.uid]=1,tn(De[yt]._fullInput,ct,[],hn)}return(tt.calc||tt.plot)&&(tt.fullReplot=!0),Ye&&tt.nChanges&&tt.nChangesAnim&&(tt.anim=tt.nChanges===tt.nChangesAnim&&Rt?"all":"some"),tt}(ye,tt,Tn,Gn,Yn,Kt.newDataRevision);if(Je(ye)&&(Kt.layoutReplot=!0),kn.calc||Kt.calc){ye.calcdata=void 0;for(var Vn=Object.getOwnPropertyNames(Rn),Zn=0;Zn<Vn.length;Zn++){var bn=Vn[Zn],Zt=bn.substring(0,5);if("xaxis"===Zt||"yaxis"===Zt){var Nn=Rn[bn]._emptyCategories;Nn&&Nn()}}}else C.supplyDefaultsUpdateCalc(ye.calcdata,Tn);var An=[];if(Ye&&(ye._transitionData={},C.createTransitionData(ye),An.push(function Rt(){return K.addFrames(ye,Ye)})),Rn.transition&&!Et&&(kn.anim||Kt.anim))Kt.ticks&&An.push(V.doTicksRelayout),C.doCalcdata(ye),V.doAutoRangeAndConstraints(ye),An.push(function(){return C.transitionFromReact(ye,kn,Kt,yt)});else if(kn.fullReplot||Kt.layoutReplot||Et)ye._fullLayout._skipDefaults=!0,An.push(K._doPlot);else{for(var $n in Kt.arrays){var dr=Kt.arrays[$n];if(dr.length){var vr=h.getComponentMethod($n,"drawOne");if(vr!==g.noop)for(var Fn=0;Fn<dr.length;Fn++)vr(ye,dr[Fn]);else{var ge=h.getComponentMethod($n,"draw");if(ge===g.noop)throw new Error("cannot draw components: "+$n);ge(ye)}}}An.push(C.previousPromises),kn.style&&An.push(V.doTraceStyle),(kn.colorbars||Kt.colorbars)&&An.push(V.doColorBars),Kt.legend&&An.push(V.doLegend),Kt.layoutstyle&&An.push(V.layoutStyles),Kt.axrange&&Oe(An),Kt.ticks&&An.push(V.doTicksRelayout),Kt.modebar&&An.push(V.doModeBar),Kt.camera&&An.push(V.doCamera),An.push(J)}An.push(C.rehover,C.redrag,C.reselect),(!(at=g.syncOrAsync(An,ye))||!at.then)&&(at=Promise.resolve(ye))}else at=K.newPlot(ye,De,$e,je);return at.then(function(){return ye.emit("plotly_react",{data:De,layout:$e}),ye})},K.redraw=function Z(ye){if(ye=g.getGraphDiv(ye),!g.isPlotDiv(ye))throw new Error("This element is not a Plotly plot: "+ye);return N.cleanData(ye.data),N.cleanLayout(ye.layout),ye.calcdata=void 0,K._doPlot(ye).then(function(){return ye.emit("plotly_redraw"),ye})},K.relayout=ze,K.restyle=X,K.setPlotConfig=function W(ye){return g.extendFlat(H,ye)},K.update=Xe,K._guiRelayout=Ge(ze),K._guiRestyle=Ge(X),K._guiUpdate=Ge(Xe),K._storeDirectGUIEdit=function O(ye,De,$e){for(var je in $e)ae(je,f(ye,je).get(),$e[je],De)}},556:function(ve){"use strict";var K={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},o={};(function p(T,v){for(var g in T){var f=T[g];f.valType?v[g]=f.dflt:(v[g]||(v[g]={}),p(f,v[g]))}})(K,o),ve.exports={configAttributes:K,dfltConfig:o}},3060:function(ve,K,o){"use strict";var p=o(4040),T=o(3400),v=o(5464),g=o(4859),f=o(6672),y=o(5656),m=o(556).configAttributes,h=o(7824),c=T.extendDeepAll,C=T.isPlainObject,_=T.isArrayOrTypedArray,L=T.nestedProperty,D=T.valObjectMeta,w="_isSubplotObj",z="_isLinkedToArray",E="_deprecated",x=[w,z,"_arrayAttrRegexps",E];function b(me,Z,G){if(!me)return!1;if(me._isLinkedToArray)if(N(Z[G]))G++;else if(G<Z.length)return!1;for(;G<Z.length;G++){var q=me[Z[G]];if(!C(q))break;if(me=q,G===Z.length-1)break;if(me._isLinkedToArray){if(!N(Z[++G]))return!1}else if("info_array"===me.valType){var ie=Z[++G];if(!N(ie))return!1;var ue=me.items;if(Array.isArray(ue)){if(ie>=ue.length)return!1;if(2===me.dimensions){if(G++,Z.length===G)return me;var le=Z[G];if(!N(le))return!1;me=ue[ie][le]}else me=ue[ie]}else me=ue}}return me}function N(me){return me===Math.round(me)&&me>=0}function Y(){var Z,G,me={};for(Z in c(me,g),p.subplotsRegistry)if((G=p.subplotsRegistry[Z]).layoutAttributes)if(Array.isArray(G.attr))for(var q=0;q<G.attr.length;q++)te(me,G,G.attr[q]);else te(me,G,"subplot"===G.attr?G.name:G.attr);for(Z in p.componentsRegistry){var ue=(G=p.componentsRegistry[Z]).schema;if(ue&&(ue.subplots||ue.layout)){var le=ue.subplots;if(le&&le.xaxis&&!le.yaxis)for(var pe in le.xaxis)delete me.yaxis[pe];delete me.xaxis.shift,delete me.xaxis.autoshift}else"colorscale"===G.name?c(me,G.layoutAttributes):G.layoutAttributes&&fe(me,G.layoutAttributes,G.name)}return{layoutAttributes:se(me)}}function Q(){var me={frames:c({},f)};return se(me),me.frames}function se(me){return function F(me){function Z(q){return{valType:"string",editType:"none"}}function G(q,ie,ue){K.isValObject(q)?(!0===q.arrayOk||"data_array"===q.valType)&&(ue[ie+"src"]=Z(ie)):C(q)&&(q.role="object")}K.crawl(me,G)}(me),function J(me){function Z(G,q,ie){if(G){var ue=G[z];ue&&(delete G[z],ie[q]={items:{}},ie[q].items[ue]=G,ie[q].role="object")}}K.crawl(me,Z)}(me),function W(me){function Z(G){for(var q in G)if(C(G[q]))Z(G[q]);else if(Array.isArray(G[q]))for(var ie=0;ie<G[q].length;ie++)Z(G[q][ie]);else G[q]instanceof RegExp&&(G[q]=G[q].toString())}Z(me)}(me),me}function te(me,Z,G){var q=L(me,G),ie=c({},Z.layoutAttributes);ie[w]=!0,q.set(ie)}function fe(me,Z,G){var q=L(me,G);q.set(c(q.get()||{},Z))}K.IS_SUBPLOT_OBJ=w,K.IS_LINKED_TO_ARRAY=z,K.DEPRECATED=E,K.UNDERSCORE_ATTRS=x,K.get=function(){var me={};p.allTypes.forEach(function(G){me[G]=function V(me){var Z,G;G=(Z=p.modules[me]._module).basePlotModule;var q={type:null},ie=c({},v),ue=c({},Z.attributes);K.crawl(ue,function(He,ke,Ue,Me,we){L(ie,we).set(void 0),void 0===He&&L(ue,we).set(void 0)}),c(q,ie),p.traceIs(me,"noOpacity")&&delete q.opacity,p.traceIs(me,"showLegend")||(delete q.showlegend,delete q.legendgroup),p.traceIs(me,"noHover")&&(delete q.hoverinfo,delete q.hoverlabel),Z.selectPoints||delete q.selectedpoints,c(q,ue),G.attributes&&c(q,G.attributes),q.type=me;var le={meta:Z.meta||{},categories:Z.categories||{},animatable:!!Z.animatable,type:me,attributes:se(q)};if(Z.layoutAttributes){var pe={};c(pe,Z.layoutAttributes),le.layoutAttributes=se(pe)}return Z.animatable||K.crawl(le,function(He){K.isValObject(He)&&"anim"in He&&delete He.anim}),le}(G)});var Z={};return Object.keys(p.transformsRegistry).forEach(function(G){Z[G]=function $(me){var G=c({},p.transformsRegistry[me].attributes);return Object.keys(p.componentsRegistry).forEach(function(q){var ie=p.componentsRegistry[q];ie.schema&&ie.schema.transforms&&ie.schema.transforms[me]&&Object.keys(ie.schema.transforms[me]).forEach(function(ue){fe(G,ie.schema.transforms[me][ue],ue)})}),{attributes:se(G)}}(G)}),{defs:{valObjects:D,metaKeys:x.concat(["description","role","editType","impliedEdits"]),editType:{traces:h.traces,layout:h.layout},impliedEdits:{}},traces:me,layout:Y(),transforms:Z,frames:Q(),animation:se(y),config:se(m)}},K.crawl=function(me,Z,G,q){var ie=G||0;q=q||"",Object.keys(me).forEach(function(ue){var le=me[ue];if(-1===x.indexOf(ue)){var pe=(q?q+".":"")+ue;Z(le,ue,me,ie,pe),!K.isValObject(le)&&C(le)&&"impliedEdits"!==ue&&K.crawl(le,Z,ie+1,pe)}})},K.isValObject=function(me){return me&&void 0!==me.valType},K.findArrayAttributes=function(me){var ie,ue,Z=[],G=[],q=[];function le(we,Le,B,P){G=G.slice(0,P).concat([Le]),q=q.slice(0,P).concat([we&&we._isLinkedToArray]),we&&("data_array"===we.valType||!0===we.arrayOk)&&("colorbar"!==G[P-1]||"ticktext"!==Le&&"tickvals"!==Le)&&pe(ie,0,"")}function pe(we,Le,B){var P=we[G[Le]],X=B+G[Le];if(Le===G.length-1)_(P)&&Z.push(ue+X);else if(q[Le]){if(Array.isArray(P))for(var j=0;j<P.length;j++)C(P[j])&&pe(P[j],Le+1,X+"["+j+"].")}else C(P)&&pe(P,Le+1,X+".")}ie=me,ue="",K.crawl(v,le),me._module&&me._module.attributes&&K.crawl(me._module.attributes,le);var He=me.transforms;if(He)for(var ke=0;ke<He.length;ke++){var Ue=He[ke],Me=Ue._module;Me&&(ue="transforms["+ke+"].",ie=Ue,K.crawl(Me.attributes,le))}return Z},K.getTraceValObject=function(me,Z){var ie,ue,G=Z[0],q=1;if("transforms"===G){if(1===Z.length)return v.transforms;var le=me.transforms;if(!Array.isArray(le)||!le.length)return!1;var pe=Z[1];if(!N(pe)||pe>=le.length)return!1;ue=(ie=(p.transformsRegistry[le[pe].type]||{}).attributes)&&ie[Z[2]],q=3}else{var He=me._module;if(He||(He=(p.modules[me.type||v.type.dflt]||{})._module),!He)return!1;if(!(ue=(ie=He.attributes)&&ie[G])){var ke=He.basePlotModule;ke&&ke.attributes&&(ue=ke.attributes[G])}ue||(ue=v[G])}return b(ue,Z,q)},K.getLayoutValObject=function(me,Z){return b(function H(me,Z){var G,q,ie,ue,le=me._basePlotModules;if(le){var pe;for(G=0;G<le.length;G++){if((ie=le[G]).attrRegex&&ie.attrRegex.test(Z)){if(ie.layoutAttrOverrides)return ie.layoutAttrOverrides;!pe&&ie.layoutAttributes&&(pe=ie.layoutAttributes)}var He=ie.baseLayoutAttrOverrides;if(He&&Z in He)return He[Z]}if(pe)return pe}var ke=me._modules;if(ke)for(G=0;G<ke.length;G++)if((ue=ke[G].layoutAttributes)&&Z in ue)return ue[Z];for(q in p.componentsRegistry){if("colorscale"===(ie=p.componentsRegistry[q]).name&&0===Z.indexOf("coloraxis"))return ie.layoutAttributes[Z];if(!ie.schema&&Z===ie.name)return ie.layoutAttributes}return Z in g&&g[Z]}(me,Z[0]),Z,1)}},1780:function(ve,K,o){"use strict";var p=o(3400),T=o(5464),v="templateitemname",g={name:{valType:"string",editType:"none"}};function f(m){return m&&"string"==typeof m}function y(m){return"s"!==m.charAt(m.length-1)&&p.warn("bad argument to arrayDefaultKey: "+m),m.substr(0,m.length-1)+"defaults"}g[v]={valType:"string",editType:"calc"},K.templatedArray=function(m,h){return h._isLinkedToArray=m,h.name=g.name,h[v]=g[v],h},K.traceTemplater=function(m){var c,C,h={};for(c in m)C=m[c],Array.isArray(C)&&C.length&&(h[c]=0);return{newTrace:function _(L){var D={type:c=p.coerce(L,{},T,"type"),_template:null};if(c in h){var w=h[c]%(C=m[c]).length;h[c]++,D._template=C[w]}return D}}},K.newContainer=function(m,h,c){var C=m._template,_=C&&(C[h]||c&&C[c]);return p.isPlainObject(_)||(_=null),m[h]={_template:_}},K.arrayTemplater=function(m,h,c){var C=m._template,_=C&&C[y(h)],L=C&&C[h];(!Array.isArray(L)||!L.length)&&(L=[]);var D={};return{newItem:function w(S){var E={name:S.name,_input:S},x=E[v]=S[v];if(!f(x))return E._template=_,E;for(var H=0;H<L.length;H++){var b=L[H];if(b.name===x)return D[x]=1,E._template=b,E}return E[c]=S[c]||!1,E._template=!1,E},defaultItems:function z(){for(var S=[],E=0;E<L.length;E++){var x=L[E],H=x.name;if(f(H)&&!D[H]){var b={_template:x,name:H,_input:{_templateitemname:H}};b[v]=x[v],S.push(b),D[H]=1}}return S}}},K.arrayDefaultKey=y,K.arrayEditor=function(m,h,c){var C=(p.nestedProperty(m,h).get()||[]).length,_=c._index,L=_>=C&&(c._input||{})._templateitemname;L&&(_=C);var w,D=h+"["+_+"]";function z(){w={},L&&(w[D]={},w[D][v]=L)}function E(b,N){L?p.nestedProperty(w[D],b).set(N):w[D+"."+b]=N}function x(){var b=w;return z(),b}return z(),{modifyBase:function S(b,N){w[b]=N},modifyItem:E,getUpdateObj:x,applyUpdate:function H(b,N){b&&E(b,N);var V=x();for(var Y in V)p.nestedProperty(m,Y).set(V[Y])}}}},9172:function(ve,K,o){"use strict";var p=o(3428),T=o(4040),v=o(7316),g=o(3400),f=o(2736),y=o(3696),m=o(6308),h=o(3616),c=o(1668),C=o(3080),_=o(4460),L=o(4284),D=o(1888),w=D.enforce,z=D.clean,S=o(9280).doAutoRange,E="start";function b(G,q,ie){for(var ue=0;ue<ie.length;ue++){var le=ie[ue][0],pe=ie[ue][1];if(!(le[0]>=G[1]||le[1]<=G[0])&&pe[0]<q[1]&&pe[1]>q[0])return!0}return!1}function N(G){var pe,He,ke,Ue,Me,we,q=G._fullLayout,ie=q._size,ue=ie.p,le=_.list(G,"",!0);if(q._paperdiv.style({width:G._context.responsive&&q.autosize&&!G._context._hasZeroWidth&&!G.layout.width?"100%":q.width+"px",height:G._context.responsive&&q.autosize&&!G._context._hasZeroHeight&&!G.layout.height?"100%":q.height+"px"}).selectAll(".main-svg").call(h.setSize,q.width,q.height),G._context.setBackground(G,q.paper_bgcolor),K.drawMainTitle(G),C.manage(G),!q._has("cartesian"))return v.previousPromises(G);function Le(dt,Re,it){var ye=dt._lw/2;return"x"===dt._id.charAt(0)?Re?"top"===it?Re._offset-ue-ye:Re._offset+Re._length+ue+ye:ie.t+ie.h*(1-(dt.position||0))+ye%1:Re?"right"===it?Re._offset+Re._length+ue+ye:Re._offset-ue-ye:ie.l+ie.w*(dt.position||0)+ye%1}for(pe=0;pe<le.length;pe++){var B=(Ue=le[pe])._anchorAxis;Ue._linepositions={},Ue._lw=h.crispRound(G,Ue.linewidth,1),Ue._mainLinePosition=Le(Ue,B,Ue.side),Ue._mainMirrorPosition=Ue.mirror&&B?Le(Ue,B,L.OPPOSITE_SIDE[Ue.side]):null}var P=[],X=[],j=[],I=1===m.opacity(q.paper_bgcolor)&&1===m.opacity(q.plot_bgcolor)&&q.paper_bgcolor===q.plot_bgcolor;for(He in q._plots)if((ke=q._plots[He]).mainplot)ke.bg&&ke.bg.remove(),ke.bg=void 0;else{var ae=ke.xaxis.domain,O=ke.yaxis.domain,ne=ke.plotgroup;if(b(ae,O,j)){var be=ne.node(),ze=ke.bg=g.ensureSingle(ne,"rect","bg");be.insertBefore(ze.node(),be.childNodes[0]),X.push(He)}else ne.select("rect.bg").remove(),j.push([ae,O]),I||(P.push(He),X.push(He))}var Pe,Je,Xe,Ge,st,wt,kt,At,Qt,nn,Ut,Lt,Xt,Ne=q._bgLayer.selectAll(".bg").data(P);for(Ne.enter().append("rect").classed("bg",!0),Ne.exit().remove(),Ne.each(function(dt){q._plots[dt].bg=p.select(this)}),pe=0;pe<X.length;pe++)Me=(ke=q._plots[X[pe]]).xaxis,we=ke.yaxis,ke.bg&&void 0!==Me._offset&&void 0!==we._offset&&ke.bg.call(h.setRect,Me._offset-ue,we._offset-ue,Me._length+2*ue,we._length+2*ue).call(m.fill,q.plot_bgcolor).style("stroke-width",0);if(!q._hasOnlyLargeSploms)for(He in q._plots){Me=(ke=q._plots[He]).xaxis,we=ke.yaxis;var Te,Ve,Oe=ke.clipId="clip"+q._uid+He+"plot",Be=g.ensureSingleById(q._clips,"clipPath",Oe,function(dt){dt.classed("plotclip",!0).append("rect")});ke.clipRect=Be.select("rect").attr({width:Me._length,height:we._length}),h.setTranslate(ke.plot,Me._offset,we._offset),ke._hasClipOnAxisFalse?(Te=null,Ve=Oe):(Te=Oe,Ve=null),h.setClipUrl(ke.plot,Te,G),ke.layerClipId=Ve}function gt(dt){return"M"+Pe+","+dt+"H"+Je}function Yt(dt){return"M"+Me._offset+","+dt+"h"+Me._length}function tn(dt){return"M"+dt+","+At+"V"+kt}function dn(dt){return void 0!==we._shift&&(dt+=we._shift),"M"+dt+","+we._offset+"v"+we._length}function rn(dt,Re,it){if(!dt.showline||He!==dt._mainSubplot)return"";if(!dt._anchorAxis)return it(dt._mainLinePosition);var ye=Re(dt._mainLinePosition);return dt.mirror&&(ye+=Re(dt._mainMirrorPosition)),ye}for(He in q._plots){we=(ke=q._plots[He]).yaxis;var Ke="M0,0";V(Me=ke.xaxis,He)&&(st=$(Me,"left",we,le),Pe=Me._offset-(st?ue+st:0),wt=$(Me,"right",we,le),Je=Me._offset+Me._length+(wt?ue+wt:0),Xe=Le(Me,we,"bottom"),Ge=Le(Me,we,"top"),(Xt=!Me._anchorAxis||He!==Me._mainSubplot)&&("allticks"===Me.mirror||"all"===Me.mirror)&&(Me._linepositions[He]=[Xe,Ge]),Ke=rn(Me,gt,Yt),Xt&&Me.showline&&("all"===Me.mirror||"allticks"===Me.mirror)&&(Ke+=gt(Xe)+gt(Ge)),ke.xlines.style("stroke-width",Me._lw+"px").call(m.stroke,Me.showline?Me.linecolor:"rgba(0,0,0,0)")),ke.xlines.attr("d",Ke);var St="M0,0";V(we,He)&&(Ut=$(we,"bottom",Me,le),kt=we._offset+we._length+(Ut?ue:0),Lt=$(we,"top",Me,le),At=we._offset-(Lt?ue:0),Qt=Le(we,Me,"left"),nn=Le(we,Me,"right"),(Xt=!we._anchorAxis||He!==we._mainSubplot)&&("allticks"===we.mirror||"all"===we.mirror)&&(we._linepositions[He]=[Qt,nn]),St=rn(we,tn,dn),Xt&&we.showline&&("all"===we.mirror||"allticks"===we.mirror)&&(St+=tn(Qt)+tn(nn)),ke.ylines.style("stroke-width",we._lw+"px").call(m.stroke,we.showline?we.linecolor:"rgba(0,0,0,0)")),ke.ylines.attr("d",St)}return _.makeClipPaths(G),v.previousPromises(G)}function V(G,q){return(G.ticks||G.showline)&&(q===G._mainSubplot||"all"===G.mirror||"allticks"===G.mirror)}function Y(G,q,ie){if(!ie.showline||!ie._lw)return!1;if("all"===ie.mirror||"allticks"===ie.mirror)return!0;var ue=ie._anchorAxis;if(!ue)return!1;var le=L.FROM_BL[q];return ie.side===q?ue.domain[le]===G.domain[le]:ie.mirror&&ue.domain[1-le]===G.domain[1-le]}function $(G,q,ie,ue){if(Y(G,q,ie))return ie._lw;for(var le=0;le<ue.length;le++){var pe=ue[le];if(pe._mainAxis===ie._mainAxis&&Y(G,q,pe))return pe._lw}return 0}function J(G,q,ie,ue){var le="title.automargin",pe=G._fullLayout.title,He=pe.y>.5?"t":"b",ke={x:pe.x,y:pe.y,t:0,b:0},Ue={};"paper"===pe.yref&&function Q(G,q,ie,ue,le){var pe="paper"===q.yref?G._fullLayout._size.h:G._fullLayout.height,He=g.isTopAnchor(q)?ue:ue-le,ke="b"===ie?pe-He:He;return!(g.isTopAnchor(q)&&"t"===ie||g.isBottomAnchor(q)&&"b"===ie)&&ke<le}(G,pe,He,q,ue)?ke[He]=ie:"container"===pe.yref&&(Ue[He]=ie,G._fullLayout._reservedMargin[le]=Ue),v.allowAutoMargin(G,le),v.autoMargin(G,le,ke)}function fe(G){return"top"===G?L.CAP_SHIFT+.3+"em":"bottom"===G?"-0.3em":L.MID_SHIFT+"em"}K.layoutStyles=function(G){return g.syncOrAsync([v.doAutoMargin,N],G)},K.drawMainTitle=function(G){var q=G._fullLayout.title,ie=G._fullLayout,ue=function me(G){var q=G.title,ie="middle";return g.isRightAnchor(q)?ie="end":g.isLeftAnchor(q)&&(ie=E),ie}(ie),le=function Z(G){var q=G.title,ie="0em";return g.isTopAnchor(q)?ie=L.CAP_SHIFT+"em":g.isMiddleAnchor(q)&&(ie=L.MID_SHIFT+"em"),ie}(ie),pe=function te(G,q){var ie=G.title,ue=G._size,le=0;return"0em"!==q&&q?q===L.CAP_SHIFT+"em"&&(le=ie.pad.t):le=-ie.pad.b,"auto"===ie.y?ue.t/2:"paper"===ie.yref?ue.t+ue.h-ue.h*ie.y+le:G.height-G.height*ie.y+le}(ie,le),He=function W(G,q){var ie=G.title,ue=G._size,le=0;return"paper"===(q===E?le=ie.pad.l:"end"===q&&(le=-ie.pad.r),ie.xref)?ue.l+ue.w*ie.x+le:G.width*ie.x+le}(ie,ue);if(c.draw(G,"gtitle",{propContainer:ie,propName:"title.text",placeholder:ie._dfltTitle.plot,attributes:{x:He,y:pe,"text-anchor":ue,dy:le}}),q.text&&q.automargin){var ke=p.selectAll(".gtitle"),Ue=h.bBox(ke.node()).height,Me=function F(G,q,ie){var ue=q.y,pe=ue>.5?"t":"b",He=G._fullLayout.margin[pe],ke=0;return"paper"===q.yref?ke=ie+q.pad.t+q.pad.b:"container"===q.yref&&(ke=function se(G,q,ie,ue,le){var pe=0;return"middle"===ie&&(pe+=le/2),"t"===G?("top"===ie&&(pe+=le),pe+=ue-q*ue):("bottom"===ie&&(pe+=le),pe+=q*ue),pe}(pe,ue,q.yanchor,G._fullLayout.height,ie)+q.pad.t+q.pad.b),ke>He?ke:0}(G,q,Ue);if(Me>0){J(G,pe,Me,Ue),ke.attr({x:He,y:pe,"text-anchor":ue,dy:fe(q.yanchor)}).call(f.positionText,He,pe);var we=(q.text.match(f.BR_TAG_ALL)||[]).length;if(we){var Le=L.LINE_SPACING*we+L.MID_SHIFT;0===q.y&&(Le=-Le),ke.selectAll(".line").each(function(){var B=+this.getAttribute("dy").slice(0,-2)-Le+"em";this.setAttribute("dy",B)})}}}},K.doTraceStyle=function(G){var ue,q=G.calcdata,ie=[];for(ue=0;ue<q.length;ue++){var le=q[ue],pe=le[0]||{},He=pe.trace||{},ke=He._module||{},Ue=ke.arraysToCalcdata;Ue&&Ue(le,He);var Me=ke.editStyle;Me&&ie.push({fn:Me,cd0:pe})}if(ie.length){for(ue=0;ue<ie.length;ue++){var we=ie[ue];we.fn(G,we.cd0)}y(G),K.redrawReglTraces(G)}return v.style(G),T.getComponentMethod("legend","draw")(G),v.previousPromises(G)},K.doColorBars=function(G){return T.getComponentMethod("colorbar","draw")(G),v.previousPromises(G)},K.layoutReplot=function(G){var q=G.layout;return G.layout=void 0,T.call("_doPlot",G,"",q)},K.doLegend=function(G){return T.getComponentMethod("legend","draw")(G),v.previousPromises(G)},K.doTicksRelayout=function(G){return _.draw(G,"redraw"),G._fullLayout._hasOnlyLargeSploms&&(T.subplotsRegistry.splom.updateGrid(G),y(G),K.redrawReglTraces(G)),K.drawMainTitle(G),v.previousPromises(G)},K.doModeBar=function(G){var q=G._fullLayout;C.manage(G);for(var ie=0;ie<q._basePlotModules.length;ie++){var ue=q._basePlotModules[ie].updateFx;ue&&ue(G)}return v.previousPromises(G)},K.doCamera=function(G){for(var q=G._fullLayout,ie=q._subplots.gl3d,ue=0;ue<ie.length;ue++){var le=q[ie[ue]];le._scene.setViewport(le)}},K.drawData=function(G){var q=G._fullLayout;y(G);for(var ie=q._basePlotModules,ue=0;ue<ie.length;ue++)ie[ue].plot(G);return K.redrawReglTraces(G),v.style(G),T.getComponentMethod("selections","draw")(G),T.getComponentMethod("shapes","draw")(G),T.getComponentMethod("annotations","draw")(G),T.getComponentMethod("images","draw")(G),q._replotting=!1,v.previousPromises(G)},K.redrawReglTraces=function(G){var q=G._fullLayout;if(q._has("regl")){var pe,He,ie=G._fullData,ue=[],le=[];for(q._hasOnlyLargeSploms&&q._splomGrid.draw(),pe=0;pe<ie.length;pe++){var ke=ie[pe];!0===ke.visible&&0!==ke._length&&("splom"===ke.type?q._splomScenes[ke.uid].draw():"scattergl"===ke.type?g.pushUnique(ue,ke.xaxis+ke.yaxis):"scatterpolargl"===ke.type&&g.pushUnique(le,ke.subplot))}for(pe=0;pe<ue.length;pe++)(He=q._plots[ue[pe]])._scene&&He._scene.draw();for(pe=0;pe<le.length;pe++)(He=q[le[pe]]._subplot)._scene&&He._scene.draw()}},K.doAutoRangeAndConstraints=function(G){for(var ie,q=_.list(G,"",!0),ue={},le=0;le<q.length;le++)if(!ue[(ie=q[le])._id]){ue[ie._id]=1,z(G,ie),S(G,ie);var pe=ie._matchGroup;if(pe)for(var He in pe){var ke=_.getFromId(G,He);S(G,ke,ie.range),ue[He]=1}}w(G)},K.finalDraw=function(G){T.getComponentMethod("rangeslider","draw")(G),T.getComponentMethod("rangeselector","draw")(G)},K.drawMarginPushers=function(G){T.getComponentMethod("legend","draw")(G),T.getComponentMethod("rangeselector","draw")(G),T.getComponentMethod("sliders","draw")(G),T.getComponentMethod("updatemenus","draw")(G),T.getComponentMethod("colorbar","draw")(G)}},4828:function(ve,K,o){"use strict";var p=o(3400),T=p.isPlainObject,v=o(3060),g=o(7316),f=o(5464),y=o(1780),m=o(556).dfltConfig;function h(S,E){S=p.extendDeep({},S);var H,b,x=Object.keys(S).sort();function N(se,F,J){if(T(F)&&T(se))h(se,F);else if(Array.isArray(F)&&Array.isArray(se)){var W=y.arrayTemplater({_template:S},J);for(b=0;b<F.length;b++){var te=F[b],fe=W.newItem(te)._template;fe&&h(fe,te)}var me=W.defaultItems();for(b=0;b<me.length;b++)F.push(me[b]._template);for(b=0;b<F.length;b++)delete F[b].templateitemname}}for(H=0;H<x.length;H++){var V=x[H],Y=S[V];if(V in E?N(Y,E[V],V):E[V]=Y,c(V)===V)for(var $ in E){var Q=c($);$!==Q&&Q===V&&!($ in S)&&N(Y,E[$],V)}}}function c(S){return S.replace(/[0-9]+$/,"")}function C(S,E,x,H,b){var N=b&&x(b);for(var V in S){var Y=S[V],$=D(S,V,H),Q=D(S,V,b),se=x(Q);if(!se){var F=c(V);F!==V&&(se=x(Q=D(S,F,b)))}if(!(N&&N===se||!se||se._noTemplating||"data_array"===se.valType||se.arrayOk&&Array.isArray(Y)))if(!se.valType&&T(Y))C(Y,E,x,$,Q);else if(se._isLinkedToArray&&Array.isArray(Y))for(var J=!1,W=0,te={},fe=0;fe<Y.length;fe++){var me=Y[fe];if(T(me)){var Z=me.name;if(Z)te[Z]||(C(me,E,x,D(Y,W,$),D(Y,W,Q)),W++,te[Z]=1);else if(!J){var q=D(S,y.arrayDefaultKey(V),H),ie=D(Y,W,$);C(me,E,x,ie,D(Y,W,Q));var ue=p.nestedProperty(E,ie);p.nestedProperty(E,q).set(ue.get()),ue.set(null),J=!0}}}else p.nestedProperty(E,$).set(Y)}}function _(S,E){return v.getLayoutValObject(S,p.nestedProperty({},E).parts)}function L(S,E){return v.getTraceValObject(S,p.nestedProperty({},E).parts)}function D(S,E,x){return x?Array.isArray(S)?x+"["+E+"]":x+"."+E:E}function w(S){for(var E=0;E<S.length;E++)if(T(S[E]))return!0}function z(S){var E;switch(S.code){case"data":E="The template has no key data.";break;case"layout":E="The template has no key layout.";break;case"missing":E=S.path?"There are no templates for item "+S.path+" with name "+S.templateitemname:"There are no templates for trace "+S.index+", of type "+S.traceType+".";break;case"unused":E=S.path?"The template item at "+S.path+" was not used in constructing the plot.":S.dataCount?"Some of the templates of type "+S.traceType+" were not used. The template has "+S.templateCount+" traces, the data only has "+S.dataCount+" of this type.":"The template has "+S.templateCount+" traces of type "+S.traceType+" but there are none in the data.";break;case"reused":E="Some of the templates of type "+S.traceType+" were used more than once. The template has "+S.templateCount+" traces, the data has "+S.dataCount+" of this type."}return S.msg=E,S}K.makeTemplate=function(S){S=p.isPlainObject(S)?S:p.getGraphDiv(S),S=p.extendDeep({_context:m},{data:S.data,layout:S.layout}),g.supplyDefaults(S);var E=S.data||[],x=S.layout||{};x._basePlotModules=S._fullLayout._basePlotModules,x._modules=S._fullLayout._modules;var H={data:{},layout:{}};E.forEach(function(W){var te={};C(W,te,L.bind(null,W));var fe=p.coerce(W,{},f,"type"),me=H.data[fe];me||(me=H.data[fe]=[]),me.push(te)}),C(x,H.layout,_.bind(null,x)),delete H.layout.template;var b=x.template;if(T(b)){var V,Y,$,Q,se,F,N=b.layout;T(N)&&h(N,H.layout);var J=b.data;if(T(J)){for(Y in H.data)if($=J[Y],Array.isArray($)){for(F=(se=H.data[Y]).length,Q=$.length,V=0;V<F;V++)h($[V%Q],se[V]);for(V=F;V<Q;V++)se.push(p.extendDeep({},$[V]))}for(Y in J)Y in H.data||(H.data[Y]=p.extendDeep([],J[Y]))}}return H},K.validateTemplate=function(S,E){var x=p.extendDeep({},{_context:m,data:S.data,layout:S.layout}),H=x.layout||{};T(E)||(E=H.template||{});var b=E.layout,N=E.data,V=[];x.layout=H,x.layout.template=E,g.supplyDefaults(x);var Y=x._fullLayout,$=x._fullData,Q={};if(T(b)?(function se(q,ie){for(var ue in q)if("_"!==ue.charAt(0)&&T(q[ue])){var He,le=c(ue),pe=[];for(He=0;He<ie.length;He++)pe.push(D(q,ue,ie[He])),le!==ue&&pe.push(D(q,le,ie[He]));for(He=0;He<pe.length;He++)Q[pe[He]]=1;se(q[ue],pe)}}(Y,["layout"]),function F(q,ie){for(var ue in q)if(-1===ue.indexOf("defaults")&&T(q[ue])){var le=D(q,ue,ie);Q[le]?F(q[ue],le):V.push({code:"unused",path:le})}}(b,"layout")):V.push({code:"layout"}),T(N)){for(var W,J={},te=0;te<$.length;te++){var fe=$[te];J[W=fe.type]=(J[W]||0)+1,fe._fullInput._template||V.push({code:"missing",index:fe._fullInput.index,traceType:W})}for(W in N){var me=N[W].length,Z=J[W]||0;me>Z?V.push({code:"unused",traceType:W,templateCount:me,dataCount:Z}):Z>me&&V.push({code:"reused",traceType:W,templateCount:me,dataCount:Z})}}else V.push({code:"data"});if(function G(q,ie){for(var ue in q)if("_"!==ue.charAt(0)){var le=q[ue],pe=D(q,ue,ie);T(le)?(Array.isArray(q)&&!1===le._template&&le.templateitemname&&V.push({code:"missing",path:pe,templateitemname:le.templateitemname}),G(le,pe)):Array.isArray(le)&&w(le)&&G(le,pe)}}({data:$,layout:Y},""),V.length)return V.map(z)}},7024:function(ve,K,o){"use strict";var p=o(8248),T=o(6424),v=o(7316),g=o(3400),f=o(7030),y=o(7164),m=o(3268),h=o(5788).version,c={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};ve.exports=function C(_,L){var D,w,z,S;function E(Z){return!(Z in L)||g.validate(L[Z],c[Z])}if(L=L||{},g.isPlainObject(_)?(D=_.data||[],w=_.layout||{},z=_.config||{},S={}):(_=g.getGraphDiv(_),D=g.extendDeep([],_.data),w=g.extendDeep({},_.layout),z=_._context,S=_._fullLayout||{}),!E("width")&&null!==L.width||!E("height")&&null!==L.height)throw new Error("Height and width should be pixel values.");if(!E("format"))throw new Error("Export format is not "+g.join2(c.format.values,", "," or ")+".");var x={};function H(Z,G){return g.coerce(L,x,c,Z,G)}var b=H("format"),N=H("width"),V=H("height"),Y=H("scale"),$=H("setBackground"),Q=H("imageDataOnly"),se=document.createElement("div");se.style.position="absolute",se.style.left="-5000px",document.body.appendChild(se);var F=g.extendFlat({},w);N?F.width=N:null===L.width&&p(S.width)&&(F.width=S.width),V?F.height=V:null===L.height&&p(S.height)&&(F.height=S.height);var J=g.extendFlat({},z,{_exportedPlot:!0,staticPlot:!0,setBackground:$}),W=f.getRedrawFunc(se);function te(){return new Promise(function(Z){setTimeout(Z,f.getDelay(se._fullLayout))})}function fe(){return new Promise(function(Z,G){var q=y(se,b,Y),ie=se._fullLayout.width,ue=se._fullLayout.height;function le(){T.purge(se),document.body.removeChild(se)}if("full-json"===b){var pe=v.graphJson(se,!1,"keepdata","object",!0,!0);return pe.version=h,pe=JSON.stringify(pe),le(),Z(Q?pe:f.encodeJSON(pe))}if(le(),"svg"===b)return Z(Q?q:f.encodeSVG(q));var He=document.createElement("canvas");He.id=g.randstr(),m({format:b,width:ie,height:ue,scale:Y,canvas:He,svg:q,promise:!0}).then(Z).catch(G)})}return new Promise(function(Z,G){T.newPlot(se,D,F,J).then(W).then(te).then(fe).then(function(q){Z(function me(Z){return Q?Z.replace(f.IMAGE_URL_PREFIX,""):Z}(q))}).catch(function(q){G(q)})})}},1480:function(ve,K,o){"use strict";var p=o(3400),T=o(7316),v=o(3060),g=o(556).dfltConfig,f=p.isPlainObject,y=Array.isArray,m=p.isArrayOrTypedArray;function h(x,H,b,N,V,Y){Y=Y||[];for(var $=Object.keys(x),Q=0;Q<$.length;Q++){var se=$[Q];if("transforms"!==se){var F=Y.slice();F.push(se);var J=x[se],W=H[se],te=w(b,se),fe=(te||{}).valType,me="info_array"===fe,Z="colorscale"===fe,G=(te||{}).items;if(D(b,se))if(f(J)&&f(W)&&"any"!==fe)h(J,W,te,N,V,F);else if(me&&y(J)){J.length>W.length&&N.push(L("unused",V,F.concat(W.length)));var ue,le,He,ke,q=W.length,ie=Array.isArray(G);if(ie&&(q=Math.min(q,G.length)),2===te.dimensions)for(le=0;le<q;le++)if(y(J[le])){J[le].length>W[le].length&&N.push(L("unused",V,F.concat(le,W[le].length)));var Ue=W[le].length;for(ue=0;ue<(ie?Math.min(Ue,G[le].length):Ue);ue++)ke=W[le][ue],p.validate(He=J[le][ue],ie?G[le][ue]:G)?ke!==He&&ke!==+He&&N.push(L("dynamic",V,F.concat(le,ue),He,ke)):N.push(L("value",V,F.concat(le,ue),He))}else N.push(L("array",V,F.concat(le),J[le]));else for(le=0;le<q;le++)ke=W[le],p.validate(He=J[le],ie?G[le]:G)?ke!==He&&ke!==+He&&N.push(L("dynamic",V,F.concat(le),He,ke)):N.push(L("value",V,F.concat(le),He))}else if(te.items&&!me&&y(J)){var Le,B,Me=G[Object.keys(G)[0]],we=[];for(Le=0;Le<W.length;Le++){var P=W[Le]._index||Le;if((B=F.slice()).push(P),f(J[P])&&f(W[Le])){we.push(P);var X=J[P],j=W[Le];f(X)&&!1!==X.visible&&!1===j.visible?N.push(L("invisible",V,B)):h(X,j,Me,N,V,B)}}for(Le=0;Le<J.length;Le++)(B=F.slice()).push(Le),f(J[Le])?-1===we.indexOf(Le)&&N.push(L("unused",V,B)):N.push(L("object",V,B,J[Le]))}else!f(J)&&f(W)?N.push(L("object",V,F,J)):m(J)||!m(W)||me||Z?se in H?p.validate(J,te)?"enumerated"===te.valType&&(te.coerceNumber&&J!==+W||J!==W)&&N.push(L("dynamic",V,F,J,W)):N.push(L("value",V,F,J)):N.push(L("unused",V,F,J)):N.push(L("array",V,F,J));else N.push(L("schema",V,F))}}return N}ve.exports=function(H,b){void 0===H&&(H=[]),void 0===b&&(b={});var $,Q,N=v.get(),V=[],Y={_context:p.extendFlat({},g)};y(H)?(Y.data=p.extendDeep([],H),$=H):(Y.data=[],$=[],V.push(L("array","data"))),f(b)?(Y.layout=p.extendDeep({},b),Q=b):(Y.layout={},Q={},arguments.length>1&&V.push(L("object","layout"))),T.supplyDefaults(Y);for(var se=Y._fullData,F=$.length,J=0;J<F;J++){var W=$[J],te=["data",J];if(f(W)){var fe=se[J],me=fe.type,Z=N.traces[me].attributes;Z.type={valType:"enumerated",values:[me]},!1===fe.visible&&!1!==W.visible&&V.push(L("invisible",te)),h(W,fe,Z,V,te);var G=W.transforms,q=fe.transforms;if(G){y(G)||V.push(L("array",te,["transforms"])),te.push("transforms");for(var ie=0;ie<G.length;ie++){var ue=["transforms",ie],le=G[ie].type;if(f(G[ie])){var pe=N.transforms[le]?N.transforms[le].attributes:{};pe.type={valType:"enumerated",values:Object.keys(N.transforms)},h(G[ie],q[ie],pe,V,te,ue)}else V.push(L("object",te,ue))}}}else V.push(L("object",te))}return h(Q,Y._fullLayout,function c(x,H){for(var b=x.layout.layoutAttributes,N=0;N<H.length;N++){var V=H[N],Y=x.traces[V.type],$=Y.layoutAttributes;$&&p.extendFlat(V.subplot?b[Y.attributes.subplot.dflt]:b,$)}return b}(N,se),V,"layout"),0===V.length?void 0:V};var C={object:function(x,H){return("layout"===x&&""===H?"The layout argument":"data"===x[0]&&""===H?"Trace "+x[1]+" in the data argument":_(x)+"key "+H)+" must be linked to an object container"},array:function(x,H){return("data"===x?"The data argument":_(x)+"key "+H)+" must be linked to an array container"},schema:function(x,H){return _(x)+"key "+H+" is not part of the schema"},unused:function(x,H,b){var N=f(b)?"container":"key";return _(x)+N+" "+H+" did not get coerced"},dynamic:function(x,H,b,N){return[_(x)+"key",H,"(set to '"+b+"')","got reset to","'"+N+"'","during defaults."].join(" ")},invisible:function(x,H){return(H?_(x)+"item "+H:"Trace "+x[1])+" got defaulted to be not visible"},value:function(x,H,b){return[_(x)+"key "+H,"is set to an invalid value ("+b+")"].join(" ")}};function _(x){return y(x)?"In data trace "+x[1]+", ":"In "+x+", "}function L(x,H,b,N,V){var Y,$;b=b||"",y(H)?(Y=H[0],$=H[1]):(Y=H,$=null);var Q=function E(x){if(!y(x))return String(x);for(var H="",b=0;b<x.length;b++){var N=x[b];"number"==typeof N?H=H.substr(0,H.length-1)+"["+N+"]":H+=N,b<x.length-1&&(H+=".")}return H}(b),se=C[x](H,Q,N,V);return p.log(se),{code:x,container:Y,trace:$,path:b,astr:Q,msg:se}}function D(x,H){var b=S(H),N=b.keyMinusId;return!!(N in x&&x[N]._isSubplotObj&&b.id)||H in x}function w(x,H){return H in x?x[H]:x[S(H).keyMinusId]}var z=p.counterRegex("([a-z]+)");function S(x){var H=x.match(z);return{keyMinusId:H&&H[1],id:H&&H[2]}}},5656:function(ve){"use strict";ve.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},1272:function(ve,K,o){"use strict";var p=o(3400),T=o(1780);ve.exports=function(g,f,y){var D,w,m=y.name,h=y.inclusionAttr||"visible",c=f[m],C=p.isArrayOrTypedArray(g[m])?g[m]:[],_=f[m]=[],L=T.arrayTemplater(f,m,h);for(D=0;D<C.length;D++){var z=C[D];p.isPlainObject(z)?w=L.newItem(z):(w=L.newItem({}))[h]=!1,w._index=D,!1!==w[h]&&y.handleItemDefaults(z,w,f,y),_.push(w)}var S=L.defaultItems();for(D=0;D<S.length;D++)(w=S[D])._index=_.length,y.handleItemDefaults({},w,f,y,{}),_.push(w);if(p.isArrayOrTypedArray(c)){var E=Math.min(c.length,_.length);for(D=0;D<E;D++)p.relinkPrivateKeys(_[D],c[D])}return _}},5464:function(ve,K,o){"use strict";var p=o(5376),T=o(5756);ve.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:p({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:T.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},1220:function(ve,K,o){"use strict";var p=o(8248),T=o(3400),v=T.dateTime2ms,g=T.incrementMonth,y=o(9032).ONEAVGMONTH;ve.exports=function(h,c,C,_){if("date"!==c.type)return{vals:_};var L=h[C+"periodalignment"];if(!L)return{vals:_};var w,D=h[C+"period"];if(p(D)){if((D=+D)<=0)return{vals:_}}else if("string"==typeof D&&"M"===D.charAt(0)){var z=+D.substring(1);if(!(z>0&&Math.round(z)===z))return{vals:_};w=z}for(var S=c.calendar,E="start"===L,x="end"===L,b=v(h[C+"period0"],S)||0,N=[],V=[],Y=[],$=_.length,Q=0;Q<$;Q++){var F,J,W,se=_[Q];if(w){for(F=Math.round((se-b)/(w*y)),W=g(b,w*F,S);W>se;)W=g(W,-w,S);for(;W<=se;)W=g(W,w,S);J=g(W,-w,S)}else{for(W=b+(F=Math.round((se-b)/D))*D;W>se;)W-=D;for(;W<=se;)W+=D;J=W-D}N[Q]=E?J:x?W:(J+W)/2,V[Q]=J,Y[Q]=W}return{vals:N,starts:V,ends:Y}}},6720:function(ve){"use strict";ve.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},9280:function(ve,K,o){"use strict";var p=o(3428),T=o(8248),v=o(3400),g=o(9032).FP_SAFE,f=o(4040),y=o(3616),m=o(9811),h=m.getFromId,c=m.isLinked;function C(J,W){var te,fe,me=[],Z=J._fullLayout,G=L(Z,W,0),q=L(Z,W,1),ie=z(J,W),ue=ie.min,le=ie.max;if(0===ue.length||0===le.length)return v.simpleMap(W.range,W.r2l);var pe=ue[0].val,He=le[0].val;for(te=1;te<ue.length&&pe===He;te++)pe=Math.min(pe,ue[te].val);for(te=1;te<le.length&&pe===He;te++)He=Math.max(He,le[te].val);var ke=W.autorange,Ue="reversed"===ke||"min reversed"===ke||"max reversed"===ke;if(!Ue&&W.range){var Me=v.simpleMap(W.range,W.r2l);Ue=Me[1]<Me[0]}"reversed"===W.autorange&&(W.autorange=!0);var I,ae,O,ne,be,ze,we=W.rangemode,Le="tozero"===we,B="nonnegative"===we,P=W._length,X=P/10,j=0;for(te=0;te<ue.length;te++)for(I=ue[te],fe=0;fe<le.length;fe++)(ze=(ae=le[fe]).val-I.val-_(W,I.val,ae.val))>0&&((be=P-G(I)-q(ae))>X?ze/be>j&&(O=I,ne=ae,j=ze/be):ze/P>j&&(O={val:I.val,nopad:1},ne={val:ae.val,nopad:1},j=ze/P));if(pe===He){var Oe=pe-1,Be=pe+1;if(Le)if(0===pe)me=[0,1];else{var Te=(pe>0?le:ue).reduce(function Ne(Pe,Je){return Math.max(Pe,q(Je))},0),Ve=pe/(1-Math.min(.5,Te/P));me=pe>0?[0,Ve]:[Ve,0]}else me=B?[Math.max(0,Oe),Math.max(1,Be)]:[Oe,Be]}else Le?(O.val>=0&&(O={val:0,nopad:1}),ne.val<=0&&(ne={val:0,nopad:1})):B&&(O.val-j*G(O)<0&&(O={val:0,nopad:1}),ne.val<=0&&(ne={val:1,nopad:1})),j=(ne.val-O.val-_(W,I.val,ae.val))/(P-G(O)-q(ne)),me=[O.val-j*G(O),ne.val+j*q(ne)];return me=F(me,W),W.limitRange&&W.limitRange(),Ue&&me.reverse(),v.simpleMap(me,W.l2r||Number)}function _(J,W,te){var fe=0;if(J.rangebreaks)for(var me=J.locateBreaks(W,te),Z=0;Z<me.length;Z++){var G=me[Z];fe+=G.max-G.min}return fe}function L(J,W,te){var fe=.05*W._length,me=W._anchorAxis||{};if(-1!==(W.ticklabelposition||"").indexOf("inside")||-1!==(me.ticklabelposition||"").indexOf("inside")){var Z=W.isReversed();if(!Z){var G=v.simpleMap(W.range,W.r2l);Z=G[1]<G[0]}Z&&(te=!te)}var q=0;return c(J,W._id)||(q=function w(J,W,te){var fe=0,me="x"===W._id.charAt(0);for(var Z in J._plots){var G=J._plots[Z];if(W._id===G.xaxis._id||W._id===G.yaxis._id){var q=(me?G.yaxis:G.xaxis)||{};if(-1!==(q.ticklabelposition||"").indexOf("inside")&&(!te&&("left"===q.side||"bottom"===q.side)||te&&("top"===q.side||"right"===q.side))){if(q._vals){var ie=v.deg2rad(q._tickAngles[q._id+"tick"]||0),ue=Math.abs(Math.cos(ie)),le=Math.abs(Math.sin(ie));q._vals[0].bb||q._selections[q._id+"tick"].each(function(B){var P=p.select(this);P.select(".text-math-group").empty()&&(B.bb=y.bBox(P.node()))});for(var ke=0;ke<q._vals.length;ke++){var Me=q._vals[ke].bb;if(Me){var we=2*D+Me.width,Le=2*D+Me.height;fe=Math.max(fe,me?Math.max(we*ue,Le*le):Math.max(Le*ue,we*le))}}}"inside"===q.ticks&&"inside"===q.ticklabelposition&&(fe+=q.ticklen||0)}}}return fe}(J,W,te)),fe=Math.max(q,fe),"domain"===W.constrain&&W._inputDomain&&(fe*=(W._inputDomain[1]-W._inputDomain[0])/(W.domain[1]-W.domain[0])),function(ue){return ue.nopad?0:ue.pad+(ue.extrapad?fe:q)}}ve.exports={applyAutorangeOptions:F,getAutoRange:C,makePadFn:L,doAutoRange:function S(J,W,te){if(W.setScale(),W.autorange){W.range=te?te.slice():C(J,W),W._r=W.range.slice(),W._rl=v.simpleMap(W._r,W.r2l);var fe=W._input,me={};me[W._attr+".range"]=W.range,me[W._attr+".autorange"]=W.autorange,f.call("_storeDirectGUIEdit",J.layout,J._fullLayout._preGUI,me),fe.range=W.range.slice(),fe.autorange=W.autorange}var Z=W._anchorAxis;if(Z&&Z.rangeslider){var G=Z.rangeslider[W._name];G&&"auto"===G.rangemode&&(G.range=C(J,W)),Z._input.rangeslider[W._name]=v.extendFlat({},G)}},findExtremes:function E(J,W,te){te||(te={}),J._m||J.setScale();var pe,He,ke,Ue,Me,we,Le,B,P,fe=[],me=[],Z=W.length,G=te.padded||!1,q=te.tozero&&("linear"===J.type||"-"===J.type),ie="log"===J.type,ue=!1,le=te.vpadLinearized||!1;function X(Ne){if(Array.isArray(Ne))return ue=!0,function(Be){return Math.max(Number(Ne[Be]||0),0)};var Oe=Math.max(Number(Ne||0),0);return function(){return Oe}}var j=X((J._m>0?te.ppadplus:te.ppadminus)||te.ppad||0),I=X((J._m>0?te.ppadminus:te.ppadplus)||te.ppad||0),ae=X(te.vpadplus||te.vpad),O=X(te.vpadminus||te.vpad);if(!ue){if(B=1/0,P=-1/0,ie)for(pe=0;pe<Z;pe++)(He=W[pe])<B&&He>0&&(B=He),He>P&&He<g&&(P=He);else for(pe=0;pe<Z;pe++)(He=W[pe])<B&&He>-g&&(B=He),He>P&&He<g&&(P=He);W=[B,P],Z=2}var ne={tozero:q,extrapad:G};function be(Ne){T(ke=W[Ne])&&(we=j(Ne),Le=I(Ne),le?(Ue=J.c2l(ke)-O(Ne),Me=J.c2l(ke)+ae(Ne)):(B=ke-O(Ne),P=ke+ae(Ne),ie&&B<P/10&&(B=P/10),Ue=J.c2l(B),Me=J.c2l(P)),q&&(Ue=Math.min(0,Ue),Me=Math.max(0,Me)),N(Ue)&&x(fe,Ue,Le,ne),N(Me)&&H(me,Me,we,ne))}var ze=Math.min(6,Z);for(pe=0;pe<ze;pe++)be(pe);for(pe=Z-1;pe>=ze;pe--)be(pe);return{min:fe,max:me,opts:te}},concatExtremes:z};var D=3;function z(J,W,te){var ie,ue,le,fe=W._id,Z=J._fullLayout,G=[],q=[];function pe(we,Le){for(ie=0;ie<Le.length;ie++){var B=we[Le[ie]],P=(B._extremes||{})[fe];if(!0===B.visible&&P){for(ue=0;ue<P.min.length;ue++)x(G,(le=P.min[ue]).val,le.pad,{extrapad:le.extrapad});for(ue=0;ue<P.max.length;ue++)H(q,(le=P.max[ue]).val,le.pad,{extrapad:le.extrapad})}}}if(pe(J._fullData,W._traceIndices),pe(Z.annotations||[],W._annIndices||[]),pe(Z.shapes||[],W._shapeIndices||[]),W._matchGroup&&!te)for(var He in W._matchGroup)if(He!==W._id){var ke=h(J,He),Ue=z(J,ke,!0),Me=W._length/ke._length;for(ue=0;ue<Ue.min.length;ue++)x(G,(le=Ue.min[ue]).val,le.pad*Me,{extrapad:le.extrapad});for(ue=0;ue<Ue.max.length;ue++)H(q,(le=Ue.max[ue]).val,le.pad*Me,{extrapad:le.extrapad})}return{min:G,max:q}}function x(J,W,te,fe){b(J,W,te,fe,V)}function H(J,W,te,fe){b(J,W,te,fe,Y)}function b(J,W,te,fe,me){for(var Z=fe.tozero,G=fe.extrapad,q=!0,ie=0;ie<J.length&&q;ie++){var ue=J[ie];if(me(ue.val,W)&&ue.pad>=te&&(ue.extrapad||!G)){q=!1;break}me(W,ue.val)&&ue.pad<=te&&(G||!ue.extrapad)&&(J.splice(ie,1),ie--)}if(q){var le=Z&&0===W;J.push({val:W,pad:le?0:te,extrapad:!le&&G})}}function N(J){return T(J)&&Math.abs(J)<g}function V(J,W){return J<=W}function Y(J,W){return J>=W}function $(J,W){var te=W.autorangeoptions;return te&&void 0!==te.minallowed&&se(W,te.minallowed,te.maxallowed)?te.minallowed:te&&void 0!==te.clipmin&&se(W,te.clipmin,te.clipmax)?Math.max(J,W.d2l(te.clipmin)):J}function Q(J,W){var te=W.autorangeoptions;return te&&void 0!==te.maxallowed&&se(W,te.minallowed,te.maxallowed)?te.maxallowed:te&&void 0!==te.clipmax&&se(W,te.clipmin,te.clipmax)?Math.min(J,W.d2l(te.clipmax)):J}function se(J,W,te){return void 0===W||void 0===te||(W=J.d2l(W))<J.d2l(te)}function F(J,W){if(!W||!W.autorangeoptions)return J;var te=J[0],fe=J[1],me=W.autorangeoptions.include;if(void 0!==me){var Z=W.d2l(te),G=W.d2l(fe);v.isArrayOrTypedArray(me)||(me=[me]);for(var q=0;q<me.length;q++){var ie=W.d2l(me[q]);Z>=ie&&(Z=ie,te=ie),G<=ie&&(G=ie,fe=ie)}}return[te=$(te,W),fe=Q(fe,W)]}},6808:function(ve){"use strict";ve.exports=function(o,p,T){var v,g;if(T){var f="reversed"===p||"min reversed"===p||"max reversed"===p;v=T[f?1:0],g=T[f?0:1]}var y=o("autorangeoptions.minallowed",null===g?v:void 0),m=o("autorangeoptions.maxallowed",null===v?g:void 0);void 0===y&&o("autorangeoptions.clipmin"),void 0===m&&o("autorangeoptions.clipmax"),o("autorangeoptions.include")}},4460:function(ve,K,o){"use strict";var p=o(3428),T=o(8248),v=o(7316),g=o(4040),f=o(3400),y=f.strTranslate,m=o(2736),h=o(1668),c=o(6308),C=o(3616),_=o(4724),L=o(8728),D=o(9032),w=D.ONEMAXYEAR,z=D.ONEAVGYEAR,S=D.ONEMINYEAR,E=D.ONEMAXQUARTER,x=D.ONEAVGQUARTER,H=D.ONEMINQUARTER,b=D.ONEMAXMONTH,N=D.ONEAVGMONTH,V=D.ONEMINMONTH,Y=D.ONEWEEK,$=D.ONEDAY,Q=$/2,se=D.ONEHOUR,F=D.ONEMIN,J=D.ONESEC,W=D.MINUS_SIGN,te=D.BADNUM,fe={K:"zeroline"},me={K:"gridline",L:"path"},Z={K:"minor-gridline",L:"path"},G={K:"tick",L:"path"},q={K:"tick",L:"text"},ie={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},ue=o(4284),le=ue.MID_SHIFT,pe=ue.CAP_SHIFT,He=ue.LINE_SPACING,ke=ue.OPPOSITE_SIDE,Me=ve.exports={};Me.setConvert=o(8344);var we=o(2976),Le=o(9811),B=Le.idSort,P=Le.isLinked;Me.id2name=Le.id2name,Me.name2id=Le.name2id,Me.cleanId=Le.cleanId,Me.list=Le.list,Me.listIds=Le.listIds,Me.getFromId=Le.getFromId,Me.getFromTrace=Le.getFromTrace;var X=o(9280);Me.getAutoRange=X.getAutoRange,Me.findExtremes=X.findExtremes;var j=1e-4;function I(ge){var de=(ge[1]-ge[0])*j;return[ge[0]-de,ge[1]+de]}Me.coerceRef=function(ge,de,lt,ot,pt,mt){var Tt=ot.charAt(ot.length-1),ht=lt._fullLayout._subplots[Tt+"axis"],ut=ot+"ref",Ht={};return pt||(pt=ht[0]||("string"==typeof mt?mt:mt[0])),mt||(mt=pt),ht=ht.concat(ht.map(function(_t){return _t+" domain"})),Ht[ut]={valType:"enumerated",values:ht.concat(mt?"string"==typeof mt?[mt]:mt:[]),dflt:pt},f.coerce(ge,de,Ht,ut)},Me.getRefType=function(ge){return void 0===ge?ge:"paper"===ge?"paper":"pixel"===ge?"pixel":/( domain)$/.test(ge)?"domain":"range"},Me.coercePosition=function(ge,de,lt,ot,pt,mt){var Tt,ht;if("range"!==Me.getRefType(ot))Tt=f.ensureNumber,ht=lt(pt,mt);else{var Ht=Me.getFromId(de,ot);ht=lt(pt,mt=Ht.fraction2r(mt)),Tt=Ht.cleanPos}ge[pt]=Tt(ht)},Me.cleanPosition=function(ge,de,lt){return("paper"===lt||"pixel"===lt?f.ensureNumber:Me.getFromId(de,lt).cleanPos)(ge)},Me.redrawComponents=function(ge,de){de=de||Me.listIds(ge);var lt=ge._fullLayout;function ot(pt,mt,Tt,ht){for(var ut=g.getComponentMethod(pt,mt),Ht={},_t=0;_t<de.length;_t++)for(var an=lt[Me.id2name(de[_t])][Tt],vn=0;vn<an.length;vn++){var Nt=an[vn];if(!Ht[Nt]&&(ut(ge,Nt),Ht[Nt]=1,ht))return}}ot("annotations","drawOne","_annIndices"),ot("shapes","drawOne","_shapeIndices"),ot("images","draw","_imgIndices",!0),ot("selections","drawOne","_selectionIndices")};var ae=Me.getDataConversions=function(ge,de,lt,ot){var pt,mt="x"===lt||"y"===lt||"z"===lt?lt:ot;if(f.isArrayOrTypedArray(mt)){if(pt={type:we(ot,void 0,{autotypenumbers:ge._fullLayout.autotypenumbers}),_categories:[]},Me.setConvert(pt),"category"===pt.type)for(var Tt=0;Tt<ot.length;Tt++)pt.d2c(ot[Tt])}else pt=Me.getFromTrace(ge,de,mt);return pt?{d2c:pt.d2c,c2d:pt.c2d}:"ids"===mt?{d2c:ne,c2d:ne}:{d2c:O,c2d:O}};function O(ge){return+ge}function ne(ge){return String(ge)}function Ne(ge,de){return Math.abs((ge/de+.5)%1-.5)<.001}function Oe(ge,de){return Math.abs(ge/de-1)<.001}function Be(ge){return+ge.substring(1)}function Pe(ge,de){return ge.rangebreaks&&(de=de.filter(function(lt){return ge.maskBreaks(lt.x)!==te})),de}function Je(ge){var de=ge._mainAxis,lt=[];if(de._vals)for(var ot=0;ot<de._vals.length;ot++)if(!de._vals[ot].noTick){var pt=de.l2p(de._vals[ot].x),mt=ge.p2l(pt),Tt=Me.tickText(ge,mt);de._vals[ot].minor&&(Tt.minor=!0,Tt.text=""),lt.push(Tt)}return Pe(ge,lt)}function Xe(ge,de){var ot=I(f.simpleMap(ge.range,ge.r2l)),pt=Math.min(ot[0],ot[1]),mt=Math.max(ot[0],ot[1]),Tt="category"===ge.type?ge.d2l_noadd:ge.d2l;"log"===ge.type&&"L"!==String(ge.dtick).charAt(0)&&(ge.dtick="L"+Math.pow(10,Math.floor(Math.min(ge.range[0],ge.range[1]))-1));for(var ht=[],ut=0;ut<=1;ut++)if((void 0===de||!(de&&ut||!1===de&&!ut))&&(!ut||ge.minor)){var Ht=ut?ge.minor.tickvals:ge.tickvals,_t=ut?[]:ge.ticktext;if(Ht){f.isArrayOrTypedArray(_t)||(_t=[]);for(var jt=0;jt<Ht.length;jt++){var an=Tt(Ht[jt]);if(an>pt&&an<mt){var vn=void 0===_t[jt]?Me.tickText(ge,an):Xt(ge,an,String(_t[jt]));ut&&(vn.minor=!0,vn.text=""),ht.push(vn)}}}}return Pe(ge,ht)}Me.getDataToCoordFunc=function(ge,de,lt,ot){return ae(ge,de,lt,ot).d2c},Me.counterLetter=function(ge){var de=ge.charAt(0);return"x"===de?"y":"y"===de?"x":void 0},Me.minDtick=function(ge,de,lt,ot){-1===["log","category","multicategory"].indexOf(ge.type)&&ot?void 0===ge._minDtick?(ge._minDtick=de,ge._forceTick0=lt):ge._minDtick&&((ge._minDtick/de+1e-6)%1<2e-6&&((lt-ge._forceTick0)/de%1+1.000001)%1<2e-6?(ge._minDtick=de,ge._forceTick0=lt):((de/ge._minDtick+1e-6)%1>2e-6||((lt-ge._forceTick0)/ge._minDtick%1+1.000001)%1>2e-6)&&(ge._minDtick=0)):ge._minDtick=0},Me.saveRangeInitial=function(ge,de){for(var lt=Me.list(ge,"",!0),ot=!1,pt=0;pt<lt.length;pt++){var mt=lt[pt],Tt=void 0===mt._rangeInitial0&&void 0===mt._rangeInitial1,ut=mt.autorange;(Tt&&!0!==ut||de&&(Tt||mt.range[0]!==mt._rangeInitial0||mt.range[1]!==mt._rangeInitial1))&&(mt._rangeInitial0="min"===ut||"max reversed"===ut?void 0:mt.range[0],mt._rangeInitial1="max"===ut||"min reversed"===ut?void 0:mt.range[1],mt._autorangeInitial=ut,ot=!0)}return ot},Me.saveShowSpikeInitial=function(ge,de){for(var lt=Me.list(ge,"",!0),ot=!1,pt="on",mt=0;mt<lt.length;mt++){var Tt=lt[mt],ht=void 0===Tt._showSpikeInitial;(ht||de&&(ht||Tt.showspikes!==Tt._showspikes))&&(Tt._showSpikeInitial=Tt.showspikes,ot=!0),"on"===pt&&!Tt.showspikes&&(pt="off")}return ge._fullLayout._cartesianSpikesEnabled=pt,ot},Me.autoBin=function(ge,de,lt,ot,pt,mt){var ut,Tt=f.aggNums(Math.min,null,ge),ht=f.aggNums(Math.max,null,ge);if("category"===de.type||"multicategory"===de.type)return{start:Tt-.5,end:ht+.5,size:Math.max(1,Math.round(mt)||1),_dataSpan:ht-Tt};if(pt||(pt=de.calendar),ut="log"===de.type?{type:"linear",range:[Tt,ht]}:{type:de.type,range:f.simpleMap([Tt,ht],de.c2r,0,pt),calendar:pt},Me.setConvert(ut),mt=mt&&L.dtick(mt,ut.type))ut.dtick=mt,ut.tick0=L.tick0(void 0,ut.type,pt);else{var Ht;if(lt)Ht=(ht-Tt)/lt;else{var _t=f.distinctVals(ge),jt=Math.pow(10,Math.floor(Math.log(_t.minDiff)/Math.LN10)),an=jt*f.roundUp(_t.minDiff/jt,[.9,1.9,4.9,9.9],!0);Ht=Math.max(an,2*f.stdev(ge)/Math.pow(ge.length,ot?.25:.4)),T(Ht)||(Ht=1)}Me.autoTicks(ut,Ht)}var un,vn=ut.dtick,Nt=Me.tickIncrement(Me.tickFirst(ut),vn,"reverse",pt);if("number"==typeof vn)un=(Nt=function be(ge,de,lt,ot,pt){var mt=0,Tt=0,ht=0,ut=0;function Ht(vn){return(1+100*(vn-ge)/lt.dtick)%100<2}for(var _t=0;_t<de.length;_t++)de[_t]%1==0?ht++:T(de[_t])||ut++,Ht(de[_t])&&mt++,Ht(de[_t]+lt.dtick/2)&&Tt++;var jt=de.length-ut;if(ht===jt&&"date"!==lt.type)lt.dtick<1?ge=ot-.5*lt.dtick:(ge-=.5)+lt.dtick<ot&&(ge+=lt.dtick);else if(Tt<.1*jt&&(mt>.3*jt||Ht(ot)||Ht(pt))){var an=lt.dtick/2;ge+=ge+an<ot?an:-an}return ge}(Nt,ge,ut,Tt,ht))+(1+Math.floor((ht-Nt)/vn))*vn;else for("M"===ut.dtick.charAt(0)&&(Nt=function ze(ge,de,lt,ot,pt){var mt=f.findExactDates(de,pt);if(mt.exactDays>.8){var ht=Number(lt.substr(1));mt.exactYears>.8&&ht%12==0?ge=Me.tickIncrement(ge,"M6","reverse")+1.5*$:mt.exactMonths>.8?ge=Me.tickIncrement(ge,"M1","reverse")+15.5*$:ge-=Q;var ut=Me.tickIncrement(ge,lt);if(ut<=ot)return ut}return ge}(Nt,ge,vn,Tt,pt)),un=Nt;un<=ht;)un=Me.tickIncrement(un,vn,!1,pt);return{start:de.c2r(Nt,0,pt),end:de.c2r(un,0,pt),size:vn,_dataSpan:ht-Tt}},Me.prepMinorTicks=function(ge,de,lt){if(!de.minor.dtick){delete ge.dtick;var pt,ot=de.dtick&&T(de._tmin);if(ot){var mt=Me.tickIncrement(de._tmin,de.dtick,!0);pt=[de._tmin,.99*mt+.01*de._tmin]}else{var Tt=f.simpleMap(de.range,de.r2l);pt=[Tt[0],.8*Tt[0]+.2*Tt[1]]}if(ge.range=f.simpleMap(pt,de.l2r),ge._isMinor=!0,Me.prepTicks(ge,lt),ot){var ht=T(de.dtick),ut=T(ge.dtick),Ht=ht?de.dtick:+de.dtick.substring(1),_t=ut?ge.dtick:+ge.dtick.substring(1);ht&&ut?Ne(Ht,_t)?Ht===2*Y&&_t===2*$&&(ge.dtick=Y):ge.dtick=Ht===2*Y&&_t===3*$?Y:Ht!==Y||(de._input.minor||{}).nticks?Oe(Ht/_t,2.5)?Ht/2:Ht:$:"M"===String(de.dtick).charAt(0)?ut?ge.dtick="M1":Ne(Ht,_t)?Ht>=12&&2===_t&&(ge.dtick="M3"):ge.dtick=de.dtick:"L"===String(ge.dtick).charAt(0)?"L"===String(de.dtick).charAt(0)?Ne(Ht,_t)||(ge.dtick=Oe(Ht/_t,2.5)?de.dtick/2:de.dtick):ge.dtick="D1":"D2"===ge.dtick&&+de.dtick>1&&(ge.dtick=1)}ge.range=de.range}void 0===de.minor._tick0Init&&(ge.tick0=de.tick0)},Me.prepTicks=function(ge,de){var lt=f.simpleMap(ge.range,ge.r2l,void 0,void 0,de);if("auto"===ge.tickmode||!ge.dtick){var pt,ot=ge.nticks;ot||("category"===ge.type||"multicategory"===ge.type?(pt=ge.tickfont?f.bigFont(ge.tickfont.size||12):15,ot=ge._length/pt):(pt="y"===ge._id.charAt(0)?40:80,ot=f.constrain(ge._length/pt,4,9)+1),"radialaxis"===ge._name&&(ot*=2)),ge.minor&&"array"!==ge.minor.tickmode||"array"===ge.tickmode&&(ot*=100),ge._roughDTick=Math.abs(lt[1]-lt[0])/ot,Me.autoTicks(ge,ge._roughDTick),ge._minDtick>0&&ge.dtick<2*ge._minDtick&&(ge.dtick=ge._minDtick,ge.tick0=ge.l2r(ge._forceTick0))}"period"===ge.ticklabelmode&&function Te(ge){var de;function lt(){return!(T(ge.dtick)||"M"!==ge.dtick.charAt(0))}var ot=lt(),pt=Me.getTickFormat(ge);if(pt){var mt=ge._dtickInit!==ge.dtick;/%[fLQsSMX]/.test(pt)||(/%[HI]/.test(pt)?(de=se,mt&&!ot&&ge.dtick<se&&(ge.dtick=se)):/%p/.test(pt)?(de=Q,mt&&!ot&&ge.dtick<Q&&(ge.dtick=Q)):/%[Aadejuwx]/.test(pt)?(de=$,mt&&!ot&&ge.dtick<$&&(ge.dtick=$)):/%[UVW]/.test(pt)?(de=Y,mt&&!ot&&ge.dtick<Y&&(ge.dtick=Y)):/%[Bbm]/.test(pt)?(de=N,mt&&(ot?Be(ge.dtick)<1:ge.dtick<V)&&(ge.dtick="M1")):/%[q]/.test(pt)?(de=x,mt&&(ot?Be(ge.dtick)<3:ge.dtick<H)&&(ge.dtick="M3")):/%[Yy]/.test(pt)&&(de=z,mt&&(ot?Be(ge.dtick)<12:ge.dtick<S)&&(ge.dtick="M12")))}(ot=lt())&&ge.tick0===ge._dowTick0&&(ge.tick0=ge._rawTick0),ge._definedDelta=de}(ge),ge.tick0||(ge.tick0="date"===ge.type?"2000-01-01":0),"date"===ge.type&&ge.dtick<.1&&(ge.dtick=.1),Lt(ge)},Me.calcTicks=function(de,lt){for(var ot=de.type,pt=de.calendar,mt=de.ticklabelstep,Tt="period"===de.ticklabelmode,ht=f.simpleMap(de.range,de.r2l,void 0,void 0,lt),ut=ht[1]<ht[0],Ht=Math.min(ht[0],ht[1]),_t=Math.max(ht[0],ht[1]),jt=Math.max(1e3,de._length||0),an=[],vn=[],Nt=[],un=[],sn=de.minor&&(de.minor.ticks||de.minor.showgrid),Jt=1;Jt>=(sn?0:1);Jt--){var Mn=!Jt;Jt?(de._dtickInit=de.dtick,de._tick0Init=de.tick0):(de.minor._dtickInit=de.minor.dtick,de.minor._tick0Init=de.minor.tick0);var zn=Jt?de:f.extendFlat({},de,de.minor);if(Mn?Me.prepMinorTicks(zn,de,lt):Me.prepTicks(zn,lt),"array"!==zn.tickmode)if("sync"!==zn.tickmode){var Pn=I(ht),xn=Pn[0],wn=Pn[1],Xn=T(zn.dtick),gr="log"===ot&&!(Xn||"L"===zn.dtick.charAt(0)),Cr=Me.tickFirst(zn,lt);if(Jt){if(de._tmin=Cr,Cr<xn!==ut)break;("category"===ot||"multicategory"===ot)&&(wn=ut?Math.max(-.5,wn):Math.min(de._categories.length-.5,wn))}var Hr,ei,ci=null,Mr=Cr;Jt&&(Xn?ei=de.dtick:"date"===ot?"string"==typeof de.dtick&&"M"===de.dtick.charAt(0)&&(ei=N*de.dtick.substring(1)):ei=de._roughDTick,Hr=Math.round((de.r2l(Mr)-de.r2l(de.tick0))/ei)-1);var Di=zn.dtick;for(zn.rangebreaks&&zn._tick0Init!==zn.tick0&&(Mr=An(Mr,de),ut||(Mr=Me.tickIncrement(Mr,Di,!ut,pt))),Jt&&Tt&&(Mr=Me.tickIncrement(Mr,Di,!ut,pt),Hr--);ut?Mr>=wn:Mr<=wn;Mr=Me.tickIncrement(Mr,Di,ut,pt)){if(Jt&&Hr++,zn.rangebreaks&&!ut){if(Mr<xn)continue;if(zn.maskBreaks(Mr)===te&&An(Mr,zn)>=_t)break}if(Nt.length>jt||Mr===ci)break;ci=Mr;var oa={value:Mr};Jt?(gr&&Mr!==(0|Mr)&&(oa.simpleLabel=!0),mt>1&&Hr%mt&&(oa.skipLabel=!0),Nt.push(oa)):(oa.minor=!0,un.push(oa))}}else Nt=[],an=Je(de);else Jt?(Nt=[],an=Xe(de,!Mn)):(un=[],vn=Xe(de,!Mn))}var ni;if(sn&&!("inside"===de.minor.ticks&&"outside"===de.ticks||"outside"===de.minor.ticks&&"inside"===de.ticks)){for(var qi=Nt.map(function(va){return va.value}),Qr=[],hi=0;hi<un.length;hi++){var ti=un[hi],xi=ti.value;if(-1===qi.indexOf(xi)){for(var Sr=!1,Vr=0;!Sr&&Vr<Nt.length;Vr++)1e7+Nt[Vr].value===1e7+xi&&(Sr=!0);Sr||Qr.push(ti)}}un=Qr}if(Tt&&function Ve(ge,de,lt){for(var ot=0;ot<ge.length;ot++){var pt=ge[ot].value,mt=ot,Tt=ot+1;ot<ge.length-1?(mt=ot,Tt=ot+1):ot>0?(mt=ot-1,Tt=ot):(mt=ot,Tt=ot);var an,Ht=Math.abs(ge[Tt].value-ge[mt].value),_t=lt||Ht,jt=0;_t>=S?jt=Ht>=S&&Ht<=w?Ht:z:lt===x&&_t>=H?jt=Ht>=H&&Ht<=E?Ht:x:_t>=V?jt=Ht>=V&&Ht<=b?Ht:N:lt===Y&&_t>=Y?jt=Y:_t>=$?jt=$:lt===Q&&_t>=Q?jt=Q:lt===se&&_t>=se&&(jt=se),jt>=Ht&&(jt=Ht,an=!0);var vn=pt+jt;if(de.rangebreaks&&jt>0){for(var un=0,sn=0;sn<84;sn++){var Jt=(sn+.5)/84;de.maskBreaks(pt*(1-Jt)+Jt*vn)!==te&&un++}(jt*=un/84)||(ge[ot].drop=!0),an&&Ht>Y&&(jt=Ht)}(jt>0||0===ot)&&(ge[ot].periodX=pt+jt/2)}}(Nt,de,de._definedDelta),de.rangebreaks){var Wi="y"===de._id.charAt(0),ia=1;"auto"===de.tickmode&&(ia=de.tickfont?de.tickfont.size:12);var zi=NaN;for(ni=Nt.length-1;ni>-1;ni--)if(Nt[ni].drop)Nt.splice(ni,1);else{Nt[ni].value=An(Nt[ni].value,de);var Jr=de.c2p(Nt[ni].value);(Wi?zi>Jr-ia:zi<Jr+ia)?Nt.splice(ut?ni+1:ni,1):zi=Jr}}Nn(de)&&360===Math.abs(ht[1]-ht[0])&&Nt.pop(),de._tmax=(Nt[Nt.length-1]||{}).value,de._prevDateHead="",de._inCalcTicks=!0;var rs,ea,wi,pa=function(va){va.text="",de._prevDateHead=rs};for(Nt=Nt.concat(un),ni=0;ni<Nt.length;ni++){var is=Nt[ni].value;Nt[ni].minor?vn.push({x:is,minor:!0}):(rs=de._prevDateHead,ea=Me.tickText(de,is,!1,Nt[ni].simpleLabel),void 0!==(wi=Nt[ni].periodX)&&(ea.periodX=wi,(wi>_t||wi<Ht)&&(wi>_t&&(ea.periodX=_t),wi<Ht&&(ea.periodX=Ht),pa(ea))),Nt[ni].skipLabel&&pa(ea),an.push(ea))}return an=an.concat(vn),de._inCalcTicks=!1,Tt&&an.length&&(an[0].noTick=!0),an};var Ge=[2,5,10],st=[1,2,3,6,12],wt=[1,2,5,10,15,30],kt=[1,2,3,7,14],At=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Qt=[-.301,0,.301,.699,1],nn=[15,30,45,90,180];function Ut(ge,de,lt){return de*f.roundUp(ge/de,lt)}function Lt(ge){var de=ge.dtick;if(ge._tickexponent=0,!T(de)&&"string"!=typeof de&&(de=1),("category"===ge.type||"multicategory"===ge.type)&&(ge._tickround=null),"date"===ge.type){var lt=ge.r2l(ge.tick0),ot=ge.l2r(lt).replace(/(^-|i)/g,""),pt=ot.length;if("M"===String(de).charAt(0))ge._tickround=pt>10||"01-01"!==ot.substr(5)?"d":+de.substr(1)%12==0?"y":"m";else if(de>=$&&pt<=10||de>=15*$)ge._tickround="d";else if(de>=F&&pt<=16||de>=se)ge._tickround="M";else if(de>=J&&pt<=19||de>=F)ge._tickround="S";else{var mt=ge.l2r(lt+de).replace(/^-/,"").length;ge._tickround=Math.max(pt,mt)-20,ge._tickround<0&&(ge._tickround=4)}}else if(T(de)||"L"===de.charAt(0)){var Tt=ge.range.map(ge.r2d||Number);T(de)||(de=Number(de.substr(1))),ge._tickround=2-Math.floor(Math.log(de)/Math.LN10+.01);var ht=Math.max(Math.abs(Tt[0]),Math.abs(Tt[1])),ut=Math.floor(Math.log(ht)/Math.LN10+.01),Ht=void 0===ge.minexponent?3:ge.minexponent;Math.abs(ut)>Ht&&(ge._tickexponent=Re(ge.exponentformat)&&!it(ut)?3*Math.round((ut-1)/3):ut)}else ge._tickround=null}function Xt(ge,de,lt){var ot=ge.tickfont||{};return{x:de,dx:0,dy:0,text:lt||"",fontSize:ot.size,font:ot.family,fontColor:ot.color}}function Ke(ge,de,lt,ot,pt){if("radians"!==ge.thetaunit||lt)de.text=ye(de.x,ge,pt,ot);else{var mt=de.x/180;if(0===mt)de.text="0";else{var Tt=function St(ge){function de(ht,ut){return Math.abs(ht-ut)<=1e-6}function lt(ht,ut){return de(ut,0)?ht:lt(ut,ht%ut)}function ot(ht){for(var ut=1;!de(Math.round(ht*ut)/ut,ht);)ut*=10;return ut}var pt=ot(ge),mt=ge*pt,Tt=Math.abs(lt(mt,pt));return[Math.round(mt/Tt),Math.round(pt/Tt)]}(mt);if(Tt[1]>=100)de.text=ye(f.deg2rad(de.x),ge,pt,ot);else{var ht=de.x<0;de.text=1===Tt[1]?1===Tt[0]?"\u03c0":Tt[0]+"\u03c0":["<sup>",Tt[0],"</sup>","\u2044","<sub>",Tt[1],"</sub>","\u03c0"].join(""),ht&&(de.text=W+de.text)}}}}Me.autoTicks=function(ge,de,lt){var ot;function pt(jt){return Math.pow(jt,Math.floor(Math.log(de)/Math.LN10))}if("date"===ge.type){ge.tick0=f.dateTick0(ge.calendar,0);var mt=2*de;if(mt>z)de/=z,ot=pt(10),ge.dtick="M"+12*Ut(de,ot,Ge);else if(mt>N)ge.dtick="M"+Ut(de/=N,1,st);else if(mt>$){if(ge.dtick=Ut(de,$,ge._hasDayOfWeekBreaks?[1,2,7,14]:kt),!lt){var Tt=Me.getTickFormat(ge),ht="period"===ge.ticklabelmode;ht&&(ge._rawTick0=ge.tick0),ge.tick0=/%[uVW]/.test(Tt)?f.dateTick0(ge.calendar,2):f.dateTick0(ge.calendar,1),ht&&(ge._dowTick0=ge.tick0)}}else mt>se?ge.dtick=Ut(de,se,st):mt>F?ge.dtick=Ut(de,F,wt):mt>J?ge.dtick=Ut(de,J,wt):(ot=pt(10),ge.dtick=Ut(de,ot,Ge))}else if("log"===ge.type){ge.tick0=0;var ut=f.simpleMap(ge.range,ge.r2l);if(ge._isMinor&&(de*=1.5),de>.7)ge.dtick=Math.ceil(de);else if(Math.abs(ut[1]-ut[0])<1){var Ht=1.5*Math.abs((ut[1]-ut[0])/de);de=Math.abs(Math.pow(10,ut[1])-Math.pow(10,ut[0]))/Ht,ot=pt(10),ge.dtick="L"+Ut(de,ot,Ge)}else ge.dtick=de>.3?"D2":"D1"}else"category"===ge.type||"multicategory"===ge.type?(ge.tick0=0,ge.dtick=Math.ceil(Math.max(de,1))):Nn(ge)?(ge.tick0=0,ge.dtick=Ut(de,ot=1,nn)):(ge.tick0=0,ot=pt(10),ge.dtick=Ut(de,ot,Ge));if(0===ge.dtick&&(ge.dtick=1),!T(ge.dtick)&&"string"!=typeof ge.dtick){var _t=ge.dtick;throw ge.dtick=1,"ax.dtick error: "+String(_t)}},Me.tickIncrement=function(ge,de,lt,ot){var pt=lt?-1:1;if(T(de))return f.increment(ge,pt*de);var mt=de.charAt(0),Tt=pt*Number(de.substr(1));if("M"===mt)return f.incrementMonth(ge,Tt,ot);if("L"===mt)return Math.log(Math.pow(10,ge)+Tt)/Math.LN10;if("D"===mt){var ht="D2"===de?Qt:At,ut=ge+.01*pt,Ht=f.roundUp(f.mod(ut,1),ht,lt);return Math.floor(ut)+Math.log(p.round(Math.pow(10,Ht),1))/Math.LN10}throw"unrecognized dtick "+String(de)},Me.tickFirst=function(ge,de){var lt=ge.r2l||Number,ot=f.simpleMap(ge.range,lt,void 0,void 0,de),pt=ot[1]<ot[0],mt=pt?Math.floor:Math.ceil,Tt=I(ot)[0],ht=ge.dtick,ut=lt(ge.tick0);if(T(ht)){var Ht=mt((Tt-ut)/ht)*ht+ut;return("category"===ge.type||"multicategory"===ge.type)&&(Ht=f.constrain(Ht,0,ge._categories.length-1)),Ht}var _t=ht.charAt(0),jt=Number(ht.substr(1));if("M"===_t){for(var Nt,un,sn,an=0,vn=ut;an<10;){if(((Nt=Me.tickIncrement(vn,ht,pt,ge.calendar))-Tt)*(vn-Tt)<=0)return pt?Math.min(vn,Nt):Math.max(vn,Nt);un=(Tt-(vn+Nt)/2)/(Nt-vn),sn=_t+(Math.abs(Math.round(un))||1)*jt,vn=Me.tickIncrement(vn,sn,un<0?!pt:pt,ge.calendar),an++}return f.error("tickFirst did not converge",ge),vn}if("L"===_t)return Math.log(mt((Math.pow(10,Tt)-ut)/jt)*jt+ut)/Math.LN10;if("D"===_t){var Jt="D2"===ht?Qt:At,Mn=f.roundUp(f.mod(Tt,1),Jt,pt);return Math.floor(Tt)+Math.log(p.round(Math.pow(10,Mn),1))/Math.LN10}throw"unrecognized dtick "+String(ht)},Me.tickText=function(ge,de,lt,ot){var Ht,pt=Xt(ge,de),mt="array"===ge.tickmode,Tt=lt||mt,ht=ge.type,ut="category"===ht?ge.d2l_noadd:ge.d2l;if(mt&&f.isArrayOrTypedArray(ge.ticktext)){var _t=f.simpleMap(ge.range,ge.r2l),jt=(Math.abs(_t[1]-_t[0])-(ge._lBreaks||0))/1e4;for(Ht=0;Ht<ge.ticktext.length&&!(Math.abs(de-ut(ge.tickvals[Ht]))<jt);Ht++);if(Ht<ge.ticktext.length)return pt.text=String(ge.ticktext[Ht]),pt}function an(sn){return void 0===sn||(lt?"none"===sn:"all"!==sn&&de!=={first:ge._tmin,last:ge._tmax}[sn])}var vn=lt?"never":"none"!==ge.exponentformat&&an(ge.showexponent)?"hide":"";if("date"===ht?function gt(ge,de,lt,ot){var pt=ge._tickround,mt=lt&&ge.hoverformat||Me.getTickFormat(ge);(ot=!mt&&ot)&&(pt=T(pt)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[pt]);var ht,Tt=f.formatDate(de.x,mt,pt,ge._dateFormat,ge.calendar,ge._extraFormat),ut=Tt.indexOf("\n");if(-1!==ut&&(ht=Tt.substr(ut+1),Tt=Tt.substr(0,ut)),ot&&(void 0===ht||"00:00:00"!==Tt&&"00:00"!==Tt?8===Tt.length&&(Tt=Tt.replace(/:00$/,"")):(Tt=ht,ht="")),ht)if(lt)"d"===pt?Tt+=", "+ht:Tt=ht+(Tt?", "+Tt:"");else if(ge._inCalcTicks&&ge._prevDateHead===ht){var Ht=$n(ge),_t=ge._trueSide||ge.side;(!Ht&&"top"===_t||Ht&&"bottom"===_t)&&(Tt+="<br> ")}else ge._prevDateHead=ht,Tt+="<br>"+ht;de.text=Tt}(ge,pt,lt,Tt):"log"===ht?function Yt(ge,de,lt,ot,pt){var mt=ge.dtick,Tt=de.x,ht=ge.tickformat,ut="string"==typeof mt&&mt.charAt(0);if("never"===pt&&(pt=""),ot&&"L"!==ut&&(mt="L3",ut="L"),ht||"L"===ut)de.text=ye(Math.pow(10,Tt),ge,pt,ot);else if(T(mt)||"D"===ut&&f.mod(Tt+.01,1)<.1){var Ht=Math.round(Tt),_t=Math.abs(Ht),jt=ge.exponentformat;"power"===jt||Re(jt)&&it(Ht)?(de.text=0===Ht?1:1===Ht?"10":"10<sup>"+(Ht>1?"":W)+_t+"</sup>",de.fontSize*=1.25):("e"===jt||"E"===jt)&&_t>2?de.text="1"+jt+(Ht>0?"+":W)+_t:(de.text=ye(Math.pow(10,Tt),ge,"","fakehover"),"D1"===mt&&"y"===ge._id.charAt(0)&&(de.dy-=de.fontSize/6))}else{if("D"!==ut)throw"unrecognized dtick "+String(mt);de.text=String(Math.round(Math.pow(10,f.mod(Tt,1)))),de.fontSize*=.75}if("D1"===ge.dtick){var an=String(de.text).charAt(0);("0"===an||"1"===an)&&("y"===ge._id.charAt(0)?de.dx-=de.fontSize/4:(de.dy+=de.fontSize/2,de.dx+=(ge.range[1]>ge.range[0]?1:-1)*de.fontSize*(Tt<0?.5:.25)))}}(ge,pt,0,Tt,vn):"category"===ht?function tn(ge,de){var lt=ge._categories[Math.round(de.x)];void 0===lt&&(lt=""),de.text=String(lt)}(ge,pt):"multicategory"===ht?function dn(ge,de,lt){var ot=Math.round(de.x),pt=ge._categories[ot]||[],mt=void 0===pt[1]?"":String(pt[1]),Tt=void 0===pt[0]?"":String(pt[0]);lt?de.text=Tt+" - "+mt:(de.text=mt,de.text2=Tt)}(ge,pt,lt):Nn(ge)?Ke(ge,pt,lt,Tt,vn):function rn(ge,de,lt,ot,pt){"never"===pt?pt="":"all"===ge.showexponent&&Math.abs(de.x/ge.dtick)<1e-6&&(pt="hide"),de.text=ye(de.x,ge,pt,ot)}(ge,pt,0,Tt,vn),ot||(ge.tickprefix&&!an(ge.showtickprefix)&&(pt.text=ge.tickprefix+pt.text),ge.ticksuffix&&!an(ge.showticksuffix)&&(pt.text+=ge.ticksuffix)),ge.labelalias&&ge.labelalias.hasOwnProperty(pt.text)){var Nt=ge.labelalias[pt.text];"string"==typeof Nt&&(pt.text=Nt)}if("boundaries"===ge.tickson||ge.showdividers){var un=function(sn){var Jt=ge.l2p(sn);return Jt>=0&&Jt<=ge._length?sn:null};pt.xbnd=[un(pt.x-.5),un(pt.x+ge.dtick-.5)]}return pt},Me.hoverLabelText=function(ge,de,lt){lt&&(ge=f.extendFlat({},ge,{hoverformat:lt}));var ot=f.isArrayOrTypedArray(de)?de[0]:de,pt=f.isArrayOrTypedArray(de)?de[1]:void 0;if(void 0!==pt&&pt!==ot)return Me.hoverLabelText(ge,ot,lt)+" - "+Me.hoverLabelText(ge,pt,lt);var mt="log"===ge.type&&ot<=0,Tt=Me.tickText(ge,ge.c2l(mt?-ot:ot),"hover").text;return mt?0===ot?"0":W+Tt:Tt};var dt=["f","p","n","\u03bc","m","","k","M","G","T"];function Re(ge){return"SI"===ge||"B"===ge}function it(ge){return ge>14||ge<-15}function ye(ge,de,lt,ot){var pt=ge<0,mt=de._tickround,Tt=lt||de.exponentformat||"B",ht=de._tickexponent,ut=Me.getTickFormat(de),Ht=de.separatethousands;if(ot){var _t={exponentformat:Tt,minexponent:de.minexponent,dtick:"none"===de.showexponent?de.dtick:T(ge)&&Math.abs(ge)||1,range:"none"===de.showexponent?de.range.map(de.r2d):[0,ge||1]};Lt(_t),mt=(Number(_t._tickround)||0)+4,ht=_t._tickexponent,de.hoverformat&&(ut=de.hoverformat)}if(ut)return de._numFormat(ut)(ge).replace(/-/g,W);var Nt,jt=Math.pow(10,-mt)/2;if("none"===Tt&&(ht=0),(ge=Math.abs(ge))<jt)ge="0",pt=!1;else{if(ge+=jt,ht&&(ge*=Math.pow(10,-ht),mt+=ht),0===mt)ge=String(Math.floor(ge));else if(mt<0){ge=(ge=String(Math.round(ge))).substr(0,ge.length+mt);for(var an=mt;an<0;an++)ge+="0"}else{var vn=(ge=String(ge)).indexOf(".")+1;vn&&(ge=ge.substr(0,vn+mt).replace(/\.?0+$/,""))}ge=f.numSeparate(ge,de._separators,Ht)}return ht&&"hide"!==Tt&&(Re(Tt)&&it(ht)&&(Tt="power"),Nt=ht<0?W+-ht:"power"!==Tt?"+"+ht:String(ht),"e"===Tt||"E"===Tt?ge+=Tt+Nt:"power"===Tt?ge+="\xd710<sup>"+Nt+"</sup>":"B"===Tt&&9===ht?ge+="B":Re(Tt)&&(ge+=dt[ht/3+5])),pt?W+ge:ge}function De(ge,de){if(ge){var lt=Object.keys(ie).reduce(function(ot,pt){return-1!==de.indexOf(pt)&&ie[pt].forEach(function(mt){ot[mt]=1}),ot},{});Object.keys(ge).forEach(function(ot){lt[ot]||(1===ot.length?ge[ot]=0:delete ge[ot])})}}function je(ge,de){for(var lt=[],ot={},pt=0;pt<de.length;pt++){var mt=de[pt];ot[mt.text2]?ot[mt.text2].push(mt.x):ot[mt.text2]=[mt.x]}for(var Tt in ot)lt.push(Xt(ge,f.interp(ot[Tt],.5),Tt));return lt}function Rt(ge){return void 0!==ge.periodX?ge.periodX:ge.x}function yt(ge){return[ge.text,ge.x,ge.axInfo,ge.font,ge.fontSize,ge.fontColor].join("_")}function Et(ge){var de=ge.title.font.size,lt=(ge.title.text.match(m.BR_TAG_ALL)||[]).length;return ge.title.hasOwnProperty("standoff")?lt?de*(pe+lt*He):de*pe:lt?de*(lt+1)*He:de}function Tn(ge,de){var lt=ge.l2p(de);return lt>1&&lt<ge._length-1}function Yn(ge){var de=p.select(ge),lt=de.select(".text-math-group");return lt.empty()?de.select("text"):lt}function Kt(ge){return ge._id+".automargin"}function Wn(ge){return Kt(ge)+".mirror"}function kn(ge){return ge._id+".rangeslider"}function Zn(ge,de){for(var lt=0;lt<de.length;lt++)-1===ge.indexOf(de[lt])&&ge.push(de[lt])}function bn(ge,de,lt){var Tt,ht,ot=[],pt=[],mt=ge.layout;for(Tt=0;Tt<de.length;Tt++)ot.push(Me.getFromId(ge,de[Tt]));for(Tt=0;Tt<lt.length;Tt++)pt.push(Me.getFromId(ge,lt[Tt]));var ut=Object.keys(_),Ht=["anchor","domain","overlaying","position","side","tickangle","editType"],_t=["linear","log"];for(Tt=0;Tt<ut.length;Tt++){var jt=ut[Tt],an=ot[0][jt],vn=pt[0][jt],Nt=!0,un=!1,sn=!1;if("_"!==jt.charAt(0)&&"function"!=typeof an&&-1===Ht.indexOf(jt)){for(ht=1;ht<ot.length&&Nt;ht++){var Jt=ot[ht][jt];"type"===jt&&-1!==_t.indexOf(an)&&-1!==_t.indexOf(Jt)&&an!==Jt?un=!0:Jt!==an&&(Nt=!1)}for(ht=1;ht<pt.length&&Nt;ht++){var Mn=pt[ht][jt];"type"===jt&&-1!==_t.indexOf(vn)&&-1!==_t.indexOf(Mn)&&vn!==Mn?sn=!0:pt[ht][jt]!==vn&&(Nt=!1)}Nt&&(un&&(mt[ot[0]._name].type="linear"),sn&&(mt[pt[0]._name].type="linear"),Zt(mt,jt,ot,pt,ge._fullLayout._dfltTitle))}}for(Tt=0;Tt<ge._fullLayout.annotations.length;Tt++){var zn=ge._fullLayout.annotations[Tt];-1!==de.indexOf(zn.xref)&&-1!==lt.indexOf(zn.yref)&&f.swapAttrs(mt.annotations[Tt],["?"])}}function Zt(ge,de,lt,ot,pt){var ut,mt=f.nestedProperty,Tt=mt(ge[lt[0]._name],de).get(),ht=mt(ge[ot[0]._name],de).get();for("title"===de&&(Tt&&Tt.text===pt.x&&(Tt.text=pt.y),ht&&ht.text===pt.y&&(ht.text=pt.x)),ut=0;ut<lt.length;ut++)mt(ge,lt[ut]._name+"."+de).set(ht);for(ut=0;ut<ot.length;ut++)mt(ge,ot[ut]._name+"."+de).set(Tt)}function Nn(ge){return"angularaxis"===ge._id}function An(ge,de){for(var lt=de._rangebreaks.length,ot=0;ot<lt;ot++){var pt=de._rangebreaks[ot];if(ge>=pt.min&&ge<pt.max)return pt.max}return ge}function $n(ge){return-1!==(ge.ticklabelposition||"").indexOf("inside")}function dr(ge,de){$n(ge._anchorAxis||{})&&ge._hideCounterAxisInsideTickLabels&&ge._hideCounterAxisInsideTickLabels(de)}function vr(ge,de,lt,ot){var mt,pt="free"===ge.anchor||void 0!==ge.overlaying&&!1!==ge.overlaying?ge.overlaying:ge._id;mt=ot?"right"===ge.side?de:-de:de,pt in lt||(lt[pt]={}),ge.side in lt[pt]||(lt[pt][ge.side]=0),lt[pt][ge.side]+=mt}Me.getTickFormat=function(ge){var de,Tt,ht,ut,Ht,jt,an,vn;function lt(ut){return"string"!=typeof ut?ut:Number(ut.replace("M",""))*N}function ot(ut,Ht){var _t=["L","D"];if(typeof ut==typeof Ht){if("number"==typeof ut)return ut-Ht;var jt=_t.indexOf(ut.charAt(0)),an=_t.indexOf(Ht.charAt(0));return jt===an?Number(ut.replace(/(L|D)/g,""))-Number(Ht.replace(/(L|D)/g,"")):jt-an}return"number"==typeof ut?1:-1}function mt(ut,Ht){var _t=null===Ht[0],jt=null===Ht[1],an=ot(ut,Ht[0])>=0,vn=ot(ut,Ht[1])<=0;return(_t||an)&&(jt||vn)}if(ge.tickformatstops&&ge.tickformatstops.length>0)switch(ge.type){case"date":case"linear":for(de=0;de<ge.tickformatstops.length;de++)if((ht=ge.tickformatstops[de]).enabled&&(ut=ge.dtick,jt=void 0,an=void 0,vn=void 0,jt=lt||function(Nt){return Nt},vn=(Ht=ht.dtickrange)[1],(!(an=Ht[0])&&"number"!=typeof an||jt(an)<=jt(ut))&&(!vn&&"number"!=typeof vn||jt(vn)>=jt(ut)))){Tt=ht;break}break;case"log":for(de=0;de<ge.tickformatstops.length;de++)if((ht=ge.tickformatstops[de]).enabled&&mt(ge.dtick,ht.dtickrange)){Tt=ht;break}}return Tt?Tt.value:ge.tickformat},Me.getSubplots=function(ge,de){var lt=ge._fullLayout._subplots,ot=lt.cartesian.concat(lt.gl2d||[]),pt=de?Me.findSubplotsWithAxis(ot,de):ot;return pt.sort(function(mt,Tt){var ht=mt.substr(1).split("y"),ut=Tt.substr(1).split("y");return ht[0]===ut[0]?+ht[1]-+ut[1]:+ht[0]-+ut[0]}),pt},Me.findSubplotsWithAxis=function(ge,de){for(var lt=new RegExp("x"===de._id.charAt(0)?"^"+de._id+"y":de._id+"$"),ot=[],pt=0;pt<ge.length;pt++){var mt=ge[pt];lt.test(mt)&&ot.push(mt)}return ot},Me.makeClipPaths=function(ge){var de=ge._fullLayout;if(!de._hasOnlyLargeSploms){var ht,ut,lt={_offset:0,_length:de.width,_id:""},ot={_offset:0,_length:de.height,_id:""},pt=Me.list(ge,"x",!0),mt=Me.list(ge,"y",!0),Tt=[];for(ht=0;ht<pt.length;ht++)for(Tt.push({x:pt[ht],y:ot}),ut=0;ut<mt.length;ut++)0===ht&&Tt.push({x:lt,y:mt[ut]}),Tt.push({x:pt[ht],y:mt[ut]});var Ht=de._clips.selectAll(".axesclip").data(Tt,function(_t){return _t.x._id+_t.y._id});Ht.enter().append("clipPath").classed("axesclip",!0).attr("id",function(_t){return"clip"+de._uid+_t.x._id+_t.y._id}).append("rect"),Ht.exit().remove(),Ht.each(function(_t){p.select(this).select("rect").attr({x:_t.x._offset||0,y:_t.y._offset||0,width:_t.x._length||1,height:_t.y._length||1})})}},Me.draw=function(ge,de,lt){var ot=ge._fullLayout;"redraw"===de&&ot._paper.selectAll("g.subplot").each(function(ut){var _t=ot._plots[ut[0]];if(_t){var jt=_t.xaxis,an=_t.yaxis;_t.xaxislayer.selectAll("."+jt._id+"tick").remove(),_t.yaxislayer.selectAll("."+an._id+"tick").remove(),_t.xaxislayer.selectAll("."+jt._id+"tick2").remove(),_t.yaxislayer.selectAll("."+an._id+"tick2").remove(),_t.xaxislayer.selectAll("."+jt._id+"divider").remove(),_t.yaxislayer.selectAll("."+an._id+"divider").remove(),_t.minorGridlayer&&_t.minorGridlayer.selectAll("path").remove(),_t.gridlayer&&_t.gridlayer.selectAll("path").remove(),_t.zerolinelayer&&_t.zerolinelayer.selectAll("path").remove(),ot._infolayer.select(".g-"+jt._id+"title").remove(),ot._infolayer.select(".g-"+an._id+"title").remove()}});var pt=de&&"redraw"!==de?de:Me.listIds(ge),Tt=Me.list(ge).filter(function(ut){return ut.autoshift}).map(function(ut){return ut.overlaying});pt.map(function(ut){var Ht=Me.getFromId(ge,ut);if("sync"===Ht.tickmode&&Ht.overlaying){var _t=pt.findIndex(function(jt){return jt===Ht.overlaying});_t>=0&&pt.unshift(pt.splice(_t,1).shift())}});var ht={false:{left:0,right:0}};return f.syncOrAsync(pt.map(function(ut){return function(){if(ut){var Ht=Me.getFromId(ge,ut);lt||(lt={}),lt.axShifts=ht,lt.overlayingShiftedAx=Tt;var _t=Me.drawOne(ge,Ht,lt);return Ht._shiftPusher&&vr(Ht,Ht._fullDepth||0,ht,!0),Ht._r=Ht.range.slice(),Ht._rl=f.simpleMap(Ht._r,Ht.r2l),_t}}}))},Me.drawOne=function(ge,de,lt){var mt,Tt,ht,ot=(lt=lt||{}).axShifts||{},pt=lt.overlayingShiftedAx||[];de.setScale();var ut=ge._fullLayout,Ht=de._id,_t=Ht.charAt(0),jt=Me.counterLetter(Ht),an=ut._plots[de._mainSubplot];if(an){if(de._shiftPusher=de.autoshift||-1!==pt.indexOf(de._id)||-1!==pt.indexOf(de.overlaying),de._shiftPusher&"free"===de.anchor){var vn=de.linewidth/2||0;"inside"===de.ticks&&(vn+=de.ticklen),vr(de,vn,ot,!0),vr(de,de.shift||0,ot,!1)}(!0!==lt.skipTitle||void 0===de._shift)&&(de._shift=function Fn(ge,de){return ge.autoshift?de[ge.overlaying][ge.side]:ge.shift||0}(de,ot));var Nt=an[_t+"axislayer"],un=de._mainLinePosition,sn=un+=de._shift,Jt=de._mainMirrorPosition,Mn=de._vals=Me.calcTicks(de),zn=[de.mirror,sn,Jt].join("_");for(mt=0;mt<Mn.length;mt++)Mn[mt].axInfo=zn;de._selections={},de._tickAngles&&(de._prevTickAngles=de._tickAngles),de._tickAngles={},de._depth=null;var Pn={};if(de.visible){var gr,Cr,wn=Me.makeTransTickFn(de),Xn=Me.makeTransTickLabelFn(de),ci="inside"===de.ticks,Mr="outside"===de.ticks;if("boundaries"===de.tickson){var Hr=function $e(ge,de){var ot,lt=[],pt=function(mt,Tt){var ht=mt.xbnd?mt.xbnd[Tt]:mt.x;null!==ht&&lt.push(f.extendFlat({},mt,{x:ht}))};if(de.length){for(ot=0;ot<de.length;ot++)pt(de[ot],0);pt(de[ot-1],1)}return lt}(0,Mn);Cr=Me.clipEnds(de,Hr),gr=ci?Cr:Hr}else Cr=Me.clipEnds(de,Mn),gr=ci&&"period"!==de.ticklabelmode?Cr:Mn;var ei=de._gridVals=Cr,Di=function Ye(ge,de){var ot,pt,lt=[],mt=de.length&&de[de.length-1].x<de[0].x,Tt=function(ut,Ht){var _t=ut.xbnd[Ht];null!==_t&&lt.push(f.extendFlat({},ut,{x:_t}))};if(ge.showdividers&&de.length){for(ot=0;ot<de.length;ot++){var ht=de[ot];ht.text2!==pt&&Tt(ht,mt?1:0),pt=ht.text2}Tt(de[ot-1],mt?0:1)}return lt}(de,Mn);if(!ut._hasOnlyLargeSploms){var oa=de._subplotsWith,Er={};for(mt=0;mt<oa.length;mt++){var qi=(ht=ut._plots[Tt=oa[mt]])[jt+"axis"],Qr=qi._mainAxis._id;if(!Er[Qr]){Er[Qr]=1;var hi="x"===_t?"M0,"+qi._offset+"v"+qi._length:"M"+qi._offset+",0h"+qi._length;Me.drawGrid(ge,de,{vals:ei,counterAxis:qi,layer:ht.gridlayer.select("."+Ht),minorLayer:ht.minorGridlayer.select("."+Ht),path:hi,transFn:wn}),Me.drawZeroLine(ge,de,{counterAxis:qi,layer:ht.zerolinelayer,path:hi,transFn:wn})}}}var ti,xi=Me.getTickSigns(de),Sr=Me.getTickSigns(de,"minor");if(de.ticks||de.minor&&de.minor.ticks){var Wi,ia,zi,Jr,Vr=Me.makeTickPath(de,sn,xi[2]),ni=Me.makeTickPath(de,sn,Sr[2],{minor:!0});if(de._anchorAxis&&de.mirror&&!0!==de.mirror?(Wi=Me.makeTickPath(de,Jt,xi[3]),ia=Me.makeTickPath(de,Jt,Sr[3],{minor:!0}),zi=Vr+Wi,Jr=ni+ia):(Wi="",ia="",zi=Vr,Jr=ni),de.showdividers&&Mr&&"boundaries"===de.tickson){var rs={};for(mt=0;mt<Di.length;mt++)rs[Di[mt].x]=1;ti=function(ur){return rs[ur.x]?Wi:zi}}else ti=function(ur){return ur.minor?Jr:zi}}if(Me.drawTicks(ge,de,{vals:gr,layer:Nt,path:ti,transFn:wn}),"allticks"===de.mirror){var pa=Object.keys(de._linepositions||{});for(mt=0;mt<pa.length;mt++){ht=ut._plots[Tt=pa[mt]];var ea=de._linepositions[Tt]||[],k1=ea[1],is=ea[2],va=Me.makeTickPath(de,ea[0],is?xi[0]:Sr[0],{minor:is})+Me.makeTickPath(de,k1,is?xi[1]:Sr[1],{minor:is});Me.drawTicks(ge,de,{vals:gr,layer:ht[_t+"axislayer"],path:va,transFn:wn})}}var Za=[];if(Za.push(function(){return Me.drawLabels(ge,de,{vals:Mn,layer:Nt,plotinfo:ht,transFn:Xn,labelFns:Me.makeLabelFns(de,sn)})}),"multicategory"===de.type){var Xa={x:2,y:10}[_t];Za.push(function(){var ur={x:"height",y:"width"}[_t],hs=xn()[ur]+Xa+(de._tickAngles[Ht+"tick"]?de.tickfont.size*He:0);return Me.drawLabels(ge,de,{vals:je(de,Mn),layer:Nt,cls:Ht+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:wn,labelFns:Me.makeLabelFns(de,sn+hs*xi[4])})}),Za.push(function(){return de._depth=xi[4]*(xn("tick2")[de.side]-sn),function ct(ge,de,lt){var ot=de._id+"divider",pt=lt.vals,mt=lt.layer.selectAll("path."+ot).data(pt,yt);mt.exit().remove(),mt.enter().insert("path",":first-child").classed(ot,1).classed("crisp",1).call(c.stroke,de.dividercolor).style("stroke-width",C.crispRound(ge,de.dividerwidth,1)+"px"),mt.attr("transform",lt.transFn).attr("d",lt.path)}(ge,de,{vals:Di,layer:Nt,path:Me.makeTickPath(de,sn,xi[4],{len:de._depth}),transFn:wn})})}else de.title.hasOwnProperty("standoff")&&Za.push(function(){de._depth=xi[4]*(xn()[de.side]-sn)});var k2=g.getComponentMethod("rangeslider","isVisible")(de);return!lt.skipTitle&&!(k2&&"bottom"===de.side)&&Za.push(function(){return function hn(ge,de){var Tt,lt=ge._fullLayout,ot=de._id,pt=ot.charAt(0),mt=de.title.font.size;if(de.title.hasOwnProperty("standoff"))Tt=de._depth+de.title.standoff+Et(de);else{var ht=$n(de);if("multicategory"===de.type)Tt=de._depth;else{var ut=1.5*mt;ht&&(ut=.5*mt,"outside"===de.ticks&&(ut+=de.ticklen)),Tt=10+ut+(de.linewidth?de.linewidth-1:0)}ht||(Tt+="x"===pt?"top"===de.side?mt*(de.showticklabels?1:0):mt*(de.showticklabels?1.5:.5):"right"===de.side?mt*(de.showticklabels?1:.5):mt*(de.showticklabels?.5:0))}var _t,jt,an,vn,Ht=Me.getPxPosition(ge,de);if("x"===pt?(jt=de._offset+de._length/2,an="top"===de.side?Ht-Tt:Ht+Tt):(an=de._offset+de._length/2,jt="right"===de.side?Ht+Tt:Ht-Tt,_t={rotate:"-90",offset:0}),"multicategory"!==de.type){var Nt=de._selections[de._id+"tick"];if(vn={selection:Nt,side:de.side},Nt&&Nt.node()&&Nt.node().parentNode){var un=C.getTranslate(Nt.node().parentNode);vn.offsetLeft=un.x,vn.offsetTop=un.y}de.title.hasOwnProperty("standoff")&&(vn.pad=0)}return de._titleStandoff=Tt,h.draw(ge,ot+"title",{propContainer:de,propName:de._name+".title.text",placeholder:lt._dfltTitle[pt],avoid:vn,transform:_t,attributes:{x:jt,y:an,"text-anchor":"middle"}})}(ge,de)}),Za.push(function(){var Ri,nr,Hi,Nr,ur=de.side.charAt(0),hs=ke[de.side].charAt(0),G1=Me.getPxPosition(ge,de),Yr=Mr?de.ticklen:0;(de.automargin||k2||de._shiftPusher)&&("multicategory"===de.type?Ri=xn("tick2"):(Ri=xn(),"x"===_t&&"b"===ur&&(de._depth=Math.max(Ri.width>0?Ri.bottom-G1:0,Yr))));var _a=0,Sa=0;if(de._shiftPusher&&(_a=Math.max(Yr,Ri.height>0?"l"===ur?G1-Ri.left:Ri.right-G1:0),de.title.text!==ut._dfltTitle[_t]&&(Sa=(de._titleStandoff||0)+(de._titleScoot||0),"l"===ur&&(Sa+=Et(de))),de._fullDepth=Math.max(_a,Sa)),de.automargin){nr={x:0,y:0,r:0,l:0,t:0,b:0};var Ta=[0,1],ta="number"==typeof de._shift?de._shift:0;if("x"===_t){if("b"===ur?nr[ur]=de._depth:(nr[ur]=de._depth=Math.max(Ri.width>0?G1-Ri.top:0,Yr),Ta.reverse()),Ri.width>0){var Oo=Ri.right-(de._offset+de._length);Oo>0&&(nr.xr=1,nr.r=Oo);var ki=de._offset-Ri.left;ki>0&&(nr.xl=0,nr.l=ki)}}else if("l"===ur?(de._depth=Math.max(Ri.height>0?G1-Ri.left:0,Yr),nr[ur]=de._depth-ta):(de._depth=Math.max(Ri.height>0?Ri.right-G1:0,Yr),nr[ur]=de._depth+ta,Ta.reverse()),Ri.height>0){var ps=Ri.bottom-(de._offset+de._length);ps>0&&(nr.yb=0,nr.b=ps);var oo=de._offset-Ri.top;oo>0&&(nr.yt=1,nr.t=oo)}nr[jt]="free"===de.anchor?de.position:de._anchorAxis.domain[Ta[0]],de.title.text!==ut._dfltTitle[_t]&&(nr[ur]+=Et(de)+(de.title.standoff||0)),de.mirror&&"free"!==de.anchor&&((Hi={x:0,y:0,r:0,l:0,t:0,b:0})[hs]=de.linewidth,de.mirror&&!0!==de.mirror&&(Hi[hs]+=Yr),!0===de.mirror||"ticks"===de.mirror?Hi[jt]=de._anchorAxis.domain[Ta[1]]:("all"===de.mirror||"allticks"===de.mirror)&&(Hi[jt]=[de._counterDomainMin,de._counterDomainMax][Ta[1]]))}k2&&(Nr=g.getComponentMethod("rangeslider","autoMarginOpts")(ge,de)),"string"==typeof de.automargin&&(De(nr,de.automargin),De(Hi,de.automargin)),v.autoMargin(ge,Kt(de),nr),v.autoMargin(ge,Wn(de),Hi),v.autoMargin(ge,kn(de),Nr)}),f.syncOrAsync(Za)}}function xn(ur){var hs=Ht+(ur||"tick");return Pn[hs]||(Pn[hs]=function at(ge,de){var lt,ot,pt,mt;return ge._selections[de].size()?(lt=1/0,ot=-1/0,pt=1/0,mt=-1/0,ge._selections[de].each(function(){var Tt=Yn(this),ht=C.bBox(Tt.node().parentNode);lt=Math.min(lt,ht.top),ot=Math.max(ot,ht.bottom),pt=Math.min(pt,ht.left),mt=Math.max(mt,ht.right)})):(lt=0,ot=0,pt=0,mt=0),{top:lt,bottom:ot,left:pt,right:mt,height:ot-lt,width:mt-pt}}(de,hs)),Pn[hs]}},Me.getTickSigns=function(ge,de){var lt=ge._id.charAt(0),pt=ge.side==={x:"top",y:"right"}[lt]?1:-1,mt=[-1,1,pt,-pt];return"inside"!==(de?(ge.minor||{}).ticks:ge.ticks)==("x"===lt)&&(mt=mt.map(function(ht){return-ht})),ge.side&&mt.push({l:-1,t:-1,r:1,b:1}[ge.side.charAt(0)]),mt},Me.makeTransTickFn=function(ge){return"x"===ge._id.charAt(0)?function(de){return y(ge._offset+ge.l2p(de.x),0)}:function(de){return y(0,ge._offset+ge.l2p(de.x))}},Me.makeTransTickLabelFn=function(ge){var de=function tt(ge){var de=ge.ticklabelposition||"",lt=function(vn){return-1!==de.indexOf(vn)},ot=lt("top"),pt=lt("left"),mt=lt("right"),Tt=lt("bottom"),ht=lt("inside"),ut=Tt||pt||ot||mt;if(!ut&&!ht)return[0,0];var Ht=ge.side,_t=ut?(ge.tickwidth||0)/2:0,jt=3,an=ge.tickfont?ge.tickfont.size:12;return(Tt||ot)&&(_t+=an*pe,jt+=(ge.linewidth||0)/2),(pt||mt)&&(_t+=(ge.linewidth||0)/2,jt+=3),ht&&"top"===Ht&&(jt-=an*(1-pe)),(pt||ot)&&(_t=-_t),("bottom"===Ht||"right"===Ht)&&(jt=-jt),[ut?_t:0,ht?jt:0]}(ge),lt=de[0],ot=de[1];return"x"===ge._id.charAt(0)?function(pt){return y(lt+ge._offset+ge.l2p(Rt(pt)),ot)}:function(pt){return y(ot,lt+ge._offset+ge.l2p(Rt(pt)))}},Me.makeTickPath=function(ge,de,lt,ot){ot||(ot={});var pt=ot.minor;if(pt&&!ge.minor)return"";var mt=void 0!==ot.len?ot.len:pt?ge.minor.ticklen:ge.ticklen,Tt=ge._id.charAt(0),ht=(ge.linewidth||1)/2;return"x"===Tt?"M0,"+(de+ht*lt)+"v"+mt*lt:"M"+(de+ht*lt)+",0h"+mt*lt},Me.makeLabelFns=function(ge,de,lt){var ot=ge.ticklabelposition||"",pt=function(Hr){return-1!==ot.indexOf(Hr)},mt=pt("top"),Tt=pt("left"),ht=pt("right"),Ht=pt("bottom")||Tt||mt||ht,_t=pt("inside"),jt="inside"===ot&&"inside"===ge.ticks||!_t&&"outside"===ge.ticks&&"boundaries"!==ge.tickson,an=0,vn=0,Nt=jt?ge.ticklen:0;if(_t?Nt*=-1:Ht&&(Nt=0),jt&&(an+=Nt,lt)){var un=f.deg2rad(lt);an=Nt*Math.cos(un)+1,vn=Nt*Math.sin(un)}ge.showticklabels&&(jt||ge.showline)&&(an+=.2*ge.tickfont.size);var Jt,Mn,zn,Pn,Cr,sn={labelStandoff:an+=(ge.linewidth||1)/2*(_t?-1:1),labelShift:vn},xn=0,wn=ge.side,Xn=ge._id.charAt(0),gr=ge.tickangle;if("x"===Xn)Pn=(Cr=!_t&&"bottom"===wn||_t&&"top"===wn)?1:-1,_t&&(Pn*=-1),Jt=vn*Pn,Mn=de+an*Pn,zn=Cr?1:-.2,90===Math.abs(gr)&&(_t?zn+=le:zn=-90===gr&&"bottom"===wn?pe:90===gr&&"top"===wn?le:.5,xn=le/2*(gr/90)),sn.xFn=function(Hr){return Hr.dx+Jt+xn*Hr.fontSize},sn.yFn=function(Hr){return Hr.dy+Mn+Hr.fontSize*zn},sn.anchorFn=function(Hr,ei){if(Ht){if(Tt)return"end";if(ht)return"start"}return T(ei)&&0!==ei&&180!==ei?ei*Pn<0!==_t?"end":"start":"middle"},sn.heightFn=function(Hr,ei,Di){return ei<-60||ei>60?-.5*Di:"top"===ge.side!==_t?-Di:0};else if("y"===Xn){if(Pn=(Cr=!_t&&"left"===wn||_t&&"right"===wn)?1:-1,_t&&(Pn*=-1),Jt=an,Mn=vn*Pn,zn=0,!_t&&90===Math.abs(gr)&&(zn=-90===gr&&"left"===wn||90===gr&&"right"===wn?pe:.5),_t){var ci=T(gr)?+gr:0;if(0!==ci){var Mr=f.deg2rad(ci);xn=Math.abs(Math.sin(Mr))*pe*Pn,zn=0}}sn.xFn=function(Hr){return Hr.dx+de-(Jt+Hr.fontSize*zn)*Pn+xn*Hr.fontSize},sn.yFn=function(Hr){return Hr.dy+Mn+Hr.fontSize*le},sn.anchorFn=function(Hr,ei){return T(ei)&&90===Math.abs(ei)?"middle":Cr?"end":"start"},sn.heightFn=function(Hr,ei,Di){return"right"===ge.side&&(ei*=-1),ei<-30?-Di:ei<30?-.5*Di:0}}return sn},Me.drawTicks=function(ge,de,lt){lt=lt||{};var ot=de._id+"tick",pt=[].concat(de.minor&&de.minor.ticks?lt.vals.filter(function(Tt){return Tt.minor&&!Tt.noTick}):[]).concat(de.ticks?lt.vals.filter(function(Tt){return!Tt.minor&&!Tt.noTick}):[]),mt=lt.layer.selectAll("path."+ot).data(pt,yt);mt.exit().remove(),mt.enter().append("path").classed(ot,1).classed("ticks",1).classed("crisp",!1!==lt.crisp).each(function(Tt){return c.stroke(p.select(this),Tt.minor?de.minor.tickcolor:de.tickcolor)}).style("stroke-width",function(Tt){return C.crispRound(ge,Tt.minor?de.minor.tickwidth:de.tickwidth,1)+"px"}).attr("d",lt.path).style("display",null),dr(de,[G]),mt.attr("transform",lt.transFn)},Me.drawGrid=function(ge,de,lt){if(lt=lt||{},"sync"!==de.tickmode){var ot=de._id+"grid",pt=de.minor&&de.minor.showgrid,mt=pt?lt.vals.filter(function(Jt){return Jt.minor}):[],Tt=de.showgrid?lt.vals.filter(function(Jt){return!Jt.minor}):[],ht=lt.counterAxis;if(ht&&Me.shouldShowZeroLine(ge,de,ht))for(var ut="array"===de.tickmode,Ht=0;Ht<Tt.length;Ht++){var _t=Tt[Ht].x;if(ut?!_t:Math.abs(_t)<de.dtick/100){if(Tt=Tt.slice(0,Ht).concat(Tt.slice(Ht+1)),!ut)break;Ht--}}de._gw=C.crispRound(ge,de.gridwidth,1);for(var jt=pt?C.crispRound(ge,de.minor.gridwidth,1):0,an=lt.layer,vn=lt.minorLayer,Nt=1;Nt>=0;Nt--){var un=Nt?an:vn;if(un){var sn=un.selectAll("path."+ot).data(Nt?Tt:mt,yt);sn.exit().remove(),sn.enter().append("path").classed(ot,1).classed("crisp",!1!==lt.crisp),sn.attr("transform",lt.transFn).attr("d",lt.path).each(function(Jt){return c.stroke(p.select(this),Jt.minor?de.minor.gridcolor:de.gridcolor||"#ddd")}).style("stroke-dasharray",function(Jt){return C.dashStyle(Jt.minor?de.minor.griddash:de.griddash,Jt.minor?de.minor.gridwidth:de.gridwidth)}).style("stroke-width",function(Jt){return(Jt.minor?jt:de._gw)+"px"}).style("display",null),"function"==typeof lt.path&&sn.attr("d",lt.path)}}dr(de,[me,Z])}},Me.drawZeroLine=function(ge,de,lt){var ot=de._id+"zl",pt=Me.shouldShowZeroLine(ge,de,(lt=lt||lt).counterAxis),mt=lt.layer.selectAll("path."+ot).data(pt?[{x:0,id:de._id}]:[]);mt.exit().remove(),mt.enter().append("path").classed(ot,1).classed("zl",1).classed("crisp",!1!==lt.crisp).each(function(){lt.layer.selectAll("path").sort(function(Tt,ht){return B(Tt.id,ht.id)})}),mt.attr("transform",lt.transFn).attr("d",lt.path).call(c.stroke,de.zerolinecolor||c.defaultLine).style("stroke-width",C.crispRound(ge,de.zerolinewidth,de._gw||1)+"px").style("display",null),dr(de,[fe])},Me.drawLabels=function(ge,de,lt){var ot=ge._fullLayout,mt=(lt=lt||{}).cls||de._id+"tick",Tt=lt.vals.filter(function(Qr){return Qr.text}),ht=lt.labelFns,ut=lt.secondary?0:de.tickangle,Ht=(de._prevTickAngles||{})[mt],_t=lt.layer.selectAll("g."+mt).data(de.showticklabels?Tt:[],yt),jt=[];function an(Qr,hi){Qr.each(function(ti){var xi=p.select(this),Sr=xi.select(".text-math-group"),Vr=ht.anchorFn(ti,hi),ni=lt.transFn.call(xi.node(),ti)+(T(hi)&&0!=+hi?" rotate("+hi+","+ht.xFn(ti)+","+(ht.yFn(ti)-ti.fontSize/2)+")":""),Wi=m.lineCount(xi),ia=He*ti.fontSize,zi=ht.heightFn(ti,T(hi)?+hi:0,(Wi-1)*ia);if(zi&&(ni+=y(0,zi)),Sr.empty()){var Jr=xi.select("text");Jr.attr({transform:ni,"text-anchor":Vr}),Jr.style("opacity",1),de._adjustTickLabelsOverflow&&de._adjustTickLabelsOverflow()}else{var rs=C.bBox(Sr.node()).width;Sr.attr("transform",ni+y(rs*{end:-.5,start:.5}[Vr],0))}})}_t.enter().append("g").classed(mt,1).append("text").attr("text-anchor","middle").each(function(Qr){var hi=p.select(this),ti=ge._promises.length;hi.call(m.positionText,ht.xFn(Qr),ht.yFn(Qr)).call(C.font,Qr.font,Qr.fontSize,Qr.fontColor).text(Qr.text).call(m.convertToTspans,ge),ge._promises[ti]?jt.push(ge._promises.pop().then(function(){an(hi,ut)})):an(hi,ut)}),dr(de,[q]),_t.exit().remove(),lt.repositionOnUpdate&&_t.each(function(Qr){p.select(this).select("text").call(m.positionText,ht.xFn(Qr),ht.yFn(Qr))}),de._adjustTickLabelsOverflow=function(){var Qr=de.ticklabeloverflow;if(Qr&&"allow"!==Qr){var hi=-1!==Qr.indexOf("hide"),ti="x"===de._id.charAt(0),xi=0,Sr=ti?ge._fullLayout.width:ge._fullLayout.height;if(-1!==Qr.indexOf("domain")){var Vr=f.simpleMap(de.range,de.r2l);xi=de.l2p(Vr[0])+de._offset,Sr=de.l2p(Vr[1])+de._offset}var ni=Math.min(xi,Sr),Wi=Math.max(xi,Sr),ia=de.side,zi=1/0,Jr=-1/0;for(var rs in _t.each(function(wi){var k1=p.select(this);if(k1.select(".text-math-group").empty()){var va=C.bBox(k1.node()),Za=0;ti?(va.right>Wi||va.left<ni)&&(Za=1):(va.bottom>Wi||va.top+(de.tickangle?0:wi.fontSize/4)<ni)&&(Za=1);var Xa=k1.select("text");Za?hi&&Xa.style("opacity",0):(Xa.style("opacity",1),zi="bottom"===ia||"right"===ia?Math.min(zi,ti?va.top:va.left):-1/0,Jr="top"===ia||"left"===ia?Math.max(Jr,ti?va.bottom:va.right):1/0)}}),ot._plots){var pa=ot._plots[rs];if(de._id===pa.xaxis._id||de._id===pa.yaxis._id){var ea=ti?pa.yaxis:pa.xaxis;ea&&(ea["_visibleLabelMin_"+de._id]=zi,ea["_visibleLabelMax_"+de._id]=Jr)}}}},de._hideCounterAxisInsideTickLabels=function(Qr){var hi="x"===de._id.charAt(0),ti=[];for(var xi in ot._plots){var Sr=ot._plots[xi];de._id!==Sr.xaxis._id&&de._id!==Sr.yaxis._id||ti.push(hi?Sr.yaxis:Sr.xaxis)}ti.forEach(function(Vr,ni){Vr&&$n(Vr)&&(Qr||[fe,Z,me,G,q]).forEach(function(Wi){var ia="tick"===Wi.K&&"text"===Wi.L&&"period"===de.ticklabelmode,zi=ot._plots[de._mainSubplot];(Wi.K===fe.K?zi.zerolinelayer.selectAll("."+de._id+"zl"):Wi.K===Z.K?zi.minorGridlayer.selectAll("."+de._id):Wi.K===me.K?zi.gridlayer.selectAll("."+de._id):zi[de._id.charAt(0)+"axislayer"]).each(function(){var rs=p.select(this);Wi.L&&(rs=rs.selectAll(Wi.L)),rs.each(function(pa){var ea=de.l2p(ia?Rt(pa):pa.x)+de._offset,wi=p.select(this);ea<de["_visibleLabelMax_"+Vr._id]&&ea>de["_visibleLabelMin_"+Vr._id]?wi.style("display","none"):"tick"===Wi.K&&!ni&&wi.style("display",null)})})})})},an(_t,Ht+1?Ht:ut);var Nt=null;de._selections&&(de._selections[mt]=_t);var sn=[function vn(){return jt.length&&Promise.all(jt)}];de.automargin&&ot._redrawFromAutoMarginCount&&90===Ht?(Nt=Ht,sn.push(function(){an(_t,Ht)})):sn.push(function un(){if(an(_t,ut),Tt.length&&de.autotickangles&&("log"!==de.type||"D"!==String(de.dtick).charAt(0))){Nt=de.autotickangles[0];var ti,Qr=0,hi=[],xi=1;if(_t.each(function(Yr){Qr=Math.max(Qr,Yr.fontSize);var Ri=de.l2p(Yr.x),nr=Yn(this),Hi=C.bBox(nr.node());xi=Math.max(xi,m.lineCount(nr)),hi.push({top:0,bottom:10,height:10,left:Ri-Hi.width/2,right:Ri+Hi.width/2+2,width:Hi.width+2})}),"boundaries"!==de.tickson&&!de.showdividers||lt.secondary){var Wi=Tt.length,ia=Math.abs((Tt[Wi-1].x-Tt[0].x)*de._m)/(Wi-1),zi=de.ticklabelposition||"",Jr=function(Yr){return-1!==zi.indexOf(Yr)},rs=Jr("top"),pa=Jr("left"),ea=Jr("right"),is=Jr("bottom")||pa||rs||ea?(de.tickwidth||0)+6:0,Za=1.25*Qr*xi,k2=ia/Math.sqrt(Math.pow(ia,2)+Math.pow(Za,2)),ur=de.autotickangles.map(function(Yr){return Yr*Math.PI/180}),hs=ur.find(function(Yr){return Math.abs(Math.cos(Yr))<=k2});void 0===hs&&(hs=ur.reduce(function(Yr,Ri){return Math.abs(Math.cos(Yr))<Math.abs(Math.cos(Ri))?Yr:Ri},ur[0]));var G1=hs*(180/Math.PI);for(ti=0;ti<hi.length-1;ti++)if(f.bBoxIntersect(hi[ti],hi[ti+1],is)){Nt=G1;break}}else{var Sr=2;for(de.ticks&&(Sr+=de.tickwidth/2),ti=0;ti<hi.length;ti++){var Vr=Tt&&Tt[ti].xbnd?Tt[ti].xbnd:[null,null],ni=hi[ti];if(null!==Vr[0]&&ni.left-de.l2p(Vr[0])<Sr||null!==Vr[1]&&de.l2p(Vr[1])-ni.right<Sr){Nt=90;break}}}Nt&&an(_t,Nt)}}),de._tickAngles&&sn.push(function(){de._tickAngles[mt]=null===Nt?T(ut)?ut:0:Nt});var Jt=function(){var Qr=0,hi=0;return _t.each(function(ti,xi){var ni,Sr=Yn(this);Sr.select(".text-math-group").empty()&&(de._vals[xi]&&(ni=de._vals[xi].bb||C.bBox(Sr.node()),de._vals[xi].bb=ni),Qr=Math.max(Qr,ni.width),hi=Math.max(hi,ni.height))}),{labelsMaxW:Qr,labelsMaxH:hi}},Mn=de._anchorAxis;if(Mn&&(Mn.autorange||Mn.insiderange)&&$n(de)&&!P(ot,de._id)&&(ot._insideTickLabelsUpdaterange||(ot._insideTickLabelsUpdaterange={}),Mn.autorange&&(ot._insideTickLabelsUpdaterange[Mn._name+".autorange"]=Mn.autorange,sn.push(Jt)),Mn.insiderange)){var zn=Jt(),Pn="y"===de._id.charAt(0)?zn.labelsMaxW:zn.labelsMaxH;Pn+=6,"inside"===de.ticklabelposition&&(Pn+=de.ticklen||0);var xn="right"===de.side||"top"===de.side?1:-1,wn=1===xn?1:0,Xn=1===xn?0:1,gr=[];gr[Xn]=Mn.range[Xn];var Cr=Mn.range,ci=Mn.d2p(Cr[wn]),Mr=Mn.d2p(Cr[Xn]),Hr=ot._insideTickLabelsUpdaterange[Mn._name+".range"];if(Hr){var ei=Mn.d2p(Hr[wn]),Di=Mn.d2p(Hr[Xn]),oa=xn*("y"===de._id.charAt(0)?1:-1);oa*ci<oa*ei&&(ci=ei,gr[wn]=Cr[wn]=Hr[wn]),oa*Mr>oa*Di&&(Mr=Di,gr[Xn]=Cr[Xn]=Hr[Xn])}var Er=Math.abs(Mr-ci);Er-Pn>0?Pn*=1+Pn/(Er-=Pn):Pn=0,"y"!==de._id.charAt(0)&&(Pn=-Pn),gr[wn]=Mn.p2d(Mn.d2p(Cr[wn])+xn*Pn),"min"===Mn.autorange||"max reversed"===Mn.autorange?(gr[0]=null,Mn._rangeInitial0=void 0,Mn._rangeInitial1=void 0):("max"===Mn.autorange||"min reversed"===Mn.autorange)&&(gr[1]=null,Mn._rangeInitial0=void 0,Mn._rangeInitial1=void 0),ot._insideTickLabelsUpdaterange[Mn._name+".range"]=gr}var qi=f.syncOrAsync(sn);return qi&&qi.then&&ge._promises.push(qi),qi},Me.getPxPosition=function(ge,de){var mt,lt=ge._fullLayout._size,ot=de._id.charAt(0),pt=de.side;return"free"!==de.anchor?mt=de._anchorAxis:"x"===ot?mt={_offset:lt.t+(1-(de.position||0))*lt.h,_length:0}:"y"===ot&&(mt={_offset:lt.l+(de.position||0)*lt.w+de._shift,_length:0}),"top"===pt||"left"===pt?mt._offset:"bottom"===pt||"right"===pt?mt._offset+mt._length:void 0},Me.shouldShowZeroLine=function(ge,de,lt){var ot=f.simpleMap(de.range,de.r2l);return ot[0]*ot[1]<=0&&de.zeroline&&("linear"===de.type||"-"===de.type)&&!(de.rangebreaks&&de.maskBreaks(0)===te)&&(Tn(de,0)||!function Rn(ge,de,lt,ot){var pt=lt._mainAxis;if(pt){var mt=ge._fullLayout,Tt=de._id.charAt(0),ht=Me.counterLetter(de._id),ut=de._offset+(Math.abs(ot[0])<Math.abs(ot[1])==("x"===Tt)?0:de._length),_t=mt._plots[lt._mainSubplot];if(!(_t.mainplotinfo||_t).overlays.length)return Ht(lt);for(var jt=Me.list(ge,ht),an=0;an<jt.length;an++){var vn=jt[an];if(vn._mainAxis===pt&&Ht(vn))return!0}}function Ht(Nt){if(!Nt.showline||!Nt.linewidth)return!1;var un=Math.max((Nt.linewidth+de.zerolinewidth)/2,1);function sn(zn){return"number"==typeof zn&&Math.abs(zn-ut)<un}if(sn(Nt._mainLinePosition)||sn(Nt._mainMirrorPosition))return!0;var Jt=Nt._linepositions||{};for(var Mn in Jt)if(sn(Jt[Mn][0])||sn(Jt[Mn][1]))return!0}}(ge,de,lt,ot)||function Gn(ge,de){for(var lt=ge._fullData,ot=de._mainSubplot,pt=de._id.charAt(0),mt=0;mt<lt.length;mt++){var Tt=lt[mt];if(!0===Tt.visible&&Tt.xaxis+Tt.yaxis===ot&&(g.traceIs(Tt,"bar-like")&&Tt.orientation==={x:"h",y:"v"}[pt]||Tt.fill&&Tt.fill.charAt(Tt.fill.length-1)===pt))return!0}return!1}(ge,de))},Me.clipEnds=function(ge,de){return de.filter(function(lt){return Tn(ge,lt.x)})},Me.allowAutoMargin=function(ge){for(var de=Me.list(ge,"",!0),lt=0;lt<de.length;lt++){var ot=de[lt];ot.automargin&&(v.allowAutoMargin(ge,Kt(ot)),ot.mirror&&v.allowAutoMargin(ge,Wn(ot))),g.getComponentMethod("rangeslider","isVisible")(ot)&&v.allowAutoMargin(ge,kn(ot))}},Me.swap=function(ge,de){for(var lt=function Vn(ge,de){var ot,pt,lt=[];for(ot=0;ot<de.length;ot++){var mt=[],Tt=ge._fullData[de[ot]].xaxis,ht=ge._fullData[de[ot]].yaxis;if(Tt&&ht){for(pt=0;pt<lt.length;pt++)(-1!==lt[pt].x.indexOf(Tt)||-1!==lt[pt].y.indexOf(ht))&&mt.push(pt);if(!mt.length){lt.push({x:[Tt],y:[ht]});continue}var Ht,ut=lt[mt[0]];if(mt.length>1)for(pt=1;pt<mt.length;pt++)Zn(ut.x,(Ht=lt[mt[pt]]).x),Zn(ut.y,Ht.y);Zn(ut.x,[Tt]),Zn(ut.y,[ht])}}return lt}(ge,de),ot=0;ot<lt.length;ot++)bn(ge,lt[ot].x,lt[ot].y)}},2976:function(ve,K,o){"use strict";var p=o(8248),T=o(3400),v=o(9032).BADNUM,g=T.isArrayOrTypedArray,f=T.isDateTime,y=T.cleanNumber,m=Math.round;function h(w,z){return z?p(w):"number"==typeof w}function _(w){return Math.max(1,(w-1)/1e3)}ve.exports=function(z,S,E){var x=z,H=E.noMultiCategory;if(g(x)&&!x.length)return"-";if(!H&&function D(w){return g(w[0])&&g(w[1])}(x))return"multicategory";if(H&&Array.isArray(x[0])){for(var b=[],N=0;N<x.length;N++)if(g(x[N]))for(var V=0;V<x[N].length;V++)b.push(x[N][V]);x=b}if(function C(w,z){for(var S=w.length,E=_(S),x=0,H=0,b={},N=0;N<S;N+=E){var Y=w[m(N)],$=String(Y);b[$]||(b[$]=1,f(Y,z)&&x++,p(Y)&&H++)}return x>2*H}(x,S))return"date";var Y="strict"!==E.autotypenumbers;return function L(w,z){for(var S=w.length,E=_(S),x=0,H=0,b={},N=0;N<S;N+=E){var Y=w[m(N)],$=String(Y);if(!b[$]){b[$]=1;var Q=typeof Y;"boolean"===Q?H++:(z?y(Y)!==v:"number"===Q)?x++:"string"===Q&&H++}}return H>2*x}(x,Y)?"category":function c(w,z){for(var S=w.length,E=0;E<S;E++)if(h(w[E],z))return!0;return!1}(x,Y)?"linear":"-"}},5955:function(ve,K,o){"use strict";var p=o(8248),T=o(4040),v=o(3400),g=o(1780),f=o(1272),y=o(4724),m=o(6332),h=o(5404),c=o(5936),C=o(2568),_=o(4796),L=o(2136),D=o(6312),w=o(8344),z=o(3816).WEEKDAY_PATTERN,S=o(3816).HOUR_PATTERN;function E(b,N,V){function Y(me,Z){return v.coerce(b,N,y.rangebreaks,me,Z)}if(Y("enabled")){var Q=Y("bounds");if(Q&&Q.length>=2){var F,J,se="";if(2===Q.length)for(F=0;F<2;F++)if(J=H(Q[F])){se=z;break}var W=Y("pattern",se);if(W===z)for(F=0;F<2;F++)(J=H(Q[F]))&&(N.bounds[F]=Q[F]=J-1);if(W)for(F=0;F<2;F++)switch(J=Q[F],W){case z:if(!p(J))return void(N.enabled=!1);if((J=+J)!==Math.floor(J)||J<0||J>=7)return void(N.enabled=!1);N.bounds[F]=Q[F]=J;break;case S:if(!p(J))return void(N.enabled=!1);if((J=+J)<0||J>24)return void(N.enabled=!1);N.bounds[F]=Q[F]=J}if(!1===V.autorange){var te=V.range;if(te[0]<te[1]){if(Q[0]<te[0]&&Q[1]>te[1])return void(N.enabled=!1)}else if(Q[0]>te[0]&&Q[1]<te[1])return void(N.enabled=!1)}}else{var fe=Y("values");if(!fe||!fe.length)return void(N.enabled=!1);Y("dvalue")}}}ve.exports=function(N,V,Y,$,Q){var me,se=$.letter,F=$.font||{},J=$.splomStash||{},W=Y("visible",!$.visibleDflt),fe=V.type||(V._template||{}).type||"-";"date"===fe&&(T.getComponentMethod("calendars","handleDefaults")(N,V,"calendar",$.calendar),$.noTicklabelmode||(me=Y("ticklabelmode")));var G="";(!$.noTicklabelposition||"multicategory"===fe)&&(G=v.coerce(N,V,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===me?["outside","inside"]:"x"===se?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),$.noTicklabeloverflow||Y("ticklabeloverflow",-1!==G.indexOf("inside")?"hide past domain":"category"===fe||"multicategory"===fe?"allow":"hide past div"),w(V,Q),D(N,V,Y,$),_(N,V,Y,$),"category"!==fe&&!$.noHover&&Y("hoverformat");var q=Y("color"),ie=q!==y.color.dflt?q:F.color,ue=J.label||Q._dfltTitle[se];if(C(N,V,Y,fe,$),!W)return V;Y("title.text",ue),v.coerceFont(Y,"title.font",{family:F.family,size:v.bigFont(F.size),color:ie}),m(N,V,Y,fe);var le=$.hasMinor;if(le&&(g.newContainer(V,"minor"),m(N,V,Y,fe,{isMinor:!0})),c(N,V,Y,fe,$),h(N,V,Y,$),le){var pe=$.isMinor;$.isMinor=!0,h(N,V,Y,$),$.isMinor=pe}L(N,V,Y,{dfltColor:q,bgColor:$.bgColor,showGrid:$.showGrid,hasMinor:le,attributes:y}),le&&!V.minor.ticks&&!V.minor.showgrid&&delete V.minor,(V.showline||V.ticks)&&Y("mirror");var ke,He="multicategory"===fe;if($.noTickson||"category"!==fe&&!He||!V.ticks&&!V.showgrid||(He&&(ke="boundaries"),"boundaries"===Y("tickson",ke)&&delete V.ticklabelposition),He&&Y("showdividers")&&(Y("dividercolor"),Y("dividerwidth")),"date"===fe)if(f(N,V,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:E}),V.rangebreaks.length){for(var we=0;we<V.rangebreaks.length;we++)if(V.rangebreaks[we].pattern===z){V._hasDayOfWeekBreaks=!0;break}if(w(V,Q),Q._has("scattergl")||Q._has("splom"))for(var Le=0;Le<$.data.length;Le++){var B=$.data[Le];("scattergl"===B.type||"splom"===B.type)&&(B.visible=!1,v.warn(B.type+" traces do not work on axes with rangebreaks. Setting trace "+B.index+" to `visible: false`."))}}else delete V.rangebreaks;return V};var x={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function H(b){if("string"==typeof b)return x[b.substr(0,3).toLowerCase()]}},9736:function(ve,K,o){"use strict";var p=o(6880),T=p.FORMAT_LINK,v=p.DATE_FORMAT_LINK;function f(m,h){return["Sets the "+m+" formatting rule"+(h?"for `"+h+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+T+"."].join(" ")}function y(m,h){return f(m,h)+[" And for dates see: "+v+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}ve.exports={axisHoverFormat:function g(m,h){return{valType:"string",dflt:"",editType:"none",description:(h?f:y)("hover text",m)+["By default the values are formatted using "+(h?"generic number format":"`"+m+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:f,descriptionWithDates:y}},9811:function(ve,K,o){"use strict";var p=o(4040),T=o(3816);function v(g,f){if(f&&f.length)for(var y=0;y<f.length;y++)if(f[y][g])return!0;return!1}K.id2name=function(f){if("string"==typeof f&&f.match(T.AX_ID_PATTERN)){var y=f.split(" ")[0].substr(1);return"1"===y&&(y=""),f.charAt(0)+"axis"+y}},K.name2id=function(f){if(f.match(T.AX_NAME_PATTERN)){var y=f.substr(5);return"1"===y&&(y=""),f.charAt(0)+y}},K.cleanId=function(f,y,m){var h=/( domain)$/.test(f);if("string"==typeof f&&f.match(T.AX_ID_PATTERN)&&(!y||f.charAt(0)===y)&&(!h||m)){var c=f.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===c&&(c=""),f.charAt(0)+c+(h&&m?" domain":"")}},K.list=function(g,f,y){var m=g._fullLayout;if(!m)return[];var C,h=K.listIds(g,f),c=new Array(h.length);for(C=0;C<h.length;C++){var _=h[C];c[C]=m[_.charAt(0)+"axis"+_.substr(1)]}if(!y){var L=m._subplots.gl3d||[];for(C=0;C<L.length;C++){var D=m[L[C]];f?c.push(D[f+"axis"]):c.push(D.xaxis,D.yaxis,D.zaxis)}}return c},K.listIds=function(g,f){var y=g._fullLayout;if(!y)return[];var m=y._subplots;return f?m[f+"axis"]:m.xaxis.concat(m.yaxis)},K.getFromId=function(g,f,y){var m=g._fullLayout;return f=void 0===f||"string"!=typeof f?f:f.replace(" domain",""),"x"===y?f=f.replace(/y[0-9]*/,""):"y"===y&&(f=f.replace(/x[0-9]*/,"")),m[K.id2name(f)]},K.getFromTrace=function(g,f,y){var m=g._fullLayout,h=null;if(p.traceIs(f,"gl3d")){var c=f.scene;"scene"===c.substr(0,5)&&(h=m[c][y+"axis"])}else h=K.getFromId(g,f[y+"axis"]||y);return h},K.idSort=function(g,f){var y=g.charAt(0),m=f.charAt(0);return y!==m?y>m?1:-1:+(g.substr(1)||1)-+(f.substr(1)||1)},K.ref2id=function(g){return!!/^[xyz]/.test(g)&&g.split(" ")[0]},K.isLinked=function(g,f){return v(f,g._axisMatchGroups)||v(f,g._axisConstraintGroups)}},4796:function(ve,K,o){"use strict";var p=o(8116).isTypedArraySpec;ve.exports=function(g,f,y,m){if("category"===f.type){var C,h=g.categoryarray,c=Array.isArray(h)&&h.length>0||p(h);c&&(C="array");var L,_=y("categoryorder",C);"array"===_&&(L=y("categoryarray")),!c&&"array"===_&&(_=f.categoryorder="trace"),"trace"===_?f._initialCategories=[]:"array"===_?f._initialCategories=L.slice():(L=function T(v,g){var m,h,c,f=g.dataAttr||v._id.charAt(0),y={};if(g.axData)m=g.axData;else for(m=[],h=0;h<g.data.length;h++){var C=g.data[h];C[f+"axis"]===v._id&&m.push(C)}for(h=0;h<m.length;h++){var _=m[h][f];for(c=0;c<_.length;c++){var L=_[c];null!=L&&(y[L]=1)}}return Object.keys(y)}(f,m).sort(),"category ascending"===_?f._initialCategories=L:"category descending"===_&&(f._initialCategories=L.reverse()))}}},8728:function(ve,K,o){"use strict";var p=o(8248),T=o(3400),v=o(9032),g=v.ONEDAY,f=v.ONEWEEK;K.dtick=function(y,m){var h="log"===m,c="date"===m,C="category"===m,_=c?g:1;if(!y)return _;if(p(y))return(y=Number(y))<=0?_:C?Math.max(1,Math.round(y)):c?Math.max(.1,y):y;if("string"!=typeof y||!c&&!h)return _;var L=y.charAt(0),D=y.substr(1);return(D=p(D)?Number(D):0)<=0||!(c&&"M"===L&&D===Math.round(D)||h&&"L"===L||h&&"D"===L&&(1===D||2===D))?_:y},K.tick0=function(y,m,h,c){return"date"===m?T.cleanDate(y,T.dateTick0(h,c%f==0?1:0)):"D1"!==c&&"D2"!==c?p(y)?Number(y):0:void 0}},3816:function(ve,K,o){"use strict";var p=o(3756).counter;ve.exports={idRegex:{x:p("x","( domain)?"),y:p("y","( domain)?")},attrRegex:p("[xy]axis"),xAxisMatch:p("xaxis"),yAxisMatch:p("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},1888:function(ve,K,o){"use strict";var p=o(3400),T=o(9280),v=o(9811).id2name,g=o(4724),f=o(1160),y=o(8344),m=o(9032).ALMOST_EQUAL,h=o(4284).FROM_BL;function c(S,E,x){var H=x.axIds,b=x.layoutOut,N=x.hasImage,V=b._axisConstraintGroups,Y=b._axisMatchGroups,$=E._id,Q=$.charAt(0),se=((b._splomAxes||{})[Q]||{})[$]||{},F=E._id,J="x"===F.charAt(0);function W(we,Le){return p.coerce(S,E,g,we,Le)}E._matchGroup=null,E._constraintGroup=null,W("constrain",N?"domain":"range"),p.coerce(S,E,{constraintoward:{valType:"enumerated",values:J?["left","center","right"]:["bottom","middle","top"],dflt:J?"center":"middle"}},"constraintoward");var fe,me,te=E.type,Z=[];for(fe=0;fe<H.length;fe++)(me=H[fe])!==F&&b[v(me)].type===te&&Z.push(me);var q=_(V,F);if(q){var ie=[];for(fe=0;fe<Z.length;fe++)q[me=Z[fe]]||ie.push(me);Z=ie}var le,pe,ue=Z.length;ue&&(S.matches||se.matches)&&(le=p.coerce(S,E,{matches:{valType:"enumerated",values:Z,dflt:-1!==Z.indexOf(se.matches)?se.matches:void 0}},"matches"));var He=N&&!J?E.anchor:void 0;if(ue&&!le&&(S.scaleanchor||He)&&(pe=p.coerce(S,E,{scaleanchor:{valType:"enumerated",values:Z.concat([!1])}},"scaleanchor",He)),le){E._matchGroup=L(Y,F,le,1);var ke=b[v(le)],Ue=C(b,E)/C(b,ke);J!==("x"===le.charAt(0))&&(Ue=(J?"x":"y")+Ue),L(V,F,le,Ue)}else S.matches&&-1!==H.indexOf(S.matches)&&p.warn("ignored "+E._name+'.matches: "'+S.matches+'" to avoid an infinite loop');if(pe){var Me=W("scaleratio");Me||(Me=E.scaleratio=1),L(V,F,pe,Me)}else S.scaleanchor&&-1!==H.indexOf(S.scaleanchor)&&p.warn("ignored "+E._name+'.scaleanchor: "'+S.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function C(S,E){var x=E.domain;return x||(x=S[v(E.overlaying)].domain),x[1]-x[0]}function _(S,E){for(var x=0;x<S.length;x++)if(S[x][E])return S[x];return null}function L(S,E,x,H){var b,N,V,Y,$,Q=_(S,E);null===Q?((Q={})[E]=1,$=S.length,S.push(Q)):$=S.indexOf(Q);var se=Object.keys(Q);for(b=0;b<S.length;b++)if(V=S[b],b!==$&&V[x]){var F=V[x];for(N=0;N<se.length;N++)V[Y=se[N]]=D(F,D(H,Q[Y]));return void S.splice($,1)}if(1!==H)for(N=0;N<se.length;N++){var J=se[N];Q[J]=D(H,Q[J])}Q[x]=1}function D(S,E){var b,N,x="",H="";"string"==typeof S&&(x=S.match(/^[xy]*/)[0],S=+S.substr(b=x.length)),"string"==typeof E&&(H=E.match(/^[xy]*/)[0],E=+E.substr(N=H.length));var V=S*E;return b||N?b&&N&&x.charAt(0)!==H.charAt(0)?b===N?V:(b>N?x.substr(N):H.substr(b))+V:x+H+S*E:V}function w(S,E){for(var x=E._size,H=x.h/x.w,b={},N=Object.keys(S),V=0;V<N.length;V++){var Y=N[V],$=S[Y];if("string"==typeof $){var Q=$.match(/^[xy]*/)[0],se=Q.length;$=+$.substr(se);for(var F="y"===Q.charAt(0)?H:1/H,J=0;J<se;J++)$*=F}b[Y]=$}return b}function z(S,E){var x=S._inputDomain,b=x[0]+(x[1]-x[0])*h[S.constraintoward];S.domain=S._input.domain=[b+(x[0]-b)/E,b+(x[1]-b)/E],S.setScale()}K.handleDefaults=function(S,E,x){var Y,$,Q,se,F,J,W,te,H=x.axIds,b=x.axHasImage,N=E._axisConstraintGroups=[],V=E._axisMatchGroups=[];for(Y=0;Y<H.length;Y++)c(F=S[se=v(H[Y])],J=E[se],{axIds:H,layoutOut:E,hasImage:b[se]});function fe(He,ke){for(Y=0;Y<He.length;Y++)for(Q in $=He[Y])E[v(Q)][ke]=$}for(fe(V,"_matchGroup"),Y=0;Y<N.length;Y++)for(Q in $=N[Y])if((J=E[v(Q)]).fixedrange){for(var me in $){var Z=v(me);!1===(S[Z]||{}).fixedrange&&p.warn("fixedrange was specified as false for axis "+Z+" but was overridden because another axis in its constraint group has fixedrange true"),E[Z].fixedrange=!0}break}for(Y=0;Y<N.length;){for(Q in $=N[Y]){(J=E[v(Q)])._matchGroup&&Object.keys(J._matchGroup).length===Object.keys($).length&&(N.splice(Y,1),Y--);break}Y++}fe(N,"_constraintGroup");var G=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],q=!1,ie=!1;function ue(){te=J[W],"rangebreaks"===W&&(ie=J._hasDayOfWeekBreaks)}for(Y=0;Y<V.length;Y++){$=V[Y];for(var le=0;le<G.length;le++){var pe;for(Q in W=G[le],te=null,$)if(F=S[se=v(Q)],W in(J=E[se])){if(!J.matches&&(pe=J,W in F)){ue();break}null===te&&W in F&&ue()}if("range"===W&&te&&F.range&&2===F.range.length&&null!==F.range[0]&&null!==F.range[1]&&(q=!0),"autorange"===W&&null===te&&q&&(te=!1),null===te&&W in pe&&(te=pe[W]),null!==te)for(Q in $)(J=E[v(Q)])[W]="range"===W?te.slice():te,"rangebreaks"===W&&(J._hasDayOfWeekBreaks=ie,y(J,E))}}},K.enforce=function(E){var b,N,V,Y,$,Q,se,F,x=E._fullLayout,H=x._axisConstraintGroups||[];for(b=0;b<H.length;b++){V=w(H[b],x);var J=Object.keys(V),W=1/0,te=0,fe=1/0,me={},Z={},G=!1;for(N=0;N<J.length;N++)Z[Y=J[N]]=$=x[v(Y)],$._inputDomain?$.domain=$._inputDomain.slice():$._inputDomain=$.domain.slice(),$._inputRange||($._inputRange=$.range.slice()),$.setScale(),me[Y]=Q=Math.abs($._m)/V[Y],W=Math.min(W,Q),("domain"===$.constrain||!$._constraintShrinkable)&&(fe=Math.min(fe,Q)),delete $._constraintShrinkable,te=Math.max(te,Q),"domain"===$.constrain&&(G=!0);if(!(W>m*te)||G)for(N=0;N<J.length;N++)if(se=($=Z[Y=J[N]]).constrain,(Q=me[Y])!==fe||"domain"===se)if(F=Q/fe,"range"===se)f($,F);else{var q=$._inputDomain,ie=($.domain[1]-$.domain[0])/(q[1]-q[0]),ue=($.r2l($.range[1])-$.r2l($.range[0]))/($.r2l($._inputRange[1])-$.r2l($._inputRange[0]));if((F/=ie)*ue<1){$.domain=$._input.domain=q.slice(),f($,F);continue}if(ue<1&&($.range=$._input.range=$._inputRange.slice(),F*=ue),$.autorange){var le=$.r2l($.range[0]),pe=$.r2l($.range[1]),He=(le+pe)/2,ke=He,Ue=He,Me=Math.abs(pe-He),we=He-Me*F*1.0001,Le=He+Me*F*1.0001,B=T.makePadFn(x,$,0),P=T.makePadFn(x,$,1);z($,F);var O,ne,X=Math.abs($._m),j=T.concatExtremes(E,$),I=j.min,ae=j.max;for(ne=0;ne<I.length;ne++)(O=I[ne].val-B(I[ne])/X)>we&&O<ke&&(ke=O);for(ne=0;ne<ae.length;ne++)(O=ae[ne].val+P(ae[ne])/X)<Le&&O>Ue&&(Ue=O);F/=(Ue-ke)/(2*Me),ke=$.l2r(ke),Ue=$.l2r(Ue),$.range=$._input.range=le<pe?[ke,Ue]:[Ue,ke]}z($,F)}}},K.getAxisGroup=function(E,x){for(var H=E._axisMatchGroups,b=0;b<H.length;b++)if(H[b][x])return"g"+b;return x},K.clean=function(E,x){if(x._inputDomain){for(var H=!1,b=x._id,N=E._fullLayout._axisConstraintGroups,V=0;V<N.length;V++)if(N[V][b]){H=!0;break}(!H||"domain"!==x.constrain)&&(x._input.domain=x.domain=x._inputDomain,delete x._inputDomain)}}},1184:function(ve,K,o){"use strict";var p=o(3428),T=o(3400),v=T.numberFormat,g=o(9760),f=o(9184),y=o(4040),m=T.strTranslate,h=o(2736),c=o(6308),C=o(3616),_=o(3024),L=o(4460),D=o(3972),w=o(6476),z=o(2760),S=z.selectingOrDrawing,E=z.freeMode,x=o(4284).FROM_TL,H=o(3696),b=o(9172).redrawReglTraces,N=o(7316),V=o(9811).getFromId,Y=o(2676).prepSelect,$=o(2676).clearOutline,Q=o(2676).selectOnClick,se=o(1160),F=o(3816),J=F.MINDRAG,W=F.MINZOOM,te=!0;function me(O,ne,be,ze){var Ne=T.ensureSingle(O.draglayer,ne,be,function(Oe){Oe.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",O.id)});return Ne.call(D,ze),Ne.node()}function Z(O,ne,be,ze,Ne,Oe,Be){var Te=me(O,"rect",ne,be);return p.select(Te).call(C.setRect,ze,Ne,Oe,Be),Te}function G(O,ne){for(var be=0;be<O.length;be++)if(!O[be].fixedrange)return ne;return""}function ie(O,ne,be,ze,Ne){for(var Oe=0;Oe<O.length;Oe++){var Be=O[Oe];if(!Be.fixedrange)if(Be.rangebreaks){var Te="y"===Be._id.charAt(0),Pe=Te?1-be:be;ze[Be._name+".range[0]"]=Be.l2r(Be.p2l((Te?1-ne:ne)*Be._length)),ze[Be._name+".range[1]"]=Be.l2r(Be.p2l(Pe*Be._length))}else{var Je=Be._rl[0],Xe=Be._rl[1]-Je;ze[Be._name+".range[0]"]=Be.l2r(Je+Xe*ne),ze[Be._name+".range[1]"]=Be.l2r(Je+Xe*be)}}if(Ne&&Ne.length){var Ge=(ne+(1-be))/2;ie(Ne,Ge,1-Ge,ze,[])}}function ue(O,ne){for(var be=0;be<O.length;be++){var ze=O[be];if(!ze.fixedrange){if(ze.rangebreaks){var Oe=ze._length,Ve=(ze.p2l(0+ne)-ze.p2l(0)+(ze.p2l(Oe+ne)-ze.p2l(Oe)))/2;ze.range=[ze.l2r(ze._rl[0]-Ve),ze.l2r(ze._rl[1]-Ve)]}else ze.range=[ze.l2r(ze._rl[0]-ne/ze._m),ze.l2r(ze._rl[1]-ne/ze._m)];ze.limitRange&&ze.limitRange()}}}function le(O){return 1-(O>=0?Math.min(O,.9):1/(1/Math.max(O,-.3)+3.222))}function He(O,ne,be,ze,Ne){return O.append("path").attr("class","zoombox").style({fill:ne>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",m(be,ze)).attr("d",Ne+"Z")}function ke(O,ne,be){return O.append("path").attr("class","zoombox-corners").style({fill:c.background,stroke:c.defaultLine,"stroke-width":1,opacity:0}).attr("transform",m(ne,be)).attr("d","M0,0Z")}function Ue(O,ne,be,ze,Ne,Oe){O.attr("d",ze+"M"+be.l+","+be.t+"v"+be.h+"h"+be.w+"v-"+be.h+"h-"+be.w+"Z"),Me(O,ne,Ne,Oe)}function Me(O,ne,be,ze){be||(O.transition().style("fill",ze>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ne.transition().style("opacity",1).duration(200))}function we(O){p.select(O).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function Le(O){te&&O.data&&O._context.showTips&&(T.notifier(T._(O,"Double-click to zoom back out"),"long"),te=!1)}function X(O){var ne=Math.floor(Math.min(O.b-O.t,O.r-O.l,W)/2);return"M"+(O.l-3.5)+","+(O.t-.5+ne)+"h3v"+-ne+"h"+ne+"v-3h-"+(ne+3)+"ZM"+(O.r+3.5)+","+(O.t-.5+ne)+"h-3v"+-ne+"h"+-ne+"v-3h"+(ne+3)+"ZM"+(O.r+3.5)+","+(O.b+.5-ne)+"h-3v"+ne+"h"+-ne+"v3h"+(ne+3)+"ZM"+(O.l-3.5)+","+(O.b+.5-ne)+"h3v"+ne+"h"+ne+"v3h-"+(ne+3)+"Z"}function j(O,ne,be,ze,Ne){for(var Ve,Pe,Je,Xe,Oe=!1,Be={},Te={},Ge=(Ne||{}).xaHash,st=(Ne||{}).yaHash,wt=0;wt<ne.length;wt++){var kt=ne[wt];for(Ve in be)if(kt[Ve]){for(Je in kt)(!Ne||!Ge[Je]&&!st[Je])&&!("x"===Je.charAt(0)?be:ze)[Je]&&(Be[Je]=Ve);for(Pe in ze)(!Ne||!Ge[Pe]&&!st[Pe])&&kt[Pe]&&(Oe=!0)}for(Pe in ze)if(kt[Pe])for(Xe in kt)(!Ne||!Ge[Xe]&&!st[Xe])&&!("x"===Xe.charAt(0)?be:ze)[Xe]&&(Te[Xe]=Pe)}Oe&&(T.extendFlat(Be,Te),Te={});var At={},Qt=[];for(Je in Be){var nn=V(O,Je);Qt.push(nn),At[nn._id]=nn}var Ut={},Lt=[];for(Xe in Te){var Xt=V(O,Xe);Lt.push(Xt),Ut[Xt._id]=Xt}return{xaHash:At,yaHash:Ut,xaxes:Qt,yaxes:Lt,xLinks:Be,yLinks:Te,isSubplotConstrained:Oe}}function I(O,ne){if(f){var be=void 0!==O.onwheel?"wheel":"mousewheel";O._onwheel&&O.removeEventListener(be,O._onwheel),O._onwheel=ne,O.addEventListener(be,ne,{passive:!1})}else void 0!==O.onwheel?O.onwheel=ne:void 0!==O.onmousewheel?O.onmousewheel=ne:O.isAddedWheelEvent||(O.isAddedWheelEvent=!0,O.addEventListener("wheel",ne,{passive:!1}))}function ae(O){var ne=[];for(var be in O)ne.push(O[be]);return ne}ve.exports={makeDragBox:function fe(O,ne,be,ze,Ne,Oe,Be,Te){var Xe,Ge,st,wt,kt,At,Qt,nn,Ut,Lt,Xt,gt,Yt,tn,dn,rn,Ke,St,dt,Re,it,ye,De,Ve=O._fullLayout._zoomlayer,Pe=Be+Te==="nsew",Je=1===(Be+Te).length;function $e(){if(Ut=(Xe=ne.xaxis)._length,Lt=(Ge=ne.yaxis)._length,Qt=Xe._offset,nn=Ge._offset,(st={})[Xe._id]=Xe,(wt={})[Ge._id]=Ge,Be&&Te)for(var ht=ne.overlays,ut=0;ut<ht.length;ut++){var Ht=ht[ut].xaxis;st[Ht._id]=Ht;var _t=ht[ut].yaxis;wt[_t._id]=_t}kt=ae(st),At=ae(wt),Yt=G(kt,Te),tn=G(At,Be),dn=!tn&&!Yt,gt=j(O,O._fullLayout._axisMatchGroups,st,wt);var jt=(Xt=j(O,O._fullLayout._axisConstraintGroups,st,wt,gt)).isSubplotConstrained||gt.isSubplotConstrained;rn=Te||jt,Ke=Be||jt;var an=O._fullLayout;St=an._has("scattergl"),dt=an._has("splom"),Re=an._has("svg")}be+=ne.yaxis._shift,$e();var je=function pe(O,ne,be){return O?"nsew"===O?be?"":"pan"===ne?"move":"crosshair":O.toLowerCase()+"-resize":"pointer"}(tn+Yt,O._fullLayout.dragmode,Pe),Ye=Z(ne,Be+Te+"drag",je,be,ze,Ne,Oe);if(dn&&!Pe)return Ye.onmousedown=null,Ye.style.pointerEvents="none",Ye;var yt,ct,Et,hn,Tn,Rn,Gn,Yn,Kt,Wn,at={element:Ye,gd:O,plotinfo:ne};function Rt(){at.plotinfo.selection=!1,$(O)}function tt(ht,ut){var Ht=at.gd;if(Ht._fullLayout._activeShapeIndex>=0)Ht._fullLayout._deactivateShape(Ht);else{var _t=Ht._fullLayout.clickmode;if(we(Ht),2===ht&&!Je&&function de(){if(!O._transitioningWithDuration){var ht=O._context.doubleClick,ut=[];Yt&&(ut=ut.concat(kt)),tn&&(ut=ut.concat(At)),gt.xaxes&&(ut=ut.concat(gt.xaxes)),gt.yaxes&&(ut=ut.concat(gt.yaxes));var _t,jt,Ht={};if("reset+autosize"===ht)for(ht="autosize",jt=0;jt<ut.length;jt++){var an=(_t=ut[jt])._rangeInitial0,vn=_t._rangeInitial1,Nt=void 0!==an||void 0!==vn;if(Nt&&(void 0!==an&&an!==_t.range[0]||void 0!==vn&&vn!==_t.range[1])||!Nt&&!0!==_t.autorange){ht="reset";break}}if("autosize"===ht)for(jt=0;jt<ut.length;jt++)(_t=ut[jt]).fixedrange||(Ht[_t._name+".autorange"]=!0);else if("reset"===ht)for((Yt||Xt.isSubplotConstrained)&&(ut=ut.concat(Xt.xaxes)),tn&&!Xt.isSubplotConstrained&&(ut=ut.concat(Xt.yaxes)),Xt.isSubplotConstrained&&(Yt?tn||(ut=ut.concat(At)):ut=ut.concat(kt)),jt=0;jt<ut.length;jt++)if(!(_t=ut[jt]).fixedrange){var un=_t._name,sn=_t._autorangeInitial;void 0===_t._rangeInitial0&&void 0===_t._rangeInitial1?Ht[un+".autorange"]=!0:void 0===_t._rangeInitial0?(Ht[un+".autorange"]=sn,Ht[un+".range"]=[null,_t._rangeInitial1]):void 0===_t._rangeInitial1?(Ht[un+".range"]=[_t._rangeInitial0,null],Ht[un+".autorange"]=sn):Ht[un+".range"]=[_t._rangeInitial0,_t._rangeInitial1]}O.emit("plotly_doubleclick",null),y.call("_guiRelayout",O,Ht)}}(),Pe)_t.indexOf("select")>-1&&Q(ut,Ht,kt,At,ne.id,at),_t.indexOf("event")>-1&&_.click(Ht,ut,ne.id);else if(1===ht&&Je){var jt=Be?Ge:Xe,an="s"===Be||"w"===Te?0:1,vn=jt._name+".range["+an+"]",Nt=function q(O,ne){var Ne,be=O.range[ne],ze=Math.abs(be-O.range[1-ne]);return"date"===O.type?be:"log"===O.type?(Ne=Math.ceil(Math.max(0,-Math.log(ze)/Math.LN10))+3,v("."+Ne+"g")(Math.pow(10,be))):(Ne=Math.floor(Math.log(Math.abs(be))/Math.LN10)-Math.floor(Math.log(ze)/Math.LN10)+4,v("."+String(Ne)+"g")(be))}(jt,an),un="left",sn="middle";if(jt.fixedrange)return;Be?(sn="n"===Be?"top":"bottom","right"===jt.side&&(un="right")):"e"===Te&&(un="right"),Ht._context.showAxisRangeEntryBoxes&&p.select(Ye).call(h.makeEditable,{gd:Ht,immediate:!0,background:Ht._fullLayout.paper_bgcolor,text:String(Nt),fill:jt.tickfont?jt.tickfont.color:"#444",horizontalAlign:un,verticalAlign:sn}).on("edit",function(Jt){var Mn=jt.d2r(Jt);void 0!==Mn&&y.call("_guiRelayout",Ht,vn,Mn)})}}}function Vn(ht,ut){if(O._transitioningWithDuration)return!1;var Ht=Math.max(0,Math.min(Ut,ye*ht+yt)),_t=Math.max(0,Math.min(Lt,De*ut+ct)),jt=Math.abs(Ht-yt),an=Math.abs(_t-ct);function vn(){Gn="",Et.r=Et.l,Et.t=Et.b,Kt.attr("d","M0,0Z")}if(Et.l=Math.min(yt,Ht),Et.r=Math.max(yt,Ht),Et.t=Math.min(ct,_t),Et.b=Math.max(ct,_t),Xt.isSubplotConstrained)jt>W||an>W?(Gn="xy",jt/Ut>an/Lt?(an=jt*Lt/Ut,ct>_t?Et.t=ct-an:Et.b=ct+an):(jt=an*Ut/Lt,yt>Ht?Et.l=yt-jt:Et.r=yt+jt),Kt.attr("d",X(Et))):vn();else if(gt.isSubplotConstrained)if(jt>W||an>W){Gn="xy";var Nt=Math.min(Et.l/Ut,(Lt-Et.b)/Lt),un=Math.max(Et.r/Ut,(Lt-Et.t)/Lt);Et.l=Nt*Ut,Et.r=un*Ut,Et.b=(1-Nt)*Lt,Et.t=(1-un)*Lt,Kt.attr("d",X(Et))}else vn();else!tn||an<Math.min(Math.max(.6*jt,J),W)?jt<J||!Yt?vn():(Et.t=0,Et.b=Lt,Gn="x",Kt.attr("d",function B(O,ne){return"M"+(O.l-.5)+","+(ne-W-.5)+"h-3v"+(2*W+1)+"h3ZM"+(O.r+.5)+","+(ne-W-.5)+"h3v"+(2*W+1)+"h-3Z"}(Et,ct))):!Yt||jt<Math.min(.6*an,W)?(Et.l=0,Et.r=Ut,Gn="y",Kt.attr("d",function P(O,ne){return"M"+(ne-W-.5)+","+(O.t-.5)+"v-3h"+(2*W+1)+"v3ZM"+(ne-W-.5)+","+(O.b+.5)+"v3h"+(2*W+1)+"v-3Z"}(Et,yt))):(Gn="xy",Kt.attr("d",X(Et)));Et.w=Et.r-Et.l,Et.h=Et.b-Et.t,Gn&&(Wn=!0),O._dragged=Wn,Ue(Yn,Kt,Et,Tn,Rn,hn),Zn(),O.emit("plotly_relayouting",it),Rn=!0}function Zn(){it={},("xy"===Gn||"x"===Gn)&&(ie(kt,Et.l/Ut,Et.r/Ut,it,Xt.xaxes),Fn("x",it)),("xy"===Gn||"y"===Gn)&&(ie(At,(Lt-Et.b)/Lt,(Lt-Et.t)/Lt,it,Xt.yaxes),Fn("y",it))}function bn(){Zn(),we(O),lt(),Le(O)}at.prepFn=function(ht,ut,Ht){var _t=at.dragmode,jt=O._fullLayout.dragmode;jt!==_t&&(at.dragmode=jt),$e(),ye=O._fullLayout._invScaleX,De=O._fullLayout._invScaleY,dn||(Pe?ht.shiftKey?"pan"===jt?jt="zoom":S(jt)||(jt="pan"):ht.ctrlKey&&(jt="pan"):jt="pan"),at.minDrag=E(jt)?1:void 0,S(jt)?(at.xaxes=kt,at.yaxes=At,Y(ht,ut,Ht,at,jt)):(at.clickFn=tt,S(_t)&&Rt(),dn||("zoom"===jt?(at.moveFn=Vn,at.doneFn=bn,at.minDrag=1,function kn(ht,ut,Ht){var _t=Ye.getBoundingClientRect();yt=ut-_t.left,ct=Ht-_t.top,O._fullLayout._calcInverseTransform(O);var jt=T.apply3DTransform(O._fullLayout._invTransform)(yt,ct);Et={l:yt=jt[0],r:yt,w:0,t:ct=jt[1],b:ct,h:0},hn=O._hmpixcount?O._hmlumcount/O._hmpixcount:g(O._fullLayout.plot_bgcolor).getLuminance(),Rn=!1,Gn="xy",Wn=!1,Yn=He(Ve,hn,Qt,nn,Tn="M0,0H"+Ut+"V"+Lt+"H0V0"),Kt=ke(Ve,Qt,nn)}(0,ut,Ht)):"pan"===jt&&(at.moveFn=vr,at.doneFn=lt))),O._fullLayout._redrag=function(){var an=O._dragdata;an&&an.element===Ye&&(S(O._fullLayout.dragmode)||($e(),ot([0,0,Ut,Lt]),at.moveFn(an.dx,an.dy)))}},w.init(at);var Zt=[0,0,Ut,Lt],Nn=null,An=F.REDRAWDELAY,$n=ne.mainplot?O._fullLayout._plots[ne.mainplot]:ne;function vr(ht,ut){if(ht*=ye,ut*=De,!O._transitioningWithDuration){if(O._fullLayout._replotting=!0,"ew"===Yt||"ns"===tn){var Ht=Yt?-ht:0,_t=tn?-ut:0;if(gt.isSubplotConstrained){if(Yt&&tn){var jt=(ht/Ut-ut/Lt)/2;Ht=-(ht=jt*Ut),_t=-(ut=-jt*Lt)}tn?Ht=-_t*Ut/Lt:_t=-Ht*Lt/Ut}return Yt&&(ue(kt,ht),Fn("x")),tn&&(ue(At,ut),Fn("y")),ot([Ht,_t,Ut,Lt]),ge(),void O.emit("plotly_relayouting",it)}var un,sn,vn="w"===Yt==("n"===tn)?1:-1;if(Yt&&tn&&(Xt.isSubplotConstrained||gt.isSubplotConstrained)){var Nt=(ht/Ut+vn*ut/Lt)/2;ht=Nt*Ut,ut=vn*Nt*Lt}if("w"===Yt?ht=an(kt,0,ht):"e"===Yt?ht=an(kt,1,-ht):Yt||(ht=0),"n"===tn?ut=an(At,1,ut):"s"===tn?ut=an(At,0,-ut):tn||(ut=0),un="w"===Yt?ht:0,sn="n"===tn?ut:0,Xt.isSubplotConstrained&&!gt.isSubplotConstrained||gt.isSubplotConstrained&&Yt&&tn&&vn>0){var Jt;if(gt.isSubplotConstrained||!Yt&&1===tn.length){for(Jt=0;Jt<kt.length;Jt++)kt[Jt].range=kt[Jt]._r.slice(),se(kt[Jt],1-ut/Lt);un=(ht=ut*Ut/Lt)/2}if(gt.isSubplotConstrained||!tn&&1===Yt.length){for(Jt=0;Jt<At.length;Jt++)At[Jt].range=At[Jt]._r.slice(),se(At[Jt],1-ht/Ut);sn=(ut=ht*Lt/Ut)/2}}(!gt.isSubplotConstrained||!tn)&&Fn("x"),(!gt.isSubplotConstrained||!Yt)&&Fn("y");var Mn=Ut-ht,zn=Lt-ut;gt.isSubplotConstrained&&!(Yt&&tn)&&(Yt?(sn=un?0:ht*Lt/Ut,zn=Mn*Lt/Ut):(un=sn?0:ut*Ut/Lt,Mn=zn*Ut/Lt)),ot([un,sn,Mn,zn]),ge(),O.emit("plotly_relayouting",it)}function an(Pn,xn,wn){for(var gr,Cr,Xn=1-xn,ci=0;ci<Pn.length;ci++){var Mr=Pn[ci];if(!Mr.fixedrange){gr=Mr,Cr=Mr._rl[Xn]+(Mr._rl[xn]-Mr._rl[Xn])/le(wn/Mr._length);var Hr=Mr.l2r(Cr);!1!==Hr&&void 0!==Hr&&(Mr.range[xn]=Hr)}}return gr._length*(gr._rl[xn]-Cr)/(gr._rl[xn]-gr._rl[Xn])}}function Fn(ht,ut){for(var Ht=gt.isSubplotConstrained?{x:At,y:kt}[ht]:gt[ht+"axes"],_t=gt.isSubplotConstrained?{x:kt,y:At}[ht]:[],jt=0;jt<Ht.length;jt++){var an=Ht[jt],vn=an._id,Nt=gt.xLinks[vn]||gt.yLinks[vn],un=_t[0]||st[Nt]||wt[Nt];un&&(ut?(ut[an._name+".range[0]"]=ut[un._name+".range[0]"],ut[an._name+".range[1]"]=ut[un._name+".range[1]"]):an.range=un.range.slice())}}function ge(){var ut,ht=[];function Ht(vn){for(ut=0;ut<vn.length;ut++)vn[ut].fixedrange||ht.push(vn[ut]._id)}function _t(vn,Nt){for(ut=0;ut<vn.length;ut++){var un=vn[ut],sn=un[Nt];!un.fixedrange&&"sync"===sn.tickmode&&ht.push(sn._id)}}for(rn&&(Ht(kt),Ht(Xt.xaxes),Ht(gt.xaxes),_t(ne.overlays,"xaxis")),Ke&&(Ht(At),Ht(Xt.yaxes),Ht(gt.yaxes),_t(ne.overlays,"yaxis")),it={},ut=0;ut<ht.length;ut++){var an=V(O,ht[ut]);L.drawOne(O,an,{skipTitle:!0}),it[an._name+".range[0]"]=an.range[0],it[an._name+".range[1]"]=an.range[1]}L.redrawComponents(O,ht)}function lt(){ot([0,0,Ut,Lt]),T.syncOrAsync([N.previousPromises,function(){O._fullLayout._replotting=!1,y.call("_guiRelayout",O,it)}],O)}function ot(ht){var jt,an,vn,Nt,ut=O._fullLayout,Ht=ut._plots,_t=ut._subplots.cartesian;if(dt&&y.subplotsRegistry.splom.drag(O),St)for(jt=0;jt<_t.length;jt++)if(vn=(an=Ht[_t[jt]]).xaxis,Nt=an.yaxis,an._scene){var un=T.simpleMap(vn.range,vn.r2l),sn=T.simpleMap(Nt.range,Nt.r2l);vn.limitRange&&vn.limitRange(),Nt.limitRange&&Nt.limitRange(),an._scene.update({range:[(un=vn.range)[0],(sn=Nt.range)[0],un[1],sn[1]]})}if((dt||St)&&(H(O),b(O)),Re){var Jt=ht[2]/Xe._length,Mn=ht[3]/Ge._length;for(jt=0;jt<_t.length;jt++){vn=(an=Ht[_t[jt]]).xaxis,Nt=an.yaxis;var xn,wn,Xn,gr,Pn=(Ke||gt.isSubplotConstrained)&&!Nt.fixedrange&&wt[Nt._id];if((rn||gt.isSubplotConstrained)&&!vn.fixedrange&&st[vn._id]?(xn=Jt,Xn=Te||gt.isSubplotConstrained?ht[0]:Tt(vn,xn)):gt.xaHash[vn._id]?(xn=Jt,Xn=ht[0]*vn._length/Xe._length):gt.yaHash[vn._id]?(xn=Mn,Xn="ns"===tn?-ht[1]*vn._length/Ge._length:Tt(vn,xn,{n:"top",s:"bottom"}[tn])):Xn=mt(vn,xn=pt(vn,Jt,Mn)),xn>1&&(void 0!==vn.maxallowed&&rn===(vn.range[0]<vn.range[1]?"e":"w")||void 0!==vn.minallowed&&rn===(vn.range[0]<vn.range[1]?"w":"e"))&&(xn=1,Xn=0),Pn?(wn=Mn,gr=Be||gt.isSubplotConstrained?ht[1]:Tt(Nt,wn)):gt.yaHash[Nt._id]?(wn=Mn,gr=ht[1]*Nt._length/Ge._length):gt.xaHash[Nt._id]?(wn=Jt,gr="ew"===Yt?-ht[0]*Nt._length/Xe._length:Tt(Nt,wn,{e:"right",w:"left"}[Yt])):gr=mt(Nt,wn=pt(Nt,Jt,Mn)),wn>1&&(void 0!==Nt.maxallowed&&Ke===(Nt.range[0]<Nt.range[1]?"n":"s")||void 0!==Nt.minallowed&&Ke===(Nt.range[0]<Nt.range[1]?"s":"n"))&&(wn=1,gr=0),xn||wn){xn||(xn=1),wn||(wn=1);var Cr=vn._offset-Xn/xn,ci=Nt._offset-gr/wn;an.clipRect.call(C.setTranslate,Xn,gr).call(C.setScale,xn,wn),an.plot.call(C.setTranslate,Cr,ci).call(C.setScale,1/xn,1/wn),(xn!==an.xScaleFactor||wn!==an.yScaleFactor)&&(C.setPointGroupScale(an.zoomScalePts,xn,wn),C.setTextPointsScale(an.zoomScaleTxt,xn,wn)),C.hideOutsideRangePoints(an.clipOnAxisFalseTraces,an),an.xScaleFactor=xn,an.yScaleFactor=wn}}}}function pt(ht,ut,Ht){return ht.fixedrange?0:rn&&Xt.xaHash[ht._id]?ut:Ke&&(Xt.isSubplotConstrained?Xt.xaHash:Xt.yaHash)[ht._id]?Ht:0}function mt(ht,ut){return ut?(ht.range=ht._r.slice(),se(ht,ut),Tt(ht,ut)):0}function Tt(ht,ut,Ht){return ht._length*(1-ut)*x[Ht||ht.constraintoward||"middle"]}return Be.length*Te.length!=1&&I(Ye,function dr(ht){if(O._context._scrollZoom.cartesian||O._fullLayout._enablescrollzoom){if(Rt(),O._transitioningWithDuration)return ht.preventDefault(),void ht.stopPropagation();$e(),clearTimeout(Nn);var ut=-ht.deltaY;if(isFinite(ut)||(ut=ht.wheelDelta/10),isFinite(ut)){var vn,Ht=Math.exp(-Math.min(Math.max(ut,-20),20)/200),_t=$n.draglayer.select(".nsewdrag").node().getBoundingClientRect(),jt=(ht.clientX-_t.left)/_t.width,an=(_t.bottom-ht.clientY)/_t.height;if(rn){for(Te||(jt=.5),vn=0;vn<kt.length;vn++)Nt(kt[vn],jt,Ht);Fn("x"),Zt[2]*=Ht,Zt[0]+=Zt[2]*jt*(1/Ht-1)}if(Ke){for(Be||(an=.5),vn=0;vn<At.length;vn++)Nt(At[vn],an,Ht);Fn("y"),Zt[3]*=Ht,Zt[1]+=Zt[3]*(1-an)*(1/Ht-1)}ot(Zt),ge(),O.emit("plotly_relayouting",it),Nn=setTimeout(function(){O._fullLayout&&(Zt=[0,0,Ut,Lt],lt())},An),ht.preventDefault()}else T.log("Did not find wheel motion attributes: ",ht)}function Nt(un,sn,Jt){if(!un.fixedrange){var Mn=T.simpleMap(un.range,un.r2l),zn=Mn[0]+(Mn[1]-Mn[0])*sn;un.range=Mn.map(function Pn(xn){return un.l2r(zn+(xn-zn)*Jt)})}}}),Ye},makeDragger:me,makeRectDragger:Z,makeZoombox:He,makeCorners:ke,updateZoombox:Ue,xyCorners:X,transitionZoombox:Me,removeZoombox:we,showDoubleClickNotifier:Le,attachWheelEventHandler:I}},2464:function(ve,K,o){"use strict";var p=o(3428),T=o(3024),v=o(6476),g=o(3972),f=o(1184).makeDragBox,y=o(3816).DRAGGERSIZE;K.initInteractions=function(h){var c=h._fullLayout;if(h._context.staticPlot)p.select(h).selectAll(".drag").remove();else if(c._has("cartesian")||c._has("splom")){Object.keys(c._plots||{}).sort(function(L,D){if((c._plots[L].mainplot&&!0)===(c._plots[D].mainplot&&!0)){var w=L.split("y"),z=D.split("y");return w[0]===z[0]?Number(w[1]||1)-Number(z[1]||1):Number(w[0]||1)-Number(z[0]||1)}return c._plots[L].mainplot?1:-1}).forEach(function(L){var D=c._plots[L],w=D.xaxis,z=D.yaxis;if(!D.mainplot){var S=f(h,D,w._offset,z._offset,w._length,z._length,"ns","ew");S.onmousemove=function(H){h._fullLayout._rehover=function(){h._fullLayout._hoversubplot===L&&h._fullLayout._plots[L]&&T.hover(h,H,L)},T.hover(h,H,L),h._fullLayout._lasthover=S,h._fullLayout._hoversubplot=L},S.onmouseout=function(H){h._dragging||(h._fullLayout._hoversubplot=null,v.unhover(h,H))},h._context.showAxisDragHandles&&(f(h,D,w._offset-y,z._offset-y,y,y,"n","w"),f(h,D,w._offset+w._length,z._offset-y,y,y,"n","e"),f(h,D,w._offset-y,z._offset+z._length,y,y,"s","w"),f(h,D,w._offset+w._length,z._offset+z._length,y,y,"s","e"))}if(h._context.showAxisDragHandles){if(L===w._mainSubplot){var E=w._mainLinePosition;"top"===w.side&&(E-=y),f(h,D,w._offset+.1*w._length,E,.8*w._length,y,"","ew"),f(h,D,w._offset,E,.1*w._length,y,"","w"),f(h,D,w._offset+.9*w._length,E,.1*w._length,y,"","e")}if(L===z._mainSubplot){var x=z._mainLinePosition;"right"!==z.side&&(x-=y),f(h,D,x,z._offset+.1*z._length,y,.8*z._length,"ns",""),f(h,D,x,z._offset+.9*z._length,y,.1*z._length,"s",""),f(h,D,x,z._offset,y,.1*z._length,"n","")}}});var _=c._hoverlayer.node();_.onmousemove=function(L){L.target=h._fullLayout._lasthover,T.hover(h,L,c._hoversubplot)},_.onclick=function(L){L.target=h._fullLayout._lasthover,T.click(h,L)},_.onmousedown=function(L){h._fullLayout._lasthover.onmousedown(L)},K.updateFx(h)}},K.updateFx=function(m){var h=m._fullLayout;g(h._draggers,"pan"===h.dragmode?"move":"crosshair")}},6632:function(ve,K,o){"use strict";var p=o(4040),T=o(3400),v=o(9811);ve.exports=function(f){return function(m,h){var c=m[f];if(Array.isArray(c))for(var C=p.subplotsRegistry.cartesian,_=C.idRegex,L=h._subplots,D=L.xaxis,w=L.yaxis,z=L.cartesian,S=h._has("cartesian")||h._has("gl2d"),E=0;E<c.length;E++){var x=c[E];if(T.isPlainObject(x)){var H=v.cleanId(x.xref,"x",!1),b=v.cleanId(x.yref,"y",!1),N=_.x.test(H),V=_.y.test(b);if(N||V){S||T.pushUnique(h._basePlotModules,C);var Y=!1;N&&-1===D.indexOf(H)&&(D.push(H),Y=!0),V&&-1===w.indexOf(b)&&(w.push(b),Y=!0),Y&&N&&V&&z.push(H+b)}}}}}},7952:function(ve,K,o){"use strict";var p=o(3428),T=o(4040),v=o(3400),g=o(7316),f=o(3616),y=o(4888)._M,m=o(9811),h=o(3816),c=o(9616),C=v.ensureSingle;function _(E,x,H){return v.ensureSingle(E,x,H,function(b){b.datum(H)})}function L(E,x,H,b,N){for(var Q,se,F,V=h.traceLayerClasses,Y=E._fullLayout,$=Y._modules,J=[],W=[],te=0;te<$.length;te++){var fe=(Q=$[te]).name,me=T.modules[fe].categories;if(me.svg){var Z=Q.layerName||fe+"layer",G=Q.plot;H=(se=y(H,G))[1],(F=se[0]).length&&J.push({i:V.indexOf(Z),className:Z,plotMethod:G,cdModule:F}),me.zoomScale&&W.push("."+Z)}}J.sort(function(ue,le){return ue.i-le.i});var q=x.plot.selectAll("g.mlayer").data(J,function(ue){return ue.className});if(q.enter().append("g").attr("class",function(ue){return ue.className}).classed("mlayer",!0).classed("rangeplot",x.isRangePlot),q.exit().remove(),q.order(),q.each(function(ue){var le=p.select(this),pe=ue.className;ue.plotMethod(E,x,ue.cdModule,le,b,N),-1===h.clipOnAxisFalseQuery.indexOf("."+pe)&&f.setClipUrl(le,x.layerClipId,E)}),Y._has("scattergl")&&(Q=T.getModule("scattergl"),F=y(H,Q)[0],Q.plot(E,x,F)),!E._context.staticPlot&&(x._hasClipOnAxisFalse&&(x.clipOnAxisFalseTraces=x.plot.selectAll(h.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),W.length)){var ie=x.plot.selectAll(W.join(",")).selectAll(".trace");x.zoomScalePts=ie.selectAll("path.point"),x.zoomScaleTxt=ie.selectAll(".textpoint")}}function w(E,x){var H=x.plotgroup,b=x.id,N=h.layerValue2layerClass[x.xaxis.layer],V=h.layerValue2layerClass[x.yaxis.layer],Y=E._fullLayout._hasOnlyLargeSploms;if(x.mainplot){var Q=x.mainplotinfo,se=Q.plotgroup,F=b+"-x",J=b+"-y";x.minorGridlayer=Q.minorGridlayer,x.gridlayer=Q.gridlayer,x.zerolinelayer=Q.zerolinelayer,C(Q.overlinesBelow,"path",F),C(Q.overlinesBelow,"path",J),C(Q.overaxesBelow,"g",F),C(Q.overaxesBelow,"g",J),x.plot=C(Q.overplot,"g",b),C(Q.overlinesAbove,"path",F),C(Q.overlinesAbove,"path",J),C(Q.overaxesAbove,"g",F),C(Q.overaxesAbove,"g",J),x.xlines=se.select(".overlines-"+N).select("."+F),x.ylines=se.select(".overlines-"+V).select("."+J),x.xaxislayer=se.select(".overaxes-"+N).select("."+F),x.yaxislayer=se.select(".overaxes-"+V).select("."+J)}else if(Y)x.xlines=C(H,"path","xlines-above"),x.ylines=C(H,"path","ylines-above"),x.xaxislayer=C(H,"g","xaxislayer-above"),x.yaxislayer=C(H,"g","yaxislayer-above");else{var $=C(H,"g","layer-subplot");x.shapelayer=C($,"g","shapelayer"),x.imagelayer=C($,"g","imagelayer"),x.minorGridlayer=C(H,"g","minor-gridlayer"),x.gridlayer=C(H,"g","gridlayer"),x.zerolinelayer=C(H,"g","zerolinelayer"),C(H,"path","xlines-below"),C(H,"path","ylines-below"),x.overlinesBelow=C(H,"g","overlines-below"),C(H,"g","xaxislayer-below"),C(H,"g","yaxislayer-below"),x.overaxesBelow=C(H,"g","overaxes-below"),x.plot=C(H,"g","plot"),x.overplot=C(H,"g","overplot"),x.xlines=C(H,"path","xlines-above"),x.ylines=C(H,"path","ylines-above"),x.overlinesAbove=C(H,"g","overlines-above"),C(H,"g","xaxislayer-above"),C(H,"g","yaxislayer-above"),x.overaxesAbove=C(H,"g","overaxes-above"),x.xlines=H.select(".xlines-"+N),x.ylines=H.select(".ylines-"+V),x.xaxislayer=H.select(".xaxislayer-"+N),x.yaxislayer=H.select(".yaxislayer-"+V)}Y||(_(x.minorGridlayer,"g",x.xaxis._id),_(x.minorGridlayer,"g",x.yaxis._id),x.minorGridlayer.selectAll("g").map(function(W){return W[0]}).sort(m.idSort),_(x.gridlayer,"g",x.xaxis._id),_(x.gridlayer,"g",x.yaxis._id),x.gridlayer.selectAll("g").map(function(W){return W[0]}).sort(m.idSort)),x.xlines.style("fill","none").classed("crisp",!0),x.ylines.style("fill","none").classed("crisp",!0)}function z(E,x){if(E){var H={};for(var b in E.each(function(Q){var se=Q[0];p.select(this).remove(),S(se,x),H[se]=!0}),x._plots)for(var V=x._plots[b].overlays||[],Y=0;Y<V.length;Y++){var $=V[Y];H[$.id]&&$.plot.selectAll(".trace").remove()}}}function S(E,x){x._draggers.selectAll("g."+E).remove(),x._defs.select("#clip"+x._uid+E+"plot").remove()}K.name="cartesian",K.attr=["xaxis","yaxis"],K.idRoot=["x","y"],K.idRegex=h.idRegex,K.attrRegex=h.attrRegex,K.attributes=o(6720),K.layoutAttributes=o(4724),K.supplyLayoutDefaults=o(7352),K.transitionAxes=o(3736),K.finalizeSubplots=function(E,x){var se,F,J,H=x._subplots,b=H.xaxis,N=H.yaxis,V=H.cartesian,Y=V.concat(H.gl2d||[]),$={},Q={};for(se=0;se<Y.length;se++){var W=Y[se].split("y");$[W[0]]=1,Q["y"+W[1]]=1}for(se=0;se<b.length;se++)$[F=b[se]]||(J=(E[m.id2name(F)]||{}).anchor,h.idRegex.y.test(J)||(J="y"),V.push(F+J),Y.push(F+J),Q[J]||(Q[J]=1,v.pushUnique(N,J)));for(se=0;se<N.length;se++)Q[J=N[se]]||(F=(E[m.id2name(J)]||{}).anchor,h.idRegex.x.test(F)||(F="x"),V.push(F+J),Y.push(F+J),$[F]||($[F]=1,v.pushUnique(b,F)));if(!Y.length){for(var te in F="",J="",E)h.attrRegex.test(te)&&("x"===te.charAt(0)?(!F||+te.substr(5)<+F.substr(5))&&(F=te):(!J||+te.substr(5)<+J.substr(5))&&(J=te));F=F?m.name2id(F):"x",J=J?m.name2id(J):"y",b.push(F),N.push(J),V.push(F+J)}},K.plot=function(E,x,H,b){var $,N=E._fullLayout,V=N._subplots.cartesian,Y=E.calcdata;if(!Array.isArray(x))for(x=[],$=0;$<Y.length;$++)x.push($);for($=0;$<V.length;$++){for(var J,Q=V[$],se=N._plots[Q],F=[],W=0;W<Y.length;W++){var te=Y[W],fe=te[0].trace;fe.xaxis+fe.yaxis===Q&&((-1!==x.indexOf(fe.index)||fe.carpet)&&(J&&J[0].trace.xaxis+J[0].trace.yaxis===Q&&-1!==["tonextx","tonexty","tonext"].indexOf(fe.fill)&&-1===F.indexOf(J)&&F.push(J),F.push(te)),J=te)}L(E,se,F,H,b)}},K.clean=function(E,x,H,b){var $,Q,se,N=b._plots||{},V=x._plots||{},Y=b._subplots||{};if(b._hasOnlyLargeSploms&&!x._hasOnlyLargeSploms)for(se in N)($=N[se]).plotgroup&&$.plotgroup.remove();var F=b._has&&b._has("gl"),J=x._has&&x._has("gl");if(F&&!J)for(se in N)($=N[se])._scene&&$._scene.destroy();if(Y.xaxis&&Y.yaxis){var W=m.listIds({_fullLayout:b});for(Q=0;Q<W.length;Q++){var te=W[Q];x[m.id2name(te)]||b._infolayer.selectAll(".g-"+te+"title").remove()}}var fe=b._has&&b._has("cartesian"),me=x._has&&x._has("cartesian");if(fe&&!me)z(b._cartesianlayer.selectAll(".subplot"),b),b._defs.selectAll(".axesclip").remove(),delete b._axisConstraintGroups,delete b._axisMatchGroups;else if(Y.cartesian)for(Q=0;Q<Y.cartesian.length;Q++){var Z=Y.cartesian[Q];V[Z]||(b._cartesianlayer.selectAll("."+Z+",."+Z+"-x,."+Z+"-y").remove(),S(Z,b))}},K.drawFramework=function(E){var x=E._fullLayout,H=function D(E){var N,V,Y,$,Q,se,x=E._fullLayout,H=x._subplots.cartesian,b=H.length,F=[],J=[];for(N=0;N<b;N++){var fe=(Q=($=x._plots[Y=H[N]]).xaxis)._mainAxis._id+(se=$.yaxis)._mainAxis._id,me=x._plots[fe];$.overlays=[],fe!==Y&&me?($.mainplot=fe,$.mainplotinfo=me,J.push(Y)):($.mainplot=void 0,$.mainplotinfo=void 0,F.push(Y))}for(N=0;N<J.length;N++)($=x._plots[Y=J[N]]).mainplotinfo.overlays.push($);var Z=F.concat(J),G=new Array(b);for(N=0;N<b;N++){var q=[Y=Z[N],(Q=($=x._plots[Y]).xaxis).layer,(se=$.yaxis).layer,Q.overlaying||"",se.overlaying||""];for(V=0;V<$.overlays.length;V++)q.push($.overlays[V].id);G[N]=q}return G}(E),b=x._cartesianlayer.selectAll(".subplot").data(H,String);b.enter().append("g").attr("class",function(N){return"subplot "+N[0]}),b.order(),b.exit().call(z,x),b.each(function(N){var V=N[0],Y=x._plots[V];Y.plotgroup=p.select(this),w(E,Y),Y.draglayer=C(x._draggers,"g",V)})},K.rangePlot=function(E,x,H){w(E,x),L(E,x,H),g.style(E)},K.toSVG=function(E){var x=E._fullLayout._glimages,H=p.select(E).selectAll(".svg-container");H.filter(function(V,Y){return Y===H.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function N(){var V=this,Y=V.toDataURL("image/png");x.append("svg:image").attr({xmlns:c.svg,"xlink:href":Y,preserveAspectRatio:"none",x:0,y:0,width:V.style.width,height:V.style.height})})},K.updateFx=o(2464).updateFx},4724:function(ve,K,o){"use strict";var p=o(5376),T=o(2548),v=o(8192).u,g=o(2880).extendFlat,f=o(1780).templatedArray,y=o(9736).descriptionWithDates,m=o(9032).ONEDAY,h=o(3816),c=h.HOUR_PATTERN,C=h.WEEKDAY_PATTERN,_={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},L=g({},_,{values:_.values.slice().concat(["sync"])});function D(Q){return{valType:"integer",min:0,dflt:Q?5:0,editType:"ticks"}}var w={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},z={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},S={valType:"data_array",editType:"ticks"},E={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function x(Q){var se={valType:"number",min:0,editType:"ticks"};return Q||(se.dflt=5),se}function H(Q){var se={valType:"number",min:0,editType:"ticks"};return Q||(se.dflt=1),se}var b={valType:"color",dflt:T.defaultLine,editType:"ticks"},N={valType:"color",dflt:T.lightLine,editType:"ticks"};function V(Q){var se={valType:"number",min:0,editType:"ticks"};return Q||(se.dflt=1),se}var Y=g({},v,{editType:"ticks"}),$={valType:"boolean",editType:"ticks"};ve.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:T.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:p({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[h.idRegex.x.toString(),h.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[h.idRegex.x.toString(),h.idRegex.y.toString()],editType:"calc"},rangebreaks:f("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[C,c,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:m},editType:"calc"}),tickmode:L,nticks:D(),tick0:w,dtick:z,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:S,ticktext:{valType:"data_array",editType:"ticks"},ticks:E,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:x(),tickwidth:H(),tickcolor:b,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:g({},v,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:p({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:y("tick label")},tickformatstops:f("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:y("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:T.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:$,gridcolor:N,gridwidth:V(),griddash:Y,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:T.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:T.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",h.idRegex.x.toString(),h.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",h.idRegex.x.toString(),h.idRegex.y.toString()],editType:"plot"},minor:{tickmode:_,nticks:D("minor"),tick0:w,dtick:z,tickvals:S,ticks:E,ticklen:x("minor"),tickwidth:H("minor"),tickcolor:b,gridcolor:N,gridwidth:V("minor"),griddash:Y,showgrid:$,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:p({editType:"ticks"})}}},7352:function(ve,K,o){"use strict";var p=o(3400),T=o(6308),v=o(624).isUnifiedHover,g=o(1008),f=o(1780),y=o(4859),m=o(4724),h=o(4944),c=o(5955),C=o(1888),_=o(7668),L=o(9811),D=L.id2name,w=L.name2id,z=o(3816).AX_ID_PATTERN,S=o(4040),E=S.traceIs,x=S.getComponentMethod;function H(b,N,V){Array.isArray(b[N])?b[N].push(V):b[N]=[V]}ve.exports=function(N,V,Y){var q,ie,$=V.autotypenumbers,Q={},se={},F={},J={},W={},te={},fe={},me={},Z={},G={};for(q=0;q<Y.length;q++){var ue=Y[q];if(E(ue,"cartesian")||E(ue,"gl2d")){var le,pe;if(ue.xaxis)le=D(ue.xaxis),H(Q,le,ue);else if(ue.xaxes)for(ie=0;ie<ue.xaxes.length;ie++)H(Q,D(ue.xaxes[ie]),ue);if(ue.yaxis)pe=D(ue.yaxis),H(Q,pe,ue);else if(ue.yaxes)for(ie=0;ie<ue.yaxes.length;ie++)H(Q,D(ue.yaxes[ie]),ue);"funnel"===ue.type?"h"===ue.orientation?(le&&(se[le]=!0),pe&&(fe[pe]=!0)):pe&&(F[pe]=!0):"image"===ue.type?(pe&&(me[pe]=!0),le&&(me[le]=!0)):(pe&&(W[pe]=!0,te[pe]=!0),(!E(ue,"carpet")||"carpet"===ue.type&&!ue._cheater)&&le&&(J[le]=!0)),"carpet"===ue.type&&ue._cheater&&le&&(se[le]=!0),E(ue,"2dMap")&&(Z[le]=!0,Z[pe]=!0),E(ue,"oriented")&&(G["h"===ue.orientation?pe:le]=!0)}}var ke=V._subplots,Ue=ke.xaxis,Me=ke.yaxis,we=p.simpleMap(Ue,D),Le=p.simpleMap(Me,D),B=we.concat(Le),P=T.background;Ue.length&&Me.length&&(P=p.coerce(N,V,y,"plot_bgcolor"));var j,I,ae,O,ne,X=T.combine(P,V.paper_bgcolor);function be(){ne._traceIndices=(Q[j]||[]).map(function(De){return De._expandedIndex}),ne._annIndices=[],ne._shapeIndices=[],ne._selectionIndices=[],ne._imgIndices=[],ne._subplotsWith=[],ne._counterAxes=[],ne._name=ne._attr=j,ne._id=I}function ze(ye,De){return p.coerce(O,ne,m,ye,De)}function Ne(ye,De){return p.coerce2(O,ne,m,ye,De)}function Oe(ye){return"x"===ye?Me:Ue}function Be(ye,De){for(var $e="x"===ye?we:Le,je=[],Ye=0;Ye<$e.length;Ye++){var at=$e[Ye];at!==De&&!(N[at]||{}).overlaying&&je.push(w(at))}return je}var Te={x:Oe("x"),y:Oe("y")},Ve=Te.x.concat(Te.y),Pe={},Je=[];function Xe(){var ye=O.matches;z.test(ye)&&-1===Ve.indexOf(ye)&&(Pe[ye]=O.type,Je=Object.keys(Pe))}var Ge=g(N,V),st=v(Ge);for(q=0;q<B.length;q++){I=w(j=B[q]),ae=j.charAt(0),p.isPlainObject(N[j])||(N[j]={}),O=N[j],ne=f.newContainer(V,j,ae+"axis"),be();var At={hasMinor:!0,letter:ae,font:V.font,outerTicks:Z[j],showGrid:!G[j],data:Q[j]||[],bgColor:X,calendar:V.calendar,automargin:!0,visibleDflt:"x"===ae&&!J[j]&&se[j]||"y"===ae&&!W[j]&&F[j],reverseDflt:"y"===ae&&(!te[j]&&fe[j]||me[j]),autotypenumbersDflt:$,splomStash:((V._splomAxes||{})[ae]||{})[I],noAutotickangles:"y"===ae};ze("uirevision",V.uirevision),h(O,ne,ze,At),c(O,ne,ze,At,V);var Qt=st&&ae===Ge.charAt(0),nn=Ne("spikecolor",st?ne.color:void 0),Ut=Ne("spikethickness",st?1.5:void 0),Lt=Ne("spikedash",st?"dot":void 0),Xt=Ne("spikemode",st?"across":void 0),gt=Ne("spikesnap");ze("showspikes",!!(Qt||nn||Ut||Lt||Xt||gt))||(delete ne.spikecolor,delete ne.spikethickness,delete ne.spikedash,delete ne.spikemode,delete ne.spikesnap);var tn=D(O.overlaying),dn=[0,1];if(void 0!==V[tn]){var rn=D(V[tn].anchor);void 0!==V[rn]&&(dn=V[rn].domain)}_(O,ne,ze,{letter:ae,counterAxes:Te[ae],overlayableAxes:Be(ae,j),grid:V.grid,overlayingDomain:dn}),ze("title.standoff"),Xe(),ne._input=O}for(q=0;q<Je.length;){I=Je[q++],ae=(j=D(I)).charAt(0),p.isPlainObject(N[j])||(N[j]={}),O=N[j],ne=f.newContainer(V,j,ae+"axis"),be();var Ke={letter:ae,font:V.font,outerTicks:Z[j],showGrid:!G[j],data:[],bgColor:X,calendar:V.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:$,splomStash:((V._splomAxes||{})[ae]||{})[I]};ze("uirevision",V.uirevision),ne.type=Pe[I]||"linear",c(O,ne,ze,Ke,V),_(O,ne,ze,{letter:ae,counterAxes:Te[ae],overlayableAxes:Be(ae,j),grid:V.grid}),ze("fixedrange"),Xe(),ne._input=O}var St=x("rangeslider","handleDefaults"),dt=x("rangeselector","handleDefaults");for(q=0;q<we.length;q++)O=N[j=we[q]],ne=V[j],St(N,V,j),"date"===ne.type&&dt(O,ne,V,Le,ne.calendar),ze("fixedrange");for(q=0;q<Le.length;q++){O=N[j=Le[q]];var Re=V[D((ne=V[j]).anchor)];ze("fixedrange",x("rangeslider","isVisible")(Re))}C.handleDefaults(N,V,{axIds:Ve.concat(Je).sort(L.idSort),axHasImage:me})}},2136:function(ve,K,o){"use strict";var p=o(9760).mix,T=o(2548),v=o(3400);ve.exports=function(f,y,m,h){var c=(h=h||{}).dfltColor;function C(F,J){return v.coerce2(f,y,h.attributes,F,J)}var _=C("linecolor",c),L=C("linewidth");m("showline",h.showLine||!!_||!!L)||(delete y.linecolor,delete y.linewidth);var z=C("gridcolor",p(c,h.bgColor,h.blend||T.lightFraction).toRgbString()),S=C("gridwidth"),E=C("griddash");if(m("showgrid",h.showGrid||!!z||!!S||!!E)||(delete y.gridcolor,delete y.gridwidth,delete y.griddash),h.hasMinor){var b=C("minor.gridcolor",p(y.gridcolor,h.bgColor,67).toRgbString()),N=C("minor.gridwidth",y.gridwidth||1),V=C("minor.griddash",y.griddash||"solid");m("minor.showgrid",!!b||!!N||!!V)||(delete y.minor.gridcolor,delete y.minor.gridwidth,delete y.minor.griddash)}if(!h.noZeroLine){var $=C("zerolinecolor",c),Q=C("zerolinewidth");m("zeroline",h.showGrid||!!$||!!Q)||(delete y.zerolinecolor,delete y.zerolinewidth)}}},7668:function(ve,K,o){"use strict";var p=o(8248),T=o(3400);ve.exports=function(g,f,y,m){var D,w,z,S,E,x,h=m.counterAxes||[],c=m.overlayableAxes||[],C=m.letter,_=m.grid,L=m.overlayingDomain;_&&(D=_._anchors[f._id],(w=_._domains[C][_._axisMap[f._id]])&&(z=_[C+"side"].split(" ")[0],S=_.domain[C]["right"===z||"top"===z?1:0])),w=w||[0,1],D=D||(p(g.position)?"free":h[0]||"free"),z=z||("x"===C?"bottom":"left"),S=S||0,E=0,x=!1;var H=T.coerce(g,f,{anchor:{valType:"enumerated",values:["free"].concat(h),dflt:D}},"anchor"),b=T.coerce(g,f,{side:{valType:"enumerated",values:"x"===C?["bottom","top"]:["left","right"],dflt:z}},"side");"free"===H&&("y"===C&&(y("autoshift")&&(S="left"===b?L[0]:L[1],x=!f.automargin||f.automargin,E="left"===b?-3:3),y("shift",E)),y("position",S)),y("automargin",x);var V=!1;if(c.length&&(V=T.coerce(g,f,{overlaying:{valType:"enumerated",values:[!1].concat(c),dflt:!1}},"overlaying")),!V){var Y=y("domain",w);Y[0]>Y[1]-.000244140625&&(f.domain=w),T.noneOrAll(g.domain,f.domain,w),"sync"===f.tickmode&&(f.tickmode="auto")}return y("layer"),f}},2568:function(ve,K,o){"use strict";var p=o(5024);ve.exports=function(v,g,f,y,m){m||(m={});var h=m.tickSuffixDflt,c=p(v);f("tickprefix")&&f("showtickprefix",c),f("ticksuffix",h)&&f("showticksuffix",c)}},6312:function(ve,K,o){"use strict";var p=o(6808);ve.exports=function(v,g,f,y){var h=g.type||(g._template||{}).type||"-";f("minallowed"),f("maxallowed");var C,c=f("range");c||!y.noInsiderange&&"log"!==h&&((C=f("insiderange"))&&(null===C[0]||null===C[1])&&(g.insiderange=!1,C=void 0),C&&(c=f("range",C)));var D,_=g.getAutorangeDflt(c,y),L=f("autorange",_);c&&(null===c[0]&&null===c[1]||(null===c[0]||null===c[1])&&("reversed"===L||!0===L)||null!==c[0]&&("min"===L||"max reversed"===L)||null!==c[1]&&("max"===L||"min reversed"===L))&&(c=void 0,delete g.range,g.autorange=!0,D=!0),D||(L=f("autorange",_=g.getAutorangeDflt(c,y))),L&&(p(f,L,c),("linear"===h||"-"===h)&&f("rangemode")),g.cleanRange()}},1160:function(ve,K,o){"use strict";var p=o(4284).FROM_BL;ve.exports=function(v,g,f){void 0===f&&(f=p[v.constraintoward||"center"]);var y=[v.r2l(v.range[0]),v.r2l(v.range[1])],m=y[0]+(y[1]-y[0])*f;v.range=v._input.range=[v.l2r(m+(y[0]-m)*g),v.l2r(m+(y[1]-m)*g)],v.setScale()}},8344:function(ve,K,o){"use strict";var p=o(3428),T=o(4336).E9,v=o(3400),g=v.numberFormat,f=o(8248),y=v.cleanNumber,m=v.ms2DateTime,h=v.dateTime2ms,c=v.ensureNumber,C=v.isArrayOrTypedArray,_=o(9032),L=_.FP_SAFE,D=_.BADNUM,w=_.LOG_CLIP,z=_.ONEWEEK,S=_.ONEDAY,E=_.ONEHOUR,x=_.ONEMIN,H=_.ONESEC,b=o(9811),N=o(3816),V=N.HOUR_PATTERN,Y=N.WEEKDAY_PATTERN;function $(se){return Math.pow(10,se)}function Q(se){return null!=se}ve.exports=function(F,J){J=J||{};var W=F._id||"x",te=W.charAt(0);function fe(B,P){if(B>0)return Math.log(B)/Math.LN10;if(B<=0&&P&&F.range&&2===F.range.length){var X=F.range[0],j=F.range[1];return.5*(X+j-2*w*Math.abs(X-j))}return D}function me(B,P,X,j){if((j||{}).msUTC&&f(B))return+B;var I=h(B,X||F.calendar);if(I===D){if(!f(B))return D;B=+B;var ae=Math.floor(10*v.mod(B+.05,1)),O=Math.round(B-ae/10);I=h(new Date(O))+ae/10}return I}function Z(B,P,X){return m(B,P,X||F.calendar)}function G(B){return F._categories[Math.round(B)]}function q(B){if(Q(B)){if(void 0===F._categoriesMap&&(F._categoriesMap={}),void 0!==F._categoriesMap[B])return F._categoriesMap[B];F._categories.push("number"==typeof B?String(B):B);var P=F._categories.length-1;return F._categoriesMap[B]=P,P}return D}function ue(B){if(F._categoriesMap)return F._categoriesMap[B]}function le(B){var P=ue(B);return void 0!==P?P:f(B)?+B:void 0}function pe(B){return f(B)?+B:ue(B)}function He(B,P,X){return p.round(X+P*B,2)}function ke(B,P,X){return(B-X)/P}var Ue=function(P){return f(P)?He(P,F._m,F._b):D},Me=function(B){return ke(B,F._m,F._b)};if(F.rangebreaks){var we="y"===te;Ue=function(B){if(!f(B))return D;var P=F._rangebreaks.length;if(!P)return He(B,F._m,F._b);var X=we;F.range[0]>F.range[1]&&(X=!X);for(var j=X?-1:1,I=j*B,ae=0,O=0;O<P;O++){var ne=j*F._rangebreaks[O].min,be=j*F._rangebreaks[O].max;if(I<ne)break;if(!(I>be)){ae=I<(ne+be)/2?O:O+1;break}ae=O+1}var ze=F._B[ae]||0;return isFinite(ze)?He(B,F._m2,ze):0},Me=function(B){var P=F._rangebreaks.length;if(!P)return ke(B,F._m,F._b);for(var X=0,j=0;j<P&&!(B<F._rangebreaks[j].pmin);j++)B>F._rangebreaks[j].pmax&&(X=j+1);return ke(B,F._m2,F._B[X])}}F.c2l="log"===F.type?fe:c,F.l2c="log"===F.type?$:c,F.l2p=Ue,F.p2l=Me,F.c2p="log"===F.type?function(B,P){return Ue(fe(B,P))}:Ue,F.p2c="log"===F.type?function(B){return $(Me(B))}:Me,-1!==["linear","-"].indexOf(F.type)?(F.d2r=F.r2d=F.d2c=F.r2c=F.d2l=F.r2l=y,F.c2d=F.c2r=F.l2d=F.l2r=c,F.d2p=F.r2p=function(B){return F.l2p(y(B))},F.p2d=F.p2r=Me,F.cleanPos=c):"log"===F.type?(F.d2r=F.d2l=function(B,P){return fe(y(B),P)},F.r2d=F.r2c=function(B){return $(y(B))},F.d2c=F.r2l=y,F.c2d=F.l2r=c,F.c2r=fe,F.l2d=$,F.d2p=function(B,P){return F.l2p(F.d2r(B,P))},F.p2d=function(B){return $(Me(B))},F.r2p=function(B){return F.l2p(y(B))},F.p2r=Me,F.cleanPos=c):"date"===F.type?(F.d2r=F.r2d=v.identity,F.d2c=F.r2c=F.d2l=F.r2l=me,F.c2d=F.c2r=F.l2d=F.l2r=Z,F.d2p=F.r2p=function(B,P,X){return F.l2p(me(B,0,X))},F.p2d=F.p2r=function(B,P,X){return Z(Me(B),P,X)},F.cleanPos=function(B){return v.cleanDate(B,D,F.calendar)}):"category"===F.type?(F.d2c=F.d2l=q,F.r2d=F.c2d=F.l2d=G,F.d2r=F.d2l_noadd=le,F.r2c=function(B){var P=pe(B);return void 0!==P?P:F.fraction2r(.5)},F.l2r=F.c2r=c,F.r2l=pe,F.d2p=function(B){return F.l2p(F.r2c(B))},F.p2d=function(B){return G(Me(B))},F.r2p=F.d2p,F.p2r=Me,F.cleanPos=function(B){return"string"==typeof B&&""!==B?B:c(B)}):"multicategory"===F.type&&(F.r2d=F.c2d=F.l2d=G,F.d2r=F.d2l_noadd=le,F.r2c=function(B){var P=le(B);return void 0!==P?P:F.fraction2r(.5)},F.r2c_just_indices=ue,F.l2r=F.c2r=c,F.r2l=le,F.d2p=function(B){return F.l2p(F.r2c(B))},F.p2d=function(B){return G(Me(B))},F.r2p=F.d2p,F.p2r=Me,F.cleanPos=function(B){return Array.isArray(B)||"string"==typeof B&&""!==B?B:c(B)},F.setupMultiCategory=function(B){var X,j,P=F._traceIndices,I=F._matchGroup;if(I&&0===F._categories.length)for(var ae in I)if(ae!==W){var O=J[b.id2name(ae)];P=P.concat(O._traceIndices)}var ne=[[0,{}],[0,{}]],be=[];for(X=0;X<P.length;X++){var ze=B[P[X]];if(te in ze){var Ne=ze[te],Oe=ze._length||v.minRowLength(Ne);if(C(Ne[0])&&C(Ne[1]))for(j=0;j<Oe;j++){var Be=Ne[0][j],Te=Ne[1][j];Q(Be)&&Q(Te)&&(be.push([Be,Te]),Be in ne[0][1]||(ne[0][1][Be]=ne[0][0]++),Te in ne[1][1]||(ne[1][1][Te]=ne[1][0]++))}}}for(be.sort(function(Ve,Pe){var Je=ne[0][1],Xe=Je[Ve[0]]-Je[Pe[0]];if(Xe)return Xe;var Ge=ne[1][1];return Ge[Ve[1]]-Ge[Pe[1]]}),X=0;X<be.length;X++)q(be[X])}),F.fraction2r=function(B){var P=F.r2l(F.range[0]),X=F.r2l(F.range[1]);return F.l2r(P+B*(X-P))},F.r2fraction=function(B){var P=F.r2l(F.range[0]),X=F.r2l(F.range[1]);return(F.r2l(B)-P)/(X-P)},F.limitRange=function(B){var P=F.minallowed,X=F.maxallowed;if(void 0!==P||void 0!==X){B||(B="range");var j=v.nestedProperty(F,B).get(),I=v.simpleMap(j,F.r2l),ae=I[1]<I[0];ae&&I.reverse();var O=v.simpleMap([P,X],F.r2l);if(void 0!==P&&I[0]<O[0]&&(j[ae?1:0]=P),void 0!==X&&I[1]>O[1]&&(j[ae?0:1]=X),j[0]===j[1]){var ne=F.l2r(P),be=F.l2r(X);if(void 0!==P){var ze=ne+1;void 0!==X&&(ze=Math.min(ze,be)),j[ae?1:0]=ze}if(void 0!==X){var Ne=be+1;void 0!==P&&(Ne=Math.max(Ne,ne)),j[ae?0:1]=Ne}}}},F.cleanRange=function(B,P){F._cleanRange(B,P),F.limitRange(B)},F._cleanRange=function(B,P){P||(P={}),B||(B="range");var j,I,X=v.nestedProperty(F,B).get();if(I=(I="date"===F.type?v.dfltRange(F.calendar):"y"===te?N.DFLTRANGEY:"realaxis"===F._name?[0,1]:P.dfltRange||N.DFLTRANGEX).slice(),("tozero"===F.rangemode||"nonnegative"===F.rangemode)&&(I[0]=0),X&&2===X.length){var ae=null===X[0],O=null===X[1];for("date"===F.type&&!F.autorange&&(X[0]=v.cleanDate(X[0],D,F.calendar),X[1]=v.cleanDate(X[1],D,F.calendar)),j=0;j<2;j++)if("date"===F.type){if(!v.isDateTime(X[j],F.calendar)){F[B]=I;break}if(F.r2l(X[0])===F.r2l(X[1])){var ne=v.constrain(F.r2l(X[0]),v.MIN_MS+1e3,v.MAX_MS-1e3);X[0]=F.l2r(ne-1e3),X[1]=F.l2r(ne+1e3);break}}else{if(!f(X[j])){if(ae||O||!f(X[1-j])){F[B]=I;break}X[j]=X[1-j]*(j?10:.1)}if(X[j]<-L?X[j]=-L:X[j]>L&&(X[j]=L),X[0]===X[1]){var be=Math.max(1,Math.abs(1e-6*X[0]));X[0]-=be,X[1]+=be}}}else v.nestedProperty(F,B).set(I)},F.setScale=function(B){var P=J._size;if(F.overlaying){var X=b.getFromId({_fullLayout:J},F.overlaying);F.domain=X.domain}var j=B&&F._r?"_r":"range",I=F.calendar;F.cleanRange(j);var be,ze,ae=F.r2l(F[j][0],I),O=F.r2l(F[j][1],I),ne="y"===te;if(ne?(F._offset=P.t+(1-F.domain[1])*P.h,F._length=P.h*(F.domain[1]-F.domain[0]),F._m=F._length/(ae-O),F._b=-F._m*O):(F._offset=P.l+F.domain[0]*P.w,F._length=P.w*(F.domain[1]-F.domain[0]),F._m=F._length/(O-ae),F._b=-F._m*ae),F._rangebreaks=[],F._lBreaks=0,F._m2=0,F._B=[],F.rangebreaks&&(F._rangebreaks=F.locateBreaks(Math.min(ae,O),Math.max(ae,O)),F._rangebreaks.length)){for(be=0;be<F._rangebreaks.length;be++)ze=F._rangebreaks[be],F._lBreaks+=Math.abs(ze.max-ze.min);var Ne=ne;ae>O&&(Ne=!Ne),Ne&&F._rangebreaks.reverse();var Oe=Ne?-1:1;for(F._m2=Oe*F._length/(Math.abs(O-ae)-F._lBreaks),F._B.push(-F._m2*(ne?O:ae)),be=0;be<F._rangebreaks.length;be++)F._B.push(F._B[F._B.length-1]-Oe*F._m2*((ze=F._rangebreaks[be]).max-ze.min));for(be=0;be<F._rangebreaks.length;be++)(ze=F._rangebreaks[be]).pmin=Ue(ze.min),ze.pmax=Ue(ze.max)}if(!isFinite(F._m)||!isFinite(F._b)||F._length<0)throw J._replotting=!1,new Error("Something went wrong with axis scaling")},F.maskBreaks=function(B){var X,j,I,ae,O,P=F.rangebreaks||[];P._cachedPatterns||(P._cachedPatterns=P.map(function(Je){return Je.enabled&&Je.bounds?v.simpleMap(Je.bounds,Je.pattern?y:F.d2c):null})),P._cachedValues||(P._cachedValues=P.map(function(Je){return Je.enabled&&Je.values?v.simpleMap(Je.values,F.d2c).sort(v.sorterAsc):null}));for(var ne=0;ne<P.length;ne++){var be=P[ne];if(be.enabled)if(be.bounds){switch(j=(X=P._cachedPatterns[ne])[0],I=X[1],be.pattern){case Y:ae=(O=new Date(B)).getUTCDay(),j>I&&(I+=7,ae<j&&(ae+=7));break;case V:ae=(O=new Date(B)).getUTCHours()+(O.getUTCMinutes()/60+O.getUTCSeconds()/3600+O.getUTCMilliseconds()/36e5),j>I&&(I+=24,ae<j&&(ae+=24));break;case"":ae=B}if(ae>=j&&ae<I)return D}else for(var Ve=P._cachedValues[ne],Pe=0;Pe<Ve.length;Pe++)if(I=(j=Ve[Pe])+be.dvalue,B>=j&&B<I)return D}return B},F.locateBreaks=function(B,P){var X,j,I,ae,O=[];if(!F.rangebreaks)return O;var ne=F.rangebreaks.slice().sort(function(Ge,st){return Ge.pattern===Y&&st.pattern===V?-1:st.pattern===Y&&Ge.pattern===V?1:0}),be=function(Ge,st){if((Ge=v.constrain(Ge,B,P))!==(st=v.constrain(st,B,P))){for(var wt=!0,kt=0;kt<O.length;kt++){var At=O[kt];Ge<At.max&&st>=At.min&&(Ge<At.min&&(At.min=Ge),st>At.max&&(At.max=st),wt=!1)}wt&&O.push({min:Ge,max:st})}};for(X=0;X<ne.length;X++){var ze=ne[X];if(ze.enabled)if(ze.bounds){var Ne=B,Oe=P;ze.pattern&&(Ne=Math.floor(Ne)),I=(j=v.simpleMap(ze.bounds,ze.pattern?y:F.r2l))[0],ae=j[1];var Te,Ve,Be=new Date(Ne);switch(ze.pattern){case Y:Ve=z,Te=(ae-I+(ae<I?7:0))*S,Ne+=I*S-(Be.getUTCDay()*S+Be.getUTCHours()*E+Be.getUTCMinutes()*x+Be.getUTCSeconds()*H+Be.getUTCMilliseconds());break;case V:Ve=S,Te=(ae-I+(ae<I?24:0))*E,Ne+=I*E-(Be.getUTCHours()*E+Be.getUTCMinutes()*x+Be.getUTCSeconds()*H+Be.getUTCMilliseconds());break;default:Ne=Math.min(j[0],j[1]),Te=Ve=(Oe=Math.max(j[0],j[1]))-Ne}for(var Pe=Ne;Pe<Oe;Pe+=Ve)be(Pe,Pe+Te)}else for(var Je=v.simpleMap(ze.values,F.d2c),Xe=0;Xe<Je.length;Xe++)be(I=Je[Xe],ae=I+ze.dvalue)}return O.sort(function(Ge,st){return Ge.min-st.min}),O},F.makeCalcdata=function(B,P,X){var j,I,ae,O,ne=F.type,be="date"===ne&&B[P+"calendar"];if(P in B){if(j=B[P],O=B._length||v.minRowLength(j),v.isTypedArray(j)&&("linear"===ne||"log"===ne)){if(O===j.length)return j;if(j.subarray)return j.subarray(0,O)}if("multicategory"===ne)return function ie(B,P){for(var X=new Array(P),j=0;j<P;j++)X[j]=ue([(B[0]||[])[j],(B[1]||[])[j]]);return X}(j,O);for(I=new Array(O),ae=0;ae<O;ae++)I[ae]=F.d2c(j[ae],0,be,X)}else{var ze=P+"0"in B?F.d2c(B[P+"0"],0,be):0,Ne=B["d"+P]?Number(B["d"+P]):1;for(j=B[{x:"y",y:"x"}[P]],O=B._length||j.length,I=new Array(O),ae=0;ae<O;ae++)I[ae]=ze+ae*Ne}if(F.rangebreaks)for(ae=0;ae<O;ae++)I[ae]=F.maskBreaks(I[ae]);return I},F.isValidRange=function(B,P){return Array.isArray(B)&&2===B.length&&(P&&null===B[0]||f(F.r2l(B[0])))&&(P&&null===B[1]||f(F.r2l(B[1])))},F.getAutorangeDflt=function(B,P){var X=!F.isValidRange(B,"nullOk");return X&&P&&P.reverseDflt?X="reversed":B&&(null===B[0]&&null===B[1]?X=!0:null===B[0]&&null!==B[1]?X="min":null!==B[0]&&null===B[1]&&(X="max")),X},F.isReversed=function(){var B=F.autorange;return"reversed"===B||"min reversed"===B||"max reversed"===B},F.isPtWithinRange=function(B,P){var X=F.c2l(B[te],null,P),j=F.r2l(F.range[0]),I=F.r2l(F.range[1]);return j<I?j<=X&&X<=I:I<=X&&X<=j},F._emptyCategories=function(){F._categories=[],F._categoriesMap={}},F.clearCalc=function(){var B=F._matchGroup;if(B){var P=null,X=null;for(var j in B){var I=J[b.id2name(j)];if(I._categories){P=I._categories,X=I._categoriesMap;break}}P&&X?(F._categories=P,F._categoriesMap=X):F._emptyCategories()}else F._emptyCategories();if(F._initialCategories)for(var ae=0;ae<F._initialCategories.length;ae++)q(F._initialCategories[ae])},F.sortByInitialCategories=function(){var B=[];if(F._emptyCategories(),F._initialCategories)for(var P=0;P<F._initialCategories.length;P++)q(F._initialCategories[P]);B=B.concat(F._traceIndices);var X=F._matchGroup;for(var j in X)if(W!==j){var I=J[b.id2name(j)];I._categories=F._categories,I._categoriesMap=F._categoriesMap,B=B.concat(I._traceIndices)}return B};var Le=J._d3locale;"date"===F.type&&(F._dateFormat=Le?Le.timeFormat:T,F._extraFormat=J._extraFormat),F._separators=J.separators,F._numFormat=Le?Le.numberFormat:g,delete F._minDtick,delete F._forceTick0}},5024:function(ve){"use strict";ve.exports=function(o){var T=["showexponent","showtickprefix","showticksuffix"].filter(function(g){return void 0!==o[g]});if(T.every(function(g){return o[g]===o[T[0]]})||1===T.length)return o[T[0]]}},5936:function(ve,K,o){"use strict";var p=o(3400),T=o(6308).contrast,v=o(4724),g=o(5024),f=o(1272);function y(m,h){function c(_,L){return p.coerce(m,h,v.tickformatstops,_,L)}c("enabled")&&(c("dtickrange"),c("value"))}ve.exports=function(h,c,C,_,L){L||(L={});var D=C("labelalias");p.isPlainObject(D)||delete c.labelalias;var w=g(h);if(C("showticklabels")){var S=L.font||{},E=c.color,H=-1!==(c.ticklabelposition||"").indexOf("inside")?T(L.bgColor):E&&E!==v.color.dflt?E:S.color;if(p.coerceFont(C,"tickfont",{family:S.family,size:S.size,color:H}),!L.noTicklabelstep&&"multicategory"!==_&&"log"!==_&&C("ticklabelstep"),!L.noAng){var b=C("tickangle");!L.noAutotickangles&&"auto"===b&&C("autotickangles")}if("category"!==_){var N=C("tickformat");f(h,c,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:y}),c.tickformatstops.length||delete c.tickformatstops,!L.noExp&&!N&&"date"!==_&&(C("showexponent",w),C("exponentformat"),C("minexponent"),C("separatethousands"))}}}},5404:function(ve,K,o){"use strict";var p=o(3400),T=o(4724);ve.exports=function(g,f,y,m){var h=m.isMinor,c=h?g.minor||{}:g,C=h?f.minor:f,_=h?T.minor:T,L=h?"minor.":"",D=p.coerce2(c,C,_,"ticklen",h?.6*(f.ticklen||5):void 0),w=p.coerce2(c,C,_,"tickwidth",h?f.tickwidth||1:void 0),z=p.coerce2(c,C,_,"tickcolor",(h?f.tickcolor:void 0)||C.color);y(L+"ticks",!h&&m.outerTicks||D||w||z?"outside":"")||(delete C.ticklen,delete C.tickwidth,delete C.tickcolor)}},6332:function(ve,K,o){"use strict";var p=o(8728),T=o(3400).isArrayOrTypedArray,v=o(8116).isTypedArraySpec,g=o(8116).decodeTypedArraySpec;ve.exports=function(y,m,h,c,C){C||(C={});var _=C.isMinor,L=_?y.minor||{}:y,D=_?m.minor:m,w=_?"minor.":"";function z(Y){var $=L[Y];return v($)&&($=g($)),void 0!==$?$:(D._template||{})[Y]}var S=z("tick0"),E=z("dtick"),x=z("tickvals"),b=h(w+"tickmode",T(x)?"array":E?"linear":"auto");if("auto"===b||"sync"===b)h(w+"nticks");else if("linear"===b){var N=D.dtick=p.dtick(E,c);D.tick0=p.tick0(S,c,m.calendar,N)}else"multicategory"!==c&&(void 0===h(w+"tickvals")?D.tickmode="auto":_||h("ticktext"))}},3736:function(ve,K,o){"use strict";var p=o(3428),T=o(4040),v=o(3400),g=o(3616),f=o(4460);ve.exports=function(m,h,c,C){var _=m._fullLayout;if(0!==h.length){var w;C&&(w=C());var E,x,H,b=p.ease(c.easing);return m._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(H),H=null,function S(){for(var V={},Y=0;Y<h.length;Y++){var $=h[Y],se=$.plotinfo.yaxis;$.xr0&&(V[$.plotinfo.xaxis._name+".range"]=$.xr0.slice()),$.yr0&&(V[se._name+".range"]=$.yr0.slice())}return T.call("relayout",m,V).then(function(){for(var F=0;F<h.length;F++)L(h[F].plotinfo)})}()}),E=Date.now(),H=window.requestAnimationFrame(function N(){x=Date.now();for(var V=Math.min(1,(x-E)/c.duration),Y=b(V),$=0;$<h.length;$++)D(h[$],Y);x-E>c.duration?(function z(){for(var V={},Y=0;Y<h.length;Y++){var $=h[Y],se=$.plotinfo.yaxis;$.xr1&&(V[$.plotinfo.xaxis._name+".range"]=$.xr1.slice()),$.yr1&&(V[se._name+".range"]=$.yr1.slice())}return w&&w(),T.call("relayout",m,V).then(function(){for(var F=0;F<h.length;F++)L(h[F].plotinfo)})}(),H=window.cancelAnimationFrame(N)):H=window.requestAnimationFrame(N)}),Promise.resolve()}function L(V){var Y=V.xaxis,$=V.yaxis;_._defs.select("#"+V.clipId+"> rect").call(g.setTranslate,0,0).call(g.setScale,1,1),V.plot.call(g.setTranslate,Y._offset,$._offset).call(g.setScale,1,1);var Q=V.plot.selectAll(".scatterlayer .trace");Q.selectAll(".point").call(g.setPointGroupScale,1,1),Q.selectAll(".textpoint").call(g.setTextPointsScale,1,1),Q.call(g.hideOutsideRangePoints,V)}function D(V,Y){var $=V.plotinfo,Q=$.xaxis,se=$.yaxis,F=Q._length,J=se._length,W=!!V.xr1,te=!!V.yr1,fe=[];if(W){var me=v.simpleMap(V.xr0,Q.r2l),Z=v.simpleMap(V.xr1,Q.r2l),G=me[1]-me[0],q=Z[1]-Z[0];fe[0]=(me[0]*(1-Y)+Y*Z[0]-me[0])/(me[1]-me[0])*F,fe[2]=F*(1-Y+Y*q/G),Q.range[0]=Q.l2r(me[0]*(1-Y)+Y*Z[0]),Q.range[1]=Q.l2r(me[1]*(1-Y)+Y*Z[1])}else fe[0]=0,fe[2]=F;if(te){var ie=v.simpleMap(V.yr0,se.r2l),ue=v.simpleMap(V.yr1,se.r2l),le=ie[1]-ie[0],pe=ue[1]-ue[0];fe[1]=(ie[1]*(1-Y)+Y*ue[1]-ie[1])/(ie[0]-ie[1])*J,fe[3]=J*(1-Y+Y*pe/le),se.range[0]=Q.l2r(ie[0]*(1-Y)+Y*ue[0]),se.range[1]=se.l2r(ie[1]*(1-Y)+Y*ue[1])}else fe[1]=0,fe[3]=J;f.drawOne(m,Q,{skipTitle:!0}),f.drawOne(m,se,{skipTitle:!0}),f.redrawComponents(m,[Q._id,se._id]);var He=W?F/fe[2]:1,ke=te?J/fe[3]:1,B=Q._offset-(W?fe[0]/fe[2]*F:0),P=se._offset-(te?fe[1]/fe[3]*J:0);$.clipRect.call(g.setTranslate,W?fe[0]:0,te?fe[1]:0).call(g.setScale,1/He,1/ke),$.plot.call(g.setTranslate,B,P).call(g.setScale,He,ke),g.setPointGroupScale($.zoomScalePts,1/He,1/ke),g.setTextPointsScale($.zoomScaleTxt,1/He,1/ke)}f.redrawComponents(m)}},4944:function(ve,K,o){"use strict";var p=o(4040).traceIs,T=o(2976);function v(m,h){if("-"===m.type){var _,c=m._id,C=c.charAt(0);-1!==c.indexOf("scene")&&(c=C);var L=function g(m,h,c){for(var C=0;C<m.length;C++){var _=m[C];if("splom"===_.type&&_._length>0&&(_["_"+c+"axes"]||{})[h])return _;if((_[c+"axis"]||c)===h){if(y(_,c))return _;if((_[c]||[]).length||_[c+"0"])return _}}}(h,c,C);if(L){if("histogram"===L.type&&C==={v:"y",h:"x"}[L.orientation||"v"])return void(m.type="linear");var D=C+"calendar",w=L[D],z={noMultiCategory:!p(L,"cartesian")||p(L,"noMultiCategory")};if("box"===L.type&&L._hasPreCompStats&&C==={h:"x",v:"y"}[L.orientation||"v"]&&(z.noMultiCategory=!0),z.autotypenumbers=m.autotypenumbers,y(L,C)){var S=f(L),E=[];for(_=0;_<h.length;_++){var x=h[_];!p(x,"box-violin")||(x[C+"axis"]||C)!==c||(E.push(void 0!==x[S]?x[S][0]:void 0!==x.name?x.name:"text"),x[D]!==w&&(w=void 0))}m.type=T(E,w,z)}else if("splom"===L.type){var b=L.dimensions[L._axesDim[c]];b.visible&&(m.type=T(b.values,w,z))}else m.type=T(L[C]||[L[C+"0"]],w,z)}}}function f(m){return{v:"x",h:"y"}[m.orientation||"v"]}function y(m,h){var c=f(m),C=p(m,"box-violin"),_=p(m._fullInput||{},"candlestick");return C&&!_&&h===c&&void 0===m[c]&&void 0===m[c+"0"]}ve.exports=function(h,c,C,_){C("autotypenumbers",_.autotypenumbersDflt),"-"===C("type",(_.splomStash||{}).type)&&(v(c,_.data),"-"===c.type?c.type="linear":h.type=c.type)}},2460:function(ve,K,o){"use strict";var p=o(4040),T=o(3400);function v(h,c,C){var _,L,D,w=!1;if("data"===c.type)_=h._fullData[null!==c.traces?c.traces[0]:0];else{if("layout"!==c.type)return!1;_=h._fullLayout}return L=T.nestedProperty(_,c.prop).get(),(D=C[c.type]=C[c.type]||{}).hasOwnProperty(c.prop)&&D[c.prop]!==L&&(w=!0),D[c.prop]=L,{changed:w,value:L}}function f(h,c){var C=[],_=c[0],L={};if("string"==typeof _)L[_]=c[1];else{if(!T.isPlainObject(_))return C;L=_}return m(L,function(D,w,z){C.push({type:"layout",prop:D,value:z})},"",0),C}function y(h,c){var C,_,L,D,w=[];if(L=c[1],C=c[2],D={},"string"==typeof(_=c[0]))D[_]=L;else{if(!T.isPlainObject(_))return w;D=_,void 0===C&&(C=L)}return void 0===C&&(C=null),m(D,function(z,S,E){var x,H;if(Array.isArray(E)){H=E.slice();var b=Math.min(H.length,h.data.length);C&&(b=Math.min(b,C.length)),x=[];for(var N=0;N<b;N++)x[N]=C?C[N]:N}else H=E,x=C?C.slice():null;if(null===x)Array.isArray(H)&&(H=H[0]);else if(Array.isArray(x)){if(!Array.isArray(H)){var V=H;H=[];for(var Y=0;Y<x.length;Y++)H[Y]=V}H.length=Math.min(x.length,H.length)}w.push({type:"data",prop:z,traces:x,value:H})},"",0),w}function m(h,c,C,_){Object.keys(h).forEach(function(L){var D=h[L];if("_"!==L[0]){var w=C+(_>0?".":"")+L;T.isPlainObject(D)?m(D,c,w,_+1):c(w,L,D)}})}K.manageCommandObserver=function(h,c,C,_){var L={},D=!0;c&&c._commandObserver&&(L=c._commandObserver),L.cache||(L.cache={}),L.lookupTable={};var w=K.hasSimpleAPICommandBindings(h,C,L.lookupTable);if(c&&c._commandObserver){if(w)return L;if(c._commandObserver.remove)return c._commandObserver.remove(),c._commandObserver=null,L}if(w){v(h,w,L.cache),L.check=function(){if(D){var x=v(h,w,L.cache);return x.changed&&_&&void 0!==L.lookupTable[x.value]&&(L.disable(),Promise.resolve(_({value:x.value,type:w.type,prop:w.prop,traces:w.traces,index:L.lookupTable[x.value]})).then(L.enable,L.enable)),x.changed}};for(var z=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],S=0;S<z.length;S++)h._internalOn(z[S],L.check);L.remove=function(){for(var E=0;E<z.length;E++)h._removeInternalListener(z[E],L.check)}}else T.log("Unable to automatically bind plot updates to API command"),L.lookupTable={},L.remove=function(){};return L.disable=function(){D=!1},L.enable=function(){D=!0},c&&(c._commandObserver=L),L},K.hasSimpleAPICommandBindings=function(h,c,C){var _,D,L=c.length;for(_=0;_<L;_++){var w,z=c[_],S=z.method,E=z.args;if(Array.isArray(E)||(E=[]),!S)return!1;var x=K.computeAPICommandBindings(h,S,E);if(1!==x.length)return!1;if(D){if((w=x[0]).type!==D.type||w.prop!==D.prop)return!1;if(Array.isArray(D.traces)){if(!Array.isArray(w.traces))return!1;w.traces.sort();for(var H=0;H<D.traces.length;H++)if(D.traces[H]!==w.traces[H])return!1}else if(w.prop!==D.prop)return!1}else D=x[0],Array.isArray(D.traces)&&D.traces.sort();var b=(w=x[0]).value;if(Array.isArray(b)){if(1!==b.length)return!1;b=b[0]}C&&(C[b]=_)}return D},K.executeAPICommand=function(h,c,C){if("skip"===c)return Promise.resolve();var _=p.apiMethodRegistry[c],L=[h];Array.isArray(C)||(C=[]);for(var D=0;D<C.length;D++)L.push(C[D]);return _.apply(null,L).catch(function(w){return T.warn("API call to Plotly."+c+" rejected.",w),Promise.reject(w)})},K.computeAPICommandBindings=function(h,c,C){var _;switch(Array.isArray(C)||(C=[]),c){case"restyle":_=y(h,C);break;case"relayout":_=f(0,C);break;case"update":_=y(h,[C[0],C[2]]).concat(f(0,[C[1]]));break;case"animate":_=function g(h,c){return Array.isArray(c[0])&&1===c[0].length&&-1!==["string","number"].indexOf(typeof c[0][0])?[{type:"layout",prop:"_currentFrame",value:c[0][0].toString()}]:[]}(0,C);break;default:_=[]}return _}},6968:function(ve,K,o){"use strict";var p=o(2880).extendFlat;K.u=function(T,v){var g={valType:"info_array",editType:(T=T||{}).editType,items:[{valType:"number",min:0,max:1,editType:T.editType},{valType:"number",min:0,max:1,editType:T.editType}],dflt:[0,1]},h=(v=v||{},{x:p({},g,{}),y:p({},g,{}),editType:T.editType});return T.noGridCell||(h.row={valType:"integer",min:0,dflt:0,editType:T.editType},h.column={valType:"integer",min:0,dflt:0,editType:T.editType}),h},K.Q=function(T,v,g,f){var y=f&&f.x||[0,1],m=f&&f.y||[0,1],h=v.grid;if(h){var c=g("domain.column");void 0!==c&&(c<h.columns?y=h._domains.x[c]:delete T.domain.column);var C=g("domain.row");void 0!==C&&(C<h.rows?m=h._domains.y[C]:delete T.domain.row)}var _=g("domain.x",y),L=g("domain.y",m);_[0]<_[1]||(T.domain.x=y.slice()),L[0]<L[1]||(T.domain.y=m.slice())}},5376:function(ve){"use strict";ve.exports=function(K){var o=K.editType,p=K.colorEditType;void 0===p&&(p=o);var T={family:{valType:"string",noBlank:!0,strict:!0,editType:o},size:{valType:"number",min:1,editType:o},color:{valType:"color",editType:p},editType:o};return K.autoSize&&(T.size.dflt="auto"),K.autoColor&&(T.color.dflt="auto"),K.arrayOk&&(T.family.arrayOk=!0,T.size.arrayOk=!0,T.color.arrayOk=!0),T}},6672:function(ve){"use strict";ve.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},4888:function(ve,K,o){"use strict";var T=o(4040);o(3816),K._M=function(g,f){var h,y=[],m=[];if(!(h="string"==typeof f?T.getModule(f).plot:"function"==typeof f?f:f.plot))return[y,g];for(var c=0;c<g.length;c++){var C=g[c],_=C[0].trace;!0!==_.visible||0===_._length||(_._module&&_._module.plot===h?y.push(C):m.push(C))}return[y,m]}},4424:function(ve){"use strict";function K(p,T){var g,f,v=[0,0,0,0];for(g=0;g<4;++g)for(f=0;f<4;++f)v[f]+=p[4*g+f]*T[g];return v}ve.exports=function o(p,T){return K(p.projection,K(p.view,K(p.model,[T[0],T[1],T[2],1])))}},4859:function(ve,K,o){"use strict";var p=o(5376),T=o(5656),v=o(2548),g=o(2872),f=o(4200),y=o(6741),m=o(2880).extendFlat,h=p({editType:"calc"});h.family.dflt='"Open Sans", verdana, arial, sans-serif',h.size.dflt=12,h.color.dflt=v.defaultLine,ve.exports={font:h,title:{text:{valType:"string",editType:"layoutstyle"},font:p({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:m(y({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:v.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:v.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:v.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:g.newshape,activeshape:g.activeshape,newselection:f.newselection,activeselection:f.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:m({},T.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:p({editType:"layoutstyle"})}}},6741:function(ve){"use strict";ve.exports=function(K){var o=K.editType;return{t:{valType:"number",dflt:0,editType:o},r:{valType:"number",dflt:0,editType:o},b:{valType:"number",dflt:0,editType:o},l:{valType:"number",dflt:0,editType:o},editType:o}}},7316:function(ve,K,o){"use strict";var p=o(3428),T=o(4336).m_,v=o(7624).SO,g=o(8248),f=o(3160),y=o(4040),m=o(3060),h=o(1780),c=o(3400),C=o(6308),_=o(9032).BADNUM,L=o(9811),D=o(1936).clearOutline,w=o(5308),z=o(5656),S=o(6672),E=o(4888)._M,x=c.relinkPrivateKeys,H=c._,b=ve.exports={};c.extendFlat(b,y),b.attributes=o(5464),b.attributes.type.values=b.allTypes,b.fontAttrs=o(5376),b.layoutAttributes=o(4859),b.fontWeight="normal";var N=b.transformsRegistry,V=o(2460);b.executeAPICommand=V.executeAPICommand,b.computeAPICommandBindings=V.computeAPICommandBindings,b.manageCommandObserver=V.manageCommandObserver,b.hasSimpleAPICommandBindings=V.hasSimpleAPICommandBindings,b.redrawText=function(B){return B=c.getGraphDiv(B),new Promise(function(P){setTimeout(function(){B._fullLayout&&(y.getComponentMethod("annotations","draw")(B),y.getComponentMethod("legend","draw")(B),y.getComponentMethod("colorbar","draw")(B),P(b.previousPromises(B)))},300)})},b.resize=function(B){B=c.getGraphDiv(B);var P,X=new Promise(function(j,I){(!B||c.isHidden(B))&&I(new Error("Resize must be passed a displayed plot div element.")),B._redrawTimer&&clearTimeout(B._redrawTimer),B._resolveResize&&(P=B._resolveResize),B._resolveResize=j,B._redrawTimer=setTimeout(function(){if(!B.layout||B.layout.width&&B.layout.height||c.isHidden(B))j(B);else{delete B.layout.width,delete B.layout.height;var ae=B.changed;B.autoplay=!0,y.call("relayout",B,{autosize:!0}).then(function(){B.changed=ae,B._resolveResize===j&&(delete B._resolveResize,j(B))})}},100)});return P&&P(X),X},b.previousPromises=function(B){if((B._promises||[]).length)return Promise.all(B._promises).then(function(){B._promises=[]})},b.addLinks=function(B){if(B._context.showLink||B._context.showSources){var P=B._fullLayout,X=c.ensureSingle(P._paper,"text","js-plot-link-container",function(be){be.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:C.defaultLine,"pointer-events":"all"}).each(function(){var ze=p.select(this);ze.append("tspan").classed("js-link-to-tool",!0),ze.append("tspan").classed("js-link-spacer",!0),ze.append("tspan").classed("js-sourcelinks",!0)})}),j=X.node(),I={y:P._paper.attr("height")-9};document.body.contains(j)&&j.getComputedTextLength()>=P.width-20?(I["text-anchor"]="start",I.x=5):(I["text-anchor"]="end",I.x=P._paper.attr("width")-7),X.attr(I);var ae=X.select(".js-link-to-tool"),O=X.select(".js-link-spacer"),ne=X.select(".js-sourcelinks");B._context.showSources&&B._context.showSources(B),B._context.showLink&&function Y(B,P){P.text("");var X=P.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(B._context.linkText+" \xbb");if(B._context.sendData)X.on("click",function(){b.sendDataToCloud(B)});else{var j=window.location.pathname.split("/"),I=window.location.search;X.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+j[2].split(".")[0]+"/"+j[1]+I})}}(B,ae),O.text(ae.text()&&ne.text()?" - ":"")}},b.sendDataToCloud=function(B){var P=(window.PLOTLYENV||{}).BASE_URL||B._context.plotlyServerURL;if(P){B.emit("plotly_beforeexport");var X=p.select(B).append("div").attr("id","hiddenform").style("display","none"),j=X.append("form").attr({action:P+"/external",method:"post",target:"_blank"});return j.append("input").attr({type:"text",name:"data"}).node().value=b.graphJson(B,!1,"keepdata"),j.node().submit(),X.remove(),B.emit("plotly_afterexport"),!1}};var $=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],Q=["year","month","dayMonth","dayMonthYear"];function J(B,P){var X=B._context.locale;X||(X="en-US");var j=!1,I={};function ae(Oe){for(var Be=!0,Te=0;Te<P.length;Te++){var Ve=P[Te];I[Ve]||(Oe[Ve]?I[Ve]=Oe[Ve]:Be=!1)}Be&&(j=!0)}for(var O=0;O<2;O++){for(var ne=B._context.locales,be=0;be<2;be++){var ze=(ne[X]||{}).format;if(ze&&(ae(ze),j))break;ne=y.localeRegistry}var Ne=X.split("-")[0];if(j||Ne===X)break;X=Ne}return j||ae(y.localeRegistry.en.format),I}function fe(B,P){var X={_fullLayout:P},j="x"===B._id.charAt(0),I=B._mainAxis._anchorAxis,ae="",O="",ne="";if(I&&(ne=I._mainAxis._id,ae=j?B._id+ne:ne+B._id),!ae||!P._plots[ae]){ae="";for(var be=B._counterAxes,ze=0;ze<be.length;ze++){var Ne=be[ze],Oe=j?B._id+Ne:Ne+B._id;O||(O=Oe);var Be=L.getFromId(X,Ne);if(ne&&Be.overlaying===ne){ae=Oe;break}}}return ae||O}function me(B){var P=B.transforms;if(Array.isArray(P)&&P.length)for(var X=0;X<P.length;X++){var j=P[X],I=j._module||N[j.type];if(I&&I.makesData)return!0}return!1}function Z(B,P,X,j){for(var I=B.transforms,ae=[B],O=0;O<I.length;O++){var ne=I[O],be=N[ne.type];be&&be.transform&&(ae=be.transform(ae,{transform:ne,fullTrace:B,fullData:P,layout:X,fullLayout:j,transformIndex:O}))}return ae}function G(B){return"string"==typeof B&&"px"===B.substr(B.length-2)&&parseFloat(B)}function q(B){var P=B.margin;if(!B._size){var X=B._size={l:Math.round(P.l),r:Math.round(P.r),t:Math.round(P.t),b:Math.round(P.b),p:Math.round(P.pad)};X.w=Math.round(B.width)-X.l-X.r,X.h=Math.round(B.height)-X.t-X.b}B._pushmargin||(B._pushmargin={}),B._pushmarginIds||(B._pushmarginIds={}),B._reservedMargin||(B._reservedMargin={})}b.supplyDefaults=function(B,P){var X=P&&P.skipUpdateCalc,j=B._fullLayout||{};if(j._skipDefaults)delete j._skipDefaults;else{var Oe,I=B._fullLayout={},ae=B.layout||{},O=B._fullData||[],ne=B._fullData=[],be=B.data||[],ze=B.calcdata||[],Ne=B._context||{};B._transitionData||b.createTransitionData(B),I._dfltTitle={plot:H(B,"Click to enter Plot title"),x:H(B,"Click to enter X axis title"),y:H(B,"Click to enter Y axis title"),colorbar:H(B,"Click to enter Colorscale title"),annotation:H(B,"new text")},I._traceWord=H(B,"trace");var Be=J(B,$);if(I._mapboxAccessToken=Ne.mapboxAccessToken,j._initialAutoSizeIsDone){var Te=j.width,Ve=j.height;b.supplyLayoutGlobalDefaults(ae,I,Be),ae.width||(I.width=Te),ae.height||(I.height=Ve),b.sanitizeMargins(I)}else{b.supplyLayoutGlobalDefaults(ae,I,Be);var Pe=!ae.width||!ae.height,Je=I.autosize;Pe&&(Je||Ne.autosizable)?b.plotAutoSize(B,ae,I):Pe&&b.sanitizeMargins(I),!Je&&Pe&&(ae.width=I.width,ae.height=I.height)}I._d3locale=function W(B,P){return B.decimal=P.charAt(0),B.thousands=P.charAt(1),{numberFormat:function(X){try{X=v(B).format(c.adjustFormat(X))}catch{return c.warnBadFormat(X),c.noFormat}return X},timeFormat:T(B).utcFormat}}(Be,I.separators),I._extraFormat=J(B,Q),I._initialAutoSizeIsDone=!0,I._dataLength=be.length,I._modules=[],I._visibleModules=[],I._basePlotModules=[];var st=I._subplots=function F(){var X,j,B=y.collectableSubplotTypes,P={};if(!B){B=[];var I=y.subplotsRegistry;for(var ae in I){var ne=I[ae].attr;if(ne&&(B.push(ae),Array.isArray(ne)))for(j=0;j<ne.length;j++)c.pushUnique(B,ne[j])}}for(X=0;X<B.length;X++)P[B[X]]=[];return P}(),wt=I._splomAxes={x:{},y:{}},kt=I._splomSubplots={};I._splomGridDflt={},I._scatterStackOpts={},I._firstScatter={},I._alignmentOpts={},I._colorAxes={},I._requestRangeslider={},I._traceUids=function se(B,P){var I,ae,X=P.length,j=[];for(I=0;I<B.length;I++){var O=B[I]._fullInput;O!==ae&&j.push(O),ae=O}var ne=j.length,be=new Array(X),ze={};function Ne(Te,Ve){be[Ve]=Te,ze[Te]=1}function Oe(Te,Ve){if(Te&&"string"==typeof Te&&!ze[Te])return Ne(Te,Ve),!0}for(I=0;I<X;I++){var Be=P[I].uid;"number"==typeof Be&&(Be=String(Be)),!Oe(Be,I)&&(I<ne&&Oe(j[I].uid,I)||Ne(c.randstr(ze),I))}return be}(O,be),I._globalTransforms=(B._context||{}).globalTransforms,b.supplyDataDefaults(be,ne,ae,I);var At=Object.keys(wt.x),Qt=Object.keys(wt.y);if(At.length>1&&Qt.length>1){for(y.getComponentMethod("grid","sizeDefaults")(ae,I),Oe=0;Oe<At.length;Oe++)c.pushUnique(st.xaxis,At[Oe]);for(Oe=0;Oe<Qt.length;Oe++)c.pushUnique(st.yaxis,Qt[Oe]);for(var nn in kt)c.pushUnique(st.cartesian,nn)}if(I._has=b._hasPlotType.bind(I),O.length===ne.length)for(Oe=0;Oe<ne.length;Oe++)x(ne[Oe],O[Oe]);b.supplyLayoutModuleDefaults(ae,I,ne,B._transitionData);var Ut=I._visibleModules,Lt=[];for(Oe=0;Oe<Ut.length;Oe++){var Xt=Ut[Oe].crossTraceDefaults;Xt&&c.pushUnique(Lt,Xt)}for(Oe=0;Oe<Lt.length;Oe++)Lt[Oe](ne,I);I._hasOnlyLargeSploms=1===I._basePlotModules.length&&"splom"===I._basePlotModules[0].name&&At.length>15&&Qt.length>15&&0===I.shapes.length&&0===I.images.length,b.linkSubplots(ne,I,O,j),b.cleanPlot(ne,I,O,j);var gt=!(!j._has||!j._has("gl2d")),Yt=!(!I._has||!I._has("gl2d")),rn=!(!j._has||!j._has("cartesian"))||gt,Ke=!(!I._has||!I._has("cartesian"))||Yt;rn&&!Ke?j._bgLayer.remove():Ke&&!rn&&(I._shouldCreateBgLayer=!0),j._zoomlayer&&!B._dragging&&D({_fullLayout:j}),function te(B,P){var X,j=[];P.meta&&(X=P._meta={meta:P.meta,layout:{meta:P.meta}});for(var I=0;I<B.length;I++){var ae=B[I];ae.meta?j[ae.index]=ae._meta={meta:ae.meta}:P.meta&&(ae._meta={meta:P.meta}),P.meta&&(ae._meta.layout={meta:P.meta})}j.length&&(X||(X=P._meta={}),X.data=j)}(ne,I),x(I,j),y.getComponentMethod("colorscale","crossTraceDefaults")(ne,I),I._preGUI||(I._preGUI={}),I._tracePreGUI||(I._tracePreGUI={});var Re,St=I._tracePreGUI,dt={};for(Re in St)dt[Re]="old";for(Oe=0;Oe<ne.length;Oe++)dt[Re=ne[Oe]._fullInput.uid]||(St[Re]={}),dt[Re]="new";for(Re in dt)"old"===dt[Re]&&delete St[Re];q(I),y.getComponentMethod("rangeslider","makeData")(I),!X&&ze.length===ne.length&&b.supplyDefaultsUpdateCalc(ze,ne)}},b.supplyDefaultsUpdateCalc=function(B,P){for(var X=0;X<P.length;X++){var j=P[X],I=(B[X]||[])[0];if(I&&I.trace){var ae=I.trace;if(ae._hasCalcTransform){var ne,be,ze,O=ae._arrayAttrs;for(ne=0;ne<O.length;ne++)ze=c.nestedProperty(ae,be=O[ne]).get().slice(),c.nestedProperty(j,be).set(ze)}I.trace=j}}},b.createTransitionData=function(B){B._transitionData||(B._transitionData={}),B._transitionData._frames||(B._transitionData._frames=[]),B._transitionData._frameHash||(B._transitionData._frameHash={}),B._transitionData._counter||(B._transitionData._counter=0),B._transitionData._interruptCallbacks||(B._transitionData._interruptCallbacks=[])},b._hasPlotType=function(B){var P,X=this._basePlotModules||[];for(P=0;P<X.length;P++)if(X[P].name===B)return!0;var j=this._modules||[];for(P=0;P<j.length;P++){var I=j[P].name;if(I===B)return!0;var ae=y.modules[I];if(ae&&ae.categories[B])return!0}return!1},b.cleanPlot=function(B,P,X,j){var I,ae,O=j._basePlotModules||[];for(I=0;I<O.length;I++){var ne=O[I];ne.clean&&ne.clean(B,P,X,j)}var be=j._has&&j._has("gl"),ze=P._has&&P._has("gl");be&&!ze&&void 0!==j._glcontainer&&(j._glcontainer.selectAll(".gl-canvas").remove(),j._glcontainer.selectAll(".no-webgl").remove(),j._glcanvas=null);var Ne=!!j._infolayer;e:for(I=0;I<X.length;I++){var Be=X[I].uid;for(ae=0;ae<B.length;ae++)if(Be===B[ae].uid)continue e;Ne&&j._infolayer.select(".cb"+Be).remove()}},b.linkSubplots=function(B,P,X,j){var I,ae,O=j._plots||{},ne=P._plots={},be=P._subplots,ze={_fullData:B,_fullLayout:P},Ne=be.cartesian.concat(be.gl2d||[]);for(I=0;I<Ne.length;I++){var Pe,Oe=Ne[I],Be=O[Oe],Te=L.getFromId(ze,Oe,"x"),Ve=L.getFromId(ze,Oe,"y");for(Be?Pe=ne[Oe]=Be:(Pe=ne[Oe]={}).id=Oe,Te._counterAxes.push(Ve._id),Ve._counterAxes.push(Te._id),Te._subplotsWith.push(Oe),Ve._subplotsWith.push(Oe),Pe.xaxis=Te,Pe.yaxis=Ve,Pe._hasClipOnAxisFalse=!1,ae=0;ae<B.length;ae++){var Je=B[ae];if(Je.xaxis===Pe.xaxis._id&&Je.yaxis===Pe.yaxis._id&&!1===Je.cliponaxis){Pe._hasClipOnAxisFalse=!0;break}}}var Ge,Xe=L.list(ze,null,!0);for(I=0;I<Xe.length;I++){var st=null;(Ge=Xe[I]).overlaying&&(st=L.getFromId(ze,Ge.overlaying))&&st.overlaying&&(Ge.overlaying=!1,st=null),Ge._mainAxis=st||Ge,st&&(Ge.domain=st.domain.slice()),Ge._anchorAxis="free"===Ge.anchor?null:L.getFromId(ze,Ge.anchor)}for(I=0;I<Xe.length;I++)if((Ge=Xe[I])._counterAxes.sort(L.idSort),Ge._subplotsWith.sort(c.subplotSort),Ge._mainSubplot=fe(Ge,P),Ge._counterAxes.length&&(Ge.spikemode&&-1!==Ge.spikemode.indexOf("across")||Ge.automargin&&Ge.mirror&&"free"!==Ge.anchor||y.getComponentMethod("rangeslider","isVisible")(Ge))){var wt=1,kt=0;for(ae=0;ae<Ge._counterAxes.length;ae++){var At=L.getFromId(ze,Ge._counterAxes[ae]);wt=Math.min(wt,At.domain[0]),kt=Math.max(kt,At.domain[1])}wt<kt&&(Ge._counterDomainMin=wt,Ge._counterDomainMax=kt)}},b.clearExpandedTraceDefaultColors=function(B){var P,X,j;for(X=[],(P=B._module._colorAttrs)||(B._module._colorAttrs=P=[],m.crawl(B._module.attributes,function I(O,ne,be,ze){X[ze]=ne,X.length=ze+1,"color"===O.valType&&void 0===O.dflt&&P.push(X.join("."))})),j=0;j<P.length;j++)c.nestedProperty(B,"_input."+P[j]).get()||c.nestedProperty(B,P[j]).set(null)},b.supplyDataDefaults=function(B,P,X,j){var ze,Ne,Oe,I=j._modules,ae=j._visibleModules,O=j._basePlotModules,ne=0,be=0;function Be(Qt){P.push(Qt);var nn=Qt._module;nn&&(c.pushUnique(I,nn),!0===Qt.visible&&c.pushUnique(ae,nn),c.pushUnique(O,Qt._module.basePlotModule),ne++,!1!==Qt._input.visible&&be++)}j._transformModules=[];var Te={},Ve=[],Je=h.traceTemplater((X.template||{}).data||{});for(ze=0;ze<B.length;ze++){if((Ne=Je.newTrace(Oe=B[ze])).uid=j._traceUids[ze],b.supplyTraceDefaults(Oe,Ne,be,j,ze),Ne.index=ze,Ne._input=Oe,Ne._expandedIndex=ne,Ne.transforms&&Ne.transforms.length)for(var Xe=!1!==Oe.visible&&!1===Ne.visible,Ge=Z(Ne,P,X,j),st=0;st<Ge.length;st++){var wt=Ge[st],kt={_template:Ne._template,type:Ne.type,uid:Ne.uid+st};Xe&&!1===wt.visible&&delete wt.visible,b.supplyTraceDefaults(wt,kt,ne,j,ze),x(kt,wt),kt.index=ze,kt._input=Oe,kt._fullInput=Ne,kt._expandedIndex=ne,kt._expandedInput=wt,Be(kt)}else Ne._fullInput=Ne,Ne._expandedInput=Ne,Be(Ne);y.traceIs(Ne,"carpetAxis")&&(Te[Ne.carpet]=Ne),y.traceIs(Ne,"carpetDependent")&&Ve.push(ze)}for(ze=0;ze<Ve.length;ze++)if((Ne=P[Ve[ze]]).visible){var At=Te[Ne.carpet];if(Ne._carpet=At,!At||!At.visible){Ne.visible=!1;continue}Ne.xaxis=At.xaxis,Ne.yaxis=At.yaxis}},b.supplyAnimationDefaults=function(B){B=B||{};var P,X={};function j(I,ae){return c.coerce(B||{},X,z,I,ae)}if(j("mode"),j("direction"),j("fromcurrent"),Array.isArray(B.frame))for(X.frame=[],P=0;P<B.frame.length;P++)X.frame[P]=b.supplyAnimationFrameDefaults(B.frame[P]||{});else X.frame=b.supplyAnimationFrameDefaults(B.frame||{});if(Array.isArray(B.transition))for(X.transition=[],P=0;P<B.transition.length;P++)X.transition[P]=b.supplyAnimationTransitionDefaults(B.transition[P]||{});else X.transition=b.supplyAnimationTransitionDefaults(B.transition||{});return X},b.supplyAnimationFrameDefaults=function(B){var P={};function X(j,I){return c.coerce(B||{},P,z.frame,j,I)}return X("duration"),X("redraw"),P},b.supplyAnimationTransitionDefaults=function(B){var P={};function X(j,I){return c.coerce(B||{},P,z.transition,j,I)}return X("duration"),X("easing"),P},b.supplyFrameDefaults=function(B){var P={};function X(j,I){return c.coerce(B,P,S,j,I)}return X("group"),X("name"),X("traces"),X("baseframe"),X("data"),X("layout"),P},b.supplyTraceDefaults=function(B,P,X,j,I){var ne,ae=j.colorway||C.defaults,O=ae[X%ae.length];function be(st,wt){return c.coerce(B,P,b.attributes,st,wt)}var ze=be("visible");be("type"),be("name",j._traceWord+" "+I),be("uirevision",j.uirevision);var Ne=b.getModule(P);if(P._module=Ne,Ne){var Oe=Ne.basePlotModule,Be=Oe.attr,Te=Oe.attributes;if(Be&&Te){var Ve=j._subplots,Pe="";if(ze||"gl2d"!==Oe.name){if(Array.isArray(Be))for(ne=0;ne<Be.length;ne++){var Je=Be[ne],Xe=c.coerce(B,P,Te,Je);Ve[Je]&&c.pushUnique(Ve[Je],Xe),Pe+=Xe}else Pe=c.coerce(B,P,Te,Be);Ve[Oe.name]&&c.pushUnique(Ve[Oe.name],Pe)}}}if(ze){if(be("customdata"),be("ids"),be("meta"),y.traceIs(P,"showLegend")?(c.coerce(B,P,Ne.attributes.showlegend?Ne.attributes:b.attributes,"showlegend"),be("legend"),be("legendwidth"),be("legendgroup"),be("legendgrouptitle.text"),be("legendrank"),P._dfltShowLegend=!0):P._dfltShowLegend=!1,Ne&&Ne.supplyDefaults(B,P,O,j),y.traceIs(P,"noOpacity")||be("opacity"),y.traceIs(P,"notLegendIsolatable")&&(P.visible=!!P.visible),y.traceIs(P,"noHover")||(P.hovertemplate||c.coerceHoverinfo(B,P,j),"parcats"!==P.type&&y.getComponentMethod("fx","supplyDefaults")(B,P,O,j)),Ne&&Ne.selectPoints){var Ge=be("selectedpoints");c.isTypedArray(Ge)&&(P.selectedpoints=Array.from(Ge))}b.supplyTransformDefaults(B,P,j)}return P},b.hasMakesDataTransform=me,b.supplyTransformDefaults=function(B,P,X){if(P._length||me(B)){var j=X._globalTransforms||[],I=X._transformModules||[];if(Array.isArray(B.transforms)||0!==j.length)for(var O=j.concat(B.transforms||[]),ne=P.transforms=[],be=0;be<O.length;be++){var Be,ze=O[be],Ne=ze.type,Oe=N[Ne],Te=!(ze._module&&ze._module===Oe),Ve=Oe&&"function"==typeof Oe.transform;Oe||c.warn("Unrecognized transform type "+Ne+"."),Oe&&Oe.supplyDefaults&&(Te||Ve)?((Be=Oe.supplyDefaults(ze,P,X,B)).type=Ne,Be._module=Oe,c.pushUnique(I,Oe)):Be=c.extendFlat({},ze),ne.push(Be)}}},b.supplyLayoutGlobalDefaults=function(B,P,X){function j(Oe,Be){return c.coerce(B,P,b.layoutAttributes,Oe,Be)}var I=B.template;c.isPlainObject(I)&&(P.template=I,P._template=I.layout,P._dataTemplate=I.data),j("autotypenumbers");var ae=c.coerceFont(j,"font");c.coerceFont(j,"title.font",c.extendFlat({},ae,{size:Math.round(1.4*ae.size)})),j("title.text",P._dfltTitle.plot),j("title.xref");var ne=j("title.yref");j("title.pad.t"),j("title.pad.r"),j("title.pad.b"),j("title.pad.l");var be=j("title.automargin");j("title.x"),j("title.xanchor"),j("title.y"),j("title.yanchor"),be&&("paper"===ne&&(0!==P.title.y&&(P.title.y=1),"auto"===P.title.yanchor&&(P.title.yanchor=0===P.title.y?"top":"bottom")),"container"===ne&&("auto"===P.title.y&&(P.title.y=1),"auto"===P.title.yanchor&&(P.title.yanchor=P.title.y<.5?"bottom":"top"))),j("uniformtext.mode")&&j("uniformtext.minsize"),j("autosize",!(B.width&&B.height)),j("width"),j("height"),j("minreducedwidth"),j("minreducedheight"),j("margin.l"),j("margin.r"),j("margin.t"),j("margin.b"),j("margin.pad"),j("margin.autoexpand"),B.width&&B.height&&b.sanitizeMargins(P),y.getComponentMethod("grid","sizeDefaults")(B,P),j("paper_bgcolor"),j("separators",X.decimal+X.thousands),j("hidesources"),j("colorway"),j("datarevision");var Ne=j("uirevision");j("editrevision",Ne),j("selectionrevision",Ne),y.getComponentMethod("modebar","supplyLayoutDefaults")(B,P),y.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(B,P,j),y.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(B,P,j),j("meta"),c.isPlainObject(B.transition)&&(j("transition.duration"),j("transition.easing"),j("transition.ordering")),y.getComponentMethod("calendars","handleDefaults")(B,P,"calendar"),y.getComponentMethod("fx","supplyLayoutGlobalDefaults")(B,P,j),c.coerce(B,P,w,"scattermode")},b.plotAutoSize=function(P,X,j){var O,ne,I=P._context||{},ae=I.frameMargins,be=c.isPlotDiv(P);if(be&&P.emit("plotly_autosize"),I.fillFrame)O=window.innerWidth,ne=window.innerHeight,document.body.style.overflow="hidden";else{var ze=be?window.getComputedStyle(P):{};if(O=G(ze.width)||G(ze.maxWidth)||j.width,ne=G(ze.height)||G(ze.maxHeight)||j.height,g(ae)&&ae>0){var Ne=1-2*ae;O=Math.round(Ne*O),ne=Math.round(Ne*ne)}}var Oe=b.layoutAttributes.width.min,Be=b.layoutAttributes.height.min;O<Oe&&(O=Oe),ne<Be&&(ne=Be);var Te=!X.width&&Math.abs(j.width-O)>1,Ve=!X.height&&Math.abs(j.height-ne)>1;(Ve||Te)&&(Te&&(j.width=O),Ve&&(j.height=ne)),P._initialAutoSize||(P._initialAutoSize={width:O,height:ne}),b.sanitizeMargins(j)},b.supplyLayoutModuleDefaults=function(B,P,X,j){var O,ne,be,I=y.componentsRegistry,ae=P._basePlotModules,ze=y.subplotsRegistry.cartesian;for(O in I)(be=I[O]).includeBasePlot&&be.includeBasePlot(B,P);for(var Ne in ae.length||ae.push(ze),P._has("cartesian")&&(y.getComponentMethod("grid","contentDefaults")(B,P),ze.finalizeSubplots(B,P)),P._subplots)P._subplots[Ne].sort(c.subplotSort);for(ne=0;ne<ae.length;ne++)(be=ae[ne]).supplyLayoutDefaults&&be.supplyLayoutDefaults(B,P,X);var Oe=P._modules;for(ne=0;ne<Oe.length;ne++)(be=Oe[ne]).supplyLayoutDefaults&&be.supplyLayoutDefaults(B,P,X);var Be=P._transformModules;for(ne=0;ne<Be.length;ne++)(be=Be[ne]).supplyLayoutDefaults&&be.supplyLayoutDefaults(B,P,X,j);for(O in I)(be=I[O]).supplyLayoutDefaults&&be.supplyLayoutDefaults(B,P,X)},b.purge=function(B){var P=B._fullLayout||{};void 0!==P._glcontainer&&(P._glcontainer.selectAll(".gl-canvas").remove(),P._glcontainer.remove(),P._glcanvas=null),P._modeBar&&P._modeBar.destroy(),B._transitionData&&(B._transitionData._interruptCallbacks&&(B._transitionData._interruptCallbacks.length=0),B._transitionData._animationRaf&&window.cancelAnimationFrame(B._transitionData._animationRaf)),c.clearThrottle(),c.clearResponsive(B),delete B.data,delete B.layout,delete B._fullData,delete B._fullLayout,delete B.calcdata,delete B.empty,delete B.fid,delete B.undoqueue,delete B.undonum,delete B.autoplay,delete B.changed,delete B._promises,delete B._redrawTimer,delete B._hmlumcount,delete B._hmpixcount,delete B._transitionData,delete B._transitioning,delete B._initialAutoSize,delete B._transitioningWithDuration,delete B._dragging,delete B._dragged,delete B._dragdata,delete B._hoverdata,delete B._snapshotInProgress,delete B._editing,delete B._mouseDownTime,delete B._legendMouseDownTime,B.removeAllListeners&&B.removeAllListeners()},b.style=function(B){var j,P=B._fullLayout._visibleModules,X=[];for(j=0;j<P.length;j++){var I=P[j];I.style&&c.pushUnique(X,I.style)}for(j=0;j<X.length;j++)X[j](B)},b.sanitizeMargins=function(B){if(B&&B.margin){var O,P=B.width,X=B.height,j=B.margin,ae=X-(j.t+j.b);P-(j.l+j.r)<0&&(O=(P-1)/(j.l+j.r),j.l=Math.floor(O*j.l),j.r=Math.floor(O*j.r)),ae<0&&(O=(X-1)/(j.t+j.b),j.t=Math.floor(O*j.t),j.b=Math.floor(O*j.b))}},b.clearAutoMarginIds=function(B){B._fullLayout._pushmarginIds={}},b.allowAutoMargin=function(B,P){B._fullLayout._pushmarginIds[P]=1};b.autoMargin=function(B,P,X){var j=B._fullLayout,I=j.width,ae=j.height,O=j.margin,be=j.minreducedheight,ze=c.constrain(I-O.l-O.r,2,j.minreducedwidth),Ne=c.constrain(ae-O.t-O.b,2,be),Oe=Math.max(0,I-ze),Be=Math.max(0,ae-Ne),Te=j._pushmargin,Ve=j._pushmarginIds;if(!1!==O.autoexpand){if(X){var Pe=X.pad;if(void 0===Pe&&(Pe=Math.min(12,O.l,O.r,O.t,O.b)),Oe){var Je=(X.l+X.r)/Oe;Je>1&&(X.l/=Je,X.r/=Je)}if(Be){var Xe=(X.t+X.b)/Be;Xe>1&&(X.t/=Xe,X.b/=Xe)}Te[P]={l:{val:void 0!==X.xl?X.xl:X.x,size:X.l+Pe},r:{val:void 0!==X.xr?X.xr:X.x,size:X.r+Pe},b:{val:void 0!==X.yb?X.yb:X.y,size:X.b+Pe},t:{val:void 0!==X.yt?X.yt:X.y,size:X.t+Pe}},Ve[P]=1}else delete Te[P],delete Ve[P];if(!j._replotting)return b.doAutoMargin(B)}},b.doAutoMargin=function(B){var P=B._fullLayout,X=P.width,j=P.height;P._size||(P._size={}),q(P);var I=P._size,ae=P.margin,O={t:0,b:0,l:0,r:0},ne=c.extendFlat({},I),be=ae.l,ze=ae.r,Ne=ae.t,Oe=ae.b,Be=P._pushmargin,Te=P._pushmarginIds,Ve=P.minreducedwidth,Pe=P.minreducedheight;if(!1!==ae.autoexpand){for(var Je in Be)Te[Je]||delete Be[Je];var Xe=B._fullLayout._reservedMargin;for(var Ge in Xe)for(var st in Xe[Ge])O[st]=Math.max(O[st],Xe[Ge][st]);for(var kt in Be.base={l:{val:0,size:be},r:{val:1,size:ze},t:{val:1,size:Ne},b:{val:0,size:Oe}},O){var At=0;for(var Qt in Be)"base"!==Qt&&g(Be[Qt][kt].size)&&(At=Be[Qt][kt].size>At?Be[Qt][kt].size:At);var nn=Math.max(0,ae[kt]-At);O[kt]=Math.max(0,O[kt]-nn)}for(var Ut in Be){var Lt=Be[Ut].l||{},Xt=Be[Ut].b||{},gt=Lt.val,Yt=Lt.size,tn=Xt.val,dn=Xt.size,rn=X-O.r-O.l,Ke=j-O.t-O.b;for(var St in Be){if(g(Yt)&&Be[St].r){var dt=Be[St].r.val,Re=Be[St].r.size;if(dt>gt){var it=(Yt*dt+(Re-rn)*gt)/(dt-gt),ye=(Re*(1-gt)+(Yt-rn)*(1-dt))/(dt-gt);it+ye>be+ze&&(be=it,ze=ye)}}if(g(dn)&&Be[St].t){var De=Be[St].t.val,$e=Be[St].t.size;if(De>tn){var je=(dn*De+($e-Ke)*tn)/(De-tn),Ye=($e*(1-tn)+(dn-Ke)*(1-De))/(De-tn);je+Ye>Oe+Ne&&(Oe=je,Ne=Ye)}}}}}var at=c.constrain(X-ae.l-ae.r,2,Ve),Rt=c.constrain(j-ae.t-ae.b,2,Pe),tt=Math.max(0,X-at),yt=Math.max(0,j-Rt);if(tt){var ct=(be+ze)/tt;ct>1&&(be/=ct,ze/=ct)}if(yt){var Et=(Oe+Ne)/yt;Et>1&&(Oe/=Et,Ne/=Et)}if(I.l=Math.round(be)+O.l,I.r=Math.round(ze)+O.r,I.t=Math.round(Ne)+O.t,I.b=Math.round(Oe)+O.b,I.p=Math.round(ae.pad),I.w=Math.round(X)-I.l-I.r,I.h=Math.round(j)-I.t-I.b,!P._replotting&&(b.didMarginChange(ne,I)||function le(B){if("_redrawFromAutoMarginCount"in B._fullLayout)return!1;var P=L.list(B,"",!0);for(var X in P)if(P[X].autoshift||P[X].shift)return!0;return!1}(B))){"_redrawFromAutoMarginCount"in P?P._redrawFromAutoMarginCount++:P._redrawFromAutoMarginCount=1;var hn=3*(1+Object.keys(Te).length);if(P._redrawFromAutoMarginCount<hn)return y.call("_doPlot",B);P._size=ne,c.warn("Too many auto-margin redraws.")}!function pe(B){var P=L.list(B,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(X){for(var j=0;j<P.length;j++){var I=P[j][X];I&&I()}})}(B)};var He=["l","r","t","b","p","w","h"];function ke(B,P,X){var j=!1;var Ne=c.syncOrAsync([b.previousPromises,function be(){if(B._transitionData)return B._transitioning=!1,function I(Oe){var Be=Promise.resolve();if(!Oe)return Be;for(;Oe.length;)Be=Be.then(Oe.shift());return Be}(B._transitionData._interruptCallbacks)},X.prepareFn,b.rehover,b.reselect,function O(){return B.emit("plotly_transitioning",[]),new Promise(function(Oe){B._transitioning=!0,P.duration>0&&(B._transitioningWithDuration=!0),B._transitionData._interruptCallbacks.push(function(){j=!0}),X.redraw&&B._transitionData._interruptCallbacks.push(function(){return y.call("redraw",B)}),B._transitionData._interruptCallbacks.push(function(){B.emit("plotly_transitioninterrupted",[])});var Be=0,Te=0;function Ve(){return Be++,function(){Te++,!j&&Te===Be&&function ne(Oe){if(B._transitionData)return function ae(Oe){if(Oe)for(;Oe.length;)Oe.shift()}(B._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(X.redraw)return y.call("redraw",B)}).then(function(){B._transitioning=!1,B._transitioningWithDuration=!1,B.emit("plotly_transitioned",[])}).then(Oe)}(Oe)}}X.runFn(Ve),setTimeout(Ve())})}],B);return(!Ne||!Ne.then)&&(Ne=Promise.resolve()),Ne.then(function(){return B})}b.didMarginChange=function(B,P){for(var X=0;X<He.length;X++){var j=He[X],I=B[j],ae=P[j];if(!g(I)||Math.abs(ae-I)>1)return!0}return!1},b.graphJson=function(B,P,X,j,I,ae){(I&&P&&!B._fullData||I&&!P&&!B._fullLayout)&&b.supplyDefaults(B);var ne=I?B._fullLayout:B.layout,be=(B._transitionData||{})._frames;function ze(Be,Te){if("function"==typeof Be)return Te?"_function_":null;if(c.isPlainObject(Be)){var Pe,Ve={};return Object.keys(Be).sort().forEach(function(st){if(-1===["_","["].indexOf(st.charAt(0))){if("function"==typeof Be[st])return void(Te&&(Ve[st]="_function"));if("keepdata"===X){if("src"===st.substr(st.length-3))return}else if("keepstream"===X){if("string"==typeof(Pe=Be[st+"src"])&&Pe.indexOf(":")>0&&!c.isPlainObject(Be.stream))return}else if("keepall"!==X&&"string"==typeof(Pe=Be[st+"src"])&&Pe.indexOf(":")>0)return;Ve[st]=ze(Be[st],Te)}}),Ve}var Je=Array.isArray(Be),Xe=c.isTypedArray(Be);if((Je||Xe)&&Be.dtype&&Be.shape){var Ge=Be.bdata;return ze({dtype:Be.dtype,shape:Be.shape,bdata:c.isArrayBuffer(Ge)?f.encode(Ge):Ge},Te)}return Je?Be.map(function(st){return ze(st,Te)}):Xe?c.simpleMap(Be,c.identity):c.isJSDate(Be)?c.ms2DateTimeLocal(+Be):Be}var Ne={data:((I?B._fullData:B.data)||[]).map(function(Be){var Te=ze(Be);return P&&delete Te.fit,Te})};if(!P&&(Ne.layout=ze(ne),I)){var Oe=ne._size;Ne.layout.computed={margin:{b:Oe.b,l:Oe.l,r:Oe.r,t:Oe.t}}}return be&&(Ne.frames=ze(be)),ae&&(Ne.config=ze(B._context,!0)),"object"===j?Ne:JSON.stringify(Ne)},b.modifyFrames=function(B,P){var X,j,I,ae=B._transitionData._frames,O=B._transitionData._frameHash;for(X=0;X<P.length;X++)switch(j=P[X],j.type){case"replace":var ne=(ae[j.index]||{}).name,be=(I=j.value).name;ae[j.index]=O[be]=I,be!==ne&&(delete O[ne],O[be]=I);break;case"insert":O[(I=j.value).name]=I,ae.splice(j.index,0,I);break;case"delete":delete O[(I=ae[j.index]).name],ae.splice(j.index,1)}return Promise.resolve()},b.computeFrame=function(B,P){var j,I,ae,O,X=B._transitionData._frameHash;if(!P)throw new Error("computeFrame must be given a string frame name");var ne=X[P.toString()];if(!ne)return!1;for(var be=[ne],ze=[ne.name];ne.baseframe&&(ne=X[ne.baseframe.toString()])&&-1===ze.indexOf(ne.name);)be.push(ne),ze.push(ne.name);for(var Ne={};ne=be.pop();)if(ne.layout&&(Ne.layout=b.extendLayout(Ne.layout,ne.layout)),ne.data){if(Ne.data||(Ne.data=[]),!(I=ne.traces))for(I=[],j=0;j<ne.data.length;j++)I[j]=j;for(Ne.traces||(Ne.traces=[]),j=0;j<ne.data.length;j++)null!=(ae=I[j])&&(-1===(O=Ne.traces.indexOf(ae))&&(Ne.traces[O=Ne.data.length]=ae),Ne.data[O]=b.extendTrace(Ne.data[O],ne.data[j]))}return Ne},b.recomputeFrameHash=function(B){for(var P=B._transitionData._frameHash={},X=B._transitionData._frames,j=0;j<X.length;j++){var I=X[j];I&&I.name&&(P[I.name]=I)}},b.extendObjectWithContainers=function(B,P,X){var j,I,ae,O,be,ze,Ne,Oe=c.extendDeepNoArrays({},P||{}),Be=c.expandObjectPaths(Oe),Te={};if(X&&X.length)for(ae=0;ae<X.length;ae++)void 0===(I=(j=c.nestedProperty(Be,X[ae])).get())?c.nestedProperty(Te,X[ae]).set(null):(j.set(null),c.nestedProperty(Te,X[ae]).set(I));if(B=c.extendDeepNoArrays(B||{},Be),X&&X.length)for(ae=0;ae<X.length;ae++)if(ze=c.nestedProperty(Te,X[ae]).get()){for(Ne=(be=c.nestedProperty(B,X[ae])).get(),Array.isArray(Ne)||be.set(Ne=[]),O=0;O<ze.length;O++){var Ve=ze[O];Ne[O]=null===Ve?null:b.extendObjectWithContainers(Ne[O],Ve)}be.set(Ne)}return B},b.dataArrayContainers=["transforms","dimensions"],b.layoutArrayContainers=y.layoutArrayContainers,b.extendTrace=function(B,P){return b.extendObjectWithContainers(B,P,b.dataArrayContainers)},b.extendLayout=function(B,P){return b.extendObjectWithContainers(B,P,b.layoutArrayContainers)},b.transition=function(B,P,X,j,I,ae){var O={redraw:I.redraw},ne={},be=[];return O.prepareFn=function(){for(var ze=Array.isArray(P)?P.length:0,Ne=j.slice(0,ze),Oe=0;Oe<Ne.length;Oe++){var Be=Ne[Oe],Ve=B._fullData[Be]._module;if(Ve){if(Ve.animatable){var Pe=Ve.basePlotModule.name;ne[Pe]||(ne[Pe]=[]),ne[Pe].push(Be)}B.data[Ne[Oe]]=b.extendTrace(B.data[Ne[Oe]],P[Oe])}}var Je=c.expandObjectPaths(c.extendDeepNoArrays({},X)),Xe=/^[xy]axis[0-9]*$/;for(var Ge in Je)Xe.test(Ge)&&delete Je[Ge].range;b.extendLayout(B.layout,Je),delete B.calcdata,b.supplyDefaults(B),b.doCalcdata(B);var st=c.expandObjectPaths(X);if(st){var wt=B._fullLayout._plots;for(var kt in wt){var At=wt[kt],Qt=At.xaxis,nn=At.yaxis,Ut=Qt.range.slice(),Lt=nn.range.slice(),Xt=null,gt=null,Yt=null,tn=null;Array.isArray(st[Qt._name+".range"])?Xt=st[Qt._name+".range"].slice():Array.isArray((st[Qt._name]||{}).range)&&(Xt=st[Qt._name].range.slice()),Array.isArray(st[nn._name+".range"])?gt=st[nn._name+".range"].slice():Array.isArray((st[nn._name]||{}).range)&&(gt=st[nn._name].range.slice()),Ut&&Xt&&(Qt.r2l(Ut[0])!==Qt.r2l(Xt[0])||Qt.r2l(Ut[1])!==Qt.r2l(Xt[1]))&&(Yt={xr0:Ut,xr1:Xt}),Lt&&gt&&(nn.r2l(Lt[0])!==nn.r2l(gt[0])||nn.r2l(Lt[1])!==nn.r2l(gt[1]))&&(tn={yr0:Lt,yr1:gt}),(Yt||tn)&&be.push(c.extendFlat({plotinfo:At},Yt,tn))}}return Promise.resolve()},O.runFn=function(ze){var Ne,Te,Oe=B._fullLayout._basePlotModules,Be=be.length;if(X)for(Te=0;Te<Oe.length;Te++)Oe[Te].transitionAxes&&Oe[Te].transitionAxes(B,be,ae,ze);for(var Ve in Be?((Ne=c.extendFlat({},ae)).duration=0,delete ne.cartesian):Ne=ae,ne){var Pe=ne[Ve];B._fullData[Pe[0]]._module.basePlotModule.plot(B,Pe,Ne,ze)}},ke(B,ae,O)},b.transitionFromReact=function(B,P,X,j){var I=B._fullLayout,ae=I.transition,O={},ne=[];return O.prepareFn=function(){var be=I._plots;for(var ze in O.redraw=!1,"some"===P.anim&&(O.redraw=!0),"some"===X.anim&&(O.redraw=!0),be){var Ne=be[ze],Oe=Ne.xaxis,Be=Ne.yaxis,Te=j[Oe._name].range.slice(),Ve=j[Be._name].range.slice(),Pe=Oe.range.slice(),Je=Be.range.slice();Oe.setScale(),Be.setScale();var Xe=null,Ge=null;(Oe.r2l(Te[0])!==Oe.r2l(Pe[0])||Oe.r2l(Te[1])!==Oe.r2l(Pe[1]))&&(Xe={xr0:Te,xr1:Pe}),(Be.r2l(Ve[0])!==Be.r2l(Je[0])||Be.r2l(Ve[1])!==Be.r2l(Je[1]))&&(Ge={yr0:Ve,yr1:Je}),(Xe||Ge)&&ne.push(c.extendFlat({plotinfo:Ne},Xe,Ge))}return Promise.resolve()},O.runFn=function(be){for(var Be,Te,Ve,ze=B._fullData,Oe=B._fullLayout._basePlotModules,Pe=[],Je=0;Je<ze.length;Je++)Pe.push(Je);function Xe(){if(B._fullLayout)for(var st=0;st<Oe.length;st++)Oe[st].transitionAxes&&Oe[st].transitionAxes(B,ne,Be,be)}function Ge(){if(B._fullLayout)for(var st=0;st<Oe.length;st++)Oe[st].plot(B,Ve,Te,be)}ne.length&&P.anim?"traces first"===ae.ordering?(Be=c.extendFlat({},ae,{duration:0}),Ve=Pe,Te=ae,setTimeout(Xe,ae.duration),Ge()):(Be=ae,Ve=null,Te=c.extendFlat({},ae,{duration:0}),setTimeout(Ge,Be.duration),Xe()):ne.length?(Be=ae,Xe()):P.anim&&(Ve=Pe,Te=ae,Ge())},ke(B,ae,O)},b.doCalcdata=function(B,P){var ae,O,ne,be,X=L.list(B),j=B._fullData,I=B._fullLayout,ze=new Array(j.length),Ne=(B.calcdata||[]).slice();for(B.calcdata=ze,I._numBoxes=0,I._numViolins=0,I._violinScaleGroupStats={},B._hmpixcount=0,B._hmlumcount=0,I._piecolormap={},I._sunburstcolormap={},I._treemapcolormap={},I._iciclecolormap={},I._funnelareacolormap={},ne=0;ne<j.length;ne++)if(Array.isArray(P)&&-1===P.indexOf(ne)){ze[ne]=Ne[ne];continue}for(ne=0;ne<j.length;ne++)(ae=j[ne])._arrayAttrs=m.findArrayAttributes(ae),ae._extremes={};var Oe=I._subplots.polar||[];for(ne=0;ne<Oe.length;ne++)X.push(I[Oe[ne]].radialaxis,I[Oe[ne]].angularaxis);for(var Be in I._colorAxes){var Te=I[Be];!1!==Te.cauto&&(delete Te.cmin,delete Te.cmax)}var Ve=!1;function Pe(Ge){if(O=(ae=j[Ge])._module,!0===ae.visible&&ae.transforms){if(O&&O.calc){var st=O.calc(B,ae);st[0]&&st[0].t&&st[0].t._scene&&delete st[0].t._scene.dirty}for(be=0;be<ae.transforms.length;be++){var wt=ae.transforms[be];(O=N[wt.type])&&O.calcTransform&&(ae._hasCalcTransform=!0,Ve=!0,O.calcTransform(B,ae,wt))}}}function Je(Ge,st){if(!!(O=(ae=j[Ge])._module).isContainer===st){var wt=[];if(!0===ae.visible&&0!==ae._length){delete ae._indexToPoints;var kt=ae.transforms||[];for(be=kt.length-1;be>=0;be--)if(kt[be].enabled){ae._indexToPoints=kt[be]._indexToPoints;break}O&&O.calc&&(wt=O.calc(B,ae))}(!Array.isArray(wt)||!wt[0])&&(wt=[{x:_,y:_}]),wt[0].t||(wt[0].t={}),wt[0].trace=ae,ze[Ge]=wt}}for(we(X,j,I),ne=0;ne<j.length;ne++)Je(ne,!0);for(ne=0;ne<j.length;ne++)Pe(ne);for(Ve&&we(X,j,I),ne=0;ne<j.length;ne++)Je(ne,!0);for(ne=0;ne<j.length;ne++)Je(ne,!1);Le(B);var Xe=function Me(B,P){var j,I,ae,O,ne,X=[];function be(St,dt,Re){var it=dt._id.charAt(0);if("histogram2dcontour"===St){var ye=dt._counterAxes[0],De=L.getFromId(P,ye),$e="x"===it||"x"===ye&&"category"===De.type,je="y"===it||"y"===ye&&"category"===De.type;return function(Ye,at){return 0===Ye||0===at||$e&&Ye===Re[at].length-1||je&&at===Re.length-1?-1:("y"===it?at:Ye)-1}}return function(Ye,at){return"y"===it?at:Ye}}var ze={min:function(St){return c.aggNums(Math.min,null,St)},max:function(St){return c.aggNums(Math.max,null,St)},sum:function(St){return c.aggNums(function(dt,Re){return dt+Re},null,St)},total:function(St){return c.aggNums(function(dt,Re){return dt+Re},null,St)},mean:function(St){return c.mean(St)},median:function(St){return c.median(St)}};function Ne(St,dt){return St[1]-dt[1]}function Oe(St,dt){return dt[1]-St[1]}for(j=0;j<B.length;j++){var Be=B[j];if("category"===Be.type){var Te=Be.categoryorder.match(Ue);if(Te){var Ve=Te[1],Pe=Te[2],Je=Be._id.charAt(0),Xe="x"===Je,Ge=[];for(I=0;I<Be._categories.length;I++)Ge.push([Be._categories[I],[]]);for(I=0;I<Be._traceIndices.length;I++){var st=Be._traceIndices[I],wt=P._fullData[st];if(!0===wt.visible){var kt=wt.type;y.traceIs(wt,"histogram")&&(delete wt._xautoBinFinished,delete wt._yautoBinFinished);var At="splom"===kt,Qt="scattergl"===kt,nn=P.calcdata[st];for(ae=0;ae<nn.length;ae++){var Lt,Xt,Ut=nn[ae];if(At){var gt=wt._axesDim[Be._id];if(!Xe){var Yt=wt._diag[gt][0];Yt&&(Be=P._fullLayout[L.id2name(Yt)])}var tn=Ut.trace.dimensions[gt].values;for(O=0;O<tn.length;O++)for(Lt=Be._categoriesMap[tn[O]],ne=0;ne<Ut.trace.dimensions.length;ne++)ne!==gt&&Ge[Lt][1].push(Ut.trace.dimensions[ne].values[O])}else if(Qt){for(O=0;O<Ut.t.x.length;O++)Xe?(Lt=Ut.t.x[O],Xt=Ut.t.y[O]):(Lt=Ut.t.y[O],Xt=Ut.t.x[O]),Ge[Lt][1].push(Xt);Ut.t&&Ut.t._scene&&delete Ut.t._scene.dirty}else if(Ut.hasOwnProperty("z")){var rn=be(wt.type,Be,Xt=Ut.z);for(O=0;O<Xt.length;O++)for(ne=0;ne<Xt[O].length;ne++)(Lt=rn(ne,O))+1&&Ge[Lt][1].push(Xt[O][ne])}else for(void 0===(Lt=Ut.p)&&(Lt=Ut[Je]),void 0===(Xt=Ut.s)&&(Xt=Ut.v),void 0===Xt&&(Xt=Xe?Ut.y:Ut.x),Array.isArray(Xt)||(Xt=void 0===Xt?[]:[Xt]),O=0;O<Xt.length;O++)Ge[Lt][1].push(Xt[O])}}}Be._categoriesValue=Ge;var Ke=[];for(I=0;I<Ge.length;I++)Ke.push([Ge[I][0],ze[Ve](Ge[I][1])]);Ke.sort("descending"===Pe?Oe:Ne),Be._categoriesAggregatedValue=Ke,Be._initialCategories=Ke.map(function(St){return St[0]}),X=X.concat(Be.sortByInitialCategories())}}}return X}(X,B);if(Xe.length){for(I._numBoxes=0,I._numViolins=0,ne=0;ne<Xe.length;ne++)Je(Xe[ne],!0);for(ne=0;ne<Xe.length;ne++)Je(Xe[ne],!1);Le(B)}y.getComponentMethod("fx","calc")(B),y.getComponentMethod("errorbars","calc")(B)};var Ue=/(total|sum|min|max|mean|median) (ascending|descending)/;function we(B,P,X){var j={};function I(be){be.clearCalc(),"multicategory"===be.type&&be.setupMultiCategory(P),j[be._id]=1}c.simpleMap(B,I);for(var ae=X._axisMatchGroups||[],O=0;O<ae.length;O++)for(var ne in ae[O])j[ne]||I(X[L.id2name(ne)])}function Le(B){var I,ae,O,P=B._fullLayout,X=P._visibleModules,j={};for(ae=0;ae<X.length;ae++){var ne=X[ae],be=ne.crossTraceCalc;if(be){var ze=ne.basePlotModule.name;j[ze]?c.pushUnique(j[ze],be):j[ze]=[be]}}for(O in j){var Ne=j[O],Oe=P._subplots[O];if(Array.isArray(Oe))for(I=0;I<Oe.length;I++){var Be=Oe[I],Te="cartesian"===O?P._plots[Be]:P[Be];for(ae=0;ae<Ne.length;ae++)Ne[ae](B,Te,Be)}else for(ae=0;ae<Ne.length;ae++)Ne[ae](B)}}b.rehover=function(B){B._fullLayout._rehover&&B._fullLayout._rehover()},b.redrag=function(B){B._fullLayout._redrag&&B._fullLayout._redrag()},b.reselect=function(B){var P=B._fullLayout,X=(B.layout||{}).selections,j=P._previousSelections;P._previousSelections=X;var I=P._reselect||JSON.stringify(X)!==JSON.stringify(j);y.getComponentMethod("selections","reselect")(B,I)},b.generalUpdatePerTraceModule=function(B,P,X,j){var O,I=P.traceHash,ae={};for(O=0;O<X.length;O++){var ne=X[O],be=ne[0].trace;be.visible&&(ae[be.type]=ae[be.type]||[],ae[be.type].push(ne))}for(var ze in I)if(!ae[ze]){var Ne=I[ze][0];Ne[0].trace.visible=!1,ae[ze]=[Ne]}for(var Be in ae){var Te=ae[Be];Te[0][0].trace._module.plot(B,P,c.filterVisible(Te),j)}P.traceHash=ae},b.plotBasePlot=function(B,P,X,j,I){var ae=y.getModule(B),O=E(P.calcdata,ae)[0];ae.plot(P,O,j,I)},b.cleanBasePlot=function(B,P,X,j,I){var ae=I._has&&I._has(B),O=X._has&&X._has(B);ae&&!O&&I["_"+B+"layer"].selectAll("g.trace").remove()}},1776:function(ve,K,o){"use strict";function y(m){var h=m.description?" "+m.description:"",c=m.keys||[];if(c.length>0){for(var C=[],_=0;_<c.length;_++)C[_]="`"+c[_]+"`";h+="Finally, the template string has access to ",h=1===c.length?h+"variable "+C[0]:h+"variables "+C.slice(0,-1).join(", ")+" and "+C.slice(-1)+"."}return h}o(6880),K.Ks=function(m,h){m=m||{},y(h=h||{});var C={valType:"string",dflt:"",editType:m.editType||"none"};return!1!==m.arrayOk&&(C.arrayOk=!0),C},K.Gw=function(m,h){m=m||{},y(h=h||{});var C={valType:"string",dflt:"",editType:m.editType||"calc"};return!1!==m.arrayOk&&(C.arrayOk=!0),C},K.ye=function(m,h){return m=m||{},y(h=h||{}),{valType:"string",dflt:"",editType:m.editType||"arraydraw"}}},4040:function(ve,K,o){"use strict";var p=o(4248),T=o(6628),v=o(2416),g=o(3620),f=o(2200).addStyleRule,y=o(2880),m=o(5464),h=o(4859),c=y.extendFlat,C=y.extendDeepAll;function _(N){var V=N.name,Y=N.categories,$=N.meta;if(K.modules[V])p.log("Type "+V+" already registered");else{K.subplotsRegistry[N.basePlotModule.name]||function L(N){var V=N.name;if(K.subplotsRegistry[V])p.log("Plot type "+V+" already registered.");else for(var Y in S(N),K.subplotsRegistry[V]=N,K.componentsRegistry)H(Y,N.name)}(N.basePlotModule);for(var Q={},se=0;se<Y.length;se++)Q[Y[se]]=!0,K.allCategories[Y[se]]=!0;for(var F in K.modules[V]={_module:N,categories:Q},$&&Object.keys($).length&&(K.modules[V].meta=$),K.allTypes.push(V),K.componentsRegistry)E(F,V);N.layoutAttributes&&c(K.traceLayoutAttributes,N.layoutAttributes);var J=N.basePlotModule,W=J.name;if("mapbox"===W){var te=J.constants.styleRules;for(var fe in te)f(".js-plotly-plot .plotly .mapboxgl-"+fe,te[fe])}("geo"===W||"mapbox"===W)&&void 0===window.PlotlyGeoAssets&&(window.PlotlyGeoAssets={topojson:{}})}}function D(N){if("string"!=typeof N.name)throw new Error("Component module *name* must be a string.");var V=N.name;for(var Y in K.componentsRegistry[V]=N,N.layoutAttributes&&(N.layoutAttributes._isLinkedToArray&&v(K.layoutArrayContainers,V),S(N)),K.modules)E(V,Y);for(var $ in K.subplotsRegistry)H(V,$);for(var Q in K.transformsRegistry)x(V,Q);N.schema&&N.schema.layout&&C(h,N.schema.layout)}function w(N){if("string"!=typeof N.name)throw new Error("Transform module *name* must be a string.");var V="Transform module "+N.name,Y="function"==typeof N.transform,$="function"==typeof N.calcTransform;if(!Y&&!$)throw new Error(V+" is missing a *transform* or *calcTransform* method.");for(var Q in Y&&$&&p.log([V+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),g(N.attributes)||p.log(V+" registered without an *attributes* object."),"function"!=typeof N.supplyDefaults&&p.log(V+" registered without a *supplyDefaults* method."),K.transformsRegistry[N.name]=N,K.componentsRegistry)x(Q,N.name)}function z(N){var V=N.name,Y=V.split("-")[0],$=N.dictionary,Q=N.format,se=$&&Object.keys($).length,F=Q&&Object.keys(Q).length,J=K.localeRegistry,W=J[V];if(W||(J[V]=W={}),Y!==V){var te=J[Y];te||(J[Y]=te={}),se&&te.dictionary===W.dictionary&&(te.dictionary=$),F&&te.format===W.format&&(te.format=Q)}se&&(W.dictionary=$),F&&(W.format=Q)}function S(N){if(N.layoutAttributes){var V=N.layoutAttributes._arrayAttrRegexps;if(V)for(var Y=0;Y<V.length;Y++)v(K.layoutArrayRegexes,V[Y])}}function E(N,V){var Y=K.componentsRegistry[N].schema;if(Y&&Y.traces){var $=Y.traces[V];$&&C(K.modules[V]._module.attributes,$)}}function x(N,V){var Y=K.componentsRegistry[N].schema;if(Y&&Y.transforms){var $=Y.transforms[V];$&&C(K.transformsRegistry[V].attributes,$)}}function H(N,V){var Y=K.componentsRegistry[N].schema;if(Y&&Y.subplots){var $=K.subplotsRegistry[V],Q=$.layoutAttributes,se="subplot"===$.attr?$.name:$.attr;Array.isArray(se)&&(se=se[0]);var F=Y.subplots[se];Q&&F&&C(Q,F)}}function b(N){return"object"==typeof N&&(N=N.type),N}K.modules={},K.allCategories={},K.allTypes=[],K.subplotsRegistry={},K.transformsRegistry={},K.componentsRegistry={},K.layoutArrayContainers=[],K.layoutArrayRegexes=[],K.traceLayoutAttributes={},K.localeRegistry={},K.apiMethodRegistry={},K.collectableSubplotTypes=null,K.register=function(V){if(K.collectableSubplotTypes=null,!V)throw new Error("No argument passed to Plotly.register.");V&&!Array.isArray(V)&&(V=[V]);for(var Y=0;Y<V.length;Y++){var $=V[Y];if(!$)throw new Error("Invalid module was attempted to be registered!");switch($.moduleType){case"trace":_($);break;case"transform":w($);break;case"component":D($);break;case"locale":z($);break;case"apiMethod":K.apiMethodRegistry[$.name]=$.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},K.getModule=function(N){var V=K.modules[b(N)];return!!V&&V._module},K.traceIs=function(N,V){if("various"===(N=b(N)))return!1;var Y=K.modules[N];return Y||(N&&p.log("Unrecognized trace type "+N+"."),Y=K.modules[m.type.dflt]),!!Y.categories[V]},K.getTransformIndices=function(N,V){for(var Y=[],$=N.transforms||[],Q=0;Q<$.length;Q++)$[Q].type===V&&Y.push(Q);return Y},K.hasTransform=function(N,V){for(var Y=N.transforms||[],$=0;$<Y.length;$++)if(Y[$].type===V)return!0;return!1},K.getComponentMethod=function(N,V){var Y=K.componentsRegistry[N];return Y&&Y[V]||T},K.call=function(){var N=arguments[0],V=[].slice.call(arguments,1);return K.apiMethodRegistry[N].apply(null,V)}},1536:function(ve,K,o){"use strict";var p=o(4040),T=o(3400),v=T.extendFlat,g=T.extendDeep;function f(m){var h;switch(m){case"themes__thumb":h={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":h={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:h={}}return h}ve.exports=function(h,c){var C,L=h.layout,D=g([],h.data),w=g({},L,f(c.tileClass)),z=h._context||{};if(c.width&&(w.width=c.width),c.height&&(w.height=c.height),"thumbnail"===c.tileClass||"themes__thumb"===c.tileClass){w.annotations=[];var S=Object.keys(w);for(C=0;C<S.length;C++)["xaxis","yaxis","zaxis"].indexOf(S[C].slice(0,5))>-1&&(w[S[C]].title={text:""});for(C=0;C<D.length;C++){var E=D[C];E.showscale=!1,E.marker&&(E.marker.showscale=!1),p.traceIs(E,"pie-like")&&(E.textposition="none")}}if(Array.isArray(c.annotations))for(C=0;C<c.annotations.length;C++)w.annotations.push(c.annotations[C]);var x=Object.keys(w).filter(function(Y){return Y.match(/^scene\d*$/)});if(x.length){var H={};for("thumbnail"===c.tileClass&&(H={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),C=0;C<x.length;C++){var b=w[x[C]];b.xaxis||(b.xaxis={}),b.yaxis||(b.yaxis={}),b.zaxis||(b.zaxis={}),v(b.xaxis,H),v(b.yaxis,H),v(b.zaxis,H),b._scene=null}}var N=document.createElement("div");c.tileClass&&(N.className=c.tileClass);var V={gd:N,td:N,layout:w,data:D,config:{staticPlot:void 0===c.staticPlot||c.staticPlot,plotGlPixelRatio:void 0===c.plotGlPixelRatio?2:c.plotGlPixelRatio,displaylogo:c.displaylogo||!1,showLink:c.showLink||!1,showTips:c.showTips||!1,mapboxAccessToken:z.mapboxAccessToken}};return"transparent"!==c.setBackground&&(V.config.setBackground=c.setBackground||"opaque"),V.gd.defaultLayout=f(c.tileClass),V}},7412:function(ve,K,o){"use strict";var p=o(3400),T=o(7024),v=o(8616),g=o(7030);ve.exports=function f(y,m){var h;return p.isPlainObject(y)||(h=p.getGraphDiv(y)),(m=m||{}).format=m.format||"png",m.width=m.width||null,m.height=m.height||null,m.imageDataOnly=!0,new Promise(function(c,C){h&&h._snapshotInProgress&&C(new Error("Snapshotting already in progress.")),p.isIE()&&"svg"!==m.format&&C(new Error(g.MSG_IE_BAD_FORMAT)),h&&(h._snapshotInProgress=!0);var _=T(y,m),L=m.filename||y.fn||"newplot";L+="."+m.format.replace("-","."),_.then(function(D){return h&&(h._snapshotInProgress=!1),v(D,L,m.format)}).then(function(D){c(D)}).catch(function(D){h&&(h._snapshotInProgress=!1),C(D)})})}},8616:function(ve,K,o){"use strict";var p=o(3400),T=o(7030);ve.exports=function v(g,f,y){var m=document.createElement("a"),h="download"in m;return new Promise(function(C,_){var L,D;return p.isIE()?(L=T.createBlob(g,"svg"),window.navigator.msSaveBlob(L,f),L=null,C(f)):h?(L=T.createBlob(g,y),D=T.createObjectURL(L),m.href=D,m.download=f,document.body.appendChild(m),m.click(),document.body.removeChild(m),T.revokeObjectURL(D),L=null,C(f)):p.isSafari()?(T.octetStream(("svg"===y?",":";base64,")+encodeURIComponent(g)),C(f)):void _(new Error("download error"))})}},7030:function(ve,K,o){"use strict";var p=o(4040);K.getDelay=function(g){return g._has&&(g._has("gl3d")||g._has("gl2d")||g._has("mapbox"))?500:0},K.getRedrawFunc=function(g){return function(){p.getComponentMethod("colorbar","draw")(g)}},K.encodeSVG=function(g){return"data:image/svg+xml,"+encodeURIComponent(g)},K.encodeJSON=function(g){return"data:application/json,"+encodeURIComponent(g)};var T=window.URL||window.webkitURL;K.createObjectURL=function(g){return T.createObjectURL(g)},K.revokeObjectURL=function(g){return T.revokeObjectURL(g)},K.createBlob=function(g,f){if("svg"===f)return new window.Blob([g],{type:"image/svg+xml;charset=utf-8"});if("full-json"===f)return new window.Blob([g],{type:"application/json;charset=utf-8"});var y=function v(g){for(var f=g.length,y=new ArrayBuffer(f),m=new Uint8Array(y),h=0;h<f;h++)m[h]=g.charCodeAt(h);return y}(window.atob(g));return new window.Blob([y],{type:"image/"+f})},K.octetStream=function(g){document.location.href="data:application/octet-stream"+g},K.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,K.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},8904:function(ve,K,o){"use strict";var p=o(7030),T={getDelay:p.getDelay,getRedrawFunc:p.getRedrawFunc,clone:o(1536),toSVG:o(7164),svgToImg:o(3268),toImage:o(1808),downloadImage:o(7412)};ve.exports=T},3268:function(ve,K,o){"use strict";var p=o(3400),T=o(1252).EventEmitter,v=o(7030);ve.exports=function g(f){var y=f.emitter||new T,m=new Promise(function(h,c){var C=window.Image,_=f.svg,L=f.format||"png";if(p.isIE()&&"svg"!==L){var D=new Error(v.MSG_IE_BAD_FORMAT);return c(D),f.promise?m:y.emit("error",D)}var V,Y,w=f.canvas,z=f.scale||1,x=z*(f.width||300),H=z*(f.height||150),b=w.getContext("2d",{willReadFrequently:!0}),N=new C;"svg"===L||p.isSafari()?Y=v.encodeSVG(_):(V=v.createBlob(_,"svg"),Y=v.createObjectURL(V)),w.width=x,w.height=H,N.onload=function(){var $;switch(V=null,v.revokeObjectURL(Y),"svg"!==L&&b.drawImage(N,0,0,x,H),L){case"jpeg":$=w.toDataURL("image/jpeg");break;case"png":$=w.toDataURL("image/png");break;case"webp":$=w.toDataURL("image/webp");break;case"svg":$=Y;break;default:var Q="Image format is not jpeg, png, svg or webp.";if(c(new Error(Q)),!f.promise)return y.emit("error",Q)}h($),f.promise||y.emit("success",$)},N.onerror=function($){if(V=null,v.revokeObjectURL(Y),c($),!f.promise)return y.emit("error",$)},N.src=Y});return f.promise?m:y}},1808:function(ve,K,o){"use strict";var p=o(1252).EventEmitter,T=o(4040),v=o(3400),g=o(7030),f=o(1536),y=o(7164),m=o(3268);ve.exports=function h(c,C){var _=new p,L=f(c,{format:"png"}),D=L.gd;D.style.position="absolute",D.style.left="-5000px",document.body.appendChild(D);var z=g.getRedrawFunc(D);return T.call("_doPlot",D,L.data,L.layout,L.config).then(z).then(function w(){var S=g.getDelay(D._fullLayout);setTimeout(function(){var E=y(D),x=document.createElement("canvas");x.id=v.randstr(),(_=m({format:C.format,width:D._fullLayout.width,height:D._fullLayout.height,canvas:x,emitter:_,svg:E})).clean=function(){D&&document.body.removeChild(D)}},S)}).catch(function(S){_.emit("error",S)}),_}},7164:function(ve,K,o){"use strict";var p=o(3428),T=o(3400),v=o(3616),g=o(6308),f=o(9616),y=/"/g,m="TOBESTRIPPED",h=new RegExp('("'+m+")|("+m+'")',"g");ve.exports=function(L,D,w){var b,z=L._fullLayout,S=z._paper,E=z._toppaper,x=z.width,H=z.height;S.insert("rect",":first-child").call(v.setRect,0,0,x,H).call(g.fill,z.paper_bgcolor);var N=z._basePlotModules||[];for(b=0;b<N.length;b++){var V=N[b];V.toSVG&&V.toSVG(L)}if(E){var Y=E.node().childNodes,$=Array.prototype.slice.call(Y);for(b=0;b<$.length;b++){var Q=$[b];Q.childNodes.length&&S.node().appendChild(Q)}}z._draggers&&z._draggers.remove(),S.node().style.background="",S.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var F=p.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){F.style({visibility:null,display:null});var J=this.style.fontFamily;J&&-1!==J.indexOf('"')&&F.style("font-family",J.replace(y,m))}else F.remove()}),S.selectAll(".gradient_filled,.pattern_filled").each(function(){var F=p.select(this),J=this.style.fill;J&&-1!==J.indexOf("url(")&&F.style("fill",J.replace(y,m));var W=this.style.stroke;W&&-1!==W.indexOf("url(")&&F.style("stroke",W.replace(y,m))}),("pdf"===D||"eps"===D)&&S.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),S.node().setAttributeNS(f.xmlns,"xmlns",f.svg),S.node().setAttributeNS(f.xmlns,"xmlns:xlink",f.xlink),"svg"===D&&w&&(S.attr("width",w*x),S.attr("height",w*H),S.attr("viewBox","0 0 "+x+" "+H));var se=(new window.XMLSerializer).serializeToString(S.node());return se=(se=function C(_){return _.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}(se=function c(_){var L=p.select("body").append("div").style({display:"none"}).html(""),D=_.replace(/(&[^;]*;)/gi,function(w){return"&lt;"===w?"&#60;":"&rt;"===w?"&#62;":-1!==w.indexOf("<")||-1!==w.indexOf(">")?"":L.html(w).text()});return L.remove(),D}(se))).replace(h,"'"),T.isIE()&&(se=(se=(se=se.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),se}},4664:function(ve,K,o){"use strict";var p=o(3400);ve.exports=function(v,g){for(var f=0;f<v.length;f++)v[f].i=f;p.mergeArray(g.text,v,"tx"),p.mergeArray(g.hovertext,v,"htx");var y=g.marker;if(y){p.mergeArray(y.opacity,v,"mo",!0),p.mergeArray(y.color,v,"mc");var m=y.line;m&&(p.mergeArray(m.color,v,"mlc"),p.mergeArrayCastPositive(m.width,v,"mlw"))}}},832:function(ve,K,o){"use strict";var p=o(2904),T=o(9736).axisHoverFormat,v=o(1776).Ks,g=o(1776).Gw,f=o(9084),y=o(5376),m=o(8048),h=o(8192).c,c=o(2880).extendFlat,C=y({editType:"calc",arrayOk:!0,colorEditType:"style"}),D=c({},p.marker.line.width,{dflt:0}),w=c({width:D,editType:"calc"},f("marker.line")),z=c({line:w,editType:"calc"},f("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:h,cornerradius:{valType:"any",editType:"calc"}});ve.exports={x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:p.xperiod0,yperiod0:p.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,xhoverformat:T("x"),yhoverformat:T("y"),text:p.text,texttemplate:g({editType:"plot"},{keys:m.eventDataKeys}),hovertext:p.hovertext,hovertemplate:v({},{keys:m.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:c({},C,{}),insidetextfont:c({},C,{}),outsidetextfont:c({},C,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:c({},p.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:z,offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup,selected:{marker:{opacity:p.selected.marker.opacity,color:p.selected.marker.color,editType:"style"},textfont:p.selected.textfont,editType:"style"},unselected:{marker:{opacity:p.unselected.marker.opacity,color:p.unselected.marker.color,editType:"style"},textfont:p.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},9439:function(ve,K,o){"use strict";var p=o(4460),T=o(1220),v=o(4288).hasColorscale,g=o(7128),f=o(4664),y=o(4500);ve.exports=function(h,c){var L,D,w,z,S,E,C=p.getFromId(h,c.xaxis||"x"),_=p.getFromId(h,c.yaxis||"y"),x={msUTC:!(!c.base&&0!==c.base)};"h"===c.orientation?(L=C.makeCalcdata(c,"x",x),w=_.makeCalcdata(c,"y"),z=T(c,_,"y",w),S=!!c.yperiodalignment,E="y"):(L=_.makeCalcdata(c,"y",x),w=C.makeCalcdata(c,"x"),z=T(c,C,"x",w),S=!!c.xperiodalignment,E="x"),D=z.vals;for(var H=Math.min(D.length,L.length),b=new Array(H),N=0;N<H;N++)b[N]={p:D[N],s:L[N]},S&&(b[N].orig_p=w[N],b[N][E+"End"]=z.ends[N],b[N][E+"Start"]=z.starts[N]),c.ids&&(b[N].id=String(c.ids[N]));return v(c,"marker")&&g(h,c,{vals:c.marker.color,containerStr:"marker",cLetter:"c"}),v(c,"marker.line")&&g(h,c,{vals:c.marker.line.color,containerStr:"marker.line",cLetter:"c"}),f(b,c),y(b,c),b}},8048:function(ve){"use strict";ve.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},6376:function(ve,K,o){"use strict";var p=o(8248),T=o(3400).isArrayOrTypedArray,v=o(9032).BADNUM,g=o(4040),f=o(4460),y=o(1888).getAxisGroup,m=o(2592);function c(W,te,fe,me,Z){if(me.length){var G,q,ie,ue;switch(function L(W,te){var fe,me;for(fe=0;fe<te.length;fe++){var ie,Z=te[fe],G=Z[0].trace,q="funnel"===G.type?G._base:G.base,ue="h"===G.orientation?G.xcalendar:G.ycalendar,le="category"===W.type||"multicategory"===W.type?function(){return null}:W.d2c;if(T(q)){for(me=0;me<Math.min(q.length,Z.length);me++)ie=le(q[me],0,ue),p(ie)?(Z[me].b=+ie,Z[me].hasB=1):Z[me].b=0;for(;me<Z.length;me++)Z[me].b=0}else{ie=le(q,0,ue);var pe=p(ie);for(ie=pe?ie:0,me=0;me<Z.length;me++)Z[me].b=ie,pe&&(Z[me].hasB=1)}}}(fe,me),Z.mode){case"overlay":D(te,fe,me,Z);break;case"group":for(G=[],q=[],ie=0;ie<me.length;ie++)void 0===(ue=me[ie])[0].trace.offset?q.push(ue):G.push(ue);q.length&&function w(W,te,fe,me,Z){var G=new m(me,{posAxis:te,sepNegVal:!1,overlapNoMerge:!Z.norm});(function E(W,te,fe,me){for(var Z=W._fullLayout,ie=fe.minDiff,ue=fe.traces,le=ue.length,pe=fe.positions.length!==fe.distinctPositions.length,He=ie*(1-me.gap),ke=y(Z,te._id)+ue[0][0].trace.orientation,Ue=Z._alignmentOpts[ke]||{},Me=0;Me<le;Me++){var X,I,we=ue[Me],Le=we[0].trace,P=Object.keys((Ue[Le.alignmentgroup]||{}).offsetGroups||{}).length,j=(X=P?He/P:pe?He/le:He)*(1-(me.groupgap||0));I=P?((2*Le._offsetIndex+1-P)*X-j)/2:pe?((2*Me+1-le)*X-j)/2:-j/2;var ae=we[0].t;ae.barwidth=j,ae.poffset=I,ae.bargroupwidth=He,ae.bardelta=ie}fe.binWidth=ue[0][0].t.barwidth/100,x(fe),H(te,fe),b(te,fe,pe)})(W,te,G,Z),function $(W,te){for(var fe=W.traces,me=0;me<fe.length;me++){var Z=fe[me];if(void 0===Z[0].trace.base)for(var q=new m([Z],{posAxis:te,sepNegVal:!0,overlapNoMerge:!0}),ie=0;ie<Z.length;ie++){var ue=Z[ie];if(ue.p!==v){var le=q.put(ue.p,ue.b+ue.s);le&&(ue.b=le)}}}}(G,te),Z.norm?(Y(G),Q(fe,G,Z)):N(fe,G)}(W,te,fe,q,Z),G.length&&D(te,fe,G,Z);break;case"stack":case"relative":for(G=[],q=[],ie=0;ie<me.length;ie++)void 0===(ue=me[ie])[0].trace.base?q.push(ue):G.push(ue);(function _(W){if(!(W.length<2)){var te,me,Z,G,q,ie;for(te=0;te<W.length&&void 0===(G=(me=W[te][0].trace).marker?me.marker.cornerradius:void 0);te++);if(void 0!==G)for(q=p(G)?+G:+G.slice(0,-1),ie=p(G)?"px":"%",te=0;te<W.length;te++)(Z=W[te][0].t).cornerradiusvalue=q,Z.cornerradiusform=ie}})(q),q.length&&function z(W,te,fe,me,Z){var G=new m(me,{posAxis:te,sepNegVal:"relative"===Z.mode,overlapNoMerge:!(Z.norm||"stack"===Z.mode||"relative"===Z.mode)});S(te,G,Z),function V(W,te,fe){var G,q,ie,ue,le,pe,me=J(W),Z=te.traces;for(ue=0;ue<Z.length;ue++)if("funnel"===(q=(G=Z[ue])[0].trace).type)for(le=0;le<G.length;le++)(pe=G[le]).s!==v&&te.put(pe.p,-.5*pe.s);for(ue=0;ue<Z.length;ue++){ie="funnel"===(q=(G=Z[ue])[0].trace).type;var He=[];for(le=0;le<G.length;le++)if((pe=G[le]).s!==v){var ke,Ue=te.put(pe.p,ke=ie?pe.s:pe.s+pe.b),Me=Ue+ke;pe.b=Ue,pe[me]=Me,fe.norm||(He.push(Me),pe.hasB&&He.push(Ue))}fe.norm||(q._extremes[W._id]=f.findExtremes(W,He,{tozero:!0,padded:!0}))}}(fe,G,Z);for(var q=0;q<me.length;q++)for(var ie=me[q],ue=0;ue<ie.length;ue++){var le=ie[ue];le.s!==v&&le.b+le.s===G.get(le.p,le.s)&&(le._outmost=!0)}Z.norm&&Q(fe,G,Z)}(0,te,fe,q,Z),G.length&&D(te,fe,G,Z)}(function C(W){var te,fe,me,Z,G,q,ie;for(te=0;te<W.length;te++)me=(fe=W[te])[0].trace,void 0===(Z=fe[0].t).cornerradiusvalue&&void 0!==(G=me.marker?me.marker.cornerradius:void 0)&&(q=p(G)?+G:+G.slice(0,-1),ie=p(G)?"px":"%",Z.cornerradiusvalue=q,Z.cornerradiusform=ie)})(me),function F(W,te){var Z,G,q,fe=J(te),me={},ie=1/0,ue=-1/0;for(Z=0;Z<W.length;Z++)for(q=W[Z],G=0;G<q.length;G++){var le=q[G].p;p(le)&&(ie=Math.min(ie,le),ue=Math.max(ue,le))}var pe=1e4/(ue-ie),He=me.round=function(ne){return String(Math.round(pe*(ne-ie)))},ke={},Ue={},Me=W.some(function(ne){var be=ne[0].trace;return"marker"in be&&be.marker.cornerradius});for(Z=0;Z<W.length;Z++){(q=W[Z])[0].t.extents=me;var we=q[0].t.poffset,Le=T(we);for(G=0;G<q.length;G++){var B=q[G],P=B[fe]-B.w/2;if(p(P)){var X=B[fe]+B.w/2,j=He(B.p);me[j]=me[j]?[Math.min(P,me[j][0]),Math.max(X,me[j][1])]:[P,X]}if(B.p0=B.p+(Le?we[G]:we),B.p1=B.p0+B.w,B.s0=B.b,B.s1=B.s0+B.s,Me){var I=Math.min(B.s0,B.s1)||0,ae=Math.max(B.s0,B.s1)||0,O=B[fe];ke[O]=O in ke?Math.min(ke[O],I):I,Ue[O]=O in Ue?Math.max(Ue[O],ae):ae}}}Me&&function se(W,te,fe,me){for(var Z=J(me),G=0;G<W.length;G++)for(var q=W[G],ie=0;ie<q.length;ie++){var ue=q[ie],le=ue[Z];ue._sMin=te[le],ue._sMax=fe[le]}}(W,ke,Ue,te)}(me,te)}}function D(W,te,fe,me){for(var Z=0;Z<fe.length;Z++){var q=new m([fe[Z]],{posAxis:W,sepNegVal:!1,overlapNoMerge:!me.norm});S(W,q,me),me.norm?(Y(q),Q(te,q,me)):N(te,q)}}function S(W,te,fe){for(var me=te.minDiff,Z=te.traces,G=me*(1-fe.gap),ie=G*(1-(fe.groupgap||0)),ue=-ie/2,le=0;le<Z.length;le++){var He=Z[le][0].t;He.barwidth=ie,He.poffset=ue,He.bargroupwidth=G,He.bardelta=me}te.binWidth=Z[0][0].t.barwidth/100,x(te),H(W,te),b(W,te)}function x(W){var fe,me,te=W.traces;for(fe=0;fe<te.length;fe++){var pe,Z=te[fe],G=Z[0],q=G.trace,ie=G.t,ue=q._offset||q.offset,le=ie.poffset;if(T(ue)){for(pe=Array.prototype.slice.call(ue,0,Z.length),me=0;me<pe.length;me++)p(pe[me])||(pe[me]=le);for(me=pe.length;me<Z.length;me++)pe.push(le);ie.poffset=pe}else void 0!==ue&&(ie.poffset=ue);var He=q._width||q.width,ke=ie.barwidth;if(T(He)){var Ue=Array.prototype.slice.call(He,0,Z.length);for(me=0;me<Ue.length;me++)p(Ue[me])||(Ue[me]=ke);for(me=Ue.length;me<Z.length;me++)Ue.push(ke);if(ie.barwidth=Ue,void 0===ue){for(pe=[],me=0;me<Z.length;me++)pe.push(le+(ke-Ue[me])/2);ie.poffset=pe}}else void 0!==He&&(ie.barwidth=He,void 0===ue&&(ie.poffset=le+(ke-He)/2))}}function H(W,te){for(var fe=te.traces,me=J(W),Z=0;Z<fe.length;Z++)for(var G=fe[Z],q=G[0].t,ie=q.poffset,ue=T(ie),le=q.barwidth,pe=T(le),He=0;He<G.length;He++){var ke=G[He],Ue=ke.w=pe?le[He]:le;void 0===ke.p&&(ke.p=ke[me],ke["orig_"+me]=ke[me]),ke[me]=ke.p+((ue?ie[He]:ie)+Ue/2)}}function b(W,te,fe){var me=te.traces,G=te.minDiff/2;f.minDtick(W,te.minDiff,te.distinctPositions[0],fe);for(var q=0;q<me.length;q++){var He,ke,Me,ie=me[q],ue=ie[0],le=ue.trace,pe=[];for(Me=0;Me<ie.length;Me++)pe.push(ke=(He=ie[Me]).p-G,He.p+G);if(le.width||le.offset){var we=ue.t,Le=we.poffset,B=we.barwidth,P=T(Le),X=T(B);for(Me=0;Me<ie.length;Me++)pe.push(ke=(He=ie[Me]).p+(P?Le[Me]:Le),ke+(X?B[Me]:B))}le._extremes[W._id]=f.findExtremes(W,pe,{padded:!1})}}function N(W,te){for(var fe=te.traces,me=J(W),Z=0;Z<fe.length;Z++){for(var G=fe[Z],q=G[0].trace,ie="scatter"===q.type,ue="v"===q.orientation,le=[],pe=!1,He=0;He<G.length;He++){var ke=G[He],Ue=ie?0:ke.b,Me=ie?ue?ke.y:ke.x:Ue+ke.s;ke[me]=Me,le.push(Me),ke.hasB&&le.push(Ue),(!ke.hasB||!ke.b)&&(pe=!0)}q._extremes[W._id]=f.findExtremes(W,le,{tozero:pe,padded:!0})}}function Y(W){for(var te=W.traces,fe=0;fe<te.length;fe++)for(var me=te[fe],Z=0;Z<me.length;Z++){var G=me[Z];G.s!==v&&W.put(G.p,G.b+G.s)}}function Q(W,te,fe){var me=te.traces,Z=J(W),G="fraction"===fe.norm?1:100,q=G/1e9,ie=W.l2c(W.c2l(0)),ue="stack"===fe.mode?G:ie;function le(I){return p(W.c2l(I))&&(I<ie-q||I>ue+q||!p(ie))}for(var pe=0;pe<me.length;pe++){for(var He=me[pe],ke=He[0].trace,Ue=[],Me=!1,we=!1,Le=0;Le<He.length;Le++){var B=He[Le];if(B.s!==v){var P=Math.abs(G/te.get(B.p,B.s));B.b*=P,B.s*=P;var X=B.b,j=X+B.s;B[Z]=j,Ue.push(j),we=we||le(j),B.hasB&&(Ue.push(X),we=we||le(X)),(!B.hasB||!B.b)&&(Me=!0)}}ke._extremes[W._id]=f.findExtremes(W,Ue,{tozero:Me,padded:we})}}function J(W){return W._id.charAt(0)}ve.exports={crossTraceCalc:function h(W,te){for(var fe=te.xaxis,me=te.yaxis,Z=W._fullLayout,G=W._fullData,q=W.calcdata,ie=[],ue=[],le=0;le<G.length;le++){var pe=G[le];if(!0===pe.visible&&g.traceIs(pe,"bar")&&pe.xaxis===fe._id&&pe.yaxis===me._id&&("h"===pe.orientation?ie.push(q[le]):ue.push(q[le]),pe._computePh))for(var He=W.calcdata[le],ke=0;ke<He.length;ke++)"function"==typeof He[ke].ph0&&(He[ke].ph0=He[ke].ph0()),"function"==typeof He[ke].ph1&&(He[ke].ph1=He[ke].ph1())}var Ue={xCat:"category"===fe.type||"multicategory"===fe.type,yCat:"category"===me.type||"multicategory"===me.type,mode:Z.barmode,norm:Z.barnorm,gap:Z.bargap,groupgap:Z.bargroupgap};c(W,fe,me,ue,Ue),c(W,me,fe,ie,Ue)},setGroupPositions:c}},1508:function(ve,K,o){"use strict";var p=o(8248),T=o(3400),v=o(6308),g=o(4040),f=o(3980),y=o(1147),m=o(5592),h=o(11),c=o(832),C=T.coerceFont;function D(z){if(p(z)){if((z=+z)>=0)return z}else if("string"==typeof z&&"%"===(z=z.trim()).slice(-1)&&p(z.slice(0,-1))&&(z=+z.slice(0,-1))>=0)return z+"%"}function w(z,S,E,x,H,b){var N=!1!==(b=b||{}).moduleHasSelected,V=!1!==b.moduleHasUnselected,Y=!1!==b.moduleHasConstrain,$=!1!==b.moduleHasCliponaxis,Q=!1!==b.moduleHasTextangle,se=!1!==b.moduleHasInsideanchor,F=!!b.hasPathbar,J=Array.isArray(H)||"auto"===H,W=J||"inside"===H,te=J||"outside"===H;if(W||te){var fe=C(x,"textfont",E.font),me=T.extendFlat({},fe),G=!(z.textfont&&z.textfont.color);if(G&&delete me.color,C(x,"insidetextfont",me),F){var q=T.extendFlat({},fe);G&&delete q.color,C(x,"pathbar.textfont",q)}te&&C(x,"outsidetextfont",fe),N&&x("selected.textfont.color"),V&&x("unselected.textfont.color"),Y&&x("constraintext"),$&&x("cliponaxis"),Q&&x("textangle"),x("texttemplate")}W&&se&&x("insidetextanchor")}ve.exports={supplyDefaults:function _(z,S,E,x){function H($,Q){return T.coerce(z,S,c,$,Q)}if(f(z,S,x,H)){y(z,S,x,H),H("xhoverformat"),H("yhoverformat"),H("orientation",S.x&&!S.y?"h":"v"),H("base"),H("offset"),H("width"),H("text"),H("hovertext"),H("hovertemplate");var N=H("textposition");w(z,0,x,H,N,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),m(z,S,H,E,x);var V=(S.marker.line||{}).color,Y=g.getComponentMethod("errorbars","supplyDefaults");Y(z,S,V||v.defaultLine,{axis:"y"}),Y(z,S,V||v.defaultLine,{axis:"x",inherit:"y"}),T.coerceSelectionMarkerOpacity(S,H)}else S.visible=!1},crossTraceDefaults:function L(z,S){var E,x;function H(V,Y){return T.coerce(x._input,x,c,V,Y)}for(var b=0;b<z.length;b++)if("bar"===(x=z[b]).type){E=x._input;var N=H("marker.cornerradius",S.barcornerradius);x.marker&&(x.marker.cornerradius=D(N)),"group"===S.barmode&&h(E,x,S,H)}},handleText:w,validateCornerradius:D}},2160:function(ve){"use strict";ve.exports=function(o,p,T){return o.x="xVal"in p?p.xVal:p.x,o.y="yVal"in p?p.yVal:p.y,p.xa&&(o.xaxis=p.xa),p.ya&&(o.yaxis=p.ya),"h"===T.orientation?(o.label=o.y,o.value=o.x):(o.label=o.x,o.value=o.y),o}},444:function(ve,K,o){"use strict";var p=o(8248),T=o(9760),v=o(3400).isArrayOrTypedArray;K.coerceString=function(g,f,y){if("string"==typeof f){if(f||!g.noBlank)return f}else if(("number"==typeof f||!0===f)&&!g.strict)return String(f);return void 0!==y?y:g.dflt},K.coerceNumber=function(g,f,y){if(p(f)){f=+f;var m=g.min,h=g.max;if(!(void 0!==m&&f<m||void 0!==h&&f>h))return f}return void 0!==y?y:g.dflt},K.coerceColor=function(g,f,y){return T(f).isValid()?f:void 0!==y?y:g.dflt},K.coerceEnumerated=function(g,f,y){return g.coerceNumber&&(f=+f),-1!==g.values.indexOf(f)?f:void 0!==y?y:g.dflt},K.getValue=function(g,f){var y;return v(g)?f<g.length&&(y=g[f]):y=g,y},K.getLineWidth=function(g,f){return 0<f.mlw?f.mlw:v(g.marker.line.width)?0:g.marker.line.width}},1020:function(ve,K,o){"use strict";var p=o(3024),T=o(4040),v=o(6308),g=o(3400).fillText,f=o(444).getLineWidth,y=o(4460).hoverLabelText,m=o(9032).BADNUM;function c(_,L,D,w,z){var Y,$,Q,se,F,J,W,S=_.cd,E=S[0].trace,x=S[0].t,H="closest"===w,b="waterfall"===E.type,N=_.maxHoverDistance,V=_.maxSpikeDistance;"h"===E.orientation?(Y=D,$=L,Q="y",se="x",F=Ue,J=pe):(Y=L,$=D,Q="x",se="y",J=Ue,F=pe);var te=E[Q+"period"],fe=H||te;function me(ne){return G(ne,-1)}function Z(ne){return G(ne,1)}function G(ne,be){return ne[Q]+be*ne.w/2}function q(ne){return ne[Q+"End"]-ne[Q+"Start"]}var ie=H?me:te?function(ne){return ne.p-q(ne)/2}:function(ne){return Math.min(me(ne),ne.p-x.bardelta/2)},ue=H?Z:te?function(ne){return ne.p+q(ne)/2}:function(ne){return Math.max(Z(ne),ne.p+x.bardelta/2)};function le(ne,be,ze){return z.finiteRange&&(ze=0),p.inbox(ne-Y,be-Y,ze+Math.min(1,Math.abs(be-ne)/W)-1)}function pe(ne){return le(ie(ne),ue(ne),N)}function ke(ne){var be=ne[se];if(b){var ze=Math.abs(ne.rawS)||0;$>0?be+=ze:$<0&&(be-=ze)}return be}function Ue(ne){var be=$,ze=ne.b,Ne=ke(ne);return p.inbox(ze-be,Ne-be,N+(Ne-be)/(Ne-ze)-1)}var we=_[Q+"a"],Le=_[se+"a"];W=Math.abs(we.r2c(we.range[1])-we.r2c(we.range[0]));var P=p.getDistanceFunction(w,F,J,function B(ne){return(F(ne)+J(ne))/2});if(p.getClosest(S,P,_),!1!==_.index&&S[_.index].p!==m){fe||(ie=function(ne){return Math.min(me(ne),ne.p-x.bargroupwidth/2)},ue=function(ne){return Math.max(Z(ne),ne.p+x.bargroupwidth/2)});var j=S[_.index],I=E.base?j.b+j.s:j.s;_[se+"0"]=_[se+"1"]=Le.c2p(j[se],!0),_[se+"LabelVal"]=I;var ae=x.extents[x.extents.round(j.p)];return _[Q+"0"]=we.c2p(H?ie(j):ae[0],!0),_[Q+"1"]=we.c2p(H?ue(j):ae[1],!0),_[Q+"LabelVal"]=void 0!==j.orig_p?j.orig_p:j.p,_.labelLabel=y(we,_[Q+"LabelVal"],E[Q+"hoverformat"]),_.valueLabel=y(Le,_[se+"LabelVal"],E[se+"hoverformat"]),_.baseLabel=y(Le,j.b,E[se+"hoverformat"]),_.spikeDistance=(function Me(ne){var be=$,ze=ne.b,Ne=ke(ne);return p.inbox(ze-be,Ne-be,V+(Ne-be)/(Ne-ze)-1)}(j)+function He(ne){return le(me(ne),Z(ne),V)}(j))/2,_[Q+"Spike"]=we.c2p(j.p,!0),g(j,E,_),_.hovertemplate=E.hovertemplate,_}}function C(_,L){var D=L.mcc||_.marker.color,w=L.mlcc||_.marker.line.color,z=f(_,L);return v.opacity(D)?D:v.opacity(w)&&z?w:void 0}ve.exports={hoverPoints:function h(_,L,D,w,z){var S=c(_,L,D,w,z);if(S){var E=S.cd,x=E[0].trace,H=E[S.index];return S.color=C(x,H),T.getComponentMethod("errorbars","hoverInfo")(H,x,S),[S]}},hoverOnBars:c,getTraceColor:C}},1132:function(ve,K,o){"use strict";ve.exports={attributes:o(832),layoutAttributes:o(9324),supplyDefaults:o(1508).supplyDefaults,crossTraceDefaults:o(1508).crossTraceDefaults,supplyLayoutDefaults:o(7156),calc:o(9439),crossTraceCalc:o(6376).crossTraceCalc,colorbar:o(5528),arraysToCalcdata:o(4664),plot:o(8184).plot,style:o(100).style,styleOnSelect:o(100).styleOnSelect,hoverPoints:o(1020).hoverPoints,eventData:o(2160),selectPoints:o(5784),moduleType:"trace",name:"bar",basePlotModule:o(7952),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},9324:function(ve){"use strict";ve.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}},7156:function(ve,K,o){"use strict";var p=o(4040),T=o(4460),v=o(3400),g=o(9324),f=o(1508).validateCornerradius;ve.exports=function(y,m,h){function c(b,N){return v.coerce(y,m,g,b,N)}for(var C=!1,_=!1,L=!1,D={},w=c("barmode"),z=0;z<h.length;z++){var S=h[z];if(p.traceIs(S,"bar")&&S.visible){if(C=!0,"group"===w){var E=S.xaxis+S.yaxis;D[E]&&(L=!0),D[E]=!0}S.visible&&"histogram"===S.type&&"category"!==T.getFromId({_fullLayout:m},S["v"===S.orientation?"xaxis":"yaxis"]).type&&(_=!0)}}if(C){"overlay"!==w&&c("barnorm"),c("bargap",_&&!L?0:.2),c("bargroupgap");var H=c("barcornerradius");m.barcornerradius=f(H)}else delete m.barmode}},8184:function(ve,K,o){"use strict";var p=o(3428),T=o(8248),v=o(3400),g=o(2736),f=o(6308),y=o(3616),m=o(4040),h=o(4460).tickText,c=o(2744),C=c.recordMinTextSize,_=c.clearMinTextSize,L=o(100),D=o(444),w=o(8048),z=o(832),S=z.text,E=z.textposition,x=o(624).appendArrayPointValue,H=w.TEXTPAD;function b(pe){return pe.id}function V(pe){return(pe>0)-(pe<0)}function Y(pe,He){return pe<He?1:-1}function Q(pe,He,ke,Ue){var Me;return!He.uniformtext.mode&&se(ke)?(Ue&&(Me=Ue()),pe.transition().duration(ke.duration).ease(ke.easing).each("end",function(){Me&&Me()}).each("interrupt",function(){Me&&Me()})):pe}function se(pe){return pe&&pe.duration>0}function W(pe,He,ke,Ue,Me){return!(pe<0||He<0)&&(ke<=pe&&Ue<=He||ke<=He&&Ue<=pe||(Me?pe>=ke*(He/Ue):He>=Ue*(pe/ke)))}function te(pe){return"auto"===pe?0:pe}function fe(pe,He){var ke=Math.PI/180*He,Ue=Math.abs(Math.sin(ke)),Me=Math.abs(Math.cos(ke));return{x:pe.width*Me+pe.height*Ue,y:pe.width*Ue+pe.height*Me}}function me(pe,He,ke,Ue,Me,we){var Le=!!we.isHorizontal,B=!!we.constrained,P=we.angle||0,X=we.anchor,j="end"===X,I="start"===X,O=((we.leftToRight||0)+1)/2,ne=1-O,be=we.hasB,ze=we.r,Ne=we.overhead,Oe=Me.width,Be=Me.height,Te=Math.abs(He-pe),Ve=Math.abs(Ue-ke),Pe=Te>2*H&&Ve>2*H?H:0;Te-=2*Pe,Ve-=2*Pe;var Je=te(P);"auto"===P&&!(Oe<=Te&&Be<=Ve)&&(Oe>Te||Be>Ve)&&(!(Oe>Ve||Be>Te)||Oe<Be!=Te<Ve)&&(Je+=90);var Ge,st,Xe=fe(Me,Je);if(ze&&ze-Ne>H){var wt=function Z(pe,He,ke,Ue,Me,we,Le,B,P){var be,ze,Ne,Oe,X=Math.max(0,Math.abs(He-pe)-2*H),j=Math.max(0,Math.abs(Ue-ke)-2*H),I=we-H,ae=Le?I-Math.sqrt(I*I-(I-Le)*(I-Le)):I;return Me.y/Me.x>=j/(X-(P?2*I:B?I-Le:2*ae))?Oe=j/Me.y:Me.y/Me.x<=(j-(P?2*I:B?2*ae:I-Le))/X?Oe=X/Me.x:!P&&B?(be=Me.x*Me.x+Me.y*Me.y/4,Ne=(X-I)*(X-I)+(j/2-I)*(j/2-I)-I*I,Oe=(-(ze=-2*Me.x*(X-I)-Me.y*(j/2-I))+Math.sqrt(ze*ze-4*be*Ne))/(2*be)):P?(be=(Me.x*Me.x+Me.y*Me.y)/4,Ne=(X/2-I)*(X/2-I)+(j/2-I)*(j/2-I)-I*I,Oe=(-(ze=-Me.x*(X/2-I)-Me.y*(j/2-I))+Math.sqrt(ze*ze-4*be*Ne))/(2*be)):(be=Me.x*Me.x/4+Me.y*Me.y,Ne=(X/2-I)*(X/2-I)+(j-I)*(j-I)-I*I,Oe=(-(ze=-Me.x*(X/2-I)-2*Me.y*(j-I))+Math.sqrt(ze*ze-4*be*Ne))/(2*be)),{scale:Oe=Math.min(1,Oe),pad:B?Math.max(0,I-Math.sqrt(Math.max(0,I*I-(I-(j-Me.y*Oe)/2)*(I-(j-Me.y*Oe)/2)))-Le):Math.max(0,I-Math.sqrt(Math.max(0,I*I-(I-(X-Me.x*Oe)/2)*(I-(X-Me.x*Oe)/2)))-Le)}}(pe,He,ke,Ue,Xe,ze,Ne,Le,be);Ge=wt.scale,st=wt.pad}else Ge=1,B&&(Ge=Math.min(1,Te/Xe.x,Ve/Xe.y)),st=0;var kt=Me.left*ne+Me.right*O,At=(Me.top+Me.bottom)/2,Qt=(pe+H)*ne+(He-H)*O,nn=(ke+Ue)/2,Ut=0,Lt=0;if(I||j){var Xt=(Le?Xe.x:Xe.y)/2;ze&&(j||be)&&(Pe+=st);var gt=Le?Y(pe,He):Y(ke,Ue);Le?I?(Qt=pe+gt*Pe,Ut=-gt*Xt):(Qt=He-gt*Pe,Ut=gt*Xt):I?(nn=ke+gt*Pe,Lt=-gt*Xt):(nn=Ue-gt*Pe,Lt=gt*Xt)}return{textX:kt,textY:At,targetX:Qt,targetY:nn,anchorX:Ut,anchorY:Lt,scale:Ge,rotate:Je}}ve.exports={plot:function F(pe,He,ke,Ue,Me,we){var Le=He.xaxis,B=He.yaxis,P=pe._fullLayout,X=pe._context.staticPlot;Me||(Me={mode:P.barmode,norm:P.barmode,gap:P.bargap,groupgap:P.bargroupgap},_("bar",P));var j=v.makeTraceGroups(Ue,ke,"trace bars").each(function(I){var ae=p.select(this),O=I[0].trace,ne=I[0].t,Ne="histogram"===O.type,Oe="bar"===O.type,Be=Oe||"funnel"===O.type,Te=0;"waterfall"===O.type&&O.connector.visible&&"between"===O.connector.mode&&(Te=O.connector.line.width/2);var Ve="h"===O.orientation,Pe=se(Me),Je=v.ensureSingle(ae,"g","points"),Xe=function N(pe){if(pe.ids)return b}(O),Ge=Je.selectAll("g.point").data(v.identity,Xe);Ge.enter().append("g").classed("point",!0),Ge.exit().remove(),Ge.each(function(wt,kt){var Yt,tn,At=p.select(this),Qt=function $(pe,He,ke,Ue){var Me=[],we=[],Le=Ue?He:ke,B=Ue?ke:He;return Me[0]=Le.c2p(pe.s0,!0),we[0]=B.c2p(pe.p0,!0),Me[1]=Le.c2p(pe.s1,!0),we[1]=B.c2p(pe.p1,!0),Ue?[Me,we]:[we,Me]}(wt,Le,B,Ve),nn=Qt[0][0],Ut=Qt[0][1],Lt=Qt[1][0],Xt=Qt[1][1],gt=0==(Ve?Ut-nn:Xt-Lt);if(gt&&Be&&D.getLineWidth(O,wt)&&(gt=!1),gt||(gt=!(T(nn)&&T(Ut)&&T(Lt)&&T(Xt))),wt.isBlank=gt,gt&&(Ve?Ut=nn:Xt=Lt),Te&&!gt&&(Ve?(nn-=Y(nn,Ut)*Te,Ut+=Y(nn,Ut)*Te):(Lt-=Y(Lt,Xt)*Te,Xt+=Y(Lt,Xt)*Te)),"waterfall"===O.type){if(!gt){var dn=O[wt.dir].marker;Yt=dn.line.width,tn=dn.color}}else Yt=D.getLineWidth(O,wt),tn=wt.mc||O.marker.color;function rn(kn){var Vn=p.round(Yt/2%1,2);return 0===Me.gap&&0===Me.groupgap?p.round(Math.round(kn)-Vn,2):kn}var dt=f.opacity(tn)<1||Yt>.01?rn:function Ke(kn,Vn,Zn){return Zn&&kn===Vn?kn:Math.abs(kn-Vn)>=2?rn(kn):kn>Vn?Math.ceil(kn):Math.floor(kn)};pe._context.staticPlot||(nn=dt(nn,Ut,Ve),Ut=dt(Ut,nn,Ve),Lt=dt(Lt,Xt,!Ve),Xt=dt(Xt,Lt,!Ve));var it,Re=Ve?Le.c2p:B.c2p;it=wt.s0>0?wt._sMax:wt.s0<0?wt._sMin:wt.s1>0?wt._sMax:wt._sMin;var $e,je,De=Oe||Ne?function ye(kn,Vn){if(!kn)return 0;var An,Zn=Math.abs(Ve?Xt-Lt:Ut-nn),bn=Math.abs(Ve?Ut-nn:Xt-Lt),Zt=dt(Math.abs(Re(it,!0)-Re(0,!0))),Nn=wt.hasB?Math.min(Zn/2,bn/2):Math.min(Zn/2,Zt);return An="%"===Vn?Zn*(Math.min(50,kn)/100):kn,dt(Math.max(Math.min(An,Nn),0))}(ne.cornerradiusvalue,ne.cornerradiusform):0,Ye="M"+nn+","+Lt+"V"+Xt+"H"+Ut+"V"+Lt+"Z",at=0;if(De&&wt.s){var Rt=0===V(wt.s0)||V(wt.s)===V(wt.s0)?wt.s1:wt.s0;if((at=dt(wt.hasB?0:Math.abs(Re(it,!0)-Re(Rt,!0))))<De){var tt=Y(nn,Ut),yt=Y(Lt,Xt),ct=tt===-yt?1:0;if(Ve)if(wt.hasB)$e="M"+(nn+De*tt)+","+Lt+"A "+De+","+De+" 0 0 "+ct+" "+nn+","+(Lt+De*yt)+"V"+(Xt-De*yt)+"A "+De+","+De+" 0 0 "+ct+" "+(nn+De*tt)+","+Xt+"H"+(Ut-De*tt)+"A "+De+","+De+" 0 0 "+ct+" "+Ut+","+(Xt-De*yt)+"V"+(Lt+De*yt)+"A "+De+","+De+" 0 0 "+ct+" "+(Ut-De*tt)+","+Lt+"Z";else{var Et=(je=Math.abs(Ut-nn)+at)<De?De-Math.sqrt(je*(2*De-je)):0,hn=at>0?Math.sqrt(at*(2*De-at)):0,Tn=tt>0?Math.max:Math.min;$e="M"+nn+","+Lt+"V"+(Xt-Et*yt)+"H"+Tn(Ut-(De-at)*tt,nn)+"A "+De+","+De+" 0 0 "+ct+" "+Ut+","+(Xt-De*yt-hn)+"V"+(Lt+De*yt+hn)+"A "+De+","+De+" 0 0 "+ct+" "+Tn(Ut-(De-at)*tt,nn)+","+(Lt+Et*yt)+"Z"}else if(wt.hasB)$e="M"+(nn+De*tt)+","+Lt+"A "+De+","+De+" 0 0 "+ct+" "+nn+","+(Lt+De*yt)+"V"+(Xt-De*yt)+"A "+De+","+De+" 0 0 "+ct+" "+(nn+De*tt)+","+Xt+"H"+(Ut-De*tt)+"A "+De+","+De+" 0 0 "+ct+" "+Ut+","+(Xt-De*yt)+"V"+(Lt+De*yt)+"A "+De+","+De+" 0 0 "+ct+" "+(Ut-De*tt)+","+Lt+"Z";else{var Rn=(je=Math.abs(Xt-Lt)+at)<De?De-Math.sqrt(je*(2*De-je)):0,Gn=at>0?Math.sqrt(at*(2*De-at)):0,Yn=yt>0?Math.max:Math.min;$e="M"+(nn+Rn*tt)+","+Lt+"V"+Yn(Xt-(De-at)*yt,Lt)+"A "+De+","+De+" 0 0 "+ct+" "+(nn+De*tt-Gn)+","+Xt+"H"+(Ut-De*tt+Gn)+"A "+De+","+De+" 0 0 "+ct+" "+(Ut-Rn*tt)+","+Yn(Xt-(De-at)*yt,Lt)+"V"+Lt+"Z"}}else $e=Ye}else $e=Ye;var Kt=Q(v.ensureSingle(At,"path"),P,Me,we);if(Kt.style("vector-effect",X?"none":"non-scaling-stroke").attr("d",isNaN((Ut-nn)*(Xt-Lt))||gt&&pe._context.staticPlot?"M0,0Z":$e).call(y.setClipUrl,He.layerClipId,pe),!P.uniformtext.mode&&Pe){var Wn=y.makePointStyleFns(O);y.singlePointStyle(wt,Kt,O,Wn,pe)}(function J(pe,He,ke,Ue,Me,we,Le,B,P,X,j,I,ae){var ze,O=He.xaxis,ne=He.yaxis,be=pe._fullLayout;function Ne(je,Ye,at){return v.ensureSingle(je,"text").text(Ye).attr({class:"bartext bartext-"+ze,"text-anchor":"middle","data-notex":1}).call(y.font,at).call(g.convertToTspans,pe)}var Oe=Ue[0].trace,Be="h"===Oe.orientation,Te=function q(pe,He,ke,Ue,Me){var B,we=He[0].trace;return B=we.texttemplate?function ue(pe,He,ke,Ue,Me){var we=He[0].trace,Le=v.castOption(we,ke,"texttemplate");if(!Le)return"";var I,ae,O,ne,B="histogram"===we.type,P="waterfall"===we.type,X="funnel"===we.type,j="h"===we.orientation;function be(Pe){return h(ae,ae.c2l(Pe),!0).text}function ze(Pe){return h(ne,ne.c2l(Pe),!0).text}j?(I="y",ae=Me,O="x",ne=Ue):(I="x",ae=Ue,O="y",ne=Me);var Ne=He[ke],Oe={};Oe.label=Ne.p,Oe.labelLabel=Oe[I+"Label"]=be(Ne.p);var Be=v.castOption(we,Ne.i,"text");(0===Be||Be)&&(Oe.text=Be),Oe.value=Ne.s,Oe.valueLabel=Oe[O+"Label"]=ze(Ne.s);var Te={};x(Te,we,Ne.i),(B||void 0===Te.x)&&(Te.x=j?Oe.value:Oe.label),(B||void 0===Te.y)&&(Te.y=j?Oe.label:Oe.value),(B||void 0===Te.xLabel)&&(Te.xLabel=j?Oe.valueLabel:Oe.labelLabel),(B||void 0===Te.yLabel)&&(Te.yLabel=j?Oe.labelLabel:Oe.valueLabel),P&&(Oe.delta=+Ne.rawS||Ne.s,Oe.deltaLabel=ze(Oe.delta),Oe.final=Ne.v,Oe.finalLabel=ze(Oe.final),Oe.initial=Oe.final-Oe.delta,Oe.initialLabel=ze(Oe.initial)),X&&(Oe.value=Ne.s,Oe.valueLabel=ze(Oe.value),Oe.percentInitial=Ne.begR,Oe.percentInitialLabel=v.formatPercent(Ne.begR),Oe.percentPrevious=Ne.difR,Oe.percentPreviousLabel=v.formatPercent(Ne.difR),Oe.percentTotal=Ne.sumR,Oe.percenTotalLabel=v.formatPercent(Ne.sumR));var Ve=v.castOption(we,Ne.i,"customdata");return Ve&&(Oe.customdata=Ve),v.texttemplateString(Le,Oe,pe._d3locale,Te,Oe,we._meta||{})}(pe,He,ke,Ue,Me):we.textinfo?function le(pe,He,ke,Ue){var Me=pe[0].trace,we="h"===Me.orientation,Le="waterfall"===Me.type,B="funnel"===Me.type;function P(Ve){return h(we?Ue:ke,Ve,!0).text}function X(Ve){return h(we?ke:Ue,+Ve,!0).text}var ne,I=pe[He],ae=Me.textinfo.split("+"),O=[],be=function(Ve){return-1!==ae.indexOf(Ve)};if(be("label")&&O.push(P(pe[He].p)),be("text")&&(0===(ne=v.castOption(Me,I.i,"text"))||ne)&&O.push(ne),Le){var ze=+I.rawS||I.s,Ne=I.v,Oe=Ne-ze;be("initial")&&O.push(X(Oe)),be("delta")&&O.push(X(ze)),be("final")&&O.push(X(Ne))}if(B){be("value")&&O.push(X(I.s));var Be=0;be("percent initial")&&Be++,be("percent previous")&&Be++,be("percent total")&&Be++;var Te=Be>1;be("percent initial")&&(ne=v.formatPercent(I.begR),Te&&(ne+=" of initial"),O.push(ne)),be("percent previous")&&(ne=v.formatPercent(I.difR),Te&&(ne+=" of previous"),O.push(ne)),be("percent total")&&(ne=v.formatPercent(I.sumR),Te&&(ne+=" of total"),O.push(ne))}return O.join("<br>")}(He,ke,Ue,Me):D.getValue(we.text,ke),D.coerceString(S,B)}(be,Ue,Me,O,ne);ze=function ie(pe,He){var ke=D.getValue(pe.textposition,He);return D.coerceEnumerated(E,ke)}(Oe,Me);var Pe=Ue[Me],Je=!("stack"===I.mode||"relative"===I.mode)||Pe._outmost,Xe=Pe.hasB,Ge=X&&X-j>H;if(Te&&"none"!==ze&&(!Pe.isBlank&&we!==Le&&B!==P||"auto"!==ze&&"inside"!==ze)){var st=be.font,wt=L.getBarColor(Ue[Me],Oe),kt=L.getInsideTextFont(Oe,Me,st,wt),At=L.getOutsideTextFont(Oe,Me,st),Qt=Oe.insidetextanchor||"end",nn=ke.datum();Be?"log"===O.type&&nn.s0<=0&&(we=O.range[0]<O.range[1]?0:O._length):"log"===ne.type&&nn.s0<=0&&(B=ne.range[0]<ne.range[1]?ne._length:0);var Yt,tn,dn,rn,Ke,Ut=Math.abs(Le-we),Lt=Math.abs(P-B),Xt=Ut-2*H,gt=Lt-2*H;if("outside"===ze&&!Je&&!Pe.hasB&&(ze="inside"),"auto"===ze)if(Je){ze="inside",Yt=Ne(ke,Te,Ke=v.ensureUniformFontSize(pe,kt)),rn=(tn=y.bBox(Yt.node())).height;var dt,St=(dn=tn.width)>0&&rn>0;dt=Ge?Xe?W(Xt-2*X,gt,dn,rn,Be)||W(Xt,gt-2*X,dn,rn,Be):Be?W(Xt-(X-j),gt,dn,rn,Be)||W(Xt,gt-2*(X-j),dn,rn,Be):W(Xt,gt-(X-j),dn,rn,Be)||W(Xt-2*(X-j),gt,dn,rn,Be):W(Xt,gt,dn,rn,Be),St&&dt?ze="inside":(ze="outside",Yt.remove(),Yt=null)}else ze="inside";if(!Yt){var Re=(Yt=Ne(ke,Te,Ke=v.ensureUniformFontSize(pe,"outside"===ze?At:kt))).attr("transform");if(Yt.attr("transform",""),dn=(tn=y.bBox(Yt.node())).width,rn=tn.height,Yt.attr("transform",Re),dn<=0||rn<=0)return void Yt.remove()}var ye,it=Oe.textangle;(ye="outside"===ze?function G(pe,He,ke,Ue,Me,we){var O,Le=!!we.isHorizontal,B=!!we.constrained,P=we.angle||0,X=Me.width,j=Me.height,I=Math.abs(He-pe),ae=Math.abs(Ue-ke);O=Le?ae>2*H?H:0:I>2*H?H:0;var ne=1;B&&(ne=Le?Math.min(1,ae/j):Math.min(1,I/X));var be=te(P),ze=fe(Me,be),Ne=(Le?ze.x:ze.y)/2,Oe=(Me.left+Me.right)/2,Be=(Me.top+Me.bottom)/2,Te=(pe+He)/2,Ve=(ke+Ue)/2,Pe=0,Je=0,Xe=Le?Y(He,pe):Y(ke,Ue);return Le?(Te=He-Xe*O,Pe=Xe*Ne):(Ve=Ue+Xe*O,Je=-Xe*Ne),{textX:Oe,textY:Be,targetX:Te,targetY:Ve,anchorX:Pe,anchorY:Je,scale:ne,rotate:be}}(we,Le,B,P,tn,{isHorizontal:Be,constrained:"both"===Oe.constraintext||"outside"===Oe.constraintext,angle:it}):me(we,Le,B,P,tn,{isHorizontal:Be,constrained:"both"===Oe.constraintext||"inside"===Oe.constraintext,angle:it,anchor:Qt,hasB:Xe,r:X,overhead:j})).fontSize=Ke.size,C("histogram"===Oe.type?"bar":Oe.type,ye,be),Pe.transform=ye;var $e=Q(Yt,be,I,ae);v.setTransormAndDisplay($e,ye)}else ke.select("text").remove()})(pe,He,At,I,kt,nn,Ut,Lt,Xt,De,at,Me,we),He.layerClipId&&y.hideOutsideRangePoint(wt,At.select("text"),Le,B,O.xcalendar,O.ycalendar)}),y.setClipUrl(ae,!1===O.cliponaxis?null:He.layerClipId,pe)});m.getComponentMethod("errorbars","plot")(pe,j,He,Me)},toMoveInsideBar:me}},5784:function(ve){"use strict";function K(o,p,T,v,g){var f=p.c2p(v?o.s0:o.p0,!0),y=p.c2p(v?o.s1:o.p1,!0),m=T.c2p(v?o.p0:o.s0,!0),h=T.c2p(v?o.p1:o.s1,!0);return g?[(f+y)/2,(m+h)/2]:v?[y,(m+h)/2]:[(f+y)/2,h]}ve.exports=function(p,T){var C,v=p.cd,g=p.xaxis,f=p.yaxis,y=v[0].trace,m="funnel"===y.type,h="h"===y.orientation,c=[];if(!1===T)for(C=0;C<v.length;C++)v[C].selected=0;else for(C=0;C<v.length;C++){var _=v[C],L="ct"in _?_.ct:K(_,g,f,h,m);T.contains(L,!1,C,p)?(c.push({pointNumber:C,x:g.c2d(_.x),y:f.c2d(_.y)}),_.selected=1):_.selected=0}return c}},2592:function(ve,K,o){"use strict";ve.exports=T;var p=o(3400).distinctVals;function T(v,g){this.traces=v,this.sepNegVal=g.sepNegVal,this.overlapNoMerge=g.overlapNoMerge;for(var f=1/0,y=g.posAxis._id.charAt(0),m=[],h=0;h<v.length;h++){for(var c=v[h],C=0;C<c.length;C++){var _=c[C],L=_.p;void 0===L&&(L=_[y]),void 0!==L&&m.push(L)}c[0]&&c[0].width1&&(f=Math.min(c[0].width1,f))}this.positions=m;var D=p(m);this.distinctPositions=D.vals,this.minDiff=1===D.vals.length&&f!==1/0?f:Math.min(D.minDiff,f);var w=(g.posAxis||{}).type;("category"===w||"multicategory"===w)&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}T.prototype.put=function(g,f){var y=this.getLabel(g,f),m=this.bins[y]||0;return this.bins[y]=m+f,m},T.prototype.get=function(g,f){var y=this.getLabel(g,f);return this.bins[y]||0},T.prototype.getLabel=function(g,f){return(f<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?g:Math.round(g/this.binWidth))}},100:function(ve,K,o){"use strict";var p=o(3428),T=o(6308),v=o(3616),g=o(3400),f=o(4040),y=o(2744).resizeText,m=o(832),h=m.textfont,c=m.insidetextfont,C=m.outsidetextfont,_=o(444);function D($,Q,se){v.pointStyle($.selectAll("path"),Q,se),w($,Q,se)}function w($,Q,se){$.selectAll("text").each(function(F){var J=p.select(this),W=g.ensureUniformFontSize(se,x(J,F,Q,se));v.font(J,W)})}function x($,Q,se,F){var J=F._fullLayout.font,W=se.textfont;if($.classed("bartext-inside")){var te=Y(Q,se);W=b(se,Q.i,J,te)}else $.classed("bartext-outside")&&(W=N(se,Q.i,J));return W}function H($,Q,se){return V(h,$.textfont,Q,se)}function b($,Q,se,F){var J=H($,Q,se);return(void 0===$._input.textfont||void 0===$._input.textfont.color||Array.isArray($.textfont.color)&&void 0===$.textfont.color[Q])&&(J={color:T.contrast(F),family:J.family,size:J.size}),V(c,$.insidetextfont,Q,J)}function N($,Q,se){var F=H($,Q,se);return V(C,$.outsidetextfont,Q,F)}function V($,Q,se,F){var J=_.getValue((Q=Q||{}).family,se),W=_.getValue(Q.size,se),te=_.getValue(Q.color,se);return{family:_.coerceString($.family,J,F.family),size:_.coerceNumber($.size,W,F.size),color:_.coerceColor($.color,te,F.color)}}function Y($,Q){return"waterfall"===Q.type?Q[$.dir].marker.color:$.mcc||$.mc||Q.marker.color}ve.exports={style:function L($){var Q=p.select($).selectAll("g.barlayer").selectAll("g.trace");y($,Q,"bar");var se=Q.size(),F=$._fullLayout;Q.style("opacity",function(J){return J[0].trace.opacity}).each(function(J){("stack"===F.barmode&&se>1||0===F.bargap&&0===F.bargroupgap&&!J[0].trace.marker.line.width)&&p.select(this).attr("shape-rendering","crispEdges")}),Q.selectAll("g.points").each(function(J){D(p.select(this),J[0].trace,$)}),f.getComponentMethod("errorbars","style")(Q)},styleTextPoints:w,styleOnSelect:function z($,Q,se){var F=Q[0].trace;F.selectedpoints?function S($,Q,se){v.selectedPointStyle($.selectAll("path"),Q),function E($,Q,se){$.each(function(F){var W,J=p.select(this);if(F.selected){W=g.ensureUniformFontSize(se,x(J,F,Q,se));var te=Q.selected.textfont&&Q.selected.textfont.color;te&&(W.color=te),v.font(J,W)}else v.selectedTextStyle(J,Q)})}($.selectAll("text"),Q,se)}(se,F,$):(D(se,F,$),f.getComponentMethod("errorbars","style")(se))},getInsideTextFont:b,getOutsideTextFont:N,getBarColor:Y,resizeText:y}},5592:function(ve,K,o){"use strict";var p=o(6308),T=o(4288).hasColorscale,v=o(7260),g=o(3400).coercePattern;ve.exports=function(y,m,h,c,C){var _=h("marker.color",c),L=T(y,"marker");L&&v(y,m,C,h,{prefix:"marker.",cLetter:"c"}),h("marker.line.color",p.defaultLine),T(y,"marker.line")&&v(y,m,C,h,{prefix:"marker.line.",cLetter:"c"}),h("marker.line.width"),h("marker.opacity"),g(h,"marker.pattern",_,L),h("selected.marker.color"),h("unselected.marker.color")}},2744:function(ve,K,o){"use strict";var p=o(3428),T=o(3400);function y(m){return"_"+m+"Text_minsize"}ve.exports={recordMinTextSize:function g(m,h,c){if(c.uniformtext.mode){var C=y(m),_=c.uniformtext.minsize,L=h.scale*h.fontSize;h.hide=L<_,c[C]=c[C]||1/0,h.hide||(c[C]=Math.min(c[C],Math.max(L,_)))}},clearMinTextSize:function f(m,h){h[y(m)]=void 0},resizeText:function v(m,h,c){var C=m._fullLayout,_=C["_"+c+"Text_minsize"];if(_){var D,L="hide"===C.uniformtext.mode;switch(c){case"funnelarea":case"pie":case"sunburst":D="g.slice";break;case"treemap":case"icicle":D="g.slice, g.pathbar";break;default:D="g.points > g.point"}h.selectAll(D).each(function(w){var z=w.transform;if(z){z.scale=L&&z.hide?0:_/z.fontSize;var S=p.select(this).select("text");T.setTransormAndDisplay(S,z)}})}}}},4996:function(ve,K,o){"use strict";var p=o(5464),T=o(6968).u,v=o(5376),g=o(2548),f=o(1776).Ks,y=o(1776).Gw,m=o(2880).extendFlat,h=o(8192).c,c=v({editType:"plot",arrayOk:!0,colorEditType:"plot"});ve.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:g.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:h,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:m({},p.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:f({},{keys:["label","color","value","percent","text"]}),texttemplate:y({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:m({},c,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:m({},c,{}),outsidetextfont:m({},c,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:m({},c,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:T({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:m({},c,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},36:function(ve,K,o){"use strict";var p=o(7316);K.name="pie",K.plot=function(T,v,g,f){p.plotBasePlot(K.name,T,v,g,f)},K.clean=function(T,v,g,f){p.cleanBasePlot(K.name,T,v,g,f)}},5768:function(ve,K,o){"use strict";var p=o(8248),T=o(9760),v=o(6308),g={};function y(c){return function(_,L){return!(!_||(_=T(_),!_.isValid()))&&(_=v.addOpacity(_,_.getAlpha()),c[L]||(c[L]=_),_)}}function h(c,C){var _,L=JSON.stringify(c),D=C[L];if(!D){for(D=c.slice(),_=0;_<c.length;_++)D.push(T(c[_]).lighten(20).toHexString());for(_=0;_<c.length;_++)D.push(T(c[_]).darken(20).toHexString());C[L]=D}return D}ve.exports={calc:function f(c,C){var H,b,_=[],L=c._fullLayout,D=L.hiddenlabels||[],w=C.labels,z=C.marker.colors||[],S=C.values,E=C._length,x=C._hasValues&&E;if(C.dlabel)for(w=new Array(E),H=0;H<E;H++)w[H]=String(C.label0+H*C.dlabel);var N={},V=y(L["_"+C.type+"colormap"]),Y=0,$=!1;for(H=0;H<E;H++){var Q,se,F;if(x){if(!p(Q=S[H]))continue;Q=+Q}else Q=1;(void 0===(se=w[H])||""===se)&&(se=H);var J=N[se=String(se)];void 0===J?(N[se]=_.length,(F=-1!==D.indexOf(se))||(Y+=Q),_.push({v:Q,label:se,color:V(z[H],se),i:H,pts:[H],hidden:F})):($=!0,(b=_[J]).v+=Q,b.pts.push(H),b.hidden||(Y+=Q),!1===b.color&&z[H]&&(b.color=V(z[H],se)))}return _=_.filter(function(te){return te.v>=0}),("funnelarea"===C.type?$:C.sort)&&_.sort(function(te,fe){return fe.v-te.v}),_[0]&&(_[0].vTotal=Y),_},crossTraceCalc:function m(c,C){var _=(C||{}).type;_||(_="pie");var L=c._fullLayout,D=c.calcdata,w=L[_+"colorway"],z=L["_"+_+"colormap"];L["extend"+_+"colors"]&&(w=h(w,g));for(var S=0,E=0;E<D.length;E++){var x=D[E];if(x[0].trace.type===_)for(var b=0;b<x.length;b++){var N=x[b];!1===N.color&&(z[N.label]?N.color=z[N.label]:(z[N.label]=N.color=w[S%w.length],S++))}}},makePullColorFn:y,generateExtendedColors:h}},4174:function(ve,K,o){"use strict";var p=o(8248),T=o(3400),v=o(4996),g=o(6968).Q,f=o(1508).handleText,y=o(3400).coercePattern;function m(C,_){var L=T.isArrayOrTypedArray(C),D=T.isArrayOrTypedArray(_),w=Math.min(L?C.length:1/0,D?_.length:1/0);if(isFinite(w)||(w=0),w&&D){for(var z,S=0;S<w;S++){var E=_[S];if(p(E)&&E>0){z=!0;break}}z||(w=0)}return{hasLabels:L,hasValues:D,len:w}}function h(C,_,L,D,w){D("marker.line.width")&&D("marker.line.color",w?void 0:L.paper_bgcolor);var S=D("marker.colors");y(D,"marker.pattern",S),C.marker&&!_.marker.pattern.fgcolor&&(_.marker.pattern.fgcolor=C.marker.colors),_.marker.pattern.bgcolor||(_.marker.pattern.bgcolor=L.paper_bgcolor)}ve.exports={handleLabelsAndValues:m,handleMarkerDefaults:h,supplyDefaults:function c(C,_,L,D){function w(J,W){return T.coerce(C,_,v,J,W)}var E=m(w("labels"),w("values")),x=E.len;if(_._hasLabels=E.hasLabels,_._hasValues=E.hasValues,!_._hasLabels&&_._hasValues&&(w("label0"),w("dlabel")),x){_._length=x,h(C,_,D,w,!0),w("scalegroup");var N,H=w("text"),b=w("texttemplate");if(b||(N=w("textinfo",T.isArrayOrTypedArray(H)?"text+percent":"percent")),w("hovertext"),w("hovertemplate"),b||N&&"none"!==N){var V=w("textposition");f(C,_,D,w,V,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(V)||"auto"===V||"outside"===V)&&w("automargin"),("inside"===V||"auto"===V||Array.isArray(V))&&w("insidetextorientation")}g(_,D,w);var Q=w("hole");if(w("title.text")){var F=w("title.position",Q?"middle center":"top center");!Q&&"middle center"===F&&(_.title.position="top center"),T.coerceFont(w,"title.font",D.font)}w("sort"),w("direction"),w("rotation"),w("pull")}else _.visible=!1}}},3644:function(ve,K,o){"use strict";var p=o(624).appendArrayMultiPointValues;ve.exports=function(v,g){var f={curveNumber:g.index,pointNumbers:v.pts,data:g._input,fullData:g,label:v.label,color:v.color,value:v.v,percent:v.percent,text:v.text,bbox:v.bbox,v:v.v};return 1===v.pts.length&&(f.pointNumber=f.i=v.pts[0]),p(f,g,v.pts),"funnelarea"===g.type&&(delete f.v,delete f.i),f}},1552:function(ve,K,o){"use strict";var p=o(3616),T=o(6308);ve.exports=function(g,f,y,m){var h=y.marker.pattern;h&&h.shape?p.pointStyle(g,y,m,f):T.fill(g,f.color)}},9656:function(ve,K,o){"use strict";var p=o(3400);function T(v){return-1!==v.indexOf("e")?v.replace(/[.]?0+e/,"e"):-1!==v.indexOf(".")?v.replace(/[.]?0+$/,""):v}K.formatPiePercent=function(g,f){var y=T((100*g).toPrecision(3));return p.numSeparate(y,f)+"%"},K.formatPieValue=function(g,f){var y=T(g.toPrecision(10));return p.numSeparate(y,f)},K.getFirstFilled=function(g,f){if(p.isArrayOrTypedArray(g))for(var y=0;y<f.length;y++){var m=g[f[y]];if(m||0===m||""===m)return m}},K.castOption=function(g,f){return p.isArrayOrTypedArray(g)?K.getFirstFilled(g,f):g||void 0},K.getRotationAngle=function(v){return("auto"===v?0:v)*Math.PI/180}},5792:function(ve,K,o){"use strict";ve.exports={attributes:o(4996),supplyDefaults:o(4174).supplyDefaults,supplyLayoutDefaults:o(248),layoutAttributes:o(5204),calc:o(5768).calc,crossTraceCalc:o(5768).crossTraceCalc,plot:o(7820).plot,style:o(2152),styleOne:o(528),moduleType:"trace",name:"pie",basePlotModule:o(36),categories:["pie-like","pie","showLegend"],meta:{}}},5204:function(ve){"use strict";ve.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},248:function(ve,K,o){"use strict";var p=o(3400),T=o(5204);ve.exports=function(g,f){function y(m,h){return p.coerce(g,f,T,m,h)}y("hiddenlabels"),y("piecolorway",f.colorway),y("extendpiecolors")}},7820:function(ve,K,o){"use strict";var p=o(3428),T=o(7316),v=o(3024),g=o(6308),f=o(3616),y=o(3400),m=y.strScale,h=y.strTranslate,c=o(2736),C=o(2744),_=C.recordMinTextSize,L=C.clearMinTextSize,D=o(8048).TEXTPAD,w=o(9656),z=o(3644),S=o(3400).isValidTextValue;function H(we,Le,B){var P=B[0],X=P.cx,j=P.cy,I=P.trace,ae="funnelarea"===I.type;"_hasHoverLabel"in I||(I._hasHoverLabel=!1),"_hasHoverEvent"in I||(I._hasHoverEvent=!1),we.on("mouseover",function(O){var ne=Le._fullLayout,be=Le._fullData[I.index];if(!Le._dragging&&!1!==ne.hovermode){var ze=be.hoverinfo;if(Array.isArray(ze)&&(ze=v.castHoverinfo({hoverinfo:[w.castOption(ze,O.pts)],_module:I._module},ne,0)),"all"===ze&&(ze="label+text+value+percent+name"),be.hovertemplate||"none"!==ze&&"skip"!==ze&&ze){var Ne=O.rInscribed||0,Oe=X+O.pxmid[0]*(1-Ne),Be=j+O.pxmid[1]*(1-Ne),Te=ne.separators,Ve=[];if(ze&&-1!==ze.indexOf("label")&&Ve.push(O.label),O.text=w.castOption(be.hovertext||be.text,O.pts),ze&&-1!==ze.indexOf("text")){var Pe=O.text;y.isValidTextValue(Pe)&&Ve.push(Pe)}O.value=O.v,O.valueLabel=w.formatPieValue(O.v,Te),ze&&-1!==ze.indexOf("value")&&Ve.push(O.valueLabel),O.percent=O.v/P.vTotal,O.percentLabel=w.formatPiePercent(O.percent,Te),ze&&-1!==ze.indexOf("percent")&&Ve.push(O.percentLabel);var Je=be.hoverlabel,Xe=Je.font,Ge=[];v.loneHover({trace:I,x0:Oe-Ne*P.r,x1:Oe+Ne*P.r,y:Be,_x0:ae?X+O.TL[0]:Oe-Ne*P.r,_x1:ae?X+O.TR[0]:Oe+Ne*P.r,_y0:ae?j+O.TL[1]:Be-Ne*P.r,_y1:ae?j+O.BL[1]:Be+Ne*P.r,text:Ve.join("<br>"),name:be.hovertemplate||-1!==ze.indexOf("name")?be.name:void 0,idealAlign:O.pxmid[0]<0?"left":"right",color:w.castOption(Je.bgcolor,O.pts)||O.color,borderColor:w.castOption(Je.bordercolor,O.pts),fontFamily:w.castOption(Xe.family,O.pts),fontSize:w.castOption(Xe.size,O.pts),fontColor:w.castOption(Xe.color,O.pts),nameLength:w.castOption(Je.namelength,O.pts),textAlign:w.castOption(Je.align,O.pts),hovertemplate:w.castOption(be.hovertemplate,O.pts),hovertemplateLabels:O,eventData:[z(O,be)]},{container:ne._hoverlayer.node(),outerContainer:ne._paper.node(),gd:Le,inOut_bbox:Ge}),O.bbox=Ge[0],I._hasHoverLabel=!0}I._hasHoverEvent=!0,Le.emit("plotly_hover",{points:[z(O,be)],event:p.event})}}),we.on("mouseout",function(O){var ne=Le._fullLayout,be=Le._fullData[I.index],ze=p.select(this).datum();I._hasHoverEvent&&(O.originalEvent=p.event,Le.emit("plotly_unhover",{points:[z(ze,be)],event:p.event}),I._hasHoverEvent=!1),I._hasHoverLabel&&(v.loneUnhover(ne._hoverlayer.node()),I._hasHoverLabel=!1)}),we.on("click",function(O){Le._dragging||!1===Le._fullLayout.hovermode||(Le._hoverdata=[z(O,Le._fullData[I.index])],v.click(Le,p.event))})}function N(we,Le,B){var P=w.castOption(we.insidetextfont.color,Le.pts);!P&&we._input.textfont&&(P=w.castOption(we._input.textfont.color,Le.pts));var X=w.castOption(we.insidetextfont.family,Le.pts)||w.castOption(we.textfont.family,Le.pts)||B.family,j=w.castOption(we.insidetextfont.size,Le.pts)||w.castOption(we.textfont.size,Le.pts)||B.size;return{color:P||g.contrast(Le.color),family:X,size:j}}function V(we,Le){for(var B,P,X=0;X<we.length;X++)if((P=(B=we[X][0]).trace).title.text){var j=P.title.text;P._meta&&(j=y.templateString(j,P._meta));var I=f.tester.append("text").attr("data-notex",1).text(j).call(f.font,P.title.font).call(c.convertToTspans,Le),ae=f.bBox(I.node(),!0);B.titleBox={width:ae.width,height:ae.height},I.remove()}}function Y(we,Le,B){var P=B.r||Le.rpx1,X=Le.rInscribed;if(Le.startangle===Le.stopangle)return{rCenter:1-X,scale:0,rotate:0,textPosAngle:0};var Ve,I=Le.ring,ae=1===I&&Math.abs(Le.startangle-Le.stopangle)===2*Math.PI,O=Le.halfangle,ne=Le.midangle,be=B.trace.insidetextorientation,ze="horizontal"===be,Ne="tangential"===be,Oe="radial"===be,Be="auto"===be,Te=[];if(!Be){var Je,Pe=function(At,Qt){if(function $(we,Le){var B=we.startangle,P=we.stopangle;return B>Le&&Le>P||B<Le&&Le<P}(Le,At)){var nn=Math.abs(At-Le.startangle),Ut=Math.abs(At-Le.stopangle),Lt=nn<Ut?nn:Ut;(Ve="tan"===Qt?se(we,P,I,Lt,0):Q(we,P,I,Lt,Math.PI/2)).textPosAngle=At,Te.push(Ve)}};if(ze||Ne){for(Je=4;Je>=-4;Je-=2)Pe(Math.PI*Je,"tan");for(Je=4;Je>=-4;Je-=2)Pe(Math.PI*(Je+1),"tan")}if(ze||Oe){for(Je=4;Je>=-4;Je-=2)Pe(Math.PI*(Je+1.5),"rad");for(Je=4;Je>=-4;Je-=2)Pe(Math.PI*(Je+.5),"rad")}}if(ae||Be||ze){var Xe=Math.sqrt(we.width*we.width+we.height*we.height);if((Ve={scale:X*P*2/Xe,rCenter:1-X,rotate:0}).textPosAngle=(Le.startangle+Le.stopangle)/2,Ve.scale>=1)return Ve;Te.push(Ve)}(Be||Oe)&&((Ve=Q(we,P,I,O,ne)).textPosAngle=(Le.startangle+Le.stopangle)/2,Te.push(Ve)),(Be||Ne)&&((Ve=se(we,P,I,O,ne)).textPosAngle=(Le.startangle+Le.stopangle)/2,Te.push(Ve));for(var Ge=0,st=0,wt=0;wt<Te.length;wt++){var kt=Te[wt].scale;if(st<kt&&(st=kt,Ge=wt),!Be&&st>=1)break}return Te[Ge]}function Q(we,Le,B,P,X){Le=Math.max(0,Le-2*D);var j=we.width/we.height,I=W(j,P,Le,B);return{scale:2*I/we.height,rCenter:F(j,I/Le),rotate:J(X)}}function se(we,Le,B,P,X){Le=Math.max(0,Le-2*D);var j=we.height/we.width,I=W(j,P,Le,B);return{scale:2*I/we.width,rCenter:F(j,I/Le),rotate:J(X+Math.PI/2)}}function F(we,Le){return Math.cos(Le)-we*Le}function J(we){return(180/Math.PI*we+720)%180-90}function W(we,Le,B,P){var X=we+1/(2*Math.tan(Le));return B*Math.min(1/(Math.sqrt(X*X+.5)+X),P/(Math.sqrt(we*we+P/2)+we))}function te(we,Le){return we.v!==Le.vTotal||Le.trace.hole?Math.min(1/(1+1/Math.sin(we.halfangle)),we.ring/2):1}function fe(we,Le){var B=Le.pxmid[0],P=Le.pxmid[1],X=we.width/2,j=we.height/2;return B<0&&(X*=-1),P<0&&(j*=-1),{scale:1,rCenter:1,rotate:0,x:X+Math.abs(j)*(X>0?1:-1)/2,y:j/(1+B*B/(P*P)),outside:!0}}function Z(we,Le){var X,B,P,j=we.trace,I={x:we.cx,y:we.cy},ae={tx:0,ty:0};ae.ty+=j.title.font.size,X=ie(j),-1!==j.title.position.indexOf("top")?(I.y-=(1+X)*we.r,ae.ty-=we.titleBox.height):-1!==j.title.position.indexOf("bottom")&&(I.y+=(1+X)*we.r);var O=function G(we,Le){return we/(void 0===Le?1:Le)}(we.r,we.trace.aspectratio),ne=Le.w*(j.domain.x[1]-j.domain.x[0])/2;return-1!==j.title.position.indexOf("left")?(ne+=O,I.x-=(1+X)*O,ae.tx+=we.titleBox.width/2):-1!==j.title.position.indexOf("center")?ne*=2:-1!==j.title.position.indexOf("right")&&(ne+=O,I.x+=(1+X)*O,ae.tx-=we.titleBox.width/2),B=ne/we.titleBox.width,P=q(we,Le)/we.titleBox.height,{x:I.x,y:I.y,scale:Math.min(B,P),tx:ae.tx,ty:ae.ty}}function q(we,Le){var B=we.trace;return Math.min(we.titleBox.height,Le.h*(B.domain.y[1]-B.domain.y[0])/2)}function ie(we){var B,Le=we.pull;if(!Le)return 0;if(y.isArrayOrTypedArray(Le))for(Le=0,B=0;B<we.pull.length;B++)we.pull[B]>Le&&(Le=we.pull[B]);return Le}function le(we,Le){for(var B=[],P=0;P<we.length;P++){var X=we[P][0],j=X.trace,I=j.domain,ae=Le.w*(I.x[1]-I.x[0]),O=Le.h*(I.y[1]-I.y[0]);j.title.text&&"middle center"!==j.title.position&&(O-=q(X,Le));var be=O/2;"funnelarea"===j.type&&!j.scalegroup&&(be/=j.aspectratio),X.r=Math.min(ae/2,be)/(1+ie(j)),X.cx=Le.l+Le.w*(j.domain.x[1]+j.domain.x[0])/2,X.cy=Le.t+Le.h*(1-j.domain.y[0])-O/2,j.title.text&&-1!==j.title.position.indexOf("bottom")&&(X.cy-=q(X,Le)),j.scalegroup&&-1===B.indexOf(j.scalegroup)&&B.push(j.scalegroup)}!function pe(we,Le){for(var B,P,X,j=0;j<Le.length;j++){var I=1/0,ae=Le[j];for(P=0;P<we.length;P++)if((X=(B=we[P][0]).trace).scalegroup===ae){var O;if("pie"===X.type)O=B.r*B.r;else if("funnelarea"===X.type){var ne,be;X.aspectratio>1?be=(ne=B.r)/X.aspectratio:ne=(be=B.r)*X.aspectratio,O=(ne*=(1+X.baseratio)/2)*be}I=Math.min(I,O/B.vTotal)}for(P=0;P<we.length;P++)if((X=(B=we[P][0]).trace).scalegroup===ae){var ze=I*B.vTotal;"funnelarea"===X.type&&(ze/=(1+X.baseratio)/2,ze/=X.aspectratio),B.r=Math.sqrt(ze)}}}(we,B)}function ke(we,Le){return[we*Math.sin(Le),-we*Math.cos(Le)]}function Ue(we,Le,B){var P=we._fullLayout,X=B.trace,j=X.texttemplate,I=X.textinfo;if(!j&&I&&"none"!==I){var Be,ae=I.split("+"),O=function(Ge){return-1!==ae.indexOf(Ge)},ne=O("label"),be=O("text"),ze=O("value"),Ne=O("percent"),Oe=P.separators;if(Be=ne?[Le.label]:[],be){var Te=w.getFirstFilled(X.text,Le.pts);S(Te)&&Be.push(Te)}ze&&Be.push(w.formatPieValue(Le.v,Oe)),Ne&&Be.push(w.formatPiePercent(Le.v/B.vTotal,Oe)),Le.text=Be.join("<br>")}if(j){var Pe=y.castOption(X,Le.i,"texttemplate");if(Pe){var Je=function Ve(Ge){return{label:Ge.label,value:Ge.v,valueLabel:w.formatPieValue(Ge.v,P.separators),percent:Ge.v/B.vTotal,percentLabel:w.formatPiePercent(Ge.v/B.vTotal,P.separators),color:Ge.color,text:Ge.text,customdata:y.castOption(X,Ge.i,"customdata")}}(Le),Xe=w.getFirstFilled(X.text,Le.pts);(S(Xe)||""===Xe)&&(Je.text=Xe),Le.text=y.texttemplateString(Pe,Je,we._fullLayout._d3locale,Je,X._meta||{})}else Le.text=""}}function Me(we,Le){var B=we.rotate*Math.PI/180,P=Math.cos(B),X=Math.sin(B),j=(Le.left+Le.right)/2,I=(Le.top+Le.bottom)/2;we.textX=j*P-I*X,we.textY=j*X+I*P,we.noCenter=!0}ve.exports={plot:function E(we,Le){var B=we._context.staticPlot,P=we._fullLayout,X=P._size;L("pie",P),V(Le,we),le(Le,X);var j=y.makeTraceGroups(P._pielayer,Le,"trace").each(function(I){var ae=p.select(this),O=I[0],ne=O.trace;(function He(we){var O,ne,be,Le=we[0],B=Le.r,P=Le.trace,X=w.getRotationAngle(P.rotation),j=2*Math.PI/Le.vTotal,I="px0",ae="px1";if("counterclockwise"===P.direction){for(O=0;O<we.length&&we[O].hidden;O++);if(O===we.length)return;X+=j*we[O].v,j*=-1,I="px1",ae="px0"}for(be=ke(B,X),O=0;O<we.length;O++)!(ne=we[O]).hidden&&(ne[I]=be,ne.startangle=X,ne.pxmid=ke(B,X+=j*ne.v/2),ne.midangle=X,be=ke(B,X+=j*ne.v/2),ne.stopangle=X,ne[ae]=be,ne.largeArc=ne.v>Le.vTotal/2?1:0,ne.halfangle=Math.PI*Math.min(ne.v/Le.vTotal,.5),ne.ring=1-P.hole,ne.rInscribed=te(ne,Le))})(I),ae.attr("stroke-linejoin","round"),ae.each(function(){var be=p.select(this).selectAll("g.slice").data(I);be.enter().append("g").classed("slice",!0),be.exit().remove();var ze=[[[],[]],[[],[]]],Ne=!1;be.each(function(Ge,st){if(Ge.hidden)p.select(this).selectAll("path,g").remove();else{Ge.pointNumber=Ge.i,Ge.curveNumber=ne.index,ze[Ge.pxmid[1]<0?0:1][Ge.pxmid[0]<0?0:1].push(Ge);var wt=O.cx,kt=O.cy,At=p.select(this),Qt=At.selectAll("path.surface").data([Ge]);if(Qt.enter().append("path").classed("surface",!0).style({"pointer-events":B?"none":"all"}),At.call(H,we,I),ne.pull){var nn=+w.castOption(ne.pull,Ge.pts)||0;nn>0&&(wt+=nn*Ge.pxmid[0],kt+=nn*Ge.pxmid[1])}Ge.cxFinal=wt,Ge.cyFinal=kt;var Lt=ne.hole;if(Ge.v===O.vTotal){var Xt="M"+(wt+Ge.px0[0])+","+(kt+Ge.px0[1])+Ut(Ge.px0,Ge.pxmid,!0,1)+Ut(Ge.pxmid,Ge.px0,!0,1)+"Z";Qt.attr("d",Lt?"M"+(wt+Lt*Ge.px0[0])+","+(kt+Lt*Ge.px0[1])+Ut(Ge.px0,Ge.pxmid,!1,Lt)+Ut(Ge.pxmid,Ge.px0,!1,Lt)+"Z"+Xt:Xt)}else{var gt=Ut(Ge.px0,Ge.px1,!0,1);if(Lt){var Yt=1-Lt;Qt.attr("d","M"+(wt+Lt*Ge.px1[0])+","+(kt+Lt*Ge.px1[1])+Ut(Ge.px1,Ge.px0,!1,Lt)+"l"+Yt*Ge.px0[0]+","+Yt*Ge.px0[1]+gt+"Z")}else Qt.attr("d","M"+wt+","+kt+"l"+Ge.px0[0]+","+Ge.px0[1]+gt+"Z")}Ue(we,Ge,O);var tn=w.castOption(ne.textposition,Ge.pts),dn=At.selectAll("g.slicetext").data(Ge.text&&"none"!==tn?[0]:[]);dn.enter().append("g").classed("slicetext",!0),dn.exit().remove(),dn.each(function(){var rn=y.ensureSingle(p.select(this),"text","",function($e){$e.attr("data-notex",1)}),Ke=y.ensureUniformFontSize(we,"outside"===tn?function b(we,Le,B){return{color:w.castOption(we.outsidetextfont.color,Le.pts)||w.castOption(we.textfont.color,Le.pts)||B.color,family:w.castOption(we.outsidetextfont.family,Le.pts)||w.castOption(we.textfont.family,Le.pts)||B.family,size:w.castOption(we.outsidetextfont.size,Le.pts)||w.castOption(we.textfont.size,Le.pts)||B.size}}(ne,Ge,P.font):N(ne,Ge,P.font));rn.text(Ge.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(f.font,Ke).call(c.convertToTspans,we);var dt,St=f.bBox(rn.node());if("outside"===tn)dt=fe(St,Ge);else if(dt=Y(St,Ge,O),"auto"===tn&&dt.scale<1){var Re=y.ensureUniformFontSize(we,ne.outsidetextfont);rn.call(f.font,Re),dt=fe(St=f.bBox(rn.node()),Ge)}var it=dt.textPosAngle,ye=void 0===it?Ge.pxmid:ke(O.r,it);if(dt.targetX=wt+ye[0]*dt.rCenter+(dt.x||0),dt.targetY=kt+ye[1]*dt.rCenter+(dt.y||0),Me(dt,St),dt.outside){var De=dt.targetY;Ge.yLabelMin=De-St.height/2,Ge.yLabelMid=De,Ge.yLabelMax=De+St.height/2,Ge.labelExtraX=0,Ge.labelExtraY=0,Ne=!0}dt.fontSize=Ke.size,_(ne.type,dt,P),I[st].transform=dt,y.setTransormAndDisplay(rn,dt)})}function Ut(rn,Ke,St,dt){return"a"+dt*O.r+","+dt*O.r+" 0 "+Ge.largeArc+(St?" 1 ":" 0 ")+dt*(Ke[0]-rn[0])+","+dt*(Ke[1]-rn[1])}});var Oe=p.select(this).selectAll("g.titletext").data(ne.title.text?[0]:[]);if(Oe.enter().append("g").classed("titletext",!0),Oe.exit().remove(),Oe.each(function(){var wt,Ge=y.ensureSingle(p.select(this),"text","",function(kt){kt.attr("data-notex",1)}),st=ne.title.text;ne._meta&&(st=y.templateString(st,ne._meta)),Ge.text(st).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(f.font,ne.title.font).call(c.convertToTspans,we),wt="middle center"===ne.title.position?function me(we){var Le=Math.sqrt(we.titleBox.width*we.titleBox.width+we.titleBox.height*we.titleBox.height);return{x:we.cx,y:we.cy,scale:we.trace.hole*we.r*2/Le,tx:0,ty:-we.titleBox.height/2+we.trace.title.font.size}}(O):Z(O,X),Ge.attr("transform",h(wt.x,wt.y)+m(Math.min(1,wt.scale))+h(wt.tx,wt.ty))}),Ne&&function ue(we,Le){var B,P,X,j,I,ae,O,ne,be,ze,Ne,Oe,Be;function Te(Xe,Ge){return Xe.pxmid[1]-Ge.pxmid[1]}function Ve(Xe,Ge){return Ge.pxmid[1]-Xe.pxmid[1]}function Pe(Xe,Ge){Ge||(Ge={});var nn,Ut,Lt,Yt,st=Ge.labelExtraY+(P?Ge.yLabelMax:Ge.yLabelMin),wt=P?Xe.yLabelMin:Xe.yLabelMax,kt=P?Xe.yLabelMax:Xe.yLabelMin,At=Xe.cyFinal+I(Xe.px0[1],Xe.px1[1]),Qt=st-wt;if(Qt*O>0&&(Xe.labelExtraY=Qt),y.isArrayOrTypedArray(Le.pull))for(Ut=0;Ut<ze.length;Ut++)!((Lt=ze[Ut])===Xe||(w.castOption(Le.pull,Xe.pts)||0)>=(w.castOption(Le.pull,Lt.pts)||0))&&((Xe.pxmid[1]-Lt.pxmid[1])*O>0?(Qt=Lt.cyFinal+I(Lt.px0[1],Lt.px1[1])-wt-Xe.labelExtraY)*O>0&&(Xe.labelExtraY+=Qt):(kt+Xe.labelExtraY-At)*O>0&&(nn=3*ae*Math.abs(Ut-ze.indexOf(Xe)),(Yt=Lt.cxFinal+j(Lt.px0[0],Lt.px1[0])+nn-(Xe.cxFinal+Xe.pxmid[0])-Xe.labelExtraX)*ae>0&&(Xe.labelExtraX+=Yt)))}for(P=0;P<2;P++)for(X=P?Te:Ve,I=P?Math.max:Math.min,O=P?1:-1,B=0;B<2;B++){for(j=B?Math.max:Math.min,ae=B?1:-1,(ne=we[P][B]).sort(X),ze=(be=we[1-P][B]).concat(ne),Oe=[],Ne=0;Ne<ne.length;Ne++)void 0!==ne[Ne].yLabelMid&&Oe.push(ne[Ne]);for(Be=!1,Ne=0;P&&Ne<be.length;Ne++)if(void 0!==be[Ne].yLabelMid){Be=be[Ne];break}for(Ne=0;Ne<Oe.length;Ne++){var Je=Ne&&Oe[Ne-1];Be&&!Ne&&(Je=Be),Pe(Oe[Ne],Je)}}}(ze,ne),function x(we,Le){we.each(function(B){var P=p.select(this);if(B.labelExtraX||B.labelExtraY){var X=P.select("g.slicetext text");B.transform.targetX+=B.labelExtraX,B.transform.targetY+=B.labelExtraY,y.setTransormAndDisplay(X,B.transform);var j=B.cxFinal+B.pxmid[0],ae="M"+j+","+(B.cyFinal+B.pxmid[1]),O=(B.yLabelMax-B.yLabelMin)*(B.pxmid[0]<0?-1:1)/4;if(B.labelExtraX){var ne=B.labelExtraX*B.pxmid[1]/B.pxmid[0],be=B.yLabelMid+B.labelExtraY-(B.cyFinal+B.pxmid[1]);Math.abs(ne)>Math.abs(be)?ae+="l"+be*B.pxmid[0]/B.pxmid[1]+","+be+"H"+(j+B.labelExtraX+O):ae+="l"+B.labelExtraX+","+ne+"v"+(be-ne)+"h"+O}else ae+="V"+(B.yLabelMid+B.labelExtraY)+"h"+O;y.ensureSingle(P,"path","textline").call(g.stroke,Le.outsidetextfont.color).attr({"stroke-width":Math.min(2,Le.outsidetextfont.size/8),d:ae,fill:"none"})}else P.select("path.textline").remove()})}(be,ne),Ne&&ne.automargin){var Be=f.bBox(ae.node()),Te=ne.domain,Je=(X.w*(Te.x[1]-Te.x[0])*.5-O.r)/X.w,Xe=(X.h*(Te.y[1]-Te.y[0])*.5-O.r)/X.h;T.autoMargin(we,"pie."+ne.uid+".automargin",{xl:Te.x[0]-Je,xr:Te.x[1]+Je,yb:Te.y[0]-Xe,yt:Te.y[1]+Xe,l:Math.max(O.cx-O.r-Be.left,0),r:Math.max(Be.right-(O.cx+O.r),0),b:Math.max(Be.bottom-(O.cy+O.r),0),t:Math.max(O.cy-O.r-Be.top,0),pad:5})}})});setTimeout(function(){j.selectAll("tspan").each(function(){var I=p.select(this);I.attr("dy")&&I.attr("dy",I.attr("dy"))})},0)},formatSliceLabel:Ue,transformInsideText:Y,determineInsideTextFont:N,positionTitleOutside:Z,prerenderTitles:V,layoutAreas:le,attachFxHandlers:H,computeTransform:Me}},2152:function(ve,K,o){"use strict";var p=o(3428),T=o(528),v=o(2744).resizeText;ve.exports=function(f){var y=f._fullLayout._pielayer.selectAll(".trace");v(f,y,"pie"),y.each(function(m){var c=m[0].trace,C=p.select(this);C.style({opacity:c.opacity}),C.selectAll("path.surface").each(function(_){p.select(this).call(T,_,c,f)})})}},528:function(ve,K,o){"use strict";var p=o(6308),T=o(9656).castOption,v=o(1552);ve.exports=function(f,y,m,h){var c=m.marker.line,C=T(c.color,y.pts)||p.defaultLine,_=T(c.width,y.pts)||0;f.call(v,y,m,h).style("stroke-width",_).call(p.stroke,C)}},148:function(ve,K,o){"use strict";var p=o(3400);ve.exports=function(v,g){for(var f=0;f<v.length;f++)v[f].i=f;p.mergeArray(g.text,v,"tx"),p.mergeArray(g.texttemplate,v,"txt"),p.mergeArray(g.hovertext,v,"htx"),p.mergeArray(g.customdata,v,"data"),p.mergeArray(g.textposition,v,"tp"),g.textfont&&(p.mergeArrayCastPositive(g.textfont.size,v,"ts"),p.mergeArray(g.textfont.color,v,"tc"),p.mergeArray(g.textfont.family,v,"tf"));var y=g.marker;if(y){p.mergeArrayCastPositive(y.size,v,"ms"),p.mergeArrayCastPositive(y.opacity,v,"mo"),p.mergeArray(y.symbol,v,"mx"),p.mergeArray(y.angle,v,"ma"),p.mergeArray(y.standoff,v,"mf"),p.mergeArray(y.color,v,"mc");var m=y.line;y.line&&(p.mergeArray(m.color,v,"mlc"),p.mergeArrayCastPositive(m.width,v,"mlw"));var h=y.gradient;h&&"none"!==h.type&&(p.mergeArray(h.type,v,"mgt"),p.mergeArray(h.color,v,"mgc"))}}},2904:function(ve,K,o){"use strict";var p=o(9736).axisHoverFormat,T=o(1776).Gw,v=o(1776).Ks,g=o(9084),f=o(5376),y=o(8192).u,m=o(8192).c,h=o(3616),c=o(8200),C=o(2880).extendFlat;ve.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:p("x"),yhoverformat:p("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:T({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:v({},{keys:c.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:C({},y,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:m,marker:C({symbol:{valType:"enumerated",values:h.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:C({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},g("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},g("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:f({editType:"calc",colorEditType:"style",arrayOk:!0})}},6356:function(ve,K,o){"use strict";var p=o(8248),T=o(3400),v=o(4460),g=o(1220),f=o(9032).BADNUM,y=o(3028),m=o(136),h=o(148),c=o(4500);function _(S,E,x,H,b,N,V){var Y=E._length,$=S._fullLayout,Q=x._id,se=H._id,F=$._firstScatter[w(E)]===E.uid,J=(z(E,$,x,H)||{}).orientation,W=E.fill;x._minDtick=0,H._minDtick=0;var te={padded:!0},fe={padded:!0};V&&(te.ppad=fe.ppad=V);var me=Y<2||b[0]!==b[Y-1]||N[0]!==N[Y-1];me&&("tozerox"===W||"tonextx"===W&&(F||"h"===J))?te.tozero=!0:!(E.error_y||{}).visible&&("tonexty"===W||"tozeroy"===W||!y.hasMarkers(E)&&!y.hasText(E))&&(te.padded=!1,te.ppad=0),me&&("tozeroy"===W||"tonexty"===W&&(F||"v"===J))?fe.tozero=!0:("tonextx"===W||"tozerox"===W)&&(fe.padded=!1),Q&&(E._extremes[Q]=v.findExtremes(x,b,te)),se&&(E._extremes[se]=v.findExtremes(H,N,fe))}function L(S,E){if(y.hasMarkers(S)){var b,x=S.marker,H=1.6*(S.marker.sizeref||1);if(b="area"===S.marker.sizemode?function(Q){return Math.max(Math.sqrt((Q||0)/H),3)}:function(Q){return Math.max((Q||0)/H,3)},T.isArrayOrTypedArray(x.size)){var N={type:"linear"};v.setConvert(N);for(var V=N.makeCalcdata(S.marker,"size"),Y=new Array(E),$=0;$<E;$++)Y[$]=b(V[$]);return Y}return b(x.size)}}function D(S,E){var x=w(E),H=S._firstScatter;H[x]||(H[x]=E.uid)}function w(S){var E=S.stackgroup;return S.xaxis+S.yaxis+S.type+(E?"-"+E:"")}function z(S,E,x,H){var b=S.stackgroup;if(b){var N=E._scatterStackOpts[x._id+H._id][b],V="v"===N.orientation?H:x;if("linear"===V.type||"log"===V.type)return N}}ve.exports={calc:function C(S,E){var me,Z,G,q,ie,ue,x=S._fullLayout,H=E._xA=v.getFromId(S,E.xaxis||"x","x"),b=E._yA=v.getFromId(S,E.yaxis||"y","y"),N=H.makeCalcdata(E,"x"),V=b.makeCalcdata(E,"y"),Y=g(E,H,"x",N),$=g(E,b,"y",V),Q=Y.vals,se=$.vals,F=E._length,J=new Array(F),W=E.ids,te=z(E,x,H,b),fe=!1;D(x,E);var He,le="x",pe="y";te?(T.pushUnique(te.traceIndices,E._expandedIndex),(me="v"===te.orientation)?(pe="s",He="x"):(le="s",He="y"),ie="interpolate"===te.stackgaps):_(S,E,H,b,Q,se,L(E,F));var Ue=!!E.xperiodalignment,Me=!!E.yperiodalignment;for(Z=0;Z<F;Z++){var we=J[Z]={},Le=p(Q[Z]),B=p(se[Z]);Le&&B?(we[le]=Q[Z],we[pe]=se[Z],Ue&&(we.orig_x=N[Z],we.xEnd=Y.ends[Z],we.xStart=Y.starts[Z]),Me&&(we.orig_y=V[Z],we.yEnd=$.ends[Z],we.yStart=$.starts[Z])):te&&(me?Le:B)?(we[He]=me?Q[Z]:se[Z],we.gap=!0,ie?(we.s=f,fe=!0):we.s=0):we[le]=we[pe]=f,W&&(we.id=String(W[Z]))}if(h(J,E),m(S,E),c(J,E),te){for(Z=0;Z<J.length;)J[Z][He]===f?J.splice(Z,1):Z++;if(T.sort(J,function(I,ae){return I[He]-ae[He]||I.i-ae.i}),fe){for(Z=0;Z<J.length-1&&J[Z].gap;)Z++;for((ue=J[Z].s)||(ue=J[Z].s=0),G=0;G<Z;G++)J[G].s=ue;for(q=J.length-1;q>Z&&J[q].gap;)q--;for(ue=J[q].s,G=J.length-1;G>q;G--)J[G].s=ue;for(;Z<q;)if(J[++Z].gap){for(G=Z+1;J[G].gap;)G++;for(var P=J[Z-1][He],X=J[Z-1].s,j=(J[G].s-X)/(J[G][He]-P);Z<G;)J[Z].s=X+(J[Z][He]-P)*j,Z++}}}return J},calcMarkerSize:L,calcAxisExpansion:_,setFirstScatter:D,getStackOpts:z}},4500:function(ve,K,o){"use strict";var p=o(3400);ve.exports=function(v,g){p.isArrayOrTypedArray(g.selectedpoints)&&p.tagSelected(v,g)}},136:function(ve,K,o){"use strict";var p=o(4288).hasColorscale,T=o(7128),v=o(3028);ve.exports=function(f,y){v.hasLines(y)&&p(y,"line")&&T(f,y,{vals:y.line.color,containerStr:"line",cLetter:"c"}),v.hasMarkers(y)&&(p(y,"marker")&&T(f,y,{vals:y.marker.color,containerStr:"marker",cLetter:"c"}),p(y,"marker.line")&&T(f,y,{vals:y.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},8200:function(ve){"use strict";ve.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},6664:function(ve,K,o){"use strict";var p=o(6356),T=o(6376).setGroupPositions;function g(y,m,h,c,C,_,L){C[c]=!0;var D={i:null,gap:!0,s:0};if(D[L]=h,y.splice(m,0,D),m&&h===y[m-1][L]){var w=y[m-1];D.s=w.s,D.i=w.i,D.gap=w.gap}else _&&(D.s=function f(y,m,h,c){var C=y[m-1],_=y[m+1];return _?C?C.s+(_.s-C.s)*(h-C[c])/(_[c]-C[c]):_.s:C.s}(y,m,h,L));m||(y[0].t=y[1].t,y[0].trace=y[1].trace,delete y[1].t,delete y[1].trace)}ve.exports=function(m,h){"group"===m._fullLayout.scattermode&&function v(y,m){for(var h=m.xaxis,c=m.yaxis,C=y._fullLayout,_=y._fullData,L=y.calcdata,D=[],w=[],z=0;z<_.length;z++){var S=_[z];!0===S.visible&&"scatter"===S.type&&S.xaxis===h._id&&S.yaxis===c._id&&("h"===S.orientation?D.push(L[z]):"v"===S.orientation&&w.push(L[z]))}var E={mode:C.scattermode,gap:C.scattergap};T(y,h,c,w,E),T(y,c,h,D,E)}(m,h);var c=h.xaxis,C=h.yaxis,L=m._fullLayout._scatterStackOpts[c._id+C._id];if(L){var w,z,S,E,x,H,b,N,V,Y,$,Q,se,F,J,D=m.calcdata;for(var W in L){var te=(Y=L[W]).traceIndices;if(te.length){for($="interpolate"===Y.stackgaps,Q=Y.groupnorm,"v"===Y.orientation?(se="x",F="y"):(se="y",F="x"),J=new Array(te.length),w=0;w<J.length;w++)J[w]=!1;H=D[te[0]];var fe=new Array(H.length);for(w=0;w<H.length;w++)fe[w]=H[w][se];for(w=1;w<te.length;w++){for(x=D[te[w]],z=S=0;z<x.length;z++){for(b=x[z][se];b>fe[S]&&S<fe.length;S++)g(x,z,fe[S],w,J,$,se),z++;if(b!==fe[S]){for(E=0;E<w;E++)g(D[te[E]],S,b,E,J,$,se);fe.splice(S,0,b)}S++}for(;S<fe.length;S++)g(x,z,fe[S],w,J,$,se),z++}var me=fe.length;for(z=0;z<H.length;z++){for(N=H[z][F]=H[z].s,w=1;w<te.length;w++)(x=D[te[w]])[0].trace._rawLength=x[0].trace._length,x[0].trace._length=me,x[z][F]=N+=x[z].s;if(Q)for(V=("fraction"===Q?N:N/100)||1,w=0;w<te.length;w++){var Z=D[te[w]][z];Z[F]/=V,Z.sNorm=Z.s/V}}for(w=0;w<te.length;w++){var G=(x=D[te[w]])[0].trace,q=p.calcMarkerSize(G,G._rawLength),ie=Array.isArray(q);if(q&&J[w]||ie){var ue=q;for(q=new Array(me),z=0;z<me;z++)q[z]=x[z].gap?0:ie?ue[x[z].i]:ue}var le=new Array(me),pe=new Array(me);for(z=0;z<me;z++)le[z]=x[z].x,pe[z]=x[z].y;p.calcAxisExpansion(m,G,c,C,le,pe,q),x[0].t.orientation=Y.orientation}}}}}},5036:function(ve,K,o){"use strict";var p=o(3400),T=o(11),v=o(2904);ve.exports=function(f,y){var h,c;function C(z){return p.coerce(h._input,h,v,z)}if("group"===y.scattermode)for(c=0;c<f.length;c++)"scatter"===(h=f[c]).type&&T(h._input,h,y,C);for(c=0;c<f.length;c++){var _=f[c];if("scatter"===_.type){var L=_.fill;if("none"!==L&&"toself"!==L&&(_.opacity=void 0,"tonexty"===L||"tonextx"===L))for(var D=c-1;D>=0;D--){var w=f[D];if("scatter"===w.type&&w.xaxis===_.xaxis&&w.yaxis===_.yaxis){w.opacity=void 0;break}}}}}},8800:function(ve,K,o){"use strict";var p=o(3400),T=o(4040),v=o(2904),g=o(8200),f=o(3028),y=o(3980),m=o(1147),h=o(3912),c=o(4428),C=o(6828),_=o(1731),L=o(124),D=o(840),w=o(3400).coercePattern;ve.exports=function(S,E,x,H){function b(J,W){return p.coerce(S,E,v,J,W)}var N=y(S,E,H,b);if(N||(E.visible=!1),E.visible){m(S,E,H,b),b("xhoverformat"),b("yhoverformat");var V=h(S,E,H,b);"group"===H.scattermode&&void 0===E.orientation&&b("orientation","v");var Y=!V&&N<g.PTS_LINESONLY?"lines+markers":"lines";b("text"),b("hovertext"),b("mode",Y),f.hasMarkers(E)&&c(S,E,x,H,b,{gradient:!0}),f.hasLines(E)&&(C(S,E,x,H,b,{backoff:!0}),_(S,E,b),b("connectgaps"),b("line.simplify")),f.hasText(E)&&(b("texttemplate"),L(S,E,H,b));var $=[];(f.hasMarkers(E)||f.hasText(E))&&(b("cliponaxis"),b("marker.maxdisplayed"),$.push("points")),b("fill",V?V.fillDflt:"none"),"none"!==E.fill&&(D(S,E,x,b),f.hasLines(E)||_(S,E,b),w(b,"fillpattern",E.fillcolor,!1));var Q=(E.line||{}).color,se=(E.marker||{}).color;("tonext"===E.fill||"toself"===E.fill)&&$.push("fills"),b("hoveron",$.join("+")||"points"),"fills"!==E.hoveron&&b("hovertemplate");var F=T.getComponentMethod("errorbars","supplyDefaults");F(S,E,Q||se||x,{axis:"y"}),F(S,E,Q||se||x,{axis:"x",inherit:"y"}),p.coerceSelectionMarkerOpacity(E,b)}}},840:function(ve,K,o){"use strict";var p=o(6308),T=o(3400).isArrayOrTypedArray;ve.exports=function(g,f,y,m){var h=!1;if(f.marker){var c=f.marker.color,C=(f.marker.line||{}).color;c&&!T(c)?h=c:C&&!T(C)&&(h=C)}m("fillcolor",p.addOpacity((f.line||{}).color||h||y,.5))}},6688:function(ve,K,o){"use strict";var p=o(4460);ve.exports=function(v,g,f){var y={},m={_fullLayout:f},h=p.getFromTrace(m,g,"x"),c=p.getFromTrace(m,g,"y"),C=v.orig_x;void 0===C&&(C=v.x);var _=v.orig_y;return void 0===_&&(_=v.y),y.xLabel=p.tickText(h,h.c2l(C),!0).text,y.yLabel=p.tickText(c,c.c2l(_),!0).text,y}},4928:function(ve,K,o){"use strict";var p=o(6308),T=o(3028);ve.exports=function(g,f){var y,m;if("lines"===g.mode)return(y=g.line.color)&&p.opacity(y)?y:g.fillcolor;if("none"===g.mode)return g.fill?g.fillcolor:"";var h=f.mcc||(g.marker||{}).color,c=f.mlcc||((g.marker||{}).line||{}).color;return(m=h&&p.opacity(h)?h:c&&p.opacity(c)&&(f.mlw||((g.marker||{}).line||{}).width)?c:"")?p.opacity(m)<.3?p.addOpacity(m,.3):m:(y=(g.line||{}).color)&&p.opacity(y)&&T.hasLines(g)&&g.line.width?y:g.fillcolor}},11:function(ve,K,o){"use strict";var p=o(1888).getAxisGroup;ve.exports=function(v,g,f,y){var m=g.orientation,c=p(f,g[{v:"x",h:"y"}[m]+"axis"])+m,C=f._alignmentOpts||{},_=y("alignmentgroup"),L=C[c];L||(L=C[c]={});var D=L[_];D?D.traces.push(g):D=L[_]={traces:[g],alignmentIndex:Object.keys(L).length,offsetGroups:{}};var w=y("offsetgroup"),z=D.offsetGroups,S=z[w];w&&(S||(S=z[w]={offsetIndex:Object.keys(z).length}),g._offsetIndex=S.offsetIndex)}},8723:function(ve,K,o){"use strict";var p=o(3400),T=o(3024),v=o(4040),g=o(4928),f=o(6308),y=p.fillText;ve.exports=function(h,c,C,_){var L=h.cd,D=L[0].trace,w=h.xa,z=h.ya,S=w.c2p(c),E=z.c2p(C),x=[S,E],H=D.hoveron||"",b=-1!==D.mode.indexOf("markers")?3:.5,N=!!D.xperiodalignment,V=!!D.yperiodalignment;if(-1!==H.indexOf("points")){var Q=function(He){var ke=Math.max(b,He.mrc||0),Ue=w.c2p(He.x)-S,Me=z.c2p(He.y)-E;return Math.max(Math.sqrt(Ue*Ue+Me*Me)-ke,1-b/ke)},se=T.getDistanceFunction(_,function(He){if(N){var ke=w.c2p(He.xStart),Ue=w.c2p(He.xEnd);return S>=Math.min(ke,Ue)&&S<=Math.max(ke,Ue)?0:1/0}var Me=Math.max(3,He.mrc||0),we=1-1/Me,Le=Math.abs(w.c2p(He.x)-S);return Le<Me?we*Le/Me:Le-Me+we},function(He){if(V){var ke=z.c2p(He.yStart),Ue=z.c2p(He.yEnd);return E>=Math.min(ke,Ue)&&E<=Math.max(ke,Ue)?0:1/0}var Me=Math.max(3,He.mrc||0),we=1-1/Me,Le=Math.abs(z.c2p(He.y)-E);return Le<Me?we*Le/Me:Le-Me+we},Q);if(T.getClosest(L,se,h),!1!==h.index){var F=L[h.index],J=w.c2p(F.x,!0),W=z.c2p(F.y,!0),te=F.mrc||1;h.index=F.i;var fe=L[0].t.orientation,me=fe&&(F.sNorm||F.s),Z="h"===fe?me:void 0!==F.orig_x?F.orig_x:F.x,G="v"===fe?me:void 0!==F.orig_y?F.orig_y:F.y;return p.extendFlat(h,{color:g(D,F),x0:J-te,x1:J+te,xLabelVal:Z,y0:W-te,y1:W+te,yLabelVal:G,spikeDistance:Q(F),hovertemplate:D.hovertemplate}),y(F,D,h),v.getComponentMethod("errorbars","hoverInfo")(F,D,h),[h]}}function q(He){if(!He)return!1;var ke=He.node();try{var Ue=new DOMPoint(x[0],x[1]);return ke.isPointInFill(Ue)}catch{var Me=ke.ownerSVGElement.createSVGPoint();return Me.x=x[0],Me.y=x[1],ke.isPointInFill(Me)}}if(-1!==H.indexOf("fills")&&D._fillElement&&q(D._fillElement)&&!q(D._fillExclusionElement)){var le=function ie(He){var ke,P,j,I,ae,O,be,ze,Ue=[],Me=1/0,we=-1/0,Le=1/0,B=-1/0;for(ke=0;ke<He.length;ke++){var X=He[ke];X.contains(x)&&(Ue.push(X),Le=Math.min(Le,X.ymin),B=Math.max(B,X.ymax))}if(0===Ue.length)return null;for(P=((Le=Math.max(Le,0))+(B=Math.min(B,z._length)))/2,ke=0;ke<Ue.length;ke++)for(I=Ue[ke].pts,j=1;j<I.length;j++)(be=I[j-1][1])>P!=(ze=I[j][1])>=P&&(O=I[j-1][0],ze-be&&(ae=O+(I[j][0]-O)*(P-be)/(ze-be),Me=Math.min(Me,ae),we=Math.max(we,ae)));return{x0:Me=Math.max(Me,0),x1:we=Math.min(we,w._length),y0:P,y1:P}}(D._polygons);null===le&&(le={x0:x[0],x1:x[0],y0:x[1],y1:x[1]});var pe=f.defaultLine;return f.opacity(D.fillcolor)?pe=D.fillcolor:f.opacity((D.line||{}).color)&&(pe=D.line.color),p.extendFlat(h,{distance:h.maxHoverDistance,x0:le.x0,x1:le.x1,y0:le.y0,y1:le.y1,color:pe,hovertemplate:!1}),delete h.index,h.text=D.text&&!p.isArrayOrTypedArray(D.text)?String(D.text):D.name,[h]}}},5875:function(ve,K,o){"use strict";var p=o(3028);ve.exports={hasLines:p.hasLines,hasMarkers:p.hasMarkers,hasText:p.hasText,isBubble:p.isBubble,attributes:o(2904),layoutAttributes:o(5308),supplyDefaults:o(8800),crossTraceDefaults:o(5036),supplyLayoutDefaults:o(9748),calc:o(6356).calc,crossTraceCalc:o(6664),arraysToCalcdata:o(148),plot:o(6504),colorbar:o(5528),formatLabels:o(6688),style:o(6844).style,styleOnSelect:o(6844).styleOnSelect,hoverPoints:o(8723),selectPoints:o(1560),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:o(7952),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},5308:function(ve){"use strict";ve.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},9748:function(ve,K,o){"use strict";var p=o(3400),T=o(5308);ve.exports=function(v,g){"group"===g.scattermode&&function f(m,h){return p.coerce(v,g,T,m,h)}("scattergap","group"===g.barmode?g.bargap:.2)}},6828:function(ve,K,o){"use strict";var p=o(3400).isArrayOrTypedArray,T=o(4288).hasColorscale,v=o(7260);ve.exports=function(f,y,m,h,c,C){C||(C={});var _=(f.marker||{}).color;_&&_._inputArray&&(_=_._inputArray),c("line.color",m),T(f,"line")?v(f,y,h,c,{prefix:"line.",cLetter:"c"}):c("line.color",!p(_)&&_||m),c("line.width"),C.noDash||c("line.dash"),C.backoff&&c("line.backoff")}},2340:function(ve,K,o){"use strict";var p=o(3616),T=o(9032),v=T.BADNUM,g=T.LOG_CLIP,f=g+.5,y=g-.5,m=o(3400),h=m.segmentsIntersect,c=m.constrain,C=o(8200);ve.exports=function(L,D){var Z,G,q,ie,ue,le,pe,He,ke,Ue,Me,we,Le,B,P,X,ae,O,w=D.trace||{},z=D.xaxis,S=D.yaxis,E="log"===z.type,x="log"===S.type,H=z._length,b=S._length,N=D.backoff,V=w.marker,Y=D.connectGaps,$=D.baseTolerance,Q=D.shape,se="linear"===Q,F=w.fill&&"none"!==w.fill,J=[],W=C.minTolerance,te=L.length,fe=new Array(te),me=0;function j(Ye){var at=L[Ye];if(!at)return!1;var Rt=D.linearized?z.l2p(at.x):z.c2p(at.x),tt=D.linearized?S.l2p(at.y):S.c2p(at.y);if(Rt===v){if(E&&(Rt=z.c2p(at.x,!0)),Rt===v)return!1;x&&tt===v&&(Rt*=Math.abs(z._m*b*(z._m>0?f:y)/(S._m*H*(S._m>0?f:y)))),Rt*=1e3}if(tt===v){if(x&&(tt=S.c2p(at.y,!0)),tt===v)return!1;tt*=1e3}return[Rt,tt]}function I(Ye,at,Rt,tt){var yt=Rt-Ye,ct=tt-at,Et=.5-Ye,hn=.5-at,Tn=yt*yt+ct*ct,Rn=yt*Et+ct*hn;if(Rn>0&&Rn<Tn){var Gn=Et*ct-hn*yt;if(Gn*Gn<Tn)return!0}}function ne(Ye,at){var Rt=Ye[0]/H,tt=Ye[1]/b,yt=Math.max(0,-Rt,Rt-1,-tt,tt-1);return yt&&void 0!==ae&&I(Rt,tt,ae,O)&&(yt=0),yt&&at&&I(Rt,tt,at[0]/H,at[1]/b)&&(yt=0),(1+C.toleranceGrowth*yt)*$}function be(Ye,at){var Rt=Ye[0]-at[0],tt=Ye[1]-at[1];return Math.sqrt(Rt*Rt+tt*tt)}var Pe,Je,Xe,Ge,st,wt,Lt,ze=C.maxScreensAway,Ne=-H*ze,Oe=H*(1+ze),Be=-b*ze,Te=b*(1+ze),Ve=[[Ne,Be,Oe,Be],[Oe,Be,Oe,Te],[Oe,Te,Ne,Te],[Ne,Te,Ne,Be]];function At(Ye){if(Ye[0]<Ne||Ye[0]>Oe||Ye[1]<Be||Ye[1]>Te)return[c(Ye[0],Ne,Oe),c(Ye[1],Be,Te)]}function Qt(Ye,at){if(Ye[0]===at[0]&&(Ye[0]===Ne||Ye[0]===Oe)||Ye[1]===at[1]&&(Ye[1]===Be||Ye[1]===Te))return!0}function Ut(Ye,at,Rt){return function(tt,yt){var ct=At(tt),Et=At(yt),hn=[];if(ct&&Et&&Qt(ct,Et))return hn;ct&&hn.push(ct),Et&&hn.push(Et);var Tn=2*m.constrain((tt[Ye]+yt[Ye])/2,at,Rt)-((ct||tt)[Ye]+(Et||yt)[Ye]);return Tn&&((ct&&Et?Tn>0==ct[Ye]>Et[Ye]?ct:Et:ct||Et)[Ye]+=Tn),hn}}function gt(Ye){var at=Ye[0],Rt=Ye[1],tt=at===fe[me-1][0],yt=Rt===fe[me-1][1];if(!tt||!yt)if(me>1){var ct=at===fe[me-2][0],Et=Rt===fe[me-2][1];tt&&(at===Ne||at===Oe)&&ct?Et?me--:fe[me-1]=Ye:yt&&(Rt===Be||Rt===Te)&&Et?ct?me--:fe[me-1]=Ye:fe[me++]=Ye}else fe[me++]=Ye}function Yt(Ye){fe[me-1][0]!==Ye[0]&&fe[me-1][1]!==Ye[1]&&gt([Xe,Ge]),gt(Ye),st=null,Xe=Ge=0}"linear"===Q||"spline"===Q?Lt=function kt(Ye,at){for(var Rt=[],tt=0,yt=0;yt<4;yt++){var ct=Ve[yt],Et=h(Ye[0],Ye[1],at[0],at[1],ct[0],ct[1],ct[2],ct[3]);Et&&(!tt||Math.abs(Et.x-Rt[0][0])>1||Math.abs(Et.y-Rt[0][1])>1)&&(Et=[Et.x,Et.y],tt&&be(Et,Ye)<be(Rt[0],Ye)?Rt.unshift(Et):Rt.push(Et),tt++)}return Rt}:"hv"===Q||"vh"===Q?Lt=function nn(Ye,at){var Rt=[],tt=At(Ye),yt=At(at);return tt&&yt&&Qt(tt,yt)||(tt&&Rt.push(tt),yt&&Rt.push(yt)),Rt}:"hvh"===Q?Lt=Ut(0,Ne,Oe):"vhv"===Q&&(Lt=Ut(1,Be,Te));var tn=m.isArrayOrTypedArray(V);function dn(Ye){if(Ye&&N&&(Ye.i=Z,Ye.d=L,Ye.trace=w,Ye.marker=tn?V[Ye.i]:V,Ye.backoff=N),ae=Ye[0]/H,O=Ye[1]/b,Je=Ye[1]<Be?Be:Ye[1]>Te?Te:0,(Pe=Ye[0]<Ne?Ne:Ye[0]>Oe?Oe:0)||Je){if(me)if(st){var at=Lt(st,Ye);at.length>1&&(Yt(at[0]),fe[me++]=at[1])}else wt=Lt(fe[me-1],Ye)[0],fe[me++]=wt;else fe[me++]=[Pe||Ye[0],Je||Ye[1]];var Rt=fe[me-1];Pe&&Je&&(Rt[0]!==Pe||Rt[1]!==Je)?(st&&(Xe!==Pe&&Ge!==Je?gt(Xe&&Ge?function Xt(Ye,at){var Rt=at[0]-Ye[0],tt=(at[1]-Ye[1])/Rt;return(Ye[1]*at[0]-at[1]*Ye[0])/Rt>0?[tt>0?Ne:Oe,Te]:[tt>0?Oe:Ne,Be]}(st,Ye):[Xe||Pe,Ge||Je]):Xe&&Ge&&gt([Xe,Ge])),gt([Pe,Je])):Xe-Pe&&Ge-Je&&gt([Pe||Xe,Je||Ge]),st=Ye,Xe=Pe,Ge=Je}else st&&Yt(Lt(st,Ye)[0]),fe[me++]=Ye}for(Z=0;Z<te;Z++)if(G=j(Z)){for(me=0,st=null,dn(G),Z++;Z<te;Z++){if(!(ie=j(Z))){if(Y)continue;break}if(se&&D.simplify){var rn=j(Z+1);if(Ue=be(ie,G),F&&(0===me||me===te-1)||!(Ue<ne(ie,rn)*W)){for(He=[(ie[0]-G[0])/Ue,(ie[1]-G[1])/Ue],ue=G,Me=Ue,we=B=P=0,pe=!1,q=ie,Z++;Z<L.length;Z++){if(le=rn,rn=j(Z+1),!le){if(Y)continue;break}if(X=(ke=[le[0]-G[0],le[1]-G[1]])[0]*He[1]-ke[1]*He[0],B=Math.min(B,X),(P=Math.max(P,X))-B>ne(le,rn))break;q=le,(Le=ke[0]*He[0]+ke[1]*He[1])>Me?(Me=Le,ie=le,pe=!1):Le<we&&(we=Le,ue=le,pe=!0)}if(pe?(dn(ie),q!==ue&&dn(ue)):(ue!==G&&dn(ue),q!==ie&&dn(ie)),dn(q),Z>=L.length||!le)break;dn(le),G=le}}else dn(ie)}st&&gt([Xe||st[0],Ge||st[1]]),J.push(fe.slice(0,me))}var Ke=Q.slice(Q.length-1);if(N&&"h"!==Ke&&"v"!==Ke){for(var St=!1,dt=-1,Re=[],it=0;it<J.length;it++)for(var ye=0;ye<J[it].length-1;ye++){var De=J[it][ye],$e=J[it][ye+1],je=p.applyBackoff($e,De);(je[0]!==$e[0]||je[1]!==$e[1])&&(St=!0),Re[dt+1]||(Re[++dt]=[De,[je[0],je[1]]])}return St?Re:J}return J}},1731:function(ve){"use strict";ve.exports=function(o,p,T){"spline"===T("line.shape")&&T("line.smoothing")}},4328:function(ve){"use strict";var K={tonextx:1,tonexty:1,tonext:1};ve.exports=function(p,T,v){var g,f,y,m,h,c={},C=!1,_=-1,L=0,D=-1;for(f=0;f<v.length;f++)(y=(g=v[f][0].trace).stackgroup||"")?y in c?h=c[y]:(h=c[y]=L,L++):g.fill in K&&D>=0?h=D:(h=D=L,L++),h<_&&(C=!0),g._groupIndex=_=h;var w=v.slice();C&&w.sort(function(S,E){var x=S[0].trace,H=E[0].trace;return x._groupIndex-H._groupIndex||x.index-H.index});var z={};for(f=0;f<w.length;f++)y=(g=w[f][0].trace).stackgroup||"",!0===g.visible?(g._nexttrace=null,g.fill in K&&(g._prevtrace=(m=z[y])||null,m&&(m._nexttrace=g)),g._ownfill=g.fill&&("tozero"===g.fill.substr(0,6)||"toself"===g.fill||"to"===g.fill.substr(0,2)&&!g._prevtrace),z[y]=g):g._prevtrace=g._nexttrace=g._ownfill=null;return w}},7152:function(ve,K,o){"use strict";var p=o(8248);ve.exports=function(v,g){g||(g=2);var f=v.marker,y=f.sizeref||1,m=f.sizemin||0,h="area"===f.sizemode?function(c){return Math.sqrt(c/y)}:function(c){return c/y};return function(c){var C=h(c/g);return p(C)&&C>0?Math.max(C,m):0}}},5528:function(ve){"use strict";ve.exports={container:"marker",min:"cmin",max:"cmax"}},4428:function(ve,K,o){"use strict";var p=o(6308),T=o(4288).hasColorscale,v=o(7260),g=o(3028);ve.exports=function(y,m,h,c,C,_){var L=g.isBubble(y),D=(y.line||{}).color;_=_||{},D&&(h=D),C("marker.symbol"),C("marker.opacity",L?.7:1),C("marker.size"),_.noAngle||(C("marker.angle"),_.noAngleRef||C("marker.angleref"),_.noStandOff||C("marker.standoff")),C("marker.color",h),T(y,"marker")&&v(y,m,c,C,{prefix:"marker.",cLetter:"c"}),_.noSelect||(C("selected.marker.color"),C("unselected.marker.color"),C("selected.marker.size"),C("unselected.marker.size")),_.noLine||(C("marker.line.color",D&&!Array.isArray(D)&&m.marker.color!==D?D:L?p.background:p.defaultLine),T(y,"marker.line")&&v(y,m,c,C,{prefix:"marker.line.",cLetter:"c"}),C("marker.line.width",L?1:0)),L&&(C("marker.sizeref"),C("marker.sizemin"),C("marker.sizemode")),_.gradient&&"none"!==C("marker.gradient.type")&&C("marker.gradient.color")}},1147:function(ve,K,o){"use strict";var p=o(3400).dateTick0,v=o(9032).ONEWEEK;function g(f,y){return p(y,f%v==0?1:0)}ve.exports=function(y,m,h,c,C){if(C||(C={x:!0,y:!0}),C.x){var _=c("xperiod");_&&(c("xperiod0",g(_,m.xcalendar)),c("xperiodalignment"))}if(C.y){var L=c("yperiod");L&&(c("yperiod0",g(L,m.ycalendar)),c("yperiodalignment"))}}},6504:function(ve,K,o){"use strict";var p=o(3428),T=o(4040),v=o(3400),g=v.ensureSingle,f=v.identity,y=o(3616),m=o(3028),h=o(2340),c=o(4328),C=o(2065).tester;function L(w,z,S,E,x,H,b){var V,N=w._context.staticPlot;!function D(w,z,S,E,x){var H=S.xaxis,b=S.yaxis,N=p.extent(v.simpleMap(H.range,H.r2c)),V=p.extent(v.simpleMap(b.range,b.r2c)),Y=E[0].trace;if(m.hasMarkers(Y)){var $=Y.marker.maxdisplayed;if(0!==$){var Q=E.filter(function(W){return W.x>=N[0]&&W.x<=N[1]&&W.y>=V[0]&&W.y<=V[1]}),se=Math.ceil(Q.length/$),F=0;x.forEach(function(W,te){var fe=W[0].trace;m.hasMarkers(fe)&&fe.marker.maxdisplayed>0&&te<z&&F++});var J=Math.round(F*se/3+Math.floor(F/3)*se/7.1);E.forEach(function(W){delete W.vis}),Q.forEach(function(W,te){0===Math.round((te+J)%se)&&(W.vis=!0)})}}}(0,z,S,E,x);var Y=!!b&&b.duration>0;function $(gt){return Y?gt.transition():gt}var Q=S.xaxis,se=S.yaxis,F=E[0].trace,J=F.line,W=p.select(H),te=g(W,"g","errorbars"),fe=g(W,"g","lines"),me=g(W,"g","points"),Z=g(W,"g","text");if(T.getComponentMethod("errorbars","plot")(w,te,S,b),!0===F.visible){$(W).style("opacity",F.opacity);var G,q,ue,le,ie=F.fill.charAt(F.fill.length-1);"x"!==ie&&"y"!==ie&&(ie=""),"y"===ie?(ue=1,le=se.c2p(0,!0)):"x"===ie&&(ue=0,le=Q.c2p(0,!0)),E[0][S.isRangePlot?"nodeRangePlot3":"node3"]=W;var pe="",He=[],ke=F._prevtrace,Ue=null,Me=null;ke&&(pe=ke._prevRevpath||"",q=ke._nextFill,He=ke._ownPolygons,Ue=ke._fillsegments,Me=ke._fillElement);var we,Le,X,j,I,ae,O,ne,B="",P="",be=[];F._polygons=[];var ze=[],Ne=[],Oe=v.noop;if(G=F._ownFill,m.hasLines(F)||"none"!==F.fill){q&&q.datum(E),-1!==["hv","vh","hvh","vhv"].indexOf(J.shape)?(X=y.steps(J.shape),j=y.steps(J.shape.split("").reverse().join(""))):X=j="spline"===J.shape?function(gt){var Yt=gt[gt.length-1];return gt.length>1&&gt[0][0]===Yt[0]&&gt[0][1]===Yt[1]?y.smoothclosed(gt.slice(1),J.smoothing):y.smoothopen(gt,J.smoothing)}:function(gt){return"M"+gt.join("L")},I=function(gt){return j(gt.reverse())},Ne=h(E,{xaxis:Q,yaxis:se,trace:F,connectGaps:F.connectgaps,baseTolerance:Math.max(J.width||1,3)/4,shape:J.shape,backoff:J.backoff,simplify:J.simplify,fill:F.fill}),ze=new Array(Ne.length);var Be=0;for(V=0;V<Ne.length;V++){var Te,Ve=Ne[V];Te&&ie?Te.push.apply(Te,Ve):(Te=Ve.slice(),ze[Be]=Te,Be++)}F._fillElement=null,F._fillExclusionElement=Me,F._fillsegments=ze.slice(0,Be),ze=F._fillsegments,Ne.length&&(ae=Ne[0][0].slice(),ne=(O=Ne[Ne.length-1])[O.length-1].slice()),Oe=function(gt){return function(Yt){if(we=X(Yt),Le=I(Yt),B?ie?(B+="L"+we.substr(1),P=Le+"L"+P.substr(1)):(B+="Z"+we,P=Le+"Z"+P):(B=we,P=Le),m.hasLines(F)){var tn=p.select(this);if(tn.datum(E),gt)$(tn.style("opacity",0).attr("d",we).call(y.lineGroupStyle)).style("opacity",1);else{var dn=$(tn);dn.attr("d",we),y.singleLineStyle(E,dn)}}}}}var Pe=fe.selectAll(".js-line").data(Ne);$(Pe.exit()).style("opacity",0).remove(),Pe.each(Oe(!1)),Pe.enter().append("path").classed("js-line",!0).style("vector-effect",N?"none":"non-scaling-stroke").call(y.lineGroupStyle).each(Oe(!0)),y.setClipUrl(Pe,S.layerClipId,w);var Xe=function(){var gt=new Array(ze.length);for(V=0;V<ze.length;V++)gt[V]=C(ze[V]);return gt},Ge=function(gt){var Yt,tn;if(gt&&0!==gt.length){for(Yt=new Array(gt.length-1+ze.length),tn=0;tn<gt.length-1;tn++)Yt[tn]=C(gt[tn]);var dt=gt[gt.length-1].slice();for(dt.reverse(),tn=0;tn<ze.length;tn++)Yt[gt.length-1+tn]=C(ze[tn].concat(dt))}else for(Yt=new Array(ze.length),tn=0;tn<ze.length;tn++){var dn=ze[tn][0].slice(),rn=ze[tn][ze[tn].length-1].slice();dn[ue]=rn[ue]=le;var St=[rn,dn].concat(ze[tn]);Yt[tn]=C(St)}return Yt};Ne.length?(G?(G.datum(E),ae&&ne&&(ie?(ae[ue]=ne[ue]=le,$(G).attr("d","M"+ne+"L"+ae+"L"+B.substr(1)).call(y.singleFillStyle,w),be=Ge(null)):($(G).attr("d",B+"Z").call(y.singleFillStyle,w),be=Xe())),F._polygons=be,F._fillElement=G):q&&("tonext"===F.fill.substr(0,6)&&B&&pe?("tonext"===F.fill?($(q).attr("d",B+"Z"+pe+"Z").call(y.singleFillStyle,w),be=Xe(),F._polygons=be.concat(He)):($(q).attr("d",B+"L"+pe.substr(1)+"Z").call(y.singleFillStyle,w),be=Ge(Ue),F._polygons=be),F._fillElement=q):Je(q)),F._prevRevpath=P):(G?Je(G):q&&Je(q),F._prevRevpath=null),F._ownPolygons=be,me.datum(E),Z.datum(E),function Ut(gt,Yt,tn){var dn,St=tn[0].trace,dt=m.hasMarkers(St),Re=m.hasText(St),it=function Qt(gt){if(gt.ids)return At}(St),ye=nn,De=nn;if(dt||Re){var $e=f,je=St.stackgroup,Ye=je&&"infer zero"===w._fullLayout._scatterStackOpts[Q._id+se._id][je].stackgaps;St.marker.maxdisplayed||St._needsCull?$e=Ye?wt:st:je&&!Ye&&($e=kt),dt&&(ye=$e),Re&&(De=$e)}var Rt,at=(dn=gt.selectAll("path.point").data(ye,it)).enter().append("path").classed("point",!0);Y&&at.call(y.pointStyle,St,w).call(y.translatePoints,Q,se).style("opacity",0).transition().style("opacity",1),dn.order(),dt&&(Rt=y.makePointStyleFns(St)),dn.each(function(tt){var yt=p.select(this),ct=$(yt);y.translatePoint(tt,ct,Q,se)?(y.singlePointStyle(tt,ct,St,Rt,w),S.layerClipId&&y.hideOutsideRangePoint(tt,ct,Q,se,St.xcalendar,St.ycalendar),St.customdata&&yt.classed("plotly-customdata",null!=tt.data)):ct.remove()}),Y?dn.exit().transition().style("opacity",0).remove():dn.exit().remove(),(dn=Yt.selectAll("g").data(De,it)).enter().append("g").classed("textpoint",!0).append("text"),dn.order(),dn.each(function(tt){var yt=p.select(this),ct=$(yt.select("text"));y.translatePoint(tt,ct,Q,se)?S.layerClipId&&y.hideOutsideRangePoint(tt,yt,Q,se,St.xcalendar,St.ycalendar):yt.remove()}),dn.selectAll("text").call(y.textPointStyle,St,w).each(function(tt){var yt=Q.c2p(tt.x),ct=se.c2p(tt.y);p.select(this).selectAll("tspan.line").each(function(){$(p.select(this)).attr({x:yt,y:ct})})}),dn.exit().remove()}(me,Z,E);var Xt=!1===F.cliponaxis?null:S.layerClipId;y.setClipUrl(me,Xt,w),y.setClipUrl(Z,Xt,w)}function Je(gt){$(gt).attr("d","M0,0Z")}function st(gt){return gt.filter(function(Yt){return!Yt.gap&&Yt.vis})}function wt(gt){return gt.filter(function(Yt){return Yt.vis})}function kt(gt){return gt.filter(function(Yt){return!Yt.gap})}function At(gt){return gt.id}function nn(){return!1}}ve.exports=function(z,S,E,x,H,b){var N,V,Y=!H,$=!!H&&H.duration>0,Q=c(z,S,E);(N=x.selectAll("g.trace").data(Q,function(F){return F[0].trace.uid})).enter().append("g").attr("class",function(F){return"trace scatter trace"+F[0].trace.uid}).style("stroke-miterlimit",2),N.order(),function _(w,z,S){z.each(function(E){var x=g(p.select(this),"g","fills");y.setClipUrl(x,S.layerClipId,w);var H=E[0].trace,b=[];H._ownfill&&b.push("_ownFill"),H._nexttrace&&b.push("_nextFill");var N=x.selectAll("g").data(b,f);N.enter().append("g"),N.exit().each(function(V){H[V]=null}).remove(),N.order().each(function(V){H[V]=g(p.select(this),"path","js-fill")})})}(z,N,S),$?(b&&(V=b()),p.transition().duration(H.duration).ease(H.easing).each("end",function(){V&&V()}).each("interrupt",function(){V&&V()}).each(function(){x.selectAll("g.trace").each(function(F,J){L(z,J,S,F,Q,this,H)})})):N.each(function(F,J){L(z,J,S,F,Q,this,H)}),Y&&N.exit().remove(),x.selectAll("path:not([d])").remove()}},1560:function(ve,K,o){"use strict";var p=o(3028);ve.exports=function(v,g){var C,_,L,D,f=v.cd,y=v.xaxis,m=v.yaxis,h=[],c=f[0].trace;if(!p.hasMarkers(c)&&!p.hasText(c))return[];if(!1===g)for(C=0;C<f.length;C++)f[C].selected=0;else for(C=0;C<f.length;C++)L=y.c2p((_=f[C]).x),D=m.c2p(_.y),null!==_.i&&g.contains([L,D],!1,C,v)?(h.push({pointNumber:_.i,x:y.c2d(_.x),y:m.c2d(_.y)}),_.selected=1):_.selected=0;return h}},3912:function(ve){"use strict";var K=["orientation","groupnorm","stackgaps"];ve.exports=function(p,T,v,g){var f=v._scatterStackOpts,y=g("stackgroup");if(y){var m=T.xaxis+T.yaxis,h=f[m];h||(h=f[m]={});var c=h[y],C=!1;c?c.traces.push(T):(c=h[y]={traceIndices:[],traces:[T]},C=!0);for(var _={orientation:T.x&&!T.y?"h":"v"},L=0;L<K.length;L++){var D=K[L],w=D+"Found";if(!c[w]){var z=void 0!==p[D],S="orientation"===D;if((z||C)&&(c[D]=g(D,_[D]),S&&(c.fillDflt="h"===c[D]?"tonextx":"tonexty"),z&&(c[w]=!0,!C&&(delete c.traces[0][D],S))))for(var E=0;E<c.traces.length-1;E++){var x=c.traces[E];x._input.fill!==x.fill&&(x.fill=c.fillDflt)}}}return c}}},6844:function(ve,K,o){"use strict";var p=o(3428),T=o(3616),v=o(4040);function f(h,c,C){T.pointStyle(h.selectAll("path.point"),c,C)}function y(h,c,C){T.textPointStyle(h.selectAll("text"),c,C)}ve.exports={style:function g(h){var c=p.select(h).selectAll("g.trace.scatter");c.style("opacity",function(C){return C[0].trace.opacity}),c.selectAll("g.points").each(function(C){f(p.select(this),C.trace||C[0].trace,h)}),c.selectAll("g.text").each(function(C){y(p.select(this),C.trace||C[0].trace,h)}),c.selectAll("g.trace path.js-line").call(T.lineGroupStyle),c.selectAll("g.trace path.js-fill").call(T.fillGroupStyle,h),v.getComponentMethod("errorbars","style")(c)},stylePoints:f,styleText:y,styleOnSelect:function m(h,c,C){var _=c[0].trace;_.selectedpoints?(T.selectedPointStyle(C.selectAll("path.point"),_),T.selectedTextStyle(C.selectAll("text"),_)):(f(C,_,h),y(C,_,h))}}},3028:function(ve,K,o){"use strict";var p=o(3400),T=o(8116).isTypedArraySpec;ve.exports={hasLines:function(v){return v.visible&&v.mode&&-1!==v.mode.indexOf("lines")},hasMarkers:function(v){return v.visible&&(v.mode&&-1!==v.mode.indexOf("markers")||"splom"===v.type)},hasText:function(v){return v.visible&&v.mode&&-1!==v.mode.indexOf("text")},isBubble:function(v){var g=v.marker;return p.isPlainObject(g)&&(p.isArrayOrTypedArray(g.size)||T(g.size))}}},124:function(ve,K,o){"use strict";var p=o(3400);ve.exports=function(T,v,g,f,y){y=y||{},f("textposition"),p.coerceFont(f,"textfont",y.font||g.font),y.noSelect||(f("selected.textfont.color"),f("unselected.textfont.color"))}},3980:function(ve,K,o){"use strict";var p=o(3400),T=o(4040);ve.exports=function(g,f,y,m){var C,h=m("x"),c=m("y");if(T.getComponentMethod("calendars","handleTraceDefaults")(g,f,["x","y"],y),h){var L=p.minRowLength(h);c?C=Math.min(L,p.minRowLength(c)):(C=L,m("y0"),m("dy"))}else{if(!c)return 0;C=p.minRowLength(c),m("x0"),m("dx")}return f._length=C,C}},1843:function(ve,K,o){"use strict";var p=o(4460),T=o(3400),v=o(3060),g=o(468).W,f=o(9032).BADNUM;K.moduleType="transform",K.name="aggregate";var y=K.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},m=y.aggregations;function h(D,w,z,S){if(S.enabled){for(var E=S.target,x=T.nestedProperty(w,E),H=x.get(),N=function c(D,w){var S=w.d2c,E=w.c2d;switch(D.func){case"count":return C;case"first":return _;case"last":return L;case"sum":return function(x,H){for(var b=0,N=0;N<H.length;N++){var V=S(x[H[N]]);V!==f&&(b+=V)}return E(b)};case"avg":return function(x,H){for(var b=0,N=0,V=0;V<H.length;V++){var Y=S(x[H[V]]);Y!==f&&(b+=Y,N++)}return N?E(b/N):f};case"min":return function(x,H){for(var b=1/0,N=0;N<H.length;N++){var V=S(x[H[N]]);V!==f&&(b=Math.min(b,V))}return b===1/0?f:E(b)};case"max":return function(x,H){for(var b=-1/0,N=0;N<H.length;N++){var V=S(x[H[N]]);V!==f&&(b=Math.max(b,V))}return b===-1/0?f:E(b)};case"range":return function(x,H){for(var b=1/0,N=-1/0,V=0;V<H.length;V++){var Y=S(x[H[V]]);Y!==f&&(b=Math.min(b,Y),N=Math.max(N,Y))}return N===-1/0||b===1/0?f:E(N-b)};case"change":return function(x,H){var b=S(x[H[0]]),N=S(x[H[H.length-1]]);return b===f||N===f?f:E(N-b)};case"median":return function(x,H){for(var b=[],N=0;N<H.length;N++){var V=S(x[H[N]]);V!==f&&b.push(V)}if(!b.length)return f;b.sort(T.sorterAsc);var Y=(b.length-1)/2;return E((b[Math.floor(Y)]+b[Math.ceil(Y)])/2)};case"mode":return function(x,H){for(var b={},N=0,V=f,Y=0;Y<H.length;Y++){var $=S(x[H[Y]]);if($!==f){var Q=b[$]=(b[$]||0)+1;Q>N&&(N=Q,V=$)}}return N?E(V):f};case"rms":return function(x,H){for(var b=0,N=0,V=0;V<H.length;V++){var Y=S(x[H[V]]);Y!==f&&(b+=Y*Y,N++)}return N?E(Math.sqrt(b/N)):f};case"stddev":return function(x,H){var $,b=0,N=0,V=1,Y=f;for($=0;$<H.length&&Y===f;$++)Y=S(x[H[$]]);if(Y===f)return f;for(;$<H.length;$++){var Q=S(x[H[$]]);if(Q!==f){var se=Q-Y;b+=se,N+=se*se,V++}}var F="sample"===D.funcmode?V-1:V;return F?Math.sqrt((N-b*b/V)/F):0}}}(S,p.getDataConversions(D,w,E,H)),V=new Array(z.length),Y=0;Y<z.length;Y++)V[Y]=N(H,z[Y]);x.set(V),"count"===S.func&&T.pushUnique(w._arrayAttrs,E)}}function C(D,w){return w.length}function _(D,w){return D[w[0]]}function L(D,w){return D[w[w.length-1]]}K.supplyDefaults=function(D,w){var S,z={};function E(W,te){return T.coerce(D,z,y,W,te)}if(!E("enabled"))return z;var H=v.findArrayAttributes(w),b={};for(S=0;S<H.length;S++)b[H[S]]=1;var N=E("groups");if(!Array.isArray(N)){if(!b[N])return z.enabled=!1,z;b[N]=0}var $,V=D.aggregations||[],Y=z.aggregations=new Array(V.length);function Q(W,te){return T.coerce(V[S],$,m,W,te)}for(S=0;S<V.length;S++){$={_index:S};var se=Q("target"),F=Q("func");Q("enabled")&&se&&(b[se]||"count"===F&&void 0===b[se])?("stddev"===F&&Q("funcmode"),b[se]=0,Y[S]=$):Y[S]={enabled:!1,_index:S}}for(S=0;S<H.length;S++)b[H[S]]&&Y.push({target:H[S],func:m.func.dflt,enabled:!0,_index:-1});return z},K.calcTransform=function(D,w,z){if(z.enabled){var S=z.groups,E=T.getTargetArray(w,{target:S});if(E){var x,H,b,V={},Y={},$=[],Q=g(w.transforms,z),se=E.length;for(w._length&&(se=Math.min(se,w._length)),x=0;x<se;x++)void 0===(b=V[H=E[x]])?(V[H]=$.length,$.push([x]),Y[V[H]]=Q(x)):($[b].push(x),Y[V[H]]=(Y[V[H]]||[]).concat(Q(x)));z._indexToPoints=Y;var F=z.aggregations;for(x=0;x<F.length;x++)h(D,w,$,F[x]);"string"==typeof S&&h(D,w,$,{target:S,func:"first",enabled:!0}),w._length=$.length}}}},6744:function(ve,K,o){"use strict";var p=o(3400),T=o(4040),v=o(4460),g=o(468).W,f=o(9104),y=f.COMPARISON_OPS,m=f.INTERVAL_OPS,h=f.SET_OPS;K.moduleType="transform",K.name="filter",K.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(y).concat(m).concat(h),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},K.supplyDefaults=function(C){var _={};function L(S,E){return p.coerce(C,_,K.attributes,S,E)}if(L("enabled")){var w=L("target");if(p.isArrayOrTypedArray(w)&&0===w.length)return _.enabled=!1,_;L("preservegaps"),L("operation"),L("value");var z=T.getComponentMethod("calendars","handleDefaults");z(C,_,"valuecalendar",null),z(C,_,"targetcalendar",null)}return _},K.calcTransform=function(C,_,L){if(L.enabled){var D=p.getTargetArray(_,L);if(D){var w=L.target,z=D.length;_._length&&(z=Math.min(z,_._length));var S=L.targetcalendar,E=_._arrayAttrs,x=L.preservegaps;if("string"==typeof w){var H=p.nestedProperty(_,w+"calendar").get();H&&(S=H)}var se,F,N=function c(C,_,L){var D=C.operation,w=C.value,z=p.isArrayOrTypedArray(w);function S(b){return-1!==b.indexOf(D)}var H,E=function(b){return _(b,0,C.valuecalendar)},x=function(b){return _(b,0,L)};switch(S(y)?H=E(z?w[0]:w):S(m)?H=z?[E(w[0]),E(w[1])]:[E(w),E(w)]:S(h)&&(H=z?w.map(E):[E(w)]),D){case"=":return function(b){return x(b)===H};case"!=":return function(b){return x(b)!==H};case"<":return function(b){return x(b)<H};case"<=":return function(b){return x(b)<=H};case">":return function(b){return x(b)>H};case">=":return function(b){return x(b)>=H};case"[]":return function(b){var N=x(b);return N>=H[0]&&N<=H[1]};case"()":return function(b){var N=x(b);return N>H[0]&&N<H[1]};case"[)":return function(b){var N=x(b);return N>=H[0]&&N<H[1]};case"(]":return function(b){var N=x(b);return N>H[0]&&N<=H[1]};case"][":return function(b){var N=x(b);return N<=H[0]||N>=H[1]};case")(":return function(b){var N=x(b);return N<H[0]||N>H[1]};case"](":return function(b){var N=x(b);return N<=H[0]||N>H[1]};case")[":return function(b){var N=x(b);return N<H[0]||N>=H[1]};case"{}":return function(b){return-1!==H.indexOf(x(b))};case"}{":return function(b){return-1===H.indexOf(x(b))}}}(L,v.getDataToCoordFunc(C,_,w,D),S),V={},Y={},$=0;x?(se=function(fe){V[fe.astr]=p.extendDeep([],fe.get()),fe.set(new Array(z))},F=function(fe,me){var Z=V[fe.astr][me];fe.get()[me]=Z}):(se=function(fe){V[fe.astr]=p.extendDeep([],fe.get()),fe.set([])},F=function(fe,me){var Z=V[fe.astr][me];fe.get().push(Z)}),Q(se);for(var J=g(_.transforms,L),W=0;W<z;W++)N(D[W])?(Q(F,W),Y[$++]=J(W)):x&&$++;L._indexToPoints=Y,_._length=$}}function Q(fe,me){for(var Z=0;Z<E.length;Z++)fe(p.nestedProperty(_,E[Z]),me)}}},2028:function(ve,K,o){"use strict";var p=o(3400),T=o(3060),v=o(7316),g=o(468).W;function f(y,m){var h,c,C,_,L,D,w,z,S,E,x=m.transform,H=m.transformIndex,b=y.transforms[H].groups,N=g(y.transforms,x);if(!p.isArrayOrTypedArray(b)||0===b.length)return[y];var V=p.filterUnique(b),Y=new Array(V.length),$=b.length,Q=T.findArrayAttributes(y),se=x.styles||[],F={};for(h=0;h<se.length;h++)F[se[h].target]=se[h].value;x.styles&&(E=p.keyedContainer(x,"styles","target","value.name"));var J={},W={};for(h=0;h<V.length;h++){J[D=V[h]]=h,W[D]=0,(w=Y[h]=p.extendDeepNoArrays({},y))._group=D,w.transforms[H]._indexToPoints={};var te=null;for(E&&(te=E.get(D)),w.name=te||""===te?te:p.templateString(x.nameformat,{trace:y.name,group:D}),z=w.transforms,w.transforms=[],c=0;c<z.length;c++)w.transforms[c]=p.extendDeepNoArrays({},z[c]);for(c=0;c<Q.length;c++)p.nestedProperty(w,Q[c]).set([])}for(C=0;C<Q.length;C++){for(_=Q[C],c=0,S=[];c<V.length;c++)S[c]=p.nestedProperty(Y[c],_).get();for(L=p.nestedProperty(y,_).get(),c=0;c<$;c++)S[J[b[c]]].push(L[c])}for(c=0;c<$;c++)(w=Y[J[b[c]]]).transforms[H]._indexToPoints[W[b[c]]]=N(c),W[b[c]]++;for(h=0;h<V.length;h++)D=V[h],v.clearExpandedTraceDefaultColors(w=Y[h]),w=p.extendDeepNoArrays(w,F[D]||{});return Y}K.moduleType="transform",K.name="groupby",K.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},K.supplyDefaults=function(y,m,h){var c,C={};function _(E,x){return p.coerce(y,C,K.attributes,E,x)}if(!_("enabled"))return C;_("groups"),_("nameformat",h._dataLength>1?"%{group} (%{trace})":"%{group}");var D=y.styles,w=C.styles=[];if(D)for(c=0;c<D.length;c++){var z=w[c]={};p.coerce(D[c],w[c],K.attributes.styles,"target");var S=p.coerce(D[c],w[c],K.attributes.styles,"value");p.isPlainObject(S)?z.value=p.extendDeep({},S):S&&delete z.value}return C},K.transform=function(y,m){var h,c,C,_=[];for(c=0;c<y.length;c++)for(h=f(y[c],m),C=0;C<h.length;C++)_.push(h[C]);return _}},468:function(ve,K){"use strict";K.W=function(o,p){for(var T,v,g=0;g<o.length&&(T=o[g])!==p;g++)!T._indexToPoints||!1===T.enabled||(v=T._indexToPoints);return v?function(y){return v[y]}:function(y){return[y]}}},6272:function(ve,K,o){"use strict";var p=o(3400),T=o(4460),v=o(468).W,g=o(9032).BADNUM;function f(m,h,c,C){var D,_=new Array(C),L=new Array(C);for(D=0;D<C;D++)_[D]={v:h[D],i:D};for(_.sort(function y(m,h){switch(m.order){case"ascending":return function(c,C){var _=h(c.v),L=h(C.v);return _===g?1:L===g?-1:_-L};case"descending":return function(c,C){var _=h(c.v),L=h(C.v);return _===g?1:L===g?-1:L-_}}}(m,c)),D=0;D<C;D++)L[D]=_[D].i;return L}K.moduleType="transform",K.name="sort",K.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},K.supplyDefaults=function(m){var h={};function c(_,L){return p.coerce(m,h,K.attributes,_,L)}return c("enabled")&&(c("target"),c("order")),h},K.calcTransform=function(m,h,c){if(c.enabled){var C=p.getTargetArray(h,c);if(C){var _=c.target,L=C.length;h._length&&(L=Math.min(L,h._length));var x,H,D=h._arrayAttrs,z=f(c,C,T.getDataToCoordFunc(m,h,_,C),L),S=v(h.transforms,c),E={};for(x=0;x<D.length;x++){var b=p.nestedProperty(h,D[x]),N=b.get(),V=new Array(L);for(H=0;H<L;H++)V[H]=N[z[H]];b.set(V)}for(H=0;H<L;H++)E[H]=S(z[H]);c._indexToPoints=E,h._length=L}}}},5788:function(ve,K){"use strict";K.version="2.29.1"},5928:function(ve){"use strict";ve.exports=T,ve.exports.isMobile=T,ve.exports.default=T;var K=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,o=/CrOS/,p=/android|ipad|playbook|silk/i;function T(v){v||(v={});var g=v.ua;if(!g&&typeof navigator<"u"&&(g=navigator.userAgent),g&&g.headers&&"string"==typeof g.headers["user-agent"]&&(g=g.headers["user-agent"]),"string"!=typeof g)return!1;var f=K.test(g)&&!o.test(g)||!!v.tablet&&p.test(g);return!f&&v.tablet&&v.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==g.indexOf("Macintosh")&&-1!==g.indexOf("Safari")&&(f=!0),f}},3428:function(ve,K,o){var p,T;(function(){var v={version:"3.8.0"},g=[].slice,f=function(u){return g.call(u)},y=self.document;function m(u){return u&&(u.ownerDocument||u.document||u).documentElement}function h(u){return u&&(u.ownerDocument&&u.ownerDocument.defaultView||u.document&&u||u.defaultView)}if(y)try{f(y.documentElement.childNodes)}catch{f=function(k){for(var U=k.length,re=new Array(U);U--;)re[U]=k[U];return re}}if(Date.now||(Date.now=function(){return+new Date}),y)try{y.createElement("DIV").style.setProperty("opacity",0,"")}catch{var c=this.Element.prototype,C=c.setAttribute,_=c.setAttributeNS,L=this.CSSStyleDeclaration.prototype,D=L.setProperty;c.setAttribute=function(k,U){C.call(this,k,U+"")},c.setAttributeNS=function(k,U,re){_.call(this,k,U,re+"")},L.setProperty=function(k,U,re){D.call(this,k,U+"",re)}}function w(u,k){return u<k?-1:u>k?1:u>=k?0:NaN}function z(u){return null===u?NaN:+u}function S(u){return!isNaN(u)}function E(u){return{left:function(k,U,re,ce){for(arguments.length<3&&(re=0),arguments.length<4&&(ce=k.length);re<ce;){var he=re+ce>>>1;u(k[he],U)<0?re=he+1:ce=he}return re},right:function(k,U,re,ce){for(arguments.length<3&&(re=0),arguments.length<4&&(ce=k.length);re<ce;){var he=re+ce>>>1;u(k[he],U)>0?ce=he:re=he+1}return re}}}v.ascending=w,v.descending=function(u,k){return k<u?-1:k>u?1:k>=u?0:NaN},v.min=function(u,k){var ce,he,U=-1,re=u.length;if(1===arguments.length){for(;++U<re;)if(null!=(he=u[U])&&he>=he){ce=he;break}for(;++U<re;)null!=(he=u[U])&&ce>he&&(ce=he)}else{for(;++U<re;)if(null!=(he=k.call(u,u[U],U))&&he>=he){ce=he;break}for(;++U<re;)null!=(he=k.call(u,u[U],U))&&ce>he&&(ce=he)}return ce},v.max=function(u,k){var ce,he,U=-1,re=u.length;if(1===arguments.length){for(;++U<re;)if(null!=(he=u[U])&&he>=he){ce=he;break}for(;++U<re;)null!=(he=u[U])&&he>ce&&(ce=he)}else{for(;++U<re;)if(null!=(he=k.call(u,u[U],U))&&he>=he){ce=he;break}for(;++U<re;)null!=(he=k.call(u,u[U],U))&&he>ce&&(ce=he)}return ce},v.extent=function(u,k){var ce,he,Ie,U=-1,re=u.length;if(1===arguments.length){for(;++U<re;)if(null!=(he=u[U])&&he>=he){ce=Ie=he;break}for(;++U<re;)null!=(he=u[U])&&(ce>he&&(ce=he),Ie<he&&(Ie=he))}else{for(;++U<re;)if(null!=(he=k.call(u,u[U],U))&&he>=he){ce=Ie=he;break}for(;++U<re;)null!=(he=k.call(u,u[U],U))&&(ce>he&&(ce=he),Ie<he&&(Ie=he))}return[ce,Ie]},v.sum=function(u,k){var ce,U=0,re=u.length,he=-1;if(1===arguments.length)for(;++he<re;)S(ce=+u[he])&&(U+=ce);else for(;++he<re;)S(ce=+k.call(u,u[he],he))&&(U+=ce);return U},v.mean=function(u,k){var ce,U=0,re=u.length,he=-1,Ie=re;if(1===arguments.length)for(;++he<re;)S(ce=z(u[he]))?U+=ce:--Ie;else for(;++he<re;)S(ce=z(k.call(u,u[he],he)))?U+=ce:--Ie;if(Ie)return U/Ie},v.quantile=function(u,k){var U=(u.length-1)*k+1,re=Math.floor(U),ce=+u[re-1],he=U-re;return he?ce+he*(u[re]-ce):ce},v.median=function(u,k){var ce,U=[],re=u.length,he=-1;if(1===arguments.length)for(;++he<re;)S(ce=z(u[he]))&&U.push(ce);else for(;++he<re;)S(ce=z(k.call(u,u[he],he)))&&U.push(ce);if(U.length)return v.quantile(U.sort(w),.5)},v.variance=function(u,k){var ce,he,U=u.length,re=0,Ie=0,Ae=-1,Fe=0;if(1===arguments.length)for(;++Ae<U;)S(ce=z(u[Ae]))&&(Ie+=(he=ce-re)*(ce-(re+=he/++Fe)));else for(;++Ae<U;)S(ce=z(k.call(u,u[Ae],Ae)))&&(Ie+=(he=ce-re)*(ce-(re+=he/++Fe)));if(Fe>1)return Ie/(Fe-1)},v.deviation=function(){var u=v.variance.apply(this,arguments);return u&&Math.sqrt(u)};var x=E(w);function H(u){return u.length}v.bisectLeft=x.left,v.bisect=v.bisectRight=x.right,v.bisector=function(u){return E(1===u.length?function(k,U){return w(u(k),U)}:u)},v.shuffle=function(u,k,U){(re=arguments.length)<3&&(U=u.length,re<2&&(k=0));for(var ce,he,re=U-k;re;)he=Math.random()*re--|0,ce=u[re+k],u[re+k]=u[he+k],u[he+k]=ce;return u},v.permute=function(u,k){for(var U=k.length,re=new Array(U);U--;)re[U]=u[k[U]];return re},v.pairs=function(u){for(var k=0,U=u.length-1,ce=u[0],he=new Array(U<0?0:U);k<U;)he[k]=[ce,ce=u[++k]];return he},v.transpose=function(u){if(!(he=u.length))return[];for(var k=-1,U=v.min(u,H),re=new Array(U);++k<U;)for(var he,ce=-1,Ie=re[k]=new Array(he);++ce<he;)Ie[ce]=u[ce][k];return re},v.zip=function(){return v.transpose(arguments)},v.keys=function(u){var k=[];for(var U in u)k.push(U);return k},v.values=function(u){var k=[];for(var U in u)k.push(u[U]);return k},v.entries=function(u){var k=[];for(var U in u)k.push({key:U,value:u[U]});return k},v.merge=function(u){for(var U,he,Ie,k=u.length,re=-1,ce=0;++re<k;)ce+=u[re].length;for(he=new Array(ce);--k>=0;)for(U=(Ie=u[k]).length;--U>=0;)he[--ce]=Ie[U];return he};var b=Math.abs;function V(u,k){for(var U in k)Object.defineProperty(u.prototype,U,{value:k[U],enumerable:!1})}function Y(){this._=Object.create(null)}v.range=function(u,k,U){if(arguments.length<3&&(U=1,arguments.length<2&&(k=u,u=0)),(k-u)/U==1/0)throw new Error("infinite range");var Ie,re=[],ce=function N(u){for(var k=1;u*k%1;)k*=10;return k}(b(U)),he=-1;if(u*=ce,k*=ce,(U*=ce)<0)for(;(Ie=u+U*++he)>k;)re.push(Ie/ce);else for(;(Ie=u+U*++he)<k;)re.push(Ie/ce);return re},v.map=function(u,k){var U=new Y;if(u instanceof Y)u.forEach(function(Ae,Fe){U.set(Ae,Fe)});else if(Array.isArray(u)){var he,re=-1,ce=u.length;if(1===arguments.length)for(;++re<ce;)U.set(re,u[re]);else for(;++re<ce;)U.set(k.call(u,he=u[re],re),he)}else for(var Ie in u)U.set(Ie,u[Ie]);return U};var $="__proto__",Q="\0";function se(u){return(u+="")===$||u[0]===Q?Q+u:u}function F(u){return(u+="")[0]===Q?u.slice(1):u}function J(u){return se(u)in this._}function W(u){return(u=se(u))in this._&&delete this._[u]}function te(){var u=[];for(var k in this._)u.push(F(k));return u}function fe(){var u=0;for(var k in this._)++u;return u}function me(){for(var u in this._)return!1;return!0}function Z(){this._=Object.create(null)}function G(u){return u}function q(u,k,U){return function(){var re=U.apply(k,arguments);return re===k?u:re}}function ie(u,k){if(k in u)return k;k=k.charAt(0).toUpperCase()+k.slice(1);for(var U=0,re=ue.length;U<re;++U){var ce=ue[U]+k;if(ce in u)return ce}}V(Y,{has:J,get:function(u){return this._[se(u)]},set:function(u,k){return this._[se(u)]=k},remove:W,keys:te,values:function(){var u=[];for(var k in this._)u.push(this._[k]);return u},entries:function(){var u=[];for(var k in this._)u.push({key:F(k),value:this._[k]});return u},size:fe,empty:me,forEach:function(u){for(var k in this._)u.call(this,F(k),this._[k])}}),v.nest=function(){var re,ce,u={},k=[],U=[];function he(Ae,Fe,et){if(et>=k.length)return ce?ce.call(u,Fe):re?Fe.sort(re):Fe;for(var Gt,It,vt,Ft,nt=-1,Mt=Fe.length,xt=k[et++],Vt=new Y;++nt<Mt;)(Ft=Vt.get(Gt=xt(It=Fe[nt])))?Ft.push(It):Vt.set(Gt,[It]);return Ae?(It=Ae(),vt=function(Pt,qt){It.set(Pt,he(Ae,qt,et))}):(It={},vt=function(Pt,qt){It[Pt]=he(Ae,qt,et)}),Vt.forEach(vt),It}function Ie(Ae,Fe){if(Fe>=k.length)return Ae;var et=[],nt=U[Fe++];return Ae.forEach(function(Mt,xt){et.push({key:Mt,values:Ie(xt,Fe)})}),nt?et.sort(function(Mt,xt){return nt(Mt.key,xt.key)}):et}return u.map=function(Ae,Fe){return he(Fe,Ae,0)},u.entries=function(Ae){return Ie(he(v.map,Ae,0),0)},u.key=function(Ae){return k.push(Ae),u},u.sortKeys=function(Ae){return U[k.length-1]=Ae,u},u.sortValues=function(Ae){return re=Ae,u},u.rollup=function(Ae){return ce=Ae,u},u},v.set=function(u){var k=new Z;if(u)for(var U=0,re=u.length;U<re;++U)k.add(u[U]);return k},V(Z,{has:J,add:function(u){return this._[se(u+="")]=!0,u},remove:W,values:te,size:fe,empty:me,forEach:function(u){for(var k in this._)u.call(this,F(k))}}),v.behavior={},v.rebind=function(u,k){for(var ce,U=1,re=arguments.length;++U<re;)u[ce=arguments[U]]=q(u,k,k[ce]);return u};var ue=["webkit","ms","moz","Moz","o","O"];function le(){}function pe(){}function He(u){var k=[],U=new Y;function re(){for(var Ae,ce=k,he=-1,Ie=ce.length;++he<Ie;)(Ae=ce[he].on)&&Ae.apply(this,arguments);return u}return re.on=function(ce,he){var Ae,Ie=U.get(ce);return arguments.length<2?Ie&&Ie.on:(Ie&&(Ie.on=null,k=k.slice(0,Ae=k.indexOf(Ie)).concat(k.slice(Ae+1)),U.remove(ce)),he&&k.push(U.set(ce,{on:he})),u)},re}function ke(){v.event.preventDefault()}function Ue(){for(var k,u=v.event;k=u.sourceEvent;)u=k;return u}function Me(u){for(var k=new pe,U=0,re=arguments.length;++U<re;)k[arguments[U]]=He(k);return k.of=function(ce,he){return function(Ie){try{var Ae=Ie.sourceEvent=v.event;Ie.target=u,v.event=Ie,k[Ie.type].apply(ce,he)}finally{v.event=Ae}}},k}v.dispatch=function(){for(var u=new pe,k=-1,U=arguments.length;++k<U;)u[arguments[k]]=He(u);return u},pe.prototype.on=function(u,k){var U=u.indexOf("."),re="";if(U>=0&&(re=u.slice(U+1),u=u.slice(0,U)),u)return arguments.length<2?this[u].on(re):this[u].on(re,k);if(2===arguments.length){if(null==k)for(u in this)this.hasOwnProperty(u)&&this[u].on(re,null);return this}},v.event=null,v.requote=function(u){return u.replace(we,"\\$&")};var we=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Le={}.__proto__?function(u,k){u.__proto__=k}:function(u,k){for(var U in k)u[U]=k[U]};function B(u){return Le(u,I),u}var P=function(u,k){return k.querySelector(u)},X=function(u,k){return k.querySelectorAll(u)},j=function(u,k){var U=u.matches||u[ie(u,"matchesSelector")];return(j=function(re,ce){return U.call(re,ce)})(u,k)};"function"==typeof Sizzle&&(P=function(u,k){return Sizzle(u,k)[0]||null},X=Sizzle,j=Sizzle.matchesSelector),v.selection=function(){return v.select(y.documentElement)};var I=v.selection.prototype=[];function ae(u){return"function"==typeof u?u:function(){return P(u,this)}}function O(u){return"function"==typeof u?u:function(){return X(u,this)}}I.select=function(u){var U,re,ce,he,k=[];u=ae(u);for(var Ie=-1,Ae=this.length;++Ie<Ae;){k.push(U=[]),U.parentNode=(ce=this[Ie]).parentNode;for(var Fe=-1,et=ce.length;++Fe<et;)(he=ce[Fe])?(U.push(re=u.call(he,he.__data__,Fe,Ie)),re&&"__data__"in he&&(re.__data__=he.__data__)):U.push(null)}return B(k)},I.selectAll=function(u){var U,re,k=[];u=O(u);for(var ce=-1,he=this.length;++ce<he;)for(var Ie=this[ce],Ae=-1,Fe=Ie.length;++Ae<Fe;)(re=Ie[Ae])&&(k.push(U=f(u.call(re,re.__data__,Ae,ce))),U.parentNode=re);return B(k)};var ne="http://www.w3.org/1999/xhtml",be={svg:"http://www.w3.org/2000/svg",xhtml:ne,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ze(u,k){return u=v.ns.qualify(u),null==k?u.local?function re(){this.removeAttributeNS(u.space,u.local)}:function U(){this.removeAttribute(u)}:"function"==typeof k?u.local?function Ae(){var Fe=k.apply(this,arguments);null==Fe?this.removeAttributeNS(u.space,u.local):this.setAttributeNS(u.space,u.local,Fe)}:function Ie(){var Fe=k.apply(this,arguments);null==Fe?this.removeAttribute(u):this.setAttribute(u,Fe)}:u.local?function he(){this.setAttributeNS(u.space,u.local,k)}:function ce(){this.setAttribute(u,k)}}function Ne(u){return u.trim().replace(/\s+/g," ")}function Oe(u){return new RegExp("(?:^|\\s+)"+v.requote(u)+"(?:\\s+|$)","g")}function Be(u){return(u+"").trim().split(/^|\s+/)}function Te(u,k){var U=(u=Be(u).map(Ve)).length;return"function"==typeof k?function ce(){for(var he=-1,Ie=k.apply(this,arguments);++he<U;)u[he](this,Ie)}:function re(){for(var he=-1;++he<U;)u[he](this,k)}}function Ve(u){var k=Oe(u);return function(U,re){if(ce=U.classList)return re?ce.add(u):ce.remove(u);var ce=U.getAttribute("class")||"";re?(k.lastIndex=0,k.test(ce)||U.setAttribute("class",Ne(ce+" "+u))):U.setAttribute("class",Ne(ce.replace(k," ")))}}function Pe(u,k,U){return null==k?function re(){this.style.removeProperty(u)}:"function"==typeof k?function he(){var Ie=k.apply(this,arguments);null==Ie?this.style.removeProperty(u):this.style.setProperty(u,Ie,U)}:function ce(){this.style.setProperty(u,k,U)}}function Je(u,k){return null==k?function U(){delete this[u]}:"function"==typeof k?function ce(){var he=k.apply(this,arguments);null==he?delete this[u]:this[u]=he}:function re(){this[u]=k}}function Xe(u){return"function"==typeof u?u:(u=v.ns.qualify(u)).local?function U(){return this.ownerDocument.createElementNS(u.space,u.local)}:function k(){var re=this.ownerDocument,ce=this.namespaceURI;return ce===ne&&re.documentElement.namespaceURI===ne?re.createElement(u):re.createElementNS(ce,u)}}function Ge(){var u=this.parentNode;u&&u.removeChild(this)}function st(u){return{__data__:u}}function wt(u){return function(){return j(this,u)}}function kt(u){return arguments.length||(u=w),function(k,U){return k&&U?u(k.__data__,U.__data__):!k-!U}}function At(u,k){for(var U=0,re=u.length;U<re;U++)for(var Ae,ce=u[U],he=0,Ie=ce.length;he<Ie;he++)(Ae=ce[he])&&k(Ae,he,U);return u}function Qt(u){return Le(u,nn),u}v.ns={prefix:be,qualify:function(u){var k=u.indexOf(":"),U=u;return k>=0&&"xmlns"!==(U=u.slice(0,k))&&(u=u.slice(k+1)),be.hasOwnProperty(U)?{space:be[U],local:u}:u}},I.attr=function(u,k){if(arguments.length<2){if("string"==typeof u){var U=this.node();return(u=v.ns.qualify(u)).local?U.getAttributeNS(u.space,u.local):U.getAttribute(u)}for(k in u)this.each(ze(k,u[k]));return this}return this.each(ze(u,k))},I.classed=function(u,k){if(arguments.length<2){if("string"==typeof u){var U=this.node(),re=(u=Be(u)).length,ce=-1;if(k=U.classList){for(;++ce<re;)if(!k.contains(u[ce]))return!1}else for(k=U.getAttribute("class");++ce<re;)if(!Oe(u[ce]).test(k))return!1;return!0}for(k in u)this.each(Te(k,u[k]));return this}return this.each(Te(u,k))},I.style=function(u,k,U){var re=arguments.length;if(re<3){if("string"!=typeof u){for(U in re<2&&(k=""),u)this.each(Pe(U,u[U],k));return this}if(re<2){var ce=this.node();return h(ce).getComputedStyle(ce,null).getPropertyValue(u)}U=""}return this.each(Pe(u,k,U))},I.property=function(u,k){if(arguments.length<2){if("string"==typeof u)return this.node()[u];for(k in u)this.each(Je(k,u[k]));return this}return this.each(Je(u,k))},I.text=function(u){return arguments.length?this.each("function"==typeof u?function(){var k=u.apply(this,arguments);this.textContent=k??""}:null==u?function(){this.textContent=""}:function(){this.textContent=u}):this.node().textContent},I.html=function(u){return arguments.length?this.each("function"==typeof u?function(){var k=u.apply(this,arguments);this.innerHTML=k??""}:null==u?function(){this.innerHTML=""}:function(){this.innerHTML=u}):this.node().innerHTML},I.append=function(u){return u=Xe(u),this.select(function(){return this.appendChild(u.apply(this,arguments))})},I.insert=function(u,k){return u=Xe(u),k=ae(k),this.select(function(){return this.insertBefore(u.apply(this,arguments),k.apply(this,arguments)||null)})},I.remove=function(){return this.each(Ge)},I.data=function(u,k){var ce,he,U=-1,re=this.length;if(!arguments.length){for(u=new Array(re=(ce=this[0]).length);++U<re;)(he=ce[U])&&(u[U]=he.__data__);return u}function Ie(nt,Mt){var xt,qt,Wt,Gt=nt.length,It=Mt.length,vt=Math.min(Gt,It),Vt=new Array(It),Ft=new Array(It),Pt=new Array(Gt);if(k){var ir,Hn=new Y,Qn=new Array(Gt);for(xt=-1;++xt<Gt;)(qt=nt[xt])&&(Hn.has(ir=k.call(qt,qt.__data__,xt))?Pt[xt]=qt:Hn.set(ir,qt),Qn[xt]=ir);for(xt=-1;++xt<It;)(qt=Hn.get(ir=k.call(Mt,Wt=Mt[xt],xt)))?!0!==qt&&(Vt[xt]=qt,qt.__data__=Wt):Ft[xt]=st(Wt),Hn.set(ir,!0);for(xt=-1;++xt<Gt;)xt in Qn&&!0!==Hn.get(Qn[xt])&&(Pt[xt]=nt[xt])}else{for(xt=-1;++xt<vt;)Wt=Mt[xt],(qt=nt[xt])?(qt.__data__=Wt,Vt[xt]=qt):Ft[xt]=st(Wt);for(;xt<It;++xt)Ft[xt]=st(Mt[xt]);for(;xt<Gt;++xt)Pt[xt]=nt[xt]}Ft.update=Vt,Ft.parentNode=Vt.parentNode=Pt.parentNode=nt.parentNode,Ae.push(Ft),Fe.push(Vt),et.push(Pt)}var Ae=Qt([]),Fe=B([]),et=B([]);if("function"==typeof u)for(;++U<re;)Ie(ce=this[U],u.call(ce,ce.parentNode.__data__,U));else for(;++U<re;)Ie(ce=this[U],u);return Fe.enter=function(){return Ae},Fe.exit=function(){return et},Fe},I.datum=function(u){return arguments.length?this.property("__data__",u):this.property("__data__")},I.filter=function(u){var U,re,ce,k=[];"function"!=typeof u&&(u=wt(u));for(var he=0,Ie=this.length;he<Ie;he++){k.push(U=[]),U.parentNode=(re=this[he]).parentNode;for(var Ae=0,Fe=re.length;Ae<Fe;Ae++)(ce=re[Ae])&&u.call(ce,ce.__data__,Ae,he)&&U.push(ce)}return B(k)},I.order=function(){for(var u=-1,k=this.length;++u<k;)for(var he,U=this[u],re=U.length-1,ce=U[re];--re>=0;)(he=U[re])&&(ce&&ce!==he.nextSibling&&ce.parentNode.insertBefore(he,ce),ce=he);return this},I.sort=function(u){u=kt.apply(this,arguments);for(var k=-1,U=this.length;++k<U;)this[k].sort(u);return this.order()},I.each=function(u){return At(this,function(k,U,re){u.call(k,k.__data__,U,re)})},I.call=function(u){var k=f(arguments);return u.apply(k[0]=this,k),this},I.empty=function(){return!this.node()},I.node=function(){for(var u=0,k=this.length;u<k;u++)for(var U=this[u],re=0,ce=U.length;re<ce;re++){var he=U[re];if(he)return he}return null},I.size=function(){var u=0;return At(this,function(){++u}),u};var nn=[];function Lt(u,k,U){var re="__on"+u,ce=u.indexOf("."),he=gt;ce>0&&(u=u.slice(0,ce));var Ie=Xt.get(u);function Ae(){var nt=this[re];nt&&(this.removeEventListener(u,nt,nt.$),delete this[re])}return Ie&&(u=Ie,he=Yt),ce?k?function Fe(){var nt=he(k,f(arguments));Ae.call(this),this.addEventListener(u,this[re]=nt,nt.$=U),nt._=k}:Ae:k?le:function et(){var Mt,nt=new RegExp("^__on([^.]+)"+v.requote(u)+"$");for(var xt in this)if(Mt=xt.match(nt)){var Gt=this[xt];this.removeEventListener(Mt[1],Gt,Gt.$),delete this[xt]}}}v.selection.enter=Qt,v.selection.enter.prototype=nn,nn.append=I.append,nn.empty=I.empty,nn.node=I.node,nn.call=I.call,nn.size=I.size,nn.select=function(u){for(var U,re,ce,he,Ie,k=[],Ae=-1,Fe=this.length;++Ae<Fe;){ce=(he=this[Ae]).update,k.push(U=[]),U.parentNode=he.parentNode;for(var et=-1,nt=he.length;++et<nt;)(Ie=he[et])?(U.push(ce[et]=re=u.call(he.parentNode,Ie.__data__,et,Ae)),re.__data__=Ie.__data__):U.push(null)}return B(k)},nn.insert=function(u,k){return arguments.length<2&&(k=function Ut(u){var k,U;return function(re,ce,he){var Fe,Ie=u[he].update,Ae=Ie.length;for(he!=U&&(U=he,k=0),ce>=k&&(k=ce+1);!(Fe=Ie[k])&&++k<Ae;);return Fe}}(this)),I.insert.call(this,u,k)},v.select=function(u){var k;return"string"==typeof u?(k=[P(u,y)]).parentNode=y.documentElement:(k=[u]).parentNode=m(u),B([k])},v.selectAll=function(u){var k;return"string"==typeof u?(k=f(X(u,y))).parentNode=y.documentElement:(k=f(u)).parentNode=null,B([k])},I.on=function(u,k,U){var re=arguments.length;if(re<3){if("string"!=typeof u){for(U in re<2&&(k=!1),u)this.each(Lt(U,u[U],k));return this}if(re<2)return(re=this.node()["__on"+u])&&re._;U=!1}return this.each(Lt(u,k,U))};var Xt=v.map({mouseenter:"mouseover",mouseleave:"mouseout"});function gt(u,k){return function(U){var re=v.event;v.event=U,k[0]=this.__data__;try{u.apply(this,k)}finally{v.event=re}}}function Yt(u,k){var U=gt(u,k);return function(re){var he=re.relatedTarget;(!he||he!==this&&!(8&he.compareDocumentPosition(this)))&&U.call(this,re)}}y&&Xt.forEach(function(u){"on"+u in y&&Xt.remove(u)});var tn,dn=0;function rn(u){var k=".dragsuppress-"+ ++dn,U="click"+k,re=v.select(h(u)).on("touchmove"+k,ke).on("dragstart"+k,ke).on("selectstart"+k,ke);if(null==tn&&(tn=!("onselectstart"in u)&&ie(u.style,"userSelect")),tn){var ce=m(u).style,he=ce[tn];ce[tn]="none"}return function(Ie){if(re.on(k,null),tn&&(ce[tn]=he),Ie){var Ae=function(){re.on(U,null)};re.on(U,function(){ke(),Ae()},!0),setTimeout(Ae,0)}}}v.mouse=function(u){return St(u,Ue())};var Ke=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function St(u,k){k.changedTouches&&(k=k.changedTouches[0]);var U=u.ownerSVGElement||u;if(U.createSVGPoint){var re=U.createSVGPoint();if(Ke<0){var ce=h(u);if(ce.scrollX||ce.scrollY){var he=(U=v.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Ke=!(he.f||he.e),U.remove()}}return Ke?(re.x=k.pageX,re.y=k.pageY):(re.x=k.clientX,re.y=k.clientY),[(re=re.matrixTransform(u.getScreenCTM().inverse())).x,re.y]}var Ie=u.getBoundingClientRect();return[k.clientX-Ie.left-u.clientLeft,k.clientY-Ie.top-u.clientTop]}function dt(){return v.event.changedTouches[0].identifier}v.touch=function(u,k,U){if(arguments.length<3&&(U=k,k=Ue().changedTouches),k)for(var he,re=0,ce=k.length;re<ce;++re)if((he=k[re]).identifier===U)return St(u,he)},v.behavior.drag=function(){var u=Me(ce,"drag","dragstart","dragend"),k=null,U=he(le,v.mouse,h,"mousemove","mouseup"),re=he(dt,v.touch,G,"touchmove","touchend");function ce(){this.on("mousedown.drag",U).on("touchstart.drag",re)}function he(Ie,Ae,Fe,et,nt){return function(){var Pt,xt=v.event.target.correspondingElement||v.event.target,Gt=this.parentNode,It=u.of(this,arguments),vt=0,Vt=Ie(),Ft=".drag"+(null==Vt?"":"-"+Vt),qt=v.select(Fe(xt)).on(et+Ft,function Qn(){var ar,lr,jn=Ae(Gt,Vt);jn&&(vt|=(ar=jn[0]-Hn[0])|(lr=jn[1]-Hn[1]),Hn=jn,It({type:"drag",x:jn[0]+Pt[0],y:jn[1]+Pt[1],dx:ar,dy:lr}))}).on(nt+Ft,function ir(){Ae(Gt,Vt)&&(qt.on(et+Ft,null).on(nt+Ft,null),Wt(vt),It({type:"dragend"}))}),Wt=rn(xt),Hn=Ae(Gt,Vt);Pt=k?[(Pt=k.apply(this,arguments)).x-Hn[0],Pt.y-Hn[1]]:[0,0],It({type:"dragstart"})}}return ce.origin=function(Ie){return arguments.length?(k=Ie,ce):k},v.rebind(ce,u,"on")},v.touches=function(u,k){return arguments.length<2&&(k=Ue().touches),k?f(k).map(function(U){var re=St(u,U);return re.identifier=U.identifier,re}):[]};var Re=1e-6,it=Re*Re,ye=Math.PI,De=2*ye,$e=De-Re,je=ye/2,Ye=ye/180,at=180/ye;function tt(u,k,U){return(k[0]-u[0])*(U[1]-u[1])-(k[1]-u[1])*(U[0]-u[0])}function ct(u){return u>1?je:u<-1?-je:Math.asin(u)}function hn(u){return((u=Math.exp(u))+1/u)/2}var Gn=Math.SQRT2;v.interpolateZoom=function(u,k){var Mt,xt,U=u[0],re=u[1],ce=u[2],Ae=k[2],Fe=k[0]-U,et=k[1]-re,nt=Fe*Fe+et*et;if(nt<it)xt=Math.log(Ae/ce)/Gn,Mt=function(Pt){return[U+Pt*Fe,re+Pt*et,ce*Math.exp(Gn*Pt*xt)]};else{var Gt=Math.sqrt(nt),It=(Ae*Ae-ce*ce+4*nt)/(2*ce*2*Gt),vt=(Ae*Ae-ce*ce-4*nt)/(2*Ae*2*Gt),Vt=Math.log(Math.sqrt(It*It+1)-It),Ft=Math.log(Math.sqrt(vt*vt+1)-vt);xt=(Ft-Vt)/Gn,Mt=function(Pt){var qt=Pt*xt,Wt=hn(Vt),Hn=ce/(2*Gt)*(Wt*function Tn(u){return((u=Math.exp(2*u))-1)/(u+1)}(Gn*qt+Vt)-function Et(u){return((u=Math.exp(u))-1/u)/2}(Vt));return[U+Hn*Fe,re+Hn*et,ce*Wt/hn(Gn*qt+Vt)]}}return Mt.duration=1e3*xt,Mt},v.behavior.zoom=function(){var k,U,re,Mt,Gt,vt,Vt,Ft,Pt,u={x:0,y:0,k:1},ce=[960,500],he=Wn,Ie=250,Ae=0,Fe="mousedown.zoom",et="mousemove.zoom",nt="mouseup.zoom",xt="touchstart.zoom",It=Me(qt,"zoomstart","zoom","zoomend");function qt(Kn){Kn.on(Fe,wr).on(Vn+".zoom",_i).on("dblclick.zoom",ui).on(xt,li)}function Wt(Kn){return[(Kn[0]-u.x)/u.k,(Kn[1]-u.y)/u.k]}function Qn(Kn){u.k=Math.max(he[0],Math.min(he[1],Kn))}function ir(Kn,zr){zr=function Hn(Kn){return[Kn[0]*u.k+u.x,Kn[1]*u.k+u.y]}(zr),u.x+=Kn[0]-zr[0],u.y+=Kn[1]-zr[1]}function jn(Kn,zr,Tr,mi){Kn.__chart__={x:u.x,y:u.y,k:u.k},Qn(Math.pow(2,mi)),ir(U=zr,Tr),Kn=v.select(Kn),Ie>0&&(Kn=Kn.transition().duration(Ie)),Kn.call(qt.event)}function ar(){Vt&&Vt.domain(vt.range().map(function(Kn){return(Kn-u.x)/u.k}).map(vt.invert)),Pt&&Pt.domain(Ft.range().map(function(Kn){return(Kn-u.y)/u.k}).map(Ft.invert))}function lr(Kn){Ae++||Kn({type:"zoomstart"})}function Lr(Kn){ar(),Kn({type:"zoom",scale:u.k,translate:[u.x,u.y]})}function cr(Kn){--Ae||(Kn({type:"zoomend"}),U=null)}function wr(){var Kn=this,zr=It.of(Kn,arguments),Tr=0,mi=v.select(h(Kn)).on(et,function pn(){Tr=1,ir(v.mouse(Kn),Ti),Lr(zr)}).on(nt,function Qa(){mi.on(et,null).on(nt,null),Aa(Tr),cr(zr)}),Ti=Wt(v.mouse(Kn)),Aa=rn(Kn);Ec.call(Kn),lr(zr)}function li(){var Ti,Kn=this,zr=It.of(Kn,arguments),Tr={},mi=0,Aa=".zoom-"+v.event.changedTouches[0].identifier,pn="touchmove"+Aa,Qa="touchend"+Aa,Bn=[],Ja=v.select(Kn),ba=rn(Kn);function Ha(){var b2=v.touches(Kn);return Ti=u.k,b2.forEach(function(gs){gs.identifier in Tr&&(Tr[gs.identifier]=Wt(gs))}),b2}function Bs(){var b2=v.event.target;v.select(b2).on(pn,W2).on(Qa,Ju),Bn.push(b2);for(var gs=v.event.changedTouches,Ls=0,W1=gs.length;Ls<W1;++Ls)Tr[gs[Ls].identifier]=null;var a1=Ha(),j2=Date.now();if(1===a1.length)j2-Gt<500&&(jn(Kn,b1=a1[0],Tr[b1.identifier],Math.floor(Math.log(u.k)/Math.LN2)+1),ke()),Gt=j2;else if(a1.length>1){var b1,Ca=a1[1],Us=(b1=a1[0])[0]-Ca[0],Ic=b1[1]-Ca[1];mi=Us*Us+Ic*Ic}}function W2(){var gs,Ls,W1,a1,b2=v.touches(Kn);Ec.call(Kn);for(var j2=0,b1=b2.length;j2<b1;++j2,a1=null)if(a1=Tr[(W1=b2[j2]).identifier]){if(Ls)break;gs=W1,Ls=a1}if(a1){var Ca=(Ca=W1[0]-gs[0])*Ca+(Ca=W1[1]-gs[1])*Ca,Us=mi&&Math.sqrt(Ca/mi);gs=[(gs[0]+W1[0])/2,(gs[1]+W1[1])/2],Ls=[(Ls[0]+a1[0])/2,(Ls[1]+a1[1])/2],Qn(Us*Ti)}Gt=null,ir(gs,Ls),Lr(zr)}function Ju(){if(v.event.touches.length){for(var b2=v.event.changedTouches,gs=0,Ls=b2.length;gs<Ls;++gs)delete Tr[b2[gs].identifier];for(var W1 in Tr)return void Ha()}v.selectAll(Bn).on(Aa,null),Ja.on(Fe,wr).on(xt,li),ba(),cr(zr)}Bs(),lr(zr),Ja.on(Fe,null).on(xt,Bs)}function _i(){var Kn=It.of(this,arguments);Mt?clearTimeout(Mt):(Ec.call(this),k=Wt(U=re||v.mouse(this)),lr(Kn)),Mt=setTimeout(function(){Mt=null,cr(Kn)},50),ke(),Qn(Math.pow(2,.002*kn())*u.k),ir(U,k),Lr(Kn)}function ui(){var Kn=v.mouse(this),zr=Math.log(u.k)/Math.LN2;jn(this,Kn,Wt(Kn),v.event.shiftKey?Math.ceil(zr)-1:Math.floor(zr)+1)}return Vn||(Vn="onwheel"in y?(kn=function(){return-v.event.deltaY*(v.event.deltaMode?120:1)},"wheel"):"onmousewheel"in y?(kn=function(){return v.event.wheelDelta},"mousewheel"):(kn=function(){return-v.event.detail},"MozMousePixelScroll")),qt.event=function(Kn){Kn.each(function(){var zr=It.of(this,arguments),Tr=u;G2?v.select(this).transition().each("start.zoom",function(){u=this.__chart__||{x:0,y:0,k:1},lr(zr)}).tween("zoom:zoom",function(){var mi=ce[0],Aa=U?U[0]:mi/2,pn=U?U[1]:ce[1]/2,Qa=v.interpolateZoom([(Aa-u.x)/u.k,(pn-u.y)/u.k,mi/u.k],[(Aa-Tr.x)/Tr.k,(pn-Tr.y)/Tr.k,mi/Tr.k]);return function(Bn){var Ja=Qa(Bn),ba=mi/Ja[2];this.__chart__=u={x:Aa-Ja[0]*ba,y:pn-Ja[1]*ba,k:ba},Lr(zr)}}).each("interrupt.zoom",function(){cr(zr)}).each("end.zoom",function(){cr(zr)}):(this.__chart__=u,lr(zr),Lr(zr),cr(zr))})},qt.translate=function(Kn){return arguments.length?(u={x:+Kn[0],y:+Kn[1],k:u.k},ar(),qt):[u.x,u.y]},qt.scale=function(Kn){return arguments.length?(u={x:u.x,y:u.y,k:null},Qn(+Kn),ar(),qt):u.k},qt.scaleExtent=function(Kn){return arguments.length?(he=null==Kn?Wn:[+Kn[0],+Kn[1]],qt):he},qt.center=function(Kn){return arguments.length?(re=Kn&&[+Kn[0],+Kn[1]],qt):re},qt.size=function(Kn){return arguments.length?(ce=Kn&&[+Kn[0],+Kn[1]],qt):ce},qt.duration=function(Kn){return arguments.length?(Ie=+Kn,qt):Ie},qt.x=function(Kn){return arguments.length?(Vt=Kn,vt=Kn.copy(),u={x:0,y:0,k:1},qt):Vt},qt.y=function(Kn){return arguments.length?(Pt=Kn,Ft=Kn.copy(),u={x:0,y:0,k:1},qt):Pt},v.rebind(qt,It,"on")};var kn,Vn,Wn=[0,1/0];function Zn(){}function bn(u,k,U){return this instanceof bn?(this.h=+u,this.s=+k,void(this.l=+U)):arguments.length<2?u instanceof bn?new bn(u.h,u.s,u.l):Nt(""+u,un,bn):new bn(u,k,U)}v.color=Zn,Zn.prototype.toString=function(){return this.rgb()+""},v.hsl=bn;var Zt=bn.prototype=new Zn;function Nn(u,k,U){var re,ce;function Ie(Ae){return Math.round(255*function he(Ae){return Ae>360?Ae-=360:Ae<0&&(Ae+=360),Ae<60?re+(ce-re)*Ae/60:Ae<180?ce:Ae<240?re+(ce-re)*(240-Ae)/60:re}(Ae))}return u=isNaN(u)?0:(u%=360)<0?u+360:u,k=isNaN(k)||k<0?0:k>1?1:k,re=2*(U=U<0?0:U>1?1:U)-(ce=U<=.5?U*(1+k):U+k-U*k),new Ht(Ie(u+120),Ie(u),Ie(u-120))}function An(u,k,U){return this instanceof An?(this.h=+u,this.c=+k,void(this.l=+U)):arguments.length<2?u instanceof An?new An(u.h,u.c,u.l):function mt(u,k,U){return u>0?new An(Math.atan2(U,k)*at,Math.sqrt(k*k+U*U),u):new An(NaN,NaN,u)}(u instanceof vr?u.l:(u=sn((u=v.rgb(u)).r,u.g,u.b)).l,u.a,u.b):new An(u,k,U)}Zt.brighter=function(u){return u=Math.pow(.7,arguments.length?u:1),new bn(this.h,this.s,this.l/u)},Zt.darker=function(u){return u=Math.pow(.7,arguments.length?u:1),new bn(this.h,this.s,u*this.l)},Zt.rgb=function(){return Nn(this.h,this.s,this.l)},v.hcl=An;var $n=An.prototype=new Zn;function dr(u,k,U){return isNaN(u)&&(u=0),isNaN(k)&&(k=0),new vr(U,Math.cos(u*=Ye)*k,Math.sin(u)*k)}function vr(u,k,U){return this instanceof vr?(this.l=+u,this.a=+k,void(this.b=+U)):arguments.length<2?u instanceof vr?new vr(u.l,u.a,u.b):u instanceof An?dr(u.h,u.c,u.l):sn((u=Ht(u)).r,u.g,u.b):new vr(u,k,U)}$n.brighter=function(u){return new An(this.h,this.c,Math.min(100,this.l+Fn*(arguments.length?u:1)))},$n.darker=function(u){return new An(this.h,this.c,Math.max(0,this.l-Fn*(arguments.length?u:1)))},$n.rgb=function(){return dr(this.h,this.c,this.l).rgb()},v.lab=vr;var Fn=18,ge=.95047,de=1,lt=1.08883,ot=vr.prototype=new Zn;function pt(u,k,U){var re=(u+16)/116,ce=re+k/500,he=re-U/200;return new Ht(ut(3.2404542*(ce=Tt(ce)*ge)-1.5371385*(re=Tt(re)*de)-.4985314*(he=Tt(he)*lt)),ut(-.969266*ce+1.8760108*re+.041556*he),ut(.0556434*ce-.2040259*re+1.0572252*he))}function Tt(u){return u>.206893034?u*u*u:(u-.13793103448275862)/7.787037}function ht(u){return u>.008856?Math.pow(u,.3333333333333333):7.787037*u+.13793103448275862}function ut(u){return Math.round(255*(u<=.00304?12.92*u:1.055*Math.pow(u,.4166666666666667)-.055))}function Ht(u,k,U){return this instanceof Ht?(this.r=~~u,this.g=~~k,void(this.b=~~U)):arguments.length<2?u instanceof Ht?new Ht(u.r,u.g,u.b):Nt(""+u,Ht,Nn):new Ht(u,k,U)}function _t(u){return new Ht(u>>16,u>>8&255,255&u)}function jt(u){return _t(u)+""}ot.brighter=function(u){return new vr(Math.min(100,this.l+Fn*(arguments.length?u:1)),this.a,this.b)},ot.darker=function(u){return new vr(Math.max(0,this.l-Fn*(arguments.length?u:1)),this.a,this.b)},ot.rgb=function(){return pt(this.l,this.a,this.b)},v.rgb=Ht;var an=Ht.prototype=new Zn;function vn(u){return u<16?"0"+Math.max(0,u).toString(16):Math.min(255,u).toString(16)}function Nt(u,k,U){var Ie,Ae,Fe,re=0,ce=0,he=0;if(Ie=/([a-z]+)\((.*)\)/.exec(u=u.toLowerCase()))switch(Ae=Ie[2].split(","),Ie[1]){case"hsl":return U(parseFloat(Ae[0]),parseFloat(Ae[1])/100,parseFloat(Ae[2])/100);case"rgb":return k(Mn(Ae[0]),Mn(Ae[1]),Mn(Ae[2]))}return(Fe=zn.get(u))?k(Fe.r,Fe.g,Fe.b):(null!=u&&"#"===u.charAt(0)&&!isNaN(Fe=parseInt(u.slice(1),16))&&(4===u.length?(re=(3840&Fe)>>4,re|=re>>4,ce=240&Fe,ce|=ce>>4,he=15&Fe,he|=he<<4):7===u.length&&(re=(16711680&Fe)>>16,ce=(65280&Fe)>>8,he=255&Fe)),k(re,ce,he))}function un(u,k,U){var Ie,Ae,re=Math.min(u/=255,k/=255,U/=255),ce=Math.max(u,k,U),he=ce-re,Fe=(ce+re)/2;return he?(Ae=Fe<.5?he/(ce+re):he/(2-ce-re),Ie=u==ce?(k-U)/he+(k<U?6:0):k==ce?(U-u)/he+2:(u-k)/he+4,Ie*=60):(Ie=NaN,Ae=Fe>0&&Fe<1?0:Ie),new bn(Ie,Ae,Fe)}function sn(u,k,U){var re=ht((.4124564*(u=Jt(u))+.3575761*(k=Jt(k))+.1804375*(U=Jt(U)))/ge),ce=ht((.2126729*u+.7151522*k+.072175*U)/de);return vr(116*ce-16,500*(re-ce),200*(ce-ht((.0193339*u+.119192*k+.9503041*U)/lt)))}function Jt(u){return(u/=255)<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)}function Mn(u){var k=parseFloat(u);return"%"===u.charAt(u.length-1)?Math.round(2.55*k):k}an.brighter=function(u){u=Math.pow(.7,arguments.length?u:1);var k=this.r,U=this.g,re=this.b;return k||U||re?(k&&k<30&&(k=30),U&&U<30&&(U=30),re&&re<30&&(re=30),new Ht(Math.min(255,k/u),Math.min(255,U/u),Math.min(255,re/u))):new Ht(30,30,30)},an.darker=function(u){return new Ht((u=Math.pow(.7,arguments.length?u:1))*this.r,u*this.g,u*this.b)},an.hsl=function(){return un(this.r,this.g,this.b)},an.toString=function(){return"#"+vn(this.r)+vn(this.g)+vn(this.b)};var zn=v.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function Pn(u){return"function"==typeof u?u:function(){return u}}function xn(u){return function(k,U,re){return 2===arguments.length&&"function"==typeof U&&(re=U,U=null),wn(k,U,u,re)}}function wn(u,k,U,re){var ce={},he=v.dispatch("beforesend","progress","load","error"),Ie={},Ae=new XMLHttpRequest,Fe=null;function et(){var Mt,nt=Ae.status;if(!nt&&function gr(u){var k=u.responseType;return k&&"text"!==k?u.response:u.responseText}(Ae)||nt>=200&&nt<300||304===nt){try{Mt=U.call(ce,Ae)}catch(xt){return void he.error.call(ce,xt)}he.load.call(ce,Mt)}else he.error.call(ce,Ae)}return self.XDomainRequest&&!("withCredentials"in Ae)&&/^(http(s)?:)?\/\//.test(u)&&(Ae=new XDomainRequest),"onload"in Ae?Ae.onload=Ae.onerror=et:Ae.onreadystatechange=function(){Ae.readyState>3&&et()},Ae.onprogress=function(nt){var Mt=v.event;v.event=nt;try{he.progress.call(ce,Ae)}finally{v.event=Mt}},ce.header=function(nt,Mt){return nt=(nt+"").toLowerCase(),arguments.length<2?Ie[nt]:(null==Mt?delete Ie[nt]:Ie[nt]=Mt+"",ce)},ce.mimeType=function(nt){return arguments.length?(k=null==nt?null:nt+"",ce):k},ce.responseType=function(nt){return arguments.length?(Fe=nt,ce):Fe},ce.response=function(nt){return U=nt,ce},["get","post"].forEach(function(nt){ce[nt]=function(){return ce.send.apply(ce,[nt].concat(f(arguments)))}}),ce.send=function(nt,Mt,xt){if(2===arguments.length&&"function"==typeof Mt&&(xt=Mt,Mt=null),Ae.open(nt,u,!0),null!=k&&!("accept"in Ie)&&(Ie.accept=k+",*/*"),Ae.setRequestHeader)for(var Gt in Ie)Ae.setRequestHeader(Gt,Ie[Gt]);return null!=k&&Ae.overrideMimeType&&Ae.overrideMimeType(k),null!=Fe&&(Ae.responseType=Fe),null!=xt&&ce.on("error",xt).on("load",function(It){xt(null,It)}),he.beforesend.call(ce,Ae),Ae.send(Mt??null),ce},ce.abort=function(){return Ae.abort(),ce},v.rebind(ce,he,"on"),null==re?ce:ce.get(function Xn(u){return 1===u.length?function(k,U){u(null==k?U:null)}:u}(re))}zn.forEach(function(u,k){zn.set(u,_t(k))}),v.functor=Pn,v.xhr=xn(G),v.dsv=function(u,k){var U=new RegExp('["'+u+"\n]"),re=u.charCodeAt(0);function ce(et,nt,Mt){arguments.length<3&&(Mt=nt,nt=null);var xt=wn(et,k,null==nt?he:Ie(nt),Mt);return xt.row=function(Gt){return arguments.length?xt.response(null==(nt=Gt)?he:Ie(Gt)):nt},xt}function he(et){return ce.parse(et.responseText)}function Ie(et){return function(nt){return ce.parse(nt.responseText,et)}}function Ae(et){return et.map(Fe).join(u)}function Fe(et){return U.test(et)?'"'+et.replace(/\"/g,'""')+'"':et}return ce.parse=function(et,nt){var Mt;return ce.parseRows(et,function(xt,Gt){if(Mt)return Mt(xt,Gt-1);var It=function(vt){for(var Vt={},Ft=xt.length,Pt=0;Pt<Ft;++Pt)Vt[xt[Pt]]=vt[Pt];return Vt};Mt=nt?function(vt,Vt){return nt(It(vt),Vt)}:It})},ce.parseRows=function(et,nt){var Ft,Pt,Mt={},xt={},Gt=[],It=et.length,vt=0,Vt=0;function qt(){if(vt>=It)return xt;if(Pt)return Pt=!1,Mt;var Hn=vt;if(34===et.charCodeAt(Hn)){for(var Qn=Hn;Qn++<It;)if(34===et.charCodeAt(Qn)){if(34!==et.charCodeAt(Qn+1))break;++Qn}return vt=Qn+2,13===(ir=et.charCodeAt(Qn+1))?(Pt=!0,10===et.charCodeAt(Qn+2)&&++vt):10===ir&&(Pt=!0),et.slice(Hn+1,Qn).replace(/""/g,'"')}for(;vt<It;){var ir,jn=1;if(10===(ir=et.charCodeAt(vt++)))Pt=!0;else if(13===ir)Pt=!0,10===et.charCodeAt(vt)&&(++vt,++jn);else if(ir!==re)continue;return et.slice(Hn,vt-jn)}return et.slice(Hn)}for(;(Ft=qt())!==xt;){for(var Wt=[];Ft!==Mt&&Ft!==xt;)Wt.push(Ft),Ft=qt();nt&&null==(Wt=nt(Wt,Vt++))||Gt.push(Wt)}return Gt},ce.format=function(et){if(Array.isArray(et[0]))return ce.formatRows(et);var nt=new Z,Mt=[];return et.forEach(function(xt){for(var Gt in xt)nt.has(Gt)||Mt.push(nt.add(Gt))}),[Mt.map(Fe).join(u)].concat(et.map(function(xt){return Mt.map(function(Gt){return Fe(xt[Gt])}).join(u)})).join("\n")},ce.formatRows=function(et){return et.map(Ae).join("\n")},ce},v.csv=v.dsv(",","text/csv"),v.tsv=v.dsv("\t","text/tab-separated-values");var Cr,ci,Mr,Hr,ei=this[ie(this,"requestAnimationFrame")]||function(u){setTimeout(u,17)};function Di(u,k,U){var re=arguments.length;re<2&&(k=0),re<3&&(U=Date.now());var he={c:u,t:U+k,n:null};return ci?ci.n=he:Cr=he,ci=he,Mr||(Hr=clearTimeout(Hr),Mr=1,ei(oa)),he}function oa(){var u=Er(),k=qi()-u;k>24?(isFinite(k)&&(clearTimeout(Hr),Hr=setTimeout(oa,k)),Mr=0):(Mr=1,ei(oa))}function Er(){for(var u=Date.now(),k=Cr;k;)u>=k.t&&k.c(u-k.t)&&(k.c=null),k=k.n;return u}function qi(){for(var u,k=Cr,U=1/0;k;)k.c?(k.t<U&&(U=k.t),k=(u=k).n):k=u?u.n=k.n:Cr=k.n;return ci=u,U}function Qr(u){return u[0]}function hi(u){return u[1]}function ti(u){for(var k=u.length,U=[0,1],re=2,ce=2;ce<k;ce++){for(;re>1&&tt(u[U[re-2]],u[U[re-1]],u[ce])<=0;)--re;U[re++]=ce}return U.slice(0,re)}function xi(u,k){return u[0]-k[0]||u[1]-k[1]}v.timer=function(){Di.apply(this,arguments)},v.timer.flush=function(){Er(),qi()},v.round=function(u,k){return k?Math.round(u*(k=Math.pow(10,k)))/k:Math.round(u)},v.geom={},v.geom.hull=function(u){var k=Qr,U=hi;if(arguments.length)return re(u);function re(ce){if(ce.length<3)return[];var Ae,he=Pn(k),Ie=Pn(U),Fe=ce.length,et=[],nt=[];for(Ae=0;Ae<Fe;Ae++)et.push([+he.call(this,ce[Ae],Ae),+Ie.call(this,ce[Ae],Ae),Ae]);for(et.sort(xi),Ae=0;Ae<Fe;Ae++)nt.push([et[Ae][0],-et[Ae][1]]);var Mt=ti(et),xt=ti(nt),Gt=xt[0]===Mt[0],It=xt[xt.length-1]===Mt[Mt.length-1],vt=[];for(Ae=Mt.length-1;Ae>=0;--Ae)vt.push(ce[et[Mt[Ae]][2]]);for(Ae=+Gt;Ae<xt.length-It;++Ae)vt.push(ce[et[xt[Ae]][2]]);return vt}return re.x=function(ce){return arguments.length?(k=ce,re):k},re.y=function(ce){return arguments.length?(U=ce,re):U},re},v.geom.polygon=function(u){return Le(u,Sr),u};var Sr=v.geom.polygon.prototype=[];function Vr(u,k,U){return(U[0]-k[0])*(u[1]-k[1])<(U[1]-k[1])*(u[0]-k[0])}function ni(u,k,U,re){var ce=u[0],he=U[0],Ie=k[0]-ce,Ae=re[0]-he,Fe=u[1],et=U[1],nt=k[1]-Fe,Mt=re[1]-et,xt=(Ae*(Fe-et)-Mt*(ce-he))/(Mt*Ie-Ae*nt);return[ce+xt*Ie,Fe+xt*nt]}function Wi(u){var k=u[0],U=u[u.length-1];return!(k[0]-U[0]||k[1]-U[1])}Sr.area=function(){for(var U,u=-1,k=this.length,re=this[k-1],ce=0;++u<k;)ce+=(U=re)[1]*(re=this[u])[0]-U[0]*re[1];return.5*ce},Sr.centroid=function(u){var he,Ae,k=-1,U=this.length,re=0,ce=0,Ie=this[U-1];for(arguments.length||(u=-1/(6*this.area()));++k<U;)re+=((he=Ie)[0]+(Ie=this[k])[0])*(Ae=he[0]*Ie[1]-Ie[0]*he[1]),ce+=(he[1]+Ie[1])*Ae;return[re*u,ce*u]},Sr.clip=function(u){for(var k,he,Ie,Fe,et,nt,U=Wi(u),re=-1,ce=this.length-Wi(this),Ae=this[ce-1];++re<ce;){for(k=u.slice(),u.length=0,Fe=this[re],et=k[(Ie=k.length-U)-1],he=-1;++he<Ie;)Vr(nt=k[he],Ae,Fe)?(Vr(et,Ae,Fe)||u.push(ni(et,nt,Ae,Fe)),u.push(nt)):Vr(et,Ae,Fe)&&u.push(ni(et,nt,Ae,Fe)),et=nt;U&&u.push(u[0]),Ae=Fe}return u};var ia,zi,Jr,pa,ea,rs=[],wi=[];function k1(){Kl(this),this.edge=this.site=this.circle=null}function is(u){var k=rs.pop()||new k1;return k.site=u,k}function va(u){Hi(u),Jr.remove(u),rs.push(u),Kl(u)}function Za(u){var k=u.circle,U=k.x,re=k.cy,ce={x:U,y:re},he=u.P,Ie=u.N,Ae=[u];va(u);for(var Fe=he;Fe.circle&&b(U-Fe.circle.x)<Re&&b(re-Fe.circle.cy)<Re;)he=Fe.P,Ae.unshift(Fe),va(Fe),Fe=he;Ae.unshift(Fe),Hi(Fe);for(var et=Ie;et.circle&&b(U-et.circle.x)<Re&&b(re-et.circle.cy)<Re;)Ie=et.N,Ae.push(et),va(et),et=Ie;Ae.push(et),Hi(et);var Mt,nt=Ae.length;for(Mt=1;Mt<nt;++Mt)ki((et=Ae[Mt]).edge,(Fe=Ae[Mt-1]).site,et.site,ce);(et=Ae[nt-1]).edge=ta((Fe=Ae[0]).site,et.site,null,ce),nr(Fe),nr(et)}function Xa(u){for(var re,ce,he,Ie,k=u.x,U=u.y,Ae=Jr._;Ae;)if((he=k2(Ae,U)-k)>Re)Ae=Ae.L;else{if(!((Ie=k-ur(Ae,U))>Re)){he>-Re?(re=Ae.P,ce=Ae):Ie>-Re?(re=Ae,ce=Ae.N):re=ce=Ae;break}if(!Ae.R){re=Ae;break}Ae=Ae.R}var Fe=is(u);if(Jr.insert(re,Fe),re||ce){if(re===ce)return Hi(re),ce=is(re.site),Jr.insert(Fe,ce),Fe.edge=ce.edge=ta(re.site,Fe.site),nr(re),void nr(ce);if(!ce)return void(Fe.edge=ta(re.site,Fe.site));Hi(re),Hi(ce);var et=re.site,nt=et.x,Mt=et.y,xt=u.x-nt,Gt=u.y-Mt,It=ce.site,vt=It.x-nt,Vt=It.y-Mt,Ft=2*(xt*Vt-Gt*vt),Pt=xt*xt+Gt*Gt,qt=vt*vt+Vt*Vt,Wt={x:(Vt*Pt-Gt*qt)/Ft+nt,y:(xt*qt-vt*Pt)/Ft+Mt};ki(ce.edge,et,It,Wt),Fe.edge=ta(et,u,null,Wt),ce.edge=ta(u,It,null,Wt),nr(re),nr(ce)}}function k2(u,k){var U=u.site,re=U.x,ce=U.y,he=ce-k;if(!he)return re;var Ie=u.P;if(!Ie)return-1/0;var Ae=(U=Ie.site).x,Fe=U.y,et=Fe-k;if(!et)return Ae;var nt=Ae-re,Mt=1/he-1/et,xt=nt/et;return Mt?(-xt+Math.sqrt(xt*xt-2*Mt*(nt*nt/(-2*et)-Fe+et/2+ce-he/2)))/Mt+re:(re+Ae)/2}function ur(u,k){var U=u.N;if(U)return k2(U,k);var re=u.site;return re.y===k?re.x:1/0}function hs(u){this.site=u,this.edges=[]}function Yr(u,k){return k.angle-u.angle}function Ri(){Kl(this),this.x=this.y=this.arc=this.site=this.cy=null}function nr(u){var k=u.P,U=u.N;if(k&&U){var re=k.site,ce=u.site,he=U.site;if(re!==he){var Ie=ce.x,Ae=ce.y,Fe=re.x-Ie,et=re.y-Ae,nt=he.x-Ie,Mt=2*(Fe*(Vt=he.y-Ae)-et*nt);if(!(Mt>=-it)){var xt=Fe*Fe+et*et,Gt=nt*nt+Vt*Vt,It=(Vt*xt-et*Gt)/Mt,vt=(Fe*Gt-nt*xt)/Mt,Vt=vt+Ae,Ft=wi.pop()||new Ri;Ft.arc=u,Ft.site=ce,Ft.x=It+Ie,Ft.y=Vt+Math.sqrt(It*It+vt*vt),Ft.cy=Vt,u.circle=Ft;for(var Pt=null,qt=ea._;qt;)if(Ft.y<qt.y||Ft.y===qt.y&&Ft.x<=qt.x){if(!qt.L){Pt=qt.P;break}qt=qt.L}else{if(!qt.R){Pt=qt;break}qt=qt.R}ea.insert(Pt,Ft),Pt||(pa=Ft)}}}}function Hi(u){var k=u.circle;k&&(k.P||(pa=k.N),ea.remove(k),wi.push(k),Kl(k),u.circle=null)}function Sa(u,k){var U=u.b;if(U)return!0;var Vt,Ft,re=u.a,ce=k[0][0],he=k[1][0],Ie=k[0][1],Ae=k[1][1],Fe=u.l,et=u.r,nt=Fe.x,Mt=Fe.y,xt=et.x,Gt=et.y,It=(nt+xt)/2;if(Gt===Mt){if(It<ce||It>=he)return;if(nt>xt){if(re){if(re.y>=Ae)return}else re={x:It,y:Ie};U={x:It,y:Ae}}else{if(re){if(re.y<Ie)return}else re={x:It,y:Ae};U={x:It,y:Ie}}}else if(Ft=(Mt+Gt)/2-(Vt=(nt-xt)/(Gt-Mt))*It,Vt<-1||Vt>1)if(nt>xt){if(re){if(re.y>=Ae)return}else re={x:(Ie-Ft)/Vt,y:Ie};U={x:(Ae-Ft)/Vt,y:Ae}}else{if(re){if(re.y<Ie)return}else re={x:(Ae-Ft)/Vt,y:Ae};U={x:(Ie-Ft)/Vt,y:Ie}}else if(Mt<Gt){if(re){if(re.x>=he)return}else re={x:ce,y:Vt*ce+Ft};U={x:he,y:Vt*he+Ft}}else{if(re){if(re.x<ce)return}else re={x:he,y:Vt*he+Ft};U={x:ce,y:Vt*ce+Ft}}return u.a=re,u.b=U,!0}function Ta(u,k){this.l=u,this.r=k,this.a=this.b=null}function ta(u,k,U,re){var ce=new Ta(u,k);return ia.push(ce),U&&ki(ce,u,k,U),re&&ki(ce,k,u,re),zi[u.i].edges.push(new ps(ce,u,k)),zi[k.i].edges.push(new ps(ce,k,u)),ce}function Oo(u,k,U){var re=new Ta(u,null);return re.a=k,re.b=U,ia.push(re),re}function ki(u,k,U,re){u.a||u.b?u.l===U?u.b=re:u.a=re:(u.a=re,u.l=k,u.r=U)}function ps(u,k,U){var re=u.a,ce=u.b;this.edge=u,this.site=k,this.angle=U?Math.atan2(U.y-k.y,U.x-k.x):u.l===k?Math.atan2(ce.x-re.x,re.y-ce.y):Math.atan2(re.x-ce.x,ce.y-re.y)}function oo(){this._=null}function Kl(u){u.U=u.C=u.L=u.R=u.P=u.N=null}function Ni(u,k){var U=k,re=k.R,ce=U.U;ce?ce.L===U?ce.L=re:ce.R=re:u._=re,re.U=ce,U.U=re,U.R=re.L,U.R&&(U.R.U=U),re.L=U}function rr(u,k){var U=k,re=k.L,ce=U.U;ce?ce.L===U?ce.L=re:ce.R=re:u._=re,re.U=ce,U.U=re,U.L=re.R,U.L&&(U.L.U=U),re.R=U}function Ar(u){for(;u.L;)u=u.L;return u}function ma(u,k){var re,ce,he,U=u.sort(V1).pop();for(ia=[],zi=new Array(u.length),Jr=new oo,ea=new oo;;)if(he=pa,U&&(!he||U.y<he.y||U.y===he.y&&U.x<he.x))(U.x!==re||U.y!==ce)&&(zi[U.i]=new hs(U),Xa(U),re=U.x,ce=U.y),U=u.pop();else{if(!he)break;Za(he.arc)}k&&(function _a(u){for(var ce,k=ia,U=function Nr(u,k,U,re){return function(ce){var vt,he=ce.a,Ie=ce.b,Ae=he.x,Fe=he.y,Mt=0,xt=1,Gt=Ie.x-Ae,It=Ie.y-Fe;if(vt=u-Ae,Gt||!(vt>0)){if(vt/=Gt,Gt<0){if(vt<Mt)return;vt<xt&&(xt=vt)}else if(Gt>0){if(vt>xt)return;vt>Mt&&(Mt=vt)}if(vt=U-Ae,Gt||!(vt<0)){if(vt/=Gt,Gt<0){if(vt>xt)return;vt>Mt&&(Mt=vt)}else if(Gt>0){if(vt<Mt)return;vt<xt&&(xt=vt)}if(vt=k-Fe,It||!(vt>0)){if(vt/=It,It<0){if(vt<Mt)return;vt<xt&&(xt=vt)}else if(It>0){if(vt>xt)return;vt>Mt&&(Mt=vt)}if(vt=re-Fe,It||!(vt<0)){if(vt/=It,It<0){if(vt>xt)return;vt>Mt&&(Mt=vt)}else if(It>0){if(vt<Mt)return;vt<xt&&(xt=vt)}return Mt>0&&(ce.a={x:Ae+Mt*Gt,y:Fe+Mt*It}),xt<1&&(ce.b={x:Ae+xt*Gt,y:Fe+xt*It}),ce}}}}}}(u[0][0],u[0][1],u[1][0],u[1][1]),re=k.length;re--;)(!Sa(ce=k[re],u)||!U(ce)||b(ce.a.x-ce.b.x)<Re&&b(ce.a.y-ce.b.y)<Re)&&(ce.a=ce.b=null,k.splice(re,1))}(k),function G1(u){for(var he,Ie,Ae,Fe,Mt,xt,Gt,It,vt,Vt,k=u[0][0],U=u[1][0],re=u[0][1],ce=u[1][1],et=zi,nt=et.length;nt--;)if((Mt=et[nt])&&Mt.prepare())for(It=(Gt=Mt.edges).length,xt=0;xt<It;)Ae=(Vt=Gt[xt].end()).x,Fe=Vt.y,Ie=(vt=Gt[++xt%It].start()).y,(b(Ae-(he=vt.x))>Re||b(Fe-Ie)>Re)&&(Gt.splice(xt,0,new ps(Oo(Mt.site,Vt,b(Ae-k)<Re&&ce-Fe>Re?{x:k,y:b(he-k)<Re?Ie:ce}:b(Fe-ce)<Re&&U-Ae>Re?{x:b(Ie-ce)<Re?he:U,y:ce}:b(Ae-U)<Re&&Fe-re>Re?{x:U,y:b(he-U)<Re?Ie:re}:b(Fe-re)<Re&&Ae-k>Re?{x:b(Ie-re)<Re?he:k,y:re}:null),Mt.site,null)),++It)}(k));var Ie={cells:zi,edges:ia};return Jr=ea=ia=zi=null,Ie}function V1(u,k){return k.y-u.y||k.x-u.x}hs.prototype.prepare=function(){for(var U,u=this.edges,k=u.length;k--;)(!(U=u[k].edge).b||!U.a)&&u.splice(k,1);return u.sort(Yr),u.length},ps.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},oo.prototype={insert:function(u,k){var U,re,ce;if(u){if(k.P=u,k.N=u.N,u.N&&(u.N.P=k),u.N=k,u.R){for(u=u.R;u.L;)u=u.L;u.L=k}else u.R=k;U=u}else this._?(u=Ar(this._),k.P=null,k.N=u,u.P=u.L=k,U=u):(k.P=k.N=null,this._=k,U=null);for(k.L=k.R=null,k.U=U,k.C=!0,u=k;U&&U.C;)U===(re=U.U).L?(ce=re.R)&&ce.C?(U.C=ce.C=!1,re.C=!0,u=re):(u===U.R&&(Ni(this,U),U=(u=U).U),U.C=!1,re.C=!0,rr(this,re)):(ce=re.L)&&ce.C?(U.C=ce.C=!1,re.C=!0,u=re):(u===U.L&&(rr(this,U),U=(u=U).U),U.C=!1,re.C=!0,Ni(this,re)),U=u.U;this._.C=!1},remove:function(u){u.N&&(u.N.P=u.P),u.P&&(u.P.N=u.N),u.N=u.P=null;var U,he,Ie,k=u.U,re=u.L,ce=u.R;if(he=re?ce?Ar(ce):re:ce,k?k.L===u?k.L=he:k.R=he:this._=he,re&&ce?(Ie=he.C,he.C=u.C,he.L=re,re.U=he,he!==ce?(k=he.U,he.U=u.U,k.L=u=he.R,he.R=ce,ce.U=he):(he.U=k,k=he,u=he.R)):(Ie=u.C,u=he),u&&(u.U=k),!Ie){if(u&&u.C)return void(u.C=!1);do{if(u===this._)break;if(u===k.L){if((U=k.R).C&&(U.C=!1,k.C=!0,Ni(this,k),U=k.R),U.L&&U.L.C||U.R&&U.R.C){(!U.R||!U.R.C)&&(U.L.C=!1,U.C=!0,rr(this,U),U=k.R),U.C=k.C,k.C=U.R.C=!1,Ni(this,k),u=this._;break}}else if((U=k.L).C&&(U.C=!1,k.C=!0,rr(this,k),U=k.L),U.L&&U.L.C||U.R&&U.R.C){(!U.L||!U.L.C)&&(U.R.C=!1,U.C=!0,Ni(this,U),U=k.L),U.C=k.C,k.C=U.L.C=!1,rr(this,k),u=this._;break}U.C=!0,u=k,k=k.U}while(!u.C);u&&(u.C=!1)}}},v.geom.voronoi=function(u){var k=Qr,U=hi,re=k,ce=U,he=Da;if(u)return Ie(u);function Ie(Fe){var et=new Array(Fe.length),nt=he[0][0],Mt=he[0][1],xt=he[1][0],Gt=he[1][1];return ma(Ae(Fe),he).cells.forEach(function(It,vt){var Vt=It.edges,Ft=It.site;(et[vt]=Vt.length?Vt.map(function(qt){var Wt=qt.start();return[Wt.x,Wt.y]}):Ft.x>=nt&&Ft.x<=xt&&Ft.y>=Mt&&Ft.y<=Gt?[[nt,Gt],[xt,Gt],[xt,Mt],[nt,Mt]]:[]).point=Fe[vt]}),et}function Ae(Fe){return Fe.map(function(et,nt){return{x:Math.round(re(et,nt)/Re)*Re,y:Math.round(ce(et,nt)/Re)*Re,i:nt}})}return Ie.links=function(Fe){return ma(Ae(Fe)).edges.filter(function(et){return et.l&&et.r}).map(function(et){return{source:Fe[et.l.i],target:Fe[et.r.i]}})},Ie.triangles=function(Fe){var et=[];return ma(Ae(Fe)).cells.forEach(function(nt,Mt){for(var Ft,xt=nt.site,Gt=nt.edges.sort(Yr),It=-1,vt=Gt.length,Pt=Gt[vt-1].edge,qt=Pt.l===xt?Pt.r:Pt.l;++It<vt;)Ft=qt,qt=(Pt=Gt[It].edge).l===xt?Pt.r:Pt.l,Mt<Ft.i&&Mt<qt.i&&Ts(xt,Ft,qt)<0&&et.push([Fe[Mt],Fe[Ft.i],Fe[qt.i]])}),et},Ie.x=function(Fe){return arguments.length?(re=Pn(k=Fe),Ie):k},Ie.y=function(Fe){return arguments.length?(ce=Pn(U=Fe),Ie):U},Ie.clipExtent=function(Fe){return arguments.length?(he=Fe??Da,Ie):he===Da?null:he},Ie.size=function(Fe){return arguments.length?Ie.clipExtent(Fe&&[[0,0],Fe]):he===Da?null:he&&he[1]},Ie};var Da=[[-1e6,-1e6],[1e6,1e6]];function Ts(u,k,U){return(u.x-U.x)*(k.y-u.y)-(u.x-k.x)*(U.y-u.y)}function Mc(u){return u.x}function ji(u){return u.y}function Rs(u,k,U,re,ce,he){if(!u(k,U,re,ce,he)){var Ie=.5*(U+ce),Ae=.5*(re+he),Fe=k.nodes;Fe[0]&&Rs(u,Fe[0],U,re,Ie,Ae),Fe[1]&&Rs(u,Fe[1],Ie,re,ce,Ae),Fe[2]&&Rs(u,Fe[2],U,Ae,Ie,he),Fe[3]&&Rs(u,Fe[3],Ie,Ae,ce,he)}}function co(u,k){u=v.rgb(u),k=v.rgb(k);var U=u.r,re=u.g,ce=u.b,he=k.r-U,Ie=k.g-re,Ae=k.b-ce;return function(Fe){return"#"+vn(Math.round(U+he*Fe))+vn(Math.round(re+Ie*Fe))+vn(Math.round(ce+Ae*Fe))}}function X3(u,k){var ce,U={},re={};for(ce in u)ce in k?U[ce]=Yi(u[ce],k[ce]):re[ce]=u[ce];for(ce in k)ce in u||(re[ce]=k[ce]);return function(he){for(ce in U)re[ce]=U[ce](he);return re}}function Ds(u,k){return u=+u,k=+k,function(U){return u*(1-U)+k*U}}function na(u,k){var re,ce,he,U=Bo.lastIndex=V2.lastIndex=0,Ie=-1,Ae=[],Fe=[];for(u+="",k+="";(re=Bo.exec(u))&&(ce=V2.exec(k));)(he=ce.index)>U&&(he=k.slice(U,he),Ae[Ie]?Ae[Ie]+=he:Ae[++Ie]=he),(re=re[0])===(ce=ce[0])?Ae[Ie]?Ae[Ie]+=ce:Ae[++Ie]=ce:(Ae[++Ie]=null,Fe.push({i:Ie,x:Ds(re,ce)})),U=V2.lastIndex;return U<k.length&&(he=k.slice(U),Ae[Ie]?Ae[Ie]+=he:Ae[++Ie]=he),Ae.length<2?Fe[0]?(k=Fe[0].x,function(et){return k(et)+""}):function(){return k}:(k=Fe.length,function(et){for(var Mt,nt=0;nt<k;++nt)Ae[(Mt=Fe[nt]).i]=Mt.x(et);return Ae.join("")})}v.geom.delaunay=function(u){return v.geom.voronoi().triangles(u)},v.geom.quadtree=function(u,k,U,re,ce){var Ae,he=Qr,Ie=hi;if(Ae=arguments.length)return he=Mc,Ie=ji,3===Ae&&(ce=U,re=k,U=k=0),Fe(u);function Fe(et){var nt,Gt,It,vt,Vt,Ft,Pt,qt,Wt,Mt=Pn(he),xt=Pn(Ie);if(null!=k)Ft=k,Pt=U,qt=re,Wt=ce;else if(qt=Wt=-(Ft=Pt=1/0),Gt=[],It=[],Vt=et.length,Ae)for(vt=0;vt<Vt;++vt)(nt=et[vt]).x<Ft&&(Ft=nt.x),nt.y<Pt&&(Pt=nt.y),nt.x>qt&&(qt=nt.x),nt.y>Wt&&(Wt=nt.y),Gt.push(nt.x),It.push(nt.y);else for(vt=0;vt<Vt;++vt){var Hn=+Mt(nt=et[vt],vt),Qn=+xt(nt,vt);Hn<Ft&&(Ft=Hn),Qn<Pt&&(Pt=Qn),Hn>qt&&(qt=Hn),Qn>Wt&&(Wt=Qn),Gt.push(Hn),It.push(Qn)}var ir=qt-Ft,jn=Wt-Pt;function ar(cr,wr,li,_i,ui,Kn,zr,Tr){if(!isNaN(li)&&!isNaN(_i))if(cr.leaf){var mi=cr.x,Ti=cr.y;if(null!=mi)if(b(mi-li)+b(Ti-_i)<.01)lr(cr,wr,li,_i,ui,Kn,zr,Tr);else{var Aa=cr.point;cr.x=cr.y=cr.point=null,lr(cr,Aa,mi,Ti,ui,Kn,zr,Tr),lr(cr,wr,li,_i,ui,Kn,zr,Tr)}else cr.x=li,cr.y=_i,cr.point=wr}else lr(cr,wr,li,_i,ui,Kn,zr,Tr)}function lr(cr,wr,li,_i,ui,Kn,zr,Tr){var mi=.5*(ui+zr),Ti=.5*(Kn+Tr),Aa=li>=mi,pn=_i>=Ti,Qa=pn<<1|Aa;cr.leaf=!1,Aa?ui=mi:zr=mi,pn?Kn=Ti:Tr=Ti,ar(cr=cr.nodes[Qa]||(cr.nodes[Qa]={leaf:!0,nodes:[],point:null,x:null,y:null}),wr,li,_i,ui,Kn,zr,Tr)}ir>jn?Wt=Pt+ir:qt=Ft+jn;var Lr={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(cr){ar(Lr,cr,+Mt(cr,++vt),+xt(cr,vt),Ft,Pt,qt,Wt)}};if(Lr.visit=function(cr){Rs(cr,Lr,Ft,Pt,qt,Wt)},Lr.find=function(cr){return function Br(u,k,U,re,ce,he,Ie){var Fe,Ae=1/0;return function et(nt,Mt,xt,Gt,It){if(!(Mt>he||xt>Ie||Gt<re||It<ce)){if(vt=nt.point){var vt,Vt=k-nt.x,Ft=U-nt.y,Pt=Vt*Vt+Ft*Ft;if(Pt<Ae){var qt=Math.sqrt(Ae=Pt);re=k-qt,ce=U-qt,he=k+qt,Ie=U+qt,Fe=vt}}for(var Wt=nt.nodes,Hn=.5*(Mt+Gt),Qn=.5*(xt+It),ar=(U>=Qn)<<1|k>=Hn,lr=ar+4;ar<lr;++ar)if(nt=Wt[3&ar])switch(3&ar){case 0:et(nt,Mt,xt,Hn,Qn);break;case 1:et(nt,Hn,xt,Gt,Qn);break;case 2:et(nt,Mt,Qn,Hn,It);break;case 3:et(nt,Hn,Qn,Gt,It)}}}(u,re,ce,he,Ie),Fe}(Lr,cr[0],cr[1],Ft,Pt,qt,Wt)},vt=-1,null==k){for(;++vt<Vt;)ar(Lr,et[vt],Gt[vt],It[vt],Ft,Pt,qt,Wt);--vt}else et.forEach(Lr.add);return Gt=It=et=nt=null,Lr}return Fe.x=function(et){return arguments.length?(he=et,Fe):he},Fe.y=function(et){return arguments.length?(Ie=et,Fe):Ie},Fe.extent=function(et){return arguments.length?(null==et?k=U=re=ce=null:(k=+et[0][0],U=+et[0][1],re=+et[1][0],ce=+et[1][1]),Fe):null==k?null:[[k,U],[re,ce]]},Fe.size=function(et){return arguments.length?(null==et?k=U=re=ce=null:(k=U=0,re=+et[0],ce=+et[1]),Fe):null==k?null:[re-k,ce-U]},Fe},v.interpolateRgb=co,v.interpolateObject=X3,v.interpolateNumber=Ds,v.interpolateString=na;var Bo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,V2=new RegExp(Bo.source,"g");function Yi(u,k){for(var re,U=v.interpolators.length;--U>=0&&!(re=v.interpolators[U](u,k)););return re}function f2(u,k){var Ae,U=[],re=[],ce=u.length,he=k.length,Ie=Math.min(u.length,k.length);for(Ae=0;Ae<Ie;++Ae)U.push(Yi(u[Ae],k[Ae]));for(;Ae<ce;++Ae)re[Ae]=u[Ae];for(;Ae<he;++Ae)re[Ae]=k[Ae];return function(Fe){for(Ae=0;Ae<Ie;++Ae)re[Ae]=U[Ae](Fe);return re}}v.interpolate=Yi,v.interpolators=[function(u,k){var U=typeof k;return("string"===U?zn.has(k.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(k)?co:na:k instanceof Zn?co:Array.isArray(k)?f2:"object"===U&&isNaN(k)?X3:Ds)(u,k)}],v.interpolateArray=f2;var Uo=function(){return G},E2=v.map({linear:Uo,poly:function xc(u){return function(k){return Math.pow(k,u)}},quad:function(){return ll},cubic:function(){return d2},sin:function(){return Ea},exp:function(){return ul},circle:function(){return vs},elastic:function ga(u,k){var U;return arguments.length<2&&(k=.45),arguments.length?U=k/De*Math.asin(1/u):(u=1,U=k/4),function(re){return 1+u*Math.pow(2,-10*re)*Math.sin((re-U)*De/k)}},back:function wc(u){return u||(u=1.70158),function(k){return k*k*((u+1)*k-u)}},bounce:function(){return $o}}),cl=v.map({in:G,out:$r,"in-out":Ql,"out-in":function(u){return Ql($r(u))}});function $r(u){return function(k){return 1-u(1-k)}}function Ql(u){return function(k){return.5*(k<.5?u(2*k):2-u(2-2*k))}}function ll(u){return u*u}function d2(u){return u*u*u}function N2(u){if(u<=0)return 0;if(u>=1)return 1;var k=u*u,U=k*u;return 4*(u<.5?U:3*(u-k)+U-.75)}function Ea(u){return 1-Math.cos(u*je)}function ul(u){return Math.pow(2,10*(u-1))}function vs(u){return 1-Math.sqrt(1-u*u)}function $o(u){return u<.36363636363636365?7.5625*u*u:u<.7272727272727273?7.5625*(u-=.5454545454545454)*u+.75:u<.9090909090909091?7.5625*(u-=.8181818181818182)*u+.9375:7.5625*(u-=.9545454545454546)*u+.984375}function E1(u,k){return k-=u,function(U){return Math.round(u+k*U)}}function K3(u){var k=[u.a,u.b],U=[u.c,u.d],re=Q3(k),ce=ql(k,U),he=Q3(function ju(u,k,U){return u[0]+=U*k[0],u[1]+=U*k[1],u}(U,k,-ce))||0;k[0]*U[1]<U[0]*k[1]&&(k[0]*=-1,k[1]*=-1,re*=-1,ce*=-1),this.rotate=(re?Math.atan2(k[1],k[0]):Math.atan2(-U[0],U[1]))*at,this.translate=[u.e,u.f],this.scale=[re,he],this.skew=he?Math.atan2(ce,he)*at:0}function ql(u,k){return u[0]*k[0]+u[1]*k[1]}function Q3(u){var k=Math.sqrt(ql(u,u));return k&&(u[0]/=k,u[1]/=k),k}v.ease=function(u){var k=u.indexOf("-"),U=k>=0?u.slice(0,k):u,re=k>=0?u.slice(k+1):"in";return U=E2.get(U)||Uo,function Go(u){return function(k){return k<=0?0:k>=1?1:u(k)}}((re=cl.get(re)||G)(U.apply(null,g.call(arguments,1))))},v.interpolateHcl=function Jl(u,k){u=v.hcl(u),k=v.hcl(k);var U=u.h,re=u.c,ce=u.l,he=k.h-U,Ie=k.c-re,Ae=k.l-ce;return isNaN(Ie)&&(Ie=0,re=isNaN(re)?k.c:re),isNaN(he)?(he=0,U=isNaN(U)?k.h:U):he>180?he-=360:he<-180&&(he+=360),function(Fe){return dr(U+he*Fe,re+Ie*Fe,ce+Ae*Fe)+""}},v.interpolateHsl=function $1(u,k){u=v.hsl(u),k=v.hsl(k);var U=u.h,re=u.s,ce=u.l,he=k.h-U,Ie=k.s-re,Ae=k.l-ce;return isNaN(Ie)&&(Ie=0,re=isNaN(re)?k.s:re),isNaN(he)?(he=0,U=isNaN(U)?k.h:U):he>180?he-=360:he<-180&&(he+=360),function(Fe){return Nn(U+he*Fe,re+Ie*Fe,ce+Ae*Fe)+""}},v.interpolateLab=function lo(u,k){u=v.lab(u),k=v.lab(k);var U=u.l,re=u.a,ce=u.b,he=k.l-U,Ie=k.a-re,Ae=k.b-ce;return function(Fe){return pt(U+he*Fe,re+Ie*Fe,ce+Ae*Fe)+""}},v.interpolateRound=E1,v.transform=function(u){var k=y.createElementNS(v.ns.prefix.svg,"g");return(v.transform=function(U){if(null!=U){k.setAttribute("transform",U);var re=k.transform.baseVal.consolidate()}return new K3(re?re.matrix:J3)})(u)},K3.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var J3={a:1,b:0,c:0,d:1,e:0,f:0};function fl(u){return u.length?u.pop()+",":""}function yr(u,k){var U=[],re=[];return u=v.transform(u),k=v.transform(k),function q3(u,k,U,re){if(u[0]!==k[0]||u[1]!==k[1]){var ce=U.push("translate(",null,",",null,")");re.push({i:ce-4,x:Ds(u[0],k[0])},{i:ce-2,x:Ds(u[1],k[1])})}else(k[0]||k[1])&&U.push("translate("+k+")")}(u.translate,k.translate,U,re),function on(u,k,U,re){u!==k?(u-k>180?k+=360:k-u>180&&(u+=360),re.push({i:U.push(fl(U)+"rotate(",null,")")-2,x:Ds(u,k)})):k&&U.push(fl(U)+"rotate("+k+")")}(u.rotate,k.rotate,U,re),function En(u,k,U,re){u!==k?re.push({i:U.push(fl(U)+"skewX(",null,")")-2,x:Ds(u,k)}):k&&U.push(fl(U)+"skewX("+k+")")}(u.skew,k.skew,U,re),function Dn(u,k,U,re){if(u[0]!==k[0]||u[1]!==k[1]){var ce=U.push(fl(U)+"scale(",null,",",null,")");re.push({i:ce-4,x:Ds(u[0],k[0])},{i:ce-2,x:Ds(u[1],k[1])})}else(1!==k[0]||1!==k[1])&&U.push(fl(U)+"scale("+k+")")}(u.scale,k.scale,U,re),u=k=null,function(ce){for(var Ae,he=-1,Ie=re.length;++he<Ie;)U[(Ae=re[he]).i]=Ae.x(ce);return U.join("")}}function qr(u,k){return k=(k-=u=+u)||1/k,function(U){return(U-u)/k}}function Ii(u,k){return k=(k-=u=+u)||1/k,function(U){return Math.max(0,Math.min(1,(U-u)/k))}}function ss(u){for(var k=u.source,U=u.target,re=function H0(u,k){if(u===k)return u;for(var U=Zi(u),re=Zi(k),ce=U.pop(),he=re.pop(),Ie=null;ce===he;)Ie=ce,ce=U.pop(),he=re.pop();return Ie}(k,U),ce=[k];k!==re;)ce.push(k=k.parent);for(var he=ce.length;U!==re;)ce.splice(he,0,U),U=U.parent;return ce}function Zi(u){for(var k=[],U=u.parent;null!=U;)k.push(u),u=U,U=U.parent;return k.push(u),k}function sh(u){u.fixed|=2}function m1(u){u.fixed&=-7}function dl(u){u.fixed|=4,u.px=u.x,u.py=u.y}function oh(u){u.fixed&=-5}function _c(u,k,U){var re=0,ce=0;if(u.charge=0,!u.leaf)for(var Fe,he=u.nodes,Ie=he.length,Ae=-1;++Ae<Ie;)null!=(Fe=he[Ae])&&(_c(Fe,k,U),u.charge+=Fe.charge,re+=Fe.charge*Fe.cx,ce+=Fe.charge*Fe.cy);if(u.point){u.leaf||(u.point.x+=Math.random()-.5,u.point.y+=Math.random()-.5);var et=k*U[u.point.index];u.charge+=u.pointCharge=et,re+=et*u.point.x,ce+=et*u.point.y}u.cx=re/u.charge,u.cy=ce/u.charge}v.interpolateTransform=yr,v.layout={},v.layout.bundle=function(){return function(u){for(var k=[],U=-1,re=u.length;++U<re;)k.push(ss(u[U]));return k}},v.layout.chord=function(){var k,U,re,ce,Ie,Ae,Fe,u={},he=0;function et(){var vt,Vt,Ft,Pt,qt,Mt={},xt=[],Gt=v.range(ce),It=[];for(k=[],U=[],vt=0,Pt=-1;++Pt<ce;){for(Vt=0,qt=-1;++qt<ce;)Vt+=re[Pt][qt];xt.push(Vt),It.push(v.range(ce)),vt+=Vt}for(Ie&&Gt.sort(function(Lr,cr){return Ie(xt[Lr],xt[cr])}),Ae&&It.forEach(function(Lr,cr){Lr.sort(function(wr,li){return Ae(re[cr][wr],re[cr][li])})}),vt=(De-he*ce)/vt,Vt=0,Pt=-1;++Pt<ce;){for(Ft=Vt,qt=-1;++qt<ce;){var Wt=Gt[Pt],Hn=It[Wt][qt],Qn=re[Wt][Hn],ir=Vt,jn=Vt+=Qn*vt;Mt[Wt+"-"+Hn]={index:Wt,subindex:Hn,startAngle:ir,endAngle:jn,value:Qn}}U[Wt]={index:Wt,startAngle:Ft,endAngle:Vt,value:xt[Wt]},Vt+=he}for(Pt=-1;++Pt<ce;)for(qt=Pt-1;++qt<ce;){var ar=Mt[Pt+"-"+qt],lr=Mt[qt+"-"+Pt];(ar.value||lr.value)&&k.push(ar.value<lr.value?{source:lr,target:ar}:{source:ar,target:lr})}Fe&&nt()}function nt(){k.sort(function(Mt,xt){return Fe((Mt.source.value+Mt.target.value)/2,(xt.source.value+xt.target.value)/2)})}return u.matrix=function(Mt){return arguments.length?(ce=(re=Mt)&&re.length,k=U=null,u):re},u.padding=function(Mt){return arguments.length?(he=Mt,k=U=null,u):he},u.sortGroups=function(Mt){return arguments.length?(Ie=Mt,k=U=null,u):Ie},u.sortSubgroups=function(Mt){return arguments.length?(Ae=Mt,k=null,u):Ae},u.sortChords=function(Mt){return arguments.length?(Fe=Mt,k&&nt(),u):Fe},u.chords=function(){return k||et(),k},u.groups=function(){return U||et(),U},u},v.layout.force=function(){var U,ce,he,vt,Vt,Ft,u={},k=v.dispatch("start","tick","end"),re=[1,1],Ie=.9,Ae=e4,Fe=t4,et=-30,nt=Pi,Mt=.1,xt=.64,Gt=[],It=[];function Pt(Wt){return function(Hn,Qn,ir,jn){if(Hn.point!==Wt){var wr,ar=Hn.cx-Wt.x,lr=Hn.cy-Wt.y,Lr=jn-Qn,cr=ar*ar+lr*lr;if(Lr*Lr/xt<cr)return cr<nt&&(Wt.px-=ar*(wr=Hn.charge/cr),Wt.py-=lr*wr),!0;Hn.point&&cr&&cr<nt&&(Wt.px-=ar*(wr=Hn.pointCharge/cr),Wt.py-=lr*wr)}return!Hn.charge}}function qt(Wt){Wt.px=v.event.x,Wt.py=v.event.y,u.resume()}return u.tick=function(){if((he*=.99)<.005)return U=null,k.end({type:"end",alpha:he=0}),!0;var Qn,ir,jn,ar,lr,Lr,cr,wr,li,Wt=Gt.length,Hn=It.length;for(ir=0;ir<Hn;++ir)(Lr=(wr=(lr=(jn=It[ir]).target).x-(ar=jn.source).x)*wr+(li=lr.y-ar.y)*li)&&(li*=Lr=he*Vt[ir]*((Lr=Math.sqrt(Lr))-vt[ir])/Lr,lr.x-=(wr*=Lr)*(cr=ar.weight+lr.weight?ar.weight/(ar.weight+lr.weight):.5),lr.y-=li*cr,ar.x+=wr*(cr=1-cr),ar.y+=li*cr);if((cr=he*Mt)&&(wr=re[0]/2,li=re[1]/2,ir=-1,cr))for(;++ir<Wt;)(jn=Gt[ir]).x+=(wr-jn.x)*cr,jn.y+=(li-jn.y)*cr;if(et)for(_c(Qn=v.geom.quadtree(Gt),he,Ft),ir=-1;++ir<Wt;)(jn=Gt[ir]).fixed||Qn.visit(Pt(jn));for(ir=-1;++ir<Wt;)(jn=Gt[ir]).fixed?(jn.x=jn.px,jn.y=jn.py):(jn.x-=(jn.px-(jn.px=jn.x))*Ie,jn.y-=(jn.py-(jn.py=jn.y))*Ie);k.tick({type:"tick",alpha:he})},u.nodes=function(Wt){return arguments.length?(Gt=Wt,u):Gt},u.links=function(Wt){return arguments.length?(It=Wt,u):It},u.size=function(Wt){return arguments.length?(re=Wt,u):re},u.linkDistance=function(Wt){return arguments.length?(Ae="function"==typeof Wt?Wt:+Wt,u):Ae},u.distance=u.linkDistance,u.linkStrength=function(Wt){return arguments.length?(Fe="function"==typeof Wt?Wt:+Wt,u):Fe},u.friction=function(Wt){return arguments.length?(Ie=+Wt,u):Ie},u.charge=function(Wt){return arguments.length?(et="function"==typeof Wt?Wt:+Wt,u):et},u.chargeDistance=function(Wt){return arguments.length?(nt=Wt*Wt,u):Math.sqrt(nt)},u.gravity=function(Wt){return arguments.length?(Mt=+Wt,u):Mt},u.theta=function(Wt){return arguments.length?(xt=Wt*Wt,u):Math.sqrt(xt)},u.alpha=function(Wt){return arguments.length?(Wt=+Wt,he?Wt>0?he=Wt:(U.c=null,U.t=NaN,U=null,k.end({type:"end",alpha:he=0})):Wt>0&&(k.start({type:"start",alpha:he=Wt}),U=Di(u.tick)),u):he},u.start=function(){var Wt,ar,lr,Hn=Gt.length,Qn=It.length,ir=re[0],jn=re[1];for(Wt=0;Wt<Hn;++Wt)(lr=Gt[Wt]).index=Wt,lr.weight=0;for(Wt=0;Wt<Qn;++Wt)"number"==typeof(lr=It[Wt]).source&&(lr.source=Gt[lr.source]),"number"==typeof lr.target&&(lr.target=Gt[lr.target]),++lr.source.weight,++lr.target.weight;for(Wt=0;Wt<Hn;++Wt)lr=Gt[Wt],isNaN(lr.x)&&(lr.x=Lr("x",ir)),isNaN(lr.y)&&(lr.y=Lr("y",jn)),isNaN(lr.px)&&(lr.px=lr.x),isNaN(lr.py)&&(lr.py=lr.y);if(vt=[],"function"==typeof Ae)for(Wt=0;Wt<Qn;++Wt)vt[Wt]=+Ae.call(this,It[Wt],Wt);else for(Wt=0;Wt<Qn;++Wt)vt[Wt]=Ae;if(Vt=[],"function"==typeof Fe)for(Wt=0;Wt<Qn;++Wt)Vt[Wt]=+Fe.call(this,It[Wt],Wt);else for(Wt=0;Wt<Qn;++Wt)Vt[Wt]=Fe;if(Ft=[],"function"==typeof et)for(Wt=0;Wt<Hn;++Wt)Ft[Wt]=+et.call(this,Gt[Wt],Wt);else for(Wt=0;Wt<Hn;++Wt)Ft[Wt]=et;function Lr(cr,wr){if(!ar){for(ar=new Array(Hn),ui=0;ui<Hn;++ui)ar[ui]=[];for(ui=0;ui<Qn;++ui){var li=It[ui];ar[li.source.index].push(li.target),ar[li.target.index].push(li.source)}}for(var zr,_i=ar[Wt],ui=-1,Kn=_i.length;++ui<Kn;)if(!isNaN(zr=_i[ui][cr]))return zr;return Math.random()*wr}return u.resume()},u.resume=function(){return u.alpha(.1)},u.stop=function(){return u.alpha(0)},u.drag=function(){if(ce||(ce=v.behavior.drag().origin(G).on("dragstart.force",sh).on("drag.force",qt).on("dragend.force",m1)),!arguments.length)return ce;this.on("mouseover.force",dl).on("mouseout.force",oh).call(ce)},v.rebind(u,k,"on")};var e4=20,t4=1,Pi=1/0;function Sc(u,k){return v.rebind(u,k,"sort","children","value"),u.nodes=u,u.links=uo,u}function Wo(u,k){for(var U=[u];null!=(u=U.pop());)if(k(u),(ce=u.children)&&(re=ce.length))for(var re,ce;--re>=0;)U.push(ce[re])}function g1(u,k){for(var U=[u],re=[];null!=(u=U.pop());)if(re.push(u),(Ie=u.children)&&(he=Ie.length))for(var he,Ie,ce=-1;++ce<he;)U.push(Ie[ce]);for(;null!=(u=re.pop());)k(u)}function ch(u){return u.children}function Gi(u){return u.value}function n4(u,k){return k.value-u.value}function uo(u){return v.merge(u.map(function(k){return(k.children||[]).map(function(U){return{source:k,target:U}})}))}v.layout.hierarchy=function(){var u=n4,k=ch,U=Gi;function re(ce){var Ae,he=[ce],Ie=[];for(ce.depth=0;null!=(Ae=he.pop());)if(Ie.push(Ae),(et=k.call(re,Ae,Ae.depth))&&(Fe=et.length)){for(var Fe,et,nt;--Fe>=0;)he.push(nt=et[Fe]),nt.parent=Ae,nt.depth=Ae.depth+1;U&&(Ae.value=0),Ae.children=et}else U&&(Ae.value=+U.call(re,Ae,Ae.depth)||0),delete Ae.children;return g1(ce,function(Mt){var xt,Gt;u&&(xt=Mt.children)&&xt.sort(u),U&&(Gt=Mt.parent)&&(Gt.value+=Mt.value)}),Ie}return re.sort=function(ce){return arguments.length?(u=ce,re):u},re.children=function(ce){return arguments.length?(k=ce,re):k},re.value=function(ce){return arguments.length?(U=ce,re):U},re.revalue=function(ce){return U&&(Wo(ce,function(he){he.children&&(he.value=0)}),g1(ce,function(he){var Ie;he.children||(he.value=+U.call(re,he,he.depth)||0),(Ie=he.parent)&&(Ie.value+=he.value)})),ce},re},v.layout.partition=function(){var u=v.layout.hierarchy(),k=[1,1];function U(he,Ie,Ae,Fe){var et=he.children;if(he.x=Ie,he.y=he.depth*Fe,he.dx=Ae,he.dy=Fe,et&&(Mt=et.length)){var Mt,xt,Gt,nt=-1;for(Ae=he.value?Ae/he.value:0;++nt<Mt;)U(xt=et[nt],Ie,Gt=xt.value*Ae,Fe),Ie+=Gt}}function re(he){var Ie=he.children,Ae=0;if(Ie&&(et=Ie.length))for(var et,Fe=-1;++Fe<et;)Ae=Math.max(Ae,re(Ie[Fe]));return 1+Ae}function ce(he,Ie){var Ae=u.call(this,he,Ie);return U(Ae[0],0,k[0],k[1]/re(Ae[0])),Ae}return ce.size=function(he){return arguments.length?(k=he,ce):k},Sc(ce,u)},v.layout.pie=function(){var u=Number,k=ya,U=0,re=De,ce=0;function he(Ie){var Ft,Ae=Ie.length,Fe=Ie.map(function(Pt,qt){return+u.call(he,Pt,qt)}),et=+("function"==typeof U?U.apply(this,arguments):U),nt=("function"==typeof re?re.apply(this,arguments):re)-et,Mt=Math.min(Math.abs(nt)/Ae,+("function"==typeof ce?ce.apply(this,arguments):ce)),xt=Mt*(nt<0?-1:1),Gt=v.sum(Fe),It=Gt?(nt-Ae*xt)/Gt:0,vt=v.range(Ae),Vt=[];return null!=k&&vt.sort(k===ya?function(Pt,qt){return Fe[qt]-Fe[Pt]}:function(Pt,qt){return k(Ie[Pt],Ie[qt])}),vt.forEach(function(Pt){Vt[Pt]={data:Ie[Pt],value:Ft=Fe[Pt],startAngle:et,endAngle:et+=Ft*It+xt,padAngle:Mt}}),Vt}return he.value=function(Ie){return arguments.length?(u=Ie,he):u},he.sort=function(Ie){return arguments.length?(k=Ie,he):k},he.startAngle=function(Ie){return arguments.length?(U=Ie,he):U},he.endAngle=function(Ie){return arguments.length?(re=Ie,he):re},he.padAngle=function(Ie){return arguments.length?(ce=Ie,he):ce},he};var ya={};function e3(u){return u.x}function Tc(u){return u.y}function I2(u,k,U){u.y0=k,u.y=U}v.layout.stack=function(){var u=G,k=fo,U=t3,re=I2,ce=e3,he=Tc;function Ie(Ae,Fe){if(!(It=Ae.length))return Ae;var et=Ae.map(function(Pt,qt){return u.call(Ie,Pt,qt)}),nt=et.map(function(Pt){return Pt.map(function(qt,Wt){return[ce.call(Ie,qt,Wt),he.call(Ie,qt,Wt)]})}),Mt=k.call(Ie,nt,Fe);et=v.permute(et,Mt),nt=v.permute(nt,Mt);var It,vt,Vt,Ft,xt=U.call(Ie,nt,Fe),Gt=et[0].length;for(Vt=0;Vt<Gt;++Vt)for(re.call(Ie,et[0][Vt],Ft=xt[Vt],nt[0][Vt][1]),vt=1;vt<It;++vt)re.call(Ie,et[vt][Vt],Ft+=nt[vt-1][Vt][1],nt[vt][Vt][1]);return Ae}return Ie.values=function(Ae){return arguments.length?(u=Ae,Ie):u},Ie.order=function(Ae){return arguments.length?(k="function"==typeof Ae?Ae:e1.get(Ae)||fo,Ie):k},Ie.offset=function(Ae){return arguments.length?(U="function"==typeof Ae?Ae:L0.get(Ae)||t3,Ie):U},Ie.x=function(Ae){return arguments.length?(ce=Ae,Ie):ce},Ie.y=function(Ae){return arguments.length?(he=Ae,Ie):he},Ie.out=function(Ae){return arguments.length?(re=Ae,Ie):re},Ie};var e1=v.map({"inside-out":function(u){var U,re,k=u.length,ce=u.map(t1),he=u.map(ho),Ie=v.range(k).sort(function(Mt,xt){return ce[Mt]-ce[xt]}),Ae=0,Fe=0,et=[],nt=[];for(U=0;U<k;++U)re=Ie[U],Ae<Fe?(Ae+=he[re],et.push(re)):(Fe+=he[re],nt.push(re));return nt.reverse().concat(et)},reverse:function(u){return v.range(u.length).reverse()},default:fo}),L0=v.map({silhouette:function(u){var he,Ie,Ae,k=u.length,U=u[0].length,re=[],ce=0,Fe=[];for(Ie=0;Ie<U;++Ie){for(he=0,Ae=0;he<k;he++)Ae+=u[he][Ie][1];Ae>ce&&(ce=Ae),re.push(Ae)}for(Ie=0;Ie<U;++Ie)Fe[Ie]=(ce-re[Ie])/2;return Fe},wiggle:function(u){var ce,he,Ie,Ae,Fe,et,nt,Mt,xt,k=u.length,U=u[0],re=U.length,Gt=[];for(Gt[0]=Mt=xt=0,he=1;he<re;++he){for(ce=0,Ae=0;ce<k;++ce)Ae+=u[ce][he][1];for(ce=0,Fe=0,nt=U[he][0]-U[he-1][0];ce<k;++ce){for(Ie=0,et=(u[ce][he][1]-u[ce][he-1][1])/(2*nt);Ie<ce;++Ie)et+=(u[Ie][he][1]-u[Ie][he-1][1])/nt;Fe+=et*u[ce][he][1]}Gt[he]=Mt-=Ae?Fe/Ae*nt:0,Mt<xt&&(xt=Mt)}for(he=0;he<re;++he)Gt[he]-=xt;return Gt},expand:function(u){var ce,he,Ie,k=u.length,U=u[0].length,re=1/k,Ae=[];for(he=0;he<U;++he){for(ce=0,Ie=0;ce<k;ce++)Ie+=u[ce][he][1];if(Ie)for(ce=0;ce<k;ce++)u[ce][he][1]/=Ie;else for(ce=0;ce<k;ce++)u[ce][he][1]=re}for(he=0;he<U;++he)Ae[he]=0;return Ae},zero:t3});function fo(u){return v.range(u.length)}function t3(u){for(var k=-1,U=u[0].length,re=[];++k<U;)re[k]=0;return re}function t1(u){for(var ce,k=1,U=0,re=u[0][1],he=u.length;k<he;++k)(ce=u[k][1])>re&&(U=k,re=ce);return U}function ho(u){return u.reduce(n3,0)}function n3(u,k){return u+k[1]}function z0(u,k){return r3(u,Math.ceil(Math.log(k.length)/Math.LN2+1))}function r3(u,k){for(var U=-1,re=+u[0],ce=(u[1]-re)/k,he=[];++U<=k;)he[U]=ce*U+re;return he}function r4(u){return[v.min(u),v.max(u)]}function po(u,k){return u.value-k.value}function P2(u,k){var U=u._pack_next;u._pack_next=k,k._pack_prev=u,k._pack_next=U,U._pack_prev=k}function Dc(u,k){u._pack_next=k,k._pack_prev=u}function vo(u,k){var U=k.x-u.x,re=k.y-u.y,ce=u.r+k.r;return.999*ce*ce>U*U+re*re}function Pr(u){if((k=u.children)&&(xt=k.length)){var k,Ie,Ae,Fe,et,nt,Mt,xt,U=1/0,re=-1/0,ce=1/0,he=-1/0;if(k.forEach(k0),(Ie=k[0]).x=-Ie.r,Ie.y=0,Gt(Ie),xt>1&&((Ae=k[1]).x=Ae.r,Ae.y=0,Gt(Ae),xt>2))for(ms(Ie,Ae,Fe=k[2]),Gt(Fe),P2(Ie,Fe),Ie._pack_prev=Fe,P2(Fe,Ae),Ae=Ie._pack_next,et=3;et<xt;et++){ms(Ie,Ae,Fe=k[et]);var It=0,vt=1,Vt=1;for(nt=Ae._pack_next;nt!==Ae;nt=nt._pack_next,vt++)if(vo(nt,Fe)){It=1;break}if(1==It)for(Mt=Ie._pack_prev;Mt!==nt._pack_prev&&!vo(Mt,Fe);Mt=Mt._pack_prev,Vt++);It?(vt<Vt||vt==Vt&&Ae.r<Ie.r?Dc(Ie,Ae=nt):Dc(Ie=Mt,Ae),et--):(P2(Ie,Fe),Ae=Fe,Gt(Fe))}var Ft=(U+re)/2,Pt=(ce+he)/2,qt=0;for(et=0;et<xt;et++)(Fe=k[et]).x-=Ft,Fe.y-=Pt,qt=Math.max(qt,Fe.r+Math.sqrt(Fe.x*Fe.x+Fe.y*Fe.y));u.r=qt,k.forEach(lh)}function Gt(Wt){U=Math.min(Wt.x-Wt.r,U),re=Math.max(Wt.x+Wt.r,re),ce=Math.min(Wt.y-Wt.r,ce),he=Math.max(Wt.y+Wt.r,he)}}function k0(u){u._pack_next=u._pack_prev=u}function lh(u){delete u._pack_next,delete u._pack_prev}function Ga(u,k,U,re){var ce=u.children;if(u.x=k+=re*u.x,u.y=U+=re*u.y,u.r*=re,ce)for(var he=-1,Ie=ce.length;++he<Ie;)Ga(ce[he],k,U,re)}function ms(u,k,U){var re=u.r+U.r,ce=k.x-u.x,he=k.y-u.y;if(re&&(ce||he)){var Ie=k.r+U.r,Ae=ce*ce+he*he,Fe=.5+((re*=re)-(Ie*=Ie))/(2*Ae),et=Math.sqrt(Math.max(0,2*Ie*(re+Ae)-(re-=Ae)*re-Ie*Ie))/(2*Ae);U.x=u.x+Fe*ce+et*he,U.y=u.y+Fe*he-et*ce}else U.x=u.x+re,U.y=u.y}function V0(u,k){return u.parent==k.parent?1:2}function i3(u){var k=u.children;return k.length?k[0]:u.t}function R2(u){var U,k=u.children;return(U=k.length)?k[U-1]:u.t}function Yu(u,k,U){var re=U/(k.i-u.i);k.c-=re,k.s+=U,u.c+=re,k.z+=U,k.m+=U}function hl(u,k,U){return u.a.parent===k.parent?u.a:U}function Ln(u){var k=u.children;return k&&k.length?Ln(k[0]):u}function ri(u){var U,k=u.children;return k&&(U=k.length)?ri(k[U-1]):u}function or(u){return{x:u.x,y:u.y,dx:u.dx,dy:u.dy}}function sr(u,k){var U=u.x+k[3],re=u.y+k[0],ce=u.dx-k[1]-k[3],he=u.dy-k[0]-k[2];return ce<0&&(U+=ce/2,ce=0),he<0&&(re+=he/2,he=0),{x:U,y:re,dx:ce,dy:he}}function Li(u){var k=u[0],U=u[u.length-1];return k<U?[k,U]:[U,k]}function pl(u){return u.rangeExtent?u.rangeExtent():Li(u.range())}function vl(u,k,U,re){var ce=U(u[0],u[1]),he=re(k[0],k[1]);return function(Ie){return he(ce(Ie))}}function N1(u,k){var Ie,U=0,re=u.length-1,ce=u[U],he=u[re];return he<ce&&(Ie=U,U=re,re=Ie,Ie=ce,ce=he,he=Ie),u[U]=k.floor(ce),u[re]=k.ceil(he),u}function a3(u){return u?{floor:function(k){return Math.floor(k/u)*u},ceil:function(k){return Math.ceil(k/u)*u}}:Hc}v.layout.histogram=function(){var u=!0,k=Number,U=r4,re=z0;function ce(he,xt){for(var Mt,Vt,Ae=[],Fe=he.map(k,this),et=U.call(this,Fe,xt),nt=re.call(this,et,Fe,xt),Gt=(xt=-1,Fe.length),It=nt.length-1,vt=u?1:1/Gt;++xt<It;)(Mt=Ae[xt]=[]).dx=nt[xt+1]-(Mt.x=nt[xt]),Mt.y=0;if(It>0)for(xt=-1;++xt<Gt;)(Vt=Fe[xt])>=et[0]&&Vt<=et[1]&&((Mt=Ae[v.bisect(nt,Vt,1,It)-1]).y+=vt,Mt.push(he[xt]));return Ae}return ce.value=function(he){return arguments.length?(k=he,ce):k},ce.range=function(he){return arguments.length?(U=Pn(he),ce):U},ce.bins=function(he){return arguments.length?(re="number"==typeof he?function(Ie){return r3(Ie,he)}:Pn(he),ce):re},ce.frequency=function(he){return arguments.length?(u=!!he,ce):u},ce},v.layout.pack=function(){var re,u=v.layout.hierarchy().sort(po),k=0,U=[1,1];function ce(he,Ie){var Ae=u.call(this,he,Ie),Fe=Ae[0],et=U[0],nt=U[1],Mt=null==re?Math.sqrt:"function"==typeof re?re:function(){return re};if(Fe.x=Fe.y=0,g1(Fe,function(Gt){Gt.r=+Mt(Gt.value)}),g1(Fe,Pr),k){var xt=k*(re?1:Math.max(2*Fe.r/et,2*Fe.r/nt))/2;g1(Fe,function(Gt){Gt.r+=xt}),g1(Fe,Pr),g1(Fe,function(Gt){Gt.r-=xt})}return Ga(Fe,et/2,nt/2,re?1:1/Math.max(2*Fe.r/et,2*Fe.r/nt)),Ae}return ce.size=function(he){return arguments.length?(U=he,ce):U},ce.radius=function(he){return arguments.length?(re=null==he||"function"==typeof he?he:+he,ce):re},ce.padding=function(he){return arguments.length?(k=+he,ce):k},Sc(ce,u)},v.layout.tree=function(){var u=v.layout.hierarchy().sort(null).value(null),k=V0,U=[1,1],re=null;function ce(nt,Mt){var xt=u.call(this,nt,Mt),Gt=xt[0],It=function he(nt){for(var Gt,Mt={A:null,children:[nt]},xt=[Mt];null!=(Gt=xt.pop());)for(var vt,It=Gt.children,Vt=0,Ft=It.length;Vt<Ft;++Vt)xt.push((It[Vt]=vt={_:It[Vt],parent:Gt,children:(vt=It[Vt].children)&&vt.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Vt}).a=vt);return Mt.children[0]}(Gt);if(g1(It,Ie),It.parent.m=-It.z,Wo(It,Ae),re)Wo(Gt,et);else{var vt=Gt,Vt=Gt,Ft=Gt;Wo(Gt,function(Hn){Hn.x<vt.x&&(vt=Hn),Hn.x>Vt.x&&(Vt=Hn),Hn.depth>Ft.depth&&(Ft=Hn)});var Pt=k(vt,Vt)/2-vt.x,qt=U[0]/(Vt.x+k(Vt,vt)/2+Pt),Wt=U[1]/(Ft.depth||1);Wo(Gt,function(Hn){Hn.x=(Hn.x+Pt)*qt,Hn.y=Hn.depth*Wt})}return xt}function Ie(nt){var Mt=nt.children,xt=nt.parent.children,Gt=nt.i?xt[nt.i-1]:null;if(Mt.length){!function i4(u){for(var he,k=0,U=0,re=u.children,ce=re.length;--ce>=0;)(he=re[ce]).z+=k,he.m+=k,k+=he.s+(U+=he.c)}(nt);var It=(Mt[0].z+Mt[Mt.length-1].z)/2;Gt?(nt.z=Gt.z+k(nt._,Gt._),nt.m=nt.z-It):nt.z=It}else Gt&&(nt.z=Gt.z+k(nt._,Gt._));nt.parent.A=function Fe(nt,Mt,xt){if(Mt){for(var Hn,Gt=nt,It=nt,vt=Mt,Vt=Gt.parent.children[0],Ft=Gt.m,Pt=It.m,qt=vt.m,Wt=Vt.m;vt=R2(vt),Gt=i3(Gt),vt&&Gt;)Vt=i3(Vt),(It=R2(It)).a=nt,(Hn=vt.z+qt-Gt.z-Ft+k(vt._,Gt._))>0&&(Yu(hl(vt,nt,xt),nt,Hn),Ft+=Hn,Pt+=Hn),qt+=vt.m,Ft+=Gt.m,Wt+=Vt.m,Pt+=It.m;vt&&!R2(It)&&(It.t=vt,It.m+=qt-Pt),Gt&&!i3(Vt)&&(Vt.t=Gt,Vt.m+=Ft-Wt,xt=nt)}return xt}(nt,Gt,nt.parent.A||xt[0])}function Ae(nt){nt._.x=nt.z+nt.parent.m,nt.m+=nt.parent.m}function et(nt){nt.x*=U[0],nt.y=nt.depth*U[1]}return ce.separation=function(nt){return arguments.length?(k=nt,ce):k},ce.size=function(nt){return arguments.length?(re=null==(U=nt)?et:null,ce):re?null:U},ce.nodeSize=function(nt){return arguments.length?(re=null==(U=nt)?null:et,ce):re?U:null},Sc(ce,u)},v.layout.cluster=function(){var u=v.layout.hierarchy().sort(null).value(null),k=V0,U=[1,1],re=!1;function ce(he,Ie){var et,Ae=u.call(this,he,Ie),Fe=Ae[0],nt=0;g1(Fe,function(vt){var Vt=vt.children;Vt&&Vt.length?(vt.x=function Ac(u){return u.reduce(function(k,U){return k+U.x},0)/u.length}(Vt),vt.y=function a4(u){return 1+v.max(u,function(k){return k.y})}(Vt)):(vt.x=et?nt+=k(vt,et):0,vt.y=0,et=vt)});var Mt=Ln(Fe),xt=ri(Fe),Gt=Mt.x-k(Mt,xt)/2,It=xt.x+k(xt,Mt)/2;return g1(Fe,re?function(vt){vt.x=(vt.x-Fe.x)*U[0],vt.y=(Fe.y-vt.y)*U[1]}:function(vt){vt.x=(vt.x-Gt)/(It-Gt)*U[0],vt.y=(1-(Fe.y?vt.y/Fe.y:1))*U[1]}),Ae}return ce.separation=function(he){return arguments.length?(k=he,ce):k},ce.size=function(he){return arguments.length?(re=null==(U=he),ce):re?null:U},ce.nodeSize=function(he){return arguments.length?(re=null!=(U=he),ce):re?U:null},Sc(ce,u)},v.layout.treemap=function(){var Ie,u=v.layout.hierarchy(),k=Math.round,U=[1,1],re=null,ce=or,he=!1,Ae="squarify",Fe=.5*(1+Math.sqrt(5));function et(vt,Vt){for(var qt,Wt,Ft=-1,Pt=vt.length;++Ft<Pt;)Wt=(qt=vt[Ft]).value*(Vt<0?0:Vt),qt.area=isNaN(Wt)||Wt<=0?0:Wt}function nt(vt){var Vt=vt.children;if(Vt&&Vt.length){var Wt,Qn,jn,Ft=ce(vt),Pt=[],qt=Vt.slice(),Hn=1/0,ir="slice"===Ae?Ft.dx:"dice"===Ae?Ft.dy:"slice-dice"===Ae?1&vt.depth?Ft.dy:Ft.dx:Math.min(Ft.dx,Ft.dy);for(et(qt,Ft.dx*Ft.dy/vt.value),Pt.area=0;(jn=qt.length)>0;)Pt.push(Wt=qt[jn-1]),Pt.area+=Wt.area,"squarify"!==Ae||(Qn=xt(Pt,ir))<=Hn?(qt.pop(),Hn=Qn):(Pt.area-=Pt.pop().area,Gt(Pt,ir,Ft,!1),ir=Math.min(Ft.dx,Ft.dy),Pt.length=Pt.area=0,Hn=1/0);Pt.length&&(Gt(Pt,ir,Ft,!0),Pt.length=Pt.area=0),Vt.forEach(nt)}}function Mt(vt){var Vt=vt.children;if(Vt&&Vt.length){var qt,Ft=ce(vt),Pt=Vt.slice(),Wt=[];for(et(Pt,Ft.dx*Ft.dy/vt.value),Wt.area=0;qt=Pt.pop();)Wt.push(qt),Wt.area+=qt.area,null!=qt.z&&(Gt(Wt,qt.z?Ft.dx:Ft.dy,Ft,!Pt.length),Wt.length=Wt.area=0);Vt.forEach(Mt)}}function xt(vt,Vt){for(var Pt,Ft=vt.area,qt=0,Wt=1/0,Hn=-1,Qn=vt.length;++Hn<Qn;)(Pt=vt[Hn].area)&&(Pt<Wt&&(Wt=Pt),Pt>qt&&(qt=Pt));return Vt*=Vt,(Ft*=Ft)?Math.max(Vt*qt*Fe/Ft,Ft/(Vt*Wt*Fe)):1/0}function Gt(vt,Vt,Ft,Pt){var jn,qt=-1,Wt=vt.length,Hn=Ft.x,Qn=Ft.y,ir=Vt?k(vt.area/Vt):0;if(Vt==Ft.dx){for((Pt||ir>Ft.dy)&&(ir=Ft.dy);++qt<Wt;)(jn=vt[qt]).x=Hn,jn.y=Qn,jn.dy=ir,Hn+=jn.dx=Math.min(Ft.x+Ft.dx-Hn,ir?k(jn.area/ir):0);jn.z=!0,jn.dx+=Ft.x+Ft.dx-Hn,Ft.y+=ir,Ft.dy-=ir}else{for((Pt||ir>Ft.dx)&&(ir=Ft.dx);++qt<Wt;)(jn=vt[qt]).x=Hn,jn.y=Qn,jn.dx=ir,Qn+=jn.dy=Math.min(Ft.y+Ft.dy-Qn,ir?k(jn.area/ir):0);jn.z=!1,jn.dy+=Ft.y+Ft.dy-Qn,Ft.x+=ir,Ft.dx-=ir}}function It(vt){var Vt=Ie||u(vt),Ft=Vt[0];return Ft.x=Ft.y=0,Ft.value?(Ft.dx=U[0],Ft.dy=U[1]):Ft.dx=Ft.dy=0,Ie&&u.revalue(Ft),et([Ft],Ft.dx*Ft.dy/Ft.value),(Ie?Mt:nt)(Ft),he&&(Ie=Vt),Vt}return It.size=function(vt){return arguments.length?(U=vt,It):U},It.padding=function(vt){if(!arguments.length)return re;var Pt;return ce=null==(re=vt)?or:"function"==(Pt=typeof vt)?function Vt(qt){var Wt=vt.call(It,qt,qt.depth);return null==Wt?or(qt):sr(qt,"number"==typeof Wt?[Wt,Wt,Wt,Wt]:Wt)}:("number"===Pt&&(vt=[vt,vt,vt,vt]),function Ft(qt){return sr(qt,vt)}),It},It.round=function(vt){return arguments.length?(k=vt?Math.round:Number,It):k!=Number},It.sticky=function(vt){return arguments.length?(he=vt,Ie=null,It):he},It.ratio=function(vt){return arguments.length?(Fe=vt,It):Fe},It.mode=function(vt){return arguments.length?(Ae=vt+"",It):Ae},Sc(It,u)},v.random={normal:function(u,k){var U=arguments.length;return U<2&&(k=1),U<1&&(u=0),function(){var re,ce,he;do{he=(re=2*Math.random()-1)*re+(ce=2*Math.random()-1)*ce}while(!he||he>1);return u+k*re*Math.sqrt(-2*Math.log(he)/he)}},logNormal:function(){var u=v.random.normal.apply(v,arguments);return function(){return Math.exp(u())}},bates:function(u){var k=v.random.irwinHall(u);return function(){return k()/u}},irwinHall:function(u){return function(){for(var k=0,U=0;U<u;U++)k+=Math.random();return k}}},v.scale={};var Hc={floor:G,ceil:G};function ml(u,k,U,re){var ce=[],he=[],Ie=0,Ae=Math.min(u.length,k.length)-1;for(u[Ae]<u[0]&&(u=u.slice().reverse(),k=k.slice().reverse());++Ie<=Ae;)ce.push(U(u[Ie-1],u[Ie])),he.push(re(k[Ie-1],k[Ie]));return function(Fe){var et=v.bisect(u,Fe,1,Ae)-1;return he[et](ce[et](Fe))}}function E0(u,k,U,re){var ce,he;function Ie(){var Fe=Math.min(u.length,k.length)>2?ml:vl,et=re?Ii:qr;return ce=Fe(u,k,et,U),he=Fe(k,u,et,Yi),Ae}function Ae(Fe){return ce(Fe)}return Ae.invert=function(Fe){return he(Fe)},Ae.domain=function(Fe){return arguments.length?(u=Fe.map(Number),Ie()):u},Ae.range=function(Fe){return arguments.length?(k=Fe,Ie()):k},Ae.rangeRound=function(Fe){return Ae.range(Fe).interpolate(E1)},Ae.clamp=function(Fe){return arguments.length?(re=Fe,Ie()):re},Ae.interpolate=function(Fe){return arguments.length?(U=Fe,Ie()):U},Ae.ticks=function(Fe){return Fs(u,Fe)},Ae.tickFormat=function(Fe,et){return d3_scale_linearTickFormat(u,Fe,et)},Ae.nice=function(Fe){return Na(u,Fe),Ie()},Ae.copy=function(){return E0(u,k,U,re)},Ie()}function ft(u,k){return v.rebind(u,k,"range","rangeRound","interpolate","clamp")}function Na(u,k){return N1(u,a3(n1(u,k)[2])),N1(u,a3(n1(u,k)[2])),u}function n1(u,k){null==k&&(k=10);var U=Li(u),re=U[1]-U[0],ce=Math.pow(10,Math.floor(Math.log(re/k)/Math.LN10)),he=k/re*ce;return he<=.15?ce*=10:he<=.35?ce*=5:he<=.75&&(ce*=2),U[0]=Math.ceil(U[0]/ce)*ce,U[1]=Math.floor(U[1]/ce)*ce+.5*ce,U[2]=ce,U}function Fs(u,k){return v.range.apply(v,n1(u,k))}function s4(u,k,U,re){function ce(Ae){return(U?Math.log(Ae<0?0:Ae):-Math.log(Ae>0?0:-Ae))/Math.log(k)}function he(Ae){return U?Math.pow(k,Ae):-Math.pow(k,-Ae)}function Ie(Ae){return u(ce(Ae))}return Ie.invert=function(Ae){return he(u.invert(Ae))},Ie.domain=function(Ae){return arguments.length?(U=Ae[0]>=0,u.domain((re=Ae.map(Number)).map(ce)),Ie):re},Ie.base=function(Ae){return arguments.length?(k=+Ae,u.domain(re.map(ce)),Ie):k},Ie.nice=function(){var Ae=N1(re.map(ce),U?Math:jo);return u.domain(Ae),re=Ae.map(he),Ie},Ie.ticks=function(){var Ae=Li(re),Fe=[],et=Ae[0],nt=Ae[1],Mt=Math.floor(ce(et)),xt=Math.ceil(ce(nt)),Gt=k%1?2:k;if(isFinite(xt-Mt)){if(U){for(;Mt<xt;Mt++)for(var It=1;It<Gt;It++)Fe.push(he(Mt)*It);Fe.push(he(Mt))}else for(Fe.push(he(Mt));Mt++<xt;)for(It=Gt-1;It>0;It--)Fe.push(he(Mt)*It);for(Mt=0;Fe[Mt]<et;Mt++);for(xt=Fe.length;Fe[xt-1]>nt;xt--);Fe=Fe.slice(Mt,xt)}return Fe},Ie.copy=function(){return s4(u.copy(),k,U,re)},ft(Ie,u)}v.scale.linear=function(){return E0([0,1],[0,1],Yi,!1)},v.scale.log=function(){return s4(v.scale.linear().domain([0,1]),10,!0,[1,10])};var jo={floor:function(u){return-Math.ceil(-u)},ceil:function(u){return-Math.floor(-u)}};function N0(u,k,U){var re=Lc(k),ce=Lc(1/k);function he(Ie){return u(re(Ie))}return he.invert=function(Ie){return ce(u.invert(Ie))},he.domain=function(Ie){return arguments.length?(u.domain((U=Ie.map(Number)).map(re)),he):U},he.ticks=function(Ie){return Fs(U,Ie)},he.tickFormat=function(Ie,Ae){return d3_scale_linearTickFormat(U,Ie,Ae)},he.nice=function(Ie){return he.domain(Na(U,Ie))},he.exponent=function(Ie){return arguments.length?(re=Lc(k=Ie),ce=Lc(1/k),u.domain(U.map(re)),he):k},he.copy=function(){return N0(u.copy(),k,U)},ft(he,u)}function Lc(u){return function(k){return k<0?-Math.pow(-k,u):Math.pow(k,u)}}function s3(u,k){var U,re,ce;function he(Ae){return re[((U.get(Ae)||("range"===k.t?U.set(Ae,u.push(Ae)):NaN))-1)%re.length]}function Ie(Ae,Fe){return v.range(u.length).map(function(et){return Ae+Fe*et})}return he.domain=function(Ae){if(!arguments.length)return u;u=[],U=new Y;for(var nt,Fe=-1,et=Ae.length;++Fe<et;)U.has(nt=Ae[Fe])||U.set(nt,u.push(nt));return he[k.t].apply(he,k.a)},he.range=function(Ae){return arguments.length?(re=Ae,ce=0,k={t:"range",a:arguments},he):re},he.rangePoints=function(Ae,Fe){arguments.length<2&&(Fe=0);var et=Ae[0],nt=Ae[1],Mt=u.length<2?(et=(et+nt)/2,0):(nt-et)/(u.length-1+Fe);return re=Ie(et+Mt*Fe/2,Mt),ce=0,k={t:"rangePoints",a:arguments},he},he.rangeRoundPoints=function(Ae,Fe){arguments.length<2&&(Fe=0);var et=Ae[0],nt=Ae[1],Mt=u.length<2?(et=nt=Math.round((et+nt)/2),0):(nt-et)/(u.length-1+Fe)|0;return re=Ie(et+Math.round(Mt*Fe/2+(nt-et-(u.length-1+Fe)*Mt)/2),Mt),ce=0,k={t:"rangeRoundPoints",a:arguments},he},he.rangeBands=function(Ae,Fe,et){arguments.length<2&&(Fe=0),arguments.length<3&&(et=Fe);var nt=Ae[1]<Ae[0],Mt=Ae[nt-0],Gt=(Ae[1-nt]-Mt)/(u.length-Fe+2*et);return re=Ie(Mt+Gt*et,Gt),nt&&re.reverse(),ce=Gt*(1-Fe),k={t:"rangeBands",a:arguments},he},he.rangeRoundBands=function(Ae,Fe,et){arguments.length<2&&(Fe=0),arguments.length<3&&(et=Fe);var nt=Ae[1]<Ae[0],Mt=Ae[nt-0],xt=Ae[1-nt],Gt=Math.floor((xt-Mt)/(u.length-Fe+2*et));return re=Ie(Mt+Math.round((xt-Mt-(u.length-Fe)*Gt)/2),Gt),nt&&re.reverse(),ce=Math.round(Gt*(1-Fe)),k={t:"rangeRoundBands",a:arguments},he},he.rangeBand=function(){return ce},he.rangeExtent=function(){return Li(k.a[0])},he.copy=function(){return s3(u,k)},he.domain(u)}v.scale.pow=function(){return N0(v.scale.linear(),1,[0,1])},v.scale.sqrt=function(){return v.scale.pow().exponent(.5)},v.scale.ordinal=function(){return s3([],{t:"range",a:[[]]})},v.scale.category10=function(){return v.scale.ordinal().range(o4)},v.scale.category20=function(){return v.scale.ordinal().range(o3)},v.scale.category20b=function(){return v.scale.ordinal().range(F2)},v.scale.category20c=function(){return v.scale.ordinal().range(I0)};var o4=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(jt),o3=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(jt),F2=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(jt),I0=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(jt);function c3(u,k){var U;function re(){var he=0,Ie=k.length;for(U=[];++he<Ie;)U[he-1]=v.quantile(u,he/Ie);return ce}function ce(he){if(!isNaN(he=+he))return k[v.bisect(U,he)]}return ce.domain=function(he){return arguments.length?(u=he.map(z).filter(S).sort(w),re()):u},ce.range=function(he){return arguments.length?(k=he,re()):k},ce.quantiles=function(){return U},ce.invertExtent=function(he){return(he=k.indexOf(he))<0?[NaN,NaN]:[he>0?U[he-1]:u[0],he<U.length?U[he]:u[u.length-1]]},ce.copy=function(){return c3(u,k)},re()}function c4(u,k,U){var re,ce;function he(Ae){return U[Math.max(0,Math.min(ce,Math.floor(re*(Ae-u))))]}function Ie(){return re=U.length/(k-u),ce=U.length-1,he}return he.domain=function(Ae){return arguments.length?(u=+Ae[0],k=+Ae[Ae.length-1],Ie()):[u,k]},he.range=function(Ae){return arguments.length?(U=Ae,Ie()):U},he.invertExtent=function(Ae){return[Ae=(Ae=U.indexOf(Ae))<0?NaN:Ae/re+u,Ae+1/re]},he.copy=function(){return c4(u,k,U)},Ie()}function l4(u,k){function U(re){if(re<=re)return k[v.bisect(u,re)]}return U.domain=function(re){return arguments.length?(u=re,U):u},U.range=function(re){return arguments.length?(k=re,U):k},U.invertExtent=function(re){return re=k.indexOf(re),[u[re-1],u[re]]},U.copy=function(){return l4(u,k)},U}function u4(u){function k(U){return+U}return k.invert=k,k.domain=k.range=function(U){return arguments.length?(u=U.map(k),k):u},k.ticks=function(U){return Fs(u,U)},k.tickFormat=function(U,re){return d3_scale_linearTickFormat(u,U,re)},k.copy=function(){return u4(u)},k}function p2(){return 0}v.scale.quantile=function(){return c3([],[])},v.scale.quantize=function(){return c4(0,1,[0,1])},v.scale.threshold=function(){return l4([.5],[0,1])},v.scale.identity=function(){return u4([0,1])},v.svg={},v.svg.arc=function(){var u=Zu,k=As,U=p2,re=zc,ce=mo,he=Xi,Ie=Yo;function Ae(){var et=Math.max(0,+u.apply(this,arguments)),nt=Math.max(0,+k.apply(this,arguments)),Mt=ce.apply(this,arguments)-je,xt=he.apply(this,arguments)-je,Gt=Math.abs(xt-Mt),It=Mt>xt?0:1;if(nt<et&&(vt=nt,nt=et,et=vt),Gt>=$e)return Fe(nt,It)+(et?Fe(et,1-It):"")+"Z";var vt,Vt,Ft,Pt,Hn,Qn,ir,jn,ar,lr,Lr,cr,qt=0,Wt=0,wr=[];if((Pt=(+Ie.apply(this,arguments)||0)/2)&&(Ft=re===zc?Math.sqrt(et*et+nt*nt):+re.apply(this,arguments),It||(Wt*=-1),nt&&(Wt=ct(Ft/nt*Math.sin(Pt))),et&&(qt=ct(Ft/et*Math.sin(Pt)))),nt){Hn=nt*Math.cos(Mt+Wt),Qn=nt*Math.sin(Mt+Wt),ir=nt*Math.cos(xt-Wt),jn=nt*Math.sin(xt-Wt);var li=Math.abs(xt-Mt-2*Wt)<=ye?0:1;if(Wt&&l3(Hn,Qn,ir,jn)===It^li){var _i=(Mt+xt)/2;Hn=nt*Math.cos(_i),Qn=nt*Math.sin(_i),ir=jn=null}}else Hn=Qn=0;if(et){ar=et*Math.cos(xt-qt),lr=et*Math.sin(xt-qt),Lr=et*Math.cos(Mt+qt),cr=et*Math.sin(Mt+qt);var ui=Math.abs(Mt-xt+2*qt)<=ye?0:1;if(qt&&l3(ar,lr,Lr,cr)===1-It^ui){var Kn=(Mt+xt)/2;ar=et*Math.cos(Kn),lr=et*Math.sin(Kn),Lr=cr=null}}else ar=lr=0;if(Gt>Re&&(vt=Math.min(Math.abs(nt-et)/2,+U.apply(this,arguments)))>.001){Vt=et<nt^It?0:1;var zr=vt,Tr=vt;if(Gt<ye){var mi=null==Lr?[ar,lr]:null==ir?[Hn,Qn]:ni([Hn,Qn],[Lr,cr],[ir,jn],[ar,lr]),Ti=Hn-mi[0],Aa=Qn-mi[1],pn=ir-mi[0],Qa=jn-mi[1],Bn=1/Math.sin(Math.acos((Ti*pn+Aa*Qa)/(Math.sqrt(Ti*Ti+Aa*Aa)*Math.sqrt(pn*pn+Qa*Qa)))/2),Ja=Math.sqrt(mi[0]*mi[0]+mi[1]*mi[1]);Tr=Math.min(vt,(et-Ja)/(Bn-1)),zr=Math.min(vt,(nt-Ja)/(Bn+1))}if(null!=ir){var ba=u3(null==Lr?[ar,lr]:[Lr,cr],[Hn,Qn],nt,zr,It),Ha=u3([ir,jn],[ar,lr],nt,zr,It);vt===zr?wr.push("M",ba[0],"A",zr,",",zr," 0 0,",Vt," ",ba[1],"A",nt,",",nt," 0 ",1-It^l3(ba[1][0],ba[1][1],Ha[1][0],Ha[1][1]),",",It," ",Ha[1],"A",zr,",",zr," 0 0,",Vt," ",Ha[0]):wr.push("M",ba[0],"A",zr,",",zr," 0 1,",Vt," ",Ha[0])}else wr.push("M",Hn,",",Qn);if(null!=Lr){var Bs=u3([Hn,Qn],[Lr,cr],et,-Tr,It),W2=u3([ar,lr],null==ir?[Hn,Qn]:[ir,jn],et,-Tr,It);vt===Tr?wr.push("L",W2[0],"A",Tr,",",Tr," 0 0,",Vt," ",W2[1],"A",et,",",et," 0 ",It^l3(W2[1][0],W2[1][1],Bs[1][0],Bs[1][1]),",",1-It," ",Bs[1],"A",Tr,",",Tr," 0 0,",Vt," ",Bs[0]):wr.push("L",W2[0],"A",Tr,",",Tr," 0 0,",Vt," ",Bs[0])}else wr.push("L",ar,",",lr)}else wr.push("M",Hn,",",Qn),null!=ir&&wr.push("A",nt,",",nt," 0 ",li,",",It," ",ir,",",jn),wr.push("L",ar,",",lr),null!=Lr&&wr.push("A",et,",",et," 0 ",ui,",",1-It," ",Lr,",",cr);return wr.push("Z"),wr.join("")}function Fe(et,nt){return"M0,"+et+"A"+et+","+et+" 0 1,"+nt+" 0,"+-et+"A"+et+","+et+" 0 1,"+nt+" 0,"+et}return Ae.innerRadius=function(et){return arguments.length?(u=Pn(et),Ae):u},Ae.outerRadius=function(et){return arguments.length?(k=Pn(et),Ae):k},Ae.cornerRadius=function(et){return arguments.length?(U=Pn(et),Ae):U},Ae.padRadius=function(et){return arguments.length?(re=et==zc?zc:Pn(et),Ae):re},Ae.startAngle=function(et){return arguments.length?(ce=Pn(et),Ae):ce},Ae.endAngle=function(et){return arguments.length?(he=Pn(et),Ae):he},Ae.padAngle=function(et){return arguments.length?(Ie=Pn(et),Ae):Ie},Ae.centroid=function(){var et=(+u.apply(this,arguments)+ +k.apply(this,arguments))/2,nt=(+ce.apply(this,arguments)+ +he.apply(this,arguments))/2-je;return[Math.cos(nt)*et,Math.sin(nt)*et]},Ae};var zc="auto";function Zu(u){return u.innerRadius}function As(u){return u.outerRadius}function mo(u){return u.startAngle}function Xi(u){return u.endAngle}function Yo(u){return u&&u.padAngle}function l3(u,k,U,re){return(u-U)*k-(k-re)*u>0?0:1}function u3(u,k,U,re,ce){var he=u[0]-k[0],Ie=u[1]-k[1],Ae=(ce?re:-re)/Math.sqrt(he*he+Ie*Ie),Fe=Ae*Ie,et=-Ae*he,nt=u[0]+Fe,Mt=u[1]+et,xt=k[0]+Fe,Gt=k[1]+et,It=(nt+xt)/2,vt=(Mt+Gt)/2,Vt=xt-nt,Ft=Gt-Mt,Pt=Vt*Vt+Ft*Ft,qt=U-re,Wt=nt*Gt-xt*Mt,Hn=(Ft<0?-1:1)*Math.sqrt(Math.max(0,qt*qt*Pt-Wt*Wt)),Qn=(Wt*Ft-Vt*Hn)/Pt,ir=(-Wt*Vt-Ft*Hn)/Pt,jn=(Wt*Ft+Vt*Hn)/Pt,ar=(-Wt*Vt+Ft*Hn)/Pt,lr=Qn-It,Lr=ir-vt,cr=jn-It,wr=ar-vt;return lr*lr+Lr*Lr>cr*cr+wr*wr&&(Qn=jn,ir=ar),[[Qn-Fe,ir-et],[Qn*U/qt,ir*U/qt]]}function I1(){return!0}function f4(u){var k=Qr,U=hi,re=I1,ce=r1,he=ce.key,Ie=.7;function Ae(Fe){var Gt,et=[],nt=[],Mt=-1,xt=Fe.length,It=Pn(k),vt=Pn(U);function Vt(){et.push("M",ce(u(nt),Ie))}for(;++Mt<xt;)re.call(this,Gt=Fe[Mt],Mt)?nt.push([+It.call(this,Gt,Mt),+vt.call(this,Gt,Mt)]):nt.length&&(Vt(),nt=[]);return nt.length&&Vt(),et.length?et.join(""):null}return Ae.x=function(Fe){return arguments.length?(k=Fe,Ae):k},Ae.y=function(Fe){return arguments.length?(U=Fe,Ae):U},Ae.defined=function(Fe){return arguments.length?(re=Fe,Ae):re},Ae.interpolate=function(Fe){return arguments.length?(he="function"==typeof Fe?ce=Fe:(ce=f3.get(Fe)||r1).key,Ae):he},Ae.tension=function(Fe){return arguments.length?(Ie=Fe,Ae):Ie},Ae}v.svg.line=function(){return f4(G)};var f3=v.map({linear:r1,"linear-closed":O2,step:function Xu(u){for(var k=0,U=u.length,re=u[0],ce=[re[0],",",re[1]];++k<U;)ce.push("H",(re[0]+(re=u[k])[0])/2,"V",re[1]);return U>1&&ce.push("H",re[0]),ce.join("")},"step-before":B2,"step-after":aa,basis:gl,"basis-open":function yl(u){if(u.length<4)return r1(u);for(var ce,k=[],U=-1,re=u.length,he=[0],Ie=[0];++U<3;)he.push((ce=u[U])[0]),Ie.push(ce[1]);for(k.push(Os(v2,he)+","+Os(v2,Ie)),--U;++U<re;)ce=u[U],he.shift(),he.push(ce[0]),Ie.shift(),Ie.push(ce[1]),U2(k,he,Ie);return k.join("")},"basis-closed":function d4(u){for(var k,he,U=-1,re=u.length,ce=re+4,Ie=[],Ae=[];++U<4;)Ie.push((he=u[U%re])[0]),Ae.push(he[1]);for(k=[Os(v2,Ie),",",Os(v2,Ae)],--U;++U<ce;)he=u[U%re],Ie.shift(),Ie.push(he[0]),Ae.shift(),Ae.push(he[1]),U2(k,Ie,Ae);return k.join("")},bundle:function go(u,k){var U=u.length-1;if(U)for(var Fe,et,re=u[0][0],ce=u[0][1],he=u[U][0]-re,Ie=u[U][1]-ce,Ae=-1;++Ae<=U;)(Fe=u[Ae])[0]=k*Fe[0]+(1-k)*(re+(et=Ae/U)*he),Fe[1]=k*Fe[1]+(1-k)*(ce+et*Ie);return gl(u)},cardinal:function Hs(u,k){return u.length<3?r1(u):u[0]+y1(u,Zo(u,k))},"cardinal-open":function P0(u,k){return u.length<4?r1(u):u[1]+y1(u.slice(1,-1),Zo(u,k))},"cardinal-closed":function Ku(u,k){return u.length<3?O2(u):u[0]+y1((u.push(u[0]),u),Zo([u[u.length-2]].concat(u,[u[1]]),k))},monotone:function d3(u){return u.length<3?r1(u):u[0]+y1(u,function yo(u){for(var U,re,ce,he,k=[],Ie=function kc(u){for(var k=0,U=u.length-1,re=[],ce=u[0],he=u[1],Ie=re[0]=h4(ce,he);++k<U;)re[k]=(Ie+(Ie=h4(ce=he,he=u[k+1])))/2;return re[k]=Ie,re}(u),Ae=-1,Fe=u.length-1;++Ae<Fe;)U=h4(u[Ae],u[Ae+1]),b(U)<Re?Ie[Ae]=Ie[Ae+1]=0:(he=(re=Ie[Ae]/U)*re+(ce=Ie[Ae+1]/U)*ce)>9&&(he=3*U/Math.sqrt(he),Ie[Ae]=he*re,Ie[Ae+1]=he*ce);for(Ae=-1;++Ae<=Fe;)he=(u[Math.min(Fe,Ae+1)][0]-u[Math.max(0,Ae-1)][0])/(6*(1+Ie[Ae]*Ie[Ae])),k.push([he||0,Ie[Ae]*he||0]);return k}(u))}});function r1(u){return u.length>1?u.join("L"):u+"Z"}function O2(u){return u.join("L")+"Z"}function B2(u){for(var k=0,U=u.length,re=u[0],ce=[re[0],",",re[1]];++k<U;)ce.push("V",(re=u[k])[1],"H",re[0]);return ce.join("")}function aa(u){for(var k=0,U=u.length,re=u[0],ce=[re[0],",",re[1]];++k<U;)ce.push("H",(re=u[k])[0],"V",re[1]);return ce.join("")}function y1(u,k){if(k.length<1||u.length!=k.length&&u.length!=k.length+2)return r1(u);var U=u.length!=k.length,re="",ce=u[0],he=u[1],Ie=k[0],Ae=Ie,Fe=1;if(U&&(re+="Q"+(he[0]-2*Ie[0]/3)+","+(he[1]-2*Ie[1]/3)+","+he[0]+","+he[1],ce=u[1],Fe=2),k.length>1){he=u[Fe],Fe++,re+="C"+(ce[0]+Ie[0])+","+(ce[1]+Ie[1])+","+(he[0]-(Ae=k[1])[0])+","+(he[1]-Ae[1])+","+he[0]+","+he[1];for(var et=2;et<k.length;et++,Fe++)re+="S"+((he=u[Fe])[0]-(Ae=k[et])[0])+","+(he[1]-Ae[1])+","+he[0]+","+he[1]}if(U){var nt=u[Fe];re+="Q"+(he[0]+2*Ae[0]/3)+","+(he[1]+2*Ae[1]/3)+","+nt[0]+","+nt[1]}return re}function Zo(u,k){for(var ce,U=[],re=(1-k)/2,he=u[0],Ie=u[1],Ae=1,Fe=u.length;++Ae<Fe;)ce=he,he=Ie,U.push([re*((Ie=u[Ae])[0]-ce[0]),re*(Ie[1]-ce[1])]);return U}function gl(u){if(u.length<3)return r1(u);var k=1,U=u.length,re=u[0],ce=re[0],he=re[1],Ie=[ce,ce,ce,(re=u[1])[0]],Ae=[he,he,he,re[1]],Fe=[ce,",",he,"L",Os(v2,Ie),",",Os(v2,Ae)];for(u.push(u[U-1]);++k<=U;)re=u[k],Ie.shift(),Ie.push(re[0]),Ae.shift(),Ae.push(re[1]),U2(Fe,Ie,Ae);return u.pop(),Fe.push("L",re),Fe.join("")}function Os(u,k){return u[0]*k[0]+u[1]*k[1]+u[2]*k[2]+u[3]*k[3]}f3.forEach(function(u,k){k.key=u,k.closed=/-closed$/.test(u)});var Xo=[0,2/3,1/3,0],sa=[0,1/3,2/3,0],v2=[0,1/6,2/3,1/6];function U2(u,k,U){u.push("C",Os(Xo,k),",",Os(Xo,U),",",Os(sa,k),",",Os(sa,U),",",Os(v2,k),",",Os(v2,U))}function h4(u,k){return(k[1]-u[1])/(k[0]-u[0])}function Vc(u){for(var k,ce,he,U=-1,re=u.length;++U<re;)he=(k=u[U])[1]-je,k[0]=(ce=k[0])*Math.cos(he),k[1]=ce*Math.sin(he);return u}function bl(u){var k=Qr,U=Qr,re=0,ce=hi,he=I1,Ie=r1,Ae=Ie.key,Fe=Ie,et="L",nt=.7;function Mt(xt){var Pt,ir,jn,Gt=[],It=[],vt=[],Vt=-1,Ft=xt.length,qt=Pn(k),Wt=Pn(re),Hn=k===U?function(){return ir}:Pn(U),Qn=re===ce?function(){return jn}:Pn(ce);function ar(){Gt.push("M",Ie(u(vt),nt),et,Fe(u(It.reverse()),nt),"Z")}for(;++Vt<Ft;)he.call(this,Pt=xt[Vt],Vt)?(It.push([ir=+qt.call(this,Pt,Vt),jn=+Wt.call(this,Pt,Vt)]),vt.push([+Hn.call(this,Pt,Vt),+Qn.call(this,Pt,Vt)])):It.length&&(ar(),It=[],vt=[]);return It.length&&ar(),Gt.length?Gt.join(""):null}return Mt.x=function(xt){return arguments.length?(k=U=xt,Mt):U},Mt.x0=function(xt){return arguments.length?(k=xt,Mt):k},Mt.x1=function(xt){return arguments.length?(U=xt,Mt):U},Mt.y=function(xt){return arguments.length?(re=ce=xt,Mt):ce},Mt.y0=function(xt){return arguments.length?(re=xt,Mt):re},Mt.y1=function(xt){return arguments.length?(ce=xt,Mt):ce},Mt.defined=function(xt){return arguments.length?(he=xt,Mt):he},Mt.interpolate=function(xt){return arguments.length?(Ae="function"==typeof xt?Ie=xt:(Ie=f3.get(xt)||r1).key,Fe=Ie.reverse||Ie,et=Ie.closed?"M":"L",Mt):Ae},Mt.tension=function(xt){return arguments.length?(nt=xt,Mt):nt},Mt}function p4(u){return u.source}function h3(u){return u.target}function $a(u){return u.radius}function Ko(u){return[u.x,u.y]}function m2(){return 64}function g2(){return"circle"}function In(u){var k=Math.sqrt(u/ye);return"M0,"+k+"A"+k+","+k+" 0 1,1 0,"+-k+"A"+k+","+k+" 0 1,1 0,"+k+"Z"}v.svg.line.radial=function(){var u=f4(Vc);return u.radius=u.x,delete u.x,u.angle=u.y,delete u.y,u},B2.reverse=aa,aa.reverse=B2,v.svg.area=function(){return bl(G)},v.svg.area.radial=function(){var u=bl(Vc);return u.radius=u.x,delete u.x,u.innerRadius=u.x0,delete u.x0,u.outerRadius=u.x1,delete u.x1,u.angle=u.y,delete u.y,u.startAngle=u.y0,delete u.y0,u.endAngle=u.y1,delete u.y1,u},v.svg.chord=function(){var u=p4,k=h3,U=$a,re=mo,ce=Xi;function he(nt,Mt){var xt=Ie(this,u,nt,Mt),Gt=Ie(this,k,nt,Mt);return"M"+xt.p0+Fe(xt.r,xt.p1,xt.a1-xt.a0)+(function Ae(nt,Mt){return nt.a0==Mt.a0&&nt.a1==Mt.a1}(xt,Gt)?et(0,0,0,xt.p0):et(0,0,0,Gt.p0)+Fe(Gt.r,Gt.p1,Gt.a1-Gt.a0)+et(0,0,0,xt.p0))+"Z"}function Ie(nt,Mt,xt,Gt){var It=Mt.call(nt,xt,Gt),vt=U.call(nt,It,Gt),Vt=re.call(nt,It,Gt)-je,Ft=ce.call(nt,It,Gt)-je;return{r:vt,a0:Vt,a1:Ft,p0:[vt*Math.cos(Vt),vt*Math.sin(Vt)],p1:[vt*Math.cos(Ft),vt*Math.sin(Ft)]}}function Fe(nt,Mt,xt){return"A"+nt+","+nt+" 0 "+ +(xt>ye)+",1 "+Mt}function et(nt,Mt,xt,Gt){return"Q 0,0 "+Gt}return he.radius=function(nt){return arguments.length?(U=Pn(nt),he):U},he.source=function(nt){return arguments.length?(u=Pn(nt),he):u},he.target=function(nt){return arguments.length?(k=Pn(nt),he):k},he.startAngle=function(nt){return arguments.length?(re=Pn(nt),he):re},he.endAngle=function(nt){return arguments.length?(ce=Pn(nt),he):ce},he},v.svg.diagonal=function(){var u=p4,k=h3,U=Ko;function re(ce,he){var Ie=u.call(this,ce,he),Ae=k.call(this,ce,he),Fe=(Ie.y+Ae.y)/2,et=[Ie,{x:Ie.x,y:Fe},{x:Ae.x,y:Fe},Ae];return"M"+(et=et.map(U))[0]+"C"+et[1]+" "+et[2]+" "+et[3]}return re.source=function(ce){return arguments.length?(u=Pn(ce),re):u},re.target=function(ce){return arguments.length?(k=Pn(ce),re):k},re.projection=function(ce){return arguments.length?(U=ce,re):U},re},v.svg.diagonal.radial=function(){var u=v.svg.diagonal(),k=Ko,U=u.projection;return u.projection=function(re){return arguments.length?U(function p3(u){return function(){var k=u.apply(this,arguments),U=k[0],re=k[1]-je;return[U*Math.cos(re),U*Math.sin(re)]}}(k=re)):k},u},v.svg.symbol=function(){var u=g2,k=m2;function U(re,ce){return(Qo.get(u.call(this,re,ce))||In)(k.call(this,re,ce))}return U.type=function(re){return arguments.length?(u=Pn(re),U):u},U.size=function(re){return arguments.length?(k=Pn(re),U):k},U};var Qo=v.map({circle:In,cross:function(u){var k=Math.sqrt(u/5)/2;return"M"+-3*k+","+-k+"H"+-k+"V"+-3*k+"H"+k+"V"+-k+"H"+3*k+"V"+k+"H"+k+"V"+3*k+"H"+-k+"V"+k+"H"+-3*k+"Z"},diamond:function(u){var k=Math.sqrt(u/(2*Ka)),U=k*Ka;return"M0,"+-k+"L"+U+",0 0,"+k+" "+-U+",0Z"},square:function(u){var k=Math.sqrt(u)/2;return"M"+-k+","+-k+"L"+k+","+-k+" "+k+","+k+" "+-k+","+k+"Z"},"triangle-down":function(u){var k=Math.sqrt(u/Fi),U=k*Fi/2;return"M0,"+U+"L"+k+","+-U+" "+-k+","+-U+"Z"},"triangle-up":function(u){var k=Math.sqrt(u/Fi),U=k*Fi/2;return"M0,"+-U+"L"+k+","+U+" "+-k+","+U+"Z"}});v.svg.symbolTypes=Qo.keys();var Fi=Math.sqrt(3),Ka=Math.tan(30*Ye);I.transition=function(u){for(var ce,he,k=G2||++Jo,U=Nc(u),re=[],Ie=$2||{time:Date.now(),ease:N2,delay:0,duration:250},Ae=-1,Fe=this.length;++Ae<Fe;){re.push(ce=[]);for(var et=this[Ae],nt=-1,Mt=et.length;++nt<Mt;)(he=et[nt])&&bo(he,nt,U,k,Ie),ce.push(he)}return Cl(re,U,k)},I.interrupt=function(u){return this.each(null==u?Ec:v4(Nc(u)))};var Ec=v4(Nc());function v4(u){return function(){var k,U,re;(k=this[u])&&(re=k[U=k.active])&&(re.timer.c=null,re.timer.t=NaN,--k.count?delete k[U]:delete this[u],k.active+=.5,re.event&&re.event.interrupt.call(this,this.__data__,re.index))}}function Cl(u,k,U){return Le(u,ca),u.namespace=k,u.id=U,u}var G2,$2,ca=[],Jo=0;function v3(u,k,U,re){var ce=u.id,he=u.namespace;return At(u,"function"==typeof U?function(Ie,Ae,Fe){Ie[he][ce].tween.set(k,re(U.call(Ie,Ie.__data__,Ae,Fe)))}:(U=re(U),function(Ie){Ie[he][ce].tween.set(k,U)}))}function hr(u){return null==u&&(u=""),function(){this.textContent=u}}function Nc(u){return null==u?"__transition__":"__transition_"+u+"__"}function bo(u,k,U,re,ce){var Ae,Fe,et,nt,Mt,he=u[U]||(u[U]={active:0,count:0}),Ie=he[re];function Gt(vt){var Vt=he.active,Ft=he[Vt];for(var Pt in Ft&&(Ft.timer.c=null,Ft.timer.t=NaN,--he.count,delete he[Vt],Ft.event&&Ft.event.interrupt.call(u,u.__data__,Ft.index)),he)if(+Pt<re){var qt=he[Pt];qt.timer.c=null,qt.timer.t=NaN,--he.count,delete he[Pt]}Fe.c=It,Di(function(){return Fe.c&&It(vt||1)&&(Fe.c=null,Fe.t=NaN),1},0,Ae),he.active=re,Ie.event&&Ie.event.start.call(u,u.__data__,k),Mt=[],Ie.tween.forEach(function(Wt,Hn){(Hn=Hn.call(u,u.__data__,k))&&Mt.push(Hn)}),nt=Ie.ease,et=Ie.duration}function It(vt){for(var Vt=vt/et,Ft=nt(Vt),Pt=Mt.length;Pt>0;)Mt[--Pt].call(u,Ft);if(Vt>=1)return Ie.event&&Ie.event.end.call(u,u.__data__,k),--he.count?delete he[re]:delete u[U],1}Ie||(Fe=Di(function xt(vt){var Vt=Ie.delay;if(Fe.t=Vt+Ae,Vt<=vt)return Gt(vt-Vt);Fe.c=Gt},0,Ae=ce.time),Ie=he[re]={tween:new Y,time:Ae,timer:Fe,delay:ce.delay,duration:ce.duration,ease:ce.ease,index:k},ce=null,++he.count)}ca.call=I.call,ca.empty=I.empty,ca.node=I.node,ca.size=I.size,v.transition=function(u,k){return u&&u.transition?G2?u.transition(k):u:v.selection().transition(u)},v.transition.prototype=ca,ca.select=function(u){var ce,he,Ie,k=this.id,U=this.namespace,re=[];u=ae(u);for(var Ae=-1,Fe=this.length;++Ae<Fe;){re.push(ce=[]);for(var et=this[Ae],nt=-1,Mt=et.length;++nt<Mt;)(Ie=et[nt])&&(he=u.call(Ie,Ie.__data__,nt,Ae))?("__data__"in Ie&&(he.__data__=Ie.__data__),bo(he,nt,U,k,Ie[U][k]),ce.push(he)):ce.push(null)}return Cl(re,U,k)},ca.selectAll=function(u){var ce,he,Ie,Ae,Fe,k=this.id,U=this.namespace,re=[];u=O(u);for(var et=-1,nt=this.length;++et<nt;)for(var Mt=this[et],xt=-1,Gt=Mt.length;++xt<Gt;)if(Ie=Mt[xt]){Fe=Ie[U][k],he=u.call(Ie,Ie.__data__,xt,et),re.push(ce=[]);for(var It=-1,vt=he.length;++It<vt;)(Ae=he[It])&&bo(Ae,It,U,k,Fe),ce.push(Ae)}return Cl(re,U,k)},ca.filter=function(u){var U,ce,k=[];"function"!=typeof u&&(u=wt(u));for(var he=0,Ie=this.length;he<Ie;he++){k.push(U=[]);for(var re,Ae=0,Fe=(re=this[he]).length;Ae<Fe;Ae++)(ce=re[Ae])&&u.call(ce,ce.__data__,Ae,he)&&U.push(ce)}return Cl(k,this.namespace,this.id)},ca.tween=function(u,k){var U=this.id,re=this.namespace;return arguments.length<2?this.node()[re][U].tween.get(u):At(this,null==k?function(ce){ce[re][U].tween.remove(u)}:function(ce){ce[re][U].tween.set(u,k)})},ca.attr=function(u,k){if(arguments.length<2){for(k in u)this.attr(k,u[k]);return this}var U="transform"==u?yr:Yi,re=v.ns.qualify(u);function ce(){this.removeAttribute(re)}function he(){this.removeAttributeNS(re.space,re.local)}return v3(this,"attr."+u,k,re.local?function Ae(Fe){return null==Fe?he:(Fe+="",function(){var nt,et=this.getAttributeNS(re.space,re.local);return et!==Fe&&(nt=U(et,Fe),function(Mt){this.setAttributeNS(re.space,re.local,nt(Mt))})})}:function Ie(Fe){return null==Fe?ce:(Fe+="",function(){var nt,et=this.getAttribute(re);return et!==Fe&&(nt=U(et,Fe),function(Mt){this.setAttribute(re,nt(Mt))})})})},ca.attrTween=function(u,k){var U=v.ns.qualify(u);return this.tween("attr."+u,U.local?function ce(he,Ie){var Ae=k.call(this,he,Ie,this.getAttributeNS(U.space,U.local));return Ae&&function(Fe){this.setAttributeNS(U.space,U.local,Ae(Fe))}}:function re(he,Ie){var Ae=k.call(this,he,Ie,this.getAttribute(U));return Ae&&function(Fe){this.setAttribute(U,Ae(Fe))}})},ca.style=function(u,k,U){var re=arguments.length;if(re<3){if("string"!=typeof u){for(U in re<2&&(k=""),u)this.style(U,u[U],k);return this}U=""}function ce(){this.style.removeProperty(u)}return v3(this,"style."+u,k,function he(Ie){return null==Ie?ce:(Ie+="",function(){var Fe,Ae=h(this).getComputedStyle(this,null).getPropertyValue(u);return Ae!==Ie&&(Fe=Yi(Ae,Ie),function(et){this.style.setProperty(u,Fe(et),U)})})})},ca.styleTween=function(u,k,U){return arguments.length<3&&(U=""),this.tween("style."+u,function re(ce,he){var Ie=k.call(this,ce,he,h(this).getComputedStyle(this,null).getPropertyValue(u));return Ie&&function(Ae){this.style.setProperty(u,Ie(Ae),U)}})},ca.text=function(u){return v3(this,"text",u,hr)},ca.remove=function(){var u=this.namespace;return this.each("end.transition",function(){var k;this[u].count<2&&(k=this.parentNode)&&k.removeChild(this)})},ca.ease=function(u){var k=this.id,U=this.namespace;return arguments.length<1?this.node()[U][k].ease:("function"!=typeof u&&(u=v.ease.apply(v,arguments)),At(this,function(re){re[U][k].ease=u}))},ca.delay=function(u){var k=this.id,U=this.namespace;return arguments.length<1?this.node()[U][k].delay:At(this,"function"==typeof u?function(re,ce,he){re[U][k].delay=+u.call(re,re.__data__,ce,he)}:(u=+u,function(re){re[U][k].delay=u}))},ca.duration=function(u){var k=this.id,U=this.namespace;return arguments.length<1?this.node()[U][k].duration:At(this,"function"==typeof u?function(re,ce,he){re[U][k].duration=Math.max(1,u.call(re,re.__data__,ce,he))}:(u=Math.max(1,u),function(re){re[U][k].duration=u}))},ca.each=function(u,k){var U=this.id,re=this.namespace;if(arguments.length<2){var ce=$2,he=G2;try{G2=U,At(this,function(Ie,Ae,Fe){$2=Ie[re][U],u.call(Ie,Ie.__data__,Ae,Fe)})}finally{$2=ce,G2=he}}else At(this,function(Ie){var Ae=Ie[re][U];(Ae.event||(Ae.event=v.dispatch("start","end","interrupt"))).on(u,k)});return this},ca.transition=function(){for(var ce,Ie,Ae,u=this.id,k=++Jo,U=this.namespace,re=[],Fe=0,et=this.length;Fe<et;Fe++){re.push(ce=[]);for(var he,nt=0,Mt=(he=this[Fe]).length;nt<Mt;nt++)(Ie=he[nt])&&bo(Ie,nt,U,k,{time:(Ae=Ie[U][u]).time,ease:Ae.ease,delay:Ae.delay+Ae.duration,duration:Ae.duration}),ce.push(Ie)}return Cl(re,U,k)},v.svg.axis=function(){var Ae,u=v.scale.linear(),k=m4,U=6,re=6,ce=3,he=[10],Ie=null;function Fe(et){et.each(function(){var Wt,nt=v.select(this),Mt=this.__chart__||u,xt=this.__chart__=u.copy(),Gt=Ie??(xt.ticks?xt.ticks.apply(xt,he):xt.domain()),It=Ae??(xt.tickFormat?xt.tickFormat.apply(xt,he):G),vt=nt.selectAll(".tick").data(Gt,xt),Vt=vt.enter().insert("g",".domain").attr("class","tick").style("opacity",Re),Ft=v.transition(vt.exit()).style("opacity",Re).remove(),Pt=v.transition(vt.order()).style("opacity",1),qt=Math.max(U,0)+ce,Hn=pl(xt),Qn=nt.selectAll(".domain").data([0]),ir=(Qn.enter().append("path").attr("class","domain"),v.transition(Qn));Vt.append("line"),Vt.append("text");var li,_i,ui,Kn,jn=Vt.select("line"),ar=Pt.select("line"),lr=vt.select("text").text(It),Lr=Vt.select("text"),cr=Pt.select("text"),wr="top"===k||"left"===k?-1:1;if("bottom"===k||"top"===k?(Wt=R0,li="x",ui="y",_i="x2",Kn="y2",lr.attr("dy",wr<0?"0em":".71em").style("text-anchor","middle"),ir.attr("d","M"+Hn[0]+","+wr*re+"V0H"+Hn[1]+"V"+wr*re)):(Wt=m3,li="y",ui="x",_i="y2",Kn="x2",lr.attr("dy",".32em").style("text-anchor",wr<0?"end":"start"),ir.attr("d","M"+wr*re+","+Hn[0]+"H0V"+Hn[1]+"H"+wr*re)),jn.attr(Kn,wr*U),Lr.attr(ui,wr*qt),ar.attr(_i,0).attr(Kn,wr*U),cr.attr(li,0).attr(ui,wr*qt),xt.rangeBand){var zr=xt,Tr=zr.rangeBand()/2;Mt=xt=function(mi){return zr(mi)+Tr}}else Mt.rangeBand?Mt=xt:Ft.call(Wt,xt,Mt);Vt.call(Wt,Mt,xt),Pt.call(Wt,xt,xt)})}return Fe.scale=function(et){return arguments.length?(u=et,Fe):u},Fe.orient=function(et){return arguments.length?(k=et in y2?et+"":m4,Fe):k},Fe.ticks=function(){return arguments.length?(he=f(arguments),Fe):he},Fe.tickValues=function(et){return arguments.length?(Ie=et,Fe):Ie},Fe.tickFormat=function(et){return arguments.length?(Ae=et,Fe):Ae},Fe.tickSize=function(et){var nt=arguments.length;return nt?(U=+et,re=+arguments[nt-1],Fe):U},Fe.innerTickSize=function(et){return arguments.length?(U=+et,Fe):U},Fe.outerTickSize=function(et){return arguments.length?(re=+et,Fe):re},Fe.tickPadding=function(et){return arguments.length?(ce=+et,Fe):ce},Fe.tickSubdivide=function(){return arguments.length&&Fe},Fe};var m4="bottom",y2={top:1,right:1,bottom:1,left:1};function R0(u,k,U){u.attr("transform",function(re){var ce=k(re);return"translate("+(isFinite(ce)?ce:U(re))+",0)"})}function m3(u,k,U){u.attr("transform",function(re){var ce=k(re);return"translate(0,"+(isFinite(ce)?ce:U(re))+")"})}v.svg.brush=function(){var he,Ie,u=Me(nt,"brushstart","brush","brushend"),k=null,U=null,re=[0,0],ce=[0,0],Ae=!0,Fe=!0,et=y4[0];function nt(vt){vt.each(function(){var Vt=v.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",It).on("touchstart.brush",It),Ft=Vt.selectAll(".background").data([0]);Ft.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Vt.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Pt=Vt.selectAll(".resize").data(et,G);Pt.exit().remove(),Pt.enter().append("g").attr("class",function(Qn){return"resize "+Qn}).style("cursor",function(Qn){return g4[Qn]}).append("rect").attr("x",function(Qn){return/[ew]$/.test(Qn)?-3:null}).attr("y",function(Qn){return/^[ns]/.test(Qn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),Pt.style("display",nt.empty()?"none":null);var Hn,qt=v.transition(Vt),Wt=v.transition(Ft);k&&(Hn=pl(k),Wt.attr("x",Hn[0]).attr("width",Hn[1]-Hn[0]),xt(qt)),U&&(Hn=pl(U),Wt.attr("y",Hn[0]).attr("height",Hn[1]-Hn[0]),Gt(qt)),Mt(qt)})}function Mt(vt){vt.selectAll(".resize").attr("transform",function(Vt){return"translate("+re[+/e$/.test(Vt)]+","+ce[+/^s/.test(Vt)]+")"})}function xt(vt){vt.select(".extent").attr("x",re[0]),vt.selectAll(".extent,.n>rect,.s>rect").attr("width",re[1]-re[0])}function Gt(vt){vt.select(".extent").attr("y",ce[0]),vt.selectAll(".extent,.e>rect,.w>rect").attr("height",ce[1]-ce[0])}function It(){var jn,lr,vt=this,Vt=v.select(v.event.target),Ft=u.of(vt,arguments),Pt=v.select(vt),qt=Vt.datum(),Wt=!/^(n|s)$/.test(qt)&&k,Hn=!/^(e|w)$/.test(qt)&&U,Qn=Vt.classed("extent"),ir=rn(vt),ar=v.mouse(vt),Lr=v.select(h(vt)).on("keydown.brush",function li(){32==v.event.keyCode&&(Qn||(jn=null,ar[0]-=re[1],ar[1]-=ce[1],Qn=2),ke())}).on("keyup.brush",function _i(){32==v.event.keyCode&&2==Qn&&(ar[0]+=re[1],ar[1]+=ce[1],Qn=0,ke())});if(v.event.changedTouches?Lr.on("touchmove.brush",ui).on("touchend.brush",zr):Lr.on("mousemove.brush",ui).on("mouseup.brush",zr),Pt.interrupt().selectAll("*").interrupt(),Qn)ar[0]=re[0]-ar[0],ar[1]=ce[0]-ar[1];else if(qt){var cr=+/w$/.test(qt),wr=+/^n/.test(qt);lr=[re[1-cr]-ar[0],ce[1-wr]-ar[1]],ar[0]=re[cr],ar[1]=ce[wr]}else v.event.altKey&&(jn=ar.slice());function ui(){var Tr=v.mouse(vt),mi=!1;lr&&(Tr[0]+=lr[0],Tr[1]+=lr[1]),Qn||(v.event.altKey?(jn||(jn=[(re[0]+re[1])/2,(ce[0]+ce[1])/2]),ar[0]=re[+(Tr[0]<jn[0])],ar[1]=ce[+(Tr[1]<jn[1])]):jn=null),Wt&&Kn(Tr,k,0)&&(xt(Pt),mi=!0),Hn&&Kn(Tr,U,1)&&(Gt(Pt),mi=!0),mi&&(Mt(Pt),Ft({type:"brush",mode:Qn?"move":"resize"}))}function Kn(Tr,mi,Ti){var Ha,Bs,Aa=pl(mi),pn=Aa[0],Qa=Aa[1],Bn=ar[Ti],Ja=Ti?ce:re,ba=Ja[1]-Ja[0];if(Qn&&(pn-=Bn,Qa-=ba+Bn),Ha=(Ti?Fe:Ae)?Math.max(pn,Math.min(Qa,Tr[Ti])):Tr[Ti],Qn?Bs=(Ha+=Bn)+ba:(jn&&(Bn=Math.max(pn,Math.min(Qa,2*jn[Ti]-Ha))),Bn<Ha?(Bs=Ha,Ha=Bn):Bs=Bn),Ja[0]!=Ha||Ja[1]!=Bs)return Ti?Ie=null:he=null,Ja[0]=Ha,Ja[1]=Bs,!0}function zr(){ui(),Pt.style("pointer-events","all").selectAll(".resize").style("display",nt.empty()?"none":null),v.select("body").style("cursor",null),Lr.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),ir(),Ft({type:"brushend"})}Pt.style("pointer-events","none").selectAll(".resize").style("display",null),v.select("body").style("cursor",Vt.style("cursor")),Ft({type:"brushstart"}),ui()}return nt.event=function(vt){vt.each(function(){var Vt=u.of(this,arguments),Ft={x:re,y:ce,i:he,j:Ie},Pt=this.__chart__||Ft;this.__chart__=Ft,G2?v.select(this).transition().each("start.brush",function(){he=Pt.i,Ie=Pt.j,re=Pt.x,ce=Pt.y,Vt({type:"brushstart"})}).tween("brush:brush",function(){var qt=f2(re,Ft.x),Wt=f2(ce,Ft.y);return he=Ie=null,function(Hn){re=Ft.x=qt(Hn),ce=Ft.y=Wt(Hn),Vt({type:"brush",mode:"resize"})}}).each("end.brush",function(){he=Ft.i,Ie=Ft.j,Vt({type:"brush",mode:"resize"}),Vt({type:"brushend"})}):(Vt({type:"brushstart"}),Vt({type:"brush",mode:"resize"}),Vt({type:"brushend"}))})},nt.x=function(vt){return arguments.length?(et=y4[!(k=vt)<<1|!U],nt):k},nt.y=function(vt){return arguments.length?(et=y4[!k<<1|!(U=vt)],nt):U},nt.clamp=function(vt){return arguments.length?(k&&U?(Ae=!!vt[0],Fe=!!vt[1]):k?Ae=!!vt:U&&(Fe=!!vt),nt):k&&U?[Ae,Fe]:k?Ae:U?Fe:null},nt.extent=function(vt){var Vt,Ft,Pt,qt,Wt;return arguments.length?(k&&(Vt=vt[0],Ft=vt[1],U&&(Vt=Vt[0],Ft=Ft[0]),he=[Vt,Ft],k.invert&&(Vt=k(Vt),Ft=k(Ft)),Ft<Vt&&(Wt=Vt,Vt=Ft,Ft=Wt),(Vt!=re[0]||Ft!=re[1])&&(re=[Vt,Ft])),U&&(Pt=vt[0],qt=vt[1],k&&(Pt=Pt[1],qt=qt[1]),Ie=[Pt,qt],U.invert&&(Pt=U(Pt),qt=U(qt)),qt<Pt&&(Wt=Pt,Pt=qt,qt=Wt),(Pt!=ce[0]||qt!=ce[1])&&(ce=[Pt,qt])),nt):(k&&(he?(Vt=he[0],Ft=he[1]):(Vt=re[0],Ft=re[1],k.invert&&(Vt=k.invert(Vt),Ft=k.invert(Ft)),Ft<Vt&&(Wt=Vt,Vt=Ft,Ft=Wt))),U&&(Ie?(Pt=Ie[0],qt=Ie[1]):(Pt=ce[0],qt=ce[1],U.invert&&(Pt=U.invert(Pt),qt=U.invert(qt)),qt<Pt&&(Wt=Pt,Pt=qt,qt=Wt))),k&&U?[[Vt,Pt],[Ft,qt]]:k?[Vt,Ft]:U&&[Pt,qt])},nt.clear=function(){return nt.empty()||(re=[0,0],ce=[0,0],he=Ie=null),nt},nt.empty=function(){return!!k&&re[0]==re[1]||!!U&&ce[0]==ce[1]},v.rebind(nt,u,"on")};var g4={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},y4=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function Qu(u){return JSON.parse(u.responseText)}function F0(u){var k=y.createRange();return k.selectNode(y.body),k.createContextualFragment(u.responseText)}v.text=xn(function(u){return u.responseText}),v.json=function(u,k){return wn(u,"application/json",Qu,k)},v.html=function(u,k){return wn(u,"text/html",F0,k)},v.xml=xn(function(u){return u.responseXML}),void 0!==(T="function"==typeof(p=v)?p.call(K,o,K,ve):p)&&(ve.exports=T)}).apply(self)},3160:function(ve,K,o){"use strict";o.r(K),o.d(K,{decode:function(){return f},encode:function(){return g}});for(var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=typeof Uint8Array>"u"?[]:new Uint8Array(256),v=0;v<64;v++)T[p.charCodeAt(v)]=v;var g=function(y){var h,m=new Uint8Array(y),c=m.length,C="";for(h=0;h<c;h+=3)C+=p[m[h]>>2],C+=p[(3&m[h])<<4|m[h+1]>>4],C+=p[(15&m[h+1])<<2|m[h+2]>>6],C+=p[63&m[h+2]];return c%3==2?C=C.substring(0,C.length-1)+"=":c%3==1&&(C=C.substring(0,C.length-2)+"=="),C},f=function(y){var c,_,L,D,w,m=.75*y.length,h=y.length,C=0;"="===y[y.length-1]&&(m--,"="===y[y.length-2]&&m--);var z=new ArrayBuffer(m),S=new Uint8Array(z);for(c=0;c<h;c+=4)_=T[y.charCodeAt(c)],L=T[y.charCodeAt(c+1)],D=T[y.charCodeAt(c+2)],w=T[y.charCodeAt(c+3)],S[C++]=_<<2|L>>4,S[C++]=(15&L)<<4|D>>2,S[C++]=(3&D)<<6|63&w;return z}},7624:function(ve,K,o){"use strict";function T(V,Y){if(($=(V=Y?V.toExponential(Y-1):V.toExponential()).indexOf("e"))<0)return null;var $,Q=V.slice(0,$);return[Q.length>1?Q[0]+Q.slice(2):Q,+V.slice($+1)]}o.d(K,{E9:function(){return H},SO:function(){return E}});var C,y=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function m(V){if(!(Y=y.exec(V)))throw new Error("invalid format: "+V);var Y;return new h({fill:Y[1],align:Y[2],sign:Y[3],symbol:Y[4],zero:Y[5],width:Y[6],comma:Y[7],precision:Y[8]&&Y[8].slice(1),trim:Y[9],type:Y[10]})}function h(V){this.fill=void 0===V.fill?" ":V.fill+"",this.align=void 0===V.align?">":V.align+"",this.sign=void 0===V.sign?"-":V.sign+"",this.symbol=void 0===V.symbol?"":V.symbol+"",this.zero=!!V.zero,this.width=void 0===V.width?void 0:+V.width,this.comma=!!V.comma,this.precision=void 0===V.precision?void 0:+V.precision,this.trim=!!V.trim,this.type=void 0===V.type?"":V.type+""}function L(V,Y){var $=T(V,Y);if(!$)return V+"";var Q=$[0],se=$[1];return se<0?"0."+new Array(-se).join("0")+Q:Q.length>se+1?Q.slice(0,se+1)+"."+Q.slice(se+1):Q+new Array(se-Q.length+2).join("0")}m.prototype=h.prototype,h.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var D={"%":function(V,Y){return(100*V).toFixed(Y)},b:function(V){return Math.round(V).toString(2)},c:function(V){return V+""},d:function p(V){return Math.abs(V=Math.round(V))>=1e21?V.toLocaleString("en").replace(/,/g,""):V.toString(10)},e:function(V,Y){return V.toExponential(Y)},f:function(V,Y){return V.toFixed(Y)},g:function(V,Y){return V.toPrecision(Y)},o:function(V){return Math.round(V).toString(8)},p:function(V,Y){return L(100*V,Y)},r:L,s:function _(V,Y){var $=T(V,Y);if(!$)return V+"";var Q=$[0],se=$[1],F=se-(C=3*Math.max(-8,Math.min(8,Math.floor(se/3))))+1,J=Q.length;return F===J?Q:F>J?Q+new Array(F-J+1).join("0"):F>0?Q.slice(0,F)+"."+Q.slice(F):"0."+new Array(1-F).join("0")+T(V,Math.max(0,Y+F-1))[0]},X:function(V){return Math.round(V).toString(16).toUpperCase()},x:function(V){return Math.round(V).toString(16)}};function w(V){return V}var x,H,z=Array.prototype.map,S=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function E(V){var Y=void 0===V.grouping||void 0===V.thousands?w:function g(V,Y){return function($,Q){for(var se=$.length,F=[],J=0,W=V[0],te=0;se>0&&W>0&&(te+W+1>Q&&(W=Math.max(1,Q-te)),F.push($.substring(se-=W,se+W)),!((te+=W+1)>Q));)W=V[J=(J+1)%V.length];return F.reverse().join(Y)}}(z.call(V.grouping,Number),V.thousands+""),$=void 0===V.currency?"":V.currency[0]+"",Q=void 0===V.currency?"":V.currency[1]+"",se=void 0===V.decimal?".":V.decimal+"",F=void 0===V.numerals?w:function f(V){return function(Y){return Y.replace(/[0-9]/g,function($){return V[+$]})}}(z.call(V.numerals,String)),J=void 0===V.percent?"%":V.percent+"",W=void 0===V.minus?"-":V.minus+"",te=void 0===V.nan?"NaN":V.nan+"";function fe(Z){var G=(Z=m(Z)).fill,q=Z.align,ie=Z.sign,ue=Z.symbol,le=Z.zero,pe=Z.width,He=Z.comma,ke=Z.precision,Ue=Z.trim,Me=Z.type;"n"===Me?(He=!0,Me="g"):D[Me]||(void 0===ke&&(ke=12),Ue=!0,Me="g"),(le||"0"===G&&"="===q)&&(le=!0,G="0",q="=");var we="$"===ue?$:"#"===ue&&/[boxX]/.test(Me)?"0"+Me.toLowerCase():"",Le="$"===ue?Q:/[%p]/.test(Me)?J:"",B=D[Me],P=/[defgprs%]/.test(Me);function X(j){var O,ne,be,I=we,ae=Le;if("c"===Me)ae=B(j)+ae,j="";else{var ze=(j=+j)<0||1/j<0;if(j=isNaN(j)?te:B(Math.abs(j),ke),Ue&&(j=function c(V){e:for(var se,Y=V.length,$=1,Q=-1;$<Y;++$)switch(V[$]){case".":Q=se=$;break;case"0":0===Q&&(Q=$),se=$;break;default:if(!+V[$])break e;Q>0&&(Q=0)}return Q>0?V.slice(0,Q)+V.slice(se+1):V}(j)),ze&&0==+j&&"+"!==ie&&(ze=!1),I=(ze?"("===ie?ie:W:"-"===ie||"("===ie?"":ie)+I,ae=("s"===Me?S[8+C/3]:"")+ae+(ze&&"("===ie?")":""),P)for(O=-1,ne=j.length;++O<ne;)if(48>(be=j.charCodeAt(O))||be>57){ae=(46===be?se+j.slice(O+1):j.slice(O))+ae,j=j.slice(0,O);break}}He&&!le&&(j=Y(j,1/0));var Ne=I.length+j.length+ae.length,Oe=Ne<pe?new Array(pe-Ne+1).join(G):"";switch(He&&le&&(j=Y(Oe+j,Oe.length?pe-ae.length:1/0),Oe=""),q){case"<":j=I+j+ae+Oe;break;case"=":j=I+Oe+j+ae;break;case"^":j=Oe.slice(0,Ne=Oe.length>>1)+I+j+ae+Oe.slice(Ne);break;default:j=Oe+I+j+ae}return F(j)}return ke=void 0===ke?6:/[gprs]/.test(Me)?Math.max(1,Math.min(21,ke)):Math.max(0,Math.min(20,ke)),X.toString=function(){return Z+""},X}return{format:fe,formatPrefix:function me(Z,G){var q=fe(((Z=m(Z)).type="f",Z)),ie=3*Math.max(-8,Math.min(8,Math.floor(function v(V){return(V=T(Math.abs(V)))?V[1]:NaN}(G)/3))),ue=Math.pow(10,-ie),le=S[8+ie/3];return function(pe){return q(ue*pe)+le}}}}!function N(V){return x=E(V),H=x.format,x}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"})},4336:function(ve,K,o){"use strict";o.d(K,{Yn:function(){return dn},m_:function(){return C},E9:function(){return Ke}});var p=o(8208),T=o(8931),v=o(6192),g=o(8936),f=o(2171),y=o(3528);function m(Re){if(0<=Re.y&&Re.y<100){var it=new Date(-1,Re.m,Re.d,Re.H,Re.M,Re.S,Re.L);return it.setFullYear(Re.y),it}return new Date(Re.y,Re.m,Re.d,Re.H,Re.M,Re.S,Re.L)}function h(Re){if(0<=Re.y&&Re.y<100){var it=new Date(Date.UTC(-1,Re.m,Re.d,Re.H,Re.M,Re.S,Re.L));return it.setUTCFullYear(Re.y),it}return new Date(Date.UTC(Re.y,Re.m,Re.d,Re.H,Re.M,Re.S,Re.L))}function c(Re,it,ye){return{y:Re,m:it,d:ye,H:0,M:0,S:0,L:0}}function C(Re){var it=Re.dateTime,ye=Re.date,De=Re.time,$e=Re.periods,je=Re.days,Ye=Re.shortDays,at=Re.months,Rt=Re.shortMonths,tt=E($e),yt=x($e),ct=E(je),Et=x(je),hn=E(Ye),Tn=x(Ye),Rn=E(at),Gn=x(at),Yn=E(Rt),Kt=x(Rt),Wn={a:function lt(Nt){return Ye[Nt.getDay()]},A:function ot(Nt){return je[Nt.getDay()]},b:function pt(Nt){return Rt[Nt.getMonth()]},B:function mt(Nt){return at[Nt.getMonth()]},c:null,d:pe,e:pe,f:we,H:He,I:ke,j:Ue,L:Me,m:Le,M:B,p:function Tt(Nt){return $e[+(Nt.getHours()>=12)]},q:function ht(Nt){return 1+~~(Nt.getMonth()/3)},Q:gt,s:Yt,S:P,u:X,U:j,V:I,w:ae,W:O,x:null,X:null,y:ne,Y:be,Z:ze,"%":Xt},kn={a:function ut(Nt){return Ye[Nt.getUTCDay()]},A:function Ht(Nt){return je[Nt.getUTCDay()]},b:function _t(Nt){return Rt[Nt.getUTCMonth()]},B:function jt(Nt){return at[Nt.getUTCMonth()]},c:null,d:Ne,e:Ne,f:Pe,H:Oe,I:Be,j:Te,L:Ve,m:Je,M:Xe,p:function an(Nt){return $e[+(Nt.getUTCHours()>=12)]},q:function vn(Nt){return 1+~~(Nt.getUTCMonth()/3)},Q:gt,s:Yt,S:Ge,u:st,U:wt,V:kt,w:At,W:Qt,x:null,X:null,y:nn,Y:Ut,Z:Lt,"%":Xt},Vn={a:function An(Nt,un,sn){var Jt=hn.exec(un.slice(sn));return Jt?(Nt.w=Tn[Jt[0].toLowerCase()],sn+Jt[0].length):-1},A:function $n(Nt,un,sn){var Jt=ct.exec(un.slice(sn));return Jt?(Nt.w=Et[Jt[0].toLowerCase()],sn+Jt[0].length):-1},b:function dr(Nt,un,sn){var Jt=Yn.exec(un.slice(sn));return Jt?(Nt.m=Kt[Jt[0].toLowerCase()],sn+Jt[0].length):-1},B:function vr(Nt,un,sn){var Jt=Rn.exec(un.slice(sn));return Jt?(Nt.m=Gn[Jt[0].toLowerCase()],sn+Jt[0].length):-1},c:function Fn(Nt,un,sn){return Zt(Nt,it,un,sn)},d:W,e:W,f:q,H:fe,I:fe,j:te,L:G,m:J,M:me,p:function Nn(Nt,un,sn){var Jt=tt.exec(un.slice(sn));return Jt?(Nt.p=yt[Jt[0].toLowerCase()],sn+Jt[0].length):-1},q:F,Q:ue,s:le,S:Z,u:b,U:N,V,w:H,W:Y,x:function ge(Nt,un,sn){return Zt(Nt,ye,un,sn)},X:function de(Nt,un,sn){return Zt(Nt,De,un,sn)},y:Q,Y:$,Z:se,"%":ie};function Zn(Nt,un){return function(sn){var xn,wn,Xn,Jt=[],Mn=-1,zn=0,Pn=Nt.length;for(sn instanceof Date||(sn=new Date(+sn));++Mn<Pn;)37===Nt.charCodeAt(Mn)&&(Jt.push(Nt.slice(zn,Mn)),null!=(wn=_[xn=Nt.charAt(++Mn)])?xn=Nt.charAt(++Mn):wn="e"===xn?" ":"0",(Xn=un[xn])&&(xn=Xn(sn,wn)),Jt.push(xn),zn=Mn+1);return Jt.push(Nt.slice(zn,Mn)),Jt.join("")}}function bn(Nt,un){return function(sn){var zn,Pn,Jt=c(1900,void 0,1);if(Zt(Jt,Nt,sn+="",0)!=sn.length)return null;if("Q"in Jt)return new Date(Jt.Q);if("s"in Jt)return new Date(1e3*Jt.s+("L"in Jt?Jt.L:0));if(un&&!("Z"in Jt)&&(Jt.Z=0),"p"in Jt&&(Jt.H=Jt.H%12+12*Jt.p),void 0===Jt.m&&(Jt.m="q"in Jt?Jt.q:0),"V"in Jt){if(Jt.V<1||Jt.V>53)return null;"w"in Jt||(Jt.w=1),"Z"in Jt?(Pn=(zn=h(c(Jt.y,0,1))).getUTCDay(),zn=Pn>4||0===Pn?p.ot.ceil(zn):(0,p.ot)(zn),zn=T.c.offset(zn,7*(Jt.V-1)),Jt.y=zn.getUTCFullYear(),Jt.m=zn.getUTCMonth(),Jt.d=zn.getUTCDate()+(Jt.w+6)%7):(Pn=(zn=m(c(Jt.y,0,1))).getDay(),zn=Pn>4||0===Pn?v.qT.ceil(zn):(0,v.qT)(zn),zn=g.c.offset(zn,7*(Jt.V-1)),Jt.y=zn.getFullYear(),Jt.m=zn.getMonth(),Jt.d=zn.getDate()+(Jt.w+6)%7)}else("W"in Jt||"U"in Jt)&&("w"in Jt||(Jt.w="u"in Jt?Jt.u%7:"W"in Jt?1:0),Pn="Z"in Jt?h(c(Jt.y,0,1)).getUTCDay():m(c(Jt.y,0,1)).getDay(),Jt.m=0,Jt.d="W"in Jt?(Jt.w+6)%7+7*Jt.W-(Pn+5)%7:Jt.w+7*Jt.U-(Pn+6)%7);return"Z"in Jt?(Jt.H+=Jt.Z/100|0,Jt.M+=Jt.Z%100,h(Jt)):m(Jt)}}function Zt(Nt,un,sn,Jt){for(var xn,wn,Mn=0,zn=un.length,Pn=sn.length;Mn<zn;){if(Jt>=Pn)return-1;if(37===(xn=un.charCodeAt(Mn++))){if(xn=un.charAt(Mn++),!(wn=Vn[xn in _?un.charAt(Mn++):xn])||(Jt=wn(Nt,sn,Jt))<0)return-1}else if(xn!=sn.charCodeAt(Jt++))return-1}return Jt}return Wn.x=Zn(ye,Wn),Wn.X=Zn(De,Wn),Wn.c=Zn(it,Wn),kn.x=Zn(ye,kn),kn.X=Zn(De,kn),kn.c=Zn(it,kn),{format:function(Nt){var un=Zn(Nt+="",Wn);return un.toString=function(){return Nt},un},parse:function(Nt){var un=bn(Nt+="",!1);return un.toString=function(){return Nt},un},utcFormat:function(Nt){var un=Zn(Nt+="",kn);return un.toString=function(){return Nt},un},utcParse:function(Nt){var un=bn(Nt+="",!0);return un.toString=function(){return Nt},un}}}var tn,dn,Ke,_={"-":"",_:" ",0:"0"},L=/^\s*\d+/,D=/^%/,w=/[\\^$*+?|[\]().{}]/g;function z(Re,it,ye){var De=Re<0?"-":"",$e=(De?-Re:Re)+"",je=$e.length;return De+(je<ye?new Array(ye-je+1).join(it)+$e:$e)}function S(Re){return Re.replace(w,"\\$&")}function E(Re){return new RegExp("^(?:"+Re.map(S).join("|")+")","i")}function x(Re){for(var it={},ye=-1,De=Re.length;++ye<De;)it[Re[ye].toLowerCase()]=ye;return it}function H(Re,it,ye){var De=L.exec(it.slice(ye,ye+1));return De?(Re.w=+De[0],ye+De[0].length):-1}function b(Re,it,ye){var De=L.exec(it.slice(ye,ye+1));return De?(Re.u=+De[0],ye+De[0].length):-1}function N(Re,it,ye){var De=L.exec(it.slice(ye,ye+2));return De?(Re.U=+De[0],ye+De[0].length):-1}function V(Re,it,ye){var De=L.exec(it.slice(ye,ye+2));return De?(Re.V=+De[0],ye+De[0].length):-1}function Y(Re,it,ye){var De=L.exec(it.slice(ye,ye+2));return De?(Re.W=+De[0],ye+De[0].length):-1}function $(Re,it,ye){var De=L.exec(it.slice(ye,ye+4));return De?(Re.y=+De[0],ye+De[0].length):-1}function Q(Re,it,ye){var De=L.exec(it.slice(ye,ye+2));return De?(Re.y=+De[0]+(+De[0]>68?1900:2e3),ye+De[0].length):-1}function se(Re,it,ye){var De=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(it.slice(ye,ye+6));return De?(Re.Z=De[1]?0:-(De[2]+(De[3]||"00")),ye+De[0].length):-1}function F(Re,it,ye){var De=L.exec(it.slice(ye,ye+1));return De?(Re.q=3*De[0]-3,ye+De[0].length):-1}function J(Re,it,ye){var De=L.exec(it.slice(ye,ye+2));return De?(Re.m=De[0]-1,ye+De[0].length):-1}function W(Re,it,ye){var De=L.exec(it.slice(ye,ye+2));return De?(Re.d=+De[0],ye+De[0].length):-1}function te(Re,it,ye){var De=L.exec(it.slice(ye,ye+3));return De?(Re.m=0,Re.d=+De[0],ye+De[0].length):-1}function fe(Re,it,ye){var De=L.exec(it.slice(ye,ye+2));return De?(Re.H=+De[0],ye+De[0].length):-1}function me(Re,it,ye){var De=L.exec(it.slice(ye,ye+2));return De?(Re.M=+De[0],ye+De[0].length):-1}function Z(Re,it,ye){var De=L.exec(it.slice(ye,ye+2));return De?(Re.S=+De[0],ye+De[0].length):-1}function G(Re,it,ye){var De=L.exec(it.slice(ye,ye+3));return De?(Re.L=+De[0],ye+De[0].length):-1}function q(Re,it,ye){var De=L.exec(it.slice(ye,ye+6));return De?(Re.L=Math.floor(De[0]/1e3),ye+De[0].length):-1}function ie(Re,it,ye){var De=D.exec(it.slice(ye,ye+1));return De?ye+De[0].length:-1}function ue(Re,it,ye){var De=L.exec(it.slice(ye));return De?(Re.Q=+De[0],ye+De[0].length):-1}function le(Re,it,ye){var De=L.exec(it.slice(ye));return De?(Re.s=+De[0],ye+De[0].length):-1}function pe(Re,it){return z(Re.getDate(),it,2)}function He(Re,it){return z(Re.getHours(),it,2)}function ke(Re,it){return z(Re.getHours()%12||12,it,2)}function Ue(Re,it){return z(1+g.c.count((0,f.c)(Re),Re),it,3)}function Me(Re,it){return z(Re.getMilliseconds(),it,3)}function we(Re,it){return Me(Re,it)+"000"}function Le(Re,it){return z(Re.getMonth()+1,it,2)}function B(Re,it){return z(Re.getMinutes(),it,2)}function P(Re,it){return z(Re.getSeconds(),it,2)}function X(Re){var it=Re.getDay();return 0===it?7:it}function j(Re,it){return z(v.uU.count((0,f.c)(Re)-1,Re),it,2)}function I(Re,it){var ye=Re.getDay();return Re=ye>=4||0===ye?(0,v.kD)(Re):v.kD.ceil(Re),z(v.kD.count((0,f.c)(Re),Re)+(4===(0,f.c)(Re).getDay()),it,2)}function ae(Re){return Re.getDay()}function O(Re,it){return z(v.qT.count((0,f.c)(Re)-1,Re),it,2)}function ne(Re,it){return z(Re.getFullYear()%100,it,2)}function be(Re,it){return z(Re.getFullYear()%1e4,it,4)}function ze(Re){var it=Re.getTimezoneOffset();return(it>0?"-":(it*=-1,"+"))+z(it/60|0,"0",2)+z(it%60,"0",2)}function Ne(Re,it){return z(Re.getUTCDate(),it,2)}function Oe(Re,it){return z(Re.getUTCHours(),it,2)}function Be(Re,it){return z(Re.getUTCHours()%12||12,it,2)}function Te(Re,it){return z(1+T.c.count((0,y.c)(Re),Re),it,3)}function Ve(Re,it){return z(Re.getUTCMilliseconds(),it,3)}function Pe(Re,it){return Ve(Re,it)+"000"}function Je(Re,it){return z(Re.getUTCMonth()+1,it,2)}function Xe(Re,it){return z(Re.getUTCMinutes(),it,2)}function Ge(Re,it){return z(Re.getUTCSeconds(),it,2)}function st(Re){var it=Re.getUTCDay();return 0===it?7:it}function wt(Re,it){return z(p.EV.count((0,y.c)(Re)-1,Re),it,2)}function kt(Re,it){var ye=Re.getUTCDay();return Re=ye>=4||0===ye?(0,p.yA)(Re):p.yA.ceil(Re),z(p.yA.count((0,y.c)(Re),Re)+(4===(0,y.c)(Re).getUTCDay()),it,2)}function At(Re){return Re.getUTCDay()}function Qt(Re,it){return z(p.ot.count((0,y.c)(Re)-1,Re),it,2)}function nn(Re,it){return z(Re.getUTCFullYear()%100,it,2)}function Ut(Re,it){return z(Re.getUTCFullYear()%1e4,it,4)}function Lt(){return"+0000"}function Xt(){return"%"}function gt(Re){return+Re}function Yt(Re){return Math.floor(+Re/1e3)}!function dt(Re){return tn=C(Re),dn=tn.format,Ke=tn.utcFormat,tn}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})},8936:function(ve,K,o){"use strict";o.d(K,{m:function(){return g}});var p=o(1628),T=o(9792),v=(0,p.c)(function(f){f.setHours(0,0,0,0)},function(f,y){f.setDate(f.getDate()+y)},function(f,y){return(y-f-(y.getTimezoneOffset()-f.getTimezoneOffset())*T.iy)/T.SK},function(f){return f.getDate()-1});K.c=v;var g=v.range},9792:function(ve,K,o){"use strict";o.d(K,{KK:function(){return f},SK:function(){return g},cg:function(){return v},iy:function(){return T},yc:function(){return p}});var p=1e3,T=6e4,v=36e5,g=864e5,f=6048e5},3220:function(ve,K,o){"use strict";o.r(K),o.d(K,{timeDay:function(){return z.c},timeDays:function(){return z.m},timeFriday:function(){return S.iB},timeFridays:function(){return S.sJ},timeHour:function(){return D},timeHours:function(){return w},timeInterval:function(){return p.c},timeMillisecond:function(){return v},timeMilliseconds:function(){return g},timeMinute:function(){return C},timeMinutes:function(){return _},timeMonday:function(){return S.qT},timeMondays:function(){return S.QP},timeMonth:function(){return x},timeMonths:function(){return H},timeSaturday:function(){return S.Wc},timeSaturdays:function(){return S.aI},timeSecond:function(){return m},timeSeconds:function(){return h},timeSunday:function(){return S.uU},timeSundays:function(){return S.Ab},timeThursday:function(){return S.kD},timeThursdays:function(){return S.eC},timeTuesday:function(){return S.Mf},timeTuesdays:function(){return S.Oc},timeWednesday:function(){return S.eg},timeWednesdays:function(){return S.sn},timeWeek:function(){return S.uU},timeWeeks:function(){return S.Ab},timeYear:function(){return b.c},timeYears:function(){return b.Q},utcDay:function(){return F.c},utcDays:function(){return F.o},utcFriday:function(){return J.od},utcFridays:function(){return J.iG},utcHour:function(){return Q},utcHours:function(){return se},utcMillisecond:function(){return v},utcMilliseconds:function(){return g},utcMinute:function(){return V},utcMinutes:function(){return Y},utcMonday:function(){return J.ot},utcMondays:function(){return J.iO},utcMonth:function(){return te},utcMonths:function(){return fe},utcSaturday:function(){return J.Ad},utcSaturdays:function(){return J.K8},utcSecond:function(){return m},utcSeconds:function(){return h},utcSunday:function(){return J.EV},utcSundays:function(){return J.Wq},utcThursday:function(){return J.yA},utcThursdays:function(){return J.ob},utcTuesday:function(){return J.sG},utcTuesdays:function(){return J.kl},utcWednesday:function(){return J._6},utcWednesdays:function(){return J.W_},utcWeek:function(){return J.EV},utcWeeks:function(){return J.Wq},utcYear:function(){return me.c},utcYears:function(){return me.i}});var p=o(1628),T=(0,p.c)(function(){},function(Z,G){Z.setTime(+Z+G)},function(Z,G){return G-Z});T.every=function(Z){return Z=Math.floor(Z),isFinite(Z)&&Z>0?Z>1?(0,p.c)(function(G){G.setTime(Math.floor(G/Z)*Z)},function(G,q){G.setTime(+G+q*Z)},function(G,q){return(q-G)/Z}):T:null};var v=T,g=T.range,f=o(9792),y=(0,p.c)(function(Z){Z.setTime(Z-Z.getMilliseconds())},function(Z,G){Z.setTime(+Z+G*f.yc)},function(Z,G){return(G-Z)/f.yc},function(Z){return Z.getUTCSeconds()}),m=y,h=y.range,c=(0,p.c)(function(Z){Z.setTime(Z-Z.getMilliseconds()-Z.getSeconds()*f.yc)},function(Z,G){Z.setTime(+Z+G*f.iy)},function(Z,G){return(G-Z)/f.iy},function(Z){return Z.getMinutes()}),C=c,_=c.range,L=(0,p.c)(function(Z){Z.setTime(Z-Z.getMilliseconds()-Z.getSeconds()*f.yc-Z.getMinutes()*f.iy)},function(Z,G){Z.setTime(+Z+G*f.cg)},function(Z,G){return(G-Z)/f.cg},function(Z){return Z.getHours()}),D=L,w=L.range,z=o(8936),S=o(6192),E=(0,p.c)(function(Z){Z.setDate(1),Z.setHours(0,0,0,0)},function(Z,G){Z.setMonth(Z.getMonth()+G)},function(Z,G){return G.getMonth()-Z.getMonth()+12*(G.getFullYear()-Z.getFullYear())},function(Z){return Z.getMonth()}),x=E,H=E.range,b=o(2171),N=(0,p.c)(function(Z){Z.setUTCSeconds(0,0)},function(Z,G){Z.setTime(+Z+G*f.iy)},function(Z,G){return(G-Z)/f.iy},function(Z){return Z.getUTCMinutes()}),V=N,Y=N.range,$=(0,p.c)(function(Z){Z.setUTCMinutes(0,0,0)},function(Z,G){Z.setTime(+Z+G*f.cg)},function(Z,G){return(G-Z)/f.cg},function(Z){return Z.getUTCHours()}),Q=$,se=$.range,F=o(8931),J=o(8208),W=(0,p.c)(function(Z){Z.setUTCDate(1),Z.setUTCHours(0,0,0,0)},function(Z,G){Z.setUTCMonth(Z.getUTCMonth()+G)},function(Z,G){return G.getUTCMonth()-Z.getUTCMonth()+12*(G.getUTCFullYear()-Z.getUTCFullYear())},function(Z){return Z.getUTCMonth()}),te=W,fe=W.range,me=o(3528)},1628:function(ve,K,o){"use strict";o.d(K,{c:function(){return v}});var p=new Date,T=new Date;function v(g,f,y,m){function h(c){return g(c=0===arguments.length?new Date:new Date(+c)),c}return h.floor=function(c){return g(c=new Date(+c)),c},h.ceil=function(c){return g(c=new Date(c-1)),f(c,1),g(c),c},h.round=function(c){var C=h(c),_=h.ceil(c);return c-C<_-c?C:_},h.offset=function(c,C){return f(c=new Date(+c),null==C?1:Math.floor(C)),c},h.range=function(c,C,_){var D,L=[];if(c=h.ceil(c),_=null==_?1:Math.floor(_),!(c<C&&_>0))return L;do{L.push(D=new Date(+c)),f(c,_),g(c)}while(D<c&&c<C);return L},h.filter=function(c){return v(function(C){if(C>=C)for(;g(C),!c(C);)C.setTime(C-1)},function(C,_){if(C>=C)if(_<0)for(;++_<=0;)for(;f(C,-1),!c(C););else for(;--_>=0;)for(;f(C,1),!c(C););})},y&&(h.count=function(c,C){return p.setTime(+c),T.setTime(+C),g(p),g(T),Math.floor(y(p,T))},h.every=function(c){return c=Math.floor(c),isFinite(c)&&c>0?c>1?h.filter(m?function(C){return m(C)%c==0}:function(C){return h.count(0,C)%c==0}):h:null}),h}},8931:function(ve,K,o){"use strict";o.d(K,{o:function(){return g}});var p=o(1628),T=o(9792),v=(0,p.c)(function(f){f.setUTCHours(0,0,0,0)},function(f,y){f.setUTCDate(f.getUTCDate()+y)},function(f,y){return(y-f)/T.SK},function(f){return f.getUTCDate()-1});K.c=v;var g=v.range},8208:function(ve,K,o){"use strict";o.d(K,{Ad:function(){return C},EV:function(){return g},K8:function(){return E},W_:function(){return w},Wq:function(){return _},_6:function(){return m},iG:function(){return S},iO:function(){return L},kl:function(){return D},ob:function(){return z},od:function(){return c},ot:function(){return f},sG:function(){return y},yA:function(){return h}});var p=o(1628),T=o(9792);function v(x){return(0,p.c)(function(H){H.setUTCDate(H.getUTCDate()-(H.getUTCDay()+7-x)%7),H.setUTCHours(0,0,0,0)},function(H,b){H.setUTCDate(H.getUTCDate()+7*b)},function(H,b){return(b-H)/T.KK})}var g=v(0),f=v(1),y=v(2),m=v(3),h=v(4),c=v(5),C=v(6),_=g.range,L=f.range,D=y.range,w=m.range,z=h.range,S=c.range,E=C.range},3528:function(ve,K,o){"use strict";o.d(K,{i:function(){return v}});var p=o(1628),T=(0,p.c)(function(g){g.setUTCMonth(0,1),g.setUTCHours(0,0,0,0)},function(g,f){g.setUTCFullYear(g.getUTCFullYear()+f)},function(g,f){return f.getUTCFullYear()-g.getUTCFullYear()},function(g){return g.getUTCFullYear()});T.every=function(g){return isFinite(g=Math.floor(g))&&g>0?(0,p.c)(function(f){f.setUTCFullYear(Math.floor(f.getUTCFullYear()/g)*g),f.setUTCMonth(0,1),f.setUTCHours(0,0,0,0)},function(f,y){f.setUTCFullYear(f.getUTCFullYear()+y*g)}):null},K.c=T;var v=T.range},6192:function(ve,K,o){"use strict";o.d(K,{Ab:function(){return _},Mf:function(){return y},Oc:function(){return D},QP:function(){return L},Wc:function(){return C},aI:function(){return E},eC:function(){return z},eg:function(){return m},iB:function(){return c},kD:function(){return h},qT:function(){return f},sJ:function(){return S},sn:function(){return w},uU:function(){return g}});var p=o(1628),T=o(9792);function v(x){return(0,p.c)(function(H){H.setDate(H.getDate()-(H.getDay()+7-x)%7),H.setHours(0,0,0,0)},function(H,b){H.setDate(H.getDate()+7*b)},function(H,b){return(b-H-(b.getTimezoneOffset()-H.getTimezoneOffset())*T.iy)/T.KK})}var g=v(0),f=v(1),y=v(2),m=v(3),h=v(4),c=v(5),C=v(6),_=g.range,L=f.range,D=y.range,w=m.range,z=h.range,S=c.range,E=C.range},2171:function(ve,K,o){"use strict";o.d(K,{Q:function(){return v}});var p=o(1628),T=(0,p.c)(function(g){g.setMonth(0,1),g.setHours(0,0,0,0)},function(g,f){g.setFullYear(g.getFullYear()+f)},function(g,f){return f.getFullYear()-g.getFullYear()},function(g){return g.getFullYear()});T.every=function(g){return isFinite(g=Math.floor(g))&&g>0?(0,p.c)(function(f){f.setFullYear(Math.floor(f.getFullYear()/g)*g),f.setMonth(0,1),f.setHours(0,0,0,0)},function(f,y){f.setFullYear(f.getFullYear()+y*g)}):null},K.c=T;var v=T.range},1252:function(ve){"use strict";var p,K="object"==typeof Reflect?Reflect:null,o=K&&"function"==typeof K.apply?K.apply:function(b,N,V){return Function.prototype.apply.call(b,N,V)};p=K&&"function"==typeof K.ownKeys?K.ownKeys:Object.getOwnPropertySymbols?function(b){return Object.getOwnPropertyNames(b).concat(Object.getOwnPropertySymbols(b))}:function(b){return Object.getOwnPropertyNames(b)};var v=Number.isNaN||function(b){return b!=b};function g(){g.init.call(this)}ve.exports=g,ve.exports.once=function S(H,b){return new Promise(function(N,V){function Y(Q){H.removeListener(b,$),V(Q)}function $(){"function"==typeof H.removeListener&&H.removeListener("error",Y),N([].slice.call(arguments))}x(H,b,$,{once:!0}),"error"!==b&&function E(H,b,N){"function"==typeof H.on&&x(H,"error",b,N)}(H,Y,{once:!0})})},g.EventEmitter=g,g.prototype._events=void 0,g.prototype._eventsCount=0,g.prototype._maxListeners=void 0;var f=10;function y(H){if("function"!=typeof H)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof H)}function m(H){return void 0===H._maxListeners?g.defaultMaxListeners:H._maxListeners}function h(H,b,N,V){var Y,$,Q;if(y(N),void 0===($=H._events)?($=H._events=Object.create(null),H._eventsCount=0):(void 0!==$.newListener&&(H.emit("newListener",b,N.listener?N.listener:N),$=H._events),Q=$[b]),void 0===Q)Q=$[b]=N,++H._eventsCount;else if("function"==typeof Q?Q=$[b]=V?[N,Q]:[Q,N]:V?Q.unshift(N):Q.push(N),(Y=m(H))>0&&Q.length>Y&&!Q.warned){Q.warned=!0;var se=new Error("Possible EventEmitter memory leak detected. "+Q.length+" "+String(b)+" listeners added. Use emitter.setMaxListeners() to increase limit");se.name="MaxListenersExceededWarning",se.emitter=H,se.type=b,se.count=Q.length,function T(H){console&&console.warn&&console.warn(H)}(se)}return H}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function C(H,b,N){var V={fired:!1,wrapFn:void 0,target:H,type:b,listener:N},Y=c.bind(V);return Y.listener=N,V.wrapFn=Y,Y}function _(H,b,N){var V=H._events;if(void 0===V)return[];var Y=V[b];return void 0===Y?[]:"function"==typeof Y?N?[Y.listener||Y]:[Y]:N?function z(H){for(var b=new Array(H.length),N=0;N<b.length;++N)b[N]=H[N].listener||H[N];return b}(Y):D(Y,Y.length)}function L(H){var b=this._events;if(void 0!==b){var N=b[H];if("function"==typeof N)return 1;if(void 0!==N)return N.length}return 0}function D(H,b){for(var N=new Array(b),V=0;V<b;++V)N[V]=H[V];return N}function x(H,b,N,V){if("function"==typeof H.on)V.once?H.once(b,N):H.on(b,N);else{if("function"!=typeof H.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof H);H.addEventListener(b,function Y($){V.once&&H.removeEventListener(b,Y),N($)})}}Object.defineProperty(g,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function(H){if("number"!=typeof H||H<0||v(H))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+H+".");f=H}}),g.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},g.prototype.setMaxListeners=function(b){if("number"!=typeof b||b<0||v(b))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+b+".");return this._maxListeners=b,this},g.prototype.getMaxListeners=function(){return m(this)},g.prototype.emit=function(b){for(var N=[],V=1;V<arguments.length;V++)N.push(arguments[V]);var Y="error"===b,$=this._events;if(void 0!==$)Y=Y&&void 0===$.error;else if(!Y)return!1;if(Y){var Q;if(N.length>0&&(Q=N[0]),Q instanceof Error)throw Q;var se=new Error("Unhandled error."+(Q?" ("+Q.message+")":""));throw se.context=Q,se}var F=$[b];if(void 0===F)return!1;if("function"==typeof F)o(F,this,N);else{var J=F.length,W=D(F,J);for(V=0;V<J;++V)o(W[V],this,N)}return!0},g.prototype.on=g.prototype.addListener=function(b,N){return h(this,b,N,!1)},g.prototype.prependListener=function(b,N){return h(this,b,N,!0)},g.prototype.once=function(b,N){return y(N),this.on(b,C(this,b,N)),this},g.prototype.prependOnceListener=function(b,N){return y(N),this.prependListener(b,C(this,b,N)),this},g.prototype.off=g.prototype.removeListener=function(b,N){var V,Y,$,Q,se;if(y(N),void 0===(Y=this._events))return this;if(void 0===(V=Y[b]))return this;if(V===N||V.listener===N)0==--this._eventsCount?this._events=Object.create(null):(delete Y[b],Y.removeListener&&this.emit("removeListener",b,V.listener||N));else if("function"!=typeof V){for($=-1,Q=V.length-1;Q>=0;Q--)if(V[Q]===N||V[Q].listener===N){se=V[Q].listener,$=Q;break}if($<0)return this;0===$?V.shift():function w(H,b){for(;b+1<H.length;b++)H[b]=H[b+1];H.pop()}(V,$),1===V.length&&(Y[b]=V[0]),void 0!==Y.removeListener&&this.emit("removeListener",b,se||N)}return this},g.prototype.removeAllListeners=function(b){var N,V,Y;if(void 0===(V=this._events))return this;if(void 0===V.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==V[b]&&(0==--this._eventsCount?this._events=Object.create(null):delete V[b]),this;if(0===arguments.length){var Q,$=Object.keys(V);for(Y=0;Y<$.length;++Y)"removeListener"!==(Q=$[Y])&&this.removeAllListeners(Q);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(N=V[b]))this.removeListener(b,N);else if(void 0!==N)for(Y=N.length-1;Y>=0;Y--)this.removeListener(b,N[Y]);return this},g.prototype.listeners=function(b){return _(this,b,!0)},g.prototype.rawListeners=function(b){return _(this,b,!1)},g.listenerCount=function(H,b){return"function"==typeof H.listenerCount?H.listenerCount(b):L.call(H,b)},g.prototype.listenerCount=L,g.prototype.eventNames=function(){return this._eventsCount>0?p(this._events):[]}},8248:function(ve,K,o){"use strict";var p=o(4576);ve.exports=function(T){var v=typeof T;if("string"===v){var g=T;if(0==(T=+T)&&p(g))return!1}else if("number"!==v)return!1;return T-T<1}},2408:function(ve){ve.exports=function K(o,p){var T=p[0],v=p[1],g=p[2],f=p[3],y=p[4],m=p[5],h=p[6],c=p[7],C=p[8],_=p[9],L=p[10],D=p[11],w=p[12],z=p[13],S=p[14],E=p[15];return o[0]=m*(L*E-D*S)-_*(h*E-c*S)+z*(h*D-c*L),o[1]=-(v*(L*E-D*S)-_*(g*E-f*S)+z*(g*D-f*L)),o[2]=v*(h*E-c*S)-m*(g*E-f*S)+z*(g*c-f*h),o[3]=-(v*(h*D-c*L)-m*(g*D-f*L)+_*(g*c-f*h)),o[4]=-(y*(L*E-D*S)-C*(h*E-c*S)+w*(h*D-c*L)),o[5]=T*(L*E-D*S)-C*(g*E-f*S)+w*(g*D-f*L),o[6]=-(T*(h*E-c*S)-y*(g*E-f*S)+w*(g*c-f*h)),o[7]=T*(h*D-c*L)-y*(g*D-f*L)+C*(g*c-f*h),o[8]=y*(_*E-D*z)-C*(m*E-c*z)+w*(m*D-c*_),o[9]=-(T*(_*E-D*z)-C*(v*E-f*z)+w*(v*D-f*_)),o[10]=T*(m*E-c*z)-y*(v*E-f*z)+w*(v*c-f*m),o[11]=-(T*(m*D-c*_)-y*(v*D-f*_)+C*(v*c-f*m)),o[12]=-(y*(_*S-L*z)-C*(m*S-h*z)+w*(m*L-h*_)),o[13]=T*(_*S-L*z)-C*(v*S-g*z)+w*(v*L-g*_),o[14]=-(T*(m*S-h*z)-y*(v*S-g*z)+w*(v*h-g*m)),o[15]=T*(m*L-h*_)-y*(v*L-g*_)+C*(v*h-g*m),o}},6860:function(ve){ve.exports=function K(o){var p=new Float32Array(16);return p[0]=o[0],p[1]=o[1],p[2]=o[2],p[3]=o[3],p[4]=o[4],p[5]=o[5],p[6]=o[6],p[7]=o[7],p[8]=o[8],p[9]=o[9],p[10]=o[10],p[11]=o[11],p[12]=o[12],p[13]=o[13],p[14]=o[14],p[15]=o[15],p}},4492:function(ve){ve.exports=function K(o,p){return o[0]=p[0],o[1]=p[1],o[2]=p[2],o[3]=p[3],o[4]=p[4],o[5]=p[5],o[6]=p[6],o[7]=p[7],o[8]=p[8],o[9]=p[9],o[10]=p[10],o[11]=p[11],o[12]=p[12],o[13]=p[13],o[14]=p[14],o[15]=p[15],o}},4212:function(ve){ve.exports=function K(){var o=new Float32Array(16);return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},800:function(ve){ve.exports=function K(o){var p=o[0],T=o[1],v=o[2],g=o[3],f=o[4],y=o[5],m=o[6],h=o[7],c=o[8],C=o[9],_=o[10],L=o[11],D=o[12],w=o[13],z=o[14],S=o[15];return(p*y-T*f)*(_*S-L*z)-(p*m-v*f)*(C*S-L*w)+(p*h-g*f)*(C*z-_*w)+(T*m-v*y)*(c*S-L*D)-(T*h-g*y)*(c*z-_*D)+(v*h-g*m)*(c*w-C*D)}},1784:function(ve){ve.exports=function K(o,p){var T=p[0],v=p[1],g=p[2],f=p[3],y=T+T,m=v+v,h=g+g,c=T*y,C=v*y,_=v*m,L=g*y,D=g*m,w=g*h,z=f*y,S=f*m,E=f*h;return o[0]=1-_-w,o[1]=C+E,o[2]=L-S,o[3]=0,o[4]=C-E,o[5]=1-c-w,o[6]=D+z,o[7]=0,o[8]=L+S,o[9]=D-z,o[10]=1-c-_,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},1616:function(ve){ve.exports=function K(o,p,T){var v,g,f,y=T[0],m=T[1],h=T[2],c=Math.sqrt(y*y+m*m+h*h);return Math.abs(c)<1e-6?null:(y*=c=1/c,m*=c,h*=c,v=Math.sin(p),g=Math.cos(p),o[0]=y*y*(f=1-g)+g,o[1]=m*y*f+h*v,o[2]=h*y*f-m*v,o[3]=0,o[4]=y*m*f-h*v,o[5]=m*m*f+g,o[6]=h*m*f+y*v,o[7]=0,o[8]=y*h*f+m*v,o[9]=m*h*f-y*v,o[10]=h*h*f+g,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o)}},1944:function(ve){ve.exports=function K(o,p,T){var v=p[0],g=p[1],f=p[2],y=p[3],m=v+v,h=g+g,c=f+f,C=v*m,_=v*h,L=v*c,D=g*h,w=g*c,z=f*c,S=y*m,E=y*h,x=y*c;return o[0]=1-(D+z),o[1]=_+x,o[2]=L-E,o[3]=0,o[4]=_-x,o[5]=1-(C+z),o[6]=w+S,o[7]=0,o[8]=L+E,o[9]=w-S,o[10]=1-(C+D),o[11]=0,o[12]=T[0],o[13]=T[1],o[14]=T[2],o[15]=1,o}},9444:function(ve){ve.exports=function K(o,p){return o[0]=p[0],o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=p[1],o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=p[2],o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},8268:function(ve){ve.exports=function K(o,p){return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=p[0],o[13]=p[1],o[14]=p[2],o[15]=1,o}},1856:function(ve){ve.exports=function K(o,p){var T=Math.sin(p),v=Math.cos(p);return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=v,o[6]=T,o[7]=0,o[8]=0,o[9]=-T,o[10]=v,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},9216:function(ve){ve.exports=function K(o,p){var T=Math.sin(p),v=Math.cos(p);return o[0]=v,o[1]=0,o[2]=-T,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=T,o[9]=0,o[10]=v,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},7736:function(ve){ve.exports=function K(o,p){var T=Math.sin(p),v=Math.cos(p);return o[0]=v,o[1]=T,o[2]=0,o[3]=0,o[4]=-T,o[5]=v,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},8848:function(ve){ve.exports=function K(o,p,T,v,g,f,y){var m=1/(T-p),h=1/(g-v),c=1/(f-y);return o[0]=2*f*m,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2*f*h,o[6]=0,o[7]=0,o[8]=(T+p)*m,o[9]=(g+v)*h,o[10]=(y+f)*c,o[11]=-1,o[12]=0,o[13]=0,o[14]=y*f*2*c,o[15]=0,o}},6635:function(ve){ve.exports=function K(o){return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},6524:function(ve,K,o){ve.exports={create:o(4212),clone:o(6860),copy:o(4492),identity:o(6635),transpose:o(6520),invert:o(4308),adjoint:o(2408),determinant:o(800),multiply:o(944),translate:o(5176),scale:o(8152),rotate:o(16),rotateX:o(5456),rotateY:o(4840),rotateZ:o(4192),fromRotation:o(1616),fromRotationTranslation:o(1944),fromScaling:o(9444),fromTranslation:o(8268),fromXRotation:o(1856),fromYRotation:o(9216),fromZRotation:o(7736),fromQuat:o(1784),frustum:o(8848),perspective:o(1296),perspectiveFromFieldOfView:o(3688),ortho:o(7688),lookAt:o(6508),str:o(9412)}},4308:function(ve){ve.exports=function K(o,p){var T=p[0],v=p[1],g=p[2],f=p[3],y=p[4],m=p[5],h=p[6],c=p[7],C=p[8],_=p[9],L=p[10],D=p[11],w=p[12],z=p[13],S=p[14],E=p[15],x=T*m-v*y,H=T*h-g*y,b=T*c-f*y,N=v*h-g*m,V=v*c-f*m,Y=g*c-f*h,$=C*z-_*w,Q=C*S-L*w,se=C*E-D*w,F=_*S-L*z,J=_*E-D*z,W=L*E-D*S,te=x*W-H*J+b*F+N*se-V*Q+Y*$;return te?(o[0]=(m*W-h*J+c*F)*(te=1/te),o[1]=(g*J-v*W-f*F)*te,o[2]=(z*Y-S*V+E*N)*te,o[3]=(L*V-_*Y-D*N)*te,o[4]=(h*se-y*W-c*Q)*te,o[5]=(T*W-g*se+f*Q)*te,o[6]=(S*b-w*Y-E*H)*te,o[7]=(C*Y-L*b+D*H)*te,o[8]=(y*J-m*se+c*$)*te,o[9]=(v*se-T*J-f*$)*te,o[10]=(w*V-z*b+E*x)*te,o[11]=(_*b-C*V-D*x)*te,o[12]=(m*Q-y*F-h*$)*te,o[13]=(T*F-v*Q+g*$)*te,o[14]=(z*H-w*N-S*x)*te,o[15]=(C*N-_*H+L*x)*te,o):null}},6508:function(ve,K,o){var p=o(6635);ve.exports=function T(v,g,f,y){var m,h,c,C,_,L,D,w,z,S,E=g[0],x=g[1],H=g[2],b=y[0],N=y[1],V=y[2],Y=f[0],$=f[1],Q=f[2];return Math.abs(E-Y)<1e-6&&Math.abs(x-$)<1e-6&&Math.abs(H-Q)<1e-6?p(v):(D=E-Y,w=x-$,z=H-Q,m=N*(z*=S=1/Math.sqrt(D*D+w*w+z*z))-V*(w*=S),h=V*(D*=S)-b*z,c=b*w-N*D,(S=Math.sqrt(m*m+h*h+c*c))?(m*=S=1/S,h*=S,c*=S):(m=0,h=0,c=0),C=w*c-z*h,_=z*m-D*c,L=D*h-w*m,(S=Math.sqrt(C*C+_*_+L*L))?(C*=S=1/S,_*=S,L*=S):(C=0,_=0,L=0),v[0]=m,v[1]=C,v[2]=D,v[3]=0,v[4]=h,v[5]=_,v[6]=w,v[7]=0,v[8]=c,v[9]=L,v[10]=z,v[11]=0,v[12]=-(m*E+h*x+c*H),v[13]=-(C*E+_*x+L*H),v[14]=-(D*E+w*x+z*H),v[15]=1,v)}},944:function(ve){ve.exports=function K(o,p,T){var v=p[0],g=p[1],f=p[2],y=p[3],m=p[4],h=p[5],c=p[6],C=p[7],_=p[8],L=p[9],D=p[10],w=p[11],z=p[12],S=p[13],E=p[14],x=p[15],H=T[0],b=T[1],N=T[2],V=T[3];return o[0]=H*v+b*m+N*_+V*z,o[1]=H*g+b*h+N*L+V*S,o[2]=H*f+b*c+N*D+V*E,o[3]=H*y+b*C+N*w+V*x,o[4]=(H=T[4])*v+(b=T[5])*m+(N=T[6])*_+(V=T[7])*z,o[5]=H*g+b*h+N*L+V*S,o[6]=H*f+b*c+N*D+V*E,o[7]=H*y+b*C+N*w+V*x,o[8]=(H=T[8])*v+(b=T[9])*m+(N=T[10])*_+(V=T[11])*z,o[9]=H*g+b*h+N*L+V*S,o[10]=H*f+b*c+N*D+V*E,o[11]=H*y+b*C+N*w+V*x,o[12]=(H=T[12])*v+(b=T[13])*m+(N=T[14])*_+(V=T[15])*z,o[13]=H*g+b*h+N*L+V*S,o[14]=H*f+b*c+N*D+V*E,o[15]=H*y+b*C+N*w+V*x,o}},7688:function(ve){ve.exports=function K(o,p,T,v,g,f,y){var m=1/(p-T),h=1/(v-g),c=1/(f-y);return o[0]=-2*m,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*h,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*c,o[11]=0,o[12]=(p+T)*m,o[13]=(g+v)*h,o[14]=(y+f)*c,o[15]=1,o}},1296:function(ve){ve.exports=function K(o,p,T,v,g){var f=1/Math.tan(p/2),y=1/(v-g);return o[0]=f/T,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=f,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=(g+v)*y,o[11]=-1,o[12]=0,o[13]=0,o[14]=2*g*v*y,o[15]=0,o}},3688:function(ve){ve.exports=function K(o,p,T,v){var g=Math.tan(p.upDegrees*Math.PI/180),f=Math.tan(p.downDegrees*Math.PI/180),y=Math.tan(p.leftDegrees*Math.PI/180),m=Math.tan(p.rightDegrees*Math.PI/180),h=2/(y+m),c=2/(g+f);return o[0]=h,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=c,o[6]=0,o[7]=0,o[8]=-(y-m)*h*.5,o[9]=(g-f)*c*.5,o[10]=v/(T-v),o[11]=-1,o[12]=0,o[13]=0,o[14]=v*T/(T-v),o[15]=0,o}},16:function(ve){ve.exports=function K(o,p,T,v){var h,c,C,_,L,D,w,z,S,E,x,H,b,N,V,Y,$,Q,se,F,J,W,te,fe,g=v[0],f=v[1],y=v[2],m=Math.sqrt(g*g+f*f+y*y);return Math.abs(m)<1e-6?null:(g*=m=1/m,f*=m,y*=m,h=Math.sin(T),c=Math.cos(T),L=p[1],D=p[2],w=p[3],S=p[5],E=p[6],x=p[7],b=p[9],N=p[10],V=p[11],se=g*f*(C=1-c)-y*h,F=f*f*C+c,J=y*f*C+g*h,W=g*y*C+f*h,te=f*y*C-g*h,fe=y*y*C+c,o[0]=(_=p[0])*(Y=g*g*C+c)+(z=p[4])*($=f*g*C+y*h)+(H=p[8])*(Q=y*g*C-f*h),o[1]=L*Y+S*$+b*Q,o[2]=D*Y+E*$+N*Q,o[3]=w*Y+x*$+V*Q,o[4]=_*se+z*F+H*J,o[5]=L*se+S*F+b*J,o[6]=D*se+E*F+N*J,o[7]=w*se+x*F+V*J,o[8]=_*W+z*te+H*fe,o[9]=L*W+S*te+b*fe,o[10]=D*W+E*te+N*fe,o[11]=w*W+x*te+V*fe,p!==o&&(o[12]=p[12],o[13]=p[13],o[14]=p[14],o[15]=p[15]),o)}},5456:function(ve){ve.exports=function K(o,p,T){var v=Math.sin(T),g=Math.cos(T),f=p[4],y=p[5],m=p[6],h=p[7],c=p[8],C=p[9],_=p[10],L=p[11];return p!==o&&(o[0]=p[0],o[1]=p[1],o[2]=p[2],o[3]=p[3],o[12]=p[12],o[13]=p[13],o[14]=p[14],o[15]=p[15]),o[4]=f*g+c*v,o[5]=y*g+C*v,o[6]=m*g+_*v,o[7]=h*g+L*v,o[8]=c*g-f*v,o[9]=C*g-y*v,o[10]=_*g-m*v,o[11]=L*g-h*v,o}},4840:function(ve){ve.exports=function K(o,p,T){var v=Math.sin(T),g=Math.cos(T),f=p[0],y=p[1],m=p[2],h=p[3],c=p[8],C=p[9],_=p[10],L=p[11];return p!==o&&(o[4]=p[4],o[5]=p[5],o[6]=p[6],o[7]=p[7],o[12]=p[12],o[13]=p[13],o[14]=p[14],o[15]=p[15]),o[0]=f*g-c*v,o[1]=y*g-C*v,o[2]=m*g-_*v,o[3]=h*g-L*v,o[8]=f*v+c*g,o[9]=y*v+C*g,o[10]=m*v+_*g,o[11]=h*v+L*g,o}},4192:function(ve){ve.exports=function K(o,p,T){var v=Math.sin(T),g=Math.cos(T),f=p[0],y=p[1],m=p[2],h=p[3],c=p[4],C=p[5],_=p[6],L=p[7];return p!==o&&(o[8]=p[8],o[9]=p[9],o[10]=p[10],o[11]=p[11],o[12]=p[12],o[13]=p[13],o[14]=p[14],o[15]=p[15]),o[0]=f*g+c*v,o[1]=y*g+C*v,o[2]=m*g+_*v,o[3]=h*g+L*v,o[4]=c*g-f*v,o[5]=C*g-y*v,o[6]=_*g-m*v,o[7]=L*g-h*v,o}},8152:function(ve){ve.exports=function K(o,p,T){var v=T[0],g=T[1],f=T[2];return o[0]=p[0]*v,o[1]=p[1]*v,o[2]=p[2]*v,o[3]=p[3]*v,o[4]=p[4]*g,o[5]=p[5]*g,o[6]=p[6]*g,o[7]=p[7]*g,o[8]=p[8]*f,o[9]=p[9]*f,o[10]=p[10]*f,o[11]=p[11]*f,o[12]=p[12],o[13]=p[13],o[14]=p[14],o[15]=p[15],o}},9412:function(ve){ve.exports=function K(o){return"mat4("+o[0]+", "+o[1]+", "+o[2]+", "+o[3]+", "+o[4]+", "+o[5]+", "+o[6]+", "+o[7]+", "+o[8]+", "+o[9]+", "+o[10]+", "+o[11]+", "+o[12]+", "+o[13]+", "+o[14]+", "+o[15]+")"}},5176:function(ve){ve.exports=function K(o,p,T){var y,m,h,c,C,_,L,D,w,z,S,E,v=T[0],g=T[1],f=T[2];return p===o?(o[12]=p[0]*v+p[4]*g+p[8]*f+p[12],o[13]=p[1]*v+p[5]*g+p[9]*f+p[13],o[14]=p[2]*v+p[6]*g+p[10]*f+p[14],o[15]=p[3]*v+p[7]*g+p[11]*f+p[15]):(m=p[1],h=p[2],c=p[3],C=p[4],_=p[5],L=p[6],D=p[7],w=p[8],z=p[9],S=p[10],E=p[11],o[0]=y=p[0],o[1]=m,o[2]=h,o[3]=c,o[4]=C,o[5]=_,o[6]=L,o[7]=D,o[8]=w,o[9]=z,o[10]=S,o[11]=E,o[12]=y*v+C*g+w*f+p[12],o[13]=m*v+_*g+z*f+p[13],o[14]=h*v+L*g+S*f+p[14],o[15]=c*v+D*g+E*f+p[15]),o}},6520:function(ve){ve.exports=function K(o,p){if(o===p){var T=p[1],v=p[2],g=p[3],f=p[6],y=p[7],m=p[11];o[1]=p[4],o[2]=p[8],o[3]=p[12],o[4]=T,o[6]=p[9],o[7]=p[13],o[8]=v,o[9]=f,o[11]=p[14],o[12]=g,o[13]=y,o[14]=m}else o[0]=p[0],o[1]=p[4],o[2]=p[8],o[3]=p[12],o[4]=p[1],o[5]=p[5],o[6]=p[9],o[7]=p[13],o[8]=p[2],o[9]=p[6],o[10]=p[10],o[11]=p[14],o[12]=p[3],o[13]=p[7],o[14]=p[11],o[15]=p[15];return o}},2264:function(ve,K,o){"use strict";var T,p=o(1820);T="function"==typeof o.g.matchMedia?!o.g.matchMedia("(hover: none)").matches:p,ve.exports=T},9184:function(ve,K,o){"use strict";var p=o(1820);ve.exports=p&&function T(){var v=!1;try{var g=Object.defineProperty({},"passive",{get:function(){v=!0}});window.addEventListener("test",null,g),window.removeEventListener("test",null,g)}catch{v=!1}return v}()},1820:function(ve){ve.exports=!0},4576:function(ve){"use strict";ve.exports=function(K){for(var p,o=K.length,T=0;T<o;T++)if(((p=K.charCodeAt(T))<9||p>13)&&32!==p&&133!==p&&160!==p&&5760!==p&&6158!==p&&(p<8192||p>8205)&&8232!==p&&8233!==p&&8239!==p&&8287!==p&&8288!==p&&12288!==p&&65279!==p)return!1;return!0}},9128:function(ve){var K={left:0,top:0};ve.exports=function o(T,v,g){v=v||T.currentTarget||T.srcElement,Array.isArray(g)||(g=[0,0]);var f=T.clientX||0,y=T.clientY||0,m=function p(T){return T===window||T===document||T===document.body?K:T.getBoundingClientRect()}(v);return g[0]=f-m.left,g[1]=y-m.top,g}},8324:function(ve,K,o){var p,v,g,f;f=function(){"use strict";var v,g,f,y=Object.prototype.toString,m=typeof setImmediate<"u"?function(b){return setImmediate(b)}:setTimeout;try{Object.defineProperty({},"x",{}),v=function(b,N,V,Y){return Object.defineProperty(b,N,{value:V,writable:!0,configurable:!1!==Y})}}catch{v=function(N,V,Y){return N[V]=Y,N}}function h(H,b){f.add(H,b),g||(g=m(f.drain))}function c(H){var b,N=typeof H;return null!=H&&("object"==N||"function"==N)&&(b=H.then),"function"==typeof b&&b}function C(){for(var H=0;H<this.chain.length;H++)_(this,1===this.state?this.chain[H].success:this.chain[H].failure,this.chain[H]);this.chain.length=0}function _(H,b,N){var V,Y;try{!1===b?N.reject(H.msg):(V=!0===b?H.msg:b.call(void 0,H.msg))===N.promise?N.reject(TypeError("Promise-chain cycle")):(Y=c(V))?Y.call(V,N.resolve,N.reject):N.resolve(V)}catch($){N.reject($)}}function L(H){var b,N=this;if(!N.triggered){N.triggered=!0,N.def&&(N=N.def);try{(b=c(H))?h(function(){var V=new z(N);try{b.call(H,function(){L.apply(V,arguments)},function(){D.apply(V,arguments)})}catch(Y){D.call(V,Y)}}):(N.msg=H,N.state=1,N.chain.length>0&&h(C,N))}catch(V){D.call(new z(N),V)}}}function D(H){var b=this;b.triggered||(b.triggered=!0,b.def&&(b=b.def),b.msg=H,b.state=2,b.chain.length>0&&h(C,b))}function w(H,b,N,V){for(var Y=0;Y<b.length;Y++)!function(Q){H.resolve(b[Q]).then(function(F){N(Q,F)},V)}(Y)}function z(H){this.def=H,this.triggered=!1}function S(H){this.promise=H,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function E(H){if("function"!=typeof H)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var b=new S(this);this.then=function(V,Y){var $={success:"function"!=typeof V||V,failure:"function"==typeof Y&&Y};return $.promise=new this.constructor(function(se,F){if("function"!=typeof se||"function"!=typeof F)throw TypeError("Not a function");$.resolve=se,$.reject=F}),b.chain.push($),0!==b.state&&h(C,b),$.promise},this.catch=function(V){return this.then(void 0,V)};try{H.call(void 0,function(V){L.call(b,V)},function(V){D.call(b,V)})}catch(N){D.call(b,N)}}f=function(){var b,N,V;function Y($,Q){this.fn=$,this.self=Q,this.next=void 0}return{add:function(Q,se){V=new Y(Q,se),N?N.next=V:b=V,N=V,V=void 0},drain:function(){var Q=b;for(b=N=g=void 0;Q;)Q.fn.call(Q.self),Q=Q.next}}}();var x=v({},"constructor",E,!1);return E.prototype=x,v(x,"__NPO__",0,!1),v(E,"resolve",function(b){return b&&"object"==typeof b&&1===b.__NPO__?b:new this(function(Y,$){if("function"!=typeof Y||"function"!=typeof $)throw TypeError("Not a function");Y(b)})}),v(E,"reject",function(b){return new this(function(V,Y){if("function"!=typeof V||"function"!=typeof Y)throw TypeError("Not a function");Y(b)})}),v(E,"all",function(b){var N=this;return"[object Array]"!=y.call(b)?N.reject(TypeError("Not an array")):0===b.length?N.resolve([]):new N(function(Y,$){if("function"!=typeof Y||"function"!=typeof $)throw TypeError("Not a function");var Q=b.length,se=Array(Q),F=0;w(N,b,function(W,te){se[W]=te,++F===Q&&Y(se)},$)})}),v(E,"race",function(b){var N=this;return"[object Array]"!=y.call(b)?N.reject(TypeError("Not an array")):new N(function(Y,$){if("function"!=typeof Y||"function"!=typeof $)throw TypeError("Not a function");w(N,b,function(se,F){Y(F)},$)})}),E},(g=typeof o.g<"u"?o.g:this)[v="Promise"]=g[v]||f(),ve.exports?ve.exports=g[v]:void 0!==(p=function(){return g[v]}.call(K,o,K,ve))&&(ve.exports=p)},896:function(ve){"use strict";var K=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;ve.exports=function v(){try{if(!Object.assign)return!1;var g=new String("abc");if(g[5]="de","5"===Object.getOwnPropertyNames(g)[0])return!1;for(var f={},y=0;y<10;y++)f["_"+String.fromCharCode(y)]=y;if("0123456789"!==Object.getOwnPropertyNames(f).map(function(c){return f[c]}).join(""))return!1;var h={};return"abcdefghijklmnopqrst".split("").forEach(function(c){h[c]=c}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},h)).join("")}catch{return!1}}()?Object.assign:function(g,f){for(var y,h,m=function T(g){if(null==g)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(g)}(g),c=1;c<arguments.length;c++){for(var C in y=Object(arguments[c]))o.call(y,C)&&(m[C]=y[C]);if(K){h=K(y);for(var _=0;_<h.length;_++)p.call(y,h[_])&&(m[h[_]]=y[h[_]])}}return m}},9604:function(ve){ve.exports=function p(g){var f=[];return g.replace(o,function(y,m,h){var c=m.toLowerCase();for(h=function v(g){var f=g.match(T);return f?f.map(Number):[]}(h),"m"==c&&h.length>2&&(f.push([m].concat(h.splice(0,2))),c="l",m="m"==m?"l":"L");;){if(h.length==K[c])return h.unshift(m),f.push(h);if(h.length<K[c])throw new Error("malformed path data");f.push([m].concat(h.splice(0,K[c])))}}),f};var K={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},o=/([astvzqmhlc])([^astvzqmhlc]*)/gi;var T=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},1456:function(ve){ve.exports=function(o,p,T,v){var g=o[0],f=o[1],y=!1;void 0===T&&(T=0),void 0===v&&(v=p.length);for(var m=v-T,h=0,c=m-1;h<m;c=h++){var C=p[h+T][0],_=p[h+T][1],D=p[c+T][1];_>f!=D>f&&g<(p[c+T][0]-C)*(f-_)/(D-_)+C&&(y=!y)}return y}},4756:function(ve,K,o){var c,p=o(2928),T=o(8648),v=o(9819),g=o(1403),f=o(2368),y=o(7792),m=!1,h=T();function C(_,L,D){var w=c.segments(_),z=c.segments(L),E=D(c.combine(w,z));return c.polygon(E)}c={buildLog:function(_){return!0===_?m=p():!1===_&&(m=!1),!1!==m&&m.list},epsilon:function(_){return h.epsilon(_)},segments:function(_){var L=v(!0,h,m);return _.regions.forEach(L.addRegion),{segments:L.calculate(_.inverted),inverted:_.inverted}},combine:function(_,L){return{combined:v(!1,h,m).calculate(_.segments,_.inverted,L.segments,L.inverted),inverted1:_.inverted,inverted2:L.inverted}},selectUnion:function(_){return{segments:f.union(_.combined,m),inverted:_.inverted1||_.inverted2}},selectIntersect:function(_){return{segments:f.intersect(_.combined,m),inverted:_.inverted1&&_.inverted2}},selectDifference:function(_){return{segments:f.difference(_.combined,m),inverted:_.inverted1&&!_.inverted2}},selectDifferenceRev:function(_){return{segments:f.differenceRev(_.combined,m),inverted:!_.inverted1&&_.inverted2}},selectXor:function(_){return{segments:f.xor(_.combined,m),inverted:_.inverted1!==_.inverted2}},polygon:function(_){return{regions:g(_.segments,h,m),inverted:_.inverted}},polygonFromGeoJSON:function(_){return y.toPolygon(c,_)},polygonToGeoJSON:function(_){return y.fromPolygon(c,h,_)},union:function(_,L){return C(_,L,c.selectUnion)},intersect:function(_,L){return C(_,L,c.selectIntersect)},difference:function(_,L){return C(_,L,c.selectDifference)},differenceRev:function(_,L){return C(_,L,c.selectDifferenceRev)},xor:function(_,L){return C(_,L,c.selectXor)}},"object"==typeof window&&(window.PolyBool=c),ve.exports=c},2928:function(ve){ve.exports=function K(){var o,p=0,T=!1;function v(g,f){return o.list.push({type:g,data:f?JSON.parse(JSON.stringify(f)):void 0}),o}return o={list:[],segmentId:function(){return p++},checkIntersection:function(g,f){return v("check",{seg1:g,seg2:f})},segmentChop:function(g,f){return v("div_seg",{seg:g,pt:f}),v("chop",{seg:g,pt:f})},statusRemove:function(g){return v("pop_seg",{seg:g})},segmentUpdate:function(g){return v("seg_update",{seg:g})},segmentNew:function(g,f){return v("new_seg",{seg:g,primary:f})},segmentRemove:function(g){return v("rem_seg",{seg:g})},tempStatus:function(g,f,y){return v("temp_status",{seg:g,above:f,below:y})},rewind:function(g){return v("rewind",{seg:g})},status:function(g,f,y){return v("status",{seg:g,above:f,below:y})},vert:function(g){return g===T?o:(T=g,v("vert",{x:g}))},log:function(g){return"string"!=typeof g&&(g=JSON.stringify(g,!1,"  ")),v("log",{txt:g})},reset:function(){return v("reset")},selected:function(g){return v("selected",{segs:g})},chainStart:function(g){return v("chain_start",{seg:g})},chainRemoveHead:function(g,f){return v("chain_rem_head",{index:g,pt:f})},chainRemoveTail:function(g,f){return v("chain_rem_tail",{index:g,pt:f})},chainNew:function(g,f){return v("chain_new",{pt1:g,pt2:f})},chainMatch:function(g){return v("chain_match",{index:g})},chainClose:function(g){return v("chain_close",{index:g})},chainAddHead:function(g,f){return v("chain_add_head",{index:g,pt:f})},chainAddTail:function(g,f){return v("chain_add_tail",{index:g,pt:f})},chainConnect:function(g,f){return v("chain_con",{index1:g,index2:f})},chainReverse:function(g){return v("chain_rev",{index:g})},chainJoin:function(g,f){return v("chain_join",{index1:g,index2:f})},done:function(){return v("done")}}}},8648:function(ve){ve.exports=function K(o){"number"!=typeof o&&(o=1e-10);var p={epsilon:function(T){return"number"==typeof T&&(o=T),o},pointAboveOrOnLine:function(T,v,g){var f=v[0],y=v[1];return(g[0]-f)*(T[1]-y)-(g[1]-y)*(T[0]-f)>=-o},pointBetween:function(T,v,g){var y=g[0]-v[0],h=g[1]-v[1],c=(T[0]-v[0])*y+(T[1]-v[1])*h;return!(c<o||c-(y*y+h*h)>-o)},pointsSameX:function(T,v){return Math.abs(T[0]-v[0])<o},pointsSameY:function(T,v){return Math.abs(T[1]-v[1])<o},pointsSame:function(T,v){return p.pointsSameX(T,v)&&p.pointsSameY(T,v)},pointsCompare:function(T,v){return p.pointsSameX(T,v)?p.pointsSameY(T,v)?0:T[1]<v[1]?-1:1:T[0]<v[0]?-1:1},pointsCollinear:function(T,v,g){return Math.abs((T[0]-v[0])*(v[1]-g[1])-(v[0]-g[0])*(T[1]-v[1]))<o},linesIntersect:function(T,v,g,f){var y=v[0]-T[0],m=v[1]-T[1],h=f[0]-g[0],c=f[1]-g[1],C=y*c-m*h;if(Math.abs(C)<o)return!1;var _=T[0]-g[0],L=T[1]-g[1],D=(h*L-c*_)/C,w=(y*L-m*_)/C,z={alongA:0,alongB:0,pt:[T[0]+D*y,T[1]+D*m]};return z.alongA=D<=-o?-2:D<o?-1:D-1<=-o?0:D-1<o?1:2,z.alongB=w<=-o?-2:w<o?-1:w-1<=-o?0:w-1<o?1:2,z},pointInsideRegion:function(T,v){for(var g=T[0],f=T[1],y=v[v.length-1][0],m=v[v.length-1][1],h=!1,c=0;c<v.length;c++){var C=v[c][0],_=v[c][1];_-f>o!=m-f>o&&(y-C)*(f-_)/(m-_)+C-g>o&&(h=!h),y=C,m=_}return h}};return p}},7792:function(ve){ve.exports={toPolygon:function(o,p){function T(f){if(f.length<=0)return o.segments({inverted:!1,regions:[]});function y(c){var C=c.slice(0,c.length-1);return o.segments({inverted:!1,regions:[C]})}for(var m=y(f[0]),h=1;h<f.length;h++)m=o.selectDifference(o.combine(m,y(f[h])));return m}if("Polygon"===p.type)return o.polygon(T(p.coordinates));if("MultiPolygon"===p.type){for(var v=o.segments({inverted:!1,regions:[]}),g=0;g<p.coordinates.length;g++)v=o.selectUnion(o.combine(v,T(p.coordinates[g])));return o.polygon(v)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(o,p,T){function v(D,w){return p.pointInsideRegion([.5*(D[0][0]+D[1][0]),.5*(D[0][1]+D[1][1])],w)}function g(D){return{region:D,children:[]}}T=o.polygon(o.segments(T));var f=g(null);function y(D,w){for(var z=0;z<D.children.length;z++)if(v(w,(S=D.children[z]).region))return void y(S,w);var E=g(w);for(z=0;z<D.children.length;z++){var S;v((S=D.children[z]).region,w)&&(E.children.push(S),D.children.splice(z,1),z--)}D.children.push(E)}for(var m=0;m<T.regions.length;m++){var h=T.regions[m];h.length<3||y(f,h)}function c(D,w){for(var z=0,S=D[D.length-1][0],E=D[D.length-1][1],x=[],H=0;H<D.length;H++){var b=D[H][0],N=D[H][1];x.push([b,N]),z+=N*S-b*E,S=b,E=N}return z<0!==w&&x.reverse(),x.push([x[0][0],x[0][1]]),x}var C=[];function _(D){var w=[c(D.region,!1)];C.push(w);for(var z=0;z<D.children.length;z++)w.push(L(D.children[z]))}function L(D){for(var w=0;w<D.children.length;w++)_(D.children[w]);return c(D.region,!0)}for(m=0;m<f.children.length;m++)_(f.children[m]);return C.length<=0?{type:"Polygon",coordinates:[]}:1==C.length?{type:"Polygon",coordinates:C[0]}:{type:"MultiPolygon",coordinates:C}}}},9819:function(ve,K,o){var p=o(8088);ve.exports=function T(v,g,f){function y(E,x){return{id:f?f.segmentId():-1,start:E,end:x,myFill:{above:null,below:null},otherFill:null}}function m(E,x,H){return{id:f?f.segmentId():-1,start:E,end:x,myFill:{above:H.myFill.above,below:H.myFill.below},otherFill:null}}var h=p.create();function C(E,x){h.insertBefore(E,function(H){return function c(E,x,H,b,N,V){var Y=g.pointsCompare(x,N);return 0!==Y?Y:g.pointsSame(H,V)?0:E!==b?E?1:-1:g.pointAboveOrOnLine(H,b?N:V,b?V:N)?1:-1}(E.isStart,E.pt,x,H.isStart,H.pt,H.other.pt)<0})}function D(E,x){var H=function _(E,x){var H=p.node({isStart:!0,pt:E.start,seg:E,primary:x,other:null,status:null});return C(H,E.end),H}(E,x);return function L(E,x,H){var b=p.node({isStart:!1,pt:x.end,seg:x,primary:H,other:E,status:null});E.other=b,C(b,E.pt)}(H,E,x),H}function z(E,x){var H=m(x,E.seg.end,E.seg);return function w(E,x){f&&f.segmentChop(E.seg,x),E.other.remove(),E.seg.end=x,E.other.pt=x,C(E.other,E.pt)}(E,x),D(H,E.primary)}function S(E,x){var H=p.create();function N(G){return H.findTransition(function(q){return function b(G,q){var ie=G.seg.start,ue=G.seg.end,le=q.seg.start,pe=q.seg.end;return g.pointsCollinear(ie,le,pe)?g.pointsCollinear(ue,le,pe)||g.pointAboveOrOnLine(ue,le,pe)?1:-1:g.pointAboveOrOnLine(ie,le,pe)?1:-1}(G,q.ev)>0})}function V(G,q){var ie=G.seg,ue=q.seg,le=ie.start,pe=ie.end,He=ue.start,ke=ue.end;f&&f.checkIntersection(ie,ue);var Ue=g.linesIntersect(le,pe,He,ke);if(!1===Ue){if(!g.pointsCollinear(le,pe,He)||g.pointsSame(le,ke)||g.pointsSame(pe,He))return!1;var Me=g.pointsSame(le,He),we=g.pointsSame(pe,ke);if(Me&&we)return q;var Le=!Me&&g.pointBetween(le,He,ke),B=!we&&g.pointBetween(pe,He,ke);if(Me)return B?z(q,pe):z(G,ke),q;Le&&(we||(B?z(q,pe):z(G,ke)),z(q,le))}else 0===Ue.alongA&&(-1===Ue.alongB?z(G,He):0===Ue.alongB?z(G,Ue.pt):1===Ue.alongB&&z(G,ke)),0===Ue.alongB&&(-1===Ue.alongA?z(q,le):0===Ue.alongA?z(q,Ue.pt):1===Ue.alongA&&z(q,pe));return!1}for(var Y=[];!h.isEmpty();){var $=h.getHead();if(f&&f.vert($.pt[0]),$.isStart){let G=function(){if(se){var q=V($,se);if(q)return q}return!!F&&V($,F)};f&&f.segmentNew($.seg,$.primary);var Q=N($),se=Q.before?Q.before.ev:null,F=Q.after?Q.after.ev:null;f&&f.tempStatus($.seg,!!se&&se.seg,!!F&&F.seg);var W,J=G();if(J&&(v?(W=null===$.seg.myFill.below||$.seg.myFill.above!==$.seg.myFill.below)&&(J.seg.myFill.above=!J.seg.myFill.above):J.seg.otherFill=$.seg.myFill,f&&f.segmentUpdate(J.seg),$.other.remove(),$.remove()),h.getHead()!==$){f&&f.rewind($.seg);continue}if(v)W=null===$.seg.myFill.below||$.seg.myFill.above!==$.seg.myFill.below,$.seg.myFill.below=F?F.seg.myFill.above:E,$.seg.myFill.above=W?!$.seg.myFill.below:$.seg.myFill.below;else if(null===$.seg.otherFill){var te;$.seg.otherFill={above:te=F?$.primary===F.primary?F.seg.otherFill.above:F.seg.myFill.above:$.primary?x:E,below:te}}f&&f.status($.seg,!!se&&se.seg,!!F&&F.seg),$.other.status=Q.insert(p.node({ev:$}))}else{var fe=$.status;if(null===fe)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(H.exists(fe.prev)&&H.exists(fe.next)&&V(fe.prev.ev,fe.next.ev),f&&f.statusRemove(fe.ev.seg),fe.remove(),!$.primary){var me=$.seg.myFill;$.seg.myFill=$.seg.otherFill,$.seg.otherFill=me}Y.push($.seg)}h.getHead().remove()}return f&&f.done(),Y}return v?{addRegion:function(E){for(var x,H=E[E.length-1],b=0;b<E.length;b++){var N=g.pointsCompare(x=H,H=E[b]);0!==N&&D(y(N<0?x:H,N<0?H:x),!0)}},calculate:function(E){return S(E,!1)}}:{calculate:function(E,x,H,b){return E.forEach(function(N){D(m(N.start,N.end,N),!0)}),H.forEach(function(N){D(m(N.start,N.end,N),!1)}),S(x,b)}}}},8088:function(ve){ve.exports={create:function(){var o={root:{root:!0,next:null},exists:function(p){return!(null===p||p===o.root)},isEmpty:function(){return null===o.root.next},getHead:function(){return o.root.next},insertBefore:function(p,T){for(var v=o.root,g=o.root.next;null!==g;){if(T(g))return p.prev=g.prev,p.next=g,g.prev.next=p,void(g.prev=p);v=g,g=g.next}v.next=p,p.prev=v,p.next=null},findTransition:function(p){for(var T=o.root,v=o.root.next;null!==v&&!p(v);)T=v,v=v.next;return{before:T===o.root?null:T,after:v,insert:function(g){return g.prev=T,g.next=v,T.next=g,null!==v&&(v.prev=g),g}}}};return o},node:function(o){return o.prev=null,o.next=null,o.remove=function(){o.prev.next=o.next,o.next&&(o.next.prev=o.prev),o.prev=null,o.next=null},o}}},1403:function(ve){ve.exports=function K(o,p,T){var v=[],g=[];return o.forEach(function(f){var y=f.start,m=f.end;if(p.pointsSame(y,m))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{T&&T.chainStart(f);for(var h={index:0,matches_head:!1,matches_pt1:!1},c={index:0,matches_head:!1,matches_pt1:!1},C=h,L=0;L<v.length;L++){var w=(D=v[L])[0],S=D[D.length-1];if(p.pointsSame(w,y)){if(_(L,!0,!0))break}else if(p.pointsSame(w,m)){if(_(L,!0,!1))break}else if(p.pointsSame(S,y)){if(_(L,!1,!0))break}else if(p.pointsSame(S,m)&&_(L,!1,!1))break}if(C===h)return v.push([y,m]),void(T&&T.chainNew(y,m));if(C===c){T&&T.chainMatch(h.index);var x=h.index,H=h.matches_pt1?m:y,b=h.matches_head,D=v[x],N=b?D[0]:D[D.length-1],V=b?D[1]:D[D.length-2],Y=b?D[D.length-1]:D[0],$=b?D[D.length-2]:D[1];return p.pointsCollinear(V,N,H)&&(b?(T&&T.chainRemoveHead(h.index,H),D.shift()):(T&&T.chainRemoveTail(h.index,H),D.pop()),N=V),p.pointsSame(Y,H)?(v.splice(x,1),p.pointsCollinear($,Y,N)&&(b?(T&&T.chainRemoveTail(h.index,N),D.pop()):(T&&T.chainRemoveHead(h.index,N),D.shift())),T&&T.chainClose(h.index),void g.push(D)):void(b?(T&&T.chainAddHead(h.index,H),D.unshift(H)):(T&&T.chainAddTail(h.index,H),D.push(H)))}var F=h.index,J=c.index;T&&T.chainConnect(F,J);var W=v[F].length<v[J].length;h.matches_head?c.matches_head?W?(Q(F),se(F,J)):(Q(J),se(J,F)):se(J,F):c.matches_head?se(F,J):W?(Q(F),se(J,F)):(Q(J),se(F,J))}function _(te,fe,me){return C.index=te,C.matches_head=fe,C.matches_pt1=me,C===h?(C=c,!1):(C=null,!0)}function Q(te){T&&T.chainReverse(te),v[te].reverse()}function se(te,fe){var me=v[te],Z=v[fe],G=me[me.length-1],q=me[me.length-2],ie=Z[0],ue=Z[1];p.pointsCollinear(q,G,ie)&&(T&&T.chainRemoveTail(te,G),me.pop(),G=q),p.pointsCollinear(G,ie,ue)&&(T&&T.chainRemoveHead(fe,ie),Z.shift()),T&&T.chainJoin(te,fe),v[te]=me.concat(Z),v.splice(fe,1)}}),g}},2368:function(ve){function K(p,T,v){var g=[];return p.forEach(function(f){var y=(f.myFill.above?8:0)+(f.myFill.below?4:0)+(f.otherFill&&f.otherFill.above?2:0)+(f.otherFill&&f.otherFill.below?1:0);0!==T[y]&&g.push({id:v?v.segmentId():-1,start:f.start,end:f.end,myFill:{above:1===T[y],below:2===T[y]},otherFill:null})}),v&&v.selected(g),g}ve.exports={union:function(p,T){return K(p,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],T)},intersect:function(p,T){return K(p,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],T)},difference:function(p,T){return K(p,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],T)},differenceRev:function(p,T){return K(p,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],T)},xor:function(p,T){return K(p,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],T)}}},9760:function(ve,K,o){var p;!function(T){var v=/^\s+/,g=/\s+$/,f=0,y=T.round,m=T.min,h=T.max,c=T.random;function C(I,ae){if(ae=ae||{},(I=I||"")instanceof C)return I;if(!(this instanceof C))return new C(I,ae);var O=function _(I){var ae={r:0,g:0,b:0},O=1,ne=null,be=null,ze=null,Ne=!1,Oe=!1;return"string"==typeof I&&(I=function X(I){I=I.replace(v,"").replace(g,"").toLowerCase();var O,ae=!1;if(Z[I])I=Z[I],ae=!0;else if("transparent"==I)return{r:0,g:0,b:0,a:0,format:"name"};return(O=B.rgb.exec(I))?{r:O[1],g:O[2],b:O[3]}:(O=B.rgba.exec(I))?{r:O[1],g:O[2],b:O[3],a:O[4]}:(O=B.hsl.exec(I))?{h:O[1],s:O[2],l:O[3]}:(O=B.hsla.exec(I))?{h:O[1],s:O[2],l:O[3],a:O[4]}:(O=B.hsv.exec(I))?{h:O[1],s:O[2],v:O[3]}:(O=B.hsva.exec(I))?{h:O[1],s:O[2],v:O[3],a:O[4]}:(O=B.hex8.exec(I))?{r:pe(O[1]),g:pe(O[2]),b:pe(O[3]),a:Le(O[4]),format:ae?"name":"hex8"}:(O=B.hex6.exec(I))?{r:pe(O[1]),g:pe(O[2]),b:pe(O[3]),format:ae?"name":"hex"}:(O=B.hex4.exec(I))?{r:pe(O[1]+""+O[1]),g:pe(O[2]+""+O[2]),b:pe(O[3]+""+O[3]),a:Le(O[4]+""+O[4]),format:ae?"name":"hex8"}:!!(O=B.hex3.exec(I))&&{r:pe(O[1]+""+O[1]),g:pe(O[2]+""+O[2]),b:pe(O[3]+""+O[3]),format:ae?"name":"hex"}}(I)),"object"==typeof I&&(P(I.r)&&P(I.g)&&P(I.b)?(ae=function L(I,ae,O){return{r:255*ue(I,255),g:255*ue(ae,255),b:255*ue(O,255)}}(I.r,I.g,I.b),Ne=!0,Oe="%"===String(I.r).substr(-1)?"prgb":"rgb"):P(I.h)&&P(I.s)&&P(I.v)?(ne=Me(I.s),be=Me(I.v),ae=function S(I,ae,O){I=6*ue(I,360),ae=ue(ae,100),O=ue(O,100);var ne=T.floor(I),be=I-ne,ze=O*(1-ae),Ne=O*(1-be*ae),Oe=O*(1-(1-be)*ae),Be=ne%6;return{r:255*[O,Ne,ze,ze,Oe,O][Be],g:255*[Oe,O,O,Ne,ze,ze][Be],b:255*[ze,ze,Oe,O,O,Ne][Be]}}(I.h,ne,be),Ne=!0,Oe="hsv"):P(I.h)&&P(I.s)&&P(I.l)&&(ne=Me(I.s),ze=Me(I.l),ae=function w(I,ae,O){var ne,be,ze;function Ne(Te,Ve,Pe){return Pe<0&&(Pe+=1),Pe>1&&(Pe-=1),Pe<.16666666666666666?Te+6*(Ve-Te)*Pe:Pe<.5?Ve:Pe<.6666666666666666?Te+(Ve-Te)*(.6666666666666666-Pe)*6:Te}if(I=ue(I,360),ae=ue(ae,100),O=ue(O,100),0===ae)ne=be=ze=O;else{var Oe=O<.5?O*(1+ae):O+ae-O*ae,Be=2*O-Oe;ne=Ne(Be,Oe,I+.3333333333333333),be=Ne(Be,Oe,I),ze=Ne(Be,Oe,I-.3333333333333333)}return{r:255*ne,g:255*be,b:255*ze}}(I.h,ne,ze),Ne=!0,Oe="hsl"),I.hasOwnProperty("a")&&(O=I.a)),O=ie(O),{ok:Ne,format:I.format||Oe,r:m(255,h(ae.r,0)),g:m(255,h(ae.g,0)),b:m(255,h(ae.b,0)),a:O}}(I);this._originalInput=I,this._r=O.r,this._g=O.g,this._b=O.b,this._a=O.a,this._roundA=y(100*this._a)/100,this._format=ae.format||O.format,this._gradientType=ae.gradientType,this._r<1&&(this._r=y(this._r)),this._g<1&&(this._g=y(this._g)),this._b<1&&(this._b=y(this._b)),this._ok=O.ok,this._tc_id=f++}function D(I,ae,O){I=ue(I,255),ae=ue(ae,255),O=ue(O,255);var ze,Ne,ne=h(I,ae,O),be=m(I,ae,O),Oe=(ne+be)/2;if(ne==be)ze=Ne=0;else{var Be=ne-be;switch(Ne=Oe>.5?Be/(2-ne-be):Be/(ne+be),ne){case I:ze=(ae-O)/Be+(ae<O?6:0);break;case ae:ze=(O-I)/Be+2;break;case O:ze=(I-ae)/Be+4}ze/=6}return{h:ze,s:Ne,l:Oe}}function z(I,ae,O){I=ue(I,255),ae=ue(ae,255),O=ue(O,255);var ze,Ne,ne=h(I,ae,O),be=m(I,ae,O),Oe=ne,Be=ne-be;if(Ne=0===ne?0:Be/ne,ne==be)ze=0;else{switch(ne){case I:ze=(ae-O)/Be+(ae<O?6:0);break;case ae:ze=(O-I)/Be+2;break;case O:ze=(I-ae)/Be+4}ze/=6}return{h:ze,s:Ne,v:Oe}}function E(I,ae,O,ne){var be=[Ue(y(I).toString(16)),Ue(y(ae).toString(16)),Ue(y(O).toString(16))];return ne&&be[0].charAt(0)==be[0].charAt(1)&&be[1].charAt(0)==be[1].charAt(1)&&be[2].charAt(0)==be[2].charAt(1)?be[0].charAt(0)+be[1].charAt(0)+be[2].charAt(0):be.join("")}function H(I,ae,O,ne){return[Ue(we(ne)),Ue(y(I).toString(16)),Ue(y(ae).toString(16)),Ue(y(O).toString(16))].join("")}function b(I,ae){ae=0===ae?0:ae||10;var O=C(I).toHsl();return O.s-=ae/100,O.s=le(O.s),C(O)}function N(I,ae){ae=0===ae?0:ae||10;var O=C(I).toHsl();return O.s+=ae/100,O.s=le(O.s),C(O)}function V(I){return C(I).desaturate(100)}function Y(I,ae){ae=0===ae?0:ae||10;var O=C(I).toHsl();return O.l+=ae/100,O.l=le(O.l),C(O)}function $(I,ae){ae=0===ae?0:ae||10;var O=C(I).toRgb();return O.r=h(0,m(255,O.r-y(-ae/100*255))),O.g=h(0,m(255,O.g-y(-ae/100*255))),O.b=h(0,m(255,O.b-y(-ae/100*255))),C(O)}function Q(I,ae){ae=0===ae?0:ae||10;var O=C(I).toHsl();return O.l-=ae/100,O.l=le(O.l),C(O)}function se(I,ae){var O=C(I).toHsl(),ne=(O.h+ae)%360;return O.h=ne<0?360+ne:ne,C(O)}function F(I){var ae=C(I).toHsl();return ae.h=(ae.h+180)%360,C(ae)}function J(I){var ae=C(I).toHsl(),O=ae.h;return[C(I),C({h:(O+120)%360,s:ae.s,l:ae.l}),C({h:(O+240)%360,s:ae.s,l:ae.l})]}function W(I){var ae=C(I).toHsl(),O=ae.h;return[C(I),C({h:(O+90)%360,s:ae.s,l:ae.l}),C({h:(O+180)%360,s:ae.s,l:ae.l}),C({h:(O+270)%360,s:ae.s,l:ae.l})]}function te(I){var ae=C(I).toHsl(),O=ae.h;return[C(I),C({h:(O+72)%360,s:ae.s,l:ae.l}),C({h:(O+216)%360,s:ae.s,l:ae.l})]}function fe(I,ae,O){ae=ae||6,O=O||30;var ne=C(I).toHsl(),be=360/O,ze=[C(I)];for(ne.h=(ne.h-(be*ae>>1)+720)%360;--ae;)ne.h=(ne.h+be)%360,ze.push(C(ne));return ze}function me(I,ae){ae=ae||6;for(var O=C(I).toHsv(),ne=O.h,be=O.s,ze=O.v,Ne=[],Oe=1/ae;ae--;)Ne.push(C({h:ne,s:be,v:ze})),ze=(ze+Oe)%1;return Ne}C.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var I=this.toRgb();return(299*I.r+587*I.g+114*I.b)/1e3},getLuminance:function(){var ae,O,ne,I=this.toRgb();return O=I.g/255,ne=I.b/255,.2126*((ae=I.r/255)<=.03928?ae/12.92:T.pow((ae+.055)/1.055,2.4))+.7152*(O<=.03928?O/12.92:T.pow((O+.055)/1.055,2.4))+.0722*(ne<=.03928?ne/12.92:T.pow((ne+.055)/1.055,2.4))},setAlpha:function(I){return this._a=ie(I),this._roundA=y(100*this._a)/100,this},toHsv:function(){var I=z(this._r,this._g,this._b);return{h:360*I.h,s:I.s,v:I.v,a:this._a}},toHsvString:function(){var I=z(this._r,this._g,this._b),ae=y(360*I.h),O=y(100*I.s),ne=y(100*I.v);return 1==this._a?"hsv("+ae+", "+O+"%, "+ne+"%)":"hsva("+ae+", "+O+"%, "+ne+"%, "+this._roundA+")"},toHsl:function(){var I=D(this._r,this._g,this._b);return{h:360*I.h,s:I.s,l:I.l,a:this._a}},toHslString:function(){var I=D(this._r,this._g,this._b),ae=y(360*I.h),O=y(100*I.s),ne=y(100*I.l);return 1==this._a?"hsl("+ae+", "+O+"%, "+ne+"%)":"hsla("+ae+", "+O+"%, "+ne+"%, "+this._roundA+")"},toHex:function(I){return E(this._r,this._g,this._b,I)},toHexString:function(I){return"#"+this.toHex(I)},toHex8:function(I){return function x(I,ae,O,ne,be){var ze=[Ue(y(I).toString(16)),Ue(y(ae).toString(16)),Ue(y(O).toString(16)),Ue(we(ne))];return be&&ze[0].charAt(0)==ze[0].charAt(1)&&ze[1].charAt(0)==ze[1].charAt(1)&&ze[2].charAt(0)==ze[2].charAt(1)&&ze[3].charAt(0)==ze[3].charAt(1)?ze[0].charAt(0)+ze[1].charAt(0)+ze[2].charAt(0)+ze[3].charAt(0):ze.join("")}(this._r,this._g,this._b,this._a,I)},toHex8String:function(I){return"#"+this.toHex8(I)},toRgb:function(){return{r:y(this._r),g:y(this._g),b:y(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+y(this._r)+", "+y(this._g)+", "+y(this._b)+")":"rgba("+y(this._r)+", "+y(this._g)+", "+y(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:y(100*ue(this._r,255))+"%",g:y(100*ue(this._g,255))+"%",b:y(100*ue(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+y(100*ue(this._r,255))+"%, "+y(100*ue(this._g,255))+"%, "+y(100*ue(this._b,255))+"%)":"rgba("+y(100*ue(this._r,255))+"%, "+y(100*ue(this._g,255))+"%, "+y(100*ue(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(G[E(this._r,this._g,this._b,!0)]||!1)},toFilter:function(I){var ae="#"+H(this._r,this._g,this._b,this._a),O=ae,ne=this._gradientType?"GradientType = 1, ":"";if(I){var be=C(I);O="#"+H(be._r,be._g,be._b,be._a)}return"progid:DXImageTransform.Microsoft.gradient("+ne+"startColorstr="+ae+",endColorstr="+O+")"},toString:function(I){var ae=!!I;I=I||this._format;var O=!1;return!ae&&this._a<1&&this._a>=0&&("hex"===I||"hex6"===I||"hex3"===I||"hex4"===I||"hex8"===I||"name"===I)?"name"===I&&0===this._a?this.toName():this.toRgbString():("rgb"===I&&(O=this.toRgbString()),"prgb"===I&&(O=this.toPercentageRgbString()),("hex"===I||"hex6"===I)&&(O=this.toHexString()),"hex3"===I&&(O=this.toHexString(!0)),"hex4"===I&&(O=this.toHex8String(!0)),"hex8"===I&&(O=this.toHex8String()),"name"===I&&(O=this.toName()),"hsl"===I&&(O=this.toHslString()),"hsv"===I&&(O=this.toHsvString()),O||this.toHexString())},clone:function(){return C(this.toString())},_applyModification:function(I,ae){var O=I.apply(null,[this].concat([].slice.call(ae)));return this._r=O._r,this._g=O._g,this._b=O._b,this.setAlpha(O._a),this},lighten:function(){return this._applyModification(Y,arguments)},brighten:function(){return this._applyModification($,arguments)},darken:function(){return this._applyModification(Q,arguments)},desaturate:function(){return this._applyModification(b,arguments)},saturate:function(){return this._applyModification(N,arguments)},greyscale:function(){return this._applyModification(V,arguments)},spin:function(){return this._applyModification(se,arguments)},_applyCombination:function(I,ae){return I.apply(null,[this].concat([].slice.call(ae)))},analogous:function(){return this._applyCombination(fe,arguments)},complement:function(){return this._applyCombination(F,arguments)},monochromatic:function(){return this._applyCombination(me,arguments)},splitcomplement:function(){return this._applyCombination(te,arguments)},triad:function(){return this._applyCombination(J,arguments)},tetrad:function(){return this._applyCombination(W,arguments)}},C.fromRatio=function(I,ae){if("object"==typeof I){var O={};for(var ne in I)I.hasOwnProperty(ne)&&(O[ne]="a"===ne?I[ne]:Me(I[ne]));I=O}return C(I,ae)},C.equals=function(I,ae){return!(!I||!ae)&&C(I).toRgbString()==C(ae).toRgbString()},C.random=function(){return C.fromRatio({r:c(),g:c(),b:c()})},C.mix=function(I,ae,O){O=0===O?0:O||50;var ne=C(I).toRgb(),be=C(ae).toRgb(),ze=O/100;return C({r:(be.r-ne.r)*ze+ne.r,g:(be.g-ne.g)*ze+ne.g,b:(be.b-ne.b)*ze+ne.b,a:(be.a-ne.a)*ze+ne.a})},C.readability=function(I,ae){var O=C(I),ne=C(ae);return(T.max(O.getLuminance(),ne.getLuminance())+.05)/(T.min(O.getLuminance(),ne.getLuminance())+.05)},C.isReadable=function(I,ae,O){var be,ze,ne=C.readability(I,ae);switch(ze=!1,(be=function j(I){var ae,O;return"AA"!==(ae=((I=I||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==ae&&(ae="AA"),"small"!==(O=(I.size||"small").toLowerCase())&&"large"!==O&&(O="small"),{level:ae,size:O}}(O)).level+be.size){case"AAsmall":case"AAAlarge":ze=ne>=4.5;break;case"AAlarge":ze=ne>=3;break;case"AAAsmall":ze=ne>=7}return ze},C.mostReadable=function(I,ae,O){var ze,Ne,Oe,Be,ne=null,be=0;Ne=(O=O||{}).includeFallbackColors,Oe=O.level,Be=O.size;for(var Te=0;Te<ae.length;Te++)(ze=C.readability(I,ae[Te]))>be&&(be=ze,ne=C(ae[Te]));return C.isReadable(I,ne,{level:Oe,size:Be})||!Ne?ne:(O.includeFallbackColors=!1,C.mostReadable(I,["#fff","#000"],O))};var Z=C.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},G=C.hexNames=function q(I){var ae={};for(var O in I)I.hasOwnProperty(O)&&(ae[I[O]]=O);return ae}(Z);function ie(I){return I=parseFloat(I),(isNaN(I)||I<0||I>1)&&(I=1),I}function ue(I,ae){(function He(I){return"string"==typeof I&&-1!=I.indexOf(".")&&1===parseFloat(I)})(I)&&(I="100%");var O=function ke(I){return"string"==typeof I&&-1!=I.indexOf("%")}(I);return I=m(ae,h(0,parseFloat(I))),O&&(I=parseInt(I*ae,10)/100),T.abs(I-ae)<1e-6?1:I%ae/parseFloat(ae)}function le(I){return m(1,h(0,I))}function pe(I){return parseInt(I,16)}function Ue(I){return 1==I.length?"0"+I:""+I}function Me(I){return I<=1&&(I=100*I+"%"),I}function we(I){return T.round(255*parseFloat(I)).toString(16)}function Le(I){return pe(I)/255}var O,ne,be,B=(ne="[\\s|\\(]+("+(O="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+O+")[,|\\s]+("+O+")\\s*\\)?",be="[\\s|\\(]+("+O+")[,|\\s]+("+O+")[,|\\s]+("+O+")[,|\\s]+("+O+")\\s*\\)?",{CSS_UNIT:new RegExp(O),rgb:new RegExp("rgb"+ne),rgba:new RegExp("rgba"+be),hsl:new RegExp("hsl"+ne),hsla:new RegExp("hsla"+be),hsv:new RegExp("hsv"+ne),hsva:new RegExp("hsva"+be),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function P(I){return!!B.CSS_UNIT.exec(I)}ve.exports?ve.exports=C:void 0!==(p=function(){return C}.call(K,o,K,ve))&&(ve.exports=p)}(Math)},7020:function(ve,K,o){var p=o(8700),T=o(896),v=p.instance();function g(D){this.local=this.regionalOptions[D||""]||this.regionalOptions[""]}T(g.prototype=new p.baseCalendar,{name:"Chinese",jdEpoch:1721425.5,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(D,w){if("string"==typeof D){var z=D.match(y);return z?z[0]:""}var S=this._validateYear(D),E=D.month(),x=""+this.toChineseMonth(S,E);return w&&x.length<2&&(x="0"+x),this.isIntercalaryMonth(S,E)&&(x+="i"),x},monthNames:function(D){if("string"==typeof D){var w=D.match(m);return w?w[0]:""}var z=this._validateYear(D),S=D.month(),x=["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"][this.toChineseMonth(z,S)-1];return this.isIntercalaryMonth(z,S)&&(x="\u95f0"+x),x},monthNamesShort:function(D){if("string"==typeof D){var w=D.match(h);return w?w[0]:""}var z=this._validateYear(D),S=D.month(),x=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"][this.toChineseMonth(z,S)-1];return this.isIntercalaryMonth(z,S)&&(x="\u95f0"+x),x},parseMonth:function(D,w){D=this._validateYear(D);var S,z=parseInt(w);if(isNaN(z))"\u95f0"===w[0]&&(S=!0,w=w.substring(1)),"\u6708"===w[w.length-1]&&(w=w.substring(0,w.length-1)),z=1+["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"].indexOf(w);else{var E=w[w.length-1];S="i"===E||"I"===E}return this.toMonthIndex(D,z,S)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(D,w){if(D.year&&(D=D.year()),"number"!=typeof D||D<1888||D>2111)throw w.replace(/\{0\}/,this.local.name);return D},toMonthIndex:function(D,w,z){var S=this.intercalaryMonth(D);if(z&&w!==S||w<1||w>12)throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);return S?!z&&w<=S?w-1:w:w-1},toChineseMonth:function(D,w){D.year&&(w=(D=D.year()).month());var z=this.intercalaryMonth(D);if(w<0||w>(z?12:11))throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);return z?w<z?w+1:w:w+1},intercalaryMonth:function(D){return D=this._validateYear(D),c[D-c[0]]>>13},isIntercalaryMonth:function(D,w){D.year&&(w=(D=D.year()).month());var z=this.intercalaryMonth(D);return!!z&&z===w},leapYear:function(D){return 0!==this.intercalaryMonth(D)},weekOfYear:function(D,w,z){var N,S=this._validateYear(D,p.local.invalidyear),E=C[S-C[0]];(N=v.newDate(E>>9&4095,E>>5&15,31&E)).add(4-(N.dayOfWeek()||7),"d");var V=this.toJD(D,w,z)-N.toJD();return 1+Math.floor(V/7)},monthsInYear:function(D){return this.leapYear(D)?13:12},daysInMonth:function(D,w){D.year&&(w=D.month(),D=D.year()),D=this._validateYear(D);var z=c[D-c[0]];if(w>(z>>13?12:11))throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);return z&1<<12-w?30:29},weekDay:function(D,w,z){return(this.dayOfWeek(D,w,z)||7)<6},toJD:function(D,w,z){var S=this._validate(D,x,z,p.local.invalidDate);D=this._validateYear(S.year()),w=S.month(),z=S.day();var E=this.isIntercalaryMonth(D,w),x=this.toChineseMonth(D,w),H=function L(D,w,z,S,E){var x,H,$;if("object"==typeof D)H=D,x=w||{};else{var Y;if(!("number"==typeof D&&D>=1888&&D<=2111))throw new Error("Lunar year outside range 1888-2111");if(!("number"==typeof w&&w>=1&&w<=12))throw new Error("Lunar month outside range 1 - 12");if(!("number"==typeof z&&z>=1&&z<=30))throw new Error("Lunar day outside range 1 - 30");"object"==typeof S?(Y=!1,x=S):(Y=!!S,x=E||{}),H={year:D,month:w,day:z,isIntercalary:Y}}$=H.day-1;var F,Q=c[H.year-c[0]],se=Q>>13;F=se&&(H.month>se||H.isIntercalary)?H.month:H.month-1;for(var J=0;J<F;J++)$+=Q&1<<12-J?30:29;var te=C[H.year-C[0]],G=new Date(te>>9&4095,(te>>5&15)-1,(31&te)+$);return x.year=G.getFullYear(),x.month=1+G.getMonth(),x.day=G.getDate(),x}(D,x,z,E);return v.toJD(H.year,H.month,H.day)},fromJD:function(D){var w=v.fromJD(D),z=function _(D,w,z,S){var E,x;if("object"==typeof D)E=D,x=w||{};else{if(!("number"==typeof D&&D>=1888&&D<=2111))throw new Error("Solar year outside range 1888-2111");if(!("number"==typeof w&&w>=1&&w<=12))throw new Error("Solar month outside range 1 - 12");if(!("number"==typeof z&&z>=1&&z<=31))throw new Error("Solar day outside range 1 - 31");E={year:D,month:w,day:z},x=S||{}}var V=C[E.year-C[0]];x.year=(E.year<<9|E.month<<5|E.day)>=V?E.year:E.year-1,V=C[x.year-C[0]];var F,J=new Date(V>>9&4095,(V>>5&15)-1,31&V),W=new Date(E.year,E.month-1,E.day);F=Math.round((W-J)/864e5);var fe,te=c[x.year-c[0]];for(fe=0;fe<13;fe++){var me=te&1<<12-fe?30:29;if(F<me)break;F-=me}var Z=te>>13;return!Z||fe<Z?(x.isIntercalary=!1,x.month=1+fe):fe===Z?(x.isIntercalary=!0,x.month=fe):(x.isIntercalary=!1,x.month=fe),x.day=1+F,x}(w.year(),w.month(),w.day()),S=this.toMonthIndex(z.year,z.month,z.isIntercalary);return this.newDate(z.year,S,z.day)},fromString:function(D){var w=D.match(f),z=this._validateYear(+w[1]),x=this.toMonthIndex(z,+w[2],!!w[3]);return this.newDate(z,x,+w[4])},add:function(D,w,z){var S=D.year(),E=D.month(),x=this.isIntercalaryMonth(S,E),H=this.toChineseMonth(S,E),b=Object.getPrototypeOf(g.prototype).add.call(this,D,w,z);if("y"===z){var N=b.year(),V=b.month(),Y=this.isIntercalaryMonth(N,H),$=this.toMonthIndex(N,H,!(!x||!Y));$!==V&&b.month($)}return b}});var f=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,y=/^\d?\d[iI]?/m,m=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?\u6708/m,h=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?/m;p.calendars.chinese=g;var c=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],C=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},7411:function(ve,K,o){var p=o(8700);function v(g){this.local=this.regionalOptions[g||""]||this.regionalOptions[""]}o(896)(v.prototype=new p.baseCalendar,{name:"Coptic",jdEpoch:1825029.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(y){var f=this._validate(y,this.minMonth,this.minDay,p.local.invalidYear);return(y=f.year()+(f.year()<0?1:0))%4==3||y%4==-1},monthsInYear:function(g){return this._validate(g,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),13},weekOfYear:function(g,f,y){var m=this.newDate(g,f,y);return m.add(-m.dayOfWeek(),"d"),Math.floor((m.dayOfYear()-1)/7)+1},daysInMonth:function(g,f){var y=this._validate(g,f,this.minDay,p.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(13===y.month()&&this.leapYear(y.year())?1:0)},weekDay:function(g,f,y){return(this.dayOfWeek(g,f,y)||7)<6},toJD:function(g,f,y){var m=this._validate(g,f,y,p.local.invalidDate);return(g=m.year())<0&&g++,m.day()+30*(m.month()-1)+365*(g-1)+Math.floor(g/4)+this.jdEpoch-1},fromJD:function(g){var f=Math.floor(g)+.5-this.jdEpoch,y=Math.floor((f-Math.floor((f+366)/1461))/365)+1;y<=0&&y--,f=Math.floor(g)+.5-this.newDate(y,1,1).toJD();var m=Math.floor(f/30)+1;return this.newDate(y,m,f-30*(m-1)+1)}}),p.calendars.coptic=v},5668:function(ve,K,o){var p=o(8700);function v(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}o(896)(v.prototype=new p.baseCalendar,{name:"Discworld",jdEpoch:1721425.5,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(f){return this._validate(f,this.minMonth,this.minDay,p.local.invalidYear),!1},monthsInYear:function(f){return this._validate(f,this.minMonth,this.minDay,p.local.invalidYear),13},daysInYear:function(f){return this._validate(f,this.minMonth,this.minDay,p.local.invalidYear),400},weekOfYear:function(f,y,m){var h=this.newDate(f,y,m);return h.add(-h.dayOfWeek(),"d"),Math.floor((h.dayOfYear()-1)/8)+1},daysInMonth:function(f,y){var m=this._validate(f,y,this.minDay,p.local.invalidMonth);return this.daysPerMonth[m.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(f,y,m){return(this._validate(f,y,m,p.local.invalidDate).day()+1)%8},weekDay:function(f,y,m){var h=this.dayOfWeek(f,y,m);return h>=2&&h<=6},extraInfo:function(f,y,m){var h=this._validate(f,y,m,p.local.invalidDate);return{century:g[Math.floor((h.year()-1)/100)+1]||""}},toJD:function(f,y,m){var h=this._validate(f,y,m,p.local.invalidDate);return f=h.year()+(h.year()<0?1:0),y=h.month(),(m=h.day())+(y>1?16:0)+(y>2?32*(y-2):0)+400*(f-1)+this.jdEpoch-1},fromJD:function(f){f=Math.floor(f+.5)-Math.floor(this.jdEpoch)-1;var y=Math.floor(f/400)+1;f-=400*(y-1),f+=f>15?16:0;var m=Math.floor(f/32)+1;return this.newDate(y<=0?y-1:y,m,f-32*(m-1)+1)}});var g={20:"Fruitbat",21:"Anchovy"};p.calendars.discworld=v},2787:function(ve,K,o){var p=o(8700);function v(g){this.local=this.regionalOptions[g||""]||this.regionalOptions[""]}o(896)(v.prototype=new p.baseCalendar,{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(y){var f=this._validate(y,this.minMonth,this.minDay,p.local.invalidYear);return(y=f.year()+(f.year()<0?1:0))%4==3||y%4==-1},monthsInYear:function(g){return this._validate(g,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),13},weekOfYear:function(g,f,y){var m=this.newDate(g,f,y);return m.add(-m.dayOfWeek(),"d"),Math.floor((m.dayOfYear()-1)/7)+1},daysInMonth:function(g,f){var y=this._validate(g,f,this.minDay,p.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(13===y.month()&&this.leapYear(y.year())?1:0)},weekDay:function(g,f,y){return(this.dayOfWeek(g,f,y)||7)<6},toJD:function(g,f,y){var m=this._validate(g,f,y,p.local.invalidDate);return(g=m.year())<0&&g++,m.day()+30*(m.month()-1)+365*(g-1)+Math.floor(g/4)+this.jdEpoch-1},fromJD:function(g){var f=Math.floor(g)+.5-this.jdEpoch,y=Math.floor((f-Math.floor((f+366)/1461))/365)+1;y<=0&&y--,f=Math.floor(g)+.5-this.newDate(y,1,1).toJD();var m=Math.floor(f/30)+1;return this.newDate(y,m,f-30*(m-1)+1)}}),p.calendars.ethiopian=v},2084:function(ve,K,o){var p=o(8700);function v(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}function g(f,y){return f-y*Math.floor(f/y)}o(896)(v.prototype=new p.baseCalendar,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(f){var y=this._validate(f,this.minMonth,this.minDay,p.local.invalidYear);return this._leapYear(y.year())},_leapYear:function(f){return g(7*(f=f<0?f+1:f)+1,19)<7},monthsInYear:function(f){return this._validate(f,this.minMonth,this.minDay,p.local.invalidYear),this._leapYear(f.year?f.year():f)?13:12},weekOfYear:function(f,y,m){var h=this.newDate(f,y,m);return h.add(-h.dayOfWeek(),"d"),Math.floor((h.dayOfYear()-1)/7)+1},daysInYear:function(f){return f=this._validate(f,this.minMonth,this.minDay,p.local.invalidYear).year(),this.toJD(-1===f?1:f+1,7,1)-this.toJD(f,7,1)},daysInMonth:function(f,y){return f.year&&(y=f.month(),f=f.year()),this._validate(f,y,this.minDay,p.local.invalidMonth),12===y&&this.leapYear(f)||8===y&&5===g(this.daysInYear(f),10)?30:9===y&&3===g(this.daysInYear(f),10)?29:this.daysPerMonth[y-1]},weekDay:function(f,y,m){return 6!==this.dayOfWeek(f,y,m)},extraInfo:function(f,y,m){var h=this._validate(f,y,m,p.local.invalidDate);return{yearType:(this.leapYear(h)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(h)%10-3]}},toJD:function(f,y,m){var h=this._validate(f,y,m,p.local.invalidDate);f=h.year(),y=h.month(),m=h.day();var c=f<=0?f+1:f,C=this.jdEpoch+this._delay1(c)+this._delay2(c)+m+1;if(y<7){for(var _=7;_<=this.monthsInYear(f);_++)C+=this.daysInMonth(f,_);for(_=1;_<y;_++)C+=this.daysInMonth(f,_)}else for(_=7;_<y;_++)C+=this.daysInMonth(f,_);return C},_delay1:function(f){var y=Math.floor((235*f-234)/19),h=29*y+Math.floor((12084+13753*y)/25920);return g(3*(h+1),7)<3&&h++,h},_delay2:function(f){var y=this._delay1(f-1),m=this._delay1(f);return this._delay1(f+1)-m==356?2:m-y==382?1:0},fromJD:function(f){f=Math.floor(f)+.5;for(var y=Math.floor(98496*(f-this.jdEpoch)/35975351)-1;f>=this.toJD(-1===y?1:y+1,7,1);)y++;for(var m=f<this.toJD(y,1,1)?7:1;f>this.toJD(y,m,this.daysInMonth(y,m));)m++;var h=f-this.toJD(y,m,1)+1;return this.newDate(y,m,h)}}),p.calendars.hebrew=v},6368:function(ve,K,o){var p=o(8700);function v(g){this.local=this.regionalOptions[g||""]||this.regionalOptions[""]}o(896)(v.prototype=new p.baseCalendar,{name:"Islamic",jdEpoch:1948439.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(g){return(11*this._validate(g,this.minMonth,this.minDay,p.local.invalidYear).year()+14)%30<11},weekOfYear:function(g,f,y){var m=this.newDate(g,f,y);return m.add(-m.dayOfWeek(),"d"),Math.floor((m.dayOfYear()-1)/7)+1},daysInYear:function(g){return this.leapYear(g)?355:354},daysInMonth:function(g,f){var y=this._validate(g,f,this.minDay,p.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(12===y.month()&&this.leapYear(y.year())?1:0)},weekDay:function(g,f,y){return 5!==this.dayOfWeek(g,f,y)},toJD:function(g,f,y){var m=this._validate(g,f,y,p.local.invalidDate);return g=m.year(),f=m.month(),g=g<=0?g+1:g,(y=m.day())+Math.ceil(29.5*(f-1))+354*(g-1)+Math.floor((3+11*g)/30)+this.jdEpoch-1},fromJD:function(g){g=Math.floor(g)+.5;var f=Math.floor((30*(g-this.jdEpoch)+10646)/10631);f=f<=0?f-1:f;var y=Math.min(12,Math.ceil((g-29-this.toJD(f,1,1))/29.5)+1),m=g-this.toJD(f,y,1)+1;return this.newDate(f,y,m)}}),p.calendars.islamic=v},4747:function(ve,K,o){var p=o(8700);function v(g){this.local=this.regionalOptions[g||""]||this.regionalOptions[""]}o(896)(v.prototype=new p.baseCalendar,{name:"Julian",jdEpoch:1721423.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(y){var f=this._validate(y,this.minMonth,this.minDay,p.local.invalidYear);return(y=f.year()<0?f.year()+1:f.year())%4==0},weekOfYear:function(g,f,y){var m=this.newDate(g,f,y);return m.add(4-(m.dayOfWeek()||7),"d"),Math.floor((m.dayOfYear()-1)/7)+1},daysInMonth:function(g,f){var y=this._validate(g,f,this.minDay,p.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(2===y.month()&&this.leapYear(y.year())?1:0)},weekDay:function(g,f,y){return(this.dayOfWeek(g,f,y)||7)<6},toJD:function(g,f,y){var m=this._validate(g,f,y,p.local.invalidDate);return g=m.year(),f=m.month(),y=m.day(),g<0&&g++,f<=2&&(g--,f+=12),Math.floor(365.25*(g+4716))+Math.floor(30.6001*(f+1))+y-1524.5},fromJD:function(g){var y=Math.floor(g+.5)+1524,m=Math.floor((y-122.1)/365.25),h=Math.floor(365.25*m),c=Math.floor((y-h)/30.6001),C=c-Math.floor(c<14?1:13),_=m-Math.floor(C>2?4716:4715),L=y-h-Math.floor(30.6001*c);return _<=0&&_--,this.newDate(_,C,L)}}),p.calendars.julian=v},5616:function(ve,K,o){var p=o(8700);function v(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}function g(y,m){return y-m*Math.floor(y/m)}function f(y,m){return g(y-1,m)+1}o(896)(v.prototype=new p.baseCalendar,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(y){return this._validate(y,this.minMonth,this.minDay,p.local.invalidYear),!1},formatYear:function(y){y=this._validate(y,this.minMonth,this.minDay,p.local.invalidYear).year();var h=Math.floor(y/400);return y%=400,y+=y<0?400:0,h+"."+Math.floor(y/20)+"."+y%20},forYear:function(y){if((y=y.split(".")).length<3)throw"Invalid Mayan year";for(var m=0,h=0;h<y.length;h++){var c=parseInt(y[h],10);if(Math.abs(c)>19||h>0&&c<0)throw"Invalid Mayan year";m=20*m+c}return m},monthsInYear:function(y){return this._validate(y,this.minMonth,this.minDay,p.local.invalidYear),18},weekOfYear:function(y,m,h){return this._validate(y,m,h,p.local.invalidDate),0},daysInYear:function(y){return this._validate(y,this.minMonth,this.minDay,p.local.invalidYear),360},daysInMonth:function(y,m){return this._validate(y,m,this.minDay,p.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(y,m,h){return this._validate(y,m,h,p.local.invalidDate).day()},weekDay:function(y,m,h){return this._validate(y,m,h,p.local.invalidDate),!0},extraInfo:function(y,m,h){var C=this._validate(y,m,h,p.local.invalidDate).toJD(),_=this._toHaab(C),L=this._toTzolkin(C);return{haabMonthName:this.local.haabMonths[_[0]-1],haabMonth:_[0],haabDay:_[1],tzolkinDayName:this.local.tzolkinMonths[L[0]-1],tzolkinDay:L[0],tzolkinTrecena:L[1]}},_toHaab:function(y){var m=g(8+(y-=this.jdEpoch)+340,365);return[Math.floor(m/20)+1,g(m,20)]},_toTzolkin:function(y){return[f(20+(y-=this.jdEpoch),20),f(y+4,13)]},toJD:function(y,m,h){var c=this._validate(y,m,h,p.local.invalidDate);return c.day()+20*c.month()+360*c.year()+this.jdEpoch},fromJD:function(y){y=Math.floor(y)+.5-this.jdEpoch;var m=Math.floor(y/360);y%=360,y+=y<0?360:0;var h=Math.floor(y/20);return this.newDate(m,h,y%20)}}),p.calendars.mayan=v},632:function(ve,K,o){var p=o(8700),T=o(896);function v(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}v.prototype=new p.baseCalendar;var g=p.instance("gregorian");T(v.prototype,{name:"Nanakshahi",jdEpoch:2257673.5,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(f){var y=this._validate(f,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return g.leapYear(y.year()+(y.year()<1?1:0)+1469)},weekOfYear:function(f,y,m){var h=this.newDate(f,y,m);return h.add(1-(h.dayOfWeek()||7),"d"),Math.floor((h.dayOfYear()-1)/7)+1},daysInMonth:function(f,y){var m=this._validate(f,y,this.minDay,p.local.invalidMonth);return this.daysPerMonth[m.month()-1]+(12===m.month()&&this.leapYear(m.year())?1:0)},weekDay:function(f,y,m){return(this.dayOfWeek(f,y,m)||7)<6},toJD:function(c,y,m){var h=this._validate(c,y,m,p.local.invalidMonth);(c=h.year())<0&&c++;for(var C=h.day(),_=1;_<h.month();_++)C+=this.daysPerMonth[_-1];return C+g.toJD(c+1468,3,13)},fromJD:function(f){f=Math.floor(f+.5);for(var y=Math.floor((f-(this.jdEpoch-1))/366);f>=this.toJD(y+1,1,1);)y++;for(var m=f-Math.floor(this.toJD(y,1,1)+.5)+1,h=1;m>this.daysInMonth(y,h);)m-=this.daysInMonth(y,h),h++;return this.newDate(y,h,m)}}),p.calendars.nanakshahi=v},3040:function(ve,K,o){var p=o(8700);function v(g){this.local=this.regionalOptions[g||""]||this.regionalOptions[""]}o(896)(v.prototype=new p.baseCalendar,{name:"Nepali",jdEpoch:1700709.5,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(g){return this.daysInYear(g)!==this.daysPerYear},weekOfYear:function(g,f,y){var m=this.newDate(g,f,y);return m.add(-m.dayOfWeek(),"d"),Math.floor((m.dayOfYear()-1)/7)+1},daysInYear:function(g){if(g=this._validate(g,this.minMonth,this.minDay,p.local.invalidYear).year(),typeof this.NEPALI_CALENDAR_DATA[g]>"u")return this.daysPerYear;for(var y=0,m=this.minMonth;m<=12;m++)y+=this.NEPALI_CALENDAR_DATA[g][m];return y},daysInMonth:function(g,f){return g.year&&(f=g.month(),g=g.year()),this._validate(g,f,this.minDay,p.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[g]>"u"?this.daysPerMonth[f-1]:this.NEPALI_CALENDAR_DATA[g][f]},weekDay:function(g,f,y){return 6!==this.dayOfWeek(g,f,y)},toJD:function(g,f,y){var m=this._validate(g,f,y,p.local.invalidDate);g=m.year(),f=m.month(),y=m.day();var h=p.instance(),c=0,C=f,_=g;this._createMissingCalendarData(g);var L=g-(C>9||9===C&&y>=this.NEPALI_CALENDAR_DATA[_][0]?56:57);for(9!==f&&(c=y,C--);9!==C;)C<=0&&(C=12,_--),c+=this.NEPALI_CALENDAR_DATA[_][C],C--;return 9===f?(c+=y-this.NEPALI_CALENDAR_DATA[_][0])<0&&(c+=h.daysInYear(L)):c+=this.NEPALI_CALENDAR_DATA[_][9]-this.NEPALI_CALENDAR_DATA[_][0],h.newDate(L,1,1).add(c,"d").toJD()},fromJD:function(g){var y=p.instance().fromJD(g),m=y.year(),h=y.dayOfYear(),c=m+56;this._createMissingCalendarData(c);for(var C=9,L=this.NEPALI_CALENDAR_DATA[c][C]-this.NEPALI_CALENDAR_DATA[c][0]+1;h>L;)++C>12&&(C=1,c++),L+=this.NEPALI_CALENDAR_DATA[c][C];return this.newDate(c,C,this.NEPALI_CALENDAR_DATA[c][C]-(L-h))},_createMissingCalendarData:function(g){var f=this.daysPerMonth.slice(0);f.unshift(17);for(var y=g-1;y<g+2;y++)typeof this.NEPALI_CALENDAR_DATA[y]>"u"&&(this.NEPALI_CALENDAR_DATA[y]=f)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),p.calendars.nepali=v},1104:function(ve,K,o){var p=o(8700);function v(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}function g(f,y){return f-y*Math.floor(f/y)}o(896)(v.prototype=new p.baseCalendar,{name:"Persian",jdEpoch:1948320.5,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xe6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xe6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(f){var y=this._validate(f,this.minMonth,this.minDay,p.local.invalidYear);return 682*((y.year()-(y.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(f,y,m){var h=this.newDate(f,y,m);return h.add(-(h.dayOfWeek()+1)%7,"d"),Math.floor((h.dayOfYear()-1)/7)+1},daysInMonth:function(f,y){var m=this._validate(f,y,this.minDay,p.local.invalidMonth);return this.daysPerMonth[m.month()-1]+(12===m.month()&&this.leapYear(m.year())?1:0)},weekDay:function(f,y,m){return 5!==this.dayOfWeek(f,y,m)},toJD:function(f,y,m){var h=this._validate(f,y,m,p.local.invalidDate);f=h.year(),y=h.month(),m=h.day();var c=f-(f>=0?474:473),C=474+g(c,2820);return m+(y<=7?31*(y-1):30*(y-1)+6)+Math.floor((682*C-110)/2816)+365*(C-1)+1029983*Math.floor(c/2820)+this.jdEpoch-1},fromJD:function(f){var y=(f=Math.floor(f)+.5)-this.toJD(475,1,1),m=Math.floor(y/1029983),h=g(y,1029983),c=2820;if(1029982!==h){var C=Math.floor(h/366),_=g(h,366);c=Math.floor((2134*C+2816*_+2815)/1028522)+C+1}var L=c+2820*m+474,D=f-this.toJD(L=L<=0?L-1:L,1,1)+1,w=D<=186?Math.ceil(D/31):Math.ceil((D-6)/30),z=f-this.toJD(L,w,1)+1;return this.newDate(L,w,z)}}),p.calendars.persian=v,p.calendars.jalali=v},9075:function(ve,K,o){var p=o(8700),T=o(896),v=p.instance();function g(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}T(g.prototype=new p.baseCalendar,{name:"Taiwan",jdEpoch:2419402.5,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(m){var y=this._validate(m,this.minMonth,this.minDay,p.local.invalidYear);return m=this._t2gYear(y.year()),v.leapYear(m)},weekOfYear:function(c,y,m){var h=this._validate(c,this.minMonth,this.minDay,p.local.invalidYear);return c=this._t2gYear(h.year()),v.weekOfYear(c,h.month(),h.day())},daysInMonth:function(f,y){var m=this._validate(f,y,this.minDay,p.local.invalidMonth);return this.daysPerMonth[m.month()-1]+(2===m.month()&&this.leapYear(m.year())?1:0)},weekDay:function(f,y,m){return(this.dayOfWeek(f,y,m)||7)<6},toJD:function(c,y,m){var h=this._validate(c,y,m,p.local.invalidDate);return c=this._t2gYear(h.year()),v.toJD(c,h.month(),h.day())},fromJD:function(f){var y=v.fromJD(f),m=this._g2tYear(y.year());return this.newDate(m,y.month(),y.day())},_t2gYear:function(f){return f+this.yearsOffset+(f>=-this.yearsOffset&&f<=-1?1:0)},_g2tYear:function(f){return f-this.yearsOffset-(f>=1&&f<=this.yearsOffset?1:0)}}),p.calendars.taiwan=g},4592:function(ve,K,o){var p=o(8700),T=o(896),v=p.instance();function g(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}T(g.prototype=new p.baseCalendar,{name:"Thai",jdEpoch:1523098.5,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(m){var y=this._validate(m,this.minMonth,this.minDay,p.local.invalidYear);return m=this._t2gYear(y.year()),v.leapYear(m)},weekOfYear:function(c,y,m){var h=this._validate(c,this.minMonth,this.minDay,p.local.invalidYear);return c=this._t2gYear(h.year()),v.weekOfYear(c,h.month(),h.day())},daysInMonth:function(f,y){var m=this._validate(f,y,this.minDay,p.local.invalidMonth);return this.daysPerMonth[m.month()-1]+(2===m.month()&&this.leapYear(m.year())?1:0)},weekDay:function(f,y,m){return(this.dayOfWeek(f,y,m)||7)<6},toJD:function(c,y,m){var h=this._validate(c,y,m,p.local.invalidDate);return c=this._t2gYear(h.year()),v.toJD(c,h.month(),h.day())},fromJD:function(f){var y=v.fromJD(f),m=this._g2tYear(y.year());return this.newDate(m,y.month(),y.day())},_t2gYear:function(f){return f-this.yearsOffset-(f>=1&&f<=this.yearsOffset?1:0)},_g2tYear:function(f){return f+this.yearsOffset+(f>=-this.yearsOffset&&f<=-1?1:0)}}),p.calendars.thai=g},5348:function(ve,K,o){var p=o(8700);function v(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}o(896)(v.prototype=new p.baseCalendar,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(f){var y=this._validate(f,this.minMonth,this.minDay,p.local.invalidYear);return 355===this.daysInYear(y.year())},weekOfYear:function(f,y,m){var h=this.newDate(f,y,m);return h.add(-h.dayOfWeek(),"d"),Math.floor((h.dayOfYear()-1)/7)+1},daysInYear:function(f){for(var y=0,m=1;m<=12;m++)y+=this.daysInMonth(f,m);return y},daysInMonth:function(f,y){for(var h=this._validate(f,y,this.minDay,p.local.invalidMonth).toJD()-24e5+.5,c=0,C=0;C<g.length;C++){if(g[C]>h)return g[c]-g[c-1];c++}return 30},weekDay:function(f,y,m){return 5!==this.dayOfWeek(f,y,m)},toJD:function(f,y,m){var h=this._validate(f,y,m,p.local.invalidDate),c=12*(h.year()-1)+h.month()-15292;return h.day()+g[c-1]-1+24e5-.5},fromJD:function(f){for(var y=f-24e5+.5,m=0,h=0;h<g.length&&!(g[h]>y);h++)m++;var c=m+15292,C=Math.floor((c-1)/12);return this.newDate(C+1,c-12*C,y-g[m-1]+1)},isValid:function(f,y,m){var h=p.baseCalendar.prototype.isValid.apply(this,arguments);return h&&(h=(f=null!=f.year?f.year:f)>=1276&&f<=1500),h},_validate:function(f,y,m,h){var c=p.baseCalendar.prototype._validate.apply(this,arguments);if(c.year<1276||c.year>1500)throw h.replace(/\{0\}/,this.local.name);return c}}),p.calendars.ummalqura=v;var g=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},8700:function(ve,K,o){var p=o(896);function T(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function v(h,c,C,_){if(this._calendar=h,this._year=c,this._month=C,this._day=_,0===this._calendar._validateLevel&&!this._calendar.isValid(this._year,this._month,this._day))throw(m.local.invalidDate||m.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function g(h,c){return"000000".substring(0,c-(h=""+h).length)+h}function f(){this.shortYearCutoff="+10"}function y(h){this.local=this.regionalOptions[h]||this.regionalOptions[""]}p(T.prototype,{instance:function(h,c){h=(h||"gregorian").toLowerCase();var C=this._localCals[h+"-"+(c=c||"")];if(!C&&this.calendars[h]&&(C=new this.calendars[h](c),this._localCals[h+"-"+c]=C),!C)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,h);return C},newDate:function(h,c,C,_,L){return(_=(null!=h&&h.year?h.calendar():"string"==typeof _?this.instance(_,L):_)||this.instance()).newDate(h,c,C)},substituteDigits:function(h){return function(c){return(c+"").replace(/[0-9]/g,function(C){return h[C]})}},substituteChineseDigits:function(h,c){return function(C){for(var _="",L=0;C>0;){var D=C%10;_=(0===D?"":h[D]+c[L])+_,L++,C=Math.floor(C/10)}return 0===_.indexOf(h[1]+c[1])&&(_=_.substr(1)),_||h[0]}}}),p(v.prototype,{newDate:function(h,c,C){return this._calendar.newDate(h??this,c,C)},year:function(h){return 0===arguments.length?this._year:this.set(h,"y")},month:function(h){return 0===arguments.length?this._month:this.set(h,"m")},day:function(h){return 0===arguments.length?this._day:this.set(h,"d")},date:function(h,c,C){if(!this._calendar.isValid(h,c,C))throw(m.local.invalidDate||m.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=h,this._month=c,this._day=C,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(h,c){return this._calendar.add(this,h,c)},set:function(h,c){return this._calendar.set(this,h,c)},compareTo:function(h){if(this._calendar.name!==h._calendar.name)throw(m.local.differentCalendars||m.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,h._calendar.local.name);var c=this._year!==h._year?this._year-h._year:this._month!==h._month?this.monthOfYear()-h.monthOfYear():this._day-h._day;return 0===c?0:c<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(h){return this._calendar.fromJD(h)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(h){return this._calendar.fromJSDate(h)},toString:function(){return(this.year()<0?"-":"")+g(Math.abs(this.year()),4)+"-"+g(this.month(),2)+"-"+g(this.day(),2)}}),p(f.prototype,{_validateLevel:0,newDate:function(h,c,C){return null==h?this.today():(h.year&&(this._validate(h,c,C,m.local.invalidDate||m.regionalOptions[""].invalidDate),C=h.day(),c=h.month(),h=h.year()),new v(this,h,c,C))},today:function(){return this.fromJSDate(new Date)},epoch:function(h){return this._validate(h,this.minMonth,this.minDay,m.local.invalidYear||m.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(h){var c=this._validate(h,this.minMonth,this.minDay,m.local.invalidYear||m.regionalOptions[""].invalidYear);return(c.year()<0?"-":"")+g(Math.abs(c.year()),4)},monthsInYear:function(h){return this._validate(h,this.minMonth,this.minDay,m.local.invalidYear||m.regionalOptions[""].invalidYear),12},monthOfYear:function(h,c){var C=this._validate(h,c,this.minDay,m.local.invalidMonth||m.regionalOptions[""].invalidMonth);return(C.month()+this.monthsInYear(C)-this.firstMonth)%this.monthsInYear(C)+this.minMonth},fromMonthOfYear:function(h,c){var C=(c+this.firstMonth-2*this.minMonth)%this.monthsInYear(h)+this.minMonth;return this._validate(h,C,this.minDay,m.local.invalidMonth||m.regionalOptions[""].invalidMonth),C},daysInYear:function(h){var c=this._validate(h,this.minMonth,this.minDay,m.local.invalidYear||m.regionalOptions[""].invalidYear);return this.leapYear(c)?366:365},dayOfYear:function(h,c,C){var _=this._validate(h,c,C,m.local.invalidDate||m.regionalOptions[""].invalidDate);return _.toJD()-this.newDate(_.year(),this.fromMonthOfYear(_.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(h,c,C){var _=this._validate(h,c,C,m.local.invalidDate||m.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(_))+2)%this.daysInWeek()},extraInfo:function(h,c,C){return this._validate(h,c,C,m.local.invalidDate||m.regionalOptions[""].invalidDate),{}},add:function(h,c,C){return this._validate(h,this.minMonth,this.minDay,m.local.invalidDate||m.regionalOptions[""].invalidDate),this._correctAdd(h,this._add(h,c,C),c,C)},_add:function(h,c,C){if(this._validateLevel++,"d"===C||"w"===C){var _=h.toJD()+c*("w"===C?this.daysInWeek():1),L=h.calendar().fromJD(_);return this._validateLevel--,[L.year(),L.month(),L.day()]}try{var D=h.year()+("y"===C?c:0),w=h.monthOfYear()+("m"===C?c:0),z=(L=h.day(),function(x){for(;w<x.minMonth;)D--,w+=x.monthsInYear(D);for(var H=x.monthsInYear(D);w>H-1+x.minMonth;)D++,w-=H,H=x.monthsInYear(D)});"y"===C?(h.month()!==this.fromMonthOfYear(D,w)&&(w=this.newDate(D,h.month(),this.minDay).monthOfYear()),w=Math.min(w,this.monthsInYear(D)),L=Math.min(L,this.daysInMonth(D,this.fromMonthOfYear(D,w)))):"m"===C&&(z(this),L=Math.min(L,this.daysInMonth(D,this.fromMonthOfYear(D,w))));var S=[D,this.fromMonthOfYear(D,w),L];return this._validateLevel--,S}catch(E){throw this._validateLevel--,E}},_correctAdd:function(h,c,C,_){if(!(this.hasYearZero||"y"!==_&&"m"!==_||0!==c[0]&&h.year()>0==c[0]>0)){var L={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[_];c=this._add(h,C*L[0]+(C<0?-1:1)*L[1],L[2])}return h.date(c[0],c[1],c[2])},set:function(h,c,C){this._validate(h,this.minMonth,this.minDay,m.local.invalidDate||m.regionalOptions[""].invalidDate);var _="y"===C?c:h.year(),L="m"===C?c:h.month(),D="d"===C?c:h.day();return("y"===C||"m"===C)&&(D=Math.min(D,this.daysInMonth(_,L))),h.date(_,L,D)},isValid:function(h,c,C){this._validateLevel++;var _=this.hasYearZero||0!==h;if(_){var L=this.newDate(h,c,this.minDay);_=c>=this.minMonth&&c-this.minMonth<this.monthsInYear(L)&&C>=this.minDay&&C-this.minDay<this.daysInMonth(L)}return this._validateLevel--,_},toJSDate:function(h,c,C){var _=this._validate(h,c,C,m.local.invalidDate||m.regionalOptions[""].invalidDate);return m.instance().fromJD(this.toJD(_)).toJSDate()},fromJSDate:function(h){return this.fromJD(m.instance().fromJSDate(h).toJD())},_validate:function(h,c,C,_){if(h.year){if(0===this._validateLevel&&this.name!==h.calendar().name)throw(m.local.differentCalendars||m.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,h.calendar().local.name);return h}try{if(this._validateLevel++,1===this._validateLevel&&!this.isValid(h,c,C))throw _.replace(/\{0\}/,this.local.name);var L=this.newDate(h,c,C);return this._validateLevel--,L}catch(D){throw this._validateLevel--,D}}}),p(y.prototype=new f,{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(C){var c=this._validate(C,this.minMonth,this.minDay,m.local.invalidYear||m.regionalOptions[""].invalidYear);return(C=c.year()+(c.year()<0?1:0))%4==0&&(C%100!=0||C%400==0)},weekOfYear:function(h,c,C){var _=this.newDate(h,c,C);return _.add(4-(_.dayOfWeek()||7),"d"),Math.floor((_.dayOfYear()-1)/7)+1},daysInMonth:function(h,c){var C=this._validate(h,c,this.minDay,m.local.invalidMonth||m.regionalOptions[""].invalidMonth);return this.daysPerMonth[C.month()-1]+(2===C.month()&&this.leapYear(C.year())?1:0)},weekDay:function(h,c,C){return(this.dayOfWeek(h,c,C)||7)<6},toJD:function(h,c,C){var _=this._validate(h,c,C,m.local.invalidDate||m.regionalOptions[""].invalidDate);h=_.year(),c=_.month(),C=_.day(),h<0&&h++,c<3&&(c+=12,h--);var L=Math.floor(h/100),D=2-L+Math.floor(L/4);return Math.floor(365.25*(h+4716))+Math.floor(30.6001*(c+1))+C+D-1524.5},fromJD:function(h){var c=Math.floor(h+.5),C=Math.floor((c-1867216.25)/36524.25),_=1524+(C=c+1+C-Math.floor(C/4)),L=Math.floor((_-122.1)/365.25),D=Math.floor(365.25*L),w=Math.floor((_-D)/30.6001),z=_-D-Math.floor(30.6001*w),S=w-(w>13.5?13:1),E=L-(S>2.5?4716:4715);return E<=0&&E--,this.newDate(E,S,z)},toJSDate:function(h,c,C){var _=this._validate(h,c,C,m.local.invalidDate||m.regionalOptions[""].invalidDate),L=new Date(_.year(),_.month()-1,_.day());return L.setHours(0),L.setMinutes(0),L.setSeconds(0),L.setMilliseconds(0),L.setHours(L.getHours()>12?L.getHours()+2:0),L},fromJSDate:function(h){return this.newDate(h.getFullYear(),h.getMonth()+1,h.getDate())}});var m=ve.exports=new T;m.cdate=v,m.baseCalendar=f,m.calendars.gregorian=y},5168:function(ve,K,o){var p=o(896),T=o(8700);p(T.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),T.local=T.regionalOptions[""],p(T.cdate.prototype,{formatDate:function(v,g){return"string"!=typeof v&&(g=v,v=""),this._calendar.formatDate(v||"",this,g)}}),p(T.baseCalendar.prototype,{UNIX_EPOCH:T.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:T.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(v,g,f){if("string"!=typeof v&&(f=g,g=v,v=""),!g)return"";if(g.calendar()!==this)throw T.local.invalidFormat||T.regionalOptions[""].invalidFormat;v=v||this.local.dateFormat;for(var y=(f=f||{}).dayNamesShort||this.local.dayNamesShort,m=f.dayNames||this.local.dayNames,h=f.monthNumbers||this.local.monthNumbers,c=f.monthNamesShort||this.local.monthNamesShort,C=f.monthNames||this.local.monthNames,L=function(Y,$){for(var Q=1;V+Q<v.length&&v.charAt(V+Q)===Y;)Q++;return V+=Q-1,Math.floor(Q/($||1))>1},D=function(Y,$,Q,se){var F=""+$;if(L(Y,se))for(;F.length<Q;)F="0"+F;return F},z=this,S=function(Y){return"function"==typeof h?h.call(z,Y,L("m")):H(D("m",Y.month(),2))},E=function(Y,$){return $?"function"==typeof C?C.call(z,Y):C[Y.month()-z.minMonth]:"function"==typeof c?c.call(z,Y):c[Y.month()-z.minMonth]},x=this.local.digits,H=function(Y){return f.localNumbers&&x?x(Y):Y},b="",N=!1,V=0;V<v.length;V++)if(N)"'"!==v.charAt(V)||L("'")?b+=v.charAt(V):N=!1;else switch(v.charAt(V)){case"d":b+=H(D("d",g.day(),2));break;case"D":b+=(Y="D",$=g.dayOfWeek(),Q=y,se=m,L(Y)?se[$]:Q[$]);break;case"o":b+=D("o",g.dayOfYear(),3);break;case"w":b+=D("w",g.weekOfYear(),2);break;case"m":b+=S(g);break;case"M":b+=E(g,L("M"));break;case"y":b+=L("y",2)?g.year():(g.year()%100<10?"0":"")+g.year()%100;break;case"Y":L("Y",2),b+=g.formatYear();break;case"J":b+=g.toJD();break;case"@":b+=(g.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":b+=(g.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":L("'")?b+="'":N=!0;break;default:b+=v.charAt(V)}var Y,$,Q,se;return b},parseDate:function(v,g,f){if(null==g)throw T.local.invalidArguments||T.regionalOptions[""].invalidArguments;if(""===(g="object"==typeof g?g.toString():g+""))return null;v=v||this.local.dateFormat;var y=(f=f||{}).shortYearCutoff||this.shortYearCutoff;y="string"!=typeof y?y:this.today().year()%100+parseInt(y,10);for(var m=f.dayNamesShort||this.local.dayNamesShort,h=f.dayNames||this.local.dayNames,c=f.parseMonth||this.local.parseMonth,C=f.monthNumbers||this.local.monthNumbers,_=f.monthNamesShort||this.local.monthNamesShort,L=f.monthNames||this.local.monthNames,D=-1,w=-1,z=-1,S=-1,E=-1,x=!1,H=!1,b=function(fe,me){for(var Z=1;J+Z<v.length&&v.charAt(J+Z)===fe;)Z++;return J+=Z-1,Math.floor(Z/(me||1))>1},N=function(fe,me){var Z=b(fe,me),G=[2,3,Z?4:2,Z?4:2,10,11,20]["oyYJ@!".indexOf(fe)+1],q=new RegExp("^-?\\d{1,"+G+"}"),ie=g.substring(F).match(q);if(!ie)throw(T.local.missingNumberAt||T.regionalOptions[""].missingNumberAt).replace(/\{0\}/,F);return F+=ie[0].length,parseInt(ie[0],10)},V=this,Y=function(){if("function"==typeof C){b("m");var fe=C.call(V,g.substring(F));return F+=fe.length,fe}return N("m")},$=function(fe,me,Z,G){for(var q=b(fe,G)?Z:me,ie=0;ie<q.length;ie++)if(g.substr(F,q[ie].length).toLowerCase()===q[ie].toLowerCase())return F+=q[ie].length,ie+V.minMonth;throw(T.local.unknownNameAt||T.regionalOptions[""].unknownNameAt).replace(/\{0\}/,F)},Q=function(){if("function"==typeof L){var fe=b("M")?L.call(V,g.substring(F)):_.call(V,g.substring(F));return F+=fe.length,fe}return $("M",_,L)},se=function(){if(g.charAt(F)!==v.charAt(J))throw(T.local.unexpectedLiteralAt||T.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,F);F++},F=0,J=0;J<v.length;J++)if(H)"'"!==v.charAt(J)||b("'")?se():H=!1;else switch(v.charAt(J)){case"d":S=N("d");break;case"D":$("D",m,h);break;case"o":E=N("o");break;case"w":N("w");break;case"m":z=Y();break;case"M":z=Q();break;case"y":var W=J;x=!b("y",2),J=W,w=N("y",2);break;case"Y":w=N("Y",2);break;case"J":D=N("J")+.5,"."===g.charAt(F)&&(F++,N("J"));break;case"@":D=N("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":D=N("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":F=g.length;break;case"'":b("'")?se():H=!0;break;default:se()}if(F<g.length)throw T.local.unexpectedText||T.regionalOptions[""].unexpectedText;if(-1===w?w=this.today().year():w<100&&x&&(w+=-1===y?1900:this.today().year()-this.today().year()%100-(w<=y?0:100)),"string"==typeof z&&(z=c.call(this,w,z)),E>-1){S=E;for(var te=this.daysInMonth(w,z=1);S>te;te=this.daysInMonth(w,z))z++,S-=te}return D>-1?this.fromJD(D):this.newDate(w,z,S)},determineDate:function(v,g,f,y,m){f&&"object"!=typeof f&&(m=y,y=f,f=null),"string"!=typeof y&&(m=y,y="");var h=this;return g=g?g.newDate():null,null==v?g:"string"==typeof v?function(C){try{return h.parseDate(y,C,m)}catch{}for(var _=((C=C.toLowerCase()).match(/^c/)&&f?f.newDate():null)||h.today(),L=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,D=L.exec(C);D;)_.add(parseInt(D[1],10),D[2]||"d"),D=L.exec(C);return _}(v):"number"==typeof v?isNaN(v)||v===1/0||v===-1/0?g:h.today().add(v,"d"):h.newDate(v)}})}},Ya={};function Ps(ve){var K=Ya[ve];if(void 0!==K)return K.exports;var o=Ya[ve]={exports:{}};return Fo[ve].call(o.exports,o,o.exports,Ps),o.exports}return Ps.d=function(ve,K){for(var o in K)Ps.o(K,o)&&!Ps.o(ve,o)&&Object.defineProperty(ve,o,{enumerable:!0,get:K[o]})},Ps.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),Ps.o=function(ve,K){return Object.prototype.hasOwnProperty.call(ve,K)},Ps.r=function(ve){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ve,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ve,"__esModule",{value:!0})},Ps(3472)}()}},z2=>{z2(z2.s=192)}]);