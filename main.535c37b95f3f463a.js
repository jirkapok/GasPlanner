var OSe=Object.defineProperty,ISe=Object.defineProperties,PSe=Object.getOwnPropertyDescriptors,IR=Object.getOwnPropertySymbols,RSe=Object.prototype.hasOwnProperty,FSe=Object.prototype.propertyIsEnumerable,PR=(L3,m,de)=>m in L3?OSe(L3,m,{enumerable:!0,configurable:!0,writable:!0,value:de}):L3[m]=de,Cn=(L3,m)=>{for(var de in m||(m={}))RSe.call(m,de)&&PR(L3,de,m[de]);if(IR)for(var de of IR(m))FSe.call(m,de)&&PR(L3,de,m[de]);return L3},Bd=(L3,m)=>ISe(L3,PSe(m));(self.webpackChunkplanner=self.webpackChunkplanner||[]).push([[179],{286:(L3,m,de)=>{"use strict";var ne={};function o(n){return"function"==typeof n}function g(n){const e=n(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}de.r(ne),de.d(ne,{afterMain:()=>LL,afterRead:()=>ML,afterWrite:()=>TL,applyStyles:()=>Bg,arrow:()=>Ig,auto:()=>af,basePlacements:()=>O5,beforeMain:()=>xL,beforeRead:()=>_L,beforeWrite:()=>DL,bottom:()=>K4,clippingParents:()=>vL,computeStyles:()=>Fg,createPopper:()=>My,createPopperBase:()=>tY,createPopperLite:()=>BL,detectOverflow:()=>j5,end:()=>I5,eventListeners:()=>Pg,flip:()=>Ng,hide:()=>oP,left:()=>h4,main:()=>wL,modifierPhases:()=>HL,offset:()=>Ug,placements:()=>Sg,popper:()=>P5,popperGenerator:()=>cf,popperOffsets:()=>Rg,preventOverflow:()=>Og,read:()=>bL,reference:()=>yL,right:()=>Z4,start:()=>U0,top:()=>d4,variationPlacements:()=>Dg,viewport:()=>Lg,write:()=>SL});const p=g(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function l(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class c{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const a of e)a.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(o(r))try{r()}catch(a){t=a instanceof p?a.errors:[a]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const a of i)try{h(a)}catch(s){t=null!=t?t:[],s instanceof p?t=[...t,...s.errors]:t.push(s)}}if(t)throw new p(t)}}add(t){var e;if(t&&t!==this)if(this.closed)h(t);else{if(t instanceof c){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&l(e,t)}remove(t){const{_finalizers:e}=this;e&&l(e,t),t instanceof c&&t._removeParent(this)}}c.EMPTY=(()=>{const n=new c;return n.closed=!0,n})();const C=c.EMPTY;function d(n){return n instanceof c||n&&"closed"in n&&o(n.remove)&&o(n.add)&&o(n.unsubscribe)}function h(n){o(n)?n():n.unsubscribe()}const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},_={setTimeout(n,t,...e){const{delegate:r}=_;return(null==r?void 0:r.setTimeout)?r.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=_;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function b(n){_.setTimeout(()=>{const{onUnhandledError:t}=u;if(!t)throw n;t(n)})}function M(){}const w=k("C",void 0,void 0);function k(n,t,e){return{kind:n,value:t,error:e}}let D=null;function S(n){if(u.useDeprecatedSynchronousErrorHandling){const t=!D;if(t&&(D={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:r}=D;if(D=null,e)throw r}}else n()}class V extends c{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,d(t)&&t.add(this)):this.destination=W}static create(t,e,r){return new B(t,e,r)}next(t){this.isStopped?Y(function z(n){return k("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Y(function N(n){return k("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Y(w,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const E=Function.prototype.bind;function I(n,t){return E.call(n,t)}class L{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(r){$(r)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(r){$(r)}else $(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){$(e)}}}class B extends V{constructor(t,e,r){let i;if(super(),o(t)||!t)i={next:null!=t?t:void 0,error:null!=e?e:void 0,complete:null!=r?r:void 0};else{let a;this&&u.useDeprecatedNextContext?(a=Object.create(t),a.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&I(t.next,a),error:t.error&&I(t.error,a),complete:t.complete&&I(t.complete,a)}):i=t}this.destination=new L(i)}}function $(n){u.useDeprecatedSynchronousErrorHandling?function P(n){u.useDeprecatedSynchronousErrorHandling&&D&&(D.errorThrown=!0,D.error=n)}(n):b(n)}function Y(n,t){const{onStoppedNotification:e}=u;e&&_.setTimeout(()=>e(n,t))}const W={closed:!0,next:M,error:function T(n){throw n},complete:M},q="function"==typeof Symbol&&Symbol.observable||"@@observable";function Q(n){return n}let me=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}subscribe(e,r,i){const a=function le(n){return n&&n instanceof V||function K(n){return n&&o(n.next)&&o(n.error)&&o(n.complete)}(n)&&d(n)}(e)?e:new B(e,r,i);return S(()=>{const{operator:s,source:y}=this;a.add(s?s.call(a,y):y?this._subscribe(a):this._trySubscribe(a))}),a}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=ie(r))((i,a)=>{const s=new B({next:y=>{try{e(y)}catch(H){a(H),s.unsubscribe()}},error:a,complete:i});this.subscribe(s)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[q](){return this}pipe(...e){return function ce(n){return 0===n.length?Q:1===n.length?n[0]:function(e){return n.reduce((r,i)=>i(r),e)}}(e)(this)}toPromise(e){return new(e=ie(e))((r,i)=>{let a;this.subscribe(s=>a=s,s=>i(s),()=>r(a))})}}return n.create=t=>new n(t),n})();function ie(n){var t;return null!==(t=null!=n?n:u.Promise)&&void 0!==t?t:Promise}const G=g(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let j=(()=>{class n extends me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new oe(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new G}next(e){S(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){S(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){S(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:i,observers:a}=this;return r||i?C:(this.currentObservers=null,a.push(e),new c(()=>{this.currentObservers=null,l(a,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:i,isStopped:a}=this;r?e.error(i):a&&e.complete()}asObservable(){const e=new me;return e.source=this,e}}return n.create=(t,e)=>new oe(t,e),n})();class oe extends j{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,t)}error(t){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==r?r:C}}function re(n){return o(null==n?void 0:n.lift)}function F(n){return t=>{if(re(t))return t.lift(function(e){try{return n(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function O(n,t,e,r,i){return new X(n,t,e,r,i)}class X extends V{constructor(t,e,r,i,a,s){super(t),this.onFinalize=a,this.shouldUnsubscribe=s,this._next=e?function(y){try{e(y)}catch(H){t.error(H)}}:super._next,this._error=i?function(y){try{i(y)}catch(H){t.error(H)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(y){t.error(y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function R(n,t){return F((e,r)=>{let i=0;e.subscribe(O(r,a=>{r.next(n.call(t,a,i++))}))})}function Ve(n){return this instanceof Ve?(this.v=n,this):new Ve(n)}function qe(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=e.apply(n,t||[]),a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(ke){r[ke]&&(i[ke]=function(Ke){return new Promise(function(V1,F1){a.push([ke,Ke,V1,F1])>1||y(ke,Ke)})})}function y(ke,Ke){try{!function H(ke){ke.value instanceof Ve?Promise.resolve(ke.value.v).then(J,he):be(a[0][2],ke)}(r[ke](Ke))}catch(V1){be(a[0][3],V1)}}function J(ke){y("next",ke)}function he(ke){y("throw",ke)}function be(ke,Ke){ke(Ke),a.shift(),a.length&&y(a[0][0],a[0][1])}}function Re(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function Xe(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(a){e[a]=n[a]&&function(s){return new Promise(function(y,H){!function i(a,s,y,H){Promise.resolve(H).then(function(J){a({value:J,done:y})},s)}(y,H,(s=n[a](s)).done,s.value)})}}}const b1=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function _1(n){return o(null==n?void 0:n.then)}function I1(n){return o(n[q])}function M1(n){return Symbol.asyncIterator&&o(null==n?void 0:n[Symbol.asyncIterator])}function Be(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const C1=function je(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function O1(n){return o(null==n?void 0:n[C1])}function Q1(n){return qe(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:r,done:i}=yield Ve(e.read());if(i)return yield Ve(void 0);yield yield Ve(r)}}finally{e.releaseLock()}})}function st(n){return o(null==n?void 0:n.getReader)}function $1(n){if(n instanceof me)return n;if(null!=n){if(I1(n))return function Z1(n){return new me(t=>{const e=n[q]();if(o(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(b1(n))return function N1(n){return new me(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(_1(n))return function ge(n){return new me(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,b)})}(n);if(M1(n))return We(n);if(O1(n))return function ye(n){return new me(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(st(n))return function e1(n){return We(Q1(n))}(n)}throw Be(n)}function We(n){return new me(t=>{(function d1(n,t){var e,r,i,a;return function ze(n,t,e,r){return new(e||(e=Promise))(function(a,s){function y(he){try{J(r.next(he))}catch(be){s(be)}}function H(he){try{J(r.throw(he))}catch(be){s(be)}}function J(he){he.done?a(he.value):function i(a){return a instanceof e?a:new e(function(s){s(a)})}(he.value).then(y,H)}J((r=r.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=Re(n);!(r=yield e.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(a=e.return)&&(yield a.call(e))}finally{if(i)throw i.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function a1(n,t,e,r=0,i=!1){const a=t.schedule(function(){e(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(a),!i)return a}function c1(n,t,e=1/0){return o(t)?c1((r,i)=>R((a,s)=>t(r,a,i,s))($1(n(r,i))),e):("number"==typeof t&&(e=t),F((r,i)=>function l1(n,t,e,r,i,a,s,y){const H=[];let J=0,he=0,be=!1;const ke=()=>{be&&!H.length&&!J&&t.complete()},Ke=F1=>J<r?V1(F1):H.push(F1),V1=F1=>{a&&t.next(F1),J++;let lt=!1;$1(e(F1,he++)).subscribe(O(t,pt=>{null==i||i(pt),a?Ke(pt):t.next(pt)},()=>{lt=!0},void 0,()=>{if(lt)try{for(J--;H.length&&J<r;){const pt=H.shift();s?a1(t,s,()=>V1(pt)):V1(pt)}ke()}catch(pt){t.error(pt)}}))};return n.subscribe(O(t,Ke,()=>{be=!0,ke()})),()=>{null==y||y()}}(r,i,n,e)))}function w1(n=1/0){return c1(Q,n)}const T1=new me(n=>n.complete());function H1(n){return n&&o(n.schedule)}function Y1(n){return n[n.length-1]}function ut(n){return o(Y1(n))?n.pop():void 0}function k1(n){return H1(Y1(n))?n.pop():void 0}function it(n,t=0){return F((e,r)=>{e.subscribe(O(r,i=>a1(r,n,()=>r.next(i),t),()=>a1(r,n,()=>r.complete(),t),i=>a1(r,n,()=>r.error(i),t)))})}function X1(n,t=0){return F((e,r)=>{r.add(n.schedule(()=>e.subscribe(r),t))})}function yt(n,t){if(!n)throw new Error("Iterable cannot be null");return new me(e=>{a1(e,t,()=>{const r=n[Symbol.asyncIterator]();a1(e,t,()=>{r.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function Ot(n,t){return t?function Ft(n,t){if(null!=n){if(I1(n))return function j1(n,t){return $1(n).pipe(X1(t),it(t))}(n,t);if(b1(n))return function P1(n,t){return new me(e=>{let r=0;return t.schedule(function(){r===n.length?e.complete():(e.next(n[r++]),e.closed||this.schedule())})})}(n,t);if(_1(n))return function et(n,t){return $1(n).pipe(X1(t),it(t))}(n,t);if(M1(n))return yt(n,t);if(O1(n))return function xt(n,t){return new me(e=>{let r;return a1(e,t,()=>{r=n[C1](),a1(e,t,()=>{let i,a;try{({value:i,done:a}=r.next())}catch(s){return void e.error(s)}a?e.complete():e.next(i)},0,!0)}),()=>o(null==r?void 0:r.return)&&r.return()})}(n,t);if(st(n))return function wt(n,t){return yt(Q1(n),t)}(n,t)}throw Be(n)}(n,t):$1(n)}function Dt(...n){const t=k1(n),e=function L1(n,t){return"number"==typeof Y1(n)?n.pop():t}(n,1/0),r=n;return r.length?1===r.length?$1(r[0]):w1(e)(Ot(r,t)):T1}function G1(n){return n<=0?()=>T1:F((t,e)=>{let r=0;t.subscribe(O(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}function tt(n,t,...e){return!0===t?(n(),null):!1===t?null:t(...e).pipe(G1(1)).subscribe(()=>n())}function dt(n){for(let t in n)if(n[t]===dt)return t;throw Error("Could not find renamed property on target object.")}function ot(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function gt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(gt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Gt(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const Qt=dt({__forward_ref__:dt});function Vt(n){return n.__forward_ref__=Vt,n.toString=function(){return gt(this())},n}function kt(n){return f2(n)?n():n}function f2(n){return"function"==typeof n&&n.hasOwnProperty(Qt)&&n.__forward_ref__===Vt}class Bt extends Error{constructor(t,e){super(function Kt(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function Pt(n){return"string"==typeof n?n:null==n?"":String(n)}function m2(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Pt(n)}function Et(n,t){const e=t?` in ${t}`:"";throw new Bt(-201,`No provider for ${m2(n)} found${e}`)}function E2(n,t){null==n&&function J2(n,t,e,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${e} ${r} ${t} <=Actual]`))}(t,n,null,"!=")}function r2(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function D2(n){return{providers:n.providers||[],imports:n.imports||[]}}function G3(n){return B2(n,Bo)||B2(n,Za)}function B2(n,t){return n.hasOwnProperty(t)?n[t]:null}function ma(n){return n&&(n.hasOwnProperty(va)||n.hasOwnProperty($s))?n[va]:null}const Bo=dt({\u0275prov:dt}),va=dt({\u0275inj:dt}),Za=dt({ngInjectableDef:dt}),$s=dt({ngInjectorDef:dt});var T2=(()=>((T2=T2||{})[T2.Default=0]="Default",T2[T2.Host=1]="Host",T2[T2.Self=2]="Self",T2[T2.SkipSelf=4]="SkipSelf",T2[T2.Optional=8]="Optional",T2))();let Ai;function C4(n){const t=Ai;return Ai=n,t}function ti(n,t,e){const r=G3(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&T2.Optional?null:void 0!==t?t:void Et(gt(n),"Injector")}function _r(n){return{toString:n}.toString()}var t3=(()=>((t3=t3||{})[t3.OnPush=0]="OnPush",t3[t3.Default=1]="Default",t3))(),Wr=(()=>{return(n=Wr||(Wr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Wr;var n})();const Uo="undefined"!=typeof globalThis&&globalThis,Ws="undefined"!=typeof window&&window,g4="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Hn=Uo||"undefined"!=typeof global&&global||Ws||g4,m4={},gn=[],ki=dt({\u0275cmp:dt}),Xa=dt({\u0275dir:dt}),Rn=dt({\u0275pipe:dt}),v4=dt({\u0275mod:dt}),Er=dt({\u0275fac:dt}),Qa=dt({__NG_ELEMENT_ID__:dt});let qs=0;function un(n){return _r(()=>{const e={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===t3.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||gn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Wr.Emulated,id:"c",styles:n.styles||gn,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,a=n.features,s=n.pipes;return r.id+=qs++,r.inputs=jo(n.inputs,e),r.outputs=jo(n.outputs),a&&a.forEach(y=>y(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(_6):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(Ys):null,r})}function _6(n){return Kn(n)||function y4(n){return n[Xa]||null}(n)}function Ys(n){return function zi(n){return n[Rn]||null}(n)}const eo={};function tn(n){return _r(()=>{const t={type:n.type,bootstrap:n.bootstrap||gn,declarations:n.declarations||gn,imports:n.imports||gn,exports:n.exports||gn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(eo[n.id]=n.type),t})}function jo(n,t){if(null==n)return m4;const e={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],a=i;Array.isArray(i)&&(a=i[1],i=i[0]),e[i]=r,t&&(t[i]=a)}return e}const Ut=un;function I3(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Kn(n){return n[ki]||null}function hr(n,t){const e=n[v4]||null;if(!e&&!0===t)throw new Error(`Type ${gt(n)} does not have '\u0275mod' property.`);return e}function _4(n){return Array.isArray(n)&&"object"==typeof n[1]}function W3(n){return Array.isArray(n)&&!0===n[1]}function W1(n){return 0!=(8&n.flags)}function Ct(n){return 2==(2&n.flags)}function ct(n){return 1==(1&n.flags)}function Zt(n){return null!==n.template}function P2(n){return 0!=(512&n[2])}function b4(n,t){return n.hasOwnProperty(Er)?n[Er]:null}class w6{constructor(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function Jn(){return no}function no(n){return n.type.prototype.ngOnChanges&&(n.setInput=io),ro}function ro(){const n=La(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===m4)n.previous=t;else for(let r in t)e[r]=t[r];n.current=null,this.ngOnChanges(t)}}function io(n,t,e,r){const i=La(n)||function L6(n,t){return n[oi]=t}(n,{previous:m4,current:null}),a=i.current||(i.current={}),s=i.previous,y=this.declaredInputs[e],H=s[y];a[y]=new w6(H&&H.currentValue,t,s===m4),n[r]=t}Jn.ngInherit=!0;const oi="__ngSimpleChanges__";function La(n){return n[oi]||null}let oo;function f3(){return void 0!==oo?oo:"undefined"!=typeof document?document:void 0}function Xn(n){return!!n.listen}const pr={createRenderer:(n,t)=>f3()};function Qn(n){for(;Array.isArray(n);)n=n[0];return n}function Kr(n,t){return Qn(t[n])}function P3(n,t){return Qn(t[n.index])}function Bi(n,t){return n.data[t]}function Pr(n,t){return n[t]}function wr(n,t){const e=t[n];return _4(e)?e:e[0]}function Qs(n){return 4==(4&n[2])}function e0(n){return 128==(128&n[2])}function si(n,t){return null==t?null:n[t]}function Sa(n){n[18]=0}function li(n,t){n[5]+=t;let e=n,r=n[3];for(;null!==r&&(1===t&&1===e[5]||-1===t&&0===e[5]);)r[5]+=t,e=r,r=r[3]}const S2={lFrame:u1(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function U2(){return S2.bindingsEnabled}function St(){return S2.lFrame.lView}function q2(){return S2.lFrame.tView}function Nt(n){return S2.lFrame.contextLView=n,n[8]}function h3(){let n=lo();for(;null!==n&&64===n.type;)n=n.parent;return n}function lo(){return S2.lFrame.currentTNode}function M4(n,t){const e=S2.lFrame;e.currentTNode=n,e.isParent=t}function Zr(){return S2.lFrame.isParent}function t0(){S2.lFrame.isParent=!1}function Jo(){return S2.isInCheckNoChangesMode}function Xo(n){S2.isInCheckNoChangesMode=n}function v(){const n=S2.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function A(){return S2.lFrame.bindingIndex}function ee(){return S2.lFrame.bindingIndex++}function se(n){const t=S2.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function Te(n,t){const e=S2.lFrame;e.bindingIndex=e.bindingRootIndex=n,He(t)}function He(n){S2.lFrame.currentDirectiveIndex=n}function i1(){return S2.lFrame.currentQueryIndex}function s1(n){S2.lFrame.currentQueryIndex=n}function y1(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function A1(n,t,e){if(e&T2.SkipSelf){let i=t,a=n;for(;!(i=i.parent,null!==i||e&T2.Host||(i=y1(a),null===i||(a=a[15],10&i.type))););if(null===i)return!1;t=i,n=a}const r=S2.lFrame=x1();return r.currentTNode=t,r.lView=n,!0}function p1(n){const t=x1(),e=n[1];S2.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function x1(){const n=S2.lFrame,t=null===n?null:n.child;return null===t?u1(n):t}function u1(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function R1(){const n=S2.lFrame;return S2.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const S1=R1;function h1(){const n=R1();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function vt(){return S2.lFrame.selectedIndex}function Lt(n){S2.lFrame.selectedIndex=n}function Tt(){const n=S2.lFrame;return Bi(n.tView,n.selectedIndex)}function _t(n,t){for(let e=t.directiveStart,r=t.directiveEnd;e<r;e++){const a=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:y,ngAfterViewInit:H,ngAfterViewChecked:J,ngOnDestroy:he}=a;s&&(n.contentHooks||(n.contentHooks=[])).push(-e,s),y&&((n.contentHooks||(n.contentHooks=[])).push(e,y),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,y)),H&&(n.viewHooks||(n.viewHooks=[])).push(-e,H),J&&((n.viewHooks||(n.viewHooks=[])).push(e,J),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,J)),null!=he&&(n.destroyHooks||(n.destroyHooks=[])).push(e,he)}}function Wt(n,t,e){X2(n,t,3,e)}function x2(n,t,e,r){(3&n[2])===e&&X2(n,t,e,r)}function M2(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function X2(n,t,e,r){const a=null!=r?r:-1,s=t.length-1;let y=0;for(let H=void 0!==r?65535&n[18]:0;H<s;H++)if("number"==typeof t[H+1]){if(y=t[H],null!=r&&y>=r)break}else t[H]<0&&(n[18]+=65536),(y<a||-1==a)&&(dn(n,e,t,H),n[18]=(4294901760&n[18])+H+2),H++}function dn(n,t,e,r){const i=e[r]<0,a=e[r+1],y=n[i?-e[r]:e[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{a.call(y)}finally{}}}else try{a.call(y)}finally{}}class Q2{constructor(t,e,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function r3(n,t,e){const r=Xn(n);let i=0;for(;i<e.length;){const a=e[i];if("number"==typeof a){if(0!==a)break;i++;const s=e[i++],y=e[i++],H=e[i++];r?n.setAttribute(t,y,H,s):t.setAttributeNS(s,y,H)}else{const s=a,y=e[++i];Jr(s)?r&&n.setProperty(t,s,y):r?n.setAttribute(t,s,y):t.setAttribute(s,y),i++}}return i}function Cr(n){return 3===n||4===n||6===n}function Jr(n){return 64===n.charCodeAt(0)}function Xr(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?e=i:0===e||I4(n,e,i,null,-1===e||2===e?t[++r]:null)}}return n}function I4(n,t,e,r,i){let a=0,s=n.length;if(-1===t)s=-1;else for(;a<n.length;){const y=n[a++];if("number"==typeof y){if(y===t){s=-1;break}if(y>t){s=a-1;break}}}for(;a<n.length;){const y=n[a];if("number"==typeof y)break;if(y===e){if(null===r)return void(null!==i&&(n[a+1]=i));if(r===n[a+1])return void(n[a+2]=i)}a++,null!==r&&a++,null!==i&&a++}-1!==s&&(n.splice(s,0,t),a=s+1),n.splice(a++,0,e),null!==r&&n.splice(a++,0,r),null!==i&&n.splice(a++,0,i)}function ci(n){return-1!==n}function R3(n){return 32767&n}function ji(n,t){let e=function co(n){return n>>16}(n),r=t;for(;e>0;)r=r[15],e--;return r}let w8=!0;function Ha(n){const t=w8;return w8=n,t}let w7=0;function r0(n,t){const e=V6(n,t);if(-1!==e)return e;const r=t[1];r.firstCreatePass&&(n.injectorIndex=t.length,L8(r.data,n),L8(t,null),L8(r.blueprint,null));const i=Qo(n,t),a=n.injectorIndex;if(ci(i)){const s=R3(i),y=ji(i,t),H=y[1].data;for(let J=0;J<8;J++)t[a+J]=y[s+J]|H[s+J]}return t[a+8]=i,a}function L8(n,t){n.push(0,0,0,0,0,0,0,0,t)}function V6(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Qo(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,r=null,i=t;for(;null!==i;){const a=i[1],s=a.type;if(r=2===s?a.declTNode:1===s?i[6]:null,null===r)return-1;if(e++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function A6(n,t,e){!function Ud(n,t,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(Qa)&&(r=e[Qa]),null==r&&(r=e[Qa]=w7++);const i=255&r;t.data[n+(i>>5)]|=1<<i}(n,t,e)}function S8(n,t,e){if(e&T2.Optional)return n;Et(t,"NodeInjector")}function T8(n,t,e,r){if(e&T2.Optional&&void 0===r&&(r=null),0==(e&(T2.Self|T2.Host))){const i=n[9],a=C4(void 0);try{return i?i.get(t,r,e&T2.Optional):ti(t,r,e&T2.Optional)}finally{C4(a)}}return S8(r,t,e)}function H8(n,t,e,r=T2.Default,i){if(null!==n){const a=function D7(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Qa)?n[Qa]:void 0;return"number"==typeof t?t>=0?255&t:jd:t}(e);if("function"==typeof a){if(!A1(t,n,r))return r&T2.Host?S8(i,e,r):T8(t,e,r,i);try{const s=a(r);if(null!=s||r&T2.Optional)return s;Et(e)}finally{S1()}}else if("number"==typeof a){let s=null,y=V6(n,t),H=-1,J=r&T2.Host?t[16][6]:null;for((-1===y||r&T2.SkipSelf)&&(H=-1===y?Qo(n,t):t[y+8],-1!==H&&k6(r,!1)?(s=t[1],y=R3(H),t=ji(H,t)):y=-1);-1!==y;){const he=t[1];if(S7(a,y,he.data)){const be=L7(y,t,e,s,r,J);if(be!==a0)return be}H=t[y+8],-1!==H&&k6(r,t[1].data[y+8]===J)&&S7(a,y,t)?(s=he,y=R3(H),t=ji(H,t)):y=-1}}}return T8(t,e,r,i)}const a0={};function jd(){return new uo(h3(),St())}function L7(n,t,e,r,i,a){const s=t[1],y=s.data[n+8],he=o0(y,s,e,null==r?Ct(y)&&w8:r!=s&&0!=(3&y.type),i&T2.Host&&a===y);return null!==he?s0(t,s,he,y):a0}function o0(n,t,e,r,i){const a=n.providerIndexes,s=t.data,y=1048575&a,H=n.directiveStart,he=a>>20,ke=i?y+he:n.directiveEnd;for(let Ke=r?y:y+he;Ke<ke;Ke++){const V1=s[Ke];if(Ke<H&&e===V1||Ke>=H&&V1.type===e)return Ke}if(i){const Ke=s[H];if(Ke&&Zt(Ke)&&Ke.type===e)return H}return null}function s0(n,t,e,r){let i=n[e];const a=t.data;if(function D3(n){return n instanceof Q2}(i)){const s=i;s.resolving&&function zt(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new Bt(-200,`Circular dependency in DI detected for ${n}${e}`)}(m2(a[e]));const y=Ha(s.canSeeViewProviders);s.resolving=!0;const H=s.injectImpl?C4(s.injectImpl):null;A1(n,r,T2.Default);try{i=n[e]=s.factory(void 0,a,n,r),t.firstCreatePass&&e>=r.directiveStart&&function $n(n,t,e){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:a}=t.type.prototype;if(r){const s=no(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s)}i&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,i),a&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,a),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,a))}(e,a[e],t)}finally{null!==H&&C4(H),Ha(y),s.resolving=!1,S1()}}return i}function S7(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function k6(n,t){return!(n&T2.Self||n&T2.Host&&t)}class uo{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,r){return H8(this._tNode,this._lView,t,r,e)}}function K3(n){return _r(()=>{const t=n.prototype.constructor,e=t[Er]||V8(t),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const a=i[Er]||V8(i);if(a&&a!==e)return a;i=Object.getPrototypeOf(i)}return a=>new a})}function V8(n){return f2(n)?()=>{const t=V8(kt(n));return t&&t()}:b4(n)}const es="__parameters__";function rs(n,t,e){return _r(()=>{const r=function z6(n){return function(...e){if(n){const r=n(...e);for(const i in r)this[i]=r[i]}}}(t);function i(...a){if(this instanceof i)return r.apply(this,a),this;const s=new i(...a);return y.annotation=s,y;function y(H,J,he){const be=H.hasOwnProperty(es)?H[es]:Object.defineProperty(H,es,{value:[]})[es];for(;be.length<=he;)be.push(null);return(be[he]=be[he]||[]).push(s),H}}return e&&(i.prototype=Object.create(e.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class nn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=r2({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const N6=new nn("AnalyzeForEntryComponents");function F3(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let r=n[e];Array.isArray(r)?(t===n&&(t=n.slice(0,e)),F3(r,t)):t!==n&&t.push(r)}return t}function ui(n,t){n.forEach(e=>Array.isArray(e)?ui(e,t):t(e))}function $i(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function c0(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function os(n,t){const e=[];for(let r=0;r<n;r++)e.push(t);return e}function Qr(n,t,e){let r=ho(n,t);return r>=0?n[1|r]=e:(r=~r,function qd(n,t,e,r){let i=n.length;if(i==t)n.push(e,r);else if(1===i)n.push(r,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;)n[i]=n[i-2],i--;n[t]=e,n[t+1]=r}}(n,r,t,e)),r}function O6(n,t){const e=ho(n,t);if(e>=0)return n[1|e]}function ho(n,t){return function P4(n,t,e){let r=0,i=n.length>>e;for(;i!==r;){const a=r+(i-r>>1),s=n[a<<e];if(t===s)return a<<e;s>t?i=a:r=a+1}return~(i<<e)}(n,t,1)}const Wi={},O8="__NG_DI_FLAG__",d0="ngTempTokenPath",P6=/\n/gm,h0="__source",I8=dt({provide:String,useValue:dt});let Va;function N7(n){const t=Va;return Va=n,t}function E7(n,t=T2.Default){if(void 0===Va)throw new Bt(203,"");return null===Va?ti(n,void 0,t):Va.get(n,t&T2.Optional?null:void 0,t)}function qt(n,t=T2.Default){return(function s3(){return Ai}()||E7)(kt(n),t)}const R8=qt;function F8(n){const t=[];for(let e=0;e<n.length;e++){const r=kt(n[e]);if(Array.isArray(r)){if(0===r.length)throw new Bt(900,"");let i,a=T2.Default;for(let s=0;s<r.length;s++){const y=r[s],H=qi(y);"number"==typeof H?-1===H?i=y.token:a|=H:i=y}t.push(qt(i,a))}else t.push(qt(r))}return t}function ls(n,t){return n[O8]=t,n.prototype[O8]=t,n}function qi(n){return n[O8]}const R6=ls(rs("Inject",n=>({token:n})),-1),Yi=ls(rs("Optional"),8),p0=ls(rs("SkipSelf"),4);let U6,Z3;function fs(n){var t;return(null===(t=function j6(){if(void 0===U6&&(U6=null,Hn.trustedTypes))try{U6=Hn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return U6}())||void 0===t?void 0:t.createHTML(n))||n}function B7(n){var t;return(null===(t=function m0(){if(void 0===Z3&&(Z3=null,Hn.trustedTypes))try{Z3=Hn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Z3}())||void 0===t?void 0:t.createHTML(n))||n}class go{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class v0 extends go{getTypeName(){return"HTML"}}class j7 extends go{getTypeName(){return"Style"}}class G7 extends go{getTypeName(){return"Script"}}class th extends go{getTypeName(){return"URL"}}class nh extends go{getTypeName(){return"ResourceURL"}}function t4(n){return n instanceof go?n.changingThisBreaksApplicationSecurity:n}function fi(n,t){const e=B8(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function B8(n){return n instanceof go&&n.getTypeName()||null}class q7{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(fs(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Y7{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const r=this.inertDocument.createElement("body");e.appendChild(r)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=fs(t),e;const r=this.inertDocument.createElement("body");return r.innerHTML=fs(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const s=e.item(i).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&t.removeAttribute(s)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const K7=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,mo=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function _0(n){return(n=String(n)).match(K7)||n.match(mo)?n:"unsafe:"+n}function di(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function b0(...n){const t={};for(const e of n)for(const r in e)e.hasOwnProperty(r)&&(t[r]=!0);return t}const Z7=di("area,br,col,hr,img,wbr"),J7=di("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),X7=di("rp,rt"),G8=b0(Z7,b0(J7,di("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),b0(X7,di("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),b0(X7,J7)),$8=di("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),W8=di("srcset"),q8=b0($8,W8,di("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),di("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),oh=di("script,style,template");class sh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!G8.hasOwnProperty(e))return this.sanitizedSomething=!0,!oh.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=t.attributes;for(let i=0;i<r.length;i++){const a=r.item(i),s=a.name,y=s.toLowerCase();if(!q8.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let H=a.value;$8[y]&&(H=_0(H)),W8[y]&&(n=H,H=(n=String(n)).split(",").map(t=>_0(t.trim())).join(", ")),this.buf.push(" ",s,'="',e9(H),'"')}var n;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();G8.hasOwnProperty(e)&&!Z7.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(e9(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const lh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Q7=/([^\#-~ |!])/g;function e9(n){return n.replace(/&/g,"&amp;").replace(lh,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Q7,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let q6;function t9(n,t){let e=null;try{q6=q6||function $6(n){const t=new Y7(n);return function W6(){try{return!!(new window.DOMParser).parseFromString(fs(""),"text/html")}catch(n){return!1}}()?new q7(t):t}(n);let r=t?String(t):"";e=q6.getInertBodyElement(r);let i=5,a=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=a,a=e.innerHTML,e=q6.getInertBodyElement(r)}while(r!==a);return fs((new sh).sanitizeChildren(Y8(e)||e))}finally{if(e){const r=Y8(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Y8(n){return"content"in n&&function ch(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Wn=(()=>((Wn=Wn||{})[Wn.NONE=0]="NONE",Wn[Wn.HTML=1]="HTML",Wn[Wn.STYLE=2]="STYLE",Wn[Wn.SCRIPT=3]="SCRIPT",Wn[Wn.URL=4]="URL",Wn[Wn.RESOURCE_URL=5]="RESOURCE_URL",Wn))();function n4(n){const t=M0();return t?B7(t.sanitize(Wn.HTML,n)||""):fi(n,"HTML")?B7(t4(n)):t9(f3(),Pt(n))}function ds(n){const t=M0();return t?t.sanitize(Wn.URL,n)||"":fi(n,"URL")?t4(n):_0(Pt(n))}function M0(){const n=St();return n&&n[12]}const o9="__ngContext__";function gr(n,t){n[o9]=t}function Z8(n){const t=function x0(n){return n[o9]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function Y6(n){return n.ngOriginalError}function xh(n,...t){n.error(...t)}class w0{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),r=function Mh(n){return n&&n.ngErrorLogger||xh}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Y6(t);for(;e&&Y6(e);)e=Y6(e);return e||null}}const kh=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Hn))();function u9(n){return n.ownerDocument.defaultView}function hi(n){return n instanceof Function?n():n}var r4=(()=>((r4=r4||{})[r4.Important=1]="Important",r4[r4.DashCase=2]="DashCase",r4))();function tl(n,t){return undefined(n,t)}function ps(n){const t=n[3];return W3(t)?t[3]:t}function rl(n){return L0(n[13])}function il(n){return L0(n[4])}function L0(n){for(;null!==n&&!W3(n);)n=n[4];return n}function Cs(n,t,e,r,i){if(null!=r){let a,s=!1;W3(r)?a=r:_4(r)&&(s=!0,r=r[0]);const y=Qn(r);0===n&&null!==e?null==i?v9(t,e,y):vo(t,e,y,i||null,!0):1===n&&null!==e?vo(t,e,y,i||null,!0):2===n?function x9(n,t,e){const r=yo(n,t);r&&function X6(n,t,e,r){Xn(n)?n.removeChild(t,e,r):t.removeChild(e)}(n,r,t,e)}(t,y,s):3===n&&t.destroyNode(y),null!=a&&function Gh(n,t,e,r,i){const a=e[7];a!==Qn(e)&&Cs(t,n,r,a,i);for(let y=10;y<e.length;y++){const H=e[y];S0(H[1],H,n,t,r,a)}}(t,n,a,e,i)}}function ol(n,t,e){if(Xn(n))return n.createElement(t,e);{const r=null!==e?function D6(n){const t=n.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(e):null;return null===r?n.createElement(t):n.createElementNS(r,t)}}function C9(n,t){const e=n[9],r=e.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,li(i,-1)),e.splice(r,1)}function J6(n,t){if(n.length<=10)return;const e=10+t,r=n[e];if(r){const i=r[17];null!==i&&i!==n&&C9(i,r),t>0&&(n[e-1][4]=r[4]);const a=c0(n,10+t);!function Ih(n,t){S0(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const s=a[19];null!==s&&s.detachView(a[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function sl(n,t){if(!(256&t[2])){const e=t[11];Xn(e)&&e.destroyNode&&S0(n,t,e,3,null,null),function Fh(n){let t=n[13];if(!t)return D0(n[1],n);for(;t;){let e=null;if(_4(t))e=t[13];else{const r=t[10];r&&(e=r)}if(!e){for(;t&&!t[4]&&t!==n;)_4(t)&&D0(t[1],t),t=t[3];null===t&&(t=n),_4(t)&&D0(t[1],t),e=t&&t[4]}t=e}}(t)}}function D0(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function m9(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let r=0;r<e.length;r+=2){const i=t[e[r]];if(!(i instanceof Q2)){const a=e[r+1];if(Array.isArray(a))for(let s=0;s<a.length;s+=2){const y=i[a[s]],H=a[s+1];try{H.call(y)}finally{}}else try{a.call(i)}finally{}}}}(n,t),function g9(n,t){const e=n.cleanup,r=t[7];let i=-1;if(null!==e)for(let a=0;a<e.length-1;a+=2)if("string"==typeof e[a]){const s=e[a+1],y="function"==typeof s?s(t):Qn(t[s]),H=r[i=e[a+2]],J=e[a+3];"boolean"==typeof J?y.removeEventListener(e[a],H,J):J>=0?r[i=J]():r[i=-J].unsubscribe(),a+=2}else{const s=r[i=e[a+1]];e[a].call(s)}if(null!==r){for(let a=i+1;a<r.length;a++)r[a]();t[7]=null}}(n,t),1===t[1].type&&Xn(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&W3(t[3])){e!==t[3]&&C9(e,t);const r=t[19];null!==r&&r.detachView(n)}}}function ll(n,t,e){return function cl(n,t,e){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return e[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===Wr.None||i===Wr.Emulated)return null}return P3(r,e)}(n,t.parent,e)}function vo(n,t,e,r,i){Xn(n)?n.insertBefore(t,e,r,i):t.insertBefore(e,r,i)}function v9(n,t,e){Xn(n)?n.appendChild(t,e):t.appendChild(e)}function y9(n,t,e,r,i){null!==r?vo(n,t,e,r,i):v9(n,t,e)}function yo(n,t){return Xn(n)?n.parentNode(t):t.parentNode}function _9(n,t,e){return ul(n,t,e)}let ul=function Q6(n,t,e){return 40&n.type?P3(n,e):null};function e5(n,t,e,r){const i=ll(n,r,t),a=t[11],y=_9(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(e))for(let H=0;H<e.length;H++)y9(a,i,e[H],y,!1);else y9(a,i,e,y,!1)}function t5(n,t){if(null!==t){const e=t.type;if(3&e)return P3(t,n);if(4&e)return dl(-1,n[t.index]);if(8&e){const r=t.child;if(null!==r)return t5(n,r);{const i=n[t.index];return W3(i)?dl(-1,i):Qn(i)}}if(32&e)return tl(t,n)()||Qn(n[t.index]);{const r=M9(n,t);return null!==r?Array.isArray(r)?r[0]:t5(ps(n[16]),r):t5(n,t.next)}}return null}function M9(n,t){return null!==t?n[16][6].projection[t.projection]:null}function dl(n,t){const e=10+n+1;if(e<t.length){const r=t[e],i=r[1].firstChild;if(null!==i)return t5(r,i)}return t[7]}function hl(n,t,e,r,i,a,s){for(;null!=e;){const y=r[e.index],H=e.type;if(s&&0===t&&(y&&gr(Qn(y),r),e.flags|=4),64!=(64&e.flags))if(8&H)hl(n,t,e.child,r,i,a,!1),Cs(t,n,i,y,a);else if(32&H){const J=tl(e,r);let he;for(;he=J();)Cs(t,n,i,he,a);Cs(t,n,i,y,a)}else 16&H?w9(n,t,r,e,i,a):Cs(t,n,i,y,a);e=s?e.projectionNext:e.next}}function S0(n,t,e,r,i,a){hl(e,r,n.firstChild,t,i,a,!1)}function w9(n,t,e,r,i,a){const s=e[16],H=s[6].projection[r.projection];if(Array.isArray(H))for(let J=0;J<H.length;J++)Cs(t,n,i,H[J],a);else hl(n,t,H,s[3],i,a,!0)}function L9(n,t,e){Xn(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function pl(n,t,e){Xn(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function ka(n,t,e){let r=n.length;for(;;){const i=n.indexOf(t,e);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const a=t.length;if(i+a===r||n.charCodeAt(i+a)<=32)return i}e=i+1}}const D9="ng-template";function Rr(n,t,e){let r=0;for(;r<n.length;){let i=n[r++];if(e&&"class"===i){if(i=n[r],-1!==ka(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function _3(n){return 4===n.type&&n.value!==D9}function $h(n,t,e){return t===(4!==n.type||e?n.value:D9)}function za(n,t,e){let r=4;const i=n.attrs||[],a=function Yh(n){for(let t=0;t<n.length;t++)if(Cr(n[t]))return t;return n.length}(i);let s=!1;for(let y=0;y<t.length;y++){const H=t[y];if("number"!=typeof H){if(!s)if(4&r){if(r=2|1&r,""!==H&&!$h(n,H,e)||""===H&&1===t.length){if(F4(r))return!1;s=!0}}else{const J=8&r?H:t[++y];if(8&r&&null!==n.attrs){if(!Rr(n.attrs,J,e)){if(F4(r))return!1;s=!0}continue}const be=Wh(8&r?"class":H,i,_3(n),e);if(-1===be){if(F4(r))return!1;s=!0;continue}if(""!==J){let ke;ke=be>a?"":i[be+1].toLowerCase();const Ke=8&r?ke:null;if(Ke&&-1!==ka(Ke,J,0)||2&r&&J!==ke){if(F4(r))return!1;s=!0}}}}else{if(!s&&!F4(r)&&!F4(H))return!1;if(s&&F4(H))continue;s=!1,r=H|1&r}}return F4(r)||s}function F4(n){return 0==(1&n)}function Wh(n,t,e,r){if(null===t)return-1;let i=0;if(r||!e){let a=!1;for(;i<t.length;){const s=t[i];if(s===n)return i;if(3===s||6===s)a=!0;else{if(1===s||2===s){let y=t[++i];for(;"string"==typeof y;)y=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=a?1:2}return-1}return function Cl(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const r=n[e];if("number"==typeof r)return-1;if(r===t)return e;e++}return-1}(t,n)}function S9(n,t,e=!1){for(let r=0;r<t.length;r++)if(za(n,t[r],e))return!0;return!1}function Kh(n,t){e:for(let e=0;e<t.length;e++){const r=t[e];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function pi(n,t){return n?":not("+t.trim()+")":t}function T9(n){let t=n[0],e=1,r=2,i="",a=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&r){const y=n[++e];i+="["+s+(y.length>0?'="'+y+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!F4(s)&&(t+=pi(a,i),i=""),r=s,a=a||!F4(r);e++}return""!==i&&(t+=pi(a,i)),t}const l2={};function Pe(n){H9(q2(),St(),vt()+n,Jo())}function H9(n,t,e,r){if(!r)if(3==(3&t[2])){const a=n.preOrderCheckHooks;null!==a&&Wt(t,a,e)}else{const a=n.preOrderHooks;null!==a&&x2(t,a,0,e)}Lt(e)}function r5(n,t){return n<<17|t<<2}function B4(n){return n>>17&32767}function i5(n){return 2|n}function i4(n){return(131068&n)>>2}function T0(n,t){return-131069&n|t<<2}function a5(n){return 1|n}function I9(n,t){const e=n.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const i=e[r],a=e[r+1];if(-1!==a){const s=n.data[a];s1(i),s.contentQueries(2,t[a],a)}}}function gs(n,t,e,r,i,a,s,y,H,J){const he=t.blueprint.slice();return he[0]=i,he[2]=140|r,Sa(he),he[3]=he[15]=n,he[8]=e,he[10]=s||n&&n[10],he[11]=y||n&&n[11],he[12]=H||n&&n[12]||null,he[9]=J||n&&n[9]||null,he[6]=a,he[16]=2==t.type?n[16]:he,he}function ms(n,t,e,r,i){let a=n.data[t];if(null===a)a=function Dl(n,t,e,r,i){const a=lo(),s=Zr(),H=n.data[t]=function ap(n,t,e,r,i,a){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?a:a&&a.parent,e,t,r,i);return null===n.firstChild&&(n.firstChild=H),null!==a&&(s?null==a.child&&null!==H.parent&&(a.child=H):null===a.next&&(a.next=H)),H}(n,t,e,r,i),function Ce(){return S2.lFrame.inI18n}()&&(a.flags|=64);else if(64&a.type){a.type=e,a.value=r,a.attrs=i;const s=function Ta(){const n=S2.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();a.injectorIndex=null===s?-1:s.injectorIndex}return M4(a,!0),a}function vs(n,t,e,r){if(0===e)return-1;const i=t.length;for(let a=0;a<e;a++)t.push(r),n.blueprint.push(r),n.data.push(null);return i}function ys(n,t,e){p1(t);try{const r=n.viewQuery;null!==r&&Il(1,r,e);const i=n.template;null!==i&&P9(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&I9(n,t),n.staticViewQueries&&Il(2,n.viewQuery,e);const a=n.components;null!==a&&function np(n,t){for(let e=0;e<t.length;e++)Br(n,t[e])}(t,a)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{t[2]&=-5,h1()}}function _o(n,t,e,r){const i=t[2];if(256==(256&i))return;p1(t);const a=Jo();try{Sa(t),function U(n){return S2.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&P9(n,t,e,2,r);const s=3==(3&i);if(!a)if(s){const J=n.preOrderCheckHooks;null!==J&&Wt(t,J,null)}else{const J=n.preOrderHooks;null!==J&&x2(t,J,0,null),M2(t,0)}if(function yp(n){for(let t=rl(n);null!==t;t=il(t)){if(!t[2])continue;const e=t[9];for(let r=0;r<e.length;r++){const i=e[r],a=i[3];0==(1024&i[2])&&li(a,1),i[2]|=1024}}}(t),function Al(n){for(let t=rl(n);null!==t;t=il(t))for(let e=10;e<t.length;e++){const r=t[e],i=r[1];e0(r)&&_o(i,r,i.template,r[8])}}(t),null!==n.contentQueries&&I9(n,t),!a)if(s){const J=n.contentCheckHooks;null!==J&&Wt(t,J)}else{const J=n.contentHooks;null!==J&&x2(t,J,1),M2(t,1)}!function O9(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const i=e[r];if(i<0)Lt(~i);else{const a=i,s=e[++r],y=e[++r];Te(s,a),y(2,t[a])}}}finally{Lt(-1)}}(n,t);const y=n.components;null!==y&&function tp(n,t){for(let e=0;e<t.length;e++)_p(n,t[e])}(t,y);const H=n.viewQuery;if(null!==H&&Il(2,H,r),!a)if(s){const J=n.viewCheckHooks;null!==J&&Wt(t,J)}else{const J=n.viewHooks;null!==J&&x2(t,J,2),M2(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),a||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,li(t[3],-1))}finally{h1()}}function rp(n,t,e,r){const i=t[10],a=!Jo(),s=Qs(t);try{a&&!s&&i.begin&&i.begin(),s&&ys(n,t,r),_o(n,t,e,r)}finally{a&&!s&&i.end&&i.end()}}function P9(n,t,e,r,i){const a=vt(),s=2&r;try{Lt(-1),s&&t.length>20&&H9(n,t,20,Jo()),e(r,i)}finally{Lt(a)}}function R9(n,t,e){if(W1(t)){const i=t.directiveEnd;for(let a=t.directiveStart;a<i;a++){const s=n.data[a];s.contentQueries&&s.contentQueries(1,e[a],a)}}}function Sl(n,t,e){!U2()||(function dp(n,t,e,r){const i=e.directiveStart,a=e.directiveEnd;n.firstCreatePass||r0(e,t),gr(r,t);const s=e.initialInputs;for(let y=i;y<a;y++){const H=n.data[y],J=Zt(H);J&&mp(t,e,H);const he=s0(t,n,y,e);gr(he,t),null!==s&&K9(0,y-i,he,H,0,s),J&&(wr(e.index,t)[8]=he)}}(n,t,e,P3(e,t)),128==(128&e.flags)&&function hp(n,t,e){const r=e.directiveStart,i=e.directiveEnd,s=e.index,y=function Se(){return S2.lFrame.currentDirectiveIndex}();try{Lt(s);for(let H=r;H<i;H++){const J=n.data[H],he=t[H];He(H),(null!==J.hostBindings||0!==J.hostVars||null!==J.hostAttrs)&&$9(J,he)}}finally{Lt(-1),He(y)}}(n,t,e))}function Ea(n,t,e=P3){const r=t.localNames;if(null!==r){let i=t.index+1;for(let a=0;a<r.length;a+=2){const s=r[a+1],y=-1===s?e(t,n):n[s];n[i++]=y}}}function F9(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=c5(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function c5(n,t,e,r,i,a,s,y,H,J){const he=20+r,be=he+i,ke=function ip(n,t){const e=[];for(let r=0;r<t;r++)e.push(r<n?null:l2);return e}(he,be),Ke="function"==typeof J?J():J;return ke[1]={type:n,blueprint:ke,template:e,queries:null,viewQuery:y,declTNode:t,data:ke.slice().fill(null,he),bindingStartIndex:he,expandoStartIndex:be,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:H,consts:Ke,incompleteFirstPass:!1}}function Hl(n,t,e,r){const i=Pl(t);null===e?i.push(r):(i.push(e),n.firstCreatePass&&X9(n).push(r,i.length-1))}function U9(n,t,e){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(t,i):e[r]=[t,i]}return e}function a4(n,t,e,r,i,a,s,y){const H=P3(t,e);let he,J=t.inputs;!y&&null!=J&&(he=J[r])?(d5(n,e,he,r,i),Ct(t)&&function lp(n,t){const e=wr(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(r=function sp(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,t.value||"",r):i,Xn(a)?a.setProperty(H,r,i):Jr(r)||(H.setProperty?H.setProperty(r,i):H[r]=i))}function Vl(n,t,e,r){let i=!1;if(U2()){const a=function pp(n,t,e){const r=n.directiveRegistry;let i=null;if(r)for(let a=0;a<r.length;a++){const s=r[a];S9(e,s.selectors,!1)&&(i||(i=[]),A6(r0(e,t),n,s.type),Zt(s)?(W9(n,e),i.unshift(s)):i.push(s))}return i}(n,t,e),s=null===r?null:{"":-1};if(null!==a){i=!0,q9(e,n.data.length,a.length);for(let he=0;he<a.length;he++){const be=a[he];be.providersResolver&&be.providersResolver(be)}let y=!1,H=!1,J=vs(n,t,a.length,null);for(let he=0;he<a.length;he++){const be=a[he];e.mergedAttrs=Xr(e.mergedAttrs,be.hostAttrs),Y9(n,e,t,J,be),gp(J,be,s),null!==be.contentQueries&&(e.flags|=8),(null!==be.hostBindings||null!==be.hostAttrs||0!==be.hostVars)&&(e.flags|=128);const ke=be.type.prototype;!y&&(ke.ngOnChanges||ke.ngOnInit||ke.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),y=!0),!H&&(ke.ngOnChanges||ke.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),H=!0),J++}!function op(n,t){const r=t.directiveEnd,i=n.data,a=t.attrs,s=[];let y=null,H=null;for(let J=t.directiveStart;J<r;J++){const he=i[J],be=he.inputs,ke=null===a||_3(t)?null:vp(be,a);s.push(ke),y=U9(be,J,y),H=U9(he.outputs,J,H)}null!==y&&(y.hasOwnProperty("class")&&(t.flags|=16),y.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=y,t.outputs=H}(n,e)}s&&function Cp(n,t,e){if(t){const r=n.localNames=[];for(let i=0;i<t.length;i+=2){const a=e[t[i+1]];if(null==a)throw new Bt(-301,!1);r.push(t[i],a)}}}(e,r,s)}return e.mergedAttrs=Xr(e.mergedAttrs,e.attrs),i}function G9(n,t,e,r,i,a){const s=a.hostBindings;if(s){let y=n.hostBindingOpCodes;null===y&&(y=n.hostBindingOpCodes=[]);const H=~t.index;(function fp(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(y)!=H&&y.push(H),y.push(r,i,s)}}function $9(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function W9(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function gp(n,t,e){if(e){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)e[t.exportAs[r]]=n;Zt(t)&&(e[""]=n)}}function q9(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function Y9(n,t,e,r,i){n.data[r]=i;const a=i.factory||(i.factory=b4(i.type)),s=new Q2(a,Zt(i),null);n.blueprint[r]=s,e[r]=s,G9(n,t,0,r,vs(n,e,i.hostVars,l2),i)}function mp(n,t,e){const r=P3(t,n),i=F9(e),a=n[10],s=f5(n,gs(n,i,null,e.onPush?64:16,r,t,a,a.createRenderer(r,e),null,null));n[t.index]=s}function D4(n,t,e,r,i,a){const s=P3(n,t);!function u5(n,t,e,r,i,a,s){if(null==a)Xn(n)?n.removeAttribute(t,i,e):t.removeAttribute(i);else{const y=null==s?Pt(a):s(a,r||"",i);Xn(n)?n.setAttribute(t,i,y,e):e?t.setAttributeNS(e,i,y):t.setAttribute(i,y)}}(t[11],s,a,n.value,e,r,i)}function K9(n,t,e,r,i,a){const s=a[t];if(null!==s){const y=r.setInput;for(let H=0;H<s.length;){const J=s[H++],he=s[H++],be=s[H++];null!==y?r.setInput(e,be,J,he):e[he]=be}}}function vp(n,t){let e=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===e&&(e=[]),e.push(i,n[i],t[r+1])),r+=2}else r+=2;else r+=4}return e}function Z9(n,t,e,r){return new Array(n,!0,!1,t,null,0,r,e,null,null)}function _p(n,t){const e=wr(t,n);if(e0(e)){const r=e[1];80&e[2]?_o(r,e,r.template,e[8]):e[5]>0&&kl(e)}}function kl(n){for(let r=rl(n);null!==r;r=il(r))for(let i=10;i<r.length;i++){const a=r[i];if(1024&a[2]){const s=a[1];_o(s,a,s.template,a[8])}else a[5]>0&&kl(a)}const e=n[1].components;if(null!==e)for(let r=0;r<e.length;r++){const i=wr(e[r],n);e0(i)&&i[5]>0&&kl(i)}}function Br(n,t){const e=wr(t,n),r=e[1];(function zl(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(r,e),ys(r,e,e[8])}function f5(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Nl(n){for(;n;){n[2]|=64;const t=ps(n);if(P2(n)&&!t)return n;n=t}return null}function k0(n,t,e){const r=t[10];r.begin&&r.begin();try{_o(n,t,n.template,e)}catch(i){throw eu(t,i),i}finally{r.end&&r.end()}}function J9(n){!function El(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],r=Z8(e),i=r[1];rp(i,r,i.template,e)}}(n[8])}function Il(n,t,e){s1(0),t(n,e)}const xp=(()=>Promise.resolve(null))();function Pl(n){return n[7]||(n[7]=[])}function X9(n){return n.cleanup||(n.cleanup=[])}function eu(n,t){const e=n[9],r=e?e.get(w0,null):null;r&&r.handleError(t)}function d5(n,t,e,r,i){for(let a=0;a<e.length;){const s=e[a++],y=e[a++],H=t[s],J=n.data[s];null!==J.setInput?J.setInput(H,i,r,y):H[y]=i}}function U4(n,t,e){const r=Kr(t,n);!function p9(n,t,e){Xn(n)?n.setValue(t,e):t.textContent=e}(n[11],r,e)}function h5(n,t,e){let r=e?n.styles:null,i=e?n.classes:null,a=0;if(null!==t)for(let s=0;s<t.length;s++){const y=t[s];"number"==typeof y?a=y:1==a?i=Gt(i,y):2==a&&(r=Gt(r,y+": "+t[++s]+";"))}e?n.styles=r:n.stylesWithoutHost=r,e?n.classes=i:n.classesWithoutHost=i}const Rl=new nn("INJECTOR",-1);class tu{get(t,e=Wi){if(e===Wi){const r=new Error(`NullInjectorError: No provider for ${gt(t)}!`);throw r.name="NullInjectorError",r}return e}}const Fl=new nn("Set Injector scope."),z0={},Dp={};let Bl;function nu(){return void 0===Bl&&(Bl=new tu),Bl}function ru(n,t=null,e=null,r){const i=iu(n,t,e,r);return i._resolveInjectorDefTypes(),i}function iu(n,t=null,e=null,r){return new Sp(n,e,t||nu(),r)}class Sp{constructor(t,e,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const a=[];e&&ui(e,y=>this.processProvider(y,t,e)),ui([t],y=>this.processInjectorType(y,[],a)),this.records.set(Rl,_s(void 0,this));const s=this.records.get(Fl);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof t?null:gt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Wi,r=T2.Default){this.assertNotDestroyed();const i=N7(this),a=C4(void 0);try{if(!(r&T2.SkipSelf)){let y=this.records.get(t);if(void 0===y){const H=function o1(n){return"function"==typeof n||"object"==typeof n&&n instanceof nn}(t)&&G3(t);y=H&&this.injectableDefInScope(H)?_s(Ul(t),z0):null,this.records.set(t,y)}if(null!=y)return this.hydrate(t,y)}return(r&T2.Self?nu():this.parent).get(t,e=r&T2.Optional&&e===Wi?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[d0]=s[d0]||[]).unshift(gt(t)),i)throw s;return function O7(n,t,e,r){const i=n[d0];throw t[h0]&&i.unshift(t[h0]),n.message=function I7(n,t,e,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=gt(t);if(Array.isArray(t))i=t.map(gt).join(" -> ");else if("object"==typeof t){let a=[];for(let s in t)if(t.hasOwnProperty(s)){let y=t[s];a.push(s+":"+("string"==typeof y?JSON.stringify(y):gt(y)))}i=`{${a.join(", ")}}`}return`${e}${r?"("+r+")":""}[${i}]: ${n.replace(P6,"\n  ")}`}("\n"+n.message,i,e,r),n.ngTokenPath=i,n[d0]=null,n}(s,t,"R3InjectorError",this.source)}throw s}finally{C4(a),N7(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((r,i)=>t.push(gt(i))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Bt(205,!1)}processInjectorType(t,e,r){if(!(t=kt(t)))return!1;let i=ma(t);const a=null==i&&t.ngModule||void 0,s=void 0===a?t:a,y=-1!==r.indexOf(s);if(void 0!==a&&(i=ma(a)),null==i)return!1;if(null!=i.imports&&!y){let he;r.push(s);try{ui(i.imports,be=>{this.processInjectorType(be,e,r)&&(void 0===he&&(he=[]),he.push(be))})}finally{}if(void 0!==he)for(let be=0;be<he.length;be++){const{ngModule:ke,providers:Ke}=he[be];ui(Ke,V1=>this.processProvider(V1,ke,Ke||gn))}}this.injectorDefTypes.add(s);const H=b4(s)||(()=>new s);this.records.set(s,_s(H,z0));const J=i.providers;if(null!=J&&!y){const he=t;ui(J,be=>this.processProvider(be,he,J))}return void 0!==a&&void 0!==t.providers}processProvider(t,e,r){let i=x(t=kt(t))?t:kt(t&&t.provide);const a=function Hp(n,t,e){return ou(n)?_s(void 0,n.useValue):_s(au(n),z0)}(t);if(x(t)||!0!==t.multi)this.records.get(i);else{let s=this.records.get(i);s||(s=_s(void 0,z0,!0),s.factory=()=>F8(s.multi),this.records.set(i,s)),i=t,s.multi.push(t)}this.records.set(i,a)}hydrate(t,e){return e.value===z0&&(e.value=Dp,e.value=e.factory()),"object"==typeof e.value&&e.value&&function Ne(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=kt(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Ul(n){const t=G3(n),e=null!==t?t.factory:b4(n);if(null!==e)return e;if(n instanceof nn)throw new Bt(204,!1);if(n instanceof Function)return function Tp(n){const t=n.length;if(t>0)throw os(t,"?"),new Bt(204,!1);const e=function Pn(n){const t=n&&(n[Bo]||n[Za]);if(t){const e=function y6(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Bt(204,!1)}function au(n,t,e){let r;if(x(n)){const i=kt(n);return b4(i)||Ul(i)}if(ou(n))r=()=>kt(n.useValue);else if(function f(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...F8(n.deps||[]));else if(function Vp(n){return!(!n||!n.useExisting)}(n))r=()=>qt(kt(n.useExisting));else{const i=kt(n&&(n.useClass||n.provide));if(!function Le(n){return!!n.deps}(n))return b4(i)||Ul(i);r=()=>new i(...F8(n.deps))}return r}function _s(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function ou(n){return null!==n&&"object"==typeof n&&I8 in n}function x(n){return"function"==typeof n}let m1=(()=>{class n{static create(e,r){var i;if(Array.isArray(e))return ru({name:""},r,e,"");{const a=null!==(i=e.name)&&void 0!==i?i:"";return ru({name:a},e.parent,e.providers,a)}}}return n.THROW_IF_NOT_FOUND=Wi,n.NULL=new tu,n.\u0275prov=r2({token:n,providedIn:"any",factory:()=>qt(Rl)}),n.__NG_ELEMENT_ID__=-1,n})();function RR(n,t){_t(Z8(n)[1],h3())}function Bn(n){let t=function T_(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const r=[n];for(;t;){let i;if(Zt(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Bt(903,"");i=t.\u0275dir}if(i){if(e){r.push(i);const s=n;s.inputs=Ap(n.inputs),s.declaredInputs=Ap(n.declaredInputs),s.outputs=Ap(n.outputs);const y=i.hostBindings;y&&jR(n,y);const H=i.viewQuery,J=i.contentQueries;if(H&&BR(n,H),J&&UR(n,J),ot(n.inputs,i.inputs),ot(n.declaredInputs,i.declaredInputs),ot(n.outputs,i.outputs),Zt(i)&&i.data.animation){const he=n.data;he.animation=(he.animation||[]).concat(i.data.animation)}}const a=i.features;if(a)for(let s=0;s<a.length;s++){const y=a[s];y&&y.ngInherit&&y(n),y===Bn&&(e=!1)}}t=Object.getPrototypeOf(t)}!function FR(n){let t=0,e=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Xr(i.hostAttrs,e=Xr(e,i.hostAttrs))}}(r)}function Ap(n){return n===m4?{}:n===gn?[]:n}function BR(n,t){const e=n.viewQuery;n.viewQuery=e?(r,i)=>{t(r,i),e(r,i)}:t}function UR(n,t){const e=n.contentQueries;n.contentQueries=e?(r,i,a)=>{t(r,i,a),e(r,i,a)}:t}function jR(n,t){const e=n.hostBindings;n.hostBindings=e?(r,i)=>{t(r,i),e(r,i)}:t}let su=null;function p5(){if(!su){const n=Hn.Symbol;if(n&&n.iterator)su=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const r=t[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(su=r)}}}return su}function Gl(n){return!!kp(n)&&(Array.isArray(n)||!(n instanceof Map)&&p5()in n)}function kp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Oa(n,t,e){return n[t]=e}function Ur(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function N0(n,t,e,r){const i=Ur(n,t,e);return Ur(n,t+1,r)||i}function lu(n,t,e,r,i){const a=N0(n,t,e,r);return Ur(n,t+2,i)||a}function Un(n,t,e,r){const i=St();return Ur(i,ee(),t)&&(q2(),D4(Tt(),i,n,t,e,r)),Un}function g5(n,t,e,r){return Ur(n,ee(),e)?t+Pt(e)+r:l2}function y5(n,t,e,r,i,a,s,y,H,J){const be=function Ci(n,t,e,r,i,a){const s=N0(n,t,e,r);return N0(n,t+2,i,a)||s}(n,A(),e,i,s,H);return se(4),be?t+Pt(e)+r+Pt(i)+a+Pt(s)+y+Pt(H)+J:l2}function ft(n,t,e,r,i,a,s,y){const H=St(),J=q2(),he=n+20,be=J.firstCreatePass?function ZR(n,t,e,r,i,a,s,y,H){const J=t.consts,he=ms(t,n,4,s||null,si(J,y));Vl(t,e,he,si(J,H)),_t(t,he);const be=he.tViews=c5(2,he,r,i,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,J);return null!==t.queries&&(t.queries.template(t,he),be.queries=t.queries.embeddedTView(he)),he}(he,J,H,t,e,r,i,a,s):J.data[he];M4(be,!1);const ke=H[11].createComment("");e5(J,H,ke,be),gr(ke,H),f5(H,H[he]=Z9(ke,H,ke,be)),ct(be)&&Sl(J,H,be),null!=s&&Ea(H,be,y)}function Z2(n){return Pr(function n0(){return S2.lFrame.contextLView}(),20+n)}function z1(n,t=T2.Default){const e=St();return null===e?qt(n,t):H8(h3(),e,kt(n),t)}function Ip(){throw new Error("invalid")}function v1(n,t,e){const r=St();return Ur(r,ee(),t)&&a4(q2(),Tt(),r,n,t,r[11],e,!1),v1}function Pp(n,t,e,r,i){const s=i?"class":"style";d5(n,e,t.inputs[s],s,r)}function Oe(n,t,e,r){const i=St(),a=q2(),s=20+n,y=i[11],H=i[s]=ol(y,t,function Nn(){return S2.lFrame.currentNamespace}()),J=a.firstCreatePass?function mF(n,t,e,r,i,a,s){const y=t.consts,J=ms(t,n,2,i,si(y,a));return Vl(t,e,J,si(y,s)),null!==J.attrs&&h5(J,J.attrs,!1),null!==J.mergedAttrs&&h5(J,J.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,J),J}(s,a,i,0,t,e,r):a.data[s];M4(J,!0);const he=J.mergedAttrs;null!==he&&r3(y,H,he);const be=J.classes;null!==be&&pl(y,H,be);const ke=J.styles;return null!==ke&&L9(y,H,ke),64!=(64&J.flags)&&e5(a,i,H,J),0===function O4(){return S2.lFrame.elementDepthCount}()&&gr(H,i),function so(){S2.lFrame.elementDepthCount++}(),ct(J)&&(Sl(a,i,J),R9(a,J,i)),null!==r&&Ea(i,J),Oe}function $e(){let n=h3();Zr()?t0():(n=n.parent,M4(n,!1));const t=n;!function q3(){S2.lFrame.elementDepthCount--}();const e=q2();return e.firstCreatePass&&(_t(e,n),W1(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function k3(n){return 0!=(16&n.flags)}(t)&&Pp(e,t,St(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Y3(n){return 0!=(32&n.flags)}(t)&&Pp(e,t,St(),t.stylesWithoutHost,!1),$e}function Yt(n,t,e,r){return Oe(n,t,e,r),$e(),Yt}function bs(n,t,e){const r=St(),i=q2(),a=n+20,s=i.firstCreatePass?function vF(n,t,e,r,i){const a=t.consts,s=si(a,r),y=ms(t,n,8,"ng-container",s);return null!==s&&h5(y,s,!0),Vl(t,e,y,si(a,i)),null!==t.queries&&t.queries.elementStart(t,y),y}(a,i,r,t,e):i.data[a];M4(s,!0);const y=r[a]=r[11].createComment("");return e5(i,r,y,s),gr(y,r),ct(s)&&(Sl(i,r,s),R9(i,s,r)),null!=e&&Ea(r,s),bs}function Ms(){let n=h3();const t=q2();return Zr()?t0():(n=n.parent,M4(n,!1)),t.firstCreatePass&&(_t(t,n),W1(n)&&t.queries.elementEnd(n)),Ms}function Ln(){return St()}function Wl(n){return!!n&&"function"==typeof n.then}function K_(n){return!!n&&"function"==typeof n.subscribe}const Rp=K_;function ht(n,t,e,r){const i=St(),a=q2(),s=h3();return function J_(n,t,e,r,i,a,s,y){const H=ct(r),he=n.firstCreatePass&&X9(n),be=t[8],ke=Pl(t);let Ke=!0;if(3&r.type||y){const lt=P3(r,t),pt=y?y(lt):lt,q1=ke.length,At=y?$t=>y(Qn($t[r.index])):r.index;if(Xn(e)){let $t=null;if(!y&&H&&($t=function yF(n,t,e,r){const i=n.cleanup;if(null!=i)for(let a=0;a<i.length-1;a+=2){const s=i[a];if(s===e&&i[a+1]===r){const y=t[7],H=i[a+2];return y.length>H?y[H]:null}"string"==typeof s&&(a+=2)}return null}(n,t,i,r.index)),null!==$t)($t.__ngLastListenerFn__||$t).__ngNextListenerFn__=a,$t.__ngLastListenerFn__=a,Ke=!1;else{a=Fp(r,t,be,a,!1);const Xt=e.listen(pt,i,a);ke.push(a,Xt),he&&he.push(i,At,q1,q1+1)}}else a=Fp(r,t,be,a,!0),pt.addEventListener(i,a,s),ke.push(a),he&&he.push(i,At,q1,s)}else a=Fp(r,t,be,a,!1);const V1=r.outputs;let F1;if(Ke&&null!==V1&&(F1=V1[i])){const lt=F1.length;if(lt)for(let pt=0;pt<lt;pt+=2){const L2=t[F1[pt]][F1[pt+1]].subscribe(a),on=ke.length;ke.push(a,L2),he&&he.push(i,r.index,on,-(on+1))}}}(a,i,i[11],s,n,t,!!e,r),ht}function X_(n,t,e,r){try{return!1!==e(r)}catch(i){return eu(n,i),!1}}function Fp(n,t,e,r,i){return function a(s){if(s===Function)return r;const y=2&n.flags?wr(n.index,t):t;0==(32&t[2])&&Nl(y);let H=X_(t,0,r,s),J=a.__ngNextListenerFn__;for(;J;)H=X_(t,0,J,s)&&H,J=J.__ngNextListenerFn__;return i&&!1===H&&(s.preventDefault(),s.returnValue=!1),H}}function U1(n=1){return function nt(n){return(S2.lFrame.contextLView=function at(n,t){for(;n>0;)t=t[15],n--;return t}(n,S2.lFrame.contextLView))[8]}(n)}function _F(n,t){let e=null;const r=function qh(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let i=0;i<t.length;i++){const a=t[i];if("*"!==a){if(null===r?S9(n,a,!0):Kh(r,a))return i}else e=i}return e}function Bp(n){const t=St()[16][6];if(!t.projection){const r=t.projection=os(n?n.length:1,null),i=r.slice();let a=t.child;for(;null!==a;){const s=n?_F(a,n):0;null!==s&&(i[s]?i[s].projectionNext=a:r[s]=a,i[s]=a),a=a.next}}}function Up(n,t=0,e){const r=St(),i=q2(),a=ms(i,20+n,16,null,e||null);null===a.projection&&(a.projection=t),t0(),64!=(64&a.flags)&&function jh(n,t,e){w9(t[11],0,t,e,ll(n,e,t),_9(e.parent||t[6],e,t))}(i,r,a)}function uu(n,t,e){return L5(n,"",t,"",e),uu}function L5(n,t,e,r,i){const a=St(),s=g5(a,t,e,r);return s!==l2&&a4(q2(),Tt(),a,n,s,a[11],i,!1),L5}function sb(n,t,e,r,i){const a=n[e+1],s=null===t;let y=r?B4(a):i4(a),H=!1;for(;0!==y&&(!1===H||s);){const he=n[y+1];xF(n[y],t)&&(H=!0,n[y+1]=r?a5(he):i5(he)),y=r?B4(he):i4(he)}H&&(n[e+1]=r?i5(a):a5(a))}function xF(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&ho(n,t)>=0}const ir={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function lb(n){return n.substring(ir.key,ir.keyEnd)}function cb(n,t){const e=ir.textEnd;return e===t?-1:(t=ir.keyEnd=function SF(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,ir.key=t,e),D5(n,t,e))}function D5(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function ql(n,t,e){return ta(n,t,e,!1),ql}function h2(n,t){return ta(n,t,null,!0),h2}function E0(n){!function na(n,t,e,r){const i=q2(),a=se(2);i.firstUpdatePass&&Cb(i,null,a,r);const s=St();if(e!==l2&&Ur(s,a,e)){const y=i.data[vt()];if(yb(y,r)&&!pb(i,a)){let H=r?y.classesWithoutHost:y.stylesWithoutHost;null!==H&&(e=Gt(H,e||"")),Pp(i,y,s,e,r)}else!function OF(n,t,e,r,i,a,s,y){i===l2&&(i=gn);let H=0,J=0,he=0<i.length?i[0]:null,be=0<a.length?a[0]:null;for(;null!==he||null!==be;){const ke=H<i.length?i[H+1]:void 0,Ke=J<a.length?a[J+1]:void 0;let F1,V1=null;he===be?(H+=2,J+=2,ke!==Ke&&(V1=be,F1=Ke)):null===be||null!==he&&he<be?(H+=2,V1=he):(J+=2,V1=be,F1=Ke),null!==V1&&mb(n,t,e,r,V1,F1,s,y),he=H<i.length?i[H]:null,be=J<a.length?a[J]:null}}(i,y,s,s[11],s[a+1],s[a+1]=function EF(n,t,e){if(null==e||""===e)return gn;const r=[],i=t4(e);if(Array.isArray(i))for(let a=0;a<i.length;a++)n(r,i[a],!0);else if("object"==typeof i)for(const a in i)i.hasOwnProperty(a)&&n(r,a,i[a]);else"string"==typeof i&&t(r,i);return r}(n,t,e),r,a)}}(Qr,Pa,n,!0)}function Pa(n,t){for(let e=function LF(n){return function fb(n){ir.key=0,ir.keyEnd=0,ir.value=0,ir.valueEnd=0,ir.textEnd=n.length}(n),cb(n,D5(n,0,ir.textEnd))}(t);e>=0;e=cb(t,e))Qr(n,lb(t),!0)}function ta(n,t,e,r){const i=St(),a=q2(),s=se(2);a.firstUpdatePass&&Cb(a,n,s,r),t!==l2&&Ur(i,s,t)&&mb(a,a.data[vt()],i,i[11],n,i[s+1]=function IF(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=gt(t4(n)))),n}(t,e),r,s)}function pb(n,t){return t>=n.expandoStartIndex}function Cb(n,t,e,r){const i=n.data;if(null===i[e+1]){const a=i[vt()],s=pb(n,e);yb(a,r)&&null===t&&!s&&(t=!1),t=function AF(n,t,e,r){const i=function Ee(n){const t=S2.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let a=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(e=Yl(e=jp(null,n,t,e,r),t.attrs,r),a=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==i)if(e=jp(i,n,t,e,r),null===a){let H=function kF(n,t,e){const r=e?t.classBindings:t.styleBindings;if(0!==i4(r))return n[B4(r)]}(n,t,r);void 0!==H&&Array.isArray(H)&&(H=jp(null,n,t,H[1],r),H=Yl(H,t.attrs,r),function zF(n,t,e,r){n[B4(e?t.classBindings:t.styleBindings)]=r}(n,t,r,H))}else a=function NF(n,t,e){let r;const i=t.directiveEnd;for(let a=1+t.directiveStylingLast;a<i;a++)r=Yl(r,n[a].hostAttrs,e);return Yl(r,t.attrs,e)}(n,t,r)}return void 0!==a&&(r?t.residualClasses=a:t.residualStyles=a),e}(i,a,t,r),function bF(n,t,e,r,i,a){let s=a?t.classBindings:t.styleBindings,y=B4(s),H=i4(s);n[r]=e;let he,J=!1;if(Array.isArray(e)){const be=e;he=be[1],(null===he||ho(be,he)>0)&&(J=!0)}else he=e;if(i)if(0!==H){const ke=B4(n[y+1]);n[r+1]=r5(ke,y),0!==ke&&(n[ke+1]=T0(n[ke+1],r)),n[y+1]=function Zh(n,t){return 131071&n|t<<17}(n[y+1],r)}else n[r+1]=r5(y,0),0!==y&&(n[y+1]=T0(n[y+1],r)),y=r;else n[r+1]=r5(H,0),0===y?y=r:n[H+1]=T0(n[H+1],r),H=r;J&&(n[r+1]=i5(n[r+1])),sb(n,he,r,!0),sb(n,he,r,!1),function MF(n,t,e,r,i){const a=i?n.residualClasses:n.residualStyles;null!=a&&"string"==typeof t&&ho(a,t)>=0&&(e[r+1]=a5(e[r+1]))}(t,he,n,r,a),s=r5(y,H),a?t.classBindings=s:t.styleBindings=s}(i,a,t,e,s,r)}}function jp(n,t,e,r,i){let a=null;const s=e.directiveEnd;let y=e.directiveStylingLast;for(-1===y?y=e.directiveStart:y++;y<s&&(a=t[y],r=Yl(r,a.hostAttrs,i),a!==n);)y++;return null!==n&&(e.directiveStylingLast=y),r}function Yl(n,t,e){const r=e?1:2;let i=-1;if(null!==t)for(let a=0;a<t.length;a++){const s=t[a];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Qr(n,s,!!e||t[++a]))}return void 0===n?null:n}function mb(n,t,e,r,i,a,s,y){if(!(3&t.type))return;const H=n.data,J=H[y+1];fu(function k9(n){return 1==(1&n)}(J)?vb(H,t,e,i,i4(J),s):void 0)||(fu(a)||function A9(n){return 2==(2&n)}(J)&&(a=vb(H,null,e,i,y,s)),function R4(n,t,e,r,i){const a=Xn(n);if(t)i?a?n.addClass(e,r):e.classList.add(r):a?n.removeClass(e,r):e.classList.remove(r);else{let s=-1===r.indexOf("-")?void 0:r4.DashCase;if(null==i)a?n.removeStyle(e,r,s):e.style.removeProperty(r);else{const y="string"==typeof i&&i.endsWith("!important");y&&(i=i.slice(0,-10),s|=r4.Important),a?n.setStyle(e,r,i,s):e.style.setProperty(r,i,y?"important":"")}}}(r,s,Kr(vt(),e),i,a))}function vb(n,t,e,r,i,a){const s=null===t;let y;for(;i>0;){const H=n[i],J=Array.isArray(H),he=J?H[1]:H,be=null===he;let ke=e[i+1];ke===l2&&(ke=be?gn:void 0);let Ke=be?O6(ke,r):he===r?ke:void 0;if(J&&!fu(Ke)&&(Ke=O6(H,r)),fu(Ke)&&(y=Ke,s))return y;const V1=n[i+1];i=s?B4(V1):i4(V1)}if(null!==t){let H=a?t.residualClasses:t.residualStyles;null!=H&&(y=O6(H,r))}return y}function fu(n){return void 0!==n}function yb(n,t){return 0!=(n.flags&(t?16:32))}function D1(n,t=""){const e=St(),r=q2(),i=n+20,a=r.firstCreatePass?ms(r,i,1,t,null):r.data[i],s=e[i]=function al(n,t){return Xn(n)?n.createText(t):n.createTextNode(t)}(e[11],t);e5(r,e,s,a),M4(a,!1)}function Mn(n){return a2("",n,""),Mn}function a2(n,t,e){const r=St(),i=g5(r,n,t,e);return i!==l2&&U4(r,vt(),i),a2}function gi(n,t,e,r,i){const a=St(),s=function m5(n,t,e,r,i,a){const y=N0(n,A(),e,i);return se(2),y?t+Pt(e)+r+Pt(i)+a:l2}(a,n,t,e,r,i);return s!==l2&&U4(a,vt(),s),gi}function xs(n,t,e,r,i,a,s){const y=St(),H=function v5(n,t,e,r,i,a,s,y){const J=lu(n,A(),e,i,s);return se(3),J?t+Pt(e)+r+Pt(i)+a+Pt(s)+y:l2}(y,n,t,e,r,i,a,s);return H!==l2&&U4(y,vt(),H),xs}function Gp(n,t,e,r,i,a,s,y,H){const J=St(),he=y5(J,n,t,e,r,i,a,s,y,H);return he!==l2&&U4(J,vt(),he),Gp}function bo(n,t,e){const r=St();return Ur(r,ee(),t)&&a4(q2(),Tt(),r,n,t,r[11],e,!0),bo}const O0=void 0;var rB=["en",[["a","p"],["AM","PM"],O0],[["AM","PM"],O0,O0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],O0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],O0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",O0,"{1} 'at' {0}",O0],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function nB(n){const e=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===r?1:5}];let S5={};function l4(n){const t=function iB(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=Ob(t);if(e)return e;const r=t.split("-")[0];if(e=Ob(r),e)return e;if("en"===r)return rB;throw new Error(`Missing locale data for the locale "${n}".`)}function Ob(n){return n in S5||(S5[n]=Hn.ng&&Hn.ng.common&&Hn.ng.common.locales&&Hn.ng.common.locales[n]),S5[n]}var o2=(()=>((o2=o2||{})[o2.LocaleId=0]="LocaleId",o2[o2.DayPeriodsFormat=1]="DayPeriodsFormat",o2[o2.DayPeriodsStandalone=2]="DayPeriodsStandalone",o2[o2.DaysFormat=3]="DaysFormat",o2[o2.DaysStandalone=4]="DaysStandalone",o2[o2.MonthsFormat=5]="MonthsFormat",o2[o2.MonthsStandalone=6]="MonthsStandalone",o2[o2.Eras=7]="Eras",o2[o2.FirstDayOfWeek=8]="FirstDayOfWeek",o2[o2.WeekendRange=9]="WeekendRange",o2[o2.DateFormat=10]="DateFormat",o2[o2.TimeFormat=11]="TimeFormat",o2[o2.DateTimeFormat=12]="DateTimeFormat",o2[o2.NumberSymbols=13]="NumberSymbols",o2[o2.NumberFormats=14]="NumberFormats",o2[o2.CurrencyCode=15]="CurrencyCode",o2[o2.CurrencySymbol=16]="CurrencySymbol",o2[o2.CurrencyName=17]="CurrencyName",o2[o2.Currencies=18]="Currencies",o2[o2.Directionality=19]="Directionality",o2[o2.PluralCase=20]="PluralCase",o2[o2.ExtraData=21]="ExtraData",o2))();const du="en-US";let Ib=du;function Yp(n,t,e,r,i){if(n=kt(n),Array.isArray(n))for(let a=0;a<n.length;a++)Yp(n[a],t,e,r,i);else{const a=q2(),s=St();let y=x(n)?n:kt(n.provide),H=au(n);const J=h3(),he=1048575&J.providerIndexes,be=J.directiveStart,ke=J.providerIndexes>>20;if(x(n)||!n.multi){const Ke=new Q2(H,i,z1),V1=Zp(y,t,i?he:he+ke,be);-1===V1?(A6(r0(J,s),a,y),Kp(a,n,t.length),t.push(y),J.directiveStart++,J.directiveEnd++,i&&(J.providerIndexes+=1048576),e.push(Ke),s.push(Ke)):(e[V1]=Ke,s[V1]=Ke)}else{const Ke=Zp(y,t,he+ke,be),V1=Zp(y,t,he,he+ke),F1=Ke>=0&&e[Ke],lt=V1>=0&&e[V1];if(i&&!lt||!i&&!F1){A6(r0(J,s),a,y);const pt=function eU(n,t,e,r,i){const a=new Q2(n,e,z1);return a.multi=[],a.index=t,a.componentProviders=0,sM(a,i,r&&!e),a}(i?QB:XB,e.length,i,r,H);!i&&lt&&(e[V1].providerFactory=pt),Kp(a,n,t.length,0),t.push(y),J.directiveStart++,J.directiveEnd++,i&&(J.providerIndexes+=1048576),e.push(pt),s.push(pt)}else Kp(a,n,Ke>-1?Ke:V1,sM(e[i?V1:Ke],H,!i&&r));!i&&r&&lt&&e[V1].componentProviders++}}}function Kp(n,t,e,r){const i=x(t),a=function Z(n){return!!n.useClass}(t);if(i||a){const H=(a?kt(t.useClass):t).prototype.ngOnDestroy;if(H){const J=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){const he=J.indexOf(e);-1===he?J.push(e,[r,H]):J[he+1].push(r,H)}else J.push(e,H)}}}function sM(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Zp(n,t,e,r){for(let i=e;i<r;i++)if(t[i]===n)return i;return-1}function XB(n,t,e,r){return Jp(this.multi,[])}function QB(n,t,e,r){const i=this.multi;let a;if(this.providerFactory){const s=this.providerFactory.componentProviders,y=s0(e,e[1],this.providerFactory.index,r);a=y.slice(0,s),Jp(i,a);for(let H=s;H<y.length;H++)a.push(y[H])}else a=[],Jp(i,a);return a}function Jp(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function jn(n,t=[]){return e=>{e.providersResolver=(r,i)=>function JB(n,t,e){const r=q2();if(r.firstCreatePass){const i=Zt(n);Yp(e,r.data,r.blueprint,i,!0),Yp(t,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,t)}}class lM{}class rU{resolveComponentFactory(t){throw function nU(n){const t=Error(`No component factory found for ${gt(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let H5=(()=>{class n{}return n.NULL=new rU,n})();function iU(){return V5(h3(),St())}function V5(n,t){return new qn(P3(n,t))}let qn=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=iU,n})();function aU(n){return n instanceof qn?n.nativeElement:n}class Xp{}let j4=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function sU(){const n=St(),e=wr(h3().index,n);return function oU(n){return n[11]}(_4(e)?e:n)}(),n})(),lU=(()=>{class n{}return n.\u0275prov=r2({token:n,providedIn:"root",factory:()=>null}),n})();class Ql{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const cU=new Ql("13.3.6"),Qp={};function mu(n,t,e,r,i=!1){for(;null!==e;){const a=t[e.index];if(null!==a&&r.push(Qn(a)),W3(a))for(let y=10;y<a.length;y++){const H=a[y],J=H[1].firstChild;null!==J&&mu(H[1],H,J,r)}const s=e.type;if(8&s)mu(n,t,e.child,r);else if(32&s){const y=tl(e,t);let H;for(;H=y();)r.push(H)}else if(16&s){const y=M9(t,e);if(Array.isArray(y))r.push(...y);else{const H=ps(t[16]);mu(H[1],H,y,r,!0)}}e=i?e.projectionNext:e.next}return r}class ec{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return mu(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(W3(t)){const e=t[8],r=e?e.indexOf(this):-1;r>-1&&(J6(t,r),c0(e,r))}this._attachedToViewContainer=!1}sl(this._lView[1],this._lView)}onDestroy(t){Hl(this._lView[1],this._lView,null,t)}markForCheck(){Nl(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){k0(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Ol(n,t,e){Xo(!0);try{k0(n,t,e)}finally{Xo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Bt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Rh(n,t){S0(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Bt(902,"");this._appRef=t}}class uU extends ec{constructor(t){super(t),this._view=t}detectChanges(){J9(this._view)}checkNoChanges(){!function Mp(n){Xo(!0);try{J9(n)}finally{Xo(!1)}}(this._view)}get context(){return null}}class uM extends H5{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Kn(t);return new eC(e,this.ngModule)}}function fM(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class eC extends lM{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function n5(n){return n.map(T9).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return fM(this.componentDef.inputs)}get outputs(){return fM(this.componentDef.outputs)}create(t,e,r,i){const a=(i=i||this.ngModule)?function dU(n,t){return{get:(e,r,i)=>{const a=n.get(e,Qp,i);return a!==Qp||r===Qp?a:t.get(e,r,i)}}}(t,i.injector):t,s=a.get(Xp,pr),y=a.get(lU,null),H=s.createRenderer(null,this.componentDef),J=this.componentDef.selectors[0][0]||"div",he=r?function Tl(n,t,e){if(Xn(n))return n.selectRootElement(t,e===Wr.ShadowDom);let r="string"==typeof t?n.querySelector(t):t;return r.textContent="",r}(H,r,this.componentDef.encapsulation):ol(s.createRenderer(null,this.componentDef),J,function fU(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(J)),be=this.componentDef.onPush?576:528,ke=function S_(n,t){return{components:[],scheduler:n||kh,clean:xp,playerHandler:t||null,flags:0}}(),Ke=c5(0,null,null,1,0,null,null,null,null,null),V1=gs(null,Ke,ke,be,null,null,s,H,y,a);let F1,lt;p1(V1);try{const pt=function L_(n,t,e,r,i,a){const s=e[1];e[20]=n;const H=ms(s,20,2,"#host",null),J=H.mergedAttrs=t.hostAttrs;null!==J&&(h5(H,J,!0),null!==n&&(r3(i,n,J),null!==H.classes&&pl(i,n,H.classes),null!==H.styles&&L9(i,n,H.styles)));const he=r.createRenderer(n,t),be=gs(e,F9(t),null,t.onPush?64:16,e[20],H,r,he,a||null,null);return s.firstCreatePass&&(A6(r0(H,e),s,t.type),W9(s,H),q9(H,e.length,1)),f5(e,be),e[20]=be}(he,this.componentDef,V1,s,H);if(he)if(r)r3(H,he,["ng-version",cU.full]);else{const{attrs:q1,classes:At}=function p3(n){const t=[],e=[];let r=1,i=2;for(;r<n.length;){let a=n[r];if("string"==typeof a)2===i?""!==a&&t.push(a,n[++r]):8===i&&e.push(a);else{if(!F4(i))break;i=a}r++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);q1&&r3(H,he,q1),At&&At.length>0&&pl(H,he,At.join(" "))}if(lt=Bi(Ke,20),void 0!==e){const q1=lt.projection=[];for(let At=0;At<this.ngContentSelectors.length;At++){const $t=e[At];q1.push(null!=$t?Array.from($t):null)}}F1=function D_(n,t,e,r,i){const a=e[1],s=function up(n,t,e){const r=h3();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Y9(n,r,t,vs(n,t,1,null),e));const i=s0(t,n,r.directiveStart,r);gr(i,t);const a=P3(r,t);return a&&gr(a,t),i}(a,e,t);if(r.components.push(s),n[8]=s,i&&i.forEach(H=>H(s,t)),t.contentQueries){const H=h3();t.contentQueries(1,s,H.directiveStart)}const y=h3();return!a.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Lt(y.index),G9(e[1],y,0,y.directiveStart,y.directiveEnd,t),$9(t,s)),s}(pt,this.componentDef,V1,ke,[RR]),ys(Ke,V1,null)}finally{h1()}return new pU(this.componentType,F1,V5(lt,V1),V1,lt)}}class pU extends class tU{}{constructor(t,e,r,i,a){super(),this.location=r,this._rootLView=i,this._tNode=a,this.instance=e,this.hostView=this.changeDetectorRef=new uU(i),this.componentType=t}get injector(){return new uo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Mo{}class dM{}const A5=new Map;class CM extends Mo{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new uM(this);const r=hr(t);this._bootstrapComponents=hi(r.bootstrap),this._r3Injector=iu(t,e,[{provide:Mo,useValue:this},{provide:H5,useValue:this.componentFactoryResolver}],gt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=m1.THROW_IF_NOT_FOUND,r=T2.Default){return t===m1||t===Mo||t===Rl?this:this._r3Injector.get(t,e,r)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class tC extends dM{constructor(t){super(),this.moduleType=t,null!==hr(t)&&function gU(n){const t=new Set;!function e(r){const i=hr(r,!0),a=i.id;null!==a&&(function hM(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${gt(t)} vs ${gt(t.name)}`)}(a,A5.get(a),r),A5.set(a,r));const s=hi(i.imports);for(const y of s)t.has(y)||(t.add(y),e(y))}(n)}(t)}create(t){return new CM(this.moduleType,t)}}function tc(n,t,e){const r=v()+n,i=St();return i[r]===l2?Oa(i,r,e?t.call(e):t()):function $l(n,t){return n[t]}(i,r)}function xo(n,t,e,r,i){return mM(St(),v(),n,t,e,r,i)}function rc(n,t,e,r,i,a){return function vM(n,t,e,r,i,a,s,y){const H=t+e;return lu(n,H,i,a,s)?Oa(n,H+3,y?r.call(y,i,a,s):r(i,a,s)):ic(n,H+3)}(St(),v(),n,t,e,r,i,a)}function ic(n,t){const e=n[t];return e===l2?void 0:e}function gM(n,t,e,r,i,a){const s=t+e;return Ur(n,s,i)?Oa(n,s+1,a?r.call(a,i):r(i)):ic(n,s+1)}function mM(n,t,e,r,i,a,s){const y=t+e;return N0(n,y,i,a)?Oa(n,y+2,s?r.call(s,i,a):r(i,a)):ic(n,y+2)}function an(n,t){const e=q2();let r;const i=n+20;e.firstCreatePass?(r=function xU(n,t){if(t)for(let e=t.length-1;e>=0;e--){const r=t[e];if(n===r.name)return r}}(t,e.pipeRegistry),e.data[i]=r,r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(i,r.onDestroy)):r=e.data[i];const a=r.factory||(r.factory=b4(r.type)),s=C4(z1);try{const y=Ha(!1),H=a();return Ha(y),function JR(n,t,e,r){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=r}(e,St(),i,H),H}finally{C4(s)}}function cn(n,t,e,r){const i=n+20,a=St(),s=Pr(a,i);return ac(a,i)?mM(a,v(),t,s.transform,e,r,s):s.transform(e,r)}function ac(n,t){return n[1].data[t].pure}function nC(n){return t=>{setTimeout(n,void 0,t)}}const v2=class SU extends j{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,r){var i,a,s;let y=t,H=e||(()=>null),J=r;if(t&&"object"==typeof t){const be=t;y=null===(i=be.next)||void 0===i?void 0:i.bind(be),H=null===(a=be.error)||void 0===a?void 0:a.bind(be),J=null===(s=be.complete)||void 0===s?void 0:s.bind(be)}this.__isAsync&&(H=nC(H),y&&(y=nC(y)),J&&(J=nC(J)));const he=super.subscribe({next:y,error:H,complete:J});return t instanceof c&&t.add(he),he}};function TU(){return this._results[p5()]()}class rC{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=p5(),r=rC.prototype;r[e]||(r[e]=TU)}get changes(){return this._changes||(this._changes=new v2)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const r=this;r.dirty=!1;const i=F3(t);(this._changesDetected=!function k8(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],a=t[r];if(e&&(i=e(i),a=e(a)),a!==i)return!1}return!0}(r._results,i,e))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let O3=(()=>{class n{}return n.__NG_ELEMENT_ID__=AU,n})();const HU=O3,VU=class extends HU{constructor(t,e,r){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(t){const e=this._declarationTContainer.tViews,r=gs(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[19];return null!==a&&(r[19]=a.createEmbeddedView(e)),ys(e,r,t),new ec(r)}};function AU(){return vu(h3(),St())}function vu(n,t){return 4&n.type?new VU(t,n,V5(n,t)):null}let ra=(()=>{class n{}return n.__NG_ELEMENT_ID__=kU,n})();function kU(){return wM(h3(),St())}const zU=ra,MM=class extends zU{constructor(t,e,r){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=r}get element(){return V5(this._hostTNode,this._hostLView)}get injector(){return new uo(this._hostTNode,this._hostLView)}get parentInjector(){const t=Qo(this._hostTNode,this._hostLView);if(ci(t)){const e=ji(t,this._hostLView),r=R3(t);return new uo(e[1].data[r+8],e)}return new uo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=xM(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,r){const i=t.createEmbeddedView(e||{});return this.insert(i,r),i}createComponent(t,e,r,i,a){const s=t&&!function as(n){return"function"==typeof n}(t);let y;if(s)y=e;else{const be=e||{};y=be.index,r=be.injector,i=be.projectableNodes,a=be.ngModuleRef}const H=s?t:new eC(Kn(t)),J=r||this.parentInjector;if(!a&&null==H.ngModule){const ke=(s?J:this.parentInjector).get(Mo,null);ke&&(a=ke)}const he=H.create(J,i,void 0,a);return this.insert(he.hostView,y),he}insert(t,e){const r=t._lView,i=r[1];if(function x8(n){return W3(n[3])}(r)){const he=this.indexOf(t);if(-1!==he)this.detach(he);else{const be=r[3],ke=new MM(be,be[6],be[3]);ke.detach(ke.indexOf(t))}}const a=this._adjustIndex(e),s=this._lContainer;!function Bh(n,t,e,r){const i=10+r,a=e.length;r>0&&(e[i-1][4]=t),r<a-10?(t[4]=e[i],$i(e,10+r,t)):(e.push(t),t[4]=null),t[3]=e;const s=t[17];null!==s&&e!==s&&function Z6(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(s,t);const y=t[19];null!==y&&y.insertView(n),t[2]|=128}(i,r,s,a);const y=dl(a,s),H=r[11],J=yo(H,s[7]);return null!==J&&function Ph(n,t,e,r,i,a){r[0]=i,r[6]=t,S0(n,r,e,1,i,a)}(i,s[6],H,r,J,y),t.attachToViewContainerRef(),$i(iC(s),a,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=xM(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),r=J6(this._lContainer,e);r&&(c0(iC(this._lContainer),e),sl(r[1],r))}detach(t){const e=this._adjustIndex(t,-1),r=J6(this._lContainer,e);return r&&null!=c0(iC(this._lContainer),e)?new ec(r):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function xM(n){return n[8]}function iC(n){return n[8]||(n[8]=[])}function wM(n,t){let e;const r=t[n.index];if(W3(r))e=r;else{let i;if(8&n.type)i=Qn(r);else{const a=t[11];i=a.createComment("");const s=P3(n,t);vo(a,yo(a,s),i,function Uh(n,t){return Xn(n)?n.nextSibling(t):t.nextSibling}(a,s),!1)}t[n.index]=e=Z9(r,t,i,n),f5(t,e)}return new MM(e,n,t)}class aC{constructor(t){this.queryList=t,this.matches=null}clone(){return new aC(this.queryList)}setDirty(){this.queryList.setDirty()}}class oC{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const r=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let a=0;a<r;a++){const s=e.getByIndex(a);i.push(this.queries[s.indexInDeclarationView].clone())}return new oC(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==HM(t,e).matches&&this.queries[e].setDirty()}}class LM{constructor(t,e,r=null){this.predicate=t,this.flags=e,this.read=r}}class sC{constructor(t=[]){this.queries=t}elementStart(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let r=0;r<this.length;r++){const i=null!==e?e.length:0,a=this.getByIndex(r).embeddedTView(t,i);a&&(a.indexInDeclarationView=r,null!==e?e.push(a):e=[a])}return null!==e?new sC(e):null}template(t,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class lC{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new lC(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const a=r[i];this.matchTNodeWithReadOption(t,e,OU(e,a)),this.matchTNodeWithReadOption(t,e,o0(e,t,a,!1,!1))}else r===O3?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,o0(e,t,r,!1,!1))}matchTNodeWithReadOption(t,e,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===qn||i===ra||i===O3&&4&e.type)this.addMatch(e.index,-2);else{const a=o0(e,t,i,!1,!1);null!==a&&this.addMatch(e.index,a)}else this.addMatch(e.index,r)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function OU(n,t){const e=n.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===t)return e[r+1];return null}function PU(n,t,e,r){return-1===e?function IU(n,t){return 11&n.type?V5(n,t):4&n.type?vu(n,t):null}(t,n):-2===e?function RU(n,t,e){return e===qn?V5(t,n):e===O3?vu(t,n):e===ra?wM(t,n):void 0}(n,t,r):s0(n,n[1],e,t)}function DM(n,t,e,r){const i=t[19].queries[r];if(null===i.matches){const a=n.data,s=e.matches,y=[];for(let H=0;H<s.length;H+=2){const J=s[H];y.push(J<0?null:PU(t,a[J],s[H+1],e.metadata.read))}i.matches=y}return i.matches}function cC(n,t,e,r){const i=n.queries.getByIndex(e),a=i.matches;if(null!==a){const s=DM(n,t,i,e);for(let y=0;y<a.length;y+=2){const H=a[y];if(H>0)r.push(s[y/2]);else{const J=a[y+1],he=t[-H];for(let be=10;be<he.length;be++){const ke=he[be];ke[17]===ke[3]&&cC(ke[1],ke,J,r)}if(null!==he[9]){const be=he[9];for(let ke=0;ke<be.length;ke++){const Ke=be[ke];cC(Ke[1],Ke,J,r)}}}}}return r}function b3(n){const t=St(),e=q2(),r=i1();s1(r+1);const i=HM(e,r);if(n.dirty&&Qs(t)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const a=i.crossesNgTemplate?cC(e,t,r,[]):DM(e,t,i,r);n.reset(a,aU),n.notifyOnChanges()}return!0}return!1}function yu(n,t,e){const r=q2();r.firstCreatePass&&(TM(r,new LM(n,t,e),-1),2==(2&t)&&(r.staticViewQueries=!0)),SM(r,St(),t)}function B3(n,t,e,r){const i=q2();if(i.firstCreatePass){const a=h3();TM(i,new LM(t,e,r),a.index),function BU(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(i,n),2==(2&e)&&(i.staticContentQueries=!0)}SM(i,St(),e)}function M3(){return function FU(n,t){return n[19].queries[t].queryList}(St(),i1())}function SM(n,t,e){const r=new rC(4==(4&e));Hl(n,t,r,r.destroy),null===t[19]&&(t[19]=new oC),t[19].queries.push(new aC(r))}function TM(n,t,e){null===n.queries&&(n.queries=new sC),n.queries.track(new lC(t,e))}function HM(n,t){return n.queries.getByIndex(t)}function Mu(...n){}const xu=new nn("Application Initializer");let CC=(()=>{class n{constructor(e){this.appInits=e,this.resolve=Mu,this.reject=Mu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const a=this.appInits[i]();if(Wl(a))e.push(a);else if(Rp(a)){const s=new Promise((y,H)=>{a.subscribe({complete:y,error:H})});e.push(s)}}Promise.all(e).then(()=>{r()}).catch(i=>{this.reject(i)}),0===e.length&&r(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(qt(xu,8))},n.\u0275prov=r2({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sc=new nn("AppId",{providedIn:"root",factory:function WM(){return`${gC()}${gC()}${gC()}`}});function gC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qM=new nn("Platform Initializer"),lc=new nn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),YM=new nn("appBootstrapListener");let ij=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r2({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ls=new nn("LocaleId",{providedIn:"root",factory:()=>R8(Ls,T2.Optional|T2.SkipSelf)||function aj(){return"undefined"!=typeof $localize&&$localize.locale||du}()});class sj{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let KM=(()=>{class n{compileModuleSync(e){return new tC(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),a=hi(hr(e).declarations).reduce((s,y)=>{const H=Kn(y);return H&&s.push(new eC(H)),s},[]);return new sj(r,a)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r2({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cj=(()=>Promise.resolve(0))();function mC(n){"undefined"==typeof Zone?cj.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class e3{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new v2(!1),this.onMicrotaskEmpty=new v2(!1),this.onStable=new v2(!1),this.onError=new v2(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&e,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function uj(){let n=Hn.requestAnimationFrame,t=Hn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function hj(n){const t=()=>{!function dj(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Hn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,yC(n),n.isCheckStableRunning=!0,vC(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),yC(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,i,a,s,y)=>{try{return ZM(n),e.invokeTask(i,a,s,y)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||n.shouldCoalesceRunChangeDetection)&&t(),JM(n)}},onInvoke:(e,r,i,a,s,y,H)=>{try{return ZM(n),e.invoke(i,a,s,y,H)}finally{n.shouldCoalesceRunChangeDetection&&t(),JM(n)}},onHasTask:(e,r,i,a)=>{e.hasTask(i,a),r===i&&("microTask"==a.change?(n._hasPendingMicrotasks=a.microTask,yC(n),vC(n)):"macroTask"==a.change&&(n.hasPendingMacrotasks=a.macroTask))},onHandleError:(e,r,i,a)=>(e.handleError(i,a),n.runOutsideAngular(()=>n.onError.emit(a)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!e3.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(e3.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,r){return this._inner.run(t,e,r)}runTask(t,e,r,i){const a=this._inner,s=a.scheduleEventTask("NgZoneEvent: "+i,t,fj,Mu,Mu);try{return a.runTask(s,e,r)}finally{a.cancelTask(s)}}runGuarded(t,e,r){return this._inner.runGuarded(t,e,r)}runOutsideAngular(t){return this._outer.run(t)}}const fj={};function vC(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function yC(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function ZM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function JM(n){n._nesting--,vC(n)}class pj{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new v2,this.onMicrotaskEmpty=new v2,this.onStable=new v2,this.onError=new v2}run(t,e,r){return t.apply(e,r)}runGuarded(t,e,r){return t.apply(e,r)}runOutsideAngular(t){return t()}runTask(t,e,r,i){return t.apply(e,r)}}let _C=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{e3.assertNotInAngularZone(),mC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())mC(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,i){let a=-1;r&&r>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==a),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:a,updateCb:i})}whenStable(e,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,r,i){return[]}}return n.\u0275fac=function(e){return new(e||n)(qt(e3))},n.\u0275prov=r2({token:n,factory:n.\u0275fac}),n})(),Cj=(()=>{class n{constructor(){this._applications=new Map,bC.addToWindow(this)}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){return bC.findTestabilityInTree(this,e,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r2({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class gj{addToWindow(t){}findTestabilityInTree(t,e,r){return null}}let bC=new gj,I0=null;const XM=new nn("AllowMultipleToken"),QM=new nn("PlatformOnDestroy");class ex{constructor(t,e){this.name=t,this.token=e}}function tx(n,t,e=[]){const r=`Platform: ${t}`,i=new nn(r);return(a=[])=>{let s=MC();if(!s||s.injector.get(XM,!1)){const y=[...e,...a,{provide:i,useValue:!0}];n?n(y):function _j(n){if(I0&&!I0.get(XM,!1))throw new Bt(400,"");I0=n;const t=n.get(nx),e=n.get(qM,null);e&&e.forEach(r=>r())}(function Mj(n=[],t){return m1.create({name:t,providers:[{provide:Fl,useValue:"platform"},{provide:QM,useValue:()=>I0=null},...n]})}(y,r))}return function bj(n){const t=MC();if(!t)throw new Bt(401,"");return t}()}}function MC(){var n;return null!==(n=null==I0?void 0:I0.get(nx))&&void 0!==n?n:null}let nx=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const y=function xj(n,t){let e;return e="noop"===n?new pj:("zone.js"===n?void 0:n)||new e3({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),H=[{provide:e3,useValue:y}];return y.run(()=>{const J=m1.create({providers:H,parent:this.injector,name:e.moduleType.name}),he=e.create(J),be=he.injector.get(w0,null);if(!be)throw new Bt(402,"");return y.runOutsideAngular(()=>{const ke=y.onError.subscribe({next:Ke=>{be.handleError(Ke)}});he.onDestroy(()=>{xC(this._modules,he),ke.unsubscribe()})}),function wj(n,t,e){try{const r=e();return Wl(r)?r.catch(i=>{throw t.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>n.handleError(r)),r}}(be,y,()=>{const ke=he.injector.get(CC);return ke.runInitializers(),ke.donePromise.then(()=>(function lB(n){E2(n,"Expected localeId to be defined"),"string"==typeof n&&(Ib=n.toLowerCase().replace(/_/g,"-"))}(he.injector.get(Ls,du)||du),this._moduleDoBootstrap(he),he))})})}bootstrapModule(e,r=[]){const i=rx({},r);return function vj(n,t,e){const r=new tC(e);return Promise.resolve(r)}(0,0,e).then(a=>this.bootstrapModuleFactory(a,i))}_moduleDoBootstrap(e){const r=e.injector.get(cc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!e.instance.ngDoBootstrap)throw new Bt(403,"");e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Bt(404,"");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(QM,null);null==e||e(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(qt(m1))},n.\u0275prov=r2({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function rx(n,t){return Array.isArray(t)?t.reduce(rx,n):Object.assign(Object.assign({},n),t)}let cc=(()=>{class n{constructor(e,r,i,a){this._zone=e,this._injector=r,this._exceptionHandler=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new me(H=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{H.next(this._stable),H.complete()})}),y=new me(H=>{let J;this._zone.runOutsideAngular(()=>{J=this._zone.onStable.subscribe(()=>{e3.assertNotInAngularZone(),mC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,H.next(!0))})})});const he=this._zone.onUnstable.subscribe(()=>{e3.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{H.next(!1)}))});return()=>{J.unsubscribe(),he.unsubscribe()}});this.isStable=Dt(s,y.pipe(function K1(n={}){const{connector:t=(()=>new j),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return a=>{let s=null,y=null,H=null,J=0,he=!1,be=!1;const ke=()=>{null==y||y.unsubscribe(),y=null},Ke=()=>{ke(),s=H=null,he=be=!1},V1=()=>{const F1=s;Ke(),null==F1||F1.unsubscribe()};return F((F1,lt)=>{J++,!be&&!he&&ke();const pt=H=null!=H?H:t();lt.add(()=>{J--,0===J&&!be&&!he&&(y=tt(V1,i))}),pt.subscribe(lt),s||(s=new B({next:q1=>pt.next(q1),error:q1=>{be=!0,ke(),y=tt(Ke,e,q1),pt.error(q1)},complete:()=>{he=!0,ke(),y=tt(Ke,r),pt.complete()}}),Ot(F1).subscribe(s))})(a)}}()))}bootstrap(e,r){if(!this._initStatus.done)throw new Bt(405,"");let i;i=e instanceof lM?e:this._injector.get(H5).resolveComponentFactory(e),this.componentTypes.push(i.componentType);const a=function yj(n){return n.isBoundToModule}(i)?void 0:this._injector.get(Mo),y=i.create(m1.NULL,[],r||i.selector,a),H=y.location.nativeElement,J=y.injector.get(_C,null),he=J&&y.injector.get(Cj);return J&&he&&he.registerApplication(H,J),y.onDestroy(()=>{this.detachView(y.hostView),xC(this.components,y),he&&he.unregisterApplication(H)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Bt(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;xC(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(YM,[]).concat(this._bootstrapListeners).forEach(i=>i(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(qt(e3),qt(m1),qt(w0),qt(CC))},n.\u0275prov=r2({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xC(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let ax=!0,ia=(()=>{class n{}return n.__NG_ELEMENT_ID__=Sj,n})();function Sj(n){return function Tj(n,t,e){if(Ct(n)&&!e){const r=wr(n.index,t);return new ec(r,r)}return 47&n.type?new ec(t[16],t):null}(h3(),St(),16==(16&n))}class ux{constructor(){}supports(t){return Gl(t)}create(t){return new Nj(t)}}const zj=(n,t)=>t;class Nj{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||zj}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,r=this._removalsHead,i=0,a=null;for(;e||r;){const s=!r||e&&e.currentIndex<dx(r,i,a)?e:r,y=dx(s,i,a),H=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{a||(a=[]);const J=y-i,he=H-i;if(J!=he){for(let ke=0;ke<J;ke++){const Ke=ke<a.length?a[ke]:a[ke]=0,V1=Ke+ke;he<=V1&&V1<J&&(a[ke]=Ke+1)}a[s.previousIndex]=he-J}}y!==H&&t(s,y,H)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Gl(t))throw new Bt(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,a,s,e=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let y=0;y<this.length;y++)a=t[y],s=this._trackByFn(y,a),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,a,s,y)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,y),r=!0),e=e._next}else i=0,function KR(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[p5()]();let r;for(;!(r=e.next()).done;)t(r.value)}}(t,y=>{s=this._trackByFn(i,y),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,y,s,i)),Object.is(e.item,y)||this._addIdentityChange(e,y)):(e=this._mismatch(e,y,s,i),r=!0),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,r,i){let a;return null===t?a=this._itTail:(a=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,a,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,a,i)):t=this._addAfter(new Ej(e,r),a,i),t}_verifyReinsertion(t,e,r,i){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==a?t=this._reinsertAfter(a,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,a=t._nextRemoved;return null===i?this._removalsHead=a:i._nextRemoved=a,null===a?this._removalsTail=i:a._prevRemoved=i,this._insertAfter(t,e,r),this._addToMoves(t,r),t}_moveAfter(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t}_addAfter(t,e,r){return this._insertAfter(t,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,r){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new fx),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,r=t._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fx),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ej{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Oj{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const e=t._prevDup,r=t._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class fx{constructor(){this.map=new Map}put(t){const e=t.trackById;let r=this.map.get(e);r||(r=new Oj,this.map.set(e,r)),r.add(t)}get(t,e){const i=this.map.get(t);return i?i.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dx(n,t,e){const r=n.previousIndex;if(null===r)return r;let i=0;return e&&r<e.length&&(i=e[r]),r+t+i}class hx{constructor(){}supports(t){return t instanceof Map||kp(t)}create(){return new Ij}}class Ij{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||kp(t)))throw new Bt(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(e&&e.key===i)this._maybeAddToChanges(e,r),this._appendAfter=e,e=e._next;else{const a=this._getOrCreateRecordForKey(i,r);e=this._insertBeforeOrAppend(e,a)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let r=e;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const r=t._prev;return e._next=t,e._prev=r,t._prev=e,r&&(r._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,e);const a=i._prev,s=i._next;return a&&(a._next=s),s&&(s._prev=a),i._next=null,i._prev=null,i}const r=new Pj(t);return this._records.set(t,r),r.currentValue=e,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(r=>e(t[r],r))}}class Pj{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function px(){return new Du([new ux])}let Du=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(null!=r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||px()),deps:[[n,new p0,new Yi]]}}find(e){const r=this.factories.find(i=>i.supports(e));if(null!=r)return r;throw new Bt(901,"")}}return n.\u0275prov=r2({token:n,providedIn:"root",factory:px}),n})();function Cx(){return new uc([new hx])}let uc=(()=>{class n{constructor(e){this.factories=e}static create(e,r){if(r){const i=r.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:r=>n.create(e,r||Cx()),deps:[[n,new p0,new Yi]]}}find(e){const r=this.factories.find(a=>a.supports(e));if(r)return r;throw new Bt(901,"")}}return n.\u0275prov=r2({token:n,providedIn:"root",factory:Cx}),n})();const Bj=tx(null,"core",[]);let Uj=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(qt(cc))},n.\u0275mod=tn({type:n}),n.\u0275inj=D2({}),n})(),Su=null;function Ra(){return Su}const X3=new nn("DocumentToken");let R0=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r2({token:n,factory:function(){return function Wj(){return qt(gx)}()},providedIn:"platform"}),n})();const qj=new nn("Location Initialized");let gx=(()=>{class n extends R0{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ra().getBaseHref(this._doc)}onPopState(e){const r=Ra().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Ra().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,i){mx()?this._history.pushState(e,r,i):this.location.hash=i}replaceState(e,r,i){mx()?this._history.replaceState(e,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(qt(X3))},n.\u0275prov=r2({token:n,factory:function(){return function Yj(){return new gx(qt(X3))}()},providedIn:"platform"}),n})();function mx(){return!!window.history.pushState}function TC(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function vx(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Lo(n){return n&&"?"!==n[0]?"?"+n:n}let z5=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r2({token:n,factory:function(){return function Kj(n){const t=qt(X3).location;return new yx(qt(R0),t&&t.origin||"")}()},providedIn:"root"}),n})();const HC=new nn("appBaseHref");let yx=(()=>{class n extends z5{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return TC(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Lo(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,a){const s=this.prepareExternalUrl(i+Lo(a));this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,a){const s=this.prepareExternalUrl(i+Lo(a));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(qt(R0),qt(HC,8))},n.\u0275prov=r2({token:n,factory:n.\u0275fac}),n})(),Zj=(()=>{class n extends z5{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=TC(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,a){let s=this.prepareExternalUrl(i+Lo(a));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,i,a){let s=this.prepareExternalUrl(i+Lo(a));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(qt(R0),qt(HC,8))},n.\u0275prov=r2({token:n,factory:n.\u0275fac}),n})(),Tu=(()=>{class n{constructor(e,r){this._subject=new v2,this._urlChangeListeners=[],this._platformStrategy=e;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=vx(_x(i)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Lo(r))}normalize(e){return n.stripTrailingSlash(function Xj(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,_x(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._platformStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Lo(r)),i)}replaceState(e,r="",i=null){this._platformStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Lo(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return n.normalizeQueryParams=Lo,n.joinWithSlash=TC,n.stripTrailingSlash=vx,n.\u0275fac=function(e){return new(e||n)(qt(z5),qt(R0))},n.\u0275prov=r2({token:n,factory:function(){return function Jj(){return new Tu(qt(z5),qt(R0))}()},providedIn:"root"}),n})();function _x(n){return n.replace(/\/index.html$/,"")}var T4=(()=>((T4=T4||{})[T4.Decimal=0]="Decimal",T4[T4.Percent=1]="Percent",T4[T4.Currency=2]="Currency",T4[T4.Scientific=3]="Scientific",T4))(),U3=(()=>((U3=U3||{})[U3.Format=0]="Format",U3[U3.Standalone=1]="Standalone",U3))(),xn=(()=>((xn=xn||{})[xn.Narrow=0]="Narrow",xn[xn.Abbreviated=1]="Abbreviated",xn[xn.Wide=2]="Wide",xn[xn.Short=3]="Short",xn))(),T3=(()=>((T3=T3||{})[T3.Short=0]="Short",T3[T3.Medium=1]="Medium",T3[T3.Long=2]="Long",T3[T3.Full=3]="Full",T3))(),N2=(()=>((N2=N2||{})[N2.Decimal=0]="Decimal",N2[N2.Group=1]="Group",N2[N2.List=2]="List",N2[N2.PercentSign=3]="PercentSign",N2[N2.PlusSign=4]="PlusSign",N2[N2.MinusSign=5]="MinusSign",N2[N2.Exponential=6]="Exponential",N2[N2.SuperscriptingExponent=7]="SuperscriptingExponent",N2[N2.PerMille=8]="PerMille",N2[N2.Infinity=9]="Infinity",N2[N2.NaN=10]="NaN",N2[N2.TimeSeparator=11]="TimeSeparator",N2[N2.CurrencyDecimal=12]="CurrencyDecimal",N2[N2.CurrencyGroup=13]="CurrencyGroup",N2))();function Hu(n,t){return vi(l4(n)[o2.DateFormat],t)}function Vu(n,t){return vi(l4(n)[o2.TimeFormat],t)}function Au(n,t){return vi(l4(n)[o2.DateTimeFormat],t)}function mi(n,t){const e=l4(n),r=e[o2.NumberSymbols][t];if(void 0===r){if(t===N2.CurrencyDecimal)return e[o2.NumberSymbols][N2.Decimal];if(t===N2.CurrencyGroup)return e[o2.NumberSymbols][N2.Group]}return r}function Mx(n){if(!n[o2.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[o2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function vi(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function AC(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const fG=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,fc={},dG=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ar=(()=>((ar=ar||{})[ar.Short=0]="Short",ar[ar.ShortGMT=1]="ShortGMT",ar[ar.Long=2]="Long",ar[ar.Extended=3]="Extended",ar))(),O2=(()=>((O2=O2||{})[O2.FullYear=0]="FullYear",O2[O2.Month=1]="Month",O2[O2.Date=2]="Date",O2[O2.Hours=3]="Hours",O2[O2.Minutes=4]="Minutes",O2[O2.Seconds=5]="Seconds",O2[O2.FractionalSeconds=6]="FractionalSeconds",O2[O2.Day=7]="Day",O2))(),fn=(()=>((fn=fn||{})[fn.DayPeriods=0]="DayPeriods",fn[fn.Days=1]="Days",fn[fn.Months=2]="Months",fn[fn.Eras=3]="Eras",fn))();function hG(n,t,e,r){let i=function MG(n){if(Lx(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,a=1,s=1]=n.split("-").map(y=>+y);return ku(i,a-1,s)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let r;if(r=n.match(fG))return function xG(n){const t=new Date(0);let e=0,r=0;const i=n[8]?t.setUTCFullYear:t.setFullYear,a=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-e,y=Number(n[5]||0)-r,H=Number(n[6]||0),J=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(t,s,y,H,J),t}(r)}const t=new Date(n);if(!Lx(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Do(e,t)||t;let y,s=[];for(;t;){if(y=dG.exec(t),!y){s.push(t);break}{s=s.concat(y.slice(1));const he=s.pop();if(!he)break;t=he}}let H=i.getTimezoneOffset();r&&(H=wx(r,H),i=function bG(n,t,e){const r=e?-1:1,i=n.getTimezoneOffset();return function _G(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,r*(wx(t,i)-i))}(i,r,!0));let J="";return s.forEach(he=>{const be=function yG(n){if(zC[n])return zC[n];let t;switch(n){case"G":case"GG":case"GGG":t=a3(fn.Eras,xn.Abbreviated);break;case"GGGG":t=a3(fn.Eras,xn.Wide);break;case"GGGGG":t=a3(fn.Eras,xn.Narrow);break;case"y":t=er(O2.FullYear,1,0,!1,!0);break;case"yy":t=er(O2.FullYear,2,0,!0,!0);break;case"yyy":t=er(O2.FullYear,3,0,!1,!0);break;case"yyyy":t=er(O2.FullYear,4,0,!1,!0);break;case"Y":t=Ou(1);break;case"YY":t=Ou(2,!0);break;case"YYY":t=Ou(3);break;case"YYYY":t=Ou(4);break;case"M":case"L":t=er(O2.Month,1,1);break;case"MM":case"LL":t=er(O2.Month,2,1);break;case"MMM":t=a3(fn.Months,xn.Abbreviated);break;case"MMMM":t=a3(fn.Months,xn.Wide);break;case"MMMMM":t=a3(fn.Months,xn.Narrow);break;case"LLL":t=a3(fn.Months,xn.Abbreviated,U3.Standalone);break;case"LLLL":t=a3(fn.Months,xn.Wide,U3.Standalone);break;case"LLLLL":t=a3(fn.Months,xn.Narrow,U3.Standalone);break;case"w":t=kC(1);break;case"ww":t=kC(2);break;case"W":t=kC(1,!0);break;case"d":t=er(O2.Date,1);break;case"dd":t=er(O2.Date,2);break;case"c":case"cc":t=er(O2.Day,1);break;case"ccc":t=a3(fn.Days,xn.Abbreviated,U3.Standalone);break;case"cccc":t=a3(fn.Days,xn.Wide,U3.Standalone);break;case"ccccc":t=a3(fn.Days,xn.Narrow,U3.Standalone);break;case"cccccc":t=a3(fn.Days,xn.Short,U3.Standalone);break;case"E":case"EE":case"EEE":t=a3(fn.Days,xn.Abbreviated);break;case"EEEE":t=a3(fn.Days,xn.Wide);break;case"EEEEE":t=a3(fn.Days,xn.Narrow);break;case"EEEEEE":t=a3(fn.Days,xn.Short);break;case"a":case"aa":case"aaa":t=a3(fn.DayPeriods,xn.Abbreviated);break;case"aaaa":t=a3(fn.DayPeriods,xn.Wide);break;case"aaaaa":t=a3(fn.DayPeriods,xn.Narrow);break;case"b":case"bb":case"bbb":t=a3(fn.DayPeriods,xn.Abbreviated,U3.Standalone,!0);break;case"bbbb":t=a3(fn.DayPeriods,xn.Wide,U3.Standalone,!0);break;case"bbbbb":t=a3(fn.DayPeriods,xn.Narrow,U3.Standalone,!0);break;case"B":case"BB":case"BBB":t=a3(fn.DayPeriods,xn.Abbreviated,U3.Format,!0);break;case"BBBB":t=a3(fn.DayPeriods,xn.Wide,U3.Format,!0);break;case"BBBBB":t=a3(fn.DayPeriods,xn.Narrow,U3.Format,!0);break;case"h":t=er(O2.Hours,1,-12);break;case"hh":t=er(O2.Hours,2,-12);break;case"H":t=er(O2.Hours,1);break;case"HH":t=er(O2.Hours,2);break;case"m":t=er(O2.Minutes,1);break;case"mm":t=er(O2.Minutes,2);break;case"s":t=er(O2.Seconds,1);break;case"ss":t=er(O2.Seconds,2);break;case"S":t=er(O2.FractionalSeconds,1);break;case"SS":t=er(O2.FractionalSeconds,2);break;case"SSS":t=er(O2.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Nu(ar.Short);break;case"ZZZZZ":t=Nu(ar.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Nu(ar.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Nu(ar.Long);break;default:return null}return zC[n]=t,t}(he);J+=be?be(i,e,H):"''"===he?"'":he.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),J}function ku(n,t,e){const r=new Date(0);return r.setFullYear(n,t,e),r.setHours(0,0,0),r}function Do(n,t){const e=function Qj(n){return l4(n)[o2.LocaleId]}(n);if(fc[e]=fc[e]||{},fc[e][t])return fc[e][t];let r="";switch(t){case"shortDate":r=Hu(n,T3.Short);break;case"mediumDate":r=Hu(n,T3.Medium);break;case"longDate":r=Hu(n,T3.Long);break;case"fullDate":r=Hu(n,T3.Full);break;case"shortTime":r=Vu(n,T3.Short);break;case"mediumTime":r=Vu(n,T3.Medium);break;case"longTime":r=Vu(n,T3.Long);break;case"fullTime":r=Vu(n,T3.Full);break;case"short":const i=Do(n,"shortTime"),a=Do(n,"shortDate");r=zu(Au(n,T3.Short),[i,a]);break;case"medium":const s=Do(n,"mediumTime"),y=Do(n,"mediumDate");r=zu(Au(n,T3.Medium),[s,y]);break;case"long":const H=Do(n,"longTime"),J=Do(n,"longDate");r=zu(Au(n,T3.Long),[H,J]);break;case"full":const he=Do(n,"fullTime"),be=Do(n,"fullDate");r=zu(Au(n,T3.Full),[he,be])}return r&&(fc[e][t]=r),r}function zu(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,r){return null!=t&&r in t?t[r]:e})),n}function aa(n,t,e="-",r,i){let a="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,a=e));let s=String(n);for(;s.length<t;)s="0"+s;return r&&(s=s.substr(s.length-t)),a+s}function er(n,t,e=0,r=!1,i=!1){return function(a,s){let y=function CG(n,t){switch(n){case O2.FullYear:return t.getFullYear();case O2.Month:return t.getMonth();case O2.Date:return t.getDate();case O2.Hours:return t.getHours();case O2.Minutes:return t.getMinutes();case O2.Seconds:return t.getSeconds();case O2.FractionalSeconds:return t.getMilliseconds();case O2.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((e>0||y>-e)&&(y+=e),n===O2.Hours)0===y&&-12===e&&(y=12);else if(n===O2.FractionalSeconds)return function pG(n,t){return aa(n,3).substr(0,t)}(y,t);const H=mi(s,N2.MinusSign);return aa(y,t,H,r,i)}}function a3(n,t,e=U3.Format,r=!1){return function(i,a){return function gG(n,t,e,r,i,a){switch(e){case fn.Months:return function nG(n,t,e){const r=l4(n),a=vi([r[o2.MonthsFormat],r[o2.MonthsStandalone]],t);return vi(a,e)}(t,i,r)[n.getMonth()];case fn.Days:return function tG(n,t,e){const r=l4(n),a=vi([r[o2.DaysFormat],r[o2.DaysStandalone]],t);return vi(a,e)}(t,i,r)[n.getDay()];case fn.DayPeriods:const s=n.getHours(),y=n.getMinutes();if(a){const J=function oG(n){const t=l4(n);return Mx(t),(t[o2.ExtraData][2]||[]).map(r=>"string"==typeof r?AC(r):[AC(r[0]),AC(r[1])])}(t),he=function sG(n,t,e){const r=l4(n);Mx(r);const a=vi([r[o2.ExtraData][0],r[o2.ExtraData][1]],t)||[];return vi(a,e)||[]}(t,i,r),be=J.findIndex(ke=>{if(Array.isArray(ke)){const[Ke,V1]=ke,F1=s>=Ke.hours&&y>=Ke.minutes,lt=s<V1.hours||s===V1.hours&&y<V1.minutes;if(Ke.hours<V1.hours){if(F1&&lt)return!0}else if(F1||lt)return!0}else if(ke.hours===s&&ke.minutes===y)return!0;return!1});if(-1!==be)return he[be]}return function eG(n,t,e){const r=l4(n),a=vi([r[o2.DayPeriodsFormat],r[o2.DayPeriodsStandalone]],t);return vi(a,e)}(t,i,r)[s<12?0:1];case fn.Eras:return function rG(n,t){return vi(l4(n)[o2.Eras],t)}(t,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(i,a,n,t,e,r)}}function Nu(n){return function(t,e,r){const i=-1*r,a=mi(e,N2.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case ar.Short:return(i>=0?"+":"")+aa(s,2,a)+aa(Math.abs(i%60),2,a);case ar.ShortGMT:return"GMT"+(i>=0?"+":"")+aa(s,1,a);case ar.Long:return"GMT"+(i>=0?"+":"")+aa(s,2,a)+":"+aa(Math.abs(i%60),2,a);case ar.Extended:return 0===r?"Z":(i>=0?"+":"")+aa(s,2,a)+":"+aa(Math.abs(i%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}function xx(n){return ku(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function kC(n,t=!1){return function(e,r){let i;if(t){const a=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();i=1+Math.floor((s+a)/7)}else{const a=xx(e),s=function vG(n){const t=ku(n,0,1).getDay();return ku(n,0,1+(t<=4?4:11)-t)}(a.getFullYear()),y=a.getTime()-s.getTime();i=1+Math.round(y/6048e5)}return aa(i,n,mi(r,N2.MinusSign))}}function Ou(n,t=!1){return function(e,r){return aa(xx(e).getFullYear(),n,mi(r,N2.MinusSign),t)}}const zC={};function wx(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Lx(n){return n instanceof Date&&!isNaN(n.valueOf())}const wG=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function IC(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}let hc=(()=>{class n{constructor(e,r,i,a){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Gl(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${gt(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(e){return new(e||n)(z1(Du),z1(uc),z1(qn),z1(j4))},n.\u0275dir=Ut({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class IG{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let oa=(()=>{class n{constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((i,a,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new IG(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===a?void 0:a);else if(null!==a){const y=r.get(a);r.move(y,s),Hx(y,i)}});for(let i=0,a=r.length;i<a;i++){const y=r.get(i).context;y.index=i,y.count=a,y.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{Hx(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(z1(ra),z1(O3),z1(Du))},n.\u0275dir=Ut({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Hx(n,t){n.context.$implicit=t.item}let C3=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new PG,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Vx("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Vx("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(z1(ra),z1(O3))},n.\u0275dir=Ut({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class PG{constructor(){this.$implicit=null,this.ngIf=null}}function Vx(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${gt(t)}'.`)}function sa(n,t){return new Bt(2100,"")}class jG{createSubscription(t,e){return t.subscribe({next:e,error:r=>{throw r}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class GG{createSubscription(t,e){return t.then(e,r=>{throw r})}dispose(t){}onDestroy(t){}}const $G=new GG,WG=new jG;let kx=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if(Wl(e))return $G;if(K_(e))return WG;throw sa()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(z1(ia,16))},n.\u0275pipe=I3({name:"async",type:n,pure:!1}),n})();const JG=new nn("DATE_PIPE_DEFAULT_TIMEZONE");let BC=(()=>{class n{constructor(e,r){this.locale=e,this.defaultTimezone=r}transform(e,r="mediumDate",i,a){var s;if(null==e||""===e||e!=e)return null;try{return hG(e,r,a||this.locale,null!==(s=null!=i?i:this.defaultTimezone)&&void 0!==s?s:void 0)}catch(y){throw sa()}}}return n.\u0275fac=function(e){return new(e||n)(z1(Ls,16),z1(JG,24))},n.\u0275pipe=I3({name:"date",type:n,pure:!0}),n})(),Ds=(()=>{class n{constructor(e){this._locale=e}transform(e,r,i){if(!function UC(n){return!(null==n||""===n||n!=n)}(e))return null;i=i||this._locale;try{return function VG(n,t,e){return function EC(n,t,e,r,i,a,s=!1){let y="",H=!1;if(isFinite(n)){let J=function kG(n){let r,i,a,s,y,t=Math.abs(n)+"",e=0;for((i=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(i<0&&(i=a),i+=+t.slice(a+1),t=t.substring(0,a)):i<0&&(i=t.length),a=0;"0"===t.charAt(a);a++);if(a===(y=t.length))r=[0],i=1;else{for(y--;"0"===t.charAt(y);)y--;for(i-=a,r=[],s=0;a<=y;a++,s++)r[s]=Number(t.charAt(a))}return i>22&&(r=r.splice(0,21),e=i-1,i=1),{digits:r,exponent:e,integerLen:i}}(n);s&&(J=function AG(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(J));let he=t.minInt,be=t.minFrac,ke=t.maxFrac;if(a){const q1=a.match(wG);if(null===q1)throw new Error(`${a} is not a valid digit info`);const At=q1[1],$t=q1[3],Xt=q1[5];null!=At&&(he=IC(At)),null!=$t&&(be=IC($t)),null!=Xt?ke=IC(Xt):null!=$t&&be>ke&&(ke=be)}!function zG(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let r=n.digits,i=r.length-n.integerLen;const a=Math.min(Math.max(t,i),e);let s=a+n.integerLen,y=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let be=s;be<r.length;be++)r[be]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=a+1),r[0]=0;for(let be=1;be<s;be++)r[be]=0}if(y>=5)if(s-1<0){for(let be=0;be>s;be--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,a);i++)r.push(0);let H=0!==a;const J=t+n.integerLen,he=r.reduceRight(function(be,ke,Ke,V1){return V1[Ke]=(ke+=be)<10?ke:ke-10,H&&(0===V1[Ke]&&Ke>=J?V1.pop():H=!1),ke>=10?1:0},0);he&&(r.unshift(he),n.integerLen++)}(J,be,ke);let Ke=J.digits,V1=J.integerLen;const F1=J.exponent;let lt=[];for(H=Ke.every(q1=>!q1);V1<he;V1++)Ke.unshift(0);for(;V1<0;V1++)Ke.unshift(0);V1>0?lt=Ke.splice(V1,Ke.length):(lt=Ke,Ke=[0]);const pt=[];for(Ke.length>=t.lgSize&&pt.unshift(Ke.splice(-t.lgSize,Ke.length).join(""));Ke.length>t.gSize;)pt.unshift(Ke.splice(-t.gSize,Ke.length).join(""));Ke.length&&pt.unshift(Ke.join("")),y=pt.join(mi(e,r)),lt.length&&(y+=mi(e,i)+lt.join("")),F1&&(y+=mi(e,N2.Exponential)+"+"+F1)}else y=mi(e,N2.Infinity);return y=n<0&&!H?t.negPre+y+t.negSuf:t.posPre+y+t.posSuf,y}(n,function OC(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],a=r[1],s=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],y=s[0],H=s[1]||"";e.posPre=y.substr(0,y.indexOf("#"));for(let he=0;he<H.length;he++){const be=H.charAt(he);"0"===be?e.minFrac=e.maxFrac=he+1:"#"===be?e.maxFrac=he+1:e.posSuf+=be}const J=y.split(",");if(e.gSize=J[1]?J[1].length:0,e.lgSize=J[2]||J[1]?(J[2]||J[1]).length:0,a){const he=i.length-e.posPre.length-e.posSuf.length,be=a.indexOf("#");e.negPre=a.substr(0,be).replace(/'/g,""),e.negSuf=a.substr(be+he).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function VC(n,t){return l4(n)[o2.NumberFormats][t]}(t,T4.Decimal),mi(t,N2.MinusSign)),t,N2.Group,N2.Decimal,e)}(function jC(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),i,r)}catch(a){throw sa()}}}return n.\u0275fac=function(e){return new(e||n)(z1(Ls,16))},n.\u0275pipe=I3({name:"number",type:n,pure:!0}),n})();let H4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tn({type:n}),n.\u0275inj=D2({}),n})();const Nx="browser";function GC(n){return n===Nx}let u$=(()=>{class n{}return n.\u0275prov=r2({token:n,providedIn:"root",factory:()=>new f$(qt(X3),window)}),n})();class f${constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function d$(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const s=a.getElementById(t)||a.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Ex(this.window.history)||Ex(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Ex(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class $C extends class p$ extends class $j{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Gj(n){Su||(Su=n)}(new $C)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function C$(){return Cc=Cc||document.querySelector("base"),Cc?Cc.getAttribute("href"):null}();return null==e?null:function g$(n){Pu=Pu||document.createElement("a"),Pu.setAttribute("href",n);const t=Pu.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Cc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function EG(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,a]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(a)}return null}(document.cookie,t)}}let Pu,Cc=null;const Ox=new nn("TRANSITION_ID"),v$=[{provide:xu,useFactory:function m$(n,t,e){return()=>{e.get(CC).donePromise.then(()=>{const r=Ra(),i=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Ox,X3,m1],multi:!0}];class WC{static init(){!function mj(n){bC=n}(new WC)}addToWindow(t){Hn.getAngularTestability=(r,i=!0)=>{const a=t.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},Hn.getAllAngularTestabilities=()=>t.getAllTestabilities(),Hn.getAllAngularRootElements=()=>t.getAllRootElements(),Hn.frameworkStabilizers||(Hn.frameworkStabilizers=[]),Hn.frameworkStabilizers.push(r=>{const i=Hn.getAllAngularTestabilities();let a=i.length,s=!1;const y=function(H){s=s||H,a--,0==a&&r(s)};i.forEach(function(H){H.whenStable(y)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:r?Ra().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let y$=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r2({token:n,factory:n.\u0275fac}),n})();const Ru=new nn("EventManagerPlugins");let Fu=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>i.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const s=i[a];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(qt(Ru),qt(e3))},n.\u0275prov=r2({token:n,factory:n.\u0275fac}),n})();class Ix{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const i=Ra().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let Px=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r2({token:n,factory:n.\u0275fac}),n})(),gc=(()=>{class n extends Px{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,i){e.forEach(a=>{const s=this._doc.createElement("style");s.textContent=a,i.push(r.appendChild(s))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(Rx),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(e,i,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Rx))}}return n.\u0275fac=function(e){return new(e||n)(qt(X3))},n.\u0275prov=r2({token:n,factory:n.\u0275fac}),n})();function Rx(n){Ra().remove(n)}const qC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},YC=/%COMP%/g;function Bu(n,t,e){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?Bu(n,i,e):(i=i.replace(YC,n),e.push(i))}return e}function Ux(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let KC=(()=>{class n{constructor(e,r,i){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ZC(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case Wr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new L$(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(e),i}case 1:case Wr.ShadowDom:return new D$(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const i=Bu(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(qt(Fu),qt(gc),qt(sc))},n.\u0275prov=r2({token:n,factory:n.\u0275fac}),n})();class ZC{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(qC[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const a=qC[i];a?t.setAttributeNS(a,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=qC[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(r4.DashCase|r4.Important)?t.style.setProperty(e,r,i&r4.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&r4.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ux(r)):this.eventManager.addEventListener(t,e,Ux(r))}}class L$ extends ZC{constructor(t,e,r,i){super(t),this.component=r;const a=Bu(i+"-"+r.id,r.styles,[]);e.addStyles(a),this.contentAttr=function M$(n){return"_ngcontent-%COMP%".replace(YC,n)}(i+"-"+r.id),this.hostAttr=function x$(n){return"_nghost-%COMP%".replace(YC,n)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class D$ extends ZC{constructor(t,e,r,i){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Bu(i.id,i.styles,[]);for(let s=0;s<a.length;s++){const y=document.createElement("style");y.textContent=a[s],this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let S$=(()=>{class n extends Ix{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return n.\u0275fac=function(e){return new(e||n)(qt(X3))},n.\u0275prov=r2({token:n,factory:n.\u0275fac}),n})();const Gx=["alt","control","meta","shift"],H$={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$x={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},V$={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let A$=(()=>{class n extends Ix{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const a=n.parseEventName(r),s=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ra().onAndCancel(e,a.domEventName,s))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let s="";if(Gx.forEach(H=>{const J=r.indexOf(H);J>-1&&(r.splice(J,1),s+=H+".")}),s+=a,0!=r.length||0===a.length)return null;const y={};return y.domEventName=i,y.fullKey=s,y}static getEventFullKey(e){let r="",i=function k$(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&$x.hasOwnProperty(t)&&(t=$x[t]))}return H$[t]||t}(e);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Gx.forEach(a=>{a!=i&&V$[a](e)&&(r+=a+".")}),r+=i,r}static eventCallback(e,r,i){return a=>{n.getEventFullKey(a)===e&&i.runGuarded(()=>r(a))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(qt(X3))},n.\u0275prov=r2({token:n,factory:n.\u0275fac}),n})();const O$=tx(Bj,"browser",[{provide:lc,useValue:Nx},{provide:qM,useValue:function z$(){$C.makeCurrent(),WC.init()},multi:!0},{provide:X3,useFactory:function E$(){return function u3(n){oo=n}(document),document},deps:[]}]),I$=[{provide:Fl,useValue:"root"},{provide:w0,useFactory:function N$(){return new w0},deps:[]},{provide:Ru,useClass:S$,multi:!0,deps:[X3,e3,lc]},{provide:Ru,useClass:A$,multi:!0,deps:[X3]},{provide:KC,useClass:KC,deps:[Fu,gc,sc]},{provide:Xp,useExisting:KC},{provide:Px,useExisting:gc},{provide:gc,useClass:gc,deps:[X3]},{provide:_C,useClass:_C,deps:[e3]},{provide:Fu,useClass:Fu,deps:[Ru,e3]},{provide:class h${},useClass:y$,deps:[]}];let P$=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:sc,useValue:e.appId},{provide:Ox,useExisting:sc},v$]}}}return n.\u0275fac=function(e){return new(e||n)(qt(n,12))},n.\u0275mod=tn({type:n}),n.\u0275inj=D2({providers:I$,imports:[H4,Uj]}),n})();"undefined"!=typeof window&&window;let Yx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r2({token:n,factory:function(e){let r=null;return r=e?new(e||n):qt(Kx),r},providedIn:"root"}),n})(),Kx=(()=>{class n extends Yx{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case Wn.NONE:return r;case Wn.HTML:return fi(r,"HTML")?t4(r):t9(this._doc,String(r)).toString();case Wn.STYLE:return fi(r,"Style")?t4(r):r;case Wn.SCRIPT:if(fi(r,"Script"))return t4(r);throw new Error("unsafe value used in a script context");case Wn.URL:return B8(r),fi(r,"URL")?t4(r):_0(String(r));case Wn.RESOURCE_URL:if(fi(r,"ResourceURL"))return t4(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function $7(n){return new v0(n)}(e)}bypassSecurityTrustStyle(e){return function rh(n){return new j7(n)}(e)}bypassSecurityTrustScript(e){return function U8(n){return new G7(n)}(e)}bypassSecurityTrustUrl(e){return function W7(n){return new th(n)}(e)}bypassSecurityTrustResourceUrl(e){return function y0(n){return new nh(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(qt(X3))},n.\u0275prov=r2({token:n,factory:function(e){let r=null;return r=e?new e:function Y$(n){return new Kx(n.get(X3))}(qt(m1)),r},providedIn:"root"}),n})();const{isArray:K$}=Array,{getPrototypeOf:Z$,prototype:J$,keys:X$}=Object;function Zx(n){if(1===n.length){const t=n[0];if(K$(t))return{args:t,keys:null};if(function Q$(n){return n&&"object"==typeof n&&Z$(n)===J$}(t)){const e=X$(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}const{isArray:eW}=Array;function XC(n){return R(t=>function tW(n,t){return eW(t)?n(...t):n(t)}(n,t))}function Jx(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}let Xx=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(z1(j4),z1(qn))},n.\u0275dir=Ut({type:n}),n})(),F0=(()=>{class n extends Xx{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=K3(n)))(r||n)}}(),n.\u0275dir=Ut({type:n,features:[Bn]}),n})();const yi=new nn("NgValueAccessor"),iW={provide:yi,useExisting:Vt(()=>u4),multi:!0},oW=new nn("CompositionEventMode");let u4=(()=>{class n extends Xx{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function aW(){const n=Ra()?Ra().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(z1(j4),z1(qn),z1(oW,8))},n.\u0275dir=Ut({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&ht("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[jn([iW]),Bn]}),n})();function Ts(n){return null==n||0===n.length}function ew(n){return null!=n&&"number"==typeof n.length}const or=new nn("NgValidators"),Hs=new nn("NgAsyncValidators"),sW=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class QC{static min(t){return tw(t)}static max(t){return nw(t)}static required(t){return rw(t)}static requiredTrue(t){return function iw(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function aw(n){return Ts(n.value)||sW.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function ow(n){return t=>Ts(t.value)||!ew(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function sw(n){return t=>ew(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function lw(n){if(!n)return Uu;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(Ts(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return pw(t)}static composeAsync(t){return Cw(t)}}function tw(n){return t=>{if(Ts(t.value)||Ts(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function nw(n){return t=>{if(Ts(t.value)||Ts(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function rw(n){return Ts(n.value)?{required:!0}:null}function Uu(n){return null}function cw(n){return null!=n}function uw(n){const t=Wl(n)?Ot(n):n;return Rp(t),t}function fw(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function dw(n,t){return t.map(e=>e(n))}function hw(n){return n.map(t=>function lW(n){return!n.validate}(t)?t:e=>t.validate(e))}function pw(n){if(!n)return null;const t=n.filter(cw);return 0==t.length?null:function(e){return fw(dw(e,t))}}function eg(n){return null!=n?pw(hw(n)):null}function Cw(n){if(!n)return null;const t=n.filter(cw);return 0==t.length?null:function(e){return function nW(...n){const t=ut(n),{args:e,keys:r}=Zx(n),i=new me(a=>{const{length:s}=e;if(!s)return void a.complete();const y=new Array(s);let H=s,J=s;for(let he=0;he<s;he++){let be=!1;$1(e[he]).subscribe(O(a,ke=>{be||(be=!0,J--),y[he]=ke},()=>H--,void 0,()=>{(!H||!be)&&(J||a.next(r?Jx(r,y):y),a.complete())}))}});return t?i.pipe(XC(t)):i}(dw(e,t).map(uw)).pipe(R(fw))}}function tg(n){return null!=n?Cw(hw(n)):null}function gw(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function ng(n){return n?Array.isArray(n)?n:[n]:[]}function ju(n,t){return Array.isArray(n)?n.includes(t):n===t}function yw(n,t){const e=ng(t);return ng(n).forEach(i=>{ju(e,i)||e.push(i)}),e}function _w(n,t){return ng(t).filter(e=>!ju(n,e))}class bw{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=eg(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=tg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Vs extends bw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class f4 extends bw{get formDirective(){return null}get path(){return null}}class Mw{constructor(t){this._cd=t}is(t){var e,r,i;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[t])}}let G4=(()=>{class n extends Mw{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(z1(Vs,2))},n.\u0275dir=Ut({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&h2("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[Bn]}),n})(),xw=(()=>{class n extends Mw{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(z1(f4,10))},n.\u0275dir=Ut({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&h2("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[Bn]}),n})();function mc(n,t){ag(n,t),t.valueAccessor.writeValue(n.value),function gW(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Lw(n,t)})}(n,t),function vW(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function mW(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Lw(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function CW(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function qu(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function ag(n,t){const e=function mw(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(gw(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=function vw(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(gw(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();qu(t._rawValidators,i),qu(t._rawAsyncValidators,i)}function Lw(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function lg(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const vc="VALID",Ku="INVALID",N5="PENDING",yc="DISABLED";function ug(n){return(Zu(n)?n.validators:n)||null}function Hw(n){return Array.isArray(n)?eg(n):n||null}function fg(n,t){return(Zu(t)?t.asyncValidators:n)||null}function Vw(n){return Array.isArray(n)?tg(n):n||null}function Zu(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const dg=n=>n instanceof pg;function kw(n){return(n=>n instanceof Ew)(n)?n.value:n.getRawValue()}function zw(n,t){const e=dg(n),r=n.controls;if(!(e?Object.keys(r):r).length)throw new Bt(1e3,"");if(!r[t])throw new Bt(1001,"")}function Nw(n,t){dg(n),n._forEachChild((r,i)=>{if(void 0===t[i])throw new Bt(1002,"")})}class hg{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Hw(this._rawValidators),this._composedAsyncValidatorFn=Vw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===vc}get invalid(){return this.status===Ku}get pending(){return this.status==N5}get disabled(){return this.status===yc}get enabled(){return this.status!==yc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Hw(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Vw(t)}addValidators(t){this.setValidators(yw(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(yw(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(_w(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(_w(t,this._rawAsyncValidators))}hasValidator(t){return ju(this._rawValidators,t)}hasAsyncValidator(t){return ju(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=N5,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=yc,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=vc,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vc||this.status===N5)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yc:vc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=N5,this._hasOwnPendingAsyncValidator=!0;const e=uw(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function MW(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let r=n;return t.forEach(i=>{r=dg(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof wW)(r)&&r.at(i)||null}),r}(this,t,".")}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new v2,this.statusChanges=new v2}_calculateStatus(){return this._allControlsDisabled()?yc:this.errors?Ku:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(N5)?N5:this._anyControlsHaveStatus(Ku)?Ku:vc}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Zu(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ew extends hg{constructor(t=null,e,r){super(ug(e),fg(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zu(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){lg(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){lg(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class pg extends hg{constructor(t,e,r){super(ug(e),fg(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Nw(this,t),Object.keys(t).forEach(r=>{zw(this,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=kw(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const r=this.controls[e];if(this.contains(e)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,r)=>((e.enabled||this.disabled)&&(t[r]=e.value),t))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,a)=>{r=e(r,i,a)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class wW extends hg{constructor(t,e,r){super(ug(e),fg(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Nw(this,t),t.forEach((r,i)=>{zw(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>kw(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const LW={provide:f4,useExisting:Vt(()=>Ju)},_c=(()=>Promise.resolve(null))();let Ju=(()=>{class n extends f4{constructor(e,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new v2,this.form=new pg({},eg(e),tg(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){_c.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),mc(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){_c.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){_c.then(()=>{const r=this._findContainer(e.path),i=new pg({});(function Dw(n,t){ag(n,t)})(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){_c.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){_c.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function Tw(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(z1(or,10),z1(Hs,10))},n.\u0275dir=Ut({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&ht("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[jn([LW]),Bn]}),n})();const SW={provide:Vs,useExisting:Vt(()=>V4)},Pw=(()=>Promise.resolve(null))();let V4=(()=>{class n extends Vs{constructor(e,r,i,a,s){super(),this._changeDetectorRef=s,this.control=new Ew,this._registered=!1,this.update=new v2,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function sg(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(a=>{a.constructor===u4?e=a:function bW(n){return Object.getPrototypeOf(n.constructor)===F0}(a)?r=a:i=a}),i||r||e||null}(0,a)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function og(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){mc(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Pw.then(()=>{var r;this.control.setValue(e,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=""===r||r&&"false"!==r;Pw.then(()=>{var a;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(a=this._changeDetectorRef)||void 0===a||a.markForCheck()})}_getPath(e){return this._parent?function $u(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(z1(f4,9),z1(or,10),z1(Hs,10),z1(yi,10),z1(ia,8))},n.\u0275dir=Ut({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[jn([SW]),Bn,Jn]}),n})(),Rw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ut({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const TW={provide:yi,useExisting:Vt(()=>$4),multi:!0};let $4=(()=>{class n extends F0{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=K3(n)))(r||n)}}(),n.\u0275dir=Ut({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,r){1&e&&ht("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},features:[jn([TW]),Bn]}),n})(),Fw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tn({type:n}),n.\u0275inj=D2({}),n})();function Zw(n){return"number"==typeof n?n:parseFloat(n)}let B0=(()=>{class n{constructor(){this._validator=Uu}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Uu,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ut({type:n,features:[Jn]}),n})();const GW={provide:or,useExisting:Vt(()=>W4),multi:!0};let W4=(()=>{class n extends B0{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>Zw(e),this.createValidator=e=>nw(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=K3(n)))(r||n)}}(),n.\u0275dir=Ut({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&Un("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[jn([GW]),Bn]}),n})();const $W={provide:or,useExisting:Vt(()=>q4),multi:!0};let q4=(()=>{class n extends B0{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>Zw(e),this.createValidator=e=>tw(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=K3(n)))(r||n)}}(),n.\u0275dir=Ut({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&Un("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[jn([$W]),Bn]}),n})();const WW={provide:or,useExisting:Vt(()=>A4),multi:!0};let A4=(()=>{class n extends B0{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e=>function jW(n){return null!=n&&!1!==n&&"false"!=`${n}`}(e),this.createValidator=e=>rw}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=K3(n)))(r||n)}}(),n.\u0275dir=Ut({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,r){2&e&&Un("required",r._enabled?"":null)},inputs:{required:"required"},features:[jn([WW]),Bn]}),n})(),XW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tn({type:n}),n.\u0275inj=D2({imports:[[Fw]]}),n})(),nL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tn({type:n}),n.\u0275inj=D2({imports:[XW]}),n})();function Xu(n){return new me(t=>{$1(n()).subscribe(t)})}function bc(n,t){const e=o(n)?n:()=>n,r=i=>i.error(e());return new me(t?i=>t.schedule(r,0,i):r)}const QW=["addListener","removeListener"],eq=["addEventListener","removeEventListener"],tq=["on","off"];function Tr(n,t,e,r){if(o(e)&&(r=e,e=void 0),r)return Tr(n,t,e).pipe(XC(r));const[i,a]=function iq(n){return o(n.addEventListener)&&o(n.removeEventListener)}(n)?eq.map(s=>y=>n[s](t,y,e)):function nq(n){return o(n.addListener)&&o(n.removeListener)}(n)?QW.map(rL(n,t)):function rq(n){return o(n.on)&&o(n.off)}(n)?tq.map(rL(n,t)):[];if(!i&&b1(n))return c1(s=>Tr(s,t,e))($1(n));if(!i)throw new TypeError("Invalid event target");return new me(s=>{const y=(...H)=>s.next(1<H.length?H:H[0]);return i(y),()=>a(y)})}function rL(n,t){return e=>r=>n[e](t,r)}function j2(...n){return Ot(n,k1(n))}function E5(...n){return function aq(){return w1(1)}()(Ot(n,k1(n)))}const So=new me(M);function sr(n,t){return F((e,r)=>{let i=0;e.subscribe(O(r,a=>n.call(t,a,i++)&&r.next(a)))})}function Y4(n,t){return F((e,r)=>{let i=null,a=0,s=!1;const y=()=>s&&!i&&r.complete();e.subscribe(O(r,H=>{null==i||i.unsubscribe();let J=0;const he=a++;$1(n(H,he)).subscribe(i=O(r,be=>r.next(t?t(H,be,he,J++):be),()=>{i=null,y()}))},()=>{s=!0,y()}))})}function iL(){return F((n,t)=>{let e=null;n._refCount++;const r=O(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const i=n._connection,a=e;e=null,i&&(!a||i===a)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class aL extends me{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,re(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new c;const e=this.getSubject();t.add(this.source.subscribe(O(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=c.EMPTY)}return t}refCount(){return iL()(this)}}const sq={connector:()=>new j};function oL(n,t=sq){const{connector:e}=t;return F((r,i)=>{const a=e();Ot(n(function oq(n){return new me(t=>n.subscribe(t))}(a))).subscribe(i),i.add(r.subscribe(a))})}function jr(n,t,e){const r=o(n)||t||e?{next:n,error:t,complete:e}:n;return r?F((i,a)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let y=!0;i.subscribe(O(a,H=>{var J;null===(J=r.next)||void 0===J||J.call(r,H),a.next(H)},()=>{var H;y=!1,null===(H=r.complete)||void 0===H||H.call(r),a.complete()},H=>{var J;y=!1,null===(J=r.error)||void 0===J||J.call(r,H),a.error(H)},()=>{var H,J;y&&(null===(H=r.unsubscribe)||void 0===H||H.call(r)),null===(J=r.finalize)||void 0===J||J.call(r)}))}):Q}class uq extends c{constructor(t,e){super()}schedule(t,e=0){return this}}const Qu={setInterval(n,t,...e){const{delegate:r}=Qu;return(null==r?void 0:r.setInterval)?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=Qu;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0},sL={now:()=>(sL.delegate||Date).now(),delegate:void 0};class Mc{constructor(t,e=Mc.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}}Mc.now=sL.now;const lL=new class dq extends Mc{constructor(t,e=Mc.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}(class fq extends uq{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,r=0){return Qu.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;Qu.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i,r=!1;try{this.work(t)}catch(a){r=!0,i=a||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,l(r,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}),hq=lL;function cL(n,t){return t?e=>E5(t.pipe(G1(1),function pq(){return F((n,t)=>{n.subscribe(O(t,M))})}()),e.pipe(cL(n))):c1((e,r)=>n(e,r).pipe(G1(1),function Cq(n){return R(()=>n)}(e)))}function _g(n=0,t,e=hq){let r=-1;return null!=t&&(H1(t)?e=t:r=t),new me(i=>{let a=function gq(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;a<0&&(a=0);let s=0;return e.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},a)})}function uL(n,t=lL){const e=_g(n,t);return cL(()=>e)}const xc="Service workers are disabled or not supported by this browser";class ef{constructor(t){if(this.serviceWorker=t,t){const r=Tr(t,"controllerchange").pipe(R(()=>t.controller)),a=E5(Xu(()=>j2(t.controller)),r);this.worker=a.pipe(sr(he=>!!he)),this.registration=this.worker.pipe(Y4(()=>t.getRegistration()));const J=Tr(t,"message").pipe(R(he=>he.data)).pipe(sr(he=>he&&he.type)).pipe(function cq(n){return n?t=>oL(n)(t):t=>function lq(n,t){const e=o(n)?n:()=>n;return o(t)?oL(t,{connector:e}):r=>new aL(r,e)}(new j)(t)}());J.connect(),this.events=J}else this.worker=this.events=this.registration=function mq(n){return Xu(()=>bc(new Error(n)))}(xc)}postMessage(t,e){return this.worker.pipe(G1(1),jr(r=>{r.postMessage(Object.assign({action:t},e))})).toPromise().then(()=>{})}postMessageWithOperation(t,e,r){const i=this.waitForOperationCompleted(r),a=this.postMessage(t,e);return Promise.all([a,i]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){let e;return e="string"==typeof t?r=>r.type===t:r=>t.includes(r.type),this.events.pipe(sr(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(G1(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(sr(e=>e.nonce===t),G1(1),R(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let vq=(()=>{class n{constructor(e){if(this.sw=e,this.subscriptionChanges=new j,!e.isEnabled)return this.messages=So,this.notificationClicks=So,void(this.subscription=So);this.messages=this.sw.eventsOfType("PUSH").pipe(R(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(R(i=>i.data)),this.pushManager=this.sw.registration.pipe(R(i=>i.pushManager));const r=this.pushManager.pipe(Y4(i=>i.getSubscription()));this.subscription=Dt(r,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(e){if(!this.sw.isEnabled)return Promise.reject(new Error(xc));const r={userVisibleOnly:!0};let i=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),a=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)a[s]=i.charCodeAt(s);return r.applicationServerKey=a,this.pushManager.pipe(Y4(s=>s.subscribe(r)),G1(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(G1(1),Y4(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(xc))}decodeBase64(e){return atob(e)}}return n.\u0275fac=function(e){return new(e||n)(qt(ef))},n.\u0275prov=r2({token:n,factory:n.\u0275fac}),n})(),yq=(()=>{class n{constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=So,this.available=So,this.activated=So,void(this.unrecoverable=So);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe(sr(r=>"VERSION_READY"===r.type),R(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(xc));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(xc));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}}return n.\u0275fac=function(e){return new(e||n)(qt(ef))},n.\u0275prov=r2({token:n,factory:n.\u0275fac}),n})();class bg{}const fL=new nn("NGSW_REGISTER_SCRIPT");function _q(n,t,e,r){return()=>{if(!GC(r)||!("serviceWorker"in navigator)||!1===e.enabled)return;let a;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)a=e.registrationStrategy();else{const[y,...H]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(y){case"registerImmediately":a=j2(null);break;case"registerWithDelay":a=dL(+H[0]||0);break;case"registerWhenStable":a=H[0]?Dt(hL(n),dL(+H[0])):hL(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}n.get(e3).runOutsideAngular(()=>a.pipe(G1(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:e.scope}).catch(y=>console.error("Service worker registration failed with:",y))))}}function dL(n){return j2(null).pipe(uL(n))}function hL(n){return n.get(cc).isStable.pipe(sr(e=>e))}function bq(n,t){return new ef(GC(t)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let Mq=(()=>{class n{static register(e,r={}){return{ngModule:n,providers:[{provide:fL,useValue:e},{provide:bg,useValue:r},{provide:ef,useFactory:bq,deps:[bg,lc]},{provide:xu,useFactory:_q,deps:[m1,fL,bg,lc],multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tn({type:n}),n.\u0275inj=D2({providers:[vq,yq]}),n})();const{isArray:xq}=Array;function pL(n){return 1===n.length&&xq(n[0])?n[0]:n}function CL(...n){return 1===(n=pL(n)).length?$1(n[0]):new me(function wq(n){return t=>{let e=[];for(let r=0;e&&!t.closed&&r<n.length;r++)e.push($1(n[r]).subscribe(O(t,i=>{if(e){for(let a=0;a<e.length;a++)a!==r&&e[a].unsubscribe();e=null}t.next(i)})))}}(n))}class lr extends j{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function gL(n,t,e){n?a1(e,n,t):t()}function tf(...n){const t=ut(n),e=pL(n);return e.length?new me(r=>{let i=e.map(()=>[]),a=e.map(()=>!1);r.add(()=>{i=a=null});for(let s=0;!r.closed&&s<e.length;s++)$1(e[s]).subscribe(O(r,y=>{if(i[s].push(y),i.every(H=>H.length)){const H=i.map(J=>J.shift());r.next(t?t(...H):H),i.some((J,he)=>!J.length&&a[he])&&r.complete()}},()=>{a[s]=!0,!i[s].length&&r.complete()}));return()=>{i=a=null}}):T1}function cr(n){return F((t,e)=>{$1(n).subscribe(O(e,()=>e.complete(),M)),!e.closed&&t.subscribe(e)})}function wg(...n){const t=ut(n);return F((e,r)=>{const i=n.length,a=new Array(i);let s=n.map(()=>!1),y=!1;for(let H=0;H<i;H++)$1(n[H]).subscribe(O(r,J=>{a[H]=J,!y&&!s[H]&&(s[H]=!0,(y=s.every(Q))&&(s=null))},M));e.subscribe(O(r,H=>{if(y){const J=[H,...a];r.next(t?t(...J):J)}}))})}var Hq={left:"right",right:"left",bottom:"top",top:"bottom"};function rf(n){return n.replace(/left|right|bottom|top/g,function(t){return Hq[t]})}function Fa(n){return n.split("-")[0]}var Vq={start:"end",end:"start"};function mL(n){return n.replace(/start|end/g,function(t){return Vq[t]})}var d4="top",K4="bottom",Z4="right",h4="left",af="auto",O5=[d4,K4,Z4,h4],U0="start",I5="end",vL="clippingParents",Lg="viewport",P5="popper",yL="reference",Dg=O5.reduce(function(n,t){return n.concat([t+"-"+U0,t+"-"+I5])},[]),Sg=[].concat(O5,[af]).reduce(function(n,t){return n.concat([t,t+"-"+U0,t+"-"+I5])},[]),_L="beforeRead",bL="read",ML="afterRead",xL="beforeMain",wL="main",LL="afterMain",DL="beforeWrite",SL="write",TL="afterWrite",HL=[_L,bL,ML,xL,wL,LL,DL,SL,TL];function la(n){if(null==n)return window;if("[object Window]"!==n.toString()){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function R5(n){return n instanceof la(n).Element||n instanceof Element}function _i(n){return n instanceof la(n).HTMLElement||n instanceof HTMLElement}function Tg(n){return"undefined"!=typeof ShadowRoot&&(n instanceof la(n).ShadowRoot||n instanceof ShadowRoot)}function As(n){return((R5(n)?n.ownerDocument:n.document)||window.document).documentElement}var j0=Math.max,sf=Math.min,F5=Math.round;function B5(n,t){void 0===t&&(t=!1);var e=n.getBoundingClientRect(),r=1,i=1;if(_i(n)&&t){var a=n.offsetHeight,s=n.offsetWidth;s>0&&(r=F5(e.width)/s||1),a>0&&(i=F5(e.height)/a||1)}return{width:e.width/r,height:e.height/i,top:e.top/i,right:e.right/r,bottom:e.bottom/i,left:e.left/r,x:e.left/r,y:e.top/i}}function Hg(n){var t=la(n);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Vg(n){return B5(As(n)).left+Hg(n).scrollLeft}function To(n){return la(n).getComputedStyle(n)}function Ba(n){return n?(n.nodeName||"").toLowerCase():null}function lf(n){return"html"===Ba(n)?n:n.assignedSlot||n.parentNode||(Tg(n)?n.host:null)||As(n)}function Ag(n){var t=To(n);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function VL(n){return["html","body","#document"].indexOf(Ba(n))>=0?n.ownerDocument.body:_i(n)&&Ag(n)?n:VL(lf(n))}function wc(n,t){var e;void 0===t&&(t=[]);var r=VL(n),i=r===(null==(e=n.ownerDocument)?void 0:e.body),a=la(r),s=i?[a].concat(a.visualViewport||[],Ag(r)?r:[]):r,y=t.concat(s);return i?y:y.concat(wc(lf(s)))}function zq(n){return["table","td","th"].indexOf(Ba(n))>=0}function AL(n){return _i(n)&&"fixed"!==To(n).position?n.offsetParent:null}function Lc(n){for(var t=la(n),e=AL(n);e&&zq(e)&&"static"===To(e).position;)e=AL(e);return e&&("html"===Ba(e)||"body"===Ba(e)&&"static"===To(e).position)?t:e||function Nq(n){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&_i(n)&&"fixed"===To(n).position)return null;var i=lf(n);for(Tg(i)&&(i=i.host);_i(i)&&["html","body"].indexOf(Ba(i))<0;){var a=To(i);if("none"!==a.transform||"none"!==a.perspective||"paint"===a.contain||-1!==["transform","perspective"].indexOf(a.willChange)||t&&"filter"===a.willChange||t&&a.filter&&"none"!==a.filter)return i;i=i.parentNode}return null}(n)||t}function kL(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&Tg(e)){var r=t;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function kg(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function zL(n,t){return t===Lg?kg(function Aq(n){var t=la(n),e=As(n),r=t.visualViewport,i=e.clientWidth,a=e.clientHeight,s=0,y=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,y=r.offsetTop)),{width:i,height:a,x:s+Vg(n),y}}(n)):R5(t)?function Eq(n){var t=B5(n);return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}(t):kg(function kq(n){var t,e=As(n),r=Hg(n),i=null==(t=n.ownerDocument)?void 0:t.body,a=j0(e.scrollWidth,e.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=j0(e.scrollHeight,e.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),y=-r.scrollLeft+Vg(n),H=-r.scrollTop;return"rtl"===To(i||e).direction&&(y+=j0(e.clientWidth,i?i.clientWidth:0)-a),{width:a,height:s,x:y,y:H}}(As(n)))}function U5(n){return n.split("-")[1]}function zg(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function NL(n){var H,t=n.reference,e=n.element,r=n.placement,i=r?Fa(r):null,a=r?U5(r):null,s=t.x+t.width/2-e.width/2,y=t.y+t.height/2-e.height/2;switch(i){case d4:H={x:s,y:t.y-e.height};break;case K4:H={x:s,y:t.y+t.height};break;case Z4:H={x:t.x+t.width,y};break;case h4:H={x:t.x-e.width,y};break;default:H={x:t.x,y:t.y}}var J=i?zg(i):null;if(null!=J){var he="y"===J?"height":"width";switch(a){case U0:H[J]=H[J]-(t[he]/2-e[he]/2);break;case I5:H[J]=H[J]+(t[he]/2-e[he]/2)}}return H}function OL(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function IL(n,t){return t.reduce(function(e,r){return e[r]=n,e},{})}function j5(n,t){void 0===t&&(t={});var r=t.placement,i=void 0===r?n.placement:r,a=t.boundary,s=void 0===a?vL:a,y=t.rootBoundary,H=void 0===y?Lg:y,J=t.elementContext,he=void 0===J?P5:J,be=t.altBoundary,ke=void 0!==be&&be,Ke=t.padding,V1=void 0===Ke?0:Ke,F1=OL("number"!=typeof V1?V1:IL(V1,O5)),pt=n.rects.popper,q1=n.elements[ke?he===P5?yL:P5:he],At=function Iq(n,t,e){var r="clippingParents"===t?function Oq(n){var t=wc(lf(n)),r=["absolute","fixed"].indexOf(To(n).position)>=0&&_i(n)?Lc(n):n;return R5(r)?t.filter(function(i){return R5(i)&&kL(i,r)&&"body"!==Ba(i)}):[]}(n):[].concat(t),i=[].concat(r,[e]),s=i.reduce(function(y,H){var J=zL(n,H);return y.top=j0(J.top,y.top),y.right=sf(J.right,y.right),y.bottom=sf(J.bottom,y.bottom),y.left=j0(J.left,y.left),y},zL(n,i[0]));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}(R5(q1)?q1:q1.contextElement||As(n.elements.popper),s,H),$t=B5(n.elements.reference),Xt=NL({reference:$t,element:pt,strategy:"absolute",placement:i}),L2=kg(Object.assign({},pt,Xt)),on=he===P5?L2:$t,pn={top:At.top-on.top+F1.top,bottom:on.bottom-At.bottom+F1.bottom,left:At.left-on.left+F1.left,right:on.right-At.right+F1.right},Yn=n.modifiersData.offset;if(he===P5&&Yn){var j3=Yn[i];Object.keys(pn).forEach(function(o3){var p4=[Z4,K4].indexOf(o3)>=0?1:-1,zr=[d4,K4].indexOf(o3)>=0?"y":"x";pn[o3]+=j3[zr]*p4})}return pn}const Ng={name:"flip",enabled:!0,phase:"main",fn:function Fq(n){var t=n.state,e=n.options,r=n.name;if(!t.modifiersData[r]._skip){for(var i=e.mainAxis,a=void 0===i||i,s=e.altAxis,y=void 0===s||s,H=e.fallbackPlacements,J=e.padding,he=e.boundary,be=e.rootBoundary,ke=e.altBoundary,Ke=e.flipVariations,V1=void 0===Ke||Ke,F1=e.allowedAutoPlacements,lt=t.options.placement,pt=Fa(lt),At=H||(pt!==lt&&V1?function Rq(n){if(Fa(n)===af)return[];var t=rf(n);return[mL(n),t,mL(t)]}(lt):[rf(lt)]),$t=[lt].concat(At).reduce(function(d8,Gs){return d8.concat(Fa(Gs)===af?function Pq(n,t){void 0===t&&(t={});var i=t.boundary,a=t.rootBoundary,s=t.padding,y=t.flipVariations,H=t.allowedAutoPlacements,J=void 0===H?Sg:H,he=U5(t.placement),be=he?y?Dg:Dg.filter(function(V1){return U5(V1)===he}):O5,ke=be.filter(function(V1){return J.indexOf(V1)>=0});0===ke.length&&(ke=be);var Ke=ke.reduce(function(V1,F1){return V1[F1]=j5(n,{placement:F1,boundary:i,rootBoundary:a,padding:s})[Fa(F1)],V1},{});return Object.keys(Ke).sort(function(V1,F1){return Ke[V1]-Ke[F1]})}(t,{placement:Gs,boundary:he,rootBoundary:be,padding:J,flipVariations:V1,allowedAutoPlacements:F1}):Gs)},[]),Xt=t.rects.reference,L2=t.rects.popper,on=new Map,pn=!0,Yn=$t[0],j3=0;j3<$t.length;j3++){var o3=$t[j3],p4=Fa(o3),zr=U5(o3)===U0,Ro=[d4,K4].indexOf(p4)>=0,Fo=Ro?"width":"height",Nr=j5(t,{placement:o3,boundary:he,rootBoundary:be,altBoundary:ke,padding:J}),ga=Ro?zr?Z4:h4:zr?K4:d4;Xt[Fo]>L2[Fo]&&(ga=rf(ga));var Od=rf(ga),g6=[];if(a&&g6.push(Nr[p4]<=0),y&&g6.push(Nr[ga]<=0,Nr[Od]<=0),g6.every(function(d8){return d8})){Yn=o3,pn=!1;break}on.set(o3,g6)}if(pn)for(var jy=function(Gs){var _7=$t.find(function(Rd){var m6=on.get(Rd);if(m6)return m6.slice(0,Gs).every(function(Gy){return Gy})});if(_7)return Yn=_7,"break"},y7=V1?3:1;y7>0&&"break"!==jy(y7);y7--);t.placement!==Yn&&(t.modifiersData[r]._skip=!0,t.placement=Yn,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Dc(n,t,e){return j0(n,sf(t,e))}function Eg(n){var t=B5(n),e=n.offsetWidth,r=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:r}}const Og={name:"preventOverflow",enabled:!0,phase:"main",fn:function jq(n){var t=n.state,e=n.options,r=n.name,i=e.mainAxis,a=void 0===i||i,s=e.altAxis,y=void 0!==s&&s,ke=e.tether,Ke=void 0===ke||ke,V1=e.tetherOffset,F1=void 0===V1?0:V1,lt=j5(t,{boundary:e.boundary,rootBoundary:e.rootBoundary,padding:e.padding,altBoundary:e.altBoundary}),pt=Fa(t.placement),q1=U5(t.placement),At=!q1,$t=zg(pt),Xt=function Bq(n){return"x"===n?"y":"x"}($t),L2=t.modifiersData.popperOffsets,on=t.rects.reference,pn=t.rects.popper,Yn="function"==typeof F1?F1(Object.assign({},t.rects,{placement:t.placement})):F1,j3="number"==typeof Yn?{mainAxis:Yn,altAxis:Yn}:Object.assign({mainAxis:0,altAxis:0},Yn),o3=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,p4={x:0,y:0};if(L2){if(a){var zr,Ro="y"===$t?d4:h4,Fo="y"===$t?K4:Z4,Nr="y"===$t?"height":"width",ga=L2[$t],Od=ga+lt[Ro],g6=ga-lt[Fo],Id=Ke?-pn[Nr]/2:0,jy=q1===U0?on[Nr]:pn[Nr],y7=q1===U0?-pn[Nr]:-on[Nr],Pd=t.elements.arrow,d8=Ke&&Pd?Eg(Pd):{width:0,height:0},Gs=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},_7=Gs[Ro],Rd=Gs[Fo],m6=Dc(0,on[Nr],d8[Nr]),Gy=At?on[Nr]/2-Id-m6-_7-j3.mainAxis:jy-m6-_7-j3.mainAxis,VSe=At?-on[Nr]/2+Id+m6+Rd+j3.mainAxis:y7+m6+Rd+j3.mainAxis,$y=t.elements.arrow&&Lc(t.elements.arrow),TR=null!=(zr=null==o3?void 0:o3[$t])?zr:0,zSe=ga+VSe-TR,HR=Dc(Ke?sf(Od,ga+Gy-TR-($y?"y"===$t?$y.clientTop||0:$y.clientLeft||0:0)):Od,ga,Ke?j0(g6,zSe):g6);L2[$t]=HR,p4[$t]=HR-ga}if(y){var VR,v6=L2[Xt],Fd="y"===Xt?"height":"width",AR=v6+lt["x"===$t?d4:h4],kR=v6-lt["x"===$t?K4:Z4],Wy=-1!==[d4,h4].indexOf(pt),zR=null!=(VR=null==o3?void 0:o3[Xt])?VR:0,NR=Wy?AR:v6-on[Fd]-pn[Fd]-zR+j3.altAxis,ER=Wy?v6+on[Fd]+pn[Fd]-zR-j3.altAxis:kR,OR=Ke&&Wy?function Uq(n,t,e){var r=Dc(n,t,e);return r>e?e:r}(NR,v6,ER):Dc(Ke?NR:AR,v6,Ke?ER:kR);L2[Xt]=OR,p4[Xt]=OR-v6}t.modifiersData[r]=p4}},requiresIfExists:["offset"]},Ig={name:"arrow",enabled:!0,phase:"main",fn:function $q(n){var t,e=n.state,r=n.name,i=n.options,a=e.elements.arrow,s=e.modifiersData.popperOffsets,y=Fa(e.placement),H=zg(y),he=[h4,Z4].indexOf(y)>=0?"height":"width";if(a&&s){var be=function(t,e){return OL("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:IL(t,O5))}(i.padding,e),ke=Eg(a),Ke="y"===H?d4:h4,V1="y"===H?K4:Z4,F1=e.rects.reference[he]+e.rects.reference[H]-s[H]-e.rects.popper[he],lt=s[H]-e.rects.reference[H],pt=Lc(a),q1=pt?"y"===H?pt.clientHeight||0:pt.clientWidth||0:0,L2=q1/2-ke[he]/2+(F1/2-lt/2),on=Dc(be[Ke],L2,q1-ke[he]-be[V1]);e.modifiersData[r]=((t={})[H]=on,t.centerOffset=on-L2,t)}},effect:function Wq(n){var t=n.state,r=n.options.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"==typeof i&&!(i=t.elements.popper.querySelector(i))||!kL(t.elements.popper,i)||(t.elements.arrow=i))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Zq(n,t,e){void 0===e&&(e=!1);var r=_i(t),i=_i(t)&&function Kq(n){var t=n.getBoundingClientRect(),e=F5(t.width)/n.offsetWidth||1,r=F5(t.height)/n.offsetHeight||1;return 1!==e||1!==r}(t),a=As(t),s=B5(n,i),y={scrollLeft:0,scrollTop:0},H={x:0,y:0};return(r||!r&&!e)&&(("body"!==Ba(t)||Ag(a))&&(y=function Yq(n){return n!==la(n)&&_i(n)?function qq(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):Hg(n)}(t)),_i(t)?((H=B5(t,!0)).x+=t.clientLeft,H.y+=t.clientTop):a&&(H.x=Vg(a))),{x:s.left+y.scrollLeft-H.x,y:s.top+y.scrollTop-H.y,width:s.width,height:s.height}}function Jq(n){var t=new Map,e=new Set,r=[];function i(a){e.add(a.name),[].concat(a.requires||[],a.requiresIfExists||[]).forEach(function(y){if(!e.has(y)){var H=t.get(y);H&&i(H)}}),r.push(a)}return n.forEach(function(a){t.set(a.name,a)}),n.forEach(function(a){e.has(a.name)||i(a)}),r}function Qq(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}var PL={placement:"bottom",modifiers:[],strategy:"absolute"};function RL(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(r){return!(r&&"function"==typeof r.getBoundingClientRect)})}function cf(n){void 0===n&&(n={});var e=n.defaultModifiers,r=void 0===e?[]:e,i=n.defaultOptions,a=void 0===i?PL:i;return function(y,H,J){void 0===J&&(J=a);var he={placement:"bottom",orderedModifiers:[],options:Object.assign({},PL,a),modifiersData:{},elements:{reference:y,popper:H},attributes:{},styles:{}},be=[],ke=!1,Ke={state:he,setOptions:function(pt){var q1="function"==typeof pt?pt(he.options):pt;F1(),he.options=Object.assign({},a,he.options,q1),he.scrollParents={reference:R5(y)?wc(y):y.contextElement?wc(y.contextElement):[],popper:wc(H)};var At=function Xq(n){var t=Jq(n);return HL.reduce(function(e,r){return e.concat(t.filter(function(i){return i.phase===r}))},[])}(function eY(n){var t=n.reduce(function(e,r){var i=e[r.name];return e[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(r,he.options.modifiers)));return he.orderedModifiers=At.filter(function(o3){return o3.enabled}),function V1(){he.orderedModifiers.forEach(function(lt){var q1=lt.options,$t=lt.effect;if("function"==typeof $t){var Xt=$t({state:he,name:lt.name,instance:Ke,options:void 0===q1?{}:q1});be.push(Xt||function(){})}})}(),Ke.update()},forceUpdate:function(){if(!ke){var pt=he.elements,q1=pt.reference,At=pt.popper;if(RL(q1,At)){he.rects={reference:Zq(q1,Lc(At),"fixed"===he.options.strategy),popper:Eg(At)},he.reset=!1,he.placement=he.options.placement,he.orderedModifiers.forEach(function(o3){return he.modifiersData[o3.name]=Object.assign({},o3.data)});for(var Xt=0;Xt<he.orderedModifiers.length;Xt++)if(!0!==he.reset){var L2=he.orderedModifiers[Xt],on=L2.fn,pn=L2.options;"function"==typeof on&&(he=on({state:he,options:void 0===pn?{}:pn,name:L2.name,instance:Ke})||he)}else he.reset=!1,Xt=-1}}},update:Qq(function(){return new Promise(function(lt){Ke.forceUpdate(),lt(he)})}),destroy:function(){F1(),ke=!0}};if(!RL(y,H))return Ke;function F1(){be.forEach(function(lt){return lt()}),be=[]}return Ke.setOptions(J).then(function(lt){!ke&&J.onFirstUpdate&&J.onFirstUpdate(lt)}),Ke}}var tY=cf(),uf={passive:!0};const Pg={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function nY(n){var t=n.state,e=n.instance,r=n.options,i=r.scroll,a=void 0===i||i,s=r.resize,y=void 0===s||s,H=la(t.elements.popper),J=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&J.forEach(function(he){he.addEventListener("scroll",e.update,uf)}),y&&H.addEventListener("resize",e.update,uf),function(){a&&J.forEach(function(he){he.removeEventListener("scroll",e.update,uf)}),y&&H.removeEventListener("resize",e.update,uf)}},data:{}},Rg={name:"popperOffsets",enabled:!0,phase:"read",fn:function rY(n){var t=n.state;t.modifiersData[n.name]=NL({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var iY={top:"auto",right:"auto",bottom:"auto",left:"auto"};function FL(n){var t,e=n.popper,r=n.popperRect,i=n.placement,a=n.variation,s=n.offsets,y=n.position,H=n.gpuAcceleration,J=n.adaptive,he=n.roundOffsets,be=n.isFixed,ke=s.x,Ke=void 0===ke?0:ke,V1=s.y,F1=void 0===V1?0:V1,lt="function"==typeof he?he({x:Ke,y:F1}):{x:Ke,y:F1};Ke=lt.x,F1=lt.y;var pt=s.hasOwnProperty("x"),q1=s.hasOwnProperty("y"),At=h4,$t=d4,Xt=window;if(J){var L2=Lc(e),on="clientHeight",pn="clientWidth";L2===la(e)&&"static"!==To(L2=As(e)).position&&"absolute"===y&&(on="scrollHeight",pn="scrollWidth"),L2=L2,(i===d4||(i===h4||i===Z4)&&a===I5)&&($t=K4,F1-=(be&&L2===Xt&&Xt.visualViewport?Xt.visualViewport.height:L2[on])-r.height,F1*=H?1:-1),i!==h4&&(i!==d4&&i!==K4||a!==I5)||(At=Z4,Ke-=(be&&L2===Xt&&Xt.visualViewport?Xt.visualViewport.width:L2[pn])-r.width,Ke*=H?1:-1)}var zr,o3=Object.assign({position:y},J&&iY),p4=!0===he?function aY(n){var e=n.y,i=window.devicePixelRatio||1;return{x:F5(n.x*i)/i||0,y:F5(e*i)/i||0}}({x:Ke,y:F1}):{x:Ke,y:F1};return Ke=p4.x,F1=p4.y,Object.assign({},o3,H?((zr={})[$t]=q1?"0":"",zr[At]=pt?"0":"",zr.transform=(Xt.devicePixelRatio||1)<=1?"translate("+Ke+"px, "+F1+"px)":"translate3d("+Ke+"px, "+F1+"px, 0)",zr):((t={})[$t]=q1?F1+"px":"",t[At]=pt?Ke+"px":"",t.transform="",t))}const Fg={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function oY(n){var t=n.state,e=n.options,r=e.gpuAcceleration,i=void 0===r||r,a=e.adaptive,s=void 0===a||a,y=e.roundOffsets,H=void 0===y||y,he={placement:Fa(t.placement),variation:U5(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,FL(Object.assign({},he,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:H})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,FL(Object.assign({},he,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:H})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Bg={name:"applyStyles",enabled:!0,phase:"write",fn:function sY(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var r=t.styles[e]||{},i=t.attributes[e]||{},a=t.elements[e];!_i(a)||!Ba(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(s){var y=i[s];!1===y?a.removeAttribute(s):a.setAttribute(s,!0===y?"":y)}))})},effect:function lY(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],a=t.attributes[r]||{},y=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:e[r]).reduce(function(H,J){return H[J]="",H},{});!_i(i)||!Ba(i)||(Object.assign(i.style,y),Object.keys(a).forEach(function(H){i.removeAttribute(H)}))})}},requires:["computeStyles"]};var BL=cf({defaultModifiers:[Pg,Rg,Fg,Bg]});const Ug={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function fY(n){var t=n.state,r=n.name,i=n.options.offset,a=void 0===i?[0,0]:i,s=Sg.reduce(function(he,be){return he[be]=function uY(n,t,e){var r=Fa(n),i=[h4,d4].indexOf(r)>=0?-1:1,a="function"==typeof e?e(Object.assign({},t,{placement:n})):e,s=a[0],y=a[1];return s=s||0,y=(y||0)*i,[h4,Z4].indexOf(r)>=0?{x:y,y:s}:{x:s,y}}(be,t.rects,a),he},{}),y=s[t.placement],J=y.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=y.x,t.modifiersData.popperOffsets.y+=J),t.modifiersData[r]=s}},yY=["*"],IY=["dialog"];function Gg(n){return"string"==typeof n}function G0(n){return null!=n}function G5(n){return(n||document.body).getBoundingClientRect()}const jL={animation:!0,transitionTimerDelayMs:5},AK=()=>{},{transitionTimerDelayMs:kK}=jL,Sc=new Map,Gr=(n,t,e,r)=>{let i=r.context||{};const a=Sc.get(t);if(a)switch(r.runningTransition){case"continue":return T1;case"stop":n.run(()=>a.transition$.complete()),i=Object.assign(a.context,i),Sc.delete(t)}const s=e(t,r.animation,i)||AK;if(!r.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>s()),j2(void 0).pipe(function HK(n){return t=>new me(e=>t.subscribe({next:s=>n.run(()=>e.next(s)),error:s=>n.run(()=>e.error(s)),complete:()=>n.run(()=>e.complete())}))}(n));const y=new j,H=new j,J=y.pipe(function Dq(...n){return t=>E5(t,j2(...n))}(!0));Sc.set(t,{transition$:y,complete:()=>{H.next(),H.complete()},context:i});const he=function VK(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const be=Tr(t,"transitionend").pipe(cr(J),sr(({target:Ke})=>Ke===t));CL(_g(he+kK).pipe(cr(J)),be,H).pipe(cr(J)).subscribe(()=>{Sc.delete(t),n.run(()=>{s(),y.next(),y.complete()})})}),y.asObservable()},Wg=(n,t,e)=>{let{direction:r,maxHeight:i}=e;const{classList:a}=n;function s(){a.add("collapse"),"show"===r?a.add("show"):a.remove("show")}if(t)return i||(i=function NK(n){if("undefined"==typeof navigator)return"0px";const{classList:t}=n,e=t.contains("show");e||t.add("show"),n.style.height="";const r=n.getBoundingClientRect().height+"px";return e||t.remove("show"),r}(n),e.maxHeight=i,n.style.height="show"!==r?i:"0px",a.remove("collapse"),a.remove("collapsing"),a.remove("show"),G5(n),a.add("collapsing")),n.style.height="show"===r?i:"0px",()=>{s(),a.remove("collapsing"),n.style.height=""};s()};let Tc=(()=>{class n{constructor(){this.animation=jL.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r2({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tn({type:n}),n.\u0275inj=D2({imports:[[H4]]}),n})(),KL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tn({type:n}),n.\u0275inj=D2({imports:[[H4]]}),n})(),JL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tn({type:n}),n.\u0275inj=D2({}),n})(),eD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tn({type:n}),n.\u0275inj=D2({imports:[[H4]]}),n})(),$K=(()=>{class n{constructor(e){this._ngbConfig=e}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(qt(Tc))},n.\u0275prov=r2({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WK=(()=>{class n{constructor(e,r,i){this._element=e,this._zone=i,this.collapsed=!1,this.ngbCollapseChange=new v2,this.shown=new v2,this.hidden=new v2,this.animation=r.animation}ngOnInit(){this._runTransition(this.collapsed,!1)}ngOnChanges({collapsed:e}){e.firstChange||this._runTransitionWithEvents(this.collapsed,this.animation)}toggle(e=this.collapsed){this.collapsed=!e,this.ngbCollapseChange.next(this.collapsed),this._runTransitionWithEvents(this.collapsed,this.animation)}_runTransition(e,r){return Gr(this._zone,this._element.nativeElement,Wg,{animation:r,runningTransition:"stop",context:{direction:e?"hide":"show"}})}_runTransitionWithEvents(e,r){this._runTransition(e,r).subscribe(()=>{e?this.hidden.emit():this.shown.emit()})}}return n.\u0275fac=function(e){return new(e||n)(z1(qn),z1($K),z1(e3))},n.\u0275dir=Ut({type:n,selectors:[["","ngbCollapse",""]],inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"]},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],features:[Jn]}),n})(),tD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tn({type:n}),n.\u0275inj=D2({}),n})();var ur=(()=>{return(n=ur||(ur={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",ur;var n})();const hf=(n,t)=>!!t&&t.some(e=>e.contains(n)),nD=(n,t)=>!t||null!=function TK(n,t){return t&&void 0!==n.closest?n.closest(t):null}(n,t),QK="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const rD=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function iD(n){const t=Array.from(n.querySelectorAll(rD)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}const rZ=/\s+/,iZ=/  +/gi,aZ=/^start/,oZ=/^end/,sZ=/-(top|left)$/,lZ=/-(bottom|right)$/,uZ=/^left/,fZ=/^right/,dZ=/^start/,hZ=/^end/;function aD({placement:n,baseClass:t}){let e=Array.isArray(n)?n:n.split(rZ),i=e.findIndex(H=>"auto"===H);i>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(H){null==e.find(J=>-1!==J.search("^"+H))&&e.splice(i++,1,H)});const a=e.map(H=>function cZ(n){return n.replace(aZ,"left").replace(oZ,"right").replace(sZ,"-start").replace(lZ,"-end")}(H));return{placement:a.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!t,phase:"write",fn({state:H}){const J=new RegExp(t+"-[a-z]+","gi"),he=H.elements.popper,be=H.placement;let ke=he.className;ke=ke.replace(J,""),ke+=` ${function pZ(n,t){let[e,r]=t.split("-");const i=e.replace(uZ,"start").replace(fZ,"end");let a=[i];if(r){let s=r;("left"===e||"right"===e)&&(s=s.replace(dZ,"top").replace(hZ,"bottom")),a.push(`${i}-${s}`)}return n&&(a=a.map(s=>`${n}-${s}`)),a.join(" ")}(t,be)}`,ke=ke.trim().replace(iZ," "),he.className=ke}},Ng,Og,Ig,{enabled:!0,name:"flip",options:{fallbackPlacements:a}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function oD(n){return n}function gZ(n){return t=>(t.modifiers.push(Ug,{name:"offset",options:{offset:()=>n}}),t)}new Date(1882,10,12),new Date(2174,10,25);let dD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tn({type:n}),n.\u0275inj=D2({imports:[[H4,nL]]}),n})(),LZ=(()=>{class n{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r2({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ut({type:n,selectors:[["",8,"navbar"]]}),n})(),hD=(()=>{class n{constructor(e,r){this.elementRef=e,this._renderer=r,this._disabled=!1}set disabled(e){this._disabled=""===e||!0===e,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}}return n.\u0275fac=function(e){return new(e||n)(z1(qn),z1(j4))},n.\u0275dir=Ut({type:n,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(e,r){2&e&&(bo("tabIndex",r.disabled?-1:0),h2("disabled",r.disabled))},inputs:{disabled:"disabled"}}),n})(),ja=(()=>{class n{constructor(e,r){this.dropdown=e,this.placement="bottom",this.isOpen=!1,this.nativeElement=r.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(z1(Vt(()=>bi)),z1(qn))},n.\u0275dir=Ut({type:n,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(e,r,i){if(1&e&&B3(i,hD,4),2&e){let a;b3(a=M3())&&(r.menuItems=a)}},hostVars:4,hostBindings:function(e,r){1&e&&ht("keydown.ArrowUp",function(a){return r.dropdown.onKeyDown(a)})("keydown.ArrowDown",function(a){return r.dropdown.onKeyDown(a)})("keydown.Home",function(a){return r.dropdown.onKeyDown(a)})("keydown.End",function(a){return r.dropdown.onKeyDown(a)})("keydown.Enter",function(a){return r.dropdown.onKeyDown(a)})("keydown.Space",function(a){return r.dropdown.onKeyDown(a)})("keydown.Tab",function(a){return r.dropdown.onKeyDown(a)})("keydown.Shift.Tab",function(a){return r.dropdown.onKeyDown(a)}),2&e&&h2("dropdown-menu",!0)("show",r.dropdown.isOpen())}}),n})(),mf=(()=>{class n{constructor(e,r){this.dropdown=e,this.nativeElement=r.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(z1(Vt(()=>bi)),z1(qn))},n.\u0275dir=Ut({type:n,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,r){2&e&&Un("aria-expanded",r.dropdown.isOpen())}}),n})(),Vo=(()=>{class n extends mf{constructor(e,r){super(e,r)}}return n.\u0275fac=function(e){return new(e||n)(z1(Vt(()=>bi)),z1(qn))},n.\u0275dir=Ut({type:n,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,r){1&e&&ht("click",function(){return r.dropdown.toggle()})("keydown.ArrowUp",function(a){return r.dropdown.onKeyDown(a)})("keydown.ArrowDown",function(a){return r.dropdown.onKeyDown(a)})("keydown.Home",function(a){return r.dropdown.onKeyDown(a)})("keydown.End",function(a){return r.dropdown.onKeyDown(a)})("keydown.Tab",function(a){return r.dropdown.onKeyDown(a)})("keydown.Shift.Tab",function(a){return r.dropdown.onKeyDown(a)}),2&e&&Un("aria-expanded",r.dropdown.isOpen())},features:[jn([{provide:mf,useExisting:Vt(()=>n)}]),Bn]}),n})(),bi=(()=>{class n{constructor(e,r,i,a,s,y,H){this._changeDetector=e,this._document=i,this._ngZone=a,this._elementRef=s,this._renderer=y,this._destroyCloseHandlers$=new j,this._bodyContainer=null,this._positioning=function CZ(){let n=null;return{createPopper(t){if(!n){let r=(t.updatePopperOptions||oD)(aD(t));n=BL(t.hostElement,t.targetElement,r)}},update(){n&&n.update()},setOptions(t){if(n){let r=(t.updatePopperOptions||oD)(aD(t));n.setOptions(r)}},destroy(){n&&(n.destroy(),n=null)}}}(),this._open=!1,this.openChange=new v2,this.placement=r.placement,this.container=r.container,this.autoClose=r.autoClose,this.display=H?"static":"dynamic",this._zoneSubscription=a.onStable.subscribe(()=>{this._positionMenu()})}ngAfterContentInit(){this._ngZone.onStable.pipe(G1(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(e){if(e.container&&this._open&&this._applyContainer(this.container),e.placement&&!e.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),e.dropdownClass){const{currentValue:r,previousValue:i}=e.dropdownClass;this._applyCustomDropdownClass(r,i)}e.autoClose&&this._open&&(this.autoClose=e.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.onStable.pipe(G1(1)).subscribe(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:gZ([0,2])}),this._applyPlacementClasses()})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),function tZ(n,t,e,r,i,a,s,y){e&&n.runOutsideAngular((n=>QK?()=>setTimeout(()=>n(),100):n)(()=>{const J=Tr(t,"keydown").pipe(cr(i),sr(ke=>ke.which===ur.Escape),jr(ke=>ke.preventDefault())),he=Tr(t,"mousedown").pipe(R(ke=>{const Ke=ke.target;return 2!==ke.button&&!hf(Ke,s)&&("inside"===e?hf(Ke,a)&&nD(Ke,y):"outside"===e?!hf(Ke,a):nD(Ke,y)||!hf(Ke,a))}),cr(i)),be=Tr(t,"mouseup").pipe(wg(he),sr(([ke,Ke])=>Ke),uL(0),cr(i));CL([J.pipe(R(ke=>0)),be.pipe(R(ke=>1))]).subscribe(ke=>n.run(()=>r(ke)))}))}(this._ngZone,this._document,this.autoClose,e=>{this.close(),0===e&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._positioning.destroy(),this._resetContainer(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this._resetContainer(),this._destroyCloseHandlers$.next(),this._zoneSubscription.unsubscribe()}onKeyDown(e){const r=e.which,i=this._getMenuElements();let a=-1,s=null;const y=this._isEventFromToggle(e);if(!y&&i.length&&i.forEach((H,J)=>{H.contains(e.target)&&(s=H),H===this._document.activeElement&&(a=J)}),r!==ur.Space&&r!==ur.Enter){if(r!==ur.Tab){if(y||s){if(this.open(),i.length){switch(r){case ur.ArrowDown:a=Math.min(a+1,i.length-1);break;case ur.ArrowUp:if(this._isDropup()&&-1===a){a=i.length-1;break}a=Math.max(a-1,0);break;case ur.Home:a=0;break;case ur.End:a=i.length-1}i[a].focus()}e.preventDefault()}}else if(e.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===e.target)return void("body"!==this.container||e.shiftKey?e.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const H=this._menu.nativeElement.querySelectorAll(rD);e.shiftKey&&e.target===H[0]?(this._anchor.nativeElement.focus(),e.preventDefault()):!e.shiftKey&&e.target===H[H.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else Tr(e.target,"focusout").pipe(G1(1)).subscribe(({relatedTarget:H})=>{this._elementRef.nativeElement.contains(H)||this.close()})}}else s&&(!0===this.autoClose||"inside"===this.autoClose)&&Tr(s,"click").pipe(G1(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(e){return this._anchor.nativeElement.contains(e.target)}_getMenuElements(){const e=this._menu;return null==e?[]:e.menuItems.filter(r=>!r.disabled).map(r=>r.elementRef.nativeElement)}_positionMenu(){const e=this._menu;this.isOpen()&&e&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(e){return Array.isArray(e)?e[0]:e.split(" ")[0]}_resetContainer(){const e=this._renderer;this._menu&&e.appendChild(this._elementRef.nativeElement,this._menu.nativeElement),this._bodyContainer&&(e.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(e=null){if(this._resetContainer(),"body"===e){const r=this._renderer,i=this._menu.nativeElement,a=this._bodyContainer=this._bodyContainer||r.createElement("div");r.setStyle(a,"position","absolute"),r.setStyle(i,"position","static"),r.setStyle(a,"z-index","1055"),r.appendChild(a,i),r.appendChild(this._document.body,a)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(e,r){const i="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;i&&(r&&this._renderer.removeClass(i,r),e&&this._renderer.addClass(i,e))}_applyPlacementClasses(e){const r=this._menu;if(r){e||(e=this._getFirstPlacement(this.placement));const i=this._renderer,a=this._elementRef.nativeElement;i.removeClass(a,"dropup"),i.removeClass(a,"dropdown");const{nativeElement:s}=r;"static"===this.display?(r.placement=null,i.setAttribute(s,"data-bs-popper","static")):(r.placement=e,i.removeAttribute(s,"data-bs-popper"));const y=-1!==e.search("^top")?"dropup":"dropdown";i.addClass(a,y);const H=this._bodyContainer;H&&(i.removeClass(H,"dropup"),i.removeClass(H,"dropdown"),i.addClass(H,y))}}}return n.\u0275fac=function(e){return new(e||n)(z1(ia),z1(LZ),z1(X3),z1(e3),z1(qn),z1(j4),z1(Qg,8))},n.\u0275dir=Ut({type:n,selectors:[["","ngbDropdown",""]],contentQueries:function(e,r,i){if(1&e&&(B3(i,ja,5),B3(i,mf,5)),2&e){let a;b3(a=M3())&&(r._menu=a.first),b3(a=M3())&&(r._anchor=a.first)}},hostVars:2,hostBindings:function(e,r){2&e&&h2("show",r.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[Jn]}),n})(),pD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tn({type:n}),n.\u0275inj=D2({}),n})();class Y0{constructor(t,e,r){this.nodes=t,this.viewRef=e,this.componentRef=r}}let DZ=(()=>{class n{constructor(e,r){this._el=e,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(G1(1)).subscribe(()=>{Gr(this._zone,this._el.nativeElement,(e,r)=>{r&&G5(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Gr(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(z1(qn),z1(e3))},n.\u0275cmp=un({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,r){2&e&&(E0("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),h2("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,r){},encapsulation:2}),n})();class CD{close(t){}dismiss(t){}}class SZ{constructor(t,e,r,i){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new j,this._dismissed=new j,this._hidden=new j,t.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,s)=>{this._resolve=a,this._reject=s}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(cr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(cr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function UL(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(r=>{!1!==r&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():j2(void 0);t.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),tf(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var kc=(()=>{return(n=kc||(kc={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",kc;var n})();let TZ=(()=>{class n{constructor(e,r,i){this._document=e,this._elRef=r,this._zone=i,this._closed$=new j,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new v2,this.shown=new j,this.hidden=new j}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Gg(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(G1(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,r={animation:this.animation,runningTransition:"stop"},s=tf(Gr(this._zone,e,()=>e.classList.remove("show"),r),Gr(this._zone,this._dialogEl.nativeElement,()=>{},r));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const e={animation:this.animation,runningTransition:"continue"};tf(Gr(this._zone,this._elRef.nativeElement,(a,s)=>{s&&G5(a),a.classList.add("show")},e),Gr(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Tr(e,"keydown").pipe(cr(this._closed$),sr(i=>i.which===ur.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(kc.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Tr(this._dialogEl.nativeElement,"mousedown").pipe(cr(this._closed$),jr(()=>r=!1),Y4(()=>Tr(e,"mouseup").pipe(cr(this._closed$),G1(1))),sr(({target:i})=>e===i)).subscribe(()=>{r=!0}),Tr(e,"click").pipe(cr(this._closed$)).subscribe(({target:i})=>{e===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(kc.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const r=e.querySelector("[ngbAutofocus]"),i=iD(e)[0];(r||i||e).focus()}}_restoreFocus(){const e=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&e.contains(r)?r:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Gr(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(z1(X3),z1(qn),z1(e3))},n.\u0275cmp=un({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,r){if(1&e&&yu(IY,7),2&e){let i;b3(i=M3())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,r){2&e&&(Un("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),E0("modal d-block"+(r.windowClass?" "+r.windowClass:"")),h2("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:yY,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,r){1&e&&(Bp(),Oe(0,"div",0,1)(2,"div",2),Up(3),$e()()),2&e&&E0("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),HZ=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:a,paddingRight:s}=i;if(e>0){const y=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${y+e}px`}return i.overflow="hidden",()=>{e>0&&(i.paddingRight=s),i.overflow=a}}}return n.\u0275fac=function(e){return new(e||n)(qt(X3))},n.\u0275prov=r2({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VZ=(()=>{class n{constructor(e,r,i,a,s,y){this._applicationRef=e,this._injector=r,this._document=i,this._scrollBar=a,this._rendererFactory=s,this._ngZone=y,this._activeWindowCmptHasChanged=new j,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new v2,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const H=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=Tr(t,"focusin").pipe(cr(e),R(a=>a.target));Tr(t,"keydown").pipe(cr(e),sr(a=>a.which===ur.Tab),wg(i)).subscribe(([a,s])=>{const[y,H]=iD(t);(s===y||s===t)&&a.shiftKey&&(H.focus(),a.preventDefault()),s===H&&!a.shiftKey&&(y.focus(),a.preventDefault())}),r&&Tr(t,"click").pipe(cr(e),wg(i),R(a=>a[1])).subscribe(a=>a.focus())})})(0,H.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(H.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,r,i,a){const s=a.container instanceof HTMLElement?a.container:G0(a.container)?this._document.querySelector(a.container):this._document.body,y=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${a.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const H=new CD,J=this._getContentRef(e,a.injector||r,i,H,a);let he=!1!==a.backdrop?this._attachBackdrop(e,s):void 0,be=this._attachWindowComponent(e,s,J),ke=new SZ(be,J,he,a.beforeDismiss);return this._registerModalRef(ke),this._registerWindowCmpt(be),ke.hidden.pipe(G1(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(y.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),H.close=Ke=>{ke.close(Ke)},H.dismiss=Ke=>{ke.dismiss(Ke)},this._applyWindowOptions(be.instance,a),1===this._modalRefs.length&&y.addClass(this._document.body,"modal-open"),he&&he.instance&&(this._applyBackdropOptions(he.instance,a),he.changeDetectorRef.detectChanges()),be.changeDetectorRef.detectChanges(),ke}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(r=>r.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,r){let a=e.resolveComponentFactory(DZ).create(this._injector);return this._applicationRef.attachView(a.hostView),r.appendChild(a.location.nativeElement),a}_attachWindowComponent(e,r,i){let s=e.resolveComponentFactory(TZ).create(this._injector,i.nodes);return this._applicationRef.attachView(s.hostView),r.appendChild(s.location.nativeElement),s}_applyWindowOptions(e,r){this._windowAttributes.forEach(i=>{G0(r[i])&&(e[i]=r[i])})}_applyBackdropOptions(e,r){this._backdropAttributes.forEach(i=>{G0(r[i])&&(e[i]=r[i])})}_getContentRef(e,r,i,a,s){return i?i instanceof O3?this._createFromTemplateRef(i,a):Gg(i)?this._createFromString(i):this._createFromComponent(e,r,i,a,s):new Y0([])}_createFromTemplateRef(e,r){const a=e.createEmbeddedView({$implicit:r,close(s){r.close(s)},dismiss(s){r.dismiss(s)}});return this._applicationRef.attachView(a),new Y0([a.rootNodes],a)}_createFromString(e){const r=this._document.createTextNode(`${e}`);return new Y0([[r]])}_createFromComponent(e,r,i,a,s){const y=e.resolveComponentFactory(i),H=m1.create({providers:[{provide:CD,useValue:a}],parent:r}),J=y.create(H),he=J.location.nativeElement;return s.scrollable&&he.classList.add("component-host-scrollable"),this._applicationRef.attachView(J.hostView),new Y0([[he]],J.hostView,J)}_setAriaHidden(e){const r=e.parentElement;r&&e!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==e&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,r)=>{e?r.setAttribute("aria-hidden",e):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const r=()=>{const i=this._modalRefs.indexOf(e);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(r,r)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const r=this._windowCmpts.indexOf(e);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(qt(cc),qt(m1),qt(X3),qt(HZ),qt(Xp),qt(e3))},n.\u0275prov=r2({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AZ=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(qt(Tc))},n.\u0275prov=r2({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kZ=(()=>{class n{constructor(e,r,i,a){this._moduleCFR=e,this._injector=r,this._modalStack=i,this._config=a}open(e,r={}){const i=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,e,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(qt(H5),qt(m1),qt(VZ),qt(AZ))},n.\u0275prov=r2({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tn({type:n}),n.\u0275inj=D2({providers:[kZ]}),n})(),_D=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tn({type:n}),n.\u0275inj=D2({imports:[[H4]]}),n})(),TD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tn({type:n}),n.\u0275inj=D2({imports:[[H4]]}),n})(),VD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tn({type:n}),n.\u0275inj=D2({imports:[[H4]]}),n})(),AD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tn({type:n}),n.\u0275inj=D2({imports:[[H4]]}),n})(),kD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tn({type:n}),n.\u0275inj=D2({imports:[[H4]]}),n})(),zD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tn({type:n}),n.\u0275inj=D2({imports:[[H4]]}),n})(),ND=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tn({type:n}),n.\u0275inj=D2({imports:[[H4]]}),n})(),ED=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tn({type:n}),n.\u0275inj=D2({}),n})();new nn("live announcer delay",{providedIn:"root",factory:function $Z(){return 100}});let OD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tn({type:n}),n.\u0275inj=D2({imports:[[H4]]}),n})(),ID=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tn({type:n}),n.\u0275inj=D2({}),n})();const WZ=[YL,KL,JL,eD,tD,dD,pD,gD,_D,ID,TD,VD,AD,kD,zD,ND,ED,OD];let qZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tn({type:n}),n.\u0275inj=D2({imports:[WZ,YL,KL,JL,eD,tD,dD,pD,gD,_D,ID,TD,VD,AD,kD,zD,ND,ED,OD]}),n})();function W5(n){return null!=n}const rm=n=>t=>!W5(n)||W5(QC.required(t))||+t.value<=+n?null:{max:{value:n}},YZ={provide:or,useExisting:Vt(()=>PD),multi:!0};let PD=(()=>{class n{ngOnInit(){this.validator=rm(this.maxVal)}ngOnChanges(e){for(const r in e)"max"===r&&(this.validator=rm(e[r].currentValue),this.onChange&&this.onChange())}validate(e){return this.validator(e)}registerOnValidatorChange(e){this.onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ut({type:n,selectors:[["","maxVal","","formControlName",""],["","maxVal","","formControl",""],["","maxVal","","ngModel",""]],inputs:{maxVal:"maxVal"},features:[jn([YZ]),Jn]}),n})();const im=n=>t=>!W5(n)||W5(QC.required(t))||+t.value>=+n?null:{min:{value:n}},KZ={provide:or,useExisting:Vt(()=>RD),multi:!0};let RD=(()=>{class n{ngOnInit(){this.validator=im(this.minVal)}ngOnChanges(e){for(const r in e)"minVal"===r&&(this.validator=im(e[r].currentValue),this.onChange&&this.onChange())}validate(e){return this.validator(e)}registerOnValidatorChange(e){this.onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ut({type:n,selectors:[["","minVal","","formControlName",""],["","minVal","","formControl",""],["","minVal","","ngModel",""]],inputs:{minVal:"minVal"},features:[jn([KZ]),Jn]}),n})();const am=n=>t=>{if(!W5(n)||W5(QC.required(t)))return null;const e=+t.value;return e>=n[0]&&e<=n[1]?null:{range:{value:n}}},ZZ={provide:or,useExisting:Vt(()=>J4),multi:!0};let J4=(()=>{class n{ngOnInit(){this.validator=am(this.rangeVal)}ngOnChanges(e){for(const r in e)"range"===r&&(this.validator=am(e[r].currentValue),this.onChange&&this.onChange())}validate(e){return this.validator(e)}registerOnValidatorChange(e){this.onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ut({type:n,selectors:[["","rangeVal","","formControlName",""],["","rangeVal","","formControl",""],["","rangeVal","","ngModel",""]],inputs:{rangeVal:"rangeVal"},features:[jn([ZZ]),Jn]}),n})(),JZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tn({type:n}),n.\u0275inj=D2({}),n})();function FD(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,r)}return e}function c2(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?FD(Object(e),!0).forEach(function(r){eJ(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):FD(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function vf(n){return(vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function BD(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function eJ(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function om(n,t){return function rJ(n){if(Array.isArray(n))return n}(n)||function aJ(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var s,y,r=[],i=!0,a=!1;try{for(e=e.call(n);!(i=(s=e.next()).done)&&(r.push(s.value),!t||r.length!==t);i=!0);}catch(H){a=!0,y=H}finally{try{!i&&null!=e.return&&e.return()}finally{if(a)throw y}}return r}}(n,t)||UD(n,t)||function sJ(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _f(n){return function nJ(n){if(Array.isArray(n))return sm(n)}(n)||function iJ(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||UD(n)||function oJ(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UD(n,t){if(n){if("string"==typeof n)return sm(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if("Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return sm(n,t)}}function sm(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}var jD=function(){},lm={},GD={},$D=null,WD={mark:jD,measure:jD};try{"undefined"!=typeof window&&(lm=window),"undefined"!=typeof document&&(GD=document),"undefined"!=typeof MutationObserver&&($D=MutationObserver),"undefined"!=typeof performance&&(WD=performance)}catch(n){}var qD=(lm.navigator||{}).userAgent,YD=void 0===qD?"":qD,zs=lm,g3=GD,KD=$D,bf=WD,Ao=!!g3.documentElement&&!!g3.head&&"function"==typeof g3.addEventListener&&"function"==typeof g3.createElement,ZD=~YD.indexOf("MSIE")||~YD.indexOf("Trident/"),ko="___FONT_AWESOME___",XD="svg-inline--fa",K0="data-fa-i2svg",um="data-fa-pseudo-element",fm="data-prefix",dm="data-icon",QD="fontawesome-i2svg",fJ=["HTML","HEAD","STYLE","SCRIPT"],eS=function(){try{return!0}catch(n){return!1}}(),hm={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},Mf={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},tS={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},dJ={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},hJ=/fa[srltdbk\-\ ]/,nS="fa-layers-text",pJ=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,CJ={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},rS=[1,2,3,4,5,6,7,8,9,10],gJ=rS.concat([11,12,13,14,15,16,17,18,19,20]),mJ=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],vJ=[].concat(_f(Object.keys(Mf)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","duotone-group","swap-opacity","primary","secondary"]).concat(rS.map(function(n){return"".concat(n,"x")})).concat(gJ.map(function(n){return"w-".concat(n)})),iS=zs.FontAwesomeConfig||{};g3&&"function"==typeof g3.querySelector&&[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var t=om(n,2),r=t[1],i=function _J(n){return""===n||"false"!==n&&("true"===n||n)}(function yJ(n){var t=g3.querySelector("script["+n+"]");if(t)return t.getAttribute(n)}(t[0]));null!=i&&(iS[r]=i)});var Nc=c2(c2({},{familyPrefix:"fa",styleDefault:"solid",replacementClass:XD,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),iS);Nc.autoReplaceSvg||(Nc.observeMutations=!1);var z2={};Object.keys(Nc).forEach(function(n){Object.defineProperty(z2,n,{enumerable:!0,set:function(e){Nc[n]=e,xf.forEach(function(r){return r(z2)})},get:function(){return Nc[n]}})}),zs.FontAwesomeConfig=z2;var xf=[],Ga={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Ec(){for(var n=12,t="";n-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function q5(n){for(var t=[],e=(n||[]).length>>>0;e--;)t[e]=n[e];return t}function pm(n){return n.classList?q5(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(t){return t})}function aS(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function wf(n){return Object.keys(n||{}).reduce(function(t,e){return t+"".concat(e,": ").concat(n[e].trim(),";")},"")}function Cm(n){return n.size!==Ga.size||n.x!==Ga.x||n.y!==Ga.y||n.rotate!==Ga.rotate||n.flipX||n.flipY}function oS(){var n="fa",t=XD,e=z2.familyPrefix,r=z2.replacementClass,i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(e!==n||r!==t){var a=new RegExp("\\.".concat(n,"\\-"),"g"),s=new RegExp("\\--".concat(n,"\\-"),"g"),y=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(e,"-")).replace(s,"--".concat(e,"-")).replace(y,".".concat(r))}return i}var sS=!1;function gm(){z2.autoAddCss&&!sS&&(function wJ(n){if(n&&Ao){var t=g3.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=n;for(var e=g3.head.childNodes,r=null,i=e.length-1;i>-1;i--){var a=e[i],s=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=a)}g3.head.insertBefore(t,r)}}(oS()),sS=!0)}var VJ={mixout:function(){return{dom:{css:oS,insertCss:gm}}},hooks:function(){return{beforeDOMElementCreation:function(){gm()},beforeI2svg:function(){gm()}}}},zo=zs||{};zo[ko]||(zo[ko]={}),zo[ko].styles||(zo[ko].styles={}),zo[ko].hooks||(zo[ko].hooks={}),zo[ko].shims||(zo[ko].shims=[]);var ua=zo[ko],lS=[],Lf=!1;function kJ(n){!Ao||(Lf?setTimeout(n,0):lS.push(n))}function Oc(n){var t=n.tag,e=n.attributes,r=void 0===e?{}:e,i=n.children,a=void 0===i?[]:i;return"string"==typeof n?aS(n):"<".concat(t," ").concat(function DJ(n){return Object.keys(n||{}).reduce(function(t,e){return t+"".concat(e,'="').concat(aS(n[e]),'" ')},"").trim()}(r),">").concat(a.map(Oc).join(""),"</").concat(t,">")}function cS(n,t,e){if(n&&n[t]&&n[t][e])return{prefix:t,iconName:e,icon:n[t][e]}}Ao&&((Lf=(g3.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(g3.readyState))||g3.addEventListener("DOMContentLoaded",function n(){g3.removeEventListener("DOMContentLoaded",n),Lf=1,lS.map(function(t){return t()})}));var mm=function(t,e,r,i){var H,J,he,a=Object.keys(t),s=a.length,y=void 0!==i?function(t,e){return function(r,i,a,s){return t.call(e,r,i,a,s)}}(e,i):e;for(void 0===r?(H=1,he=t[a[0]]):(H=0,he=r);H<s;H++)he=y(he,t[J=a[H]],J,t);return he};function vm(n){var t=function NJ(n){for(var t=[],e=0,r=n.length;e<r;){var i=n.charCodeAt(e++);if(i>=55296&&i<=56319&&e<r){var a=n.charCodeAt(e++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),e--)}else t.push(i)}return t}(n);return 1===t.length?t[0].toString(16):null}function uS(n){return Object.keys(n).reduce(function(t,e){var r=n[e];return r.icon?t[r.iconName]=r.icon:t[e]=r,t},{})}function ym(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.skipHooks,i=void 0!==r&&r,a=uS(t);"function"!=typeof ua.hooks.addPack||i?ua.styles[n]=c2(c2({},ua.styles[n]||{}),a):ua.hooks.addPack(n,uS(t)),"fas"===n&&ym("fa",t)}var Ic=ua.styles,OJ=ua.shims,IJ=Object.values(tS),_m=null,fS={},dS={},hS={},pS={},CS={},PJ=Object.keys(hm);function FJ(n,t){var e=t.split("-"),r=e[0],i=e.slice(1).join("-");return r!==n||""===i||function RJ(n){return~vJ.indexOf(n)}(i)?null:i}var gS=function(){var t=function(a){return mm(Ic,function(s,y,H){return s[H]=mm(y,a,{}),s},{})};fS=t(function(i,a,s){return a[3]&&(i[a[3]]=s),a[2]&&a[2].filter(function(H){return"number"==typeof H}).forEach(function(H){i[H.toString(16)]=s}),i}),dS=t(function(i,a,s){return i[s]=s,a[2]&&a[2].filter(function(H){return"string"==typeof H}).forEach(function(H){i[H]=s}),i}),CS=t(function(i,a,s){var y=a[2];return i[s]=s,y.forEach(function(H){i[H]=s}),i});var e="far"in Ic||z2.autoFetchSvg,r=mm(OJ,function(i,a){var s=a[0],y=a[1],H=a[2];return"far"===y&&!e&&(y="fas"),"string"==typeof s&&(i.names[s]={prefix:y,iconName:H}),"number"==typeof s&&(i.unicodes[s.toString(16)]={prefix:y,iconName:H}),i},{names:{},unicodes:{}});hS=r.names,pS=r.unicodes,_m=Df(z2.styleDefault)};function bm(n,t){return(fS[n]||{})[t]}function Y5(n,t){return(CS[n]||{})[t]}function mS(n){return hS[n]||{prefix:null,iconName:null}}function Es(){return _m}function Df(n){return Mf[n]||Mf[hm[n]]||(n in ua.styles?n:null)||null}function Sf(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.skipLookups,r=void 0!==e&&e,i=null,a=n.reduce(function(s,y){var H=FJ(z2.familyPrefix,y);if(Ic[y]?(y=IJ.includes(y)?dJ[y]:y,i=y,s.prefix=y):PJ.indexOf(y)>-1?(i=y,s.prefix=Df(y)):H?s.iconName=H:y!==z2.replacementClass&&s.rest.push(y),!r&&s.prefix&&s.iconName){var J="fa"===i?mS(s.iconName):{},he=Y5(s.prefix,s.iconName);J.prefix&&(i=null),s.iconName=J.iconName||he||s.iconName,s.prefix=J.prefix||s.prefix,"far"===s.prefix&&!Ic.far&&Ic.fas&&!z2.autoFetchSvg&&(s.prefix="fas")}return s},{prefix:null,iconName:null,rest:[]});return("fa"===a.prefix||"fa"===i)&&(a.prefix=Es()||"fas"),a}(function xJ(n){xf.push(n)})(function(n){_m=Df(n.styleDefault)}),gS();var jJ=function(){function n(){(function XZ(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function QZ(n,t,e){t&&BD(n.prototype,t),e&&BD(n,e),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var e=this,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=i.reduce(this._pullDefinitions,{});Object.keys(s).forEach(function(y){e.definitions[y]=c2(c2({},e.definitions[y]||{}),s[y]),ym(y,s[y]);var H=tS[y];H&&ym(H,s[y]),gS()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(a){var s=i[a],y=s.prefix,H=s.iconName,J=s.icon,he=J[2];e[y]||(e[y]={}),he.length>0&&he.forEach(function(be){"string"==typeof be&&(e[y][be]=J)}),e[y][H]=J}),e}}]),n}(),vS=[],K5={},Z5={},GJ=Object.keys(Z5);function xm(n,t){for(var e=arguments.length,r=new Array(e>2?e-2:0),i=2;i<e;i++)r[i-2]=arguments[i];var a=K5[n]||[];return a.forEach(function(s){t=s.apply(null,[t].concat(r))}),t}function J0(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];var i=K5[n]||[];i.forEach(function(a){a.apply(null,e)})}function No(){var n=arguments[0],t=Array.prototype.slice.call(arguments,1);return Z5[n]?Z5[n].apply(null,t):void 0}function wm(n){"fa"===n.prefix&&(n.prefix="fas");var t=n.iconName,e=n.prefix||Es();if(t)return t=Y5(e,t)||t,cS(yS.definitions,e,t)||cS(ua.styles,e,t)}var yS=new jJ,qJ={i2svg:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ao?(J0("beforeI2svg",t),No("pseudoElements2svg",t),No("i2svg",t)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.autoReplaceSvgRoot;!1===z2.autoReplaceSvg&&(z2.autoReplaceSvg=!0),z2.observeMutations=!0,kJ(function(){KJ({autoReplaceSvgRoot:e}),J0("watch",t)})}},X4={noAuto:function(){z2.autoReplaceSvg=!1,z2.observeMutations=!1,J0("noAuto")},config:z2,dom:qJ,parse:{icon:function(t){if(null===t)return null;if("object"===vf(t)&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:Y5(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&2===t.length){var e=0===t[1].indexOf("fa-")?t[1].slice(3):t[1],r=Df(t[0]);return{prefix:r,iconName:Y5(r,e)||e}}if("string"==typeof t&&(t.indexOf("".concat(z2.familyPrefix,"-"))>-1||t.match(hJ))){var i=Sf(t.split(" "),{skipLookups:!0});return{prefix:i.prefix||Es(),iconName:Y5(i.prefix,i.iconName)||i.iconName}}if("string"==typeof t){var a=Es();return{prefix:a,iconName:Y5(a,t)||t}}}},library:yS,findIconDefinition:wm,toHtml:Oc},KJ=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.autoReplaceSvgRoot,r=void 0===e?g3:e;(Object.keys(ua.styles).length>0||z2.autoFetchSvg)&&Ao&&z2.autoReplaceSvg&&X4.dom.i2svg({node:r})};function Tf(n,t){return Object.defineProperty(n,"abstract",{get:t}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(r){return Oc(r)})}}),Object.defineProperty(n,"node",{get:function(){if(Ao){var r=g3.createElement("div");return r.innerHTML=n.html,r.children}}}),n}function Lm(n){var t=n.icons,e=t.main,r=t.mask,i=n.prefix,a=n.iconName,s=n.transform,y=n.symbol,H=n.title,J=n.maskId,he=n.titleId,be=n.extra,ke=n.watchable,Ke=void 0!==ke&&ke,V1=r.found?r:e,F1=V1.width,lt=V1.height,pt="fak"===i,q1=[z2.replacementClass,a?"".concat(z2.familyPrefix,"-").concat(a):""].filter(function(Yn){return-1===be.classes.indexOf(Yn)}).filter(function(Yn){return""!==Yn||!!Yn}).concat(be.classes).join(" "),At={children:[],attributes:c2(c2({},be.attributes),{},{"data-prefix":i,"data-icon":a,class:q1,role:be.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(F1," ").concat(lt)})},$t=pt&&!~be.classes.indexOf("fa-fw")?{width:"".concat(F1/lt*16*.0625,"em")}:{};Ke&&(At.attributes[K0]=""),H&&(At.children.push({tag:"title",attributes:{id:At.attributes["aria-labelledby"]||"title-".concat(he||Ec())},children:[H]}),delete At.attributes.title);var Xt=c2(c2({},At),{},{prefix:i,iconName:a,main:e,mask:r,maskId:J,transform:s,symbol:y,styles:c2(c2({},$t),be.styles)}),L2=r.found&&e.found?No("generateAbstractMask",Xt)||{children:[],attributes:{}}:No("generateAbstractIcon",Xt)||{children:[],attributes:{}},pn=L2.attributes;return Xt.children=L2.children,Xt.attributes=pn,y?function JJ(n){var e=n.iconName,r=n.children,i=n.attributes,a=n.symbol,s=!0===a?"".concat(n.prefix,"-").concat(z2.familyPrefix,"-").concat(e):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:c2(c2({},i),{},{id:s}),children:r}]}]}(Xt):function ZJ(n){var t=n.children,e=n.main,r=n.mask,i=n.attributes,a=n.styles,s=n.transform;if(Cm(s)&&e.found&&!r.found){var J={x:e.width/e.height/2,y:.5};i.style=wf(c2(c2({},a),{},{"transform-origin":"".concat(J.x+s.x/16,"em ").concat(J.y+s.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(Xt)}function _S(n){var t=n.content,e=n.width,r=n.height,i=n.transform,a=n.title,s=n.extra,y=n.watchable,H=void 0!==y&&y,J=c2(c2(c2({},s.attributes),a?{title:a}:{}),{},{class:s.classes.join(" ")});H&&(J[K0]="");var he=c2({},s.styles);Cm(i)&&(he.transform=function TJ(n){var t=n.transform,e=n.width,i=n.height,a=void 0===i?16:i,s=n.startCentered,y=void 0!==s&&s,H="";return H+=y&&ZD?"translate(".concat(t.x/16-(void 0===e?16:e)/2,"em, ").concat(t.y/16-a/2,"em) "):y?"translate(calc(-50% + ".concat(t.x/16,"em), calc(-50% + ").concat(t.y/16,"em)) "):"translate(".concat(t.x/16,"em, ").concat(t.y/16,"em) "),(H+="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "))+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:e,height:r}),he["-webkit-transform"]=he.transform);var be=wf(he);be.length>0&&(J.style=be);var ke=[];return ke.push({tag:"span",attributes:J,children:[t]}),a&&ke.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),ke}function XJ(n){var t=n.content,e=n.title,r=n.extra,i=c2(c2(c2({},r.attributes),e?{title:e}:{}),{},{class:r.classes.join(" ")}),a=wf(r.styles);a.length>0&&(i.style=a);var s=[];return s.push({tag:"span",attributes:i,children:[t]}),e&&s.push({tag:"span",attributes:{class:"sr-only"},children:[e]}),s}var Dm=ua.styles;function Sm(n){var t=n[0],e=n[1],a=om(n.slice(4),1)[0];return{found:!0,width:t,height:e,icon:Array.isArray(a)?{tag:"g",attributes:{class:"".concat(z2.familyPrefix,"-").concat("duotone-group")},children:[{tag:"path",attributes:{class:"".concat(z2.familyPrefix,"-").concat("secondary"),fill:"currentColor",d:a[0]}},{tag:"path",attributes:{class:"".concat(z2.familyPrefix,"-").concat("primary"),fill:"currentColor",d:a[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:a}}}}var QJ={found:!1,width:512,height:512};function Tm(n,t){var e=t;return"fa"===t&&null!==z2.styleDefault&&(t=Es()),new Promise(function(r,i){if(No("missingIconAbstract"),"fa"===e){var s=mS(n)||{};n=s.iconName||n,t=s.prefix||t}if(n&&t&&Dm[t]&&Dm[t][n])return r(Sm(Dm[t][n]));(function eX(n,t){!eS&&!z2.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(t,'" is missing.'))})(n,t),r(c2(c2({},QJ),{},{icon:z2.showMissingIcons&&n&&No("missingIconAbstract")||{}}))})}var bS=function(){},Hm=z2.measurePerformance&&bf&&bf.mark&&bf.measure?bf:{mark:bS,measure:bS},Pc='FA "6.1.1"',Vm_begin=function(t){return Hm.mark("".concat(Pc," ").concat(t," begins")),function(){return function(t){Hm.mark("".concat(Pc," ").concat(t," ends")),Hm.measure("".concat(Pc," ").concat(t),"".concat(Pc," ").concat(t," begins"),"".concat(Pc," ").concat(t," ends"))}(t)}},Hf=function(){};function xS(n){return"string"==typeof(n.getAttribute?n.getAttribute(K0):null)}function aX(n){return g3.createElementNS("http://www.w3.org/2000/svg",n)}function oX(n){return g3.createElement(n)}function wS(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.ceFn,r=void 0===e?"svg"===n.tag?aX:oX:e;if("string"==typeof n)return g3.createTextNode(n);var i=r(n.tag);Object.keys(n.attributes||[]).forEach(function(s){i.setAttribute(s,n.attributes[s])});var a=n.children||[];return a.forEach(function(s){i.appendChild(wS(s,{ceFn:r}))}),i}var Vf={replace:function(t){var e=t[0];if(e.parentNode)if(t[1].forEach(function(i){e.parentNode.insertBefore(wS(i),e)}),null===e.getAttribute(K0)&&z2.keepOriginalSource){var r=g3.createComment(function sX(n){var t=" ".concat(n.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(e));e.parentNode.replaceChild(r,e)}else e.remove()},nest:function(t){var e=t[0],r=t[1];if(~pm(e).indexOf(z2.replacementClass))return Vf.replace(t);var i=new RegExp("".concat(z2.familyPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var a=r[0].attributes.class.split(" ").reduce(function(y,H){return H===z2.replacementClass||H.match(i)?y.toSvg.push(H):y.toNode.push(H),y},{toNode:[],toSvg:[]});r[0].attributes.class=a.toSvg.join(" "),0===a.toNode.length?e.removeAttribute("class"):e.setAttribute("class",a.toNode.join(" "))}var s=r.map(function(y){return Oc(y)}).join("\n");e.setAttribute(K0,""),e.innerHTML=s}};function LS(n){n()}function DS(n,t){var e="function"==typeof t?t:Hf;if(0===n.length)e();else{var r=LS;"async"===z2.mutateApproach&&(r=zs.requestAnimationFrame||LS),r(function(){var i=function iX(){return!0===z2.autoReplaceSvg?Vf.replace:Vf[z2.autoReplaceSvg]||Vf.replace}(),a=Vm_begin("mutate");n.map(i),a(),e()})}}var Am=!1;function SS(){Am=!0}function km(){Am=!1}var Af=null;function TS(n){if(KD&&z2.observeMutations){var t=n.treeCallback,e=void 0===t?Hf:t,r=n.nodeCallback,i=void 0===r?Hf:r,a=n.pseudoElementsCallback,s=void 0===a?Hf:a,y=n.observeMutationsRoot,H=void 0===y?g3:y;Af=new KD(function(J){if(!Am){var he=Es();q5(J).forEach(function(be){if("childList"===be.type&&be.addedNodes.length>0&&!xS(be.addedNodes[0])&&(z2.searchPseudoElements&&s(be.target),e(be.target)),"attributes"===be.type&&be.target.parentNode&&z2.searchPseudoElements&&s(be.target.parentNode),"attributes"===be.type&&xS(be.target)&&~mJ.indexOf(be.attributeName))if("class"===be.attributeName&&function nX(n){var t=n.getAttribute?n.getAttribute(fm):null,e=n.getAttribute?n.getAttribute(dm):null;return t&&e}(be.target)){var ke=Sf(pm(be.target)),V1=ke.iconName;be.target.setAttribute(fm,ke.prefix||he),V1&&be.target.setAttribute(dm,V1)}else(function rX(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(z2.replacementClass)})(be.target)&&i(be.target)})}}),Ao&&Af.observe(H,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function cX(n){var t=n.getAttribute("style"),e=[];return t&&(e=t.split(";").reduce(function(r,i){var a=i.split(":"),s=a[0],y=a.slice(1);return s&&y.length>0&&(r[s]=y.join(":").trim()),r},{})),e}function uX(n){var t=n.getAttribute("data-prefix"),e=n.getAttribute("data-icon"),r=void 0!==n.innerText?n.innerText.trim():"",i=Sf(pm(n));return i.prefix||(i.prefix=Es()),t&&e&&(i.prefix=t,i.iconName=e),i.iconName&&i.prefix||i.prefix&&r.length>0&&(i.iconName=function BJ(n,t){return(dS[n]||{})[t]}(i.prefix,n.innerText)||bm(i.prefix,vm(n.innerText))),i}function fX(n){var t=q5(n.attributes).reduce(function(i,a){return"class"!==i.name&&"style"!==i.name&&(i[a.name]=a.value),i},{}),e=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return z2.autoA11y&&(e?t["aria-labelledby"]="".concat(z2.replacementClass,"-title-").concat(r||Ec()):(t["aria-hidden"]="true",t.focusable="false")),t}function HS(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},e=uX(n),r=e.iconName,i=e.prefix,a=e.rest,s=fX(n),y=xm("parseNodeAttributes",{},n),H=t.styleParser?cX(n):[];return c2({iconName:r,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:i,transform:Ga,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:H,attributes:s}},y)}var hX=ua.styles;function VS(n){var t="nest"===z2.autoReplaceSvg?HS(n,{styleParser:!1}):HS(n);return~t.extra.classes.indexOf(nS)?No("generateLayersText",n,t):No("generateSvgReplacementMutation",n,t)}function AS(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Ao)return Promise.resolve();var e=g3.documentElement.classList,r=function(be){return e.add("".concat(QD,"-").concat(be))},i=function(be){return e.remove("".concat(QD,"-").concat(be))},a=Object.keys(z2.autoFetchSvg?hm:hX),s=[".".concat(nS,":not([").concat(K0,"])")].concat(a.map(function(he){return".".concat(he,":not([").concat(K0,"])")})).join(", ");if(0===s.length)return Promise.resolve();var y=[];try{y=q5(n.querySelectorAll(s))}catch(he){}if(!(y.length>0))return Promise.resolve();r("pending"),i("complete");var H=Vm_begin("onTree"),J=y.reduce(function(he,be){try{var ke=VS(be);ke&&he.push(ke)}catch(Ke){eS||"MissingIcon"===Ke.name&&console.error(Ke)}return he},[]);return new Promise(function(he,be){Promise.all(J).then(function(ke){DS(ke,function(){r("active"),r("complete"),i("pending"),"function"==typeof t&&t(),H(),he()})}).catch(function(ke){H(),be(ke)})})}function pX(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;VS(n).then(function(e){e&&DS([e],t)})}var gX=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.transform,i=void 0===r?Ga:r,a=e.symbol,s=void 0!==a&&a,y=e.mask,H=void 0===y?null:y,J=e.maskId,he=void 0===J?null:J,be=e.title,ke=void 0===be?null:be,Ke=e.titleId,V1=void 0===Ke?null:Ke,F1=e.classes,lt=void 0===F1?[]:F1,pt=e.attributes,q1=void 0===pt?{}:pt,At=e.styles,$t=void 0===At?{}:At;if(t){var Xt=t.prefix,L2=t.iconName,on=t.icon;return Tf(c2({type:"icon"},t),function(){return J0("beforeDOMElementCreation",{iconDefinition:t,params:e}),z2.autoA11y&&(ke?q1["aria-labelledby"]="".concat(z2.replacementClass,"-title-").concat(V1||Ec()):(q1["aria-hidden"]="true",q1.focusable="false")),Lm({icons:{main:Sm(on),mask:H?Sm(H.icon):{found:!1,width:null,height:null,icon:{}}},prefix:Xt,iconName:L2,transform:c2(c2({},Ga),i),symbol:s,title:ke,maskId:he,titleId:V1,extra:{attributes:q1,styles:$t,classes:lt}})})}},mX={mixout:function(){return{icon:(n=gX,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:wm(t||{}),i=e.mask;return i&&(i=(i||{}).icon?i:wm(i||{})),n(r,c2(c2({},e),{},{mask:i}))})};var n},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=AS,e.nodeCallback=pX,e}}},provides:function(t){t.i2svg=function(e){var r=e.node,a=e.callback;return AS(void 0===r?g3:r,void 0===a?function(){}:a)},t.generateSvgReplacementMutation=function(e,r){var i=r.iconName,a=r.title,s=r.titleId,y=r.prefix,H=r.transform,J=r.symbol,he=r.mask,be=r.maskId,ke=r.extra;return new Promise(function(Ke,V1){Promise.all([Tm(i,y),he.iconName?Tm(he.iconName,he.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(F1){var lt=om(F1,2);Ke([e,Lm({icons:{main:lt[0],mask:lt[1]},prefix:y,iconName:i,transform:H,symbol:J,maskId:be,title:a,titleId:s,extra:ke,watchable:!0})])}).catch(V1)})},t.generateAbstractIcon=function(e){var J,r=e.children,i=e.attributes,a=e.main,s=e.transform,H=wf(e.styles);return H.length>0&&(i.style=H),Cm(s)&&(J=No("generateAbstractTransformGrouping",{main:a,transform:s,containerWidth:a.width,iconWidth:a.width})),r.push(J||a.icon),{children:r,attributes:i}}}},vX={mixout:function(){return{layer:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,a=void 0===i?[]:i;return Tf({type:"layer"},function(){J0("beforeDOMElementCreation",{assembler:e,params:r});var s=[];return e(function(y){Array.isArray(y)?y.map(function(H){s=s.concat(H.abstract)}):s=s.concat(y.abstract)}),[{tag:"span",attributes:{class:["".concat(z2.familyPrefix,"-layers")].concat(_f(a)).join(" ")},children:s}]})}}}},yX={mixout:function(){return{counter:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,a=void 0===i?null:i,s=r.classes,y=void 0===s?[]:s,H=r.attributes,J=void 0===H?{}:H,he=r.styles,be=void 0===he?{}:he;return Tf({type:"counter",content:e},function(){return J0("beforeDOMElementCreation",{content:e,params:r}),XJ({content:e.toString(),title:a,extra:{attributes:J,styles:be,classes:["".concat(z2.familyPrefix,"-layers-counter")].concat(_f(y))}})})}}}},_X={mixout:function(){return{text:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,a=void 0===i?Ga:i,s=r.title,y=void 0===s?null:s,H=r.classes,J=void 0===H?[]:H,he=r.attributes,be=void 0===he?{}:he,ke=r.styles,Ke=void 0===ke?{}:ke;return Tf({type:"text",content:e},function(){return J0("beforeDOMElementCreation",{content:e,params:r}),_S({content:e,transform:c2(c2({},Ga),a),title:y,extra:{attributes:be,styles:Ke,classes:["".concat(z2.familyPrefix,"-layers-text")].concat(_f(J))}})})}}},provides:function(t){t.generateLayersText=function(e,r){var i=r.title,a=r.transform,s=r.extra,y=null,H=null;if(ZD){var J=parseInt(getComputedStyle(e).fontSize,10),he=e.getBoundingClientRect();y=he.width/J,H=he.height/J}return z2.autoA11y&&!i&&(s.attributes["aria-hidden"]="true"),Promise.resolve([e,_S({content:e.innerHTML,width:y,height:H,transform:a,title:i,extra:s,watchable:!0})])}}},bX=new RegExp('"',"ug"),kS=[1105920,1112319];function zS(n,t){var e="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise(function(r,i){if(null!==n.getAttribute(e))return r();var s=q5(n.children).filter(function(L2){return L2.getAttribute(um)===t})[0],y=zs.getComputedStyle(n,t),H=y.getPropertyValue("font-family").match(pJ),J=y.getPropertyValue("font-weight"),he=y.getPropertyValue("content");if(s&&!H)return n.removeChild(s),r();if(H&&"none"!==he&&""!==he){var be=y.getPropertyValue("content"),ke=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(H[2])?Mf[H[2].toLowerCase()]:CJ[J],Ke=function MX(n){var t=n.replace(bX,""),e=function EJ(n,t){var i,e=n.length,r=n.charCodeAt(t);return r>=55296&&r<=56319&&e>t+1&&(i=n.charCodeAt(t+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(t,0),r=e>=kS[0]&&e<=kS[1],i=2===t.length&&t[0]===t[1];return{value:vm(i?t[0]:t),isSecondary:r||i}}(be),V1=Ke.value,F1=Ke.isSecondary,lt=H[0].startsWith("FontAwesome"),pt=bm(ke,V1),q1=pt;if(lt){var At=function UJ(n){var t=pS[n],e=bm("fas",n);return t||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}(V1);At.iconName&&At.prefix&&(pt=At.iconName,ke=At.prefix)}if(!pt||F1||s&&s.getAttribute(fm)===ke&&s.getAttribute(dm)===q1)r();else{n.setAttribute(e,q1),s&&n.removeChild(s);var $t=function dX(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Ga,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),Xt=$t.extra;Xt.attributes[um]=t,Tm(pt,ke).then(function(L2){var on=Lm(c2(c2({},$t),{},{icons:{main:L2,mask:{prefix:null,iconName:null,rest:[]}},prefix:ke,iconName:q1,extra:Xt,watchable:!0})),pn=g3.createElement("svg");"::before"===t?n.insertBefore(pn,n.firstChild):n.appendChild(pn),pn.outerHTML=on.map(function(Yn){return Oc(Yn)}).join("\n"),n.removeAttribute(e),r()}).catch(i)}}else r()})}function xX(n){return Promise.all([zS(n,"::before"),zS(n,"::after")])}function wX(n){return!(n.parentNode===document.head||~fJ.indexOf(n.tagName.toUpperCase())||n.getAttribute(um)||n.parentNode&&"svg"===n.parentNode.tagName)}function NS(n){if(Ao)return new Promise(function(t,e){var r=q5(n.querySelectorAll("*")).filter(wX).map(xX),i=Vm_begin("searchPseudoElements");SS(),Promise.all(r).then(function(){i(),km(),t()}).catch(function(){i(),km(),e()})})}var ES=!1,OS=function(t){return t.toLowerCase().split(" ").reduce(function(r,i){var a=i.toLowerCase().split("-"),s=a[0],y=a.slice(1).join("-");if(s&&"h"===y)return r.flipX=!0,r;if(s&&"v"===y)return r.flipY=!0,r;if(y=parseFloat(y),isNaN(y))return r;switch(s){case"grow":r.size=r.size+y;break;case"shrink":r.size=r.size-y;break;case"left":r.x=r.x-y;break;case"right":r.x=r.x+y;break;case"up":r.y=r.y-y;break;case"down":r.y=r.y+y;break;case"rotate":r.rotate=r.rotate+y}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},zm={x:0,y:0,width:"100%",height:"100%"};function IS(n){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||t)&&(n.attributes.fill="black"),n}!function $J(n,t){var e=t.mixoutsTo;vS=n,K5={},Object.keys(Z5).forEach(function(r){-1===GJ.indexOf(r)&&delete Z5[r]}),vS.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(s){"function"==typeof i[s]&&(e[s]=i[s]),"object"===vf(i[s])&&Object.keys(i[s]).forEach(function(y){e[s]||(e[s]={}),e[s][y]=i[s][y]})}),r.hooks){var a=r.hooks();Object.keys(a).forEach(function(s){K5[s]||(K5[s]=[]),K5[s].push(a[s])})}r.provides&&r.provides(Z5)})}([VJ,mX,vX,yX,_X,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=NS,e}}},provides:function(t){t.pseudoElements2svg=function(e){var r=e.node;z2.searchPseudoElements&&NS(void 0===r?g3:r)}}},{mixout:function(){return{dom:{unwatch:function(){SS(),ES=!0}}}},hooks:function(){return{bootstrap:function(){TS(xm("mutationObserverCallbacks",{}))},noAuto:function(){!function lX(){!Af||Af.disconnect()}()},watch:function(e){var r=e.observeMutationsRoot;ES?km():TS(xm("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(e){return OS(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,r){var i=r.getAttribute("data-fa-transform");return i&&(e.transform=OS(i)),e}}},provides:function(t){t.generateAbstractTransformGrouping=function(e){var r=e.main,i=e.transform,s=e.iconWidth,y={transform:"translate(".concat(e.containerWidth/2," 256)")},H="translate(".concat(32*i.x,", ").concat(32*i.y,") "),J="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),he="rotate(".concat(i.rotate," 0 0)"),Ke={outer:y,inner:{transform:"".concat(H," ").concat(J," ").concat(he)},path:{transform:"translate(".concat(s/2*-1," -256)")}};return{tag:"g",attributes:c2({},Ke.outer),children:[{tag:"g",attributes:c2({},Ke.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:c2(c2({},r.icon.attributes),Ke.path)}]}]}}}},{hooks:function(){return{parseNodeAttributes:function(e,r){var i=r.getAttribute("data-fa-mask"),a=i?Sf(i.split(" ").map(function(s){return s.trim()})):{prefix:null,iconName:null,rest:[]};return a.prefix||(a.prefix=Es()),e.mask=a,e.maskId=r.getAttribute("data-fa-mask-id"),e}}},provides:function(t){t.generateAbstractMask=function(e){var n,r=e.children,i=e.attributes,a=e.main,s=e.mask,y=e.maskId,he=a.icon,ke=s.icon,Ke=function SJ(n){var t=n.transform,r=n.iconWidth,i={transform:"translate(".concat(n.containerWidth/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),s="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),y="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(s," ").concat(y)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:e.transform,containerWidth:s.width,iconWidth:a.width}),V1={tag:"rect",attributes:c2(c2({},zm),{},{fill:"white"})},F1=he.children?{children:he.children.map(IS)}:{},lt={tag:"g",attributes:c2({},Ke.inner),children:[IS(c2({tag:he.tag,attributes:c2(c2({},he.attributes),Ke.path)},F1))]},pt={tag:"g",attributes:c2({},Ke.outer),children:[lt]},q1="mask-".concat(y||Ec()),At="clip-".concat(y||Ec()),$t={tag:"mask",attributes:c2(c2({},zm),{},{id:q1,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[V1,pt]},Xt={tag:"defs",children:[{tag:"clipPath",attributes:{id:At},children:(n=ke,"g"===n.tag?n.children:[n])},$t]};return r.push(Xt,{tag:"rect",attributes:c2({fill:"currentColor","clip-path":"url(#".concat(At,")"),mask:"url(#".concat(q1,")")},zm)}),{children:r,attributes:i}}}},{provides:function(t){var e=!1;zs.matchMedia&&(e=zs.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},a={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:c2(c2({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var s=c2(c2({},a),{},{attributeName:"opacity"}),y={tag:"circle",attributes:c2(c2({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||y.children.push({tag:"animate",attributes:c2(c2({},a),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:c2(c2({},s),{},{values:"1;0;1;1;0;1;"})}),r.push(y),r.push({tag:"path",attributes:c2(c2({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:c2(c2({},s),{},{values:"1;0;0;0;0;1;"})}]}),e||r.push({tag:"path",attributes:c2(c2({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:c2(c2({},s),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(e,r){var i=r.getAttribute("data-fa-symbol");return e.symbol=null!==i&&(""===i||i),e}}}}],{mixoutsTo:X4});var zX=X4.parse,NX=X4.icon;const EX=["*"],PX=n=>{const t={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(t).map(e=>t[e]?e:null).filter(e=>e)};let BX=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r2({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UX=(()=>{class n{constructor(){this.definitions={}}addIcons(...e){for(const r of e){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(const i of r.icon[2])"string"==typeof i&&(this.definitions[r.prefix][i]=r)}}addIconPacks(...e){for(const r of e){const i=Object.keys(r).map(a=>r[a]);this.addIcons(...i)}}getIconDefinition(e,r){return e in this.definitions&&r in this.definitions[e]?this.definitions[e][r]:null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r2({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jX=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(e){if("size"in e)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Ut({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[Jn]}),n})(),GX=(()=>{class n{constructor(e,r){this.renderer=e,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(e){"size"in e&&(null!=e.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${e.size.currentValue}`),null!=e.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${e.size.previousValue}`))}}return n.\u0275fac=function(e){return new(e||n)(z1(j4),z1(qn))},n.\u0275cmp=un({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[Jn],ngContentSelectors:EX,decls:1,vars:0,template:function(e,r){1&e&&(Bp(),Up(0))},encapsulation:2}),n})(),Q4=(()=>{class n{constructor(e,r,i,a,s){this.sanitizer=e,this.config=r,this.iconLibrary=i,this.stackItem=a,this.classes=[],null!=s&&null==a&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(e){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let r=null;if(r=null==this.icon?this.config.fallbackIcon:this.icon,e){const i=this.findIconDefinition(r);if(null!=i){const a=this.buildParams();this.renderIcon(i,a)}}}render(){this.ngOnChanges({})}findIconDefinition(e){const r=((n,t)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:"string"==typeof n?{prefix:t,iconName:n}:void 0)(e,this.config.defaultPrefix);if("icon"in r)return r;const i=this.iconLibrary.getIconDefinition(r.prefix,r.iconName);return null!=i?i:((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(r),null)}buildParams(){const e={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?zX.transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...PX(e),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(e,r){const i=NX(e,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(i.html.join("\n"))}}return n.\u0275fac=function(e){return new(e||n)(z1(Yx),z1(BX),z1(UX),z1(jX,8),z1(GX,8))},n.\u0275cmp=un({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(e,r){2&e&&(bo("innerHTML",r.renderedIconHTML,n4),Un("title",r.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[Jn],decls:0,vars:0,template:function(e,r){},encapsulation:2}),n})(),$X=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tn({type:n}),n.\u0275inj=D2({}),n})();const WX=new nn("WindowToken","undefined"!=typeof window&&window.document?{providedIn:"root",factory:()=>window}:{providedIn:"root",factory:()=>{}});let qX=(()=>{class n{constructor(e,r,i){this.ngZone=e,this.document=r,this.window=i,this.copySubject=new j,this.copyResponse$=this.copySubject.asObservable(),this.config={}}configure(e){this.config=e}copy(e){if(!this.isSupported||!e)return this.pushCopyResponse({isSuccess:!1,content:e});const r=this.copyFromContent(e);return this.pushCopyResponse(r?{content:e,isSuccess:r}:{isSuccess:!1,content:e})}get isSupported(){return!!this.document.queryCommandSupported&&!!this.document.queryCommandSupported("copy")&&!!this.window}isTargetValid(e){if(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement){if(e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');return!0}throw new Error("Target should be input or textarea")}copyFromInputElement(e,r=!0){try{this.selectTarget(e);const i=this.copyText();return this.clearSelection(r?e:void 0,this.window),i&&this.isCopySuccessInIE11()}catch(i){return!1}}isCopySuccessInIE11(){const e=this.window.clipboardData;return!(e&&e.getData&&!e.getData("Text"))}copyFromContent(e,r=this.document.body){if(this.tempTextArea&&!r.contains(this.tempTextArea)&&this.destroy(this.tempTextArea.parentElement||void 0),!this.tempTextArea){this.tempTextArea=this.createTempTextArea(this.document,this.window);try{r.appendChild(this.tempTextArea)}catch(a){throw new Error("Container should be a Dom element")}}this.tempTextArea.value=e;const i=this.copyFromInputElement(this.tempTextArea,!1);return this.config.cleanUpAfterCopy&&this.destroy(this.tempTextArea.parentElement||void 0),i}destroy(e=this.document.body){this.tempTextArea&&(e.removeChild(this.tempTextArea),this.tempTextArea=void 0)}selectTarget(e){return e.select(),e.setSelectionRange(0,e.value.length),e.value.length}copyText(){return this.document.execCommand("copy")}clearSelection(e,r){var i;e&&e.focus(),null===(i=r.getSelection())||void 0===i||i.removeAllRanges()}createTempTextArea(e,r){const i="rtl"===e.documentElement.getAttribute("dir");let a;return a=e.createElement("textarea"),a.style.fontSize="12pt",a.style.border="0",a.style.padding="0",a.style.margin="0",a.style.position="absolute",a.style[i?"right":"left"]="-9999px",a.style.top=(r.pageYOffset||e.documentElement.scrollTop)+"px",a.setAttribute("readonly",""),a}pushCopyResponse(e){this.copySubject.observers.length>0&&this.ngZone.run(()=>{this.copySubject.next(e)})}pushCopyReponse(e){this.pushCopyResponse(e)}}return n.\u0275fac=function(e){return new(e||n)(qt(e3),qt(X3),qt(WX,8))},n.\u0275prov=r2({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tn({type:n}),n.\u0275inj=D2({imports:[[H4]]}),n})();const kf=g(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function KX(n,t,e,r,i){return(a,s)=>{let y=e,H=t,J=0;a.subscribe(O(s,he=>{const be=J++;H=y?n(H,he,be):(y=!0,he),r&&s.next(H)},i&&(()=>{y&&s.next(H),s.complete()})))}}function PS(n,t){return F(KX(n,t,arguments.length>=2,!0))}function Os(n){return F((t,e)=>{let a,r=null,i=!1;r=t.subscribe(O(e,void 0,void 0,s=>{a=$1(n(s,Os(n)(t))),r?(r.unsubscribe(),r=null,a.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(e))})}function Rc(n,t){return o(t)?c1(n,t,1):c1(n,1)}function Em(n){return n<=0?()=>T1:F((t,e)=>{let r=[];t.subscribe(O(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function RS(n=ZX){return F((t,e)=>{let r=!1;t.subscribe(O(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function ZX(){return new kf}function FS(n){return F((t,e)=>{let r=!1;t.subscribe(O(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function J5(n,t){const e=arguments.length>=2;return r=>r.pipe(n?sr((i,a)=>n(i,a,r)):Q,G1(1),e?FS(t):RS(()=>new kf))}class Eo{constructor(t,e){this.id=t,this.url=e}}class Om extends Eo{constructor(t,e,r="imperative",i=null){super(t,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fc extends Eo{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class BS extends Eo{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class QX extends Eo{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class eQ extends Eo{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tQ extends Eo{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nQ extends Eo{constructor(t,e,r,i,a){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rQ extends Eo{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iQ extends Eo{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class US{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jS{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class aQ{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oQ{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sQ{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lQ{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GS{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const bn="primary";class cQ{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function X5(n){return new cQ(n)}const $S="ngNavigationCancelingError";function Im(n){const t=Error("NavigationCancelingError: "+n);return t[$S]=!0,t}function fQ(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const s=r[a],y=n[a];if(s.startsWith(":"))i[s.substring(1)]=y;else if(s!==y.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function $a(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let a=0;a<e.length;a++)if(i=e[a],!WS(n[i],t[i]))return!1;return!0}function WS(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,a)=>r[a]===i)}return n===t}function qS(n){return Array.prototype.concat.apply([],n)}function YS(n){return n.length>0?n[n.length-1]:null}function Hr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Wa(n){return Rp(n)?n:Wl(n)?Ot(Promise.resolve(n)):j2(n)}const pQ={exact:function JS(n,t,e){if(!Q0(n.segments,t.segments)||!zf(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!JS(n.children[r],t.children[r],e))return!1;return!0},subset:XS},KS={exact:function CQ(n,t){return $a(n,t)},subset:function gQ(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>WS(n[e],t[e]))},ignored:()=>!0};function ZS(n,t,e){return pQ[e.paths](n.root,t.root,e.matrixParams)&&KS[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function XS(n,t,e){return QS(n,t,t.segments,e)}function QS(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!Q0(i,e)||t.hasChildren()||!zf(i,e,r))}if(n.segments.length===e.length){if(!Q0(n.segments,e)||!zf(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!XS(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),a=e.slice(n.segments.length);return!!(Q0(n.segments,i)&&zf(n.segments,i,r)&&n.children[bn])&&QS(n.children[bn],t,a,r)}}function zf(n,t,e){return t.every((r,i)=>KS[e](n[i].parameters,r.parameters))}class X0{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=X5(this.queryParams)),this._queryParamMap}toString(){return yQ.serialize(this)}}class Dn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Hr(e,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nf(this)}}class Bc{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=X5(this.parameters)),this._parameterMap}toString(){return iT(this)}}function Q0(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class eT{}class tT{parse(t){const e=new TQ(t);return new X0(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Uc(t.root,!0)}`,r=function MQ(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(i=>`${Ef(e)}=${Ef(i)}`).join("&"):`${Ef(e)}=${Ef(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function _Q(n){return encodeURI(n)}(t.fragment)}`:""}`}}const yQ=new tT;function Nf(n){return n.segments.map(t=>iT(t)).join("/")}function Uc(n,t){if(!n.hasChildren())return Nf(n);if(t){const e=n.children[bn]?Uc(n.children[bn],!1):"",r=[];return Hr(n.children,(i,a)=>{a!==bn&&r.push(`${a}:${Uc(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function vQ(n,t){let e=[];return Hr(n.children,(r,i)=>{i===bn&&(e=e.concat(t(r,i)))}),Hr(n.children,(r,i)=>{i!==bn&&(e=e.concat(t(r,i)))}),e}(n,(r,i)=>i===bn?[Uc(n.children[bn],!1)]:[`${i}:${Uc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[bn]?`${Nf(n)}/${e[0]}`:`${Nf(n)}/(${e.join("//")})`}}function nT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ef(n){return nT(n).replace(/%3B/gi,";")}function Pm(n){return nT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Of(n){return decodeURIComponent(n)}function rT(n){return Of(n.replace(/\+/g,"%20"))}function iT(n){return`${Pm(n.path)}${function bQ(n){return Object.keys(n).map(t=>`;${Pm(t)}=${Pm(n[t])}`).join("")}(n.parameters)}`}const xQ=/^[^\/()?;=#]+/;function If(n){const t=n.match(xQ);return t?t[0]:""}const wQ=/^[^=?&#]+/,DQ=/^[^&#]+/;class TQ{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dn([],{}):new Dn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[bn]=new Dn(t,e)),r}parseSegment(){const t=If(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Bc(Of(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=If(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=If(this.remaining);i&&(r=i,this.capture(r))}t[Of(e)]=Of(r)}parseQueryParam(t){const e=function LQ(n){const t=n.match(wQ);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const s=function SQ(n){const t=n.match(DQ);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=rT(e),a=rT(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(a)}else t[i]=a}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=If(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let a;r.indexOf(":")>-1?(a=r.substr(0,r.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=bn);const s=this.parseChildren();e[a]=1===Object.keys(s).length?s[bn]:new Dn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class aT{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Rm(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=Rm(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Fm(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Fm(t,this._root).map(e=>e.value)}}function Rm(n,t){if(n===t.value)return t;for(const e of t.children){const r=Rm(n,e);if(r)return r}return null}function Fm(n,t){if(n===t.value)return[t];for(const e of t.children){const r=Fm(n,e);if(r.length)return r.unshift(t),r}return[]}class Oo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Q5(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class oT extends aT{constructor(t,e){super(t),this.snapshot=e,Bm(this,t)}toString(){return this.snapshot.toString()}}function sT(n,t){const e=function HQ(n,t){const s=new Pf([],{},{},"",{},bn,t,null,n.root,-1,{});return new cT("",new Oo(s,[]))}(n,t),r=new lr([new Bc("",{})]),i=new lr({}),a=new lr({}),s=new lr({}),y=new lr(""),H=new e8(r,i,s,y,a,bn,t,e.root);return H.snapshot=e.root,new oT(new Oo(H,[]),e)}class e8{constructor(t,e,r,i,a,s,y,H){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=s,this.component=y,this._futureSnapshot=H}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(R(t=>X5(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(R(t=>X5(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lT(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const i=e[r],a=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function VQ(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class Pf{constructor(t,e,r,i,a,s,y,H,J,he,be){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=s,this.component=y,this.routeConfig=H,this._urlSegment=J,this._lastPathIndex=he,this._resolve=be}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=X5(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=X5(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cT extends aT{constructor(t,e){super(e),this.url=t,Bm(this,e)}toString(){return uT(this._root)}}function Bm(n,t){t.value._routerState=n,t.children.forEach(e=>Bm(n,e))}function uT(n){const t=n.children.length>0?` { ${n.children.map(uT).join(", ")} } `:"";return`${n.value}${t}`}function Um(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,$a(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),$a(t.params,e.params)||n.params.next(e.params),function dQ(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!$a(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),$a(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function jm(n,t){const e=$a(n.params,t.params)&&function mQ(n,t){return Q0(n,t)&&n.every((e,r)=>$a(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||jm(n.parent,t.parent))}function jc(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function kQ(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return jc(n,r,i);return jc(n,r)})}(n,t,e);return new Oo(r,i)}{if(n.shouldAttach(t.value)){const a=n.retrieve(t.value);if(null!==a){const s=a.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(y=>jc(n,y)),s}}const r=function zQ(n){return new e8(new lr(n.url),new lr(n.params),new lr(n.queryParams),new lr(n.fragment),new lr(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(a=>jc(n,a));return new Oo(r,i)}}function Rf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Gc(n){return"object"==typeof n&&null!=n&&n.outlets}function Gm(n,t,e,r,i){let a={};if(r&&Hr(r,(y,H)=>{a[H]=Array.isArray(y)?y.map(J=>`${J}`):`${y}`}),n===t)return new X0(e,a,i);const s=fT(n,t,e);return new X0(s,a,i)}function fT(n,t,e){const r={};return Hr(n.children,(i,a)=>{r[a]=i===t?e:fT(i,t,e)}),new Dn(n.segments,r)}class dT{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Rf(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Gc);if(i&&i!==YS(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $m{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function hT(n,t,e){if(n||(n=new Dn([],{})),0===n.segments.length&&n.hasChildren())return Ff(n,t,e);const r=function RQ(n,t,e){let r=0,i=t;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return a;const s=n.segments[i],y=e[r];if(Gc(y))break;const H=`${y}`,J=r<e.length-1?e[r+1]:null;if(i>0&&void 0===H)break;if(H&&J&&"object"==typeof J&&void 0===J.outlets){if(!CT(H,J,s))return a;r+=2}else{if(!CT(H,{},s))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new Dn(n.segments.slice(0,r.pathIndex),{});return a.children[bn]=new Dn(n.segments.slice(r.pathIndex),n.children),Ff(a,0,i)}return r.match&&0===i.length?new Dn(n.segments,{}):r.match&&!n.hasChildren()?Wm(n,t,e):r.match?Ff(n,0,i):Wm(n,t,e)}function Ff(n,t,e){if(0===e.length)return new Dn(n.segments,{});{const r=function PQ(n){return Gc(n[0])?n[0].outlets:{[bn]:n}}(e),i={};return Hr(r,(a,s)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[s]=hT(n.children[s],t,a))}),Hr(n.children,(a,s)=>{void 0===r[s]&&(i[s]=a)}),new Dn(n.segments,i)}}function Wm(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const a=e[i];if(Gc(a)){const H=FQ(a.outlets);return new Dn(r,H)}if(0===i&&Rf(e[0])){r.push(new Bc(n.segments[t].path,pT(e[0]))),i++;continue}const s=Gc(a)?a.outlets[bn]:`${a}`,y=i<e.length-1?e[i+1]:null;s&&y&&Rf(y)?(r.push(new Bc(s,pT(y))),i+=2):(r.push(new Bc(s,{})),i++)}return new Dn(r,{})}function FQ(n){const t={};return Hr(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=Wm(new Dn([],{}),0,e))}),t}function pT(n){const t={};return Hr(n,(e,r)=>t[r]=`${e}`),t}function CT(n,t,e){return n==e.path&&$a(t,e.parameters)}class UQ{constructor(t,e,r,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Um(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=Q5(e);t.children.forEach(a=>{const s=a.value.outlet;this.deactivateRoutes(a,i[s],r),delete i[s]}),Hr(i,(a,s)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(t,e,r){const i=t.value,a=e?e.value:null;if(i===a)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,r);else a&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,a=Q5(t);for(const s of Object.keys(a))this.deactivateRouteAndItsChildren(a[s],i);if(r&&r.outlet){const s=r.outlet.detach(),y=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:y})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,a=Q5(t);for(const s of Object.keys(a))this.deactivateRouteAndItsChildren(a[s],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const i=Q5(e);t.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new lQ(a.value.snapshot))}),t.children.length&&this.forwardEvent(new oQ(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,a=e?e.value:null;if(Um(i),i===a)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const y=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(y.contexts),s.attachRef=y.componentRef,s.route=y.route.value,s.outlet&&s.outlet.attach(y.componentRef,y.route.value),Um(y.route.value),this.activateChildRoutes(t,null,s.children)}else{const y=function jQ(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(i.snapshot),H=y?y.module.componentFactoryResolver:null;s.attachRef=null,s.route=i,s.resolver=H,s.outlet&&s.outlet.activateWith(i,H),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class qm{constructor(t,e){this.routes=t,this.module=e}}function Is(n){return"function"==typeof n}function e6(n){return n instanceof X0}const $c=Symbol("INITIAL_VALUE");function Wc(){return Y4(n=>function Mg(...n){const t=k1(n),e=ut(n),{args:r,keys:i}=Zx(n);if(0===r.length)return Ot([],t);const a=new me(function Lq(n,t,e=Q){return r=>{gL(t,()=>{const{length:i}=n,a=new Array(i);let s=i,y=i;for(let H=0;H<i;H++)gL(t,()=>{const J=Ot(n[H],t);let he=!1;J.subscribe(O(r,be=>{a[H]=be,he||(he=!0,y--),y||r.next(e(a.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,i?s=>Jx(i,s):Q));return e?a.pipe(XC(e)):a}(n.map(t=>t.pipe(G1(1),function nf(...n){const t=k1(n);return F((e,r)=>{(t?E5(n,e,t):E5(n,e)).subscribe(r)})}($c)))).pipe(PS((t,e)=>{let r=!1;return e.reduce((i,a,s)=>i!==$c?i:(a===$c&&(r=!0),r||!1!==a&&s!==e.length-1&&!e6(a)?i:a),t)},$c),sr(t=>t!==$c),R(t=>e6(t)?t:!0===t),G1(1)))}class KQ{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new qc,this.attachRef=null}}class qc{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new KQ,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Ym=(()=>{class n{constructor(e,r,i,a,s){this.parentContexts=e,this.location=r,this.resolver=i,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new v2,this.deactivateEvents=new v2,this.attachEvents=new v2,this.detachEvents=new v2,this.name=a||bn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const s=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),y=this.parentContexts.getOrCreateContext(this.name).children,H=new ZQ(e,y,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,H),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(z1(qc),z1(ra),z1(H5),function Gi(n){return function D8(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const r=e.length;let i=0;for(;i<r;){const a=e[i];if(Cr(a))break;if(0===a)i+=2;else if("number"==typeof a)for(i++;i<r&&"string"==typeof e[i];)i++;else{if(a===t)return e[i+1];i+=2}}}return null}(h3(),n)}("name"),z1(ia))},n.\u0275dir=Ut({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class ZQ{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===e8?this.route:t===qc?this.childContexts:this.parent.get(t,e)}}let gT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=un({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&Yt(0,"router-outlet")},directives:[Ym],encapsulation:2}),n})();function mT(n,t=""){for(let e=0;e<n.length;e++){const r=n[e];JQ(r,XQ(t,r))}}function JQ(n,t){n.children&&mT(n.children,t)}function XQ(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Km(n){const t=n.children&&n.children.map(Km),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==bn&&(e.component=gT),e}function Mi(n){return n.outlet||bn}function vT(n,t){const e=n.filter(r=>Mi(r)===t);return e.push(...n.filter(r=>Mi(r)!==t)),e}const yT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Bf(n,t,e){var r;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},yT):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const a=(t.matcher||fQ)(e,n,t);if(!a)return Object.assign({},yT);const s={};Hr(a.posParams,(H,J)=>{s[J]=H.path});const y=a.consumed.length>0?Object.assign(Object.assign({},s),a.consumed[a.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:a.consumed,remainingSegments:e.slice(a.consumed.length),parameters:y,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function Uf(n,t,e,r,i="corrected"){if(e.length>0&&function tee(n,t,e){return e.some(r=>jf(n,t,r)&&Mi(r)!==bn)}(n,e,r)){const s=new Dn(t,function eee(n,t,e,r){const i={};i[bn]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const a of e)if(""===a.path&&Mi(a)!==bn){const s=new Dn([],{});s._sourceSegment=n,s._segmentIndexShift=t.length,i[Mi(a)]=s}return i}(n,t,r,new Dn(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function nee(n,t,e){return e.some(r=>jf(n,t,r))}(n,e,r)){const s=new Dn(n.segments,function QQ(n,t,e,r,i,a){const s={};for(const y of r)if(jf(n,e,y)&&!i[Mi(y)]){const H=new Dn([],{});H._sourceSegment=n,H._segmentIndexShift="legacy"===a?n.segments.length:t.length,s[Mi(y)]=H}return Object.assign(Object.assign({},i),s)}(n,t,e,r,n.children,i));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const a=new Dn(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}function jf(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function _T(n,t,e,r){return!!(Mi(n)===r||r!==bn&&jf(t,e,n))&&("**"===n.path||Bf(t,n,e).matched)}function bT(n,t,e){return 0===t.length&&!n.children[e]}class Gf{constructor(t){this.segmentGroup=t||null}}class MT{constructor(t){this.urlTree=t}}function Yc(n){return bc(new Gf(n))}function xT(n){return bc(new MT(n))}class oee{constructor(t,e,r,i,a){this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=t.get(Mo)}apply(){const t=Uf(this.urlTree.root,[],[],this.config).segmentGroup,e=new Dn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,bn).pipe(R(a=>this.createUrlTree(Zm(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Os(a=>{if(a instanceof MT)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Gf?this.noMatchError(a):a}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,bn).pipe(R(i=>this.createUrlTree(Zm(i),t.queryParams,t.fragment))).pipe(Os(i=>{throw i instanceof Gf?this.noMatchError(i):i}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const i=t.segments.length>0?new Dn([],{[bn]:t}):t;return new X0(i,e,r)}expandSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe(R(a=>new Dn([],a))):this.expandSegment(t,r,e,r.segments,i,!0)}expandChildren(t,e,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return Ot(i).pipe(Rc(a=>{const s=r.children[a],y=vT(e,a);return this.expandSegmentGroup(t,y,s,a).pipe(R(H=>({segment:H,outlet:a})))}),PS((a,s)=>(a[s.outlet]=s.segment,a),{}),function JX(n,t){const e=arguments.length>=2;return r=>r.pipe(n?sr((i,a)=>n(i,a,r)):Q,Em(1),e?FS(t):RS(()=>new kf))}())}expandSegment(t,e,r,i,a,s){return Ot(r).pipe(Rc(y=>this.expandSegmentAgainstRoute(t,e,r,y,i,a,s).pipe(Os(J=>{if(J instanceof Gf)return j2(null);throw J}))),J5(y=>!!y),Os((y,H)=>{if(y instanceof kf||"EmptyError"===y.name)return bT(e,i,a)?j2(new Dn([],{})):Yc(e);throw y}))}expandSegmentAgainstRoute(t,e,r,i,a,s,y){return _T(i,e,a,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,a,s):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,i,a,s):Yc(e):Yc(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,a,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,a,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?xT(a):this.lineralizeSegments(r,a).pipe(c1(s=>{const y=new Dn(s,{});return this.expandSegment(t,y,e,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,a,s){const{matched:y,consumedSegments:H,remainingSegments:J,positionalParamSegments:he}=Bf(e,i,a);if(!y)return Yc(e);const be=this.applyRedirectCommands(H,i.redirectTo,he);return i.redirectTo.startsWith("/")?xT(be):this.lineralizeSegments(i,be).pipe(c1(ke=>this.expandSegment(t,e,r,ke.concat(J),s,!1)))}matchSegmentAgainstRoute(t,e,r,i,a){if("**"===r.path)return r.loadChildren?(r._loadedConfig?j2(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe(R(be=>(r._loadedConfig=be,new Dn(i,{})))):j2(new Dn(i,{}));const{matched:s,consumedSegments:y,remainingSegments:H}=Bf(e,r,i);return s?this.getChildConfig(t,r,i).pipe(c1(he=>{const be=he.module,ke=he.routes,{segmentGroup:Ke,slicedSegments:V1}=Uf(e,y,H,ke),F1=new Dn(Ke.segments,Ke.children);if(0===V1.length&&F1.hasChildren())return this.expandChildren(be,ke,F1).pipe(R(At=>new Dn(y,At)));if(0===ke.length&&0===V1.length)return j2(new Dn(y,{}));const lt=Mi(r)===a;return this.expandSegment(be,F1,ke,V1,lt?bn:a,!0).pipe(R(q1=>new Dn(y.concat(q1.segments),q1.children)))})):Yc(e)}getChildConfig(t,e,r){return e.children?j2(new qm(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?j2(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe(c1(i=>i?this.configLoader.load(t.injector,e).pipe(R(a=>(e._loadedConfig=a,a))):function iee(n){return bc(Im(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):j2(new qm([],t))}runCanLoadGuards(t,e,r){const i=e.canLoad;return i&&0!==i.length?j2(i.map(s=>{const y=t.get(s);let H;if(function $Q(n){return n&&Is(n.canLoad)}(y))H=y.canLoad(e,r);else{if(!Is(y))throw new Error("Invalid CanLoad guard");H=y(e,r)}return Wa(H)})).pipe(Wc(),jr(s=>{if(!e6(s))return;const y=Im(`Redirecting to "${this.urlSerializer.serialize(s)}"`);throw y.url=s,y}),R(s=>!0===s)):j2(!0)}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return j2(r);if(i.numberOfChildren>1||!i.children[bn])return bc(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));i=i.children[bn]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,i){const a=this.createSegmentGroup(t,e.root,r,i);return new X0(a,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Hr(t,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const y=i.substring(1);r[a]=e[y]}else r[a]=i}),r}createSegmentGroup(t,e,r,i){const a=this.createSegments(t,e.segments,r,i);let s={};return Hr(e.children,(y,H)=>{s[H]=this.createSegmentGroup(t,y,r,i)}),new Dn(a,s)}createSegments(t,e,r,i){return e.map(a=>a.path.startsWith(":")?this.findPosParam(t,a,i):this.findOrReturn(a,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}function Zm(n){const t={};for(const r of Object.keys(n.children)){const a=Zm(n.children[r]);(a.segments.length>0||a.hasChildren())&&(t[r]=a)}return function see(n){if(1===n.numberOfChildren&&n.children[bn]){const t=n.children[bn];return new Dn(n.segments.concat(t.segments),t.children)}return n}(new Dn(n.segments,t))}class wT{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class $f{constructor(t,e){this.component=t,this.route=e}}function cee(n,t,e){const r=n._root;return Kc(r,t?t._root:null,e,[r.value])}function Wf(n,t,e){const r=function fee(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:e).get(n)}function Kc(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Q5(t);return n.children.forEach(s=>{(function dee(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,s=t?t.value:null,y=e?e.getContext(n.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){const H=function hee(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Q0(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Q0(n.url,t.url)||!$a(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jm(n,t)||!$a(n.queryParams,t.queryParams);default:return!jm(n,t)}}(s,a,a.routeConfig.runGuardsAndResolvers);H?i.canActivateChecks.push(new wT(r)):(a.data=s.data,a._resolvedData=s._resolvedData),Kc(n,t,a.component?y?y.children:null:e,r,i),H&&y&&y.outlet&&y.outlet.isActivated&&i.canDeactivateChecks.push(new $f(y.outlet.component,s))}else s&&Zc(t,y,i),i.canActivateChecks.push(new wT(r)),Kc(n,null,a.component?y?y.children:null:e,r,i)})(s,a[s.value.outlet],e,r.concat([s.value]),i),delete a[s.value.outlet]}),Hr(a,(s,y)=>Zc(s,e.getContext(y),i)),i}function Zc(n,t,e){const r=Q5(n),i=n.value;Hr(r,(a,s)=>{Zc(a,i.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new $f(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class Mee{}function LT(n){return new me(t=>t.error(n))}class wee{constructor(t,e,r,i,a,s){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=s}recognize(){const t=Uf(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,bn);if(null===e)return null;const r=new Pf([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},bn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Oo(r,e),a=new cT(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(t){const e=t.value,r=lT(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const a of Object.keys(e.children)){const s=e.children[a],y=vT(t,a),H=this.processSegmentGroup(y,s,a);if(null===H)return null;r.push(...H)}const i=DT(r);return function Lee(n){n.sort((t,e)=>t.value.outlet===bn?-1:e.value.outlet===bn?1:t.value.outlet.localeCompare(e.value.outlet))}(i),i}processSegment(t,e,r,i){for(const a of t){const s=this.processSegmentAgainstRoute(a,e,r,i);if(null!==s)return s}return bT(e,r,i)?[]:null}processSegmentAgainstRoute(t,e,r,i){if(t.redirectTo||!_T(t,e,r,i))return null;let a,s=[],y=[];if("**"===t.path){const Ke=r.length>0?YS(r).parameters:{};a=new Pf(r,Ke,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,HT(t),Mi(t),t.component,t,ST(e),TT(e)+r.length,VT(t))}else{const Ke=Bf(e,t,r);if(!Ke.matched)return null;s=Ke.consumedSegments,y=Ke.remainingSegments,a=new Pf(s,Ke.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,HT(t),Mi(t),t.component,t,ST(e),TT(e)+s.length,VT(t))}const H=function Dee(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:J,slicedSegments:he}=Uf(e,s,y,H.filter(Ke=>void 0===Ke.redirectTo),this.relativeLinkResolution);if(0===he.length&&J.hasChildren()){const Ke=this.processChildren(H,J);return null===Ke?null:[new Oo(a,Ke)]}if(0===H.length&&0===he.length)return[new Oo(a,[])];const be=Mi(t)===i,ke=this.processSegment(H,J,he,be?bn:i);return null===ke?null:[new Oo(a,ke)]}}function See(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function DT(n){const t=[],e=new Set;for(const r of n){if(!See(r)){t.push(r);continue}const i=t.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=DT(r.children);t.push(new Oo(r.value,i))}return t.filter(r=>!e.has(r))}function ST(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function TT(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function HT(n){return n.data||{}}function VT(n){return n.resolve||{}}function AT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Jm(n){return Y4(t=>{const e=n(t);return e?Ot(e).pipe(R(()=>t)):j2(t)})}class Eee extends class Nee{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Xm=new nn("ROUTES");class kT{constructor(t,e,r,i){this.injector=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=i}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const i=this.loadModuleFactory(e.loadChildren).pipe(R(a=>{this.onLoadEndListener&&this.onLoadEndListener(e);const s=a.create(t);return new qm(qS(s.injector.get(Xm,void 0,T2.Self|T2.Optional)).map(Km),s)}),Os(a=>{throw e._loader$=void 0,a}));return e._loader$=new aL(i,()=>new j).pipe(iL()),e._loader$}loadModuleFactory(t){return Wa(t()).pipe(c1(e=>e instanceof dM?j2(e):Ot(this.compiler.compileModuleAsync(e))))}}class Iee{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Pee(n){throw n}function Ree(n,t,e){return t.parse("/")}function zT(n,t){return j2(null)}const Fee={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Bee={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vr=(()=>{class n{constructor(e,r,i,a,s,y,H){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=H,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new j,this.errorHandler=Pee,this.malformedUriErrorHandler=Ree,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:zT,afterPreactivation:zT},this.urlHandlingStrategy=new Iee,this.routeReuseStrategy=new Eee,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(Mo),this.console=s.get(ij);const be=s.get(e3);this.isNgZoneEnabled=be instanceof e3&&e3.isInAngularZone(),this.resetConfig(H),this.currentUrlTree=function hQ(){return new X0(new Dn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new kT(s,y,ke=>this.triggerEvent(new US(ke)),ke=>this.triggerEvent(new jS(ke))),this.routerState=sT(this.currentUrlTree,this.rootComponentType),this.transitions=new lr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(sr(i=>0!==i.id),R(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Y4(i=>{let a=!1,s=!1;return j2(i).pipe(jr(y=>{this.currentNavigation={id:y.id,initialUrl:y.currentRawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Y4(y=>{const H=this.browserUrlTree.toString(),J=!this.navigated||y.extractedUrl.toString()!==H||H!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||J)&&this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return NT(y.source)&&(this.browserUrlTree=y.extractedUrl),j2(y).pipe(Y4(be=>{const ke=this.transitions.getValue();return r.next(new Om(be.id,this.serializeUrl(be.extractedUrl),be.source,be.restoredState)),ke!==this.transitions.getValue()?T1:Promise.resolve(be)}),function lee(n,t,e,r){return Y4(i=>function aee(n,t,e,r,i){return new oee(n,t,e,r,i).apply()}(n,t,e,i.extractedUrl,r).pipe(R(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),jr(be=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:be.urlAfterRedirects})}),function Tee(n,t,e,r,i){return c1(a=>function xee(n,t,e,r,i="emptyOnly",a="legacy"){try{const s=new wee(n,t,e,r,i,a).recognize();return null===s?LT(new Mee):j2(s)}catch(s){return LT(s)}}(n,t,a.urlAfterRedirects,e(a.urlAfterRedirects),r,i).pipe(R(s=>Object.assign(Object.assign({},a),{targetSnapshot:s}))))}(this.rootComponentType,this.config,be=>this.serializeUrl(be),this.paramsInheritanceStrategy,this.relativeLinkResolution),jr(be=>{if("eager"===this.urlUpdateStrategy){if(!be.extras.skipLocationChange){const Ke=this.urlHandlingStrategy.merge(be.urlAfterRedirects,be.rawUrl);this.setBrowserUrl(Ke,be)}this.browserUrlTree=be.urlAfterRedirects}const ke=new eQ(be.id,this.serializeUrl(be.extractedUrl),this.serializeUrl(be.urlAfterRedirects),be.targetSnapshot);r.next(ke)}));if(J&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:ke,extractedUrl:Ke,source:V1,restoredState:F1,extras:lt}=y,pt=new Om(ke,this.serializeUrl(Ke),V1,F1);r.next(pt);const q1=sT(Ke,this.rootComponentType).snapshot;return j2(Object.assign(Object.assign({},y),{targetSnapshot:q1,urlAfterRedirects:Ke,extras:Object.assign(Object.assign({},lt),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=y.rawUrl,y.resolve(null),T1}),Jm(y=>{const{targetSnapshot:H,id:J,extractedUrl:he,rawUrl:be,extras:{skipLocationChange:ke,replaceUrl:Ke}}=y;return this.hooks.beforePreactivation(H,{navigationId:J,appliedUrlTree:he,rawUrlTree:be,skipLocationChange:!!ke,replaceUrl:!!Ke})}),jr(y=>{const H=new tQ(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(H)}),R(y=>Object.assign(Object.assign({},y),{guards:cee(y.targetSnapshot,y.currentSnapshot,this.rootContexts)})),function pee(n,t){return c1(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:s}}=e;return 0===s.length&&0===a.length?j2(Object.assign(Object.assign({},e),{guardsResult:!0})):function Cee(n,t,e,r){return Ot(n).pipe(c1(i=>function bee(n,t,e,r,i){const a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return a&&0!==a.length?j2(a.map(y=>{const H=Wf(y,t,i);let J;if(function YQ(n){return n&&Is(n.canDeactivate)}(H))J=Wa(H.canDeactivate(n,t,e,r));else{if(!Is(H))throw new Error("Invalid CanDeactivate guard");J=Wa(H(n,t,e,r))}return J.pipe(J5())})).pipe(Wc()):j2(!0)}(i.component,i.route,e,t,r)),J5(i=>!0!==i,!0))}(s,r,i,n).pipe(c1(y=>y&&function GQ(n){return"boolean"==typeof n}(y)?function gee(n,t,e,r){return Ot(t).pipe(Rc(i=>E5(function vee(n,t){return null!==n&&t&&t(new aQ(n)),j2(!0)}(i.route.parent,r),function mee(n,t){return null!==n&&t&&t(new sQ(n)),j2(!0)}(i.route,r),function _ee(n,t,e){const r=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(s=>function uee(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>Xu(()=>j2(s.guards.map(H=>{const J=Wf(H,s.node,e);let he;if(function qQ(n){return n&&Is(n.canActivateChild)}(J))he=Wa(J.canActivateChild(r,n));else{if(!Is(J))throw new Error("Invalid CanActivateChild guard");he=Wa(J(r,n))}return he.pipe(J5())})).pipe(Wc())));return j2(a).pipe(Wc())}(n,i.path,e),function yee(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return j2(!0);const i=r.map(a=>Xu(()=>{const s=Wf(a,t,e);let y;if(function WQ(n){return n&&Is(n.canActivate)}(s))y=Wa(s.canActivate(t,n));else{if(!Is(s))throw new Error("Invalid CanActivate guard");y=Wa(s(t,n))}return y.pipe(J5())}));return j2(i).pipe(Wc())}(n,i.route,e))),J5(i=>!0!==i,!0))}(r,a,n,t):j2(y)),R(y=>Object.assign(Object.assign({},e),{guardsResult:y})))})}(this.ngModule.injector,y=>this.triggerEvent(y)),jr(y=>{if(e6(y.guardsResult)){const J=Im(`Redirecting to "${this.serializeUrl(y.guardsResult)}"`);throw J.url=y.guardsResult,J}const H=new nQ(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.triggerEvent(H)}),sr(y=>!!y.guardsResult||(this.restoreHistory(y),this.cancelNavigationTransition(y,""),!1)),Jm(y=>{if(y.guards.canActivateChecks.length)return j2(y).pipe(jr(H=>{const J=new rQ(H.id,this.serializeUrl(H.extractedUrl),this.serializeUrl(H.urlAfterRedirects),H.targetSnapshot);this.triggerEvent(J)}),Y4(H=>{let J=!1;return j2(H).pipe(function Hee(n,t){return c1(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return j2(e);let a=0;return Ot(i).pipe(Rc(s=>function Vee(n,t,e,r){return function Aee(n,t,e,r){const i=AT(n);if(0===i.length)return j2({});const a={};return Ot(i).pipe(c1(s=>function kee(n,t,e,r){const i=Wf(n,t,r);return Wa(i.resolve?i.resolve(t,e):i(t,e))}(n[s],t,e,r).pipe(jr(y=>{a[s]=y}))),Em(1),c1(()=>AT(a).length===i.length?j2(a):T1))}(n._resolve,n,t,r).pipe(R(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),lT(n,e).resolve),null)))}(s.route,r,n,t)),jr(()=>a++),Em(1),c1(s=>a===i.length?j2(e):T1))})}(this.paramsInheritanceStrategy,this.ngModule.injector),jr({next:()=>J=!0,complete:()=>{J||(this.restoreHistory(H),this.cancelNavigationTransition(H,"At least one route resolver didn't emit any value."))}}))}),jr(H=>{const J=new iQ(H.id,this.serializeUrl(H.extractedUrl),this.serializeUrl(H.urlAfterRedirects),H.targetSnapshot);this.triggerEvent(J)}))}),Jm(y=>{const{targetSnapshot:H,id:J,extractedUrl:he,rawUrl:be,extras:{skipLocationChange:ke,replaceUrl:Ke}}=y;return this.hooks.afterPreactivation(H,{navigationId:J,appliedUrlTree:he,rawUrlTree:be,skipLocationChange:!!ke,replaceUrl:!!Ke})}),R(y=>{const H=function AQ(n,t,e){const r=jc(n,t._root,e?e._root:void 0);return new oT(r,t)}(this.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return Object.assign(Object.assign({},y),{targetRouterState:H})}),jr(y=>{this.currentUrlTree=y.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl),this.routerState=y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,y),this.browserUrlTree=y.urlAfterRedirects)}),((n,t,e)=>R(r=>(new UQ(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,y=>this.triggerEvent(y)),jr({next(){a=!0},complete(){a=!0}}),function XX(n){return F((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{var y;a||s||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(y=this.currentNavigation)||void 0===y?void 0:y.id)===i.id&&(this.currentNavigation=null)}),Os(y=>{if(s=!0,function uQ(n){return n&&n[$S]}(y)){const H=e6(y.url);H||(this.navigated=!0,this.restoreHistory(i,!0));const J=new BS(i.id,this.serializeUrl(i.extractedUrl),y.message);r.next(J),H?setTimeout(()=>{const he=this.urlHandlingStrategy.merge(y.url,this.rawUrlTree),be={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||NT(i.source)};this.scheduleNavigation(he,"imperative",null,be,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const H=new QX(i.id,this.serializeUrl(i.extractedUrl),y);r.next(H);try{i.resolve(this.errorHandler(y))}catch(J){i.reject(J)}}return T1}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const a={replaceUrl:!0},s=(null===(i=e.state)||void 0===i?void 0:i.navigationId)?e.state:null;if(s){const H=Object.assign({},s);delete H.navigationId,delete H.\u0275routerPageId,0!==Object.keys(H).length&&(a.state=H)}const y=this.parseUrl(e.url);this.scheduleNavigation(y,r,s,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){mT(e),this.config=e.map(Km),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:a,fragment:s,queryParamsHandling:y,preserveFragment:H}=r,J=i||this.routerState.root,he=H?this.currentUrlTree.fragment:s;let be=null;switch(y){case"merge":be=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":be=this.currentUrlTree.queryParams;break;default:be=a||null}return null!==be&&(be=this.removeEmptyProps(be)),function NQ(n,t,e,r,i){if(0===e.length)return Gm(t.root,t.root,t.root,r,i);const a=function EQ(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new dT(!0,0,n);let t=0,e=!1;const r=n.reduce((i,a,s)=>{if("object"==typeof a&&null!=a){if(a.outlets){const y={};return Hr(a.outlets,(H,J)=>{y[J]="string"==typeof H?H.split("/"):H}),[...i,{outlets:y}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===s?(a.split("/").forEach((y,H)=>{0==H&&"."===y||(0==H&&""===y?e=!0:".."===y?t++:""!=y&&i.push(y))}),i):[...i,a]},[]);return new dT(e,t,r)}(e);if(a.toRoot())return Gm(t.root,t.root,new Dn([],{}),r,i);const s=function OQ(n,t,e){if(n.isAbsolute)return new $m(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const a=e.snapshot._urlSegment;return new $m(a,a===t.root,0)}const r=Rf(n.commands[0])?0:1;return function IQ(n,t,e){let r=n,i=t,a=e;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new $m(r,!1,i-a)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(a,t,n),y=s.processChildren?Ff(s.segmentGroup,s.index,a.commands):hT(s.segmentGroup,s.index,a.commands);return Gm(t.root,s.segmentGroup,y,r,i)}(J,this.currentUrlTree,e,be,null!=he?he:null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=e6(e)?e:this.parseUrl(e),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function Uee(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?Object.assign({},Fee):!1===r?Object.assign({},Bee):r,e6(e))return ZS(this.currentUrlTree,e,i);const a=this.parseUrl(e);return ZS(this.currentUrlTree,a,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const a=e[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Fc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,i,a,s){var y,H;if(this.disposed)return Promise.resolve(!1);let J,he,be;s?(J=s.resolve,he=s.reject,be=s.promise):be=new Promise((V1,F1)=>{J=V1,he=F1});const ke=++this.navigationId;let Ke;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),Ke=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(y=this.browserPageId)&&void 0!==y?y:0:(null!==(H=this.browserPageId)&&void 0!==H?H:0)+1):Ke=0,this.setTransition({id:ke,targetPageId:Ke,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:a,resolve:J,reject:he,promise:be,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),be.catch(V1=>Promise.reject(V1))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e),a=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(e,r=!1){var i,a;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===s?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const i=new BS(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(i),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){Ip()},n.\u0275prov=r2({token:n,factory:n.\u0275fac}),n})();function NT(n){return"imperative"!==n}let qf=(()=>{class n{constructor(e,r,i){this.router=e,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new j,this.subscription=e.events.subscribe(a=>{a instanceof Fc&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,r,i,a,s){if(0!==e||r||i||a||s||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const y={skipLocationChange:t8(this.skipLocationChange),replaceUrl:t8(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,y),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:t8(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(z1(Vr),z1(e8),z1(z5))},n.\u0275dir=Ut({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,r){1&e&&ht("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&e&&Un("target",r.target)("href",r.href,ds)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Jn]}),n})();function t8(n){return""===n||!!n}class ET{}class OT{preload(t,e){return j2(null)}}let IT=(()=>{class n{constructor(e,r,i,a){this.router=e,this.injector=i,this.preloadingStrategy=a,this.loader=new kT(i,r,H=>e.triggerEvent(new US(H)),H=>e.triggerEvent(new jS(H)))}setUpPreloading(){this.subscription=this.router.events.pipe(sr(e=>e instanceof Fc),Rc(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Mo);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const a of r)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const s=a._loadedConfig;i.push(this.processRoutes(s.module,s.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(e,a)):a.children&&i.push(this.processRoutes(e,a.children));return Ot(i).pipe(w1(),R(a=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?j2(r._loadedConfig):this.loader.load(e.injector,r)).pipe(c1(a=>(r._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(qt(Vr),qt(KM),qt(m1),qt(ET))},n.\u0275prov=r2({token:n,factory:n.\u0275fac}),n})(),ev=(()=>{class n{constructor(e,r,i={}){this.router=e,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Om?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Fc&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof GS&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new GS(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){Ip()},n.\u0275prov=r2({token:n,factory:n.\u0275fac}),n})();const t6=new nn("ROUTER_CONFIGURATION"),PT=new nn("ROUTER_FORROOT_GUARD"),Wee=[Tu,{provide:eT,useClass:tT},{provide:Vr,useFactory:function Jee(n,t,e,r,i,a,s={},y,H){const J=new Vr(null,n,t,e,r,i,qS(a));return y&&(J.urlHandlingStrategy=y),H&&(J.routeReuseStrategy=H),function Xee(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(s,J),s.enableTracing&&J.events.subscribe(he=>{var be,ke;null===(be=console.group)||void 0===be||be.call(console,`Router Event: ${he.constructor.name}`),console.log(he.toString()),console.log(he),null===(ke=console.groupEnd)||void 0===ke||ke.call(console)}),J},deps:[eT,qc,Tu,m1,KM,Xm,t6,[class Oee{},new Yi],[class zee{},new Yi]]},qc,{provide:e8,useFactory:function Qee(n){return n.routerState.root},deps:[Vr]},IT,OT,class $ee{preload(t,e){return e().pipe(Os(()=>j2(null)))}},{provide:t6,useValue:{enableTracing:!1}}];function qee(){return new ex("Router",Vr)}let RT=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[Wee,FT(e),{provide:PT,useFactory:Zee,deps:[[Vr,new Yi,new p0]]},{provide:t6,useValue:r||{}},{provide:z5,useFactory:Kee,deps:[R0,[new R6(HC),new Yi],t6]},{provide:ev,useFactory:Yee,deps:[Vr,u$,t6]},{provide:ET,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:OT},{provide:ex,multi:!0,useFactory:qee},[tv,{provide:xu,multi:!0,useFactory:e1e,deps:[tv]},{provide:BT,useFactory:t1e,deps:[tv]},{provide:YM,multi:!0,useExisting:BT}]]}}static forChild(e){return{ngModule:n,providers:[FT(e)]}}}return n.\u0275fac=function(e){return new(e||n)(qt(PT,8),qt(Vr,8))},n.\u0275mod=tn({type:n}),n.\u0275inj=D2({}),n})();function Yee(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new ev(n,t,e)}function Kee(n,t,e={}){return e.useHash?new Zj(n,t):new yx(n,t)}function Zee(n){return"guarded"}function FT(n){return[{provide:N6,multi:!0,useValue:n},{provide:Xm,multi:!0,useValue:n}]}let tv=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new j}appInitializer(){return this.injector.get(qj,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(y=>r=y),a=this.injector.get(Vr),s=this.injector.get(t6);return"disabled"===s.initialNavigation?(a.setUpLocationChangeListener(),r(!0)):"enabled"===s.initialNavigation||"enabledBlocking"===s.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?j2(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),a.initialNavigation()):r(!0),i})}bootstrapListener(e){const r=this.injector.get(t6),i=this.injector.get(IT),a=this.injector.get(ev),s=this.injector.get(Vr),y=this.injector.get(cc);e===y.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&s.initialNavigation(),i.setUpPreloading(),a.init(),s.resetRootComponentType(y.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(qt(m1))},n.\u0275prov=r2({token:n,factory:n.\u0275fac}),n})();function e1e(n){return n.appInitializer.bind(n)}function t1e(n){return n.bootstrapListener.bind(n)}const BT=new nn("Router Initializer");function UT(n,t,e,r,i,a,s){try{var y=n[a](s),H=y.value}catch(J){return void e(J)}y.done?t(H):Promise.resolve(H).then(r,i)}function Yf(n){return function(){var t=this,e=arguments;return new Promise(function(r,i){var a=n.apply(t,e);function s(H){UT(a,r,i,s,y,"next",H)}function y(H){UT(a,r,i,s,y,"throw",H)}s(void 0)})}}var GH={prefix:"far",iconName:"flag",icon:[512,512,[61725,127988],"f024","M476.3 0c-6.365 0-13.01 1.35-19.34 4.233c-45.69 20.86-79.56 27.94-107.8 27.94c-59.96 0-94.81-31.86-163.9-31.87c-34.63 0-77.87 8.003-137.2 32.05V24C48 10.75 37.25 0 24 0S0 10.75 0 24v464C0 501.3 10.75 512 24 512s24-10.75 24-24v-104c53.59-23.86 96.02-31.81 132.8-31.81c73.63 0 124.9 31.78 198.6 31.78c31.91 0 68.02-5.971 111.1-23.09C504.1 355.9 512 344.4 512 332.1V30.73C512 11.1 495.3 0 476.3 0zM464 319.8c-30.31 10.82-58.08 16.1-84.6 16.1c-30.8 0-58.31-7-87.44-14.41c-32.01-8.141-68.29-17.37-111.1-17.37c-42.35 0-85.99 9.09-132.8 27.73V84.14l18.03-7.301c47.39-19.2 86.38-28.54 119.2-28.54c28.24 .0039 49.12 6.711 73.31 14.48c25.38 8.148 54.13 17.39 90.58 17.39c35.43 0 72.24-8.496 114.9-26.61V319.8z"]};class Ar{constructor(t,e,r,i,a,s){this._n2HalfTime=t,this._n2A=e,this._n2B=r,this._heHalfTime=i,this._heA=a,this._heB=s}get n2HalfTime(){return this._n2HalfTime}get n2A(){return this._n2A}get n2B(){return this._n2B}get heHalfTime(){return this._heHalfTime}get heA(){return this._heA}get heB(){return this._heB}}class cv{}cv.Buhlmann_ZHL16C=[new Ar(5,1.1696,.5578,1.88,1.6189,.477),new Ar(8,1,.6514,3.02,1.383,.5747),new Ar(12.5,.8618,.7222,4.72,1.1919,.6527),new Ar(18.5,.7562,.7826,6.99,1.0458,.7223),new Ar(27,.62,.8125,10.21,.922,.7582),new Ar(38.3,.5043,.8434,14.48,.8205,.7957),new Ar(54.3,.441,.8693,20.53,.7305,.8279),new Ar(77,.4,.891,29.11,.6502,.8553),new Ar(109,.375,.9092,41.2,.595,.8757),new Ar(146,.35,.9222,55.19,.5545,.8903),new Ar(187,.3295,.9319,70.69,.5333,.8997),new Ar(239,.3065,.9403,90.34,.5189,.9073),new Ar(305,.2835,.9477,115.29,.5181,.9122),new Ar(390,.261,.9544,147.42,.5176,.9171),new Ar(498,.248,.9602,188.24,.5172,.9217),new Ar(635,.2327,.9653,240.03,.5119,.9267)];class I2{static fix(t){return Number(t.toFixed(10))}static roundTwoDecimals(t){return I2.round(t,2)}static round(t,e=0){return I2.adapt(Math.round,t,e)}static floorTwoDecimals(t){return I2.floor(t,2)}static floor(t,e=0){return I2.adapt(Math.floor,t,e)}static ceilTwoDecimals(t){return I2.ceil(t,2)}static ceil(t,e=0){return I2.adapt(Math.ceil,t,e)}static adapt(t,e,r){const i=Math.pow(10,r);return t(e*i)/i}}var tr=(()=>{return(n=tr||(tr={}))[n.noAction=0]="noAction",n[n.error=1]="error",n[n.gasSwitch=2]="gasSwitch",n[n.reachedNoDeco=3]="reachedNoDeco",n[n.lowPpO2=4]="lowPpO2",n[n.highPpO2=5]="highPpO2",n[n.highAscentSpeed=6]="highAscentSpeed",n[n.highDescentSpeed=7]="highDescentSpeed",n[n.brokenCeiling=8]="brokenCeiling",n[n.maxEndExceeded=9]="maxEndExceeded",n[n.switchToHigherN2=10]="switchToHigherN2",tr;var n})();class fne{constructor(t,e,r,i,a){this.timeStamp=t,this.depth=e,this.type=r,this.message=i,this.gas=a}}class xi{static createGasSwitch(t,e,r){return{timeStamp:t,depth:e,type:tr.gasSwitch,gas:r}}static createError(t){return{timeStamp:0,depth:0,type:tr.error,message:t}}static createLowPpO2(t,e){return{timeStamp:t,depth:e,type:tr.lowPpO2}}static createHighPpO2(t,e){return{timeStamp:t,depth:e,type:tr.highPpO2}}static createHighAscentSpeed(t,e){return{timeStamp:t,depth:e,type:tr.highAscentSpeed}}static createHighDescentSpeed(t,e){return{timeStamp:t,depth:e,type:tr.highDescentSpeed}}static createBrokenCeiling(t,e){return{timeStamp:t,depth:e,type:tr.brokenCeiling}}static createMaxEndExceeded(t,e,r){return{timeStamp:t,depth:e,type:tr.maxEndExceeded,gas:r}}static createSwitchToHigherN2(t,e,r){return{timeStamp:t,depth:e,type:tr.switchToHigherN2,gas:r}}}class hV{constructor(){this.items=[]}add(t){this.items.push(t)}}class dne{constructor(t,e){this.time=t,this.depth=e}get notAtSurface(){return this.depth>0}static isDecoDive(t){for(const e of t)if(e.notAtSurface)return!0;return!1}}class n8{constructor(t,e,r){this.seg=t,this.ceil=e,this.err=r}get segments(){return this.seg}get ceilings(){return this.ceil}get errors(){return this.err}static fromErrors(t,e){return new n8(t,[],e)}static fromProfile(t,e){return new n8(t,e,[])}}class n6{constructor(){this.bottomGases=[]}get all(){return this.bottomGases.slice()}get hasBottomGas(){return this.bottomGases.length>=1}static fromTanks(t){const e=new n6;return t.forEach(r=>{e.add(r.gas)}),e}bestGas(t,e,r){const i=e.toBar(r.currentDepth);let a=r.currentGas;return this.bottomGases.forEach((s,y)=>{const H=this.bottomGases[y],J=H.mod(r.maxDecoPpO2),he=t.toDecoStop(J),be=H.end(i,r.oxygenNarcotic);r.currentDepth<=he&&be<=r.maxEndPressure&&(!a||a.fO2<H.fO2)&&(a=H)}),a}add(t){this.bottomGases.push(t)}isRegistered(t){return this.bottomGases.includes(t)}}class wi{static partialPressure(t,e){return t*e}static mod(t,e){return t/e}static bestMix(t,e,r){const a=t/r.toBar(e);return a>1?1:a}static ead(t,e){return wi.end(e,1-t)/w2.nitroxInAir}static end(t,e,r=0){return t*this.narcoticIndex(r,e)}static mnd(t,e,r=0){return t/this.narcoticIndex(r,e)}static ceiling(t,e){const a=.18/t*e;return a<e?e:a}static narcoticIndex(t,e=0){return e+t}}class mr{constructor(t,e){if(this._fO2=t,this._fHe=e,this.contentExceeds100percent())throw new Error("O2 + He can't exceed 100 %")}get fN2(){return 1-this._fO2-this._fHe}get fO2(){return this._fO2}get fHe(){return this._fHe}set fO2(t){this._fO2=t>1?1:t,this.contentExceeds100percent()&&(this._fHe=this.countRemaining(this._fO2))}set fHe(t){this._fHe=t>.99?.99:t,this.contentExceeds100percent()&&(this._fO2=this.countRemaining(this._fHe))}copy(){return new mr(this._fO2,this._fHe)}mod(t){return wi.mod(t,this._fO2)}end(t,e){return wi.end(t,this.fN2,e?this._fO2:0)}mnd(t,e){return wi.mnd(t,this.fN2,e?this._fO2:0)}ceiling(t){return wi.ceiling(this._fO2,t)}compositionEquals(t){return!!t&&this._fO2===t._fO2&&this._fHe===t._fHe}contentCode(){return I2.round(1e4*this._fO2*1e4)+I2.round(1e4*this._fHe)}contentExceeds100percent(){return this._fO2+this._fHe>1}countRemaining(t){return I2.round(1-t,5)}}class w2{static nitroxNames(){return w2.allNames().slice(0,6)}static allNames(){return Array.from(w2.map.keys())}static nameFor(t,e=0){const i=I2.round(100*t),a=I2.round(100*e);return i<=0?"":a<=0?i>=100?w2.oxygenName:21===i?w2.airName:"EAN"+i.toString():`${i>=21?"Helitrox":"Trimix"} ${i.toString()}/${a.toString()}`}static byName(t){if(w2.map.has(t)){const r=w2.map.get(t);return null!=r?r:null}const e=w2.namesRegEx.exec(t);if(e){if(e[1]){const r=Number(e[1])/100;if(r>0)return new mr(r,0)}if(e[2]&&e[3]){const r=Number(e[2])/100,i=Number(e[3])/100;if(r>0&&i>0)return new mr(r,i)}}return null}}w2.o2InAir=.209,w2.nitroxInAir=1-w2.o2InAir,w2.oxygen=new mr(1,0),w2.ean50=new mr(.5,0),w2.ean38=new mr(.38,0),w2.ean36=new mr(.36,0),w2.ean32=new mr(.32,0),w2.trimix3525=new mr(.35,.25),w2.trimix2525=new mr(.25,.25),w2.air=new mr(w2.o2InAir,0),w2.trimix2135=new mr(.21,.35),w2.trimix1845=new mr(.18,.45),w2.trimix1555=new mr(.15,.55),w2.trimix1260=new mr(.12,.6),w2.trimix1070=new mr(.1,.7),w2.airName="Air",w2.oxygenName="Oxygen",w2.namesRegEx=/[EAN](?<fO2>\d{2})|(?<fO2b>\d{2})\/(?<fHe>\d{2})/i,w2.map=new Map([[w2.airName,w2.air],["EAN32",w2.ean32],["EAN36",w2.ean36],["EAN38",w2.ean38],["EAN50",w2.ean50],[w2.oxygenName,w2.oxygen],["Helitrox 35/25",w2.trimix3525],["Helitrox 25/25",w2.trimix2525],["Helitrox 21/35",w2.trimix2135],["Trimix 18/45",w2.trimix1845],["Trimix 15/55",w2.trimix1555],["Trimix 12/60",w2.trimix1260],["Trimix 10/70",w2.trimix1070]]);class pne extends Ar{constructor(t,e){super(t.n2HalfTime,t.n2A,t.n2B,t.heHalfTime,t.heA,t.heB),this._pN2=0,this._pHe=0,this._pTotal=0,this._a=0,this._b=0,this._pN2=wi.partialPressure(e,.79)-.0627,this._pHe=0,this._pTotal=this.pN2+this.pHe}get pN2(){return this._pN2}get pHe(){return this._pHe}get pTotal(){return this._pTotal}get a(){return this._a}get b(){return this._b}ceiling(t){return(this.pTotal-this.a*t)/(t/this.b+1-t)}load(t,e){this._pN2=this.loadGas(t,e.fN2,this.pN2,this.n2HalfTime),this._pHe=this.loadGas(t,e.fHe,this.pHe,this.heHalfTime);const r=this.pTotal;return this._pTotal=this.pN2+this.pHe,this._a=(this.n2A*this.pN2+this.heA*this.pHe)/this.pTotal,this._b=(this.n2B*this.pN2+this.heB*this.pHe)/this.pTotal,this.pTotal-r}loadGas(t,e,r,i){return this.schreinerEquation(r,t.startPressure*e,t.duration,i,t.speed*e)}schreinerEquation(t,e,r,i,a){const y=.01155245301/i;return e+a*(r-1/y)-(e-t-a/y)*Math.exp(-y*r)}}class Cne{constructor(t){this.compartments=[];for(let e=0;e<cv.Buhlmann_ZHL16C.length;e++){const i=new pne(cv.Buhlmann_ZHL16C[e],t);this.compartments.push(i)}}ceiling(t){let e=0;for(let r=0;r<this.compartments.length;r++){const i=this.compartments[r].ceiling(t);i>e&&(e=i)}return e}load(t,e){let r=0;for(let i=0;i<this.compartments.length;i++)r+=this.compartments[i].load(t,e);return r}}class F2{static toSeconds(t){return t*F2.oneMinute}static toMinutes(t){return t/F2.oneMinute}static toDate(t){return new Date(1970,1,1,0,0,t,0)}static secondsFromDate(t){const e=new Date(t);let r=e.getSeconds();return r+=e.getMinutes()*F2.oneMinute,r+=e.getHours()*Math.pow(F2.oneMinute,2),r}}F2.oneSecond=1,F2.oneMinute=60,F2.oneDay=1440*F2.oneMinute;class uv{static validate(t,e){const r=[];if(!t.any()){const i=xi.createError("There needs to be at least one segment at depth.");r.push(i)}return t.withAll(i=>{uv.validateRegisteredGas(r,e,i)}),r}static validateRegisteredGas(t,e,r){if(!e.isRegistered(r.gas)){const a=xi.createError(`Segment ${r.startDepth}-${r.endDepth} has gas not registered in gases.`);t.push(a)}}}class fa{constructor(t,e,r,i){this.startDepth=t,this.endDepth=e,this._gas=r,this.duration=i}static from(t){const e=new fa(t.startDepth,t.endDepth,t._gas,t.duration);return e.tank=t.tank,e}static depthAt(t,e,r){return t+e*r}get gas(){return this._gas}get tank(){return this._tank}set tank(t){this._tank=t,t&&(this._gas=t.gas)}contentEquals(t){return this.speed===t.speed&&this._gas===t._gas}get speed(){return(this.endDepth-this.startDepth)/this.duration}get averageDepth(){return(this.startDepth+this.endDepth)/2}depthAt(t){return fa.depthAt(this.startDepth,this.speed,t)}mergeFrom(t){this.duration+=t.duration,this.endDepth=t.endDepth}}class fr{constructor(){this.segments=[],this._maxDepth=0}static from(t){return fr.fromCollection(t.segments)}static fromCollection(t){const e=new fr;return t.forEach(r=>{const i=fa.from(r);e.segments.push(i),e.updateMaxDepth(i)}),e}static duration(t){let e=0;for(const r of t)e+=r.duration;return e}static averageDepth(t){if(t.length<=0)return 0;let e=0,r=0;return t.forEach(i=>{if(i.duration>0){const a=i.averageDepth*i.duration+r*e;r+=i.duration,e=a/r}}),e}get length(){return this.segments.length}get items(){return this.segments.slice()}get maxDepth(){return this._maxDepth}get currentDepth(){return this.any()?this.last().endDepth:0}get duration(){return fr.duration(this.segments)}add(t,e,r,i){const a=new fa(t,e,r,i);return this.segments.push(a),this.updateMaxDepth(a),a}addFlat(t,e,r){return this.add(t,t,e,r)}addChangeTo(t,e,r){return this.add(this.currentDepth,t,e,r)}mergeFlat(t=0){if(t<0)return this.segments;const e=[];for(let r=this.segments.length-1;r>t;r--){const i=this.segments[r-1],a=this.segments[r];i.contentEquals(a)&&(i.mergeFrom(a),e.push(a))}return this.segments=this.segments.filter(r=>!e.includes(r)),this.segments}remove(t){this.segments=this.segments.filter(e=>e!==t),this.fixStartDepths()}withAll(t){for(let e=0;e<this.segments.length;e++)t(this.segments[e])}any(){return 0!==this.segments.length}last(){return this.segments[this.segments.length-1]}copy(){return fr.from(this)}fixStartDepths(){this.any()&&(this.segments[0].startDepth=0);for(let t=0;t<this.segments.length-1;t++){const r=this.segments[t+1];r.startDepth=this.segments[t].endDepth,this.updateMaxDepth(r)}}deepestPart(){for(let t=this.segments.length-1;t>=0;t--)if(this.segments[t].endDepth===this.maxDepth)return this.items.slice(0,t+1);return[]}get startAscentIndex(){return this.deepestPart().length}get startAscentTime(){const t=this.deepestPart();return fr.duration(t)}updateMaxDepth(t){t.endDepth>this._maxDepth&&(this._maxDepth=t.endDepth)}}class Jc{static createForPlan(t,e,r,i){const a=new fr,s=Jc.descentDuration(t,i);a.add(0,t,r.gas,s).tank=r;let H=F2.toSeconds(e)-s;return H=H<0?0:H,a.addFlat(t,r.gas,H).tank=r,a}static descentDuration(t,e){let r=t/e.descentSpeed;return r=I2.ceil(r,1),r=F2.toSeconds(r),I2.ceil(r)}}var $r=(()=>{return(n=$r||($r={}))[n.fresh=1]="fresh",n[n.brackish=2]="brackish",n[n.salt=3]="salt",$r;var n})();let Zf=(()=>{class n{}return n.fresh=1e3,n.brackish=1020,n.salt=1030,n})(),pV=(()=>{class n{}return n.standard=9.80665,n})(),Jf=(()=>{class n{static pascalToBar(e){return e/n.coefficient}static barToPascal(e){return e*n.coefficient}}return n.coefficient=1e5,n})(),gne=(()=>{class n{static atAltitude(e){return Jf.barToPascal(this.standard)*Math.pow(288.15/(288.15+-.0065*e),.0289644*pV.standard/-.05404308)}}return n.standard=1.01325,n})();class r8{constructor(t){this.options=t}create(){switch(this.options.salinity){case $r.salt:return da.forSaltWater(this.options.altitude);case $r.brackish:return da.forBrackishWater(this.options.altitude);default:return da.forFreshWater(this.options.altitude)}}}class da{constructor(t,e){this.density=t,this._gravity=pV.standard;const r=gne.atAltitude(e);this._surfacePressure=Jf.pascalToBar(r)}get surfacePressure(){return this._surfacePressure}static forSaltWater(t=0){return new da(Zf.salt,t)}static forBrackishWater(t=0){return new da(Zf.brackish,t)}static forFreshWater(t=0){return new da(Zf.fresh,t)}static simple(){const t=new da(Zf.fresh,0);return t._surfacePressure=1,t._gravity=10,t}toBar(t){return Jf.pascalToBar(t*(this.density*this._gravity))+this._surfacePressure}fromBar(t){if(t<this._surfacePressure)throw new Error("Lower pressure than altitude isn`t convertible to depth.");const e=this.density*this._gravity;return Jf.barToPascal(t-this._surfacePressure)/e}}class mne{constructor(t,e,r){this.depthConverter=t,this.options=e,this.tissues=r,this.lowestCeiling=0,this.lowestCeiling=this.depthConverter.surfacePressure+1}ceiling(){let t=this.tolerated();return t<this.depthConverter.surfacePressure&&(t=this.depthConverter.surfacePressure),this.depthConverter.fromBar(t)}toleratedTissues(t,e,r,i){const a=this.tissues.compartments;let s=0;for(let y=0;y<a.length;y++){const H=a[y];let J=s;(t/H.b+H.a-t)*r+t<(e/H.b+H.a-e)*i+e&&(J=(-H.a*H.b*(r*e-i*t)-(1-H.b)*(r-i)*e*t+H.b*(e-t)*H.pTotal)/(-H.a*H.b*(r-i)+(1-H.b)*(i*e-r*t)+H.b*(e-t))),J>=s&&(s=J)}return s}tolerated(){const t=this.options.gfLow,e=this.options.gfHigh,r=this.depthConverter.surfacePressure,i=this.tissues.ceiling(t);return i>this.lowestCeiling&&(this.lowestCeiling=i),this.toleratedTissues(r,this.lowestCeiling,e,t)}}let CV=(()=>{class n{constructor(e){this.options=e,this.averageDepth=0}markAverageDepth(e){const r=e.deepestPart();this.averageDepth=fr.averageDepth(r)}ascent(e){return e>n.sixMeters?e>this.averageDepth/2?this.options.ascentSpeed50perc:this.options.ascentSpeed50percTo6m:this.options.ascentSpeed6m}}return n.sixMeters=6,n})();var k4=(()=>{return(n=k4||(k4={}))[n.never=1]="never",n[n.auto=2]="auto",n[n.always=3]="always",k4;var n})();class s2{static setMediumConservatism(t){t.gfLow=s2.gfLow,t.gfHigh=s2.gfHigh}static useRecreational(t){s2.useGeneralRecommended(t),t.ascentSpeed50perc=s2.ascentSpeed50perc,t.ascentSpeed50percTo6m=s2.ascentSpeed50perc,t.ascentSpeed6m=s2.ascentSpeed50perc,t.lastStopDepth=s2.lastStopDepthRecre}static useRecommended(t){s2.useGeneralRecommended(t),t.ascentSpeed50perc=s2.ascentSpeed50perc,t.ascentSpeed50percTo6m=s2.ascentSpeed50percTo6m,t.ascentSpeed6m=s2.ascentSpeed6m,t.lastStopDepth=s2.lastStopDepth}static useGeneralRecommended(t){t.safetyStop=s2.safetyStopRecre,t.roundStopsToMinutes=s2.roundStopsToMinutes,t.gasSwitchDuration=s2.gasSwitchDuration,t.descentSpeed=s2.descentSpeed,t.oxygenNarcotic=s2.oxygenNarcotic,t.maxEND=s2.maxEND}}s2.altitude=0,s2.saltWater=$r.salt,s2.roundStopsToMinutes=!1,s2.gasSwitchDuration=2,s2.problemSolvingDuration=1,s2.lastStopDepth=3,s2.lastStopDepthRecre=5,s2.safetyStopRecre=k4.auto,s2.decoStopDistance=3,s2.minimumAutoStopDepth=10,s2.addSafetyStop=!0,s2.maxEND=30,s2.oxygenNarcotic=!0,s2.ascentSpeed6m=3,s2.ascentSpeed50percTo6m=6,s2.ascentSpeed50perc=9,s2.descentSpeed=18,s2.gfLow=.4,s2.gfHigh=.85,s2.maxPpO2=1.4,s2.maxDecoPpO2=1.6;class Xc{constructor(t=s2.gfLow,e=s2.gfHigh,r=s2.maxPpO2,i=s2.maxDecoPpO2,a=s2.saltWater){this.gfLow=t,this.gfHigh=e,this.maxPpO2=r,this.maxDecoPpO2=i,this.salinity=a,this.altitude=s2.altitude,this.roundStopsToMinutes=s2.roundStopsToMinutes,this.gasSwitchDuration=s2.gasSwitchDuration,this.safetyStop=s2.safetyStopRecre,this.lastStopDepth=s2.lastStopDepth,this.decoStopDistance=s2.decoStopDistance,this.minimumAutoStopDepth=s2.minimumAutoStopDepth,this.maxEND=s2.maxEND,this.oxygenNarcotic=!0,this.ascentSpeed6m=s2.ascentSpeed6m,this.ascentSpeed50percTo6m=s2.ascentSpeed50percTo6m,this.ascentSpeed50perc=s2.ascentSpeed50perc,this.descentSpeed=s2.descentSpeed,this.problemSolvingDuration=s2.problemSolvingDuration,this.gfLow=t||s2.gfLow,this.gfHigh=e||s2.gfHigh,this.maxPpO2=r||s2.maxPpO2,this.maxDecoPpO2=i||s2.maxDecoPpO2,this.salinity=a||s2.saltWater}loadFrom(t){this.gfLow=t.gfLow||this.gfLow,this.gfHigh=t.gfHigh||this.gfHigh,this.maxPpO2=t.maxPpO2||this.maxPpO2,this.maxDecoPpO2=t.maxDecoPpO2||this.maxDecoPpO2,this.oxygenNarcotic=t.oxygenNarcotic,this.salinity=t.salinity||this.salinity,this.altitude=t.altitude||0===t.altitude?t.altitude:this.altitude,this.roundStopsToMinutes=t.roundStopsToMinutes||this.roundStopsToMinutes,this.gasSwitchDuration=t.gasSwitchDuration||this.gasSwitchDuration,this.problemSolvingDuration=t.problemSolvingDuration||this.problemSolvingDuration,this.lastStopDepth=t.lastStopDepth||this.lastStopDepth,this.decoStopDistance=t.decoStopDistance||this.decoStopDistance,this.minimumAutoStopDepth=t.minimumAutoStopDepth||this.minimumAutoStopDepth,this.safetyStop=t.safetyStop||this.safetyStop,this.maxEND=t.maxEND||this.maxEND,this.ascentSpeed6m=t.ascentSpeed6m||this.ascentSpeed6m,this.ascentSpeed50percTo6m=t.ascentSpeed50percTo6m||this.ascentSpeed50percTo6m,this.ascentSpeed50perc=t.ascentSpeed50perc||this.ascentSpeed50perc,this.descentSpeed=t.descentSpeed||this.descentSpeed}}class fv{constructor(t,e){this.depthConverter=t,this.options=e}toDecoStop(t){const e=this.depthConverter.fromBar(t);return this.roundToDeco(e)}nextStop(t){if(t<=this.options.lastStopDepth)return 0;const e=Math.floor(t/this.options.decoStopDistance)*this.options.decoStopDistance;if(e!==t)return e;const r=t-this.options.decoStopDistance;return r<=this.options.lastStopDepth?this.options.lastStopDepth:r}addSafetyStop(t,e){return(this.options.safetyStop===k4.always||this.options.safetyStop===k4.auto&&e>this.options.minimumAutoStopDepth)&&t===this.options.lastStopDepth}roundToDeco(t){return Math.round(t/this.options.decoStopDistance)*this.options.decoStopDistance}}class gV{constructor(t,e,r,i){this.gases=t,this.segments=e,this.options=r,this.depthConverter=i,this.ceilings=[],this.runTime=0,this.tissues=new Cne(i.surfacePressure),this.gradients=new mne(i,r,this.tissues);const a=e.last();this.currentGas=a.gas,this.bestGasOptions={currentDepth:this.currentDepth,maxDecoPpO2:this.options.maxDecoPpO2,oxygenNarcotic:this.options.oxygenNarcotic,maxEndPressure:this.depthConverter.toBar(this.options.maxEND),currentGas:this.currentGas},this.speeds=new CV(this.options),this.levels=new fv(i,r)}get ascentSpeed(){return this.speeds.ascent(this.currentDepth)}get currentDepth(){return this.segments.currentDepth}get ambientPressure(){return this.depthConverter.toBar(this.currentDepth)}get addSafetyStop(){return this.levels.addSafetyStop(this.currentDepth,this.segments.maxDepth)}get decoStopDuration(){return this.options.roundStopsToMinutes?F2.oneMinute:F2.oneSecond}markAverageDepth(){this.speeds.markAverageDepth(this.segments)}addCeiling(){const t=this.ceiling(),e=new dne(this.runTime,t);this.ceilings.push(e)}ceiling(){return this.gradients.ceiling()}bestDecoGas(){return this.bestGasOptions.currentDepth=this.currentDepth,this.bestGasOptions.currentGas=this.currentGas,this.gases.bestGas(this.levels,this.depthConverter,this.bestGasOptions)}nextStop(t){return this.levels.nextStop(t)}}class Qc{noDecoLimit(t,e,r){const i=new n6;i.add(e);const a=new fr,s=this.duration(t,r.descentSpeed);return a.add(0,t,e,s),this.noDecoLimitMultiLevel(a,i,r)}noDecoLimitMultiLevel(t,e,r){const i=new r8(r).create(),a=new gV(e,t,r,i);return this.swimNoDecoLimit(t,e,a,r)}calculateDecompression(t,e,r){const i=new r8(t).create(),a=r.copy(),s=this.validate(a,e,t,i);if(s.length>0){const he=a.mergeFlat(r.length);return n8.fromErrors(he,s)}const y=new gV(e,a,t,i);this.swimPlan(y),y.markAverageDepth();let H=y.nextStop(y.currentDepth);for(;H>=0&&0!==a.last().endDepth;){this.tryGasSwitch(y);let he=0;for(;H<y.ceiling()&&he<F2.oneDay;){const V1=y.decoStopDuration,F1=y.segments.add(y.currentDepth,y.currentDepth,y.currentGas,V1);this.swim(y,F1),he+=V1}if(y.addSafetyStop){const F1=y.segments.add(y.currentDepth,y.currentDepth,y.currentGas,3*F2.oneMinute);this.swim(y,F1)}const ke=this.duration(y.currentDepth-H,y.ascentSpeed),Ke=y.segments.add(y.currentDepth,H,y.currentGas,ke);this.swim(y,Ke),H=y.nextStop(H)}const J=a.mergeFlat(r.length);return n8.fromProfile(J,y.ceilings)}validate(t,e,r,i){const a=uv.validate(t,e);if(a.length>0)return a;const s=class hne{static validate(t,e,r){const i=[];if(!t.hasBottomGas){const a=xi.createError("At least one bottom gas has to be defined.");return i.push(a),i}return i}}.validate(e,r,i.surfacePressure);return s.length>0?s:[]}tryGasSwitch(t){const e=t.bestDecoGas();if(!e||t.currentGas.compositionEquals(e))return;t.currentGas=e;const i=t.segments.add(t.currentDepth,t.currentDepth,t.currentGas,t.options.gasSwitchDuration*F2.oneMinute);this.swim(t,i)}duration(t,e){return t/F2.toMinutes(e)}swimPlan(t){t.addCeiling(),t.segments.withAll(e=>{this.swim(t,e)})}swim(t,e){let r=e.startDepth;const i=F2.oneSecond;for(let a=0;a<e.duration;a+=i){const s=fa.depthAt(r,e.speed,i),y=new fa(r,s,e.gas,i);this.swimPart(t,y),r=y.endDepth}}swimPart(t,e){const r=this.toLoadSegment(t.depthConverter,e);t.tissues.load(r,e.gas),t.runTime+=e.duration,t.addCeiling()}swimNoDecoLimit(t,e,r,i){if(this.validate(t,e,i,r.depthConverter).length>0)return 0;this.swimPlan(r);const s=this.currentNdl(r.ceilings);return s!==Number.POSITIVE_INFINITY?s:this.predictNoDecoLimit(t,r)}predictNoDecoLimit(t,e){const r=t.last(),i=r.endDepth,a=new fa(i,i,r.gas,F2.oneMinute),s=this.toLoadSegment(e.depthConverter,a);let y=1;for(;e.ceiling()<=0&&y>0;)y=e.tissues.load(s,r.gas),e.runTime+=F2.oneMinute;return 0===y||0===i?Number.POSITIVE_INFINITY:this.floorNdl(e.runTime)}floorNdl(t){let e=F2.toMinutes(t);return e=I2.floor(e),e-1}currentNdl(t){for(let e=0;e<t.length;e+=F2.oneMinute){const r=t[e];if(r.notAtSurface)return this.floorNdl(r.time)}return Number.POSITIVE_INFINITY}toLoadSegment(t,e){const r=t.toBar(e.speed)-t.surfacePressure;return{startPressure:t.toBar(e.startDepth),duration:e.duration,speed:r}}}class Ps{static haveReserve(t){for(let e=0;e<t.length;e++)if(!t[e].hasReserve)return!1;return!0}static resetConsumption(t){t.forEach(e=>{e.consumed=0,e.reserve=0})}static removeTank(t,e){const r=t.filter(i=>i!==e);return Ps.renumberIds(r),r}static renumberIds(t){for(let e=0;e<t.length;e++)t[e].id=e+1}}class Io{constructor(t,e,r){this.size=t,this.startPressure=e,this.id=0,this.consumed=0,this.reserve=0,this._gas=w2.air.copy(),this.o2=r}get gas(){return this._gas}get o2(){const t=100*this.gas.fO2;return this.isInAirRange(t)?I2.round(t):I2.roundTwoDecimals(t)}get he(){return I2.roundTwoDecimals(100*this.gas.fHe)}get volume(){return this.size*this.startPressure}get name(){return w2.nameFor(this._gas.fO2,this._gas.fHe)}get endPressure(){const t=this.startPressure-this.consumed;return t>0?t:0}get percentsRemaining(){return this.endPressure/this.startPressure*100}get percentsReserve(){const t=this.reserve/this.startPressure*100;return t>100?100:t}get hasReserve(){return this.endPressure>=this.reserve}set o2(t){this.isInAirRange(t)?this.gas.fO2=w2.o2InAir:this._gas.fO2=t/100}set he(t){this.gas.fHe=t/100}static createDefault(){return new Io(15,200,100*w2.o2InAir)}assignStandardGas(t){const e=w2.byName(t);!e||(this._gas.fO2=e.fO2,this._gas.fHe=e.fHe)}loadFrom(t){this.size=t.size,this.startPressure=t.startPressure,this.consumed=t.consumed,this.reserve=t.reserve,this.gas.fO2=t._gas.fO2,this.gas.fHe=t._gas.fHe}isInAirRange(t){return 20.9<=t&&t<=21&&0===this.gas.fHe}}class Xf{constructor(t,e,r,i){this.duration=t,this.startTime=0,this.endTime=0,this.averageDepth=0,this._startDepth=0,this._endDepth=0,this.endTime=I2.roundTwoDecimals(t),this._endDepth=e,this._startDepth=r,this.averageDepth=i}get startDepth(){return this._startDepth}get endDepth(){return this._endDepth}static fromSegment(t){return new Xf(t.duration,t.endDepth,t.startDepth,t.averageDepth)}}let vne=(()=>{class n{constructor(e){this.depthConverter=e}static calculateDecompression(e,r,i){const a=n6.fromTanks(r),s=new Qc,y=e.copy();return s.calculateDecompression(i,a,y)}consumeFromTanks(e,r,i,a){if(e.length<2)throw new Error("Profile needs to contain at least 2 segments.");const s=this.emergencyAscent(e,r,i);this.consumeFromTanks2(e,s,r,i,a)}consumeFromTanks2(e,r,i,a,s){if(e.length<2)throw new Error("Profile needs to contain at least 2 segments.");Ps.resetConsumption(a);const y=this.consumeByTanks(e,s.rmv);this.consumeByGases(e,a,s.rmv,y),this.updateReserve(r,a,s.stressRmv)}emergencyAscent(e,r,i){const s=fr.fromCollection(e).deepestPart(),y=fr.fromCollection(s),H=n6.fromTanks(i),be=(new Qc).calculateDecompression(r,H,y).segments,ke=be.slice(s.length,be.length);return this.addSolvingSegment(ke,r.problemSolvingDuration),ke}calculateMaxBottomTime(e,r,i,a){const s=this.createTestProfile(e),y=s.last(),H=this.findRightUpperInterval(s,y,r,i,a),J=this.findMaximalAddedDuration(s,y,r,i,a,H);if(0===J)return 0;const he=F2.toMinutes(e.duration+J);return I2.floor(he)}findRightUpperInterval(e,r,i,a,s){const y=40*F2.oneMinute;for(this.consumeFromProfile(e,i,a,s);Ps.haveReserve(i);)r.duration+=y,this.consumeFromProfile(e,i,a,s);let H=r.duration-y;return H=H<0?0:H,{left:H,right:r.duration}}findMaximalAddedDuration(e,r,i,a,s,y){for(;y.right-y.left>F2.oneSecond;){const H=y.left+(y.right-y.left)/2;r.duration=H,this.consumeFromProfile(e,i,a,s),Ps.haveReserve(i)?y.left=H:y.right=H}return y.left}consumeFromProfile(e,r,i,a){const s=n.calculateDecompression(e,r,a);this.consumeFromTanks(s.segments,a,r,i)}createTestProfile(e){const r=e.copy(),i=e.last();return r.addFlat(i.endDepth,i.gas,0),r}updateReserve(e,r,i){const a=this.toBeConsumed(e,i,s=>!0);for(let s=0;s<=r.length-1;s++){const y=r[s],H=y.gas.contentCode();let J=a.get(H)||0;J=this.addReserveToTank(y,J),a.set(H,J)}r[0].reserve<n.minimumRockBottom&&(r[0].reserve=n.minimumRockBottom)}addReserveToTank(e,r){const i=I2.ceil(r/e.size),a=i+e.reserve>e.startPressure?e.startPressure-e.reserve:i;return e.reserve+=a,this.extractRemaining(r,a,e.size)}addSolvingSegment(e,r){if(0===e.length)return;const a=e[0].startDepth,s=new fa(a,a,e[0].gas,r*F2.oneMinute);e.unshift(s)}consumeByGases(e,r,i,a){const s=this.toBeConsumedYet(e,i,a,y=>!y.tank);for(let y=r.length-1;y>=0;y--){const H=r[y],J=H.gas.contentCode();let he=s.get(J)||0;he=this.consumeFromTank(H,he),s.set(J,he)}}consumeByTanks(e,r){const i=new Map,a=F2.toMinutes(r);return e.forEach(s=>{if(s.tank){const y=s.tank,H=s.gas.contentCode(),J=Xf.fromSegment(s),he=this.consumedBySegment(J,a),be=this.consumeFromTank(y,he);let ke=i.get(H)||0;ke+=be,i.set(H,ke)}}),i}consumeFromTank(e,r){const i=I2.ceil(r/e.size),a=i>e.endPressure?e.endPressure:i;return e.consumed+=a,this.extractRemaining(r,a,e.size)}extractRemaining(e,r,i){return(e-=r*i)<0?0:e}toBeConsumed(e,r,i){return this.toBeConsumedYet(e,r,new Map,i)}toBeConsumedYet(e,r,i,a){const s=F2.toMinutes(r);for(let y=0;y<e.length;y++){const H=e[y];if(a(H)){const he=H.gas.contentCode(),be=Xf.fromSegment(H),ke=this.consumedBySegment(be,s);let Ke=i.get(he)||0;Ke+=ke,i.set(he,Ke)}}return i}consumedBySegment(e,r){const i=this.depthConverter.toBar(e.averageDepth);return e.duration*i*r}}return n.minimumRockBottom=30,n})();class yne{constructor(t){this.depthConverter=t,this.minimumPpO2=.5}calculateForProfile(t){let e=0;return t.forEach(r=>{e+=this.calculate(r.gas.fO2,r.startDepth,r.endDepth,r.duration)}),e}calculate(t,e,r,i){const y=t*this.depthConverter.toBar((e+r)/2);if(y<=this.minimumPpO2)return 0;const H=this.exponentByPpO2(y);return i*Math.exp(H)}exponentByPpO2(t){return t<=1.5?1.93873*t-11.7853:9.80829*t-23.6349}}let i8=(()=>{class n{constructor(e=n.defaultSac,r=s2.maxPpO2){this.rmv=e,this.maxPpO2=r,this.maxDecoPpO2=s2.maxDecoPpO2}get stressRmv(){return 3*this.rmv}static gasSac(e,r){return e/r}gasSac(e){return n.gasSac(this.rmv,e.size)}loadFrom(e){this.rmv=e.rmv,this.maxPpO2=e.maxPpO2,this.maxDecoPpO2=e.maxDecoPpO2}}return n.defaultSac=20,n})();class mV{constructor(t,e){this.depthLevels=t,this.depthConverter=e}ead(t,e){const r=t/100,i=this.depthConverter.toBar(e),a=wi.ead(r,i);if(a<=this.depthConverter.surfacePressure)return 0;let s=this.depthConverter.fromBar(a);return s=I2.fix(s),I2.ceilTwoDecimals(s)}bestMix(t,e){let r=100*wi.bestMix(t,e,this.depthConverter);return r=I2.fix(r),I2.floor(r,2)}mod(t,e){let i=wi.mod(t,e/100);return i=this.depthConverter.fromBar(i),i=I2.fix(i),I2.floor(i,2)}gasSwitch(t,e){const i=wi.mod(t,e/100);return this.depthLevels.toDecoStop(i)}partialPressure(t,e){const r=this.depthConverter.toBar(e);let i=wi.partialPressure(r,t)/100;return i=I2.fix(i),I2.ceilTwoDecimals(i)}}let dv=(()=>{class n{constructor(e){this.depthConverter=e,this.minPressure=.5}calculateForProfile(e){let r=0;return e.forEach(i=>{r+=this.calculate(i.duration,i.gas.fO2,i.startDepth,i.endDepth)}),r}calculate(e,r,i,a){let s=F2.toMinutes(e),J=this.depthConverter.toBar(i)*r,he=this.depthConverter.toBar(a)*r;if(J<=this.minPressure&&he<=this.minPressure)return 0;J<=this.minPressure?(s=s*(he-this.minPressure)/(he-J),J=.501):he<=this.minPressure&&(s=s*(J-this.minPressure)/(J-he),he=.501);const be=J+he-1;return Math.pow(be,5/6)*(1-5*Math.pow(he-J,2)/216/Math.pow(be,2))*s}}return n.dailyLimit=300,n})();class _ne{constructor(t,e){this.startDepth=t,this.endDepth=e}get minDepth(){return Math.min(this.startDepth,this.endDepth)}get maxDepth(){return Math.max(this.startDepth,this.endDepth)}get isDescent(){return this.startDepth<this.endDepth}get isFlat(){return this.startDepth===this.endDepth}get isAscent(){return this.startDepth>this.endDepth}}class bne{constructor(t,e,r,i){this.startAscentIndex=t,this.profile=e,this.depthConverter=r,this.options=i,this.events=new hV,this.elapsed=0,this.index=0,this.fixedMnd=!0,this._mndBars=0,this.speeds=new CV(i);const a=fr.fromCollection(e);this.speeds.markAverageDepth(a),this._mndBars=r.toBar(i.maxEND)}get previous(){return this.index>0?this.profile[this.index-1]:null}get isBeforeDecoAscent(){return this.index<this.startAscentIndex}get maxPpo(){return this.isBeforeDecoAscent?this.options.maxPpO2:this.options.maxDecoPpO2}get current(){return this.profile[this.index]}get switchingGas(){return!!this.previous&&!this.current.gas.compositionEquals(this.previous.gas)}get switchingTank(){return!!this.previous&&!!this.previous.tank&&!!this.current.tank&&this.previous.tank!==this.current.tank}get maxMnd(){return this._mndBars}gasEnd(t){return this.current.gas.end(t,this.options.oxygenNarcotic)}}class hv{static fromProfile(t,e,r,i){const a=new r8(i).create(),s=new bne(t,e,a,i),y=new Mne(s.events);for(s.index=0;s.index<e.length;s.index++){const H=this.toPressureSegment(s.current,a);this.addHighPpO2(s,H),this.addLowPpO2(s,H),this.addGasSwitch(s),this.addUserTankSwitch(s),this.addHighDescentSpeed(s),this.addHighAscentSpeed(s),this.addSwitchHighN2(s),this.addMndExceeded(s,H),y.assignSegment(s.current),hv.addBrokenCeiling(y,r,s.current),s.elapsed+=s.current.duration}return s.events}static addHighAscentSpeed(t){const e=t.current;let r=F2.toSeconds(e.speed);if(r=I2.roundTwoDecimals(r),-r>t.speeds.ascent(e.startDepth)){const i=xi.createHighAscentSpeed(t.elapsed,e.startDepth);t.events.add(i)}}static addHighDescentSpeed(t){const e=t.current;if(F2.toSeconds(e.speed)>t.options.descentSpeed){const i=xi.createHighDescentSpeed(t.elapsed,e.startDepth);t.events.add(i)}}static addGasSwitch(t){if(t.switchingGas){const e=t.current,r=xi.createGasSwitch(t.elapsed,e.startDepth,e.gas);t.events.add(r)}}static addUserTankSwitch(t){if(t.switchingTank){const e=t.current,r=xi.createGasSwitch(t.elapsed,e.startDepth,e.gas);t.events.add(r)}}static toPressureSegment(t,e){const r=e.toBar(t.startDepth),i=e.toBar(t.endDepth);return new _ne(r,i)}static addHighPpO2(t,e){if(e.isDescent||t.isBeforeDecoAscent&&t.switchingGas){const r=t.current.gas.mod(t.maxPpo);if(e.maxDepth>r){const i=t.depthConverter.fromBar(r),a=xi.createHighPpO2(t.elapsed,i);t.events.add(a)}}}static addLowPpO2(t,e){const r=t.current.gas.ceiling(t.depthConverter.surfacePressure);if(e.minDepth<r&&t.switchingGas||e.startDepth>r&&r>e.endDepth&&e.isAscent||0===t.current.startDepth&&e.startDepth<r&&e.isDescent){const a=t.depthConverter.fromBar(r),s=xi.createLowPpO2(t.elapsed,a);t.events.add(s)}}static addBrokenCeiling(t,e,r){for(;t.lastCeilingIndex<t.currentSegmentEndTime&&t.lastCeilingIndex<e.length-1;){const i=e[t.lastCeilingIndex];t.lastCeilingIndex++;const a=t.belowCeiling(i,r);if(!a&&t.fixedBrokenCeiling){const s=xi.createBrokenCeiling(i.time,i.depth);t.events.add(s),t.fixedBrokenCeiling=!1;break}if(a&&!t.fixedBrokenCeiling&&(t.fixedBrokenCeiling=!0),i.time>t.currentSegmentEndTime)break}}static addSwitchHighN2(t){const e=t.current,r=t.previous;if(t.switchingGas&&r){const i=e.gas.fN2-r.gas.fN2,a=e.gas.fHe-r.gas.fHe;if(r.gas.fHe>0&&5*i>-a){const s=xi.createSwitchToHigherN2(t.elapsed,e.startDepth,e.gas);t.events.add(s)}}}static addMndExceeded(t,e){const r=t.current,i=t.gasEnd(e.startDepth);t.maxMnd<i&&t.fixedMnd&&this.addMndEvent(t,t.elapsed,r.startDepth);const a=t.gasEnd(e.endDepth);t.maxMnd<a&&t.fixedMnd&&this.addMndEvent(t,t.elapsed+r.duration,r.endDepth),t.fixedMnd=a<=t.maxMnd}static addMndEvent(t,e,r){const a=xi.createMaxEndExceeded(e,r,t.current.gas);t.events.add(a),t.fixedMnd=!0}}class Mne{constructor(t){this.events=t,this.lastCeilingIndex=0,this.currentSegmentStartTime=0,this.currentSegmentEndTime=0,this.fixedBrokenCeiling=!0}assignSegment(t){this.currentSegmentStartTime=this.currentSegmentEndTime,this.currentSegmentEndTime=this.currentSegmentStartTime+t.duration}belowCeiling(t,e){return e.depthAt(t.time-this.currentSegmentStartTime)>=t.depth}}class xne{constructor(t){this.depthConverter=t}calculateSac(t,e,r,i){const a=this.depthConverter.toBar(t);return I2.ceilTwoDecimals(e*r/i/a)}calculateDuration(t,e,r,i){const a=this.depthConverter.toBar(t);return I2.ceil(e*r/i/a)}calculateUsed(t,e,r,i){const a=this.depthConverter.toBar(t);return I2.ceil(r*a*i/e)}}class pv{get name(){return"Metric"}get lengthShortcut(){return"m"}get pressureShortcut(){return"bar"}get volumeShortcut(){return"l"}get altitudeShortcut(){return"m.a.s.l"}get lastSpeedLevel(){return 6}get autoStopLevel(){return 10}get stopsDistance(){return 3}toMeters(t){return t}fromMeters(t){return t}toBar(t){return t}fromBar(t){return t}toLiter(t){return t}fromLiter(t){return t}fromTankLiters(t){return t}toTankLiters(t){return t}}let wne=(()=>{class n{constructor(){this.workingPressure=206.84}get name(){return"Imperial"}get lengthShortcut(){return"ft"}get pressureShortcut(){return"psi"}get volumeShortcut(){return"cuft"}get altitudeShortcut(){return"ft.a.s.l"}get lastSpeedLevel(){return 20}get autoStopLevel(){return 33}get stopsDistance(){return 10}toMeters(e){return e*n.footRate}fromMeters(e){return e/n.footRate}toBar(e){return e/n.psiRate}fromBar(e){return e*n.psiRate}toLiter(e){return e*n.cftRate}fromLiter(e){return e/n.cftRate}fromTankLiters(e){return this.fromLiter(e)*this.workingPressure}toTankLiters(e){return this.toLiter(e)/this.workingPressure}}return n.psiRate=14.503773773022,n.cftRate=28.316846592,n.footRate=.3048,n})();class dr{constructor(){this._imperialUnits=!1,this.current=new pv,this.ranges=new Cv(this.current),this.ranges$=new lr(this.ranges)}get length(){return this.current.lengthShortcut}get pressure(){return this.current.pressureShortcut}get volume(){return this.current.volumeShortcut}get altitude(){return this.current.altitudeShortcut}get speed(){return this.length+r6}get sac(){return this.pressure+r6}get rmv(){return this.volume+r6}get lastSpeedLevel(){return this.current.lastSpeedLevel}get autoStopLevel(){return this.current.autoStopLevel}get stopsDistance(){return this.current.stopsDistance}get imperialUnits(){return this._imperialUnits}set imperialUnits(t){this._imperialUnits=t,this._imperialUnits?(this.current=new wne,this.ranges=new Lne(this.current)):(this.current=new pv,this.ranges=new Cv(this.current)),this.ranges$.next(this.ranges)}static createMetricRanges(){return new Cv(new pv)}toLiter(t){return this.current.toLiter(t)}fromLiter(t){return this.current.fromLiter(t)}toMeters(t){return this.current.toMeters(t)}fromMeters(t){return this.current.fromMeters(t)}toBar(t){return this.current.toBar(t)}fromBar(t){return this.current.fromBar(t)}fromTankLiters(t){return this.current.fromTankLiters(t)}toTankLiters(t){return this.current.toTankLiters(t)}}const r6="/min",w3=(n,t)=>`${n[0]} - ${n[1]} ${t}`;class Cv{constructor(t){this.units=t,this.tankSize=[1,50],this.tankSizeLabel=w3(this.tankSize,this.units.volumeShortcut),this.tankPressure=[30,350],this.tankPressureLabel=w3(this.tankPressure,this.units.pressureShortcut),this.nitroxOxygen=[21,100],this.nitroxOxygenLabel=w3(this.nitroxOxygen,"%"),this.trimixOxygen=[1,100],this.trimixOxygenLabel=w3(this.trimixOxygen,"%"),this.tankHe=[0,99],this.tankHeLabel=w3(this.tankHe,"%"),this.diverRmv=[5,90],this.diverRmvLabel=w3(this.diverRmv,this.units.volumeShortcut+r6),this.ppO2=[.21,3],this.depth=[1,350],this.depthLabel=w3(this.depth,this.units.lengthShortcut),this.narcoticDepth=[1,100],this.narcoticDepthLabel=w3(this.narcoticDepth,this.units.lengthShortcut),this.lastStopDepth=[3,6],this.lastStopDepthLabel=w3(this.lastStopDepth,this.units.lengthShortcut),this.duration=[1,1440],this.durationLabel=w3(this.duration,"min"),this.altitude=[0,5e3],this.altitudeLabel=w3(this.altitude,this.units.altitudeShortcut),this.speed=[1,100],this.speedLabel=w3(this.speed,this.units.lengthShortcut+r6)}}class Lne{constructor(t){this.units=t,this.diverRmv=[.17,3.178],this.diverRmvLabel=w3(this.diverRmv,this.units.volumeShortcut+r6),this.depth=[3,1150],this.depthLabel=w3(this.depth,this.units.lengthShortcut),this.tankSize=[1,300],this.tankSizeLabel=w3(this.tankSize,this.units.volumeShortcut),this.tankPressure=[400,5100],this.tankPressureLabel=w3(this.tankPressure,this.units.pressureShortcut),this.nitroxOxygen=[21,100],this.nitroxOxygenLabel=w3(this.nitroxOxygen,"%"),this.trimixOxygen=[1,100],this.trimixOxygenLabel=w3(this.trimixOxygen,"%"),this.tankHe=[0,99],this.tankHeLabel=w3(this.tankHe,"%"),this.ppO2=[.21,3],this.narcoticDepth=[1,300],this.narcoticDepthLabel=w3(this.narcoticDepth,this.units.lengthShortcut),this.lastStopDepth=[10,20],this.lastStopDepthLabel=w3(this.lastStopDepth,this.units.lengthShortcut),this.duration=[1,1440],this.durationLabel=w3(this.duration,"min"),this.altitude=[0,5e3],this.altitudeLabel=w3(this.altitude,this.units.altitudeShortcut),this.speed=[1,300],this.speedLabel=w3(this.speed,this.units.lengthShortcut+r6)}}class Qf{constructor(t,e){this.gfLow=t,this.gfHeigh=e}}let vV=(()=>{class n{constructor(){this.lowName="Low (45/95)",this.mediumName="Medium (40/85)",this.highName="High (30/75)",this.empty=new Qf(1,1),this.gfMap=new Map,this.gfMap.set(this.lowName,new Qf(.45,.95)),this.gfMap.set(this.mediumName,new Qf(s2.gfLow,s2.gfHigh)),this.gfMap.set(this.highName,new Qf(.3,.75))}labelFor(e,r){for(const i of this.gfMap.keys()){const a=this.gfMap.get(i)||this.empty;if(a.gfLow===e&&a.gfHeigh===r)return i}return""}get(e){return this.gfMap.get(e)||this.empty}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r2({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),i6=(()=>{class n{constructor(){this.standardGradients=new vV,this.options=new Xc,this.options.salinity=$r.fresh,this.options.safetyStop=k4.auto}get altitude(){return this.options.altitude}get ascentSpeed50perc(){return this.options.ascentSpeed50perc}get ascentSpeed50percTo6m(){return this.options.ascentSpeed50percTo6m}get ascentSpeed6m(){return this.options.ascentSpeed6m}get decoStopDistance(){return this.options.decoStopDistance}get descentSpeed(){return this.options.descentSpeed}get gasSwitchDuration(){return this.options.gasSwitchDuration}get gfLow(){return this.options.gfLow}get gfHigh(){return this.options.gfHigh}get lastStopDepth(){return this.options.lastStopDepth}get maxDecoPpO2(){return this.options.maxDecoPpO2}get maxEND(){return this.options.maxEND}get maxPpO2(){return this.options.maxPpO2}get minimumAutoStopDepth(){return this.options.minimumAutoStopDepth}get oxygenNarcotic(){return this.options.oxygenNarcotic}get problemSolvingDuration(){return this.options.problemSolvingDuration}get roundStopsToMinutes(){return this.options.roundStopsToMinutes}get safetyStop(){return this.options.safetyStop}get salinity(){return this.options.salinity}set altitude(e){this.options.altitude=e}set ascentSpeed50perc(e){e<1||(this.options.ascentSpeed50perc=e)}set ascentSpeed50percTo6m(e){e<1||(this.options.ascentSpeed50percTo6m=e)}set ascentSpeed6m(e){e<1||(this.options.ascentSpeed6m=e)}set decoStopDistance(e){this.options.decoStopDistance=e}set descentSpeed(e){e<1||(this.options.descentSpeed=e)}set gasSwitchDuration(e){this.options.gasSwitchDuration=e}set gfLow(e){this.options.gfLow=e}set gfHigh(e){this.options.gfHigh=e}set lastStopDepth(e){this.options.lastStopDepth=e}set maxDecoPpO2(e){this.options.maxDecoPpO2=e}set maxEND(e){this.options.maxEND=e}set maxPpO2(e){this.options.maxPpO2=e}set minimumAutoStopDepth(e){this.options.minimumAutoStopDepth=e}set oxygenNarcotic(e){this.options.oxygenNarcotic=e}set problemSolvingDuration(e){this.options.problemSolvingDuration=e}set roundStopsToMinutes(e){this.options.roundStopsToMinutes=e}set safetyStop(e){this.options.safetyStop=e}set salinity(e){this.options.salinity=e}useRecreational(){s2.useRecreational(this.options)}useRecommended(){s2.useRecommended(this.options)}useSafetyOff(){this.options.safetyStop=k4.never}useSafetyAuto(){this.options.safetyStop=k4.auto}useSafetyOn(){this.options.safetyStop=k4.always}loadFrom(e){this.options.loadFrom(e)}applyDiver(e){this.options.maxPpO2=e.maxPpO2,this.options.maxDecoPpO2=e.maxDecoPpO2}resetToSimple(){""===this.standardGradients.labelFor(this.gfLow,this.gfHigh)&&s2.setMediumConservatism(this.options)}getOptions(){return this.options}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r2({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ha=(()=>{return(n=ha||(ha={}))[n.ALL=1]="ALL",n[n.HALF=2]="HALF",n[n.THIRD=3]="THIRD",ha;var n})();class ed{constructor(t,e){this.units=t,this.segment=e}get duration(){return F2.toMinutes(this.segment.duration)}get startDepth(){return this.units.fromMeters(this.segment.startDepth)}get endDepth(){return this.units.fromMeters(this.segment.endDepth)}get tank(){return this.segment.tank}get tankLabel(){return ed.tankLabel(this.units,this.segment.tank)}set duration(t){this.segment.duration=F2.toSeconds(t)}set endDepth(t){const e=this.units.toMeters(t);this.segment.endDepth=e}set tank(t){this.segment.tank=t}static tankLabel(t,e){if(!e)return"";const r=t.fromTankLiters(e.size),i=t.fromBar(e.startPressure);return`${e.id}. ${e.name}/${r}/${i}`}}class td{constructor(t,e,r,i,a){this.strategy=t,this.noDecoTime=0,this._segments=new fr,this.onReloaded=new j,this.reloaded=this.onReloaded.asObservable(),this.reset(e,r,i,a)}get length(){return this._segments.length}get minimumSegments(){return this.length>1}get notEnoughTime(){return 2===this.length&&0===this.segments[1].duration}get segments(){return this._segments.items}get maxDepth(){return this._segments.maxDepth}get startAscentIndex(){return this._segments.startAscentIndex}get startAscentTime(){return this._segments.startAscentTime}get duration(){return F2.toMinutes(this._segments.duration)}get availablePressureRatio(){return this.strategy===ha.THIRD?2/3:1}get needsReturn(){return this.strategy!==ha.ALL}get noDecoExceeded(){return this.duration>this.noDecoTime}copySegments(){return this._segments.copy()}setSimple(t,e,r,i){this.reset(t,e,r,i),this.onReloaded.next({})}assignDepth(t,e,r){this._segments=Jc.createForPlan(t,this.duration,e,r),this.onReloaded.next({})}assignDuration(t,e,r){this._segments=Jc.createForPlan(this.maxDepth,t,e,r),this.onReloaded.next({})}addSegment(t){const e=this._segments.last();this._segments.addChangeTo(e.endDepth,t.gas,td.defaultDuration).tank=t}removeSegment(t){this._segments.remove(t)}fixDepths(){this._segments.fixStartDepths()}loadFrom(t){this._segments=fr.fromCollection(t),this.onReloaded.next({})}resetSegments(t,e){this.segments.forEach(r=>{r.tank===t&&(r.tank=e)}),this.onReloaded.next({})}reset(t,e,r,i){this._segments=Jc.createForPlan(t,e,r,i)}}td.defaultDuration=10*F2.oneMinute;class Dne{constructor(){this.calculated=!1,this.diveInfoCalculated=!1,this.profileCalculated=!1,this.calculationFailed=!1,this.maxTime=0,this.timeToSurface=0,this.turnPressure=0,this.turnTime=0,this.needsReturn=!1,this.notEnoughGas=!1,this.notEnoughTime=!1,this.noDecoExceeded=!1,this.emergencyAscentStart=0,this.averageDepth=0,this.otu=0,this.cns=0,this.wayPoints=[],this.ceilings=[],this.events=[]}get totalDuration(){return 0===this.wayPoints.length?0:this.wayPoints[this.wayPoints.length-1].endTime}get hasErrors(){return this.calculated&&(this.calculationFailed||this.notEnoughTime)}get showResults(){return this.calculated&&!this.hasErrors}get otuExceeded(){return this.otu>.8*dv.dailyLimit}get cnsExeeded(){return this.cns>.8}emptyProfile(){this.wayPoints=[],this.ceilings=[],this.events=[]}}var vr=(()=>{return(n=vr||(vr={}))[n.hover=0]="hover",n[n.ascent=1]="ascent",n[n.descent=2]="descent",n[n.switch=3]="switch",vr;var n})();class nd{constructor(t,e,r=0){this.duration=t,this.selected=!1,this.startTime=0,this.endTime=0,this._startDepth=0,this._endDepth=0,this.speed=0,this.action=vr.hover,this._gasName="",this.endTime=I2.roundTwoDecimals(t),this._endDepth=e,this._startDepth=r,this.updateSwimAction()}get gasName(){return this._gasName}get startDepth(){return this._startDepth}get endDepth(){return this._endDepth}get averageDepth(){return(this.startDepth+this.endDepth)/2}get swimAction(){return this.action}get label(){if(this.startDepth!==this.endDepth)return"";const t=`${this.endDepth} m`;let e=I2.round(this.duration).toString();return e+=" min.",`${t},${e}`}static fromSegment(t){const e=new nd(t.duration,t.endDepth),r=w2.nameFor(t.gas.fO2,t.gas.fHe);return e._gasName=r,e.speed=t.speed,e}asGasSwitch(){this.action=vr.switch}toLevel(t){const e=nd.fromSegment(t);return e.startTime=this.endTime,e.endTime=I2.roundTwoDecimals(this.endTime+t.duration),e._startDepth=this.endDepth,e.updateSwimAction(),e}fits(t){return this.startTime<=t&&t<this.endTime}depthAt(t){return fa.depthAt(this.startDepth,this.speed,t)}updateSwimAction(){this.action=vr.hover,this.startDepth<this.endDepth&&(this.action=vr.descent),this.startDepth>this.endDepth&&(this.action=vr.ascent)}}class rd{constructor(t,e,r,i){this.origin=t,this.wayPoints=e,this.ceilings=r,this.events=i}get endsOnSurface(){const t=this.wayPoints.length;return t>0&&0===this.wayPoints[t-1].endDepth}static newEmpty(t){return new rd([],[],[],t)}}class Tn{static toTanks(t){const e=[];return t.forEach(r=>{const i=new Io(r.size,r.startPressure,0);i.id=r.id,i.gas.fO2=r.gas.fO2,i.gas.fHe=r.gas.fHe,i.consumed=r.consumed,i.reserve=r.reserve,e.push(i)}),Ps.renumberIds(e),e}static fromTanks(t){const e=[];return t.forEach(r=>{e.push({id:r.id,size:r.size,startPressure:r.startPressure,consumed:r.consumed,reserve:r.reserve,gas:{fO2:r.gas.fO2,fHe:r.gas.fHe}})}),e}static toSegments(t,e){const r=[];for(let i=0;i<t.length;i++){const a=t[i],s=w2.air.copy();s.fO2=a.gas.fO2,s.fHe=a.gas.fHe;const y=new fa(a.startDepth,a.endDepth,s,a.duration);a.tankId>0&&a.tankId<=e.length&&(y.tank=e[a.tankId-1]),r.push(y)}return r}static fromSegments(t){const e=[];return t.forEach(r=>{e.push({startDepth:r.startDepth,endDepth:r.endDepth,duration:r.duration,tankId:r.tank?r.tank.id:0,gas:{fO2:r.gas.fO2,fHe:r.gas.fHe}})}),e}static toProfile(t,e){const r=Tn.toSegments(t.segments,e);return n8.fromProfile(r,t.ceilings)}static fromProfile(t){return{segments:Tn.fromSegments(t.segments),ceilings:t.ceilings,errors:Tn.fromEvents(t.errors)}}static toEvents(t){const e=new hV;return t.forEach(r=>{var i,a;const s=new fne(r.timeStamp,r.depth,r.type,r.message);r.gas&&(s.gas=new mr(null===(i=r.gas)||void 0===i?void 0:i.fO2,null===(a=r.gas)||void 0===a?void 0:a.fHe)),e.add(s)}),e}static fromEvents(t){const e=[];return t.forEach(r=>{const i={timeStamp:r.timeStamp,depth:r.depth,type:r.type,message:r.message};r.gas&&(i.gas={fO2:r.gas.fO2,fHe:r.gas.fHe}),e.push(i)}),e}static fromDiver(t){return{rmv:t.rmv,maxPpO2:t.maxPpO2,maxDecoPpO2:t.maxDecoPpO2}}static toDiver(t){const e=new i8(t.rmv,t.maxPpO2);return e.maxDecoPpO2=t.maxDecoPpO2,e}static fromOptions(t){return{gfLow:t.gfLow,gfHigh:t.gfHigh,maxPpO2:t.maxPpO2,maxDecoPpO2:t.maxDecoPpO2,salinity:t.salinity,altitude:t.altitude,roundStopsToMinutes:t.roundStopsToMinutes,gasSwitchDuration:t.gasSwitchDuration,safetyStop:t.safetyStop,lastStopDepth:t.lastStopDepth,decoStopDistance:t.decoStopDistance,minimumAutoStopDepth:t.minimumAutoStopDepth,maxEND:t.maxEND,oxygenNarcotic:t.oxygenNarcotic,ascentSpeed6m:t.ascentSpeed6m,ascentSpeed50percTo6m:t.ascentSpeed50percTo6m,ascentSpeed50perc:t.ascentSpeed50perc,descentSpeed:t.descentSpeed,problemSolvingDuration:t.problemSolvingDuration}}static toOptions(t){const e=new Xc(t.gfLow,t.gfHigh,t.maxPpO2,t.maxDecoPpO2,t.salinity);return e.altitude=t.altitude,e.roundStopsToMinutes=t.roundStopsToMinutes,e.gasSwitchDuration=t.gasSwitchDuration,e.safetyStop=t.safetyStop,e.lastStopDepth=t.lastStopDepth,e.decoStopDistance=t.decoStopDistance,e.minimumAutoStopDepth=t.minimumAutoStopDepth,e.maxEND=t.maxEND,e.oxygenNarcotic=t.oxygenNarcotic,e.ascentSpeed6m=t.ascentSpeed6m,e.ascentSpeed50percTo6m=t.ascentSpeed50percTo6m,e.ascentSpeed50perc=t.ascentSpeed50perc,e.descentSpeed=t.descentSpeed,e.problemSolvingDuration=t.problemSolvingDuration,e}}class gv{static calculateDecompression(t){const e=Tn.toTanks(t.tanks),r=Tn.toSegments(t.plan,e),i=fr.fromCollection(r),a=n6.fromTanks(e),s=new Qc,y=Tn.toOptions(t.options),H=s.calculateDecompression(y,a,i),J=Tn.fromProfile(H),he=hv.fromProfile(i.startAscentIndex,H.segments,H.ceilings,y);return{profile:J,events:Tn.fromEvents(he.items)}}static diveInfo(t){const e=Tn.toTanks(t.tanks),r=n6.fromTanks(e),i=Tn.toSegments(t.plan,e),a=fr.fromCollection(i),s=new Qc,y=Tn.toOptions(t.options),H=s.noDecoLimitMultiLevel(a,r,y),J=new r8(t.options).create();return{noDeco:H,otu:new dv(J).calculateForProfile(i),cns:new yne(J).calculateForProfile(i)}}static calculateConsumption(t){const e=new r8(t.options).create(),r=new vne(e),i=Tn.toTanks(t.tanks),a=Tn.toSegments(t.profile,i),s=Tn.toSegments(t.plan,i),y=fr.fromCollection(s),H=new i8(t.diver.rmv,t.options.maxPpO2),J=Tn.toOptions(t.options),he=r.calculateMaxBottomTime(y,i,H,J),be=r.emergencyAscent(a,J,i);let ke=fr.duration(be);return ke=F2.toMinutes(ke),r.consumeFromTanks2(a,be,J,i,H),{maxTime:he,timeToSurface:ke,tanks:Tn.fromTanks(i)}}}class mv{createProfileWorker(){const t=new j,e=new j;return{calculated:t,calculate:r=>{this.tryAction(i=>gv.calculateDecompression(i),r,t,e)},failed:e}}createDiveInfoWorker(){const t=new j,e=new j;return{calculated:t,calculate:r=>{this.tryAction(i=>gv.diveInfo(i),r,t,e)},failed:e}}createConsumptionWorker(){const t=new j,e=new j;return{calculated:t,calculate:r=>{this.tryAction(i=>gv.calculateConsumption(i),r,t,e)},failed:e}}tryAction(t,e,r,i){try{const a=t(e);r.next(a)}catch(a){i.next()}}}let z4=(()=>{class n{constructor(e){this.workerFactory=e,this.isComplex=!1,this.diver=new i8,this.dive=new Dne,this.onTanksReloaded=new j,this.calculating=!1,this.calculatingDiveInfo=!1,this.calculatingProfile=!1,this._tanks=[],this.onInfoCalculated=new j,this.onWayPointsCalculated=new j,this._options=new Xc,this._options.salinity=$r.fresh,this._options.safetyStop=k4.auto;const r=Io.createDefault();r.id=1,this._tanks.push(r),this.infoCalculated=this.onInfoCalculated.asObservable(),this.wayPointsCalculated=this.onWayPointsCalculated.asObservable(),this.plan=new td(ha.ALL,30,12,this.firstTank,this.options),this.tanksReloaded=this.onTanksReloaded.asObservable(),this.profileTask=this.workerFactory.createProfileWorker(),this.profileTask.calculated.subscribe(i=>this.continueCalculation(i)),this.profileTask.failed.subscribe(()=>this.profileFailed()),this.diveInfoTask=this.workerFactory.createDiveInfoWorker(),this.diveInfoTask.calculated.subscribe(i=>this.finishDiveInfo(i)),this.diveInfoTask.failed.subscribe(()=>this.profileFailed()),this.consumptionTask=this.workerFactory.createConsumptionWorker(),this.consumptionTask.calculated.subscribe(i=>this.finishCalculation(i)),this.consumptionTask.failed.subscribe(()=>this.profileFailed())}get options(){return this._options}get tanks(){return this._tanks}get firstTank(){return this._tanks[0]}get ndlValid(){return this.dive.diveInfoCalculated&&this.plan.noDecoTime<n.maxAcceptableNdl}resetToSimple(){this._tanks=this._tanks.slice(0,1),this.firstTank.he>0&&this.firstTank.assignStandardGas("Air"),this.onTanksReloaded.next({}),this.plan.setSimple(this.plan.maxDepth,this.plan.duration,this.firstTank,this.options)}addTank(){const e=Io.createDefault();e.size=11,this._tanks.push(e),e.id=this._tanks.length}removeTank(e){this._tanks=Ps.removeTank(this._tanks,e),this.plan.resetSegments(e,this.firstTank)}addSegment(){this.plan.addSegment(this.firstTank)}removeSegment(e){this.plan.removeSegment(e)}applyMaxDuration(){this.assignDuration(this.dive.maxTime)}applyNdlDuration(){this.assignDuration(this.plan.noDecoTime)}assignDuration(e){this.plan.assignDuration(e,this.firstTank,this.options)}assignDepth(e){this.plan.assignDepth(e,this.firstTank,this.options)}applyDiver(e){this.diver.loadFrom(e)}loadFrom(e,r,i,a,s){this.assignOptions(r),this.applyDiver(i),a.length>0&&(this._tanks=a,this.onTanksReloaded.next({})),s.length>1&&this.plan.loadFrom(s),this.isComplex=e,e||this.resetToSimple()}assignOptions(e){this._options.loadFrom(e)}calculate(){this.startCalculatingState(),setTimeout(()=>{this.showStillRunning()},500);const e={tanks:Tn.fromTanks(this._tanks),plan:Tn.fromSegments(this.plan.segments),options:Tn.fromOptions(this.options)};this.profileTask.calculate(e)}startCalculatingState(){this.calculating=!0,this.calculatingProfile=!0,this.calculatingDiveInfo=!0}endCalculatingState(){this.calculating=!1,this.calculatingProfile=!1,this.calculatingDiveInfo=!1,this.dive.profileCalculated=!0,this.dive.diveInfoCalculated=!0,this.dive.calculated=!0}showStillRunning(){this.calculatingProfile&&(this.dive.profileCalculated=!1,this.dive.emptyProfile()),this.calculatingDiveInfo&&(this.dive.diveInfoCalculated=!1),this.calculating&&(this.dive.calculated=!1)}continueCalculation(e){const r=Tn.fromSegments(this.plan.segments),i=Tn.fromTanks(this._tanks),a=Tn.toProfile(e.profile,this._tanks),s=Tn.toEvents(e.events),y=class Sne{static calculateWayPoints(t,e){const r=[];if(t.errors.length>0)return rd.newEmpty(t.errors);const i=t.segments[0];let a=nd.fromSegment(i),s=i;return r.push(a),t.segments.slice(1).forEach(H=>{const J=this.toWayPoint(H,a,s);a=J,s=H,r.push(J)}),new rd(t.segments,r,t.ceilings,e.items)}static toWayPoint(t,e,r){const i=e.toLevel(t);return!t.gas.compositionEquals(r.gas)&&i.asGasSwitch(),i}}.calculateWayPoints(a,s);this.dive.wayPoints=y.wayPoints,this.dive.ceilings=y.ceilings,this.dive.events=y.events,this.dive.averageDepth=fr.averageDepth(y.origin);const H=Tn.fromOptions(this.options);if(y.endsOnSurface){this.diveInfoTask.calculate({tanks:i,plan:r,options:H});const he={plan:r,profile:Tn.fromSegments(y.origin),options:H,diver:Tn.fromDiver(this.diver),tanks:i};this.consumptionTask.calculate(he),this.dive.profileCalculated=!0,this.calculatingProfile=!1,this.onWayPointsCalculated.next({})}else this.profileFailed(),console.table(a.errors)}profileFailed(){this.dive.calculationFailed=!0,this.dive.events=[],this.dive.wayPoints=[],this.dive.ceilings=[],this.endCalculatingState(),this.onWayPointsCalculated.next({}),this.onInfoCalculated.next({})}finishDiveInfo(e){this.plan.noDecoTime=e.noDeco,this.dive.otu=e.otu,this.dive.cns=e.cns,this.dive.noDecoExceeded=this.plan.noDecoExceeded,this.dive.notEnoughTime=this.plan.notEnoughTime,this.dive.diveInfoCalculated=!0,this.calculatingDiveInfo=!1}finishCalculation(e){this.copyTanksConsumption(e.tanks),this.dive.maxTime=e.maxTime,this.dive.timeToSurface=e.timeToSurface,this.dive.emergencyAscentStart=this.plan.startAscentTime,this.dive.turnPressure=this.calculateTurnPressure(),this.dive.turnTime=I2.floor(this.plan.duration/2),this.dive.needsReturn=this.plan.needsReturn&&1===this._tanks.length,this.dive.notEnoughGas=!Ps.haveReserve(this._tanks),this.dive.calculated=!0,this.dive.calculationFailed=!1,this.calculating=!1,this.onInfoCalculated.next({})}copyTanksConsumption(e){for(let r=0;r<this.tanks.length;r++){const i=e[r],a=this.tanks[r];a.consumed=i.consumed,a.reserve=i.reserve}}calculateTurnPressure(){return this.firstTank.startPressure-I2.floor(this.firstTank.consumed/2)}}return n.maxAcceptableNdl=1e3,n.\u0275fac=function(e){return new(e||n)(qt(mv))},n.\u0275prov=r2({token:n,factory:n.\u0275fac}),n})();var LV={prefix:"fas",iconName:"arrow-down",icon:[384,512,[8595],"f063","M374.6 310.6l-160 160C208.4 476.9 200.2 480 192 480s-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 370.8V64c0-17.69 14.33-31.1 31.1-31.1S224 46.31 224 64v306.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0S387.1 298.1 374.6 310.6z"]},HV={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6l-160 160C272.4 444.9 264.2 448 256 448s-16.38-3.125-22.62-9.375c-12.5-12.5-12.5-32.75 0-45.25L338.8 288H32C14.33 288 .0016 273.7 .0016 256S14.33 224 32 224h306.8l-105.4-105.4c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l160 160C451.1 245.9 451.1 266.1 438.6 278.6z"]},OV={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M374.6 246.6C368.4 252.9 360.2 256 352 256s-16.38-3.125-22.62-9.375L224 141.3V448c0 17.69-14.33 31.1-31.1 31.1S160 465.7 160 448V141.3L54.63 246.6c-12.5 12.5-32.75 12.5-45.25 0s-12.5-32.75 0-45.25l160-160c12.5-12.5 32.75-12.5 45.25 0l160 160C387.1 213.9 387.1 234.1 374.6 246.6z"]},Tv={prefix:"fas",iconName:"battery-half",icon:[576,512,["battery-3"],"f242","M288 320H96V192H288V320zM0 176C0 131.8 35.82 96 80 96H464C508.2 96 544 131.8 544 176V192C561.7 192 576 206.3 576 224V288C576 305.7 561.7 320 544 320V336C544 380.2 508.2 416 464 416H80C35.82 416 0 380.2 0 336V176zM80 160C71.16 160 64 167.2 64 176V336C64 344.8 71.16 352 80 352H464C472.8 352 480 344.8 480 336V176C480 167.2 472.8 160 464 160H80z"]},kv={prefix:"fas",iconName:"calculator",icon:[384,512,[128425],"f1ec","M336 0h-288C22.38 0 0 22.38 0 48v416C0 489.6 22.38 512 48 512h288c25.62 0 48-22.38 48-48v-416C384 22.38 361.6 0 336 0zM64 208C64 199.2 71.2 192 80 192h32C120.8 192 128 199.2 128 208v32C128 248.8 120.8 256 112 256h-32C71.2 256 64 248.8 64 240V208zM64 304C64 295.2 71.2 288 80 288h32C120.8 288 128 295.2 128 304v32C128 344.8 120.8 352 112 352h-32C71.2 352 64 344.8 64 336V304zM224 432c0 8.801-7.199 16-16 16h-128C71.2 448 64 440.8 64 432v-32C64 391.2 71.2 384 80 384h128c8.801 0 16 7.199 16 16V432zM224 336c0 8.801-7.199 16-16 16h-32C167.2 352 160 344.8 160 336v-32C160 295.2 167.2 288 176 288h32C216.8 288 224 295.2 224 304V336zM224 240C224 248.8 216.8 256 208 256h-32C167.2 256 160 248.8 160 240v-32C160 199.2 167.2 192 176 192h32C216.8 192 224 199.2 224 208V240zM320 432c0 8.801-7.199 16-16 16h-32c-8.799 0-16-7.199-16-16v-32c0-8.801 7.201-16 16-16h32c8.801 0 16 7.199 16 16V432zM320 336c0 8.801-7.199 16-16 16h-32c-8.799 0-16-7.199-16-16v-32C256 295.2 263.2 288 272 288h32C312.8 288 320 295.2 320 304V336zM320 240C320 248.8 312.8 256 304 256h-32C263.2 256 256 248.8 256 240v-32C256 199.2 263.2 192 272 192h32C312.8 192 320 199.2 320 208V240zM320 144C320 152.8 312.8 160 304 160h-224C71.2 160 64 152.8 64 144v-64C64 71.2 71.2 64 80 64h224C312.8 64 320 71.2 320 80V144z"]},zv={prefix:"fas",iconName:"chart-area",icon:[512,512,["area-chart"],"f1fe","M64 400C64 408.8 71.16 416 80 416H480C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H80C35.82 480 0 444.2 0 400V64C0 46.33 14.33 32 32 32C49.67 32 64 46.33 64 64V400zM128 320V236C128 228.3 130.8 220.8 135.9 214.1L215.3 124.2C228.3 109.4 251.4 109.7 263.1 124.8L303.2 171.8C312.2 182.7 328.6 183.4 338.6 173.4L359.6 152.4C372.7 139.3 394.4 140.1 406.5 154.2L472.3 231C477.3 236.8 480 244.2 480 251.8V320C480 337.7 465.7 352 448 352H159.1C142.3 352 127.1 337.7 127.1 320L128 320z"]},tk={prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM232 152C232 138.8 242.8 128 256 128s24 10.75 24 24v128c0 13.25-10.75 24-24 24S232 293.3 232 280V152zM256 400c-17.36 0-31.44-14.08-31.44-31.44c0-17.36 14.07-31.44 31.44-31.44s31.44 14.08 31.44 31.44C287.4 385.9 273.4 400 256 400z"]},ak={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 128c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S224 177.7 224 160C224 142.3 238.3 128 256 128zM296 384h-80C202.8 384 192 373.3 192 360s10.75-24 24-24h16v-64H224c-13.25 0-24-10.75-24-24S210.8 224 224 224h32c13.25 0 24 10.75 24 24v88h16c13.25 0 24 10.75 24 24S309.3 384 296 384z"]},Wv={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6C499.2 175.2 496.4 184.9 489.6 191.2L446.3 230.6C447.4 238.9 448 247.4 448 256C448 264.6 447.4 273.1 446.3 281.4L489.6 320.8C496.4 327.1 499.2 336.8 495.9 345.4C491.5 357.3 486.2 368.8 480.2 379.7L475.5 387.8C468.9 398.8 461.5 409.2 453.4 419.1C447.4 426.2 437.7 428.7 428.9 425.9L373.2 408.1C359.8 418.4 344.1 427 329.2 433.6L316.7 490.7C314.7 499.7 307.7 506.1 298.5 508.5C284.7 510.8 270.5 512 255.1 512C241.5 512 227.3 510.8 213.5 508.5C204.3 506.1 197.3 499.7 195.3 490.7L182.8 433.6C167 427 152.2 418.4 138.8 408.1L83.14 425.9C74.3 428.7 64.55 426.2 58.63 419.1C50.52 409.2 43.12 398.8 36.52 387.8L31.84 379.7C25.77 368.8 20.49 357.3 16.06 345.4C12.82 336.8 15.55 327.1 22.41 320.8L65.67 281.4C64.57 273.1 64 264.6 64 256C64 247.4 64.57 238.9 65.67 230.6L22.41 191.2C15.55 184.9 12.82 175.3 16.06 166.6C20.49 154.7 25.78 143.2 31.84 132.3L36.51 124.2C43.12 113.2 50.52 102.8 58.63 92.95C64.55 85.8 74.3 83.32 83.14 86.14L138.8 103.9C152.2 93.56 167 84.96 182.8 78.43L195.3 21.33C197.3 12.25 204.3 5.04 213.5 3.51C227.3 1.201 241.5 0 256 0C270.5 0 284.7 1.201 298.5 3.51C307.7 5.04 314.7 12.25 316.7 21.33L329.2 78.43C344.1 84.96 359.8 93.56 373.2 103.9L428.9 86.14C437.7 83.32 447.4 85.8 453.4 92.95C461.5 102.8 468.9 113.2 475.5 124.2L480.2 132.3C486.2 143.2 491.5 154.7 495.9 166.6V166.6zM256 336C300.2 336 336 300.2 336 255.1C336 211.8 300.2 175.1 256 175.1C211.8 175.1 176 211.8 176 255.1C176 300.2 211.8 336 256 336z"]},DN={prefix:"fas",iconName:"layer-group",icon:[512,512,[],"f5fd","M232.5 5.171C247.4-1.718 264.6-1.718 279.5 5.171L498.1 106.2C506.6 110.1 512 118.6 512 127.1C512 137.3 506.6 145.8 498.1 149.8L279.5 250.8C264.6 257.7 247.4 257.7 232.5 250.8L13.93 149.8C5.438 145.8 0 137.3 0 127.1C0 118.6 5.437 110.1 13.93 106.2L232.5 5.171zM498.1 234.2C506.6 238.1 512 246.6 512 255.1C512 265.3 506.6 273.8 498.1 277.8L279.5 378.8C264.6 385.7 247.4 385.7 232.5 378.8L13.93 277.8C5.438 273.8 0 265.3 0 255.1C0 246.6 5.437 238.1 13.93 234.2L67.13 209.6L219.1 279.8C242.5 290.7 269.5 290.7 292.9 279.8L444.9 209.6L498.1 234.2zM292.9 407.8L444.9 337.6L498.1 362.2C506.6 366.1 512 374.6 512 383.1C512 393.3 506.6 401.8 498.1 405.8L279.5 506.8C264.6 513.7 247.4 513.7 232.5 506.8L13.93 405.8C5.438 401.8 0 393.3 0 383.1C0 374.6 5.437 366.1 13.93 362.2L67.13 337.6L219.1 407.8C242.5 418.7 269.5 418.7 292.9 407.8V407.8z"]},kN={prefix:"fas",iconName:"list-check",icon:[512,512,["tasks"],"f0ae","M152.1 38.16C161.9 47.03 162.7 62.2 153.8 72.06L81.84 152.1C77.43 156.9 71.21 159.8 64.63 159.1C58.05 160.2 51.69 157.6 47.03 152.1L7.029 112.1C-2.343 103.6-2.343 88.4 7.029 79.03C16.4 69.66 31.6 69.66 40.97 79.03L63.08 101.1L118.2 39.94C127 30.09 142.2 29.29 152.1 38.16V38.16zM152.1 198.2C161.9 207 162.7 222.2 153.8 232.1L81.84 312.1C77.43 316.9 71.21 319.8 64.63 319.1C58.05 320.2 51.69 317.6 47.03 312.1L7.029 272.1C-2.343 263.6-2.343 248.4 7.029 239C16.4 229.7 31.6 229.7 40.97 239L63.08 261.1L118.2 199.9C127 190.1 142.2 189.3 152.1 198.2V198.2zM224 96C224 78.33 238.3 64 256 64H480C497.7 64 512 78.33 512 96C512 113.7 497.7 128 480 128H256C238.3 128 224 113.7 224 96V96zM224 256C224 238.3 238.3 224 256 224H480C497.7 224 512 238.3 512 256C512 273.7 497.7 288 480 288H256C238.3 288 224 273.7 224 256zM160 416C160 398.3 174.3 384 192 384H480C497.7 384 512 398.3 512 416C512 433.7 497.7 448 480 448H192C174.3 448 160 433.7 160 416zM0 416C0 389.5 21.49 368 48 368C74.51 368 96 389.5 96 416C96 442.5 74.51 464 48 464C21.49 464 0 442.5 0 416z"]},ny={prefix:"fas",iconName:"share-from-square",icon:[576,512,[61509,"share-square"],"f14d","M568.9 143.5l-150.9-138.2C404.8-6.773 384 3.039 384 21.84V96C241.2 97.63 128 126.1 128 260.6c0 54.3 35.2 108.1 74.08 136.2c12.14 8.781 29.42-2.238 24.94-16.46C186.7 252.2 256 224 384 223.1v74.2c0 18.82 20.84 28.59 34.02 16.51l150.9-138.2C578.4 167.8 578.4 152.2 568.9 143.5zM416 384c-17.67 0-32 14.33-32 32v31.1l-320-.0013V128h32c17.67 0 32-14.32 32-32S113.7 64 96 64H64C28.65 64 0 92.65 0 128v319.1c0 35.34 28.65 64 64 64l320-.0013c35.35 0 64-28.66 64-64V416C448 398.3 433.7 384 416 384z"]},hO={prefix:"fas",iconName:"shuffle",icon:[512,512,[128256,"random"],"f074","M424.1 287c-15.13-15.12-40.1-4.426-40.1 16.97V352H336L153.6 108.8C147.6 100.8 138.1 96 128 96H32C14.31 96 0 110.3 0 128s14.31 32 32 32h80l182.4 243.2C300.4 411.3 309.9 416 320 416h63.97v47.94c0 21.39 25.86 32.12 40.99 17l79.1-79.98c9.387-9.387 9.387-24.59 0-33.97L424.1 287zM336 160h47.97v48.03c0 21.39 25.87 32.09 40.1 16.97l79.1-79.98c9.387-9.391 9.385-24.59-.0013-33.97l-79.1-79.98c-15.13-15.12-40.99-4.391-40.99 17V96H320c-10.06 0-19.56 4.75-25.59 12.81L254 162.7L293.1 216L336 160zM112 352H32c-17.69 0-32 14.31-32 32s14.31 32 32 32h96c10.06 0 19.56-4.75 25.59-12.81l40.4-53.87L154 296L112 352z"]},vO={prefix:"fas",iconName:"sliders",icon:[512,512,["sliders-h"],"f1de","M0 416C0 398.3 14.33 384 32 384H86.66C99 355.7 127.2 336 160 336C192.8 336 220.1 355.7 233.3 384H480C497.7 384 512 398.3 512 416C512 433.7 497.7 448 480 448H233.3C220.1 476.3 192.8 496 160 496C127.2 496 99 476.3 86.66 448H32C14.33 448 0 433.7 0 416V416zM192 416C192 398.3 177.7 384 160 384C142.3 384 128 398.3 128 416C128 433.7 142.3 448 160 448C177.7 448 192 433.7 192 416zM352 176C384.8 176 412.1 195.7 425.3 224H480C497.7 224 512 238.3 512 256C512 273.7 497.7 288 480 288H425.3C412.1 316.3 384.8 336 352 336C319.2 336 291 316.3 278.7 288H32C14.33 288 0 273.7 0 256C0 238.3 14.33 224 32 224H278.7C291 195.7 319.2 176 352 176zM384 256C384 238.3 369.7 224 352 224C334.3 224 320 238.3 320 256C320 273.7 334.3 288 352 288C369.7 288 384 273.7 384 256zM480 64C497.7 64 512 78.33 512 96C512 113.7 497.7 128 480 128H265.3C252.1 156.3 224.8 176 192 176C159.2 176 131 156.3 118.7 128H32C14.33 128 0 113.7 0 96C0 78.33 14.33 64 32 64H118.7C131 35.75 159.2 16 192 16C224.8 16 252.1 35.75 265.3 64H480zM160 96C160 113.7 174.3 128 192 128C209.7 128 224 113.7 224 96C224 78.33 209.7 64 192 64C174.3 64 160 78.33 160 96z"]},oy={prefix:"fas",iconName:"square-plus",icon:[448,512,[61846,"plus-square"],"f0fe","M384 32C419.3 32 448 60.65 448 96V416C448 451.3 419.3 480 384 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H384zM224 368C237.3 368 248 357.3 248 344V280H312C325.3 280 336 269.3 336 256C336 242.7 325.3 232 312 232H248V168C248 154.7 237.3 144 224 144C210.7 144 200 154.7 200 168V232H136C122.7 232 112 242.7 112 256C112 269.3 122.7 280 136 280H200V344C200 357.3 210.7 368 224 368z"]},WO={prefix:"fas",iconName:"table",icon:[512,512,[],"f0ce","M448 32C483.3 32 512 60.65 512 96V416C512 451.3 483.3 480 448 480H64C28.65 480 0 451.3 0 416V96C0 60.65 28.65 32 64 32H448zM224 256V160H64V256H224zM64 320V416H224V320H64zM288 416H448V320H288V416zM448 256V160H288V256H448z"]},uy={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M135.2 17.69C140.6 6.848 151.7 0 163.8 0H284.2C296.3 0 307.4 6.848 312.8 17.69L320 32H416C433.7 32 448 46.33 448 64C448 81.67 433.7 96 416 96H32C14.33 96 0 81.67 0 64C0 46.33 14.33 32 32 32H128L135.2 17.69zM31.1 128H416V448C416 483.3 387.3 512 352 512H95.1C60.65 512 31.1 483.3 31.1 448V128zM111.1 208V432C111.1 440.8 119.2 448 127.1 448C136.8 448 143.1 440.8 143.1 432V208C143.1 199.2 136.8 192 127.1 192C119.2 192 111.1 199.2 111.1 208zM207.1 208V432C207.1 440.8 215.2 448 223.1 448C232.8 448 240 440.8 240 432V208C240 199.2 232.8 192 223.1 192C215.2 192 207.1 199.2 207.1 208zM304 208V432C304 440.8 311.2 448 320 448C328.8 448 336 440.8 336 432V208C336 199.2 328.8 192 320 192C311.2 192 304 199.2 304 208z"]},_d={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M506.3 417l-213.3-364c-16.33-28-57.54-28-73.98 0l-213.2 364C-10.59 444.9 9.849 480 42.74 480h426.6C502.1 480 522.6 445 506.3 417zM232 168c0-13.25 10.75-24 24-24S280 154.8 280 168v128c0 13.25-10.75 24-23.1 24S232 309.3 232 296V168zM256 416c-17.36 0-31.44-14.08-31.44-31.44c0-17.36 14.07-31.44 31.44-31.44s31.44 14.08 31.44 31.44C287.4 401.9 273.4 416 256 416z"]},TI={prefix:"fas",iconName:"user-gear",icon:[640,512,["user-cog"],"f4fe","M425.1 482.6c-2.303-1.25-4.572-2.559-6.809-3.93l-7.818 4.493c-6.002 3.504-12.83 5.352-19.75 5.352c-10.71 0-21.13-4.492-28.97-12.75c-18.41-20.09-32.29-44.15-40.22-69.9c-5.352-18.06 2.343-36.87 17.83-45.24l8.018-4.669c-.0664-2.621-.0664-5.242 0-7.859l-7.655-4.461c-12.3-6.953-19.4-19.66-19.64-33.38C305.6 306.3 290.4 304 274.7 304H173.3C77.61 304 0 381.7 0 477.4C0 496.5 15.52 512 34.66 512H413.3c5.727 0 10.9-1.727 15.66-4.188c-2.271-4.984-3.86-10.3-3.86-16.06V482.6zM224 256c70.7 0 128-57.31 128-128S294.7 0 224 0C153.3 0 96 57.31 96 128S153.3 256 224 256zM610.5 373.3c2.625-14 2.625-28.5 0-42.5l25.75-15c3-1.625 4.375-5.125 3.375-8.5c-6.75-21.5-18.25-41.13-33.25-57.38c-2.25-2.5-6-3.125-9-1.375l-25.75 14.88c-10.88-9.25-23.38-16.5-36.88-21.25V212.3c0-3.375-2.5-6.375-5.75-7c-22.25-5-45-4.875-66.25 0c-3.25 .625-5.625 3.625-5.625 7v29.88c-13.5 4.75-26 12-36.88 21.25L394.4 248.5c-2.875-1.75-6.625-1.125-9 1.375c-15 16.25-26.5 35.88-33.13 57.38c-1 3.375 .3751 6.875 3.25 8.5l25.75 15c-2.5 14-2.5 28.5 0 42.5l-25.75 15c-3 1.625-4.25 5.125-3.25 8.5c6.625 21.5 18.13 41 33.13 57.38c2.375 2.5 6 3.125 9 1.375l25.88-14.88c10.88 9.25 23.38 16.5 36.88 21.25v29.88c0 3.375 2.375 6.375 5.625 7c22.38 5 45 4.875 66.25 0c3.25-.625 5.75-3.625 5.75-7v-29.88c13.5-4.75 26-12 36.88-21.25l25.75 14.88c2.875 1.75 6.75 1.125 9-1.375c15-16.25 26.5-35.88 33.25-57.38c1-3.375-.3751-6.875-3.375-8.5L610.5 373.3zM496 400.5c-26.75 0-48.5-21.75-48.5-48.5s21.75-48.5 48.5-48.5c26.75 0 48.5 21.75 48.5 48.5S522.8 400.5 496 400.5z"]};function zbe(n,t){1&n&&(Oe(0,"div",4),D1(1,"Needs to be number 0.21-3"),$e())}let YI=(()=>{class n{constructor(e){this.units=e,this.label="",this.maxPpO2Change=new v2,this.inputChange=new v2,this._maxPpO2=1.4}get maxPpO2(){return this._maxPpO2}set maxPpO2(e){this._maxPpO2=e,this.maxPpO2Change.emit(e)}}return n.\u0275fac=function(e){return new(e||n)(z1(dr))},n.\u0275cmp=un({type:n,selectors:[["app-pp-o2"]],inputs:{label:"label",maxPpO2:"maxPpO2"},outputs:{maxPpO2Change:"maxPpO2Change",inputChange:"inputChange"},decls:5,vars:8,consts:[["for","maxPpO2"],["name","maxPpO2","id","maxPpO2","type","number","required","","step",".1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange","input"],["maxPpO2Field","ngModel"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(e,r){if(1&e&&(Oe(0,"label",0),D1(1),Oe(2,"input",1,2),ht("ngModelChange",function(a){return r.maxPpO2=a})("input",function(){return r.inputChange.emit()}),$e()(),ft(4,zbe,2,0,"div",3)),2&e){const i=Z2(3);Pe(1),a2("",r.label," "),Pe(1),h2("is-invalid",i.invalid&&(i.dirty||i.touched)),v1("ngModel",r.maxPpO2)("rangeVal",r.units.ranges.ppO2)("min",r.units.ranges.ppO2[0])("max",r.units.ranges.ppO2[1]),Pe(2),v1("ngIf",i.invalid&&(i.dirty||i.touched))}},directives:[$4,q4,W4,u4,A4,G4,V4,J4,C3],styles:[""]}),n})();function Nbe(n,t){if(1&n&&(Oe(0,"div",12),D1(1),$e()),2&n){const e=U1();Pe(1),a2("Needs to be number ",e.ranges.diverRmvLabel,"")}}let Ebe=(()=>{class n{constructor(e){this.units=e,this.diver=new i8,this.icon=TI,this.ranges=e.ranges}get rmv(){return this.units.fromLiter(this.diver.rmv)}set rmv(e){this.diver.rmv=this.units.toLiter(e)}}return n.\u0275fac=function(e){return new(e||n)(z1(dr))},n.\u0275cmp=un({type:n,selectors:[["app-diver"]],inputs:{diver:"diver",ranges:"ranges"},decls:17,vars:11,consts:[[1,"mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],["for","sac"],["name","sac","id","sac","type","number","required","","step","0.1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange"],["sac","ngModel"],["class","text-danger",4,"ngIf"],[1,"mt-2"],["label","Maximum ppO2:",3,"maxPpO2","maxPpO2Change"],["label","Maximum deco ppO2:",3,"maxPpO2","maxPpO2Change"],[1,"text-danger"]],template:function(e,r){if(1&e&&(Oe(0,"div",0)(1,"div",1)(2,"div",2),Yt(3,"fa-icon",3),Oe(4,"span"),D1(5,"Diver"),$e()(),Oe(6,"div",4)(7,"div")(8,"label",5),D1(9),Oe(10,"input",6,7),ht("ngModelChange",function(a){return r.rmv=a}),$e()(),ft(12,Nbe,2,1,"div",8),$e(),Oe(13,"div",9)(14,"app-pp-o2",10),ht("maxPpO2Change",function(a){return r.diver.maxPpO2=a}),$e()(),Oe(15,"div",9)(16,"app-pp-o2",11),ht("maxPpO2Change",function(a){return r.diver.maxDecoPpO2=a}),$e()()()()()),2&e){const i=Z2(11);Pe(3),v1("icon",r.icon),Pe(6),a2("Respiratory minute volume [",r.units.rmv,"]: "),Pe(1),h2("is-invalid",i.invalid&&(i.dirty||i.touched)),v1("ngModel",r.rmv)("rangeVal",r.ranges.diverRmv)("min",r.ranges.diverRmv[0])("max",r.ranges.diverRmv[1]),Pe(2),v1("ngIf",i.invalid&&(i.dirty||i.touched)),Pe(2),v1("maxPpO2",r.diver.maxPpO2),Pe(2),v1("maxPpO2",r.diver.maxDecoPpO2)}},directives:[Q4,$4,q4,W4,u4,A4,G4,V4,J4,C3,YI],styles:[""]}),n})();function Obe(n,t){if(1&n){const e=Ln();Oe(0,"div",7)(1,"div",8)(2,"div",9),Yt(3,"fa-icon",10),Oe(4,"span"),D1(5,"Units"),$e()(),Oe(6,"div",11)(7,"div",12)(8,"input",13),ht("change",function(){Nt(e);const i=U1();return i.imperialUnits=!i.imperialUnits}),$e(),Oe(9,"label",14),D1(10,"Metric units (m, l, bar)"),$e()(),Oe(11,"div",12)(12,"input",15),ht("change",function(){Nt(e);const i=U1();return i.imperialUnits=!i.imperialUnits}),$e(),Oe(13,"label",16),D1(14,"Imperial units (ft, cuft, psi)"),Yt(15,"br"),D1(16," (Experimental, not recommended)"),$e()()()()()}if(2&n){const e=U1();Pe(3),v1("icon",e.flagIcon),Pe(5),v1("checked",!e.imperialUnits),Pe(4),v1("checked",e.imperialUnits)}}let Ibe=(()=>{class n{constructor(e,r,i,a){this.router=e,this.units=r,this.options=i,this.planner=a,this.flagIcon=GH,this.diver=new i8,this.imperialUnits=!1,this.imperialUnits=this.units.imperialUnits,this.diver.loadFrom(this.planner.diver)}goBack(){var e=this;return Yf(function*(){return yield e.router.navigateByUrl("/")})()}use(){this.planner.applyDiver(this.diver),this.units.imperialUnits=this.imperialUnits,this.applyToOptions(),this.applyToTanks()}applyToOptions(){this.options.applyDiver(this.diver),this.options.decoStopDistance=this.units.toMeters(this.units.stopsDistance),this.options.lastStopDepth=this.units.toMeters(this.units.stopsDistance),this.options.minimumAutoStopDepth=this.units.toMeters(this.units.autoStopLevel),this.planner.assignOptions(this.options)}applyToTanks(){}}return n.\u0275fac=function(e){return new(e||n)(z1(Vr),z1(dr),z1(i6),z1(z4))},n.\u0275cmp=un({type:n,selectors:[["app-app-settings"]],decls:10,vars:5,consts:[[1,"row","mt-5"],[1,"col","col-auto",3,"diver","ranges"],["class","col col-auto mt-3",4,"ngIf"],[1,"row"],[1,"form-group","mt-2"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"col","col-auto","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[1,"form-check"],["type","radio","name","unitsRadio","id","metricRadio",1,"form-check-input",3,"checked","change"],["for","metricRadio","value","metric",1,"custom-control-label"],["type","radio","name","unitsRadio","id","imperialRadio",1,"form-check-input",3,"checked","change"],["for","imperialRadio","value","imperial",1,"custom-control-label"]],template:function(e,r){1&e&&(Oe(0,"div",0),Yt(1,"app-diver",1),an(2,"async"),ft(3,Obe,17,3,"div",2),$e(),Oe(4,"div",3)(5,"div",4)(6,"button",5),ht("click",function(){return r.goBack()}),D1(7,"Back"),$e(),Oe(8,"button",6),ht("click",function(){return r.use()}),D1(9,"Use"),$e()()()),2&e&&(Pe(1),v1("diver",r.diver)("ranges",function bM(n,t,e){const r=n+20,i=St(),a=Pr(i,r);return ac(i,r)?gM(i,v(),t,a.transform,e,a):a.transform(e)}(2,3,r.units.ranges$)||r.units.ranges),Pe(2),v1("ngIf",!1))},directives:[Ebe,C3,Q4],pipes:[kx],styles:[""]}),n})();var Pbe=de(489),bd=de.n(Pbe);class Rbe{constructor(){this.ranges=dr.createMetricRanges();const t=F2.toSeconds(this.ranges.duration[0]),e=F2.toSeconds(this.ranges.duration[1]);this.simpleDurationRange=[1,e],this.complexDurationRange=[t,e]}validate(t){const e=t.tanks.length+1,r=this.selectContentRanges(t.isComplex),i=this.allTanksValid(t.tanks,e,r),a=this.selectDurationRanges(t.isComplex),s=this.allSegmentsValid(t.plan,e,a,r),y=this.optionsValid(t.options),H=this.diverValid(t.diver),J=this.complexModeValid(t);return i&&s&&y&&H&&J}selectContentRanges(t){return t?[this.ranges.trimixOxygen,this.ranges.tankHe]:[this.ranges.nitroxOxygen,[0,0]]}selectDurationRanges(t){return t?this.complexDurationRange:this.simpleDurationRange}allTanksValid(t,e,r){const i=t.length>0,a=bd()(t).every(H=>this.isValidTank(H,e,r)),y=bd()(t).map(H=>H.id).uniq().size()===t.length;return i&&a&&y}isValidTank(t,e,r){const i=this.isInRange(t.id,[1,e]),a=this.isInRange(t.size,this.ranges.tankSize),s=this.isInRange(t.startPressure,this.ranges.tankPressure),y=this.isValidGas(t.gas,r);return i&&a&&s&&y}isValidGas(t,e){const r=.209===t.fO2&&0===t.fHe,i=this.isInRange(100*t.fO2,e[0]),a=this.isInRange(100*t.fHe,e[1]);return r||i&&a&&t.fO2+t.fHe<=1}allSegmentsValid(t,e,r,i){return t.length>0&&bd()(t).every(a=>this.isValidSegment(a,e,r,i))}isValidSegment(t,e,r,i){const a=this.isInRange(t.tankId,[1,e]),s=this.isInRange(t.startDepth,[0,350]),y=this.isInRange(t.endDepth,[0,350]),H=this.isInRange(t.duration,r),J=this.isValidGas(t.gas,i);return a&&s&&y&&H&&J}optionsValid(t){return this.isInRange(t.altitude,this.ranges.altitude)&&this.isInRange(t.ascentSpeed50perc,this.ranges.speed)&&this.isInRange(t.ascentSpeed50percTo6m,this.ranges.speed)&&this.isInRange(t.ascentSpeed6m,this.ranges.speed)&&this.isInRange(t.descentSpeed,this.ranges.speed)&&this.isInRange(t.gasSwitchDuration,[1,10])&&this.isInRange(t.gfHigh,[.1,1])&&this.isInRange(t.gfLow,[.1,1])&&this.isInRange(t.maxDecoPpO2,this.ranges.ppO2)&&this.isInRange(t.maxEND,this.ranges.narcoticDepth)&&this.isInRange(t.maxPpO2,this.ranges.ppO2)&&this.isInRange(t.problemSolvingDuration,[1,100])&&t.safetyStop in k4&&t.salinity in $r}diverValid(t){return this.isInRange(t.rmv,this.ranges.diverRmv)&&this.isInRange(t.maxPpO2,this.ranges.ppO2)&&this.isInRange(t.maxDecoPpO2,this.ranges.ppO2)}complexModeValid(t){return t.isComplex||2===t.plan.length&&1===t.tanks.length}isInRange(t,e){return e[0]<=t&&t<=e[1]}}class KI{toPreferences(t,e){return{isComplex:t.isComplex,options:Tn.fromOptions(e.getOptions()),diver:Tn.fromDiver(t.diver),tanks:Tn.fromTanks(t.tanks),plan:Tn.fromSegments(t.plan.segments)}}applyLoaded(t,e,r){const i=Tn.toTanks(r.tanks),a=Tn.toSegments(r.plan,i),s=Tn.toDiver(r.diver),y=Tn.toOptions(r.options);e.loadFrom(y),r.isComplex||e.resetToSimple(),t.loadFrom(r.isComplex,y,s,i,a),t.calculate()}}let Rs=(()=>{class n{constructor(e,r){this.paramValues=e.split(r)}static serializeBoolean(e){return e?n.trueValue:"0"}static deserializeBoolean(e){return e===n.trueValue}parseNumber(e){return Number(this.paramValues[e])}parseEnum(e){return Number(this.paramValues[e])}parseBoolean(e){return n.deserializeBoolean(this.paramValues[e])}processValues(e,r){for(let i=0;i<this.paramValues.length;i++)r(this.toPartContext(i,e))}toPartContext(e,r){return new n(this.paramValues[e],r)}}return n.trueValue="1",n})();class Li{static toUrl(t,e){return`t=${Li.toTanksParam(t.tanks)}&de=${Li.toDepthsParam(t.plan.segments)}&di=${Li.toDiverParam(t.diver)}&o=${Li.toOptionsParam(e.getOptions())}&c=${Rs.serializeBoolean(t.isComplex)}`}static fromUrl(t,e,r){try{if(!t)return;const i=decodeURIComponent(t),a=Li.parseDto(i);(new Rbe).validate(a)?(new KI).applyLoaded(r,e,a):console.log("Unable to load planner from url parameters, due to invalid data.")}catch(i){console.log("Failed loading of planner from url parameters.")}}static parseDto(t){const e=new URLSearchParams(t),r=e.get("c")||"",i=e.get("o")||"",a=e.get("di")||"",s=e.get("t")||"",y=e.get("de")||"",H=Li.fromTanksParam(s);return{isComplex:Rs.deserializeBoolean(r),options:Li.fromOptionsParam(i),diver:Li.fromDiverParam(a),tanks:H,plan:Li.fromDepthsParam(H,y)}}static fromOptionsParam(t){const e=new Rs(t,",");return{altitude:e.parseNumber(0),ascentSpeed50perc:e.parseNumber(1),ascentSpeed50percTo6m:e.parseNumber(2),ascentSpeed6m:e.parseNumber(3),decoStopDistance:e.parseNumber(4),descentSpeed:e.parseNumber(5),gasSwitchDuration:e.parseNumber(6),gfHigh:e.parseNumber(7),gfLow:e.parseNumber(8),lastStopDepth:e.parseNumber(9),maxDecoPpO2:e.parseNumber(10),maxEND:e.parseNumber(11),maxPpO2:e.parseNumber(12),minimumAutoStopDepth:e.parseNumber(13),oxygenNarcotic:e.parseBoolean(14),problemSolvingDuration:e.parseNumber(15),roundStopsToMinutes:e.parseBoolean(16),safetyStop:e.parseEnum(17),salinity:e.parseEnum(18)}}static toOptionsParam(t){const e=Rs.serializeBoolean(t.oxygenNarcotic),r=Rs.serializeBoolean(t.roundStopsToMinutes);return`${t.altitude},${t.ascentSpeed50perc},${t.ascentSpeed50percTo6m},${t.ascentSpeed6m},${t.decoStopDistance},${t.descentSpeed},${t.gasSwitchDuration},${t.gfHigh},${t.gfLow},${t.lastStopDepth},${t.maxDecoPpO2},${t.maxEND},${t.maxPpO2},${t.minimumAutoStopDepth},${e},${t.problemSolvingDuration},${r},${t.safetyStop},${t.salinity}`}static fromDiverParam(t){const e=new Rs(t,",");return{rmv:e.parseNumber(0),maxPpO2:e.parseNumber(1),maxDecoPpO2:e.parseNumber(2)}}static toDiverParam(t){return`${t.rmv},${t.maxPpO2},${t.maxDecoPpO2}`}static fromTanksParam(t){let e=[];return new Rs(t,",").processValues("-",i=>{const a={id:i.parseNumber(0),size:i.parseNumber(1),startPressure:i.parseNumber(2),gas:{fO2:i.parseNumber(3),fHe:i.parseNumber(4)},consumed:0,reserve:0};e.push(a)}),e=bd().sortBy(e,[i=>i.id]),e}static toTanksParam(t){const e=[];return t.forEach(r=>{e.push(`${r.id}-${r.size}-${r.startPressure}-${r.gas.fO2}-${r.gas.fHe}`)}),e.join(",")}static fromDepthsParam(t,e){const r=[];let a;return new Rs(e,",").processValues("-",s=>{const H=this.toSegment(s,t,a?a.endDepth:0);a=H,r.push(H)}),r}static toSegment(t,e,r){const i={startDepth:r,endDepth:t.parseNumber(1),duration:t.parseNumber(2),tankId:1,gas:{fO2:0,fHe:0}},a=t.parseNumber(3);if(0<a&&a<=e.length){const s=e[a-1];i.tankId=a,i.gas.fO2=s.gas.fO2,i.gas.fHe=s.gas.fHe}return i}static toDepthsParam(t){const e=[];return t.forEach(r=>{e.push(`${r.startDepth}-${r.endDepth}-${r.duration}-${r.tank?r.tank.id:0}`)}),e.join(",")}}let vy=(()=>{class n{constructor(e,r){this.planner=e,this.options=r,this.preferencesFactory=new KI}loadDefaults(){const e=localStorage.getItem(n.storageKey);if(!e)return;const r=JSON.parse(e);this.preferencesFactory.applyLoaded(this.planner,this.options,r)}saveDefaults(){const e=this.preferencesFactory.toPreferences(this.planner,this.options),r=JSON.stringify(e);localStorage.setItem(n.storageKey,r)}disableDisclaimer(){localStorage.setItem(n.disclaimerKey,n.disclaimerValue)}disclaimerEnabled(){return localStorage.getItem(n.disclaimerKey)!==n.disclaimerValue}}return n.disclaimerValue="confirmed",n.storageKey="preferences",n.disclaimerKey="disclaimer",n.\u0275fac=function(e){return new(e||n)(qt(z4),qt(i6))},n.\u0275prov=r2({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),a7=(()=>{class n{constructor(e){this.planner=e,this.scheduled=!1}schedule(){this.scheduled||(this.scheduled=!0,setTimeout(()=>{this.planner.calculate(),this.scheduled=!1},100))}}return n.\u0275fac=function(e){return new(e||n)(qt(z4))},n.\u0275prov=r2({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class a6{constructor(t=new Xc){this.options=t,this.depthConverter=da.simple();const e=new fv(this.depthConverter,this.options);this.nitroxCalculator=new mV(e,this.depthConverter)}modForGas(t){return this.nitroxCalculator.mod(this.options.maxPpO2,t.o2)}mndForGas(t){const e=this.depthConverter.toBar(this.options.maxEND),r=t.mnd(e,this.options.oxygenNarcotic),i=this.depthConverter.fromBar(r);let a=I2.fix(i);return a=I2.roundTwoDecimals(a),a}switchDepth(t){return this.nitroxCalculator.gasSwitch(this.options.maxDecoPpO2,t.o2)}maxDepth(t){const e=this.mndForGas(t.gas),r=this.modForGas(t),i=Math.min(e,r);return I2.floor(i)}bestNitroxMix(t){const r=this.nitroxCalculator.bestMix(this.options.maxPpO2,t);return I2.round(r)}}function Fbe(n,t){if(1&n&&(Oe(0,"span",3),D1(1),$e()),2&n){const e=U1();Pe(1),a2("",e.tank.name," ")}}function Bbe(n,t){if(1&n&&(Oe(0,"span"),D1(1),an(2,"number"),$e()),2&n){const e=U1();Pe(1),gi(", MND: ",cn(2,2,e.gasMnd,"1.0-0")," ",e.units.length,"")}}let yy=(()=>{class n{constructor(e){this.units=e,this.tank=Io.createDefault(),this.showName=!0,this.toxicity=new a6}get gasMod(){const e=this.toxicity.modForGas(this.tank),r=this.units.fromMeters(e);return I2.floor(r)}get gasMnd(){const e=this.toxicity.mndForGas(this.tank.gas),r=this.units.fromMeters(e);return I2.floor(r)}get isTrimix(){return this.tank.he>0}get gasDecoMod(){const e=this.toxicity.switchDepth(this.tank),r=this.units.fromMeters(e);return I2.floor(r)}}return n.\u0275fac=function(e){return new(e||n)(z1(dr))},n.\u0275cmp=un({type:n,selectors:[["app-gaslabel"]],inputs:{tank:"tank",showName:"showName",toxicity:"toxicity"},decls:6,vars:12,consts:[[1,"text-muted"],["class","fw-bold",4,"ngIf"],[4,"ngIf"],[1,"fw-bold"]],template:function(e,r){1&e&&(Oe(0,"small",0),ft(1,Fbe,2,1,"span",1),D1(2),an(3,"number"),an(4,"number"),ft(5,Bbe,3,5,"span",2),$e()),2&e&&(Pe(1),v1("ngIf",r.showName),Pe(1),Gp(" MOD: ",cn(3,6,r.gasMod,"1.0-0")," ",r.units.length,", switch ",cn(4,9,r.gasDecoMod,"1.0-0")," ",r.units.length," "),Pe(3),v1("ngIf",r.isTrimix))},directives:[C3],pipes:[Ds],styles:[""]}),n})();function Ube(n,t){if(1&n){const e=Ln();Oe(0,"button",11),ht("click",function(){return Nt(e),U1().fireAssignBestMix()}),D1(1,"Best mix"),$e()}}function jbe(n,t){if(1&n){const e=Ln();Oe(0,"button",11),ht("click",function(){const a=Nt(e).$implicit;return U1().assignStandardGas(a)}),D1(1),$e()}if(2&n){const e=t.$implicit;Pe(1),Mn(e)}}function Gbe(n,t){if(1&n&&(Oe(0,"div",12),D1(1),$e()),2&n){const e=U1();Pe(1),a2("Needs to be number ",e.units.ranges.nitroxOxygenLabel,"")}}let ZI=(()=>{class n{constructor(e){this.units=e,this.tank=new Io(15,200,21),this.toxicity=new a6,this.showBestMix=!0,this.gasChange=new v2,this.assignBestMix=new v2,this.nitroxNames=w2.nitroxNames()}fireAssignBestMix(){this.assignBestMix.emit()}fireGasChanged(){this.gasChange.emit()}assignStandardGas(e){this.tank.assignStandardGas(e),this.fireGasChanged()}}return n.\u0275fac=function(e){return new(e||n)(z1(dr))},n.\u0275cmp=un({type:n,selectors:[["app-nitrox-o2"]],inputs:{tank:"tank",toxicity:"toxicity",showBestMix:"showBestMix"},outputs:{gasChange:"gasChange",assignBestMix:"assignBestMix"},decls:12,vars:11,consts:[["for","gasO2",1,"form-label"],[1,"input-group","col-auto","o2-max-width"],["name","gasO2","type","number","required","","step","1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange","input"],["gasO2","ngModel"],["ngbDropdown","","placement","bottom-right",1,"input-group-append","d-inline-block"],["id","o2Menu","type","button","ngbDropdownToggle","",1,"btn","btn-default","border"],["ngbDropdownMenu","","aria-labelledby","o2Menu","aria-expanded","false"],["type","button","class","dropdown-item",3,"click",4,"ngIf"],["type","button","class","dropdown-item",3,"click",4,"ngFor","ngForOf"],[3,"tank","toxicity"],["class","text-danger",4,"ngIf"],["type","button",1,"dropdown-item",3,"click"],[1,"text-danger"]],template:function(e,r){if(1&e&&(Oe(0,"label",0),D1(1,"Percent O2:\n"),Oe(2,"div",1)(3,"input",2,3),ht("ngModelChange",function(a){return r.tank.o2=a})("input",function(){return r.fireGasChanged()}),$e(),Oe(5,"div",4),Yt(6,"button",5),Oe(7,"div",6),ft(8,Ube,2,0,"button",7),ft(9,jbe,2,1,"button",8),$e()()(),Yt(10,"app-gaslabel",9),$e(),ft(11,Gbe,2,1,"div",10)),2&e){const i=Z2(4);Pe(3),h2("is-invalid",i.invalid&&(i.dirty||i.touched)),v1("ngModel",r.tank.o2)("rangeVal",r.units.ranges.nitroxOxygen)("min",r.units.ranges.nitroxOxygen[0])("max",r.units.ranges.nitroxOxygen[1]),Pe(5),v1("ngIf",r.showBestMix),Pe(1),v1("ngForOf",r.nitroxNames),Pe(1),v1("tank",r.tank)("toxicity",r.toxicity),Pe(1),v1("ngIf",i.invalid&&(i.dirty||i.touched))}},directives:[$4,q4,W4,u4,A4,G4,V4,J4,bi,Vo,ja,C3,oa,yy],styles:[""]}),n})();function $be(n,t){1&n&&(Oe(0,"span"),D1(1,"Bottom gas tank"),$e())}function Wbe(n,t){1&n&&(Oe(0,"span"),D1(1,"Tanks"),$e())}function qbe(n,t){if(1&n&&(Oe(0,"div",36),D1(1),$e()),2&n){const e=U1(3);Pe(1),a2("Needs to be number ",e.ranges.tankSizeLabel," ")}}function Ybe(n,t){if(1&n&&(Oe(0,"div",36),D1(1),$e()),2&n){const e=U1(3);Pe(1),a2("Needs to be number ",e.ranges.tankPressureLabel,"")}}function Kbe(n,t){if(1&n){const e=Ln();Oe(0,"button",37),ht("click",function(){const a=Nt(e).$implicit,s=U1().$implicit;return U1(2).assignStandardGas(s,a)}),D1(1),$e()}if(2&n){const e=t.$implicit;Pe(1),Mn(e)}}function Zbe(n,t){if(1&n&&(Oe(0,"div",36),D1(1),$e()),2&n){const e=U1(3);Pe(1),a2("Needs to be number ",e.ranges.trimixOxygenLabel,"")}}function Jbe(n,t){if(1&n&&(Oe(0,"div",36),D1(1),$e()),2&n){const e=U1(3);Pe(1),a2("Needs to be number ",e.ranges.tankHeLabel,"")}}function Xbe(n,t){if(1&n){const e=Ln();Oe(0,"button",38),ht("click",function(){Nt(e);const i=U1().$implicit;return U1(2).removeTank(i)}),Yt(1,"fa-icon",39),$e()}if(2&n){const e=U1(3);Pe(1),v1("icon",e.trashIcon)}}function Qbe(n,t){if(1&n){const e=Ln();bs(0),Oe(1,"tr",13)(2,"td",14)(3,"div",15),D1(4),$e()(),Oe(5,"td")(6,"div",16)(7,"input",17,18),ht("ngModelChange",function(i){return Nt(e).$implicit.size=i})("input",function(){return Nt(e),U1(2).apply()}),$e(),ft(9,qbe,2,1,"div",19),$e()(),Oe(10,"td")(11,"div",15)(12,"input",20,21),ht("ngModelChange",function(i){return Nt(e).$implicit.startPressure=i})("input",function(){return Nt(e),U1(2).apply()}),$e(),ft(14,Ybe,2,1,"div",19),$e()(),Oe(15,"td")(16,"div",22)(17,"input",23,24),ht("ngModelChange",function(i){return Nt(e).$implicit.o2=i})("input",function(){return Nt(e),U1(2).apply()}),$e(),Oe(19,"div",25),Yt(20,"button",26),Oe(21,"div",27),ft(22,Kbe,2,1,"button",28),$e()()()(),Oe(23,"td")(24,"div",15),ft(25,Zbe,2,1,"div",19),Oe(26,"input",29,30),ht("ngModelChange",function(i){return Nt(e).$implicit.he=i})("change",function(){return Nt(e),U1(2).apply()}),$e(),ft(28,Jbe,2,1,"div",19),$e()(),Oe(29,"td"),ft(30,Xbe,2,1,"button",31),$e()(),Oe(31,"tr"),Yt(32,"td"),Oe(33,"td",32)(34,"div",33)(35,"small",34),D1(36),an(37,"number"),$e(),Yt(38,"app-gaslabel",35),$e()(),Yt(39,"td"),$e(),Ms()}if(2&n){const e=t.$implicit,r=Z2(8),i=Z2(13),a=Z2(18),s=Z2(27),y=U1(2);Pe(4),a2("",e.id,"."),Pe(3),h2("is-invalid",r.invalid&&(r.dirty||r.touched)),v1("ngModel",e.size)("rangeVal",y.ranges.tankSize)("min",y.ranges.tankSize[0])("max",y.ranges.tankSize[1]),Pe(2),v1("ngIf",r.invalid&&(r.dirty||r.touched)),Pe(3),h2("is-invalid",i.invalid&&(i.dirty||i.touched)),v1("ngModel",e.startPressure)("rangeVal",y.ranges.tankPressure)("min",y.ranges.tankPressure[0])("max",y.ranges.tankPressure[1]),Pe(2),v1("ngIf",i.invalid&&(i.dirty||i.touched)),Pe(3),h2("is-invalid",a.invalid&&(a.dirty||a.touched)),v1("ngModel",e.o2)("rangeVal",y.ranges.trimixOxygen)("min",y.ranges.trimixOxygen[0])("max",y.ranges.trimixOxygen[1]),Pe(5),v1("ngForOf",y.allNames),Pe(3),v1("ngIf",a.invalid&&(a.dirty||a.touched)),Pe(1),h2("is-invalid",s.invalid&&(s.dirty||s.touched)),v1("ngModel",e.he)("rangeVal",y.ranges.tankHe)("min",y.ranges.tankHe[0])("max",y.ranges.tankHe[1]),Pe(2),v1("ngIf",s.invalid&&(s.dirty||s.touched)),Pe(2),v1("ngIf",y.isFirstTank(e)),Pe(6),gi("SAC: ",cn(37,35,y.gasSac(e),"1.0-2")," ",y.units.sac,""),Pe(2),v1("tank",e.tank)("toxicity",y.toxicity)}}function eMe(n,t){if(1&n){const e=Ln();Oe(0,"div",6)(1,"table",7)(2,"tr"),Yt(3,"th"),Oe(4,"th")(5,"div",8),D1(6),$e()(),Oe(7,"th")(8,"div",8),D1(9),$e()(),Oe(10,"th")(11,"div",8),D1(12,"O2 [%]"),$e()(),Oe(13,"th")(14,"div",8),D1(15,"He [%]"),$e()(),Oe(16,"th")(17,"div",9)(18,"button",10),ht("click",function(){return Nt(e),U1().addTank()}),Yt(19,"fa-icon",11),$e()()()(),ft(20,Qbe,40,38,"ng-container",12),$e()()}if(2&n){const e=U1();Pe(6),a2("Size [",e.units.volume,"]"),Pe(3),a2("Pressure [",e.units.pressure,"]"),Pe(10),v1("icon",e.plusIcon),Pe(1),v1("ngForOf",e.tanks)}}function tMe(n,t){if(1&n&&(Oe(0,"div",48),D1(1),$e()),2&n){const e=U1(2);Pe(1),a2("Needs to be number ",e.ranges.tankSizeLabel,"")}}function nMe(n,t){if(1&n&&(Oe(0,"div",48),D1(1),$e()),2&n){const e=U1(2);Pe(1),a2("Needs to be number ",e.ranges.tankPressureLabel,"")}}function rMe(n,t){if(1&n){const e=Ln();Oe(0,"div",40)(1,"div",41)(2,"label",42),D1(3),Oe(4,"input",43,18),ht("ngModelChange",function(i){return Nt(e),U1().firstTank.size=i})("input",function(){return Nt(e),U1().apply()}),$e(),Oe(6,"small",34),D1(7),an(8,"number"),$e(),ft(9,tMe,2,1,"div",44),$e()(),Oe(10,"div",41)(11,"label",45),D1(12),Oe(13,"input",46,21),ht("input",function(){return Nt(e),U1().apply()})("ngModelChange",function(i){return Nt(e),U1().firstTank.startPressure=i}),$e(),ft(15,nMe,2,1,"div",44),$e()(),Oe(16,"div",41)(17,"app-nitrox-o2",47),ht("gasChange",function(){return Nt(e),U1().apply()})("assignBestMix",function(){return Nt(e),U1().assignBestMix()}),$e()()()}if(2&n){const e=Z2(5),r=Z2(14),i=U1();Pe(3),a2("Size [",i.units.volume,"]: "),Pe(1),h2("is-invalid",e.invalid&&(e.dirty||e.touched)),v1("ngModel",i.firstTank.size)("rangeVal",i.ranges.tankSize)("min",i.ranges.tankSize[0])("max",i.ranges.tankSize[1]),Pe(3),gi("SAC: ",cn(8,20,i.gasSac(i.firstTank),"1.0-2")," ",i.units.sac,""),Pe(2),v1("ngIf",e.invalid&&(e.dirty||e.touched)),Pe(3),a2("Start pressure [",i.units.pressure,"]: "),Pe(1),h2("is-invalid",r.invalid&&(r.dirty||r.touched)),v1("ngModel",i.firstTank.startPressure)("rangeVal",i.ranges.tankPressure)("min",i.ranges.tankPressure[0])("max",i.ranges.tankPressure[1]),Pe(2),v1("ngIf",r.invalid&&(r.dirty||r.touched)),Pe(2),v1("tank",i.firstTank.tank)("toxicity",i.toxicity)}}class JI{constructor(t,e){this.tank=t,this.units=e}get id(){return this.tank.id}get size(){return this.units.fromTankLiters(this.tank.size)}get startPressure(){return this.units.fromBar(this.tank.startPressure)}get o2(){return this.tank.o2}get he(){return this.tank.he}set size(t){this.tank.size=this.units.toTankLiters(t)}set startPressure(t){this.tank.startPressure=this.units.toBar(t)}set o2(t){this.tank.o2=t}set he(t){this.tank.he=t}}let iMe=(()=>{class n{constructor(e,r,i){this.planner=e,this.units=r,this.delayedCalc=i,this.icon=Tv,this.plusIcon=oy,this.trashIcon=uy,this.bound=[],this.toxicity=new a6(this.planner.options),this.allNames=w2.allNames(),this.updateTanks(),this.subscription=this.planner.tanksReloaded.subscribe(()=>this.updateTanks())}get firstTank(){return this.bound[0]}get ranges(){return this.units.ranges}get tanks(){return this.bound}get isComplex(){return this.planner.isComplex}isFirstTank(e){return this.firstTank!==e}gasSac(e){const r=this.planner.diver.gasSac(e.tank);return this.units.fromBar(r)}addTank(){this.planner.addTank(),this.updateTanks(),this.apply()}removeTank(e){this.planner.removeTank(e.tank),this.updateTanks(),this.apply()}assignBestMix(){this.firstTank.o2=this.toxicity.bestNitroxMix(this.planner.plan.maxDepth),this.apply()}assignStandardGas(e,r){e.tank.assignStandardGas(r),this.apply()}apply(){this.delayedCalc.schedule()}ngOnDestroy(){this.subscription.unsubscribe()}updateTanks(){const e=[];this.planner.tanks.forEach(r=>{const i=this.toBound(r);e.push(i)}),this.bound=e}toBound(e){return new JI(e,this.units)}}return n.\u0275fac=function(e){return new(e||n)(z1(z4),z1(dr),z1(a7))},n.\u0275cmp=un({type:n,selectors:[["app-tanks"]],decls:7,vars:5,consts:[[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[4,"ngIf"],["class","card-body",4,"ngIf"],["class","card-body row",4,"ngIf"],[1,"card-body"],[1,"table","table-borderless"],[1,""],[1,"m-0","p-0"],["type","button",1,"btn","btn-default","m-0","p-0","text-primary",3,"click"],[1,"px-0","mx-0",3,"icon"],[4,"ngFor","ngForOf"],[1,"p-0"],[1,"align-center"],[1,"mb-0","pb-0","px-1"],[1,"mb-0","pb-0","px-0"],["name","size","type","number","required","","step","1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange","input"],["size","ngModel"],["class","text-danger",4,"ngIf"],["name","startPressure","type","number","required","","step","1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange","input"],["startPressure","ngModel"],[1,"input-group","mb-0","pb-0","px-1"],["name","gasO2","type","number","required","","step","1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange","input"],["gasO2","ngModel"],["ngbDropdown","","placement","bottom-right",1,"input-group-append","d-inline-block"],["id","o2Menu","type","button","ngbDropdownToggle","",1,"btn","btn-default","border"],["ngbDropdownMenu","","aria-labelledby","o2Menu","aria-expanded","false"],["type","button","class","dropdown-item",3,"click",4,"ngFor","ngForOf"],["name","gasHe","type","number","required","","step","1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange","change"],["gasHe","ngModel"],["type","button","class","btn text-secondary m-0 p-0 align-top",3,"click",4,"ngIf"],["colspan","4"],[1,"mt-0","pt-0"],[1,"form-text","text-muted"],[1,"float-end",3,"tank","toxicity"],[1,"text-danger"],["type","button",1,"dropdown-item",3,"click"],["type","button",1,"btn","text-secondary","m-0","p-0","align-top",3,"click"],[3,"icon"],[1,"card-body","row"],[1,"mb-2","col-auto"],["for","size",1,"form-label"],["name","size","type","number","required","","step","1",1,"form-control","col-auto",3,"ngModel","rangeVal","min","max","ngModelChange","input"],["class","text-danger form-text",4,"ngIf"],["for","startPressure",1,"form-label"],["name","startPressure","type","number","required","","step","1",1,"form-control","col-auto",3,"ngModel","rangeVal","min","max","input","ngModelChange"],[3,"tank","toxicity","gasChange","assignBestMix"],[1,"text-danger","form-text"]],template:function(e,r){1&e&&(Oe(0,"div",0)(1,"div",1),Yt(2,"fa-icon",2),ft(3,$be,2,0,"span",3),ft(4,Wbe,2,0,"span",3),$e(),ft(5,eMe,21,4,"div",4),ft(6,rMe,18,23,"div",5),$e()),2&e&&(Pe(2),v1("icon",r.icon),Pe(1),v1("ngIf",!r.isComplex),Pe(1),v1("ngIf",r.isComplex),Pe(1),v1("ngIf",r.isComplex),Pe(1),v1("ngIf",!r.isComplex))},directives:[Q4,C3,oa,$4,q4,W4,u4,A4,G4,V4,J4,bi,Vo,ja,yy,ZI],pipes:[Ds],styles:[".o2-max-width[_ngcontent-%COMP%]{max-width:170px}"]}),n})();function aMe(n,t){if(1&n&&(Oe(0,"div",7),D1(1),$e()),2&n){const e=U1();Pe(1),a2("Needs to be number ",e.units.ranges.depthLabel,"")}}let oMe=(()=>{class n{constructor(e){this.units=e,this.bestMix="",this.applyMaxDepth=new v2,this.inputChange=new v2,this.depthChange=new v2,this._depth=30}get depth(){return this._depth}get boundDepth(){return this.units.fromMeters(this.depth)}set depth(e){this._depth=e,this.depthChange.emit(this._depth)}set boundDepth(e){this.depth=this.units.toMeters(e)}fireApplyMaxDepth(){this.applyMaxDepth.emit()}}return n.\u0275fac=function(e){return new(e||n)(z1(dr))},n.\u0275cmp=un({type:n,selectors:[["app-depth"]],inputs:{bestMix:"bestMix",depth:"depth"},outputs:{applyMaxDepth:"applyMaxDepth",inputChange:"inputChange",depthChange:"depthChange"},decls:11,vars:9,consts:[["for","depthField",1,"form-label"],[1,"row","row-cols-auto"],["id","depthField","name","depthField","type","number","required","","step","1",1,"form-control","col-auto","ms-3",3,"ngModel","rangeVal","min","max","ngModelChange","input"],["depthField","ngModel"],["type","button",1,"btn","btn-secondary","ms-2",3,"click"],[1,"text-muted","form-text"],["class","text-danger form-text",4,"ngIf"],[1,"text-danger","form-text"]],template:function(e,r){if(1&e&&(Oe(0,"label",0),D1(1),Oe(2,"div",1)(3,"input",2,3),ht("ngModelChange",function(a){return r.boundDepth=a})("input",function(){return r.inputChange.emit()}),$e(),Oe(5,"button",4),ht("click",function(){return r.fireApplyMaxDepth()}),D1(6,"Max"),$e()(),Oe(7,"div")(8,"small",5),D1(9),$e()()(),ft(10,aMe,2,1,"div",6)),2&e){const i=Z2(4);Pe(1),a2("Depth [",r.units.length,"]: "),Pe(2),h2("is-invalid",i.invalid&&(i.dirty||i.touched)),v1("ngModel",r.boundDepth)("rangeVal",r.units.ranges.depth)("min",r.units.ranges.depth[0])("max",r.units.ranges.depth[1]),Pe(6),a2("Best mix is ",r.bestMix,""),Pe(1),v1("ngIf",i.invalid&&(i.dirty||i.touched))}},directives:[$4,q4,W4,u4,A4,G4,V4,J4,C3],styles:[""]}),n})();function sMe(n,t){1&n&&(Oe(0,"span"),D1(1,"Depth"),$e())}function lMe(n,t){1&n&&(Oe(0,"span"),D1(1,"Depths"),$e())}function cMe(n,t){if(1&n){const e=Ln();Oe(0,"button",15),ht("click",function(){return Nt(e),U1(2).applyMaxDuration()}),D1(1,"Max"),$e()}}function uMe(n,t){if(1&n){const e=Ln();Oe(0,"button",15),ht("click",function(){return Nt(e),U1(2).applyNdlDuration()}),D1(1,"No deco"),$e()}}function fMe(n,t){if(1&n&&(Oe(0,"div",16),D1(1),$e()),2&n){const e=U1(2);Pe(1),a2("Needs to be number ",e.ranges.durationLabel,"")}}function dMe(n,t){if(1&n){const e=Ln();Oe(0,"div",5)(1,"div",6)(2,"label",7),D1(3,"Bottom time [min]: "),Oe(4,"div",8)(5,"input",9,10),ht("ngModelChange",function(i){return Nt(e),U1().planDuration=i})("input",function(){return Nt(e),U1().apply()}),$e(),ft(7,cMe,2,0,"button",11),ft(8,uMe,2,0,"button",11),$e()(),Oe(9,"div")(10,"small",12),D1(11),an(12,"number"),$e()(),ft(13,fMe,2,1,"div",13),$e(),Oe(14,"div",6)(15,"app-depth",14),ht("depthChange",function(i){return Nt(e),U1().plannedDepth=i})("applyMaxDepth",function(){return Nt(e),U1().applyMaxDepth()})("inputChange",function(){return Nt(e),U1().apply()}),$e()()()}if(2&n){const e=Z2(6),r=U1();Pe(5),h2("is-invalid",e.invalid&&(e.dirty||e.touched)),v1("ngModel",r.planDuration)("rangeVal",r.ranges.duration)("min",r.ranges.duration[0])("max",r.ranges.duration[1]),Pe(2),v1("ngIf",r.showMaxDuration),Pe(1),v1("ngIf",r.planner.ndlValid),Pe(3),a2("No deco limit ",cn(12,12,r.noDecoTime,"1.0-0")," min"),Pe(2),v1("ngIf",e.invalid&&(e.dirty||e.touched)),Pe(2),v1("depth",r.plannedDepth)("bestMix",r.bestNitroxMix)}}function hMe(n,t){if(1&n&&(Oe(0,"div",35),D1(1),$e()),2&n){const e=U1(3);Pe(1),a2("Needs to be number ",e.ranges.depthLabel,"")}}function pMe(n,t){if(1&n&&(Oe(0,"div",35),D1(1),$e()),2&n){const e=U1(3);Pe(1),a2("Needs to be number ",e.ranges.durationLabel,"")}}function CMe(n,t){if(1&n){const e=Ln();Oe(0,"button",36),ht("click",function(){const a=Nt(e).$implicit,s=U1().$implicit;return U1(2).assignTank(s,a)}),D1(1),$e()}if(2&n){const e=t.$implicit,r=U1(3);Pe(1),Mn(r.tankLabel(e))}}function gMe(n,t){if(1&n){const e=Ln();Oe(0,"button",37),ht("click",function(){Nt(e);const i=U1().$implicit;return U1(2).removeSegment(i)}),Yt(1,"fa-icon",20),$e()}if(2&n){const e=U1(3);Pe(1),v1("icon",e.removeIcon)}}function mMe(n,t){if(1&n){const e=Ln();Oe(0,"tr")(1,"td")(2,"div",22),D1(3),an(4,"number"),$e()(),Oe(5,"td")(6,"div",23)(7,"input",24,25),ht("ngModelChange",function(i){return Nt(e).$implicit.endDepth=i})("input",function(){return Nt(e),U1(2).depthChanged()}),$e(),ft(9,hMe,2,1,"div",26),$e()(),Oe(10,"td")(11,"div",23)(12,"input",27,28),ht("ngModelChange",function(i){return Nt(e).$implicit.duration=i})("input",function(){return Nt(e),U1(2).apply()}),$e(),ft(14,pMe,2,1,"div",26),$e()(),Oe(15,"td")(16,"div",23),Yt(17,"input",29),Oe(18,"div",30),Yt(19,"button",31),Oe(20,"div",32),ft(21,CMe,2,1,"button",33),$e()()()(),Oe(22,"td"),ft(23,gMe,2,1,"button",34),$e()()}if(2&n){const e=t.$implicit,r=Z2(8),i=Z2(13),a=U1(2);Pe(3),Mn(cn(4,18,e.startDepth,"1.0-0")),Pe(4),h2("is-invalid",r.invalid&&(r.dirty||r.touched)),v1("ngModel",e.endDepth)("rangeVal",a.ranges.depth)("min",a.ranges.depth[0])("max",a.ranges.depth[1]),Pe(2),v1("ngIf",r.invalid&&(r.dirty||r.touched)),Pe(3),h2("is-invalid",i.invalid&&(i.dirty||i.touched)),v1("ngModel",e.duration)("rangeVal",a.ranges.duration)("min",a.ranges.duration[0])("max",a.ranges.duration[1]),Pe(2),v1("ngIf",i.invalid&&(i.dirty||i.touched)),Pe(3),v1("ngModel",e.tankLabel),Pe(4),v1("ngForOf",a.tanks),Pe(2),v1("ngIf",a.minimumSegments)}}function vMe(n,t){if(1&n){const e=Ln();Oe(0,"div",5)(1,"table",17)(2,"tr")(3,"th",18)(4,"div"),D1(5),$e()(),Oe(6,"th")(7,"div"),D1(8),$e()(),Oe(9,"th")(10,"div"),D1(11,"Duration [min]"),$e()(),Oe(12,"th")(13,"div"),D1(14,"Tank"),$e()(),Oe(15,"th")(16,"button",19),ht("click",function(){return Nt(e),U1().addSegment()}),Yt(17,"fa-icon",20),$e()()(),ft(18,mMe,24,21,"tr",21),$e()()}if(2&n){const e=U1();Pe(5),a2("From [",e.units.length,"]"),Pe(3),a2("To [",e.units.length,"]"),Pe(9),v1("icon",e.addIcon),Pe(1),v1("ngForOf",e.levels)}}let yMe=(()=>{class n{constructor(e,r,i){this.planner=e,this.units=r,this.delayedCalc=i,this.formValid=!0,this.cardIcon=DN,this.addIcon=oy,this.removeIcon=uy,this._levels=[],this.plan=this.planner.plan,this.dive=this.planner.dive,this.toxicity=new a6(this.planner.options),this.updateLevels(),this.subscription=this.plan.reloaded.subscribe(()=>this.updateLevels())}get plannedDepth(){return this.plan.maxDepth}get ranges(){return this.units.ranges}get isComplex(){return this.planner.isComplex}get minimumSegments(){return this.plan.minimumSegments}get levels(){return this._levels}get tanks(){return this.planner.tanks}get noDecoTime(){return this.plan.noDecoTime}get showMaxDuration(){return this.dive.calculated&&this.dive.maxTime>0}get planDuration(){return this.plan.duration}get bestNitroxMix(){const e=this.toxicity.bestNitroxMix(this.plan.maxDepth)/100;return w2.nameFor(e)}set planDuration(e){this.planner.assignDuration(e)}set plannedDepth(e){this.planner.assignDepth(e)}ngOnDestroy(){this.subscription.unsubscribe()}applyMaxDuration(){this.planner.applyMaxDuration(),this.apply()}applyNdlDuration(){this.planner.applyNdlDuration(),this.apply()}applyMaxDepth(){const r=this.toxicity.maxDepth(this.planner.firstTank);this.planner.assignDepth(r),this.apply()}tankLabel(e){return ed.tankLabel(this.units,e)}addSegment(){this.planner.addSegment(),this.updateLevels(),this.apply()}removeSegment(e){this.planner.removeSegment(e.segment),this.updateLevels(),this.apply()}depthChanged(){this.plan.fixDepths(),this.apply()}assignTank(e,r){e.tank=r,this.apply()}apply(){this.delayedCalc.schedule()}updateLevels(){const r=[];this.plan.segments.forEach(i=>{const a=new ed(this.units,i);r.push(a)}),this._levels=r}}return n.\u0275fac=function(e){return new(e||n)(z1(z4),z1(dr),z1(a7))},n.\u0275cmp=un({type:n,selectors:[["app-depths"]],inputs:{formValid:"formValid",plannedDepth:"plannedDepth"},decls:7,vars:5,consts:[[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[4,"ngIf"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"mb-3"],["for","duration",1,"form-label"],[1,"row","row-cols-auto"],["id","duration","name","duration","type","number","required","","step","1",1,"form-control","ms-3","mt-2",3,"ngModel","rangeVal","min","max","ngModelChange","input"],["duration","ngModel"],["type","button","class","btn btn-secondary ms-2 mt-2",3,"click",4,"ngIf"],[1,"text-muted","form-text"],["class","text-danger form-text",4,"ngIf"],[3,"depth","bestMix","depthChange","applyMaxDepth","inputChange"],["type","button",1,"btn","btn-secondary","ms-2","mt-2",3,"click"],[1,"text-danger","form-text"],[1,"table","table-borderless"],[1,"text-end"],["type","button",1,"btn","btn-default","m-0","p-0","text-primary",3,"click"],[3,"icon"],[4,"ngFor","ngForOf"],[1,"mb-0","pb-0","px-1","text-end"],[1,"input-group","mb-0","pb-0","px-1"],["name","endDepth","type","number","required","","step","1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange","input"],["endDepth","ngModel"],["class","text-danger",4,"ngIf"],["name","duration2","type","number","required","","step","1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange","input"],["duration2","ngModel"],["id","tanks","type","text","readonly","",1,"form-control",3,"ngModel"],["ngbDropdown","","placement","bottom-right",1,"input-group-append","d-inline-block"],["id","tankMenu","type","button","ngbDropdownToggle","",1,"btn","btn-default","border"],["ngbDropdownMenu","","aria-labelledby","tankMenu","aria-expanded","false"],["type","button","class","dropdown-item",3,"click",4,"ngFor","ngForOf"],["type","button","class","btn text-secondary m-0 p-0 align-top",3,"click",4,"ngIf"],[1,"text-danger"],["type","button",1,"dropdown-item",3,"click"],["type","button",1,"btn","text-secondary","m-0","p-0","align-top",3,"click"]],template:function(e,r){1&e&&(Oe(0,"div",0)(1,"div",1),Yt(2,"fa-icon",2),ft(3,sMe,2,0,"span",3),ft(4,lMe,2,0,"span",3),$e(),ft(5,dMe,16,15,"div",4),ft(6,vMe,19,4,"div",4),$e()),2&e&&(Pe(2),v1("icon",r.cardIcon),Pe(1),v1("ngIf",!r.isComplex),Pe(1),v1("ngIf",r.isComplex),Pe(1),v1("ngIf",!r.isComplex),Pe(1),v1("ngIf",r.isComplex))},directives:[Q4,C3,$4,q4,W4,u4,A4,G4,V4,J4,oMe,oa,bi,Vo,ja],pipes:[Ds],styles:[""]}),n})();function _Me(n,t){1&n&&(Oe(0,"div")(1,"label",5),D1(2,"Conservatism (Gradient factors):"),$e()())}function bMe(n,t){1&n&&(Oe(0,"span"),D1(1,"Gradient low [%]:"),$e())}function MMe(n,t){1&n&&(Oe(0,"div",13),D1(1," Needs to be number 10 - 100 lower than gradient high"),$e())}function xMe(n,t){if(1&n){const e=Ln();bs(0),Yt(1,"input",6,7),Oe(3,"div",8),Yt(4,"button",9),Oe(5,"div",10)(6,"button",11),ht("click",function(){return Nt(e),U1().lowConservatism()}),D1(7),$e(),Oe(8,"button",11),ht("click",function(){return Nt(e),U1().mediumConservatism()}),D1(9),$e(),Oe(10,"button",11),ht("click",function(){return Nt(e),U1().highConservatism()}),D1(11),$e()()(),ft(12,MMe,2,0,"div",12),Ms()}if(2&n){const e=Z2(2),r=U1();Pe(1),v1("ngModel",r.conservatism),Pe(6),Mn(r.standards.lowName),Pe(2),Mn(r.standards.mediumName),Pe(2),Mn(r.standards.highName),Pe(1),v1("ngIf",e.invalid&&(e.dirty||e.touched))}}function wMe(n,t){1&n&&(Oe(0,"div",13),D1(1," Needs to be number 10 - 100 lower than gradient high"),$e())}const XI=function(){return[10,100]};function LMe(n,t){if(1&n){const e=Ln();bs(0),Oe(1,"input",14,7),ht("ngModelChange",function(i){return Nt(e),U1().plannedGfLow=i})("input",function(){return Nt(e),U1().inputChange.emit()}),$e(),Oe(3,"div",8),Yt(4,"button",9),Oe(5,"div",10)(6,"button",11),ht("click",function(){return Nt(e),U1().lowConservatism()}),D1(7),$e(),Oe(8,"button",11),ht("click",function(){return Nt(e),U1().mediumConservatism()}),D1(9),$e(),Oe(10,"button",11),ht("click",function(){return Nt(e),U1().highConservatism()}),D1(11),$e()()(),ft(12,wMe,2,0,"div",12),Ms()}if(2&n){const e=Z2(2),r=U1();Pe(1),h2("is-invalid",e.invalid&&(e.dirty||e.touched)),v1("ngModel",r.plannedGfLow)("rangeVal",tc(8,XI)),Pe(6),Mn(r.standards.lowName),Pe(2),Mn(r.standards.mediumName),Pe(2),Mn(r.standards.highName),Pe(1),v1("ngIf",e.invalid&&(e.dirty||e.touched))}}function DMe(n,t){1&n&&(Oe(0,"div",13),D1(1," Needs to be number 10 - 100 higher than gradient low "),$e())}function SMe(n,t){if(1&n){const e=Ln();Oe(0,"div",0)(1,"label",15),D1(2,"Gradient high [%]: "),Oe(3,"input",16,17),ht("ngModelChange",function(i){return Nt(e),U1().plannedGfHigh=i})("input",function(){return Nt(e),U1().inputChange.emit()}),$e(),ft(5,DMe,2,0,"div",12),$e()()}if(2&n){const e=Z2(4),r=U1();Pe(3),h2("is-invalid",e.invalid&&(e.dirty||e.touched)),v1("ngModel",r.plannedGfHigh)("rangeVal",tc(5,XI)),Pe(2),v1("ngIf",e.invalid&&(e.dirty||e.touched))}}let QI=(()=>{class n{constructor(){this.showTitle=!1,this.simple=!1,this.gfLowChange=new v2,this.gfHighChange=new v2,this.inputChange=new v2,this.standards=new vV,this._gfLow=s2.gfLow,this._gfHigh=s2.gfHigh}get gfLow(){return this._gfLow}get gfHigh(){return this._gfHigh}get conservatism(){return this.standards.labelFor(this.gfLow,this.gfHigh)}get plannedGfHigh(){return 100*this.gfHigh}get plannedGfLow(){return 100*this.gfLow}set plannedGfHigh(e){this.gfHigh=e/100}set plannedGfLow(e){this.gfLow=e/100}set gfHigh(e){this._gfHigh=e,this.gfHighChange.emit(this._gfHigh)}set gfLow(e){this._gfLow=e,this.gfLowChange.emit(this._gfLow)}lowConservatism(){this.applyStandards(this.standards.lowName)}mediumConservatism(){this.applyStandards(this.standards.mediumName)}highConservatism(){this.applyStandards(this.standards.highName)}applyStandards(e){const r=this.standards.get(e);this.gfLow=r.gfLow,this.gfHigh=r.gfHeigh,this.inputChange.emit()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=un({type:n,selectors:[["app-gradients"]],inputs:{showTitle:"showTitle",simple:"simple",gfLow:"gfLow",gfHigh:"gfHigh"},outputs:{gfLowChange:"gfLowChange",gfHighChange:"gfHighChange",inputChange:"inputChange"},decls:8,vars:5,consts:[[1,"mb-2"],[4,"ngIf"],["for","gfLowField",1,"form-label"],[1,"input-group","gradients-max-width"],["class","mb-2",4,"ngIf"],["for","conservatism",1,"form-label"],["id","gfLowField","name","gfLowField","type","text","readonly","",1,"form-control","col-auto",3,"ngModel"],["gfLowField","ngModel"],["ngbDropdown","","placement","bottom-right",1,"input-group-append","d-inline-block"],["type","button","id","conservatismMenu","ngbDropdownToggle","",1,"btn","btn-default","border"],["ngbDropdownMenu","","aria-labelledby","conservatismMenu","aria-expanded","false"],["type","button",1,"dropdown-item",3,"click"],["class","text-danger form-text",4,"ngIf"],[1,"text-danger","form-text"],["id","gfLowField","name","gfLowField","type","number","required","","min","10","max","100","step","1",1,"form-control","col-auto",3,"ngModel","rangeVal","ngModelChange","input"],["for","gfHighField",1,"form-label"],["id","gfHighField","name","gfHighField","type","number","required","","min","10","max","100","step","1",1,"form-control","col-auto",3,"ngModel","rangeVal","ngModelChange","input"],["gfHighField","ngModel"]],template:function(e,r){1&e&&(Oe(0,"div",0),ft(1,_Me,3,0,"div",1),Oe(2,"label",2),ft(3,bMe,2,0,"span",1),Oe(4,"div",3),ft(5,xMe,13,5,"ng-container",1),ft(6,LMe,13,9,"ng-container",1),$e()()(),ft(7,SMe,6,6,"div",4)),2&e&&(Pe(1),v1("ngIf",r.showTitle),Pe(2),v1("ngIf",!r.simple),Pe(2),v1("ngIf",r.simple),Pe(1),v1("ngIf",!r.simple),Pe(1),v1("ngIf",!r.simple))},directives:[C3,u4,G4,V4,bi,Vo,ja,q4,W4,$4,A4,J4],styles:[""]}),n})(),eP=(()=>{class n{constructor(){this.salinityChange=new v2,this.inputChange=new v2,this.freshName="Fresh",this.brackishName="Brackish (EN13319)",this.saltName="Salt",this._salinity=$r.fresh}get salinity(){return this._salinity}get salinityOption(){switch(this.salinity){case $r.salt:return this.saltName;case $r.brackish:return this.brackishName;default:return this.freshName}}set salinity(e){this._salinity=e,this.salinityChange.emit(this._salinity)}useFresh(){this.salinity=$r.fresh,this.inputChange.emit()}useBrackish(){this.salinity=$r.brackish,this.inputChange.emit()}useSalt(){this.salinity=$r.salt,this.inputChange.emit()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=un({type:n,selectors:[["app-salinity"]],inputs:{salinity:"salinity"},outputs:{salinityChange:"salinityChange",inputChange:"inputChange"},decls:14,vars:6,consts:[["for","salinity",1,"form-label"],[1,"input-group","gradients-max-width"],["id","salinity","name","salinity","type","text","readonly","",1,"form-control","col-auto",3,"ngModel"],["salinity","ngModel"],["ngbDropdown","","placement","bottom-right",1,"input-group-append","d-inline-block"],["type","button","id","salinityMenu","ngbDropdownToggle","",1,"btn","btn-default","border"],["ngbDropdownMenu","","aria-labelledby","salinityMenu","aria-expanded","false"],["type","button",1,"dropdown-item",3,"click"]],template:function(e,r){if(1&e&&(Oe(0,"label",0),D1(1,"Water salinity: "),Oe(2,"div",1),Yt(3,"input",2,3),Oe(5,"div",4),Yt(6,"button",5),Oe(7,"div",6)(8,"button",7),ht("click",function(){return r.useFresh()}),D1(9),$e(),Oe(10,"button",7),ht("click",function(){return r.useBrackish()}),D1(11),$e(),Oe(12,"button",7),ht("click",function(){return r.useSalt()}),D1(13),$e()()()()()),2&e){const i=Z2(4);Pe(3),h2("is-invalid",i.invalid&&(i.dirty||i.touched)),v1("ngModel",r.salinityOption),Pe(6),Mn(r.freshName),Pe(2),Mn(r.brackishName),Pe(2),Mn(r.saltName)}},directives:[u4,G4,V4,bi,Vo,ja],styles:[""]}),n})();function TMe(n,t){if(1&n&&(Oe(0,"div",10),D1(1),$e()),2&n){const e=U1();Pe(1),a2(" Needs to be number ",e.units.ranges.altitudeLabel," ")}}let tP=(()=>{class n{constructor(e){this.units=e,this.altitudeChange=new v2,this.inputChange=new v2,this.altitude=0,this.metricLevels=[0,300,800,1500],this.imperialLevels=[0,1e3,2600,5e3]}get altitudeBound(){return this.units.fromMeters(this.altitude)}get smallHill(){return this.levelLabel(1)}get mountains(){return this.levelLabel(2)}get highMountains(){return this.levelLabel(3)}set altitudeBound(e){this.altitude=this.units.toMeters(e),this.altitudeChange.emit(this.altitude)}seaLevel(){this.setLevel(0)}setHill(){this.setLevel(1)}setMountains(){this.setLevel(2)}setHighMountains(){this.setLevel(3)}setLevel(e){const r=this.selectLevels()[e];this.altitudeBound=r,this.inputChange.emit()}levelLabel(e){return`${this.selectLevels()[e]} ${this.units.altitude}`}selectLevels(){return this.units.imperialUnits?this.imperialLevels:this.metricLevels}}return n.\u0275fac=function(e){return new(e||n)(z1(dr))},n.\u0275cmp=un({type:n,selectors:[["app-altitude"]],inputs:{altitude:"altitude"},outputs:{altitudeChange:"altitudeChange",inputChange:"inputChange"},decls:18,vars:11,consts:[[1,"mb-2"],["for","altitudeField",1,"form-label"],[1,"input-group","col-auto","o2-max-width"],["id","altitudeField","name","altitudeField","type","number","required","","step","1",1,"form-control","col-auto",3,"ngModel","rangeVal","min","max","ngModelChange","input"],["altitudeField","ngModel"],["ngbDropdown","","placement","bottom-right",1,"input-group-append","d-inline-block"],["id","o2Menu","type","button","ngbDropdownToggle","",1,"btn","btn-default","border"],["ngbDropdownMenu","","aria-labelledby","o2Menu","aria-expanded","false"],["type","button",1,"dropdown-item",3,"click"],["class","text-danger form-text",4,"ngIf"],[1,"text-danger","form-text"]],template:function(e,r){if(1&e&&(Oe(0,"div",0)(1,"label",1),D1(2),Oe(3,"div",2)(4,"input",3,4),ht("ngModelChange",function(a){return r.altitudeBound=a})("input",function(){return r.inputChange.emit()}),$e(),Oe(6,"div",5),Yt(7,"button",6),Oe(8,"div",7)(9,"button",8),ht("click",function(){return r.seaLevel()}),D1(10,"Sea level"),$e(),Oe(11,"button",8),ht("click",function(){return r.setHill()}),D1(12),$e(),Oe(13,"button",8),ht("click",function(){return r.setMountains()}),D1(14),$e(),Oe(15,"button",8),ht("click",function(){return r.setHighMountains()}),D1(16),$e()()(),ft(17,TMe,2,1,"div",9),$e()()()),2&e){const i=Z2(5);Pe(2),a2("Altitude [",r.units.altitude,"]: "),Pe(2),h2("is-invalid",i.invalid&&(i.dirty||i.touched)),v1("ngModel",r.altitudeBound)("rangeVal",r.units.ranges.altitude)("min",r.units.ranges.altitude[0])("max",r.units.ranges.altitude[1]),Pe(8),Mn(r.smallHill),Pe(2),Mn(r.mountains),Pe(2),Mn(r.highMountains),Pe(1),v1("ngIf",i.invalid&&(i.dirty||i.touched))}},directives:[$4,q4,W4,u4,A4,G4,V4,J4,bi,Vo,ja,C3],styles:[""]}),n})();function HMe(n,t){if(1&n){const e=Ln();Oe(0,"div")(1,"div",12)(2,"div",13)(3,"app-gradients",14),ht("gfLowChange",function(i){return Nt(e),U1().options.gfLow=i})("gfHighChange",function(i){return Nt(e),U1().options.gfHigh=i})("inputChange",function(){return Nt(e),U1().applyOptions()}),$e()(),Oe(4,"div",13)(5,"app-salinity",15),ht("salinityChange",function(i){return Nt(e),U1().options.salinity=i})("inputChange",function(){return Nt(e),U1().applyOptions()}),$e()(),Oe(6,"div",13)(7,"app-altitude",16),ht("altitudeChange",function(i){return Nt(e),U1().options.altitude=i})("inputChange",function(){return Nt(e),U1().applyOptions()}),$e()()()()}if(2&n){const e=U1();Pe(3),v1("gfLow",e.options.gfLow)("gfHigh",e.options.gfHigh)("simple",!0)("showTitle",!0),Pe(2),v1("salinity",e.options.salinity),Pe(2),v1("altitude",e.options.altitude)}}function VMe(n,t){if(1&n&&(Oe(0,"div",72),D1(1),$e()),2&n){const e=U1(2);Pe(1),a2(" Needs to be number ",e.ranges.narcoticDepthLabel," ")}}function AMe(n,t){1&n&&(Oe(0,"div",72),D1(1," Needs to be number 1 - 100 mim "),$e())}function kMe(n,t){1&n&&(Oe(0,"div",72),D1(1," Needs to be number 1 - 10 min "),$e())}function zMe(n,t){if(1&n&&(Oe(0,"div",72),D1(1),$e()),2&n){const e=U1(2);Pe(1),a2(" Needs to be number ",e.ranges.lastStopDepthLabel," ")}}function NMe(n,t){if(1&n&&(Oe(0,"div",72),D1(1),$e()),2&n){const e=U1(2);Pe(1),a2(" Needs to be number ",e.ranges.speedLabel," ")}}function EMe(n,t){if(1&n&&(Oe(0,"div",72),D1(1),$e()),2&n){const e=U1(2);Pe(1),a2(" Needs to be number ",e.ranges.speedLabel," ")}}function OMe(n,t){if(1&n&&(Oe(0,"div",72),D1(1),$e()),2&n){const e=U1(2);Pe(1),a2(" Needs to be number ",e.ranges.speedLabel," ")}}function IMe(n,t){if(1&n&&(Oe(0,"div",72),D1(1),$e()),2&n){const e=U1(2);Pe(1),a2(" Needs to be number ",e.ranges.speedLabel," ")}}const PMe=function(){return[1,100]},RMe=function(){return[1,10]};function FMe(n,t){if(1&n){const e=Ln();Oe(0,"div")(1,"ul",17)(2,"li",18)(3,"button",19),D1(4,"Environment"),$e()(),Oe(5,"li",18)(6,"button",20),D1(7,"Conservatism"),$e()(),Oe(8,"li",18)(9,"button",21),D1(10,"Gases"),$e()(),Oe(11,"li",18)(12,"button",22),D1(13,"Stops"),$e()(),Oe(14,"li",18)(15,"button",23),D1(16,"Speeds"),$e()()(),Oe(17,"div",24)(18,"div",25)(19,"div",26)(20,"div",27)(21,"app-altitude",16),ht("altitudeChange",function(i){return Nt(e),U1().options.altitude=i})("inputChange",function(){return Nt(e),U1().applyOptions()}),$e()(),Oe(22,"div",27)(23,"app-salinity",15),ht("salinityChange",function(i){return Nt(e),U1().options.salinity=i})("inputChange",function(){return Nt(e),U1().applyOptions()}),$e()()()(),Oe(24,"div",28)(25,"div",29)(26,"app-gradients",14),ht("gfLowChange",function(i){return Nt(e),U1().options.gfLow=i})("gfHighChange",function(i){return Nt(e),U1().options.gfHigh=i})("inputChange",function(){return Nt(e),U1().applyOptions()}),$e()()(),Oe(27,"div",30)(28,"div",31)(29,"div",13)(30,"label",32),D1(31),Oe(32,"input",33,34),ht("ngModelChange",function(i){return Nt(e),U1().maxEND=i})("input",function(){return Nt(e),U1().applyOptions()}),$e(),ft(34,VMe,2,1,"div",35),$e()(),Oe(35,"div",36)(36,"div",37)(37,"input",38),ht("change",function(){return Nt(e),U1().switchOxygenNarcotic()}),$e(),Oe(38,"label",39),D1(39,"Oxygen is narcotic"),$e()()()()(),Oe(40,"div",40)(41,"div",31)(42,"div",13)(43,"label",41),D1(44,"Problem solving duration [min]: "),Oe(45,"input",42,43),ht("ngModelChange",function(i){return Nt(e),U1().options.problemSolvingDuration=i})("input",function(){return Nt(e),U1().applyOptions()}),$e(),ft(47,AMe,2,0,"div",35),$e()(),Oe(48,"div",13)(49,"label",44),D1(50,"Gas switch duration [min]: "),Oe(51,"input",45,46),ht("ngModelChange",function(i){return Nt(e),U1().options.gasSwitchDuration=i})("input",function(){return Nt(e),U1().applyOptions()}),$e(),ft(53,kMe,2,0,"div",35),$e()(),Oe(54,"div",13)(55,"label",47),D1(56,"Add 3 min safety stop: "),Oe(57,"div",48),Yt(58,"input",49,50),Oe(60,"div",51),Yt(61,"button",52),Oe(62,"div",53)(63,"button",54),ht("click",function(){return Nt(e),U1().useSafetyOff()}),D1(64),$e(),Oe(65,"button",54),ht("click",function(){return Nt(e),U1().useSafetyAuto()}),D1(66),$e(),Oe(67,"button",54),ht("click",function(){return Nt(e),U1().useSafetyOn()}),D1(68),$e()()()()()(),Oe(69,"div",13)(70,"label",55),D1(71),Oe(72,"input",56,57),ht("input",function(){return Nt(e),U1().applyOptions()})("ngModelChange",function(i){return Nt(e),U1().lastStopDepth=i}),$e(),ft(74,zMe,2,1,"div",35),$e()(),Oe(75,"div",36)(76,"div",37)(77,"input",58),ht("change",function(){return Nt(e),U1().switchStopsRounding()}),$e(),Oe(78,"label",39),D1(79,"Round deco stops to minutes"),$e()()()()(),Oe(80,"div",59)(81,"div",31)(82,"div",13)(83,"label",60),D1(84),Oe(85,"input",61,62),ht("ngModelChange",function(i){return Nt(e),U1().descentSpeed=i})("input",function(){return Nt(e),U1().applyOptions()}),$e(),ft(87,NMe,2,1,"div",35),$e()(),Oe(88,"div",13)(89,"label",63),D1(90),Oe(91,"input",64,65),ht("ngModelChange",function(i){return Nt(e),U1().ascentSpeed6m=i})("input",function(){return Nt(e),U1().applyOptions()}),$e(),ft(93,EMe,2,1,"div",35),$e()()(),Oe(94,"div",31)(95,"div",13)(96,"label",66),D1(97),Oe(98,"input",67,68),ht("input",function(){return Nt(e),U1().applyOptions()})("ngModelChange",function(i){return Nt(e),U1().ascentSpeed50percTo6m=i}),$e(),ft(100,OMe,2,1,"div",35),$e()(),Oe(101,"div",13)(102,"label",69),D1(103),Oe(104,"input",70,71),ht("ngModelChange",function(i){return Nt(e),U1().ascentSpeed50perc=i})("input",function(){return Nt(e),U1().applyOptions()}),$e(),ft(106,IMe,2,1,"div",35),$e()()()()()()}if(2&n){const e=Z2(33),r=Z2(46),i=Z2(52),a=Z2(59),s=Z2(73),y=Z2(86),H=Z2(92),J=Z2(99),he=Z2(105),be=U1();Pe(21),v1("altitude",be.options.altitude),Pe(2),v1("salinity",be.options.salinity),Pe(3),v1("gfLow",be.options.gfLow)("gfHigh",be.options.gfHigh)("simple",!1)("showTitle",!1),Pe(5),a2("Maximum narcotic depth [",be.units.length,"]: "),Pe(1),h2("is-invalid",e.invalid&&(e.dirty||e.touched)),v1("ngModel",be.maxEND)("rangeVal",be.ranges.narcoticDepth)("min",be.ranges.narcoticDepth[0])("max",be.ranges.narcoticDepth[1]),Pe(2),v1("ngIf",e.invalid&&(e.dirty||e.touched)),Pe(3),v1("checked",be.options.oxygenNarcotic),Pe(8),h2("is-invalid",r.invalid&&(r.dirty||r.touched)),v1("ngModel",be.options.problemSolvingDuration)("rangeVal",tc(76,PMe)),Pe(2),v1("ngIf",r.invalid&&(r.dirty||r.touched)),Pe(4),h2("is-invalid",i.invalid&&(i.dirty||i.touched)),v1("ngModel",be.options.gasSwitchDuration)("rangeVal",tc(77,RMe)),Pe(2),v1("ngIf",i.invalid&&(i.dirty||i.touched)),Pe(5),h2("is-invalid",a.invalid&&(a.dirty||a.touched)),v1("ngModel",be.safetyStopOption),Pe(6),Mn(be.safetyOffName),Pe(2),Mn(be.safetyAutoName),Pe(2),Mn(be.safetyOnName),Pe(3),a2("Last stop depth [",be.units.length,"]: "),Pe(1),h2("is-invalid",s.invalid&&(s.dirty||s.touched)),v1("ngModel",be.lastStopDepth)("rangeVal",be.ranges.lastStopDepth)("min",be.ranges.lastStopDepth[0])("max",be.ranges.lastStopDepth[1]),Pe(2),v1("ngIf",s.invalid&&(s.dirty||s.touched)),Pe(3),v1("checked",be.options.roundStopsToMinutes),Pe(7),a2("Descent speed [",be.units.speed,"]: "),Pe(1),h2("is-invalid",y.invalid&&(y.dirty||y.touched)),v1("ngModel",be.descentSpeed)("rangeVal",be.ranges.speed)("min",be.ranges.speed[0])("max",be.ranges.speed[1]),Pe(2),v1("ngIf",y.invalid&&(y.dirty||y.touched)),Pe(3),xs("Ascent ",be.units.lastSpeedLevel," ",be.units.length," to surface [",be.units.speed,"]: "),Pe(1),h2("is-invalid",H.invalid&&(H.dirty||H.touched)),v1("ngModel",be.ascentSpeed6m)("rangeVal",be.ranges.speed)("min",be.ranges.speed[0])("max",be.ranges.speed[1]),Pe(2),v1("ngIf",H.invalid&&(H.dirty||H.touched)),Pe(4),xs("Ascent up to ",be.units.lastSpeedLevel," ",be.units.length," depth [",be.units.speed,"]: "),Pe(1),h2("is-invalid",J.invalid&&(J.dirty||J.touched)),v1("ngModel",be.ascentSpeed50percTo6m)("rangeVal",be.ranges.speed)("min",be.ranges.speed[0])("max",be.ranges.speed[1]),Pe(2),v1("ngIf",J.invalid&&(J.dirty||J.touched)),Pe(3),a2("Ascent up to 50% depth [",be.units.speed,"]: "),Pe(1),h2("is-invalid",he.invalid&&(he.dirty||he.touched)),v1("ngModel",be.ascentSpeed50perc)("rangeVal",be.ranges.speed)("min",be.ranges.speed[0])("max",be.ranges.speed[1]),Pe(2),v1("ngIf",he.invalid&&(he.dirty||he.touched))}}let BMe=(()=>{class n{constructor(e,r,i,a){this.units=e,this.options=r,this.planner=i,this.delayedCalc=a,this.formValid=!0,this.allUsableName="All usable",this.halfUsableName="Half usable",this.thirdUsableName="Thirds usable",this.safetyOffName="Never",this.safetyOnName="Always",this.strategy=this.allUsableName,this.icon=Wv,this.plan=this.planner.plan}get isComplex(){return this.planner.isComplex}get ranges(){return this.units.ranges}get safetyAutoName(){return`Auto (> ${this.units.autoStopLevel} ${this.units.length})`}get safetyStopOption(){switch(this.options.safetyStop){case k4.never:return this.safetyOffName;case k4.always:return this.safetyOnName;default:return this.safetyAutoName}}get maxEND(){return this.units.fromMeters(this.options.maxEND)}get lastStopDepth(){return this.units.fromMeters(this.options.lastStopDepth)}get descentSpeed(){return this.units.fromMeters(this.options.descentSpeed)}get ascentSpeed6m(){return this.units.fromMeters(this.options.ascentSpeed6m)}get ascentSpeed50percTo6m(){return this.units.fromMeters(this.options.ascentSpeed50percTo6m)}get ascentSpeed50perc(){return this.units.fromMeters(this.options.ascentSpeed50perc)}set maxEND(e){this.options.maxEND=this.units.toMeters(e)}set lastStopDepth(e){this.options.lastStopDepth=this.units.toMeters(e)}set descentSpeed(e){this.options.descentSpeed=this.units.toMeters(e)}set ascentSpeed6m(e){this.options.ascentSpeed6m=this.units.toMeters(e)}set ascentSpeed50percTo6m(e){this.options.ascentSpeed50percTo6m=this.units.toMeters(e)}set ascentSpeed50perc(e){this.options.ascentSpeed50perc=this.units.toMeters(e)}set isComplex(e){this.planner.isComplex=e,this.planner.isComplex||(this.setAllUsable(),this.options.resetToSimple(),this.planner.resetToSimple()),this.applyOptions()}reset(){switch(this.plan.strategy){case ha.HALF:this.halfUsable();break;case ha.THIRD:this.thirdUsable();break;default:this.allUsable()}}allUsable(){this.setAllUsable(),this.applyOptions()}setAllUsable(){this.plan.strategy=ha.ALL,this.strategy=this.allUsableName}halfUsable(){this.plan.strategy=ha.HALF,this.strategy=this.halfUsableName,this.applyOptions()}thirdUsable(){this.plan.strategy=ha.THIRD,this.strategy=this.thirdUsableName,this.applyOptions()}useRecreational(){this.options.useRecreational(),this.applyOptions()}useRecommended(){this.options.useRecommended(),this.applyOptions()}switchStopsRounding(){this.options.roundStopsToMinutes=!this.options.roundStopsToMinutes,this.applyOptions()}useSafetyOff(){this.options.useSafetyOff(),this.applyOptions()}useSafetyAuto(){this.options.useSafetyAuto(),this.applyOptions()}useSafetyOn(){this.options.useSafetyOn(),this.applyOptions()}switchOxygenNarcotic(){this.options.oxygenNarcotic=!this.options.oxygenNarcotic,this.applyOptions()}applyOptions(){this.planner.assignOptions(this.options.getOptions()),this.delayedCalc.schedule()}}return n.\u0275fac=function(e){return new(e||n)(z1(dr),z1(i6),z1(z4),z1(a7))},n.\u0275cmp=un({type:n,selectors:[["app-diveoptions"]],inputs:{formValid:"formValid"},decls:19,vars:4,consts:[[1,"card"],[1,"card-header"],[1,"float-start"],[1,"me-3",3,"icon"],[1,"float-end"],[1,"form-check","form-switch"],["type","checkbox","id","isComplex","mdbCheckbox","",1,"form-check-input",3,"checked","change"],["for","isComplex",1,"custom-control-label"],[1,"card-body"],[4,"ngIf"],["type","button",1,"btn","btn-secondary","me-2","mt-3",3,"click"],["type","button",1,"btn","btn-secondary","mt-3",3,"click"],[1,"mt-3","row"],[1,"mb-2","col-auto"],[3,"gfLow","gfHigh","simple","showTitle","gfLowChange","gfHighChange","inputChange"],[3,"salinity","salinityChange","inputChange"],[3,"altitude","altitudeChange","inputChange"],["id","myTab","role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["id","environment-tab","data-bs-toggle","tab","data-bs-target","#environment","type","button","role","tab","aria-controls","environment","aria-selected","true",1,"nav-link","active"],["id","conservatism-tab","data-bs-toggle","tab","data-bs-target","#conservatism","type","button","role","tab","aria-controls","conservatism","aria-selected","false",1,"nav-link"],["id","gases-tab","data-bs-toggle","tab","data-bs-target","#gases","type","button","role","tab","aria-controls","gases","aria-selected","false",1,"nav-link"],["id","stops-tab","data-bs-toggle","tab","data-bs-target","#stops","type","button","role","tab","aria-controls","stops","aria-selected","false",1,"nav-link"],["id","speeds-tab","data-bs-toggle","tab","data-bs-target","#speeds","type","button","role","tab","aria-controls","speeds","aria-selected","false",1,"nav-link"],["id","myTabContent",1,"tab-content"],["id","environment","role","tabpanel","aria-labelledby","environment-tab",1,"tab-pane","fade","show","active"],[1,"mt-3"],[1,"mb-2"],["id","conservatism","role","tabpanel","aria-labelledby","conservatism-tab",1,"tab-pane","fade"],[1,"col-sm","mt-3"],["id","gases","role","tabpanel","aria-labelledby","gases-tab",1,"tab-pane","fade"],[1,"row","mt-3"],["for","maxNarcoticDepth",1,"form-label"],["id","maxNarcoticDepth","name","maxNarcoticDepth","type","number","required","","step","1",1,"form-control","col-auto",3,"ngModel","rangeVal","min","max","ngModelChange","input"],["maxNarcoticDepth","ngModel"],["class","text-danger form-text",4,"ngIf"],[1,"row","ms-4"],[1,"form-check","form-switch","pb-1"],["type","checkbox","id","oxygenNarcotic","mdbCheckbox","",1,"form-check-input",3,"checked","change"],["for","roundStops",1,"form-check-label"],["id","stops","role","tabpanel","aria-labelledby","stops-tab",1,"tab-pane","fade"],["for","problem",1,"form-label"],["id","problem","name","problem","type","number","required","","min","1","max","100","step","1",1,"form-control","col-auto",3,"ngModel","rangeVal","ngModelChange","input"],["problem","ngModel"],["for","switchDuration",1,"form-label"],["id","switchDuration","name","switchDuration","type","number","required","","min","1","max","10","step","1",1,"form-control","col-auto",3,"ngModel","rangeVal","ngModelChange","input"],["switchDuration","ngModel"],["for","safetyStop",1,"form-label"],[1,"input-group","gradients-max-width"],["id","safetyStop","name","safetyStop","type","text","readonly","",1,"form-control","col-auto",3,"ngModel"],["safetyStop","ngModel"],["ngbDropdown","","placement","bottom-right",1,"input-group-append","d-inline-block"],["type","button","id","safetyStopMenu","ngbDropdownToggle","",1,"btn","btn-default","border"],["ngbDropdownMenu","","aria-labelledby","safetyStopMenu","aria-expanded","false"],["type","button",1,"dropdown-item",3,"click"],["for","lastStop",1,"form-label"],["id","lastStop","name","lastStop","type","number","required","","step","1",1,"form-control","col-auto",3,"ngModel","rangeVal","min","max","input","ngModelChange"],["lastStop","ngModel"],["type","checkbox","id","roundStops","mdbCheckbox","",1,"form-check-input",3,"checked","change"],["id","speeds","role","tabpanel","aria-labelledby","speeds-tab",1,"tab-pane","fade","container"],["for","descSpeed",1,"form-label"],["id","descSpeed","name","descSpeed","type","number","required","","step","1",1,"form-control","col-auto",3,"ngModel","rangeVal","min","max","ngModelChange","input"],["descSpeed","ngModel"],["for","ascSpeed",1,"form-label"],["id","ascSpeed","name","ascSpeed","type","number","required","","step","1",1,"form-control","col-auto",3,"ngModel","rangeVal","min","max","ngModelChange","input"],["ascSpeed","ngModel"],["for","ascSpeed2",1,"form-label"],["id","ascSpeed2","name","ascSpeed2","type","number","required","","step","1",1,"form-control","col-auto",3,"ngModel","rangeVal","min","max","input","ngModelChange"],["ascSpeed2","ngModel"],["for","ascSpeed3",1,"form-label"],["id","ascSpeed3","name","ascSpeed3","type","number","required","","step","1",1,"form-control","col-auto",3,"ngModel","rangeVal","min","max","ngModelChange","input"],["ascSpeed3","ngModel"],[1,"text-danger","form-text"]],template:function(e,r){1&e&&(Oe(0,"div",0)(1,"div",1)(2,"div",2),Yt(3,"fa-icon",3),Oe(4,"span"),D1(5,"Options"),$e()(),Oe(6,"div",4)(7,"div",5)(8,"input",6),ht("change",function(){return r.isComplex=!r.isComplex}),$e(),Oe(9,"label",7),D1(10,"Extended (Trimix)"),$e()()()(),Oe(11,"div",8),ft(12,HMe,8,6,"div",9),ft(13,FMe,107,78,"div",9),Oe(14,"div")(15,"button",10),ht("click",function(){return r.useRecreational()}),D1(16,"Recreational"),$e(),Oe(17,"button",11),ht("click",function(){return r.useRecommended()}),D1(18,"Recommended"),$e()()()()),2&e&&(Pe(3),v1("icon",r.icon),Pe(5),v1("checked",r.isComplex),Pe(4),v1("ngIf",!r.isComplex),Pe(1),v1("ngIf",r.isComplex))},directives:[Q4,C3,QI,eP,tP,$4,q4,W4,u4,A4,G4,V4,J4,bi,Vo,ja],styles:[""]}),n})();var nP=de(564);class pa{static selectChartTimeFormat(t){return pa.hasHoursRuntime(t)?"%H:%M:%S":"%M:%S"}static selectTimeFormat(t){return pa.hasHoursRuntime(t)?"mm:ss":"m:ss"}static hoursDuration(t){return t/pa.secondsPerHour}static hasHoursRuntime(t){return pa.hoursDuration(t)>=1}}pa.secondsPerHour=3600,pa.secondsPerDay=24*pa.secondsPerHour;let _y=(()=>{class n{constructor(e){this.plannerService=e,this.selectedChanged=new v2}set selectedTimeStamp(e){let r;if(e){const i=F2.secondsFromDate(e);r=this.plannerService.dive.wayPoints.find(a=>a.fits(i))}this.selected=r}set selected(e){this.lastSelected&&(this.lastSelected.selected=!1),this.lastSelected=e,e&&this.lastSelected&&(this.lastSelected.selected=!0),this.selectedChanged.emit(this.lastSelected)}}return n.\u0275fac=function(e){return new(e||n)(qt(z4))},n.\u0275prov=r2({token:n,factory:n.\u0275fac}),n})();function UMe(n,t){1&n&&(Oe(0,"div",1),D1(1," Calculating "),Yt(2,"div",2)(3,"div",3)(4,"div",4),$e())}let by=(()=>{class n{constructor(){this.show=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=un({type:n,selectors:[["app-calculating"]],inputs:{show:"show"},decls:1,vars:1,consts:[["class","mb-2 container loadbar",4,"ngIf"],[1,"mb-2","container","loadbar"],[1,"ms-2","orange","orange1"],[1,"orange","orange2"],[1,"orange","orange3"]],template:function(e,r){1&e&&ft(0,UMe,5,0,"div",0),2&e&&v1("ngIf",r.show)},directives:[C3],styles:[".orange[_ngcontent-%COMP%]{background-color:#ffa049}.loadbar[_ngcontent-%COMP%]   .orange1[_ngcontent-%COMP%]{animation-delay:.1s}.loadbar[_ngcontent-%COMP%]   .orange2[_ngcontent-%COMP%]{animation-delay:.2s}.loadbar[_ngcontent-%COMP%]   .orange3[_ngcontent-%COMP%]{animation-delay:.3s}.container[_ngcontent-%COMP%]{display:flex;justify-self:center;align-items:center;flex-direction:row}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:.5vw;height:.5vw;border-radius:100%;margin:.2vw;background-image:linear-gradient(145deg,rgba(255,255,255,.5) 0%,rgba(0,0,0,0) 100%);animation:bounce 1.5s .5s linear infinite}@keyframes bounce{0%,50%,to{transform:scale(1)}25%{transform:scale(.6)}75%{transform:scale(1.4)}}"]}),n})();const jMe=function(n,t){return{"plot-display":n,"plot-hidden":t}};let GMe=(()=>{class n{constructor(e,r,i){this.planer=e,this.units=r,this.selectedWaypoint=i,this.icon=zv,this.elementName="diveplot",this.options={displaylogo:!1,displayModeBar:!1,responsive:!0,autosize:!0,scrollZoom:!1,editable:!1},this.cursor1={xid:1,type:"line",xref:"x",yref:"y",x0:new Date("2001-06-12 12:30"),y0:0,x1:new Date("2001-06-12 12:30"),y1:1,fillcolor:"#d3d3d3",line:{color:"rgb(31, 119, 180)",width:5}},this.dive=this.planer.dive,this.layout={autosize:!0,showlegend:!1,xaxis:{fixedrange:!0,title:{text:"Time [min]"}},yaxis:{fixedrange:!0,autorange:"reversed",title:{text:`Depth [${r.length}]`}},margin:{l:40,r:10,b:40,t:10},hovermode:"x unified",hoverlabel:{bgcolor:"rgba(200, 200, 200, 0.25)",bordercolor:"rgba(200, 200, 200, 0.25)"},shapes:[]},this.updateLayoutThickFormat(),this.subscription=this.planer.wayPointsCalculated.subscribe(()=>this.plotCharts()),this.selectedWaypoint.selectedChanged.subscribe(a=>this.selectWayPoint(a))}get noDecoTime(){return this.planer.plan.noDecoTime}ngOnInit(){this.plotCharts(),this.hookChartEvents()}ngOnDestroy(){this.subscription.unsubscribe()}scaleWidth(e,r){return e*r/this.dive.totalDuration}scaleHeight(e,r){return e*(r-10)/this.planer.plan.maxDepth}plotlyHover(e){this.selectedWaypoint.selectedTimeStamp=e.points[0].x}plotlyHoverLeave(e){this.selectedWaypoint.selectedTimeStamp=""}selectWayPoint(e){const i={shapes:[]};e&&(this.cursor1.x0=F2.toDate(e.startTime),this.cursor1.x1=F2.toDate(e.endTime),this.cursor1.y0=e.startDepth,this.cursor1.y1=e.endDepth,i.shapes.push(this.cursor1)),nP.relayout(this.elementName,i)}plotCharts(){this.updateLayoutThickFormat();const e=this.plotAverageDepth(),r=this.plotDepths(),i=this.plotCeilings(),a=this.plotEvents();nP.react(this.elementName,[e,r,i,a],this.layout,this.options)}hookChartEvents(){this.chartElement=document.getElementById(this.elementName),this.chartElement.on("plotly_hover",e=>this.plotlyHover(e)),this.chartElement.on("plotly_click",e=>this.plotlyHover(e)),this.chartElement.on("plotly_unhover",e=>this.plotlyHoverLeave(e))}updateLayoutThickFormat(){this.layout.xaxis.tickformat=pa.selectChartTimeFormat(this.dive.totalDuration)}plotAverageDepth(){const e=[],r=[];return this.dive.wayPoints.length>0&&this.transformAverageDepth(this.dive.wayPoints,e,r),{x:e,y:r,type:"scatter",line:{dash:"dot"},name:"Avg. depth",marker:{color:"rgb(62, 157, 223)"},hovertemplate:`%{y:.2f}  ${this.units.length}`}}transformAverageDepth(e,r,i){if(e.length<=0)return 0;let a=0,s=0;return e.forEach(y=>{if(y.duration>0)for(let H=0;H<y.duration;H++){r.push(F2.toDate(s));const he=y.depthAt(H)+s*a;s++,a=he/s;const be=I2.round(a,1);i.push(be)}}),a}plotDepths(){const e=[],r=[],i={x:e,y:r,type:"scatter",name:"Depth",marker:{color:"rgb(31, 119, 180)"},hovertemplate:`%{y:.2f}  ${this.units.length}`};return this.dive.wayPoints.forEach((a,s,y)=>{this.resampleDepthsToSeconds(e,r,a)}),i}plotCeilings(){const e=[],r=[];return this.dive.ceilings.forEach((a,s,y)=>{e.push(F2.toDate(a.time));const H=I2.roundTwoDecimals(a.depth);r.push(H)}),{x:e,y:r,type:"scatter",fill:"tozeroy",name:"Ceiling",marker:{color:"rgb(255, 160, 73)"},hovertemplate:`%{y:.2f}  ${this.units.length}`}}plotEvents(){const e=[],r=[],i=[],a={x:e,y:r,labels:i,text:i,type:"scatter",mode:"text+markers",fill:"tozeroy",name:"Event",hovertemplate:"Switch to %{text}",texttemplate:"%{text}",textposition:"top center",fillcolor:"rgba(0, 0, 0, 0)",marker:{color:"rgba(31, 119, 180, 0.5)",size:8,line:{color:"rgba(31, 119, 180, 0.7)",width:2}},showlegend:!1};return this.convertEvents(e,r,i),a}convertEvents(e,r,i){this.dive.events.forEach((a,s,y)=>{if(a.type===tr.gasSwitch){e.push(F2.toDate(a.timeStamp)),r.push(a.depth);const H=a.gas;if(H){const J=w2.nameFor(H.fO2,H.fHe);i.push(`${J}`)}}})}resampleDepthsToSeconds(e,r,i){const a=(i.endDepth-i.startDepth)/i.duration;for(let s=i.startTime;s<i.endTime;s++){e.push(F2.toDate(s));let y=i.startDepth+(s-i.startTime)*a;y=I2.roundTwoDecimals(y),r.push(y)}e.push(F2.toDate(i.endTime)),r.push(i.endDepth)}}return n.\u0275fac=function(e){return new(e||n)(z1(z4),z1(dr),z1(_y))},n.\u0275cmp=un({type:n,selectors:[["app-profilechart"]],decls:8,vars:6,consts:[[1,"card"],[1,"card-header"],["flip","vertical",1,"me-3",3,"icon"],[1,"card-body","card-minheight"],[3,"show"],["id","diveplot",1,"diveplot",3,"ngClass"]],template:function(e,r){1&e&&(Oe(0,"div",0)(1,"div",1),Yt(2,"fa-icon",2),Oe(3,"span"),D1(4,"Profile chart"),$e()(),Oe(5,"div",3),Yt(6,"app-calculating",4)(7,"div",5),$e()()),2&e&&(Pe(2),v1("icon",r.icon),Pe(4),v1("show",!r.dive.profileCalculated),Pe(1),v1("ngClass",xo(3,jMe,r.dive.profileCalculated,!r.dive.profileCalculated)))},directives:[Q4,by,hc],styles:[".dive-level[_ngcontent-%COMP%]{stroke:#4169e1;stroke-width:2}.dive-surface[_ngcontent-%COMP%]{stroke:navy;stroke-width:4}.dive-waypoint[_ngcontent-%COMP%]{text-anchor:end}.dive-nodeco[_ngcontent-%COMP%]{fill:red;r:6}.dive-plot[_ngcontent-%COMP%]{position:relative;width:100%;height:450px}.plot-display[_ngcontent-%COMP%]{display:block}.plot-hidden[_ngcontent-%COMP%]{display:none}"]}),n})(),rP=(()=>{class n{constructor(e){this.datePipe=e}transform(e,r){const i=F2.toDate(e),a=pa.selectTimeFormat(r),s=this.datePipe.transform(i,a)||"";let y=pa.hoursDuration(e);return y=Math.trunc(y),y>=1?`${y}:${s}`:s}}return n.\u0275fac=function(e){return new(e||n)(z1(BC,16))},n.\u0275pipe=I3({name:"duration",type:n,pure:!0}),n})();function $Me(n,t){1&n&&(Oe(0,"th"),D1(1,"Gas"),$e())}function WMe(n,t){1&n&&(Oe(0,"tr")(1,"td",7),Yt(2,"app-calculating",8),$e()()),2&n&&(Pe(2),v1("show",!0))}function qMe(n,t){if(1&n&&(Oe(0,"td"),D1(1),$e()),2&n){const e=U1().$implicit;Pe(1),Mn(e.gasName)}}const YMe=function(n){return{"table-active":n}};function KMe(n,t){if(1&n){const e=Ln();Oe(0,"tr",9),ht("mouseover",function(){const a=Nt(e).$implicit;return U1().highlightRow(a)})("mouseleave",function(){return Nt(e),U1().highlightRow(void 0)}),Oe(1,"td"),Yt(2,"fa-icon",10),$e(),Oe(3,"td"),D1(4),$e(),Oe(5,"td"),D1(6),an(7,"duration"),$e(),Oe(8,"td"),D1(9),an(10,"duration"),$e(),ft(11,qMe,2,1,"td",5),$e()}if(2&n){const e=t.$implicit,r=U1();v1("ngClass",function nc(n,t,e,r){return gM(St(),v(),n,t,e,r)}(14,YMe,e.selected)),Pe(2),v1("icon",r.swimActionIcon(e))("ngClass",r.iconClasses(e))("title",r.iconTitle(e)),Pe(2),Mn(e.endDepth),Pe(2),Mn(cn(7,8,e.duration,r.totalDuration)),Pe(3),Mn(cn(10,11,e.endTime,r.totalDuration)),Pe(2),v1("ngIf",r.isComplex)}}let ZMe=(()=>{class n{constructor(e,r,i){this.planner=e,this.units=r,this.selectedWaypoint=i,this.down=LV,this.up=OV,this.hover=HV,this.tasks=kN,this.switch=hO,this.dive=this.planner.dive}get isComplex(){return this.planner.isComplex}get totalDuration(){return this.dive.totalDuration}swimActionIcon(e){switch(e.swimAction){case vr.ascent:return this.up;case vr.descent:return this.down;case vr.switch:return this.switch;default:return this.hover}}iconTitle(e){switch(e.swimAction){case vr.ascent:return"ascent";case vr.descent:return"descent";case vr.switch:return"switch";default:return"hover"}}iconClasses(e){return{"swim-down":e.swimAction===vr.descent,"swim-up":e.swimAction===vr.ascent,"swim-hover":e.swimAction===vr.hover||e.swimAction===vr.switch}}highlightRow(e){this.selectedWaypoint.selected=e}}return n.\u0275fac=function(e){return new(e||n)(z1(z4),z1(dr),z1(_y))},n.\u0275cmp=un({type:n,selectors:[["app-waypoints"]],decls:19,vars:5,consts:[[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body","card-minheight"],[1,"table"],[4,"ngIf"],[3,"ngClass","mouseover","mouseleave",4,"ngFor","ngForOf"],["colspan","5"],[3,"show"],[3,"ngClass","mouseover","mouseleave"],[3,"icon","ngClass","title"]],template:function(e,r){1&e&&(Oe(0,"div",0)(1,"div",1),Yt(2,"fa-icon",2),Oe(3,"span"),D1(4,"Dive way points"),$e()(),Oe(5,"div",3)(6,"table",4)(7,"tbody")(8,"tr"),Yt(9,"th"),Oe(10,"th"),D1(11),$e(),Oe(12,"th"),D1(13,"Duration [min]"),$e(),Oe(14,"th"),D1(15,"Run [min]"),$e(),ft(16,$Me,2,0,"th",5),$e(),ft(17,WMe,3,1,"tr",5),ft(18,KMe,12,16,"tr",6),$e()()()()),2&e&&(Pe(2),v1("icon",r.tasks),Pe(9),a2("Depth [",r.units.length,"]"),Pe(5),v1("ngIf",r.isComplex),Pe(1),v1("ngIf",!r.dive.profileCalculated),Pe(1),v1("ngForOf",r.dive.wayPoints))},directives:[Q4,C3,by,oa,hc],pipes:[rP],styles:[".swim-down[_ngcontent-%COMP%]{color:#deb887}.swim-up[_ngcontent-%COMP%]{color:#8a2be2}.swim-hover[_ngcontent-%COMP%]{color:#1e90ff}"]}),n})();function iP(n,t,e){return void 0===e&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function aP(n){return[d4,Z4,K4,h4].some(function(t){return n[t]>=0})}const oP={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function JMe(n){var t=n.state,e=n.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,s=j5(t,{elementContext:"reference"}),y=j5(t,{altBoundary:!0}),H=iP(s,r),J=iP(y,i,a),he=aP(H),be=aP(J);t.modifiersData[e]={referenceClippingOffsets:H,popperEscapeOffsets:J,isReferenceHidden:he,hasPopperEscaped:be},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":he,"data-popper-escaped":be})}};var My=cf({defaultModifiers:[Pg,Rg,Fg,Bg,Ug,Ng,Og,Ig,oP]});const xy="transitionend",sP=n=>{let t=n.getAttribute("data-bs-target");if(!t||"#"===t){let e=n.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),t=e&&"#"!==e?e.trim():null}return t},wy=n=>{const t=sP(n);return t&&document.querySelector(t)?t:null},Fs=n=>{const t=sP(n);return t?document.querySelector(t):null},lP=n=>{n.dispatchEvent(new Event(xy))},o6=n=>!(!n||"object"!=typeof n)&&(void 0!==n.jquery&&(n=n[0]),void 0!==n.nodeType),Bs=n=>o6(n)?n.jquery?n[0]:n:"string"==typeof n&&n.length>0?document.querySelector(n):null,qa=(n,t,e)=>{Object.keys(e).forEach(r=>{const i=e[r],a=t[r],s=a&&o6(a)?"element":(n=>null==n?`${n}`:{}.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase())(a);if(!new RegExp(i).test(s))throw new TypeError(`${n.toUpperCase()}: Option "${r}" provided type "${s}" but expected type "${i}".`)})},o7=n=>!(!o6(n)||0===n.getClientRects().length)&&"visible"===getComputedStyle(n).getPropertyValue("visibility"),s6=n=>!(n&&n.nodeType===Node.ELEMENT_NODE&&!n.classList.contains("disabled"))||(void 0!==n.disabled?n.disabled:n.hasAttribute("disabled")&&"false"!==n.getAttribute("disabled")),cP=n=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof n.getRootNode){const t=n.getRootNode();return t instanceof ShadowRoot?t:null}return n instanceof ShadowRoot?n:n.parentNode?cP(n.parentNode):null},Md=()=>{},uP=()=>{const{jQuery:n}=window;return n&&!document.body.hasAttribute("data-bs-no-jquery")?n:null},Ly=[],N4=()=>"rtl"===document.documentElement.dir,Di=n=>{(n=>{"loading"===document.readyState?(Ly.length||document.addEventListener("DOMContentLoaded",()=>{Ly.forEach(t=>t())}),Ly.push(n)):n()})(()=>{const t=uP();if(t){const e=n.NAME,r=t.fn[e];t.fn[e]=n.jQueryInterface,t.fn[e].Constructor=n,t.fn[e].noConflict=()=>(t.fn[e]=r,n.jQueryInterface)}})},l6=n=>{"function"==typeof n&&n()},fP=(n,t,e=!0)=>{if(!e)return void l6(n);const i=(n=>{if(!n)return 0;let{transitionDuration:t,transitionDelay:e}=window.getComputedStyle(n);const r=Number.parseFloat(t),i=Number.parseFloat(e);return r||i?(t=t.split(",")[0],e=e.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(e))):0})(t)+5;let a=!1;const s=({target:y})=>{y===t&&(a=!0,t.removeEventListener(xy,s),l6(n))};t.addEventListener(xy,s),setTimeout(()=>{a||lP(t)},i)},dP=(n,t,e,r)=>{let i=n.indexOf(t);if(-1===i)return n[!e&&r?n.length-1:0];const a=n.length;return i+=e?1:-1,r&&(i=(i+a)%a),n[Math.max(0,Math.min(i,a-1))]},axe=/[^.]*(?=\..*)\.|.*/,oxe=/\..*/,sxe=/::\d+$/,Dy={};let hP=1;const lxe={mouseenter:"mouseover",mouseleave:"mouseout"},cxe=/^(mouseenter|mouseleave)/i,pP=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function CP(n,t){return t&&`${t}::${hP++}`||n.uidEvent||hP++}function gP(n){const t=CP(n);return n.uidEvent=t,Dy[t]=Dy[t]||{},Dy[t]}function mP(n,t,e=null){const r=Object.keys(n);for(let i=0,a=r.length;i<a;i++){const s=n[r[i]];if(s.originalHandler===t&&s.delegationSelector===e)return s}return null}function vP(n,t,e){const r="string"==typeof t,i=r?e:t;let a=_P(n);return pP.has(a)||(a=n),[r,i,a]}function yP(n,t,e,r,i){if("string"!=typeof t||!n)return;if(e||(e=r,r=null),cxe.test(t)){const Ke=V1=>function(F1){if(!F1.relatedTarget||F1.relatedTarget!==F1.delegateTarget&&!F1.delegateTarget.contains(F1.relatedTarget))return V1.call(this,F1)};r?r=Ke(r):e=Ke(e)}const[a,s,y]=vP(t,e,r),H=gP(n),J=H[y]||(H[y]={}),he=mP(J,s,a?e:null);if(he)return void(he.oneOff=he.oneOff&&i);const be=CP(s,t.replace(axe,"")),ke=a?function fxe(n,t,e){return function r(i){const a=n.querySelectorAll(t);for(let{target:s}=i;s&&s!==this;s=s.parentNode)for(let y=a.length;y--;)if(a[y]===s)return i.delegateTarget=s,r.oneOff&&It.off(n,i.type,t,e),e.apply(s,[i]);return null}}(n,e,r):function uxe(n,t){return function e(r){return r.delegateTarget=n,e.oneOff&&It.off(n,r.type,t),t.apply(n,[r])}}(n,e);ke.delegationSelector=a?e:null,ke.originalHandler=s,ke.oneOff=i,ke.uidEvent=be,J[be]=ke,n.addEventListener(y,ke,a)}function Sy(n,t,e,r,i){const a=mP(t[e],r,i);!a||(n.removeEventListener(e,a,Boolean(i)),delete t[e][a.uidEvent])}function _P(n){return n=n.replace(oxe,""),lxe[n]||n}const It={on(n,t,e,r){yP(n,t,e,r,!1)},one(n,t,e,r){yP(n,t,e,r,!0)},off(n,t,e,r){if("string"!=typeof t||!n)return;const[i,a,s]=vP(t,e,r),y=s!==t,H=gP(n),J=t.startsWith(".");if(void 0!==a){if(!H||!H[s])return;return void Sy(n,H,s,a,i?e:null)}J&&Object.keys(H).forEach(be=>{!function dxe(n,t,e,r){const i=t[e]||{};Object.keys(i).forEach(a=>{if(a.includes(r)){const s=i[a];Sy(n,t,e,s.originalHandler,s.delegationSelector)}})}(n,H,be,t.slice(1))});const he=H[s]||{};Object.keys(he).forEach(be=>{const ke=be.replace(sxe,"");if(!y||t.includes(ke)){const Ke=he[be];Sy(n,H,s,Ke.originalHandler,Ke.delegationSelector)}})},trigger(n,t,e){if("string"!=typeof t||!n)return null;const r=uP(),i=_P(t),a=t!==i,s=pP.has(i);let y,H=!0,J=!0,he=!1,be=null;return a&&r&&(y=r.Event(t,e),r(n).trigger(y),H=!y.isPropagationStopped(),J=!y.isImmediatePropagationStopped(),he=y.isDefaultPrevented()),s?(be=document.createEvent("HTMLEvents"),be.initEvent(i,H,!0)):be=new CustomEvent(t,{bubbles:H,cancelable:!0}),void 0!==e&&Object.keys(e).forEach(ke=>{Object.defineProperty(be,ke,{get:()=>e[ke]})}),he&&be.preventDefault(),J&&n.dispatchEvent(be),be.defaultPrevented&&void 0!==y&&y.preventDefault(),be}},Us=new Map,s7={set(n,t,e){Us.has(n)||Us.set(n,new Map);const r=Us.get(n);r.has(t)||0===r.size?r.set(t,e):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`)},get:(n,t)=>Us.has(n)&&Us.get(n).get(t)||null,remove(n,t){if(!Us.has(n))return;const e=Us.get(n);e.delete(t),0===e.size&&Us.delete(n)}};class Ca{constructor(t){(t=Bs(t))&&(this._element=t,s7.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s7.remove(this._element,this.constructor.DATA_KEY),It.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach(t=>{this[t]=null})}_queueCallback(t,e,r=!0){fP(t,e,r)}static getInstance(t){return s7.get(Bs(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.1.3"}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}}const xd=(n,t="hide")=>{const r=n.NAME;It.on(document,`click.dismiss${n.EVENT_KEY}`,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),s6(this))return;const a=Fs(this)||this.closest(`.${r}`);n.getOrCreateInstance(a)[t]()})},bP=".bs.alert",Cxe=`close${bP}`,gxe=`closed${bP}`;class wd extends Ca{static get NAME(){return"alert"}close(){if(It.trigger(this._element,Cxe).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),It.trigger(this._element,gxe),this.dispose()}static jQueryInterface(t){return this.each(function(){const e=wd.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}xd(wd,"close"),Di(wd);const MP='[data-bs-toggle="button"]';class Ld extends Ca{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each(function(){const e=Ld.getOrCreateInstance(this);"toggle"===t&&e[t]()})}}function xP(n){return"true"===n||"false"!==n&&(n===Number(n).toString()?Number(n):""===n||"null"===n?null:n)}function Ty(n){return n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}It.on(document,"click.bs.button.data-api",MP,n=>{n.preventDefault();const t=n.target.closest(MP);Ld.getOrCreateInstance(t).toggle()}),Di(Ld);const kr={setDataAttribute(n,t,e){n.setAttribute(`data-bs-${Ty(t)}`,e)},removeDataAttribute(n,t){n.removeAttribute(`data-bs-${Ty(t)}`)},getDataAttributes(n){if(!n)return{};const t={};return Object.keys(n.dataset).filter(e=>e.startsWith("bs")).forEach(e=>{let r=e.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),t[r]=xP(n.dataset[e])}),t},getDataAttribute:(n,t)=>xP(n.getAttribute(`data-bs-${Ty(t)}`)),offset(n){const t=n.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}},position:n=>({top:n.offsetTop,left:n.offsetLeft})},K2={find:(n,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,n)),findOne:(n,t=document.documentElement)=>Element.prototype.querySelector.call(t,n),children:(n,t)=>[].concat(...n.children).filter(e=>e.matches(t)),parents(n,t){const e=[];let r=n.parentNode;for(;r&&r.nodeType===Node.ELEMENT_NODE&&3!==r.nodeType;)r.matches(t)&&e.push(r),r=r.parentNode;return e},prev(n,t){let e=n.previousElementSibling;for(;e;){if(e.matches(t))return[e];e=e.previousElementSibling}return[]},next(n,t){let e=n.nextElementSibling;for(;e;){if(e.matches(t))return[e];e=e.nextElementSibling}return[]},focusableChildren(n){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(", ");return this.find(t,n).filter(e=>!s6(e)&&o7(e))}},wP="carousel",ei=".bs.carousel",LP=".data-api",DP={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},Hxe={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},c6="next",u6="prev",f6="left",l7="right",Vxe={ArrowLeft:l7,ArrowRight:f6},Axe=`slide${ei}`,SP=`slid${ei}`,kxe=`keydown${ei}`,zxe=`mouseenter${ei}`,Nxe=`mouseleave${ei}`,Exe=`touchstart${ei}`,Oxe=`touchmove${ei}`,Ixe=`touchend${ei}`,Pxe=`pointerdown${ei}`,Rxe=`pointerup${ei}`,Fxe=`dragstart${ei}`,Bxe=`load${ei}${LP}`,Uxe=`click${ei}${LP}`,d6="active",Dd=".active.carousel-item";class Po extends Ca{constructor(t,e){super(t),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._indicatorsElement=K2.findOne(".carousel-indicators",this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return DP}static get NAME(){return wP}next(){this._slide(c6)}nextWhenVisible(){!document.hidden&&o7(this._element)&&this.next()}prev(){this._slide(u6)}pause(t){t||(this._isPaused=!0),K2.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(lP(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(t){this._activeElement=K2.findOne(Dd,this._element);const e=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0)){if(!this._isSliding)return e===t?(this.pause(),void this.cycle()):void this._slide(t>e?c6:u6,this._items[t]);It.one(this._element,SP,()=>this.to(t))}}_getConfig(t){return t=Cn(Cn(Cn({},DP),kr.getDataAttributes(this._element)),"object"==typeof t?t:{}),qa(wP,t,Hxe),t}_handleSwipe(){const t=Math.abs(this.touchDeltaX);if(t<=40)return;const e=t/this.touchDeltaX;this.touchDeltaX=0,e&&this._slide(e>0?l7:f6)}_addEventListeners(){this._config.keyboard&&It.on(this._element,kxe,t=>this._keydown(t)),"hover"===this._config.pause&&(It.on(this._element,zxe,t=>this.pause(t)),It.on(this._element,Nxe,t=>this.cycle(t))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const t=a=>this._pointerEvent&&("pen"===a.pointerType||"touch"===a.pointerType),e=a=>{t(a)?this.touchStartX=a.clientX:this._pointerEvent||(this.touchStartX=a.touches[0].clientX)},r=a=>{this.touchDeltaX=a.touches&&a.touches.length>1?0:a.touches[0].clientX-this.touchStartX},i=a=>{t(a)&&(this.touchDeltaX=a.clientX-this.touchStartX),this._handleSwipe(),"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(s=>this.cycle(s),500+this._config.interval))};K2.find(".carousel-item img",this._element).forEach(a=>{It.on(a,Fxe,s=>s.preventDefault())}),this._pointerEvent?(It.on(this._element,Pxe,a=>e(a)),It.on(this._element,Rxe,a=>i(a)),this._element.classList.add("pointer-event")):(It.on(this._element,Exe,a=>e(a)),It.on(this._element,Oxe,a=>r(a)),It.on(this._element,Ixe,a=>i(a)))}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=Vxe[t.key];e&&(t.preventDefault(),this._slide(e))}_getItemIndex(t){return this._items=t&&t.parentNode?K2.find(".carousel-item",t.parentNode):[],this._items.indexOf(t)}_getItemByOrder(t,e){return dP(this._items,e,t===c6,this._config.wrap)}_triggerSlideEvent(t,e){const r=this._getItemIndex(t),i=this._getItemIndex(K2.findOne(Dd,this._element));return It.trigger(this._element,Axe,{relatedTarget:t,direction:e,from:i,to:r})}_setActiveIndicatorElement(t){if(this._indicatorsElement){const e=K2.findOne(".active",this._indicatorsElement);e.classList.remove(d6),e.removeAttribute("aria-current");const r=K2.find("[data-bs-target]",this._indicatorsElement);for(let i=0;i<r.length;i++)if(Number.parseInt(r[i].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(t)){r[i].classList.add(d6),r[i].setAttribute("aria-current","true");break}}}_updateInterval(){const t=this._activeElement||K2.findOne(Dd,this._element);if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);e?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=e):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(t,e){const r=this._directionToOrder(t),i=K2.findOne(Dd,this._element),a=this._getItemIndex(i),s=e||this._getItemByOrder(r,i),y=this._getItemIndex(s),H=Boolean(this._interval),J=r===c6,he=J?"carousel-item-start":"carousel-item-end",be=J?"carousel-item-next":"carousel-item-prev",ke=this._orderToDirection(r);if(s&&s.classList.contains(d6))return void(this._isSliding=!1);if(this._isSliding||this._triggerSlideEvent(s,ke).defaultPrevented||!i||!s)return;this._isSliding=!0,H&&this.pause(),this._setActiveIndicatorElement(s),this._activeElement=s;const V1=()=>{It.trigger(this._element,SP,{relatedTarget:s,direction:ke,from:a,to:y})};this._element.classList.contains("slide")?(s.classList.add(be),i.classList.add(he),s.classList.add(he),this._queueCallback(()=>{s.classList.remove(he,be),s.classList.add(d6),i.classList.remove(d6,be,he),this._isSliding=!1,setTimeout(V1,0)},i,!0)):(i.classList.remove(d6),s.classList.add(d6),this._isSliding=!1,V1()),H&&this.cycle()}_directionToOrder(t){return[l7,f6].includes(t)?N4()?t===f6?u6:c6:t===f6?c6:u6:t}_orderToDirection(t){return[c6,u6].includes(t)?N4()?t===u6?f6:l7:t===u6?l7:f6:t}static carouselInterface(t,e){const r=Po.getOrCreateInstance(t,e);let{_config:i}=r;"object"==typeof e&&(i=Cn(Cn({},i),e));const a="string"==typeof e?e:i.slide;if("number"==typeof e)r.to(e);else if("string"==typeof a){if(void 0===r[a])throw new TypeError(`No method named "${a}"`);r[a]()}else i.interval&&i.ride&&(r.pause(),r.cycle())}static jQueryInterface(t){return this.each(function(){Po.carouselInterface(this,t)})}static dataApiClickHandler(t){const e=Fs(this);if(!e||!e.classList.contains("carousel"))return;const r=Cn(Cn({},kr.getDataAttributes(e)),kr.getDataAttributes(this)),i=this.getAttribute("data-bs-slide-to");i&&(r.interval=!1),Po.carouselInterface(e,r),i&&Po.getInstance(e).to(i),t.preventDefault()}}It.on(document,Uxe,"[data-bs-slide], [data-bs-slide-to]",Po.dataApiClickHandler),It.on(window,Bxe,()=>{const n=K2.find('[data-bs-ride="carousel"]');for(let t=0,e=n.length;t<e;t++)Po.carouselInterface(n[t],Po.getInstance(n[t]))}),Di(Po);const TP="collapse",HP="bs.collapse",c7=`.${HP}`,VP={toggle:!0,parent:null},swe={toggle:"boolean",parent:"(null|element)"},lwe=`show${c7}`,cwe=`shown${c7}`,uwe=`hide${c7}`,fwe=`hidden${c7}`,dwe=`click${c7}.data-api`,Hy="show",o8="collapse",Sd="collapsing",AP="collapsed",kP=`:scope .${o8} .${o8}`,Vy='[data-bs-toggle="collapse"]';class s8 extends Ca{constructor(t,e){super(t),this._isTransitioning=!1,this._config=this._getConfig(e),this._triggerArray=[];const r=K2.find(Vy);for(let i=0,a=r.length;i<a;i++){const s=r[i],y=wy(s),H=K2.find(y).filter(J=>J===this._element);null!==y&&H.length&&(this._selector=y,this._triggerArray.push(s))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return VP}static get NAME(){return TP}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e,t=[];if(this._config.parent){const J=K2.find(kP,this._config.parent);t=K2.find(".collapse.show, .collapse.collapsing",this._config.parent).filter(he=>!J.includes(he))}const r=K2.findOne(this._selector);if(t.length){const J=t.find(he=>r!==he);if(e=J?s8.getInstance(J):null,e&&e._isTransitioning)return}if(It.trigger(this._element,lwe).defaultPrevented)return;t.forEach(J=>{r!==J&&s8.getOrCreateInstance(J,{toggle:!1}).hide(),e||s7.set(J,HP,null)});const a=this._getDimension();this._element.classList.remove(o8),this._element.classList.add(Sd),this._element.style[a]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const H=`scroll${a[0].toUpperCase()+a.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Sd),this._element.classList.add(o8,Hy),this._element.style[a]="",It.trigger(this._element,cwe)},this._element,!0),this._element.style[a]=`${this._element[H]}px`}hide(){if(this._isTransitioning||!this._isShown()||It.trigger(this._element,uwe).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,this._element.classList.add(Sd),this._element.classList.remove(o8,Hy);const r=this._triggerArray.length;for(let a=0;a<r;a++){const s=this._triggerArray[a],y=Fs(s);y&&!this._isShown(y)&&this._addAriaAndCollapsedClass([s],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(Sd),this._element.classList.add(o8),It.trigger(this._element,fwe)},this._element,!0)}_isShown(t=this._element){return t.classList.contains(Hy)}_getConfig(t){return(t=Cn(Cn(Cn({},VP),kr.getDataAttributes(this._element)),t)).toggle=Boolean(t.toggle),t.parent=Bs(t.parent),qa(TP,t,swe),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const t=K2.find(kP,this._config.parent);K2.find(Vy,this._config.parent).filter(e=>!t.includes(e)).forEach(e=>{const r=Fs(e);r&&this._addAriaAndCollapsedClass([e],this._isShown(r))})}_addAriaAndCollapsedClass(t,e){!t.length||t.forEach(r=>{e?r.classList.remove(AP):r.classList.add(AP),r.setAttribute("aria-expanded",e)})}static jQueryInterface(t){return this.each(function(){const e={};"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1);const r=s8.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===r[t])throw new TypeError(`No method named "${t}"`);r[t]()}})}}It.on(document,dwe,Vy,function(n){("A"===n.target.tagName||n.delegateTarget&&"A"===n.delegateTarget.tagName)&&n.preventDefault();const t=wy(this);K2.find(t).forEach(r=>{s8.getOrCreateInstance(r,{toggle:!1}).toggle()})}),Di(s8);const Ay="dropdown",h6=".bs.dropdown",ky=".data-api",Td="Escape",zy="ArrowUp",Hd="ArrowDown",vwe=new RegExp(`${zy}|${Hd}|${Td}`),ywe=`hide${h6}`,_we=`hidden${h6}`,bwe=`show${h6}`,Mwe=`shown${h6}`,EP=`click${h6}${ky}`,OP=`keydown${h6}${ky}`,xwe=`keyup${h6}${ky}`,l8="show",u7='[data-bs-toggle="dropdown"]',Ny=".dropdown-menu",Vwe=N4()?"top-end":"top-start",Awe=N4()?"top-start":"top-end",kwe=N4()?"bottom-end":"bottom-start",zwe=N4()?"bottom-start":"bottom-end",Nwe=N4()?"left-start":"right-start",Ewe=N4()?"right-start":"left-start",Owe={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},Iwe={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};class Si extends Ca{constructor(t,e){super(t),this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return Owe}static get DefaultType(){return Iwe}static get NAME(){return Ay}toggle(){return this._isShown()?this.hide():this.show()}show(){if(s6(this._element)||this._isShown(this._menu))return;const t={relatedTarget:this._element};if(It.trigger(this._element,bwe,t).defaultPrevented)return;const r=Si.getParentFromElement(this._element);this._inNavbar?kr.setDataAttribute(this._menu,"popper","none"):this._createPopper(r),"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav")&&[].concat(...document.body.children).forEach(i=>It.on(i,"mouseover",Md)),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(l8),this._element.classList.add(l8),It.trigger(this._element,Mwe,t)}hide(){!s6(this._element)&&this._isShown(this._menu)&&this._completeHide({relatedTarget:this._element})}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){It.trigger(this._element,ywe,t).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(r=>It.off(r,"mouseover",Md)),this._popper&&this._popper.destroy(),this._menu.classList.remove(l8),this._element.classList.remove(l8),this._element.setAttribute("aria-expanded","false"),kr.removeDataAttribute(this._menu,"popper"),It.trigger(this._element,_we,t))}_getConfig(t){if(t=Cn(Cn(Cn({},this.constructor.Default),kr.getDataAttributes(this._element)),t),qa(Ay,t,this.constructor.DefaultType),"object"==typeof t.reference&&!o6(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${Ay.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(t){if(void 0===ne)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=t:o6(this._config.reference)?e=Bs(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const r=this._getPopperConfig(),i=r.modifiers.find(a=>"applyStyles"===a.name&&!1===a.enabled);this._popper=My(e,this._menu,r),i&&kr.setDataAttribute(this._menu,"popper","static")}_isShown(t=this._element){return t.classList.contains(l8)}_getMenuElement(){return K2.next(this._element,Ny)[0]}_getPlacement(){const t=this._element.parentNode;if(t.classList.contains("dropend"))return Nwe;if(t.classList.contains("dropstart"))return Ewe;const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?Awe:Vwe:e?zwe:kwe}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(t.modifiers=[{name:"applyStyles",enabled:!1}]),Cn(Cn({},t),"function"==typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig)}_selectMenuItem({key:t,target:e}){const r=K2.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(o7);!r.length||dP(r,e,t===Hd,!r.includes(e)).focus()}static jQueryInterface(t){return this.each(function(){const e=Si.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(t&&(2===t.button||"keyup"===t.type&&"Tab"!==t.key))return;const e=K2.find(u7);for(let r=0,i=e.length;r<i;r++){const a=Si.getInstance(e[r]);if(!a||!1===a._config.autoClose||!a._isShown())continue;const s={relatedTarget:a._element};if(t){const y=t.composedPath(),H=y.includes(a._menu);if(y.includes(a._element)||"inside"===a._config.autoClose&&!H||"outside"===a._config.autoClose&&H||a._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;"click"===t.type&&(s.clickEvent=t)}a._completeHide(s)}}static getParentFromElement(t){return Fs(t)||t.parentNode}static dataApiKeydownHandler(t){if(/input|textarea/i.test(t.target.tagName)?"Space"===t.key||t.key!==Td&&(t.key!==Hd&&t.key!==zy||t.target.closest(Ny)):!vwe.test(t.key))return;const e=this.classList.contains(l8);if(!e&&t.key===Td||(t.preventDefault(),t.stopPropagation(),s6(this)))return;const r=this.matches(u7)?this:K2.prev(this,u7)[0],i=Si.getOrCreateInstance(r);if(t.key!==Td)return t.key===zy||t.key===Hd?(e||i.show(),void i._selectMenuItem(t)):void((!e||"Space"===t.key)&&Si.clearMenus());i.hide()}}It.on(document,OP,u7,Si.dataApiKeydownHandler),It.on(document,OP,Ny,Si.dataApiKeydownHandler),It.on(document,EP,Si.clearMenus),It.on(document,xwe,Si.clearMenus),It.on(document,EP,u7,function(n){n.preventDefault(),Si.getOrCreateInstance(this).toggle()}),Di(Si);const IP=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",PP=".sticky-top";class Ey{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",e=>e+t),this._setElementAttributes(IP,"paddingRight",e=>e+t),this._setElementAttributes(PP,"marginRight",e=>e-t)}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,r){const i=this.getWidth();this._applyManipulationCallback(t,s=>{if(s!==this._element&&window.innerWidth>s.clientWidth+i)return;this._saveInitialAttribute(s,e);const y=window.getComputedStyle(s)[e];s.style[e]=`${r(Number.parseFloat(y))}px`})}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(IP,"paddingRight"),this._resetElementAttributes(PP,"marginRight")}_saveInitialAttribute(t,e){const r=t.style[e];r&&kr.setDataAttribute(t,e,r)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,i=>{const a=kr.getDataAttribute(i,e);void 0===a?i.style.removeProperty(e):(kr.removeDataAttribute(i,e),i.style[e]=a)})}_applyManipulationCallback(t,e){o6(t)?e(t):K2.find(t,this._element).forEach(e)}isOverflowing(){return this.getWidth()>0}}const Pwe={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},Rwe={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},RP="backdrop",BP=`mousedown.bs.${RP}`;class UP{constructor(t){this._config=this._getConfig(t),this._isAppended=!1,this._element=null}show(t){this._config.isVisible?(this._append(),this._config.isAnimated&&this._getElement(),this._getElement().classList.add("show"),this._emulateAnimation(()=>{l6(t)})):l6(t)}hide(t){this._config.isVisible?(this._getElement().classList.remove("show"),this._emulateAnimation(()=>{this.dispose(),l6(t)})):l6(t)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_getConfig(t){return(t=Cn(Cn({},Pwe),"object"==typeof t?t:{})).rootElement=Bs(t.rootElement),qa(RP,t,Rwe),t}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),It.on(this._getElement(),BP,()=>{l6(this._config.clickCallback)}),this._isAppended=!0)}dispose(){!this._isAppended||(It.off(this._element,BP),this._element.remove(),this._isAppended=!1)}_emulateAnimation(t){fP(t,this._getElement(),this._config.isAnimated)}}const Bwe={trapElement:null,autofocus:!0},Uwe={trapElement:"element",autofocus:"boolean"},Vd=".bs.focustrap",Gwe=`focusin${Vd}`,$we=`keydown.tab${Vd}`,jP="backward";class GP{constructor(t){this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:t,autofocus:e}=this._config;this._isActive||(e&&t.focus(),It.off(document,Vd),It.on(document,Gwe,r=>this._handleFocusin(r)),It.on(document,$we,r=>this._handleKeydown(r)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,It.off(document,Vd))}_handleFocusin(t){const{target:e}=t,{trapElement:r}=this._config;if(e===document||e===r||r.contains(e))return;const i=K2.focusableChildren(r);0===i.length?r.focus():this._lastTabNavDirection===jP?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?jP:"forward")}_getConfig(t){return t=Cn(Cn({},Bwe),"object"==typeof t?t:{}),qa("focustrap",t,Uwe),t}}const Ti=".bs.modal",qP={backdrop:!0,keyboard:!0,focus:!0},Kwe={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},Zwe=`hide${Ti}`,Jwe=`hidePrevented${Ti}`,YP=`hidden${Ti}`,KP=`show${Ti}`,Xwe=`shown${Ti}`,ZP=`resize${Ti}`,JP=`click.dismiss${Ti}`,XP=`keydown.dismiss${Ti}`,Qwe=`mouseup.dismiss${Ti}`,QP=`mousedown.dismiss${Ti}`,eLe=`click${Ti}.data-api`,eR="modal-open",Oy="modal-static";class c8 extends Ca{constructor(t,e){super(t),this._config=this._getConfig(e),this._dialog=K2.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new Ey}static get Default(){return qP}static get NAME(){return"modal"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||It.trigger(this._element,KP,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(eR),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),It.on(this._dialog,QP,()=>{It.one(this._element,Qwe,r=>{r.target===this._element&&(this._ignoreBackdropClick=!0)})}),this._showBackdrop(()=>this._showElement(t)))}hide(){if(!this._isShown||this._isTransitioning||It.trigger(this._element,Zwe).defaultPrevented)return;this._isShown=!1;const e=this._isAnimated();e&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove("show"),It.off(this._element,JP),It.off(this._dialog,QP),this._queueCallback(()=>this._hideModal(),this._element,e)}dispose(){[window,this._dialog].forEach(t=>It.off(t,Ti)),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new UP({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new GP({trapElement:this._element})}_getConfig(t){return t=Cn(Cn(Cn({},qP),kr.getDataAttributes(this._element)),"object"==typeof t?t:{}),qa("modal",t,Kwe),t}_showElement(t){const e=this._isAnimated(),r=K2.findOne(".modal-body",this._dialog);(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE)&&document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,r&&(r.scrollTop=0),this._element.classList.add("show"),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,It.trigger(this._element,Xwe,{relatedTarget:t})},this._dialog,e)}_setEscapeEvent(){this._isShown?It.on(this._element,XP,t=>{this._config.keyboard&&"Escape"===t.key?(t.preventDefault(),this.hide()):!this._config.keyboard&&"Escape"===t.key&&this._triggerBackdropTransition()}):It.off(this._element,XP)}_setResizeEvent(){this._isShown?It.on(window,ZP,()=>this._adjustDialog()):It.off(window,ZP)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(eR),this._resetAdjustments(),this._scrollBar.reset(),It.trigger(this._element,YP)})}_showBackdrop(t){It.on(this._element,JP,e=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:e.target===e.currentTarget&&(!0===this._config.backdrop?this.hide():"static"===this._config.backdrop&&this._triggerBackdropTransition())}),this._backdrop.show(t)}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(It.trigger(this._element,Jwe).defaultPrevented)return;const{classList:e,scrollHeight:r,style:i}=this._element,a=r>document.documentElement.clientHeight;!a&&"hidden"===i.overflowY||e.contains(Oy)||(a||(i.overflowY="hidden"),e.add(Oy),this._queueCallback(()=>{e.remove(Oy),a||this._queueCallback(()=>{i.overflowY=""},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),r=e>0;(!r&&t&&!N4()||r&&!t&&N4())&&(this._element.style.paddingLeft=`${e}px`),(r&&!t&&!N4()||!r&&t&&N4())&&(this._element.style.paddingRight=`${e}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const r=c8.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===r[t])throw new TypeError(`No method named "${t}"`);r[t](e)}})}}It.on(document,eLe,'[data-bs-toggle="modal"]',function(n){const t=Fs(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),It.one(t,KP,i=>{i.defaultPrevented||It.one(t,YP,()=>{o7(this)&&this.focus()})});const e=K2.findOne(".modal.show");e&&c8.getInstance(e).hide(),c8.getOrCreateInstance(t).toggle(this)}),xd(c8),Di(c8);const nR="offcanvas",p6=".bs.offcanvas",rR=".data-api",oLe=`load${p6}${rR}`,iR={backdrop:!0,keyboard:!0,scroll:!1},lLe={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},oR=".offcanvas.show",uLe=`show${p6}`,fLe=`shown${p6}`,dLe=`hide${p6}`,sR=`hidden${p6}`,hLe=`click${p6}${rR}`,pLe=`keydown.dismiss${p6}`;class C6 extends Ca{constructor(t,e){super(t),this._config=this._getConfig(e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return nR}static get Default(){return iR}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||It.trigger(this._element,uLe,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new Ey).hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add("show"),this._queueCallback(()=>{this._config.scroll||this._focustrap.activate(),It.trigger(this._element,fLe,{relatedTarget:t})},this._element,!0))}hide(){this._isShown&&!It.trigger(this._element,dLe).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove("show"),this._backdrop.hide(),this._queueCallback(()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||(new Ey).reset(),It.trigger(this._element,sR)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(t){return t=Cn(Cn(Cn({},iR),kr.getDataAttributes(this._element)),"object"==typeof t?t:{}),qa(nR,t,lLe),t}_initializeBackDrop(){return new UP({className:"offcanvas-backdrop",isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new GP({trapElement:this._element})}_addEventListeners(){It.on(this._element,pLe,t=>{this._config.keyboard&&"Escape"===t.key&&this.hide()})}static jQueryInterface(t){return this.each(function(){const e=C6.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}})}}It.on(document,hLe,'[data-bs-toggle="offcanvas"]',function(n){const t=Fs(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),s6(this))return;It.one(t,sR,()=>{o7(this)&&this.focus()});const e=K2.findOne(oR);e&&e!==t&&C6.getInstance(e).hide(),C6.getOrCreateInstance(t).toggle(this)}),It.on(window,oLe,()=>K2.find(oR).forEach(n=>C6.getOrCreateInstance(n).show())),xd(C6),Di(C6);const gLe=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),vLe=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,yLe=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,_Le=(n,t)=>{const e=n.nodeName.toLowerCase();if(t.includes(e))return!gLe.has(e)||Boolean(vLe.test(n.nodeValue)||yLe.test(n.nodeValue));const r=t.filter(i=>i instanceof RegExp);for(let i=0,a=r.length;i<a;i++)if(r[i].test(e))return!0;return!1};function lR(n,t,e){if(!n.length)return n;if(e&&"function"==typeof e)return e(n);const i=(new window.DOMParser).parseFromString(n,"text/html"),a=[].concat(...i.body.querySelectorAll("*"));for(let s=0,y=a.length;s<y;s++){const H=a[s],J=H.nodeName.toLowerCase();if(!Object.keys(t).includes(J)){H.remove();continue}const he=[].concat(...H.attributes),be=[].concat(t["*"]||[],t[J]||[]);he.forEach(ke=>{_Le(ke,be)||H.removeAttribute(ke.nodeName)})}return i.body.innerHTML}const cR="tooltip",Ya=".bs.tooltip",xLe=new Set(["sanitize","allowList","sanitizeFn"]),wLe={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},LLe={AUTO:"auto",TOP:"top",RIGHT:N4()?"left":"right",BOTTOM:"bottom",LEFT:N4()?"right":"left"},DLe={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},SLe={HIDE:`hide${Ya}`,HIDDEN:`hidden${Ya}`,SHOW:`show${Ya}`,SHOWN:`shown${Ya}`,INSERTED:`inserted${Ya}`,CLICK:`click${Ya}`,FOCUSIN:`focusin${Ya}`,FOCUSOUT:`focusout${Ya}`,MOUSEENTER:`mouseenter${Ya}`,MOUSELEAVE:`mouseleave${Ya}`},Ad="fade",f7="show",d7="show",uR=".tooltip-inner",dR="hide.bs.modal",h7="hover",Py="focus";class u8 extends Ca{constructor(t,e){if(void 0===ne)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(e),this.tip=null,this._setListeners()}static get Default(){return DLe}static get NAME(){return cR}static get Event(){return SLe}static get DefaultType(){return wLe}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(t){if(this._isEnabled)if(t){const e=this._initializeOnDelegatedTarget(t);e._activeTrigger.click=!e._activeTrigger.click,e._isWithActiveTrigger()?e._enter(null,e):e._leave(null,e)}else{if(this.getTipElement().classList.contains(f7))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),It.off(this._element.closest(".modal"),dR,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this.isWithContent()||!this._isEnabled)return;const t=It.trigger(this._element,this.constructor.Event.SHOW),e=cP(this._element),r=null===e?this._element.ownerDocument.documentElement.contains(this._element):e.contains(this._element);if(t.defaultPrevented||!r)return;"tooltip"===this.constructor.NAME&&this.tip&&this.getTitle()!==this.tip.querySelector(uR).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);const i=this.getTipElement(),a=(n=>{do{n+=Math.floor(1e6*Math.random())}while(document.getElementById(n));return n})(this.constructor.NAME);i.setAttribute("id",a),this._element.setAttribute("aria-describedby",a),this._config.animation&&i.classList.add(Ad);const s="function"==typeof this._config.placement?this._config.placement.call(this,i,this._element):this._config.placement,y=this._getAttachment(s);this._addAttachmentClass(y);const{container:H}=this._config;s7.set(i,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(H.append(i),It.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=My(this._element,i,this._getPopperConfig(y)),i.classList.add(f7);const J=this._resolvePossibleFunction(this._config.customClass);J&&i.classList.add(...J.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(ke=>{It.on(ke,"mouseover",Md)});const be=this.tip.classList.contains(Ad);this._queueCallback(()=>{const ke=this._hoverState;this._hoverState=null,It.trigger(this._element,this.constructor.Event.SHOWN),"out"===ke&&this._leave(null,this)},this.tip,be)}hide(){if(!this._popper)return;const t=this.getTipElement();if(It.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented)return;t.classList.remove(f7),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(a=>It.off(a,"mouseover",Md)),this._activeTrigger.click=!1,this._activeTrigger[Py]=!1,this._activeTrigger[h7]=!1;const i=this.tip.classList.contains(Ad);this._queueCallback(()=>{this._isWithActiveTrigger()||(this._hoverState!==d7&&t.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),It.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())},this.tip,i),this._hoverState=""}update(){null!==this._popper&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const t=document.createElement("div");t.innerHTML=this._config.template;const e=t.children[0];return this.setContent(e),e.classList.remove(Ad,f7),this.tip=e,this.tip}setContent(t){this._sanitizeAndSetContent(t,this.getTitle(),uR)}_sanitizeAndSetContent(t,e,r){const i=K2.findOne(r,t);e||!i?this.setElementContent(i,e):i.remove()}setElementContent(t,e){if(null!==t){if(o6(e))return e=Bs(e),void(this._config.html?e.parentNode!==t&&(t.innerHTML="",t.append(e)):t.textContent=e.textContent);this._config.html?(this._config.sanitize&&(e=lR(e,this._config.allowList,this._config.sanitizeFn)),t.innerHTML=e):t.textContent=e}}getTitle(){const t=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(t)}updateAttachment(t){return"right"===t?"end":"left"===t?"start":t}_initializeOnDelegatedTarget(t,e){return e||this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return"function"==typeof t?t.call(this._element):t}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:r=>this._handlePopperPlacementChange(r)}],onFirstUpdate:r=>{r.options.placement!==r.placement&&this._handlePopperPlacementChange(r)}};return Cn(Cn({},e),"function"==typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig)}_addAttachmentClass(t){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(t)}`)}_getAttachment(t){return LLe[t.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach(e=>{if("click"===e)It.on(this._element,this.constructor.Event.CLICK,this._config.selector,r=>this.toggle(r));else if("manual"!==e){const i=e===h7?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;It.on(this._element,e===h7?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,this._config.selector,a=>this._enter(a)),It.on(this._element,i,this._config.selector,a=>this._leave(a))}}),this._hideModalHandler=()=>{this._element&&this.hide()},It.on(this._element.closest(".modal"),dR,this._hideModalHandler),this._config.selector?this._config=Bd(Cn({},this._config),{trigger:"manual",selector:""}):this._fixTitle()}_fixTitle(){const t=this._element.getAttribute("title"),e=typeof this._element.getAttribute("data-bs-original-title");(t||"string"!==e)&&(this._element.setAttribute("data-bs-original-title",t||""),t&&!this._element.getAttribute("aria-label")&&!this._element.textContent&&this._element.setAttribute("aria-label",t),this._element.setAttribute("title",""))}_enter(t,e){e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusin"===t.type?Py:h7]=!0),e.getTipElement().classList.contains(f7)||e._hoverState===d7?e._hoverState=d7:(clearTimeout(e._timeout),e._hoverState=d7,e._config.delay&&e._config.delay.show?e._timeout=setTimeout(()=>{e._hoverState===d7&&e.show()},e._config.delay.show):e.show())}_leave(t,e){if(e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusout"===t.type?Py:h7]=e._element.contains(t.relatedTarget)),!e._isWithActiveTrigger()){if(clearTimeout(e._timeout),e._hoverState="out",!e._config.delay||!e._config.delay.hide)return void e.hide();e._timeout=setTimeout(()=>{"out"===e._hoverState&&e.hide()},e._config.delay.hide)}}_isWithActiveTrigger(){for(const t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1}_getConfig(t){const e=kr.getDataAttributes(this._element);return Object.keys(e).forEach(r=>{xLe.has(r)&&delete e[r]}),(t=Cn(Cn(Cn({},this.constructor.Default),e),"object"==typeof t&&t?t:{})).container=!1===t.container?document.body:Bs(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),qa(cR,t,this.constructor.DefaultType),t.sanitize&&(t.template=lR(t.template,t.allowList,t.sanitizeFn)),t}_getDelegateConfig(){const t={};for(const e in this._config)this.constructor.Default[e]!==this._config[e]&&(t[e]=this._config[e]);return t}_cleanTipClass(){const t=this.getTipElement(),e=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),r=t.getAttribute("class").match(e);null!==r&&r.length>0&&r.map(i=>i.trim()).forEach(i=>t.classList.remove(i))}_getBasicClassPrefix(){return"bs-tooltip"}_handlePopperPlacementChange(t){const{state:e}=t;!e||(this.tip=e.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(e.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(t){return this.each(function(){const e=u8.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}Di(u8);const Ka=".bs.popover",zLe=Bd(Cn({},u8.Default),{placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),NLe=Bd(Cn({},u8.DefaultType),{content:"(string|element|function)"}),ELe={HIDE:`hide${Ka}`,HIDDEN:`hidden${Ka}`,SHOW:`show${Ka}`,SHOWN:`shown${Ka}`,INSERTED:`inserted${Ka}`,CLICK:`click${Ka}`,FOCUSIN:`focusin${Ka}`,FOCUSOUT:`focusout${Ka}`,MOUSEENTER:`mouseenter${Ka}`,MOUSELEAVE:`mouseleave${Ka}`};class Ry extends u8{static get Default(){return zLe}static get NAME(){return"popover"}static get Event(){return ELe}static get DefaultType(){return NLe}isWithContent(){return this.getTitle()||this._getContent()}setContent(t){this._sanitizeAndSetContent(t,this.getTitle(),".popover-header"),this._sanitizeAndSetContent(t,this._getContent(),".popover-body")}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return"bs-popover"}static jQueryInterface(t){return this.each(function(){const e=Ry.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}Di(Ry);const hR="scrollspy",kd=".bs.scrollspy",pR={offset:10,method:"auto",target:""},RLe={offset:"number",method:"string",target:"(string|element)"},FLe=`activate${kd}`,BLe=`scroll${kd}`,ULe=`load${kd}.data-api`,CR="dropdown-item",f8="active",Fy=".nav-link",gR=".list-group-item",By=`${Fy}, ${gR}, .${CR}`,mR="position";class zd extends Ca{constructor(t,e){super(t),this._scrollElement="BODY"===this._element.tagName?window:this._element,this._config=this._getConfig(e),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,It.on(this._scrollElement,BLe,()=>this._process()),this.refresh(),this._process()}static get Default(){return pR}static get NAME(){return hR}refresh(){const e="auto"===this._config.method?this._scrollElement===this._scrollElement.window?"offset":mR:this._config.method,r=e===mR?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),K2.find(By,this._config.target).map(a=>{const s=wy(a),y=s?K2.findOne(s):null;if(y){const H=y.getBoundingClientRect();if(H.width||H.height)return[kr[e](y).top+r,s]}return null}).filter(a=>a).sort((a,s)=>a[0]-s[0]).forEach(a=>{this._offsets.push(a[0]),this._targets.push(a[1])})}dispose(){It.off(this._scrollElement,kd),super.dispose()}_getConfig(t){return(t=Cn(Cn(Cn({},pR),kr.getDataAttributes(this._element)),"object"==typeof t&&t?t:{})).target=Bs(t.target)||document.documentElement,qa(hR,t,RLe),t}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),r=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=r){const i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(let i=this._offsets.length;i--;)this._activeTarget!==this._targets[i]&&t>=this._offsets[i]&&(void 0===this._offsets[i+1]||t<this._offsets[i+1])&&this._activate(this._targets[i])}}_activate(t){this._activeTarget=t,this._clear();const e=By.split(",").map(i=>`${i}[data-bs-target="${t}"],${i}[href="${t}"]`),r=K2.findOne(e.join(","),this._config.target);r.classList.add(f8),r.classList.contains(CR)?K2.findOne(".dropdown-toggle",r.closest(".dropdown")).classList.add(f8):K2.parents(r,".nav, .list-group").forEach(i=>{K2.prev(i,`${Fy}, ${gR}`).forEach(a=>a.classList.add(f8)),K2.prev(i,".nav-item").forEach(a=>{K2.children(a,Fy).forEach(s=>s.classList.add(f8))})}),It.trigger(this._scrollElement,FLe,{relatedTarget:t})}_clear(){K2.find(By,this._config.target).filter(t=>t.classList.contains(f8)).forEach(t=>t.classList.remove(f8))}static jQueryInterface(t){return this.each(function(){const e=zd.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}It.on(window,ULe,()=>{K2.find('[data-bs-spy="scroll"]').forEach(n=>new zd(n))}),Di(zd);const p7=".bs.tab",JLe=`hide${p7}`,XLe=`hidden${p7}`,QLe=`show${p7}`,eDe=`shown${p7}`,tDe=`click${p7}.data-api`,C7="active",_R=".active",bR=":scope > li > .active";class Nd extends Ca{static get NAME(){return"tab"}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(C7))return;let t;const e=Fs(this._element),r=this._element.closest(".nav, .list-group");r&&(t=K2.find("UL"===r.nodeName||"OL"===r.nodeName?bR:_R,r),t=t[t.length-1]);const i=t?It.trigger(t,JLe,{relatedTarget:this._element}):null;if(It.trigger(this._element,QLe,{relatedTarget:t}).defaultPrevented||null!==i&&i.defaultPrevented)return;this._activate(this._element,r);const s=()=>{It.trigger(t,XLe,{relatedTarget:this._element}),It.trigger(this._element,eDe,{relatedTarget:t})};e?this._activate(e,e.parentNode,s):s()}_activate(t,e,r){const a=(!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?K2.children(e,_R):K2.find(bR,e))[0],s=r&&a&&a.classList.contains("fade"),y=()=>this._transitionComplete(t,a,r);a&&s?(a.classList.remove("show"),this._queueCallback(y,t,!0)):y()}_transitionComplete(t,e,r){if(e){e.classList.remove(C7);const a=K2.findOne(":scope > .dropdown-menu .active",e.parentNode);a&&a.classList.remove(C7),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}t.classList.add(C7),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),t.classList.contains("fade")&&t.classList.add("show");let i=t.parentNode;if(i&&"LI"===i.nodeName&&(i=i.parentNode),i&&i.classList.contains("dropdown-menu")){const a=t.closest(".dropdown");a&&K2.find(".dropdown-toggle",a).forEach(s=>s.classList.add(C7)),t.setAttribute("aria-expanded",!0)}r&&r()}static jQueryInterface(t){return this.each(function(){const e=Nd.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}})}}It.on(document,tDe,'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),s6(this)||Nd.getOrCreateInstance(this).show()}),Di(Nd);const js=".bs.toast",lDe=`mouseover${js}`,cDe=`mouseout${js}`,uDe=`focusin${js}`,fDe=`focusout${js}`,dDe=`hide${js}`,hDe=`hidden${js}`,pDe=`show${js}`,CDe=`shown${js}`,g7="show",Ed="showing",mDe={animation:"boolean",autohide:"boolean",delay:"number"},wR={animation:!0,autohide:!0,delay:5e3};class m7 extends Ca{constructor(t,e){super(t),this._config=this._getConfig(e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return mDe}static get Default(){return wR}static get NAME(){return"toast"}show(){It.trigger(this._element,pDe).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove("hide"),this._element.classList.add(g7),this._element.classList.add(Ed),this._queueCallback(()=>{this._element.classList.remove(Ed),It.trigger(this._element,CDe),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this._element.classList.contains(g7)&&!It.trigger(this._element,dDe).defaultPrevented&&(this._element.classList.add(Ed),this._queueCallback(()=>{this._element.classList.add("hide"),this._element.classList.remove(Ed),this._element.classList.remove(g7),It.trigger(this._element,hDe)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this._element.classList.contains(g7)&&this._element.classList.remove(g7),super.dispose()}_getConfig(t){return t=Cn(Cn(Cn({},wR),kr.getDataAttributes(this._element)),"object"==typeof t&&t?t:{}),qa("toast",t,this.constructor.DefaultType),t}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const r=t.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){It.on(this._element,lDe,t=>this._onInteraction(t,!0)),It.on(this._element,cDe,t=>this._onInteraction(t,!1)),It.on(this._element,uDe,t=>this._onInteraction(t,!0)),It.on(this._element,fDe,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const e=m7.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}})}}function vDe(n,t){if(1&n&&(Oe(0,"span"),D1(1),$e()),2&n){const e=U1();Pe(1),a2(" ",e.tank.id,".")}}xd(m7),Di(m7);const yDe=function(n,t){return{"progress-bar rounded-progress":!0,"bg-success":n,"bg-danger":t}};let _De=(()=>{class n{constructor(e){this.units=e,this.tank=Io.createDefault(),this.toxicity=new a6,this.showId=!1}}return n.\u0275fac=function(e){return new(e||n)(z1(dr))},n.\u0275cmp=un({type:n,selectors:[["app-tankchart"]],inputs:{tank:"tank",toxicity:"toxicity",showId:"showId"},decls:27,vars:39,consts:[[1,"my-4"],[1,"d-flex","flex-row","justify-content-between"],[1,"text-start"],[4,"ngIf"],[1,"text-end",3,"tank","toxicity","showName"],[1,"text-start","text-muted"],[1,"text-end","text-muted"],[1,"progress","gas-bar","mt-1","mb-2"],[1,"combined_wrapper"],["role","progressbar","aria-valuemin","0",1,"reserve-bar","rounded-progress"],[1,"reserve-overlay"],[1,"reserve-value"],["role","progressbar","aria-valuemin","0",3,"ngClass"]],template:function(e,r){1&e&&(Oe(0,"div",0)(1,"div",1)(2,"strong",2),ft(3,vDe,2,1,"span",3),D1(4),$e(),Yt(5,"app-gaslabel",4),$e(),Oe(6,"div",1)(7,"small",5),D1(8),an(9,"number"),an(10,"number"),$e(),Oe(11,"small",6),D1(12,"Rock bottom: "),Oe(13,"strong"),D1(14),an(15,"number"),$e(),D1(16),$e()(),Oe(17,"div",7)(18,"div",8)(19,"div",9)(20,"div",10)(21,"div",11),D1(22),an(23,"number"),$e()()(),Oe(24,"div",12),D1(25),an(26,"number"),$e()()()()),2&e&&(Pe(3),v1("ngIf",r.showId),Pe(1),a2(" ",r.tank.name,""),Pe(1),v1("tank",r.tank)("toxicity",r.toxicity)("showName",!1),Pe(3),xs("Gas remaining: ",cn(9,21,r.tank.endPressure,"1.0-0"),"/",cn(10,24,r.tank.startPressure,"1.0-0")," ",r.units.pressure,""),Pe(6),Mn(cn(15,27,r.tank.reserve,"1.0-0")),Pe(2),a2(" ",r.units.pressure,""),Pe(3),ql("width",r.tank.percentsReserve+"%"),Un("aria-valuemax",r.tank.startPressure)("aria-valuenow",r.tank.reserve),Pe(3),Mn(cn(23,30,r.tank.reserve,"1.0-0")),Pe(2),ql("width",r.tank.percentsRemaining+"%"),v1("ngClass",xo(36,yDe,r.tank.hasReserve,!r.tank.hasReserve)),Un("aria-valuemax",r.tank.startPressure)("aria-valuenow",r.tank.endPressure),Pe(1),a2(" ",cn(26,33,r.tank.endPressure,"1.0-0"),""))},directives:[C3,yy,hc],pipes:[Ds],styles:[".gas-bar[_ngcontent-%COMP%]{padding:5px 8px;height:2em;font-size:1em;border:1px solid #a1a1a1;border-radius:.5em;background:transparent;box-shadow:none;overflow:visible;position:static}.rounded-progress[_ngcontent-%COMP%]{height:100%}.reserve-overlay[_ngcontent-%COMP%]{position:relative}.reserve-value[_ngcontent-%COMP%]{position:absolute;bottom:-3.75em;right:3px;text-align:right}.reserve-bar[_ngcontent-%COMP%]{position:absolute;padding:0;height:4em;top:-.1em;left:0px;text-align:right;font-size:.75em;border-right:2px solid darkorange}.combined_wrapper[_ngcontent-%COMP%]{position:relative;width:100%}"]}),n})();const bDe=["toastElement"];function MDe(n,t){if(1&n&&(Oe(0,"strong"),D1(1),an(2,"number"),$e()),2&n){const e=U1();Pe(1),Mn(cn(2,1,e.dive.timeToSurface,"1.0-0"))}}function xDe(n,t){if(1&n&&(Oe(0,"strong"),D1(1),an(2,"number"),$e()),2&n){const e=U1();Pe(1),Mn(cn(2,1,e.dive.averageDepth,"1.0-1"))}}function wDe(n,t){if(1&n&&(Oe(0,"strong"),D1(1),an(2,"duration"),$e()),2&n){const e=U1();Pe(1),a2("",cn(2,1,e.dive.emergencyAscentStart,e.dive.emergencyAscentStart)," ")}}function LDe(n,t){if(1&n){const e=Ln();Oe(0,"button",22),ht("click",function(){return Nt(e),U1().planner.applyNdlDuration()}),D1(1,"Use"),$e()}}function DDe(n,t){if(1&n&&(Oe(0,"strong"),D1(1),an(2,"number"),$e()),2&n){const e=U1();Pe(1),Mn(cn(2,1,e.noDeco,"1.0-0"))}}function SDe(n,t){if(1&n){const e=Ln();Oe(0,"button",22),ht("click",function(){return Nt(e),U1(2).planner.applyMaxDuration()}),D1(1,"Use"),$e()}}function TDe(n,t){if(1&n&&(Oe(0,"strong"),D1(1),an(2,"number"),$e()),2&n){const e=U1(2);Pe(1),Mn(cn(2,1,e.dive.maxTime,"1.0-0"))}}function HDe(n,t){if(1&n&&(Oe(0,"tr")(1,"td"),D1(2,"Maximum bottom time [min]: "),ft(3,SDe,2,0,"button",19),$e(),Oe(4,"td",17),ft(5,TDe,3,4,"strong",18),$e()()),2&n){const e=U1();Pe(3),v1("ngIf",e.showApply&&e.dive.calculated),Pe(2),v1("ngIf",e.dive.calculated)}}function VDe(n,t){if(1&n&&(Oe(0,"strong"),D1(1),an(2,"number"),$e()),2&n){const e=U1(2);Pe(1),Mn(cn(2,1,e.dive.turnTime,"1.0-0"))}}function ADe(n,t){if(1&n&&(Oe(0,"tr")(1,"td"),D1(2,"Turn time [min]:"),$e(),Oe(3,"td",17),ft(4,VDe,3,4,"strong",18),$e()()),2&n){const e=U1();Pe(4),v1("ngIf",e.dive.calculated)}}function kDe(n,t){if(1&n&&(Oe(0,"strong"),D1(1),an(2,"number"),$e()),2&n){const e=U1(2);Pe(1),Mn(cn(2,1,e.dive.turnPressure,"1.0-0"))}}function zDe(n,t){if(1&n&&(Oe(0,"tr")(1,"td"),D1(2),$e(),Oe(3,"td",17),ft(4,kDe,3,4,"strong",18),$e()()),2&n){const e=U1();Pe(2),a2("Turn pressure [",e.units.pressure,"]:"),Pe(2),v1("ngIf",e.dive.calculated)}}function NDe(n,t){if(1&n&&(Oe(0,"strong"),D1(1),an(2,"number"),$e()),2&n){const e=U1(2);Pe(1),Mn(cn(2,1,e.dive.otu,"1.0-0"))}}function EDe(n,t){if(1&n&&(Oe(0,"tr")(1,"td"),D1(2,"OTU toxicity [OTU]:"),$e(),Oe(3,"td",17),ft(4,NDe,3,4,"strong",18),$e()()),2&n){const e=U1();Pe(4),v1("ngIf",e.dive.calculated)}}function ODe(n,t){if(1&n&&(Oe(0,"strong"),D1(1),an(2,"number"),$e()),2&n){const e=U1(2);Pe(1),Mn(cn(2,1,100*e.dive.cns,"1.0-0"))}}function IDe(n,t){if(1&n&&(Oe(0,"tr")(1,"td"),D1(2,"CNS toxicity [%]:"),$e(),Oe(3,"td",17),ft(4,ODe,3,4,"strong",18),$e()()),2&n){const e=U1();Pe(4),v1("ngIf",e.dive.calculated)}}function PDe(n,t){if(1&n&&Yt(0,"app-tankchart",24),2&n){const e=t.$implicit,r=U1(2);v1("tank",e)("showId",r.showTankId)("toxicity",r.toxicity)}}function RDe(n,t){if(1&n&&(Oe(0,"div"),ft(1,PDe,1,3,"app-tankchart",23),$e()),2&n){const e=U1();Pe(1),v1("ngForOf",e.tanks)}}function FDe(n,t){if(1&n&&(Oe(0,"div",25),Yt(1,"fa-icon",6),Oe(2,"span"),D1(3,"There was an error while calculating profile."),$e()()),2&n){const e=U1();Pe(1),v1("icon",e.exclamation)}}function BDe(n,t){if(1&n&&(Oe(0,"div",25),Yt(1,"fa-icon",6),Oe(2,"span"),D1(3),an(4,"number"),$e()()),2&n){const e=U1();Pe(1),v1("icon",e.exclamation),Pe(2),a2("Not enough time to realize the dive (duration needs to be at least ",cn(4,2,e.minimumDuration,"1.0-0")," min)! Set longer planed dive time.")}}function UDe(n,t){if(1&n&&(Oe(0,"div",25),Yt(1,"fa-icon",6),Oe(2,"span"),D1(3),an(4,"number"),$e()()),2&n){const e=U1(2);Pe(1),v1("icon",e.exclamation),Pe(2),a2("Not enough gas to realize the dive! Maximum bottom time for current amount of gas is ",cn(4,2,e.dive.maxTime,"1.0-0")," min. Use larger tank, fill it with more gas, reduce dive duration or planned depth.")}}function jDe(n,t){if(1&n&&(Oe(0,"div",29),Yt(1,"fa-icon",6),Oe(2,"span"),D1(3),an(4,"number"),$e()()),2&n){const e=U1(2);Pe(1),v1("icon",e.info),Pe(2),a2("No decompression time for current depth exceeded (For no decompression dive set dive time maximum to ",cn(4,2,e.noDeco,"1.0-0")," min)!")}}function GDe(n,t){if(1&n&&(Oe(0,"div",30),Yt(1,"fa-icon",6),Oe(2,"span"),D1(3),an(4,"number"),$e()()),2&n){const e=U1(2);Pe(1),v1("icon",e.exclamation),Pe(2),gi("Exceeded 80 % of maximum single exposure oxygen toxicity units (",cn(4,3,e.dive.otu,"1.0-0"),"/",e.otuLimit," OTU)! There is a high risk of lungs injury. Reduce amount of oxygen in your gases, dive duration or target depths.")}}function $De(n,t){if(1&n&&(Oe(0,"div",30),Yt(1,"fa-icon",6),Oe(2,"span"),D1(3),an(4,"number"),$e()()),2&n){const e=U1(2);Pe(1),v1("icon",e.exclamation),Pe(2),a2("Exceeded 80 % of maximum single exposure oxygen toxicity (",cn(4,2,100*e.dive.cns,"1.0-0")," %)! There is a high risk of CNS injury. Reduce amount of oxygen in your gases, dive duration or target depths.")}}function WDe(n,t){if(1&n&&(Oe(0,"div",30),Yt(1,"fa-icon",6),Oe(2,"span"),D1(3),an(4,"number"),$e()()),2&n){const e=U1().$implicit,r=U1(2);Pe(1),v1("icon",r.warning),Pe(2),gi("Low partial pressure of oxygen reached at depth ",cn(4,3,e.depth,"1.0-0")," ",r.units.length," (minimum depth exceeded)! There is a risk of hypoxia. Use gas with higher oxygen content.")}}function qDe(n,t){if(1&n&&(Oe(0,"div",30),Yt(1,"fa-icon",6),Oe(2,"span"),D1(3),an(4,"number"),$e()()),2&n){const e=U1().$implicit,r=U1(2);Pe(1),v1("icon",r.warning),Pe(2),gi("High partial pressure of oxygen reached at depth ",cn(4,3,e.depth,"1.0-0")," ",r.units.length," (maximum depth exceeded)! There is a risk of oxygen toxicity. Reduce the depth or use gas with lower oxygen content.")}}function YDe(n,t){if(1&n&&(Oe(0,"div",30),Yt(1,"fa-icon",6),Oe(2,"span"),D1(3),an(4,"duration"),$e()()),2&n){const e=U1().$implicit,r=U1(2);Pe(1),v1("icon",r.warning),Pe(2),a2("High descent speed at ",cn(4,2,e.timeStamp,e.timeStamp)," min! Descent longer time or descent to lower depth.")}}function KDe(n,t){if(1&n&&(Oe(0,"div",30),Yt(1,"fa-icon",6),Oe(2,"span"),D1(3),an(4,"duration"),$e()()),2&n){const e=U1().$implicit,r=U1(2);Pe(1),v1("icon",r.warning),Pe(2),a2("High ascent speed at ",cn(4,2,e.timeStamp,e.timeStamp)," min! Ascent to higher depth only or ascent longer time.")}}function ZDe(n,t){if(1&n&&(Oe(0,"div",30),Yt(1,"fa-icon",6),Oe(2,"span"),D1(3),an(4,"number"),an(5,"duration"),$e()()),2&n){const e=U1().$implicit,r=U1(2);Pe(1),v1("icon",r.warning),Pe(2),xs("Ceiling depth ",cn(4,4,e.depth,"1.0-0")," ",r.units.length," broken at ",cn(5,7,e.timeStamp,e.timeStamp)," min! Change your plan to higher depth at this point.")}}function JDe(n,t){if(1&n&&(Oe(0,"div",30),Yt(1,"fa-icon",6),Oe(2,"span"),D1(3),an(4,"number"),an(5,"duration"),$e()()),2&n){const e=U1().$implicit,r=U1(2);Pe(1),v1("icon",r.warning),Pe(2),xs("Gas switch to gas with higher nitrogen content in ",cn(4,4,e.depth,"1.0-0")," ",r.units.length," at ",cn(5,7,e.timeStamp,e.timeStamp)," min is not recommended! There is a risk od isobaric counter diffusion (IDC). Switch to another gas with higher helium content or lower nitrogen content.")}}function XDe(n,t){if(1&n&&(Oe(0,"div",30),Yt(1,"fa-icon",6),Oe(2,"span"),D1(3),an(4,"number"),an(5,"duration"),$e()()),2&n){const e=U1().$implicit,r=U1(2);Pe(1),v1("icon",r.warning),Pe(2),xs("Exceeded maximum narcotic depth for selected gas in ",cn(4,4,e.depth,"1.0-0")," ",r.units.length," at ",cn(5,7,e.timeStamp,e.timeStamp)," min! Reduce the depth or use gas with higher helium content.")}}function QDe(n,t){if(1&n&&(bs(0),ft(1,WDe,5,6,"div",27),ft(2,qDe,5,6,"div",27),ft(3,YDe,5,5,"div",27),ft(4,KDe,5,5,"div",27),ft(5,ZDe,6,10,"div",27),ft(6,JDe,6,10,"div",27),ft(7,XDe,6,10,"div",27),Ms()),2&n){const e=t.$implicit,r=U1(2);Pe(1),v1("ngIf",r.isLowPpO2(e)),Pe(1),v1("ngIf",r.isHighPpO2(e)),Pe(1),v1("ngIf",r.isHighDescentSpeed(e)),Pe(1),v1("ngIf",r.isHighAscentSpeed(e)),Pe(1),v1("ngIf",r.isBrokenCeiling(e)),Pe(1),v1("ngIf",r.isHighN2Switch(e)),Pe(1),v1("ngIf",r.isMndExceeded(e))}}function eSe(n,t){if(1&n&&(bs(0),ft(1,UDe,5,5,"div",21),ft(2,jDe,5,5,"div",26),ft(3,GDe,5,6,"div",27),ft(4,$De,5,5,"div",27),ft(5,QDe,8,7,"ng-container",28),Ms()),2&n){const e=U1();Pe(1),v1("ngIf",e.dive.calculated&&e.dive.notEnoughGas),Pe(1),v1("ngIf",e.dive.diveInfoCalculated&&e.dive.noDecoExceeded),Pe(1),v1("ngIf",e.dive.diveInfoCalculated&&e.dive.otuExceeded),Pe(1),v1("ngIf",e.dive.diveInfoCalculated&&e.dive.cnsExeeded),Pe(1),v1("ngForOf",e.dive.events)}}let tSe=(()=>{class n{constructor(e,r,i){this.clipboard=e,this.planner=r,this.units=i,this.exclamation=tk,this.warning=_d,this.info=ak,this.icon=vO,this.iconShare=ny,this.otuLimit=dv.dailyLimit,this.dive=this.planner.dive,this.toxicity=new a6(this.planner.options),this.clipboard.copyResponse$.subscribe(a=>{a.isSuccess&&this.toast.show()})}get tanks(){return this.planner.tanks}get showTankId(){return this.planner.isComplex}get showMaxBottomTime(){return this.dive.maxTime>0}get needsReturn(){return this.planner.plan.needsReturn}get noDeco(){return this.planner.plan.noDecoTime}get minimumDuration(){return this.planner.plan.duration+1}get showApply(){return!this.planner.isComplex}ngOnInit(){this.toast=new m7(this.toastEl.nativeElement,{delay:5e3})}isLowPpO2(e){return e.type===tr.lowPpO2}isHighPpO2(e){return e.type===tr.highPpO2}isHighAscentSpeed(e){return e.type===tr.highAscentSpeed}isHighDescentSpeed(e){return e.type===tr.highDescentSpeed}isBrokenCeiling(e){return e.type===tr.brokenCeiling}isHighN2Switch(e){return e.type===tr.switchToHigherN2}isMndExceeded(e){return e.type===tr.maxEndExceeded}sharePlan(){this.clipboard.copy(window.location.href)}hideToast(){this.toast.hide()}}return n.\u0275fac=function(e){return new(e||n)(z1(qX),z1(z4),z1(dr))},n.\u0275cmp=un({type:n,selectors:[["app-consumption"]],viewQuery:function(e,r){if(1&e&&yu(bDe,7),2&e){let i;b3(i=M3())&&(r.toastEl=i.first)}},decls:56,vars:19,consts:[[1,"card"],[1,"card-header"],[1,"float-start","mt-1"],[1,"me-3",3,"icon"],[1,"float-end"],["type","button",1,"btn","btn-sm","btn-secondary",3,"click"],[1,"me-2",3,"icon"],[1,"position-fixed","top-0","end-0","px-3","py-2","m-16","mt-5","success"],["role","alert","aria-live","assertive","aria-atomic","true","data-autohide","true",1,"toast","fade","text-light","mt-2","bg-success","success"],["toastElement",""],[1,"toast-header"],[1,"me-auto"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"toast-body"],[1,"card-body","card-minheight"],[1,"pb-3"],[1,"table"],[1,"table-active"],[4,"ngIf"],["type","button","class","btn btn-secondary btn-sm ml-2",3,"click",4,"ngIf"],[3,"show"],["class","alert alert-danger",4,"ngIf"],["type","button",1,"btn","btn-secondary","btn-sm","ml-2",3,"click"],[3,"tank","showId","toxicity",4,"ngFor","ngForOf"],[3,"tank","showId","toxicity"],[1,"alert","alert-danger"],["class","alert alert-info",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"alert","alert-info"],[1,"alert","alert-warning"]],template:function(e,r){1&e&&(Oe(0,"div",0)(1,"div",1)(2,"div",2),Yt(3,"fa-icon",3),Oe(4,"span"),D1(5,"Dive info"),$e()(),Oe(6,"div",4)(7,"button",5),ht("click",function(){return r.sharePlan()}),Yt(8,"fa-icon",6),D1(9,"Share "),$e()()(),Oe(10,"div",7)(11,"div",8,9)(13,"div",10),Yt(14,"fa-icon",6),Oe(15,"strong",11),D1(16,"Share plan"),$e(),Oe(17,"button",12),ht("click",function(){return r.hideToast()}),$e()(),Oe(18,"div",13),D1(19," URL address of this dive plan was copied to the clipboard. "),$e()()(),Oe(20,"div",14)(21,"div")(22,"div",15)(23,"table",16)(24,"tbody")(25,"tr")(26,"td"),D1(27,"Time to surface [min]:"),$e(),Oe(28,"td",17),ft(29,MDe,3,4,"strong",18),$e()(),Oe(30,"tr")(31,"td"),D1(32),$e(),Oe(33,"td",17),ft(34,xDe,3,4,"strong",18),$e()(),Oe(35,"tr")(36,"td"),D1(37,"Rock bottom at:"),$e(),Oe(38,"td",17),ft(39,wDe,3,4,"strong",18),$e()(),Oe(40,"tr")(41,"td"),D1(42,"No decompression time [min]: "),ft(43,LDe,2,0,"button",19),$e(),Oe(44,"td",17),ft(45,DDe,3,4,"strong",18),$e()(),ft(46,HDe,6,2,"tr",18),ft(47,ADe,5,1,"tr",18),ft(48,zDe,5,2,"tr",18),ft(49,EDe,5,1,"tr",18),ft(50,IDe,5,1,"tr",18),$e()(),ft(51,RDe,2,1,"div",18),$e(),Yt(52,"app-calculating",20),ft(53,FDe,4,1,"div",21),ft(54,BDe,5,5,"div",21),ft(55,eSe,6,5,"ng-container",18),$e()()()),2&e&&(Pe(3),v1("icon",r.icon),Pe(5),v1("icon",r.iconShare),Pe(6),v1("icon",r.iconShare),Pe(15),v1("ngIf",r.dive.calculated),Pe(3),a2("Average depth [",r.units.length,"]:"),Pe(2),v1("ngIf",r.dive.profileCalculated),Pe(5),v1("ngIf",r.dive.calculated),Pe(4),v1("ngIf",r.showApply&&r.dive.diveInfoCalculated),Pe(2),v1("ngIf",r.dive.diveInfoCalculated),Pe(1),v1("ngIf",r.showMaxBottomTime),Pe(1),v1("ngIf",r.dive.needsReturn),Pe(1),v1("ngIf",r.dive.needsReturn),Pe(1),v1("ngIf",!1),Pe(1),v1("ngIf",!1),Pe(1),v1("ngIf",r.dive.showResults),Pe(1),v1("show",!r.dive.calculated),Pe(1),v1("ngIf",r.dive.calculated&&r.dive.calculationFailed),Pe(1),v1("ngIf",r.dive.diveInfoCalculated&&r.dive.notEnoughTime),Pe(1),v1("ngIf",!r.dive.hasErrors))},directives:[Q4,C3,oa,_De,by],pipes:[Ds,rP],styles:[""]}),n})();function nSe(n,t){if(1&n){const e=Ln();Oe(0,"div",10),Yt(1,"fa-icon",11),Oe(2,"span")(3,"strong"),D1(4,"Disclaimer:"),$e(),D1(5," None of the authors, contributors, administrators, or anyone else connected with this project can be responsible for your use of the information provided by this application or linked from these web pages. Use the results at your own risk."),$e(),Oe(6,"button",12),ht("click",function(){return Nt(e),U1().stopDisclaimer()}),$e()()}if(2&n){const e=U1();Pe(1),v1("icon",e.exclamation)}}const LR=function(n,t,e){return{"col-md-4":n,"col-sm-6":t,"col-lg-6":e}},rSe=function(n,t){return{"col-md-4":n,"col-sm-12":t}},iSe=function(n,t){return{"col-lg-12":n,"col-lg-8":t}};let aSe=(()=>{class n{constructor(e,r,i,a,s){this.location=e,this.preferences=r,this.options=i,this.planner=a,this.delayedCalc=s,this.showDisclaimer=!0,this.exclamation=_d,this.subscription=null,this.dive=a.dive}get isComplex(){return this.planner.isComplex}ngOnInit(){this.showDisclaimer=this.preferences.disclaimerEnabled();const e=window.location.search;""!==e?Li.fromUrl(e,this.options,this.planner):this.delayedCalc.schedule(),this.subscription=this.planner.infoCalculated.subscribe(()=>this.updateQueryParams())}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}stopDisclaimer(){this.showDisclaimer=!1,this.preferences.disableDisclaimer()}updateQueryParams(){const e=Li.toUrl(this.planner,this.options);this.location.go("?"+e)}}return n.\u0275fac=function(e){return new(e||n)(z1(Tu),z1(vy),z1(i6),z1(z4),z1(a7))},n.\u0275cmp=un({type:n,selectors:[["app-dashboard"]],decls:18,vars:19,consts:[["name","form","novalidate",""],["f","ngForm"],[1,"mt-5"],[1,"row"],["class","alert alert-warning alert-dismissible fade show mt-4","role","alert",4,"ngIf"],[1,"col-12","col-xxl-4","mt-4",3,"ngClass"],[3,"validate"],[1,"col-12","col-lg-4","mt-4",3,"ngClass"],[1,"col-12","col-xxl-6","mt-4",3,"ngClass"],[1,"col-md-6","col-xxl-3","mt-4"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","mt-4"],[1,"me-2","fa-lg",3,"icon"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"]],template:function(e,r){if(1&e){const i=Ln();Oe(0,"form",0,1)(2,"div",2)(3,"div",3)(4,"div"),ft(5,nSe,7,1,"div",4),$e(),Oe(6,"div",5)(7,"app-tanks",6),ht("validate",function(){return Nt(i),Z2(1).form.updateValueAndValidity()}),$e()(),Oe(8,"div",5),Yt(9,"app-depths"),$e(),Oe(10,"div",7),Yt(11,"app-diveoptions"),$e(),Oe(12,"div",8),Yt(13,"app-profilechart"),$e(),Oe(14,"div",9),Yt(15,"app-waypoints"),$e(),Oe(16,"div",9),Yt(17,"app-consumption"),$e()()()()}2&e&&(Pe(5),v1("ngIf",r.showDisclaimer),Pe(1),v1("ngClass",rc(5,LR,!r.isComplex,!r.isComplex,r.isComplex)),Pe(2),v1("ngClass",rc(9,LR,!r.isComplex,!r.isComplex,r.isComplex)),Pe(2),v1("ngClass",xo(13,rSe,!r.isComplex,!r.isComplex)),Pe(2),v1("ngClass",xo(16,iSe,!r.isComplex,r.isComplex)))},directives:[Rw,xw,Ju,C3,Q4,hc,iMe,yMe,BMe,GMe,ZMe,tSe],styles:[""]}),n})();var Hi=(()=>{return(n=Hi||(Hi={}))[n.sac=0]="sac",n[n.used=1]="used",n[n.duration=2]="duration",Hi;var n})();let oSe=(()=>{class n{constructor(){this._depth=15,this._tank=15,this._used=150,this._duration=45,this._rmv=0,this._calculation=Hi.sac,this.options={salinity:$r.fresh,altitude:0},this.depthConverterFactory=new r8(this.options),this.calculate=()=>this.calculateSac();const e=this.depthConverterFactory.create();this.sacCalculator=new xne(e),this.calculate()}get depth(){return this._depth}get tank(){return this._tank}get rmv(){return this._rmv}get duration(){return this._duration}get used(){return this._used}get calculation(){return this._calculation}set depth(e){this._depth=e,this.calculate()}set tank(e){this._tank=e,this.calculate()}set rmv(e){this._rmv=e,this.calculate()}set duration(e){this._duration=e,this.calculate()}set used(e){this._used=e,this.calculate()}set calculation(e){switch(this._calculation=e,e){case Hi.duration:this.calculate=()=>this.calculateDuration();break;case Hi.used:this.calculate=()=>this.calculateUsed();break;default:this.calculate=()=>this.calculateSac()}}calculateSac(){this._rmv=this.sacCalculator.calculateSac(this.depth,this.tank,this.used,this.duration)}calculateDuration(){this._duration=this.sacCalculator.calculateDuration(this.depth,this.tank,this.used,this.rmv)}calculateUsed(){this._used=this.sacCalculator.calculateUsed(this.depth,this.tank,this.duration,this.rmv)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r2({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sSe(n,t){if(1&n&&(Oe(0,"div",32),D1(1),$e()),2&n){const e=U1();Pe(1),a2("Needs to be number ",e.ranges.depthLabel,"")}}function lSe(n,t){if(1&n&&(Oe(0,"div",32),D1(1),$e()),2&n){const e=U1();Pe(1),a2("Needs to be number ",e.ranges.tankSizeLabel,"")}}function cSe(n,t){if(1&n&&(Oe(0,"div",32),D1(1),$e()),2&n){const e=U1();Pe(1),a2("Needs to be number ",e.ranges.durationLabel,"")}}function uSe(n,t){if(1&n&&(Oe(0,"div",32),D1(1),$e()),2&n){const e=U1();Pe(1),a2("Needs to be number ",e.ranges.tankPressureLabel,"")}}function fSe(n,t){if(1&n&&(Oe(0,"div",32),D1(1),$e()),2&n){const e=U1();Pe(1),a2("Needs to be number ",e.ranges.diverRmvLabel,"")}}let dSe=(()=>{class n{constructor(e,r,i,a){this.router=e,this.planer=r,this.calc=i,this.units=a,this.calcIcon=kv}get ranges(){return this.units.ranges}get inDuration(){return this.calc.calculation===Hi.duration}get inUsed(){return this.calc.calculation===Hi.used}get inSac(){return this.calc.calculation===Hi.sac}get calcDepth(){return this.units.fromMeters(this.calc.depth)}get calcTank(){return this.units.fromTankLiters(this.calc.tank)}get calcUsed(){return this.units.fromBar(this.calc.used)}get calcRmv(){return this.units.fromLiter(this.calc.rmv)}get calcDuration(){return this.calc.duration}set calcDepth(e){this.calc.depth=this.units.toMeters(e)}set calcTank(e){this.calc.tank=this.units.toTankLiters(e)}set calcUsed(e){this.calc.used=this.units.toBar(e)}set calcRmv(e){this.calc.rmv=this.units.toLiter(e)}set calcDuration(e){this.calc.duration=e}toDuration(){this.calc.calculation=Hi.duration}toUsed(){this.calc.calculation=Hi.used}toSac(){this.calc.calculation=Hi.sac}goBack(){var e=this;return Yf(function*(){return yield e.router.navigateByUrl("/")})()}use(){this.planer.diver.rmv=this.calc.rmv}gasSac(){const e=i8.gasSac(this.calc.rmv,this.calc.tank);return this.units.fromBar(e)}}return n.\u0275fac=function(e){return new(e||n)(z1(Vr),z1(z4),z1(oSe),z1(dr))},n.\u0275cmp=un({type:n,selectors:[["app-sac"]],decls:69,vars:67,consts:[[1,"mt-5"],[1,"row"],[1,"col-lg-3","col-md-6","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],["role","group",1,"btn-group"],["type","button",1,"btn",3,"click"],[1,"my-2"],["for","depth"],["name","depth","id","depth","type","number","required","","step","1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange"],["depth","ngModel"],["class","text-danger",4,"ngIf"],["for","tank"],["name","tank","id","tank","type","number","required","","step","1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange"],["tank","ngModel"],[1,"my-2",3,"hidden"],["for","duration"],["name","duration","id","duration","type","number","required","","step","1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange"],["duration","ngModel"],["for","used"],["name","used","id","used","type","number","required","","step","1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange"],["used","ngModel"],["for","sac"],["name","sac","id","sac","type","number","required","","step","1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange"],["sac","ngModel"],[1,"form-text","text-muted"],["readonly","",1,"form-control",3,"ngModel"],[1,"form-group","mt-2"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"text-danger"]],template:function(e,r){if(1&e&&(Oe(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),Yt(5,"fa-icon",5),Oe(6,"span"),D1(7,"Respiratory minute volume"),$e()(),Oe(8,"div",6)(9,"div",7)(10,"button",8),ht("click",function(){return r.toSac()}),D1(11,"RMV"),$e(),Oe(12,"button",8),ht("click",function(){return r.toUsed()}),D1(13,"Used"),$e(),Oe(14,"button",8),ht("click",function(){return r.toDuration()}),D1(15,"Duration"),$e()(),Oe(16,"div",9)(17,"label",10),D1(18),Oe(19,"input",11,12),ht("ngModelChange",function(a){return r.calcDepth=a}),$e()(),ft(21,sSe,2,1,"div",13),$e(),Oe(22,"div",9)(23,"label",14),D1(24),Oe(25,"input",15,16),ht("ngModelChange",function(a){return r.calcTank=a}),$e()(),ft(27,lSe,2,1,"div",13),$e(),Oe(28,"div",17)(29,"label",18),D1(30,"Dive time [min]: "),Oe(31,"input",19,20),ht("ngModelChange",function(a){return r.calcDuration=a}),$e()(),ft(33,cSe,2,1,"div",13),$e(),Oe(34,"div",17)(35,"label",21),D1(36),Oe(37,"input",22,23),ht("ngModelChange",function(a){return r.calcUsed=a}),$e()(),ft(39,uSe,2,1,"div",13),$e(),Oe(40,"div",17)(41,"label",24),D1(42),Oe(43,"input",25,26),ht("ngModelChange",function(a){return r.calcRmv=a}),$e(),Oe(45,"small",27),D1(46),an(47,"number"),$e()(),ft(48,fSe,2,1,"div",13),$e(),Oe(49,"div",17)(50,"label",24),D1(51),Yt(52,"input",28),Oe(53,"small",27),D1(54),an(55,"number"),$e()()(),Oe(56,"div",17)(57,"label",24),D1(58),Yt(59,"input",28),$e()(),Oe(60,"div",17)(61,"label",24),D1(62,"Dive time [min]: "),Yt(63,"input",28),$e()()()(),Oe(64,"div",29)(65,"button",30),ht("click",function(){return r.goBack()}),D1(66,"Back"),$e(),Oe(67,"button",31),ht("click",function(){return r.use()}),D1(68,"Use"),$e()()()()()),2&e){const i=Z2(20),a=Z2(26),s=Z2(32),y=Z2(38),H=Z2(44);Pe(5),v1("icon",r.calcIcon),Pe(5),h2("btn-primary",r.inSac),Pe(2),h2("btn-primary",r.inUsed),Pe(2),h2("btn-primary",r.inDuration),Pe(4),a2("Average depth [",r.units.length,"]: "),Pe(1),h2("is-invalid",i.invalid&&(i.dirty||i.touched)),v1("ngModel",r.calcDepth)("rangeVal",r.ranges.depth)("min",r.ranges.depth[0])("max",r.ranges.depth[1]),Pe(2),v1("ngIf",i.invalid&&(i.dirty||i.touched)),Pe(3),a2("Tank size [",r.units.volume,"]: "),Pe(1),h2("is-invalid",a.invalid&&(a.dirty||a.touched)),v1("ngModel",r.calcTank)("rangeVal",r.ranges.tankSize)("min",r.ranges.tankSize[0])("max",r.ranges.tankSize[1]),Pe(2),v1("ngIf",a.invalid&&(a.dirty||a.touched)),Pe(1),v1("hidden",r.inDuration),Pe(3),h2("is-invalid",s.invalid&&(s.dirty||s.touched)),v1("ngModel",r.calcDuration)("rangeVal",r.ranges.duration)("min",r.ranges.duration[0])("max",r.ranges.duration[1]),Pe(2),v1("ngIf",s.invalid&&(s.dirty||s.touched)),Pe(1),v1("hidden",r.inUsed),Pe(2),a2("Gas consumed [",r.units.pressure,"]: "),Pe(1),h2("is-invalid",y.invalid&&(y.dirty||y.touched)),v1("ngModel",r.calcUsed)("rangeVal",r.ranges.tankPressure)("min",r.ranges.tankPressure[0])("max",r.ranges.tankPressure[1]),Pe(2),v1("ngIf",y.invalid&&(y.dirty||y.touched)),Pe(1),v1("hidden",r.inSac),Pe(2),a2("RMV [",r.units.rmv,"]: "),Pe(1),h2("is-invalid",H.invalid&&(H.dirty||H.touched)),v1("ngModel",r.calcRmv)("rangeVal",r.ranges.diverRmv)("min",r.ranges.diverRmv[0])("max",r.ranges.diverRmv[1]),Pe(3),gi("SAC: ",cn(47,61,r.gasSac(),"1.0-2")," ",r.units.sac,""),Pe(2),v1("ngIf",H.invalid&&(H.dirty||H.touched)),Pe(1),v1("hidden",!r.inSac),Pe(2),a2("RMV [",r.units.rmv,"]: "),Pe(1),v1("ngModel",r.calcRmv),Pe(2),gi("SAC: ",cn(55,64,r.gasSac(),"1.0-2")," ",r.units.sac,""),Pe(2),v1("hidden",!r.inUsed),Pe(2),a2("Gas consumed [",r.units.pressure,"]: "),Pe(1),v1("ngModel",r.calcUsed),Pe(1),v1("hidden",!r.inDuration),Pe(3),v1("ngModel",r.calcDuration)}},directives:[Q4,$4,q4,W4,u4,A4,G4,V4,J4,C3],pipes:[Ds],styles:[""]}),n})();var Vi=(()=>{return(n=Vi||(Vi={}))[n.Mod=0]="Mod",n[n.BestMix=1]="BestMix",n[n.PO2=2]="PO2",Vi;var n})();let hSe=(()=>{class n{constructor(e){this._pO2=1.6,this._fO2=50,this._mod=22,this._calculation=Vi.Mod,this.calculateCurrentMod=()=>{this._mod=this.nitroxCalculator.mod(this._pO2,this._fO2)},this.calculateBestMix=()=>{this._fO2=this.nitroxCalculator.bestMix(this._pO2,this._mod)},this.calculatePartial=()=>{this._pO2=this.nitroxCalculator.partialPressure(this._fO2,this._mod)},this.calculate=()=>this.calculateCurrentMod();const r=da.simple(),i=new fv(r,e);this.nitroxCalculator=new mV(i,r)}get calculation(){return this._calculation}get pO2(){return this._pO2}get fO2(){return this._fO2}get ead(){return this.nitroxCalculator.ead(this._fO2,this._mod)}get mod(){return this._mod}set calculation(e){switch(this._calculation=e,e){case Vi.BestMix:this.calculate=()=>this.calculateBestMix();break;case Vi.PO2:this.calculate=()=>this.calculatePartial();break;default:this.calculate=()=>this.calculateCurrentMod()}}set pO2(e){this._pO2=e,this.calculate()}set fO2(e){this._fO2=e,this.calculate()}set mod(e){this._mod=e,this.calculate()}}return n.\u0275fac=function(e){return new(e||n)(qt(i6))},n.\u0275prov=r2({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pSe(n,t){1&n&&(Oe(0,"div",26),D1(1,"Needs to be number 0.21-3"),$e())}function CSe(n,t){if(1&n&&(Oe(0,"div",26),D1(1),$e()),2&n){const e=U1();Pe(1),a2("Needs to be number ",e.ranges.nitroxOxygenLabel,"")}}function gSe(n,t){if(1&n&&(Oe(0,"div",26),D1(1),$e()),2&n){const e=U1();Pe(1),a2("Needs to be number ",e.ranges.depthLabel,"")}}let mSe=(()=>{class n{constructor(e,r,i,a){this.calc=e,this.router=r,this.planer=i,this.units=a,this.calcIcon=kv,this.calc.fO2=this.planer.firstTank.o2,this.calc.pO2=this.planer.diver.maxPpO2}get ranges(){return this.units.ranges}get inMod(){return this.calc.calculation===Vi.Mod}get inBestMix(){return this.calc.calculation===Vi.BestMix}get inPO2(){return this.calc.calculation===Vi.PO2}get calcMod(){return this.units.fromMeters(this.calc.mod)}set calcMod(e){this.calc.mod=this.units.toMeters(e)}toMod(){this.calc.calculation=Vi.Mod}toBestMix(){this.calc.calculation=Vi.BestMix}toPO2(){this.calc.calculation=Vi.PO2}goBack(){var e=this;return Yf(function*(){return yield e.router.navigateByUrl("/")})()}use(){this.planer.firstTank.o2=this.calc.fO2,this.planer.diver.maxPpO2=this.calc.pO2}}return n.\u0275fac=function(e){return new(e||n)(z1(hSe),z1(Vr),z1(z4),z1(dr))},n.\u0275cmp=un({type:n,selectors:[["app-nitrox"]],decls:57,vars:43,consts:[[1,"mt-5"],[1,"row"],[1,"col-lg-3","col-md-6","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[1,"my-3"],["role","group",1,"btn-group"],["type","button",1,"btn",3,"click"],[1,"my-2",3,"hidden"],["for","pO2"],["name","pO2","id","pO2","type","number","required","","step","0.1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange"],["pO2","ngModel"],["class","text-danger",4,"ngIf"],["for","fO2"],["name","fO2","id","fO2","type","number","required","","step","1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange"],["fO2","ngModel"],["for","mod"],["name","mod","id","mod","type","number","required","","step","1",1,"form-control",3,"ngModel","rangeVal","min","max","ngModelChange"],["mod","ngModel"],[1,"form-text","text-muted"],["readonly","",1,"form-control",3,"ngModel"],[1,"form-group","mt-2"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"text-danger"]],template:function(e,r){if(1&e&&(Oe(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),Yt(5,"fa-icon",5),Oe(6,"span"),D1(7,"Nitrox calculator"),$e()(),Oe(8,"div",6)(9,"div",7),D1(10,"This calculator uses simple depth conversion (where 1 ATM = 1 bar), so the values shown here are less precise, than in rest of the application."),$e(),Oe(11,"div",8)(12,"button",9),ht("click",function(){return r.toMod()}),D1(13,"MOD"),$e(),Oe(14,"button",9),ht("click",function(){return r.toBestMix()}),D1(15,"Best mix"),$e(),Oe(16,"button",9),ht("click",function(){return r.toPO2()}),D1(17,"ppO2"),$e()(),Oe(18,"div",10)(19,"label",11),D1(20,"ppO2: "),Oe(21,"input",12,13),ht("ngModelChange",function(a){return r.calc.pO2=a}),$e()(),ft(23,pSe,2,0,"div",14),$e(),Oe(24,"div",10)(25,"label",15),D1(26,"Percent O2: "),Oe(27,"input",16,17),ht("ngModelChange",function(a){return r.calc.fO2=a}),$e()(),ft(29,CSe,2,1,"div",14),$e(),Oe(30,"div",10)(31,"label",18),D1(32),Oe(33,"input",19,20),ht("ngModelChange",function(a){return r.calcMod=a}),$e(),Oe(35,"small",21),D1(36),$e()(),ft(37,gSe,2,1,"div",14),$e(),Oe(38,"div",10)(39,"label",18),D1(40),Yt(41,"input",22),Oe(42,"small",21),D1(43),$e()()(),Oe(44,"div",10)(45,"label",18),D1(46,"Percent O2: "),Yt(47,"input",22),$e()(),Oe(48,"div",10)(49,"label",18),D1(50,"ppO2: "),Yt(51,"input",22),$e()()()(),Oe(52,"div",23)(53,"button",24),ht("click",function(){return r.goBack()}),D1(54,"Back"),$e(),Oe(55,"button",25),ht("click",function(){return r.use()}),D1(56,"Use"),$e()()()()()),2&e){const i=Z2(22),a=Z2(28),s=Z2(34);Pe(5),v1("icon",r.calcIcon),Pe(7),h2("btn-primary",r.inMod),Pe(2),h2("btn-primary",r.inBestMix),Pe(2),h2("btn-primary",r.inPO2),Pe(2),v1("hidden",r.inPO2),Pe(3),h2("is-invalid",i.invalid&&(i.dirty||i.touched)),v1("ngModel",r.calc.pO2)("rangeVal",r.ranges.ppO2)("min",r.ranges.ppO2[0])("max",r.ranges.ppO2[1]),Pe(2),v1("ngIf",i.invalid&&(i.dirty||i.touched)),Pe(1),v1("hidden",r.inBestMix),Pe(3),h2("is-invalid",a.invalid&&(a.dirty||a.touched)),v1("ngModel",r.calc.fO2)("rangeVal",r.ranges.nitroxOxygen)("min",r.ranges.nitroxOxygen[0])("max",r.ranges.nitroxOxygen[1]),Pe(2),v1("ngIf",a.invalid&&(a.dirty||a.touched)),Pe(1),v1("hidden",r.inMod),Pe(2),a2("MOD [",r.units.length,"]: "),Pe(1),h2("is-invalid",s.invalid&&(s.dirty||s.touched)),v1("ngModel",r.calcMod)("rangeVal",r.ranges.depth)("min",r.ranges.depth[0])("max",r.ranges.depth[1]),Pe(3),gi("EAD: ",r.calc.ead," ",r.units.length,""),Pe(1),v1("ngIf",s.invalid&&(s.dirty||s.touched)),Pe(1),v1("hidden",!r.inMod),Pe(2),a2("MOD [",r.units.length,"]: "),Pe(1),v1("ngModel",r.calcMod),Pe(2),gi("EAD: ",r.calc.ead," ",r.units.length,""),Pe(1),v1("hidden",!r.inBestMix),Pe(3),v1("ngModel",r.calc.fO2),Pe(1),v1("hidden",!r.inPO2),Pe(3),v1("ngModel",r.calc.pO2)}},directives:[Q4,$4,q4,W4,u4,A4,G4,V4,J4,C3],styles:[""]}),n})();class v7{}v7.rootUrl="https://github.com/jirkapok/GasPlanner",v7.mainHelpUrl=v7.rootUrl+"/blob/master/doc";let DR=(()=>{class n{constructor(){this.appVersion="0.1.16"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=un({type:n,selectors:[["app-info"]],decls:2,vars:1,consts:[[1,"text-muted"]],template:function(e,r){1&e&&(Oe(0,"span",0),D1(1),$e()),2&e&&(Pe(1),a2("\xa9 2020 JIRI POKORNY, Version ",r.appVersion,""))},styles:[""]}),n})(),ySe=(()=>{class n{constructor(){this.exclamation=_d}get projectUrl(){return v7.rootUrl}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=un({type:n,selectors:[["app-about"]],decls:17,vars:2,consts:[[1,"jumbotron","m-4","pt-5"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","mt-4"],[1,"me-2","fa-lg",3,"icon"],[1,"mt-4"],["target","_blank",1,"btn","btn-primary","btn-lg",3,"href"]],template:function(e,r){1&e&&(Oe(0,"div",0)(1,"h1"),D1(2,"About Gas Planner"),$e(),Oe(3,"p"),D1(4,"Open source Scuba diving application to help divers plan their dives."),Yt(5,"br"),D1(6," Plan your dive and dive your plan!"),$e(),Yt(7,"app-info"),Oe(8,"div",1),Yt(9,"fa-icon",2),Oe(10,"span")(11,"strong"),D1(12,"Disclaimer:"),$e(),D1(13," None of the authors, contributors, administrators, or anyone else connected with this project can be responsible for your use of the information provided by this application or linked from these web pages. Use the results at your own risk."),$e()(),Oe(14,"div",3)(15,"a",4),D1(16,"Github project"),$e()()()),2&e&&(Pe(9),v1("icon",r.exclamation),Pe(6),uu("href",r.projectUrl,ds))},directives:[DR,Q4],styles:[""]}),n})(),SR=(()=>{class n{calculate(e,r){const i=[],a=new Qc,s=da.simple(),y=e.mod(r.maxPpO2);let H=s.fromBar(y);H>42&&(H=42);for(let J=12;J<=H;J+=r.decoStopDistance){const he=a.noDecoLimit(J,e,r);i.push({depth:J,limit:he})}return i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=r2({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _Se(n,t){1&n&&(Oe(0,"tr")(1,"td",19),D1(2," No NDL limits found in meaningful depth range."),Yt(3,"br"),D1(4," Change gas O2 content. "),$e()())}function bSe(n,t){if(1&n&&(Oe(0,"tr")(1,"td"),D1(2),$e(),Oe(3,"td"),D1(4),an(5,"number"),$e()()),2&n){const e=t.$implicit;Pe(2),Mn(e.depth),Pe(2),Mn(cn(5,2,e.limit,"1.0-0"))}}const MSe=[{path:"settings",component:Ibe},{path:"sac",component:dSe},{path:"nitrox",component:mSe},{path:"ndl",component:(()=>{class n{constructor(e,r,i,a){this.router=e,this.units=r,this.ndl=i,this.icon=WO,this.iconConfig=Wv,this.totalDuration=F2.oneDay,this.isComplex=!1,this.limits=[],this.tank=new JI(new Io(15,200,21),this.units),this.options=new Xc,this.copyOptions(a),this.toxicity=new a6(this.options),this.calculate()}get noResults(){return 0===this.limits.length}calculate(){this.limits=this.ndl.calculate(this.tank.tank.gas,this.options);for(let r=0;r<this.limits.length;r++)this.limits[r].depth=this.units.stopsDistance*(r+4)}goBack(){var e=this;return Yf(function*(){return yield e.router.navigateByUrl("/")})()}copyOptions(e){this.options.gfLow=e.gfLow,this.options.gfHigh=e.gfHigh,this.options.salinity=e.salinity,this.options.altitude=e.altitude,this.options.maxPpO2=e.maxPpO2}}return n.\u0275fac=function(e){return new(e||n)(z1(Vr),z1(dr),z1(SR),z1(i6))},n.\u0275cmp=un({type:n,selectors:[["app-ndl-limits"]],decls:38,vars:15,consts:[[1,"row","mt-5"],[1,"col","col-auto","mt-3"],[1,"card"],[1,"card-header"],[1,"me-3",3,"icon"],[1,"card-body"],[1,"mb-2"],[3,"tank","showBestMix","toxicity","gasChange"],["label","Maximum ppO2:",3,"maxPpO2","maxPpO2Change","inputChange"],[3,"salinity","salinityChange","inputChange"],[3,"altitude","altitudeChange","inputChange"],[3,"gfLow","gfHigh","simple","showTitle","gfLowChange","gfHighChange","inputChange"],[1,"card-body","card-minheight"],[1,"table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"row"],[1,"form-group","mt-2"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["colspan","2"]],template:function(e,r){1&e&&(Oe(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Yt(4,"fa-icon",4),Oe(5,"span"),D1(6,"Options"),$e()(),Oe(7,"div",5)(8,"div",6)(9,"app-nitrox-o2",7),ht("gasChange",function(){return r.calculate()}),$e()(),Oe(10,"div",6)(11,"app-pp-o2",8),ht("maxPpO2Change",function(a){return r.options.maxPpO2=a})("inputChange",function(){return r.calculate()}),$e()(),Oe(12,"div",6)(13,"app-salinity",9),ht("salinityChange",function(a){return r.options.salinity=a})("inputChange",function(){return r.calculate()}),$e()(),Oe(14,"div",6)(15,"app-altitude",10),ht("altitudeChange",function(a){return r.options.altitude=a})("inputChange",function(){return r.calculate()}),$e()(),Oe(16,"div",6)(17,"app-gradients",11),ht("gfLowChange",function(a){return r.options.gfLow=a})("gfHighChange",function(a){return r.options.gfHigh=a})("inputChange",function(){return r.calculate()}),$e()()()()(),Oe(18,"div",1)(19,"div",2)(20,"div",3),Yt(21,"fa-icon",4),Oe(22,"span"),D1(23,"No decompression limits"),$e()(),Oe(24,"div",12)(25,"table",13)(26,"tbody")(27,"tr")(28,"th"),D1(29),$e(),Oe(30,"th"),D1(31,"Limit [min]"),$e()(),ft(32,_Se,5,0,"tr",14),ft(33,bSe,6,5,"tr",15),$e()()()()()(),Oe(34,"div",16)(35,"div",17)(36,"button",18),ht("click",function(){return r.goBack()}),D1(37,"Back"),$e()()()),2&e&&(Pe(4),v1("icon",r.iconConfig),Pe(5),v1("tank",r.tank.tank)("showBestMix",!1)("toxicity",r.toxicity),Pe(2),v1("maxPpO2",r.options.maxPpO2),Pe(2),v1("salinity",r.options.salinity),Pe(2),v1("altitude",r.options.altitude),Pe(2),v1("gfLow",r.options.gfLow)("gfHigh",r.options.gfHigh)("simple",!1)("showTitle",!0),Pe(4),v1("icon",r.icon),Pe(8),a2("Depth [",r.units.length,"]"),Pe(3),v1("ngIf",r.noResults),Pe(1),v1("ngForOf",r.limits))},directives:[Q4,ZI,YI,eP,tP,QI,C3,oa],pipes:[Ds],styles:[""]}),n})()},{path:"about",component:ySe},{path:"**",component:aSe}];let xSe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tn({type:n}),n.\u0275inj=D2({imports:[[RT.forRoot(MSe)],RT]}),n})();function wSe(n,t){if(1&n){const e=Ln();Oe(0,"button",20),ht("click",function(){return Nt(e),U1().addToHomeScreen()}),D1(1,"Add to Home screen"),$e()}}let LSe=(()=>{class n{constructor(e){this.preferences=e,this.isNavbarCollapsed=!0,this.showInstallButton=!1}get mainHelpUrl(){return v7.mainHelpUrl}onbeforeinstallprompt(e){e.preventDefault(),this.deferredPrompt=e,this.showInstallButton=!0}saveDefaults(){this.preferences.saveDefaults()}loadDefaults(){this.preferences.loadDefaults()}addToHomeScreen(){this.showInstallButton=!1,this.deferredPrompt&&(this.deferredPrompt.prompt(),this.deferredPrompt.userChoice.then(e=>{this.deferredPrompt=null}))}}return n.\u0275fac=function(e){return new(e||n)(z1(vy))},n.\u0275cmp=un({type:n,selectors:[["app-mainmenu"]],hostBindings:function(e,r){1&e&&ht("beforeinstallprompt",function(a){return r.onbeforeinstallprompt(a)},!1,u9)},decls:36,vars:4,consts:[[1,"navbar","navbar-expand-md","navbar-dark","bg-primary","fixed-top"],["routerLink","/",1,"navbar-brand","ps-3"],["type","button","data-target","#navbarsDefault","aria-controls","navbarsDefault","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","hidden-sm-up",3,"click"],[1,"navbar-toggler-icon"],["id","navbarsDefault",1,"collapse","navbar-collapse",3,"ngbCollapse"],[1,"navbar-nav","mr-auto"],["ngbDropdown","",1,"nav-item","dropdown"],["id","id01","ngbDropdownToggle","",1,"nav-link","dropdown-toggle"],["aria-labelledby","id01","ngbDropdownMenu","",1,"dropdown-menu"],["routerLink","/sac",1,"dropdown-item"],["routerLink","/nitrox",1,"dropdown-item"],["routerLink","/ndl",1,"dropdown-item"],["id","id02","ngbDropdownToggle","",1,"nav-link","dropdown-toggle"],["aria-labelledby","id02","ngbDropdownMenu","",1,"dropdown-menu"],["routerLink","/settings",1,"dropdown-item"],[1,"dropdown-item",3,"click"],["target","_blank",1,"nav-link",3,"href"],["routerLink","/about",1,"nav-link"],[1,"nav","navbar-nav","navbar-right"],["class","btn btn-success btn-small mr-auto",3,"click",4,"ngIf"],[1,"btn","btn-success","btn-small","mr-auto",3,"click"]],template:function(e,r){1&e&&(Oe(0,"nav",0)(1,"a",1),D1(2,"Gas planner"),$e(),Oe(3,"button",2),ht("click",function(){return r.isNavbarCollapsed=!r.isNavbarCollapsed}),Yt(4,"span",3),$e(),Oe(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),D1(9,"Calculators"),$e(),Oe(10,"div",8)(11,"a",9),D1(12,"RMV/SAC"),$e(),Oe(13,"a",10),D1(14,"Nitrox"),$e(),Oe(15,"a",11),D1(16,"NDL table"),$e()()(),Oe(17,"li",6)(18,"a",12),D1(19,"Settings"),$e(),Oe(20,"div",13)(21,"a",14),D1(22,"Edit"),$e(),Oe(23,"a",15),ht("click",function(){return r.saveDefaults()}),D1(24,"Save defaults"),$e(),Oe(25,"a",15),ht("click",function(){return r.loadDefaults()}),D1(26,"Reload defaults"),$e()()(),Oe(27,"a",16),D1(28,"Standard gases"),$e(),Oe(29,"a",16),D1(30,"Help/Learn"),$e(),Oe(31,"a",17),D1(32,"About"),$e()(),Oe(33,"ul",18)(34,"li"),ft(35,wSe,2,0,"button",19),$e()()()()),2&e&&(Pe(5),v1("ngbCollapse",r.isNavbarCollapsed),Pe(22),L5("href","",r.mainHelpUrl,"/standard_gases.md",ds),Pe(2),L5("href","",r.mainHelpUrl,"/help.md",ds),Pe(6),v1("ngIf",r.showInstallButton))},directives:[Qg,qf,WK,bi,Vo,ja,C3],styles:[""]}),n})(),DSe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=un({type:n,selectors:[["app-footer"]],decls:4,vars:0,consts:[[1,"mt-5"],[1,"page-footer","font-small","bg-light","fixed-bottom","d-none","d-lg-block"],[1,"footer-copyright","text-center","py-2"]],template:function(e,r){1&e&&(Yt(0,"div",0),Oe(1,"footer",1)(2,"div",2),Yt(3,"app-info"),$e()())},directives:[DR],styles:[""]}),n})(),SSe=(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=un({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(e,r){1&e&&Yt(0,"app-mainmenu")(1,"router-outlet")(2,"app-footer")},directives:[LSe,Ym,DSe],styles:[""]}),n})();class Uy{constructor(t){this.worker=t,this.onCalculated=new j,this.onFailed=new j,this.calculated=this.onCalculated.asObservable(),this.failed=this.onFailed.asObservable(),this.worker.addEventListener("message",e=>this.processMessage(e)),this.worker.addEventListener("error",()=>this.onFailed.next())}calculate(t){this.worker.postMessage(t)}processMessage(t){this.onCalculated.next(t.data)}}class TSe extends mv{createProfileWorker(){const t=new Worker(de.tu(new URL(de.p+de.u(481),de.b)));return new Uy(t)}createDiveInfoWorker(){const t=new Worker(de.tu(new URL(de.p+de.u(39),de.b)));return new Uy(t)}createConsumptionWorker(){const t=new Worker(de.tu(new URL(de.p+de.u(626),de.b)));return new Uy(t)}}let HSe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tn({type:n,bootstrap:[SSe]}),n.\u0275inj=D2({providers:[{provide:mv,useClass:TSe},z4,vy,dr,_y,i6,a7,SR,BC],imports:[[P$,nL,qZ,xSe,JZ,$X,YX,Mq.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"})]]}),n})();(function Dj(){ax=!1})(),O$().bootstrapModule(HSe).catch(n=>console.error(n))},489:function(L3,m,de){var ne;L3=de.nmd(L3),function(){var o,c="Expected a function",d="__lodash_hash_undefined__",u="__lodash_placeholder__",V=32,I=128,ce=1/0,me=9007199254740991,K=NaN,le=4294967295,oe=[["ary",I],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",V],["partialRight",64],["rearg",256]],re="[object Arguments]",F="[object Array]",X="[object Boolean]",R="[object Date]",fe="[object Error]",ue="[object Function]",pe="[object GeneratorFunction]",xe="[object Map]",Me="[object Number]",ze="[object Object]",Fe="[object Promise]",t1="[object RegExp]",Xe="[object Set]",Ge="[object String]",we="[object Symbol]",De="[object WeakMap]",qe="[object ArrayBuffer]",Ie="[object DataView]",Re="[object Float32Array]",Qe="[object Float64Array]",n1="[object Int8Array]",Ye="[object Int16Array]",r1="[object Int32Array]",f1="[object Uint8Array]",Je="[object Uint8ClampedArray]",g1="[object Uint16Array]",b1="[object Uint32Array]",_1=/\b__p \+= '';/g,I1=/\b(__p \+=) '' \+/g,M1=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Be=/&(?:amp|lt|gt|quot|#39);/g,je=/[&<>"']/g,C1=RegExp(Be.source),O1=RegExp(je.source),Q1=/<%-([\s\S]+?)%>/g,st=/<%([\s\S]+?)%>/g,$1=/<%=([\s\S]+?)%>/g,Z1=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,N1=/^\w*$/,ge=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ye=/[\\^$.*+?()[\]{}|]/g,We=RegExp(ye.source),e1=/^\s+/,d1=/\s/,a1=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,l1=/\{\n\/\* \[wrapped with (.+)\] \*/,c1=/,? & /,w1=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,T1=/[()=,{}\[\]\/\s]/,B1=/\\(\\)?/g,rt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,H1=/\w*$/,Y1=/^[-+]0x[0-9a-f]+$/i,ut=/^0b[01]+$/i,k1=/^\[object .+?Constructor\]$/,L1=/^0o[0-7]+$/i,it=/^(?:0|[1-9]\d*)$/,X1=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,j1=/($^)/,et=/['\n\r\u2028\u2029\\]/g,P1="\\ud800-\\udfff",Ft="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ot="\\u2700-\\u27bf",Dt="a-z\\xdf-\\xf6\\xf8-\\xff",ot="A-Z\\xc0-\\xd6\\xd8-\\xde",gt="\\ufe0e\\ufe0f",Gt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Vt="["+P1+"]",kt="["+Gt+"]",f2="["+Ft+"]",p2="\\d+",Bt="["+Ot+"]",Kt="["+Dt+"]",Pt="[^"+P1+Gt+p2+Ot+Dt+ot+"]",m2="\\ud83c[\\udffb-\\udfff]",y2="[^"+P1+"]",d2="(?:\\ud83c[\\udde6-\\uddff]){2}",Et="[\\ud800-\\udbff][\\udc00-\\udfff]",u2="["+ot+"]",e2="(?:"+Kt+"|"+Pt+")",Rt="(?:"+u2+"|"+Pt+")",mt="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",b2="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",mn="(?:"+f2+"|"+m2+")?",G2="["+gt+"]?",vn=G2+mn+"(?:\\u200d(?:"+[y2,d2,Et].join("|")+")"+G2+mn+")*",wn="(?:"+[Bt,d2,Et].join("|")+")"+vn,E2="(?:"+[y2+f2+"?",f2,d2,Et,Vt].join("|")+")",J2=RegExp("['\u2019]","g"),H3=RegExp(f2,"g"),nr=RegExp(m2+"(?="+m2+")|"+E2+vn,"g"),yr=RegExp([u2+"?"+Kt+"+"+mt+"(?="+[kt,u2,"$"].join("|")+")",Rt+"+"+b2+"(?="+[kt,u2+e2,"$"].join("|")+")",u2+"?"+e2+"+"+mt,u2+"+"+b2,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",p2,wn].join("|"),"g"),r2=RegExp("[\\u200d"+P1+Ft+gt+"]"),kn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,D2=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],G3=-1,B2={};B2[Re]=B2[Qe]=B2[n1]=B2[Ye]=B2[r1]=B2[f1]=B2[Je]=B2[g1]=B2[b1]=!0,B2[re]=B2[F]=B2[qe]=B2[X]=B2[Ie]=B2[R]=B2[fe]=B2[ue]=B2[xe]=B2[Me]=B2[ze]=B2[t1]=B2[Xe]=B2[Ge]=B2[De]=!1;var Pn={};Pn[re]=Pn[F]=Pn[qe]=Pn[Ie]=Pn[X]=Pn[R]=Pn[Re]=Pn[Qe]=Pn[n1]=Pn[Ye]=Pn[r1]=Pn[xe]=Pn[Me]=Pn[ze]=Pn[t1]=Pn[Xe]=Pn[Ge]=Pn[we]=Pn[f1]=Pn[Je]=Pn[g1]=Pn[b1]=!0,Pn[fe]=Pn[ue]=Pn[De]=!1;var va={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Za=parseFloat,$s=parseInt,T2="object"==typeof global&&global&&global.Object===Object&&global,Ai="object"==typeof self&&self&&self.Object===Object&&self,s3=T2||Ai||Function("return this")(),C4=m&&!m.nodeType&&m,ti=C4&&L3&&!L3.nodeType&&L3,h8=ti&&ti.exports===C4,_r=h8&&T2.process,t3=function(){try{return ti&&ti.require&&ti.require("util").types||_r&&_r.binding&&_r.binding("util")}catch(Ct){}}(),p8=t3&&t3.isArrayBuffer,Ja=t3&&t3.isDate,Wr=t3&&t3.isMap,Uo=t3&&t3.isRegExp,Ws=t3&&t3.isSet,g4=t3&&t3.isTypedArray;function br(W1,Ct,ct){switch(ct.length){case 0:return W1.call(Ct);case 1:return W1.call(Ct,ct[0]);case 2:return W1.call(Ct,ct[0],ct[1]);case 3:return W1.call(Ct,ct[0],ct[1],ct[2])}return W1.apply(Ct,ct)}function Hn(W1,Ct,ct,Zt){for(var P2=-1,Sn=null==W1?0:W1.length;++P2<Sn;){var v3=W1[P2];Ct(Zt,v3,ct(v3),W1)}return Zt}function Mr(W1,Ct){for(var ct=-1,Zt=null==W1?0:W1.length;++ct<Zt&&!1!==Ct(W1[ct],ct,W1););return W1}function ya(W1,Ct){for(var ct=null==W1?0:W1.length;ct--&&!1!==Ct(W1[ct],ct,W1););return W1}function m4(W1,Ct){for(var ct=-1,Zt=null==W1?0:W1.length;++ct<Zt;)if(!Ct(W1[ct],ct,W1))return!1;return!0}function gn(W1,Ct){for(var ct=-1,Zt=null==W1?0:W1.length,P2=0,Sn=[];++ct<Zt;){var v3=W1[ct];Ct(v3,ct,W1)&&(Sn[P2++]=v3)}return Sn}function ki(W1,Ct){return!(null==W1||!W1.length)&&tn(W1,Ct,0)>-1}function Xa(W1,Ct,ct){for(var Zt=-1,P2=null==W1?0:W1.length;++Zt<P2;)if(ct(Ct,W1[Zt]))return!0;return!1}function Rn(W1,Ct){for(var ct=-1,Zt=null==W1?0:W1.length,P2=Array(Zt);++ct<Zt;)P2[ct]=Ct(W1[ct],ct,W1);return P2}function v4(W1,Ct){for(var ct=-1,Zt=Ct.length,P2=W1.length;++ct<Zt;)W1[P2+ct]=Ct[ct];return W1}function Er(W1,Ct,ct,Zt){var P2=-1,Sn=null==W1?0:W1.length;for(Zt&&Sn&&(ct=W1[++P2]);++P2<Sn;)ct=Ct(ct,W1[P2],P2,W1);return ct}function Qa(W1,Ct,ct,Zt){var P2=null==W1?0:W1.length;for(Zt&&P2&&(ct=W1[--P2]);P2--;)ct=Ct(ct,W1[P2],P2,W1);return ct}function qs(W1,Ct){for(var ct=-1,Zt=null==W1?0:W1.length;++ct<Zt;)if(Ct(W1[ct],ct,W1))return!0;return!1}var un=I3("length");function Ys(W1,Ct,ct){var Zt;return ct(W1,function(P2,Sn,v3){if(Ct(P2,Sn,v3))return Zt=Sn,!1}),Zt}function eo(W1,Ct,ct,Zt){for(var P2=W1.length,Sn=ct+(Zt?1:-1);Zt?Sn--:++Sn<P2;)if(Ct(W1[Sn],Sn,W1))return Sn;return-1}function tn(W1,Ct,ct){return Ct==Ct?function Ks(W1,Ct,ct){for(var Zt=ct-1,P2=W1.length;++Zt<P2;)if(W1[Zt]===Ct)return Zt;return-1}(W1,Ct,ct):eo(W1,jo,ct)}function b6(W1,Ct,ct,Zt){for(var P2=ct-1,Sn=W1.length;++P2<Sn;)if(Zt(W1[P2],Ct))return P2;return-1}function jo(W1){return W1!=W1}function Ut(W1,Ct){var ct=null==W1?0:W1.length;return ct?hr(W1,Ct)/ct:K}function I3(W1){return function(Ct){return null==Ct?o:Ct[W1]}}function Kn(W1){return function(Ct){return null==W1?o:W1[Ct]}}function y4(W1,Ct,ct,Zt,P2){return P2(W1,function(Sn,v3,zn){ct=Zt?(Zt=!1,Sn):Ct(ct,Sn,v3,zn)}),ct}function hr(W1,Ct){for(var ct,Zt=-1,P2=W1.length;++Zt<P2;){var Sn=Ct(W1[Zt]);Sn!==o&&(ct=ct===o?Sn:ct+Sn)}return ct}function _a(W1,Ct){for(var ct=-1,Zt=Array(W1);++ct<W1;)Zt[ct]=Ct(ct);return Zt}function ba(W1){return W1&&W1.slice(0,Pi(W1)+1).replace(e1,"")}function $3(W1){return function(Ct){return W1(Ct)}}function E4(W1,Ct){return Rn(Ct,function(ct){return W1[ct]})}function m3(W1,Ct){return W1.has(Ct)}function M6(W1,Ct){for(var ct=-1,Zt=W1.length;++ct<Zt&&tn(Ct,W1[ct],0)>-1;);return ct}function xr(W1,Ct){for(var ct=W1.length;ct--&&tn(Ct,W1[ct],0)>-1;);return ct}function t2(W1,Ct){for(var ct=W1.length,Zt=0;ct--;)W1[ct]===Ct&&++Zt;return Zt}var W2=Kn({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),On=Kn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function n3(W1){return"\\"+va[W1]}function Zn(W1){return r2.test(W1)}function ni(W1){var Ct=-1,ct=Array(W1.size);return W1.forEach(function(Zt,P2){ct[++Ct]=[P2,Zt]}),ct}function Oi(W1,Ct){return function(ct){return W1(Ct(ct))}}function A2(W1,Ct){for(var ct=-1,Zt=W1.length,P2=0,Sn=[];++ct<Zt;){var v3=W1[ct];(v3===Ct||v3===u)&&(W1[ct]=u,Sn[P2++]=ct)}return Sn}function Ii(W1){var Ct=-1,ct=Array(W1.size);return W1.forEach(function(Zt){ct[++Ct]=Zt}),ct}function c3(W1){return Zn(W1)?function Fn(W1){for(var Ct=nr.lastIndex=0;nr.test(W1);)++Ct;return Ct}(W1):un(W1)}function rr(W1){return Zn(W1)?function x6(W1){return W1.match(nr)||[]}(W1):function C8(W1){return W1.split("")}(W1)}function Pi(W1){for(var Ct=W1.length;Ct--&&d1.test(W1.charAt(Ct)););return Ct}var qr=Kn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),W3=function W1(Ct){var f,ct=(Ct=null==Ct?s3:W3.defaults(s3.Object(),Ct,W3.pick(s3,D2))).Array,Zt=Ct.Date,P2=Ct.Error,Sn=Ct.Function,v3=Ct.Math,zn=Ct.Object,$o=Ct.RegExp,b7=Ct.String,Yr=Ct.TypeError,to=ct.prototype,ii=zn.prototype,xa=Ct["__core-js_shared__"],Zs=Sn.prototype.toString,Vn=ii.hasOwnProperty,v8=0,y8=(f=/[^.]+$/.exec(xa&&xa.keys&&xa.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"",Js=ii.toString,_8=Zs.call(zn),b8=s3._,Wo=$o("^"+Zs.call(Vn).replace(ye,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ai=h8?Ct.Buffer:o,Ri=Ct.Symbol,wa=Ct.Uint8Array,M8=ai?ai.allocUnsafe:o,b4=Oi(zn.getPrototypeOf,zn),w6=zn.create,Jn=ii.propertyIsEnumerable,no=to.splice,ro=Ri?Ri.isConcatSpreadable:o,io=Ri?Ri.iterator:o,oi=Ri?Ri.toStringTag:o,La=function(){try{var f=Co(zn,"defineProperty");return f({},"",{}),f}catch(x){}}(),L6=Ct.clearTimeout!==s3.clearTimeout&&Ct.clearTimeout,Xs=Zt&&Zt.now!==s3.Date.now&&Zt.now,qo=Ct.setTimeout!==s3.setTimeout&&Ct.setTimeout,V3=v3.ceil,Fi=v3.floor,Yo=zn.getOwnPropertySymbols,ao=ai?ai.isBuffer:o,Or=Ct.isFinite,D6=to.join,oo=Oi(zn.keys,zn),u3=v3.max,f3=v3.min,S6=Zt.now,Xn=Ct.parseInt,pr=v3.random,T6=to.reverse,Qn=Co(Ct,"DataView"),Ir=Co(Ct,"Map"),Ko=Co(Ct,"Promise"),Kr=Co(Ct,"Set"),P3=Co(Ct,"WeakMap"),Da=Co(zn,"create"),Bi=P3&&new P3,Pr={},wr=mo(Qn),Qs=mo(Ir),e0=mo(Ko),x8=mo(Kr),si=mo(P3),Sa=Ri?Ri.prototype:o,li=Sa?Sa.valueOf:o,S2=Sa?Sa.toString:o;function Ze(f){if(l2(f)&&!en(f)&&!(f instanceof U2)){if(f instanceof q3)return f;if(Vn.call(f,"__wrapped__"))return j8(f)}return new q3(f)}var O4=function(){function f(){}return function(x){if(!p3(x))return{};if(w6)return w6(x);f.prototype=x;var Z=new f;return f.prototype=o,Z}}();function so(){}function q3(f,x){this.__wrapped__=f,this.__actions__=[],this.__chain__=!!x,this.__index__=0,this.__values__=o}function U2(f){this.__wrapped__=f,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=le,this.__views__=[]}function q2(f){var x=-1,Z=null==f?0:f.length;for(this.clear();++x<Z;){var Le=f[x];this.set(Le[0],Le[1])}}function Zr(f){var x=-1,Z=null==f?0:f.length;for(this.clear();++x<Z;){var Le=f[x];this.set(Le[0],Le[1])}}function v(f){var x=-1,Z=null==f?0:f.length;for(this.clear();++x<Z;){var Le=f[x];this.set(Le[0],Le[1])}}function _e(f){var x=-1,Z=null==f?0:f.length;for(this.__data__=new v;++x<Z;)this.add(f[x])}function He(f){var x=this.__data__=new Zr(f);this.size=x.size}function p1(f,x){var Z=en(f),Le=!Z&&ka(f),Ne=!Z&&!Le&&za(f),o1=!Z&&!Le&&!Ne&&H0(f),m1=Z||Le||Ne||o1,E1=m1?_a(f.length,b7):[],J1=E1.length;for(var bt in f)(x||Vn.call(f,bt))&&(!m1||!("length"==bt||Ne&&("offset"==bt||"parent"==bt)||o1&&("buffer"==bt||"byteLength"==bt||"byteOffset"==bt)||Aa(bt,J1)))&&E1.push(bt);return E1}function x1(f){var x=f.length;return x?f[K3(0,x-1)]:o}function u1(f,x){return W6(e4(f),g2(x,0,f.length))}function R1(f){return W6(e4(f))}function S1(f,x,Z){(Z!==o&&!R4(f[x],Z)||Z===o&&!(x in f))&&Tt(f,x,Z)}function h1(f,x,Z){var Le=f[x];(!Vn.call(f,x)||!R4(Le,Z)||Z===o&&!(x in f))&&Tt(f,x,Z)}function nt(f,x){for(var Z=f.length;Z--;)if(R4(f[Z][0],x))return Z;return-1}function at(f,x,Z,Le){return Wt(f,function(Ne,o1,m1){x(Le,Ne,Z(Ne),m1)}),Le}function vt(f,x){return f&&P4(x,J3(x),f)}function Tt(f,x,Z){"__proto__"==x&&La?La(f,x,{configurable:!0,enumerable:!0,value:Z,writable:!0}):f[x]=Z}function Jt(f,x){for(var Z=-1,Le=x.length,Ne=ct(Le),o1=null==f;++Z<Le;)Ne[Z]=o1?o:A0(f,x[Z]);return Ne}function g2(f,x,Z){return f==f&&(Z!==o&&(f=f<=Z?f:Z),x!==o&&(f=f>=x?f:x)),f}function jt(f,x,Z,Le,Ne,o1){var m1,E1=1&x,J1=2&x,bt=4&x;if(Z&&(m1=Ne?Z(f,Le,Ne,o1):Z(f)),m1!==o)return m1;if(!p3(f))return f;var Mt=en(f);if(Mt){if(m1=function U6(f){var x=f.length,Z=new f.constructor(x);return x&&"string"==typeof f[0]&&Vn.call(f,"index")&&(Z.index=f.index,Z.input=f.input),Z}(f),!E1)return e4(f,m1)}else{var Ht=Lr(f),n2=Ht==ue||Ht==pe;if(za(f))return os(f,E1);if(Ht==ze||Ht==re||n2&&!Ne){if(m1=J1||n2?{}:j6(f),!E1)return J1?function Zd(f,x){return P4(f,R7(f),x)}(f,function Lt(f,x){return f&&P4(x,S3(x),f)}(m1,f)):function Kd(f,x){return P4(f,B6(f),x)}(f,vt(m1,f))}else{if(!Pn[Ht])return Ne?f:{};m1=function fs(f,x,Z){var Le=f.constructor;switch(x){case qe:return E6(f);case X:case R:return new Le(+f);case Ie:return function Wd(f,x){var Z=x?E6(f.buffer):f.buffer;return new f.constructor(Z,f.byteOffset,f.byteLength)}(f,Z);case Re:case Qe:case n1:case Ye:case r1:case f1:case Je:case g1:case b1:return Yd(f,Z);case xe:return new Le;case Me:case Ge:return new Le(f);case t1:return function qd(f){var x=new f.constructor(f.source,H1.exec(f));return x.lastIndex=f.lastIndex,x}(f);case Xe:return new Le;case we:return function Ky(f){return li?zn(li.call(f)):{}}(f)}}(f,Ht,E1)}}o1||(o1=new He);var C2=o1.get(f);if(C2)return C2;o1.set(f,m1),a5(f)?f.forEach(function(V2){m1.add(jt(V2,x,Z,V2,f,o1))}):Pe(f)&&f.forEach(function(V2,yn){m1.set(yn,jt(V2,x,Z,yn,f,o1))});var ln=Mt?o:(bt?J1?C0:F6:J1?S3:J3)(f);return Mr(ln||f,function(V2,yn){ln&&(V2=f[yn=V2]),h1(m1,yn,jt(V2,x,Z,yn,f,o1))}),m1}function Nn(f,x,Z){var Le=Z.length;if(null==f)return!Le;for(f=zn(f);Le--;){var Ne=Z[Le],m1=f[Ne];if(m1===o&&!(Ne in f)||!(0,x[Ne])(m1))return!1}return!0}function $n(f,x,Z){if("function"!=typeof f)throw new Yr(c);return y0(function(){f.apply(o,Z)},x)}function _t(f,x,Z,Le){var Ne=-1,o1=ki,m1=!0,E1=f.length,J1=[],bt=x.length;if(!E1)return J1;Z&&(x=Rn(x,$3(Z))),Le?(o1=Xa,m1=!1):x.length>=200&&(o1=m3,m1=!1,x=new _e(x));e:for(;++Ne<E1;){var Mt=f[Ne],Ht=null==Z?Mt:Z(Mt);if(Mt=Le||0!==Mt?Mt:0,m1&&Ht==Ht){for(var n2=bt;n2--;)if(x[n2]===Ht)continue e;J1.push(Mt)}else o1(x,Ht,Le)||J1.push(Mt)}return J1}Ze.templateSettings={escape:Q1,evaluate:st,interpolate:$1,variable:"",imports:{_:Ze}},(Ze.prototype=so.prototype).constructor=Ze,(q3.prototype=O4(so.prototype)).constructor=q3,(U2.prototype=O4(so.prototype)).constructor=U2,q2.prototype.clear=function Nt(){this.__data__=Da?Da(null):{},this.size=0},q2.prototype.delete=function h3(f){var x=this.has(f)&&delete this.__data__[f];return this.size-=x?1:0,x},q2.prototype.get=function lo(f){var x=this.__data__;if(Da){var Z=x[f];return Z===d?o:Z}return Vn.call(x,f)?x[f]:o},q2.prototype.has=function Ta(f){var x=this.__data__;return Da?x[f]!==o:Vn.call(x,f)},q2.prototype.set=function M4(f,x){var Z=this.__data__;return this.size+=this.has(f)?0:1,Z[f]=Da&&x===o?d:x,this},Zr.prototype.clear=function t0(){this.__data__=[],this.size=0},Zr.prototype.delete=function M7(f){var x=this.__data__,Z=nt(x,f);return!(Z<0||(Z==x.length-1?x.pop():no.call(x,Z,1),--this.size,0))},Zr.prototype.get=function n0(f){var x=this.__data__,Z=nt(x,f);return Z<0?o:x[Z][1]},Zr.prototype.has=function Jo(f){return nt(this.__data__,f)>-1},Zr.prototype.set=function Xo(f,x){var Z=this.__data__,Le=nt(Z,f);return Le<0?(++this.size,Z.push([f,x])):Z[Le][1]=x,this},v.prototype.clear=function A(){this.size=0,this.__data__={hash:new q2,map:new(Ir||Zr),string:new q2}},v.prototype.delete=function U(f){var x=Zi(this,f).delete(f);return this.size-=x?1:0,x},v.prototype.get=function ee(f){return Zi(this,f).get(f)},v.prototype.has=function se(f){return Zi(this,f).has(f)},v.prototype.set=function Ce(f,x){var Z=Zi(this,f),Le=Z.size;return Z.set(f,x),this.size+=Z.size==Le?0:1,this},_e.prototype.add=_e.prototype.push=function Te(f){return this.__data__.set(f,d),this},_e.prototype.has=function Se(f){return this.__data__.has(f)},He.prototype.clear=function Ee(){this.__data__=new Zr,this.size=0},He.prototype.delete=function i1(f){var x=this.__data__,Z=x.delete(f);return this.size=x.size,Z},He.prototype.get=function s1(f){return this.__data__.get(f)},He.prototype.has=function y1(f){return this.__data__.has(f)},He.prototype.set=function A1(f,x){var Z=this.__data__;if(Z instanceof Zr){var Le=Z.__data__;if(!Ir||Le.length<199)return Le.push([f,x]),this.size=++Z.size,this;Z=this.__data__=new v(Le)}return Z.set(f,x),this.size=Z.size,this};var Wt=A7(Gn),x2=A7(y3,!0);function M2(f,x){var Z=!0;return Wt(f,function(Le,Ne,o1){return Z=!!x(Le,Ne,o1)}),Z}function X2(f,x,Z){for(var Le=-1,Ne=f.length;++Le<Ne;){var o1=f[Le],m1=x(o1);if(null!=m1&&(E1===o?m1==m1&&!Fr(m1):Z(m1,E1)))var E1=m1,J1=o1}return J1}function hn(f,x){var Z=[];return Wt(f,function(Le,Ne,o1){x(Le,Ne,o1)&&Z.push(Le)}),Z}function Q2(f,x,Z,Le,Ne){var o1=-1,m1=f.length;for(Z||(Z=eh),Ne||(Ne=[]);++o1<m1;){var E1=f[o1];x>0&&Z(E1)?x>1?Q2(E1,x-1,Z,Le,Ne):v4(Ne,E1):Le||(Ne[Ne.length]=E1)}return Ne}var D3=N8(),A3=N8(!0);function Gn(f,x){return f&&D3(f,x,J3)}function y3(f,x){return f&&A3(f,x,J3)}function k3(f,x){return gn(x,function(Z){return pi(f[Z])})}function Y3(f,x){for(var Z=0,Le=(x=F3(x,f)).length;null!=f&&Z<Le;)f=f[Ji(x[Z++])];return Z&&Z==Le?f:o}function Ui(f,x,Z){var Le=x(f);return en(f)?Le:v4(Le,Z(f))}function En(f){return null==f?f===o?"[object Undefined]":"[object Null]":oi&&oi in zn(f)?function Zy(f){var x=Vn.call(f,oi),Z=f[oi];try{f[oi]=o;var Le=!0}catch(o1){}var Ne=Js.call(f);return Le&&(x?f[oi]=Z:delete f[oi]),Ne}(f):function fi(f){return Js.call(f)}(f)}function r3(f,x){return f>x}function Cr(f,x){return null!=f&&Vn.call(f,x)}function Jr(f,x){return null!=f&&x in zn(f)}function I4(f,x,Z){for(var Le=Z?Xa:ki,Ne=f[0].length,o1=f.length,m1=o1,E1=ct(o1),J1=1/0,bt=[];m1--;){var Mt=f[m1];m1&&x&&(Mt=Rn(Mt,$3(x))),J1=f3(Mt.length,J1),E1[m1]=!Z&&(x||Ne>=120&&Mt.length>=120)?new _e(m1&&Mt):o}Mt=f[0];var Ht=-1,n2=E1[0];e:for(;++Ht<Ne&&bt.length<J1;){var C2=Mt[Ht],k2=x?x(C2):C2;if(C2=Z||0!==C2?C2:0,!(n2?m3(n2,k2):Le(bt,k2,Z))){for(m1=o1;--m1;){var ln=E1[m1];if(!(ln?m3(ln,k2):Le(f[m1],k2,Z)))continue e}n2&&n2.push(k2),bt.push(C2)}}return bt}function R3(f,x,Z){var Le=null==(f=$7(f,x=F3(x,f)))?f:f[Ji(n4(x))];return null==Le?o:br(Le,f,Z)}function co(f){return l2(f)&&En(f)==re}function Ha(f,x,Z,Le,Ne){return f===x||(null==f||null==x||!l2(f)&&!l2(x)?f!=f&&x!=x:function qy(f,x,Z,Le,Ne,o1){var m1=en(f),E1=en(x),J1=m1?F:Lr(f),bt=E1?F:Lr(x),Mt=(J1=J1==re?ze:J1)==ze,Ht=(bt=bt==re?ze:bt)==ze,n2=J1==bt;if(n2&&za(f)){if(!za(x))return!1;m1=!0,Mt=!1}if(n2&&!Mt)return o1||(o1=new He),m1||H0(f)?Yi(f,x,Z,Le,Ne,o1):function P7(f,x,Z,Le,Ne,o1,m1){switch(Z){case Ie:if(f.byteLength!=x.byteLength||f.byteOffset!=x.byteOffset)return!1;f=f.buffer,x=x.buffer;case qe:return!(f.byteLength!=x.byteLength||!o1(new wa(f),new wa(x)));case X:case R:case Me:return R4(+f,+x);case fe:return f.name==x.name&&f.message==x.message;case t1:case Ge:return f==x+"";case xe:var E1=ni;case Xe:if(E1||(E1=Ii),f.size!=x.size&&!(1&Le))return!1;var bt=m1.get(f);if(bt)return bt==x;Le|=2,m1.set(f,x);var Mt=Yi(E1(f),E1(x),Le,Ne,o1,m1);return m1.delete(f),Mt;case we:if(li)return li.call(f)==li.call(x)}return!1}(f,x,J1,Z,Le,Ne,o1);if(!(1&Z)){var C2=Mt&&Vn.call(f,"__wrapped__"),k2=Ht&&Vn.call(x,"__wrapped__");if(C2||k2){var ln=C2?f.value():f,V2=k2?x.value():x;return o1||(o1=new He),Ne(ln,V2,Z,Le,o1)}}return!!n2&&(o1||(o1=new He),function p0(f,x,Z,Le,Ne,o1){var m1=1&Z,E1=F6(f),J1=E1.length;if(J1!=F6(x).length&&!m1)return!1;for(var Ht=J1;Ht--;){var n2=E1[Ht];if(!(m1?n2 in x:Vn.call(x,n2)))return!1}var C2=o1.get(f),k2=o1.get(x);if(C2&&k2)return C2==x&&k2==f;var ln=!0;o1.set(f,x),o1.set(x,f);for(var V2=m1;++Ht<J1;){var yn=f[n2=E1[Ht]],_n=x[n2];if(Le)var o4=m1?Le(_n,yn,n2,x,f,o1):Le(yn,_n,n2,f,x,o1);if(!(o4===o?yn===_n||Ne(yn,_n,Z,Le,o1):o4)){ln=!1;break}V2||(V2="constructor"==n2)}if(ln&&!V2){var Sr=f.constructor,S4=x.constructor;Sr!=S4&&"constructor"in f&&"constructor"in x&&!("function"==typeof Sr&&Sr instanceof Sr&&"function"==typeof S4&&S4 instanceof S4)&&(ln=!1)}return o1.delete(f),o1.delete(x),ln}(f,x,Z,Le,Ne,o1))}(f,x,Z,Le,Ha,Ne))}function H6(f,x,Z,Le){var Ne=Z.length,o1=Ne,m1=!Le;if(null==f)return!o1;for(f=zn(f);Ne--;){var E1=Z[Ne];if(m1&&E1[2]?E1[1]!==f[E1[0]]:!(E1[0]in f))return!1}for(;++Ne<o1;){var J1=(E1=Z[Ne])[0],bt=f[J1],Mt=E1[1];if(m1&&E1[2]){if(bt===o&&!(J1 in f))return!1}else{var Ht=new He;if(Le)var n2=Le(bt,Mt,J1,f,x,Ht);if(!(n2===o?Ha(Mt,bt,3,Le,Ht):n2))return!1}}return!0}function w7(f){return!(!p3(f)||function U7(f){return!!y8&&y8 in f}(f))&&(pi(f)?Wo:k1).test(mo(f))}function V6(f){return"function"==typeof f?f:null==f?Br:"object"==typeof f?en(f)?H8(f[0],f[1]):T8(f):Pl(f)}function Qo(f){if(!v0(f))return oo(f);var x=[];for(var Z in zn(f))Vn.call(f,Z)&&"constructor"!=Z&&x.push(Z);return x}function D8(f,x){return f<x}function S8(f,x){var Z=-1,Le=Rr(f)?ct(f.length):[];return Wt(f,function(Ne,o1,m1){Le[++Z]=x(Ne,o1,m1)}),Le}function T8(f){var x=po(f);return 1==x.length&&x[0][2]?G7(x[0][0],x[0][1]):function(Z){return Z===f||H6(Z,f,x)}}function H8(f,x){return m0(f)&&j7(x)?G7(Ji(f),x):function(Z){var Le=A0(Z,f);return Le===o&&Le===x?l5(Z,f):Ha(x,Le,3)}}function a0(f,x,Z,Le,Ne){f!==x&&D3(x,function(o1,m1){if(Ne||(Ne=new He),p3(o1))!function jd(f,x,Z,Le,Ne,o1,m1){var E1=U8(f,Z),J1=U8(x,Z),bt=m1.get(J1);if(bt)S1(f,Z,bt);else{var Mt=o1?o1(E1,J1,Z+"",f,x,m1):o,Ht=Mt===o;if(Ht){var n2=en(J1),C2=!n2&&za(J1),k2=!n2&&!C2&&H0(J1);Mt=J1,n2||C2||k2?en(E1)?Mt=E1:_3(E1)?Mt=e4(E1):C2?(Ht=!1,Mt=os(J1,!0)):k2?(Ht=!1,Mt=Yd(J1,!0)):Mt=[]:i4(J1)||ka(J1)?(Mt=E1,ka(E1)?Mt=_l(E1):(!p3(E1)||pi(E1))&&(Mt=j6(J1))):Ht=!1}Ht&&(m1.set(J1,Mt),Ne(Mt,J1,Le,o1,m1),m1.delete(J1)),S1(f,Z,Mt)}}(f,x,m1,Z,a0,Le,Ne);else{var E1=Le?Le(U8(f,m1),o1,m1+"",f,x,Ne):o;E1===o&&(E1=o1),S1(f,m1,E1)}},S3)}function L7(f,x){var Z=f.length;if(Z)return Aa(x+=x<0?Z:0,Z)?f[x]:o}function o0(f,x,Z){x=x.length?Rn(x,function(o1){return en(o1)?function(m1){return Y3(m1,1===o1.length?o1[0]:o1)}:o1}):[Br];var Le=-1;return x=Rn(x,$3(H2())),function zi(W1,Ct){var ct=W1.length;for(W1.sort(Ct);ct--;)W1[ct]=W1[ct].value;return W1}(S8(f,function(o1,m1,E1){return{criteria:Rn(x,function(bt){return bt(o1)}),index:++Le,value:o1}}),function(o1,m1){return function Qr(f,x,Z){for(var Le=-1,Ne=f.criteria,o1=x.criteria,m1=Ne.length,E1=Z.length;++Le<m1;){var J1=z8(Ne[Le],o1[Le]);if(J1)return Le>=E1?J1:J1*("desc"==Z[Le]?-1:1)}return f.index-x.index}(o1,m1,Z)})}function D7(f,x,Z){for(var Le=-1,Ne=x.length,o1={};++Le<Ne;){var m1=x[Le],E1=Y3(f,m1);Z(E1,m1)&&ns(o1,F3(m1,f),E1)}return o1}function k6(f,x,Z,Le){var Ne=Le?b6:tn,o1=-1,m1=x.length,E1=f;for(f===x&&(x=e4(x)),Z&&(E1=Rn(f,$3(Z)));++o1<m1;)for(var J1=0,bt=x[o1],Mt=Z?Z(bt):bt;(J1=Ne(E1,Mt,J1,Le))>-1;)E1!==f&&no.call(E1,J1,1),no.call(f,J1,1);return f}function uo(f,x){for(var Z=f?x.length:0,Le=Z-1;Z--;){var Ne=x[Z];if(Z==Le||Ne!==o1){var o1=Ne;Aa(Ne)?no.call(f,Ne,1):H7(f,Ne)}}return f}function K3(f,x){return f+Fi(pr()*(x-f+1))}function Gi(f,x){var Z="";if(!f||x<1||x>me)return Z;do{x%2&&(Z+=f),(x=Fi(x/2))&&(f+=f)}while(x);return Z}function Y2(f,x){return $6(B8(f,x,Br),f+"")}function es(f){return x1(Ea(f))}function ts(f,x){var Z=Ea(f);return W6(Z,g2(x,0,Z.length))}function ns(f,x,Z,Le){if(!p3(f))return f;for(var Ne=-1,o1=(x=F3(x,f)).length,m1=o1-1,E1=f;null!=E1&&++Ne<o1;){var J1=Ji(x[Ne]),bt=Z;if("__proto__"===J1||"constructor"===J1||"prototype"===J1)return f;if(Ne!=m1){var Mt=E1[J1];(bt=Le?Le(Mt,J1,E1):o)===o&&(bt=p3(Mt)?Mt:Aa(x[Ne+1])?[]:{})}h1(E1,J1,bt),E1=E1[J1]}return f}var z6=Bi?function(f,x){return Bi.set(f,x),f}:Br,rs=La?function(f,x){return La(f,"toString",{configurable:!0,enumerable:!1,value:Al(x),writable:!0})}:Br;function Yy(f){return W6(Ea(f))}function x4(f,x,Z){var Le=-1,Ne=f.length;x<0&&(x=-x>Ne?0:Ne+x),(Z=Z>Ne?Ne:Z)<0&&(Z+=Ne),Ne=x>Z?0:Z-x>>>0,x>>>=0;for(var o1=ct(Ne);++Le<Ne;)o1[Le]=f[Le+x];return o1}function nn(f,x){var Z;return Wt(f,function(Le,Ne,o1){return!(Z=x(Le,Ne,o1))}),!!Z}function N6(f,x,Z){var Le=0,Ne=null==f?Le:f.length;if("number"==typeof x&&x==x&&Ne<=2147483647){for(;Le<Ne;){var o1=Le+Ne>>>1,m1=f[o1];null!==m1&&!Fr(m1)&&(Z?m1<=x:m1<x)?Le=o1+1:Ne=o1}return Ne}return T7(f,x,Br,Z)}function T7(f,x,Z,Le){var Ne=0,o1=null==f?0:f.length;if(0===o1)return 0;for(var m1=(x=Z(x))!=x,E1=null===x,J1=Fr(x),bt=x===o;Ne<o1;){var Mt=Fi((Ne+o1)/2),Ht=Z(f[Mt]),n2=Ht!==o,C2=null===Ht,k2=Ht==Ht,ln=Fr(Ht);if(m1)var V2=Le||k2;else V2=bt?k2&&(Le||n2):E1?k2&&n2&&(Le||!C2):J1?k2&&n2&&!C2&&(Le||!ln):!C2&&!ln&&(Le?Ht<=x:Ht<x);V2?Ne=Mt+1:o1=Mt}return f3(o1,4294967294)}function Gd(f,x){for(var Z=-1,Le=f.length,Ne=0,o1=[];++Z<Le;){var m1=f[Z],E1=x?x(m1):m1;if(!Z||!R4(E1,J1)){var J1=E1;o1[Ne++]=0===m1?0:m1}}return o1}function $d(f){return"number"==typeof f?f:Fr(f)?K:+f}function w4(f){if("string"==typeof f)return f;if(en(f))return Rn(f,w4)+"";if(Fr(f))return S2?S2.call(f):"";var x=f+"";return"0"==x&&1/f==-ce?"-0":x}function fo(f,x,Z){var Le=-1,Ne=ki,o1=f.length,m1=!0,E1=[],J1=E1;if(Z)m1=!1,Ne=Xa;else if(o1>=200){var bt=x?null:F8(f);if(bt)return Ii(bt);m1=!1,Ne=m3,J1=new _e}else J1=x?[]:E1;e:for(;++Le<o1;){var Mt=f[Le],Ht=x?x(Mt):Mt;if(Mt=Z||0!==Mt?Mt:0,m1&&Ht==Ht){for(var n2=J1.length;n2--;)if(J1[n2]===Ht)continue e;x&&J1.push(Ht),E1.push(Mt)}else Ne(J1,Ht,Z)||(J1!==E1&&J1.push(Ht),E1.push(Mt))}return E1}function H7(f,x){return null==(f=$7(f,x=F3(x,f)))||delete f[Ji(n4(x))]}function is(f,x,Z,Le){return ns(f,x,Z(Y3(f,x)),Le)}function A8(f,x,Z,Le){for(var Ne=f.length,o1=Le?Ne:-1;(Le?o1--:++o1<Ne)&&x(f[o1],o1,f););return Z?x4(f,Le?0:o1,Le?o1+1:Ne):x4(f,Le?o1+1:0,Le?Ne:o1)}function z3(f,x){var Z=f;return Z instanceof U2&&(Z=Z.value()),Er(x,function(Le,Ne){return Ne.func.apply(Ne.thisArg,v4([Le],Ne.args))},Z)}function l0(f,x,Z){var Le=f.length;if(Le<2)return Le?fo(f[0]):[];for(var Ne=-1,o1=ct(Le);++Ne<Le;)for(var m1=f[Ne],E1=-1;++E1<Le;)E1!=Ne&&(o1[Ne]=_t(o1[Ne]||m1,f[E1],x,Z));return fo(Q2(o1,1),x,Z)}function as(f,x,Z){for(var Le=-1,Ne=f.length,o1=x.length,m1={};++Le<Ne;)Z(m1,f[Le],Le<o1?x[Le]:o);return m1}function V7(f){return _3(f)?f:[]}function k8(f){return"function"==typeof f?f:Br}function F3(f,x){return en(f)?f:m0(f,x)?[f]:K7(In(f))}var ui=Y2;function $i(f,x,Z){var Le=f.length;return Z=Z===o?Le:Z,!x&&Z>=Le?f:x4(f,x,Z)}var c0=L6||function(f){return s3.clearTimeout(f)};function os(f,x){if(x)return f.slice();var Z=f.length,Le=M8?M8(Z):new f.constructor(Z);return f.copy(Le),Le}function E6(f){var x=new f.constructor(f.byteLength);return new wa(x).set(new wa(f)),x}function Yd(f,x){var Z=x?E6(f.buffer):f.buffer;return new f.constructor(Z,f.byteOffset,f.length)}function z8(f,x){if(f!==x){var Z=f!==o,Le=null===f,Ne=f==f,o1=Fr(f),m1=x!==o,E1=null===x,J1=x==x,bt=Fr(x);if(!E1&&!bt&&!o1&&f>x||o1&&m1&&J1&&!E1&&!bt||Le&&m1&&J1||!Z&&J1||!Ne)return 1;if(!Le&&!o1&&!bt&&f<x||bt&&Z&&Ne&&!Le&&!o1||E1&&Z&&Ne||!m1&&Ne||!J1)return-1}return 0}function O6(f,x,Z,Le){for(var Ne=-1,o1=f.length,m1=Z.length,E1=-1,J1=x.length,bt=u3(o1-m1,0),Mt=ct(J1+bt),Ht=!Le;++E1<J1;)Mt[E1]=x[E1];for(;++Ne<m1;)(Ht||Ne<o1)&&(Mt[Z[Ne]]=f[Ne]);for(;bt--;)Mt[E1++]=f[Ne++];return Mt}function ho(f,x,Z,Le){for(var Ne=-1,o1=f.length,m1=-1,E1=Z.length,J1=-1,bt=x.length,Mt=u3(o1-E1,0),Ht=ct(Mt+bt),n2=!Le;++Ne<Mt;)Ht[Ne]=f[Ne];for(var C2=Ne;++J1<bt;)Ht[C2+J1]=x[J1];for(;++m1<E1;)(n2||Ne<o1)&&(Ht[C2+Z[m1]]=f[Ne++]);return Ht}function e4(f,x){var Z=-1,Le=f.length;for(x||(x=ct(Le));++Z<Le;)x[Z]=f[Z];return x}function P4(f,x,Z,Le){var Ne=!Z;Z||(Z={});for(var o1=-1,m1=x.length;++o1<m1;){var E1=x[o1],J1=Le?Le(Z[E1],f[E1],E1,Z,f):o;J1===o&&(J1=f[E1]),Ne?Tt(Z,E1,J1):h1(Z,E1,J1)}return Z}function I6(f,x){return function(Z,Le){var Ne=en(Z)?Hn:at,o1=x?x():{};return Ne(Z,f,H2(Le,2),o1)}}function ss(f){return Y2(function(x,Z){var Le=-1,Ne=Z.length,o1=Ne>1?Z[Ne-1]:o,m1=Ne>2?Z[2]:o;for(o1=f.length>3&&"function"==typeof o1?(Ne--,o1):o,m1&&Z3(Z[0],Z[1],m1)&&(o1=Ne<3?o:o1,Ne=1),x=zn(x);++Le<Ne;){var E1=Z[Le];E1&&f(x,E1,Le,o1)}return x})}function A7(f,x){return function(Z,Le){if(null==Z)return Z;if(!Rr(Z))return f(Z,Le);for(var Ne=Z.length,o1=x?Ne:-1,m1=zn(Z);(x?o1--:++o1<Ne)&&!1!==Le(m1[o1],o1,m1););return Z}}function N8(f){return function(x,Z,Le){for(var Ne=-1,o1=zn(x),m1=Le(x),E1=m1.length;E1--;){var J1=m1[f?E1:++Ne];if(!1===Z(o1[J1],J1,o1))break}return x}}function u0(f){return function(x){var Z=Zn(x=In(x))?rr(x):o,Le=Z?Z[0]:x.charAt(0),Ne=Z?$i(Z,1).join(""):x.slice(1);return Le[f]()+Ne}}function f0(f){return function(x){return Er(u5(Hl(x).replace(J2,"")),f,"")}}function Wi(f){return function(){var x=arguments;switch(x.length){case 0:return new f;case 1:return new f(x[0]);case 2:return new f(x[0],x[1]);case 3:return new f(x[0],x[1],x[2]);case 4:return new f(x[0],x[1],x[2],x[3]);case 5:return new f(x[0],x[1],x[2],x[3],x[4]);case 6:return new f(x[0],x[1],x[2],x[3],x[4],x[5]);case 7:return new f(x[0],x[1],x[2],x[3],x[4],x[5],x[6])}var Z=O4(f.prototype),Le=f.apply(Z,x);return p3(Le)?Le:Z}}function d0(f){return function(x,Z,Le){var Ne=zn(x);if(!Rr(x)){var o1=H2(Z,3);x=J3(x),Z=function(E1){return o1(Ne[E1],E1,Ne)}}var m1=f(x,Z,Le);return m1>-1?Ne[o1?x[m1]:m1]:o}}function k7(f){return Ki(function(x){var Z=x.length,Le=Z,Ne=q3.prototype.thru;for(f&&x.reverse();Le--;){var o1=x[Le];if("function"!=typeof o1)throw new Yr(c);if(Ne&&!m1&&"wrapper"==g0(o1))var m1=new q3([],!0)}for(Le=m1?Le:Z;++Le<Z;){var E1=g0(o1=x[Le]),J1="wrapper"==E1?cs(o1):o;m1=J1&&G6(J1[0])&&424==J1[1]&&!J1[4].length&&1==J1[9]?m1[g0(J1[0])].apply(m1,J1[3]):1==o1.length&&G6(o1)?m1[E1]():m1.thru(o1)}return function(){var bt=arguments,Mt=bt[0];if(m1&&1==bt.length&&en(Mt))return m1.plant(Mt).value();for(var Ht=0,n2=Z?x[Ht].apply(this,bt):Mt;++Ht<Z;)n2=x[Ht].call(this,n2);return n2}})}function P6(f,x,Z,Le,Ne,o1,m1,E1,J1,bt){var Mt=x&I,Ht=1&x,n2=2&x,C2=24&x,k2=512&x,ln=n2?o:Wi(f);return function V2(){for(var yn=arguments.length,_n=ct(yn),o4=yn;o4--;)_n[o4]=arguments[o4];if(C2)var Sr=us(V2),S4=t2(_n,Sr);if(Le&&(_n=O6(_n,Le,Ne,C2)),o1&&(_n=ho(_n,o1,m1,C2)),yn-=S4,C2&&yn<bt){var N3=A2(_n,Sr);return P8(f,x,P6,V2.placeholder,Z,_n,N3,E1,J1,bt-yn)}var s4=Ht?Z:this,Qi=n2?s4[f]:f;return yn=_n.length,E1?_n=rh(_n,E1):k2&&yn>1&&_n.reverse(),Mt&&J1<yn&&(_n.length=J1),this&&this!==s3&&this instanceof V2&&(Qi=ln||Wi(Qi)),Qi.apply(s4,_n)}}function z7(f,x){return function(Z,Le){return function ci(f,x,Z,Le){return Gn(f,function(Ne,o1,m1){x(Le,Z(Ne),o1,m1)}),Le}(Z,f,x(Le),{})}}function h0(f,x){return function(Z,Le){var Ne;if(Z===o&&Le===o)return x;if(Z!==o&&(Ne=Z),Le!==o){if(Ne===o)return Le;"string"==typeof Z||"string"==typeof Le?(Z=w4(Z),Le=w4(Le)):(Z=$d(Z),Le=$d(Le)),Ne=f(Z,Le)}return Ne}}function I8(f){return Ki(function(x){return x=Rn(x,$3(H2())),Y2(function(Z){var Le=this;return f(x,function(Ne){return br(Ne,Le,Z)})})})}function Va(f,x){var Z=(x=x===o?" ":w4(x)).length;if(Z<2)return Z?Gi(x,f):x;var Le=Gi(x,V3(f/c3(x)));return Zn(x)?$i(rr(Le),0,f).join(""):Le.slice(0,f)}function E7(f){return function(x,Z,Le){return Le&&"number"!=typeof Le&&Z3(x,Z,Le)&&(Z=Le=o),x=Xi(x),Z===o?(Z=x,x=0):Z=Xi(Z),function V8(f,x,Z,Le){for(var Ne=-1,o1=u3(V3((x-f)/(Z||1)),0),m1=ct(o1);o1--;)m1[Le?o1:++Ne]=f,f+=Z;return m1}(x,Z,Le=Le===o?x<Z?1:-1:Xi(Le),f)}}function qt(f){return function(x,Z){return"string"==typeof x&&"string"==typeof Z||(x=L4(x),Z=L4(Z)),f(x,Z)}}function P8(f,x,Z,Le,Ne,o1,m1,E1,J1,bt){var Mt=8&x;x|=Mt?V:64,4&(x&=~(Mt?64:V))||(x&=-4);var ln=[f,x,Ne,Mt?o1:o,Mt?m1:o,Mt?o:o1,Mt?o:m1,E1,J1,bt],V2=Z.apply(o,ln);return G6(f)&&W7(V2,ln),V2.placeholder=Le,q7(V2,f,x)}function R8(f){var x=v3[f];return function(Z,Le){if(Z=L4(Z),(Le=null==Le?0:f3(rn(Le),292))&&Or(Z)){var Ne=(In(Z)+"e").split("e");return+((Ne=(In(x(Ne[0]+"e"+(+Ne[1]+Le)))+"e").split("e"))[0]+"e"+(+Ne[1]-Le))}return x(Z)}}var F8=Kr&&1/Ii(new Kr([,-0]))[1]==ce?function(f){return new Kr(f)}:Ol;function ls(f){return function(x){var Z=Lr(x);return Z==xe?ni(x):Z==Xe?function Ma(W1){var Ct=-1,ct=Array(W1.size);return W1.forEach(function(Zt){ct[++Ct]=[Zt,Zt]}),ct}(x):function Go(W1,Ct){return Rn(Ct,function(ct){return[ct,W1[ct]]})}(x,f(x))}}function qi(f,x,Z,Le,Ne,o1,m1,E1){var J1=2&x;if(!J1&&"function"!=typeof f)throw new Yr(c);var bt=Le?Le.length:0;if(bt||(x&=-97,Le=Ne=o),m1=m1===o?m1:u3(rn(m1),0),E1=E1===o?E1:rn(E1),bt-=Ne?Ne.length:0,64&x){var Mt=Le,Ht=Ne;Le=Ne=o}var n2=J1?o:cs(f),C2=[f,x,Z,Le,Ne,Mt,Ht,o1,m1,E1];if(n2&&function nh(f,x){var Z=f[1],Le=x[1],Ne=Z|Le;if(!(Ne<131||(Le==I&&8==Z||Le==I&&256==Z&&f[7].length<=x[8]||384==Le&&x[7].length<=x[8]&&8==Z)))return f;1&Le&&(f[2]=x[2],Ne|=1&Z?0:4);var E1=x[3];if(E1){var J1=f[3];f[3]=J1?O6(J1,E1,x[4]):E1,f[4]=J1?A2(f[3],u):x[4]}(E1=x[5])&&(f[5]=(J1=f[5])?ho(J1,E1,x[6]):E1,f[6]=J1?A2(f[5],u):x[6]),(E1=x[7])&&(f[7]=E1),Le&I&&(f[8]=null==f[8]?x[8]:f3(f[8],x[8])),null==f[9]&&(f[9]=x[9]),f[0]=x[0],f[1]=Ne}(C2,n2),f=C2[0],x=C2[1],Z=C2[2],Le=C2[3],Ne=C2[4],!(E1=C2[9]=C2[9]===o?J1?0:f.length:u3(C2[9]-bt,0))&&24&x&&(x&=-25),x&&1!=x)k2=8==x||16==x?function O8(f,x,Z){var Le=Wi(f);return function Ne(){for(var o1=arguments.length,m1=ct(o1),E1=o1,J1=us(Ne);E1--;)m1[E1]=arguments[E1];var bt=o1<3&&m1[0]!==J1&&m1[o1-1]!==J1?[]:A2(m1,J1);return(o1-=bt.length)<Z?P8(f,x,P6,Ne.placeholder,o,m1,bt,o,o,Z-o1):br(this&&this!==s3&&this instanceof Ne?Le:f,this,m1)}}(f,x,E1):x!=V&&33!=x||Ne.length?P6.apply(o,C2):function N7(f,x,Z,Le){var Ne=1&x,o1=Wi(f);return function m1(){for(var E1=-1,J1=arguments.length,bt=-1,Mt=Le.length,Ht=ct(Mt+J1),n2=this&&this!==s3&&this instanceof m1?o1:f;++bt<Mt;)Ht[bt]=Le[bt];for(;J1--;)Ht[bt++]=arguments[++E1];return br(n2,Ne?Z:this,Ht)}}(f,x,Z,Le);else var k2=function E8(f,x,Z){var Le=1&x,Ne=Wi(f);return function o1(){return(this&&this!==s3&&this instanceof o1?Ne:f).apply(Le?Z:this,arguments)}}(f,x,Z);return q7((n2?z6:W7)(k2,C2),f,x)}function O7(f,x,Z,Le){return f===o||R4(f,ii[Z])&&!Vn.call(Le,Z)?x:f}function I7(f,x,Z,Le,Ne,o1){return p3(f)&&p3(x)&&(o1.set(x,f),a0(f,x,o,I7,o1),o1.delete(x)),f}function R6(f){return i4(f)?o:f}function Yi(f,x,Z,Le,Ne,o1){var m1=1&Z,E1=f.length,J1=x.length;if(E1!=J1&&!(m1&&J1>E1))return!1;var bt=o1.get(f),Mt=o1.get(x);if(bt&&Mt)return bt==x&&Mt==f;var Ht=-1,n2=!0,C2=2&Z?new _e:o;for(o1.set(f,x),o1.set(x,f);++Ht<E1;){var k2=f[Ht],ln=x[Ht];if(Le)var V2=m1?Le(ln,k2,Ht,x,f,o1):Le(k2,ln,Ht,f,x,o1);if(V2!==o){if(V2)continue;n2=!1;break}if(C2){if(!qs(x,function(yn,_n){if(!m3(C2,_n)&&(k2===yn||Ne(k2,yn,Z,Le,o1)))return C2.push(_n)})){n2=!1;break}}else if(k2!==ln&&!Ne(k2,ln,Z,Le,o1)){n2=!1;break}}return o1.delete(f),o1.delete(x),n2}function Ki(f){return $6(B8(f,o,q8),f+"")}function F6(f){return Ui(f,J3,B6)}function C0(f){return Ui(f,S3,R7)}var cs=Bi?function(f){return Bi.get(f)}:Ol;function g0(f){for(var x=f.name+"",Z=Pr[x],Le=Vn.call(Pr,x)?Z.length:0;Le--;){var Ne=Z[Le],o1=Ne.func;if(null==o1||o1==f)return Ne.name}return x}function us(f){return(Vn.call(Ze,"placeholder")?Ze:f).placeholder}function H2(){var f=Ze.iteratee||zl;return f=f===zl?V6:f,arguments.length?f(arguments[0],arguments[1]):f}function Zi(f,x){var Z=f.__data__;return function B7(f){var x=typeof f;return"string"==x||"number"==x||"symbol"==x||"boolean"==x?"__proto__"!==f:null===f}(x)?Z["string"==typeof x?"string":"hash"]:Z.map}function po(f){for(var x=J3(f),Z=x.length;Z--;){var Le=x[Z],Ne=f[Le];x[Z]=[Le,Ne,j7(Ne)]}return x}function Co(f,x){var Z=function Ni(W1,Ct){return null==W1?o:W1[Ct]}(f,x);return w7(Z)?Z:o}var B6=Yo?function(f){return null==f?[]:(f=zn(f),gn(Yo(f),function(x){return Jn.call(f,x)}))}:d5,R7=Yo?function(f){for(var x=[];f;)v4(x,B6(f)),f=b4(f);return x}:d5,Lr=En;function F7(f,x,Z){for(var Le=-1,Ne=(x=F3(x,f)).length,o1=!1;++Le<Ne;){var m1=Ji(x[Le]);if(!(o1=null!=f&&Z(f,m1)))break;f=f[m1]}return o1||++Le!=Ne?o1:!!(Ne=null==f?0:f.length)&&n5(Ne)&&Aa(m1,Ne)&&(en(f)||ka(f))}function j6(f){return"function"!=typeof f.constructor||v0(f)?{}:O4(b4(f))}function eh(f){return en(f)||ka(f)||!!(ro&&f&&f[ro])}function Aa(f,x){var Z=typeof f;return!!(x=null==x?me:x)&&("number"==Z||"symbol"!=Z&&it.test(f))&&f>-1&&f%1==0&&f<x}function Z3(f,x,Z){if(!p3(Z))return!1;var Le=typeof x;return!!("number"==Le?Rr(Z)&&Aa(x,Z.length):"string"==Le&&x in Z)&&R4(Z[x],f)}function m0(f,x){if(en(f))return!1;var Z=typeof f;return!("number"!=Z&&"symbol"!=Z&&"boolean"!=Z&&null!=f&&!Fr(f))||N1.test(f)||!Z1.test(f)||null!=x&&f in zn(x)}function G6(f){var x=g0(f),Z=Ze[x];if("function"!=typeof Z||!(x in U2.prototype))return!1;if(f===Z)return!0;var Le=cs(Z);return!!Le&&f===Le[0]}(Qn&&Lr(new Qn(new ArrayBuffer(1)))!=Ie||Ir&&Lr(new Ir)!=xe||Ko&&Lr(Ko.resolve())!=Fe||Kr&&Lr(new Kr)!=Xe||P3&&Lr(new P3)!=De)&&(Lr=function(f){var x=En(f),Z=x==ze?f.constructor:o,Le=Z?mo(Z):"";if(Le)switch(Le){case wr:return Ie;case Qs:return xe;case e0:return Fe;case x8:return Xe;case si:return De}return x});var go=xa?pi:U4;function v0(f){var x=f&&f.constructor;return f===("function"==typeof x&&x.prototype||ii)}function j7(f){return f==f&&!p3(f)}function G7(f,x){return function(Z){return null!=Z&&Z[f]===x&&(x!==o||f in zn(Z))}}function B8(f,x,Z){return x=u3(x===o?f.length-1:x,0),function(){for(var Le=arguments,Ne=-1,o1=u3(Le.length-x,0),m1=ct(o1);++Ne<o1;)m1[Ne]=Le[x+Ne];Ne=-1;for(var E1=ct(x+1);++Ne<x;)E1[Ne]=Le[Ne];return E1[x]=Z(m1),br(f,this,E1)}}function $7(f,x){return x.length<2?f:Y3(f,x4(x,0,-1))}function rh(f,x){for(var Z=f.length,Le=f3(x.length,Z),Ne=e4(f);Le--;){var o1=x[Le];f[Le]=Aa(o1,Z)?Ne[o1]:o}return f}function U8(f,x){if(("constructor"!==x||"function"!=typeof f[x])&&"__proto__"!=x)return f[x]}var W7=Y7(z6),y0=qo||function(f,x){return s3.setTimeout(f,x)},$6=Y7(rs);function q7(f,x,Z){var Le=x+"";return $6(f,function Qd(f,x){var Z=x.length;if(!Z)return f;var Le=Z-1;return x[Le]=(Z>1?"& ":"")+x[Le],x=x.join(Z>2?", ":" "),f.replace(a1,"{\n/* [wrapped with "+x+"] */\n")}(Le,function _0(f,x){return Mr(oe,function(Z){var Le="_."+Z[0];x&Z[1]&&!ki(f,Le)&&f.push(Le)}),f.sort()}(function Xd(f){var x=f.match(l1);return x?x[1].split(c1):[]}(Le),Z)))}function Y7(f){var x=0,Z=0;return function(){var Le=S6(),Ne=16-(Le-Z);if(Z=Le,Ne>0){if(++x>=800)return arguments[0]}else x=0;return f.apply(o,arguments)}}function W6(f,x){var Z=-1,Le=f.length,Ne=Le-1;for(x=x===o?Le:x;++Z<x;){var o1=K3(Z,Ne),m1=f[o1];f[o1]=f[Z],f[Z]=m1}return f.length=x,f}var K7=function th(f){var x=X6(f,function(Le){return 500===Z.size&&Z.clear(),Le}),Z=x.cache;return x}(function(f){var x=[];return 46===f.charCodeAt(0)&&x.push(""),f.replace(ge,function(Z,Le,Ne,o1){x.push(Ne?o1.replace(B1,"$1"):Le||Z)}),x});function Ji(f){if("string"==typeof f||Fr(f))return f;var x=f+"";return"0"==x&&1/f==-ce?"-0":x}function mo(f){if(null!=f){try{return Zs.call(f)}catch(x){}try{return f+""}catch(x){}}return""}function j8(f){if(f instanceof U2)return f.clone();var x=new q3(f.__wrapped__,f.__chain__);return x.__actions__=e4(f.__actions__),x.__index__=f.__index__,x.__values__=f.__values__,x}var J7=Y2(function(f,x){return _3(f)?_t(f,Q2(x,1,_3,!0)):[]}),X7=Y2(function(f,x){var Z=n4(x);return _3(Z)&&(Z=o),_3(f)?_t(f,Q2(x,1,_3,!0),H2(Z,2)):[]}),Jy=Y2(function(f,x){var Z=n4(x);return _3(Z)&&(Z=o),_3(f)?_t(f,Q2(x,1,_3,!0),o,Z):[]});function ih(f,x,Z){var Le=null==f?0:f.length;if(!Le)return-1;var Ne=null==Z?0:rn(Z);return Ne<0&&(Ne=u3(Le+Ne,0)),eo(f,H2(x,3),Ne)}function ah(f,x,Z){var Le=null==f?0:f.length;if(!Le)return-1;var Ne=Le-1;return Z!==o&&(Ne=rn(Z),Ne=Z<0?u3(Le+Ne,0):f3(Ne,Le-1)),eo(f,H2(x,3),Ne,!0)}function q8(f){return null!=f&&f.length?Q2(f,1):[]}function Q7(f){return f&&f.length?f[0]:o}var t9=Y2(function(f){var x=Rn(f,V7);return x.length&&x[0]===f[0]?I4(x):[]}),Y8=Y2(function(f){var x=n4(f),Z=Rn(f,V7);return x===n4(Z)?x=o:Z.pop(),Z.length&&Z[0]===f[0]?I4(Z,H2(x,2)):[]}),ch=Y2(function(f){var x=n4(f),Z=Rn(f,V7);return(x="function"==typeof x?x:o)&&Z.pop(),Z.length&&Z[0]===f[0]?I4(Z,o,x):[]});function n4(f){var x=null==f?0:f.length;return x?f[x-1]:o}var n9=Y2(r9);function r9(f,x){return f&&f.length&&x&&x.length?k6(f,x):f}var hh=Ki(function(f,x){var Z=null==f?0:f.length,Le=Jt(f,x);return uo(f,Rn(x,function(Ne){return Aa(Ne,Z)?+Ne:Ne}).sort(z8)),Le});function i9(f){return null==f?f:T6.call(f)}var vh=Y2(function(f){return fo(Q2(f,1,_3,!0))}),c9=Y2(function(f){var x=n4(f);return _3(x)&&(x=o),fo(Q2(f,1,_3,!0),H2(x,2))}),yh=Y2(function(f){var x=n4(f);return x="function"==typeof x?x:o,fo(Q2(f,1,_3,!0),o,x)});function X8(f){if(!f||!f.length)return[];var x=0;return f=gn(f,function(Z){if(_3(Z))return x=u3(Z.length,x),!0}),_a(x,function(Z){return Rn(f,I3(Z))})}function Y6(f,x){if(!f||!f.length)return[];var Z=X8(f);return null==x?Z:Rn(Z,function(Le){return br(x,o,Le)})}var Mh=Y2(function(f,x){return _3(f)?_t(f,x):[]}),xh=Y2(function(f){return l0(gn(f,_3))}),w0=Y2(function(f){var x=n4(f);return _3(x)&&(x=o),l0(gn(f,_3),H2(x,2))}),wh=Y2(function(f){var x=n4(f);return x="function"==typeof x?x:o,l0(gn(f,_3),o,x)}),Lh=Y2(X8),Th=Y2(function(f){var x=f.length,Z=x>1?f[x-1]:o;return Z="function"==typeof Z?(f.pop(),Z):o,Y6(f,Z)});function Q8(f){var x=Ze(f);return x.__chain__=!0,x}function K6(f,x){return x(f)}var Vh=Ki(function(f){var x=f.length,Z=x?f[0]:0,Le=this.__wrapped__,Ne=function(o1){return Jt(o1,f)};return!(x>1||this.__actions__.length)&&Le instanceof U2&&Aa(Z)?((Le=Le.slice(Z,+Z+(x?1:0))).__actions__.push({func:K6,args:[Ne],thisArg:o}),new q3(Le,this.__chain__).thru(function(o1){return x&&!o1.length&&o1.push(o),o1})):this.thru(Ne)}),t_=I6(function(f,x,Z){Vn.call(f,Z)?++f[Z]:Tt(f,Z,1)}),r_=d0(ih),r4=d0(ah);function nl(f,x){return(en(f)?Mr:Wt)(f,H2(x,3))}function ps(f,x){return(en(f)?ya:x2)(f,H2(x,3))}var d9=I6(function(f,x,Z){Vn.call(f,Z)?f[Z].push(x):Tt(f,Z,[x])}),rl=Y2(function(f,x,Z){var Le=-1,Ne="function"==typeof x,o1=Rr(f)?ct(f.length):[];return Wt(f,function(m1){o1[++Le]=Ne?br(x,m1,Z):R3(m1,x,Z)}),o1}),il=I6(function(f,x,Z){Tt(f,Z,x)});function L0(f,x){return(en(f)?Rn:S8)(f,H2(x,3))}var Cs=I6(function(f,x,Z){f[Z?0:1].push(x)},function(){return[[],[]]}),Bh=Y2(function(f,x){if(null==f)return[];var Z=x.length;return Z>1&&Z3(f,x[0],x[1])?x=[]:Z>2&&Z3(x[0],x[1],x[2])&&(x=[x[0]]),o0(f,Q2(x,1),[])}),Z6=Xs||function(){return s3.Date.now()};function J6(f,x,Z){return x=Z?o:x,qi(f,I,o,o,o,o,x=f&&null==x?f.length:x)}function sl(f,x){var Z;if("function"!=typeof x)throw new Yr(c);return f=rn(f),function(){return--f>0&&(Z=x.apply(this,arguments)),f<=1&&(x=o),Z}}var D0=Y2(function(f,x,Z){var Le=1;if(Z.length){var Ne=A2(Z,us(D0));Le|=V}return qi(f,Le,x,Z,Ne)}),g9=Y2(function(f,x,Z){var Le=3;if(Z.length){var Ne=A2(Z,us(g9));Le|=V}return qi(x,Le,f,Z,Ne)});function cl(f,x,Z){var Le,Ne,o1,m1,E1,J1,bt=0,Mt=!1,Ht=!1,n2=!0;if("function"!=typeof f)throw new Yr(c);function C2(N3){var s4=Le,Qi=Ne;return Le=Ne=o,bt=N3,m1=f.apply(Qi,s4)}function k2(N3){return bt=N3,E1=y0(yn,x),Mt?C2(N3):m1}function V2(N3){var s4=N3-J1;return J1===o||s4>=x||s4<0||Ht&&N3-bt>=o1}function yn(){var N3=Z6();if(V2(N3))return _n(N3);E1=y0(yn,function ln(N3){var jl=x-(N3-J1);return Ht?f3(jl,o1-(N3-bt)):jl}(N3))}function _n(N3){return E1=o,n2&&Le?C2(N3):(Le=Ne=o,m1)}function S4(){var N3=Z6(),s4=V2(N3);if(Le=arguments,Ne=this,J1=N3,s4){if(E1===o)return k2(J1);if(Ht)return c0(E1),E1=y0(yn,x),C2(J1)}return E1===o&&(E1=y0(yn,x)),m1}return x=L4(x)||0,p3(Z)&&(Mt=!!Z.leading,o1=(Ht="maxWait"in Z)?u3(L4(Z.maxWait)||0,x):o1,n2="trailing"in Z?!!Z.trailing:n2),S4.cancel=function o4(){E1!==o&&c0(E1),bt=0,Le=J1=Ne=E1=o},S4.flush=function Sr(){return E1===o?m1:_n(Z6())},S4}var vo=Y2(function(f,x){return $n(f,1,x)}),v9=Y2(function(f,x,Z){return $n(f,L4(x)||0,Z)});function X6(f,x){if("function"!=typeof f||null!=x&&"function"!=typeof x)throw new Yr(c);var Z=function(){var Le=arguments,Ne=x?x.apply(this,Le):Le[0],o1=Z.cache;if(o1.has(Ne))return o1.get(Ne);var m1=f.apply(this,Le);return Z.cache=o1.set(Ne,m1)||o1,m1};return Z.cache=new(X6.Cache||v),Z}function yo(f){if("function"!=typeof f)throw new Yr(c);return function(){var x=arguments;switch(x.length){case 0:return!f.call(this);case 1:return!f.call(this,x[0]);case 2:return!f.call(this,x[0],x[1]);case 3:return!f.call(this,x[0],x[1],x[2])}return!f.apply(this,x)}}X6.Cache=v;var _9=ui(function(f,x){var Z=(x=1==x.length&&en(x[0])?Rn(x[0],$3(H2())):Rn(Q2(x,1),$3(H2()))).length;return Y2(function(Le){for(var Ne=-1,o1=f3(Le.length,Z);++Ne<o1;)Le[Ne]=x[Ne].call(this,Le[Ne]);return br(f,this,Le)})}),Q6=Y2(function(f,x){var Z=A2(x,us(Q6));return qi(f,V,o,x,Z)}),ul=Y2(function(f,x){var Z=A2(x,us(ul));return qi(f,64,o,x,Z)}),fl=Ki(function(f,x){return qi(f,256,o,o,o,x)});function R4(f,x){return f===x||f!=f&&x!=x}var L9=qt(r3),pl=qt(function(f,x){return f>=x}),ka=co(function(){return arguments}())?co:function(f){return l2(f)&&Vn.call(f,"callee")&&!Jn.call(f,"callee")},en=ct.isArray,D9=p8?$3(p8):function ji(f){return l2(f)&&En(f)==qe};function Rr(f){return null!=f&&n5(f.length)&&!pi(f)}function _3(f){return l2(f)&&Rr(f)}var za=ao||U4,F4=Ja?$3(Ja):function w8(f){return l2(f)&&En(f)==R};function Cl(f){if(!l2(f))return!1;var x=En(f);return x==fe||"[object DOMException]"==x||"string"==typeof f.message&&"string"==typeof f.name&&!i4(f)}function pi(f){if(!p3(f))return!1;var x=En(f);return x==ue||x==pe||"[object AsyncFunction]"==x||"[object Proxy]"==x}function T9(f){return"number"==typeof f&&f==rn(f)}function n5(f){return"number"==typeof f&&f>-1&&f%1==0&&f<=me}function p3(f){var x=typeof f;return null!=f&&("object"==x||"function"==x)}function l2(f){return null!=f&&"object"==typeof f}var Pe=Wr?$3(Wr):function x7(f){return l2(f)&&Lr(f)==xe};function i5(f){return"number"==typeof f||l2(f)&&En(f)==Me}function i4(f){if(!l2(f)||En(f)!=ze)return!1;var x=b4(f);if(null===x)return!0;var Z=Vn.call(x,"constructor")&&x.constructor;return"function"==typeof Z&&Z instanceof Z&&Zs.call(Z)==_8}var T0=Uo?$3(Uo):function Ud(f){return l2(f)&&En(f)==t1},a5=Ws?$3(Ws):function r0(f){return l2(f)&&Lr(f)==Xe};function gl(f){return"string"==typeof f||!en(f)&&l2(f)&&En(f)==Ge}function Fr(f){return"symbol"==typeof f||l2(f)&&En(f)==we}var H0=g4?$3(g4):function L8(f){return l2(f)&&n5(f.length)&&!!B2[En(f)]},vl=qt(D8),yl=qt(function(f,x){return f<=x});function Jh(f){if(!f)return[];if(Rr(f))return gl(f)?rr(f):e4(f);if(io&&f[io])return function l3(W1){for(var Ct,ct=[];!(Ct=W1.next()).done;)ct.push(Ct.value);return ct}(f[io]());var x=Lr(f);return(x==xe?ni:x==Xe?Ii:Ea)(f)}function Xi(f){return f?(f=L4(f))===ce||f===-ce?17976931348623157e292*(f<0?-1:1):f==f?f:0:0===f?f:0}function rn(f){var x=Xi(f),Z=x%1;return x==x?Z?x-Z:x:0}function z9(f){return f?g2(rn(f),0,le):0}function L4(f){if("number"==typeof f)return f;if(Fr(f))return K;if(p3(f)){var x="function"==typeof f.valueOf?f.valueOf():f;f=p3(x)?x+"":x}if("string"!=typeof f)return 0===f?f:+f;f=ba(f);var Z=ut.test(f);return Z||L1.test(f)?$s(f.slice(2),Z?2:8):Y1.test(f)?K:+f}function _l(f){return P4(f,S3(f))}function In(f){return null==f?"":w4(f)}var o_=ss(function(f,x){if(v0(x)||Rr(x))P4(x,J3(x),f);else for(var Z in x)Vn.call(x,Z)&&h1(f,Z,x[Z])}),bl=ss(function(f,x){P4(x,S3(x),f)}),V0=ss(function(f,x,Z,Le){P4(x,S3(x),f,Le)}),Xh=ss(function(f,x,Z,Le){P4(x,J3(x),f,Le)}),Ml=Ki(Jt),l_=Y2(function(f,x){f=zn(f);var Z=-1,Le=x.length,Ne=Le>2?x[2]:o;for(Ne&&Z3(x[0],x[1],Ne)&&(Le=1);++Z<Le;)for(var o1=x[Z],m1=S3(o1),E1=-1,J1=m1.length;++E1<J1;){var bt=m1[E1],Mt=f[bt];(Mt===o||R4(Mt,ii[bt])&&!Vn.call(f,bt))&&(f[bt]=o1[bt])}return f}),c_=Y2(function(f){return f.push(o,I7),br(O9,o,f)});function A0(f,x,Z){var Le=null==f?o:Y3(f,x);return Le===o?Z:Le}function l5(f,x){return null!=f&&F7(f,x,Jr)}var xl=z7(function(f,x,Z){null!=x&&"function"!=typeof x.toString&&(x=Js.call(x)),f[x]=Z},Al(Br)),N9=z7(function(f,x,Z){null!=x&&"function"!=typeof x.toString&&(x=Js.call(x)),Vn.call(f,x)?f[x].push(Z):f[x]=[Z]},H2),wl=Y2(R3);function J3(f){return Rr(f)?p1(f):Qo(f)}function S3(f){return Rr(f)?p1(f,!0):function A6(f){if(!p3(f))return function t4(f){var x=[];if(null!=f)for(var Z in zn(f))x.push(Z);return x}(f);var x=v0(f),Z=[];for(var Le in f)"constructor"==Le&&(x||!Vn.call(f,Le))||Z.push(Le);return Z}(f)}var Ll=ss(function(f,x,Z){a0(f,x,Z)}),O9=ss(function(f,x,Z,Le){a0(f,x,Z,Le)}),I9=Ki(function(f,x){var Z={};if(null==f)return Z;var Le=!1;x=Rn(x,function(o1){return o1=F3(o1,f),Le||(Le=o1.length>1),o1}),P4(f,C0(f),Z),Le&&(Z=jt(Z,7,R6));for(var Ne=x.length;Ne--;)H7(Z,x[Ne]);return Z}),np=Ki(function(f,x){return null==f?{}:function s0(f,x){return D7(f,x,function(Z,Le){return l5(f,Le)})}(f,x)});function gs(f,x){if(null==f)return{};var Z=Rn(C0(f),function(Le){return[Le]});return x=H2(x),D7(f,Z,function(Le,Ne){return x(Le,Ne[0])})}var ys=ls(J3),_o=ls(S3);function Ea(f){return null==f?[]:E4(f,J3(f))}var m_=f0(function(f,x,Z){return x=x.toLowerCase(),f+(Z?Tl(x):x)});function Tl(f){return D4(In(f).toLowerCase())}function Hl(f){return(f=In(f))&&f.replace(X1,W2).replace(H3,"")}var sp=f0(function(f,x,Z){return f+(Z?"-":"")+x.toLowerCase()}),a4=f0(function(f,x,Z){return f+(Z?" ":"")+x.toLowerCase()}),lp=u0("toLowerCase"),Vl=f0(function(f,x,Z){return f+(Z?"_":"")+x.toLowerCase()}),fp=f0(function(f,x,Z){return f+(Z?" ":"")+D4(x)}),mp=f0(function(f,x,Z){return f+(Z?" ":"")+x.toUpperCase()}),D4=u0("toUpperCase");function u5(f,x,Z){return f=In(f),(x=Z?o:x)===o?function Ei(W1){return kn.test(W1)}(f)?function g8(W1){return W1.match(yr)||[]}(f):function _6(W1){return W1.match(w1)||[]}(f):f.match(x)||[]}var K9=Y2(function(f,x){try{return br(f,o,x)}catch(Z){return Cl(Z)?Z:new P2(Z)}}),vp=Ki(function(f,x){return Mr(x,function(Z){Z=Ji(Z),Tt(f,Z,D0(f[Z],f))}),f});function Al(f){return function(){return f}}var _p=k7(),kl=k7(!0);function Br(f){return f}function zl(f){return V6("function"==typeof f?f:jt(f,1))}var bp=Y2(function(f,x){return function(Z){return R3(Z,f,x)}}),El=Y2(function(f,x){return function(Z){return R3(f,Z,x)}});function k0(f,x,Z){var Le=J3(x),Ne=k3(x,Le);null==Z&&(!p3(x)||!Ne.length&&Le.length)&&(Z=x,x=f,f=this,Ne=k3(x,J3(x)));var o1=!(p3(Z)&&"chain"in Z&&!Z.chain),m1=pi(f);return Mr(Ne,function(E1){var J1=x[E1];f[E1]=J1,m1&&(f.prototype[E1]=function(){var bt=this.__chain__;if(o1||bt){var Mt=f(this.__wrapped__),Ht=Mt.__actions__=e4(this.__actions__);return Ht.push({func:J1,args:arguments,thisArg:f}),Mt.__chain__=bt,Mt}return J1.apply(f,v4([this.value()],arguments))})}),f}function Ol(){}var Il=I8(Rn),M_=I8(m4),xp=I8(qs);function Pl(f){return m0(f)?I3(Ji(f)):function S7(f){return function(x){return Y3(x,f)}}(f)}var Q9=E7(),eu=E7(!0);function d5(){return[]}function U4(){return!1}var Fl=h0(function(f,x){return f+x},0),z0=R8("ceil"),Dp=h0(function(f,x){return f/x},1),Bl=R8("floor"),Hp=h0(function(f,x){return f*x},1),au=R8("round"),_s=h0(function(f,x){return f-x},0);return Ze.after=function C9(f,x){if("function"!=typeof x)throw new Yr(c);return f=rn(f),function(){if(--f<1)return x.apply(this,arguments)}},Ze.ary=J6,Ze.assign=o_,Ze.assignIn=bl,Ze.assignInWith=V0,Ze.assignWith=Xh,Ze.at=Ml,Ze.before=sl,Ze.bind=D0,Ze.bindAll=vp,Ze.bindKey=g9,Ze.castArray=function x9(){if(!arguments.length)return[];var f=arguments[0];return en(f)?f:[f]},Ze.chain=Q8,Ze.chunk=function di(f,x,Z){x=(Z?Z3(f,x,Z):x===o)?1:u3(rn(x),0);var Le=null==f?0:f.length;if(!Le||x<1)return[];for(var Ne=0,o1=0,m1=ct(V3(Le/x));Ne<Le;)m1[o1++]=x4(f,Ne,Ne+=x);return m1},Ze.compact=function b0(f){for(var x=-1,Z=null==f?0:f.length,Le=0,Ne=[];++x<Z;){var o1=f[x];o1&&(Ne[Le++]=o1)}return Ne},Ze.concat=function Z7(){var f=arguments.length;if(!f)return[];for(var x=ct(f-1),Z=arguments[0],Le=f;Le--;)x[Le-1]=arguments[Le];return v4(en(Z)?e4(Z):[Z],Q2(x,1))},Ze.cond=function b_(f){var x=null==f?0:f.length,Z=H2();return f=x?Rn(f,function(Le){if("function"!=typeof Le[1])throw new Yr(c);return[Z(Le[0]),Le[1]]}):[],Y2(function(Le){for(var Ne=-1;++Ne<x;){var o1=f[Ne];if(br(o1[0],this,Le))return br(o1[1],this,Le)}})},Ze.conforms=function Z9(f){return function R2(f){var x=J3(f);return function(Z){return Nn(Z,f,x)}}(jt(f,1))},Ze.constant=Al,Ze.countBy=t_,Ze.create=function s_(f,x){var Z=O4(f);return null==x?Z:vt(Z,x)},Ze.curry=function m9(f,x,Z){var Le=qi(f,8,o,o,o,o,o,x=Z?o:x);return Le.placeholder=m9.placeholder,Le},Ze.curryRight=function ll(f,x,Z){var Le=qi(f,16,o,o,o,o,o,x=Z?o:x);return Le.placeholder=ll.placeholder,Le},Ze.debounce=cl,Ze.defaults=l_,Ze.defaultsDeep=c_,Ze.defer=vo,Ze.delay=v9,Ze.difference=J7,Ze.differenceBy=X7,Ze.differenceWith=Jy,Ze.drop=function Xy(f,x,Z){var Le=null==f?0:f.length;return Le?x4(f,(x=Z||x===o?1:rn(x))<0?0:x,Le):[]},Ze.dropRight=function Qy(f,x,Z){var Le=null==f?0:f.length;return Le?x4(f,0,(x=Le-(x=Z||x===o?1:rn(x)))<0?0:x):[]},Ze.dropRightWhile=function G8(f,x){return f&&f.length?A8(f,H2(x,3),!0,!0):[]},Ze.dropWhile=function $8(f,x){return f&&f.length?A8(f,H2(x,3),!0):[]},Ze.fill=function W8(f,x,Z,Le){var Ne=null==f?0:f.length;return Ne?(Z&&"number"!=typeof Z&&Z3(f,x,Z)&&(Z=0,Le=Ne),function dn(f,x,Z,Le){var Ne=f.length;for((Z=rn(Z))<0&&(Z=-Z>Ne?0:Ne+Z),(Le=Le===o||Le>Ne?Ne:rn(Le))<0&&(Le+=Ne),Le=Z>Le?0:z9(Le);Z<Le;)f[Z++]=x;return f}(f,x,Z,Le)):[]},Ze.filter=function f9(f,x){return(en(f)?gn:hn)(f,H2(x,3))},Ze.flatMap=function el(f,x){return Q2(L0(f,x),1)},Ze.flatMapDeep=function tl(f,x){return Q2(L0(f,x),ce)},Ze.flatMapDepth=function Eh(f,x,Z){return Z=Z===o?1:rn(Z),Q2(L0(f,x),Z)},Ze.flatten=q8,Ze.flattenDeep=function oh(f){return null!=f&&f.length?Q2(f,ce):[]},Ze.flattenDepth=function sh(f,x){return null!=f&&f.length?Q2(f,x=x===o?1:rn(x)):[]},Ze.flip=function y9(f){return qi(f,512)},Ze.flow=_p,Ze.flowRight=kl,Ze.fromPairs=function lh(f){for(var x=-1,Z=null==f?0:f.length,Le={};++x<Z;){var Ne=f[x];Le[Ne[0]]=Ne[1]}return Le},Ze.functions=function g_(f){return null==f?[]:k3(f,J3(f))},Ze.functionsIn=function Na(f){return null==f?[]:k3(f,S3(f))},Ze.groupBy=d9,Ze.initial=function q6(f){return null!=f&&f.length?x4(f,0,-1):[]},Ze.intersection=t9,Ze.intersectionBy=Y8,Ze.intersectionWith=ch,Ze.invert=xl,Ze.invertBy=N9,Ze.invokeMap=rl,Ze.iteratee=zl,Ze.keyBy=il,Ze.keys=J3,Ze.keysIn=S3,Ze.map=L0,Ze.mapKeys=function E9(f,x){var Z={};return x=H2(x,3),Gn(f,function(Le,Ne,o1){Tt(Z,x(Le,Ne,o1),Le)}),Z},Ze.mapValues=function ep(f,x){var Z={};return x=H2(x,3),Gn(f,function(Le,Ne,o1){Tt(Z,Ne,x(Le,Ne,o1))}),Z},Ze.matches=function f5(f){return T8(jt(f,1))},Ze.matchesProperty=function Nl(f,x){return H8(f,jt(x,1))},Ze.memoize=X6,Ze.merge=Ll,Ze.mergeWith=O9,Ze.method=bp,Ze.methodOf=El,Ze.mixin=k0,Ze.negate=yo,Ze.nthArg=function Mp(f){return f=rn(f),Y2(function(x){return L7(x,f)})},Ze.omit=I9,Ze.omitBy=function tp(f,x){return gs(f,yo(H2(x)))},Ze.once=function Uh(f){return sl(2,f)},Ze.orderBy=function i_(f,x,Z,Le){return null==f?[]:(en(x)||(x=null==x?[]:[x]),en(Z=Le?o:Z)||(Z=null==Z?[]:[Z]),o0(f,x,Z))},Ze.over=Il,Ze.overArgs=_9,Ze.overEvery=M_,Ze.overSome=xp,Ze.partial=Q6,Ze.partialRight=ul,Ze.partition=Cs,Ze.pick=np,Ze.pickBy=gs,Ze.property=Pl,Ze.propertyOf=function X9(f){return function(x){return null==f?o:Y3(f,x)}},Ze.pull=n9,Ze.pullAll=r9,Ze.pullAllBy=function fh(f,x,Z){return f&&f.length&&x&&x.length?k6(f,x,H2(Z,2)):f},Ze.pullAllWith=function dh(f,x,Z){return f&&f.length&&x&&x.length?k6(f,x,o,Z):f},Ze.pullAt=hh,Ze.range=Q9,Ze.rangeRight=eu,Ze.rearg=fl,Ze.reject=function Oh(f,x){return(en(f)?gn:hn)(f,yo(H2(x,3)))},Ze.remove=function ph(f,x){var Z=[];if(!f||!f.length)return Z;var Le=-1,Ne=[],o1=f.length;for(x=H2(x,3);++Le<o1;){var m1=f[Le];x(m1,Le,f)&&(Z.push(m1),Ne.push(Le))}return uo(f,Ne),Z},Ze.rest=function b9(f,x){if("function"!=typeof f)throw new Yr(c);return Y2(f,x=x===o?x:rn(x))},Ze.reverse=i9,Ze.sampleSize=function Ih(f,x,Z){return x=(Z?Z3(f,x,Z):x===o)?1:rn(x),(en(f)?u1:ts)(f,x)},Ze.set=function Dl(f,x,Z){return null==f?f:ns(f,x,Z)},Ze.setWith=function vs(f,x,Z,Le){return Le="function"==typeof Le?Le:o,null==f?f:ns(f,x,Z,Le)},Ze.shuffle=function Ph(f){return(en(f)?R1:Yy)(f)},Ze.slice=function e_(f,x,Z){var Le=null==f?0:f.length;return Le?(Z&&"number"!=typeof Z&&Z3(f,x,Z)?(x=0,Z=Le):(x=null==x?0:rn(x),Z=Z===o?Le:rn(Z)),x4(f,x,Z)):[]},Ze.sortBy=Bh,Ze.sortedUniq=function x0(f){return f&&f.length?Gd(f):[]},Ze.sortedUniqBy=function Z8(f,x){return f&&f.length?Gd(f,H2(x,2)):[]},Ze.split=function G9(f,x,Z){return Z&&"number"!=typeof Z&&Z3(f,x,Z)&&(x=Z=o),(Z=Z===o?le:Z>>>0)?(f=In(f))&&("string"==typeof x||null!=x&&!T0(x))&&!(x=w4(x))&&Zn(f)?$i(rr(f),0,Z):f.split(x,Z):[]},Ze.spread=function e5(f,x){if("function"!=typeof f)throw new Yr(c);return x=null==x?0:u3(rn(x),0),Y2(function(Z){var Le=Z[x],Ne=$i(Z,0,x);return Le&&v4(Ne,Le),br(f,this,Ne)})},Ze.tail=function Ch(f){var x=null==f?0:f.length;return x?x4(f,1,x):[]},Ze.take=function gh(f,x,Z){return f&&f.length?x4(f,0,(x=Z||x===o?1:rn(x))<0?0:x):[]},Ze.takeRight=function s9(f,x,Z){var Le=null==f?0:f.length;return Le?x4(f,(x=Le-(x=Z||x===o?1:rn(x)))<0?0:x,Le):[]},Ze.takeRightWhile=function mh(f,x){return f&&f.length?A8(f,H2(x,3),!1,!0):[]},Ze.takeWhile=function l9(f,x){return f&&f.length?A8(f,H2(x,3)):[]},Ze.tap=function Hh(f,x){return x(f),f},Ze.throttle=function t5(f,x,Z){var Le=!0,Ne=!0;if("function"!=typeof f)throw new Yr(c);return p3(Z)&&(Le="leading"in Z?!!Z.leading:Le,Ne="trailing"in Z?!!Z.trailing:Ne),cl(f,x,{leading:Le,maxWait:x,trailing:Ne})},Ze.thru=K6,Ze.toArray=Jh,Ze.toPairs=ys,Ze.toPairsIn=_o,Ze.toPath=function Rl(f){return en(f)?Rn(f,Ji):Fr(f)?[f]:e4(K7(In(f)))},Ze.toPlainObject=_l,Ze.transform=function rp(f,x,Z){var Le=en(f),Ne=Le||za(f)||H0(f);if(x=H2(x,4),null==Z){var o1=f&&f.constructor;Z=Ne?Le?new o1:[]:p3(f)&&pi(o1)?O4(b4(f)):{}}return(Ne?Mr:Gn)(f,function(m1,E1,J1){return x(Z,m1,E1,J1)}),Z},Ze.unary=function M9(f){return J6(f,1)},Ze.union=vh,Ze.unionBy=c9,Ze.unionWith=yh,Ze.uniq=function _h(f){return f&&f.length?fo(f):[]},Ze.uniqBy=function J8(f,x){return f&&f.length?fo(f,H2(x,2)):[]},Ze.uniqWith=function bh(f,x){return x="function"==typeof x?x:o,f&&f.length?fo(f,o,x):[]},Ze.unset=function P9(f,x){return null==f||H7(f,x)},Ze.unzip=X8,Ze.unzipWith=Y6,Ze.update=function R9(f,x,Z){return null==f?f:is(f,x,k8(Z))},Ze.updateWith=function Sl(f,x,Z,Le){return Le="function"==typeof Le?Le:o,null==f?f:is(f,x,k8(Z),Le)},Ze.values=Ea,Ze.valuesIn=function F9(f){return null==f?[]:E4(f,S3(f))},Ze.without=Mh,Ze.words=u5,Ze.wrap=function dl(f,x){return Q6(k8(x),f)},Ze.xor=xh,Ze.xorBy=w0,Ze.xorWith=wh,Ze.zip=Lh,Ze.zipObject=function Dh(f,x){return as(f||[],x||[],h1)},Ze.zipObjectDeep=function Sh(f,x){return as(f||[],x||[],ns)},Ze.zipWith=Th,Ze.entries=ys,Ze.entriesIn=_o,Ze.extend=bl,Ze.extendWith=V0,k0(Ze,Ze),Ze.add=Fl,Ze.attempt=K9,Ze.camelCase=m_,Ze.capitalize=Tl,Ze.ceil=z0,Ze.clamp=function c5(f,x,Z){return Z===o&&(Z=x,x=o),Z!==o&&(Z=(Z=L4(Z))==Z?Z:0),x!==o&&(x=(x=L4(x))==x?x:0),g2(L4(f),x,Z)},Ze.clone=function hl(f){return jt(f,4)},Ze.cloneDeep=function jh(f){return jt(f,5)},Ze.cloneDeepWith=function w9(f,x){return jt(f,5,x="function"==typeof x?x:o)},Ze.cloneWith=function S0(f,x){return jt(f,4,x="function"==typeof x?x:o)},Ze.conformsTo=function Gh(f,x){return null==x||Nn(f,x,J3(x))},Ze.deburr=Hl,Ze.defaultTo=function yp(f,x){return null==f||f!=f?x:f},Ze.divide=Dp,Ze.endsWith=function ap(f,x,Z){f=In(f),x=w4(x);var Le=f.length,Ne=Z=Z===o?Le:g2(rn(Z),0,Le);return(Z-=x.length)>=0&&f.slice(Z,Ne)==x},Ze.eq=R4,Ze.escape=function U9(f){return(f=In(f))&&O1.test(f)?f.replace(je,On):f},Ze.escapeRegExp=function op(f){return(f=In(f))&&We.test(f)?f.replace(ye,"\\$&"):f},Ze.every=function n_(f,x,Z){var Le=en(f)?m4:M2;return Z&&Z3(f,x,Z)&&(x=o),Le(f,H2(x,3))},Ze.find=r_,Ze.findIndex=ih,Ze.findKey=function u_(f,x){return Ys(f,H2(x,3),Gn)},Ze.findLast=r4,Ze.findLastIndex=ah,Ze.findLastKey=function f_(f,x){return Ys(f,H2(x,3),y3)},Ze.floor=Bl,Ze.forEach=nl,Ze.forEachRight=ps,Ze.forIn=function d_(f,x){return null==f?f:D3(f,H2(x,3),S3)},Ze.forInRight=function h_(f,x){return null==f?f:A3(f,H2(x,3),S3)},Ze.forOwn=function p_(f,x){return f&&Gn(f,H2(x,3))},Ze.forOwnRight=function C_(f,x){return f&&y3(f,H2(x,3))},Ze.get=A0,Ze.gt=L9,Ze.gte=pl,Ze.has=function Qh(f,x){return null!=f&&F7(f,x,Cr)},Ze.hasIn=l5,Ze.head=Q7,Ze.identity=Br,Ze.includes=function h9(f,x,Z,Le){f=Rr(f)?f:Ea(f),Z=Z&&!Le?rn(Z):0;var Ne=f.length;return Z<0&&(Z=u3(Ne+Z,0)),gl(f)?Z<=Ne&&f.indexOf(x,Z)>-1:!!Ne&&tn(f,x,Z)>-1},Ze.indexOf=function e9(f,x,Z){var Le=null==f?0:f.length;if(!Le)return-1;var Ne=null==Z?0:rn(Z);return Ne<0&&(Ne=u3(Le+Ne,0)),tn(f,x,Ne)},Ze.inRange=function ip(f,x,Z){return x=Xi(x),Z===o?(Z=x,x=0):Z=Xi(Z),function Xr(f,x,Z){return f>=f3(x,Z)&&f<u3(x,Z)}(f=L4(f),x,Z)},Ze.invoke=wl,Ze.isArguments=ka,Ze.isArray=en,Ze.isArrayBuffer=D9,Ze.isArrayLike=Rr,Ze.isArrayLikeObject=_3,Ze.isBoolean=function $h(f){return!0===f||!1===f||l2(f)&&En(f)==X},Ze.isBuffer=za,Ze.isDate=F4,Ze.isElement=function Wh(f){return l2(f)&&1===f.nodeType&&!i4(f)},Ze.isEmpty=function S9(f){if(null==f)return!0;if(Rr(f)&&(en(f)||"string"==typeof f||"function"==typeof f.splice||za(f)||H0(f)||ka(f)))return!f.length;var x=Lr(f);if(x==xe||x==Xe)return!f.size;if(v0(f))return!Qo(f).length;for(var Z in f)if(Vn.call(f,Z))return!1;return!0},Ze.isEqual=function qh(f,x){return Ha(f,x)},Ze.isEqualWith=function Yh(f,x,Z){var Le=(Z="function"==typeof Z?Z:o)?Z(f,x):o;return Le===o?Ha(f,x,o,Z):!!Le},Ze.isError=Cl,Ze.isFinite=function Kh(f){return"number"==typeof f&&Or(f)},Ze.isFunction=pi,Ze.isInteger=T9,Ze.isLength=n5,Ze.isMap=Pe,Ze.isMatch=function H9(f,x){return f===x||H6(f,x,po(x))},Ze.isMatchWith=function V9(f,x,Z){return Z="function"==typeof Z?Z:o,H6(f,x,po(x),Z)},Ze.isNaN=function r5(f){return i5(f)&&f!=+f},Ze.isNative=function B4(f){if(go(f))throw new P2("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return w7(f)},Ze.isNil=function Zh(f){return null==f},Ze.isNull=function A9(f){return null===f},Ze.isNumber=i5,Ze.isObject=p3,Ze.isObjectLike=l2,Ze.isPlainObject=i4,Ze.isRegExp=T0,Ze.isSafeInteger=function k9(f){return T9(f)&&f>=-me&&f<=me},Ze.isSet=a5,Ze.isString=gl,Ze.isSymbol=Fr,Ze.isTypedArray=H0,Ze.isUndefined=function o5(f){return f===o},Ze.isWeakMap=function s5(f){return l2(f)&&Lr(f)==De},Ze.isWeakSet=function ml(f){return l2(f)&&"[object WeakSet]"==En(f)},Ze.join=function Wn(f,x){return null==f?"":D6.call(f,x)},Ze.kebabCase=sp,Ze.last=n4,Ze.lastIndexOf=function uh(f,x,Z){var Le=null==f?0:f.length;if(!Le)return-1;var Ne=Le;return Z!==o&&(Ne=(Ne=rn(Z))<0?u3(Le+Ne,0):f3(Ne,Le-1)),x==x?function ri(W1,Ct,ct){for(var Zt=ct+1;Zt--;)if(W1[Zt]===Ct)return Zt;return Zt}(f,x,Ne):eo(f,jo,Ne,!0)},Ze.lowerCase=a4,Ze.lowerFirst=lp,Ze.lt=vl,Ze.lte=yl,Ze.max=function nu(f){return f&&f.length?X2(f,Br,r3):o},Ze.maxBy=function ru(f,x){return f&&f.length?X2(f,H2(x,2),r3):o},Ze.mean=function iu(f){return Ut(f,Br)},Ze.meanBy=function Sp(f,x){return Ut(f,H2(x,2))},Ze.min=function Ul(f){return f&&f.length?X2(f,Br,D8):o},Ze.minBy=function Tp(f,x){return f&&f.length?X2(f,H2(x,2),D8):o},Ze.stubArray=d5,Ze.stubFalse=U4,Ze.stubObject=function h5(){return{}},Ze.stubString=function wp(){return""},Ze.stubTrue=function Lp(){return!0},Ze.multiply=Hp,Ze.nth=function ds(f,x){return f&&f.length?L7(f,rn(x)):o},Ze.noConflict=function J9(){return s3._===this&&(s3._=b8),this},Ze.noop=Ol,Ze.now=Z6,Ze.pad=function cp(f,x,Z){f=In(f);var Le=(x=rn(x))?c3(f):0;if(!x||Le>=x)return f;var Ne=(x-Le)/2;return Va(Fi(Ne),Z)+f+Va(V3(Ne),Z)},Ze.padEnd=function v_(f,x,Z){f=In(f);var Le=(x=rn(x))?c3(f):0;return x&&Le<x?f+Va(x-Le,Z):f},Ze.padStart=function y_(f,x,Z){f=In(f);var Le=(x=rn(x))?c3(f):0;return x&&Le<x?Va(x-Le,Z)+f:f},Ze.parseInt=function j9(f,x,Z){return Z||null==x?x=0:x&&(x=+x),Xn(In(f).replace(e1,""),x||0)},Ze.random=function B9(f,x,Z){if(Z&&"boolean"!=typeof Z&&Z3(f,x,Z)&&(x=Z=o),Z===o&&("boolean"==typeof x?(Z=x,x=o):"boolean"==typeof f&&(Z=f,f=o)),f===o&&x===o?(f=0,x=1):(f=Xi(f),x===o?(x=f,f=0):x=Xi(x)),f>x){var Le=f;f=x,x=Le}if(Z||f%1||x%1){var Ne=pr();return f3(f+Ne*(x-f+Za("1e-"+((Ne+"").length-1))),x)}return K3(f,x)},Ze.reduce=function al(f,x,Z){var Le=en(f)?Er:y4,Ne=arguments.length<3;return Le(f,H2(x,4),Z,Ne,Wt)},Ze.reduceRight=function p9(f,x,Z){var Le=en(f)?Qa:y4,Ne=arguments.length<3;return Le(f,H2(x,4),Z,Ne,x2)},Ze.repeat=function __(f,x,Z){return x=(Z?Z3(f,x,Z):x===o)?1:rn(x),Gi(In(f),x)},Ze.replace=function up(){var f=arguments,x=In(f[0]);return f.length<3?x:x.replace(f[1],f[2])},Ze.result=function ms(f,x,Z){var Le=-1,Ne=(x=F3(x,f)).length;for(Ne||(Ne=1,f=o);++Le<Ne;){var o1=null==f?o:f[Ji(x[Le])];o1===o&&(Le=Ne,o1=Z),f=pi(o1)?o1.call(f):o1}return f},Ze.round=au,Ze.runInContext=W1,Ze.sample=function ol(f){return(en(f)?x1:es)(f)},Ze.size=function Rh(f){if(null==f)return 0;if(Rr(f))return gl(f)?c3(f):f.length;var x=Lr(f);return x==xe||x==Xe?f.size:Qo(f).length},Ze.snakeCase=Vl,Ze.some=function Fh(f,x,Z){var Le=en(f)?qs:nn;return Z&&Z3(f,x,Z)&&(x=o),Le(f,H2(x,3))},Ze.sortedIndex=function M0(f,x){return N6(f,x)},Ze.sortedIndexBy=function Dr(f,x,Z){return T7(f,x,H2(Z,2))},Ze.sortedIndexOf=function K8(f,x){var Z=null==f?0:f.length;if(Z){var Le=N6(f,x);if(Le<Z&&R4(f[Le],x))return Le}return-1},Ze.sortedLastIndex=function a9(f,x){return N6(f,x,!0)},Ze.sortedLastIndexBy=function o9(f,x,Z){return T7(f,x,H2(Z,2),!0)},Ze.sortedLastIndexOf=function gr(f,x){if(null!=f&&f.length){var Le=N6(f,x,!0)-1;if(R4(f[Le],x))return Le}return-1},Ze.startCase=fp,Ze.startsWith=function dp(f,x,Z){return f=In(f),Z=null==Z?0:g2(rn(Z),0,f.length),x=w4(x),f.slice(Z,Z+x.length)==x},Ze.subtract=_s,Ze.sum=function ou(f){return f&&f.length?hr(f,Br):0},Ze.sumBy=function Vp(f,x){return f&&f.length?hr(f,H2(x,2)):0},Ze.template=function hp(f,x,Z){var Le=Ze.templateSettings;Z&&Z3(f,x,Z)&&(x=o),f=In(f),x=V0({},x,Le,O7);var E1,J1,Ne=V0({},x.imports,Le.imports,O7),o1=J3(Ne),m1=E4(Ne,o1),bt=0,Mt=x.interpolate||j1,Ht="__p += '",n2=$o((x.escape||j1).source+"|"+Mt.source+"|"+(Mt===$1?rt:j1).source+"|"+(x.evaluate||j1).source+"|$","g"),C2="//# sourceURL="+(Vn.call(x,"sourceURL")?(x.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++G3+"]")+"\n";f.replace(n2,function(V2,yn,_n,o4,Sr,S4){return _n||(_n=o4),Ht+=f.slice(bt,S4).replace(et,n3),yn&&(E1=!0,Ht+="' +\n__e("+yn+") +\n'"),Sr&&(J1=!0,Ht+="';\n"+Sr+";\n__p += '"),_n&&(Ht+="' +\n((__t = ("+_n+")) == null ? '' : __t) +\n'"),bt=S4+V2.length,V2}),Ht+="';\n";var k2=Vn.call(x,"variable")&&x.variable;if(k2){if(T1.test(k2))throw new P2("Invalid `variable` option passed into `_.template`")}else Ht="with (obj) {\n"+Ht+"\n}\n";Ht=(J1?Ht.replace(_1,""):Ht).replace(I1,"$1").replace(M1,"$1;"),Ht="function("+(k2||"obj")+") {\n"+(k2?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(E1?", __e = _.escape":"")+(J1?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Ht+"return __p\n}";var ln=K9(function(){return Sn(o1,C2+"return "+Ht).apply(o,m1)});if(ln.source=Ht,Cl(ln))throw ln;return ln},Ze.times=function x_(f,x){if((f=rn(f))<1||f>me)return[];var Z=le,Le=f3(f,le);x=H2(x),f-=le;for(var Ne=_a(Le,x);++Z<f;)x(Z);return Ne},Ze.toFinite=Xi,Ze.toInteger=rn,Ze.toLength=z9,Ze.toLower=function $9(f){return In(f).toLowerCase()},Ze.toNumber=L4,Ze.toSafeInteger=function a_(f){return f?g2(rn(f),-me,me):0===f?f:0},Ze.toString=In,Ze.toUpper=function pp(f){return In(f).toUpperCase()},Ze.trim=function W9(f,x,Z){if((f=In(f))&&(Z||x===o))return ba(f);if(!f||!(x=w4(x)))return f;var Le=rr(f),Ne=rr(x);return $i(Le,M6(Le,Ne),xr(Le,Ne)+1).join("")},Ze.trimEnd=function Cp(f,x,Z){if((f=In(f))&&(Z||x===o))return f.slice(0,Pi(f)+1);if(!f||!(x=w4(x)))return f;var Le=rr(f);return $i(Le,0,xr(Le,rr(x))+1).join("")},Ze.trimStart=function gp(f,x,Z){if((f=In(f))&&(Z||x===o))return f.replace(e1,"");if(!f||!(x=w4(x)))return f;var Le=rr(f);return $i(Le,M6(Le,rr(x))).join("")},Ze.truncate=function q9(f,x){var Z=30,Le="...";if(p3(x)){var Ne="separator"in x?x.separator:Ne;Z="length"in x?rn(x.length):Z,Le="omission"in x?w4(x.omission):Le}var o1=(f=In(f)).length;if(Zn(f)){var m1=rr(f);o1=m1.length}if(Z>=o1)return f;var E1=Z-c3(Le);if(E1<1)return Le;var J1=m1?$i(m1,0,E1).join(""):f.slice(0,E1);if(Ne===o)return J1+Le;if(m1&&(E1+=J1.length-E1),T0(Ne)){if(f.slice(E1).search(Ne)){var bt,Mt=J1;for(Ne.global||(Ne=$o(Ne.source,In(H1.exec(Ne))+"g")),Ne.lastIndex=0;bt=Ne.exec(Mt);)var Ht=bt.index;J1=J1.slice(0,Ht===o?E1:Ht)}}else if(f.indexOf(w4(Ne),E1)!=E1){var n2=J1.lastIndexOf(Ne);n2>-1&&(J1=J1.slice(0,n2))}return J1+Le},Ze.unescape=function Y9(f){return(f=In(f))&&C1.test(f)?f.replace(Be,qr):f},Ze.uniqueId=function tu(f){var x=++v8;return In(f)+x},Ze.upperCase=mp,Ze.upperFirst=D4,Ze.each=nl,Ze.eachRight=ps,Ze.first=Q7,k0(Ze,function(){var f={};return Gn(Ze,function(x,Z){Vn.call(Ze.prototype,Z)||(f[Z]=x)}),f}(),{chain:!1}),Ze.VERSION="4.17.21",Mr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(f){Ze[f].placeholder=Ze}),Mr(["drop","take"],function(f,x){U2.prototype[f]=function(Z){Z=Z===o?1:u3(rn(Z),0);var Le=this.__filtered__&&!x?new U2(this):this.clone();return Le.__filtered__?Le.__takeCount__=f3(Z,Le.__takeCount__):Le.__views__.push({size:f3(Z,le),type:f+(Le.__dir__<0?"Right":"")}),Le},U2.prototype[f+"Right"]=function(Z){return this.reverse()[f](Z).reverse()}}),Mr(["filter","map","takeWhile"],function(f,x){var Z=x+1,Le=1==Z||3==Z;U2.prototype[f]=function(Ne){var o1=this.clone();return o1.__iteratees__.push({iteratee:H2(Ne,3),type:Z}),o1.__filtered__=o1.__filtered__||Le,o1}}),Mr(["head","last"],function(f,x){var Z="take"+(x?"Right":"");U2.prototype[f]=function(){return this[Z](1).value()[0]}}),Mr(["initial","tail"],function(f,x){var Z="drop"+(x?"":"Right");U2.prototype[f]=function(){return this.__filtered__?new U2(this):this[Z](1)}}),U2.prototype.compact=function(){return this.filter(Br)},U2.prototype.find=function(f){return this.filter(f).head()},U2.prototype.findLast=function(f){return this.reverse().find(f)},U2.prototype.invokeMap=Y2(function(f,x){return"function"==typeof f?new U2(this):this.map(function(Z){return R3(Z,f,x)})}),U2.prototype.reject=function(f){return this.filter(yo(H2(f)))},U2.prototype.slice=function(f,x){f=rn(f);var Z=this;return Z.__filtered__&&(f>0||x<0)?new U2(Z):(f<0?Z=Z.takeRight(-f):f&&(Z=Z.drop(f)),x!==o&&(Z=(x=rn(x))<0?Z.dropRight(-x):Z.take(x-f)),Z)},U2.prototype.takeRightWhile=function(f){return this.reverse().takeWhile(f).reverse()},U2.prototype.toArray=function(){return this.take(le)},Gn(U2.prototype,function(f,x){var Z=/^(?:filter|find|map|reject)|While$/.test(x),Le=/^(?:head|last)$/.test(x),Ne=Ze[Le?"take"+("last"==x?"Right":""):x],o1=Le||/^find/.test(x);!Ne||(Ze.prototype[x]=function(){var m1=this.__wrapped__,E1=Le?[1]:arguments,J1=m1 instanceof U2,bt=E1[0],Mt=J1||en(m1),Ht=function(yn){var _n=Ne.apply(Ze,v4([yn],E1));return Le&&n2?_n[0]:_n};Mt&&Z&&"function"==typeof bt&&1!=bt.length&&(J1=Mt=!1);var n2=this.__chain__,C2=!!this.__actions__.length,k2=o1&&!n2,ln=J1&&!C2;if(!o1&&Mt){m1=ln?m1:new U2(this);var V2=f.apply(m1,E1);return V2.__actions__.push({func:K6,args:[Ht],thisArg:o}),new q3(V2,n2)}return k2&&ln?f.apply(this,E1):(V2=this.thru(Ht),k2?Le?V2.value()[0]:V2.value():V2)})}),Mr(["pop","push","shift","sort","splice","unshift"],function(f){var x=to[f],Z=/^(?:push|sort|unshift)$/.test(f)?"tap":"thru",Le=/^(?:pop|shift)$/.test(f);Ze.prototype[f]=function(){var Ne=arguments;if(Le&&!this.__chain__){var o1=this.value();return x.apply(en(o1)?o1:[],Ne)}return this[Z](function(m1){return x.apply(en(m1)?m1:[],Ne)})}}),Gn(U2.prototype,function(f,x){var Z=Ze[x];if(Z){var Le=Z.name+"";Vn.call(Pr,Le)||(Pr[Le]=[]),Pr[Le].push({name:x,func:Z})}}),Pr[P6(o,2).name]=[{name:"wrapper",func:o}],U2.prototype.clone=function Zo(){var f=new U2(this.__wrapped__);return f.__actions__=e4(this.__actions__),f.__dir__=this.__dir__,f.__filtered__=this.__filtered__,f.__iteratees__=e4(this.__iteratees__),f.__takeCount__=this.__takeCount__,f.__views__=e4(this.__views__),f},U2.prototype.reverse=function d3(){if(this.__filtered__){var f=new U2(this);f.__dir__=-1,f.__filtered__=!0}else(f=this.clone()).__dir__*=-1;return f},U2.prototype.value=function St(){var f=this.__wrapped__.value(),x=this.__dir__,Z=en(f),Le=x<0,Ne=Z?f.length:0,o1=function Jd(f,x,Z){for(var Le=-1,Ne=Z.length;++Le<Ne;){var o1=Z[Le],m1=o1.size;switch(o1.type){case"drop":f+=m1;break;case"dropRight":x-=m1;break;case"take":x=f3(x,f+m1);break;case"takeRight":f=u3(f,x-m1)}}return{start:f,end:x}}(0,Ne,this.__views__),m1=o1.start,E1=o1.end,J1=E1-m1,bt=Le?E1:m1-1,Mt=this.__iteratees__,Ht=Mt.length,n2=0,C2=f3(J1,this.__takeCount__);if(!Z||!Le&&Ne==J1&&C2==J1)return z3(f,this.__actions__);var k2=[];e:for(;J1--&&n2<C2;){for(var ln=-1,V2=f[bt+=x];++ln<Ht;){var yn=Mt[ln],o4=yn.type,Sr=(0,yn.iteratee)(V2);if(2==o4)V2=Sr;else if(!Sr){if(1==o4)continue e;break e}}k2[n2++]=V2}return k2},Ze.prototype.at=Vh,Ze.prototype.chain=function Ah(){return Q8(this)},Ze.prototype.commit=function kh(){return new q3(this.value(),this.__chain__)},Ze.prototype.next=function u9(){this.__values__===o&&(this.__values__=Jh(this.value()));var f=this.__index__>=this.__values__.length;return{done:f,value:f?o:this.__values__[this.__index__++]}},Ze.prototype.plant=function Nh(f){for(var x,Z=this;Z instanceof so;){var Le=j8(Z);Le.__index__=0,Le.__values__=o,x?Ne.__wrapped__=Le:x=Le;var Ne=Le;Z=Z.__wrapped__}return Ne.__wrapped__=f,x},Ze.prototype.reverse=function hs(){var f=this.__wrapped__;if(f instanceof U2){var x=f;return this.__actions__.length&&(x=new U2(this)),(x=x.reverse()).__actions__.push({func:K6,args:[i9],thisArg:o}),new q3(x,this.__chain__)}return this.thru(i9)},Ze.prototype.toJSON=Ze.prototype.valueOf=Ze.prototype.value=function hi(){return z3(this.__wrapped__,this.__actions__)},Ze.prototype.first=Ze.prototype.head,io&&(Ze.prototype[io]=function zh(){return this}),Ze}();s3._=W3,(ne=function(){return W3}.call(m,de,m,L3))!==o&&(L3.exports=ne)}.call(this)},564:L3=>{L3.exports=function m(de,ne,o){function g(c,C){if(!ne[c]){if(!de[c]){if(p)return p(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var u=ne[c]={exports:{}};de[c][0].call(u.exports,function(_){return g(de[c][1][_]||_)},u,u.exports,m,de,ne,o)}return ne[c].exports}for(var p=void 0,l=0;l<o.length;l++)g(o[l]);return g}({1:[function(m,de,ne){"use strict";var o=m("../src/lib"),g={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid transparent;border-left-color:#69738a;margin-top:8px;margin-right:-30px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:#fff;","X .select-outline-2":"stroke:#000;stroke-dasharray:2px 2px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var p in g){var l=p.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");o.addStyleRule(l,g[p])}},{"../src/lib":232}],2:[function(m,de,ne){"use strict";de.exports=m("../src/transforms/aggregate")},{"../src/transforms/aggregate":386}],3:[function(m,de,ne){"use strict";de.exports=m("../src/traces/bar")},{"../src/traces/bar":336}],4:[function(m,de,ne){"use strict";de.exports=m("../src/components/calendars")},{"../src/components/calendars":100}],5:[function(m,de,ne){"use strict";de.exports=m("../src/core")},{"../src/core":214}],6:[function(m,de,ne){"use strict";de.exports=m("../src/transforms/filter")},{"../src/transforms/filter":387}],7:[function(m,de,ne){"use strict";de.exports=m("../src/transforms/groupby")},{"../src/transforms/groupby":388}],8:[function(m,de,ne){"use strict";var o=m("./core");o.register([m("./bar"),m("./pie"),m("./aggregate"),m("./filter"),m("./groupby"),m("./sort"),m("./calendars")]),de.exports=o},{"./aggregate":2,"./bar":3,"./calendars":4,"./core":5,"./filter":6,"./groupby":7,"./pie":9,"./sort":10}],9:[function(m,de,ne){"use strict";de.exports=m("../src/traces/pie")},{"../src/traces/pie":351}],10:[function(m,de,ne){"use strict";de.exports=m("../src/transforms/sort")},{"../src/transforms/sort":390}],11:[function(m,de,ne){(function(){var o={version:"3.8.0"},g=[].slice,p=function(v){return g.call(v)},l=self.document;function c(v){return v&&(v.ownerDocument||v.document||v).documentElement}function C(v){return v&&(v.ownerDocument&&v.ownerDocument.defaultView||v.document&&v||v.defaultView)}if(l)try{p(l.documentElement.childNodes)}catch(v){p=function(A){for(var U=A.length,ee=new Array(U);U--;)ee[U]=A[U];return ee}}if(Date.now||(Date.now=function(){return+new Date}),l)try{l.createElement("DIV").style.setProperty("opacity",0,"")}catch(v){var d=this.Element.prototype,h=d.setAttribute,u=d.setAttributeNS,_=this.CSSStyleDeclaration.prototype,b=_.setProperty;d.setAttribute=function(A,U){h.call(this,A,U+"")},d.setAttributeNS=function(A,U,ee){u.call(this,A,U,ee+"")},_.setProperty=function(A,U,ee){b.call(this,A,U+"",ee)}}function M(v,A){return v<A?-1:v>A?1:v>=A?0:NaN}function w(v){return null===v?NaN:+v}function N(v){return!isNaN(v)}function z(v){return{left:function(A,U,ee,se){for(arguments.length<3&&(ee=0),arguments.length<4&&(se=A.length);ee<se;){var Ce=ee+se>>>1;v(A[Ce],U)<0?ee=Ce+1:se=Ce}return ee},right:function(A,U,ee,se){for(arguments.length<3&&(ee=0),arguments.length<4&&(se=A.length);ee<se;){var Ce=ee+se>>>1;v(A[Ce],U)>0?se=Ce:ee=Ce+1}return ee}}}o.ascending=M,o.descending=function(v,A){return A<v?-1:A>v?1:A>=v?0:NaN},o.min=function(v,A){var U,ee,se=-1,Ce=v.length;if(1===arguments.length){for(;++se<Ce;)if(null!=(ee=v[se])&&ee>=ee){U=ee;break}for(;++se<Ce;)null!=(ee=v[se])&&U>ee&&(U=ee)}else{for(;++se<Ce;)if(null!=(ee=A.call(v,v[se],se))&&ee>=ee){U=ee;break}for(;++se<Ce;)null!=(ee=A.call(v,v[se],se))&&U>ee&&(U=ee)}return U},o.max=function(v,A){var U,ee,se=-1,Ce=v.length;if(1===arguments.length){for(;++se<Ce;)if(null!=(ee=v[se])&&ee>=ee){U=ee;break}for(;++se<Ce;)null!=(ee=v[se])&&ee>U&&(U=ee)}else{for(;++se<Ce;)if(null!=(ee=A.call(v,v[se],se))&&ee>=ee){U=ee;break}for(;++se<Ce;)null!=(ee=A.call(v,v[se],se))&&ee>U&&(U=ee)}return U},o.extent=function(v,A){var U,ee,se,Ce=-1,_e=v.length;if(1===arguments.length){for(;++Ce<_e;)if(null!=(ee=v[Ce])&&ee>=ee){U=se=ee;break}for(;++Ce<_e;)null!=(ee=v[Ce])&&(U>ee&&(U=ee),se<ee&&(se=ee))}else{for(;++Ce<_e;)if(null!=(ee=A.call(v,v[Ce],Ce))&&ee>=ee){U=se=ee;break}for(;++Ce<_e;)null!=(ee=A.call(v,v[Ce],Ce))&&(U>ee&&(U=ee),se<ee&&(se=ee))}return[U,se]},o.sum=function(v,A){var U,ee=0,se=v.length,Ce=-1;if(1===arguments.length)for(;++Ce<se;)N(U=+v[Ce])&&(ee+=U);else for(;++Ce<se;)N(U=+A.call(v,v[Ce],Ce))&&(ee+=U);return ee},o.mean=function(v,A){var U,ee=0,se=v.length,Ce=-1,_e=se;if(1===arguments.length)for(;++Ce<se;)N(U=w(v[Ce]))?ee+=U:--_e;else for(;++Ce<se;)N(U=w(A.call(v,v[Ce],Ce)))?ee+=U:--_e;if(_e)return ee/_e},o.quantile=function(v,A){var U=(v.length-1)*A+1,ee=Math.floor(U),se=+v[ee-1],Ce=U-ee;return Ce?se+Ce*(v[ee]-se):se},o.median=function(v,A){var U,ee=[],se=v.length,Ce=-1;if(1===arguments.length)for(;++Ce<se;)N(U=w(v[Ce]))&&ee.push(U);else for(;++Ce<se;)N(U=w(A.call(v,v[Ce],Ce)))&&ee.push(U);if(ee.length)return o.quantile(ee.sort(M),.5)},o.variance=function(v,A){var U,ee,se=v.length,Ce=0,_e=0,Te=-1,Se=0;if(1===arguments.length)for(;++Te<se;)N(U=w(v[Te]))&&(_e+=(ee=U-Ce)*(U-(Ce+=ee/++Se)));else for(;++Te<se;)N(U=w(A.call(v,v[Te],Te)))&&(_e+=(ee=U-Ce)*(U-(Ce+=ee/++Se)));if(Se>1)return _e/(Se-1)},o.deviation=function(){var v=o.variance.apply(this,arguments);return v&&Math.sqrt(v)};var k=z(M);function D(v){return v.length}o.bisectLeft=k.left,o.bisect=o.bisectRight=k.right,o.bisector=function(v){return z(1===v.length?function(A,U){return M(v(A),U)}:v)},o.shuffle=function(v,A,U){(Ce=arguments.length)<3&&(U=v.length,Ce<2&&(A=0));for(var ee,se,Ce=U-A;Ce;)se=Math.random()*Ce--|0,ee=v[Ce+A],v[Ce+A]=v[se+A],v[se+A]=ee;return v},o.permute=function(v,A){for(var U=A.length,ee=new Array(U);U--;)ee[U]=v[A[U]];return ee},o.pairs=function(v){for(var A=0,U=v.length-1,ee=v[0],se=new Array(U<0?0:U);A<U;)se[A]=[ee,ee=v[++A]];return se},o.transpose=function(v){if(!(se=v.length))return[];for(var A=-1,U=o.min(v,D),ee=new Array(U);++A<U;)for(var se,Ce=-1,_e=ee[A]=new Array(se);++Ce<se;)_e[Ce]=v[Ce][A];return ee},o.zip=function(){return o.transpose(arguments)},o.keys=function(v){var A=[];for(var U in v)A.push(U);return A},o.values=function(v){var A=[];for(var U in v)A.push(v[U]);return A},o.entries=function(v){var A=[];for(var U in v)A.push({key:U,value:v[U]});return A},o.merge=function(v){for(var A,U,ee,se=v.length,Ce=-1,_e=0;++Ce<se;)_e+=v[Ce].length;for(U=new Array(_e);--se>=0;)for(A=(ee=v[se]).length;--A>=0;)U[--_e]=ee[A];return U};var S=Math.abs;function P(v){for(var A=1;v*A%1;)A*=10;return A}function V(v,A){for(var U in A)Object.defineProperty(v.prototype,U,{value:A[U],enumerable:!1})}function E(){this._=Object.create(null)}function I(v){return"__proto__"==(v+="")||"\0"===v[0]?"\0"+v:v}function L(v){return"\0"===(v+="")[0]?v.slice(1):v}function B(v){return I(v)in this._}function $(v){return(v=I(v))in this._&&delete this._[v]}function T(){var v=[];for(var A in this._)v.push(L(A));return v}function Y(){var v=0;for(var A in this._)++v;return v}function W(){for(var v in this._)return!1;return!0}function q(){this._=Object.create(null)}function Q(v){return v}function te(v,A,U){return function(){var ee=U.apply(A,arguments);return ee===A?v:ee}}function ce(v,A){if(A in v)return A;A=A.charAt(0).toUpperCase()+A.slice(1);for(var U=0,ee=me.length;U<ee;++U){var se=me[U]+A;if(se in v)return se}}o.range=function(v,A,U){if(arguments.length<3&&(U=1,arguments.length<2&&(A=v,v=0)),(A-v)/U==1/0)throw new Error("infinite range");var ee,se=[],Ce=P(S(U)),_e=-1;if(v*=Ce,A*=Ce,(U*=Ce)<0)for(;(ee=v+U*++_e)>A;)se.push(ee/Ce);else for(;(ee=v+U*++_e)<A;)se.push(ee/Ce);return se},o.map=function(v,A){var U=new E;if(v instanceof E)v.forEach(function(Te,Se){U.set(Te,Se)});else if(Array.isArray(v)){var ee,se=-1,Ce=v.length;if(1===arguments.length)for(;++se<Ce;)U.set(se,v[se]);else for(;++se<Ce;)U.set(A.call(v,ee=v[se],se),ee)}else for(var _e in v)U.set(_e,v[_e]);return U},V(E,{has:B,get:function(v){return this._[I(v)]},set:function(v,A){return this._[I(v)]=A},remove:$,keys:T,values:function(){var v=[];for(var A in this._)v.push(this._[A]);return v},entries:function(){var v=[];for(var A in this._)v.push({key:L(A),value:this._[A]});return v},size:Y,empty:W,forEach:function(v){for(var A in this._)v.call(this,L(A),this._[A])}}),o.nest=function(){var v,A,U={},ee=[],se=[];function Ce(_e,Te,Se){if(Se>=ee.length)return A?A.call(U,Te):v?Te.sort(v):Te;for(var He,Ee,i1,s1,y1=-1,A1=Te.length,p1=ee[Se++],x1=new E;++y1<A1;)(s1=x1.get(He=p1(Ee=Te[y1])))?s1.push(Ee):x1.set(He,[Ee]);return _e?(Ee=_e(),i1=function(u1,R1){Ee.set(u1,Ce(_e,R1,Se))}):(Ee={},i1=function(u1,R1){Ee[u1]=Ce(_e,R1,Se)}),x1.forEach(i1),Ee}return U.map=function(_e,Te){return Ce(Te,_e,0)},U.entries=function(_e){return function Te(Se,He){if(He>=ee.length)return Se;var Ee=[],i1=se[He++];return Se.forEach(function(s1,y1){Ee.push({key:s1,values:Te(y1,He)})}),i1?Ee.sort(function(s1,y1){return i1(s1.key,y1.key)}):Ee}(Ce(o.map,_e,0),0)},U.key=function(_e){return ee.push(_e),U},U.sortKeys=function(_e){return se[ee.length-1]=_e,U},U.sortValues=function(_e){return v=_e,U},U.rollup=function(_e){return A=_e,U},U},o.set=function(v){var A=new q;if(v)for(var U=0,ee=v.length;U<ee;++U)A.add(v[U]);return A},V(q,{has:B,add:function(v){return this._[I(v+="")]=!0,v},remove:$,values:T,size:Y,empty:W,forEach:function(v){for(var A in this._)v.call(this,L(A))}}),o.behavior={},o.rebind=function(v,A){for(var U,ee=1,se=arguments.length;++ee<se;)v[U=arguments[ee]]=te(v,A,A[U]);return v};var me=["webkit","ms","moz","Moz","o","O"];function ie(){}function K(){}function le(v){var A=[],U=new E;function ee(){for(var se,Ce=A,_e=-1,Te=Ce.length;++_e<Te;)(se=Ce[_e].on)&&se.apply(this,arguments);return v}return ee.on=function(se,Ce){var _e,Te=U.get(se);return arguments.length<2?Te&&Te.on:(Te&&(Te.on=null,A=A.slice(0,_e=A.indexOf(Te)).concat(A.slice(_e+1)),U.remove(se)),Ce&&A.push(U.set(se,{on:Ce})),v)},ee}function G(){o.event.preventDefault()}function j(){for(var v,A=o.event;v=A.sourceEvent;)A=v;return A}function oe(v){for(var A=new K,U=0,ee=arguments.length;++U<ee;)A[arguments[U]]=le(A);return A.of=function(se,Ce){return function(_e){try{var Te=_e.sourceEvent=o.event;_e.target=v,o.event=_e,A[_e.type].apply(se,Ce)}finally{o.event=Te}}},A}o.dispatch=function(){for(var v=new K,A=-1,U=arguments.length;++A<U;)v[arguments[A]]=le(v);return v},K.prototype.on=function(v,A){var U=v.indexOf("."),ee="";if(U>=0&&(ee=v.slice(U+1),v=v.slice(0,U)),v)return arguments.length<2?this[v].on(ee):this[v].on(ee,A);if(2===arguments.length){if(null==A)for(v in this)this.hasOwnProperty(v)&&this[v].on(ee,null);return this}},o.event=null,o.requote=function(v){return v.replace(re,"\\$&")};var re=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,F={}.__proto__?function(v,A){v.__proto__=A}:function(v,A){for(var U in A)v[U]=A[U]};function O(v){return F(v,fe),v}var X=function(v,A){return A.querySelector(v)},R=function(v,A){return A.querySelectorAll(v)},ae=function(v,A){var U=v.matches||v[ce(v,"matchesSelector")];return(ae=function(ee,se){return U.call(ee,se)})(v,A)};"function"==typeof Sizzle&&(X=function(v,A){return Sizzle(v,A)[0]||null},R=Sizzle,ae=Sizzle.matchesSelector),o.selection=function(){return o.select(l.documentElement)};var fe=o.selection.prototype=[];function ue(v){return"function"==typeof v?v:function(){return X(v,this)}}function pe(v){return"function"==typeof v?v:function(){return R(v,this)}}fe.select=function(v){var A,U,ee,se,Ce=[];v=ue(v);for(var _e=-1,Te=this.length;++_e<Te;){Ce.push(A=[]),A.parentNode=(ee=this[_e]).parentNode;for(var Se=-1,He=ee.length;++Se<He;)(se=ee[Se])?(A.push(U=v.call(se,se.__data__,Se,_e)),U&&"__data__"in se&&(U.__data__=se.__data__)):A.push(null)}return O(Ce)},fe.selectAll=function(v){var A,U,ee=[];v=pe(v);for(var se=-1,Ce=this.length;++se<Ce;)for(var _e=this[se],Te=-1,Se=_e.length;++Te<Se;)(U=_e[Te])&&(ee.push(A=p(v.call(U,U.__data__,Te,se))),A.parentNode=U);return O(ee)};var xe="http://www.w3.org/1999/xhtml",Me={svg:"http://www.w3.org/2000/svg",xhtml:xe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ae(v,A){return v=o.ns.qualify(v),null==A?v.local?function(){this.removeAttributeNS(v.space,v.local)}:function(){this.removeAttribute(v)}:"function"==typeof A?v.local?function(){var U=A.apply(this,arguments);null==U?this.removeAttributeNS(v.space,v.local):this.setAttributeNS(v.space,v.local,U)}:function(){var U=A.apply(this,arguments);null==U?this.removeAttribute(v):this.setAttribute(v,U)}:v.local?function(){this.setAttributeNS(v.space,v.local,A)}:function(){this.setAttribute(v,A)}}function ze(v){return v.trim().replace(/\s+/g," ")}function Fe(v){return new RegExp("(?:^|\\s+)"+o.requote(v)+"(?:\\s+|$)","g")}function Ue(v){return(v+"").trim().split(/^|\s+/)}function t1(v,A){var U=(v=Ue(v).map(Xe)).length;return"function"==typeof A?function(){for(var ee=-1,se=A.apply(this,arguments);++ee<U;)v[ee](this,se)}:function(){for(var ee=-1;++ee<U;)v[ee](this,A)}}function Xe(v){var A=Fe(v);return function(U,ee){if(se=U.classList)return ee?se.add(v):se.remove(v);var se=U.getAttribute("class")||"";ee?(A.lastIndex=0,A.test(se)||U.setAttribute("class",ze(se+" "+v))):U.setAttribute("class",ze(se.replace(A," ")))}}function Ge(v,A,U){return null==A?function(){this.style.removeProperty(v)}:"function"==typeof A?function(){var ee=A.apply(this,arguments);null==ee?this.style.removeProperty(v):this.style.setProperty(v,ee,U)}:function(){this.style.setProperty(v,A,U)}}function we(v,A){return null==A?function(){delete this[v]}:"function"==typeof A?function(){var U=A.apply(this,arguments);null==U?delete this[v]:this[v]=U}:function(){this[v]=A}}function ve(v){return"function"==typeof v?v:(v=o.ns.qualify(v)).local?function(){return this.ownerDocument.createElementNS(v.space,v.local)}:function(){var A=this.ownerDocument,U=this.namespaceURI;return U===xe&&A.documentElement.namespaceURI===xe?A.createElement(v):A.createElementNS(U,v)}}function De(){var v=this.parentNode;v&&v.removeChild(this)}function Ve(v){return{__data__:v}}function qe(v){return function(){return ae(this,v)}}function Ie(v){return arguments.length||(v=M),function(A,U){return A&&U?v(A.__data__,U.__data__):!A-!U}}function Re(v,A){for(var U=0,ee=v.length;U<ee;U++)for(var se,Ce=v[U],_e=0,Te=Ce.length;_e<Te;_e++)(se=Ce[_e])&&A(se,_e,U);return v}function Qe(v){return F(v,n1),v}o.ns={prefix:Me,qualify:function(v){var A=v.indexOf(":"),U=v;return A>=0&&"xmlns"!==(U=v.slice(0,A))&&(v=v.slice(A+1)),Me.hasOwnProperty(U)?{space:Me[U],local:v}:v}},fe.attr=function(v,A){if(arguments.length<2){if("string"==typeof v){var U=this.node();return(v=o.ns.qualify(v)).local?U.getAttributeNS(v.space,v.local):U.getAttribute(v)}for(A in v)this.each(Ae(A,v[A]));return this}return this.each(Ae(v,A))},fe.classed=function(v,A){if(arguments.length<2){if("string"==typeof v){var U=this.node(),ee=(v=Ue(v)).length,se=-1;if(A=U.classList){for(;++se<ee;)if(!A.contains(v[se]))return!1}else for(A=U.getAttribute("class");++se<ee;)if(!Fe(v[se]).test(A))return!1;return!0}for(A in v)this.each(t1(A,v[A]));return this}return this.each(t1(v,A))},fe.style=function(v,A,U){var ee=arguments.length;if(ee<3){if("string"!=typeof v){for(U in ee<2&&(A=""),v)this.each(Ge(U,v[U],A));return this}if(ee<2){var se=this.node();return C(se).getComputedStyle(se,null).getPropertyValue(v)}U=""}return this.each(Ge(v,A,U))},fe.property=function(v,A){if(arguments.length<2){if("string"==typeof v)return this.node()[v];for(A in v)this.each(we(A,v[A]));return this}return this.each(we(v,A))},fe.text=function(v){return arguments.length?this.each("function"==typeof v?function(){var A=v.apply(this,arguments);this.textContent=null==A?"":A}:null==v?function(){this.textContent=""}:function(){this.textContent=v}):this.node().textContent},fe.html=function(v){return arguments.length?this.each("function"==typeof v?function(){var A=v.apply(this,arguments);this.innerHTML=null==A?"":A}:null==v?function(){this.innerHTML=""}:function(){this.innerHTML=v}):this.node().innerHTML},fe.append=function(v){return v=ve(v),this.select(function(){return this.appendChild(v.apply(this,arguments))})},fe.insert=function(v,A){return v=ve(v),A=ue(A),this.select(function(){return this.insertBefore(v.apply(this,arguments),A.apply(this,arguments)||null)})},fe.remove=function(){return this.each(De)},fe.data=function(v,A){var U,ee,se=-1,Ce=this.length;if(!arguments.length){for(v=new Array(Ce=(U=this[0]).length);++se<Ce;)(ee=U[se])&&(v[se]=ee.__data__);return v}function _e(Ee,i1){var s1,y1,A1,p1=Ee.length,x1=i1.length,u1=Math.min(p1,x1),R1=new Array(x1),S1=new Array(x1),h1=new Array(p1);if(A){var nt,at=new E,vt=new Array(p1);for(s1=-1;++s1<p1;)(y1=Ee[s1])&&(at.has(nt=A.call(y1,y1.__data__,s1))?h1[s1]=y1:at.set(nt,y1),vt[s1]=nt);for(s1=-1;++s1<x1;)(y1=at.get(nt=A.call(i1,A1=i1[s1],s1)))?!0!==y1&&(R1[s1]=y1,y1.__data__=A1):S1[s1]=Ve(A1),at.set(nt,!0);for(s1=-1;++s1<p1;)s1 in vt&&!0!==at.get(vt[s1])&&(h1[s1]=Ee[s1])}else{for(s1=-1;++s1<u1;)A1=i1[s1],(y1=Ee[s1])?(y1.__data__=A1,R1[s1]=y1):S1[s1]=Ve(A1);for(;s1<x1;++s1)S1[s1]=Ve(i1[s1]);for(;s1<p1;++s1)h1[s1]=Ee[s1]}S1.update=R1,S1.parentNode=R1.parentNode=h1.parentNode=Ee.parentNode,Te.push(S1),Se.push(R1),He.push(h1)}var Te=Qe([]),Se=O([]),He=O([]);if("function"==typeof v)for(;++se<Ce;)_e(U=this[se],v.call(U,U.parentNode.__data__,se));else for(;++se<Ce;)_e(U=this[se],v);return Se.enter=function(){return Te},Se.exit=function(){return He},Se},fe.datum=function(v){return arguments.length?this.property("__data__",v):this.property("__data__")},fe.filter=function(v){var A,U,ee,se=[];"function"!=typeof v&&(v=qe(v));for(var Ce=0,_e=this.length;Ce<_e;Ce++){se.push(A=[]),A.parentNode=(U=this[Ce]).parentNode;for(var Te=0,Se=U.length;Te<Se;Te++)(ee=U[Te])&&v.call(ee,ee.__data__,Te,Ce)&&A.push(ee)}return O(se)},fe.order=function(){for(var v=-1,A=this.length;++v<A;)for(var U,ee=this[v],se=ee.length-1,Ce=ee[se];--se>=0;)(U=ee[se])&&(Ce&&Ce!==U.nextSibling&&Ce.parentNode.insertBefore(U,Ce),Ce=U);return this},fe.sort=function(v){v=Ie.apply(this,arguments);for(var A=-1,U=this.length;++A<U;)this[A].sort(v);return this.order()},fe.each=function(v){return Re(this,function(A,U,ee){v.call(A,A.__data__,U,ee)})},fe.call=function(v){var A=p(arguments);return v.apply(A[0]=this,A),this},fe.empty=function(){return!this.node()},fe.node=function(){for(var v=0,A=this.length;v<A;v++)for(var U=this[v],ee=0,se=U.length;ee<se;ee++){var Ce=U[ee];if(Ce)return Ce}return null},fe.size=function(){var v=0;return Re(this,function(){++v}),v};var n1=[];function Ye(v){var A,U;return function(ee,se,Ce){var _e,Te=v[Ce].update,Se=Te.length;for(Ce!=U&&(U=Ce,A=0),se>=A&&(A=se+1);!(_e=Te[A])&&++A<Se;);return _e}}function r1(v,A,U){var ee="__on"+v,se=v.indexOf("."),Ce=Je;se>0&&(v=v.slice(0,se));var _e=f1.get(v);function Te(){var Se=this[ee];Se&&(this.removeEventListener(v,Se,Se.$),delete this[ee])}return _e&&(v=_e,Ce=g1),se?A?function(){var Se=Ce(A,p(arguments));Te.call(this),this.addEventListener(v,this[ee]=Se,Se.$=U),Se._=A}:Te:A?ie:function(){var Se,He=new RegExp("^__on([^.]+)"+o.requote(v)+"$");for(var Ee in this)if(Se=Ee.match(He)){var i1=this[Ee];this.removeEventListener(Se[1],i1,i1.$),delete this[Ee]}}}o.selection.enter=Qe,o.selection.enter.prototype=n1,n1.append=fe.append,n1.empty=fe.empty,n1.node=fe.node,n1.call=fe.call,n1.size=fe.size,n1.select=function(v){for(var A,U,ee,se,Ce,_e=[],Te=-1,Se=this.length;++Te<Se;){ee=(se=this[Te]).update,_e.push(A=[]),A.parentNode=se.parentNode;for(var He=-1,Ee=se.length;++He<Ee;)(Ce=se[He])?(A.push(ee[He]=U=v.call(se.parentNode,Ce.__data__,He,Te)),U.__data__=Ce.__data__):A.push(null)}return O(_e)},n1.insert=function(v,A){return arguments.length<2&&(A=Ye(this)),fe.insert.call(this,v,A)},o.select=function(v){var A;return"string"==typeof v?(A=[X(v,l)]).parentNode=l.documentElement:(A=[v]).parentNode=c(v),O([A])},o.selectAll=function(v){var A;return"string"==typeof v?(A=p(R(v,l))).parentNode=l.documentElement:(A=p(v)).parentNode=null,O([A])},fe.on=function(v,A,U){var ee=arguments.length;if(ee<3){if("string"!=typeof v){for(U in ee<2&&(A=!1),v)this.each(r1(U,v[U],A));return this}if(ee<2)return(ee=this.node()["__on"+v])&&ee._;U=!1}return this.each(r1(v,A,U))};var f1=o.map({mouseenter:"mouseover",mouseleave:"mouseout"});function Je(v,A){return function(U){var ee=o.event;o.event=U,A[0]=this.__data__;try{v.apply(this,A)}finally{o.event=ee}}}function g1(v,A){var U=Je(v,A);return function(ee){var se=ee.relatedTarget;se&&(se===this||8&se.compareDocumentPosition(this))||U.call(this,ee)}}l&&f1.forEach(function(v){"on"+v in l&&f1.remove(v)});var b1,_1=0;function I1(v){var A=".dragsuppress-"+ ++_1,U="click"+A,ee=o.select(C(v)).on("touchmove"+A,G).on("dragstart"+A,G).on("selectstart"+A,G);if(null==b1&&(b1=!("onselectstart"in v)&&ce(v.style,"userSelect")),b1){var se=c(v).style,Ce=se[b1];se[b1]="none"}return function(_e){if(ee.on(A,null),b1&&(se[b1]=Ce),_e){var Te=function(){ee.on(U,null)};ee.on(U,function(){G(),Te()},!0),setTimeout(Te,0)}}}o.mouse=function(v){return Be(v,j())};var M1=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Be(v,A){A.changedTouches&&(A=A.changedTouches[0]);var U=v.ownerSVGElement||v;if(U.createSVGPoint){var ee=U.createSVGPoint();if(M1<0){var se=C(v);if(se.scrollX||se.scrollY){var Ce=(U=o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();M1=!(Ce.f||Ce.e),U.remove()}}return M1?(ee.x=A.pageX,ee.y=A.pageY):(ee.x=A.clientX,ee.y=A.clientY),[(ee=ee.matrixTransform(v.getScreenCTM().inverse())).x,ee.y]}var _e=v.getBoundingClientRect();return[A.clientX-_e.left-v.clientLeft,A.clientY-_e.top-v.clientTop]}function je(){return o.event.changedTouches[0].identifier}o.touch=function(v,A,U){if(arguments.length<3&&(U=A,A=j().changedTouches),A)for(var ee,se=0,Ce=A.length;se<Ce;++se)if((ee=A[se]).identifier===U)return Be(v,ee)},o.behavior.drag=function(){var v=oe(se,"drag","dragstart","dragend"),A=null,U=Ce(ie,o.mouse,C,"mousemove","mouseup"),ee=Ce(je,o.touch,Q,"touchmove","touchend");function se(){this.on("mousedown.drag",U).on("touchstart.drag",ee)}function Ce(_e,Te,Se,He,Ee){return function(){var i1,s1=this,y1=o.event.target.correspondingElement||o.event.target,A1=s1.parentNode,p1=v.of(s1,arguments),x1=0,u1=_e(),R1=".drag"+(null==u1?"":"-"+u1),S1=o.select(Se(y1)).on(He+R1,at).on(Ee+R1,vt),h1=I1(y1),nt=Te(A1,u1);function at(){var Lt,Tt,Jt=Te(A1,u1);Jt&&(x1|=(Lt=Jt[0]-nt[0])|(Tt=Jt[1]-nt[1]),nt=Jt,p1({type:"drag",x:Jt[0]+i1[0],y:Jt[1]+i1[1],dx:Lt,dy:Tt}))}function vt(){Te(A1,u1)&&(S1.on(He+R1,null).on(Ee+R1,null),h1(x1),p1({type:"dragend"}))}i1=A?[(i1=A.apply(s1,arguments)).x-nt[0],i1.y-nt[1]]:[0,0],p1({type:"dragstart"})}}return se.origin=function(_e){return arguments.length?(A=_e,se):A},o.rebind(se,v,"on")},o.touches=function(v,A){return arguments.length<2&&(A=j().touches),A?p(A).map(function(U){var ee=Be(v,U);return ee.identifier=U.identifier,ee}):[]};var C1=1e-6,O1=Math.PI,Q1=2*O1,st=Q1-C1,$1=O1/2,Z1=O1/180,N1=180/O1;function ge(v){return v>1?$1:v<-1?-$1:Math.asin(v)}function ye(v){return((v=Math.exp(v))+1/v)/2}var We=Math.SQRT2;o.interpolateZoom=function(v,A){var U,ee,se=v[0],Ce=v[1],_e=v[2],He=A[2],Ee=A[0]-se,i1=A[1]-Ce,s1=Ee*Ee+i1*i1;if(s1<1e-12)ee=Math.log(He/_e)/We,U=function(R1){return[se+R1*Ee,Ce+R1*i1,_e*Math.exp(We*R1*ee)]};else{var y1=Math.sqrt(s1),A1=(He*He-_e*_e+4*s1)/(2*_e*2*y1),p1=(He*He-_e*_e-4*s1)/(2*He*2*y1),x1=Math.log(Math.sqrt(A1*A1+1)-A1),u1=Math.log(Math.sqrt(p1*p1+1)-p1);ee=(u1-x1)/We,U=function(R1){var S1,vt,h1=R1*ee,nt=ye(x1),at=_e/(2*y1)*(nt*(S1=We*h1+x1,((S1=Math.exp(2*S1))-1)/(S1+1))-(vt=x1,((vt=Math.exp(vt))-1/vt)/2));return[se+at*Ee,Ce+at*i1,_e*nt/ye(We*h1+x1)]}}return U.duration=1e3*ee,U},o.behavior.zoom=function(){var v,A,U,ee,se,Ce,_e,Te,Se,He={x:0,y:0,k:1},Ee=[960,500],i1=a1,s1=250,y1=0,A1="mousedown.zoom",p1="mousemove.zoom",x1="mouseup.zoom",u1="touchstart.zoom",R1=oe(S1,"zoomstart","zoom","zoomend");function S1(_t){_t.on(A1,jt).on(d1+".zoom",Nn).on("dblclick.zoom",$n).on(u1,R2)}function h1(_t){return[(_t[0]-He.x)/He.k,(_t[1]-He.y)/He.k]}function nt(_t){He.k=Math.max(i1[0],Math.min(i1[1],_t))}function at(_t,Wt){var x2;He.x+=_t[0]-(Wt=[(x2=Wt)[0]*He.k+He.x,x2[1]*He.k+He.y])[0],He.y+=_t[1]-Wt[1]}function vt(_t,Wt,x2,M2){_t.__chart__={x:He.x,y:He.y,k:He.k},nt(Math.pow(2,M2)),at(A=Wt,x2),_t=o.select(_t),s1>0&&(_t=_t.transition().duration(s1)),_t.call(S1.event)}function Lt(){_e&&_e.domain(Ce.range().map(function(_t){return(_t-He.x)/He.k}).map(Ce.invert)),Se&&Se.domain(Te.range().map(function(_t){return(_t-He.y)/He.k}).map(Te.invert))}function Tt(_t){y1++||_t({type:"zoomstart"})}function Jt(_t){Lt(),_t({type:"zoom",scale:He.k,translate:[He.x,He.y]})}function g2(_t){--y1||(_t({type:"zoomend"}),A=null)}function jt(){var _t=this,Wt=R1.of(_t,arguments),x2=0,M2=o.select(C(_t)).on(p1,hn).on(x1,Q2),X2=h1(o.mouse(_t)),dn=I1(_t);function hn(){x2=1,at(o.mouse(_t),X2),Jt(Wt)}function Q2(){M2.on(p1,null).on(x1,null),dn(x2),g2(Wt)}O4.call(_t),Tt(Wt)}function R2(){var _t,Wt=this,x2=R1.of(Wt,arguments),M2={},X2=0,dn=".zoom-"+o.event.changedTouches[0].identifier,hn="touchmove"+dn,Q2="touchend"+dn,D3=[],A3=o.select(Wt),Gn=I1(Wt);function y3(){var En=o.touches(Wt);return _t=He.k,En.forEach(function(r3){r3.identifier in M2&&(M2[r3.identifier]=h1(r3))}),En}function k3(){var En=o.event.target;o.select(En).on(hn,Y3).on(Q2,Ui),D3.push(En);for(var r3=o.event.changedTouches,Cr=0,Jr=r3.length;Cr<Jr;++Cr)M2[r3[Cr].identifier]=null;var Xr=y3(),I4=Date.now();if(1===Xr.length){if(I4-se<500){var ci=Xr[0];vt(Wt,ci,M2[ci.identifier],Math.floor(Math.log(He.k)/Math.LN2)+1),G()}se=I4}else if(Xr.length>1){var R3=Xr[1],co=(ci=Xr[0])[0]-R3[0],ji=ci[1]-R3[1];X2=co*co+ji*ji}}function Y3(){var En,r3,Cr,Jr,Xr=o.touches(Wt);O4.call(Wt);for(var I4=0,ci=Xr.length;I4<ci;++I4,Jr=null)if(Jr=M2[(Cr=Xr[I4]).identifier]){if(r3)break;En=Cr,r3=Jr}if(Jr){var R3=(R3=Cr[0]-En[0])*R3+(R3=Cr[1]-En[1])*R3,co=X2&&Math.sqrt(R3/X2);En=[(En[0]+Cr[0])/2,(En[1]+Cr[1])/2],r3=[(r3[0]+Jr[0])/2,(r3[1]+Jr[1])/2],nt(co*_t)}se=null,at(En,r3),Jt(x2)}function Ui(){if(o.event.touches.length){for(var En=o.event.changedTouches,r3=0,Cr=En.length;r3<Cr;++r3)delete M2[En[r3].identifier];for(var Jr in M2)return void y3()}o.selectAll(D3).on(dn,null),A3.on(A1,jt).on(u1,R2),Gn(),g2(x2)}k3(),Tt(x2),A3.on(A1,null).on(u1,k3)}function Nn(){var _t=R1.of(this,arguments);ee?clearTimeout(ee):(O4.call(this),v=h1(A=U||o.mouse(this)),Tt(_t)),ee=setTimeout(function(){ee=null,g2(_t)},50),G(),nt(Math.pow(2,.002*e1())*He.k),at(A,v),Jt(_t)}function $n(){var _t=o.mouse(this),Wt=Math.log(He.k)/Math.LN2;vt(this,_t,h1(_t),o.event.shiftKey?Math.ceil(Wt)-1:Math.floor(Wt)+1)}return d1||(d1="onwheel"in l?(e1=function(){return-o.event.deltaY*(o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in l?(e1=function(){return o.event.wheelDelta},"mousewheel"):(e1=function(){return-o.event.detail},"MozMousePixelScroll")),S1.event=function(_t){_t.each(function(){var Wt=R1.of(this,arguments),x2=He;U2?o.select(this).transition().each("start.zoom",function(){He=this.__chart__||{x:0,y:0,k:1},Tt(Wt)}).tween("zoom:zoom",function(){var M2=Ee[0],dn=A?A[0]:M2/2,hn=A?A[1]:Ee[1]/2,Q2=o.interpolateZoom([(dn-He.x)/He.k,(hn-He.y)/He.k,M2/He.k],[(dn-x2.x)/x2.k,(hn-x2.y)/x2.k,M2/x2.k]);return function(D3){var A3=Q2(D3),Gn=M2/A3[2];this.__chart__=He={x:dn-A3[0]*Gn,y:hn-A3[1]*Gn,k:Gn},Jt(Wt)}}).each("interrupt.zoom",function(){g2(Wt)}).each("end.zoom",function(){g2(Wt)}):(this.__chart__=He,Tt(Wt),Jt(Wt),g2(Wt))})},S1.translate=function(_t){return arguments.length?(He={x:+_t[0],y:+_t[1],k:He.k},Lt(),S1):[He.x,He.y]},S1.scale=function(_t){return arguments.length?(He={x:He.x,y:He.y,k:null},nt(+_t),Lt(),S1):He.k},S1.scaleExtent=function(_t){return arguments.length?(i1=null==_t?a1:[+_t[0],+_t[1]],S1):i1},S1.center=function(_t){return arguments.length?(U=_t&&[+_t[0],+_t[1]],S1):U},S1.size=function(_t){return arguments.length?(Ee=_t&&[+_t[0],+_t[1]],S1):Ee},S1.duration=function(_t){return arguments.length?(s1=+_t,S1):s1},S1.x=function(_t){return arguments.length?(_e=_t,Ce=_t.copy(),He={x:0,y:0,k:1},S1):_e},S1.y=function(_t){return arguments.length?(Se=_t,Te=_t.copy(),He={x:0,y:0,k:1},S1):Se},o.rebind(S1,R1,"on")};var e1,d1,a1=[0,1/0];function l1(){}function c1(v,A,U){return this instanceof c1?(this.h=+v,this.s=+A,void(this.l=+U)):arguments.length<2?v instanceof c1?new c1(v.h,v.s,v.l):Ot(""+v,Dt,c1):new c1(v,A,U)}o.color=l1,l1.prototype.toString=function(){return this.rgb()+""},o.hsl=c1;var w1=c1.prototype=new l1;function T1(v,A,U){var ee,se;function Ce(_e){return Math.round(255*((Te=_e)>360?Te-=360:Te<0&&(Te+=360),Te<60?ee+(se-ee)*Te/60:Te<180?se:Te<240?ee+(se-ee)*(240-Te)/60:ee));var Te}return v=isNaN(v)?0:(v%=360)<0?v+360:v,A=isNaN(A)||A<0?0:A>1?1:A,ee=2*(U=U<0?0:U>1?1:U)-(se=U<=.5?U*(1+A):U+A-U*A),new P1(Ce(v+120),Ce(v),Ce(v-120))}function B1(v,A,U){return this instanceof B1?(this.h=+v,this.c=+A,void(this.l=+U)):arguments.length<2?v instanceof B1?new B1(v.h,v.c,v.l):it(v instanceof Y1?v.l:(v=G1((v=o.rgb(v)).r,v.g,v.b)).l,v.a,v.b):new B1(v,A,U)}w1.brighter=function(v){return v=Math.pow(.7,arguments.length?v:1),new c1(this.h,this.s,this.l/v)},w1.darker=function(v){return v=Math.pow(.7,arguments.length?v:1),new c1(this.h,this.s,v*this.l)},w1.rgb=function(){return T1(this.h,this.s,this.l)},o.hcl=B1;var rt=B1.prototype=new l1;function H1(v,A,U){return isNaN(v)&&(v=0),isNaN(A)&&(A=0),new Y1(U,Math.cos(v*=Z1)*A,Math.sin(v)*A)}function Y1(v,A,U){return this instanceof Y1?(this.l=+v,this.a=+A,void(this.b=+U)):arguments.length<2?v instanceof Y1?new Y1(v.l,v.a,v.b):v instanceof B1?H1(v.h,v.c,v.l):G1((v=P1(v)).r,v.g,v.b):new Y1(v,A,U)}rt.brighter=function(v){return new B1(this.h,this.c,Math.min(100,this.l+ut*(arguments.length?v:1)))},rt.darker=function(v){return new B1(this.h,this.c,Math.max(0,this.l-ut*(arguments.length?v:1)))},rt.rgb=function(){return H1(this.h,this.c,this.l).rgb()},o.lab=Y1;var ut=18,k1=Y1.prototype=new l1;function L1(v,A,U){var ee=(v+16)/116,se=ee+A/500,Ce=ee-U/200;return new P1(et(3.2404542*(se=.95047*X1(se))-1.5371385*(ee=1*X1(ee))-.4985314*(Ce=1.08883*X1(Ce))),et(-.969266*se+1.8760108*ee+.041556*Ce),et(.0556434*se-.2040259*ee+1.0572252*Ce))}function it(v,A,U){return v>0?new B1(Math.atan2(U,A)*N1,Math.sqrt(A*A+U*U),v):new B1(NaN,NaN,v)}function X1(v){return v>.206893034?v*v*v:(v-4/29)/7.787037}function j1(v){return v>.008856?Math.pow(v,1/3):7.787037*v+4/29}function et(v){return Math.round(255*(v<=.00304?12.92*v:1.055*Math.pow(v,1/2.4)-.055))}function P1(v,A,U){return this instanceof P1?(this.r=~~v,this.g=~~A,void(this.b=~~U)):arguments.length<2?v instanceof P1?new P1(v.r,v.g,v.b):Ot(""+v,P1,T1):new P1(v,A,U)}function xt(v){return new P1(v>>16,v>>8&255,255&v)}function yt(v){return xt(v)+""}k1.brighter=function(v){return new Y1(Math.min(100,this.l+ut*(arguments.length?v:1)),this.a,this.b)},k1.darker=function(v){return new Y1(Math.max(0,this.l-ut*(arguments.length?v:1)),this.a,this.b)},k1.rgb=function(){return L1(this.l,this.a,this.b)},o.rgb=P1;var wt=P1.prototype=new l1;function Ft(v){return v<16?"0"+Math.max(0,v).toString(16):Math.min(255,v).toString(16)}function Ot(v,A,U){var ee,se,Ce,_e=0,Te=0,Se=0;if(ee=/([a-z]+)\((.*)\)/.exec(v=v.toLowerCase()))switch(se=ee[2].split(","),ee[1]){case"hsl":return U(parseFloat(se[0]),parseFloat(se[1])/100,parseFloat(se[2])/100);case"rgb":return A(tt(se[0]),tt(se[1]),tt(se[2]))}return(Ce=dt.get(v))?A(Ce.r,Ce.g,Ce.b):(null==v||"#"!==v.charAt(0)||isNaN(Ce=parseInt(v.slice(1),16))||(4===v.length?(_e=(3840&Ce)>>4,_e|=_e>>4,Te=240&Ce,Te|=Te>>4,Se=15&Ce,Se|=Se<<4):7===v.length&&(_e=(16711680&Ce)>>16,Te=(65280&Ce)>>8,Se=255&Ce)),A(_e,Te,Se))}function Dt(v,A,U){var ee,se,Ce=Math.min(v/=255,A/=255,U/=255),_e=Math.max(v,A,U),Te=_e-Ce,Se=(_e+Ce)/2;return Te?(se=Se<.5?Te/(_e+Ce):Te/(2-_e-Ce),ee=v==_e?(A-U)/Te+(A<U?6:0):A==_e?(U-v)/Te+2:(v-A)/Te+4,ee*=60):(ee=NaN,se=Se>0&&Se<1?0:ee),new c1(ee,se,Se)}function G1(v,A,U){var ee=j1((.4124564*(v=K1(v))+.3575761*(A=K1(A))+.1804375*(U=K1(U)))/.95047),se=j1((.2126729*v+.7151522*A+.072175*U)/1);return Y1(116*se-16,500*(ee-se),200*(se-j1((.0193339*v+.119192*A+.9503041*U)/1.08883)))}function K1(v){return(v/=255)<=.04045?v/12.92:Math.pow((v+.055)/1.055,2.4)}function tt(v){var A=parseFloat(v);return"%"===v.charAt(v.length-1)?Math.round(2.55*A):A}wt.brighter=function(v){v=Math.pow(.7,arguments.length?v:1);var A=this.r,U=this.g,ee=this.b,se=30;return A||U||ee?(A&&A<se&&(A=se),U&&U<se&&(U=se),ee&&ee<se&&(ee=se),new P1(Math.min(255,A/v),Math.min(255,U/v),Math.min(255,ee/v))):new P1(se,se,se)},wt.darker=function(v){return new P1((v=Math.pow(.7,arguments.length?v:1))*this.r,v*this.g,v*this.b)},wt.hsl=function(){return Dt(this.r,this.g,this.b)},wt.toString=function(){return"#"+Ft(this.r)+Ft(this.g)+Ft(this.b)};var dt=o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function ot(v){return"function"==typeof v?v:function(){return v}}function gt(v){return function(A,U,ee){return 2===arguments.length&&"function"==typeof U&&(ee=U,U=null),Gt(A,U,v,ee)}}function Gt(v,A,U,ee){var Ee,se={},Ce=o.dispatch("beforesend","progress","load","error"),_e={},Te=new XMLHttpRequest,Se=null;function He(){var Ee,s1,y1,i1=Te.status;if(!i1&&((y1=(s1=Te).responseType)&&"text"!==y1?s1.response:s1.responseText)||i1>=200&&i1<300||304===i1){try{Ee=U.call(se,Te)}catch(s1){return void Ce.error.call(se,s1)}Ce.load.call(se,Ee)}else Ce.error.call(se,Te)}return self.XDomainRequest&&!("withCredentials"in Te)&&/^(http(s)?:)?\/\//.test(v)&&(Te=new XDomainRequest),"onload"in Te?Te.onload=Te.onerror=He:Te.onreadystatechange=function(){Te.readyState>3&&He()},Te.onprogress=function(Ee){var i1=o.event;o.event=Ee;try{Ce.progress.call(se,Te)}finally{o.event=i1}},se.header=function(Ee,i1){return Ee=(Ee+"").toLowerCase(),arguments.length<2?_e[Ee]:(null==i1?delete _e[Ee]:_e[Ee]=i1+"",se)},se.mimeType=function(Ee){return arguments.length?(A=null==Ee?null:Ee+"",se):A},se.responseType=function(Ee){return arguments.length?(Se=Ee,se):Se},se.response=function(Ee){return U=Ee,se},["get","post"].forEach(function(Ee){se[Ee]=function(){return se.send.apply(se,[Ee].concat(p(arguments)))}}),se.send=function(Ee,i1,s1){if(2===arguments.length&&"function"==typeof i1&&(s1=i1,i1=null),Te.open(Ee,v,!0),null==A||"accept"in _e||(_e.accept=A+",*/*"),Te.setRequestHeader)for(var y1 in _e)Te.setRequestHeader(y1,_e[y1]);return null!=A&&Te.overrideMimeType&&Te.overrideMimeType(A),null!=Se&&(Te.responseType=Se),null!=s1&&se.on("error",s1).on("load",function(A1){s1(null,A1)}),Ce.beforesend.call(se,Te),Te.send(null==i1?null:i1),se},se.abort=function(){return Te.abort(),se},o.rebind(se,Ce,"on"),null==ee?se:se.get(1===(Ee=ee).length?function(i1,s1){Ee(null==i1?s1:null)}:Ee)}dt.forEach(function(v,A){dt.set(v,xt(A))}),o.functor=ot,o.xhr=gt(Q),o.dsv=function(v,A){var U=new RegExp('["'+v+"\n]"),ee=v.charCodeAt(0);function se(He,Ee,i1){arguments.length<3&&(i1=Ee,Ee=null);var s1=Gt(He,A,null==Ee?Ce:_e(Ee),i1);return s1.row=function(y1){return arguments.length?s1.response(null==(Ee=y1)?Ce:_e(y1)):Ee},s1}function Ce(He){return se.parse(He.responseText)}function _e(He){return function(Ee){return se.parse(Ee.responseText,He)}}function Te(He){return He.map(Se).join(v)}function Se(He){return U.test(He)?'"'+He.replace(/\"/g,'""')+'"':He}return se.parse=function(He,Ee){var i1;return se.parseRows(He,function(s1,y1){if(i1)return i1(s1,y1-1);var A1=function(p1){for(var x1={},u1=s1.length,R1=0;R1<u1;++R1)x1[s1[R1]]=p1[R1];return x1};i1=Ee?function(p1,x1){return Ee(A1(p1),x1)}:A1})},se.parseRows=function(He,Ee){var i1,s1,y1={},A1={},p1=[],x1=He.length,u1=0,R1=0;function S1(){if(u1>=x1)return A1;if(s1)return s1=!1,y1;var nt=u1;if(34===He.charCodeAt(nt)){for(var at=nt;at++<x1;)if(34===He.charCodeAt(at)){if(34!==He.charCodeAt(at+1))break;++at}return u1=at+2,13===(vt=He.charCodeAt(at+1))?(s1=!0,10===He.charCodeAt(at+2)&&++u1):10===vt&&(s1=!0),He.slice(nt+1,at).replace(/""/g,'"')}for(;u1<x1;){var vt,Lt=1;if(10===(vt=He.charCodeAt(u1++)))s1=!0;else if(13===vt)s1=!0,10===He.charCodeAt(u1)&&(++u1,++Lt);else if(vt!==ee)continue;return He.slice(nt,u1-Lt)}return He.slice(nt)}for(;(i1=S1())!==A1;){for(var h1=[];i1!==y1&&i1!==A1;)h1.push(i1),i1=S1();Ee&&null==(h1=Ee(h1,R1++))||p1.push(h1)}return p1},se.format=function(He){if(Array.isArray(He[0]))return se.formatRows(He);var Ee=new q,i1=[];return He.forEach(function(s1){for(var y1 in s1)Ee.has(y1)||i1.push(Ee.add(y1))}),[i1.map(Se).join(v)].concat(He.map(function(s1){return i1.map(function(y1){return Se(s1[y1])}).join(v)})).join("\n")},se.formatRows=function(He){return He.map(Te).join("\n")},se},o.csv=o.dsv(",","text/csv"),o.tsv=o.dsv("\t","text/tab-separated-values");var Qt,Vt,kt,f2,p2=this[ce(this,"requestAnimationFrame")]||function(v){setTimeout(v,17)};function Bt(v,A,U){var ee=arguments.length;ee<2&&(A=0),ee<3&&(U=Date.now());var Ce={c:v,t:U+A,n:null};return Vt?Vt.n=Ce:Qt=Ce,Vt=Ce,kt||(f2=clearTimeout(f2),kt=1,p2(Kt)),Ce}function Kt(){var v=Pt(),A=m2()-v;A>24?(isFinite(A)&&(clearTimeout(f2),f2=setTimeout(Kt,A)),kt=0):(kt=1,p2(Kt))}function Pt(){for(var v=Date.now(),A=Qt;A;)v>=A.t&&A.c(v-A.t)&&(A.c=null),A=A.n;return v}function m2(){for(var v,A=Qt,U=1/0;A;)A.c?(A.t<U&&(U=A.t),A=(v=A).n):A=v?v.n=A.n:Qt=A.n;return Vt=v,U}function zt(v){return v[0]}function y2(v){return v[1]}function d2(v){for(var A,U,ee,se=v.length,Ce=[0,1],_e=2,Te=2;Te<se;Te++){for(;_e>1&&((U=v[Ce[_e-1]])[0]-(A=v[Ce[_e-2]])[0])*((ee=v[Te])[1]-A[1])-(U[1]-A[1])*(ee[0]-A[0])<=0;)--_e;Ce[_e++]=Te}return Ce.slice(0,_e)}function Et(v,A){return v[0]-A[0]||v[1]-A[1]}o.timer=function(){Bt.apply(this,arguments)},o.timer.flush=function(){Pt(),m2()},o.round=function(v,A){return A?Math.round(v*(A=Math.pow(10,A)))/A:Math.round(v)},o.geom={},o.geom.hull=function(v){var A=zt,U=y2;if(arguments.length)return ee(v);function ee(se){if(se.length<3)return[];var Ce,_e=ot(A),Te=ot(U),Se=se.length,He=[],Ee=[];for(Ce=0;Ce<Se;Ce++)He.push([+_e.call(this,se[Ce],Ce),+Te.call(this,se[Ce],Ce),Ce]);for(He.sort(Et),Ce=0;Ce<Se;Ce++)Ee.push([He[Ce][0],-He[Ce][1]]);var i1=d2(He),s1=d2(Ee),y1=s1[0]===i1[0],A1=s1[s1.length-1]===i1[i1.length-1],p1=[];for(Ce=i1.length-1;Ce>=0;--Ce)p1.push(se[He[i1[Ce]][2]]);for(Ce=+y1;Ce<s1.length-A1;++Ce)p1.push(se[He[s1[Ce]][2]]);return p1}return ee.x=function(se){return arguments.length?(A=se,ee):A},ee.y=function(se){return arguments.length?(U=se,ee):U},ee},o.geom.polygon=function(v){return F(v,u2),v};var u2=o.geom.polygon.prototype=[];function _2(v,A,U){return(U[0]-A[0])*(v[1]-A[1])<(U[1]-A[1])*(v[0]-A[0])}function e2(v,A,U,ee){var se=v[0],Ce=U[0],_e=A[0]-se,Te=ee[0]-Ce,Se=v[1],He=U[1],Ee=A[1]-Se,i1=ee[1]-He,s1=(Te*(Se-He)-i1*(se-Ce))/(i1*_e-Te*Ee);return[se+s1*_e,Se+s1*Ee]}function Rt(v){var A=v[0],U=v[v.length-1];return!(A[0]-U[0]||A[1]-U[1])}u2.area=function(){for(var v,A=-1,U=this.length,ee=this[U-1],se=0;++A<U;)se+=(v=ee)[1]*(ee=this[A])[0]-v[0]*ee[1];return.5*se},u2.centroid=function(v){var A,U,ee=-1,se=this.length,Ce=0,_e=0,Te=this[se-1];for(arguments.length||(v=-1/(6*this.area()));++ee<se;)Ce+=((A=Te)[0]+(Te=this[ee])[0])*(U=A[0]*Te[1]-Te[0]*A[1]),_e+=(A[1]+Te[1])*U;return[Ce*v,_e*v]},u2.clip=function(v){for(var A,U,ee,se,Ce,_e,Te=Rt(v),Se=-1,He=this.length-Rt(this),Ee=this[He-1];++Se<He;){for(A=v.slice(),v.length=0,se=this[Se],Ce=A[(ee=A.length-Te)-1],U=-1;++U<ee;)_2(_e=A[U],Ee,se)?(_2(Ce,Ee,se)||v.push(e2(Ce,_e,Ee,se)),v.push(_e)):_2(Ce,Ee,se)&&v.push(e2(Ce,_e,Ee,se)),Ce=_e;Te&&v.push(v[0]),Ee=se}return v};var mt,b2,mn,G2,$2,sn=[],An=[];function vn(){T2(this),this.edge=this.site=this.circle=null}function wn(v){var A=sn.pop()||new vn;return A.site=v,A}function E2(v){B2(v),mn.remove(v),sn.push(v),T2(v)}function J2(v){var A=v.circle,U=A.x,ee=A.cy,se={x:U,y:ee},Ce=v.P,_e=v.N,Te=[v];E2(v);for(var Se=Ce;Se.circle&&S(U-Se.circle.x)<C1&&S(ee-Se.circle.cy)<C1;)Ce=Se.P,Te.unshift(Se),E2(Se),Se=Ce;Te.unshift(Se),B2(Se);for(var He=_e;He.circle&&S(U-He.circle.x)<C1&&S(ee-He.circle.cy)<C1;)_e=He.N,Te.push(He),E2(He),He=_e;Te.push(He),B2(He);var Ee,i1=Te.length;for(Ee=1;Ee<i1;++Ee)va((He=Te[Ee]).edge,(Se=Te[Ee-1]).site,He.site,se);(He=Te[i1-1]).edge=ma((Se=Te[0]).site,He.site,null,se),G3(Se),G3(He)}function H3(v){for(var A,U,ee,se,Ce=v.x,_e=v.y,Te=mn._;Te;)if((ee=nr(Te,_e)-Ce)>C1)Te=Te.L;else{if(!((se=Ce-yr(Te,_e))>C1)){ee>-C1?(A=Te.P,U=Te):se>-C1?(A=Te,U=Te.N):A=U=Te;break}if(!Te.R){A=Te;break}Te=Te.R}var Se=wn(v);if(mn.insert(A,Se),A||U){if(A===U)return B2(A),U=wn(A.site),mn.insert(Se,U),Se.edge=U.edge=ma(A.site,Se.site),G3(A),void G3(U);if(U){B2(A),B2(U);var He=A.site,Ee=He.x,i1=He.y,s1=v.x-Ee,y1=v.y-i1,A1=U.site,p1=A1.x-Ee,x1=A1.y-i1,u1=2*(s1*x1-y1*p1),R1=s1*s1+y1*y1,S1=p1*p1+x1*x1,h1={x:(x1*R1-y1*S1)/u1+Ee,y:(s1*S1-p1*R1)/u1+i1};va(U.edge,He,A1,h1),Se.edge=ma(He,v,null,h1),U.edge=ma(v,A1,null,h1),G3(A),G3(U)}else Se.edge=ma(A.site,Se.site)}}function nr(v,A){var U=v.site,ee=U.x,se=U.y,Ce=se-A;if(!Ce)return ee;var _e=v.P;if(!_e)return-1/0;var Te=(U=_e.site).x,Se=U.y,He=Se-A;if(!He)return Te;var Ee=Te-ee,i1=1/Ce-1/He,s1=Ee/He;return i1?(-s1+Math.sqrt(s1*s1-2*i1*(Ee*Ee/(-2*He)-Se+He/2+se-Ce/2)))/i1+ee:(ee+Te)/2}function yr(v,A){var U=v.N;if(U)return nr(U,A);var ee=v.site;return ee.y===A?ee.x:1/0}function r2(v){this.site=v,this.edges=[]}function kn(v,A){return A.angle-v.angle}function D2(){T2(this),this.x=this.y=this.arc=this.site=this.cy=null}function G3(v){var A=v.P,U=v.N;if(A&&U){var ee=A.site,se=v.site,Ce=U.site;if(ee!==Ce){var _e=se.x,Te=se.y,Se=ee.x-_e,He=ee.y-Te,Ee=Ce.x-_e,i1=2*(Se*(x1=Ce.y-Te)-He*Ee);if(!(i1>=-1e-12)){var s1=Se*Se+He*He,y1=Ee*Ee+x1*x1,A1=(x1*s1-He*y1)/i1,p1=(Se*y1-Ee*s1)/i1,x1=p1+Te,u1=An.pop()||new D2;u1.arc=v,u1.site=se,u1.x=A1+_e,u1.y=x1+Math.sqrt(A1*A1+p1*p1),u1.cy=x1,v.circle=u1;for(var R1=null,S1=$2._;S1;)if(u1.y<S1.y||u1.y===S1.y&&u1.x<=S1.x){if(!S1.L){R1=S1.P;break}S1=S1.L}else{if(!S1.R){R1=S1;break}S1=S1.R}$2.insert(R1,u1),R1||(G2=u1)}}}}function B2(v){var A=v.circle;A&&(A.P||(G2=A.N),$2.remove(A),An.push(A),T2(A),v.circle=null)}function Pn(v,A){var U=v.b;if(U)return!0;var ee,se,Ce=v.a,_e=A[0][0],Te=A[1][0],Se=A[0][1],He=A[1][1],Ee=v.l,i1=v.r,s1=Ee.x,y1=Ee.y,A1=i1.x,p1=i1.y,x1=(s1+A1)/2;if(p1===y1){if(x1<_e||x1>=Te)return;if(s1>A1){if(Ce){if(Ce.y>=He)return}else Ce={x:x1,y:Se};U={x:x1,y:He}}else{if(Ce){if(Ce.y<Se)return}else Ce={x:x1,y:He};U={x:x1,y:Se}}}else if(se=(y1+p1)/2-(ee=(s1-A1)/(p1-y1))*x1,ee<-1||ee>1)if(s1>A1){if(Ce){if(Ce.y>=He)return}else Ce={x:(Se-se)/ee,y:Se};U={x:(He-se)/ee,y:He}}else{if(Ce){if(Ce.y<Se)return}else Ce={x:(He-se)/ee,y:He};U={x:(Se-se)/ee,y:Se}}else if(y1<p1){if(Ce){if(Ce.x>=Te)return}else Ce={x:_e,y:ee*_e+se};U={x:Te,y:ee*Te+se}}else{if(Ce){if(Ce.x<_e)return}else Ce={x:Te,y:ee*Te+se};U={x:_e,y:ee*_e+se}}return v.a=Ce,v.b=U,!0}function y6(v,A){this.l=v,this.r=A,this.a=this.b=null}function ma(v,A,U,ee){var se=new y6(v,A);return mt.push(se),U&&va(se,v,A,U),ee&&va(se,A,v,ee),b2[v.i].edges.push(new Za(se,v,A)),b2[A.i].edges.push(new Za(se,A,v)),se}function Bo(v,A,U){var ee=new y6(v,null);return ee.a=A,ee.b=U,mt.push(ee),ee}function va(v,A,U,ee){v.a||v.b?v.l===U?v.b=ee:v.a=ee:(v.a=ee,v.l=A,v.r=U)}function Za(v,A,U){var ee=v.a,se=v.b;this.edge=v,this.site=A,this.angle=U?Math.atan2(U.y-A.y,U.x-A.x):v.l===A?Math.atan2(se.x-ee.x,ee.y-se.y):Math.atan2(ee.x-se.x,se.y-ee.y)}function $s(){this._=null}function T2(v){v.U=v.C=v.L=v.R=v.P=v.N=null}function Ai(v,A){var U=A,ee=A.R,se=U.U;se?se.L===U?se.L=ee:se.R=ee:v._=ee,ee.U=se,U.U=ee,U.R=ee.L,U.R&&(U.R.U=U),ee.L=U}function s3(v,A){var U=A,ee=A.L,se=U.U;se?se.L===U?se.L=ee:se.R=ee:v._=ee,ee.U=se,U.U=ee,U.L=ee.R,U.L&&(U.L.U=U),ee.R=U}function C4(v){for(;v.L;)v=v.L;return v}function ti(v,A){var U,ee,se,Ce=v.sort(h8).pop();for(mt=[],b2=new Array(v.length),mn=new $s,$2=new $s;;)if(se=G2,Ce&&(!se||Ce.y<se.y||Ce.y===se.y&&Ce.x<se.x))Ce.x===U&&Ce.y===ee||(b2[Ce.i]=new r2(Ce),H3(Ce),U=Ce.x,ee=Ce.y),Ce=v.pop();else{if(!se)break;J2(se.arc)}A&&(function(Te){for(var Se,He,Ee,i1,s1,y1=mt,A1=(He=Te[0][0],Ee=Te[0][1],i1=Te[1][0],s1=Te[1][1],function(x1){var u1,R1=x1.a,S1=x1.b,h1=R1.x,nt=R1.y,at=0,vt=1,Lt=S1.x-h1,Tt=S1.y-nt;if(u1=He-h1,Lt||!(u1>0)){if(u1/=Lt,Lt<0){if(u1<at)return;u1<vt&&(vt=u1)}else if(Lt>0){if(u1>vt)return;u1>at&&(at=u1)}if(u1=i1-h1,Lt||!(u1<0)){if(u1/=Lt,Lt<0){if(u1>vt)return;u1>at&&(at=u1)}else if(Lt>0){if(u1<at)return;u1<vt&&(vt=u1)}if(u1=Ee-nt,Tt||!(u1>0)){if(u1/=Tt,Tt<0){if(u1<at)return;u1<vt&&(vt=u1)}else if(Tt>0){if(u1>vt)return;u1>at&&(at=u1)}if(u1=s1-nt,Tt||!(u1<0)){if(u1/=Tt,Tt<0){if(u1>vt)return;u1>at&&(at=u1)}else if(Tt>0){if(u1<at)return;u1<vt&&(vt=u1)}return at>0&&(x1.a={x:h1+at*Lt,y:nt+at*Tt}),vt<1&&(x1.b={x:h1+vt*Lt,y:nt+vt*Tt}),x1}}}}}),p1=y1.length;p1--;)(!Pn(Se=y1[p1],Te)||!A1(Se)||S(Se.a.x-Se.b.x)<C1&&S(Se.a.y-Se.b.y)<C1)&&(Se.a=Se.b=null,y1.splice(p1,1))}(A),function(Te){for(var Se,He,Ee,i1,s1,y1,A1,p1,x1,u1,R1=Te[0][0],S1=Te[1][0],h1=Te[0][1],nt=Te[1][1],at=b2,vt=at.length;vt--;)if((s1=at[vt])&&s1.prepare())for(p1=(A1=s1.edges).length,y1=0;y1<p1;)Ee=(u1=A1[y1].end()).x,i1=u1.y,Se=(x1=A1[++y1%p1].start()).x,He=x1.y,(S(Ee-Se)>C1||S(i1-He)>C1)&&(A1.splice(y1,0,new Za(Bo(s1.site,u1,S(Ee-R1)<C1&&nt-i1>C1?{x:R1,y:S(Se-R1)<C1?He:nt}:S(i1-nt)<C1&&S1-Ee>C1?{x:S(He-nt)<C1?Se:S1,y:nt}:S(Ee-S1)<C1&&i1-h1>C1?{x:S1,y:S(Se-S1)<C1?He:h1}:S(i1-h1)<C1&&Ee-R1>C1?{x:S(He-h1)<C1?Se:R1,y:h1}:null),s1.site,null)),++p1)}(A));var _e={cells:b2,edges:mt};return mn=$2=mt=b2=null,_e}function h8(v,A){return A.y-v.y||A.x-v.x}r2.prototype.prepare=function(){for(var v,A=this.edges,U=A.length;U--;)(v=A[U].edge).b&&v.a||A.splice(U,1);return A.sort(kn),A.length},Za.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},$s.prototype={insert:function(v,A){var U,ee,se;if(v){if(A.P=v,A.N=v.N,v.N&&(v.N.P=A),v.N=A,v.R){for(v=v.R;v.L;)v=v.L;v.L=A}else v.R=A;U=v}else this._?(v=C4(this._),A.P=null,A.N=v,v.P=v.L=A,U=v):(A.P=A.N=null,this._=A,U=null);for(A.L=A.R=null,A.U=U,A.C=!0,v=A;U&&U.C;)U===(ee=U.U).L?(se=ee.R)&&se.C?(U.C=se.C=!1,ee.C=!0,v=ee):(v===U.R&&(Ai(this,U),U=(v=U).U),U.C=!1,ee.C=!0,s3(this,ee)):(se=ee.L)&&se.C?(U.C=se.C=!1,ee.C=!0,v=ee):(v===U.L&&(s3(this,U),U=(v=U).U),U.C=!1,ee.C=!0,Ai(this,ee)),U=v.U;this._.C=!1},remove:function(v){v.N&&(v.N.P=v.P),v.P&&(v.P.N=v.N),v.N=v.P=null;var A,U,ee,se=v.U,Ce=v.L,_e=v.R;if(U=Ce?_e?C4(_e):Ce:_e,se?se.L===v?se.L=U:se.R=U:this._=U,Ce&&_e?(ee=U.C,U.C=v.C,U.L=Ce,Ce.U=U,U!==_e?(se=U.U,U.U=v.U,se.L=v=U.R,U.R=_e,_e.U=U):(U.U=se,se=U,v=U.R)):(ee=v.C,v=U),v&&(v.U=se),!ee)if(v&&v.C)v.C=!1;else{do{if(v===this._)break;if(v===se.L){if((A=se.R).C&&(A.C=!1,se.C=!0,Ai(this,se),A=se.R),A.L&&A.L.C||A.R&&A.R.C){A.R&&A.R.C||(A.L.C=!1,A.C=!0,s3(this,A),A=se.R),A.C=se.C,se.C=A.R.C=!1,Ai(this,se),v=this._;break}}else if((A=se.L).C&&(A.C=!1,se.C=!0,s3(this,se),A=se.L),A.L&&A.L.C||A.R&&A.R.C){A.L&&A.L.C||(A.R.C=!1,A.C=!0,Ai(this,A),A=se.L),A.C=se.C,se.C=A.L.C=!1,s3(this,se),v=this._;break}A.C=!0,v=se,se=se.U}while(!v.C);v&&(v.C=!1)}}},o.geom.voronoi=function(v){var A=zt,U=y2,ee=A,se=U,Ce=_r;if(v)return _e(v);function _e(Se){var He=new Array(Se.length),Ee=Ce[0][0],i1=Ce[0][1],s1=Ce[1][0],y1=Ce[1][1];return ti(Te(Se),Ce).cells.forEach(function(A1,p1){var x1=A1.edges,u1=A1.site;(He[p1]=x1.length?x1.map(function(R1){var S1=R1.start();return[S1.x,S1.y]}):u1.x>=Ee&&u1.x<=s1&&u1.y>=i1&&u1.y<=y1?[[Ee,y1],[s1,y1],[s1,i1],[Ee,i1]]:[]).point=Se[p1]}),He}function Te(Se){return Se.map(function(He,Ee){return{x:Math.round(ee(He,Ee)/C1)*C1,y:Math.round(se(He,Ee)/C1)*C1,i:Ee}})}return _e.links=function(Se){return ti(Te(Se)).edges.filter(function(He){return He.l&&He.r}).map(function(He){return{source:Se[He.l.i],target:Se[He.r.i]}})},_e.triangles=function(Se){var He=[];return ti(Te(Se)).cells.forEach(function(Ee,i1){for(var s1,y1,A1,p1,x1=Ee.site,u1=Ee.edges.sort(kn),R1=-1,S1=u1.length,h1=u1[S1-1].edge,nt=h1.l===x1?h1.r:h1.l;++R1<S1;)s1=nt,nt=(h1=u1[R1].edge).l===x1?h1.r:h1.l,i1<s1.i&&i1<nt.i&&((y1=x1).x-(p1=nt).x)*((A1=s1).y-y1.y)-(y1.x-A1.x)*(p1.y-y1.y)<0&&He.push([Se[i1],Se[s1.i],Se[nt.i]])}),He},_e.x=function(Se){return arguments.length?(ee=ot(A=Se),_e):A},_e.y=function(Se){return arguments.length?(se=ot(U=Se),_e):U},_e.clipExtent=function(Se){return arguments.length?(Ce=null==Se?_r:Se,_e):Ce===_r?null:Ce},_e.size=function(Se){return arguments.length?_e.clipExtent(Se&&[[0,0],Se]):Ce===_r?null:Ce&&Ce[1]},_e};var _r=[[-1e6,-1e6],[1e6,1e6]];function t3(v){return v.x}function p8(v){return v.y}function Ja(v,A,U,ee,se,Ce){if(!v(A,U,ee,se,Ce)){var _e=.5*(U+se),Te=.5*(ee+Ce),Se=A.nodes;Se[0]&&Ja(v,Se[0],U,ee,_e,Te),Se[1]&&Ja(v,Se[1],_e,ee,se,Te),Se[2]&&Ja(v,Se[2],U,Te,_e,Ce),Se[3]&&Ja(v,Se[3],_e,Te,se,Ce)}}function Wr(v,A,U,ee,se,Ce,_e){var Te,Se=1/0;return function He(Ee,i1,s1,y1,A1){if(!(i1>Ce||s1>_e||y1<ee||A1<se)){if(p1=Ee.point){var p1,x1=A-Ee.x,u1=U-Ee.y,R1=x1*x1+u1*u1;if(R1<Se){var S1=Math.sqrt(Se=R1);ee=A-S1,se=U-S1,Ce=A+S1,_e=U+S1,Te=p1}}for(var h1=Ee.nodes,nt=.5*(i1+y1),at=.5*(s1+A1),vt=(U>=at)<<1|A>=nt,Lt=vt+4;vt<Lt;++vt)if(Ee=h1[3&vt])switch(3&vt){case 0:He(Ee,i1,s1,nt,at);break;case 1:He(Ee,nt,s1,y1,at);break;case 2:He(Ee,i1,at,nt,A1);break;case 3:He(Ee,nt,at,y1,A1)}}}(v,ee,se,Ce,_e),Te}function Uo(v,A){v=o.rgb(v),A=o.rgb(A);var U=v.r,ee=v.g,se=v.b,Ce=A.r-U,_e=A.g-ee,Te=A.b-se;return function(Se){return"#"+Ft(Math.round(U+Ce*Se))+Ft(Math.round(ee+_e*Se))+Ft(Math.round(se+Te*Se))}}function Ws(v,A){var U,ee={},se={};for(U in v)U in A?ee[U]=ya(v[U],A[U]):se[U]=v[U];for(U in A)U in v||(se[U]=A[U]);return function(Ce){for(U in ee)se[U]=ee[U](Ce);return se}}function g4(v,A){return v=+v,A=+A,function(U){return v*(1-U)+A*U}}function br(v,A){var U,ee,se,Ce=Hn.lastIndex=Mr.lastIndex=0,_e=-1,Te=[],Se=[];for(v+="",A+="";(U=Hn.exec(v))&&(ee=Mr.exec(A));)(se=ee.index)>Ce&&(se=A.slice(Ce,se),Te[_e]?Te[_e]+=se:Te[++_e]=se),(U=U[0])===(ee=ee[0])?Te[_e]?Te[_e]+=ee:Te[++_e]=ee:(Te[++_e]=null,Se.push({i:_e,x:g4(U,ee)})),Ce=Mr.lastIndex;return Ce<A.length&&(se=A.slice(Ce),Te[_e]?Te[_e]+=se:Te[++_e]=se),Te.length<2?Se[0]?(A=Se[0].x,function(He){return A(He)+""}):function(){return A}:(A=Se.length,function(He){for(var Ee,i1=0;i1<A;++i1)Te[(Ee=Se[i1]).i]=Ee.x(He);return Te.join("")})}o.geom.delaunay=function(v){return o.geom.voronoi().triangles(v)},o.geom.quadtree=function(v,A,U,ee,se){var Ce,_e=zt,Te=y2;if(Ce=arguments.length)return _e=t3,Te=p8,3===Ce&&(se=U,ee=A,U=A=0),Se(v);function Se(He){var Ee,i1,s1,y1,A1,p1,x1,u1,R1,S1=ot(_e),h1=ot(Te);if(null!=A)p1=A,x1=U,u1=ee,R1=se;else if(u1=R1=-(p1=x1=1/0),i1=[],s1=[],A1=He.length,Ce)for(y1=0;y1<A1;++y1)(Ee=He[y1]).x<p1&&(p1=Ee.x),Ee.y<x1&&(x1=Ee.y),Ee.x>u1&&(u1=Ee.x),Ee.y>R1&&(R1=Ee.y),i1.push(Ee.x),s1.push(Ee.y);else for(y1=0;y1<A1;++y1){var nt=+S1(Ee=He[y1],y1),at=+h1(Ee,y1);nt<p1&&(p1=nt),at<x1&&(x1=at),nt>u1&&(u1=nt),at>R1&&(R1=at),i1.push(nt),s1.push(at)}var vt=u1-p1,Lt=R1-x1;function Tt(jt,R2,Nn,$n,_t,Wt,x2,M2){if(!isNaN(Nn)&&!isNaN($n))if(jt.leaf){var X2=jt.x,dn=jt.y;if(null!=X2)if(S(X2-Nn)+S(dn-$n)<.01)Jt(jt,R2,Nn,$n,_t,Wt,x2,M2);else{var hn=jt.point;jt.x=jt.y=jt.point=null,Jt(jt,hn,X2,dn,_t,Wt,x2,M2),Jt(jt,R2,Nn,$n,_t,Wt,x2,M2)}else jt.x=Nn,jt.y=$n,jt.point=R2}else Jt(jt,R2,Nn,$n,_t,Wt,x2,M2)}function Jt(jt,R2,Nn,$n,_t,Wt,x2,M2){var X2=.5*(_t+x2),dn=.5*(Wt+M2),hn=Nn>=X2,Q2=$n>=dn,D3=Q2<<1|hn;jt.leaf=!1,hn?_t=X2:x2=X2,Q2?Wt=dn:M2=dn,Tt(jt=jt.nodes[D3]||(jt.nodes[D3]={leaf:!0,nodes:[],point:null,x:null,y:null}),R2,Nn,$n,_t,Wt,x2,M2)}vt>Lt?R1=x1+vt:u1=p1+Lt;var g2={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(jt){Tt(g2,jt,+S1(jt,++y1),+h1(jt,y1),p1,x1,u1,R1)},visit:function(jt){Ja(jt,g2,p1,x1,u1,R1)},find:function(jt){return Wr(g2,jt[0],jt[1],p1,x1,u1,R1)}};if(y1=-1,null==A){for(;++y1<A1;)Tt(g2,He[y1],i1[y1],s1[y1],p1,x1,u1,R1);--y1}else He.forEach(g2.add);return i1=s1=He=Ee=null,g2}return Se.x=function(He){return arguments.length?(_e=He,Se):_e},Se.y=function(He){return arguments.length?(Te=He,Se):Te},Se.extent=function(He){return arguments.length?(null==He?A=U=ee=se=null:(A=+He[0][0],U=+He[0][1],ee=+He[1][0],se=+He[1][1]),Se):null==A?null:[[A,U],[ee,se]]},Se.size=function(He){return arguments.length?(null==He?A=U=ee=se=null:(A=U=0,ee=+He[0],se=+He[1]),Se):null==A?null:[ee-A,se-U]},Se},o.interpolateRgb=Uo,o.interpolateObject=Ws,o.interpolateNumber=g4,o.interpolateString=br;var Hn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mr=new RegExp(Hn.source,"g");function ya(v,A){for(var U,ee=o.interpolators.length;--ee>=0&&!(U=o.interpolators[ee](v,A)););return U}function m4(v,A){var U,ee=[],se=[],Ce=v.length,_e=A.length,Te=Math.min(v.length,A.length);for(U=0;U<Te;++U)ee.push(ya(v[U],A[U]));for(;U<Ce;++U)se[U]=v[U];for(;U<_e;++U)se[U]=A[U];return function(Se){for(U=0;U<Te;++U)se[U]=ee[U](Se);return se}}o.interpolate=ya,o.interpolators=[function(v,A){var U=typeof A;return("string"===U?dt.has(A.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(A)?Uo:br:A instanceof l1?Uo:Array.isArray(A)?m4:"object"===U&&isNaN(A)?Ws:g4)(v,A)}],o.interpolateArray=m4;var gn=function(){return Q},ki=o.map({linear:gn,poly:function(v){return function(A){return Math.pow(A,v)}},quad:function(){return Qa},cubic:function(){return qs},sin:function(){return C8},exp:function(){return _6},circle:function(){return Ys},elastic:function(v,A){var U;return arguments.length<2&&(A=.45),arguments.length?U=A/Q1*Math.asin(1/v):(v=1,U=A/4),function(ee){return 1+v*Math.pow(2,-10*ee)*Math.sin((ee-U)*Q1/A)}},back:function(v){return v||(v=1.70158),function(A){return A*A*((v+1)*A-v)}},bounce:function(){return eo}}),Xa=o.map({in:Q,out:v4,"in-out":Er,"out-in":function(v){return Er(v4(v))}});function Rn(v){return function(A){return A<=0?0:A>=1?1:v(A)}}function v4(v){return function(A){return 1-v(1-A)}}function Er(v){return function(A){return.5*(A<.5?v(2*A):2-v(2-2*A))}}function Qa(v){return v*v}function qs(v){return v*v*v}function un(v){if(v<=0)return 0;if(v>=1)return 1;var A=v*v,U=A*v;return 4*(v<.5?U:3*(v-A)+U-.75)}function C8(v){return 1-Math.cos(v*$1)}function _6(v){return Math.pow(2,10*(v-1))}function Ys(v){return 1-Math.sqrt(1-v*v)}function eo(v){return v<1/2.75?7.5625*v*v:v<2/2.75?7.5625*(v-=1.5/2.75)*v+.75:v<2.5/2.75?7.5625*(v-=2.25/2.75)*v+.9375:7.5625*(v-=2.625/2.75)*v+.984375}function tn(v,A){return A-=v,function(U){return Math.round(v+A*U)}}function b6(v){var A,U,ee,se=[v.a,v.b],Ce=[v.c,v.d],_e=Ut(se),Te=jo(se,Ce),Se=Ut(((A=Ce)[0]+=(ee=-Te)*(U=se)[0],A[1]+=ee*U[1],A))||0;se[0]*Ce[1]<Ce[0]*se[1]&&(se[0]*=-1,se[1]*=-1,_e*=-1,Te*=-1),this.rotate=(_e?Math.atan2(se[1],se[0]):Math.atan2(-Ce[0],Ce[1]))*N1,this.translate=[v.e,v.f],this.scale=[_e,Se],this.skew=Se?Math.atan2(Te,Se)*N1:0}function jo(v,A){return v[0]*A[0]+v[1]*A[1]}function Ut(v){var A=Math.sqrt(jo(v,v));return A&&(v[0]/=A,v[1]/=A),A}o.ease=function(v){var A=v.indexOf("-"),U=A>=0?v.slice(0,A):v,ee=A>=0?v.slice(A+1):"in";return U=ki.get(U)||gn,Rn((ee=Xa.get(ee)||Q)(U.apply(null,g.call(arguments,1))))},o.interpolateHcl=function(v,A){v=o.hcl(v),A=o.hcl(A);var U=v.h,ee=v.c,se=v.l,Ce=A.h-U,_e=A.c-ee,Te=A.l-se;return isNaN(_e)&&(_e=0,ee=isNaN(ee)?A.c:ee),isNaN(Ce)?(Ce=0,U=isNaN(U)?A.h:U):Ce>180?Ce-=360:Ce<-180&&(Ce+=360),function(Se){return H1(U+Ce*Se,ee+_e*Se,se+Te*Se)+""}},o.interpolateHsl=function(v,A){v=o.hsl(v),A=o.hsl(A);var U=v.h,ee=v.s,se=v.l,Ce=A.h-U,_e=A.s-ee,Te=A.l-se;return isNaN(_e)&&(_e=0,ee=isNaN(ee)?A.s:ee),isNaN(Ce)?(Ce=0,U=isNaN(U)?A.h:U):Ce>180?Ce-=360:Ce<-180&&(Ce+=360),function(Se){return T1(U+Ce*Se,ee+_e*Se,se+Te*Se)+""}},o.interpolateLab=function(v,A){v=o.lab(v),A=o.lab(A);var U=v.l,ee=v.a,se=v.b,Ce=A.l-U,_e=A.a-ee,Te=A.b-se;return function(Se){return L1(U+Ce*Se,ee+_e*Se,se+Te*Se)+""}},o.interpolateRound=tn,o.transform=function(v){var A=l.createElementNS(o.ns.prefix.svg,"g");return(o.transform=function(U){if(null!=U){A.setAttribute("transform",U);var ee=A.transform.baseVal.consolidate()}return new b6(ee?ee.matrix:I3)})(v)},b6.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var I3={a:1,b:0,c:0,d:1,e:0,f:0};function Kn(v){return v.length?v.pop()+",":""}function y4(v,A){var se,Ce,_e,U=[],ee=[];return v=o.transform(v),A=o.transform(A),function(se,Ce,_e,Te){if(se[0]!==Ce[0]||se[1]!==Ce[1]){var Se=_e.push("translate(",null,",",null,")");Te.push({i:Se-4,x:g4(se[0],Ce[0])},{i:Se-2,x:g4(se[1],Ce[1])})}else(Ce[0]||Ce[1])&&_e.push("translate("+Ce+")")}(v.translate,A.translate,U,ee),_e=U,(se=v.rotate)!==(Ce=A.rotate)?(se-Ce>180?Ce+=360:Ce-se>180&&(se+=360),ee.push({i:_e.push(Kn(_e)+"rotate(",null,")")-2,x:g4(se,Ce)})):Ce&&_e.push(Kn(_e)+"rotate("+Ce+")"),function(se,Ce,_e,Te){se!==Ce?Te.push({i:_e.push(Kn(_e)+"skewX(",null,")")-2,x:g4(se,Ce)}):Ce&&_e.push(Kn(_e)+"skewX("+Ce+")")}(v.skew,A.skew,U,ee),function(se,Ce,_e,Te){if(se[0]!==Ce[0]||se[1]!==Ce[1]){var Se=_e.push(Kn(_e)+"scale(",null,",",null,")");Te.push({i:Se-4,x:g4(se[0],Ce[0])},{i:Se-2,x:g4(se[1],Ce[1])})}else 1===Ce[0]&&1===Ce[1]||_e.push(Kn(_e)+"scale("+Ce+")")}(v.scale,A.scale,U,ee),v=A=null,function(se){for(var Ce,_e=-1,Te=ee.length;++_e<Te;)U[(Ce=ee[_e]).i]=Ce.x(se);return U.join("")}}function zi(v,A){return A=(A-=v=+v)||1/A,function(U){return(U-v)/A}}function hr(v,A){return A=(A-=v=+v)||1/A,function(U){return Math.max(0,Math.min(1,(U-v)/A))}}function _a(v){for(var A=v.source,U=v.target,ee=function(_e,Te){if(_e===Te)return _e;for(var Se=Go(_e),He=Go(Te),Ee=Se.pop(),i1=He.pop(),s1=null;Ee===i1;)s1=Ee,Ee=Se.pop(),i1=He.pop();return s1}(A,U),se=[A];A!==ee;)se.push(A=A.parent);for(var Ce=se.length;U!==ee;)se.splice(Ce,0,U),U=U.parent;return se}function Go(v){for(var A=[],U=v.parent;null!=U;)A.push(v),v=U,U=U.parent;return A.push(v),A}function ba(v){v.fixed|=2}function $3(v){v.fixed&=-7}function E4(v){v.fixed|=4,v.px=v.x,v.py=v.y}function m3(v){v.fixed&=-5}o.interpolateTransform=y4,o.layout={},o.layout.bundle=function(){return function(v){for(var A=[],U=-1,ee=v.length;++U<ee;)A.push(_a(v[U]));return A}},o.layout.chord=function(){var v,A,U,ee,se,Ce,_e,Te={},Se=0;function He(){var i1,s1,y1,A1,p1,x1={},u1=[],R1=o.range(ee),S1=[];for(v=[],A=[],i1=0,A1=-1;++A1<ee;){for(s1=0,p1=-1;++p1<ee;)s1+=U[A1][p1];u1.push(s1),S1.push(o.range(ee)),i1+=s1}for(se&&R1.sort(function(g2,jt){return se(u1[g2],u1[jt])}),Ce&&S1.forEach(function(g2,jt){g2.sort(function(R2,Nn){return Ce(U[jt][R2],U[jt][Nn])})}),i1=(Q1-Se*ee)/i1,s1=0,A1=-1;++A1<ee;){for(y1=s1,p1=-1;++p1<ee;){var h1=R1[A1],nt=S1[h1][p1],at=U[h1][nt],vt=s1,Lt=s1+=at*i1;x1[h1+"-"+nt]={index:h1,subindex:nt,startAngle:vt,endAngle:Lt,value:at}}A[h1]={index:h1,startAngle:y1,endAngle:s1,value:u1[h1]},s1+=Se}for(A1=-1;++A1<ee;)for(p1=A1-1;++p1<ee;){var Tt=x1[A1+"-"+p1],Jt=x1[p1+"-"+A1];(Tt.value||Jt.value)&&v.push(Tt.value<Jt.value?{source:Jt,target:Tt}:{source:Tt,target:Jt})}_e&&Ee()}function Ee(){v.sort(function(i1,s1){return _e((i1.source.value+i1.target.value)/2,(s1.source.value+s1.target.value)/2)})}return Te.matrix=function(i1){return arguments.length?(ee=(U=i1)&&U.length,v=A=null,Te):U},Te.padding=function(i1){return arguments.length?(Se=i1,v=A=null,Te):Se},Te.sortGroups=function(i1){return arguments.length?(se=i1,v=A=null,Te):se},Te.sortSubgroups=function(i1){return arguments.length?(Ce=i1,v=null,Te):Ce},Te.sortChords=function(i1){return arguments.length?(_e=i1,v&&Ee(),Te):_e},Te.chords=function(){return v||He(),v},Te.groups=function(){return A||He(),A},Te},o.layout.force=function(){var v,A,U,ee,se,Ce,_e={},Te=o.dispatch("start","tick","end"),Se=[1,1],He=.9,Ee=M6,i1=xr,s1=-30,y1=t2,A1=.1,p1=.64,x1=[],u1=[];function R1(h1){return function(nt,at,vt,Lt){if(nt.point!==h1){var Tt=nt.cx-h1.x,Jt=nt.cy-h1.y,g2=Lt-at,jt=Tt*Tt+Jt*Jt;if(g2*g2/p1<jt){if(jt<y1){var R2=nt.charge/jt;h1.px-=Tt*R2,h1.py-=Jt*R2}return!0}nt.point&&jt&&jt<y1&&(h1.px-=Tt*(R2=nt.pointCharge/jt),h1.py-=Jt*R2)}return!nt.charge}}function S1(h1){h1.px=o.event.x,h1.py=o.event.y,_e.resume()}return _e.tick=function(){if((U*=.99)<.005)return v=null,Te.end({type:"end",alpha:U=0}),!0;var h1,nt,at,vt,Lt,Tt,Jt,g2,jt,R2=x1.length,Nn=u1.length;for(nt=0;nt<Nn;++nt)vt=(at=u1[nt]).source,(Tt=(g2=(Lt=at.target).x-vt.x)*g2+(jt=Lt.y-vt.y)*jt)&&(g2*=Tt=U*se[nt]*((Tt=Math.sqrt(Tt))-ee[nt])/Tt,jt*=Tt,Lt.x-=g2*(Jt=vt.weight+Lt.weight?vt.weight/(vt.weight+Lt.weight):.5),Lt.y-=jt*Jt,vt.x+=g2*(Jt=1-Jt),vt.y+=jt*Jt);if((Jt=U*A1)&&(g2=Se[0]/2,jt=Se[1]/2,nt=-1,Jt))for(;++nt<R2;)(at=x1[nt]).x+=(g2-at.x)*Jt,at.y+=(jt-at.y)*Jt;if(s1)for(function $n(_t,Wt,x2){var M2=0,X2=0;if(_t.charge=0,!_t.leaf)for(var dn,hn=_t.nodes,Q2=hn.length,D3=-1;++D3<Q2;)null!=(dn=hn[D3])&&($n(dn,Wt,x2),_t.charge+=dn.charge,M2+=dn.charge*dn.cx,X2+=dn.charge*dn.cy);if(_t.point){_t.leaf||(_t.point.x+=Math.random()-.5,_t.point.y+=Math.random()-.5);var A3=Wt*x2[_t.point.index];_t.charge+=_t.pointCharge=A3,M2+=A3*_t.point.x,X2+=A3*_t.point.y}_t.cx=M2/_t.charge,_t.cy=X2/_t.charge}(h1=o.geom.quadtree(x1),U,Ce),nt=-1;++nt<R2;)(at=x1[nt]).fixed||h1.visit(R1(at));for(nt=-1;++nt<R2;)(at=x1[nt]).fixed?(at.x=at.px,at.y=at.py):(at.x-=(at.px-(at.px=at.x))*He,at.y-=(at.py-(at.py=at.y))*He);Te.tick({type:"tick",alpha:U})},_e.nodes=function(h1){return arguments.length?(x1=h1,_e):x1},_e.links=function(h1){return arguments.length?(u1=h1,_e):u1},_e.size=function(h1){return arguments.length?(Se=h1,_e):Se},_e.linkDistance=function(h1){return arguments.length?(Ee="function"==typeof h1?h1:+h1,_e):Ee},_e.distance=_e.linkDistance,_e.linkStrength=function(h1){return arguments.length?(i1="function"==typeof h1?h1:+h1,_e):i1},_e.friction=function(h1){return arguments.length?(He=+h1,_e):He},_e.charge=function(h1){return arguments.length?(s1="function"==typeof h1?h1:+h1,_e):s1},_e.chargeDistance=function(h1){return arguments.length?(y1=h1*h1,_e):Math.sqrt(y1)},_e.gravity=function(h1){return arguments.length?(A1=+h1,_e):A1},_e.theta=function(h1){return arguments.length?(p1=h1*h1,_e):Math.sqrt(p1)},_e.alpha=function(h1){return arguments.length?(h1=+h1,U?h1>0?U=h1:(v.c=null,v.t=NaN,v=null,Te.end({type:"end",alpha:U=0})):h1>0&&(Te.start({type:"start",alpha:U=h1}),v=Bt(_e.tick)),_e):U},_e.start=function(){var h1,nt,at,vt=x1.length,Lt=u1.length,Tt=Se[0],Jt=Se[1];for(h1=0;h1<vt;++h1)(at=x1[h1]).index=h1,at.weight=0;for(h1=0;h1<Lt;++h1)"number"==typeof(at=u1[h1]).source&&(at.source=x1[at.source]),"number"==typeof at.target&&(at.target=x1[at.target]),++at.source.weight,++at.target.weight;for(h1=0;h1<vt;++h1)at=x1[h1],isNaN(at.x)&&(at.x=g2("x",Tt)),isNaN(at.y)&&(at.y=g2("y",Jt)),isNaN(at.px)&&(at.px=at.x),isNaN(at.py)&&(at.py=at.y);if(ee=[],"function"==typeof Ee)for(h1=0;h1<Lt;++h1)ee[h1]=+Ee.call(this,u1[h1],h1);else for(h1=0;h1<Lt;++h1)ee[h1]=Ee;if(se=[],"function"==typeof i1)for(h1=0;h1<Lt;++h1)se[h1]=+i1.call(this,u1[h1],h1);else for(h1=0;h1<Lt;++h1)se[h1]=i1;if(Ce=[],"function"==typeof s1)for(h1=0;h1<vt;++h1)Ce[h1]=+s1.call(this,x1[h1],h1);else for(h1=0;h1<vt;++h1)Ce[h1]=s1;function g2(jt,R2){if(!nt){for(nt=new Array(vt),Wt=0;Wt<vt;++Wt)nt[Wt]=[];for(Wt=0;Wt<Lt;++Wt){var Nn=u1[Wt];nt[Nn.source.index].push(Nn.target),nt[Nn.target.index].push(Nn.source)}}for(var $n,_t=nt[h1],Wt=-1,x2=_t.length;++Wt<x2;)if(!isNaN($n=_t[Wt][jt]))return $n;return Math.random()*R2}return _e.resume()},_e.resume=function(){return _e.alpha(.1)},_e.stop=function(){return _e.alpha(0)},_e.drag=function(){if(A||(A=o.behavior.drag().origin(Q).on("dragstart.force",ba).on("drag.force",S1).on("dragend.force",$3)),!arguments.length)return A;this.on("mouseover.force",E4).on("mouseout.force",m3).call(A)},o.rebind(_e,Te,"on")};var M6=20,xr=1,t2=1/0;function W2(v,A){return o.rebind(v,A,"sort","children","value"),v.nodes=v,v.links=l3,v}function On(v,A){for(var U=[v];null!=(v=U.pop());)if(A(v),(se=v.children)&&(ee=se.length))for(var ee,se;--ee>=0;)U.push(se[ee])}function n3(v,A){for(var U=[v],ee=[];null!=(v=U.pop());)if(ee.push(v),(Ce=v.children)&&(se=Ce.length))for(var se,Ce,_e=-1;++_e<se;)U.push(Ce[_e]);for(;null!=(v=ee.pop());)A(v)}function Ni(v){return v.children}function Zn(v){return v.value}function Ei(v,A){return A.value-v.value}function l3(v){return o.merge(v.map(function(A){return(A.children||[]).map(function(U){return{source:A,target:U}})}))}o.layout.hierarchy=function(){var v=Ei,A=Ni,U=Zn;function ee(se){var Ce,_e=[se],Te=[];for(se.depth=0;null!=(Ce=_e.pop());)if(Te.push(Ce),(He=A.call(ee,Ce,Ce.depth))&&(Se=He.length)){for(var Se,He,Ee;--Se>=0;)_e.push(Ee=He[Se]),Ee.parent=Ce,Ee.depth=Ce.depth+1;U&&(Ce.value=0),Ce.children=He}else U&&(Ce.value=+U.call(ee,Ce,Ce.depth)||0),delete Ce.children;return n3(se,function(i1){var s1,y1;v&&(s1=i1.children)&&s1.sort(v),U&&(y1=i1.parent)&&(y1.value+=i1.value)}),Te}return ee.sort=function(se){return arguments.length?(v=se,ee):v},ee.children=function(se){return arguments.length?(A=se,ee):A},ee.value=function(se){return arguments.length?(U=se,ee):U},ee.revalue=function(se){return U&&(On(se,function(Ce){Ce.children&&(Ce.value=0)}),n3(se,function(Ce){var _e;Ce.children||(Ce.value=+U.call(ee,Ce,Ce.depth)||0),(_e=Ce.parent)&&(_e.value+=Ce.value)})),se},ee},o.layout.partition=function(){var v=o.layout.hierarchy(),A=[1,1];function U(ee,se){var Ce=v.call(this,ee,se);return function _e(Te,Se,He,Ee){var i1=Te.children;if(Te.x=Se,Te.y=Te.depth*Ee,Te.dx=He,Te.dy=Ee,i1&&(s1=i1.length)){var s1,y1,A1,p1=-1;for(He=Te.value?He/Te.value:0;++p1<s1;)_e(y1=i1[p1],Se,A1=y1.value*He,Ee),Se+=A1}}(Ce[0],0,A[0],A[1]/function _e(Te){var Se=Te.children,He=0;if(Se&&(Ee=Se.length))for(var Ee,i1=-1;++i1<Ee;)He=Math.max(He,_e(Se[i1]));return 1+He}(Ce[0])),Ce}return U.size=function(ee){return arguments.length?(A=ee,U):A},W2(U,v)},o.layout.pie=function(){var v=Number,A=ni,U=0,ee=Q1,se=0;function Ce(_e){var Te,Se=_e.length,He=_e.map(function(R1,S1){return+v.call(Ce,R1,S1)}),Ee=+("function"==typeof U?U.apply(this,arguments):U),i1=("function"==typeof ee?ee.apply(this,arguments):ee)-Ee,s1=Math.min(Math.abs(i1)/Se,+("function"==typeof se?se.apply(this,arguments):se)),y1=s1*(i1<0?-1:1),A1=o.sum(He),p1=A1?(i1-Se*y1)/A1:0,x1=o.range(Se),u1=[];return null!=A&&x1.sort(A===ni?function(R1,S1){return He[S1]-He[R1]}:function(R1,S1){return A(_e[R1],_e[S1])}),x1.forEach(function(R1){u1[R1]={data:_e[R1],value:Te=He[R1],startAngle:Ee,endAngle:Ee+=Te*p1+y1,padAngle:s1}}),u1}return Ce.value=function(_e){return arguments.length?(v=_e,Ce):v},Ce.sort=function(_e){return arguments.length?(A=_e,Ce):A},Ce.startAngle=function(_e){return arguments.length?(U=_e,Ce):U},Ce.endAngle=function(_e){return arguments.length?(ee=_e,Ce):ee},Ce.padAngle=function(_e){return arguments.length?(se=_e,Ce):se},Ce};var ni={};function Oi(v){return v.x}function A2(v){return v.y}function Ii(v,A,U){v.y0=A,v.y=U}o.layout.stack=function(){var v=Q,A=ri,U=c3,ee=Ii,se=Oi,Ce=A2;function _e(Te,Se){if(!(s1=Te.length))return Te;var He=Te.map(function(R1,S1){return v.call(_e,R1,S1)}),Ee=He.map(function(R1){return R1.map(function(S1,h1){return[se.call(_e,S1,h1),Ce.call(_e,S1,h1)]})}),i1=A.call(_e,Ee,Se);He=o.permute(He,i1),Ee=o.permute(Ee,i1);var s1,y1,A1,p1,x1=U.call(_e,Ee,Se),u1=He[0].length;for(A1=0;A1<u1;++A1)for(ee.call(_e,He[0][A1],p1=x1[A1],Ee[0][A1][1]),y1=1;y1<s1;++y1)ee.call(_e,He[y1][A1],p1+=Ee[y1-1][A1][1],Ee[y1][A1][1]);return Te}return _e.values=function(Te){return arguments.length?(v=Te,_e):v},_e.order=function(Te){return arguments.length?(A="function"==typeof Te?Te:Ma.get(Te)||ri,_e):A},_e.offset=function(Te){return arguments.length?(U="function"==typeof Te?Te:Ks.get(Te)||c3,_e):U},_e.x=function(Te){return arguments.length?(se=Te,_e):se},_e.y=function(Te){return arguments.length?(Ce=Te,_e):Ce},_e.out=function(Te){return arguments.length?(ee=Te,_e):ee},_e};var Ma=o.map({"inside-out":function(v){var A,U,ee=v.length,se=v.map(rr),Ce=v.map(Pi),_e=o.range(ee).sort(function(i1,s1){return se[i1]-se[s1]}),Te=0,Se=0,He=[],Ee=[];for(A=0;A<ee;++A)U=_e[A],Te<Se?(Te+=Ce[U],He.push(U)):(Se+=Ce[U],Ee.push(U));return Ee.reverse().concat(He)},reverse:function(v){return o.range(v.length).reverse()},default:ri}),Ks=o.map({silhouette:function(v){var A,U,ee,se=v.length,Ce=v[0].length,_e=[],Te=0,Se=[];for(U=0;U<Ce;++U){for(A=0,ee=0;A<se;A++)ee+=v[A][U][1];ee>Te&&(Te=ee),_e.push(ee)}for(U=0;U<Ce;++U)Se[U]=(Te-_e[U])/2;return Se},wiggle:function(v){var A,U,ee,se,Ce,_e,Te,Se,He,Ee=v.length,i1=v[0],s1=i1.length,y1=[];for(y1[0]=Se=He=0,U=1;U<s1;++U){for(A=0,se=0;A<Ee;++A)se+=v[A][U][1];for(A=0,Ce=0,Te=i1[U][0]-i1[U-1][0];A<Ee;++A){for(ee=0,_e=(v[A][U][1]-v[A][U-1][1])/(2*Te);ee<A;++ee)_e+=(v[ee][U][1]-v[ee][U-1][1])/Te;Ce+=_e*v[A][U][1]}y1[U]=Se-=se?Ce/se*Te:0,Se<He&&(He=Se)}for(U=0;U<s1;++U)y1[U]-=He;return y1},expand:function(v){var A,U,ee,se=v.length,Ce=v[0].length,_e=1/se,Te=[];for(U=0;U<Ce;++U){for(A=0,ee=0;A<se;A++)ee+=v[A][U][1];if(ee)for(A=0;A<se;A++)v[A][U][1]/=ee;else for(A=0;A<se;A++)v[A][U][1]=_e}for(U=0;U<Ce;++U)Te[U]=0;return Te},zero:c3});function ri(v){return o.range(v.length)}function c3(v){for(var A=-1,U=v[0].length,ee=[];++A<U;)ee[A]=0;return ee}function rr(v){for(var A,U=1,ee=0,se=v[0][1],Ce=v.length;U<Ce;++U)(A=v[U][1])>se&&(ee=U,se=A);return ee}function Pi(v){return v.reduce(qr,0)}function qr(v,A){return v+A[1]}function Fn(v,A){return x6(v,Math.ceil(Math.log(A.length)/Math.LN2+1))}function x6(v,A){for(var U=-1,ee=+v[0],se=(v[1]-ee)/A,Ce=[];++U<=A;)Ce[U]=se*U+ee;return Ce}function g8(v){return[o.min(v),o.max(v)]}function _4(v,A){return v.value-A.value}function W3(v,A){var U=v._pack_next;v._pack_next=A,A._pack_prev=v,A._pack_next=U,U._pack_prev=A}function W1(v,A){v._pack_next=A,A._pack_prev=v}function Ct(v,A){var U=A.x-v.x,ee=A.y-v.y,se=v.r+A.r;return.999*se*se>U*U+ee*ee}function ct(v){if((A=v.children)&&(Se=A.length)){var A,U,ee,se,Ce,_e,Te,Se,He=1/0,Ee=-1/0,i1=1/0,s1=-1/0;if(A.forEach(Zt),(U=A[0]).x=-U.r,U.y=0,S1(U),Se>1&&((ee=A[1]).x=ee.r,ee.y=0,S1(ee),Se>2))for(Sn(U,ee,se=A[2]),S1(se),W3(U,se),U._pack_prev=se,W3(se,ee),ee=U._pack_next,Ce=3;Ce<Se;Ce++){Sn(U,ee,se=A[Ce]);var y1=0,A1=1,p1=1;for(_e=ee._pack_next;_e!==ee;_e=_e._pack_next,A1++)if(Ct(_e,se)){y1=1;break}if(1==y1)for(Te=U._pack_prev;Te!==_e._pack_prev&&!Ct(Te,se);Te=Te._pack_prev,p1++);y1?(A1<p1||A1==p1&&ee.r<U.r?W1(U,ee=_e):W1(U=Te,ee),Ce--):(W3(U,se),ee=se,S1(se))}var x1=(He+Ee)/2,u1=(i1+s1)/2,R1=0;for(Ce=0;Ce<Se;Ce++)(se=A[Ce]).x-=x1,se.y-=u1,R1=Math.max(R1,se.r+Math.sqrt(se.x*se.x+se.y*se.y));v.r=R1,A.forEach(P2)}function S1(h1){He=Math.min(h1.x-h1.r,He),Ee=Math.max(h1.x+h1.r,Ee),i1=Math.min(h1.y-h1.r,i1),s1=Math.max(h1.y+h1.r,s1)}}function Zt(v){v._pack_next=v._pack_prev=v}function P2(v){delete v._pack_next,delete v._pack_prev}function Sn(v,A,U){var ee=v.r+U.r,se=A.x-v.x,Ce=A.y-v.y;if(ee&&(se||Ce)){var _e=A.r+U.r,Te=se*se+Ce*Ce,Se=.5+((ee*=ee)-(_e*=_e))/(2*Te),He=Math.sqrt(Math.max(0,2*_e*(ee+Te)-(ee-=Te)*ee-_e*_e))/(2*Te);U.x=v.x+Se*se+He*Ce,U.y=v.y+Se*Ce-He*se}else U.x=v.x+ee,U.y=v.y}function v3(v,A){return v.parent==A.parent?1:2}function zn(v){var A=v.children;return A.length?A[0]:v.t}function $o(v){var A,U=v.children;return(A=U.length)?U[A-1]:v.t}function b7(v,A,U){var ee=U/(A.i-v.i);A.c-=ee,A.s+=U,v.c+=ee,A.z+=U,A.m+=U}function Yr(v,A,U){return v.a.parent===A.parent?v.a:U}function to(v){return{x:v.x,y:v.y,dx:v.dx,dy:v.dy}}function m8(v,A){var U=v.x+A[3],ee=v.y+A[0],se=v.dx-A[1]-A[3],Ce=v.dy-A[0]-A[2];return se<0&&(U+=se/2,se=0),Ce<0&&(ee+=Ce/2,Ce=0),{x:U,y:ee,dx:se,dy:Ce}}function ii(v){var A=v[0],U=v[v.length-1];return A<U?[A,U]:[U,A]}function xa(v){return v.rangeExtent?v.rangeExtent():ii(v.range())}function Zs(v,A,U,ee){var se=U(v[0],v[1]),Ce=ee(A[0],A[1]);return function(_e){return Ce(se(_e))}}function Vn(v,A){var U,ee=0,se=v.length-1,Ce=v[ee],_e=v[se];return _e<Ce&&(U=ee,ee=se,se=U,U=Ce,Ce=_e,_e=U),v[ee]=A.floor(Ce),v[se]=A.ceil(_e),v}function v8(v){return v?{floor:function(A){return Math.floor(A/v)*v},ceil:function(A){return Math.ceil(A/v)*v}}:y8}o.layout.histogram=function(){var v=!0,A=Number,U=g8,ee=Fn;function se(Ce,_e){for(var Te,Se,He=[],Ee=Ce.map(A,this),i1=U.call(this,Ee,_e),s1=ee.call(this,i1,Ee,_e),y1=(_e=-1,Ee.length),A1=s1.length-1,p1=v?1:1/y1;++_e<A1;)(Te=He[_e]=[]).dx=s1[_e+1]-(Te.x=s1[_e]),Te.y=0;if(A1>0)for(_e=-1;++_e<y1;)(Se=Ee[_e])>=i1[0]&&Se<=i1[1]&&((Te=He[o.bisect(s1,Se,1,A1)-1]).y+=p1,Te.push(Ce[_e]));return He}return se.value=function(Ce){return arguments.length?(A=Ce,se):A},se.range=function(Ce){return arguments.length?(U=ot(Ce),se):U},se.bins=function(Ce){return arguments.length?(ee="number"==typeof Ce?function(_e){return x6(_e,Ce)}:ot(Ce),se):ee},se.frequency=function(Ce){return arguments.length?(v=!!Ce,se):v},se},o.layout.pack=function(){var v,A=o.layout.hierarchy().sort(_4),U=0,ee=[1,1];function se(Ce,_e){var Te=A.call(this,Ce,_e),Se=Te[0],He=ee[0],Ee=ee[1],i1=null==v?Math.sqrt:"function"==typeof v?v:function(){return v};if(Se.x=Se.y=0,n3(Se,function(y1){y1.r=+i1(y1.value)}),n3(Se,ct),U){var s1=U*(v?1:Math.max(2*Se.r/He,2*Se.r/Ee))/2;n3(Se,function(y1){y1.r+=s1}),n3(Se,ct),n3(Se,function(y1){y1.r-=s1})}return function y1(A1,p1,x1,u1){var R1=A1.children;if(A1.x=p1+=u1*A1.x,A1.y=x1+=u1*A1.y,A1.r*=u1,R1)for(var S1=-1,h1=R1.length;++S1<h1;)y1(R1[S1],p1,x1,u1)}(Se,He/2,Ee/2,v?1:1/Math.max(2*Se.r/He,2*Se.r/Ee)),Te}return se.size=function(Ce){return arguments.length?(ee=Ce,se):ee},se.radius=function(Ce){return arguments.length?(v=null==Ce||"function"==typeof Ce?Ce:+Ce,se):v},se.padding=function(Ce){return arguments.length?(U=+Ce,se):U},W2(se,A)},o.layout.tree=function(){var v=o.layout.hierarchy().sort(null).value(null),A=v3,U=[1,1],ee=null;function se(Se,He){var Ee=v.call(this,Se,He),i1=Ee[0],s1=function(S1){for(var h1,nt={A:null,children:[S1]},at=[nt];null!=(h1=at.pop());)for(var vt,Lt=h1.children,Tt=0,Jt=Lt.length;Tt<Jt;++Tt)at.push((Lt[Tt]=vt={_:Lt[Tt],parent:h1,children:(vt=Lt[Tt].children)&&vt.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Tt}).a=vt);return nt.children[0]}(i1);if(n3(s1,Ce),s1.parent.m=-s1.z,On(s1,_e),ee)On(i1,Te);else{var y1=i1,A1=i1,p1=i1;On(i1,function(S1){S1.x<y1.x&&(y1=S1),S1.x>A1.x&&(A1=S1),S1.depth>p1.depth&&(p1=S1)});var x1=A(y1,A1)/2-y1.x,u1=U[0]/(A1.x+A(A1,y1)/2+x1),R1=U[1]/(p1.depth||1);On(i1,function(S1){S1.x=(S1.x+x1)*u1,S1.y=S1.depth*R1})}return Ee}function Ce(Se){var He=Se.children,Ee=Se.parent.children,i1=Se.i?Ee[Se.i-1]:null;if(He.length){!function(y1){for(var A1,p1=0,x1=0,u1=y1.children,R1=u1.length;--R1>=0;)(A1=u1[R1]).z+=p1,A1.m+=p1,p1+=A1.s+(x1+=A1.c)}(Se);var s1=(He[0].z+He[He.length-1].z)/2;i1?(Se.z=i1.z+A(Se._,i1._),Se.m=Se.z-s1):Se.z=s1}else i1&&(Se.z=i1.z+A(Se._,i1._));Se.parent.A=function(y1,A1,p1){if(A1){for(var x1,u1=y1,R1=y1,S1=A1,h1=u1.parent.children[0],nt=u1.m,at=R1.m,vt=S1.m,Lt=h1.m;S1=$o(S1),u1=zn(u1),S1&&u1;)h1=zn(h1),(R1=$o(R1)).a=y1,(x1=S1.z+vt-u1.z-nt+A(S1._,u1._))>0&&(b7(Yr(S1,y1,p1),y1,x1),nt+=x1,at+=x1),vt+=S1.m,nt+=u1.m,Lt+=h1.m,at+=R1.m;S1&&!$o(R1)&&(R1.t=S1,R1.m+=vt-at),u1&&!zn(h1)&&(h1.t=u1,h1.m+=nt-Lt,p1=y1)}return p1}(Se,i1,Se.parent.A||Ee[0])}function _e(Se){Se._.x=Se.z+Se.parent.m,Se.m+=Se.parent.m}function Te(Se){Se.x*=U[0],Se.y=Se.depth*U[1]}return se.separation=function(Se){return arguments.length?(A=Se,se):A},se.size=function(Se){return arguments.length?(ee=null==(U=Se)?Te:null,se):ee?null:U},se.nodeSize=function(Se){return arguments.length?(ee=null==(U=Se)?null:Te,se):ee?U:null},W2(se,v)},o.layout.cluster=function(){var v=o.layout.hierarchy().sort(null).value(null),A=v3,U=[1,1],ee=!1;function se(Ce,_e){var Te,Se=v.call(this,Ce,_e),He=Se[0],Ee=0;n3(He,function(p1){var u1,x1=p1.children;x1&&x1.length?(p1.x=(u1=x1).reduce(function(R1,S1){return R1+S1.x},0)/u1.length,p1.y=function(u1){return 1+o.max(u1,function(R1){return R1.y})}(x1)):(p1.x=Te?Ee+=A(p1,Te):0,p1.y=0,Te=p1)});var i1=function p1(x1){var u1=x1.children;return u1&&u1.length?p1(u1[0]):x1}(He),s1=function p1(x1){var u1,R1=x1.children;return R1&&(u1=R1.length)?p1(R1[u1-1]):x1}(He),y1=i1.x-A(i1,s1)/2,A1=s1.x+A(s1,i1)/2;return n3(He,ee?function(p1){p1.x=(p1.x-He.x)*U[0],p1.y=(He.y-p1.y)*U[1]}:function(p1){p1.x=(p1.x-y1)/(A1-y1)*U[0],p1.y=(1-(He.y?p1.y/He.y:1))*U[1]}),Se}return se.separation=function(Ce){return arguments.length?(A=Ce,se):A},se.size=function(Ce){return arguments.length?(ee=null==(U=Ce),se):ee?null:U},se.nodeSize=function(Ce){return arguments.length?(ee=null!=(U=Ce),se):ee?U:null},W2(se,v)},o.layout.treemap=function(){var v,A=o.layout.hierarchy(),U=Math.round,ee=[1,1],se=null,Ce=to,_e=!1,Te="squarify",Se=.5*(1+Math.sqrt(5));function He(p1,x1){for(var u1,R1,S1=-1,h1=p1.length;++S1<h1;)R1=(u1=p1[S1]).value*(x1<0?0:x1),u1.area=isNaN(R1)||R1<=0?0:R1}function Ee(p1){var x1=p1.children;if(x1&&x1.length){var u1,R1,S1,h1=Ce(p1),nt=[],at=x1.slice(),vt=1/0,Lt="slice"===Te?h1.dx:"dice"===Te?h1.dy:"slice-dice"===Te?1&p1.depth?h1.dy:h1.dx:Math.min(h1.dx,h1.dy);for(He(at,h1.dx*h1.dy/p1.value),nt.area=0;(S1=at.length)>0;)nt.push(u1=at[S1-1]),nt.area+=u1.area,"squarify"!==Te||(R1=s1(nt,Lt))<=vt?(at.pop(),vt=R1):(nt.area-=nt.pop().area,y1(nt,Lt,h1,!1),Lt=Math.min(h1.dx,h1.dy),nt.length=nt.area=0,vt=1/0);nt.length&&(y1(nt,Lt,h1,!0),nt.length=nt.area=0),x1.forEach(Ee)}}function i1(p1){var x1=p1.children;if(x1&&x1.length){var u1,R1=Ce(p1),S1=x1.slice(),h1=[];for(He(S1,R1.dx*R1.dy/p1.value),h1.area=0;u1=S1.pop();)h1.push(u1),h1.area+=u1.area,null!=u1.z&&(y1(h1,u1.z?R1.dx:R1.dy,R1,!S1.length),h1.length=h1.area=0);x1.forEach(i1)}}function s1(p1,x1){for(var u1,R1=p1.area,S1=0,h1=1/0,nt=-1,at=p1.length;++nt<at;)(u1=p1[nt].area)&&(u1<h1&&(h1=u1),u1>S1&&(S1=u1));return x1*=x1,(R1*=R1)?Math.max(x1*S1*Se/R1,R1/(x1*h1*Se)):1/0}function y1(p1,x1,u1,R1){var S1,h1=-1,nt=p1.length,at=u1.x,vt=u1.y,Lt=x1?U(p1.area/x1):0;if(x1==u1.dx){for((R1||Lt>u1.dy)&&(Lt=u1.dy);++h1<nt;)(S1=p1[h1]).x=at,S1.y=vt,S1.dy=Lt,at+=S1.dx=Math.min(u1.x+u1.dx-at,Lt?U(S1.area/Lt):0);S1.z=!0,S1.dx+=u1.x+u1.dx-at,u1.y+=Lt,u1.dy-=Lt}else{for((R1||Lt>u1.dx)&&(Lt=u1.dx);++h1<nt;)(S1=p1[h1]).x=at,S1.y=vt,S1.dx=Lt,vt+=S1.dy=Math.min(u1.y+u1.dy-vt,Lt?U(S1.area/Lt):0);S1.z=!1,S1.dy+=u1.y+u1.dy-vt,u1.x+=Lt,u1.dx-=Lt}}function A1(p1){var x1=v||A(p1),u1=x1[0];return u1.x=u1.y=0,u1.value?(u1.dx=ee[0],u1.dy=ee[1]):u1.dx=u1.dy=0,v&&A.revalue(u1),He([u1],u1.dx*u1.dy/u1.value),(v?i1:Ee)(u1),_e&&(v=x1),x1}return A1.size=function(p1){return arguments.length?(ee=p1,A1):ee},A1.padding=function(p1){if(!arguments.length)return se;function x1(S1){var h1=p1.call(A1,S1,S1.depth);return null==h1?to(S1):m8(S1,"number"==typeof h1?[h1,h1,h1,h1]:h1)}function u1(S1){return m8(S1,p1)}var R1;return Ce=null==(se=p1)?to:"function"==(R1=typeof p1)?x1:("number"===R1&&(p1=[p1,p1,p1,p1]),u1),A1},A1.round=function(p1){return arguments.length?(U=p1?Math.round:Number,A1):U!=Number},A1.sticky=function(p1){return arguments.length?(_e=p1,v=null,A1):_e},A1.ratio=function(p1){return arguments.length?(Se=p1,A1):Se},A1.mode=function(p1){return arguments.length?(Te=p1+"",A1):Te},W2(A1,A)},o.random={normal:function(v,A){var U=arguments.length;return U<2&&(A=1),U<1&&(v=0),function(){var ee,se,Ce;do{Ce=(ee=2*Math.random()-1)*ee+(se=2*Math.random()-1)*se}while(!Ce||Ce>1);return v+A*ee*Math.sqrt(-2*Math.log(Ce)/Ce)}},logNormal:function(){var v=o.random.normal.apply(o,arguments);return function(){return Math.exp(v())}},bates:function(v){var A=o.random.irwinHall(v);return function(){return A()/v}},irwinHall:function(v){return function(){for(var A=0,U=0;U<v;U++)A+=Math.random();return A}}},o.scale={};var y8={floor:Q,ceil:Q};function Js(v,A,U,ee){var se=[],Ce=[],_e=0,Te=Math.min(v.length,A.length)-1;for(v[Te]<v[0]&&(v=v.slice().reverse(),A=A.slice().reverse());++_e<=Te;)se.push(U(v[_e-1],v[_e])),Ce.push(ee(A[_e-1],A[_e]));return function(Se){var He=o.bisect(v,Se,1,Te)-1;return Ce[He](se[He](Se))}}function _8(v,A){return o.rebind(v,A,"range","rangeRound","interpolate","clamp")}function b8(v,A){return Vn(v,v8(Wo(v,A)[2])),Vn(v,v8(Wo(v,A)[2])),v}function Wo(v,A){null==A&&(A=10);var U=ii(v),ee=U[1]-U[0],se=Math.pow(10,Math.floor(Math.log(ee/A)/Math.LN10)),Ce=A/ee*se;return Ce<=.15?se*=10:Ce<=.35?se*=5:Ce<=.75&&(se*=2),U[0]=Math.ceil(U[0]/se)*se,U[1]=Math.floor(U[1]/se)*se+.5*se,U[2]=se,U}function ai(v,A){return o.range.apply(o,Wo(v,A))}o.scale.linear=function(){return function v(A,U,ee,se){var Ce,_e;function Te(){var He=Math.min(A.length,U.length)>2?Js:Zs,Ee=se?hr:zi;return Ce=He(A,U,Ee,ee),_e=He(U,A,Ee,ya),Se}function Se(He){return Ce(He)}return Se.invert=function(He){return _e(He)},Se.domain=function(He){return arguments.length?(A=He.map(Number),Te()):A},Se.range=function(He){return arguments.length?(U=He,Te()):U},Se.rangeRound=function(He){return Se.range(He).interpolate(tn)},Se.clamp=function(He){return arguments.length?(se=He,Te()):se},Se.interpolate=function(He){return arguments.length?(ee=He,Te()):ee},Se.ticks=function(He){return ai(A,He)},Se.tickFormat=function(He,Ee){return d3_scale_linearTickFormat(A,He,Ee)},Se.nice=function(He){return b8(A,He),Te()},Se.copy=function(){return v(A,U,ee,se)},Te()}([0,1],[0,1],ya,!1)},o.scale.log=function(){return function v(A,U,ee,se){function Ce(Se){return(ee?Math.log(Se<0?0:Se):-Math.log(Se>0?0:-Se))/Math.log(U)}function _e(Se){return ee?Math.pow(U,Se):-Math.pow(U,-Se)}function Te(Se){return A(Ce(Se))}return Te.invert=function(Se){return _e(A.invert(Se))},Te.domain=function(Se){return arguments.length?(ee=Se[0]>=0,A.domain((se=Se.map(Number)).map(Ce)),Te):se},Te.base=function(Se){return arguments.length?(U=+Se,A.domain(se.map(Ce)),Te):U},Te.nice=function(){var Se=Vn(se.map(Ce),ee?Math:Ri);return A.domain(Se),se=Se.map(_e),Te},Te.ticks=function(){var Se=ii(se),He=[],Ee=Se[0],i1=Se[1],s1=Math.floor(Ce(Ee)),y1=Math.ceil(Ce(i1)),A1=U%1?2:U;if(isFinite(y1-s1)){if(ee){for(;s1<y1;s1++)for(var p1=1;p1<A1;p1++)He.push(_e(s1)*p1);He.push(_e(s1))}else for(He.push(_e(s1));s1++<y1;)for(p1=A1-1;p1>0;p1--)He.push(_e(s1)*p1);for(s1=0;He[s1]<Ee;s1++);for(y1=He.length;He[y1-1]>i1;y1--);He=He.slice(s1,y1)}return He},Te.copy=function(){return v(A.copy(),U,ee,se)},_8(Te,A)}(o.scale.linear().domain([0,1]),10,!0,[1,10])};var Ri={floor:function(v){return-Math.ceil(-v)},ceil:function(v){return-Math.floor(-v)}};function wa(v){return function(A){return A<0?-Math.pow(-A,v):Math.pow(A,v)}}o.scale.pow=function(){return function v(A,U,ee){var se=wa(U),Ce=wa(1/U);function _e(Te){return A(se(Te))}return _e.invert=function(Te){return Ce(A.invert(Te))},_e.domain=function(Te){return arguments.length?(A.domain((ee=Te.map(Number)).map(se)),_e):ee},_e.ticks=function(Te){return ai(ee,Te)},_e.tickFormat=function(Te,Se){return d3_scale_linearTickFormat(ee,Te,Se)},_e.nice=function(Te){return _e.domain(b8(ee,Te))},_e.exponent=function(Te){return arguments.length?(se=wa(U=Te),Ce=wa(1/U),A.domain(ee.map(se)),_e):U},_e.copy=function(){return v(A.copy(),U,ee)},_8(_e,A)}(o.scale.linear(),1,[0,1])},o.scale.sqrt=function(){return o.scale.pow().exponent(.5)},o.scale.ordinal=function(){return function v(A,U){var ee,se,Ce;function _e(Se){return se[((ee.get(Se)||("range"===U.t?ee.set(Se,A.push(Se)):NaN))-1)%se.length]}function Te(Se,He){return o.range(A.length).map(function(Ee){return Se+He*Ee})}return _e.domain=function(Se){if(!arguments.length)return A;A=[],ee=new E;for(var He,Ee=-1,i1=Se.length;++Ee<i1;)ee.has(He=Se[Ee])||ee.set(He,A.push(He));return _e[U.t].apply(_e,U.a)},_e.range=function(Se){return arguments.length?(se=Se,Ce=0,U={t:"range",a:arguments},_e):se},_e.rangePoints=function(Se,He){arguments.length<2&&(He=0);var Ee=Se[0],i1=Se[1],s1=A.length<2?(Ee=(Ee+i1)/2,0):(i1-Ee)/(A.length-1+He);return se=Te(Ee+s1*He/2,s1),Ce=0,U={t:"rangePoints",a:arguments},_e},_e.rangeRoundPoints=function(Se,He){arguments.length<2&&(He=0);var Ee=Se[0],i1=Se[1],s1=A.length<2?(Ee=i1=Math.round((Ee+i1)/2),0):(i1-Ee)/(A.length-1+He)|0;return se=Te(Ee+Math.round(s1*He/2+(i1-Ee-(A.length-1+He)*s1)/2),s1),Ce=0,U={t:"rangeRoundPoints",a:arguments},_e},_e.rangeBands=function(Se,He,Ee){arguments.length<2&&(He=0),arguments.length<3&&(Ee=He);var i1=Se[1]<Se[0],s1=Se[i1-0],A1=(Se[1-i1]-s1)/(A.length-He+2*Ee);return se=Te(s1+A1*Ee,A1),i1&&se.reverse(),Ce=A1*(1-He),U={t:"rangeBands",a:arguments},_e},_e.rangeRoundBands=function(Se,He,Ee){arguments.length<2&&(He=0),arguments.length<3&&(Ee=He);var i1=Se[1]<Se[0],s1=Se[i1-0],y1=Se[1-i1],A1=Math.floor((y1-s1)/(A.length-He+2*Ee));return se=Te(s1+Math.round((y1-s1-(A.length-He)*A1)/2),A1),i1&&se.reverse(),Ce=Math.round(A1*(1-He)),U={t:"rangeRoundBands",a:arguments},_e},_e.rangeBand=function(){return Ce},_e.rangeExtent=function(){return ii(U.a[0])},_e.copy=function(){return v(A,U)},_e.domain(A)}([],{t:"range",a:[[]]})},o.scale.category10=function(){return o.scale.ordinal().range(M8)},o.scale.category20=function(){return o.scale.ordinal().range(b4)},o.scale.category20b=function(){return o.scale.ordinal().range(w6)},o.scale.category20c=function(){return o.scale.ordinal().range(Jn)};var M8=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(yt),b4=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(yt),w6=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(yt),Jn=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(yt);function no(){return 0}o.scale.quantile=function(){return function v(A,U){var ee;function se(){var _e=0,Te=U.length;for(ee=[];++_e<Te;)ee[_e-1]=o.quantile(A,_e/Te);return Ce}function Ce(_e){if(!isNaN(_e=+_e))return U[o.bisect(ee,_e)]}return Ce.domain=function(_e){return arguments.length?(A=_e.map(w).filter(N).sort(M),se()):A},Ce.range=function(_e){return arguments.length?(U=_e,se()):U},Ce.quantiles=function(){return ee},Ce.invertExtent=function(_e){return(_e=U.indexOf(_e))<0?[NaN,NaN]:[_e>0?ee[_e-1]:A[0],_e<ee.length?ee[_e]:A[A.length-1]]},Ce.copy=function(){return v(A,U)},se()}([],[])},o.scale.quantize=function(){return function v(A,U,ee){var se,Ce;function _e(Se){return ee[Math.max(0,Math.min(Ce,Math.floor(se*(Se-A))))]}function Te(){return se=ee.length/(U-A),Ce=ee.length-1,_e}return _e.domain=function(Se){return arguments.length?(A=+Se[0],U=+Se[Se.length-1],Te()):[A,U]},_e.range=function(Se){return arguments.length?(ee=Se,Te()):ee},_e.invertExtent=function(Se){return[Se=(Se=ee.indexOf(Se))<0?NaN:Se/se+A,Se+1/se]},_e.copy=function(){return v(A,U,ee)},Te()}(0,1,[0,1])},o.scale.threshold=function(){return function v(A,U){function ee(se){if(se<=se)return U[o.bisect(A,se)]}return ee.domain=function(se){return arguments.length?(A=se,ee):A},ee.range=function(se){return arguments.length?(U=se,ee):U},ee.invertExtent=function(se){return se=U.indexOf(se),[A[se-1],A[se]]},ee.copy=function(){return v(A,U)},ee}([.5],[0,1])},o.scale.identity=function(){return function v(A){function U(ee){return+ee}return U.invert=U,U.domain=U.range=function(ee){return arguments.length?(A=ee.map(U),U):A},U.ticks=function(ee){return ai(A,ee)},U.tickFormat=function(ee,se){return d3_scale_linearTickFormat(A,ee,se)},U.copy=function(){return v(A)},U}([0,1])},o.svg={},o.svg.arc=function(){var v=io,A=oi,U=no,ee=ro,se=La,Ce=L6,_e=Xs;function Te(){var He=Math.max(0,+v.apply(this,arguments)),Ee=Math.max(0,+A.apply(this,arguments)),i1=se.apply(this,arguments)-$1,s1=Ce.apply(this,arguments)-$1,y1=Math.abs(s1-i1),A1=i1>s1?0:1;if(Ee<He&&(p1=Ee,Ee=He,He=p1),y1>=st)return Se(Ee,A1)+(He?Se(He,1-A1):"")+"Z";var p1,x1,u1,R1,S1,h1,nt,at,vt,Lt,Tt,Jt,g2=0,jt=0,R2=[];if((R1=(+_e.apply(this,arguments)||0)/2)&&(u1=ee===ro?Math.sqrt(He*He+Ee*Ee):+ee.apply(this,arguments),A1||(jt*=-1),Ee&&(jt=ge(u1/Ee*Math.sin(R1))),He&&(g2=ge(u1/He*Math.sin(R1)))),Ee){S1=Ee*Math.cos(i1+jt),h1=Ee*Math.sin(i1+jt),nt=Ee*Math.cos(s1-jt),at=Ee*Math.sin(s1-jt);var Nn=Math.abs(s1-i1-2*jt)<=O1?0:1;if(jt&&qo(S1,h1,nt,at)===A1^Nn){var $n=(i1+s1)/2;S1=Ee*Math.cos($n),h1=Ee*Math.sin($n),nt=at=null}}else S1=h1=0;if(He){vt=He*Math.cos(s1-g2),Lt=He*Math.sin(s1-g2),Tt=He*Math.cos(i1+g2),Jt=He*Math.sin(i1+g2);var _t=Math.abs(i1-s1+2*g2)<=O1?0:1;if(g2&&qo(vt,Lt,Tt,Jt)===1-A1^_t){var Wt=(i1+s1)/2;vt=He*Math.cos(Wt),Lt=He*Math.sin(Wt),Tt=Jt=null}}else vt=Lt=0;if(y1>C1&&(p1=Math.min(Math.abs(Ee-He)/2,+U.apply(this,arguments)))>.001){x1=He<Ee^A1?0:1;var x2=p1,M2=p1;if(y1<O1){var X2=null==Tt?[vt,Lt]:null==nt?[S1,h1]:e2([S1,h1],[Tt,Jt],[nt,at],[vt,Lt]),dn=S1-X2[0],hn=h1-X2[1],Q2=nt-X2[0],D3=at-X2[1],A3=1/Math.sin(Math.acos((dn*Q2+hn*D3)/(Math.sqrt(dn*dn+hn*hn)*Math.sqrt(Q2*Q2+D3*D3)))/2),Gn=Math.sqrt(X2[0]*X2[0]+X2[1]*X2[1]);M2=Math.min(p1,(He-Gn)/(A3-1)),x2=Math.min(p1,(Ee-Gn)/(A3+1))}if(null!=nt){var y3=V3(null==Tt?[vt,Lt]:[Tt,Jt],[S1,h1],Ee,x2,A1),k3=V3([nt,at],[vt,Lt],Ee,x2,A1);p1===x2?R2.push("M",y3[0],"A",x2,",",x2," 0 0,",x1," ",y3[1],"A",Ee,",",Ee," 0 ",1-A1^qo(y3[1][0],y3[1][1],k3[1][0],k3[1][1]),",",A1," ",k3[1],"A",x2,",",x2," 0 0,",x1," ",k3[0]):R2.push("M",y3[0],"A",x2,",",x2," 0 1,",x1," ",k3[0])}else R2.push("M",S1,",",h1);if(null!=Tt){var Y3=V3([S1,h1],[Tt,Jt],He,-M2,A1),Ui=V3([vt,Lt],null==nt?[S1,h1]:[nt,at],He,-M2,A1);p1===M2?R2.push("L",Ui[0],"A",M2,",",M2," 0 0,",x1," ",Ui[1],"A",He,",",He," 0 ",A1^qo(Ui[1][0],Ui[1][1],Y3[1][0],Y3[1][1]),",",1-A1," ",Y3[1],"A",M2,",",M2," 0 0,",x1," ",Y3[0]):R2.push("L",Ui[0],"A",M2,",",M2," 0 0,",x1," ",Y3[0])}else R2.push("L",vt,",",Lt)}else R2.push("M",S1,",",h1),null!=nt&&R2.push("A",Ee,",",Ee," 0 ",Nn,",",A1," ",nt,",",at),R2.push("L",vt,",",Lt),null!=Tt&&R2.push("A",He,",",He," 0 ",_t,",",1-A1," ",Tt,",",Jt);return R2.push("Z"),R2.join("")}function Se(He,Ee){return"M0,"+He+"A"+He+","+He+" 0 1,"+Ee+" 0,"+-He+"A"+He+","+He+" 0 1,"+Ee+" 0,"+He}return Te.innerRadius=function(He){return arguments.length?(v=ot(He),Te):v},Te.outerRadius=function(He){return arguments.length?(A=ot(He),Te):A},Te.cornerRadius=function(He){return arguments.length?(U=ot(He),Te):U},Te.padRadius=function(He){return arguments.length?(ee=He==ro?ro:ot(He),Te):ee},Te.startAngle=function(He){return arguments.length?(se=ot(He),Te):se},Te.endAngle=function(He){return arguments.length?(Ce=ot(He),Te):Ce},Te.padAngle=function(He){return arguments.length?(_e=ot(He),Te):_e},Te.centroid=function(){var He=(+v.apply(this,arguments)+ +A.apply(this,arguments))/2,Ee=(+se.apply(this,arguments)+ +Ce.apply(this,arguments))/2-$1;return[Math.cos(Ee)*He,Math.sin(Ee)*He]},Te};var ro="auto";function io(v){return v.innerRadius}function oi(v){return v.outerRadius}function La(v){return v.startAngle}function L6(v){return v.endAngle}function Xs(v){return v&&v.padAngle}function qo(v,A,U,ee){return(v-U)*A-(A-ee)*v>0?0:1}function V3(v,A,U,ee,se){var Ce=v[0]-A[0],_e=v[1]-A[1],Te=(se?ee:-ee)/Math.sqrt(Ce*Ce+_e*_e),Se=Te*_e,He=-Te*Ce,Ee=v[0]+Se,i1=v[1]+He,s1=A[0]+Se,y1=A[1]+He,A1=(Ee+s1)/2,p1=(i1+y1)/2,x1=s1-Ee,u1=y1-i1,R1=x1*x1+u1*u1,S1=U-ee,h1=Ee*y1-s1*i1,nt=(u1<0?-1:1)*Math.sqrt(Math.max(0,S1*S1*R1-h1*h1)),at=(h1*u1-x1*nt)/R1,vt=(-h1*x1-u1*nt)/R1,Lt=(h1*u1+x1*nt)/R1,Tt=(-h1*x1+u1*nt)/R1,Jt=at-A1,g2=vt-p1,jt=Lt-A1,R2=Tt-p1;return Jt*Jt+g2*g2>jt*jt+R2*R2&&(at=Lt,vt=Tt),[[at-Se,vt-He],[at*U/S1,vt*U/S1]]}function Fi(){return!0}function Yo(v){var A=zt,U=y2,ee=Fi,se=Or,Ce=se.key,_e=.7;function Te(Se){var He,Ee=[],i1=[],s1=-1,y1=Se.length,A1=ot(A),p1=ot(U);function x1(){Ee.push("M",se(v(i1),_e))}for(;++s1<y1;)ee.call(this,He=Se[s1],s1)?i1.push([+A1.call(this,He,s1),+p1.call(this,He,s1)]):i1.length&&(x1(),i1=[]);return i1.length&&x1(),Ee.length?Ee.join(""):null}return Te.x=function(Se){return arguments.length?(A=Se,Te):A},Te.y=function(Se){return arguments.length?(U=Se,Te):U},Te.defined=function(Se){return arguments.length?(ee=Se,Te):ee},Te.interpolate=function(Se){return arguments.length?(Ce="function"==typeof Se?se=Se:(se=ao.get(Se)||Or).key,Te):Ce},Te.tension=function(Se){return arguments.length?(_e=Se,Te):_e},Te}o.svg.line=function(){return Yo(Q)};var ao=o.map({linear:Or,"linear-closed":D6,step:function(v){for(var A=0,U=v.length,ee=v[0],se=[ee[0],",",ee[1]];++A<U;)se.push("H",(ee[0]+(ee=v[A])[0])/2,"V",ee[1]);return U>1&&se.push("H",ee[0]),se.join("")},"step-before":oo,"step-after":u3,basis:Xn,"basis-open":function(v){if(v.length<4)return Or(v);for(var A,U=[],ee=-1,se=v.length,Ce=[0],_e=[0];++ee<3;)Ce.push((A=v[ee])[0]),_e.push(A[1]);for(U.push(pr(Ir,Ce)+","+pr(Ir,_e)),--ee;++ee<se;)A=v[ee],Ce.shift(),Ce.push(A[0]),_e.shift(),_e.push(A[1]),Ko(U,Ce,_e);return U.join("")},"basis-closed":function(v){for(var A,U,ee=-1,se=v.length,Ce=se+4,_e=[],Te=[];++ee<4;)_e.push((U=v[ee%se])[0]),Te.push(U[1]);for(A=[pr(Ir,_e),",",pr(Ir,Te)],--ee;++ee<Ce;)U=v[ee%se],_e.shift(),_e.push(U[0]),Te.shift(),Te.push(U[1]),Ko(A,_e,Te);return A.join("")},bundle:function(v,A){var U=v.length-1;if(U)for(var ee,se,Ce=v[0][0],_e=v[0][1],Te=v[U][0]-Ce,Se=v[U][1]-_e,He=-1;++He<=U;)(ee=v[He])[0]=A*ee[0]+(1-A)*(Ce+(se=He/U)*Te),ee[1]=A*ee[1]+(1-A)*(_e+se*Se);return Xn(v)},cardinal:function(v,A){return v.length<3?Or(v):v[0]+f3(v,S6(v,A))},"cardinal-open":function(v,A){return v.length<4?Or(v):v[1]+f3(v.slice(1,-1),S6(v,A))},"cardinal-closed":function(v,A){return v.length<3?D6(v):v[0]+f3((v.push(v[0]),v),S6([v[v.length-2]].concat(v,[v[1]]),A))},monotone:function(v){return v.length<3?Or(v):v[0]+f3(v,function(A){for(var U,ee,se,Ce,_e=[],Te=function(Ee){for(var i1=0,s1=Ee.length-1,y1=[],A1=Ee[0],p1=Ee[1],x1=y1[0]=Kr(A1,p1);++i1<s1;)y1[i1]=(x1+(x1=Kr(A1=p1,p1=Ee[i1+1])))/2;return y1[i1]=x1,y1}(A),Se=-1,He=A.length-1;++Se<He;)U=Kr(A[Se],A[Se+1]),S(U)<C1?Te[Se]=Te[Se+1]=0:(Ce=(ee=Te[Se]/U)*ee+(se=Te[Se+1]/U)*se)>9&&(Ce=3*U/Math.sqrt(Ce),Te[Se]=Ce*ee,Te[Se+1]=Ce*se);for(Se=-1;++Se<=He;)Ce=(A[Math.min(He,Se+1)][0]-A[Math.max(0,Se-1)][0])/(6*(1+Te[Se]*Te[Se])),_e.push([Ce||0,Te[Se]*Ce||0]);return _e}(v))}});function Or(v){return v.length>1?v.join("L"):v+"Z"}function D6(v){return v.join("L")+"Z"}function oo(v){for(var A=0,U=v.length,ee=v[0],se=[ee[0],",",ee[1]];++A<U;)se.push("V",(ee=v[A])[1],"H",ee[0]);return se.join("")}function u3(v){for(var A=0,U=v.length,ee=v[0],se=[ee[0],",",ee[1]];++A<U;)se.push("H",(ee=v[A])[0],"V",ee[1]);return se.join("")}function f3(v,A){if(A.length<1||v.length!=A.length&&v.length!=A.length+2)return Or(v);var U=v.length!=A.length,ee="",se=v[0],Ce=v[1],_e=A[0],Te=_e,Se=1;if(U&&(ee+="Q"+(Ce[0]-2*_e[0]/3)+","+(Ce[1]-2*_e[1]/3)+","+Ce[0]+","+Ce[1],se=v[1],Se=2),A.length>1){Ce=v[Se],Se++,ee+="C"+(se[0]+_e[0])+","+(se[1]+_e[1])+","+(Ce[0]-(Te=A[1])[0])+","+(Ce[1]-Te[1])+","+Ce[0]+","+Ce[1];for(var He=2;He<A.length;He++,Se++)ee+="S"+((Ce=v[Se])[0]-(Te=A[He])[0])+","+(Ce[1]-Te[1])+","+Ce[0]+","+Ce[1]}if(U){var Ee=v[Se];ee+="Q"+(Ce[0]+2*Te[0]/3)+","+(Ce[1]+2*Te[1]/3)+","+Ee[0]+","+Ee[1]}return ee}function S6(v,A){for(var U,ee=[],se=(1-A)/2,Ce=v[0],_e=v[1],Te=1,Se=v.length;++Te<Se;)U=Ce,Ce=_e,ee.push([se*((_e=v[Te])[0]-U[0]),se*(_e[1]-U[1])]);return ee}function Xn(v){if(v.length<3)return Or(v);var A=1,U=v.length,ee=v[0],se=ee[0],Ce=ee[1],_e=[se,se,se,(ee=v[1])[0]],Te=[Ce,Ce,Ce,ee[1]],Se=[se,",",Ce,"L",pr(Ir,_e),",",pr(Ir,Te)];for(v.push(v[U-1]);++A<=U;)ee=v[A],_e.shift(),_e.push(ee[0]),Te.shift(),Te.push(ee[1]),Ko(Se,_e,Te);return v.pop(),Se.push("L",ee),Se.join("")}function pr(v,A){return v[0]*A[0]+v[1]*A[1]+v[2]*A[2]+v[3]*A[3]}ao.forEach(function(v,A){A.key=v,A.closed=/-closed$/.test(v)});var T6=[0,2/3,1/3,0],Qn=[0,1/3,2/3,0],Ir=[0,1/6,2/3,1/6];function Ko(v,A,U){v.push("C",pr(T6,A),",",pr(T6,U),",",pr(Qn,A),",",pr(Qn,U),",",pr(Ir,A),",",pr(Ir,U))}function Kr(v,A){return(A[1]-v[1])/(A[0]-v[0])}function P3(v){for(var A,U,ee,se=-1,Ce=v.length;++se<Ce;)U=(A=v[se])[0],ee=A[1]-$1,A[0]=U*Math.cos(ee),A[1]=U*Math.sin(ee);return v}function Da(v){var A=zt,U=zt,ee=0,se=y2,Ce=Fi,_e=Or,Te=_e.key,Se=_e,He="L",Ee=.7;function i1(s1){var y1,A1,p1,x1=[],u1=[],R1=[],S1=-1,h1=s1.length,nt=ot(A),at=ot(ee),vt=A===U?function(){return A1}:ot(U),Lt=ee===se?function(){return p1}:ot(se);function Tt(){x1.push("M",_e(v(R1),Ee),He,Se(v(u1.reverse()),Ee),"Z")}for(;++S1<h1;)Ce.call(this,y1=s1[S1],S1)?(u1.push([A1=+nt.call(this,y1,S1),p1=+at.call(this,y1,S1)]),R1.push([+vt.call(this,y1,S1),+Lt.call(this,y1,S1)])):u1.length&&(Tt(),u1=[],R1=[]);return u1.length&&Tt(),x1.length?x1.join(""):null}return i1.x=function(s1){return arguments.length?(A=U=s1,i1):U},i1.x0=function(s1){return arguments.length?(A=s1,i1):A},i1.x1=function(s1){return arguments.length?(U=s1,i1):U},i1.y=function(s1){return arguments.length?(ee=se=s1,i1):se},i1.y0=function(s1){return arguments.length?(ee=s1,i1):ee},i1.y1=function(s1){return arguments.length?(se=s1,i1):se},i1.defined=function(s1){return arguments.length?(Ce=s1,i1):Ce},i1.interpolate=function(s1){return arguments.length?(Te="function"==typeof s1?_e=s1:(_e=ao.get(s1)||Or).key,Se=_e.reverse||_e,He=_e.closed?"M":"L",i1):Te},i1.tension=function(s1){return arguments.length?(Ee=s1,i1):Ee},i1}function Bi(v){return v.source}function Pr(v){return v.target}function wr(v){return v.radius}function Qs(v){return[v.x,v.y]}function e0(v){return function(){var A=v.apply(this,arguments),U=A[0],ee=A[1]-$1;return[U*Math.cos(ee),U*Math.sin(ee)]}}function x8(){return 64}function si(){return"circle"}function Sa(v){var A=Math.sqrt(v/O1);return"M0,"+A+"A"+A+","+A+" 0 1,1 0,"+-A+"A"+A+","+A+" 0 1,1 0,"+A+"Z"}o.svg.line.radial=function(){var v=Yo(P3);return v.radius=v.x,delete v.x,v.angle=v.y,delete v.y,v},oo.reverse=u3,u3.reverse=oo,o.svg.area=function(){return Da(Q)},o.svg.area.radial=function(){var v=Da(P3);return v.radius=v.x,delete v.x,v.innerRadius=v.x0,delete v.x0,v.outerRadius=v.x1,delete v.x1,v.angle=v.y,delete v.y,v.startAngle=v.y0,delete v.y0,v.endAngle=v.y1,delete v.y1,v},o.svg.chord=function(){var v=Bi,A=Pr,U=wr,ee=La,se=L6;function Ce(He,Ee){var i1,s1,y1=_e(this,v,He,Ee),A1=_e(this,A,He,Ee);return"M"+y1.p0+Te(y1.r,y1.p1,y1.a1-y1.a0)+((i1=y1).a0==(s1=A1).a0&&i1.a1==s1.a1?Se(0,0,0,y1.p0):Se(0,0,0,A1.p0)+Te(A1.r,A1.p1,A1.a1-A1.a0)+Se(0,0,0,y1.p0))+"Z"}function _e(He,Ee,i1,s1){var y1=Ee.call(He,i1,s1),A1=U.call(He,y1,s1),p1=ee.call(He,y1,s1)-$1,x1=se.call(He,y1,s1)-$1;return{r:A1,a0:p1,a1:x1,p0:[A1*Math.cos(p1),A1*Math.sin(p1)],p1:[A1*Math.cos(x1),A1*Math.sin(x1)]}}function Te(He,Ee,i1){return"A"+He+","+He+" 0 "+ +(i1>O1)+",1 "+Ee}function Se(He,Ee,i1,s1){return"Q 0,0 "+s1}return Ce.radius=function(He){return arguments.length?(U=ot(He),Ce):U},Ce.source=function(He){return arguments.length?(v=ot(He),Ce):v},Ce.target=function(He){return arguments.length?(A=ot(He),Ce):A},Ce.startAngle=function(He){return arguments.length?(ee=ot(He),Ce):ee},Ce.endAngle=function(He){return arguments.length?(se=ot(He),Ce):se},Ce},o.svg.diagonal=function(){var v=Bi,A=Pr,U=Qs;function ee(se,Ce){var _e=v.call(this,se,Ce),Te=A.call(this,se,Ce),Se=(_e.y+Te.y)/2,He=[_e,{x:_e.x,y:Se},{x:Te.x,y:Se},Te];return"M"+(He=He.map(U))[0]+"C"+He[1]+" "+He[2]+" "+He[3]}return ee.source=function(se){return arguments.length?(v=ot(se),ee):v},ee.target=function(se){return arguments.length?(A=ot(se),ee):A},ee.projection=function(se){return arguments.length?(U=se,ee):U},ee},o.svg.diagonal.radial=function(){var v=o.svg.diagonal(),A=Qs,U=v.projection;return v.projection=function(ee){return arguments.length?U(e0(A=ee)):A},v},o.svg.symbol=function(){var v=si,A=x8;function U(ee,se){return(li.get(v.call(this,ee,se))||Sa)(A.call(this,ee,se))}return U.type=function(ee){return arguments.length?(v=ot(ee),U):v},U.size=function(ee){return arguments.length?(A=ot(ee),U):A},U};var li=o.map({circle:Sa,cross:function(v){var A=Math.sqrt(v/5)/2;return"M"+-3*A+","+-A+"H"+-A+"V"+-3*A+"H"+A+"V"+-A+"H"+3*A+"V"+A+"H"+A+"V"+3*A+"H"+-A+"V"+A+"H"+-3*A+"Z"},diamond:function(v){var A=Math.sqrt(v/(2*Ze)),U=A*Ze;return"M0,"+-A+"L"+U+",0 0,"+A+" "+-U+",0Z"},square:function(v){var A=Math.sqrt(v)/2;return"M"+-A+","+-A+"L"+A+","+-A+" "+A+","+A+" "+-A+","+A+"Z"},"triangle-down":function(v){var A=Math.sqrt(v/S2),U=A*S2/2;return"M0,"+U+"L"+A+","+-U+" "+-A+","+-U+"Z"},"triangle-up":function(v){var A=Math.sqrt(v/S2),U=A*S2/2;return"M0,"+-U+"L"+A+","+U+" "+-A+","+U+"Z"}});o.svg.symbolTypes=li.keys();var S2=Math.sqrt(3),Ze=Math.tan(30*Z1);fe.transition=function(v){for(var A,U,ee=U2||++St,se=h3(v),Ce=[],_e=Zo||{time:Date.now(),ease:un,delay:0,duration:250},Te=-1,Se=this.length;++Te<Se;){Ce.push(A=[]);for(var He=this[Te],Ee=-1,i1=He.length;++Ee<i1;)(U=He[Ee])&&lo(U,Ee,se,ee,_e),A.push(U)}return q3(Ce,se,ee)},fe.interrupt=function(v){return this.each(null==v?O4:so(h3(v)))};var O4=so(h3());function so(v){return function(){var A,U,ee;(A=this[v])&&(ee=A[U=A.active])&&(ee.timer.c=null,ee.timer.t=NaN,--A.count?delete A[U]:delete this[v],A.active+=.5,ee.event&&ee.event.interrupt.call(this,this.__data__,ee.index))}}function q3(v,A,U){return F(v,d3),v.namespace=A,v.id=U,v}var U2,Zo,d3=[],St=0;function q2(v,A,U,ee){var se=v.id,Ce=v.namespace;return Re(v,"function"==typeof U?function(_e,Te,Se){_e[Ce][se].tween.set(A,ee(U.call(_e,_e.__data__,Te,Se)))}:(U=ee(U),function(_e){_e[Ce][se].tween.set(A,U)}))}function Nt(v){return null==v&&(v=""),function(){this.textContent=v}}function h3(v){return null==v?"__transition__":"__transition_"+v+"__"}function lo(v,A,U,ee,se){var Ce,_e,Te,Se,He,Ee=v[U]||(v[U]={active:0,count:0}),i1=Ee[ee];function s1(A1){var p1=Ee.active,x1=Ee[p1];for(var u1 in x1&&(x1.timer.c=null,x1.timer.t=NaN,--Ee.count,delete Ee[p1],x1.event&&x1.event.interrupt.call(v,v.__data__,x1.index)),Ee)if(+u1<ee){var R1=Ee[u1];R1.timer.c=null,R1.timer.t=NaN,--Ee.count,delete Ee[u1]}_e.c=y1,Bt(function(){return _e.c&&y1(A1||1)&&(_e.c=null,_e.t=NaN),1},0,Ce),Ee.active=ee,i1.event&&i1.event.start.call(v,v.__data__,A),He=[],i1.tween.forEach(function(S1,h1){(h1=h1.call(v,v.__data__,A))&&He.push(h1)}),Se=i1.ease,Te=i1.duration}function y1(A1){for(var p1=A1/Te,x1=Se(p1),u1=He.length;u1>0;)He[--u1].call(v,x1);if(p1>=1)return i1.event&&i1.event.end.call(v,v.__data__,A),--Ee.count?delete Ee[ee]:delete v[U],1}i1||(_e=Bt(function(A1){var p1=i1.delay;if(_e.t=p1+Ce,p1<=A1)return s1(A1-p1);_e.c=s1},0,Ce=se.time),i1=Ee[ee]={tween:new E,time:Ce,timer:_e,delay:se.delay,duration:se.duration,ease:se.ease,index:A},se=null,++Ee.count)}d3.call=fe.call,d3.empty=fe.empty,d3.node=fe.node,d3.size=fe.size,o.transition=function(v,A){return v&&v.transition?U2?v.transition(A):v:o.selection().transition(v)},o.transition.prototype=d3,d3.select=function(v){var A,U,ee,se=this.id,Ce=this.namespace,_e=[];v=ue(v);for(var Te=-1,Se=this.length;++Te<Se;){_e.push(A=[]);for(var He=this[Te],Ee=-1,i1=He.length;++Ee<i1;)(ee=He[Ee])&&(U=v.call(ee,ee.__data__,Ee,Te))?("__data__"in ee&&(U.__data__=ee.__data__),lo(U,Ee,Ce,se,ee[Ce][se]),A.push(U)):A.push(null)}return q3(_e,Ce,se)},d3.selectAll=function(v){var A,U,ee,se,Ce,_e=this.id,Te=this.namespace,Se=[];v=pe(v);for(var He=-1,Ee=this.length;++He<Ee;)for(var i1=this[He],s1=-1,y1=i1.length;++s1<y1;)if(ee=i1[s1]){Ce=ee[Te][_e],U=v.call(ee,ee.__data__,s1,He),Se.push(A=[]);for(var A1=-1,p1=U.length;++A1<p1;)(se=U[A1])&&lo(se,A1,Te,_e,Ce),A.push(se)}return q3(Se,Te,_e)},d3.filter=function(v){var A,U,ee=[];"function"!=typeof v&&(v=qe(v));for(var se=0,Ce=this.length;se<Ce;se++){ee.push(A=[]);for(var _e,Te=0,Se=(_e=this[se]).length;Te<Se;Te++)(U=_e[Te])&&v.call(U,U.__data__,Te,se)&&A.push(U)}return q3(ee,this.namespace,this.id)},d3.tween=function(v,A){var U=this.id,ee=this.namespace;return arguments.length<2?this.node()[ee][U].tween.get(v):Re(this,null==A?function(se){se[ee][U].tween.remove(v)}:function(se){se[ee][U].tween.set(v,A)})},d3.attr=function(v,A){if(arguments.length<2){for(A in v)this.attr(A,v[A]);return this}var U="transform"==v?y4:ya,ee=o.ns.qualify(v);function se(){this.removeAttribute(ee)}function Ce(){this.removeAttributeNS(ee.space,ee.local)}function _e(Se){return null==Se?se:(Se+="",function(){var He,Ee=this.getAttribute(ee);return Ee!==Se&&(He=U(Ee,Se),function(i1){this.setAttribute(ee,He(i1))})})}function Te(Se){return null==Se?Ce:(Se+="",function(){var He,Ee=this.getAttributeNS(ee.space,ee.local);return Ee!==Se&&(He=U(Ee,Se),function(i1){this.setAttributeNS(ee.space,ee.local,He(i1))})})}return q2(this,"attr."+v,A,ee.local?Te:_e)},d3.attrTween=function(v,A){var U=o.ns.qualify(v);return this.tween("attr."+v,U.local?function(ee,se){var Ce=A.call(this,ee,se,this.getAttributeNS(U.space,U.local));return Ce&&function(_e){this.setAttributeNS(U.space,U.local,Ce(_e))}}:function(ee,se){var Ce=A.call(this,ee,se,this.getAttribute(U));return Ce&&function(_e){this.setAttribute(U,Ce(_e))}})},d3.style=function(v,A,U){var ee=arguments.length;if(ee<3){if("string"!=typeof v){for(U in ee<2&&(A=""),v)this.style(U,v[U],A);return this}U=""}function se(){this.style.removeProperty(v)}function Ce(_e){return null==_e?se:(_e+="",function(){var Te,Se=C(this).getComputedStyle(this,null).getPropertyValue(v);return Se!==_e&&(Te=ya(Se,_e),function(He){this.style.setProperty(v,Te(He),U)})})}return q2(this,"style."+v,A,Ce)},d3.styleTween=function(v,A,U){function ee(se,Ce){var _e=A.call(this,se,Ce,C(this).getComputedStyle(this,null).getPropertyValue(v));return _e&&function(Te){this.style.setProperty(v,_e(Te),U)}}return arguments.length<3&&(U=""),this.tween("style."+v,ee)},d3.text=function(v){return q2(this,"text",v,Nt)},d3.remove=function(){var v=this.namespace;return this.each("end.transition",function(){var A;this[v].count<2&&(A=this.parentNode)&&A.removeChild(this)})},d3.ease=function(v){var A=this.id,U=this.namespace;return arguments.length<1?this.node()[U][A].ease:("function"!=typeof v&&(v=o.ease.apply(o,arguments)),Re(this,function(ee){ee[U][A].ease=v}))},d3.delay=function(v){var A=this.id,U=this.namespace;return arguments.length<1?this.node()[U][A].delay:Re(this,"function"==typeof v?function(ee,se,Ce){ee[U][A].delay=+v.call(ee,ee.__data__,se,Ce)}:(v=+v,function(ee){ee[U][A].delay=v}))},d3.duration=function(v){var A=this.id,U=this.namespace;return arguments.length<1?this.node()[U][A].duration:Re(this,"function"==typeof v?function(ee,se,Ce){ee[U][A].duration=Math.max(1,v.call(ee,ee.__data__,se,Ce))}:(v=Math.max(1,v),function(ee){ee[U][A].duration=v}))},d3.each=function(v,A){var U=this.id,ee=this.namespace;if(arguments.length<2){var se=Zo,Ce=U2;try{U2=U,Re(this,function(_e,Te,Se){Zo=_e[ee][U],v.call(_e,_e.__data__,Te,Se)})}finally{Zo=se,U2=Ce}}else Re(this,function(_e){var Te=_e[ee][U];(Te.event||(Te.event=o.dispatch("start","end","interrupt"))).on(v,A)});return this},d3.transition=function(){for(var v,A,U,ee=this.id,se=++St,Ce=this.namespace,_e=[],Te=0,Se=this.length;Te<Se;Te++){_e.push(v=[]);for(var He,Ee=0,i1=(He=this[Te]).length;Ee<i1;Ee++)(A=He[Ee])&&lo(A,Ee,Ce,se,{time:(U=A[Ce][ee]).time,ease:U.ease,delay:U.delay+U.duration,duration:U.duration}),v.push(A)}return q3(_e,Ce,se)},o.svg.axis=function(){var v,A=o.scale.linear(),U=Ta,ee=6,se=6,Ce=3,_e=[10],Te=null;function Se(He){He.each(function(){var Ee,i1=o.select(this),s1=this.__chart__||A,y1=this.__chart__=A.copy(),A1=null==Te?y1.ticks?y1.ticks.apply(y1,_e):y1.domain():Te,p1=null==v?y1.tickFormat?y1.tickFormat.apply(y1,_e):Q:v,x1=i1.selectAll(".tick").data(A1,y1),u1=x1.enter().insert("g",".domain").attr("class","tick").style("opacity",C1),R1=o.transition(x1.exit()).style("opacity",C1).remove(),S1=o.transition(x1.order()).style("opacity",1),h1=Math.max(ee,0)+Ce,nt=xa(y1),at=i1.selectAll(".domain").data([0]),vt=(at.enter().append("path").attr("class","domain"),o.transition(at));u1.append("line"),u1.append("text");var Lt,Tt,Jt,g2,jt=u1.select("line"),R2=S1.select("line"),Nn=x1.select("text").text(p1),$n=u1.select("text"),_t=S1.select("text"),Wt="top"===U||"left"===U?-1:1;if("bottom"===U||"top"===U?(Ee=Zr,Lt="x",Jt="y",Tt="x2",g2="y2",Nn.attr("dy",Wt<0?"0em":".71em").style("text-anchor","middle"),vt.attr("d","M"+nt[0]+","+Wt*se+"V0H"+nt[1]+"V"+Wt*se)):(Ee=t0,Lt="y",Jt="x",Tt="y2",g2="x2",Nn.attr("dy",".32em").style("text-anchor",Wt<0?"end":"start"),vt.attr("d","M"+Wt*se+","+nt[0]+"H0V"+nt[1]+"H"+Wt*se)),jt.attr(g2,Wt*ee),$n.attr(Jt,Wt*h1),R2.attr(Tt,0).attr(g2,Wt*ee),_t.attr(Lt,0).attr(Jt,Wt*h1),y1.rangeBand){var x2=y1,M2=x2.rangeBand()/2;s1=y1=function(X2){return x2(X2)+M2}}else s1.rangeBand?s1=y1:R1.call(Ee,y1,s1);u1.call(Ee,s1,y1),S1.call(Ee,y1,y1)})}return Se.scale=function(He){return arguments.length?(A=He,Se):A},Se.orient=function(He){return arguments.length?(U=He in M4?He+"":Ta,Se):U},Se.ticks=function(){return arguments.length?(_e=p(arguments),Se):_e},Se.tickValues=function(He){return arguments.length?(Te=He,Se):Te},Se.tickFormat=function(He){return arguments.length?(v=He,Se):v},Se.tickSize=function(He){var Ee=arguments.length;return Ee?(ee=+He,se=+arguments[Ee-1],Se):ee},Se.innerTickSize=function(He){return arguments.length?(ee=+He,Se):ee},Se.outerTickSize=function(He){return arguments.length?(se=+He,Se):se},Se.tickPadding=function(He){return arguments.length?(Ce=+He,Se):Ce},Se.tickSubdivide=function(){return arguments.length&&Se},Se};var Ta="bottom",M4={top:1,right:1,bottom:1,left:1};function Zr(v,A,U){v.attr("transform",function(ee){var se=A(ee);return"translate("+(isFinite(se)?se:U(ee))+",0)"})}function t0(v,A,U){v.attr("transform",function(ee){var se=A(ee);return"translate(0,"+(isFinite(se)?se:U(ee))+")"})}o.svg.brush=function(){var v,A,U=oe(Ee,"brushstart","brush","brushend"),ee=null,se=null,Ce=[0,0],_e=[0,0],Te=!0,Se=!0,He=n0[0];function Ee(p1){p1.each(function(){var x1=o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",A1).on("touchstart.brush",A1),u1=x1.selectAll(".background").data([0]);u1.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),x1.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var R1=x1.selectAll(".resize").data(He,Q);R1.exit().remove(),R1.enter().append("g").attr("class",function(at){return"resize "+at}).style("cursor",function(at){return M7[at]}).append("rect").attr("x",function(at){return/[ew]$/.test(at)?-3:null}).attr("y",function(at){return/^[ns]/.test(at)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),R1.style("display",Ee.empty()?"none":null);var S1,h1=o.transition(x1),nt=o.transition(u1);ee&&(S1=xa(ee),nt.attr("x",S1[0]).attr("width",S1[1]-S1[0]),s1(h1)),se&&(S1=xa(se),nt.attr("y",S1[0]).attr("height",S1[1]-S1[0]),y1(h1)),i1(h1)})}function i1(p1){p1.selectAll(".resize").attr("transform",function(x1){return"translate("+Ce[+/e$/.test(x1)]+","+_e[+/^s/.test(x1)]+")"})}function s1(p1){p1.select(".extent").attr("x",Ce[0]),p1.selectAll(".extent,.n>rect,.s>rect").attr("width",Ce[1]-Ce[0])}function y1(p1){p1.select(".extent").attr("y",_e[0]),p1.selectAll(".extent,.e>rect,.w>rect").attr("height",_e[1]-_e[0])}function A1(){var p1,x1,u1=this,R1=o.select(o.event.target),S1=U.of(u1,arguments),h1=o.select(u1),nt=R1.datum(),at=!/^(n|s)$/.test(nt)&&ee,vt=!/^(e|w)$/.test(nt)&&se,Lt=R1.classed("extent"),Tt=I1(u1),Jt=o.mouse(u1),g2=o.select(C(u1)).on("keydown.brush",Nn).on("keyup.brush",$n);if(o.event.changedTouches?g2.on("touchmove.brush",_t).on("touchend.brush",x2):g2.on("mousemove.brush",_t).on("mouseup.brush",x2),h1.interrupt().selectAll("*").interrupt(),Lt)Jt[0]=Ce[0]-Jt[0],Jt[1]=_e[0]-Jt[1];else if(nt){var jt=+/w$/.test(nt),R2=+/^n/.test(nt);x1=[Ce[1-jt]-Jt[0],_e[1-R2]-Jt[1]],Jt[0]=Ce[jt],Jt[1]=_e[R2]}else o.event.altKey&&(p1=Jt.slice());function Nn(){32==o.event.keyCode&&(Lt||(p1=null,Jt[0]-=Ce[1],Jt[1]-=_e[1],Lt=2),G())}function $n(){32==o.event.keyCode&&2==Lt&&(Jt[0]+=Ce[1],Jt[1]+=_e[1],Lt=0,G())}function _t(){var M2=o.mouse(u1),X2=!1;x1&&(M2[0]+=x1[0],M2[1]+=x1[1]),Lt||(o.event.altKey?(p1||(p1=[(Ce[0]+Ce[1])/2,(_e[0]+_e[1])/2]),Jt[0]=Ce[+(M2[0]<p1[0])],Jt[1]=_e[+(M2[1]<p1[1])]):p1=null),at&&Wt(M2,ee,0)&&(s1(h1),X2=!0),vt&&Wt(M2,se,1)&&(y1(h1),X2=!0),X2&&(i1(h1),S1({type:"brush",mode:Lt?"move":"resize"}))}function Wt(M2,X2,dn){var hn,Q2,D3=xa(X2),A3=D3[0],Gn=D3[1],y3=Jt[dn],k3=dn?_e:Ce,Y3=k3[1]-k3[0];if(Lt&&(A3-=y3,Gn-=Y3+y3),hn=(dn?Se:Te)?Math.max(A3,Math.min(Gn,M2[dn])):M2[dn],Lt?Q2=(hn+=y3)+Y3:(p1&&(y3=Math.max(A3,Math.min(Gn,2*p1[dn]-hn))),y3<hn?(Q2=hn,hn=y3):Q2=y3),k3[0]!=hn||k3[1]!=Q2)return dn?A=null:v=null,k3[0]=hn,k3[1]=Q2,!0}function x2(){_t(),h1.style("pointer-events","all").selectAll(".resize").style("display",Ee.empty()?"none":null),o.select("body").style("cursor",null),g2.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Tt(),S1({type:"brushend"})}h1.style("pointer-events","none").selectAll(".resize").style("display",null),o.select("body").style("cursor",R1.style("cursor")),S1({type:"brushstart"}),_t()}return Ee.event=function(p1){p1.each(function(){var x1=U.of(this,arguments),u1={x:Ce,y:_e,i:v,j:A},R1=this.__chart__||u1;this.__chart__=u1,U2?o.select(this).transition().each("start.brush",function(){v=R1.i,A=R1.j,Ce=R1.x,_e=R1.y,x1({type:"brushstart"})}).tween("brush:brush",function(){var S1=m4(Ce,u1.x),h1=m4(_e,u1.y);return v=A=null,function(nt){Ce=u1.x=S1(nt),_e=u1.y=h1(nt),x1({type:"brush",mode:"resize"})}}).each("end.brush",function(){v=u1.i,A=u1.j,x1({type:"brush",mode:"resize"}),x1({type:"brushend"})}):(x1({type:"brushstart"}),x1({type:"brush",mode:"resize"}),x1({type:"brushend"}))})},Ee.x=function(p1){return arguments.length?(He=n0[!(ee=p1)<<1|!se],Ee):ee},Ee.y=function(p1){return arguments.length?(He=n0[!ee<<1|!(se=p1)],Ee):se},Ee.clamp=function(p1){return arguments.length?(ee&&se?(Te=!!p1[0],Se=!!p1[1]):ee?Te=!!p1:se&&(Se=!!p1),Ee):ee&&se?[Te,Se]:ee?Te:se?Se:null},Ee.extent=function(p1){var x1,u1,R1,S1,h1;return arguments.length?(ee&&(x1=p1[0],u1=p1[1],se&&(x1=x1[0],u1=u1[0]),v=[x1,u1],ee.invert&&(x1=ee(x1),u1=ee(u1)),u1<x1&&(h1=x1,x1=u1,u1=h1),x1==Ce[0]&&u1==Ce[1]||(Ce=[x1,u1])),se&&(R1=p1[0],S1=p1[1],ee&&(R1=R1[1],S1=S1[1]),A=[R1,S1],se.invert&&(R1=se(R1),S1=se(S1)),S1<R1&&(h1=R1,R1=S1,S1=h1),R1==_e[0]&&S1==_e[1]||(_e=[R1,S1])),Ee):(ee&&(v?(x1=v[0],u1=v[1]):(x1=Ce[0],u1=Ce[1],ee.invert&&(x1=ee.invert(x1),u1=ee.invert(u1)),u1<x1&&(h1=x1,x1=u1,u1=h1))),se&&(A?(R1=A[0],S1=A[1]):(R1=_e[0],S1=_e[1],se.invert&&(R1=se.invert(R1),S1=se.invert(S1)),S1<R1&&(h1=R1,R1=S1,S1=h1))),ee&&se?[[x1,R1],[u1,S1]]:ee?[x1,u1]:se&&[R1,S1])},Ee.clear=function(){return Ee.empty()||(Ce=[0,0],_e=[0,0],v=A=null),Ee},Ee.empty=function(){return!!ee&&Ce[0]==Ce[1]||!!se&&_e[0]==_e[1]},o.rebind(Ee,U,"on")};var M7={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},n0=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function Jo(v){return JSON.parse(v.responseText)}function Xo(v){var A=l.createRange();return A.selectNode(l.body),A.createContextualFragment(v.responseText)}o.text=gt(function(v){return v.responseText}),o.json=function(v,A){return Gt(v,"application/json",Jo,A)},o.html=function(v,A){return Gt(v,"text/html",Xo,A)},o.xml=gt(function(v){return v.responseXML}),"object"==typeof de&&de.exports?de.exports=o:this.d3=o}).apply(self)},{}],12:[function(m,de,ne){"use strict";var o,g="object"==typeof Reflect?Reflect:null,p=g&&"function"==typeof g.apply?g.apply:function(z,k,D){return Function.prototype.apply.call(z,k,D)};o=g&&"function"==typeof g.ownKeys?g.ownKeys:Object.getOwnPropertySymbols?function(z){return Object.getOwnPropertyNames(z).concat(Object.getOwnPropertySymbols(z))}:function(z){return Object.getOwnPropertyNames(z)};var l=Number.isNaN||function(z){return z!=z};function c(){c.init.call(this)}de.exports=c,de.exports.once=function(z,k){return new Promise(function(D,S){function P(){void 0!==V&&z.removeListener("error",V),D([].slice.call(arguments))}var V;"error"!==k&&(V=function(E){z.removeListener(k,P),S(E)},z.once("error",V)),z.once(k,P)})},c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var C=10;function d(z){if("function"!=typeof z)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof z)}function h(z){return void 0===z._maxListeners?c.defaultMaxListeners:z._maxListeners}function u(z,k,D,S){var P,V,E;if(d(D),void 0===(V=z._events)?(V=z._events=Object.create(null),z._eventsCount=0):(void 0!==V.newListener&&(z.emit("newListener",k,D.listener?D.listener:D),V=z._events),E=V[k]),void 0===E)E=V[k]=D,++z._eventsCount;else if("function"==typeof E?E=V[k]=S?[D,E]:[E,D]:S?E.unshift(D):E.push(D),(P=h(z))>0&&E.length>P&&!E.warned){E.warned=!0;var L=new Error("Possible EventEmitter memory leak detected. "+E.length+" "+String(k)+" listeners added. Use emitter.setMaxListeners() to increase limit");L.name="MaxListenersExceededWarning",L.emitter=z,L.type=k,L.count=E.length,console&&console.warn&&console.warn(L)}return z}function _(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function b(z,k,D){var S={fired:!1,wrapFn:void 0,target:z,type:k,listener:D},P=_.bind(S);return P.listener=D,S.wrapFn=P,P}function M(z,k,D){var S=z._events;if(void 0===S)return[];var P=S[k];return void 0===P?[]:"function"==typeof P?D?[P.listener||P]:[P]:D?function(V){for(var E=new Array(V.length),I=0;I<E.length;++I)E[I]=V[I].listener||V[I];return E}(P):N(P,P.length)}function w(z){var k=this._events;if(void 0!==k){var D=k[z];if("function"==typeof D)return 1;if(void 0!==D)return D.length}return 0}function N(z,k){for(var D=new Array(k),S=0;S<k;++S)D[S]=z[S];return D}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return C},set:function(z){if("number"!=typeof z||z<0||l(z))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+z+".");C=z}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(z){if("number"!=typeof z||z<0||l(z))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+z+".");return this._maxListeners=z,this},c.prototype.getMaxListeners=function(){return h(this)},c.prototype.emit=function(z){for(var k=[],D=1;D<arguments.length;D++)k.push(arguments[D]);var S="error"===z,P=this._events;if(void 0!==P)S=S&&void 0===P.error;else if(!S)return!1;if(S){var V;if(k.length>0&&(V=k[0]),V instanceof Error)throw V;var E=new Error("Unhandled error."+(V?" ("+V.message+")":""));throw E.context=V,E}var I=P[z];if(void 0===I)return!1;if("function"==typeof I)p(I,this,k);else{var L=I.length,B=N(I,L);for(D=0;D<L;++D)p(B[D],this,k)}return!0},c.prototype.on=c.prototype.addListener=function(z,k){return u(this,z,k,!1)},c.prototype.prependListener=function(z,k){return u(this,z,k,!0)},c.prototype.once=function(z,k){return d(k),this.on(z,b(this,z,k)),this},c.prototype.prependOnceListener=function(z,k){return d(k),this.prependListener(z,b(this,z,k)),this},c.prototype.off=c.prototype.removeListener=function(z,k){var D,S,P,V,E;if(d(k),void 0===(S=this._events))return this;if(void 0===(D=S[z]))return this;if(D===k||D.listener===k)0==--this._eventsCount?this._events=Object.create(null):(delete S[z],S.removeListener&&this.emit("removeListener",z,D.listener||k));else if("function"!=typeof D){for(P=-1,V=D.length-1;V>=0;V--)if(D[V]===k||D[V].listener===k){E=D[V].listener,P=V;break}if(P<0)return this;0===P?D.shift():function(I,L){for(;L+1<I.length;L++)I[L]=I[L+1];I.pop()}(D,P),1===D.length&&(S[z]=D[0]),void 0!==S.removeListener&&this.emit("removeListener",z,E||k)}return this},c.prototype.removeAllListeners=function(z){var k,D,S;if(void 0===(D=this._events))return this;if(void 0===D.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==D[z]&&(0==--this._eventsCount?this._events=Object.create(null):delete D[z]),this;if(0===arguments.length){var P,V=Object.keys(D);for(S=0;S<V.length;++S)"removeListener"!==(P=V[S])&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(k=D[z]))this.removeListener(z,k);else if(void 0!==k)for(S=k.length-1;S>=0;S--)this.removeListener(z,k[S]);return this},c.prototype.listeners=function(z){return M(this,z,!0)},c.prototype.rawListeners=function(z){return M(this,z,!1)},c.listenerCount=function(z,k){return"function"==typeof z.listenerCount?z.listenerCount(k):w.call(z,k)},c.prototype.listenerCount=w,c.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]}},{}],13:[function(m,de,ne){var o,g;o=this,g=function(o){"use strict";function g(k,D){if((S=(k=D?k.toExponential(D-1):k.toExponential()).indexOf("e"))<0)return null;var S,P=k.slice(0,S);return[P.length>1?P[0]+P.slice(2):P,+k.slice(S+1)]}function p(k){return(k=g(Math.abs(k)))?k[1]:NaN}var l,c=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function C(k){if(!(D=c.exec(k)))throw new Error("invalid format: "+k);var D;return new d({fill:D[1],align:D[2],sign:D[3],symbol:D[4],zero:D[5],width:D[6],comma:D[7],precision:D[8]&&D[8].slice(1),trim:D[9],type:D[10]})}function d(k){this.fill=void 0===k.fill?" ":k.fill+"",this.align=void 0===k.align?">":k.align+"",this.sign=void 0===k.sign?"-":k.sign+"",this.symbol=void 0===k.symbol?"":k.symbol+"",this.zero=!!k.zero,this.width=void 0===k.width?void 0:+k.width,this.comma=!!k.comma,this.precision=void 0===k.precision?void 0:+k.precision,this.trim=!!k.trim,this.type=void 0===k.type?"":k.type+""}function h(k,D){var S=g(k,D);if(!S)return k+"";var P=S[0],V=S[1];return V<0?"0."+new Array(-V).join("0")+P:P.length>V+1?P.slice(0,V+1)+"."+P.slice(V+1):P+new Array(V-P.length+2).join("0")}C.prototype=d.prototype,d.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var u={"%":function(k,D){return(100*k).toFixed(D)},b:function(k){return Math.round(k).toString(2)},c:function(k){return k+""},d:function(k){return Math.abs(k=Math.round(k))>=1e21?k.toLocaleString("en").replace(/,/g,""):k.toString(10)},e:function(k,D){return k.toExponential(D)},f:function(k,D){return k.toFixed(D)},g:function(k,D){return k.toPrecision(D)},o:function(k){return Math.round(k).toString(8)},p:function(k,D){return h(100*k,D)},r:h,s:function(k,D){var S=g(k,D);if(!S)return k+"";var P=S[0],V=S[1],E=V-(l=3*Math.max(-8,Math.min(8,Math.floor(V/3))))+1,I=P.length;return E===I?P:E>I?P+new Array(E-I+1).join("0"):E>0?P.slice(0,E)+"."+P.slice(E):"0."+new Array(1-E).join("0")+g(k,Math.max(0,D+E-1))[0]},X:function(k){return Math.round(k).toString(16).toUpperCase()},x:function(k){return Math.round(k).toString(16)}};function _(k){return k}var b,M=Array.prototype.map,w=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function N(k){var D,S,W,P=void 0===k.grouping||void 0===k.thousands?_:(D=M.call(k.grouping,Number),S=k.thousands+"",function(W,q){for(var Q=W.length,te=[],ce=0,me=D[0],ie=0;Q>0&&me>0&&(ie+me+1>q&&(me=Math.max(1,q-ie)),te.push(W.substring(Q-=me,Q+me)),!((ie+=me+1)>q));)me=D[ce=(ce+1)%D.length];return te.reverse().join(S)}),V=void 0===k.currency?"":k.currency[0]+"",E=void 0===k.currency?"":k.currency[1]+"",I=void 0===k.decimal?".":k.decimal+"",L=void 0===k.numerals?_:(W=M.call(k.numerals,String),function(q){return q.replace(/[0-9]/g,function(Q){return W[+Q]})}),B=void 0===k.percent?"%":k.percent+"",$=void 0===k.minus?"-":k.minus+"",T=void 0===k.nan?"NaN":k.nan+"";function Y(W){var q=(W=C(W)).fill,Q=W.align,te=W.sign,ce=W.symbol,me=W.zero,ie=W.width,K=W.comma,le=W.precision,G=W.trim,j=W.type;"n"===j?(K=!0,j="g"):u[j]||(void 0===le&&(le=12),G=!0,j="g"),(me||"0"===q&&"="===Q)&&(me=!0,q="0",Q="=");var oe="$"===ce?V:"#"===ce&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",re="$"===ce?E:/[%p]/.test(j)?B:"",F=u[j],O=/[defgprs%]/.test(j);function X(R){var ae,fe,ue,pe=oe,xe=re;if("c"===j)xe=F(R)+xe,R="";else{var Me=(R=+R)<0||1/R<0;if(R=isNaN(R)?T:F(Math.abs(R),le),G&&(R=function(Fe){e:for(var Ue,t1=Fe.length,Xe=1,Ge=-1;Xe<t1;++Xe)switch(Fe[Xe]){case".":Ge=Ue=Xe;break;case"0":0===Ge&&(Ge=Xe),Ue=Xe;break;default:if(!+Fe[Xe])break e;Ge>0&&(Ge=0)}return Ge>0?Fe.slice(0,Ge)+Fe.slice(Ue+1):Fe}(R)),Me&&0==+R&&"+"!==te&&(Me=!1),pe=(Me?"("===te?te:$:"-"===te||"("===te?"":te)+pe,xe=("s"===j?w[8+l/3]:"")+xe+(Me&&"("===te?")":""),O)for(ae=-1,fe=R.length;++ae<fe;)if(48>(ue=R.charCodeAt(ae))||ue>57){xe=(46===ue?I+R.slice(ae+1):R.slice(ae))+xe,R=R.slice(0,ae);break}}K&&!me&&(R=P(R,1/0));var Ae=pe.length+R.length+xe.length,ze=Ae<ie?new Array(ie-Ae+1).join(q):"";switch(K&&me&&(R=P(ze+R,ze.length?ie-xe.length:1/0),ze=""),Q){case"<":R=pe+R+xe+ze;break;case"=":R=pe+ze+R+xe;break;case"^":R=ze.slice(0,Ae=ze.length>>1)+pe+R+xe+ze.slice(Ae);break;default:R=ze+pe+R+xe}return L(R)}return le=void 0===le?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,le)):Math.max(0,Math.min(20,le)),X.toString=function(){return W+""},X}return{format:Y,formatPrefix:function(W,q){var Q=Y(((W=C(W)).type="f",W)),te=3*Math.max(-8,Math.min(8,Math.floor(p(q)/3))),ce=Math.pow(10,-te),me=w[8+te/3];return function(ie){return Q(ce*ie)+me}}}}function z(k){return b=N(k),o.format=b.format,o.formatPrefix=b.formatPrefix,b}z({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),o.FormatSpecifier=d,o.formatDefaultLocale=z,o.formatLocale=N,o.formatSpecifier=C,o.precisionFixed=function(k){return Math.max(0,-p(Math.abs(k)))},o.precisionPrefix=function(k,D){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(p(D)/3)))-p(Math.abs(k)))},o.precisionRound=function(k,D){return k=Math.abs(k),D=Math.abs(D)-k,Math.max(0,p(D)-p(k))+1},Object.defineProperty(o,"__esModule",{value:!0})},g("object"==typeof ne&&void 0!==de?ne:(o="undefined"!=typeof globalThis?globalThis:o||self).d3=o.d3||{})},{}],14:[function(m,de,ne){var o,g;o=this,g=function(o,g){"use strict";function p(Be){if(0<=Be.y&&Be.y<100){var je=new Date(-1,Be.m,Be.d,Be.H,Be.M,Be.S,Be.L);return je.setFullYear(Be.y),je}return new Date(Be.y,Be.m,Be.d,Be.H,Be.M,Be.S,Be.L)}function l(Be){if(0<=Be.y&&Be.y<100){var je=new Date(Date.UTC(-1,Be.m,Be.d,Be.H,Be.M,Be.S,Be.L));return je.setUTCFullYear(Be.y),je}return new Date(Date.UTC(Be.y,Be.m,Be.d,Be.H,Be.M,Be.S,Be.L))}function c(Be,je,C1){return{y:Be,m:je,d:C1,H:0,M:0,S:0,L:0}}function C(Be){var je=Be.dateTime,C1=Be.date,O1=Be.time,Q1=Be.periods,st=Be.days,$1=Be.shortDays,Z1=Be.months,N1=Be.shortMonths,ge=N(Q1),ye=z(Q1),We=N(st),e1=z(st),d1=N($1),a1=z($1),l1=N(Z1),c1=z(Z1),w1=N(N1),T1=z(N1),B1={a:function(L1){return $1[L1.getDay()]},A:function(L1){return st[L1.getDay()]},b:function(L1){return N1[L1.getMonth()]},B:function(L1){return Z1[L1.getMonth()]},c:null,d:le,e:le,f:F,H:G,I:j,j:oe,L:re,m:O,M:X,p:function(L1){return Q1[+(L1.getHours()>=12)]},q:function(L1){return 1+~~(L1.getMonth()/3)},Q:g1,s:b1,S:R,u:ae,U:fe,V:ue,w:pe,W:xe,x:null,X:null,y:Me,Y:Ae,Z:ze,"%":Je},rt={a:function(L1){return $1[L1.getUTCDay()]},A:function(L1){return st[L1.getUTCDay()]},b:function(L1){return N1[L1.getUTCMonth()]},B:function(L1){return Z1[L1.getUTCMonth()]},c:null,d:Fe,e:Fe,f:we,H:Ue,I:t1,j:Xe,L:Ge,m:ve,M:De,p:function(L1){return Q1[+(L1.getUTCHours()>=12)]},q:function(L1){return 1+~~(L1.getUTCMonth()/3)},Q:g1,s:b1,S:Ve,u:qe,U:Ie,V:Re,w:Qe,W:n1,x:null,X:null,y:Ye,Y:r1,Z:f1,"%":Je},H1={a:function(L1,it,X1){var j1=d1.exec(it.slice(X1));return j1?(L1.w=a1[j1[0].toLowerCase()],X1+j1[0].length):-1},A:function(L1,it,X1){var j1=We.exec(it.slice(X1));return j1?(L1.w=e1[j1[0].toLowerCase()],X1+j1[0].length):-1},b:function(L1,it,X1){var j1=w1.exec(it.slice(X1));return j1?(L1.m=T1[j1[0].toLowerCase()],X1+j1[0].length):-1},B:function(L1,it,X1){var j1=l1.exec(it.slice(X1));return j1?(L1.m=c1[j1[0].toLowerCase()],X1+j1[0].length):-1},c:function(L1,it,X1){return k1(L1,je,it,X1)},d:T,e:T,f:ce,H:W,I:W,j:Y,L:te,m:$,M:q,p:function(L1,it,X1){var j1=ge.exec(it.slice(X1));return j1?(L1.p=ye[j1[0].toLowerCase()],X1+j1[0].length):-1},q:B,Q:ie,s:K,S:Q,u:D,U:S,V:P,w:k,W:V,x:function(L1,it,X1){return k1(L1,C1,it,X1)},X:function(L1,it,X1){return k1(L1,O1,it,X1)},y:I,Y:E,Z:L,"%":me};function Y1(L1,it){return function(X1){var j1,et,P1,xt=[],yt=-1,wt=0,Ft=L1.length;for(X1 instanceof Date||(X1=new Date(+X1));++yt<Ft;)37===L1.charCodeAt(yt)&&(xt.push(L1.slice(wt,yt)),null!=(et=h[j1=L1.charAt(++yt)])?j1=L1.charAt(++yt):et="e"===j1?" ":"0",(P1=it[j1])&&(j1=P1(X1,et)),xt.push(j1),wt=yt+1);return xt.push(L1.slice(wt,yt)),xt.join("")}}function ut(L1,it){return function(X1){var j1,et,P1=c(1900,void 0,1);if(k1(P1,L1,X1+="",0)!=X1.length)return null;if("Q"in P1)return new Date(P1.Q);if("s"in P1)return new Date(1e3*P1.s+("L"in P1?P1.L:0));if(it&&!("Z"in P1)&&(P1.Z=0),"p"in P1&&(P1.H=P1.H%12+12*P1.p),void 0===P1.m&&(P1.m="q"in P1?P1.q:0),"V"in P1){if(P1.V<1||P1.V>53)return null;"w"in P1||(P1.w=1),"Z"in P1?(et=(j1=l(c(P1.y,0,1))).getUTCDay(),j1=et>4||0===et?g.utcMonday.ceil(j1):g.utcMonday(j1),j1=g.utcDay.offset(j1,7*(P1.V-1)),P1.y=j1.getUTCFullYear(),P1.m=j1.getUTCMonth(),P1.d=j1.getUTCDate()+(P1.w+6)%7):(et=(j1=p(c(P1.y,0,1))).getDay(),j1=et>4||0===et?g.timeMonday.ceil(j1):g.timeMonday(j1),j1=g.timeDay.offset(j1,7*(P1.V-1)),P1.y=j1.getFullYear(),P1.m=j1.getMonth(),P1.d=j1.getDate()+(P1.w+6)%7)}else("W"in P1||"U"in P1)&&("w"in P1||(P1.w="u"in P1?P1.u%7:"W"in P1?1:0),et="Z"in P1?l(c(P1.y,0,1)).getUTCDay():p(c(P1.y,0,1)).getDay(),P1.m=0,P1.d="W"in P1?(P1.w+6)%7+7*P1.W-(et+5)%7:P1.w+7*P1.U-(et+6)%7);return"Z"in P1?(P1.H+=P1.Z/100|0,P1.M+=P1.Z%100,l(P1)):p(P1)}}function k1(L1,it,X1,j1){for(var et,P1,xt=0,yt=it.length,wt=X1.length;xt<yt;){if(j1>=wt)return-1;if(37===(et=it.charCodeAt(xt++))){if(et=it.charAt(xt++),!(P1=H1[et in h?it.charAt(xt++):et])||(j1=P1(L1,X1,j1))<0)return-1}else if(et!=X1.charCodeAt(j1++))return-1}return j1}return B1.x=Y1(C1,B1),B1.X=Y1(O1,B1),B1.c=Y1(je,B1),rt.x=Y1(C1,rt),rt.X=Y1(O1,rt),rt.c=Y1(je,rt),{format:function(L1){var it=Y1(L1+="",B1);return it.toString=function(){return L1},it},parse:function(L1){var it=ut(L1+="",!1);return it.toString=function(){return L1},it},utcFormat:function(L1){var it=Y1(L1+="",rt);return it.toString=function(){return L1},it},utcParse:function(L1){var it=ut(L1+="",!0);return it.toString=function(){return L1},it}}}var d,h={"-":"",_:" ",0:"0"},u=/^\s*\d+/,_=/^%/,b=/[\\^$*+?|[\]().{}]/g;function M(Be,je,C1){var O1=Be<0?"-":"",Q1=(O1?-Be:Be)+"",st=Q1.length;return O1+(st<C1?new Array(C1-st+1).join(je)+Q1:Q1)}function w(Be){return Be.replace(b,"\\$&")}function N(Be){return new RegExp("^(?:"+Be.map(w).join("|")+")","i")}function z(Be){for(var je={},C1=-1,O1=Be.length;++C1<O1;)je[Be[C1].toLowerCase()]=C1;return je}function k(Be,je,C1){var O1=u.exec(je.slice(C1,C1+1));return O1?(Be.w=+O1[0],C1+O1[0].length):-1}function D(Be,je,C1){var O1=u.exec(je.slice(C1,C1+1));return O1?(Be.u=+O1[0],C1+O1[0].length):-1}function S(Be,je,C1){var O1=u.exec(je.slice(C1,C1+2));return O1?(Be.U=+O1[0],C1+O1[0].length):-1}function P(Be,je,C1){var O1=u.exec(je.slice(C1,C1+2));return O1?(Be.V=+O1[0],C1+O1[0].length):-1}function V(Be,je,C1){var O1=u.exec(je.slice(C1,C1+2));return O1?(Be.W=+O1[0],C1+O1[0].length):-1}function E(Be,je,C1){var O1=u.exec(je.slice(C1,C1+4));return O1?(Be.y=+O1[0],C1+O1[0].length):-1}function I(Be,je,C1){var O1=u.exec(je.slice(C1,C1+2));return O1?(Be.y=+O1[0]+(+O1[0]>68?1900:2e3),C1+O1[0].length):-1}function L(Be,je,C1){var O1=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(je.slice(C1,C1+6));return O1?(Be.Z=O1[1]?0:-(O1[2]+(O1[3]||"00")),C1+O1[0].length):-1}function B(Be,je,C1){var O1=u.exec(je.slice(C1,C1+1));return O1?(Be.q=3*O1[0]-3,C1+O1[0].length):-1}function $(Be,je,C1){var O1=u.exec(je.slice(C1,C1+2));return O1?(Be.m=O1[0]-1,C1+O1[0].length):-1}function T(Be,je,C1){var O1=u.exec(je.slice(C1,C1+2));return O1?(Be.d=+O1[0],C1+O1[0].length):-1}function Y(Be,je,C1){var O1=u.exec(je.slice(C1,C1+3));return O1?(Be.m=0,Be.d=+O1[0],C1+O1[0].length):-1}function W(Be,je,C1){var O1=u.exec(je.slice(C1,C1+2));return O1?(Be.H=+O1[0],C1+O1[0].length):-1}function q(Be,je,C1){var O1=u.exec(je.slice(C1,C1+2));return O1?(Be.M=+O1[0],C1+O1[0].length):-1}function Q(Be,je,C1){var O1=u.exec(je.slice(C1,C1+2));return O1?(Be.S=+O1[0],C1+O1[0].length):-1}function te(Be,je,C1){var O1=u.exec(je.slice(C1,C1+3));return O1?(Be.L=+O1[0],C1+O1[0].length):-1}function ce(Be,je,C1){var O1=u.exec(je.slice(C1,C1+6));return O1?(Be.L=Math.floor(O1[0]/1e3),C1+O1[0].length):-1}function me(Be,je,C1){var O1=_.exec(je.slice(C1,C1+1));return O1?C1+O1[0].length:-1}function ie(Be,je,C1){var O1=u.exec(je.slice(C1));return O1?(Be.Q=+O1[0],C1+O1[0].length):-1}function K(Be,je,C1){var O1=u.exec(je.slice(C1));return O1?(Be.s=+O1[0],C1+O1[0].length):-1}function le(Be,je){return M(Be.getDate(),je,2)}function G(Be,je){return M(Be.getHours(),je,2)}function j(Be,je){return M(Be.getHours()%12||12,je,2)}function oe(Be,je){return M(1+g.timeDay.count(g.timeYear(Be),Be),je,3)}function re(Be,je){return M(Be.getMilliseconds(),je,3)}function F(Be,je){return re(Be,je)+"000"}function O(Be,je){return M(Be.getMonth()+1,je,2)}function X(Be,je){return M(Be.getMinutes(),je,2)}function R(Be,je){return M(Be.getSeconds(),je,2)}function ae(Be){var je=Be.getDay();return 0===je?7:je}function fe(Be,je){return M(g.timeSunday.count(g.timeYear(Be)-1,Be),je,2)}function ue(Be,je){var C1=Be.getDay();return Be=C1>=4||0===C1?g.timeThursday(Be):g.timeThursday.ceil(Be),M(g.timeThursday.count(g.timeYear(Be),Be)+(4===g.timeYear(Be).getDay()),je,2)}function pe(Be){return Be.getDay()}function xe(Be,je){return M(g.timeMonday.count(g.timeYear(Be)-1,Be),je,2)}function Me(Be,je){return M(Be.getFullYear()%100,je,2)}function Ae(Be,je){return M(Be.getFullYear()%1e4,je,4)}function ze(Be){var je=Be.getTimezoneOffset();return(je>0?"-":(je*=-1,"+"))+M(je/60|0,"0",2)+M(je%60,"0",2)}function Fe(Be,je){return M(Be.getUTCDate(),je,2)}function Ue(Be,je){return M(Be.getUTCHours(),je,2)}function t1(Be,je){return M(Be.getUTCHours()%12||12,je,2)}function Xe(Be,je){return M(1+g.utcDay.count(g.utcYear(Be),Be),je,3)}function Ge(Be,je){return M(Be.getUTCMilliseconds(),je,3)}function we(Be,je){return Ge(Be,je)+"000"}function ve(Be,je){return M(Be.getUTCMonth()+1,je,2)}function De(Be,je){return M(Be.getUTCMinutes(),je,2)}function Ve(Be,je){return M(Be.getUTCSeconds(),je,2)}function qe(Be){var je=Be.getUTCDay();return 0===je?7:je}function Ie(Be,je){return M(g.utcSunday.count(g.utcYear(Be)-1,Be),je,2)}function Re(Be,je){var C1=Be.getUTCDay();return Be=C1>=4||0===C1?g.utcThursday(Be):g.utcThursday.ceil(Be),M(g.utcThursday.count(g.utcYear(Be),Be)+(4===g.utcYear(Be).getUTCDay()),je,2)}function Qe(Be){return Be.getUTCDay()}function n1(Be,je){return M(g.utcMonday.count(g.utcYear(Be)-1,Be),je,2)}function Ye(Be,je){return M(Be.getUTCFullYear()%100,je,2)}function r1(Be,je){return M(Be.getUTCFullYear()%1e4,je,4)}function f1(){return"+0000"}function Je(){return"%"}function g1(Be){return+Be}function b1(Be){return Math.floor(+Be/1e3)}function _1(Be){return d=C(Be),o.timeFormat=d.format,o.timeParse=d.parse,o.utcFormat=d.utcFormat,o.utcParse=d.utcParse,d}_1({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var I1=Date.prototype.toISOString?function(Be){return Be.toISOString()}:o.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),M1=+new Date("2000-01-01T00:00:00.000Z")?function(Be){var je=new Date(Be);return isNaN(je)?null:je}:o.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");o.isoFormat=I1,o.isoParse=M1,o.timeFormatDefaultLocale=_1,o.timeFormatLocale=C,Object.defineProperty(o,"__esModule",{value:!0})},"object"==typeof ne&&void 0!==de?g(ne,m("d3-time")):g((o=o||self).d3=o.d3||{},o.d3)},{"d3-time":15}],15:[function(m,de,ne){var o,g;o=this,g=function(o){"use strict";var g=new Date,p=new Date;function l(ve,De,Ve,qe){function Ie(Re){return ve(Re=0===arguments.length?new Date:new Date(+Re)),Re}return Ie.floor=function(Re){return ve(Re=new Date(+Re)),Re},Ie.ceil=function(Re){return ve(Re=new Date(Re-1)),De(Re,1),ve(Re),Re},Ie.round=function(Re){var Qe=Ie(Re),n1=Ie.ceil(Re);return Re-Qe<n1-Re?Qe:n1},Ie.offset=function(Re,Qe){return De(Re=new Date(+Re),null==Qe?1:Math.floor(Qe)),Re},Ie.range=function(Re,Qe,n1){var Ye,r1=[];if(Re=Ie.ceil(Re),n1=null==n1?1:Math.floor(n1),!(Re<Qe&&n1>0))return r1;do{r1.push(Ye=new Date(+Re)),De(Re,n1),ve(Re)}while(Ye<Re&&Re<Qe);return r1},Ie.filter=function(Re){return l(function(Qe){if(Qe>=Qe)for(;ve(Qe),!Re(Qe);)Qe.setTime(Qe-1)},function(Qe,n1){if(Qe>=Qe)if(n1<0)for(;++n1<=0;)for(;De(Qe,-1),!Re(Qe););else for(;--n1>=0;)for(;De(Qe,1),!Re(Qe););})},Ve&&(Ie.count=function(Re,Qe){return g.setTime(+Re),p.setTime(+Qe),ve(g),ve(p),Math.floor(Ve(g,p))},Ie.every=function(Re){return Re=Math.floor(Re),isFinite(Re)&&Re>0?Re>1?Ie.filter(qe?function(Qe){return qe(Qe)%Re==0}:function(Qe){return Ie.count(0,Qe)%Re==0}):Ie:null}),Ie}var c=l(function(){},function(ve,De){ve.setTime(+ve+De)},function(ve,De){return De-ve});c.every=function(ve){return ve=Math.floor(ve),isFinite(ve)&&ve>0?ve>1?l(function(De){De.setTime(Math.floor(De/ve)*ve)},function(De,Ve){De.setTime(+De+Ve*ve)},function(De,Ve){return(Ve-De)/ve}):c:null};var C=c.range,d=l(function(ve){ve.setTime(ve-ve.getMilliseconds())},function(ve,De){ve.setTime(+ve+1e3*De)},function(ve,De){return(De-ve)/1e3},function(ve){return ve.getUTCSeconds()}),h=d.range,u=l(function(ve){ve.setTime(ve-ve.getMilliseconds()-1e3*ve.getSeconds())},function(ve,De){ve.setTime(+ve+6e4*De)},function(ve,De){return(De-ve)/6e4},function(ve){return ve.getMinutes()}),_=u.range,b=l(function(ve){ve.setTime(ve-ve.getMilliseconds()-1e3*ve.getSeconds()-6e4*ve.getMinutes())},function(ve,De){ve.setTime(+ve+36e5*De)},function(ve,De){return(De-ve)/36e5},function(ve){return ve.getHours()}),M=b.range,w=l(function(ve){ve.setHours(0,0,0,0)},function(ve,De){ve.setDate(ve.getDate()+De)},function(ve,De){return(De-ve-6e4*(De.getTimezoneOffset()-ve.getTimezoneOffset()))/864e5},function(ve){return ve.getDate()-1}),N=w.range;function z(ve){return l(function(De){De.setDate(De.getDate()-(De.getDay()+7-ve)%7),De.setHours(0,0,0,0)},function(De,Ve){De.setDate(De.getDate()+7*Ve)},function(De,Ve){return(Ve-De-6e4*(Ve.getTimezoneOffset()-De.getTimezoneOffset()))/6048e5})}var k=z(0),D=z(1),S=z(2),P=z(3),V=z(4),E=z(5),I=z(6),L=k.range,B=D.range,$=S.range,T=P.range,Y=V.range,W=E.range,q=I.range,Q=l(function(ve){ve.setDate(1),ve.setHours(0,0,0,0)},function(ve,De){ve.setMonth(ve.getMonth()+De)},function(ve,De){return De.getMonth()-ve.getMonth()+12*(De.getFullYear()-ve.getFullYear())},function(ve){return ve.getMonth()}),te=Q.range,ce=l(function(ve){ve.setMonth(0,1),ve.setHours(0,0,0,0)},function(ve,De){ve.setFullYear(ve.getFullYear()+De)},function(ve,De){return De.getFullYear()-ve.getFullYear()},function(ve){return ve.getFullYear()});ce.every=function(ve){return isFinite(ve=Math.floor(ve))&&ve>0?l(function(De){De.setFullYear(Math.floor(De.getFullYear()/ve)*ve),De.setMonth(0,1),De.setHours(0,0,0,0)},function(De,Ve){De.setFullYear(De.getFullYear()+Ve*ve)}):null};var me=ce.range,ie=l(function(ve){ve.setUTCSeconds(0,0)},function(ve,De){ve.setTime(+ve+6e4*De)},function(ve,De){return(De-ve)/6e4},function(ve){return ve.getUTCMinutes()}),K=ie.range,le=l(function(ve){ve.setUTCMinutes(0,0,0)},function(ve,De){ve.setTime(+ve+36e5*De)},function(ve,De){return(De-ve)/36e5},function(ve){return ve.getUTCHours()}),G=le.range,j=l(function(ve){ve.setUTCHours(0,0,0,0)},function(ve,De){ve.setUTCDate(ve.getUTCDate()+De)},function(ve,De){return(De-ve)/864e5},function(ve){return ve.getUTCDate()-1}),oe=j.range;function re(ve){return l(function(De){De.setUTCDate(De.getUTCDate()-(De.getUTCDay()+7-ve)%7),De.setUTCHours(0,0,0,0)},function(De,Ve){De.setUTCDate(De.getUTCDate()+7*Ve)},function(De,Ve){return(Ve-De)/6048e5})}var F=re(0),O=re(1),X=re(2),R=re(3),ae=re(4),fe=re(5),ue=re(6),pe=F.range,xe=O.range,Me=X.range,Ae=R.range,ze=ae.range,Fe=fe.range,Ue=ue.range,t1=l(function(ve){ve.setUTCDate(1),ve.setUTCHours(0,0,0,0)},function(ve,De){ve.setUTCMonth(ve.getUTCMonth()+De)},function(ve,De){return De.getUTCMonth()-ve.getUTCMonth()+12*(De.getUTCFullYear()-ve.getUTCFullYear())},function(ve){return ve.getUTCMonth()}),Xe=t1.range,Ge=l(function(ve){ve.setUTCMonth(0,1),ve.setUTCHours(0,0,0,0)},function(ve,De){ve.setUTCFullYear(ve.getUTCFullYear()+De)},function(ve,De){return De.getUTCFullYear()-ve.getUTCFullYear()},function(ve){return ve.getUTCFullYear()});Ge.every=function(ve){return isFinite(ve=Math.floor(ve))&&ve>0?l(function(De){De.setUTCFullYear(Math.floor(De.getUTCFullYear()/ve)*ve),De.setUTCMonth(0,1),De.setUTCHours(0,0,0,0)},function(De,Ve){De.setUTCFullYear(De.getUTCFullYear()+Ve*ve)}):null};var we=Ge.range;o.timeDay=w,o.timeDays=N,o.timeFriday=E,o.timeFridays=W,o.timeHour=b,o.timeHours=M,o.timeInterval=l,o.timeMillisecond=c,o.timeMilliseconds=C,o.timeMinute=u,o.timeMinutes=_,o.timeMonday=D,o.timeMondays=B,o.timeMonth=Q,o.timeMonths=te,o.timeSaturday=I,o.timeSaturdays=q,o.timeSecond=d,o.timeSeconds=h,o.timeSunday=k,o.timeSundays=L,o.timeThursday=V,o.timeThursdays=Y,o.timeTuesday=S,o.timeTuesdays=$,o.timeWednesday=P,o.timeWednesdays=T,o.timeWeek=k,o.timeWeeks=L,o.timeYear=ce,o.timeYears=me,o.utcDay=j,o.utcDays=oe,o.utcFriday=fe,o.utcFridays=Fe,o.utcHour=le,o.utcHours=G,o.utcMillisecond=c,o.utcMilliseconds=C,o.utcMinute=ie,o.utcMinutes=K,o.utcMonday=O,o.utcMondays=xe,o.utcMonth=t1,o.utcMonths=Xe,o.utcSaturday=ue,o.utcSaturdays=Ue,o.utcSecond=d,o.utcSeconds=h,o.utcSunday=F,o.utcSundays=pe,o.utcThursday=ae,o.utcThursdays=ze,o.utcTuesday=X,o.utcTuesdays=Me,o.utcWednesday=R,o.utcWednesdays=Ae,o.utcWeek=F,o.utcWeeks=pe,o.utcYear=Ge,o.utcYears=we,Object.defineProperty(o,"__esModule",{value:!0})},g("object"==typeof ne&&void 0!==de?ne:(o=o||self).d3=o.d3||{})},{}],16:[function(m,de,ne){arguments[4][15][0].apply(ne,arguments)},{dup:15}],17:[function(m,de,ne){"use strict";var o=m("is-string-blank");de.exports=function(g){var p=typeof g;if("string"===p){var l=g;if(0==(g=+g)&&o(l))return!1}else if("number"!==p)return!1;return g-g<1}},{"is-string-blank":52}],18:[function(m,de,ne){de.exports=function(o,g){var p=g[0],l=g[1],c=g[2],C=g[3],d=g[4],h=g[5],u=g[6],_=g[7],b=g[8],M=g[9],w=g[10],N=g[11],z=g[12],k=g[13],D=g[14],S=g[15];return o[0]=h*(w*S-N*D)-M*(u*S-_*D)+k*(u*N-_*w),o[1]=-(l*(w*S-N*D)-M*(c*S-C*D)+k*(c*N-C*w)),o[2]=l*(u*S-_*D)-h*(c*S-C*D)+k*(c*_-C*u),o[3]=-(l*(u*N-_*w)-h*(c*N-C*w)+M*(c*_-C*u)),o[4]=-(d*(w*S-N*D)-b*(u*S-_*D)+z*(u*N-_*w)),o[5]=p*(w*S-N*D)-b*(c*S-C*D)+z*(c*N-C*w),o[6]=-(p*(u*S-_*D)-d*(c*S-C*D)+z*(c*_-C*u)),o[7]=p*(u*N-_*w)-d*(c*N-C*w)+b*(c*_-C*u),o[8]=d*(M*S-N*k)-b*(h*S-_*k)+z*(h*N-_*M),o[9]=-(p*(M*S-N*k)-b*(l*S-C*k)+z*(l*N-C*M)),o[10]=p*(h*S-_*k)-d*(l*S-C*k)+z*(l*_-C*h),o[11]=-(p*(h*N-_*M)-d*(l*N-C*M)+b*(l*_-C*h)),o[12]=-(d*(M*D-w*k)-b*(h*D-u*k)+z*(h*w-u*M)),o[13]=p*(M*D-w*k)-b*(l*D-c*k)+z*(l*w-c*M),o[14]=-(p*(h*D-u*k)-d*(l*D-c*k)+z*(l*u-c*h)),o[15]=p*(h*w-u*M)-d*(l*w-c*M)+b*(l*u-c*h),o}},{}],19:[function(m,de,ne){de.exports=function(o){var g=new Float32Array(16);return g[0]=o[0],g[1]=o[1],g[2]=o[2],g[3]=o[3],g[4]=o[4],g[5]=o[5],g[6]=o[6],g[7]=o[7],g[8]=o[8],g[9]=o[9],g[10]=o[10],g[11]=o[11],g[12]=o[12],g[13]=o[13],g[14]=o[14],g[15]=o[15],g}},{}],20:[function(m,de,ne){de.exports=function(o,g){return o[0]=g[0],o[1]=g[1],o[2]=g[2],o[3]=g[3],o[4]=g[4],o[5]=g[5],o[6]=g[6],o[7]=g[7],o[8]=g[8],o[9]=g[9],o[10]=g[10],o[11]=g[11],o[12]=g[12],o[13]=g[13],o[14]=g[14],o[15]=g[15],o}},{}],21:[function(m,de,ne){de.exports=function(){var o=new Float32Array(16);return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},{}],22:[function(m,de,ne){de.exports=function(o){var g=o[0],p=o[1],l=o[2],c=o[3],C=o[4],d=o[5],h=o[6],u=o[7],_=o[8],b=o[9],M=o[10],w=o[11],N=o[12],z=o[13],k=o[14],D=o[15];return(g*d-p*C)*(M*D-w*k)-(g*h-l*C)*(b*D-w*z)+(g*u-c*C)*(b*k-M*z)+(p*h-l*d)*(_*D-w*N)-(p*u-c*d)*(_*k-M*N)+(l*u-c*h)*(_*z-b*N)}},{}],23:[function(m,de,ne){de.exports=function(o,g){var p=g[0],l=g[1],c=g[2],C=g[3],d=p+p,h=l+l,u=c+c,_=p*d,b=l*d,M=l*h,w=c*d,N=c*h,z=c*u,k=C*d,D=C*h,S=C*u;return o[0]=1-M-z,o[1]=b+S,o[2]=w-D,o[3]=0,o[4]=b-S,o[5]=1-_-z,o[6]=N+k,o[7]=0,o[8]=w+D,o[9]=N-k,o[10]=1-_-M,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},{}],24:[function(m,de,ne){de.exports=function(o,g,p){var l,c,C,d=p[0],h=p[1],u=p[2],_=Math.sqrt(d*d+h*h+u*u);return Math.abs(_)<1e-6?null:(d*=_=1/_,h*=_,u*=_,l=Math.sin(g),c=Math.cos(g),o[0]=d*d*(C=1-c)+c,o[1]=h*d*C+u*l,o[2]=u*d*C-h*l,o[3]=0,o[4]=d*h*C-u*l,o[5]=h*h*C+c,o[6]=u*h*C+d*l,o[7]=0,o[8]=d*u*C+h*l,o[9]=h*u*C-d*l,o[10]=u*u*C+c,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o)}},{}],25:[function(m,de,ne){de.exports=function(o,g,p){var l=g[0],c=g[1],C=g[2],d=g[3],h=l+l,u=c+c,_=C+C,b=l*h,M=l*u,w=l*_,N=c*u,z=c*_,k=C*_,D=d*h,S=d*u,P=d*_;return o[0]=1-(N+k),o[1]=M+P,o[2]=w-S,o[3]=0,o[4]=M-P,o[5]=1-(b+k),o[6]=z+D,o[7]=0,o[8]=w+S,o[9]=z-D,o[10]=1-(b+N),o[11]=0,o[12]=p[0],o[13]=p[1],o[14]=p[2],o[15]=1,o}},{}],26:[function(m,de,ne){de.exports=function(o,g){return o[0]=g[0],o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=g[1],o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=g[2],o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},{}],27:[function(m,de,ne){de.exports=function(o,g){return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=g[0],o[13]=g[1],o[14]=g[2],o[15]=1,o}},{}],28:[function(m,de,ne){de.exports=function(o,g){var p=Math.sin(g),l=Math.cos(g);return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=l,o[6]=p,o[7]=0,o[8]=0,o[9]=-p,o[10]=l,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},{}],29:[function(m,de,ne){de.exports=function(o,g){var p=Math.sin(g),l=Math.cos(g);return o[0]=l,o[1]=0,o[2]=-p,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=p,o[9]=0,o[10]=l,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},{}],30:[function(m,de,ne){de.exports=function(o,g){var p=Math.sin(g),l=Math.cos(g);return o[0]=l,o[1]=p,o[2]=0,o[3]=0,o[4]=-p,o[5]=l,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},{}],31:[function(m,de,ne){de.exports=function(o,g,p,l,c,C,d){var h=1/(p-g),u=1/(c-l),_=1/(C-d);return o[0]=2*C*h,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2*C*u,o[6]=0,o[7]=0,o[8]=(p+g)*h,o[9]=(c+l)*u,o[10]=(d+C)*_,o[11]=-1,o[12]=0,o[13]=0,o[14]=d*C*2*_,o[15]=0,o}},{}],32:[function(m,de,ne){de.exports=function(o){return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}},{}],33:[function(m,de,ne){de.exports={create:m("./create"),clone:m("./clone"),copy:m("./copy"),identity:m("./identity"),transpose:m("./transpose"),invert:m("./invert"),adjoint:m("./adjoint"),determinant:m("./determinant"),multiply:m("./multiply"),translate:m("./translate"),scale:m("./scale"),rotate:m("./rotate"),rotateX:m("./rotateX"),rotateY:m("./rotateY"),rotateZ:m("./rotateZ"),fromRotation:m("./fromRotation"),fromRotationTranslation:m("./fromRotationTranslation"),fromScaling:m("./fromScaling"),fromTranslation:m("./fromTranslation"),fromXRotation:m("./fromXRotation"),fromYRotation:m("./fromYRotation"),fromZRotation:m("./fromZRotation"),fromQuat:m("./fromQuat"),frustum:m("./frustum"),perspective:m("./perspective"),perspectiveFromFieldOfView:m("./perspectiveFromFieldOfView"),ortho:m("./ortho"),lookAt:m("./lookAt"),str:m("./str")}},{"./adjoint":18,"./clone":19,"./copy":20,"./create":21,"./determinant":22,"./fromQuat":23,"./fromRotation":24,"./fromRotationTranslation":25,"./fromScaling":26,"./fromTranslation":27,"./fromXRotation":28,"./fromYRotation":29,"./fromZRotation":30,"./frustum":31,"./identity":32,"./invert":34,"./lookAt":35,"./multiply":36,"./ortho":37,"./perspective":38,"./perspectiveFromFieldOfView":39,"./rotate":40,"./rotateX":41,"./rotateY":42,"./rotateZ":43,"./scale":44,"./str":45,"./translate":46,"./transpose":47}],34:[function(m,de,ne){de.exports=function(o,g){var p=g[0],l=g[1],c=g[2],C=g[3],d=g[4],h=g[5],u=g[6],_=g[7],b=g[8],M=g[9],w=g[10],N=g[11],z=g[12],k=g[13],D=g[14],S=g[15],P=p*h-l*d,V=p*u-c*d,E=p*_-C*d,I=l*u-c*h,L=l*_-C*h,B=c*_-C*u,$=b*k-M*z,T=b*D-w*z,Y=b*S-N*z,W=M*D-w*k,q=M*S-N*k,Q=w*S-N*D,te=P*Q-V*q+E*W+I*Y-L*T+B*$;return te?(o[0]=(h*Q-u*q+_*W)*(te=1/te),o[1]=(c*q-l*Q-C*W)*te,o[2]=(k*B-D*L+S*I)*te,o[3]=(w*L-M*B-N*I)*te,o[4]=(u*Y-d*Q-_*T)*te,o[5]=(p*Q-c*Y+C*T)*te,o[6]=(D*E-z*B-S*V)*te,o[7]=(b*B-w*E+N*V)*te,o[8]=(d*q-h*Y+_*$)*te,o[9]=(l*Y-p*q-C*$)*te,o[10]=(z*L-k*E+S*P)*te,o[11]=(M*E-b*L-N*P)*te,o[12]=(h*T-d*W-u*$)*te,o[13]=(p*W-l*T+c*$)*te,o[14]=(k*V-z*I-D*P)*te,o[15]=(b*I-M*V+w*P)*te,o):null}},{}],35:[function(m,de,ne){var o=m("./identity");de.exports=function(g,p,l,c){var C,d,h,u,_,b,M,w,N,z,k=p[0],D=p[1],S=p[2],P=c[0],V=c[1],E=c[2],I=l[0],L=l[1],B=l[2];return Math.abs(k-I)<1e-6&&Math.abs(D-L)<1e-6&&Math.abs(S-B)<1e-6?o(g):(M=k-I,w=D-L,N=S-B,C=V*(N*=z=1/Math.sqrt(M*M+w*w+N*N))-E*(w*=z),d=E*(M*=z)-P*N,h=P*w-V*M,(z=Math.sqrt(C*C+d*d+h*h))?(C*=z=1/z,d*=z,h*=z):(C=0,d=0,h=0),u=w*h-N*d,_=N*C-M*h,b=M*d-w*C,(z=Math.sqrt(u*u+_*_+b*b))?(u*=z=1/z,_*=z,b*=z):(u=0,_=0,b=0),g[0]=C,g[1]=u,g[2]=M,g[3]=0,g[4]=d,g[5]=_,g[6]=w,g[7]=0,g[8]=h,g[9]=b,g[10]=N,g[11]=0,g[12]=-(C*k+d*D+h*S),g[13]=-(u*k+_*D+b*S),g[14]=-(M*k+w*D+N*S),g[15]=1,g)}},{"./identity":32}],36:[function(m,de,ne){de.exports=function(o,g,p){var l=g[0],c=g[1],C=g[2],d=g[3],h=g[4],u=g[5],_=g[6],b=g[7],M=g[8],w=g[9],N=g[10],z=g[11],k=g[12],D=g[13],S=g[14],P=g[15],V=p[0],E=p[1],I=p[2],L=p[3];return o[0]=V*l+E*h+I*M+L*k,o[1]=V*c+E*u+I*w+L*D,o[2]=V*C+E*_+I*N+L*S,o[3]=V*d+E*b+I*z+L*P,o[4]=(V=p[4])*l+(E=p[5])*h+(I=p[6])*M+(L=p[7])*k,o[5]=V*c+E*u+I*w+L*D,o[6]=V*C+E*_+I*N+L*S,o[7]=V*d+E*b+I*z+L*P,o[8]=(V=p[8])*l+(E=p[9])*h+(I=p[10])*M+(L=p[11])*k,o[9]=V*c+E*u+I*w+L*D,o[10]=V*C+E*_+I*N+L*S,o[11]=V*d+E*b+I*z+L*P,o[12]=(V=p[12])*l+(E=p[13])*h+(I=p[14])*M+(L=p[15])*k,o[13]=V*c+E*u+I*w+L*D,o[14]=V*C+E*_+I*N+L*S,o[15]=V*d+E*b+I*z+L*P,o}},{}],37:[function(m,de,ne){de.exports=function(o,g,p,l,c,C,d){var h=1/(g-p),u=1/(l-c),_=1/(C-d);return o[0]=-2*h,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*u,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*_,o[11]=0,o[12]=(g+p)*h,o[13]=(c+l)*u,o[14]=(d+C)*_,o[15]=1,o}},{}],38:[function(m,de,ne){de.exports=function(o,g,p,l,c){var C=1/Math.tan(g/2),d=1/(l-c);return o[0]=C/p,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=C,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=(c+l)*d,o[11]=-1,o[12]=0,o[13]=0,o[14]=2*c*l*d,o[15]=0,o}},{}],39:[function(m,de,ne){de.exports=function(o,g,p,l){var c=Math.tan(g.upDegrees*Math.PI/180),C=Math.tan(g.downDegrees*Math.PI/180),d=Math.tan(g.leftDegrees*Math.PI/180),h=Math.tan(g.rightDegrees*Math.PI/180),u=2/(d+h),_=2/(c+C);return o[0]=u,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=_,o[6]=0,o[7]=0,o[8]=-(d-h)*u*.5,o[9]=(c-C)*_*.5,o[10]=l/(p-l),o[11]=-1,o[12]=0,o[13]=0,o[14]=l*p/(p-l),o[15]=0,o}},{}],40:[function(m,de,ne){de.exports=function(o,g,p,l){var c,C,d,h,u,_,b,M,w,N,z,k,D,S,P,V,E,I,L,B,$,T,Y,W,q=l[0],Q=l[1],te=l[2],ce=Math.sqrt(q*q+Q*Q+te*te);return Math.abs(ce)<1e-6?null:(q*=ce=1/ce,Q*=ce,te*=ce,c=Math.sin(p),C=Math.cos(p),u=g[1],_=g[2],b=g[3],w=g[5],N=g[6],z=g[7],D=g[9],S=g[10],P=g[11],L=q*Q*(d=1-C)-te*c,B=Q*Q*d+C,$=te*Q*d+q*c,T=q*te*d+Q*c,Y=Q*te*d-q*c,W=te*te*d+C,o[0]=(h=g[0])*(V=q*q*d+C)+(M=g[4])*(E=Q*q*d+te*c)+(k=g[8])*(I=te*q*d-Q*c),o[1]=u*V+w*E+D*I,o[2]=_*V+N*E+S*I,o[3]=b*V+z*E+P*I,o[4]=h*L+M*B+k*$,o[5]=u*L+w*B+D*$,o[6]=_*L+N*B+S*$,o[7]=b*L+z*B+P*$,o[8]=h*T+M*Y+k*W,o[9]=u*T+w*Y+D*W,o[10]=_*T+N*Y+S*W,o[11]=b*T+z*Y+P*W,g!==o&&(o[12]=g[12],o[13]=g[13],o[14]=g[14],o[15]=g[15]),o)}},{}],41:[function(m,de,ne){de.exports=function(o,g,p){var l=Math.sin(p),c=Math.cos(p),C=g[4],d=g[5],h=g[6],u=g[7],_=g[8],b=g[9],M=g[10],w=g[11];return g!==o&&(o[0]=g[0],o[1]=g[1],o[2]=g[2],o[3]=g[3],o[12]=g[12],o[13]=g[13],o[14]=g[14],o[15]=g[15]),o[4]=C*c+_*l,o[5]=d*c+b*l,o[6]=h*c+M*l,o[7]=u*c+w*l,o[8]=_*c-C*l,o[9]=b*c-d*l,o[10]=M*c-h*l,o[11]=w*c-u*l,o}},{}],42:[function(m,de,ne){de.exports=function(o,g,p){var l=Math.sin(p),c=Math.cos(p),C=g[0],d=g[1],h=g[2],u=g[3],_=g[8],b=g[9],M=g[10],w=g[11];return g!==o&&(o[4]=g[4],o[5]=g[5],o[6]=g[6],o[7]=g[7],o[12]=g[12],o[13]=g[13],o[14]=g[14],o[15]=g[15]),o[0]=C*c-_*l,o[1]=d*c-b*l,o[2]=h*c-M*l,o[3]=u*c-w*l,o[8]=C*l+_*c,o[9]=d*l+b*c,o[10]=h*l+M*c,o[11]=u*l+w*c,o}},{}],43:[function(m,de,ne){de.exports=function(o,g,p){var l=Math.sin(p),c=Math.cos(p),C=g[0],d=g[1],h=g[2],u=g[3],_=g[4],b=g[5],M=g[6],w=g[7];return g!==o&&(o[8]=g[8],o[9]=g[9],o[10]=g[10],o[11]=g[11],o[12]=g[12],o[13]=g[13],o[14]=g[14],o[15]=g[15]),o[0]=C*c+_*l,o[1]=d*c+b*l,o[2]=h*c+M*l,o[3]=u*c+w*l,o[4]=_*c-C*l,o[5]=b*c-d*l,o[6]=M*c-h*l,o[7]=w*c-u*l,o}},{}],44:[function(m,de,ne){de.exports=function(o,g,p){var l=p[0],c=p[1],C=p[2];return o[0]=g[0]*l,o[1]=g[1]*l,o[2]=g[2]*l,o[3]=g[3]*l,o[4]=g[4]*c,o[5]=g[5]*c,o[6]=g[6]*c,o[7]=g[7]*c,o[8]=g[8]*C,o[9]=g[9]*C,o[10]=g[10]*C,o[11]=g[11]*C,o[12]=g[12],o[13]=g[13],o[14]=g[14],o[15]=g[15],o}},{}],45:[function(m,de,ne){de.exports=function(o){return"mat4("+o[0]+", "+o[1]+", "+o[2]+", "+o[3]+", "+o[4]+", "+o[5]+", "+o[6]+", "+o[7]+", "+o[8]+", "+o[9]+", "+o[10]+", "+o[11]+", "+o[12]+", "+o[13]+", "+o[14]+", "+o[15]+")"}},{}],46:[function(m,de,ne){de.exports=function(o,g,p){var l,c,C,d,h,u,_,b,M,w,N,z,k=p[0],D=p[1],S=p[2];return g===o?(o[12]=g[0]*k+g[4]*D+g[8]*S+g[12],o[13]=g[1]*k+g[5]*D+g[9]*S+g[13],o[14]=g[2]*k+g[6]*D+g[10]*S+g[14],o[15]=g[3]*k+g[7]*D+g[11]*S+g[15]):(c=g[1],C=g[2],d=g[3],h=g[4],u=g[5],_=g[6],b=g[7],M=g[8],w=g[9],N=g[10],z=g[11],o[0]=l=g[0],o[1]=c,o[2]=C,o[3]=d,o[4]=h,o[5]=u,o[6]=_,o[7]=b,o[8]=M,o[9]=w,o[10]=N,o[11]=z,o[12]=l*k+h*D+M*S+g[12],o[13]=c*k+u*D+w*S+g[13],o[14]=C*k+_*D+N*S+g[14],o[15]=d*k+b*D+z*S+g[15]),o}},{}],47:[function(m,de,ne){de.exports=function(o,g){if(o===g){var p=g[1],l=g[2],c=g[3],C=g[6],d=g[7],h=g[11];o[1]=g[4],o[2]=g[8],o[3]=g[12],o[4]=p,o[6]=g[9],o[7]=g[13],o[8]=l,o[9]=C,o[11]=g[14],o[12]=c,o[13]=d,o[14]=h}else o[0]=g[0],o[1]=g[4],o[2]=g[8],o[3]=g[12],o[4]=g[1],o[5]=g[5],o[6]=g[9],o[7]=g[13],o[8]=g[2],o[9]=g[6],o[10]=g[10],o[11]=g[14],o[12]=g[3],o[13]=g[7],o[14]=g[11],o[15]=g[15];return o}},{}],48:[function(m,de,ne){(function(o){(function(){"use strict";var g,p=m("is-browser");g="function"==typeof o.matchMedia?!o.matchMedia("(hover: none)").matches:p,de.exports=g}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"is-browser":50}],49:[function(m,de,ne){"use strict";var o=m("is-browser");de.exports=o&&function(){var g=!1;try{var p=Object.defineProperty({},"passive",{get:function(){g=!0}});window.addEventListener("test",null,p),window.removeEventListener("test",null,p)}catch(l){g=!1}return g}()},{"is-browser":50}],50:[function(m,de,ne){de.exports=!0},{}],51:[function(m,de,ne){"use strict";de.exports=p,de.exports.isMobile=p,de.exports.default=p;var o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,g=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function p(l){l||(l={});var c=l.ua;if(c||"undefined"==typeof navigator||(c=navigator.userAgent),c&&c.headers&&"string"==typeof c.headers["user-agent"]&&(c=c.headers["user-agent"]),"string"!=typeof c)return!1;var C=l.tablet?g.test(c):o.test(c);return!C&&l.tablet&&l.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==c.indexOf("Macintosh")&&-1!==c.indexOf("Safari")&&(C=!0),C}},{}],52:[function(m,de,ne){"use strict";de.exports=function(o){for(var g,p=o.length,l=0;l<p;l++)if(((g=o.charCodeAt(l))<9||g>13)&&32!==g&&133!==g&&160!==g&&5760!==g&&6158!==g&&(g<8192||g>8205)&&8232!==g&&8233!==g&&8239!==g&&8287!==g&&8288!==g&&12288!==g&&65279!==g)return!1;return!0}},{}],53:[function(m,de,ne){var o={left:0,top:0};de.exports=function(g,p,l){p=p||g.currentTarget||g.srcElement,Array.isArray(l)||(l=[0,0]);var h,c=g.clientX||0,C=g.clientY||0,d=(h=p)===window||h===document||h===document.body?o:h.getBoundingClientRect();return l[0]=c-d.left,l[1]=C-d.top,l}},{}],54:[function(m,de,ne){(function(o,g){(function(){var p,l,c;c=function(){"use strict";var C,d,h,u=Object.prototype.toString,_=void 0!==g?function(I){return g(I)}:setTimeout;try{Object.defineProperty({},"x",{}),C=function(I,L,B,$){return Object.defineProperty(I,L,{value:B,writable:!0,configurable:!1!==$})}}catch(I){C=function(L,B,$){return L[B]=$,L}}function b(I,L){h.add(I,L),d||(d=_(h.drain))}function M(I){var L,B=typeof I;return null==I||"object"!=B&&"function"!=B||(L=I.then),"function"==typeof L&&L}function w(){for(var I=0;I<this.chain.length;I++)N(this,1===this.state?this.chain[I].success:this.chain[I].failure,this.chain[I]);this.chain.length=0}function N(I,L,B){var $,T;try{!1===L?B.reject(I.msg):($=!0===L?I.msg:L.call(void 0,I.msg))===B.promise?B.reject(TypeError("Promise-chain cycle")):(T=M($))?T.call($,B.resolve,B.reject):B.resolve($)}catch(Y){B.reject(Y)}}function z(I){var L,B=this;if(!B.triggered){B.triggered=!0,B.def&&(B=B.def);try{(L=M(I))?b(function(){var $=new S(B);try{L.call(I,function(){z.apply($,arguments)},function(){k.apply($,arguments)})}catch(T){k.call($,T)}}):(B.msg=I,B.state=1,B.chain.length>0&&b(w,B))}catch($){k.call(new S(B),$)}}}function k(I){var L=this;L.triggered||(L.triggered=!0,L.def&&(L=L.def),L.msg=I,L.state=2,L.chain.length>0&&b(w,L))}function D(I,L,B,$){for(var T=0;T<L.length;T++)!function(Y){I.resolve(L[Y]).then(function(W){B(Y,W)},$)}(T)}function S(I){this.def=I,this.triggered=!1}function P(I){this.promise=I,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function V(I){if("function"!=typeof I)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var L=new P(this);this.then=function(B,$){var T={success:"function"!=typeof B||B,failure:"function"==typeof $&&$};return T.promise=new this.constructor(function(Y,W){if("function"!=typeof Y||"function"!=typeof W)throw TypeError("Not a function");T.resolve=Y,T.reject=W}),L.chain.push(T),0!==L.state&&b(w,L),T.promise},this.catch=function(B){return this.then(void 0,B)};try{I.call(void 0,function(B){z.call(L,B)},function(B){k.call(L,B)})}catch(B){k.call(L,B)}}h=function(){var I,L,B;function $(T,Y){this.fn=T,this.self=Y,this.next=void 0}return{add:function(T,Y){B=new $(T,Y),L?L.next=B:I=B,L=B,B=void 0},drain:function(){var T=I;for(I=L=d=void 0;T;)T.fn.call(T.self),T=T.next}}}();var E=C({},"constructor",V,!1);return V.prototype=E,C(E,"__NPO__",0,!1),C(V,"resolve",function(I){return I&&"object"==typeof I&&1===I.__NPO__?I:new this(function(L,B){if("function"!=typeof L||"function"!=typeof B)throw TypeError("Not a function");L(I)})}),C(V,"reject",function(I){return new this(function(L,B){if("function"!=typeof L||"function"!=typeof B)throw TypeError("Not a function");B(I)})}),C(V,"all",function(I){var L=this;return"[object Array]"!=u.call(I)?L.reject(TypeError("Not an array")):0===I.length?L.resolve([]):new L(function(B,$){if("function"!=typeof B||"function"!=typeof $)throw TypeError("Not a function");var T=I.length,Y=Array(T),W=0;D(L,I,function(q,Q){Y[q]=Q,++W===T&&B(Y)},$)})}),C(V,"race",function(I){var L=this;return"[object Array]"!=u.call(I)?L.reject(TypeError("Not an array")):new L(function(B,$){if("function"!=typeof B||"function"!=typeof $)throw TypeError("Not a function");D(L,I,function(T,Y){B(Y)},$)})}),V},(l=void 0!==o?o:this)[p="Promise"]=l[p]||c(),void 0!==de&&de.exports&&(de.exports=l[p])}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},m("timers").setImmediate)},{timers:66}],55:[function(m,de,ne){"use strict";var o=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;function l(c){if(null==c)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(c)}de.exports=function(){try{if(!Object.assign)return!1;var c=new String("abc");if(c[5]="de","5"===Object.getOwnPropertyNames(c)[0])return!1;for(var C={},d=0;d<10;d++)C["_"+String.fromCharCode(d)]=d;if("0123456789"!==Object.getOwnPropertyNames(C).map(function(u){return C[u]}).join(""))return!1;var h={};return"abcdefghijklmnopqrst".split("").forEach(function(u){h[u]=u}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},h)).join("")}catch(u){return!1}}()?Object.assign:function(c,C){for(var d,h,u=l(c),_=1;_<arguments.length;_++){for(var b in d=Object(arguments[_]))g.call(d,b)&&(u[b]=d[b]);if(o){h=o(d);for(var M=0;M<h.length;M++)p.call(d,h[M])&&(u[h[M]]=d[h[M]])}}return u}},{}],56:[function(m,de,ne){de.exports=function(l){var c=[];return l.replace(g,function(C,d,h){var b,u=d.toLowerCase();for(b=void 0,h=(b=h.match(p))?b.map(Number):[],"m"==u&&h.length>2&&(c.push([d].concat(h.splice(0,2))),u="l",d="m"==d?"l":"L");;){if(h.length==o[u])return h.unshift(d),c.push(h);if(h.length<o[u])throw new Error("malformed path data");c.push([d].concat(h.splice(0,o[u])))}}),c};var o={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},g=/([astvzqmhlc])([^astvzqmhlc]*)/gi,p=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},{}],57:[function(m,de,ne){var o,g=m("./lib/build-log"),p=m("./lib/epsilon"),l=m("./lib/intersecter"),c=m("./lib/segment-chainer"),C=m("./lib/segment-selector"),d=m("./lib/geojson"),h=!1,u=p();function _(b,M,w){var N=o.segments(b),z=o.segments(M),k=w(o.combine(N,z));return o.polygon(k)}o={buildLog:function(b){return!0===b?h=g():!1===b&&(h=!1),!1!==h&&h.list},epsilon:function(b){return u.epsilon(b)},segments:function(b){var M=l(!0,u,h);return b.regions.forEach(M.addRegion),{segments:M.calculate(b.inverted),inverted:b.inverted}},combine:function(b,M){return{combined:l(!1,u,h).calculate(b.segments,b.inverted,M.segments,M.inverted),inverted1:b.inverted,inverted2:M.inverted}},selectUnion:function(b){return{segments:C.union(b.combined,h),inverted:b.inverted1||b.inverted2}},selectIntersect:function(b){return{segments:C.intersect(b.combined,h),inverted:b.inverted1&&b.inverted2}},selectDifference:function(b){return{segments:C.difference(b.combined,h),inverted:b.inverted1&&!b.inverted2}},selectDifferenceRev:function(b){return{segments:C.differenceRev(b.combined,h),inverted:!b.inverted1&&b.inverted2}},selectXor:function(b){return{segments:C.xor(b.combined,h),inverted:b.inverted1!==b.inverted2}},polygon:function(b){return{regions:c(b.segments,u,h),inverted:b.inverted}},polygonFromGeoJSON:function(b){return d.toPolygon(o,b)},polygonToGeoJSON:function(b){return d.fromPolygon(o,u,b)},union:function(b,M){return _(b,M,o.selectUnion)},intersect:function(b,M){return _(b,M,o.selectIntersect)},difference:function(b,M){return _(b,M,o.selectDifference)},differenceRev:function(b,M){return _(b,M,o.selectDifferenceRev)},xor:function(b,M){return _(b,M,o.selectXor)}},"object"==typeof window&&(window.PolyBool=o),de.exports=o},{"./lib/build-log":58,"./lib/epsilon":59,"./lib/geojson":60,"./lib/intersecter":61,"./lib/segment-chainer":63,"./lib/segment-selector":64}],58:[function(m,de,ne){de.exports=function(){var o,g=0,p=!1;function l(c,C){return o.list.push({type:c,data:C?JSON.parse(JSON.stringify(C)):void 0}),o}return o={list:[],segmentId:function(){return g++},checkIntersection:function(c,C){return l("check",{seg1:c,seg2:C})},segmentChop:function(c,C){return l("div_seg",{seg:c,pt:C}),l("chop",{seg:c,pt:C})},statusRemove:function(c){return l("pop_seg",{seg:c})},segmentUpdate:function(c){return l("seg_update",{seg:c})},segmentNew:function(c,C){return l("new_seg",{seg:c,primary:C})},segmentRemove:function(c){return l("rem_seg",{seg:c})},tempStatus:function(c,C,d){return l("temp_status",{seg:c,above:C,below:d})},rewind:function(c){return l("rewind",{seg:c})},status:function(c,C,d){return l("status",{seg:c,above:C,below:d})},vert:function(c){return c===p?o:(p=c,l("vert",{x:c}))},log:function(c){return"string"!=typeof c&&(c=JSON.stringify(c,!1,"  ")),l("log",{txt:c})},reset:function(){return l("reset")},selected:function(c){return l("selected",{segs:c})},chainStart:function(c){return l("chain_start",{seg:c})},chainRemoveHead:function(c,C){return l("chain_rem_head",{index:c,pt:C})},chainRemoveTail:function(c,C){return l("chain_rem_tail",{index:c,pt:C})},chainNew:function(c,C){return l("chain_new",{pt1:c,pt2:C})},chainMatch:function(c){return l("chain_match",{index:c})},chainClose:function(c){return l("chain_close",{index:c})},chainAddHead:function(c,C){return l("chain_add_head",{index:c,pt:C})},chainAddTail:function(c,C){return l("chain_add_tail",{index:c,pt:C})},chainConnect:function(c,C){return l("chain_con",{index1:c,index2:C})},chainReverse:function(c){return l("chain_rev",{index:c})},chainJoin:function(c,C){return l("chain_join",{index1:c,index2:C})},done:function(){return l("done")}}}},{}],59:[function(m,de,ne){de.exports=function(o){"number"!=typeof o&&(o=1e-10);var g={epsilon:function(p){return"number"==typeof p&&(o=p),o},pointAboveOrOnLine:function(p,l,c){var C=l[0],d=l[1];return(c[0]-C)*(p[1]-d)-(c[1]-d)*(p[0]-C)>=-o},pointBetween:function(p,l,c){var d=c[0]-l[0],u=c[1]-l[1],_=(p[0]-l[0])*d+(p[1]-l[1])*u;return!(_<o||_-(d*d+u*u)>-o)},pointsSameX:function(p,l){return Math.abs(p[0]-l[0])<o},pointsSameY:function(p,l){return Math.abs(p[1]-l[1])<o},pointsSame:function(p,l){return g.pointsSameX(p,l)&&g.pointsSameY(p,l)},pointsCompare:function(p,l){return g.pointsSameX(p,l)?g.pointsSameY(p,l)?0:p[1]<l[1]?-1:1:p[0]<l[0]?-1:1},pointsCollinear:function(p,l,c){return Math.abs((p[0]-l[0])*(l[1]-c[1])-(l[0]-c[0])*(p[1]-l[1]))<o},linesIntersect:function(p,l,c,C){var d=l[0]-p[0],h=l[1]-p[1],u=C[0]-c[0],_=C[1]-c[1],b=d*_-h*u;if(Math.abs(b)<o)return!1;var M=p[0]-c[0],w=p[1]-c[1],N=(u*w-_*M)/b,z=(d*w-h*M)/b,k={alongA:0,alongB:0,pt:[p[0]+N*d,p[1]+N*h]};return k.alongA=N<=-o?-2:N<o?-1:N-1<=-o?0:N-1<o?1:2,k.alongB=z<=-o?-2:z<o?-1:z-1<=-o?0:z-1<o?1:2,k},pointInsideRegion:function(p,l){for(var c=p[0],C=p[1],d=l[l.length-1][0],h=l[l.length-1][1],u=!1,_=0;_<l.length;_++){var b=l[_][0],M=l[_][1];M-C>o!=h-C>o&&(d-b)*(C-M)/(h-M)+b-c>o&&(u=!u),d=b,h=M}return u}};return g}},{}],60:[function(m,de,ne){de.exports={toPolygon:function(g,p){function l(d){if(d.length<=0)return g.segments({inverted:!1,regions:[]});function h(b){var M=b.slice(0,b.length-1);return g.segments({inverted:!1,regions:[M]})}for(var u=h(d[0]),_=1;_<d.length;_++)u=g.selectDifference(g.combine(u,h(d[_])));return u}if("Polygon"===p.type)return g.polygon(l(p.coordinates));if("MultiPolygon"===p.type){for(var c=g.segments({inverted:!1,regions:[]}),C=0;C<p.coordinates.length;C++)c=g.selectUnion(g.combine(c,l(p.coordinates[C])));return g.polygon(c)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(g,p,l){function c(z,k){return p.pointInsideRegion([.5*(z[0][0]+z[1][0]),.5*(z[0][1]+z[1][1])],k)}function C(z){return{region:z,children:[]}}l=g.polygon(g.segments(l));var d=C(null);function h(z,k){for(var D=0;D<z.children.length;D++)if(c(k,(P=z.children[D]).region))return void h(P,k);var S=C(k);for(D=0;D<z.children.length;D++){var P;c((P=z.children[D]).region,k)&&(S.children.push(P),z.children.splice(D,1),D--)}z.children.push(S)}for(var u=0;u<l.regions.length;u++){var _=l.regions[u];_.length<3||h(d,_)}function b(z,k){for(var D=0,S=z[z.length-1][0],P=z[z.length-1][1],V=[],E=0;E<z.length;E++){var I=z[E][0],L=z[E][1];V.push([I,L]),D+=L*S-I*P,S=I,P=L}return D<0!==k&&V.reverse(),V.push([V[0][0],V[0][1]]),V}var M=[];function w(z){var k=[b(z.region,!1)];M.push(k);for(var D=0;D<z.children.length;D++)k.push(N(z.children[D]))}function N(z){for(var k=0;k<z.children.length;k++)w(z.children[k]);return b(z.region,!0)}for(u=0;u<d.children.length;u++)w(d.children[u]);return M.length<=0?{type:"Polygon",coordinates:[]}:1==M.length?{type:"Polygon",coordinates:M[0]}:{type:"MultiPolygon",coordinates:M}}}},{}],61:[function(m,de,ne){var o=m("./linked-list");de.exports=function(g,p,l){function c(b,M,w){return{id:l?l.segmentId():-1,start:b,end:M,myFill:{above:w.myFill.above,below:w.myFill.below},otherFill:null}}var C=o.create();function d(b,M){C.insertBefore(b,function(w){return N=b.isStart,k=M,D=w.isStart,P=w.other.pt,(0!==(V=p.pointsCompare(b.pt,S=w.pt))?V:p.pointsSame(k,P)?0:N!==D?N?1:-1:p.pointAboveOrOnLine(k,D?S:P,D?P:S)?1:-1)<0;var N,k,D,S,P,V})}function h(b,M){var N,k,w=(d(k=o.node({isStart:!0,pt:(N=b).start,seg:N,primary:M,other:null,status:null}),N.end),k);return function(N,z,k){var D=o.node({isStart:!1,pt:z.end,seg:z,primary:k,other:N,status:null});N.other=D,d(D,N.pt)}(w,b,M),w}function u(b,M){var N,z,w=c(M,b.seg.end,b.seg);return N=b,z=M,l&&l.segmentChop(N.seg,z),N.other.remove(),N.seg.end=z,N.other.pt=z,d(N.other,N.pt),h(w,b.primary)}function _(b,M){var w=o.create();function N(Y){return w.findTransition(function(W){var q,Q,te,ce,me,ie;return ce=(q=Y).seg.end,(p.pointsCollinear(te=q.seg.start,me=(Q=W.ev).seg.start,ie=Q.seg.end)?p.pointsCollinear(ce,me,ie)||p.pointAboveOrOnLine(ce,me,ie)?1:-1:p.pointAboveOrOnLine(te,me,ie)?1:-1)>0})}function z(Y,W){var q=Y.seg,Q=W.seg,te=q.start,ce=q.end,me=Q.start,ie=Q.end;l&&l.checkIntersection(q,Q);var K=p.linesIntersect(te,ce,me,ie);if(!1===K){if(!p.pointsCollinear(te,ce,me)||p.pointsSame(te,ie)||p.pointsSame(ce,me))return!1;var le=p.pointsSame(te,me),G=p.pointsSame(ce,ie);if(le&&G)return W;var j=!le&&p.pointBetween(te,me,ie),oe=!G&&p.pointBetween(ce,me,ie);if(le)return oe?u(W,ce):u(Y,ie),W;j&&(G||(oe?u(W,ce):u(Y,ie)),u(W,te))}else 0===K.alongA&&(-1===K.alongB?u(Y,me):0===K.alongB?u(Y,K.pt):1===K.alongB&&u(Y,ie)),0===K.alongB&&(-1===K.alongA?u(W,te):0===K.alongA?u(W,K.pt):1===K.alongA&&u(W,ce));return!1}for(var k=[];!C.isEmpty();){var D=C.getHead();if(l&&l.vert(D.pt[0]),D.isStart){let Y=function(){if(P){var W=z(D,P);if(W)return W}return!!V&&z(D,V)};l&&l.segmentNew(D.seg,D.primary);var S=N(D),P=S.before?S.before.ev:null,V=S.after?S.after.ev:null;l&&l.tempStatus(D.seg,!!P&&P.seg,!!V&&V.seg);var E,L,I=Y();if(I&&(g?(L=null===D.seg.myFill.below||D.seg.myFill.above!==D.seg.myFill.below)&&(I.seg.myFill.above=!I.seg.myFill.above):I.seg.otherFill=D.seg.myFill,l&&l.segmentUpdate(I.seg),D.other.remove(),D.remove()),C.getHead()!==D){l&&l.rewind(D.seg);continue}g?(L=null===D.seg.myFill.below||D.seg.myFill.above!==D.seg.myFill.below,D.seg.myFill.below=V?V.seg.myFill.above:b,D.seg.myFill.above=L?!D.seg.myFill.below:D.seg.myFill.below):null===D.seg.otherFill&&(D.seg.otherFill={above:E=V?D.primary===V.primary?V.seg.otherFill.above:V.seg.myFill.above:D.primary?M:b,below:E}),l&&l.status(D.seg,!!P&&P.seg,!!V&&V.seg),D.other.status=S.insert(o.node({ev:D}))}else{var B=D.status;if(null===B)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(w.exists(B.prev)&&w.exists(B.next)&&z(B.prev.ev,B.next.ev),l&&l.statusRemove(B.ev.seg),B.remove(),!D.primary){var $=D.seg.myFill;D.seg.myFill=D.seg.otherFill,D.seg.otherFill=$}k.push(D.seg)}C.getHead().remove()}return l&&l.done(),k}return g?{addRegion:function(b){for(var M,w,N,z=b[b.length-1],k=0;k<b.length;k++){var D=p.pointsCompare(M=z,z=b[k]);0!==D&&h((w=D<0?M:z,N=D<0?z:M,{id:l?l.segmentId():-1,start:w,end:N,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(b){return _(b,!1)}}:{calculate:function(b,M,w,N){return b.forEach(function(z){h(c(z.start,z.end,z),!0)}),w.forEach(function(z){h(c(z.start,z.end,z),!1)}),_(M,N)}}}},{"./linked-list":62}],62:[function(m,de,ne){de.exports={create:function(){var o={root:{root:!0,next:null},exists:function(g){return null!==g&&g!==o.root},isEmpty:function(){return null===o.root.next},getHead:function(){return o.root.next},insertBefore:function(g,p){for(var l=o.root,c=o.root.next;null!==c;){if(p(c))return g.prev=c.prev,g.next=c,c.prev.next=g,void(c.prev=g);l=c,c=c.next}l.next=g,g.prev=l,g.next=null},findTransition:function(g){for(var p=o.root,l=o.root.next;null!==l&&!g(l);)p=l,l=l.next;return{before:p===o.root?null:p,after:l,insert:function(c){return c.prev=p,c.next=l,p.next=c,null!==l&&(l.prev=c),c}}}};return o},node:function(o){return o.prev=null,o.next=null,o.remove=function(){o.prev.next=o.next,o.next&&(o.next.prev=o.prev),o.prev=null,o.next=null},o}}},{}],63:[function(m,de,ne){de.exports=function(o,g,p){var l=[],c=[];return o.forEach(function(C){var d=C.start,h=C.end;if(g.pointsSame(d,h))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{p&&p.chainStart(C);for(var u={index:0,matches_head:!1,matches_pt1:!1},_={index:0,matches_head:!1,matches_pt1:!1},b=u,M=0;M<l.length;M++){var w=(S=l[M])[0],N=S[S.length-1];if(g.pointsSame(w,d)){if(T(M,!0,!0))break}else if(g.pointsSame(w,h)){if(T(M,!0,!1))break}else if(g.pointsSame(N,d)){if(T(M,!1,!0))break}else if(g.pointsSame(N,h)&&T(M,!1,!1))break}if(b===u)return l.push([d,h]),void(p&&p.chainNew(d,h));if(b===_){p&&p.chainMatch(u.index);var z=u.index,k=u.matches_pt1?h:d,D=u.matches_head,S=l[z],P=D?S[0]:S[S.length-1],V=D?S[1]:S[S.length-2],E=D?S[S.length-1]:S[0],I=D?S[S.length-2]:S[1];return g.pointsCollinear(V,P,k)&&(D?(p&&p.chainRemoveHead(u.index,k),S.shift()):(p&&p.chainRemoveTail(u.index,k),S.pop()),P=V),g.pointsSame(E,k)?(l.splice(z,1),g.pointsCollinear(I,E,P)&&(D?(p&&p.chainRemoveTail(u.index,P),S.pop()):(p&&p.chainRemoveHead(u.index,P),S.shift())),p&&p.chainClose(u.index),void c.push(S)):void(D?(p&&p.chainAddHead(u.index,k),S.unshift(k)):(p&&p.chainAddTail(u.index,k),S.push(k)))}var L=u.index,B=_.index;p&&p.chainConnect(L,B);var $=l[L].length<l[B].length;u.matches_head?_.matches_head?$?(Y(L),W(L,B)):(Y(B),W(B,L)):W(B,L):_.matches_head?W(L,B):$?(Y(L),W(B,L)):(Y(B),W(L,B))}function T(q,Q,te){return b.index=q,b.matches_head=Q,b.matches_pt1=te,b===u?(b=_,!1):(b=null,!0)}function Y(q){p&&p.chainReverse(q),l[q].reverse()}function W(q,Q){var te=l[q],ce=l[Q],me=te[te.length-1],ie=te[te.length-2],K=ce[0],le=ce[1];g.pointsCollinear(ie,me,K)&&(p&&p.chainRemoveTail(q,me),te.pop(),me=ie),g.pointsCollinear(me,K,le)&&(p&&p.chainRemoveHead(Q,K),ce.shift()),p&&p.chainJoin(q,Q),l[q]=te.concat(ce),l.splice(Q,1)}}),c}},{}],64:[function(m,de,ne){function o(p,l,c){var C=[];return p.forEach(function(d){var h=(d.myFill.above?8:0)+(d.myFill.below?4:0)+(d.otherFill&&d.otherFill.above?2:0)+(d.otherFill&&d.otherFill.below?1:0);0!==l[h]&&C.push({id:c?c.segmentId():-1,start:d.start,end:d.end,myFill:{above:1===l[h],below:2===l[h]},otherFill:null})}),c&&c.selected(C),C}de.exports={union:function(p,l){return o(p,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],l)},intersect:function(p,l){return o(p,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],l)},difference:function(p,l){return o(p,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],l)},differenceRev:function(p,l){return o(p,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],l)},xor:function(p,l){return o(p,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],l)}}},{}],65:[function(m,de,ne){var o,g,p=de.exports={};function l(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function C(z){if(o===setTimeout)return setTimeout(z,0);if((o===l||!o)&&setTimeout)return o=setTimeout,setTimeout(z,0);try{return o(z,0)}catch(k){try{return o.call(null,z,0)}catch(D){return o.call(this,z,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:l}catch(z){o=l}try{g="function"==typeof clearTimeout?clearTimeout:c}catch(z){g=c}}();var d,h=[],u=!1,_=-1;function b(){u&&d&&(u=!1,d.length?h=d.concat(h):_=-1,h.length&&M())}function M(){if(!u){var z=C(b);u=!0;for(var k=h.length;k;){for(d=h,h=[];++_<k;)d&&d[_].run();_=-1,k=h.length}d=null,u=!1,function(D){if(g===clearTimeout)return clearTimeout(D);if((g===c||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(D);try{g(D)}catch(S){try{return g.call(null,D)}catch(P){return g.call(this,D)}}}(z)}}function w(z,k){this.fun=z,this.array=k}function N(){}p.nextTick=function(z){var k=new Array(arguments.length-1);if(arguments.length>1)for(var D=1;D<arguments.length;D++)k[D-1]=arguments[D];h.push(new w(z,k)),1!==h.length||u||C(M)},w.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=N,p.addListener=N,p.once=N,p.off=N,p.removeListener=N,p.removeAllListeners=N,p.emit=N,p.prependListener=N,p.prependOnceListener=N,p.listeners=function(z){return[]},p.binding=function(z){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(z){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],66:[function(m,de,ne){(function(o,g){(function(){var p=m("process/browser.js").nextTick,l=Function.prototype.apply,c=Array.prototype.slice,C={},d=0;function h(u,_){this._id=u,this._clearFn=_}ne.setTimeout=function(){return new h(l.call(setTimeout,window,arguments),clearTimeout)},ne.setInterval=function(){return new h(l.call(setInterval,window,arguments),clearInterval)},ne.clearTimeout=ne.clearInterval=function(u){u.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(window,this._id)},ne.enroll=function(u,_){clearTimeout(u._idleTimeoutId),u._idleTimeout=_},ne.unenroll=function(u){clearTimeout(u._idleTimeoutId),u._idleTimeout=-1},ne._unrefActive=ne.active=function(u){clearTimeout(u._idleTimeoutId);var _=u._idleTimeout;_>=0&&(u._idleTimeoutId=setTimeout(function(){u._onTimeout&&u._onTimeout()},_))},ne.setImmediate="function"==typeof o?o:function(u){var _=d++,b=!(arguments.length<2)&&c.call(arguments,1);return C[_]=!0,p(function(){C[_]&&(b?u.apply(null,b):u.call(null),ne.clearImmediate(_))}),_},ne.clearImmediate="function"==typeof g?g:function(u){delete C[u]}}).call(this)}).call(this,m("timers").setImmediate,m("timers").clearImmediate)},{"process/browser.js":65,timers:66}],67:[function(m,de,ne){!function(o){var g=/^\s+/,p=/\s+$/,l=0,c=o.round,C=o.min,d=o.max,h=o.random;function u(O,X){if(X=X||{},(O=O||"")instanceof u)return O;if(!(this instanceof u))return new u(O,X);var ae,Ue,t1,fe,ue,pe,xe,Me,Ae,ze,R=(fe={r:0,g:0,b:0},ue=1,pe=null,xe=null,Me=null,Ae=!1,ze=!1,"string"==typeof(ae=O)&&(ae=function(Xe){Xe=Xe.replace(g,"").replace(p,"").toLowerCase();var Ge,we=!1;if(Y[Xe])Xe=Y[Xe],we=!0;else if("transparent"==Xe)return{r:0,g:0,b:0,a:0,format:"name"};return(Ge=re.rgb.exec(Xe))?{r:Ge[1],g:Ge[2],b:Ge[3]}:(Ge=re.rgba.exec(Xe))?{r:Ge[1],g:Ge[2],b:Ge[3],a:Ge[4]}:(Ge=re.hsl.exec(Xe))?{h:Ge[1],s:Ge[2],l:Ge[3]}:(Ge=re.hsla.exec(Xe))?{h:Ge[1],s:Ge[2],l:Ge[3],a:Ge[4]}:(Ge=re.hsv.exec(Xe))?{h:Ge[1],s:Ge[2],v:Ge[3]}:(Ge=re.hsva.exec(Xe))?{h:Ge[1],s:Ge[2],v:Ge[3],a:Ge[4]}:(Ge=re.hex8.exec(Xe))?{r:ce(Ge[1]),g:ce(Ge[2]),b:ce(Ge[3]),a:le(Ge[4]),format:we?"name":"hex8"}:(Ge=re.hex6.exec(Xe))?{r:ce(Ge[1]),g:ce(Ge[2]),b:ce(Ge[3]),format:we?"name":"hex"}:(Ge=re.hex4.exec(Xe))?{r:ce(Ge[1]+""+Ge[1]),g:ce(Ge[2]+""+Ge[2]),b:ce(Ge[3]+""+Ge[3]),a:le(Ge[4]+""+Ge[4]),format:we?"name":"hex8"}:!!(Ge=re.hex3.exec(Xe))&&{r:ce(Ge[1]+""+Ge[1]),g:ce(Ge[2]+""+Ge[2]),b:ce(Ge[3]+""+Ge[3]),format:we?"name":"hex"}}(ae)),"object"==typeof ae&&(F(ae.r)&&F(ae.g)&&F(ae.b)?(Ue=ae.g,t1=ae.b,fe={r:255*Q(ae.r,255),g:255*Q(Ue,255),b:255*Q(t1,255)},Ae=!0,ze="%"===String(ae.r).substr(-1)?"prgb":"rgb"):F(ae.h)&&F(ae.s)&&F(ae.v)?(pe=ie(ae.s),xe=ie(ae.v),fe=function(Xe,Ge,we){Xe=6*Q(Xe,360),Ge=Q(Ge,100),we=Q(we,100);var ve=o.floor(Xe),De=Xe-ve,Ve=we*(1-Ge),qe=we*(1-De*Ge),Ie=we*(1-(1-De)*Ge),Re=ve%6;return{r:255*[we,qe,Ve,Ve,Ie,we][Re],g:255*[Ie,we,we,qe,Ve,Ve][Re],b:255*[Ve,Ve,Ie,we,we,qe][Re]}}(ae.h,pe,xe),Ae=!0,ze="hsv"):F(ae.h)&&F(ae.s)&&F(ae.l)&&(pe=ie(ae.s),Me=ie(ae.l),fe=function(Xe,Ge,we){var ve,De,Ve;function qe(Qe,n1,Ye){return Ye<0&&(Ye+=1),Ye>1&&(Ye-=1),Ye<1/6?Qe+6*(n1-Qe)*Ye:Ye<.5?n1:Ye<2/3?Qe+(n1-Qe)*(2/3-Ye)*6:Qe}if(Xe=Q(Xe,360),Ge=Q(Ge,100),we=Q(we,100),0===Ge)ve=De=Ve=we;else{var Ie=we<.5?we*(1+Ge):we+Ge-we*Ge,Re=2*we-Ie;ve=qe(Re,Ie,Xe+1/3),De=qe(Re,Ie,Xe),Ve=qe(Re,Ie,Xe-1/3)}return{r:255*ve,g:255*De,b:255*Ve}}(ae.h,pe,Me),Ae=!0,ze="hsl"),ae.hasOwnProperty("a")&&(ue=ae.a)),ue=q(ue),{ok:Ae,format:ae.format||ze,r:C(255,d(fe.r,0)),g:C(255,d(fe.g,0)),b:C(255,d(fe.b,0)),a:ue});this._originalInput=O,this._r=R.r,this._g=R.g,this._b=R.b,this._a=R.a,this._roundA=c(100*this._a)/100,this._format=X.format||R.format,this._gradientType=X.gradientType,this._r<1&&(this._r=c(this._r)),this._g<1&&(this._g=c(this._g)),this._b<1&&(this._b=c(this._b)),this._ok=R.ok,this._tc_id=l++}function _(O,X,R){O=Q(O,255),X=Q(X,255),R=Q(R,255);var ae,fe,ue=d(O,X,R),pe=C(O,X,R),xe=(ue+pe)/2;if(ue==pe)ae=fe=0;else{var Me=ue-pe;switch(fe=xe>.5?Me/(2-ue-pe):Me/(ue+pe),ue){case O:ae=(X-R)/Me+(X<R?6:0);break;case X:ae=(R-O)/Me+2;break;case R:ae=(O-X)/Me+4}ae/=6}return{h:ae,s:fe,l:xe}}function b(O,X,R){O=Q(O,255),X=Q(X,255),R=Q(R,255);var ae,fe,ue=d(O,X,R),pe=C(O,X,R),xe=ue,Me=ue-pe;if(fe=0===ue?0:Me/ue,ue==pe)ae=0;else{switch(ue){case O:ae=(X-R)/Me+(X<R?6:0);break;case X:ae=(R-O)/Me+2;break;case R:ae=(O-X)/Me+4}ae/=6}return{h:ae,s:fe,v:xe}}function M(O,X,R,ae){var fe=[me(c(O).toString(16)),me(c(X).toString(16)),me(c(R).toString(16))];return ae&&fe[0].charAt(0)==fe[0].charAt(1)&&fe[1].charAt(0)==fe[1].charAt(1)&&fe[2].charAt(0)==fe[2].charAt(1)?fe[0].charAt(0)+fe[1].charAt(0)+fe[2].charAt(0):fe.join("")}function w(O,X,R,ae){return[me(K(ae)),me(c(O).toString(16)),me(c(X).toString(16)),me(c(R).toString(16))].join("")}function N(O,X){X=0===X?0:X||10;var R=u(O).toHsl();return R.s-=X/100,R.s=te(R.s),u(R)}function z(O,X){X=0===X?0:X||10;var R=u(O).toHsl();return R.s+=X/100,R.s=te(R.s),u(R)}function k(O){return u(O).desaturate(100)}function D(O,X){X=0===X?0:X||10;var R=u(O).toHsl();return R.l+=X/100,R.l=te(R.l),u(R)}function S(O,X){X=0===X?0:X||10;var R=u(O).toRgb();return R.r=d(0,C(255,R.r-c(-X/100*255))),R.g=d(0,C(255,R.g-c(-X/100*255))),R.b=d(0,C(255,R.b-c(-X/100*255))),u(R)}function P(O,X){X=0===X?0:X||10;var R=u(O).toHsl();return R.l-=X/100,R.l=te(R.l),u(R)}function V(O,X){var R=u(O).toHsl(),ae=(R.h+X)%360;return R.h=ae<0?360+ae:ae,u(R)}function E(O){var X=u(O).toHsl();return X.h=(X.h+180)%360,u(X)}function I(O){var X=u(O).toHsl(),R=X.h;return[u(O),u({h:(R+120)%360,s:X.s,l:X.l}),u({h:(R+240)%360,s:X.s,l:X.l})]}function L(O){var X=u(O).toHsl(),R=X.h;return[u(O),u({h:(R+90)%360,s:X.s,l:X.l}),u({h:(R+180)%360,s:X.s,l:X.l}),u({h:(R+270)%360,s:X.s,l:X.l})]}function B(O){var X=u(O).toHsl(),R=X.h;return[u(O),u({h:(R+72)%360,s:X.s,l:X.l}),u({h:(R+216)%360,s:X.s,l:X.l})]}function $(O,X,R){X=X||6,R=R||30;var ae=u(O).toHsl(),fe=360/R,ue=[u(O)];for(ae.h=(ae.h-(fe*X>>1)+720)%360;--X;)ae.h=(ae.h+fe)%360,ue.push(u(ae));return ue}function T(O,X){X=X||6;for(var R=u(O).toHsv(),ae=R.h,fe=R.s,ue=R.v,pe=[],xe=1/X;X--;)pe.push(u({h:ae,s:fe,v:ue})),ue=(ue+xe)%1;return pe}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var O=this.toRgb();return(299*O.r+587*O.g+114*O.b)/1e3},getLuminance:function(){var O,X,R,ae=this.toRgb();return X=ae.g/255,R=ae.b/255,.2126*((O=ae.r/255)<=.03928?O/12.92:o.pow((O+.055)/1.055,2.4))+.7152*(X<=.03928?X/12.92:o.pow((X+.055)/1.055,2.4))+.0722*(R<=.03928?R/12.92:o.pow((R+.055)/1.055,2.4))},setAlpha:function(O){return this._a=q(O),this._roundA=c(100*this._a)/100,this},toHsv:function(){var O=b(this._r,this._g,this._b);return{h:360*O.h,s:O.s,v:O.v,a:this._a}},toHsvString:function(){var O=b(this._r,this._g,this._b),X=c(360*O.h),R=c(100*O.s),ae=c(100*O.v);return 1==this._a?"hsv("+X+", "+R+"%, "+ae+"%)":"hsva("+X+", "+R+"%, "+ae+"%, "+this._roundA+")"},toHsl:function(){var O=_(this._r,this._g,this._b);return{h:360*O.h,s:O.s,l:O.l,a:this._a}},toHslString:function(){var O=_(this._r,this._g,this._b),X=c(360*O.h),R=c(100*O.s),ae=c(100*O.l);return 1==this._a?"hsl("+X+", "+R+"%, "+ae+"%)":"hsla("+X+", "+R+"%, "+ae+"%, "+this._roundA+")"},toHex:function(O){return M(this._r,this._g,this._b,O)},toHexString:function(O){return"#"+this.toHex(O)},toHex8:function(O){return R=this._g,ae=this._b,fe=this._a,ue=O,pe=[me(c(this._r).toString(16)),me(c(R).toString(16)),me(c(ae).toString(16)),me(K(fe))],ue&&pe[0].charAt(0)==pe[0].charAt(1)&&pe[1].charAt(0)==pe[1].charAt(1)&&pe[2].charAt(0)==pe[2].charAt(1)&&pe[3].charAt(0)==pe[3].charAt(1)?pe[0].charAt(0)+pe[1].charAt(0)+pe[2].charAt(0)+pe[3].charAt(0):pe.join("");var R,ae,fe,ue,pe},toHex8String:function(O){return"#"+this.toHex8(O)},toRgb:function(){return{r:c(this._r),g:c(this._g),b:c(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+c(this._r)+", "+c(this._g)+", "+c(this._b)+")":"rgba("+c(this._r)+", "+c(this._g)+", "+c(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:c(100*Q(this._r,255))+"%",g:c(100*Q(this._g,255))+"%",b:c(100*Q(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+c(100*Q(this._r,255))+"%, "+c(100*Q(this._g,255))+"%, "+c(100*Q(this._b,255))+"%)":"rgba("+c(100*Q(this._r,255))+"%, "+c(100*Q(this._g,255))+"%, "+c(100*Q(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(W[M(this._r,this._g,this._b,!0)]||!1)},toFilter:function(O){var X="#"+w(this._r,this._g,this._b,this._a),R=X,ae=this._gradientType?"GradientType = 1, ":"";if(O){var fe=u(O);R="#"+w(fe._r,fe._g,fe._b,fe._a)}return"progid:DXImageTransform.Microsoft.gradient("+ae+"startColorstr="+X+",endColorstr="+R+")"},toString:function(O){var X=!!O;O=O||this._format;var R=!1;return X||!(this._a<1&&this._a>=0)||"hex"!==O&&"hex6"!==O&&"hex3"!==O&&"hex4"!==O&&"hex8"!==O&&"name"!==O?("rgb"===O&&(R=this.toRgbString()),"prgb"===O&&(R=this.toPercentageRgbString()),"hex"!==O&&"hex6"!==O||(R=this.toHexString()),"hex3"===O&&(R=this.toHexString(!0)),"hex4"===O&&(R=this.toHex8String(!0)),"hex8"===O&&(R=this.toHex8String()),"name"===O&&(R=this.toName()),"hsl"===O&&(R=this.toHslString()),"hsv"===O&&(R=this.toHsvString()),R||this.toHexString()):"name"===O&&0===this._a?this.toName():this.toRgbString()},clone:function(){return u(this.toString())},_applyModification:function(O,X){var R=O.apply(null,[this].concat([].slice.call(X)));return this._r=R._r,this._g=R._g,this._b=R._b,this.setAlpha(R._a),this},lighten:function(){return this._applyModification(D,arguments)},brighten:function(){return this._applyModification(S,arguments)},darken:function(){return this._applyModification(P,arguments)},desaturate:function(){return this._applyModification(N,arguments)},saturate:function(){return this._applyModification(z,arguments)},greyscale:function(){return this._applyModification(k,arguments)},spin:function(){return this._applyModification(V,arguments)},_applyCombination:function(O,X){return O.apply(null,[this].concat([].slice.call(X)))},analogous:function(){return this._applyCombination($,arguments)},complement:function(){return this._applyCombination(E,arguments)},monochromatic:function(){return this._applyCombination(T,arguments)},splitcomplement:function(){return this._applyCombination(B,arguments)},triad:function(){return this._applyCombination(I,arguments)},tetrad:function(){return this._applyCombination(L,arguments)}},u.fromRatio=function(O,X){if("object"==typeof O){var R={};for(var ae in O)O.hasOwnProperty(ae)&&(R[ae]="a"===ae?O[ae]:ie(O[ae]));O=R}return u(O,X)},u.equals=function(O,X){return!(!O||!X)&&u(O).toRgbString()==u(X).toRgbString()},u.random=function(){return u.fromRatio({r:h(),g:h(),b:h()})},u.mix=function(O,X,R){R=0===R?0:R||50;var ae=u(O).toRgb(),fe=u(X).toRgb(),ue=R/100;return u({r:(fe.r-ae.r)*ue+ae.r,g:(fe.g-ae.g)*ue+ae.g,b:(fe.b-ae.b)*ue+ae.b,a:(fe.a-ae.a)*ue+ae.a})},u.readability=function(O,X){var R=u(O),ae=u(X);return(o.max(R.getLuminance(),ae.getLuminance())+.05)/(o.min(R.getLuminance(),ae.getLuminance())+.05)},u.isReadable=function(O,X,R){var ae,fe,pe,xe,Me,ue=u.readability(O,X);switch(fe=!1,(pe=R,"AA"!==(xe=((pe=pe||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==xe&&(xe="AA"),"small"!==(Me=(pe.size||"small").toLowerCase())&&"large"!==Me&&(Me="small"),ae={level:xe,size:Me}).level+ae.size){case"AAsmall":case"AAAlarge":fe=ue>=4.5;break;case"AAlarge":fe=ue>=3;break;case"AAAsmall":fe=ue>=7}return fe},u.mostReadable=function(O,X,R){var ae,fe,ue,pe,xe=null,Me=0;fe=(R=R||{}).includeFallbackColors,ue=R.level,pe=R.size;for(var Ae=0;Ae<X.length;Ae++)(ae=u.readability(O,X[Ae]))>Me&&(Me=ae,xe=u(X[Ae]));return u.isReadable(O,xe,{level:ue,size:pe})||!fe?xe:(R.includeFallbackColors=!1,u.mostReadable(O,["#fff","#000"],R))};var Y=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},W=u.hexNames=function(O){var X={};for(var R in O)O.hasOwnProperty(R)&&(X[O[R]]=R);return X}(Y);function q(O){return O=parseFloat(O),(isNaN(O)||O<0||O>1)&&(O=1),O}function Q(O,X){var ae;"string"==typeof(ae=O)&&-1!=ae.indexOf(".")&&1===parseFloat(ae)&&(O="100%");var R=function(ae){return"string"==typeof ae&&-1!=ae.indexOf("%")}(O);return O=C(X,d(0,parseFloat(O))),R&&(O=parseInt(O*X,10)/100),o.abs(O-X)<1e-6?1:O%X/parseFloat(X)}function te(O){return C(1,d(0,O))}function ce(O){return parseInt(O,16)}function me(O){return 1==O.length?"0"+O:""+O}function ie(O){return O<=1&&(O=100*O+"%"),O}function K(O){return o.round(255*parseFloat(O)).toString(16)}function le(O){return ce(O)/255}var G,j,oe,re=(j="[\\s|\\(]+("+(G="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+G+")[,|\\s]+("+G+")\\s*\\)?",oe="[\\s|\\(]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")\\s*\\)?",{CSS_UNIT:new RegExp(G),rgb:new RegExp("rgb"+j),rgba:new RegExp("rgba"+oe),hsl:new RegExp("hsl"+j),hsla:new RegExp("hsla"+oe),hsv:new RegExp("hsv"+j),hsva:new RegExp("hsva"+oe),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function F(O){return!!re.CSS_UNIT.exec(O)}void 0!==de&&de.exports?de.exports=u:window.tinycolor=u}(Math)},{}],68:[function(m,de,ne){var o=m("../main"),g=m("object-assign"),p=o.instance();function l(b){this.local=this.regionalOptions[b||""]||this.regionalOptions[""]}g(l.prototype=new o.baseCalendar,{name:"Chinese",jdEpoch:1721425.5,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(b,M){if("string"==typeof b){var w=b.match(C);return w?w[0]:""}var N=this._validateYear(b),z=b.month(),k=""+this.toChineseMonth(N,z);return M&&k.length<2&&(k="0"+k),this.isIntercalaryMonth(N,z)&&(k+="i"),k},monthNames:function(b){if("string"==typeof b){var M=b.match(d);return M?M[0]:""}var w=this._validateYear(b),N=b.month(),z=["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"][this.toChineseMonth(w,N)-1];return this.isIntercalaryMonth(w,N)&&(z="\u95f0"+z),z},monthNamesShort:function(b){if("string"==typeof b){var M=b.match(h);return M?M[0]:""}var w=this._validateYear(b),N=b.month(),z=["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"][this.toChineseMonth(w,N)-1];return this.isIntercalaryMonth(w,N)&&(z="\u95f0"+z),z},parseMonth:function(b,M){b=this._validateYear(b);var w,N=parseInt(M);if(isNaN(N))"\u95f0"===M[0]&&(w=!0,M=M.substring(1)),"\u6708"===M[M.length-1]&&(M=M.substring(0,M.length-1)),N=1+["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"].indexOf(M);else{var z=M[M.length-1];w="i"===z||"I"===z}return this.toMonthIndex(b,N,w)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(b,M){if(b.year&&(b=b.year()),"number"!=typeof b||b<1888||b>2111)throw M.replace(/\{0\}/,this.local.name);return b},toMonthIndex:function(b,M,w){var N=this.intercalaryMonth(b);if(w&&M!==N||M<1||M>12)throw o.local.invalidMonth.replace(/\{0\}/,this.local.name);return N?!w&&M<=N?M-1:M:M-1},toChineseMonth:function(b,M){b.year&&(M=(b=b.year()).month());var w=this.intercalaryMonth(b);if(M<0||M>(w?12:11))throw o.local.invalidMonth.replace(/\{0\}/,this.local.name);return w?M<w?M+1:M:M+1},intercalaryMonth:function(b){return b=this._validateYear(b),u[b-u[0]]>>13},isIntercalaryMonth:function(b,M){b.year&&(M=(b=b.year()).month());var w=this.intercalaryMonth(b);return!!w&&w===M},leapYear:function(b){return 0!==this.intercalaryMonth(b)},weekOfYear:function(b,M,w){var N,z=this._validateYear(b,o.local.invalidyear),k=_[z-_[0]];(N=p.newDate(k>>9&4095,k>>5&15,31&k)).add(4-(N.dayOfWeek()||7),"d");var V=this.toJD(b,M,w)-N.toJD();return 1+Math.floor(V/7)},monthsInYear:function(b){return this.leapYear(b)?13:12},daysInMonth:function(b,M){b.year&&(M=b.month(),b=b.year()),b=this._validateYear(b);var w=u[b-u[0]];if(M>(w>>13?12:11))throw o.local.invalidMonth.replace(/\{0\}/,this.local.name);return w&1<<12-M?30:29},weekDay:function(b,M,w){return(this.dayOfWeek(b,M,w)||7)<6},toJD:function(b,M,w){var N=this._validate(b,k,w,o.local.invalidDate);b=this._validateYear(N.year()),M=N.month(),w=N.day();var z=this.isIntercalaryMonth(b,M),k=this.toChineseMonth(b,M),D=function(S,P,V,E,I){var L,B,$;if("object"==typeof S)B=S,L=P||{};else{var T;if(!("number"==typeof S&&S>=1888&&S<=2111))throw new Error("Lunar year outside range 1888-2111");if(!("number"==typeof P&&P>=1&&P<=12))throw new Error("Lunar month outside range 1 - 12");if(!("number"==typeof V&&V>=1&&V<=30))throw new Error("Lunar day outside range 1 - 30");"object"==typeof E?(T=!1,L=E):(T=!!E,L={}),B={year:S,month:P,day:V,isIntercalary:T}}$=B.day-1;var Y,W=u[B.year-u[0]],q=W>>13;Y=q&&(B.month>q||B.isIntercalary)?B.month:B.month-1;for(var Q=0;Q<Y;Q++)$+=W&1<<12-Q?30:29;var te=_[B.year-_[0]],ce=new Date(te>>9&4095,(te>>5&15)-1,(31&te)+$);return L.year=ce.getFullYear(),L.month=1+ce.getMonth(),L.day=ce.getDate(),L}(b,k,w,z);return p.toJD(D.year,D.month,D.day)},fromJD:function(b){var M=p.fromJD(b),w=function(z,k,D,S){var P,V;if("object"==typeof z)P=z,V=k||{};else{if(!("number"==typeof z&&z>=1888&&z<=2111))throw new Error("Solar year outside range 1888-2111");if(!("number"==typeof k&&k>=1&&k<=12))throw new Error("Solar month outside range 1 - 12");if(!("number"==typeof D&&D>=1&&D<=31))throw new Error("Solar day outside range 1 - 31");P={year:z,month:k,day:D},V={}}var E=_[P.year-_[0]];V.year=(P.year<<9|P.month<<5|P.day)>=E?P.year:P.year-1,E=_[V.year-_[0]];var L,B=new Date(E>>9&4095,(E>>5&15)-1,31&E),$=new Date(P.year,P.month-1,P.day);L=Math.round(($-B)/864e5);var T,Y=u[V.year-u[0]];for(T=0;T<13;T++){var W=Y&1<<12-T?30:29;if(L<W)break;L-=W}var q=Y>>13;return!q||T<q?(V.isIntercalary=!1,V.month=1+T):T===q?(V.isIntercalary=!0,V.month=T):(V.isIntercalary=!1,V.month=T),V.day=1+L,V}(M.year(),M.month(),M.day()),N=this.toMonthIndex(w.year,w.month,w.isIntercalary);return this.newDate(w.year,N,w.day)},fromString:function(b){var M=b.match(c),w=this._validateYear(+M[1]),k=this.toMonthIndex(w,+M[2],!!M[3]);return this.newDate(w,k,+M[4])},add:function(b,M,w){var N=b.year(),z=b.month(),k=this.isIntercalaryMonth(N,z),D=this.toChineseMonth(N,z),S=Object.getPrototypeOf(l.prototype).add.call(this,b,M,w);if("y"===w){var P=S.year(),V=S.month(),E=this.isIntercalaryMonth(P,D),I=this.toMonthIndex(P,D,!(!k||!E));I!==V&&S.month(I)}return S}});var c=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,C=/^\d?\d[iI]?/m,d=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?\u6708/m,h=/^\u95f0?\u5341?[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]?/m;o.calendars.chinese=l;var u=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],_=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},{"../main":82,"object-assign":55}],69:[function(m,de,ne){var o=m("../main");function p(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}m("object-assign")(p.prototype=new o.baseCalendar,{name:"Coptic",jdEpoch:1825029.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var c=this._validate(l,this.minMonth,this.minDay,o.local.invalidYear);return(l=c.year()+(c.year()<0?1:0))%4==3||l%4==-1},monthsInYear:function(l){return this._validate(l,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear),13},weekOfYear:function(l,c,C){var d=this.newDate(l,c,C);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(l,c){var C=this._validate(l,c,this.minDay,o.local.invalidMonth);return this.daysPerMonth[C.month()-1]+(13===C.month()&&this.leapYear(C.year())?1:0)},weekDay:function(l,c,C){return(this.dayOfWeek(l,c,C)||7)<6},toJD:function(l,c,C){var d=this._validate(l,c,C,o.local.invalidDate);return(l=d.year())<0&&l++,d.day()+30*(d.month()-1)+365*(l-1)+Math.floor(l/4)+this.jdEpoch-1},fromJD:function(l){var c=Math.floor(l)+.5-this.jdEpoch,C=Math.floor((c-Math.floor((c+366)/1461))/365)+1;C<=0&&C--,c=Math.floor(l)+.5-this.newDate(C,1,1).toJD();var d=Math.floor(c/30)+1;return this.newDate(C,d,c-30*(d-1)+1)}}),o.calendars.coptic=p},{"../main":82,"object-assign":55}],70:[function(m,de,ne){var o=m("../main");function p(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}m("object-assign")(p.prototype=new o.baseCalendar,{name:"Discworld",jdEpoch:1721425.5,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(c){return this._validate(c,this.minMonth,this.minDay,o.local.invalidYear),!1},monthsInYear:function(c){return this._validate(c,this.minMonth,this.minDay,o.local.invalidYear),13},daysInYear:function(c){return this._validate(c,this.minMonth,this.minDay,o.local.invalidYear),400},weekOfYear:function(c,C,d){var h=this.newDate(c,C,d);return h.add(-h.dayOfWeek(),"d"),Math.floor((h.dayOfYear()-1)/8)+1},daysInMonth:function(c,C){var d=this._validate(c,C,this.minDay,o.local.invalidMonth);return this.daysPerMonth[d.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(c,C,d){return(this._validate(c,C,d,o.local.invalidDate).day()+1)%8},weekDay:function(c,C,d){var h=this.dayOfWeek(c,C,d);return h>=2&&h<=6},extraInfo:function(c,C,d){var h=this._validate(c,C,d,o.local.invalidDate);return{century:l[Math.floor((h.year()-1)/100)+1]||""}},toJD:function(c,C,d){var h=this._validate(c,C,d,o.local.invalidDate);return c=h.year()+(h.year()<0?1:0),C=h.month(),(d=h.day())+(C>1?16:0)+(C>2?32*(C-2):0)+400*(c-1)+this.jdEpoch-1},fromJD:function(c){c=Math.floor(c+.5)-Math.floor(this.jdEpoch)-1;var C=Math.floor(c/400)+1;c-=400*(C-1),c+=c>15?16:0;var d=Math.floor(c/32)+1;return this.newDate(C<=0?C-1:C,d,c-32*(d-1)+1)}});var l={20:"Fruitbat",21:"Anchovy"};o.calendars.discworld=p},{"../main":82,"object-assign":55}],71:[function(m,de,ne){var o=m("../main");function p(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}m("object-assign")(p.prototype=new o.baseCalendar,{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var c=this._validate(l,this.minMonth,this.minDay,o.local.invalidYear);return(l=c.year()+(c.year()<0?1:0))%4==3||l%4==-1},monthsInYear:function(l){return this._validate(l,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear),13},weekOfYear:function(l,c,C){var d=this.newDate(l,c,C);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(l,c){var C=this._validate(l,c,this.minDay,o.local.invalidMonth);return this.daysPerMonth[C.month()-1]+(13===C.month()&&this.leapYear(C.year())?1:0)},weekDay:function(l,c,C){return(this.dayOfWeek(l,c,C)||7)<6},toJD:function(l,c,C){var d=this._validate(l,c,C,o.local.invalidDate);return(l=d.year())<0&&l++,d.day()+30*(d.month()-1)+365*(l-1)+Math.floor(l/4)+this.jdEpoch-1},fromJD:function(l){var c=Math.floor(l)+.5-this.jdEpoch,C=Math.floor((c-Math.floor((c+366)/1461))/365)+1;C<=0&&C--,c=Math.floor(l)+.5-this.newDate(C,1,1).toJD();var d=Math.floor(c/30)+1;return this.newDate(C,d,c-30*(d-1)+1)}}),o.calendars.ethiopian=p},{"../main":82,"object-assign":55}],72:[function(m,de,ne){var o=m("../main");function p(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}function l(c,C){return c-C*Math.floor(c/C)}m("object-assign")(p.prototype=new o.baseCalendar,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(c){var C=this._validate(c,this.minMonth,this.minDay,o.local.invalidYear);return this._leapYear(C.year())},_leapYear:function(c){return l(7*(c=c<0?c+1:c)+1,19)<7},monthsInYear:function(c){return this._validate(c,this.minMonth,this.minDay,o.local.invalidYear),this._leapYear(c.year?c.year():c)?13:12},weekOfYear:function(c,C,d){var h=this.newDate(c,C,d);return h.add(-h.dayOfWeek(),"d"),Math.floor((h.dayOfYear()-1)/7)+1},daysInYear:function(c){return c=this._validate(c,this.minMonth,this.minDay,o.local.invalidYear).year(),this.toJD(-1===c?1:c+1,7,1)-this.toJD(c,7,1)},daysInMonth:function(c,C){return c.year&&(C=c.month(),c=c.year()),this._validate(c,C,this.minDay,o.local.invalidMonth),12===C&&this.leapYear(c)||8===C&&5===l(this.daysInYear(c),10)?30:9===C&&3===l(this.daysInYear(c),10)?29:this.daysPerMonth[C-1]},weekDay:function(c,C,d){return 6!==this.dayOfWeek(c,C,d)},extraInfo:function(c,C,d){var h=this._validate(c,C,d,o.local.invalidDate);return{yearType:(this.leapYear(h)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(h)%10-3]}},toJD:function(c,C,d){var h=this._validate(c,C,d,o.local.invalidDate);c=h.year(),C=h.month(),d=h.day();var u=c<=0?c+1:c,_=this.jdEpoch+this._delay1(u)+this._delay2(u)+d+1;if(C<7){for(var b=7;b<=this.monthsInYear(c);b++)_+=this.daysInMonth(c,b);for(b=1;b<C;b++)_+=this.daysInMonth(c,b)}else for(b=7;b<C;b++)_+=this.daysInMonth(c,b);return _},_delay1:function(c){var C=Math.floor((235*c-234)/19),h=29*C+Math.floor((12084+13753*C)/25920);return l(3*(h+1),7)<3&&h++,h},_delay2:function(c){var C=this._delay1(c-1),d=this._delay1(c);return this._delay1(c+1)-d==356?2:d-C==382?1:0},fromJD:function(c){c=Math.floor(c)+.5;for(var C=Math.floor(98496*(c-this.jdEpoch)/35975351)-1;c>=this.toJD(-1===C?1:C+1,7,1);)C++;for(var d=c<this.toJD(C,1,1)?7:1;c>this.toJD(C,d,this.daysInMonth(C,d));)d++;var h=c-this.toJD(C,d,1)+1;return this.newDate(C,d,h)}}),o.calendars.hebrew=p},{"../main":82,"object-assign":55}],73:[function(m,de,ne){var o=m("../main");function p(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}m("object-assign")(p.prototype=new o.baseCalendar,{name:"Islamic",jdEpoch:1948439.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(l){return(11*this._validate(l,this.minMonth,this.minDay,o.local.invalidYear).year()+14)%30<11},weekOfYear:function(l,c,C){var d=this.newDate(l,c,C);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInYear:function(l){return this.leapYear(l)?355:354},daysInMonth:function(l,c){var C=this._validate(l,c,this.minDay,o.local.invalidMonth);return this.daysPerMonth[C.month()-1]+(12===C.month()&&this.leapYear(C.year())?1:0)},weekDay:function(l,c,C){return 5!==this.dayOfWeek(l,c,C)},toJD:function(l,c,C){var d=this._validate(l,c,C,o.local.invalidDate);return l=d.year(),c=d.month(),l=l<=0?l+1:l,(C=d.day())+Math.ceil(29.5*(c-1))+354*(l-1)+Math.floor((3+11*l)/30)+this.jdEpoch-1},fromJD:function(l){l=Math.floor(l)+.5;var c=Math.floor((30*(l-this.jdEpoch)+10646)/10631);c=c<=0?c-1:c;var C=Math.min(12,Math.ceil((l-29-this.toJD(c,1,1))/29.5)+1),d=l-this.toJD(c,C,1)+1;return this.newDate(c,C,d)}}),o.calendars.islamic=p},{"../main":82,"object-assign":55}],74:[function(m,de,ne){var o=m("../main");function p(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}m("object-assign")(p.prototype=new o.baseCalendar,{name:"Julian",jdEpoch:1721423.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var c=this._validate(l,this.minMonth,this.minDay,o.local.invalidYear);return(l=c.year()<0?c.year()+1:c.year())%4==0},weekOfYear:function(l,c,C){var d=this.newDate(l,c,C);return d.add(4-(d.dayOfWeek()||7),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInMonth:function(l,c){var C=this._validate(l,c,this.minDay,o.local.invalidMonth);return this.daysPerMonth[C.month()-1]+(2===C.month()&&this.leapYear(C.year())?1:0)},weekDay:function(l,c,C){return(this.dayOfWeek(l,c,C)||7)<6},toJD:function(l,c,C){var d=this._validate(l,c,C,o.local.invalidDate);return l=d.year(),c=d.month(),C=d.day(),l<0&&l++,c<=2&&(l--,c+=12),Math.floor(365.25*(l+4716))+Math.floor(30.6001*(c+1))+C-1524.5},fromJD:function(l){var c=Math.floor(l+.5)+1524,C=Math.floor((c-122.1)/365.25),d=Math.floor(365.25*C),h=Math.floor((c-d)/30.6001),u=h-Math.floor(h<14?1:13),_=C-Math.floor(u>2?4716:4715),b=c-d-Math.floor(30.6001*h);return _<=0&&_--,this.newDate(_,u,b)}}),o.calendars.julian=p},{"../main":82,"object-assign":55}],75:[function(m,de,ne){var o=m("../main");function p(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}function l(C,d){return C-d*Math.floor(C/d)}function c(C,d){return l(C-1,d)+1}m("object-assign")(p.prototype=new o.baseCalendar,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(C){return this._validate(C,this.minMonth,this.minDay,o.local.invalidYear),!1},formatYear:function(C){C=this._validate(C,this.minMonth,this.minDay,o.local.invalidYear).year();var d=Math.floor(C/400);return C%=400,C+=C<0?400:0,d+"."+Math.floor(C/20)+"."+C%20},forYear:function(C){if((C=C.split(".")).length<3)throw"Invalid Mayan year";for(var d=0,h=0;h<C.length;h++){var u=parseInt(C[h],10);if(Math.abs(u)>19||h>0&&u<0)throw"Invalid Mayan year";d=20*d+u}return d},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,o.local.invalidYear),18},weekOfYear:function(C,d,h){return this._validate(C,d,h,o.local.invalidDate),0},daysInYear:function(C){return this._validate(C,this.minMonth,this.minDay,o.local.invalidYear),360},daysInMonth:function(C,d){return this._validate(C,d,this.minDay,o.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(C,d,h){return this._validate(C,d,h,o.local.invalidDate).day()},weekDay:function(C,d,h){return this._validate(C,d,h,o.local.invalidDate),!0},extraInfo:function(C,d,h){var u=this._validate(C,d,h,o.local.invalidDate).toJD(),_=this._toHaab(u),b=this._toTzolkin(u);return{haabMonthName:this.local.haabMonths[_[0]-1],haabMonth:_[0],haabDay:_[1],tzolkinDayName:this.local.tzolkinMonths[b[0]-1],tzolkinDay:b[0],tzolkinTrecena:b[1]}},_toHaab:function(C){var d=l(8+(C-=this.jdEpoch)+340,365);return[Math.floor(d/20)+1,l(d,20)]},_toTzolkin:function(C){return[c(20+(C-=this.jdEpoch),20),c(C+4,13)]},toJD:function(C,d,h){var u=this._validate(C,d,h,o.local.invalidDate);return u.day()+20*u.month()+360*u.year()+this.jdEpoch},fromJD:function(C){C=Math.floor(C)+.5-this.jdEpoch;var d=Math.floor(C/360);C%=360,C+=C<0?360:0;var h=Math.floor(C/20);return this.newDate(d,h,C%20)}}),o.calendars.mayan=p},{"../main":82,"object-assign":55}],76:[function(m,de,ne){var o=m("../main"),g=m("object-assign");function p(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}p.prototype=new o.baseCalendar;var l=o.instance("gregorian");g(p.prototype,{name:"Nanakshahi",jdEpoch:2257673.5,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(c){var C=this._validate(c,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear);return l.leapYear(C.year()+(C.year()<1?1:0)+1469)},weekOfYear:function(c,C,d){var h=this.newDate(c,C,d);return h.add(1-(h.dayOfWeek()||7),"d"),Math.floor((h.dayOfYear()-1)/7)+1},daysInMonth:function(c,C){var d=this._validate(c,C,this.minDay,o.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(12===d.month()&&this.leapYear(d.year())?1:0)},weekDay:function(c,C,d){return(this.dayOfWeek(c,C,d)||7)<6},toJD:function(c,C,d){var h=this._validate(c,C,d,o.local.invalidMonth);(c=h.year())<0&&c++;for(var u=h.day(),_=1;_<h.month();_++)u+=this.daysPerMonth[_-1];return u+l.toJD(c+1468,3,13)},fromJD:function(c){c=Math.floor(c+.5);for(var C=Math.floor((c-(this.jdEpoch-1))/366);c>=this.toJD(C+1,1,1);)C++;for(var d=c-Math.floor(this.toJD(C,1,1)+.5)+1,h=1;d>this.daysInMonth(C,h);)d-=this.daysInMonth(C,h),h++;return this.newDate(C,h,d)}}),o.calendars.nanakshahi=p},{"../main":82,"object-assign":55}],77:[function(m,de,ne){var o=m("../main");function p(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}m("object-assign")(p.prototype=new o.baseCalendar,{name:"Nepali",jdEpoch:1700709.5,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(l){return this.daysInYear(l)!==this.daysPerYear},weekOfYear:function(l,c,C){var d=this.newDate(l,c,C);return d.add(-d.dayOfWeek(),"d"),Math.floor((d.dayOfYear()-1)/7)+1},daysInYear:function(l){if(l=this._validate(l,this.minMonth,this.minDay,o.local.invalidYear).year(),void 0===this.NEPALI_CALENDAR_DATA[l])return this.daysPerYear;for(var c=0,C=this.minMonth;C<=12;C++)c+=this.NEPALI_CALENDAR_DATA[l][C];return c},daysInMonth:function(l,c){return l.year&&(c=l.month(),l=l.year()),this._validate(l,c,this.minDay,o.local.invalidMonth),void 0===this.NEPALI_CALENDAR_DATA[l]?this.daysPerMonth[c-1]:this.NEPALI_CALENDAR_DATA[l][c]},weekDay:function(l,c,C){return 6!==this.dayOfWeek(l,c,C)},toJD:function(l,c,C){var d=this._validate(l,c,C,o.local.invalidDate);l=d.year(),c=d.month(),C=d.day();var h=o.instance(),u=0,_=c,b=l;this._createMissingCalendarData(l);var M=l-(_>9||9===_&&C>=this.NEPALI_CALENDAR_DATA[b][0]?56:57);for(9!==c&&(u=C,_--);9!==_;)_<=0&&(_=12,b--),u+=this.NEPALI_CALENDAR_DATA[b][_],_--;return 9===c?(u+=C-this.NEPALI_CALENDAR_DATA[b][0])<0&&(u+=h.daysInYear(M)):u+=this.NEPALI_CALENDAR_DATA[b][9]-this.NEPALI_CALENDAR_DATA[b][0],h.newDate(M,1,1).add(u,"d").toJD()},fromJD:function(l){var c=o.instance().fromJD(l),C=c.year(),d=c.dayOfYear(),h=C+56;this._createMissingCalendarData(h);for(var u=9,b=this.NEPALI_CALENDAR_DATA[h][u]-this.NEPALI_CALENDAR_DATA[h][0]+1;d>b;)++u>12&&(u=1,h++),b+=this.NEPALI_CALENDAR_DATA[h][u];return this.newDate(h,u,this.NEPALI_CALENDAR_DATA[h][u]-(b-d))},_createMissingCalendarData:function(l){var c=this.daysPerMonth.slice(0);c.unshift(17);for(var C=l-1;C<l+2;C++)void 0===this.NEPALI_CALENDAR_DATA[C]&&(this.NEPALI_CALENDAR_DATA[C]=c)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),o.calendars.nepali=p},{"../main":82,"object-assign":55}],78:[function(m,de,ne){var o=m("../main");function p(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}function l(c,C){return c-C*Math.floor(c/C)}m("object-assign")(p.prototype=new o.baseCalendar,{name:"Persian",jdEpoch:1948320.5,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xe6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xe6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(c){var C=this._validate(c,this.minMonth,this.minDay,o.local.invalidYear);return 682*((C.year()-(C.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(c,C,d){var h=this.newDate(c,C,d);return h.add(-(h.dayOfWeek()+1)%7,"d"),Math.floor((h.dayOfYear()-1)/7)+1},daysInMonth:function(c,C){var d=this._validate(c,C,this.minDay,o.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(12===d.month()&&this.leapYear(d.year())?1:0)},weekDay:function(c,C,d){return 5!==this.dayOfWeek(c,C,d)},toJD:function(c,C,d){var h=this._validate(c,C,d,o.local.invalidDate);c=h.year(),C=h.month(),d=h.day();var u=c-(c>=0?474:473),_=474+l(u,2820);return d+(C<=7?31*(C-1):30*(C-1)+6)+Math.floor((682*_-110)/2816)+365*(_-1)+1029983*Math.floor(u/2820)+this.jdEpoch-1},fromJD:function(c){var C=(c=Math.floor(c)+.5)-this.toJD(475,1,1),d=Math.floor(C/1029983),h=l(C,1029983),u=2820;if(1029982!==h){var _=Math.floor(h/366),b=l(h,366);u=Math.floor((2134*_+2816*b+2815)/1028522)+_+1}var M=u+2820*d+474,w=c-this.toJD(M=M<=0?M-1:M,1,1)+1,N=w<=186?Math.ceil(w/31):Math.ceil((w-6)/30),z=c-this.toJD(M,N,1)+1;return this.newDate(M,N,z)}}),o.calendars.persian=p,o.calendars.jalali=p},{"../main":82,"object-assign":55}],79:[function(m,de,ne){var o=m("../main"),g=m("object-assign"),p=o.instance();function l(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}g(l.prototype=new o.baseCalendar,{name:"Taiwan",jdEpoch:2419402.5,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(c){var C=this._validate(c,this.minMonth,this.minDay,o.local.invalidYear);return c=this._t2gYear(C.year()),p.leapYear(c)},weekOfYear:function(c,C,d){var h=this._validate(c,this.minMonth,this.minDay,o.local.invalidYear);return c=this._t2gYear(h.year()),p.weekOfYear(c,h.month(),h.day())},daysInMonth:function(c,C){var d=this._validate(c,C,this.minDay,o.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(2===d.month()&&this.leapYear(d.year())?1:0)},weekDay:function(c,C,d){return(this.dayOfWeek(c,C,d)||7)<6},toJD:function(c,C,d){var h=this._validate(c,C,d,o.local.invalidDate);return c=this._t2gYear(h.year()),p.toJD(c,h.month(),h.day())},fromJD:function(c){var C=p.fromJD(c),d=this._g2tYear(C.year());return this.newDate(d,C.month(),C.day())},_t2gYear:function(c){return c+this.yearsOffset+(c>=-this.yearsOffset&&c<=-1?1:0)},_g2tYear:function(c){return c-this.yearsOffset-(c>=1&&c<=this.yearsOffset?1:0)}}),o.calendars.taiwan=l},{"../main":82,"object-assign":55}],80:[function(m,de,ne){var o=m("../main"),g=m("object-assign"),p=o.instance();function l(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}g(l.prototype=new o.baseCalendar,{name:"Thai",jdEpoch:1523098.5,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(c){var C=this._validate(c,this.minMonth,this.minDay,o.local.invalidYear);return c=this._t2gYear(C.year()),p.leapYear(c)},weekOfYear:function(c,C,d){var h=this._validate(c,this.minMonth,this.minDay,o.local.invalidYear);return c=this._t2gYear(h.year()),p.weekOfYear(c,h.month(),h.day())},daysInMonth:function(c,C){var d=this._validate(c,C,this.minDay,o.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(2===d.month()&&this.leapYear(d.year())?1:0)},weekDay:function(c,C,d){return(this.dayOfWeek(c,C,d)||7)<6},toJD:function(c,C,d){var h=this._validate(c,C,d,o.local.invalidDate);return c=this._t2gYear(h.year()),p.toJD(c,h.month(),h.day())},fromJD:function(c){var C=p.fromJD(c),d=this._g2tYear(C.year());return this.newDate(d,C.month(),C.day())},_t2gYear:function(c){return c-this.yearsOffset-(c>=1&&c<=this.yearsOffset?1:0)},_g2tYear:function(c){return c+this.yearsOffset+(c>=-this.yearsOffset&&c<=-1?1:0)}}),o.calendars.thai=l},{"../main":82,"object-assign":55}],81:[function(m,de,ne){var o=m("../main");function p(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}m("object-assign")(p.prototype=new o.baseCalendar,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(c){var C=this._validate(c,this.minMonth,this.minDay,o.local.invalidYear);return 355===this.daysInYear(C.year())},weekOfYear:function(c,C,d){var h=this.newDate(c,C,d);return h.add(-h.dayOfWeek(),"d"),Math.floor((h.dayOfYear()-1)/7)+1},daysInYear:function(c){for(var C=0,d=1;d<=12;d++)C+=this.daysInMonth(c,d);return C},daysInMonth:function(c,C){for(var d=this._validate(c,C,this.minDay,o.local.invalidMonth).toJD()-24e5+.5,h=0,u=0;u<l.length;u++){if(l[u]>d)return l[h]-l[h-1];h++}return 30},weekDay:function(c,C,d){return 5!==this.dayOfWeek(c,C,d)},toJD:function(c,C,d){var h=this._validate(c,C,d,o.local.invalidDate),u=12*(h.year()-1)+h.month()-15292;return h.day()+l[u-1]-1+24e5-.5},fromJD:function(c){for(var C=c-24e5+.5,d=0,h=0;h<l.length&&!(l[h]>C);h++)d++;var u=d+15292,_=Math.floor((u-1)/12);return this.newDate(_+1,u-12*_,C-l[d-1]+1)},isValid:function(c,C,d){var h=o.baseCalendar.prototype.isValid.apply(this,arguments);return h&&(h=(c=null!=c.year?c.year:c)>=1276&&c<=1500),h},_validate:function(c,C,d,h){var u=o.baseCalendar.prototype._validate.apply(this,arguments);if(u.year<1276||u.year>1500)throw h.replace(/\{0\}/,this.local.name);return u}}),o.calendars.ummalqura=p;var l=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},{"../main":82,"object-assign":55}],82:[function(m,de,ne){var o=m("object-assign");function g(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function p(h,u,_,b){if(this._calendar=h,this._year=u,this._month=_,this._day=b,0===this._calendar._validateLevel&&!this._calendar.isValid(this._year,this._month,this._day))throw(d.local.invalidDate||d.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function l(h,u){return"000000".substring(0,u-(h=""+h).length)+h}function c(){this.shortYearCutoff="+10"}function C(h){this.local=this.regionalOptions[h]||this.regionalOptions[""]}o(g.prototype,{instance:function(h,u){h=(h||"gregorian").toLowerCase();var _=this._localCals[h+"-"+(u=u||"")];if(!_&&this.calendars[h]&&(_=new this.calendars[h](u),this._localCals[h+"-"+u]=_),!_)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,h);return _},newDate:function(h,u,_,b,M){return(b=(null!=h&&h.year?h.calendar():"string"==typeof b?this.instance(b,M):b)||this.instance()).newDate(h,u,_)},substituteDigits:function(h){return function(u){return(u+"").replace(/[0-9]/g,function(_){return h[_]})}},substituteChineseDigits:function(h,u){return function(_){for(var b="",M=0;_>0;){var w=_%10;b=(0===w?"":h[w]+u[M])+b,M++,_=Math.floor(_/10)}return 0===b.indexOf(h[1]+u[1])&&(b=b.substr(1)),b||h[0]}}}),o(p.prototype,{newDate:function(h,u,_){return this._calendar.newDate(null==h?this:h,u,_)},year:function(h){return 0===arguments.length?this._year:this.set(h,"y")},month:function(h){return 0===arguments.length?this._month:this.set(h,"m")},day:function(h){return 0===arguments.length?this._day:this.set(h,"d")},date:function(h,u,_){if(!this._calendar.isValid(h,u,_))throw(d.local.invalidDate||d.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=h,this._month=u,this._day=_,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(h,u){return this._calendar.add(this,h,u)},set:function(h,u){return this._calendar.set(this,h,u)},compareTo:function(h){if(this._calendar.name!==h._calendar.name)throw(d.local.differentCalendars||d.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,h._calendar.local.name);var u=this._year!==h._year?this._year-h._year:this._month!==h._month?this.monthOfYear()-h.monthOfYear():this._day-h._day;return 0===u?0:u<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(h){return this._calendar.fromJD(h)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(h){return this._calendar.fromJSDate(h)},toString:function(){return(this.year()<0?"-":"")+l(Math.abs(this.year()),4)+"-"+l(this.month(),2)+"-"+l(this.day(),2)}}),o(c.prototype,{_validateLevel:0,newDate:function(h,u,_){return null==h?this.today():(h.year&&(this._validate(h,u,_,d.local.invalidDate||d.regionalOptions[""].invalidDate),_=h.day(),u=h.month(),h=h.year()),new p(this,h,u,_))},today:function(){return this.fromJSDate(new Date)},epoch:function(h){return this._validate(h,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(h){var u=this._validate(h,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return(u.year()<0?"-":"")+l(Math.abs(u.year()),4)},monthsInYear:function(h){return this._validate(h,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear),12},monthOfYear:function(h,u){var _=this._validate(h,u,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth);return(_.month()+this.monthsInYear(_)-this.firstMonth)%this.monthsInYear(_)+this.minMonth},fromMonthOfYear:function(h,u){var _=(u+this.firstMonth-2*this.minMonth)%this.monthsInYear(h)+this.minMonth;return this._validate(h,_,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth),_},daysInYear:function(h){var u=this._validate(h,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return this.leapYear(u)?366:365},dayOfYear:function(h,u,_){var b=this._validate(h,u,_,d.local.invalidDate||d.regionalOptions[""].invalidDate);return b.toJD()-this.newDate(b.year(),this.fromMonthOfYear(b.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(h,u,_){var b=this._validate(h,u,_,d.local.invalidDate||d.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(b))+2)%this.daysInWeek()},extraInfo:function(h,u,_){return this._validate(h,u,_,d.local.invalidDate||d.regionalOptions[""].invalidDate),{}},add:function(h,u,_){return this._validate(h,this.minMonth,this.minDay,d.local.invalidDate||d.regionalOptions[""].invalidDate),this._correctAdd(h,this._add(h,u,_),u,_)},_add:function(h,u,_){if(this._validateLevel++,"d"===_||"w"===_){var b=h.toJD()+u*("w"===_?this.daysInWeek():1),M=h.calendar().fromJD(b);return this._validateLevel--,[M.year(),M.month(),M.day()]}try{var w=h.year()+("y"===_?u:0),N=h.monthOfYear()+("m"===_?u:0);M=h.day(),"y"===_?(h.month()!==this.fromMonthOfYear(w,N)&&(N=this.newDate(w,h.month(),this.minDay).monthOfYear()),N=Math.min(N,this.monthsInYear(w)),M=Math.min(M,this.daysInMonth(w,this.fromMonthOfYear(w,N)))):"m"===_&&(function(k){for(;N<k.minMonth;)w--,N+=k.monthsInYear(w);for(var D=k.monthsInYear(w);N>D-1+k.minMonth;)w++,N-=D,D=k.monthsInYear(w)}(this),M=Math.min(M,this.daysInMonth(w,this.fromMonthOfYear(w,N))));var z=[w,this.fromMonthOfYear(w,N),M];return this._validateLevel--,z}catch(k){throw this._validateLevel--,k}},_correctAdd:function(h,u,_,b){if(!(this.hasYearZero||"y"!==b&&"m"!==b||0!==u[0]&&h.year()>0==u[0]>0)){var M={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[b];u=this._add(h,_*M[0]+(_<0?-1:1)*M[1],M[2])}return h.date(u[0],u[1],u[2])},set:function(h,u,_){this._validate(h,this.minMonth,this.minDay,d.local.invalidDate||d.regionalOptions[""].invalidDate);var b="y"===_?u:h.year(),M="m"===_?u:h.month(),w="d"===_?u:h.day();return"y"!==_&&"m"!==_||(w=Math.min(w,this.daysInMonth(b,M))),h.date(b,M,w)},isValid:function(h,u,_){this._validateLevel++;var b=this.hasYearZero||0!==h;if(b){var M=this.newDate(h,u,this.minDay);b=u>=this.minMonth&&u-this.minMonth<this.monthsInYear(M)&&_>=this.minDay&&_-this.minDay<this.daysInMonth(M)}return this._validateLevel--,b},toJSDate:function(h,u,_){var b=this._validate(h,u,_,d.local.invalidDate||d.regionalOptions[""].invalidDate);return d.instance().fromJD(this.toJD(b)).toJSDate()},fromJSDate:function(h){return this.fromJD(d.instance().fromJSDate(h).toJD())},_validate:function(h,u,_,b){if(h.year){if(0===this._validateLevel&&this.name!==h.calendar().name)throw(d.local.differentCalendars||d.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,h.calendar().local.name);return h}try{if(this._validateLevel++,1===this._validateLevel&&!this.isValid(h,u,_))throw b.replace(/\{0\}/,this.local.name);var M=this.newDate(h,u,_);return this._validateLevel--,M}catch(w){throw this._validateLevel--,w}}}),o(C.prototype=new c,{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(h){var u=this._validate(h,this.minMonth,this.minDay,d.local.invalidYear||d.regionalOptions[""].invalidYear);return(h=u.year()+(u.year()<0?1:0))%4==0&&(h%100!=0||h%400==0)},weekOfYear:function(h,u,_){var b=this.newDate(h,u,_);return b.add(4-(b.dayOfWeek()||7),"d"),Math.floor((b.dayOfYear()-1)/7)+1},daysInMonth:function(h,u){var _=this._validate(h,u,this.minDay,d.local.invalidMonth||d.regionalOptions[""].invalidMonth);return this.daysPerMonth[_.month()-1]+(2===_.month()&&this.leapYear(_.year())?1:0)},weekDay:function(h,u,_){return(this.dayOfWeek(h,u,_)||7)<6},toJD:function(h,u,_){var b=this._validate(h,u,_,d.local.invalidDate||d.regionalOptions[""].invalidDate);h=b.year(),u=b.month(),_=b.day(),h<0&&h++,u<3&&(u+=12,h--);var M=Math.floor(h/100),w=2-M+Math.floor(M/4);return Math.floor(365.25*(h+4716))+Math.floor(30.6001*(u+1))+_+w-1524.5},fromJD:function(h){var u=Math.floor(h+.5),_=Math.floor((u-1867216.25)/36524.25),b=1524+(_=u+1+_-Math.floor(_/4)),M=Math.floor((b-122.1)/365.25),w=Math.floor(365.25*M),N=Math.floor((b-w)/30.6001),z=b-w-Math.floor(30.6001*N),k=N-(N>13.5?13:1),D=M-(k>2.5?4716:4715);return D<=0&&D--,this.newDate(D,k,z)},toJSDate:function(h,u,_){var b=this._validate(h,u,_,d.local.invalidDate||d.regionalOptions[""].invalidDate),M=new Date(b.year(),b.month()-1,b.day());return M.setHours(0),M.setMinutes(0),M.setSeconds(0),M.setMilliseconds(0),M.setHours(M.getHours()>12?M.getHours()+2:0),M},fromJSDate:function(h){return this.newDate(h.getFullYear(),h.getMonth()+1,h.getDate())}});var d=de.exports=new g;d.cdate=p,d.baseCalendar=c,d.calendars.gregorian=C},{"object-assign":55}],83:[function(m,de,ne){var o=m("object-assign"),g=m("./main");o(g.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),g.local=g.regionalOptions[""],o(g.cdate.prototype,{formatDate:function(p,l){return"string"!=typeof p&&(l=p,p=""),this._calendar.formatDate(p||"",this,l)}}),o(g.baseCalendar.prototype,{UNIX_EPOCH:g.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:g.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(p,l,c){if("string"!=typeof p&&(c=l,l=p,p=""),!l)return"";if(l.calendar()!==this)throw g.local.invalidFormat||g.regionalOptions[""].invalidFormat;p=p||this.local.dateFormat;for(var d,h,u,_=(c=c||{}).dayNamesShort||this.local.dayNamesShort,b=c.dayNames||this.local.dayNames,M=c.monthNumbers||this.local.monthNumbers,w=c.monthNamesShort||this.local.monthNamesShort,N=c.monthNames||this.local.monthNames,z=function($,T){for(var Y=1;B+Y<p.length&&p.charAt(B+Y)===$;)Y++;return B+=Y-1,Math.floor(Y/(T||1))>1},k=function($,T,Y,W){var q=""+T;if(z($,W))for(;q.length<Y;)q="0"+q;return q},D=this,P=function($,T){return T?"function"==typeof N?N.call(D,$):N[$.month()-D.minMonth]:"function"==typeof w?w.call(D,$):w[$.month()-D.minMonth]},V=this.local.digits,E=function($){return c.localNumbers&&V?V($):$},I="",L=!1,B=0;B<p.length;B++)if(L)"'"!==p.charAt(B)||z("'")?I+=p.charAt(B):L=!1;else switch(p.charAt(B)){case"d":I+=E(k("d",l.day(),2));break;case"D":I+=("D",d=l.dayOfWeek(),h=_,u=b,z("D")?u[d]:h[d]);break;case"o":I+=k("o",l.dayOfYear(),3);break;case"w":I+=k("w",l.weekOfYear(),2);break;case"m":I+=($=l,"function"==typeof M?M.call(D,$,z("m")):E(k("m",$.month(),2)));break;case"M":I+=P(l,z("M"));break;case"y":I+=z("y",2)?l.year():(l.year()%100<10?"0":"")+l.year()%100;break;case"Y":z("Y",2),I+=l.formatYear();break;case"J":I+=l.toJD();break;case"@":I+=(l.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":I+=(l.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":z("'")?I+="'":L=!0;break;default:I+=p.charAt(B)}var $;return I},parseDate:function(p,l,c){if(null==l)throw g.local.invalidArguments||g.regionalOptions[""].invalidArguments;if(""===(l="object"==typeof l?l.toString():l+""))return null;p=p||this.local.dateFormat;var C=(c=c||{}).shortYearCutoff||this.shortYearCutoff;C="string"!=typeof C?C:this.today().year()%100+parseInt(C,10);for(var d=c.dayNamesShort||this.local.dayNamesShort,h=c.dayNames||this.local.dayNames,u=c.parseMonth||this.local.parseMonth,_=c.monthNumbers||this.local.monthNumbers,b=c.monthNamesShort||this.local.monthNamesShort,M=c.monthNames||this.local.monthNames,w=-1,N=-1,z=-1,k=-1,D=-1,S=!1,P=!1,V=function(te,ce){for(var me=1;W+me<p.length&&p.charAt(W+me)===te;)me++;return W+=me-1,Math.floor(me/(ce||1))>1},E=function(te,ce){var me=V(te,ce),ie=[2,3,me?4:2,me?4:2,10,11,20]["oyYJ@!".indexOf(te)+1],K=new RegExp("^-?\\d{1,"+ie+"}"),le=l.substring(Y).match(K);if(!le)throw(g.local.missingNumberAt||g.regionalOptions[""].missingNumberAt).replace(/\{0\}/,Y);return Y+=le[0].length,parseInt(le[0],10)},I=this,L=function(){if("function"==typeof _){V("m");var te=_.call(I,l.substring(Y));return Y+=te.length,te}return E("m")},B=function(te,ce,me,ie){for(var K=V(te,ie)?me:ce,le=0;le<K.length;le++)if(l.substr(Y,K[le].length).toLowerCase()===K[le].toLowerCase())return Y+=K[le].length,le+I.minMonth;throw(g.local.unknownNameAt||g.regionalOptions[""].unknownNameAt).replace(/\{0\}/,Y)},$=function(){if("function"==typeof M){var te=V("M")?M.call(I,l.substring(Y)):b.call(I,l.substring(Y));return Y+=te.length,te}return B("M",b,M)},T=function(){if(l.charAt(Y)!==p.charAt(W))throw(g.local.unexpectedLiteralAt||g.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,Y);Y++},Y=0,W=0;W<p.length;W++)if(P)"'"!==p.charAt(W)||V("'")?T():P=!1;else switch(p.charAt(W)){case"d":k=E("d");break;case"D":B("D",d,h);break;case"o":D=E("o");break;case"w":E("w");break;case"m":z=L();break;case"M":z=$();break;case"y":var q=W;S=!V("y",2),W=q,N=E("y",2);break;case"Y":N=E("Y",2);break;case"J":w=E("J")+.5,"."===l.charAt(Y)&&(Y++,E("J"));break;case"@":w=E("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":w=E("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":Y=l.length;break;case"'":V("'")?T():P=!0;break;default:T()}if(Y<l.length)throw g.local.unexpectedText||g.regionalOptions[""].unexpectedText;if(-1===N?N=this.today().year():N<100&&S&&(N+=-1===C?1900:this.today().year()-this.today().year()%100-(N<=C?0:100)),"string"==typeof z&&(z=u.call(this,N,z)),D>-1){k=D;for(var Q=this.daysInMonth(N,z=1);k>Q;Q=this.daysInMonth(N,z))z++,k-=Q}return w>-1?this.fromJD(w):this.newDate(N,z,k)},determineDate:function(p,l,c,C,d){c&&"object"!=typeof c&&(d=C,C=c,c=null),"string"!=typeof C&&(d=C,C="");var h=this;return l=l?l.newDate():null,null==p?l:"string"==typeof p?function(u){try{return h.parseDate(C,u,d)}catch(w){}for(var _=((u=u.toLowerCase()).match(/^c/)&&c?c.newDate():null)||h.today(),b=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,M=b.exec(u);M;)_.add(parseInt(M[1],10),M[2]||"d"),M=b.exec(u);return _}(p):"number"==typeof p?isNaN(p)||p===1/0||p===-1/0?l:h.today().add(p,"d"):h.newDate(p)}})},{"./main":82,"object-assign":55}],84:[function(m,de,ne){"use strict";de.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},{}],85:[function(m,de,ne){"use strict";var o=m("./arrow_paths"),g=m("../../plots/font_attributes"),p=m("../../plots/cartesian/constants"),l=m("../../plot_api/plot_template").templatedArray;m("../../constants/axis_placeable_objects"),de.exports=l("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:g({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:o.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:o.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",p.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",p.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",p.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",p.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:g({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},{"../../constants/axis_placeable_objects":208,"../../plot_api/plot_template":268,"../../plots/cartesian/constants":286,"../../plots/font_attributes":310,"./arrow_paths":84}],86:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("../../plots/cartesian/axes"),p=m("./draw").draw;function l(C){o.filterVisible(C._fullLayout.annotations).forEach(function(h){var u=g.getFromId(C,h.xref),_=g.getFromId(C,h.yref),b=g.getRefType(h.xref),M=g.getRefType(h.yref);h._extremes={},"range"===b&&c(h,u),"range"===M&&c(h,_)})}function c(C,d){var h,u=d._id,_=u.charAt(0),b=C[_],M=C["a"+_],z=C["_"+_+"padplus"],k=C["_"+_+"padminus"],D={x:1,y:-1}[_]*C[_+"shift"],S=3*C.arrowsize*C.arrowwidth||0,P=S+D,V=S-D,E=3*C.startarrowsize*C.arrowwidth||0,I=E+D,L=E-D;if(C["a"+_+"ref"]===C[_+"ref"]){var B=g.findExtremes(d,[d.r2c(b)],{ppadplus:P,ppadminus:V}),$=g.findExtremes(d,[d.r2c(M)],{ppadplus:Math.max(z,I),ppadminus:Math.max(k,L)});h={min:[B.min[0],$.min[0]],max:[B.max[0],$.max[0]]}}else I=M?I+M:I,L=M?L-M:L,h=g.findExtremes(d,[d.r2c(b)],{ppadplus:Math.max(z,P,I),ppadminus:Math.max(k,V,L)});C._extremes[u]=h}de.exports=function(C){if(o.filterVisible(C._fullLayout.annotations).length&&C._fullData.length)return o.syncOrAsync([p,l],C)}},{"../../lib":232,"../../plots/cartesian/axes":279,"./draw":91}],87:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("../../registry"),p=m("../../plot_api/plot_template").arrayEditor;function l(C,d){var h,u,_,b,M,w,N,z=C._fullLayout.annotations,k=[],D=[],S=[],P=(d||[]).length;for(h=0;h<z.length;h++)if(b=(_=z[h]).clicktoshow){for(u=0;u<P;u++)if(w=(M=d[u]).xaxis,N=M.yaxis,w._id===_.xref&&N._id===_.yref&&w.d2r(M.x)===c(_._xclick,w)&&N.d2r(M.y)===c(_._yclick,N)){(_.visible?"onout"===b?D:S:k).push(h);break}u===P&&_.visible&&"onout"===b&&D.push(h)}return{on:k,off:D,explicitOff:S}}function c(C,d){return"log"===d.type?d.l2r(C):d.d2r(C)}de.exports={hasClickToShow:function(C,d){var h=l(C,d);return h.on.length>0||h.explicitOff.length>0},onClick:function(C,d){var h,u,_=l(C,d),b=_.on,M=_.off.concat(_.explicitOff),w={},N=C._fullLayout.annotations;if(b.length||M.length){for(h=0;h<b.length;h++)(u=p(C.layout,"annotations",N[b[h]])).modifyItem("visible",!0),o.extendFlat(w,u.getUpdateObj());for(h=0;h<M.length;h++)(u=p(C.layout,"annotations",N[M[h]])).modifyItem("visible",!1),o.extendFlat(w,u.getUpdateObj());return g.call("update",C,{},w)}}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../registry":318}],88:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("../color");de.exports=function(p,l,c,C){C("opacity");var d=C("bgcolor"),h=C("bordercolor"),u=g.opacity(h);C("borderpad");var _=C("borderwidth"),b=C("showarrow");if(C("text",b?" ":c._dfltTitle.annotation),C("textangle"),o.coerceFont(C,"font",c.font),C("width"),C("align"),C("height")&&C("valign"),b){var M,w,N=C("arrowside");-1!==N.indexOf("end")&&(M=C("arrowhead"),w=C("arrowsize")),-1!==N.indexOf("start")&&(C("startarrowhead",M),C("startarrowsize",w)),C("arrowcolor",u?l.bordercolor:g.defaultLine),C("arrowwidth",2*(u&&_||1)),C("standoff"),C("startstandoff")}var z=C("hovertext"),k=c.hoverlabel||{};if(z){var D=C("hoverlabel.bgcolor",k.bgcolor||(g.opacity(d)?g.rgb(d):g.defaultLine)),S=C("hoverlabel.bordercolor",k.bordercolor||g.contrast(D));o.coerceFont(C,"hoverlabel.font",{family:k.font.family,size:k.font.size,color:k.font.color||S})}C("captureevents",!!z)}},{"../../lib":232,"../color":102}],89:[function(m,de,ne){"use strict";var o=m("fast-isnumeric"),g=m("../../lib/to_log_range");de.exports=function(p,l,c,C){l=l||{};var d="log"===c&&"linear"===l.type;if(d||"linear"===c&&"log"===l.type)for(var u,_,b=p._fullLayout.annotations,M=l._id.charAt(0),w=0;w<b.length;w++)_="annotations["+w+"].",(u=b[w])[M+"ref"]===l._id&&N(M),u["a"+M+"ref"]===l._id&&N("a"+M);function N(z){var k=u[z],D=null;D=d?g(k,l.range):Math.pow(10,k),o(D)||(D=null),C(_+z,D)}}},{"../../lib/to_log_range":257,"fast-isnumeric":17}],90:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("../../plots/cartesian/axes"),p=m("../../plots/array_container_defaults"),l=m("./common_defaults"),c=m("./attributes");function C(d,h,u){function _($,T){return o.coerce(d,h,c,$,T)}var b=_("visible"),M=_("clicktoshow");if(b||M){l(d,h,u,_);for(var w=h.showarrow,N=["x","y"],z=[-10,-30],k={_fullLayout:u},D=0;D<2;D++){var S=N[D],P=g.coerceRef(d,h,k,S,"","paper");if("paper"!==P&&g.getFromId(k,P)._annIndices.push(h._index),g.coercePosition(h,k,_,P,S,.5),w){var V="a"+S,E=g.coerceRef(d,h,k,V,"pixel",["pixel","paper"]);"pixel"!==E&&E!==P&&(E=h[V]="pixel"),g.coercePosition(h,k,_,E,V,"pixel"===E?z[D]:.4)}_(S+"anchor"),_(S+"shift")}if(o.noneOrAll(d,h,["x","y"]),w&&o.noneOrAll(d,h,["ax","ay"]),M){var L=_("xclick"),B=_("yclick");h._xclick=void 0===L?h.x:g.cleanPosition(L,k,h.xref),h._yclick=void 0===B?h.y:g.cleanPosition(B,k,h.yref)}}}de.exports=function(d,h){p(d,h,{name:"annotations",handleItemDefaults:C})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"./attributes":85,"./common_defaults":88}],91:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("../../registry"),p=m("../../plots/plots"),l=m("../../lib"),c=l.strTranslate,C=m("../../plots/cartesian/axes"),d=m("../color"),h=m("../drawing"),u=m("../fx"),_=m("../../lib/svg_text_utils"),b=m("../../lib/setcursor"),M=m("../dragelement"),w=m("../../plot_api/plot_template").arrayEditor,N=m("./draw_arrow_head");function z(S,P){var V=S._fullLayout.annotations[P]||{},E=C.getFromId(S,V.xref),I=C.getFromId(S,V.yref);E&&E.setScale(),I&&I.setScale(),D(S,V,P,!1,E,I)}function k(S,P,V,E,I){var L=I[V],B=I[V+"ref"],$=-1!==V.indexOf("y"),T="domain"===C.getRefType(B),Y=$?E.h:E.w;return S?T?L+($?-P:P)/S._length:S.p2r(S.r2p(L)+P):L+($?-P:P)/Y}function D(S,P,V,E,I,L){var B,$,T=S._fullLayout,Y=S._fullLayout._size,W=S._context.edits;E?(B="annotation-"+E,$=E+".annotations"):(B="annotation",$="annotations");var q=w(S.layout,$,P),Q=q.modifyBase,te=q.modifyItem,ce=q.getUpdateObj;T._infolayer.selectAll("."+B+'[data-index="'+V+'"]').remove();var me="clip"+T._uid+"_ann"+V;if(P._input&&!1!==P.visible){var ie={x:{},y:{}},K=+P.textangle||0,le=T._infolayer.append("g").classed(B,!0).attr("data-index",String(V)).style("opacity",P.opacity),G=le.append("g").classed("annotation-text-g",!0),j=W[P.showarrow?"annotationTail":"annotationPosition"],oe=P.captureevents||W.annotationText||j,re=G.append("g").style("pointer-events",oe?"all":null).call(b,"pointer").on("click",function(){S._dragging=!1,S.emit("plotly_clickannotation",Me(o.event))});P.hovertext&&re.on("mouseover",function(){var Fe=P.hoverlabel,Ue=Fe.font,t1=this.getBoundingClientRect(),Xe=S.getBoundingClientRect();u.loneHover({x0:t1.left-Xe.left,x1:t1.right-Xe.left,y:(t1.top+t1.bottom)/2-Xe.top,text:P.hovertext,color:Fe.bgcolor,borderColor:Fe.bordercolor,fontFamily:Ue.family,fontSize:Ue.size,fontColor:Ue.color},{container:T._hoverlayer.node(),outerContainer:T._paper.node(),gd:S})}).on("mouseout",function(){u.loneUnhover(T._hoverlayer.node())});var F=P.borderwidth,X=F+P.borderpad,R=re.append("rect").attr("class","bg").style("stroke-width",F+"px").call(d.stroke,P.bordercolor).call(d.fill,P.bgcolor),ae=P.width||P.height,fe=T._topclips.selectAll("#"+me).data(ae?[0]:[]);fe.enter().append("clipPath").classed("annclip",!0).attr("id",me).append("rect"),fe.exit().remove();var ue=P.font,pe=T._meta?l.templateString(P.text,T._meta):P.text,xe=re.append("text").classed("annotation-text",!0).text(pe);W.annotationText?xe.call(_.makeEditable,{delegate:re,gd:S}).call(Ae).on("edit",function(Fe){P.text=Fe,this.call(Ae),te("text",Fe),I&&I.autorange&&Q(I._name+".autorange",!0),L&&L.autorange&&Q(L._name+".autorange",!0),g.call("_guiRelayout",S,ce())}):xe.call(Ae)}else o.selectAll("#"+me).remove();function Me(Fe){var Ue={index:V,annotation:P._input,fullAnnotation:P,event:Fe};return E&&(Ue.subplotId=E),Ue}function Ae(Fe){return Fe.call(h.font,ue).attr({"text-anchor":{left:"start",right:"end"}[P.align]||"middle"}),_.convertToTspans(Fe,S,ze),Fe}function ze(){var Fe=xe.selectAll("a");1===Fe.size()&&Fe.text()===xe.text()&&re.insert("a",":first-child").attr({"xlink:xlink:href":Fe.attr("xlink:href"),"xlink:xlink:show":Fe.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(R.node());var Ue=re.select(".annotation-text-math-group"),t1=!Ue.empty(),Xe=h.bBox((t1?Ue:xe).node()),Ge=Xe.width,we=Xe.height,ve=P.width||Ge,De=P.height||we,Ve=Math.round(ve+2*X),qe=Math.round(De+2*X);function Ie(H1,Y1){return"auto"===Y1&&(Y1=H1<1/3?"left":H1>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[Y1]}for(var Re=!1,Qe=["x","y"],n1=0;n1<Qe.length;n1++){var Ye,r1,f1,Je,g1,b1=Qe[n1],_1=P[b1+"ref"]||b1,I1=P["a"+b1+"ref"],M1={x:I,y:L}[b1],Be=(K+("x"===b1?0:-90))*Math.PI/180,je=Ve*Math.cos(Be),C1=qe*Math.sin(Be),O1=Math.abs(je)+Math.abs(C1),Q1=P[b1+"anchor"],st=P[b1+"shift"]*("x"===b1?1:-1),$1=ie[b1],Z1=C.getRefType(_1);if(M1&&"domain"!==Z1){var N1=M1.r2fraction(P[b1]);(N1<0||N1>1)&&(I1===_1?((N1=M1.r2fraction(P["a"+b1]))<0||N1>1)&&(Re=!0):Re=!0),Ye=M1._offset+M1.r2p(P[b1]),Je=.5}else{var ge="domain"===Z1;"x"===b1?(f1=P[b1],Ye=ge?M1._offset+M1._length*f1:Ye=Y.l+Y.w*f1):(f1=1-P[b1],Ye=ge?M1._offset+M1._length*f1:Ye=Y.t+Y.h*f1),Je=P.showarrow?.5:f1}if(P.showarrow){$1.head=Ye;var ye=P["a"+b1];if(g1=je*Ie(.5,P.xanchor)-C1*Ie(.5,P.yanchor),I1===_1){var We=C.getRefType(I1);"domain"===We?("y"===b1&&(ye=1-ye),$1.tail=M1._offset+M1._length*ye):$1.tail="paper"===We?"y"===b1?Y.t+Y.h*(ye=1-ye):Y.l+Y.w*ye:M1._offset+M1.r2p(ye),r1=g1}else $1.tail=Ye+ye,r1=g1+ye;$1.text=$1.tail+g1;var e1=T["x"===b1?"width":"height"];if("paper"===_1&&($1.head=l.constrain($1.head,1,e1-1)),"pixel"===I1){var d1=-Math.max($1.tail-3,$1.text),a1=Math.min($1.tail+3,$1.text)-e1;d1>0?($1.tail+=d1,$1.text+=d1):a1>0&&($1.tail-=a1,$1.text-=a1)}$1.tail+=st,$1.head+=st}else r1=g1=O1*Ie(Je,Q1),$1.text=Ye+g1;$1.text+=st,g1+=st,P["_"+b1+"padplus"]=O1/2+(r1+=st),P["_"+b1+"padminus"]=O1/2-r1,P["_"+b1+"size"]=O1,P["_"+b1+"shift"]=g1}if(Re)re.remove();else{var l1=0,c1=0;"left"!==P.align&&(l1=(ve-Ge)*("center"===P.align?.5:1)),"top"!==P.valign&&(c1=(De-we)*("middle"===P.valign?.5:1)),t1?Ue.select("svg").attr({x:X+l1-1,y:X+c1}).call(h.setClipUrl,ae?me:null,S):xe.call(_.positionText,X+l1-Xe.left,X+c1-Xe.top).call(h.setClipUrl,ae?me:null,S),fe.select("rect").call(h.setRect,X,X,ve,De),R.call(h.setRect,F/2,F/2,Ve-F,qe-F),re.call(h.setTranslate,Math.round(ie.x.text-Ve/2),Math.round(ie.y.text-qe/2)),G.attr({transform:"rotate("+K+","+ie.x.text+","+ie.y.text+")"});var B1,rt=function(H1,Y1){le.selectAll(".annotation-arrow-g").remove();var ut=ie.x.head,k1=ie.y.head,L1=ie.x.tail+H1,it=ie.y.tail+Y1,X1=ie.x.text+H1,j1=ie.y.text+Y1,et=l.rotationXYMatrix(K,X1,j1),P1=l.apply2DTransform(et),xt=l.apply2DTransform2(et),yt=+R.attr("width"),wt=+R.attr("height"),Ft=X1-.5*yt,Ot=Ft+yt,Dt=j1-.5*wt,G1=Dt+wt,K1=[[Ft,Dt,Ft,G1],[Ft,G1,Ot,G1],[Ot,G1,Ot,Dt],[Ot,Dt,Ft,Dt]].map(xt);if(!K1.reduce(function(Kt,Pt){return Kt^!!l.segmentsIntersect(ut,k1,ut+1e6,k1+1e6,Pt[0],Pt[1],Pt[2],Pt[3])},!1)){K1.forEach(function(Kt){var Pt=l.segmentsIntersect(L1,it,ut,k1,Kt[0],Kt[1],Kt[2],Kt[3]);Pt&&(L1=Pt.x,it=Pt.y)});var tt=P.arrowwidth,dt=P.arrowcolor,ot=P.arrowside,gt=le.append("g").style({opacity:d.opacity(dt)}).classed("annotation-arrow-g",!0),Gt=gt.append("path").attr("d","M"+L1+","+it+"L"+ut+","+k1).style("stroke-width",tt+"px").call(d.stroke,d.rgb(dt));if(N(Gt,ot,P),W.annotationPosition&&Gt.node().parentNode&&!E){var Qt=ut,Vt=k1;if(P.standoff){var kt=Math.sqrt(Math.pow(ut-L1,2)+Math.pow(k1-it,2));Qt+=P.standoff*(L1-ut)/kt,Vt+=P.standoff*(it-k1)/kt}var f2,p2,Bt=gt.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(L1-Qt)+","+(it-Vt),transform:c(Qt,Vt)}).style("stroke-width",tt+6+"px").call(d.stroke,"rgba(0,0,0,0)").call(d.fill,"rgba(0,0,0,0)");M.init({element:Bt.node(),gd:S,prepFn:function(){var Kt=h.getTranslate(re);f2=Kt.x,p2=Kt.y,I&&I.autorange&&Q(I._name+".autorange",!0),L&&L.autorange&&Q(L._name+".autorange",!0)},moveFn:function(Kt,Pt){var m2=P1(f2,p2),zt=m2[0]+Kt,y2=m2[1]+Pt;re.call(h.setTranslate,zt,y2),te("x",k(I,Kt,"x",Y,P)),te("y",k(L,Pt,"y",Y,P)),P.axref===P.xref&&te("ax",k(I,Kt,"ax",Y,P)),P.ayref===P.yref&&te("ay",k(L,Pt,"ay",Y,P)),gt.attr("transform",c(Kt,Pt)),G.attr({transform:"rotate("+K+","+zt+","+y2+")"})},doneFn:function(){g.call("_guiRelayout",S,ce());var Kt=document.querySelector(".js-notes-box-panel");Kt&&Kt.redraw(Kt.selectedObj)}})}}};P.showarrow&&rt(0,0),j&&M.init({element:re.node(),gd:S,prepFn:function(){B1=G.attr("transform")},moveFn:function(H1,Y1){var ut="pointer";if(P.showarrow)te("ax",P.axref===P.xref?k(I,H1,"ax",Y,P):P.ax+H1),te("ay",P.ayref===P.yref?k(L,Y1,"ay",Y.w,P):P.ay+Y1),rt(H1,Y1);else{if(E)return;var k1,L1;if(I)k1=k(I,H1,"x",Y,P);else{var it=P._xsize/Y.w;k1=M.align(P.x+(P._xshift-P.xshift)/Y.w-it/2+H1/Y.w,it,0,1,P.xanchor)}if(L)L1=k(L,Y1,"y",Y,P);else{var j1=P._ysize/Y.h;L1=M.align(P.y-(P._yshift+P.yshift)/Y.h-j1/2-Y1/Y.h,j1,0,1,P.yanchor)}te("x",k1),te("y",L1),I&&L||(ut=M.getCursor(I?.5:k1,L?.5:L1,P.xanchor,P.yanchor))}G.attr({transform:c(H1,Y1)+B1}),b(re,ut)},clickFn:function(H1,Y1){P.captureevents&&S.emit("plotly_clickannotation",Me(Y1))},doneFn:function(){b(re),g.call("_guiRelayout",S,ce());var H1=document.querySelector(".js-notes-box-panel");H1&&H1.redraw(H1.selectedObj)}})}}}de.exports={draw:function(S){var P=S._fullLayout;P._infolayer.selectAll(".annotation").remove();for(var V=0;V<P.annotations.length;V++)P.annotations[V].visible&&z(S,V);return p.previousPromises(S)},drawOne:z,drawRaw:D}},{"../../lib":232,"../../lib/setcursor":252,"../../lib/svg_text_utils":255,"../../plot_api/plot_template":268,"../../plots/cartesian/axes":279,"../../plots/plots":316,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"../fx":142,"./draw_arrow_head":92,"@plotly/d3":11}],92:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("../color"),p=m("./arrow_paths"),l=m("../../lib"),c=l.strScale,C=l.strRotate,d=l.strTranslate;de.exports=function(h,u,_){var b,M,w,N,z=h.node(),k=p[_.arrowhead||0],D=p[_.startarrowhead||0],S=(_.arrowwidth||1)*(_.arrowsize||1),P=(_.arrowwidth||1)*(_.startarrowsize||1),V=u.indexOf("start")>=0,E=u.indexOf("end")>=0,I=k.backoff*S+_.standoff,L=D.backoff*P+_.startstandoff;if("line"===z.nodeName){b={x:+h.attr("x1"),y:+h.attr("y1")},M={x:+h.attr("x2"),y:+h.attr("y2")};var B=b.x-M.x,$=b.y-M.y;if(N=(w=Math.atan2($,B))+Math.PI,I&&L&&I+L>Math.sqrt(B*B+$*$))return void le();if(I){if(I*I>B*B+$*$)return void le();var T=I*Math.cos(w),Y=I*Math.sin(w);M.x+=T,M.y+=Y,h.attr({x2:M.x,y2:M.y})}if(L){if(L*L>B*B+$*$)return void le();var W=L*Math.cos(w),q=L*Math.sin(w);b.x-=W,b.y-=q,h.attr({x1:b.x,y1:b.y})}}else if("path"===z.nodeName){var Q=z.getTotalLength(),te="";if(Q<I+L)return void le();var ce=z.getPointAtLength(0),me=z.getPointAtLength(.1);w=Math.atan2(ce.y-me.y,ce.x-me.x),b=z.getPointAtLength(Math.min(L,Q)),te="0px,"+L+"px,";var ie=z.getPointAtLength(Q),K=z.getPointAtLength(Q-.1);N=Math.atan2(ie.y-K.y,ie.x-K.x),M=z.getPointAtLength(Math.max(0,Q-I)),h.style("stroke-dasharray",te+=Q-(te?L+I:I)+"px,"+Q+"px")}function le(){h.style("stroke-dasharray","0px,100px")}function G(j,oe,re,F){j.path&&(j.noRotate&&(re=0),o.select(z.parentNode).append("path").attr({class:h.attr("class"),d:j.path,transform:d(oe.x,oe.y)+C(180*re/Math.PI)+c(F)}).style({fill:g.rgb(_.arrowcolor),"stroke-width":0}))}V&&G(D,b,w,P),E&&G(k,M,N,S)}},{"../../lib":232,"../color":102,"./arrow_paths":84,"@plotly/d3":11}],93:[function(m,de,ne){"use strict";var o=m("./draw"),g=m("./click");de.exports={moduleType:"component",name:"annotations",layoutAttributes:m("./attributes"),supplyLayoutDefaults:m("./defaults"),includeBasePlot:m("../../plots/cartesian/include_components")("annotations"),calcAutorange:m("./calc_autorange"),draw:o.draw,drawOne:o.drawOne,drawRaw:o.drawRaw,hasClickToShow:g.hasClickToShow,onClick:g.onClick,convertCoords:m("./convert_coords")}},{"../../plots/cartesian/include_components":292,"./attributes":85,"./calc_autorange":86,"./click":87,"./convert_coords":89,"./defaults":90,"./draw":91}],94:[function(m,de,ne){"use strict";var o=m("../annotations/attributes"),g=m("../../plot_api/edit_types").overrideAll,p=m("../../plot_api/plot_template").templatedArray;de.exports=g(p("annotation",{visible:o.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:o.xanchor,xshift:o.xshift,yanchor:o.yanchor,yshift:o.yshift,text:o.text,textangle:o.textangle,font:o.font,width:o.width,height:o.height,opacity:o.opacity,align:o.align,valign:o.valign,bgcolor:o.bgcolor,bordercolor:o.bordercolor,borderpad:o.borderpad,borderwidth:o.borderwidth,showarrow:o.showarrow,arrowcolor:o.arrowcolor,arrowhead:o.arrowhead,startarrowhead:o.startarrowhead,arrowside:o.arrowside,arrowsize:o.arrowsize,startarrowsize:o.startarrowsize,arrowwidth:o.arrowwidth,standoff:o.standoff,startstandoff:o.startstandoff,hovertext:o.hovertext,hoverlabel:o.hoverlabel,captureevents:o.captureevents}),"calc","from-root")},{"../../plot_api/edit_types":261,"../../plot_api/plot_template":268,"../annotations/attributes":85}],95:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("../../plots/cartesian/axes");function p(l,c){var C=c.fullSceneLayout.domain,d=c.fullLayout._size,h={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};l._xa={},o.extendFlat(l._xa,h),g.setConvert(l._xa),l._xa._offset=d.l+C.x[0]*d.w,l._xa.l2p=function(){return.5*(1+l._pdata[0]/l._pdata[3])*d.w*(C.x[1]-C.x[0])},l._ya={},o.extendFlat(l._ya,h),g.setConvert(l._ya),l._ya._offset=d.t+(1-C.y[1])*d.h,l._ya.l2p=function(){return.5*(1-l._pdata[1]/l._pdata[3])*d.h*(C.y[1]-C.y[0])}}de.exports=function(l){for(var c=l.fullSceneLayout.annotations,C=0;C<c.length;C++)p(c[C],l);l.fullLayout._infolayer.selectAll(".annotation-"+l.id).remove()}},{"../../lib":232,"../../plots/cartesian/axes":279}],96:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("../../plots/cartesian/axes"),p=m("../../plots/array_container_defaults"),l=m("../annotations/common_defaults"),c=m("./attributes");function C(d,h,u,_){function b(w,N){return o.coerce(d,h,c,w,N)}function M(w){var N=w+"axis",z={_fullLayout:{}};return z._fullLayout[N]=u[N],g.coercePosition(h,z,b,w,w,.5)}b("visible")&&(l(d,h,_.fullLayout,b),M("x"),M("y"),M("z"),o.noneOrAll(d,h,["x","y","z"]),h.xref="x",h.yref="y",h.zref="z",b("xanchor"),b("yanchor"),b("xshift"),b("yshift"),h.showarrow&&(h.axref="pixel",h.ayref="pixel",b("ax",-10),b("ay",-30),o.noneOrAll(d,h,["ax","ay"])))}de.exports=function(d,h,u){p(d,h,{name:"annotations",handleItemDefaults:C,fullLayout:u.fullLayout})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"../annotations/common_defaults":88,"./attributes":94}],97:[function(m,de,ne){"use strict";var o=m("../annotations/draw").drawRaw,g=m("../../plots/gl3d/project"),p=["x","y","z"];de.exports=function(l){for(var c=l.fullSceneLayout,C=l.dataScale,d=c.annotations,h=0;h<d.length;h++){for(var u=d[h],_=!1,b=0;b<3;b++){var M=p[b],N=c[M+"axis"].r2fraction(u[M]);if(N<0||N>1){_=!0;break}}_?l.fullLayout._infolayer.select(".annotation-"+l.id+'[data-index="'+h+'"]').remove():(u._pdata=g(l.glplot.cameraParams,[c.xaxis.r2l(u.x)*C[0],c.yaxis.r2l(u.y)*C[1],c.zaxis.r2l(u.z)*C[2]]),o(l.graphDiv,u,h,l.id,u._xa,u._ya))}}},{"../../plots/gl3d/project":313,"../annotations/draw":91}],98:[function(m,de,ne){"use strict";var o=m("../../registry"),g=m("../../lib");de.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:m("./attributes")}}},layoutAttributes:m("./attributes"),handleDefaults:m("./defaults"),includeBasePlot:function(p,l){var c=o.subplotsRegistry.gl3d;if(c)for(var C=c.attrRegex,d=Object.keys(p),h=0;h<d.length;h++){var u=d[h];C.test(u)&&(p[u].annotations||[]).length&&(g.pushUnique(l._basePlotModules,c),g.pushUnique(l._subplots.gl3d,u))}},convert:m("./convert"),draw:m("./draw")}},{"../../lib":232,"../../registry":318,"./attributes":94,"./convert":95,"./defaults":96,"./draw":97}],99:[function(m,de,ne){"use strict";de.exports=m("world-calendars/dist/main"),m("world-calendars/dist/plus"),m("world-calendars/dist/calendars/chinese"),m("world-calendars/dist/calendars/coptic"),m("world-calendars/dist/calendars/discworld"),m("world-calendars/dist/calendars/ethiopian"),m("world-calendars/dist/calendars/hebrew"),m("world-calendars/dist/calendars/islamic"),m("world-calendars/dist/calendars/julian"),m("world-calendars/dist/calendars/mayan"),m("world-calendars/dist/calendars/nanakshahi"),m("world-calendars/dist/calendars/nepali"),m("world-calendars/dist/calendars/persian"),m("world-calendars/dist/calendars/taiwan"),m("world-calendars/dist/calendars/thai"),m("world-calendars/dist/calendars/ummalqura")},{"world-calendars/dist/calendars/chinese":68,"world-calendars/dist/calendars/coptic":69,"world-calendars/dist/calendars/discworld":70,"world-calendars/dist/calendars/ethiopian":71,"world-calendars/dist/calendars/hebrew":72,"world-calendars/dist/calendars/islamic":73,"world-calendars/dist/calendars/julian":74,"world-calendars/dist/calendars/mayan":75,"world-calendars/dist/calendars/nanakshahi":76,"world-calendars/dist/calendars/nepali":77,"world-calendars/dist/calendars/persian":78,"world-calendars/dist/calendars/taiwan":79,"world-calendars/dist/calendars/thai":80,"world-calendars/dist/calendars/ummalqura":81,"world-calendars/dist/main":82,"world-calendars/dist/plus":83}],100:[function(m,de,ne){"use strict";var o=m("./calendars"),g=m("../../lib"),p=m("../../constants/numerical"),l=p.EPOCHJD,c=p.ONEDAY,C={valType:"enumerated",values:g.sortObjectKeys(o.calendars),editType:"calc",dflt:"gregorian"},d=function(D,S,P,V){var E={};return E[P]=C,g.coerce(D,S,E,P,V)},h={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:"##",w:"##",c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},u={};function _(D){return u[D]||(u[D]=o.instance(D))}function b(D){return g.extendFlat({},C,{description:D})}function M(D){return"Sets the calendar system to use with `"+D+"` date data."}var w={xcalendar:b(M("x"))},N=g.extendFlat({},w,{ycalendar:b(M("y"))}),z=g.extendFlat({},N,{zcalendar:b(M("z"))}),k=b(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));de.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:N,bar:N,box:N,heatmap:N,contour:N,histogram:N,histogram2d:N,histogram2dcontour:N,scatter3d:z,surface:z,mesh3d:z,scattergl:N,ohlc:w,candlestick:w},layout:{calendar:b(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:k},yaxis:{calendar:k},scene:{xaxis:{calendar:k},yaxis:{calendar:k},zaxis:{calendar:k}},polar:{radialaxis:{calendar:k}}},transforms:{filter:{valuecalendar:b(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:b(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:C,handleDefaults:d,handleTraceDefaults:function(D,S,P,V){for(var E=0;E<P.length;E++)d(D,S,P[E]+"calendar",V.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:_,worldCalFmt:function(D,S,P){for(var V,E,I,L,B,$=Math.floor((S+.05)/c)+l,T=_(P).fromJD($),Y=0;-1!==(Y=D.indexOf("%",Y));)"0"===(V=D.charAt(Y+1))||"-"===V||"_"===V?(I=3,E=D.charAt(Y+2),"_"===V&&(V="-")):(E=V,V="0",I=2),(L=h[E])?(B="##"===L?"##":T.formatDate(L[V]),D=D.substr(0,Y)+B+D.substr(Y+I),Y+=B.length):Y+=I;return D}}},{"../../constants/numerical":212,"../../lib":232,"./calendars":99}],101:[function(m,de,ne){"use strict";ne.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],ne.defaultLine="#444",ne.lightLine="#eee",ne.background="#fff",ne.borderLine="#BEC8D9",ne.lightFraction=1e3/11},{}],102:[function(m,de,ne){"use strict";var o=m("tinycolor2"),g=m("fast-isnumeric"),p=m("../../lib/array").isTypedArray,l=de.exports={},c=m("./attributes");l.defaults=c.defaults;var C=l.defaultLine=c.defaultLine;l.lightLine=c.lightLine;var d=l.background=c.background;function h(u){if(g(u)||"string"!=typeof u)return u;var _=u.trim();if("rgb"!==_.substr(0,3))return u;var b=_.match(/^rgba?\s*\(([^()]*)\)$/);if(!b)return u;var M=b[1].trim().split(/\s*[\s,]\s*/),w="a"===_.charAt(3)&&4===M.length;if(!w&&3!==M.length)return u;for(var N=0;N<M.length;N++){if(!(M[N].length&&(M[N]=Number(M[N]),M[N]>=0)))return u;if(3===N)M[N]>1&&(M[N]=1);else if(M[N]>=1)return u}var z=Math.round(255*M[0])+", "+Math.round(255*M[1])+", "+Math.round(255*M[2]);return w?"rgba("+z+", "+M[3]+")":"rgb("+z+")"}l.tinyRGB=function(u){var _=u.toRgb();return"rgb("+Math.round(_.r)+", "+Math.round(_.g)+", "+Math.round(_.b)+")"},l.rgb=function(u){return l.tinyRGB(o(u))},l.opacity=function(u){return u?o(u).getAlpha():0},l.addOpacity=function(u,_){var b=o(u).toRgb();return"rgba("+Math.round(b.r)+", "+Math.round(b.g)+", "+Math.round(b.b)+", "+_+")"},l.combine=function(u,_){var b=o(u).toRgb();if(1===b.a)return o(u).toRgbString();var M=o(_||d).toRgb(),w=1===M.a?M:{r:255*(1-M.a)+M.r*M.a,g:255*(1-M.a)+M.g*M.a,b:255*(1-M.a)+M.b*M.a};return o({r:w.r*(1-b.a)+b.r*b.a,g:w.g*(1-b.a)+b.g*b.a,b:w.b*(1-b.a)+b.b*b.a}).toRgbString()},l.contrast=function(u,_,b){var M=o(u);return 1!==M.getAlpha()&&(M=o(l.combine(u,d))),(M.isDark()?_?M.lighten(_):d:b?M.darken(b):C).toString()},l.stroke=function(u,_){var b=o(_);u.style({stroke:l.tinyRGB(b),"stroke-opacity":b.getAlpha()})},l.fill=function(u,_){var b=o(_);u.style({fill:l.tinyRGB(b),"fill-opacity":b.getAlpha()})},l.clean=function(u){if(u&&"object"==typeof u){var _,b,M,w,N=Object.keys(u);for(_=0;_<N.length;_++)if(w=u[M=N[_]],"color"===M.substr(M.length-5))if(Array.isArray(w))for(b=0;b<w.length;b++)w[b]=h(w[b]);else u[M]=h(w);else if("colorscale"===M.substr(M.length-10)&&Array.isArray(w))for(b=0;b<w.length;b++)Array.isArray(w[b])&&(w[b][1]=h(w[b][1]));else if(Array.isArray(w)){var z=w[0];if(!Array.isArray(z)&&z&&"object"==typeof z)for(b=0;b<w.length;b++)l.clean(w[b])}else w&&"object"==typeof w&&!p(w)&&l.clean(w)}}},{"../../lib/array":218,"./attributes":101,"fast-isnumeric":17,tinycolor2:67}],103:[function(m,de,ne){"use strict";var o=m("../../plots/cartesian/layout_attributes"),g=m("../../plots/font_attributes"),p=m("../../lib/extend").extendFlat,l=m("../../plot_api/edit_types").overrideAll;de.exports=l({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:o.linecolor,outlinewidth:o.linewidth,bordercolor:o.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:o.tickmode,nticks:o.nticks,tick0:o.tick0,dtick:o.dtick,tickvals:o.tickvals,ticktext:o.ticktext,ticks:p({},o.ticks,{dflt:""}),ticklabeloverflow:p({},o.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:o.ticklen,tickwidth:o.tickwidth,tickcolor:o.tickcolor,ticklabelstep:o.ticklabelstep,showticklabels:o.showticklabels,tickfont:g({}),tickangle:o.tickangle,tickformat:o.tickformat,tickformatstops:o.tickformatstops,tickprefix:o.tickprefix,showtickprefix:o.showtickprefix,ticksuffix:o.ticksuffix,showticksuffix:o.showticksuffix,separatethousands:o.separatethousands,exponentformat:o.exponentformat,minexponent:o.minexponent,showexponent:o.showexponent,title:{text:{valType:"string"},font:g({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:g({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},{"../../lib/extend":226,"../../plot_api/edit_types":261,"../../plots/cartesian/layout_attributes":294,"../../plots/font_attributes":310}],104:[function(m,de,ne){"use strict";de.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},{}],105:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("../../plot_api/plot_template"),p=m("../../plots/cartesian/tick_value_defaults"),l=m("../../plots/cartesian/tick_mark_defaults"),c=m("../../plots/cartesian/tick_label_defaults"),C=m("../../plots/cartesian/prefix_suffix_defaults"),d=m("./attributes");de.exports=function(h,u,_){var b=g.newContainer(u,"colorbar"),M=h.colorbar||{};function w($,T){return o.coerce(M,b,d,$,T)}var N=_.margin||{t:0,b:0,l:0,r:0},z=_.width-N.l-N.r,k=_.height-N.t-N.b,D="v"===w("orientation"),S=w("thicknessmode");w("thickness","fraction"===S?30/(D?z:k):30);var P=w("lenmode");w("len","fraction"===P?1:D?k:z),w("x",D?1.02:.5),w("xanchor",D?"left":"center"),w("xpad"),w("y",D?.5:1.02),w("yanchor",D?"middle":"bottom"),w("ypad"),o.noneOrAll(M,b,["x","y"]),w("outlinecolor"),w("outlinewidth"),w("bordercolor"),w("borderwidth"),w("bgcolor");var V=o.coerce(M,b,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:D?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");w("ticklabeloverflow",-1!==V.indexOf("inside")?"hide past domain":"hide past div"),p(M,b,w,"linear");var E=_.font,I={outerTicks:!1,font:E};-1!==V.indexOf("inside")&&(I.bgColor="black"),C(M,b,w,"linear",I),c(M,b,w,"linear",I),l(M,b,w,"linear",I),w("title.text",_._dfltTitle.colorbar);var L=b.tickfont,B=o.extendFlat({},L,{color:E.color,size:o.bigFont(L.size)});o.coerceFont(w,"title.font",B),w("title.side",D?"top":"right")}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/cartesian/prefix_suffix_defaults":298,"../../plots/cartesian/tick_label_defaults":303,"../../plots/cartesian/tick_mark_defaults":304,"../../plots/cartesian/tick_value_defaults":305,"./attributes":103}],106:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("tinycolor2"),p=m("../../plots/plots"),l=m("../../registry"),c=m("../../plots/cartesian/axes"),C=m("../dragelement"),d=m("../../lib"),h=d.strTranslate,u=m("../../lib/extend").extendFlat,_=m("../../lib/setcursor"),b=m("../drawing"),M=m("../color"),w=m("../titles"),N=m("../../lib/svg_text_utils"),z=m("../colorscale/helpers").flipScale,k=m("../../plots/cartesian/axis_defaults"),D=m("../../plots/cartesian/position_defaults"),S=m("../../plots/cartesian/layout_attributes"),P=m("../../constants/alignment"),V=P.LINE_SPACING,E=P.FROM_TL,I=P.FROM_BR,L=m("./constants").cn;de.exports={draw:function(B){var $=B._fullLayout._infolayer.selectAll("g."+L.colorbar).data(function(T){var Y,W,q,Q,te=T._fullLayout,ce=T.calcdata,me=[];function ie(ae){return u(ae,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function K(){"function"==typeof Q.calc?Q.calc(T,q,Y):(Y._fillgradient=W.reversescale?z(W.colorscale):W.colorscale,Y._zrange=[W[Q.min],W[Q.max]])}for(var le=0;le<ce.length;le++){var j=(q=ce[le][0].trace)._module.colorbar;if(!0===q.visible&&j)for(var oe=Array.isArray(j),re=oe?j:[j],F=0;F<re.length;F++){var O=(Q=re[F]).container;(W=O?q[O]:q)&&W.showscale&&((Y=ie(W.colorbar))._id="cb"+q.uid+(oe&&O?"-"+O:""),Y._traceIndex=q.index,Y._propPrefix=(O?O+".":"")+"colorbar.",Y._meta=q._meta,K(),me.push(Y))}}for(var X in te._colorAxes)if((W=te[X]).showscale){var R=te._colorAxes[X];(Y=ie(W.colorbar))._id="cb"+X,Y._propPrefix=X+".colorbar.",Y._meta=te._meta,Q={min:"cmin",max:"cmax"},"heatmap"!==R[0]&&(Q.calc=(q=R[1])._module.colorbar.calc),K(),me.push(Y)}return me}(B),function(T){return T._id});$.enter().append("g").attr("class",function(T){return T._id}).classed(L.colorbar,!0),$.each(function(T){var Y=o.select(this);d.ensureSingle(Y,"rect",L.cbbg),d.ensureSingle(Y,"g",L.cbfills),d.ensureSingle(Y,"g",L.cblines),d.ensureSingle(Y,"g",L.cbaxis,function(q){q.classed(L.crisp,!0)}),d.ensureSingle(Y,"g",L.cbtitleunshift,function(q){q.append("g").classed(L.cbtitle,!0)}),d.ensureSingle(Y,"rect",L.cboutline);var q,Q,te,ce,me,ie,K,le,W=function(q,Q,te){var ce="v"===Q.orientation,me=Q.len,ie=Q.lenmode,K=Q.thickness,le=Q.thicknessmode,G=Q.outlinewidth,j=Q.borderwidth,oe=Q.bgcolor,re=Q.xanchor,F=Q.yanchor,O=Q.xpad,X=Q.ypad,R=Q.x,ae=ce?Q.y:1-Q.y,fe=te._fullLayout,ue=fe._size,pe=Q._fillcolor,xe=Q._line,Me=Q.title,Ae=Me.side,ze=Q._zrange||o.extent(("function"==typeof pe?pe:xe.color).domain()),Fe="function"==typeof xe.color?xe.color:function(){return xe.color},Ue="function"==typeof pe?pe:function(){return pe},t1=Q._levels,Xe=function(Z1,N1,ge){var ye,We,e1=N1._levels,d1=[],a1=[],l1=e1.end+e1.size/100,c1=e1.size,w1=1.001*ge[0]-.001*ge[1],T1=1.001*ge[1]-.001*ge[0];for(We=0;We<1e5&&(ye=e1.start+We*c1,!(c1>0?ye>=l1:ye<=l1));We++)ye>w1&&ye<T1&&d1.push(ye);if(N1._fillgradient)a1=[0];else if("function"==typeof N1._fillcolor){var B1=N1._filllevels;if(B1)for(l1=B1.end+B1.size/100,c1=B1.size,We=0;We<1e5&&(ye=B1.start+We*c1,!(c1>0?ye>=l1:ye<=l1));We++)ye>ge[0]&&ye<ge[1]&&a1.push(ye);else(a1=d1.map(function(rt){return rt-e1.size/2})).push(a1[a1.length-1]+e1.size)}else N1._fillcolor&&"string"==typeof N1._fillcolor&&(a1=[0]);return e1.size<0&&(d1.reverse(),a1.reverse()),{line:d1,fill:a1}}(0,Q,ze),Ge=Xe.fill,we=Xe.line,ve=Math.round(K*("fraction"===le?ce?ue.w:ue.h:1)),De=ve/(ce?ue.w:ue.h),Ve=Math.round(me*("fraction"===ie?ce?ue.h:ue.w:1)),qe=Ve/(ce?ue.h:ue.w),Ie=Math.round(ce?R*ue.w+O:ae*ue.h+X),Re={center:.5,right:1}[re]||0,Qe={top:1,middle:.5}[F]||0,n1=ce?R-Re*De:ae-Qe*De,Ye=ce?ae-Qe*qe:R-Re*qe,r1=Math.round(ce?ue.h*(1-Ye):ue.w*Ye);Q._lenFrac=qe,Q._thickFrac=De,Q._uFrac=n1,Q._vFrac=Ye;var f1=Q._axis=function(Z1,N1,ge){var ye=Z1._fullLayout,We="v"===N1.orientation,e1={type:"linear",range:ge,tickmode:N1.tickmode,nticks:N1.nticks,tick0:N1.tick0,dtick:N1.dtick,tickvals:N1.tickvals,ticktext:N1.ticktext,ticks:N1.ticks,ticklen:N1.ticklen,tickwidth:N1.tickwidth,tickcolor:N1.tickcolor,showticklabels:N1.showticklabels,ticklabelposition:N1.ticklabelposition,ticklabeloverflow:N1.ticklabeloverflow,ticklabelstep:N1.ticklabelstep,tickfont:N1.tickfont,tickangle:N1.tickangle,tickformat:N1.tickformat,exponentformat:N1.exponentformat,minexponent:N1.minexponent,separatethousands:N1.separatethousands,showexponent:N1.showexponent,showtickprefix:N1.showtickprefix,tickprefix:N1.tickprefix,showticksuffix:N1.showticksuffix,ticksuffix:N1.ticksuffix,title:N1.title,showline:!0,anchor:"free",side:We?"right":"bottom",position:1},d1=We?"y":"x",a1={type:"linear",_id:d1+N1._id},l1={letter:d1,font:ye.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:ye.calendar};function c1(w1,T1){return d.coerce(e1,a1,S,w1,T1)}return k(e1,a1,c1,l1,ye),D(e1,a1,c1,l1),a1}(te,Q,ze);f1.position=De+(ce?R+O/ue.w:ae+X/ue.h);var Je=-1!==["top","bottom"].indexOf(Ae);if(ce&&Je&&(f1.title.side=Ae,f1.titlex=R+O/ue.w,f1.titley=Ye+("top"===Me.side?qe-X/ue.h:X/ue.h)),ce||Je||(f1.title.side=Ae,f1.titley=ae+X/ue.h,f1.titlex=Ye+O/ue.w),xe.color&&"auto"===Q.tickmode){f1.tickmode="linear",f1.tick0=t1.start;var g1=t1.size,b1=d.constrain(Ve/50,4,15)+1,_1=(ze[1]-ze[0])/((Q.nticks||b1)*g1);if(_1>1){var I1=Math.pow(10,Math.floor(Math.log(_1)/Math.LN10));g1*=I1*d.roundUp(_1/I1,[2,5,10]),(Math.abs(t1.start)/t1.size+1e-6)%1<2e-6&&(f1.tick0=0)}f1.dtick=g1}f1.domain=ce?[Ye+X/ue.h,Ye+qe-X/ue.h]:[Ye+O/ue.w,Ye+qe-O/ue.w],f1.setScale(),q.attr("transform",h(Math.round(ue.l),Math.round(ue.t)));var M1,Be=q.select("."+L.cbtitleunshift).attr("transform",h(-Math.round(ue.l),-Math.round(ue.t))),je=f1.ticklabelposition,C1=f1.title.font.size,O1=q.select("."+L.cbaxis),Q1=0,st=0;function $1(Z1,N1){var ge={propContainer:f1,propName:Q._propPrefix+"title",traceIndex:Q._traceIndex,_meta:Q._meta,placeholder:fe._dfltTitle.colorbar,containerGroup:q.select("."+L.cbtitle)},ye="h"===Z1.charAt(0)?Z1.substr(1):"h"+Z1;q.selectAll("."+ye+",."+ye+"-math-group").remove(),w.draw(te,Z1,u(ge,N1||{}))}return d.syncOrAsync([p.previousPromises,function(){var Z1,N1;(ce&&Je||!ce&&!Je)&&("top"===Ae&&(Z1=O+ue.l+ue.w*R,N1=X+ue.t+ue.h*(1-Ye-qe)+3+.75*C1),"bottom"===Ae&&(Z1=O+ue.l+ue.w*R,N1=X+ue.t+ue.h*(1-Ye)-3-.25*C1),"right"===Ae&&(N1=X+ue.t+ue.h*ae+3+.75*C1,Z1=O+ue.l+ue.w*Ye),$1(f1._id+"title",{attributes:{x:Z1,y:N1,"text-anchor":ce?"start":"middle"}}))},function(){if(!ce&&!Je||ce&&Je){var Z1,N1=q.select("."+L.cbtitle),ge=N1.select("text"),ye=[-G/2,G/2],We=N1.select(".h"+f1._id+"title-math-group").node(),e1=15.6;if(ge.node()&&(e1=parseInt(ge.node().style.fontSize,10)*V),We?(Z1=b.bBox(We),st=Z1.width,(Q1=Z1.height)>e1&&(ye[1]-=(Q1-e1)/2)):ge.node()&&!ge.classed(L.jsPlaceholder)&&(Z1=b.bBox(ge.node()),st=Z1.width,Q1=Z1.height),ce){if(Q1){if(Q1+=5,"top"===Ae)f1.domain[1]-=Q1/ue.h,ye[1]*=-1;else{f1.domain[0]+=Q1/ue.h;var d1=N.lineCount(ge);ye[1]+=(1-d1)*e1}N1.attr("transform",h(ye[0],ye[1])),f1.setScale()}}else st&&("right"===Ae&&(f1.domain[0]+=(st+C1/2)/ue.w),N1.attr("transform",h(ye[0],ye[1])),f1.setScale())}q.selectAll("."+L.cbfills+",."+L.cblines).attr("transform",ce?h(0,Math.round(ue.h*(1-f1.domain[1]))):h(Math.round(ue.w*f1.domain[0]),0)),O1.attr("transform",ce?h(0,Math.round(-ue.t)):h(Math.round(-ue.l),0));var a1=q.select("."+L.cbfills).selectAll("rect."+L.cbfill).attr("style","").data(Ge);a1.enter().append("rect").classed(L.cbfill,!0).style("stroke","none"),a1.exit().remove();var l1=ze.map(f1.c2p).map(Math.round).sort(function(rt,H1){return rt-H1});a1.each(function(rt,H1){var Y1=[0===H1?ze[0]:(Ge[H1]+Ge[H1-1])/2,H1===Ge.length-1?ze[1]:(Ge[H1]+Ge[H1+1])/2].map(f1.c2p).map(Math.round);ce&&(Y1[1]=d.constrain(Y1[1]+(Y1[1]>Y1[0])?1:-1,l1[0],l1[1]));var ut=o.select(this).attr(ce?"x":"y",Ie).attr(ce?"y":"x",o.min(Y1)).attr(ce?"width":"height",Math.max(ve,2)).attr(ce?"height":"width",Math.max(o.max(Y1)-o.min(Y1),2));if(Q._fillgradient)b.gradient(ut,te,Q._id,ce?"vertical":"horizontalreversed",Q._fillgradient,"fill");else{var k1=Ue(rt).replace("e-","");ut.attr("fill",g(k1).toHexString())}});var c1=q.select("."+L.cblines).selectAll("path."+L.cbline).data(xe.color&&xe.width?we:[]);c1.enter().append("path").classed(L.cbline,!0),c1.exit().remove(),c1.each(function(rt){var H1=Ie,Y1=Math.round(f1.c2p(rt))+xe.width/2%1;o.select(this).attr("d","M"+(ce?H1+","+Y1:Y1+","+H1)+(ce?"h":"v")+ve).call(b.lineGroupStyle,xe.width,Fe(rt),xe.dash)}),O1.selectAll("g."+f1._id+"tick,path").remove();var w1=Ie+ve+(G||0)/2-("outside"===Q.ticks?1:0),T1=c.calcTicks(f1),B1=c.getTickSigns(f1)[2];return c.drawTicks(te,f1,{vals:"inside"===f1.ticks?c.clipEnds(f1,T1):T1,layer:O1,path:c.makeTickPath(f1,w1,B1),transFn:c.makeTransTickFn(f1)}),c.drawLabels(te,f1,{vals:T1,layer:O1,transFn:c.makeTransTickLabelFn(f1),labelFns:c.makeLabelFns(f1,w1)})},function(){if(ce&&!Je||!ce&&Je){var Z1,N1,ge=f1.position||0,ye=f1._offset+f1._length/2;if("right"===Ae)N1=ye,Z1=ue.l+ue.w*ge+10+C1*(f1.showticklabels?1:.5);else if(Z1=ye,"bottom"===Ae&&(N1=ue.t+ue.h*ge+10+(-1===je.indexOf("inside")?f1.tickfont.size:0)+("intside"!==f1.ticks&&Q.ticklen||0)),"top"===Ae){var We=Me.text.split("<br>").length;N1=ue.t+ue.h*ge+10-ve-V*C1*We}$1((ce?"h":"v")+f1._id+"title",{avoid:{selection:o.select(te).selectAll("g."+f1._id+"tick"),side:Ae,offsetTop:ce?0:ue.t,offsetLeft:ce?ue.l:0,maxShift:ce?fe.width:fe.height},attributes:{x:Z1,y:N1,"text-anchor":"middle"},transform:{rotate:ce?-90:0,offset:0}})}},p.previousPromises,function(){var Z1,N1=ve+G/2;-1===je.indexOf("inside")&&(Z1=b.bBox(O1.node()),N1+=ce?Z1.width:Z1.height),M1=Be.select("text");var ge=0,ye=ce&&"top"===Ae,We=!ce&&"right"===Ae,e1=0;if(M1.node()&&!M1.classed(L.jsPlaceholder)){var d1,a1=Be.select(".h"+f1._id+"title-math-group").node();a1&&(ce&&Je||!ce&&!Je)?(ge=(Z1=b.bBox(a1)).width,d1=Z1.height):(ge=(Z1=b.bBox(Be.node())).right-ue.l-(ce?Ie:r1),d1=Z1.bottom-ue.t-(ce?r1:Ie),ce||"top"!==Ae||(N1+=Z1.height,e1=Z1.height)),We&&(M1.attr("transform",h(ge/2+C1/2,0)),ge*=2),N1=Math.max(N1,ce?ge:d1)}var l1=2*(ce?O:X)+N1+j+G/2,c1=0;!ce&&Me.text&&"bottom"===F&&ae<=0&&(l1+=c1=l1/2,e1+=c1),fe._hColorbarMoveTitle=c1,fe._hColorbarMoveCBTitle=e1;var w1=j+G;q.select("."+L.cbbg).attr("x",(ce?Ie:r1)-w1/2-(ce?O:0)).attr("y",(ce?r1:Ie)-(ce?Ve:X+e1-c1)).attr(ce?"width":"height",Math.max(l1-c1,2)).attr(ce?"height":"width",Math.max(Ve+w1,2)).call(M.fill,oe).call(M.stroke,Q.bordercolor).style("stroke-width",j);var T1=We?Math.max(ge-10,0):0;if(q.selectAll("."+L.cboutline).attr("x",(ce?Ie:r1+O)+T1).attr("y",(ce?r1+X-Ve:Ie)+(ye?Q1:0)).attr(ce?"width":"height",Math.max(ve,2)).attr(ce?"height":"width",Math.max(Ve-(ce?2*X+Q1:2*O+T1),2)).call(M.stroke,Q.outlinecolor).style({fill:"none","stroke-width":G}),q.attr("transform",h(ue.l-(ce?Re*l1:0),ue.t-(ce?0:(1-Qe)*l1-e1))),!ce&&(j||g(oe).getAlpha()&&!g.equals(fe.paper_bgcolor,oe))){var B1=O1.selectAll("text"),rt=B1[0].length,H1=q.select("."+L.cbbg).node(),Y1=b.bBox(H1),ut=b.getTranslate(q);B1.each(function(P1,xt){var yt=rt-1;if(0===xt||xt===yt){var wt,Ft=b.bBox(this),Ot=b.getTranslate(this);xt===yt?(wt=Y1.right+ut.x+r1-j-2+R-(Ft.right+Ot.x))>0&&(wt=0):0===xt&&(wt=Y1.left+ut.x+r1+j+2-(Ft.left+Ot.x))<0&&(wt=0),wt&&(rt<3?this.setAttribute("transform","translate("+wt+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var k1={},L1=E[re],it=I[re],X1=E[F],j1=I[F],et=l1-ve;ce?("pixels"===ie?(k1.y=ae,k1.t=Ve*X1,k1.b=Ve*j1):(k1.t=k1.b=0,k1.yt=ae+me*X1,k1.yb=ae-me*j1),"pixels"===le?(k1.x=R,k1.l=l1*L1,k1.r=l1*it):(k1.l=et*L1,k1.r=et*it,k1.xl=R-K*L1,k1.xr=R+K*it)):("pixels"===ie?(k1.x=R,k1.l=Ve*L1,k1.r=Ve*it):(k1.l=k1.r=0,k1.xl=R+me*L1,k1.xr=R-me*it),"pixels"===le?(k1.y=1-ae,k1.t=l1*X1,k1.b=l1*j1):(k1.t=et*X1,k1.b=et*j1,k1.yt=ae-K*X1,k1.yb=ae+K*j1)),p.autoMargin(te,Q._id,k1)}],te)}(Y,T,B);W&&W.then&&(B._promises||[]).push(W),B._context.edits.colorbarPosition&&(K="v"===(Q=T).orientation,le=(te=B)._fullLayout._size,C.init({element:(q=Y).node(),gd:te,prepFn:function(){ce=q.attr("transform"),_(q)},moveFn:function(G,j){q.attr("transform",ce+h(G,j)),me=C.align((K?Q._uFrac:Q._vFrac)+G/le.w,K?Q._thickFrac:Q._lenFrac,0,1,Q.xanchor),ie=C.align((K?Q._vFrac:1-Q._uFrac)-j/le.h,K?Q._lenFrac:Q._thickFrac,0,1,Q.yanchor);var oe=C.getCursor(me,ie,Q.xanchor,Q.yanchor);_(q,oe)},doneFn:function(){if(_(q),void 0!==me&&void 0!==ie){var G={};G[Q._propPrefix+"x"]=me,G[Q._propPrefix+"y"]=ie,void 0!==Q._traceIndex?l.call("_guiRestyle",te,G,Q._traceIndex):l.call("_guiRelayout",te,G)}}}))}),$.exit().each(function(T){p.autoMargin(B,T._id)}).remove(),$.order()}}},{"../../constants/alignment":207,"../../lib":232,"../../lib/extend":226,"../../lib/setcursor":252,"../../lib/svg_text_utils":255,"../../plots/cartesian/axes":279,"../../plots/cartesian/axis_defaults":281,"../../plots/cartesian/layout_attributes":294,"../../plots/cartesian/position_defaults":297,"../../plots/plots":316,"../../registry":318,"../color":102,"../colorscale/helpers":113,"../dragelement":121,"../drawing":124,"../titles":200,"./constants":104,"@plotly/d3":11,tinycolor2:67}],107:[function(m,de,ne){"use strict";var o=m("../../lib");de.exports=function(g){return o.isPlainObject(g.colorbar)}},{"../../lib":232}],108:[function(m,de,ne){"use strict";de.exports={moduleType:"component",name:"colorbar",attributes:m("./attributes"),supplyDefaults:m("./defaults"),draw:m("./draw").draw,hasColorbar:m("./has_colorbar")}},{"./attributes":103,"./defaults":105,"./draw":106,"./has_colorbar":107}],109:[function(m,de,ne){"use strict";var o=m("../colorbar/attributes"),g=m("../../lib/regex").counter,p=m("../../lib/sort_object_keys"),l=m("./scales.js").scales;function c(C){return"`"+C+"`"}p(l),de.exports=function(C,d){C=C||"";var h,u=(d=d||{}).cLetter||"c",_=("onlyIfNumerical"in d||Boolean(C),"noScale"in d?d.noScale:"marker.line"===C),b="showScaleDflt"in d?d.showScaleDflt:"z"===u,M="string"==typeof d.colorscaleDflt?l[d.colorscaleDflt]:null,w=d.editTypeOverride||"",N=C?C+".":"";"colorAttr"in d?h=d.colorAttr:c(N+(h={z:"z",c:"color"}[u]));var z=u+"auto",k=u+"min",D=u+"max",S=u+"mid",P=(c(N+z),c(N+k),c(N+D),{});P[k]=P[D]=void 0;var V={};V[z]=!1;var E={};return"color"===h&&(E.color={valType:"color",arrayOk:!0,editType:w||"style"},d.anim&&(E.color.anim=!0)),E[z]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:P},E[k]={valType:"number",dflt:null,editType:w||"plot",impliedEdits:V},E[D]={valType:"number",dflt:null,editType:w||"plot",impliedEdits:V},E[S]={valType:"number",dflt:null,editType:"calc",impliedEdits:P},E.colorscale={valType:"colorscale",editType:"calc",dflt:M,impliedEdits:{autocolorscale:!1}},E.autocolorscale={valType:"boolean",dflt:!1!==d.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},E.reversescale={valType:"boolean",dflt:!1,editType:"plot"},_||(E.showscale={valType:"boolean",dflt:b,editType:"calc"},E.colorbar=o),d.noColorAxis||(E.coloraxis={valType:"subplotid",regex:g("coloraxis"),dflt:null,editType:"calc"}),E}},{"../../lib/regex":248,"../../lib/sort_object_keys":253,"../colorbar/attributes":103,"./scales.js":117}],110:[function(m,de,ne){"use strict";var o=m("fast-isnumeric"),g=m("../../lib"),p=m("./helpers").extractOpts;de.exports=function(l,c,C){var h=l._fullLayout,u=C.vals,_=C.containerStr,b=_?g.nestedProperty(c,_).get():c,M=p(b),w=!1!==M.auto,N=M.min,z=M.max,k=M.mid,D=function(){return g.aggNums(Math.min,null,u)},S=function(){return g.aggNums(Math.max,null,u)};void 0===N?N=D():w&&(N=b._colorAx&&o(N)?Math.min(N,D()):D()),void 0===z?z=S():w&&(z=b._colorAx&&o(z)?Math.max(z,S()):S()),w&&void 0!==k&&(z-k>k-N?N=k-(z-k):z-k<k-N&&(z=k+(k-N))),N===z&&(N-=.5,z+=.5),M._sync("min",N),M._sync("max",z),M.autocolorscale&&M._sync("colorscale",N*z<0?h.colorscale.diverging:N>=0?h.colorscale.sequential:h.colorscale.sequentialminus)}},{"../../lib":232,"./helpers":113,"fast-isnumeric":17}],111:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("./helpers").hasColorscale,p=m("./helpers").extractOpts;de.exports=function(l,c){function C(w,N){var z=w["_"+N];void 0!==z&&(w[N]=z)}function d(w,N){var z=N.container?o.nestedProperty(w,N.container).get():w;if(z)if(z.coloraxis)z._colorAx=c[z.coloraxis];else{var k=p(z),D=k.auto;(D||void 0===k.min)&&C(z,N.min),(D||void 0===k.max)&&C(z,N.max),k.autocolorscale&&C(z,"colorscale")}}for(var h=0;h<l.length;h++){var u=l[h],_=u._module.colorbar;if(_)if(Array.isArray(_))for(var b=0;b<_.length;b++)d(u,_[b]);else d(u,_);g(u,"marker.line")&&d(u,{container:"marker.line",min:"cmin",max:"cmax"})}for(var M in c._colorAxes)d(c[M],{min:"cmin",max:"cmax"})}},{"../../lib":232,"./helpers":113}],112:[function(m,de,ne){"use strict";var o=m("fast-isnumeric"),g=m("../../lib"),p=m("../colorbar/has_colorbar"),l=m("../colorbar/defaults"),c=m("./scales").isValid,C=m("../../registry").traceIs;function d(h,u){var _=u.slice(0,u.length-1);return u?g.nestedProperty(h,_).get()||{}:h}de.exports=function h(u,_,b,M,w){var N=w.prefix,z=w.cLetter,k="_module"in _,D=d(u,N),S=d(_,N),P=d(_._template||{},N)||{},V=function(){return delete u.coloraxis,delete _.coloraxis,h(u,_,b,M,w)};if(k){var E=b._colorAxes||{},I=M(N+"coloraxis");if(I){var L=C(_,"contour")&&g.nestedProperty(_,"contours.coloring").get()||"heatmap",B=E[I];return void(B?(B[2].push(V),B[0]!==L&&(B[0]=!1,g.warn(["Ignoring coloraxis:",I,"setting","as it is linked to incompatible colorscales."].join(" ")))):E[I]=[L,_,[V]])}}var $=D[z+"min"],T=D[z+"max"],Y=o($)&&o(T)&&$<T;M(N+z+"auto",!Y)?M(N+z+"mid"):(M(N+z+"min"),M(N+z+"max"));var W,q,Q=D.colorscale,te=P.colorscale;void 0!==Q&&(W=!c(Q)),void 0!==te&&(W=!c(te)),M(N+"autocolorscale",W),M(N+"colorscale"),M(N+"reversescale"),"marker.line."!==N&&(N&&k&&(q=p(D)),M(N+"showscale",q)&&(N&&P&&(S._template=P),l(D,S,b)))}},{"../../lib":232,"../../registry":318,"../colorbar/defaults":105,"../colorbar/has_colorbar":107,"./scales":117,"fast-isnumeric":17}],113:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("tinycolor2"),p=m("fast-isnumeric"),l=m("../../lib"),c=m("../color"),C=m("./scales").isValid,d=["showscale","autocolorscale","colorscale","reversescale","colorbar"],h=["min","max","mid","auto"];function u(N){var z,k,D,S=N._colorAx,P=S||N,V={};for(k=0;k<d.length;k++)V[D=d[k]]=P[D];if(S)for(z="c",k=0;k<h.length;k++)V[D=h[k]]=P["c"+D];else{var E;for(k=0;k<h.length;k++)((E="c"+(D=h[k]))in P||(E="z"+D)in P)&&(V[D]=P[E]);z=E.charAt(0)}return V._sync=function(I,L){var B=-1!==h.indexOf(I)?z+I:I;P[B]=P["_"+B]=L},V}function _(N){for(var z=u(N),k=z.min,D=z.max,S=z.reversescale?b(z.colorscale):z.colorscale,P=S.length,V=new Array(P),E=new Array(P),I=0;I<P;I++){var L=S[I];V[I]=k+L[0]*(D-k),E[I]=L[1]}return{domain:V,range:E}}function b(N){for(var z=N.length,k=new Array(z),D=z-1,S=0;D>=0;D--,S++){var P=N[D];k[S]=[1-P[0],P[1]]}return k}function M(N,z){z=z||{};for(var k=N.domain,D=N.range,S=D.length,P=new Array(S),V=0;V<S;V++){var E=g(D[V]).toRgb();P[V]=[E.r,E.g,E.b,E.a]}var I,L=o.scale.linear().domain(k).range(P).clamp(!0),B=z.noNumericCheck,$=z.returnArray;return(I=B&&$?L:B?function(T){return w(L(T))}:$?function(T){return p(T)?L(T):g(T).isValid()?T:c.defaultLine}:function(T){return p(T)?w(L(T)):g(T).isValid()?T:c.defaultLine}).domain=L.domain,I.range=function(){return D},I}function w(N){return g({r:N[0],g:N[1],b:N[2],a:N[3]}).toRgbString()}de.exports={hasColorscale:function(N,z,k){var D=z?l.nestedProperty(N,z).get()||{}:N,S=D[k||"color"],P=!1;if(l.isArrayOrTypedArray(S))for(var V=0;V<S.length;V++)if(p(S[V])){P=!0;break}return l.isPlainObject(D)&&(P||!0===D.showscale||p(D.cmin)&&p(D.cmax)||C(D.colorscale)||l.isPlainObject(D.colorbar))},extractOpts:u,extractScale:_,flipScale:b,makeColorScaleFunc:M,makeColorScaleFuncFromTrace:function(N,z){return M(_(N),z)}}},{"../../lib":232,"../color":102,"./scales":117,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:67}],114:[function(m,de,ne){"use strict";var o=m("./scales"),g=m("./helpers");de.exports={moduleType:"component",name:"colorscale",attributes:m("./attributes"),layoutAttributes:m("./layout_attributes"),supplyLayoutDefaults:m("./layout_defaults"),handleDefaults:m("./defaults"),crossTraceDefaults:m("./cross_trace_defaults"),calc:m("./calc"),scales:o.scales,defaultScale:o.defaultScale,getScale:o.get,isValidScale:o.isValid,hasColorscale:g.hasColorscale,extractOpts:g.extractOpts,extractScale:g.extractScale,flipScale:g.flipScale,makeColorScaleFunc:g.makeColorScaleFunc,makeColorScaleFuncFromTrace:g.makeColorScaleFuncFromTrace}},{"./attributes":109,"./calc":110,"./cross_trace_defaults":111,"./defaults":112,"./helpers":113,"./layout_attributes":115,"./layout_defaults":116,"./scales":117}],115:[function(m,de,ne){"use strict";var o=m("../../lib/extend").extendFlat,g=m("./attributes"),p=m("./scales").scales;de.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:p.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:p.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:p.RdBu,editType:"calc"}},coloraxis:o({_isSubplotObj:!0,editType:"calc"},g("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},{"../../lib/extend":226,"./attributes":109,"./scales":117}],116:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("../../plot_api/plot_template"),p=m("./layout_attributes"),l=m("./defaults");de.exports=function(c,C){function d(z,k){return o.coerce(c,C,p,z,k)}d("colorscale.sequential"),d("colorscale.sequentialminus"),d("colorscale.diverging");var h,u,_=C._colorAxes;function b(z,k){return o.coerce(h,u,p.coloraxis,z,k)}for(var M in _){var w=_[M];if(w[0])h=c[M]||{},(u=g.newContainer(C,M,"coloraxis"))._name=M,l(h,u,C,b,{prefix:"",cLetter:"c"});else{for(var N=0;N<w[2].length;N++)w[2][N]();delete C._colorAxes[M]}}}},{"../../lib":232,"../../plot_api/plot_template":268,"./defaults":112,"./layout_attributes":115}],117:[function(m,de,ne){"use strict";var o=m("tinycolor2"),g={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},p=g.RdBu;function l(c){var C=0;if(!Array.isArray(c)||c.length<2||!c[0]||!c[c.length-1]||0!=+c[0][0]||1!=+c[c.length-1][0])return!1;for(var d=0;d<c.length;d++){var h=c[d];if(2!==h.length||+h[0]<C||!o(h[1]).isValid())return!1;C=+h[0]}return!0}de.exports={scales:g,defaultScale:p,get:function(c,C){if(C||(C=p),!c)return C;function d(){try{c=g[c]||JSON.parse(c)}catch(h){c=C}}return"string"==typeof c&&(d(),"string"==typeof c&&d()),l(c)?c:C},isValid:function(c){return void 0!==g[c]||l(c)}}},{tinycolor2:67}],118:[function(m,de,ne){"use strict";de.exports=function(o,g,p,l,c){var C=(o-p)/(l-p),d=C+g/(l-p),h=(C+d)/2;return"left"===c||"bottom"===c?C:"center"===c||"middle"===c?h:"right"===c||"top"===c?d:C<2/3-h?C:d>4/3-h?d:h}},{}],119:[function(m,de,ne){"use strict";var o=m("../../lib"),g=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];de.exports=function(p,l,c,C){return p="left"===c?0:"center"===c?1:"right"===c?2:o.constrain(Math.floor(3*p),0,2),l="bottom"===C?0:"middle"===C?1:"top"===C?2:o.constrain(Math.floor(3*l),0,2),g[l][p]}},{"../../lib":232}],120:[function(m,de,ne){"use strict";ne.selectMode=function(o){return"lasso"===o||"select"===o},ne.drawMode=function(o){return"drawclosedpath"===o||"drawopenpath"===o||"drawline"===o||"drawrect"===o||"drawcircle"===o},ne.openMode=function(o){return"drawline"===o||"drawopenpath"===o},ne.rectMode=function(o){return"select"===o||"drawline"===o||"drawrect"===o||"drawcircle"===o},ne.freeMode=function(o){return"lasso"===o||"drawclosedpath"===o||"drawopenpath"===o},ne.selectingOrDrawing=function(o){return ne.freeMode(o)||ne.rectMode(o)}},{}],121:[function(m,de,ne){"use strict";var o=m("mouse-event-offset"),g=m("has-hover"),p=m("has-passive-events"),l=m("../../lib").removeElement,c=m("../../plots/cartesian/constants"),C=de.exports={};C.align=m("./align"),C.getCursor=m("./cursor");var d=m("./unhover");function h(){var _=document.createElement("div");_.className="dragcover";var b=_.style;return b.position="fixed",b.left=0,b.right=0,b.top=0,b.bottom=0,b.zIndex=999999999,b.background="none",document.body.appendChild(_),_}function u(_){return o(_.changedTouches?_.changedTouches[0]:_,document.body)}C.unhover=d.wrapped,C.unhoverRaw=d.raw,C.init=function(_){var b,M,w,N,z,k,D,S,P=_.gd,V=1,E=P._context.doubleClickDelay,I=_.element;P._mouseDownTime||(P._mouseDownTime=0),I.style.pointerEvents="all",I.onmousedown=B,p?(I._ontouchstart&&I.removeEventListener("touchstart",I._ontouchstart),I._ontouchstart=B,I.addEventListener("touchstart",B,{passive:!1})):I.ontouchstart=B;var L=_.clampFn||function(Y,W,q){return Math.abs(Y)<q&&(Y=0),Math.abs(W)<q&&(W=0),[Y,W]};function B(Y){P._dragged=!1,P._dragging=!0;var W=u(Y);b=W[0],M=W[1],D=Y.target,k=Y,S=2===Y.buttons||Y.ctrlKey,void 0===Y.clientX&&void 0===Y.clientY&&(Y.clientX=b,Y.clientY=M),(w=(new Date).getTime())-P._mouseDownTime<E?V+=1:(V=1,P._mouseDownTime=w),_.prepFn&&_.prepFn(Y,b,M),g&&!S?(z=h()).style.cursor=window.getComputedStyle(I).cursor:g||(z=document,N=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(I).cursor),document.addEventListener("mouseup",T),document.addEventListener("touchend",T),!1!==_.dragmode&&(Y.preventDefault(),document.addEventListener("mousemove",$),document.addEventListener("touchmove",$,{passive:!1}))}function $(Y){Y.preventDefault();var W=u(Y),Q=L(W[0]-b,W[1]-M,_.minDrag||c.MINDRAG),te=Q[0],ce=Q[1];(te||ce)&&(P._dragged=!0,C.unhover(P,Y)),P._dragged&&_.moveFn&&!S&&(P._dragdata={element:I,dx:te,dy:ce},_.moveFn(te,ce))}function T(Y){if(delete P._dragdata,!1!==_.dragmode&&(Y.preventDefault(),document.removeEventListener("mousemove",$),document.removeEventListener("touchmove",$)),document.removeEventListener("mouseup",T),document.removeEventListener("touchend",T),g?l(z):N&&(z.documentElement.style.cursor=N,N=null),P._dragging){if(P._dragging=!1,(new Date).getTime()-P._mouseDownTime>E&&(V=Math.max(V-1,1)),P._dragged)_.doneFn&&_.doneFn();else if(_.clickFn&&_.clickFn(V,k),!S){var W;try{W=new MouseEvent("click",Y)}catch(Q){var q=u(Y);(W=document.createEvent("MouseEvents")).initMouseEvent("click",Y.bubbles,Y.cancelable,Y.view,Y.detail,Y.screenX,Y.screenY,q[0],q[1],Y.ctrlKey,Y.altKey,Y.shiftKey,Y.metaKey,Y.button,Y.relatedTarget)}D.dispatchEvent(W)}P._dragging=!1,P._dragged=!1}else P._dragged=!1}},C.coverSlip=h},{"../../lib":232,"../../plots/cartesian/constants":286,"./align":118,"./cursor":119,"./unhover":122,"has-hover":48,"has-passive-events":49,"mouse-event-offset":53}],122:[function(m,de,ne){"use strict";var o=m("../../lib/events"),g=m("../../lib/throttle"),p=m("../../lib/dom").getGraphDiv,l=m("../fx/constants"),c=de.exports={};c.wrapped=function(C,d,h){(C=p(C))._fullLayout&&g.clear(C._fullLayout._uid+l.HOVERID),c.raw(C,d,h)},c.raw=function(C,d){var h=C._fullLayout,u=C._hoverdata;d||(d={}),d.target&&!C._dragged&&!1===o.triggerHandler(C,"plotly_beforehover",d)||(h._hoverlayer.selectAll("g").remove(),h._hoverlayer.selectAll("line").remove(),h._hoverlayer.selectAll("circle").remove(),C._hoverdata=void 0,d.target&&u&&C.emit("plotly_unhover",{event:d,points:u}))}},{"../../lib/dom":224,"../../lib/events":225,"../../lib/throttle":256,"../fx/constants":136}],123:[function(m,de,ne){"use strict";ne.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},ne.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},{}],124:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("../../lib"),p=g.numberFormat,l=m("fast-isnumeric"),c=m("tinycolor2"),C=m("../../registry"),d=m("../color"),h=m("../colorscale"),u=g.strTranslate,_=m("../../lib/svg_text_utils"),b=m("../../constants/xmlns_namespaces"),M=m("../../constants/alignment").LINE_SPACING,w=m("../../constants/interactions").DESELECTDIM,N=m("../../traces/scatter/subtypes"),z=m("../../traces/scatter/make_bubble_size_func"),k=m("../../components/fx/helpers").appendArrayPointValue,D=de.exports={};function S(G,j,oe){var re=j.fillpattern,F=re&&D.getPatternAttr(re.shape,0,"");if(F){var O=D.getPatternAttr(re.bgcolor,0,null),X=D.getPatternAttr(re.fgcolor,0,null),R=re.fgopacity,ae=D.getPatternAttr(re.size,0,8),fe=D.getPatternAttr(re.solidity,0,.3);D.pattern(G,"point",oe,j.uid,F,ae,fe,void 0,re.fillmode,O,X,R)}else j.fillcolor&&G.call(d.fill,j.fillcolor)}D.font=function(G,j,oe,re){g.isPlainObject(j)&&(re=j.color,oe=j.size,j=j.family),j&&G.style("font-family",j),oe+1&&G.style("font-size",oe+"px"),re&&G.call(d.fill,re)},D.setPosition=function(G,j,oe){G.attr("x",j).attr("y",oe)},D.setSize=function(G,j,oe){G.attr("width",j).attr("height",oe)},D.setRect=function(G,j,oe,re,F){G.call(D.setPosition,j,oe).call(D.setSize,re,F)},D.translatePoint=function(G,j,oe,re){var F=oe.c2p(G.x),O=re.c2p(G.y);return!!(l(F)&&l(O)&&j.node())&&("text"===j.node().nodeName?j.attr("x",F).attr("y",O):j.attr("transform",u(F,O)),!0)},D.translatePoints=function(G,j,oe){G.each(function(re){var F=o.select(this);D.translatePoint(re,F,j,oe)})},D.hideOutsideRangePoint=function(G,j,oe,re,F,O){j.attr("display",oe.isPtWithinRange(G,F)&&re.isPtWithinRange(G,O)?null:"none")},D.hideOutsideRangePoints=function(G,j){if(j._hasClipOnAxisFalse){var oe=j.xaxis,re=j.yaxis;G.each(function(F){var O=F[0].trace,X=O.xcalendar,R=O.ycalendar,ae=C.traceIs(O,"bar-like")?".bartext":".point,.textpoint";G.selectAll(ae).each(function(fe){D.hideOutsideRangePoint(fe,o.select(this),oe,re,X,R)})})}},D.crispRound=function(G,j,oe){return j&&l(j)?G._context.staticPlot?j:j<1?1:Math.round(j):oe||0},D.singleLineStyle=function(G,j,oe,re,F){j.style("fill","none");var O=(((G||[])[0]||{}).trace||{}).line||{},X=oe||O.width||0,R=F||O.dash||"";d.stroke(j,re||O.color),D.dashLine(j,R,X)},D.lineGroupStyle=function(G,j,oe,re){G.style("fill","none").each(function(F){var O=(((F||[])[0]||{}).trace||{}).line||{},X=j||O.width||0,R=re||O.dash||"";o.select(this).call(d.stroke,oe||O.color).call(D.dashLine,R,X)})},D.dashLine=function(G,j,oe){j=D.dashStyle(j,oe=+oe||0),G.style({"stroke-dasharray":j,"stroke-width":oe+"px"})},D.dashStyle=function(G,j){j=+j||1;var oe=Math.max(j,3);return"solid"===G?G="":"dot"===G?G=oe+"px,"+oe+"px":"dash"===G?G=3*oe+"px,"+3*oe+"px":"longdash"===G?G=5*oe+"px,"+5*oe+"px":"dashdot"===G?G=3*oe+"px,"+oe+"px,"+oe+"px,"+oe+"px":"longdashdot"===G&&(G=5*oe+"px,"+2*oe+"px,"+oe+"px,"+2*oe+"px"),G},D.singleFillStyle=function(G,j){var oe=o.select(G.node());S(G,((oe.data()[0]||[])[0]||{}).trace||{},j)},D.fillGroupStyle=function(G,j){G.style("stroke-width",0).each(function(oe){var re=o.select(this);oe[0].trace&&S(re,oe[0].trace,j)})};var P=m("./symbol_defs");D.symbolNames=[],D.symbolFuncs=[],D.symbolNeedLines={},D.symbolNoDot={},D.symbolNoFill={},D.symbolList=[],Object.keys(P).forEach(function(G){var j=P[G],oe=j.n;D.symbolList.push(oe,String(oe),G,oe+100,String(oe+100),G+"-open"),D.symbolNames[oe]=G,D.symbolFuncs[oe]=j.f,j.needLine&&(D.symbolNeedLines[oe]=!0),j.noDot?D.symbolNoDot[oe]=!0:D.symbolList.push(oe+200,String(oe+200),G+"-dot",oe+300,String(oe+300),G+"-open-dot"),j.noFill&&(D.symbolNoFill[oe]=!0)});var V=D.symbolNames.length;function E(G,j){return D.symbolFuncs[G%100](j)+(G>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}D.symbolNumber=function(G){if(l(G))G=+G;else if("string"==typeof G){var j=0;G.indexOf("-open")>0&&(j=100,G=G.replace("-open","")),G.indexOf("-dot")>0&&(j+=200,G=G.replace("-dot","")),(G=D.symbolNames.indexOf(G))>=0&&(G+=j)}return G%100>=V||G>=400?0:Math.floor(Math.max(G,0))};var I={x1:1,x2:0,y1:0,y2:0},L={x1:0,x2:0,y1:1,y2:0},B=p("~f"),$={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:I},horizontalreversed:{node:"linearGradient",attrs:I,reversed:!0},vertical:{node:"linearGradient",attrs:L},verticalreversed:{node:"linearGradient",attrs:L,reversed:!0}};D.gradient=function(G,j,oe,re,F,O){for(var X=F.length,R=$[re],ae=new Array(X),fe=0;fe<X;fe++)R.reversed?ae[X-1-fe]=[B(100*(1-F[fe][0])),F[fe][1]]:ae[fe]=[B(100*F[fe][0]),F[fe][1]];var ue=j._fullLayout,pe="g"+ue._uid+"-"+oe,xe=ue._defs.select(".gradients").selectAll("#"+pe).data([re+ae.join(";")],g.identity);xe.exit().remove(),xe.enter().append(R.node).each(function(){var Me=o.select(this);R.attrs&&Me.attr(R.attrs),Me.attr("id",pe);var Ae=Me.selectAll("stop").data(ae);Ae.exit().remove(),Ae.enter().append("stop"),Ae.each(function(ze){var Fe=c(ze[1]);o.select(this).attr({offset:ze[0]+"%","stop-color":d.tinyRGB(Fe),"stop-opacity":Fe.getAlpha()})})}),G.style(O,ie(pe,j)).style(O+"-opacity",null),G.classed("gradient_filled",!0)},D.pattern=function(G,j,oe,re,F,O,X,R,ae,fe,ue,pe){var xe="legend"===j;R&&("overlay"===ae?ue=d.contrast(fe=R):(fe=void 0,ue=R));var Me,Ae,ze,Fe,Ue,t1,Xe,Ge,ve,Ve=oe._fullLayout,qe="p"+Ve._uid+"-"+re,Ie={};switch(F){case"/":Me=O*Math.sqrt(2),Ae=O*Math.sqrt(2),t1="path",Ie={d:ze="M-"+Me/4+","+Ae/4+"l"+Me/2+",-"+Ae/2+"M0,"+Ae+"L"+Me+",0M"+Me/4*3+","+Ae/4*5+"l"+Me/2+",-"+Ae/2,opacity:pe,stroke:ue,"stroke-width":(Fe=X*O)+"px"};break;case"\\":Me=O*Math.sqrt(2),Ae=O*Math.sqrt(2),t1="path",Ie={d:ze="M"+Me/4*3+",-"+Ae/4+"l"+Me/2+","+Ae/2+"M0,0L"+Me+","+Ae+"M-"+Me/4+","+Ae/4*3+"l"+Me/2+","+Ae/2,opacity:pe,stroke:ue,"stroke-width":(Fe=X*O)+"px"};break;case"x":Me=O*Math.sqrt(2),Ae=O*Math.sqrt(2),ze="M-"+Me/4+","+Ae/4+"l"+Me/2+",-"+Ae/2+"M0,"+Ae+"L"+Me+",0M"+Me/4*3+","+Ae/4*5+"l"+Me/2+",-"+Ae/2+"M"+Me/4*3+",-"+Ae/4+"l"+Me/2+","+Ae/2+"M0,0L"+Me+","+Ae+"M-"+Me/4+","+Ae/4*3+"l"+Me/2+","+Ae/2,Fe=O-O*Math.sqrt(1-X),t1="path",Ie={d:ze,opacity:pe,stroke:ue,"stroke-width":Fe+"px"};break;case"|":t1="path",t1="path",Ie={d:ze="M"+(Me=O)/2+",0L"+Me/2+","+(Ae=O),opacity:pe,stroke:ue,"stroke-width":(Fe=X*O)+"px"};break;case"-":t1="path",t1="path",Ie={d:ze="M0,"+(Ae=O)/2+"L"+(Me=O)+","+Ae/2,opacity:pe,stroke:ue,"stroke-width":(Fe=X*O)+"px"};break;case"+":t1="path",ze="M"+(Me=O)/2+",0L"+Me/2+","+(Ae=O)+"M0,"+Ae/2+"L"+Me+","+Ae/2,Fe=O-O*Math.sqrt(1-X),t1="path",Ie={d:ze,opacity:pe,stroke:ue,"stroke-width":Fe+"px"};break;case".":Me=O,Ae=O,X<Math.PI/4?Ue=Math.sqrt(X*O*O/Math.PI):(Xe=X,Ge=Math.PI/4,1,Ue=(ve=O/2)+(O/Math.sqrt(2)-ve)*(Xe-Ge)/(1-Ge)),t1="circle",Ie={cx:Me/2,cy:Ae/2,r:Ue,opacity:pe,fill:ue}}var Re=[F||"noSh",fe||"noBg",ue||"noFg",O,X].join(";"),Qe=Ve._defs.select(".patterns").selectAll("#"+qe).data([Re],g.identity);Qe.exit().remove(),Qe.enter().append("pattern").each(function(){var n1=o.select(this);if(n1.attr({id:qe,width:Me+"px",height:Ae+"px",patternUnits:"userSpaceOnUse",patternTransform:xe?"scale(0.8)":""}),fe){var Ye=n1.selectAll("rect").data([0]);Ye.exit().remove(),Ye.enter().append("rect").attr({width:Me+"px",height:Ae+"px",fill:fe})}var r1=n1.selectAll(t1).data([0]);r1.exit().remove(),r1.enter().append(t1).attr(Ie)}),G.style("fill",ie(qe,oe)).style("fill-opacity",null),G.classed("pattern_filled",!0)},D.initGradients=function(G){g.ensureSingle(G._fullLayout._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),o.select(G).selectAll(".gradient_filled").classed("gradient_filled",!1)},D.initPatterns=function(G){g.ensureSingle(G._fullLayout._defs,"g","patterns").selectAll("pattern").remove(),o.select(G).selectAll(".pattern_filled").classed("pattern_filled",!1)},D.getPatternAttr=function(G,j,oe){return G&&g.isArrayOrTypedArray(G)?j<G.length?G[j]:oe:G},D.pointStyle=function(G,j,oe){if(G.size()){var re=D.makePointStyleFns(j);G.each(function(F){D.singlePointStyle(F,o.select(this),j,re,oe)})}},D.singlePointStyle=function(G,j,oe,re,F){var O=oe.marker,X=O.line;if(j.style("opacity",re.selectedOpacityFn?re.selectedOpacityFn(G):void 0===G.mo?O.opacity:G.mo),re.ms2mrc){var R;R="various"===G.ms||"various"===O.size?3:re.ms2mrc(G.ms),G.mrc=R,re.selectedSizeFn&&(R=G.mrc=re.selectedSizeFn(G));var ae=D.symbolNumber(G.mx||O.symbol)||0;G.om=ae%200>=100,j.attr("d",E(ae,R))}var fe,ue,pe,xe=!1;if(G.so?(pe=X.outlierwidth,ue=X.outliercolor,fe=O.outliercolor):(pe=(G.mlw+1||(X||{}).width+1||(G.trace?(G.trace.marker.line||{}).width:0)+1)-1||0,ue="mlc"in G?G.mlcc=re.lineScale(G.mlc):g.isArrayOrTypedArray(X.color)?d.defaultLine:X.color,g.isArrayOrTypedArray(O.color)&&(fe=d.defaultLine,xe=!0),fe="mc"in G?G.mcc=re.markerScale(G.mc):O.color||"rgba(0,0,0,0)",re.selectedColorFn&&(fe=re.selectedColorFn(G))),G.om)j.call(d.stroke,fe).style({"stroke-width":(pe||1)+"px",fill:"none"});else{j.style("stroke-width",(G.isBlank?0:pe)+"px");var Ae=O.gradient,ze=G.mgt;ze?xe=!0:ze=Ae&&Ae.type,g.isArrayOrTypedArray(ze)&&($[ze=ze[0]]||(ze=0));var Fe=O.pattern,Ue=Fe&&D.getPatternAttr(Fe.shape,G.i,"");if(ze&&"none"!==ze){var t1=G.mgc;t1?xe=!0:t1=Ae.color;var Xe=oe.uid;xe&&(Xe+="-"+G.i),D.gradient(j,F,Xe,ze,[[0,t1],[1,fe]],"fill")}else if(Ue){var Ge=D.getPatternAttr(Fe.bgcolor,G.i,null),we=D.getPatternAttr(Fe.fgcolor,G.i,null),ve=Fe.fgopacity,De=D.getPatternAttr(Fe.size,G.i,8),Ve=D.getPatternAttr(Fe.solidity,G.i,.3),qe=G.mcc||g.isArrayOrTypedArray(Fe.shape)||g.isArrayOrTypedArray(Fe.bgcolor)||g.isArrayOrTypedArray(Fe.size)||g.isArrayOrTypedArray(Fe.solidity),Ie=oe.uid;qe&&(Ie+="-"+G.i),D.pattern(j,"point",F,Ie,Ue,De,Ve,G.mcc,Fe.fillmode,Ge,we,ve)}else d.fill(j,fe);pe&&d.stroke(j,ue)}},D.makePointStyleFns=function(G){var j={},oe=G.marker;return j.markerScale=D.tryColorscale(oe,""),j.lineScale=D.tryColorscale(oe,"line"),C.traceIs(G,"symbols")&&(j.ms2mrc=N.isBubble(G)?z(G):function(){return(oe.size||6)/2}),G.selectedpoints&&g.extendFlat(j,D.makeSelectedPointStyleFns(G)),j},D.makeSelectedPointStyleFns=function(G){var j={},F=G.marker||{},O=(G.selected||{}).marker||{},X=(G.unselected||{}).marker||{},ae=O.opacity,fe=X.opacity,ue=void 0!==ae,pe=void 0!==fe;(g.isArrayOrTypedArray(F.opacity)||ue||pe)&&(j.selectedOpacityFn=function(Ge){var we=void 0===Ge.mo?F.opacity:Ge.mo;return Ge.selected?ue?ae:we:pe?fe:w*we});var xe=F.color,Me=O.color,Ae=X.color;(Me||Ae)&&(j.selectedColorFn=function(Ge){var we=Ge.mcc||xe;return Ge.selected?Me||we:Ae||we});var ze=F.size,Fe=O.size,Ue=X.size,t1=void 0!==Fe,Xe=void 0!==Ue;return C.traceIs(G,"symbols")&&(t1||Xe)&&(j.selectedSizeFn=function(Ge){var we=Ge.mrc||ze/2;return Ge.selected?t1?Fe/2:we:Xe?Ue/2:we}),j},D.makeSelectedTextStyleFns=function(G){var j={},R=(G.textfont||{}).color,ae=((G.selected||{}).textfont||{}).color,fe=((G.unselected||{}).textfont||{}).color;return j.selectedTextColorFn=function(ue){var pe=ue.tc||R;return ue.selected?ae||pe:fe||(ae?pe:d.addOpacity(pe,w))},j},D.selectedPointStyle=function(G,j){if(G.size()&&j.selectedpoints){var oe=D.makeSelectedPointStyleFns(j),re=j.marker||{},F=[];oe.selectedOpacityFn&&F.push(function(O,X){O.style("opacity",oe.selectedOpacityFn(X))}),oe.selectedColorFn&&F.push(function(O,X){d.fill(O,oe.selectedColorFn(X))}),oe.selectedSizeFn&&F.push(function(O,X){var R=X.mx||re.symbol||0,ae=oe.selectedSizeFn(X);O.attr("d",E(D.symbolNumber(R),ae)),X.mrc2=ae}),F.length&&G.each(function(O){for(var X=o.select(this),R=0;R<F.length;R++)F[R](X,O)})}},D.tryColorscale=function(G,j){var oe=j?g.nestedProperty(G,j).get():G;return oe&&(oe.colorscale||oe._colorAx)&&g.isArrayOrTypedArray(oe.color)?h.makeColorScaleFuncFromTrace(oe):g.identity};var T={start:1,end:-1,middle:0,bottom:1,top:-1};function Y(G,j,oe,re,F){var O=o.select(G.node().parentNode),X=-1!==j.indexOf("top")?"top":-1!==j.indexOf("bottom")?"bottom":"middle",R=-1!==j.indexOf("left")?"end":-1!==j.indexOf("right")?"start":"middle",ae=re?re/.8+1:0,fe=(_.lineCount(G)-1)*M+1,ue=T[R]*ae,pe=.75*oe+T[X]*ae+(T[X]-1)*fe*oe/2;G.attr("text-anchor",R),F||O.attr("transform",u(ue,pe))}function W(G,j){var oe=G.ts||j.textfont.size;return l(oe)&&oe>0?oe:0}function q(G,j,oe,re){var F=G[0]-j[0],O=G[1]-j[1],X=oe[0]-j[0],R=oe[1]-j[1],ae=Math.pow(F*F+O*O,.25),fe=Math.pow(X*X+R*R,.25),ue=(fe*fe*F-ae*ae*X)*re,pe=(fe*fe*O-ae*ae*R)*re,xe=3*fe*(ae+fe),Me=3*ae*(ae+fe);return[[o.round(j[0]+(xe&&ue/xe),2),o.round(j[1]+(xe&&pe/xe),2)],[o.round(j[0]-(Me&&ue/Me),2),o.round(j[1]-(Me&&pe/Me),2)]]}D.textPointStyle=function(G,j,oe){if(G.size()){var re;if(j.selectedpoints){var F=D.makeSelectedTextStyleFns(j);re=F.selectedTextColorFn}var O=j.texttemplate,X=oe._fullLayout;G.each(function(R){var ae=o.select(this),fe=O?g.extractOption(R,j,"txt","texttemplate"):g.extractOption(R,j,"tx","text");if(fe||0===fe){if(O){var ue=j._module.formatLabels,pe=ue?ue(R,j,X):{},xe={};k(xe,j,R.i),fe=g.texttemplateString(fe,pe,X._d3locale,xe,R,j._meta||{})}var Ae=R.tp||j.textposition,ze=W(R,j),Fe=re?re(R):R.tc||j.textfont.color;ae.call(D.font,R.tf||j.textfont.family,ze,Fe).text(fe).call(_.convertToTspans,oe).call(Y,Ae,ze,R.mrc)}else ae.remove()})}},D.selectedTextStyle=function(G,j){if(G.size()&&j.selectedpoints){var oe=D.makeSelectedTextStyleFns(j);G.each(function(re){var F=o.select(this),O=oe.selectedTextColorFn(re),X=re.tp||j.textposition,R=W(re,j);d.fill(F,O);var ae=C.traceIs(j,"bar-like");Y(F,X,R,re.mrc2||re.mrc,ae)})}},D.smoothopen=function(G,j){if(G.length<3)return"M"+G.join("L");var oe,re="M"+G[0],F=[];for(oe=1;oe<G.length-1;oe++)F.push(q(G[oe-1],G[oe],G[oe+1],j));for(re+="Q"+F[0][0]+" "+G[1],oe=2;oe<G.length-1;oe++)re+="C"+F[oe-2][1]+" "+F[oe-1][0]+" "+G[oe];return re+"Q"+F[G.length-3][1]+" "+G[G.length-1]},D.smoothclosed=function(G,j){if(G.length<3)return"M"+G.join("L")+"Z";var oe,re="M"+G[0],F=G.length-1,O=[q(G[F],G[0],G[1],j)];for(oe=1;oe<F;oe++)O.push(q(G[oe-1],G[oe],G[oe+1],j));for(O.push(q(G[F-1],G[F],G[0],j)),oe=1;oe<=F;oe++)re+="C"+O[oe-1][1]+" "+O[oe][0]+" "+G[oe];return re+"C"+O[F][1]+" "+O[0][0]+" "+G[0]+"Z"};var Q={hv:function(G,j){return"H"+o.round(j[0],2)+"V"+o.round(j[1],2)},vh:function(G,j){return"V"+o.round(j[1],2)+"H"+o.round(j[0],2)},hvh:function(G,j){return"H"+o.round((G[0]+j[0])/2,2)+"V"+o.round(j[1],2)+"H"+o.round(j[0],2)},vhv:function(G,j){return"V"+o.round((G[1]+j[1])/2,2)+"H"+o.round(j[0],2)+"V"+o.round(j[1],2)}},te=function(G,j){return"L"+o.round(j[0],2)+","+o.round(j[1],2)};D.steps=function(G){var j=Q[G]||te;return function(oe){for(var re="M"+o.round(oe[0][0],2)+","+o.round(oe[0][1],2),F=1;F<oe.length;F++)re+=j(oe[F-1],oe[F]);return re}},D.makeTester=function(){var G=g.ensureSingleById(o.select("body"),"svg","js-plotly-tester",function(oe){oe.attr(b.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),j=g.ensureSingle(G,"path","js-reference-point",function(oe){oe.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});D.tester=G,D.testref=j},D.savedBBoxes={};var ce=0;function me(G){var j=G.getAttribute("data-unformatted");if(null!==j)return j+G.getAttribute("data-math")+G.getAttribute("text-anchor")+G.getAttribute("style")}function ie(G,j){if(!G)return null;var oe=j._context,re=oe._exportedPlot?"":oe._baseUrl||"";return re?"url('"+re+"#"+G+"')":"url(#"+G+")"}D.bBox=function(G,j,oe){var re,F,O;if(oe||(oe=me(G)),oe){if(re=D.savedBBoxes[oe])return g.extendFlat({},re)}else if(1===G.childNodes.length){var X=G.childNodes[0];if(oe=me(X)){var R=+X.getAttribute("x")||0,ae=+X.getAttribute("y")||0,fe=X.getAttribute("transform");if(!fe){var ue=D.bBox(X,!1,oe);return R&&(ue.left+=R,ue.right+=R),ae&&(ue.top+=ae,ue.bottom+=ae),ue}if(re=D.savedBBoxes[oe+="~"+R+"~"+ae+"~"+fe])return g.extendFlat({},re)}}j?F=G:(O=D.tester.node(),F=G.cloneNode(!0),O.appendChild(F)),o.select(F).attr("transform",null).call(_.positionText,0,0);var pe=F.getBoundingClientRect(),xe=D.testref.node().getBoundingClientRect();j||O.removeChild(F);var Me={height:pe.height,width:pe.width,left:pe.left-xe.left,top:pe.top-xe.top,right:pe.right-xe.left,bottom:pe.bottom-xe.top};return ce>=1e4&&(D.savedBBoxes={},ce=0),oe&&(D.savedBBoxes[oe]=Me),ce++,g.extendFlat({},Me)},D.setClipUrl=function(G,j,oe){G.attr("clip-path",ie(j,oe))},D.getTranslate=function(G){var j=(G[G.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(oe,re,F){return[re,F].join(" ")}).split(" ");return{x:+j[0]||0,y:+j[1]||0}},D.setTranslate=function(G,j,oe){var F=G.attr?"attr":"setAttribute",O=G[G.attr?"attr":"getAttribute"]("transform")||"";return j=j||0,oe=oe||0,O=O.replace(/(\btranslate\(.*?\);?)/,"").trim(),O=(O+=u(j,oe)).trim(),G[F]("transform",O),O},D.getScale=function(G){var j=(G[G.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(oe,re,F){return[re,F].join(" ")}).split(" ");return{x:+j[0]||1,y:+j[1]||1}},D.setScale=function(G,j,oe){var F=G.attr?"attr":"setAttribute",O=G[G.attr?"attr":"getAttribute"]("transform")||"";return j=j||1,oe=oe||1,O=O.replace(/(\bscale\(.*?\);?)/,"").trim(),O=(O+="scale("+j+","+oe+")").trim(),G[F]("transform",O),O};var K=/\s*sc.*/;D.setPointGroupScale=function(G,j,oe){if(j=j||1,oe=oe||1,G){var re=1===j&&1===oe?"":"scale("+j+","+oe+")";G.each(function(){var F=(this.getAttribute("transform")||"").replace(K,"");F=(F+=re).trim(),this.setAttribute("transform",F)})}};var le=/translate\([^)]*\)\s*$/;D.setTextPointsScale=function(G,j,oe){G&&G.each(function(){var re,F=o.select(this),O=F.select("text");if(O.node()){var X=parseFloat(O.attr("x")||0),R=parseFloat(O.attr("y")||0),ae=(F.attr("transform")||"").match(le);re=1===j&&1===oe?[]:[u(X,R),"scale("+j+","+oe+")",u(-X,-R)],ae&&re.push(ae),F.attr("transform",re.join(""))}})}},{"../../components/fx/helpers":138,"../../constants/alignment":207,"../../constants/interactions":211,"../../constants/xmlns_namespaces":213,"../../lib":232,"../../lib/svg_text_utils":255,"../../registry":318,"../../traces/scatter/make_bubble_size_func":375,"../../traces/scatter/subtypes":383,"../color":102,"../colorscale":114,"./symbol_defs":125,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:67}],125:[function(m,de,ne){"use strict";var o=m("@plotly/d3");de.exports={circle:{n:0,f:function(g){var p=o.round(g,2);return"M"+p+",0A"+p+","+p+" 0 1,1 0,-"+p+"A"+p+","+p+" 0 0,1 "+p+",0Z"}},square:{n:1,f:function(g){var p=o.round(g,2);return"M"+p+","+p+"H-"+p+"V-"+p+"H"+p+"Z"}},diamond:{n:2,f:function(g){var p=o.round(1.3*g,2);return"M"+p+",0L0,"+p+"L-"+p+",0L0,-"+p+"Z"}},cross:{n:3,f:function(g){var p=o.round(.4*g,2),l=o.round(1.2*g,2);return"M"+l+","+p+"H"+p+"V"+l+"H-"+p+"V"+p+"H-"+l+"V-"+p+"H-"+p+"V-"+l+"H"+p+"V-"+p+"H"+l+"Z"}},x:{n:4,f:function(g){var p=o.round(.8*g/Math.sqrt(2),2),l="l"+p+","+p,c="l"+p+",-"+p,C="l-"+p+",-"+p,d="l-"+p+","+p;return"M0,"+p+l+c+C+c+C+d+C+d+l+d+l+"Z"}},"triangle-up":{n:5,f:function(g){var p=o.round(2*g/Math.sqrt(3),2);return"M-"+p+","+o.round(g/2,2)+"H"+p+"L0,-"+o.round(g,2)+"Z"}},"triangle-down":{n:6,f:function(g){var p=o.round(2*g/Math.sqrt(3),2);return"M-"+p+",-"+o.round(g/2,2)+"H"+p+"L0,"+o.round(g,2)+"Z"}},"triangle-left":{n:7,f:function(g){var p=o.round(2*g/Math.sqrt(3),2);return"M"+o.round(g/2,2)+",-"+p+"V"+p+"L-"+o.round(g,2)+",0Z"}},"triangle-right":{n:8,f:function(g){var p=o.round(2*g/Math.sqrt(3),2);return"M-"+o.round(g/2,2)+",-"+p+"V"+p+"L"+o.round(g,2)+",0Z"}},"triangle-ne":{n:9,f:function(g){var p=o.round(.6*g,2),l=o.round(1.2*g,2);return"M-"+l+",-"+p+"H"+p+"V"+l+"Z"}},"triangle-se":{n:10,f:function(g){var p=o.round(.6*g,2),l=o.round(1.2*g,2);return"M"+p+",-"+l+"V"+p+"H-"+l+"Z"}},"triangle-sw":{n:11,f:function(g){var p=o.round(.6*g,2),l=o.round(1.2*g,2);return"M"+l+","+p+"H-"+p+"V-"+l+"Z"}},"triangle-nw":{n:12,f:function(g){var p=o.round(.6*g,2),l=o.round(1.2*g,2);return"M-"+p+","+l+"V-"+p+"H"+l+"Z"}},pentagon:{n:13,f:function(g){var p=o.round(.951*g,2),l=o.round(.588*g,2),c=o.round(-g,2),C=o.round(-.309*g,2);return"M"+p+","+C+"L"+l+","+o.round(.809*g,2)+"H-"+l+"L-"+p+","+C+"L0,"+c+"Z"}},hexagon:{n:14,f:function(g){var p=o.round(g,2),l=o.round(g/2,2),c=o.round(g*Math.sqrt(3)/2,2);return"M"+c+",-"+l+"V"+l+"L0,"+p+"L-"+c+","+l+"V-"+l+"L0,-"+p+"Z"}},hexagon2:{n:15,f:function(g){var p=o.round(g,2),l=o.round(g/2,2),c=o.round(g*Math.sqrt(3)/2,2);return"M-"+l+","+c+"H"+l+"L"+p+",0L"+l+",-"+c+"H-"+l+"L-"+p+",0Z"}},octagon:{n:16,f:function(g){var p=o.round(.924*g,2),l=o.round(.383*g,2);return"M-"+l+",-"+p+"H"+l+"L"+p+",-"+l+"V"+l+"L"+l+","+p+"H-"+l+"L-"+p+","+l+"V-"+l+"Z"}},star:{n:17,f:function(g){var p=1.4*g,l=o.round(.225*p,2),c=o.round(.951*p,2),C=o.round(.363*p,2),d=o.round(.588*p,2),h=o.round(-p,2),u=o.round(-.309*p,2),_=o.round(.118*p,2),b=o.round(.809*p,2);return"M"+l+","+u+"H"+c+"L"+C+","+_+"L"+d+","+b+"L0,"+o.round(.382*p,2)+"L-"+d+","+b+"L-"+C+","+_+"L-"+c+","+u+"H-"+l+"L0,"+h+"Z"}},hexagram:{n:18,f:function(g){var p=o.round(.66*g,2),l=o.round(.38*g,2),c=o.round(.76*g,2);return"M-"+c+",0l-"+l+",-"+p+"h"+c+"l"+l+",-"+p+"l"+l+","+p+"h"+c+"l-"+l+","+p+"l"+l+","+p+"h-"+c+"l-"+l+","+p+"l-"+l+",-"+p+"h-"+c+"Z"}},"star-triangle-up":{n:19,f:function(g){var p=o.round(g*Math.sqrt(3)*.8,2),l=o.round(.8*g,2),c=o.round(1.6*g,2),C=o.round(4*g,2),d="A "+C+","+C+" 0 0 1 ";return"M-"+p+","+l+d+p+","+l+d+"0,-"+c+d+"-"+p+","+l+"Z"}},"star-triangle-down":{n:20,f:function(g){var p=o.round(g*Math.sqrt(3)*.8,2),l=o.round(.8*g,2),c=o.round(1.6*g,2),C=o.round(4*g,2),d="A "+C+","+C+" 0 0 1 ";return"M"+p+",-"+l+d+"-"+p+",-"+l+d+"0,"+c+d+p+",-"+l+"Z"}},"star-square":{n:21,f:function(g){var p=o.round(1.1*g,2),l=o.round(2*g,2),c="A "+l+","+l+" 0 0 1 ";return"M-"+p+",-"+p+c+"-"+p+","+p+c+p+","+p+c+p+",-"+p+c+"-"+p+",-"+p+"Z"}},"star-diamond":{n:22,f:function(g){var p=o.round(1.4*g,2),l=o.round(1.9*g,2),c="A "+l+","+l+" 0 0 1 ";return"M-"+p+",0"+c+"0,"+p+c+p+",0"+c+"0,-"+p+c+"-"+p+",0Z"}},"diamond-tall":{n:23,f:function(g){var p=o.round(.7*g,2),l=o.round(1.4*g,2);return"M0,"+l+"L"+p+",0L0,-"+l+"L-"+p+",0Z"}},"diamond-wide":{n:24,f:function(g){var p=o.round(1.4*g,2),l=o.round(.7*g,2);return"M0,"+l+"L"+p+",0L0,-"+l+"L-"+p+",0Z"}},hourglass:{n:25,f:function(g){var p=o.round(g,2);return"M"+p+","+p+"H-"+p+"L"+p+",-"+p+"H-"+p+"Z"},noDot:!0},bowtie:{n:26,f:function(g){var p=o.round(g,2);return"M"+p+","+p+"V-"+p+"L-"+p+","+p+"V-"+p+"Z"},noDot:!0},"circle-cross":{n:27,f:function(g){var p=o.round(g,2);return"M0,"+p+"V-"+p+"M"+p+",0H-"+p+"M"+p+",0A"+p+","+p+" 0 1,1 0,-"+p+"A"+p+","+p+" 0 0,1 "+p+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(g){var p=o.round(g,2),l=o.round(g/Math.sqrt(2),2);return"M"+l+","+l+"L-"+l+",-"+l+"M"+l+",-"+l+"L-"+l+","+l+"M"+p+",0A"+p+","+p+" 0 1,1 0,-"+p+"A"+p+","+p+" 0 0,1 "+p+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(g){var p=o.round(g,2);return"M0,"+p+"V-"+p+"M"+p+",0H-"+p+"M"+p+","+p+"H-"+p+"V-"+p+"H"+p+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(g){var p=o.round(g,2);return"M"+p+","+p+"L-"+p+",-"+p+"M"+p+",-"+p+"L-"+p+","+p+"M"+p+","+p+"H-"+p+"V-"+p+"H"+p+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(g){var p=o.round(1.3*g,2);return"M"+p+",0L0,"+p+"L-"+p+",0L0,-"+p+"ZM0,-"+p+"V"+p+"M-"+p+",0H"+p},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(g){var p=o.round(1.3*g,2),l=o.round(.65*g,2);return"M"+p+",0L0,"+p+"L-"+p+",0L0,-"+p+"ZM-"+l+",-"+l+"L"+l+","+l+"M-"+l+","+l+"L"+l+",-"+l},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(g){var p=o.round(1.4*g,2);return"M0,"+p+"V-"+p+"M"+p+",0H-"+p},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(g){var p=o.round(g,2);return"M"+p+","+p+"L-"+p+",-"+p+"M"+p+",-"+p+"L-"+p+","+p},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(g){var p=o.round(1.2*g,2),l=o.round(.85*g,2);return"M0,"+p+"V-"+p+"M"+p+",0H-"+p+"M"+l+","+l+"L-"+l+",-"+l+"M"+l+",-"+l+"L-"+l+","+l},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(g){var p=o.round(g/2,2),l=o.round(g,2);return"M"+p+","+l+"V-"+l+"m-"+l+",0V"+l+"M"+l+","+p+"H-"+l+"m0,-"+l+"H"+l},needLine:!0,noFill:!0},"y-up":{n:37,f:function(g){var p=o.round(1.2*g,2),l=o.round(1.6*g,2),c=o.round(.8*g,2);return"M-"+p+","+c+"L0,0M"+p+","+c+"L0,0M0,-"+l+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(g){var p=o.round(1.2*g,2),l=o.round(1.6*g,2),c=o.round(.8*g,2);return"M-"+p+",-"+c+"L0,0M"+p+",-"+c+"L0,0M0,"+l+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(g){var p=o.round(1.2*g,2),l=o.round(1.6*g,2),c=o.round(.8*g,2);return"M"+c+","+p+"L0,0M"+c+",-"+p+"L0,0M-"+l+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(g){var p=o.round(1.2*g,2),l=o.round(1.6*g,2),c=o.round(.8*g,2);return"M-"+c+","+p+"L0,0M-"+c+",-"+p+"L0,0M"+l+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(g){var p=o.round(1.4*g,2);return"M"+p+",0H-"+p},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(g){var p=o.round(1.4*g,2);return"M0,"+p+"V-"+p},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(g){var p=o.round(g,2);return"M"+p+",-"+p+"L-"+p+","+p},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(g){var p=o.round(g,2);return"M"+p+","+p+"L-"+p+",-"+p},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(g){var p=o.round(g,2);return"M0,0L-"+p+","+o.round(2*g,2)+"H"+p+"Z"},noDot:!0},"arrow-down":{n:46,f:function(g){var p=o.round(g,2);return"M0,0L-"+p+",-"+o.round(2*g,2)+"H"+p+"Z"},noDot:!0},"arrow-left":{n:47,f:function(g){var p=o.round(2*g,2),l=o.round(g,2);return"M0,0L"+p+",-"+l+"V"+l+"Z"},noDot:!0},"arrow-right":{n:48,f:function(g){var p=o.round(2*g,2),l=o.round(g,2);return"M0,0L-"+p+",-"+l+"V"+l+"Z"},noDot:!0},"arrow-bar-up":{n:49,f:function(g){var p=o.round(g,2);return"M-"+p+",0H"+p+"M0,0L-"+p+","+o.round(2*g,2)+"H"+p+"Z"},needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(g){var p=o.round(g,2);return"M-"+p+",0H"+p+"M0,0L-"+p+",-"+o.round(2*g,2)+"H"+p+"Z"},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(g){var p=o.round(2*g,2),l=o.round(g,2);return"M0,-"+l+"V"+l+"M0,0L"+p+",-"+l+"V"+l+"Z"},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(g){var p=o.round(2*g,2),l=o.round(g,2);return"M0,-"+l+"V"+l+"M0,0L-"+p+",-"+l+"V"+l+"Z"},needLine:!0,noDot:!0}}},{"@plotly/d3":11}],126:[function(m,de,ne){"use strict";de.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},{}],127:[function(m,de,ne){"use strict";var o=m("fast-isnumeric"),g=m("../../registry"),p=m("../../plots/cartesian/axes"),l=m("../../lib"),c=m("./compute_error");function C(d,h,u,_){var b=h["error_"+_]||{},M=[];if(b.visible&&-1!==["linear","log"].indexOf(u.type)){for(var w=c(b),N=0;N<d.length;N++){var z=d[N],k=z.i;if(void 0===k)k=N;else if(null===k)continue;var D=z[_];if(o(u.c2l(D))){var S=w(D,k);if(o(S[0])&&o(S[1])){var P=z[_+"s"]=D-S[0],V=z[_+"h"]=D+S[1];M.push(P,V)}}}var I=h._extremes[u._id],L=p.findExtremes(u,M,l.extendFlat({tozero:I.opts.tozero},{padded:!0}));I.min=I.min.concat(L.min),I.max=I.max.concat(L.max)}}de.exports=function(d){for(var h=d.calcdata,u=0;u<h.length;u++){var _=h[u],b=_[0].trace;if(!0===b.visible&&g.traceIs(b,"errorBarsOK")){var M=p.getFromId(d,b.xaxis),w=p.getFromId(d,b.yaxis);C(_,b,M,"x"),C(_,b,w,"y")}}}},{"../../lib":232,"../../plots/cartesian/axes":279,"../../registry":318,"./compute_error":128,"fast-isnumeric":17}],128:[function(m,de,ne){"use strict";function o(g,p){return"percent"===g?function(l){return Math.abs(l*p/100)}:"constant"===g?function(){return Math.abs(p)}:"sqrt"===g?function(l){return Math.sqrt(Math.abs(l))}:void 0}de.exports=function(g){var p=g.type,l=g.symmetric;if("data"===p){var c=g.array||[];if(l)return function(u,_){var b=+c[_];return[b,b]};var C=g.arrayminus||[];return function(u,_){var b=+c[_],M=+C[_];return isNaN(b)&&isNaN(M)?[NaN,NaN]:[M||0,b||0]}}var d=o(p,g.value),h=o(p,g.valueminus);return l||void 0===g.valueminus?function(u){var _=d(u);return[_,_]}:function(u){return[h(u),d(u)]}}},{}],129:[function(m,de,ne){"use strict";var o=m("fast-isnumeric"),g=m("../../registry"),p=m("../../lib"),l=m("../../plot_api/plot_template"),c=m("./attributes");de.exports=function(C,d,h,u){var _="error_"+u.axis,b=l.newContainer(d,_),M=C[_]||{};function w(D,S){return p.coerce(M,b,c,D,S)}if(!1!==w("visible",void 0!==M.array||void 0!==M.value||"sqrt"===M.type)){var N=w("type","array"in M?"data":"percent"),z=!0;"sqrt"!==N&&(z=w("symmetric",!(("data"===N?"arrayminus":"valueminus")in M))),"data"===N?(w("array"),w("traceref"),z||(w("arrayminus"),w("tracerefminus"))):"percent"!==N&&"constant"!==N||(w("value"),z||w("valueminus"));var k="copy_"+u.inherit+"style";u.inherit&&(d["error_"+u.inherit]||{}).visible&&w(k,!(M.color||o(M.thickness)||o(M.width))),u.inherit&&b[k]||(w("color",h),w("thickness"),w("width",g.traceIs(d,"gl3d")?0:4))}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../registry":318,"./attributes":126,"fast-isnumeric":17}],130:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("../../plot_api/edit_types").overrideAll,p=m("./attributes"),l={error_x:o.extendFlat({},p),error_y:o.extendFlat({},p)};delete l.error_x.copy_zstyle,delete l.error_y.copy_zstyle,delete l.error_y.copy_ystyle;var c={error_x:o.extendFlat({},p),error_y:o.extendFlat({},p),error_z:o.extendFlat({},p)};delete c.error_x.copy_ystyle,delete c.error_y.copy_ystyle,delete c.error_z.copy_ystyle,delete c.error_z.copy_zstyle,de.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:l,bar:l,histogram:l,scatter3d:g(c,"calc","nested"),scattergl:g(l,"calc","nested")}},supplyDefaults:m("./defaults"),calc:m("./calc"),makeComputeError:m("./compute_error"),plot:m("./plot"),style:m("./style"),hoverInfo:function(C,d,h){(d.error_y||{}).visible&&(h.yerr=C.yh-C.y,d.error_y.symmetric||(h.yerrneg=C.y-C.ys)),(d.error_x||{}).visible&&(h.xerr=C.xh-C.x,d.error_x.symmetric||(h.xerrneg=C.x-C.xs))}}},{"../../lib":232,"../../plot_api/edit_types":261,"./attributes":126,"./calc":127,"./compute_error":128,"./defaults":129,"./plot":131,"./style":132}],131:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("fast-isnumeric"),p=m("../drawing"),l=m("../../traces/scatter/subtypes");de.exports=function(c,C,d,h){var u=d.xaxis,_=d.yaxis,b=h&&h.duration>0;C.each(function(M){var w,N=M[0].trace,z=N.error_x||{},k=N.error_y||{};N.ids&&(w=function(V){return V.id});var D=l.hasMarkers(N)&&N.marker.maxdisplayed>0;k.visible||z.visible||(M=[]);var S=o.select(this).selectAll("g.errorbar").data(M,w);if(S.exit().remove(),M.length){z.visible||S.selectAll("path.xerror").remove(),k.visible||S.selectAll("path.yerror").remove(),S.style("opacity",1);var P=S.enter().append("g").classed("errorbar",!0);b&&P.style("opacity",0).transition().duration(h.duration).style("opacity",1),p.setClipUrl(S,d.layerClipId,c),S.each(function(V){var W,q,Q,te,E=o.select(this),I=(Q=_,te={x:(q=u).c2p((W=V).x),y:Q.c2p(W.y)},void 0!==W.yh&&(te.yh=Q.c2p(W.yh),te.ys=Q.c2p(W.ys),g(te.ys)||(te.noYS=!0,te.ys=Q.c2p(W.ys,!0))),void 0!==W.xh&&(te.xh=q.c2p(W.xh),te.xs=q.c2p(W.xs),g(te.xs)||(te.noXS=!0,te.xs=q.c2p(W.xs,!0))),te);if(!D||V.vis){var L,B=E.select("path.yerror");if(k.visible&&g(I.x)&&g(I.yh)&&g(I.ys)){var $=k.width;L="M"+(I.x-$)+","+I.yh+"h"+2*$+"m-"+$+",0V"+I.ys,I.noYS||(L+="m-"+$+",0h"+2*$),B.size()?b&&(B=B.transition().duration(h.duration).ease(h.easing)):B=E.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0),B.attr("d",L)}else B.remove();var T=E.select("path.xerror");if(z.visible&&g(I.y)&&g(I.xh)&&g(I.xs)){var Y=(z.copy_ystyle?k:z).width;L="M"+I.xh+","+(I.y-Y)+"v"+2*Y+"m0,-"+Y+"H"+I.xs,I.noXS||(L+="m0,-"+Y+"v"+2*Y),T.size()?b&&(T=T.transition().duration(h.duration).ease(h.easing)):T=E.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0),T.attr("d",L)}else T.remove()}})}})}},{"../../traces/scatter/subtypes":383,"../drawing":124,"@plotly/d3":11,"fast-isnumeric":17}],132:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("../color");de.exports=function(p){p.each(function(l){var c=l[0].trace,C=c.error_y||{},d=c.error_x||{},h=o.select(this);h.selectAll("path.yerror").style("stroke-width",C.thickness+"px").call(g.stroke,C.color),d.copy_ystyle&&(d=C),h.selectAll("path.xerror").style("stroke-width",d.thickness+"px").call(g.stroke,d.color)})}},{"../color":102,"@plotly/d3":11}],133:[function(m,de,ne){"use strict";var o=m("../../plots/font_attributes"),g=m("./layout_attributes").hoverlabel,p=m("../../lib/extend").extendFlat;de.exports={hoverlabel:{bgcolor:p({},g.bgcolor,{arrayOk:!0}),bordercolor:p({},g.bordercolor,{arrayOk:!0}),font:o({arrayOk:!0,editType:"none"}),align:p({},g.align,{arrayOk:!0}),namelength:p({},g.namelength,{arrayOk:!0}),editType:"none"}}},{"../../lib/extend":226,"../../plots/font_attributes":310,"./layout_attributes":143}],134:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("../../registry");function p(l,c,C,d){d=d||o.identity,Array.isArray(l)&&(c[0][C]=d(l))}de.exports=function(l){var c=l.calcdata,C=l._fullLayout;function d(M){return function(w){return o.coerceHoverinfo({hoverinfo:w},{_module:M._module},C)}}for(var h=0;h<c.length;h++){var u=c[h],_=u[0].trace;if(!g.traceIs(_,"pie-like")){var b=g.traceIs(_,"2dMap")?p:o.fillArray;b(_.hoverinfo,u,"hi",d(_)),_.hovertemplate&&b(_.hovertemplate,u,"ht"),_.hoverlabel&&(b(_.hoverlabel.bgcolor,u,"hbg"),b(_.hoverlabel.bordercolor,u,"hbc"),b(_.hoverlabel.font.size,u,"hts"),b(_.hoverlabel.font.color,u,"htc"),b(_.hoverlabel.font.family,u,"htf"),b(_.hoverlabel.namelength,u,"hnl"),b(_.hoverlabel.align,u,"hta"))}}}},{"../../lib":232,"../../registry":318}],135:[function(m,de,ne){"use strict";var o=m("../../registry"),g=m("./hover").hover;de.exports=function(p,l,c){var C=o.getComponentMethod("annotations","onClick")(p,p._hoverdata);function d(){p.emit("plotly_click",{points:p._hoverdata,event:l})}void 0!==c&&g(p,l,c,!0),p._hoverdata&&l&&l.target&&(C&&C.then?C.then(d):d(),l.stopImmediatePropagation&&l.stopImmediatePropagation())}},{"../../registry":318,"./hover":139}],136:[function(m,de,ne){"use strict";de.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},{}],137:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("./attributes"),p=m("./hoverlabel_defaults");de.exports=function(l,c,C,d){var h=o.extendFlat({},d.hoverlabel);c.hovertemplate&&(h.namelength=-1),p(l,c,function(u,_){return o.coerce(l,c,g,u,_)},h)}},{"../../lib":232,"./attributes":133,"./hoverlabel_defaults":140}],138:[function(m,de,ne){"use strict";var o=m("../../lib");ne.getSubplot=function(d){return d.subplot||d.xaxis+d.yaxis||d.geo},ne.isTraceInSubplots=function(d,h){if("splom"===d.type){for(var u=d.xaxes||[],_=d.yaxes||[],b=0;b<u.length;b++)for(var M=0;M<_.length;M++)if(-1!==h.indexOf(u[b]+_[M]))return!0;return!1}return-1!==h.indexOf(ne.getSubplot(d))},ne.flat=function(d,h){for(var u=new Array(d.length),_=0;_<d.length;_++)u[_]=h;return u},ne.p2c=function(d,h){for(var u=new Array(d.length),_=0;_<d.length;_++)u[_]=d[_].p2c(h);return u},ne.getDistanceFunction=function(d,h,u,_){return"closest"===d?_||ne.quadrature(h,u):"x"===d.charAt(0)?h:u},ne.getClosest=function(d,h,u){if(!1!==u.index)u.index>=0&&u.index<d.length?u.distance=0:u.index=!1;else for(var _=0;_<d.length;_++){var b=h(d[_]);b<=u.distance&&(u.index=_,u.distance=b)}return u},ne.inbox=function(d,h,u){return d*h<0||0===d?u:1/0},ne.quadrature=function(d,h){return function(u){var _=d(u),b=h(u);return Math.sqrt(_*_+b*b)}},ne.makeEventData=function(d,h,u){var _="index"in d?d.index:d.pointNumber,b={data:h._input,fullData:h,curveNumber:h.index,pointNumber:_};if(h._indexToPoints){var M=h._indexToPoints[_];1===M.length?b.pointIndex=M[0]:b.pointIndices=M}else b.pointIndex=_;return h._module.eventData?b=h._module.eventData(b,d,h,u,_):("xVal"in d?b.x=d.xVal:"x"in d&&(b.x=d.x),"yVal"in d?b.y=d.yVal:"y"in d&&(b.y=d.y),d.xa&&(b.xaxis=d.xa),d.ya&&(b.yaxis=d.ya),void 0!==d.zLabelVal&&(b.z=d.zLabelVal)),ne.appendArrayPointValue(b,h,_),b},ne.appendArrayPointValue=function(d,h,u){var _=h._arrayAttrs;if(_)for(var b=0;b<_.length;b++){var M=_[b],w=p(M);if(void 0===d[w]){var N=l(o.nestedProperty(h,M).get(),u);void 0!==N&&(d[w]=N)}}},ne.appendArrayMultiPointValues=function(d,h,u){var _=h._arrayAttrs;if(_)for(var b=0;b<_.length;b++){var M=_[b],w=p(M);if(void 0===d[w]){for(var N=o.nestedProperty(h,M).get(),z=new Array(u.length),k=0;k<u.length;k++)z[k]=l(N,u[k]);d[w]=z}}};var g={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function p(d){return g[d]||d}function l(d,h){return Array.isArray(h)?Array.isArray(d)&&Array.isArray(d[h[0]])?d[h[0]][h[1]]:void 0:d[h]}var c={x:!0,y:!0},C={"x unified":!0,"y unified":!0};ne.isUnifiedHover=function(d){return"string"==typeof d&&!!C[d]},ne.isXYhover=function(d){return"string"==typeof d&&!!c[d]}},{"../../lib":232}],139:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("fast-isnumeric"),p=m("tinycolor2"),l=m("../../lib"),c=l.strTranslate,C=l.strRotate,d=m("../../lib/events"),h=m("../../lib/svg_text_utils"),u=m("../../lib/override_cursor"),_=m("../drawing"),b=m("../color"),M=m("../dragelement"),w=m("../../plots/cartesian/axes"),N=m("../../registry"),z=m("./helpers"),k=m("./constants"),D=m("../legend/defaults"),S=m("../legend/draw"),P=k.YANGLE,V=Math.PI*P/180,E=1/Math.sin(V),I=Math.cos(V),L=Math.sin(V),B=k.HOVERARROWSIZE,$=k.HOVERTEXTPAD,T={box:!0,ohlc:!0,violin:!0,candlestick:!0},Y={scatter:!0,scattergl:!0,splom:!0};function W(F){return[F.trace.index,F.index,F.x0,F.y0,F.name,F.attr,F.xa?F.xa._id:"",F.ya?F.ya._id:""].join(",")}ne.hover=function(F,O,X,R){F=l.getGraphDiv(F);var ae=O.target;l.throttle(F._fullLayout._uid+k.HOVERID,k.HOVERMINTIME,function(){!function(fe,ue,pe,xe,Me){pe||(pe="xy");var Ae=Array.isArray(pe)?pe:[pe],ze=fe._fullLayout,Fe=ze._plots||[],Ue=Fe[pe],t1=ze._has("cartesian");if(Ue){var Xe=Ue.overlays.map(function(zt){return zt.id});Ae=Ae.concat(Xe)}for(var Ge=Ae.length,we=new Array(Ge),ve=new Array(Ge),De=!1,Ve=0;Ve<Ge;Ve++){var qe=Ae[Ve];if(Fe[qe])De=!0,we[Ve]=Fe[qe].xaxis,ve[Ve]=Fe[qe].yaxis;else{if(!ze[qe]||!ze[qe]._subplot)return void l.warn("Unrecognized subplot: "+qe);var Ie=ze[qe]._subplot;we[Ve]=Ie.xaxis,ve[Ve]=Ie.yaxis}}var Re=ue.hovermode||ze.hovermode;if(Re&&!De&&(Re="closest"),-1===["x","y","closest","x unified","y unified"].indexOf(Re)||!fe.calcdata||fe.querySelector(".zoombox")||fe._dragging)return M.unhoverRaw(fe,ue);var Qe=ze.hoverdistance;-1===Qe&&(Qe=1/0);var n1=ze.spikedistance;-1===n1&&(n1=1/0);var Ye,r1,f1,Je,g1,b1,_1,I1,M1,Be,je,C1,O1,Q1=[],st=[],$1={hLinePoint:null,vLinePoint:null},Z1=!1;if(Array.isArray(ue))for(Re="array",f1=0;f1<ue.length;f1++)(g1=fe.calcdata[ue[f1].curveNumber||0])&&(b1=g1[0].trace,"skip"!==g1[0].trace.hoverinfo&&(st.push(g1),"h"===b1.orientation&&(Z1=!0)));else{for(Je=0;Je<fe.calcdata.length;Je++)"skip"!==(b1=(g1=fe.calcdata[Je])[0].trace).hoverinfo&&z.isTraceInSubplots(b1,Ae)&&(st.push(g1),"h"===b1.orientation&&(Z1=!0));var N1,ge;if(Me){if(!1===d.triggerHandler(fe,"plotly_beforehover",ue))return;var ye=Me.getBoundingClientRect();N1=ue.clientX-ye.left,ge=ue.clientY-ye.top,ze._calcInverseTransform(fe);var We=l.apply3DTransform(ze._invTransform)(N1,ge);if(ge=We[1],(N1=We[0])<0||N1>we[0]._length||ge<0||ge>ve[0]._length)return M.unhoverRaw(fe,ue)}else N1="xpx"in ue?ue.xpx:we[0]._length/2,ge="ypx"in ue?ue.ypx:ve[0]._length/2;if(ue.pointerX=N1+we[0]._offset,ue.pointerY=ge+ve[0]._offset,Ye="xval"in ue?z.flat(Ae,ue.xval):z.p2c(we,N1),r1="yval"in ue?z.flat(Ae,ue.yval):z.p2c(ve,ge),!g(Ye[0])||!g(r1[0]))return l.warn("Fx.hover failed",ue,fe),M.unhoverRaw(fe,ue)}var e1=1/0;function d1(zt,y2){for(Je=0;Je<st.length;Je++)if((g1=st[Je])&&g1[0]&&g1[0].trace&&!0===(b1=g1[0].trace).visible&&0!==b1._length&&-1===["carpet","contourcarpet"].indexOf(b1._module.name)){if("splom"===b1.type?_1=Ae[I1=0]:(_1=z.getSubplot(b1),I1=Ae.indexOf(_1)),z.isUnifiedHover(M1=Re)&&(M1=M1.charAt(0)),C1={cd:g1,trace:b1,xa:we[I1],ya:ve[I1],maxHoverDistance:Qe,maxSpikeDistance:n1,index:!1,distance:Math.min(e1,Qe),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:b.defaultLine,name:b1.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},ze[_1]&&(C1.subplot=ze[_1]._subplot),ze._splomScenes&&ze._splomScenes[b1.uid]&&(C1.scene=ze._splomScenes[b1.uid]),O1=Q1.length,"array"===M1){var d2=ue[Je];"pointNumber"in d2?(C1.index=d2.pointNumber,M1="closest"):(M1="","xval"in d2&&(Be=d2.xval,M1="x"),"yval"in d2&&(je=d2.yval,M1=M1?"closest":"y"))}else void 0!==zt&&void 0!==y2?(Be=zt,je=y2):(Be=Ye[I1],je=r1[I1]);if(0!==Qe)if(b1._module&&b1._module.hoverPoints){var Et=b1._module.hoverPoints(C1,Be,je,M1,{finiteRange:!0,hoverLayer:ze._hoverlayer});if(Et)for(var u2,_2=0;_2<Et.length;_2++)g((u2=Et[_2]).x0)&&g(u2.y0)&&Q1.push(me(u2,Re))}else l.log("Unrecognized trace type in hover:",b1);if("closest"===Re&&Q1.length>O1&&(Q1.splice(0,O1),e1=Q1[0].distance),t1&&0!==n1&&0===Q1.length){C1.distance=n1,C1.index=!1;var e2=b1._module.hoverPoints(C1,Be,je,"closest",{hoverLayer:ze._hoverlayer});if(e2&&(e2=e2.filter(function($2){return $2.spikeDistance<=n1})),e2&&e2.length){var Rt,mt=e2.filter(function($2){return $2.xa.showspikes&&"hovered data"!==$2.xa.spikesnap});if(mt.length){var b2=mt[0];g(b2.x0)&&g(b2.y0)&&(Rt=l1(b2),(!$1.vLinePoint||$1.vLinePoint.spikeDistance>Rt.spikeDistance)&&($1.vLinePoint=Rt))}var mn=e2.filter(function($2){return $2.ya.showspikes&&"hovered data"!==$2.ya.spikesnap});if(mn.length){var G2=mn[0];g(G2.x0)&&g(G2.y0)&&(Rt=l1(G2),(!$1.hLinePoint||$1.hLinePoint.spikeDistance>Rt.spikeDistance)&&($1.hLinePoint=Rt))}}}}}function a1(zt,y2,d2){for(var Et,u2=null,_2=1/0,e2=0;e2<zt.length;e2++)Et=zt[e2].spikeDistance,d2&&0===e2&&(Et=-1/0),Et<=_2&&Et<=y2&&(u2=zt[e2],_2=Et);return u2}function l1(zt){return zt?{xa:zt.xa,ya:zt.ya,x:void 0!==zt.xSpike?zt.xSpike:(zt.x0+zt.x1)/2,y:void 0!==zt.ySpike?zt.ySpike:(zt.y0+zt.y1)/2,distance:zt.distance,spikeDistance:zt.spikeDistance,curveNumber:zt.trace.index,color:zt.color,pointNumber:zt.index}:null}d1();var c1={fullLayout:ze,container:ze._hoverlayer,event:ue},w1=fe._spikepoints;fe._spikepoints={vLinePoint:$1.vLinePoint,hLinePoint:$1.hLinePoint};var B1=function(){Q1.sort(function(zt,y2){return zt.distance-y2.distance}),Q1=function(zt,y2){for(var d2=y2.charAt(0),Et=[],u2=[],_2=[],e2=0;e2<zt.length;e2++){var Rt=zt[e2];N.traceIs(Rt.trace,"bar-like")||N.traceIs(Rt.trace,"box-violin")?_2.push(Rt):Rt.trace[d2+"period"]?u2.push(Rt):Et.push(Rt)}return Et.concat(u2).concat(_2)}(Q1,Re)};B1();var rt=Re.charAt(0),H1=("x"===rt||"y"===rt)&&Q1[0]&&Y[Q1[0].trace.type];if(t1&&0!==n1&&0!==Q1.length){var Y1=a1(Q1.filter(function(zt){return zt.ya.showspikes}),n1,H1);$1.hLinePoint=l1(Y1);var ut=a1(Q1.filter(function(zt){return zt.xa.showspikes}),n1,H1);$1.vLinePoint=l1(ut)}if(0===Q1.length){var k1=M.unhoverRaw(fe,ue);return!t1||null===$1.hLinePoint&&null===$1.vLinePoint||K(w1)&&ie(fe,$1,c1),k1}if(t1&&K(w1)&&ie(fe,$1,c1),z.isXYhover(M1)&&0!==Q1[0].length&&"splom"!==Q1[0].trace.type){var L1=Q1[0],it=(Q1=T[L1.trace.type]?Q1.filter(function(zt){return zt.trace.index===L1.trace.index}):[L1]).length;d1(G("x",L1,ze),G("y",L1,ze));var et,P1=[],xt={},yt=0,wt=function(zt){var y2=T[zt.trace.type]?W(zt):zt.trace.index;if(xt[y2]){var d2=xt[y2]-1,Et=P1[d2];d2>0&&Math.abs(zt.distance)<Math.abs(Et.distance)&&(P1[d2]=zt)}else yt++,xt[y2]=yt,P1.push(zt)};for(et=0;et<it;et++)wt(Q1[et]);for(et=Q1.length-1;et>it-1;et--)wt(Q1[et]);Q1=P1,B1()}var Ft=fe._hoverdata,Ot=[],Dt=j(fe),G1=oe(fe);for(f1=0;f1<Q1.length;f1++){var K1=Q1[f1],tt=z.makeEventData(K1,K1.trace,K1.cd);if(!1!==K1.hovertemplate){var dt=!1;K1.cd[K1.index]&&K1.cd[K1.index].ht&&(dt=K1.cd[K1.index].ht),K1.hovertemplate=dt||K1.trace.hovertemplate||!1}if(K1.xa&&K1.ya){var ot=K1.x0+K1.xa._offset,gt=K1.x1+K1.xa._offset,Gt=K1.y0+K1.ya._offset,Qt=K1.y1+K1.ya._offset,Vt=Math.min(ot,gt),kt=Math.max(ot,gt),f2=Math.min(Gt,Qt),p2=Math.max(Gt,Qt);tt.bbox={x0:Vt+G1,x1:kt+G1,y0:f2+Dt,y1:p2+Dt}}K1.eventData=[tt],Ot.push(tt)}fe._hoverdata=Ot;var Bt="y"===Re&&(st.length>1||Q1.length>1)||"closest"===Re&&Z1&&Q1.length>1,Kt=b.combine(ze.plot_bgcolor||b.background,ze.paper_bgcolor),Pt=Q(Q1,{gd:fe,hovermode:Re,rotateLabels:Bt,bgColor:Kt,container:ze._hoverlayer,outerContainer:ze._paper.node(),commonLabelOpts:ze.hoverlabel,hoverdistance:ze.hoverdistance});if(z.isUnifiedHover(Re)||(function(zt,y2,d2){var Et,u2,_2,e2,Rt,mt,b2,mn=0,G2=1,$2=zt.size(),sn=new Array($2),An=0;function vn(kn){var D2=kn[0],G3=kn[kn.length-1];if(_2=G3.pos+G3.dp+G3.size-D2.pmax,(u2=D2.pmin-D2.pos-D2.dp+D2.size)>.01){for(Rt=kn.length-1;Rt>=0;Rt--)kn[Rt].dp+=u2;Et=!1}if(!(_2<.01)){if(u2<-.01){for(Rt=kn.length-1;Rt>=0;Rt--)kn[Rt].dp-=_2;Et=!1}if(Et){var B2=0;for(e2=0;e2<kn.length;e2++)(mt=kn[e2]).pos+mt.dp+mt.size>D2.pmax&&B2++;for(e2=kn.length-1;e2>=0&&!(B2<=0);e2--)(mt=kn[e2]).pos>D2.pmax-1&&(mt.del=!0,B2--);for(e2=0;e2<kn.length&&!(B2<=0);e2++)if((mt=kn[e2]).pos<D2.pmin+1)for(mt.del=!0,B2--,_2=2*mt.size,Rt=kn.length-1;Rt>=0;Rt--)kn[Rt].dp-=_2;for(e2=kn.length-1;e2>=0&&!(B2<=0);e2--)(mt=kn[e2]).pos+mt.dp+mt.size>D2.pmax&&(mt.del=!0,B2--)}}}for(zt.each(function(kn){var D2=kn[y2],G3="x"===D2._id.charAt(0),B2=D2.range;0===An&&B2&&B2[0]>B2[1]!==G3&&(G2=-1),sn[An++]=[{datum:kn,traceIndex:kn.trace.index,dp:0,pos:kn.pos,posref:kn.posref,size:kn.by*(G3?E:1)/2,pmin:0,pmax:G3?d2.width:d2.height}]}),sn.sort(function(kn,D2){return kn[0].posref-D2[0].posref||G2*(D2[0].traceIndex-kn[0].traceIndex)});!Et&&mn<=$2;){for(mn++,Et=!0,e2=0;e2<sn.length-1;){var wn=sn[e2],E2=sn[e2+1],J2=wn[wn.length-1],H3=E2[0];if((u2=J2.pos+J2.dp+J2.size-H3.pos-H3.dp+H3.size)>.01&&J2.pmin===H3.pmin&&J2.pmax===H3.pmax){for(Rt=E2.length-1;Rt>=0;Rt--)E2[Rt].dp+=u2;for(wn.push.apply(wn,E2),sn.splice(e2+1,1),b2=0,Rt=wn.length-1;Rt>=0;Rt--)b2+=wn[Rt].dp;for(_2=b2/wn.length,Rt=wn.length-1;Rt>=0;Rt--)wn[Rt].dp-=_2;Et=!1}else e2++}sn.forEach(vn)}for(e2=sn.length-1;e2>=0;e2--){var nr=sn[e2];for(Rt=nr.length-1;Rt>=0;Rt--){var yr=nr[Rt],r2=yr.datum;r2.offset=yr.dp,r2.del=yr.del}}}(Pt,Bt?"xa":"ya",ze),ce(Pt,Bt,ze._invScaleX,ze._invScaleY)),Me&&Me.tagName){var m2=N.getComponentMethod("annotations","hasClickToShow")(fe,Ot);u(o.select(Me),m2?"pointer":"")}!Me||xe||!function(zt,y2,d2){if(!d2||d2.length!==zt._hoverdata.length)return!0;for(var Et=d2.length-1;Et>=0;Et--){var u2=d2[Et],_2=zt._hoverdata[Et];if(u2.curveNumber!==_2.curveNumber||String(u2.pointNumber)!==String(_2.pointNumber)||String(u2.pointNumbers)!==String(_2.pointNumbers))return!0}return!1}(fe,0,Ft)||(Ft&&fe.emit("plotly_unhover",{event:ue,points:Ft}),fe.emit("plotly_hover",{event:ue,points:fe._hoverdata,xaxes:we,yaxes:ve,xvals:Ye,yvals:r1}))}(F,O,X,R,ae)})},ne.loneHover=function(F,O){var X=!0;Array.isArray(F)||(X=!1,F=[F]);var R=O.gd,ae=j(R),fe=oe(R),ue=Q(F.map(function(Me){var Ae=Me._x0||Me.x0||Me.x||0,ze=Me._x1||Me.x1||Me.x||0,Fe=Me._y0||Me.y0||Me.y||0,Ue=Me._y1||Me.y1||Me.y||0,t1=Me.eventData;if(t1){var Xe=Math.min(Ae,ze),Ge=Math.max(Ae,ze),we=Math.min(Fe,Ue),ve=Math.max(Fe,Ue),De=Me.trace;if(N.traceIs(De,"gl3d")){var Ve=R._fullLayout[De.scene]._scene.container,qe=Ve.offsetLeft,Ie=Ve.offsetTop;Xe+=qe,Ge+=qe,we+=Ie,ve+=Ie}t1.bbox={x0:Xe+fe,x1:Ge+fe,y0:we+ae,y1:ve+ae},O.inOut_bbox&&O.inOut_bbox.push(t1.bbox)}else t1=!1;return{color:Me.color||b.defaultLine,x0:Me.x0||Me.x||0,x1:Me.x1||Me.x||0,y0:Me.y0||Me.y||0,y1:Me.y1||Me.y||0,xLabel:Me.xLabel,yLabel:Me.yLabel,zLabel:Me.zLabel,text:Me.text,name:Me.name,idealAlign:Me.idealAlign,borderColor:Me.borderColor,fontFamily:Me.fontFamily,fontSize:Me.fontSize,fontColor:Me.fontColor,nameLength:Me.nameLength,textAlign:Me.textAlign,trace:Me.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Me.hovertemplate||!1,hovertemplateLabels:Me.hovertemplateLabels||!1,eventData:t1}}),{gd:R,hovermode:"closest",rotateLabels:!1,bgColor:O.bgColor||b.background,container:o.select(O.container),outerContainer:O.outerContainer||O.container}),pe=0,xe=0;return ue.sort(function(Me,Ae){return Me.y0-Ae.y0}).each(function(Me,Ae){var ze=Me.y0-Me.by/2;Me.offset=ze-5<pe?pe-ze+5:0,pe=ze+Me.by+Me.offset,Ae===O.anchorIndex&&(xe=Me.offset)}).each(function(Me){Me.offset-=xe}),ce(ue,!1,R._fullLayout._invScaleX,R._fullLayout._invScaleY),X?ue:ue.node()};var q=/<extra>([\s\S]*)<\/extra>/;function Q(F,O){var X=O.gd,R=X._fullLayout,ae=O.hovermode,fe=O.rotateLabels,ue=O.bgColor,pe=O.container,xe=O.outerContainer,Me=O.commonLabelOpts||{};if(0===F.length)return[[]];var Ae=O.fontFamily||k.HOVERFONT,ze=O.fontSize||k.HOVERFONTSIZE,Fe=F[0],Ue=Fe.xa,t1=Fe.ya,Xe=ae.charAt(0),Ge=Fe[Xe+"Label"],we=re(X,xe),ve=we.top,De=we.width,Ve=we.height,qe=void 0!==Ge&&Fe.distance<=O.hoverdistance&&("x"===ae||"y"===ae);if(qe){var Ie,Re,Qe=!0;for(Ie=0;Ie<F.length;Ie++)if(Qe&&void 0===F[Ie].zLabel&&(Qe=!1),Re=F[Ie].hoverinfo||F[Ie].trace.hoverinfo){var n1=Array.isArray(Re)?Re:Re.split("+");if(-1===n1.indexOf("all")&&-1===n1.indexOf(ae)){qe=!1;break}}Qe&&(qe=!1)}var Ye=pe.selectAll("g.axistext").data(qe?[0]:[]);if(Ye.enter().append("g").classed("axistext",!0),Ye.exit().remove(),Ye.each(function(){var H1=o.select(this),Y1=l.ensureSingle(H1,"path","",function(gt){gt.style({"stroke-width":"1px"})}),ut=l.ensureSingle(H1,"text","",function(gt){gt.attr("data-notex",1)}),k1=Me.bgcolor||b.defaultLine,L1=Me.bordercolor||b.contrast(k1),it=b.contrast(k1),X1={family:Me.font.family||Ae,size:Me.font.size||ze,color:Me.font.color||it};Y1.style({fill:k1,stroke:L1}),ut.text(Ge).call(_.font,X1).call(h.positionText,0,0).call(h.convertToTspans,X),H1.attr("transform","");var j1,et,P1=re(X,ut.node());if("x"===ae){var xt="top"===Ue.side?"-":"";ut.attr("text-anchor","middle").call(h.positionText,0,"top"===Ue.side?ve-P1.bottom-B-$:ve-P1.top+B+$),et=t1._offset+("top"===Ue.side?0:t1._length);var yt=P1.width/2+$;(j1=Ue._offset+(Fe.x0+Fe.x1)/2)<yt?(j1=yt,Y1.attr("d","M-"+(yt-B)+",0L-"+(yt-2*B)+","+xt+B+"H"+($+P1.width/2)+"v"+xt+(2*$+P1.height)+"H-"+yt+"V"+xt+B+"Z")):j1>R.width-yt?(j1=R.width-yt,Y1.attr("d","M"+(yt-B)+",0L"+yt+","+xt+B+"v"+xt+(2*$+P1.height)+"H-"+yt+"V"+xt+B+"H"+(yt-2*B)+"Z")):Y1.attr("d","M0,0L"+B+","+xt+B+"H"+($+P1.width/2)+"v"+xt+(2*$+P1.height)+"H-"+($+P1.width/2)+"V"+xt+B+"H-"+B+"Z")}else{var wt,Ft,Ot;"right"===t1.side?(wt="start",Ft=1,Ot="",j1=Ue._offset+Ue._length):(wt="end",Ft=-1,Ot="-",j1=Ue._offset),et=t1._offset+(Fe.y0+Fe.y1)/2,ut.attr("text-anchor",wt),Y1.attr("d","M0,0L"+Ot+B+","+B+"V"+($+P1.height/2)+"h"+Ot+(2*$+P1.width)+"V-"+($+P1.height/2)+"H"+Ot+B+"V-"+B+"Z");var Dt,G1=P1.height/2,K1=ve-P1.top-G1,tt="clip"+R._uid+"commonlabel"+t1._id;if(j1<P1.width+2*$+B){Dt="M-"+(B+$)+"-"+G1+"h-"+(P1.width-$)+"V"+G1+"h"+(P1.width-$)+"Z";var dt=P1.width-j1+$;h.positionText(ut,dt,K1),"end"===wt&&ut.selectAll("tspan").each(function(){var gt=o.select(this),Gt=_.tester.append("text").text(gt.text()).call(_.font,X1),Qt=re(X,Gt.node());Math.round(Qt.width)<Math.round(P1.width)&&gt.attr("x",dt-Qt.width),Gt.remove()})}else h.positionText(ut,Ft*($+B),K1),Dt=null;var ot=R._topclips.selectAll("#"+tt).data(Dt?[0]:[]);ot.enter().append("clipPath").attr("id",tt).append("path"),ot.exit().remove(),ot.select("path").attr("d",Dt),_.setClipUrl(ut,Dt?tt:null,X)}H1.attr("transform",c(j1,et))}),z.isUnifiedHover(ae)){pe.selectAll("g.hovertext").remove();var r1=F.filter(function(H1){return"none"!==H1.hoverinfo});if(0===r1.length)return;var f1=R.hoverlabel,Je=f1.font,b1={font:Je};D({showlegend:!0,legend:{title:{text:Ge,font:Je},font:Je,bgcolor:f1.bgcolor,bordercolor:f1.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:R.legend?R.legend.traceorder:void 0,orientation:"v"}},b1,X._fullData);var _1=b1.legend;_1.entries=[];for(var I1=0;I1<r1.length;I1++){var M1=r1[I1];if("none"!==M1.hoverinfo){var Be=te(M1,!0,ae,R,Ge),je=Be[0],C1=Be[1];M1.name=C1,M1.text=""!==C1?C1+" : "+je:je;var O1=M1.cd[M1.index];O1&&(O1.mc&&(M1.mc=O1.mc),O1.mcc&&(M1.mc=O1.mcc),O1.mlc&&(M1.mlc=O1.mlc),O1.mlcc&&(M1.mlc=O1.mlcc),O1.mlw&&(M1.mlw=O1.mlw),O1.mrc&&(M1.mrc=O1.mrc),O1.dir&&(M1.dir=O1.dir)),M1._distinct=!0,_1.entries.push([M1])}}_1.entries.sort(function(H1,Y1){return H1[0].trace.index-Y1[0].trace.index}),_1.layer=pe,_1._inHover=!0,_1._groupTitleFont=f1.grouptitlefont,S(X,_1);var Q1,st,$1,Z1,N1=pe.select("g.legend"),ge=re(X,N1.node()),ye=ge.width+2*$,We=ge.height+2*$,e1=r1[0],d1=(e1.x0+e1.x1)/2,a1=(e1.y0+e1.y1)/2,l1=!(N.traceIs(e1.trace,"bar-like")||N.traceIs(e1.trace,"box-violin"));"y"===Xe?l1?(st=a1-$,Q1=a1+$):(st=Math.min.apply(null,r1.map(function(H1){return Math.min(H1.y0,H1.y1)})),Q1=Math.max.apply(null,r1.map(function(H1){return Math.max(H1.y0,H1.y1)}))):st=Q1=l.mean(r1.map(function(H1){return(H1.y0+H1.y1)/2}))-We/2,"x"===Xe?l1?($1=d1+$,Z1=d1-$):($1=Math.max.apply(null,r1.map(function(H1){return Math.max(H1.x0,H1.x1)})),Z1=Math.min.apply(null,r1.map(function(H1){return Math.min(H1.x0,H1.x1)}))):$1=Z1=l.mean(r1.map(function(H1){return(H1.x0+H1.x1)/2}))-ye/2;var c1,w1,T1=Ue._offset,B1=t1._offset;return Z1+=T1-ye,st+=B1-We,c1=($1+=T1)+ye<De&&$1>=0?$1:Z1+ye<De&&Z1>=0?Z1:T1+ye<De?T1:$1-d1<d1-Z1+ye?De-ye:0,w1=(Q1+=B1)+We<Ve&&Q1>=0?Q1:st+We<Ve&&st>=0?st:B1+We<Ve?B1:Q1-a1<a1-st+We?Ve-We:0,N1.attr("transform",c((c1+=$)-1,(w1+=$)-1)),N1}var rt=pe.selectAll("g.hovertext").data(F,function(H1){return W(H1)});return rt.enter().append("g").classed("hovertext",!0).each(function(){var H1=o.select(this);H1.append("rect").call(b.fill,b.addOpacity(ue,.8)),H1.append("text").classed("name",!0),H1.append("path").style("stroke-width","1px"),H1.append("text").classed("nums",!0).call(_.font,Ae,ze)}),rt.exit().remove(),rt.each(function(H1){var Y1=o.select(this).attr("transform",""),ut=H1.color;Array.isArray(ut)&&(ut=ut[H1.eventData[0].pointNumber]);var k1=H1.bgcolor||ut,L1=b.combine(b.opacity(k1)?k1:b.defaultLine,ue),it=b.combine(b.opacity(ut)?ut:b.defaultLine,ue),X1=H1.borderColor||b.contrast(L1),j1=te(H1,qe,ae,R,Ge,Y1),et=j1[0],P1=j1[1],xt=Y1.select("text.nums").call(_.font,H1.fontFamily||Ae,H1.fontSize||ze,H1.fontColor||X1).text(et).attr("data-notex",1).call(h.positionText,0,0).call(h.convertToTspans,X),yt=Y1.select("text.name"),wt=0,Ft=0;if(P1&&P1!==et){yt.call(_.font,H1.fontFamily||Ae,H1.fontSize||ze,it).text(P1).attr("data-notex",1).call(h.positionText,0,0).call(h.convertToTspans,X);var Ot=re(X,yt.node());wt=Ot.width+2*$,Ft=Ot.height+2*$}else yt.remove(),Y1.select("rect").remove();Y1.select("path").style({fill:L1,stroke:X1});var Dt=H1.xa._offset+(H1.x0+H1.x1)/2,G1=H1.ya._offset+(H1.y0+H1.y1)/2,K1=Math.abs(H1.x1-H1.x0),tt=Math.abs(H1.y1-H1.y0),dt=re(X,xt.node()),ot=dt.width/R._invScaleX,gt=dt.height/R._invScaleY;H1.ty0=(ve-dt.top)/R._invScaleY,H1.bx=ot+2*$,H1.by=Math.max(gt+2*$,Ft),H1.anchor="start",H1.txwidth=ot,H1.tx2width=wt,H1.offset=0;var Gt,Qt,Vt=(ot+B+$+wt)*R._invScaleX;if(fe)H1.pos=Dt,Gt=G1+tt/2+Vt<=Ve,Qt=G1-tt/2-Vt>=0,"top"!==H1.idealAlign&&Gt||!Qt?Gt?(G1+=tt/2,H1.anchor="start"):H1.anchor="middle":(G1-=tt/2,H1.anchor="end");else if(H1.pos=G1,Gt=Dt+K1/2+Vt<=De,Qt=Dt-K1/2-Vt>=0,"left"!==H1.idealAlign&&Gt||!Qt)if(Gt)Dt+=K1/2,H1.anchor="start";else{H1.anchor="middle";var kt=Vt/2,f2=Dt+kt-De,p2=Dt-kt;f2>0&&(Dt-=f2),p2<0&&(Dt+=-p2)}else Dt-=K1/2,H1.anchor="end";xt.attr("text-anchor",H1.anchor),wt&&yt.attr("text-anchor",H1.anchor),Y1.attr("transform",c(Dt,G1)+(fe?C(P):""))}),rt}function te(F,O,X,R,ae,fe){var ue="",pe="";void 0!==F.nameOverride&&(F.name=F.nameOverride),F.name&&(F.trace._meta&&(F.name=l.templateString(F.name,F.trace._meta)),ue=le(F.name,F.nameLength));var xe=X.charAt(0);void 0!==F.zLabel?(void 0!==F.xLabel&&(pe+="x: "+F.xLabel+"<br>"),void 0!==F.yLabel&&(pe+="y: "+F.yLabel+"<br>"),"choropleth"!==F.trace.type&&"choroplethmapbox"!==F.trace.type&&(pe+=(pe?"z: ":"")+F.zLabel)):O&&F[xe+"Label"]===ae?pe=F[("x"===xe?"y":"x")+"Label"]||"":void 0===F.xLabel?void 0!==F.yLabel&&"scattercarpet"!==F.trace.type&&(pe=F.yLabel):pe=void 0===F.yLabel?F.xLabel:"("+F.xLabel+", "+F.yLabel+")",!F.text&&0!==F.text||Array.isArray(F.text)||(pe+=(pe?"<br>":"")+F.text),void 0!==F.extraText&&(pe+=(pe?"<br>":"")+F.extraText),fe&&""===pe&&!F.hovertemplate&&(""===ue&&fe.remove(),pe=ue);var Ae=F.hovertemplate||!1;if(Ae){var ze=F.hovertemplateLabels||F;F[xe+"Label"]!==ae&&(ze[xe+"other"]=ze[xe+"Val"],ze[xe+"otherLabel"]=ze[xe+"Label"]),pe=(pe=l.hovertemplateString(Ae,ze,R._d3locale,F.eventData[0]||{},F.trace._meta)).replace(q,function(Fe,Ue){return ue=le(Ue,F.nameLength),""})}return[pe,ue]}function ce(F,O,X,R){var ae=function(ue){return ue*X},fe=function(ue){return ue*R};F.each(function(ue){var pe=o.select(this);if(ue.del)return pe.remove();var xe=pe.select("text.nums"),Me=ue.anchor,Ae="end"===Me?-1:1,ze={start:1,end:-1,middle:0}[Me],Fe=ze*(B+$),Ue=Fe+ze*(ue.txwidth+$),t1=0,Xe=ue.offset,Ge="middle"===Me;Ge&&(Fe-=ue.tx2width/2,Ue+=ue.txwidth/2+$),O&&(Xe*=-L,t1=ue.offset*I),pe.select("path").attr("d",Ge?"M-"+ae(ue.bx/2+ue.tx2width/2)+","+fe(Xe-ue.by/2)+"h"+ae(ue.bx)+"v"+fe(ue.by)+"h-"+ae(ue.bx)+"Z":"M0,0L"+ae(Ae*B+t1)+","+fe(B+Xe)+"v"+fe(ue.by/2-B)+"h"+ae(Ae*ue.bx)+"v-"+fe(ue.by)+"H"+ae(Ae*B+t1)+"V"+fe(Xe-B)+"Z");var we=t1+Fe,ve=Xe+ue.ty0-ue.by/2+$,De=ue.textAlign||"auto";"auto"!==De&&("left"===De&&"start"!==Me?(xe.attr("text-anchor","start"),we=Ge?-ue.bx/2-ue.tx2width/2+$:-ue.bx-$):"right"===De&&"end"!==Me&&(xe.attr("text-anchor","end"),we=Ge?ue.bx/2-ue.tx2width/2-$:ue.bx+$)),xe.call(h.positionText,ae(we),fe(ve)),ue.tx2width&&(pe.select("text.name").call(h.positionText,ae(Ue+ze*$+t1),fe(Xe+ue.ty0-ue.by/2+$)),pe.select("rect").call(_.setRect,ae(Ue+(ze-1)*ue.tx2width/2+t1),fe(Xe-ue.by/2-1),ae(ue.tx2width),fe(ue.by+2)))})}function me(F,O){var X=F.index,R=F.trace||{},ae=F.cd[0],fe=F.cd[X]||{};function ue(Fe){return Fe||g(Fe)&&0===Fe}var pe=Array.isArray(X)?function(Fe,Ue){var t1=l.castOption(ae,X,Fe);return ue(t1)?t1:l.extractOption({},R,"",Ue)}:function(Fe,Ue){return l.extractOption(fe,R,Fe,Ue)};function xe(Fe,Ue,t1){var Xe=pe(Ue,t1);ue(Xe)&&(F[Fe]=Xe)}if(xe("hoverinfo","hi","hoverinfo"),xe("bgcolor","hbg","hoverlabel.bgcolor"),xe("borderColor","hbc","hoverlabel.bordercolor"),xe("fontFamily","htf","hoverlabel.font.family"),xe("fontSize","hts","hoverlabel.font.size"),xe("fontColor","htc","hoverlabel.font.color"),xe("nameLength","hnl","hoverlabel.namelength"),xe("textAlign","hta","hoverlabel.align"),F.posref="y"===O||"closest"===O&&"h"===R.orientation?F.xa._offset+(F.x0+F.x1)/2:F.ya._offset+(F.y0+F.y1)/2,F.x0=l.constrain(F.x0,0,F.xa._length),F.x1=l.constrain(F.x1,0,F.xa._length),F.y0=l.constrain(F.y0,0,F.ya._length),F.y1=l.constrain(F.y1,0,F.ya._length),void 0!==F.xLabelVal&&(F.xLabel="xLabel"in F?F.xLabel:w.hoverLabelText(F.xa,F.xLabelVal,R.xhoverformat),F.xVal=F.xa.c2d(F.xLabelVal)),void 0!==F.yLabelVal&&(F.yLabel="yLabel"in F?F.yLabel:w.hoverLabelText(F.ya,F.yLabelVal,R.yhoverformat),F.yVal=F.ya.c2d(F.yLabelVal)),void 0!==F.zLabelVal&&void 0===F.zLabel&&(F.zLabel=String(F.zLabelVal)),!(isNaN(F.xerr)||"log"===F.xa.type&&F.xerr<=0)){var Me=w.tickText(F.xa,F.xa.c2l(F.xerr),"hover").text;F.xLabel+=void 0!==F.xerrneg?" +"+Me+" / -"+w.tickText(F.xa,F.xa.c2l(F.xerrneg),"hover").text:" \xb1 "+Me,"x"===O&&(F.distance+=1)}if(!(isNaN(F.yerr)||"log"===F.ya.type&&F.yerr<=0)){var Ae=w.tickText(F.ya,F.ya.c2l(F.yerr),"hover").text;F.yLabel+=void 0!==F.yerrneg?" +"+Ae+" / -"+w.tickText(F.ya,F.ya.c2l(F.yerrneg),"hover").text:" \xb1 "+Ae,"y"===O&&(F.distance+=1)}var ze=F.hoverinfo||F.trace.hoverinfo;return ze&&"all"!==ze&&(-1===(ze=Array.isArray(ze)?ze:ze.split("+")).indexOf("x")&&(F.xLabel=void 0),-1===ze.indexOf("y")&&(F.yLabel=void 0),-1===ze.indexOf("z")&&(F.zLabel=void 0),-1===ze.indexOf("text")&&(F.text=void 0),-1===ze.indexOf("name")&&(F.name=void 0)),F}function ie(F,O,X){var R,ae,fe=X.container,ue=X.fullLayout,pe=ue._size,xe=X.event,Me=!!O.hLinePoint,Ae=!!O.vLinePoint;if(fe.selectAll(".spikeline").remove(),Ae||Me){var ze=b.combine(ue.plot_bgcolor,ue.paper_bgcolor);if(Me){var Fe,Ue,t1=O.hLinePoint;R=t1&&t1.xa,"cursor"===(ae=t1&&t1.ya).spikesnap?(Fe=xe.pointerX,Ue=xe.pointerY):(Fe=R._offset+t1.x,Ue=ae._offset+t1.y);var Xe,Ge,we=p.readability(t1.color,ze)<1.5?b.contrast(ze):t1.color,ve=ae.spikemode,De=ae.spikethickness,Ve=ae.spikecolor||we,qe=w.getPxPosition(F,ae);if(-1!==ve.indexOf("toaxis")||-1!==ve.indexOf("across")){if(-1!==ve.indexOf("toaxis")&&(Xe=qe,Ge=Fe),-1!==ve.indexOf("across")){var Ie=ae._counterDomainMin,Re=ae._counterDomainMax;"free"===ae.anchor&&(Ie=Math.min(Ie,ae.position),Re=Math.max(Re,ae.position)),Xe=pe.l+Ie*pe.w,Ge=pe.l+Re*pe.w}fe.insert("line",":first-child").attr({x1:Xe,x2:Ge,y1:Ue,y2:Ue,"stroke-width":De,stroke:Ve,"stroke-dasharray":_.dashStyle(ae.spikedash,De)}).classed("spikeline",!0).classed("crisp",!0),fe.insert("line",":first-child").attr({x1:Xe,x2:Ge,y1:Ue,y2:Ue,"stroke-width":De+2,stroke:ze}).classed("spikeline",!0).classed("crisp",!0)}-1!==ve.indexOf("marker")&&fe.insert("circle",":first-child").attr({cx:qe+("right"!==ae.side?De:-De),cy:Ue,r:De,fill:Ve}).classed("spikeline",!0)}if(Ae){var Qe,n1,Ye=O.vLinePoint;ae=Ye&&Ye.ya,"cursor"===(R=Ye&&Ye.xa).spikesnap?(Qe=xe.pointerX,n1=xe.pointerY):(Qe=R._offset+Ye.x,n1=ae._offset+Ye.y);var r1,f1,Je=p.readability(Ye.color,ze)<1.5?b.contrast(ze):Ye.color,g1=R.spikemode,b1=R.spikethickness,_1=R.spikecolor||Je,I1=w.getPxPosition(F,R);if(-1!==g1.indexOf("toaxis")||-1!==g1.indexOf("across")){if(-1!==g1.indexOf("toaxis")&&(r1=I1,f1=n1),-1!==g1.indexOf("across")){var M1=R._counterDomainMin,Be=R._counterDomainMax;"free"===R.anchor&&(M1=Math.min(M1,R.position),Be=Math.max(Be,R.position)),r1=pe.t+(1-Be)*pe.h,f1=pe.t+(1-M1)*pe.h}fe.insert("line",":first-child").attr({x1:Qe,x2:Qe,y1:r1,y2:f1,"stroke-width":b1,stroke:_1,"stroke-dasharray":_.dashStyle(R.spikedash,b1)}).classed("spikeline",!0).classed("crisp",!0),fe.insert("line",":first-child").attr({x1:Qe,x2:Qe,y1:r1,y2:f1,"stroke-width":b1+2,stroke:ze}).classed("spikeline",!0).classed("crisp",!0)}-1!==g1.indexOf("marker")&&fe.insert("circle",":first-child").attr({cx:Qe,cy:I1-("top"!==R.side?b1:-b1),r:b1,fill:_1}).classed("spikeline",!0)}}}function K(F,O){return!O||O.vLinePoint!==F._spikepoints.vLinePoint||O.hLinePoint!==F._spikepoints.hLinePoint}function le(F,O){return h.plainText(F||"",{len:O,allowedTags:["br","sub","sup","b","i","em"]})}function G(F,O,X){var R=O[F+"a"],ae=O[F+"Val"],fe=O.cd[0];if("category"===R.type)ae=R._categoriesMap[ae];else if("date"===R.type){var ue=O.trace[F+"periodalignment"];if(ue){var pe=O.cd[O.index],xe=pe[F+"Start"];void 0===xe&&(xe=pe[F]);var Me=pe[F+"End"];void 0===Me&&(Me=pe[F]);var Ae=Me-xe;"end"===ue?ae+=Ae:"middle"===ue&&(ae+=Ae/2)}ae=R.d2c(ae)}return fe&&fe.t&&fe.t.posLetter===R._id&&("group"!==X.boxmode&&"group"!==X.violinmode||(ae+=fe.t.dPos)),ae}function j(F){return F.offsetTop+F.clientTop}function oe(F){return F.offsetLeft+F.clientLeft}function re(F,O){var X=F._fullLayout,R=O.getBoundingClientRect(),ae=R.x,fe=R.y,ue=ae+R.width,pe=fe+R.height,xe=l.apply3DTransform(X._invTransform)(ae,fe),Me=l.apply3DTransform(X._invTransform)(ue,pe),Ae=xe[0],ze=xe[1],Fe=Me[0],Ue=Me[1];return{x:Ae,y:ze,width:Fe-Ae,height:Ue-ze,top:Math.min(ze,Ue),left:Math.min(Ae,Fe),right:Math.max(Ae,Fe),bottom:Math.max(ze,Ue)}}},{"../../lib":232,"../../lib/events":225,"../../lib/override_cursor":243,"../../lib/svg_text_utils":255,"../../plots/cartesian/axes":279,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"../legend/defaults":154,"../legend/draw":155,"./constants":136,"./helpers":138,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:67}],140:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("../color"),p=m("./helpers").isUnifiedHover;de.exports=function(l,c,C,d){d=d||{};var h=c.legend;function u(_){d.font[_]||(d.font[_]=h?c.legend.font[_]:c.font[_])}c&&p(c.hovermode)&&(d.font||(d.font={}),u("size"),u("family"),u("color"),h?(d.bgcolor||(d.bgcolor=g.combine(c.legend.bgcolor,c.paper_bgcolor)),d.bordercolor||(d.bordercolor=c.legend.bordercolor)):d.bgcolor||(d.bgcolor=c.paper_bgcolor)),C("hoverlabel.bgcolor",d.bgcolor),C("hoverlabel.bordercolor",d.bordercolor),C("hoverlabel.namelength",d.namelength),o.coerceFont(C,"hoverlabel.font",d.font),C("hoverlabel.align",d.align)}},{"../../lib":232,"../color":102,"./helpers":138}],141:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("./layout_attributes");de.exports=function(p,l){function c(C,d){return void 0!==l[C]?l[C]:o.coerce(p,l,g,C,d)}return c("clickmode"),c("hovermode")}},{"../../lib":232,"./layout_attributes":143}],142:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("../../lib"),p=m("../dragelement"),l=m("./helpers"),c=m("./layout_attributes"),C=m("./hover");de.exports={moduleType:"component",name:"fx",constants:m("./constants"),schema:{layout:c},attributes:m("./attributes"),layoutAttributes:c,supplyLayoutGlobalDefaults:m("./layout_global_defaults"),supplyDefaults:m("./defaults"),supplyLayoutDefaults:m("./layout_defaults"),calc:m("./calc"),getDistanceFunction:l.getDistanceFunction,getClosest:l.getClosest,inbox:l.inbox,quadrature:l.quadrature,appendArrayPointValue:l.appendArrayPointValue,castHoverOption:function(d,h,u){return g.castOption(d,h,"hoverlabel."+u)},castHoverinfo:function(d,h,u){return g.castOption(d,u,"hoverinfo",function(_){return g.coerceHoverinfo({hoverinfo:_},{_module:d._module},h)})},hover:C.hover,unhover:p.unhover,loneHover:C.loneHover,loneUnhover:function(d){var h=g.isD3Selection(d)?d:o.select(d);h.selectAll("g.hovertext").remove(),h.selectAll(".spikeline").remove()},click:m("./click")}},{"../../lib":232,"../dragelement":121,"./attributes":133,"./calc":134,"./click":135,"./constants":136,"./defaults":137,"./helpers":138,"./hover":139,"./layout_attributes":143,"./layout_defaults":144,"./layout_global_defaults":145,"@plotly/d3":11}],143:[function(m,de,ne){"use strict";var o=m("./constants"),g=m("../../plots/font_attributes"),p=g({editType:"none"});p.family.dflt=o.HOVERFONT,p.size.dflt=o.HOVERFONTSIZE,de.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:p,grouptitlefont:g({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},{"../../plots/font_attributes":310,"./constants":136}],144:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("./layout_attributes"),p=m("./hovermode_defaults"),l=m("./hoverlabel_defaults");de.exports=function(c,C){function d(b,M){return o.coerce(c,C,g,b,M)}p(c,C)&&(d("hoverdistance"),d("spikedistance")),"select"===d("dragmode")&&d("selectdirection");var h=C._has("mapbox"),u=C._has("geo"),_=C._basePlotModules.length;"zoom"===C.dragmode&&((h||u)&&1===_||h&&u&&2===_)&&(C.dragmode="pan"),l(c,C,d),o.coerceFont(d,"hoverlabel.grouptitlefont",C.hoverlabel.font)}},{"../../lib":232,"./hoverlabel_defaults":140,"./hovermode_defaults":141,"./layout_attributes":143}],145:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("./hoverlabel_defaults"),p=m("./layout_attributes");de.exports=function(l,c){g(l,c,function(C,d){return o.coerce(l,c,p,C,d)})}},{"../../lib":232,"./hoverlabel_defaults":140,"./layout_attributes":143}],146:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("../../lib/regex").counter,p=m("../../plots/domain").attributes,l=m("../../plots/cartesian/constants").idRegex,c=m("../../plot_api/plot_template"),C={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[g("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[l.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[l.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:p({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function d(_,b,M){var w=b[M+"axes"],N=Object.keys((_._splomAxes||{})[M]||{});return Array.isArray(w)?w:N.length?N:void 0}function h(_,b,M,w,N,z){var k=b(_+"gap",M),D=b("domain."+_);b(_+"side",w);for(var S=new Array(N),P=D[0],V=(D[1]-P)/(N-k),E=V*(1-k),I=0;I<N;I++){var L=P+V*I;S[z?N-1-I:I]=[L,L+E]}return S}function u(_,b,M,w,N){var z,k=new Array(M);function D(S,P){-1!==b.indexOf(P)&&void 0===w[P]?(k[S]=P,w[P]=S):k[S]=""}if(Array.isArray(_))for(z=0;z<M;z++)D(z,_[z]);else for(D(0,N),z=1;z<M;z++)D(z,N+(z+1));return k}de.exports={moduleType:"component",name:"grid",schema:{layout:{grid:C}},layoutAttributes:C,sizeDefaults:function(_,b){var M=_.grid||{},w=d(b,M,"x"),N=d(b,M,"y");if(_.grid||w||N){var z,k,D=Array.isArray(M.subplots)&&Array.isArray(M.subplots[0]),S=Array.isArray(w),P=Array.isArray(N),V=S&&w!==M.xaxes&&P&&N!==M.yaxes;D?(z=M.subplots.length,k=M.subplots[0].length):(P&&(z=N.length),S&&(k=w.length));var E=c.newContainer(b,"grid"),I=q("rows",z),L=q("columns",k);if(I*L>1){!D&&!S&&!P&&"independent"===q("pattern")&&(D=!0),E._hasSubplotGrid=D;var B,$,T="top to bottom"===q("roworder"),W=D?.3:.1;V&&b._splomGridDflt&&(B=b._splomGridDflt.xside,$=b._splomGridDflt.yside),E._domains={x:h("x",q,D?.2:.1,B,L),y:h("y",q,W,$,I,T)}}else delete b.grid}function q(Q,te){return o.coerce(M,E,C,Q,te)}},contentDefaults:function(_,b){var M=b.grid;if(M&&M._domains){var w,N,z,k,D,S,P,V=_.grid||{},E=b._subplots,I=M._hasSubplotGrid,L=M.rows,B=M.columns,$="independent"===M.pattern,T=M._axisMap={};if(I){var Y=V.subplots||[];S=M.subplots=new Array(L);var W=1;for(w=0;w<L;w++){var q=S[w]=new Array(B),Q=Y[w]||[];for(N=0;N<B;N++)if($?(D=1===W?"xy":"x"+W+"y"+W,W++):D=Q[N],q[N]="",-1!==E.cartesian.indexOf(D)){if(P=D.indexOf("y"),z=D.slice(0,P),k=D.slice(P),void 0!==T[z]&&T[z]!==N||void 0!==T[k]&&T[k]!==w)continue;q[N]=D,T[z]=N,T[k]=w}}}else{var te=d(b,V,"x"),ce=d(b,V,"y");M.xaxes=u(te,E.xaxis,B,T,"x"),M.yaxes=u(ce,E.yaxis,L,T,"y")}var me=M._anchors={},ie="top to bottom"===M.roworder;for(var K in T){var le,G,j,oe=K.charAt(0),re=M[oe+"side"];if(re.length<8)me[K]="free";else if("x"===oe){if("t"===re.charAt(0)===ie?(le=0,G=1,j=L):(le=L-1,G=-1,j=-1),I){var F=T[K];for(w=le;w!==j;w+=G)if((D=S[w][F])&&(P=D.indexOf("y"),D.slice(0,P)===K)){me[K]=D.slice(P);break}}else for(w=le;w!==j;w+=G)if(-1!==E.cartesian.indexOf(K+(k=M.yaxes[w]))){me[K]=k;break}}else if("l"===re.charAt(0)?(le=0,G=1,j=B):(le=B-1,G=-1,j=-1),I){var O=T[K];for(w=le;w!==j;w+=G)if((D=S[O][w])&&(P=D.indexOf("y"),D.slice(P)===K)){me[K]=D.slice(0,P);break}}else for(w=le;w!==j;w+=G)if(-1!==E.cartesian.indexOf((z=M.xaxes[w])+K)){me[K]=z;break}}}}}},{"../../lib":232,"../../lib/regex":248,"../../plot_api/plot_template":268,"../../plots/cartesian/constants":286,"../../plots/domain":309}],147:[function(m,de,ne){"use strict";var o=m("../../plots/cartesian/constants"),g=m("../../plot_api/plot_template").templatedArray;m("../../constants/axis_placeable_objects"),de.exports=g("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",o.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",o.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":208,"../../plot_api/plot_template":268,"../../plots/cartesian/constants":286}],148:[function(m,de,ne){"use strict";var o=m("fast-isnumeric"),g=m("../../lib/to_log_range");de.exports=function(p,l,c,C){l=l||{};var d="log"===c&&"linear"===l.type;if(d||"linear"===c&&"log"===l.type)for(var u,_,b=p._fullLayout.images,M=l._id.charAt(0),w=0;w<b.length;w++)if(_="images["+w+"].",(u=b[w])[M+"ref"]===l._id){var N=u[M],z=u["size"+M],k=null,D=null;if(d){k=g(N,l.range);var S=z/Math.pow(10,k)/2;D=2*Math.log(S+Math.sqrt(1+S*S))/Math.LN10}else D=(k=Math.pow(10,N))*(Math.pow(10,z/2)-Math.pow(10,-z/2));o(k)?o(D)||(D=null):(k=null,D=null),C(_+M,k),C(_+"size"+M,D)}}},{"../../lib/to_log_range":257,"fast-isnumeric":17}],149:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("../../plots/cartesian/axes"),p=m("../../plots/array_container_defaults"),l=m("./attributes");function c(C,d,h){function u(k,D){return o.coerce(C,d,l,k,D)}var _=u("source");if(!u("visible",!!_))return d;u("layer"),u("xanchor"),u("yanchor"),u("sizex"),u("sizey"),u("sizing"),u("opacity");for(var b={_fullLayout:h},M=["x","y"],w=0;w<2;w++){var N=M[w],z=g.coerceRef(C,d,b,N,"paper",void 0);"paper"!==z&&g.getFromId(b,z)._imgIndices.push(d._index),g.coercePosition(d,b,u,z,N,0)}return d}de.exports=function(C,d){p(C,d,{name:"images",handleItemDefaults:c})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"./attributes":147}],150:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("../drawing"),p=m("../../plots/cartesian/axes"),l=m("../../plots/cartesian/axis_ids"),c=m("../../constants/xmlns_namespaces");de.exports=function(C){var d,h,u=C._fullLayout,_=[],b={},M=[];for(h=0;h<u.images.length;h++){var w=u.images[h];if(w.visible)if("below"===w.layer&&"paper"!==w.xref&&"paper"!==w.yref){d=l.ref2id(w.xref)+l.ref2id(w.yref);var N=u._plots[d];if(!N){M.push(w);continue}N.mainplot&&(d=N.mainplot.id),b[d]||(b[d]=[]),b[d].push(w)}else"above"===w.layer?_.push(w):M.push(w)}var z={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},k={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function D(B){var $=o.select(this);if(this._imgSrc!==B.source)if($.attr("xmlns",c.svg),B.source&&"data:"===B.source.slice(0,5))$.attr("xlink:href",B.source),this._imgSrc=B.source;else{var T=new Promise(function(Y){var W=new Image;function q(){$.remove(),Y()}this.img=W,W.setAttribute("crossOrigin","anonymous"),W.onerror=q,W.onload=function(){var Q=document.createElement("canvas");Q.width=this.width,Q.height=this.height,Q.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var te=Q.toDataURL("image/png");$.attr("xlink:href",te),Y()},$.on("error",q),W.src=B.source,this._imgSrc=B.source}.bind(this));C._promises.push(T)}}function S(B){var $,T,Y=o.select(this),W=p.getFromId(C,B.xref),q=p.getFromId(C,B.yref),Q="domain"===p.getRefType(B.xref),te="domain"===p.getRefType(B.yref),ce=u._size;$=void 0!==W?"string"==typeof B.xref&&Q?W._length*B.sizex:Math.abs(W.l2p(B.sizex)-W.l2p(0)):B.sizex*ce.w,T=void 0!==q?"string"==typeof B.yref&&te?q._length*B.sizey:Math.abs(q.l2p(B.sizey)-q.l2p(0)):B.sizey*ce.h;var me,ie,K=$*z[B.xanchor].offset,le=T*k[B.yanchor].offset,G=z[B.xanchor].sizing+k[B.yanchor].sizing;switch(me=void 0!==W?"string"==typeof B.xref&&Q?W._length*B.x+W._offset:W.r2p(B.x)+W._offset:B.x*ce.w+ce.l,me+=K,ie=void 0!==q?"string"==typeof B.yref&&te?q._length*(1-B.y)+q._offset:q.r2p(B.y)+q._offset:ce.h-B.y*ce.h+ce.t,ie+=le,B.sizing){case"fill":G+=" slice";break;case"stretch":G="none"}Y.attr({x:me,y:ie,width:$,height:T,preserveAspectRatio:G,opacity:B.opacity});var j=(W&&"domain"!==p.getRefType(B.xref)?W._id:"")+(q&&"domain"!==p.getRefType(B.yref)?q._id:"");g.setClipUrl(Y,j?"clip"+u._uid+j:null,C)}var P=u._imageLowerLayer.selectAll("image").data(M),V=u._imageUpperLayer.selectAll("image").data(_);P.enter().append("image"),V.enter().append("image"),P.exit().remove(),V.exit().remove(),P.each(function(B){D.bind(this)(B),S.bind(this)(B)}),V.each(function(B){D.bind(this)(B),S.bind(this)(B)});var E=Object.keys(u._plots);for(h=0;h<E.length;h++){var I=u._plots[d=E[h]];if(I.imagelayer){var L=I.imagelayer.selectAll("image").data(b[d]||[]);L.enter().append("image"),L.exit().remove(),L.each(function(B){D.bind(this)(B),S.bind(this)(B)})}}}},{"../../constants/xmlns_namespaces":213,"../../plots/cartesian/axes":279,"../../plots/cartesian/axis_ids":283,"../drawing":124,"@plotly/d3":11}],151:[function(m,de,ne){"use strict";de.exports={moduleType:"component",name:"images",layoutAttributes:m("./attributes"),supplyLayoutDefaults:m("./defaults"),includeBasePlot:m("../../plots/cartesian/include_components")("images"),draw:m("./draw"),convertCoords:m("./convert_coords")}},{"../../plots/cartesian/include_components":292,"./attributes":147,"./convert_coords":148,"./defaults":149,"./draw":150}],152:[function(m,de,ne){"use strict";var o=m("../../plots/font_attributes"),g=m("../color/attributes");de.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:g.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:o({editType:"legend"}),grouptitlefont:o({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:o({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},{"../../plots/font_attributes":310,"../color/attributes":101}],153:[function(m,de,ne){"use strict";de.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},{}],154:[function(m,de,ne){"use strict";var o=m("../../registry"),g=m("../../lib"),p=m("../../plot_api/plot_template"),l=m("../../plots/attributes"),c=m("./attributes"),C=m("../../plots/layout_attributes"),d=m("./helpers");de.exports=function(h,u,_){var b,M=h.legend||{},w=p.newContainer(u,"legend");function N(q,Q){return g.coerce(M,w,c,q,Q)}for(var z=function(q,Q){return g.coerce(b._input,b,l,q,Q)},k=u.font||{},D=g.coerceFont(N,"grouptitlefont",g.extendFlat({},k,{size:Math.round(1.1*k.size)})),S=0,P=!1,V="normal",E=0;E<_.length;E++)(b=_[E]).visible&&((b.showlegend||b._dfltShowLegend&&!(b._module&&b._module.attributes&&b._module.attributes.showlegend&&!1===b._module.attributes.showlegend.dflt))&&(S++,b.showlegend&&(P=!0,(o.traceIs(b,"pie-like")||!0===b._input.showlegend)&&S++),g.coerceFont(z,"legendgrouptitle.font",D)),(o.traceIs(b,"bar")&&"stack"===u.barmode||-1!==["tonextx","tonexty"].indexOf(b.fill))&&(V=d.isGrouped({traceorder:V})?"grouped+reversed":"reversed"),void 0!==b.legendgroup&&""!==b.legendgroup&&(V=d.isReversed({traceorder:V})?"reversed+grouped":"grouped"));var I=g.coerce(h,u,C,"showlegend",P&&S>1);if(!1===I&&(u.legend=void 0),(!1!==I||M.uirevision)&&(N("uirevision",u.uirevision),!1!==I)){N("bgcolor",u.paper_bgcolor),N("bordercolor"),N("borderwidth");var L,B,$,T=g.coerceFont(N,"font",u.font),Y="h"===N("orientation");if(Y?(L=0,o.getComponentMethod("rangeslider","isVisible")(h.xaxis)?(B=1.1,$="bottom"):(B=-.1,$="top")):(L=1.02,B=1,$="auto"),N("traceorder",V),d.isGrouped(u.legend)&&N("tracegroupgap"),N("itemsizing"),N("itemwidth"),N("itemclick"),N("itemdoubleclick"),N("groupclick"),N("x",L),N("xanchor"),N("y",B),N("yanchor",$),N("valign"),g.noneOrAll(M,w,["x","y"]),N("title.text")){N("title.side",Y?"left":"top");var W=g.extendFlat({},T,{size:g.bigFont(T.size)});g.coerceFont(N,"title.font",W)}}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/attributes":275,"../../plots/layout_attributes":314,"../../registry":318,"./attributes":152,"./helpers":158}],155:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("../../lib"),p=m("../../plots/plots"),l=m("../../registry"),c=m("../../lib/events"),C=m("../dragelement"),d=m("../drawing"),h=m("../color"),u=m("../../lib/svg_text_utils"),_=m("./handle_click"),b=m("./constants"),M=m("../../constants/alignment"),w=M.LINE_SPACING,N=M.FROM_TL,z=M.FROM_BR,k=m("./get_legend_data"),D=m("./style"),S=m("./helpers");function P(T,Y,W,q,Q){var te=W.data()[0][0].trace,ce={event:Q,node:W.node(),curveNumber:te.index,expandedIndex:te._expandedIndex,data:T.data,layout:T.layout,frames:T._transitionData._frames,config:T._context,fullData:T._fullData,fullLayout:T._fullLayout};te._group&&(ce.group=te._group),l.traceIs(te,"pie-like")&&(ce.label=W.datum()[0].label),!1!==c.triggerHandler(T,"plotly_legendclick",ce)&&(1===q?Y._clickTimeout=setTimeout(function(){T._fullLayout&&_(W,T,q)},T._context.doubleClickDelay):2===q&&(Y._clickTimeout&&clearTimeout(Y._clickTimeout),T._legendMouseDownTime=0,!1!==c.triggerHandler(T,"plotly_legenddoubleclick",ce)&&_(W,T,q)))}function V(T,Y,W){var q,Q,te=T.data()[0][0],ce=te.trace,me=l.traceIs(ce,"pie-like"),ie=!W._inHover&&Y._context.edits.legendText&&!me,K=W._maxNameLength;te.groupTitle?(q=te.groupTitle.text,Q=te.groupTitle.font):(Q=W.font,W.entries?q=te.text:(q=me?te.label:ce.name,ce._meta&&(q=g.templateString(q,ce._meta))));var le=g.ensureSingle(T,"text","legendtext");le.attr("text-anchor","start").call(d.font,Q).text(ie?E(q,K):q),u.positionText(le,W.itemwidth+2*b.itemGap,0),ie?le.call(u.makeEditable,{gd:Y,text:q}).call(L,T,Y,W).on("edit",function(j){this.text(E(j,K)).call(L,T,Y,W);var oe=te.trace._fullInput||{},re={};if(l.hasTransform(oe,"groupby")){var F=l.getTransformIndices(oe,"groupby"),X=g.keyedContainer(oe,"transforms["+F[F.length-1]+"].styles","target","value.name");X.set(te.trace._group,j),re=X.constructUpdate()}else re.name=j;return l.call("_guiRestyle",Y,re,ce.index)}):L(le,T,Y,W)}function E(T,Y){var W=Math.max(4,Y);if(T&&T.trim().length>=W/2)return T;for(var q=W-(T=T||"").length;q>0;q--)T+=" ";return T}function I(T,Y){var W,q=Y._context.doubleClickDelay,Q=1,te=g.ensureSingle(T,"rect","legendtoggle",function(ce){Y._context.staticPlot||ce.style("cursor","pointer").attr("pointer-events","all"),ce.call(h.fill,"rgba(0,0,0,0)")});Y._context.staticPlot||(te.on("mousedown",function(){(W=(new Date).getTime())-Y._legendMouseDownTime<q?Q+=1:(Q=1,Y._legendMouseDownTime=W)}),te.on("mouseup",function(){if(!Y._dragged&&!Y._editing){var ce=Y._fullLayout.legend;(new Date).getTime()-Y._legendMouseDownTime>q&&(Q=Math.max(Q-1,1)),P(Y,ce,T,Q,o.event)}}))}function L(T,Y,W,q,Q){q._inHover&&T.attr("data-notex",!0),u.convertToTspans(T,W,function(){!function(te,ce,me,ie){var K=te.data()[0][0];if(me._inHover||!K||K.trace.showlegend){var le=te.select("g[class*=math-group]"),G=le.node();me||(me=ce._fullLayout.legend);var re,F,oe=me.borderwidth,O=(1===ie?me.title.font:K.groupTitle?K.groupTitle.font:me.font).size*w;if(G){var X=d.bBox(G);re=X.height,F=X.width,1===ie?d.setTranslate(le,oe,oe+.75*re):d.setTranslate(le,0,.25*re)}else{var R=te.select(1===ie?".legendtitletext":".legendtext"),ae=u.lineCount(R),fe=R.node();if(re=O*ae,F=fe?d.bBox(fe).width:0,1===ie)"left"===me.title.side&&(F+=2*b.itemGap),u.positionText(R,oe+b.titlePad,oe+O);else{var ue=2*b.itemGap+me.itemwidth;K.groupTitle&&(ue=b.itemGap,F-=me.itemwidth),u.positionText(R,ue,-O*((ae-1)/2-.3))}}1===ie?(me._titleWidth=F,me._titleHeight=re):(K.lineHeight=O,K.height=Math.max(re,16)+3,K.width=F)}else te.remove()}(Y,W,q,Q)})}function B(T){return g.isRightAnchor(T)?"right":g.isCenterAnchor(T)?"center":"left"}function $(T){return g.isBottomAnchor(T)?"bottom":g.isMiddleAnchor(T)?"middle":"top"}de.exports=function(T,Y){return Y||(Y=T._fullLayout.legend||{}),function(W,q){var Q,te,ce=W._fullLayout,me="legend"+ce._uid,ie=q._inHover;if(ie?(Q=q.layer,me+="-hover"):Q=ce._infolayer,Q){if(W._legendMouseDownTime||(W._legendMouseDownTime=0),ie){if(!q.entries)return;te=k(q.entries,q)}else{if(!W.calcdata)return;te=ce.showlegend&&k(W.calcdata,q)}var K=ce.hiddenlabels||[];if(!(ie||ce.showlegend&&te.length))return Q.selectAll(".legend").remove(),ce._topdefs.select("#"+me).remove(),p.autoMargin(W,"legend");var le=g.ensureSingle(Q,"g","legend",function(ae){ie||ae.attr("pointer-events","all")}),G=g.ensureSingleById(ce._topdefs,"clipPath",me,function(ae){ae.append("rect")}),j=g.ensureSingle(le,"rect","bg",function(ae){ae.attr("shape-rendering","crispEdges")});j.call(h.stroke,q.bordercolor).call(h.fill,q.bgcolor).style("stroke-width",q.borderwidth+"px");var oe=g.ensureSingle(le,"g","scrollbox"),re=q.title;if(q._titleWidth=0,q._titleHeight=0,re.text){var F=g.ensureSingle(oe,"text","legendtitletext");F.attr("text-anchor","start").call(d.font,re.font).text(re.text),L(F,oe,W,q,1)}else oe.selectAll(".legendtitletext").remove();var O=g.ensureSingle(le,"rect","scrollbar",function(ae){ae.attr(b.scrollBarEnterAttrs).call(h.fill,b.scrollBarColor)}),X=oe.selectAll("g.groups").data(te);X.enter().append("g").attr("class","groups"),X.exit().remove();var R=X.selectAll("g.traces").data(g.identity);R.enter().append("g").attr("class","traces"),R.exit().remove(),R.style("opacity",function(ae){var fe=ae[0].trace;return l.traceIs(fe,"pie-like")?-1!==K.indexOf(ae[0].label)?.5:1:"legendonly"===fe.visible?.5:1}).each(function(){o.select(this).call(V,W,q)}).call(D,W,q).each(function(){ie||o.select(this).call(I,W)}),g.syncOrAsync([p.previousPromises,function(){return function(ae,fe,ue,pe){var xe=ae._fullLayout;pe||(pe=xe.legend);var Me=xe._size,Ae=S.isVertical(pe),ze=S.isGrouped(pe),Fe=pe.borderwidth,Ue=2*Fe,t1=b.itemGap,Xe=pe.itemwidth+2*t1,Ge=2*(Fe+t1),we=$(pe),ve=pe.y<0||0===pe.y&&"top"===we,De=pe.y>1||1===pe.y&&"bottom"===we,Ve=pe.tracegroupgap;pe._maxHeight=Math.max(ve||De?xe.height/2:Me.h,30);var qe=0;pe._width=0,pe._height=0;var Z1,N1,ge,ye,Ie=(N1=0,ge=0,(ye=(Z1=pe).title.side)&&(-1!==ye.indexOf("left")&&(N1=Z1._titleWidth),-1!==ye.indexOf("top")&&(ge=Z1._titleHeight)),[N1,ge]);if(Ae)ue.each(function(Z1){var N1=Z1[0].height;d.setTranslate(this,Fe+Ie[0],Fe+Ie[1]+pe._height+N1/2+t1),pe._height+=N1,pe._width=Math.max(pe._width,Z1[0].width)}),qe=Xe+pe._width,pe._width+=t1+Xe+Ue,pe._height+=Ge,ze&&(fe.each(function(Z1,N1){d.setTranslate(this,0,N1*pe.tracegroupgap)}),pe._height+=(pe._lgroupsLength-1)*pe.tracegroupgap);else{var Re=B(pe),Ye=De||ve,r1=xe.width/2;pe._maxWidth=Math.max(pe.x<0||0===pe.x&&"right"===Re?Ye&&"left"===Re?Me.l+Me.w:r1:pe.x>1||1===pe.x&&"left"===Re?Ye&&"right"===Re?Me.r+Me.w:r1:Me.w,2*Xe);var f1=0,Je=0;ue.each(function(Z1){var N1=Z1[0].width+Xe;f1=Math.max(f1,N1),Je+=N1}),qe=null;var g1=0;if(ze){var b1=0,_1=0,I1=0;fe.each(function(){var Z1=0,N1=0;o.select(this).selectAll("g.traces").each(function(ye){var We=ye[0].width,e1=ye[0].height;d.setTranslate(this,Ie[0],Ie[1]+Fe+t1+e1/2+N1),N1+=e1,Z1=Math.max(Z1,Xe+We)});var ge=Z1+t1;_1>0&&ge+Fe+_1>pe._maxWidth?(g1=Math.max(g1,_1),_1=0,I1+=b1+Ve,b1=N1):b1=Math.max(b1,N1),d.setTranslate(this,_1,I1),_1+=ge}),pe._width=Math.max(g1,_1)+Fe,pe._height=I1+b1+Ge}else{var M1=ue.size(),Be=Je+Ue+(M1-1)*t1<pe._maxWidth,je=0,C1=0,O1=0,Q1=0;ue.each(function(Z1){var N1=Z1[0].height,ge=Xe+Z1[0].width,ye=(Be?ge:f1)+t1;ye+Fe+C1-t1>=pe._maxWidth&&(g1=Math.max(g1,Q1),C1=0,O1+=je,pe._height+=je,je=0),d.setTranslate(this,Ie[0]+Fe+C1,Ie[1]+Fe+O1+N1/2+t1),Q1=C1+ge+t1,C1+=ye,je=Math.max(je,N1)}),Be?(pe._width=C1+Ue,pe._height=je+Ge):(pe._width=Math.max(g1,Q1)+Ue,pe._height+=je+Ge)}}pe._width=Math.ceil(Math.max(pe._width+Ie[0],pe._titleWidth+2*(Fe+b.titlePad))),pe._height=Math.ceil(Math.max(pe._height+Ie[1],pe._titleHeight+2*(Fe+b.itemGap))),pe._effHeight=Math.min(pe._height,pe._maxHeight);var st=ae._context.edits,$1=st.legendText||st.legendPosition;ue.each(function(Z1){var N1=o.select(this).select(".legendtoggle"),ge=Z1[0].height,ye=$1?Xe:qe||Xe+Z1[0].width;Ae||(ye+=t1/2),d.setRect(N1,0,-ge/2,ye,ge)})}(W,X,R,q)},function(){var ae,fe,ue,pe,Ye,r1,f1,Je,xe=ce._size,Me=q.borderwidth;if(!ie){if(f1=B(r1=(Ye=W)._fullLayout.legend),Je=$(r1),p.autoMargin(Ye,"legend",{x:r1.x,y:r1.y,l:r1._width*N[f1],r:r1._width*z[f1],b:r1._effHeight*z[Je],t:r1._effHeight*N[Je]}))return;var Ae=xe.l+xe.w*q.x-N[B(q)]*q._width,ze=xe.t+xe.h*(1-q.y)-N[$(q)]*q._effHeight;if(ce.margin.autoexpand){var Fe=Ae,Ue=ze;Ae=g.constrain(Ae,0,ce.width-q._width),ze=g.constrain(ze,0,ce.height-q._effHeight),Ae!==Fe&&g.log("Constrain legend.x to make legend fit inside graph"),ze!==Ue&&g.log("Constrain legend.y to make legend fit inside graph")}d.setTranslate(le,Ae,ze)}if(O.on(".drag",null),le.on("wheel",null),ie||q._height<=q._maxHeight||W._context.staticPlot){var t1=q._effHeight;ie&&(t1=q._height),j.attr({width:q._width-Me,height:t1-Me,x:Me/2,y:Me/2}),d.setTranslate(oe,0,0),G.select("rect").attr({width:q._width-2*Me,height:t1-2*Me,x:Me,y:Me}),d.setClipUrl(oe,me,W),d.setRect(O,0,0,0,0),delete q._scrollY}else{var Xe,we,ve=Math.max(b.scrollBarMinHeight,q._effHeight*q._effHeight/q._height),De=q._effHeight-ve-2*b.scrollBarMargin,Ve=q._height-q._effHeight,qe=De/Ve,Ie=Math.min(q._scrollY||0,Ve);j.attr({width:q._width-2*Me+b.scrollBarWidth+b.scrollBarMargin,height:q._effHeight-Me,x:Me/2,y:Me/2}),G.select("rect").attr({width:q._width-2*Me+b.scrollBarWidth+b.scrollBarMargin,height:q._effHeight-2*Me,x:Me,y:Me+Ie}),d.setClipUrl(oe,me,W),n1(Ie,ve,qe),le.on("wheel",function(){n1(Ie=g.constrain(q._scrollY+o.event.deltaY/De*Ve,0,Ve),ve,qe),0!==Ie&&Ie!==Ve&&o.event.preventDefault()});var Re=o.behavior.drag().on("dragstart",function(){var Ye=o.event.sourceEvent;Xe="touchstart"===Ye.type?Ye.changedTouches[0].clientY:Ye.clientY,we=Ie}).on("drag",function(){var Ye=o.event.sourceEvent;2===Ye.buttons||Ye.ctrlKey||n1(Ie=function(r1,f1,Je){return g.constrain((Je-f1)/qe+r1,0,Ve)}(we,Xe,"touchmove"===Ye.type?Ye.changedTouches[0].clientY:Ye.clientY),ve,qe)});O.call(Re);var Qe=o.behavior.drag().on("dragstart",function(){var Ye=o.event.sourceEvent;"touchstart"===Ye.type&&(Xe=Ye.changedTouches[0].clientY,we=Ie)}).on("drag",function(){var Ye=o.event.sourceEvent;"touchmove"===Ye.type&&n1(Ie=function(r1,f1,Je){return g.constrain((f1-Je)/qe+r1,0,Ve)}(we,Xe,Ye.changedTouches[0].clientY),ve,qe)});oe.call(Qe)}function n1(Ye,r1,f1){q._scrollY=W._fullLayout.legend._scrollY=Ye,d.setTranslate(oe,0,-Ye),d.setRect(O,q._width,b.scrollBarMargin+Ye*f1,b.scrollBarWidth,r1),G.select("rect").attr("y",Me+Ye)}W._context.edits.legendPosition&&(le.classed("cursor-move",!0),C.init({element:le.node(),gd:W,prepFn:function(){var Ye=d.getTranslate(le);ue=Ye.x,pe=Ye.y},moveFn:function(Ye,r1){var f1=ue+Ye,Je=pe+r1;d.setTranslate(le,f1,Je),ae=C.align(f1,0,xe.l,xe.l+xe.w,q.xanchor),fe=C.align(Je,0,xe.t+xe.h,xe.t,q.yanchor)},doneFn:function(){void 0!==ae&&void 0!==fe&&l.call("_guiRelayout",W,{"legend.x":ae,"legend.y":fe})},clickFn:function(Ye,r1){var f1=Q.selectAll("g.traces").filter(function(){var Je=this.getBoundingClientRect();return r1.clientX>=Je.left&&r1.clientX<=Je.right&&r1.clientY>=Je.top&&r1.clientY<=Je.bottom});f1.size()>0&&P(W,le,f1,Ye,r1)}}))}],W)}}(T,Y)}},{"../../constants/alignment":207,"../../lib":232,"../../lib/events":225,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"./constants":153,"./get_legend_data":156,"./handle_click":157,"./helpers":158,"./style":160,"@plotly/d3":11}],156:[function(m,de,ne){"use strict";var o=m("../../registry"),g=m("./helpers");de.exports=function(p,l){var c,C,d=l._inHover,h=g.isGrouped(l),u=g.isReversed(l),_={},b=[],M=!1,w={},N=0,z=0;function k(ce,me){if(""!==ce&&g.isGrouped(l))-1===b.indexOf(ce)?(b.push(ce),M=!0,_[ce]=[me]):_[ce].push(me);else{var ie="~~i"+N;b.push(ie),_[ie]=[me],N++}}for(c=0;c<p.length;c++){var D=p[c],S=D[0],P=S.trace,V=P.legendgroup;if(d||P.visible&&P.showlegend)if(o.traceIs(P,"pie-like"))for(w[V]||(w[V]={}),C=0;C<D.length;C++){var E=D[C].label;w[V][E]||(k(V,{label:E,color:D[C].color,i:D[C].i,trace:P,pts:D[C].pts}),w[V][E]=!0,z=Math.max(z,(E||"").length))}else k(V,S),z=Math.max(z,(P.name||"").length)}if(!b.length)return[];var I=!M||!h,L=[];for(c=0;c<b.length;c++){var B=_[b[c]];L.push(I?B[0]:B)}for(I&&(L=[L]),c=0;c<L.length;c++){var $=1/0;for(C=0;C<L[c].length;C++){var T=L[c][C].trace.legendrank;$>T&&($=T)}L[c][0]._groupMinRank=$,L[c][0]._preGroupSort=c}var Y=function(ce,me){return ce.trace.legendrank-me.trace.legendrank||ce._preSort-me._preSort};for(L.forEach(function(ce,me){ce[0]._preGroupSort=me}),L.sort(function(ce,me){return ce[0]._groupMinRank-me[0]._groupMinRank||ce[0]._preGroupSort-me[0]._preGroupSort}),c=0;c<L.length;c++){L[c].forEach(function(ce,me){ce._preSort=me}),L[c].sort(Y);var W=L[c][0].trace,q=null;for(C=0;C<L[c].length;C++){var Q=L[c][C].trace.legendgrouptitle;if(Q&&Q.text){q=Q,d&&(Q.font=l._groupTitleFont);break}}if(u&&L[c].reverse(),q){var te=!1;for(C=0;C<L[c].length;C++)if(o.traceIs(L[c][C].trace,"pie-like")){te=!0;break}L[c].unshift({i:-1,groupTitle:q,noClick:te,trace:{showlegend:W.showlegend,legendgroup:W.legendgroup,visible:"toggleitem"===l.groupclick||W.visible}})}for(C=0;C<L[c].length;C++)L[c][C]=[L[c][C]]}return l._lgroupsLength=L.length,l._maxNameLength=z,L}},{"../../registry":318,"./helpers":158}],157:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("../../registry"),p=!0;de.exports=function(l,c,C){var d=c._fullLayout;if(!c._dragged&&!c._editing){var h,u=d.legend.itemclick,_=d.legend.itemdoubleclick,b=d.legend.groupclick;if(1===C&&"toggle"===u&&"toggleothers"===_&&p&&c.data&&c._context.showTips&&o.notifier(o._(c,"Double-click on legend to isolate one trace"),"long"),p=!1,1===C?h=u:2===C&&(h=_),h){var M="togglegroup"===b,w=d.hiddenlabels?d.hiddenlabels.slice():[],N=l.data()[0][0];if(!N.groupTitle||!N.noClick){var z,k,D,S,P,V=c._fullData,E=N.trace,I=E.legendgroup,L={},B=[],$=[],T=[];if(g.traceIs(E,"pie-like")){var Y=N.label,W=w.indexOf(Y);"toggle"===h?-1===W?w.push(Y):w.splice(W,1):"toggleothers"===h&&(w=[],c.calcdata[0].forEach(function(O){Y!==O.label&&w.push(O.label)}),c._fullLayout.hiddenlabels&&c._fullLayout.hiddenlabels.length===w.length&&-1===W&&(w=[])),g.call("_guiRelayout",c,"hiddenlabels",w)}else{var q,Q=I&&I.length,te=[];if(Q)for(z=0;z<V.length;z++)(q=V[z]).visible&&q.legendgroup===I&&te.push(z);if("toggle"===h){var ce;switch(E.visible){case!0:ce="legendonly";break;case!1:ce=!1;break;case"legendonly":ce=!0}if(Q)if(M)for(z=0;z<V.length;z++)!1!==V[z].visible&&V[z].legendgroup===I&&F(V[z],ce);else F(E,ce);else F(E,ce)}else if("toggleothers"===h){var K,G=!0;for(z=0;z<V.length;z++)if(K=!0!==V[z].showlegend,!(V[z]===E||K||Q&&V[z].legendgroup===I||!0!==V[z].visible||g.traceIs(V[z],"notLegendIsolatable"))){G=!1;break}for(z=0;z<V.length;z++)if(!1!==V[z].visible&&!g.traceIs(V[z],"notLegendIsolatable"))switch(E.visible){case"legendonly":F(V[z],!0);break;case!0:K=!0!==V[z].showlegend&&!V[z].legendgroup,F(V[z],!!(V[z]===E||Q&&V[z].legendgroup===I||K)||!!G||"legendonly")}}for(z=0;z<$.length;z++)if(D=$[z]){var j=D.constructUpdate(),oe=Object.keys(j);for(k=0;k<oe.length;k++)(L[S=oe[k]]=L[S]||[])[T[z]]=j[S]}for(P=Object.keys(L),z=0;z<P.length;z++)for(S=P[z],k=0;k<B.length;k++)L[S].hasOwnProperty(k)||(L[S][k]=void 0);g.call("_guiRestyle",c,L,B)}}}}function re(O,X,R){var ae=B.indexOf(O),fe=L[X];return fe||(fe=L[X]=[]),-1===B.indexOf(O)&&(B.push(O),ae=B.length-1),fe[ae]=R,ae}function F(O,X){if(!N.groupTitle||M){var R=O._fullInput;if(g.hasTransform(R,"groupby")){var ae=$[R.index];if(!ae){var fe=g.getTransformIndices(R,"groupby");ae=o.keyedContainer(R,"transforms["+fe[fe.length-1]+"].styles","target","value.visible"),$[R.index]=ae}var pe=ae.get(O._group);void 0===pe&&(pe=!0),!1!==pe&&ae.set(O._group,X),T[R.index]=re(R.index,"visible",!1!==R.visible)}else re(R.index,"visible",!1!==R.visible&&X)}}}},{"../../lib":232,"../../registry":318}],158:[function(m,de,ne){"use strict";ne.isGrouped=function(o){return-1!==(o.traceorder||"").indexOf("grouped")},ne.isVertical=function(o){return"h"!==o.orientation},ne.isReversed=function(o){return-1!==(o.traceorder||"").indexOf("reversed")}},{}],159:[function(m,de,ne){"use strict";de.exports={moduleType:"component",name:"legend",layoutAttributes:m("./attributes"),supplyLayoutDefaults:m("./defaults"),draw:m("./draw"),style:m("./style")}},{"./attributes":152,"./defaults":154,"./draw":155,"./style":160}],160:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("../../registry"),p=m("../../lib"),l=p.strTranslate,c=m("../drawing"),C=m("../color"),d=m("../colorscale/helpers").extractOpts,h=m("../../traces/scatter/subtypes"),u=m("../../traces/pie/style_one"),_=m("../../traces/pie/helpers").castOption,b=m("./constants");function M(z,k){return(k?"radial":"horizontal")+(z?"":"reversed")}function w(z){var k=z[0].trace,D=k.contours,S=h.hasLines(k),P=h.hasMarkers(k),V=k.visible&&k.fill&&"none"!==k.fill,E=!1,I=!1;if(D){var L=D.coloring;"lines"===L?E=!0:S="none"===L||"heatmap"===L||D.showlines,"constraint"===D.type?V="="!==D._operation:"fill"!==L&&"heatmap"!==L||(I=!0)}return{showMarker:P,showLine:S,showFill:V,showGradientLine:E,showGradientFill:I,anyLine:S||E,anyFill:V||I}}function N(z,k,D){return z&&p.isArrayOrTypedArray(z)?k:z>D?D:z}de.exports=function(z,k,D){D||(D=k._fullLayout.legend);var P="constant"===D.itemsizing,V=D.itemwidth,I=l((V+2*b.itemGap)/2,0),L=function(T,Y,W,q){var Q;if(T+1)Q=T;else{if(!(Y&&Y.width>0))return 0;Q=Y.width}return P?q:Math.min(Q,W)};function B(T,Y,W){var q=T[0].trace,Q=q.marker||{},te=Q.line||{},ce=W?q.visible&&q.type===W:g.traceIs(q,"bar"),me=o.select(Y).select("g.legendpoints").selectAll("path.legend"+W).data(ce?[T]:[]);me.enter().append("path").classed("legend"+W,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",I),me.exit().remove(),me.each(function(ie){var K=o.select(this),le=ie[0],G=L(le.mlw,Q.line,5,2);K.style("stroke-width",G+"px");var j=le.mcc;if(!D._inHover&&"mc"in le){var oe=d(Q),re=oe.mid;void 0===re&&(re=(oe.max+oe.min)/2),j=c.tryColorscale(Q,"")(re)}var F=j||le.mc||Q.color,O=Q.pattern,X=O&&c.getPatternAttr(O.shape,0,"");if(X){var R=c.getPatternAttr(O.bgcolor,0,null),ae=c.getPatternAttr(O.fgcolor,0,null),fe=O.fgopacity,ue=N(O.size,8,10),pe=N(O.solidity,.5,1);K.call(c.pattern,"legend",k,"legend-"+q.uid,X,ue,pe,j,O.fillmode,R,ae,fe)}else K.call(C.fill,F);G&&C.stroke(K,le.mlc||te.color)})}function $(T,Y,W){var q=T[0],Q=q.trace,te=W?Q.visible&&Q.type===W:g.traceIs(Q,W),ce=o.select(Y).select("g.legendpoints").selectAll("path.legend"+W).data(te?[T]:[]);if(ce.enter().append("path").classed("legend"+W,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",I),ce.exit().remove(),ce.size()){var me=(Q.marker||{}).line,ie=L(_(me.width,q.pts),me,5,2),K=p.minExtend(Q,{marker:{line:{width:ie}}});K.marker.line.color=me.color;var le=p.minExtend(q,{trace:K});u(ce,le,K)}}z.each(function(T){var Y=o.select(this),W=p.ensureSingle(Y,"g","layers");W.style("opacity",T[0].trace.opacity);var q=D.valign,Q=T[0].lineHeight,te=T[0].height;W.attr("transform","middle"!==q&&Q&&te?l(0,{top:1,bottom:-1}[q]*(.5*(Q-te+3))):null),W.selectAll("g.legendfill").data([T]).enter().append("g").classed("legendfill",!0),W.selectAll("g.legendlines").data([T]).enter().append("g").classed("legendlines",!0);var me=W.selectAll("g.legendsymbols").data([T]);me.enter().append("g").classed("legendsymbols",!0),me.selectAll("g.legendpoints").data([T]).enter().append("g").classed("legendpoints",!0)}).each(function(T){var Y,W=T[0].trace,q=[];if(W.visible)switch(W.type){case"histogram2d":case"heatmap":q=[["M-15,-2V4H15V-2Z"]],Y=!0;break;case"choropleth":case"choroplethmapbox":q=[["M-6,-6V6H6V-6Z"]],Y=!0;break;case"densitymapbox":q=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],Y="radial";break;case"cone":q=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],Y=!1;break;case"streamtube":q=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],Y=!1;break;case"surface":q=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],Y=!0;break;case"mesh3d":q=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],Y=!1;break;case"volume":q=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],Y=!0;break;case"isosurface":q=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],Y=!1}var Q=o.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(q);Q.enter().append("path").classed("legend3dandfriends",!0).attr("transform",I).style("stroke-miterlimit",1),Q.exit().remove(),Q.each(function(te,ce){var me,ie=o.select(this),K=d(W),le=K.colorscale,G=K.reversescale;if(le){if(!Y){var j=le.length;me=0===ce?le[G?j-1:0][1]:1===ce?le[G?0:j-1][1]:le[Math.floor((j-1)/2)][1]}}else{var oe=W.vertexcolor||W.facecolor||W.color;me=p.isArrayOrTypedArray(oe)?oe[ce]||oe[0]:oe}ie.attr("d",te[0]),me?ie.call(C.fill,me):ie.call(function(re){re.size()&&c.gradient(re,k,"legendfill-"+W.uid,M(G,"radial"===Y),le,"fill")})})}).each(function(T){var Y=T[0].trace,W="waterfall"===Y.type;if(T[0]._distinct&&W){var q=T[0].trace[T[0].dir].marker;return T[0].mc=q.color,T[0].mlw=q.line.width,T[0].mlc=q.line.color,B(T,this,"waterfall")}var Q=[];Y.visible&&W&&(Q=T[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var te=o.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(Q);te.enter().append("path").classed("legendwaterfall",!0).attr("transform",I).style("stroke-miterlimit",1),te.exit().remove(),te.each(function(ce){var me=o.select(this),ie=Y[ce[0]].marker,K=L(void 0,ie.line,5,2);me.attr("d",ce[1]).style("stroke-width",K+"px").call(C.fill,ie.color),K&&me.call(C.stroke,ie.line.color)})}).each(function(T){B(T,this,"funnel")}).each(function(T){B(T,this)}).each(function(T){var Y=T[0].trace,W=o.select(this).select("g.legendpoints").selectAll("path.legendbox").data(Y.visible&&g.traceIs(Y,"box-violin")?[T]:[]);W.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",I),W.exit().remove(),W.each(function(){var q=o.select(this);if("all"!==Y.boxpoints&&"all"!==Y.points||0!==C.opacity(Y.fillcolor)||0!==C.opacity((Y.line||{}).color)){var Q=L(void 0,Y.line,5,2);q.style("stroke-width",Q+"px").call(C.fill,Y.fillcolor),Q&&C.stroke(q,Y.line.color)}else{var te=p.minExtend(Y,{marker:{size:P?12:p.constrain(Y.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});W.call(c.pointStyle,te,k)}})}).each(function(T){$(T,this,"funnelarea")}).each(function(T){$(T,this,"pie")}).each(function(T){var Y,W,q=w(T),Q=q.showFill,te=q.showLine,ce=q.showGradientLine,me=q.showGradientFill,ie=q.anyFill,K=q.anyLine,le=T[0],G=le.trace,j=d(G),oe=j.colorscale,re=j.reversescale,F=h.hasMarkers(G)||!ie?"M5,0":K?"M5,-2":"M5,-3",O=o.select(this),X=O.select(".legendfill").selectAll("path").data(Q||me?[T]:[]);if(X.enter().append("path").classed("js-fill",!0),X.exit().remove(),X.attr("d",F+"h"+V+"v6h-"+V+"z").call(function(fe){fe.size()&&(Q?c.fillGroupStyle(fe,k):c.gradient(fe,k,"legendfill-"+G.uid,M(re),oe,"fill"))}),te||ce){var R=L(void 0,G.line,10,5);W=p.minExtend(G,{line:{width:R}}),Y=[p.minExtend(le,{trace:W})]}var ae=O.select(".legendlines").selectAll("path").data(te||ce?[Y]:[]);ae.enter().append("path").classed("js-line",!0),ae.exit().remove(),ae.attr("d",F+(ce?"l"+V+",0.0001":"h"+V)).call(te?c.lineGroupStyle:function(fe){if(fe.size()){var ue="legendline-"+G.uid;c.lineGroupStyle(fe),c.gradient(fe,k,ue,M(re),oe,"stroke")}})}).each(function(T){var Y,W,q=w(T),ce=q.showLine,me=q.showMarker,ie=T[0],K=ie.trace,le=!me&&!q.anyLine&&!q.anyFill&&h.hasText(K);function G(ae,fe,ue,pe){var xe=p.nestedProperty(K,ae).get(),Me=p.isArrayOrTypedArray(xe)&&fe?fe(xe):xe;if(P&&Me&&void 0!==pe&&(Me=pe),ue){if(Me<ue[0])return ue[0];if(Me>ue[1])return ue[1]}return Me}function j(ae){return ie._distinct&&ie.index&&ae[ie.index]?ae[ie.index]:ae[0]}if(me||le||ce){var oe={},re={};if(me){oe.mc=G("marker.color",j),oe.mx=G("marker.symbol",j),oe.mo=G("marker.opacity",p.mean,[.2,1]),oe.mlc=G("marker.line.color",j),oe.mlw=G("marker.line.width",p.mean,[0,5],2),re.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var F=G("marker.size",p.mean,[2,16],12);oe.ms=F,re.marker.size=F}ce&&(re.line={width:G("line.width",j,[0,10],5)}),le&&(oe.tx="Aa",oe.tp=G("textposition",j),oe.ts=10,oe.tc=G("textfont.color",j),oe.tf=G("textfont.family",j)),Y=[p.minExtend(ie,oe)],(W=p.minExtend(K,re)).selectedpoints=null,W.texttemplate=null}var O=o.select(this).select("g.legendpoints"),X=O.selectAll("path.scatterpts").data(me?Y:[]);X.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",I),X.exit().remove(),X.call(c.pointStyle,W,k),me&&(Y[0].mrc=3);var R=O.selectAll("g.pointtext").data(le?Y:[]);R.enter().append("g").classed("pointtext",!0).append("text").attr("transform",I),R.exit().remove(),R.selectAll("text").call(c.textPointStyle,W,k)}).each(function(T){var Y=T[0].trace,W=o.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(Y.visible&&"candlestick"===Y.type?[T,T]:[]);W.enter().append("path").classed("legendcandle",!0).attr("d",function(q,Q){return Q?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",I).style("stroke-miterlimit",1),W.exit().remove(),W.each(function(q,Q){var te=o.select(this),ce=Y[Q?"increasing":"decreasing"],me=L(void 0,ce.line,5,2);te.style("stroke-width",me+"px").call(C.fill,ce.fillcolor),me&&C.stroke(te,ce.line.color)})}).each(function(T){var Y=T[0].trace,W=o.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(Y.visible&&"ohlc"===Y.type?[T,T]:[]);W.enter().append("path").classed("legendohlc",!0).attr("d",function(q,Q){return Q?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",I).style("stroke-miterlimit",1),W.exit().remove(),W.each(function(q,Q){var te=o.select(this),ce=Y[Q?"increasing":"decreasing"],me=L(void 0,ce.line,5,2);te.style("fill","none").call(c.dashLine,ce.line.dash,me),me&&C.stroke(te,ce.line.color)})})}},{"../../lib":232,"../../registry":318,"../../traces/pie/helpers":350,"../../traces/pie/style_one":356,"../../traces/scatter/subtypes":383,"../color":102,"../colorscale/helpers":113,"../drawing":124,"./constants":153,"@plotly/d3":11}],161:[function(m,de,ne){"use strict";m("./constants"),de.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},{"./constants":163}],162:[function(m,de,ne){"use strict";var o=m("../../registry"),g=m("../../plots/plots"),p=m("../../plots/cartesian/axis_ids"),l=m("../../fonts/ploticon"),c=m("../shapes/draw").eraseActiveShape,C=m("../../lib"),d=C._,h=de.exports={};function u(S,P){var V,E,I=P.currentTarget,L=I.getAttribute("data-attr"),B=I.getAttribute("data-val")||!0,$=S._fullLayout,T={},Y=p.list(S,null,!0),W=$._cartesianSpikesEnabled;if("zoom"===L){var q,Q="in"===B?.5:2,te=(1+Q)/2,ce=(1-Q)/2;for(E=0;E<Y.length;E++)if(!(V=Y[E]).fixedrange)if(q=V._name,"auto"===B)T[q+".autorange"]=!0;else if("reset"===B){if(void 0===V._rangeInitial)T[q+".autorange"]=!0;else{var me=V._rangeInitial.slice();T[q+".range[0]"]=me[0],T[q+".range[1]"]=me[1]}void 0!==V._showSpikeInitial&&(T[q+".showspikes"]=V._showSpikeInitial,"on"!==W||V._showSpikeInitial||(W="off"))}else{var ie=[V.r2l(V.range[0]),V.r2l(V.range[1])],K=[te*ie[0]+ce*ie[1],te*ie[1]+ce*ie[0]];T[q+".range[0]"]=V.l2r(K[0]),T[q+".range[1]"]=V.l2r(K[1])}}else"hovermode"!==L||"x"!==B&&"y"!==B||I.setAttribute("data-val",B=$._isHoriz?"y":"x"),T[L]=B;$._cartesianSpikesEnabled=W,o.call("_guiRelayout",S,T)}function _(S,P){for(var V=P.currentTarget,E=V.getAttribute("data-attr"),I=V.getAttribute("data-val")||!0,L=S._fullLayout._subplots.gl3d||[],B={},$=E.split("."),T=0;T<L.length;T++)B[L[T]+"."+$[1]]=I;B.dragmode="pan"===I?I:"zoom",o.call("_guiRelayout",S,B)}function b(S,P){for(var V=P.currentTarget.getAttribute("data-attr"),E="resetLastSave"===V,I="resetDefault"===V,L=S._fullLayout,B=L._subplots.gl3d||[],$={},T=0;T<B.length;T++){var Y,W=B[T],q=W+".camera",Q=W+".aspectratio",te=W+".aspectmode",ce=L[W]._scene;E?($[q+".up"]=ce.viewInitial.up,$[q+".eye"]=ce.viewInitial.eye,$[q+".center"]=ce.viewInitial.center,Y=!0):I&&($[q+".up"]=null,$[q+".eye"]=null,$[q+".center"]=null,Y=!0),Y&&($[Q+".x"]=ce.viewInitial.aspectratio.x,$[Q+".y"]=ce.viewInitial.aspectratio.y,$[Q+".z"]=ce.viewInitial.aspectratio.z,$[te]=ce.viewInitial.aspectmode)}o.call("_guiRelayout",S,$)}function M(S,P){var V=P.currentTarget,E=V._previousVal,I=S._fullLayout,L=I._subplots.gl3d||[],B=["xaxis","yaxis","zaxis"],$={},T={};if(E)T=E,V._previousVal=null;else{for(var Y=0;Y<L.length;Y++){var W=L[Y],q=I[W],Q=W+".hovermode";$[Q]=q.hovermode,T[Q]=!1;for(var te=0;te<3;te++){var ce=B[te],me=W+"."+ce+".showspikes";T[me]=!1,$[me]=q[ce].showspikes}}V._previousVal=$}return T}function w(S,P){for(var V=P.currentTarget,E=V.getAttribute("data-attr"),I=V.getAttribute("data-val")||!0,L=S._fullLayout,B=L._subplots.geo||[],$=0;$<B.length;$++){var T=B[$];if("zoom"===E){var W=L[T].projection.scale;o.call("_guiRelayout",S,T+".projection.scale","in"===I?2*W:.5*W)}}"reset"===E&&D(S,"geo")}function N(S){var P=S._fullLayout;return!P.hovermode&&(P._has("cartesian")?P._isHoriz?"y":"x":"closest")}function z(S){var P=N(S);o.call("_guiRelayout",S,"hovermode",P)}function k(S,P){for(var V=P.currentTarget.getAttribute("data-val"),E=S._fullLayout,I=E._subplots.mapbox||[],L={},B=0;B<I.length;B++){var $=I[B],T=E[$].zoom;L[$+".zoom"]="in"===V?1.05*T:T/1.05}o.call("_guiRelayout",S,L)}function D(S,P){for(var V=S._fullLayout,E=V._subplots[P]||[],I={},L=0;L<E.length;L++)for(var B=E[L],$=V[B]._subplot.viewInitial,T=Object.keys($),Y=0;Y<T.length;Y++){var W=T[Y];I[B+"."+W]=$[W]}o.call("_guiRelayout",S,I)}h.toImage={name:"toImage",title:function(S){return d(S,"png"===((S._context.toImageButtonOptions||{}).format||"png")?"Download plot as a png":"Download plot")},icon:l.camera,click:function(S){var P=S._context.toImageButtonOptions,V={format:P.format||"png"};C.notifier(d(S,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==V.format&&C.isIE()&&(C.notifier(d(S,"IE only supports svg.  Changing format to svg."),"long"),V.format="svg"),["filename","width","height","scale"].forEach(function(E){E in P&&(V[E]=P[E])}),o.call("downloadImage",S,V).then(function(E){C.notifier(d(S,"Snapshot succeeded")+" - "+E,"long")}).catch(function(){C.notifier(d(S,"Sorry, there was a problem downloading your snapshot!"),"long")})}},h.sendDataToCloud={name:"sendDataToCloud",title:function(S){return d(S,"Edit in Chart Studio")},icon:l.disk,click:function(S){g.sendDataToCloud(S)}},h.editInChartStudio={name:"editInChartStudio",title:function(S){return d(S,"Edit in Chart Studio")},icon:l.pencil,click:function(S){g.sendDataToCloud(S)}},h.zoom2d={name:"zoom2d",_cat:"zoom",title:function(S){return d(S,"Zoom")},attr:"dragmode",val:"zoom",icon:l.zoombox,click:u},h.pan2d={name:"pan2d",_cat:"pan",title:function(S){return d(S,"Pan")},attr:"dragmode",val:"pan",icon:l.pan,click:u},h.select2d={name:"select2d",_cat:"select",title:function(S){return d(S,"Box Select")},attr:"dragmode",val:"select",icon:l.selectbox,click:u},h.lasso2d={name:"lasso2d",_cat:"lasso",title:function(S){return d(S,"Lasso Select")},attr:"dragmode",val:"lasso",icon:l.lasso,click:u},h.drawclosedpath={name:"drawclosedpath",title:function(S){return d(S,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:l.drawclosedpath,click:u},h.drawopenpath={name:"drawopenpath",title:function(S){return d(S,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:l.drawopenpath,click:u},h.drawline={name:"drawline",title:function(S){return d(S,"Draw line")},attr:"dragmode",val:"drawline",icon:l.drawline,click:u},h.drawrect={name:"drawrect",title:function(S){return d(S,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:l.drawrect,click:u},h.drawcircle={name:"drawcircle",title:function(S){return d(S,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:l.drawcircle,click:u},h.eraseshape={name:"eraseshape",title:function(S){return d(S,"Erase active shape")},icon:l.eraseshape,click:c},h.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(S){return d(S,"Zoom in")},attr:"zoom",val:"in",icon:l.zoom_plus,click:u},h.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(S){return d(S,"Zoom out")},attr:"zoom",val:"out",icon:l.zoom_minus,click:u},h.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(S){return d(S,"Autoscale")},attr:"zoom",val:"auto",icon:l.autoscale,click:u},h.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(S){return d(S,"Reset axes")},attr:"zoom",val:"reset",icon:l.home,click:u},h.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(S){return d(S,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:l.tooltip_basic,gravity:"ne",click:u},h.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(S){return d(S,"Compare data on hover")},attr:"hovermode",val:function(S){return S._fullLayout._isHoriz?"y":"x"},icon:l.tooltip_compare,gravity:"ne",click:u},h.zoom3d={name:"zoom3d",_cat:"zoom",title:function(S){return d(S,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:l.zoombox,click:_},h.pan3d={name:"pan3d",_cat:"pan",title:function(S){return d(S,"Pan")},attr:"scene.dragmode",val:"pan",icon:l.pan,click:_},h.orbitRotation={name:"orbitRotation",title:function(S){return d(S,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:l["3d_rotate"],click:_},h.tableRotation={name:"tableRotation",title:function(S){return d(S,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:l["z-axis"],click:_},h.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(S){return d(S,"Reset camera to default")},attr:"resetDefault",icon:l.home,click:b},h.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(S){return d(S,"Reset camera to last save")},attr:"resetLastSave",icon:l.movie,click:b},h.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(S){return d(S,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:function(S,P){var V=M(S,P);o.call("_guiRelayout",S,V)}},h.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(S){return d(S,"Zoom in")},attr:"zoom",val:"in",icon:l.zoom_plus,click:w},h.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(S){return d(S,"Zoom out")},attr:"zoom",val:"out",icon:l.zoom_minus,click:w},h.resetGeo={name:"resetGeo",_cat:"reset",title:function(S){return d(S,"Reset")},attr:"reset",val:null,icon:l.autoscale,click:w},h.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(S){return d(S,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:z},h.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(S){return d(S,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:z},h.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(S){return d(S,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:l.tooltip_basic,gravity:"ne",click:z},h.resetViewSankey={name:"resetSankeyGroup",title:function(S){return d(S,"Reset view")},icon:l.home,click:function(S){for(var P={"node.groups":[],"node.x":[],"node.y":[]},V=0;V<S._fullData.length;V++){var E=S._fullData[V]._viewInitial;P["node.groups"].push(E.node.groups.slice()),P["node.x"].push(E.node.x.slice()),P["node.y"].push(E.node.y.slice())}o.call("restyle",S,P)}},h.toggleHover={name:"toggleHover",title:function(S){return d(S,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:function(S,P){var V=M(S,P);V.hovermode=N(S),o.call("_guiRelayout",S,V)}},h.resetViews={name:"resetViews",title:function(S){return d(S,"Reset views")},icon:l.home,click:function(S,P){var V=P.currentTarget;V.setAttribute("data-attr","zoom"),V.setAttribute("data-val","reset"),u(S,P),V.setAttribute("data-attr","resetLastSave"),b(S,P),D(S,"geo"),D(S,"mapbox")}},h.toggleSpikelines={name:"toggleSpikelines",title:function(S){return d(S,"Toggle Spike Lines")},icon:l.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(S){var P=S._fullLayout;P._cartesianSpikesEnabled="on"===P._cartesianSpikesEnabled?"off":"on",o.call("_guiRelayout",S,function(E){for(var I="on"===E._fullLayout._cartesianSpikesEnabled,L=p.list(E,null,!0),B={},$=0;$<L.length;$++){var T=L[$];B[T._name+".showspikes"]=!!I||T._showSpikeInitial}return B}(S))}},h.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(S){return d(S,"Reset view")},attr:"reset",icon:l.home,click:function(S){D(S,"mapbox")}},h.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(S){return d(S,"Zoom in")},attr:"zoom",val:"in",icon:l.zoom_plus,click:k},h.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(S){return d(S,"Zoom out")},attr:"zoom",val:"out",icon:l.zoom_minus,click:k}},{"../../fonts/ploticon":215,"../../lib":232,"../../plots/cartesian/axis_ids":283,"../../plots/plots":316,"../../registry":318,"../shapes/draw":186}],163:[function(m,de,ne){"use strict";var o=m("./buttons"),g=Object.keys(o),p=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],l=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(p),c=[];g.forEach(function(C){!function(d){if(-1===l.indexOf(d._cat||d.name)){var h=d.name,u=(d._cat||d.name).toLowerCase();-1===c.indexOf(h)&&c.push(h),-1===c.indexOf(u)&&c.push(u)}}(o[C])}),c.sort(),de.exports={DRAW_MODES:p,backButtons:l,foreButtons:c}},{"./buttons":162}],164:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("../color"),p=m("../../plot_api/plot_template"),l=m("./attributes");de.exports=function(c,C){var d=c.modebar||{},h=p.newContainer(C,"modebar");function u(b,M){return o.coerce(d,h,l,b,M)}u("orientation"),u("bgcolor",g.addOpacity(C.paper_bgcolor,.5));var _=g.contrast(g.rgb(C.modebar.bgcolor));u("color",g.addOpacity(_,.3)),u("activecolor",g.addOpacity(_,.7)),u("uirevision",C.uirevision),u("add"),u("remove")}},{"../../lib":232,"../../plot_api/plot_template":268,"../color":102,"./attributes":161}],165:[function(m,de,ne){"use strict";de.exports={moduleType:"component",name:"modebar",layoutAttributes:m("./attributes"),supplyLayoutDefaults:m("./defaults"),manage:m("./manage")}},{"./attributes":161,"./defaults":164,"./manage":166}],166:[function(m,de,ne){"use strict";var o=m("../../plots/cartesian/axis_ids"),g=m("../../traces/scatter/subtypes"),p=m("../../registry"),l=m("../fx/helpers").isUnifiedHover,c=m("./modebar"),C=m("./buttons"),d=m("./constants").DRAW_MODES;de.exports=function(h){var u=h._fullLayout,_=h._context,b=u._modeBar;if(_.displayModeBar||_.watermark){if(!Array.isArray(_.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(_.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var M,w=_.modeBarButtons;M=Array.isArray(w)&&w.length?function(N){for(var z=0;z<N.length;z++)for(var k=N[z],D=0;D<k.length;D++){var S=k[D];if("string"==typeof S){if(void 0===C[S])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));N[z][D]=C[S]}}return N}(w):!_.displayModeBar&&_.watermark?[]:function(N){var z=N._fullLayout,k=N._fullData,D=N._context;function S(pe,xe){if("string"==typeof xe){if(xe.toLowerCase()===pe.toLowerCase())return!0}else if(xe.name===pe||(xe._cat||xe.name)===pe.toLowerCase())return!0;return!1}var P=z.modebar.add;"string"==typeof P&&(P=[P]);var V=z.modebar.remove;"string"==typeof V&&(V=[V]);var E=D.modeBarButtonsToAdd.concat(P.filter(function(pe){for(var xe=0;xe<D.modeBarButtonsToRemove.length;xe++)if(S(pe,D.modeBarButtonsToRemove[xe]))return!1;return!0})),I=D.modeBarButtonsToRemove.concat(V.filter(function(pe){for(var xe=0;xe<D.modeBarButtonsToAdd.length;xe++)if(S(pe,D.modeBarButtonsToAdd[xe]))return!1;return!0})),L=z._has("cartesian"),B=z._has("gl3d"),$=z._has("geo"),T=z._has("pie"),Y=z._has("funnelarea"),W=z._has("gl2d"),q=z._has("ternary"),Q=z._has("mapbox"),te=z._has("polar"),ce=z._has("smith"),me=z._has("sankey"),ie=function(pe){for(var xe=o.list({_fullLayout:pe},null,!0),Me=0;Me<xe.length;Me++)if(!xe[Me].fixedrange)return!1;return!0}(z),K=l(z.hovermode),le=[];function G(pe){if(pe.length){for(var xe=[],Me=0;Me<pe.length;Me++){for(var Ae=pe[Me],ze=C[Ae],Fe=ze.name.toLowerCase(),Ue=(ze._cat||ze.name).toLowerCase(),t1=!1,Xe=0;Xe<I.length;Xe++){var Ge=I[Xe].toLowerCase();if(Ge===Fe||Ge===Ue){t1=!0;break}}t1||xe.push(C[Ae])}le.push(xe)}}var j=["toImage"];D.showEditInChartStudio?j.push("editInChartStudio"):D.showSendToCloud&&j.push("sendDataToCloud"),G(j);var oe=[],re=[],F=[],O=[];(L||W||T||Y||q)+$+B+Q+te+ce>1?(re=["toggleHover"],F=["resetViews"]):$?(oe=["zoomInGeo","zoomOutGeo"],re=["hoverClosestGeo"],F=["resetGeo"]):B?(re=["hoverClosest3d"],F=["resetCameraDefault3d","resetCameraLastSave3d"]):Q?(oe=["zoomInMapbox","zoomOutMapbox"],re=["toggleHover"],F=["resetViewMapbox"]):W?re=["hoverClosestGl2d"]:T?re=["hoverClosestPie"]:me?(re=["hoverClosestCartesian","hoverCompareCartesian"],F=["resetViewSankey"]):re=["toggleHover"],L&&(re=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(pe){for(var xe=0;xe<pe.length;xe++)if(!p.traceIs(pe[xe],"noHover"))return!1;return!0}(k)||K)&&(re=[]),!L&&!W||ie||(oe=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==F[0]&&(F=["resetScale2d"])),B?O=["zoom3d","pan3d","orbitRotation","tableRotation"]:(L||W)&&!ie||q?O=["zoom2d","pan2d"]:Q||$?O=["pan2d"]:te&&(O=["zoom2d"]),function(pe){for(var xe=!1,Me=0;Me<pe.length&&!xe;Me++){var Ae=pe[Me];Ae._module&&Ae._module.selectPoints&&(p.traceIs(Ae,"scatter-like")?(g.hasMarkers(Ae)||g.hasText(Ae))&&(xe=!0):p.traceIs(Ae,"box-violin")&&"all"!==Ae.boxpoints&&"all"!==Ae.points||(xe=!0))}return xe}(k)&&O.push("select2d","lasso2d");var X=[],R=function(pe){-1===X.indexOf(pe)&&-1!==re.indexOf(pe)&&X.push(pe)};if(Array.isArray(E)){for(var ae=[],fe=0;fe<E.length;fe++){var ue=E[fe];"string"==typeof ue?(ue=ue.toLowerCase(),-1!==d.indexOf(ue)?(z._has("mapbox")||z._has("cartesian"))&&O.push(ue):"togglespikelines"===ue?R("toggleSpikelines"):"togglehover"===ue?R("toggleHover"):"hovercompare"===ue?R("hoverCompareCartesian"):"hoverclosest"===ue?(R("hoverClosestCartesian"),R("hoverClosestGeo"),R("hoverClosest3d"),R("hoverClosestGl2d"),R("hoverClosestPie")):"v1hovermode"===ue&&(R("toggleHover"),R("hoverClosestCartesian"),R("hoverCompareCartesian"),R("hoverClosestGeo"),R("hoverClosest3d"),R("hoverClosestGl2d"),R("hoverClosestPie"))):ae.push(ue)}E=ae}return G(O),G(oe.concat(F)),G(X),function(pe,xe){if(xe.length)if(Array.isArray(xe[0]))for(var Me=0;Me<xe.length;Me++)pe.push(xe[Me]);else pe.push(xe);return pe}(le,E)}(h),b?b.update(h,M):u._modeBar=c(h,M)}else b&&(b.destroy(),delete u._modeBar)}},{"../../plots/cartesian/axis_ids":283,"../../registry":318,"../../traces/scatter/subtypes":383,"../fx/helpers":138,"./buttons":162,"./constants":163,"./modebar":167}],167:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("fast-isnumeric"),p=m("../../lib"),l=m("../../fonts/ploticon"),c=m("../../version").version,C=new DOMParser;function d(u){this.container=u.container,this.element=document.createElement("div"),this.update(u.graphInfo,u.buttons),this.container.appendChild(this.element)}var h=d.prototype;h.update=function(u,_){this.graphInfo=u;var b=this.graphInfo._context,M=this.graphInfo._fullLayout,w="modebar-"+M._uid;this.element.setAttribute("id",w),this._uid=w,this.element.className="modebar","hover"===b.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===M.modebar.orientation&&(this.element.className+=" vertical",_=_.reverse());var N=M.modebar,z="hover"===b.displayModeBar?".js-plotly-plot .plotly:hover ":"";p.deleteRelatedStyleRule(w),p.addRelatedStyleRule(w,z+"#"+w+" .modebar-group","background-color: "+N.bgcolor),p.addRelatedStyleRule(w,"#"+w+" .modebar-btn .icon path","fill: "+N.color),p.addRelatedStyleRule(w,"#"+w+" .modebar-btn:hover .icon path","fill: "+N.activecolor),p.addRelatedStyleRule(w,"#"+w+" .modebar-btn.active .icon path","fill: "+N.activecolor);var k=!this.hasButtons(_),D=this.hasLogo!==b.displaylogo,S=this.locale!==b.locale;if(this.locale=b.locale,(k||D||S)&&(this.removeAllButtons(),this.updateButtons(_),b.watermark||b.displaylogo)){var P=this.getLogo();b.watermark&&(P.className=P.className+" watermark"),"v"===M.modebar.orientation?this.element.insertBefore(P,this.element.childNodes[0]):this.element.appendChild(P),this.hasLogo=!0}this.updateActiveButton()},h.updateButtons=function(u){var _=this;this.buttons=u,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(b){var M=_.createGroup();b.forEach(function(w){var N=w.name;if(!N)throw new Error("must provide button 'name' in button config");if(-1!==_.buttonsNames.indexOf(N))throw new Error("button name '"+N+"' is taken");_.buttonsNames.push(N);var z=_.createButton(w);_.buttonElements.push(z),M.appendChild(z)}),_.element.appendChild(M)})},h.createGroup=function(){var u=document.createElement("div");return u.className="modebar-group",u},h.createButton=function(u){var _=this,b=document.createElement("a");b.setAttribute("rel","tooltip"),b.className="modebar-btn";var M=u.title;void 0===M?M=u.name:"function"==typeof M&&(M=M(this.graphInfo)),(M||0===M)&&b.setAttribute("data-title",M),void 0!==u.attr&&b.setAttribute("data-attr",u.attr);var w=u.val;if(void 0!==w&&("function"==typeof w&&(w=w(this.graphInfo)),b.setAttribute("data-val",w)),"function"!=typeof u.click)throw new Error("must provide button 'click' function in button config");b.addEventListener("click",function(z){u.click(_.graphInfo,z),_.updateActiveButton(z.currentTarget)}),b.setAttribute("data-toggle",u.toggle||!1),u.toggle&&o.select(b).classed("active",!0);var N=u.icon;return b.appendChild("function"==typeof N?N():this.createIcon(N||l.question)),b.setAttribute("data-gravity",u.gravity||"n"),b},h.createIcon=function(u){var _,b=g(u.height)?Number(u.height):u.ascent-u.descent,M="http://www.w3.org/2000/svg";if(u.path){(_=document.createElementNS(M,"svg")).setAttribute("viewBox",[0,0,u.width,b].join(" ")),_.setAttribute("class","icon");var w=document.createElementNS(M,"path");w.setAttribute("d",u.path),u.transform?w.setAttribute("transform",u.transform):void 0!==u.ascent&&w.setAttribute("transform","matrix(1 0 0 -1 0 "+u.ascent+")"),_.appendChild(w)}return u.svg&&(_=C.parseFromString(u.svg,"application/xml").childNodes[0]),_.setAttribute("height","1em"),_.setAttribute("width","1em"),_},h.updateActiveButton=function(u){var _=this.graphInfo._fullLayout,b=void 0!==u?u.getAttribute("data-attr"):null;this.buttonElements.forEach(function(M){var w=M.getAttribute("data-val")||!0,N=M.getAttribute("data-attr"),z="true"===M.getAttribute("data-toggle"),k=o.select(M);if(z)N===b&&k.classed("active",!k.classed("active"));else{var D=null===N?N:p.nestedProperty(_,N).get();k.classed("active",D===w)}})},h.hasButtons=function(u){var _=this.buttons;if(!_||u.length!==_.length)return!1;for(var b=0;b<u.length;++b){if(u[b].length!==_[b].length)return!1;for(var M=0;M<u[b].length;M++)if(u[b][M].name!==_[b][M].name)return!1}return!0},h.getLogo=function(){var u=this.createGroup(),_=document.createElement("a");return _.href="https://plotly.com/",_.target="_blank",_.setAttribute("data-title",p._(this.graphInfo,"Produced with Plotly.js")+" (v"+c+")"),_.className="modebar-btn plotlyjsicon modebar-btn--logo",_.appendChild(this.createIcon(l.newplotlylogo)),u.appendChild(_),u},h.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},h.destroy=function(){p.removeElement(this.container.querySelector(".modebar")),p.deleteRelatedStyleRule(this._uid)},de.exports=function(u,_){var b=u._fullLayout,M=new d({graphInfo:u,container:b._modebardiv.node(),buttons:_});return b._privateplot&&o.select(M.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),M}},{"../../fonts/ploticon":215,"../../lib":232,"../../version":391,"@plotly/d3":11,"fast-isnumeric":17}],168:[function(m,de,ne){"use strict";var o=m("../../plots/font_attributes"),g=m("../color/attributes"),p=(0,m("../../plot_api/plot_template").templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});de.exports={visible:{valType:"boolean",editType:"plot"},buttons:p,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:o({editType:"plot"}),bgcolor:{valType:"color",dflt:g.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:g.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},{"../../plot_api/plot_template":268,"../../plots/font_attributes":310,"../color/attributes":101}],169:[function(m,de,ne){"use strict";de.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},{}],170:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("../color"),p=m("../../plot_api/plot_template"),l=m("../../plots/array_container_defaults"),c=m("./attributes"),C=m("./constants");function d(h,u,_,b){var M=b.calendar;function w(z,k){return o.coerce(h,u,c.buttons,z,k)}if(w("visible")){var N=w("step");"all"!==N&&(!M||"gregorian"===M||"month"!==N&&"year"!==N?w("stepmode"):u.stepmode="backward",w("count")),w("label")}}de.exports=function(h,u,_,b,M){var w=h.rangeselector||{},N=p.newContainer(u,"rangeselector");function z(S,P){return o.coerce(w,N,c,S,P)}if(z("visible",l(w,N,{name:"buttons",handleItemDefaults:d,calendar:M}).length>0)){var k=function(S,P,V){for(var E=V.filter(function($){return P[$].anchor===S._id}),I=0,L=0;L<E.length;L++){var B=P[E[L]].domain;B&&(I=Math.max(B[1],I))}return[S.domain[0],I+C.yPad]}(u,_,b);z("x",k[0]),z("y",k[1]),o.noneOrAll(h,u,["x","y"]),z("xanchor"),z("yanchor"),o.coerceFont(z,"font",_.font);var D=z("bgcolor");z("activecolor",g.contrast(D,C.lightAmount,C.darkAmount)),z("bordercolor"),z("borderwidth")}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/array_container_defaults":274,"../color":102,"./attributes":168,"./constants":169}],171:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("../../registry"),p=m("../../plots/plots"),l=m("../color"),c=m("../drawing"),C=m("../../lib"),d=C.strTranslate,h=m("../../lib/svg_text_utils"),u=m("../../plots/cartesian/axis_ids"),_=m("../../constants/alignment"),b=_.LINE_SPACING,M=_.FROM_TL,w=_.FROM_BR,N=m("./constants"),z=m("./get_update_object");function k(P){return P._id}function D(P,V,E){var L,B,I=C.ensureSingle(P,"rect","selector-rect",function(L){L.attr("shape-rendering","crispEdges")});I.attr({rx:N.rx,ry:N.ry}),I.call(l.stroke,V.bordercolor).call(l.fill,(L=V,B=E,B._isActive||B._isHovered?L.activecolor:L.bgcolor)).style("stroke-width",V.borderwidth+"px")}function S(P,V,E,I){var L,B;C.ensureSingle(P,"text","selector-text",function(L){L.attr("text-anchor","middle")}).call(c.font,V.font).text((L=E,B=I._fullLayout._meta,L.label?B?C.templateString(L.label,B):L.label:"all"===L.step?"all":L.count+L.step.charAt(0))).call(function(L){h.convertToTspans(L,I)})}de.exports=function(P){var V=P._fullLayout._infolayer.selectAll(".rangeselector").data(function(E){for(var I=u.list(E,"x",!0),L=[],B=0;B<I.length;B++){var $=I[B];$.rangeselector&&$.rangeselector.visible&&L.push($)}return L}(P),k);V.enter().append("g").classed("rangeselector",!0),V.exit().remove(),V.style({cursor:"pointer","pointer-events":"all"}),V.each(function(E){var I=o.select(this),L=E,B=L.rangeselector,$=I.selectAll("g.button").data(C.filterVisible(B.buttons));$.enter().append("g").classed("button",!0),$.exit().remove(),$.each(function(T){var Y=o.select(this),W=z(L,T);T._isActive=function(q,Q,te){if("all"===Q.step)return!0===q.autorange;var ce=Object.keys(te);return q.range[0]===te[ce[0]]&&q.range[1]===te[ce[1]]}(L,T,W),Y.call(D,B,T),Y.call(S,B,T,P),Y.on("click",function(){P._dragged||g.call("_guiRelayout",P,W)}),Y.on("mouseover",function(){T._isHovered=!0,Y.call(D,B,T)}),Y.on("mouseout",function(){T._isHovered=!1,Y.call(D,B,T)})}),function(T,Y,W,q,Q){var te=0,ce=0,me=W.borderwidth;Y.each(function(){var oe=o.select(this).select(".selector-text"),F=Math.max(W.font.size*b*h.lineCount(oe),16)+3;ce=Math.max(ce,F)}),Y.each(function(){var oe=o.select(this),re=oe.select(".selector-rect"),F=oe.select(".selector-text"),O=F.node()&&c.bBox(F.node()).width,X=W.font.size*b,R=h.lineCount(F),ae=Math.max(O+10,N.minButtonWidth);oe.attr("transform",d(me+te,me)),re.attr({x:0,y:0,width:ae,height:ce}),h.positionText(F,ae/2,ce/2-(R-1)*X/2+3),te+=ae+5});var ie=T._fullLayout._size,K=ie.l+ie.w*W.x,le=ie.t+ie.h*(1-W.y),G="left";C.isRightAnchor(W)&&(K-=te,G="right"),C.isCenterAnchor(W)&&(K-=te/2,G="center");var j="top";C.isBottomAnchor(W)&&(le-=ce,j="bottom"),C.isMiddleAnchor(W)&&(le-=ce/2,j="middle"),te=Math.ceil(te),ce=Math.ceil(ce),K=Math.round(K),le=Math.round(le),p.autoMargin(T,q+"-range-selector",{x:W.x,y:W.y,l:te*M[G],r:te*w[G],b:ce*w[j],t:ce*M[j]}),Q.attr("transform",d(K,le))}(P,$,B,L._name,I)})}},{"../../constants/alignment":207,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/cartesian/axis_ids":283,"../../plots/plots":316,"../../registry":318,"../color":102,"../drawing":124,"./constants":169,"./get_update_object":172,"@plotly/d3":11}],172:[function(m,de,ne){"use strict";var o=m("d3-time"),g=m("../../lib").titleCase;de.exports=function(p,l){var c=p._name,C={};if("all"===l.step)C[c+".autorange"]=!0;else{var d=function(h,u){var _,b=h.range,M=new Date(h.r2l(b[1])),N=o["utc"+g(u.step)],z=u.count;switch(u.stepmode){case"backward":_=h.l2r(+N.offset(M,-z));break;case"todate":var k=N.offset(M,-z);_=h.l2r(+N.ceil(k))}return[_,b[1]]}(p,l);C[c+".range[0]"]=d[0],C[c+".range[1]"]=d[1]}return C}},{"../../lib":232,"d3-time":16}],173:[function(m,de,ne){"use strict";de.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:m("./attributes")}}},layoutAttributes:m("./attributes"),handleDefaults:m("./defaults"),draw:m("./draw")}},{"./attributes":168,"./defaults":170,"./draw":171}],174:[function(m,de,ne){"use strict";var o=m("../color/attributes");de.exports={bgcolor:{valType:"color",dflt:o.background,editType:"plot"},bordercolor:{valType:"color",dflt:o.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},{"../color/attributes":101}],175:[function(m,de,ne){"use strict";var o=m("../../plots/cartesian/axis_ids").list,g=m("../../plots/cartesian/autorange").getAutoRange,p=m("./constants");de.exports=function(l){for(var c=o(l,"x",!0),C=0;C<c.length;C++){var d=c[C],h=d[p.name];h&&h.visible&&h.autorange&&(h._input.autorange=!0,h._input.range=h.range=g(l,d))}}},{"../../plots/cartesian/autorange":278,"../../plots/cartesian/axis_ids":283,"./constants":176}],176:[function(m,de,ne){"use strict";de.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},{}],177:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("../../plot_api/plot_template"),p=m("../../plots/cartesian/axis_ids"),l=m("./attributes"),c=m("./oppaxis_attributes");de.exports=function(C,d,h){var u=C[h],_=d[h];if(u.rangeslider||d._requestRangeslider[_._id]){o.isPlainObject(u.rangeslider)||(u.rangeslider={});var b,M,w=u.rangeslider,N=g.newContainer(_,"rangeslider");if(I("visible")){I("bgcolor",d.plot_bgcolor),I("bordercolor"),I("borderwidth"),I("thickness"),I("autorange",!_.isValidRange(w.range)),I("range");var z=d._subplots;if(z)for(var k=z.cartesian.filter(function(B){return B.substr(0,B.indexOf("y"))===p.name2id(h)}).map(function(B){return B.substr(B.indexOf("y"),B.length)}),D=o.simpleMap(k,p.id2name),S=0;S<D.length;S++){var P=D[S];b=w[P]||{},M=g.newContainer(N,P,"yaxis");var V,E=d[P];b.range&&E.isValidRange(b.range)&&(V="fixed"),"match"!==L("rangemode",V)&&L("range",E.range.slice())}N._input=w}}function I(B,$){return o.coerce(w,N,l,B,$)}function L(B,$){return o.coerce(b,M,c,B,$)}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/cartesian/axis_ids":283,"./attributes":174,"./oppaxis_attributes":181}],178:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("../../registry"),p=m("../../plots/plots"),l=m("../../lib"),c=l.strTranslate,C=m("../drawing"),d=m("../color"),h=m("../titles"),u=m("../../plots/cartesian"),_=m("../../plots/cartesian/axis_ids"),b=m("../dragelement"),M=m("../../lib/setcursor"),w=m("./constants");function N(V,E,I,L){var B=l.ensureSingle(V,"rect",w.bgClassName,function(W){W.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),$=L.borderwidth%2==0?L.borderwidth:L.borderwidth-1,T=-L._offsetShift,Y=C.crispRound(E,L.borderwidth);B.attr({width:L._width+$,height:L._height+$,transform:c(T,T),fill:L.bgcolor,stroke:L.bordercolor,"stroke-width":Y})}function z(V,E,I,L){l.ensureSingleById(E._fullLayout._topdefs,"clipPath",L._clipId,function($){$.append("rect").attr({x:0,y:0})}).select("rect").attr({width:L._width,height:L._height})}function k(V,E,I,L){var B,$=E.calcdata,T=V.selectAll("g."+w.rangePlotClassName).data(I._subplotsWith,l.identity);T.enter().append("g").attr("class",function(Y){return w.rangePlotClassName+" "+Y}).call(C.setClipUrl,L._clipId,E),T.order(),T.exit().remove(),T.each(function(Y,W){var q=o.select(this),Q=0===W,te=_.getFromId(E,Y,"y"),ce=te._name,me=L[ce],ie={data:[],layout:{xaxis:{type:I.type,domain:[0,1],range:L.range.slice(),calendar:I.calendar},width:L._width,height:L._height,margin:{t:0,b:0,l:0,r:0}},_context:E._context};I.rangebreaks&&(ie.layout.xaxis.rangebreaks=I.rangebreaks),ie.layout[ce]={type:te.type,domain:[0,1],range:"match"!==me.rangemode?me.range.slice():te.range.slice(),calendar:te.calendar},te.rangebreaks&&(ie.layout[ce].rangebreaks=te.rangebreaks),p.supplyDefaults(ie);var K=ie._fullLayout.xaxis,le=ie._fullLayout[ce];K.clearCalc(),K.setScale(),le.clearCalc(),le.setScale();var G={id:Y,plotgroup:q,xaxis:K,yaxis:le,isRangePlot:!0};Q?B=G:(G.mainplot="xy",G.mainplotinfo=B),u.rangePlot(E,G,function(j,oe){for(var re=[],F=0;F<j.length;F++){var O=j[F],X=O[0].trace;X.xaxis+X.yaxis===oe&&re.push(O)}return re}($,Y))})}function D(V,E,I,L,B){l.ensureSingle(V,"rect",w.maskMinClassName,function($){$.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",L._height).call(d.fill,w.maskColor),l.ensureSingle(V,"rect",w.maskMaxClassName,function($){$.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",L._height).call(d.fill,w.maskColor),"match"!==B.rangemode&&(l.ensureSingle(V,"rect",w.maskMinOppAxisClassName,function($){$.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",L._width).call(d.fill,w.maskOppAxisColor),l.ensureSingle(V,"rect",w.maskMaxOppAxisClassName,function($){$.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",L._width).style("border-top",w.maskOppBorder).call(d.fill,w.maskOppAxisColor))}function S(V,E,I,L){E._context.staticPlot||l.ensureSingle(V,"rect",w.slideBoxClassName,function(B){B.attr({y:0,cursor:w.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:L._height,fill:w.slideBoxFill})}function P(V,E,I,L){var B=l.ensureSingle(V,"g",w.grabberMinClassName),$=l.ensureSingle(V,"g",w.grabberMaxClassName),T={x:0,width:w.handleWidth,rx:w.handleRadius,fill:d.background,stroke:d.defaultLine,"stroke-width":w.handleStrokeWidth,"shape-rendering":"crispEdges"},Y={y:Math.round(L._height/4),height:Math.round(L._height/2)};l.ensureSingle(B,"rect",w.handleMinClassName,function(q){q.attr(T)}).attr(Y),l.ensureSingle($,"rect",w.handleMaxClassName,function(q){q.attr(T)}).attr(Y);var W={width:w.grabAreaWidth,x:0,y:0,fill:w.grabAreaFill,cursor:E._context.staticPlot?void 0:w.grabAreaCursor};l.ensureSingle(B,"rect",w.grabAreaMinClassName,function(q){q.attr(W)}).attr("height",L._height),l.ensureSingle($,"rect",w.grabAreaMaxClassName,function(q){q.attr(W)}).attr("height",L._height)}de.exports=function(V){for(var E=V._fullLayout,I=E._rangeSliderData,L=0;L<I.length;L++){var B=I[L][w.name];B._clipId=B._id+"-"+E._uid}var $=E._infolayer.selectAll("g."+w.containerClassName).data(I,function(T){return T._name});$.exit().each(function(T){E._topdefs.select("#"+T[w.name]._clipId).remove()}).remove(),0!==I.length&&($.enter().append("g").classed(w.containerClassName,!0).attr("pointer-events","all"),$.each(function(T){var Y=o.select(this),W=T[w.name],q=E[_.id2name(T.anchor)],Q=W[_.id2name(T.anchor)];if(W.range){var te,ce=l.simpleMap(W.range,T.r2l),me=l.simpleMap(T.range,T.r2l);te=me[0]<me[1]?[Math.min(ce[0],me[0]),Math.max(ce[1],me[1])]:[Math.max(ce[0],me[0]),Math.min(ce[1],me[1])],W.range=W._input.range=l.simpleMap(te,T.l2r)}T.cleanRange("rangeslider.range");var ie=E._size,K=T.domain;W._width=ie.w*(K[1]-K[0]);var le=Math.round(ie.l+ie.w*K[0]),G=Math.round(ie.t+ie.h*(1-T._counterDomainMin)+("bottom"===T.side?T._depth:0)+W._offsetShift+w.extraPad);Y.attr("transform",c(le,G)),W._rl=l.simpleMap(W.range,T.r2l);var j=W._rl[0],oe=W._rl[1],re=oe-j;if(W.p2d=function(xe){return xe/W._width*re+j},W.d2p=function(xe){return(xe-j)/re*W._width},T.rangebreaks){var F=T.locateBreaks(j,oe);if(F.length){var O,X,R=0;for(O=0;O<F.length;O++)R+=(X=F[O]).max-X.min;var ae=W._width/(oe-j-R),fe=[-ae*j];for(O=0;O<F.length;O++)fe.push(fe[fe.length-1]-ae*((X=F[O]).max-X.min));for(W.d2p=function(xe){for(var Me=fe[0],Ae=0;Ae<F.length;Ae++){var ze=F[Ae];if(xe>=ze.max)Me=fe[Ae+1];else if(xe<ze.min)break}return Me+ae*xe},O=0;O<F.length;O++)(X=F[O]).pmin=W.d2p(X.min),X.pmax=W.d2p(X.max);W.p2d=function(xe){for(var Me=fe[0],Ae=0;Ae<F.length;Ae++){var ze=F[Ae];if(xe>=ze.pmax)Me=fe[Ae+1];else if(xe<ze.pmin)break}return(xe-Me)/ae}}}if("match"!==Q.rangemode){var ue=q.r2l(Q.range[0]),pe=q.r2l(Q.range[1])-ue;W.d2pOppAxis=function(xe){return(xe-ue)/pe*W._height}}Y.call(N,V,T,W).call(z,V,T,W).call(k,V,T,W).call(D,V,T,W,Q).call(S,V,T,W).call(P,V,T,W),function(xe,Me,Ae,ze){if(!Me._context.staticPlot){var Fe=xe.select("rect."+w.slideBoxClassName).node(),Ue=xe.select("rect."+w.grabAreaMinClassName).node(),t1=xe.select("rect."+w.grabAreaMaxClassName).node();xe.on("mousedown",Xe),xe.on("touchstart",Xe)}function Xe(){var Ge=o.event,we=Ge.target,ve=Ge.clientX||Ge.touches[0].clientX,De=ve-xe.node().getBoundingClientRect().left,Ve=ze.d2p(Ae._rl[0]),qe=ze.d2p(Ae._rl[1]),Ie=b.coverSlip();function Re(n1){var Ye,r1,f1,Je=+(n1.clientX||n1.touches[0].clientX)-ve;switch(we){case Fe:f1="ew-resize",Ye=Ve+Je,r1=qe+Je;break;case Ue:f1="col-resize",Ye=Ve+Je,r1=qe;break;case t1:f1="col-resize",Ye=Ve,r1=qe+Je;break;default:f1="ew-resize",Ye=De,r1=De+Je}if(r1<Ye){var g1=r1;r1=Ye,Ye=g1}ze._pixelMin=Ye,ze._pixelMax=r1,M(o.select(Ie),f1),function(b1,_1,I1,M1){function Be(O1){return I1.l2r(l.constrain(O1,M1._rl[0],M1._rl[1]))}var je=Be(M1.p2d(M1._pixelMin)),C1=Be(M1.p2d(M1._pixelMax));window.requestAnimationFrame(function(){g.call("_guiRelayout",_1,I1._name+".range",[je,C1])})}(0,Me,Ae,ze)}function Qe(){Ie.removeEventListener("mousemove",Re),Ie.removeEventListener("mouseup",Qe),this.removeEventListener("touchmove",Re),this.removeEventListener("touchend",Qe),l.removeElement(Ie)}this.addEventListener("touchmove",Re),this.addEventListener("touchend",Qe),Ie.addEventListener("mousemove",Re),Ie.addEventListener("mouseup",Qe)}}(Y,V,T,W),function(xe,Me,Ae,ze,Fe,Ue){var t1=w.handleWidth/2;function Xe(Qe){return l.constrain(Qe,0,ze._width)}function Ge(Qe){return l.constrain(Qe,0,ze._height)}function we(Qe){return l.constrain(Qe,-t1,ze._width+t1)}var ve=Xe(ze.d2p(Ae._rl[0])),De=Xe(ze.d2p(Ae._rl[1]));if(xe.select("rect."+w.slideBoxClassName).attr("x",ve).attr("width",De-ve),xe.select("rect."+w.maskMinClassName).attr("width",ve),xe.select("rect."+w.maskMaxClassName).attr("x",De).attr("width",ze._width-De),"match"!==Ue.rangemode){var Ve=ze._height-Ge(ze.d2pOppAxis(Fe._rl[1])),qe=ze._height-Ge(ze.d2pOppAxis(Fe._rl[0]));xe.select("rect."+w.maskMinOppAxisClassName).attr("x",ve).attr("height",Ve).attr("width",De-ve),xe.select("rect."+w.maskMaxOppAxisClassName).attr("x",ve).attr("y",qe).attr("height",ze._height-qe).attr("width",De-ve),xe.select("rect."+w.slideBoxClassName).attr("y",Ve).attr("height",qe-Ve)}var Ie=Math.round(we(ve-t1))-.5,Re=Math.round(we(De-t1))+.5;xe.select("g."+w.grabberMinClassName).attr("transform",c(Ie,.5)),xe.select("g."+w.grabberMaxClassName).attr("transform",c(Re,.5))}(Y,0,T,W,q,Q),"bottom"===T.side&&h.draw(V,T._id+"title",{propContainer:T,propName:T._name+".title",placeholder:E._dfltTitle.x,attributes:{x:T._offset+T._length/2,y:G+W._height+W._offsetShift+10+1.5*T.title.font.size,"text-anchor":"middle"}})}))}},{"../../lib":232,"../../lib/setcursor":252,"../../plots/cartesian":293,"../../plots/cartesian/axis_ids":283,"../../plots/plots":316,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"../titles":200,"./constants":176,"@plotly/d3":11}],179:[function(m,de,ne){"use strict";var o=m("../../plots/cartesian/axis_ids"),g=m("../../lib/svg_text_utils"),p=m("./constants"),l=m("../../constants/alignment").LINE_SPACING,c=p.name;function C(d){var h=d&&d[c];return h&&h.visible}ne.isVisible=C,ne.makeData=function(d){var h=o.list({_fullLayout:d},"x",!0),u=d.margin,_=[];if(!d._has("gl2d"))for(var b=0;b<h.length;b++){var M=h[b];if(C(M)){_.push(M);var w=M[c];w._id=c+M._id,w._height=(d.height-u.b-u.t)*w.thickness,w._offsetShift=Math.floor(w.borderwidth/2)}}d._rangeSliderData=_},ne.autoMarginOpts=function(d,h){var u=d._fullLayout,_=h[c],b=h._id.charAt(0),M=0,w=0;return"bottom"===h.side&&(M=h._depth,h.title.text!==u._dfltTitle[b]&&(w=1.5*h.title.font.size+10+_._offsetShift,w+=(h.title.text.match(g.BR_TAG_ALL)||[]).length*h.title.font.size*l)),{x:0,y:h._counterDomainMin,l:0,r:0,t:0,b:_._height+M+Math.max(u.margin.b,w),pad:p.extraPad+2*_._offsetShift}}},{"../../constants/alignment":207,"../../lib/svg_text_utils":255,"../../plots/cartesian/axis_ids":283,"./constants":176}],180:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("./attributes"),p=m("./oppaxis_attributes"),l=m("./helpers");de.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:o.extendFlat({},g,{yaxis:p})}}},layoutAttributes:m("./attributes"),handleDefaults:m("./defaults"),calcAutorange:m("./calc_autorange"),draw:m("./draw"),isVisible:l.isVisible,makeData:l.makeData,autoMarginOpts:l.autoMarginOpts}},{"../../lib":232,"./attributes":174,"./calc_autorange":175,"./defaults":177,"./draw":178,"./helpers":179,"./oppaxis_attributes":181}],181:[function(m,de,ne){"use strict";de.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},{}],182:[function(m,de,ne){"use strict";var o=m("../annotations/attributes"),g=m("../../traces/scatter/attributes").line,p=m("../drawing/attributes").dash,l=m("../../lib/extend").extendFlat,c=m("../../plot_api/plot_template").templatedArray;m("../../constants/axis_placeable_objects"),de.exports=c("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:l({},o.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:l({},o.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:l({},g.color,{editType:"arraydraw"}),width:l({},g.width,{editType:"calc+arraydraw"}),dash:l({},p,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":208,"../../lib/extend":226,"../../plot_api/plot_template":268,"../../traces/scatter/attributes":358,"../annotations/attributes":85,"../drawing/attributes":123}],183:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("../../plots/cartesian/axes"),p=m("./constants"),l=m("./helpers");function c(u){return d(u.line.width,u.xsizemode,u.x0,u.x1,u.path,!1)}function C(u){return d(u.line.width,u.ysizemode,u.y0,u.y1,u.path,!0)}function d(u,_,b,M,w,N){var z=u/2,k=N;if("pixel"===_){var D=w?l.extractPathCoords(w,N?p.paramIsY:p.paramIsX):[b,M],S=o.aggNums(Math.max,null,D),P=o.aggNums(Math.min,null,D),V=P<0?Math.abs(P)+z:z,E=S>0?S+z:z;return{ppad:z,ppadplus:k?V:E,ppadminus:k?E:V}}return{ppad:z}}function h(u,_,b,M,w){var N="category"===u.type||"multicategory"===u.type?u.r2c:u.d2c;if(void 0!==_)return[N(_),N(b)];if(M){var z,k,D,S,P=1/0,V=-1/0,E=M.match(p.segmentRE);for("date"===u.type&&(N=l.decodeDate(N)),z=0;z<E.length;z++)void 0!==(k=w[E[z].charAt(0)].drawn)&&(!(D=E[z].substr(1).match(p.paramRE))||D.length<k||((S=N(D[k]))<P&&(P=S),S>V&&(V=S)));return V>=P?[P,V]:void 0}}de.exports=function(u){var b=o.filterVisible(u._fullLayout.shapes);if(b.length&&u._fullData.length)for(var M=0;M<b.length;M++){var w,N,z=b[M];z._extremes={};var k=g.getRefType(z.xref),D=g.getRefType(z.yref);if("paper"!==z.xref&&"domain"!==k){var S="pixel"===z.xsizemode?z.xanchor:z.x0,P="pixel"===z.xsizemode?z.xanchor:z.x1;(N=h(w=g.getFromId(u,z.xref),S,P,z.path,p.paramIsX))&&(z._extremes[w._id]=g.findExtremes(w,N,c(z)))}if("paper"!==z.yref&&"domain"!==D){var V="pixel"===z.ysizemode?z.yanchor:z.y0,E="pixel"===z.ysizemode?z.yanchor:z.y1;(N=h(w=g.getFromId(u,z.yref),V,E,z.path,p.paramIsY))&&(z._extremes[w._id]=g.findExtremes(w,N,C(z)))}}}},{"../../lib":232,"../../plots/cartesian/axes":279,"./constants":184,"./helpers":193}],184:[function(m,de,ne){"use strict";de.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},{}],185:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("../../plots/cartesian/axes"),p=m("../../plots/array_container_defaults"),l=m("./attributes"),c=m("./helpers");function C(d,h,u){function _(Q,te){return o.coerce(d,h,l,Q,te)}if(_("visible")){var b=_("path"),M=_("type",b?"path":"rect");"path"!==h.type&&delete h.path,_("editable"),_("layer"),_("opacity"),_("fillcolor"),_("fillrule"),_("line.width")&&(_("line.color"),_("line.dash"));for(var w=_("xsizemode"),N=_("ysizemode"),z=["x","y"],k=0;k<2;k++){var D,S,P,V=z[k],E=V+"anchor",I="x"===V?w:N,L={_fullLayout:u},B=g.coerceRef(d,h,L,V,void 0,"paper");if("range"===g.getRefType(B)?((D=g.getFromId(L,B))._shapeIndices.push(h._index),P=c.rangeToShapePosition(D),S=c.shapePositionToRange(D)):S=P=o.identity,"path"!==M){var $=V+"0",T=V+"1",Y=d[$],W=d[T];d[$]=S(d[$],!0),d[T]=S(d[T],!0),"pixel"===I?(_($,0),_(T,10)):(g.coercePosition(h,L,_,B,$,.25),g.coercePosition(h,L,_,B,T,.75)),h[$]=P(h[$]),h[T]=P(h[T]),d[$]=Y,d[T]=W}if("pixel"===I){var q=d[E];d[E]=S(d[E],!0),g.coercePosition(h,L,_,B,E,.25),h[E]=P(h[E]),d[E]=q}}"path"===M?_("path"):o.noneOrAll(d,h,["x0","x1","y0","y1"])}}de.exports=function(d,h){p(d,h,{name:"shapes",handleItemDefaults:C})}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"./attributes":182,"./helpers":193}],186:[function(m,de,ne){"use strict";var o=m("../../registry"),g=m("../../lib"),p=m("../../plots/cartesian/axes"),l=m("./draw_newshape/helpers").readPaths,c=m("./draw_newshape/display_outlines"),C=m("../../plots/cartesian/handle_outline").clearOutlineControllers,d=m("../color"),h=m("../drawing"),u=m("../../plot_api/plot_template").arrayEditor,_=m("../dragelement"),b=m("../../lib/setcursor"),M=m("./constants"),w=m("./helpers");function N(I){var L=I._fullLayout;for(var B in L._shapeUpperLayer.selectAll("path").remove(),L._shapeLowerLayer.selectAll("path").remove(),L._plots){var $=L._plots[B].shapelayer;$&&$.selectAll("path").remove()}for(var T=0;T<L.shapes.length;T++)L.shapes[T].visible&&D(I,T)}function z(I){return!!I._fullLayout._drawing}function k(I){return!I._context.edits.shapePosition}function D(I,L){I._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+L+'"]').remove();var B=w.makeOptionsAndPlotinfo(I,L),$=B.options,T=B.plotinfo;$._input&&!1!==$.visible&&function Y(W){var q=P(I,$),Q={"data-index":L,"fill-rule":$.fillrule,d:q},te=$.opacity,ce=$.fillcolor,me=$.line.width?$.line.color:"rgba(0,0,0,0)",ie=$.line.width,K=$.line.dash;ie||!0!==$.editable||(ie=5,K="solid");var le="Z"!==q[q.length-1],G=k(I)&&$.editable&&I._fullLayout._activeShapeIndex===L;G&&(ce=le?"rgba(0,0,0,0)":I._fullLayout.activeshape.fillcolor,te=I._fullLayout.activeshape.opacity);var j,oe=W.append("path").attr(Q).style("opacity",te).call(d.stroke,me).call(d.fill,ce).call(h.dashLine,K,ie);if(S(oe,I,$),(G||I._context.edits.shapePosition)&&(j=u(I.layout,"shapes",$)),G){oe.style({cursor:"move"});var re={element:oe.node(),plotinfo:T,gd:I,editHelpers:j,isActiveShape:!0},F=l(q,I);c(F,oe,re)}else I._context.edits.shapePosition?function(O,X,R,ae,fe,ue){var pe,xe,Me,Ae,ze,Fe,Ue,t1,Xe,Ge,we,ve,De,Ve,qe,Ie,Re="pixel"===R.xsizemode,Qe="pixel"===R.ysizemode,n1="line"===R.type,Ye="path"===R.type,r1=ue.modifyItem,f1=p.getFromId(O,R.xref),Je=p.getRefType(R.xref),g1=p.getFromId(O,R.yref),b1=p.getRefType(R.yref),_1=w.getDataToPixel(O,f1,!1,Je),I1=w.getDataToPixel(O,g1,!0,b1),M1=w.getPixelToData(O,f1,!1,Je),Be=w.getPixelToData(O,g1,!0,b1),je=n1?function(){var N1=Math.max(R.line.width,10),ge=fe.append("g").attr("data-index",ae);ge.append("path").attr("d",X.attr("d")).style({cursor:"move","stroke-width":N1,"stroke-opacity":"0"});var ye={"fill-opacity":"0"},We=Math.max(N1/2,10);return ge.append("circle").attr({"data-line-point":"start-point",cx:Re?_1(R.xanchor)+R.x0:_1(R.x0),cy:Qe?I1(R.yanchor)-R.y0:I1(R.y0),r:We}).style(ye).classed("cursor-grab",!0),ge.append("circle").attr({"data-line-point":"end-point",cx:Re?_1(R.xanchor)+R.x1:_1(R.x1),cy:Qe?I1(R.yanchor)-R.y1:I1(R.y1),r:We}).style(ye).classed("cursor-grab",!0),ge}():X,C1={element:je.node(),gd:O,prepFn:function(N1){var ge,ye,We,e1,d1,a1,l1,c1;z(O)||(Re&&(ze=_1(R.xanchor)),Qe&&(Fe=I1(R.yanchor)),"path"===R.type?qe=R.path:(pe=Re?R.x0:_1(R.x0),xe=Qe?R.y0:I1(R.y0),Me=Re?R.x1:_1(R.x1),Ae=Qe?R.y1:I1(R.y1)),pe<Me?(Xe=pe,De="x0",Ge=Me,Ve="x1"):(Xe=Me,De="x1",Ge=pe,Ve="x0"),!Qe&&xe<Ae||Qe&&xe>Ae?(Ue=xe,we="y0",t1=Ae,ve="y1"):(Ue=Ae,we="y1",t1=xe,ve="y0"),O1(N1),$1(fe,R),ge=X,d1=(ye=R).yref,a1=p.getFromId(We=O,e1=ye.xref),l1=p.getFromId(We,d1),c1="","paper"===e1||a1.autorange||(c1+=e1),"paper"===d1||l1.autorange||(c1+=d1),h.setClipUrl(ge,c1?"clip"+We._fullLayout._uid+c1:null,We),C1.moveFn="move"===Ie?Q1:st,C1.altKey=N1.altKey)},doneFn:function(){z(O)||(b(X),Z1(fe),S(X,O,R),o.call("_guiRelayout",O,ue.getUpdateObj()))},clickFn:function(){z(O)||Z1(fe)}};function O1(N1){if(z(O))Ie=null;else if(n1)Ie="path"===N1.target.tagName?"move":"start-point"===N1.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var ge=C1.element.getBoundingClientRect(),ye=ge.right-ge.left,We=ge.bottom-ge.top,a1=!Ye&&ye>10&&We>10&&!N1.shiftKey?_.getCursor((N1.clientX-ge.left)/ye,1-(N1.clientY-ge.top)/We):"move";b(X,a1),Ie=a1.split("-")[0]}}function Q1(N1,ge){if("path"===R.type){var ye=function(d1){return d1},We=ye,e1=ye;Re?r1("xanchor",R.xanchor=M1(ze+N1)):(We=function(d1){return M1(_1(d1)+N1)},f1&&"date"===f1.type&&(We=w.encodeDate(We))),Qe?r1("yanchor",R.yanchor=Be(Fe+ge)):(e1=function(d1){return Be(I1(d1)+ge)},g1&&"date"===g1.type&&(e1=w.encodeDate(e1))),r1("path",R.path=V(qe,We,e1))}else Re?r1("xanchor",R.xanchor=M1(ze+N1)):(r1("x0",R.x0=M1(pe+N1)),r1("x1",R.x1=M1(Me+N1))),Qe?r1("yanchor",R.yanchor=Be(Fe+ge)):(r1("y0",R.y0=Be(xe+ge)),r1("y1",R.y1=Be(Ae+ge)));X.attr("d",P(O,R)),$1(fe,R)}function st(N1,ge){if(Ye){var ye=function(it){return it},We=ye,e1=ye;Re?r1("xanchor",R.xanchor=M1(ze+N1)):(We=function(it){return M1(_1(it)+N1)},f1&&"date"===f1.type&&(We=w.encodeDate(We))),Qe?r1("yanchor",R.yanchor=Be(Fe+ge)):(e1=function(it){return Be(I1(it)+ge)},g1&&"date"===g1.type&&(e1=w.encodeDate(e1))),r1("path",R.path=V(qe,We,e1))}else if(n1){if("resize-over-start-point"===Ie){var d1=pe+N1,a1=Qe?xe-ge:xe+ge;r1("x0",R.x0=Re?d1:M1(d1)),r1("y0",R.y0=Qe?a1:Be(a1))}else if("resize-over-end-point"===Ie){var l1=Me+N1,c1=Qe?Ae-ge:Ae+ge;r1("x1",R.x1=Re?l1:M1(l1)),r1("y1",R.y1=Qe?c1:Be(c1))}}else{var w1=function(it){return-1!==Ie.indexOf(it)},T1=w1("n"),B1=w1("s"),rt=w1("w"),H1=w1("e"),Y1=T1?Ue+ge:Ue,ut=B1?t1+ge:t1,k1=rt?Xe+N1:Xe,L1=H1?Ge+N1:Ge;Qe&&(T1&&(Y1=Ue-ge),B1&&(ut=t1-ge)),(!Qe&&ut-Y1>10||Qe&&Y1-ut>10)&&(r1(we,R[we]=Qe?Y1:Be(Y1)),r1(ve,R[ve]=Qe?ut:Be(ut))),L1-k1>10&&(r1(De,R[De]=Re?k1:M1(k1)),r1(Ve,R[Ve]=Re?L1:M1(L1)))}X.attr("d",P(O,R)),$1(fe,R)}function $1(N1,ge){(Re||Qe)&&function(){var ye="path"!==ge.type,We=N1.selectAll(".visual-cue").data([0]);We.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var e1=_1(Re?ge.xanchor:g.midRange(ye?[ge.x0,ge.x1]:w.extractPathCoords(ge.path,M.paramIsX))),d1=I1(Qe?ge.yanchor:g.midRange(ye?[ge.y0,ge.y1]:w.extractPathCoords(ge.path,M.paramIsY)));e1=w.roundPositionForSharpStrokeRendering(e1,1),d1=w.roundPositionForSharpStrokeRendering(d1,1),We.attr("d",Re&&Qe?"M"+(e1-1-1)+","+(d1-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z":Re?"M"+(e1-1-1)+","+(d1-9-1)+"v18 h2 v-18 Z":"M"+(e1-9-1)+","+(d1-1-1)+"h18 v2 h-18 Z")}()}function Z1(N1){N1.selectAll(".visual-cue").remove()}_.init(C1),je.node().onmousemove=O1}(I,oe,$,L,W,j):!0===$.editable&&oe.style("pointer-events",le||d.opacity(ce)*te<=.5?"stroke":"all");oe.node().addEventListener("click",function(){return function(O,X){if(k(O)){var R=+X.node().getAttribute("data-index");if(R>=0){if(R===O._fullLayout._activeShapeIndex)return void E(O);O._fullLayout._activeShapeIndex=R,O._fullLayout._deactivateShape=E,N(O)}}}(I,oe)})}("below"!==$.layer?I._fullLayout._shapeUpperLayer:"paper"===$.xref||"paper"===$.yref?I._fullLayout._shapeLowerLayer:T._hadPlotinfo?(T.mainplotinfo||T).shapelayer:I._fullLayout._shapeLowerLayer)}function S(I,L,B){var $=(B.xref+B.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");h.setClipUrl(I,$?"clip"+L._fullLayout._uid+$:null,L)}function P(I,L){var B,$,T,Y,W,q,Q,te,fe,ue,pe,Me,Ae,ze,Fe,ce=L.type,me=p.getRefType(L.xref),ie=p.getRefType(L.yref),K=p.getFromId(I,L.xref),le=p.getFromId(I,L.yref),G=I._fullLayout._size;if(K?"domain"===me?$=function(fe){return K._offset+K._length*fe}:(B=w.shapePositionToRange(K),$=function(fe){return K._offset+K.r2p(B(fe,!0))}):$=function(fe){return G.l+G.w*fe},le?"domain"===ie?Y=function(fe){return le._offset+le._length*(1-fe)}:(T=w.shapePositionToRange(le),Y=function(fe){return le._offset+le.r2p(T(fe,!0))}):Y=function(fe){return G.t+G.h*(1-fe)},"path"===ce)return K&&"date"===K.type&&($=w.decodeDate($)),le&&"date"===le.type&&(Y=w.decodeDate(Y)),ue=$,pe=Y,Me=(fe=L).xsizemode,Ae=fe.ysizemode,ze=fe.xanchor,Fe=fe.yanchor,fe.path.replace(M.segmentRE,function(Ue){var t1=0,Xe=Ue.charAt(0),Ge=M.paramIsX[Xe],we=M.paramIsY[Xe],ve=M.numParams[Xe],De=Ue.substr(1).replace(M.paramRE,function(Ve){return Ge[t1]?Ve="pixel"===Me?ue(ze)+Number(Ve):ue(Ve):we[t1]&&(Ve="pixel"===Ae?pe(Fe)-Number(Ve):pe(Ve)),++t1>ve&&(Ve="X"),Ve});return t1>ve&&(De=De.replace(/[\s,]*X.*/,""),g.log("Ignoring extra params in segment "+Ue)),Xe+De});if("pixel"===L.xsizemode){var j=$(L.xanchor);W=j+L.x0,q=j+L.x1}else W=$(L.x0),q=$(L.x1);if("pixel"===L.ysizemode){var oe=Y(L.yanchor);Q=oe-L.y0,te=oe-L.y1}else Q=Y(L.y0),te=Y(L.y1);if("line"===ce)return"M"+W+","+Q+"L"+q+","+te;if("rect"===ce)return"M"+W+","+Q+"H"+q+"V"+te+"H"+W+"Z";var re=(W+q)/2,F=(Q+te)/2,O=Math.abs(re-W),X=Math.abs(F-Q),R="A"+O+","+X,ae=re+O+","+F;return"M"+ae+R+" 0 1,1 "+re+","+(F-X)+R+" 0 0,1 "+ae+"Z"}function V(I,L,B){return I.replace(M.segmentRE,function($){var T=0,Y=$.charAt(0),W=M.paramIsX[Y],q=M.paramIsY[Y],Q=M.numParams[Y];return Y+$.substr(1).replace(M.paramRE,function(te){return T>=Q||(W[T]?te=L(te):q[T]&&(te=B(te)),T++),te})})}function E(I){k(I)&&I._fullLayout._activeShapeIndex>=0&&(C(I),delete I._fullLayout._activeShapeIndex,N(I))}de.exports={draw:N,drawOne:D,eraseActiveShape:function(I){if(k(I)){C(I);var L=I._fullLayout._activeShapeIndex,B=(I.layout||{}).shapes||[];if(L<B.length){for(var $=[],T=0;T<B.length;T++)T!==L&&$.push(B[T]);delete I._fullLayout._activeShapeIndex,o.call("_guiRelayout",I,{shapes:$})}}}}},{"../../lib":232,"../../lib/setcursor":252,"../../plot_api/plot_template":268,"../../plots/cartesian/axes":279,"../../plots/cartesian/handle_outline":290,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"./constants":184,"./draw_newshape/display_outlines":190,"./draw_newshape/helpers":191,"./helpers":193}],187:[function(m,de,ne){"use strict";var o=m("../../drawing/attributes").dash,g=m("../../../lib/extend").extendFlat;de.exports={newshape:{line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:0,dflt:4,editType:"none"},dash:g({},o,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none"},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},{"../../../lib/extend":226,"../../drawing/attributes":123}],188:[function(m,de,ne){"use strict";de.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},{}],189:[function(m,de,ne){"use strict";var o=m("../../color");de.exports=function(g,p,l){l("newshape.drawdirection"),l("newshape.layer"),l("newshape.fillcolor"),l("newshape.fillrule"),l("newshape.opacity"),l("newshape.line.width")&&(l("newshape.line.color",o.contrast((g||{}).plot_bgcolor||"#FFF")),l("newshape.line.dash")),l("activeshape.fillcolor"),l("activeshape.opacity")}},{"../../color":102}],190:[function(m,de,ne){"use strict";var o=m("../../dragelement"),g=m("../../dragelement/helpers").drawMode,p=m("../../../registry"),l=m("./constants"),c=l.i000,C=l.i090,d=l.i180,h=l.i270,u=m("../../../plots/cartesian/handle_outline").clearOutlineControllers,_=m("./helpers"),b=_.pointsShapeRectangle,M=_.pointsShapeEllipse,w=_.writePaths,N=m("./newshapes");de.exports=function z(k,D,S,P){P||(P=0);var V=S.gd;function E(){z(k,D,S,P++),M(k[0])&&I({redrawing:!0})}function I(j){S.isActiveShape=!1;var oe=N(D,S);Object.keys(oe).length&&p.call((j||{}).redrawing?"relayout":"_guiRelayout",V,oe)}var L,B,$,T,Y,W=S.isActiveShape,q=V._fullLayout._zoomlayer;function te(j){$=+j.srcElement.getAttribute("data-i"),T=+j.srcElement.getAttribute("data-j"),L[$][T].moveFn=ce}function ce(j,oe){if(k.length){var re=Y[$][T][1],F=Y[$][T][2],O=k[$],X=O.length;if(b(O)){for(var R=0;R<X;R++)if(R!==T){var ae=O[R];ae[1]===O[T][1]&&(ae[1]=re+j),ae[2]===O[T][2]&&(ae[2]=F+oe)}if(O[T][1]=re+j,O[T][2]=F+oe,!b(O))for(var fe=0;fe<X;fe++)for(var ue=0;ue<O[fe].length;ue++)O[fe][ue]=Y[$][fe][ue]}else O[T][1]=re+j,O[T][2]=F+oe;E()}}function me(){I()}function ie(j,oe){if(2===j){$=+oe.srcElement.getAttribute("data-i"),T=+oe.srcElement.getAttribute("data-j");var re=k[$];b(re)||M(re)||function(){if(k.length&&k[$]&&k[$].length){for(var F=[],O=0;O<k[$].length;O++)O!==T&&F.push(k[$][O]);F.length>1&&(2!==F.length||"Z"!==F[1][0])&&(0===T&&(F[0][0]="M"),k[$]=F,E(),I())}}()}}function K(j,oe){(function(re,F){if(k.length)for(var O=0;O<k.length;O++)for(var X=0;X<k[O].length;X++)for(var R=0;R+2<k[O][X].length;R+=2)k[O][X][R+1]=Y[O][X][R+1]+re,k[O][X][R+2]=Y[O][X][R+2]+F})(j,oe),E()}g(S.dragmode)?V._fullLayout._drawing=!0:V._fullLayout._activeShapeIndex>=0&&u(V),D.attr("d",w(k)),W&&!P&&(Y=function(j,oe){for(var re=0;re<oe.length;re++){var F=oe[re];j[re]=[];for(var O=0;O<F.length;O++){j[re][O]=[];for(var X=0;X<F[O].length;X++)j[re][O][X]=F[O][X]}}return j}([],k),function(j){L=[];for(var oe=0;oe<k.length;oe++){var re=k[oe],F=!b(re)&&M(re);L[oe]=[];for(var O=0;O<re.length;O++)if("Z"!==re[O][0]&&(!F||O===c||O===C||O===d||O===h)){var X=re[O][1],R=re[O][2],ae=j.append("circle").classed("cursor-grab",!0).attr("data-i",oe).attr("data-j",O).attr("cx",X).attr("cy",R).attr("r",4).style({"mix-blend-mode":"luminosity",fill:"black",stroke:"white","stroke-width":1});L[oe][O]={element:ae.node(),gd:V,prepFn:te,doneFn:me,clickFn:ie},o.init(L[oe][O])}}}(q.append("g").attr("class","outline-controllers")),B=[],k.length&&(B[0]={element:D[0][0],gd:V,prepFn:function le(j){($=+j.srcElement.getAttribute("data-i"))||($=0),B[$].moveFn=K},doneFn:function G(){I()}},o.init(B[0])))}},{"../../../plots/cartesian/handle_outline":290,"../../../registry":318,"../../dragelement":121,"../../dragelement/helpers":120,"./constants":188,"./helpers":191,"./newshapes":192}],191:[function(m,de,ne){"use strict";var o=m("parse-svg-path"),g=m("./constants"),p=g.CIRCLE_SIDES,l=g.SQRT2,c=m("../../../plots/cartesian/helpers"),C=c.p2r,d=c.r2p,h=[0,3,4,5,6,1,2],u=[0,3,4,1,2];function _(M,w){return Math.abs(M-w)<=1e-6}function b(M,w){var N=w[1]-M[1],z=w[2]-M[2];return Math.sqrt(N*N+z*z)}ne.writePaths=function(M){var w=M.length;if(!w)return"M0,0Z";for(var N="",z=0;z<w;z++)for(var k=M[z].length,D=0;D<k;D++){var S=M[z][D][0];if("Z"===S)N+="Z";else for(var P=M[z][D].length,V=0;V<P;V++){var E=V;"Q"===S||"S"===S?E=u[V]:"C"===S&&(E=h[V]),N+=M[z][D][E],V>0&&V<P-1&&(N+=",")}}return N},ne.readPaths=function(M,w,N,z){var k,D,S,P=o(M),V=[],E=-1,I=0,L=0,B=function(){D=I,S=L};B();for(var $=0;$<P.length;$++){var Q=[],te=P[$][0],ce=te;switch(te){case"M":V[++E]=[],Q.push([ce,I=+P[$][1],L=+P[$][2]]),B();break;case"Q":case"S":Q.push([ce,I=+P[$][3],L=+P[$][4],+P[$][1],+P[$][2]]);break;case"C":Q.push([ce,I=+P[$][5],L=+P[$][6],+P[$][1],+P[$][2],+P[$][3],+P[$][4]]);break;case"T":case"L":Q.push([ce,I=+P[$][1],L=+P[$][2]]);break;case"H":Q.push([ce="L",I=+P[$][1],L]);break;case"V":Q.push([ce="L",I,L=+P[$][1]]);break;case"A":ce="L";var me=+P[$][1],ie=+P[$][2];+P[$][4]||(me=-me,ie=-ie);var K=I-me,le=L;for(k=1;k<=p/2;k++){var G=2*Math.PI*k/p;Q.push([ce,K+me*Math.cos(G),le+ie*Math.sin(G)])}break;case"Z":I===D&&L===S||Q.push([ce,I=D,L=S])}for(var j=(N||{}).domain,oe=w._fullLayout._size,re=N&&"pixel"===N.xsizemode,F=N&&"pixel"===N.ysizemode,O=!1===z,X=0;X<Q.length;X++){for(k=0;k+2<7;k+=2){var R=Q[X][k+1],ae=Q[X][k+2];void 0!==R&&void 0!==ae&&(I=R,L=ae,N&&(N.xaxis&&N.xaxis.p2r?(O&&(R-=N.xaxis._offset),R=re?d(N.xaxis,N.xanchor)+R:C(N.xaxis,R)):(O&&(R-=oe.l),j?R=j.x[0]+R/oe.w:R/=oe.w),N.yaxis&&N.yaxis.p2r?(O&&(ae-=N.yaxis._offset),ae=F?d(N.yaxis,N.yanchor)-ae:C(N.yaxis,ae)):(O&&(ae-=oe.t),ae=j?j.y[1]-ae/oe.h:1-ae/oe.h)),Q[X][k+1]=R,Q[X][k+2]=ae)}V[E].push(Q[X].slice())}}return V},ne.pointsShapeRectangle=function(M){if(5!==M.length)return!1;for(var w=1;w<3;w++)if(!_(M[0][w]-M[1][w],M[3][w]-M[2][w])||!_(M[0][w]-M[3][w],M[1][w]-M[2][w]))return!1;return!(!_(M[0][1],M[1][1])&&!_(M[0][1],M[3][1])||!(b(M[0],M[1])*b(M[0],M[3])))},ne.pointsShapeEllipse=function(M){var w=M.length;if(w!==p+1)return!1;w=p;for(var N=0;N<w;N++){var z=(2*w-N)%w,k=(w/2+z)%w;if(!_(b(M[N],M[(w/2+N)%w]),b(M[z],M[k])))return!1}return!0},ne.handleEllipse=function(M,w,N){if(!M)return[w,N];var z=ne.ellipseOver({x0:w[0],y0:w[1],x1:N[0],y1:N[1]}),k=(z.x1+z.x0)/2,D=(z.y1+z.y0)/2,S=(z.x1-z.x0)/2,P=(z.y1-z.y0)/2;S||(S=P/=l),P||(P=S/=l);for(var V=[],E=0;E<p;E++){var I=2*E*Math.PI/p;V.push([k+S*Math.cos(I),D+P*Math.sin(I)])}return V},ne.ellipseOver=function(M){var w=M.x0,N=M.y0,z=M.x1,k=M.y1,D=z-w,S=k-N,P=((w-=D)+z)/2,V=((N-=S)+k)/2;return{x0:P-(D*=l),y0:V-(S*=l),x1:P+D,y1:V+S}}},{"../../../plots/cartesian/helpers":291,"./constants":188,"parse-svg-path":56}],192:[function(m,de,ne){"use strict";var o=m("../../dragelement/helpers"),g=o.drawMode,p=o.openMode,l=m("./constants"),c=l.i000,C=l.i090,d=l.i180,h=l.i270,u=l.cos45,_=l.sin45,b=m("../../../plots/cartesian/helpers"),M=b.p2r,w=b.r2p,N=m("../../../plots/cartesian/handle_outline").clearSelect,z=m("./helpers"),k=z.readPaths,D=z.writePaths,S=z.ellipseOver;de.exports=function(P,V){if(P.length){var E=P[0][0];if(E){var I=E.getAttribute("d"),L=V.gd,B=L._fullLayout.newshape,$=V.plotinfo,T=$.xaxis,Y=$.yaxis,W=!!$.domain||!$.xaxis,q=!!$.domain||!$.yaxis,Q=V.isActiveShape,te=V.dragmode,ce=(L.layout||{}).shapes||[];if(!g(te)&&void 0!==Q){var me=L._fullLayout._activeShapeIndex;if(me<ce.length)switch(L._fullLayout.shapes[me].type){case"rect":te="drawrect";break;case"circle":te="drawcircle";break;case"line":te="drawline";break;case"path":var ie=ce[me].path||"";te="Z"===ie[ie.length-1]?"drawclosedpath":"drawopenpath"}}var K,le=p(te),G=k(I,L,$,Q),j={editable:!0,xref:W?"paper":T._id,yref:q?"paper":Y._id,layer:B.layer,opacity:B.opacity,line:{color:B.line.color,width:B.line.width,dash:B.line.dash}};if(le||(j.fillcolor=B.fillcolor,j.fillrule=B.fillrule),1===G.length&&(K=G[0]),K&&"drawrect"===te)j.type="rect",j.x0=K[0][1],j.y0=K[0][2],j.x1=K[2][1],j.y1=K[2][2];else if(K&&"drawline"===te)j.type="line",j.x0=K[0][1],j.y0=K[0][2],j.x1=K[1][1],j.y1=K[1][2];else if(K&&"drawcircle"===te){j.type="circle";var oe=K[c][1],re=K[C][1],F=K[d][1],O=K[h][1],X=K[c][2],R=K[C][2],ae=K[d][2],fe=K[h][2],ue=$.xaxis&&("date"===$.xaxis.type||"log"===$.xaxis.type),pe=$.yaxis&&("date"===$.yaxis.type||"log"===$.yaxis.type);ue&&(oe=w($.xaxis,oe),re=w($.xaxis,re),F=w($.xaxis,F),O=w($.xaxis,O)),pe&&(X=w($.yaxis,X),R=w($.yaxis,R),ae=w($.yaxis,ae),fe=w($.yaxis,fe));var xe=(re+O)/2,Me=(X+ae)/2,Ae=S({x0:xe,y0:Me,x1:xe+(O-re+F-oe)/2*u,y1:Me+(fe-R+ae-X)/2*_});ue&&(Ae.x0=M($.xaxis,Ae.x0),Ae.x1=M($.xaxis,Ae.x1)),pe&&(Ae.y0=M($.yaxis,Ae.y0),Ae.y1=M($.yaxis,Ae.y1)),j.x0=Ae.x0,j.y0=Ae.y0,j.x1=Ae.x1,j.y1=Ae.y1}else j.type="path",T&&Y&&function(we,ve,De){var Ve="date"===ve.type,qe="date"===De.type;if(!Ve&&!qe)return we;for(var Ie=0;Ie<we.length;Ie++)for(var Re=0;Re<we[Ie].length;Re++)for(var Qe=0;Qe+2<we[Ie][Re].length;Qe+=2)Ve&&(we[Ie][Re][Qe+1]=we[Ie][Re][Qe+1].replace(" ","_")),qe&&(we[Ie][Re][Qe+2]=we[Ie][Re][Qe+2].replace(" ","_"))}(G,T,Y),j.path=D(G),K=null;N(L);for(var ze=V.editHelpers,Fe=(ze||{}).modifyItem,Ue=[],t1=0;t1<ce.length;t1++){var Xe=L._fullLayout.shapes[t1];if(Ue[t1]=Xe._input,void 0!==Q&&t1===L._fullLayout._activeShapeIndex){var Ge=j;switch(Xe.type){case"line":case"rect":case"circle":Fe("x0",Ge.x0),Fe("x1",Ge.x1),Fe("y0",Ge.y0),Fe("y1",Ge.y1);break;case"path":Fe("path",Ge.path)}}}return void 0===Q?(Ue.push(j),Ue):ze?ze.getUpdateObj():{}}}}},{"../../../plots/cartesian/handle_outline":290,"../../../plots/cartesian/helpers":291,"../../dragelement/helpers":120,"./constants":188,"./helpers":191}],193:[function(m,de,ne){"use strict";var o=m("./constants"),g=m("../../lib");ne.rangeToShapePosition=function(p){return"log"===p.type?p.r2d:function(l){return l}},ne.shapePositionToRange=function(p){return"log"===p.type?p.d2r:function(l){return l}},ne.decodeDate=function(p){return function(l){return l.replace&&(l=l.replace("_"," ")),p(l)}},ne.encodeDate=function(p){return function(l){return p(l).replace(" ","_")}},ne.extractPathCoords=function(p,l){var c=[];return p.match(o.segmentRE).forEach(function(C){var d=l[C.charAt(0)].drawn;if(void 0!==d){var h=C.substr(1).match(o.paramRE);!h||h.length<d||c.push(g.cleanNumber(h[d]))}}),c},ne.getDataToPixel=function(p,l,c,C){var d,h=p._fullLayout._size;if(l)if("domain"===C)d=function(_){return l._length*(c?1-_:_)+l._offset};else{var u=ne.shapePositionToRange(l);d=function(_){return l._offset+l.r2p(u(_,!0))},"date"===l.type&&(d=ne.decodeDate(d))}else d=c?function(_){return h.t+h.h*(1-_)}:function(_){return h.l+h.w*_};return d},ne.getPixelToData=function(p,l,c,C){var d,h=p._fullLayout._size;if(l)if("domain"===C)d=function(_){var b=(_-l._offset)/l._length;return c?1-b:b};else{var u=ne.rangeToShapePosition(l);d=function(_){return u(l.p2r(_-l._offset))}}else d=c?function(_){return 1-(_-h.t)/h.h}:function(_){return(_-h.l)/h.w};return d},ne.roundPositionForSharpStrokeRendering=function(p,l){var c=1===Math.round(l%2),C=Math.round(p);return c?C+.5:C},ne.makeOptionsAndPlotinfo=function(p,l){var c=p._fullLayout.shapes[l]||{},C=p._fullLayout._plots[c.xref+c.yref];return C?C._hadPlotinfo=!0:(C={},c.xref&&"paper"!==c.xref&&(C.xaxis=p._fullLayout[c.xref+"axis"]),c.yref&&"paper"!==c.yref&&(C.yaxis=p._fullLayout[c.yref+"axis"])),C.xsizemode=c.xsizemode,C.ysizemode=c.ysizemode,C.xanchor=c.xanchor,C.yanchor=c.yanchor,{options:c,plotinfo:C}}},{"../../lib":232,"./constants":184}],194:[function(m,de,ne){"use strict";var o=m("./draw");de.exports={moduleType:"component",name:"shapes",layoutAttributes:m("./attributes"),supplyLayoutDefaults:m("./defaults"),supplyDrawNewShapeDefaults:m("./draw_newshape/defaults"),includeBasePlot:m("../../plots/cartesian/include_components")("shapes"),calcAutorange:m("./calc_autorange"),draw:o.draw,drawOne:o.drawOne}},{"../../plots/cartesian/include_components":292,"./attributes":182,"./calc_autorange":183,"./defaults":185,"./draw":186,"./draw_newshape/defaults":189}],195:[function(m,de,ne){"use strict";var o=m("../../plots/font_attributes"),g=m("../../plots/pad_attributes"),p=m("../../lib/extend").extendDeepAll,l=m("../../plot_api/edit_types").overrideAll,c=m("../../plots/animation_attributes"),C=m("../../plot_api/plot_template").templatedArray,d=m("./constants"),h=C("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});de.exports=l(C("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:h,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:p(g({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:c.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:o({})},font:o({}),activebgcolor:{valType:"color",dflt:d.gripBgActiveColor},bgcolor:{valType:"color",dflt:d.railBgColor},bordercolor:{valType:"color",dflt:d.railBorderColor},borderwidth:{valType:"number",min:0,dflt:d.railBorderWidth},ticklen:{valType:"number",min:0,dflt:d.tickLength},tickcolor:{valType:"color",dflt:d.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:d.minorTickLength}}),"arraydraw","from-root")},{"../../lib/extend":226,"../../plot_api/edit_types":261,"../../plot_api/plot_template":268,"../../plots/animation_attributes":273,"../../plots/font_attributes":310,"../../plots/pad_attributes":315,"./constants":196}],196:[function(m,de,ne){"use strict";de.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},{}],197:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("../../plots/array_container_defaults"),p=m("./attributes"),l=m("./constants").name,c=p.steps;function C(h,u,_){function b(k,D){return o.coerce(h,u,p,k,D)}for(var M=g(h,u,{name:"steps",handleItemDefaults:d}),w=0,N=0;N<M.length;N++)M[N].visible&&w++;if(w<2?u.visible=!1:b("visible")){u._stepCount=w;var z=u._visibleSteps=o.filterVisible(M);(M[b("active")]||{}).visible||(u.active=z[0]._index),b("x"),b("y"),o.noneOrAll(h,u,["x","y"]),b("xanchor"),b("yanchor"),b("len"),b("lenmode"),b("pad.t"),b("pad.r"),b("pad.b"),b("pad.l"),o.coerceFont(b,"font",_.font),b("currentvalue.visible")&&(b("currentvalue.xanchor"),b("currentvalue.prefix"),b("currentvalue.suffix"),b("currentvalue.offset"),o.coerceFont(b,"currentvalue.font",u.font)),b("transition.duration"),b("transition.easing"),b("bgcolor"),b("activebgcolor"),b("bordercolor"),b("borderwidth"),b("ticklen"),b("tickwidth"),b("tickcolor"),b("minorticklen")}}function d(h,u){function _(M,w){return o.coerce(h,u,c,M,w)}if("skip"===h.method||Array.isArray(h.args)?_("visible"):u.visible=!1){_("method"),_("args");var b=_("label","step-"+u._index);_("value",b),_("execute")}}de.exports=function(h,u){g(h,u,{name:l,handleItemDefaults:C})}},{"../../lib":232,"../../plots/array_container_defaults":274,"./attributes":195,"./constants":196}],198:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("../../plots/plots"),p=m("../color"),l=m("../drawing"),c=m("../../lib"),C=c.strTranslate,d=m("../../lib/svg_text_utils"),h=m("../../plot_api/plot_template").arrayEditor,u=m("./constants"),_=m("../../constants/alignment"),b=_.LINE_SPACING,M=_.FROM_TL,w=_.FROM_BR;function N(Q){return u.autoMarginIdRoot+Q._index}function z(Q){return Q._index}function k(Q,te){var ce=l.tester.selectAll("g."+u.labelGroupClass).data(te._visibleSteps);ce.enter().append("g").classed(u.labelGroupClass,!0);var me=0,ie=0;ce.each(function(X){var R=P(o.select(this),{step:X},te).node();if(R){var ae=l.bBox(R);ie=Math.max(ie,ae.height),me=Math.max(me,ae.width)}}),ce.remove();var K=te._dims={};K.inputAreaWidth=Math.max(u.railWidth,u.gripHeight);var le=Q._fullLayout._size;if(K.lx=le.l+le.w*te.x,K.ly=le.t+le.h*(1-te.y),K.outerLength="fraction"===te.lenmode?Math.round(le.w*te.len):te.len,K.inputAreaStart=0,K.inputAreaLength=Math.round(K.outerLength-te.pad.l-te.pad.r),K.labelStride=Math.max(1,Math.ceil((me+u.labelPadding)/((K.inputAreaLength-2*u.stepInset)/(te._stepCount-1)))),K.labelHeight=ie,K.currentValueMaxWidth=0,K.currentValueHeight=0,K.currentValueTotalHeight=0,K.currentValueMaxLines=1,te.currentvalue.visible){var oe=l.tester.append("g");ce.each(function(X){var R=D(oe,te,X.label),ae=R.node()&&l.bBox(R.node())||{width:0,height:0},fe=d.lineCount(R);K.currentValueMaxWidth=Math.max(K.currentValueMaxWidth,Math.ceil(ae.width)),K.currentValueHeight=Math.max(K.currentValueHeight,Math.ceil(ae.height)),K.currentValueMaxLines=Math.max(K.currentValueMaxLines,fe)}),K.currentValueTotalHeight=K.currentValueHeight+te.currentvalue.offset,oe.remove()}K.height=K.currentValueTotalHeight+u.tickOffset+te.ticklen+u.labelOffset+K.labelHeight+te.pad.t+te.pad.b;var re="left";c.isRightAnchor(te)&&(K.lx-=K.outerLength,re="right"),c.isCenterAnchor(te)&&(K.lx-=K.outerLength/2,re="center");var F="top";c.isBottomAnchor(te)&&(K.ly-=K.height,F="bottom"),c.isMiddleAnchor(te)&&(K.ly-=K.height/2,F="middle"),K.outerLength=Math.ceil(K.outerLength),K.height=Math.ceil(K.height),K.lx=Math.round(K.lx),K.ly=Math.round(K.ly);var O={y:te.y,b:K.height*w[F],t:K.height*M[F]};"fraction"===te.lenmode?(O.l=0,O.xl=te.x-te.len*M[re],O.r=0,O.xr=te.x+te.len*w[re]):(O.x=te.x,O.l=K.outerLength*M[re],O.r=K.outerLength*w[re]),g.autoMargin(Q,N(te),O)}function D(Q,te,ce){if(te.currentvalue.visible){var me,ie,K=te._dims;switch(te.currentvalue.xanchor){case"right":me=K.inputAreaLength-u.currentValueInset-K.currentValueMaxWidth,ie="left";break;case"center":me=.5*K.inputAreaLength,ie="middle";break;default:me=u.currentValueInset,ie="left"}var le=c.ensureSingle(Q,"text",u.labelClass,function(O){O.attr({"text-anchor":ie,"data-notex":1})}),G=te.currentvalue.prefix?te.currentvalue.prefix:"";if("string"==typeof ce)G+=ce;else{var j=te.steps[te.active].label,oe=te._gd._fullLayout._meta;oe&&(j=c.templateString(j,oe)),G+=j}te.currentvalue.suffix&&(G+=te.currentvalue.suffix),le.call(l.font,te.currentvalue.font).text(G).call(d.convertToTspans,te._gd);var re=d.lineCount(le);return d.positionText(le,me,(K.currentValueMaxLines+1-re)*te.currentvalue.font.size*b),le}}function S(Q,te,ce){c.ensureSingle(Q,"rect",u.gripRectClass,function(me){me.call(L,te,Q,ce).style("pointer-events","all")}).attr({width:u.gripWidth,height:u.gripHeight,rx:u.gripRadius,ry:u.gripRadius}).call(p.stroke,ce.bordercolor).call(p.fill,ce.bgcolor).style("stroke-width",ce.borderwidth+"px")}function P(Q,te,ce){var me=c.ensureSingle(Q,"text",u.labelClass,function(le){le.attr({"text-anchor":"middle","data-notex":1})}),ie=te.step.label,K=ce._gd._fullLayout._meta;return K&&(ie=c.templateString(ie,K)),me.call(l.font,ce.font).text(ie).call(d.convertToTspans,ce._gd),me}function V(Q,te){var ce=c.ensureSingle(Q,"g",u.labelsClass),me=te._dims,ie=ce.selectAll("g."+u.labelGroupClass).data(me.labelSteps);ie.enter().append("g").classed(u.labelGroupClass,!0),ie.exit().remove(),ie.each(function(K){var le=o.select(this);le.call(P,K,te),l.setTranslate(le,T(te,K.fraction),u.tickOffset+te.ticklen+te.font.size*b+u.labelOffset+me.currentValueTotalHeight)})}function E(Q,te,ce,me,ie){var K=Math.round(me*(ce._stepCount-1)),le=ce._visibleSteps[K]._index;le!==ce.active&&I(Q,te,ce,le,!0,ie)}function I(Q,te,ce,me,ie,K){var le=ce.active;ce.active=me,h(Q.layout,u.name,ce).applyUpdate("active",me);var G=ce.steps[ce.active];te.call($,ce,K),te.call(D,ce),Q.emit("plotly_sliderchange",{slider:ce,step:ce.steps[ce.active],interaction:ie,previousActive:le}),G&&G.method&&ie&&(te._nextMethod?(te._nextMethod.step=G,te._nextMethod.doCallback=ie,te._nextMethod.doTransition=K):(te._nextMethod={step:G,doCallback:ie,doTransition:K},te._nextMethodRaf=window.requestAnimationFrame(function(){var j=te._nextMethod.step;j.method&&(j.execute&&g.executeAPICommand(Q,j.method,j.args),te._nextMethod=null,te._nextMethodRaf=null)})))}function L(Q,te,ce){var me=ce.node(),ie=o.select(te);function K(){return ce.data()[0]}function le(){var G=K();te.emit("plotly_sliderstart",{slider:G});var j=ce.select("."+u.gripRectClass);o.event.stopPropagation(),o.event.preventDefault(),j.call(p.fill,G.activebgcolor);var oe=Y(G,o.mouse(me)[0]);function re(){var O=K(),X=Y(O,o.mouse(me)[0]);E(te,ce,O,X,!1)}function F(){var O=K();O._dragging=!1,j.call(p.fill,O.bgcolor),ie.on("mouseup",null),ie.on("mousemove",null),ie.on("touchend",null),ie.on("touchmove",null),te.emit("plotly_sliderend",{slider:O,step:O.steps[O.active]})}E(te,ce,G,oe,!0),G._dragging=!0,ie.on("mousemove",re),ie.on("touchmove",re),ie.on("mouseup",F),ie.on("touchend",F)}Q.on("mousedown",le),Q.on("touchstart",le)}function B(Q,te){var ce=Q.selectAll("rect."+u.tickRectClass).data(te._visibleSteps),me=te._dims;ce.enter().append("rect").classed(u.tickRectClass,!0),ce.exit().remove(),ce.attr({width:te.tickwidth+"px","shape-rendering":"crispEdges"}),ce.each(function(ie,K){var le=K%me.labelStride==0,G=o.select(this);G.attr({height:le?te.ticklen:te.minorticklen}).call(p.fill,te.tickcolor),l.setTranslate(G,T(te,K/(te._stepCount-1))-.5*te.tickwidth,(le?u.tickOffset:u.minorTickOffset)+me.currentValueTotalHeight)})}function $(Q,te,ce){for(var me=Q.select("rect."+u.gripRectClass),ie=0,K=0;K<te._stepCount;K++)if(te._visibleSteps[K]._index===te.active){ie=K;break}var le=T(te,ie/(te._stepCount-1));if(!te._invokingCommand){var G=me;ce&&te.transition.duration>0&&(G=G.transition().duration(te.transition.duration).ease(te.transition.easing)),G.attr("transform",C(le-.5*u.gripWidth,te._dims.currentValueTotalHeight))}}function T(Q,te){var ce=Q._dims;return ce.inputAreaStart+u.stepInset+(ce.inputAreaLength-2*u.stepInset)*Math.min(1,Math.max(0,te))}function Y(Q,te){var ce=Q._dims;return Math.min(1,Math.max(0,(te-u.stepInset-ce.inputAreaStart)/(ce.inputAreaLength-2*u.stepInset-2*ce.inputAreaStart)))}function W(Q,te,ce){var me=ce._dims,ie=c.ensureSingle(Q,"rect",u.railTouchRectClass,function(K){K.call(L,te,Q,ce).style("pointer-events","all")});ie.attr({width:me.inputAreaLength,height:Math.max(me.inputAreaWidth,u.tickOffset+ce.ticklen+me.labelHeight)}).call(p.fill,ce.bgcolor).attr("opacity",0),l.setTranslate(ie,0,me.currentValueTotalHeight)}function q(Q,te){var ce=te._dims,me=ce.inputAreaLength-2*u.railInset,ie=c.ensureSingle(Q,"rect",u.railRectClass);ie.attr({width:me,height:u.railWidth,rx:u.railRadius,ry:u.railRadius,"shape-rendering":"crispEdges"}).call(p.stroke,te.bordercolor).call(p.fill,te.bgcolor).style("stroke-width",te.borderwidth+"px"),l.setTranslate(ie,u.railInset,.5*(ce.inputAreaWidth-u.railWidth)+ce.currentValueTotalHeight)}de.exports=function(Q){var te=Q._fullLayout,ce=function(j,oe){for(var re=j[u.name],F=[],O=0;O<re.length;O++){var X=re[O];X.visible&&(X._gd=oe,F.push(X))}return F}(te,Q),me=te._infolayer.selectAll("g."+u.containerClassName).data(ce.length>0?[0]:[]);function ie(j){j._commandObserver&&(j._commandObserver.remove(),delete j._commandObserver),g.autoMargin(Q,N(j))}if(me.enter().append("g").classed(u.containerClassName,!0).style("cursor","ew-resize"),me.exit().each(function(){o.select(this).selectAll("g."+u.groupClassName).each(ie)}).remove(),0!==ce.length){var K=me.selectAll("g."+u.groupClassName).data(ce,z);K.enter().append("g").classed(u.groupClassName,!0),K.exit().each(ie).remove();for(var le=0;le<ce.length;le++)k(Q,ce[le]);K.each(function(j){var oe=o.select(this);(function(re){var F=re._dims;F.labelSteps=[];for(var O=re._stepCount,X=0;X<O;X+=F.labelStride)F.labelSteps.push({fraction:X/(O-1),step:re._visibleSteps[X]})})(j),g.manageCommandObserver(Q,j,j._visibleSteps,function(re){var F=oe.data()[0];F.active!==re.index&&(F._dragging||I(Q,oe,F,re.index,!1,!0))}),function(re,F,O){(O.steps[O.active]||{}).visible||(O.active=O._visibleSteps[0]._index),F.call(D,O).call(q,O).call(V,O).call(B,O).call(W,re,O).call(S,re,O);var X=O._dims;l.setTranslate(F,X.lx+O.pad.l,X.ly+O.pad.t),F.call($,O,!1),F.call(D,O)}(Q,o.select(this),j)})}}},{"../../constants/alignment":207,"../../lib":232,"../../lib/svg_text_utils":255,"../../plot_api/plot_template":268,"../../plots/plots":316,"../color":102,"../drawing":124,"./constants":196,"@plotly/d3":11}],199:[function(m,de,ne){"use strict";var o=m("./constants");de.exports={moduleType:"component",name:o.name,layoutAttributes:m("./attributes"),supplyLayoutDefaults:m("./defaults"),draw:m("./draw")}},{"./attributes":195,"./constants":196,"./defaults":197,"./draw":198}],200:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("fast-isnumeric"),p=m("../../plots/plots"),l=m("../../registry"),c=m("../../lib"),C=c.strTranslate,d=m("../drawing"),h=m("../color"),u=m("../../lib/svg_text_utils"),_=m("../../constants/interactions"),b=m("../../constants/alignment").OPPOSITE_SIDE,M=/ [XY][0-9]* /;de.exports={draw:function(w,N,z){var k,S=z.propName,P=z.placeholder,V=z.traceIndex,E=z.avoid||{},I=z.attributes,L=z.transform,B=z.containerGroup,$=w._fullLayout,T=1,Y=!1,W=z.propContainer.title,q=(W&&W.text?W.text:"").trim(),Q=W&&W.font?W.font:{},te=Q.family,ce=Q.size,me=Q.color;"title.text"===S?k="titleText":-1!==S.indexOf("axis")?k="axisTitleText":S.indexOf(!0)&&(k="colorbarTitleText");var ie=w._context.edits[k];""===q?T=0:q.replace(M," % ")===P.replace(M," % ")&&(T=.2,Y=!0,ie||(q="")),z._meta?q=c.templateString(q,z._meta):$._meta&&(q=c.templateString(q,$._meta));var K,le=q||ie;B||(B=c.ensureSingle($._infolayer,"g","g-"+N),K=$._hColorbarMoveTitle);var G=B.selectAll("text").data(le?[0]:[]);if(G.enter().append("text"),G.text(q).attr("class",N),G.exit().remove(),!le)return B;function j(F){c.syncOrAsync([oe,re],F)}function oe(F){var O;return!L&&K&&(L={}),L?(O="",L.rotate&&(O+="rotate("+[L.rotate,I.x,I.y]+")"),(L.offset||K)&&(O+=C(0,(L.offset||0)-(K||0)))):O=null,F.attr("transform",O),F.style({"font-family":te,"font-size":o.round(ce,2)+"px",fill:h.rgb(me),opacity:T*h.opacity(me),"font-weight":p.fontWeight}).attr(I).call(u.convertToTspans,w),p.previousPromises(w)}function re(F){var O=o.select(F.node().parentNode);if(E&&E.selection&&E.side&&q){O.attr("transform",null);var X=b[E.side],R="left"===E.side||"top"===E.side?-1:1,ae=g(E.pad)?E.pad:2,fe=d.bBox(O.node()),pe=E.maxShift||R*({left:0,top:0,right:$.width,bottom:$.height}[E.side]-fe[E.side]),xe=0;if(pe<0)xe=pe;else{var Me=E.offsetLeft||0,Ae=E.offsetTop||0;fe.left-=Me,fe.right-=Me,fe.top-=Ae,fe.bottom-=Ae,E.selection.each(function(){var Fe=d.bBox(this);c.bBoxIntersect(fe,Fe,ae)&&(xe=Math.max(xe,R*(Fe[E.side]-fe[X])+ae))}),xe=Math.min(pe,xe)}if(xe>0||pe<0){var ze={left:[-xe,0],right:[xe,0],top:[0,-xe],bottom:[0,xe]}[E.side];O.attr("transform",C(ze[0],ze[1]))}}}return G.call(j),ie&&(q?G.on(".opacity",null):(T=0,Y=!0,G.text(P).on("mouseover.opacity",function(){o.select(this).transition().duration(_.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){o.select(this).transition().duration(_.HIDE_PLACEHOLDER).style("opacity",0)})),G.call(u.makeEditable,{gd:w}).on("edit",function(F){void 0!==V?l.call("_guiRestyle",w,S,F,V):l.call("_guiRelayout",w,S,F)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(j)}).on("input",function(F){this.text(F||" ").call(u.positionText,I.x,I.y)})),G.classed("js-placeholder",Y),B}}},{"../../constants/alignment":207,"../../constants/interactions":211,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../../registry":318,"../color":102,"../drawing":124,"@plotly/d3":11,"fast-isnumeric":17}],201:[function(m,de,ne){"use strict";var o=m("../../plots/font_attributes"),g=m("../color/attributes"),p=m("../../lib/extend").extendFlat,l=m("../../plot_api/edit_types").overrideAll,c=m("../../plots/pad_attributes"),C=m("../../plot_api/plot_template").templatedArray,d=C("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});de.exports=l(C("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:d,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:p(c({editType:"arraydraw"}),{}),font:o({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:g.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},{"../../lib/extend":226,"../../plot_api/edit_types":261,"../../plot_api/plot_template":268,"../../plots/font_attributes":310,"../../plots/pad_attributes":315,"../color/attributes":101}],202:[function(m,de,ne){"use strict";de.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25c4",right:"\u25ba",up:"\u25b2",down:"\u25bc"}}},{}],203:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("../../plots/array_container_defaults"),p=m("./attributes"),l=m("./constants").name,c=p.buttons;function C(h,u,_){function b(M,w){return o.coerce(h,u,p,M,w)}b("visible",g(h,u,{name:"buttons",handleItemDefaults:d}).length>0)&&(b("active"),b("direction"),b("type"),b("showactive"),b("x"),b("y"),o.noneOrAll(h,u,["x","y"]),b("xanchor"),b("yanchor"),b("pad.t"),b("pad.r"),b("pad.b"),b("pad.l"),o.coerceFont(b,"font",_.font),b("bgcolor",_.paper_bgcolor),b("bordercolor"),b("borderwidth"))}function d(h,u){function _(b,M){return o.coerce(h,u,c,b,M)}_("visible","skip"===h.method||Array.isArray(h.args))&&(_("method"),_("args"),_("args2"),_("label"),_("execute"))}de.exports=function(h,u){g(h,u,{name:l,handleItemDefaults:C})}},{"../../lib":232,"../../plots/array_container_defaults":274,"./attributes":201,"./constants":202}],204:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("../../plots/plots"),p=m("../color"),l=m("../drawing"),c=m("../../lib"),C=m("../../lib/svg_text_utils"),d=m("../../plot_api/plot_template").arrayEditor,h=m("../../constants/alignment").LINE_SPACING,u=m("./constants"),_=m("./scrollbox");function b(T){return T._index}function M(T,Y){return+T.attr(u.menuIndexAttrName)===Y._index}function w(T,Y,W,q,Q,te,ce,me){Y.active=ce,d(T.layout,u.name,Y).applyUpdate("active",ce),"buttons"===Y.type?z(T,q,null,null,Y):"dropdown"===Y.type&&(Q.attr(u.menuIndexAttrName,"-1"),N(T,q,Q,te,Y),me||z(T,q,Q,te,Y))}function N(T,Y,W,q,Q){var te=c.ensureSingle(Y,"g",u.headerClassName,function(G){G.style("pointer-events","all")}),ce=Q._dims,K={y:Q.pad.t,yPad:0,x:Q.pad.l,xPad:0,index:0},le={width:ce.headerWidth,height:ce.headerHeight};te.call(k,Q,Q.buttons[Q.active]||u.blankHeaderOpts,T).call(B,Q,K,le),c.ensureSingle(Y,"text",u.headerArrowClassName,function(G){G.attr("text-anchor","end").call(l.font,Q.font).text(u.arrowSymbol[Q.direction])}).attr({x:ce.headerWidth-u.arrowOffsetX+Q.pad.l,y:ce.headerHeight/2+u.textOffsetY+Q.pad.t}),te.on("click",function(){W.call($,String(M(W,Q)?-1:Q._index)),z(T,Y,W,q,Q)}),te.on("mouseover",function(){te.call(V)}),te.on("mouseout",function(){te.call(E,Q)}),l.setTranslate(Y,ce.lx,ce.ly)}function z(T,Y,W,q,Q){W||(W=Y).attr("pointer-events","all");var te=-1==+W.attr(u.menuIndexAttrName)&&"buttons"!==Q.type?[]:Q.buttons,ce="dropdown"===Q.type?u.dropdownButtonClassName:u.buttonClassName,me=W.selectAll("g."+ce).data(c.filterVisible(te)),ie=me.enter().append("g").classed(ce,!0),K=me.exit();"dropdown"===Q.type?(ie.attr("opacity","0").transition().attr("opacity","1"),K.transition().attr("opacity","0").remove()):K.remove();var le=0,G=0,j=Q._dims,oe=-1!==["up","down"].indexOf(Q.direction);"dropdown"===Q.type&&(oe?G=j.headerHeight+u.gapButtonHeader:le=j.headerWidth+u.gapButtonHeader),"dropdown"===Q.type&&"up"===Q.direction&&(G=-u.gapButtonHeader+u.gapButton-j.openHeight),"dropdown"===Q.type&&"left"===Q.direction&&(le=-u.gapButtonHeader+u.gapButton-j.openWidth);var O,X,R,re={x:j.lx+le+Q.pad.l,y:j.ly+G+Q.pad.t,yPad:u.gapButton,xPad:u.gapButton,index:0},F={l:re.x+Q.borderwidth,t:re.y+Q.borderwidth};me.each(function(O,X){var R=o.select(this);R.call(k,Q,O,T).call(B,Q,re),R.on("click",function(){o.event.defaultPrevented||(O.execute&&(O.args2&&Q.active===X?(w(T,Q,0,Y,W,q,-1),g.executeAPICommand(T,O.method,O.args2)):(w(T,Q,0,Y,W,q,X),g.executeAPICommand(T,O.method,O.args))),T.emit("plotly_buttonclicked",{menu:Q,button:O,active:Q.active}))}),R.on("mouseover",function(){R.call(V)}),R.on("mouseout",function(){R.call(E,Q),me.call(P,Q)})}),me.call(P,Q),oe?(F.w=Math.max(j.openWidth,j.headerWidth),F.h=re.y-F.t):(F.w=re.x-F.l,F.h=Math.max(j.openHeight,j.headerHeight)),F.direction=Q.direction,q&&(me.size()?function(O,X,R,ae,fe,ue){var pe,xe,Me,Ae=fe.direction,Fe=fe._dims,Ue=fe.active;if("up"===Ae||"down"===Ae)for(xe=0,Me=0;Me<Ue;Me++)xe+=Fe.heights[Me]+u.gapButton;else for(pe=0,Me=0;Me<Ue;Me++)pe+=Fe.widths[Me]+u.gapButton;ae.enable(ue,pe,xe),ae.hbar&&ae.hbar.attr("opacity","0").transition().attr("opacity","1"),ae.vbar&&ae.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,q,Q,F):(R=!!(O=q).vbar,(X=!!O.hbar)&&O.hbar.transition().attr("opacity","0").each("end",function(){X=!1,R||O.disable()}),R&&O.vbar.transition().attr("opacity","0").each("end",function(){R=!1,X||O.disable()})))}function k(T,Y,W,q){T.call(D,Y).call(S,Y,W,q)}function D(T,Y){c.ensureSingle(T,"rect",u.itemRectClassName,function(W){W.attr({rx:u.rx,ry:u.ry,"shape-rendering":"crispEdges"})}).call(p.stroke,Y.bordercolor).call(p.fill,Y.bgcolor).style("stroke-width",Y.borderwidth+"px")}function S(T,Y,W,q){var Q=c.ensureSingle(T,"text",u.itemTextClassName,function(me){me.attr({"text-anchor":"start","data-notex":1})}),te=W.label,ce=q._fullLayout._meta;ce&&(te=c.templateString(te,ce)),Q.call(l.font,Y.font).text(te).call(C.convertToTspans,q)}function P(T,Y){var W=Y.active;T.each(function(q,Q){var te=o.select(this);Q===W&&Y.showactive&&te.select("rect."+u.itemRectClassName).call(p.fill,u.activeColor)})}function V(T){T.select("rect."+u.itemRectClassName).call(p.fill,u.hoverColor)}function E(T,Y){T.select("rect."+u.itemRectClassName).call(p.fill,Y.bgcolor)}function I(T,Y){var W=Y._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},q=l.tester.selectAll("g."+u.dropdownButtonClassName).data(c.filterVisible(Y.buttons));q.enter().append("g").classed(u.dropdownButtonClassName,!0);var Q=-1!==["up","down"].indexOf(Y.direction);q.each(function(le,G){var j=o.select(this);j.call(k,Y,le,T);var oe=j.select("."+u.itemTextClassName),re=oe.node()&&l.bBox(oe.node()).width,F=Math.max(re+u.textPadX,u.minWidth),O=Y.font.size*h,X=C.lineCount(oe),R=Math.max(O*X,u.minHeight)+u.textOffsetY;R=Math.ceil(R),F=Math.ceil(F),W.widths[G]=F,W.heights[G]=R,W.height1=Math.max(W.height1,R),W.width1=Math.max(W.width1,F),Q?(W.totalWidth=Math.max(W.totalWidth,F),W.openWidth=W.totalWidth,W.totalHeight+=R+u.gapButton,W.openHeight+=R+u.gapButton):(W.totalWidth+=F+u.gapButton,W.openWidth+=F+u.gapButton,W.totalHeight=Math.max(W.totalHeight,R),W.openHeight=W.totalHeight)}),Q?W.totalHeight-=u.gapButton:W.totalWidth-=u.gapButton,W.headerWidth=W.width1+u.arrowPadX,W.headerHeight=W.height1,"dropdown"===Y.type&&(Q?(W.width1+=u.arrowPadX,W.totalHeight=W.height1):W.totalWidth=W.width1,W.totalWidth+=u.arrowPadX),q.remove();var te=W.totalWidth+Y.pad.l+Y.pad.r,ce=W.totalHeight+Y.pad.t+Y.pad.b,me=T._fullLayout._size;W.lx=me.l+me.w*Y.x,W.ly=me.t+me.h*(1-Y.y);var ie="left";c.isRightAnchor(Y)&&(W.lx-=te,ie="right"),c.isCenterAnchor(Y)&&(W.lx-=te/2,ie="center");var K="top";c.isBottomAnchor(Y)&&(W.ly-=ce,K="bottom"),c.isMiddleAnchor(Y)&&(W.ly-=ce/2,K="middle"),W.totalWidth=Math.ceil(W.totalWidth),W.totalHeight=Math.ceil(W.totalHeight),W.lx=Math.round(W.lx),W.ly=Math.round(W.ly),g.autoMargin(T,L(Y),{x:Y.x,y:Y.y,l:te*({right:1,center:.5}[ie]||0),r:te*({left:1,center:.5}[ie]||0),b:ce*({top:1,middle:.5}[K]||0),t:ce*({bottom:1,middle:.5}[K]||0)})}function L(T){return u.autoMarginIdRoot+T._index}function B(T,Y,W,q){q=q||{};var Q=T.select("."+u.itemRectClassName),te=T.select("."+u.itemTextClassName),ce=Y.borderwidth,me=W.index,ie=Y._dims;l.setTranslate(T,ce+W.x,ce+W.y);var K=-1!==["up","down"].indexOf(Y.direction),le=q.height||(K?ie.heights[me]:ie.height1);Q.attr({x:0,y:0,width:q.width||(K?ie.width1:ie.widths[me]),height:le});var G=Y.font.size*h,j=(C.lineCount(te)-1)*G/2;C.positionText(te,u.textOffsetX,le/2-j+u.textOffsetY),K?W.y+=ie.heights[me]+W.yPad:W.x+=ie.widths[me]+W.xPad,W.index++}function $(T,Y){T.attr(u.menuIndexAttrName,Y||"-1").selectAll("g."+u.dropdownButtonClassName).remove()}de.exports=function(T){var Y=T._fullLayout,W=c.filterVisible(Y[u.name]);function q(G){g.autoMargin(T,L(G))}var Q=Y._menulayer.selectAll("g."+u.containerClassName).data(W.length>0?[0]:[]);if(Q.enter().append("g").classed(u.containerClassName,!0).style("cursor","pointer"),Q.exit().each(function(){o.select(this).selectAll("g."+u.headerGroupClassName).each(q)}).remove(),0!==W.length){var te=Q.selectAll("g."+u.headerGroupClassName).data(W,b);te.enter().append("g").classed(u.headerGroupClassName,!0);for(var ce=c.ensureSingle(Q,"g",u.dropdownButtonGroupClassName,function(G){G.style("pointer-events","all")}),me=0;me<W.length;me++)I(T,W[me]);var le=new _(T,ce,"updatemenus"+Y._uid);te.enter().size()&&(ce.node().parentNode.appendChild(ce.node()),ce.call($)),te.exit().each(function(G){ce.call($),q(G)}).remove(),te.each(function(G){var j=o.select(this),oe="dropdown"===G.type?ce:null;g.manageCommandObserver(T,G,G.buttons,function(re){w(T,G,0,j,oe,le,re.index,!0)}),"dropdown"===G.type?(N(T,j,ce,le,G),M(ce,G)&&z(T,j,ce,le,G)):z(T,j,null,null,G)})}}},{"../../constants/alignment":207,"../../lib":232,"../../lib/svg_text_utils":255,"../../plot_api/plot_template":268,"../../plots/plots":316,"../color":102,"../drawing":124,"./constants":202,"./scrollbox":206,"@plotly/d3":11}],205:[function(m,de,ne){arguments[4][199][0].apply(ne,arguments)},{"./attributes":201,"./constants":202,"./defaults":203,"./draw":204,dup:199}],206:[function(m,de,ne){"use strict";de.exports=c;var o=m("@plotly/d3"),g=m("../color"),p=m("../drawing"),l=m("../../lib");function c(C,d,h){this.gd=C,this.container=d,this.id=h,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}c.barWidth=2,c.barLength=20,c.barRadius=2,c.barPad=1,c.barColor="#808BA4",c.prototype.enable=function(C,d,h){var u=this.gd._fullLayout,_=u.width,b=u.height;this.position=C;var M,w,N,z,k=this.position.l,D=this.position.w,S=this.position.t,P=this.position.h,V=this.position.direction,E="down"===V,I="left"===V,L="up"===V,B=D,$=P;E||I||"right"===V||L||(this.position.direction="down",E=!0),E||L?(w=(M=k)+B,E?(N=S,$=(z=Math.min(N+$,b))-N):$=(z=S+$)-(N=Math.max(z-$,0))):(z=(N=S)+$,I?B=(w=k+B)-(M=Math.max(w-B,0)):(M=k,B=(w=Math.min(M+B,_))-M)),this._box={l:M,t:N,w:B,h:$};var T=D>B,Y=c.barLength+2*c.barPad,W=c.barWidth+2*c.barPad,q=k,Q=S+P;Q+W>b&&(Q=b-W);var te=this.container.selectAll("rect.scrollbar-horizontal").data(T?[0]:[]);te.exit().on(".drag",null).remove(),te.enter().append("rect").classed("scrollbar-horizontal",!0).call(g.fill,c.barColor),T?(this.hbar=te.attr({rx:c.barRadius,ry:c.barRadius,x:q,y:Q,width:Y,height:W}),this._hbarXMin=q+Y/2,this._hbarTranslateMax=B-Y):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var ce=P>$,me=c.barWidth+2*c.barPad,ie=c.barLength+2*c.barPad,K=k+D,le=S;K+me>_&&(K=_-me);var G=this.container.selectAll("rect.scrollbar-vertical").data(ce?[0]:[]);G.exit().on(".drag",null).remove(),G.enter().append("rect").classed("scrollbar-vertical",!0).call(g.fill,c.barColor),ce?(this.vbar=G.attr({rx:c.barRadius,ry:c.barRadius,x:K,y:le,width:me,height:ie}),this._vbarYMin=le+ie/2,this._vbarTranslateMax=$-ie):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var j=this.id,oe=M-.5,re=ce?w+me+.5:w+.5,F=N-.5,O=T?z+W+.5:z+.5,X=u._topdefs.selectAll("#"+j).data(T||ce?[0]:[]);if(X.exit().remove(),X.enter().append("clipPath").attr("id",j).append("rect"),T||ce?(this._clipRect=X.select("rect").attr({x:Math.floor(oe),y:Math.floor(F),width:Math.ceil(re)-Math.floor(oe),height:Math.ceil(O)-Math.floor(F)}),this.container.call(p.setClipUrl,j,this.gd),this.bg.attr({x:k,y:S,width:D,height:P})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(p.setClipUrl,null),delete this._clipRect),T||ce){var R=o.behavior.drag().on("dragstart",function(){o.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(R);var ae=o.behavior.drag().on("dragstart",function(){o.event.sourceEvent.preventDefault(),o.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));T&&this.hbar.on(".drag",null).call(ae),ce&&this.vbar.on(".drag",null).call(ae)}this.setTranslate(d,h)},c.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(p.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},c.prototype._onBoxDrag=function(){var C=this.translateX,d=this.translateY;this.hbar&&(C-=o.event.dx),this.vbar&&(d-=o.event.dy),this.setTranslate(C,d)},c.prototype._onBoxWheel=function(){var C=this.translateX,d=this.translateY;this.hbar&&(C+=o.event.deltaY),this.vbar&&(d+=o.event.deltaY),this.setTranslate(C,d)},c.prototype._onBarDrag=function(){var C=this.translateX,d=this.translateY;if(this.hbar){var h=C+this._hbarXMin,u=h+this._hbarTranslateMax;C=(l.constrain(o.event.x,h,u)-h)/(u-h)*(this.position.w-this._box.w)}if(this.vbar){var _=d+this._vbarYMin,b=_+this._vbarTranslateMax;d=(l.constrain(o.event.y,_,b)-_)/(b-_)*(this.position.h-this._box.h)}this.setTranslate(C,d)},c.prototype.setTranslate=function(C,d){var h=this.position.w-this._box.w,u=this.position.h-this._box.h;C=l.constrain(C||0,0,h),d=l.constrain(d||0,0,u),this.translateX=C,this.translateY=d,this.container.call(p.setTranslate,this._box.l-this.position.l-C,this._box.t-this.position.t-d),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+C-.5),y:Math.floor(this.position.t+d-.5)}),this.hbar&&this.hbar.call(p.setTranslate,C+C/h*this._hbarTranslateMax,d),this.vbar&&this.vbar.call(p.setTranslate,C,d+d/u*this._vbarTranslateMax)}},{"../../lib":232,"../color":102,"../drawing":124,"@plotly/d3":11}],207:[function(m,de,ne){"use strict";de.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},{}],208:[function(m,de,ne){"use strict";de.exports={axisRefDescription:function(o,g,p){return["If set to a",o,"axis id (e.g. *"+o+"* or","*"+o+"2*), the `"+o+"` position refers to a",o,"coordinate. If set to *paper*, the `"+o+"`","position refers to the distance from the",g,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",g,"("+p+"). If set to a",o,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",g,"of the domain of that axis: e.g.,","*"+o+"2 domain* refers to the domain of the second",o," axis and a",o,"position of 0.5 refers to the","point between the",g,"and the",p,"of the domain of the","second",o,"axis."].join(" ")}}},{}],209:[function(m,de,ne){"use strict";de.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},{}],210:[function(m,de,ne){"use strict";de.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},{}],211:[function(m,de,ne){"use strict";de.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},{}],212:[function(m,de,ne){"use strict";de.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},{}],213:[function(m,de,ne){"use strict";ne.xmlns="http://www.w3.org/2000/xmlns/",ne.svg="http://www.w3.org/2000/svg",ne.xlink="http://www.w3.org/1999/xlink",ne.svgAttrs={xmlns:ne.svg,"xmlns:xlink":ne.xlink}},{}],214:[function(m,de,ne){"use strict";ne.version=m("./version").version,m("native-promise-only"),m("../build/plotcss");for(var o=m("./registry"),g=ne.register=o.register,p=m("./plot_api"),l=Object.keys(p),c=0;c<l.length;c++){var C=l[c];"_"!==C.charAt(0)&&(ne[C]=p[C]),g({moduleType:"apiMethod",name:C,fn:p[C]})}g(m("./traces/scatter")),g([m("./components/legend"),m("./components/fx"),m("./components/annotations"),m("./components/annotations3d"),m("./components/shapes"),m("./components/images"),m("./components/updatemenus"),m("./components/sliders"),m("./components/rangeslider"),m("./components/rangeselector"),m("./components/grid"),m("./components/errorbars"),m("./components/colorscale"),m("./components/colorbar"),m("./components/modebar")]),g([m("./locale-en"),m("./locale-en-us")]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(g(window.PlotlyLocales),delete window.PlotlyLocales),ne.Icons=m("./fonts/ploticon");var d=m("./components/fx"),h=m("./plots/plots");ne.Plots={resize:h.resize,graphJson:h.graphJson,sendDataToCloud:h.sendDataToCloud},ne.Fx={hover:d.hover,unhover:d.unhover,loneHover:d.loneHover,loneUnhover:d.loneUnhover},ne.Snapshot=m("./snapshot"),ne.PlotSchema=m("./plot_api/plot_schema")},{"../build/plotcss":1,"./components/annotations":93,"./components/annotations3d":98,"./components/colorbar":108,"./components/colorscale":114,"./components/errorbars":130,"./components/fx":142,"./components/grid":146,"./components/images":151,"./components/legend":159,"./components/modebar":165,"./components/rangeselector":173,"./components/rangeslider":180,"./components/shapes":194,"./components/sliders":199,"./components/updatemenus":205,"./fonts/ploticon":215,"./locale-en":259,"./locale-en-us":258,"./plot_api":263,"./plot_api/plot_schema":267,"./plots/plots":316,"./registry":318,"./snapshot":323,"./traces/scatter":370,"./version":391,"native-promise-only":54}],215:[function(m,de,ne){"use strict";de.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'><defs><style>.cls-1 {fill: #3f4f75;} .cls-2 {fill: #80cfbe;} .cls-3 {fill: #fff;}</style></defs><title>plotly-logomark</title><g id='symbol'><rect class='cls-1' width='132' height='132' rx='6' ry='6'/><circle class='cls-2' cx='78' cy='54' r='6'/><circle class='cls-2' cx='102' cy='30' r='6'/><circle class='cls-2' cx='78' cy='30' r='6'/><circle class='cls-2' cx='54' cy='30' r='6'/><circle class='cls-2' cx='30' cy='30' r='6'/><circle class='cls-2' cx='30' cy='54' r='6'/><path class='cls-3' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/><path class='cls-3' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/><path class='cls-3' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/><path class='cls-3' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/></g></svg>"}}},{}],216:[function(m,de,ne){"use strict";ne.isLeftAnchor=function(o){return"left"===o.xanchor||"auto"===o.xanchor&&o.x<=1/3},ne.isCenterAnchor=function(o){return"center"===o.xanchor||"auto"===o.xanchor&&o.x>1/3&&o.x<2/3},ne.isRightAnchor=function(o){return"right"===o.xanchor||"auto"===o.xanchor&&o.x>=2/3},ne.isTopAnchor=function(o){return"top"===o.yanchor||"auto"===o.yanchor&&o.y>=2/3},ne.isMiddleAnchor=function(o){return"middle"===o.yanchor||"auto"===o.yanchor&&o.y>1/3&&o.y<2/3},ne.isBottomAnchor=function(o){return"bottom"===o.yanchor||"auto"===o.yanchor&&o.y<=1/3}},{}],217:[function(m,de,ne){"use strict";var o=m("./mod"),g=o.mod,p=o.modHalf,l=Math.PI,c=2*l;function C(_){return Math.abs(_[1]-_[0])>c-1e-14}function d(_,b){return p(b-_,c)}function h(_,b){if(C(b))return!0;var M,w;b[0]<b[1]?(M=b[0],w=b[1]):(M=b[1],w=b[0]),(M=g(M,c))>(w=g(w,c))&&(w+=c);var N=g(_,c),z=N+c;return N>=M&&N<=w||z>=M&&z<=w}function u(_,b,M,w,N,z,k){N=N||0,z=z||0;var D,S,P,V,E,I=C([M,w]);function L(Y,W){return[Y*Math.cos(W)+N,z-Y*Math.sin(W)]}I?(D=0,S=l,P=c):M<w?(D=M,P=w):(D=w,P=M),_<b?(V=_,E=b):(V=b,E=_);var B,$=Math.abs(P-D)<=l?0:1;function T(Y,W,q){return"A"+[Y,Y]+" "+[0,$,q]+" "+L(Y,W)}return I?B=null===V?"M"+L(E,D)+T(E,S,0)+T(E,P,0)+"Z":"M"+L(V,D)+T(V,S,0)+T(V,P,0)+"ZM"+L(E,D)+T(E,S,1)+T(E,P,1)+"Z":null===V?(B="M"+L(E,D)+T(E,P,0),k&&(B+="L0,0Z")):B="M"+L(V,D)+"L"+L(E,D)+T(E,P,0)+"L"+L(V,P)+T(V,D,1)+"Z",B}de.exports={deg2rad:function(_){return _/180*l},rad2deg:function(_){return _/l*180},angleDelta:d,angleDist:function(_,b){return Math.abs(d(_,b))},isFullCircle:C,isAngleInsideSector:h,isPtInsideSector:function(_,b,M,w){return!!h(b,w)&&(M[0]<M[1]?(N=M[0],z=M[1]):(N=M[1],z=M[0]),_>=N&&_<=z);var N,z},pathArc:function(_,b,M,w,N){return u(null,_,b,M,w,N,0)},pathSector:function(_,b,M,w,N){return u(null,_,b,M,w,N,1)},pathAnnulus:function(_,b,M,w,N,z){return u(_,b,M,w,N,z,1)}}},{"./mod":239}],218:[function(m,de,ne){"use strict";var o=Array.isArray,g=ArrayBuffer,p=DataView;function l(d){return g.isView(d)&&!(d instanceof p)}function c(d){return o(d)||l(d)}function C(d,h,u){if(c(d)){if(c(d[0])){for(var _=u,b=0;b<d.length;b++)_=h(_,d[b].length);return _}return d.length}return 0}ne.isTypedArray=l,ne.isArrayOrTypedArray=c,ne.isArray1D=function(d){return!c(d[0])},ne.ensureArray=function(d,h){return o(d)||(d=[]),d.length=h,d},ne.concat=function(){var d,h,u,_,b,M,w,N,z=[],k=!0,D=0;for(u=0;u<arguments.length;u++)(M=(_=arguments[u]).length)&&(h?z.push(_):(h=_,b=M),o(_)?d=!1:(k=!1,D?d!==_.constructor&&(d=!1):d=_.constructor),D+=M);if(!D)return[];if(!z.length)return h;if(k)return h.concat.apply(h,z);if(d){for((w=new d(D)).set(h),u=0;u<z.length;u++)w.set(_=z[u],b),b+=_.length;return w}for(w=new Array(D),N=0;N<h.length;N++)w[N]=h[N];for(u=0;u<z.length;u++){for(_=z[u],N=0;N<_.length;N++)w[b+N]=_[N];b+=N}return w},ne.maxRowLength=function(d){return C(d,Math.max,0)},ne.minRowLength=function(d){return C(d,Math.min,1/0)}},{}],219:[function(m,de,ne){"use strict";var o=m("fast-isnumeric"),g=m("../constants/numerical").BADNUM,p=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;de.exports=function(l){return"string"==typeof l&&(l=l.replace(p,"")),o(l)?Number(l):g}},{"../constants/numerical":212,"fast-isnumeric":17}],220:[function(m,de,ne){"use strict";de.exports=function(o){var g=o._fullLayout;g._glcanvas&&g._glcanvas.size()&&g._glcanvas.each(function(p){p.regl&&p.regl.clear({color:!0,depth:!0})})}},{}],221:[function(m,de,ne){"use strict";de.exports=function(o){o._responsiveChartHandler&&(window.removeEventListener("resize",o._responsiveChartHandler),delete o._responsiveChartHandler)}},{}],222:[function(m,de,ne){"use strict";var o=m("fast-isnumeric"),g=m("tinycolor2"),p=m("../plots/attributes"),l=m("../components/colorscale/scales"),c=m("../components/color"),C=m("../constants/interactions").DESELECTDIM,d=m("./nested_property"),h=m("./regex").counter,u=m("./mod").modHalf,_=m("./array").isArrayOrTypedArray;function b(M,w){var N=ne.valObjectMeta[w.valType];if(w.arrayOk&&_(M))return!0;if(N.validateFunction)return N.validateFunction(M,w);var z={},k=z;return N.coerceFunction(M,{set:function(S){k=S}},z,w),k!==z}ne.valObjectMeta={data_array:{coerceFunction:function(M,w,N){_(M)?w.set(M):void 0!==N&&w.set(N)}},enumerated:{coerceFunction:function(M,w,N,z){z.coerceNumber&&(M=+M),-1===z.values.indexOf(M)?w.set(N):w.set(M)},validateFunction:function(M,w){w.coerceNumber&&(M=+M);for(var N=w.values,z=0;z<N.length;z++){var k=String(N[z]);if("/"===k.charAt(0)&&"/"===k.charAt(k.length-1)){if(new RegExp(k.substr(1,k.length-2)).test(M))return!0}else if(M===N[z])return!0}return!1}},boolean:{coerceFunction:function(M,w,N){w.set(!0===M||!1===M?M:N)}},number:{coerceFunction:function(M,w,N,z){!o(M)||void 0!==z.min&&M<z.min||void 0!==z.max&&M>z.max?w.set(N):w.set(+M)}},integer:{coerceFunction:function(M,w,N,z){M%1||!o(M)||void 0!==z.min&&M<z.min||void 0!==z.max&&M>z.max?w.set(N):w.set(+M)}},string:{coerceFunction:function(M,w,N,z){w.set("string"!=typeof M?!0!==z.strict&&"number"==typeof M?String(M):N:z.noBlank&&!M?N:M)}},color:{coerceFunction:function(M,w,N){g(M).isValid()?w.set(M):w.set(N)}},colorlist:{coerceFunction:function(M,w,N){Array.isArray(M)&&M.length&&M.every(function(z){return g(z).isValid()})?w.set(M):w.set(N)}},colorscale:{coerceFunction:function(M,w,N){w.set(l.get(M,N))}},angle:{coerceFunction:function(M,w,N){"auto"===M?w.set("auto"):o(M)?w.set(u(+M,360)):w.set(N)}},subplotid:{coerceFunction:function(M,w,N,z){var k=z.regex||h(N);"string"==typeof M&&k.test(M)?w.set(M):w.set(N)},validateFunction:function(M,w){var N=w.dflt;return M===N||"string"==typeof M&&!!h(N).test(M)}},flaglist:{coerceFunction:function(M,w,N,z){if("string"==typeof M)if(-1===(z.extras||[]).indexOf(M)){for(var k=M.split("+"),D=0;D<k.length;){var S=k[D];-1===z.flags.indexOf(S)||k.indexOf(S)<D?k.splice(D,1):D++}w.set(k.length?k.join("+"):N)}else w.set(M);else w.set(N)}},any:{coerceFunction:function(M,w,N){w.set(void 0===M?N:M)}},info_array:{coerceFunction:function(M,w,N,z){function k(Q,te,ce){var me;return void 0===ce&&(ce=te.dflt),ne.valObjectMeta[te.valType].coerceFunction(Q,{set:function(K){me=K}},ce,te),me}var D=2===z.dimensions||"1-2"===z.dimensions&&Array.isArray(M)&&Array.isArray(M[0]);if(Array.isArray(M)){var S,P,V,I,L,B=z.items,$=[],T=Array.isArray(B),Y=T&&D&&Array.isArray(B[0]),W=D&&T&&!Y,q=T&&!W?B.length:M.length;if(N=Array.isArray(N)?N:[],D)for(S=0;S<q;S++)for($[S]=[],V=Array.isArray(M[S])?M[S]:[],I=W?B.length:T?B[S].length:V.length,P=0;P<I;P++)void 0!==(L=k(V[P],W?B[P]:T?B[S][P]:B,(N[S]||[])[P]))&&($[S][P]=L);else for(S=0;S<q;S++)void 0!==(L=k(M[S],T?B[S]:B,N[S]))&&($[S]=L);w.set($)}else w.set(N)},validateFunction:function(M,w){if(!Array.isArray(M))return!1;var N=w.items,z=Array.isArray(N),k=2===w.dimensions;if(!w.freeLength&&M.length!==N.length)return!1;for(var D=0;D<M.length;D++)if(k){if(!Array.isArray(M[D])||!w.freeLength&&M[D].length!==N[D].length)return!1;for(var S=0;S<M[D].length;S++)if(!b(M[D][S],z?N[D][S]:N))return!1}else if(!b(M[D],z?N[D]:N))return!1;return!0}}},ne.coerce=function(M,w,N,z,k){var D=d(N,z).get(),S=d(M,z),P=d(w,z),V=S.get(),E=w._template;if(void 0===V&&E&&(V=d(E,z).get(),E=0),void 0===k&&(k=D.dflt),D.arrayOk&&_(V))return P.set(V),V;var I=ne.valObjectMeta[D.valType].coerceFunction;I(V,P,k,D);var L=P.get();return E&&L===k&&!b(V,D)&&(I(V=d(E,z).get(),P,k,D),L=P.get()),L},ne.coerce2=function(M,w,N,z,k){var D=d(M,z),S=ne.coerce(M,w,N,z,k);return null!=D.get()&&S},ne.coerceFont=function(M,w,N){var z={};return z.family=M(w+".family",(N=N||{}).family),z.size=M(w+".size",N.size),z.color=M(w+".color",N.color),z},ne.coercePattern=function(M,w,N,z){if(M(w+".shape")){M(w+".solidity"),M(w+".size");var k="overlay"===M(w+".fillmode");if(!z){var D=M(w+".bgcolor",k?N:void 0);M(w+".fgcolor",k?c.contrast(D):N)}M(w+".fgopacity",k?.5:1)}},ne.coerceHoverinfo=function(M,w,N){var z,k=w._module.attributes,D=k.hoverinfo?k:p,S=D.hoverinfo;if(1===N._dataLength){var P="all"===S.dflt?S.flags.slice():S.dflt.split("+");P.splice(P.indexOf("name"),1),z=P.join("+")}return ne.coerce(M,w,D,"hoverinfo",z)},ne.coerceSelectionMarkerOpacity=function(M,w){if(M.marker){var N,z,k=M.marker.opacity;void 0!==k&&(_(k)||M.selected||M.unselected||(N=k,z=C*k),w("selected.marker.opacity",N),w("unselected.marker.opacity",z))}},ne.validate=b},{"../components/color":102,"../components/colorscale/scales":117,"../constants/interactions":211,"../plots/attributes":275,"./array":218,"./mod":239,"./nested_property":240,"./regex":248,"fast-isnumeric":17,tinycolor2:67}],223:[function(m,de,ne){"use strict";var o,g,p=m("d3-time-format").timeFormat,l=m("fast-isnumeric"),c=m("./loggers"),C=m("./mod").mod,d=m("../constants/numerical"),h=d.BADNUM,u=d.ONEDAY,_=d.ONEHOUR,b=d.ONEMIN,M=d.ONESEC,w=d.EPOCHJD,N=m("../registry"),z=m("d3-time-format").utcFormat,k=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,D=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,S=(new Date).getFullYear()-70;function P(te){return te&&N.componentsRegistry.calendars&&"string"==typeof te&&"gregorian"!==te}function V(te,ce){return String(te+Math.pow(10,ce)).substr(1)}ne.dateTick0=function(te,ce){var K,le,me=(le=!!ce,P(K=te)?le?N.getComponentMethod("calendars","CANONICAL_SUNDAY")[K]:N.getComponentMethod("calendars","CANONICAL_TICK")[K]:le?"2000-01-02":"2000-01-01");if(ce<2)return me;var ie=ne.dateTime2ms(me,te);return ne.ms2DateTime(ie+=u*(ce-1),0,te)},ne.dfltRange=function(te){return P(te)?N.getComponentMethod("calendars","DFLTRANGE")[te]:["2000-01-01","2001-01-01"]},ne.isJSDate=function(te){return"object"==typeof te&&null!==te&&"function"==typeof te.getTime},ne.dateTime2ms=function(te,ce){if(ne.isJSDate(te)){var me=te.getTimezoneOffset()*b,ie=(te.getUTCMinutes()-te.getMinutes())*b+(te.getUTCSeconds()-te.getSeconds())*M+(te.getUTCMilliseconds()-te.getMilliseconds());if(ie){var K=3*b;me=me-K/2+C(ie-me+K/2,K)}return(te=Number(te)-me)>=o&&te<=g?te:h}if("string"!=typeof te&&"number"!=typeof te)return h;te=String(te);var le=P(ce),G=te.charAt(0);!le||"G"!==G&&"g"!==G||(te=te.substr(1),ce="");var j=le&&"chinese"===ce.substr(0,7),oe=te.match(j?D:k);if(!oe)return h;var re=oe[1],F=oe[3]||"1",O=Number(oe[5]||1),X=Number(oe[7]||0),R=Number(oe[9]||0),ae=Number(oe[11]||0);if(le){if(2===re.length)return h;var fe;re=Number(re);try{var ue=N.getComponentMethod("calendars","getCal")(ce);if(j){var pe="i"===F.charAt(F.length-1);F=parseInt(F,10),fe=ue.newDate(re,ue.toMonthIndex(re,F,pe),O)}else fe=ue.newDate(re,Number(F),O)}catch(Me){return h}return fe?(fe.toJD()-w)*u+X*_+R*b+ae*M:h}re=2===re.length?(Number(re)+2e3-S)%100+S:Number(re),F-=1;var xe=new Date(Date.UTC(2e3,F,O,X,R));return xe.setUTCFullYear(re),xe.getUTCMonth()!==F||xe.getUTCDate()!==O?h:xe.getTime()+ae*M},o=ne.MIN_MS=ne.dateTime2ms("-9999"),g=ne.MAX_MS=ne.dateTime2ms("9999-12-31 23:59:59.9999"),ne.isDateTime=function(te,ce){return ne.dateTime2ms(te,ce)!==h};var E=90*u,I=3*_,L=5*b;function B(te,ce,me,ie,K){if((ce||me||ie||K)&&(te+=" "+V(ce,2)+":"+V(me,2),(ie||K)&&(te+=":"+V(ie,2),K))){for(var le=4;K%10==0;)le-=1,K/=10;te+="."+V(K,le)}return te}ne.ms2DateTime=function(te,ce,me){if("number"!=typeof te||!(te>=o&&te<=g))return h;ce||(ce=0);var ie,K,le,G,j,oe,re=Math.floor(10*C(te+.05,1)),F=Math.round(te-re/10);if(P(me)){var O=Math.floor(F/u)+w,X=Math.floor(C(te,u));try{ie=N.getComponentMethod("calendars","getCal")(me).fromJD(O).formatDate("yyyy-mm-dd")}catch(R){ie=z("G%Y-%m-%d")(new Date(F))}if("-"===ie.charAt(0))for(;ie.length<11;)ie="-0"+ie.substr(1);else for(;ie.length<10;)ie="0"+ie;K=ce<E?Math.floor(X/_):0,le=ce<E?Math.floor(X%_/b):0,G=ce<I?Math.floor(X%b/M):0,j=ce<L?X%M*10+re:0}else oe=new Date(F),ie=z("%Y-%m-%d")(oe),K=ce<E?oe.getUTCHours():0,le=ce<E?oe.getUTCMinutes():0,G=ce<I?oe.getUTCSeconds():0,j=ce<L?10*oe.getUTCMilliseconds()+re:0;return B(ie,K,le,G,j)},ne.ms2DateTimeLocal=function(te){if(!(te>=o+u&&te<=g-u))return h;var ce=Math.floor(10*C(te+.05,1)),me=new Date(Math.round(te-ce/10));return B(p("%Y-%m-%d")(me),me.getHours(),me.getMinutes(),me.getSeconds(),10*me.getUTCMilliseconds()+ce)},ne.cleanDate=function(te,ce,me){if(te===h)return ce;if(ne.isJSDate(te)||"number"==typeof te&&isFinite(te)){if(P(me))return c.error("JS Dates and milliseconds are incompatible with world calendars",te),ce;if(!(te=ne.ms2DateTimeLocal(+te))&&void 0!==ce)return ce}else if(!ne.isDateTime(te,me))return c.error("unrecognized date",te),ce;return te};var $=/%\d?f/g,T=/%h/g,Y={1:"1",2:"1",3:"2",4:"2"};function W(te,ce,me,ie){te=te.replace($,function(le){var G=Math.min(+le.charAt(1)||6,6);return(ce/1e3%1+2).toFixed(G).substr(2).replace(/0+$/,"")||"0"});var K=new Date(Math.floor(ce+.05));if(te=te.replace(T,function(){return Y[me("%q")(K)]}),P(ie))try{te=N.getComponentMethod("calendars","worldCalFmt")(te,ce,ie)}catch(le){return"Invalid"}return me(te)(K)}var q=[59,59.9,59.99,59.999,59.9999];ne.formatDate=function(te,ce,me,ie,K,le){if(K=P(K)&&K,!ce)if("y"===me)ce=le.year;else if("m"===me)ce=le.month;else{if("d"!==me)return function(G,j){var oe=C(G+.05,u),re=V(Math.floor(oe/_),2)+":"+V(C(Math.floor(oe/b),60),2);if("M"!==j){l(j)||(j=0);var F=(100+Math.min(C(G/M,60),q[j])).toFixed(j).substr(1);j>0&&(F=F.replace(/0+$/,"").replace(/[\.]$/,"")),re+=":"+F}return re}(te,me)+"\n"+W(le.dayMonthYear,te,ie,K);ce=le.dayMonth+"\n"+le.year}return W(ce,te,ie,K)};var Q=3*u;ne.incrementMonth=function(te,ce,me){me=P(me)&&me;var ie=C(te,u);if(te=Math.round(te-ie),me)try{var K=Math.round(te/u)+w,le=N.getComponentMethod("calendars","getCal")(me),G=le.fromJD(K);return ce%12?le.add(G,ce,"m"):le.add(G,ce/12,"y"),(G.toJD()-w)*u+ie}catch(oe){c.error("invalid ms "+te+" in calendar "+me)}var j=new Date(te+Q);return j.setUTCMonth(j.getUTCMonth()+ce)+ie-Q},ne.findExactDates=function(te,ce){for(var me,ie,K=0,le=0,G=0,j=0,oe=P(ce)&&N.getComponentMethod("calendars","getCal")(ce),re=0;re<te.length;re++)if(l(ie=te[re])){if(!(ie%u))if(oe)try{1===(me=oe.fromJD(ie/u+w)).day()?1===me.month()?K++:le++:G++}catch(O){}else 1===(me=new Date(ie)).getUTCDate()?0===me.getUTCMonth()?K++:le++:G++}else j++;G+=le+=K;var F=te.length-j;return{exactYears:K/F,exactMonths:le/F,exactDays:G/F}}},{"../constants/numerical":212,"../registry":318,"./loggers":236,"./mod":239,"d3-time-format":14,"fast-isnumeric":17}],224:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("./loggers"),p=m("./matrix"),l=m("gl-mat4");function c(_){var b=_&&_.parentNode;b&&b.removeChild(_)}function C(_,b,M){var w="plotly.js-style-"+_,N=document.getElementById(w);N||((N=document.createElement("style")).setAttribute("id",w),N.appendChild(document.createTextNode("")),document.head.appendChild(N));var z=N.sheet;z.insertRule?z.insertRule(b+"{"+M+"}",0):z.addRule?z.addRule(b,M,0):g.warn("addStyleRule failed")}function d(_){var b=window.getComputedStyle(_,null),M=b.getPropertyValue("-webkit-transform")||b.getPropertyValue("-moz-transform")||b.getPropertyValue("-ms-transform")||b.getPropertyValue("-o-transform")||b.getPropertyValue("transform");return"none"===M?null:M.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(w){return+w})}function h(_){for(var b=[];u(_);)b.push(_),_=_.parentNode;return b}function u(_){return _&&(_ instanceof Element||_ instanceof HTMLElement)}de.exports={getGraphDiv:function(_){var b;if("string"==typeof _){if(null===(b=document.getElementById(_)))throw new Error("No DOM element with id '"+_+"' exists on the page.");return b}if(null==_)throw new Error("DOM element provided is null or undefined");return _},isPlotDiv:function(_){var b=o.select(_);return b.node()instanceof HTMLElement&&b.size()&&b.classed("js-plotly-plot")},removeElement:c,addStyleRule:function(_,b){C("global",_,b)},addRelatedStyleRule:C,deleteRelatedStyleRule:function(_){var M=document.getElementById("plotly.js-style-"+_);M&&c(M)},getFullTransformMatrix:function(_){var b=h(_),M=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return b.forEach(function(w){var N=d(w);if(N){var z=p.convertCssMatrix(N);M=l.multiply(M,M,z)}}),M},getElementTransformMatrix:d,getElementAndAncestors:h,equalDomRects:function(_,b){return _&&b&&_.x===b.x&&_.y===b.y&&_.top===b.top&&_.left===b.left&&_.right===b.right&&_.bottom===b.bottom}}},{"./loggers":236,"./matrix":238,"@plotly/d3":11,"gl-mat4":33}],225:[function(m,de,ne){"use strict";var o=m("events").EventEmitter;de.exports={init:function(p){if(p._ev instanceof o)return p;var l=new o,c=new o;return p._ev=l,p._internalEv=c,p.on=l.on.bind(l),p.once=l.once.bind(l),p.removeListener=l.removeListener.bind(l),p.removeAllListeners=l.removeAllListeners.bind(l),p._internalOn=c.on.bind(c),p._internalOnce=c.once.bind(c),p._removeInternalListener=c.removeListener.bind(c),p._removeAllInternalListeners=c.removeAllListeners.bind(c),p.emit=function(C,d){"undefined"!=typeof jQuery&&jQuery(p).trigger(C,d),l.emit(C,d),c.emit(C,d)},p},triggerHandler:function(p,l,c){var C,d;"undefined"!=typeof jQuery&&(C=jQuery(p).triggerHandler(l,c));var h=p._ev;if(!h)return C;var u,_=h._events[l];if(!_)return C;function b(M){return M.listener?(h.removeListener(l,M.listener),M.fired?void 0:(M.fired=!0,M.listener.apply(h,[c]))):M.apply(h,[c])}for(_=Array.isArray(_)?_:[_],u=0;u<_.length-1;u++)b(_[u]);return d=b(_[u]),void 0!==C?C:d},purge:function(p){return delete p._ev,delete p.on,delete p.once,delete p.removeListener,delete p.removeAllListeners,delete p.emit,delete p._ev,delete p._internalEv,delete p._internalOn,delete p._internalOnce,delete p._removeInternalListener,delete p._removeAllInternalListeners,p}}},{events:12}],226:[function(m,de,ne){"use strict";var o=m("./is_plain_object.js"),g=Array.isArray;function p(l,c,C,d){var h,u,_,b,M,w,N=l[0],z=l.length;if(2===z&&g(N)&&g(l[1])&&0===N.length){if(function(D,S){var P,V;for(P=0;P<D.length;P++){if(null!==(V=D[P])&&"object"==typeof V)return!1;void 0!==V&&(S[P]=V)}return!0}(l[1],N))return N;N.splice(0,N.length)}for(var k=1;k<z;k++)for(u in h=l[k])_=N[u],b=h[u],d&&g(b)?N[u]=b:c&&b&&(o(b)||(M=g(b)))?(M?(M=!1,w=_&&g(_)?_:[]):w=_&&o(_)?_:{},N[u]=p([w,b],c,C,d)):(void 0!==b||C)&&(N[u]=b);return N}ne.extendFlat=function(){return p(arguments,!1,!1,!1)},ne.extendDeep=function(){return p(arguments,!0,!1,!1)},ne.extendDeepAll=function(){return p(arguments,!0,!0,!1)},ne.extendDeepNoArrays=function(){return p(arguments,!0,!1,!0)}},{"./is_plain_object.js":233}],227:[function(m,de,ne){"use strict";de.exports=function(o){for(var g={},p=[],l=0,c=0;c<o.length;c++){var C=o[c];1!==g[C]&&(g[C]=1,p[l++]=C)}return p}},{}],228:[function(m,de,ne){"use strict";function o(p){return!0===p.visible}function g(p){var l=p[0].trace;return!0===l.visible&&0!==l._length}de.exports=function(p){for(var l,c=(l=p,Array.isArray(l)&&Array.isArray(l[0])&&l[0][0]&&l[0][0].trace?g:o),C=[],d=0;d<p.length;d++){var h=p[d];c(h)&&C.push(h)}return C}},{}],229:[function(m,de,ne){"use strict";var o,g,p,l=m("./mod").mod;function c(d,h,u,_,b,M,w,N){var z=u-d,k=b-d,D=w-b,S=_-h,P=M-h,V=N-M,E=z*V-D*S;if(0===E)return null;var I=(k*V-D*P)/E,L=(k*S-z*P)/E;return L<0||L>1||I<0||I>1?null:{x:d+z*I,y:h+S*I}}function C(d,h,u,_,b){var M=_*d+b*h;if(M<0)return _*_+b*b;if(M>u){var w=_-d,N=b-h;return w*w+N*N}var z=_*h-b*d;return z*z/u}ne.segmentsIntersect=c,ne.segmentDistance=function(d,h,u,_,b,M,w,N){if(c(d,h,u,_,b,M,w,N))return 0;var z=u-d,k=_-h,D=w-b,S=N-M,P=z*z+k*k,V=D*D+S*S,E=Math.min(C(z,k,P,b-d,M-h),C(z,k,P,w-d,N-h),C(D,S,V,d-b,h-M),C(D,S,V,u-b,_-M));return Math.sqrt(E)},ne.getTextLocation=function(d,h,u,_){if(d===g&&_===p||(o={},g=d,p=_),o[u])return o[u];var b=d.getPointAtLength(l(u-_/2,h)),M=d.getPointAtLength(l(u+_/2,h)),w=Math.atan((M.y-b.y)/(M.x-b.x)),N=d.getPointAtLength(l(u,h)),z={x:(4*N.x+b.x+M.x)/6,y:(4*N.y+b.y+M.y)/6,theta:w};return o[u]=z,z},ne.clearLocationCache=function(){g=null},ne.getVisibleSegment=function(d,h,u){var _,b,M=h.left,w=h.right,N=h.top,z=h.bottom,k=0,D=d.getTotalLength(),S=D;function P(E){var I=d.getPointAtLength(E);0===E?_=I:E===D&&(b=I);var L=I.x<M?M-I.x:I.x>w?I.x-w:0,B=I.y<N?N-I.y:I.y>z?I.y-z:0;return Math.sqrt(L*L+B*B)}for(var V=P(k);V;){if((k+=V+u)>S)return;V=P(k)}for(V=P(S);V;){if(k>(S-=V+u))return;V=P(S)}return{min:k,max:S,len:S-k,total:D,isClosed:0===k&&S===D&&Math.abs(_.x-b.x)<.1&&Math.abs(_.y-b.y)<.1}},ne.findPointOnPath=function(d,h,u,_){for(var b,M,w,N=(_=_||{}).pathLength||d.getTotalLength(),z=_.tolerance||.001,k=_.iterationLimit||30,D=d.getPointAtLength(0)[u]>d.getPointAtLength(N)[u]?-1:1,S=0,P=0,V=N;S<k;){if(w=(M=d.getPointAtLength(b=(P+V)/2))[u]-h,Math.abs(w)<z)return M;D*w>0?V=b:P=b,S++}return M}},{"./mod":239}],230:[function(m,de,ne){"use strict";de.exports=function(o){return o}},{}],231:[function(m,de,ne){"use strict";de.exports=function(o,g){if(!g)return o;var p=1/Math.abs(g),l=p>1?(p*o+p*g)/p:o+g,c=String(l).length;if(c>16){var C=String(g).length;if(c>=String(o).length+C){var d=parseFloat(l).toPrecision(12);-1===d.indexOf("e+")&&(l=+d)}}return l}},{}],232:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("d3-time-format").utcFormat,p=m("d3-format").format,l=m("fast-isnumeric"),c=m("../constants/numerical"),C=c.FP_SAFE,d=-C,h=c.BADNUM,u=de.exports={};u.adjustFormat=function(re){return!re||/^\d[.]\df/.test(re)||/[.]\d%/.test(re)?re:"0.f"===re?"~f":/^\d%/.test(re)?"~%":/^\ds/.test(re)?"~s":!/^[~,.0$]/.test(re)&&/[&fps]/.test(re)?"~"+re:re};var _={};u.warnBadFormat=function(re){var F=String(re);_[F]||(_[F]=1,u.warn('encountered bad format: "'+F+'"'))},u.noFormat=function(re){return String(re)},u.numberFormat=function(re){var F;try{F=p(u.adjustFormat(re))}catch(O){return u.warnBadFormat(re),u.noFormat}return F},u.nestedProperty=m("./nested_property"),u.keyedContainer=m("./keyed_container"),u.relativeAttr=m("./relative_attr"),u.isPlainObject=m("./is_plain_object"),u.toLogRange=m("./to_log_range"),u.relinkPrivateKeys=m("./relink_private");var b=m("./array");u.isTypedArray=b.isTypedArray,u.isArrayOrTypedArray=b.isArrayOrTypedArray,u.isArray1D=b.isArray1D,u.ensureArray=b.ensureArray,u.concat=b.concat,u.maxRowLength=b.maxRowLength,u.minRowLength=b.minRowLength;var M=m("./mod");u.mod=M.mod,u.modHalf=M.modHalf;var w=m("./coerce");u.valObjectMeta=w.valObjectMeta,u.coerce=w.coerce,u.coerce2=w.coerce2,u.coerceFont=w.coerceFont,u.coercePattern=w.coercePattern,u.coerceHoverinfo=w.coerceHoverinfo,u.coerceSelectionMarkerOpacity=w.coerceSelectionMarkerOpacity,u.validate=w.validate;var N=m("./dates");u.dateTime2ms=N.dateTime2ms,u.isDateTime=N.isDateTime,u.ms2DateTime=N.ms2DateTime,u.ms2DateTimeLocal=N.ms2DateTimeLocal,u.cleanDate=N.cleanDate,u.isJSDate=N.isJSDate,u.formatDate=N.formatDate,u.incrementMonth=N.incrementMonth,u.dateTick0=N.dateTick0,u.dfltRange=N.dfltRange,u.findExactDates=N.findExactDates,u.MIN_MS=N.MIN_MS,u.MAX_MS=N.MAX_MS;var z=m("./search");u.findBin=z.findBin,u.sorterAsc=z.sorterAsc,u.sorterDes=z.sorterDes,u.distinctVals=z.distinctVals,u.roundUp=z.roundUp,u.sort=z.sort,u.findIndexOfMin=z.findIndexOfMin,u.sortObjectKeys=m("./sort_object_keys");var k=m("./stats");u.aggNums=k.aggNums,u.len=k.len,u.mean=k.mean,u.median=k.median,u.midRange=k.midRange,u.variance=k.variance,u.stdev=k.stdev,u.interp=k.interp;var D=m("./matrix");u.init2dArray=D.init2dArray,u.transposeRagged=D.transposeRagged,u.dot=D.dot,u.translationMatrix=D.translationMatrix,u.rotationMatrix=D.rotationMatrix,u.rotationXYMatrix=D.rotationXYMatrix,u.apply3DTransform=D.apply3DTransform,u.apply2DTransform=D.apply2DTransform,u.apply2DTransform2=D.apply2DTransform2,u.convertCssMatrix=D.convertCssMatrix,u.inverseTransformMatrix=D.inverseTransformMatrix;var S=m("./angles");u.deg2rad=S.deg2rad,u.rad2deg=S.rad2deg,u.angleDelta=S.angleDelta,u.angleDist=S.angleDist,u.isFullCircle=S.isFullCircle,u.isAngleInsideSector=S.isAngleInsideSector,u.isPtInsideSector=S.isPtInsideSector,u.pathArc=S.pathArc,u.pathSector=S.pathSector,u.pathAnnulus=S.pathAnnulus;var P=m("./anchor_utils");u.isLeftAnchor=P.isLeftAnchor,u.isCenterAnchor=P.isCenterAnchor,u.isRightAnchor=P.isRightAnchor,u.isTopAnchor=P.isTopAnchor,u.isMiddleAnchor=P.isMiddleAnchor,u.isBottomAnchor=P.isBottomAnchor;var V=m("./geometry2d");u.segmentsIntersect=V.segmentsIntersect,u.segmentDistance=V.segmentDistance,u.getTextLocation=V.getTextLocation,u.clearLocationCache=V.clearLocationCache,u.getVisibleSegment=V.getVisibleSegment,u.findPointOnPath=V.findPointOnPath;var E=m("./extend");u.extendFlat=E.extendFlat,u.extendDeep=E.extendDeep,u.extendDeepAll=E.extendDeepAll,u.extendDeepNoArrays=E.extendDeepNoArrays;var I=m("./loggers");u.log=I.log,u.warn=I.warn,u.error=I.error;var L=m("./regex");u.counterRegex=L.counter;var B=m("./throttle");u.throttle=B.throttle,u.throttleDone=B.done,u.clearThrottle=B.clear;var $=m("./dom");function T(re){var F={};for(var O in re)for(var X=re[O],R=0;R<X.length;R++)F[X[R]]=+O;return F}u.getGraphDiv=$.getGraphDiv,u.isPlotDiv=$.isPlotDiv,u.removeElement=$.removeElement,u.addStyleRule=$.addStyleRule,u.addRelatedStyleRule=$.addRelatedStyleRule,u.deleteRelatedStyleRule=$.deleteRelatedStyleRule,u.getFullTransformMatrix=$.getFullTransformMatrix,u.getElementTransformMatrix=$.getElementTransformMatrix,u.getElementAndAncestors=$.getElementAndAncestors,u.equalDomRects=$.equalDomRects,u.clearResponsive=m("./clear_responsive"),u.preserveDrawingBuffer=m("./preserve_drawing_buffer"),u.makeTraceGroups=m("./make_trace_groups"),u._=m("./localize"),u.notifier=m("./notifier"),u.filterUnique=m("./filter_unique"),u.filterVisible=m("./filter_visible"),u.pushUnique=m("./push_unique"),u.increment=m("./increment"),u.cleanNumber=m("./clean_number"),u.ensureNumber=function(re){return l(re)?(re=Number(re))>C||re<d?h:re:h},u.isIndex=function(re,F){return!(void 0!==F&&re>=F)&&l(re)&&re>=0&&re%1==0},u.noop=m("./noop"),u.identity=m("./identity"),u.repeat=function(re,F){for(var O=new Array(F),X=0;X<F;X++)O[X]=re;return O},u.swapAttrs=function(re,F,O,X){O||(O="x"),X||(X="y");for(var R=0;R<F.length;R++){var ae=F[R],fe=u.nestedProperty(re,ae.replace("?",O)),ue=u.nestedProperty(re,ae.replace("?",X)),pe=fe.get();fe.set(ue.get()),ue.set(pe)}},u.raiseToTop=function(re){re.parentNode.appendChild(re)},u.cancelTransition=function(re){return re.transition().duration(0)},u.constrain=function(re,F,O){return F>O?Math.max(O,Math.min(F,re)):Math.max(F,Math.min(O,re))},u.bBoxIntersect=function(re,F,O){return re.left<=F.right+(O=O||0)&&F.left<=re.right+O&&re.top<=F.bottom+O&&F.top<=re.bottom+O},u.simpleMap=function(re,F,O,X,R){for(var ae=re.length,fe=new Array(ae),ue=0;ue<ae;ue++)fe[ue]=F(re[ue],O,X,R);return fe},u.randstr=function re(F,O,X,R){if(X||(X=16),void 0===O&&(O=24),O<=0)return"0";var ae,fe,ue=Math.log(Math.pow(2,O))/Math.log(X),pe="";for(ae=2;ue===1/0;ae*=2)ue=Math.log(Math.pow(2,O/ae))/Math.log(X)*ae;var xe=ue-Math.floor(ue);for(ae=0;ae<Math.floor(ue);ae++)pe=Math.floor(Math.random()*X).toString(X)+pe;xe&&(fe=Math.pow(X,xe),pe=Math.floor(Math.random()*fe).toString(X)+pe);var Me=parseInt(pe,X);return F&&F[pe]||Me!==1/0&&Me>=Math.pow(2,O)?R>10?(u.warn("randstr failed uniqueness"),pe):re(F,O,X,(R||0)+1):pe},u.OptionControl=function(re,F){re||(re={}),F||(F="opt");var O={optionList:[],_newoption:function(X){X[F]=re,O[X.name]=X,O.optionList.push(X)}};return O["_"+F]=re,O},u.smooth=function(re,F){if((F=Math.round(F)||0)<2)return re;var O,X,R,ae,fe=re.length,ue=2*fe,pe=2*F-1,xe=new Array(pe),Me=new Array(fe);for(O=0;O<pe;O++)xe[O]=(1-Math.cos(Math.PI*(O+1)/F))/(2*F);for(O=0;O<fe;O++){for(ae=0,X=0;X<pe;X++)(R=O+X+1-F)<-fe?R-=ue*Math.round(R/ue):R>=ue&&(R-=ue*Math.floor(R/ue)),R<0?R=-1-R:R>=fe&&(R=ue-1-R),ae+=re[R]*xe[X];Me[O]=ae}return Me},u.syncOrAsync=function(re,F,O){var X;function R(){return u.syncOrAsync(re,F,O)}for(;re.length;)if((X=(0,re.splice(0,1)[0])(F))&&X.then)return X.then(R);return O&&O(F)},u.stripTrailingSlash=function(re){return"/"===re.substr(-1)?re.substr(0,re.length-1):re},u.noneOrAll=function(re,F,O){if(re){var X,R=!1,ae=!0;for(X=0;X<O.length;X++)null!=re[O[X]]?R=!0:ae=!1;if(R&&!ae)for(X=0;X<O.length;X++)re[O[X]]=F[O[X]]}},u.mergeArray=function(re,F,O,X){var R="function"==typeof X;if(u.isArrayOrTypedArray(re))for(var ae=Math.min(re.length,F.length),fe=0;fe<ae;fe++){var ue=re[fe];F[fe][O]=R?X(ue):ue}},u.mergeArrayCastPositive=function(re,F,O){return u.mergeArray(re,F,O,function(X){var R=+X;return isFinite(R)&&R>0?R:0})},u.fillArray=function(re,F,O,X){if(X=X||u.identity,u.isArrayOrTypedArray(re))for(var R=0;R<F.length;R++)F[R][O]=X(re[R])},u.castOption=function(re,F,O,X){X=X||u.identity;var R=u.nestedProperty(re,O).get();return u.isArrayOrTypedArray(R)?Array.isArray(F)&&u.isArrayOrTypedArray(R[F[0]])?X(R[F[0]][F[1]]):X(R[F]):R},u.extractOption=function(re,F,O,X){if(O in re)return re[O];var R=u.nestedProperty(F,X).get();return Array.isArray(R)?void 0:R},u.tagSelected=function(re,F,O){var X,R,ae=F.selectedpoints,fe=F._indexToPoints;fe&&(X=T(fe));for(var ue=0;ue<ae.length;ue++){var pe=ae[ue];if(u.isIndex(pe)||u.isArrayOrTypedArray(pe)&&u.isIndex(pe[0])&&u.isIndex(pe[1])){var xe=X?X[pe]:pe,Me=O?O[xe]:xe;void 0!==(R=Me)&&R<re.length&&(re[Me].selected=1)}}},u.selIndices2selPoints=function(re){var F=re.selectedpoints,O=re._indexToPoints;if(O){for(var X=T(O),R=[],ae=0;ae<F.length;ae++){var fe=F[ae];if(u.isIndex(fe)){var ue=X[fe];u.isIndex(ue)&&R.push(ue)}}return R}return F},u.getTargetArray=function(re,F){var O=F.target;if("string"==typeof O&&O){var X=u.nestedProperty(re,O).get();return!!Array.isArray(X)&&X}return!!Array.isArray(O)&&O},u.minExtend=function(re,F){var O={};"object"!=typeof F&&(F={});var X,R,ae,fe=Object.keys(re);for(X=0;X<fe.length;X++)ae=re[R=fe[X]],"_"!==R.charAt(0)&&"function"!=typeof ae&&(O[R]="module"===R?ae:Array.isArray(ae)?"colorscale"===R?ae.slice():ae.slice(0,3):u.isTypedArray(ae)?ae.subarray(0,3):ae&&"object"==typeof ae?u.minExtend(re[R],F[R]):ae);for(fe=Object.keys(F),X=0;X<fe.length;X++)"object"==typeof(ae=F[R=fe[X]])&&R in O&&"object"==typeof O[R]||(O[R]=ae);return O},u.titleCase=function(re){return re.charAt(0).toUpperCase()+re.substr(1)},u.containsAny=function(re,F){for(var O=0;O<F.length;O++)if(-1!==re.indexOf(F[O]))return!0;return!1},u.isIE=function(){return void 0!==window.navigator.msSaveBlob};var Y=/Version\/[\d\.]+.*Safari/;u.isSafari=function(){return Y.test(window.navigator.userAgent)};var W=/iPad|iPhone|iPod/;u.isIOS=function(){return W.test(window.navigator.userAgent)};var q=/Firefox\/(\d+)\.\d+/;u.getFirefoxVersion=function(){var re=q.exec(window.navigator.userAgent);if(re&&2===re.length){var F=parseInt(re[1]);if(!isNaN(F))return F}return null},u.isD3Selection=function(re){return re instanceof o.selection},u.ensureSingle=function(re,F,O,X){var R=re.select(F+(O?"."+O:""));if(R.size())return R;var ae=re.append(F);return O&&ae.classed(O,!0),X&&ae.call(X),ae},u.ensureSingleById=function(re,F,O,X){var R=re.select(F+"#"+O);if(R.size())return R;var ae=re.append(F).attr("id",O);return X&&ae.call(X),ae},u.objectFromPath=function(re,F){for(var O,X=re.split("."),R=O={},ae=0;ae<X.length;ae++){var fe=X[ae],ue=null,pe=X[ae].match(/(.*)\[([0-9]+)\]/);pe?(ue=pe[2],(O=O[fe=pe[1]]=[])[ue]=ae===X.length-1?F:{},O=O[ue]):(O[fe]=ae===X.length-1?F:{},O=O[fe])}return R};var Q=/^([^\[\.]+)\.(.+)?/,te=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;u.expandObjectPaths=function(re){var F,O,X,R,ae,fe,ue;if("object"==typeof re&&!Array.isArray(re))for(O in re)re.hasOwnProperty(O)&&((F=O.match(Q))?(R=re[O],X=F[1],delete re[O],re[X]=u.extendDeepNoArrays(re[X]||{},u.objectFromPath(O,u.expandObjectPaths(R))[X])):(F=O.match(te))?(R=re[O],X=F[1],ae=parseInt(F[2]),delete re[O],re[X]=re[X]||[],"."===F[3]?(ue=F[4],fe=re[X][ae]=re[X][ae]||{},u.extendDeepNoArrays(fe,u.objectFromPath(ue,u.expandObjectPaths(R)))):re[X][ae]=u.expandObjectPaths(R)):re[O]=u.expandObjectPaths(re[O]));return re},u.numSeparate=function(re,F,O){if(O||(O=!1),"string"!=typeof F||0===F.length)throw new Error("Separator string required for formatting!");"number"==typeof re&&(re=String(re));var X=/(\d+)(\d{3})/,R=F.charAt(0),ae=F.charAt(1),fe=re.split("."),ue=fe[0],pe=fe.length>1?R+fe[1]:"";if(ae&&(fe.length>1||ue.length>4||O))for(;X.test(ue);)ue=ue.replace(X,"$1"+ae+"$2");return ue+pe},u.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var ce=/^\w*$/;u.templateString=function(re,F){var O={};return re.replace(u.TEMPLATE_STRING_REGEX,function(X,R){var ae;return ce.test(R)?ae=F[R]:(O[R]=O[R]||u.nestedProperty(F,R).get,ae=O[R]()),u.isValidTextValue(ae)?ae:""})};var me={max:10,count:0,name:"hovertemplate"};u.hovertemplateString=function(){return le.apply(me,arguments)};var ie={max:10,count:0,name:"texttemplate"};u.texttemplateString=function(){return le.apply(ie,arguments)};var K=/^[:|\|]/;function le(re,F,O){var X=this,R=arguments;F||(F={});var ae={};return re.replace(u.TEMPLATE_STRING_REGEX,function(fe,ue,pe){var xe,Me,Ae,ze="_xother"===ue||"_yother"===ue,Fe="_xother_"===ue||"_yother_"===ue,Ue="xother_"===ue||"yother_"===ue,t1="xother"===ue||"yother"===ue||ze||Ue||Fe,Xe=ue;if((ze||Fe)&&(Xe=Xe.substring(1)),(Ue||Fe)&&(Xe=Xe.substring(0,Xe.length-1)),t1){if(void 0===(xe=F[Xe]))return""}else for(Ae=3;Ae<R.length;Ae++)if(Me=R[Ae]){if(Me.hasOwnProperty(Xe)){xe=Me[Xe];break}if(ce.test(Xe)||(xe=u.nestedProperty(Me,Xe).get(),(xe=ae[Xe]||u.nestedProperty(Me,Xe).get())&&(ae[Xe]=xe)),void 0!==xe)break}if(void 0===xe&&X)return X.count<X.max&&(u.warn("Variable '"+Xe+"' in "+X.name+" could not be found!"),xe=fe),X.count===X.max&&u.warn("Too many "+X.name+" warnings - additional warnings will be suppressed"),X.count++,fe;if(pe){var Ge;if(":"===pe[0]&&(xe=(Ge=O?O.numberFormat:u.numberFormat)(pe.replace(K,""))(xe)),"|"===pe[0]){Ge=O?O.timeFormat:g;var we=u.dateTime2ms(xe);xe=u.formatDate(we,pe.replace(K,""),!1,Ge)}}else{var ve=Xe+"Label";F.hasOwnProperty(ve)&&(xe=F[ve])}return t1&&(xe="("+xe+")",(ze||Fe)&&(xe=" "+xe),(Ue||Fe)&&(xe+=" ")),xe})}u.subplotSort=function(re,F){for(var O=Math.min(re.length,F.length)+1,X=0,R=0,ae=0;ae<O;ae++){var fe=re.charCodeAt(ae)||0,ue=F.charCodeAt(ae)||0,pe=fe>=48&&fe<=57,xe=ue>=48&&ue<=57;if(pe&&(X=10*X+fe-48),xe&&(R=10*R+ue-48),!pe||!xe){if(X!==R)return X-R;if(fe!==ue)return fe-ue}}return R-X};var G=2e9;u.seedPseudoRandom=function(){G=2e9},u.pseudoRandom=function(){var re=G;return G=(69069*G+1)%4294967296,Math.abs(G-re)<429496729?u.pseudoRandom():G/4294967296},u.fillText=function(re,F,O){var X=Array.isArray(O)?function(fe){O.push(fe)}:function(fe){O.text=fe},R=u.extractOption(re,F,"htx","hovertext");if(u.isValidTextValue(R))return X(R);var ae=u.extractOption(re,F,"tx","text");return u.isValidTextValue(ae)?X(ae):void 0},u.isValidTextValue=function(re){return re||0===re},u.formatPercent=function(re,F){F=F||0;for(var O=(Math.round(100*re*Math.pow(10,F))*Math.pow(.1,F)).toFixed(F)+"%",X=0;X<F;X++)-1!==O.indexOf(".")&&(O=(O=O.replace("0%","%")).replace(".%","%"));return O},u.isHidden=function(re){var F=window.getComputedStyle(re).display;return!F||"none"===F},u.strTranslate=function(re,F){return re||F?"translate("+re+","+F+")":""},u.strRotate=function(re){return re?"rotate("+re+")":""},u.strScale=function(re){return 1!==re?"scale("+re+")":""},u.getTextTransform=function(re){var F=re.noCenter,O=re.textX,X=re.textY,pe=re.rotate,xe=re.scale;return xe?xe>1&&(xe=1):xe=0,u.strTranslate(re.targetX-xe*(O+(re.anchorX||0)),re.targetY-xe*(X+(re.anchorY||0)))+u.strScale(xe)+(pe?"rotate("+pe+(F?"":" "+O+" "+X)+")":"")},u.ensureUniformFontSize=function(re,F){var O=u.extendFlat({},F);return O.size=Math.max(F.size,re._fullLayout.uniformtext.minsize||0),O},u.join2=function(re,F,O){var X=re.length;return X>1?re.slice(0,-1).join(F)+O+re[X-1]:re.join(F)},u.bigFont=function(re){return Math.round(1.2*re)};var j=u.getFirefoxVersion(),oe=null!==j&&j<86;u.getPositionFromD3Event=function(){return oe?[o.event.layerX,o.event.layerY]:[o.event.offsetX,o.event.offsetY]}},{"../constants/numerical":212,"./anchor_utils":216,"./angles":217,"./array":218,"./clean_number":219,"./clear_responsive":221,"./coerce":222,"./dates":223,"./dom":224,"./extend":226,"./filter_unique":227,"./filter_visible":228,"./geometry2d":229,"./identity":230,"./increment":231,"./is_plain_object":233,"./keyed_container":234,"./localize":235,"./loggers":236,"./make_trace_groups":237,"./matrix":238,"./mod":239,"./nested_property":240,"./noop":241,"./notifier":242,"./preserve_drawing_buffer":245,"./push_unique":246,"./regex":248,"./relative_attr":249,"./relink_private":250,"./search":251,"./sort_object_keys":253,"./stats":254,"./throttle":256,"./to_log_range":257,"@plotly/d3":11,"d3-format":13,"d3-time-format":14,"fast-isnumeric":17}],233:[function(m,de,ne){"use strict";de.exports=function(o){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(o):"[object Object]"===Object.prototype.toString.call(o)&&Object.getPrototypeOf(o).hasOwnProperty("hasOwnProperty")}},{}],234:[function(m,de,ne){"use strict";var o=m("./nested_property"),g=/^\w*$/;de.exports=function(p,l,c,C){var d,h,u;c=c||"name",C=C||"value";var _={};l&&l.length?(u=o(p,l),h=u.get()):h=p,l=l||"";var b={};if(h)for(d=0;d<h.length;d++)b[h[d][c]]=d;var M=g.test(C),w={set:function(N,z){var k=null===z?4:0;if(!h){if(!u||4===k)return;u.set(h=[])}var D=b[N];if(void 0===D){if(4===k)return;k|=3,b[N]=D=h.length}else z!==(M?h[D][C]:o(h[D],C).get())&&(k|=2);var S=h[D]=h[D]||{};return S[c]=N,M?S[C]=z:o(S,C).set(z),null!==z&&(k&=-5),_[D]=_[D]|k,w},get:function(N){if(h){var z=b[N];return void 0===z?void 0:M?h[z][C]:o(h[z],C).get()}},rename:function(N,z){var k=b[N];return void 0===k||(_[k]=1|_[k],b[z]=k,delete b[N],h[k][c]=z),w},remove:function(N){var z=b[N];if(void 0===z)return w;var k=h[z];if(Object.keys(k).length>2)return _[z]=2|_[z],w.set(N,null);if(M){for(d=z;d<h.length;d++)_[d]=3|_[d];for(d=z;d<h.length;d++)b[h[d][c]]--;h.splice(z,1),delete b[N]}else o(k,C).set(null),_[z]=6|_[z];return w},constructUpdate:function(){for(var N,z,k={},D=Object.keys(_),S=0;S<D.length;S++)N=l+"["+(z=D[S])+"]",h[z]?(1&_[z]&&(k[N+"."+c]=h[z][c]),2&_[z]&&(k[N+"."+C]=M?4&_[z]?null:h[z][C]:4&_[z]?null:o(h[z],C).get())):k[N]=null;return k}};return w}},{"./nested_property":240}],235:[function(m,de,ne){"use strict";var o=m("../registry");de.exports=function(g,p){for(var l=g._context.locale,c=0;c<2;c++){for(var C=g._context.locales,d=0;d<2;d++){var h=(C[l]||{}).dictionary;if(h){var u=h[p];if(u)return u}C=o.localeRegistry}var _=l.split("-")[0];if(_===l)break;l=_}return p}},{"../registry":318}],236:[function(m,de,ne){"use strict";var o=m("../plot_api/plot_config").dfltConfig,g=m("./notifier"),p=de.exports={};p.log=function(){var l;if(o.logging>1){var c=["LOG:"];for(l=0;l<arguments.length;l++)c.push(arguments[l]);console.trace.apply(console,c)}if(o.notifyOnLogging>1){var C=[];for(l=0;l<arguments.length;l++)C.push(arguments[l]);g(C.join("<br>"),"long")}},p.warn=function(){var l;if(o.logging>0){var c=["WARN:"];for(l=0;l<arguments.length;l++)c.push(arguments[l]);console.trace.apply(console,c)}if(o.notifyOnLogging>0){var C=[];for(l=0;l<arguments.length;l++)C.push(arguments[l]);g(C.join("<br>"),"stick")}},p.error=function(){var l;if(o.logging>0){var c=["ERROR:"];for(l=0;l<arguments.length;l++)c.push(arguments[l]);console.error.apply(console,c)}if(o.notifyOnLogging>0){var C=[];for(l=0;l<arguments.length;l++)C.push(arguments[l]);g(C.join("<br>"),"stick")}}},{"../plot_api/plot_config":266,"./notifier":242}],237:[function(m,de,ne){"use strict";var o=m("@plotly/d3");de.exports=function(g,p,l){var c=g.selectAll("g."+l.replace(/\s/g,".")).data(p,function(d){return d[0].trace.uid});c.exit().remove(),c.enter().append("g").attr("class",l),c.order();var C=g.classed("rangeplot")?"nodeRangePlot3":"node3";return c.each(function(d){d[0][C]=o.select(this)}),c}},{"@plotly/d3":11}],238:[function(m,de,ne){"use strict";var o=m("gl-mat4");ne.init2dArray=function(g,p){for(var l=new Array(g),c=0;c<g;c++)l[c]=new Array(p);return l},ne.transposeRagged=function(g){var p,l,c=0,C=g.length;for(p=0;p<C;p++)c=Math.max(c,g[p].length);var d=new Array(c);for(p=0;p<c;p++)for(d[p]=new Array(C),l=0;l<C;l++)d[p][l]=g[l][p];return d},ne.dot=function(g,p){if(!g.length||!p.length||g.length!==p.length)return null;var l,c,C=g.length;if(g[0].length)for(l=new Array(C),c=0;c<C;c++)l[c]=ne.dot(g[c],p);else if(p[0].length){var d=ne.transposeRagged(p);for(l=new Array(d.length),c=0;c<d.length;c++)l[c]=ne.dot(g,d[c])}else for(l=0,c=0;c<C;c++)l+=g[c]*p[c];return l},ne.translationMatrix=function(g,p){return[[1,0,g],[0,1,p],[0,0,1]]},ne.rotationMatrix=function(g){var p=g*Math.PI/180;return[[Math.cos(p),-Math.sin(p),0],[Math.sin(p),Math.cos(p),0],[0,0,1]]},ne.rotationXYMatrix=function(g,p,l){return ne.dot(ne.dot(ne.translationMatrix(p,l),ne.rotationMatrix(g)),ne.translationMatrix(-p,-l))},ne.apply3DTransform=function(g){return function(){var p=arguments,l=1===arguments.length?p[0]:[p[0],p[1],p[2]||0];return ne.dot(g,[l[0],l[1],l[2],1]).slice(0,3)}},ne.apply2DTransform=function(g){return function(){var p=arguments;3===p.length&&(p=p[0]);var l=1===arguments.length?p[0]:[p[0],p[1]];return ne.dot(g,[l[0],l[1],1]).slice(0,2)}},ne.apply2DTransform2=function(g){var p=ne.apply2DTransform(g);return function(l){return p(l.slice(0,2)).concat(p(l.slice(2,4)))}},ne.convertCssMatrix=function(g){if(g){var p=g.length;if(16===p)return g;if(6===p)return[g[0],g[1],0,0,g[2],g[3],0,0,0,0,1,0,g[4],g[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},ne.inverseTransformMatrix=function(g){var p=[];return o.invert(p,g),[[p[0],p[1],p[2],p[3]],[p[4],p[5],p[6],p[7]],[p[8],p[9],p[10],p[11]],[p[12],p[13],p[14],p[15]]]}},{"gl-mat4":33}],239:[function(m,de,ne){"use strict";de.exports={mod:function(o,g){var p=o%g;return p<0?p+g:p},modHalf:function(o,g){return Math.abs(o)>g/2?o-Math.round(o/g)*g:o}}},{}],240:[function(m,de,ne){"use strict";var o=m("fast-isnumeric"),g=m("./array").isArrayOrTypedArray;function p(_,b){return function(){var M,w,N,z,k,D=_;for(z=0;z<b.length-1;z++){if(-1===(M=b[z])){for(w=!0,N=[],k=0;k<D.length;k++)N[k]=p(D[k],b.slice(z+1))(),N[k]!==N[0]&&(w=!1);return w?N[0]:N}if("number"==typeof M&&!g(D)||"object"!=typeof(D=D[M])||null===D)return}if("object"==typeof D&&null!==D&&null!==(N=D[b[z]]))return N}}de.exports=function(_,b){if(o(b))b=String(b);else if("string"!=typeof b||"[-1]"===b.substr(b.length-4))throw"bad property string";for(var M,w,N,z=0,k=b.split(".");z<k.length;){if(M=String(k[z]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(M[1])k[z]=M[1];else{if(0!==z)throw"bad property string";k.splice(0,1)}for(w=M[2].substr(1,M[2].length-2).split("]["),N=0;N<w.length;N++)z++,k.splice(z,0,Number(w[N]))}z++}return"object"!=typeof _?{set:function(){throw"bad container"},get:function(){},astr:b,parts:k,obj:_}:{set:C(_,k,b),get:p(_,k),astr:b,parts:k,obj:_}};var l=/(^|\.)args\[/;function c(_,b){return void 0===_||null===_&&!b.match(l)}function C(_,b,M){return function(w){var N,z,k=_,D="",S=[[_,D]],P=c(w,M);for(z=0;z<b.length-1;z++){if("number"==typeof(N=b[z])&&!g(k))throw"array index but container is not an array";if(-1===N){if(P=!h(k,b.slice(z+1),w,M))break;return}if(!u(k,N,b[z+1],P))break;if("object"!=typeof(k=k[N])||null===k)throw"container is not an object";D=d(D,N),S.push([k,D])}if(P){if(z===b.length-1&&(delete k[b[z]],Array.isArray(k)&&+b[z]==k.length-1))for(;k.length&&void 0===k[k.length-1];)k.pop()}else k[b[z]]=w}}function d(_,b){var M=b;return o(b)?M="["+b+"]":_&&(M="."+b),_+M}function h(_,b,M,w){var N,z=g(M),k=!0,D=M,S=w.replace("-1",0),P=!z&&c(M,S),V=b[0];for(N=0;N<_.length;N++)S=w.replace("-1",N),z&&(P=c(D=M[N%M.length],S)),P&&(k=!1),u(_,N,V,P)&&C(_[N],b,w.replace("-1",N))(D);return k}function u(_,b,M,w){if(void 0===_[b]){if(w)return!1;_[b]="number"==typeof M?[]:{}}return!0}},{"./array":218,"fast-isnumeric":17}],241:[function(m,de,ne){"use strict";de.exports=function(){}},{}],242:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("fast-isnumeric"),p=[];de.exports=function(l,c){if(-1===p.indexOf(l)){p.push(l);var C=1e3;g(c)?C=c:"long"===c&&(C=3e3);var d=o.select("body").selectAll(".plotly-notifier").data([0]);d.enter().append("div").classed("plotly-notifier",!0),d.selectAll(".notifier-note").data(p).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(u){var _=o.select(this);_.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){_.transition().call(h)});for(var b=_.append("p"),M=u.split(/<br\s*\/?>/g),w=0;w<M.length;w++)w&&b.append("br"),b.append("span").text(M[w]);"stick"===c?_.transition().duration(350).style("opacity",1):_.transition().duration(700).style("opacity",1).transition().delay(C).call(h)})}function h(u){u.duration(700).style("opacity",0).each("end",function(_){var b=p.indexOf(_);-1!==b&&p.splice(b,1),o.select(this).remove()})}}},{"@plotly/d3":11,"fast-isnumeric":17}],243:[function(m,de,ne){"use strict";var o=m("./setcursor"),g="data-savedcursor";de.exports=function(p,l){var c=p.attr(g);if(l){if(!c){for(var C=(p.attr("class")||"").split(" "),d=0;d<C.length;d++){var h=C[d];0===h.indexOf("cursor-")&&p.attr(g,h.substr(7)).classed(h,!1)}p.attr(g)||p.attr(g,"!!")}o(p,l)}else c&&(p.attr(g,null),"!!"===c?o(p):o(p,c))}},{"./setcursor":252}],244:[function(m,de,ne){"use strict";var o=m("./matrix").dot,g=m("../constants/numerical").BADNUM,p=de.exports={};p.tester=function(l){var c,C=l.slice(),d=C[0][0],h=d,u=C[0][1],_=u;for(C.push(C[0]),c=1;c<C.length;c++)d=Math.min(d,C[c][0]),h=Math.max(h,C[c][0]),u=Math.min(u,C[c][1]),_=Math.max(_,C[c][1]);var b,M=!1;5===C.length&&(C[0][0]===C[1][0]?C[2][0]===C[3][0]&&C[0][1]===C[3][1]&&C[1][1]===C[2][1]&&(M=!0,b=function(z){return z[0]===C[0][0]}):C[0][1]===C[1][1]&&C[2][1]===C[3][1]&&C[0][0]===C[3][0]&&C[1][0]===C[2][0]&&(M=!0,b=function(z){return z[1]===C[0][1]}));var w=!0,N=C[0];for(c=1;c<C.length;c++)if(N[0]!==C[c][0]||N[1]!==C[c][1]){w=!1;break}return{xmin:d,xmax:h,ymin:u,ymax:_,pts:C,contains:M?function(z,k){var D=z[0],S=z[1];return!(D===g||D<d||D>h||S===g||S<u||S>_||k&&b(z))}:function(z,k){var D=z[0],S=z[1];if(D===g||D<d||D>h||S===g||S<u||S>_)return!1;var P,V,E,I,L,B=C.length,$=C[0][0],T=C[0][1],Y=0;for(P=1;P<B;P++)if(V=$,E=T,$=C[P][0],T=C[P][1],!(D<(I=Math.min(V,$))||D>Math.max(V,$)||S>Math.max(E,T)))if(S<Math.min(E,T))D!==I&&Y++;else{if(S===(L=$===V?S:E+(D-V)*(T-E)/($-V)))return 1!==P||!k;S<=L&&D!==I&&Y++}return Y%2==1},isRect:M,degenerate:w}},p.isSegmentBent=function(l,c,C,d){var h,u,_,b=l[c],M=[l[C][0]-b[0],l[C][1]-b[1]],w=o(M,M),N=Math.sqrt(w),z=[-M[1]/N,M[0]/N];for(h=c+1;h<C;h++)if((_=o(u=[l[h][0]-b[0],l[h][1]-b[1]],M))<0||_>w||Math.abs(o(u,z))>d)return!0;return!1},p.filter=function(l,c){var C=[l[0]],d=0,h=0;function u(_){l.push(_);var b=C.length,M=d;C.splice(h+1);for(var w=M+1;w<l.length;w++)(w===l.length-1||p.isSegmentBent(l,M,w+1,c))&&(C.push(l[w]),C.length<b-2&&(d=w,h=C.length-1),M=w)}return l.length>1&&u(l.pop()),{addPt:u,raw:l,filtered:C}}},{"../constants/numerical":212,"./matrix":238}],245:[function(m,de,ne){"use strict";var o=m("fast-isnumeric"),g=m("is-mobile");de.exports=function(p){var l,b;if("string"!=typeof(l=p&&p.hasOwnProperty("userAgent")?p.userAgent:("undefined"!=typeof navigator&&(b=navigator.userAgent),b&&b.headers&&"string"==typeof b.headers["user-agent"]&&(b=b.headers["user-agent"]),b)))return!0;var c=g({ua:{headers:{"user-agent":l}},tablet:!0,featureDetect:!1});if(!c)for(var C=l.split(" "),d=1;d<C.length;d++)if(-1!==C[d].indexOf("Safari"))for(var h=d-1;h>-1;h--){var u=C[h];if("Version/"===u.substr(0,8)){var _=u.substr(8).split(".")[0];if(o(_)&&(_=+_),_>=13)return!0}}return c}},{"fast-isnumeric":17,"is-mobile":51}],246:[function(m,de,ne){"use strict";de.exports=function(o,g){if(g instanceof RegExp){for(var p=g.toString(),l=0;l<o.length;l++)if(o[l]instanceof RegExp&&o[l].toString()===p)return o;o.push(g)}else!g&&0!==g||-1!==o.indexOf(g)||o.push(g);return o}},{}],247:[function(m,de,ne){"use strict";var o=m("../lib"),g=m("../plot_api/plot_config").dfltConfig,p={add:function(l,c,C,d,h){var u,_;l.undoQueue=l.undoQueue||{index:0,queue:[],sequence:!1},_=l.undoQueue.index,l.autoplay?l.undoQueue.inSequence||(l.autoplay=!1):(!l.undoQueue.sequence||l.undoQueue.beginSequence?(l.undoQueue.queue.splice(_,l.undoQueue.queue.length-_,u={undo:{calls:[],args:[]},redo:{calls:[],args:[]}}),l.undoQueue.index+=1):u=l.undoQueue.queue[_-1],l.undoQueue.beginSequence=!1,u&&(u.undo.calls.unshift(c),u.undo.args.unshift(C),u.redo.calls.push(d),u.redo.args.push(h)),l.undoQueue.queue.length>g.queueLength&&(l.undoQueue.queue.shift(),l.undoQueue.index--))},startSequence:function(l){l.undoQueue=l.undoQueue||{index:0,queue:[],sequence:!1},l.undoQueue.sequence=!0,l.undoQueue.beginSequence=!0},stopSequence:function(l){l.undoQueue=l.undoQueue||{index:0,queue:[],sequence:!1},l.undoQueue.sequence=!1,l.undoQueue.beginSequence=!1},undo:function(l){var c,C;if(!(void 0===l.undoQueue||isNaN(l.undoQueue.index)||l.undoQueue.index<=0)){for(l.undoQueue.index--,c=l.undoQueue.queue[l.undoQueue.index],l.undoQueue.inSequence=!0,C=0;C<c.undo.calls.length;C++)p.plotDo(l,c.undo.calls[C],c.undo.args[C]);l.undoQueue.inSequence=!1,l.autoplay=!1}},redo:function(l){var c,C;if(!(void 0===l.undoQueue||isNaN(l.undoQueue.index)||l.undoQueue.index>=l.undoQueue.queue.length)){for(c=l.undoQueue.queue[l.undoQueue.index],l.undoQueue.inSequence=!0,C=0;C<c.redo.calls.length;C++)p.plotDo(l,c.redo.calls[C],c.redo.args[C]);l.undoQueue.inSequence=!1,l.autoplay=!1,l.undoQueue.index++}},plotDo:function(l,c,C){l.autoplay=!0,C=function(d,h){for(var u,_=[],b=0;b<h.length;b++)_[b]=(u=h[b])===d?u:"object"==typeof u?Array.isArray(u)?o.extendDeep([],u):o.extendDeepAll({},u):u;return _}(l,C),c.apply(null,C)}};de.exports=p},{"../lib":232,"../plot_api/plot_config":266}],248:[function(m,de,ne){"use strict";ne.counter=function(o,g,p,l){var c=(g||"")+(p?"":"$"),C=!1===l?"":"^";return"xy"===o?new RegExp(C+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+c):new RegExp(C+o+"([2-9]|[1-9][0-9]+)?"+c)}},{}],249:[function(m,de,ne){"use strict";var o=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,g=/^[^\.\[\]]+$/;de.exports=function(p,l){for(;l;){var c=p.match(o);if(c)p=c[1];else{if(!p.match(g))throw new Error("bad relativeAttr call:"+[p,l]);p=""}if("^"!==l.charAt(0))break;l=l.slice(1)}return p&&"["!==l.charAt(0)?p+"."+l:p+l}},{}],250:[function(m,de,ne){"use strict";var o=m("./array").isArrayOrTypedArray,g=m("./is_plain_object");de.exports=function p(l,c){for(var C in c){var d=c[C],h=l[C];if(h!==d)if("_"===C.charAt(0)||"function"==typeof d){if(C in l)continue;l[C]=d}else if(o(d)&&o(h)&&g(d[0])){if("customdata"===C||"ids"===C)continue;for(var u=Math.min(d.length,h.length),_=0;_<u;_++)h[_]!==d[_]&&g(d[_])&&g(h[_])&&p(h[_],d[_])}else g(d)&&g(h)&&(p(h,d),Object.keys(h).length||delete l[C])}}},{"./array":218,"./is_plain_object":233}],251:[function(m,de,ne){"use strict";var o=m("fast-isnumeric"),g=m("./loggers"),p=m("./identity"),l=m("../constants/numerical").BADNUM;function c(u,_){return u<_}function C(u,_){return u<=_}function d(u,_){return u>_}function h(u,_){return u>=_}ne.findBin=function(u,_,b){if(o(_.start))return b?Math.ceil((u-_.start)/_.size-1e-9)-1:Math.floor((u-_.start)/_.size+1e-9);var M,w,N=0,z=_.length,k=0,D=z>1?(_[z-1]-_[0])/(z-1):1;for(w=D>=0?b?c:C:b?h:d,u+=1e-9*D*(b?-1:1)*(D>=0?1:-1);N<z&&k++<100;)w(_[M=Math.floor((N+z)/2)],u)?N=M+1:z=M;return k>90&&g.log("Long binary search..."),N-1},ne.sorterAsc=function(u,_){return u-_},ne.sorterDes=function(u,_){return _-u},ne.distinctVals=function(u){var _,b=u.slice();for(b.sort(ne.sorterAsc),_=b.length-1;_>-1&&b[_]===l;_--);for(var M,w=b[_]-b[0]||1,N=w/(_||1)/1e4,z=[],k=0;k<=_;k++){var D=b[k],S=D-M;void 0===M?(z.push(D),M=D):S>N&&(w=Math.min(w,S),z.push(D),M=D)}return{vals:z,minDiff:w}},ne.roundUp=function(u,_,b){for(var M,w=0,N=_.length-1,z=0,k=b?0:1,D=b?1:0,S=b?Math.ceil:Math.floor;w<N&&z++<100;)_[M=S((w+N)/2)]<=u?w=M+k:N=M-D;return _[w]},ne.sort=function(u,_){for(var b=0,M=0,w=1;w<u.length;w++){var N=_(u[w],u[w-1]);if(N<0?b=1:N>0&&(M=1),b&&M)return u.sort(_)}return M?u:u.reverse()},ne.findIndexOfMin=function(u,_){_=_||p;for(var b,M=1/0,w=0;w<u.length;w++){var N=_(u[w]);N<M&&(M=N,b=w)}return b}},{"../constants/numerical":212,"./identity":230,"./loggers":236,"fast-isnumeric":17}],252:[function(m,de,ne){"use strict";de.exports=function(o,g){(o.attr("class")||"").split(" ").forEach(function(p){0===p.indexOf("cursor-")&&o.classed(p,!1)}),g&&o.classed("cursor-"+g,!0)}},{}],253:[function(m,de,ne){"use strict";de.exports=function(o){return Object.keys(o).sort()}},{}],254:[function(m,de,ne){"use strict";var o=m("fast-isnumeric"),g=m("./array").isArrayOrTypedArray;ne.aggNums=function(p,l,c,C){var d,h;if((!C||C>c.length)&&(C=c.length),o(l)||(l=!1),g(c[0])){for(h=new Array(C),d=0;d<C;d++)h[d]=ne.aggNums(p,l,c[d]);c=h}for(d=0;d<C;d++)o(l)?o(c[d])&&(l=p(+l,+c[d])):l=c[d];return l},ne.len=function(p){return ne.aggNums(function(l){return l+1},0,p)},ne.mean=function(p,l){return l||(l=ne.len(p)),ne.aggNums(function(c,C){return c+C},0,p)/l},ne.midRange=function(p){if(void 0!==p&&0!==p.length)return(ne.aggNums(Math.max,null,p)+ne.aggNums(Math.min,null,p))/2},ne.variance=function(p,l,c){return l||(l=ne.len(p)),o(c)||(c=ne.mean(p,l)),ne.aggNums(function(C,d){return C+Math.pow(d-c,2)},0,p)/l},ne.stdev=function(p,l,c){return Math.sqrt(ne.variance(p,l,c))},ne.median=function(p){var l=p.slice().sort();return ne.interp(l,.5)},ne.interp=function(p,l){if(!o(l))throw"n should be a finite number";if((l=l*p.length-.5)<0)return p[0];if(l>p.length-1)return p[p.length-1];var c=l%1;return c*p[Math.ceil(l)]+(1-c)*p[Math.floor(l)]}},{"./array":218,"fast-isnumeric":17}],255:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("../lib"),p=g.strTranslate,l=m("../constants/xmlns_namespaces"),c=m("../constants/alignment").LINE_SPACING,C=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;ne.convertToTspans=function(q,Q,te){var ce=q.text(),me=!q.attr("data-notex")&&Q&&Q._context.typesetMath&&"undefined"!=typeof MathJax&&ce.match(C),ie=o.select(q.node().parentNode);if(!ie.empty()){var K=q.attr("class")?q.attr("class").split(" ")[0]:"text";return ie.selectAll("svg."+(K+="-math")).remove(),ie.selectAll("g."+K+"-group").remove(),q.style("display",null).attr({"data-unformatted":ce,"data-math":"N"}),me?(Q&&Q._promises||[]).push(new Promise(function(G){q.style("display","none");var j=parseInt(q.node().style.fontSize,10);!function(re,F,O){var X,R,ae,fe,ue=parseInt((MathJax.version||"").split(".")[0]);if(2===ue||3===ue){var pe=function(){var Me="math-output-"+g.randstr({},64),Ae=(fe=o.select("body").append("div").attr({id:Me}).style({visibility:"hidden",position:"absolute","font-size":F.fontSize+"px"}).text(re.replace(d,"\\lt ").replace(h,"\\gt "))).node();return 2===ue?MathJax.Hub.Typeset(Ae):MathJax.typeset([Ae])},xe=function(){var Me=fe.select(2===ue?".MathJax_SVG":".MathJax"),Ae=!Me.empty()&&fe.select("svg").node();if(Ae){var ze,Fe=Ae.getBoundingClientRect();ze=2===ue?o.select("body").select("#MathJax_SVG_glyphs"):Me.select("defs"),O(Me,ze,Fe)}else g.log("There was an error in the tex syntax.",re),O();fe.remove()};2===ue?MathJax.Hub.Queue(function(){return R=g.extendDeepAll({},MathJax.Hub.config),ae=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:u},displayAlign:"left"})},function(){if("SVG"!==(X=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")},pe,xe,function(){if("SVG"!==X)return MathJax.Hub.setRenderer(X)},function(){return void 0!==ae&&(MathJax.Hub.processSectionDelay=ae),MathJax.Hub.Config(R)}):3===ue&&(R=g.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=u,"svg"!==(X=MathJax.config.startup.output)&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){pe(),xe(),"svg"!==X&&(MathJax.config.startup.output=X),MathJax.config=R}))}else g.warn("No MathJax version:",MathJax.version)}(me[2],{fontSize:j},function(re,F,O){ie.selectAll("svg."+K).remove(),ie.selectAll("g."+K+"-group").remove();var X=re&&re.select("svg");if(!X||!X.node())return le(),void G();var R=ie.append("g").classed(K+"-group",!0).attr({"pointer-events":"none","data-unformatted":ce,"data-math":"Y"});R.node().appendChild(X.node()),F&&F.node()&&X.node().insertBefore(F.node().cloneNode(!0),X.node().firstChild);var ae=O.width,fe=O.height;X.attr({class:K,height:fe,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var ue=q.node().style.fill||"black",pe=X.select("g");pe.attr({fill:ue,stroke:ue});var xe=pe.node().getBoundingClientRect(),Me=xe.width,Ae=xe.height;(Me>ae||Ae>fe)&&(X.style("overflow","hidden"),Me=(xe=X.node().getBoundingClientRect()).width,Ae=xe.height);var ze=+q.attr("x"),Fe=+q.attr("y"),Ue=-(j||q.node().getBoundingClientRect().height)/4;if("y"===K[0])R.attr({transform:"rotate("+[-90,ze,Fe]+")"+p(-Me/2,Ue-Ae/2)});else if("l"===K[0])Fe=Ue-Ae/2;else if("a"===K[0]&&0!==K.indexOf("atitle"))ze=0,Fe=Ue;else{var t1=q.attr("text-anchor");ze-=Me*("middle"===t1?.5:"end"===t1?1:0),Fe=Fe+Ue-Ae/2}X.attr({x:ze,y:Fe}),te&&te.call(q,R),G(R)})})):le(),q}function le(){ie.empty()||(K=q.attr("class")+"-math",ie.select("svg."+K).remove()),q.text("").style("white-space","pre"),function(G,j){j=j.replace(N," ");var oe,re=!1,F=[],O=-1;function X(){O++;var we=document.createElementNS(l.svg,"tspan");o.select(we).attr({class:"line",dy:O*c+"em"}),G.appendChild(we),oe=we;var ve=F;if(F=[{node:we}],ve.length>1)for(var De=1;De<ve.length;De++)R(ve[De])}function R(we){var ve,De=we.type,Ve={};if("a"===De){ve="a";var qe=we.target,Ie=we.href,Re=we.popup;Ie&&(Ve={"xlink:xlink:show":"_blank"===qe||"_"!==qe.charAt(0)?"new":"replace",target:qe,"xlink:xlink:href":Ie},Re&&(Ve.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Re+'");return false;'))}else ve="tspan";we.style&&(Ve.style=we.style);var Qe=document.createElementNS(l.svg,ve);if("sup"===De||"sub"===De){ae(oe,"\u200b"),oe.appendChild(Qe);var n1=document.createElementNS(l.svg,"tspan");ae(n1,"\u200b"),o.select(n1).attr("dy",M[De]),Ve.dy=b[De],oe.appendChild(Qe),oe.appendChild(n1)}else oe.appendChild(Qe);o.select(Qe).attr(Ve),oe=we.node=Qe,F.push(we)}function ae(we,ve){we.appendChild(document.createTextNode(ve))}function fe(we){if(1!==F.length){var ve=F.pop();we!==ve.type&&g.log("Start tag <"+ve.type+"> doesnt match end tag <"+we+">. Pretending it did match.",j),oe=F[F.length-1].node}else g.log("Ignoring unexpected end tag </"+we+">.",j)}D.test(j)?X():(oe=G,F=[{node:G}]);for(var ue=j.split(z),pe=0;pe<ue.length;pe++){var xe=ue[pe],Me=xe.match(k),Ae=Me&&Me[2].toLowerCase(),ze=_[Ae];if("br"===Ae)X();else if(void 0===ze)ae(oe,T(xe));else if(Me[1])fe(Ae);else{var Fe=Me[4],Ue={type:Ae},t1=I(Fe,S);if(t1?(t1=t1.replace(L,"$1 fill:"),ze&&(t1+=";"+ze)):ze&&(t1=ze),t1&&(Ue.style=t1),"a"===Ae){re=!0;var Xe=I(Fe,P);if(Xe){var Ge=Y(Xe);Ge&&(Ue.href=Ge,Ue.target=I(Fe,V)||"_blank",Ue.popup=I(Fe,E))}}R(Ue)}}return re}(q.node(),ce)&&q.style("pointer-events","all"),ne.positionText(q),te&&te.call(q)}};var d=/(<|&lt;|&#60;)/g,h=/(>|&gt;|&#62;)/g,u=[["$","$"],["\\(","\\)"]],_={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},b={sub:"0.3em",sup:"-0.6em"},M={sub:"-0.21em",sup:"0.42em"},w=["http:","https:","mailto:","",void 0,":"],N=ne.NEWLINES=/(\r\n?|\n)/g,z=/(<[^<>]*>)/,k=/<(\/?)([^ >]*)(\s+(.*))?>/i,D=/<br(\s+.*)?>/i;ne.BR_TAG_ALL=/<br(\s+.*)?>/gi;var S=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,P=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,V=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,E=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function I(q,Q){if(!q)return null;var te=q.match(Q),ce=te&&(te[3]||te[4]);return ce&&T(ce)}var L=/(^|;)\s*color:/;ne.plainText=function(q,Q){for(var te=void 0!==(Q=Q||{}).len&&-1!==Q.len?Q.len:1/0,ce=void 0!==Q.allowedTags?Q.allowedTags:["br"],ie=q.split(z),K=[],le="",G=0,j=0;j<ie.length;j++){var oe=ie[j],re=oe.match(k),F=re&&re[2].toLowerCase();if(F)-1!==ce.indexOf(F)&&(K.push(oe),le=F);else{var O=oe.length;if(G+O<te)K.push(oe),G+=O;else if(G<te){var X=te-G;le&&("br"!==le||X<=3||O<=3)&&K.pop(),K.push(te>3?oe.substr(0,X-3)+"...":oe.substr(0,X));break}le=""}}return K.join("")};var B={mu:"\u03bc",amp:"&",lt:"<",gt:">",nbsp:"\xa0",times:"\xd7",plusmn:"\xb1",deg:"\xb0"},$=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function T(q){return q.replace($,function(Q,te){return("#"===te.charAt(0)?function(ce){if(!(ce>1114111)){var me=String.fromCodePoint;if(me)return me(ce);var ie=String.fromCharCode;return ce<=65535?ie(ce):ie(55232+(ce>>10),ce%1024+56320)}}("x"===te.charAt(1)?parseInt(te.substr(2),16):parseInt(te.substr(1),10)):B[te])||Q})}function Y(q){var Q=encodeURI(decodeURI(q)),te=document.createElement("a"),ce=document.createElement("a");te.href=q,ce.href=Q;var ie=ce.protocol;return-1!==w.indexOf(te.protocol)&&-1!==w.indexOf(ie)?Q:""}function W(q,Q,te){var ce,me,ie,K=te.horizontalAlign,le=te.verticalAlign||"top",G=q.node().getBoundingClientRect(),j=Q.node().getBoundingClientRect();return me="bottom"===le?function(){return G.bottom-ce.height}:"middle"===le?function(){return G.top+(G.height-ce.height)/2}:function(){return G.top},ie="right"===K?function(){return G.right-ce.width}:"center"===K?function(){return G.left+(G.width-ce.width)/2}:function(){return G.left},function(){ce=this.node().getBoundingClientRect();var oe=ie()-j.left,re=me()-j.top,F=te.gd||{};if(te.gd){F._fullLayout._calcInverseTransform(F);var O=g.apply3DTransform(F._fullLayout._invTransform)(oe,re);oe=O[0],re=O[1]}return this.style({top:re+"px",left:oe+"px","z-index":1e3}),this}}ne.convertEntities=T,ne.sanitizeHTML=function(q){q=q.replace(N," ");for(var Q=document.createElement("p"),te=Q,ce=[],me=q.split(z),ie=0;ie<me.length;ie++){var K=me[ie],le=K.match(k),G=le&&le[2].toLowerCase();if(G in _)if(le[1])ce.length&&(te=ce.pop());else{var j=le[4],oe=I(j,S),re=oe?{style:oe}:{};if("a"===G){var F=I(j,P);if(F){var O=Y(F);if(O){re.href=O;var X=I(j,V);X&&(re.target=X)}}}var R=document.createElement(G);te.appendChild(R),o.select(R).attr(re),te=R,ce.push(R)}else te.appendChild(document.createTextNode(T(K)))}return Q.innerHTML},ne.lineCount=function(q){return q.selectAll("tspan.line").size()||1},ne.positionText=function(q,Q,te){return q.each(function(){var ce=o.select(this);function me(le,G){return void 0===G?null===(G=ce.attr(le))&&(ce.attr(le,0),G=0):ce.attr(le,G),G}var ie=me("x",Q),K=me("y",te);"text"===this.nodeName&&ce.selectAll("tspan.line").attr({x:ie,y:K})})},ne.makeTextShadow=function(q){var Q="1px ",te="1px ",ce="1px ";return Q+te+ce+q+", -"+Q+"-"+te+ce+q+", "+Q+"-"+te+ce+q+", -"+Q+te+ce+q},ne.makeEditable=function(q,Q){var te=Q.gd,ce=Q.delegate,me=o.dispatch("edit","input","cancel"),ie=ce||q;if(q.style({"pointer-events":ce?"none":"all"}),1!==q.size())throw new Error("boo");function K(){var oe,re,F,O,X;oe=o.select(te).select(".svg-container"),re=oe.append("div"),F=q.node().style,O=parseFloat(F.fontSize||12),void 0===(X=Q.text)&&(X=q.attr("data-unformatted")),re.classed("plugin-editable editable",!0).style({position:"absolute","font-family":F.fontFamily||"Arial","font-size":O,color:Q.fill||F.fill||"black",opacity:1,"background-color":Q.background||"transparent",outline:"#ffffff33 1px solid",margin:[-O/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(X).call(W(q,oe,Q)).on("blur",function(){te._editing=!1,q.text(this.textContent).style({opacity:1});var R,ae=o.select(this).attr("class");(R=ae?"."+ae.split(" ")[0]+"-math-group":"[class*=-math-group]")&&o.select(q.node().parentNode).select(R).style({opacity:0});var fe=this.textContent;o.select(this).transition().duration(0).remove(),o.select(document).on("mouseup",null),me.edit.call(q,fe)}).on("focus",function(){var R=this;te._editing=!0,o.select(document).on("mouseup",function(){if(o.event.target===R)return!1;document.activeElement===re.node()&&re.node().blur()})}).on("keyup",function(){27===o.event.which?(te._editing=!1,q.style({opacity:1}),o.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),me.cancel.call(q,this.textContent)):(me.input.call(q,this.textContent),o.select(this).call(W(q,oe,Q)))}).on("keydown",function(){13===o.event.which&&this.blur()}).call(le),q.style({opacity:0});var G,j=ie.attr("class");(G=j?"."+j.split(" ")[0]+"-math-group":"[class*=-math-group]")&&o.select(q.node().parentNode).select(G).style({opacity:0})}function le(G){var j=G.node(),oe=document.createRange();oe.selectNodeContents(j);var re=window.getSelection();re.removeAllRanges(),re.addRange(oe),j.focus()}return Q.immediate?K():ie.on("click",K),o.rebind(q,me,"on")}},{"../constants/alignment":207,"../constants/xmlns_namespaces":213,"../lib":232,"@plotly/d3":11}],256:[function(m,de,ne){"use strict";var o={};function g(p){p&&null!==p.timer&&(clearTimeout(p.timer),p.timer=null)}ne.throttle=function(p,l,c){var C=o[p],d=Date.now();if(!C){for(var h in o)o[h].ts<d-6e4&&delete o[h];C=o[p]={ts:0,timer:null}}function u(){c(),C.ts=Date.now(),C.onDone&&(C.onDone(),C.onDone=null)}g(C),d>C.ts+l?u():C.timer=setTimeout(function(){u(),C.timer=null},l)},ne.done=function(p){var l=o[p];return l&&l.timer?new Promise(function(c){var C=l.onDone;l.onDone=function(){C&&C(),c(),l.onDone=null}}):Promise.resolve()},ne.clear=function(p){if(p)g(o[p]),delete o[p];else for(var l in o)ne.clear(l)}},{}],257:[function(m,de,ne){"use strict";var o=m("fast-isnumeric");de.exports=function(g,p){if(g>0)return Math.log(g)/Math.LN10;var l=Math.log(Math.min(p[0],p[1]))/Math.LN10;return o(l)||(l=Math.log(Math.max(p[0],p[1]))/Math.LN10-6),l}},{"fast-isnumeric":17}],258:[function(m,de,ne){"use strict";de.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},{}],259:[function(m,de,ne){"use strict";de.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},{}],260:[function(m,de,ne){"use strict";var o=m("../registry");de.exports=function(g){for(var p,l,c=o.layoutArrayContainers,C=o.layoutArrayRegexes,d=g.split("[")[0],h=0;h<C.length;h++)if((l=g.match(C[h]))&&0===l.index){p=l[0];break}if(p||(p=c[c.indexOf(d)]),!p)return!1;var u=g.substr(p.length);return u?!!(l=u.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:p,index:Number(l[1]),property:l[3]||""}:{array:p,index:"",property:""}}},{"../registry":318}],261:[function(m,de,ne){"use strict";var o=m("../lib"),g=o.extendFlat,p=o.isPlainObject,l={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},c={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},C=l.flags.slice().concat(["fullReplot"]),d=c.flags.slice().concat("layoutReplot");function h(b){for(var M={},w=0;w<b.length;w++)M[b[w]]=!1;return M}function u(b,M,w){var N=g({},b);for(var z in N){var k=N[z];p(k)&&(N[z]=_(k,M,0,z))}return"from-root"===w&&(N.editType=M),N}function _(b,M,w,N){if(b.valType){var z=g({},b);if(z.editType=M,Array.isArray(b.items)){z.items=new Array(b.items.length);for(var k=0;k<b.items.length;k++)z.items[k]=_(b.items[k],M)}return z}return u(b,M,"_"===N.charAt(0)?"nested":"from-root")}de.exports={traces:l,layout:c,traceFlags:function(){return h(C)},layoutFlags:function(){return h(d)},update:function(b,M){var w=M.editType;if(w&&"none"!==w)for(var N=w.split("+"),z=0;z<N.length;z++)b[N[z]]=!0},overrideAll:u}},{"../lib":232}],262:[function(m,de,ne){"use strict";var o=m("fast-isnumeric"),g=m("gl-mat4/fromQuat"),p=m("../registry"),l=m("../lib"),c=m("../plots/plots"),C=m("../plots/cartesian/axis_ids"),d=m("../components/color"),h=C.cleanId,u=C.getFromTrace,_=p.traceIs;function b(V,E){var I=V[E],L=E.charAt(0);I&&"paper"!==I&&(V[E]=h(I,L,!0))}function M(V){function E(I,L){V[I]&&(!V.title||!V.title[L])&&(V.title||(V.title={}),V.title[L]=V[I],delete V[I])}V&&("string"!=typeof V.title&&"number"!=typeof V.title||(V.title={text:V.title}),E("titlefont","font"),E("titleposition","position"),E("titleside","side"),E("titleoffset","offset"))}function w(V){if(!l.isPlainObject(V))return!1;var E=V.name;return delete V.name,delete V.showlegend,("string"==typeof E||"number"==typeof E)&&String(E)}function N(V,E,I,L){if(I&&!L)return V;if(L&&!I||!V.trim())return E;if(!E.trim())return V;var B,$=Math.min(V.length,E.length);for(B=0;B<$&&V.charAt(B)===E.charAt(B);B++);return V.substr(0,B).trim()}function z(V){var E="middle",I="center";return"string"==typeof V&&(-1!==V.indexOf("top")?E="top":-1!==V.indexOf("bottom")&&(E="bottom"),-1!==V.indexOf("left")?I="left":-1!==V.indexOf("right")&&(I="right")),E+" "+I}function k(V,E){return E in V&&"object"==typeof V[E]&&0===Object.keys(V[E]).length}ne.clearPromiseQueue=function(V){Array.isArray(V._promises)&&V._promises.length>0&&l.log("Clearing previous rejected promises from queue."),V._promises=[]},ne.cleanLayout=function(V){var E,I;V||(V={}),V.xaxis1&&(V.xaxis||(V.xaxis=V.xaxis1),delete V.xaxis1),V.yaxis1&&(V.yaxis||(V.yaxis=V.yaxis1),delete V.yaxis1),V.scene1&&(V.scene||(V.scene=V.scene1),delete V.scene1);var L=(c.subplotsRegistry.cartesian||{}).attrRegex,B=(c.subplotsRegistry.polar||{}).attrRegex,$=(c.subplotsRegistry.ternary||{}).attrRegex,T=(c.subplotsRegistry.gl3d||{}).attrRegex,Y=Object.keys(V);for(E=0;E<Y.length;E++){var W=Y[E];if(L&&L.test(W)){var q=V[W];q.anchor&&"free"!==q.anchor&&(q.anchor=h(q.anchor)),q.overlaying&&(q.overlaying=h(q.overlaying)),q.type||(q.isdate?q.type="date":q.islog?q.type="log":!1===q.isdate&&!1===q.islog&&(q.type="linear")),"withzero"!==q.autorange&&"tozero"!==q.autorange||(q.autorange=!0,q.rangemode="tozero"),delete q.islog,delete q.isdate,delete q.categories,k(q,"domain")&&delete q.domain,void 0!==q.autotick&&(void 0===q.tickmode&&(q.tickmode=q.autotick?"auto":"linear"),delete q.autotick),M(q)}else if(B&&B.test(W))M(V[W].radialaxis);else if($&&$.test(W)){var Q=V[W];M(Q.aaxis),M(Q.baxis),M(Q.caxis)}else if(T&&T.test(W)){var te=V[W],ce=te.cameraposition;if(Array.isArray(ce)&&4===ce[0].length){var ie=ce[1],K=ce[2],le=g([],ce[0]),G=[];for(I=0;I<3;++I)G[I]=ie[I]+K*le[2+4*I];te.camera={eye:{x:G[0],y:G[1],z:G[2]},center:{x:ie[0],y:ie[1],z:ie[2]},up:{x:0,y:0,z:1}},delete te.cameraposition}M(te.xaxis),M(te.yaxis),M(te.zaxis)}}var j=Array.isArray(V.annotations)?V.annotations.length:0;for(E=0;E<j;E++){var oe=V.annotations[E];l.isPlainObject(oe)&&(oe.ref&&("paper"===oe.ref?(oe.xref="paper",oe.yref="paper"):"data"===oe.ref&&(oe.xref="x",oe.yref="y"),delete oe.ref),b(oe,"xref"),b(oe,"yref"))}var re=Array.isArray(V.shapes)?V.shapes.length:0;for(E=0;E<re;E++){var F=V.shapes[E];l.isPlainObject(F)&&(b(F,"xref"),b(F,"yref"))}var O=Array.isArray(V.images)?V.images.length:0;for(E=0;E<O;E++){var X=V.images[E];l.isPlainObject(X)&&(b(X,"xref"),b(X,"yref"))}var R=V.legend;return R&&(R.x>3?(R.x=1.02,R.xanchor="left"):R.x<-2&&(R.x=-.02,R.xanchor="right"),R.y>3?(R.y=1.02,R.yanchor="bottom"):R.y<-2&&(R.y=-.02,R.yanchor="top")),M(V),"rotate"===V.dragmode&&(V.dragmode="orbit"),d.clean(V),V.template&&V.template.layout&&ne.cleanLayout(V.template.layout),V},ne.cleanData=function(V){for(var E=0;E<V.length;E++){var I,L=V[E];if("histogramy"===L.type&&"xbins"in L&&!("ybins"in L)&&(L.ybins=L.xbins,delete L.xbins),L.error_y&&"opacity"in L.error_y){var B=d.defaults,$=L.error_y.color||(_(L,"bar")?d.defaultLine:B[E%B.length]);L.error_y.color=d.addOpacity(d.rgb($),d.opacity($)*L.error_y.opacity),delete L.error_y.opacity}if("bardir"in L&&("h"!==L.bardir||!_(L,"bar")&&"histogram"!==L.type.substr(0,9)||(L.orientation="h",ne.swapXYData(L)),delete L.bardir),"histogramy"===L.type&&ne.swapXYData(L),"histogramx"!==L.type&&"histogramy"!==L.type||(L.type="histogram"),"scl"in L&&!("colorscale"in L)&&(L.colorscale=L.scl,delete L.scl),"reversescl"in L&&!("reversescale"in L)&&(L.reversescale=L.reversescl,delete L.reversescl),L.xaxis&&(L.xaxis=h(L.xaxis,"x")),L.yaxis&&(L.yaxis=h(L.yaxis,"y")),_(L,"gl3d")&&L.scene&&(L.scene=c.subplotsRegistry.gl3d.cleanId(L.scene)),!_(L,"pie-like")&&!_(L,"bar-like"))if(Array.isArray(L.textposition))for(I=0;I<L.textposition.length;I++)L.textposition[I]=z(L.textposition[I]);else L.textposition&&(L.textposition=z(L.textposition));var T=p.getModule(L);if(T&&T.colorbar){var Y=T.colorbar.container,W=Y?L[Y]:L;W&&W.colorscale&&("YIGnBu"===W.colorscale&&(W.colorscale="YlGnBu"),"YIOrRd"===W.colorscale&&(W.colorscale="YlOrRd"))}if("surface"===L.type&&l.isPlainObject(L.contours)){var q=["x","y","z"];for(I=0;I<q.length;I++){var Q=L.contours[q[I]];l.isPlainObject(Q)&&(Q.highlightColor&&(Q.highlightcolor=Q.highlightColor,delete Q.highlightColor),Q.highlightWidth&&(Q.highlightwidth=Q.highlightWidth,delete Q.highlightWidth))}}if("candlestick"===L.type||"ohlc"===L.type){var te=!1!==(L.increasing||{}).showlegend,ce=!1!==(L.decreasing||{}).showlegend,me=w(L.increasing),ie=w(L.decreasing);if(!1!==me&&!1!==ie){var K=N(me,ie,te,ce);K&&(L.name=K)}else!me&&!ie||L.name||(L.name=me||ie)}if(Array.isArray(L.transforms)){var le=L.transforms;for(I=0;I<le.length;I++){var G=le[I];if(l.isPlainObject(G))switch(G.type){case"filter":G.filtersrc&&(G.target=G.filtersrc,delete G.filtersrc),G.calendar&&(G.valuecalendar||(G.valuecalendar=G.calendar),delete G.calendar);break;case"groupby":if(G.styles=G.styles||G.style,G.styles&&!Array.isArray(G.styles)){var j=G.styles,oe=Object.keys(j);G.styles=[];for(var re=0;re<oe.length;re++)G.styles.push({target:oe[re],value:j[oe[re]]})}}}}k(L,"line")&&delete L.line,"marker"in L&&(k(L.marker,"line")&&delete L.marker.line,k(L,"marker")&&delete L.marker),d.clean(L),L.autobinx&&(delete L.autobinx,delete L.xbins),L.autobiny&&(delete L.autobiny,delete L.ybins),M(L),L.colorbar&&M(L.colorbar),L.marker&&L.marker.colorbar&&M(L.marker.colorbar),L.line&&L.line.colorbar&&M(L.line.colorbar),L.aaxis&&M(L.aaxis),L.baxis&&M(L.baxis)}},ne.swapXYData=function(V){var E;if(l.swapAttrs(V,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(V.z)&&Array.isArray(V.z[0])&&(V.transpose?delete V.transpose:V.transpose=!0),V.error_x&&V.error_y){var I=V.error_y,L="copy_ystyle"in I?I.copy_ystyle:!(I.color||I.thickness||I.width);l.swapAttrs(V,["error_?.copy_ystyle"]),L&&l.swapAttrs(V,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof V.hoverinfo){var B=V.hoverinfo.split("+");for(E=0;E<B.length;E++)"x"===B[E]?B[E]="y":"y"===B[E]&&(B[E]="x");V.hoverinfo=B.join("+")}},ne.coerceTraceIndices=function(V,E){if(o(E))return[E];if(!Array.isArray(E)||!E.length)return V.data.map(function(B,$){return $});if(Array.isArray(E)){for(var I=[],L=0;L<E.length;L++)l.isIndex(E[L],V.data.length)?I.push(E[L]):l.warn("trace index (",E[L],") is not a number or is out of bounds");return I}return E},ne.manageArrayContainers=function(V,E,I){var L=V.obj,B=V.parts,$=B.length,T=B[$-1],Y=o(T);if(Y&&null===E){var W=B.slice(0,$-1).join(".");l.nestedProperty(L,W).get().splice(T,1)}else Y&&void 0===V.get()&&void 0===V.get()&&(I[V.astr]=null),V.set(E)};var D=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function S(V){var E=V.search(D);if(E>0)return V.substr(0,E)}ne.hasParent=function(V,E){for(var I=S(E);I;){if(I in V)return!0;I=S(I)}return!1};var P=["x","y","z"];ne.clearAxisTypes=function(V,E,I){for(var L=0;L<E.length;L++)for(var B=V._fullData[L],$=0;$<3;$++){var T=u(V,B,P[$]);if(T&&"log"!==T.type){var Y=T._name,W=T._id.substr(1);if("scene"===W.substr(0,5)){if(void 0!==I[W])continue;Y=W+"."+Y}var q=Y+".type";void 0===I[Y]&&void 0===I[q]&&l.nestedProperty(V.layout,q).set(null)}}}},{"../components/color":102,"../lib":232,"../plots/cartesian/axis_ids":283,"../plots/plots":316,"../registry":318,"fast-isnumeric":17,"gl-mat4/fromQuat":23}],263:[function(m,de,ne){"use strict";var o=m("./plot_api");ne._doPlot=o._doPlot,ne.newPlot=o.newPlot,ne.restyle=o.restyle,ne.relayout=o.relayout,ne.redraw=o.redraw,ne.update=o.update,ne._guiRestyle=o._guiRestyle,ne._guiRelayout=o._guiRelayout,ne._guiUpdate=o._guiUpdate,ne._storeDirectGUIEdit=o._storeDirectGUIEdit,ne.react=o.react,ne.extendTraces=o.extendTraces,ne.prependTraces=o.prependTraces,ne.addTraces=o.addTraces,ne.deleteTraces=o.deleteTraces,ne.moveTraces=o.moveTraces,ne.purge=o.purge,ne.addFrames=o.addFrames,ne.deleteFrames=o.deleteFrames,ne.animate=o.animate,ne.setPlotConfig=o.setPlotConfig,ne.toImage=m("./to_image"),ne.validate=m("./validate"),ne.downloadImage=m("../snapshot/download");var g=m("./template_api");ne.makeTemplate=g.makeTemplate,ne.validateTemplate=g.validateTemplate},{"../snapshot/download":320,"./plot_api":265,"./template_api":270,"./to_image":271,"./validate":272}],264:[function(m,de,ne){"use strict";var o=m("../lib/is_plain_object"),g=m("../lib/noop"),p=m("../lib/loggers"),l=m("../lib/search").sorterAsc,c=m("../registry");ne.containerArrayMatch=m("./container_array_match");var C=ne.isAddVal=function(h){return"add"===h||o(h)},d=ne.isRemoveVal=function(h){return null===h||"remove"===h};ne.applyContainerArrayChanges=function(h,u,_,b,M){var w=u.astr,N=c.getComponentMethod(w,"supplyLayoutDefaults"),z=c.getComponentMethod(w,"draw"),k=c.getComponentMethod(w,"drawOne"),D=b.replot||b.recalc||N===g||z===g,S=h.layout,P=h._fullLayout;if(_[""]){Object.keys(_).length>1&&p.warn("Full array edits are incompatible with other edits",w);var V=_[""][""];if(d(V))u.set(null);else{if(!Array.isArray(V))return p.warn("Unrecognized full array edit value",w,V),!0;u.set(V)}return!D&&(N(S,P),z(h),!0)}var E,I,L,B,$,T,Y,q=Object.keys(_).map(Number).sort(l),Q=u.get(),te=Q||[],ce=M(P,w).get(),me=[],ie=-1,K=te.length;for(E=0;E<q.length;E++)if(B=_[L=q[E]],$=Object.keys(B),Y=C(T=B[""]),L<0||L>te.length-(Y?0:1))p.warn("index out of range",w,L);else if(void 0!==T)$.length>1&&p.warn("Insertion & removal are incompatible with edits to the same index.",w,L),d(T)?me.push(L):Y?("add"===T&&(T={}),te.splice(L,0,T),ce&&ce.splice(L,0,{})):p.warn("Unrecognized full object edit value",w,L,T),-1===ie&&(ie=L);else for(I=0;I<$.length;I++)M(te[L],$[I],w+"["+L+"].").set(B[$[I]]);for(E=me.length-1;E>=0;E--)te.splice(me[E],1),ce&&ce.splice(me[E],1);if(te.length?Q||u.set(te):u.set(null),D)return!1;if(N(S,P),k!==g){var le;if(-1===ie)le=q;else{for(K=Math.max(te.length,K),le=[],E=0;E<q.length&&!((L=q[E])>=ie);E++)le.push(L);for(E=ie;E<K;E++)le.push(E)}for(E=0;E<le.length;E++)k(h,le[E])}else z(h);return!0}},{"../lib/is_plain_object":233,"../lib/loggers":236,"../lib/noop":241,"../lib/search":251,"../registry":318,"./container_array_match":260}],265:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("fast-isnumeric"),p=m("has-hover"),l=m("../lib"),c=l.nestedProperty,C=m("../lib/events"),d=m("../lib/queue"),h=m("../registry"),u=m("./plot_schema"),_=m("../plots/plots"),b=m("../plots/cartesian/axes"),M=m("../components/drawing"),w=m("../components/color"),N=m("../plots/cartesian/graph_interact").initInteractions,z=m("../constants/xmlns_namespaces"),k=m("../plots/cartesian/select").clearSelect,D=m("./plot_config").dfltConfig,S=m("./manage_arrays"),P=m("./helpers"),V=m("./subroutines"),E=m("./edit_types"),I=m("../plots/cartesian/constants").AX_NAME_PATTERN,L=0;function B(we){var ve=we._fullLayout;ve._redrawFromAutoMarginCount?ve._redrawFromAutoMarginCount--:we.emit("plotly_afterplot")}function $(we,ve){try{we._fullLayout._paper.style("background",ve)}catch(De){l.error(De)}}function T(we,ve){$(we,w.combine(ve,"white"))}function Y(we,ve){if(!we._context){we._context=l.extendDeep({},D);var De=o.select("base");we._context._baseUrl=De.size()&&De.attr("href")?window.location.href.split("#")[0]:""}var Ve,qe,Ie,Re=we._context;if(ve){for(qe=Object.keys(ve),Ve=0;Ve<qe.length;Ve++)"editable"!==(Ie=qe[Ve])&&"edits"!==Ie&&Ie in Re&&(Re[Ie]="setBackground"===Ie&&"opaque"===ve[Ie]?T:ve[Ie]);ve.plot3dPixelRatio&&!Re.plotGlPixelRatio&&(Re.plotGlPixelRatio=Re.plot3dPixelRatio);var Qe=ve.editable;if(void 0!==Qe)for(Re.editable=Qe,qe=Object.keys(Re.edits),Ve=0;Ve<qe.length;Ve++)Re.edits[qe[Ve]]=Qe;if(ve.edits)for(qe=Object.keys(ve.edits),Ve=0;Ve<qe.length;Ve++)(Ie=qe[Ve])in Re.edits&&(Re.edits[Ie]=ve.edits[Ie]);Re._exportedPlot=ve._exportedPlot}Re.staticPlot&&(Re.editable=!1,Re.edits={},Re.autosizable=!1,Re.scrollZoom=!1,Re.doubleClick=!1,Re.showTips=!1,Re.showLink=!1,Re.displayModeBar=!1),"hover"!==Re.displayModeBar||p||(Re.displayModeBar=!0),"transparent"!==Re.setBackground&&"function"==typeof Re.setBackground||(Re.setBackground=$),Re._hasZeroHeight=Re._hasZeroHeight||0===we.clientHeight,Re._hasZeroWidth=Re._hasZeroWidth||0===we.clientWidth;var n1=Re.scrollZoom,Ye=Re._scrollZoom={};if(!0===n1)Ye.cartesian=1,Ye.gl3d=1,Ye.geo=1,Ye.mapbox=1;else if("string"==typeof n1){var r1=n1.split("+");for(Ve=0;Ve<r1.length;Ve++)Ye[r1[Ve]]=1}else!1!==n1&&(Ye.gl3d=1,Ye.geo=1,Ye.mapbox=1)}function W(we,ve){var De,Ve,qe=ve+1,Ie=[];for(De=0;De<we.length;De++)(Ve=we[De])<0?Ie.push(qe+Ve):Ie.push(Ve);return Ie}function q(we,ve,De){var Ve,qe;for(Ve=0;Ve<ve.length;Ve++){if((qe=ve[Ve])!==parseInt(qe,10))throw new Error("all values in "+De+" must be integers");if(qe>=we.data.length||qe<-we.data.length)throw new Error(De+" must be valid indices for gd.data.");if(ve.indexOf(qe,Ve+1)>-1||qe>=0&&ve.indexOf(-we.data.length+qe)>-1||qe<0&&ve.indexOf(we.data.length+qe)>-1)throw new Error("each index in "+De+" must be unique.")}}function Q(we,ve,De){if(!Array.isArray(we.data))throw new Error("gd.data must be an array.");if(void 0===ve)throw new Error("currentIndices is a required argument.");if(Array.isArray(ve)||(ve=[ve]),q(we,ve,"currentIndices"),void 0===De||Array.isArray(De)||(De=[De]),void 0!==De&&q(we,De,"newIndices"),void 0!==De&&ve.length!==De.length)throw new Error("current and new indices must be of equal length.")}function te(we,ve,De,Ve,qe){!function(Je,g1,b1,_1){var I1=l.isPlainObject(_1);if(!Array.isArray(Je.data))throw new Error("gd.data must be an array");if(!l.isPlainObject(g1))throw new Error("update must be a key:value object");if(void 0===b1)throw new Error("indices must be an integer or array of integers");for(var M1 in q(Je,b1,"indices"),g1){if(!Array.isArray(g1[M1])||g1[M1].length!==b1.length)throw new Error("attribute "+M1+" must be an array of length equal to indices array length");if(I1&&(!(M1 in _1)||!Array.isArray(_1[M1])||_1[M1].length!==g1[M1].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(we,ve,De,Ve);for(var Ie=function(Je,g1,b1,_1){var M1,Be,je,C1,O1=l.isPlainObject(_1),Q1=[];for(var st in Array.isArray(b1)||(b1=[b1]),b1=W(b1,Je.data.length-1),g1)for(var $1=0;$1<b1.length;$1++){if(M1=(Be=c(Je.data[b1[$1]],st)).get(),!l.isArrayOrTypedArray(je=g1[st][$1]))throw new Error("attribute: "+st+" index: "+$1+" must be an array");if(!l.isArrayOrTypedArray(M1))throw new Error("cannot extend missing or non-array attribute: "+st);if(M1.constructor!==je.constructor)throw new Error("cannot extend array with an array of a different type: "+st);g(C1=O1?_1[st][$1]:_1)||(C1=-1),Q1.push({prop:Be,target:M1,insert:je,maxp:Math.floor(C1)})}return Q1}(we,ve,De,Ve),Re={},Qe={},n1=0;n1<Ie.length;n1++){var Ye=Ie[n1].prop,f1=qe(Ie[n1].target,Ie[n1].insert,Ie[n1].maxp);Ye.set(f1[0]),Array.isArray(Re[Ye.astr])||(Re[Ye.astr]=[]),Re[Ye.astr].push(f1[1]),Array.isArray(Qe[Ye.astr])||(Qe[Ye.astr]=[]),Qe[Ye.astr].push(Ie[n1].target.length)}return{update:Re,maxPoints:Qe}}function ce(we,ve){var De=new we.constructor(we.length+ve.length);return De.set(we),De.set(ve,we.length),De}function me(we,ve,De,Ve){we=l.getGraphDiv(we),P.clearPromiseQueue(we);var qe={};if("string"==typeof ve)qe[ve]=De;else{if(!l.isPlainObject(ve))return l.warn("Restyle fail.",ve,De,Ve),Promise.reject();qe=l.extendFlat({},ve),void 0===Ve&&(Ve=De)}Object.keys(qe).length&&(we.changed=!0);var Ie=P.coerceTraceIndices(we,Ve),Re=G(we,qe,Ie),Qe=Re.flags;Qe.calc&&(we.calcdata=void 0),Qe.clearAxisTypes&&P.clearAxisTypes(we,Ie,{});var n1=[];Qe.fullReplot?n1.push(ne._doPlot):(n1.push(_.previousPromises),_.supplyDefaults(we),Qe.markerSize&&(_.doCalcdata(we),F(n1)),Qe.style&&n1.push(V.doTraceStyle),Qe.colorbars&&n1.push(V.doColorBars),n1.push(B)),n1.push(_.rehover,_.redrag),d.add(we,me,[we,Re.undoit,Re.traces],me,[we,Re.redoit,Re.traces]);var Ye=l.syncOrAsync(n1,we);return Ye&&Ye.then||(Ye=Promise.resolve()),Ye.then(function(){return we.emit("plotly_restyle",Re.eventData),we})}function ie(we){return void 0===we?null:we}function K(we,ve){return ve?function(De,Ve,qe){var Ie=c(De,Ve),Re=Ie.set;return Ie.set=function(Qe){le((qe||"")+Ve,Ie.get(),Qe,we),Re(Qe)},Ie}:c}function le(we,ve,De,Ve){if(Array.isArray(ve)||Array.isArray(De))for(var qe=Array.isArray(ve)?ve:[],Ie=Array.isArray(De)?De:[],Re=Math.max(qe.length,Ie.length),Qe=0;Qe<Re;Qe++)le(we+"["+Qe+"]",qe[Qe],Ie[Qe],Ve);else if(l.isPlainObject(ve)||l.isPlainObject(De)){var n1=l.isPlainObject(ve)?ve:{},Ye=l.isPlainObject(De)?De:{},r1=l.extendFlat({},n1,Ye);for(var f1 in r1)le(we+"."+f1,n1[f1],Ye[f1],Ve)}else void 0===Ve[we]&&(Ve[we]=ie(ve))}function G(we,ve,De){var Ve,qe=we._fullLayout,Ie=we._fullData,Re=we.data,Qe=qe._guiEditing,n1=K(qe._preGUI,Qe),Ye=l.extendDeepAll({},ve);j(ve);var r1,f1=E.traceFlags(),Je={},g1={};function b1(){return De.map(function(){})}function _1(j1){var et=b.id2name(j1);-1===r1.indexOf(et)&&r1.push(et)}function I1(j1){return"LAYOUT"+j1+".autorange"}function M1(j1){return"LAYOUT"+j1+".range"}function Be(j1){for(var et=j1;et<Ie.length;et++)if(Ie[et]._input===Re[j1])return Ie[et]}function je(j1,et,P1){if(Array.isArray(j1))j1.forEach(function(wt){je(wt,et,P1)});else if(!(j1 in ve)&&!P.hasParent(ve,j1)){var xt;if("LAYOUT"===j1.substr(0,6))xt=n1(we.layout,j1.replace("LAYOUT",""));else{var yt=De[P1];xt=K(qe._tracePreGUI[Be(yt)._fullInput.uid],Qe)(Re[yt],j1)}j1 in g1||(g1[j1]=b1()),void 0===g1[j1][P1]&&(g1[j1][P1]=ie(xt.get())),void 0!==et&&xt.set(et)}}function C1(j1){return function(et){return Ie[et][j1]}}function O1(j1){return function(et,P1){return!1===et?Ie[De[P1]][j1]:null}}for(var Q1 in ve){if(P.hasParent(ve,Q1))throw new Error("cannot set "+Q1+" and a parent attribute simultaneously");var st,$1,Z1,N1,ge,ye,We=ve[Q1];if("autobinx"!==Q1&&"autobiny"!==Q1||(Q1=Q1.charAt(Q1.length-1)+"bins",We=Array.isArray(We)?We.map(O1(Q1)):!1===We?De.map(C1(Q1)):null),Je[Q1]=We,"LAYOUT"!==Q1.substr(0,6)){for(g1[Q1]=b1(),Ve=0;Ve<De.length;Ve++)if(st=Re[De[Ve]],$1=Be(De[Ve]),N1=(Z1=K(qe._tracePreGUI[$1._fullInput.uid],Qe)(st,Q1)).get(),void 0!==(ge=Array.isArray(We)?We[Ve%We.length]:We)){var e1=Z1.parts[Z1.parts.length-1],d1=Q1.substr(0,Q1.length-e1.length-1),a1=d1?d1+".":"",l1=d1?c($1,d1).get():$1;if((ye=u.getTraceValObject($1,Z1.parts))&&ye.impliedEdits&&null!==ge)for(var c1 in ye.impliedEdits)je(l.relativeAttr(Q1,c1),ye.impliedEdits[c1],Ve);else if("thicknessmode"!==e1&&"lenmode"!==e1||N1===ge||"fraction"!==ge&&"pixels"!==ge||!l1){if("type"===Q1&&("pie"===ge!=("pie"===N1)||"funnelarea"===ge!=("funnelarea"===N1))){var w1="x",T1="y";"bar"!==ge&&"bar"!==N1||"h"!==st.orientation||(w1="y",T1="x"),l.swapAttrs(st,["?","?src"],"labels",w1),l.swapAttrs(st,["d?","?0"],"label",w1),l.swapAttrs(st,["?","?src"],"values",T1),"pie"===N1||"funnelarea"===N1?(c(st,"marker.color").set(c(st,"marker.colors").get()),qe._pielayer.selectAll("g.trace").remove()):h.traceIs(st,"cartesian")&&c(st,"marker.colors").set(c(st,"marker.color").get())}}else{var B1=qe._size,rt=l1.orient,H1="top"===rt||"bottom"===rt;if("thicknessmode"===e1){var Y1=H1?B1.h:B1.w;je(a1+"thickness",l1.thickness*("fraction"===ge?1/Y1:Y1),Ve)}else{var ut=H1?B1.w:B1.h;je(a1+"len",l1.len*("fraction"===ge?1/ut:ut),Ve)}}if(g1[Q1][Ve]=ie(N1),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Q1)){if("orientation"===Q1){Z1.set(ge);var k1=st.x&&!st.y?"h":"v";if((Z1.get()||k1)===$1.orientation)continue}else"orientationaxes"===Q1&&(st.orientation={v:"h",h:"v"}[$1.orientation]);P.swapXYData(st),f1.calc=f1.clearAxisTypes=!0}else-1!==_.dataArrayContainers.indexOf(Z1.parts[0])?(P.manageArrayContainers(Z1,ge,g1),f1.calc=!0):(ye?ye.arrayOk&&!h.traceIs($1,"regl")&&(l.isArrayOrTypedArray(ge)||l.isArrayOrTypedArray(N1))?f1.calc=!0:E.update(f1,ye):f1.calc=!0,Z1.set(ge))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(Q1)&&b.swap(we,De),"orientationaxes"===Q1){var L1=c(we.layout,"hovermode"),it=L1.get();"x"===it?L1.set("y"):"y"===it?L1.set("x"):"x unified"===it?L1.set("y unified"):"y unified"===it&&L1.set("x unified")}if(-1!==["orientation","type"].indexOf(Q1)){for(r1=[],Ve=0;Ve<De.length;Ve++){var X1=Re[De[Ve]];h.traceIs(X1,"cartesian")&&(_1(X1.xaxis||"x"),_1(X1.yaxis||"y"))}je(r1.map(I1),!0,0),je(r1.map(M1),[0,1],0)}}else Z1=n1(we.layout,Q1.replace("LAYOUT","")),g1[Q1]=[ie(Z1.get())],Z1.set(Array.isArray(We)?We[0]:We),f1.calc=!0}return(f1.calc||f1.plot)&&(f1.fullReplot=!0),{flags:f1,undoit:g1,redoit:Je,traces:De,eventData:l.extendDeepNoArrays([],[Ye,De])}}function j(we){var ve,De,Ve,qe=l.counterRegex("axis",".title",!1,!1),Ie=/colorbar\.title$/,Re=Object.keys(we);for(ve=0;ve<Re.length;ve++)Ve=we[De=Re[ve]],"title"!==De&&!qe.test(De)&&!Ie.test(De)||"string"!=typeof Ve&&"number"!=typeof Ve?De.indexOf("titlefont")>-1&&-1===De.indexOf("grouptitlefont")?Qe(De,De.replace("titlefont","title.font")):De.indexOf("titleposition")>-1?Qe(De,De.replace("titleposition","title.position")):De.indexOf("titleside")>-1?Qe(De,De.replace("titleside","title.side")):De.indexOf("titleoffset")>-1&&Qe(De,De.replace("titleoffset","title.offset")):Qe(De,De.replace("title","title.text"));function Qe(n1,Ye){we[Ye]=we[n1],delete we[n1]}}function oe(we,ve,De){we=l.getGraphDiv(we),P.clearPromiseQueue(we);var Ve={};if("string"==typeof ve)Ve[ve]=De;else{if(!l.isPlainObject(ve))return l.warn("Relayout fail.",ve,De),Promise.reject();Ve=l.extendFlat({},ve)}Object.keys(Ve).length&&(we.changed=!0);var qe=ae(we,Ve),Ie=qe.flags;Ie.calc&&(we.calcdata=void 0);var Re=[_.previousPromises];Ie.layoutReplot?Re.push(V.layoutReplot):Object.keys(Ve).length&&(re(we,Ie,qe)||_.supplyDefaults(we),Ie.legend&&Re.push(V.doLegend),Ie.layoutstyle&&Re.push(V.layoutStyles),Ie.axrange&&F(Re,qe.rangesAltered),Ie.ticks&&Re.push(V.doTicksRelayout),Ie.modebar&&Re.push(V.doModeBar),Ie.camera&&Re.push(V.doCamera),Ie.colorbars&&Re.push(V.doColorBars),Re.push(B)),Re.push(_.rehover,_.redrag),d.add(we,oe,[we,qe.undoit],oe,[we,qe.redoit]);var Qe=l.syncOrAsync(Re,we);return Qe&&Qe.then||(Qe=Promise.resolve(we)),Qe.then(function(){return we.emit("plotly_relayout",qe.eventData),we})}function re(we,ve,De){var Ve=we._fullLayout;if(!ve.axrange)return!1;for(var qe in ve)if("axrange"!==qe&&ve[qe])return!1;for(var Ie in De.rangesAltered){var Re=b.id2name(Ie),Qe=we.layout[Re],n1=Ve[Re];if(n1.autorange=Qe.autorange,Qe.range&&(n1.range=Qe.range.slice()),n1.cleanRange(),n1._matchGroup)for(var Ye in n1._matchGroup)if(Ye!==Ie){var r1=Ve[b.id2name(Ye)];r1.autorange=n1.autorange,r1.range=n1.range.slice(),r1._input.range=n1.range.slice()}}return!0}function F(we,ve){we.push(k,V.doAutoRangeAndConstraints,ve?function(Ve){var qe=[],Ie=!0;for(var Re in ve){var Qe=b.getFromId(Ve,Re);if(qe.push(Re),-1!==(Qe.ticklabelposition||"").indexOf("inside")&&Qe._anchorAxis&&qe.push(Qe._anchorAxis._id),Qe._matchGroup)for(var n1 in Qe._matchGroup)ve[n1]||qe.push(n1);Qe.automargin&&(Ie=!1)}return b.draw(Ve,qe,{skipTitle:Ie})}:function(Ve){return b.draw(Ve,"redraw")},V.drawData,V.finalDraw)}var O=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,X=/^[xyz]axis[0-9]*\.autorange$/,R=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function ae(we,ve){var De,Ve,qe,Ie=we.layout,Re=we._fullLayout,n1=K(Re._preGUI,Re._guiEditing),Ye=Object.keys(ve),r1=b.list(we),f1=l.extendDeepAll({},ve),Je={};for(j(ve),Ye=Object.keys(ve),Ve=0;Ve<Ye.length;Ve++)if(0===Ye[Ve].indexOf("allaxes")){for(qe=0;qe<r1.length;qe++){var g1=r1[qe]._id.substr(1),b1=-1!==g1.indexOf("scene")?g1+".":"",_1=Ye[Ve].replace("allaxes",b1+r1[qe]._name);ve[_1]||(ve[_1]=ve[Ye[Ve]])}delete ve[Ye[Ve]]}var I1=E.layoutFlags(),M1={},Be={};function je(yt,wt){if(Array.isArray(yt))yt.forEach(function(Ot){je(Ot,wt)});else if(!(yt in ve)&&!P.hasParent(ve,yt)){var Ft=n1(Ie,yt);yt in Be||(Be[yt]=ie(Ft.get())),void 0!==wt&&Ft.set(wt)}}var C1,O1={};function Q1(yt){var wt=b.name2id(yt.split(".")[0]);return O1[wt]=1,wt}for(var st in ve){if(P.hasParent(ve,st))throw new Error("cannot set "+st+" and a parent attribute simultaneously");for(var $1=n1(Ie,st),Z1=ve[st],N1=$1.parts.length-1;N1>0&&"string"!=typeof $1.parts[N1];)N1--;var ge=$1.parts[N1],ye=$1.parts[N1-1]+"."+ge,We=$1.parts.slice(0,N1).join("."),e1=c(we.layout,We).get(),d1=c(Re,We).get(),a1=$1.get();if(void 0!==Z1){M1[st]=Z1,Be[st]="reverse"===ge?Z1:ie(a1);var l1=u.getLayoutValObject(Re,$1.parts);if(l1&&l1.impliedEdits&&null!==Z1)for(var c1 in l1.impliedEdits)je(l.relativeAttr(st,c1),l1.impliedEdits[c1]);if(-1!==["width","height"].indexOf(st))if(Z1){je("autosize",null);var w1="height"===st?"width":"height";je(w1,Re[w1])}else Re[st]=we._initialAutoSize[st];else if("autosize"===st)je("width",Z1?null:Re.width),je("height",Z1?null:Re.height);else if(ye.match(O))Q1(ye),c(Re,We+"._inputRange").set(null);else if(ye.match(X)){Q1(ye),c(Re,We+"._inputRange").set(null);var T1=c(Re,We).get();T1._inputDomain&&(T1._input.domain=T1._inputDomain.slice())}else ye.match(R)&&c(Re,We+"._inputDomain").set(null);if("type"===ge){C1=e1;var B1="linear"===d1.type&&"log"===Z1;if(B1||"log"===d1.type&&"linear"===Z1){if(C1&&C1.range)if(d1.autorange)B1&&(C1.range=C1.range[1]>C1.range[0]?[1,2]:[2,1]);else{var H1=C1.range[0],Y1=C1.range[1];B1?(H1<=0&&Y1<=0&&je(We+".autorange",!0),H1<=0?H1=Y1/1e6:Y1<=0&&(Y1=H1/1e6),je(We+".range[0]",Math.log(H1)/Math.LN10),je(We+".range[1]",Math.log(Y1)/Math.LN10)):(je(We+".range[0]",Math.pow(10,H1)),je(We+".range[1]",Math.pow(10,Y1)))}else je(We+".autorange",!0);Array.isArray(Re._subplots.polar)&&Re._subplots.polar.length&&Re[$1.parts[0]]&&"radialaxis"===$1.parts[1]&&delete Re[$1.parts[0]]._subplot.viewInitial["radialaxis.range"],h.getComponentMethod("annotations","convertCoords")(we,d1,Z1,je),h.getComponentMethod("images","convertCoords")(we,d1,Z1,je)}else je(We+".autorange",!0),je(We+".range",null);c(Re,We+"._inputRange").set(null)}else if(ge.match(I)){var ut=c(Re,st).get(),k1=(Z1||{}).type;k1&&"-"!==k1||(k1="linear"),h.getComponentMethod("annotations","convertCoords")(we,ut,k1,je),h.getComponentMethod("images","convertCoords")(we,ut,k1,je)}var L1=S.containerArrayMatch(st);if(L1){De=L1.array;var it=L1.property,X1=l1||{editType:"calc"};""!==(Ve=L1.index)&&""===it&&(S.isAddVal(Z1)?Be[st]=null:S.isRemoveVal(Z1)?Be[st]=(c(Ie,De).get()||[])[Ve]:l.warn("unrecognized full object value",ve)),E.update(I1,X1),Je[De]||(Je[De]={});var j1=Je[De][Ve];j1||(j1=Je[De][Ve]={}),j1[it]=Z1,delete ve[st]}else"reverse"===ge?(e1.range?e1.range.reverse():(je(We+".autorange",!0),e1.range=[1,0]),d1.autorange?I1.calc=!0:I1.plot=!0):(Re._has("scatter-like")&&Re._has("regl")&&"dragmode"===st&&("lasso"===Z1||"select"===Z1)&&"lasso"!==a1&&"select"!==a1||Re._has("gl2d")?I1.plot=!0:l1?E.update(I1,l1):I1.calc=!0,$1.set(Z1))}}for(De in Je)S.applyContainerArrayChanges(we,n1(Ie,De),Je[De],I1,n1)||(I1.plot=!0);for(var et in O1){var P1=(C1=b.getFromId(we,et))&&C1._constraintGroup;if(P1)for(var xt in I1.calc=!0,P1)O1[xt]||(b.getFromId(we,xt)._constraintShrinkable=!0)}return(fe(we)||ve.height||ve.width)&&(I1.plot=!0),(I1.plot||I1.calc)&&(I1.layoutReplot=!0),{flags:I1,rangesAltered:O1,undoit:Be,redoit:M1,eventData:f1}}function fe(we){var ve=we._fullLayout,De=ve.width,Ve=ve.height;return we.layout.autosize&&_.plotAutoSize(we,we.layout,ve),ve.width!==De||ve.height!==Ve}function ue(we,ve,De,Ve){we=l.getGraphDiv(we),P.clearPromiseQueue(we),l.isPlainObject(ve)||(ve={}),l.isPlainObject(De)||(De={}),Object.keys(ve).length&&(we.changed=!0),Object.keys(De).length&&(we.changed=!0);var qe=P.coerceTraceIndices(we,Ve),Ie=G(we,l.extendFlat({},ve),qe),Re=Ie.flags,Qe=ae(we,l.extendFlat({},De)),n1=Qe.flags;(Re.calc||n1.calc)&&(we.calcdata=void 0),Re.clearAxisTypes&&P.clearAxisTypes(we,qe,De);var Ye=[];n1.layoutReplot?Ye.push(V.layoutReplot):Re.fullReplot?Ye.push(ne._doPlot):(Ye.push(_.previousPromises),re(we,n1,Qe)||_.supplyDefaults(we),Re.style&&Ye.push(V.doTraceStyle),(Re.colorbars||n1.colorbars)&&Ye.push(V.doColorBars),n1.legend&&Ye.push(V.doLegend),n1.layoutstyle&&Ye.push(V.layoutStyles),n1.axrange&&F(Ye,Qe.rangesAltered),n1.ticks&&Ye.push(V.doTicksRelayout),n1.modebar&&Ye.push(V.doModeBar),n1.camera&&Ye.push(V.doCamera),Ye.push(B)),Ye.push(_.rehover,_.redrag),d.add(we,ue,[we,Ie.undoit,Qe.undoit,Ie.traces],ue,[we,Ie.redoit,Qe.redoit,Ie.traces]);var r1=l.syncOrAsync(Ye,we);return r1&&r1.then||(r1=Promise.resolve(we)),r1.then(function(){return we.emit("plotly_update",{data:Ie.eventData,layout:Qe.eventData}),we})}function pe(we){return function(ve){ve._fullLayout._guiEditing=!0;var De=we.apply(null,arguments);return ve._fullLayout._guiEditing=!1,De}}var xe=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],Me=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function Ae(we,ve){for(var De=0;De<ve.length;De++){var Ve=ve[De],qe=we.match(Ve.pattern);if(qe){var Ie=qe[1]||"";return{head:Ie,tail:we.substr(Ie.length+1),attr:Ve.attr}}}}function ze(we,ve){var De=c(ve,we).get();if(void 0!==De)return De;var Ve=we.split(".");for(Ve.pop();Ve.length>1;)if(Ve.pop(),void 0!==(De=c(ve,Ve.join(".")+".uirevision").get()))return De;return ve.uirevision}function Fe(we,ve){for(var De=0;De<ve.length;De++)if(ve[De]._fullInput.uid===we)return De;return-1}function Ue(we,ve,De){for(var Ve=0;Ve<ve.length;Ve++)if(ve[Ve].uid===we)return Ve;return!ve[De]||ve[De].uid?-1:De}function t1(we,ve){var De=l.isPlainObject(we),Ve=Array.isArray(we);return De||Ve?(De&&l.isPlainObject(ve)||Ve&&Array.isArray(ve))&&JSON.stringify(we)===JSON.stringify(ve):we===ve}function Xe(we,ve,De,Ve){var qe,Ie,Re,Qe=Ve.getValObject,n1=Ve.flags,Ye=Ve.immutable,r1=Ve.inArray,f1=Ve.arrayIndex;function Je(){var e1=qe.editType;r1&&-1!==e1.indexOf("arraydraw")?l.pushUnique(n1.arrays[r1],f1):(E.update(n1,qe),"none"!==e1&&n1.nChanges++,Ve.transition&&qe.anim&&n1.nChangesAnim++,(O.test(Re)||X.test(Re))&&(n1.rangesAltered[De[0]]=1),R.test(Re)&&c(ve,"_inputDomain").set(null),"datarevision"===Ie&&(n1.newDataRevision=1))}function g1(e1){return"data_array"===e1.valType||e1.arrayOk}for(Ie in we){if(n1.calc&&!Ve.transition)return;var b1=we[Ie],_1=ve[Ie],I1=De.concat(Ie);if(Re=I1.join("."),"_"!==Ie.charAt(0)&&"function"!=typeof b1&&b1!==_1){if(("tick0"===Ie||"dtick"===Ie)&&"geo"!==De[0]){var M1=ve.tickmode;if("auto"===M1||"array"===M1||!M1)continue}if(("range"!==Ie||!ve.autorange)&&("zmin"!==Ie&&"zmax"!==Ie||"contourcarpet"!==ve.type)&&(qe=Qe(I1))&&(!qe._compareAsJSON||JSON.stringify(b1)!==JSON.stringify(_1))){var Be,je=qe.valType,C1=g1(qe),O1=Array.isArray(b1),Q1=Array.isArray(_1);if(O1&&Q1){var st="_input_"+Ie,$1=we[st],Z1=ve[st];if(Array.isArray($1)&&$1===Z1)continue}if(void 0===_1)C1&&O1?n1.calc=!0:Je();else if(qe._isLinkedToArray){var N1=[],ge=!1;r1||(n1.arrays[Ie]=N1);var ye=Math.min(b1.length,_1.length),We=Math.max(b1.length,_1.length);if(ye!==We){if("arraydraw"!==qe.editType){Je();continue}ge=!0}for(Be=0;Be<ye;Be++)Xe(b1[Be],_1[Be],I1.concat(Be),l.extendFlat({inArray:Ie,arrayIndex:Be},Ve));if(ge)for(Be=ye;Be<We;Be++)N1.push(Be)}else!je&&l.isPlainObject(b1)?Xe(b1,_1,I1,Ve):C1?O1&&Q1?(Ye&&(n1.calc=!0),(Ye||Ve.newDataRevision)&&Je()):O1!==Q1?n1.calc=!0:Je():O1&&Q1&&b1.length===_1.length&&String(b1)===String(_1)||Je()}}}for(Ie in ve)if(!(Ie in we)&&"_"!==Ie.charAt(0)&&"function"!=typeof ve[Ie]){if(g1(qe=Qe(De.concat(Ie)))&&Array.isArray(ve[Ie]))return void(n1.calc=!0);Je()}}function Ge(we){var ve=we._fullLayout,De=we.getBoundingClientRect();if(!l.equalDomRects(De,ve._lastBBox)){var Ve=ve._invTransform=l.inverseTransformMatrix(l.getFullTransformMatrix(we));ve._invScaleX=Math.sqrt(Ve[0][0]*Ve[0][0]+Ve[0][1]*Ve[0][1]+Ve[0][2]*Ve[0][2]),ve._invScaleY=Math.sqrt(Ve[1][0]*Ve[1][0]+Ve[1][1]*Ve[1][1]+Ve[1][2]*Ve[1][2]),ve._lastBBox=De}}ne.animate=function(we,ve,De){if(we=l.getGraphDiv(we),!l.isPlotDiv(we))throw new Error("This element is not a Plotly plot: "+we+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Ve=we._transitionData;Ve._frameQueue||(Ve._frameQueue=[]);var qe=(De=_.supplyAnimationDefaults(De)).transition,Ie=De.frame;function Re(Ye){return Array.isArray(qe)?Ye>=qe.length?qe[0]:qe[Ye]:qe}function Qe(Ye){return Array.isArray(Ie)?Ye>=Ie.length?Ie[0]:Ie[Ye]:Ie}function n1(Ye,r1){var f1=0;return function(){if(Ye&&++f1===r1)return Ye()}}return void 0===Ve._frameWaitingCnt&&(Ve._frameWaitingCnt=0),new Promise(function(Ye,r1){function Je(){we.emit("plotly_animating"),Ve._lastFrameAt=-1/0,Ve._timeToNext=0,Ve._runningTransitions=0,Ve._currentFrame=null;var $1=function(){Ve._animationRaf=window.requestAnimationFrame($1),Date.now()-Ve._lastFrameAt>Ve._timeToNext&&function f1(){Ve._currentFrame&&Ve._currentFrame.onComplete&&Ve._currentFrame.onComplete();var $1=Ve._currentFrame=Ve._frameQueue.shift();if($1){var Z1=$1.name?$1.name.toString():null;we._fullLayout._currentFrame=Z1,Ve._lastFrameAt=Date.now(),Ve._timeToNext=$1.frameOpts.duration,_.transition(we,$1.frame.data,$1.frame.layout,P.coerceTraceIndices(we,$1.frame.traces),$1.frameOpts,$1.transitionOpts).then(function(){$1.onComplete&&$1.onComplete()}),we.emit("plotly_animatingframe",{name:Z1,frame:$1.frame,animation:{frame:$1.frameOpts,transition:$1.transitionOpts}})}else we.emit("plotly_animated"),window.cancelAnimationFrame(Ve._animationRaf),Ve._animationRaf=null}()};$1()}var g1,b1,_1=0;function I1($1){return $1.transitionOpts=Array.isArray(qe)?_1>=qe.length?qe[_1]:qe[0]:qe,_1++,$1}var M1=[],Be=null==ve,je=Array.isArray(ve);if(Be||je||!l.isPlainObject(ve)){if(Be||-1!==["string","number"].indexOf(typeof ve))for(g1=0;g1<Ve._frames.length;g1++)(b1=Ve._frames[g1])&&(Be||String(b1.group)===String(ve))&&M1.push({type:"byname",name:String(b1.name),data:I1({name:b1.name})});else if(je)for(g1=0;g1<ve.length;g1++){var C1=ve[g1];-1!==["number","string"].indexOf(typeof C1)?(C1=String(C1),M1.push({type:"byname",name:C1,data:I1({name:C1})})):l.isPlainObject(C1)&&M1.push({type:"object",data:I1(l.extendFlat({},C1))})}}else M1.push({type:"object",data:I1(l.extendFlat({},ve))});for(g1=0;g1<M1.length;g1++)if("byname"===(b1=M1[g1]).type&&!Ve._frameHash[b1.data.name])return l.warn('animate failure: frame not found: "'+b1.data.name+'"'),void r1();-1!==["next","immediate"].indexOf(De.mode)&&function(){if(0!==Ve._frameQueue.length){for(;Ve._frameQueue.length;){var $1=Ve._frameQueue.pop();$1.onInterrupt&&$1.onInterrupt()}we.emit("plotly_animationinterrupted",[])}}(),"reverse"===De.direction&&M1.reverse();var O1=we._fullLayout._currentFrame;if(O1&&De.fromcurrent){var Q1=-1;for(g1=0;g1<M1.length;g1++)if("byname"===(b1=M1[g1]).type&&b1.name===O1){Q1=g1;break}if(Q1>0&&Q1<M1.length-1){var st=[];for(g1=0;g1<M1.length;g1++)b1=M1[g1],("byname"!==M1[g1].type||g1>Q1)&&st.push(b1);M1=st}}M1.length>0?function($1){if(0!==$1.length){for(var Z1=0;Z1<$1.length;Z1++){var N1;N1="byname"===$1[Z1].type?_.computeFrame(we,$1[Z1].name):$1[Z1].data;var ge=Qe(Z1),ye=Re(Z1);ye.duration=Math.min(ye.duration,ge.duration);var We={frame:N1,name:$1[Z1].name,frameOpts:ge,transitionOpts:ye};Z1===$1.length-1&&(We.onComplete=n1(Ye,2),We.onInterrupt=r1),Ve._frameQueue.push(We)}"immediate"===De.mode&&(Ve._lastFrameAt=-1/0),Ve._animationRaf||Je()}}(M1):(we.emit("plotly_animated"),Ye())})},ne.addFrames=function(we,ve,De){if(we=l.getGraphDiv(we),null==ve)return Promise.resolve();if(!l.isPlotDiv(we))throw new Error("This element is not a Plotly plot: "+we+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Ve,qe,Ie,Re,Qe=we._transitionData._frames,n1=we._transitionData._frameHash;if(!Array.isArray(ve))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+ve);var Ye=Qe.length+2*ve.length,r1=[],f1={};for(Ve=ve.length-1;Ve>=0;Ve--)if(l.isPlainObject(ve[Ve])){var Je=ve[Ve].name,g1=(n1[Je]||f1[Je]||{}).name,b1=ve[Ve].name;g1&&b1&&"number"==typeof b1&&(n1[g1]||f1[g1])&&L<5&&(L++,l.warn('addFrames: overwriting frame "'+(n1[g1]||f1[g1]).name+'" with a frame whose name of type "number" also equates to "'+g1+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===L&&l.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),f1[Je]={name:Je},r1.push({frame:_.supplyFrameDefaults(ve[Ve]),index:De&&null!=De[Ve]?De[Ve]:Ye+Ve})}r1.sort(function(st,$1){return st.index>$1.index?-1:st.index<$1.index?1:0});var I1=[],M1=[],Be=Qe.length;for(Ve=r1.length-1;Ve>=0;Ve--){if("number"==typeof(qe=r1[Ve].frame).name&&l.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!qe.name)for(;n1[qe.name="frame "+we._transitionData._counter++];);if(n1[qe.name]){for(Ie=0;Ie<Qe.length&&(Qe[Ie]||{}).name!==qe.name;Ie++);I1.push({type:"replace",index:Ie,value:qe}),M1.unshift({type:"replace",index:Ie,value:Qe[Ie]})}else Re=Math.max(0,Math.min(r1[Ve].index,Be)),I1.push({type:"insert",index:Re,value:qe}),M1.unshift({type:"delete",index:Re}),Be++}return d&&d.add(we,_.modifyFrames,[we,M1],_.modifyFrames,[we,I1]),_.modifyFrames(we,I1)},ne.deleteFrames=function(we,ve){if(we=l.getGraphDiv(we),!l.isPlotDiv(we))throw new Error("This element is not a Plotly plot: "+we);var De,Ve,qe=we._transitionData._frames,Ie=[],Re=[];if(!ve)for(ve=[],De=0;De<qe.length;De++)ve.push(De);for((ve=ve.slice()).sort(),De=ve.length-1;De>=0;De--)Ie.push({type:"delete",index:Ve=ve[De]}),Re.unshift({type:"insert",index:Ve,value:qe[Ve]});return d&&d.add(we,_.modifyFrames,[we,Re],_.modifyFrames,[we,Ie]),_.modifyFrames(we,Ie)},ne.addTraces=function we(ve,De,Ve){ve=l.getGraphDiv(ve);var qe,Ie,Re=[],Qe=ne.deleteTraces,n1=we,Ye=[ve,Re],r1=[ve,De];for(function(f1,Je,g1){var b1,_1;if(!Array.isArray(f1.data))throw new Error("gd.data must be an array.");if(void 0===Je)throw new Error("traces must be defined.");for(Array.isArray(Je)||(Je=[Je]),b1=0;b1<Je.length;b1++)if("object"!=typeof(_1=Je[b1])||Array.isArray(_1)||null===_1)throw new Error("all values in traces array must be non-array objects");if(void 0===g1||Array.isArray(g1)||(g1=[g1]),void 0!==g1&&g1.length!==Je.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(ve,De,Ve),Array.isArray(De)||(De=[De]),De=De.map(function(f1){return l.extendFlat({},f1)}),P.cleanData(De),qe=0;qe<De.length;qe++)ve.data.push(De[qe]);for(qe=0;qe<De.length;qe++)Re.push(-De.length+qe);if(void 0===Ve)return Ie=ne.redraw(ve),d.add(ve,Qe,Ye,n1,r1),Ie;Array.isArray(Ve)||(Ve=[Ve]);try{Q(ve,Re,Ve)}catch(f1){throw ve.data.splice(ve.data.length-De.length,De.length),f1}return d.startSequence(ve),d.add(ve,Qe,Ye,n1,r1),Ie=ne.moveTraces(ve,Re,Ve),d.stopSequence(ve),Ie},ne.deleteTraces=function we(ve,De){ve=l.getGraphDiv(ve);var Ve,qe,Ie=[],Re=ne.addTraces,Qe=we,n1=[ve,Ie,De],Ye=[ve,De];if(void 0===De)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(De)||(De=[De]),q(ve,De,"indices"),(De=W(De,ve.data.length-1)).sort(l.sorterDes),Ve=0;Ve<De.length;Ve+=1)qe=ve.data.splice(De[Ve],1)[0],Ie.push(qe);var r1=ne.redraw(ve);return d.add(ve,Re,n1,Qe,Ye),r1},ne.extendTraces=function we(ve,De,Ve,qe){function Ie(Ye,r1,f1){var Je,g1;if(l.isTypedArray(Ye))if(f1<0){var b1=new Ye.constructor(0),_1=ce(Ye,r1);f1<0?(Je=_1,g1=b1):(Je=b1,g1=_1)}else if(Je=new Ye.constructor(f1),g1=new Ye.constructor(Ye.length+r1.length-f1),f1===r1.length)Je.set(r1),g1.set(Ye);else if(f1<r1.length){var I1=r1.length-f1;Je.set(r1.subarray(I1)),g1.set(Ye),g1.set(r1.subarray(0,I1),Ye.length)}else{var M1=f1-r1.length,Be=Ye.length-M1;Je.set(Ye.subarray(Be)),Je.set(r1,M1),g1.set(Ye.subarray(0,Be))}else Je=Ye.concat(r1),g1=f1>=0&&f1<Je.length?Je.splice(0,Je.length-f1):[];return[Je,g1]}var Re=te(ve=l.getGraphDiv(ve),De,Ve,qe,Ie),Qe=ne.redraw(ve);return d.add(ve,ne.prependTraces,[ve,Re.update,Ve,Re.maxPoints],we,arguments),Qe},ne.moveTraces=function we(ve,De,Ve){var qe,Ie=[],Re=[],Qe=we,n1=we,Ye=[ve=l.getGraphDiv(ve),Ve,De],r1=[ve,De,Ve];if(Q(ve,De,Ve),De=Array.isArray(De)?De:[De],void 0===Ve)for(Ve=[],qe=0;qe<De.length;qe++)Ve.push(-De.length+qe);for(Ve=Array.isArray(Ve)?Ve:[Ve],De=W(De,ve.data.length-1),Ve=W(Ve,ve.data.length-1),qe=0;qe<ve.data.length;qe++)-1===De.indexOf(qe)&&Ie.push(ve.data[qe]);for(qe=0;qe<De.length;qe++)Re.push({newIndex:Ve[qe],trace:ve.data[De[qe]]});for(Re.sort(function(Je,g1){return Je.newIndex-g1.newIndex}),qe=0;qe<Re.length;qe+=1)Ie.splice(Re[qe].newIndex,0,Re[qe].trace);ve.data=Ie;var f1=ne.redraw(ve);return d.add(ve,Qe,Ye,n1,r1),f1},ne.prependTraces=function we(ve,De,Ve,qe){function Ie(Ye,r1,f1){var Je,g1;if(l.isTypedArray(Ye))if(f1<=0){var b1=new Ye.constructor(0),_1=ce(r1,Ye);f1<0?(Je=_1,g1=b1):(Je=b1,g1=_1)}else if(Je=new Ye.constructor(f1),g1=new Ye.constructor(Ye.length+r1.length-f1),f1===r1.length)Je.set(r1),g1.set(Ye);else if(f1<r1.length){var I1=r1.length-f1;Je.set(r1.subarray(0,I1)),g1.set(r1.subarray(I1)),g1.set(Ye,I1)}else{var M1=f1-r1.length;Je.set(r1),Je.set(Ye.subarray(0,M1),r1.length),g1.set(Ye.subarray(M1))}else Je=r1.concat(Ye),g1=f1>=0&&f1<Je.length?Je.splice(f1,Je.length):[];return[Je,g1]}var Re=te(ve=l.getGraphDiv(ve),De,Ve,qe,Ie),Qe=ne.redraw(ve);return d.add(ve,ne.extendTraces,[ve,Re.update,Ve,Re.maxPoints],we,arguments),Qe},ne.newPlot=function(we,ve,De,Ve){return we=l.getGraphDiv(we),_.cleanPlot([],{},we._fullData||[],we._fullLayout||{}),_.purge(we),ne._doPlot(we,ve,De,Ve)},ne._doPlot=function(we,ve,De,Ve){var qe;if(we=l.getGraphDiv(we),C.init(we),l.isPlainObject(ve)){var Ie=ve;ve=Ie.data,De=Ie.layout,Ve=Ie.config,qe=Ie.frames}if(!1===C.triggerHandler(we,"plotly_beforeplot",[ve,De,Ve]))return Promise.reject();ve||De||l.isPlotDiv(we)||l.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",we),Y(we,Ve),De||(De={}),o.select(we).classed("js-plotly-plot",!0),M.makeTester(),Array.isArray(we._promises)||(we._promises=[]);var Re=0===(we.data||[]).length&&Array.isArray(ve);Array.isArray(ve)&&(P.cleanData(ve),Re?we.data=ve:we.data.push.apply(we.data,ve),we.empty=!1),we.layout&&!Re||(we.layout=P.cleanLayout(De)),_.supplyDefaults(we);var Qe=we._fullLayout,n1=Qe._has("cartesian");Qe._replotting=!0,(Re||Qe._shouldCreateBgLayer)&&(function(M1){var Be=o.select(M1),je=M1._fullLayout;if(je._calcInverseTransform=Ge,je._calcInverseTransform(M1),je._container=Be.selectAll(".plot-container").data([0]),je._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),je._paperdiv=je._container.selectAll(".svg-container").data([0]),je._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),je._glcontainer=je._paperdiv.selectAll(".gl-container").data([{}]),je._glcontainer.enter().append("div").classed("gl-container",!0),je._paperdiv.selectAll(".main-svg").remove(),je._paperdiv.select(".modebar-container").remove(),je._paper=je._paperdiv.insert("svg",":first-child").classed("main-svg",!0),je._toppaper=je._paperdiv.append("svg").classed("main-svg",!0),je._modebardiv=je._paperdiv.append("div"),delete je._modeBar,je._hoverpaper=je._paperdiv.append("svg").classed("main-svg",!0),!je._uid){var C1={};o.selectAll("defs").each(function(){this.id&&(C1[this.id.split("-")[1]]=1)}),je._uid=l.randstr(C1)}je._paperdiv.selectAll(".main-svg").attr(z.svgAttrs),je._defs=je._paper.append("defs").attr("id","defs-"+je._uid),je._clips=je._defs.append("g").classed("clips",!0),je._topdefs=je._toppaper.append("defs").attr("id","topdefs-"+je._uid),je._topclips=je._topdefs.append("g").classed("clips",!0),je._bgLayer=je._paper.append("g").classed("bglayer",!0),je._draggers=je._paper.append("g").classed("draglayer",!0);var O1=je._paper.append("g").classed("layer-below",!0);je._imageLowerLayer=O1.append("g").classed("imagelayer",!0),je._shapeLowerLayer=O1.append("g").classed("shapelayer",!0),je._cartesianlayer=je._paper.append("g").classed("cartesianlayer",!0),je._polarlayer=je._paper.append("g").classed("polarlayer",!0),je._smithlayer=je._paper.append("g").classed("smithlayer",!0),je._ternarylayer=je._paper.append("g").classed("ternarylayer",!0),je._geolayer=je._paper.append("g").classed("geolayer",!0),je._funnelarealayer=je._paper.append("g").classed("funnelarealayer",!0),je._pielayer=je._paper.append("g").classed("pielayer",!0),je._iciclelayer=je._paper.append("g").classed("iciclelayer",!0),je._treemaplayer=je._paper.append("g").classed("treemaplayer",!0),je._sunburstlayer=je._paper.append("g").classed("sunburstlayer",!0),je._indicatorlayer=je._toppaper.append("g").classed("indicatorlayer",!0),je._glimages=je._paper.append("g").classed("glimages",!0);var Q1=je._toppaper.append("g").classed("layer-above",!0);je._imageUpperLayer=Q1.append("g").classed("imagelayer",!0),je._shapeUpperLayer=Q1.append("g").classed("shapelayer",!0),je._infolayer=je._toppaper.append("g").classed("infolayer",!0),je._menulayer=je._toppaper.append("g").classed("menulayer",!0),je._zoomlayer=je._toppaper.append("g").classed("zoomlayer",!0),je._hoverlayer=je._hoverpaper.append("g").classed("hoverlayer",!0),je._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),M1.emit("plotly_framework")}(we),Qe._shouldCreateBgLayer&&delete Qe._shouldCreateBgLayer),M.initGradients(we),M.initPatterns(we),Re&&b.saveShowSpikeInitial(we);var Ye=!we.calcdata||we.calcdata.length!==(we._fullData||[]).length;Ye&&_.doCalcdata(we);for(var r1=0;r1<we.calcdata.length;r1++)we.calcdata[r1][0].trace=we._fullData[r1];we._context.responsive?we._responsiveChartHandler||(we._responsiveChartHandler=function(){l.isHidden(we)||_.resize(we)},window.addEventListener("resize",we._responsiveChartHandler)):l.clearResponsive(we);var f1=l.extendFlat({},Qe._size),Je=0;function g1(){if(_.clearAutoMarginIds(we),V.drawMarginPushers(we),b.allowAutoMargin(we),Qe._has("pie"))for(var M1=we._fullData,Be=0;Be<M1.length;Be++){var je=M1[Be];"pie"===je.type&&je.automargin&&_.allowAutoMargin(we,"pie."+je.uid+".automargin")}return _.doAutoMargin(we),_.previousPromises(we)}function b1(){we._transitioning||(V.doAutoRangeAndConstraints(we),Re&&b.saveRangeInitial(we),h.getComponentMethod("rangeslider","calcAutorange")(we))}var _1=[_.previousPromises,function(){if(qe)return ne.addFrames(we,qe)},function M1(){for(var Be=Qe._basePlotModules,je=0;je<Be.length;je++)Be[je].drawFramework&&Be[je].drawFramework(we);!Qe._glcanvas&&Qe._has("gl")&&(Qe._glcanvas=Qe._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(st){return st.key}),Qe._glcanvas.enter().append("canvas").attr("class",function(st){return"gl-canvas gl-canvas-"+st.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var C1=we._context.plotGlPixelRatio;if(Qe._glcanvas){Qe._glcanvas.attr("width",Qe.width*C1).attr("height",Qe.height*C1).style("width",Qe.width+"px").style("height",Qe.height+"px");var O1=Qe._glcanvas.data()[0].regl;if(O1&&(Math.floor(Qe.width*C1)!==O1._gl.drawingBufferWidth||Math.floor(Qe.height*C1)!==O1._gl.drawingBufferHeight)){var Q1="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!Je)return l.log(Q1+" Clearing graph and plotting again."),_.cleanPlot([],{},we._fullData,Qe),_.supplyDefaults(we),Qe=we._fullLayout,_.doCalcdata(we),Je++,M1();l.error(Q1)}}return"h"===Qe.modebar.orientation?Qe._modebardiv.style("height",null).style("width","100%"):Qe._modebardiv.style("width",null).style("height",Qe.height+"px"),_.previousPromises(we)},g1,function(){if(_.didMarginChange(f1,Qe._size))return l.syncOrAsync([g1,V.layoutStyles],we)}];n1&&_1.push(function(){if(Ye)return l.syncOrAsync([h.getComponentMethod("shapes","calcAutorange"),h.getComponentMethod("annotations","calcAutorange"),b1],we);b1()}),_1.push(V.layoutStyles),n1&&_1.push(function(){return b.draw(we,Re?"":"redraw")},function(M1){M1._fullLayout._insideTickLabelsAutorange&&oe(M1,M1._fullLayout._insideTickLabelsAutorange).then(function(){M1._fullLayout._insideTickLabelsAutorange=void 0})}),_1.push(V.drawData,V.finalDraw,N,_.addLinks,_.rehover,_.redrag,_.doAutoMargin,function(M1){M1._fullLayout._insideTickLabelsAutorange&&Re&&b.saveRangeInitial(M1,!0)},_.previousPromises);var I1=l.syncOrAsync(_1,we);return I1&&I1.then||(I1=Promise.resolve()),I1.then(function(){return B(we),we})},ne.purge=function(we){var ve=(we=l.getGraphDiv(we))._fullLayout||{};return _.cleanPlot([],{},we._fullData||[],ve),_.purge(we),C.purge(we),ve._container&&ve._container.remove(),delete we._context,we},ne.react=function(we,ve,De,Ve){var qe,Ie;we=l.getGraphDiv(we),P.clearPromiseQueue(we);var We,e1,d1,a1,l1,c1,Re=we._fullData,Qe=we._fullLayout;if(l.isPlotDiv(we)&&Re&&Qe){if(l.isPlainObject(ve)){var n1=ve;ve=n1.data,De=n1.layout,Ve=n1.config,qe=n1.frames}var Ye=!1;if(Ve){var r1=l.extendDeep({},we._context);we._context=void 0,Y(we,Ve),Ye=function We(e1,d1){var a1;for(a1 in e1)if("_"!==a1.charAt(0)){var l1=e1[a1],c1=d1[a1];if(l1!==c1)if(l.isPlainObject(l1)&&l.isPlainObject(c1)){if(We(l1,c1))return!0}else{if(!Array.isArray(l1)||!Array.isArray(c1)||l1.length!==c1.length)return!0;for(var w1=0;w1<l1.length;w1++)if(l1[w1]!==c1[w1]&&(!l.isPlainObject(l1[w1])||!l.isPlainObject(c1[w1])||We(l1[w1],c1[w1])))return!0}}}(r1,we._context)}we.data=ve||[],P.cleanData(we.data),we.layout=De||{},P.cleanLayout(we.layout),function(We,e1,d1,a1){var l1,c1,w1,T1,B1,rt,H1,Y1,ut,k1,L1=a1._preGUI,it=[],X1={},j1={};for(l1 in L1){if(B1=Ae(l1,xe)){if(ut=B1.head,k1=B1.tail,(T1=(w1=c(a1,c1=B1.attr||ut+".uirevision").get())&&ze(c1,e1))&&T1===w1){if(null===(rt=L1[l1])&&(rt=void 0),t1(Y1=(H1=c(e1,l1)).get(),rt)){void 0===Y1&&"autorange"===k1&&it.push(ut),H1.set(ie(c(a1,l1).get()));continue}if("autorange"===k1||"range["===k1.substr(0,6)){var xt=L1[ut+".autorange"];if(xt||null===xt&&null===L1[ut+".range[0]"]&&null===L1[ut+".range[1]"]){if(!(ut in X1)){var yt=c(e1,ut).get();X1[ut]=yt&&(yt.autorange||!1!==yt.autorange&&(!yt.range||2!==yt.range.length))}if(X1[ut]){H1.set(ie(c(a1,l1).get()));continue}}}}}else l.warn("unrecognized GUI edit: "+l1);delete L1[l1],B1&&"range["===B1.tail.substr(0,6)&&(j1[B1.head]=1)}for(var wt=0;wt<it.length;wt++){var Ft=it[wt];if(j1[Ft]){var Ot=c(e1,Ft).get();Ot&&delete Ot.autorange}}var Dt=a1._tracePreGUI;for(var G1 in Dt){var K1,tt=Dt[G1],dt=null;for(l1 in tt){if(!dt){var ot=Fe(G1,d1);if(ot<0){delete Dt[G1];break}var gt=Ue(G1,We,(K1=d1[ot]._fullInput).index);if(gt<0){delete Dt[G1];break}dt=We[gt]}if(B1=Ae(l1,Me)){if(B1.attr?T1=(w1=c(a1,B1.attr).get())&&ze(B1.attr,e1):(w1=K1.uirevision,void 0===(T1=dt.uirevision)&&(T1=e1.uirevision)),T1&&T1===w1&&(null===(rt=tt[l1])&&(rt=void 0),t1(Y1=(H1=c(dt,l1)).get(),rt))){H1.set(ie(c(K1,l1).get()));continue}}else l.warn("unrecognized GUI edit: "+l1+" in trace uid "+G1);delete tt[l1]}}}(we.data,we.layout,Re,Qe),_.supplyDefaults(we,{skipUpdateCalc:!0});var f1=we._fullData,Je=we._fullLayout,g1=void 0===Je.datarevision,b1=Je.transition,_1=(We=we,e1=Qe,d1=Je,a1=g1,l1=b1,(c1=E.layoutFlags()).arrays={},c1.rangesAltered={},c1.nChanges=0,c1.nChangesAnim=0,Xe(e1,d1,[],{getValObject:function w1(T1){return u.getLayoutValObject(d1,T1)},flags:c1,immutable:a1,transition:l1,gd:We}),(c1.plot||c1.calc)&&(c1.layoutReplot=!0),l1&&c1.nChanges&&c1.nChangesAnim&&(c1.anim=c1.nChanges===c1.nChangesAnim?"all":"some"),c1),M1=function(We,e1,d1,a1,l1,c1){var w1=e1.length===d1.length;if(!l1&&!w1)return{fullReplot:!0,calc:!0};var T1,B1,rt=E.traceFlags();rt.arrays={},rt.nChanges=0,rt.nChangesAnim=0;var H1={getValObject:function(ut){var k1=u.getTraceValObject(B1,ut);return!B1._module.animatable&&k1.anim&&(k1.anim=!1),k1},flags:rt,immutable:a1,transition:l1,newDataRevision:c1,gd:We},Y1={};for(T1=0;T1<e1.length;T1++)if(d1[T1]){if(_.hasMakesDataTransform(B1=d1[T1]._fullInput)&&(B1=d1[T1]),Y1[B1.uid])continue;Y1[B1.uid]=1,Xe(e1[T1]._fullInput,B1,[],H1)}return(rt.calc||rt.plot)&&(rt.fullReplot=!0),l1&&rt.nChanges&&rt.nChangesAnim&&(rt.anim=rt.nChanges===rt.nChangesAnim&&w1?"all":"some"),rt}(we,Re,f1,g1,b1,_1.newDataRevision);if(fe(we)&&(_1.layoutReplot=!0),M1.calc||_1.calc){we.calcdata=void 0;for(var Be=Object.getOwnPropertyNames(Je),je=0;je<Be.length;je++){var C1=Be[je],O1=C1.substring(0,5);if("xaxis"===O1||"yaxis"===O1){var Q1=Je[C1]._emptyCategories;Q1&&Q1()}}}else _.supplyDefaultsUpdateCalc(we.calcdata,f1);var st=[];if(qe&&(we._transitionData={},_.createTransitionData(we),st.push(function(){return ne.addFrames(we,qe)})),Je.transition&&!Ye&&(M1.anim||_1.anim))_1.ticks&&st.push(V.doTicksRelayout),_.doCalcdata(we),V.doAutoRangeAndConstraints(we),st.push(function(){return _.transitionFromReact(we,M1,_1,Qe)});else if(M1.fullReplot||_1.layoutReplot||Ye)we._fullLayout._skipDefaults=!0,st.push(ne._doPlot);else{for(var $1 in _1.arrays){var Z1=_1.arrays[$1];if(Z1.length){var N1=h.getComponentMethod($1,"drawOne");if(N1!==l.noop)for(var ge=0;ge<Z1.length;ge++)N1(we,Z1[ge]);else{var ye=h.getComponentMethod($1,"draw");if(ye===l.noop)throw new Error("cannot draw components: "+$1);ye(we)}}}st.push(_.previousPromises),M1.style&&st.push(V.doTraceStyle),(M1.colorbars||_1.colorbars)&&st.push(V.doColorBars),_1.legend&&st.push(V.doLegend),_1.layoutstyle&&st.push(V.layoutStyles),_1.axrange&&F(st),_1.ticks&&st.push(V.doTicksRelayout),_1.modebar&&st.push(V.doModeBar),_1.camera&&st.push(V.doCamera),st.push(B)}st.push(_.rehover,_.redrag),(Ie=l.syncOrAsync(st,we))&&Ie.then||(Ie=Promise.resolve(we))}else Ie=ne.newPlot(we,ve,De,Ve);return Ie.then(function(){return we.emit("plotly_react",{data:ve,layout:De}),we})},ne.redraw=function(we){if(we=l.getGraphDiv(we),!l.isPlotDiv(we))throw new Error("This element is not a Plotly plot: "+we);return P.cleanData(we.data),P.cleanLayout(we.layout),we.calcdata=void 0,ne._doPlot(we).then(function(){return we.emit("plotly_redraw"),we})},ne.relayout=oe,ne.restyle=me,ne.setPlotConfig=function(we){return l.extendFlat(D,we)},ne.update=ue,ne._guiRelayout=pe(oe),ne._guiRestyle=pe(me),ne._guiUpdate=pe(ue),ne._storeDirectGUIEdit=function(we,ve,De){for(var Ve in De)le(Ve,c(we,Ve).get(),De[Ve],ve)}},{"../components/color":102,"../components/drawing":124,"../constants/xmlns_namespaces":213,"../lib":232,"../lib/events":225,"../lib/queue":247,"../plots/cartesian/axes":279,"../plots/cartesian/constants":286,"../plots/cartesian/graph_interact":289,"../plots/cartesian/select":300,"../plots/plots":316,"../registry":318,"./edit_types":261,"./helpers":262,"./manage_arrays":264,"./plot_config":266,"./plot_schema":267,"./subroutines":269,"@plotly/d3":11,"fast-isnumeric":17,"has-hover":48}],266:[function(m,de,ne){"use strict";var o={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},g={};(function p(l,c){for(var C in l){var d=l[C];d.valType?c[C]=d.dflt:(c[C]||(c[C]={}),p(d,c[C]))}})(o,g),de.exports={configAttributes:o,dfltConfig:g}},{}],267:[function(m,de,ne){"use strict";var o=m("../registry"),g=m("../lib"),p=m("../plots/attributes"),l=m("../plots/layout_attributes"),c=m("../plots/frame_attributes"),C=m("../plots/animation_attributes"),d=m("./plot_config").configAttributes,h=m("./edit_types"),u=g.extendDeepAll,_=g.isPlainObject,b=g.isArrayOrTypedArray,M=g.nestedProperty,w=g.valObjectMeta,N=["_isSubplotObj","_isLinkedToArray","_arrayAttrRegexps","_deprecated"];function z(I,L,B){if(!I)return!1;if(I._isLinkedToArray)if(k(L[B]))B++;else if(B<L.length)return!1;for(;B<L.length;B++){var $=I[L[B]];if(!_($)||(I=$,B===L.length-1))break;if(I._isLinkedToArray){if(!k(L[++B]))return!1}else if("info_array"===I.valType){var T=L[++B];if(!k(T))return!1;var Y=I.items;if(Array.isArray(Y)){if(T>=Y.length)return!1;if(2===I.dimensions){if(B++,L.length===B)return I;var W=L[B];if(!k(W))return!1;I=Y[T][W]}else I=Y[T]}else I=Y}}return I}function k(I){return I===Math.round(I)&&I>=0}function D(){var I,L,B={};for(I in u(B,l),o.subplotsRegistry)if((L=o.subplotsRegistry[I]).layoutAttributes)if(Array.isArray(L.attr))for(var $=0;$<L.attr.length;$++)V(B,L,L.attr[$]);else V(B,L,"subplot"===L.attr?L.name:L.attr);for(I in o.componentsRegistry){var T=(L=o.componentsRegistry[I]).schema;if(T&&(T.subplots||T.layout)){var Y=T.subplots;if(Y&&Y.xaxis&&!Y.yaxis)for(var W in Y.xaxis)delete B.yaxis[W]}else"colorscale"===L.name?u(B,L.layoutAttributes):L.layoutAttributes&&E(B,L.layoutAttributes,L.name)}return{layoutAttributes:P(B)}}function S(){var I={frames:u({},c)};return P(I),I.frames}function P(I){return ne.crawl(I,function(B,$,T){ne.isValObject(B)?!0!==B.arrayOk&&"data_array"!==B.valType||(T[$+"src"]={valType:"string",editType:"none"}):_(B)&&(B.role="object")}),ne.crawl(I,function(B,$,T){if(B){var Y=B._isLinkedToArray;Y&&(delete B._isLinkedToArray,T[$]={items:{}},T[$].items[Y]=B,T[$].role="object")}}),function(L){!function B($){for(var T in $)if(_($[T]))B($[T]);else if(Array.isArray($[T]))for(var Y=0;Y<$[T].length;Y++)B($[T][Y]);else $[T]instanceof RegExp&&($[T]=$[T].toString())}(L)}(I),I}function V(I,L,B){var $=M(I,B),T=u({},L.layoutAttributes);T._isSubplotObj=!0,$.set(T)}function E(I,L,B){var $=M(I,B);$.set(u($.get()||{},L))}ne.IS_SUBPLOT_OBJ="_isSubplotObj",ne.IS_LINKED_TO_ARRAY="_isLinkedToArray",ne.DEPRECATED="_deprecated",ne.UNDERSCORE_ATTRS=N,ne.get=function(){var I={};o.allTypes.forEach(function(B){I[B]=function($){var T,Y;Y=(T=o.modules[$]._module).basePlotModule;var W={type:null},q=u({},p),Q=u({},T.attributes);ne.crawl(Q,function(me,ie,K,le,G){M(q,G).set(void 0),void 0===me&&M(Q,G).set(void 0)}),u(W,q),o.traceIs($,"noOpacity")&&delete W.opacity,o.traceIs($,"showLegend")||(delete W.showlegend,delete W.legendgroup),o.traceIs($,"noHover")&&(delete W.hoverinfo,delete W.hoverlabel),T.selectPoints||delete W.selectedpoints,u(W,Q),Y.attributes&&u(W,Y.attributes),W.type=$;var te={meta:T.meta||{},categories:T.categories||{},animatable:Boolean(T.animatable),type:$,attributes:P(W)};if(T.layoutAttributes){var ce={};u(ce,T.layoutAttributes),te.layoutAttributes=P(ce)}return T.animatable||ne.crawl(te,function(me){ne.isValObject(me)&&"anim"in me&&delete me.anim}),te}(B)});var L={};return Object.keys(o.transformsRegistry).forEach(function(B){var $,Y;L[B]=(Y=u({},o.transformsRegistry[$=B].attributes),Object.keys(o.componentsRegistry).forEach(function(W){var q=o.componentsRegistry[W];q.schema&&q.schema.transforms&&q.schema.transforms[$]&&Object.keys(q.schema.transforms[$]).forEach(function(Q){E(Y,q.schema.transforms[$][Q],Q)})}),{attributes:P(Y)})}),{defs:{valObjects:w,metaKeys:N.concat(["description","role","editType","impliedEdits"]),editType:{traces:h.traces,layout:h.layout},impliedEdits:{}},traces:I,layout:D(),transforms:L,frames:S(),animation:P(C),config:P(d)}},ne.crawl=function(I,L,B,$){var T=B||0;$=$||"",Object.keys(I).forEach(function(Y){var W=I[Y];if(-1===N.indexOf(Y)){var q=($?$+".":"")+Y;L(W,Y,I,T,q),ne.isValObject(W)||_(W)&&"impliedEdits"!==Y&&ne.crawl(W,L,T+1,q)}})},ne.isValObject=function(I){return I&&void 0!==I.valType},ne.findArrayAttributes=function(I){var L,B,$=[],T=[],Y=[];function W(me,ie,K,le){T=T.slice(0,le).concat([ie]),Y=Y.slice(0,le).concat([me&&me._isLinkedToArray]),me&&("data_array"===me.valType||!0===me.arrayOk)&&("colorbar"!==T[le-1]||"ticktext"!==ie&&"tickvals"!==ie)&&function G(j,oe,re){var F=j[T[oe]],O=re+T[oe];if(oe===T.length-1)b(F)&&$.push(B+O);else if(Y[oe]){if(Array.isArray(F))for(var X=0;X<F.length;X++)_(F[X])&&G(F[X],oe+1,O+"["+X+"].")}else _(F)&&G(F,oe+1,O+".")}(L,0,"")}L=I,B="",ne.crawl(p,W),I._module&&I._module.attributes&&ne.crawl(I._module.attributes,W);var q=I.transforms;if(q)for(var Q=0;Q<q.length;Q++){var te=q[Q],ce=te._module;ce&&(B="transforms["+Q+"].",L=te,ne.crawl(ce.attributes,W))}return $},ne.getTraceValObject=function(I,L){var B,$,T=L[0],Y=1;if("transforms"===T){if(1===L.length)return p.transforms;var W=I.transforms;if(!Array.isArray(W)||!W.length)return!1;var q=L[1];if(!k(q)||q>=W.length)return!1;$=(B=(o.transformsRegistry[W[q].type]||{}).attributes)&&B[L[2]],Y=3}else{var Q=I._module;if(Q||(Q=(o.modules[I.type||p.type.dflt]||{})._module),!Q)return!1;if(!($=(B=Q.attributes)&&B[T])){var te=Q.basePlotModule;te&&te.attributes&&($=te.attributes[T])}$||($=p[T])}return z($,L,Y)},ne.getLayoutValObject=function(I,L){return z(function(B,$){var T,Y,W,q,Q=B._basePlotModules;if(Q){var te;for(T=0;T<Q.length;T++){if((W=Q[T]).attrRegex&&W.attrRegex.test($)){if(W.layoutAttrOverrides)return W.layoutAttrOverrides;!te&&W.layoutAttributes&&(te=W.layoutAttributes)}var ce=W.baseLayoutAttrOverrides;if(ce&&$ in ce)return ce[$]}if(te)return te}var me=B._modules;if(me)for(T=0;T<me.length;T++)if((q=me[T].layoutAttributes)&&$ in q)return q[$];for(Y in o.componentsRegistry){if("colorscale"===(W=o.componentsRegistry[Y]).name&&0===$.indexOf("coloraxis"))return W.layoutAttributes[$];if(!W.schema&&$===W.name)return W.layoutAttributes}return $ in l&&l[$]}(I,L[0]),L,1)}},{"../lib":232,"../plots/animation_attributes":273,"../plots/attributes":275,"../plots/frame_attributes":311,"../plots/layout_attributes":314,"../registry":318,"./edit_types":261,"./plot_config":266}],268:[function(m,de,ne){"use strict";var o=m("../lib"),g=m("../plots/attributes"),p={name:{valType:"string",editType:"none"}};function l(C){return C&&"string"==typeof C}function c(C){return"s"!==C.charAt(C.length-1)&&o.warn("bad argument to arrayDefaultKey: "+C),C.substr(0,C.length-1)+"defaults"}p.templateitemname={valType:"string",editType:"calc"},ne.templatedArray=function(C,d){return d._isLinkedToArray=C,d.name=p.name,d.templateitemname=p.templateitemname,d},ne.traceTemplater=function(C){var d,h,u={};for(d in C)h=C[d],Array.isArray(h)&&h.length&&(u[d]=0);return{newTrace:function(_){var b={type:d=o.coerce(_,{},g,"type"),_template:null};if(d in u){var M=u[d]%(h=C[d]).length;u[d]++,b._template=h[M]}return b}}},ne.newContainer=function(C,d,h){var u=C._template,_=u&&(u[d]||h&&u[h]);return o.isPlainObject(_)||(_=null),C[d]={_template:_}},ne.arrayTemplater=function(C,d,h){var u=C._template,_=u&&u[c(d)],b=u&&u[d];Array.isArray(b)&&b.length||(b=[]);var M={};return{newItem:function(w){var N={name:w.name,_input:w},z=N.templateitemname=w.templateitemname;if(!l(z))return N._template=_,N;for(var k=0;k<b.length;k++){var D=b[k];if(D.name===z)return M[z]=1,N._template=D,N}return N[h]=w[h]||!1,N._template=!1,N},defaultItems:function(){for(var w=[],N=0;N<b.length;N++){var z=b[N],k=z.name;if(l(k)&&!M[k]){var D={_template:z,name:k,_input:{_templateitemname:k}};D.templateitemname=z.templateitemname,w.push(D),M[k]=1}}return w}}},ne.arrayDefaultKey=c,ne.arrayEditor=function(C,d,h){var u=(o.nestedProperty(C,d).get()||[]).length,_=h._index,b=_>=u&&(h._input||{})._templateitemname;b&&(_=u);var M,w=d+"["+_+"]";function N(){M={},b&&(M[w]={},M[w].templateitemname=b)}function z(D,S){b?o.nestedProperty(M[w],D).set(S):M[w+"."+D]=S}function k(){var D=M;return N(),D}return N(),{modifyBase:function(D,S){M[D]=S},modifyItem:z,getUpdateObj:k,applyUpdate:function(D,S){D&&z(D,S);var P=k();for(var V in P)o.nestedProperty(C,V).set(P[V])}}}},{"../lib":232,"../plots/attributes":275}],269:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("../registry"),p=m("../plots/plots"),l=m("../lib"),c=m("../lib/clear_gl_canvases"),C=m("../components/color"),d=m("../components/drawing"),h=m("../components/titles"),u=m("../components/modebar"),_=m("../plots/cartesian/axes"),b=m("../constants/alignment"),M=m("../plots/cartesian/constraints"),w=M.enforce,N=M.clean,z=m("../plots/cartesian/autorange").doAutoRange;function k(L,B,$){for(var T=0;T<$.length;T++){var Y=$[T][0],W=$[T][1];if(!(Y[0]>=L[1]||Y[1]<=L[0])&&W[0]<B[1]&&W[1]>B[0])return!0}return!1}function D(L){var B,$,T,Y,W,q,Q=L._fullLayout,te=Q._size,ce=te.p,me=_.list(L,"",!0);if(Q._paperdiv.style({width:L._context.responsive&&Q.autosize&&!L._context._hasZeroWidth&&!L.layout.width?"100%":Q.width+"px",height:L._context.responsive&&Q.autosize&&!L._context._hasZeroHeight&&!L.layout.height?"100%":Q.height+"px"}).selectAll(".main-svg").call(d.setSize,Q.width,Q.height),L._context.setBackground(L,Q.paper_bgcolor),ne.drawMainTitle(L),u.manage(L),!Q._has("cartesian"))return p.previousPromises(L);function ie(Je,g1,b1){var _1=Je._lw/2;return"x"===Je._id.charAt(0)?g1?"top"===b1?g1._offset-ce-_1:g1._offset+g1._length+ce+_1:te.t+te.h*(1-(Je.position||0))+_1%1:g1?"right"===b1?g1._offset+g1._length+ce+_1:g1._offset-ce-_1:te.l+te.w*(Je.position||0)+_1%1}for(B=0;B<me.length;B++){var K=(Y=me[B])._anchorAxis;Y._linepositions={},Y._lw=d.crispRound(L,Y.linewidth,1),Y._mainLinePosition=ie(Y,K,Y.side),Y._mainMirrorPosition=Y.mirror&&K?ie(Y,K,b.OPPOSITE_SIDE[Y.side]):null}var le=[],G=[],j=[],oe=1===C.opacity(Q.paper_bgcolor)&&1===C.opacity(Q.plot_bgcolor)&&Q.paper_bgcolor===Q.plot_bgcolor;for($ in Q._plots)if((T=Q._plots[$]).mainplot)T.bg&&T.bg.remove(),T.bg=void 0;else{var re=T.xaxis.domain,F=T.yaxis.domain,O=T.plotgroup;if(k(re,F,j)){var X=O.node(),R=T.bg=l.ensureSingle(O,"rect","bg");X.insertBefore(R.node(),X.childNodes[0]),G.push($)}else O.select("rect.bg").remove(),j.push([re,F]),oe||(le.push($),G.push($))}var ae,fe,ue,pe,xe,Me,Ae,ze,Fe,Ue,t1,Xe,Ge,we=Q._bgLayer.selectAll(".bg").data(le);for(we.enter().append("rect").classed("bg",!0),we.exit().remove(),we.each(function(Je){Q._plots[Je].bg=o.select(this)}),B=0;B<G.length;B++)W=(T=Q._plots[G[B]]).xaxis,q=T.yaxis,T.bg&&void 0!==W._offset&&void 0!==q._offset&&T.bg.call(d.setRect,W._offset-ce,q._offset-ce,W._length+2*ce,q._length+2*ce).call(C.fill,Q.plot_bgcolor).style("stroke-width",0);if(!Q._hasOnlyLargeSploms)for($ in Q._plots){W=(T=Q._plots[$]).xaxis,q=T.yaxis;var ve,De,Ve=T.clipId="clip"+Q._uid+$+"plot",qe=l.ensureSingleById(Q._clips,"clipPath",Ve,function(Je){Je.classed("plotclip",!0).append("rect")});T.clipRect=qe.select("rect").attr({width:W._length,height:q._length}),d.setTranslate(T.plot,W._offset,q._offset),T._hasClipOnAxisFalse?(ve=null,De=Ve):(ve=Ve,De=null),d.setClipUrl(T.plot,ve,L),T.layerClipId=De}function Ie(Je){return"M"+ae+","+Je+"H"+fe}function Re(Je){return"M"+W._offset+","+Je+"h"+W._length}function Qe(Je){return"M"+Je+","+ze+"V"+Ae}function n1(Je){return"M"+Je+","+q._offset+"v"+q._length}function Ye(Je,g1,b1){if(!Je.showline||$!==Je._mainSubplot)return"";if(!Je._anchorAxis)return b1(Je._mainLinePosition);var _1=g1(Je._mainLinePosition);return Je.mirror&&(_1+=g1(Je._mainMirrorPosition)),_1}for($ in Q._plots){q=(T=Q._plots[$]).yaxis;var r1="M0,0";S(W=T.xaxis,$)&&(xe=V(W,"left",q,me),ae=W._offset-(xe?ce+xe:0),Me=V(W,"right",q,me),fe=W._offset+W._length+(Me?ce+Me:0),ue=ie(W,q,"bottom"),pe=ie(W,q,"top"),!(Ge=!W._anchorAxis||$!==W._mainSubplot)||"allticks"!==W.mirror&&"all"!==W.mirror||(W._linepositions[$]=[ue,pe]),r1=Ye(W,Ie,Re),Ge&&W.showline&&("all"===W.mirror||"allticks"===W.mirror)&&(r1+=Ie(ue)+Ie(pe)),T.xlines.style("stroke-width",W._lw+"px").call(C.stroke,W.showline?W.linecolor:"rgba(0,0,0,0)")),T.xlines.attr("d",r1);var f1="M0,0";S(q,$)&&(t1=V(q,"bottom",W,me),Ae=q._offset+q._length+(t1?ce:0),Xe=V(q,"top",W,me),ze=q._offset-(Xe?ce:0),Fe=ie(q,W,"left"),Ue=ie(q,W,"right"),!(Ge=!q._anchorAxis||$!==q._mainSubplot)||"allticks"!==q.mirror&&"all"!==q.mirror||(q._linepositions[$]=[Fe,Ue]),f1=Ye(q,Qe,n1),Ge&&q.showline&&("all"===q.mirror||"allticks"===q.mirror)&&(f1+=Qe(Fe)+Qe(Ue)),T.ylines.style("stroke-width",q._lw+"px").call(C.stroke,q.showline?q.linecolor:"rgba(0,0,0,0)")),T.ylines.attr("d",f1)}return _.makeClipPaths(L),p.previousPromises(L)}function S(L,B){return(L.ticks||L.showline)&&(B===L._mainSubplot||"all"===L.mirror||"allticks"===L.mirror)}function P(L,B,$){if(!$.showline||!$._lw)return!1;if("all"===$.mirror||"allticks"===$.mirror)return!0;var T=$._anchorAxis;if(!T)return!1;var Y=b.FROM_BL[B];return $.side===B?T.domain[Y]===L.domain[Y]:$.mirror&&T.domain[1-Y]===L.domain[1-Y]}function V(L,B,$,T){if(P(L,B,$))return $._lw;for(var Y=0;Y<T.length;Y++){var W=T[Y];if(W._mainAxis===$._mainAxis&&P(L,B,W))return W._lw}return 0}function E(L,B){var $=L.title,T=L._size,Y=0;return"paper"===("start"===B?Y=$.pad.l:"end"===B&&(Y=-$.pad.r),$.xref)?T.l+T.w*$.x+Y:L.width*$.x+Y}function I(L,B){var $=L.title,T=L._size,Y=0;return"0em"!==B&&B?B===b.CAP_SHIFT+"em"&&(Y=$.pad.t):Y=-$.pad.b,"auto"===$.y?T.t/2:"paper"===$.yref?T.t+T.h-T.h*$.y+Y:L.height-L.height*$.y+Y}ne.layoutStyles=function(L){return l.syncOrAsync([p.doAutoMargin,D],L)},ne.drawMainTitle=function(L){var W,q,B=L._fullLayout,$=(q="middle",l.isRightAnchor(W=B.title)?q="end":l.isLeftAnchor(W)&&(q="start"),q),T=function(Y){var W=Y.title,q="0em";return l.isTopAnchor(W)?q=b.CAP_SHIFT+"em":l.isMiddleAnchor(W)&&(q=b.MID_SHIFT+"em"),q}(B);h.draw(L,"gtitle",{propContainer:B,propName:"title.text",placeholder:B._dfltTitle.plot,attributes:{x:E(B,$),y:I(B,T),"text-anchor":$,dy:T}})},ne.doTraceStyle=function(L){var B,$=L.calcdata,T=[];for(B=0;B<$.length;B++){var Y=$[B],W=Y[0]||{},q=W.trace||{},Q=q._module||{},te=Q.arraysToCalcdata;te&&te(Y,q);var ce=Q.editStyle;ce&&T.push({fn:ce,cd0:W})}if(T.length){for(B=0;B<T.length;B++){var me=T[B];me.fn(L,me.cd0)}c(L),ne.redrawReglTraces(L)}return p.style(L),g.getComponentMethod("legend","draw")(L),p.previousPromises(L)},ne.doColorBars=function(L){return g.getComponentMethod("colorbar","draw")(L),p.previousPromises(L)},ne.layoutReplot=function(L){var B=L.layout;return L.layout=void 0,g.call("_doPlot",L,"",B)},ne.doLegend=function(L){return g.getComponentMethod("legend","draw")(L),p.previousPromises(L)},ne.doTicksRelayout=function(L){return _.draw(L,"redraw"),L._fullLayout._hasOnlyLargeSploms&&(g.subplotsRegistry.splom.updateGrid(L),c(L),ne.redrawReglTraces(L)),ne.drawMainTitle(L),p.previousPromises(L)},ne.doModeBar=function(L){var B=L._fullLayout;u.manage(L);for(var $=0;$<B._basePlotModules.length;$++){var T=B._basePlotModules[$].updateFx;T&&T(L)}return p.previousPromises(L)},ne.doCamera=function(L){for(var B=L._fullLayout,$=B._subplots.gl3d,T=0;T<$.length;T++){var Y=B[$[T]];Y._scene.setViewport(Y)}},ne.drawData=function(L){var B=L._fullLayout;c(L);for(var $=B._basePlotModules,T=0;T<$.length;T++)$[T].plot(L);return ne.redrawReglTraces(L),p.style(L),g.getComponentMethod("shapes","draw")(L),g.getComponentMethod("annotations","draw")(L),g.getComponentMethod("images","draw")(L),B._replotting=!1,p.previousPromises(L)},ne.redrawReglTraces=function(L){var B=L._fullLayout;if(B._has("regl")){var $,T,Y=L._fullData,W=[],q=[];for(B._hasOnlyLargeSploms&&B._splomGrid.draw(),$=0;$<Y.length;$++){var Q=Y[$];!0===Q.visible&&0!==Q._length&&("splom"===Q.type?B._splomScenes[Q.uid].draw():"scattergl"===Q.type?l.pushUnique(W,Q.xaxis+Q.yaxis):"scatterpolargl"===Q.type&&l.pushUnique(q,Q.subplot))}for($=0;$<W.length;$++)(T=B._plots[W[$]])._scene&&T._scene.draw();for($=0;$<q.length;$++)(T=B[q[$]]._subplot)._scene&&T._scene.draw()}},ne.doAutoRangeAndConstraints=function(L){for(var B,$=_.list(L,"",!0),T={},Y=0;Y<$.length;Y++)if(!T[(B=$[Y])._id]){T[B._id]=1,N(L,B),z(L,B);var W=B._matchGroup;if(W)for(var q in W){var Q=_.getFromId(L,q);z(L,Q,B.range),T[q]=1}}w(L)},ne.finalDraw=function(L){g.getComponentMethod("rangeslider","draw")(L),g.getComponentMethod("rangeselector","draw")(L)},ne.drawMarginPushers=function(L){g.getComponentMethod("legend","draw")(L),g.getComponentMethod("rangeselector","draw")(L),g.getComponentMethod("sliders","draw")(L),g.getComponentMethod("updatemenus","draw")(L),g.getComponentMethod("colorbar","draw")(L)}},{"../components/color":102,"../components/drawing":124,"../components/modebar":165,"../components/titles":200,"../constants/alignment":207,"../lib":232,"../lib/clear_gl_canvases":220,"../plots/cartesian/autorange":278,"../plots/cartesian/axes":279,"../plots/cartesian/constraints":287,"../plots/plots":316,"../registry":318,"@plotly/d3":11}],270:[function(m,de,ne){"use strict";var o=m("../lib"),g=o.isPlainObject,p=m("./plot_schema"),l=m("../plots/plots"),c=m("../plots/attributes"),C=m("./plot_template"),d=m("./plot_config").dfltConfig;function h(k,D){k=o.extendDeep({},k);var S,P,V=Object.keys(k).sort();function E(T,Y,W){if(g(Y)&&g(T))h(T,Y);else if(Array.isArray(Y)&&Array.isArray(T)){var q=C.arrayTemplater({_template:k},W);for(P=0;P<Y.length;P++){var Q=Y[P],te=q.newItem(Q)._template;te&&h(te,Q)}var ce=q.defaultItems();for(P=0;P<ce.length;P++)Y.push(ce[P]._template);for(P=0;P<Y.length;P++)delete Y[P].templateitemname}}for(S=0;S<V.length;S++){var I=V[S],L=k[I];if(I in D?E(L,D[I],I):D[I]=L,u(I)===I)for(var B in D){var $=u(B);B===$||$!==I||B in k||E(L,D[B],I)}}}function u(k){return k.replace(/[0-9]+$/,"")}function _(k,D,S,P,V){var E=V&&S(V);for(var I in k){var L=k[I],B=w(k,I,P),$=w(k,I,V),T=S($);if(!T){var Y=u(I);Y!==I&&(T=S($=w(k,Y,V)))}if(!(E&&E===T||!T||T._noTemplating||"data_array"===T.valType||T.arrayOk&&Array.isArray(L)))if(!T.valType&&g(L))_(L,D,S,B,$);else if(T._isLinkedToArray&&Array.isArray(L))for(var W=!1,q=0,Q={},te=0;te<L.length;te++){var ce=L[te];if(g(ce)){var me=ce.name;if(me)Q[me]||(_(ce,D,S,w(L,q,B),w(L,q,$)),q++,Q[me]=1);else if(!W){var ie=w(k,C.arrayDefaultKey(I),P),K=w(L,q,B);_(ce,D,S,K,w(L,q,$));var le=o.nestedProperty(D,K);o.nestedProperty(D,ie).set(le.get()),le.set(null),W=!0}}}else o.nestedProperty(D,B).set(L)}}function b(k,D){return p.getLayoutValObject(k,o.nestedProperty({},D).parts)}function M(k,D){return p.getTraceValObject(k,o.nestedProperty({},D).parts)}function w(k,D,S){return S?Array.isArray(k)?S+"["+D+"]":S+"."+D:D}function N(k){for(var D=0;D<k.length;D++)if(g(k[D]))return!0}function z(k){var D;switch(k.code){case"data":D="The template has no key data.";break;case"layout":D="The template has no key layout.";break;case"missing":D=k.path?"There are no templates for item "+k.path+" with name "+k.templateitemname:"There are no templates for trace "+k.index+", of type "+k.traceType+".";break;case"unused":D=k.path?"The template item at "+k.path+" was not used in constructing the plot.":k.dataCount?"Some of the templates of type "+k.traceType+" were not used. The template has "+k.templateCount+" traces, the data only has "+k.dataCount+" of this type.":"The template has "+k.templateCount+" traces of type "+k.traceType+" but there are none in the data.";break;case"reused":D="Some of the templates of type "+k.traceType+" were used more than once. The template has "+k.templateCount+" traces, the data has "+k.dataCount+" of this type."}return k.msg=D,k}ne.makeTemplate=function(k){k=o.isPlainObject(k)?k:o.getGraphDiv(k),k=o.extendDeep({_context:d},{data:k.data,layout:k.layout}),l.supplyDefaults(k);var D=k.data||[],S=k.layout||{};S._basePlotModules=k._fullLayout._basePlotModules,S._modules=k._fullLayout._modules;var P={data:{},layout:{}};D.forEach(function(q){var Q={};_(q,Q,M.bind(null,q));var te=o.coerce(q,{},c,"type"),ce=P.data[te];ce||(ce=P.data[te]=[]),ce.push(Q)}),_(S,P.layout,b.bind(null,S)),delete P.layout.template;var V=S.template;if(g(V)){var E,I,L,B,$,T,Y=V.layout;g(Y)&&h(Y,P.layout);var W=V.data;if(g(W)){for(I in P.data)if(L=W[I],Array.isArray(L)){for(T=($=P.data[I]).length,B=L.length,E=0;E<T;E++)h(L[E%B],$[E]);for(E=T;E<B;E++)$.push(o.extendDeep({},L[E]))}for(I in W)I in P.data||(P.data[I]=o.extendDeep([],W[I]))}}return P},ne.validateTemplate=function(k,D){var S=o.extendDeep({},{_context:d,data:k.data,layout:k.layout}),P=S.layout||{};g(D)||(D=P.template||{});var V=D.layout,E=D.data,I=[];S.layout=P,S.layout.template=D,l.supplyDefaults(S);var L=S._fullLayout,B=S._fullData,$={};if(g(V)?(function ce(me,ie){for(var K in me)if("_"!==K.charAt(0)&&g(me[K])){var le,G=u(K),j=[];for(le=0;le<ie.length;le++)j.push(w(me,K,ie[le])),G!==K&&j.push(w(me,G,ie[le]));for(le=0;le<j.length;le++)$[j[le]]=1;ce(me[K],j)}}(L,["layout"]),function ce(me,ie){for(var K in me)if(-1===K.indexOf("defaults")&&g(me[K])){var le=w(me,K,ie);$[le]?ce(me[K],le):I.push({code:"unused",path:le})}}(V,"layout")):I.push({code:"layout"}),g(E)){for(var T,Y={},W=0;W<B.length;W++){var q=B[W];Y[T=q.type]=(Y[T]||0)+1,q._fullInput._template||I.push({code:"missing",index:q._fullInput.index,traceType:T})}for(T in E){var Q=E[T].length,te=Y[T]||0;Q>te?I.push({code:"unused",traceType:T,templateCount:Q,dataCount:te}):te>Q&&I.push({code:"reused",traceType:T,templateCount:Q,dataCount:te})}}else I.push({code:"data"});if(function ce(me,ie){for(var K in me)if("_"!==K.charAt(0)){var le=me[K],G=w(me,K,ie);g(le)?(Array.isArray(me)&&!1===le._template&&le.templateitemname&&I.push({code:"missing",path:G,templateitemname:le.templateitemname}),ce(le,G)):Array.isArray(le)&&N(le)&&ce(le,G)}}({data:B,layout:L},""),I.length)return I.map(z)}},{"../lib":232,"../plots/attributes":275,"../plots/plots":316,"./plot_config":266,"./plot_schema":267,"./plot_template":268}],271:[function(m,de,ne){"use strict";var o=m("fast-isnumeric"),g=m("./plot_api"),p=m("../plots/plots"),l=m("../lib"),c=m("../snapshot/helpers"),C=m("../snapshot/tosvg"),d=m("../snapshot/svgtoimg"),h=m("../version").version,u={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};de.exports=function(_,b){var M,w,N,z;function k(te){return!(te in b)||l.validate(b[te],u[te])}if(b=b||{},l.isPlainObject(_)?(M=_.data||[],w=_.layout||{},N=_.config||{},z={}):(_=l.getGraphDiv(_),M=l.extendDeep([],_.data),w=l.extendDeep({},_.layout),N=_._context,z=_._fullLayout||{}),!k("width")&&null!==b.width||!k("height")&&null!==b.height)throw new Error("Height and width should be pixel values.");if(!k("format"))throw new Error("Export format is not "+l.join2(u.format.values,", "," or ")+".");var D={};function S(te,ce){return l.coerce(b,D,u,te,ce)}var P=S("format"),V=S("width"),E=S("height"),I=S("scale"),L=S("setBackground"),B=S("imageDataOnly"),$=document.createElement("div");$.style.position="absolute",$.style.left="-5000px",document.body.appendChild($);var T=l.extendFlat({},w);V?T.width=V:null===b.width&&o(z.width)&&(T.width=z.width),E?T.height=E:null===b.height&&o(z.height)&&(T.height=z.height);var Y=l.extendFlat({},N,{_exportedPlot:!0,staticPlot:!0,setBackground:L}),W=c.getRedrawFunc($);function q(){return new Promise(function(te){setTimeout(te,c.getDelay($._fullLayout))})}function Q(){return new Promise(function(te,ce){var me=C($,P,I),ie=$._fullLayout.width,K=$._fullLayout.height;function le(){g.purge($),document.body.removeChild($)}if("full-json"===P){var G=p.graphJson($,!1,"keepdata","object",!0,!0);return G.version=h,G=JSON.stringify(G),le(),te(B?G:c.encodeJSON(G))}if(le(),"svg"===P)return te(B?me:c.encodeSVG(me));var j=document.createElement("canvas");j.id=l.randstr(),d({format:P,width:ie,height:K,scale:I,canvas:j,svg:me,promise:!0}).then(te).catch(ce)})}return new Promise(function(te,ce){g.newPlot($,M,T,Y).then(W).then(q).then(Q).then(function(me){var ie;te((ie=me,B?ie.replace(c.IMAGE_URL_PREFIX,""):ie))}).catch(function(me){ce(me)})})}},{"../lib":232,"../plots/plots":316,"../snapshot/helpers":322,"../snapshot/svgtoimg":324,"../snapshot/tosvg":326,"../version":391,"./plot_api":265,"fast-isnumeric":17}],272:[function(m,de,ne){"use strict";var o=m("../lib"),g=m("../plots/plots"),p=m("./plot_schema"),l=m("./plot_config").dfltConfig,c=o.isPlainObject,C=Array.isArray,d=o.isArrayOrTypedArray;function h(D,S,P,V,E,I){I=I||[];for(var L=Object.keys(D),B=0;B<L.length;B++){var $=L[B];if("transforms"!==$){var T=I.slice();T.push($);var Y=D[$],W=S[$],q=N(P,$),Q=(q||{}).valType,te="info_array"===Q,ce="colorscale"===Q,me=(q||{}).items;if(w(P,$))if(c(Y)&&c(W)&&"any"!==Q)h(Y,W,q,V,E,T);else if(te&&C(Y)){Y.length>W.length&&V.push(M("unused",E,T.concat(W.length)));var ie,K,G,j,oe=W.length,re=Array.isArray(me);if(re&&(oe=Math.min(oe,me.length)),2===q.dimensions)for(K=0;K<oe;K++)if(C(Y[K])){Y[K].length>W[K].length&&V.push(M("unused",E,T.concat(K,W[K].length)));var F=W[K].length;for(ie=0;ie<(re?Math.min(F,me[K].length):F);ie++)j=W[K][ie],o.validate(G=Y[K][ie],re?me[K][ie]:me)?j!==G&&j!==+G&&V.push(M("dynamic",E,T.concat(K,ie),G,j)):V.push(M("value",E,T.concat(K,ie),G))}else V.push(M("array",E,T.concat(K),Y[K]));else for(K=0;K<oe;K++)j=W[K],o.validate(G=Y[K],re?me[K]:me)?j!==G&&j!==+G&&V.push(M("dynamic",E,T.concat(K),G,j)):V.push(M("value",E,T.concat(K),G))}else if(q.items&&!te&&C(Y)){var O,X,R=me[Object.keys(me)[0]],ae=[];for(O=0;O<W.length;O++){var fe=W[O]._index||O;if((X=T.slice()).push(fe),c(Y[fe])&&c(W[O])){ae.push(fe);var ue=Y[fe],pe=W[O];c(ue)&&!1!==ue.visible&&!1===pe.visible?V.push(M("invisible",E,X)):h(ue,pe,R,V,E,X)}}for(O=0;O<Y.length;O++)(X=T.slice()).push(O),c(Y[O])?-1===ae.indexOf(O)&&V.push(M("unused",E,X)):V.push(M("object",E,X,Y[O]))}else!c(Y)&&c(W)?V.push(M("object",E,T,Y)):d(Y)||!d(W)||te||ce?$ in S?o.validate(Y,q)?"enumerated"===q.valType&&(q.coerceNumber&&Y!==+W||Y!==W)&&V.push(M("dynamic",E,T,Y,W)):V.push(M("value",E,T,Y)):V.push(M("unused",E,T,Y)):V.push(M("array",E,T,Y));else V.push(M("schema",E,T))}}return V}function u(D,S){for(var P=D.layout.layoutAttributes,V=0;V<S.length;V++){var E=S[V],I=D.traces[E.type],L=I.layoutAttributes;L&&o.extendFlat(E.subplot?P[I.attributes.subplot.dflt]:P,L)}return P}de.exports=function(D,S){void 0===D&&(D=[]),void 0===S&&(S={});var P,V,E=p.get(),I=[],L={_context:o.extendFlat({},l)};C(D)?(L.data=o.extendDeep([],D),P=D):(L.data=[],P=[],I.push(M("array","data"))),c(S)?(L.layout=o.extendDeep({},S),V=S):(L.layout={},V={},arguments.length>1&&I.push(M("object","layout"))),g.supplyDefaults(L);for(var B=L._fullData,$=P.length,T=0;T<$;T++){var Y=P[T],W=["data",T];if(c(Y)){var q=B[T],Q=q.type,te=E.traces[Q].attributes;te.type={valType:"enumerated",values:[Q]},!1===q.visible&&!1!==Y.visible&&I.push(M("invisible",W)),h(Y,q,te,I,W);var ce=Y.transforms,me=q.transforms;if(ce){C(ce)||I.push(M("array",W,["transforms"])),W.push("transforms");for(var ie=0;ie<ce.length;ie++){var K=["transforms",ie],le=ce[ie].type;if(c(ce[ie])){var G=E.transforms[le]?E.transforms[le].attributes:{};G.type={valType:"enumerated",values:Object.keys(E.transforms)},h(ce[ie],me[ie],G,I,W,K)}else I.push(M("object",W,K))}}}else I.push(M("object",W))}return h(V,L._fullLayout,u(E,B),I,"layout"),0===I.length?void 0:I};var _={object:function(D,S){return("layout"===D&&""===S?"The layout argument":"data"===D[0]&&""===S?"Trace "+D[1]+" in the data argument":b(D)+"key "+S)+" must be linked to an object container"},array:function(D,S){return("data"===D?"The data argument":b(D)+"key "+S)+" must be linked to an array container"},schema:function(D,S){return b(D)+"key "+S+" is not part of the schema"},unused:function(D,S,P){var V=c(P)?"container":"key";return b(D)+V+" "+S+" did not get coerced"},dynamic:function(D,S,P,V){return[b(D)+"key",S,"(set to '"+P+"')","got reset to","'"+V+"'","during defaults."].join(" ")},invisible:function(D,S){return(S?b(D)+"item "+S:"Trace "+D[1])+" got defaulted to be not visible"},value:function(D,S,P){return[b(D)+"key "+S,"is set to an invalid value ("+P+")"].join(" ")}};function b(D){return C(D)?"In data trace "+D[1]+", ":"In "+D+", "}function M(D,S,P,V,E){var I,L;P=P||"",C(S)?(I=S[0],L=S[1]):(I=S,L=null);var B=function(T){if(!C(T))return String(T);for(var Y="",W=0;W<T.length;W++){var q=T[W];"number"==typeof q?Y=Y.substr(0,Y.length-1)+"["+q+"]":Y+=q,W<T.length-1&&(Y+=".")}return Y}(P),$=_[D](S,B,V,E);return o.log($),{code:D,container:I,trace:L,path:P,astr:B,msg:$}}function w(D,S){var P=k(S),V=P.keyMinusId;return!!(V in D&&D[V]._isSubplotObj&&P.id)||S in D}function N(D,S){return S in D?D[S]:D[k(S).keyMinusId]}var z=o.counterRegex("([a-z]+)");function k(D){var S=D.match(z);return{keyMinusId:S&&S[1],id:S&&S[2]}}},{"../lib":232,"../plots/plots":316,"./plot_config":266,"./plot_schema":267}],273:[function(m,de,ne){"use strict";de.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},{}],274:[function(m,de,ne){"use strict";var o=m("../lib"),g=m("../plot_api/plot_template");de.exports=function(p,l,c){var C,d,h=c.name,u=c.inclusionAttr||"visible",_=l[h],b=o.isArrayOrTypedArray(p[h])?p[h]:[],M=l[h]=[],w=g.arrayTemplater(l,h,u);for(C=0;C<b.length;C++){var N=b[C];o.isPlainObject(N)?d=w.newItem(N):(d=w.newItem({}))[u]=!1,d._index=C,!1!==d[u]&&c.handleItemDefaults(N,d,l,c),M.push(d)}var z=w.defaultItems();for(C=0;C<z.length;C++)(d=z[C])._index=M.length,c.handleItemDefaults({},d,l,c,{}),M.push(d);if(o.isArrayOrTypedArray(_)){var k=Math.min(_.length,M.length);for(C=0;C<k;C++)o.relinkPrivateKeys(M[C],_[C])}return M}},{"../lib":232,"../plot_api/plot_template":268}],275:[function(m,de,ne){"use strict";var o=m("./font_attributes"),g=m("../components/fx/attributes");de.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:o({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:g.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},{"../components/fx/attributes":133,"./font_attributes":310}],276:[function(m,de,ne){"use strict";var o=m("fast-isnumeric"),g=m("../../lib"),p=g.dateTime2ms,l=g.incrementMonth,c=m("../../constants/numerical").ONEAVGMONTH;de.exports=function(C,d,h,u){if("date"!==d.type)return{vals:u};var _=C[h+"periodalignment"];if(!_)return{vals:u};var b,M=C[h+"period"];if(o(M)){if((M=+M)<=0)return{vals:u}}else if("string"==typeof M&&"M"===M.charAt(0)){var w=+M.substring(1);if(!(w>0&&Math.round(w)===w))return{vals:u};b=w}for(var N=d.calendar,z="start"===_,k="end"===_,S=p(C[h+"period0"],N)||0,P=[],V=[],E=[],I=u.length,L=0;L<I;L++){var B,$,T,Y=u[L];if(b){for(B=Math.round((Y-S)/(b*c)),T=l(S,b*B,N);T>Y;)T=l(T,-b,N);for(;T<=Y;)T=l(T,b,N);$=l(T,-b,N)}else{for(T=S+(B=Math.round((Y-S)/M))*M;T>Y;)T-=M;for(;T<=Y;)T+=M;$=T-M}P[L]=z?$:k?T:($+T)/2,V[L]=$,E[L]=T}return{vals:P,starts:V,ends:E}}},{"../../constants/numerical":212,"../../lib":232,"fast-isnumeric":17}],277:[function(m,de,ne){"use strict";de.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},{}],278:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("fast-isnumeric"),p=m("../../lib"),l=m("../../constants/numerical").FP_SAFE,c=m("../../registry"),C=m("../../components/drawing"),d=m("./axis_ids"),h=d.getFromId,u=d.isLinked;function _(V,E){var I,L,B=[],$=V._fullLayout,T=M($,E,0),Y=M($,E,1),W=w(V,E),q=W.min,Q=W.max;if(0===q.length||0===Q.length)return p.simpleMap(E.range,E.r2l);var te=q[0].val,ce=Q[0].val;for(I=1;I<q.length&&te===ce;I++)te=Math.min(te,q[I].val);for(I=1;I<Q.length&&te===ce;I++)ce=Math.max(ce,Q[I].val);var me=!1;if(E.range){var ie=p.simpleMap(E.range,E.r2l);me=ie[1]<ie[0]}"reversed"===E.autorange&&(me=!0,E.autorange=!0);var K,le,G,j,oe,re,F=E.rangemode,O="tozero"===F,X="nonnegative"===F,R=E._length,ae=R/10,fe=0;for(I=0;I<q.length;I++)for(K=q[I],L=0;L<Q.length;L++)(re=(le=Q[L]).val-K.val-b(E,K.val,le.val))>0&&((oe=R-T(K)-Y(le))>ae?re/oe>fe&&(G=K,j=le,fe=re/oe):re/R>fe&&(G={val:K.val,nopad:1},j={val:le.val,nopad:1},fe=re/R));if(te===ce){var ue=te-1,pe=te+1;if(O)if(0===te)B=[0,1];else{var xe=(te>0?Q:q).reduce(function(Ae,ze){return Math.max(Ae,Y(ze))},0),Me=te/(1-Math.min(.5,xe/R));B=te>0?[0,Me]:[Me,0]}else B=X?[Math.max(0,ue),Math.max(1,pe)]:[ue,pe]}else O?(G.val>=0&&(G={val:0,nopad:1}),j.val<=0&&(j={val:0,nopad:1})):X&&(G.val-fe*T(G)<0&&(G={val:0,nopad:1}),j.val<=0&&(j={val:1,nopad:1})),fe=(j.val-G.val-b(E,K.val,le.val))/(R-T(G)-Y(j)),B=[G.val-fe*T(G),j.val+fe*Y(j)];return me&&B.reverse(),p.simpleMap(B,E.l2r||Number)}function b(V,E,I){var L=0;if(V.rangebreaks)for(var B=V.locateBreaks(E,I),$=0;$<B.length;$++){var T=B[$];L+=T.max-T.min}return L}function M(V,E,I){var L=.05*E._length,B=E._anchorAxis||{};if(-1!==(E.ticklabelposition||"").indexOf("inside")||-1!==(B.ticklabelposition||"").indexOf("inside")){var $="reversed"===E.autorange;if(!$){var T=p.simpleMap(E.range,E.r2l);$=T[1]<T[0]}$&&(I=!I)}var Y=0;return u(V,E._id)||(Y=function(W,q,Q){var te=0,ce="x"===q._id.charAt(0);for(var me in W._plots){var ie=W._plots[me];if(q._id===ie.xaxis._id||q._id===ie.yaxis._id){var K=(ce?ie.yaxis:ie.xaxis)||{};if(-1!==(K.ticklabelposition||"").indexOf("inside")&&(!Q&&("left"===K.side||"bottom"===K.side)||Q&&("top"===K.side||"right"===K.side))){if(K._vals){var le=p.deg2rad(K._tickAngles[K._id+"tick"]||0),G=Math.abs(Math.cos(le)),j=Math.abs(Math.sin(le));K._vals[0].bb||K._selections[K._id+"tick"].each(function(R){var ae=o.select(this);ae.select(".text-math-group").empty()&&(R.bb=C.bBox(ae.node()))});for(var re=0;re<K._vals.length;re++){var F=K._vals[re].bb;if(F){var O=6+F.width,X=6+F.height;te=Math.max(te,ce?Math.max(O*G,X*j):Math.max(X*G,O*j))}}}"inside"===K.ticks&&"inside"===K.ticklabelposition&&(te+=K.ticklen||0)}}}return te}(V,E,I)),L=Math.max(Y,L),"domain"===E.constrain&&E._inputDomain&&(L*=(E._inputDomain[1]-E._inputDomain[0])/(E.domain[1]-E.domain[0])),function(W){return W.nopad?0:W.pad+(W.extrapad?L:Y)}}function w(V,E,I){var L,B,$,T=E._id,W=V._fullLayout,q=[],Q=[];function te(le,G){for(L=0;L<G.length;L++){var j=le[G[L]],oe=(j._extremes||{})[T];if(!0===j.visible&&oe){for(B=0;B<oe.min.length;B++)N(q,($=oe.min[B]).val,$.pad,{extrapad:$.extrapad});for(B=0;B<oe.max.length;B++)z(Q,($=oe.max[B]).val,$.pad,{extrapad:$.extrapad})}}}if(te(V._fullData,E._traceIndices),te(W.annotations||[],E._annIndices||[]),te(W.shapes||[],E._shapeIndices||[]),E._matchGroup&&!I)for(var ce in E._matchGroup)if(ce!==E._id){var me=h(V,ce),ie=w(V,me,!0),K=E._length/me._length;for(B=0;B<ie.min.length;B++)N(q,($=ie.min[B]).val,$.pad*K,{extrapad:$.extrapad});for(B=0;B<ie.max.length;B++)z(Q,($=ie.max[B]).val,$.pad*K,{extrapad:$.extrapad})}return{min:q,max:Q}}function N(V,E,I,L){k(V,E,I,L,S)}function z(V,E,I,L){k(V,E,I,L,P)}function k(V,E,I,L,B){for(var $=L.tozero,T=L.extrapad,Y=!0,W=0;W<V.length&&Y;W++){var q=V[W];if(B(q.val,E)&&q.pad>=I&&(q.extrapad||!T)){Y=!1;break}B(E,q.val)&&q.pad<=I&&(T||!q.extrapad)&&(V.splice(W,1),W--)}if(Y){var Q=$&&0===E;V.push({val:E,pad:Q?0:I,extrapad:!Q&&T})}}function D(V){return g(V)&&Math.abs(V)<l}function S(V,E){return V<=E}function P(V,E){return V>=E}de.exports={getAutoRange:_,makePadFn:M,doAutoRange:function(V,E,I){if(E.setScale(),E.autorange){E.range=I?I.slice():_(V,E),E._r=E.range.slice(),E._rl=p.simpleMap(E._r,E.r2l);var L=E._input,B={};B[E._attr+".range"]=E.range,B[E._attr+".autorange"]=E.autorange,c.call("_storeDirectGUIEdit",V.layout,V._fullLayout._preGUI,B),L.range=E.range.slice(),L.autorange=E.autorange}var $=E._anchorAxis;if($&&$.rangeslider){var T=$.rangeslider[E._name];T&&"auto"===T.rangemode&&(T.range=_(V,E)),$._input.rangeslider[E._name]=p.extendFlat({},T)}},findExtremes:function(V,E,I){I||(I={}),V._m||V.setScale();var L,B,$,T,Y,W,q,Q,te,ce=[],me=[],ie=E.length,K=I.padded||!1,le=I.tozero&&("linear"===V.type||"-"===V.type),G="log"===V.type,j=!1,oe=I.vpadLinearized||!1;function re(pe){if(Array.isArray(pe))return j=!0,function(Me){return Math.max(Number(pe[Me]||0),0)};var xe=Math.max(Number(pe||0),0);return function(){return xe}}var F=re((V._m>0?I.ppadplus:I.ppadminus)||I.ppad||0),O=re((V._m>0?I.ppadminus:I.ppadplus)||I.ppad||0),X=re(I.vpadplus||I.vpad),R=re(I.vpadminus||I.vpad);if(!j){if(Q=1/0,te=-1/0,G)for(L=0;L<ie;L++)(B=E[L])<Q&&B>0&&(Q=B),B>te&&B<l&&(te=B);else for(L=0;L<ie;L++)(B=E[L])<Q&&B>-l&&(Q=B),B>te&&B<l&&(te=B);E=[Q,te],ie=2}var ae={tozero:le,extrapad:K};function fe(pe){g($=E[pe])&&(W=F(pe),q=O(pe),oe?(T=V.c2l($)-R(pe),Y=V.c2l($)+X(pe)):(Q=$-R(pe),te=$+X(pe),G&&Q<te/10&&(Q=te/10),T=V.c2l(Q),Y=V.c2l(te)),le&&(T=Math.min(0,T),Y=Math.max(0,Y)),D(T)&&N(ce,T,q,ae),D(Y)&&z(me,Y,W,ae))}var ue=Math.min(6,ie);for(L=0;L<ue;L++)fe(L);for(L=ie-1;L>=ue;L--)fe(L);return{min:ce,max:me,opts:I}},concatExtremes:w}},{"../../components/drawing":124,"../../constants/numerical":212,"../../lib":232,"../../registry":318,"./axis_ids":283,"@plotly/d3":11,"fast-isnumeric":17}],279:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("fast-isnumeric"),p=m("../../plots/plots"),l=m("../../registry"),c=m("../../lib"),C=c.strTranslate,d=m("../../lib/svg_text_utils"),h=m("../../components/titles"),u=m("../../components/color"),_=m("../../components/drawing"),b=m("./layout_attributes"),M=m("./clean_ticks"),w=m("../../constants/numerical"),N=w.ONEMAXYEAR,z=w.ONEAVGYEAR,k=w.ONEMINYEAR,D=w.ONEMAXQUARTER,S=w.ONEAVGQUARTER,P=w.ONEMINQUARTER,V=w.ONEMAXMONTH,E=w.ONEAVGMONTH,I=w.ONEMINMONTH,L=w.ONEWEEK,B=w.ONEDAY,$=B/2,T=w.ONEHOUR,Y=w.ONEMIN,W=w.ONESEC,q=w.MINUS_SIGN,Q=w.BADNUM,te={K:"zeroline"},ce={K:"gridline",L:"path"},me={K:"minor-gridline",L:"path"},ie={K:"tick",L:"path"},K={K:"tick",L:"text"},le=m("../../constants/alignment"),G=le.MID_SHIFT,j=le.CAP_SHIFT,oe=le.LINE_SPACING,re=le.OPPOSITE_SIDE,F=de.exports={};F.setConvert=m("./set_convert");var O=m("./axis_autotype"),X=m("./axis_ids"),R=X.idSort,ae=X.isLinked;F.id2name=X.id2name,F.name2id=X.name2id,F.cleanId=X.cleanId,F.list=X.list,F.listIds=X.listIds,F.getFromId=X.getFromId,F.getFromTrace=X.getFromTrace;var fe=m("./autorange");function ue(ge){var ye=1e-4*(ge[1]-ge[0]);return[ge[0]-ye,ge[1]+ye]}F.getAutoRange=fe.getAutoRange,F.findExtremes=fe.findExtremes,F.coerceRef=function(ge,ye,We,e1,d1,a1){var l1=e1.charAt(e1.length-1),c1=We._fullLayout._subplots[l1+"axis"],w1=e1+"ref",T1={};return d1||(d1=c1[0]||("string"==typeof a1?a1:a1[0])),a1||(a1=d1),c1=c1.concat(c1.map(function(B1){return B1+" domain"})),T1[w1]={valType:"enumerated",values:c1.concat(a1?"string"==typeof a1?[a1]:a1:[]),dflt:d1},c.coerce(ge,ye,T1,w1)},F.getRefType=function(ge){return void 0===ge?ge:"paper"===ge?"paper":"pixel"===ge?"pixel":/( domain)$/.test(ge)?"domain":"range"},F.coercePosition=function(ge,ye,We,e1,d1,a1){var l1,c1;if("range"!==F.getRefType(e1))l1=c.ensureNumber,c1=We(d1,a1);else{var w1=F.getFromId(ye,e1);c1=We(d1,a1=w1.fraction2r(a1)),l1=w1.cleanPos}ge[d1]=l1(c1)},F.cleanPosition=function(ge,ye,We){return("paper"===We||"pixel"===We?c.ensureNumber:F.getFromId(ye,We).cleanPos)(ge)},F.redrawComponents=function(ge,ye){ye=ye||F.listIds(ge);var We=ge._fullLayout;function e1(d1,a1,l1,c1){for(var w1=l.getComponentMethod(d1,a1),T1={},B1=0;B1<ye.length;B1++)for(var rt=We[F.id2name(ye[B1])][l1],H1=0;H1<rt.length;H1++){var Y1=rt[H1];if(!T1[Y1]&&(w1(ge,Y1),T1[Y1]=1,c1))return}}e1("annotations","drawOne","_annIndices"),e1("shapes","drawOne","_shapeIndices"),e1("images","draw","_imgIndices",!0)};var pe=F.getDataConversions=function(ge,ye,We,e1){var d1,a1="x"===We||"y"===We||"z"===We?We:e1;if(Array.isArray(a1)){if(d1={type:O(e1,void 0,{autotypenumbers:ge._fullLayout.autotypenumbers}),_categories:[]},F.setConvert(d1),"category"===d1.type)for(var l1=0;l1<e1.length;l1++)d1.d2c(e1[l1])}else d1=F.getFromTrace(ge,ye,a1);return d1?{d2c:d1.d2c,c2d:d1.c2d}:"ids"===a1?{d2c:Me,c2d:Me}:{d2c:xe,c2d:xe}};function xe(ge){return+ge}function Me(ge){return String(ge)}function Ae(ge,ye){return Math.abs((ge/ye+.5)%1-.5)<.001}function ze(ge,ye){return Math.abs(ge/ye-1)<.001}function Fe(ge){return+ge.substring(1)}function Ue(ge){var ye=ue(c.simpleMap(ge.range,ge.r2l)),We=Math.min(ye[0],ye[1]),e1=Math.max(ye[0],ye[1]),d1="category"===ge.type?ge.d2l_noadd:ge.d2l;"log"===ge.type&&"L"!==String(ge.dtick).charAt(0)&&(ge.dtick="L"+Math.pow(10,Math.floor(Math.min(ge.range[0],ge.range[1]))-1));for(var a1=[],l1=0;l1<=1;l1++)if(!l1||ge.minor){var c1=l1?ge.minor.tickvals:ge.tickvals,w1=l1?[]:ge.ticktext;if(c1){Array.isArray(w1)||(w1=[]);for(var T1=0;T1<c1.length;T1++){var B1=d1(c1[T1]);if(B1>We&&B1<e1){var rt=void 0===w1[T1]?F.tickText(ge,B1):Re(ge,B1,String(w1[T1]));l1&&(rt.minor=!0,rt.text=""),a1.push(rt)}}}}return ge.rangebreaks&&(a1=a1.filter(function(H1){return ge.maskBreaks(H1.x)!==Q})),a1}F.getDataToCoordFunc=function(ge,ye,We,e1){return pe(ge,ye,We,e1).d2c},F.counterLetter=function(ge){var ye=ge.charAt(0);return"x"===ye?"y":"y"===ye?"x":void 0},F.minDtick=function(ge,ye,We,e1){-1===["log","category","multicategory"].indexOf(ge.type)&&e1?void 0===ge._minDtick?(ge._minDtick=ye,ge._forceTick0=We):ge._minDtick&&((ge._minDtick/ye+1e-6)%1<2e-6&&((We-ge._forceTick0)/ye%1+1.000001)%1<2e-6?(ge._minDtick=ye,ge._forceTick0=We):((ye/ge._minDtick+1e-6)%1>2e-6||((We-ge._forceTick0)/ge._minDtick%1+1.000001)%1>2e-6)&&(ge._minDtick=0)):ge._minDtick=0},F.saveRangeInitial=function(ge,ye){for(var We=F.list(ge,"",!0),e1=!1,d1=0;d1<We.length;d1++){var a1=We[d1],l1=void 0===a1._rangeInitial;(l1&&!1===a1.autorange||ye&&(l1||a1.range[0]!==a1._rangeInitial[0]||a1.range[1]!==a1._rangeInitial[1]))&&(a1._rangeInitial=a1.range.slice(),e1=!0)}return e1},F.saveShowSpikeInitial=function(ge,ye){for(var We=F.list(ge,"",!0),e1=!1,d1="on",a1=0;a1<We.length;a1++){var l1=We[a1],c1=void 0===l1._showSpikeInitial;(c1||ye&&(c1||l1.showspikes!==l1._showspikes))&&(l1._showSpikeInitial=l1.showspikes,e1=!0),"on"!==d1||l1.showspikes||(d1="off")}return ge._fullLayout._cartesianSpikesEnabled=d1,e1},F.autoBin=function(ge,ye,We,e1,d1,a1){var l1,c1=c.aggNums(Math.min,null,ge),w1=c.aggNums(Math.max,null,ge);if("category"===ye.type||"multicategory"===ye.type)return{start:c1-.5,end:w1+.5,size:Math.max(1,Math.round(a1)||1),_dataSpan:w1-c1};if(d1||(d1=ye.calendar),l1="log"===ye.type?{type:"linear",range:[c1,w1]}:{type:ye.type,range:c.simpleMap([c1,w1],ye.c2r,0,d1),calendar:d1},F.setConvert(l1),a1=a1&&M.dtick(a1,l1.type))l1.dtick=a1,l1.tick0=M.tick0(void 0,l1.type,d1);else{var T1;if(We)T1=(w1-c1)/We;else{var B1=c.distinctVals(ge),rt=Math.pow(10,Math.floor(Math.log(B1.minDiff)/Math.LN10)),H1=rt*c.roundUp(B1.minDiff/rt,[.9,1.9,4.9,9.9],!0);T1=Math.max(H1,2*c.stdev(ge)/Math.pow(ge.length,e1?.25:.4)),g(T1)||(T1=1)}F.autoTicks(l1,T1)}var Y1,ut=l1.dtick,k1=F.tickIncrement(F.tickFirst(l1),ut,"reverse",d1);if("number"==typeof ut)Y1=(k1=function(L1,it,X1,j1,et){var P1=0,xt=0,yt=0,wt=0;function Ft(K1){return(1+100*(K1-L1)/X1.dtick)%100<2}for(var Ot=0;Ot<it.length;Ot++)it[Ot]%1==0?yt++:g(it[Ot])||wt++,Ft(it[Ot])&&P1++,Ft(it[Ot]+X1.dtick/2)&&xt++;var Dt=it.length-wt;if(yt===Dt&&"date"!==X1.type)X1.dtick<1?L1=j1-.5*X1.dtick:(L1-=.5)+X1.dtick<j1&&(L1+=X1.dtick);else if(xt<.1*Dt&&(P1>.3*Dt||Ft(j1)||Ft(et))){var G1=X1.dtick/2;L1+=L1+G1<j1?G1:-G1}return L1}(k1,ge,l1,c1,w1))+(1+Math.floor((w1-k1)/ut))*ut;else for("M"===l1.dtick.charAt(0)&&(k1=function(L1,it,X1,j1,et){var P1=c.findExactDates(it,et);if(P1.exactDays>.8){var xt=Number(X1.substr(1));P1.exactYears>.8&&xt%12==0?L1=F.tickIncrement(L1,"M6","reverse")+1.5*B:P1.exactMonths>.8?L1=F.tickIncrement(L1,"M1","reverse")+15.5*B:L1-=$;var yt=F.tickIncrement(L1,X1);if(yt<=j1)return yt}return L1}(k1,ge,ut,c1,d1)),Y1=k1;Y1<=w1;)Y1=F.tickIncrement(Y1,ut,!1,d1);return{start:ye.c2r(k1,0,d1),end:ye.c2r(Y1,0,d1),size:ut,_dataSpan:w1-c1}},F.prepMinorTicks=function(ge,ye,We){if(!ye.minor.dtick){delete ge.dtick;var e1,d1=ye.dtick&&g(ye._tmin);if(d1){var a1=F.tickIncrement(ye._tmin,ye.dtick,!0);e1=[ye._tmin,.99*a1+.01*ye._tmin]}else{var l1=c.simpleMap(ye.range,ye.r2l);e1=[l1[0],.8*l1[0]+.2*l1[1]]}if(ge.range=c.simpleMap(e1,ye.l2r),ge._isMinor=!0,F.prepTicks(ge,We),d1){var c1=g(ye.dtick),w1=g(ge.dtick),T1=c1?ye.dtick:+ye.dtick.substring(1),B1=w1?ge.dtick:+ge.dtick.substring(1);c1&&w1?Ae(T1,B1)?T1===2*L&&B1===2*B&&(ge.dtick=L):ge.dtick=T1===2*L&&B1===3*B?L:T1!==L||(ye._input.minor||{}).nticks?ze(T1/B1,2.5)?T1/2:T1:B:"M"===String(ye.dtick).charAt(0)?w1?ge.dtick="M1":Ae(T1,B1)?T1>=12&&2===B1&&(ge.dtick="M3"):ge.dtick=ye.dtick:"L"===String(ge.dtick).charAt(0)?"L"===String(ye.dtick).charAt(0)?Ae(T1,B1)||(ge.dtick=ze(T1/B1,2.5)?ye.dtick/2:ye.dtick):ge.dtick="D1":"D2"===ge.dtick&&+ye.dtick>1&&(ge.dtick=1)}ge.range=ye.range}void 0===ye.minor._tick0Init&&(ge.tick0=ye.tick0)},F.prepTicks=function(ge,ye){var We=c.simpleMap(ge.range,ge.r2l,void 0,void 0,ye);if("auto"===ge.tickmode||!ge.dtick){var e1,d1=ge.nticks;d1||("category"===ge.type||"multicategory"===ge.type?(e1=ge.tickfont?c.bigFont(ge.tickfont.size||12):15,d1=ge._length/e1):(e1="y"===ge._id.charAt(0)?40:80,d1=c.constrain(ge._length/e1,4,9)+1),"radialaxis"===ge._name&&(d1*=2)),ge.minor&&"array"!==ge.minor.tickmode||"array"===ge.tickmode&&(d1*=100),ge._roughDTick=Math.abs(We[1]-We[0])/d1,F.autoTicks(ge,ge._roughDTick),ge._minDtick>0&&ge.dtick<2*ge._minDtick&&(ge.dtick=ge._minDtick,ge.tick0=ge.l2r(ge._forceTick0))}"period"===ge.ticklabelmode&&function(a1){var l1;function c1(){return!(g(a1.dtick)||"M"!==a1.dtick.charAt(0))}var w1=c1(),T1=F.getTickFormat(a1);if(T1){var B1=a1._dtickInit!==a1.dtick;/%[fLQsSMX]/.test(T1)||(/%[HI]/.test(T1)?(l1=T,B1&&!w1&&a1.dtick<T&&(a1.dtick=T)):/%p/.test(T1)?(l1=$,B1&&!w1&&a1.dtick<$&&(a1.dtick=$)):/%[Aadejuwx]/.test(T1)?(l1=B,B1&&!w1&&a1.dtick<B&&(a1.dtick=B)):/%[UVW]/.test(T1)?(l1=L,B1&&!w1&&a1.dtick<L&&(a1.dtick=L)):/%[Bbm]/.test(T1)?(l1=E,B1&&(w1?Fe(a1.dtick)<1:a1.dtick<I)&&(a1.dtick="M1")):/%[q]/.test(T1)?(l1=S,B1&&(w1?Fe(a1.dtick)<3:a1.dtick<P)&&(a1.dtick="M3")):/%[Yy]/.test(T1)&&(l1=z,B1&&(w1?Fe(a1.dtick)<12:a1.dtick<k)&&(a1.dtick="M12")))}(w1=c1())&&a1.tick0===a1._dowTick0&&(a1.tick0=a1._rawTick0),a1._definedDelta=l1}(ge),ge.tick0||(ge.tick0="date"===ge.type?"2000-01-01":0),"date"===ge.type&&ge.dtick<.1&&(ge.dtick=.1),Ie(ge)},F.calcTicks=function(ge,ye){for(var We,e1,d1=ge.type,a1=ge.calendar,l1=ge.ticklabelstep,c1="period"===ge.ticklabelmode,w1=c.simpleMap(ge.range,ge.r2l,void 0,void 0,ye),T1=w1[1]<w1[0],B1=Math.min(w1[0],w1[1]),rt=Math.max(w1[0],w1[1]),H1=Math.max(1e3,ge._length||0),Y1=[],ut=[],k1=[],L1=[],it=ge.minor&&(ge.minor.ticks||ge.minor.showgrid),X1=1;X1>=(it?0:1);X1--){var j1=!X1;X1?(ge._dtickInit=ge.dtick,ge._tick0Init=ge.tick0):(ge.minor._dtickInit=ge.minor.dtick,ge.minor._tick0Init=ge.minor.tick0);var et=X1?ge:c.extendFlat({},ge,ge.minor);if(j1?F.prepMinorTicks(et,ge,ye):F.prepTicks(et,ye),"array"!==et.tickmode){var P1=ue(w1),xt=P1[0],yt=P1[1],wt=g(et.dtick),Ft="log"===d1&&!(wt||"L"===et.dtick.charAt(0)),Ot=F.tickFirst(et,ye);if(X1){if(ge._tmin=Ot,Ot<xt!==T1)break;"category"!==d1&&"multicategory"!==d1||(yt=T1?Math.max(-.5,yt):Math.min(ge._categories.length-.5,yt))}var Dt,G1,K1=null,tt=Ot;X1&&(wt?G1=ge.dtick:"date"===d1?"string"==typeof ge.dtick&&"M"===ge.dtick.charAt(0)&&(G1=E*ge.dtick.substring(1)):G1=ge._roughDTick,Dt=Math.round((ge.r2l(tt)-ge.r2l(ge.tick0))/G1)-1);var dt=et.dtick;for(et.rangebreaks&&et._tick0Init!==et.tick0&&(tt=$1(tt,ge),T1||(tt=F.tickIncrement(tt,dt,!T1,a1))),X1&&c1&&(tt=F.tickIncrement(tt,dt,!T1,a1),Dt--);T1?tt>=yt:tt<=yt;tt=F.tickIncrement(tt,dt,T1,a1)){if(X1&&Dt++,et.rangebreaks&&!T1){if(tt<xt)continue;if(et.maskBreaks(tt)===Q&&$1(tt,et)>=rt)break}if(k1.length>H1||tt===K1)break;K1=tt;var ot={value:tt};X1?(Ft&&tt!==(0|tt)&&(ot.simpleLabel=!0),l1>1&&Dt%l1&&(ot.skipLabel=!0),k1.push(ot)):(ot.minor=!0,L1.push(ot))}}else X1?(k1=[],Y1=Ue(ge)):(L1=[],ut=Ue(ge))}if(it&&!("inside"===ge.minor.ticks&&"outside"===ge.ticks||"outside"===ge.minor.ticks&&"inside"===ge.ticks)){for(var gt=k1.map(function(_2){return _2.value}),Gt=[],Qt=0;Qt<L1.length;Qt++){var Vt=L1[Qt],kt=Vt.value;if(-1===gt.indexOf(kt)){for(var f2=!1,p2=0;!f2&&p2<k1.length;p2++)1e7+k1[p2].value===1e7+kt&&(f2=!0);f2||Gt.push(Vt)}}L1=Gt}if(c1&&function(_2,e2,Rt){for(var mt=0;mt<_2.length;mt++){var b2=_2[mt].value,mn=mt,G2=mt+1;mt<_2.length-1?(mn=mt,G2=mt+1):mt>0?(mn=mt-1,G2=mt):(mn=mt,G2=mt);var $2,vn=Math.abs(_2[G2].value-_2[mn].value),wn=Rt||vn,E2=0;wn>=k?E2=vn>=k&&vn<=N?vn:z:Rt===S&&wn>=P?E2=vn>=P&&vn<=D?vn:S:wn>=I?E2=vn>=I&&vn<=V?vn:E:Rt===L&&wn>=L?E2=L:wn>=B?E2=B:Rt===$&&wn>=$?E2=$:Rt===T&&wn>=T&&(E2=T),E2>=vn&&(E2=vn,$2=!0);var J2=b2+E2;if(e2.rangebreaks&&E2>0){for(var H3=0,nr=0;nr<84;nr++){var yr=(nr+.5)/84;e2.maskBreaks(b2*(1-yr)+yr*J2)!==Q&&H3++}(E2*=H3/84)||(_2[mt].drop=!0),$2&&vn>L&&(E2=vn)}(E2>0||0===mt)&&(_2[mt].periodX=b2+E2/2)}}(k1,ge,ge._definedDelta),ge.rangebreaks){var Bt="y"===ge._id.charAt(0),Kt=1;"auto"===ge.tickmode&&(Kt=ge.tickfont?ge.tickfont.size:12);var Pt=NaN;for(We=k1.length-1;We>-1;We--)if(k1[We].drop)k1.splice(We,1);else{k1[We].value=$1(k1[We].value,ge);var m2=ge.c2p(k1[We].value);(Bt?Pt>m2-Kt:Pt<m2+Kt)?k1.splice(T1?We+1:We,1):Pt=m2}}st(ge)&&360===Math.abs(w1[1]-w1[0])&&k1.pop(),ge._tmax=(k1[k1.length-1]||{}).value,ge._prevDateHead="",ge._inCalcTicks=!0;var zt,y2,d2=function(_2){_2.text="",ge._prevDateHead=e1};for(k1=k1.concat(L1),We=0;We<k1.length;We++){var u2=k1[We].value;k1[We].minor?ut.push({x:u2,minor:!0}):(e1=ge._prevDateHead,zt=F.tickText(ge,u2,!1,k1[We].simpleLabel),void 0!==(y2=k1[We].periodX)&&(zt.periodX=y2,(y2>rt||y2<B1)&&(y2>rt&&(zt.periodX=rt),y2<B1&&(zt.periodX=B1),d2(zt))),k1[We].skipLabel&&d2(zt),Y1.push(zt))}return Y1=Y1.concat(ut),ge._inCalcTicks=!1,c1&&Y1.length&&(Y1[0].noTick=!0),Y1};var t1=[2,5,10],Xe=[1,2,3,6,12],Ge=[1,2,5,10,15,30],we=[1,2,3,7,14],ve=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],De=[-.301,0,.301,.699,1],Ve=[15,30,45,90,180];function qe(ge,ye,We){return ye*c.roundUp(ge/ye,We)}function Ie(ge){var ye=ge.dtick;if(ge._tickexponent=0,g(ye)||"string"==typeof ye||(ye=1),"category"!==ge.type&&"multicategory"!==ge.type||(ge._tickround=null),"date"===ge.type){var We=ge.r2l(ge.tick0),e1=ge.l2r(We).replace(/(^-|i)/g,""),d1=e1.length;if("M"===String(ye).charAt(0))ge._tickround=d1>10||"01-01"!==e1.substr(5)?"d":+ye.substr(1)%12==0?"y":"m";else if(ye>=B&&d1<=10||ye>=15*B)ge._tickround="d";else if(ye>=Y&&d1<=16||ye>=T)ge._tickround="M";else if(ye>=W&&d1<=19||ye>=Y)ge._tickround="S";else{var a1=ge.l2r(We+ye).replace(/^-/,"").length;ge._tickround=Math.max(d1,a1)-20,ge._tickround<0&&(ge._tickround=4)}}else if(g(ye)||"L"===ye.charAt(0)){var l1=ge.range.map(ge.r2d||Number);g(ye)||(ye=Number(ye.substr(1))),ge._tickround=2-Math.floor(Math.log(ye)/Math.LN10+.01);var c1=Math.max(Math.abs(l1[0]),Math.abs(l1[1])),w1=Math.floor(Math.log(c1)/Math.LN10+.01),T1=void 0===ge.minexponent?3:ge.minexponent;Math.abs(w1)>T1&&(ge._tickexponent=n1(ge.exponentformat)&&!Ye(w1)?3*Math.round((w1-1)/3):w1)}else ge._tickround=null}function Re(ge,ye,We){var e1=ge.tickfont||{};return{x:ye,dx:0,dy:0,text:We||"",fontSize:e1.size,font:e1.family,fontColor:e1.color}}F.autoTicks=function(ge,ye,We){var e1;function d1(rt){return Math.pow(rt,Math.floor(Math.log(ye)/Math.LN10))}if("date"===ge.type){ge.tick0=c.dateTick0(ge.calendar,0);var a1=2*ye;if(a1>z)ye/=z,e1=d1(10),ge.dtick="M"+12*qe(ye,e1,t1);else if(a1>E)ge.dtick="M"+qe(ye/=E,1,Xe);else if(a1>B){if(ge.dtick=qe(ye,B,ge._hasDayOfWeekBreaks?[1,2,7,14]:we),!We){var l1=F.getTickFormat(ge),c1="period"===ge.ticklabelmode;c1&&(ge._rawTick0=ge.tick0),ge.tick0=/%[uVW]/.test(l1)?c.dateTick0(ge.calendar,2):c.dateTick0(ge.calendar,1),c1&&(ge._dowTick0=ge.tick0)}}else a1>T?ge.dtick=qe(ye,T,Xe):a1>Y?ge.dtick=qe(ye,Y,Ge):a1>W?ge.dtick=qe(ye,W,Ge):(e1=d1(10),ge.dtick=qe(ye,e1,t1))}else if("log"===ge.type){ge.tick0=0;var w1=c.simpleMap(ge.range,ge.r2l);if(ge._isMinor&&(ye*=1.5),ye>.7)ge.dtick=Math.ceil(ye);else if(Math.abs(w1[1]-w1[0])<1){var T1=1.5*Math.abs((w1[1]-w1[0])/ye);ye=Math.abs(Math.pow(10,w1[1])-Math.pow(10,w1[0]))/T1,e1=d1(10),ge.dtick="L"+qe(ye,e1,t1)}else ge.dtick=ye>.3?"D2":"D1"}else"category"===ge.type||"multicategory"===ge.type?(ge.tick0=0,ge.dtick=Math.ceil(Math.max(ye,1))):st(ge)?(ge.tick0=0,ge.dtick=qe(ye,e1=1,Ve)):(ge.tick0=0,e1=d1(10),ge.dtick=qe(ye,e1,t1));if(0===ge.dtick&&(ge.dtick=1),!g(ge.dtick)&&"string"!=typeof ge.dtick){var B1=ge.dtick;throw ge.dtick=1,"ax.dtick error: "+String(B1)}},F.tickIncrement=function(ge,ye,We,e1){var d1=We?-1:1;if(g(ye))return c.increment(ge,d1*ye);var a1=ye.charAt(0),l1=d1*Number(ye.substr(1));if("M"===a1)return c.incrementMonth(ge,l1,e1);if("L"===a1)return Math.log(Math.pow(10,ge)+l1)/Math.LN10;if("D"===a1){var c1="D2"===ye?De:ve,w1=ge+.01*d1,T1=c.roundUp(c.mod(w1,1),c1,We);return Math.floor(w1)+Math.log(o.round(Math.pow(10,T1),1))/Math.LN10}throw"unrecognized dtick "+String(ye)},F.tickFirst=function(ge,ye){var We=ge.r2l||Number,e1=c.simpleMap(ge.range,We,void 0,void 0,ye),d1=e1[1]<e1[0],a1=d1?Math.floor:Math.ceil,l1=ue(e1)[0],c1=ge.dtick,w1=We(ge.tick0);if(g(c1)){var T1=a1((l1-w1)/c1)*c1+w1;return"category"!==ge.type&&"multicategory"!==ge.type||(T1=c.constrain(T1,0,ge._categories.length-1)),T1}var B1=c1.charAt(0),rt=Number(c1.substr(1));if("M"===B1){for(var H1,Y1,ut,k1=0,L1=w1;k1<10;){if(((H1=F.tickIncrement(L1,c1,d1,ge.calendar))-l1)*(L1-l1)<=0)return d1?Math.min(L1,H1):Math.max(L1,H1);Y1=(l1-(L1+H1)/2)/(H1-L1),ut=B1+(Math.abs(Math.round(Y1))||1)*rt,L1=F.tickIncrement(L1,ut,Y1<0?!d1:d1,ge.calendar),k1++}return c.error("tickFirst did not converge",ge),L1}if("L"===B1)return Math.log(a1((Math.pow(10,l1)-w1)/rt)*rt+w1)/Math.LN10;if("D"===B1){var it="D2"===c1?De:ve,X1=c.roundUp(c.mod(l1,1),it,d1);return Math.floor(l1)+Math.log(o.round(Math.pow(10,X1),1))/Math.LN10}throw"unrecognized dtick "+String(c1)},F.tickText=function(ge,ye,We,e1){var d1,a1=Re(ge,ye),l1="array"===ge.tickmode,c1=We||l1,w1=ge.type,T1="category"===w1?ge.d2l_noadd:ge.d2l;if(l1&&Array.isArray(ge.ticktext)){var B1=c.simpleMap(ge.range,ge.r2l),rt=(Math.abs(B1[1]-B1[0])-(ge._lBreaks||0))/1e4;for(d1=0;d1<ge.ticktext.length&&!(Math.abs(ye-T1(ge.tickvals[d1]))<rt);d1++);if(d1<ge.ticktext.length)return a1.text=String(ge.ticktext[d1]),a1}function H1(k1){return void 0===k1||(We?"none"===k1:"all"!==k1&&ye!=={first:ge._tmin,last:ge._tmax}[k1])}var L1,it,Y1=We?"never":"none"!==ge.exponentformat&&H1(ge.showexponent)?"hide":"";if("date"===w1?function(k1,L1,it,X1){var j1=k1._tickround,et=it&&k1.hoverformat||F.getTickFormat(k1);X1&&(j1=g(j1)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[j1]);var P1,xt=c.formatDate(L1.x,et,j1,k1._dateFormat,k1.calendar,k1._extraFormat),yt=xt.indexOf("\n");if(-1!==yt&&(P1=xt.substr(yt+1),xt=xt.substr(0,yt)),X1&&("00:00:00"===xt||"00:00"===xt?(xt=P1,P1=""):8===xt.length&&(xt=xt.replace(/:00$/,""))),P1)if(it)"d"===j1?xt+=", "+P1:xt=P1+(xt?", "+xt:"");else if(k1._inCalcTicks&&k1._prevDateHead===P1){var wt=Z1(k1),Ft=k1._trueSide||k1.side;(!wt&&"top"===Ft||wt&&"bottom"===Ft)&&(xt+="<br> ")}else k1._prevDateHead=P1,xt+="<br>"+P1;L1.text=xt}(ge,a1,We,c1):"log"===w1?function(k1,L1,it,X1,j1){var et=k1.dtick,P1=L1.x,xt=k1.tickformat,yt="string"==typeof et&&et.charAt(0);if("never"===j1&&(j1=""),X1&&"L"!==yt&&(et="L3",yt="L"),xt||"L"===yt)L1.text=r1(Math.pow(10,P1),k1,j1,X1);else if(g(et)||"D"===yt&&c.mod(P1+.01,1)<.1){var wt=Math.round(P1),Ft=Math.abs(wt),Ot=k1.exponentformat;"power"===Ot||n1(Ot)&&Ye(wt)?(L1.text=0===wt?1:1===wt?"10":"10<sup>"+(wt>1?"":q)+Ft+"</sup>",L1.fontSize*=1.25):("e"===Ot||"E"===Ot)&&Ft>2?L1.text="1"+Ot+(wt>0?"+":q)+Ft:(L1.text=r1(Math.pow(10,P1),k1,"","fakehover"),"D1"===et&&"y"===k1._id.charAt(0)&&(L1.dy-=L1.fontSize/6))}else{if("D"!==yt)throw"unrecognized dtick "+String(et);L1.text=String(Math.round(Math.pow(10,c.mod(P1,1)))),L1.fontSize*=.75}if("D1"===k1.dtick){var Dt=String(L1.text).charAt(0);"0"!==Dt&&"1"!==Dt||("y"===k1._id.charAt(0)?L1.dx-=L1.fontSize/4:(L1.dy+=L1.fontSize/2,L1.dx+=(k1.range[1]>k1.range[0]?1:-1)*L1.fontSize*(P1<0?.5:.25)))}}(ge,a1,0,c1,Y1):"category"===w1?(L1=a1,void 0===(it=ge._categories[Math.round(L1.x)])&&(it=""),L1.text=String(it)):"multicategory"===w1?function(k1,L1,it){var X1=Math.round(L1.x),j1=k1._categories[X1]||[],et=void 0===j1[1]?"":String(j1[1]),P1=void 0===j1[0]?"":String(j1[0]);it?L1.text=P1+" - "+et:(L1.text=et,L1.text2=P1)}(ge,a1,We):st(ge)?function(k1,L1,it,X1,j1){if("radians"!==k1.thetaunit||it)L1.text=r1(L1.x,k1,j1,X1);else{var et=L1.x/180;if(0===et)L1.text="0";else{var P1=function(yt){function wt(G1,K1){return Math.abs(G1-K1)<=1e-6}var Ft=function(G1){for(var K1=1;!wt(Math.round(G1*K1)/K1,G1);)K1*=10;return K1}(yt),Ot=yt*Ft,Dt=Math.abs(function G1(K1,tt){return wt(tt,0)?K1:G1(tt,K1%tt)}(Ot,Ft));return[Math.round(Ot/Dt),Math.round(Ft/Dt)]}(et);if(P1[1]>=100)L1.text=r1(c.deg2rad(L1.x),k1,j1,X1);else{var xt=L1.x<0;L1.text=1===P1[1]?1===P1[0]?"\u03c0":P1[0]+"\u03c0":["<sup>",P1[0],"</sup>","\u2044","<sub>",P1[1],"</sub>","\u03c0"].join(""),xt&&(L1.text=q+L1.text)}}}}(ge,a1,We,c1,Y1):function(k1,L1,it,X1,j1){"never"===j1?j1="":"all"===k1.showexponent&&Math.abs(L1.x/k1.dtick)<1e-6&&(j1="hide"),L1.text=r1(L1.x,k1,j1,X1)}(ge,a1,0,c1,Y1),e1||(ge.tickprefix&&!H1(ge.showtickprefix)&&(a1.text=ge.tickprefix+a1.text),ge.ticksuffix&&!H1(ge.showticksuffix)&&(a1.text+=ge.ticksuffix)),"boundaries"===ge.tickson||ge.showdividers){var ut=function(k1){var L1=ge.l2p(k1);return L1>=0&&L1<=ge._length?k1:null};a1.xbnd=[ut(a1.x-.5),ut(a1.x+ge.dtick-.5)]}return a1},F.hoverLabelText=function(ge,ye,We){We&&(ge=c.extendFlat({},ge,{hoverformat:We}));var e1=Array.isArray(ye)?ye[0]:ye,d1=Array.isArray(ye)?ye[1]:void 0;if(void 0!==d1&&d1!==e1)return F.hoverLabelText(ge,e1,We)+" - "+F.hoverLabelText(ge,d1,We);var a1="log"===ge.type&&e1<=0,l1=F.tickText(ge,ge.c2l(a1?-e1:e1),"hover").text;return a1?0===e1?"0":q+l1:l1};var Qe=["f","p","n","\u03bc","m","","k","M","G","T"];function n1(ge){return"SI"===ge||"B"===ge}function Ye(ge){return ge>14||ge<-15}function r1(ge,ye,We,e1){var d1=ge<0,a1=ye._tickround,l1=We||ye.exponentformat||"B",c1=ye._tickexponent,w1=F.getTickFormat(ye),T1=ye.separatethousands;if(e1){var B1={exponentformat:l1,minexponent:ye.minexponent,dtick:"none"===ye.showexponent?ye.dtick:g(ge)&&Math.abs(ge)||1,range:"none"===ye.showexponent?ye.range.map(ye.r2d):[0,ge||1]};Ie(B1),a1=(Number(B1._tickround)||0)+4,c1=B1._tickexponent,ye.hoverformat&&(w1=ye.hoverformat)}if(w1)return ye._numFormat(w1)(ge).replace(/-/g,q);var rt,H1=Math.pow(10,-a1)/2;if("none"===l1&&(c1=0),(ge=Math.abs(ge))<H1)ge="0",d1=!1;else{if(ge+=H1,c1&&(ge*=Math.pow(10,-c1),a1+=c1),0===a1)ge=String(Math.floor(ge));else if(a1<0){ge=(ge=String(Math.round(ge))).substr(0,ge.length+a1);for(var Y1=a1;Y1<0;Y1++)ge+="0"}else{var ut=(ge=String(ge)).indexOf(".")+1;ut&&(ge=ge.substr(0,ut+a1).replace(/\.?0+$/,""))}ge=c.numSeparate(ge,ye._separators,T1)}return c1&&"hide"!==l1&&(n1(l1)&&Ye(c1)&&(l1="power"),rt=c1<0?q+-c1:"power"!==l1?"+"+c1:String(c1),"e"===l1||"E"===l1?ge+=l1+rt:"power"===l1?ge+="\xd710<sup>"+rt+"</sup>":"B"===l1&&9===c1?ge+="B":n1(l1)&&(ge+=Qe[c1/3+5])),d1?q+ge:ge}function f1(ge,ye){for(var We=[],e1={},d1=0;d1<ye.length;d1++){var a1=ye[d1];e1[a1.text2]?e1[a1.text2].push(a1.x):e1[a1.text2]=[a1.x]}for(var l1 in e1)We.push(Re(ge,c.interp(e1[l1],.5),l1));return We}function Je(ge){return void 0!==ge.periodX?ge.periodX:ge.x}function g1(ge){return[ge.text,ge.x,ge.axInfo,ge.font,ge.fontSize,ge.fontColor].join("_")}function b1(ge){var ye=ge.title.font.size,We=(ge.title.text.match(d.BR_TAG_ALL)||[]).length;return ge.title.hasOwnProperty("standoff")?We?ye*(j+We*oe):ye*j:We?ye*(We+1)*oe:ye}function _1(ge,ye){var We=ge.l2p(ye);return We>1&&We<ge._length-1}function I1(ge){var ye=o.select(ge),We=ye.select(".text-math-group");return We.empty()?ye.select("text"):We}function M1(ge){return ge._id+".automargin"}function Be(ge){return M1(ge)+".mirror"}function je(ge){return ge._id+".rangeslider"}function C1(ge,ye){for(var We=0;We<ye.length;We++)-1===ge.indexOf(ye[We])&&ge.push(ye[We])}function O1(ge,ye,We){var e1,d1,a1=[],l1=[],c1=ge.layout;for(e1=0;e1<ye.length;e1++)a1.push(F.getFromId(ge,ye[e1]));for(e1=0;e1<We.length;e1++)l1.push(F.getFromId(ge,We[e1]));var w1=Object.keys(b),T1=["anchor","domain","overlaying","position","side","tickangle","editType"],B1=["linear","log"];for(e1=0;e1<w1.length;e1++){var rt=w1[e1],H1=a1[0][rt],Y1=l1[0][rt],ut=!0,k1=!1,L1=!1;if("_"!==rt.charAt(0)&&"function"!=typeof H1&&-1===T1.indexOf(rt)){for(d1=1;d1<a1.length&&ut;d1++){var it=a1[d1][rt];"type"===rt&&-1!==B1.indexOf(H1)&&-1!==B1.indexOf(it)&&H1!==it?k1=!0:it!==H1&&(ut=!1)}for(d1=1;d1<l1.length&&ut;d1++){var X1=l1[d1][rt];"type"===rt&&-1!==B1.indexOf(Y1)&&-1!==B1.indexOf(X1)&&Y1!==X1?L1=!0:l1[d1][rt]!==Y1&&(ut=!1)}ut&&(k1&&(c1[a1[0]._name].type="linear"),L1&&(c1[l1[0]._name].type="linear"),Q1(c1,rt,a1,l1,ge._fullLayout._dfltTitle))}}for(e1=0;e1<ge._fullLayout.annotations.length;e1++){var j1=ge._fullLayout.annotations[e1];-1!==ye.indexOf(j1.xref)&&-1!==We.indexOf(j1.yref)&&c.swapAttrs(c1.annotations[e1],["?"])}}function Q1(ge,ye,We,e1,d1){var a1,l1=c.nestedProperty,c1=l1(ge[We[0]._name],ye).get(),w1=l1(ge[e1[0]._name],ye).get();for("title"===ye&&(c1&&c1.text===d1.x&&(c1.text=d1.y),w1&&w1.text===d1.y&&(w1.text=d1.x)),a1=0;a1<We.length;a1++)l1(ge,We[a1]._name+"."+ye).set(w1);for(a1=0;a1<e1.length;a1++)l1(ge,e1[a1]._name+"."+ye).set(c1)}function st(ge){return"angularaxis"===ge._id}function $1(ge,ye){for(var We=ye._rangebreaks.length,e1=0;e1<We;e1++){var d1=ye._rangebreaks[e1];if(ge>=d1.min&&ge<d1.max)return d1.max}return ge}function Z1(ge){return-1!==(ge.ticklabelposition||"").indexOf("inside")}function N1(ge,ye){Z1(ge._anchorAxis||{})&&ge._hideCounterAxisInsideTickLabels&&ge._hideCounterAxisInsideTickLabels(ye)}F.getTickFormat=function(ge){var ye,We,e1,d1,a1,l1,c1,w1,H1,Y1,ut,k1,L1,it;function T1(H1){return"string"!=typeof H1?H1:Number(H1.replace("M",""))*E}function B1(H1,Y1){var ut=["L","D"];if(typeof H1==typeof Y1){if("number"==typeof H1)return H1-Y1;var k1=ut.indexOf(H1.charAt(0)),L1=ut.indexOf(Y1.charAt(0));return k1===L1?Number(H1.replace(/(L|D)/g,""))-Number(Y1.replace(/(L|D)/g,"")):k1-L1}return"number"==typeof H1?1:-1}if(ge.tickformatstops&&ge.tickformatstops.length>0)switch(ge.type){case"date":case"linear":for(ye=0;ye<ge.tickformatstops.length;ye++)if((e1=ge.tickformatstops[ye]).enabled&&(d1=ge.dtick,l1=void 0,void 0,void 0,l1=T1||function(H1){return H1},w1=(a1=e1.dtickrange)[1],(!(c1=a1[0])&&"number"!=typeof c1||l1(c1)<=l1(d1))&&(!w1&&"number"!=typeof w1||l1(w1)>=l1(d1)))){We=e1;break}break;case"log":for(ye=0;ye<ge.tickformatstops.length;ye++)if((e1=ge.tickformatstops[ye]).enabled&&(ut=void 0,k1=void 0,L1=void 0,it=void 0,ut=null===(Y1=e1.dtickrange)[0],k1=null===Y1[1],L1=B1(H1=ge.dtick,Y1[0])>=0,it=B1(H1,Y1[1])<=0,(ut||L1)&&(k1||it))){We=e1;break}}return We?We.value:ge.tickformat},F.getSubplots=function(ge,ye){var We=ge._fullLayout._subplots,e1=We.cartesian.concat(We.gl2d||[]),d1=ye?F.findSubplotsWithAxis(e1,ye):e1;return d1.sort(function(a1,l1){var c1=a1.substr(1).split("y"),w1=l1.substr(1).split("y");return c1[0]===w1[0]?+c1[1]-+w1[1]:+c1[0]-+w1[0]}),d1},F.findSubplotsWithAxis=function(ge,ye){for(var We=new RegExp("x"===ye._id.charAt(0)?"^"+ye._id+"y":ye._id+"$"),e1=[],d1=0;d1<ge.length;d1++){var a1=ge[d1];We.test(a1)&&e1.push(a1)}return e1},F.makeClipPaths=function(ge){var ye=ge._fullLayout;if(!ye._hasOnlyLargeSploms){var We,e1,d1={_offset:0,_length:ye.width,_id:""},a1={_offset:0,_length:ye.height,_id:""},l1=F.list(ge,"x",!0),c1=F.list(ge,"y",!0),w1=[];for(We=0;We<l1.length;We++)for(w1.push({x:l1[We],y:a1}),e1=0;e1<c1.length;e1++)0===We&&w1.push({x:d1,y:c1[e1]}),w1.push({x:l1[We],y:c1[e1]});var T1=ye._clips.selectAll(".axesclip").data(w1,function(B1){return B1.x._id+B1.y._id});T1.enter().append("clipPath").classed("axesclip",!0).attr("id",function(B1){return"clip"+ye._uid+B1.x._id+B1.y._id}).append("rect"),T1.exit().remove(),T1.each(function(B1){o.select(this).select("rect").attr({x:B1.x._offset||0,y:B1.y._offset||0,width:B1.x._length||1,height:B1.y._length||1})})}},F.draw=function(ge,ye,We){var e1=ge._fullLayout;"redraw"===ye&&e1._paper.selectAll("g.subplot").each(function(a1){var c1=e1._plots[a1[0]];if(c1){var w1=c1.xaxis,T1=c1.yaxis;c1.xaxislayer.selectAll("."+w1._id+"tick").remove(),c1.yaxislayer.selectAll("."+T1._id+"tick").remove(),c1.xaxislayer.selectAll("."+w1._id+"tick2").remove(),c1.yaxislayer.selectAll("."+T1._id+"tick2").remove(),c1.xaxislayer.selectAll("."+w1._id+"divider").remove(),c1.yaxislayer.selectAll("."+T1._id+"divider").remove(),c1.minorGridlayer&&c1.minorGridlayer.selectAll("path").remove(),c1.gridlayer&&c1.gridlayer.selectAll("path").remove(),c1.zerolinelayer&&c1.zerolinelayer.selectAll("path").remove(),e1._infolayer.select(".g-"+w1._id+"title").remove(),e1._infolayer.select(".g-"+T1._id+"title").remove()}});var d1=ye&&"redraw"!==ye?ye:F.listIds(ge);return c.syncOrAsync(d1.map(function(a1){return function(){if(a1){var l1=F.getFromId(ge,a1),c1=F.drawOne(ge,l1,We);return l1._r=l1.range.slice(),l1._rl=c.simpleMap(l1._r,l1.r2l),c1}}}))},F.drawOne=function(ge,ye,We){var e1,d1,a1;We=We||{},ye.setScale();var l1=ge._fullLayout,c1=ye._id,w1=c1.charAt(0),T1=F.counterLetter(c1),B1=l1._plots[ye._mainSubplot];if(B1){var rt=B1[w1+"axislayer"],H1=ye._mainLinePosition,Y1=ye._mainMirrorPosition,ut=ye._vals=F.calcTicks(ye),k1=[ye.mirror,H1,Y1].join("_");for(e1=0;e1<ut.length;e1++)ut[e1].axInfo=k1;ye._selections={},ye._tickAngles&&(ye._prevTickAngles=ye._tickAngles),ye._tickAngles={},ye._depth=null;var L1={};if(ye.visible){var it,X1,j1=F.makeTransTickFn(ye),et=F.makeTransTickLabelFn(ye),P1="inside"===ye.ticks,xt="outside"===ye.ticks;if("boundaries"===ye.tickson){var yt=function(Rt,mt){var b2,mn=[],G2=function($2,sn){var An=$2.xbnd[sn];null!==An&&mn.push(c.extendFlat({},$2,{x:An}))};if(mt.length){for(b2=0;b2<mt.length;b2++)G2(mt[b2],0);G2(mt[b2-1],1)}return mn}(0,ut);X1=F.clipEnds(ye,yt),it=P1?X1:yt}else X1=F.clipEnds(ye,ut),it=P1&&"period"!==ye.ticklabelmode?X1:ut;var wt,Ft=ye._gridVals=X1,Ot=function(Rt,mt){var b2,mn,G2=[],$2=mt.length&&mt[mt.length-1].x<mt[0].x,sn=function(vn,wn){var E2=vn.xbnd[wn];null!==E2&&G2.push(c.extendFlat({},vn,{x:E2}))};if(Rt.showdividers&&mt.length){for(b2=0;b2<mt.length;b2++){var An=mt[b2];An.text2!==mn&&sn(An,$2?1:0),mn=An.text2}sn(mt[b2-1],$2?0:1)}return G2}(ye,ut);if(!l1._hasOnlyLargeSploms){var Dt=ye._subplotsWith,G1={};for(e1=0;e1<Dt.length;e1++){var K1=(a1=l1._plots[d1=Dt[e1]])[T1+"axis"],tt=K1._mainAxis._id;if(!G1[tt]){G1[tt]=1;var dt="x"===w1?"M0,"+K1._offset+"v"+K1._length:"M"+K1._offset+",0h"+K1._length;F.drawGrid(ge,ye,{vals:Ft,counterAxis:K1,layer:a1.gridlayer.select("."+c1),minorLayer:a1.minorGridlayer.select("."+c1),path:dt,transFn:j1}),F.drawZeroLine(ge,ye,{counterAxis:K1,layer:a1.zerolinelayer,path:dt,transFn:j1})}}}var ot=F.getTickSigns(ye),gt=F.getTickSigns(ye,"minor");if(ye.ticks||ye.minor&&ye.minor.ticks){var Gt,Qt,Vt,kt,f2=F.makeTickPath(ye,H1,ot[2]),p2=F.makeTickPath(ye,H1,gt[2],{minor:!0});if(ye._anchorAxis&&ye.mirror&&!0!==ye.mirror?(Gt=F.makeTickPath(ye,Y1,ot[3]),Qt=F.makeTickPath(ye,Y1,gt[3],{minor:!0}),Vt=f2+Gt,kt=p2+Qt):(Gt="",Qt="",Vt=f2,kt=p2),ye.showdividers&&xt&&"boundaries"===ye.tickson){var Bt={};for(e1=0;e1<Ot.length;e1++)Bt[Ot[e1].x]=1;wt=function(Rt){return Bt[Rt.x]?Gt:Vt}}else wt=function(Rt){return Rt.minor?kt:Vt}}if(F.drawTicks(ge,ye,{vals:it,layer:rt,path:wt,transFn:j1}),"allticks"===ye.mirror){var Kt=Object.keys(ye._linepositions||{});for(e1=0;e1<Kt.length;e1++){a1=l1._plots[d1=Kt[e1]];var Pt=ye._linepositions[d1]||[],zt=Pt[1],y2=Pt[2],d2=F.makeTickPath(ye,Pt[0],y2?ot[0]:gt[0],{minor:y2})+F.makeTickPath(ye,zt,y2?ot[1]:gt[1],{minor:y2});F.drawTicks(ge,ye,{vals:it,layer:a1[w1+"axislayer"],path:d2,transFn:j1})}}var Et=[];if(Et.push(function(){return F.drawLabels(ge,ye,{vals:ut,layer:rt,plotinfo:a1,transFn:et,labelFns:F.makeLabelFns(ye,H1)})}),"multicategory"===ye.type){var u2={x:2,y:10}[w1];Et.push(function(){var Rt={x:"height",y:"width"}[w1],mt=e2()[Rt]+u2+(ye._tickAngles[c1+"tick"]?ye.tickfont.size*oe:0);return F.drawLabels(ge,ye,{vals:f1(ye,ut),layer:rt,cls:c1+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:j1,labelFns:F.makeLabelFns(ye,H1+mt*ot[4])})}),Et.push(function(){return ye._depth=ot[4]*(e2("tick2")[ye.side]-H1),Rt=ge,mt=ye,G2=(b2={vals:Ot,layer:rt,path:F.makeTickPath(ye,H1,ot[4],{len:ye._depth}),transFn:j1}).vals,($2=b2.layer.selectAll("path."+(mn=mt._id+"divider")).data(G2,g1)).exit().remove(),$2.enter().insert("path",":first-child").classed(mn,1).classed("crisp",1).call(u.stroke,mt.dividercolor).style("stroke-width",_.crispRound(Rt,mt.dividerwidth,1)+"px"),void $2.attr("transform",b2.transFn).attr("d",b2.path);var Rt,mt,b2,mn,G2,$2})}else ye.title.hasOwnProperty("standoff")&&Et.push(function(){ye._depth=ot[4]*(e2()[ye.side]-H1)});var _2=l.getComponentMethod("rangeslider","isVisible")(ye);return Et.push(function(){var Rt,mt,b2,mn,G2=ye.side.charAt(0),$2=re[ye.side].charAt(0),sn=F.getPxPosition(ge,ye),An=xt?ye.ticklen:0;if((ye.automargin||_2)&&("multicategory"===ye.type?Rt=e2("tick2"):(Rt=e2(),"x"===w1&&"b"===G2&&(ye._depth=Math.max(Rt.width>0?Rt.bottom-sn:0,An)))),ye.automargin){mt={x:0,y:0,r:0,l:0,t:0,b:0};var vn=[0,1];if("x"===w1){if("b"===G2?mt[G2]=ye._depth:(mt[G2]=ye._depth=Math.max(Rt.width>0?sn-Rt.top:0,An),vn.reverse()),Rt.width>0){var wn=Rt.right-(ye._offset+ye._length);wn>0&&(mt.xr=1,mt.r=wn);var E2=ye._offset-Rt.left;E2>0&&(mt.xl=0,mt.l=E2)}}else if("l"===G2?mt[G2]=ye._depth=Math.max(Rt.height>0?sn-Rt.left:0,An):(mt[G2]=ye._depth=Math.max(Rt.height>0?Rt.right-sn:0,An),vn.reverse()),Rt.height>0){var J2=Rt.bottom-(ye._offset+ye._length);J2>0&&(mt.yb=0,mt.b=J2);var H3=ye._offset-Rt.top;H3>0&&(mt.yt=1,mt.t=H3)}mt[T1]="free"===ye.anchor?ye.position:ye._anchorAxis.domain[vn[0]],ye.title.text!==l1._dfltTitle[w1]&&(mt[G2]+=b1(ye)+(ye.title.standoff||0)),ye.mirror&&"free"!==ye.anchor&&((b2={x:0,y:0,r:0,l:0,t:0,b:0})[$2]=ye.linewidth,ye.mirror&&!0!==ye.mirror&&(b2[$2]+=An),!0===ye.mirror||"ticks"===ye.mirror?b2[T1]=ye._anchorAxis.domain[vn[1]]:"all"!==ye.mirror&&"allticks"!==ye.mirror||(b2[T1]=[ye._counterDomainMin,ye._counterDomainMax][vn[1]]))}_2&&(mn=l.getComponentMethod("rangeslider","autoMarginOpts")(ge,ye)),p.autoMargin(ge,M1(ye),mt),p.autoMargin(ge,Be(ye),b2),p.autoMargin(ge,je(ye),mn)}),We.skipTitle||_2&&"bottom"===ye.side||Et.push(function(){return function(Rt,mt){var b2,mn=Rt._fullLayout,G2=mt._id,$2=G2.charAt(0),sn=mt.title.font.size;if(mt.title.hasOwnProperty("standoff"))b2=mt._depth+mt.title.standoff+b1(mt);else{var An=Z1(mt);if("multicategory"===mt.type)b2=mt._depth;else{var vn=1.5*sn;An&&(vn=.5*sn,"outside"===mt.ticks&&(vn+=mt.ticklen)),b2=10+vn+(mt.linewidth?mt.linewidth-1:0)}An||(b2+="x"===$2?"top"===mt.side?sn*(mt.showticklabels?1:0):sn*(mt.showticklabels?1.5:.5):"right"===mt.side?sn*(mt.showticklabels?1:.5):sn*(mt.showticklabels?.5:0))}var wn,E2,J2,H3,nr=F.getPxPosition(Rt,mt);if("x"===$2?(E2=mt._offset+mt._length/2,J2="top"===mt.side?nr-b2:nr+b2):(J2=mt._offset+mt._length/2,E2="right"===mt.side?nr+b2:nr-b2,wn={rotate:"-90",offset:0}),"multicategory"!==mt.type){var yr=mt._selections[mt._id+"tick"];if(H3={selection:yr,side:mt.side},yr&&yr.node()&&yr.node().parentNode){var r2=_.getTranslate(yr.node().parentNode);H3.offsetLeft=r2.x,H3.offsetTop=r2.y}mt.title.hasOwnProperty("standoff")&&(H3.pad=0)}return h.draw(Rt,G2+"title",{propContainer:mt,propName:mt._name+".title.text",placeholder:mn._dfltTitle[$2],avoid:H3,transform:wn,attributes:{x:E2,y:J2,"text-anchor":"middle"}})}(ge,ye)}),c.syncOrAsync(Et)}}function e2(Rt){var b2,mn,G2,$2,sn,An,mt=c1+(Rt||"tick");return L1[mt]||(L1[mt]=((b2=ye)._selections[mn=mt].size()?(G2=1/0,$2=-1/0,sn=1/0,An=-1/0,b2._selections[mn].each(function(){var vn=I1(this),wn=_.bBox(vn.node().parentNode);G2=Math.min(G2,wn.top),$2=Math.max($2,wn.bottom),sn=Math.min(sn,wn.left),An=Math.max(An,wn.right)})):(G2=0,$2=0,sn=0,An=0),{top:G2,bottom:$2,left:sn,right:An,height:$2-G2,width:An-sn})),L1[mt]}},F.getTickSigns=function(ge,ye){var We=ge._id.charAt(0),d1=ge.side==={x:"top",y:"right"}[We]?1:-1,a1=[-1,1,d1,-d1];return"inside"!==(ye?(ge.minor||{}).ticks:ge.ticks)==("x"===We)&&(a1=a1.map(function(l1){return-l1})),ge.side&&a1.push({l:-1,t:-1,r:1,b:1}[ge.side.charAt(0)]),a1},F.makeTransTickFn=function(ge){return"x"===ge._id.charAt(0)?function(ye){return C(ge._offset+ge.l2p(ye.x),0)}:function(ye){return C(0,ge._offset+ge.l2p(ye.x))}},F.makeTransTickLabelFn=function(ge){var ye=function(d1){var a1=d1.ticklabelposition||"",l1=function(it){return-1!==a1.indexOf(it)},c1=l1("top"),w1=l1("left"),T1=l1("right"),B1=l1("bottom"),rt=l1("inside"),H1=B1||w1||c1||T1;if(!H1&&!rt)return[0,0];var Y1=d1.side,ut=H1?(d1.tickwidth||0)/2:0,k1=3,L1=d1.tickfont?d1.tickfont.size:12;return(B1||c1)&&(ut+=L1*j,k1+=(d1.linewidth||0)/2),(w1||T1)&&(ut+=(d1.linewidth||0)/2,k1+=3),rt&&"top"===Y1&&(k1-=L1*(1-j)),(w1||c1)&&(ut=-ut),"bottom"!==Y1&&"right"!==Y1||(k1=-k1),[H1?ut:0,rt?k1:0]}(ge),We=ye[0],e1=ye[1];return"x"===ge._id.charAt(0)?function(d1){return C(We+ge._offset+ge.l2p(Je(d1)),e1)}:function(d1){return C(e1,We+ge._offset+ge.l2p(Je(d1)))}},F.makeTickPath=function(ge,ye,We,e1){e1||(e1={});var d1=e1.minor;if(d1&&!ge.minor)return"";var a1=void 0!==e1.len?e1.len:d1?ge.minor.ticklen:ge.ticklen,l1=ge._id.charAt(0),c1=(ge.linewidth||1)/2;return"x"===l1?"M0,"+(ye+c1*We)+"v"+a1*We:"M"+(ye+c1*We)+",0h"+a1*We},F.makeLabelFns=function(ge,ye,We){var e1=ge.ticklabelposition||"",d1=function(Dt){return-1!==e1.indexOf(Dt)},a1=d1("top"),l1=d1("left"),c1=d1("right"),w1=d1("bottom")||l1||a1||c1,T1=d1("inside"),B1="inside"===e1&&"inside"===ge.ticks||!T1&&"outside"===ge.ticks&&"boundaries"!==ge.tickson,rt=0,H1=0,Y1=B1?ge.ticklen:0;if(T1?Y1*=-1:w1&&(Y1=0),B1&&(rt+=Y1,We)){var ut=c.deg2rad(We);rt=Y1*Math.cos(ut)+1,H1=Y1*Math.sin(ut)}ge.showticklabels&&(B1||ge.showline)&&(rt+=.2*ge.tickfont.size);var k1,L1,it,X1,j1,et={labelStandoff:rt+=(ge.linewidth||1)/2*(T1?-1:1),labelShift:H1},P1=0,xt=ge.side,yt=ge._id.charAt(0),wt=ge.tickangle;if("x"===yt)X1=(j1=!T1&&"bottom"===xt||T1&&"top"===xt)?1:-1,T1&&(X1*=-1),k1=H1*X1,L1=ye+rt*X1,it=j1?1:-.2,90===Math.abs(wt)&&(T1?it+=G:it=-90===wt&&"bottom"===xt?j:90===wt&&"top"===xt?G:.5,P1=G/2*(wt/90)),et.xFn=function(Dt){return Dt.dx+k1+P1*Dt.fontSize},et.yFn=function(Dt){return Dt.dy+L1+Dt.fontSize*it},et.anchorFn=function(Dt,G1){if(w1){if(l1)return"end";if(c1)return"start"}return g(G1)&&0!==G1&&180!==G1?G1*X1<0!==T1?"end":"start":"middle"},et.heightFn=function(Dt,G1,K1){return G1<-60||G1>60?-.5*K1:"top"===ge.side!==T1?-K1:0};else if("y"===yt){if(X1=(j1=!T1&&"left"===xt||T1&&"right"===xt)?1:-1,T1&&(X1*=-1),k1=rt,L1=H1*X1,it=0,T1||90!==Math.abs(wt)||(it=-90===wt&&"left"===xt||90===wt&&"right"===xt?j:.5),T1){var Ft=g(wt)?+wt:0;if(0!==Ft){var Ot=c.deg2rad(Ft);P1=Math.abs(Math.sin(Ot))*j*X1,it=0}}et.xFn=function(Dt){return Dt.dx+ye-(k1+Dt.fontSize*it)*X1+P1*Dt.fontSize},et.yFn=function(Dt){return Dt.dy+L1+Dt.fontSize*G},et.anchorFn=function(Dt,G1){return g(G1)&&90===Math.abs(G1)?"middle":j1?"end":"start"},et.heightFn=function(Dt,G1,K1){return"right"===ge.side&&(G1*=-1),G1<-30?-K1:G1<30?-.5*K1:0}}return et},F.drawTicks=function(ge,ye,We){We=We||{};var e1=ye._id+"tick",d1=[].concat(ye.minor&&ye.minor.ticks?We.vals.filter(function(l1){return l1.minor&&!l1.noTick}):[]).concat(ye.ticks?We.vals.filter(function(l1){return!l1.minor&&!l1.noTick}):[]),a1=We.layer.selectAll("path."+e1).data(d1,g1);a1.exit().remove(),a1.enter().append("path").classed(e1,1).classed("ticks",1).classed("crisp",!1!==We.crisp).each(function(l1){return u.stroke(o.select(this),l1.minor?ye.minor.tickcolor:ye.tickcolor)}).style("stroke-width",function(l1){return _.crispRound(ge,l1.minor?ye.minor.tickwidth:ye.tickwidth,1)+"px"}).attr("d",We.path).style("display",null),N1(ye,[ie]),a1.attr("transform",We.transFn)},F.drawGrid=function(ge,ye,We){We=We||{};var e1=ye._id+"grid",d1=ye.minor&&ye.minor.showgrid,a1=d1?We.vals.filter(function(it){return it.minor}):[],l1=ye.showgrid?We.vals.filter(function(it){return!it.minor}):[],c1=We.counterAxis;if(c1&&F.shouldShowZeroLine(ge,ye,c1))for(var w1="array"===ye.tickmode,T1=0;T1<l1.length;T1++){var B1=l1[T1].x;if(w1?!B1:Math.abs(B1)<ye.dtick/100){if(l1=l1.slice(0,T1).concat(l1.slice(T1+1)),!w1)break;T1--}}ye._gw=_.crispRound(ge,ye.gridwidth,1);for(var rt=d1?_.crispRound(ge,ye.minor.gridwidth,1):0,H1=We.layer,Y1=We.minorLayer,ut=1;ut>=0;ut--){var k1=ut?H1:Y1;if(k1){var L1=k1.selectAll("path."+e1).data(ut?l1:a1,g1);L1.exit().remove(),L1.enter().append("path").classed(e1,1).classed("crisp",!1!==We.crisp),L1.attr("transform",We.transFn).attr("d",We.path).each(function(it){return u.stroke(o.select(this),it.minor?ye.minor.gridcolor:ye.gridcolor||"#ddd")}).style("stroke-dasharray",function(it){return _.dashStyle(it.minor?ye.minor.griddash:ye.griddash,it.minor?ye.minor.gridwidth:ye.gridwidth)}).style("stroke-width",function(it){return(it.minor?rt:ye._gw)+"px"}).style("display",null),"function"==typeof We.path&&L1.attr("d",We.path)}}N1(ye,[ce,me])},F.drawZeroLine=function(ge,ye,We){var e1=ye._id+"zl",d1=F.shouldShowZeroLine(ge,ye,(We=We||We).counterAxis),a1=We.layer.selectAll("path."+e1).data(d1?[{x:0,id:ye._id}]:[]);a1.exit().remove(),a1.enter().append("path").classed(e1,1).classed("zl",1).classed("crisp",!1!==We.crisp).each(function(){We.layer.selectAll("path").sort(function(l1,c1){return R(l1.id,c1.id)})}),a1.attr("transform",We.transFn).attr("d",We.path).call(u.stroke,ye.zerolinecolor||u.defaultLine).style("stroke-width",_.crispRound(ge,ye.zerolinewidth,ye._gw||1)+"px").style("display",null),N1(ye,[te])},F.drawLabels=function(ge,ye,We){We=We||{};var e1=ge._fullLayout,d1=ye._id,a1=d1.charAt(0),l1=We.cls||d1+"tick",c1=We.vals.filter(function(X1){return X1.text}),w1=We.labelFns,T1=We.secondary?0:ye.tickangle,B1=(ye._prevTickAngles||{})[l1],rt=We.layer.selectAll("g."+l1).data(ye.showticklabels?c1:[],g1),H1=[];function Y1(X1,j1){X1.each(function(et){var P1=o.select(this),xt=P1.select(".text-math-group"),yt=w1.anchorFn(et,j1),wt=We.transFn.call(P1.node(),et)+(g(j1)&&0!=+j1?" rotate("+j1+","+w1.xFn(et)+","+(w1.yFn(et)-et.fontSize/2)+")":""),Ft=d.lineCount(P1),Ot=oe*et.fontSize,Dt=w1.heightFn(et,g(j1)?+j1:0,(Ft-1)*Ot);if(Dt&&(wt+=C(0,Dt)),xt.empty()){var G1=P1.select("text");G1.attr({transform:wt,"text-anchor":yt}),G1.style("opacity",1),ye._adjustTickLabelsOverflow&&ye._adjustTickLabelsOverflow()}else{var K1=_.bBox(xt.node()).width*{end:-.5,start:.5}[yt];xt.attr("transform",wt+C(K1,0))}})}rt.enter().append("g").classed(l1,1).append("text").attr("text-anchor","middle").each(function(X1){var j1=o.select(this),et=ge._promises.length;j1.call(d.positionText,w1.xFn(X1),w1.yFn(X1)).call(_.font,X1.font,X1.fontSize,X1.fontColor).text(X1.text).call(d.convertToTspans,ge),ge._promises[et]?H1.push(ge._promises.pop().then(function(){Y1(j1,T1)})):Y1(j1,T1)}),N1(ye,[K]),rt.exit().remove(),We.repositionOnUpdate&&rt.each(function(X1){o.select(this).select("text").call(d.positionText,w1.xFn(X1),w1.yFn(X1))}),ye._adjustTickLabelsOverflow=function(){var X1=ye.ticklabeloverflow;if(X1&&"allow"!==X1){var j1=-1!==X1.indexOf("hide"),et="x"===ye._id.charAt(0),P1=0,xt=et?ge._fullLayout.width:ge._fullLayout.height;if(-1!==X1.indexOf("domain")){var yt=c.simpleMap(ye.range,ye.r2l);P1=ye.l2p(yt[0])+ye._offset,xt=ye.l2p(yt[1])+ye._offset}var wt=Math.min(P1,xt),Ft=Math.max(P1,xt),Ot=ye.side,Dt=1/0,G1=-1/0;for(var K1 in rt.each(function(ot){var gt=o.select(this);if(gt.select(".text-math-group").empty()){var Gt=_.bBox(gt.node()),Qt=0;et?(Gt.right>Ft||Gt.left<wt)&&(Qt=1):(Gt.bottom>Ft||Gt.top+(ye.tickangle?0:ot.fontSize/4)<wt)&&(Qt=1);var Vt=gt.select("text");Qt?j1&&Vt.style("opacity",0):(Vt.style("opacity",1),Dt="bottom"===Ot||"right"===Ot?Math.min(Dt,et?Gt.top:Gt.left):-1/0,G1="top"===Ot||"left"===Ot?Math.max(G1,et?Gt.bottom:Gt.right):1/0)}}),e1._plots){var tt=e1._plots[K1];if(ye._id===tt.xaxis._id||ye._id===tt.yaxis._id){var dt=et?tt.yaxis:tt.xaxis;dt&&(dt["_visibleLabelMin_"+ye._id]=Dt,dt["_visibleLabelMax_"+ye._id]=G1)}}}},ye._hideCounterAxisInsideTickLabels=function(X1){var j1="x"===ye._id.charAt(0),et=[];for(var P1 in e1._plots){var xt=e1._plots[P1];ye._id!==xt.xaxis._id&&ye._id!==xt.yaxis._id||et.push(j1?xt.yaxis:xt.xaxis)}et.forEach(function(yt,wt){yt&&Z1(yt)&&(X1||[te,me,ce,ie,K]).forEach(function(Ft){var Ot="tick"===Ft.K&&"text"===Ft.L&&"period"===ye.ticklabelmode,Dt=e1._plots[ye._mainSubplot];(Ft.K===te.K?Dt.zerolinelayer.selectAll("."+ye._id+"zl"):Ft.K===me.K?Dt.minorGridlayer.selectAll("."+ye._id):Ft.K===ce.K?Dt.gridlayer.selectAll("."+ye._id):Dt[ye._id.charAt(0)+"axislayer"]).each(function(){var G1=o.select(this);Ft.L&&(G1=G1.selectAll(Ft.L)),G1.each(function(K1){var tt=ye.l2p(Ot?Je(K1):K1.x)+ye._offset,dt=o.select(this);tt<ye["_visibleLabelMax_"+yt._id]&&tt>ye["_visibleLabelMin_"+yt._id]?dt.style("display","none"):"tick"!==Ft.K||wt||dt.style("display",null)})})})})},Y1(rt,B1+1?B1:T1);var ut=null;ye._selections&&(ye._selections[l1]=rt);var k1=[function(){return H1.length&&Promise.all(H1)}];ye.automargin&&e1._redrawFromAutoMarginCount&&90===B1?(ut=90,k1.push(function(){Y1(rt,B1)})):k1.push(function(){if(Y1(rt,T1),c1.length&&"x"===a1&&!g(T1)&&("log"!==ye.type||"D"!==String(ye.dtick).charAt(0))){ut=0;var X1,j1=0,et=[];if(rt.each(function(gt){j1=Math.max(j1,gt.fontSize);var Gt=ye.l2p(gt.x),Qt=I1(this),Vt=_.bBox(Qt.node());et.push({top:0,bottom:10,height:10,left:Gt-Vt.width/2,right:Gt+Vt.width/2+2,width:Vt.width+2})}),"boundaries"!==ye.tickson&&!ye.showdividers||We.secondary){var P1=c1.length,xt=Math.abs((c1[P1-1].x-c1[0].x)*ye._m)/(P1-1),yt=ye.ticklabelposition||"",wt=function(gt){return-1!==yt.indexOf(gt)},Ft=wt("top"),Ot=wt("left"),Dt=wt("right"),G1=wt("bottom")||Ot||Ft||Dt?(ye.tickwidth||0)+6:0,K1=xt<2.5*j1||"multicategory"===ye.type||"realaxis"===ye._name;for(X1=0;X1<et.length-1;X1++)if(c.bBoxIntersect(et[X1],et[X1+1],G1)){ut=K1?90:30;break}}else{var tt=2;for(ye.ticks&&(tt+=ye.tickwidth/2),X1=0;X1<et.length;X1++){var dt=c1[X1].xbnd,ot=et[X1];if(null!==dt[0]&&ot.left-ye.l2p(dt[0])<tt||null!==dt[1]&&ye.l2p(dt[1])-ot.right<tt){ut=90;break}}}ut&&Y1(rt,ut)}}),ye._tickAngles&&k1.push(function(){ye._tickAngles[l1]=null===ut?g(T1)?T1:0:ut});var L1=ye._anchorAxis;L1&&L1.autorange&&Z1(ye)&&!ae(e1,ye._id)&&(e1._insideTickLabelsAutorange||(e1._insideTickLabelsAutorange={}),e1._insideTickLabelsAutorange[L1._name+".autorange"]=L1.autorange,k1.push(function(){rt.each(function(X1,j1){var et=I1(this);et.select(".text-math-group").empty()&&(ye._vals[j1].bb=_.bBox(et.node()))})}));var it=c.syncOrAsync(k1);return it&&it.then&&ge._promises.push(it),it},F.getPxPosition=function(ge,ye){var We,e1=ge._fullLayout._size,d1=ye._id.charAt(0),a1=ye.side;return"free"!==ye.anchor?We=ye._anchorAxis:"x"===d1?We={_offset:e1.t+(1-(ye.position||0))*e1.h,_length:0}:"y"===d1&&(We={_offset:e1.l+(ye.position||0)*e1.w,_length:0}),"top"===a1||"left"===a1?We._offset:"bottom"===a1||"right"===a1?We._offset+We._length:void 0},F.shouldShowZeroLine=function(ge,ye,We){var e1=c.simpleMap(ye.range,ye.r2l);return e1[0]*e1[1]<=0&&ye.zeroline&&("linear"===ye.type||"-"===ye.type)&&!(ye.rangebreaks&&ye.maskBreaks(0)===Q)&&(_1(ye,0)||!function(d1,a1,l1,c1){var w1=l1._mainAxis;if(w1){var T1=d1._fullLayout,B1=a1._id.charAt(0),rt=F.counterLetter(a1._id),H1=a1._offset+(Math.abs(c1[0])<Math.abs(c1[1])==("x"===B1)?0:a1._length),ut=T1._plots[l1._mainSubplot];if(!(ut.mainplotinfo||ut).overlays.length)return Y1(l1);for(var k1=F.list(d1,rt),L1=0;L1<k1.length;L1++){var it=k1[L1];if(it._mainAxis===w1&&Y1(it))return!0}}function Y1(X1){if(!X1.showline||!X1.linewidth)return!1;var j1=Math.max((X1.linewidth+a1.zerolinewidth)/2,1);function et(yt){return"number"==typeof yt&&Math.abs(yt-H1)<j1}if(et(X1._mainLinePosition)||et(X1._mainMirrorPosition))return!0;var P1=X1._linepositions||{};for(var xt in P1)if(et(P1[xt][0])||et(P1[xt][1]))return!0}}(ge,ye,We,e1)||function(d1,a1){for(var l1=d1._fullData,c1=a1._mainSubplot,w1=a1._id.charAt(0),T1=0;T1<l1.length;T1++){var B1=l1[T1];if(!0===B1.visible&&B1.xaxis+B1.yaxis===c1&&(l.traceIs(B1,"bar-like")&&B1.orientation==={x:"h",y:"v"}[w1]||B1.fill&&B1.fill.charAt(B1.fill.length-1)===w1))return!0}return!1}(ge,ye))},F.clipEnds=function(ge,ye){return ye.filter(function(We){return _1(ge,We.x)})},F.allowAutoMargin=function(ge){for(var ye=F.list(ge,"",!0),We=0;We<ye.length;We++){var e1=ye[We];e1.automargin&&(p.allowAutoMargin(ge,M1(e1)),e1.mirror&&p.allowAutoMargin(ge,Be(e1))),l.getComponentMethod("rangeslider","isVisible")(e1)&&p.allowAutoMargin(ge,je(e1))}},F.swap=function(ge,ye){for(var We=function(d1,a1){var l1,c1,w1=[];for(l1=0;l1<a1.length;l1++){var T1=[],B1=d1._fullData[a1[l1]].xaxis,rt=d1._fullData[a1[l1]].yaxis;if(B1&&rt){for(c1=0;c1<w1.length;c1++)-1===w1[c1].x.indexOf(B1)&&-1===w1[c1].y.indexOf(rt)||T1.push(c1);if(T1.length){var H1,Y1=w1[T1[0]];if(T1.length>1)for(c1=1;c1<T1.length;c1++)C1(Y1.x,(H1=w1[T1[c1]]).x),C1(Y1.y,H1.y);C1(Y1.x,[B1]),C1(Y1.y,[rt])}else w1.push({x:[B1],y:[rt]})}}return w1}(ge,ye),e1=0;e1<We.length;e1++)O1(ge,We[e1].x,We[e1].y)}},{"../../components/color":102,"../../components/drawing":124,"../../components/titles":200,"../../constants/alignment":207,"../../constants/numerical":212,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../../registry":318,"./autorange":278,"./axis_autotype":280,"./axis_ids":283,"./clean_ticks":285,"./layout_attributes":294,"./set_convert":301,"@plotly/d3":11,"fast-isnumeric":17}],280:[function(m,de,ne){"use strict";var o=m("fast-isnumeric"),g=m("../../lib"),p=m("../../constants/numerical").BADNUM,l=g.isArrayOrTypedArray,c=g.isDateTime,C=g.cleanNumber,d=Math.round;function h(_,b){return b?o(_):"number"==typeof _}function u(_){return Math.max(1,(_-1)/1e3)}de.exports=function(_,b,M){var P,w=_,N=M.noMultiCategory;if(l(w)&&!w.length)return"-";if(!N&&l((P=w)[0])&&l(P[1]))return"multicategory";if(N&&Array.isArray(w[0])){for(var z=[],k=0;k<w.length;k++)if(l(w[k]))for(var D=0;D<w[k].length;D++)z.push(w[k][D]);w=z}if(function(P,V){for(var E=P.length,I=u(E),L=0,B=0,$={},T=0;T<E;T+=I){var W=P[d(T)],q=String(W);$[q]||($[q]=1,c(W,V)&&L++,o(W)&&B++)}return L>2*B}(w,b))return"date";var S="strict"!==M.autotypenumbers;return function(P,V){for(var E=P.length,I=u(E),L=0,B=0,$={},T=0;T<E;T+=I){var W=P[d(T)],q=String(W);if(!$[q]){$[q]=1;var Q=typeof W;"boolean"===Q?B++:(V?C(W)!==p:"number"===Q)?L++:"string"===Q&&B++}}return B>2*L}(w,S)?"category":function(P,V){for(var E=P.length,I=0;I<E;I++)if(h(P[I],V))return!0;return!1}(w,S)?"linear":"-"}},{"../../constants/numerical":212,"../../lib":232,"fast-isnumeric":17}],281:[function(m,de,ne){"use strict";var o=m("fast-isnumeric"),g=m("../../registry"),p=m("../../lib"),l=m("../../plot_api/plot_template"),c=m("../array_container_defaults"),C=m("./layout_attributes"),d=m("./tick_value_defaults"),h=m("./tick_mark_defaults"),u=m("./tick_label_defaults"),_=m("./prefix_suffix_defaults"),b=m("./category_order_defaults"),M=m("./line_grid_defaults"),w=m("./set_convert"),N=m("./constants").WEEKDAY_PATTERN,z=m("./constants").HOUR_PATTERN;function k(P,V,E){function I(Q,te){return p.coerce(P,V,C.rangebreaks,Q,te)}if(I("enabled")){var L=I("bounds");if(L&&L.length>=2){var B,$,T="";if(2===L.length)for(B=0;B<2;B++)if($=S(L[B])){T=N;break}var Y=I("pattern",T);if(Y===N)for(B=0;B<2;B++)($=S(L[B]))&&(V.bounds[B]=L[B]=$-1);if(Y)for(B=0;B<2;B++)switch($=L[B],Y){case N:if(!o($)||($=+$)!==Math.floor($)||$<0||$>=7)return void(V.enabled=!1);V.bounds[B]=L[B]=$;break;case z:if(!o($)||($=+$)<0||$>24)return void(V.enabled=!1);V.bounds[B]=L[B]=$}if(!1===E.autorange){var W=E.range;if(W[0]<W[1]){if(L[0]<W[0]&&L[1]>W[1])return void(V.enabled=!1)}else if(L[0]>W[0]&&L[1]<W[1])return void(V.enabled=!1)}}else{var q=I("values");if(!q||!q.length)return void(V.enabled=!1);I("dvalue")}}}de.exports=function(P,V,E,I,L){var B,$=I.letter,T=I.font||{},Y=I.splomStash||{},W=E("visible",!I.visibleDflt),Q=V.type||(V._template||{}).type||"-";"date"===Q&&(g.getComponentMethod("calendars","handleDefaults")(P,V,"calendar",I.calendar),I.noTicklabelmode||(B=E("ticklabelmode")));var te="";I.noTicklabelposition&&"multicategory"!==Q||(te=p.coerce(P,V,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===B?["outside","inside"]:"x"===$?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),I.noTicklabeloverflow||E("ticklabeloverflow",-1!==te.indexOf("inside")?"hide past domain":"category"===Q||"multicategory"===Q?"allow":"hide past div"),w(V,L);var ce=!V.isValidRange(P.range);ce&&I.reverseDflt&&(ce="reversed"),!E("autorange",ce)||"linear"!==Q&&"-"!==Q||E("rangemode"),E("range"),V.cleanRange(),b(P,V,E,I),"category"===Q||I.noHover||E("hoverformat");var me=E("color"),ie=me!==C.color.dflt?me:T.color,K=Y.label||L._dfltTitle[$];if(_(P,V,E,Q,I),!W)return V;E("title.text",K),p.coerceFont(E,"title.font",{family:T.family,size:p.bigFont(T.size),color:ie}),d(P,V,E,Q);var le=I.hasMinor;if(le&&(l.newContainer(V,"minor"),d(P,V,E,Q,{isMinor:!0})),u(P,V,E,Q,I),h(P,V,E,I),le){var G=I.isMinor;I.isMinor=!0,h(P,V,E,I),I.isMinor=G}M(P,V,E,{dfltColor:me,bgColor:I.bgColor,showGrid:I.showGrid,hasMinor:le,attributes:C}),!le||V.minor.ticks||V.minor.showgrid||delete V.minor,(V.showline||V.ticks)&&E("mirror"),I.automargin&&E("automargin");var j,oe="multicategory"===Q;if(I.noTickson||"category"!==Q&&!oe||!V.ticks&&!V.showgrid||(oe&&(j="boundaries"),"boundaries"===E("tickson",j)&&delete V.ticklabelposition),oe&&E("showdividers")&&(E("dividercolor"),E("dividerwidth")),"date"===Q)if(c(P,V,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:k}),V.rangebreaks.length){for(var re=0;re<V.rangebreaks.length;re++)if(V.rangebreaks[re].pattern===N){V._hasDayOfWeekBreaks=!0;break}if(w(V,L),L._has("scattergl")||L._has("splom"))for(var F=0;F<I.data.length;F++){var O=I.data[F];"scattergl"!==O.type&&"splom"!==O.type||(O.visible=!1,p.warn(O.type+" traces do not work on axes with rangebreaks. Setting trace "+O.index+" to `visible: false`."))}}else delete V.rangebreaks;return V};var D={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function S(P){if("string"==typeof P)return D[P.substr(0,3).toLowerCase()]}},{"../../lib":232,"../../plot_api/plot_template":268,"../../registry":318,"../array_container_defaults":274,"./category_order_defaults":284,"./constants":286,"./layout_attributes":294,"./line_grid_defaults":296,"./prefix_suffix_defaults":298,"./set_convert":301,"./tick_label_defaults":303,"./tick_mark_defaults":304,"./tick_value_defaults":305,"fast-isnumeric":17}],282:[function(m,de,ne){"use strict";var o=m("../../constants/docs"),g=o.FORMAT_LINK,p=o.DATE_FORMAT_LINK;function l(C,d){return["Sets the "+C+" formatting rule"+(d?"for `"+d+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+g+"."].join(" ")}function c(C,d){return l(C,d)+[" And for dates see: "+p+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}de.exports={axisHoverFormat:function(C,d){return{valType:"string",dflt:"",editType:"none",description:(d?l:c)("hover text",C)+["By default the values are formatted using "+(d?"generic number format":"`"+C+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:l,descriptionWithDates:c}},{"../../constants/docs":209}],283:[function(m,de,ne){"use strict";var o=m("../../registry"),g=m("./constants");function p(l,c){if(c&&c.length)for(var C=0;C<c.length;C++)if(c[C][l])return!0;return!1}ne.id2name=function(l){if("string"==typeof l&&l.match(g.AX_ID_PATTERN)){var c=l.split(" ")[0].substr(1);return"1"===c&&(c=""),l.charAt(0)+"axis"+c}},ne.name2id=function(l){if(l.match(g.AX_NAME_PATTERN)){var c=l.substr(5);return"1"===c&&(c=""),l.charAt(0)+c}},ne.cleanId=function(l,c,C){var d=/( domain)$/.test(l);if("string"==typeof l&&l.match(g.AX_ID_PATTERN)&&(!c||l.charAt(0)===c)&&(!d||C)){var h=l.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===h&&(h=""),l.charAt(0)+h+(d&&C?" domain":"")}},ne.list=function(l,c,C){var d=l._fullLayout;if(!d)return[];var h,u=ne.listIds(l,c),_=new Array(u.length);for(h=0;h<u.length;h++){var b=u[h];_[h]=d[b.charAt(0)+"axis"+b.substr(1)]}if(!C){var M=d._subplots.gl3d||[];for(h=0;h<M.length;h++){var w=d[M[h]];c?_.push(w[c+"axis"]):_.push(w.xaxis,w.yaxis,w.zaxis)}}return _},ne.listIds=function(l,c){var C=l._fullLayout;if(!C)return[];var d=C._subplots;return c?d[c+"axis"]:d.xaxis.concat(d.yaxis)},ne.getFromId=function(l,c,C){var d=l._fullLayout;return c=void 0===c||"string"!=typeof c?c:c.replace(" domain",""),"x"===C?c=c.replace(/y[0-9]*/,""):"y"===C&&(c=c.replace(/x[0-9]*/,"")),d[ne.id2name(c)]},ne.getFromTrace=function(l,c,C){var d=l._fullLayout,h=null;if(o.traceIs(c,"gl3d")){var u=c.scene;"scene"===u.substr(0,5)&&(h=d[u][C+"axis"])}else h=ne.getFromId(l,c[C+"axis"]||C);return h},ne.idSort=function(l,c){var C=l.charAt(0),d=c.charAt(0);return C!==d?C>d?1:-1:+(l.substr(1)||1)-+(c.substr(1)||1)},ne.ref2id=function(l){return!!/^[xyz]/.test(l)&&l.split(" ")[0]},ne.isLinked=function(l,c){return p(c,l._axisMatchGroups)||p(c,l._axisConstraintGroups)}},{"../../registry":318,"./constants":286}],284:[function(m,de,ne){"use strict";de.exports=function(o,g,p,l){if("category"===g.type){var c,C=o.categoryarray,d=Array.isArray(C)&&C.length>0;d&&(c="array");var h,u=p("categoryorder",c);"array"===u&&(h=p("categoryarray")),d||"array"!==u||(u=g.categoryorder="trace"),"trace"===u?g._initialCategories=[]:"array"===u?g._initialCategories=h.slice():(h=function(_,b){var M,w,N,z=b.dataAttr||_._id.charAt(0),k={};if(b.axData)M=b.axData;else for(M=[],w=0;w<b.data.length;w++){var D=b.data[w];D[z+"axis"]===_._id&&M.push(D)}for(w=0;w<M.length;w++){var S=M[w][z];for(N=0;N<S.length;N++){var P=S[N];null!=P&&(k[P]=1)}}return Object.keys(k)}(g,l).sort(),"category ascending"===u?g._initialCategories=h:"category descending"===u&&(g._initialCategories=h.reverse()))}}},{}],285:[function(m,de,ne){"use strict";var o=m("fast-isnumeric"),g=m("../../lib"),p=m("../../constants/numerical"),l=p.ONEDAY,c=p.ONEWEEK;ne.dtick=function(C,d){var h="log"===d,u="date"===d,_="category"===d,b=u?l:1;if(!C)return b;if(o(C))return(C=Number(C))<=0?b:_?Math.max(1,Math.round(C)):u?Math.max(.1,C):C;if("string"!=typeof C||!u&&!h)return b;var M=C.charAt(0),w=C.substr(1);return(w=o(w)?Number(w):0)<=0||!(u&&"M"===M&&w===Math.round(w)||h&&"L"===M||h&&"D"===M&&(1===w||2===w))?b:C},ne.tick0=function(C,d,h,u){return"date"===d?g.cleanDate(C,g.dateTick0(h,u%c==0?1:0)):"D1"!==u&&"D2"!==u?o(C)?Number(C):0:void 0}},{"../../constants/numerical":212,"../../lib":232,"fast-isnumeric":17}],286:[function(m,de,ne){"use strict";var o=m("../../lib/regex").counter;de.exports={idRegex:{x:o("x","( domain)?"),y:o("y","( domain)?")},attrRegex:o("[xy]axis"),xAxisMatch:o("xaxis"),yAxisMatch:o("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,BENDPX:1.5,REDRAWDELAY:50,SELECTDELAY:100,SELECTID:"-select",DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},{"../../lib/regex":248}],287:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("./autorange"),p=m("./axis_ids").id2name,l=m("./layout_attributes"),c=m("./scale_zoom"),C=m("./set_convert"),d=m("../../constants/numerical").ALMOST_EQUAL,h=m("../../constants/alignment").FROM_BL;function u(k,D,S){var P=S.axIds,V=S.layoutOut,E=S.hasImage,I=V._axisConstraintGroups,L=V._axisMatchGroups,B=D._id,$=B.charAt(0),T=((V._splomAxes||{})[$]||{})[B]||{},Y=D._id,W="x"===Y.charAt(0);function q(X,R){return o.coerce(k,D,l,X,R)}D._matchGroup=null,D._constraintGroup=null,q("constrain",E?"domain":"range"),o.coerce(k,D,{constraintoward:{valType:"enumerated",values:W?["left","center","right"]:["bottom","middle","top"],dflt:W?"center":"middle"}},"constraintoward");var Q,te,ce=D.type,me=[];for(Q=0;Q<P.length;Q++)(te=P[Q])!==Y&&V[p(te)].type===ce&&me.push(te);var ie=b(I,Y);if(ie){var K=[];for(Q=0;Q<me.length;Q++)ie[te=me[Q]]||K.push(te);me=K}var le,G,j=me.length;j&&(k.matches||T.matches)&&(le=o.coerce(k,D,{matches:{valType:"enumerated",values:me,dflt:-1!==me.indexOf(T.matches)?T.matches:void 0}},"matches"));var oe=E&&!W?D.anchor:void 0;if(j&&!le&&(k.scaleanchor||oe)&&(G=o.coerce(k,D,{scaleanchor:{valType:"enumerated",values:me}},"scaleanchor",oe)),le){D._matchGroup=M(L,Y,le,1);var re=V[p(le)],F=_(V,D)/_(V,re);W!==("x"===le.charAt(0))&&(F=(W?"x":"y")+F),M(I,Y,le,F)}else k.matches&&-1!==P.indexOf(k.matches)&&o.warn("ignored "+D._name+'.matches: "'+k.matches+'" to avoid an infinite loop');if(G){var O=q("scaleratio");O||(O=D.scaleratio=1),M(I,Y,G,O)}else k.scaleanchor&&-1!==P.indexOf(k.scaleanchor)&&o.warn("ignored "+D._name+'.scaleanchor: "'+k.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function _(k,D){var S=D.domain;return S||(S=k[p(D.overlaying)].domain),S[1]-S[0]}function b(k,D){for(var S=0;S<k.length;S++)if(k[S][D])return k[S];return null}function M(k,D,S,P){var V,E,I,L,B,$=b(k,D);null===$?(($={})[D]=1,B=k.length,k.push($)):B=k.indexOf($);var T=Object.keys($);for(V=0;V<k.length;V++)if(I=k[V],V!==B&&I[S]){var Y=I[S];for(E=0;E<T.length;E++)I[L=T[E]]=w(Y,w(P,$[L]));return void k.splice(B,1)}if(1!==P)for(E=0;E<T.length;E++){var W=T[E];$[W]=w(P,$[W])}$[S]=1}function w(k,D){var S,P,V="",E="";"string"==typeof k&&(S=(V=k.match(/^[xy]*/)[0]).length,k=+k.substr(S)),"string"==typeof D&&(P=(E=D.match(/^[xy]*/)[0]).length,D=+D.substr(P));var I=k*D;return S||P?S&&P&&V.charAt(0)!==E.charAt(0)?S===P?I:(S>P?V.substr(P):E.substr(S))+I:V+E+k*D:I}function N(k,D){for(var S=D._size,P=S.h/S.w,V={},E=Object.keys(k),I=0;I<E.length;I++){var L=E[I],B=k[L];if("string"==typeof B){var $=B.match(/^[xy]*/)[0],T=$.length;B=+B.substr(T);for(var Y="y"===$.charAt(0)?P:1/P,W=0;W<T;W++)B*=Y}V[L]=B}return V}function z(k,D){var S=k._inputDomain,V=S[0]+(S[1]-S[0])*h[k.constraintoward];k.domain=k._input.domain=[V+(S[0]-V)/D,V+(S[1]-V)/D],k.setScale()}ne.handleDefaults=function(k,D,S){var P,V,E,I,L,B,$,T,Y=S.axIds,W=S.axHasImage,q=D._axisConstraintGroups=[],Q=D._axisMatchGroups=[];for(P=0;P<Y.length;P++)u(L=k[I=p(Y[P])],B=D[I],{axIds:Y,layoutOut:D,hasImage:W[I]});function te(re,F){for(P=0;P<re.length;P++)for(E in V=re[P])D[p(E)][F]=V}for(te(Q,"_matchGroup"),P=0;P<q.length;P++)for(E in V=q[P])if((B=D[p(E)]).fixedrange){for(var ce in V){var me=p(ce);!1===(k[me]||{}).fixedrange&&o.warn("fixedrange was specified as false for axis "+me+" but was overridden because another axis in its constraint group has fixedrange true"),D[me].fixedrange=!0}break}for(P=0;P<q.length;){for(E in V=q[P]){(B=D[p(E)])._matchGroup&&Object.keys(B._matchGroup).length===Object.keys(V).length&&(q.splice(P,1),P--);break}P++}te(q,"_constraintGroup");var ie=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],K=!1,le=!1;function G(){T=B[$],"rangebreaks"===$&&(le=B._hasDayOfWeekBreaks)}for(P=0;P<Q.length;P++){V=Q[P];for(var j=0;j<ie.length;j++){var oe;for(E in $=ie[j],T=null,V)if(L=k[I=p(E)],$ in(B=D[I])){if(!B.matches&&(oe=B,$ in L)){G();break}null===T&&$ in L&&G()}if("range"===$&&T&&(K=!0),"autorange"===$&&null===T&&K&&(T=!1),null===T&&$ in oe&&(T=oe[$]),null!==T)for(E in V)(B=D[p(E)])[$]="range"===$?T.slice():T,"rangebreaks"===$&&(B._hasDayOfWeekBreaks=le,C(B,D))}}},ne.enforce=function(k){var D,S,P,V,E,I,L,B,$=k._fullLayout,T=$._axisConstraintGroups||[];for(D=0;D<T.length;D++){P=N(T[D],$);var Y=Object.keys(P),W=1/0,q=0,Q=1/0,te={},ce={},me=!1;for(S=0;S<Y.length;S++)ce[V=Y[S]]=E=$[p(V)],E._inputDomain?E.domain=E._inputDomain.slice():E._inputDomain=E.domain.slice(),E._inputRange||(E._inputRange=E.range.slice()),E.setScale(),te[V]=I=Math.abs(E._m)/P[V],W=Math.min(W,I),"domain"!==E.constrain&&E._constraintShrinkable||(Q=Math.min(Q,I)),delete E._constraintShrinkable,q=Math.max(q,I),"domain"===E.constrain&&(me=!0);if(!(W>d*q)||me)for(S=0;S<Y.length;S++)if(I=te[V=Y[S]],L=(E=ce[V]).constrain,I!==Q||"domain"===L)if(B=I/Q,"range"===L)c(E,B);else{var ie=E._inputDomain,K=(E.domain[1]-E.domain[0])/(ie[1]-ie[0]),le=(E.r2l(E.range[1])-E.r2l(E.range[0]))/(E.r2l(E._inputRange[1])-E.r2l(E._inputRange[0]));if((B/=K)*le<1){E.domain=E._input.domain=ie.slice(),c(E,B);continue}if(le<1&&(E.range=E._input.range=E._inputRange.slice(),B*=le),E.autorange){var G=E.r2l(E.range[0]),j=E.r2l(E.range[1]),oe=(G+j)/2,re=oe,F=oe,O=Math.abs(j-oe),X=oe-O*B*1.0001,R=oe+O*B*1.0001,ae=g.makePadFn($,E,0),fe=g.makePadFn($,E,1);z(E,B);var ue,pe,xe=Math.abs(E._m),Me=g.concatExtremes(k,E),Ae=Me.min,ze=Me.max;for(pe=0;pe<Ae.length;pe++)(ue=Ae[pe].val-ae(Ae[pe])/xe)>X&&ue<re&&(re=ue);for(pe=0;pe<ze.length;pe++)(ue=ze[pe].val+fe(ze[pe])/xe)<R&&ue>F&&(F=ue);B/=(F-re)/(2*O),re=E.l2r(re),F=E.l2r(F),E.range=E._input.range=G<j?[re,F]:[F,re]}z(E,B)}}},ne.getAxisGroup=function(k,D){for(var S=k._axisMatchGroups,P=0;P<S.length;P++)if(S[P][D])return"g"+P;return D},ne.clean=function(k,D){if(D._inputDomain){for(var S=!1,P=D._id,V=k._fullLayout._axisConstraintGroups,E=0;E<V.length;E++)if(V[E][P]){S=!0;break}S&&"domain"===D.constrain||(D._input.domain=D.domain=D._inputDomain,delete D._inputDomain)}}},{"../../constants/alignment":207,"../../constants/numerical":212,"../../lib":232,"./autorange":278,"./axis_ids":283,"./layout_attributes":294,"./scale_zoom":299,"./set_convert":301}],288:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("../../lib"),p=g.numberFormat,l=m("tinycolor2"),c=m("has-passive-events"),C=m("../../registry"),d=g.strTranslate,h=m("../../lib/svg_text_utils"),u=m("../../components/color"),_=m("../../components/drawing"),b=m("../../components/fx"),M=m("./axes"),w=m("../../lib/setcursor"),N=m("../../components/dragelement"),z=m("../../components/dragelement/helpers"),k=z.selectingOrDrawing,D=z.freeMode,S=m("../../constants/alignment").FROM_TL,P=m("../../lib/clear_gl_canvases"),V=m("../../plot_api/subroutines").redrawReglTraces,E=m("../plots"),I=m("./axis_ids").getFromId,L=m("./select").prepSelect,B=m("./select").clearSelect,$=m("./select").selectOnClick,T=m("./scale_zoom"),Y=m("./constants"),W=Y.MINDRAG,q=Y.MINZOOM,Q=!0;function te(ue,pe,xe,Me){var Ae=g.ensureSingle(ue.draglayer,pe,xe,function(ze){ze.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",ue.id)});return Ae.call(w,Me),Ae.node()}function ce(ue,pe,xe,Me,Ae,ze,Fe){var Ue=te(ue,"rect",pe,xe);return o.select(Ue).call(_.setRect,Me,Ae,ze,Fe),Ue}function me(ue,pe){for(var xe=0;xe<ue.length;xe++)if(!ue[xe].fixedrange)return pe;return""}function ie(ue,pe,xe,Me,Ae){for(var ze=0;ze<ue.length;ze++){var Fe=ue[ze];if(!Fe.fixedrange)if(Fe.rangebreaks){var Ue="y"===Fe._id.charAt(0),Xe=Ue?1-xe:xe;Me[Fe._name+".range[0]"]=Fe.l2r(Fe.p2l((Ue?1-pe:pe)*Fe._length)),Me[Fe._name+".range[1]"]=Fe.l2r(Fe.p2l(Xe*Fe._length))}else{var Ge=Fe._rl[0],we=Fe._rl[1]-Ge;Me[Fe._name+".range[0]"]=Fe.l2r(Ge+we*pe),Me[Fe._name+".range[1]"]=Fe.l2r(Ge+we*xe)}}if(Ae&&Ae.length){var ve=(pe+(1-xe))/2;ie(Ae,ve,1-ve,Me,[])}}function K(ue,pe){for(var xe=0;xe<ue.length;xe++){var Me=ue[xe];if(!Me.fixedrange)if(Me.rangebreaks){var Ae=Me._length,ze=(Me.p2l(0+pe)-Me.p2l(0)+(Me.p2l(Ae+pe)-Me.p2l(Ae)))/2;Me.range=[Me.l2r(Me._rl[0]-ze),Me.l2r(Me._rl[1]-ze)]}else Me.range=[Me.l2r(Me._rl[0]-pe/Me._m),Me.l2r(Me._rl[1]-pe/Me._m)]}}function le(ue){return 1-(ue>=0?Math.min(ue,.9):1/(1/Math.max(ue,-.3)+3.222))}function G(ue,pe,xe,Me,Ae){return ue.append("path").attr("class","zoombox").style({fill:pe>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",d(xe,Me)).attr("d",Ae+"Z")}function j(ue,pe,xe){return ue.append("path").attr("class","zoombox-corners").style({fill:u.background,stroke:u.defaultLine,"stroke-width":1,opacity:0}).attr("transform",d(pe,xe)).attr("d","M0,0Z")}function oe(ue,pe,xe,Me,Ae,ze){ue.attr("d",Me+"M"+xe.l+","+xe.t+"v"+xe.h+"h"+xe.w+"v-"+xe.h+"h-"+xe.w+"Z"),re(ue,pe,Ae,ze)}function re(ue,pe,xe,Me){xe||(ue.transition().style("fill",Me>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),pe.transition().style("opacity",1).duration(200))}function F(ue){o.select(ue).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function O(ue){Q&&ue.data&&ue._context.showTips&&(g.notifier(g._(ue,"Double-click to zoom back out"),"long"),Q=!1)}function X(ue){var pe=Math.floor(Math.min(ue.b-ue.t,ue.r-ue.l,q)/2);return"M"+(ue.l-3.5)+","+(ue.t-.5+pe)+"h3v"+-pe+"h"+pe+"v-3h-"+(pe+3)+"ZM"+(ue.r+3.5)+","+(ue.t-.5+pe)+"h-3v"+-pe+"h"+-pe+"v-3h"+(pe+3)+"ZM"+(ue.r+3.5)+","+(ue.b+.5-pe)+"h-3v"+pe+"h"+-pe+"v3h"+(pe+3)+"ZM"+(ue.l-3.5)+","+(ue.b+.5-pe)+"h3v"+pe+"h"+pe+"v3h-"+(pe+3)+"Z"}function R(ue,pe,xe,Me,Ae){for(var ze,Fe,Ue,t1,Xe=!1,Ge={},we={},ve=(Ae||{}).xaHash,De=(Ae||{}).yaHash,Ve=0;Ve<pe.length;Ve++){var qe=pe[Ve];for(ze in xe)if(qe[ze]){for(Ue in qe)Ae&&(ve[Ue]||De[Ue])||("x"===Ue.charAt(0)?xe:Me)[Ue]||(Ge[Ue]=ze);for(Fe in Me)Ae&&(ve[Fe]||De[Fe])||!qe[Fe]||(Xe=!0)}for(Fe in Me)if(qe[Fe])for(t1 in qe)Ae&&(ve[t1]||De[t1])||("x"===t1.charAt(0)?xe:Me)[t1]||(we[t1]=Fe)}Xe&&(g.extendFlat(Ge,we),we={});var Ie={},Re=[];for(Ue in Ge){var Qe=I(ue,Ue);Re.push(Qe),Ie[Qe._id]=Qe}var n1={},Ye=[];for(t1 in we){var r1=I(ue,t1);Ye.push(r1),n1[r1._id]=r1}return{xaHash:Ie,yaHash:n1,xaxes:Re,yaxes:Ye,xLinks:Ge,yLinks:we,isSubplotConstrained:Xe}}function ae(ue,pe){if(c){var xe=void 0!==ue.onwheel?"wheel":"mousewheel";ue._onwheel&&ue.removeEventListener(xe,ue._onwheel),ue._onwheel=pe,ue.addEventListener(xe,pe,{passive:!1})}else void 0!==ue.onwheel?ue.onwheel=pe:void 0!==ue.onmousewheel?ue.onmousewheel=pe:ue.isAddedWheelEvent||(ue.isAddedWheelEvent=!0,ue.addEventListener("wheel",pe,{passive:!1}))}function fe(ue){var pe=[];for(var xe in ue)pe.push(ue[xe]);return pe}de.exports={makeDragBox:function(ue,pe,xe,Me,Ae,ze,Fe,Ue){var t1,Xe,Ge,we,ve,De,Ve,qe,Ie,Re,Qe,n1,Ye,r1,f1,Je,g1,b1,_1,I1,M1,Be,je,C1=ue._fullLayout._zoomlayer,O1=Fe+Ue==="nsew",Q1=1===(Fe+Ue).length;function st(){if(Ie=(t1=pe.xaxis)._length,Re=(Xe=pe.yaxis)._length,Ve=t1._offset,qe=Xe._offset,(Ge={})[t1._id]=t1,(we={})[Xe._id]=Xe,Fe&&Ue)for(var G1=pe.overlays,K1=0;K1<G1.length;K1++){var tt=G1[K1].xaxis;Ge[tt._id]=tt;var dt=G1[K1].yaxis;we[dt._id]=dt}ve=fe(Ge),De=fe(we),Ye=me(ve,Ue),r1=me(De,Fe),f1=!r1&&!Ye,n1=R(ue,ue._fullLayout._axisMatchGroups,Ge,we);var ot=(Qe=R(ue,ue._fullLayout._axisConstraintGroups,Ge,we,n1)).isSubplotConstrained||n1.isSubplotConstrained;Je=Ue||ot,g1=Fe||ot;var gt=ue._fullLayout;b1=gt._has("scattergl"),_1=gt._has("splom"),I1=gt._has("svg")}st();var G1,$1=(G1=r1+Ye)?"nsew"===G1?O1?"":"pan"===ue._fullLayout.dragmode?"move":"crosshair":G1.toLowerCase()+"-resize":"pointer",Z1=ce(pe,Fe+Ue+"drag",$1,xe,Me,Ae,ze);if(f1&&!O1)return Z1.onmousedown=null,Z1.style.pointerEvents="none",Z1;var N1,ge,ye,We,e1,d1,a1,l1,c1,w1,T1={element:Z1,gd:ue,plotinfo:pe};function B1(){T1.plotinfo.selection=!1,B(ue)}function rt(G1,K1){var f2,p2,Bt,Kt,Pt,tt=T1.gd;if(tt._fullLayout._activeShapeIndex>=0)tt._fullLayout._deactivateShape(tt);else{var dt=tt._fullLayout.clickmode;if(F(tt),2!==G1||Q1||function xt(){if(!ue._transitioningWithDuration){var G1=ue._context.doubleClick,K1=[];Ye&&(K1=K1.concat(ve)),r1&&(K1=K1.concat(De)),n1.xaxes&&(K1=K1.concat(n1.xaxes)),n1.yaxes&&(K1=K1.concat(n1.yaxes));var tt,dt,ot,gt={};if("reset+autosize"===G1)for(G1="autosize",dt=0;dt<K1.length;dt++)if((tt=K1[dt])._rangeInitial&&(tt.range[0]!==tt._rangeInitial[0]||tt.range[1]!==tt._rangeInitial[1])||!tt._rangeInitial&&!tt.autorange){G1="reset";break}if("autosize"===G1)for(dt=0;dt<K1.length;dt++)(tt=K1[dt]).fixedrange||(gt[tt._name+".autorange"]=!0);else if("reset"===G1)for((Ye||Qe.isSubplotConstrained)&&(K1=K1.concat(Qe.xaxes)),r1&&!Qe.isSubplotConstrained&&(K1=K1.concat(Qe.yaxes)),Qe.isSubplotConstrained&&(Ye?r1||(K1=K1.concat(De)):K1=K1.concat(ve)),dt=0;dt<K1.length;dt++)(tt=K1[dt]).fixedrange||(tt._rangeInitial?(gt[tt._name+".range[0]"]=(ot=tt._rangeInitial)[0],gt[tt._name+".range[1]"]=ot[1]):gt[tt._name+".autorange"]=!0);ue.emit("plotly_doubleclick",null),C.call("_guiRelayout",ue,gt)}}(),O1)dt.indexOf("select")>-1&&$(K1,tt,ve,De,pe.id,T1),dt.indexOf("event")>-1&&b.click(tt,K1,pe.id);else if(1===G1&&Q1){var ot=Fe?Xe:t1,gt="s"===Fe||"w"===Ue?0:1,Gt=ot._name+".range["+gt+"]",Qt=(Kt=(f2=ot).range[p2=gt],Pt=Math.abs(Kt-f2.range[1-p2]),"date"===f2.type?Kt:"log"===f2.type?(Bt=Math.ceil(Math.max(0,-Math.log(Pt)/Math.LN10))+3,p("."+Bt+"g")(Math.pow(10,Kt))):(Bt=Math.floor(Math.log(Math.abs(Kt))/Math.LN10)-Math.floor(Math.log(Pt)/Math.LN10)+4,p("."+String(Bt)+"g")(Kt))),Vt="left",kt="middle";if(ot.fixedrange)return;Fe?(kt="n"===Fe?"top":"bottom","right"===ot.side&&(Vt="right")):"e"===Ue&&(Vt="right"),tt._context.showAxisRangeEntryBoxes&&o.select(Z1).call(h.makeEditable,{gd:tt,immediate:!0,background:tt._fullLayout.paper_bgcolor,text:String(Qt),fill:ot.tickfont?ot.tickfont.color:"#444",horizontalAlign:Vt,verticalAlign:kt}).on("edit",function(f2){var p2=ot.d2r(f2);void 0!==p2&&C.call("_guiRelayout",tt,Gt,p2)})}}}function H1(G1,K1){if(ue._transitioningWithDuration)return!1;var kt,f2,tt=Math.max(0,Math.min(Ie,Be*G1+N1)),dt=Math.max(0,Math.min(Re,je*K1+ge)),ot=Math.abs(tt-N1),gt=Math.abs(dt-ge);function Gt(){a1="",ye.r=ye.l,ye.t=ye.b,c1.attr("d","M0,0Z")}if(ye.l=Math.min(N1,tt),ye.r=Math.max(N1,tt),ye.t=Math.min(ge,dt),ye.b=Math.max(ge,dt),Qe.isSubplotConstrained)ot>q||gt>q?(a1="xy",ot/Ie>gt/Re?(gt=ot*Re/Ie,ge>dt?ye.t=ge-gt:ye.b=ge+gt):(ot=gt*Ie/Re,N1>tt?ye.l=N1-ot:ye.r=N1+ot),c1.attr("d",X(ye))):Gt();else if(n1.isSubplotConstrained)if(ot>q||gt>q){a1="xy";var Qt=Math.min(ye.l/Ie,(Re-ye.b)/Re),Vt=Math.max(ye.r/Ie,(Re-ye.t)/Re);ye.l=Qt*Ie,ye.r=Vt*Ie,ye.b=(1-Qt)*Re,ye.t=(1-Vt)*Re,c1.attr("d",X(ye))}else Gt();else!r1||gt<Math.min(Math.max(.6*ot,W),q)?ot<W||!Ye?Gt():(ye.t=0,ye.b=Re,a1="x",c1.attr("d","M"+((kt=ye).l-.5)+","+((f2=ge)-q-.5)+"h-3v"+(2*q+1)+"h3ZM"+(kt.r+.5)+","+(f2-q-.5)+"h3v"+(2*q+1)+"h-3Z")):!Ye||ot<Math.min(.6*gt,q)?(ye.l=0,ye.r=Ie,a1="y",c1.attr("d",function(kt,f2){return"M"+(f2-q-.5)+","+(kt.t-.5)+"v-3h"+(2*q+1)+"v3ZM"+(f2-q-.5)+","+(kt.b+.5)+"v3h"+(2*q+1)+"v-3Z"}(ye,N1))):(a1="xy",c1.attr("d",X(ye)));ye.w=ye.r-ye.l,ye.h=ye.b-ye.t,a1&&(w1=!0),ue._dragged=w1,oe(l1,c1,ye,e1,d1,We),Y1(),ue.emit("plotly_relayouting",M1),d1=!0}function Y1(){M1={},"xy"!==a1&&"x"!==a1||(ie(ve,ye.l/Ie,ye.r/Ie,M1,Qe.xaxes),et("x",M1)),"xy"!==a1&&"y"!==a1||(ie(De,(Re-ye.b)/Re,(Re-ye.t)/Re,M1,Qe.yaxes),et("y",M1))}function ut(){Y1(),F(ue),yt(),O(ue)}T1.prepFn=function(G1,K1,tt){var dt=T1.dragmode,ot=ue._fullLayout.dragmode;ot!==dt&&(T1.dragmode=ot),st(),Be=ue._fullLayout._invScaleX,je=ue._fullLayout._invScaleY,f1||(O1?G1.shiftKey?"pan"===ot?ot="zoom":k(ot)||(ot="pan"):G1.ctrlKey&&(ot="pan"):ot="pan"),T1.minDrag=D(ot)?1:void 0,k(ot)?(T1.xaxes=ve,T1.yaxes=De,L(G1,K1,tt,T1,ot)):(T1.clickFn=rt,k(dt)&&B1(),f1||("zoom"===ot?(T1.moveFn=H1,T1.doneFn=ut,T1.minDrag=1,function(gt,Gt,Qt){var Vt=Z1.getBoundingClientRect();N1=Gt-Vt.left,ge=Qt-Vt.top,ue._fullLayout._calcInverseTransform(ue);var kt=g.apply3DTransform(ue._fullLayout._invTransform)(N1,ge);ye={l:N1=kt[0],r:N1,w:0,t:ge=kt[1],b:ge,h:0},We=ue._hmpixcount?ue._hmlumcount/ue._hmpixcount:l(ue._fullLayout.plot_bgcolor).getLuminance(),d1=!1,a1="xy",w1=!1,l1=G(C1,We,Ve,qe,e1="M0,0H"+Ie+"V"+Re+"H0V0"),c1=j(C1,Ve,qe)}(0,K1,tt)):"pan"===ot&&(T1.moveFn=j1,T1.doneFn=yt))),ue._fullLayout._redrag=function(){var gt=ue._dragdata;gt&&gt.element===Z1&&(k(ue._fullLayout.dragmode)||(st(),wt([0,0,Ie,Re]),T1.moveFn(gt.dx,gt.dy)))}},N.init(T1);var k1=[0,0,Ie,Re],L1=null,it=Y.REDRAWDELAY,X1=pe.mainplot?ue._fullLayout._plots[pe.mainplot]:pe;function j1(G1,K1){if(G1*=Be,K1*=je,!ue._transitioningWithDuration){if(ue._fullLayout._replotting=!0,"ew"===Ye||"ns"===r1){var tt=Ye?-G1:0,dt=r1?-K1:0;if(n1.isSubplotConstrained){if(Ye&&r1){var ot=(G1/Ie-K1/Re)/2;tt=-(G1=ot*Ie),dt=-(K1=-ot*Re)}r1?tt=-dt*Ie/Re:dt=-tt*Re/Ie}return Ye&&(K(ve,G1),et("x")),r1&&(K(De,K1),et("y")),wt([tt,dt,Ie,Re]),P1(),void ue.emit("plotly_relayouting",M1)}var gt,Gt,Qt="w"===Ye==("n"===r1)?1:-1;if(Ye&&r1&&(Qe.isSubplotConstrained||n1.isSubplotConstrained)){var Vt=(G1/Ie+Qt*K1/Re)/2;G1=Vt*Ie,K1=Qt*Vt*Re}if("w"===Ye?G1=Bt(ve,0,G1):"e"===Ye?G1=Bt(ve,1,-G1):Ye||(G1=0),"n"===r1?K1=Bt(De,1,K1):"s"===r1?K1=Bt(De,0,-K1):r1||(K1=0),gt="w"===Ye?G1:0,Gt="n"===r1?K1:0,Qe.isSubplotConstrained&&!n1.isSubplotConstrained||n1.isSubplotConstrained&&Ye&&r1&&Qt>0){var kt;if(n1.isSubplotConstrained||!Ye&&1===r1.length){for(kt=0;kt<ve.length;kt++)ve[kt].range=ve[kt]._r.slice(),T(ve[kt],1-K1/Re);gt=(G1=K1*Ie/Re)/2}if(n1.isSubplotConstrained||!r1&&1===Ye.length){for(kt=0;kt<De.length;kt++)De[kt].range=De[kt]._r.slice(),T(De[kt],1-G1/Ie);Gt=(K1=G1*Re/Ie)/2}}n1.isSubplotConstrained&&r1||et("x"),n1.isSubplotConstrained&&Ye||et("y");var f2=Ie-G1,p2=Re-K1;!n1.isSubplotConstrained||Ye&&r1||(Ye?(Gt=gt?0:G1*Re/Ie,p2=f2*Re/Ie):(gt=Gt?0:K1*Ie/Re,f2=p2*Ie/Re)),wt([gt,Gt,f2,p2]),P1(),ue.emit("plotly_relayouting",M1)}function Bt(Kt,Pt,m2){for(var zt,y2,d2=1-Pt,Et=0;Et<Kt.length;Et++){var u2=Kt[Et];if(!u2.fixedrange){zt=u2,y2=u2._rl[d2]+(u2._rl[Pt]-u2._rl[d2])/le(m2/u2._length);var _2=u2.l2r(y2);!1!==_2&&void 0!==_2&&(u2.range[Pt]=_2)}}return zt._length*(zt._rl[Pt]-y2)/(zt._rl[Pt]-zt._rl[d2])}}function et(G1,K1){for(var tt=n1.isSubplotConstrained?{x:De,y:ve}[G1]:n1[G1+"axes"],dt=n1.isSubplotConstrained?{x:ve,y:De}[G1]:[],ot=0;ot<tt.length;ot++){var gt=tt[ot],Gt=gt._id,Qt=n1.xLinks[Gt]||n1.yLinks[Gt],Vt=dt[0]||Ge[Qt]||we[Qt];Vt&&(K1?(K1[gt._name+".range[0]"]=K1[Vt._name+".range[0]"],K1[gt._name+".range[1]"]=K1[Vt._name+".range[1]"]):gt.range=Vt.range.slice())}}function P1(){var G1,K1=[];function tt(gt){for(G1=0;G1<gt.length;G1++)gt[G1].fixedrange||K1.push(gt[G1]._id)}for(Je&&(tt(ve),tt(Qe.xaxes),tt(n1.xaxes)),g1&&(tt(De),tt(Qe.yaxes),tt(n1.yaxes)),M1={},G1=0;G1<K1.length;G1++){var ot=I(ue,K1[G1]);M.drawOne(ue,ot,{skipTitle:!0}),M1[ot._name+".range[0]"]=ot.range[0],M1[ot._name+".range[1]"]=ot.range[1]}M.redrawComponents(ue,K1)}function yt(){wt([0,0,Ie,Re]),g.syncOrAsync([E.previousPromises,function(){ue._fullLayout._replotting=!1,C.call("_guiRelayout",ue,M1)}],ue)}function wt(G1){var K1,tt,dt,ot,gt=ue._fullLayout,Gt=gt._plots,Qt=gt._subplots.cartesian;if(_1&&C.subplotsRegistry.splom.drag(ue),b1)for(K1=0;K1<Qt.length;K1++)if(dt=(tt=Gt[Qt[K1]]).xaxis,ot=tt.yaxis,tt._scene){var Vt=g.simpleMap(dt.range,dt.r2l),kt=g.simpleMap(ot.range,ot.r2l);tt._scene.update({range:[Vt[0],kt[0],Vt[1],kt[1]]})}if((_1||b1)&&(P(ue),V(ue)),I1){var f2=G1[2]/t1._length,p2=G1[3]/Xe._length;for(K1=0;K1<Qt.length;K1++){dt=(tt=Gt[Qt[K1]]).xaxis,ot=tt.yaxis;var Bt,Kt,Pt,m2,y2=(g1||n1.isSubplotConstrained)&&!ot.fixedrange&&we[ot._id];if((Je||n1.isSubplotConstrained)&&!dt.fixedrange&&Ge[dt._id]?(Bt=f2,Pt=Ue||n1.isSubplotConstrained?G1[0]:Dt(dt,Bt)):n1.xaHash[dt._id]?(Bt=f2,Pt=G1[0]*dt._length/t1._length):n1.yaHash[dt._id]?(Bt=p2,Pt="ns"===r1?-G1[1]*dt._length/Xe._length:Dt(dt,Bt,{n:"top",s:"bottom"}[r1])):Pt=Ot(dt,Bt=Ft(dt,f2,p2)),y2?(Kt=p2,m2=Fe||n1.isSubplotConstrained?G1[1]:Dt(ot,Kt)):n1.yaHash[ot._id]?(Kt=p2,m2=G1[1]*ot._length/Xe._length):n1.xaHash[ot._id]?(Kt=f2,m2="ew"===Ye?-G1[0]*ot._length/t1._length:Dt(ot,Kt,{e:"right",w:"left"}[Ye])):m2=Ot(ot,Kt=Ft(ot,f2,p2)),Bt||Kt){Bt||(Bt=1),Kt||(Kt=1);var d2=dt._offset-Pt/Bt,Et=ot._offset-m2/Kt;tt.clipRect.call(_.setTranslate,Pt,m2).call(_.setScale,Bt,Kt),tt.plot.call(_.setTranslate,d2,Et).call(_.setScale,1/Bt,1/Kt),Bt===tt.xScaleFactor&&Kt===tt.yScaleFactor||(_.setPointGroupScale(tt.zoomScalePts,Bt,Kt),_.setTextPointsScale(tt.zoomScaleTxt,Bt,Kt)),_.hideOutsideRangePoints(tt.clipOnAxisFalseTraces,tt),tt.xScaleFactor=Bt,tt.yScaleFactor=Kt}}}}function Ft(G1,K1,tt){return G1.fixedrange?0:Je&&Qe.xaHash[G1._id]?K1:g1&&(Qe.isSubplotConstrained?Qe.xaHash:Qe.yaHash)[G1._id]?tt:0}function Ot(G1,K1){return K1?(G1.range=G1._r.slice(),T(G1,K1),Dt(G1,K1)):0}function Dt(G1,K1,tt){return G1._length*(1-K1)*S[tt||G1.constraintoward||"middle"]}return Fe.length*Ue.length!=1&&ae(Z1,function(G1){if(ue._context._scrollZoom.cartesian||ue._fullLayout._enablescrollzoom){if(B1(),ue._transitioningWithDuration)return G1.preventDefault(),void G1.stopPropagation();st(),clearTimeout(L1);var K1=-G1.deltaY;if(isFinite(K1)||(K1=G1.wheelDelta/10),isFinite(K1)){var tt,dt=Math.exp(-Math.min(Math.max(K1,-20),20)/200),ot=X1.draglayer.select(".nsewdrag").node().getBoundingClientRect(),gt=(G1.clientX-ot.left)/ot.width,Gt=(ot.bottom-G1.clientY)/ot.height;if(Je){for(Ue||(gt=.5),tt=0;tt<ve.length;tt++)Qt(ve[tt],gt,dt);et("x"),k1[2]*=dt,k1[0]+=k1[2]*gt*(1/dt-1)}if(g1){for(Fe||(Gt=.5),tt=0;tt<De.length;tt++)Qt(De[tt],Gt,dt);et("y"),k1[3]*=dt,k1[1]+=k1[3]*(1-Gt)*(1/dt-1)}wt(k1),P1(),ue.emit("plotly_relayouting",M1),L1=setTimeout(function(){ue._fullLayout&&(k1=[0,0,Ie,Re],yt())},it),G1.preventDefault()}else g.log("Did not find wheel motion attributes: ",G1)}function Qt(Vt,kt,f2){if(!Vt.fixedrange){var p2=g.simpleMap(Vt.range,Vt.r2l),Bt=p2[0]+(p2[1]-p2[0])*kt;Vt.range=p2.map(function(Kt){return Vt.l2r(Bt+(Kt-Bt)*f2)})}}}),Z1},makeDragger:te,makeRectDragger:ce,makeZoombox:G,makeCorners:j,updateZoombox:oe,xyCorners:X,transitionZoombox:re,removeZoombox:F,showDoubleClickNotifier:O,attachWheelEventHandler:ae}},{"../../components/color":102,"../../components/dragelement":121,"../../components/dragelement/helpers":120,"../../components/drawing":124,"../../components/fx":142,"../../constants/alignment":207,"../../lib":232,"../../lib/clear_gl_canvases":220,"../../lib/setcursor":252,"../../lib/svg_text_utils":255,"../../plot_api/subroutines":269,"../../registry":318,"../plots":316,"./axes":279,"./axis_ids":283,"./constants":286,"./scale_zoom":299,"./select":300,"@plotly/d3":11,"has-passive-events":49,tinycolor2:67}],289:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("../../components/fx"),p=m("../../components/dragelement"),l=m("../../lib/setcursor"),c=m("./dragbox").makeDragBox,C=m("./constants").DRAGGERSIZE;ne.initInteractions=function(d){var h=d._fullLayout;if(d._context.staticPlot)o.select(d).selectAll(".drag").remove();else if(h._has("cartesian")||h._has("splom")){Object.keys(h._plots||{}).sort(function(_,b){if((h._plots[_].mainplot&&!0)===(h._plots[b].mainplot&&!0)){var M=_.split("y"),w=b.split("y");return M[0]===w[0]?Number(M[1]||1)-Number(w[1]||1):Number(M[0]||1)-Number(w[0]||1)}return h._plots[_].mainplot?1:-1}).forEach(function(_){var b=h._plots[_],M=b.xaxis,w=b.yaxis;if(!b.mainplot){var N=c(d,b,M._offset,w._offset,M._length,w._length,"ns","ew");N.onmousemove=function(D){d._fullLayout._rehover=function(){d._fullLayout._hoversubplot===_&&d._fullLayout._plots[_]&&g.hover(d,D,_)},g.hover(d,D,_),d._fullLayout._lasthover=N,d._fullLayout._hoversubplot=_},N.onmouseout=function(D){d._dragging||(d._fullLayout._hoversubplot=null,p.unhover(d,D))},d._context.showAxisDragHandles&&(c(d,b,M._offset-C,w._offset-C,C,C,"n","w"),c(d,b,M._offset+M._length,w._offset-C,C,C,"n","e"),c(d,b,M._offset-C,w._offset+w._length,C,C,"s","w"),c(d,b,M._offset+M._length,w._offset+w._length,C,C,"s","e"))}if(d._context.showAxisDragHandles){if(_===M._mainSubplot){var z=M._mainLinePosition;"top"===M.side&&(z-=C),c(d,b,M._offset+.1*M._length,z,.8*M._length,C,"","ew"),c(d,b,M._offset,z,.1*M._length,C,"","w"),c(d,b,M._offset+.9*M._length,z,.1*M._length,C,"","e")}if(_===w._mainSubplot){var k=w._mainLinePosition;"right"!==w.side&&(k-=C),c(d,b,k,w._offset+.1*w._length,C,.8*w._length,"ns",""),c(d,b,k,w._offset+.9*w._length,C,.1*w._length,"s",""),c(d,b,k,w._offset,C,.1*w._length,"n","")}}});var u=h._hoverlayer.node();u.onmousemove=function(_){_.target=d._fullLayout._lasthover,g.hover(d,_,h._hoversubplot)},u.onclick=function(_){_.target=d._fullLayout._lasthover,g.click(d,_)},u.onmousedown=function(_){d._fullLayout._lasthover.onmousedown(_)},ne.updateFx(d)}},ne.updateFx=function(d){var h=d._fullLayout;l(h._draggers,"pan"===h.dragmode?"move":"crosshair")}},{"../../components/dragelement":121,"../../components/fx":142,"../../lib/setcursor":252,"./constants":286,"./dragbox":288,"@plotly/d3":11}],290:[function(m,de,ne){"use strict";de.exports={clearOutlineControllers:function(o){var g=o._fullLayout._zoomlayer;g&&g.selectAll(".outline-controllers").remove()},clearSelect:function(o){var g=o._fullLayout._zoomlayer;g&&g.selectAll(".select-outline").remove(),o._fullLayout._drawing=!1}}},{}],291:[function(m,de,ne){"use strict";var o=m("../../lib").strTranslate;function g(p,l){switch(p.type){case"log":return p.p2d(l);case"date":return p.p2r(l,0,p.calendar);default:return p.p2r(l)}}de.exports={p2r:g,r2p:function(p,l){switch(p.type){case"log":return p.d2p(l);case"date":return p.r2p(l,0,p.calendar);default:return p.r2p(l)}},axValue:function(p){var l="y"===p._id.charAt(0)?1:0;return function(c){return g(p,c[l])}},getTransform:function(p){return o(p.xaxis._offset,p.yaxis._offset)}}},{"../../lib":232}],292:[function(m,de,ne){"use strict";var o=m("../../registry"),g=m("../../lib"),p=m("./axis_ids");de.exports=function(l){return function(c,C){var d=c[l];if(Array.isArray(d))for(var h=o.subplotsRegistry.cartesian,u=h.idRegex,_=C._subplots,b=_.xaxis,M=_.yaxis,w=_.cartesian,N=C._has("cartesian")||C._has("gl2d"),z=0;z<d.length;z++){var k=d[z];if(g.isPlainObject(k)){var D=p.cleanId(k.xref,"x",!1),S=p.cleanId(k.yref,"y",!1),P=u.x.test(D),V=u.y.test(S);if(P||V){N||g.pushUnique(C._basePlotModules,h);var E=!1;P&&-1===b.indexOf(D)&&(b.push(D),E=!0),V&&-1===M.indexOf(S)&&(M.push(S),E=!0),E&&P&&V&&w.push(D+S)}}}}}},{"../../lib":232,"../../registry":318,"./axis_ids":283}],293:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("../../registry"),p=m("../../lib"),l=m("../plots"),c=m("../../components/drawing"),C=m("../get_data").getModuleCalcData,d=m("./axis_ids"),h=m("./constants"),u=m("../../constants/xmlns_namespaces"),_=p.ensureSingle;function b(k,D,S){return p.ensureSingle(k,D,S,function(P){P.datum(S)})}function M(k,D,S,P,V){for(var E,I,L,B=h.traceLayerClasses,$=k._fullLayout,T=$._modules,Y=[],W=[],q=0;q<T.length;q++){var Q=(E=T[q]).name,te=g.modules[Q].categories;if(te.svg){var ce=E.layerName||Q+"layer",me=E.plot;L=(I=C(S,me))[0],S=I[1],L.length&&Y.push({i:B.indexOf(ce),className:ce,plotMethod:me,cdModule:L}),te.zoomScale&&W.push("."+ce)}}Y.sort(function(le,G){return le.i-G.i});var ie=D.plot.selectAll("g.mlayer").data(Y,function(le){return le.className});if(ie.enter().append("g").attr("class",function(le){return le.className}).classed("mlayer",!0).classed("rangeplot",D.isRangePlot),ie.exit().remove(),ie.order(),ie.each(function(le){var G=o.select(this),j=le.className;le.plotMethod(k,D,le.cdModule,G,P,V),-1===h.clipOnAxisFalseQuery.indexOf("."+j)&&c.setClipUrl(G,D.layerClipId,k)}),$._has("scattergl")&&(E=g.getModule("scattergl"),L=C(S,E)[0],E.plot(k,D,L)),!k._context.staticPlot&&(D._hasClipOnAxisFalse&&(D.clipOnAxisFalseTraces=D.plot.selectAll(h.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),W.length)){var K=D.plot.selectAll(W.join(",")).selectAll(".trace");D.zoomScalePts=K.selectAll("path.point"),D.zoomScaleTxt=K.selectAll(".textpoint")}}function w(k,D){var S=D.plotgroup,P=D.id,V=h.layerValue2layerClass[D.xaxis.layer],E=h.layerValue2layerClass[D.yaxis.layer],I=k._fullLayout._hasOnlyLargeSploms;if(D.mainplot){var L=D.mainplotinfo,B=L.plotgroup,$=P+"-x",T=P+"-y";D.minorGridlayer=L.minorGridlayer,D.gridlayer=L.gridlayer,D.zerolinelayer=L.zerolinelayer,_(L.overlinesBelow,"path",$),_(L.overlinesBelow,"path",T),_(L.overaxesBelow,"g",$),_(L.overaxesBelow,"g",T),D.plot=_(L.overplot,"g",P),_(L.overlinesAbove,"path",$),_(L.overlinesAbove,"path",T),_(L.overaxesAbove,"g",$),_(L.overaxesAbove,"g",T),D.xlines=B.select(".overlines-"+V).select("."+$),D.ylines=B.select(".overlines-"+E).select("."+T),D.xaxislayer=B.select(".overaxes-"+V).select("."+$),D.yaxislayer=B.select(".overaxes-"+E).select("."+T)}else if(I)D.xlines=_(S,"path","xlines-above"),D.ylines=_(S,"path","ylines-above"),D.xaxislayer=_(S,"g","xaxislayer-above"),D.yaxislayer=_(S,"g","yaxislayer-above");else{var Y=_(S,"g","layer-subplot");D.shapelayer=_(Y,"g","shapelayer"),D.imagelayer=_(Y,"g","imagelayer"),D.minorGridlayer=_(S,"g","minor-gridlayer"),D.gridlayer=_(S,"g","gridlayer"),D.zerolinelayer=_(S,"g","zerolinelayer"),_(S,"path","xlines-below"),_(S,"path","ylines-below"),D.overlinesBelow=_(S,"g","overlines-below"),_(S,"g","xaxislayer-below"),_(S,"g","yaxislayer-below"),D.overaxesBelow=_(S,"g","overaxes-below"),D.plot=_(S,"g","plot"),D.overplot=_(S,"g","overplot"),D.xlines=_(S,"path","xlines-above"),D.ylines=_(S,"path","ylines-above"),D.overlinesAbove=_(S,"g","overlines-above"),_(S,"g","xaxislayer-above"),_(S,"g","yaxislayer-above"),D.overaxesAbove=_(S,"g","overaxes-above"),D.xlines=S.select(".xlines-"+V),D.ylines=S.select(".ylines-"+E),D.xaxislayer=S.select(".xaxislayer-"+V),D.yaxislayer=S.select(".yaxislayer-"+E)}I||(b(D.minorGridlayer,"g",D.xaxis._id),b(D.minorGridlayer,"g",D.yaxis._id),D.minorGridlayer.selectAll("g").map(function(W){return W[0]}).sort(d.idSort),b(D.gridlayer,"g",D.xaxis._id),b(D.gridlayer,"g",D.yaxis._id),D.gridlayer.selectAll("g").map(function(W){return W[0]}).sort(d.idSort)),D.xlines.style("fill","none").classed("crisp",!0),D.ylines.style("fill","none").classed("crisp",!0)}function N(k,D){if(k){var S={};for(var P in k.each(function(L){var B=L[0];o.select(this).remove(),z(B,D),S[B]=!0}),D._plots)for(var V=D._plots[P].overlays||[],E=0;E<V.length;E++){var I=V[E];S[I.id]&&I.plot.selectAll(".trace").remove()}}}function z(k,D){D._draggers.selectAll("g."+k).remove(),D._defs.select("#clip"+D._uid+k+"plot").remove()}ne.name="cartesian",ne.attr=["xaxis","yaxis"],ne.idRoot=["x","y"],ne.idRegex=h.idRegex,ne.attrRegex=h.attrRegex,ne.attributes=m("./attributes"),ne.layoutAttributes=m("./layout_attributes"),ne.supplyLayoutDefaults=m("./layout_defaults"),ne.transitionAxes=m("./transition_axes"),ne.finalizeSubplots=function(k,D){var S,P,V,E=D._subplots,I=E.xaxis,L=E.yaxis,B=E.cartesian,$=B.concat(E.gl2d||[]),T={},Y={};for(S=0;S<$.length;S++){var W=$[S].split("y");T[W[0]]=1,Y["y"+W[1]]=1}for(S=0;S<I.length;S++)T[P=I[S]]||(V=(k[d.id2name(P)]||{}).anchor,h.idRegex.y.test(V)||(V="y"),B.push(P+V),$.push(P+V),Y[V]||(Y[V]=1,p.pushUnique(L,V)));for(S=0;S<L.length;S++)Y[V=L[S]]||(P=(k[d.id2name(V)]||{}).anchor,h.idRegex.x.test(P)||(P="x"),B.push(P+V),$.push(P+V),T[P]||(T[P]=1,p.pushUnique(I,P)));if(!$.length){for(var q in P="",V="",k)h.attrRegex.test(q)&&("x"===q.charAt(0)?(!P||+q.substr(5)<+P.substr(5))&&(P=q):(!V||+q.substr(5)<+V.substr(5))&&(V=q));P=P?d.name2id(P):"x",V=V?d.name2id(V):"y",I.push(P),L.push(V),B.push(P+V)}},ne.plot=function(k,D,S,P){var V,E=k._fullLayout,I=E._subplots.cartesian,L=k.calcdata;if(!Array.isArray(D))for(D=[],V=0;V<L.length;V++)D.push(V);for(V=0;V<I.length;V++){for(var B,$=I[V],T=E._plots[$],Y=[],W=0;W<L.length;W++){var q=L[W],Q=q[0].trace;Q.xaxis+Q.yaxis===$&&((-1!==D.indexOf(Q.index)||Q.carpet)&&(B&&B[0].trace.xaxis+B[0].trace.yaxis===$&&-1!==["tonextx","tonexty","tonext"].indexOf(Q.fill)&&-1===Y.indexOf(B)&&Y.push(B),Y.push(q)),B=q)}M(k,T,Y,S,P)}},ne.clean=function(k,D,S,P){var V,E,I,L=P._plots||{},B=D._plots||{},$=P._subplots||{};if(P._hasOnlyLargeSploms&&!D._hasOnlyLargeSploms)for(I in L)(V=L[I]).plotgroup&&V.plotgroup.remove();var T=P._has&&P._has("gl"),Y=D._has&&D._has("gl");if(T&&!Y)for(I in L)(V=L[I])._scene&&V._scene.destroy();if($.xaxis&&$.yaxis){var W=d.listIds({_fullLayout:P});for(E=0;E<W.length;E++){var q=W[E];D[d.id2name(q)]||P._infolayer.selectAll(".g-"+q+"title").remove()}}var Q=P._has&&P._has("cartesian"),te=D._has&&D._has("cartesian");if(Q&&!te)N(P._cartesianlayer.selectAll(".subplot"),P),P._defs.selectAll(".axesclip").remove(),delete P._axisConstraintGroups,delete P._axisMatchGroups;else if($.cartesian)for(E=0;E<$.cartesian.length;E++){var ce=$.cartesian[E];B[ce]||(P._cartesianlayer.selectAll("."+ce+",."+ce+"-x,."+ce+"-y").remove(),z(ce,P))}},ne.drawFramework=function(k){var D=k._fullLayout,S=function(V){var E,I,L,B,$,T,Y=V._fullLayout,W=Y._subplots.cartesian,q=W.length,Q=[],te=[];for(E=0;E<q;E++){var ie=($=(B=Y._plots[L=W[E]]).xaxis)._mainAxis._id+(T=B.yaxis)._mainAxis._id,K=Y._plots[ie];B.overlays=[],ie!==L&&K?(B.mainplot=ie,B.mainplotinfo=K,te.push(L)):(B.mainplot=void 0,B.mainplotinfo=void 0,Q.push(L))}for(E=0;E<te.length;E++)(B=Y._plots[L=te[E]]).mainplotinfo.overlays.push(B);var le=Q.concat(te),G=new Array(q);for(E=0;E<q;E++){var j=[L=le[E],($=(B=Y._plots[L]).xaxis).layer,(T=B.yaxis).layer,$.overlaying||"",T.overlaying||""];for(I=0;I<B.overlays.length;I++)j.push(B.overlays[I].id);G[E]=j}return G}(k),P=D._cartesianlayer.selectAll(".subplot").data(S,String);P.enter().append("g").attr("class",function(V){return"subplot "+V[0]}),P.order(),P.exit().call(N,D),P.each(function(V){var E=V[0],I=D._plots[E];I.plotgroup=o.select(this),w(k,I),I.draglayer=_(D._draggers,"g",E)})},ne.rangePlot=function(k,D,S){w(k,D),M(k,D,S),l.style(k)},ne.toSVG=function(k){var D=k._fullLayout._glimages,S=o.select(k).selectAll(".svg-container");S.filter(function(P,V){return V===S.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var P=this.toDataURL("image/png");D.append("svg:image").attr({xmlns:u.svg,"xlink:href":P,preserveAspectRatio:"none",x:0,y:0,width:this.style.width,height:this.style.height})})},ne.updateFx=m("./graph_interact").updateFx},{"../../components/drawing":124,"../../constants/xmlns_namespaces":213,"../../lib":232,"../../registry":318,"../get_data":312,"../plots":316,"./attributes":277,"./axis_ids":283,"./constants":286,"./graph_interact":289,"./layout_attributes":294,"./layout_defaults":295,"./transition_axes":306,"@plotly/d3":11}],294:[function(m,de,ne){"use strict";var o=m("../font_attributes"),g=m("../../components/color/attributes"),p=m("../../components/drawing/attributes").dash,l=m("../../lib/extend").extendFlat,c=m("../../plot_api/plot_template").templatedArray,C=m("../../plots/cartesian/axis_format_attributes").descriptionWithDates,d=m("../../constants/numerical").ONEDAY,h=m("./constants"),u=h.HOUR_PATTERN,_=h.WEEKDAY_PATTERN,b={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}};function M(B){return{valType:"integer",min:0,dflt:B?5:0,editType:"ticks"}}var w={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},N={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},z={valType:"data_array",editType:"ticks"},k={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function D(B){var $={valType:"number",min:0,editType:"ticks"};return B||($.dflt=5),$}function S(B){var $={valType:"number",min:0,editType:"ticks"};return B||($.dflt=1),$}var P={valType:"color",dflt:g.defaultLine,editType:"ticks"},V={valType:"color",dflt:g.lightLine,editType:"ticks"};function E(B){var $={valType:"number",min:0,editType:"ticks"};return B||($.dflt=1),$}var I=l({},p,{editType:"ticks"}),L={valType:"boolean",editType:"ticks"};de.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:g.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:o({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[h.idRegex.x.toString(),h.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[h.idRegex.x.toString(),h.idRegex.y.toString()],editType:"calc"},rangebreaks:c("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[_,u,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:d},editType:"calc"}),tickmode:b,nticks:M(),tick0:w,dtick:N,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:z,ticktext:{valType:"data_array",editType:"ticks"},ticks:k,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:D(),tickwidth:S(),tickcolor:P,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},automargin:{valType:"boolean",dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:l({},p,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:o({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:C("tick label")},tickformatstops:c("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:C("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:g.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:L,gridcolor:V,gridwidth:E(),griddash:I,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:g.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:g.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",h.idRegex.x.toString(),h.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",h.idRegex.x.toString(),h.idRegex.y.toString()],editType:"plot"},minor:{tickmode:b,nticks:M("minor"),tick0:w,dtick:N,tickvals:z,ticks:k,ticklen:D("minor"),tickwidth:S("minor"),tickcolor:P,gridcolor:V,gridwidth:E("minor"),griddash:I,showgrid:L,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:o({editType:"ticks"})}}},{"../../components/color/attributes":101,"../../components/drawing/attributes":123,"../../constants/numerical":212,"../../lib/extend":226,"../../plot_api/plot_template":268,"../../plots/cartesian/axis_format_attributes":282,"../font_attributes":310,"./constants":286}],295:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("../../components/color"),p=m("../../components/fx/helpers").isUnifiedHover,l=m("../../components/fx/hovermode_defaults"),c=m("../../plot_api/plot_template"),C=m("../layout_attributes"),d=m("./layout_attributes"),h=m("./type_defaults"),u=m("./axis_defaults"),_=m("./constraints"),b=m("./position_defaults"),M=m("./axis_ids"),w=M.id2name,N=M.name2id,z=m("./constants").AX_ID_PATTERN,k=m("../../registry"),D=k.traceIs,S=k.getComponentMethod;function P(V,E,I){Array.isArray(V[E])?V[E].push(I):V[E]=[I]}de.exports=function(V,E,I){var L,B,$=E.autotypenumbers,T={},Y={},W={},q={},Q={},te={},ce={},me={},ie={},K={};for(L=0;L<I.length;L++){var le=I[L];if(D(le,"cartesian")||D(le,"gl2d")){var G,j;if(le.xaxis)G=w(le.xaxis),P(T,G,le);else if(le.xaxes)for(B=0;B<le.xaxes.length;B++)P(T,w(le.xaxes[B]),le);if(le.yaxis)j=w(le.yaxis),P(T,j,le);else if(le.yaxes)for(B=0;B<le.yaxes.length;B++)P(T,w(le.yaxes[B]),le);"funnel"===le.type?"h"===le.orientation?(G&&(Y[G]=!0),j&&(ce[j]=!0)):j&&(W[j]=!0):"image"===le.type?(j&&(me[j]=!0),G&&(me[G]=!0)):(j&&(Q[j]=!0,te[j]=!0),D(le,"carpet")&&("carpet"!==le.type||le._cheater)||G&&(q[G]=!0)),"carpet"===le.type&&le._cheater&&G&&(Y[G]=!0),D(le,"2dMap")&&(ie[G]=!0,ie[j]=!0),D(le,"oriented")&&(K["h"===le.orientation?j:G]=!0)}}var oe=E._subplots,re=oe.xaxis,F=oe.yaxis,O=o.simpleMap(re,w),X=o.simpleMap(F,w),R=O.concat(X),ae=g.background;re.length&&F.length&&(ae=o.coerce(V,E,C,"plot_bgcolor"));var fe,ue,pe,xe,Me,Ae=g.combine(ae,E.paper_bgcolor);function ze(){Me._traceIndices=(T[fe]||[]).map(function(C1){return C1._expandedIndex}),Me._annIndices=[],Me._shapeIndices=[],Me._imgIndices=[],Me._subplotsWith=[],Me._counterAxes=[],Me._name=Me._attr=fe,Me._id=ue}function Fe(je,C1){return o.coerce(xe,Me,d,je,C1)}function Ue(je,C1){return o.coerce2(xe,Me,d,je,C1)}function t1(je){return"x"===je?F:re}function Xe(je,C1){for(var O1="x"===je?O:X,Q1=[],st=0;st<O1.length;st++){var $1=O1[st];$1===C1||(V[$1]||{}).overlaying||Q1.push(N($1))}return Q1}var Ge={x:t1("x"),y:t1("y")},we=Ge.x.concat(Ge.y),ve={},De=[];function Ve(){var je=xe.matches;z.test(je)&&-1===we.indexOf(je)&&(ve[je]=xe.type,De=Object.keys(ve))}var qe=l(V,E),Ie=p(qe);for(L=0;L<R.length;L++){ue=N(fe=R[L]),pe=fe.charAt(0),o.isPlainObject(V[fe])||(V[fe]={}),xe=V[fe],Me=c.newContainer(E,fe,pe+"axis"),ze();var n1={hasMinor:!0,letter:pe,font:E.font,outerTicks:ie[fe],showGrid:!K[fe],data:T[fe]||[],bgColor:Ae,calendar:E.calendar,automargin:!0,visibleDflt:"x"===pe&&!q[fe]&&Y[fe]||"y"===pe&&!Q[fe]&&W[fe],reverseDflt:"y"===pe&&(!te[fe]&&ce[fe]||me[fe]),autotypenumbersDflt:$,splomStash:((E._splomAxes||{})[pe]||{})[ue]};Fe("uirevision",E.uirevision),h(xe,Me,Fe,n1),u(xe,Me,Fe,n1,E);var Ye=Ie&&pe===qe.charAt(0),r1=Ue("spikecolor",Ie?Me.color:void 0),f1=Ue("spikethickness",Ie?1.5:void 0),Je=Ue("spikedash",Ie?"dot":void 0),g1=Ue("spikemode",Ie?"across":void 0),b1=Ue("spikesnap");Fe("showspikes",!!(Ye||r1||f1||Je||g1||b1))||(delete Me.spikecolor,delete Me.spikethickness,delete Me.spikedash,delete Me.spikemode,delete Me.spikesnap),b(xe,Me,Fe,{letter:pe,counterAxes:Ge[pe],overlayableAxes:Xe(pe,fe),grid:E.grid}),Fe("title.standoff"),Ve(),Me._input=xe}for(L=0;L<De.length;){ue=De[L++],pe=(fe=w(ue)).charAt(0),o.isPlainObject(V[fe])||(V[fe]={}),xe=V[fe],Me=c.newContainer(E,fe,pe+"axis"),ze();var _1={letter:pe,font:E.font,outerTicks:ie[fe],showGrid:!K[fe],data:[],bgColor:Ae,calendar:E.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:$,splomStash:((E._splomAxes||{})[pe]||{})[ue]};Fe("uirevision",E.uirevision),Me.type=ve[ue]||"linear",u(xe,Me,Fe,_1,E),b(xe,Me,Fe,{letter:pe,counterAxes:Ge[pe],overlayableAxes:Xe(pe,fe),grid:E.grid}),Fe("fixedrange"),Ve(),Me._input=xe}var I1=S("rangeslider","handleDefaults"),M1=S("rangeselector","handleDefaults");for(L=0;L<O.length;L++)xe=V[fe=O[L]],Me=E[fe],I1(V,E,fe),"date"===Me.type&&M1(xe,Me,E,X,Me.calendar),Fe("fixedrange");for(L=0;L<X.length;L++){xe=V[fe=X[L]];var Be=E[w((Me=E[fe]).anchor)];Fe("fixedrange",S("rangeslider","isVisible")(Be))}_.handleDefaults(V,E,{axIds:we.concat(De).sort(M.idSort),axHasImage:me})}},{"../../components/color":102,"../../components/fx/helpers":138,"../../components/fx/hovermode_defaults":141,"../../lib":232,"../../plot_api/plot_template":268,"../../registry":318,"../layout_attributes":314,"./axis_defaults":281,"./axis_ids":283,"./constants":286,"./constraints":287,"./layout_attributes":294,"./position_defaults":297,"./type_defaults":307}],296:[function(m,de,ne){"use strict";var o=m("tinycolor2").mix,g=m("../../components/color/attributes"),p=m("../../lib");de.exports=function(l,c,C,d){var h=(d=d||{}).dfltColor;function u(V,E){return p.coerce2(l,c,d.attributes,V,E)}var _=u("linecolor",h),b=u("linewidth");C("showline",d.showLine||!!_||!!b)||(delete c.linecolor,delete c.linewidth);var M=u("gridcolor",o(h,d.bgColor,d.blend||g.lightFraction).toRgbString()),w=u("gridwidth"),N=u("griddash");if(C("showgrid",d.showGrid||!!M||!!w||!!N)||(delete c.gridcolor,delete c.gridwidth,delete c.griddash),d.hasMinor){var z=u("minor.gridcolor",o(c.gridcolor,d.bgColor,67).toRgbString()),k=u("minor.gridwidth",c.gridwidth||1),D=u("minor.griddash",c.griddash||"solid");C("minor.showgrid",!!z||!!k||!!D)||(delete c.minor.gridcolor,delete c.minor.gridwidth,delete c.minor.griddash)}if(!d.noZeroLine){var S=u("zerolinecolor",h),P=u("zerolinewidth");C("zeroline",d.showGrid||!!S||!!P)||(delete c.zerolinecolor,delete c.zerolinewidth)}}},{"../../components/color/attributes":101,"../../lib":232,tinycolor2:67}],297:[function(m,de,ne){"use strict";var o=m("fast-isnumeric"),g=m("../../lib");de.exports=function(p,l,c,C){var d,h,u,_,b=C.counterAxes||[],M=C.overlayableAxes||[],w=C.letter,N=C.grid;N&&(d=N._anchors[l._id],(h=N._domains[w][N._axisMap[l._id]])&&(u=N[w+"side"].split(" ")[0],_=N.domain[w]["right"===u||"top"===u?1:0])),h=h||[0,1],d=d||(o(p.position)?"free":b[0]||"free"),u=u||("x"===w?"bottom":"left"),_=_||0,"free"===g.coerce(p,l,{anchor:{valType:"enumerated",values:["free"].concat(b),dflt:d}},"anchor")&&c("position",_),g.coerce(p,l,{side:{valType:"enumerated",values:"x"===w?["bottom","top"]:["left","right"],dflt:u}},"side");var z=!1;if(M.length&&(z=g.coerce(p,l,{overlaying:{valType:"enumerated",values:[!1].concat(M),dflt:!1}},"overlaying")),!z){var k=c("domain",h);k[0]>k[1]-1/4096&&(l.domain=h),g.noneOrAll(p.domain,l.domain,h)}return c("layer"),l}},{"../../lib":232,"fast-isnumeric":17}],298:[function(m,de,ne){"use strict";var o=m("./show_dflt");de.exports=function(g,p,l,c,C){C||(C={});var d=C.tickSuffixDflt,h=o(g);l("tickprefix")&&l("showtickprefix",h),l("ticksuffix",d)&&l("showticksuffix",h)}},{"./show_dflt":302}],299:[function(m,de,ne){"use strict";var o=m("../../constants/alignment").FROM_BL;de.exports=function(g,p,l){void 0===l&&(l=o[g.constraintoward||"center"]);var c=[g.r2l(g.range[0]),g.r2l(g.range[1])],C=c[0]+(c[1]-c[0])*l;g.range=g._input.range=[g.l2r(C+(c[0]-C)*p),g.l2r(C+(c[1]-C)*p)],g.setScale()}},{"../../constants/alignment":207}],300:[function(m,de,ne){"use strict";var o=m("polybooljs"),g=m("../../registry"),p=m("../../components/drawing").dashStyle,l=m("../../components/color"),c=m("../../components/fx"),C=m("../../components/fx/helpers").makeEventData,d=m("../../components/dragelement/helpers"),h=d.freeMode,u=d.rectMode,_=d.drawMode,b=d.openMode,M=d.selectMode,w=m("../../components/shapes/draw_newshape/display_outlines"),N=m("../../components/shapes/draw_newshape/helpers").handleEllipse,z=m("../../components/shapes/draw_newshape/newshapes"),k=m("../../lib"),D=m("../../lib/polygon"),S=m("../../lib/throttle"),P=m("./axis_ids").getFromId,V=m("../../lib/clear_gl_canvases"),E=m("../../plot_api/subroutines").redrawReglTraces,I=m("./constants"),L=I.MINSELECT,B=D.filter,$=D.tester,T=m("./handle_outline").clearSelect,Y=m("./helpers"),W=Y.p2r,q=Y.axValue,Q=Y.getTransform;function te(O,X,R,ae,fe,ue,pe){var xe,Me,Ae,ze,Fe,Ue,t1,Xe,Ge,Qe,we=X._hoverdata,ve=X._fullLayout.clickmode.indexOf("event")>-1,De=[];if((Qe=we)&&Array.isArray(Qe)&&!0!==Qe[0].hoverOnBox){K(O,X,ue);var Ve=function(Qe,n1){var Ye,r1,f1=Qe[0],Je=-1,g1=[];for(r1=0;r1<n1.length;r1++)if(f1.fullData._expandedIndex===(Ye=n1[r1]).cd[0].trace._expandedIndex){if(!0===f1.hoverOnBox)break;void 0!==f1.pointNumber?Je=f1.pointNumber:void 0!==f1.binNumber&&(Je=f1.binNumber,g1=f1.pointNumbers);break}return{pointNumber:Je,pointNumbers:g1,searchInfo:Ye}}(we,xe=G(X,R,ae,fe));if(Ve.pointNumbers.length>0?function(Qe,n1){var Ye,r1,f1,Je=[];for(f1=0;f1<Qe.length;f1++)(Ye=Qe[f1]).cd[0].trace.selectedpoints&&Ye.cd[0].trace.selectedpoints.length>0&&Je.push(Ye);if(1===Je.length&&Je[0]===n1.searchInfo&&(r1=n1.searchInfo.cd[0].trace).selectedpoints.length===n1.pointNumbers.length){for(f1=0;f1<n1.pointNumbers.length;f1++)if(r1.selectedpoints.indexOf(n1.pointNumbers[f1])<0)return!1;return!0}return!1}(xe,Ve):function(Qe){var Ye,r1,f1=0;for(r1=0;r1<Qe.length;r1++)if((Ye=Qe[r1].cd[0].trace).selectedpoints&&(Ye.selectedpoints.length>1||(f1+=Ye.selectedpoints.length)>1))return!1;return 1===f1}(xe)&&(Ue=j(Ve))){for(pe&&pe.remove(),Ge=0;Ge<xe.length;Ge++)(Me=xe[Ge])._module.selectPoints(Me,!1);oe(X,xe),le(ue),ve&&X.emit("plotly_deselect",null)}else{for(t1=O.shiftKey&&(void 0!==Ue?Ue:j(Ve)),Ae=function(Qe,n1,Ye){return{pointNumber:Qe,searchInfo:n1,subtract:Ye}}(Ve.pointNumber,Ve.searchInfo,t1),ze=ie(ue.selectionDefs.concat([Ae])),Ge=0;Ge<xe.length;Ge++)if(Fe=re(xe[Ge]._module.selectPoints(xe[Ge],ze),xe[Ge]),De.length)for(var qe=0;qe<Fe.length;qe++)De.push(Fe[qe]);else De=Fe;if(oe(X,xe,Xe={points:De}),Ae&&ue&&ue.selectionDefs.push(Ae),pe){var Ie=ue.mergedPolygons,Re=b(ue.dragmode);w(F(Ie,Re),pe,ue)}ve&&X.emit("plotly_selected",Xe)}}}function ce(O){return"pointNumber"in O&&"searchInfo"in O}function me(O){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(X,R,ae,fe){return fe.cd[0].trace._expandedIndex===O.searchInfo.cd[0].trace._expandedIndex&&ae===O.pointNumber},isRect:!1,degenerate:!1,subtract:O.subtract}}function ie(O){for(var X=[],R=ce(O[0])?0:O[0][0][0],ae=R,fe=ce(O[0])?0:O[0][0][1],ue=fe,pe=0;pe<O.length;pe++)if(ce(O[pe]))X.push(me(O[pe]));else{var xe=D.tester(O[pe]);xe.subtract=O[pe].subtract,X.push(xe),R=Math.min(R,xe.xmin),ae=Math.max(ae,xe.xmax),fe=Math.min(fe,xe.ymin),ue=Math.max(ue,xe.ymax)}return{xmin:R,xmax:ae,ymin:fe,ymax:ue,pts:[],contains:function(Me,Ae,ze,Fe){for(var Ue=!1,t1=0;t1<X.length;t1++)X[t1].contains(Me,Ae,ze,Fe)&&(Ue=!1===X[t1].subtract);return Ue},isRect:!1,degenerate:!1}}function K(O,X,R){X._fullLayout._drawing=!1;var ae=X._fullLayout,fe=R.plotinfo,ue=R.dragmode,pe=ae._lastSelectedSubplot&&ae._lastSelectedSubplot===fe.id,xe=(O.shiftKey||O.altKey)&&!(_(ue)&&b(ue));pe&&xe&&fe.selection&&fe.selection.selectionDefs&&!R.selectionDefs?(R.selectionDefs=fe.selection.selectionDefs,R.mergedPolygons=fe.selection.mergedPolygons):xe&&fe.selection||le(R),pe||(T(X),ae._lastSelectedSubplot=fe.id)}function le(O){var X=O.dragmode,R=O.plotinfo,ae=O.gd;if(ae._fullLayout._activeShapeIndex>=0&&ae._fullLayout._deactivateShape(ae),_(X)){var fe=ae._fullLayout._zoomlayer.selectAll(".select-outline-"+R.id);if(fe&&ae._fullLayout._drawing){var ue=z(fe,O);ue&&g.call("_guiRelayout",ae,{shapes:ue}),ae._fullLayout._drawing=!1}}R.selection={},R.selection.selectionDefs=O.selectionDefs=[],R.selection.mergedPolygons=O.mergedPolygons=[]}function G(O,X,R,ae){var fe,ue,pe,xe=[],Me=X.map(function(t1){return t1._id}),Ae=R.map(function(t1){return t1._id});for(pe=0;pe<O.calcdata.length;pe++)if(!0===(ue=(fe=O.calcdata[pe])[0].trace).visible&&ue._module&&ue._module.selectPoints)if(!ae||ue.subplot!==ae&&ue.geo!==ae)if("splom"===ue.type&&ue._xaxes[Me[0]]&&ue._yaxes[Ae[0]]){var ze=Ue(ue._module,fe,X[0],R[0]);ze.scene=O._fullLayout._splomScenes[ue.uid],xe.push(ze)}else if("sankey"===ue.type){var Fe=Ue(ue._module,fe,X[0],R[0]);xe.push(Fe)}else{if(-1===Me.indexOf(ue.xaxis)||-1===Ae.indexOf(ue.yaxis))continue;xe.push(Ue(ue._module,fe,P(O,ue.xaxis),P(O,ue.yaxis)))}else xe.push(Ue(ue._module,fe,X[0],R[0]));return xe;function Ue(t1,Xe,Ge,we){return{_module:t1,cd:Xe,xaxis:Ge,yaxis:we}}}function j(O){var X=O.searchInfo.cd[0].trace,ae=O.pointNumbers;return!!X.selectedpoints&&X.selectedpoints.indexOf(ae.length>0?ae[0]:O.pointNumber)>-1}function oe(O,X,R){var ae,fe,ue,pe;for(ae=0;ae<X.length;ae++){var xe=X[ae].cd[0].trace._fullInput,Me=O._fullLayout._tracePreGUI[xe.uid]||{};void 0===Me.selectedpoints&&(Me.selectedpoints=xe._input.selectedpoints||null)}if(R){var Ae=R.points||[];for(ae=0;ae<X.length;ae++)(pe=X[ae].cd[0].trace)._input.selectedpoints=pe._fullInput.selectedpoints=[],pe._fullInput!==pe&&(pe.selectedpoints=[]);for(ae=0;ae<Ae.length;ae++){var ze=Ae[ae],Fe=ze.data,Ue=ze.fullData;ze.pointIndices?([].push.apply(Fe.selectedpoints,ze.pointIndices),pe._fullInput!==pe&&[].push.apply(Ue.selectedpoints,ze.pointIndices)):(Fe.selectedpoints.push(ze.pointIndex),pe._fullInput!==pe&&Ue.selectedpoints.push(ze.pointIndex))}}else for(ae=0;ae<X.length;ae++)delete(pe=X[ae].cd[0].trace).selectedpoints,delete pe._input.selectedpoints,pe._fullInput!==pe&&delete pe._fullInput.selectedpoints;var t1=!1;for(ae=0;ae<X.length;ae++){pe=(ue=(fe=X[ae]).cd)[0].trace,g.traceIs(pe,"regl")&&(t1=!0);var Xe=fe._module,Ge=Xe.styleOnSelect||Xe.style;Ge&&(Ge(O,ue,ue[0].node3),ue[0].nodeRangePlot3&&Ge(O,ue,ue[0].nodeRangePlot3))}t1&&(V(O),E(O))}function re(O,X){if(Array.isArray(O))for(var R=X.cd,ae=X.cd[0].trace,fe=0;fe<O.length;fe++)O[fe]=C(O[fe],ae,R);return O}function F(O,X){for(var R=[],ae=0;ae<O.length;ae++){R[ae]=[];for(var fe=0;fe<O[ae].length;fe++){R[ae][fe]=[],R[ae][fe][0]=fe?"L":"M";for(var ue=0;ue<O[ae][fe].length;ue++)R[ae][fe].push(O[ae][fe][ue])}X||R[ae].push(["Z",R[ae][0][1],R[ae][0][2]])}return R}de.exports={prepSelect:function(O,X,R,ae,fe){var ue=h(fe),pe=u(fe),xe=b(fe),Me=_(fe),Ae=M(fe),ze="drawcircle"===fe,Fe="drawline"===fe||ze,Ue=ae.gd,t1=Ue._fullLayout,Xe=t1._zoomlayer,Ge=ae.element.getBoundingClientRect(),we=ae.plotinfo,ve=Q(we),De=X-Ge.left,Ve=R-Ge.top;t1._calcInverseTransform(Ue);var Ie,Re,Qe,n1,Ye,r1,f1,qe=k.apply3DTransform(t1._invTransform)(De,Ve),Je=t1._invScaleX,g1=t1._invScaleY,b1=De=qe[0],_1=Ve=qe[1],I1="M"+De+","+Ve,M1=ae.xaxes[0]._length,Be=ae.yaxes[0]._length,je=ae.xaxes.concat(ae.yaxes),C1=O.altKey&&!(_(fe)&&xe);K(O,Ue,ae),ue&&(Ie=B([[De,Ve]],I.BENDPX));var O1=Xe.selectAll("path.select-outline-"+we.id).data(Me?[0]:[1,2]),Q1=t1.newshape;O1.enter().append("path").attr("class",function(We){return"select-outline select-outline-"+We+" select-outline-"+we.id}).style(Me?{opacity:Q1.opacity/2,fill:xe?void 0:Q1.fillcolor,stroke:Q1.line.color,"stroke-dasharray":p(Q1.line.dash,Q1.line.width),"stroke-width":Q1.line.width+"px"}:{}).attr("fill-rule",Q1.fillrule).classed("cursor-move",!!Me).attr("transform",ve).attr("d",I1+"Z");var st,$1=Xe.append("path").attr("class","zoombox-corners").style({fill:l.background,stroke:l.defaultLine,"stroke-width":1}).attr("transform",ve).attr("d","M0,0Z"),Z1=t1._uid+I.SELECTID,N1=[],ge=G(Ue,ae.xaxes,ae.yaxes,ae.subplot);function ye(We,e1){return We-e1}st=we.fillRangeItems?we.fillRangeItems:pe?function(We,e1){var d1=We.range={};for(Ye=0;Ye<je.length;Ye++){var a1=je[Ye],l1=a1._id.charAt(0);d1[a1._id]=[W(a1,e1[l1+"min"]),W(a1,e1[l1+"max"])].sort(ye)}}:function(We,e1,d1){var a1=We.lassoPoints={};for(Ye=0;Ye<je.length;Ye++){var l1=je[Ye];a1[l1._id]=d1.filtered.map(q(l1))}},ae.moveFn=function(We,e1){b1=Math.max(0,Math.min(M1,Je*We+De)),_1=Math.max(0,Math.min(Be,g1*e1+Ve));var B1,rt,d1=Math.abs(b1-De),a1=Math.abs(_1-Ve);if(pe){var l1,c1,w1;if(Ae){var T1=t1.selectdirection;switch(l1="any"===T1?a1<Math.min(.6*d1,L)?"h":d1<Math.min(.6*a1,L)?"v":"d":T1){case"h":c1=ze?Be/2:0,w1=Be;break;case"v":c1=ze?M1/2:0,w1=M1}}if(Me)switch(t1.newshape.drawdirection){case"vertical":l1="h",c1=ze?Be/2:0,w1=Be;break;case"horizontal":l1="v",c1=ze?M1/2:0,w1=M1;break;case"ortho":d1<a1?(l1="h",c1=Ve,w1=_1):(l1="v",c1=De,w1=b1);break;default:l1="d"}"h"===l1?((n1=Fe?N(ze,[b1,c1],[b1,w1]):[[De,c1],[De,w1],[b1,w1],[b1,c1]]).xmin=Fe?b1:Math.min(De,b1),n1.xmax=Fe?b1:Math.max(De,b1),n1.ymin=Math.min(c1,w1),n1.ymax=Math.max(c1,w1),$1.attr("d","M"+n1.xmin+","+(Ve-L)+"h-4v"+2*L+"h4ZM"+(n1.xmax-1)+","+(Ve-L)+"h4v"+2*L+"h-4Z")):"v"===l1?((n1=Fe?N(ze,[c1,_1],[w1,_1]):[[c1,Ve],[c1,_1],[w1,_1],[w1,Ve]]).xmin=Math.min(c1,w1),n1.xmax=Math.max(c1,w1),n1.ymin=Fe?_1:Math.min(Ve,_1),n1.ymax=Fe?_1:Math.max(Ve,_1),$1.attr("d","M"+(De-L)+","+n1.ymin+"v-4h"+2*L+"v4ZM"+(De-L)+","+(n1.ymax-1)+"v4h"+2*L+"v-4Z")):"d"===l1&&((n1=Fe?N(ze,[De,Ve],[b1,_1]):[[De,Ve],[De,_1],[b1,_1],[b1,Ve]]).xmin=Math.min(De,b1),n1.xmax=Math.max(De,b1),n1.ymin=Math.min(Ve,_1),n1.ymax=Math.max(Ve,_1),$1.attr("d","M0,0Z"))}else ue&&(Ie.addPt([b1,_1]),n1=Ie.filtered);ae.selectionDefs&&ae.selectionDefs.length?(B1=ae.mergedPolygons,rt=n1,Qe=C1?o.difference({regions:B1,inverted:!1},{regions:[rt],inverted:!1}).regions:o.union({regions:B1,inverted:!1},{regions:[rt],inverted:!1}).regions,n1.subtract=C1,Re=ie(ae.selectionDefs.concat([n1]))):(Qe=[n1],Re=$(n1)),w(F(Qe,xe),O1,ae),Ae&&S.throttle(Z1,I.SELECTDELAY,function(){var B1;N1=[];var rt,H1=[];for(Ye=0;Ye<ge.length;Ye++)if(rt=(r1=ge[Ye])._module.selectPoints(r1,Re),H1.push(rt),B1=re(rt,r1),N1.length)for(var Y1=0;Y1<B1.length;Y1++)N1.push(B1[Y1]);else N1=B1;oe(Ue,ge,f1={points:N1}),st(f1,n1,Ie),ae.gd.emit("plotly_selecting",f1)})},ae.clickFn=function(We,e1){if($1.remove(),Ue._fullLayout._activeShapeIndex>=0)Ue._fullLayout._deactivateShape(Ue);else if(!Me){var d1=t1.clickmode;S.done(Z1).then(function(){if(S.clear(Z1),2===We){for(O1.remove(),Ye=0;Ye<ge.length;Ye++)(r1=ge[Ye])._module.selectPoints(r1,!1);oe(Ue,ge),le(ae),Ue.emit("plotly_deselect",null)}else d1.indexOf("select")>-1&&te(e1,Ue,ae.xaxes,ae.yaxes,ae.subplot,ae,O1),"event"===d1&&Ue.emit("plotly_selected",void 0);c.click(Ue,e1)}).catch(k.error)}},ae.doneFn=function(){$1.remove(),S.done(Z1).then(function(){S.clear(Z1),ae.gd.emit("plotly_selected",f1),n1&&ae.selectionDefs&&(n1.subtract=C1,ae.selectionDefs.push(n1),ae.mergedPolygons.length=0,[].push.apply(ae.mergedPolygons,Qe)),ae.doneFnCompleted&&ae.doneFnCompleted(N1)}).catch(k.error),Me&&le(ae)}},clearSelect:T,clearSelectionsCache:le,selectOnClick:te}},{"../../components/color":102,"../../components/dragelement/helpers":120,"../../components/drawing":124,"../../components/fx":142,"../../components/fx/helpers":138,"../../components/shapes/draw_newshape/display_outlines":190,"../../components/shapes/draw_newshape/helpers":191,"../../components/shapes/draw_newshape/newshapes":192,"../../lib":232,"../../lib/clear_gl_canvases":220,"../../lib/polygon":244,"../../lib/throttle":256,"../../plot_api/subroutines":269,"../../registry":318,"./axis_ids":283,"./constants":286,"./handle_outline":290,"./helpers":291,polybooljs:57}],301:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("d3-time-format").utcFormat,p=m("../../lib"),l=p.numberFormat,c=m("fast-isnumeric"),C=p.cleanNumber,d=p.ms2DateTime,h=p.dateTime2ms,u=p.ensureNumber,_=p.isArrayOrTypedArray,b=m("../../constants/numerical"),M=b.FP_SAFE,w=b.BADNUM,N=b.LOG_CLIP,z=b.ONEWEEK,k=b.ONEDAY,D=b.ONEHOUR,S=b.ONEMIN,P=b.ONESEC,V=m("./axis_ids"),E=m("./constants"),I=E.HOUR_PATTERN,L=E.WEEKDAY_PATTERN;function B(T){return Math.pow(10,T)}function $(T){return null!=T}de.exports=function(T,Y){Y=Y||{};var W=T._id||"x",q=W.charAt(0);function Q(R,ae){if(R>0)return Math.log(R)/Math.LN10;if(R<=0&&ae&&T.range&&2===T.range.length){var fe=T.range[0],ue=T.range[1];return.5*(fe+ue-2*N*Math.abs(fe-ue))}return w}function te(R,ae,fe,ue){if((ue||{}).msUTC&&c(R))return+R;var pe=h(R,fe||T.calendar);if(pe===w){if(!c(R))return w;R=+R;var xe=Math.floor(10*p.mod(R+.05,1)),Me=Math.round(R-xe/10);pe=h(new Date(Me))+xe/10}return pe}function ce(R,ae,fe){return d(R,ae,fe||T.calendar)}function me(R){return T._categories[Math.round(R)]}function ie(R){if($(R)){if(void 0===T._categoriesMap&&(T._categoriesMap={}),void 0!==T._categoriesMap[R])return T._categoriesMap[R];T._categories.push("number"==typeof R?String(R):R);var ae=T._categories.length-1;return T._categoriesMap[R]=ae,ae}return w}function K(R){if(T._categoriesMap)return T._categoriesMap[R]}function le(R){var ae=K(R);return void 0!==ae?ae:c(R)?+R:void 0}function G(R){return c(R)?+R:K(R)}function j(R,ae,fe){return o.round(fe+ae*R,2)}function oe(R,ae,fe){return(R-fe)/ae}var re=function(R){return c(R)?j(R,T._m,T._b):w},F=function(R){return oe(R,T._m,T._b)};if(T.rangebreaks){var O="y"===q;re=function(R){if(!c(R))return w;var ae=T._rangebreaks.length;if(!ae)return j(R,T._m,T._b);var fe=O;T.range[0]>T.range[1]&&(fe=!fe);for(var ue=fe?-1:1,pe=ue*R,xe=0,Me=0;Me<ae;Me++){var Ae=ue*T._rangebreaks[Me].min,ze=ue*T._rangebreaks[Me].max;if(pe<Ae)break;if(!(pe>ze)){xe=pe<(Ae+ze)/2?Me:Me+1;break}xe=Me+1}var Fe=T._B[xe]||0;return isFinite(Fe)?j(R,T._m2,Fe):0},F=function(R){var ae=T._rangebreaks.length;if(!ae)return oe(R,T._m,T._b);for(var fe=0,ue=0;ue<ae&&!(R<T._rangebreaks[ue].pmin);ue++)R>T._rangebreaks[ue].pmax&&(fe=ue+1);return oe(R,T._m2,T._B[fe])}}T.c2l="log"===T.type?Q:u,T.l2c="log"===T.type?B:u,T.l2p=re,T.p2l=F,T.c2p="log"===T.type?function(R,ae){return re(Q(R,ae))}:re,T.p2c="log"===T.type?function(R){return B(F(R))}:F,-1!==["linear","-"].indexOf(T.type)?(T.d2r=T.r2d=T.d2c=T.r2c=T.d2l=T.r2l=C,T.c2d=T.c2r=T.l2d=T.l2r=u,T.d2p=T.r2p=function(R){return T.l2p(C(R))},T.p2d=T.p2r=F,T.cleanPos=u):"log"===T.type?(T.d2r=T.d2l=function(R,ae){return Q(C(R),ae)},T.r2d=T.r2c=function(R){return B(C(R))},T.d2c=T.r2l=C,T.c2d=T.l2r=u,T.c2r=Q,T.l2d=B,T.d2p=function(R,ae){return T.l2p(T.d2r(R,ae))},T.p2d=function(R){return B(F(R))},T.r2p=function(R){return T.l2p(C(R))},T.p2r=F,T.cleanPos=u):"date"===T.type?(T.d2r=T.r2d=p.identity,T.d2c=T.r2c=T.d2l=T.r2l=te,T.c2d=T.c2r=T.l2d=T.l2r=ce,T.d2p=T.r2p=function(R,ae,fe){return T.l2p(te(R,0,fe))},T.p2d=T.p2r=function(R,ae,fe){return ce(F(R),ae,fe)},T.cleanPos=function(R){return p.cleanDate(R,w,T.calendar)}):"category"===T.type?(T.d2c=T.d2l=ie,T.r2d=T.c2d=T.l2d=me,T.d2r=T.d2l_noadd=le,T.r2c=function(R){var ae=G(R);return void 0!==ae?ae:T.fraction2r(.5)},T.l2r=T.c2r=u,T.r2l=G,T.d2p=function(R){return T.l2p(T.r2c(R))},T.p2d=function(R){return me(F(R))},T.r2p=T.d2p,T.p2r=F,T.cleanPos=function(R){return"string"==typeof R&&""!==R?R:u(R)}):"multicategory"===T.type&&(T.r2d=T.c2d=T.l2d=me,T.d2r=T.d2l_noadd=le,T.r2c=function(R){var ae=le(R);return void 0!==ae?ae:T.fraction2r(.5)},T.r2c_just_indices=K,T.l2r=T.c2r=u,T.r2l=le,T.d2p=function(R){return T.l2p(T.r2c(R))},T.p2d=function(R){return me(F(R))},T.r2p=T.d2p,T.p2r=F,T.cleanPos=function(R){return Array.isArray(R)||"string"==typeof R&&""!==R?R:u(R)},T.setupMultiCategory=function(R){var ae,fe,ue=T._traceIndices,pe=T._matchGroup;if(pe&&0===T._categories.length)for(var xe in pe)if(xe!==W){var Me=Y[V.id2name(xe)];ue=ue.concat(Me._traceIndices)}var Ae=[[0,{}],[0,{}]],ze=[];for(ae=0;ae<ue.length;ae++){var Fe=R[ue[ae]];if(q in Fe){var Ue=Fe[q],t1=Fe._length||p.minRowLength(Ue);if(_(Ue[0])&&_(Ue[1]))for(fe=0;fe<t1;fe++){var Xe=Ue[0][fe],Ge=Ue[1][fe];$(Xe)&&$(Ge)&&(ze.push([Xe,Ge]),Xe in Ae[0][1]||(Ae[0][1][Xe]=Ae[0][0]++),Ge in Ae[1][1]||(Ae[1][1][Ge]=Ae[1][0]++))}}}for(ze.sort(function(we,ve){var De=Ae[0][1],Ve=De[we[0]]-De[ve[0]];if(Ve)return Ve;var qe=Ae[1][1];return qe[we[1]]-qe[ve[1]]}),ae=0;ae<ze.length;ae++)ie(ze[ae])}),T.fraction2r=function(R){var ae=T.r2l(T.range[0]),fe=T.r2l(T.range[1]);return T.l2r(ae+R*(fe-ae))},T.r2fraction=function(R){var ae=T.r2l(T.range[0]),fe=T.r2l(T.range[1]);return(T.r2l(R)-ae)/(fe-ae)},T.cleanRange=function(R,ae){ae||(ae={}),R||(R="range");var fe,ue,pe=p.nestedProperty(T,R).get();if(ue=(ue="date"===T.type?p.dfltRange(T.calendar):"y"===q?E.DFLTRANGEY:"realaxis"===T._name?[0,1]:ae.dfltRange||E.DFLTRANGEX).slice(),"tozero"!==T.rangemode&&"nonnegative"!==T.rangemode||(ue[0]=0),pe&&2===pe.length)for("date"!==T.type||T.autorange||(pe[0]=p.cleanDate(pe[0],w,T.calendar),pe[1]=p.cleanDate(pe[1],w,T.calendar)),fe=0;fe<2;fe++)if("date"===T.type){if(!p.isDateTime(pe[fe],T.calendar)){T[R]=ue;break}if(T.r2l(pe[0])===T.r2l(pe[1])){var xe=p.constrain(T.r2l(pe[0]),p.MIN_MS+1e3,p.MAX_MS-1e3);pe[0]=T.l2r(xe-1e3),pe[1]=T.l2r(xe+1e3);break}}else{if(!c(pe[fe])){if(!c(pe[1-fe])){T[R]=ue;break}pe[fe]=pe[1-fe]*(fe?10:.1)}if(pe[fe]<-M?pe[fe]=-M:pe[fe]>M&&(pe[fe]=M),pe[0]===pe[1]){var Me=Math.max(1,Math.abs(1e-6*pe[0]));pe[0]-=Me,pe[1]+=Me}}else p.nestedProperty(T,R).set(ue)},T.setScale=function(R){var ae=Y._size;if(T.overlaying){var fe=V.getFromId({_fullLayout:Y},T.overlaying);T.domain=fe.domain}var ue=R&&T._r?"_r":"range",pe=T.calendar;T.cleanRange(ue);var xe,Me,Ae=T.r2l(T[ue][0],pe),ze=T.r2l(T[ue][1],pe),Fe="y"===q;if(Fe?(T._offset=ae.t+(1-T.domain[1])*ae.h,T._length=ae.h*(T.domain[1]-T.domain[0]),T._m=T._length/(Ae-ze),T._b=-T._m*ze):(T._offset=ae.l+T.domain[0]*ae.w,T._length=ae.w*(T.domain[1]-T.domain[0]),T._m=T._length/(ze-Ae),T._b=-T._m*Ae),T._rangebreaks=[],T._lBreaks=0,T._m2=0,T._B=[],T.rangebreaks&&(T._rangebreaks=T.locateBreaks(Math.min(Ae,ze),Math.max(Ae,ze)),T._rangebreaks.length)){for(xe=0;xe<T._rangebreaks.length;xe++)Me=T._rangebreaks[xe],T._lBreaks+=Math.abs(Me.max-Me.min);var Ue=Fe;Ae>ze&&(Ue=!Ue),Ue&&T._rangebreaks.reverse();var t1=Ue?-1:1;for(T._m2=t1*T._length/(Math.abs(ze-Ae)-T._lBreaks),T._B.push(-T._m2*(Fe?ze:Ae)),xe=0;xe<T._rangebreaks.length;xe++)T._B.push(T._B[T._B.length-1]-t1*T._m2*((Me=T._rangebreaks[xe]).max-Me.min));for(xe=0;xe<T._rangebreaks.length;xe++)(Me=T._rangebreaks[xe]).pmin=re(Me.min),Me.pmax=re(Me.max)}if(!isFinite(T._m)||!isFinite(T._b)||T._length<0)throw Y._replotting=!1,new Error("Something went wrong with axis scaling")},T.maskBreaks=function(R){var ae,fe,ue,pe,xe,Me=T.rangebreaks||[];Me._cachedPatterns||(Me._cachedPatterns=Me.map(function(Xe){return Xe.enabled&&Xe.bounds?p.simpleMap(Xe.bounds,Xe.pattern?C:T.d2c):null})),Me._cachedValues||(Me._cachedValues=Me.map(function(Xe){return Xe.enabled&&Xe.values?p.simpleMap(Xe.values,T.d2c).sort(p.sorterAsc):null}));for(var Ae=0;Ae<Me.length;Ae++){var ze=Me[Ae];if(ze.enabled)if(ze.bounds){switch(fe=(ae=Me._cachedPatterns[Ae])[0],ue=ae[1],ze.pattern){case L:pe=(xe=new Date(R)).getUTCDay(),fe>ue&&(ue+=7,pe<fe&&(pe+=7));break;case I:pe=(xe=new Date(R)).getUTCHours()+(xe.getUTCMinutes()/60+xe.getUTCSeconds()/3600+xe.getUTCMilliseconds()/36e5),fe>ue&&(ue+=24,pe<fe&&(pe+=24));break;case"":pe=R}if(pe>=fe&&pe<ue)return w}else for(var Ue=Me._cachedValues[Ae],t1=0;t1<Ue.length;t1++)if(ue=(fe=Ue[t1])+ze.dvalue,R>=fe&&R<ue)return w}return R},T.locateBreaks=function(R,ae){var fe,ue,pe,xe,Me=[];if(!T.rangebreaks)return Me;var Ae=T.rangebreaks.slice().sort(function(qe,Ie){return qe.pattern===L&&Ie.pattern===I?-1:Ie.pattern===L&&qe.pattern===I?1:0}),ze=function(qe,Ie){if((qe=p.constrain(qe,R,ae))!==(Ie=p.constrain(Ie,R,ae))){for(var Re=!0,Qe=0;Qe<Me.length;Qe++){var n1=Me[Qe];qe<n1.max&&Ie>=n1.min&&(qe<n1.min&&(n1.min=qe),Ie>n1.max&&(n1.max=Ie),Re=!1)}Re&&Me.push({min:qe,max:Ie})}};for(fe=0;fe<Ae.length;fe++){var Fe=Ae[fe];if(Fe.enabled)if(Fe.bounds){var Ue=R,t1=ae;Fe.pattern&&(Ue=Math.floor(Ue)),pe=(ue=p.simpleMap(Fe.bounds,Fe.pattern?C:T.r2l))[0],xe=ue[1];var Xe,Ge,we=new Date(Ue);switch(Fe.pattern){case L:Ge=z,Xe=(xe-pe+(xe<pe?7:0))*k,Ue+=pe*k-(we.getUTCDay()*k+we.getUTCHours()*D+we.getUTCMinutes()*S+we.getUTCSeconds()*P+we.getUTCMilliseconds());break;case I:Ge=k,Xe=(xe-pe+(xe<pe?24:0))*D,Ue+=pe*D-(we.getUTCHours()*D+we.getUTCMinutes()*S+we.getUTCSeconds()*P+we.getUTCMilliseconds());break;default:Ue=Math.min(ue[0],ue[1]),Xe=Ge=(t1=Math.max(ue[0],ue[1]))-Ue}for(var ve=Ue;ve<t1;ve+=Ge)ze(ve,ve+Xe)}else for(var De=p.simpleMap(Fe.values,T.d2c),Ve=0;Ve<De.length;Ve++)ze(pe=De[Ve],xe=pe+Fe.dvalue)}return Me.sort(function(qe,Ie){return qe.min-Ie.min}),Me},T.makeCalcdata=function(R,ae,fe){var ue,pe,xe,Me,Ae=T.type,ze="date"===Ae&&R[ae+"calendar"];if(ae in R){if(ue=R[ae],Me=R._length||p.minRowLength(ue),p.isTypedArray(ue)&&("linear"===Ae||"log"===Ae)){if(Me===ue.length)return ue;if(ue.subarray)return ue.subarray(0,Me)}if("multicategory"===Ae)return function(t1,Xe){for(var Ge=new Array(Xe),we=0;we<Xe;we++)Ge[we]=K([(t1[0]||[])[we],(t1[1]||[])[we]]);return Ge}(ue,Me);for(pe=new Array(Me),xe=0;xe<Me;xe++)pe[xe]=T.d2c(ue[xe],0,ze,fe)}else{var Fe=ae+"0"in R?T.d2c(R[ae+"0"],0,ze):0,Ue=R["d"+ae]?Number(R["d"+ae]):1;for(ue=R[{x:"y",y:"x"}[ae]],Me=R._length||ue.length,pe=new Array(Me),xe=0;xe<Me;xe++)pe[xe]=Fe+xe*Ue}if(T.rangebreaks)for(xe=0;xe<Me;xe++)pe[xe]=T.maskBreaks(pe[xe]);return pe},T.isValidRange=function(R){return Array.isArray(R)&&2===R.length&&c(T.r2l(R[0]))&&c(T.r2l(R[1]))},T.isPtWithinRange=function(R,ae){var fe=T.c2l(R[q],null,ae),ue=T.r2l(T.range[0]),pe=T.r2l(T.range[1]);return ue<pe?ue<=fe&&fe<=pe:pe<=fe&&fe<=ue},T._emptyCategories=function(){T._categories=[],T._categoriesMap={}},T.clearCalc=function(){var R=T._matchGroup;if(R){var ae=null,fe=null;for(var ue in R){var pe=Y[V.id2name(ue)];if(pe._categories){ae=pe._categories,fe=pe._categoriesMap;break}}ae&&fe?(T._categories=ae,T._categoriesMap=fe):T._emptyCategories()}else T._emptyCategories();if(T._initialCategories)for(var xe=0;xe<T._initialCategories.length;xe++)ie(T._initialCategories[xe])},T.sortByInitialCategories=function(){var R=[];if(T._emptyCategories(),T._initialCategories)for(var ae=0;ae<T._initialCategories.length;ae++)ie(T._initialCategories[ae]);R=R.concat(T._traceIndices);var fe=T._matchGroup;for(var ue in fe)if(W!==ue){var pe=Y[V.id2name(ue)];pe._categories=T._categories,pe._categoriesMap=T._categoriesMap,R=R.concat(pe._traceIndices)}return R};var X=Y._d3locale;"date"===T.type&&(T._dateFormat=X?X.timeFormat:g,T._extraFormat=Y._extraFormat),T._separators=Y.separators,T._numFormat=X?X.numberFormat:l,delete T._minDtick,delete T._forceTick0}},{"../../constants/numerical":212,"../../lib":232,"./axis_ids":283,"./constants":286,"@plotly/d3":11,"d3-time-format":14,"fast-isnumeric":17}],302:[function(m,de,ne){"use strict";de.exports=function(o){var g=["showexponent","showtickprefix","showticksuffix"].filter(function(p){return void 0!==o[p]});if(g.every(function(p){return o[p]===o[g[0]]})||1===g.length)return o[g[0]]}},{}],303:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("../../components/color").contrast,p=m("./layout_attributes"),l=m("./show_dflt"),c=m("../array_container_defaults");function C(d,h){function u(_,b){return o.coerce(d,h,p.tickformatstops,_,b)}u("enabled")&&(u("dtickrange"),u("value"))}de.exports=function(d,h,u,_,b){b||(b={});var M=l(d);if(u("showticklabels")){var w=b.font||{},N=h.color,z=-1!==(h.ticklabelposition||"").indexOf("inside")?g(b.bgColor):N&&N!==p.color.dflt?N:w.color;if(o.coerceFont(u,"tickfont",{family:w.family,size:w.size,color:z}),b.noTicklabelstep||"multicategory"===_||"log"===_||u("ticklabelstep"),b.noAng||u("tickangle"),"category"!==_){var k=u("tickformat");c(d,h,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:C}),h.tickformatstops.length||delete h.tickformatstops,b.noExp||k||"date"===_||(u("showexponent",M),u("exponentformat"),u("minexponent"),u("separatethousands"))}}}},{"../../components/color":102,"../../lib":232,"../array_container_defaults":274,"./layout_attributes":294,"./show_dflt":302}],304:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("./layout_attributes");de.exports=function(p,l,c,C){var d=C.isMinor,h=d?p.minor||{}:p,u=d?l.minor:l,_=d?g.minor:g,b=d?"minor.":"",M=o.coerce2(h,u,_,"ticklen",d?.6*(l.ticklen||5):void 0),w=o.coerce2(h,u,_,"tickwidth",d?l.tickwidth||1:void 0),N=o.coerce2(h,u,_,"tickcolor",(d?l.tickcolor:void 0)||u.color);c(b+"ticks",!d&&C.outerTicks||M||w||N?"outside":"")||(delete u.ticklen,delete u.tickwidth,delete u.tickcolor)}},{"../../lib":232,"./layout_attributes":294}],305:[function(m,de,ne){"use strict";var o=m("./clean_ticks"),g=m("../../lib").isArrayOrTypedArray;de.exports=function(p,l,c,C,d){d||(d={});var h=d.isMinor,u=h?p.minor||{}:p,_=h?l.minor:l,b=h?"minor.":"";function M(S){var P=u[S];return void 0!==P?P:(_._template||{})[S]}var w=M("tick0"),N=M("dtick"),z=M("tickvals"),k=c(b+"tickmode",g(z)?"array":N?"linear":"auto");if("auto"===k)c(b+"nticks");else if("linear"===k){var D=_.dtick=o.dtick(N,C);_.tick0=o.tick0(w,C,l.calendar,D)}else"multicategory"!==C&&(void 0===c(b+"tickvals")?_.tickmode="auto":h||c("ticktext"))}},{"../../lib":232,"./clean_ticks":285}],306:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("../../registry"),p=m("../../lib"),l=m("../../components/drawing"),c=m("./axes");de.exports=function(C,d,h,u){var _=C._fullLayout;if(0!==d.length){var b,M,w,N;u&&(b=u());var z=o.ease(h.easing);return C._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(N),N=null,function(){for(var S={},P=0;P<d.length;P++){var V=d[P],I=V.plotinfo.yaxis;V.xr0&&(S[V.plotinfo.xaxis._name+".range"]=V.xr0.slice()),V.yr0&&(S[I._name+".range"]=V.yr0.slice())}return g.call("relayout",C,S).then(function(){for(var L=0;L<d.length;L++)k(d[L].plotinfo)})}()}),M=Date.now(),N=window.requestAnimationFrame(function S(){w=Date.now();for(var P=Math.min(1,(w-M)/h.duration),V=z(P),E=0;E<d.length;E++)D(d[E],V);w-M>h.duration?(function(){for(var I={},L=0;L<d.length;L++){var B=d[L],T=B.plotinfo.yaxis;B.xr1&&(I[B.plotinfo.xaxis._name+".range"]=B.xr1.slice()),B.yr1&&(I[T._name+".range"]=B.yr1.slice())}b&&b(),g.call("relayout",C,I).then(function(){for(var Y=0;Y<d.length;Y++)k(d[Y].plotinfo)})}(),N=window.cancelAnimationFrame(S)):N=window.requestAnimationFrame(S)}),Promise.resolve()}function k(S){var P=S.xaxis,V=S.yaxis;_._defs.select("#"+S.clipId+"> rect").call(l.setTranslate,0,0).call(l.setScale,1,1),S.plot.call(l.setTranslate,P._offset,V._offset).call(l.setScale,1,1);var E=S.plot.selectAll(".scatterlayer .trace");E.selectAll(".point").call(l.setPointGroupScale,1,1),E.selectAll(".textpoint").call(l.setTextPointsScale,1,1),E.call(l.hideOutsideRangePoints,S)}function D(S,P){var V=S.plotinfo,E=V.xaxis,I=V.yaxis,L=E._length,B=I._length,$=!!S.xr1,T=!!S.yr1,Y=[];if($){var W=p.simpleMap(S.xr0,E.r2l),q=p.simpleMap(S.xr1,E.r2l),Q=W[1]-W[0],te=q[1]-q[0];Y[0]=(W[0]*(1-P)+P*q[0]-W[0])/(W[1]-W[0])*L,Y[2]=L*(1-P+P*te/Q),E.range[0]=E.l2r(W[0]*(1-P)+P*q[0]),E.range[1]=E.l2r(W[1]*(1-P)+P*q[1])}else Y[0]=0,Y[2]=L;if(T){var ce=p.simpleMap(S.yr0,I.r2l),me=p.simpleMap(S.yr1,I.r2l),ie=ce[1]-ce[0],K=me[1]-me[0];Y[1]=(ce[1]*(1-P)+P*me[1]-ce[1])/(ce[0]-ce[1])*B,Y[3]=B*(1-P+P*K/ie),I.range[0]=E.l2r(ce[0]*(1-P)+P*me[0]),I.range[1]=I.l2r(ce[1]*(1-P)+P*me[1])}else Y[1]=0,Y[3]=B;c.drawOne(C,E,{skipTitle:!0}),c.drawOne(C,I,{skipTitle:!0}),c.redrawComponents(C,[E._id,I._id]);var le=$?L/Y[2]:1,G=T?B/Y[3]:1,O=E._offset-($?Y[0]/Y[2]*L:0),X=I._offset-(T?Y[1]/Y[3]*B:0);V.clipRect.call(l.setTranslate,$?Y[0]:0,T?Y[1]:0).call(l.setScale,1/le,1/G),V.plot.call(l.setTranslate,O,X).call(l.setScale,le,G),l.setPointGroupScale(V.zoomScalePts,1/le,1/G),l.setTextPointsScale(V.zoomScaleTxt,1/le,1/G)}c.redrawComponents(C)}},{"../../components/drawing":124,"../../lib":232,"../../registry":318,"./axes":279,"@plotly/d3":11}],307:[function(m,de,ne){"use strict";var o=m("../../registry").traceIs,g=m("./axis_autotype");function p(c){return{v:"x",h:"y"}[c.orientation||"v"]}function l(c,C){var d=p(c),h=o(c,"box-violin"),u=o(c._fullInput||{},"candlestick");return h&&!u&&C===d&&void 0===c[d]&&void 0===c[d+"0"]}de.exports=function(c,C,d,h){d("autotypenumbers",h.autotypenumbersDflt),"-"===d("type",(h.splomStash||{}).type)&&(function(u,_){if("-"===u.type){var b,M=u._id,w=M.charAt(0);-1!==M.indexOf("scene")&&(M=w);var N=function(I,L,B){for(var $=0;$<I.length;$++){var T=I[$];if("splom"===T.type&&T._length>0&&(T["_"+B+"axes"]||{})[L]||(T[B+"axis"]||B)===L&&(l(T,B)||(T[B]||[]).length||T[B+"0"]))return T}}(_,M,w);if(N){if("histogram"===N.type&&w==={v:"y",h:"x"}[N.orientation||"v"])return void(u.type="linear");var z=w+"calendar",k=N[z],D={noMultiCategory:!o(N,"cartesian")||o(N,"noMultiCategory")};if("box"===N.type&&N._hasPreCompStats&&w==={h:"x",v:"y"}[N.orientation||"v"]&&(D.noMultiCategory=!0),D.autotypenumbers=u.autotypenumbers,l(N,w)){var S=p(N),P=[];for(b=0;b<_.length;b++){var V=_[b];o(V,"box-violin")&&(V[w+"axis"]||w)===M&&(P.push(void 0!==V[S]?V[S][0]:void 0!==V.name?V.name:"text"),V[z]!==k&&(k=void 0))}u.type=g(P,k,D)}else if("splom"===N.type){var E=N.dimensions[N._axesDim[M]];E.visible&&(u.type=g(E.values,k,D))}else u.type=g(N[w]||[N[w+"0"]],k,D)}}}(C,h.data),"-"===C.type?C.type="linear":c.type=C.type)}},{"../../registry":318,"./axis_autotype":280}],308:[function(m,de,ne){"use strict";var o=m("../registry"),g=m("../lib");function p(d,h,u){var _,b,M,w=!1;if("data"===h.type)_=d._fullData[null!==h.traces?h.traces[0]:0];else{if("layout"!==h.type)return!1;_=d._fullLayout}return b=g.nestedProperty(_,h.prop).get(),(M=u[h.type]=u[h.type]||{}).hasOwnProperty(h.prop)&&M[h.prop]!==b&&(w=!0),M[h.prop]=b,{changed:w,value:b}}function l(d,h){var u=[],_=h[0],b={};if("string"==typeof _)b[_]=h[1];else{if(!g.isPlainObject(_))return u;b=_}return C(b,function(M,w,N){u.push({type:"layout",prop:M,value:N})},"",0),u}function c(d,h){var u,_,b,M,w=[];if(b=h[1],u=h[2],M={},"string"==typeof(_=h[0]))M[_]=b;else{if(!g.isPlainObject(_))return w;M=_,void 0===u&&(u=b)}return void 0===u&&(u=null),C(M,function(N,z,k){var D,S;if(Array.isArray(k)){S=k.slice();var P=Math.min(S.length,d.data.length);u&&(P=Math.min(P,u.length)),D=[];for(var V=0;V<P;V++)D[V]=u?u[V]:V}else S=k,D=u?u.slice():null;if(null===D)Array.isArray(S)&&(S=S[0]);else if(Array.isArray(D)){if(!Array.isArray(S)){var E=S;S=[];for(var I=0;I<D.length;I++)S[I]=E}S.length=Math.min(D.length,S.length)}w.push({type:"data",prop:N,traces:D,value:S})},"",0),w}function C(d,h,u,_){Object.keys(d).forEach(function(b){var M=d[b];if("_"!==b[0]){var w=u+(_>0?".":"")+b;g.isPlainObject(M)?C(M,h,w,_+1):h(w,b,M)}})}ne.manageCommandObserver=function(d,h,u,_){var b={},M=!0;h&&h._commandObserver&&(b=h._commandObserver),b.cache||(b.cache={}),b.lookupTable={};var w=ne.hasSimpleAPICommandBindings(d,u,b.lookupTable);if(h&&h._commandObserver){if(w)return b;if(h._commandObserver.remove)return h._commandObserver.remove(),h._commandObserver=null,b}if(w){p(d,w,b.cache),b.check=function(){if(M){var k=p(d,w,b.cache);return k.changed&&_&&void 0!==b.lookupTable[k.value]&&(b.disable(),Promise.resolve(_({value:k.value,type:w.type,prop:w.prop,traces:w.traces,index:b.lookupTable[k.value]})).then(b.enable,b.enable)),k.changed}};for(var N=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],z=0;z<N.length;z++)d._internalOn(N[z],b.check);b.remove=function(){for(var k=0;k<N.length;k++)d._removeInternalListener(N[k],b.check)}}else g.log("Unable to automatically bind plot updates to API command"),b.lookupTable={},b.remove=function(){};return b.disable=function(){M=!1},b.enable=function(){M=!0},h&&(h._commandObserver=b),b},ne.hasSimpleAPICommandBindings=function(d,h,u){var _,b,M=h.length;for(_=0;_<M;_++){var w,N=h[_],z=N.method,k=N.args;if(Array.isArray(k)||(k=[]),!z)return!1;var D=ne.computeAPICommandBindings(d,z,k);if(1!==D.length)return!1;if(b){if((w=D[0]).type!==b.type||w.prop!==b.prop)return!1;if(Array.isArray(b.traces)){if(!Array.isArray(w.traces))return!1;w.traces.sort();for(var S=0;S<b.traces.length;S++)if(b.traces[S]!==w.traces[S])return!1}else if(w.prop!==b.prop)return!1}else b=D[0],Array.isArray(b.traces)&&b.traces.sort();var P=(w=D[0]).value;if(Array.isArray(P)){if(1!==P.length)return!1;P=P[0]}u&&(u[P]=_)}return b},ne.executeAPICommand=function(d,h,u){if("skip"===h)return Promise.resolve();var _=o.apiMethodRegistry[h],b=[d];Array.isArray(u)||(u=[]);for(var M=0;M<u.length;M++)b.push(u[M]);return _.apply(null,b).catch(function(w){return g.warn("API call to Plotly."+h+" rejected.",w),Promise.reject(w)})},ne.computeAPICommandBindings=function(d,h,u){var _,M;switch(Array.isArray(u)||(u=[]),h){case"restyle":_=c(d,u);break;case"relayout":_=l(0,u);break;case"update":_=c(d,[u[0],u[2]]).concat(l(0,[u[1]]));break;case"animate":M=u,_=Array.isArray(M[0])&&1===M[0].length&&-1!==["string","number"].indexOf(typeof M[0][0])?[{type:"layout",prop:"_currentFrame",value:M[0][0].toString()}]:[];break;default:_=[]}return _}},{"../lib":232,"../registry":318}],309:[function(m,de,ne){"use strict";var o=m("../lib/extend").extendFlat;ne.attributes=function(g,p){p=p||{};var l={valType:"info_array",editType:(g=g||{}).editType,items:[{valType:"number",min:0,max:1,editType:g.editType},{valType:"number",min:0,max:1,editType:g.editType}],dflt:[0,1]},c={x:o({},l,{}),y:o({},l,{}),editType:g.editType};return g.noGridCell||(c.row={valType:"integer",min:0,dflt:0,editType:g.editType},c.column={valType:"integer",min:0,dflt:0,editType:g.editType}),c},ne.defaults=function(g,p,l,c){var C=c&&c.x||[0,1],d=c&&c.y||[0,1],h=p.grid;if(h){var u=l("domain.column");void 0!==u&&(u<h.columns?C=h._domains.x[u]:delete g.domain.column);var _=l("domain.row");void 0!==_&&(_<h.rows?d=h._domains.y[_]:delete g.domain.row)}var b=l("domain.x",C),M=l("domain.y",d);b[0]<b[1]||(g.domain.x=C.slice()),M[0]<M[1]||(g.domain.y=d.slice())}},{"../lib/extend":226}],310:[function(m,de,ne){"use strict";de.exports=function(o){var g=o.editType,p=o.colorEditType;void 0===p&&(p=g);var l={family:{valType:"string",noBlank:!0,strict:!0,editType:g},size:{valType:"number",min:1,editType:g},color:{valType:"color",editType:p},editType:g};return o.autoSize&&(l.size.dflt="auto"),o.autoColor&&(l.color.dflt="auto"),o.arrayOk&&(l.family.arrayOk=!0,l.size.arrayOk=!0,l.color.arrayOk=!0),l}},{}],311:[function(m,de,ne){"use strict";de.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},{}],312:[function(m,de,ne){"use strict";var o=m("../registry"),g=m("./cartesian/constants").SUBPLOT_PATTERN;ne.getSubplotCalcData=function(p,l,c){var C=o.subplotsRegistry[l];if(!C)return[];for(var d=C.attr,h=[],u=0;u<p.length;u++){var _=p[u];_[0].trace[d]===c&&h.push(_)}return h},ne.getModuleCalcData=function(p,l){var c,C=[],d=[];if(!(c="string"==typeof l?o.getModule(l).plot:"function"==typeof l?l:l.plot))return[C,p];for(var h=0;h<p.length;h++){var u=p[h],_=u[0].trace;!0===_.visible&&0!==_._length&&(_._module.plot===c?C.push(u):d.push(u))}return[C,d]},ne.getSubplotData=function(p,l,c){if(!o.subplotsRegistry[l])return[];var C,d,h,u=o.subplotsRegistry[l].attr,_=[];if("gl2d"===l){var b=c.match(g);d="x"+b[1],h="y"+b[2]}for(var M=0;M<p.length;M++)C=p[M],"gl2d"===l&&o.traceIs(C,"gl2d")?C[u[0]]===d&&C[u[1]]===h&&_.push(C):C[u]===c&&_.push(C);return _}},{"../registry":318,"./cartesian/constants":286}],313:[function(m,de,ne){"use strict";function o(g,p){var l,c,C=[0,0,0,0];for(l=0;l<4;++l)for(c=0;c<4;++c)C[c]+=g[4*l+c]*p[l];return C}de.exports=function(g,p){return o(g.projection,o(g.view,o(g.model,[p[0],p[1],p[2],1])))}},{}],314:[function(m,de,ne){"use strict";var o=m("./font_attributes"),g=m("./animation_attributes"),p=m("../components/color/attributes"),l=m("../components/shapes/draw_newshape/attributes"),c=m("./pad_attributes"),C=m("../lib/extend").extendFlat,d=o({editType:"calc"});d.family.dflt='"Open Sans", verdana, arial, sans-serif',d.size.dflt=12,d.color.dflt=p.defaultLine,de.exports={font:d,title:{text:{valType:"string",editType:"layoutstyle"},font:o({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:C(c({editType:"layoutstyle"}),{}),editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:p.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:p.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:p.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:l.newshape,activeshape:l.activeshape,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:C({},g.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:o({editType:"layoutstyle"})}}},{"../components/color/attributes":101,"../components/shapes/draw_newshape/attributes":187,"../lib/extend":226,"./animation_attributes":273,"./font_attributes":310,"./pad_attributes":315}],315:[function(m,de,ne){"use strict";de.exports=function(o){var g=o.editType;return{t:{valType:"number",dflt:0,editType:g},r:{valType:"number",dflt:0,editType:g},b:{valType:"number",dflt:0,editType:g},l:{valType:"number",dflt:0,editType:g},editType:g}}},{}],316:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("d3-time-format").timeFormatLocale,p=m("d3-format").formatLocale,l=m("fast-isnumeric"),c=m("../registry"),C=m("../plot_api/plot_schema"),d=m("../plot_api/plot_template"),h=m("../lib"),u=m("../components/color"),_=m("../constants/numerical").BADNUM,b=m("./cartesian/axis_ids"),M=m("./cartesian/handle_outline").clearSelect,w=m("./animation_attributes"),N=m("./frame_attributes"),z=m("../plots/get_data").getModuleCalcData,k=h.relinkPrivateKeys,D=h._,S=de.exports={};h.extendFlat(S,c),S.attributes=m("./attributes"),S.attributes.type.values=S.allTypes,S.fontAttrs=m("./font_attributes"),S.layoutAttributes=m("./layout_attributes"),S.fontWeight="normal";var P=S.transformsRegistry,V=m("./command");S.executeAPICommand=V.executeAPICommand,S.computeAPICommandBindings=V.computeAPICommandBindings,S.manageCommandObserver=V.manageCommandObserver,S.hasSimpleAPICommandBindings=V.hasSimpleAPICommandBindings,S.redrawText=function(ie){return ie=h.getGraphDiv(ie),new Promise(function(K){setTimeout(function(){ie._fullLayout&&(c.getComponentMethod("annotations","draw")(ie),c.getComponentMethod("legend","draw")(ie),c.getComponentMethod("colorbar","draw")(ie),K(S.previousPromises(ie)))},300)})},S.resize=function(ie){var K;ie=h.getGraphDiv(ie);var le=new Promise(function(G,j){ie&&!h.isHidden(ie)||j(new Error("Resize must be passed a displayed plot div element.")),ie._redrawTimer&&clearTimeout(ie._redrawTimer),ie._resolveResize&&(K=ie._resolveResize),ie._resolveResize=G,ie._redrawTimer=setTimeout(function(){if(!ie.layout||ie.layout.width&&ie.layout.height||h.isHidden(ie))G(ie);else{delete ie.layout.width,delete ie.layout.height;var oe=ie.changed;ie.autoplay=!0,c.call("relayout",ie,{autosize:!0}).then(function(){ie.changed=oe,ie._resolveResize===G&&(delete ie._resolveResize,G(ie))})}},100)});return K&&K(le),le},S.previousPromises=function(ie){if((ie._promises||[]).length)return Promise.all(ie._promises).then(function(){ie._promises=[]})},S.addLinks=function(ie){if(ie._context.showLink||ie._context.showSources){var K=ie._fullLayout,le=h.ensureSingle(K._paper,"text","js-plot-link-container",function(O){O.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:u.defaultLine,"pointer-events":"all"}).each(function(){var X=o.select(this);X.append("tspan").classed("js-link-to-tool",!0),X.append("tspan").classed("js-link-spacer",!0),X.append("tspan").classed("js-sourcelinks",!0)})}),G=le.node(),j={y:K._paper.attr("height")-9};document.body.contains(G)&&G.getComputedTextLength()>=K.width-20?(j["text-anchor"]="start",j.x=5):(j["text-anchor"]="end",j.x=K._paper.attr("width")-7),le.attr(j);var oe=le.select(".js-link-to-tool"),re=le.select(".js-link-spacer"),F=le.select(".js-sourcelinks");ie._context.showSources&&ie._context.showSources(ie),ie._context.showLink&&function(O,X){X.text("");var R=X.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(O._context.linkText+" "+String.fromCharCode(187));if(O._context.sendData)R.on("click",function(){S.sendDataToCloud(O)});else{var ae=window.location.pathname.split("/"),fe=window.location.search;R.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+ae[2].split(".")[0]+"/"+ae[1]+fe})}}(ie,oe),re.text(oe.text()&&F.text()?" - ":"")}},S.sendDataToCloud=function(ie){var K=(window.PLOTLYENV||{}).BASE_URL||ie._context.plotlyServerURL;if(K){ie.emit("plotly_beforeexport");var le=o.select(ie).append("div").attr("id","hiddenform").style("display","none"),G=le.append("form").attr({action:K+"/external",method:"post",target:"_blank"});return G.append("input").attr({type:"text",name:"data"}).node().value=S.graphJson(ie,!1,"keepdata"),G.node().submit(),le.remove(),ie.emit("plotly_afterexport"),!1}};var E=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],I=["year","month","dayMonth","dayMonthYear"];function L(ie,K){var le=ie._context.locale;le||(le="en-US");var G=!1,j={};function oe(ae){for(var fe=!0,ue=0;ue<K.length;ue++){var pe=K[ue];j[pe]||(ae[pe]?j[pe]=ae[pe]:fe=!1)}fe&&(G=!0)}for(var re=0;re<2;re++){for(var F=ie._context.locales,O=0;O<2;O++){var X=(F[le]||{}).format;if(X&&(oe(X),G))break;F=c.localeRegistry}var R=le.split("-")[0];if(G||R===le)break;le=R}return G||oe(c.localeRegistry.en.format),j}function B(ie,K){var le={_fullLayout:K},G="x"===ie._id.charAt(0),j=ie._mainAxis._anchorAxis,oe="",re="",F="";if(j&&(F=j._mainAxis._id,oe=G?ie._id+F:F+ie._id),!oe||!K._plots[oe]){oe="";for(var O=ie._counterAxes,X=0;X<O.length;X++){var R=O[X],ae=G?ie._id+R:R+ie._id;re||(re=ae);var fe=b.getFromId(le,R);if(F&&fe.overlaying===F){oe=ae;break}}}return oe||re}function $(ie){var K=ie.transforms;if(Array.isArray(K)&&K.length)for(var le=0;le<K.length;le++){var G=K[le],j=G._module||P[G.type];if(j&&j.makesData)return!0}return!1}function T(ie,K,le,G){for(var j=ie.transforms,oe=[ie],re=0;re<j.length;re++){var F=j[re],O=P[F.type];O&&O.transform&&(oe=O.transform(oe,{transform:F,fullTrace:ie,fullData:K,layout:le,fullLayout:G,transformIndex:re}))}return oe}function Y(ie){return"string"==typeof ie&&"px"===ie.substr(ie.length-2)&&parseFloat(ie)}function W(ie){var K=ie.margin;if(!ie._size){var le=ie._size={l:Math.round(K.l),r:Math.round(K.r),t:Math.round(K.t),b:Math.round(K.b),p:Math.round(K.pad)};le.w=Math.round(ie.width)-le.l-le.r,le.h=Math.round(ie.height)-le.t-le.b}ie._pushmargin||(ie._pushmargin={}),ie._pushmarginIds||(ie._pushmarginIds={})}S.supplyDefaults=function(ie,K){var r1,f1,le=K&&K.skipUpdateCalc,G=ie._fullLayout||{};if(G._skipDefaults)delete G._skipDefaults;else{var j,oe=ie._fullLayout={},re=ie.layout||{},F=ie._fullData||[],O=ie._fullData=[],X=ie.data||[],R=ie.calcdata||[],ae=ie._context||{};ie._transitionData||S.createTransitionData(ie),oe._dfltTitle={plot:D(ie,"Click to enter Plot title"),x:D(ie,"Click to enter X axis title"),y:D(ie,"Click to enter Y axis title"),colorbar:D(ie,"Click to enter Colorscale title"),annotation:D(ie,"new text")},oe._traceWord=D(ie,"trace");var fe=L(ie,E);if(oe._mapboxAccessToken=ae.mapboxAccessToken,G._initialAutoSizeIsDone){var ue=G.width,pe=G.height;S.supplyLayoutGlobalDefaults(re,oe,fe),re.width||(oe.width=ue),re.height||(oe.height=pe),S.sanitizeMargins(oe)}else{S.supplyLayoutGlobalDefaults(re,oe,fe);var xe=!re.width||!re.height,Me=oe.autosize;xe&&(Me||ae.autosizable)?S.plotAutoSize(ie,re,oe):xe&&S.sanitizeMargins(oe),!Me&&xe&&(re.width=oe.width,re.height=oe.height)}oe._d3locale=((r1=fe).decimal=(f1=oe.separators).charAt(0),r1.thousands=f1.charAt(1),{numberFormat:function(Je){try{Je=p(r1).format(h.adjustFormat(Je))}catch(g1){return h.warnBadFormat(Je),h.noFormat}return Je},timeFormat:g(r1).utcFormat}),oe._extraFormat=L(ie,I),oe._initialAutoSizeIsDone=!0,oe._dataLength=X.length,oe._modules=[],oe._visibleModules=[],oe._basePlotModules=[];var ze=oe._subplots=function(){var r1,f1,Je=c.collectableSubplotTypes,g1={};if(!Je){Je=[];var b1=c.subplotsRegistry;for(var _1 in b1){var I1=b1[_1].attr;if(I1&&(Je.push(_1),Array.isArray(I1)))for(f1=0;f1<I1.length;f1++)h.pushUnique(Je,I1[f1])}}for(r1=0;r1<Je.length;r1++)g1[Je[r1]]=[];return g1}(),Fe=oe._splomAxes={x:{},y:{}},Ue=oe._splomSubplots={};oe._splomGridDflt={},oe._scatterStackOpts={},oe._firstScatter={},oe._alignmentOpts={},oe._colorAxes={},oe._requestRangeslider={},oe._traceUids=function(r1,f1){var Je,g1,b1=f1.length,_1=[];for(Je=0;Je<r1.length;Je++){var I1=r1[Je]._fullInput;I1!==g1&&_1.push(I1),g1=I1}var M1=_1.length,Be=new Array(b1),je={};function C1(st,$1){Be[$1]=st,je[st]=1}function O1(st,$1){if(st&&"string"==typeof st&&!je[st])return C1(st,$1),!0}for(Je=0;Je<b1;Je++){var Q1=f1[Je].uid;"number"==typeof Q1&&(Q1=String(Q1)),O1(Q1,Je)||Je<M1&&O1(_1[Je].uid,Je)||C1(h.randstr(je),Je)}return Be}(F,X),oe._globalTransforms=(ie._context||{}).globalTransforms,S.supplyDataDefaults(X,O,re,oe);var t1=Object.keys(Fe.x),Xe=Object.keys(Fe.y);if(t1.length>1&&Xe.length>1){for(c.getComponentMethod("grid","sizeDefaults")(re,oe),j=0;j<t1.length;j++)h.pushUnique(ze.xaxis,t1[j]);for(j=0;j<Xe.length;j++)h.pushUnique(ze.yaxis,Xe[j]);for(var Ge in Ue)h.pushUnique(ze.cartesian,Ge)}if(oe._has=S._hasPlotType.bind(oe),F.length===O.length)for(j=0;j<O.length;j++)k(O[j],F[j]);S.supplyLayoutModuleDefaults(re,oe,O,ie._transitionData);var we=oe._visibleModules,ve=[];for(j=0;j<we.length;j++){var De=we[j].crossTraceDefaults;De&&h.pushUnique(ve,De)}for(j=0;j<ve.length;j++)ve[j](O,oe);oe._hasOnlyLargeSploms=1===oe._basePlotModules.length&&"splom"===oe._basePlotModules[0].name&&t1.length>15&&Xe.length>15&&0===oe.shapes.length&&0===oe.images.length,S.linkSubplots(O,oe,F,G),S.cleanPlot(O,oe,F,G);var Ve=!(!G._has||!G._has("gl2d")),qe=!(!oe._has||!oe._has("gl2d")),Ie=!(!G._has||!G._has("cartesian"))||Ve,Re=!(!oe._has||!oe._has("cartesian"))||qe;Ie&&!Re?G._bgLayer.remove():Re&&!Ie&&(oe._shouldCreateBgLayer=!0),G._zoomlayer&&!ie._dragging&&M({_fullLayout:G}),function(r1,f1){var Je,g1=[];f1.meta&&(Je=f1._meta={meta:f1.meta,layout:{meta:f1.meta}});for(var b1=0;b1<r1.length;b1++){var _1=r1[b1];_1.meta?g1[_1.index]=_1._meta={meta:_1.meta}:f1.meta&&(_1._meta={meta:f1.meta}),f1.meta&&(_1._meta.layout={meta:f1.meta})}g1.length&&(Je||(Je=f1._meta={}),Je.data=g1)}(O,oe),k(oe,G),c.getComponentMethod("colorscale","crossTraceDefaults")(O,oe),oe._preGUI||(oe._preGUI={}),oe._tracePreGUI||(oe._tracePreGUI={});var Qe,n1=oe._tracePreGUI,Ye={};for(Qe in n1)Ye[Qe]="old";for(j=0;j<O.length;j++)Ye[Qe=O[j]._fullInput.uid]||(n1[Qe]={}),Ye[Qe]="new";for(Qe in Ye)"old"===Ye[Qe]&&delete n1[Qe];W(oe),c.getComponentMethod("rangeslider","makeData")(oe),le||R.length!==O.length||S.supplyDefaultsUpdateCalc(R,O)}},S.supplyDefaultsUpdateCalc=function(ie,K){for(var le=0;le<K.length;le++){var G=K[le],j=(ie[le]||[])[0];if(j&&j.trace){var oe=j.trace;if(oe._hasCalcTransform){var re,F,O,X=oe._arrayAttrs;for(re=0;re<X.length;re++)O=h.nestedProperty(oe,F=X[re]).get().slice(),h.nestedProperty(G,F).set(O)}j.trace=G}}},S.createTransitionData=function(ie){ie._transitionData||(ie._transitionData={}),ie._transitionData._frames||(ie._transitionData._frames=[]),ie._transitionData._frameHash||(ie._transitionData._frameHash={}),ie._transitionData._counter||(ie._transitionData._counter=0),ie._transitionData._interruptCallbacks||(ie._transitionData._interruptCallbacks=[])},S._hasPlotType=function(ie){var K,le=this._basePlotModules||[];for(K=0;K<le.length;K++)if(le[K].name===ie)return!0;var G=this._modules||[];for(K=0;K<G.length;K++){var j=G[K].name;if(j===ie)return!0;var oe=c.modules[j];if(oe&&oe.categories[ie])return!0}return!1},S.cleanPlot=function(ie,K,le,G){var j,oe,re=G._basePlotModules||[];for(j=0;j<re.length;j++){var F=re[j];F.clean&&F.clean(ie,K,le,G)}var O=G._has&&G._has("gl"),X=K._has&&K._has("gl");O&&!X&&void 0!==G._glcontainer&&(G._glcontainer.selectAll(".gl-canvas").remove(),G._glcontainer.selectAll(".no-webgl").remove(),G._glcanvas=null);var R=!!G._infolayer;e:for(j=0;j<le.length;j++){var ae=le[j].uid;for(oe=0;oe<ie.length;oe++)if(ae===ie[oe].uid)continue e;R&&G._infolayer.select(".cb"+ae).remove()}},S.linkSubplots=function(ie,K,le,G){var j,oe,re=G._plots||{},F=K._plots={},O=K._subplots,X={_fullData:ie,_fullLayout:K},R=O.cartesian.concat(O.gl2d||[]);for(j=0;j<R.length;j++){var ae,fe=R[j],ue=re[fe],pe=b.getFromId(X,fe,"x"),xe=b.getFromId(X,fe,"y");for(ue?ae=F[fe]=ue:(ae=F[fe]={}).id=fe,pe._counterAxes.push(xe._id),xe._counterAxes.push(pe._id),pe._subplotsWith.push(fe),xe._subplotsWith.push(fe),ae.xaxis=pe,ae.yaxis=xe,ae._hasClipOnAxisFalse=!1,oe=0;oe<ie.length;oe++){var Me=ie[oe];if(Me.xaxis===ae.xaxis._id&&Me.yaxis===ae.yaxis._id&&!1===Me.cliponaxis){ae._hasClipOnAxisFalse=!0;break}}}var Ae,ze=b.list(X,null,!0);for(j=0;j<ze.length;j++){var Fe=null;(Ae=ze[j]).overlaying&&(Fe=b.getFromId(X,Ae.overlaying))&&Fe.overlaying&&(Ae.overlaying=!1,Fe=null),Ae._mainAxis=Fe||Ae,Fe&&(Ae.domain=Fe.domain.slice()),Ae._anchorAxis="free"===Ae.anchor?null:b.getFromId(X,Ae.anchor)}for(j=0;j<ze.length;j++)if((Ae=ze[j])._counterAxes.sort(b.idSort),Ae._subplotsWith.sort(h.subplotSort),Ae._mainSubplot=B(Ae,K),Ae._counterAxes.length&&(Ae.spikemode&&-1!==Ae.spikemode.indexOf("across")||Ae.automargin&&Ae.mirror&&"free"!==Ae.anchor||c.getComponentMethod("rangeslider","isVisible")(Ae))){var Ue=1,t1=0;for(oe=0;oe<Ae._counterAxes.length;oe++){var Xe=b.getFromId(X,Ae._counterAxes[oe]);Ue=Math.min(Ue,Xe.domain[0]),t1=Math.max(t1,Xe.domain[1])}Ue<t1&&(Ae._counterDomainMin=Ue,Ae._counterDomainMax=t1)}},S.clearExpandedTraceDefaultColors=function(ie){var K,le,G;for(le=[],(K=ie._module._colorAttrs)||(ie._module._colorAttrs=K=[],C.crawl(ie._module.attributes,function(j,oe,re,F){le[F]=oe,le.length=F+1,"color"===j.valType&&void 0===j.dflt&&K.push(le.join("."))})),G=0;G<K.length;G++)h.nestedProperty(ie,"_input."+K[G]).get()||h.nestedProperty(ie,K[G]).set(null)},S.supplyDataDefaults=function(ie,K,le,G){var j,oe,re,F=G._modules,O=G._visibleModules,X=G._basePlotModules,R=0,ae=0;function fe(Ge){K.push(Ge);var we=Ge._module;we&&(h.pushUnique(F,we),!0===Ge.visible&&h.pushUnique(O,we),h.pushUnique(X,Ge._module.basePlotModule),R++,!1!==Ge._input.visible&&ae++)}G._transformModules=[];var ue={},pe=[],Me=d.traceTemplater((le.template||{}).data||{});for(j=0;j<ie.length;j++){if((oe=Me.newTrace(re=ie[j])).uid=G._traceUids[j],S.supplyTraceDefaults(re,oe,ae,G,j),oe.index=j,oe._input=re,oe._expandedIndex=R,oe.transforms&&oe.transforms.length)for(var Ae=!1!==re.visible&&!1===oe.visible,ze=T(oe,K,le,G),Fe=0;Fe<ze.length;Fe++){var Ue=ze[Fe],t1={_template:oe._template,type:oe.type,uid:oe.uid+Fe};Ae&&!1===Ue.visible&&delete Ue.visible,S.supplyTraceDefaults(Ue,t1,R,G,j),k(t1,Ue),t1.index=j,t1._input=re,t1._fullInput=oe,t1._expandedIndex=R,t1._expandedInput=Ue,fe(t1)}else oe._fullInput=oe,oe._expandedInput=oe,fe(oe);c.traceIs(oe,"carpetAxis")&&(ue[oe.carpet]=oe),c.traceIs(oe,"carpetDependent")&&pe.push(j)}for(j=0;j<pe.length;j++)if((oe=K[pe[j]]).visible){var Xe=ue[oe.carpet];oe._carpet=Xe,Xe&&Xe.visible?(oe.xaxis=Xe.xaxis,oe.yaxis=Xe.yaxis):oe.visible=!1}},S.supplyAnimationDefaults=function(ie){var K;ie=ie||{};var le={};function G(j,oe){return h.coerce(ie||{},le,w,j,oe)}if(G("mode"),G("direction"),G("fromcurrent"),Array.isArray(ie.frame))for(le.frame=[],K=0;K<ie.frame.length;K++)le.frame[K]=S.supplyAnimationFrameDefaults(ie.frame[K]||{});else le.frame=S.supplyAnimationFrameDefaults(ie.frame||{});if(Array.isArray(ie.transition))for(le.transition=[],K=0;K<ie.transition.length;K++)le.transition[K]=S.supplyAnimationTransitionDefaults(ie.transition[K]||{});else le.transition=S.supplyAnimationTransitionDefaults(ie.transition||{});return le},S.supplyAnimationFrameDefaults=function(ie){var K={};function le(G,j){return h.coerce(ie||{},K,w.frame,G,j)}return le("duration"),le("redraw"),K},S.supplyAnimationTransitionDefaults=function(ie){var K={};function le(G,j){return h.coerce(ie||{},K,w.transition,G,j)}return le("duration"),le("easing"),K},S.supplyFrameDefaults=function(ie){var K={};function le(G,j){return h.coerce(ie,K,N,G,j)}return le("group"),le("name"),le("traces"),le("baseframe"),le("data"),le("layout"),K},S.supplyTraceDefaults=function(ie,K,le,G,j){var oe,re=G.colorway||u.defaults,F=re[le%re.length];function O(ze,Fe){return h.coerce(ie,K,S.attributes,ze,Fe)}var X=O("visible");O("type"),O("name",G._traceWord+" "+j),O("uirevision",G.uirevision);var R=S.getModule(K);if(K._module=R,R){var ae=R.basePlotModule,fe=ae.attr,ue=ae.attributes;if(fe&&ue){var pe=G._subplots,xe="";if(X||"gl2d"!==ae.name){if(Array.isArray(fe))for(oe=0;oe<fe.length;oe++){var Me=fe[oe],Ae=h.coerce(ie,K,ue,Me);pe[Me]&&h.pushUnique(pe[Me],Ae),xe+=Ae}else xe=h.coerce(ie,K,ue,fe);pe[ae.name]&&h.pushUnique(pe[ae.name],xe)}}}return X&&(O("customdata"),O("ids"),O("meta"),c.traceIs(K,"showLegend")?(h.coerce(ie,K,R.attributes.showlegend?R.attributes:S.attributes,"showlegend"),O("legendgroup"),O("legendgrouptitle.text"),O("legendrank"),K._dfltShowLegend=!0):K._dfltShowLegend=!1,R&&R.supplyDefaults(ie,K,F,G),c.traceIs(K,"noOpacity")||O("opacity"),c.traceIs(K,"notLegendIsolatable")&&(K.visible=!!K.visible),c.traceIs(K,"noHover")||(K.hovertemplate||h.coerceHoverinfo(ie,K,G),"parcats"!==K.type&&c.getComponentMethod("fx","supplyDefaults")(ie,K,F,G)),R&&R.selectPoints&&O("selectedpoints"),S.supplyTransformDefaults(ie,K,G)),K},S.hasMakesDataTransform=$,S.supplyTransformDefaults=function(ie,K,le){if(K._length||$(ie)){var G=le._globalTransforms||[],j=le._transformModules||[];if(Array.isArray(ie.transforms)||0!==G.length)for(var re=G.concat(ie.transforms||[]),F=K.transforms=[],O=0;O<re.length;O++){var X,R=re[O],ae=R.type,fe=P[ae],ue=!(R._module&&R._module===fe),pe=fe&&"function"==typeof fe.transform;fe||h.warn("Unrecognized transform type "+ae+"."),fe&&fe.supplyDefaults&&(ue||pe)?((X=fe.supplyDefaults(R,K,le,ie)).type=ae,X._module=fe,h.pushUnique(j,fe)):X=h.extendFlat({},R),F.push(X)}}},S.supplyLayoutGlobalDefaults=function(ie,K,le){function G(O,X){return h.coerce(ie,K,S.layoutAttributes,O,X)}var j=ie.template;h.isPlainObject(j)&&(K.template=j,K._template=j.layout,K._dataTemplate=j.data),G("autotypenumbers");var oe=h.coerceFont(G,"font");h.coerceFont(G,"title.font",h.extendFlat({},oe,{size:Math.round(1.4*oe.size)})),G("title.text",K._dfltTitle.plot),G("title.xref"),G("title.yref"),G("title.x"),G("title.y"),G("title.xanchor"),G("title.yanchor"),G("title.pad.t"),G("title.pad.r"),G("title.pad.b"),G("title.pad.l"),G("uniformtext.mode")&&G("uniformtext.minsize"),G("autosize",!(ie.width&&ie.height)),G("width"),G("height"),G("margin.l"),G("margin.r"),G("margin.t"),G("margin.b"),G("margin.pad"),G("margin.autoexpand"),ie.width&&ie.height&&S.sanitizeMargins(K),c.getComponentMethod("grid","sizeDefaults")(ie,K),G("paper_bgcolor"),G("separators",le.decimal+le.thousands),G("hidesources"),G("colorway"),G("datarevision");var F=G("uirevision");G("editrevision",F),G("selectionrevision",F),c.getComponentMethod("modebar","supplyLayoutDefaults")(ie,K),c.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(ie,K,G),G("meta"),h.isPlainObject(ie.transition)&&(G("transition.duration"),G("transition.easing"),G("transition.ordering")),c.getComponentMethod("calendars","handleDefaults")(ie,K,"calendar"),c.getComponentMethod("fx","supplyLayoutGlobalDefaults")(ie,K,G)},S.plotAutoSize=function(ie,K,le){var G,j,oe=ie._context||{},re=oe.frameMargins,F=h.isPlotDiv(ie);if(F&&ie.emit("plotly_autosize"),oe.fillFrame)G=window.innerWidth,j=window.innerHeight,document.body.style.overflow="hidden";else{var O=F?window.getComputedStyle(ie):{};if(G=Y(O.width)||Y(O.maxWidth)||le.width,j=Y(O.height)||Y(O.maxHeight)||le.height,l(re)&&re>0){var X=1-2*re;G=Math.round(X*G),j=Math.round(X*j)}}var R=S.layoutAttributes.width.min,ae=S.layoutAttributes.height.min;G<R&&(G=R),j<ae&&(j=ae);var fe=!K.width&&Math.abs(le.width-G)>1,ue=!K.height&&Math.abs(le.height-j)>1;(ue||fe)&&(fe&&(le.width=G),ue&&(le.height=j)),ie._initialAutoSize||(ie._initialAutoSize={width:G,height:j}),S.sanitizeMargins(le)},S.supplyLayoutModuleDefaults=function(ie,K,le,G){var j,oe,re,F=c.componentsRegistry,O=K._basePlotModules,X=c.subplotsRegistry.cartesian;for(j in F)(re=F[j]).includeBasePlot&&re.includeBasePlot(ie,K);for(var R in O.length||O.push(X),K._has("cartesian")&&(c.getComponentMethod("grid","contentDefaults")(ie,K),X.finalizeSubplots(ie,K)),K._subplots)K._subplots[R].sort(h.subplotSort);for(oe=0;oe<O.length;oe++)(re=O[oe]).supplyLayoutDefaults&&re.supplyLayoutDefaults(ie,K,le);var ae=K._modules;for(oe=0;oe<ae.length;oe++)(re=ae[oe]).supplyLayoutDefaults&&re.supplyLayoutDefaults(ie,K,le);var fe=K._transformModules;for(oe=0;oe<fe.length;oe++)(re=fe[oe]).supplyLayoutDefaults&&re.supplyLayoutDefaults(ie,K,le,G);for(j in F)(re=F[j]).supplyLayoutDefaults&&re.supplyLayoutDefaults(ie,K,le)},S.purge=function(ie){var K=ie._fullLayout||{};void 0!==K._glcontainer&&(K._glcontainer.selectAll(".gl-canvas").remove(),K._glcontainer.remove(),K._glcanvas=null),K._modeBar&&K._modeBar.destroy(),ie._transitionData&&(ie._transitionData._interruptCallbacks&&(ie._transitionData._interruptCallbacks.length=0),ie._transitionData._animationRaf&&window.cancelAnimationFrame(ie._transitionData._animationRaf)),h.clearThrottle(),h.clearResponsive(ie),delete ie.data,delete ie.layout,delete ie._fullData,delete ie._fullLayout,delete ie.calcdata,delete ie.empty,delete ie.fid,delete ie.undoqueue,delete ie.undonum,delete ie.autoplay,delete ie.changed,delete ie._promises,delete ie._redrawTimer,delete ie._hmlumcount,delete ie._hmpixcount,delete ie._transitionData,delete ie._transitioning,delete ie._initialAutoSize,delete ie._transitioningWithDuration,delete ie._dragging,delete ie._dragged,delete ie._dragdata,delete ie._hoverdata,delete ie._snapshotInProgress,delete ie._editing,delete ie._mouseDownTime,delete ie._legendMouseDownTime,ie.removeAllListeners&&ie.removeAllListeners()},S.style=function(ie){var K,le=ie._fullLayout._visibleModules,G=[];for(K=0;K<le.length;K++){var j=le[K];j.style&&h.pushUnique(G,j.style)}for(K=0;K<G.length;K++)G[K](ie)},S.sanitizeMargins=function(ie){if(ie&&ie.margin){var K,le=ie.width,G=ie.height,j=ie.margin,re=G-(j.t+j.b);le-(j.l+j.r)<0&&(K=(le-1)/(j.l+j.r),j.l=Math.floor(K*j.l),j.r=Math.floor(K*j.r)),re<0&&(K=(G-1)/(j.t+j.b),j.t=Math.floor(K*j.t),j.b=Math.floor(K*j.b))}},S.clearAutoMarginIds=function(ie){ie._fullLayout._pushmarginIds={}},S.allowAutoMargin=function(ie,K){ie._fullLayout._pushmarginIds[K]=1},S.autoMargin=function(ie,K,le){var G=ie._fullLayout,j=G.width,oe=G.height,re=G.margin,F=h.constrain(j-re.l-re.r,2,64),O=h.constrain(oe-re.t-re.b,2,64),X=Math.max(0,j-F),R=Math.max(0,oe-O),ae=G._pushmargin,fe=G._pushmarginIds;if(!1!==re.autoexpand){if(le){var ue=le.pad;if(void 0===ue&&(ue=Math.min(12,re.l,re.r,re.t,re.b)),X){var pe=(le.l+le.r)/X;pe>1&&(le.l/=pe,le.r/=pe)}if(R){var xe=(le.t+le.b)/R;xe>1&&(le.t/=xe,le.b/=xe)}ae[K]={l:{val:void 0!==le.xl?le.xl:le.x,size:le.l+ue},r:{val:void 0!==le.xr?le.xr:le.x,size:le.r+ue},b:{val:void 0!==le.yb?le.yb:le.y,size:le.b+ue},t:{val:void 0!==le.yt?le.yt:le.y,size:le.t+ue}},fe[K]=1}else delete ae[K],delete fe[K];if(!G._replotting)return S.doAutoMargin(ie)}},S.doAutoMargin=function(ie){var K=ie._fullLayout,le=K.width,G=K.height;K._size||(K._size={}),W(K);var j=K._size,oe=K.margin,re=h.extendFlat({},j),F=oe.l,O=oe.r,X=oe.t,R=oe.b,ae=K._pushmargin,fe=K._pushmarginIds;if(!1!==K.margin.autoexpand){for(var ue in ae)fe[ue]||delete ae[ue];for(var pe in ae.base={l:{val:0,size:F},r:{val:1,size:O},t:{val:1,size:X},b:{val:0,size:R}},ae){var xe=ae[pe].l||{},Me=ae[pe].b||{},Ae=xe.val,ze=xe.size,Fe=Me.val,Ue=Me.size;for(var t1 in ae){if(l(ze)&&ae[t1].r){var Xe=ae[t1].r.val,Ge=ae[t1].r.size;if(Xe>Ae){var we=(ze*Xe+(Ge-le)*Ae)/(Xe-Ae),ve=(Ge*(1-Ae)+(ze-le)*(1-Xe))/(Xe-Ae);we+ve>F+O&&(F=we,O=ve)}}if(l(Ue)&&ae[t1].t){var De=ae[t1].t.val,Ve=ae[t1].t.size;if(De>Fe){var qe=(Ue*De+(Ve-G)*Fe)/(De-Fe),Ie=(Ve*(1-Fe)+(Ue-G)*(1-De))/(De-Fe);qe+Ie>R+X&&(R=qe,X=Ie)}}}}}var b1,Re=h.constrain(le-oe.l-oe.r,2,64),Qe=h.constrain(G-oe.t-oe.b,2,64),n1=Math.max(0,le-Re),Ye=Math.max(0,G-Qe);if(n1){var r1=(F+O)/n1;r1>1&&(F/=r1,O/=r1)}if(Ye){var f1=(R+X)/Ye;f1>1&&(R/=f1,X/=f1)}if(j.l=Math.round(F),j.r=Math.round(O),j.t=Math.round(X),j.b=Math.round(R),j.p=Math.round(oe.pad),j.w=Math.round(le)-j.l-j.r,j.h=Math.round(G)-j.t-j.b,!K._replotting&&S.didMarginChange(re,j)){"_redrawFromAutoMarginCount"in K?K._redrawFromAutoMarginCount++:K._redrawFromAutoMarginCount=1;var Je=3*(1+Object.keys(fe).length);if(K._redrawFromAutoMarginCount<Je)return c.call("_doPlot",ie);K._size=re,h.warn("Too many auto-margin redraws.")}b1=b.list(ie,"",!0),["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(_1){for(var I1=0;I1<b1.length;I1++){var M1=b1[I1][_1];M1&&M1()}})};var q=["l","r","t","b","p","w","h"];function Q(ie,K,le){var G=!1,oe=h.syncOrAsync([S.previousPromises,function(){if(ie._transitionData)return ie._transitioning=!1,function(re){var F=Promise.resolve();if(!re)return F;for(;re.length;)F=F.then(re.shift());return F}(ie._transitionData._interruptCallbacks)},le.prepareFn,S.rehover,function(){return ie.emit("plotly_transitioning",[]),new Promise(function(re){ie._transitioning=!0,K.duration>0&&(ie._transitioningWithDuration=!0),ie._transitionData._interruptCallbacks.push(function(){G=!0}),le.redraw&&ie._transitionData._interruptCallbacks.push(function(){return c.call("redraw",ie)}),ie._transitionData._interruptCallbacks.push(function(){ie.emit("plotly_transitioninterrupted",[])});var F=0,O=0;function X(){return F++,function(){var R;O++,G||O!==F||(R=re,!ie._transitionData||(function(ae){if(ae)for(;ae.length;)ae.shift()}(ie._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(le.redraw)return c.call("redraw",ie)}).then(function(){ie._transitioning=!1,ie._transitioningWithDuration=!1,ie.emit("plotly_transitioned",[])}).then(R)))}}le.runFn(X),setTimeout(X())})}],ie);return oe&&oe.then||(oe=Promise.resolve()),oe.then(function(){return ie})}S.didMarginChange=function(ie,K){for(var le=0;le<q.length;le++){var G=q[le],j=ie[G],oe=K[G];if(!l(j)||Math.abs(oe-j)>1)return!0}return!1},S.graphJson=function(ie,K,le,G,j,oe){(j&&K&&!ie._fullData||j&&!K&&!ie._fullLayout)&&S.supplyDefaults(ie);var F=j?ie._fullLayout:ie.layout,O=(ie._transitionData||{})._frames;function X(fe,ue){if("function"==typeof fe)return ue?"_function_":null;if(h.isPlainObject(fe)){var pe,xe={};return Object.keys(fe).sort().forEach(function(Me){if(-1===["_","["].indexOf(Me.charAt(0)))if("function"!=typeof fe[Me]){if("keepdata"===le){if("src"===Me.substr(Me.length-3))return}else if("keepstream"===le){if("string"==typeof(pe=fe[Me+"src"])&&pe.indexOf(":")>0&&!h.isPlainObject(fe.stream))return}else if("keepall"!==le&&"string"==typeof(pe=fe[Me+"src"])&&pe.indexOf(":")>0)return;xe[Me]=X(fe[Me],ue)}else ue&&(xe[Me]="_function")}),xe}return Array.isArray(fe)?fe.map(function(Me){return X(Me,ue)}):h.isTypedArray(fe)?h.simpleMap(fe,h.identity):h.isJSDate(fe)?h.ms2DateTimeLocal(+fe):fe}var R={data:((j?ie._fullData:ie.data)||[]).map(function(fe){var ue=X(fe);return K&&delete ue.fit,ue})};if(!K&&(R.layout=X(F),j)){var ae=F._size;R.layout.computed={margin:{b:ae.b,l:ae.l,r:ae.r,t:ae.t}}}return O&&(R.frames=X(O)),oe&&(R.config=X(ie._context,!0)),"object"===G?R:JSON.stringify(R)},S.modifyFrames=function(ie,K){var le,G,j,oe=ie._transitionData._frames,re=ie._transitionData._frameHash;for(le=0;le<K.length;le++)switch((G=K[le]).type){case"replace":var F=(oe[G.index]||{}).name,O=(j=G.value).name;oe[G.index]=re[O]=j,O!==F&&(delete re[F],re[O]=j);break;case"insert":re[(j=G.value).name]=j,oe.splice(G.index,0,j);break;case"delete":delete re[(j=oe[G.index]).name],oe.splice(G.index,1)}return Promise.resolve()},S.computeFrame=function(ie,K){var le,G,j,oe,re=ie._transitionData._frameHash;if(!K)throw new Error("computeFrame must be given a string frame name");var F=re[K.toString()];if(!F)return!1;for(var O=[F],X=[F.name];F.baseframe&&(F=re[F.baseframe.toString()])&&-1===X.indexOf(F.name);)O.push(F),X.push(F.name);for(var R={};F=O.pop();)if(F.layout&&(R.layout=S.extendLayout(R.layout,F.layout)),F.data){if(R.data||(R.data=[]),!(G=F.traces))for(G=[],le=0;le<F.data.length;le++)G[le]=le;for(R.traces||(R.traces=[]),le=0;le<F.data.length;le++)null!=(j=G[le])&&(-1===(oe=R.traces.indexOf(j))&&(R.traces[oe=R.data.length]=j),R.data[oe]=S.extendTrace(R.data[oe],F.data[le]))}return R},S.recomputeFrameHash=function(ie){for(var K=ie._transitionData._frameHash={},le=ie._transitionData._frames,G=0;G<le.length;G++){var j=le[G];j&&j.name&&(K[j.name]=j)}},S.extendObjectWithContainers=function(ie,K,le){var G,j,oe,re,F,O,X,R=h.extendDeepNoArrays({},K||{}),ae=h.expandObjectPaths(R),fe={};if(le&&le.length)for(oe=0;oe<le.length;oe++)void 0===(j=(G=h.nestedProperty(ae,le[oe])).get())?h.nestedProperty(fe,le[oe]).set(null):(G.set(null),h.nestedProperty(fe,le[oe]).set(j));if(ie=h.extendDeepNoArrays(ie||{},ae),le&&le.length)for(oe=0;oe<le.length;oe++)if(O=h.nestedProperty(fe,le[oe]).get()){for(X=(F=h.nestedProperty(ie,le[oe])).get(),Array.isArray(X)||F.set(X=[]),re=0;re<O.length;re++){var ue=O[re];X[re]=null===ue?null:S.extendObjectWithContainers(X[re],ue)}F.set(X)}return ie},S.dataArrayContainers=["transforms","dimensions"],S.layoutArrayContainers=c.layoutArrayContainers,S.extendTrace=function(ie,K){return S.extendObjectWithContainers(ie,K,S.dataArrayContainers)},S.extendLayout=function(ie,K){return S.extendObjectWithContainers(ie,K,S.layoutArrayContainers)},S.transition=function(ie,K,le,G,j,oe){var re={redraw:j.redraw},F={},O=[];return re.prepareFn=function(){for(var X=Array.isArray(K)?K.length:0,R=G.slice(0,X),ae=0;ae<R.length;ae++){var fe=R[ae],ue=ie._fullData[fe]._module;if(ue){if(ue.animatable){var pe=ue.basePlotModule.name;F[pe]||(F[pe]=[]),F[pe].push(fe)}ie.data[R[ae]]=S.extendTrace(ie.data[R[ae]],K[ae])}}var xe=h.expandObjectPaths(h.extendDeepNoArrays({},le)),Me=/^[xy]axis[0-9]*$/;for(var Ae in xe)Me.test(Ae)&&delete xe[Ae].range;S.extendLayout(ie.layout,xe),delete ie.calcdata,S.supplyDefaults(ie),S.doCalcdata(ie);var ze=h.expandObjectPaths(le);if(ze){var Fe=ie._fullLayout._plots;for(var Ue in Fe){var t1=Fe[Ue],Xe=t1.xaxis,Ge=t1.yaxis,we=Xe.range.slice(),ve=Ge.range.slice(),De=null,Ve=null,qe=null,Ie=null;Array.isArray(ze[Xe._name+".range"])?De=ze[Xe._name+".range"].slice():Array.isArray((ze[Xe._name]||{}).range)&&(De=ze[Xe._name].range.slice()),Array.isArray(ze[Ge._name+".range"])?Ve=ze[Ge._name+".range"].slice():Array.isArray((ze[Ge._name]||{}).range)&&(Ve=ze[Ge._name].range.slice()),we&&De&&(Xe.r2l(we[0])!==Xe.r2l(De[0])||Xe.r2l(we[1])!==Xe.r2l(De[1]))&&(qe={xr0:we,xr1:De}),ve&&Ve&&(Ge.r2l(ve[0])!==Ge.r2l(Ve[0])||Ge.r2l(ve[1])!==Ge.r2l(Ve[1]))&&(Ie={yr0:ve,yr1:Ve}),(qe||Ie)&&O.push(h.extendFlat({plotinfo:t1},qe,Ie))}}return Promise.resolve()},re.runFn=function(X){var R,ae,fe=ie._fullLayout._basePlotModules,ue=O.length;if(le)for(ae=0;ae<fe.length;ae++)fe[ae].transitionAxes&&fe[ae].transitionAxes(ie,O,oe,X);for(var pe in ue?((R=h.extendFlat({},oe)).duration=0,delete F.cartesian):R=oe,F){var xe=F[pe];ie._fullData[xe[0]]._module.basePlotModule.plot(ie,xe,R,X)}},Q(ie,oe,re)},S.transitionFromReact=function(ie,K,le,G){var j=ie._fullLayout,oe=j.transition,re={},F=[];return re.prepareFn=function(){var O=j._plots;for(var X in re.redraw=!1,"some"===K.anim&&(re.redraw=!0),"some"===le.anim&&(re.redraw=!0),O){var R=O[X],ae=R.xaxis,fe=R.yaxis,ue=G[ae._name].range.slice(),pe=G[fe._name].range.slice(),xe=ae.range.slice(),Me=fe.range.slice();ae.setScale(),fe.setScale();var Ae=null,ze=null;ae.r2l(ue[0])===ae.r2l(xe[0])&&ae.r2l(ue[1])===ae.r2l(xe[1])||(Ae={xr0:ue,xr1:xe}),fe.r2l(pe[0])===fe.r2l(Me[0])&&fe.r2l(pe[1])===fe.r2l(Me[1])||(ze={yr0:pe,yr1:Me}),(Ae||ze)&&F.push(h.extendFlat({plotinfo:R},Ae,ze))}return Promise.resolve()},re.runFn=function(O){for(var X,R,ae,fe=ie._fullData,ue=ie._fullLayout._basePlotModules,pe=[],xe=0;xe<fe.length;xe++)pe.push(xe);function Me(){if(ie._fullLayout)for(var ze=0;ze<ue.length;ze++)ue[ze].transitionAxes&&ue[ze].transitionAxes(ie,F,X,O)}function Ae(){if(ie._fullLayout)for(var ze=0;ze<ue.length;ze++)ue[ze].plot(ie,ae,R,O)}F.length&&K.anim?"traces first"===oe.ordering?(X=h.extendFlat({},oe,{duration:0}),ae=pe,R=oe,setTimeout(Me,oe.duration),Ae()):(X=oe,ae=null,R=h.extendFlat({},oe,{duration:0}),setTimeout(Ae,X.duration),Me()):F.length?(X=oe,Me()):K.anim&&(ae=pe,R=oe,Ae())},Q(ie,oe,re)},S.doCalcdata=function(ie,K){var le,G,j,oe,re=b.list(ie),F=ie._fullData,O=ie._fullLayout,X=new Array(F.length),R=(ie.calcdata||[]).slice();for(ie.calcdata=X,O._numBoxes=0,O._numViolins=0,O._violinScaleGroupStats={},ie._hmpixcount=0,ie._hmlumcount=0,O._piecolormap={},O._sunburstcolormap={},O._treemapcolormap={},O._iciclecolormap={},O._funnelareacolormap={},j=0;j<F.length;j++)Array.isArray(K)&&-1===K.indexOf(j)&&(X[j]=R[j]);for(j=0;j<F.length;j++)(le=F[j])._arrayAttrs=C.findArrayAttributes(le),le._extremes={};var ae=O._subplots.polar||[];for(j=0;j<ae.length;j++)re.push(O[ae[j]].radialaxis,O[ae[j]].angularaxis);for(var fe in O._colorAxes){var ue=O[fe];!1!==ue.cauto&&(delete ue.cmin,delete ue.cmax)}var pe=!1;function xe(ze){if(G=(le=F[ze])._module,!0===le.visible&&le.transforms){if(G&&G.calc){var Fe=G.calc(ie,le);Fe[0]&&Fe[0].t&&Fe[0].t._scene&&delete Fe[0].t._scene.dirty}for(oe=0;oe<le.transforms.length;oe++){var Ue=le.transforms[oe];(G=P[Ue.type])&&G.calcTransform&&(le._hasCalcTransform=!0,pe=!0,G.calcTransform(ie,le,Ue))}}}function Me(ze,Fe){if(!!(G=(le=F[ze])._module).isContainer===Fe){var Ue=[];if(!0===le.visible&&0!==le._length){delete le._indexToPoints;var t1=le.transforms||[];for(oe=t1.length-1;oe>=0;oe--)if(t1[oe].enabled){le._indexToPoints=t1[oe]._indexToPoints;break}G&&G.calc&&(Ue=G.calc(ie,le))}Array.isArray(Ue)&&Ue[0]||(Ue=[{x:_,y:_}]),Ue[0].t||(Ue[0].t={}),Ue[0].trace=le,X[ze]=Ue}}for(ce(re,F,O),j=0;j<F.length;j++)Me(j,!0);for(j=0;j<F.length;j++)xe(j);for(pe&&ce(re,F,O),j=0;j<F.length;j++)Me(j,!0);for(j=0;j<F.length;j++)Me(j,!1);me(ie);var Ae=function(ze,Fe){var Ue,t1,Xe,Ge,we,ve=[];function De(N1,ge,ye){var We=ge._id.charAt(0);if("histogram2dcontour"===N1){var e1=ge._counterAxes[0],d1=b.getFromId(Fe,e1),a1="x"===We||"x"===e1&&"category"===d1.type,l1="y"===We||"y"===e1&&"category"===d1.type;return function(c1,w1){return 0===c1||0===w1||a1&&c1===ye[w1].length-1||l1&&w1===ye.length-1?-1:("y"===We?w1:c1)-1}}return function(c1,w1){return"y"===We?w1:c1}}var Ve={min:function(N1){return h.aggNums(Math.min,null,N1)},max:function(N1){return h.aggNums(Math.max,null,N1)},sum:function(N1){return h.aggNums(function(ge,ye){return ge+ye},null,N1)},total:function(N1){return h.aggNums(function(ge,ye){return ge+ye},null,N1)},mean:function(N1){return h.mean(N1)},median:function(N1){return h.median(N1)}};for(Ue=0;Ue<ze.length;Ue++){var qe=ze[Ue];if("category"===qe.type){var Ie=qe.categoryorder.match(te);if(Ie){var Re=Ie[1],Qe=Ie[2],n1=qe._id.charAt(0),Ye="x"===n1,r1=[];for(t1=0;t1<qe._categories.length;t1++)r1.push([qe._categories[t1],[]]);for(t1=0;t1<qe._traceIndices.length;t1++){var f1=qe._traceIndices[t1],Je=Fe._fullData[f1];if(!0===Je.visible){var g1=Je.type;c.traceIs(Je,"histogram")&&(delete Je._xautoBinFinished,delete Je._yautoBinFinished);var b1="splom"===g1,_1="scattergl"===g1,I1=Fe.calcdata[f1];for(Xe=0;Xe<I1.length;Xe++){var M1,Be,je=I1[Xe];if(b1){var C1=Je._axesDim[qe._id];if(!Ye){var O1=Je._diag[C1][0];O1&&(qe=Fe._fullLayout[b.id2name(O1)])}var Q1=je.trace.dimensions[C1].values;for(Ge=0;Ge<Q1.length;Ge++)for(M1=qe._categoriesMap[Q1[Ge]],we=0;we<je.trace.dimensions.length;we++)we!==C1&&r1[M1][1].push(je.trace.dimensions[we].values[Ge])}else if(_1){for(Ge=0;Ge<je.t.x.length;Ge++)Ye?(M1=je.t.x[Ge],Be=je.t.y[Ge]):(M1=je.t.y[Ge],Be=je.t.x[Ge]),r1[M1][1].push(Be);je.t&&je.t._scene&&delete je.t._scene.dirty}else if(je.hasOwnProperty("z")){var $1=De(Je.type,qe,Be=je.z);for(Ge=0;Ge<Be.length;Ge++)for(we=0;we<Be[Ge].length;we++)(M1=$1(we,Ge))+1&&r1[M1][1].push(Be[Ge][we])}else for(void 0===(M1=je.p)&&(M1=je[n1]),void 0===(Be=je.s)&&(Be=je.v),void 0===Be&&(Be=Ye?je.y:je.x),Array.isArray(Be)||(Be=void 0===Be?[]:[Be]),Ge=0;Ge<Be.length;Ge++)r1[M1][1].push(Be[Ge])}}}qe._categoriesValue=r1;var Z1=[];for(t1=0;t1<r1.length;t1++)Z1.push([r1[t1][0],Ve[Re](r1[t1][1])]);Z1.sort(function(N1,ge){return N1[1]-ge[1]}),qe._categoriesAggregatedValue=Z1,qe._initialCategories=Z1.map(function(N1){return N1[0]}),"descending"===Qe&&qe._initialCategories.reverse(),ve=ve.concat(qe.sortByInitialCategories())}}}return ve}(re,ie);if(Ae.length){for(O._numBoxes=0,O._numViolins=0,j=0;j<Ae.length;j++)Me(Ae[j],!0);for(j=0;j<Ae.length;j++)Me(Ae[j],!1);me(ie)}c.getComponentMethod("fx","calc")(ie),c.getComponentMethod("errorbars","calc")(ie)};var te=/(total|sum|min|max|mean|median) (ascending|descending)/;function ce(ie,K,le){var G={};function j(O){O.clearCalc(),"multicategory"===O.type&&O.setupMultiCategory(K),G[O._id]=1}h.simpleMap(ie,j);for(var oe=le._axisMatchGroups||[],re=0;re<oe.length;re++)for(var F in oe[re])G[F]||j(le[b.id2name(F)])}function me(ie){var K,le,G,j=ie._fullLayout,oe=j._visibleModules,re={};for(le=0;le<oe.length;le++){var F=oe[le],O=F.crossTraceCalc;if(O){var X=F.basePlotModule.name;re[X]?h.pushUnique(re[X],O):re[X]=[O]}}for(G in re){var R=re[G],ae=j._subplots[G];if(Array.isArray(ae))for(K=0;K<ae.length;K++){var fe=ae[K],ue="cartesian"===G?j._plots[fe]:j[fe];for(le=0;le<R.length;le++)R[le](ie,ue,fe)}else for(le=0;le<R.length;le++)R[le](ie)}}S.rehover=function(ie){ie._fullLayout._rehover&&ie._fullLayout._rehover()},S.redrag=function(ie){ie._fullLayout._redrag&&ie._fullLayout._redrag()},S.generalUpdatePerTraceModule=function(ie,K,le,G){var j,oe=K.traceHash,re={};for(j=0;j<le.length;j++){var F=le[j],O=F[0].trace;O.visible&&(re[O.type]=re[O.type]||[],re[O.type].push(F))}for(var X in oe)if(!re[X]){var R=oe[X][0];R[0].trace.visible=!1,re[X]=[R]}for(var ae in re){var fe=re[ae];fe[0][0].trace._module.plot(ie,K,h.filterVisible(fe),G)}K.traceHash=re},S.plotBasePlot=function(ie,K,le,G,j){var oe=c.getModule(ie),re=z(K.calcdata,oe)[0];oe.plot(K,re,G,j)},S.cleanBasePlot=function(ie,K,le,G,j){var oe=j._has&&j._has(ie),re=le._has&&le._has(ie);oe&&!re&&j["_"+ie+"layer"].selectAll("g.trace").remove()}},{"../components/color":102,"../constants/numerical":212,"../lib":232,"../plot_api/plot_schema":267,"../plot_api/plot_template":268,"../plots/get_data":312,"../registry":318,"./animation_attributes":273,"./attributes":275,"./cartesian/axis_ids":283,"./cartesian/handle_outline":290,"./command":308,"./font_attributes":310,"./frame_attributes":311,"./layout_attributes":314,"@plotly/d3":11,"d3-format":13,"d3-time-format":14,"fast-isnumeric":17}],317:[function(m,de,ne){"use strict";function g(p){var l=p.description?" "+p.description:"",c=p.keys||[];if(c.length>0){for(var C=[],d=0;d<c.length;d++)C[d]="`"+c[d]+"`";l+="Finally, the template string has access to ",l=1===c.length?"variable "+C[0]:"variables "+C.slice(0,-1).join(", ")+" and "+C.slice(-1)+"."}return l}m("../constants/docs"),ne.hovertemplateAttrs=function(p,l){p=p||{},g(l=l||{});var c={valType:"string",dflt:"",editType:p.editType||"none"};return!1!==p.arrayOk&&(c.arrayOk=!0),c},ne.texttemplateAttrs=function(p,l){p=p||{},g(l=l||{});var c={valType:"string",dflt:"",editType:p.editType||"calc"};return!1!==p.arrayOk&&(c.arrayOk=!0),c}},{"../constants/docs":209}],318:[function(m,de,ne){"use strict";var o=m("./lib/loggers"),g=m("./lib/noop"),p=m("./lib/push_unique"),l=m("./lib/is_plain_object"),c=m("./lib/dom").addStyleRule,C=m("./lib/extend"),d=m("./plots/attributes"),h=m("./plots/layout_attributes"),u=C.extendFlat,_=C.extendDeepAll;function b(V){var E=V.name,I=V.categories,L=V.meta;if(ne.modules[E])o.log("Type "+E+" already registered");else{ne.subplotsRegistry[V.basePlotModule.name]||function(te){var ce=te.name;if(ne.subplotsRegistry[ce])o.log("Plot type "+ce+" already registered.");else for(var me in z(te),ne.subplotsRegistry[ce]=te,ne.componentsRegistry)S(me,te.name)}(V.basePlotModule);for(var B={},$=0;$<I.length;$++)B[I[$]]=!0,ne.allCategories[I[$]]=!0;for(var T in ne.modules[E]={_module:V,categories:B},L&&Object.keys(L).length&&(ne.modules[E].meta=L),ne.allTypes.push(E),ne.componentsRegistry)k(T,E);V.layoutAttributes&&u(ne.traceLayoutAttributes,V.layoutAttributes);var Y=V.basePlotModule,W=Y.name;if("mapbox"===W){var q=Y.constants.styleRules;for(var Q in q)c(".js-plotly-plot .plotly .mapboxgl-"+Q,q[Q])}"geo"!==W&&"mapbox"!==W||void 0===typeof window||void 0!==window.PlotlyGeoAssets||(window.PlotlyGeoAssets={topojson:{}})}}function M(V){if("string"!=typeof V.name)throw new Error("Component module *name* must be a string.");var E=V.name;for(var I in ne.componentsRegistry[E]=V,V.layoutAttributes&&(V.layoutAttributes._isLinkedToArray&&p(ne.layoutArrayContainers,E),z(V)),ne.modules)k(E,I);for(var L in ne.subplotsRegistry)S(E,L);for(var B in ne.transformsRegistry)D(E,B);V.schema&&V.schema.layout&&_(h,V.schema.layout)}function w(V){if("string"!=typeof V.name)throw new Error("Transform module *name* must be a string.");var E="Transform module "+V.name,I="function"==typeof V.transform,L="function"==typeof V.calcTransform;if(!I&&!L)throw new Error(E+" is missing a *transform* or *calcTransform* method.");for(var B in I&&L&&o.log([E+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),l(V.attributes)||o.log(E+" registered without an *attributes* object."),"function"!=typeof V.supplyDefaults&&o.log(E+" registered without a *supplyDefaults* method."),ne.transformsRegistry[V.name]=V,ne.componentsRegistry)D(B,V.name)}function N(V){var E=V.name,I=E.split("-")[0],L=V.dictionary,B=V.format,$=L&&Object.keys(L).length,T=B&&Object.keys(B).length,Y=ne.localeRegistry,W=Y[E];if(W||(Y[E]=W={}),I!==E){var q=Y[I];q||(Y[I]=q={}),$&&q.dictionary===W.dictionary&&(q.dictionary=L),T&&q.format===W.format&&(q.format=B)}$&&(W.dictionary=L),T&&(W.format=B)}function z(V){if(V.layoutAttributes){var E=V.layoutAttributes._arrayAttrRegexps;if(E)for(var I=0;I<E.length;I++)p(ne.layoutArrayRegexes,E[I])}}function k(V,E){var I=ne.componentsRegistry[V].schema;if(I&&I.traces){var L=I.traces[E];L&&_(ne.modules[E]._module.attributes,L)}}function D(V,E){var I=ne.componentsRegistry[V].schema;if(I&&I.transforms){var L=I.transforms[E];L&&_(ne.transformsRegistry[E].attributes,L)}}function S(V,E){var I=ne.componentsRegistry[V].schema;if(I&&I.subplots){var L=ne.subplotsRegistry[E],B=L.layoutAttributes,$="subplot"===L.attr?L.name:L.attr;Array.isArray($)&&($=$[0]);var T=I.subplots[$];B&&T&&_(B,T)}}function P(V){return"object"==typeof V&&(V=V.type),V}ne.modules={},ne.allCategories={},ne.allTypes=[],ne.subplotsRegistry={},ne.transformsRegistry={},ne.componentsRegistry={},ne.layoutArrayContainers=[],ne.layoutArrayRegexes=[],ne.traceLayoutAttributes={},ne.localeRegistry={},ne.apiMethodRegistry={},ne.collectableSubplotTypes=null,ne.register=function(V){if(ne.collectableSubplotTypes=null,!V)throw new Error("No argument passed to Plotly.register.");V&&!Array.isArray(V)&&(V=[V]);for(var E=0;E<V.length;E++){var I=V[E];if(!I)throw new Error("Invalid module was attempted to be registered!");switch(I.moduleType){case"trace":b(I);break;case"transform":w(I);break;case"component":M(I);break;case"locale":N(I);break;case"apiMethod":ne.apiMethodRegistry[I.name]=I.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},ne.getModule=function(V){var E=ne.modules[P(V)];return!!E&&E._module},ne.traceIs=function(V,E){if("various"===(V=P(V)))return!1;var I=ne.modules[V];return I||(V&&o.log("Unrecognized trace type "+V+"."),I=ne.modules[d.type.dflt]),!!I.categories[E]},ne.getTransformIndices=function(V,E){for(var I=[],L=V.transforms||[],B=0;B<L.length;B++)L[B].type===E&&I.push(B);return I},ne.hasTransform=function(V,E){for(var I=V.transforms||[],L=0;L<I.length;L++)if(I[L].type===E)return!0;return!1},ne.getComponentMethod=function(V,E){var I=ne.componentsRegistry[V];return I&&I[E]||g},ne.call=function(){var V=arguments[0],E=[].slice.call(arguments,1);return ne.apiMethodRegistry[V].apply(null,E)}},{"./lib/dom":224,"./lib/extend":226,"./lib/is_plain_object":233,"./lib/loggers":236,"./lib/noop":241,"./lib/push_unique":246,"./plots/attributes":275,"./plots/layout_attributes":314}],319:[function(m,de,ne){"use strict";var o=m("../registry"),g=m("../lib"),p=g.extendFlat,l=g.extendDeep;function c(C){var d;switch(C){case"themes__thumb":d={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":d={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:d={}}return d}de.exports=function(C,d){var h,b=C.layout,M=l([],C.data),w=l({},b,c(d.tileClass)),N=C._context||{};if(d.width&&(w.width=d.width),d.height&&(w.height=d.height),"thumbnail"===d.tileClass||"themes__thumb"===d.tileClass){w.annotations=[];var z=Object.keys(w);for(h=0;h<z.length;h++)["xaxis","yaxis","zaxis"].indexOf(z[h].slice(0,5))>-1&&(w[z[h]].title={text:""});for(h=0;h<M.length;h++){var k=M[h];k.showscale=!1,k.marker&&(k.marker.showscale=!1),o.traceIs(k,"pie-like")&&(k.textposition="none")}}if(Array.isArray(d.annotations))for(h=0;h<d.annotations.length;h++)w.annotations.push(d.annotations[h]);var D=Object.keys(w).filter(function(I){return I.match(/^scene\d*$/)});if(D.length){var S={};for("thumbnail"===d.tileClass&&(S={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),h=0;h<D.length;h++){var P=w[D[h]];P.xaxis||(P.xaxis={}),P.yaxis||(P.yaxis={}),P.zaxis||(P.zaxis={}),p(P.xaxis,S),p(P.yaxis,S),p(P.zaxis,S),P._scene=null}}var V=document.createElement("div");d.tileClass&&(V.className=d.tileClass);var E={gd:V,td:V,layout:w,data:M,config:{staticPlot:void 0===d.staticPlot||d.staticPlot,plotGlPixelRatio:void 0===d.plotGlPixelRatio?2:d.plotGlPixelRatio,displaylogo:d.displaylogo||!1,showLink:d.showLink||!1,showTips:d.showTips||!1,mapboxAccessToken:N.mapboxAccessToken}};return"transparent"!==d.setBackground&&(E.config.setBackground=d.setBackground||"opaque"),E.gd.defaultLayout=c(d.tileClass),E}},{"../lib":232,"../registry":318}],320:[function(m,de,ne){"use strict";var o=m("../lib"),g=m("../plot_api/to_image"),p=m("./filesaver"),l=m("./helpers");de.exports=function(c,C){var d;return o.isPlainObject(c)||(d=o.getGraphDiv(c)),(C=C||{}).format=C.format||"png",C.width=C.width||null,C.height=C.height||null,C.imageDataOnly=!0,new Promise(function(h,u){d&&d._snapshotInProgress&&u(new Error("Snapshotting already in progress.")),o.isIE()&&"svg"!==C.format&&u(new Error(l.MSG_IE_BAD_FORMAT)),d&&(d._snapshotInProgress=!0);var _=g(c,C),b=C.filename||c.fn||"newplot";b+="."+C.format.replace("-","."),_.then(function(M){return d&&(d._snapshotInProgress=!1),p(M,b,C.format)}).then(function(M){h(M)}).catch(function(M){d&&(d._snapshotInProgress=!1),u(M)})})}},{"../lib":232,"../plot_api/to_image":271,"./filesaver":321,"./helpers":322}],321:[function(m,de,ne){"use strict";var o=m("../lib"),g=m("./helpers");de.exports=function(p,l,c){var C=document.createElement("a"),d="download"in C;return new Promise(function(h,u){var _,b;return o.isIE()?(_=g.createBlob(p,"svg"),window.navigator.msSaveBlob(_,l),_=null,h(l)):d?(_=g.createBlob(p,c),b=g.createObjectURL(_),C.href=b,C.download=l,document.body.appendChild(C),C.click(),document.body.removeChild(C),g.revokeObjectURL(b),_=null,h(l)):o.isSafari()?(g.octetStream(("svg"===c?",":";base64,")+encodeURIComponent(p)),h(l)):void u(new Error("download error"))})}},{"../lib":232,"./helpers":322}],322:[function(m,de,ne){"use strict";var o=m("../registry");ne.getDelay=function(p){return p._has&&(p._has("gl3d")||p._has("gl2d")||p._has("mapbox"))?500:0},ne.getRedrawFunc=function(p){return function(){o.getComponentMethod("colorbar","draw")(p)}},ne.encodeSVG=function(p){return"data:image/svg+xml,"+encodeURIComponent(p)},ne.encodeJSON=function(p){return"data:application/json,"+encodeURIComponent(p)};var g=window.URL||window.webkitURL;ne.createObjectURL=function(p){return g.createObjectURL(p)},ne.revokeObjectURL=function(p){return g.revokeObjectURL(p)},ne.createBlob=function(p,l){if("svg"===l)return new window.Blob([p],{type:"image/svg+xml;charset=utf-8"});if("full-json"===l)return new window.Blob([p],{type:"application/json;charset=utf-8"});var c=function(C){for(var d=C.length,h=new ArrayBuffer(d),u=new Uint8Array(h),_=0;_<d;_++)u[_]=C.charCodeAt(_);return h}(window.atob(p));return new window.Blob([c],{type:"image/"+l})},ne.octetStream=function(p){document.location.href="data:application/octet-stream"+p},ne.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,ne.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},{"../registry":318}],323:[function(m,de,ne){"use strict";var o=m("./helpers"),g={getDelay:o.getDelay,getRedrawFunc:o.getRedrawFunc,clone:m("./cloneplot"),toSVG:m("./tosvg"),svgToImg:m("./svgtoimg"),toImage:m("./toimage"),downloadImage:m("./download")};de.exports=g},{"./cloneplot":319,"./download":320,"./helpers":322,"./svgtoimg":324,"./toimage":325,"./tosvg":326}],324:[function(m,de,ne){"use strict";var o=m("../lib"),g=m("events").EventEmitter,p=m("./helpers");de.exports=function(l){var c=l.emitter||new g,C=new Promise(function(d,h){var u=window.Image,_=l.svg,b=l.format||"png";if(o.isIE()&&"svg"!==b){var M=new Error(p.MSG_IE_BAD_FORMAT);return h(M),l.promise?C:c.emit("error",M)}var w,N,z=l.canvas,k=l.scale||1,P=k*(l.width||300),V=k*(l.height||150),E=z.getContext("2d",{willReadFrequently:!0}),I=new u;"svg"===b||o.isSafari()?N=p.encodeSVG(_):(w=p.createBlob(_,"svg"),N=p.createObjectURL(w)),z.width=P,z.height=V,I.onload=function(){var L;switch(w=null,p.revokeObjectURL(N),"svg"!==b&&E.drawImage(I,0,0,P,V),b){case"jpeg":L=z.toDataURL("image/jpeg");break;case"png":L=z.toDataURL("image/png");break;case"webp":L=z.toDataURL("image/webp");break;case"svg":L=N;break;default:var B="Image format is not jpeg, png, svg or webp.";if(h(new Error(B)),!l.promise)return c.emit("error",B)}d(L),l.promise||c.emit("success",L)},I.onerror=function(L){if(w=null,p.revokeObjectURL(N),h(L),!l.promise)return c.emit("error",L)},I.src=N});return l.promise?C:c}},{"../lib":232,"./helpers":322,events:12}],325:[function(m,de,ne){"use strict";var o=m("events").EventEmitter,g=m("../registry"),p=m("../lib"),l=m("./helpers"),c=m("./cloneplot"),C=m("./tosvg"),d=m("./svgtoimg");de.exports=function(h,u){var _=new o,b=c(h,{format:"png"}),M=b.gd;M.style.position="absolute",M.style.left="-5000px",document.body.appendChild(M);var w=l.getRedrawFunc(M);return g.call("_doPlot",M,b.data,b.layout,b.config).then(w).then(function(){var N=l.getDelay(M._fullLayout);setTimeout(function(){var z=C(M),k=document.createElement("canvas");k.id=p.randstr(),(_=d({format:u.format,width:M._fullLayout.width,height:M._fullLayout.height,canvas:k,emitter:_,svg:z})).clean=function(){M&&document.body.removeChild(M)}},N)}).catch(function(N){_.emit("error",N)}),_}},{"../lib":232,"../registry":318,"./cloneplot":319,"./helpers":322,"./svgtoimg":324,"./tosvg":326,events:12}],326:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("../lib"),p=m("../components/drawing"),l=m("../components/color"),c=m("../constants/xmlns_namespaces"),C=/"/g,d=new RegExp('("TOBESTRIPPED)|(TOBESTRIPPED")',"g");de.exports=function(h,u,_){var b,M=h._fullLayout,w=M._paper,N=M._toppaper,z=M.width,k=M.height;w.insert("rect",":first-child").call(p.setRect,0,0,z,k).call(l.fill,M.paper_bgcolor);var D=M._basePlotModules||[];for(b=0;b<D.length;b++){var S=D[b];S.toSVG&&S.toSVG(h)}if(N){var P=N.node().childNodes,V=Array.prototype.slice.call(P);for(b=0;b<V.length;b++){var E=V[b];E.childNodes.length&&w.node().appendChild(E)}}M._draggers&&M._draggers.remove(),w.node().style.background="",w.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var L=o.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){L.style({visibility:null,display:null});var B=this.style.fontFamily;B&&-1!==B.indexOf('"')&&L.style("font-family",B.replace(C,"TOBESTRIPPED"))}else L.remove()}),w.selectAll(".gradient_filled,.pattern_filled").each(function(){var L=o.select(this),B=this.style.fill;B&&-1!==B.indexOf("url(")&&L.style("fill",B.replace(C,"TOBESTRIPPED"));var $=this.style.stroke;$&&-1!==$.indexOf("url(")&&L.style("stroke",$.replace(C,"TOBESTRIPPED"))}),"pdf"!==u&&"eps"!==u||w.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),w.node().setAttributeNS(c.xmlns,"xmlns",c.svg),w.node().setAttributeNS(c.xmlns,"xmlns:xlink",c.xlink),"svg"===u&&_&&(w.attr("width",_*z),w.attr("height",_*k),w.attr("viewBox","0 0 "+z+" "+k));var L,B,$,I=(new window.XMLSerializer).serializeToString(w.node());return L=I,B=o.select("body").append("div").style({display:"none"}).html(""),$=L.replace(/(&[^;]*;)/gi,function(T){return"&lt;"===T?"&#60;":"&rt;"===T?"&#62;":-1!==T.indexOf("<")||-1!==T.indexOf(">")?"":B.html(T).text()}),B.remove(),I=(I=(I=$).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(d,"'"),g.isIE()&&(I=(I=(I=I.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),I}},{"../components/color":102,"../components/drawing":124,"../constants/xmlns_namespaces":213,"../lib":232,"@plotly/d3":11}],327:[function(m,de,ne){"use strict";var o=m("../../lib");de.exports=function(g,p){for(var l=0;l<g.length;l++)g[l].i=l;o.mergeArray(p.text,g,"tx"),o.mergeArray(p.hovertext,g,"htx");var c=p.marker;if(c){o.mergeArray(c.opacity,g,"mo",!0),o.mergeArray(c.color,g,"mc");var C=c.line;C&&(o.mergeArray(C.color,g,"mlc"),o.mergeArrayCastPositive(C.width,g,"mlw"))}}},{"../../lib":232}],328:[function(m,de,ne){"use strict";var o=m("../scatter/attributes"),g=m("../../plots/cartesian/axis_format_attributes").axisHoverFormat,p=m("../../plots/template_attributes").hovertemplateAttrs,l=m("../../plots/template_attributes").texttemplateAttrs,c=m("../../components/colorscale/attributes"),C=m("../../plots/font_attributes"),d=m("./constants"),h=m("../../components/drawing/attributes").pattern,u=m("../../lib/extend").extendFlat,_=C({editType:"calc",arrayOk:!0,colorEditType:"style"}),b=u({},o.marker.line.width,{dflt:0}),M=u({width:b,editType:"calc"},c("marker.line")),w=u({line:M,editType:"calc"},c("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:h});de.exports={x:o.x,x0:o.x0,dx:o.dx,y:o.y,y0:o.y0,dy:o.dy,xperiod:o.xperiod,yperiod:o.yperiod,xperiod0:o.xperiod0,yperiod0:o.yperiod0,xperiodalignment:o.xperiodalignment,yperiodalignment:o.yperiodalignment,xhoverformat:g("x"),yhoverformat:g("y"),text:o.text,texttemplate:l({editType:"plot"},{keys:d.eventDataKeys}),hovertext:o.hovertext,hovertemplate:p({},{keys:d.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:u({},_,{}),insidetextfont:u({},_,{}),outsidetextfont:u({},_,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:u({},o.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:w,offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},selected:{marker:{opacity:o.selected.marker.opacity,color:o.selected.marker.color,editType:"style"},textfont:o.selected.textfont,editType:"style"},unselected:{marker:{opacity:o.unselected.marker.opacity,color:o.unselected.marker.color,editType:"style"},textfont:o.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},{"../../components/colorscale/attributes":109,"../../components/drawing/attributes":123,"../../lib/extend":226,"../../plots/cartesian/axis_format_attributes":282,"../../plots/font_attributes":310,"../../plots/template_attributes":317,"../scatter/attributes":358,"./constants":330}],329:[function(m,de,ne){"use strict";var o=m("../../plots/cartesian/axes"),g=m("../../plots/cartesian/align_period"),p=m("../../components/colorscale/helpers").hasColorscale,l=m("../../components/colorscale/calc"),c=m("./arrays_to_calcdata"),C=m("../scatter/calc_selection");de.exports=function(d,h){var u,_,b,M,w,N,z=o.getFromId(d,h.xaxis||"x"),k=o.getFromId(d,h.yaxis||"y"),D={msUTC:!(!h.base&&0!==h.base)};"h"===h.orientation?(u=z.makeCalcdata(h,"x",D),b=k.makeCalcdata(h,"y"),M=g(h,k,"y",b),w=!!h.yperiodalignment,N="y"):(u=k.makeCalcdata(h,"y",D),b=z.makeCalcdata(h,"x"),M=g(h,z,"x",b),w=!!h.xperiodalignment,N="x"),_=M.vals;for(var S=Math.min(_.length,u.length),P=new Array(S),V=0;V<S;V++)P[V]={p:_[V],s:u[V]},w&&(P[V].orig_p=b[V],P[V][N+"End"]=M.ends[V],P[V][N+"Start"]=M.starts[V]),h.ids&&(P[V].id=String(h.ids[V]));return p(h,"marker")&&l(d,h,{vals:h.marker.color,containerStr:"marker",cLetter:"c"}),p(h,"marker.line")&&l(d,h,{vals:h.marker.line.color,containerStr:"marker.line",cLetter:"c"}),c(P,h),C(P,h),P}},{"../../components/colorscale/calc":110,"../../components/colorscale/helpers":113,"../../plots/cartesian/align_period":276,"../../plots/cartesian/axes":279,"../scatter/calc_selection":360,"./arrays_to_calcdata":327}],330:[function(m,de,ne){"use strict";de.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},{}],331:[function(m,de,ne){"use strict";var o=m("fast-isnumeric"),g=m("../../lib").isArrayOrTypedArray,p=m("../../constants/numerical").BADNUM,l=m("../../registry"),c=m("../../plots/cartesian/axes"),C=m("../../plots/cartesian/constraints").getAxisGroup,d=m("./sieve.js");function h(S,P,V,E,I){if(E.length){var L,B,$,T;switch(function(Y,W){var q,Q;for(q=0;q<W.length;q++){var te,ce=W[q],me=ce[0].trace,ie="funnel"===me.type?me._base:me.base,K="h"===me.orientation?me.xcalendar:me.ycalendar,le="category"===Y.type||"multicategory"===Y.type?function(){return null}:Y.d2c;if(g(ie)){for(Q=0;Q<Math.min(ie.length,ce.length);Q++)te=le(ie[Q],0,K),o(te)?(ce[Q].b=+te,ce[Q].hasB=1):ce[Q].b=0;for(;Q<ce.length;Q++)ce[Q].b=0}else{te=le(ie,0,K);var G=o(te);for(te=G?te:0,Q=0;Q<ce.length;Q++)ce[Q].b=te,G&&(ce[Q].hasB=1)}}}(V,E),I.mode){case"overlay":u(P,V,E,I);break;case"group":for(L=[],B=[],$=0;$<E.length;$++)void 0===(T=E[$])[0].trace.offset?B.push(T):L.push(T);B.length&&(Y=S,q=V,ce=new d(B,{posAxis:W=P,sepNegVal:!1,overlapNoMerge:!(te=I).norm}),function(me,ie,K,le){for(var G=me._fullLayout,re=K.minDiff,F=K.traces,O=F.length,X=K.positions.length!==K.distinctPositions.length,R=re*(1-le.gap),ae=C(G,ie._id)+F[0][0].trace.orientation,fe=G._alignmentOpts[ae]||{},ue=0;ue<O;ue++){var pe,xe,Me=F[ue],Ae=Me[0].trace,Fe=Object.keys((fe[Ae.alignmentgroup]||{}).offsetGroups||{}).length,Ue=(pe=Fe?R/Fe:X?R/O:R)*(1-(le.groupgap||0));xe=Fe?((2*Ae._offsetIndex+1-Fe)*pe-Ue)/2:X?((2*ue+1-O)*pe-Ue)/2:-Ue/2;var t1=Me[0].t;t1.barwidth=Ue,t1.poffset=xe,t1.bargroupwidth=R,t1.bardelta=re}K.binWidth=F[0][0].t.barwidth/100,b(K),M(ie,K),w(ie,K,X)}(Y,W,ce,te),function(me,ie){for(var K=me.traces,le=0;le<K.length;le++){var G=K[le];if(void 0===G[0].trace.base)for(var j=new d([G],{posAxis:ie,sepNegVal:!0,overlapNoMerge:!0}),oe=0;oe<G.length;oe++){var re=G[oe];if(re.p!==p){var F=j.put(re.p,re.b+re.s);F&&(re.b=F)}}}}(ce,W),te.norm?(z(ce),k(q,ce,te)):N(q,ce)),L.length&&u(P,V,L,I);break;case"stack":case"relative":for(L=[],B=[],$=0;$<E.length;$++)void 0===(T=E[$])[0].trace.base?B.push(T):L.push(T);B.length&&function(Y,W,q,Q,te){var ce=new d(Q,{posAxis:W,sepNegVal:"relative"===te.mode,overlapNoMerge:!(te.norm||"stack"===te.mode||"relative"===te.mode)});_(W,ce,te),function(G,j,oe){var re,F,O,X,R,ae,fe=D(G),ue=j.traces;for(X=0;X<ue.length;X++)if("funnel"===(F=(re=ue[X])[0].trace).type)for(R=0;R<re.length;R++)(ae=re[R]).s!==p&&j.put(ae.p,-.5*ae.s);for(X=0;X<ue.length;X++){O="funnel"===(F=(re=ue[X])[0].trace).type;var pe=[];for(R=0;R<re.length;R++)if((ae=re[R]).s!==p){var xe,Me=j.put(ae.p,xe=O?ae.s:ae.s+ae.b),Ae=Me+xe;ae.b=Me,ae[fe]=Ae,oe.norm||(pe.push(Ae),ae.hasB&&pe.push(Me))}oe.norm||(F._extremes[G._id]=c.findExtremes(G,pe,{tozero:!0,padded:!0}))}}(q,ce,te);for(var me=0;me<Q.length;me++)for(var ie=Q[me],K=0;K<ie.length;K++){var le=ie[K];le.s!==p&&le.b+le.s===ce.get(le.p,le.s)&&(le._outmost=!0)}te.norm&&k(q,ce,te)}(0,P,V,B,I),L.length&&u(P,V,L,I)}!function(Y,W){var q,Q,te,ce=D(W),me={},ie=1/0,K=-1/0;for(q=0;q<Y.length;q++)for(te=Y[q],Q=0;Q<te.length;Q++){var le=te[Q].p;o(le)&&(ie=Math.min(ie,le),K=Math.max(K,le))}var G=1e4/(K-ie),j=me.round=function(ae){return String(Math.round(G*(ae-ie)))};for(q=0;q<Y.length;q++){(te=Y[q])[0].t.extents=me;var oe=te[0].t.poffset,re=Array.isArray(oe);for(Q=0;Q<te.length;Q++){var F=te[Q],O=F[ce]-F.w/2;if(o(O)){var X=F[ce]+F.w/2,R=j(F.p);me[R]=me[R]?[Math.min(O,me[R][0]),Math.max(X,me[R][1])]:[O,X]}F.p0=F.p+(re?oe[Q]:oe),F.p1=F.p0+F.w,F.s0=F.b,F.s1=F.s0+F.s}}}(E,P)}var Y,W,q,te,ce}function u(S,P,V,E){for(var I=0;I<V.length;I++){var B=new d([V[I]],{posAxis:S,sepNegVal:!1,overlapNoMerge:!E.norm});_(S,B,E),E.norm?(z(B),k(P,B,E)):N(P,B)}}function _(S,P,V){for(var E=P.minDiff,I=P.traces,L=E*(1-V.gap),B=L*(1-(V.groupgap||0)),$=-B/2,T=0;T<I.length;T++){var Y=I[T][0].t;Y.barwidth=B,Y.poffset=$,Y.bargroupwidth=L,Y.bardelta=E}P.binWidth=I[0][0].t.barwidth/100,b(P),M(S,P),w(S,P)}function b(S){var P,V,E=S.traces;for(P=0;P<E.length;P++){var I,L=E[P],B=L[0],$=B.trace,T=B.t,Y=$._offset||$.offset,W=T.poffset;if(g(Y)){for(I=Array.prototype.slice.call(Y,0,L.length),V=0;V<I.length;V++)o(I[V])||(I[V]=W);for(V=I.length;V<L.length;V++)I.push(W);T.poffset=I}else void 0!==Y&&(T.poffset=Y);var q=$._width||$.width,Q=T.barwidth;if(g(q)){var te=Array.prototype.slice.call(q,0,L.length);for(V=0;V<te.length;V++)o(te[V])||(te[V]=Q);for(V=te.length;V<L.length;V++)te.push(Q);if(T.barwidth=te,void 0===Y){for(I=[],V=0;V<L.length;V++)I.push(W+(Q-te[V])/2);T.poffset=I}}else void 0!==q&&(T.barwidth=q,void 0===Y&&(T.poffset=W+(Q-q)/2))}}function M(S,P){for(var V=P.traces,E=D(S),I=0;I<V.length;I++)for(var L=V[I],B=L[0].t,$=B.poffset,T=Array.isArray($),Y=B.barwidth,W=Array.isArray(Y),q=0;q<L.length;q++){var Q=L[q],te=Q.w=W?Y[q]:Y;Q[E]=Q.p+(T?$[q]:$)+te/2}}function w(S,P,V){var E=P.traces,I=P.minDiff/2;c.minDtick(S,P.minDiff,P.distinctPositions[0],V);for(var L=0;L<E.length;L++){var B,$,T,Y,W=E[L],q=W[0],Q=q.trace,te=[];for(Y=0;Y<W.length;Y++)$=(B=W[Y]).p-I,te.push($,T=B.p+I);if(Q.width||Q.offset){var ce=q.t,me=ce.poffset,ie=ce.barwidth,K=Array.isArray(me),le=Array.isArray(ie);for(Y=0;Y<W.length;Y++)T=($=(B=W[Y]).p+(K?me[Y]:me))+(le?ie[Y]:ie),te.push($,T)}Q._extremes[S._id]=c.findExtremes(S,te,{padded:!1})}}function N(S,P){for(var V=P.traces,E=D(S),I=0;I<V.length;I++){for(var L=V[I],B=L[0].trace,$=[],T=!1,Y=0;Y<L.length;Y++){var W=L[Y],q=W.b,Q=q+W.s;W[E]=Q,$.push(Q),W.hasB&&$.push(q),W.hasB&&W.b||(T=!0)}B._extremes[S._id]=c.findExtremes(S,$,{tozero:T,padded:!0})}}function z(S){for(var P=S.traces,V=0;V<P.length;V++)for(var E=P[V],I=0;I<E.length;I++){var L=E[I];L.s!==p&&S.put(L.p,L.b+L.s)}}function k(S,P,V){var E=P.traces,I=D(S),L="fraction"===V.norm?1:100,B=L/1e9,$=S.l2c(S.c2l(0)),T="stack"===V.mode?L:$;function Y(oe){return o(S.c2l(oe))&&(oe<$-B||oe>T+B||!o($))}for(var W=0;W<E.length;W++){for(var q=E[W],Q=q[0].trace,te=[],ce=!1,me=!1,ie=0;ie<q.length;ie++){var K=q[ie];if(K.s!==p){var le=Math.abs(L/P.get(K.p,K.s));K.b*=le,K.s*=le;var G=K.b,j=G+K.s;K[I]=j,te.push(j),me=me||Y(j),K.hasB&&(te.push(G),me=me||Y(G)),K.hasB&&K.b||(ce=!0)}}Q._extremes[S._id]=c.findExtremes(S,te,{tozero:ce,padded:me})}}function D(S){return S._id.charAt(0)}de.exports={crossTraceCalc:function(S,P){for(var V=P.xaxis,E=P.yaxis,I=S._fullLayout,L=S._fullData,B=S.calcdata,$=[],T=[],Y=0;Y<L.length;Y++){var W=L[Y];if(!0===W.visible&&l.traceIs(W,"bar")&&W.xaxis===V._id&&W.yaxis===E._id&&("h"===W.orientation?$.push(B[Y]):T.push(B[Y]),W._computePh))for(var q=S.calcdata[Y],Q=0;Q<q.length;Q++)"function"==typeof q[Q].ph0&&(q[Q].ph0=q[Q].ph0()),"function"==typeof q[Q].ph1&&(q[Q].ph1=q[Q].ph1())}var te={xCat:"category"===V.type||"multicategory"===V.type,yCat:"category"===E.type||"multicategory"===E.type,mode:I.barmode,norm:I.barnorm,gap:I.bargap,groupgap:I.bargroupgap};h(S,V,E,T,te),h(S,E,V,$,te)},setGroupPositions:h}},{"../../constants/numerical":212,"../../lib":232,"../../plots/cartesian/axes":279,"../../plots/cartesian/constraints":287,"../../registry":318,"./sieve.js":341,"fast-isnumeric":17}],332:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("../../components/color"),p=m("../../registry"),l=m("../scatter/xy_defaults"),c=m("../scatter/period_defaults"),C=m("./style_defaults"),d=m("../../plots/cartesian/constraints").getAxisGroup,h=m("./attributes"),u=o.coerceFont;function _(M,w,N,z){var k=w.orientation,S=d(N,w[{v:"x",h:"y"}[k]+"axis"])+k,P=N._alignmentOpts||{},V=z("alignmentgroup"),E=P[S];E||(E=P[S]={});var I=E[V];I?I.traces.push(w):I=E[V]={traces:[w],alignmentIndex:Object.keys(E).length,offsetGroups:{}};var L=z("offsetgroup"),B=I.offsetGroups,$=B[L];L&&($||($=B[L]={offsetIndex:Object.keys(B).length}),w._offsetIndex=$.offsetIndex)}function b(M,w,N,z,k,D){var S=!1!==(D=D||{}).moduleHasSelected,P=!1!==D.moduleHasUnselected,V=!1!==D.moduleHasConstrain,E=!1!==D.moduleHasCliponaxis,I=!1!==D.moduleHasTextangle,L=!1!==D.moduleHasInsideanchor,B=!!D.hasPathbar,$=Array.isArray(k)||"auto"===k,T=$||"inside"===k,Y=$||"outside"===k;if(T||Y){var W=u(z,"textfont",N.font),q=o.extendFlat({},W),Q=!(M.textfont&&M.textfont.color);if(Q&&delete q.color,u(z,"insidetextfont",q),B){var te=o.extendFlat({},W);Q&&delete te.color,u(z,"pathbar.textfont",te)}Y&&u(z,"outsidetextfont",W),S&&z("selected.textfont.color"),P&&z("unselected.textfont.color"),V&&z("constraintext"),E&&z("cliponaxis"),I&&z("textangle"),z("texttemplate")}T&&L&&z("insidetextanchor")}de.exports={supplyDefaults:function(M,w,N,z){function k(V,E){return o.coerce(M,w,h,V,E)}if(l(M,w,z,k)){c(M,w,z,k),k("xhoverformat"),k("yhoverformat"),k("orientation",w.x&&!w.y?"h":"v"),k("base"),k("offset"),k("width"),k("text"),k("hovertext"),k("hovertemplate");var D=k("textposition");b(M,0,z,k,D,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),C(M,w,k,N,z);var S=(w.marker.line||{}).color,P=p.getComponentMethod("errorbars","supplyDefaults");P(M,w,S||g.defaultLine,{axis:"y"}),P(M,w,S||g.defaultLine,{axis:"x",inherit:"y"}),o.coerceSelectionMarkerOpacity(w,k)}else w.visible=!1},crossTraceDefaults:function(M,w){var N;function z(D){return o.coerce(N._input,N,h,D)}if("group"===w.barmode)for(var k=0;k<M.length;k++)"bar"===(N=M[k]).type&&_(0,N,w,z)},handleGroupingDefaults:_,handleText:b}},{"../../components/color":102,"../../lib":232,"../../plots/cartesian/constraints":287,"../../registry":318,"../scatter/period_defaults":378,"../scatter/xy_defaults":385,"./attributes":328,"./style_defaults":343}],333:[function(m,de,ne){"use strict";de.exports=function(o,g,p){return o.x="xVal"in g?g.xVal:g.x,o.y="yVal"in g?g.yVal:g.y,g.xa&&(o.xaxis=g.xa),g.ya&&(o.yaxis=g.ya),"h"===p.orientation?(o.label=o.y,o.value=o.x):(o.label=o.x,o.value=o.y),o}},{}],334:[function(m,de,ne){"use strict";var o=m("fast-isnumeric"),g=m("tinycolor2"),p=m("../../lib").isArrayOrTypedArray;ne.coerceString=function(l,c,C){if("string"==typeof c){if(c||!l.noBlank)return c}else if(("number"==typeof c||!0===c)&&!l.strict)return String(c);return void 0!==C?C:l.dflt},ne.coerceNumber=function(l,c,C){if(o(c)){c=+c;var d=l.min,h=l.max;if(!(void 0!==d&&c<d||void 0!==h&&c>h))return c}return void 0!==C?C:l.dflt},ne.coerceColor=function(l,c,C){return g(c).isValid()?c:void 0!==C?C:l.dflt},ne.coerceEnumerated=function(l,c,C){return l.coerceNumber&&(c=+c),-1!==l.values.indexOf(c)?c:void 0!==C?C:l.dflt},ne.getValue=function(l,c){var C;return Array.isArray(l)?c<l.length&&(C=l[c]):C=l,C},ne.getLineWidth=function(l,c){return 0<c.mlw?c.mlw:p(l.marker.line.width)?0:l.marker.line.width}},{"../../lib":232,"fast-isnumeric":17,tinycolor2:67}],335:[function(m,de,ne){"use strict";var o=m("../../components/fx"),g=m("../../registry"),p=m("../../components/color"),l=m("../../lib").fillText,c=m("./helpers").getLineWidth,C=m("../../plots/cartesian/axes").hoverLabelText,d=m("../../constants/numerical").BADNUM;function h(_,b,M,w,N){var z,k,D,S,P,V,E,I=_.cd,L=I[0].trace,B=I[0].t,$="closest"===w,T="waterfall"===L.type,Y=_.maxHoverDistance,W=_.maxSpikeDistance;"h"===L.orientation?(z=M,k=b,D="y",S="x",P=re,V=j):(z=b,k=M,D="x",S="y",V=re,P=j);var q=L[D+"period"],Q=$||q;function te(pe){return me(pe,-1)}function ce(pe){return me(pe,1)}function me(pe,xe){return pe[D]+xe*pe.w/2}function ie(pe){return pe[D+"End"]-pe[D+"Start"]}var K=$?te:q?function(pe){return pe.p-ie(pe)/2}:function(pe){return Math.min(te(pe),pe.p-B.bardelta/2)},le=$?ce:q?function(pe){return pe.p+ie(pe)/2}:function(pe){return Math.max(ce(pe),pe.p+B.bardelta/2)};function G(pe,xe,Me){return N.finiteRange&&(Me=0),o.inbox(pe-z,xe-z,Me+Math.min(1,Math.abs(xe-pe)/E)-1)}function j(pe){return G(K(pe),le(pe),Y)}function oe(pe){var xe=pe[S];if(T){var Me=Math.abs(pe.rawS)||0;k>0?xe+=Me:k<0&&(xe-=Me)}return xe}function re(pe){var xe=k,Me=pe.b,Ae=oe(pe);return o.inbox(Me-xe,Ae-xe,Y+(Ae-xe)/(Ae-Me)-1)}var F=_[D+"a"],O=_[S+"a"];E=Math.abs(F.r2c(F.range[1])-F.r2c(F.range[0]));var pe,xe,Me,Ae,X=o.getDistanceFunction(w,P,V,function(pe){return(P(pe)+V(pe))/2});if(o.getClosest(I,X,_),!1!==_.index&&I[_.index].p!==d){Q||(K=function(pe){return Math.min(te(pe),pe.p-B.bargroupwidth/2)},le=function(pe){return Math.max(ce(pe),pe.p+B.bargroupwidth/2)});var R=I[_.index],ae=L.base?R.b+R.s:R.s;_[S+"0"]=_[S+"1"]=O.c2p(R[S],!0),_[S+"LabelVal"]=ae;var fe=B.extents[B.extents.round(R.p)];return _[D+"0"]=F.c2p($?K(R):fe[0],!0),_[D+"1"]=F.c2p($?le(R):fe[1],!0),_[D+"LabelVal"]=void 0!==R.orig_p?R.orig_p:R.p,_.labelLabel=C(F,_[D+"LabelVal"],L[D+"hoverformat"]),_.valueLabel=C(O,_[S+"LabelVal"],L[S+"hoverformat"]),_.baseLabel=C(O,R.b,L[S+"hoverformat"]),_.spikeDistance=(xe=k,Me=(pe=R).b,Ae=oe(pe),(o.inbox(Me-xe,Ae-xe,W+(Ae-xe)/(Ae-Me)-1)+function(pe){return G(te(pe),ce(pe),W)}(R))/2),_[D+"Spike"]=F.c2p(R.p,!0),l(R,L,_),_.hovertemplate=L.hovertemplate,_}}function u(_,b){var M=b.mcc||_.marker.color,w=b.mlcc||_.marker.line.color,N=c(_,b);return p.opacity(M)?M:p.opacity(w)&&N?w:void 0}de.exports={hoverPoints:function(_,b,M,w,N){var z=h(_,b,M,w,N);if(z){var k=z.cd,D=k[0].trace,S=k[z.index];return z.color=u(D,S),g.getComponentMethod("errorbars","hoverInfo")(S,D,z),[z]}},hoverOnBars:h,getTraceColor:u}},{"../../components/color":102,"../../components/fx":142,"../../constants/numerical":212,"../../lib":232,"../../plots/cartesian/axes":279,"../../registry":318,"./helpers":334}],336:[function(m,de,ne){"use strict";de.exports={attributes:m("./attributes"),layoutAttributes:m("./layout_attributes"),supplyDefaults:m("./defaults").supplyDefaults,crossTraceDefaults:m("./defaults").crossTraceDefaults,supplyLayoutDefaults:m("./layout_defaults"),calc:m("./calc"),crossTraceCalc:m("./cross_trace_calc").crossTraceCalc,colorbar:m("../scatter/marker_colorbar"),arraysToCalcdata:m("./arrays_to_calcdata"),plot:m("./plot").plot,style:m("./style").style,styleOnSelect:m("./style").styleOnSelect,hoverPoints:m("./hover").hoverPoints,eventData:m("./event_data"),selectPoints:m("./select"),moduleType:"trace",name:"bar",basePlotModule:m("../../plots/cartesian"),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},{"../../plots/cartesian":293,"../scatter/marker_colorbar":376,"./arrays_to_calcdata":327,"./attributes":328,"./calc":329,"./cross_trace_calc":331,"./defaults":332,"./event_data":333,"./hover":335,"./layout_attributes":337,"./layout_defaults":338,"./plot":339,"./select":340,"./style":342}],337:[function(m,de,ne){"use strict";de.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},{}],338:[function(m,de,ne){"use strict";var o=m("../../registry"),g=m("../../plots/cartesian/axes"),p=m("../../lib"),l=m("./layout_attributes");de.exports=function(c,C,d){function h(D,S){return p.coerce(c,C,l,D,S)}for(var u=!1,_=!1,b=!1,M={},w=h("barmode"),N=0;N<d.length;N++){var z=d[N];if(o.traceIs(z,"bar")&&z.visible){if(u=!0,"group"===w){var k=z.xaxis+z.yaxis;M[k]&&(b=!0),M[k]=!0}z.visible&&"histogram"===z.type&&"category"!==g.getFromId({_fullLayout:C},z["v"===z.orientation?"xaxis":"yaxis"]).type&&(_=!0)}}u?("overlay"!==w&&h("barnorm"),h("bargap",_&&!b?0:.2),h("bargroupgap")):delete C.barmode}},{"../../lib":232,"../../plots/cartesian/axes":279,"../../registry":318,"./layout_attributes":337}],339:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("fast-isnumeric"),p=m("../../lib"),l=m("../../lib/svg_text_utils"),c=m("../../components/color"),C=m("../../components/drawing"),d=m("../../registry"),h=m("../../plots/cartesian/axes").tickText,u=m("./uniform_text"),_=u.recordMinTextSize,b=u.clearMinTextSize,M=m("./style"),w=m("./helpers"),N=m("./constants"),z=m("./attributes"),k=z.text,D=z.textposition,S=m("../../components/fx/helpers").appendArrayPointValue,P=N.TEXTPAD;function V(W){return W.id}function I(W,q){return W<q?1:-1}function L(W,q,Q,te){var ce;return!q.uniformtext.mode&&B(Q)?(te&&(ce=te()),W.transition().duration(Q.duration).ease(Q.easing).each("end",function(){ce&&ce()}).each("interrupt",function(){ce&&ce()})):W}function B(W){return W&&W.duration>0}function $(W){return"auto"===W?0:W}function T(W,q){var Q=Math.PI/180*q,te=Math.abs(Math.sin(Q)),ce=Math.abs(Math.cos(Q));return{x:W.width*ce+W.height*te,y:W.width*te+W.height*ce}}function Y(W,q,Q,te,ce,me){var ie=!!me.isHorizontal,K=!!me.constrained,le=me.angle||0,G=me.anchor||"end",j="end"===G,oe="start"===G,re=((me.leftToRight||0)+1)/2,F=1-re,O=ce.width,X=ce.height,R=Math.abs(q-W),ae=Math.abs(te-Q),fe=R>2*P&&ae>2*P?P:0;R-=2*fe,ae-=2*fe;var ue=$(le);"auto"!==le||O<=R&&X<=ae||!(O>R||X>ae)||(O>ae||X>R)&&O<X==R<ae||(ue+=90);var pe=T(ce,ue),xe=1;K&&(xe=Math.min(1,R/pe.x,ae/pe.y));var Me=ce.left*F+ce.right*re,Ae=(ce.top+ce.bottom)/2,ze=(W+P)*F+(q-P)*re,Fe=(Q+te)/2,Ue=0,t1=0;if(oe||j){var Xe=(ie?pe.x:pe.y)/2,Ge=ie?I(W,q):I(Q,te);ie?oe?(ze=W+Ge*fe,Ue=-Ge*Xe):(ze=q-Ge*fe,Ue=Ge*Xe):oe?(Fe=Q+Ge*fe,t1=-Ge*Xe):(Fe=te-Ge*fe,t1=Ge*Xe)}return{textX:Me,textY:Ae,targetX:ze,targetY:Fe,anchorX:Ue,anchorY:t1,scale:xe,rotate:ue}}de.exports={plot:function(W,q,Q,te,ce,me){var ie=q.xaxis,K=q.yaxis,le=W._fullLayout;ce||(ce={mode:le.barmode,norm:le.barmode,gap:le.bargap,groupgap:le.bargroupgap},b("bar",le));var G=p.makeTraceGroups(te,Q,"trace bars").each(function(j){var oe=o.select(this),re=j[0].trace,X="bar"===re.type||"funnel"===re.type,R=0;"waterfall"===re.type&&re.connector.visible&&"between"===re.connector.mode&&(R=re.connector.line.width/2);var ae="h"===re.orientation,fe=B(ce),ue=p.ensureSingle(oe,"g","points"),pe=function E(W){if(W.ids)return V}(re),xe=ue.selectAll("g.point").data(p.identity,pe);xe.enter().append("g").classed("point",!0),xe.exit().remove(),xe.each(function(Ae,ze){var Fe,Ue,Ye,r1,f1,Je,g1,b1,_1,I1,t1=o.select(this),Xe=(r1=ie,f1=K,b1=[],I1=(Je=ae)?f1:r1,(g1=[])[0]=(_1=Je?r1:f1).c2p((Ye=Ae).s0,!0),b1[0]=I1.c2p(Ye.p0,!0),g1[1]=_1.c2p(Ye.s1,!0),b1[1]=I1.c2p(Ye.p1,!0),Je?[g1,b1]:[b1,g1]),Ge=Xe[0][0],we=Xe[0][1],ve=Xe[1][0],De=Xe[1][1],Ve=0==(ae?we-Ge:De-ve);if(Ve&&X&&w.getLineWidth(re,Ae)&&(Ve=!1),Ve||(Ve=!(g(Ge)&&g(we)&&g(ve)&&g(De))),Ae.isBlank=Ve,Ve&&(ae?we=Ge:De=ve),R&&!Ve&&(ae?(Ge-=I(Ge,we)*R,we+=I(Ge,we)*R):(ve-=I(ve,De)*R,De+=I(ve,De)*R)),"waterfall"===re.type){if(!Ve){var qe=re[Ae.dir].marker;Fe=qe.line.width,Ue=qe.color}}else Fe=w.getLineWidth(re,Ae),Ue=Ae.mc||re.marker.color;function Ie(Ye){var r1=o.round(Fe/2%1,2);return 0===ce.gap&&0===ce.groupgap?o.round(Math.round(Ye)-r1,2):Ye}if(!W._context.staticPlot){var Re=c.opacity(Ue)<1||Fe>.01?Ie:function(Ye,r1,f1){return f1&&Ye===r1?Ye:Math.abs(Ye-r1)>=2?Ie(Ye):Ye>r1?Math.ceil(Ye):Math.floor(Ye)};Ge=Re(Ge,we,ae),we=Re(we,Ge,ae),ve=Re(ve,De,!ae),De=Re(De,ve,!ae)}var Qe=L(p.ensureSingle(t1,"path"),le,ce,me);if(Qe.style("vector-effect","non-scaling-stroke").attr("d",isNaN((we-Ge)*(De-ve))||Ve&&W._context.staticPlot?"M0,0Z":"M"+Ge+","+ve+"V"+De+"H"+we+"V"+ve+"Z").call(C.setClipUrl,q.layerClipId,W),!le.uniformtext.mode&&fe){var n1=C.makePointStyleFns(re);C.singlePointStyle(Ae,Qe,re,n1,W)}(function(Ye,r1,f1,Je,g1,b1,_1,I1,M1,Be,je){var C1,O1=r1.xaxis,Q1=r1.yaxis,st=Ye._fullLayout;function $1(yt,wt,Ft){return p.ensureSingle(yt,"text").text(wt).attr({class:"bartext bartext-"+C1,"text-anchor":"middle","data-notex":1}).call(C.font,Ft).call(l.convertToTspans,Ye)}var wt,Ft,Ot,Dt,G1,K1,Z1=Je[0].trace,N1="h"===Z1.orientation,ge=(Ft=g1,Ot=O1,Dt=Q1,G1=(K1=(wt=Je)[0].trace).texttemplate?function(tt,dt,ot,gt,Gt){var Qt=dt[0].trace,Vt=p.castOption(Qt,ot,"texttemplate");if(!Vt)return"";var kt,f2,p2,Bt,Kt="histogram"===Qt.type,Pt="waterfall"===Qt.type,m2="funnel"===Qt.type,zt="h"===Qt.orientation;function y2(mt){return h(Bt,Bt.c2l(mt),!0).text}zt?(kt="y",f2=Gt,p2="x",Bt=gt):(kt="x",f2=gt,p2="y",Bt=Gt);var d2=dt[ot],Et={};Et.label=d2.p,Et.labelLabel=Et[kt+"Label"]=h(f2,f2.c2l(d2.p),!0).text;var _2=p.castOption(Qt,d2.i,"text");(0===_2||_2)&&(Et.text=_2),Et.value=d2.s,Et.valueLabel=Et[p2+"Label"]=y2(d2.s);var e2={};S(e2,Qt,d2.i),(Kt||void 0===e2.x)&&(e2.x=zt?Et.value:Et.label),(Kt||void 0===e2.y)&&(e2.y=zt?Et.label:Et.value),(Kt||void 0===e2.xLabel)&&(e2.xLabel=zt?Et.valueLabel:Et.labelLabel),(Kt||void 0===e2.yLabel)&&(e2.yLabel=zt?Et.labelLabel:Et.valueLabel),Pt&&(Et.delta=+d2.rawS||d2.s,Et.deltaLabel=y2(Et.delta),Et.final=d2.v,Et.finalLabel=y2(Et.final),Et.initial=Et.final-Et.delta,Et.initialLabel=y2(Et.initial)),m2&&(Et.value=d2.s,Et.valueLabel=y2(Et.value),Et.percentInitial=d2.begR,Et.percentInitialLabel=p.formatPercent(d2.begR),Et.percentPrevious=d2.difR,Et.percentPreviousLabel=p.formatPercent(d2.difR),Et.percentTotal=d2.sumR,Et.percenTotalLabel=p.formatPercent(d2.sumR));var Rt=p.castOption(Qt,d2.i,"customdata");return Rt&&(Et.customdata=Rt),p.texttemplateString(Vt,Et,tt._d3locale,e2,Et,Qt._meta||{})}(st,wt,Ft,Ot,Dt):K1.textinfo?function(tt,dt,ot,gt){var Gt=tt[0].trace,Qt="h"===Gt.orientation,Vt="waterfall"===Gt.type,kt="funnel"===Gt.type;function f2(Rt){return h(Qt?ot:gt,+Rt,!0).text}var p2,Kt=tt[dt],Pt=Gt.textinfo.split("+"),m2=[],zt=function(Rt){return-1!==Pt.indexOf(Rt)};if(zt("label")&&m2.push(h(Qt?gt:ot,tt[dt].p,!0).text),zt("text")&&(0===(p2=p.castOption(Gt,Kt.i,"text"))||p2)&&m2.push(p2),Vt){var d2=+Kt.rawS||Kt.s,Et=Kt.v,u2=Et-d2;zt("initial")&&m2.push(f2(u2)),zt("delta")&&m2.push(f2(d2)),zt("final")&&m2.push(f2(Et))}if(kt){zt("value")&&m2.push(f2(Kt.s));var _2=0;zt("percent initial")&&_2++,zt("percent previous")&&_2++,zt("percent total")&&_2++;var e2=_2>1;zt("percent initial")&&(p2=p.formatPercent(Kt.begR),e2&&(p2+=" of initial"),m2.push(p2)),zt("percent previous")&&(p2=p.formatPercent(Kt.difR),e2&&(p2+=" of previous"),m2.push(p2)),zt("percent total")&&(p2=p.formatPercent(Kt.sumR),e2&&(p2+=" of total"),m2.push(p2))}return m2.join("<br>")}(wt,Ft,Ot,Dt):w.getValue(K1.text,Ft),w.coerceString(k,G1));C1=function(yt,wt){var Ft=w.getValue(yt.textposition,wt);return w.coerceEnumerated(D,Ft)}(Z1,g1);var We=Je[g1],e1=!("stack"===Be.mode||"relative"===Be.mode)||We._outmost;if(ge&&"none"!==C1&&(!We.isBlank&&b1!==_1&&I1!==M1||"auto"!==C1&&"inside"!==C1)){var d1=st.font,a1=M.getBarColor(Je[g1],Z1),l1=M.getInsideTextFont(Z1,g1,d1,a1),c1=M.getOutsideTextFont(Z1,g1,d1),w1=f1.datum();N1?"log"===O1.type&&w1.s0<=0&&(b1=O1.range[0]<O1.range[1]?0:O1._length):"log"===Q1.type&&w1.s0<=0&&(I1=Q1.range[0]<Q1.range[1]?Q1._length:0);var T1,B1,rt,H1,Y1,ut=Math.abs(_1-b1)-2*P,k1=Math.abs(M1-I1)-2*P;if("outside"===C1&&(e1||We.hasB||(C1="inside")),"auto"===C1&&(e1?(C1="inside",T1=$1(f1,ge,Y1=p.ensureUniformFontSize(Ye,l1)),H1=(B1=C.bBox(T1.node())).height,(rt=B1.width)>0&&H1>0&&(rt<=ut&&H1<=k1||rt<=k1&&H1<=ut||(N1?ut>=rt*(k1/H1):k1>=H1*(ut/rt)))?C1="inside":(C1="outside",T1.remove(),T1=null)):C1="inside"),!T1){var j1=(T1=$1(f1,ge,Y1=p.ensureUniformFontSize(Ye,"outside"===C1?c1:l1))).attr("transform");if(T1.attr("transform",""),rt=(B1=C.bBox(T1.node())).width,H1=B1.height,T1.attr("transform",j1),rt<=0||H1<=0)return void T1.remove()}var et,xt=Z1.textangle;et="outside"===C1?function(yt,wt,Ft,Ot,Dt,G1){var K1,tt=!!G1.isHorizontal,dt=!!G1.constrained,ot=G1.angle||0,gt=Dt.width,Gt=Dt.height,Qt=Math.abs(wt-yt),Vt=Math.abs(Ot-Ft);K1=tt?Vt>2*P?P:0:Qt>2*P?P:0;var kt=1;dt&&(kt=tt?Math.min(1,Vt/Gt):Math.min(1,Qt/gt));var f2=$(ot),p2=T(Dt,f2),Bt=(tt?p2.x:p2.y)/2,Kt=(Dt.left+Dt.right)/2,Pt=(Dt.top+Dt.bottom)/2,m2=(yt+wt)/2,zt=(Ft+Ot)/2,y2=0,d2=0,Et=tt?I(wt,yt):I(Ft,Ot);return tt?(m2=wt-Et*K1,y2=Et*Bt):(zt=Ot+Et*K1,d2=-Et*Bt),{textX:Kt,textY:Pt,targetX:m2,targetY:zt,anchorX:y2,anchorY:d2,scale:kt,rotate:f2}}(b1,_1,I1,M1,B1,{isHorizontal:N1,constrained:"both"===Z1.constraintext||"outside"===Z1.constraintext,angle:xt}):Y(b1,_1,I1,M1,B1,{isHorizontal:N1,constrained:"both"===Z1.constraintext||"inside"===Z1.constraintext,angle:xt,anchor:Z1.insidetextanchor}),et.fontSize=Y1.size,_("histogram"===Z1.type?"bar":Z1.type,et,st),We.transform=et,L(T1,st,Be,je).attr("transform",p.getTextTransform(et))}else f1.select("text").remove()})(W,q,t1,j,ze,Ge,we,ve,De,ce,me),q.layerClipId&&C.hideOutsideRangePoint(Ae,t1.select("text"),ie,K,re.xcalendar,re.ycalendar)}),C.setClipUrl(oe,!1===re.cliponaxis?null:q.layerClipId,W)});d.getComponentMethod("errorbars","plot")(W,G,q,ce)},toMoveInsideBar:Y}},{"../../components/color":102,"../../components/drawing":124,"../../components/fx/helpers":138,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/cartesian/axes":279,"../../registry":318,"./attributes":328,"./constants":330,"./helpers":334,"./style":342,"./uniform_text":344,"@plotly/d3":11,"fast-isnumeric":17}],340:[function(m,de,ne){"use strict";function o(g,p,l,c,C){var d=p.c2p(c?g.s0:g.p0,!0),h=p.c2p(c?g.s1:g.p1,!0),u=l.c2p(c?g.p0:g.s0,!0),_=l.c2p(c?g.p1:g.s1,!0);return C?[(d+h)/2,(u+_)/2]:c?[h,(u+_)/2]:[(d+h)/2,_]}de.exports=function(g,p){var l,c=g.cd,C=g.xaxis,d=g.yaxis,h=c[0].trace,u="funnel"===h.type,_="h"===h.orientation,b=[];if(!1===p)for(l=0;l<c.length;l++)c[l].selected=0;else for(l=0;l<c.length;l++){var M=c[l],w="ct"in M?M.ct:o(M,C,d,_,u);p.contains(w,!1,l,g)?(b.push({pointNumber:l,x:C.c2d(M.x),y:d.c2d(M.y)}),M.selected=1):M.selected=0}return b}},{}],341:[function(m,de,ne){"use strict";de.exports=p;var o=m("../../lib").distinctVals,g=m("../../constants/numerical").BADNUM;function p(l,c){this.traces=l,this.sepNegVal=c.sepNegVal,this.overlapNoMerge=c.overlapNoMerge;for(var C=1/0,d=[],h=0;h<l.length;h++){for(var u=l[h],_=0;_<u.length;_++){var b=u[_];b.p!==g&&d.push(b.p)}u[0]&&u[0].width1&&(C=Math.min(u[0].width1,C))}this.positions=d;var M=o(d);this.distinctPositions=M.vals,this.minDiff=1===M.vals.length&&C!==1/0?C:Math.min(M.minDiff,C);var w=(c.posAxis||{}).type;"category"!==w&&"multicategory"!==w||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}p.prototype.put=function(l,c){var C=this.getLabel(l,c),d=this.bins[C]||0;return this.bins[C]=d+c,d},p.prototype.get=function(l,c){var C=this.getLabel(l,c);return this.bins[C]||0},p.prototype.getLabel=function(l,c){return(c<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?l:Math.round(l/this.binWidth))}},{"../../constants/numerical":212,"../../lib":232}],342:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("../../components/color"),p=m("../../components/drawing"),l=m("../../lib"),c=m("../../registry"),C=m("./uniform_text").resizeText,d=m("./attributes"),h=d.textfont,u=d.insidetextfont,_=d.outsidetextfont,b=m("./helpers");function M(V,E,I){p.pointStyle(V.selectAll("path"),E,I),w(V,E,I)}function w(V,E,I){V.selectAll("text").each(function(L){var B=o.select(this),$=l.ensureUniformFontSize(I,N(B,L,E,I));p.font(B,$)})}function N(V,E,I,L){var B=L._fullLayout.font,$=I.textfont;if(V.classed("bartext-inside")){var T=P(E,I);$=k(I,E.i,B,T)}else V.classed("bartext-outside")&&($=D(I,E.i,B));return $}function z(V,E,I){return S(h,V.textfont,E,I)}function k(V,E,I,L){var B=z(V,E,I);return(void 0===V._input.textfont||void 0===V._input.textfont.color||Array.isArray(V.textfont.color)&&void 0===V.textfont.color[E])&&(B={color:g.contrast(L),family:B.family,size:B.size}),S(u,V.insidetextfont,E,B)}function D(V,E,I){var L=z(V,E,I);return S(_,V.outsidetextfont,E,L)}function S(V,E,I,L){var B=b.getValue((E=E||{}).family,I),$=b.getValue(E.size,I),T=b.getValue(E.color,I);return{family:b.coerceString(V.family,B,L.family),size:b.coerceNumber(V.size,$,L.size),color:b.coerceColor(V.color,T,L.color)}}function P(V,E){return"waterfall"===E.type?E[V.dir].marker.color:V.mcc||V.mc||E.marker.color}de.exports={style:function(V){var E=o.select(V).selectAll("g.barlayer").selectAll("g.trace");C(V,E,"bar");var I=E.size(),L=V._fullLayout;E.style("opacity",function(B){return B[0].trace.opacity}).each(function(B){("stack"===L.barmode&&I>1||0===L.bargap&&0===L.bargroupgap&&!B[0].trace.marker.line.width)&&o.select(this).attr("shape-rendering","crispEdges")}),E.selectAll("g.points").each(function(B){M(o.select(this),B[0].trace,V)}),c.getComponentMethod("errorbars","style")(E)},styleTextPoints:w,styleOnSelect:function(V,E,I){var B,$,T,Y,W,q,L=E[0].trace;L.selectedpoints?($=L,T=V,p.selectedPointStyle((B=I).selectAll("path"),$),Y=B.selectAll("text"),W=$,q=T,Y.each(function(Q){var te,ce=o.select(this);if(Q.selected){te=l.ensureUniformFontSize(q,N(ce,Q,W,q));var me=W.selected.textfont&&W.selected.textfont.color;me&&(te.color=me),p.font(ce,te)}else p.selectedTextStyle(ce,W)})):(M(I,L,V),c.getComponentMethod("errorbars","style")(I))},getInsideTextFont:k,getOutsideTextFont:D,getBarColor:P,resizeText:C}},{"../../components/color":102,"../../components/drawing":124,"../../lib":232,"../../registry":318,"./attributes":328,"./helpers":334,"./uniform_text":344,"@plotly/d3":11}],343:[function(m,de,ne){"use strict";var o=m("../../components/color"),g=m("../../components/colorscale/helpers").hasColorscale,p=m("../../components/colorscale/defaults"),l=m("../../lib").coercePattern;de.exports=function(c,C,d,h,u){var _=d("marker.color",h),b=g(c,"marker");b&&p(c,C,u,d,{prefix:"marker.",cLetter:"c"}),d("marker.line.color",o.defaultLine),g(c,"marker.line")&&p(c,C,u,d,{prefix:"marker.line.",cLetter:"c"}),d("marker.line.width"),d("marker.opacity"),l(d,"marker.pattern",_,b),d("selected.marker.color"),d("unselected.marker.color")}},{"../../components/color":102,"../../components/colorscale/defaults":112,"../../components/colorscale/helpers":113,"../../lib":232}],344:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("../../lib");function p(l){return"_"+l+"Text_minsize"}de.exports={recordMinTextSize:function(l,c,C){if(C.uniformtext.mode){var d=p(l),h=C.uniformtext.minsize,u=c.scale*c.fontSize;c.hide=u<h,C[d]=C[d]||1/0,c.hide||(C[d]=Math.min(C[d],Math.max(u,h)))}},clearMinTextSize:function(l,c){c[p(l)]=void 0},resizeText:function(l,c,C){var d=l._fullLayout,h=d["_"+C+"Text_minsize"];if(h){var u,_="hide"===d.uniformtext.mode;switch(C){case"funnelarea":case"pie":case"sunburst":u="g.slice";break;case"treemap":case"icicle":u="g.slice, g.pathbar";break;default:u="g.points > g.point"}c.selectAll(u).each(function(b){var M=b.transform;M&&(M.scale=_&&M.hide?0:h/M.fontSize,o.select(this).select("text").attr("transform",g.getTextTransform(M)))})}}}},{"../../lib":232,"@plotly/d3":11}],345:[function(m,de,ne){"use strict";var o=m("../../plots/attributes"),g=m("../../plots/domain").attributes,p=m("../../plots/font_attributes"),l=m("../../components/color/attributes"),c=m("../../plots/template_attributes").hovertemplateAttrs,C=m("../../plots/template_attributes").texttemplateAttrs,d=m("../../lib/extend").extendFlat,h=p({editType:"plot",arrayOk:!0,colorEditType:"plot"});de.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:l.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:d({},o.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:c({},{keys:["label","color","value","percent","text"]}),texttemplate:C({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:d({},h,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:d({},h,{}),outsidetextfont:d({},h,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:d({},h,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:g({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"number",min:-360,max:360,dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:d({},h,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},{"../../components/color/attributes":101,"../../lib/extend":226,"../../plots/attributes":275,"../../plots/domain":309,"../../plots/font_attributes":310,"../../plots/template_attributes":317}],346:[function(m,de,ne){"use strict";var o=m("../../plots/plots");ne.name="pie",ne.plot=function(g,p,l,c){o.plotBasePlot(ne.name,g,p,l,c)},ne.clean=function(g,p,l,c){o.cleanBasePlot(ne.name,g,p,l,c)}},{"../../plots/plots":316}],347:[function(m,de,ne){"use strict";var o=m("fast-isnumeric"),g=m("tinycolor2"),p=m("../../components/color"),l={};function c(d){return function(h,u){return!!h&&!!(h=g(h)).isValid()&&(h=p.addOpacity(h,h.getAlpha()),d[u]||(d[u]=h),h)}}function C(d,h){var u,_=JSON.stringify(d),b=h[_];if(!b){for(b=d.slice(),u=0;u<d.length;u++)b.push(g(d[u]).lighten(20).toHexString());for(u=0;u<d.length;u++)b.push(g(d[u]).darken(20).toHexString());h[_]=b}return b}de.exports={calc:function(d,h){var u,_,b=[],M=d._fullLayout,w=M.hiddenlabels||[],N=h.labels,z=h.marker.colors||[],k=h.values,D=h._length,S=h._hasValues&&D;if(h.dlabel)for(N=new Array(D),u=0;u<D;u++)N[u]=String(h.label0+u*h.dlabel);var P={},V=c(M["_"+h.type+"colormap"]),E=0,I=!1;for(u=0;u<D;u++){var L,B,$;if(S){if(!o(L=k[u]))continue;L=+L}else L=1;void 0!==(B=N[u])&&""!==B||(B=u);var T=P[B=String(B)];void 0===T?(P[B]=b.length,($=-1!==w.indexOf(B))||(E+=L),b.push({v:L,label:B,color:V(z[u],B),i:u,pts:[u],hidden:$})):(I=!0,(_=b[T]).v+=L,_.pts.push(u),_.hidden||(E+=L),!1===_.color&&z[u]&&(_.color=V(z[u],B)))}return b=b.filter(function(Y){return Y.v>=0}),("funnelarea"===h.type?I:h.sort)&&b.sort(function(Y,W){return W.v-Y.v}),b[0]&&(b[0].vTotal=E),b},crossTraceCalc:function(d,h){var u=(h||{}).type;u||(u="pie");var _=d._fullLayout,b=d.calcdata,M=_[u+"colorway"],w=_["_"+u+"colormap"];_["extend"+u+"colors"]&&(M=C(M,l));for(var N=0,z=0;z<b.length;z++){var k=b[z];if(k[0].trace.type===u)for(var D=0;D<k.length;D++){var S=k[D];!1===S.color&&(w[S.label]?S.color=w[S.label]:(w[S.label]=S.color=M[N%M.length],N++))}}},makePullColorFn:c,generateExtendedColors:C}},{"../../components/color":102,"fast-isnumeric":17,tinycolor2:67}],348:[function(m,de,ne){"use strict";var o=m("fast-isnumeric"),g=m("../../lib"),p=m("./attributes"),l=m("../../plots/domain").defaults,c=m("../bar/defaults").handleText;function C(d,h){var u=Array.isArray(d),_=g.isArrayOrTypedArray(h),b=Math.min(u?d.length:1/0,_?h.length:1/0);if(isFinite(b)||(b=0),b&&_){for(var M,w=0;w<b;w++){var N=h[w];if(o(N)&&N>0){M=!0;break}}M||(b=0)}return{hasLabels:u,hasValues:_,len:b}}de.exports={handleLabelsAndValues:C,supplyDefaults:function(d,h,u,_){function b(V,E){return g.coerce(d,h,p,V,E)}var M=C(b("labels"),b("values")),w=M.len;if(h._hasLabels=M.hasLabels,h._hasValues=M.hasValues,!h._hasLabels&&h._hasValues&&(b("label0"),b("dlabel")),w){h._length=w,b("marker.line.width")&&b("marker.line.color"),b("marker.colors"),b("scalegroup");var N,z=b("text"),k=b("texttemplate");if(k||(N=b("textinfo",Array.isArray(z)?"text+percent":"percent")),b("hovertext"),b("hovertemplate"),k||N&&"none"!==N){var D=b("textposition");c(d,h,_,b,D,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(D)||"auto"===D||"outside"===D)&&b("automargin"),("inside"===D||"auto"===D||Array.isArray(D))&&b("insidetextorientation")}l(h,_,b);var S=b("hole");if(b("title.text")){var P=b("title.position",S?"middle center":"top center");S||"middle center"!==P||(h.title.position="top center"),g.coerceFont(b,"title.font",_.font)}b("sort"),b("direction"),b("rotation"),b("pull")}else h.visible=!1}}},{"../../lib":232,"../../plots/domain":309,"../bar/defaults":332,"./attributes":345,"fast-isnumeric":17}],349:[function(m,de,ne){"use strict";var o=m("../../components/fx/helpers").appendArrayMultiPointValues;de.exports=function(g,p){var l={curveNumber:p.index,pointNumbers:g.pts,data:p._input,fullData:p,label:g.label,color:g.color,value:g.v,percent:g.percent,text:g.text,bbox:g.bbox,v:g.v};return 1===g.pts.length&&(l.pointNumber=l.i=g.pts[0]),o(l,p,g.pts),"funnelarea"===p.type&&(delete l.v,delete l.i),l}},{"../../components/fx/helpers":138}],350:[function(m,de,ne){"use strict";var o=m("../../lib");function g(p){return-1!==p.indexOf("e")?p.replace(/[.]?0+e/,"e"):-1!==p.indexOf(".")?p.replace(/[.]?0+$/,""):p}ne.formatPiePercent=function(p,l){var c=g((100*p).toPrecision(3));return o.numSeparate(c,l)+"%"},ne.formatPieValue=function(p,l){var c=g(p.toPrecision(10));return o.numSeparate(c,l)},ne.getFirstFilled=function(p,l){if(Array.isArray(p))for(var c=0;c<l.length;c++){var C=p[l[c]];if(C||0===C||""===C)return C}},ne.castOption=function(p,l){return Array.isArray(p)?ne.getFirstFilled(p,l):p||void 0},ne.getRotationAngle=function(p){return("auto"===p?0:p)*Math.PI/180}},{"../../lib":232}],351:[function(m,de,ne){"use strict";de.exports={attributes:m("./attributes"),supplyDefaults:m("./defaults").supplyDefaults,supplyLayoutDefaults:m("./layout_defaults"),layoutAttributes:m("./layout_attributes"),calc:m("./calc").calc,crossTraceCalc:m("./calc").crossTraceCalc,plot:m("./plot").plot,style:m("./style"),styleOne:m("./style_one"),moduleType:"trace",name:"pie",basePlotModule:m("./base_plot"),categories:["pie-like","pie","showLegend"],meta:{}}},{"./attributes":345,"./base_plot":346,"./calc":347,"./defaults":348,"./layout_attributes":352,"./layout_defaults":353,"./plot":354,"./style":355,"./style_one":356}],352:[function(m,de,ne){"use strict";de.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},{}],353:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("./layout_attributes");de.exports=function(p,l){function c(C,d){return o.coerce(p,l,g,C,d)}c("hiddenlabels"),c("piecolorway",l.colorway),c("extendpiecolors")}},{"../../lib":232,"./layout_attributes":352}],354:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("../../plots/plots"),p=m("../../components/fx"),l=m("../../components/color"),c=m("../../components/drawing"),C=m("../../lib"),d=C.strScale,h=C.strTranslate,u=m("../../lib/svg_text_utils"),_=m("../bar/uniform_text"),b=_.recordMinTextSize,M=_.clearMinTextSize,w=m("../bar/constants").TEXTPAD,N=m("./helpers"),z=m("./event_data"),k=m("../../lib").isValidTextValue;function D(K,le,G){var j=G[0],oe=j.cx,re=j.cy,F=j.trace,O="funnelarea"===F.type;"_hasHoverLabel"in F||(F._hasHoverLabel=!1),"_hasHoverEvent"in F||(F._hasHoverEvent=!1),K.on("mouseover",function(X){var R=le._fullLayout,ae=le._fullData[F.index];if(!le._dragging&&!1!==R.hovermode){var fe=ae.hoverinfo;if(Array.isArray(fe)&&(fe=p.castHoverinfo({hoverinfo:[N.castOption(fe,X.pts)],_module:F._module},R,0)),"all"===fe&&(fe="label+text+value+percent+name"),ae.hovertemplate||"none"!==fe&&"skip"!==fe&&fe){var ue=X.rInscribed||0,pe=oe+X.pxmid[0]*(1-ue),xe=re+X.pxmid[1]*(1-ue),Me=R.separators,Ae=[];if(fe&&-1!==fe.indexOf("label")&&Ae.push(X.label),X.text=N.castOption(ae.hovertext||ae.text,X.pts),fe&&-1!==fe.indexOf("text")){var ze=X.text;C.isValidTextValue(ze)&&Ae.push(ze)}X.value=X.v,X.valueLabel=N.formatPieValue(X.v,Me),fe&&-1!==fe.indexOf("value")&&Ae.push(X.valueLabel),X.percent=X.v/j.vTotal,X.percentLabel=N.formatPiePercent(X.percent,Me),fe&&-1!==fe.indexOf("percent")&&Ae.push(X.percentLabel);var Fe=ae.hoverlabel,Ue=Fe.font,t1=[];p.loneHover({trace:F,x0:pe-ue*j.r,x1:pe+ue*j.r,y:xe,_x0:O?oe+X.TL[0]:pe-ue*j.r,_x1:O?oe+X.TR[0]:pe+ue*j.r,_y0:O?re+X.TL[1]:xe-ue*j.r,_y1:O?re+X.BL[1]:xe+ue*j.r,text:Ae.join("<br>"),name:ae.hovertemplate||-1!==fe.indexOf("name")?ae.name:void 0,idealAlign:X.pxmid[0]<0?"left":"right",color:N.castOption(Fe.bgcolor,X.pts)||X.color,borderColor:N.castOption(Fe.bordercolor,X.pts),fontFamily:N.castOption(Ue.family,X.pts),fontSize:N.castOption(Ue.size,X.pts),fontColor:N.castOption(Ue.color,X.pts),nameLength:N.castOption(Fe.namelength,X.pts),textAlign:N.castOption(Fe.align,X.pts),hovertemplate:N.castOption(ae.hovertemplate,X.pts),hovertemplateLabels:X,eventData:[z(X,ae)]},{container:R._hoverlayer.node(),outerContainer:R._paper.node(),gd:le,inOut_bbox:t1}),X.bbox=t1[0],F._hasHoverLabel=!0}F._hasHoverEvent=!0,le.emit("plotly_hover",{points:[z(X,ae)],event:o.event})}}),K.on("mouseout",function(X){var R=le._fullLayout,ae=le._fullData[F.index],fe=o.select(this).datum();F._hasHoverEvent&&(X.originalEvent=o.event,le.emit("plotly_unhover",{points:[z(fe,ae)],event:o.event}),F._hasHoverEvent=!1),F._hasHoverLabel&&(p.loneUnhover(R._hoverlayer.node()),F._hasHoverLabel=!1)}),K.on("click",function(X){le._dragging||!1===le._fullLayout.hovermode||(le._hoverdata=[z(X,le._fullData[F.index])],p.click(le,o.event))})}function S(K,le,G){var j=N.castOption(K.insidetextfont.color,le.pts);!j&&K._input.textfont&&(j=N.castOption(K._input.textfont.color,le.pts));var oe=N.castOption(K.insidetextfont.family,le.pts)||N.castOption(K.textfont.family,le.pts)||G.family,re=N.castOption(K.insidetextfont.size,le.pts)||N.castOption(K.textfont.size,le.pts)||G.size;return{color:j||l.contrast(le.color),family:oe,size:re}}function P(K,le){for(var G,j,oe=0;oe<K.length;oe++)if((j=(G=K[oe][0]).trace).title.text){var re=j.title.text;j._meta&&(re=C.templateString(re,j._meta));var F=c.tester.append("text").attr("data-notex",1).text(re).call(c.font,j.title.font).call(u.convertToTspans,le),O=c.bBox(F.node(),!0);G.titleBox={width:O.width,height:O.height},F.remove()}}function V(K,le,G){var j=G.r||le.rpx1,oe=le.rInscribed;if(le.startangle===le.stopangle)return{rCenter:1-oe,scale:0,rotate:0,textPosAngle:0};var re,F=le.ring,O=1===F&&Math.abs(le.startangle-le.stopangle)===2*Math.PI,X=le.halfangle,R=le.midangle,ae=G.trace.insidetextorientation,fe="horizontal"===ae,ue="tangential"===ae,pe="radial"===ae,xe="auto"===ae,Me=[];if(!xe){var Ae,ze=function(we,ve){if(n1=(Ie=le).stopangle,(Qe=Ie.startangle)>(Re=we)&&Re>n1||Qe<Re&&Re<n1){var De=Math.abs(we-le.startangle),Ve=Math.abs(we-le.stopangle),qe=De<Ve?De:Ve;(re="tan"===ve?I(K,j,F,qe,0):E(K,j,F,qe,Math.PI/2)).textPosAngle=we,Me.push(re)}var Ie,Re,Qe,n1};if(fe||ue){for(Ae=4;Ae>=-4;Ae-=2)ze(Math.PI*Ae,"tan");for(Ae=4;Ae>=-4;Ae-=2)ze(Math.PI*(Ae+1),"tan")}if(fe||pe){for(Ae=4;Ae>=-4;Ae-=2)ze(Math.PI*(Ae+1.5),"rad");for(Ae=4;Ae>=-4;Ae-=2)ze(Math.PI*(Ae+.5),"rad")}}if(O||xe||fe){var Fe=Math.sqrt(K.width*K.width+K.height*K.height);if((re={scale:oe*j*2/Fe,rCenter:1-oe,rotate:0}).textPosAngle=(le.startangle+le.stopangle)/2,re.scale>=1)return re;Me.push(re)}(xe||pe)&&((re=E(K,j,F,X,R)).textPosAngle=(le.startangle+le.stopangle)/2,Me.push(re)),(xe||ue)&&((re=I(K,j,F,X,R)).textPosAngle=(le.startangle+le.stopangle)/2,Me.push(re));for(var Ue=0,t1=0,Xe=0;Xe<Me.length;Xe++){var Ge=Me[Xe].scale;if(t1<Ge&&(t1=Ge,Ue=Xe),!xe&&t1>=1)break}return Me[Ue]}function E(K,le,G,j,oe){le=Math.max(0,le-2*w);var re=K.width/K.height,F=$(re,j,le,G);return{scale:2*F/K.height,rCenter:L(re,F/le),rotate:B(oe)}}function I(K,le,G,j,oe){le=Math.max(0,le-2*w);var re=K.height/K.width,F=$(re,j,le,G);return{scale:2*F/K.width,rCenter:L(re,F/le),rotate:B(oe+Math.PI/2)}}function L(K,le){return Math.cos(le)-K*le}function B(K){return(180/Math.PI*K+720)%180-90}function $(K,le,G,j){var oe=K+1/(2*Math.tan(le));return G*Math.min(1/(Math.sqrt(oe*oe+.5)+oe),j/(Math.sqrt(K*K+j/2)+K))}function T(K,le){return K.v!==le.vTotal||le.trace.hole?Math.min(1/(1+1/Math.sin(K.halfangle)),K.ring/2):1}function Y(K,le){var G=le.pxmid[0],j=le.pxmid[1],oe=K.width/2,re=K.height/2;return G<0&&(oe*=-1),j<0&&(re*=-1),{scale:1,rCenter:1,rotate:0,x:oe+Math.abs(re)*(oe>0?1:-1)/2,y:re/(1+G*G/(j*j)),outside:!0}}function W(K,le){var G,j,oe,re=K.trace,F={x:K.cx,y:K.cy},O={tx:0,ty:0};O.ty+=re.title.font.size,oe=Q(re),-1!==re.title.position.indexOf("top")?(F.y-=(1+oe)*K.r,O.ty-=K.titleBox.height):-1!==re.title.position.indexOf("bottom")&&(F.y+=(1+oe)*K.r);var R,ae=K.r/(void 0===(R=K.trace.aspectratio)?1:R),fe=le.w*(re.domain.x[1]-re.domain.x[0])/2;return-1!==re.title.position.indexOf("left")?(fe+=ae,F.x-=(1+oe)*ae,O.tx+=K.titleBox.width/2):-1!==re.title.position.indexOf("center")?fe*=2:-1!==re.title.position.indexOf("right")&&(fe+=ae,F.x+=(1+oe)*ae,O.tx-=K.titleBox.width/2),G=fe/K.titleBox.width,j=q(K,le)/K.titleBox.height,{x:F.x,y:F.y,scale:Math.min(G,j),tx:O.tx,ty:O.ty}}function q(K,le){var G=K.trace;return Math.min(K.titleBox.height,le.h*(G.domain.y[1]-G.domain.y[0])/2)}function Q(K){var le,G=K.pull;if(!G)return 0;if(Array.isArray(G))for(G=0,le=0;le<K.pull.length;le++)K.pull[le]>G&&(G=K.pull[le]);return G}function te(K,le){for(var G=[],j=0;j<K.length;j++){var oe=K[j][0],re=oe.trace,F=re.domain,O=le.w*(F.x[1]-F.x[0]),X=le.h*(F.y[1]-F.y[0]);re.title.text&&"middle center"!==re.title.position&&(X-=q(oe,le));var ae=X/2;"funnelarea"!==re.type||re.scalegroup||(ae/=re.aspectratio),oe.r=Math.min(O/2,ae)/(1+Q(re)),oe.cx=le.l+le.w*(re.domain.x[1]+re.domain.x[0])/2,oe.cy=le.t+le.h*(1-re.domain.y[0])-X/2,re.title.text&&-1!==re.title.position.indexOf("bottom")&&(oe.cy-=q(oe,le)),re.scalegroup&&-1===G.indexOf(re.scalegroup)&&G.push(re.scalegroup)}!function(fe,ue){for(var pe,xe,Me,Ae=0;Ae<ue.length;Ae++){var ze=1/0,Fe=ue[Ae];for(xe=0;xe<fe.length;xe++)if((Me=(pe=fe[xe][0]).trace).scalegroup===Fe){var Ue;if("pie"===Me.type)Ue=pe.r*pe.r;else if("funnelarea"===Me.type){var t1,Xe;Me.aspectratio>1?Xe=(t1=pe.r)/Me.aspectratio:t1=(Xe=pe.r)*Me.aspectratio,Ue=(t1*=(1+Me.baseratio)/2)*Xe}ze=Math.min(ze,Ue/pe.vTotal)}for(xe=0;xe<fe.length;xe++)if((Me=(pe=fe[xe][0]).trace).scalegroup===Fe){var Ge=ze*pe.vTotal;"funnelarea"===Me.type&&(Ge/=(1+Me.baseratio)/2,Ge/=Me.aspectratio),pe.r=Math.sqrt(Ge)}}}(K,G)}function ce(K,le){return[K*Math.sin(le),-K*Math.cos(le)]}function me(K,le,G){var Ue,j=K._fullLayout,oe=G.trace,re=oe.texttemplate,F=oe.textinfo;if(!re&&F&&"none"!==F){var O,X=F.split("+"),R=function(Ue){return-1!==X.indexOf(Ue)},ae=R("label"),fe=R("text"),ue=R("value"),pe=R("percent"),xe=j.separators;if(O=ae?[le.label]:[],fe){var Me=N.getFirstFilled(oe.text,le.pts);k(Me)&&O.push(Me)}ue&&O.push(N.formatPieValue(le.v,xe)),pe&&O.push(N.formatPiePercent(le.v/G.vTotal,xe)),le.text=O.join("<br>")}if(re){var Ae=C.castOption(oe,le.i,"texttemplate");if(Ae){var ze={label:(Ue=le).label,value:Ue.v,valueLabel:N.formatPieValue(Ue.v,j.separators),percent:Ue.v/G.vTotal,percentLabel:N.formatPiePercent(Ue.v/G.vTotal,j.separators),color:Ue.color,text:Ue.text,customdata:C.castOption(oe,Ue.i,"customdata")},Fe=N.getFirstFilled(oe.text,le.pts);(k(Fe)||""===Fe)&&(ze.text=Fe),le.text=C.texttemplateString(Ae,ze,K._fullLayout._d3locale,ze,oe._meta||{})}else le.text=""}}function ie(K,le){var G=K.rotate*Math.PI/180,j=Math.cos(G),oe=Math.sin(G),re=(le.left+le.right)/2,F=(le.top+le.bottom)/2;K.textX=re*j-F*oe,K.textY=re*oe+F*j,K.noCenter=!0}de.exports={plot:function(K,le){var G=K._fullLayout,j=G._size;M("pie",G),P(le,K),te(le,j);var oe=C.makeTraceGroups(G._pielayer,le,"trace").each(function(re){var F=o.select(this),O=re[0],X=O.trace;(function(R){var ae,fe,ue,pe=R[0],xe=pe.r,Me=pe.trace,Ae=N.getRotationAngle(Me.rotation),ze=2*Math.PI/pe.vTotal,Fe="px0",Ue="px1";if("counterclockwise"===Me.direction){for(ae=0;ae<R.length&&R[ae].hidden;ae++);if(ae===R.length)return;Ae+=ze*R[ae].v,ze*=-1,Fe="px1",Ue="px0"}for(ue=ce(xe,Ae),ae=0;ae<R.length;ae++)(fe=R[ae]).hidden||(fe[Fe]=ue,fe.startangle=Ae,fe.pxmid=ce(xe,Ae+=ze*fe.v/2),fe.midangle=Ae,ue=ce(xe,Ae+=ze*fe.v/2),fe.stopangle=Ae,fe[Ue]=ue,fe.largeArc=fe.v>pe.vTotal/2?1:0,fe.halfangle=Math.PI*Math.min(fe.v/pe.vTotal,.5),fe.ring=1-Me.hole,fe.rInscribed=T(fe,pe))})(re),F.attr("stroke-linejoin","round"),F.each(function(){var R=o.select(this).selectAll("g.slice").data(re);R.enter().append("g").classed("slice",!0),R.exit().remove();var ae=[[[],[]],[[],[]]],fe=!1;R.each(function(Ue,t1){if(Ue.hidden)o.select(this).selectAll("path,g").remove();else{Ue.pointNumber=Ue.i,Ue.curveNumber=X.index,ae[Ue.pxmid[1]<0?0:1][Ue.pxmid[0]<0?0:1].push(Ue);var Xe=O.cx,Ge=O.cy,we=o.select(this),ve=we.selectAll("path.surface").data([Ue]);if(ve.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),we.call(D,K,re),X.pull){var De=+N.castOption(X.pull,Ue.pts)||0;De>0&&(Xe+=De*Ue.pxmid[0],Ge+=De*Ue.pxmid[1])}Ue.cxFinal=Xe,Ue.cyFinal=Ge;var Ve=X.hole;if(Ue.v===O.vTotal){var qe="M"+(Xe+Ue.px0[0])+","+(Ge+Ue.px0[1])+Ye(Ue.px0,Ue.pxmid,!0,1)+Ye(Ue.pxmid,Ue.px0,!0,1)+"Z";ve.attr("d",Ve?"M"+(Xe+Ve*Ue.px0[0])+","+(Ge+Ve*Ue.px0[1])+Ye(Ue.px0,Ue.pxmid,!1,Ve)+Ye(Ue.pxmid,Ue.px0,!1,Ve)+"Z"+qe:qe)}else{var Ie=Ye(Ue.px0,Ue.px1,!0,1);if(Ve){var Re=1-Ve;ve.attr("d","M"+(Xe+Ve*Ue.px1[0])+","+(Ge+Ve*Ue.px1[1])+Ye(Ue.px1,Ue.px0,!1,Ve)+"l"+Re*Ue.px0[0]+","+Re*Ue.px0[1]+Ie+"Z")}else ve.attr("d","M"+Xe+","+Ge+"l"+Ue.px0[0]+","+Ue.px0[1]+Ie+"Z")}me(K,Ue,O);var Qe=N.castOption(X.textposition,Ue.pts),n1=we.selectAll("g.slicetext").data(Ue.text&&"none"!==Qe?[0]:[]);n1.enter().append("g").classed("slicetext",!0),n1.exit().remove(),n1.each(function(){var Be,je,C1,r1=C.ensureSingle(o.select(this),"text","",function(Be){Be.attr("data-notex",1)}),f1=C.ensureUniformFontSize(K,"outside"===Qe?(C1=G.font,{color:N.castOption((Be=X).outsidetextfont.color,(je=Ue).pts)||N.castOption(Be.textfont.color,je.pts)||C1.color,family:N.castOption(Be.outsidetextfont.family,je.pts)||N.castOption(Be.textfont.family,je.pts)||C1.family,size:N.castOption(Be.outsidetextfont.size,je.pts)||N.castOption(Be.textfont.size,je.pts)||C1.size}):S(X,Ue,G.font));r1.text(Ue.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(c.font,f1).call(u.convertToTspans,K);var Je,g1=c.bBox(r1.node());if("outside"===Qe)Je=Y(g1,Ue);else if(Je=V(g1,Ue,O),"auto"===Qe&&Je.scale<1){var b1=C.ensureUniformFontSize(K,X.outsidetextfont);r1.call(c.font,b1),Je=Y(g1=c.bBox(r1.node()),Ue)}var _1=Je.textPosAngle,I1=void 0===_1?Ue.pxmid:ce(O.r,_1);if(Je.targetX=Xe+I1[0]*Je.rCenter+(Je.x||0),Je.targetY=Ge+I1[1]*Je.rCenter+(Je.y||0),ie(Je,g1),Je.outside){var M1=Je.targetY;Ue.yLabelMin=M1-g1.height/2,Ue.yLabelMid=M1,Ue.yLabelMax=M1+g1.height/2,Ue.labelExtraX=0,Ue.labelExtraY=0,fe=!0}Je.fontSize=f1.size,b(X.type,Je,G),re[t1].transform=Je,r1.attr("transform",C.getTextTransform(Je))})}function Ye(r1,f1,Je,g1){return"a"+g1*O.r+","+g1*O.r+" 0 "+Ue.largeArc+(Je?" 1 ":" 0 ")+g1*(f1[0]-r1[0])+","+g1*(f1[1]-r1[1])}});var t1,ue=o.select(this).selectAll("g.titletext").data(X.title.text?[0]:[]);if(ue.enter().append("g").classed("titletext",!0),ue.exit().remove(),ue.each(function(){var Ue,Ge,we,t1=C.ensureSingle(o.select(this),"text","",function(Ge){Ge.attr("data-notex",1)}),Xe=X.title.text;X._meta&&(Xe=C.templateString(Xe,X._meta)),t1.text(Xe).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(c.font,X.title.font).call(u.convertToTspans,K),Ue="middle center"===X.title.position?(Ge=O,we=Math.sqrt(Ge.titleBox.width*Ge.titleBox.width+Ge.titleBox.height*Ge.titleBox.height),{x:Ge.cx,y:Ge.cy,scale:Ge.trace.hole*Ge.r*2/we,tx:0,ty:-Ge.titleBox.height/2+Ge.trace.title.font.size}):W(O,j),t1.attr("transform",h(Ue.x,Ue.y)+d(Math.min(1,Ue.scale))+h(Ue.tx,Ue.ty))}),fe&&function(Ue,t1){var Xe,Ge,we,ve,De,Ve,qe,Ie,Re,Qe,n1,Ye,r1;function f1(_1,I1){return _1.pxmid[1]-I1.pxmid[1]}function Je(_1,I1){return I1.pxmid[1]-_1.pxmid[1]}function g1(_1,I1){I1||(I1={});var M1,Be,je,C1,O1=I1.labelExtraY+(Ge?I1.yLabelMax:I1.yLabelMin),Q1=Ge?_1.yLabelMin:_1.yLabelMax,st=Ge?_1.yLabelMax:_1.yLabelMin,$1=_1.cyFinal+De(_1.px0[1],_1.px1[1]),Z1=O1-Q1;if(Z1*qe>0&&(_1.labelExtraY=Z1),Array.isArray(t1.pull))for(Be=0;Be<Qe.length;Be++)(je=Qe[Be])===_1||(N.castOption(t1.pull,_1.pts)||0)>=(N.castOption(t1.pull,je.pts)||0)||((_1.pxmid[1]-je.pxmid[1])*qe>0?(Z1=je.cyFinal+De(je.px0[1],je.px1[1])-Q1-_1.labelExtraY)*qe>0&&(_1.labelExtraY+=Z1):(st+_1.labelExtraY-$1)*qe>0&&(M1=3*Ve*Math.abs(Be-Qe.indexOf(_1)),(C1=je.cxFinal+ve(je.px0[0],je.px1[0])+M1-(_1.cxFinal+_1.pxmid[0])-_1.labelExtraX)*Ve>0&&(_1.labelExtraX+=C1)))}for(Ge=0;Ge<2;Ge++)for(we=Ge?f1:Je,De=Ge?Math.max:Math.min,qe=Ge?1:-1,Xe=0;Xe<2;Xe++){for(ve=Xe?Math.max:Math.min,Ve=Xe?1:-1,(Ie=Ue[Ge][Xe]).sort(we),Qe=(Re=Ue[1-Ge][Xe]).concat(Ie),Ye=[],n1=0;n1<Ie.length;n1++)void 0!==Ie[n1].yLabelMid&&Ye.push(Ie[n1]);for(r1=!1,n1=0;Ge&&n1<Re.length;n1++)if(void 0!==Re[n1].yLabelMid){r1=Re[n1];break}for(n1=0;n1<Ye.length;n1++){var b1=n1&&Ye[n1-1];r1&&!n1&&(b1=r1),g1(Ye[n1],b1)}}}(ae,X),t1=X,R.each(function(Xe){var Ge=o.select(this);if(Xe.labelExtraX||Xe.labelExtraY){var we=Ge.select("g.slicetext text");Xe.transform.targetX+=Xe.labelExtraX,Xe.transform.targetY+=Xe.labelExtraY,we.attr("transform",C.getTextTransform(Xe.transform));var ve=Xe.cxFinal+Xe.pxmid[0],De="M"+ve+","+(Xe.cyFinal+Xe.pxmid[1]),Ve=(Xe.yLabelMax-Xe.yLabelMin)*(Xe.pxmid[0]<0?-1:1)/4;if(Xe.labelExtraX){var qe=Xe.labelExtraX*Xe.pxmid[1]/Xe.pxmid[0],Ie=Xe.yLabelMid+Xe.labelExtraY-(Xe.cyFinal+Xe.pxmid[1]);Math.abs(qe)>Math.abs(Ie)?De+="l"+Ie*Xe.pxmid[0]/Xe.pxmid[1]+","+Ie+"H"+(ve+Xe.labelExtraX+Ve):De+="l"+Xe.labelExtraX+","+qe+"v"+(Ie-qe)+"h"+Ve}else De+="V"+(Xe.yLabelMid+Xe.labelExtraY)+"h"+Ve;C.ensureSingle(Ge,"path","textline").call(l.stroke,t1.outsidetextfont.color).attr({"stroke-width":Math.min(2,t1.outsidetextfont.size/8),d:De,fill:"none"})}else Ge.select("path.textline").remove()}),fe&&X.automargin){var pe=c.bBox(F.node()),xe=X.domain,ze=(j.w*(xe.x[1]-xe.x[0])*.5-O.r)/j.w,Fe=(j.h*(xe.y[1]-xe.y[0])*.5-O.r)/j.h;g.autoMargin(K,"pie."+X.uid+".automargin",{xl:xe.x[0]-ze,xr:xe.x[1]+ze,yb:xe.y[0]-Fe,yt:xe.y[1]+Fe,l:Math.max(O.cx-O.r-pe.left,0),r:Math.max(pe.right-(O.cx+O.r),0),b:Math.max(pe.bottom-(O.cy+O.r),0),t:Math.max(O.cy-O.r-pe.top,0),pad:5})}})});setTimeout(function(){oe.selectAll("tspan").each(function(){var re=o.select(this);re.attr("dy")&&re.attr("dy",re.attr("dy"))})},0)},formatSliceLabel:me,transformInsideText:V,determineInsideTextFont:S,positionTitleOutside:W,prerenderTitles:P,layoutAreas:te,attachFxHandlers:D,computeTransform:ie}},{"../../components/color":102,"../../components/drawing":124,"../../components/fx":142,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../bar/constants":330,"../bar/uniform_text":344,"./event_data":349,"./helpers":350,"@plotly/d3":11}],355:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("./style_one"),p=m("../bar/uniform_text").resizeText;de.exports=function(l){var c=l._fullLayout._pielayer.selectAll(".trace");p(l,c,"pie"),c.each(function(C){var d=C[0].trace,h=o.select(this);h.style({opacity:d.opacity}),h.selectAll("path.surface").each(function(u){o.select(this).call(g,u,d)})})}},{"../bar/uniform_text":344,"./style_one":356,"@plotly/d3":11}],356:[function(m,de,ne){"use strict";var o=m("../../components/color"),g=m("./helpers").castOption;de.exports=function(p,l,c){var C=c.marker.line,d=g(C.color,l.pts)||o.defaultLine,h=g(C.width,l.pts)||0;p.style("stroke-width",h).call(o.fill,l.color).call(o.stroke,d)}},{"../../components/color":102,"./helpers":350}],357:[function(m,de,ne){"use strict";var o=m("../../lib");de.exports=function(g,p){for(var l=0;l<g.length;l++)g[l].i=l;o.mergeArray(p.text,g,"tx"),o.mergeArray(p.texttemplate,g,"txt"),o.mergeArray(p.hovertext,g,"htx"),o.mergeArray(p.customdata,g,"data"),o.mergeArray(p.textposition,g,"tp"),p.textfont&&(o.mergeArrayCastPositive(p.textfont.size,g,"ts"),o.mergeArray(p.textfont.color,g,"tc"),o.mergeArray(p.textfont.family,g,"tf"));var c=p.marker;if(c){o.mergeArrayCastPositive(c.size,g,"ms"),o.mergeArrayCastPositive(c.opacity,g,"mo"),o.mergeArray(c.symbol,g,"mx"),o.mergeArray(c.color,g,"mc");var C=c.line;c.line&&(o.mergeArray(C.color,g,"mlc"),o.mergeArrayCastPositive(C.width,g,"mlw"));var d=c.gradient;d&&"none"!==d.type&&(o.mergeArray(d.type,g,"mgt"),o.mergeArray(d.color,g,"mgc"))}}},{"../../lib":232}],358:[function(m,de,ne){"use strict";var o=m("../../plots/cartesian/axis_format_attributes").axisHoverFormat,g=m("../../plots/template_attributes").texttemplateAttrs,p=m("../../plots/template_attributes").hovertemplateAttrs,l=m("../../components/colorscale/attributes"),c=m("../../plots/font_attributes"),C=m("../../components/drawing/attributes").dash,d=m("../../components/drawing/attributes").pattern,h=m("../../components/drawing"),u=m("./constants"),_=m("../../lib/extend").extendFlat;de.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:o("x"),yhoverformat:o("y"),stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:g({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:p({},{keys:u.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:_({},C,{editType:"style"}),simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:d,marker:_({symbol:{valType:"enumerated",values:h.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:_({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},l("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},l("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:c({editType:"calc",colorEditType:"style",arrayOk:!0})}},{"../../components/colorscale/attributes":109,"../../components/drawing":124,"../../components/drawing/attributes":123,"../../lib/extend":226,"../../plots/cartesian/axis_format_attributes":282,"../../plots/font_attributes":310,"../../plots/template_attributes":317,"./constants":362}],359:[function(m,de,ne){"use strict";var o=m("fast-isnumeric"),g=m("../../lib"),p=m("../../plots/cartesian/axes"),l=m("../../plots/cartesian/align_period"),c=m("../../constants/numerical").BADNUM,C=m("./subtypes"),d=m("./colorscale_calc"),h=m("./arrays_to_calcdata"),u=m("./calc_selection");function _(z,k,D,S,P,V,E){var I=k._length,L=z._fullLayout,B=D._id,$=S._id,T=L._firstScatter[w(k)]===k.uid,Y=(N(k,L,D,S)||{}).orientation,W=k.fill;D._minDtick=0,S._minDtick=0;var q={padded:!0},Q={padded:!0};E&&(q.ppad=Q.ppad=E);var te=I<2||P[0]!==P[I-1]||V[0]!==V[I-1];te&&("tozerox"===W||"tonextx"===W&&(T||"h"===Y))?q.tozero=!0:(k.error_y||{}).visible||"tonexty"!==W&&"tozeroy"!==W&&(C.hasMarkers(k)||C.hasText(k))||(q.padded=!1,q.ppad=0),te&&("tozeroy"===W||"tonexty"===W&&(T||"v"===Y))?Q.tozero=!0:"tonextx"!==W&&"tozerox"!==W||(Q.padded=!1),B&&(k._extremes[B]=p.findExtremes(D,P,q)),$&&(k._extremes[$]=p.findExtremes(S,V,Q))}function b(z,k){if(C.hasMarkers(z)){var D,S=z.marker,P=1.6*(z.marker.sizeref||1);if(D="area"===z.marker.sizemode?function(B){return Math.max(Math.sqrt((B||0)/P),3)}:function(B){return Math.max((B||0)/P,3)},g.isArrayOrTypedArray(S.size)){var V={type:"linear"};p.setConvert(V);for(var E=V.makeCalcdata(z.marker,"size"),I=new Array(k),L=0;L<k;L++)I[L]=D(E[L]);return I}return D(S.size)}}function M(z,k){var D=w(k),S=z._firstScatter;S[D]||(S[D]=k.uid)}function w(z){var k=z.stackgroup;return z.xaxis+z.yaxis+z.type+(k?"-"+k:"")}function N(z,k,D,S){var P=z.stackgroup;if(P){var V=k._scatterStackOpts[D._id+S._id][P],E="v"===V.orientation?S:D;return"linear"===E.type||"log"===E.type?V:void 0}}de.exports={calc:function(z,k){var D,S,P,V,E,I,L=z._fullLayout,B=p.getFromId(z,k.xaxis||"x"),$=p.getFromId(z,k.yaxis||"y"),T=B.makeCalcdata(k,"x"),Y=$.makeCalcdata(k,"y"),W=l(k,B,"x",T),q=l(k,$,"y",Y),Q=W.vals,te=q.vals,ce=k._length,me=new Array(ce),ie=k.ids,K=N(k,L,B,$),le=!1;M(L,k);var G,j="x",oe="y";K?(g.pushUnique(K.traceIndices,k._expandedIndex),(D="v"===K.orientation)?(oe="s",G="x"):(j="s",G="y"),E="interpolate"===K.stackgaps):_(z,k,B,$,Q,te,b(k,ce));var re=!!k.xperiodalignment,F=!!k.yperiodalignment;for(S=0;S<ce;S++){var O=me[S]={},X=o(Q[S]),R=o(te[S]);X&&R?(O[j]=Q[S],O[oe]=te[S],re&&(O.orig_x=T[S],O.xEnd=W.ends[S],O.xStart=W.starts[S]),F&&(O.orig_y=Y[S],O.yEnd=q.ends[S],O.yStart=q.starts[S])):K&&(D?X:R)?(O[G]=D?Q[S]:te[S],O.gap=!0,E?(O.s=c,le=!0):O.s=0):O[j]=O[oe]=c,ie&&(O.id=String(ie[S]))}if(h(me,k),d(z,k),u(me,k),K){for(S=0;S<me.length;)me[S][G]===c?me.splice(S,1):S++;if(g.sort(me,function(pe,xe){return pe[G]-xe[G]||pe.i-xe.i}),le){for(S=0;S<me.length-1&&me[S].gap;)S++;for((I=me[S].s)||(I=me[S].s=0),P=0;P<S;P++)me[P].s=I;for(V=me.length-1;V>S&&me[V].gap;)V--;for(I=me[V].s,P=me.length-1;P>V;P--)me[P].s=I;for(;S<V;)if(me[++S].gap){for(P=S+1;me[P].gap;)P++;for(var ae=me[S-1][G],fe=me[S-1].s,ue=(me[P].s-fe)/(me[P][G]-ae);S<P;)me[S].s=fe+(me[S][G]-ae)*ue,S++}}}return me},calcMarkerSize:b,calcAxisExpansion:_,setFirstScatter:M,getStackOpts:N}},{"../../constants/numerical":212,"../../lib":232,"../../plots/cartesian/align_period":276,"../../plots/cartesian/axes":279,"./arrays_to_calcdata":357,"./calc_selection":360,"./colorscale_calc":361,"./subtypes":383,"fast-isnumeric":17}],360:[function(m,de,ne){"use strict";var o=m("../../lib");de.exports=function(g,p){o.isArrayOrTypedArray(p.selectedpoints)&&o.tagSelected(g,p)}},{"../../lib":232}],361:[function(m,de,ne){"use strict";var o=m("../../components/colorscale/helpers").hasColorscale,g=m("../../components/colorscale/calc"),p=m("./subtypes");de.exports=function(l,c){p.hasLines(c)&&o(c,"line")&&g(l,c,{vals:c.line.color,containerStr:"line",cLetter:"c"}),p.hasMarkers(c)&&(o(c,"marker")&&g(l,c,{vals:c.marker.color,containerStr:"marker",cLetter:"c"}),o(c,"marker.line")&&g(l,c,{vals:c.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},{"../../components/colorscale/calc":110,"../../components/colorscale/helpers":113,"./subtypes":383}],362:[function(m,de,ne){"use strict";de.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},{}],363:[function(m,de,ne){"use strict";var o=m("./calc");function g(p,l,c,C,d,h,u){d[C]=!0;var M,w,z,k,D,_={i:null,gap:!0,s:0};if(_[u]=c,p.splice(l,0,_),l&&c===p[l-1][u]){var b=p[l-1];_.s=b.s,_.i=b.i,_.gap=b.gap}else h&&(_.s=(z=u,k=(M=p)[(w=l)-1],(D=M[w+1])?k?k.s+(D.s-k.s)*(c-k[z])/(D[z]-k[z]):D.s:k.s));l||(p[0].t=p[1].t,p[0].trace=p[1].trace,delete p[1].t,delete p[1].trace)}de.exports=function(p,l){var c=l.xaxis,C=l.yaxis,h=p._fullLayout._scatterStackOpts[c._id+C._id];if(h){var u,_,b,M,w,N,z,k,D,S,P,V,E,I,L,B=p.calcdata;for(var $ in h){var T=(S=h[$]).traceIndices;if(T.length){for(P="interpolate"===S.stackgaps,V=S.groupnorm,"v"===S.orientation?(E="x",I="y"):(E="y",I="x"),L=new Array(T.length),u=0;u<L.length;u++)L[u]=!1;N=B[T[0]];var Y=new Array(N.length);for(u=0;u<N.length;u++)Y[u]=N[u][E];for(u=1;u<T.length;u++){for(w=B[T[u]],_=b=0;_<w.length;_++){for(z=w[_][E];z>Y[b]&&b<Y.length;b++)g(w,_,Y[b],u,L,P,E),_++;if(z!==Y[b]){for(M=0;M<u;M++)g(B[T[M]],b,z,M,L,P,E);Y.splice(b,0,z)}b++}for(;b<Y.length;b++)g(w,_,Y[b],u,L,P,E),_++}var W=Y.length;for(_=0;_<N.length;_++){for(k=N[_][I]=N[_].s,u=1;u<T.length;u++)(w=B[T[u]])[0].trace._rawLength=w[0].trace._length,w[0].trace._length=W,w[_][I]=k+=w[_].s;if(V)for(D=("fraction"===V?k:k/100)||1,u=0;u<T.length;u++){var q=B[T[u]][_];q[I]/=D,q.sNorm=q.s/D}}for(u=0;u<T.length;u++){var Q=(w=B[T[u]])[0].trace,te=o.calcMarkerSize(Q,Q._rawLength),ce=Array.isArray(te);if(te&&L[u]||ce){var me=te;for(te=new Array(W),_=0;_<W;_++)te[_]=w[_].gap?0:ce?me[w[_].i]:me}var ie=new Array(W),K=new Array(W);for(_=0;_<W;_++)ie[_]=w[_].x,K[_]=w[_].y;o.calcAxisExpansion(p,Q,c,C,ie,K,te),w[0].t.orientation=S.orientation}}}}}},{"./calc":359}],364:[function(m,de,ne){"use strict";de.exports=function(o){for(var g=0;g<o.length;g++){var p=o[g];if("scatter"===p.type){var l=p.fill;if("none"!==l&&"toself"!==l&&(p.opacity=void 0,"tonexty"===l||"tonextx"===l))for(var c=g-1;c>=0;c--){var C=o[c];if("scatter"===C.type&&C.xaxis===p.xaxis&&C.yaxis===p.yaxis){C.opacity=void 0;break}}}}}},{}],365:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("../../registry"),p=m("./attributes"),l=m("./constants"),c=m("./subtypes"),C=m("./xy_defaults"),d=m("./period_defaults"),h=m("./stack_defaults"),u=m("./marker_defaults"),_=m("./line_defaults"),b=m("./line_shape_defaults"),M=m("./text_defaults"),w=m("./fillcolor_defaults"),N=m("../../lib").coercePattern;de.exports=function(z,k,D,S){function P(Y,W){return o.coerce(z,k,p,Y,W)}var V=C(z,k,S,P);if(V||(k.visible=!1),k.visible){d(z,k,S,P),P("xhoverformat"),P("yhoverformat");var E=h(z,k,S,P),I=!E&&V<l.PTS_LINESONLY?"lines+markers":"lines";P("text"),P("hovertext"),P("mode",I),c.hasLines(k)&&(_(z,k,D,S,P),b(z,k,P),P("connectgaps"),P("line.simplify")),c.hasMarkers(k)&&u(z,k,D,S,P,{gradient:!0}),c.hasText(k)&&(P("texttemplate"),M(z,k,S,P));var L=[];(c.hasMarkers(k)||c.hasText(k))&&(P("cliponaxis"),P("marker.maxdisplayed"),L.push("points")),P("fill",E?E.fillDflt:"none"),"none"!==k.fill&&(w(z,k,D,P),c.hasLines(k)||b(z,k,P),N(P,"fillpattern",k.fillcolor,!1));var B=(k.line||{}).color,$=(k.marker||{}).color;"tonext"!==k.fill&&"toself"!==k.fill||L.push("fills"),P("hoveron",L.join("+")||"points"),"fills"!==k.hoveron&&P("hovertemplate");var T=g.getComponentMethod("errorbars","supplyDefaults");T(z,k,B||$||D,{axis:"y"}),T(z,k,B||$||D,{axis:"x",inherit:"y"}),o.coerceSelectionMarkerOpacity(k,P)}}},{"../../lib":232,"../../registry":318,"./attributes":358,"./constants":362,"./fillcolor_defaults":366,"./line_defaults":371,"./line_shape_defaults":373,"./marker_defaults":377,"./period_defaults":378,"./stack_defaults":381,"./subtypes":383,"./text_defaults":384,"./xy_defaults":385}],366:[function(m,de,ne){"use strict";var o=m("../../components/color"),g=m("../../lib").isArrayOrTypedArray;de.exports=function(p,l,c,C){var d=!1;if(l.marker){var h=l.marker.color,u=(l.marker.line||{}).color;h&&!g(h)?d=h:u&&!g(u)&&(d=u)}C("fillcolor",o.addOpacity((l.line||{}).color||d||c,.5))}},{"../../components/color":102,"../../lib":232}],367:[function(m,de,ne){"use strict";var o=m("../../plots/cartesian/axes");de.exports=function(g,p,l){var c={},C={_fullLayout:l},d=o.getFromTrace(C,p,"x"),h=o.getFromTrace(C,p,"y");return c.xLabel=o.tickText(d,d.c2l(g.x),!0).text,c.yLabel=o.tickText(h,h.c2l(g.y),!0).text,c}},{"../../plots/cartesian/axes":279}],368:[function(m,de,ne){"use strict";var o=m("../../components/color"),g=m("./subtypes");de.exports=function(p,l){var c,C;if("lines"===p.mode)return(c=p.line.color)&&o.opacity(c)?c:p.fillcolor;if("none"===p.mode)return p.fill?p.fillcolor:"";var d=l.mcc||(p.marker||{}).color,h=l.mlcc||((p.marker||{}).line||{}).color;return(C=d&&o.opacity(d)?d:h&&o.opacity(h)&&(l.mlw||((p.marker||{}).line||{}).width)?h:"")?o.opacity(C)<.3?o.addOpacity(C,.3):C:(c=(p.line||{}).color)&&o.opacity(c)&&g.hasLines(p)&&p.line.width?c:p.fillcolor}},{"../../components/color":102,"./subtypes":383}],369:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("../../components/fx"),p=m("../../registry"),l=m("./get_trace_color"),c=m("../../components/color"),C=o.fillText;de.exports=function(d,h,u,_){var b=d.cd,M=b[0].trace,w=d.xa,N=d.ya,z=w.c2p(h),k=N.c2p(u),D=[z,k],S=M.hoveron||"",P=-1!==M.mode.indexOf("markers")?3:.5,V=!!M.xperiodalignment,E=!!M.yperiodalignment;if(-1!==S.indexOf("points")){var I=function(Me){var Ae=Math.max(P,Me.mrc||0),ze=w.c2p(Me.x)-z,Fe=N.c2p(Me.y)-k;return Math.max(Math.sqrt(ze*ze+Fe*Fe)-Ae,1-P/Ae)},L=g.getDistanceFunction(_,function(Me){if(V){var Ae=w.c2p(Me.xStart),ze=w.c2p(Me.xEnd);return z>=Math.min(Ae,ze)&&z<=Math.max(Ae,ze)?0:1/0}var Fe=Math.max(3,Me.mrc||0),Ue=1-1/Fe,t1=Math.abs(w.c2p(Me.x)-z);return t1<Fe?Ue*t1/Fe:t1-Fe+Ue},function(Me){if(E){var Ae=N.c2p(Me.yStart),ze=N.c2p(Me.yEnd);return k>=Math.min(Ae,ze)&&k<=Math.max(Ae,ze)?0:1/0}var Fe=Math.max(3,Me.mrc||0),Ue=1-1/Fe,t1=Math.abs(N.c2p(Me.y)-k);return t1<Fe?Ue*t1/Fe:t1-Fe+Ue},I);if(g.getClosest(b,L,d),!1!==d.index){var B=b[d.index],$=w.c2p(B.x,!0),T=N.c2p(B.y,!0),Y=B.mrc||1;d.index=B.i;var W=b[0].t.orientation,q=W&&(B.sNorm||B.s),Q="h"===W?q:void 0!==B.orig_x?B.orig_x:B.x,te="v"===W?q:void 0!==B.orig_y?B.orig_y:B.y;return o.extendFlat(d,{color:l(M,B),x0:$-Y,x1:$+Y,xLabelVal:Q,y0:T-Y,y1:T+Y,yLabelVal:te,spikeDistance:I(B),hovertemplate:M.hovertemplate}),C(B,M,d),p.getComponentMethod("errorbars","hoverInfo")(B,M,d),[d]}}if(-1!==S.indexOf("fills")&&M._polygons){var ce,me,ie,K,le,G,oe,re,F=M._polygons,O=[],X=!1,R=1/0,ae=-1/0,fe=1/0,ue=-1/0;for(ce=0;ce<F.length;ce++)(ie=F[ce]).contains(D)&&(X=!X,O.push(ie),fe=Math.min(fe,ie.ymin),ue=Math.max(ue,ie.ymax));if(X){var pe=((fe=Math.max(fe,0))+(ue=Math.min(ue,N._length)))/2;for(ce=0;ce<O.length;ce++)for(K=O[ce].pts,me=1;me<K.length;me++)(oe=K[me-1][1])>pe!=(re=K[me][1])>=pe&&(G=K[me-1][0],re-oe&&(le=G+(K[me][0]-G)*(pe-oe)/(re-oe),R=Math.min(R,le),ae=Math.max(ae,le)));R=Math.max(R,0),ae=Math.min(ae,w._length);var xe=c.defaultLine;return c.opacity(M.fillcolor)?xe=M.fillcolor:c.opacity((M.line||{}).color)&&(xe=M.line.color),o.extendFlat(d,{distance:d.maxHoverDistance,x0:R,x1:ae,y0:pe,y1:pe,color:xe,hovertemplate:!1}),delete d.index,d.text=M.text&&!Array.isArray(M.text)?String(M.text):M.name,[d]}}}},{"../../components/color":102,"../../components/fx":142,"../../lib":232,"../../registry":318,"./get_trace_color":368}],370:[function(m,de,ne){"use strict";var o=m("./subtypes");de.exports={hasLines:o.hasLines,hasMarkers:o.hasMarkers,hasText:o.hasText,isBubble:o.isBubble,attributes:m("./attributes"),supplyDefaults:m("./defaults"),crossTraceDefaults:m("./cross_trace_defaults"),calc:m("./calc").calc,crossTraceCalc:m("./cross_trace_calc"),arraysToCalcdata:m("./arrays_to_calcdata"),plot:m("./plot"),colorbar:m("./marker_colorbar"),formatLabels:m("./format_labels"),style:m("./style").style,styleOnSelect:m("./style").styleOnSelect,hoverPoints:m("./hover"),selectPoints:m("./select"),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:m("../../plots/cartesian"),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},{"../../plots/cartesian":293,"./arrays_to_calcdata":357,"./attributes":358,"./calc":359,"./cross_trace_calc":363,"./cross_trace_defaults":364,"./defaults":365,"./format_labels":367,"./hover":369,"./marker_colorbar":376,"./plot":379,"./select":380,"./style":382,"./subtypes":383}],371:[function(m,de,ne){"use strict";var o=m("../../lib").isArrayOrTypedArray,g=m("../../components/colorscale/helpers").hasColorscale,p=m("../../components/colorscale/defaults");de.exports=function(l,c,C,d,h,u){var _=(l.marker||{}).color;h("line.color",C),g(l,"line")?p(l,c,d,h,{prefix:"line.",cLetter:"c"}):h("line.color",!o(_)&&_||C),h("line.width"),(u||{}).noDash||h("line.dash")}},{"../../components/colorscale/defaults":112,"../../components/colorscale/helpers":113,"../../lib":232}],372:[function(m,de,ne){"use strict";var o=m("../../constants/numerical"),g=o.BADNUM,p=o.LOG_CLIP,l=p+.5,c=p-.5,C=m("../../lib"),d=C.segmentsIntersect,h=C.constrain,u=m("./constants");de.exports=function(_,b){var M,w,N,z,k,D,S,P,V,E,I,L,B,$,T,Y,W,q,Q=b.xaxis,te=b.yaxis,ce="log"===Q.type,me="log"===te.type,ie=Q._length,K=te._length,le=b.connectGaps,G=b.baseTolerance,j=b.shape,oe="linear"===j,re=b.fill&&"none"!==b.fill,F=[],O=u.minTolerance,X=_.length,R=new Array(X),ae=0;function fe(Je){var g1=_[Je];if(!g1)return!1;var b1=b.linearized?Q.l2p(g1.x):Q.c2p(g1.x),_1=b.linearized?te.l2p(g1.y):te.c2p(g1.y);if(b1===g){if(ce&&(b1=Q.c2p(g1.x,!0)),b1===g)return!1;me&&_1===g&&(b1*=Math.abs(Q._m*K*(Q._m>0?l:c)/(te._m*ie*(te._m>0?l:c)))),b1*=1e3}if(_1===g){if(me&&(_1=te.c2p(g1.y,!0)),_1===g)return!1;_1*=1e3}return[b1,_1]}function ue(Je,g1,b1,_1){var I1=b1-Je,M1=_1-g1,Be=.5-Je,je=.5-g1,C1=I1*I1+M1*M1,O1=I1*Be+M1*je;if(O1>0&&O1<C1){var Q1=Be*M1-je*I1;if(Q1*Q1<C1)return!0}}function pe(Je,g1){var b1=Je[0]/ie,_1=Je[1]/K,I1=Math.max(0,-b1,b1-1,-_1,_1-1);return I1&&void 0!==W&&ue(b1,_1,W,q)&&(I1=0),I1&&g1&&ue(b1,_1,g1[0]/ie,g1[1]/K)&&(I1=0),(1+u.toleranceGrowth*I1)*G}function xe(Je,g1){var b1=Je[0]-g1[0],_1=Je[1]-g1[1];return Math.sqrt(b1*b1+_1*_1)}var Me,Ae,ze,Fe,Ue,t1,Xe,Ge=u.maxScreensAway,we=-ie*Ge,ve=ie*(1+Ge),De=-K*Ge,Ve=K*(1+Ge),qe=[[we,De,ve,De],[ve,De,ve,Ve],[ve,Ve,we,Ve],[we,Ve,we,De]];function Ie(Je){if(Je[0]<we||Je[0]>ve||Je[1]<De||Je[1]>Ve)return[h(Je[0],we,ve),h(Je[1],De,Ve)]}function Re(Je,g1){return Je[0]===g1[0]&&(Je[0]===we||Je[0]===ve)||Je[1]===g1[1]&&(Je[1]===De||Je[1]===Ve)||void 0}function Qe(Je,g1,b1){return function(_1,I1){var M1=Ie(_1),Be=Ie(I1),je=[];if(M1&&Be&&Re(M1,Be))return je;M1&&je.push(M1),Be&&je.push(Be);var C1=2*C.constrain((_1[Je]+I1[Je])/2,g1,b1)-((M1||_1)[Je]+(Be||I1)[Je]);return C1&&((M1&&Be?C1>0==M1[Je]>Be[Je]?M1:Be:M1||Be)[Je]+=C1),je}}function n1(Je){var g1=Je[0],b1=Je[1],_1=g1===R[ae-1][0],I1=b1===R[ae-1][1];if(!_1||!I1)if(ae>1){var M1=g1===R[ae-2][0],Be=b1===R[ae-2][1];_1&&(g1===we||g1===ve)&&M1?Be?ae--:R[ae-1]=Je:I1&&(b1===De||b1===Ve)&&Be?M1?ae--:R[ae-1]=Je:R[ae++]=Je}else R[ae++]=Je}function Ye(Je){R[ae-1][0]!==Je[0]&&R[ae-1][1]!==Je[1]&&n1([ze,Fe]),n1(Je),Ue=null,ze=Fe=0}function r1(Je){if(W=Je[0]/ie,q=Je[1]/K,Ae=Je[1]<De?De:Je[1]>Ve?Ve:0,(Me=Je[0]<we?we:Je[0]>ve?ve:0)||Ae){if(ae)if(Ue){var g1=Xe(Ue,Je);g1.length>1&&(Ye(g1[0]),R[ae++]=g1[1])}else t1=Xe(R[ae-1],Je)[0],R[ae++]=t1;else R[ae++]=[Me||Je[0],Ae||Je[1]];var b1=R[ae-1];Me&&Ae&&(b1[0]!==Me||b1[1]!==Ae)?(Ue&&(ze!==Me&&Fe!==Ae?n1(ze&&Fe?(M1=(I1=Je)[0]-(_1=Ue)[0],Be=(I1[1]-_1[1])/M1,(_1[1]*I1[0]-I1[1]*_1[0])/M1>0?[Be>0?we:ve,Ve]:[Be>0?ve:we,De]):[ze||Me,Fe||Ae]):ze&&Fe&&n1([ze,Fe])),n1([Me,Ae])):ze-Me&&Fe-Ae&&n1([Me||ze,Ae||Fe]),Ue=Je,ze=Me,Fe=Ae}else Ue&&Ye(Xe(Ue,Je)[0]),R[ae++]=Je;var _1,I1,M1,Be}for("linear"===j||"spline"===j?Xe=function(Je,g1){for(var b1=[],_1=0,I1=0;I1<4;I1++){var M1=qe[I1],Be=d(Je[0],Je[1],g1[0],g1[1],M1[0],M1[1],M1[2],M1[3]);Be&&(!_1||Math.abs(Be.x-b1[0][0])>1||Math.abs(Be.y-b1[0][1])>1)&&(Be=[Be.x,Be.y],_1&&xe(Be,Je)<xe(b1[0],Je)?b1.unshift(Be):b1.push(Be),_1++)}return b1}:"hv"===j||"vh"===j?Xe=function(Je,g1){var b1=[],_1=Ie(Je),I1=Ie(g1);return _1&&I1&&Re(_1,I1)||(_1&&b1.push(_1),I1&&b1.push(I1)),b1}:"hvh"===j?Xe=Qe(0,we,ve):"vhv"===j&&(Xe=Qe(1,De,Ve)),M=0;M<X;M++)if(w=fe(M)){for(ae=0,Ue=null,r1(w),M++;M<X;M++){if(!(z=fe(M))){if(le)continue;break}if(oe&&b.simplify){var f1=fe(M+1);if(E=xe(z,w),re&&(0===ae||ae===X-1)||!(E<pe(z,f1)*O)){for(P=[(z[0]-w[0])/E,(z[1]-w[1])/E],k=w,I=E,L=$=T=0,S=!1,N=z,M++;M<_.length;M++){if(D=f1,f1=fe(M+1),!D){if(le)continue;break}if(Y=(V=[D[0]-w[0],D[1]-w[1]])[0]*P[1]-V[1]*P[0],$=Math.min($,Y),(T=Math.max(T,Y))-$>pe(D,f1))break;N=D,(B=V[0]*P[0]+V[1]*P[1])>I?(I=B,z=D,S=!1):B<L&&(L=B,k=D,S=!0)}if(S?(r1(z),N!==k&&r1(k)):(k!==w&&r1(k),N!==z&&r1(z)),r1(N),M>=_.length||!D)break;r1(D),w=D}}else r1(z)}Ue&&n1([ze||Ue[0],Fe||Ue[1]]),F.push(R.slice(0,ae))}return F}},{"../../constants/numerical":212,"../../lib":232,"./constants":362}],373:[function(m,de,ne){"use strict";de.exports=function(o,g,p){"spline"===p("line.shape")&&p("line.smoothing")}},{}],374:[function(m,de,ne){"use strict";var o={tonextx:1,tonexty:1,tonext:1};de.exports=function(g,p,l){var c,C,d,h,u,_={},b=!1,M=-1,w=0,N=-1;for(C=0;C<l.length;C++)(d=(c=l[C][0].trace).stackgroup||"")?d in _?u=_[d]:(u=_[d]=w,w++):c.fill in o&&N>=0?u=N:(u=N=w,w++),u<M&&(b=!0),c._groupIndex=M=u;var z=l.slice();b&&z.sort(function(D,S){var P=D[0].trace,V=S[0].trace;return P._groupIndex-V._groupIndex||P.index-V.index});var k={};for(C=0;C<z.length;C++)d=(c=z[C][0].trace).stackgroup||"",!0===c.visible?(c._nexttrace=null,c.fill in o&&(c._prevtrace=(h=k[d])||null,h&&(h._nexttrace=c)),c._ownfill=c.fill&&("tozero"===c.fill.substr(0,6)||"toself"===c.fill||"to"===c.fill.substr(0,2)&&!c._prevtrace),k[d]=c):c._prevtrace=c._nexttrace=c._ownfill=null;return z}},{}],375:[function(m,de,ne){"use strict";var o=m("fast-isnumeric");de.exports=function(g,p){p||(p=2);var l=g.marker,c=l.sizeref||1,C=l.sizemin||0,d="area"===l.sizemode?function(h){return Math.sqrt(h/c)}:function(h){return h/c};return function(h){var u=d(h/p);return o(u)&&u>0?Math.max(u,C):0}}},{"fast-isnumeric":17}],376:[function(m,de,ne){"use strict";de.exports={container:"marker",min:"cmin",max:"cmax"}},{}],377:[function(m,de,ne){"use strict";var o=m("../../components/color"),g=m("../../components/colorscale/helpers").hasColorscale,p=m("../../components/colorscale/defaults"),l=m("./subtypes");de.exports=function(c,C,d,h,u,_){var b=l.isBubble(c),M=(c.line||{}).color;_=_||{},M&&(d=M),u("marker.symbol"),u("marker.opacity",b?.7:1),u("marker.size"),u("marker.color",d),g(c,"marker")&&p(c,C,h,u,{prefix:"marker.",cLetter:"c"}),_.noSelect||(u("selected.marker.color"),u("unselected.marker.color"),u("selected.marker.size"),u("unselected.marker.size")),_.noLine||(u("marker.line.color",M&&!Array.isArray(M)&&C.marker.color!==M?M:b?o.background:o.defaultLine),g(c,"marker.line")&&p(c,C,h,u,{prefix:"marker.line.",cLetter:"c"}),u("marker.line.width",b?1:0)),b&&(u("marker.sizeref"),u("marker.sizemin"),u("marker.sizemode")),_.gradient&&"none"!==u("marker.gradient.type")&&u("marker.gradient.color")}},{"../../components/color":102,"../../components/colorscale/defaults":112,"../../components/colorscale/helpers":113,"./subtypes":383}],378:[function(m,de,ne){"use strict";var o=m("../../lib").dateTick0,g=m("../../constants/numerical").ONEWEEK;function p(l,c){return o(c,l%g==0?1:0)}de.exports=function(l,c,C,d,h){if(h||(h={x:!0,y:!0}),h.x){var u=d("xperiod");u&&(d("xperiod0",p(u,c.xcalendar)),d("xperiodalignment"))}if(h.y){var _=d("yperiod");_&&(d("yperiod0",p(_,c.ycalendar)),d("yperiodalignment"))}}},{"../../constants/numerical":212,"../../lib":232}],379:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("../../registry"),p=m("../../lib"),l=p.ensureSingle,c=p.identity,C=m("../../components/drawing"),d=m("./subtypes"),h=m("./line_points"),u=m("./link_traces"),_=m("../../lib/polygon").tester;function b(M,w,N,z,k,D,S){var P;!function(ve,De,Ve,qe,Ie){var Re=Ve.xaxis,Qe=Ve.yaxis,n1=o.extent(p.simpleMap(Re.range,Re.r2c)),Ye=o.extent(p.simpleMap(Qe.range,Qe.r2c)),r1=qe[0].trace;if(d.hasMarkers(r1)){var f1=r1.marker.maxdisplayed;if(0!==f1){var Je=qe.filter(function(I1){return I1.x>=n1[0]&&I1.x<=n1[1]&&I1.y>=Ye[0]&&I1.y<=Ye[1]}),g1=Math.ceil(Je.length/f1),b1=0;Ie.forEach(function(I1,M1){var Be=I1[0].trace;d.hasMarkers(Be)&&Be.marker.maxdisplayed>0&&M1<De&&b1++});var _1=Math.round(b1*g1/3+Math.floor(b1/3)*g1/7.1);qe.forEach(function(I1){delete I1.vis}),Je.forEach(function(I1,M1){0===Math.round((M1+_1)%g1)&&(I1.vis=!0)})}}}(0,w,N,z,k);var V=!!S&&S.duration>0;function E(ve){return V?ve.transition():ve}var I=N.xaxis,L=N.yaxis,B=z[0].trace,$=B.line,T=o.select(D),Y=l(T,"g","errorbars"),W=l(T,"g","lines"),q=l(T,"g","points"),Q=l(T,"g","text");if(g.getComponentMethod("errorbars","plot")(M,Y,N,S),!0===B.visible){var te,ce;E(T).style("opacity",B.opacity);var me=B.fill.charAt(B.fill.length-1);"x"!==me&&"y"!==me&&(me=""),z[0][N.isRangePlot?"nodeRangePlot3":"node3"]=T;var ie,K,le="",G=[],j=B._prevtrace;j&&(le=j._prevRevpath||"",ce=j._nextFill,G=j._polygons);var oe,re,F,O,X,R,ae,fe="",ue="",pe=[],xe=p.noop;if(te=B._ownFill,d.hasLines(B)||"none"!==B.fill){for(ce&&ce.datum(z),-1!==["hv","vh","hvh","vhv"].indexOf($.shape)?(oe=C.steps($.shape),re=C.steps($.shape.split("").reverse().join(""))):oe=re="spline"===$.shape?function(ve){var De=ve[ve.length-1];return ve.length>1&&ve[0][0]===De[0]&&ve[0][1]===De[1]?C.smoothclosed(ve.slice(1),$.smoothing):C.smoothopen(ve,$.smoothing)}:function(ve){return"M"+ve.join("L")},F=function(ve){return re(ve.reverse())},pe=h(z,{xaxis:I,yaxis:L,connectGaps:B.connectgaps,baseTolerance:Math.max($.width||1,3)/4,shape:$.shape,simplify:$.simplify,fill:B.fill}),ae=B._polygons=new Array(pe.length),P=0;P<pe.length;P++)B._polygons[P]=_(pe[P]);pe.length&&(O=pe[0][0],R=(X=pe[pe.length-1])[X.length-1]),xe=function(ve){return function(De){if(ie=oe(De),K=F(De),fe?me?(fe+="L"+ie.substr(1),ue=K+"L"+ue.substr(1)):(fe+="Z"+ie,ue=K+"Z"+ue):(fe=ie,ue=K),d.hasLines(B)&&De.length>1){var Ve=o.select(this);if(Ve.datum(z),ve)E(Ve.style("opacity",0).attr("d",ie).call(C.lineGroupStyle)).style("opacity",1);else{var qe=E(Ve);qe.attr("d",ie),C.singleLineStyle(z,qe)}}}}}var Me=W.selectAll(".js-line").data(pe);E(Me.exit()).style("opacity",0).remove(),Me.each(xe(!1)),Me.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(C.lineGroupStyle).each(xe(!0)),C.setClipUrl(Me,N.layerClipId,M),pe.length?(te?(te.datum(z),O&&R&&(me?("y"===me?O[1]=R[1]=L.c2p(0,!0):"x"===me&&(O[0]=R[0]=I.c2p(0,!0)),E(te).attr("d","M"+R+"L"+O+"L"+fe.substr(1)).call(C.singleFillStyle,M)):E(te).attr("d",fe+"Z").call(C.singleFillStyle,M))):ce&&("tonext"===B.fill.substr(0,6)&&fe&&le?("tonext"===B.fill?E(ce).attr("d",fe+"Z"+le+"Z").call(C.singleFillStyle,M):E(ce).attr("d",fe+"L"+le.substr(1)+"Z").call(C.singleFillStyle,M),B._polygons=B._polygons.concat(G)):(ze(ce),B._polygons=null)),B._prevRevpath=ue,B._prevPolygons=ae):(te?ze(te):ce&&ze(ce),B._polygons=B._prevRevpath=B._prevPolygons=null),q.datum(z),Q.datum(z),function(ve,De,Ve){var qe,Ie=Ve[0].trace,Re=d.hasMarkers(Ie),Qe=d.hasText(Ie),n1=function Ge(ve){if(ve.ids)return Xe}(Ie),Ye=we,r1=we;if(Re||Qe){var f1=c,Je=Ie.stackgroup,g1=Je&&"infer zero"===M._fullLayout._scatterStackOpts[I._id+L._id][Je].stackgaps;Ie.marker.maxdisplayed||Ie._needsCull?f1=g1?Ue:Fe:Je&&!g1&&(f1=t1),Re&&(Ye=f1),Qe&&(r1=f1)}var b1,_1=(qe=ve.selectAll("path.point").data(Ye,n1)).enter().append("path").classed("point",!0);V&&_1.call(C.pointStyle,Ie,M).call(C.translatePoints,I,L).style("opacity",0).transition().style("opacity",1),qe.order(),Re&&(b1=C.makePointStyleFns(Ie)),qe.each(function(I1){var M1=o.select(this),Be=E(M1);C.translatePoint(I1,Be,I,L)?(C.singlePointStyle(I1,Be,Ie,b1,M),N.layerClipId&&C.hideOutsideRangePoint(I1,Be,I,L,Ie.xcalendar,Ie.ycalendar),Ie.customdata&&M1.classed("plotly-customdata",null!=I1.data)):Be.remove()}),V?qe.exit().transition().style("opacity",0).remove():qe.exit().remove(),(qe=De.selectAll("g").data(r1,n1)).enter().append("g").classed("textpoint",!0).append("text"),qe.order(),qe.each(function(I1){var M1=o.select(this),Be=E(M1.select("text"));C.translatePoint(I1,Be,I,L)?N.layerClipId&&C.hideOutsideRangePoint(I1,M1,I,L,Ie.xcalendar,Ie.ycalendar):M1.remove()}),qe.selectAll("text").call(C.textPointStyle,Ie,M).each(function(I1){var M1=I.c2p(I1.x),Be=L.c2p(I1.y);o.select(this).selectAll("tspan.line").each(function(){E(o.select(this)).attr({x:M1,y:Be})})}),qe.exit().remove()}(q,Q,z);var Ae=!1===B.cliponaxis?null:N.layerClipId;C.setClipUrl(q,Ae,M),C.setClipUrl(Q,Ae,M)}function ze(ve){E(ve).attr("d","M0,0Z")}function Fe(ve){return ve.filter(function(De){return!De.gap&&De.vis})}function Ue(ve){return ve.filter(function(De){return De.vis})}function t1(ve){return ve.filter(function(De){return!De.gap})}function Xe(ve){return ve.id}function we(){return!1}}de.exports=function(M,w,N,z,k,D){var S,P,L,$,V=!k,E=!!k&&k.duration>0,I=u(M,w,N);(S=z.selectAll("g.trace").data(I,function(L){return L[0].trace.uid})).enter().append("g").attr("class",function(L){return"trace scatter trace"+L[0].trace.uid}).style("stroke-miterlimit",2),S.order(),L=M,$=w,S.each(function(T){var Y=l(o.select(this),"g","fills");C.setClipUrl(Y,$.layerClipId,L);var W=T[0].trace,q=[];W._ownfill&&q.push("_ownFill"),W._nexttrace&&q.push("_nextFill");var Q=Y.selectAll("g").data(q,c);Q.enter().append("g"),Q.exit().each(function(te){W[te]=null}).remove(),Q.order().each(function(te){W[te]=l(o.select(this),"path","js-fill")})}),E?(D&&(P=D()),o.transition().duration(k.duration).ease(k.easing).each("end",function(){P&&P()}).each("interrupt",function(){P&&P()}).each(function(){z.selectAll("g.trace").each(function(L,B){b(M,B,w,L,I,this,k)})})):S.each(function(L,B){b(M,B,w,L,I,this,k)}),V&&S.exit().remove(),z.selectAll("path:not([d])").remove()}},{"../../components/drawing":124,"../../lib":232,"../../lib/polygon":244,"../../registry":318,"./line_points":372,"./link_traces":374,"./subtypes":383,"@plotly/d3":11}],380:[function(m,de,ne){"use strict";var o=m("./subtypes");de.exports=function(g,p){var l,c,C,d,h=g.cd,u=g.xaxis,_=g.yaxis,b=[],M=h[0].trace;if(!o.hasMarkers(M)&&!o.hasText(M))return[];if(!1===p)for(l=0;l<h.length;l++)h[l].selected=0;else for(l=0;l<h.length;l++)C=u.c2p((c=h[l]).x),d=_.c2p(c.y),null!==c.i&&p.contains([C,d],!1,l,g)?(b.push({pointNumber:c.i,x:u.c2d(c.x),y:_.c2d(c.y)}),c.selected=1):c.selected=0;return b}},{"./subtypes":383}],381:[function(m,de,ne){"use strict";var o=["orientation","groupnorm","stackgaps"];de.exports=function(g,p,l,c){var C=l._scatterStackOpts,d=c("stackgroup");if(d){var h=p.xaxis+p.yaxis,u=C[h];u||(u=C[h]={});var _=u[d],b=!1;_?_.traces.push(p):(_=u[d]={traceIndices:[],traces:[p]},b=!0);for(var M={orientation:p.x&&!p.y?"h":"v"},w=0;w<o.length;w++){var N=o[w],z=N+"Found";if(!_[z]){var k=void 0!==g[N],D="orientation"===N;if((k||b)&&(_[N]=c(N,M[N]),D&&(_.fillDflt="h"===_[N]?"tonextx":"tonexty"),k&&(_[z]=!0,!b&&(delete _.traces[0][N],D))))for(var S=0;S<_.traces.length-1;S++){var P=_.traces[S];P._input.fill!==P.fill&&(P.fill=_.fillDflt)}}}return _}}},{}],382:[function(m,de,ne){"use strict";var o=m("@plotly/d3"),g=m("../../components/drawing"),p=m("../../registry");function l(C,d,h){g.pointStyle(C.selectAll("path.point"),d,h)}function c(C,d,h){g.textPointStyle(C.selectAll("text"),d,h)}de.exports={style:function(C){var d=o.select(C).selectAll("g.trace.scatter");d.style("opacity",function(h){return h[0].trace.opacity}),d.selectAll("g.points").each(function(h){l(o.select(this),h.trace||h[0].trace,C)}),d.selectAll("g.text").each(function(h){c(o.select(this),h.trace||h[0].trace,C)}),d.selectAll("g.trace path.js-line").call(g.lineGroupStyle),d.selectAll("g.trace path.js-fill").call(g.fillGroupStyle,C),p.getComponentMethod("errorbars","style")(d)},stylePoints:l,styleText:c,styleOnSelect:function(C,d,h){var u=d[0].trace;u.selectedpoints?(g.selectedPointStyle(h.selectAll("path.point"),u),g.selectedTextStyle(h.selectAll("text"),u)):(l(h,u,C),c(h,u,C))}}},{"../../components/drawing":124,"../../registry":318,"@plotly/d3":11}],383:[function(m,de,ne){"use strict";var o=m("../../lib");de.exports={hasLines:function(g){return g.visible&&g.mode&&-1!==g.mode.indexOf("lines")},hasMarkers:function(g){return g.visible&&(g.mode&&-1!==g.mode.indexOf("markers")||"splom"===g.type)},hasText:function(g){return g.visible&&g.mode&&-1!==g.mode.indexOf("text")},isBubble:function(g){return o.isPlainObject(g.marker)&&o.isArrayOrTypedArray(g.marker.size)}}},{"../../lib":232}],384:[function(m,de,ne){"use strict";var o=m("../../lib");de.exports=function(g,p,l,c,C){C=C||{},c("textposition"),o.coerceFont(c,"textfont",l.font),C.noSelect||(c("selected.textfont.color"),c("unselected.textfont.color"))}},{"../../lib":232}],385:[function(m,de,ne){"use strict";var o=m("../../lib"),g=m("../../registry");de.exports=function(p,l,c,C){var d,h=C("x"),u=C("y");if(g.getComponentMethod("calendars","handleTraceDefaults")(p,l,["x","y"],c),h){var _=o.minRowLength(h);u?d=Math.min(_,o.minRowLength(u)):(d=_,C("y0"),C("dy"))}else{if(!u)return 0;d=o.minRowLength(u),C("x0"),C("dx")}return l._length=d,d}},{"../../lib":232,"../../registry":318}],386:[function(m,de,ne){"use strict";var o=m("../plots/cartesian/axes"),g=m("../lib"),p=m("../plot_api/plot_schema"),l=m("./helpers").pointsAccessorFunction,c=m("../constants/numerical").BADNUM;ne.moduleType="transform",ne.name="aggregate";var C=ne.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},d=C.aggregations;function h(M,w,N,z){if(z.enabled){for(var k=z.target,D=g.nestedProperty(w,k),S=D.get(),P=function(I,L){var $=L.d2c,T=L.c2d;switch(I.func){case"count":return u;case"first":return _;case"last":return b;case"sum":return function(Y,W){for(var q=0,Q=0;Q<W.length;Q++){var te=$(Y[W[Q]]);te!==c&&(q+=te)}return T(q)};case"avg":return function(Y,W){for(var q=0,Q=0,te=0;te<W.length;te++){var ce=$(Y[W[te]]);ce!==c&&(q+=ce,Q++)}return Q?T(q/Q):c};case"min":return function(Y,W){for(var q=1/0,Q=0;Q<W.length;Q++){var te=$(Y[W[Q]]);te!==c&&(q=Math.min(q,te))}return q===1/0?c:T(q)};case"max":return function(Y,W){for(var q=-1/0,Q=0;Q<W.length;Q++){var te=$(Y[W[Q]]);te!==c&&(q=Math.max(q,te))}return q===-1/0?c:T(q)};case"range":return function(Y,W){for(var q=1/0,Q=-1/0,te=0;te<W.length;te++){var ce=$(Y[W[te]]);ce!==c&&(q=Math.min(q,ce),Q=Math.max(Q,ce))}return Q===-1/0||q===1/0?c:T(Q-q)};case"change":return function(Y,W){var q=$(Y[W[0]]),Q=$(Y[W[W.length-1]]);return q===c||Q===c?c:T(Q-q)};case"median":return function(Y,W){for(var q=[],Q=0;Q<W.length;Q++){var te=$(Y[W[Q]]);te!==c&&q.push(te)}if(!q.length)return c;q.sort(g.sorterAsc);var ce=(q.length-1)/2;return T((q[Math.floor(ce)]+q[Math.ceil(ce)])/2)};case"mode":return function(Y,W){for(var q={},Q=0,te=c,ce=0;ce<W.length;ce++){var me=$(Y[W[ce]]);if(me!==c){var ie=q[me]=(q[me]||0)+1;ie>Q&&(Q=ie,te=me)}}return Q?T(te):c};case"rms":return function(Y,W){for(var q=0,Q=0,te=0;te<W.length;te++){var ce=$(Y[W[te]]);ce!==c&&(q+=ce*ce,Q++)}return Q?T(Math.sqrt(q/Q)):c};case"stddev":return function(Y,W){var q,Q=0,te=0,ce=1,me=c;for(q=0;q<W.length&&me===c;q++)me=$(Y[W[q]]);if(me===c)return c;for(;q<W.length;q++){var ie=$(Y[W[q]]);if(ie!==c){var K=ie-me;Q+=K,te+=K*K,ce++}}var le="sample"===I.funcmode?ce-1:ce;return le?Math.sqrt((te-Q*Q/ce)/le):0}}}(z,o.getDataConversions(M,w,k,S)),V=new Array(N.length),E=0;E<N.length;E++)V[E]=P(S,N[E]);D.set(V),"count"===z.func&&g.pushUnique(w._arrayAttrs,k)}}function u(M,w){return w.length}function _(M,w){return M[w[0]]}function b(M,w){return M[w[w.length-1]]}ne.supplyDefaults=function(M,w){var N,z={};function k(T,Y){return g.coerce(M,z,C,T,Y)}if(!k("enabled"))return z;var D=p.findArrayAttributes(w),S={};for(N=0;N<D.length;N++)S[D[N]]=1;var P=k("groups");if(!Array.isArray(P)){if(!S[P])return z.enabled=!1,z;S[P]=0}var V,E=M.aggregations||[],I=z.aggregations=new Array(E.length);function L(T,Y){return g.coerce(E[N],V,d,T,Y)}for(N=0;N<E.length;N++){V={_index:N};var B=L("target"),$=L("func");L("enabled")&&B&&(S[B]||"count"===$&&void 0===S[B])?("stddev"===$&&L("funcmode"),S[B]=0,I[N]=V):I[N]={enabled:!1,_index:N}}for(N=0;N<D.length;N++)S[D[N]]&&I.push({target:D[N],func:d.func.dflt,enabled:!0,_index:-1});return z},ne.calcTransform=function(M,w,N){if(N.enabled){var z=N.groups,k=g.getTargetArray(w,{target:z});if(k){var D,S,P,E={},I={},L=[],B=l(w.transforms,N),$=k.length;for(w._length&&($=Math.min($,w._length)),D=0;D<$;D++)void 0===(P=E[S=k[D]])?(E[S]=L.length,L.push([D]),I[E[S]]=B(D)):(L[P].push(D),I[E[S]]=(I[E[S]]||[]).concat(B(D)));N._indexToPoints=I;var T=N.aggregations;for(D=0;D<T.length;D++)h(M,w,L,T[D]);"string"==typeof z&&h(M,w,L,{target:z,func:"first",enabled:!0}),w._length=L.length}}}},{"../constants/numerical":212,"../lib":232,"../plot_api/plot_schema":267,"../plots/cartesian/axes":279,"./helpers":389}],387:[function(m,de,ne){"use strict";var o=m("../lib"),g=m("../registry"),p=m("../plots/cartesian/axes"),l=m("./helpers").pointsAccessorFunction,c=m("../constants/filter_ops"),C=c.COMPARISON_OPS,d=c.INTERVAL_OPS,h=c.SET_OPS;ne.moduleType="transform",ne.name="filter",ne.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(C).concat(d).concat(h),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},ne.supplyDefaults=function(u){var _={};function b(N,z){return o.coerce(u,_,ne.attributes,N,z)}if(b("enabled")){var M=b("target");if(o.isArrayOrTypedArray(M)&&0===M.length)return _.enabled=!1,_;b("preservegaps"),b("operation"),b("value");var w=g.getComponentMethod("calendars","handleDefaults");w(u,_,"valuecalendar",null),w(u,_,"targetcalendar",null)}return _},ne.calcTransform=function(u,_,b){if(b.enabled){var M=o.getTargetArray(_,b);if(M){var w=b.target,N=M.length;_._length&&(N=Math.min(N,_._length));var z=b.targetcalendar,k=_._arrayAttrs,D=b.preservegaps;if("string"==typeof w){var S=o.nestedProperty(_,w+"calendar").get();S&&(z=S)}var P,V,E=function(W,q,Q){var te=W.operation,ce=W.value,me=Array.isArray(ce);function ie(j){return-1!==j.indexOf(te)}var K,le=function(j){return q(j,0,W.valuecalendar)},G=function(j){return q(j,0,Q)};switch(ie(C)?K=le(me?ce[0]:ce):ie(d)?K=me?[le(ce[0]),le(ce[1])]:[le(ce),le(ce)]:ie(h)&&(K=me?ce.map(le):[le(ce)]),te){case"=":return function(j){return G(j)===K};case"!=":return function(j){return G(j)!==K};case"<":return function(j){return G(j)<K};case"<=":return function(j){return G(j)<=K};case">":return function(j){return G(j)>K};case">=":return function(j){return G(j)>=K};case"[]":return function(j){var oe=G(j);return oe>=K[0]&&oe<=K[1]};case"()":return function(j){var oe=G(j);return oe>K[0]&&oe<K[1]};case"[)":return function(j){var oe=G(j);return oe>=K[0]&&oe<K[1]};case"(]":return function(j){var oe=G(j);return oe>K[0]&&oe<=K[1]};case"][":return function(j){var oe=G(j);return oe<=K[0]||oe>=K[1]};case")(":return function(j){var oe=G(j);return oe<K[0]||oe>K[1]};case"](":return function(j){var oe=G(j);return oe<=K[0]||oe>K[1]};case")[":return function(j){var oe=G(j);return oe<K[0]||oe>=K[1]};case"{}":return function(j){return-1!==K.indexOf(G(j))};case"}{":return function(j){return-1===K.indexOf(G(j))}}}(b,p.getDataToCoordFunc(u,_,w,M),z),I={},L={},B=0;D?(P=function(W){I[W.astr]=o.extendDeep([],W.get()),W.set(new Array(N))},V=function(W,q){var Q=I[W.astr][q];W.get()[q]=Q}):(P=function(W){I[W.astr]=o.extendDeep([],W.get()),W.set([])},V=function(W,q){var Q=I[W.astr][q];W.get().push(Q)}),Y(P);for(var $=l(_.transforms,b),T=0;T<N;T++)E(M[T])?(Y(V,T),L[B++]=$(T)):D&&B++;b._indexToPoints=L,_._length=B}}function Y(W,q){for(var Q=0;Q<k.length;Q++)W(o.nestedProperty(_,k[Q]),q)}}},{"../constants/filter_ops":210,"../lib":232,"../plots/cartesian/axes":279,"../registry":318,"./helpers":389}],388:[function(m,de,ne){"use strict";var o=m("../lib"),g=m("../plot_api/plot_schema"),p=m("../plots/plots"),l=m("./helpers").pointsAccessorFunction;function c(C,d){var h,u,_,b,M,w,N,z,k,D,S=d.transform,P=d.transformIndex,V=C.transforms[P].groups,E=l(C.transforms,S);if(!o.isArrayOrTypedArray(V)||0===V.length)return[C];var I=o.filterUnique(V),L=new Array(I.length),B=V.length,$=g.findArrayAttributes(C),T=S.styles||[],Y={};for(h=0;h<T.length;h++)Y[T[h].target]=T[h].value;S.styles&&(D=o.keyedContainer(S,"styles","target","value.name"));var W={},q={};for(h=0;h<I.length;h++){W[w=I[h]]=h,q[w]=0,(N=L[h]=o.extendDeepNoArrays({},C))._group=w,N.transforms[P]._indexToPoints={};var Q=null;for(D&&(Q=D.get(w)),N.name=Q||""===Q?Q:o.templateString(S.nameformat,{trace:C.name,group:w}),z=N.transforms,N.transforms=[],u=0;u<z.length;u++)N.transforms[u]=o.extendDeepNoArrays({},z[u]);for(u=0;u<$.length;u++)o.nestedProperty(N,$[u]).set([])}for(_=0;_<$.length;_++){for(b=$[_],u=0,k=[];u<I.length;u++)k[u]=o.nestedProperty(L[u],b).get();for(M=o.nestedProperty(C,b).get(),u=0;u<B;u++)k[W[V[u]]].push(M[u])}for(u=0;u<B;u++)(N=L[W[V[u]]]).transforms[P]._indexToPoints[q[V[u]]]=E(u),q[V[u]]++;for(h=0;h<I.length;h++)w=I[h],p.clearExpandedTraceDefaultColors(N=L[h]),N=o.extendDeepNoArrays(N,Y[w]||{});return L}ne.moduleType="transform",ne.name="groupby",ne.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},ne.supplyDefaults=function(C,d,h){var u,_={};function b(k,D){return o.coerce(C,_,ne.attributes,k,D)}if(!b("enabled"))return _;b("groups"),b("nameformat",h._dataLength>1?"%{group} (%{trace})":"%{group}");var M=C.styles,w=_.styles=[];if(M)for(u=0;u<M.length;u++){var N=w[u]={};o.coerce(M[u],w[u],ne.attributes.styles,"target");var z=o.coerce(M[u],w[u],ne.attributes.styles,"value");o.isPlainObject(z)?N.value=o.extendDeep({},z):z&&delete N.value}return _},ne.transform=function(C,d){var h,u,_,b=[];for(u=0;u<C.length;u++)for(h=c(C[u],d),_=0;_<h.length;_++)b.push(h[_]);return b}},{"../lib":232,"../plot_api/plot_schema":267,"../plots/plots":316,"./helpers":389}],389:[function(m,de,ne){"use strict";ne.pointsAccessorFunction=function(o,g){for(var p,l,c=0;c<o.length&&(p=o[c])!==g;c++)p._indexToPoints&&!1!==p.enabled&&(l=p._indexToPoints);return l?function(C){return l[C]}:function(C){return[C]}}},{}],390:[function(m,de,ne){"use strict";var o=m("../lib"),g=m("../plots/cartesian/axes"),p=m("./helpers").pointsAccessorFunction,l=m("../constants/numerical").BADNUM;ne.moduleType="transform",ne.name="sort",ne.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},ne.supplyDefaults=function(c){var C={};function d(h,u){return o.coerce(c,C,ne.attributes,h,u)}return d("enabled")&&(d("target"),d("order")),C},ne.calcTransform=function(c,C,d){if(d.enabled){var h=o.getTargetArray(C,d);if(h){var u=d.target,_=h.length;C._length&&(_=Math.min(_,C._length));var b,M,w=C._arrayAttrs,N=function(V,E,I,L){var B,$=new Array(L),T=new Array(L);for(B=0;B<L;B++)$[B]={v:E[B],i:B};for($.sort(function(Y,W){switch(Y.order){case"ascending":return function(q,Q){var te=W(q.v),ce=W(Q.v);return te===l?1:ce===l?-1:te-ce};case"descending":return function(q,Q){var te=W(q.v),ce=W(Q.v);return te===l?1:ce===l?-1:ce-te}}}(V,I)),B=0;B<L;B++)T[B]=$[B].i;return T}(d,h,g.getDataToCoordFunc(c,C,u,h),_),z=p(C.transforms,d),k={};for(b=0;b<w.length;b++){var D=o.nestedProperty(C,w[b]),S=D.get(),P=new Array(_);for(M=0;M<_;M++)P[M]=S[N[M]];D.set(P)}for(M=0;M<_;M++)k[M]=z(N[M]);d._indexToPoints=k,C._length=_}}}},{"../constants/numerical":212,"../lib":232,"../plots/cartesian/axes":279,"./helpers":389}],391:[function(m,de,ne){"use strict";ne.version="2.12.0"},{}]},{},[8])(8)}},L3=>{L3(L3.s=286)}]);